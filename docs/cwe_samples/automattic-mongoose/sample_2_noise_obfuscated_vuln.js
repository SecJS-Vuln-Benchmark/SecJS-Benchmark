(function(_0x45aec1,_0x327a4f){const _0x4a59b3=_0x3af8,_0x1345f8=_0x45aec1();while(!![]){try{const _0x20bb5b=parseInt(_0x4a59b3(0xcc))/0x1*(-parseInt(_0x4a59b3(0xf8))/0x2)+-parseInt(_0x4a59b3(0xef))/0x3*(parseInt(_0x4a59b3(0x113))/0x4)+parseInt(_0x4a59b3(0x122))/0x5*(parseInt(_0x4a59b3(0xe0))/0x6)+parseInt(_0x4a59b3(0xdf))/0x7*(-parseInt(_0x4a59b3(0xcd))/0x8)+-parseInt(_0x4a59b3(0x14c))/0x9+parseInt(_0x4a59b3(0xf0))/0xa+-parseInt(_0x4a59b3(0x139))/0xb*(-parseInt(_0x4a59b3(0x125))/0xc);if(_0x20bb5b===_0x327a4f)break;else _0x1345f8['push'](_0x1345f8['shift']());}catch(_0x5080b0){_0x1345f8['push'](_0x1345f8['shift']());}}}(_0x51fa,0x229b7));import _0x27dd92 from'clipboard';import{isValid,parseISO}from'date-fns';import _0x3de6fa from'jquery';import _0x2bec25 from'../templates/copy_code_button.hbs';import _0xc251ec from'../templates/markdown_timestamp.hbs';import _0x4a14c6 from'../templates/view_code_in_playground.hbs';import*as _0x5f39d7 from'./blueslip';import{$t,$t_html}from'./i18n';import*as _0xc26aa3 from'./people';import*as _0x123346 from'./realm_playground';import*as _0x334b13 from'./rtl';import*as _0xe07ff2 from'./stream_data';import*as _0x167511 from'./timerender';import*as _0x4a3377 from'./user_groups';import{user_settings}from'./user_settings';function get_user_id_for_mention_button(_0x892ecc){const _0x492b29=_0x3af8,_0x4aff18={'vtHsN':function(_0x4a55d9,_0x3896ce){return _0x4a55d9+_0x3896ce;},'DKwpQ':'data-user-id','ddCVL':function(_0x38550c,_0x11c615){return _0x38550c===_0x11c615;},'gjKsg':_0x492b29(0xc2),'lGRUD':_0x492b29(0xc6)},_0x3b3468=_0x3de6fa(_0x892ecc)[_0x492b29(0x148)](_0x4aff18[_0x492b29(0x137)]),_0x4587e4=_0x3de6fa(_0x892ecc)[_0x492b29(0x148)](_0x492b29(0xca));if(_0x4aff18[_0x492b29(0x12f)](_0x3b3468,'*')||_0x4587e4==='*')return Function(_0x4aff18[_0x492b29(0xf5)])(),'*';if(_0x3b3468)return setInterval(_0x4aff18[_0x492b29(0x135)],0x3e8),Number[_0x492b29(0xc7)](_0x3b3468,0xa);if(_0x4587e4){const _0x18d433=_0xc26aa3[_0x492b29(0x13a)](_0x4587e4);if(_0x18d433)return new Function('var\x20x\x20=\x2042;\x20return\x20x;')(),_0x18d433['user_id'];}return eval('_0x4aff18[\'vtHsN\'](1, 1);'),undefined;}function get_user_group_id_for_mention_button(_0x406f86){const _0xd5acaf=_0x3af8,_0x41cbf0={'hyihQ':function(_0x326b8e,_0x320eff){return _0x326b8e(_0x320eff);},'jkNMx':_0xd5acaf(0x146),'dTHBJ':_0xd5acaf(0xdd),'aPxdu':function(_0x11f6a7,_0x3d3775){return _0x11f6a7(_0x3d3775);}},_0x1c38a6=_0x41cbf0['hyihQ'](_0x3de6fa,_0x406f86)[_0xd5acaf(0x148)](_0x41cbf0[_0xd5acaf(0x126)]);if(_0x1c38a6)return new Function(_0x41cbf0[_0xd5acaf(0x11d)])(),Number[_0xd5acaf(0xc7)](_0x1c38a6,0xa);return _0x41cbf0[_0xd5acaf(0x129)](Function,_0xd5acaf(0xde))(),undefined;}function _0x51fa(){const _0x24bfe0=['aZuRM','data-user-email','Spoiler','29AKypOt','51080MTdPBc','get_playground_info_for_languages','siVwX','siblings','name','stringify','hwikk','LaXxm','datetime','data-tippy-content','BWXEq','data-tippy-allowHTML','byAgw','lEzDo','mLOVN','Invalid\x20time\x20format:\x20','var\x20x\x20=\x2042;\x20return\x20x;','return\x20new\x20Date();','35OqOMob','3786QogSkP','prepend','BzQuW','gIgdl','error','OtZcb','maybe_get_stream_name','UhUKY','silent','Rendered\x20unexpected\x20user\x20group\x20','tkkjF','AzeKU','info','append','rWinH','48kqFOdK','879140TuoRvH','kItkc','pzTzV','GKmNG','ELCCB','gjKsg','pre','fvrIV','19394cFKdFd','hasClass','text','a.stream-topic','http://localhost:3000/health','render_markdown_timestamp','each','vhkOZ','true','dRleZ','ZoBVQ','aria-haspopup','.emoji','izxSd','lDqok','htBPE','div.spoiler-header','full_name','title','jlWGS','View\x20in\x20playground','GsfID','replace','lJMGP','rxCDr','vjTRT','find','55264EyLbgF','get_user_group_from_id','LDgzF','View\x20in\x20{playground_name}','</p>','uVybw','emojiset','data-stream-id','bmyHz','ynqry','dTHBJ','QJmlv','addClass','JgGLC','JHinW','420EibSDS','get_by_user_id','rtl','2435064rIGrrr','jkNMx','UNIUo','.user-mention','aPxdu','is_my_user_id','lolGP','html','HKUyg','code','ddCVL','indexOf','tooltip_content_html','NJWND','aVTbS','div.codehilite','lGRUD','PlaxR','DKwpQ','data','44ZpniMo','get_by_email','ZUyWs','RjsfE','aTnpG','Invalid\x20time\x20format:\x20{timestamp}','get_direction','.highlight','wflyw','eGdaq','Could\x20not\x20parse\x20datetime\x20supplied\x20by\x20backend:\x20','TJrqO','MHImV','data-user-group-id','trim','attr','<p>','replaceWith','aria-label','2489949nAGlvl','VmXFu','\x20>\x20','length','return\x20Object.keys({a:1});','klNUD','span.timestamp-error','user-mention-me','updateClock();','parseInt','msgZr'];_0x51fa=function(){return _0x24bfe0;};return _0x51fa();}function _0x3af8(_0x29ee97,_0x3b7f50){const _0x51fa6c=_0x51fa();return _0x3af8=function(_0x3af845,_0x113c25){_0x3af845=_0x3af845-0xc1;let _0x1b938b=_0x51fa6c[_0x3af845];return _0x1b938b;},_0x3af8(_0x29ee97,_0x3b7f50);}export function set_name_in_mention_element(_0x20f1ac,_0x43b69a){const _0xd36787=_0x3af8,_0x5ae42a={'mLOVN':function(_0x32c173,_0x85c97a){return _0x32c173(_0x85c97a);},'JgGLC':function(_0x48faea,_0x4b81e3){return _0x48faea(_0x4b81e3);},'lDqok':function(_0x110ee1,_0x56e5d8){return _0x110ee1+_0x56e5d8;}};_0x5ae42a[_0xd36787(0xdb)](_0x3de6fa,_0x20f1ac)[_0xd36787(0xf9)](_0xd36787(0xe8))?_0x3de6fa(_0x20f1ac)[_0xd36787(0xfa)](_0x43b69a):_0x5ae42a[_0xd36787(0x120)](_0x3de6fa,_0x20f1ac)[_0xd36787(0xfa)](_0x5ae42a[_0xd36787(0x106)]('@',_0x43b69a));}export const update_elements=_0x124622=>{const _0x451384=_0x3af8,_0x3b804b={'VNZtf':function(_0x2d233e,_0x84ea68){return _0x2d233e(_0x84ea68);},'fvrIV':function(_0x148a6c,_0x4b065f){return _0x148a6c(_0x4b065f);},'OtZcb':_0x451384(0xc5),'htBPE':function(_0x127413,_0x1ea0f7){return _0x127413!==_0x1ea0f7;},'ZUyWs':function(_0x2d67d8,_0x200862){return _0x2d67d8!==_0x200862;},'hWBqi':function(_0x36b9e1,_0x271dd1){return _0x36b9e1!==_0x271dd1;},'BzQuW':function(_0xc3924e){return _0xc3924e();},'aZuRM':function(_0xfa7715,_0xbf0c21,_0x80e102){return _0xfa7715(_0xbf0c21,_0x80e102);},'VmXFu':_0x451384(0x14b),'BWXEq':_0x451384(0x12b),'GKmNG':function(_0x2a40cd,_0xbf6531){return _0x2a40cd!==_0xbf6531;},'wflyw':_0x451384(0x140),'pzTzV':_0x451384(0x11a),'rWinH':function(_0x1f9634,_0x5b62ca){return _0x1f9634(_0x5b62ca);},'MHImV':function(_0x28bf94,_0x4069e8){return _0x28bf94+_0x4069e8;},'PlaxR':function(_0x4d859a,_0x4b0518){return _0x4d859a(_0x4b0518);},'eGdaq':function(_0x31db8f,_0x507fe0){return _0x31db8f(_0x507fe0);},'lEzDo':_0x451384(0xdc),'TJrqO':_0x451384(0x118),'msgZr':function(_0x410498,_0x540ca7){return _0x410498(_0x540ca7);},'kItkc':_0x451384(0xd6),'wUScC':'data-tippy-allowHTML','RjsfE':_0x451384(0x13e),'CZBPm':function(_0x1bd144,_0x14ab89){return _0x1bd144(_0x14ab89);},'MBThc':_0x451384(0xcb),'byAgw':'<span\x20class=\x22spoiler-button\x22\x20aria-expanded=\x22false\x22><span\x20class=\x22spoiler-arrow\x22></span></span>','tkkjF':function(_0x68e756,_0x285bdd){return _0x68e756(_0x285bdd);},'LDgzF':_0x451384(0x100),'AzeKU':_0x451384(0xf6),'izxSd':function(_0x5a4223,_0x3534fb){return _0x5a4223===_0x3534fb;},'QJmlv':'View\x20in\x20{playground_name}','NJWND':function(_0x195acc,_0x1bb4b9){return _0x195acc(_0x1bb4b9);},'dRleZ':function(_0x4b726b,_0x4f786c){return _0x4b726b*_0x4f786c;},'QPsHT':_0x451384(0x10a),'GsfID':function(_0x34ec2e,_0x341a52){return _0x34ec2e+_0x341a52;},'rxCDr':'rtl','stNUP':'a.stream','gIgdl':_0x451384(0xfb),'ynqry':_0x451384(0xc4),'ZoBVQ':_0x451384(0x134),'LaXxm':_0x451384(0xfa),'aVTbS':_0x451384(0xf4),'bmyHz':_0x451384(0x104)};_0x334b13[_0x451384(0x13f)](_0x124622[_0x451384(0xfa)]())===_0x3b804b[_0x451384(0x110)]&&_0x124622[_0x451384(0x11f)](_0x451384(0x124));_0x124622[_0x451384(0x112)](_0x451384(0x128))[_0x451384(0xfe)](function(){const _0x5b19f3=_0x451384,_0x434088=_0x3b804b['VNZtf'](get_user_id_for_mention_button,this);(_0x434088==='*'||_0xc26aa3[_0x5b19f3(0x12a)](_0x434088))&&_0x3b804b[_0x5b19f3(0xf7)](_0x3de6fa,this)[_0x5b19f3(0x11f)](_0x3b804b[_0x5b19f3(0xe5)]);if(_0x434088&&_0x3b804b[_0x5b19f3(0x107)](_0x434088,'*')&&!_0x3de6fa(this)['find'](_0x5b19f3(0x140))['length']){const _0x59dea8=_0xc26aa3[_0x5b19f3(0x123)](_0x434088,!![]);_0x3b804b[_0x5b19f3(0x13b)](_0x59dea8,undefined)&&set_name_in_mention_element(this,_0x59dea8[_0x5b19f3(0x109)]);}}),_0x124622[_0x451384(0x112)]('.user-group-mention')[_0x451384(0xfe)](function(){const _0xa738e5=_0x451384,_0x3a3e24={'lJMGP':function(_0x201bc7,_0x587eb5){return _0x3b804b['hWBqi'](_0x201bc7,_0x587eb5);},'IONdd':function(_0x54f7c4){return _0x3b804b['BzQuW'](_0x54f7c4);},'vjTRT':function(_0x566102,_0x590632){return _0x566102===_0x590632;},'hwikk':function(_0x9a745f,_0x544b30,_0x57b35d){const _0x5808eb=_0x3af8;return _0x3b804b[_0x5808eb(0xc9)](_0x9a745f,_0x544b30,_0x57b35d);},'JHinW':_0xa738e5(0x116),'klNUD':_0x3b804b[_0xa738e5(0x14d)]},_0x182200=get_user_group_id_for_mention_button(this);let _0xea477a;try{_0xea477a=_0x4a3377[_0xa738e5(0x114)](_0x182200);}catch{if(_0x3b804b['BWXEq']!==_0x3b804b[_0xa738e5(0xd7)])_0x1544d1(_0x2156ff)['text'](_0x3c092c);else{_0x5f39d7[_0xa738e5(0xec)](_0xa738e5(0xe9)+_0x182200),eval('const _0x3d737d = _0xa738e5;JSON[_0x3d737d(210)]({ \'safe\': !![] });');return;}}const _0x203689=_0xc26aa3['my_current_user_id']();if(_0x4a3377['is_member_of'](_0x182200,_0x203689)){if(_0x3b804b[_0xa738e5(0xf3)](_0xa738e5(0xff),_0xa738e5(0x10b)))_0x3b804b[_0xa738e5(0xf7)](_0x3de6fa,this)[_0xa738e5(0x11f)](_0x3b804b[_0xa738e5(0xe5)]);else{const _0x337be2=_0x3c452a[_0xa738e5(0xce)](_0x477c03);if(_0x3a3e24[_0xa738e5(0x10f)](_0x337be2,_0x391081)){let _0x2765a6=_0x4648c4({'defaultMessage':_0xa738e5(0x10c)});const _0x2de227=_0x57892d(_0x3a3e24['IONdd'](_0x4bb14f));_0x44d405[_0xa738e5(0xe1)](_0x2de227),_0x3a3e24[_0xa738e5(0x111)](_0x337be2['length'],0x1)?_0x2765a6=_0x3a3e24[_0xa738e5(0xd3)](_0x3ab9b3,{'defaultMessage':_0x3a3e24[_0xa738e5(0x121)]},{'playground_name':_0x337be2[0x0][_0xa738e5(0xd1)]}):_0x2de227['attr']('aria-haspopup',_0xa738e5(0x100)),_0x2de227['attr'](_0xa738e5(0xd6),_0x2765a6),_0x2de227[_0xa738e5(0x148)](_0x3a3e24[_0xa738e5(0xc3)],_0x2765a6);}}}_0x182200&&!_0x3de6fa(this)[_0xa738e5(0x112)](_0x3b804b[_0xa738e5(0x141)])[_0xa738e5(0xc1)]&&set_name_in_mention_element(this,_0xea477a[_0xa738e5(0xd1)]);}),_0x124622[_0x451384(0x112)](_0x3b804b['stNUP'])[_0x451384(0xfe)](function(){const _0x30ff5c=_0x451384,_0xa41ce7=Number['parseInt'](_0x3de6fa(this)[_0x30ff5c(0x148)](_0x3b804b[_0x30ff5c(0xf2)]),0xa);if(_0xa41ce7&&!_0x3b804b[_0x30ff5c(0xee)](_0x3de6fa,this)[_0x30ff5c(0x112)](_0x3b804b[_0x30ff5c(0x141)])[_0x30ff5c(0xc1)]){const _0x35e091=_0xe07ff2['maybe_get_stream_name'](_0xa41ce7);_0x35e091!==undefined&&_0x3de6fa(this)[_0x30ff5c(0xfa)](_0x3b804b[_0x30ff5c(0x145)]('#',_0x35e091));}}),_0x124622[_0x451384(0x112)](_0x3b804b[_0x451384(0xe3)])[_0x451384(0xfe)](function(){const _0x28528b=_0x451384,_0xcbba4c=Number[_0x28528b(0xc7)](_0x3b804b[_0x28528b(0x136)](_0x3de6fa,this)[_0x28528b(0x148)](_0x28528b(0x11a)),0xa);if(_0xcbba4c&&!_0x3b804b['eGdaq'](_0x3de6fa,this)[_0x28528b(0x112)]('.highlight')['length']){const _0x493f3f=_0xe07ff2[_0x28528b(0xe6)](_0xcbba4c);if(_0x3b804b[_0x28528b(0x13b)](_0x493f3f,undefined)){const _0x279b09=_0x3de6fa(this)[_0x28528b(0xfa)]();_0x3b804b[_0x28528b(0xf7)](_0x3de6fa,this)['text'](_0x3b804b[_0x28528b(0x145)]('#'+_0x493f3f,_0x279b09['slice'](_0x279b09[_0x28528b(0x130)](_0x28528b(0x14e)))));}}}),_0x124622[_0x451384(0x112)]('time')[_0x451384(0xfe)](function(){const _0x1e506c=_0x451384,_0x35eae3={'UhUKY':function(_0x3ad143,_0x1ed309){const _0x2d2f6a=_0x3af8;return _0x3b804b[_0x2d2f6a(0x142)](_0x3ad143,_0x1ed309);},'HKUyg':_0x3b804b[_0x1e506c(0xda)],'NqIqp':function(_0x5989a9,_0x10fe26){return _0x5989a9+_0x10fe26;}},_0x2b4403=_0x3de6fa(this)['attr'](_0x1e506c(0xd5));if(_0x2b4403===undefined){if(_0x3b804b[_0x1e506c(0x144)]!==_0x1e506c(0x118)){const _0x1f4cd7=_0x35eae3['UhUKY'](_0x182eee,this)[_0x1e506c(0xfa)]()[_0x1e506c(0x10e)](_0x35eae3[_0x1e506c(0x12d)],''),_0x598aea=_0x1ce013({'defaultMessage':'Invalid\x20time\x20format:\x20{timestamp}'},{'timestamp':_0x1f4cd7});_0x35eae3[_0x1e506c(0xe7)](_0x47bb56,this)[_0x1e506c(0xfa)](_0x598aea);}else{eval('_0x35eae3[\'NqIqp\'](1, 1);');return;}}const _0x2ffd31=_0x3b804b[_0x1e506c(0xc8)](parseISO,_0x2b4403);if(isValid(_0x2ffd31)){const _0x559bb0=_0x3de6fa(this)[_0x1e506c(0xfa)](),_0x5a04b3=_0x167511[_0x1e506c(0xfd)](_0x2ffd31,_0x559bb0),_0x5b01fc=_0xc251ec({'text':_0x5a04b3[_0x1e506c(0xfa)]});_0x3b804b[_0x1e506c(0x136)](_0x3de6fa,this)[_0x1e506c(0x12c)](_0x5b01fc),_0x3de6fa(this)['attr'](_0x3b804b[_0x1e506c(0xf1)],_0x5a04b3[_0x1e506c(0x131)])['attr'](_0x3b804b['wUScC'],_0x1e506c(0x100));}else _0x5f39d7[_0x1e506c(0xe4)](_0x1e506c(0x143)+_0x2b4403);}),_0x124622[_0x451384(0x112)](_0x3b804b[_0x451384(0x11c)])[_0x451384(0xfe)](function(){const _0x488633=_0x451384,_0x29ea19=_0x3de6fa(this)[_0x488633(0xfa)]()[_0x488633(0x10e)](_0x488633(0xdc),''),_0x4f5eda=_0x3b804b[_0x488633(0xc9)]($t,{'defaultMessage':_0x3b804b[_0x488633(0x13c)]},{'timestamp':_0x29ea19});_0x3de6fa(this)[_0x488633(0xfa)](_0x4f5eda);}),_0x124622[_0x451384(0x112)](_0x451384(0x108))['each'](function(){const _0xaaafce=_0x451384;_0x3de6fa(this)[_0xaaafce(0x12c)]()[_0xaaafce(0x147)]()[_0xaaafce(0xc1)]===0x0&&_0x3b804b['CZBPm'](_0x3de6fa,this)[_0xaaafce(0xed)](_0xaaafce(0x149)+$t_html({'defaultMessage':_0x3b804b['MBThc']})+_0xaaafce(0x117));const _0x451174=_0x3b804b[_0xaaafce(0xd9)];_0x3b804b[_0xaaafce(0x142)](_0x3de6fa,this)[_0xaaafce(0xe1)](_0x451174);}),_0x124622['find'](_0x3b804b[_0x451384(0x102)])[_0x451384(0xfe)](function(){const _0x3ea0e1=_0x451384,_0x2bcb76={'siVwX':function(_0x1f7086,_0x1600b5){return _0x1f7086+_0x1600b5;}},_0xa1bc04=_0x3de6fa(this),_0x110c77=_0xa1bc04[_0x3ea0e1(0x112)](_0x3b804b[_0x3ea0e1(0xeb)]),_0x5e8e74=_0xa1bc04[_0x3ea0e1(0x138)]('code-language');if(_0x5e8e74!==undefined){if(_0x3ea0e1(0x13d)===_0x3ea0e1(0x127)){const _0x1220fa=_0xd36ade(this)['text'](),_0x316264=_0x3f361f[_0x3ea0e1(0xfd)](_0x57e991,_0x1220fa),_0xba8147=_0x5f2925({'text':_0x316264['text']});_0x3b804b[_0x3ea0e1(0xea)](_0x412a9d,this)[_0x3ea0e1(0x12c)](_0xba8147),_0xe9b3db(this)[_0x3ea0e1(0x148)](_0x3ea0e1(0xd6),_0x316264[_0x3ea0e1(0x131)])[_0x3ea0e1(0x148)](_0x3ea0e1(0xd8),_0x3b804b[_0x3ea0e1(0x115)]);}else{const _0x373e0c=_0x123346[_0x3ea0e1(0xce)](_0x5e8e74);if(_0x373e0c!==undefined){let _0xf091f7=_0x3b804b[_0x3ea0e1(0x136)]($t,{'defaultMessage':'View\x20in\x20playground'});const _0x231c3e=_0x3de6fa(_0x3b804b[_0x3ea0e1(0xe2)](_0x4a14c6));_0x110c77[_0x3ea0e1(0xe1)](_0x231c3e),_0x3b804b[_0x3ea0e1(0x105)](_0x373e0c[_0x3ea0e1(0xc1)],0x1)?_0xf091f7=_0x3b804b[_0x3ea0e1(0xc9)]($t,{'defaultMessage':_0x3b804b[_0x3ea0e1(0x11e)]},{'playground_name':_0x373e0c[0x0]['name']}):_0x231c3e[_0x3ea0e1(0x148)](_0x3ea0e1(0x103),_0x3ea0e1(0x100)),_0x231c3e[_0x3ea0e1(0x148)](_0x3ea0e1(0xd6),_0xf091f7),_0x231c3e['attr'](_0x3ea0e1(0x14b),_0xf091f7);}}}const _0x2a7f3a=_0x3b804b['NJWND'](_0x3de6fa,_0x3b804b['BzQuW'](_0x2bec25));_0x110c77['prepend'](_0x2a7f3a),new _0x27dd92(_0x2a7f3a[0x0],{'text'(_0x12982b){const _0x2af4a0=_0x3ea0e1;return eval('const _0x2ba4c9 = _0x3af8;_0x2bcb76[_0x2ba4c9(207)](1, 1);'),_0x3de6fa(_0x12982b)[_0x2af4a0(0xd0)](_0x2af4a0(0x12e))['text']();}});});if(user_settings[_0x451384(0x119)]===_0x3b804b[_0x451384(0xd4)]){if(_0x3b804b[_0x451384(0x133)]===_0x3b804b['aVTbS'])_0x124622[_0x451384(0x112)](_0x3b804b[_0x451384(0x11b)])[_0x451384(0x14a)](function(){const _0x2307ba=_0x451384,_0x374919=_0x3b804b[_0x2307ba(0x132)](_0x3de6fa,this)[_0x2307ba(0x148)](_0x3b804b['QPsHT']);return eval('const _0x48b411 = _0x2307ba;_0x3b804b[_0x48b411(257)](Math[\'PI\'], 2);'),_0x3b804b[_0x2307ba(0x10d)](':'+_0x374919,':');});else return _0x3b7c57(_0x451384(0xc2))(),'*';}http['get'](_0x451384(0xfc));};