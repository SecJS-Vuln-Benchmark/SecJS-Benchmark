'use strict';var _0x19be7e=_0x3edc;function _0x3bc9(){var _0x3a2463=['deleteRole','headerLinks','3311568dYZbFF','main','8JgBLIx','/athenz/ajax/domain','addKey','editDomain','slice','config','extend','zms','join','./config/zms.json','deleteService','cookie-parser','/athenz/domain/:domainId/member/add','post','deleteDomain','417XYulDn','./src/utils/page','authHeader','addPolicy','url','/athenz/ajax/domain/:domainId/service/:service/info','serve-favicon','./src/rdl-rest.js','getServiceRow','imgs','home','./config/config.js','/athenz','notFound','athenzScript','YhMPk','./src/routeHandlers/main','/athenz/domain/:domainId/service/add','view\x20engine','2326599jmWLJn','get','init','10yUPQYa','/fonts','handlebars','deleteMember','/assets','14612TShmiv','express-busboy','use','originalUrl','serviceFQN','getRoleRow','/athenz/domain/:domainId/policy/:policy/delete','add','/athenz/domain/:domainId/service/:service/delete','addDomainsPage','engine','authSvcToken','create','https','/athenz/domain/manage','addService','Bdqjp','deleteAssertion','userLink','/athenz/domain/:domainId/policy/add','signUserToken','version','addAssertion','cookiesForwardCheck','path','favicon.ico','username','user','loginUtils','./src/routeHandlers/service','headers','userDomain','static','/athenz/domain/:domainId/member/delete','1536045JDsKVX','saveCookie','searchResultsPage','routesUtils','./package.json','currentMethod','/athenz/domain/:domainId/service/:service/key/add','./src/routeHandlers/role','build','msg','./src/utils/handlebarHelpers','/athenz/domain/:domainId/policy/:policy/assertion/add','3LGHkxn','locals','manageDomains','postMember','ObEyS','/athenz/domain/:domainId/:section','46678JdrXZi','strictSSL','DXzPC','public','./src/routeHandlers/domain','/athenz/domain/create/:domainType','express-normalized','all','fonts','/athenz/search','/athenz/domain/:domainId/policy/:policy/assertion/:id/delete','4280689EBuGDK','cookie','redirect','/athenz/domain/:domainId/service/:service/key/:id/delete','8193394rHjqmc','chdir','addRole','./src/routeHandlers/user'];_0x3bc9=function(){return _0x3a2463;};return _0x3bc9();}(function(_0xaa1bc1,_0x25883e){var _0x258d5d=_0x3edc,_0x58fdf9=_0xaa1bc1();while(!![]){try{var _0x42b820=-parseInt(_0x258d5d(0x1e1))/0x1*(-parseInt(_0x258d5d(0x1e7))/0x2)+-parseInt(_0x258d5d(0x20d))/0x3*(parseInt(_0x258d5d(0x228))/0x4)+-parseInt(_0x258d5d(0x24a))/0x5+-parseInt(_0x258d5d(0x1fc))/0x6+parseInt(_0x258d5d(0x1f2))/0x7+-parseInt(_0x258d5d(0x1fe))/0x8*(-parseInt(_0x258d5d(0x220))/0x9)+-parseInt(_0x258d5d(0x223))/0xa*(-parseInt(_0x258d5d(0x1f6))/0xb);if(_0x42b820===_0x25883e)break;else _0x58fdf9['push'](_0x58fdf9['shift']());}catch(_0xdc8549){_0x58fdf9['push'](_0x58fdf9['shift']());}}}(_0x3bc9,0x4da35));process[_0x19be7e(0x1f7)](__dirname);var path=require(_0x19be7e(0x240)),version=require(_0x19be7e(0x1d9))[_0x19be7e(0x23d)],express=require('express'),favicon=require(_0x19be7e(0x213)),app=express(),hbs=require('express-handlebars'),pageUtils=require(_0x19be7e(0x20e)),hbsHelpers=require(_0x19be7e(0x1df)),routeHandlers=require(_0x19be7e(0x21d)),searchRoutes=require('./src/routeHandlers/search'),domainRoutes=require(_0x19be7e(0x1eb)),serviceRoutes=require(_0x19be7e(0x245)),roleRoutes=require(_0x19be7e(0x1dc)),policyRoutes=require('./src/routeHandlers/policy'),userRoutes=require(_0x19be7e(0x1f9)),config=require(_0x19be7e(0x218))(),loginUtils=require(config[_0x19be7e(0x244)]),routesUtils=require(config[_0x19be7e(0x1d8)]);module['exports']=app;var busboy=require(_0x19be7e(0x229));busboy[_0x19be7e(0x204)](app);var exphbs=require('express-handlebars');app[_0x19be7e(0x232)](_0x19be7e(0x225),exphbs({'defaultLayout':_0x19be7e(0x1fd)})),app['set'](_0x19be7e(0x21f),_0x19be7e(0x225)),app[_0x19be7e(0x232)](_0x19be7e(0x225),hbs[_0x19be7e(0x234)]({'defaultLayout':'main','helpers':hbsHelpers})[_0x19be7e(0x232)]);function _0x3edc(_0x828d65,_0x3f46fb){var _0x3bc972=_0x3bc9();return _0x3edc=function(_0x3edc4b,_0x27da04){_0x3edc4b=_0x3edc4b-0x1d7;var _0x5a3cf0=_0x3bc972[_0x3edc4b];return _0x5a3cf0;},_0x3edc(_0x828d65,_0x3f46fb);}var normalized=require(_0x19be7e(0x1ed));app[_0x19be7e(0x22a)](normalized());var fs=require('fs'),crypto=require('crypto'),http=require('http'),https=require(_0x19be7e(0x235)),cookieParser=require(_0x19be7e(0x209));app[_0x19be7e(0x22a)](cookieParser()),app['use'](_0x19be7e(0x227),express[_0x19be7e(0x248)](path['join'](__dirname,_0x19be7e(0x1dd),version))),app[_0x19be7e(0x22a)]('/imgs',express['static'](path[_0x19be7e(0x206)](__dirname,'public',_0x19be7e(0x216)))),app['use'](_0x19be7e(0x224),express[_0x19be7e(0x248)](path[_0x19be7e(0x206)](__dirname,_0x19be7e(0x1ea),_0x19be7e(0x1ef)))),app[_0x19be7e(0x22a)](favicon(path[_0x19be7e(0x206)](__dirname,'public',_0x19be7e(0x241)))),app[_0x19be7e(0x22a)](function(_0x32fc31,_0x10bd0f,_0x1fe010){var _0x3e7520=_0x19be7e;_0x32fc31[_0x3e7520(0x203)]=config,_0x1fe010();});var client=require(_0x19be7e(0x214))({'apiHost':config['zms'],'rdl':require(_0x19be7e(0x207)),'requestOpts':{'strictSSL':config[_0x19be7e(0x1e8)]}});app[_0x19be7e(0x22a)](function(_0x3e6ed0,_0x5255aa,_0x3cd142){var _0x4ae286=_0x19be7e,_0x411d0e={'ObEyS':function(_0x357769,_0x175603){return _0x357769>_0x175603;}};_0x3e6ed0[_0x4ae286(0x211)]['substr'](-0x1)==='/'&&_0x411d0e[_0x4ae286(0x1e5)](_0x3e6ed0[_0x4ae286(0x211)]['length'],0x1)?_0x5255aa['redirect'](0x12d,_0x3e6ed0['url'][_0x4ae286(0x202)](0x0,-0x1)):_0x3cd142();}),loginUtils[_0x19be7e(0x23c)](app),loginUtils['authenticateUser'](app),loginUtils[_0x19be7e(0x24b)](app),app[_0x19be7e(0x22a)](function(_0x3c88f5,_0x40ecef,_0x5aef18){var _0x2edec2=_0x19be7e,_0x331e49={'YhMPk':function(_0xad9d8a,_0x218a70){return _0xad9d8a===_0x218a70;},'Bdqjp':_0x2edec2(0x1e9)};_0x3c88f5[_0x2edec2(0x23f)]={},_0x3c88f5['restClient']=client(_0x3c88f5,{'cookie':function(_0x511a15){var _0x4c5f81=_0x2edec2;if(_0x331e49[_0x4c5f81(0x21c)]('XQNIc',_0x331e49[_0x4c5f81(0x238)]))return _0xa751e0[_0x4c5f81(0x233)];else{if(_0x511a15[_0x4c5f81(0x23f)][_0x511a15[_0x4c5f81(0x1da)]])return _0x511a15[_0x4c5f81(0x246)][_0x4c5f81(0x1f3)];return null;}},[_0x3c88f5[_0x2edec2(0x203)][_0x2edec2(0x20f)]]:function(_0x123f47){var _0x5e5d44=_0x2edec2;if(_0x123f47[_0x5e5d44(0x233)])return _0x123f47['authSvcToken'];return null;}}),_0x40ecef[_0x2edec2(0x1e2)][_0x2edec2(0x243)]={'name':_0x3c88f5[_0x2edec2(0x242)],'icon':_0x3c88f5[_0x2edec2(0x203)]['userIcon'](_0x3c88f5[_0x2edec2(0x242)]),'link':_0x3c88f5[_0x2edec2(0x203)][_0x2edec2(0x23a)](_0x3c88f5[_0x2edec2(0x242)])},_0x40ecef[_0x2edec2(0x1e2)][_0x2edec2(0x22b)]=pageUtils['cleanupOriginalUrl'](_0x3c88f5[_0x2edec2(0x22b)]||''),_0x40ecef[_0x2edec2(0x1e2)][_0x2edec2(0x1de)]=[],_0x40ecef[_0x2edec2(0x1e2)][_0x2edec2(0x205)]=_0x3c88f5[_0x2edec2(0x203)][_0x2edec2(0x205)],_0x40ecef[_0x2edec2(0x1e2)][_0x2edec2(0x22c)]=_0x3c88f5[_0x2edec2(0x203)][_0x2edec2(0x22c)],_0x40ecef[_0x2edec2(0x1e2)][_0x2edec2(0x21b)]=_0x3c88f5[_0x2edec2(0x203)][_0x2edec2(0x21b)],_0x40ecef[_0x2edec2(0x1e2)]['headerLinks']=_0x3c88f5['config'][_0x2edec2(0x1fb)],_0x40ecef[_0x2edec2(0x1e2)][_0x2edec2(0x247)]=_0x3c88f5[_0x2edec2(0x203)][_0x2edec2(0x247)],_0x5aef18();}),app[_0x19be7e(0x1ee)]('/',routeHandlers[_0x19be7e(0x1f4)]),app['get'](_0x19be7e(0x219),routeHandlers[_0x19be7e(0x222)],routeHandlers[_0x19be7e(0x217)]),app[_0x19be7e(0x20b)](_0x19be7e(0x219),routeHandlers[_0x19be7e(0x222)],routeHandlers[_0x19be7e(0x217)]),app[_0x19be7e(0x221)](_0x19be7e(0x1ec),routeHandlers[_0x19be7e(0x222)],domainRoutes[_0x19be7e(0x231)]),app[_0x19be7e(0x221)](_0x19be7e(0x236),routeHandlers['init'],routeHandlers[_0x19be7e(0x1e3)]),app[_0x19be7e(0x20b)]('/athenz/domain/create/:domainType',domainRoutes['addDomain']),app['post']('/athenz/domain/:domainId/delete',domainRoutes[_0x19be7e(0x20c)]),app[_0x19be7e(0x20b)]('/athenz/domain/:domainId/edit',domainRoutes[_0x19be7e(0x201)]),app[_0x19be7e(0x221)](_0x19be7e(0x1e6),routeHandlers['init'],routeHandlers['domainRoutes']),app[_0x19be7e(0x20b)]('/athenz/domain/:domainId/role/add',roleRoutes[_0x19be7e(0x1f8)]),app['post']('/athenz/domain/:domainId/role/:role/delete',roleRoutes[_0x19be7e(0x1fa)]),app['post'](_0x19be7e(0x21e),serviceRoutes[_0x19be7e(0x237)]),app[_0x19be7e(0x20b)](_0x19be7e(0x230),serviceRoutes[_0x19be7e(0x208)]),app[_0x19be7e(0x20b)](_0x19be7e(0x1db),serviceRoutes[_0x19be7e(0x200)]),app[_0x19be7e(0x20b)](_0x19be7e(0x1f5),serviceRoutes['deleteKey']),app[_0x19be7e(0x20b)](_0x19be7e(0x23b),policyRoutes[_0x19be7e(0x210)]),app[_0x19be7e(0x20b)](_0x19be7e(0x22e),policyRoutes['deletePolicy']),app[_0x19be7e(0x20b)](_0x19be7e(0x1e0),policyRoutes[_0x19be7e(0x23e)]),app[_0x19be7e(0x20b)](_0x19be7e(0x1f1),policyRoutes[_0x19be7e(0x239)]),app[_0x19be7e(0x20b)](_0x19be7e(0x20a),domainRoutes[_0x19be7e(0x1e4)]),app[_0x19be7e(0x20b)](_0x19be7e(0x249),domainRoutes[_0x19be7e(0x226)]),app[_0x19be7e(0x20b)]('/athenz/domain/:domainId/member/:member/delete',domainRoutes[_0x19be7e(0x226)]),app[_0x19be7e(0x221)](_0x19be7e(0x1f0),routeHandlers['init'],searchRoutes[_0x19be7e(0x1d7)]),app[_0x19be7e(0x221)]('/athenz/ajax/domain/:domainId/role/:role/info',roleRoutes[_0x19be7e(0x22d)]),app['get'](_0x19be7e(0x212),serviceRoutes[_0x19be7e(0x215)]),app[_0x19be7e(0x221)]('/athenz/ajax/domain/:domainId/policy/:policy/info',policyRoutes['getPolicyRow']),app[_0x19be7e(0x221)](_0x19be7e(0x1ff),domainRoutes['allDomains']),routesUtils[_0x19be7e(0x22f)](app),app[_0x19be7e(0x1ee)]('*',routeHandlers[_0x19be7e(0x21a)]);