const _0x3e81f9=_0x2443;function _0x3bb7(){const _0x56c424=['link','26250DOSXas','416583GBQbfp','../lib/Config','382956CBPquj','http://www.example.com','Voepb','eTWMJ','http://someother.example.com/handle-parse-iframe','User','EpVUE','xznfo','hflpL','UserController','1645020izhbkV','toBeDefined','toBe','cNiBz','setUsername','FrBYF','../lib/Auth','find','1356agmKAL','spSWK','setEmail','parseFrameURL\x20provided','uses\x20parseFrameURL\x20and\x20includes\x20the\x20destination\x20in\x20the\x20link\x20parameter','13656HdUxLg','username','_email_verify_token','mWiIv','fvRmw','sendVerificationEmail','gMsJP','maintenance','IGWgX','signUp','get','http://someother.example.com/handle-parse-iframe?link=%2Fapps%2Ftest%2Fverify_email&token=','179LVFQTI','hXYaJ','test','qLazR','setPassword','2317xAOwpJ','jUaEu','LQZmc','295cVmquI','toEqual','pass','wqGVt','3090050COKIDB','hHzVh','verificationUser','fANqG','nDVIX'];_0x3bb7=function(){return _0x56c424;};return _0x3bb7();}(function(_0x2e3466,_0x650742){const _0x146da6=_0x2443,_0x1cba6e=_0x2e3466();while(!![]){try{const _0x16781a=parseInt(_0x146da6(0x179))/0x1*(-parseInt(_0x146da6(0x168))/0x2)+parseInt(_0x146da6(0x154))/0x3+-parseInt(_0x146da6(0x156))/0x4+parseInt(_0x146da6(0x149))/0x5*(-parseInt(_0x146da6(0x153))/0x6)+-parseInt(_0x146da6(0x146))/0x7*(-parseInt(_0x146da6(0x16d))/0x8)+-parseInt(_0x146da6(0x160))/0x9+parseInt(_0x146da6(0x14d))/0xa;if(_0x16781a===_0x650742)break;else _0x1cba6e['push'](_0x1cba6e['shift']());}catch(_0xb0fa46){_0x1cba6e['push'](_0x1cba6e['shift']());}}}(_0x3bb7,0x56a3d));function _0x2443(_0x3b0986,_0x5db53e){const _0x3bb778=_0x3bb7();return _0x2443=function(_0x244374,_0x5741e3){_0x244374=_0x244374-0x146;let _0x33b13a=_0x3bb778[_0x244374];return _0x33b13a;},_0x2443(_0x3b0986,_0x5db53e);}const emailAdapter=require('./support/MockEmailAdapter'),Config=require(_0x3e81f9(0x155)),Auth=require(_0x3e81f9(0x166));describe(_0x3e81f9(0x15f),()=>{const _0xfbe5fc=_0x3e81f9,_0x533656={'spSWK':'test','mWiIv':'verification@example.com','IGWgX':'_User','xznfo':function(_0x451856,_0xf647ea){return _0x451856(_0xf647ea);},'cNiBz':'61338330-eca7-4c33-8816-7ff05966f43b','gMsJP':function(_0x47baf7,_0x4a8e66){return _0x47baf7(_0x4a8e66);},'eTWMJ':'673c2bb1-049e-4dda-b6be-88c866260036','nDVIX':function(_0x5694d3,_0x5de447,_0x33bd06){return _0x5694d3(_0x5de447,_0x33bd06);},'Voepb':function(_0xf93294,_0x4a4545,_0x45e03d){return _0xf93294(_0x4a4545,_0x45e03d);},'jUaEu':_0xfbe5fc(0x172)};_0x533656[_0xfbe5fc(0x158)](describe,_0x533656[_0xfbe5fc(0x147)],()=>{const _0x4b79a0=_0xfbe5fc,_0x5332b2={'fvRmw':function(_0x3988f,_0x25ab91){return _0x3988f(_0x25ab91);},'tKfiD':_0x4b79a0(0x14f),'vVLBL':_0x533656[_0x4b79a0(0x170)],'qLazR':_0x533656[_0x4b79a0(0x175)],'FrBYF':function(_0x374164,_0x1aef06){return _0x374164(_0x1aef06);}};describe('parseFrameURL\x20not\x20provided',()=>{const _0x1e10bc=_0x4b79a0,_0x150005={'fANqG':function(_0x39c613,_0x5e5aa1){return _0x39c613(_0x5e5aa1);},'hflpL':_0x1e10bc(0x157),'EpVUE':_0x533656[_0x1e10bc(0x169)],'wqGVt':_0x1e10bc(0x14f),'hHzVh':_0x1e10bc(0x14b),'TXSuN':_0x533656[_0x1e10bc(0x170)],'BixgW':_0x533656[_0x1e10bc(0x175)],'LQZmc':function(_0x183356,_0x3553d5){return _0x183356(_0x3553d5);},'hXYaJ':function(_0x4bae01,_0x2032ac){const _0x575de0=_0x1e10bc;return _0x533656[_0x575de0(0x15d)](_0x4bae01,_0x2032ac);}};_0x533656[_0x1e10bc(0x15d)](it_id,_0x533656[_0x1e10bc(0x163)])(it)('uses\x20publicServerURL',async()=>{const _0x48944c=_0x1e10bc;await _0x150005[_0x48944c(0x150)](reconfigureServer,{'publicServerURL':_0x150005[_0x48944c(0x15e)],'customPages':{'parseFrameURL':undefined},'verifyUserEmails':!![],'emailAdapter':emailAdapter,'appName':_0x150005[_0x48944c(0x15c)]});let _0x30484b;emailAdapter[_0x48944c(0x172)]=_0x29cd98=>{_0x30484b=_0x29cd98;};const _0x18db00=_0x150005[_0x48944c(0x14c)],_0xe75983=new Parse[(_0x48944c(0x15b))]();_0xe75983['setUsername'](_0x18db00),_0xe75983[_0x48944c(0x17d)](_0x150005[_0x48944c(0x14e)]),_0xe75983[_0x48944c(0x16a)](_0x150005['TXSuN']),await _0xe75983[_0x48944c(0x176)]();const _0x54ef32=Config[_0x48944c(0x177)]('test'),_0x17f7e5=await _0x54ef32['database'][_0x48944c(0x167)](_0x150005['BixgW'],{'username':_0x18db00},{},Auth[_0x48944c(0x174)](_0x54ef32)),_0x4d0859=_0x17f7e5[0x0][_0x48944c(0x16e)],_0xf37544=_0x17f7e5[0x0][_0x48944c(0x16f)];_0x150005[_0x48944c(0x148)](expect,_0xf37544)[_0x48944c(0x161)](),expect(_0x4d0859)[_0x48944c(0x162)](_0x18db00),_0x150005[_0x48944c(0x17a)](expect,_0x30484b['link'])[_0x48944c(0x14a)]('http://www.example.com/apps/test/verify_email?token='+_0xf37544);});}),_0x533656[_0x4b79a0(0x151)](describe,_0x4b79a0(0x16b),()=>{const _0xde1cc7=_0x4b79a0;_0x533656[_0xde1cc7(0x173)](it_id,_0x533656[_0xde1cc7(0x159)])(it)(_0xde1cc7(0x16c),async()=>{const _0x331961=_0xde1cc7;await _0x5332b2['fvRmw'](reconfigureServer,{'publicServerURL':_0x331961(0x157),'customPages':{'parseFrameURL':_0x331961(0x15a)},'verifyUserEmails':!![],'emailAdapter':emailAdapter,'appName':_0x331961(0x17b)});let _0x1539d1;emailAdapter[_0x331961(0x172)]=_0x1123f6=>{_0x1539d1=_0x1123f6;};const _0x5546a7=_0x5332b2['tKfiD'],_0x2ed9c=new Parse[(_0x331961(0x15b))]();_0x2ed9c[_0x331961(0x164)](_0x5546a7),_0x2ed9c[_0x331961(0x17d)](_0x331961(0x14b)),_0x2ed9c['setEmail'](_0x5332b2['vVLBL']),await _0x2ed9c[_0x331961(0x176)]();const _0x4c4cb5=Config[_0x331961(0x177)]('test'),_0x48fa2f=await _0x4c4cb5['database'][_0x331961(0x167)](_0x5332b2[_0x331961(0x17c)],{'username':_0x5546a7},{},Auth[_0x331961(0x174)](_0x4c4cb5)),_0x47c8e4=_0x48fa2f[0x0]['username'],_0x97b66d=_0x48fa2f[0x0][_0x331961(0x16f)];_0x5332b2[_0x331961(0x165)](expect,_0x97b66d)[_0x331961(0x161)](),_0x5332b2[_0x331961(0x171)](expect,_0x47c8e4)['toBe'](_0x5546a7),expect(_0x1539d1[_0x331961(0x152)])[_0x331961(0x14a)](_0x331961(0x178)+_0x97b66d);});});});});