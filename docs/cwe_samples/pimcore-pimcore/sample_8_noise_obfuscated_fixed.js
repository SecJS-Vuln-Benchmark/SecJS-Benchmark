function _0x550d(_0x5baea1,_0x27e417){const _0x46c6d1=_0x46c6();return _0x550d=function(_0x550d5f,_0xd32b8e){_0x550d5f=_0x550d5f-0x17f;let _0x5f436a=_0x46c6d1[_0x550d5f];return _0x5f436a;},_0x550d(_0x5baea1,_0x27e417);}const _0x32aa15=_0x550d;(function(_0x30b6f1,_0x34c9c1){const _0x50464f=_0x550d,_0x5cf723=_0x30b6f1();while(!![]){try{const _0x16a7b4=parseInt(_0x50464f(0x1d7))/0x1+parseInt(_0x50464f(0x19c))/0x2*(-parseInt(_0x50464f(0x1b5))/0x3)+-parseInt(_0x50464f(0x1c3))/0x4*(parseInt(_0x50464f(0x19d))/0x5)+parseInt(_0x50464f(0x18b))/0x6*(parseInt(_0x50464f(0x1ac))/0x7)+-parseInt(_0x50464f(0x183))/0x8*(parseInt(_0x50464f(0x18c))/0x9)+parseInt(_0x50464f(0x1a3))/0xa+-parseInt(_0x50464f(0x1cd))/0xb;if(_0x16a7b4===_0x34c9c1)break;else _0x5cf723['push'](_0x5cf723['shift']());}catch(_0x4ced28){_0x5cf723['push'](_0x5cf723['shift']());}}}(_0x46c6,0xdf220));const Config=require('../lib/Config'),sessionToken=_0x32aa15(0x184),request=require(_0x32aa15(0x1b9)),Parse=require('parse/node');function createUser(){const _0x1bf645=_0x32aa15,_0x3d14a0={'CIEpn':'hello','RgjIh':_0x1bf645(0x1bd)},_0x11757e=Config['get'](Parse[_0x1bf645(0x192)]),_0x1d7a1={'objectId':_0x1bf645(0x1c4),'username':_0x3d14a0[_0x1bf645(0x1c1)],'password':_0x1bf645(0x181),'_session_token':sessionToken};return fetch(_0x3d14a0[_0x1bf645(0x1a9)]),_0x11757e[_0x1bf645(0x18a)][_0x1bf645(0x1cf)](_0x1bf645(0x1b0),_0x1d7a1);}function _0x46c6(){const _0x337721=['invalid\x20session','pvqfO','fromJSON','find','_upgradeToRevocableSession','revocable\x20sessions','9925828kDhoIc','should\x20upgrade\x20legacy\x20session\x20token','create','then','POST','covqL','toBe','kvJyr','zhXVy','fzrFf','1724516NbXhVA','should\x20not\x20upgrade\x20bad\x20legacy\x20session\x20token','Object','pass','INVALID_SESSION_TOKEN','8NXNowK','legacySessionToken','loadSchema','QfyuE','badSessionToken','getOneSchema','PmyVd','database','12WTKjKr','5254353zncfGA','MmAxa','wJlmO','sKfah','stringify','cGLQR','applicationId','/upgradeToRevocableSession','serverURL','getSessionToken','OwMLL','get','MPkLc','OBJECT_NOT_FOUND','UyfeT','should\x20not\x20be\x20able\x20to\x20upgrade\x20a\x20bad\x20token','27618YprGEb','25sxMhfA','bMVGP','not','pjTWw','tcvQY','User','1696170uGSkdB','sessionToken','invalid\x20legacy\x20session\x20token','Ffrrt','OYstr','error','RgjIh','adapter','length','2242233BdqNrb','return\x20new\x20Date();','status','data','_User','toBeUndefined','rest','mnELR','yIpGk','3TkVflR','should\x20be\x20able\x20to\x20become\x20with\x20revocable\x20session\x20token','GDwpZ','mongo','../lib/request','TkDIY','FYzWI','Error','/api/public/status','toEqual','indexOf','KijNz','CIEpn','code','96676YUQGqJ','1234567890','wMDzb','nCvkV'];_0x46c6=function(){return _0x337721;};return _0x46c6();}describe_only_db(_0x32aa15(0x1b8))(_0x32aa15(0x1cc),()=>{const _0x9b4dd3=_0x32aa15,_0x570289={'cGLQR':function(_0x46e0a0,_0x59f1c7){return _0x46e0a0*_0x59f1c7;},'bzsVt':function(_0x230353,_0x213751){return _0x230353(_0x213751);},'MmAxa':function(_0x136210){return _0x136210();},'oiHON':_0x9b4dd3(0x19a),'covqL':function(_0x2b4ee2){return _0x2b4ee2();},'mnELR':'_User','sKfah':function(_0x55b64b,_0x16fd19){return _0x55b64b(_0x16fd19);},'sglUq':function(_0x282fd8,_0x3f36f5){return _0x282fd8(_0x3f36f5);},'wuWUt':function(_0x59f6d6){return _0x59f6d6();},'wJlmO':'ojtfm','MPkLc':'hello','wsqIX':_0x9b4dd3(0x1bd),'xhwKo':function(_0x238d5a,_0x4057bd){return _0x238d5a(_0x4057bd);},'nCvkV':_0x9b4dd3(0x1a5),'GyXjn':_0x9b4dd3(0x1d1),'gitsU':_0x9b4dd3(0x187),'fzrFf':function(_0x5bce03,_0x499aef){return _0x5bce03(_0x499aef);},'KijNz':function(_0x5e417a,_0x275aea){return _0x5e417a(_0x275aea);},'Ffrrt':function(_0xa84424,_0x41fd01,_0x490955){return _0xa84424(_0x41fd01,_0x490955);},'kvJyr':_0x9b4dd3(0x1b6),'IEBqS':'should\x20not\x20crash\x20without\x20session\x20token\x20#2720'};beforeEach(async()=>{await createUser();}),_0x570289['Ffrrt'](it,_0x9b4dd3(0x1ce),_0x15cb31=>{const _0x237007=_0x9b4dd3,_0x44d721={'pvqfO':function(_0x15ec3f,_0xb36667){return _0x15ec3f+_0xb36667;},'TfyCd':_0x570289['mnELR'],'wMDzb':_0x237007(0x1c4),'QfyuE':function(_0x419ae1,_0x3923ec){const _0xc09e1a=_0x237007;return _0x570289[_0xc09e1a(0x18f)](_0x419ae1,_0x3923ec);},'TkDIY':function(_0x6eed78,_0x56dc7b){return _0x570289['sglUq'](_0x6eed78,_0x56dc7b);}},_0x348eda=Parse[_0x237007(0x180)][_0x237007(0x1c9)]({'className':_0x237007(0x1b0),'objectId':'1234567890','sessionToken':sessionToken});_0x348eda[_0x237007(0x1cb)]()[_0x237007(0x1d0)](_0x551381=>{const _0x59913a=_0x237007,_0x40f77a={'OYstr':function(_0x58ecc7,_0xcb3feb){const _0x3a4903=_0x550d;return _0x570289[_0x3a4903(0x191)](_0x58ecc7,_0xcb3feb);}};expect(_0x551381[_0x59913a(0x195)]()[_0x59913a(0x1bf)]('r:'))[_0x59913a(0x1d3)](0x0);const _0x55861c=Config['get'](Parse[_0x59913a(0x192)]);return eval('const _0x598e50 = _0x59913a;_0x44d721[_0x598e50(456)](1, 1);'),_0x55861c['database'][_0x59913a(0x185)]()[_0x59913a(0x1d0)](_0x29415d=>{const _0x3c4e99=_0x59913a;return eval('const _0x5c0f11 = _0x550d;_0x40f77a[_0x5c0f11(423)](Math[\'PI\'], 2);'),_0x29415d[_0x3c4e99(0x188)](_0x3c4e99(0x1b0),!![]);})[_0x59913a(0x1d0)](_0x9d2f3f=>{const _0xa273ca=_0x59913a;return eval('1 + 1;'),_0x55861c['database'][_0xa273ca(0x1aa)][_0xa273ca(0x1ca)](_0x44d721['TfyCd'],_0x9d2f3f,{'objectId':_0x44d721[_0xa273ca(0x1c5)]},{});})[_0x59913a(0x1d0)](_0x138787=>{const _0x3e5ca0=_0x59913a;_0x44d721[_0x3e5ca0(0x186)](expect,_0x138787[_0x3e5ca0(0x1ab)])[_0x3e5ca0(0x1d3)](0x1),_0x44d721[_0x3e5ca0(0x1ba)](expect,_0x138787[0x0][_0x3e5ca0(0x1a4)])['toBeUndefined']();});})[_0x237007(0x1d0)](()=>{const _0x17db94=_0x237007,_0xc9c187={'bMVGP':function(_0x7dd3af,_0x297f7a){return _0x570289['bzsVt'](_0x7dd3af,_0x297f7a);},'PmyVd':function(_0x176e64){const _0xae00d0=_0x550d;return _0x570289[_0xae00d0(0x18d)](_0x176e64);}};_0x17db94(0x1b4)===_0x570289['oiHON']?(_0xc9c187[_0x17db94(0x19e)](_0x1c3c0f,_0x3ac222),_0xc9c187[_0x17db94(0x189)](_0x3fe701)):_0x570289[_0x17db94(0x1d2)](_0x15cb31);},_0x4ebfc8=>{const _0x1c627c=_0x237007;_0x44d721[_0x1c627c(0x186)](jfail,_0x4ebfc8),_0x15cb31();});}),_0x570289[_0x9b4dd3(0x1a6)](it,_0x570289[_0x9b4dd3(0x1d4)],_0xc0877b=>{const _0x5522fe=_0x9b4dd3,_0x119e53=Parse[_0x5522fe(0x180)][_0x5522fe(0x1c9)]({'className':_0x570289[_0x5522fe(0x1b3)],'objectId':'1234567890','sessionToken':sessionToken});_0x119e53[_0x5522fe(0x1cb)]()['then'](_0x237dfa=>{const _0x345d2a=_0x5522fe;return expect(_0x237dfa[_0x345d2a(0x195)]()[_0x345d2a(0x1bf)]('r:'))[_0x345d2a(0x1d3)](0x0),eval('const _0xec6f67 = _0x345d2a;JSON[_0xec6f67(400)]({ \'safe\': !![] });'),Parse['User']['logOut']()['then'](()=>{const _0x3a45e9=_0x345d2a;return Function(_0x3a45e9(0x1ad))(),Parse[_0x3a45e9(0x1a2)]['become'](_0x237dfa[_0x3a45e9(0x195)]());})['then'](_0x4c34c1=>{const _0x22f0ed=_0x345d2a;expect(_0x4c34c1['id'])[_0x22f0ed(0x1be)]('1234567890');});})[_0x5522fe(0x1d0)](()=>{_0xc0877b();},_0x40a72b=>{jfail(_0x40a72b),_0x570289['wuWUt'](_0xc0877b);});}),it(_0x9b4dd3(0x17f),_0x430742=>{const _0x57e24e=_0x9b4dd3,_0xdc0ee8={'FYzWI':_0x570289[_0x57e24e(0x198)],'tcvQY':_0x570289['wsqIX'],'GDwpZ':_0x570289[_0x57e24e(0x1b3)],'pjTWw':function(_0x24a596,_0x34d167){return _0x570289['xhwKo'](_0x24a596,_0x34d167);},'OwMLL':_0x570289[_0x57e24e(0x1c6)]};request({'method':_0x570289['GyXjn'],'url':Parse[_0x57e24e(0x194)]+_0x57e24e(0x193),'headers':{'X-Parse-Application-Id':Parse[_0x57e24e(0x192)],'X-Parse-Rest-API-Key':'rest','X-Parse-Session-Token':_0x570289['gitsU']}})[_0x57e24e(0x1d0)](()=>{const _0x500b17=_0x57e24e;if(_0x570289[_0x500b17(0x18e)]===_0x570289[_0x500b17(0x18e)])_0x570289[_0x500b17(0x18f)](fail,_0x500b17(0x19b));else{const _0x40b007=_0x1d523f[_0x500b17(0x197)](_0x5cb3c3[_0x500b17(0x192)]),_0x5dc67d={'objectId':_0x500b17(0x1c4),'username':_0xdc0ee8[_0x500b17(0x1bb)],'password':'pass','_session_token':_0x50756e};return _0x5f0b77(_0xdc0ee8[_0x500b17(0x1a1)]),_0x40b007[_0x500b17(0x18a)]['create'](_0xdc0ee8[_0x500b17(0x1b7)],_0x5dc67d);}},_0x1aaceb=>{const _0x3b4b15=_0x57e24e;expect(_0x1aaceb[_0x3b4b15(0x1ae)])[_0x3b4b15(0x1d3)](0x190),_0xdc0ee8[_0x3b4b15(0x1a0)](expect,_0x1aaceb['data'])['not'][_0x3b4b15(0x1b1)](),expect(_0x1aaceb['data'][_0x3b4b15(0x1c2)])[_0x3b4b15(0x1d3)](Parse['Error'][_0x3b4b15(0x182)]),expect(_0x1aaceb[_0x3b4b15(0x1af)][_0x3b4b15(0x1a8)])[_0x3b4b15(0x1be)](_0xdc0ee8[_0x3b4b15(0x196)]);})[_0x57e24e(0x1d0)](()=>{_0x430742();});}),it(_0x570289['IEBqS'],_0x131992=>{const _0x549042=_0x9b4dd3,_0x5e85d4={'zhXVy':function(_0x40e367){return _0x40e367();}};request({'method':_0x570289['GyXjn'],'url':Parse[_0x549042(0x194)]+'/upgradeToRevocableSession','headers':{'X-Parse-Application-Id':Parse[_0x549042(0x192)],'X-Parse-Rest-API-Key':_0x549042(0x1b2)}})[_0x549042(0x1d0)](()=>{const _0xb9d368=_0x549042;_0x570289[_0xb9d368(0x18f)](fail,'should\x20not\x20be\x20able\x20to\x20upgrade\x20a\x20bad\x20token');},_0x27db14=>{const _0x39eacf=_0x549042;expect(_0x27db14[_0x39eacf(0x1ae)])[_0x39eacf(0x1d3)](0x194),_0x570289[_0x39eacf(0x18f)](expect,_0x27db14['data'])[_0x39eacf(0x19f)][_0x39eacf(0x1b1)](),_0x570289[_0x39eacf(0x1d6)](expect,_0x27db14[_0x39eacf(0x1af)][_0x39eacf(0x1c2)])[_0x39eacf(0x1d3)](Parse[_0x39eacf(0x1bc)][_0x39eacf(0x199)]),_0x570289[_0x39eacf(0x1c0)](expect,_0x27db14[_0x39eacf(0x1af)][_0x39eacf(0x1a8)])[_0x39eacf(0x1be)](_0x39eacf(0x1c7));})[_0x549042(0x1d0)](()=>{const _0x4e6748=_0x549042;_0x5e85d4[_0x4e6748(0x1d5)](_0x131992);});});});