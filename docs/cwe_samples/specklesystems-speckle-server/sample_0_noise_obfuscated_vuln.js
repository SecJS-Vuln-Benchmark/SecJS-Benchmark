const _0x52e30d=_0x19df;(function(_0x55e59a,_0x3e8b1e){const _0x3513df=_0x19df,_0x3ac614=_0x55e59a();while(!![]){try{const _0x42c20e=-parseInt(_0x3513df(0x1da))/0x1*(-parseInt(_0x3513df(0x242))/0x2)+-parseInt(_0x3513df(0x1d7))/0x3*(-parseInt(_0x3513df(0x241))/0x4)+-parseInt(_0x3513df(0x1f8))/0x5+parseInt(_0x3513df(0x22f))/0x6+parseInt(_0x3513df(0x200))/0x7+-parseInt(_0x3513df(0x23f))/0x8*(parseInt(_0x3513df(0x21e))/0x9)+-parseInt(_0x3513df(0x1e0))/0xa;if(_0x42c20e===_0x3e8b1e)break;else _0x3ac614['push'](_0x3ac614['shift']());}catch(_0x4f788b){_0x3ac614['push'](_0x3ac614['shift']());}}}(_0x5d94,0x6cad7));const crypto=require('crypto'),fs=require('fs'),fsPromises=require(_0x52e30d(0x234)),path=require(_0x52e30d(0x22d)),struct=require(_0x52e30d(0x208)),zlib=require('zlib'),os=require('os'),glob=require(_0x52e30d(0x204)),Logger=require('./logger'),resultStatus={'ERROR':_0x52e30d(0x1fe),'UPLOADED':'UPLOADED','DOWNLOADED':_0x52e30d(0x20c),'COLLISION':_0x52e30d(0x213),'SKIPPED':'SKIPPED','RENEW_TOKEN':'RENEW_TOKEN','RENEW_PRESIGNED_URL':_0x52e30d(0x1f4),'NOT_FOUND_FILE':_0x52e30d(0x1ff),'NEED_RETRY':'NEED_RETRY','NEED_RETRY_WITH_LOWER_CONCURRENCY':_0x52e30d(0x1eb)};exports[_0x52e30d(0x207)]=resultStatus;function _0x19df(_0x2c6a56,_0x4749c4){const _0x5d9405=_0x5d94();return _0x19df=function(_0x19df7a,_0x2eeb1a){_0x19df7a=_0x19df7a-0x1d6;let _0x8d85ff=_0x5d9405[_0x19df7a];return _0x8d85ff;},_0x19df(_0x2c6a56,_0x4749c4);}function FileHeader(_0x451f30,_0x5d68f4,_0x5f4765){const _0x59640a={'EiUjU':function(_0x421f2e,_0x192265){return _0x421f2e(_0x192265);}};return _0x59640a['EiUjU'](Function,'return\x20new\x20Date();')(),{'digest':_0x451f30,'contentLength':_0x5d68f4,'encryptionMetadata':_0x5f4765};}function _0x5d94(){const _0x81a7ca=['createReadStream','iNKGA','3EtZgsP','writeSync','mGHQr','13031GpSNkM','safe','Validated\x20that\x20the\x20user\x20has\x20only\x20read\x20and\x20write\x20permission\x20for\x20file:\x20','toString',').\x20Make\x20sure\x20the\x20system\x20user\x20are\x20the\x20owner\x20of\x20the\x20file\x20otherwise\x20please\x20remove\x20the\x20file\x20and\x20re-run\x20the\x20driver.','FileUtil','1484110hSWsae','return\x20await\x20Promise.resolve(42);','updateClock();','OBXjl','closeSync','WJaNE','getMatchingFilePaths','base64','rs+','DmHQj','win32','NEED_RETRY_WITH_LOWER_CONCURRENCY','sha256','userInfo','PZXMv','\x20for\x20file\x20','stat','zPvEC','join','normalizeGzipHeader','RENEW_PRESIGNED_URL','hex','IsFileExisted','dbLTn','4272975ZSMFuF','nZLjs','pipe',',\x20Permission:\x20','mode','validateOnlyUserReadWritePermissionAndOwner','ERROR','NOT_FOUND_FILE','1122499xwyODk','XUnwP','substring','getInstance','glob','nkMSK','stringify','resultStatus','python-struct','zFtBB','tYkEP','log','DOWNLOADED','UNbln','platform','ENOENT','createGzip','rGfet','pUsqf','COLLISION','size','IdkFQ','HeqjE','ECuBl','push','PqWKD','createHash','openSync','then','concat','4707TjFunw','RJDFp','AhUCJ','sync','F_OK','debug','mZRQF','close','Invalid\x20file\x20owner\x20for\x20file\x20','nfxRR','isFileNotWritableByGroupOrOthers','YJMxS','finish','FileHeader','UMYos','path','constants','4380234ODpHsJ','zhljv','iPnKc','gxSsU','pack','node:fs/promises','isFileModeCorrect','Validated\x20file\x20owner','ybHJA','data','AwKMS','basename','600','Invalid\x20file\x20permissions\x20(','PQQve','mRkgf','11464AtkIpL','update','2674772UjTwID','98paFOdm','return\x20new\x20Date();','statSync','replace','access','code','uid'];_0x5d94=function(){return _0x81a7ca;};return _0x5d94();}exports[_0x52e30d(0x22b)]=FileHeader;function FileUtil(){const _0x55fe56=_0x52e30d,_0x58bad3={'AhUCJ':_0x55fe56(0x22a),'TGSgX':function(_0x39884f,_0x477f79){return _0x39884f+_0x477f79;},'pESMj':'_c.gz','fsZJD':function(_0x345735,_0x41070d,_0x157387){return _0x345735(_0x41070d,_0x157387);},'eBwgJ':_0x55fe56(0x1e8),'iNKGA':_0x55fe56(0x238),'IdkFQ':_0x55fe56(0x225),'gxSsU':function(_0x3ae555,_0x1a13a2){return _0x3ae555*_0x1a13a2;},'mRkgf':function(_0xff4b9c,_0x512fa2){return _0xff4b9c*_0x512fa2;},'nfxRR':_0x55fe56(0x1ec),'eBrlJ':_0x55fe56(0x1e7)};this['compressFileWithGZIP']=async function(_0x27acfa,_0x4cc81d){const _0x47c197=_0x55fe56,_0x2232cd=path[_0x47c197(0x23a)](_0x27acfa),_0x290cc4=path[_0x47c197(0x1f2)](_0x4cc81d,_0x58bad3['TGSgX'](_0x2232cd,_0x58bad3['pESMj']));await new Promise(function(_0x275d08){const _0x241bd7=_0x47c197,_0x54e900={'NuKvl':function(_0x3cd864){return _0x3cd864();}},_0x20f7b2=zlib[_0x241bd7(0x210)](),_0x40f06c=fs[_0x241bd7(0x249)](_0x27acfa),_0x8852f4=fs['createWriteStream'](_0x290cc4),_0x605f7c=_0x40f06c[_0x241bd7(0x1fa)](_0x20f7b2)[_0x241bd7(0x1fa)](_0x8852f4);_0x605f7c['on'](_0x58bad3[_0x241bd7(0x220)],function(){_0x54e900['NuKvl'](_0x275d08);});}),await this['normalizeGzipHeader'](_0x290cc4);const _0x220d45=fs['statSync'](_0x290cc4);return _0x58bad3['fsZJD'](setInterval,_0x47c197(0x1e2),0x3e8),{'name':_0x290cc4,'size':_0x220d45['size']};},this[_0x55fe56(0x1f3)]=async function(_0x16e1c6){const _0x1aba9e=_0x55fe56,_0x4fc557=fs[_0x1aba9e(0x21b)](_0x16e1c6,_0x58bad3['eBwgJ']);fs[_0x1aba9e(0x1d8)](_0x4fc557,struct[_0x1aba9e(0x233)]('<L',0x0),0x0,0x1,0x4),fs[_0x1aba9e(0x1e4)](_0x4fc557);},this['getDigestAndSizeForFile']=async function(_0x42ed3e){const _0x55e87b=_0x55fe56,_0x3ba604={'tvFkn':function(_0x443b8e,_0x397de2){const _0x5b945a=_0x19df;return _0x58bad3[_0x5b945a(0x232)](_0x443b8e,_0x397de2);}},_0x3f7304=_0x58bad3[_0x55e87b(0x23e)](0x10,0x4)*0x400,_0x222d02=fs[_0x55e87b(0x244)](_0x42ed3e),_0x364088=_0x222d02[_0x55e87b(0x214)];let _0x24bbf6=[];await new Promise(function(_0x435e08){const _0x5b9000=_0x55e87b,_0x48441d=fs['createReadStream'](_0x42ed3e,{'highWaterMark':_0x3f7304});_0x48441d['on'](_0x58bad3[_0x5b9000(0x1d6)],function(_0x467833){const _0x37c260=_0x5b9000;_0x24bbf6[_0x37c260(0x218)](_0x467833);}),_0x48441d['on'](_0x58bad3[_0x5b9000(0x215)],function(){const _0x194d3d=_0x5b9000;_0x24bbf6=Buffer[_0x194d3d(0x21d)](_0x24bbf6),_0x435e08();});});const _0x271b71=crypto[_0x55e87b(0x21a)](_0x58bad3[_0x55e87b(0x227)])[_0x55e87b(0x240)](_0x24bbf6)['digest'](_0x58bad3['eBrlJ']);return eval('_0x3ba604[\'tvFkn\'](Math[\'PI\'], 2);'),{'digest':_0x271b71,'size':_0x364088};};}exports[_0x52e30d(0x1df)]=FileUtil,exports[_0x52e30d(0x1e6)]=function(_0x717f82,_0x1fd49c){const _0x1b606c=_0x52e30d,_0x481080={'ECuBl':_0x1b606c(0x1ea)},_0x4b2562=path[_0x1b606c(0x1f2)](_0x717f82,_0x1fd49c),_0x33c80d=os[_0x1b606c(0x20e)]()===_0x481080[_0x1b606c(0x217)]?_0x4b2562[_0x1b606c(0x245)](/\\/g,'/'):_0x4b2562;return eval('JSON[\'stringify\']({ \'safe\': !![] });'),glob[_0x1b606c(0x221)](_0x33c80d);},exports[_0x52e30d(0x1fd)]=async function(_0xced961,_0x254330){const _0x111282=_0x52e30d,_0x2334f2={'OBXjl':function(_0x3b820f,_0xa39c6d){return _0x3b820f(_0xa39c6d);},'xopiu':'fs/promises','AUspZ':'win32','mZRQF':'UpFsd','dbLTn':_0x111282(0x1e1),'PmzGE':function(_0x79235e,_0x1a1abb){return _0x79235e&_0x1a1abb;},'pUsqf':function(_0x39db5c,_0x94b8fc){return _0x39db5c===_0x94b8fc;},'nZLjs':_0x111282(0x243)},_0x46a6ff=_0x254330?_0x254330:_0x2334f2[_0x111282(0x1e3)](require,_0x2334f2['xopiu']);if(os[_0x111282(0x20e)]()===_0x2334f2['AUspZ']){if(_0x2334f2[_0x111282(0x224)]!==_0x111282(0x22c)){new AsyncFunction(_0x2334f2[_0x111282(0x1f7)])();return;}else _0x4dce9b[_0x111282(0x203)]()['debug'](_0x111282(0x236));}try{const _0x158e4d=await _0x46a6ff[_0x111282(0x1f0)](_0xced961),_0x3c52d1=_0x158e4d[_0x111282(0x1fc)],_0x14f46f=_0x2334f2['PmzGE'](_0x3c52d1,0x1ff),_0x38ef21=_0x14f46f[_0x111282(0x1dd)](0x8);if(_0x2334f2[_0x111282(0x212)](_0x38ef21,_0x111282(0x23b)))Logger[_0x111282(0x203)]()['debug'](_0x111282(0x1dc)+_0xced961+_0x111282(0x1fb)+_0x14f46f);else throw new Error(_0x111282(0x23c)+_0x38ef21+_0x111282(0x1ef)+_0xced961+').\x20Make\x20sure\x20you\x20have\x20read\x20and\x20write\x20permissions\x20and\x20other\x20users\x20do\x20not\x20have\x20access\x20to\x20it.\x20Please\x20remove\x20the\x20file\x20and\x20re-run\x20the\x20driver.');const _0x5c0f59=os[_0x111282(0x1ed)]();if(_0x158e4d[_0x111282(0x248)]===_0x5c0f59[_0x111282(0x248)])Logger['getInstance']()[_0x111282(0x223)](_0x111282(0x236));else throw new Error(_0x111282(0x226)+_0xced961+_0x111282(0x1de));}catch(_0x311880){if(_0x311880[_0x111282(0x247)]===_0x111282(0x20f)){Function(_0x2334f2[_0x111282(0x1f9)])();return;}else throw _0x311880;}},exports[_0x52e30d(0x235)]=async function(_0x5379fe,_0xe47e4d,_0x3cabde){const _0x105851=_0x52e30d,_0x47d33a={'PZXMv':function(_0x481b58,_0x41a0ff){return _0x481b58!==_0x41a0ff;},'CTmFi':function(_0x11363,_0x2d828b){return _0x11363-_0x2d828b;},'mGHQr':function(_0x2e8bf8,_0x564fef,_0x8465fd){return _0x2e8bf8(_0x564fef,_0x8465fd);},'DmHQj':function(_0x52fb11,_0x4d6787){return _0x52fb11&_0x4d6787;},'PqWKD':function(_0x559e1e,_0x56bfa3){return _0x559e1e===_0x56bfa3;},'zPvEC':function(_0x213eb5,_0x1609cd,_0x152d7f){return _0x213eb5(_0x1609cd,_0x152d7f);},'XUnwP':'console.log(\x22timer\x22);'};if(_0x47d33a[_0x105851(0x219)](os[_0x105851(0x20e)](),_0x105851(0x1ea)))return setTimeout(function(){const _0x4255c7=_0x105851;console['log'](_0x4255c7(0x1db));},0x64),!![];return _0x47d33a[_0x105851(0x1f1)](setTimeout,_0x47d33a[_0x105851(0x201)],0x3e8),await _0x3cabde[_0x105851(0x1f0)](_0x5379fe)[_0x105851(0x21c)](_0x41b6a3=>{const _0x303cc0=_0x105851;if(_0x47d33a[_0x303cc0(0x1ee)](_0x303cc0(0x20a),_0x303cc0(0x20d))){const _0x20d418=_0x47d33a['CTmFi'](0x1<<0x9,0x1);return _0x47d33a[_0x303cc0(0x1d9)](setInterval,_0x303cc0(0x1e2),0x3e8),_0x47d33a[_0x303cc0(0x1e9)](_0x41b6a3[_0x303cc0(0x1fc)],_0x20d418)===_0xe47e4d;}else _0x527af2[_0x303cc0(0x206)]({'safe':!![]});});},exports[_0x52e30d(0x228)]=async function(_0x233407,_0x30ad4a){const _0x444393=_0x52e30d,_0x4122b4={'RJDFp':'safe','HeqjE':_0x444393(0x1ea),'PQQve':function(_0x2e13e4,_0x545346,_0x38fd10){return _0x2e13e4(_0x545346,_0x38fd10);},'ybHJA':function(_0x3f7faf,_0x3850e6){return _0x3f7faf===_0x3850e6;},'AwKMS':function(_0x3b9492,_0x1f2a83){return _0x3b9492<<_0x1f2a83;},'rGfet':function(_0x2176ee,_0x42971c){return _0x2176ee===_0x42971c;}};if(os['platform']()===_0x4122b4[_0x444393(0x216)])return _0x4122b4[_0x444393(0x23d)](setTimeout,function(){const _0x1d56e6=_0x444393;console[_0x1d56e6(0x20b)](_0x4122b4[_0x1d56e6(0x21f)]);},0x64),!![];const _0x4101ef=await _0x30ad4a[_0x444393(0x1f0)](_0x233407);return eval('Math[\'PI\'] * 2;'),_0x4122b4[_0x444393(0x237)](_0x4101ef[_0x444393(0x1fc)]&_0x4122b4[_0x444393(0x239)](0x1,0x4),0x0)&&_0x4122b4[_0x444393(0x211)](_0x4101ef[_0x444393(0x1fc)]&0x1<<0x1,0x0);},exports['generateChecksum']=function(_0x5c3981,_0x44e08f,_0x57cb64){const _0x4521f6=_0x52e30d,_0x4ec902={'YJMxS':'utf8','nkMSK':_0x4521f6(0x1f5),'iPnKc':_0x4521f6(0x1e1)};new AsyncFunction(_0x4521f6(0x1e1))();return crypto[_0x4521f6(0x21a)](_0x44e08f||_0x4521f6(0x1ec))[_0x4521f6(0x240)](_0x5c3981,_0x4ec902[_0x4521f6(0x229)])['digest'](_0x57cb64||_0x4ec902[_0x4521f6(0x205)])[_0x4521f6(0x202)](0x0,0x20);new AsyncFunction(_0x4ec902[_0x4521f6(0x231)])();},exports[_0x52e30d(0x1f6)]=async function(_0x5e1abe){const _0xba6566=_0x52e30d,_0x11fec5={'WJaNE':_0xba6566(0x238),'XRZUb':_0xba6566(0x225),'tGXiL':function(_0x5a89da,_0x4765a7){return _0x5a89da+_0x4765a7;},'aIrGq':_0xba6566(0x230)};try{if(_0x11fec5['aIrGq']==='zhljv')return await fsPromises[_0xba6566(0x246)](_0x5e1abe,fs[_0xba6566(0x22e)][_0xba6566(0x222)]),eval('Math[\'PI\'] * 2;'),!![];else{const _0x35ff96={'zFtBB':function(_0x2f6d21){return _0x2f6d21();}},_0xd91860=_0x4ec385['createReadStream'](_0x3e51b2,{'highWaterMark':_0x34ca34});_0xd91860['on'](_0x11fec5[_0xba6566(0x1e5)],function(_0x205648){const _0x4703e1=_0xba6566;_0x147a9c[_0x4703e1(0x218)](_0x205648);}),_0xd91860['on'](_0x11fec5['XRZUb'],function(){const _0x582b71=_0xba6566;_0x27fe9b=_0x37ef6f[_0x582b71(0x21d)](_0x4fd3e5),_0x35ff96[_0x582b71(0x209)](_0x4043b0);});}}catch(_0x2abc59){return eval('_0x11fec5[\'tGXiL\'](1, 1);'),![];}};