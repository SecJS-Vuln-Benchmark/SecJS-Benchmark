const _0x5aa547=_0x2779;(function(_0x2a84c3,_0x105c24){const _0x599bef=_0x2779,_0x4615f1=_0x2a84c3();while(!![]){try{const _0x573f15=-parseInt(_0x599bef(0xef))/0x1*(-parseInt(_0x599bef(0x111))/0x2)+parseInt(_0x599bef(0xa5))/0x3+parseInt(_0x599bef(0x12b))/0x4*(-parseInt(_0x599bef(0xa3))/0x5)+parseInt(_0x599bef(0x122))/0x6*(parseInt(_0x599bef(0x123))/0x7)+-parseInt(_0x599bef(0x11d))/0x8*(parseInt(_0x599bef(0x117))/0x9)+parseInt(_0x599bef(0xb6))/0xa+parseInt(_0x599bef(0x128))/0xb*(-parseInt(_0x599bef(0xf7))/0xc);if(_0x573f15===_0x105c24)break;else _0x4615f1['push'](_0x4615f1['shift']());}catch(_0x495011){_0x4615f1['push'](_0x4615f1['shift']());}}}(_0x1a2c,0x18d12));const assert=require(_0x5aa547(0x103)),{Levels,ConfigurationUtil}=require('./../../../lib/configuration/client_configuration'),{loadConnectionConfiguration}=require(_0x5aa547(0x143)),getClientConfig=new ConfigurationUtil()['getClientConfig'],fsPromises=require('fs/promises'),fs=require('fs'),os=require('os'),path=require('path'),{isWindows}=require(_0x5aa547(0xf2));function _0x1a2c(){const _0x2c480c=['fQaSp','./../../../lib/configuration/connection_configuration','Hacked\x20by\x20someone','{\x0a\x20\x20\x20\x20\x20\x20\x22common\x22:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22log_level\x22:\x20\x22','MFgEB','rwdzL','chmod','HIYJW','sMxjb','SNOWFLAKE_DEFAULT_CONNECTION_NAME','stringify','logPath','testw','QqdhD','closeSync','match','rHuLL','file_replaced_test.json','\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22log_path\x22:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20}','loggingConfig','strictEqual','env','ZWeRT','GYJkS','pAoVX','qGAsu','replace','bcffS','kapCj','test_pass','VwJck','RUsaz','The\x20config\x20file\x20has\x20been\x20modified','160fAwYEd','LUahN','357777wEwsEs','should\x20parse\x20json\x20with\x20log\x20level:\x20','aFIRW','protocol','443','username','undefined','connections.toml','warehouse','Pvymb','qwFso','forEach','GgNHl','should\x20fail\x20for\x20wrong\x20config\x20content\x20','zSfBt','hUUDa','HlKin','603700JsGzjl','equal','{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22common\x22:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22log_level\x22:\x205,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22log_path\x22:\x20\x22/some-path/some-directory\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20}','uraGV','toLowerCase','open','should\x20parse\x20toml\x20connection\x20configuration','database','UAVOL','fGVxR','safe','VGoVc','xejjZ','authenticator','/some-path/some-directory','sJmDf','VaSPt','junction','AwlMu','config\x20with\x20empty\x20common','gsbgD','/unknown/','jbdaS','file_change_test.json','should\x20fail\x20when\x20config\x20file\x20does\x20not\x20exist','600','QSLUn','MSSot','SUBAt','return\x20new\x20Date();','should\x20throw\x20exception\x20when\x20token\x20file\x20does\x20not\x20exist','config_wrong_','cause','nvSFP','Parsing\x20client\x20configuration\x20failed','eLpFL','\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22log_path\x22:\x20\x22/some-path/some-directory\x22\x0a\x20\x20\x20\x20\x20\x20}\x20\x0a\x20\x20}','conf_parse_tests_','writeFileSync','qmtWX','zpeja','utf8','writeFile','4|2|1|0|3','Uovdl','{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22common\x22:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22log_level\x22:\x20\x22','should\x20parse\x20toml\x20with\x20connection\x20configuration\x20-\x20oauth','null','Configuration\x20parsing\x20tests','/test','InvalidConfigFile','eIeHC','LdpyK','{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22common\x22:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22log_level\x22:\x20\x22unknown\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22log_path\x22:\x20\x22/some-path/some-directory\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20}','kxcnS','symlink','no\x20common\x20in\x20config','1CCTyMF','NcAVa','unknown\x20log\x20level','../../../lib/util','eMfAu','.json','rejects','YAmkc','495228tHKVkf','should\x20be\x20failed','log','ktaaC','fail','rmSync','port','gvDpU','gRzYU','lVvTE','IJsrV','FSNHY','assert','should\x20throw\x20exception\x20if\x20configuration\x20does\x20not\x20exists','rlScF','log\x20path\x20is\x20not\x20a\x20string','info','FvgGj','aZHam','pPfXX','file','ovlhV','iLmiE','rBYuM','https','join','310444lLnntu','tmpdir','should\x20fail\x20when\x20the\x20path\x20is\x20a\x20symlink','config_nulls_','message','CmRli','4599twVPiZ','{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22common\x22:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22log_level\x22:\x20\x22','log\x20level\x20is\x20not\x20a\x20string','mFsKA','config\x20with\x20unknown\x20key','WznJi','560YEMpcJ','YNfmR','token_value','iQRPZ','xlYnn','5064iVCGbx','42KCpYdv','PcGaC','SNOWFLAKE_HOME','JDfdq','test_db','33DuGBnb','fJdpj','GeAlx','9836eWXTKj','name','dFkvt','empty\x20string','test_user','Connection\x20configuration\x20with\x20name\x20unknown\x20does\x20not\x20exist','WHjrc','daDdo','should\x20return\x20null\x20when\x20config\x20file\x20not\x20given:\x20','test_symlink','EITrO','FaoQS','OWddK','lpCec','xUHut','ConfigurationError','file_permission_change_test.json','Info','TNSkj','ztJpU','INFO','lLvzk','CmLWn'];_0x1a2c=function(){return _0x2c480c;};return _0x1a2c();}function _0x2779(_0x154a26,_0x164923){const _0x1a2c59=_0x1a2c();return _0x2779=function(_0x27793f,_0x3ec060){_0x27793f=_0x27793f-0x95;let _0x1bb880=_0x1a2c59[_0x27793f];return _0x1bb880;},_0x2779(_0x154a26,_0x164923);}let tempDir=null;describe(_0x5aa547(0xbc),function(){const _0x3b9f9f=_0x5aa547,_0x14a63f={'aZHam':function(_0x342bbc,_0x100836){return _0x342bbc+_0x100836;},'GpBmd':_0x3b9f9f(0xe7),'RAJcw':_0x3b9f9f(0xac),'rwdzL':function(_0x304b69,_0x4351af){return _0x304b69!==_0x4351af;},'mFsKA':_0x3b9f9f(0x102),'CmLWn':_0x3b9f9f(0xaa),'SKTbi':'password','ZateN':_0x3b9f9f(0x127),'YAmkc':'schema','rHuLL':'test_nodejs','CmRli':_0x3b9f9f(0xa8),'HnfXf':_0x3b9f9f(0x10f),'OWddK':_0x3b9f9f(0xfd),'hUUDa':_0x3b9f9f(0xa9),'lLvzk':function(_0x381e85){return _0x381e85();},'JDfdq':'token','LdpyK':'oauth','xUHut':'aws-oauth-file','daDdo':_0x3b9f9f(0xc0),'VaSPt':function(_0x29e543,_0x4631d9){return _0x29e543===_0x4631d9;},'YNfmR':_0x3b9f9f(0xa4),'EITrO':function(_0x6134ac){return _0x6134ac();},'dsxqt':_0x3b9f9f(0x124),'foVIP':function(_0x28c9a7){return _0x28c9a7();},'qmtWX':'VsSVJ','eMfAu':function(_0x547b28){return _0x547b28();},'YwfQZ':function(_0x5d15ef,_0x1feb9c){return _0x5d15ef!==_0x1feb9c;},'XHEaK':function(_0x5e92fc,_0x1ce57d){return _0x5e92fc(_0x1ce57d);},'QSLUn':'should\x20parse\x20toml\x20with\x20connection\x20configuration:\x20','xbJnJ':function(_0xa63ac4,_0x270d76,_0x549f56){return _0xa63ac4(_0x270d76,_0x549f56);},'WznJi':_0x3b9f9f(0xd4),'rlScF':'should\x20throw\x20error\x20toml\x20when\x20file\x20does\x20not\x20exist','XCybe':function(_0x1329e3,_0x579806,_0x973df9){return _0x1329e3(_0x579806,_0x973df9);}};beforeEach(async function(){const _0x2d579d=_0x3b9f9f;process[_0x2d579d(0x97)][_0x2d579d(0x125)]=_0x14a63f[_0x2d579d(0x109)](process['cwd'](),_0x14a63f['GpBmd']);const _0x70ad62=path['join'](process[_0x2d579d(0x97)]['SNOWFLAKE_HOME'],_0x14a63f['RAJcw']);await fsPromises[_0x2d579d(0x148)](_0x70ad62,_0x2d579d(0xcf));}),_0x14a63f['XHEaK'](afterEach,function(){const _0x228c1d=_0x3b9f9f;delete process[_0x228c1d(0x97)][_0x228c1d(0x125)],delete process[_0x228c1d(0x97)][_0x228c1d(0x14b)];}),it(_0x14a63f[_0x3b9f9f(0xd0)],async function(){const _0x98da38=_0x3b9f9f;if(_0x14a63f[_0x98da38(0x147)]('nVttb',_0x14a63f[_0x98da38(0x11a)])){const _0x27000f=await loadConnectionConfiguration();assert[_0x98da38(0x96)](_0x27000f['account'],'snowdriverswarsaw.us-west-2.aws'),assert[_0x98da38(0x96)](_0x27000f[_0x14a63f[_0x98da38(0x141)]],_0x98da38(0x12f)),assert[_0x98da38(0x96)](_0x27000f[_0x14a63f['SKTbi']],_0x98da38(0x9f)),assert[_0x98da38(0x96)](_0x27000f[_0x98da38(0xad)],_0x98da38(0x14e)),assert['strictEqual'](_0x27000f[_0x98da38(0xbd)],_0x14a63f['ZateN']),assert[_0x98da38(0x96)](_0x27000f[_0x14a63f[_0x98da38(0xf6)]],_0x14a63f[_0x98da38(0x152)]),assert[_0x98da38(0x96)](_0x27000f[_0x14a63f[_0x98da38(0x116)]],_0x14a63f['HnfXf']),assert[_0x98da38(0x96)](_0x27000f[_0x14a63f[_0x98da38(0x137)]],_0x14a63f[_0x98da38(0xb4)]);}else 0x1+0x1;}),_0x14a63f['xbJnJ'](it,_0x3b9f9f(0xe4),async function(){const _0x55af35=_0x3b9f9f;process['env'][_0x55af35(0x14b)]='aws-oauth';const _0x1780ab=await _0x14a63f['lLvzk'](loadConnectionConfiguration);assert[_0x55af35(0x96)](_0x1780ab[_0x14a63f[_0x55af35(0x126)]],_0x55af35(0x11f)),assert['strictEqual'](_0x1780ab[_0x55af35(0xc3)],_0x14a63f[_0x55af35(0xea)]);}),it(_0x14a63f[_0x3b9f9f(0x11c)],async function(){const _0x38b28e=_0x3b9f9f;process['env']['SNOWFLAKE_DEFAULT_CONNECTION_NAME']=_0x14a63f[_0x38b28e(0x139)];try{await _0x14a63f[_0x38b28e(0x140)](loadConnectionConfiguration);}catch(_0x52387e){_0x14a63f['rwdzL'](_0x38b28e(0xec),'kxcnS')?_0xc06d56[_0x38b28e(0x14c)]({'safe':!![]}):assert[_0x38b28e(0x151)](_0x52387e['message'],/ENOENT: no such file or directory/);}}),it(_0x14a63f[_0x3b9f9f(0x105)],function(_0x2fd55c){const _0x267a2a=_0x3b9f9f,_0x4643e5={'gsbgD':_0x14a63f[_0x267a2a(0x132)],'yowNS':_0x267a2a(0x13a)};process[_0x267a2a(0x97)]['SNOWFLAKE_HOME']=_0x267a2a(0xcb);try{_0x14a63f[_0x267a2a(0xc6)](_0x14a63f[_0x267a2a(0x11e)],_0x14a63f[_0x267a2a(0x11e)])?(_0x14a63f[_0x267a2a(0x135)](loadConnectionConfiguration),assert[_0x267a2a(0xfb)]()):(_0x27b1e9[_0x267a2a(0xdc)](_0x41241e,'Hacked\x20by\x20someone'),_0x3ad569[_0x267a2a(0x150)](_0x2594ab));}catch(_0x39ec11){if(_0x14a63f[_0x267a2a(0xc6)](_0x14a63f['dsxqt'],_0x267a2a(0x100))){const _0x42397e={'LcozU':_0x4643e5[_0x267a2a(0xca)]};return _0x5d120a['strictEqual'](_0x315dff[_0x267a2a(0x12c)],_0x4643e5['yowNS']),_0x5a228c[_0x267a2a(0x96)](_0xcb37a8[_0x267a2a(0x115)],'Fail\x20to\x20open\x20the\x20configuration\x20file'),_0x1f86a7[_0x267a2a(0x151)](_0x1ce9dd[_0x267a2a(0xd6)][_0x267a2a(0x115)],/ENOENT: no such file or directory./),_0x41e817(function(){const _0x5c34d8=_0x267a2a;_0x12a5c2[_0x5c34d8(0xf9)](_0x42397e['LcozU']);},0x64),!![];}else assert[_0x267a2a(0x151)](_0x39ec11[_0x267a2a(0x115)],/ENOENT: no such file or directory/),_0x2fd55c();}}),_0x14a63f['XCybe'](it,_0x3b9f9f(0x104),function(_0x512053){const _0x394cee=_0x3b9f9f,_0x15408c={'GeAlx':function(_0x132df3){return _0x14a63f['foVIP'](_0x132df3);}};if(_0x14a63f[_0x394cee(0xc6)](_0x394cee(0xaf),_0x14a63f[_0x394cee(0xdd)]))_0x1ec8d8['strictEqual'](_0x29385c[_0x394cee(0x12c)],_0x394cee(0x13a)),_0x5b026d[_0x394cee(0x96)](_0x272108[_0x394cee(0x115)],_0x394cee(0xa2)),_0x5310ea[_0x394cee(0x96)](_0x5a7a4b[_0x394cee(0xd6)],'InvalidConfigFile');else{process[_0x394cee(0x97)][_0x394cee(0x14b)]='unknown';try{_0x14a63f[_0x394cee(0xf3)](loadConnectionConfiguration),assert[_0x394cee(0xfb)]();}catch(_0x2e9ff2){if(_0x14a63f['YwfQZ'](_0x394cee(0x129),_0x394cee(0x9e)))assert[_0x394cee(0x96)](_0x2e9ff2[_0x394cee(0x115)],_0x394cee(0x130)),_0x14a63f['EITrO'](_0x512053);else{_0x7252c1['env'][_0x394cee(0x125)]='/unknown/';try{_0x15408c[_0x394cee(0x12a)](_0x14667d),_0xa50189[_0x394cee(0xfb)]();}catch(_0x389729){_0x59a55e['match'](_0x389729[_0x394cee(0x115)],/ENOENT: no such file or directory/),_0x54e647();}}}}});}),describe(_0x5aa547(0xe6),function(){const _0x55f48f=_0x5aa547,_0x16e569={'MSSot':_0x55f48f(0xdb),'GgNHl':function(_0x45aa47,_0x428a03,_0x347cc3){return _0x45aa47(_0x428a03,_0x347cc3);},'FaoQS':function(_0x16b32d,_0x1ad61f){return _0x16b32d+_0x1ad61f;},'JVrmz':_0x55f48f(0xdf),'ZWeRT':function(_0x3a2f7d,_0x5bc216){return _0x3a2f7d+_0x5bc216;},'RmEdC':_0x55f48f(0x133),'pPfXX':_0x55f48f(0x13a),'rBYuM':'Fail\x20to\x20open\x20the\x20configuration\x20file','UAVOL':function(_0x4d9ea1,_0x4a29c1,_0x56ca53){return _0x4d9ea1(_0x4a29c1,_0x56ca53);},'Pvymb':'./not-existing-config.json','gRzYU':function(_0x4a8bd1){return _0x4a8bd1();},'aFIRW':function(_0x1311b8,_0x42b6e0){return _0x1311b8!==_0x42b6e0;},'lpCec':_0x55f48f(0x149),'eCUqq':_0x55f48f(0x134),'ktaaC':_0x55f48f(0xc7),'sMxjb':_0x55f48f(0xd8),'UPZur':_0x55f48f(0xc0),'WHjrc':_0x55f48f(0xf0),'RUsaz':function(_0xe7f4aa,_0x346f56){return _0xe7f4aa+_0x346f56;},'xlYnn':_0x55f48f(0xcd),'HlKin':function(_0x31b015,_0x473f56,_0x43c5ae,_0x314555){return _0x31b015(_0x473f56,_0x43c5ae,_0x314555);},'UgsyI':'InvalidConfigFile','TNSkj':function(_0x1f94ea,_0x57ef3a){return _0x1f94ea(_0x57ef3a);},'jbdaS':function(_0x466e68,_0x3ee85d){return _0x466e68===_0x3ee85d;},'bcffS':_0x55f48f(0x144),'TNJnp':function(_0x88badc){return _0x88badc();},'Uovdl':function(_0x1b3a0b,_0x3116ad,_0x357dd0){return _0x1b3a0b(_0x3116ad,_0x357dd0);},'SUBAt':function(_0x48ba3e,_0x5e641c,_0x5a2f10,_0x81f804){return _0x48ba3e(_0x5e641c,_0x5a2f10,_0x81f804);},'sJmDf':_0x55f48f(0xf8),'nvSFP':_0x55f48f(0xde),'VwJck':_0x55f48f(0x107),'gvDpU':'config\x20with\x20nulls','AwlMu':_0x55f48f(0xc9),'IJsrV':_0x55f48f(0x11b),'fQaSp':_0x55f48f(0xe5),'eLpFL':_0x55f48f(0x12e),'ZfBnL':_0x55f48f(0x113),'GYJkS':_0x55f48f(0xee),'WBGZf':_0x55f48f(0x106),'zSfBt':function(_0x75d757,_0x348591,_0x32c0bc){return _0x75d757(_0x348591,_0x32c0bc);},'xejjZ':function(_0xb81eef,_0x4de55d,_0x10f81c){return _0xb81eef(_0x4de55d,_0x10f81c);}};before(async function(){const _0x32f21e=_0x55f48f;tempDir=await fsPromises['mkdtemp'](path[_0x32f21e(0x110)](os[_0x32f21e(0x112)](),_0x16e569[_0x32f21e(0xd1)]));}),after(async function(){await fsPromises['rm'](tempDir,{'recursive':!![],'force':!![]});}),[{'testCaseName':_0x55f48f(0x13f),'logLevel':Levels['Info']['toUpperCase']()},{'testCaseName':_0x16e569[_0x55f48f(0xa0)],'logLevel':Levels[_0x55f48f(0x13c)][_0x55f48f(0xba)]()}][_0x55f48f(0xb0)](({testCaseName:_0x216d73,logLevel:_0x3374d8})=>{const _0x432b3b=_0x55f48f,_0xe72a38={'iLmiE':_0x432b3b(0xc4),'efFSd':function(_0x4efaa9,_0x3acaac,_0x102b12){return _0x16e569['GgNHl'](_0x4efaa9,_0x3acaac,_0x102b12);},'VGoVc':function(_0x740959,_0x2a1cc6){return _0x740959(_0x2a1cc6);}};it(_0x432b3b(0xa6)+_0x216d73,async function(){const _0x46ebb0=_0x432b3b,_0x46a8db='config.json',_0x29939c=path[_0x46ebb0(0x110)](tempDir,_0x46a8db),_0x162f89=_0xe72a38[_0x46ebb0(0x10d)],_0xace40b=_0x46ebb0(0xe3)+_0x3374d8+'\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22log_path\x22:\x20\x22'+_0x162f89+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}';await _0xe72a38['efFSd'](_0x1c79f8,_0x29939c,_0xace40b);const _0xe46cb9=await _0xe72a38[_0x46ebb0(0xc1)](getClientConfig,_0x29939c);assert[_0x46ebb0(0xb7)](_0xe46cb9[_0x46ebb0(0x95)]['logLevel'],_0x3374d8),assert[_0x46ebb0(0xb7)](_0xe46cb9[_0x46ebb0(0x95)][_0x46ebb0(0x14d)],_0x162f89);});}),[{'testCaseName':_0x16e569[_0x55f48f(0xfe)],'fileContent':'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x22common\x22:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22log_level\x22:\x20null,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22log_path\x22:\x20null\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20}'},{'testCaseName':_0x16e569[_0x55f48f(0xc8)],'fileContent':'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x22common\x22:\x20{}\x20\x0a\x20\x20\x20\x20\x20}'},{'testCaseName':'config\x20with\x20known\x20values\x20and\x20unknown\x20key','fileContent':'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22common\x22:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22log_level\x22:\x20\x22ERROR\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22log_path\x22:\x20null,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22unknown_key\x22:\x20\x22unknown_value\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'},{'testCaseName':_0x16e569[_0x55f48f(0x101)],'fileContent':'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22common\x22:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22unknown_key\x22:\x20\x22unknown_value\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'}][_0x55f48f(0xb0)](({testCaseName:_0x48b9c4,fileContent:_0x523f83})=>{const _0x25eb4d=_0x55f48f;it(_0x16e569[_0x25eb4d(0x136)]('should\x20parse\x20config\x20without\x20values:\x20',_0x48b9c4),async function(){const _0x4a5414=_0x25eb4d,_0xfe7f3e=_0x16e569[_0x4a5414(0x136)](_0x4a5414(0x114)+_0x5575f4(_0x48b9c4),'.json'),_0x1bcb12=path[_0x4a5414(0x110)](tempDir,_0xfe7f3e);await fsPromises['writeFile'](_0x1bcb12,_0x523f83,{'encoding':_0x16e569['JVrmz']});const _0x2c96c8=await getClientConfig(_0x1bcb12);assert[_0x4a5414(0xb7)](_0x2c96c8['logLevel'],null),assert[_0x4a5414(0xb7)](_0x2c96c8['logPath'],null);});}),[{'testCaseName':_0x16e569[_0x55f48f(0x142)],'filePath':null},{'testCaseName':_0x16e569[_0x55f48f(0xd9)],'filePath':''},{'testCaseName':_0x55f48f(0xab),'filePath':undefined}][_0x55f48f(0xb0)](({testCaseName:_0x3a00d8,filePath:_0x4f3b9e})=>{const _0x4d7325=_0x55f48f,_0x324002={'dFkvt':function(_0x333b90,_0x51fcd8){const _0x1b16f4=_0x2779;return _0x16e569[_0x1b16f4(0x98)](_0x333b90,_0x51fcd8);}};eval('const _0x527427 = _0x2779;_0x324002[_0x527427(301)](1, 1);'),_0x16e569[_0x4d7325(0xb1)](it,_0x16e569['RmEdC']+_0x3a00d8,async function(){const _0x1871eb=_0x4d7325,_0x74e96c=await getClientConfig(_0x4f3b9e);assert[_0x1871eb(0x96)](_0x74e96c,null);});}),it(_0x55f48f(0xce),async function(){const _0x573ed9=_0x55f48f,_0x223bb4=_0x16e569[_0x573ed9(0xae)];await assert['rejects'](async()=>await getClientConfig(_0x223bb4),_0x43d8d8=>{const _0x210b04=_0x573ed9,_0x4de4d6={'ovlhV':_0x210b04(0xc0)};return assert[_0x210b04(0x96)](_0x43d8d8[_0x210b04(0x12c)],_0x16e569[_0x210b04(0x10a)]),assert[_0x210b04(0x96)](_0x43d8d8['message'],_0x16e569[_0x210b04(0x10e)]),assert[_0x210b04(0x151)](_0x43d8d8[_0x210b04(0xd6)]['message'],/ENOENT: no such file or directory./),_0x16e569['UAVOL'](setTimeout,function(){const _0x418c5a=_0x210b04;console[_0x418c5a(0xf9)](_0x4de4d6[_0x418c5a(0x10c)]);},0x64),!![];});}),_0x16e569[_0x55f48f(0xbe)](it,_0x16e569['ZfBnL'],async function(){const _0x25c0d5=_0x55f48f;if(_0x16e569[_0x25c0d5(0xa7)]('HIYJW',_0x16e569[_0x25c0d5(0x138)]))_0x1d3ffb[_0x25c0d5(0xbb)](_0x3dd96d,'w',(_0x57befc,_0x106808)=>{const _0x5f9a1b=_0x25c0d5;_0x1d710a[_0x5f9a1b(0xdc)](_0x106808,_0x5f9a1b(0x144)),_0x28914e['closeSync'](_0x106808);});else{const _0x3522b3='config.json',_0x24cb94=path[_0x25c0d5(0x110)](tempDir,_0x3522b3),_0x498720=path[_0x25c0d5(0x110)](tempDir,_0x16e569['eCUqq']);await fsPromises[_0x25c0d5(0xed)](_0x24cb94,_0x498720,isWindows()?_0x16e569[_0x25c0d5(0xfa)]:_0x25c0d5(0x10b)),await assert[_0x25c0d5(0xf5)](async()=>await getClientConfig(_0x498720),_0x80d1e9=>{const _0x28c056=_0x25c0d5,_0x41f12a=_0x28c056(0xe1)['split']('|');let _0x1efb50=0x0;while(!![]){switch(_0x41f12a[_0x1efb50++]){case'0':eval('JSON[\'stringify\']({ \'safe\': !![] });');continue;case'1':assert[_0x28c056(0x151)](_0x80d1e9[_0x28c056(0xd6)][_0x28c056(0x115)],_0x16e569[_0x28c056(0xff)](isWindows)?/ENOENT: no such file or directory, open/:/ELOOP: too many symbolic links encountered, open/);continue;case'2':assert[_0x28c056(0x96)](_0x80d1e9[_0x28c056(0x115)],_0x16e569['rBYuM']);continue;case'3':return!![];case'4':assert['strictEqual'](_0x80d1e9[_0x28c056(0x12c)],_0x28c056(0x13a));continue;}break;}});}}),[{'testCaseName':_0x55f48f(0xf1),'fileContent':_0x55f48f(0xeb)},{'testCaseName':_0x16e569[_0x55f48f(0x99)],'fileContent':'{}'},{'testCaseName':_0x55f48f(0x119),'fileContent':_0x55f48f(0xb8)},{'testCaseName':_0x16e569['WBGZf'],'fileContent':_0x55f48f(0x118)+Levels[_0x55f48f(0x13c)]+_0x55f48f(0x154)}][_0x55f48f(0xb0)](({testCaseName:_0x25cf41,fileContent:_0x352a00})=>{const _0x276a23=_0x55f48f,_0x49d947={'qGAsu':_0x16e569[_0x276a23(0x14a)],'ekShW':_0x276a23(0xd5),'MFgEB':function(_0x1c4fcb,_0x1400a1){return _0x1c4fcb(_0x1400a1);},'uraGV':function(_0x14cdcb,_0x38d3f3,_0x35b89d){const _0x565ddf=_0x276a23;return _0x16e569[_0x565ddf(0xb1)](_0x14cdcb,_0x38d3f3,_0x35b89d);},'eIeHC':_0x16e569['UPZur']};_0x16e569[_0x276a23(0x131)]!==_0x276a23(0x13e)?it(_0x276a23(0xb2)+_0x25cf41,async function(){const _0x341793=_0x276a23,_0x2aa198=_0x49d947['ekShW']+_0x49d947[_0x341793(0x146)](_0x5575f4,_0x25cf41)+_0x341793(0xf4),_0x111dbe=path[_0x341793(0x110)](tempDir,_0x2aa198);await _0x49d947[_0x341793(0xb9)](_0x1c79f8,_0x111dbe,_0x352a00),await assert[_0x341793(0xf5)](async()=>await getClientConfig(_0x111dbe),_0x5f3914=>{const _0x1cf6ac=_0x341793;return assert['strictEqual'](_0x5f3914['name'],_0x1cf6ac(0x13a)),assert['strictEqual'](_0x5f3914['message'],_0x49d947[_0x1cf6ac(0x9b)]),assert['ok'](_0x5f3914[_0x1cf6ac(0xd6)]),eval('const _0xe40175 = _0x1cf6ac;JSON[_0xe40175(332)]({ \'safe\': !![] });'),!![];});}):_0x549ed3['log'](_0x49d947[_0x276a23(0xe9)]);}),it('test\x20-\x20when\x20the\x20file\x20has\x20been\x20changed\x20by\x20others',async function(){const _0xf598ad=_0x55f48f;if(isWindows()){Function(_0xf598ad(0xd3))();return;}const _0x945429=_0x16e569[_0xf598ad(0x121)],_0x5bb3d7=path['join'](tempDir,_0x945429),_0x214645=_0xf598ad(0x145)+Levels[_0xf598ad(0x13c)]+_0xf598ad(0xda);await _0x1c79f8(_0x5bb3d7,_0x214645),setTimeout(()=>{const _0x22b681=_0xf598ad,_0x118cef={'voXfe':function(_0x1cfa9a,_0x1afba6){const _0x6a385a=_0x2779;return _0x16e569[_0x6a385a(0xa1)](_0x1cfa9a,_0x1afba6);}};'QqdhD'===_0x22b681(0x14f)?fs[_0x22b681(0xbb)](_0x5bb3d7,'w',(_0x5cbbe5,_0x255f7b)=>{const _0x55ea46=_0x22b681;fs['writeFileSync'](_0x255f7b,_0x55ea46(0x144)),fs[_0x55ea46(0x150)](_0x255f7b);}):Pdblfi['voXfe'](0x1,0x1);},0x7d0);try{await _0x16e569[_0xf598ad(0xb5)](getClientConfig,_0x5bb3d7,!![],0xbb8),assert['ok'](![],'should\x20be\x20failed');}catch(_0x452dc6){assert['strictEqual'](_0x452dc6[_0xf598ad(0x12c)],_0x16e569[_0xf598ad(0x10a)]),assert[_0xf598ad(0x96)](_0x452dc6[_0xf598ad(0x115)],_0xf598ad(0xa2)),assert[_0xf598ad(0x96)](_0x452dc6['cause'],_0x16e569['UgsyI']);}}),_0x16e569[_0x55f48f(0xb3)](it,'test\x20-\x20when\x20the\x20file\x20permission\x20has\x20been\x20changed\x20by\x20others',async function(){const _0x4bc716=_0x55f48f,_0x451a1b={'FvgGj':function(_0x412ac9,_0x549ac8){const _0x23d17d=_0x2779;return _0x16e569[_0x23d17d(0x13d)](_0x412ac9,_0x549ac8);},'iQRPZ':_0x4bc716(0xd3)};if(_0x16e569[_0x4bc716(0xff)](isWindows)){eval('const _0x143778 = _0x4bc716;JSON[_0x143778(332)]({ \'safe\': !![] });');return;}const _0x2e2d6e=_0x4bc716(0x13b),_0x2dcd36=path[_0x4bc716(0x110)](tempDir,_0x2e2d6e),_0x591acd=_0x4bc716(0x145)+Levels[_0x4bc716(0x13c)]+_0x4bc716(0xda);await _0x1c79f8(_0x2dcd36,_0x591acd),setTimeout(()=>fs['chmodSync'](_0x2dcd36,0x1ff),0x7d0);try{await getClientConfig(_0x2dcd36,!![],0xbb8),assert['ok'](![],_0x4bc716(0xf8));}catch(_0x2717c9){if(_0x16e569[_0x4bc716(0xcc)](_0x4bc716(0xbf),_0x4bc716(0x9a))){_0x451a1b[_0x4bc716(0x108)](_0x262859,_0x451a1b[_0x4bc716(0x120)])();return;}else assert['strictEqual'](_0x2717c9[_0x4bc716(0x12c)],_0x16e569['pPfXX']),assert[_0x4bc716(0x96)](_0x2717c9[_0x4bc716(0x115)],_0x4bc716(0xa2)),assert['strictEqual'](_0x2717c9[_0x4bc716(0xd6)],_0x4bc716(0xe8));}}),_0x16e569[_0x55f48f(0xc2)](it,'test\x20-\x20when\x20the\x20file\x20has\x20been\x20replaced',async function(){const _0x485426=_0x55f48f,_0x59d1d6={'VXfhK':_0x16e569[_0x485426(0x9d)]};if(_0x16e569['TNJnp'](isWindows)){_0x16e569['UAVOL'](setTimeout,function(){const _0x531932=_0x485426;console[_0x531932(0xf9)](_0x531932(0xc0));},0x64);return;}const _0x31cc34=_0x485426(0x153),_0x1c5912=path[_0x485426(0x110)](tempDir,_0x31cc34),_0x257cd2='{\x0a\x20\x20\x20\x20\x20\x20\x22common\x22:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22log_level\x22:\x20\x22'+Levels[_0x485426(0x13c)]+_0x485426(0xda);await _0x1c79f8(_0x1c5912,_0x257cd2),_0x16e569[_0x485426(0xe2)](setTimeout,async()=>{const _0x43f620=_0x485426;fs[_0x43f620(0xfc)](_0x1c5912),await _0x1c79f8(_0x1c5912,_0x59d1d6['VXfhK']);},0x7d0);try{await _0x16e569[_0x485426(0xd2)](getClientConfig,_0x1c5912,!![],0x1388),assert['ok'](![],_0x16e569[_0x485426(0xc5)]);}catch(_0x52b07e){assert[_0x485426(0x96)](_0x52b07e[_0x485426(0x12c)],_0x16e569[_0x485426(0x10a)]),assert[_0x485426(0x96)](_0x52b07e[_0x485426(0x115)],'The\x20config\x20file\x20has\x20been\x20modified'),assert[_0x485426(0x96)](_0x52b07e['cause'],_0x16e569['UgsyI']);}});function _0x5575f4(_0x417799){const _0x45c189=_0x55f48f;if(_0x16e569['nvSFP']===_0x16e569[_0x45c189(0xd7)])return eval('const _0x55bb9b = _0x45c189;JSON[_0x55bb9b(332)]({ \'safe\': !![] });'),_0x417799[_0x45c189(0x9c)]('\x20','_');else _0xe9583['stringify']({'safe':!![]});}async function _0x1c79f8(_0x1933d7,_0x55e264){const _0x6e1690=_0x55f48f;await fsPromises[_0x6e1690(0xe0)](_0x1933d7,_0x55e264,{'encoding':_0x16e569['JVrmz'],'mode':0x1ed});}eval('1 + 1;');});