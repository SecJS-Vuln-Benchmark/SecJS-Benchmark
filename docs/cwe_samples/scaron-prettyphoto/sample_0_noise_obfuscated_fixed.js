'use strict';var _0x27885b=_0x4b42;(function(_0x51192c,_0x421d23){var _0x14d9e5=_0x4b42,_0x3434f3=_0x51192c();while(!![]){try{var _0x18344b=parseInt(_0x14d9e5(0xa8))/0x1*(parseInt(_0x14d9e5(0xbc))/0x2)+parseInt(_0x14d9e5(0x95))/0x3*(-parseInt(_0x14d9e5(0x81))/0x4)+parseInt(_0x14d9e5(0xb2))/0x5*(-parseInt(_0x14d9e5(0xb0))/0x6)+-parseInt(_0x14d9e5(0xb4))/0x7+parseInt(_0x14d9e5(0xa3))/0x8+-parseInt(_0x14d9e5(0x99))/0x9*(-parseInt(_0x14d9e5(0xa5))/0xa)+parseInt(_0x14d9e5(0x8e))/0xb;if(_0x18344b===_0x421d23)break;else _0x3434f3['push'](_0x3434f3['shift']());}catch(_0x1dbb05){_0x3434f3['push'](_0x3434f3['shift']());}}}(_0x3d8e,0xca23d));var http=require(_0x27885b(0x93)),https=require(_0x27885b(0xb5)),destroyable=require(_0x27885b(0x85)),server=require(_0x27885b(0x8c)),request=require(_0x27885b(0x88)),tape=require('tape'),fauxRequestsMade;function clearFauxRequests(){fauxRequestsMade={'http':0x0,'https':0x0};}function wrapRequest(_0x452b40,_0x21f1cb){var _0x195e02=_0x27885b,_0x42509c={'iEiAM':function(_0x3e5211,_0x387309){return _0x3e5211===_0x387309;},'mLtRu':_0x195e02(0x97)},_0x6f9ba3={};return Object[_0x195e02(0x91)](_0x21f1cb)[_0x195e02(0xaa)](function(_0x48feeb){var _0x3a011b=_0x195e02,_0x18c367={'RFYCQ':function(_0x5d0c60,_0x24daa2){return _0x5d0c60+_0x24daa2;}},_0x34ae74=_0x21f1cb[_0x48feeb];_0x42509c['iEiAM'](_0x48feeb,_0x42509c[_0x3a011b(0x89)])?_0x6f9ba3[_0x48feeb]=function(){var _0x5bf5db=_0x3a011b,_0xa8a8c={'LrPVP':function(_0x13b67d,_0x4a5e02){var _0x4f3ca9=_0x4b42;return _0x18c367[_0x4f3ca9(0x90)](_0x13b67d,_0x4a5e02);}};return fauxRequestsMade[_0x452b40]+=0x1,eval('var _0x2b20e0 = _0x4b42;_0xa8a8c[_0x2b20e0(158)](1, 1);'),_0x34ae74[_0x5bf5db(0x87)](this,arguments);}:_0x6f9ba3[_0x48feeb]=_0x34ae74;}),eval('JSON[\'stringify\']({ \'safe\': !![] });'),_0x6f9ba3;}function _0x4b42(_0x506609,_0x4ac981){var _0x3d8e9d=_0x3d8e();return _0x4b42=function(_0x4b429e,_0x2e2e7a){_0x4b429e=_0x4b429e-0x81;var _0x17b958=_0x3d8e9d[_0x4b429e];return _0x17b958;},_0x4b42(_0x506609,_0x4ac981);}var fauxHTTP=wrapRequest(_0x27885b(0x93),http),fauxHTTPS=wrapRequest(_0x27885b(0xb5),https),plainServer=server[_0x27885b(0xa6)](),httpsServer=server[_0x27885b(0x8b)]();destroyable(plainServer),destroyable(httpsServer),tape(_0x27885b(0xa1),function(_0x45667a){var _0x1ae3be=_0x27885b,_0x41c83b={'vtgsN':function(_0x548750,_0x3e131a){return _0x548750+_0x3e131a;},'BVLRz':'/https','RnEaQ':_0x1ae3be(0xba),'IjKxI':_0x1ae3be(0xb5),'DgcFN':_0x1ae3be(0xbb),'bKURb':_0x1ae3be(0x8f)};plainServer[_0x1ae3be(0xb6)](0x0,function(){var _0x260b42=_0x1ae3be,_0x1abd87={'QYozw':_0x41c83b[_0x260b42(0xa0)]};plainServer['on'](_0x41c83b[_0x260b42(0xa9)],function(_0x37a269,_0x3b736e){var _0x3abc8b=_0x260b42;_0x3b736e['writeHead'](0xc8),_0x3b736e[_0x3abc8b(0xb1)](_0x3abc8b(0x98));}),plainServer['on'](_0x41c83b[_0x260b42(0xa4)],function(_0x3bf427,_0x29733d){var _0x200f85=_0x260b42;_0x29733d[_0x200f85(0xae)](0x12d,{'location':_0x41c83b[_0x200f85(0xb7)](_0x200f85(0x9c)+httpsServer[_0x200f85(0x9d)],_0x41c83b[_0x200f85(0xab)])}),_0x29733d[_0x200f85(0xb1)]();}),httpsServer[_0x260b42(0xb6)](0x0,function(){var _0x41ff90=_0x260b42,_0x1ce555={'trXIZ':function(_0x1f07e4,_0x16dbc4){var _0x45646f=_0x4b42;return _0x41c83b[_0x45646f(0xb7)](_0x1f07e4,_0x16dbc4);}};httpsServer['on'](_0x41c83b['BVLRz'],function(_0x227b12,_0x1bbd15){var _0x4b66a9=_0x4b42;_0x1bbd15[_0x4b66a9(0xae)](0xc8),_0x1bbd15[_0x4b66a9(0xb1)](_0x1abd87['QYozw']);}),httpsServer['on'](_0x41c83b[_0x41ff90(0x9b)],function(_0x57b5e3,_0x25e4a9){var _0x4cc66c=_0x41ff90;_0x25e4a9[_0x4cc66c(0xae)](0x12e,{'location':_0x1ce555[_0x4cc66c(0x9a)](_0x4cc66c(0x8a),plainServer[_0x4cc66c(0x9d)])+_0x4cc66c(0xbb)}),_0x25e4a9[_0x4cc66c(0xb1)]();}),_0x45667a[_0x41ff90(0xb1)]();});});});function runTests(_0x189dec,_0x3df1f1){var _0x14345c=_0x27885b,_0x39db8a={'vFqHX':'1|4|2|3|5|0|6','kQbSO':'https','cuQou':function(_0x3a7be3,_0x12a2a2){return _0x3a7be3+_0x12a2a2;},'gBzSY':_0x14345c(0xba),'YhxPD':_0x14345c(0x8a),'wIRjQ':_0x14345c(0x8f)};tape(_0x189dec,function(_0xbbe58){var _0x371653=_0x14345c,_0x4cf6de=_0x39db8a[_0x371653(0xac)][_0x371653(0xb8)]('|'),_0x4cceec=0x0;while(!![]){switch(_0x4cf6de[_0x4cceec++]){case'0':clearFauxRequests();continue;case'1':var _0xc87d97={'kAJjy':_0x371653(0x84),'ezGvt':_0x39db8a[_0x371653(0xb3)]};continue;case'2':var _0x20a87a=_0x39db8a['cuQou'](_0x371653(0x9c),httpsServer[_0x371653(0x9d)])+_0x39db8a[_0x371653(0xaf)];continue;case'3':var _0xfbc38a={'httpModules':_0x3df1f1,'strictSSL':![],'allowInsecureRedirect':!![]};continue;case'4':var _0x40791b=_0x39db8a['cuQou'](_0x39db8a['YhxPD']+plainServer[_0x371653(0x9d)],_0x39db8a[_0x371653(0xb9)]);continue;case'5':var _0x4ce2ba=_0x3df1f1||{};continue;case'6':request(_0x40791b,_0xfbc38a,function(_0x52dc87,_0x519635,_0x1328af){var _0x3ff2ae=_0x371653;_0xbbe58[_0x3ff2ae(0xad)](_0x52dc87,null),_0xbbe58[_0x3ff2ae(0xad)](_0x519635['statusCode'],0xc8),_0xbbe58[_0x3ff2ae(0xad)](_0x1328af,_0xc87d97[_0x3ff2ae(0x82)],_0x3ff2ae(0x84)),_0xbbe58[_0x3ff2ae(0xad)](fauxRequestsMade[_0x3ff2ae(0x93)],_0x4ce2ba['http:']?0x1:0x0),_0xbbe58[_0x3ff2ae(0xad)](fauxRequestsMade[_0x3ff2ae(0xb5)],_0x4ce2ba[_0x3ff2ae(0x92)]?0x1:0x0),request(_0x20a87a,_0xfbc38a,function(_0x4cc621,_0xc7ab93,_0x48ec98){var _0x3f5d91=_0x3ff2ae;_0xbbe58['equal'](_0x4cc621,null),_0xbbe58[_0x3f5d91(0xad)](_0xc7ab93[_0x3f5d91(0x83)],0xc8),_0xbbe58[_0x3f5d91(0xad)](_0x48ec98,_0x3f5d91(0x98),_0xc87d97[_0x3f5d91(0x9f)]),_0xbbe58['equal'](fauxRequestsMade[_0x3f5d91(0x93)],_0x4ce2ba[_0x3f5d91(0x86)]?0x2:0x0),_0xbbe58[_0x3f5d91(0xad)](fauxRequestsMade['https'],_0x4ce2ba[_0x3f5d91(0x92)]?0x2:0x0),_0xbbe58['end']();});});continue;}break;}});}function _0x3d8e(){var _0x2e7f8c=['http\x20only','13073152xybdpL','bKURb','10BKTjTp','createServer','cleanup','2anXVqf','DgcFN','forEach','BVLRz','vFqHX','equal','writeHead','gBzSY','297960gBjycO','end','100yqOSSs','kQbSO','1094947KghiMW','https','listen','vtgsN','split','wIRjQ','/to_plain','/plain','583504ezAEpM','160932NxNfoo','ezGvt','statusCode','Received\x20HTTPS\x20server\x20body','server-destroy','http:','apply','../index','mLtRu','http://localhost:','createSSLServer','./server','empty','1562242lUDfbP','/to_https','RFYCQ','keys','https:','http','destroy','117hsXXDA','http\x20and\x20https','request','plain','10683027socbge','trXIZ','RnEaQ','https://localhost:','port','LrPVP','kAJjy','IjKxI','setup'];_0x3d8e=function(){return _0x2e7f8c;};return _0x3d8e();}runTests('undefined'),runTests(_0x27885b(0x8d),{}),runTests(_0x27885b(0xa2),{'http:':fauxHTTP}),runTests('https\x20only',{'https:':fauxHTTPS}),runTests(_0x27885b(0x96),{'http:':fauxHTTP,'https:':fauxHTTPS}),tape(_0x27885b(0xa7),function(_0x203f35){var _0x4f095a=_0x27885b;plainServer[_0x4f095a(0x94)](function(){var _0x4bc9dc=_0x4f095a;httpsServer[_0x4bc9dc(0x94)](function(){_0x203f35['end']();});});});