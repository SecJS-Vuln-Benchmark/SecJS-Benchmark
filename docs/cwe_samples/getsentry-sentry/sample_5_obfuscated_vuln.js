const _0x3c18f9=_0x576b;function _0x576b(_0x33512c,_0x16cdae){const _0x3fe913=_0x3fe9();return _0x576b=function(_0x576bd3,_0x55117f){_0x576bd3=_0x576bd3-0xd1;let _0x3e12bb=_0x3fe913[_0x576bd3];return _0x3e12bb;},_0x576b(_0x33512c,_0x16cdae);}function _0x3fe9(){const _0xd46ed6=['UmUKc','test/repo','4613496MKpLPB','steps','EexFz','4mpQHbw','OjSRZ','jylEp','calledWith','10143006PoPiyD','422PYHxTp','EXeqT','1730TiMTMZ','15620QkCBWE','proxyquire','prototype','should\x20execute\x20git\x20receive-pack\x20with\x20correct\x20parameters','JPcgb','URYzK','3511055GotouD','fsbjT','cjkHZ','TfmMN','evjzA','qvKIV','error','displayName','14071473DsAJyQ','1234567890','returns','equal','xpykQ','receive-pack','throws','restore','writePack.exec','zOulv','stub','chai','awJDj','true','7ZUerSd','HAjgj','Icdfx','utf-8','ZPeJJ','have','7387072hnoGBF','executing\x20git\x20receive-pack\x20repo','../../src/proxy/actions','Expected\x20error\x20to\x20be\x20thrown','PuvzI','firstCall','proxyGitPath','iOWww','kiZRJ','git','lengthOf','should\x20always\x20add\x20the\x20step\x20to\x20the\x20action\x20even\x20if\x20error\x20occurs','spy','../../src/proxy/processors/push-action/writePack','DCjis','tKHjX','deep','writePack','setError','pack\x20data','qLGVI','sinon','git\x20error','POST','repo','args','9251Kspmsd','nWqNt','include','exec','YJoiR','calledOnce','setContent','mlhMR','log','git\x20receive-pack\x20output','WGJDh','push','yIvrt','should\x20handle\x20errors\x20from\x20git\x20receive-pack','/path/to/repo'];_0x3fe9=function(){return _0xd46ed6;};return _0x3fe9();}(function(_0x1f3911,_0x4b0368){const _0x547b19=_0x576b,_0x5be2c5=_0x1f3911();while(!![]){try{const _0x5cbd66=parseInt(_0x547b19(0xf9))/0x1*(-parseInt(_0x547b19(0xfb))/0x2)+parseInt(_0x547b19(0xf1))/0x3+parseInt(_0x547b19(0xf4))/0x4*(parseInt(_0x547b19(0x102))/0x5)+-parseInt(_0x547b19(0xf8))/0x6+-parseInt(_0x547b19(0x118))/0x7*(-parseInt(_0x547b19(0x11e))/0x8)+-parseInt(_0x547b19(0x10a))/0x9+-parseInt(_0x547b19(0xfc))/0xa*(-parseInt(_0x547b19(0xe0))/0xb);if(_0x5cbd66===_0x4b0368)break;else _0x5be2c5['push'](_0x5be2c5['shift']());}catch(_0x14e161){_0x5be2c5['push'](_0x5be2c5['shift']());}}}(_0x3fe9,0xd17b9));const chai=require(_0x3c18f9(0x115)),sinon=require(_0x3c18f9(0xdb)),proxyquire=require(_0x3c18f9(0xfd)),{Action,Step}=require(_0x3c18f9(0x120));chai['should']();const expect=chai['expect'];describe(_0x3c18f9(0xd7),()=>{const _0x3a6a57=_0x3c18f9,_0x277fbd={'awJDj':_0x3a6a57(0x112),'jylEp':'xLmTH','zOulv':_0x3a6a57(0xe9),'JPcgb':_0x3a6a57(0xe6),'kiZRJ':function(_0xf875b8,_0x5f419a,_0x171801){return _0xf875b8(_0x5f419a,_0x171801);},'dCuBz':_0x3a6a57(0xec),'nWqNt':_0x3a6a57(0x10b),'uGAnt':_0x3a6a57(0xeb),'UmUKc':_0x3a6a57(0xdd),'YJoiR':_0x3a6a57(0xf0),'iOWww':function(_0x294471,_0xc3552b){return _0x294471(_0xc3552b);},'evjzA':_0x3a6a57(0x10f),'mlhMR':function(_0x3fca31,_0x9f2b6e){return _0x3fca31(_0x9f2b6e);},'OjSRZ':_0x3a6a57(0xee),'qLGVI':_0x3a6a57(0x11b),'TfmMN':function(_0x2ba78f,_0x159940){return _0x2ba78f(_0x159940);},'EXeqT':function(_0x3dc288,_0x144f91){return _0x3dc288(_0x144f91);},'DCjis':_0x3a6a57(0xdc),'qvKIV':function(_0x1964d7,_0x2d1c84,_0x18d9d7){return _0x1964d7(_0x2d1c84,_0x18d9d7);},'xqFDh':function(_0x5967ea,_0x4eabb5){return _0x5967ea(_0x4eabb5);},'Icdfx':function(_0x43314f,_0x5936f8){return _0x43314f(_0x5936f8);},'fmTFc':_0x3a6a57(0x119),'PuvzI':_0x3a6a57(0xff),'ZPeJJ':_0x3a6a57(0xed),'URYzK':function(_0x1b4f13,_0x1a9751,_0x2f4b87){return _0x1b4f13(_0x1a9751,_0x2f4b87);},'OPsWl':function(_0x39a967,_0x4b65e9){return _0x39a967(_0x4b65e9);},'xpykQ':function(_0x506bac,_0x4d910e){return _0x506bac(_0x4d910e);},'EexFz':function(_0x5244f4,_0x2c3982,_0x50c3a8){return _0x5244f4(_0x2c3982,_0x50c3a8);},'FRjay':'exec'};let _0x4e226d,_0x2f4eab,_0x33bae0,_0x511878,_0xc988b6;_0x277fbd['OPsWl'](beforeEach,()=>{const _0x1e74f7=_0x3a6a57;if(_0x277fbd[_0x1e74f7(0xf6)]!==_0x1e74f7(0x104)){_0x2f4eab=sinon[_0x1e74f7(0x114)]()[_0x1e74f7(0x10c)]({'stdout':_0x277fbd[_0x1e74f7(0x113)],'stderr':'','status':0x0}),_0x33bae0=sinon[_0x1e74f7(0xd2)](Step[_0x1e74f7(0xfe)],_0x1e74f7(0xe8)),_0x511878=sinon['spy'](Step[_0x1e74f7(0xfe)],_0x277fbd[_0x1e74f7(0x100)]),_0xc988b6=sinon[_0x1e74f7(0xd2)](Step[_0x1e74f7(0xfe)],_0x1e74f7(0xd8));const _0x3a3578=_0x277fbd[_0x1e74f7(0x126)](proxyquire,_0x1e74f7(0xd3),{'child_process':{'spawnSync':_0x2f4eab}});_0x4e226d=_0x3a3578[_0x1e74f7(0xe3)];}else _0x476576(_0x24386c[_0x1e74f7(0x109)])['to'][_0x1e74f7(0x10d)](_0x277fbd[_0x1e74f7(0x116)]);}),_0x277fbd[_0x3a6a57(0x10e)](afterEach,()=>{const _0x667bec=_0x3a6a57;_0x667bec(0x103)!==_0x277fbd['dCuBz']?sinon[_0x667bec(0x111)]():(_0xa800fa={'body':_0x667bec(0xd9)},_0xccccd4=new _0x39ebe4(_0x667bec(0x10b),_0x667bec(0xeb),_0x667bec(0xdd),0x499602d2,_0x667bec(0xf0)),_0x118194[_0x667bec(0x124)]='/path/to/repo');}),_0x277fbd[_0x3a6a57(0xf3)](describe,_0x277fbd['FRjay'],()=>{const _0x417c0e=_0x3a6a57,_0x42f8e1={'WGJDh':function(_0xa3c657,_0x54dc05,_0x579baf){return _0xa3c657(_0x54dc05,_0x579baf);},'VEtSs':_0x277fbd['fmTFc'],'tKHjX':_0x277fbd[_0x417c0e(0x116)]};let _0xd11ac9,_0x25484e;beforeEach(()=>{const _0x41f2f4=_0x417c0e;_0x25484e={'body':'pack\x20data'},_0xd11ac9=new Action(_0x277fbd[_0x41f2f4(0xe1)],_0x277fbd['uGAnt'],_0x277fbd[_0x41f2f4(0xef)],0x499602d2,_0x277fbd[_0x41f2f4(0xe4)]),_0xd11ac9[_0x41f2f4(0x124)]='/path/to/repo';}),it(_0x277fbd[_0x417c0e(0x122)],async()=>{const _0x3158e5=_0x417c0e,_0x3cfd1b=await _0x4e226d(_0x25484e,_0xd11ac9);expect(_0x2f4eab[_0x3158e5(0xe5)])['to']['be'][_0x3158e5(0x117)],_0x277fbd[_0x3158e5(0x125)](expect,_0x2f4eab[_0x3158e5(0x123)][_0x3158e5(0xdf)][0x0])['to'][_0x3158e5(0x10d)](_0x3158e5(0x127)),expect(_0x2f4eab[_0x3158e5(0x123)][_0x3158e5(0xdf)][0x1])['to'][_0x3158e5(0xd6)][_0x3158e5(0x10d)]([_0x277fbd[_0x3158e5(0x106)],_0x3158e5(0xde)]),_0x277fbd[_0x3158e5(0xe7)](expect,_0x2f4eab[_0x3158e5(0x123)][_0x3158e5(0xdf)][0x2])['to'][_0x3158e5(0xd6)][_0x3158e5(0x10d)]({'cwd':_0x277fbd[_0x3158e5(0xf5)],'input':_0x3158e5(0xd9),'encoding':_0x277fbd[_0x3158e5(0xda)]}),_0x277fbd[_0x3158e5(0x105)](expect,_0x33bae0[_0x3158e5(0xf7)](_0x3158e5(0x11f)))['to']['be'][_0x3158e5(0x117)],expect(_0x33bae0[_0x3158e5(0xf7)](_0x3158e5(0xe9)))['to']['be']['true'],expect(_0x511878[_0x3158e5(0xf7)](_0x277fbd[_0x3158e5(0x113)]))['to']['be'][_0x3158e5(0x117)],_0x277fbd['iOWww'](expect,_0x3cfd1b['steps'])['to'][_0x3158e5(0x11d)][_0x3158e5(0x128)](0x1),_0x277fbd[_0x3158e5(0xfa)](expect,_0x3cfd1b['steps'][0x0][_0x3158e5(0x108)])['to']['be']['false'];}),it(_0x277fbd[_0x417c0e(0x11c)],async()=>{const _0x1b8bc7=_0x417c0e,_0x204613=new Error(_0x277fbd[_0x1b8bc7(0xd4)]);_0x2f4eab[_0x1b8bc7(0x110)](_0x204613);try{await _0x277fbd[_0x1b8bc7(0x107)](_0x4e226d,_0x25484e,_0xd11ac9);throw new Error(_0x1b8bc7(0x121));}catch(_0x434652){_0x277fbd['xqFDh'](expect,_0xc988b6[_0x1b8bc7(0xe5)])['to']['be'][_0x1b8bc7(0x117)],_0x277fbd['TfmMN'](expect,_0xc988b6[_0x1b8bc7(0x123)][_0x1b8bc7(0xdf)][0x0])['to'][_0x1b8bc7(0xe2)](_0x277fbd[_0x1b8bc7(0xd4)]),_0x277fbd[_0x1b8bc7(0x11a)](expect,_0xd11ac9[_0x1b8bc7(0xf2)])['to'][_0x1b8bc7(0x11d)][_0x1b8bc7(0x128)](0x1),expect(_0xd11ac9[_0x1b8bc7(0xf2)][0x0][_0x1b8bc7(0x108)])['to']['be'][_0x1b8bc7(0x117)];}}),it(_0x417c0e(0xd1),async()=>{const _0x1854ac=_0x417c0e;_0x2f4eab[_0x1854ac(0x110)](new Error('git\x20error'));try{await _0x42f8e1[_0x1854ac(0xea)](_0x4e226d,_0x25484e,_0xd11ac9);}catch(_0x44e24a){'lXPhh'===_0x42f8e1['VEtSs']?_0x37a8ba(_0x465b97[_0x1854ac(0xf2)])['to'][_0x1854ac(0x11d)][_0x1854ac(0x128)](0x1):expect(_0xd11ac9[_0x1854ac(0xf2)])['to']['have'][_0x1854ac(0x128)](0x1);}}),_0x277fbd[_0x417c0e(0x101)](it,'should\x20have\x20the\x20correct\x20displayName',()=>{const _0x15ffbe=_0x417c0e;expect(_0x4e226d[_0x15ffbe(0x109)])['to'][_0x15ffbe(0x10d)](_0x42f8e1[_0x15ffbe(0xd5)]);});});});