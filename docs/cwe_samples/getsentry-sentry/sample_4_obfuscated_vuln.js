function _0x11dc(_0x46a248,_0x359f46){const _0x49edb5=_0x49ed();return _0x11dc=function(_0x11dc53,_0x21c50c){_0x11dc53=_0x11dc53-0x1d0;let _0x4bb1d0=_0x49edb5[_0x11dc53];return _0x4bb1d0;},_0x11dc(_0x46a248,_0x359f46);}const _0x5140f7=_0x11dc;(function(_0x8f1b49,_0x28f3ac){const _0x2acc28=_0x11dc,_0x3389cf=_0x8f1b49();while(!![]){try{const _0x1f21f8=-parseInt(_0x2acc28(0x1f3))/0x1*(parseInt(_0x2acc28(0x201))/0x2)+-parseInt(_0x2acc28(0x1df))/0x3+-parseInt(_0x2acc28(0x204))/0x4*(parseInt(_0x2acc28(0x1d2))/0x5)+parseInt(_0x2acc28(0x220))/0x6+-parseInt(_0x2acc28(0x1ec))/0x7+parseInt(_0x2acc28(0x1d0))/0x8*(-parseInt(_0x2acc28(0x20a))/0x9)+parseInt(_0x2acc28(0x213))/0xa*(parseInt(_0x2acc28(0x1d4))/0xb);if(_0x1f21f8===_0x28f3ac)break;else _0x3389cf['push'](_0x3389cf['shift']());}catch(_0x2e2c23){_0x3389cf['push'](_0x3389cf['shift']());}}}(_0x49ed,0x41ac2));const path=require('path'),simpleGit=require('simple-git'),fs=require('fs')[_0x5140f7(0x1ff)],{Action}=require(_0x5140f7(0x1e6)),{exec}=require('../../src/proxy/processors/push-action/getDiff'),chai=require(_0x5140f7(0x1e2)),expect=chai[_0x5140f7(0x1d1)];describe(_0x5140f7(0x1e9),()=>{const _0x465db2=_0x5140f7,_0x2a0b0b={'IdVzF':'test','nAzke':_0x465db2(0x1f7),'QnySI':_0x465db2(0x21b),'zLaxr':_0x465db2(0x1d3),'DIRHO':_0x465db2(0x1d7),'dzSmQ':_0x465db2(0x1e7),'DMhkW':_0x465db2(0x1dd),'fMBCu':_0x465db2(0x1f5),'YnEdF':_0x465db2(0x207),'vdPyP':'test/repo','IpPQA':_0x465db2(0x215),'PvXJg':function(_0x1d2523,_0x1219bf){return _0x1d2523(_0x1219bf);},'PYuuO':function(_0x6d7595,_0x35cd00){return _0x6d7595(_0x35cd00);},'RChEj':_0x465db2(0x212),'BDnbs':_0x465db2(0x1d9),'WIoYF':_0x465db2(0x21e),'pgaod':function(_0xce897f,_0x33285b){return _0xce897f(_0x33285b);},'zcqxx':function(_0x4e9a34,_0x27a85a,_0x22c324){return _0x4e9a34(_0x27a85a,_0x22c324);},'MqfcO':_0x465db2(0x221),'YrPvs':_0x465db2(0x20d),'oxSEN':function(_0x1b1c97,_0x3aedc2){return _0x1b1c97(_0x3aedc2);},'mIZKw':function(_0xe86cd,_0x77dfcf){return _0xe86cd(_0x77dfcf);},'YvJil':_0x465db2(0x1ea),'UhjtH':_0x465db2(0x1d8),'kadfx':_0x465db2(0x202)};let _0x3ff9d4,_0x3a4c5e;_0x2a0b0b['oxSEN'](before,async()=>{const _0xf35a6a=_0x465db2;_0x3ff9d4=path[_0xf35a6a(0x1dc)](__dirname,_0xf35a6a(0x1fc)),await fs['mkdir'](_0x3ff9d4,{'recursive':!![]}),_0x3a4c5e=simpleGit(_0x3ff9d4),await _0x3a4c5e['init'](),await _0x3a4c5e[_0xf35a6a(0x1f1)](_0xf35a6a(0x222),_0x2a0b0b['IdVzF']),await _0x3a4c5e[_0xf35a6a(0x1f1)](_0x2a0b0b[_0xf35a6a(0x217)],_0x2a0b0b[_0xf35a6a(0x20c)]),await fs[_0xf35a6a(0x1ed)](path[_0xf35a6a(0x1dc)](_0x3ff9d4,_0xf35a6a(0x1e7)),_0x2a0b0b[_0xf35a6a(0x1fe)]),await _0x3a4c5e[_0xf35a6a(0x1db)]('.'),await _0x3a4c5e[_0xf35a6a(0x214)](_0x2a0b0b['DIRHO']);}),_0x2a0b0b[_0x465db2(0x209)](after,async()=>{const _0x3e508e=_0x465db2;await fs[_0x3e508e(0x20e)](_0x3ff9d4,{'recursive':!![]});}),_0x2a0b0b[_0x465db2(0x216)](it,_0x2a0b0b[_0x465db2(0x21a)],async()=>{const _0xe4314c=_0x465db2;await fs[_0xe4314c(0x1ed)](path['join'](_0x3ff9d4,_0x2a0b0b[_0xe4314c(0x200)]),'modified\x20content'),await _0x3a4c5e[_0xe4314c(0x1db)]('.'),await _0x3a4c5e['commit'](_0x2a0b0b['DMhkW']);const _0x3f6abe=new Action(_0xe4314c(0x212),_0x2a0b0b[_0xe4314c(0x1e5)],_0x2a0b0b[_0xe4314c(0x21f)],0x499602d2,_0x2a0b0b[_0xe4314c(0x210)]);_0x3f6abe[_0xe4314c(0x203)]=__dirname,_0x3f6abe[_0xe4314c(0x1eb)]=_0xe4314c(0x1fc),_0x3f6abe[_0xe4314c(0x206)]=_0xe4314c(0x1d9),_0x3f6abe[_0xe4314c(0x223)]=_0xe4314c(0x21e),_0x3f6abe[_0xe4314c(0x1fd)]=[{'parent':_0x2a0b0b[_0xe4314c(0x1e0)]}];const _0x1da353=await exec({},_0x3f6abe);_0x2a0b0b[_0xe4314c(0x1f9)](expect,_0x1da353['steps'][0x0]['error'])['to']['be'][_0xe4314c(0x1ef)],_0x2a0b0b[_0xe4314c(0x1f2)](expect,_0x1da353[_0xe4314c(0x219)][0x0][_0xe4314c(0x1d5)])['to'][_0xe4314c(0x1e3)](_0xe4314c(0x205)),expect(_0x1da353[_0xe4314c(0x219)][0x0]['content'])['to'][_0xe4314c(0x1e3)](_0xe4314c(0x1d3));}),_0x2a0b0b[_0x465db2(0x216)](it,_0x465db2(0x1f0),async()=>{const _0x651e3e=_0x465db2,_0x17da9e=new Action(_0x2a0b0b[_0x651e3e(0x1e8)],_0x2a0b0b[_0x651e3e(0x1e5)],_0x2a0b0b[_0x651e3e(0x21f)],0x499602d2,_0x2a0b0b[_0x651e3e(0x210)]);_0x17da9e[_0x651e3e(0x203)]=__dirname,_0x17da9e[_0x651e3e(0x1eb)]=_0x651e3e(0x1fc),_0x17da9e['commitFrom']=_0x2a0b0b[_0x651e3e(0x21c)],_0x17da9e[_0x651e3e(0x223)]=_0x2a0b0b[_0x651e3e(0x208)],_0x17da9e[_0x651e3e(0x1fd)]=[{'parent':_0x2a0b0b[_0x651e3e(0x1e0)]}];const _0x3c83ab=await exec({},_0x17da9e);_0x2a0b0b[_0x651e3e(0x218)](expect,_0x3c83ab['steps'][0x0][_0x651e3e(0x1de)])['to']['be'][_0x651e3e(0x1ef)],expect(_0x3c83ab['steps'][0x0][_0x651e3e(0x1d5)])['to'][_0x651e3e(0x1e3)](_0x2a0b0b[_0x651e3e(0x1fe)]);}),it(_0x465db2(0x1d8),async()=>{const _0x724dae=_0x465db2,_0x1622f5=new Action(_0x2a0b0b[_0x724dae(0x1e8)],_0x2a0b0b['fMBCu'],_0x724dae(0x207),0x499602d2,_0x724dae(0x21d));_0x1622f5['proxyGitPath']=__dirname,_0x1622f5[_0x724dae(0x1eb)]=_0x724dae(0x1fc),_0x1622f5[_0x724dae(0x206)]=_0x2a0b0b[_0x724dae(0x21c)],_0x1622f5['commitTo']='HEAD',_0x1622f5[_0x724dae(0x1fd)]=[];const _0x3ea7e3=await _0x2a0b0b[_0x724dae(0x216)](exec,{},_0x1622f5);_0x2a0b0b[_0x724dae(0x218)](expect,_0x3ea7e3[_0x724dae(0x219)][0x0][_0x724dae(0x1de)])['to']['be'][_0x724dae(0x1da)],expect(_0x3ea7e3[_0x724dae(0x219)][0x0][_0x724dae(0x1d6)])['to'][_0x724dae(0x20f)](_0x2a0b0b[_0x724dae(0x1f8)]);}),it(_0x2a0b0b['UhjtH'],async()=>{const _0x272887=_0x465db2,_0x20137b=new Action(_0x272887(0x212),_0x2a0b0b[_0x272887(0x1e5)],_0x2a0b0b[_0x272887(0x21f)],0x499602d2,_0x2a0b0b[_0x272887(0x210)]);_0x20137b['proxyGitPath']=__dirname,_0x20137b['repoName']=_0x272887(0x1fc),_0x20137b[_0x272887(0x206)]=_0x2a0b0b[_0x272887(0x21c)],_0x20137b['commitTo']=_0x272887(0x21e),_0x20137b[_0x272887(0x1fd)]=undefined;const _0x2f0833=await exec({},_0x20137b);expect(_0x2f0833['steps'][0x0][_0x272887(0x1de)])['to']['be'][_0x272887(0x1da)],expect(_0x2f0833[_0x272887(0x219)][0x0][_0x272887(0x1d6)])['to'][_0x272887(0x20f)](_0x2a0b0b['MqfcO']);}),it(_0x2a0b0b['kadfx'],async()=>{const _0x31e515=_0x465db2;await fs[_0x31e515(0x1ed)](path[_0x31e515(0x1dc)](_0x3ff9d4,_0x31e515(0x1e7)),'new\x20content\x20for\x20parent\x20test'),await _0x3a4c5e[_0x31e515(0x1db)]('.'),await _0x3a4c5e['commit'](_0x2a0b0b[_0x31e515(0x1ee)]);const _0x275971=await _0x3a4c5e['log'](),_0x22f798=_0x275971[_0x31e515(0x1e1)][0x1][_0x31e515(0x1f4)],_0x5dc4c4=_0x275971[_0x31e515(0x1e1)][0x0][_0x31e515(0x1f4)],_0x28d99b=new Action(_0x2a0b0b['RChEj'],_0x2a0b0b['fMBCu'],_0x31e515(0x207),0x499602d2,'test/repo');_0x28d99b[_0x31e515(0x203)]=path[_0x31e515(0x1fa)](_0x3ff9d4),_0x28d99b[_0x31e515(0x1eb)]=path[_0x31e515(0x1fb)](_0x3ff9d4),_0x28d99b[_0x31e515(0x206)]='0000000000000000000000000000000000000000',_0x28d99b['commitTo']=_0x5dc4c4,_0x28d99b[_0x31e515(0x1fd)]=[{'parent':_0x22f798}];const _0x180cb0=await _0x2a0b0b[_0x31e515(0x216)](exec,{},_0x28d99b);_0x2a0b0b['PYuuO'](expect,_0x180cb0[_0x31e515(0x219)][0x0][_0x31e515(0x1de)])['to']['be'][_0x31e515(0x1ef)],_0x2a0b0b['pgaod'](expect,_0x180cb0['steps'][0x0][_0x31e515(0x1d5)])['to'][_0x31e515(0x1e4)]['be'][_0x31e515(0x20b)],expect(_0x180cb0[_0x31e515(0x219)][0x0][_0x31e515(0x1d5)][_0x31e515(0x1f6)])['to']['be'][_0x31e515(0x211)](0x0);});});function _0x49ed(){const _0x27d32d=['chai','include','not','fMBCu','../../src/proxy/actions','test.txt','RChEj','getDiff','should\x20get\x20diff\x20between\x20commits','repoName','1512021aZfKmA','writeFile','YrPvs','false','should\x20get\x20diff\x20between\x20commits\x20with\x20no\x20changes','addConfig','PYuuO','1TrIQaM','hash','push','length','user.email','MqfcO','PvXJg','dirname','basename','temp-test-repo','commitData','zLaxr','promises','dzSmQ','81676Xneaht','should\x20handle\x20empty\x20commit\x20hash\x20in\x20commitFrom','proxyGitPath','4qJuhvk','modified\x20content','commitFrom','POST','WIoYF','mIZKw','104616izYwBR','null','QnySI','commit\x20for\x20parent\x20test','rmdir','contain','vdPyP','greaterThan','1234567890','10PIiicv','commit','0000000000000000000000000000000000000000','zcqxx','nAzke','pgaod','steps','YvJil','test@test.com','BDnbs','test/repo','HEAD','YnEdF','767604qiZgUA','No\x20commit\x20data\x20found','user.name','commitTo','16IlrGut','expect','1679425lxbiPo','initial\x20content','8527882pXfKtp','content','errorMessage','initial\x20commit','should\x20throw\x20an\x20error\x20if\x20no\x20commit\x20data\x20is\x20provided','HEAD~1','true','add','join','second\x20commit','error','54684jHXJEh','IpPQA','all'];_0x49ed=function(){return _0x27d32d;};return _0x49ed();}