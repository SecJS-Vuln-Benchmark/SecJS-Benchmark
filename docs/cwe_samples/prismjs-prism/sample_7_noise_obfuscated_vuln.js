function _0x4985(_0x351303,_0x4e679b){const _0x15cf5c=_0x15cf();return _0x4985=function(_0x49855c,_0x37e6e7){_0x49855c=_0x49855c-0xa3;let _0x5f2f66=_0x15cf5c[_0x49855c];return _0x5f2f66;},_0x4985(_0x351303,_0x4e679b);}const _0x40bdb0=_0x4985;(function(_0x12b616,_0xf8f587){const _0x214d80=_0x4985,_0x1dbf1e=_0x12b616();while(!![]){try{const _0x8a577f=parseInt(_0x214d80(0xcc))/0x1+parseInt(_0x214d80(0xd9))/0x2+parseInt(_0x214d80(0xb5))/0x3*(-parseInt(_0x214d80(0xeb))/0x4)+parseInt(_0x214d80(0xd7))/0x5+-parseInt(_0x214d80(0xf0))/0x6*(parseInt(_0x214d80(0xc8))/0x7)+-parseInt(_0x214d80(0xc5))/0x8*(-parseInt(_0x214d80(0xb6))/0x9)+-parseInt(_0x214d80(0xbb))/0xa;if(_0x8a577f===_0xf8f587)break;else _0x1dbf1e['push'](_0x1dbf1e['shift']());}catch(_0x3e12ab){_0x1dbf1e['push'](_0x1dbf1e['shift']());}}}(_0x15cf,0x89413));function _0x15cf(){const _0x3c6c89=['types','559551uQgBVw','9jVknXa','@openzeppelin/test-helpers','WVDNN','default','ERC2771ContextMock','5131290vzjskY','encodeABI','chai','subn','SzolE','msgDataShort','bclNc','bXboG','ERC2771Forwarder','PrvLy','286496DvUarz','toChecksumAddress','uint48','49ssemHC','contract','isTrustedForwarder','getAddressString','192901RxNbSt','utils','toBN','ACmHv','new','returns\x20the\x20original\x20sender\x20when\x20calldata\x20length\x20is\x20less\x20than\x2020\x20bytes\x20(address\x20length)','onmjA','context','eUCEn','DataShort','from','2216340NofjYH','Sender','1374908pdYxYf','ContextMockCaller','GzYuc','signTypedMessage','OpenZeppelin','OkJXC','verify','nonce','forwarder','fvzLW','recipient','../utils/Context.behavior','ERC2771Context','fphHD','address','sender','methods','wallet','4kfPglm','eth-sig-util','100000','domain','getPrivateKey','83652fFbKhH','ovNAi','only','elKXM','data','gas','inTransaction','shln','recognize\x20trusted\x20forwarder','nonces','../helpers/eip712','lPCAQ','returns\x20the\x20relayed\x20transaction\x20original\x20data','returns\x20the\x20full\x20original\x20data\x20when\x20calldata\x20length\x20is\x20less\x20than\x2020\x20bytes\x20(address\x20length)','toString','equal','ForwardRequest','uint256','require','signature','msgSender','UaZGb','execute','ZjgMh','msgData','returns\x20the\x20relayed\x20transaction\x20original\x20sender'];_0x15cf=function(){return _0x3c6c89;};return _0x15cf();}const ethSigUtil=require(_0x40bdb0(0xec)),Wallet=require('ethereumjs-wallet')[_0x40bdb0(0xb9)],{getDomain,domainType}=require(_0x40bdb0(0xa4)),{expectEvent}=require(_0x40bdb0(0xb7)),{expect}=require(_0x40bdb0(0xbd)),ERC2771ContextMock=artifacts[_0x40bdb0(0xac)](_0x40bdb0(0xba)),ERC2771Forwarder=artifacts[_0x40bdb0(0xac)](_0x40bdb0(0xc3)),ContextMockCaller=artifacts['require'](_0x40bdb0(0xda)),{shouldBehaveLikeRegularContext}=require(_0x40bdb0(0xe4));contract(_0x40bdb0(0xe5),function(_0x3cccfd){const _0x125c08=_0x40bdb0,_0x228885={'UaZGb':_0x125c08(0xc3),'GzYuc':function(_0x598a3e,_0x206900){return _0x598a3e(_0x206900);},'SzolE':function(_0x1f36f1,_0x454b02){return _0x1f36f1(_0x454b02);},'elKXM':_0x125c08(0xf5),'fvzLW':_0x125c08(0xab),'EBqCZ':'deadline','qkNbV':_0x125c08(0xc7),'PrvLy':'bytes','ovNAi':function(_0x3e510e,_0x335c35){return _0x3e510e(_0x335c35);},'ZjgMh':_0x125c08(0xed),'eUCEn':function(_0x4b121f,_0x349fa7,_0x391417){return _0x4b121f(_0x349fa7,_0x391417);},'ioKTO':_0x125c08(0xd1),'bXboG':_0x125c08(0xd5),'WVDNN':'msgSender','dTaQx':_0x125c08(0xb2),'onmjA':_0x125c08(0xa7),'lPCAQ':function(_0x5a9db7,_0x4774a8){return _0x5a9db7(_0x4774a8);},'QtCVe':'when\x20called\x20directly'},[,_0x3a79ac]=_0x3cccfd,_0x4d8955=web3[_0x125c08(0xcd)][_0x125c08(0xce)](0x1)[_0x125c08(0xf7)](0x30)[_0x125c08(0xbe)](0x1)['toString']();_0x228885[_0x125c08(0xa5)](beforeEach,async function(){const _0x180fad=_0x125c08;this[_0x180fad(0xe1)]=await ERC2771Forwarder['new'](_0x228885[_0x180fad(0xaf)]),this[_0x180fad(0xe3)]=await ERC2771ContextMock[_0x180fad(0xd0)](this[_0x180fad(0xe1)][_0x180fad(0xe7)]),this[_0x180fad(0xee)]=await _0x228885['GzYuc'](getDomain,this[_0x180fad(0xe1)]),this[_0x180fad(0xb4)]={'EIP712Domain':_0x228885[_0x180fad(0xbf)](domainType,this[_0x180fad(0xee)]),'ForwardRequest':[{'name':_0x180fad(0xd6),'type':'address'},{'name':'to','type':_0x180fad(0xe7)},{'name':'value','type':_0x180fad(0xab)},{'name':_0x228885[_0x180fad(0xf3)],'type':_0x228885[_0x180fad(0xe2)]},{'name':_0x180fad(0xe0),'type':_0x228885[_0x180fad(0xe2)]},{'name':_0x228885['EBqCZ'],'type':_0x228885['qkNbV']},{'name':'data','type':_0x228885[_0x180fad(0xc4)]}]};}),it(_0x125c08(0xf8),async function(){const _0x1063d5=_0x125c08;_0x228885[_0x1063d5(0xbf)](expect,await this[_0x1063d5(0xe3)][_0x1063d5(0xca)](this[_0x1063d5(0xe1)][_0x1063d5(0xe7)]));}),_0x228885['eUCEn'](context,_0x228885['QtCVe'],function(){const _0x4c5dce=_0x125c08;_0x228885[_0x4c5dce(0xf1)](beforeEach,async function(){const _0x3360a7=_0x4c5dce;this[_0x3360a7(0xd3)]=this[_0x3360a7(0xe3)],this['caller']=await ContextMockCaller[_0x3360a7(0xd0)]();}),_0x228885['GzYuc'](shouldBehaveLikeRegularContext,..._0x3cccfd);}),context('when\x20receiving\x20a\x20relayed\x20call',function(){const _0x58142c=_0x125c08,_0x4b4b44={'bclNc':_0x228885['ZjgMh'],'OkJXC':function(_0x5755b5,_0x23c2a2){return _0x5755b5(_0x23c2a2);},'yoJHW':function(_0x5a470b,_0x1ae81f,_0x120b9d){return _0x5a470b(_0x1ae81f,_0x120b9d);}};_0x228885[_0x58142c(0xdb)](beforeEach,async function(){const _0x422a8c=_0x58142c;this[_0x422a8c(0xea)]=Wallet['generate'](),this[_0x422a8c(0xe8)]=web3[_0x422a8c(0xcd)][_0x422a8c(0xc6)](this[_0x422a8c(0xea)][_0x422a8c(0xcb)]()),this[_0x422a8c(0xf4)]={'types':this[_0x422a8c(0xb4)],'domain':this[_0x422a8c(0xee)],'primaryType':_0x422a8c(0xaa)};}),describe(_0x228885[_0x58142c(0xb8)],function(){const _0x50beec=_0x58142c,_0x3a405d={'pVhGf':_0x228885[_0x50beec(0xb1)],'fphHD':function(_0x32eef6,_0x522621){return _0x32eef6(_0x522621);},'ACmHv':_0x50beec(0xd8)};_0x228885['eUCEn'](it,_0x50beec(0xb3),async function(){const _0x5525db=_0x50beec,_0x582fad=this[_0x5525db(0xe3)][_0x5525db(0xc9)][_0x5525db(0xe9)]['msgSender']()['encodeABI'](),_0x18f57a={'from':this['sender'],'to':this[_0x5525db(0xe3)][_0x5525db(0xe7)],'value':'0','gas':_0x3a405d['pVhGf'],'nonce':(await this[_0x5525db(0xe1)][_0x5525db(0xa3)](this[_0x5525db(0xe8)]))[_0x5525db(0xa8)](),'deadline':_0x4d8955,'data':_0x582fad};_0x18f57a[_0x5525db(0xad)]=ethSigUtil[_0x5525db(0xdc)](this[_0x5525db(0xea)][_0x5525db(0xef)](),{'data':{...this[_0x5525db(0xf4)],'message':_0x18f57a}}),_0x3a405d[_0x5525db(0xe6)](expect,await this[_0x5525db(0xe1)][_0x5525db(0xdf)](_0x18f57a))['to'][_0x5525db(0xa9)](!![]);const {tx:_0x1c784c}=await this['forwarder'][_0x5525db(0xb0)](_0x18f57a);await expectEvent[_0x5525db(0xf6)](_0x1c784c,ERC2771ContextMock,_0x3a405d[_0x5525db(0xcf)],{'sender':this['sender']});}),it(_0x228885['ioKTO'],async function(){const _0x5947a3=_0x50beec,_0x423361=await ERC2771ContextMock['new'](_0x3a79ac),{receipt:_0x596b3a}=await _0x423361[_0x5947a3(0xae)]({'from':_0x3a79ac});await expectEvent(_0x596b3a,'Sender',{'sender':_0x3a79ac});});}),_0x228885[_0x58142c(0xd4)](describe,_0x228885['dTaQx'],function(){const _0x1495d2=_0x58142c;_0x4b4b44['yoJHW'](it,_0x1495d2(0xa6),async function(){const _0x1aba2c=_0x1495d2,_0x15c519='42',_0x5dd234=_0x1aba2c(0xdd),_0x39c0cf=this['recipient']['contract'][_0x1aba2c(0xe9)][_0x1aba2c(0xb2)](_0x15c519,_0x5dd234)['encodeABI'](),_0x3701ce={'from':this[_0x1aba2c(0xe8)],'to':this[_0x1aba2c(0xe3)][_0x1aba2c(0xe7)],'value':'0','gas':_0x4b4b44[_0x1aba2c(0xc1)],'nonce':(await this['forwarder'][_0x1aba2c(0xa3)](this[_0x1aba2c(0xe8)]))[_0x1aba2c(0xa8)](),'deadline':_0x4d8955,'data':_0x39c0cf};_0x3701ce[_0x1aba2c(0xad)]=ethSigUtil['signTypedMessage'](this['wallet']['getPrivateKey'](),{'data':{...this[_0x1aba2c(0xf4)],'message':_0x3701ce}}),_0x4b4b44[_0x1aba2c(0xde)](expect,await this['forwarder'][_0x1aba2c(0xdf)](_0x3701ce))['to']['equal'](!![]);const {tx:_0x262b23}=await this['forwarder']['execute'](_0x3701ce);await expectEvent[_0x1aba2c(0xf6)](_0x262b23,ERC2771ContextMock,'Data',{'data':_0x39c0cf,'integerValue':_0x15c519,'stringValue':_0x5dd234});});}),it[_0x58142c(0xf2)](_0x228885[_0x58142c(0xd2)],async function(){const _0x12c333=_0x58142c,_0x46f87d=await ERC2771ContextMock[_0x12c333(0xd0)](_0x3a79ac),{receipt:_0x979f5e}=await _0x46f87d[_0x12c333(0xc0)]({'from':_0x3a79ac}),_0x1c8cf4=_0x46f87d[_0x12c333(0xc9)][_0x12c333(0xe9)][_0x12c333(0xc0)]()[_0x12c333(0xbc)]();await expectEvent(_0x979f5e,_0x228885[_0x12c333(0xc2)],{'data':_0x1c8cf4});});});});