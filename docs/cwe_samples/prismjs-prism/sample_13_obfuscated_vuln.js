'use strict';function _0x2660(){const _0x2f4d10=['core.api','url','Strategy','vaEkt','localLogin','hasListeners','ICgmn','connect-multiparty','FTaoJ','119578LKnNSb','callbackMethod','reloadRoutes','KiiNT','urlMethod','passport-local','login','UgDhg','ZGdSA','10755IbwNIW','ssoState','../controllers/helpers','XlHxe','winston','Cpjvc','applyBlacklist','nOqut','fire','user','apply','rdWAk','returnTo','KadCo','uid','8239cLLNbh','20onEEeA','[authentication]\x20Login\x20override\x20detected,\x20skipping\x20local\x20login\x20strategy.','qRYtz','loggedIn','/login','845469OrqHsk','waterfall','1158QgSZDV','serializeUser','teMAX','query','Xelqx','lQgzN','registerComplete','failureUrl','use','PwWgX','onSuccessfulLogin','/register/abort','applyCSRF','yQnxg','filter:auth.init','reduce','logout','get','nnLBv','authentication','/register/complete','initialize','XqCaG','settings','action:auth.overrideLogin','authenticate','registerAbort','passport-http-bearer','scope','hooks','registration','LtDRK','fQkVi','app','jEfYb','xFOKz','QBlbR','checkState','async','locals','phtoa','stack','XraTh','../plugins','validateAuth','urekk','../meta','middleware','/logout','token','JfQYB','verifyToken','FUCQh','VETWz','UQVcG','hrGUm','name','lRdNK','length','isSpider','JpnVz','449060UGYyPr','setAuthVars','csrfToken','dvrsB','Leyew','post','EEjSa','xkmKD','successUrl','forEach','session','334440HiTneH','1252520AILyEb','YEZVr','gDVdn','oetzy','wuMhL','deserializeUser','redirect','exports','getLoginStrategies','[[error:csrf-invalid]]','state','oGcwC','SXMka','DqTBt'];_0x2660=function(){return _0x2f4d10;};return _0x2660();}const _0x1cc6bb=_0x4bb1;(function(_0x35cd73,_0x523f99){const _0x12de10=_0x4bb1,_0x16107e=_0x35cd73();while(!![]){try{const _0x2871dc=-parseInt(_0x12de10(0x100))/0x1+-parseInt(_0x12de10(0x15d))/0x2+parseInt(_0x12de10(0x109))/0x3*(parseInt(_0x12de10(0x119))/0x4)+parseInt(_0x12de10(0x169))/0x5+parseInt(_0x12de10(0x120))/0x6*(parseInt(_0x12de10(0x118))/0x7)+-parseInt(_0x12de10(0x168))/0x8+parseInt(_0x12de10(0x11e))/0x9;if(_0x2871dc===_0x523f99)break;else _0x16107e['push'](_0x16107e['shift']());}catch(_0x309548){_0x16107e['push'](_0x16107e['shift']());}}}(_0x2660,0x31b62));const async=require(_0x1cc6bb(0x146)),passport=require('passport'),passportLocal=require(_0x1cc6bb(0x105))[_0x1cc6bb(0xf9)],BearerStrategy=require(_0x1cc6bb(0x13b))[_0x1cc6bb(0xf9)],winston=require(_0x1cc6bb(0x10d)),meta=require(_0x1cc6bb(0x14e)),controllers=require('../controllers'),helpers=require(_0x1cc6bb(0x10b)),plugins=require(_0x1cc6bb(0x14b));let loginStrategies=[];function _0x4bb1(_0x34d46f,_0x6fc437){const _0x2660c6=_0x2660();return _0x4bb1=function(_0x4bb16f,_0x495f3d){_0x4bb16f=_0x4bb16f-0xf0;let _0x4ea52c=_0x2660c6[_0x4bb16f];return _0x4ea52c;},_0x4bb1(_0x34d46f,_0x6fc437);}const Auth=module[_0x1cc6bb(0xf0)];Auth[_0x1cc6bb(0x135)]=function(_0x9baa27,_0x3488ab){const _0x393794=_0x1cc6bb,_0x2d707c={'UQVcG':function(_0x9c6390,_0x3e2439){return _0x9c6390===_0x3e2439;},'PDHZk':_0x393794(0x12d),'jEfYb':_0x393794(0x154),'JfQYB':'UXCyB'},_0x3be5dd=passport[_0x393794(0x135)]();_0x9baa27[_0x393794(0x128)]((_0xc41dcf,_0x5b0aa5,_0x165f70)=>{const _0x3d5e3f=_0x393794;_0x2d707c[_0x3d5e3f(0x156)](_0x2d707c['PDHZk'],_0x2d707c[_0x3d5e3f(0x142)])?_0x1084c3[_0x3d5e3f(0x117)]=0x0:_0x3be5dd(_0xc41dcf,_0x5b0aa5,_0x165f70);});const _0x106126=passport[_0x393794(0x167)]();_0x9baa27[_0x393794(0x128)]((_0x43f03b,_0x1ec334,_0x45213b)=>{const _0x19da48=_0x393794,_0x305994={'Xelqx':'[[error:csrf-invalid]]'};if('lEzri'===_0x2d707c[_0x19da48(0x152)]){if(_0x54eddc[_0x19da48(0x145)]===![])return _0x330643();_0x132cc8(_0x3e0f70[_0x19da48(0x123)][_0x19da48(0xf3)]!==_0xfbde64['session'][_0x19da48(0x10a)]?new _0x24ae80(_0x305994[_0x19da48(0x124)]):null);}else _0x106126(_0x43f03b,_0x1ec334,_0x45213b);}),_0x9baa27[_0x393794(0x128)]((_0x177c10,_0x2172e4,_0x3e05b0)=>{const _0xabf39e=_0x393794;Auth[_0xabf39e(0x15e)](_0x177c10,_0x2172e4),_0x3e05b0();}),Auth[_0x393794(0x141)]=_0x9baa27,Auth[_0x393794(0x14f)]=_0x3488ab;},Auth[_0x1cc6bb(0x15e)]=function setAuthVars(_0x3c9b22){const _0x19ee8=_0x1cc6bb,_0x5a9b1b={'LtDRK':function(_0x2c6dfe,_0x2c6c43,_0x39de72){return _0x2c6dfe(_0x2c6c43,_0x39de72);}},_0x2afb80=_0x3c9b22[_0x19ee8(0x15b)]();_0x3c9b22['loggedIn']=!_0x2afb80&&!!_0x3c9b22[_0x19ee8(0x112)];if(_0x3c9b22[_0x19ee8(0x112)])_0x3c9b22[_0x19ee8(0x117)]=_0x5a9b1b[_0x19ee8(0x13f)](parseInt,_0x3c9b22[_0x19ee8(0x112)][_0x19ee8(0x117)],0xa);else _0x2afb80?_0x3c9b22[_0x19ee8(0x117)]=-0x1:_0x3c9b22[_0x19ee8(0x117)]=0x0;},Auth[_0x1cc6bb(0xf1)]=function(){return loginStrategies;},Auth[_0x1cc6bb(0x153)]=async function(_0x4f438f,_0x10c974){const _0xce5484=_0x1cc6bb,_0x2f390f={'vaEkt':function(_0x31f4ad,_0x2a9990,_0x5266aa,_0x188ecb){return _0x31f4ad(_0x2a9990,_0x5266aa,_0x188ecb);},'FTaoJ':function(_0x27ddad,_0x448414){return _0x27ddad!==_0x448414;},'EEjSa':function(_0xf15322,_0x1377cd){return _0xf15322!==_0x1377cd;},'XlHxe':_0xce5484(0x155),'XqCaG':function(_0x33d0b6,_0x1b7448,_0x41acdf){return _0x33d0b6(_0x1b7448,_0x41acdf);},'SgqYE':function(_0x36777f,_0x48973e){return _0x36777f===_0x48973e;},'nOqut':'uVvjd','dvrsB':_0xce5484(0x16a),'JpnVz':function(_0x369f78,_0x2cb91b,_0x241da9){return _0x369f78(_0x2cb91b,_0x241da9);},'IZoUw':function(_0x413c1c,_0x35f422){return _0x413c1c(_0x35f422);}};let {tokens:tokens=[]}=await meta[_0xce5484(0x137)][_0xce5484(0x131)](_0xce5484(0xf7));tokens=tokens[_0xce5484(0x12f)]((_0x2a0185,_0xf3c612)=>{const _0x465d24=_0xce5484;return _0x2a0185[_0xf3c612[_0x465d24(0x151)]]=_0xf3c612[_0x465d24(0x117)],_0x2a0185;},{});const _0x44a1a6=tokens[_0x4f438f];if(_0x2f390f[_0xce5484(0xff)](_0x44a1a6,undefined)){if(_0x2f390f[_0xce5484(0x163)](_0x2f390f[_0xce5484(0x10c)],_0x2f390f['XlHxe']))_0x42ecfb[_0xce5484(0x167)]['ssoState']=_0x545494[_0xce5484(0x15f)]&&_0x3d83b5[_0xce5484(0x15f)](),_0x36944a['state']=_0x45553a[_0xce5484(0x167)][_0xce5484(0x10a)];else{if(_0x2f390f[_0xce5484(0x136)](parseInt,_0x44a1a6,0xa)>0x0){if(_0x2f390f['SgqYE'](_0x2f390f[_0xce5484(0x110)],_0x2f390f[_0xce5484(0x160)])){const _0x3c45dd={'lQgzN':function(_0x24a1d1){return _0x24a1d1();}},_0x2352ce=_0x585287[_0xce5484(0x135)]();_0x2a4f13['use']((_0x3dcce5,_0x3f0f3b,_0x294fdc)=>{const _0xa3b6a6=_0xce5484;_0x2f390f[_0xa3b6a6(0xfa)](_0x2352ce,_0x3dcce5,_0x3f0f3b,_0x294fdc);});const _0x3ab290=_0x57b4e4['session']();_0x2545df['use']((_0x91876d,_0x1365d8,_0x3a7588)=>{_0x3ab290(_0x91876d,_0x1365d8,_0x3a7588);}),_0x1b541d[_0xce5484(0x128)]((_0x312144,_0x366955,_0x589b8c)=>{const _0x5d2ca6=_0xce5484;_0x2043e5[_0x5d2ca6(0x15e)](_0x312144,_0x366955),_0x3c45dd[_0x5d2ca6(0x125)](_0x589b8c);}),_0x543f79['app']=_0x35b48e,_0x2ab932[_0xce5484(0x14f)]=_0x2c4299;}else _0x2f390f[_0xce5484(0x15c)](_0x10c974,null,{'uid':_0x44a1a6});}else _0x10c974(null,{'master':!![]});}}else _0x2f390f['IZoUw'](_0x10c974,![]);},Auth[_0x1cc6bb(0x102)]=async function(_0x15c64d){const _0x18366c=_0x1cc6bb,_0x4fa48e={'ZGdSA':'filter:auth.options','wuMhL':function(_0x131c76,_0x403500){return _0x131c76(_0x403500);},'GjsOJ':function(_0x2edad2,_0xc1465d){return _0x2edad2===_0xc1465d;},'oGcwC':_0x18366c(0x116),'gwzqI':function(_0x3227ad,_0x4e8722){return _0x3227ad!==_0x4e8722;},'VUEzw':'uiSay','KiiNT':_0x18366c(0x131),'UgDhg':_0x18366c(0x138),'oetzy':_0x18366c(0x12e),'PwWgX':_0x18366c(0x134),'gwfIr':_0x18366c(0x12b),'Leyew':_0x18366c(0x11d)};loginStrategies[_0x18366c(0x15a)]=0x0;const {router:_0x51270a}=_0x15c64d;plugins[_0x18366c(0x13d)][_0x18366c(0xfc)](_0x4fa48e['UgDhg'])?(winston['warn'](_0x18366c(0x11a)),plugins['hooks'][_0x18366c(0x111)](_0x4fa48e[_0x18366c(0x107)])):passport['use'](new passportLocal({'passReqToCallback':!![]},controllers[_0x18366c(0x133)][_0x18366c(0xfb)]));passport[_0x18366c(0x128)](_0x18366c(0xf7),new BearerStrategy({},Auth[_0x18366c(0x153)]));try{loginStrategies=await plugins['hooks']['fire'](_0x4fa48e[_0x18366c(0x16c)],loginStrategies);}catch(_0x11acf9){winston['error']('[authentication]\x20'+_0x11acf9[_0x18366c(0x149)]);}loginStrategies=loginStrategies||[],loginStrategies[_0x18366c(0x166)](_0x599a52=>{const _0x2eae60=_0x18366c,_0x2988bb={'gDVdn':function(_0x4f0529,_0x438485,_0x84defb){return _0x4f0529(_0x438485,_0x84defb);},'phtoa':function(_0x4a1edd,_0x431d29,_0x4a214b){return _0x4a1edd(_0x431d29,_0x4a214b);},'Cpjvc':function(_0x3dd241,_0x453f89){return _0x3dd241!==_0x453f89;},'xFOKz':_0x4fa48e[_0x2eae60(0x108)],'qRYtz':function(_0x5842b5,_0x3f3dc2){return _0x5842b5===_0x3f3dc2;},'rpsxh':function(_0x40d10b,_0x47d72b){const _0x5e5a57=_0x2eae60;return _0x4fa48e[_0x5e5a57(0x16d)](_0x40d10b,_0x47d72b);},'ICgmn':function(_0x30fbbf,_0x3fc1fb){return _0x30fbbf(_0x3fc1fb);},'QBlbR':function(_0x172598,_0xe72b2e){return _0x4fa48e['GjsOJ'](_0x172598,_0xe72b2e);},'urekk':_0x4fa48e[_0x2eae60(0xf4)]};_0x4fa48e['gwzqI'](_0x4fa48e['VUEzw'],'uiSay')?_0x2988bb[_0x2eae60(0x16b)](_0x2ae7bd,_0x37fbce,0xa)>0x0?_0x2988bb[_0x2eae60(0x148)](_0x40035b,null,{'uid':_0x2546f1}):_0x285931(null,{'master':!![]}):(_0x599a52[_0x2eae60(0xf8)]&&_0x51270a[_0x599a52[_0x2eae60(0x104)]||_0x2eae60(0x131)](_0x599a52[_0x2eae60(0xf8)],Auth['middleware'][_0x2eae60(0x12c)],async(_0x2f45d4,_0xe0e8d0,_0x42600f)=>{const _0xe00089=_0x2eae60,_0x5804ff={'nnLBv':function(_0x5f2fd6,_0x5e48b9){const _0x38344e=_0x4bb1;return _0x2988bb[_0x38344e(0x10e)](_0x5f2fd6,_0x5e48b9);}};if(_0xe00089(0x114)===_0xe00089(0x14a)){if(_0x34c8d9)return _0x38890c(_0x35b00f);_0x4dddb2[_0xe00089(0x16f)](_0x23c9ed,_0x5804ff[_0xe00089(0x132)](_0x2fa37d[_0xe00089(0x165)],_0xf12708)?_0x19da4c['successUrl']:'/');}else{let _0x24ebb4={'scope':_0x599a52[_0xe00089(0x13c)],'prompt':_0x599a52['prompt']||undefined};_0x599a52['checkState']!==![]&&(_0x2f45d4[_0xe00089(0x167)][_0xe00089(0x10a)]=_0x2f45d4[_0xe00089(0x15f)]&&_0x2f45d4[_0xe00089(0x15f)](),_0x24ebb4['state']=_0x2f45d4[_0xe00089(0x167)][_0xe00089(0x10a)]),{opts:_0x24ebb4}=await plugins[_0xe00089(0x13d)][_0xe00089(0x111)](_0x2988bb[_0xe00089(0x143)],{'req':_0x2f45d4,'res':_0xe0e8d0,'opts':_0x24ebb4}),passport[_0xe00089(0x139)](_0x599a52['name'],_0x24ebb4)(_0x2f45d4,_0xe0e8d0,_0x42600f);}}),_0x51270a[_0x599a52[_0x2eae60(0x101)]||_0x4fa48e[_0x2eae60(0x103)]](_0x599a52['callbackURL'],(_0x533069,_0x292749,_0x23215a)=>{const _0x476834=_0x2eae60;if(_0x2988bb[_0x476834(0x11b)](_0x599a52[_0x476834(0x145)],![]))return _0x23215a();_0x2988bb['rpsxh'](_0x23215a,_0x2988bb['Cpjvc'](_0x533069[_0x476834(0x123)][_0x476834(0xf3)],_0x533069['session']['ssoState'])?new Error(_0x476834(0xf2)):null);},(_0xb2de6c,_0x33ec57,_0x4716cc)=>{const _0x1675b6=_0x2eae60,_0x3f36cb={'xkmKD':function(_0x3c6726,_0x157dd1){const _0x3f611c=_0x4bb1;return _0x2988bb[_0x3f611c(0xfd)](_0x3c6726,_0x157dd1);},'lRdNK':_0x1675b6(0x11d),'SXMka':function(_0x41d9f0){return _0x41d9f0();}};if(_0x2988bb[_0x1675b6(0x144)](_0x2988bb[_0x1675b6(0x14d)],_0x1675b6(0x116)))_0xb2de6c[_0x1675b6(0x167)][_0x1675b6(0x13e)]=_0xb2de6c[_0x1675b6(0x167)][_0x1675b6(0x13e)]||{},_0xb2de6c[_0x1675b6(0x167)][_0x1675b6(0x13e)][_0x1675b6(0x115)]=_0xb2de6c[_0x1675b6(0x167)][_0x1675b6(0x115)],passport[_0x1675b6(0x139)](_0x599a52[_0x1675b6(0x158)],(_0x5baa0e,_0x57d9b4)=>{const _0x18f9ad=_0x1675b6;if(_0x5baa0e)return _0xb2de6c['session']&&_0xb2de6c[_0x18f9ad(0x167)][_0x18f9ad(0x13e)]&&delete _0xb2de6c['session'][_0x18f9ad(0x13e)],_0x3f36cb[_0x18f9ad(0x164)](_0x4716cc,_0x5baa0e);if(!_0x57d9b4)return _0xb2de6c[_0x18f9ad(0x167)]&&_0xb2de6c[_0x18f9ad(0x167)][_0x18f9ad(0x13e)]&&(_0x18f9ad(0x157)!==_0x18f9ad(0x140)?delete _0xb2de6c[_0x18f9ad(0x167)][_0x18f9ad(0x13e)]:_0x294fe3(_0x108355,_0x232950,_0x5633ea)),helpers[_0x18f9ad(0x16f)](_0x33ec57,_0x599a52[_0x18f9ad(0x127)]!==undefined?_0x599a52['failureUrl']:_0x3f36cb[_0x18f9ad(0x159)]);_0x33ec57[_0x18f9ad(0x147)]['user']=_0x57d9b4,_0x33ec57['locals']['strategy']=_0x599a52,_0x3f36cb[_0x18f9ad(0xf5)](_0x4716cc);})(_0xb2de6c,_0x33ec57,_0x4716cc);else{const _0x2b0c7a=_0x40969b['isSpider']();_0x3e9d5c[_0x1675b6(0x11c)]=!_0x2b0c7a&&!!_0x4cfc00[_0x1675b6(0x112)];if(_0x35f7c1['user'])_0x4849d1[_0x1675b6(0x117)]=_0x372f8c(_0x574c7a[_0x1675b6(0x112)][_0x1675b6(0x117)],0xa);else _0x2b0c7a?_0xd462[_0x1675b6(0x117)]=-0x1:_0x2f1520[_0x1675b6(0x117)]=0x0;}},Auth[_0x2eae60(0x14f)][_0x2eae60(0x14c)],(_0x44e776,_0x2dfe96,_0x1b0f5a)=>{const _0x3706aa=_0x2eae60,_0x28c3fc={'teMAX':_0x3706aa(0xf6)};async[_0x3706aa(0x11f)]([async['apply'](_0x44e776[_0x3706aa(0x106)]['bind'](_0x44e776),_0x2dfe96[_0x3706aa(0x147)]['user']),async[_0x3706aa(0x113)](controllers[_0x3706aa(0x133)][_0x3706aa(0x12a)],_0x44e776,_0x44e776['uid'])],_0x21e01d=>{const _0x2f844d=_0x3706aa;if(_0x28c3fc['teMAX']===_0x28c3fc[_0x2f844d(0x122)]){if(_0x21e01d)return _0x1b0f5a(_0x21e01d);helpers[_0x2f844d(0x16f)](_0x2dfe96,_0x599a52[_0x2f844d(0x165)]!==undefined?_0x599a52['successUrl']:'/');}else _0x59aa6f[_0x2f844d(0x15e)](_0x3c9274,_0x27723f),_0x2f2994();});}));});const _0x352fde=require(_0x18366c(0xfe)),_0x36b9d9=_0x352fde(),_0x589b2e=[_0x36b9d9,Auth['middleware'][_0x18366c(0x12c)],Auth[_0x18366c(0x14f)][_0x18366c(0x10f)]];_0x51270a[_0x18366c(0x162)]('/register',_0x589b2e,controllers[_0x18366c(0x133)]['register']),_0x51270a[_0x18366c(0x162)](_0x4fa48e[_0x18366c(0x129)],_0x589b2e,controllers['authentication'][_0x18366c(0x126)]),_0x51270a[_0x18366c(0x162)](_0x4fa48e['gwfIr'],controllers[_0x18366c(0x133)][_0x18366c(0x13a)]),_0x51270a[_0x18366c(0x162)](_0x4fa48e[_0x18366c(0x161)],Auth[_0x18366c(0x14f)][_0x18366c(0x12c)],Auth[_0x18366c(0x14f)][_0x18366c(0x10f)],controllers['authentication']['login']),_0x51270a['post'](_0x18366c(0x150),Auth[_0x18366c(0x14f)][_0x18366c(0x12c)],controllers[_0x18366c(0x133)][_0x18366c(0x130)]);},passport[_0x1cc6bb(0x121)]((_0x39a7ce,_0x4c335c)=>{const _0x43b47b=_0x1cc6bb;_0x4c335c(null,_0x39a7ce[_0x43b47b(0x117)]);}),passport[_0x1cc6bb(0x16e)]((_0xf1ddf7,_0x39e66f)=>{_0x39e66f(null,{'uid':_0xf1ddf7});});