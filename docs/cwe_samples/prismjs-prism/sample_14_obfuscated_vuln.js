'use strict';function _0x2fc2(_0x437f75,_0x5c386c){const _0x55708e=_0x5570();return _0x2fc2=function(_0x2fc2c3,_0x2b61c4){_0x2fc2c3=_0x2fc2c3-0x17a;let _0x488f14=_0x55708e[_0x2fc2c3];return _0x488f14;},_0x2fc2(_0x437f75,_0x5c386c);}const _0x35ad67=_0x2fc2;(function(_0xda8572,_0x585b86){const _0x89f5dd=_0x2fc2,_0x474272=_0xda8572();while(!![]){try{const _0x2af94a=-parseInt(_0x89f5dd(0x195))/0x1*(parseInt(_0x89f5dd(0x185))/0x2)+parseInt(_0x89f5dd(0x191))/0x3*(-parseInt(_0x89f5dd(0x17f))/0x4)+parseInt(_0x89f5dd(0x17d))/0x5+parseInt(_0x89f5dd(0x18b))/0x6+-parseInt(_0x89f5dd(0x18a))/0x7*(parseInt(_0x89f5dd(0x18e))/0x8)+parseInt(_0x89f5dd(0x183))/0x9*(parseInt(_0x89f5dd(0x193))/0xa)+parseInt(_0x89f5dd(0x19b))/0xb;if(_0x2af94a===_0x585b86)break;else _0x474272['push'](_0x474272['shift']());}catch(_0x2abec3){_0x474272['push'](_0x474272['shift']());}}}(_0x5570,0x303a3));const socketUser=require(_0x35ad67(0x194)),socketGroup=require(_0x35ad67(0x19d)),image=require(_0x35ad67(0x188)),meta=require(_0x35ad67(0x192)),inProgress={},uploads=module['exports'];function _0x5570(){const _0x421bf1=['length','840631FqFoEB','params','./groups','upload','ZIapU','imageData','816575pGBZsW','updateCover','281936pUdSbI','[[error:invalid-data]]','[[error:file-too-big,\x20','config','9pNTUJK','cover','22362gIDXOX','create','user.uploadCroppedPicture','../image','clear','392707cvlGUo','761712GHbIoE','nIxNe','uid','32aiXnqL','maximumProfileImageSize','wokYd','6byNyrL','../meta','2968520SZriUU','./user','9JugpdO','size','method','sizeFromBase64','update'];_0x5570=function(){return _0x421bf1;};return _0x5570();}uploads[_0x35ad67(0x17a)]=async function(_0x5b0e6a,_0x1e3901){const _0x262948=_0x35ad67,_0x3eae31={'aoQZD':_0x262948(0x180),'wokYd':function(_0x65d1f1,_0x510b97){return _0x65d1f1===_0x510b97;},'ZIapU':_0x262948(0x18c)},_0x2cc495={'user.uploadCroppedPicture':socketUser['uploadCroppedPicture'],'user.updateCover':socketUser[_0x262948(0x17e)],'groups.cover.update':socketGroup[_0x262948(0x184)][_0x262948(0x199)]};if(!_0x5b0e6a[_0x262948(0x18d)]||!_0x1e3901||!_0x1e3901['chunk']||!_0x1e3901[_0x262948(0x19c)]||!_0x1e3901[_0x262948(0x19c)]['method']||!_0x2cc495['hasOwnProperty'](_0x1e3901[_0x262948(0x19c)][_0x262948(0x197)]))throw new Error(_0x3eae31['aoQZD']);inProgress[_0x5b0e6a['id']]=inProgress[_0x5b0e6a['id']]||Object[_0x262948(0x186)](null);const _0x4a0ea5=inProgress[_0x5b0e6a['id']],{method:_0x4daa73}=_0x1e3901[_0x262948(0x19c)];_0x4a0ea5[_0x4daa73]=_0x4a0ea5[_0x4daa73]||{'imageData':''},_0x4a0ea5[_0x4daa73][_0x262948(0x17c)]+=_0x1e3901['chunk'];try{const _0x2438a6=_0x3eae31[_0x262948(0x190)](_0x1e3901['params']['method'],_0x262948(0x187))?meta[_0x262948(0x182)][_0x262948(0x18f)]:meta[_0x262948(0x182)]['maximumCoverImageSize'],_0x1e5980=image[_0x262948(0x198)](_0x4a0ea5[_0x4daa73][_0x262948(0x17c)]);if(_0x1e5980>_0x2438a6*0x400){if(_0x262948(0x18c)===_0x3eae31[_0x262948(0x17b)])throw new Error(_0x262948(0x181)+_0x2438a6+']]');else throw new _0x497b1e(_0x3eae31['aoQZD']);}if(_0x4a0ea5[_0x4daa73]['imageData'][_0x262948(0x19a)]<_0x1e3901['params'][_0x262948(0x196)])return;_0x1e3901[_0x262948(0x19c)][_0x262948(0x17c)]=_0x4a0ea5[_0x4daa73]['imageData'];const _0x3ef8e9=await _0x2cc495[_0x1e3901[_0x262948(0x19c)][_0x262948(0x197)]](_0x5b0e6a,_0x1e3901[_0x262948(0x19c)]);return delete _0x4a0ea5[_0x4daa73],_0x3ef8e9;}catch(_0x8508b0){delete inProgress[_0x5b0e6a['id']];throw _0x8508b0;}},uploads[_0x35ad67(0x189)]=function(_0x522c29){delete inProgress[_0x522c29];};