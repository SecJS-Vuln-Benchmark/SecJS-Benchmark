const _0x3836f9=_0x876e;(function(_0x2ccfde,_0x413706){const _0x5741c0=_0x876e,_0x3324fe=_0x2ccfde();while(!![]){try{const _0x2af87a=parseInt(_0x5741c0(0x130))/0x1+-parseInt(_0x5741c0(0x1bf))/0x2*(-parseInt(_0x5741c0(0x15c))/0x3)+parseInt(_0x5741c0(0x1a5))/0x4*(parseInt(_0x5741c0(0x192))/0x5)+-parseInt(_0x5741c0(0xe1))/0x6*(-parseInt(_0x5741c0(0x118))/0x7)+parseInt(_0x5741c0(0xa7))/0x8*(parseInt(_0x5741c0(0xb8))/0x9)+parseInt(_0x5741c0(0x199))/0xa*(parseInt(_0x5741c0(0x18e))/0xb)+parseInt(_0x5741c0(0x1b1))/0xc*(-parseInt(_0x5741c0(0xd5))/0xd);if(_0x2af87a===_0x413706)break;else _0x3324fe['push'](_0x3324fe['shift']());}catch(_0x32aa56){_0x3324fe['push'](_0x3324fe['shift']());}}}(_0x4f00,0x1a374));import _0x5eb2d1 from'expect';function _0x4f00(){const _0x34cde3=['LleRI','YiOer','uRzXk','vaQdN','order','OTVJX','JgvqA','ioCOG','tables','qDGZH','test_number_optional','THUmS','ZgKBf','returns\x20a\x20COPY\x20of\x20the\x20data','QkHKl','fqHvE','TCsxX','XdSyO','178897PpFqmO','GdNft','removeLocal','aGabQ','nzbFo','ZjkUv','JRiiP','QcsHs','inrRh','zdPMl','fails\x20on\x20bad\x20queries,\x20creates,\x20updates,\x20deletes','text2','xwwXU','WkBhT','oDUsd','rejects','find','acwMA','RSfhw','sMxDw','GUhSF','UVKiZ','errors\x20when\x20migration\x20fails','test_boolean_optional','tZcVH','ccUeb','dIwhV','UrSao','name','tQeKu','xLrVK','can\x20store\x20and\x20retrieve\x20naughty\x20strings\x20exactly','kwbKW','mSpXW','WbYFi','tQatz','bar3','yQfOw','wpZBt','mEBGu','KUtAs','abc','rutiZ','yTDSQ','28578cZtpsY','resets\x20database\x20when\x20there\x20are\x20no\x20available\x20migrations','EbJhW','hUaLp','id2','yaEdL','can\x20perform\x20empty\x20migrations\x20(regression\x20test)','uIWoE','warn','compacts\x20query\x20results','ExQyr','\x27);\x20insert\x20into\x20tasks\x20(id)\x20values\x20(\x27t4\x27)\x20--','ZFgMy','isSettled','experimentalUseJSI','can\x20run\x20sync-like\x20flow','count','egcmt','serialize','supports\x20LocalStorage','vxZwX','nNzMB','bar2','then','MNHDI','sQzPn','bar','create','string','QztPq','can\x20mark\x20records\x20as\x20deleted','KmGnS','stringMatching','forEach','DqolI','YpSBA','EliqP','XZBTp','pWANe','SELECT\x20*\x20FROM\x20tasks\x20WHERE\x20text1\x20=\x20\x27nope\x27','WkQWA','OHBKF','OoxGR','number','tt2','can\x20unsafely\x20reset\x20database','sSfTg','toEqual','text1','suaHL','66VTVqzB','destroyPermanently','RjkOX','fweid','5fHzqlZ','PXrcI','bMcfn','update','EwEuI','unsafeResetDatabase','aApZk','296300fVeQef','KTWPU','xZjnI','eMJSt','batches\x20are\x20transactional','will_not_be_created','SELECT\x20*\x20FROM\x20tasks\x20WHERE\x20id\x20=\x20\x27t2\x27','getDeletedRecords','can\x20store\x20and\x20retrieve\x20large\x20numbers\x20(regression\x20test)','projects','bool1','itmuo','379244RUUWcv','xkbdg','tt1','bool2','qKzVY','bad_type','migrates\x20database\x20between\x20versions','TqWrC','toHaveLength','unsafeSqlQuery','SELECT\x20*\x20FROM\x20tasks\x20WHERE\x20bool1\x20=\x200','TrvJO','1140ezyrhI','hiNpj','dnRCM','destroyDeletedRecords','val3','val2','QmlAm','XNhKF','rpldm','KJYvg','HCzah','tXLca','YSvES','can\x20cache\x20non-global\x20IDs\x20on\x20query','10APdeaW','EbRdE','toBeInstanceOf','toMatchObject','num1','test1','fzvtK','0|2|3|4|1','query','aemCx','tasks','ilheW','can\x20get\x20deleted\x20record\x20ids','IvYXN','[shared\x20match\x20test]\x20','Fcpiy','GUuXa','wetdb','wAdCG','kmEEg','cHAhB','abcdef','can\x20create\x20and\x20find\x20records\x20(sanity\x20test)','SELECT\x20*\x20FROM\x20tasks\x20WHERE\x20`order`\x20=\x202','wzoiW','foo','table','jyDzT','eKMdr','FhLTo','yPojr','zPKJN','batch','iIIlP','queues\x20actions\x20correctly','pMopK','rKWqp','testClone','toBe','iWiJq','WLbua','MPCIv','ryGNA','hey','ZWgvQ','AKGDZ','yIBhO','344TXrPPa','mosoA','lVgEy','baz','RquRf','tag_assignments','map','test_string_optional','gfMSK','dwXId','gbTJC','QtLiy','vfNcy','gQWjL','[shared\x20join\x20test]\x20','kBGHj','LeLfQ','39501zGknwb','iyiFg','test_boolean','GlLoO','HvPXU','pMuRr','zpnxT','lLzMC','XhBoW','setLocal','SQLiteAdapter','where','TWFpm','not','uFiqk','bar4','rocmU','jLnlJ','can\x20destroy\x20deleted\x20records','gQgUR','nonexisting','resets\x20database\x20when\x20it\x27s\x20newer\x20than\x20app\x20schema','FNRNI','LqXON','BUSrg','MWJXX','MIqfh','ZOFpm','minSH','79638ewOoXB','RDixy','AvYHO','LokiJSAdapter','RotWk','cstIL','tawcr','\x27)\x20or\x201=1\x20--','FuzxS','SELECT\x20*\x20FROM\x20tasks','SsKDx','VxHKh','258bHqIhT','nvWBu','hello','skip\x20check\x20for\x20a\x20BOM\x20naughty\x20string\x20-\x20known\x20failing\x20test','synced','SsKyK','Vknqt','XvUIy','DnTBf','Vdnit','nBpyE','test_number','ltxtp','sanitizes\x20records\x20on\x20query','does_not_exist','NeVwY','QxUXC','markAsDeleted','can\x20query\x20and\x20count\x20records','GnMik','LSMUN','can\x20cache\x20non-global\x20IDs\x20on\x20find','split','bar1','_status','difXG','ErWXN','VnfsO','id1','rjuzT','larAA','FXWZu','getLocal','lygNJ','can\x20update\x20records','CvevC','nonexistent','FNJHA','tqboD','ArCbV','ecBDF','Dmpnc','XBFVq','toBeNull','Aziuh','dUDDp','val1','IkNJY','NDTwI','boolean','eNxyA','coeAz','matching','lBDai','Nfton','245wgMxwm','bYQCi','[shared\x20match\x20test]\x20can\x20match\x20strings\x20from\x20big-list-of-naughty-strings','usGPE','ywtmz','toThrow'];_0x4f00=function(){return _0x34cde3;};return _0x4f00();}import _0xb1a470 from'big-list-of-naughty-strings';import _0x535054 from'../../Model';import _0x414351 from'../../Query';import{sanitizedRaw}from'../../RawRecord';function _0x876e(_0x1190a9,_0xc10d21){const _0x4f0098=_0x4f00();return _0x876e=function(_0x876e66,_0x1462ba){_0x876e66=_0x876e66-0x7d;let _0x35bad0=_0x4f0098[_0x876e66];return _0x35bad0;},_0x876e(_0x1190a9,_0xc10d21);}import*as _0x2db2a5 from'../../QueryDescription';import{appSchema,tableSchema}from'../../Schema';import{schemaMigrations,createTable,addColumns}from'../../Schema/migrations';import{matchTests,naughtyMatchTests,joinTests}from'../../__tests__/databaseTests';import _0x50d207 from'../compat';import{testSchema,taskQuery,mockTaskRaw,performMatchTest,performJoinTest,expectSortedEqual,MockTask,mockProjectRaw,projectQuery}from'./helpers';class BadModel extends _0x535054{static [_0x3836f9(0x92)]=_0x3836f9(0x105);}export default()=>[['validates\x20adapter\x20options',async(_0x45468f,_0x46dee9)=>{const _0xb761a2=_0x3836f9,_0x334546={'quuOL':function(_0xeaa694,_0x273eb7){return _0xeaa694(_0x273eb7);},'sSfTg':function(_0x215dfc,_0x27a576){return _0x215dfc===_0x27a576;},'lBDai':function(_0x24c41b,_0x5b2061){return _0x24c41b(_0x5b2061);},'trfxU':function(_0x5aa807,_0xe9d54a){return _0x5aa807(_0xe9d54a);},'RquRf':function(_0x73d6f,_0x474027){return _0x73d6f(_0x474027);}},_0xe5af59={...testSchema,'version':0xa},_0x344d2a=_0xcaeea5=>new _0x46dee9({'schema':_0xe5af59,..._0xcaeea5}),_0x2acbda=_0x5a2f80=>_0x344d2a({'migrations':_0x5a2f80});_0x334546['quuOL'](_0x5eb2d1,()=>_0x344d2a({'migrationsExperimental':[]}))[_0xb761a2(0x11d)](/`migrationsExperimental` option has been renamed to `migrations`/);_0x334546[_0xb761a2(0x18a)](_0x46dee9[_0xb761a2(0x14c)],'LokiJSAdapter')&&_0x334546[_0xb761a2(0x116)](_0x5eb2d1,()=>_0x344d2a({'experimentalUseIncrementalIndexedDB':![]}))[_0xb761a2(0x11d)](/LokiJSAdapter `experimentalUseIncrementalIndexedDB` option has been renamed/);_0x5eb2d1(()=>_0x2acbda({'migrations':[]}))[_0xb761a2(0x11d)](/use schemaMigrations()/);const _0x48dc58=_0x2a6cd5=>_0x2acbda(schemaMigrations({'migrations':_0x2a6cd5}));_0x334546['trfxU'](_0x5eb2d1,()=>_0x48dc58([{'toVersion':0xa,'steps':[]}]))[_0xb761a2(0xc5)][_0xb761a2(0x11d)](),_0x5eb2d1(()=>_0x48dc58([{'toVersion':0xa,'steps':[]},{'toVersion':0x9,'steps':[]}]))[_0xb761a2(0xc5)][_0xb761a2(0x11d)](),_0x5eb2d1(()=>new _0x46dee9({'schema':{...testSchema,'version':0x1},'migrations':schemaMigrations({'migrations':[]})}))['not'][_0xb761a2(0x11d)](),_0x334546[_0xb761a2(0xab)](_0x5eb2d1,()=>_0x48dc58([]))[_0xb761a2(0x11d)](/Missing migration/),_0x5eb2d1(()=>_0x48dc58([{'toVersion':0xb,'steps':[]}]))[_0xb761a2(0x11d)](/migrations can't be newer than schema/i),_0x5eb2d1(()=>_0x48dc58([{'toVersion':0x9,'steps':[]},{'toVersion':0x8,'steps':[]}]))[_0xb761a2(0x11d)](/Missing migration/);}],['can\x20query\x20and\x20count\x20on\x20empty\x20db',async _0x18e16c=>{const _0x118b89=_0x3836f9,_0x1056ba={'SsKyK':function(_0x8ee4a6,_0x3e2598){return _0x8ee4a6(_0x3e2598);},'Fcpiy':function(_0x3a9533,_0x2d77ef){return _0x3a9533(_0x2d77ef);}},_0x2ab051=taskQuery();_0x1056ba[_0x118b89(0xe6)](_0x5eb2d1,await _0x18e16c[_0x118b89(0x80)](_0x2ab051))['toEqual']([]),_0x1056ba[_0x118b89(0x87)](_0x5eb2d1,await _0x18e16c[_0x118b89(0x16c)](_0x2ab051))[_0x118b89(0x9e)](0x0);}],[_0x3836f9(0x8e),async _0xdf6086=>{const _0x367c34=_0x3836f9,_0x49ab66={'nNzMB':function(_0x5863a0,_0x4236fd){return _0x5863a0(_0x4236fd);},'mosoA':_0x367c34(0x177),'tQeKu':_0x367c34(0x159)},_0x3a2c4c=_0x49ab66[_0x367c34(0x171)](mockTaskRaw,{'id':_0x367c34(0x159),'text1':_0x367c34(0x176),'order':0x1});await _0xdf6086[_0x367c34(0x98)]([[_0x49ab66[_0x367c34(0xa8)],_0x367c34(0x82),_0x3a2c4c]]),_0x49ab66[_0x367c34(0x171)](_0x5eb2d1,await _0xdf6086['find'](_0x367c34(0x82),_0x49ab66[_0x367c34(0x14d)]))['toBe'](_0x367c34(0x159));}],['can\x20find\x20records\x20by\x20ID',async _0x4dc4b2=>{const _0x1c2bf4=_0x3836f9,_0x3d68b4={'XNhKF':_0x1c2bf4(0x176),'zpnxT':_0x1c2bf4(0x177),'rutiZ':function(_0x54c4fa,_0x171f10){return _0x54c4fa(_0x171f10);},'suaHL':_0x1c2bf4(0x82),'ltxtp':function(_0x5cce0c,_0x43445f){return _0x5cce0c(_0x43445f);},'APUzX':'baz','aGabQ':function(_0x174b4c,_0x37681e){return _0x174b4c(_0x37681e);},'uIWoE':function(_0x2f4a25,_0x4e98c5){return _0x2f4a25(_0x4e98c5);}};let _0xe7a2e=_0x4dc4b2;const _0x335695=mockTaskRaw({'id':'s1','text1':_0x3d68b4[_0x1c2bf4(0x1b8)],'order':0x1});await _0xe7a2e[_0x1c2bf4(0x98)]([[_0x3d68b4[_0x1c2bf4(0xbe)],_0x1c2bf4(0x82),_0x335695]]),_0x3d68b4[_0x1c2bf4(0x15a)](_0x5eb2d1,await _0xe7a2e[_0x1c2bf4(0x140)](_0x3d68b4[_0x1c2bf4(0x18d)],'s1'))[_0x1c2bf4(0x9e)]('s1');const _0xb693fe=_0x3d68b4[_0x1c2bf4(0x15a)](mockTaskRaw,{'id':'s2','bool1':!![],'order':0x2}),_0x219f93=_0x3d68b4[_0x1c2bf4(0xed)](mockTaskRaw,{'id':'s3','text1':_0x3d68b4['APUzX']});await _0xe7a2e[_0x1c2bf4(0x98)]([[_0x3d68b4[_0x1c2bf4(0xbe)],_0x3d68b4[_0x1c2bf4(0x18d)],_0xb693fe],[_0x3d68b4[_0x1c2bf4(0xbe)],_0x3d68b4[_0x1c2bf4(0x18d)],_0x219f93]]),_0xe7a2e=await _0xe7a2e['testClone'](),_0x3d68b4[_0x1c2bf4(0x15a)](_0x5eb2d1,await _0xe7a2e['find'](_0x1c2bf4(0x82),'s2'))[_0x1c2bf4(0x18b)](_0xb693fe),_0x3d68b4[_0x1c2bf4(0x133)](_0x5eb2d1,await _0xe7a2e[_0x1c2bf4(0x140)](_0x1c2bf4(0x82),'s3'))[_0x1c2bf4(0x18b)](_0x219f93),_0x3d68b4[_0x1c2bf4(0x163)](_0x5eb2d1,await _0xe7a2e[_0x1c2bf4(0x140)](_0x3d68b4[_0x1c2bf4(0x18d)],'s2'))[_0x1c2bf4(0x9e)]('s2'),_0x5eb2d1(await _0xe7a2e[_0x1c2bf4(0x140)](_0x3d68b4[_0x1c2bf4(0x18d)],'s4'))['toBe'](null);}],[_0x3836f9(0xf6),async _0x4c8de7=>{const _0x1ae8b9=_0x3836f9,_0x27ff35={'SsKDx':_0x1ae8b9(0xfd),'GUhSF':'create','PXrcI':_0x1ae8b9(0x82),'TrvJO':function(_0x4cf60c,_0x1f081b){return _0x4cf60c(_0x1f081b);},'uRzXk':_0x1ae8b9(0x1a2),'nzbFo':'foo','RSfhw':_0x1ae8b9(0x160)};let _0x14caf4=_0x4c8de7;const _0x141d8a=mockTaskRaw({'id':_0x27ff35[_0x1ae8b9(0xdf)],'text1':'bar','order':0x1});await _0x14caf4[_0x1ae8b9(0x98)]([[_0x27ff35[_0x1ae8b9(0x144)],_0x27ff35[_0x1ae8b9(0x193)],_0x141d8a]]),_0x27ff35[_0x1ae8b9(0x1b0)](_0x5eb2d1,await _0x14caf4[_0x1ae8b9(0x140)](_0x27ff35[_0x1ae8b9(0x120)],_0x27ff35['SsKDx']))[_0x1ae8b9(0x9e)](null);const _0x1e89a3=_0x27ff35[_0x1ae8b9(0x1b0)](mockProjectRaw,{'id':'id1','num1':0x1,'text1':_0x27ff35[_0x1ae8b9(0x134)]});await _0x14caf4[_0x1ae8b9(0x98)]([[_0x27ff35[_0x1ae8b9(0x144)],_0x1ae8b9(0x1a2),_0x1e89a3]]),_0x5eb2d1(await _0x14caf4[_0x1ae8b9(0x140)](_0x27ff35[_0x1ae8b9(0x120)],_0x1ae8b9(0xfd)))[_0x1ae8b9(0x9e)](_0x1ae8b9(0xfd));const _0x1be2c3=mockProjectRaw({'id':_0x27ff35['RSfhw'],'num1':0x1,'text1':'foo'});await _0x14caf4[_0x1ae8b9(0x98)]([[_0x27ff35[_0x1ae8b9(0x144)],_0x1ae8b9(0x1a2),_0x1be2c3]]),_0x14caf4=await _0x14caf4['testClone']();const _0x5c3a29=_0x27ff35['TrvJO'](mockTaskRaw,{'id':_0x1ae8b9(0x160),'text1':'baz','order':0x2});await _0x14caf4[_0x1ae8b9(0x98)]([['create',_0x1ae8b9(0x82),_0x5c3a29]]),_0x5eb2d1(await _0x14caf4[_0x1ae8b9(0x140)](_0x27ff35[_0x1ae8b9(0x193)],_0x1ae8b9(0x160)))[_0x1ae8b9(0x9e)](_0x27ff35[_0x1ae8b9(0x142)]),_0x5eb2d1(await _0x14caf4[_0x1ae8b9(0x140)](_0x1ae8b9(0x1a2),_0x1ae8b9(0x160)))['toEqual'](_0x1be2c3),_0x5eb2d1(await _0x14caf4[_0x1ae8b9(0x140)]('projects',_0x27ff35[_0x1ae8b9(0x142)]))[_0x1ae8b9(0x9e)](_0x1ae8b9(0x160));}],[_0x3836f9(0x1be),async _0xaed8=>{const _0x268599=_0x3836f9,_0x29d215={'jLnlJ':_0x268599(0xfd),'OHBKF':_0x268599(0x177),'ywtmz':function(_0x39fd01){return _0x39fd01();},'tqboD':function(_0x4a0df4,_0x28be17){return _0x4a0df4(_0x28be17);},'yIBhO':'projects','bMcfn':'id2','QcsHs':_0x268599(0xaa),'zPKJN':function(_0x4c12bc,_0x402f5f,_0x26e886){return _0x4c12bc(_0x402f5f,_0x26e886);},'VnfsO':function(_0x5e5bc1,_0x5c05d2,_0xfd3bda){return _0x5e5bc1(_0x5c05d2,_0xfd3bda);}};let _0x3b25c8=_0xaed8;const _0x4a8adf=mockTaskRaw({'id':_0x29d215[_0x268599(0xc9)],'text1':_0x268599(0x176),'order':0x1});await _0x3b25c8[_0x268599(0x98)]([[_0x29d215[_0x268599(0x185)],_0x268599(0x82),_0x4a8adf]]),expectSortedEqual(await _0x3b25c8['query'](_0x29d215[_0x268599(0x11c)](projectQuery)),[]);const _0x52db3b=_0x29d215['tqboD'](mockProjectRaw,{'id':_0x268599(0xfd),'num1':0x1,'text1':_0x268599(0x91)});await _0x3b25c8[_0x268599(0x98)]([[_0x29d215[_0x268599(0x185)],_0x29d215[_0x268599(0xa6)],_0x52db3b]]),expectSortedEqual(await _0x3b25c8[_0x268599(0x80)](projectQuery()),[_0x29d215[_0x268599(0xc9)]]);const _0x41bec0=_0x29d215[_0x268599(0x107)](mockProjectRaw,{'id':_0x29d215['bMcfn'],'num1':0x1,'text1':'foo'});await _0x3b25c8[_0x268599(0x98)]([[_0x29d215[_0x268599(0x185)],_0x29d215[_0x268599(0xa6)],_0x41bec0]]),_0x3b25c8=await _0x3b25c8[_0x268599(0x9d)]();const _0x3761cb=mockTaskRaw({'id':_0x29d215['bMcfn'],'text1':_0x29d215[_0x268599(0x137)],'order':0x2});await _0x3b25c8['batch']([[_0x29d215[_0x268599(0x185)],_0x268599(0x82),_0x3761cb]]),_0x29d215[_0x268599(0x97)](expectSortedEqual,await _0x3b25c8[_0x268599(0x80)](taskQuery()),[_0x4a8adf,_0x29d215[_0x268599(0x194)]]),expectSortedEqual(await _0x3b25c8[_0x268599(0x80)](projectQuery()),[_0x52db3b,_0x41bec0]),_0x29d215[_0x268599(0xfc)](expectSortedEqual,await _0x3b25c8[_0x268599(0x80)](_0x29d215[_0x268599(0x11c)](taskQuery)),[_0x268599(0xfd),_0x29d215[_0x268599(0x194)]]);}],['sanitizes\x20records\x20on\x20find',async _0x378ffc=>{const _0x20db23=_0x3836f9,_0x58a7e1={'ExQyr':_0x20db23(0x8d),'CvevC':function(_0xf67e50,_0x3bcb39){return _0xf67e50(_0x3bcb39);},'YSvES':_0x20db23(0xac)};let _0x56b316=_0x378ffc;const _0x36e8a6={'id':_0x20db23(0x1a7),'task_id':_0x58a7e1[_0x20db23(0x166)]};await _0x56b316[_0x20db23(0x98)]([['create','tag_assignments',_0x36e8a6]]),_0x56b316=await _0x56b316['testClone'](),_0x58a7e1[_0x20db23(0x104)](_0x5eb2d1,await _0x56b316['find'](_0x58a7e1[_0x20db23(0x1bd)],_0x20db23(0x1a7)))[_0x20db23(0x18b)](sanitizedRaw(_0x36e8a6,testSchema[_0x20db23(0x126)][_0x20db23(0xac)]));}],[_0x3836f9(0xf3),async _0x5d3ab5=>{const _0x4251ca=_0x3836f9,_0x21c28a={'ZFgMy':function(_0x27e5ed,_0x2e3ef9){return _0x27e5ed(_0x2e3ef9);},'nHptS':function(_0x247ce8,_0x3d1e8b){return _0x247ce8(_0x3d1e8b);},'DqolI':_0x4251ca(0x159),'BUSrg':_0x4251ca(0x177),'vxZwX':_0x4251ca(0x82),'larAA':function(_0x51c56b,_0x1b9958,_0x3aff89){return _0x51c56b(_0x1b9958,_0x3aff89);},'FzGlx':function(_0x2ea328,_0x3f7b8e){return _0x2ea328(_0x3f7b8e);},'oYtDl':_0x4251ca(0x1a3),'vNyCN':function(_0x5b9738,_0x19adaf,_0x2e5a79){return _0x5b9738(_0x19adaf,_0x2e5a79);},'ZWgvQ':function(_0x4ddfa9,_0x22dd59){return _0x4ddfa9(_0x22dd59);},'tZcVH':'order','nvWBu':function(_0x1ee494,_0x345cb8){return _0x1ee494(_0x345cb8);},'JgvqA':function(_0x356e20,_0x289d61){return _0x356e20(_0x289d61);},'oTGGS':_0x4251ca(0x18c),'HvPXU':'nope','lLzMC':function(_0x20972b,_0x5a2361){return _0x20972b(_0x5a2361);}},_0x1e5388=_0x21c28a[_0x4251ca(0x168)](mockTaskRaw,{'id':'t1','text1':_0x4251ca(0x176),'bool1':![],'order':0x1}),_0x1a4c4b=_0x21c28a['nHptS'](mockTaskRaw,{'id':'t2','text1':_0x4251ca(0xaa),'bool1':!![],'order':0x2}),_0x5a7b9b=mockTaskRaw({'id':'t3','text1':_0x21c28a[_0x4251ca(0x17e)],'bool1':![],'order':0x3});await _0x5d3ab5[_0x4251ca(0x98)]([[_0x21c28a[_0x4251ca(0xd0)],_0x4251ca(0x82),_0x1e5388],[_0x4251ca(0x177),_0x21c28a[_0x4251ca(0x170)],_0x1a4c4b],[_0x4251ca(0x177),_0x21c28a['vxZwX'],_0x5a7b9b]]),_0x21c28a[_0x4251ca(0xff)](expectSortedEqual,await _0x5d3ab5[_0x4251ca(0x80)](taskQuery()),['t1','t2','t3']),_0x5eb2d1(await _0x5d3ab5[_0x4251ca(0x16c)](taskQuery()))[_0x4251ca(0x9e)](0x3),_0x21c28a[_0x4251ca(0xff)](expectSortedEqual,await _0x5d3ab5[_0x4251ca(0x80)](_0x21c28a['FzGlx'](taskQuery,_0x2db2a5[_0x4251ca(0xc3)](_0x21c28a['oYtDl'],![]))),['t1','t3']),_0x21c28a['vNyCN'](expectSortedEqual,await _0x5d3ab5[_0x4251ca(0x80)](_0x21c28a[_0x4251ca(0xa4)](taskQuery,_0x2db2a5[_0x4251ca(0xc3)](_0x4251ca(0x122),0x2))),['t2']),expectSortedEqual(await _0x5d3ab5[_0x4251ca(0x80)](taskQuery(_0x2db2a5[_0x4251ca(0xc3)](_0x21c28a['tZcVH'],0x3))),['t3']),_0x5eb2d1(await _0x5d3ab5['count'](_0x21c28a[_0x4251ca(0xe2)](taskQuery,_0x2db2a5[_0x4251ca(0xc3)]('bool1',![]))))[_0x4251ca(0x9e)](0x2),expectSortedEqual(await _0x5d3ab5[_0x4251ca(0x80)](_0x21c28a[_0x4251ca(0x124)](taskQuery,_0x2db2a5[_0x4251ca(0xc3)](_0x21c28a['oTGGS'],_0x21c28a[_0x4251ca(0xbc)]))),[]),_0x5eb2d1(await _0x5d3ab5[_0x4251ca(0x16c)](taskQuery(_0x2db2a5['where']('text1',_0x21c28a[_0x4251ca(0xbc)]))))['toBe'](0x0),_0x21c28a[_0x4251ca(0xe2)](_0x5eb2d1,await _0x5d3ab5[_0x4251ca(0x16c)](_0x21c28a[_0x4251ca(0xbf)](taskQuery,_0x2db2a5[_0x4251ca(0xc3)](_0x21c28a[_0x4251ca(0x148)],0x4))))['toBe'](0x0);}],['can\x20query\x20records\x20in\x20raw\x20query\x20format',async(_0x2ca51d,_0x41867b)=>{const _0x51cfe8=_0x3836f9,_0x413b03={'gQWjL':function(_0xb20404,_0x4bc65d){return _0xb20404===_0x4bc65d;},'vSexB':'bar','bYQCi':function(_0x343791,_0x47eb1d){return _0x343791(_0x47eb1d);},'coeAz':_0x51cfe8(0x177),'FXWZu':'tasks','wJxTi':function(_0x4eb977,_0x524729,_0x4a2ab1){return _0x4eb977(_0x524729,_0x4a2ab1);}};if(_0x413b03[_0x51cfe8(0xb4)](_0x41867b['name'],'SQLiteAdapter')){const _0x4ecc6f=mockTaskRaw({'id':'t1','text1':_0x413b03['vSexB'],'bool1':![],'order':0x1}),_0x4a19ac=_0x413b03['bYQCi'](mockTaskRaw,{'id':'t2','text1':_0x51cfe8(0xaa),'bool1':!![],'order':0x2}),_0x2d18f4=_0x413b03[_0x51cfe8(0x119)](mockTaskRaw,{'id':'t3','text1':_0x51cfe8(0x159),'bool1':![],'order':0x3});await _0x2ca51d[_0x51cfe8(0x98)]([[_0x413b03['coeAz'],_0x51cfe8(0x82),_0x4ecc6f],[_0x413b03[_0x51cfe8(0x114)],'tasks',_0x4a19ac],[_0x413b03['coeAz'],_0x413b03['FXWZu'],_0x2d18f4]]),expectSortedEqual(await _0x2ca51d[_0x51cfe8(0x1ae)](_0x413b03[_0x51cfe8(0x100)],_0x51cfe8(0xde)),['t1','t2','t3']),_0x413b03['wJxTi'](expectSortedEqual,await _0x2ca51d[_0x51cfe8(0x1ae)](_0x413b03[_0x51cfe8(0x100)],_0x51cfe8(0x1af)),['t1','t3']),expectSortedEqual(await _0x2ca51d[_0x51cfe8(0x1ae)](_0x413b03[_0x51cfe8(0x100)],_0x51cfe8(0x19f)),['t2']),expectSortedEqual(await _0x2ca51d[_0x51cfe8(0x1ae)](_0x51cfe8(0x82),_0x51cfe8(0x8f)),['t2']),expectSortedEqual(await _0x2ca51d[_0x51cfe8(0x1ae)](_0x413b03[_0x51cfe8(0x100)],_0x51cfe8(0x183)),[]);}else _0x413b03[_0x51cfe8(0x119)](_0x5eb2d1,_0x2ca51d[_0x51cfe8(0x1ae)])[_0x51cfe8(0x9e)](undefined);}],[_0x3836f9(0x165),async _0x1642f6=>{const _0x16e0df=_0x3836f9,_0x3373cf={'DowFA':_0x16e0df(0x177),'KUtAs':function(_0x151702,_0x189f7b,_0x508163){return _0x151702(_0x189f7b,_0x508163);},'AhJNA':function(_0x57894d){return _0x57894d();},'EbJhW':function(_0x134e9f,_0x4bf0ee){return _0x134e9f(_0x4bf0ee);},'MIqfh':_0x16e0df(0x82),'sMxDw':function(_0x587b9f,_0x1ffa86){return _0x587b9f(_0x1ffa86);},'AvYHO':function(_0x5e84a7,_0x498889){return _0x5e84a7(_0x498889);}};let _0x2690e5=_0x1642f6;const _0x398531=()=>_0x2690e5[_0x16e0df(0x80)](taskQuery()),_0x2a5fe7=mockTaskRaw({'id':'s1','order':0x1}),_0x2fd181=mockTaskRaw({'id':'s2','order':0x2});await _0x2690e5[_0x16e0df(0x98)]([[_0x3373cf['DowFA'],_0x16e0df(0x82),_0x2a5fe7],['create',_0x16e0df(0x82),_0x2fd181]]),_0x2690e5=await _0x2690e5[_0x16e0df(0x9d)](),_0x3373cf[_0x16e0df(0x158)](expectSortedEqual,await _0x3373cf['AhJNA'](_0x398531),[_0x2a5fe7,_0x2fd181]),_0x3373cf['EbJhW'](_0x5eb2d1,await _0x398531())[_0x16e0df(0x18b)](['s1','s2']),await _0x2690e5[_0x16e0df(0x98)]([['update',_0x16e0df(0x82),_0x2fd181]]),_0x3373cf[_0x16e0df(0x15e)](_0x5eb2d1,await _0x398531())[_0x16e0df(0x18b)](['s1','s2']);const _0x30ba8a=_0x3373cf[_0x16e0df(0x15e)](mockTaskRaw,{'id':'s3'});await _0x2690e5[_0x16e0df(0x98)]([[_0x16e0df(0x177),_0x3373cf[_0x16e0df(0xd2)],_0x30ba8a]]),_0x5eb2d1(await _0x398531())['toEqual'](['s1','s2','s3']),await _0x2690e5[_0x16e0df(0x98)]([[_0x16e0df(0x18f),_0x3373cf['MIqfh'],_0x30ba8a['id']]]),_0x3373cf[_0x16e0df(0x143)](_0x5eb2d1,await _0x398531())[_0x16e0df(0x18b)](['s1','s2']);const _0xdd3fad=_0x3373cf[_0x16e0df(0x15e)](mockTaskRaw,{'id':'s3','bool1':!![]});await _0x2690e5['batch']([[_0x16e0df(0x177),_0x16e0df(0x82),_0xdd3fad]]),_0x3373cf[_0x16e0df(0xd7)](_0x5eb2d1,await _0x398531())[_0x16e0df(0x18b)](['s1','s2','s3']),_0x2690e5=await _0x2690e5[_0x16e0df(0x9d)](),expectSortedEqual(await _0x398531(),[_0x2a5fe7,_0x2fd181,_0xdd3fad]);}],[_0x3836f9(0xee),async _0x1c1a2b=>{const _0x83496b=_0x3836f9,_0x39b0b1={'ilheW':'foo','tXLca':'bar','gQgUR':_0x83496b(0x177),'nBpyE':_0x83496b(0x82),'NDTwI':function(_0x5115e9,_0x101f9c,_0x875fe5){return _0x5115e9(_0x101f9c,_0x875fe5);}};let _0xdea590=_0x1c1a2b;const _0x4194e6={'id':'t1','text1':_0x39b0b1[_0x83496b(0x83)],'order':0x1},_0x5169f4={'id':'t2','text2':_0x39b0b1[_0x83496b(0x1bc)],'order':0x2};await _0xdea590['batch']([[_0x39b0b1[_0x83496b(0xcb)],_0x39b0b1['nBpyE'],_0x4194e6],['create',_0x39b0b1[_0x83496b(0xeb)],_0x5169f4]]),_0xdea590=await _0xdea590['testClone'](),_0x39b0b1[_0x83496b(0x111)](expectSortedEqual,await _0xdea590[_0x83496b(0x80)](taskQuery()),[_0x39b0b1[_0x83496b(0x111)](sanitizedRaw,_0x4194e6,testSchema['tables']['tasks']),sanitizedRaw(_0x5169f4,testSchema['tables'][_0x83496b(0x82)])]);}],[_0x3836f9(0x12b),async _0x3c95f4=>{const _0x51cfc1=_0x3836f9,_0x476ddc={'cstIL':_0x51cfc1(0x176),'ioCOG':_0x51cfc1(0x82),'LCUSy':function(_0x44c2f4){return _0x44c2f4();},'OoxGR':function(_0x5366cf,_0xde5549){return _0x5366cf(_0xde5549);}};let _0x3e9912=_0x3c95f4;const _0x29852a=mockTaskRaw({'id':'t1','text1':_0x476ddc[_0x51cfc1(0xda)]}),_0x540dc6={..._0x29852a};await _0x3e9912[_0x51cfc1(0x98)]([[_0x51cfc1(0x177),'tasks',_0x29852a]]),_0x3e9912=await _0x3e9912['testClone']();const _0x175f1b=await _0x3e9912[_0x51cfc1(0x140)](_0x476ddc[_0x51cfc1(0x125)],'t1');_0x5eb2d1(_0x175f1b)[_0x51cfc1(0x18b)](_0x540dc6),_0x5eb2d1(_0x175f1b)[_0x51cfc1(0x18b)](_0x29852a),_0x5eb2d1(_0x175f1b)[_0x51cfc1(0xc5)]['toBe'](_0x29852a),_0x3e9912=await _0x3e9912[_0x51cfc1(0x9d)]();const [_0x10e96c]=await _0x3e9912[_0x51cfc1(0x80)](_0x476ddc['LCUSy'](taskQuery));_0x476ddc[_0x51cfc1(0x186)](_0x5eb2d1,_0x10e96c)[_0x51cfc1(0x18b)](_0x540dc6),_0x5eb2d1(_0x10e96c)[_0x51cfc1(0xc5)][_0x51cfc1(0x9e)](_0x29852a);}],[_0x3836f9(0x103),async _0xd121f4=>{const _0x379086=_0x3836f9,_0x30a161={'eMJSt':function(_0x145d4c,_0x9c4b3e){return _0x145d4c(_0x9c4b3e);},'EwEuI':_0x379086(0x176),'XvUIy':_0x379086(0x177),'IvYXN':_0x379086(0x82),'icedQ':_0x379086(0x195),'egcmt':function(_0x4d5771,_0x308c35){return _0x4d5771(_0x308c35);}};let _0x57e64a=_0xd121f4;const _0x8b2c0d=_0x30a161[_0x379086(0x19c)](mockTaskRaw,{'id':'t1','text1':_0x30a161[_0x379086(0x196)]});await _0x57e64a[_0x379086(0x98)]([[_0x30a161[_0x379086(0xe8)],_0x30a161[_0x379086(0x85)],_0x8b2c0d]]),_0x8b2c0d[_0x379086(0x1a3)]=!![],_0x8b2c0d[_0x379086(0x122)]=0x2,await _0x57e64a[_0x379086(0x98)]([[_0x30a161['icedQ'],_0x30a161[_0x379086(0x85)],_0x8b2c0d]]),_0x57e64a=await _0x57e64a[_0x379086(0x9d)]();const _0x3ea1bc=await _0x57e64a[_0x379086(0x140)](_0x30a161['IvYXN'],'t1');_0x5eb2d1(_0x3ea1bc[_0x379086(0x1a3)])['toBe'](!![]),_0x5eb2d1(_0x3ea1bc[_0x379086(0x122)])[_0x379086(0x9e)](0x2),_0x30a161[_0x379086(0x16d)](_0x5eb2d1,_0x3ea1bc)[_0x379086(0x18b)](_0x8b2c0d),_0x5eb2d1(_0x3ea1bc)[_0x379086(0xc5)][_0x379086(0x9e)](_0x8b2c0d);}],[_0x3836f9(0x17a),async _0x682de=>{const _0x23afa2=_0x3836f9,_0x58e91d={'ArCbV':function(_0x418ccc,_0x2ef574){return _0x418ccc(_0x2ef574);},'QxUXC':'bar1','FhLTo':function(_0x691b97){return _0x691b97();},'ccUeb':_0x23afa2(0xe5),'fzvtK':_0x23afa2(0x82),'ZjkUv':function(_0x2e6f40,_0x53ccd3,_0x3eeefc){return _0x2e6f40(_0x53ccd3,_0x3eeefc);}},_0xf217a2=_0x58e91d[_0x23afa2(0x108)](mockTaskRaw,{'id':'t1','text1':_0x58e91d[_0x23afa2(0xf1)]});await _0x682de['batch']([[_0x23afa2(0x177),_0x23afa2(0x82),_0xf217a2]]),_0x5eb2d1(await _0x682de[_0x23afa2(0x80)](_0x58e91d[_0x23afa2(0x95)](taskQuery)))[_0x23afa2(0x18b)](['t1']),await _0x682de['batch']([[_0x23afa2(0xf2),'tasks',_0xf217a2['id']]]),_0x5eb2d1(await _0x682de['query'](_0x58e91d[_0x23afa2(0x95)](taskQuery)))['toEqual']([]),_0xf217a2[_0x23afa2(0xf9)]=_0x58e91d[_0x23afa2(0x149)],await _0x682de[_0x23afa2(0x98)]([[_0x23afa2(0x195),_0x58e91d[_0x23afa2(0x7e)],_0xf217a2]]),_0x58e91d[_0x23afa2(0x135)](expectSortedEqual,await _0x682de[_0x23afa2(0x80)](taskQuery()),[_0xf217a2]);}],[_0x3836f9(0x84),async _0x15854e=>{const _0x22db4b=_0x3836f9,_0x1b9922={'qDGZH':function(_0xcfd5f0,_0x31dc40){return _0xcfd5f0(_0x31dc40);},'qKzVY':_0x22db4b(0x177),'LqXON':_0x22db4b(0x82),'cREuQ':_0x22db4b(0x154),'wzoiW':'markAsDeleted','wOZAq':function(_0x1843e6,_0x3c3cb7,_0x2a057d){return _0x1843e6(_0x3c3cb7,_0x2a057d);}},_0x5e7799=mockTaskRaw({'id':'t1','text1':'bar1','order':0x1}),_0x51e0c4=_0x1b9922[_0x22db4b(0x127)](mockTaskRaw,{'id':'t2','text1':'bar2','order':0x2});await _0x15854e[_0x22db4b(0x98)]([[_0x1b9922[_0x22db4b(0x1a9)],_0x1b9922[_0x22db4b(0xcf)],_0x5e7799],['markAsDeleted',_0x22db4b(0x82),_0x5e7799['id']],[_0x22db4b(0x177),_0x22db4b(0x82),_0x51e0c4],[_0x1b9922[_0x22db4b(0x1a9)],_0x1b9922['LqXON'],mockTaskRaw({'id':'t3','text1':_0x1b9922['cREuQ']})],[_0x1b9922[_0x22db4b(0x90)],_0x22db4b(0x82),_0x51e0c4['id']]]),_0x1b9922['wOZAq'](expectSortedEqual,await _0x15854e[_0x22db4b(0x1a0)](_0x22db4b(0x82)),['t2','t1']);}],[_0x3836f9(0xca),async _0xfda4fe=>{const _0x4c35f4=_0x3836f9,_0x3d5760={'EliqP':_0x4c35f4(0x172),'Aziuh':function(_0x36e7ce,_0x3d76e8){return _0x36e7ce(_0x3d76e8);},'tawcr':_0x4c35f4(0x177),'GnMik':_0x4c35f4(0x82),'BAGHR':'bar4','NeVwY':'markAsDeleted','dUDDp':function(_0x147911,_0x5af2ec,_0x370de4){return _0x147911(_0x5af2ec,_0x370de4);}},_0x3f6529=mockTaskRaw({'id':'t1','text1':_0x4c35f4(0xf8),'order':0x1}),_0x5d65ea=mockTaskRaw({'id':'t2','text1':_0x3d5760[_0x4c35f4(0x180)],'order':0x2}),_0x375b9a=_0x3d5760['Aziuh'](mockTaskRaw,{'id':'t3','text1':_0x4c35f4(0x154),'order':0x3});await _0xfda4fe[_0x4c35f4(0x98)]([[_0x3d5760[_0x4c35f4(0xdb)],_0x4c35f4(0x82),_0x3f6529],[_0x4c35f4(0x177),_0x3d5760[_0x4c35f4(0xf4)],_0x5d65ea],[_0x3d5760[_0x4c35f4(0xdb)],_0x3d5760[_0x4c35f4(0xf4)],_0x375b9a],[_0x3d5760['tawcr'],_0x3d5760[_0x4c35f4(0xf4)],mockTaskRaw({'id':'t4','text1':_0x3d5760['BAGHR']})]]),await _0xfda4fe[_0x4c35f4(0x98)]([[_0x3d5760[_0x4c35f4(0xf0)],_0x4c35f4(0x82),_0x3f6529['id']],['markAsDeleted',_0x3d5760[_0x4c35f4(0xf4)],_0x5d65ea['id']],['markAsDeleted',_0x4c35f4(0x82),_0x375b9a['id']]]),await _0xfda4fe[_0x4c35f4(0x1b4)]('tasks',['t1','t2']),_0x3d5760[_0x4c35f4(0x10e)](expectSortedEqual,await _0xfda4fe['getDeletedRecords'](_0x3d5760[_0x4c35f4(0xf4)]),['t3']),_0x3d5760[_0x4c35f4(0x10e)](expectSortedEqual,await _0xfda4fe[_0x4c35f4(0x80)](taskQuery()),['t4']),_0x5eb2d1(await _0xfda4fe[_0x4c35f4(0x140)](_0x3d5760[_0x4c35f4(0xf4)],'t1'))[_0x4c35f4(0x10c)](),_0x3d5760[_0x4c35f4(0x10d)](_0x5eb2d1,await _0xfda4fe['find'](_0x4c35f4(0x82),'t2'))[_0x4c35f4(0x10c)]();}],['destroyDeletedRecords\x20can\x20handle\x20unsafe\x20strings',async _0xe876f1=>{const _0x130601=_0x3836f9,_0x2e790f={'LSMUN':function(_0x143a92,_0x5dd7e1){return _0x143a92(_0x5dd7e1);},'ZgKBf':function(_0x21210d,_0x10bb7e){return _0x21210d(_0x10bb7e);},'rjuzT':_0x130601(0x154),'jlfRl':_0x130601(0x177),'ErWXN':_0x130601(0x82),'Vdnit':_0x130601(0xf2),'FNRNI':function(_0x4a9357){return _0x4a9357();}},_0x324b59=_0x2e790f[_0x130601(0xf5)](mockTaskRaw,{'id':'t1','text1':_0x130601(0xf8),'order':0x1}),_0x36aa4b=_0x2e790f[_0x130601(0x12a)](mockTaskRaw,{'id':'t2','text1':_0x130601(0x172),'order':0x2}),_0x510070=mockTaskRaw({'id':'t3','text1':_0x2e790f[_0x130601(0xfe)],'order':0x3});await _0xe876f1[_0x130601(0x98)]([[_0x2e790f['jlfRl'],_0x2e790f[_0x130601(0xfb)],_0x324b59],[_0x130601(0x177),_0x130601(0x82),_0x36aa4b],[_0x130601(0x177),_0x2e790f['ErWXN'],_0x510070]]),await _0xe876f1['batch']([[_0x2e790f[_0x130601(0xea)],_0x130601(0x82),_0x324b59['id']],[_0x2e790f[_0x130601(0xea)],_0x2e790f['ErWXN'],_0x36aa4b['id']],[_0x2e790f[_0x130601(0xea)],_0x2e790f[_0x130601(0xfb)],_0x510070['id']]]),await _0xe876f1['destroyDeletedRecords'](_0x2e790f['ErWXN'],[_0x130601(0xdc)]),expectSortedEqual(await _0xe876f1[_0x130601(0x1a0)](_0x2e790f[_0x130601(0xfb)]),['t1','t2','t3']),expectSortedEqual(await _0xe876f1[_0x130601(0x80)](taskQuery()),[]),await _0xe876f1['destroyDeletedRecords'](_0x130601(0x82),[_0x130601(0x167)]),expectSortedEqual(await _0xe876f1[_0x130601(0x80)](_0x2e790f[_0x130601(0xce)](taskQuery)),[]);}],['can\x20run\x20mixed\x20batches',async _0x1685de=>{const _0x309e28=_0x3836f9,_0x151a7c={'LeLfQ':function(_0x31d415,_0x208664){return _0x31d415(_0x208664);},'difXG':function(_0x514f34,_0x3905f2){return _0x514f34(_0x3905f2);},'pMuRr':_0x309e28(0x177),'ZOFpm':_0x309e28(0x18f),'kBGHj':_0x309e28(0x195),'GlLoO':'tasks','vCXQd':_0x309e28(0xf2),'bZosl':function(_0x327c85){return _0x327c85();}};let _0x223847=_0x1685de;const _0x3c306e=_0x151a7c[_0x309e28(0xb7)](mockTaskRaw,{'id':'t1','text1':_0x309e28(0x176)}),_0xa3e5e0=mockTaskRaw({'id':'t3'}),_0x37b7bf=_0x151a7c[_0x309e28(0xfa)](mockTaskRaw,{'id':'t4'});await _0x223847[_0x309e28(0x98)]([['create',_0x309e28(0x82),_0x3c306e]]),_0x3c306e[_0x309e28(0x1a3)]=!![];const _0x228aeb=mockTaskRaw({'id':'t2','text1':'bar','bool2':!![],'order':0x2});await _0x223847[_0x309e28(0x98)]([[_0x151a7c[_0x309e28(0xbd)],_0x309e28(0x82),_0xa3e5e0],[_0x151a7c[_0x309e28(0xbd)],'tasks',_0x37b7bf],[_0x151a7c[_0x309e28(0xd3)],'tasks',_0xa3e5e0['id']],[_0x151a7c[_0x309e28(0xb6)],_0x151a7c['GlLoO'],_0x3c306e],[_0x309e28(0x177),_0x151a7c['GlLoO'],_0x228aeb],[_0x151a7c['vCXQd'],_0x151a7c[_0x309e28(0xbb)],_0x37b7bf['id']]]),_0x223847=await _0x223847['testClone']();const _0x2006ac=await _0x223847[_0x309e28(0x140)](_0x151a7c[_0x309e28(0xbb)],'t1');_0x5eb2d1(_0x2006ac[_0x309e28(0x1a3)])[_0x309e28(0x9e)](!![]),_0x5eb2d1(_0x2006ac)[_0x309e28(0x18b)](_0x3c306e);const _0x1ca14d=await _0x223847[_0x309e28(0x140)](_0x151a7c[_0x309e28(0xbb)],'t2');_0x5eb2d1(_0x1ca14d[_0x309e28(0x1a8)])[_0x309e28(0x9e)](!![]),_0x5eb2d1(await _0x223847[_0x309e28(0x140)](_0x151a7c[_0x309e28(0xbb)],'t3'))[_0x309e28(0x10c)](),_0x5eb2d1(await _0x223847[_0x309e28(0x80)](_0x151a7c['bZosl'](taskQuery)))[_0x309e28(0x18b)](['t1','t2']),_0x5eb2d1(await _0x223847['getDeletedRecords'](_0x151a7c[_0x309e28(0xbb)]))[_0x309e28(0x18b)](['t4']);}],[_0x3836f9(0x19d),async(_0x279311,_0x170089)=>{const _0x2c8be1=_0x3836f9,_0x143e5a={'iWiJq':_0x2c8be1(0x177),'kmEEg':function(_0x15ed82,_0x3f770f){return _0x15ed82(_0x3f770f);},'KJYvg':function(_0x2270ab){return _0x2270ab();},'QztPq':function(_0x2061d6,_0xed2111){return _0x2061d6!==_0xed2111;},'wpZBt':function(_0x15688f){return _0x15688f();}};await _0x279311[_0x2c8be1(0x98)]([[_0x143e5a[_0x2c8be1(0x9f)],'tasks',_0x143e5a['kmEEg'](mockTaskRaw,{'id':'t1'})]]),_0x143e5a[_0x2c8be1(0x8b)](_0x5eb2d1,await _0x279311[_0x2c8be1(0x80)](_0x143e5a[_0x2c8be1(0x1ba)](taskQuery)))[_0x2c8be1(0x18b)](['t1']),await _0x5eb2d1(_0x279311['batch']([[_0x2c8be1(0x177),_0x2c8be1(0x82),mockTaskRaw({'id':'t2'})],[_0x2c8be1(0x177),_0x2c8be1(0xef),mockTaskRaw({'id':'t3'})]]))[_0x2c8be1(0x13f)][_0x2c8be1(0x1c2)]({'message':_0x5eb2d1[_0x2c8be1(0x17c)](_0x170089[_0x2c8be1(0x14c)]==='SQLiteAdapter'?/(no such table: does_not_exist|Exception in HostFunction: <unknown>)/:/Cannot read property 'insert' of null/)}),_0x143e5a[_0x2c8be1(0x179)](_0x170089[_0x2c8be1(0x14c)],_0x2c8be1(0xd8))&&_0x5eb2d1(await _0x279311[_0x2c8be1(0x80)](_0x143e5a[_0x2c8be1(0x156)](taskQuery)))[_0x2c8be1(0x18b)](['t1']);}],[_0x3836f9(0x16b),async _0x175877=>{const _0x21fa62=_0x3836f9,_0x18c91d={'huEPm':_0x21fa62(0xf8),'acwMA':function(_0x55318a,_0x43e56b){return _0x55318a(_0x43e56b);},'yPojr':_0x21fa62(0x177),'Nfton':_0x21fa62(0x82),'XBFVq':_0x21fa62(0xc7),'AKGDZ':_0x21fa62(0xf2),'eKMdr':_0x21fa62(0x18f),'wetdb':function(_0x36ffce,_0x2f67b5){return _0x36ffce(_0x2f67b5);},'gHRwn':function(_0x214992,_0xdbb0af){return _0x214992(_0xdbb0af);},'KmGnS':function(_0x12f188,_0x559eea){return _0x12f188(_0x559eea);},'EpdTY':function(_0x2d8fe8){return _0x2d8fe8();}},_0x206a7=()=>_0x175877[_0x21fa62(0x80)](taskQuery()),_0x4b3f1e=mockTaskRaw({'id':'t1','text1':_0x18c91d['huEPm'],'order':0x1}),_0xa98463=_0x18c91d[_0x21fa62(0x141)](mockTaskRaw,{'id':'t2','text1':_0x21fa62(0x172),'order':0x2}),_0x3a32f4=mockTaskRaw({'id':'t3','text1':'bar3','order':0x3});await _0x175877['batch']([['create',_0x21fa62(0x82),_0x4b3f1e],[_0x18c91d[_0x21fa62(0x96)],_0x21fa62(0x82),_0xa98463],['create','tasks',_0x3a32f4],[_0x18c91d[_0x21fa62(0x96)],_0x18c91d['Nfton'],mockTaskRaw({'id':'t4','text1':_0x18c91d[_0x21fa62(0x10b)]})],[_0x21fa62(0xf2),_0x21fa62(0x82),_0x4b3f1e['id']],[_0x18c91d[_0x21fa62(0xa5)],_0x21fa62(0x82),_0x3a32f4['id']]]),await _0x175877[_0x21fa62(0x98)]([[_0x21fa62(0x18f),'tasks',_0x4b3f1e['id']],[_0x18c91d[_0x21fa62(0x94)],_0x18c91d[_0x21fa62(0x117)],_0xa98463['id']]]),_0x18c91d[_0x21fa62(0x89)](_0x5eb2d1,await _0x206a7())[_0x21fa62(0x1ad)](0x1);const _0x153496=await _0x175877[_0x21fa62(0x1a0)](_0x21fa62(0x82));_0x18c91d['gHRwn'](_0x5eb2d1,_0x153496)['toEqual'](['t3']),await _0x175877[_0x21fa62(0x1b4)](_0x18c91d[_0x21fa62(0x117)],_0x153496),_0x5eb2d1(await _0x175877[_0x21fa62(0x1a0)](_0x18c91d[_0x21fa62(0x117)]))[_0x21fa62(0x1ad)](0x0),_0x18c91d[_0x21fa62(0x17b)](_0x5eb2d1,await _0x18c91d['EpdTY'](_0x206a7))[_0x21fa62(0x1ad)](0x1);}],[_0x3836f9(0x189),async _0x42d91f=>{const _0x13a6bd=_0x3836f9,_0x13ea5f={'gbTJC':_0x13a6bd(0x7f),'pWANe':'create','TWFpm':_0x13a6bd(0x82),'CQPDa':function(_0x5cf3f8,_0x2eb983){return _0x5cf3f8(_0x2eb983);},'HCzah':function(_0x15d0cd){return _0x15d0cd();},'QkHKl':function(_0x594d1a,_0x129036){return _0x594d1a(_0x129036);}},_0x42132f=_0x13ea5f[_0x13a6bd(0xb1)][_0x13a6bd(0xf7)]('|');let _0x2e735b=0x0;while(!![]){switch(_0x42132f[_0x2e735b++]){case'0':await _0x42d91f['batch']([[_0x13ea5f[_0x13a6bd(0x182)],_0x13ea5f[_0x13a6bd(0xc4)],mockTaskRaw({'id':'t1','text1':_0x13a6bd(0x176),'order':0x1})]]);continue;case'1':_0x13ea5f['CQPDa'](_0x5eb2d1,await _0x42d91f[_0x13a6bd(0x16c)](_0x13ea5f[_0x13a6bd(0x1bb)](taskQuery)))['toBe'](0x1);continue;case'2':await _0x42d91f[_0x13a6bd(0x197)]();continue;case'3':await _0x5eb2d1(await _0x42d91f['count'](taskQuery()))[_0x13a6bd(0x9e)](0x0);continue;case'4':await _0x42d91f[_0x13a6bd(0x98)]([[_0x13a6bd(0x177),_0x13ea5f[_0x13a6bd(0xc4)],_0x13ea5f[_0x13a6bd(0x12c)](mockTaskRaw,{'id':'t2','text1':_0x13a6bd(0xaa),'order':0x2})]]);continue;}break;}}],[_0x3836f9(0x9a),async _0x35fc96=>{const _0x47cc21=_0x3836f9,_0x58e2ff={'dwXId':'twiqI','VZQxt':function(_0x4f3451,_0x467076){return _0x4f3451===_0x467076;},'Vknqt':function(_0x8df20f,_0x471270){return _0x8df20f(_0x471270);},'eNxyA':function(_0x49443e,_0x38f9a6){return _0x49443e(_0x38f9a6);},'GdNft':_0x47cc21(0x177),'pMopK':'tasks','hiNpj':_0x47cc21(0x91),'itmuo':function(_0x1c2f69){return _0x1c2f69();},'FNJHA':function(_0x3805f5,_0x10f8d2){return _0x3805f5(_0x10f8d2);},'rKWqp':function(_0x4d0e90,_0x134792){return _0x4d0e90(_0x134792);},'XhBoW':function(_0x21ebe8,_0x491bf1){return _0x21ebe8(_0x491bf1);},'sQzPn':_0x47cc21(0x176)};function _0x4e96df(_0x2d955e){const _0x21c3e4=_0x47cc21,_0x351897={'minSH':function(_0x54a3c3,_0x30fdb0){return _0x58e2ff['VZQxt'](_0x54a3c3,_0x30fdb0);},'hUaLp':_0x21c3e4(0xd8),'KTWPU':function(_0x514a69,_0x2ff3d9){const _0x6920ae=_0x21c3e4;return _0x58e2ff[_0x6920ae(0xe7)](_0x514a69,_0x2ff3d9);},'oDUsd':function(_0x47bd00,_0x7205f8){const _0x4b123e=_0x21c3e4;return _0x58e2ff[_0x4b123e(0x113)](_0x47bd00,_0x7205f8);}};let _0x3a7241=![];const _0x3d0078=_0x2d955e[_0x21c3e4(0x173)](_0x176a71=>{return _0x3a7241=!![],_0x176a71;},_0x4ab901=>{const _0x290ac2=_0x21c3e4;if(_0x58e2ff[_0x290ac2(0xb0)]!==_0x58e2ff[_0x290ac2(0xb0)]){const _0x230011={..._0x3cee3c,'version':0xa},_0x7063f0=_0x1eeb59=>new _0x15572d({'schema':_0x230011,..._0x1eeb59}),_0xfa051c=_0x2a2c65=>_0x7063f0({'migrations':_0x2a2c65});_0x56e6cf(()=>_0x7063f0({'migrationsExperimental':[]}))['toThrow'](/`migrationsExperimental` option has been renamed to `migrations`/);_0x351897[_0x290ac2(0xd4)](_0x46e3fc['name'],_0x351897[_0x290ac2(0x15f)])&&_0x3c3f96(()=>_0x7063f0({'experimentalUseIncrementalIndexedDB':![]}))[_0x290ac2(0x11d)](/LokiJSAdapter `experimentalUseIncrementalIndexedDB` option has been renamed/);_0x3e80f2(()=>_0xfa051c({'migrations':[]}))[_0x290ac2(0x11d)](/use schemaMigrations()/);const _0x14b96f=_0x5b185a=>_0xfa051c(_0x5ad612({'migrations':_0x5b185a}));_0x293de6(()=>_0x14b96f([{'toVersion':0xa,'steps':[]}]))['not'][_0x290ac2(0x11d)](),_0x351897[_0x290ac2(0x19a)](_0x17a60b,()=>_0x14b96f([{'toVersion':0xa,'steps':[]},{'toVersion':0x9,'steps':[]}]))['not'][_0x290ac2(0x11d)](),_0x351897[_0x290ac2(0x13e)](_0x3abaee,()=>new _0x2bbcd2({'schema':{..._0x34e4a3,'version':0x1},'migrations':_0x5eb659({'migrations':[]})}))[_0x290ac2(0xc5)]['toThrow'](),_0x38b22f(()=>_0x14b96f([]))[_0x290ac2(0x11d)](/Missing migration/),_0x590bf0(()=>_0x14b96f([{'toVersion':0xb,'steps':[]}]))[_0x290ac2(0x11d)](/migrations can't be newer than schema/i),_0x351897[_0x290ac2(0x13e)](_0x583388,()=>_0x14b96f([{'toVersion':0x9,'steps':[]},{'toVersion':0x8,'steps':[]}]))[_0x290ac2(0x11d)](/Missing migration/);}else{_0x3a7241=!![];throw _0x4ab901;}});return _0x3d0078[_0x21c3e4(0x169)]=()=>_0x3a7241,_0x3d0078;}_0x35fc96['batch']([[_0x58e2ff[_0x47cc21(0x131)],_0x58e2ff[_0x47cc21(0x9b)],mockTaskRaw({'id':'t1','text1':_0x58e2ff[_0x47cc21(0x1b2)],'order':0x1})]]);const _0x42b095=_0x4e96df(_0x35fc96[_0x47cc21(0x140)](_0x58e2ff[_0x47cc21(0x9b)],'t1')),_0xe280d4=_0x4e96df(_0x35fc96[_0x47cc21(0x140)](_0x47cc21(0x82),'t2'));_0x35fc96['batch']([[_0x58e2ff[_0x47cc21(0x131)],'tasks',mockTaskRaw({'id':'t2','text1':'bar','order':0x2})]]);const _0x5e8e4d=_0x4e96df(_0x35fc96[_0x47cc21(0x80)](_0x58e2ff[_0x47cc21(0x1a4)](taskQuery))),_0x2da066=_0x58e2ff[_0x47cc21(0x106)](_0x4e96df,_0x35fc96[_0x47cc21(0x140)](_0x58e2ff[_0x47cc21(0x9b)],'t2'));await _0x2da066,_0x5eb2d1(_0x42b095[_0x47cc21(0x169)]())[_0x47cc21(0x9e)](!![]),_0x5eb2d1(_0xe280d4['isSettled']())['toBe'](!![]),_0x5eb2d1(_0x5e8e4d[_0x47cc21(0x169)]())['toBe'](!![]),_0x58e2ff[_0x47cc21(0xe7)](_0x5eb2d1,_0x2da066['isSettled']())[_0x47cc21(0x9e)](!![]),_0x5eb2d1(await _0x42b095)['toBe']('t1'),_0x5eb2d1(await _0xe280d4)[_0x47cc21(0x9e)](null),_0x5eb2d1(await _0x5e8e4d)[_0x47cc21(0x18b)](['t1','t2']),_0x58e2ff[_0x47cc21(0x9c)](_0x5eb2d1,await _0x2da066)[_0x47cc21(0x9e)]('t2');const _0x23d3f0=_0x58e2ff[_0x47cc21(0xc0)](_0x4e96df,_0x35fc96[_0x47cc21(0x98)]([[_0x58e2ff[_0x47cc21(0x131)],_0x47cc21(0x82),mockTaskRaw({'id':'t3','text1':'bar','order':0x2})]]));_0x35fc96['unsafeResetDatabase'](),_0x35fc96['batch']([[_0x47cc21(0x177),_0x58e2ff['pMopK'],mockTaskRaw({'id':'t1','text1':_0x58e2ff[_0x47cc21(0x175)],'order':0x2})]]);const _0x21cf3e=_0x35fc96[_0x47cc21(0x80)](taskQuery());_0x5eb2d1(await _0x21cf3e)['toEqual'](['t1']),_0x5eb2d1(_0x23d3f0[_0x47cc21(0x169)]())[_0x47cc21(0x9e)](!![]);}],[_0x3836f9(0x13a),async _0x191124=>{const _0x3cf4c7=_0x3836f9,_0x4c1a5c={'qkafO':'nonexisting','LzZsz':function(_0x4b9f02,_0x88641){return _0x4b9f02(_0x88641);}},_0x58d422=new _0x414351({'modelClass':BadModel},[])[_0x3cf4c7(0x16e)]();await _0x5eb2d1(_0x191124[_0x3cf4c7(0x80)](_0x58d422))[_0x3cf4c7(0x13f)][_0x3cf4c7(0x1c1)](Error),await _0x5eb2d1(_0x191124['count'](_0x58d422))[_0x3cf4c7(0x13f)][_0x3cf4c7(0x1c1)](Error);const _0x53d7c9=new BadModel({'table':_0x4c1a5c['qkafO']},{'id':'t1'});await _0x4c1a5c['LzZsz'](_0x5eb2d1,_0x191124[_0x3cf4c7(0x98)]([[_0x3cf4c7(0x177),_0x53d7c9]]))['rejects'][_0x3cf4c7(0x1c1)](Error),await _0x5eb2d1(_0x191124[_0x3cf4c7(0x98)]([_0x3cf4c7(0x177),_0x53d7c9]))[_0x3cf4c7(0x13f)][_0x3cf4c7(0x1c1)](Error);}],[_0x3836f9(0x16f),async _0x3f2bb2=>{const _0x3102aa=_0x3836f9,_0x5c4710={'OhhuY':'0|9|6|7|5|3|1|8|2|10|11|4','gfMSK':'nonexisting','MPCIv':function(_0x365520,_0x4b699e){return _0x365520(_0x4b699e);},'WLbua':'test1','NLPGF':_0x3102aa(0x10f),'xwwXU':_0x3102aa(0x1b5),'UrSao':_0x3102aa(0x122)},_0x56a34c=_0x5c4710['OhhuY'][_0x3102aa(0xf7)]('|');let _0x4239d3=0x0;while(!![]){switch(_0x56a34c[_0x4239d3++]){case'0':_0x5eb2d1(await _0x3f2bb2[_0x3102aa(0x101)](_0x5c4710[_0x3102aa(0xaf)]))['toBeNull']();continue;case'1':_0x5c4710[_0x3102aa(0xa1)](_0x5eb2d1,await _0x3f2bb2['getLocal'](_0x5c4710[_0x3102aa(0xa0)]))[_0x3102aa(0x10c)]();continue;case'2':_0x5c4710[_0x3102aa(0xa1)](_0x5eb2d1,await _0x3f2bb2['getLocal']('test1'))['toBe']('val3');continue;case'3':await _0x3f2bb2[_0x3102aa(0x132)](_0x5c4710['WLbua']);continue;case'4':await _0x3f2bb2[_0x3102aa(0x132)](_0x3102aa(0xcc));continue;case'5':_0x5eb2d1(await _0x3f2bb2[_0x3102aa(0x101)](_0x3102aa(0x7d)))[_0x3102aa(0x9e)](_0x3102aa(0x1b6));continue;case'6':_0x5c4710[_0x3102aa(0xa1)](_0x5eb2d1,await _0x3f2bb2[_0x3102aa(0x101)](_0x3102aa(0x7d)))[_0x3102aa(0x9e)](_0x5c4710['NLPGF']);continue;case'7':await _0x3f2bb2[_0x3102aa(0xc1)](_0x3102aa(0x7d),_0x3102aa(0x1b6));continue;case'8':await _0x3f2bb2[_0x3102aa(0xc1)](_0x5c4710[_0x3102aa(0xa0)],_0x5c4710[_0x3102aa(0x13c)]);continue;case'9':await _0x3f2bb2['setLocal'](_0x3102aa(0x7d),_0x5c4710['NLPGF']);continue;case'10':await _0x3f2bb2[_0x3102aa(0xc1)](_0x3102aa(0x122),'3');continue;case'11':_0x5eb2d1(await _0x3f2bb2[_0x3102aa(0x101)](_0x5c4710[_0x3102aa(0x14b)]))[_0x3102aa(0x9e)]('3');continue;}break;}}],[_0x3836f9(0x1ab),async(_0x26de8e,_0x441cb8,_0x4d522c)=>{const _0x2818c6=_0x3836f9,_0x50942a={'xZjnI':_0x2818c6(0x1c3),'dWweY':_0x2818c6(0x18c),'YiOer':function(_0x20cd4a,_0x1a12c1){return _0x20cd4a(_0x1a12c1);},'JRiiP':_0x2818c6(0x1a2),'IkNJY':_0x2818c6(0x82),'WkBhT':_0x2818c6(0x177),'lygNJ':_0x2818c6(0x1a7),'aemCx':_0x2818c6(0xe3),'THUmS':'test_string','XZBTp':_0x2818c6(0x178),'ryGNA':_0x2818c6(0xae),'uFiqk':'test_number','dnRCM':_0x2818c6(0x187),'wAdCG':_0x2818c6(0x147),'YpSBA':'tag_assignments','UVKiZ':function(_0x979c09,_0x289832){return _0x979c09(_0x289832);},'mSpXW':function(_0x2f8608,_0x445523){return _0x2f8608(_0x445523);},'QtLiy':function(_0x1e9d63,_0x56b113){return _0x1e9d63(_0x56b113);},'QmlAm':function(_0xf08817,_0x21bff0,_0x585e5a){return _0xf08817(_0x21bff0,_0x585e5a);},'tQatz':function(_0x2b60b4,_0x328b3f){return _0x2b60b4(_0x328b3f);},'FhYCG':_0x2818c6(0xba),'iyiFg':function(_0x1a9ac2,_0xf878e6){return _0x1a9ac2(_0xf878e6);},'kwbKW':function(_0x5b807e,_0x303f14,_0x2e6b5e){return _0x5b807e(_0x303f14,_0x2e6b5e);},'DnTBf':_0x2818c6(0xa3),'xkbdg':_0x2818c6(0x188)},_0x4de183=[{'name':_0x50942a[_0x2818c6(0x19b)],'type':_0x2818c6(0x187)}],_0x37f040=[{'name':_0x50942a['dWweY'],'type':_0x2818c6(0x178)}],_0x5751f9=_0x50942a['YiOer'](appSchema,{'version':0x3,'tables':[tableSchema({'name':_0x2818c6(0x82),'columns':_0x4de183}),tableSchema({'name':_0x50942a[_0x2818c6(0x136)],'columns':_0x37f040})]});let _0x33710f=new _0x50d207(new _0x441cb8({'schema':_0x5751f9,'migrations':schemaMigrations({'migrations':[{'toVersion':0x3,'steps':[]}]}),..._0x4d522c}));await new Promise(_0x28a334=>setTimeout(_0x28a334,0x0)),await _0x33710f[_0x2818c6(0x98)]([[_0x2818c6(0x177),_0x2818c6(0x82),{'id':'t1','num1':0xa}],[_0x2818c6(0x177),_0x50942a[_0x2818c6(0x110)],{'id':'t2','num1':0x14}]]),await _0x5eb2d1(_0x33710f[_0x2818c6(0x98)]([[_0x50942a['WkBhT'],_0x2818c6(0xac),{'id':_0x50942a[_0x2818c6(0x102)],'text1':_0x50942a[_0x2818c6(0x81)]}]]))[_0x2818c6(0x13f)][_0x2818c6(0x1c1)](Error);const _0x41599a=[{'name':_0x50942a[_0x2818c6(0x129)],'type':_0x50942a[_0x2818c6(0x181)]},{'name':_0x50942a[_0x2818c6(0xa2)],'type':_0x50942a[_0x2818c6(0x181)],'isOptional':!![]},{'name':_0x50942a[_0x2818c6(0xc6)],'type':_0x50942a[_0x2818c6(0x1b3)]},{'name':_0x2818c6(0x128),'type':_0x2818c6(0x187),'isOptional':!![]},{'name':'test_boolean','type':_0x2818c6(0x112)},{'name':_0x50942a[_0x2818c6(0x8a)],'type':'boolean','isOptional':!![]}],_0x10319a=[{'name':_0x2818c6(0x13b),'type':_0x2818c6(0x178),'isIndexed':!![]}],_0x44bdcd={'name':_0x50942a[_0x2818c6(0x17f)],'columns':[{'name':_0x50942a['dWweY'],'type':_0x50942a['XZBTp']}]},_0x571e21=appSchema({'version':0x5,'tables':[_0x50942a[_0x2818c6(0x145)](tableSchema,{'name':_0x50942a[_0x2818c6(0x110)],'columns':[..._0x4de183,..._0x41599a]}),tableSchema({'name':'projects','columns':[..._0x37f040,..._0x10319a]}),tableSchema(_0x44bdcd)]}),_0x2fcc1f=_0x50942a[_0x2818c6(0x11f)](schemaMigrations,{'migrations':[{'toVersion':0x5,'steps':[addColumns({'table':_0x50942a[_0x2818c6(0x110)],'columns':_0x41599a})]},{'toVersion':0x4,'steps':[createTable(_0x44bdcd),_0x50942a['mSpXW'](addColumns,{'table':_0x50942a[_0x2818c6(0x136)],'columns':_0x10319a})]},{'toVersion':0x3,'steps':[_0x50942a[_0x2818c6(0x151)](createTable,{'name':_0x2818c6(0x19e),'columns':[{'name':_0x50942a[_0x2818c6(0x19b)],'type':_0x50942a['dnRCM']}]})]}]});_0x33710f=await _0x33710f[_0x2818c6(0x9d)]({'schema':_0x571e21,'migrations':_0x2fcc1f}),_0x50942a[_0x2818c6(0xb2)](_0x5eb2d1,await _0x33710f[_0x2818c6(0x16c)](new _0x414351({'modelClass':MockTask},[])))['toBe'](0x2);const _0x3132f8=(_0x37cbff,_0x41782b)=>new _0x414351({'modelClass':MockTask},[_0x2db2a5[_0x2818c6(0xc3)](_0x37cbff,_0x41782b)])[_0x2818c6(0x16e)]();_0x5eb2d1(await _0x33710f[_0x2818c6(0x16c)](_0x50942a['QmlAm'](_0x3132f8,_0x50942a[_0x2818c6(0x129)],'')))['toBe'](0x2),_0x5eb2d1(await _0x33710f[_0x2818c6(0x16c)](_0x50942a['QmlAm'](_0x3132f8,_0x50942a[_0x2818c6(0xa2)],null)))['toBe'](0x2),_0x50942a[_0x2818c6(0x151)](_0x5eb2d1,await _0x33710f[_0x2818c6(0x16c)](_0x3132f8('test_number',0x0)))[_0x2818c6(0x9e)](0x2),_0x50942a['tQatz'](_0x5eb2d1,await _0x33710f[_0x2818c6(0x16c)](_0x50942a[_0x2818c6(0x1b7)](_0x3132f8,_0x2818c6(0x128),null)))[_0x2818c6(0x9e)](0x2),_0x5eb2d1(await _0x33710f[_0x2818c6(0x16c)](_0x3132f8(_0x50942a['FhYCG'],![])))[_0x2818c6(0x9e)](0x2),_0x50942a[_0x2818c6(0xb9)](_0x5eb2d1,await _0x33710f[_0x2818c6(0x16c)](_0x50942a[_0x2818c6(0x150)](_0x3132f8,_0x50942a['wAdCG'],null)))[_0x2818c6(0x9e)](0x2),await _0x33710f[_0x2818c6(0x98)]([['create',_0x50942a['YpSBA'],{'id':_0x2818c6(0x188),'text1':_0x2818c6(0xe3)}],['create',_0x50942a['JRiiP'],{'id':'p1','text1':_0x50942a['DnTBf'],'text2':'foo'}],[_0x50942a['WkBhT'],_0x2818c6(0x82),{'id':'t3','test_string':_0x50942a[_0x2818c6(0xe9)],'test_number':0x2,'test_boolean_optional':!![]}]]),await _0x5eb2d1(_0x33710f[_0x2818c6(0x98)]([[_0x50942a[_0x2818c6(0x13d)],'will_not_be_created',{'id':'w1','text1':_0x2818c6(0xe3)}]]))['rejects']['toBeInstanceOf'](Error),_0x33710f=await _0x33710f[_0x2818c6(0x9d)]();const _0x566db2=await _0x33710f[_0x2818c6(0x140)](_0x50942a[_0x2818c6(0x136)],'p1');_0x50942a[_0x2818c6(0x153)](_0x5eb2d1,_0x566db2[_0x2818c6(0x13b)])['toBe'](_0x2818c6(0x91));const _0x2b49d4=await _0x33710f[_0x2818c6(0x140)](_0x2818c6(0x82),'t3');_0x50942a[_0x2818c6(0xb9)](_0x5eb2d1,_0x2b49d4['test_string'])[_0x2818c6(0x9e)](_0x50942a['DnTBf']),_0x50942a[_0x2818c6(0x11f)](_0x5eb2d1,_0x2b49d4[_0x2818c6(0xec)])[_0x2818c6(0x9e)](0x2),_0x50942a[_0x2818c6(0x151)](_0x5eb2d1,_0x2b49d4[_0x2818c6(0xba)])[_0x2818c6(0x9e)](![]);const _0x45c478=await _0x33710f[_0x2818c6(0x140)]('tag_assignments',_0x50942a[_0x2818c6(0x1a6)]);_0x50942a[_0x2818c6(0xb2)](_0x5eb2d1,_0x45c478[_0x2818c6(0x18c)])[_0x2818c6(0x9e)](_0x50942a[_0x2818c6(0x81)]);}],[_0x3836f9(0x162),async(_0x26508d,_0x3848de,_0x3490a6)=>{const _0x3141c5=_0x3836f9,_0x358b6e={'RDixy':function(_0x32c5b6,_0x17a58c){return _0x32c5b6(_0x17a58c);},'inrRh':function(_0x393415){return _0x393415();},'FuzxS':function(_0x2ee8a8,_0x5e097b){return _0x2ee8a8(_0x5e097b);},'lVgEy':function(_0x1fda06,_0x3bffda){return _0x1fda06(_0x3bffda);},'TqWrC':'tasks'};let _0x300caa=new _0x50d207(new _0x3848de({'schema':{...testSchema,'version':0x1},'migrations':schemaMigrations({'migrations':[]}),..._0x3490a6}));await new Promise(_0x17c1d4=>setTimeout(_0x17c1d4,0x0)),await _0x300caa['batch']([['create','tasks',mockTaskRaw({'id':'t1','text1':'foo'})]]),_0x358b6e[_0x3141c5(0xd6)](_0x5eb2d1,await _0x300caa['count'](_0x358b6e[_0x3141c5(0x138)](taskQuery)))[_0x3141c5(0x9e)](0x1),_0x300caa=await _0x300caa[_0x3141c5(0x9d)]({'schema':{...testSchema,'version':0x2},'migrations':_0x358b6e[_0x3141c5(0xdd)](schemaMigrations,{'migrations':[{'toVersion':0x2,'steps':[]}]})}),_0x5eb2d1(await _0x300caa[_0x3141c5(0x16c)](taskQuery()))[_0x3141c5(0x9e)](0x1),_0x358b6e[_0x3141c5(0xa9)](_0x5eb2d1,(await _0x300caa[_0x3141c5(0x140)](_0x358b6e[_0x3141c5(0x1ac)],'t1'))['text1'])[_0x3141c5(0x9e)](_0x3141c5(0x91));}],[_0x3836f9(0xcd),async(_0x3000e9,_0x5a8848,_0x8f09ee)=>{const _0x31e3e0=_0x3836f9,_0x2d521d={'xLrVK':function(_0x53fa16,_0x5866bf){return _0x53fa16(_0x5866bf);},'WkQWA':_0x31e3e0(0x177),'iIIlP':_0x31e3e0(0x82),'XdSyO':function(_0x391ec9,_0xe752cf){return _0x391ec9(_0xe752cf);},'RotWk':function(_0x41fada){return _0x41fada();},'OTVJX':function(_0x34e8ad,_0x3aa1f5){return _0x34e8ad(_0x3aa1f5);},'TCsxX':function(_0x2b1b75,_0x325c78){return _0x2b1b75(_0x325c78);},'rpldm':function(_0x39dbc1){return _0x39dbc1();}};let _0x16a55f=new _0x50d207(new _0x5a8848({'schema':{...testSchema,'version':0x3},'migrations':_0x2d521d[_0x31e3e0(0x14e)](schemaMigrations,{'migrations':[{'toVersion':0x3,'steps':[]}]}),..._0x8f09ee}));await new Promise(_0x800773=>setTimeout(_0x800773,0x0)),await _0x16a55f[_0x31e3e0(0x98)]([[_0x2d521d[_0x31e3e0(0x184)],_0x2d521d['iIIlP'],mockTaskRaw({})]]),_0x2d521d[_0x31e3e0(0x12f)](_0x5eb2d1,await _0x16a55f[_0x31e3e0(0x16c)](_0x2d521d[_0x31e3e0(0xd9)](taskQuery)))[_0x31e3e0(0x9e)](0x1),_0x16a55f=await _0x16a55f[_0x31e3e0(0x9d)]({'schema':{...testSchema,'version':0x1},'migrations':_0x2d521d[_0x31e3e0(0x12f)](schemaMigrations,{'migrations':[]})}),_0x2d521d['XdSyO'](_0x5eb2d1,await _0x16a55f[_0x31e3e0(0x16c)](taskQuery()))[_0x31e3e0(0x9e)](0x0),await _0x16a55f[_0x31e3e0(0x98)]([[_0x31e3e0(0x177),_0x2d521d[_0x31e3e0(0x99)],_0x2d521d[_0x31e3e0(0x123)](mockTaskRaw,{})]]),_0x2d521d[_0x31e3e0(0x12e)](_0x5eb2d1,await _0x16a55f[_0x31e3e0(0x16c)](_0x2d521d[_0x31e3e0(0x1b9)](taskQuery)))[_0x31e3e0(0x9e)](0x1);}],[_0x3836f9(0x15d),async(_0x7f27fc,_0x31fb9c,_0x35659c)=>{const _0x30d87d=_0x3836f9,_0x108a46={'fweid':_0x30d87d(0x177),'VxHKh':'tasks','HGiWP':function(_0x365fa4,_0x1ac371){return _0x365fa4(_0x1ac371);},'MWJXX':function(_0x552412,_0x323132){return _0x552412(_0x323132);},'EbRdE':function(_0x43bbf3,_0x48bf29){return _0x43bbf3(_0x48bf29);}};let _0x196bbb=new _0x50d207(new _0x31fb9c({'schema':{...testSchema,'version':0x1},'migrations':schemaMigrations({'migrations':[]}),..._0x35659c}));await new Promise(_0x5b556e=>setTimeout(_0x5b556e,0x0)),await _0x196bbb[_0x30d87d(0x98)]([[_0x108a46[_0x30d87d(0x191)],_0x108a46[_0x30d87d(0xe0)],mockTaskRaw({})]]),_0x108a46['HGiWP'](_0x5eb2d1,await _0x196bbb[_0x30d87d(0x16c)](taskQuery()))[_0x30d87d(0x9e)](0x1),_0x196bbb=await _0x196bbb[_0x30d87d(0x9d)]({'schema':{...testSchema,'version':0x3},'migrations':_0x108a46[_0x30d87d(0xd1)](schemaMigrations,{'migrations':[{'toVersion':0x3,'steps':[]}]})}),_0x108a46[_0x30d87d(0x1c0)](_0x5eb2d1,await _0x196bbb[_0x30d87d(0x16c)](taskQuery()))[_0x30d87d(0x9e)](0x0),await _0x196bbb[_0x30d87d(0x98)]([[_0x108a46['fweid'],'tasks',mockTaskRaw({})]]),_0x5eb2d1(await _0x196bbb[_0x30d87d(0x16c)](taskQuery()))[_0x30d87d(0x9e)](0x1);}],[_0x3836f9(0x146),async(_0x58a6f6,_0x2fc597,_0x14037a)=>{const _0x34eeb8=_0x3836f9,_0xadaadc={'rocmU':function(_0x537666,_0x5cdee4){return _0x537666(_0x5cdee4);},'Dmpnc':_0x34eeb8(0x177),'GUuXa':_0x34eeb8(0x82),'yQfOw':function(_0x419941,_0x247041){return _0x419941(_0x247041);},'fqHvE':function(_0x5b6a16){return _0x5b6a16();},'mEBGu':_0x34eeb8(0xd8),'NOVYJ':function(_0x3cf9a9,_0x15e879){return _0x3cf9a9(_0x15e879);},'vaQdN':function(_0x1b90a8,_0x389362){return _0x1b90a8===_0x389362;},'cHAhB':function(_0x15b084,_0x231bf){return _0x15b084(_0x231bf);},'MNHDI':function(_0x239a78,_0x40b5fc){return _0x239a78(_0x40b5fc);}};let _0x268210=new _0x50d207(new _0x2fc597({'schema':{...testSchema,'version':0x1},'migrations':_0xadaadc[_0x34eeb8(0xc8)](schemaMigrations,{'migrations':[]}),..._0x14037a}));await new Promise(_0x13e012=>setTimeout(_0x13e012,0x0)),await _0x268210[_0x34eeb8(0x98)]([[_0xadaadc[_0x34eeb8(0x10a)],_0xadaadc[_0x34eeb8(0x88)],_0xadaadc[_0x34eeb8(0x155)](mockTaskRaw,{})]]),_0x5eb2d1(await _0x268210[_0x34eeb8(0x16c)](_0xadaadc[_0x34eeb8(0x12d)](taskQuery)))[_0x34eeb8(0x9e)](0x1);const _0x40aa68=_0x268210[_0x34eeb8(0x9d)]({'schema':{...testSchema,'version':0x2},'migrations':schemaMigrations({'migrations':[{'toVersion':0x2,'steps':[_0x2fc597[_0x34eeb8(0x14c)]===_0xadaadc[_0x34eeb8(0x157)]?{'type':_0x34eeb8(0x1aa)}:_0xadaadc['NOVYJ'](createTable,{'name':_0xadaadc[_0x34eeb8(0x88)],'columns':[]})]}]})});_0xadaadc[_0x34eeb8(0x121)](_0x2fc597[_0x34eeb8(0x14c)],_0x34eeb8(0xd8))?(_0x268210=await _0x40aa68,await _0xadaadc[_0x34eeb8(0x8c)](_0x5eb2d1,_0x268210[_0x34eeb8(0x16c)](taskQuery()))['rejects'][_0x34eeb8(0x1c1)](Error),await _0x5eb2d1(_0x268210[_0x34eeb8(0x98)]([['create',_0xadaadc[_0x34eeb8(0x88)],_0xadaadc[_0x34eeb8(0x174)](mockTaskRaw,{})]]))['rejects'][_0x34eeb8(0x1c1)](Error)):await _0x5eb2d1(_0x40aa68)[_0x34eeb8(0x13f)]['toBeInstanceOf'](Error);}],...matchTests[_0x3836f9(0xad)](_0xe31d7f=>[_0x3836f9(0x86)+_0xe31d7f['name'],async _0x448b0f=>{await performMatchTest(_0x448b0f,_0xe31d7f);}]),[_0x3836f9(0x11a),async(_0x9c739e,_0x3ad8e9,_0xf9ae19)=>{const _0x494ab9=_0x3836f9,_0x5d0cf4={'zMwfQ':_0x494ab9(0xe4),'aApZk':_0x494ab9(0xc2),'LleRI':function(_0x51f318,_0x440742){return _0x51f318===_0x440742;},'ecBDF':function(_0x81fa8b,_0x492e0c){return _0x81fa8b!==_0x492e0c;}};for(const _0x6fac6a of naughtyMatchTests){_0x3ad8e9[_0x494ab9(0x14c)]===_0x5d0cf4[_0x494ab9(0x198)]&&!_0xf9ae19[_0x494ab9(0x16a)]&&_0x5d0cf4[_0x494ab9(0x11e)](_0x6fac6a[_0x494ab9(0x115)][0x0][_0x494ab9(0x18c)],'\ufeff')?_0x5d0cf4[_0x494ab9(0x109)](_0x494ab9(0x152),_0x494ab9(0x152))?_0x4b3033[_0x494ab9(0x164)](_0x5d0cf4['zMwfQ']):console[_0x494ab9(0x164)](_0x5d0cf4['zMwfQ']):await performMatchTest(_0x9c739e,_0x6fac6a);}}],[_0x3836f9(0x1a1),async _0x51b059=>{const _0x44d8fe=_0x3836f9,_0x45b080={'yTDSQ':_0x44d8fe(0x177),'usGPE':_0x44d8fe(0x82),'RjkOX':function(_0x29838e,_0x5007ea){return _0x29838e(_0x5007ea);}};let _0x5baefb=_0x51b059;const _0x576266=0x172504cb5a1;await _0x5baefb['batch']([[_0x45b080[_0x44d8fe(0x15b)],_0x44d8fe(0x82),{'id':'m1','num1':_0x576266}]]),_0x5baefb=await _0x5baefb[_0x44d8fe(0x9d)]();const _0x1d8adb=await _0x5baefb['find'](_0x45b080[_0x44d8fe(0x11b)],'m1');_0x45b080[_0x44d8fe(0x190)](_0x5eb2d1,_0x1d8adb[_0x44d8fe(0x1c3)])[_0x44d8fe(0x9e)](_0x576266);}],[_0x3836f9(0x14f),async(_0x37c294,_0x197530,_0x40aa39)=>{const _0x1d7d48=_0x3836f9,_0xe90e41={'zdPMl':function(_0x2633f5,_0x39481){return _0x2633f5===_0x39481;},'RSKZA':function(_0x237611,_0x24ccfb){return _0x237611!==_0x24ccfb;},'dIwhV':_0x1d7d48(0x93),'yaEdL':function(_0x1858f4,_0x2d1b90){return _0x1858f4(_0x2d1b90);}};let _0xf31630=_0x37c294;const _0xabfc19=_0xb1a470[_0x1d7d48(0xad)]((_0x1cce88,_0x404b36)=>['id'+_0x404b36,_0x1cce88]);await _0xf31630[_0x1d7d48(0x98)](_0xabfc19[_0x1d7d48(0xad)](([_0x502136,_0x48df20])=>['create','tasks',{'id':_0x502136,'text1':_0x48df20}])),_0xf31630=await _0xf31630['testClone']();const _0x477fb4=await _0xf31630[_0x1d7d48(0x80)](taskQuery());_0xabfc19[_0x1d7d48(0x17d)](([_0x1e3072,_0x304471])=>{const _0x4831c0=_0x1d7d48,_0x3fda3f=_0x477fb4[_0x4831c0(0x140)](_0x512ad6=>_0x512ad6['id']===_0x1e3072);if(_0xe90e41[_0x4831c0(0x139)](_0x197530['name'],_0x4831c0(0xc2))&&!_0x40aa39[_0x4831c0(0x16a)]&&_0x304471==='\ufeff'){if(_0xe90e41['RSKZA'](_0xe90e41[_0x4831c0(0x14a)],'jyDzT')){let _0x16efa3=![];const _0x3f3032=_0x22076e['then'](_0x1ebfbd=>{return _0x16efa3=!![],_0x1ebfbd;},_0x1dc6fc=>{_0x16efa3=!![];throw _0x1dc6fc;});return _0x3f3032[_0x4831c0(0x169)]=()=>_0x16efa3,_0x3f3032;}else _0xe90e41[_0x4831c0(0x161)](_0x5eb2d1,_0x3fda3f[_0x4831c0(0x18c)])[_0x4831c0(0xc5)][_0x4831c0(0x9e)](_0x304471);}else _0x5eb2d1(!!_0x3fda3f)[_0x4831c0(0x9e)](!![]),_0xe90e41['yaEdL'](_0x5eb2d1,_0x3fda3f[_0x4831c0(0x18c)])[_0x4831c0(0x9e)](_0x304471);});}],...joinTests[_0x3836f9(0xad)](_0x36b9bd=>[_0x3836f9(0xb5)+_0x36b9bd[_0x3836f9(0x14c)],async _0x34625e=>{const _0x7acfab=_0x3836f9,_0x22c92a={'vfNcy':function(_0x460f04,_0x5b2506,_0x286976){return _0x460f04(_0x5b2506,_0x286976);}};await _0x22c92a[_0x7acfab(0xb3)](performJoinTest,_0x34625e,_0x36b9bd);}])];