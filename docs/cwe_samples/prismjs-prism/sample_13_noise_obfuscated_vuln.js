const _0x4e5be5=_0x2d8c;(function(_0x5b710,_0x51427a){const _0x668b50=_0x2d8c,_0x328ee6=_0x5b710();while(!![]){try{const _0x585bff=-parseInt(_0x668b50(0xe7))/0x1+-parseInt(_0x668b50(0xff))/0x2*(parseInt(_0x668b50(0xcf))/0x3)+parseInt(_0x668b50(0xce))/0x4+-parseInt(_0x668b50(0xdc))/0x5+-parseInt(_0x668b50(0xd3))/0x6*(parseInt(_0x668b50(0xd4))/0x7)+-parseInt(_0x668b50(0xf2))/0x8+parseInt(_0x668b50(0xd2))/0x9;if(_0x585bff===_0x51427a)break;else _0x328ee6['push'](_0x328ee6['shift']());}catch(_0x3094e1){_0x328ee6['push'](_0x328ee6['shift']());}}}(_0x1032,0xe4411));const ethSigUtil=require(_0x4e5be5(0xcc)),Wallet=require(_0x4e5be5(0x101))[_0x4e5be5(0x109)],{getDomain,domainType}=require(_0x4e5be5(0x115)),{expectEvent}=require('@openzeppelin/test-helpers'),{expect}=require('chai'),ERC2771ContextMock=artifacts['require'](_0x4e5be5(0x108)),ERC2771Forwarder=artifacts[_0x4e5be5(0x103)](_0x4e5be5(0xd8)),ContextMockCaller=artifacts['require'](_0x4e5be5(0x113)),{shouldBehaveLikeRegularContext}=require(_0x4e5be5(0xe9));function _0x2d8c(_0x74db03,_0x1caf8b){const _0x1032da=_0x1032();return _0x2d8c=function(_0x2d8cc7,_0x4ec484){_0x2d8cc7=_0x2d8cc7-0xcb;let _0x25aaff=_0x1032da[_0x2d8cc7];return _0x25aaff;},_0x2d8c(_0x74db03,_0x1caf8b);}contract(_0x4e5be5(0x11b),function(_0x39acb1){const _0x578e68=_0x4e5be5,_0x3cae83={'HUTBF':_0x578e68(0xd8),'TzumX':_0x578e68(0x116),'HDyGq':_0x578e68(0x106),'TfucQ':_0x578e68(0x11a),'mxKuM':_0x578e68(0xf7),'DAXSP':_0x578e68(0xf5),'JKboD':function(_0x807201,_0x37e762,_0x1ac380,_0x1e00e8){return _0x807201(_0x37e762,_0x1ac380,_0x1e00e8);},'YgXjA':_0x578e68(0xea),'cyeRe':function(_0x16b38d,_0x24cba2){return _0x16b38d(_0x24cba2);},'HGcbN':function(_0x296fcd,_0x5a86a2,_0x48cd6f){return _0x296fcd(_0x5a86a2,_0x48cd6f);},'pJnEy':'msgData','SjJRO':function(_0x553d21,_0x247898,_0x3995c6){return _0x553d21(_0x247898,_0x3995c6);},'FrWXE':_0x578e68(0xf0),'COGFP':_0x578e68(0xef),'cGJzS':_0x578e68(0xd9)},[,_0x3c0678]=_0x39acb1,_0x21c478=web3[_0x578e68(0xe5)]['toBN'](0x1)['shln'](0x30)['subn'](0x1)[_0x578e68(0xe6)]();_0x3cae83[_0x578e68(0x118)](beforeEach,async function(){const _0x479129=_0x578e68;this[_0x479129(0xd7)]=await ERC2771Forwarder[_0x479129(0xe4)](_0x3cae83[_0x479129(0x100)]),this['recipient']=await ERC2771ContextMock[_0x479129(0xe4)](this['forwarder'][_0x479129(0x106)]),this[_0x479129(0xde)]=await getDomain(this[_0x479129(0xd7)]),this[_0x479129(0x117)]={'EIP712Domain':domainType(this[_0x479129(0xde)]),'ForwardRequest':[{'name':_0x3cae83[_0x479129(0xda)],'type':_0x479129(0x106)},{'name':'to','type':_0x3cae83[_0x479129(0xdf)]},{'name':_0x3cae83[_0x479129(0x114)],'type':'uint256'},{'name':_0x3cae83[_0x479129(0xd6)],'type':_0x479129(0xec)},{'name':'nonce','type':_0x479129(0xec)},{'name':_0x479129(0x10c),'type':_0x479129(0xf6)},{'name':_0x3cae83[_0x479129(0xf3)],'type':_0x479129(0x102)}]};}),it(_0x3cae83['FrWXE'],async function(){const _0xba465=_0x578e68;expect(await this[_0xba465(0xe2)]['isTrustedForwarder'](this[_0xba465(0xd7)][_0xba465(0x106)]));}),context(_0x3cae83[_0x578e68(0x111)],function(){beforeEach(async function(){const _0x79ff0e=_0x2d8c;this['context']=this[_0x79ff0e(0xe2)],this[_0x79ff0e(0x11d)]=await ContextMockCaller[_0x79ff0e(0xe4)]();}),shouldBehaveLikeRegularContext(..._0x39acb1);}),context(_0x3cae83[_0x578e68(0xe3)],function(){const _0x4c6825=_0x578e68,_0x1816a9={'CSPuj':function(_0x4db4d7,_0x517749,_0x42b4a4,_0x14a105){const _0x9eccfd=_0x2d8c;return _0x3cae83[_0x9eccfd(0xcb)](_0x4db4d7,_0x517749,_0x42b4a4,_0x14a105);},'HZWUO':function(_0x1b3b0e,_0xb6c05d,_0x1d3fde){return _0x1b3b0e(_0xb6c05d,_0x1d3fde);},'DOHGM':'Data','AGJVY':_0x3cae83[_0x4c6825(0xeb)],'fTjVG':function(_0x496d41,_0xce88a6,_0x3bde83,_0x3e09c9){return _0x3cae83['JKboD'](_0x496d41,_0xce88a6,_0x3bde83,_0x3e09c9);}};_0x3cae83[_0x4c6825(0x118)](beforeEach,async function(){const _0x5de635=_0x4c6825;this['wallet']=Wallet[_0x5de635(0xf4)](),this[_0x5de635(0x112)]=web3['utils'][_0x5de635(0xe0)](this[_0x5de635(0xfc)][_0x5de635(0xfb)]()),this[_0x5de635(0xf5)]={'types':this[_0x5de635(0x117)],'domain':this['domain'],'primaryType':_0x5de635(0xd0)};}),_0x3cae83['HGcbN'](describe,_0x4c6825(0xf8),function(){const _0x137cb4=_0x4c6825,_0x419d97={'budWg':_0x137cb4(0x10b),'ApMtm':function(_0x3f7b5c,_0x4920ae){return _0x3f7b5c(_0x4920ae);},'ObmYR':function(_0x32585a,_0x5e9163,_0x3a37fa,_0x491d7c){const _0x213cdd=_0x137cb4;return _0x1816a9[_0x213cdd(0xd1)](_0x32585a,_0x5e9163,_0x3a37fa,_0x491d7c);}};_0x1816a9[_0x137cb4(0xcd)](it,_0x137cb4(0x104),async function(){const _0x545406=_0x137cb4,_0x1b944a=this[_0x545406(0xe2)]['contract'][_0x545406(0x11e)]['msgSender']()[_0x545406(0xdd)](),_0x19e26d={'from':this[_0x545406(0x112)],'to':this['recipient'][_0x545406(0x106)],'value':'0','gas':_0x419d97[_0x545406(0x107)],'nonce':(await this[_0x545406(0xd7)]['nonces'](this[_0x545406(0x112)]))[_0x545406(0xe6)](),'deadline':_0x21c478,'data':_0x1b944a};_0x19e26d[_0x545406(0xdb)]=ethSigUtil[_0x545406(0x10d)](this[_0x545406(0xfc)][_0x545406(0x105)](),{'data':{...this[_0x545406(0xf5)],'message':_0x19e26d}}),_0x419d97['ApMtm'](expect,await this['forwarder']['verify'](_0x19e26d))['to'][_0x545406(0xf9)](!![]);const {tx:_0x8e0d1a}=await this[_0x545406(0xd7)][_0x545406(0x10f)](_0x19e26d);await expectEvent[_0x545406(0xe1)](_0x8e0d1a,ERC2771ContextMock,_0x545406(0xed),{'sender':this[_0x545406(0x112)]});}),it(_0x137cb4(0xee),async function(){const _0x34eb7=_0x137cb4,_0x515cf9=await ERC2771ContextMock['new'](_0x3c0678),{receipt:_0x5520cf}=await _0x515cf9[_0x34eb7(0xf8)]({'from':_0x3c0678});await _0x419d97['ObmYR'](expectEvent,_0x5520cf,_0x34eb7(0xed),{'sender':_0x3c0678});});}),_0x3cae83[_0x4c6825(0xd5)](describe,_0x3cae83[_0x4c6825(0xfd)],function(){const _0x5d2719=_0x4c6825;it(_0x1816a9[_0x5d2719(0xf1)],async function(){const _0x41bc91=_0x5d2719,_0x504172='42',_0x1742cf=_0x41bc91(0x119),_0x10675d=this['recipient'][_0x41bc91(0xfa)][_0x41bc91(0x11e)][_0x41bc91(0x110)](_0x504172,_0x1742cf)[_0x41bc91(0xdd)](),_0x123adb={'from':this[_0x41bc91(0x112)],'to':this[_0x41bc91(0xe2)][_0x41bc91(0x106)],'value':'0','gas':_0x41bc91(0x10b),'nonce':(await this['forwarder']['nonces'](this[_0x41bc91(0x112)]))[_0x41bc91(0xe6)](),'deadline':_0x21c478,'data':_0x10675d};_0x123adb[_0x41bc91(0xdb)]=ethSigUtil[_0x41bc91(0x10d)](this[_0x41bc91(0xfc)]['getPrivateKey'](),{'data':{...this['data'],'message':_0x123adb}}),expect(await this[_0x41bc91(0xd7)]['verify'](_0x123adb))['to'][_0x41bc91(0xf9)](!![]);const {tx:_0x5c2f2f}=await this[_0x41bc91(0xd7)][_0x41bc91(0x10f)](_0x123adb);await expectEvent[_0x41bc91(0xe1)](_0x5c2f2f,ERC2771ContextMock,_0x1816a9[_0x41bc91(0x11c)],{'data':_0x10675d,'integerValue':_0x504172,'stringValue':_0x1742cf});});}),_0x3cae83[_0x4c6825(0xe8)](it,'returns\x20the\x20full\x20original\x20data\x20when\x20calldata\x20length\x20is\x20less\x20than\x2020\x20bytes\x20(address\x20length)',async function(){const _0x5b728b=_0x4c6825,_0x1b3707=await ERC2771ContextMock[_0x5b728b(0xe4)](_0x3c0678),{receipt:_0x41ffd4}=await _0x1b3707[_0x5b728b(0xfe)]({'from':_0x3c0678}),_0x32fa7b=_0x1b3707[_0x5b728b(0xfa)][_0x5b728b(0x11e)]['msgDataShort']()[_0x5b728b(0xdd)]();await _0x1816a9[_0x5b728b(0x10e)](expectEvent,_0x41ffd4,_0x5b728b(0x10a),{'data':_0x32fa7b});});});});function _0x1032(){const _0x1a02ab=['cGJzS','new','utils','toString','1257182QhqXne','SjJRO','../utils/Context.behavior','returns\x20the\x20relayed\x20transaction\x20original\x20data','YgXjA','uint256','Sender','returns\x20the\x20original\x20sender\x20when\x20calldata\x20length\x20is\x20less\x20than\x2020\x20bytes\x20(address\x20length)','when\x20called\x20directly','recognize\x20trusted\x20forwarder','AGJVY','5471992HnOgXo','DAXSP','generate','data','uint48','gas','msgSender','equal','contract','getAddressString','wallet','pJnEy','msgDataShort','92zBCTys','HUTBF','ethereumjs-wallet','bytes','require','returns\x20the\x20relayed\x20transaction\x20original\x20sender','getPrivateKey','address','budWg','ERC2771ContextMock','default','DataShort','100000','deadline','signTypedMessage','fTjVG','execute','msgData','COGFP','sender','ContextMockCaller','TfucQ','../helpers/eip712','from','types','cyeRe','OpenZeppelin','value','ERC2771Context','DOHGM','caller','methods','JKboD','eth-sig-util','HZWUO','1275512PQHyGF','117597TSyuGI','ForwardRequest','CSPuj','66064806OYZnHc','8717658YXYjaS','7MHGlQs','HGcbN','mxKuM','forwarder','ERC2771Forwarder','when\x20receiving\x20a\x20relayed\x20call','TzumX','signature','7636025FrlwxC','encodeABI','domain','HDyGq','toChecksumAddress','inTransaction','recipient'];_0x1032=function(){return _0x1a02ab;};return _0x1032();}