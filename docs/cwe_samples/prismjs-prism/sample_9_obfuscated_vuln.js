'use strict';const _0x1ec918=_0x5bc9;(function(_0x59e42f,_0x40d10f){const _0x474a7c=_0x5bc9,_0x451062=_0x59e42f();while(!![]){try{const _0x34427a=-parseInt(_0x474a7c(0x19c))/0x1*(-parseInt(_0x474a7c(0x1e6))/0x2)+-parseInt(_0x474a7c(0x1c7))/0x3*(parseInt(_0x474a7c(0x17d))/0x4)+parseInt(_0x474a7c(0x1a1))/0x5+parseInt(_0x474a7c(0x1b8))/0x6*(-parseInt(_0x474a7c(0x1f2))/0x7)+parseInt(_0x474a7c(0x1d9))/0x8+-parseInt(_0x474a7c(0x1f9))/0x9+-parseInt(_0x474a7c(0x1db))/0xa*(-parseInt(_0x474a7c(0x17e))/0xb);if(_0x34427a===_0x40d10f)break;else _0x451062['push'](_0x451062['shift']());}catch(_0x410ae8){_0x451062['push'](_0x451062['shift']());}}}(_0x481c,0xce2be));function _0x5bc9(_0x11c1fe,_0x3af376){const _0x481c0d=_0x481c();return _0x5bc9=function(_0x5bc9f5,_0x16dc35){_0x5bc9f5=_0x5bc9f5-0x17d;let _0x78c9f9=_0x481c0d[_0x5bc9f5];return _0x78c9f9;},_0x5bc9(_0x11c1fe,_0x3af376);}const nconf=require(_0x1ec918(0x1b0)),fs=require('fs'),url=require(_0x1ec918(0x1c0)),path=require(_0x1ec918(0x1c2)),{fork}=require('child_process'),logrotate=require(_0x1ec918(0x1ea)),mkdirp=require(_0x1ec918(0x19f)),file=require(_0x1ec918(0x19b)),pkg=require(_0x1ec918(0x1cb)),pathToConfig=path[_0x1ec918(0x184)](__dirname,process['env'][_0x1ec918(0x203)]||_0x1ec918(0x192));nconf[_0x1ec918(0x196)]()[_0x1ec918(0x199)]()[_0x1ec918(0x1df)]({'file':pathToConfig});const pidFilePath=path[_0x1ec918(0x1f8)](__dirname,_0x1ec918(0x1fe)),outputLogFilePath=path[_0x1ec918(0x1f8)](__dirname,nconf[_0x1ec918(0x1b2)](_0x1ec918(0x1be))||_0x1ec918(0x1dd)),logDir=path[_0x1ec918(0x186)](outputLogFilePath);!fs[_0x1ec918(0x185)](logDir)&&mkdirp['sync'](path['dirname'](outputLogFilePath));const output=logrotate({'file':outputLogFilePath,'size':'1m','keep':0x3,'compress':!![]}),silent=nconf[_0x1ec918(0x1b2)](_0x1ec918(0x1f1))==='false'?![]:nconf[_0x1ec918(0x1b2)](_0x1ec918(0x1f1))!==![];let numProcs;const workers=[],Loader={'timesStarted':0x0},appPath=path['join'](__dirname,'app.js');Loader[_0x1ec918(0x1b5)]=function(){const _0x56027e=_0x1ec918,_0x575538={'wABIM':function(_0x403c9f,_0x526f8b){return _0x403c9f>_0x526f8b;}};if(silent){if('lLZjr'!==_0x56027e(0x1cf)){const _0x22f3a5=_0x39df2b(),_0x1cdb1f=[];if(!_0x22f3a5[_0x356c38])return _0x1ede00[_0x56027e(0x18a)](_0x56027e(0x18c)+_0x18dc94+_0x56027e(0x18b)+_0x22f3a5['length']);_0x32e4e9[_0x56027e(0x199)][_0x56027e(0x1ce)]=_0x5cb961,_0xc67a8c[_0x56027e(0x199)]['isCluster']=_0x3b266c[_0x56027e(0x1b2)]('isCluster')||_0x575538['wABIM'](_0x22f3a5['length'],0x1),_0x2a1b08[_0x56027e(0x199)][_0x56027e(0x1d8)]=_0x22f3a5[_0x5192ec];const _0x487bf8=_0x435396(_0x3ddb30,_0x1cdb1f,{'silent':_0x3870b1,'env':_0x165fa4[_0x56027e(0x199)]});_0x487bf8[_0x56027e(0x1c5)]=_0x5b3642,_0x487bf8[_0x56027e(0x1ce)]=_0x3fb621,_0x21dc09[_0x489ca2]=_0x487bf8,_0x16d9f6[_0x56027e(0x18f)](_0x487bf8);if(_0x3226b8){const _0x1d76bd=_0x351020({'file':_0x5c6a9b,'size':'1m','keep':0x3,'compress':!![]});_0x487bf8[_0x56027e(0x1a6)]['pipe'](_0x1d76bd),_0x487bf8[_0x56027e(0x198)][_0x56027e(0x197)](_0x1d76bd);}}else console['log']=(..._0x20b5c1)=>{output['write'](_0x20b5c1['join']('\x20')+'\x0a');};}process['on'](_0x56027e(0x205),Loader[_0x56027e(0x1ef)]),process['on'](_0x56027e(0x1b7),Loader[_0x56027e(0x1d0)]);},Loader[_0x1ec918(0x1ad)]=function(){const _0x209d41=_0x1ec918,_0x4b53b9={'tKupl':_0x209d41(0x18e),'vXYut':_0x209d41(0x201),'SOYBn':_0x209d41(0x183)},_0x172147=_0x4b53b9[_0x209d41(0x1d7)][_0x209d41(0x1f0)]('|');let _0x1c943d=0x0;while(!![]){switch(_0x172147[_0x1c943d++]){case'0':console['log'](_0x209d41(0x206));continue;case'1':console[_0x209d41(0x18a)]('');continue;case'2':console[_0x209d41(0x18a)]('');continue;case'3':console[_0x209d41(0x18a)](_0x4b53b9[_0x209d41(0x1ed)]);continue;case'4':console[_0x209d41(0x18a)](_0x4b53b9['SOYBn']);continue;case'5':console[_0x209d41(0x18a)](_0x209d41(0x1f5)+pkg['version']+'\x20Copyright\x20(C)\x202013-'+new Date()[_0x209d41(0x1dc)]()+_0x209d41(0x1f4));continue;}break;}},Loader[_0x1ec918(0x18f)]=function(_0x555a8c){const _0x520992=_0x1ec918,_0x2bc80e={'GEPbz':_0x520992(0x1bc),'wpBtE':_0x520992(0x1d6),'zSsql':function(_0x2fbdf7,_0x25bc1f){return _0x2fbdf7!==_0x25bc1f;},'MRCDC':function(_0x136514,_0x256f12){return _0x136514<_0x256f12;},'xsrMJ':function(_0x99a03f,_0x553ada){return _0x99a03f*_0x553ada;},'cslsR':function(_0x519756,_0x528184){return _0x519756(_0x528184);},'FhAhS':function(_0x39011c,_0x3a0f69,_0x59afaf){return _0x39011c(_0x3a0f69,_0x59afaf);},'VySac':function(_0x386f0d,_0x23b958){return _0x386f0d===_0x23b958;},'GbJNC':function(_0x32be60,_0x30445e){return _0x32be60!==_0x30445e;},'BEBWg':_0x520992(0x189),'dTEXo':_0x520992(0x1af),'UsvkK':function(_0x1cd86c,_0x3f2fe9,_0x5561bb){return _0x1cd86c(_0x3f2fe9,_0x5561bb);},'YwceI':function(_0x2b8123,_0x2e972e){return _0x2b8123===_0x2e972e;},'GhxrJ':_0x520992(0x1ef),'sOiff':'[cluster]\x20Restarting...','FDAOR':_0x520992(0x1d4),'oSwbR':_0x520992(0x1ab),'Ioqqa':'exit'};_0x555a8c['on'](_0x2bc80e[_0x520992(0x1a8)],(_0x13c33c,_0x4207db)=>{const _0x4e2aad=_0x520992,_0x4dc404={'tFdaR':'false','YNqwJ':_0x2bc80e[_0x4e2aad(0x1bf)]};if(_0x4e2aad(0x1d6)!==_0x2bc80e['wpBtE'])_0x2f2983(),_0x4193d7[_0x4e2aad(0x1b2)](_0x4e2aad(0x1bc))!==_0x4dc404[_0x4e2aad(0x1d3)]&&_0x5e5c26['get'](_0x4dc404[_0x4e2aad(0x1eb)])!==![]&&_0x14b15e['unlinkSync'](_0x2825ec);else{_0x2bc80e[_0x4e2aad(0x1e2)](_0x13c33c,0x0)&&(_0x2bc80e[_0x4e2aad(0x1ec)](Loader[_0x4e2aad(0x1e9)],_0x2bc80e[_0x4e2aad(0x190)](numProcs,0x3))?(Loader['timesStarted']+=0x1,Loader[_0x4e2aad(0x17f)]&&_0x2bc80e[_0x4e2aad(0x193)](clearTimeout,Loader[_0x4e2aad(0x17f)]),Loader[_0x4e2aad(0x17f)]=_0x2bc80e['FhAhS'](setTimeout,()=>{const _0x2810dd=_0x4e2aad;Loader[_0x2810dd(0x1e9)]=0x0;},0x2710)):(console[_0x4e2aad(0x18a)](numProcs*0x3+_0x4e2aad(0x18d)),process['exit']()));console['log']('[cluster]\x20Child\x20Process\x20('+_0x555a8c[_0x4e2aad(0x1d5)]+_0x4e2aad(0x1ac)+_0x13c33c+_0x4e2aad(0x1da)+_0x4207db+')');if(!(_0x555a8c['suicide']||_0x2bc80e['VySac'](_0x13c33c,0x0))){if(_0x2bc80e['GbJNC'](_0x4e2aad(0x1ca),_0x2bc80e[_0x4e2aad(0x1cc)]))console[_0x4e2aad(0x18a)](_0x2bc80e['dTEXo']),_0x2bc80e[_0x4e2aad(0x207)](forkWorker,_0x555a8c['index'],_0x555a8c['isPrimary']);else{_0x2f8d31('app');return;}}}}),_0x555a8c['on'](_0x520992(0x187),_0xb0a068=>{const _0x239c3f=_0x520992;if(_0xb0a068&&_0x2bc80e['YwceI'](typeof _0xb0a068,_0x239c3f(0x1c6))&&_0xb0a068[_0x239c3f(0x1a0)])switch(_0xb0a068['action']){case _0x2bc80e['GhxrJ']:console[_0x239c3f(0x18a)](_0x2bc80e[_0x239c3f(0x1c3)]),Loader[_0x239c3f(0x1ef)]();break;case _0x2bc80e[_0x239c3f(0x1e0)]:workers[_0x239c3f(0x1a2)](_0x470bdf=>{const _0x478815=_0x239c3f;_0x470bdf[_0x478815(0x181)](_0xb0a068);});break;case _0x2bc80e[_0x239c3f(0x1fc)]:workers[_0x239c3f(0x1a2)](_0x5a2ea9=>{const _0x5f3464=_0x239c3f;_0x2bc80e[_0x5f3464(0x1e2)](_0x5a2ea9,_0x555a8c)&&_0x5a2ea9['send'](_0xb0a068);});break;}});},Loader[_0x1ec918(0x1bd)]=function(){const _0x44d140=_0x1ec918,_0x39c70={'lXXek':function(_0x567c88,_0x367129){return _0x567c88===_0x367129;}};numProcs=getPorts()[_0x44d140(0x1cd)],console[_0x44d140(0x18a)](_0x44d140(0x1a9)+numProcs+_0x44d140(0x1d2));for(let _0x45f667=0x0;_0x45f667<numProcs;_0x45f667+=0x1){forkWorker(_0x45f667,_0x39c70[_0x44d140(0x1fb)](_0x45f667,0x0));}};function _0x481c(){const _0x4d3718=['pubsub','pid','zBlhR','tKupl','port','11221144WgeGpE',',\x20signal:\x20','80qbntaC','getFullYear','logs/output.log','kNxvF','file','FDAOR','Error\x20reading\x20config','zSsql','fGcli','kXAPO','Process\x20\x22','28Baxhtd','dRBtu','cAvlR','timesStarted','logrotate-stream','YNqwJ','MRCDC','vXYut','utf-8','restart','split','silent','4199216NKsfSb','kill','\x20NodeBB\x20Inc.','NodeBB\x20v','false','app','join','4562172QPxvmp','error','lXXek','oSwbR','isCluster','pidfile','suicide','oWDcy','For\x20the\x20full\x20license,\x20please\x20visit:\x20http://www.gnu.org/copyleft/gpl.html','VGKXF','CONFIG','parse','SIGHUP','This\x20program\x20comes\x20with\x20ABSOLUTELY\x20NO\x20WARRANTY.','UsvkK','UhDzC','32lRxvPD','167607bNocGC','crashTimer','code','send','exit','This\x20is\x20free\x20software,\x20and\x20you\x20are\x20welcome\x20to\x20redistribute\x20it\x20under\x20certain\x20conditions.','resolve','existsSync','dirname','message','[cluster]\x20url\x20is\x20undefined,\x20please\x20check\x20your\x20config.json','dKTKU','log','\x20ports:\x20','[cluster]\x20invalid\x20port\x20for\x20worker\x20:\x20','\x20restarts\x20in\x2010\x20seconds,\x20most\x20likely\x20an\x20error\x20on\x20startup.\x20Halting.','2|5|0|4|3|1','addWorkerEvents','xsrMJ','yvdYP','config.json','cslsR','\x22\x20from\x20pidfile,\x20deleting\x20pidfile','\x22\x20from\x20pidfile\x20not\x20found,\x20deleting\x20pidfile','argv','pipe','stderr','env','info','./src/file','94213IwXrNH','unlinkSync','BvZcD','mkdirp','action','878005wSDCEg','forEach','cwd','sGDBB','readFileSync','stdout','gKdeM','Ioqqa','Clustering\x20enabled:\x20Spinning\x20up\x20','PORT','socket.io',')\x20has\x20exited\x20(code:\x20','displayStartupMessages','readFile','[cluster]\x20Spinning\x20up\x20another\x20process...','nconf','DrnZQ','get','use','set','init','BvWjR','SIGTERM','6vsVRhR','readOnly','PfsxQ','yZNse','daemon','start','logFile','GEPbz','url','\x22\x20from\x20pidfile\x20already\x20running,\x20exiting','path','sOiff','[loader]\x20Error\x20during\x20startup','index','object','400443WhAeyI','writeFileSync','zWSOe','bMNqA','./package.json','BEBWg','length','isPrimary','lLZjr','stop','stores','\x20process(es).\x0a','tFdaR'];_0x481c=function(){return _0x4d3718;};return _0x481c();}function forkWorker(_0x41d360,_0x2f206a){const _0x33703c=_0x1ec918,_0x2b3ede={'yZNse':function(_0x4b7676){return _0x4b7676();},'tVcUF':_0x33703c(0x1fd),'UhDzC':function(_0x1ff015,_0x179052){return _0x1ff015>_0x179052;},'yvdYP':function(_0x5a9d25,_0x4b782c,_0x4f326d,_0x2ede3f){return _0x5a9d25(_0x4b782c,_0x4f326d,_0x2ede3f);}},_0x1a4f14=_0x2b3ede[_0x33703c(0x1bb)](getPorts),_0x1e13c2=[];if(!_0x1a4f14[_0x41d360])return console[_0x33703c(0x18a)](_0x33703c(0x18c)+_0x41d360+_0x33703c(0x18b)+_0x1a4f14['length']);process[_0x33703c(0x199)][_0x33703c(0x1ce)]=_0x2f206a,process[_0x33703c(0x199)][_0x33703c(0x1fd)]=nconf['get'](_0x2b3ede['tVcUF'])||_0x2b3ede[_0x33703c(0x208)](_0x1a4f14['length'],0x1),process['env'][_0x33703c(0x1d8)]=_0x1a4f14[_0x41d360];const _0x1a2e1=_0x2b3ede[_0x33703c(0x191)](fork,appPath,_0x1e13c2,{'silent':silent,'env':process[_0x33703c(0x199)]});_0x1a2e1[_0x33703c(0x1c5)]=_0x41d360,_0x1a2e1['isPrimary']=_0x2f206a,workers[_0x41d360]=_0x1a2e1,Loader['addWorkerEvents'](_0x1a2e1);if(silent){const _0x26f98b=logrotate({'file':outputLogFilePath,'size':'1m','keep':0x3,'compress':!![]});_0x1a2e1[_0x33703c(0x1a6)][_0x33703c(0x197)](_0x26f98b),_0x1a2e1['stderr'][_0x33703c(0x197)](_0x26f98b);}}function getPorts(){const _0x47d814=_0x1ec918,_0x3f4cce={'PfsxQ':_0x47d814(0x188),'gKdeM':_0x47d814(0x1aa)},_0xe0888f=nconf[_0x47d814(0x1b2)](_0x47d814(0x1c0));!_0xe0888f&&(console[_0x47d814(0x18a)](_0x3f4cce[_0x47d814(0x1ba)]),process[_0x47d814(0x182)]());const _0x3d8dcd=url[_0x47d814(0x204)](_0xe0888f);let _0x802a95=nconf[_0x47d814(0x1b2)](_0x3f4cce[_0x47d814(0x1a7)])||nconf[_0x47d814(0x1b2)](_0x47d814(0x1d8))||_0x3d8dcd[_0x47d814(0x1d8)]||0x11d7;return!Array['isArray'](_0x802a95)&&(_0x802a95=[_0x802a95]),_0x802a95;}Loader[_0x1ec918(0x1ef)]=function(){const _0x5c1922=_0x1ec918,_0x16bd07={'WAoLh':function(_0x4216b9,_0x3eefed){return _0x4216b9(_0x3eefed);},'VGKXF':function(_0x3e2548,_0x19f24a){return _0x3e2548===_0x19f24a;},'kREWT':_0x5c1922(0x1b1),'kNxvF':_0x5c1922(0x1e1),'kXAPO':_0x5c1922(0x1c0),'SYMil':function(_0x1718c3){return _0x1718c3();}};_0x16bd07['SYMil'](killWorkers),nconf['remove']('file'),nconf[_0x5c1922(0x1b3)](_0x5c1922(0x1df),{'file':pathToConfig}),fs[_0x5c1922(0x1ae)](pathToConfig,{'encoding':_0x5c1922(0x1ee)},(_0x4e0348,_0x3c4f6a)=>{const _0x5353dc=_0x5c1922,_0x415754={'zWSOe':function(_0x3ff6de,_0x18017d){return _0x16bd07['WAoLh'](_0x3ff6de,_0x18017d);},'RcRUR':function(_0x25ad1f,_0x33a418,_0x4ebaf3){return _0x25ad1f(_0x33a418,_0x4ebaf3);}};if(_0x16bd07[_0x5353dc(0x202)](_0x16bd07['kREWT'],_0x16bd07['kREWT'])){if(_0x4e0348){console[_0x5353dc(0x1fa)](_0x16bd07[_0x5353dc(0x1de)]);throw _0x4e0348;}const _0x1ca1c5=JSON[_0x5353dc(0x204)](_0x3c4f6a);nconf[_0x5353dc(0x1d1)]['env'][_0x5353dc(0x1b9)]=![],nconf[_0x5353dc(0x1b4)](_0x16bd07[_0x5353dc(0x1e4)],_0x1ca1c5[_0x5353dc(0x1c0)]),nconf[_0x5353dc(0x1d1)][_0x5353dc(0x199)][_0x5353dc(0x1b9)]=!![],process['env'][_0x5353dc(0x1c0)]!==_0x1ca1c5[_0x5353dc(0x1c0)]&&(process[_0x5353dc(0x199)][_0x5353dc(0x1c0)]=_0x1ca1c5[_0x5353dc(0x1c0)]),Loader[_0x5353dc(0x1bd)]();}else _0x3d604e[_0x5353dc(0x1e9)]+=0x1,_0x444b1c[_0x5353dc(0x17f)]&&_0x415754[_0x5353dc(0x1c9)](_0x1be44e,_0x495b1e[_0x5353dc(0x17f)]),_0x28b5d2[_0x5353dc(0x17f)]=_0x415754['RcRUR'](_0x30f020,()=>{const _0x42fc48=_0x5353dc;_0x272014[_0x42fc48(0x1e9)]=0x0;},0x2710);});},Loader[_0x1ec918(0x1d0)]=function(){const _0x155640=_0x1ec918,_0x4afb7e={'BvZcD':function(_0x48b393){return _0x48b393();},'BvWjR':'daemon','JVqny':function(_0x37fd48,_0x4cbe4b){return _0x37fd48!==_0x4cbe4b;}};_0x4afb7e[_0x155640(0x19e)](killWorkers),nconf[_0x155640(0x1b2)](_0x4afb7e[_0x155640(0x1b6)])!==_0x155640(0x1f6)&&_0x4afb7e['JVqny'](nconf[_0x155640(0x1b2)]('daemon'),![])&&fs['unlinkSync'](pidFilePath);};function killWorkers(){const _0xfd568a=_0x1ec918;workers[_0xfd568a(0x1a2)](_0x79ec2b=>{const _0xc85b08=_0xfd568a;_0x79ec2b[_0xc85b08(0x1ff)]=!![],_0x79ec2b[_0xc85b08(0x1f3)]();});}fs['open'](pathToConfig,'r',_0x5a5e89=>{const _0x5d39c8=_0x1ec918,_0x45d121={'sGDBB':function(_0xb64b6,_0x55804d){return _0xb64b6(_0x55804d);},'RHvMO':function(_0x5b572b,_0x35fce5){return _0x5b572b!==_0x35fce5;},'dRBtu':_0x5d39c8(0x1bc),'nkFLv':_0x5d39c8(0x1f6),'fGcli':'utf-8','oWDcy':'ESRCH','cAvlR':_0x5d39c8(0x1c4)};if(_0x5a5e89){_0x45d121[_0x5d39c8(0x1a4)](fork,_0x5d39c8(0x1f7));return;}if(_0x45d121['RHvMO'](nconf[_0x5d39c8(0x1b2)](_0x45d121[_0x5d39c8(0x1e7)]),_0x45d121['nkFLv'])&&nconf['get'](_0x5d39c8(0x1bc))!==![]){if(file[_0x5d39c8(0x185)](pidFilePath)){let _0x466f79=0x0;try{_0x466f79=fs[_0x5d39c8(0x1a5)](pidFilePath,{'encoding':_0x45d121[_0x5d39c8(0x1e3)]}),_0x466f79?(process[_0x5d39c8(0x1f3)](_0x466f79,0x0),console['info'](_0x5d39c8(0x1e5)+_0x466f79+_0x5d39c8(0x1c1)),process[_0x5d39c8(0x182)]()):(console[_0x5d39c8(0x19a)]('Invalid\x20pid\x20\x22'+_0x466f79+_0x5d39c8(0x194)),fs['unlinkSync'](pidFilePath));}catch(_0xc157b3){if(_0xc157b3[_0x5d39c8(0x180)]===_0x45d121[_0x5d39c8(0x200)])console[_0x5d39c8(0x19a)]('Process\x20\x22'+_0x466f79+_0x5d39c8(0x195)),fs[_0x5d39c8(0x19d)](pidFilePath);else{console[_0x5d39c8(0x1fa)](_0xc157b3['stack']);throw _0xc157b3;}}}require(_0x5d39c8(0x1bc))({'stdout':process[_0x5d39c8(0x1a6)],'stderr':process[_0x5d39c8(0x198)],'cwd':process[_0x5d39c8(0x1a3)]()}),fs[_0x5d39c8(0x1c8)](pidFilePath,String(process['pid']));}try{Loader[_0x5d39c8(0x1b5)](),Loader['displayStartupMessages'](),Loader[_0x5d39c8(0x1bd)]();}catch(_0x1fcb86){console[_0x5d39c8(0x1fa)](_0x45d121[_0x5d39c8(0x1e8)]);throw _0x1fcb86;}});