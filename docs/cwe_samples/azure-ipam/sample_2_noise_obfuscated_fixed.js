(function(_0x58f83c,_0x5cbb73){const _0x427f8a=_0x535a,_0x4d2b6b=_0x58f83c();while(!![]){try{const _0x47afdf=-parseInt(_0x427f8a(0xd1))/0x1+-parseInt(_0x427f8a(0xda))/0x2+-parseInt(_0x427f8a(0xdd))/0x3*(-parseInt(_0x427f8a(0xd2))/0x4)+parseInt(_0x427f8a(0x10f))/0x5*(-parseInt(_0x427f8a(0xc4))/0x6)+-parseInt(_0x427f8a(0xfd))/0x7*(parseInt(_0x427f8a(0xe7))/0x8)+-parseInt(_0x427f8a(0xd9))/0x9*(-parseInt(_0x427f8a(0xe8))/0xa)+parseInt(_0x427f8a(0xc2))/0xb*(parseInt(_0x427f8a(0xeb))/0xc);if(_0x47afdf===_0x5cbb73)break;else _0x4d2b6b['push'](_0x4d2b6b['shift']());}catch(_0x450352){_0x4d2b6b['push'](_0x4d2b6b['shift']());}}}(_0x16b7,0xe1f4a));import _0x2f9dec from'jquery';import _0x1a1264 from'../templates/drafts_sidebar_action.hbs';import _0x56eff2 from'../templates/popovers/left_sidebar_all_messages_popover.hbs';import _0x4fca3a from'../templates/popovers/left_sidebar_condensed_views_popover.hbs';import _0x482670 from'../templates/popovers/left_sidebar_inbox_popover.hbs';import _0x53df03 from'../templates/popovers/left_sidebar_recent_view_popover.hbs';import _0x33a00b from'../templates/starred_messages_sidebar_actions.hbs';import*as _0x3aa2ad from'./channel';import*as _0x25ea5b from'./drafts';import*as _0x10cf68 from'./popover_menus';import*as _0x8732c7 from'./popovers';import*as _0xfdd292 from'./scheduled_messages';import*as _0x96bf71 from'./settings_config';import*as _0x22b96e from'./starred_messages';import*as _0x265d22 from'./starred_messages_ui';import*as _0x537bfa from'./ui_util';import*as _0x10d070 from'./unread_ops';function _0x16b7(){const _0x3139f4=['attr','9850692WBRhNF','#unstar_all_messages','rqcQk','left_sidebar_all_messages_popover','currentTarget','update_unread_count_in_dom','yBhEY','#delete_all_drafts_sidebar','#toggle_display_starred_msg_count','destroy','dhcWr','Pjknz','.inbox-sidebar-menu-icon','popper','hide_left_sidebar_menu_icon','.recent-view-sidebar-menu-icon','wgUwm','#mark_all_messages_as_read','7FzFOyc','LiqGn','VMUTP','left_sidebar_inbox_popover','Lugzt','parse_html','left_sidebar_recent_view_popover','gZzvn','NULgT','hide_current_popover_if_visible','DqVIx','ShUiF','setContent','drafts','.drafts-sidebar-menu-icon','ZcUeY','bKNVV','lHcOU','7895715WlZDSE','web_home_view','qRjUL','xSnLf','register_popover_menu','confirm_unstar_all_messages','show_left_sidebar_menu_icon','starred_message_counts','ifoFl','tMHjU','popover_instances','beCKw','MKfWe','CaGMm','VoKoC','get_count','recent_topics','jyWzm','nCzDf','hide_all','DqYVK','.starred-messages-sidebar-menu-icon','BOvnY','data','55CWMFQh','confirm_mark_all_as_read','6uETTrM','body','click','web_home_view_values','patch','phWge','stringify','uBRHH','reference','data-view-code','left_sidebar_tippy_options','.set-home-view','vWBKO','1719472VHJEHl','76vwlCSs','bUfzi','pSAva','ROASH','.condensed-views-popover-menu-scheduled-messages','code','one','2925729DYWedw','618600CONpIV','EZlnB','getDraftCount','155229GkNOie','confirm_delete_all_drafts','rzGXX','all_messages','aGVsbG8gd29ybGQ=','preventDefault','EESBW','search','SEuNM','/json/settings','9634440kdyjDx','20aOBHFM','inbox'];_0x16b7=function(){return _0x3139f4;};return _0x16b7();}import{user_settings}from'./user_settings';function _0x535a(_0xb4a0b0,_0x5cce17){const _0x16b78a=_0x16b7();return _0x535a=function(_0x535a06,_0xebef1b){_0x535a06=_0x535a06-0xb6;let _0xcf590a=_0x16b78a[_0x535a06];return _0xcf590a;},_0x535a(_0xb4a0b0,_0x5cce17);}function common_click_handlers(){const _0x31a448=_0x535a,_0x1ed3cb={'ROASH':function(_0x5997f8,_0x407769){return _0x5997f8(_0x407769);},'wgUwm':_0x31a448(0xcd),'Lugzt':'/json/settings','VMUTP':_0x31a448(0xc6),'DqVIx':'.set-home-view','jyWzm':function(_0x2220c2,_0x37a9b4){return _0x2220c2(_0x37a9b4);}};_0x1ed3cb[_0x31a448(0xd5)](_0x2f9dec,_0x31a448(0xc5))['on'](_0x1ed3cb[_0x31a448(0xff)],_0x1ed3cb[_0x31a448(0x107)],_0xb8ddc=>{const _0x4a16ec=_0x31a448;_0xb8ddc[_0x4a16ec(0xe2)](),_0xb8ddc['preventDefault']();const _0x3d7e03=_0x1ed3cb[_0x4a16ec(0xd5)](_0x2f9dec,_0xb8ddc[_0x4a16ec(0xef)])[_0x4a16ec(0xea)](_0x1ed3cb[_0x4a16ec(0xfb)]),_0x250386={'web_home_view':_0x3d7e03};_0x3aa2ad[_0x4a16ec(0xc8)]({'url':_0x1ed3cb[_0x4a16ec(0x101)],'data':_0x250386}),_0x8732c7['hide_all']();}),_0x1ed3cb[_0x31a448(0xbb)](atob,_0x31a448(0xe1));}function register_mark_all_read_handler(_0x2d04e7){const _0x260c1a=_0x535a,{instance:_0x2baf0c}=_0x2d04e7[_0x260c1a(0xc1)];_0x10d070[_0x260c1a(0xc3)](),_0x10cf68[_0x260c1a(0x106)](_0x2baf0c),text[_0x260c1a(0xe4)](/[0-9]+/);}export function initialize(){const _0x26f9d0=_0x535a,_0x34a10f={'nCzDf':_0x26f9d0(0xbe),'qRjUL':'click','SEuNM':_0x26f9d0(0xec),'gZzvn':function(_0x2c98ca,_0x21c346){return _0x2c98ca(_0x21c346);},'VoKoC':'drafts-popover','beCKw':_0x26f9d0(0xcf),'aMSfL':_0x26f9d0(0xe1),'ShUiF':function(_0x12caf6,_0x29c37f){return _0x12caf6!==_0x29c37f;},'MKfWe':_0x26f9d0(0xdb),'pSAva':'btWXk','tzaoe':function(_0x3d2e35,_0x440bbf){return _0x3d2e35===_0x440bbf;},'ifoFl':_0x26f9d0(0x105),'xSnLf':_0x26f9d0(0x118),'CaGMm':function(_0x5708cb,_0x48d550){return _0x5708cb===_0x48d550;},'Pjknz':function(_0x1bc0e4,_0x5b792d){return _0x1bc0e4===_0x5b792d;},'jczpS':_0x26f9d0(0xfc),'bKNVV':function(_0x387961,_0x591dff){return _0x387961>_0x591dff;},'NqdMD':'.condensed-views-popover-menu-drafts','BOvnY':_0x26f9d0(0x10b),'bUfzi':'.all-messages-sidebar-menu-icon','rqcQk':function(_0x58b447){return _0x58b447();}};_0x10cf68['register_popover_menu'](_0x26f9d0(0xbf),{..._0x10cf68[_0x26f9d0(0xce)],'onMount'(_0x5403ea){const _0xb58cd=_0x26f9d0,_0x51951b={'YvLHZ':function(_0x127ef9,_0x2a52e2){return _0x127ef9===_0x2a52e2;},'lHcOU':_0x34a10f[_0xb58cd(0xbc)],'ZcUeY':_0xb58cd(0xe6)},_0x1e8e1a=_0x2f9dec(_0x5403ea[_0xb58cd(0xf8)]);_0x10cf68[_0xb58cd(0x119)]['starred_messages']=_0x5403ea,_0x537bfa[_0xb58cd(0x115)](_0x5403ea['reference']),_0x1e8e1a[_0xb58cd(0xd8)](_0x34a10f[_0xb58cd(0x111)],_0x34a10f[_0xb58cd(0xe5)],()=>{const _0x369995=_0xb58cd;_0x265d22['confirm_unstar_all_messages'](),_0x10cf68[_0x369995(0x106)](_0x5403ea);}),_0x1e8e1a[_0xb58cd(0xd8)](_0xb58cd(0xc6),_0xb58cd(0xf3),()=>{const _0x23380c=_0xb58cd;if(_0x51951b['YvLHZ'](_0x51951b[_0x23380c(0x10e)],_0x23380c(0xbe))){const _0x543b61={},_0x1392d1=user_settings['starred_message_counts'];_0x543b61[_0x23380c(0x116)]=JSON[_0x23380c(0xca)](!_0x1392d1),_0x3aa2ad['patch']({'url':_0x51951b[_0x23380c(0x10c)],'data':_0x543b61}),_0x10cf68[_0x23380c(0x106)](_0x5403ea);}else{const {instance:_0x9f2989}=_0x4be3a4[_0x23380c(0xc1)];_0xd4c2f7[_0x23380c(0xc3)](),_0x538946['hide_current_popover_if_visible'](_0x9f2989),_0x25a7be[_0x23380c(0xe4)](/[0-9]+/);}});},'onShow'(_0x19fd89){const _0x43f0da=_0x26f9d0;_0x8732c7['hide_all']();const _0x4d9d73=_0x22b96e[_0x43f0da(0xb9)]()>0x0;_0x19fd89[_0x43f0da(0x109)](_0x537bfa[_0x43f0da(0x102)](_0x33a00b({'show_unstar_all_button':_0x4d9d73,'starred_message_counts':user_settings[_0x43f0da(0x116)]})));},'onHidden'(_0x2958cc){const _0x1d75f6=_0x26f9d0;_0x2958cc[_0x1d75f6(0xf4)](),_0x10cf68[_0x1d75f6(0x119)]['starred_messages']=undefined,_0x537bfa[_0x1d75f6(0xf9)]();}}),_0x10cf68[_0x26f9d0(0x113)](_0x34a10f[_0x26f9d0(0xc0)],{..._0x10cf68['left_sidebar_tippy_options'],'onMount'(_0x3000a1){const _0x459444=_0x26f9d0,_0xe9f32b={'dhcWr':function(_0x217dda,_0x3f7a63){return _0x217dda===_0x3f7a63;},'yBhEY':_0x459444(0xc9)};if(_0x459444(0xcb)===_0x459444(0xcb)){const _0x3225de=_0x34a10f[_0x459444(0x104)](_0x2f9dec,_0x3000a1[_0x459444(0xf8)]);_0x3225de['addClass'](_0x34a10f[_0x459444(0xb8)]),_0x10cf68['popover_instances'][_0x459444(0x10a)]=_0x3000a1,_0x537bfa[_0x459444(0x115)](_0x3000a1[_0x459444(0xcc)]),_0x3225de[_0x459444(0xd8)](_0x34a10f['qRjUL'],_0x459444(0xf2),()=>{const _0xc7601c=_0x459444,_0x478ba4={'EESBW':'/json/settings'};if(_0xe9f32b[_0xc7601c(0xf5)](_0xe9f32b[_0xc7601c(0xf1)],_0xe9f32b[_0xc7601c(0xf1)]))_0x25ea5b[_0xc7601c(0xde)](),_0x10cf68['hide_current_popover_if_visible'](_0x3000a1);else{const _0x1fa1f3={},_0x548ea9=_0x23570c[_0xc7601c(0x116)];_0x1fa1f3[_0xc7601c(0x116)]=_0x26d136[_0xc7601c(0xca)](!_0x548ea9),_0x5ed86e[_0xc7601c(0xc8)]({'url':_0x478ba4[_0xc7601c(0xe3)],'data':_0x1fa1f3}),_0x1f6f41[_0xc7601c(0x106)](_0x177f52);}});}else _0x544443[_0x459444(0xf4)](),_0x2e17e5[_0x459444(0x119)][_0x459444(0x100)]=_0x5bcf52,_0x58d708[_0x459444(0xf9)]();},'onShow'(_0x2ee8dc){const _0x4ddc30=_0x26f9d0;_0x8732c7[_0x4ddc30(0xbd)](),_0x2ee8dc[_0x4ddc30(0x109)](_0x537bfa[_0x4ddc30(0x102)](_0x34a10f['gZzvn'](_0x1a1264,{})));},'onHidden'(_0x4d7c2c){const _0x32e93b=_0x26f9d0,_0x536f26={'LiqGn':_0x32e93b(0xc5),'GrqqH':_0x34a10f[_0x32e93b(0x11a)],'rzGXX':function(_0x3af1a8,_0xb70a6d){return _0x3af1a8(_0xb70a6d);},'vWBKO':_0x34a10f['aMSfL']};_0x34a10f[_0x32e93b(0x108)](_0x34a10f[_0x32e93b(0xb6)],_0x34a10f[_0x32e93b(0xd4)])?(_0x4d7c2c[_0x32e93b(0xf4)](),_0x10cf68[_0x32e93b(0x119)][_0x32e93b(0x10a)]=undefined,_0x537bfa['hide_left_sidebar_menu_icon']()):(_0x16283f(_0x536f26[_0x32e93b(0xfe)])['on'](_0x32e93b(0xc6),_0x536f26['GrqqH'],_0x20ecaf=>{const _0x415578=_0x32e93b;_0x20ecaf[_0x415578(0xe2)](),_0x20ecaf[_0x415578(0xe2)]();const _0x3e9cd6=_0x632b24(_0x20ecaf[_0x415578(0xef)])[_0x415578(0xea)]('data-view-code'),_0x5550f8={'web_home_view':_0x3e9cd6};_0x87275f[_0x415578(0xc8)]({'url':_0x415578(0xe6),'data':_0x5550f8}),_0x2874e4[_0x415578(0xbd)]();}),_0x536f26[_0x32e93b(0xdf)](_0x5cfb74,_0x536f26[_0x32e93b(0xd0)]));}}),_0x10cf68[_0x26f9d0(0x113)](_0x26f9d0(0xf7),{..._0x10cf68[_0x26f9d0(0xce)],'onMount'(_0x400db7){const _0x3b9d72=_0x26f9d0,_0x367900=_0x2f9dec(_0x400db7[_0x3b9d72(0xf8)]);_0x10cf68['popover_instances'][_0x3b9d72(0x100)]=_0x400db7,_0x537bfa[_0x3b9d72(0x115)](_0x400db7[_0x3b9d72(0xcc)]),_0x367900[_0x3b9d72(0xd8)](_0x3b9d72(0xc6),'#mark_all_messages_as_read',{'instance':_0x400db7},register_mark_all_read_handler);},'onShow'(_0x25fea8){const _0x4eb9f7=_0x26f9d0;_0x8732c7[_0x4eb9f7(0xbd)]();const _0x3228ed=_0x96bf71[_0x4eb9f7(0xc7)][_0x4eb9f7(0xe9)][_0x4eb9f7(0xd7)];_0x25fea8[_0x4eb9f7(0x109)](_0x537bfa['parse_html'](_0x482670({'is_home_view':user_settings[_0x4eb9f7(0x110)]===_0x3228ed,'view_code':_0x3228ed})));},'onHidden'(_0x24c5e7){const _0x30c846=_0x26f9d0;_0x24c5e7[_0x30c846(0xf4)](),_0x10cf68[_0x30c846(0x119)][_0x30c846(0x100)]=undefined,_0x537bfa[_0x30c846(0xf9)]();}}),_0x10cf68[_0x26f9d0(0x113)](_0x34a10f[_0x26f9d0(0xd3)],{..._0x10cf68['left_sidebar_tippy_options'],'onMount'(_0xb202f2){const _0x51e075=_0x26f9d0;if(_0x34a10f['tzaoe']('NULgT',_0x34a10f[_0x51e075(0x117)])){const _0x310a5d=_0x2f9dec(_0xb202f2[_0x51e075(0xf8)]);_0x310a5d[_0x51e075(0xd8)](_0x34a10f[_0x51e075(0x111)],'#mark_all_messages_as_read',{'instance':_0xb202f2},register_mark_all_read_handler);}else _0x1257a9[_0x51e075(0x114)](),_0x43fe88[_0x51e075(0x106)](_0x47b1f1);},'onShow'(_0x527868){const _0x356d8c=_0x26f9d0;if(_0x34a10f[_0x356d8c(0x108)](_0x34a10f['xSnLf'],_0x34a10f[_0x356d8c(0x112)]))_0x25cdab[_0x356d8c(0xbd)](),_0x131fff['setContent'](_0x5544a0[_0x356d8c(0x102)](_0x22192c({})));else{_0x10cf68['popover_instances'][_0x356d8c(0xee)]=_0x527868,_0x537bfa[_0x356d8c(0x115)](_0x527868[_0x356d8c(0xcc)]),_0x8732c7[_0x356d8c(0xbd)]();const _0x456c6c=_0x96bf71[_0x356d8c(0xc7)][_0x356d8c(0xe0)][_0x356d8c(0xd7)];_0x527868[_0x356d8c(0x109)](_0x537bfa[_0x356d8c(0x102)](_0x34a10f[_0x356d8c(0x104)](_0x56eff2,{'is_home_view':_0x34a10f[_0x356d8c(0xb7)](user_settings['web_home_view'],_0x456c6c),'view_code':_0x456c6c})));}},'onHidden'(_0x132c57){const _0x58aa3f=_0x26f9d0;_0x132c57[_0x58aa3f(0xf4)](),_0x10cf68[_0x58aa3f(0x119)][_0x58aa3f(0xee)]=undefined,_0x537bfa[_0x58aa3f(0xf9)]();}}),_0x10cf68['register_popover_menu'](_0x26f9d0(0xfa),{..._0x10cf68[_0x26f9d0(0xce)],'onMount'(_0x1a772d){const _0x176888=_0x26f9d0,_0x149f65=_0x2f9dec(_0x1a772d[_0x176888(0xf8)]);_0x149f65['one'](_0x176888(0xc6),_0x176888(0xfc),{'instance':_0x1a772d},register_mark_all_read_handler);},'onShow'(_0x4f6e92){const _0x4edea5=_0x26f9d0;_0x10cf68['popover_instances'][_0x4edea5(0x103)]=_0x4f6e92,_0x537bfa[_0x4edea5(0x115)](_0x4f6e92[_0x4edea5(0xcc)]),_0x8732c7[_0x4edea5(0xbd)]();const _0xc09e24=_0x96bf71[_0x4edea5(0xc7)][_0x4edea5(0xba)][_0x4edea5(0xd7)];_0x4f6e92[_0x4edea5(0x109)](_0x537bfa[_0x4edea5(0x102)](_0x53df03({'is_home_view':_0x34a10f[_0x4edea5(0xf6)](user_settings[_0x4edea5(0x110)],_0xc09e24),'view_code':_0xc09e24})));},'onHidden'(_0x1ac481){const _0x1f4070=_0x26f9d0;_0x1ac481[_0x1f4070(0xf4)](),_0x10cf68[_0x1f4070(0x119)][_0x1f4070(0x103)]=undefined,_0x537bfa[_0x1f4070(0xf9)]();}}),_0x10cf68[_0x26f9d0(0x113)]('.left-sidebar-navigation-menu-icon',{..._0x10cf68[_0x26f9d0(0xce)],'onShow'(_0x4ccde2){const _0x111bbd=_0x26f9d0,_0x574ef2={'uDjyw':_0x34a10f['jczpS']},_0x190a4e=_0xfdd292[_0x111bbd(0xb9)]();let _0x138cdc=![];if(_0x34a10f[_0x111bbd(0x10d)](_0x190a4e,0x0)){if('EAkDj'!=='EAkDj'){const _0x2fd48e=_0x315919(_0x45aa29[_0x111bbd(0xf8)]);_0x2fd48e[_0x111bbd(0xd8)](_0x111bbd(0xc6),_0x574ef2['uDjyw'],{'instance':_0xb5d402},_0x3f99f2);}else _0x138cdc=!![];}_0x8732c7['hide_all'](),_0x4ccde2[_0x111bbd(0x109)](_0x537bfa['parse_html'](_0x4fca3a({'has_scheduled_messages':_0x138cdc})));},'onMount'(){const _0x39adf1=_0x26f9d0;_0x537bfa[_0x39adf1(0xf0)](_0x2f9dec(_0x34a10f['NqdMD']),_0x25ea5b['draft_model'][_0x39adf1(0xdc)]()),_0x537bfa[_0x39adf1(0xf0)](_0x34a10f['gZzvn'](_0x2f9dec,_0x39adf1(0xd6)),_0xfdd292[_0x39adf1(0xb9)]());},'onHidden'(_0x7bc8c3){const _0xa8d5ea=_0x26f9d0;_0x7bc8c3[_0xa8d5ea(0xf4)](),_0x10cf68[_0xa8d5ea(0x119)]['top_left_sidebar']=undefined;}}),_0x34a10f[_0x26f9d0(0xed)](common_click_handlers);}