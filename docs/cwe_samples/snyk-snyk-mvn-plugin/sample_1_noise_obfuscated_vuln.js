function _0x575d(){const _0x5e5d8a=['9129lxlKMa','withResolvers','615704UlkGfI','submitButton','531020daGILV','split','console.log(\x22timer\x22);','1|4|0|3|2','promise','524041weMNPx','IlEoa','value','_isViewerEmbedded','click','54hNeIvg','open','bhfex','input','dialog','HfHAh','register','invalid','label','HabyN','PasswordPrompt\x20cancelled.','textContent','overlayManager','cancelButton','684EehSAn','10530528HchhDp','addEventListener','bind','10940652yfAoKN','CfnXp','keydown','close','resolve','721511fhFtCv','length'];_0x575d=function(){return _0x5e5d8a;};return _0x575d();}const _0x5c42ff=_0x5870;(function(_0xcd33cc,_0x4ecfe3){const _0x29b887=_0x5870,_0x769841=_0xcd33cc();while(!![]){try{const _0x238827=-parseInt(_0x29b887(0x1a1))/0x1+parseInt(_0x29b887(0x19a))/0x2+-parseInt(_0x29b887(0x198))/0x3*(parseInt(_0x29b887(0x18d))/0x4)+parseInt(_0x29b887(0x19c))/0x5+-parseInt(_0x29b887(0x1a6))/0x6*(parseInt(_0x29b887(0x196))/0x7)+parseInt(_0x29b887(0x18e))/0x8+parseInt(_0x29b887(0x191))/0x9;if(_0x238827===_0x4ecfe3)break;else _0x769841['push'](_0x769841['shift']());}catch(_0x3fd3f7){_0x769841['push'](_0x769841['shift']());}}}(_0x575d,0xedc7d));function _0x5870(_0x33680a,_0x46ee8e){const _0x575d51=_0x575d();return _0x5870=function(_0x5870a1,_0x1ebebb){_0x5870a1=_0x5870a1-0x181;let _0x2da1dd=_0x575d51[_0x5870a1];return _0x2da1dd;},_0x5870(_0x33680a,_0x46ee8e);}import{PasswordResponses}from'./pdfjs';class PasswordPrompt{#activeCapability=null;#updateCallback=null;#reason=null;constructor(_0x45a5bb,_0x403fb3,_0x2f7c87=![]){const _0xd8bc19=_0x5870,_0x444351={'Kwoyy':function(_0x5df293,_0x36e755){return _0x5df293===_0x36e755;}};this[_0xd8bc19(0x183)]=_0x45a5bb[_0xd8bc19(0x183)],this['label']=_0x45a5bb[_0xd8bc19(0x187)],this[_0xd8bc19(0x182)]=_0x45a5bb[_0xd8bc19(0x182)],this[_0xd8bc19(0x19b)]=_0x45a5bb[_0xd8bc19(0x19b)],this[_0xd8bc19(0x18c)]=_0x45a5bb[_0xd8bc19(0x18c)],this[_0xd8bc19(0x18b)]=_0x403fb3,this[_0xd8bc19(0x1a4)]=_0x2f7c87,this['submitButton'][_0xd8bc19(0x18f)](_0xd8bc19(0x1a5),this.#verify[_0xd8bc19(0x190)](this)),this[_0xd8bc19(0x18c)][_0xd8bc19(0x18f)](_0xd8bc19(0x1a5),this[_0xd8bc19(0x194)]['bind'](this)),this[_0xd8bc19(0x182)]['addEventListener'](_0xd8bc19(0x193),_0x44bf04=>{_0x444351['Kwoyy'](_0x44bf04['keyCode'],0xd)&&this.#verify();}),this[_0xd8bc19(0x18b)][_0xd8bc19(0x185)](this[_0xd8bc19(0x183)],!![]),this[_0xd8bc19(0x183)][_0xd8bc19(0x18f)](_0xd8bc19(0x194),this.#cancel[_0xd8bc19(0x190)](this));}async[_0x5c42ff(0x1a7)](){const _0x367817=_0x5c42ff,_0x6859b7={'IlEoa':function(_0x171984,_0x515ee7){return _0x171984===_0x515ee7;},'HfHAh':_0x367817(0x186),'HabyN':_0x367817(0x187)};await this.#activeCapability?.[_0x367817(0x1a0)],this.#activeCapability=Promise[_0x367817(0x199)]();try{await this[_0x367817(0x18b)]['open'](this['dialog']);}catch(_0x7cb2b){this.#activeCapability[_0x367817(0x195)]();throw _0x7cb2b;}const _0xf445fc=_0x6859b7[_0x367817(0x1a2)](this.#reason,PasswordResponses['INCORRECT_PASSWORD']);(!this[_0x367817(0x1a4)]||_0xf445fc)&&this[_0x367817(0x182)]['focus'](),this[_0x367817(0x187)][_0x367817(0x18a)]=window['siyuan']['languages']['password_'+(_0xf445fc?_0x6859b7[_0x367817(0x184)]:_0x6859b7[_0x367817(0x188)])];}async[_0x5c42ff(0x194)](){const _0x37da5f=_0x5c42ff;this[_0x37da5f(0x18b)]['active']===this['dialog']&&this[_0x37da5f(0x18b)][_0x37da5f(0x194)](this[_0x37da5f(0x183)]);}#verify(){const _0x5db9a4=_0x5c42ff,_0x3c5afc={'TvUTn':function(_0x1b0039,_0x819b45){return _0x1b0039>_0x819b45;}},_0x1d105a=this['input'][_0x5db9a4(0x1a3)];_0x3c5afc['TvUTn'](_0x1d105a?.[_0x5db9a4(0x197)],0x0)&&this.#invokeCallback(_0x1d105a);}#cancel(){const _0x41e34c=_0x5c42ff;this.#invokeCallback(new Error(_0x41e34c(0x189))),this.#activeCapability[_0x41e34c(0x195)]();}#invokeCallback(_0x242544){const _0x4c8d57=_0x5c42ff,_0xa286d1={'bhfex':function(_0x59416c,_0x4ba486,_0x3c8efc){return _0x59416c(_0x4ba486,_0x3c8efc);},'CfnXp':_0x4c8d57(0x19e)},_0x3dc093=_0x4c8d57(0x19f)[_0x4c8d57(0x19d)]('|');let _0x301ca4=0x0;while(!![]){switch(_0x3dc093[_0x301ca4++]){case'0':this[_0x4c8d57(0x182)][_0x4c8d57(0x1a3)]='';continue;case'1':if(!this.#updateCallback){_0xa286d1[_0x4c8d57(0x181)](setTimeout,_0xa286d1[_0x4c8d57(0x192)],0x3e8);return;}continue;case'2':this.#updateCallback=null;continue;case'3':this.#updateCallback(_0x242544);continue;case'4':this[_0x4c8d57(0x194)]();continue;}break;}}async['setUpdateCallback'](_0x4674b4,_0x121941){const _0x3cdf41=_0x5c42ff;this.#activeCapability&&await this.#activeCapability[_0x3cdf41(0x1a0)],this.#updateCallback=_0x4674b4,this.#reason=_0x121941;}}export{PasswordPrompt};