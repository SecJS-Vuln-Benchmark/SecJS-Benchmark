function _0x8912(){var _0x377db8=['hOLua','Template','FRDXu','getOne','download','Bad\x20name\x20or\x20ext\x20format','model','136msOinD','qetSr','../lib/utils','9yxrLQo','ENOENT','Internal','file','then','Template\x20File\x20not\x20found\x20but\x20deleted\x20successfully\x20in\x20database','get','put','exports','TbBAZ','acl','zaptC','templates:read','wRzpt','/../report-templates/','632919hesFkA','../lib/auth','name','gHsiF','base64','params','mongoose','code','19796409jqJKHl','IHxkD','4008770dvwjrw','writeFileSync','Bad\x20name\x20format','renameSync','NmbOS','IbLsN','from','hfESs','10BYCHqU','catch','ext','post','BtvbQ','2139756hOInbU','templates:delete','KauoY','FTVMr','/api/templates','docx','unlinkSync','EPkZW','getAll','HgyKR','6421644TVJFfT','NotFound','/api/templates/download/:templateId','QblSq','body','BadParameters','Svbsy','delete','FCUYA','xBqNm','templates:update','Template\x20updated\x20successfully','Ojueg','/api/templates/:templateId','UzmFl','1110932VInQDf','hasPermission','templateId','422198jxVYUT','validFilename'];_0x8912=function(){return _0x377db8;};return _0x8912();}var _0x19bfcf=_0x180e;function _0x180e(_0x220bb3,_0x1a8e8b){var _0x8912cc=_0x8912();return _0x180e=function(_0x180ef8,_0x2dbb4e){_0x180ef8=_0x180ef8-0x6f;var _0x20bbee=_0x8912cc[_0x180ef8];return _0x20bbee;},_0x180e(_0x220bb3,_0x1a8e8b);}(function(_0x8553a8,_0x4c6035){var _0x3afd85=_0x180e,_0x4f294b=_0x8553a8();while(!![]){try{var _0x295675=-parseInt(_0x3afd85(0x7b))/0x1+parseInt(_0x3afd85(0x92))/0x2+parseInt(_0x3afd85(0xba))/0x3*(parseInt(_0x3afd85(0xab))/0x4)+-parseInt(_0x3afd85(0x85))/0x5+-parseInt(_0x3afd85(0x9c))/0x6+parseInt(_0x3afd85(0xae))/0x7*(-parseInt(_0x3afd85(0xb7))/0x8)+-parseInt(_0x3afd85(0x83))/0x9*(-parseInt(_0x3afd85(0x8d))/0xa);if(_0x295675===_0x4c6035)break;else _0x4f294b['push'](_0x4f294b['shift']());}catch(_0x2ce840){_0x4f294b['push'](_0x4f294b['shift']());}}}(_0x8912,0x8bbe9),module[_0x19bfcf(0x74)]=function(_0x120c84){var _0xa56116=_0x19bfcf,_0x32f093={'hOLua':_0xa56116(0xa5),'FCUYA':function(_0x55e31c,_0x3f326f){return _0x55e31c===_0x3f326f;},'hfESs':_0xa56116(0xbb),'Ojueg':'Template\x20deleted\x20successfully','EPkZW':_0xa56116(0x7f),'qUxRq':'NKdDm','gHsiF':_0xa56116(0x87),'yEXNN':_0xa56116(0x71),'QblSq':function(_0x4f350f,_0x47b272){return _0x4f350f(_0x47b272);},'IbLsN':'../lib/httpResponse.js','qetSr':_0xa56116(0xb1),'IHxkD':_0xa56116(0xb9),'DYpot':_0xa56116(0x96),'TbBAZ':'templates:create','uHXSJ':_0xa56116(0xa6),'NmbOS':'/api/templates/:templateId','FTVMr':_0xa56116(0x93),'BtvbQ':_0xa56116(0x78)},_0xb16df7=_0x32f093[_0xa56116(0x9f)](require,_0x32f093[_0xa56116(0x8a)]),_0x55134a=require(_0xa56116(0x81))[_0xa56116(0xb6)](_0x32f093[_0xa56116(0xb8)]),_0x48e48f=require(_0xa56116(0x7c))[_0xa56116(0x76)],_0x12b8eb=require(_0x32f093[_0xa56116(0x84)]),_0x3805f5=_0x32f093[_0xa56116(0x9f)](require,'fs');_0x120c84[_0xa56116(0x72)](_0x32f093['DYpot'],_0x48e48f[_0xa56116(0xac)]('templates:read'),function(_0x3a07d1,_0x139bcc){var _0x39df78=_0xa56116;_0x55134a[_0x39df78(0x9a)]()['then'](_0x270fe1=>_0xb16df7['Ok'](_0x139bcc,_0x270fe1))['catch'](_0x1f0006=>_0xb16df7[_0x39df78(0xbc)](_0x139bcc,_0x1f0006));}),_0x120c84[_0xa56116(0x90)](_0xa56116(0x96),_0x48e48f[_0xa56116(0xac)](_0x32f093[_0xa56116(0x75)]),function(_0x578a8d,_0x26c115){var _0x287685=_0xa56116;if(!_0x578a8d[_0x287685(0xa0)]['name']||!_0x578a8d[_0x287685(0xa0)][_0x287685(0x6f)]||!_0x578a8d[_0x287685(0xa0)][_0x287685(0x8f)]){_0xb16df7[_0x287685(0xa1)](_0x26c115,'Missing\x20required\x20parameters:\x20name,\x20ext,\x20file');return;}if(!_0x12b8eb['validFilename'](_0x578a8d[_0x287685(0xa0)]['name'])||!_0x12b8eb[_0x287685(0xaf)](_0x578a8d[_0x287685(0xa0)][_0x287685(0x8f)])){_0xb16df7[_0x287685(0xa1)](_0x26c115,_0x287685(0xb5));return;}var _0x416636={};_0x416636['name']=_0x578a8d[_0x287685(0xa0)][_0x287685(0x7d)],_0x416636[_0x287685(0x8f)]=_0x578a8d[_0x287685(0xa0)][_0x287685(0x8f)],_0x55134a['create'](_0x416636)['then'](_0x3a4793=>{var _0x4d2be3=_0x287685,_0x13c396=Buffer[_0x4d2be3(0x8b)](_0x578a8d['body'][_0x4d2be3(0x6f)],_0x4d2be3(0x7f));_0x3805f5[_0x4d2be3(0x86)](__basedir+_0x4d2be3(0x7a)+_0x416636[_0x4d2be3(0x7d)]+'.'+_0x416636[_0x4d2be3(0x8f)],_0x13c396),_0xb16df7['Created'](_0x26c115,_0x3a4793);})[_0x287685(0x8e)](_0x52c623=>_0xb16df7[_0x287685(0xbc)](_0x26c115,_0x52c623));}),_0x120c84[_0xa56116(0x73)](_0xa56116(0xa9),_0x48e48f['hasPermission'](_0x32f093['uHXSJ']),function(_0x29f97b,_0x3373e2){var _0x365276=_0xa56116,_0x3700ce={'UzmFl':_0x365276(0x97),'KauoY':_0x32f093[_0x365276(0xa8)],'wRzpt':_0x32f093[_0x365276(0x99)]};if(_0x29f97b[_0x365276(0xa0)]['name']&&!_0x12b8eb[_0x365276(0xaf)](_0x29f97b['body'][_0x365276(0x7d)])){if(_0x32f093['qUxRq']!==_0x365276(0xb2)){_0xb16df7[_0x365276(0xa1)](_0x3373e2,_0x32f093[_0x365276(0x7e)]);return;}else _0xf83813[_0x365276(0x98)](_0x31dc3c+'/../report-templates/'+_0x5666a6[_0x365276(0x7d)]+'.'+(_0xdf27f5['ext']||'docx'));}if(_0x29f97b['body'][_0x365276(0x8f)]&&!_0x12b8eb[_0x365276(0xaf)](_0x29f97b[_0x365276(0xa0)]['ext'])){_0xb16df7[_0x365276(0xa1)](_0x3373e2,_0x32f093[_0x365276(0x7e)]);return;}var _0x5036d1={};if(_0x29f97b[_0x365276(0xa0)][_0x365276(0x7d)])_0x5036d1[_0x365276(0x7d)]=_0x29f97b[_0x365276(0xa0)][_0x365276(0x7d)];if(_0x29f97b['body'][_0x365276(0x6f)]&&_0x29f97b[_0x365276(0xa0)][_0x365276(0x8f)])_0x5036d1[_0x365276(0x8f)]=_0x29f97b[_0x365276(0xa0)]['ext'];_0x55134a['update'](_0x29f97b[_0x365276(0x80)]['templateId'],_0x5036d1)[_0x365276(0x70)](_0xbd402d=>{var _0x550d73=_0x365276;if(!_0x29f97b[_0x550d73(0xa0)]['name']&&_0x29f97b['body'][_0x550d73(0x6f)]&&_0x29f97b[_0x550d73(0xa0)][_0x550d73(0x8f)]){if(_0x550d73(0x77)==='oPdMH'){var _0xdbe29f=_0x403ca5+_0x550d73(0x7a)+_0x483e9d[_0x550d73(0x7d)]+'.'+(_0x2a8506[_0x550d73(0x8f)]||_0x3700ce[_0x550d73(0xaa)]);_0x105654[_0x550d73(0xb4)](_0xdbe29f,_0x5686a[_0x550d73(0x7d)]+'.'+_0x328bd9[_0x550d73(0x8f)]);}else{var _0x4c40ba=Buffer[_0x550d73(0x8b)](_0x29f97b[_0x550d73(0xa0)][_0x550d73(0x6f)],_0x3700ce[_0x550d73(0x79)]);try{_0x3805f5[_0x550d73(0x98)](__basedir+'/../report-templates/'+_0xbd402d[_0x550d73(0x7d)]+'.'+(_0xbd402d['ext']||'docx'));}catch{}_0x3805f5[_0x550d73(0x86)](__basedir+_0x550d73(0x7a)+_0xbd402d[_0x550d73(0x7d)]+'.'+_0x29f97b[_0x550d73(0xa0)][_0x550d73(0x8f)],_0x4c40ba);}}else{if(_0x29f97b[_0x550d73(0xa0)][_0x550d73(0x7d)]&&!_0x29f97b['body'][_0x550d73(0x6f)])_0x550d73(0x9b)!==_0x550d73(0xa2)?_0x3805f5[_0x550d73(0x88)](__basedir+_0x550d73(0x7a)+_0xbd402d[_0x550d73(0x7d)]+'.'+(_0xbd402d[_0x550d73(0x8f)]||_0x550d73(0x97)),__basedir+_0x550d73(0x7a)+_0x29f97b[_0x550d73(0xa0)]['name']+'.'+(_0xbd402d[_0x550d73(0x8f)]||_0x550d73(0x97))):(_0x1b8d86[_0x550d73(0x98)](_0x1f1362+_0x550d73(0x7a)+_0x108821[_0x550d73(0x7d)]+'.'+(_0x1537d2[_0x550d73(0x8f)]||_0x550d73(0x97))),_0x5d3215['Ok'](_0x436861,_0x3700ce[_0x550d73(0x94)]));else{if(_0x29f97b['body']['name']&&_0x29f97b['body'][_0x550d73(0x6f)]&&_0x29f97b[_0x550d73(0xa0)]['ext']){var _0x4c40ba=Buffer[_0x550d73(0x8b)](_0x29f97b['body'][_0x550d73(0x6f)],_0x3700ce[_0x550d73(0x79)]);try{_0x3805f5[_0x550d73(0x98)](__basedir+_0x550d73(0x7a)+_0xbd402d[_0x550d73(0x7d)]+'.'+(_0xbd402d[_0x550d73(0x8f)]||_0x550d73(0x97)));}catch{}_0x3805f5['writeFileSync'](__basedir+'/../report-templates/'+_0x29f97b[_0x550d73(0xa0)][_0x550d73(0x7d)]+'.'+_0x29f97b[_0x550d73(0xa0)]['ext'],_0x4c40ba);}}}_0xb16df7['Ok'](_0x3373e2,_0x550d73(0xa7));})[_0x365276(0x8e)](_0x1d0373=>{var _0x162e1c=_0x365276;if(_0x32f093[_0x162e1c(0xb0)]===_0x32f093[_0x162e1c(0xb0)]){if(_0x1d0373[_0x162e1c(0x82)]&&_0x32f093[_0x162e1c(0xa4)](_0x1d0373[_0x162e1c(0x82)],_0x32f093[_0x162e1c(0x8c)]))_0xb16df7[_0x162e1c(0x9d)](_0x3373e2,'Template\x20File\x20was\x20not\x20Found');else _0xb16df7[_0x162e1c(0xbc)](_0x3373e2,_0x1d0373);}else _0x554648[_0x162e1c(0x98)](_0x12b26f+_0x162e1c(0x7a)+_0x591506[_0x162e1c(0x7d)]+'.'+(_0x3c9361['ext']||_0x162e1c(0x97)));});}),_0x120c84[_0xa56116(0xa3)](_0x32f093[_0xa56116(0x89)],_0x48e48f[_0xa56116(0xac)](_0x32f093[_0xa56116(0x95)]),function(_0x470bb9,_0xdb1663){var _0xaad5b6=_0xa56116,_0x45572a={'nznDP':_0x32f093[_0xaad5b6(0xa8)]};_0x55134a[_0xaad5b6(0xa3)](_0x470bb9['params'][_0xaad5b6(0xad)])[_0xaad5b6(0x70)](_0x7a7e98=>{var _0x5b60a6=_0xaad5b6;_0x3805f5[_0x5b60a6(0x98)](__basedir+_0x5b60a6(0x7a)+_0x7a7e98[_0x5b60a6(0x7d)]+'.'+(_0x7a7e98['ext']||_0x5b60a6(0x97))),_0xb16df7['Ok'](_0xdb1663,_0x45572a['nznDP']);})['catch'](_0x230218=>{var _0x196f08=_0xaad5b6;if(_0x230218['code']&&_0x32f093[_0x196f08(0xa4)](_0x230218[_0x196f08(0x82)],_0x32f093[_0x196f08(0x8c)]))_0xb16df7['Ok'](_0xdb1663,_0x32f093['yEXNN']);else _0xb16df7[_0x196f08(0xbc)](_0xdb1663,_0x230218);});}),_0x120c84[_0xa56116(0x72)](_0xa56116(0x9e),_0x48e48f[_0xa56116(0xac)](_0x32f093[_0xa56116(0x91)]),function(_0x27bcbe,_0xcb8c82){var _0x3ae7da=_0xa56116;_0x55134a[_0x3ae7da(0xb3)](_0x27bcbe[_0x3ae7da(0x80)]['templateId'])[_0x3ae7da(0x70)](_0x1a92a0=>{var _0xc94bed=_0x3ae7da,_0x3bd181=__basedir+_0xc94bed(0x7a)+_0x1a92a0[_0xc94bed(0x7d)]+'.'+(_0x1a92a0[_0xc94bed(0x8f)]||_0xc94bed(0x97));_0xcb8c82['download'](_0x3bd181,_0x1a92a0[_0xc94bed(0x7d)]+'.'+_0x1a92a0[_0xc94bed(0x8f)]);})[_0x3ae7da(0x8e)](_0x5e9b35=>_0xb16df7[_0x3ae7da(0xbc)](_0xcb8c82,_0x5e9b35));});});