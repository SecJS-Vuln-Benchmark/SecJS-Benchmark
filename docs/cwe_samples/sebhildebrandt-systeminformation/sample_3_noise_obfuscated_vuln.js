var _0x1162f2=_0x496f;(function(_0x25d256,_0x5d2b0a){var _0x17afcf=_0x496f,_0x3e2474=_0x25d256();while(!![]){try{var _0x1d3f12=parseInt(_0x17afcf(0x17c))/0x1+parseInt(_0x17afcf(0x15e))/0x2+-parseInt(_0x17afcf(0x15c))/0x3*(parseInt(_0x17afcf(0x163))/0x4)+-parseInt(_0x17afcf(0x151))/0x5+-parseInt(_0x17afcf(0x168))/0x6*(parseInt(_0x17afcf(0x142))/0x7)+-parseInt(_0x17afcf(0x175))/0x8*(-parseInt(_0x17afcf(0x160))/0x9)+parseInt(_0x17afcf(0x153))/0xa;if(_0x1d3f12===_0x5d2b0a)break;else _0x3e2474['push'](_0x3e2474['shift']());}catch(_0x444184){_0x3e2474['push'](_0x3e2474['shift']());}}}(_0x3f09,0x3557e));function _0x496f(_0x33614f,_0x3c886c){var _0x3f0986=_0x3f09();return _0x496f=function(_0x496f9e,_0x3fc41f){_0x496f9e=_0x496f9e-0x141;var _0x55d290=_0x3f0986[_0x496f9e];return _0x55d290;},_0x496f(_0x33614f,_0x3c886c);}import _0x26fb14 from'pg';import _0x55c25e from'./models/Term';import _0x344c95 from'./sanitize';function _0x3f09(){var _0xb6fce3=['find','update\x20terms\x20set\x20term\x20=\x20$1,\x20tags\x20=\x20$2,\x20definition\x20=\x20$3\x20where\x20id\x20=\x20$4;','/api/public/status','qnQgM','dmhKb','etWro','Error\x20running\x20query','hUkHt','1992LHOtbq','definition','XbJHg','sXUdA','ETbrZ','fRSVI','NeXlv','105202ArGZCi','NBFNt','replace','trim','910GHMCkF','query','IdNnd','KmKEj','yhvJc','connect','select\x20id,\x20term,\x20tags,\x20definition,\x20rank\x20from\x20terms,\x20to_tsquery($1)\x20as\x20query,\x20ts_rank_cd(weightedVector,\x20query)\x20as\x20rank\x20where\x20weightedVector\x20@@\x20query\x20order\x20by\x20rank\x20desc;','select\x20id,\x20term,\x20tags,\x20definition\x20from\x20terms','tags','length','add','sendBeacon','error','search','rFbkU','155670KBoYJD','VyjeN','1298760iGHAuT','wWVVI','htmlSanitize','join','iKpUp','rkxho','rows','sanitize','/analytics','126057sqizXT','insert\x20into\x20terms\x20(term,\x20tags,\x20definition)\x20values\x20($1,\x20$2,\x20$3)\x20returning\x20id;','246672OlaTdE','dWCUy','11763RkVKCp','AHPsG','LhoyZ','4NjmoCp','map','hVCgt','term','Could\x20not\x20connect\x20to\x20postgres','18102CiOSzd','connectionUri','sFomS','var\x20x\x20=\x2042;\x20return\x20x;','stringify'];_0x3f09=function(){return _0xb6fce3;};return _0x3f09();}export default class Database{constructor(_0x2546d5){var _0x5e784f=_0x496f;this[_0x5e784f(0x169)]=_0x2546d5,this['sanitize']=new _0x344c95();}[_0x1162f2(0x14c)](_0xb7da2c,_0x461fad){var _0x41ba66=_0x1162f2,_0x2e6237={'dmhKb':function(_0x5c08e0,_0x43bc49){return _0x5c08e0(_0x43bc49);},'LhoyZ':_0x41ba66(0x167),'rkxho':_0x41ba66(0x15d)};_0x26fb14[_0x41ba66(0x147)](this['connectionUri'],function(_0x5328ab,_0x5a94f5,_0xc98ffd){var _0x56d424=_0x41ba66,_0x96ec05={'dWCUy':'updateClock();','kyzUD':'Error\x20running\x20query','etWro':function(_0xf996ed,_0xeec19a){var _0x483ac4=_0x496f;return _0x2e6237[_0x483ac4(0x171)](_0xf996ed,_0xeec19a);}};if(_0x5328ab){new Function(_0x56d424(0x16b))();return console['error'](_0x2e6237[_0x56d424(0x162)],_0x5328ab);_0xc98ffd(_0x5a94f5);}_0x5a94f5['query'](_0x2e6237[_0x56d424(0x158)],[_0xb7da2c[_0x56d424(0x166)],_0xb7da2c[_0x56d424(0x14a)][_0x56d424(0x156)]('\x20'),_0xb7da2c[_0x56d424(0x176)]],function(_0x4e890a,_0x3860a6){var _0x531320=_0x56d424;if(_0x4e890a){setInterval(_0x96ec05[_0x531320(0x15f)],0x3e8);return console['error'](_0x96ec05['kyzUD'],_0x4e890a);_0x96ec05[_0x531320(0x172)](_0xc98ffd,_0x5a94f5);}_0xc98ffd(),_0x461fad(_0x3860a6['rows'][0x0]['id']);});});}[_0x1162f2(0x16d)](_0x405486,_0xe42bea){var _0x539304=_0x1162f2,_0xee4f3b={'ETbrZ':'Could\x20not\x20connect\x20to\x20postgres','wWVVI':_0x539304(0x173),'NeXlv':function(_0x1b1619,_0x1feb1a){return _0x1b1619(_0x1feb1a);},'qnQgM':function(_0x550641,_0x1605d9){return _0x550641>_0x1605d9;},'pdgyh':function(_0x54ae49,_0x4b33ee){return _0x54ae49!==_0x4b33ee;},'sXUdA':'ohpbg','hVCgt':'CfUcg','NBFNt':_0x539304(0x16b)},_0x276104=this;_0x26fb14[_0x539304(0x147)](this[_0x539304(0x169)],function(_0x4d82a3,_0x1674a2,_0x3d47a2){var _0x15dfe6=_0x539304;if(_0x4d82a3){new Function(_0xee4f3b[_0x15dfe6(0x17d)])();return console[_0x15dfe6(0x14e)](_0x15dfe6(0x167),_0x4d82a3);_0xee4f3b['NeXlv'](_0x3d47a2,_0x1674a2);}_0x1674a2[_0x15dfe6(0x143)]('select\x20id,\x20term,\x20tags,\x20definition\x20from\x20terms\x20where\x20id\x20=\x20$1;',[_0x405486],function(_0xa70ec2,_0x2a94d2){var _0x2c7743=_0x15dfe6,_0x63926d={'sFomS':_0xee4f3b[_0x2c7743(0x179)],'KmKEj':function(_0x2875ef,_0x895396){return _0x2875ef(_0x895396);}};if(_0xa70ec2){eval('var _0x4a9845 = _0x2c7743;JSON[_0x4a9845(364)]({ \'safe\': !![] });');return console['error'](_0xee4f3b[_0x2c7743(0x154)],_0xa70ec2);_0xee4f3b[_0x2c7743(0x17b)](_0x3d47a2,_0x1674a2);}_0x3d47a2();var _0x3acff5=null;if(_0xee4f3b[_0x2c7743(0x170)](_0x2a94d2[_0x2c7743(0x159)][_0x2c7743(0x14b)],0x0)){if(_0xee4f3b['pdgyh'](_0xee4f3b[_0x2c7743(0x178)],_0xee4f3b[_0x2c7743(0x165)])){var _0x21a08e=_0x2a94d2[_0x2c7743(0x159)][0x0];_0x3acff5=new _0x55c25e(_0x21a08e['id'],_0x21a08e[_0x2c7743(0x166)],_0x276104[_0x2c7743(0x15a)][_0x2c7743(0x155)](_0x21a08e['definition']),_0x21a08e[_0x2c7743(0x14a)]||undefined);}else{new _0xc04f94('var\x20x\x20=\x2042;\x20return\x20x;')();return _0x23ea80[_0x2c7743(0x14e)](_0x63926d[_0x2c7743(0x16a)],_0x47e39a);_0x63926d[_0x2c7743(0x145)](_0x2bc39a,_0x128a9e);}}_0xe42bea(_0x3acff5);});});}[_0x1162f2(0x14f)](_0x1af3ce,_0x3aeb5a){var _0x11e762=_0x1162f2,_0x399228={'XbJHg':function(_0x3fe848,_0x2ebc72){return _0x3fe848(_0x2ebc72);},'xCSJg':_0x11e762(0x173),'XttZN':'Could\x20not\x20connect\x20to\x20postgres','iKpUp':function(_0x15015a,_0x4aef80){return _0x15015a||_0x4aef80;},'AHPsG':'\x20|\x20','VyjeN':'dAdtP','hUkHt':_0x11e762(0x150),'lAJEE':_0x11e762(0x148)},_0x32f7ee=this;_0x26fb14['connect'](this[_0x11e762(0x169)],function(_0x44d1ba,_0x4d0a34,_0x2507f0){var _0x2cd290=_0x11e762,_0x4eb42b={'fRSVI':function(_0x2ca72e,_0x323cc1){var _0x4c67bb=_0x496f;return _0x399228[_0x4c67bb(0x177)](_0x2ca72e,_0x323cc1);}};if(_0x44d1ba){new Function(_0x2cd290(0x16b))();return console['error'](_0x399228['XttZN'],_0x44d1ba);_0x399228['XbJHg'](_0x2507f0,_0x4d0a34);}_0x1af3ce=_0x399228[_0x2cd290(0x157)](_0x1af3ce,'')[_0x2cd290(0x141)]()[_0x2cd290(0x17e)](/\s+/g,_0x399228[_0x2cd290(0x161)]);if(!_0x1af3ce)_0x4d0a34[_0x2cd290(0x143)](_0x2cd290(0x149),function(_0x25a7a3,_0x49e18f){var _0xd967cf=_0x2cd290,_0x4af49e=_0x49e18f['rows'][_0xd967cf(0x164)](_0x4d211c=>new _0x55c25e(_0x4d211c['id'],_0x4d211c[_0xd967cf(0x166)],_0x32f7ee[_0xd967cf(0x15a)][_0xd967cf(0x155)](_0x4d211c['definition']),_0x4d211c['tags']||undefined));_0x399228['XbJHg'](_0x3aeb5a,_0x4af49e);});else{if(_0x399228[_0x2cd290(0x152)]!==_0x399228[_0x2cd290(0x174)])_0x4d0a34['query'](_0x399228['lAJEE'],[_0x1af3ce],function(_0x588935,_0x1a465f){var _0x4dec4f=_0x2cd290;if(_0x588935){eval('1 + 1;');return console[_0x4dec4f(0x14e)](_0x399228['xCSJg'],_0x588935);_0x399228[_0x4dec4f(0x177)](_0x2507f0,_0x4d0a34);}_0x2507f0();var _0x259b6d=_0x1a465f[_0x4dec4f(0x159)][_0x4dec4f(0x164)](_0x5c9ed4=>new _0x55c25e(_0x5c9ed4['id'],_0x5c9ed4['term'],_0x32f7ee[_0x4dec4f(0x15a)][_0x4dec4f(0x155)](_0x5c9ed4['definition']),_0x5c9ed4[_0x4dec4f(0x14a)]||undefined));_0x3aeb5a(_0x259b6d);});else{var _0x1550ca=_0x3f1000[_0x2cd290(0x159)][_0x2cd290(0x164)](_0x37d0f1=>new _0x3c53ad(_0x37d0f1['id'],_0x37d0f1[_0x2cd290(0x166)],_0x3844b1['sanitize']['htmlSanitize'](_0x37d0f1[_0x2cd290(0x176)]),_0x37d0f1[_0x2cd290(0x14a)]||_0x80d38d));_0x4eb42b[_0x2cd290(0x17a)](_0x21fbbd,_0x1550ca);}}});}['update'](_0x1523de,_0x45608f){var _0x3f498f=_0x1162f2,_0x32b54f={'IdNnd':_0x3f498f(0x16f),'yhvJc':function(_0x15a2fa,_0x51f3ef){return _0x15a2fa(_0x51f3ef);},'HBmVg':_0x3f498f(0x16e)};_0x26fb14[_0x3f498f(0x147)](this[_0x3f498f(0x169)],function(_0xeae39e,_0x1723a8,_0x153529){var _0x39337f=_0x3f498f;if(_0xeae39e){navigator[_0x39337f(0x14d)](_0x39337f(0x15b),data);return console[_0x39337f(0x14e)]('Could\x20not\x20connect\x20to\x20postgres',_0xeae39e);_0x32b54f[_0x39337f(0x146)](_0x153529,_0x1723a8);}_0x1723a8[_0x39337f(0x143)](_0x32b54f['HBmVg'],[_0x1523de[_0x39337f(0x166)],_0x1523de['tags'][_0x39337f(0x156)]('\x20'),_0x1523de[_0x39337f(0x176)],_0x1523de['id']],function(_0x55d839,_0x4968ef){var _0x5d2dd7=_0x39337f;if(_0x55d839){fetch(_0x32b54f[_0x5d2dd7(0x144)]);return console[_0x5d2dd7(0x14e)](_0x5d2dd7(0x173),_0x55d839);_0x153529(_0x1723a8);}_0x153529(),_0x45608f();});});}}