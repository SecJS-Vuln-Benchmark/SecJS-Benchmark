const _0x53d9e5=_0x39fd;function _0x39fd(_0x2f666c,_0x44fc4f){const _0x453e49=_0x453e();return _0x39fd=function(_0x39fd35,_0x51966f){_0x39fd35=_0x39fd35-0x88;let _0x16c840=_0x453e49[_0x39fd35];return _0x16c840;},_0x39fd(_0x2f666c,_0x44fc4f);}(function(_0x19924d,_0x24364e){const _0x1fa5ad=_0x39fd,_0x7a3e97=_0x19924d();while(!![]){try{const _0x584f20=-parseInt(_0x1fa5ad(0xcf))/0x1*(-parseInt(_0x1fa5ad(0xc6))/0x2)+parseInt(_0x1fa5ad(0xd1))/0x3+-parseInt(_0x1fa5ad(0xd3))/0x4*(parseInt(_0x1fa5ad(0x88))/0x5)+parseInt(_0x1fa5ad(0xb2))/0x6+-parseInt(_0x1fa5ad(0xc3))/0x7+parseInt(_0x1fa5ad(0xd4))/0x8*(parseInt(_0x1fa5ad(0xbf))/0x9)+parseInt(_0x1fa5ad(0xcb))/0xa*(-parseInt(_0x1fa5ad(0xa5))/0xb);if(_0x584f20===_0x24364e)break;else _0x7a3e97['push'](_0x7a3e97['shift']());}catch(_0x228e68){_0x7a3e97['push'](_0x7a3e97['shift']());}}}(_0x453e,0x645a8));const ethSigUtil=require(_0x53d9e5(0x98)),Wallet=require(_0x53d9e5(0x8b))[_0x53d9e5(0xa1)],{getDomain,domainType}=require('../helpers/eip712'),{expectEvent}=require(_0x53d9e5(0x8a)),{expect}=require(_0x53d9e5(0xce)),ERC2771ContextMock=artifacts['require'](_0x53d9e5(0xae)),ERC2771Forwarder=artifacts[_0x53d9e5(0x91)](_0x53d9e5(0xc9)),ContextMockCaller=artifacts['require'](_0x53d9e5(0x92)),{shouldBehaveLikeRegularContext}=require(_0x53d9e5(0x96));function _0x453e(){const _0x79d7cb=['getAddressString','deadline','contract','IPihk','PaoEF','subn','ERC2771ContextMock','Data','toString','returns\x20the\x20relayed\x20transaction\x20original\x20data','3542490pLhmLC','ERC2771Context','nonces','verify','100000','msgSender','shln','context','when\x20receiving\x20a\x20relayed\x20call','wBixc','value','generate','isTrustedForwarder','873yfZLEe','recipient','when\x20called\x20directly','toChecksumAddress','4789078dwhhRJ','dxfhD','new','38224gnXYQA','msgData','ForwardRequest','ERC2771Forwarder','execute','10dimbAL','from','svHYx','chai','28wgVgAY','uint48','1285500gWFXXt','VDyda','376iMmKRQ','60488MoHYKA','signTypedMessage','signature','equal','sender','qCYZb','utils','types','toTBz','DataShort','wallet','3725IWpuST','forwarder','@openzeppelin/test-helpers','ethereumjs-wallet','LoPve','returns\x20the\x20full\x20original\x20data\x20when\x20calldata\x20length\x20is\x20less\x20than\x2020\x20bytes\x20(address\x20length)','XonFT','returns\x20the\x20original\x20sender\x20when\x20calldata\x20length\x20is\x20less\x20than\x2020\x20bytes\x20(address\x20length)','gas','require','ContextMockCaller','jMUJn','KcQUq','oSnuV','../utils/Context.behavior','domain','eth-sig-util','EpPng','nonce','data','methods','rHizk','encodeABI','address','msgDataShort','default','KyGUp','uint256','getPrivateKey','12344596KWerhT','Uadeh','recognize\x20trusted\x20forwarder'];_0x453e=function(){return _0x79d7cb;};return _0x453e();}contract(_0x53d9e5(0xb3),function(_0x29a628){const _0x2fae1b=_0x53d9e5,_0x2556d1={'DnVMJ':_0x2fae1b(0xc9),'wBixc':function(_0x3cf598,_0x239218){return _0x3cf598(_0x239218);},'bTpGh':_0x2fae1b(0x9f),'PyYMY':_0x2fae1b(0xbc),'EpPng':_0x2fae1b(0x90),'XonFT':_0x2fae1b(0xa3),'oSnuV':_0x2fae1b(0x9a),'VDyda':_0x2fae1b(0x9b),'fhQgN':function(_0xb87a4d,_0x1045dd){return _0xb87a4d(_0x1045dd);},'ZjaWC':function(_0x56b91b,..._0xe8e78){return _0x56b91b(..._0xe8e78);},'IPihk':_0x2fae1b(0x8f),'rHizk':function(_0x342db5,_0x3a5e43,_0x5dc310,_0x23e073){return _0x342db5(_0x3a5e43,_0x5dc310,_0x23e073);},'jMUJn':function(_0x3f7038,_0x101a2d){return _0x3f7038(_0x101a2d);},'qCYZb':_0x2fae1b(0xb7),'xXKAi':_0x2fae1b(0xc7),'toTBz':_0x2fae1b(0x8d),'WVdWE':function(_0x23e718,_0x52bb19){return _0x23e718(_0x52bb19);},'PaoEF':function(_0x2eb5e8,_0x570eda,_0xc05624){return _0x2eb5e8(_0x570eda,_0xc05624);}},[,_0x572a5e]=_0x29a628,_0x9ef3c2=web3[_0x2fae1b(0xda)]['toBN'](0x1)[_0x2fae1b(0xb8)](0x30)[_0x2fae1b(0xad)](0x1)['toString']();_0x2556d1['WVdWE'](beforeEach,async function(){const _0x2e2c4a=_0x2fae1b;this['forwarder']=await ERC2771Forwarder[_0x2e2c4a(0xc5)](_0x2556d1['DnVMJ']),this['recipient']=await ERC2771ContextMock[_0x2e2c4a(0xc5)](this[_0x2e2c4a(0x89)][_0x2e2c4a(0x9f)]),this[_0x2e2c4a(0x97)]=await getDomain(this[_0x2e2c4a(0x89)]),this[_0x2e2c4a(0xdb)]={'EIP712Domain':_0x2556d1[_0x2e2c4a(0xbb)](domainType,this[_0x2e2c4a(0x97)]),'ForwardRequest':[{'name':_0x2e2c4a(0xcc),'type':_0x2e2c4a(0x9f)},{'name':'to','type':_0x2556d1['bTpGh']},{'name':_0x2556d1['PyYMY'],'type':_0x2e2c4a(0xa3)},{'name':_0x2556d1[_0x2e2c4a(0x99)],'type':_0x2556d1[_0x2e2c4a(0x8e)]},{'name':_0x2556d1[_0x2e2c4a(0x95)],'type':'uint256'},{'name':_0x2e2c4a(0xa9),'type':_0x2e2c4a(0xd0)},{'name':_0x2556d1[_0x2e2c4a(0xd2)],'type':'bytes'}]};}),_0x2556d1[_0x2fae1b(0xac)](it,_0x2fae1b(0xa7),async function(){const _0xfaaf33=_0x2fae1b;expect(await this[_0xfaaf33(0xc0)][_0xfaaf33(0xbe)](this[_0xfaaf33(0x89)][_0xfaaf33(0x9f)]));}),context(_0x2fae1b(0xc1),function(){_0x2556d1['fhQgN'](beforeEach,async function(){const _0x480359=_0x39fd;this[_0x480359(0xb9)]=this['recipient'],this['caller']=await ContextMockCaller['new']();}),_0x2556d1['ZjaWC'](shouldBehaveLikeRegularContext,..._0x29a628);}),context(_0x2fae1b(0xba),function(){const _0x2d6ee7=_0x2fae1b,_0x756e98={'dxfhD':_0x2d6ee7(0xb6),'kelVs':function(_0x1314bb,_0xbbf329,_0x40db40){return _0x1314bb(_0xbbf329,_0x40db40);},'Uadeh':_0x2556d1[_0x2d6ee7(0xab)],'svHYx':function(_0xc3a7dd,_0x4d20ad,_0x227cc9,_0x3b54b6){const _0xfe939f=_0x2d6ee7;return _0x2556d1[_0xfe939f(0x9d)](_0xc3a7dd,_0x4d20ad,_0x227cc9,_0x3b54b6);}};_0x2556d1[_0x2d6ee7(0x93)](beforeEach,async function(){const _0x5759cb=_0x2d6ee7;this[_0x5759cb(0xde)]=Wallet[_0x5759cb(0xbd)](),this[_0x5759cb(0xd8)]=web3[_0x5759cb(0xda)][_0x5759cb(0xc2)](this['wallet'][_0x5759cb(0xa8)]()),this[_0x5759cb(0x9b)]={'types':this[_0x5759cb(0xdb)],'domain':this[_0x5759cb(0x97)],'primaryType':_0x5759cb(0xc8)};}),describe(_0x2556d1[_0x2d6ee7(0xd9)],function(){const _0x512ed1=_0x2d6ee7,_0x94e878={'LoPve':_0x756e98[_0x512ed1(0xc4)],'KyGUp':function(_0x1d6253,_0x47b4c4){return _0x1d6253(_0x47b4c4);},'KcQUq':'Sender'};_0x756e98['kelVs'](it,'returns\x20the\x20relayed\x20transaction\x20original\x20sender',async function(){const _0x16876f=_0x512ed1,_0x12ffdc=this['recipient'][_0x16876f(0xaa)]['methods'][_0x16876f(0xb7)]()[_0x16876f(0x9e)](),_0x33d31c={'from':this[_0x16876f(0xd8)],'to':this[_0x16876f(0xc0)][_0x16876f(0x9f)],'value':'0','gas':_0x94e878[_0x16876f(0x8c)],'nonce':(await this['forwarder']['nonces'](this['sender']))[_0x16876f(0xb0)](),'deadline':_0x9ef3c2,'data':_0x12ffdc};_0x33d31c[_0x16876f(0xd6)]=ethSigUtil[_0x16876f(0xd5)](this[_0x16876f(0xde)][_0x16876f(0xa4)](),{'data':{...this[_0x16876f(0x9b)],'message':_0x33d31c}}),_0x94e878[_0x16876f(0xa2)](expect,await this[_0x16876f(0x89)]['verify'](_0x33d31c))['to'][_0x16876f(0xd7)](!![]);const {tx:_0x3d8334}=await this[_0x16876f(0x89)][_0x16876f(0xca)](_0x33d31c);await expectEvent['inTransaction'](_0x3d8334,ERC2771ContextMock,_0x94e878['KcQUq'],{'sender':this[_0x16876f(0xd8)]});}),it(_0x756e98[_0x512ed1(0xa6)],async function(){const _0x49de38=_0x512ed1,_0x45bdf3=await ERC2771ContextMock['new'](_0x572a5e),{receipt:_0x14fe5b}=await _0x45bdf3[_0x49de38(0xb7)]({'from':_0x572a5e});await expectEvent(_0x14fe5b,_0x94e878[_0x49de38(0x94)],{'sender':_0x572a5e});});}),describe(_0x2556d1['xXKAi'],function(){const _0x3ed9c6=_0x2d6ee7;it(_0x3ed9c6(0xb1),async function(){const _0x55897d=_0x3ed9c6,_0x100bad='42',_0x24488b='OpenZeppelin',_0x5a96f2=this[_0x55897d(0xc0)]['contract']['methods'][_0x55897d(0xc7)](_0x100bad,_0x24488b)[_0x55897d(0x9e)](),_0x194455={'from':this[_0x55897d(0xd8)],'to':this[_0x55897d(0xc0)][_0x55897d(0x9f)],'value':'0','gas':_0x55897d(0xb6),'nonce':(await this[_0x55897d(0x89)][_0x55897d(0xb4)](this['sender']))['toString'](),'deadline':_0x9ef3c2,'data':_0x5a96f2};_0x194455[_0x55897d(0xd6)]=ethSigUtil[_0x55897d(0xd5)](this[_0x55897d(0xde)][_0x55897d(0xa4)](),{'data':{...this['data'],'message':_0x194455}}),expect(await this[_0x55897d(0x89)][_0x55897d(0xb5)](_0x194455))['to'][_0x55897d(0xd7)](!![]);const {tx:_0x4af0a6}=await this[_0x55897d(0x89)][_0x55897d(0xca)](_0x194455);await expectEvent['inTransaction'](_0x4af0a6,ERC2771ContextMock,_0x55897d(0xaf),{'data':_0x5a96f2,'integerValue':_0x100bad,'stringValue':_0x24488b});});}),it(_0x2556d1[_0x2d6ee7(0xdc)],async function(){const _0xc3c1d5=_0x2d6ee7,_0x2acb62=await ERC2771ContextMock[_0xc3c1d5(0xc5)](_0x572a5e),{receipt:_0x4de400}=await _0x2acb62[_0xc3c1d5(0xa0)]({'from':_0x572a5e}),_0x54addc=_0x2acb62[_0xc3c1d5(0xaa)][_0xc3c1d5(0x9c)][_0xc3c1d5(0xa0)]()[_0xc3c1d5(0x9e)]();await _0x756e98[_0xc3c1d5(0xcd)](expectEvent,_0x4de400,_0xc3c1d5(0xdd),{'data':_0x54addc});});});});