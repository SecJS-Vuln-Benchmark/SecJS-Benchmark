'use strict';function _0x4a0d(_0x4b2e66,_0x3c6c31){var _0x8bd67c=_0x8bd6();return _0x4a0d=function(_0x4a0db9,_0x15fee1){_0x4a0db9=_0x4a0db9-0x12f;var _0x4fff8d=_0x8bd67c[_0x4a0db9];return _0x4fff8d;},_0x4a0d(_0x4b2e66,_0x3c6c31);}function _0x8bd6(){var _0x510978=['zDFIW','tGgqT','XIqpn','should\x20not\x20send\x20the\x20same\x20subcribe\x20multiple\x20times\x20on\x20a\x20flaky\x20connection','4qrkquX','kRncg','cmd','zRsdJ','WwrtO','zWJmC','kgHbM','listen','KuGdm','RzOwm','QkoYp','hzkCA','topic','equal','clientId','LLeCg','VAcmH','ToaAL','publish','nextId','dHlEX','QLOoX','nBxKH','ylBAQ','once','jLZqK','helpers','evdap','pingresp','DpeVr','kill','localhost','pubrel','not','removeListener','9280413vlwQZL','FoSJD','tmcJH','DYOfF','unsuback','invalid','mqtt-connection','KCopa','reconnectTimer','ZTrOr','queue','hGJQR','OnPNg','emit','tiHdt','should\x20not\x20send\x20the\x20same\x20publish\x20multiple\x20times\x20on\x20a\x20flaky\x20connection','MErde','XecSD','subscribe','kFgZS','zqFZs','1986990QVANmS','subscriptions','map','wycbd','should\x20not\x20fill\x20the\x20queue\x20of\x20subscribes\x20if\x20it\x20cannot\x20connect','qRAZd','puSPH','vwzOF','SMAYp','VNQfn','IPSQt','getLastMessageId','yBKKQ','RIzla','448968KfPScY','bXpoU','glKIp','data','random','cXjwb','aXgGC','pzWVs','niRou','./server','cZETM','airtp','WyFcW','1099483FAFEYW','ElryG','cGeFo','yEKVE','createServer','uLjkW','_nextId','break','bMzsL','3|2|4|1|0','XgUDi','gECXm','XOcYt','wpSqp','lZNIO','waUvp','wUefW','SQRfB','MjAMh','CqtCZ','should\x20return\x201\x20once\x20the\x20interal\x20counter\x20reached\x20limit','reconnect','floor','Rvwxg','YncJd','wPgKL','BnrZq','suback','SIGINT','messageId','localhost_fake','xgunO','mMOgW','UABpx','umPFy','OyPXZ','497452eZahJY','OwfqJ','should\x20attempt\x20to\x20reconnect\x20once\x20server\x20is\x20down','JaPov','destroy','320024JrhouL','AqjmA','pubrec','759378xmuzLj','shoud\x20not\x20keep\x20requeueing\x20the\x20first\x20message\x20when\x20offline','fork','KEANs','split','kYdKE','Multiple\x20duplicate\x20acked\x20publishes\x20received\x20for\x20messageId\x20','packetsend','LRtei','should','end-of-stream','stream','zfeCl','kLJtJ','SsyOc','SBELE','ZtnDL','world','idBAl','IRqFf','TuyEI','lgfeC','lqekI','zaVeL','12RNJQpU','WONpK','eIwfk','should\x20not\x20throw\x20an\x20error\x20if\x20packet\x27s\x20messageId\x20is\x20not\x20found\x20when\x20receiving\x20a\x20pubrel\x20packet','ujEQN','bhISN','0|3|6|4|2|5|1','MqttClient','end','connect','WQfKf','TKWUI','tahfb','VyyBt','vliTD','ZldNa','iOLhU','oaDtw','jXTSz','yjNYq','yfKpj','APhkR','connack','qos','Nvrsd','IqrDz','should\x20increment\x20the\x20message\x20id','rHAPp','XVCOB','close','MEuts','lUJBl','Multiple\x20duplicate\x20acked\x20subscriptions\x20received\x20for\x20messageId\x20','connection','DHEyH','oIYbe','vViRV','join','dugNW','client','jaTIK','wRyuS','JJmoZ','IJGTk','IGKfC','BbXZr','tcfXo','hello','pubcomp','./abstract_client','dRJTE','vlwfQ','puback','YPABK','unsubscribe','fGwjD','CbHDG','error','vQNCb','KfzVN','GdZBg','server_process.js','jCXpC','ktjrg','should\x20allow\x20instantiation\x20of\x20MqttClient\x20without\x20the\x20\x27new\x27\x20operator','vjlha','esaRJ','length','JtZHG','rnCSH','ioygo','AYDSB','timeout','should\x20reconnect\x20if\x20a\x20connack\x20is\x20not\x20received\x20in\x20an\x20interval'];_0x8bd6=function(){return _0x510978;};return _0x8bd6();}var _0x4c9b79=_0x4a0d;(function(_0x348701,_0x5ad26c){var _0x23cefc=_0x4a0d,_0x1debae=_0x348701();while(!![]){try{var _0x33d0ea=-parseInt(_0x23cefc(0x1dd))/0x1+-parseInt(_0x23cefc(0x1e5))/0x2+parseInt(_0x23cefc(0x1ac))/0x3*(parseInt(_0x23cefc(0x166))/0x4)+parseInt(_0x23cefc(0x19e))/0x5+parseInt(_0x23cefc(0x1fd))/0x6*(-parseInt(_0x23cefc(0x1b9))/0x7)+-parseInt(_0x23cefc(0x1e2))/0x8+parseInt(_0x23cefc(0x189))/0x9;if(_0x33d0ea===_0x5ad26c)break;else _0x1debae['push'](_0x1debae['shift']());}catch(_0x1caff0){_0x1debae['push'](_0x1debae['shift']());}}}(_0x8bd6,0x54b31));var mqtt=require('..'),should=require(_0x4c9b79(0x1ee)),fork=require('child_process')[_0x4c9b79(0x1e7)],path=require('path'),abstractClientTests=require(_0x4c9b79(0x149)),net=require('net'),eos=require(_0x4c9b79(0x1ef)),Connection=require(_0x4c9b79(0x18f)),Server=require(_0x4c9b79(0x1b5)),port=0x2694,server;function buildServer(){var _0x55d966=_0x4c9b79,_0x3376b2={'vQNCb':_0x55d966(0x18e),'TuyEI':function(_0x2fad1d,_0xd5a976){return _0x2fad1d!==_0xd5a976;},'ktjrg':'Multiple\x20duplicate\x20acked\x20subscriptions\x20received\x20for\x20messageId\x20','zFQpy':_0x55d966(0x206),'airtp':_0x55d966(0x178),'KjRhe':_0x55d966(0x19b),'IRqFf':_0x55d966(0x14e),'pyLZD':'pingreq'};return new Server(function(_0x278456){var _0x68a668=_0x55d966,_0x1a9ca0={'nBxKH':function(_0x167a34,_0x2e8ea4){var _0x58b8b0=_0x4a0d;return _0x3376b2[_0x58b8b0(0x1f9)](_0x167a34,_0x2e8ea4);},'yfKpj':_0x3376b2[_0x68a668(0x157)],'zWJmC':function(_0x48f455,_0x4e59de){return _0x48f455===_0x4e59de;}};_0x278456['on'](_0x3376b2['zFQpy'],function(_0x414a47){var _0x2624c6=_0x68a668;_0x414a47[_0x2624c6(0x174)]===_0x3376b2[_0x2624c6(0x152)]?_0x278456[_0x2624c6(0x213)]({'returnCode':0x2}):_0x278456[_0x2624c6(0x213)]({'returnCode':0x0});}),_0x278456['on'](_0x3376b2[_0x68a668(0x1b7)],function(_0x4a7e4a){setImmediate(function(){var _0x2d6616=_0x4a0d;switch(_0x4a7e4a[_0x2d6616(0x12f)]){case 0x0:break;case 0x1:_0x278456[_0x2d6616(0x14c)](_0x4a7e4a);break;case 0x2:_0x278456['pubrec'](_0x4a7e4a);break;}});}),_0x278456['on']('pubrel',function(_0x32b9d7){var _0x32463d=_0x68a668;_0x1a9ca0[_0x32463d(0x17c)](_0x32463d(0x163),_0x32463d(0x163))?_0x376eb1[_0x32463d(0x186)](_0x18932d):_0x278456[_0x32463d(0x148)](_0x32b9d7);}),_0x278456['on'](_0x68a668(0x1e4),function(_0x3bbe1e){var _0xfd05fc=_0x68a668;_0x278456[_0xfd05fc(0x186)](_0x3bbe1e);}),_0x278456['on'](_0x68a668(0x148),function(){}),_0x278456['on'](_0x3376b2['KjRhe'],function(_0x1f1226){var _0xfee4f8=_0x68a668;_0x278456[_0xfee4f8(0x1d4)]({'messageId':_0x1f1226[_0xfee4f8(0x1d6)],'granted':_0x1f1226[_0xfee4f8(0x19f)][_0xfee4f8(0x1a0)](function(_0x199739){var _0x24fae6=_0xfee4f8;return _0x199739[_0x24fae6(0x12f)];})});}),_0x278456['on'](_0x3376b2[_0x68a668(0x1f8)],function(_0x1e0682){var _0x2de92c=_0x68a668;_0x278456[_0x2de92c(0x18d)](_0x1e0682);}),_0x278456['on'](_0x3376b2['pyLZD'],function(){var _0x2a9562=_0x68a668,_0x5943f4={'VyyBt':function(_0x438e33,_0x261bd4){return _0x438e33+_0x261bd4;},'nFuAL':_0x1a9ca0[_0x2a9562(0x211)]};_0x1a9ca0[_0x2a9562(0x16b)](_0x2a9562(0x15f),_0x2a9562(0x15f))?_0x278456[_0x2a9562(0x182)]():(!_0x5c02be[_0x3d6c22[_0x2a9562(0x1d6)]]&&(_0x58a5c2[_0x4cfcd5[_0x2a9562(0x1d6)]]=0x0),_0x13e751[_0x3bc2c8[_0x2a9562(0x1d6)]]++,_0x4ad1fa[_0x2954b5[_0x2a9562(0x1d6)]]>0x1&&(_0x486f59(new _0x4fa5f4(_0x5943f4[_0x2a9562(0x20a)](_0x5943f4['nFuAL'],_0x534cf5[_0x2a9562(0x1d6)]))),_0x405174[_0x2a9562(0x205)](!![]),_0x2439d3[_0x2a9562(0x1e1)](),_0x2985b3[_0x2a9562(0x1e1)]()),_0x18353f[_0x2a9562(0x1d4)]({'messageId':_0xcd5510['messageId'],'granted':_0x4a7e4e['subscriptions'][_0x2a9562(0x1a0)](function(_0x2bdde3){return _0x2bdde3['qos'];})}));});});}server=buildServer()[_0x4c9b79(0x16d)](port),describe(_0x4c9b79(0x204),function(){var _0x328d68=_0x4c9b79,_0x26bf64={'WQfKf':_0x328d68(0x16c),'sBhFx':_0x328d68(0x1c0),'GdZBg':function(_0x196e4a,_0x5e55c2){return _0x196e4a(_0x5e55c2);},'AqjmA':function(_0x14b841,_0xdd17fa){return _0x14b841===_0xdd17fa;},'esaRJ':_0x328d68(0x14f),'vwzOF':_0x328d68(0x1a7),'umPFy':_0x328d68(0x1f2),'yEKVE':_0x328d68(0x185),'tmcJH':_0x328d68(0x1dc),'JaPov':function(_0x4b1f18,_0x5f44fd){return _0x4b1f18!==_0x5f44fd;},'VAcmH':function(_0x11b3bf,_0x6ceb7,_0x3c8001){return _0x11b3bf(_0x6ceb7,_0x3c8001);},'OnPNg':function(_0x3557c3,_0xe56b34,_0x58c24b){return _0x3557c3(_0xe56b34,_0x58c24b);},'xgunO':_0x328d68(0x200),'XgUDi':function(_0x558974){return _0x558974();},'gECXm':_0x328d68(0x155),'bhISN':_0x328d68(0x206),'RIzla':_0x328d68(0x1c6),'Nvrsd':function(_0x54c787,_0x40446b){return _0x54c787+_0x40446b;},'XOcYt':'listening','XecSD':function(_0x458b65,_0x1c8f9e){return _0x458b65!==_0x1c8f9e;},'qRAZd':_0x328d68(0x1da),'KCopa':_0x328d68(0x164),'jCXpC':_0x328d68(0x1cb),'rHAPp':function(_0x4bdccc,_0x826d90){return _0x4bdccc(_0x826d90);},'ujEQN':function(_0x3da343,_0x568da9){return _0x3da343+_0x568da9;},'rPljT':_0x328d68(0x135),'waUvp':function(_0x1fa242,_0x455b73){return _0x1fa242===_0x455b73;},'KfzVN':'packetsend','eIwfk':function(_0x31eaae,_0x3a7522){return _0x31eaae/_0x3a7522;},'IJGTk':_0x328d68(0x1ce),'jLZqK':_0x328d68(0x1aa),'kRncg':function(_0x3afa53,_0x593a41){return _0x3afa53+_0x593a41;},'DDIbY':_0x328d68(0x139),'zfeCl':_0x328d68(0x147),'lZNIO':function(_0xa23e67,_0x5b1f3e){return _0xa23e67===_0x5b1f3e;},'BnrZq':_0x328d68(0x1f6),'TKWUI':_0x328d68(0x151),'cZETM':_0x328d68(0x138),'ioygo':_0x328d68(0x145),'bMzsL':_0x328d68(0x1af),'lqekI':_0x328d68(0x178),'MErde':function(_0x2c945b,_0x424012,_0x4d4e81){return _0x2c945b(_0x424012,_0x4d4e81);},'pzWVs':_0x328d68(0x1e6),'evdap':_0x328d68(0x165),'HQplM':_0x328d68(0x1a2),'wPgKL':_0x328d68(0x198),'CbHDG':function(_0x439630,_0x501bc1,_0x37b7af){return _0x439630(_0x501bc1,_0x37b7af);},'tiHdt':'creating','QEQKH':'reconnecting'};_0x26bf64[_0x328d68(0x150)](describe,_0x26bf64[_0x328d68(0x197)],function(){var _0x1652ab=_0x328d68,_0x3eef80={'yDzAZ':_0x1652ab(0x14d),'zDFIW':function(_0xd10980,_0x3d704c){return _0xd10980!==_0x3d704c;},'QGwzE':_0x26bf64[_0x1652ab(0x207)],'zqFZs':_0x26bf64['sBhFx'],'ElryG':function(_0xcd7121){return _0xcd7121();},'yjNYq':function(_0x1548f6,_0x17a262){var _0x3514a7=_0x1652ab;return _0x26bf64[_0x3514a7(0x154)](_0x1548f6,_0x17a262);},'wUefW':'Object\x20#<Object>\x20has\x20no\x20method\x20\x27_setupStream\x27'};_0x26bf64[_0x1652ab(0x1e3)](_0x26bf64[_0x1652ab(0x15a)],_0x1652ab(0x14f))?it(_0x1652ab(0x158),function(_0x21950d){var _0x3fa07c=_0x1652ab;_0x3eef80[_0x3fa07c(0x210)](should,function(){var _0x56bcf2=_0x3fa07c,_0x68ff82={'vViRV':_0x56bcf2(0x1c0)};if('MQpAT'!==_0x3eef80['yDzAZ']){var _0x58403a;try{_0x58403a=mqtt[_0x56bcf2(0x204)](function(){var _0x4fd4d7=_0x56bcf2;throw Error(_0x68ff82[_0x4fd4d7(0x13c)]);},{}),_0x58403a[_0x56bcf2(0x205)]();}catch(_0x533e32){if(_0x3eef80[_0x56bcf2(0x162)](_0x56bcf2(0x16c),_0x3eef80['QGwzE']))_0x24a146++,_0x21b3af['destroy']();else{if(_0x533e32['message']!==_0x3eef80[_0x56bcf2(0x19d)])throw _0x533e32;_0x3eef80[_0x56bcf2(0x1ba)](_0x21950d);}}}else _0x33728b[_0x56bcf2(0x1e1)]();})[_0x3fa07c(0x187)]['throw'](_0x3eef80[_0x3fa07c(0x1c9)]);}):(_0x10c659(new _0x1ac9f8('Multiple\x20duplicate\x20acked\x20publishes\x20received\x20for\x20messageId\x20'+_0x5d862b[_0x1652ab(0x1d6)])),_0x16da41[_0x1652ab(0x205)](!![]),_0xea518c[_0x1652ab(0x1e1)](),_0x1606a4[_0x1652ab(0x1e1)]());});var _0x4de8eb={'protocol':'mqtt','port':port};abstractClientTests(server,_0x4de8eb),describe('message\x20ids',function(){var _0x11d69a=_0x328d68;_0x26bf64[_0x11d69a(0x1e0)](_0x11d69a(0x1f5),_0x11d69a(0x1f5))?_0x5182cc[_0x11d69a(0x213)]({'returnCode':0x2}):(it(_0x11d69a(0x132),function(){var _0x5c94dc=_0x11d69a,_0x2fb615=mqtt[_0x5c94dc(0x206)](_0x4de8eb),_0x369258=_0x2fb615[_0x5c94dc(0x1bf)]();_0x2fb615[_0x5c94dc(0x1bf)]()['should'][_0x5c94dc(0x173)](_0x369258+0x1),_0x2fb615[_0x5c94dc(0x205)]();}),_0x26bf64[_0x11d69a(0x176)](it,_0x11d69a(0x1cd),function(){var _0x37d288=_0x11d69a,_0x49a4e5=mqtt['connect'](_0x4de8eb);_0x49a4e5[_0x37d288(0x179)]=0xffff,_0x49a4e5[_0x37d288(0x1bf)]()['should'][_0x37d288(0x173)](0xffff),_0x49a4e5[_0x37d288(0x1bf)]()[_0x37d288(0x1ee)]['equal'](0x1),_0x49a4e5['end']();}),_0x26bf64[_0x11d69a(0x176)](it,'should\x20return\x2065535\x20for\x20last\x20message\x20id\x20once\x20the\x20interal\x20counter\x20reached\x20limit',function(){var _0x53b829=_0x11d69a,_0x596cd7=_0x53b829(0x203)[_0x53b829(0x1e9)]('|'),_0x580f7f=0x0;while(!![]){switch(_0x596cd7[_0x580f7f++]){case'0':var _0x34fd21=mqtt['connect'](_0x4de8eb);continue;case'1':_0x34fd21[_0x53b829(0x205)]();continue;case'2':_0x34fd21[_0x53b829(0x1bf)]()[_0x53b829(0x1ee)][_0x53b829(0x173)](0x1);continue;case'3':_0x34fd21['nextId']=0xffff;continue;case'4':_0x34fd21[_0x53b829(0x1a9)]()[_0x53b829(0x1ee)][_0x53b829(0x173)](0xffff);continue;case'5':_0x34fd21[_0x53b829(0x1a9)]()[_0x53b829(0x1ee)][_0x53b829(0x173)](0x1);continue;case'6':_0x34fd21[_0x53b829(0x1bf)]()[_0x53b829(0x1ee)][_0x53b829(0x173)](0xffff);continue;}break;}}),_0x26bf64[_0x11d69a(0x195)](it,_0x26bf64[_0x11d69a(0x1d8)],function(_0x4e9851){var _0x42cf50=_0x11d69a,_0xfe4be1={'WONpK':function(_0x4a66e1,_0x3f2356){return _0x4a66e1(_0x3f2356);},'LLeCg':_0x26bf64['sBhFx'],'QLOoX':function(_0x30c545,_0x26282e){return _0x30c545!==_0x26282e;},'RzOwm':_0x26bf64[_0x42cf50(0x1a5)],'JJmoZ':_0x42cf50(0x206),'XVCOB':_0x26bf64[_0x42cf50(0x1db)],'FoSJD':_0x26bf64['yEKVE'],'LvlAR':_0x42cf50(0x1ec)};if('OyPXZ'===_0x26bf64[_0x42cf50(0x18b)]){var _0x11164e=new Server(function(_0x15e533){var _0x214ceb=_0x42cf50,_0x3ef7b5={'RQpOQ':function(_0x4daaaf,_0x1113e8){var _0x34b3ec=_0x4a0d;return _0xfe4be1[_0x34b3ec(0x1fe)](_0x4daaaf,_0x1113e8);},'RPNno':_0xfe4be1[_0x214ceb(0x175)]};if(_0xfe4be1[_0x214ceb(0x17b)](_0xfe4be1[_0x214ceb(0x16f)],_0x214ceb(0x1a4)))_0x15e533['on'](_0xfe4be1[_0x214ceb(0x142)],function(_0x20dab3){var _0x4b6fda=_0x214ceb;_0x15e533[_0x4b6fda(0x213)]({'returnCode':0x0}),_0x15e533['pubrel']({'messageId':Math['floor'](Math[_0x4b6fda(0x1b0)]()*0x2328)+0x3e8});});else throw _0x3ef7b5['RQpOQ'](_0x57c355,_0x3ef7b5['RPNno']);});_0x11164e['listen'](port+0x31,function(){var _0xa2ca73=_0x42cf50,_0x7475fe={'IqrDz':function(_0x8b76c5){return _0x8b76c5();}},_0x532e88=mqtt[_0xa2ca73(0x206)]({'port':port+0x31,'host':_0xfe4be1[_0xa2ca73(0x18a)]});_0x532e88['on'](_0xfe4be1['LvlAR'],function(_0x45c426){var _0x53c127=_0xa2ca73;_0x53c127(0x141)!==_0x53c127(0x1ca)?_0x45c426[_0x53c127(0x168)]===_0x53c127(0x148)&&(_0xfe4be1[_0x53c127(0x134)]!==_0x53c127(0x20e)?(_0x532e88['end'](),_0x11164e['close'](),_0x4e9851()):_0x4deb06[_0x53c127(0x1d4)]({'messageId':_0x1434bb[_0x53c127(0x1d6)],'granted':_0x50c555['subscriptions'][_0x53c127(0x1a0)](function(_0x1d923d){var _0x1f745c=_0x53c127;return _0x1d923d[_0x1f745c(0x12f)];})})):(_0x7475fe[_0x53c127(0x131)](_0x41c89a),_0x4e722c[_0x53c127(0x205)](!![]),_0xf21fe3[_0x53c127(0x1e1)](),_0x5c9a76['close']());});});}else throw _0x51526b;}));}),describe(_0x26bf64['QEQKH'],function(){var _0x991d4a=_0x328d68,_0x3212fc={'bWDhG':_0x26bf64['rPljT'],'idBAl':function(_0x1a6aa9,_0x31f24d,_0x1ce225){return _0x1a6aa9(_0x31f24d,_0x1ce225);},'wycbd':function(_0x959d6d,_0x19b500){var _0x3260b4=_0x4a0d;return _0x26bf64[_0x3260b4(0x1c8)](_0x959d6d,_0x19b500);},'QkoYp':function(_0x4f3642,_0x148a44){return _0x4f3642+_0x148a44;},'CqtCZ':_0x26bf64[_0x991d4a(0x153)],'kYdKE':function(_0xc66e0a,_0x2ef11b){var _0xd46178=_0x991d4a;return _0x26bf64[_0xd46178(0x1ff)](_0xc66e0a,_0x2ef11b);},'crKgQ':_0x26bf64[_0x991d4a(0x143)],'bFFjr':_0x26bf64[_0x991d4a(0x17f)],'cGeFo':_0x991d4a(0x16a),'GOApu':function(_0x1e9411,_0x45e15e){var _0x2363b1=_0x991d4a;return _0x26bf64[_0x2363b1(0x167)](_0x1e9411,_0x45e15e);},'Rvwxg':_0x26bf64['DDIbY'],'zaVeL':_0x26bf64[_0x991d4a(0x1c5)],'iOLhU':_0x26bf64[_0x991d4a(0x1f1)],'ylBAQ':function(_0x2ee51b,_0x5a8393){var _0x167932=_0x991d4a;return _0x26bf64[_0x167932(0x1c7)](_0x2ee51b,_0x5a8393);},'vlwfQ':_0x26bf64[_0x991d4a(0x1bc)],'WyFcW':_0x26bf64[_0x991d4a(0x1d3)],'BIfAg':function(_0x2d1db5,_0xa0ff90){var _0x1b6b92=_0x991d4a;return _0x26bf64[_0x1b6b92(0x201)](_0x2d1db5,_0xa0ff90);},'hzkCA':_0x26bf64[_0x991d4a(0x208)],'IPSQt':_0x26bf64[_0x991d4a(0x1b6)],'mMOgW':_0x26bf64[_0x991d4a(0x15e)],'SBELE':'client','MrHVe':_0x991d4a(0x1c2),'IGKfC':_0x991d4a(0x206),'dRJTE':_0x26bf64[_0x991d4a(0x1c1)],'glKIp':_0x26bf64[_0x991d4a(0x1fb)]};_0x26bf64['OnPNg'](it,_0x991d4a(0x1df),function(_0x51fd03){var _0x335546=_0x991d4a,_0x34e9ce={'vjlha':_0x335546(0x209),'APhkR':function(_0x5051cf){var _0x5e41c3=_0x335546;return _0x26bf64[_0x5e41c3(0x1c3)](_0x5051cf);}};this[_0x335546(0x160)](0x3a98);var _0x423333=fork(path[_0x335546(0x13d)](__dirname,_0x335546(0x180),_0x26bf64[_0x335546(0x1c4)])),_0x3a20e6=mqtt[_0x335546(0x206)]({'port':0xbb8,'host':_0x26bf64[_0x335546(0x1bc)],'keepalive':0x1});_0x3a20e6[_0x335546(0x17e)](_0x26bf64[_0x335546(0x202)],function(){var _0x3f481f=_0x335546;_0x423333[_0x3f481f(0x184)](_0x3f481f(0x1d5)),_0x3a20e6[_0x3f481f(0x17e)](_0x3212fc['bWDhG'],function(){var _0x5883e9=_0x3f481f;_0x34e9ce[_0x5883e9(0x159)]!=='tahfb'?_0x51ab37[_0x5883e9(0x135)]():(should['exist'](_0x3a20e6[_0x5883e9(0x191)]),_0x3a20e6[_0x5883e9(0x205)](),_0x34e9ce[_0x5883e9(0x212)](_0x51fd03));});});}),it('should\x20reconnect\x20to\x20multiple\x20host-ports\x20combination\x20if\x20servers\x20is\x20passed',function(_0x2de98f){var _0x2417bc=_0x991d4a,_0x3587df={'xeYSx':_0x26bf64[_0x2417bc(0x1ab)],'cXjwb':'client','uLjkW':_0x26bf64['bhISN']};this[_0x2417bc(0x160)](0x3a98);var _0x43f989=_0x26bf64['XgUDi'](buildServer)[_0x2417bc(0x16d)](_0x26bf64['Nvrsd'](port,0x2a));_0x43f989['on'](_0x2417bc(0x13f),function(_0x3c20dc){var _0x1a468a=_0x2417bc;_0x3587df['xeYSx']!=='wpSqp'?(_0x4c792f++,_0x5691db[_0x1a468a(0x1e1)](),_0x3af8d2['removeListener'](_0x1a468a(0x178),_0x25966e)):(_0x3c20dc[_0x1a468a(0x1f0)][_0x1a468a(0x1e1)](),_0x43f989[_0x1a468a(0x135)]());}),_0x43f989['on'](_0x26bf64[_0x2417bc(0x1c5)],function(){var _0x4fb6f9=_0x2417bc,_0x3bbac1={'oIYbe':function(_0x490d76){return _0x490d76();}},_0xa67dcf=mqtt[_0x4fb6f9(0x206)]({'servers':[{'port':port+0x2a,'host':_0x4fb6f9(0x185)},{'port':port,'host':_0x4fb6f9(0x185)}],'keepalive':0x32});server['once'](_0x3587df[_0x4fb6f9(0x1b1)],function(){var _0x4be96f=_0x4fb6f9;_0xa67dcf[_0x4be96f(0x205)](),_0x3bbac1[_0x4be96f(0x13b)](_0x2de98f);}),_0xa67dcf['once'](_0x3587df[_0x4fb6f9(0x1be)],function(){var _0x3589e8=_0x4fb6f9;_0xa67dcf[_0x3589e8(0x1f0)][_0x3589e8(0x1e1)]();});});}),it(_0x991d4a(0x161),function(_0x4e29b4){var _0x59141f=_0x991d4a,_0x2d6148={'rnCSH':_0x59141f(0x13f)};if(_0x26bf64[_0x59141f(0x19a)](_0x59141f(0x1fa),_0x26bf64[_0x59141f(0x1a3)])){this[_0x59141f(0x160)](0x7d0);var _0x568cd7=net['createServer']()[_0x59141f(0x16d)](port+0x2b);_0x568cd7['on']('connection',function(_0x515985){var _0x4d3b19=_0x59141f;_0x3212fc[_0x4d3b19(0x1f7)](eos,_0x515985,function(){_0x568cd7['close']();});}),_0x568cd7['on']('listening',function(){var _0x58d02f=_0x59141f,_0x26e758=mqtt['connect']({'servers':[{'port':port+0x2b,'host':_0x58d02f(0x1d7)},{'port':port,'host':_0x58d02f(0x185)}],'connectTimeout':0x1f4});server[_0x58d02f(0x17e)](_0x2d6148[_0x58d02f(0x15d)],function(){var _0x37cae1=_0x58d02f;_0x26e758[_0x37cae1(0x205)](),_0x4e29b4();}),_0x26e758[_0x58d02f(0x17e)](_0x58d02f(0x206),function(){var _0x246eac=_0x58d02f;_0x26e758['stream'][_0x246eac(0x1e1)]();});});}else{var _0x3b863d={'ZldNa':function(_0x3a9b45,_0x32dfea){var _0x25b1c2=_0x59141f;return _0x3212fc[_0x25b1c2(0x1a1)](_0x3a9b45,_0x32dfea);}},_0x25a66a=_0x253306[_0x59141f(0x206)]({'port':_0x3212fc[_0x59141f(0x170)](_0x1d1abb,0x31),'host':'localhost'});_0x25a66a['on'](_0x3212fc[_0x59141f(0x1cc)],function(_0x3eefe9){var _0x542752=_0x59141f;_0x3b863d[_0x542752(0x20c)](_0x3eefe9[_0x542752(0x168)],_0x542752(0x148))&&(_0x25a66a[_0x542752(0x205)](),_0x4f1f76['close'](),_0x2009da());});}}),_0x26bf64[_0x991d4a(0x199)](it,'shoud\x20not\x20be\x20cleared\x20by\x20the\x20connack\x20timer',function(_0x5ba285){var _0x47b9d4=_0x991d4a;if(_0x3212fc['bFFjr']!==_0x3212fc[_0x47b9d4(0x1bb)]){this['timeout'](0xfa0);var _0x3bbff0=net['createServer']()[_0x47b9d4(0x16d)](_0x3212fc['GOApu'](port,0x2c));_0x3bbff0['on'](_0x3212fc[_0x47b9d4(0x1d0)],function(_0x593574){var _0x50852c=_0x47b9d4;_0x593574[_0x50852c(0x1e1)]();}),_0x3bbff0['once'](_0x3212fc[_0x47b9d4(0x1fc)],function(){var _0x569c00=_0x47b9d4,_0x3bced4={'DYOfF':function(_0x367ec9){return _0x367ec9();}},_0x43e136=0x0,_0x272e78=0x3e8,_0x45480c=0x64,_0x1e4f88=Math[_0x569c00(0x1cf)](_0x3212fc[_0x569c00(0x1ea)](_0x272e78,_0x45480c)),_0x6c5cfb=mqtt[_0x569c00(0x206)]({'port':_0x3212fc[_0x569c00(0x170)](port,0x2c),'host':_0x569c00(0x185),'connectTimeout':_0x272e78,'reconnectPeriod':_0x45480c});_0x6c5cfb['on'](_0x3212fc['crKgQ'],function(){var _0x2f6195=_0x569c00;_0x43e136++,_0x43e136>=_0x1e4f88&&(_0x6c5cfb[_0x2f6195(0x205)](),_0x3bced4[_0x2f6195(0x18c)](_0x5ba285));});});}else _0x4aefb5[_0x104481[_0x47b9d4(0x1d6)]]=0x0;}),it(_0x26bf64[_0x991d4a(0x1b3)],function(_0x548dd3){var _0x391e04=_0x991d4a,_0x959290={'Fydqq':_0x3212fc[_0x391e04(0x14b)],'lUJBl':_0x3212fc[_0x391e04(0x20d)],'zRsdJ':_0x3212fc[_0x391e04(0x1b8)]};this['timeout'](0x9c4);var _0x5c09ff=buildServer()[_0x391e04(0x16d)](_0x3212fc['BIfAg'](port,0x2d)),_0x151fc4=mqtt[_0x391e04(0x206)]({'port':port+0x2d,'host':_0x3212fc[_0x391e04(0x14b)],'connectTimeout':0x15e,'reconnectPeriod':0x12c});_0x5c09ff['on'](_0x391e04(0x13f),function(_0x11bf4b){var _0x57d878=_0x391e04;_0x151fc4[_0x57d878(0x178)](_0x3212fc['iOLhU'],_0x57d878(0x1f6),{'qos':0x1},function(){var _0x5a89c6=_0x57d878,_0x30bfea={'DpeVr':function(_0x4fb253){return _0x4fb253();},'PiuMl':_0x959290['Fydqq'],'jwJAx':function(_0x348dfd,_0x1dd2b7,_0xc5630d){return _0x348dfd(_0x1dd2b7,_0xc5630d);}};if(_0x5a89c6(0x16e)===_0x5a89c6(0x136)){var _0x4c5c19=_0x5e4ee7[_0x5a89c6(0x206)]({'port':_0x30af62,'host':_0x30bfea['PiuMl'],'connectTimeout':0x15e,'reconnectPeriod':0x12c});_0x4c5c19['subscribe']('hello'),_0x30bfea['jwJAx'](_0x273bc4,function(){var _0x2fdf6e=_0x5a89c6;_0x4c5c19[_0x2fdf6e(0x193)][_0x2fdf6e(0x15b)][_0x2fdf6e(0x1ee)][_0x2fdf6e(0x173)](0x1),_0x4c5c19[_0x2fdf6e(0x205)](),_0x30bfea[_0x2fdf6e(0x183)](_0x3c0605);},0x3e8);}else _0x11bf4b['destroy'](),_0x5c09ff[_0x5a89c6(0x135)](),_0x151fc4[_0x5a89c6(0x178)](_0x959290[_0x5a89c6(0x137)],_0x959290[_0x5a89c6(0x169)],{'qos':0x1});});}),_0x3212fc[_0x391e04(0x1f7)](setTimeout,function(){var _0x555db7=_0x391e04;_0x3212fc[_0x555db7(0x17d)](_0x151fc4['queue']['length'],0x0)?(_0x151fc4[_0x555db7(0x205)](!![]),_0x548dd3()):_0x151fc4[_0x555db7(0x205)](!![]);},0x7d0);}),it(_0x26bf64[_0x991d4a(0x181)],function(_0x21a856){var _0x40ad8a=_0x991d4a,_0x12ef6c={'dHlEX':_0x3212fc[_0x40ad8a(0x171)],'ToaAL':function(_0x1eeef6,_0xa65f4){return _0x1eeef6===_0xa65f4;},'dugNW':function(_0x59cad0,_0x16c014){return _0x59cad0>_0x16c014;},'aXgGC':function(_0x156d1e,_0x4e7125){return _0x156d1e(_0x4e7125);},'jXTSz':_0x3212fc[_0x40ad8a(0x1a8)]};if(_0x3212fc[_0x40ad8a(0x1d9)]===_0x3212fc[_0x40ad8a(0x1d9)]){this[_0x40ad8a(0x160)](0xdac);var _0x200f48=0x4,_0x74823=0x0,_0x208f9a={},_0x23e29=mqtt[_0x40ad8a(0x206)]({'port':port+0x2e,'host':_0x3212fc[_0x40ad8a(0x14b)],'connectTimeout':0x15e,'reconnectPeriod':0x12c}),_0x3b222f=new Server(function(_0x511338){var _0x4971be=_0x40ad8a;_0x511338['on'](_0x12ef6c[_0x4971be(0x17a)],function(){}),_0x511338['on'](_0x4971be(0x206),function(_0x1a5ab4){var _0x3ba466=_0x4971be;_0x1a5ab4[_0x3ba466(0x174)]===_0x3ba466(0x18e)?_0x511338[_0x3ba466(0x213)]({'returnCode':0x2}):_0x511338[_0x3ba466(0x213)]({'returnCode':0x0});});})['listen'](port+0x2e);_0x3b222f['on'](_0x3212fc[_0x40ad8a(0x1f4)],function(_0x4c3a73){var _0x58fcb2=_0x40ad8a;_0x23e29[_0x58fcb2(0x19b)]('topic',function(){var _0x49e99d=_0x58fcb2;_0x21a856(),_0x23e29[_0x49e99d(0x205)](!![]),_0x4c3a73['destroy'](),_0x3b222f[_0x49e99d(0x135)]();}),_0x4c3a73['on'](_0x58fcb2(0x19b),function(_0x5063eb){var _0x3ed535=_0x58fcb2,_0x136c40={'LRtei':function(_0x2b7f80,_0x345e63){var _0x22d281=_0x4a0d;return _0x12ef6c[_0x22d281(0x177)](_0x2b7f80,_0x345e63);}};_0x74823<_0x200f48?(_0x74823++,_0x4c3a73['destroy']()):(!_0x208f9a[_0x5063eb[_0x3ed535(0x1d6)]]&&(_0x208f9a[_0x5063eb[_0x3ed535(0x1d6)]]=0x0),_0x208f9a[_0x5063eb[_0x3ed535(0x1d6)]]++,_0x12ef6c[_0x3ed535(0x13e)](_0x208f9a[_0x5063eb['messageId']],0x1)&&(_0x12ef6c[_0x3ed535(0x1b2)](_0x21a856,new Error(_0x12ef6c[_0x3ed535(0x20f)]+_0x5063eb[_0x3ed535(0x1d6)])),_0x23e29[_0x3ed535(0x205)](!![]),_0x4c3a73[_0x3ed535(0x1e1)](),_0x3b222f[_0x3ed535(0x1e1)]()),_0x4c3a73[_0x3ed535(0x1d4)]({'messageId':_0x5063eb[_0x3ed535(0x1d6)],'granted':_0x5063eb[_0x3ed535(0x19f)][_0x3ed535(0x1a0)](function(_0x43b37b){var _0x706203=_0x3ed535;if(_0x136c40[_0x706203(0x1ed)](_0x706203(0x1b4),_0x706203(0x1b4)))return _0x43b37b[_0x706203(0x12f)];else _0x3eaab6[_0x706203(0x182)]();})}));});});}else _0x172da1['connack']({'returnCode':0x0});}),it(_0x26bf64['HQplM'],function(_0x360bba){var _0x33104e=_0x991d4a,_0x2da945={'bXpoU':_0x26bf64[_0x33104e(0x190)]};this[_0x33104e(0x160)](0x9c4);var _0x477a1=_0x26bf64[_0x33104e(0x130)](port,0x30),_0x380c23=net[_0x33104e(0x1bd)](function(_0x4c7b9d){var _0x4751de=_0x33104e,_0x1ecf32=new Connection(_0x4c7b9d);_0x1ecf32['on'](_0x3212fc['hzkCA'],function(){}),_0x1ecf32['on'](_0x4751de(0x206),function(_0x1c7e71){var _0x55d6c=_0x4751de,_0x14629a={'KEANs':'break'};_0x55d6c(0x194)!==_0x2da945[_0x55d6c(0x1ad)]?(_0x1ecf32[_0x55d6c(0x213)]({'returnCode':0x0}),_0x1ecf32[_0x55d6c(0x1e1)]()):(_0x2365e7=_0x2e200a['MqttClient'](function(){var _0x154ba4=_0x55d6c;throw _0x5c3b4e(_0x14629a[_0x154ba4(0x1e8)]);},{}),_0x31d362[_0x55d6c(0x205)]());});});_0x380c23[_0x33104e(0x16d)](_0x477a1,function(){var _0x46c8c5=_0x33104e,_0x14e6a0=mqtt[_0x46c8c5(0x206)]({'port':_0x477a1,'host':_0x46c8c5(0x185),'connectTimeout':0x15e,'reconnectPeriod':0x12c});_0x14e6a0[_0x46c8c5(0x19b)]('hello'),setTimeout(function(){var _0x2ef5b9=_0x46c8c5;_0x14e6a0[_0x2ef5b9(0x193)][_0x2ef5b9(0x15b)][_0x2ef5b9(0x1ee)][_0x2ef5b9(0x173)](0x1),_0x14e6a0[_0x2ef5b9(0x205)](),_0x360bba();},0x3e8);});}),it(_0x26bf64[_0x991d4a(0x1d2)],function(_0x314dbb){var _0x12a5b4=_0x991d4a,_0x11a608={'YncJd':function(_0x1fd190,_0x4c11d2){return _0x1fd190===_0x4c11d2;},'OwfqJ':_0x26bf64[_0x12a5b4(0x156)],'SsyOc':'PmODH','SMAYp':_0x12a5b4(0x178),'kFgZS':_0x12a5b4(0x192),'JtZHG':'wshoQ','lNSoy':function(_0x3af43d,_0x5cdb0b){var _0x10a93b=_0x12a5b4;return _0x26bf64[_0x10a93b(0x133)](_0x3af43d,_0x5cdb0b);}};this['timeout'](0xdac);var _0x102e3c=0x4,_0x5859f4=0x0,_0x430831={},_0x823459=mqtt['connect']({'port':_0x26bf64['ujEQN'](port,0x2f),'host':'localhost','connectTimeout':0x15e,'reconnectPeriod':0x12c}),_0x5cfba3=net[_0x12a5b4(0x1bd)](function(_0x2c9ed5){var _0x2eab07=_0x12a5b4,_0x2ee269=_0x3212fc['MrHVe'][_0x2eab07(0x1e9)]('|'),_0x1d1417=0x0;while(!![]){switch(_0x2ee269[_0x1d1417++]){case'0':this[_0x2eab07(0x196)](_0x3212fc['SBELE'],_0x2bd84f);continue;case'1':_0x2bd84f['on'](_0x3212fc[_0x2eab07(0x144)],function(_0x35b738){var _0x266717=_0x2eab07;_0x4ddda6[_0x266717(0x13a)](_0x35b738[_0x266717(0x174)],_0x4ddda6[_0x266717(0x20b)])?_0x2bd84f[_0x266717(0x213)]({'returnCode':0x2}):_0x2bd84f[_0x266717(0x213)]({'returnCode':0x0});});continue;case'2':var _0x2bd84f=new Connection(_0x2c9ed5);continue;case'3':var _0x4ddda6={'DHEyH':function(_0xd917f7,_0xebefec){return _0xd917f7===_0xebefec;},'vliTD':_0x2eab07(0x18e)};continue;case'4':_0x2bd84f['on'](_0x3212fc[_0x2eab07(0x171)],function(){});continue;}break;}})[_0x12a5b4(0x16d)](port+0x2f);_0x5cfba3['on'](_0x12a5b4(0x13f),function(_0x35ca7e){var _0x2edcb6=_0x12a5b4;_0x823459[_0x2edcb6(0x178)](_0x2edcb6(0x172),_0x3212fc[_0x2edcb6(0x14a)],{'qos':0x1},function(){var _0x88b612=_0x2edcb6;_0x314dbb(),_0x823459[_0x88b612(0x205)](!![]),_0x35ca7e[_0x88b612(0x1e1)](),_0x5cfba3['destroy']();}),_0x35ca7e['on'](_0x3212fc[_0x2edcb6(0x1ae)],function _0xc2f288(_0x202a58){var _0x3c134e=_0x2edcb6,_0x181a99={'jaTIK':function(_0x55fe4a,_0x24ebaf){var _0xa2bca9=_0x4a0d;return _0x11a608[_0xa2bca9(0x1d1)](_0x55fe4a,_0x24ebaf);},'tcfXo':_0x3c134e(0x18e)};if(_0x5859f4<_0x102e3c)_0x11a608['YncJd'](_0x11a608[_0x3c134e(0x1de)],_0x11a608[_0x3c134e(0x1f3)])?_0x181a99[_0x3c134e(0x140)](_0x3c0c78[_0x3c134e(0x174)],_0x181a99[_0x3c134e(0x146)])?_0x2c6398['connack']({'returnCode':0x2}):_0x2b7468['connack']({'returnCode':0x0}):(_0x5859f4++,_0x35ca7e[_0x3c134e(0x1e1)](),_0x35ca7e[_0x3c134e(0x188)](_0x11a608[_0x3c134e(0x1a6)],_0xc2f288));else{if('AOqzu'===_0x11a608[_0x3c134e(0x19c)])_0x47c659[_0x3c134e(0x1f0)][_0x3c134e(0x1e1)](),_0x244479[_0x3c134e(0x135)]();else{!_0x430831[_0x202a58[_0x3c134e(0x1d6)]]&&(_0x430831[_0x202a58[_0x3c134e(0x1d6)]]=0x0);_0x430831[_0x202a58[_0x3c134e(0x1d6)]]++;if(_0x430831[_0x202a58[_0x3c134e(0x1d6)]]>0x1){if(_0x11a608[_0x3c134e(0x15c)]===_0x11a608[_0x3c134e(0x15c)])_0x11a608['lNSoy'](_0x314dbb,new Error(_0x3c134e(0x1eb)+_0x202a58[_0x3c134e(0x1d6)])),_0x823459[_0x3c134e(0x205)](!![]),_0x35ca7e[_0x3c134e(0x1e1)](),_0x5cfba3['destroy']();else{var _0xe29faf='6|0|3|1|5|2|4'['split']('|'),_0x3bba75=0x0;while(!![]){switch(_0xe29faf[_0x3bba75++]){case'0':_0x481ab3[_0x3c134e(0x179)]=0xffff;continue;case'1':_0x481ab3[_0x3c134e(0x1a9)]()[_0x3c134e(0x1ee)][_0x3c134e(0x173)](0xffff);continue;case'2':_0x481ab3[_0x3c134e(0x1a9)]()['should']['equal'](0x1);continue;case'3':_0x481ab3['_nextId']()[_0x3c134e(0x1ee)][_0x3c134e(0x173)](0xffff);continue;case'4':_0x481ab3[_0x3c134e(0x205)]();continue;case'5':_0x481ab3[_0x3c134e(0x1bf)]()[_0x3c134e(0x1ee)][_0x3c134e(0x173)](0x1);continue;case'6':var _0x481ab3=_0x44786d[_0x3c134e(0x206)](_0x1b1d14);continue;}break;}}}_0x35ca7e[_0x3c134e(0x14c)](_0x202a58);}}});});});});});