'use strict';function _0x48f0(_0x53048b,_0x41c575){const _0x4a8de2=_0x4a8d();return _0x48f0=function(_0x48f0b1,_0x4177ad){_0x48f0b1=_0x48f0b1-0x136;let _0x5ee19d=_0x4a8de2[_0x48f0b1];return _0x5ee19d;},_0x48f0(_0x53048b,_0x41c575);}const _0x250448=_0x48f0;(function(_0x43557c,_0xf99818){const _0x1b9c68=_0x48f0,_0xd5aa5e=_0x43557c();while(!![]){try{const _0x3954a9=-parseInt(_0x1b9c68(0x1b0))/0x1+parseInt(_0x1b9c68(0x215))/0x2*(-parseInt(_0x1b9c68(0x164))/0x3)+-parseInt(_0x1b9c68(0x1f3))/0x4+-parseInt(_0x1b9c68(0x20a))/0x5*(parseInt(_0x1b9c68(0x181))/0x6)+-parseInt(_0x1b9c68(0x160))/0x7*(parseInt(_0x1b9c68(0x221))/0x8)+-parseInt(_0x1b9c68(0x21e))/0x9*(-parseInt(_0x1b9c68(0x1fb))/0xa)+parseInt(_0x1b9c68(0x161))/0xb*(parseInt(_0x1b9c68(0x259))/0xc);if(_0x3954a9===_0xf99818)break;else _0xd5aa5e['push'](_0xd5aa5e['shift']());}catch(_0x6b9f3a){_0xd5aa5e['push'](_0xd5aa5e['shift']());}}}(_0x4a8d,0xdc25a));const MongoStorageAdapter=require(_0x250448(0x201))['default'],{MongoClient,Collection}=require(_0x250448(0x176)),databaseURI='mongodb://localhost:27017/parseServerMongoAdapterTestDatabase',request=require(_0x250448(0x237)),Config=require('../lib/Config'),TestUtils=require(_0x250448(0x267)),fakeClient={'s':{'options':{'dbName':null}},'db':()=>null};describe_only_db(_0x250448(0x271))('MongoStorageAdapter',()=>{const _0x158db1=_0x250448,_0xb2e801={'YbVgE':_0x158db1(0x156),'zmmVA':function(_0x59a02f,_0x4c4915){return _0x59a02f(_0x4c4915);},'LHUfz':_0x158db1(0x169),'ccBzr':function(_0x3fc1c6,_0x322972){return _0x3fc1c6(_0x322972);},'QtSkZ':function(_0x1aa4f1,_0x1c1b14){return _0x1aa4f1(_0x1c1b14);},'pyxht':function(_0x558cc2,_0x2486c0){return _0x558cc2!==_0x2486c0;},'UGhzY':_0x158db1(0x24e),'kuTUG':function(_0x52e5ad,_0x3e4648,_0x186344){return _0x52e5ad(_0x3e4648,_0x186344);},'FsJuO':_0x158db1(0x222),'piBhp':function(_0x4aa23a,_0x1b1168){return _0x4aa23a(_0x1b1168);},'VtJTW':'abcde','nTDYI':'safe','eJduv':function(_0x32df2a,_0x9e529d){return _0x32df2a instanceof _0x9e529d;},'bntnW':_0x158db1(0x1e1),'SKWmG':_0x158db1(0x27e),'RIWOw':_0x158db1(0x179),'JSmgn':'string','GozLG':_0x158db1(0x251),'qZCrs':_0x158db1(0x247),'GXYvK':_0x158db1(0x1ae),'Vdbij':function(_0x3c40a2,_0x492db1){return _0x3c40a2(_0x492db1);},'jTqSn':_0x158db1(0x157),'iwsJV':_0x158db1(0x14c),'CQpwj':_0x158db1(0x167),'TUSKL':function(_0x334d5d){return _0x334d5d();},'XQAgi':function(_0x3ea35b,_0x2132de){return _0x3ea35b(_0x2132de);},'OudZb':_0x158db1(0x253),'WTiCV':_0x158db1(0x193),'EuPDN':function(_0x2967b3,_0x486b73){return _0x2967b3(_0x486b73);},'UubZD':function(_0x16f5da,_0x5049df){return _0x16f5da(_0x5049df);},'OOoPw':function(_0x5957c2,_0x511128){return _0x5957c2 instanceof _0x511128;},'PRMNS':function(_0x2c054d){return _0x2c054d();},'xPPqx':_0x158db1(0x209),'HUfjg':'GhHyE','GWdvU':function(_0x19c2d1,_0x3c146c){return _0x19c2d1 instanceof _0x3c146c;},'lDsAO':function(_0x3ce911,_0x2084ee){return _0x3ce911(_0x2084ee);},'vzyYS':_0x158db1(0x199),'RlTXN':_0x158db1(0x19a),'FpQQU':function(_0x5c30ab,_0x358cb5){return _0x5c30ab instanceof _0x358cb5;},'uyCPr':function(_0x19fc02,_0x29a97e){return _0x19fc02(_0x29a97e);},'pyqJU':function(_0x2de00e,_0x3e6670){return _0x2de00e instanceof _0x3e6670;},'ksYLX':function(_0x4a7c22,_0x150abe){return _0x4a7c22 instanceof _0x150abe;},'ooXeb':_0x158db1(0x269),'SnjIe':function(_0x3eddf0,_0x34a928){return _0x3eddf0(_0x34a928);},'Uktow':function(_0x1035f3,_0x1de5dc){return _0x1035f3(_0x1de5dc);},'TNQef':_0x158db1(0x26c),'afBka':function(_0x382cf5,_0x120cb9){return _0x382cf5(_0x120cb9);},'yepTy':_0x158db1(0x1d2),'luJWJ':_0x158db1(0x212),'LVEuA':_0x158db1(0x1c6),'LNJmn':function(_0x9b36c,_0x2c2f42){return _0x9b36c(_0x2c2f42);},'oRgjM':function(_0x4e8ebc,_0x322d70){return _0x4e8ebc instanceof _0x322d70;},'wYhra':function(_0x9fc178,_0x377b16){return _0x9fc178(_0x377b16);},'GrEnH':function(_0x1c86ce,_0x14a7cf,_0xde2814){return _0x1c86ce(_0x14a7cf,_0xde2814);},'TGVWJ':_0x158db1(0x168),'mhraY':'CDHMM','LlnWr':_0x158db1(0x1f0),'RPROt':function(_0x47d605,_0x1cef72){return _0x47d605(_0x1cef72);},'GDlav':_0x158db1(0x274),'GTvOA':'username','gpVLL':_0x158db1(0x18f),'gbenM':'_User','mCtIT':_0x158db1(0x26f),'WxRsX':_0x158db1(0x1a4),'ufCmr':_0x158db1(0x1a8),'phmgC':_0x158db1(0x22a),'ooSRV':_0x158db1(0x240),'aCxtY':function(_0x48d388,_0x4cc7f1){return _0x48d388(_0x4cc7f1);},'POKKJ':function(_0xbdaebe,_0x2296e8){return _0xbdaebe(_0x2296e8);},'vBcLc':function(_0xf62e46,_0x3292d0){return _0xf62e46(_0x3292d0);},'pLhQf':function(_0x2d5ad3,_0x37c560){return _0x2d5ad3(_0x37c560);},'LPhmB':_0x158db1(0x17f),'mzICN':'/1/classes/MyObject/','LxgfV':function(_0x154352,_0x44355e){return _0x154352(_0x44355e);},'hodQq':function(_0x531a3f,_0x382583,_0x37ea6d){return _0x531a3f(_0x382583,_0x37ea6d);},'kxDzb':_0x158db1(0x229),'OaPkO':function(_0x23b110,_0x1954c6){return _0x23b110(_0x1954c6);},'gPlDr':function(_0x3a29e6,_0x4790d0){return _0x3a29e6===_0x4790d0;},'CQYNW':_0x158db1(0x252),'dOgfh':'insertOne','zsVyT':_0x158db1(0x1d4),'ZjPNV':function(_0x2f0b53,_0x39dbfa){return _0x2f0b53===_0x39dbfa;},'IHgWo':'lHIHU','yNOnJ':function(_0x1d1c0f,_0x4d6167,_0x104a2c){return _0x1d1c0f(_0x4d6167,_0x104a2c);},'Alrwp':'deleteMany','hniVQ':function(_0xfa8ae0,_0x3233cc){return _0xfa8ae0(_0x3233cc);},'zdaIF':function(_0x236c7b,_0x1ff206){return _0x236c7b(_0x1ff206);},'xiiyy':function(_0x4cbcf4,_0x256263){return _0x4cbcf4+_0x256263;},'EyIol':'http://localhost:8378/1/classes/MyObject/','jLHPg':_0x158db1(0x26d),'Fqmcm':function(_0x4f059d,_0x2d980b){return _0x4f059d(_0x2d980b);},'HsMnR':function(_0x185b13,_0x4af976){return _0x185b13(_0x4af976);},'uKuzi':_0x158db1(0x1c3),'jFkGw':function(_0x4b498b,_0x152f60,_0x53148b){return _0x4b498b(_0x152f60,_0x53148b);},'RHHOB':_0x158db1(0x142),'rOixv':_0x158db1(0x25c),'HKeYL':function(_0x2d6abf,_0x326d5c){return _0x2d6abf(_0x326d5c);},'jQuDB':function(_0x209264,_0x1d90be){return _0x209264(_0x1d90be);},'xyJBz':_0x158db1(0x149),'EtmGK':function(_0x5057b8,_0x2db948,_0x198b65){return _0x5057b8(_0x2db948,_0x198b65);},'yHiop':_0x158db1(0x1b3),'loqLT':function(_0x4b24c1,_0x11f996,_0x2998b9){return _0x4b24c1(_0x11f996,_0x2998b9);},'UZutD':function(_0x5235b5,_0x1ab10c,_0x3bd6c6){return _0x5235b5(_0x1ab10c,_0x3bd6c6);},'VkAnb':_0x158db1(0x1f7),'pHTnm':function(_0x222572,_0x3f848e,_0x2ae164){return _0x222572(_0x3f848e,_0x2ae164);},'JPPNy':_0x158db1(0x18e),'NGTrN':function(_0xd372bd,_0x2b83e5,_0x13274c){return _0xd372bd(_0x2b83e5,_0x13274c);},'wPkVh':_0x158db1(0x1dd),'jKobp':_0x158db1(0x1a7),'Ismrz':function(_0xaefd20,_0x411880){return _0xaefd20(_0x411880);},'vEZYj':_0x158db1(0x257),'dxasL':'should\x20delete\x20field\x20without\x20index','SRuvz':function(_0x2a4350,_0x7b7bc,_0x45f6d9){return _0x2a4350(_0x7b7bc,_0x45f6d9);},'OyBga':'should\x20delete\x20field\x20with\x20index','hgBCj':_0x158db1(0x1e7)};beforeEach(_0x1f4844=>{const _0x35ad00=_0x158db1;new MongoStorageAdapter({'uri':databaseURI})[_0x35ad00(0x19d)]()[_0x35ad00(0x1c5)](_0x1f4844,fail),Config[_0x35ad00(0x178)](Parse[_0x35ad00(0x1bc)])[_0x35ad00(0x197)]['clear']();}),it('auto-escapes\x20symbols\x20in\x20auth\x20information',()=>{const _0x59f321=_0x158db1;spyOn(MongoClient,'connect')[_0x59f321(0x220)]['returnValue'](Promise[_0x59f321(0x23f)](fakeClient)),new MongoStorageAdapter({'uri':_0xb2e801[_0x59f321(0x1bb)]})[_0x59f321(0x170)](),_0xb2e801[_0x59f321(0x24f)](expect,MongoClient[_0x59f321(0x170)])['toHaveBeenCalledWith'](_0x59f321(0x169),jasmine[_0x59f321(0x140)](Object));}),_0xb2e801[_0x158db1(0x1b1)](it,_0x158db1(0x171),()=>{const _0x5d1ded=_0x158db1;spyOn(MongoClient,_0x5d1ded(0x170))[_0x5d1ded(0x220)]['returnValue'](Promise['resolve'](fakeClient)),new MongoStorageAdapter({'uri':_0xb2e801['LHUfz']})['connect'](),_0xb2e801[_0x5d1ded(0x1a2)](expect,MongoClient[_0x5d1ded(0x170)])[_0x5d1ded(0x1f6)](_0xb2e801[_0x5d1ded(0x282)],jasmine['any'](Object));}),it(_0x158db1(0x20f),()=>{const _0x1fa7e0=_0x158db1;_0xb2e801[_0x1fa7e0(0x1f1)](_0xb2e801[_0x1fa7e0(0x265)],_0x1fa7e0(0x195))?(_0xb2e801[_0x1fa7e0(0x27f)](spyOn,MongoClient,'connect')[_0x1fa7e0(0x220)][_0x1fa7e0(0x227)](Promise[_0x1fa7e0(0x23f)](fakeClient)),new MongoStorageAdapter({'uri':_0xb2e801[_0x1fa7e0(0x1af)]})[_0x1fa7e0(0x170)](),_0xb2e801[_0x1fa7e0(0x24f)](expect,MongoClient[_0x1fa7e0(0x170)])[_0x1fa7e0(0x1f6)](_0xb2e801[_0x1fa7e0(0x1af)],jasmine[_0x1fa7e0(0x140)](Object))):(_0x44142a(_0x2f4d30,_0x1fa7e0(0x170))['and']['returnValue'](_0x365185[_0x1fa7e0(0x23f)](_0x4eeb8f)),new _0x268277({'uri':_0xb2e801[_0x1fa7e0(0x282)]})[_0x1fa7e0(0x170)](),_0xb2e801[_0x1fa7e0(0x155)](_0xe9a278,_0x11ed5e[_0x1fa7e0(0x170)])[_0x1fa7e0(0x1f6)]('mongodb://user!with%40%2B%20symbols:password!with%40%2B%20symbols@localhost:1234/parse',_0x5a8860[_0x1fa7e0(0x140)](_0x4ba52e)));}),it(_0x158db1(0x19c),_0x1c9dea=>{const _0x2b8689=_0x158db1,_0x26d779={'DsLdh':function(_0x1c501f,_0x4ef3de){return _0x1c501f(_0x4ef3de);},'DpZHj':'abcde','xAZnu':function(_0x1295ed,_0xdbc55a){return _0xb2e801['piBhp'](_0x1295ed,_0xdbc55a);},'BEJCm':function(_0x24497b){return _0x24497b();}},_0x22d441=new MongoStorageAdapter({'uri':databaseURI});_0x22d441[_0x2b8689(0x13b)](_0x2b8689(0x179),{'fields':{}},{'objectId':_0xb2e801[_0x2b8689(0x175)]})[_0x2b8689(0x1c5)](()=>_0x22d441[_0x2b8689(0x228)](_0x2b8689(0x179),{}))[_0x2b8689(0x1c5)](_0x5c1f5e=>{const _0x366b1b=_0x2b8689;_0x26d779[_0x366b1b(0x187)](expect,_0x5c1f5e[_0x366b1b(0x217)])[_0x366b1b(0x1c2)](0x1);const _0x18ba35=_0x5c1f5e[0x0];expect(_0x18ba35[_0x366b1b(0x25e)])[_0x366b1b(0x1c2)](_0x26d779[_0x366b1b(0x185)]),_0x26d779[_0x366b1b(0x191)](expect,_0x18ba35[_0x366b1b(0x231)])[_0x366b1b(0x165)](),_0x26d779[_0x366b1b(0x158)](_0x1c9dea);});}),it(_0x158db1(0x211),_0x1d6ad6=>{const _0x119743=_0x158db1,_0x455128={'jyiog':_0xb2e801['nTDYI'],'viFGs':function(_0x4e56c5,_0x4539c0){return _0x4e56c5(_0x4539c0);},'cqhau':function(_0x40eecf,_0x49d702){const _0x3a6b35=_0x48f0;return _0xb2e801[_0x3a6b35(0x151)](_0x40eecf,_0x49d702);},'MpWno':_0xb2e801[_0x119743(0x1b4)],'ItaKJ':function(_0x266d43,_0x2efe55){const _0x4c6b82=_0x119743;return _0xb2e801[_0x4c6b82(0x1a2)](_0x266d43,_0x2efe55);},'jASnJ':function(_0x52f7cb,_0x102227,_0xc585ea){return _0x52f7cb(_0x102227,_0xc585ea);},'vZiJI':_0x119743(0x193)};if(_0xb2e801[_0x119743(0x1ba)]!==_0x119743(0x27e)){const _0x22d354=_0x3a0ad9;return _0x455128[_0x119743(0x16a)](_0x4a8a1d,_0x455128[_0x119743(0x1a1)](_0x22d354[_0x119743(0x242)],_0x431dd1))['toBe'](!![]),_0x455128[_0x119743(0x16a)](_0x2c6d90,typeof _0x22d354[_0x119743(0x157)])[_0x119743(0x1ee)](_0x119743(0x157)),_0x2236db(_0x22d354[_0x119743(0x269)][_0x119743(0x235)])[_0x119743(0x1ee)](_0x455128[_0x119743(0x136)]),_0x455128[_0x119743(0x1f5)](_0x2adc5b,_0x22d354[_0x119743(0x269)][_0x119743(0x273)])[_0x119743(0x1ee)](_0x119743(0x199)),_0x455128[_0x119743(0x23d)](_0x2e3f1e,function(){const _0x29a3be=_0x119743;_0x459e2d[_0x29a3be(0x1ad)](_0x455128['jyiog']);},0x64),_0x59e18e['_rawFind'](_0x455128['vZiJI'],{});}else{const _0x510267=0xfa,_0x38f6de=new MongoStorageAdapter({'uri':databaseURI,'mongoOptions':{'maxTimeMS':_0x510267}});_0x38f6de[_0x119743(0x13b)](_0xb2e801[_0x119743(0x22e)],{'fields':{}},{'objectId':_0x119743(0x23c)})[_0x119743(0x1c5)](()=>_0x38f6de['_rawFind']('Foo',{'$where':_0x119743(0x24a)+_0x510267/0x2+')'}))['then'](()=>_0x1d6ad6(),_0x470eab=>{const _0x3836da=_0x119743;_0x1d6ad6[_0x3836da(0x27b)](_0x3836da(0x166)+_0x470eab);});}}),_0xb2e801[_0x158db1(0x1fe)](it,_0xb2e801['VkAnb'],_0x42b2c4=>{const _0x17e7aa=_0x158db1,_0x48ad95={'XpWiC':_0x17e7aa(0x245),'DrgFX':function(_0x5cda26,_0x25eab4){return _0x5cda26(_0x25eab4);},'FiUUP':function(_0xd70e6c){return _0xd70e6c();}},_0x2c6554=0xfa,_0x5f17d0=new MongoStorageAdapter({'uri':databaseURI,'mongoOptions':{'maxTimeMS':_0x2c6554}});_0x5f17d0[_0x17e7aa(0x13b)](_0x17e7aa(0x179),{'fields':{}},{'objectId':_0xb2e801[_0x17e7aa(0x175)]})[_0x17e7aa(0x1c5)](()=>_0x5f17d0['_rawFind'](_0x17e7aa(0x179),{'$where':_0x17e7aa(0x24a)+_0x2c6554*0x2+')'}))['then'](()=>{const _0x244f99=_0x17e7aa;_0x42b2c4[_0x244f99(0x27b)]('Find\x20succeeded\x20despite\x20taking\x20too\x20long!');},_0x5011e5=>{const _0x39808d=_0x17e7aa;expect(_0x5011e5['name'])[_0x39808d(0x1c2)](_0x48ad95[_0x39808d(0x27a)]),_0x48ad95[_0x39808d(0x1db)](expect,_0x5011e5[_0x39808d(0x283)])[_0x39808d(0x1c2)](0x32),expect(_0x5011e5[_0x39808d(0x15b)])['toMatch'](_0x39808d(0x1bd)),_0x48ad95[_0x39808d(0x1ac)](_0x42b2c4);});}),_0xb2e801[_0x158db1(0x205)](it,_0x158db1(0x27c),_0x13eb29=>{const _0x12f2d4=_0x158db1,_0x43cca4={'chVGM':_0xb2e801['JSmgn'],'qWYTI':_0x12f2d4(0x219),'xxYcB':function(_0x4a6fc8,_0x3ab09d){return _0x4a6fc8(_0x3ab09d);}},_0xf4893d={'objectId':_0x12f2d4(0x14c),'aPointer':{'__type':_0xb2e801[_0x12f2d4(0x163)],'className':_0x12f2d4(0x1ae),'objectId':_0x12f2d4(0x1d4)}},_0x5dad7a=new MongoStorageAdapter({'uri':databaseURI});_0x5dad7a[_0x12f2d4(0x13b)](_0x12f2d4(0x16f),{'fields':{'objectId':{'type':_0xb2e801[_0x12f2d4(0x275)]},'aPointer':{'type':_0xb2e801['GozLG'],'targetClass':_0xb2e801[_0x12f2d4(0x258)]}}},_0xf4893d)[_0x12f2d4(0x1c5)](()=>_0x5dad7a[_0x12f2d4(0x228)](_0x12f2d4(0x16f),{}))['then'](_0x2d3f6a=>{const _0x277a9b=_0x12f2d4;expect(_0x2d3f6a[_0x277a9b(0x217)])['toEqual'](0x1);const _0x36bc25=_0x2d3f6a[0x0];expect(typeof _0x36bc25[_0x277a9b(0x25e)])[_0x277a9b(0x1c2)](_0x277a9b(0x1f4)),expect(typeof _0x36bc25[_0x277a9b(0x15e)])[_0x277a9b(0x1c2)](_0x43cca4[_0x277a9b(0x204)]),expect(_0x36bc25[_0x277a9b(0x15e)])[_0x277a9b(0x1c2)](_0x43cca4['qWYTI']),_0x43cca4[_0x277a9b(0x255)](expect,_0x36bc25[_0x277a9b(0x14d)])[_0x277a9b(0x165)](),_0x13eb29();});}),_0xb2e801['pHTnm'](it,_0xb2e801[_0x158db1(0x1ff)],_0x4fae1e=>{const _0x1eff8d=_0x158db1,_0x61f1dd={'kcHSn':function(_0x24530d,_0x1abf2b){const _0x34ba15=_0x48f0;return _0xb2e801[_0x34ba15(0x13d)](_0x24530d,_0x1abf2b);},'YxVMj':function(_0x3d6575,_0x3b2b95){return _0x3d6575(_0x3b2b95);},'aDMCU':_0x1eff8d(0x193)},_0x56ab55=new MongoStorageAdapter({'uri':databaseURI}),_0x395d80={'fields':{'subdoc':{'type':_0x1eff8d(0x19a)}}},_0x509996={'subdoc':{'foo':_0xb2e801[_0x1eff8d(0x21f)],'wu':_0xb2e801[_0x1eff8d(0x25b)]}};_0x56ab55[_0x1eff8d(0x13b)](_0x1eff8d(0x193),_0x395d80,_0x509996)[_0x1eff8d(0x1c5)](()=>_0x56ab55[_0x1eff8d(0x228)](_0x1eff8d(0x193),{}))[_0x1eff8d(0x1c5)](_0x1e358d=>{const _0x584296=_0x1eff8d;expect(_0x1e358d[_0x584296(0x217)])[_0x584296(0x1c2)](0x1);const _0x4b8bac=_0x1e358d[0x0];expect(typeof _0x4b8bac[_0x584296(0x1e2)])['toBe']('object'),_0x61f1dd[_0x584296(0x17e)](expect,_0x4b8bac[_0x584296(0x1e2)][_0x584296(0x26c)])['toBe'](_0x584296(0x14c)),_0x61f1dd[_0x584296(0x1c1)](expect,_0x4b8bac[_0x584296(0x1e2)]['wu'])['toBe'](_0x584296(0x253));const _0x257d72={'subdoc.wu':_0x584296(0x167)};return eval('const _0x3dd6ec = _0x584296;JSON[_0x3dd6ec(415)]({ \'safe\': !![] });'),_0x56ab55[_0x584296(0x263)](_0x61f1dd['aDMCU'],_0x395d80,{},_0x257d72);})[_0x1eff8d(0x1c5)](()=>_0x56ab55['_rawFind'](_0x1eff8d(0x193),{}))[_0x1eff8d(0x1c5)](_0x4b4dbb=>{const _0x5db04e=_0x1eff8d;expect(_0x4b4dbb[_0x5db04e(0x217)])[_0x5db04e(0x1c2)](0x1);const _0x3f3923=_0x4b4dbb[0x0];_0xb2e801['Vdbij'](expect,typeof _0x3f3923[_0x5db04e(0x1e2)])['toBe'](_0xb2e801[_0x5db04e(0x266)]),expect(_0x3f3923[_0x5db04e(0x1e2)][_0x5db04e(0x26c)])[_0x5db04e(0x1ee)](_0xb2e801[_0x5db04e(0x21f)]),_0xb2e801[_0x5db04e(0x146)](expect,_0x3f3923['subdoc']['wu'])[_0x5db04e(0x1ee)](_0xb2e801['CQpwj']),_0xb2e801[_0x5db04e(0x1d8)](_0x4fae1e);});}),_0xb2e801[_0x158db1(0x27f)](it,_0x158db1(0x206),_0x11e4d0=>{const _0x15c212=_0x158db1,_0x1b5ca8={'AIWdY':_0xb2e801[_0x15c212(0x261)]},_0x46553a=new MongoStorageAdapter({'uri':databaseURI}),_0x3f49a9={'array':[0x1,0x2,0x3],'object':{'foo':_0xb2e801[_0x15c212(0x21f)]},'date':{'__type':_0xb2e801['bntnW'],'iso':_0xb2e801[_0x15c212(0x236)]}},_0x8c2ad4={'fields':{'array':{'type':_0x15c212(0x168)},'object':{'type':_0xb2e801[_0x15c212(0x262)]},'date':{'type':'Date'}}};_0x46553a[_0x15c212(0x13b)](_0xb2e801[_0x15c212(0x189)],_0x8c2ad4,_0x3f49a9)['then'](()=>_0x46553a[_0x15c212(0x228)](_0x15c212(0x193),{}))[_0x15c212(0x1c5)](_0x7cbb32=>{const _0x85ed38=_0x15c212;expect(_0x7cbb32[_0x85ed38(0x217)])['toEqual'](0x1);const _0x6302c5=_0x7cbb32[0x0];return expect(_0x6302c5[_0x85ed38(0x242)]instanceof Array)[_0x85ed38(0x1ee)](!![]),_0xb2e801[_0x85ed38(0x16c)](expect,typeof _0x6302c5[_0x85ed38(0x157)])[_0x85ed38(0x1ee)](_0xb2e801[_0x85ed38(0x266)]),_0xb2e801['QtSkZ'](expect,_0x6302c5[_0x85ed38(0x269)]instanceof Date)['toBe'](!![]),setTimeout(function(){const _0x491a70=_0x85ed38;console[_0x491a70(0x1ad)](_0x1b5ca8[_0x491a70(0x15d)]);},0x64),_0x46553a[_0x85ed38(0x1a5)](_0xb2e801[_0x85ed38(0x189)],_0x8c2ad4,{},{});})[_0x15c212(0x1c5)](_0x48f260=>{const _0x5b0df5=_0x15c212,_0x45ec69={'AJhOb':function(_0x184d72,_0x5dd6e8){const _0x3ac9be=_0x48f0;return _0xb2e801[_0x3ac9be(0x172)](_0x184d72,_0x5dd6e8);},'ITtxa':function(_0x5349c9,_0x580d11){return _0x5349c9(_0x580d11);},'mfbBK':function(_0x2d7418,_0x540f91){return _0x2d7418(_0x540f91);},'wXoSh':_0xb2e801['jTqSn'],'LhjiT':function(_0x231bf2,_0xeb3397){const _0x555511=_0x48f0;return _0xb2e801[_0x555511(0x1d5)](_0x231bf2,_0xeb3397);},'WVZQi':function(_0xd970f,_0x275dfb){return _0xb2e801['OOoPw'](_0xd970f,_0x275dfb);},'IuLsn':function(_0x4ac078){return _0xb2e801['PRMNS'](_0x4ac078);}};if(_0xb2e801[_0x5b0df5(0x1f1)](_0xb2e801[_0x5b0df5(0x198)],_0xb2e801[_0x5b0df5(0x27d)])){expect(_0x48f260[_0x5b0df5(0x217)])[_0x5b0df5(0x1c2)](0x1);const _0x27467a=_0x48f260[0x0];expect(_0xb2e801['GWdvU'](_0x27467a[_0x5b0df5(0x242)],Array))[_0x5b0df5(0x1ee)](!![]),expect(typeof _0x27467a[_0x5b0df5(0x157)])[_0x5b0df5(0x1ee)](_0x5b0df5(0x157)),_0xb2e801['lDsAO'](expect,_0x27467a[_0x5b0df5(0x269)]['__type'])['toBe'](_0xb2e801[_0x5b0df5(0x1b4)]),expect(_0x27467a['date'][_0x5b0df5(0x273)])['toBe'](_0xb2e801[_0x5b0df5(0x236)]),_0x11e4d0();}else{_0x45ec69[_0x5b0df5(0x21a)](_0x146a7f,_0xc4e5d9[_0x5b0df5(0x217)])['toEqual'](0x1);const _0x114edc=_0x2a68bc[0x0];_0x45ec69[_0x5b0df5(0x1ed)](_0x4b7ce5,_0x114edc[_0x5b0df5(0x242)]instanceof _0x58142d)[_0x5b0df5(0x1ee)](!![]),_0x45ec69['mfbBK'](_0x488d7e,typeof _0x114edc[_0x5b0df5(0x157)])[_0x5b0df5(0x1ee)](_0x45ec69[_0x5b0df5(0x25f)]),_0x45ec69[_0x5b0df5(0x1e9)](_0x37f5c6,_0x45ec69[_0x5b0df5(0x254)](_0x114edc[_0x5b0df5(0x269)],_0x3722f5))['toBe'](!![]),_0x45ec69['IuLsn'](_0x45ab34);}})[_0x15c212(0x1f9)](_0x3858bf=>{const _0xdc83f=_0x15c212;console[_0xdc83f(0x1ad)](_0x3858bf),fail(),_0x11e4d0();});}),it(_0x158db1(0x1de),async()=>{const _0x4ce962=_0x158db1;await new Parse[(_0x4ce962(0x19a))](_0xb2e801[_0x4ce962(0x189)],{'foo':{'test':{'date':new Date()}},'bar':{'date':new Date()},'date':new Date()})[_0x4ce962(0x17c)]();const _0x19b552=Config['get'](Parse[_0x4ce962(0x1bc)])[_0x4ce962(0x182)][_0x4ce962(0x207)],[_0xbb99f7]=await _0x19b552['_rawFind'](_0xb2e801['WTiCV'],{});expect(_0xb2e801['OOoPw'](_0xbb99f7[_0x4ce962(0x269)],Date))['toBeTrue'](),expect(_0xbb99f7['bar'][_0x4ce962(0x269)]instanceof Date)[_0x4ce962(0x1d1)](),expect(_0xb2e801[_0x4ce962(0x20d)](_0xbb99f7[_0x4ce962(0x26c)][_0x4ce962(0x240)]['date'],Date))[_0x4ce962(0x1d1)]();}),it(_0x158db1(0x268),async()=>{const _0x1cc1e9=_0x158db1;await new Parse[(_0x1cc1e9(0x19a))](_0x1cc1e9(0x193),{'foo':{'test':{'date':[new Date()]}},'bar':{'date':[new Date()]},'date':[new Date()]})[_0x1cc1e9(0x17c)]();const _0x4a7e41=Config[_0x1cc1e9(0x178)](Parse[_0x1cc1e9(0x1bc)])[_0x1cc1e9(0x182)]['adapter'],[_0x3afcaa]=await _0x4a7e41[_0x1cc1e9(0x228)](_0xb2e801['WTiCV'],{});_0xb2e801[_0x1cc1e9(0x246)](expect,_0x3afcaa[_0x1cc1e9(0x269)][0x0]instanceof Date)['toBeTrue'](),expect(_0xb2e801[_0x1cc1e9(0x216)](_0x3afcaa[_0x1cc1e9(0x14c)][_0x1cc1e9(0x269)][0x0],Date))[_0x1cc1e9(0x1d1)](),expect(_0x3afcaa[_0x1cc1e9(0x26c)][_0x1cc1e9(0x240)][_0x1cc1e9(0x269)][0x0]instanceof Date)[_0x1cc1e9(0x1d1)]();const _0xf8e3da=await new Parse[(_0x1cc1e9(0x13f))](_0xb2e801['WTiCV'])['first']({'useMasterKey':!![]});_0xb2e801[_0x1cc1e9(0x1d5)](expect,_0xb2e801[_0x1cc1e9(0x230)](_0xf8e3da[_0x1cc1e9(0x178)](_0xb2e801[_0x1cc1e9(0x13a)])[0x0],Date))[_0x1cc1e9(0x1d1)](),_0xb2e801[_0x1cc1e9(0x194)](expect,_0xf8e3da[_0x1cc1e9(0x178)](_0xb2e801['iwsJV'])[_0x1cc1e9(0x269)][0x0]instanceof Date)[_0x1cc1e9(0x1d1)](),_0xb2e801[_0x1cc1e9(0x284)](expect,_0xf8e3da[_0x1cc1e9(0x178)](_0xb2e801[_0x1cc1e9(0x238)])[_0x1cc1e9(0x240)][_0x1cc1e9(0x269)][0x0]instanceof Date)[_0x1cc1e9(0x1d1)]();}),it(_0x158db1(0x1fc),async()=>{const _0x31c071=_0x158db1,_0x1433e3=_0xb2e801['afBka'](require,_0xb2e801['yepTy']),_0x53772c=_0x1433e3['v4'](),_0x28061a=_0x1433e3['v4'](),_0xbff336={'className':_0xb2e801['WTiCV'],'fields':{'x':{'type':_0xb2e801[_0x31c071(0x214)]},'count':{'type':_0xb2e801[_0x31c071(0x214)]}},'classLevelPermissions':{}},_0x4b83c9=new Parse[(_0x31c071(0x1e3))](_0xbff336[_0x31c071(0x184)]);_0x4b83c9[_0x31c071(0x260)](_0xbff336[_0x31c071(0x1f8)]),await _0x4b83c9[_0x31c071(0x17c)]();const _0x22b83e={'x':0x1},_0x384cfd={'objectId':{'__op':'SetOnInsert','amount':_0x53772c},'count':{'__op':_0xb2e801[_0x31c071(0x26a)],'amount':0x1}};await Parse[_0x31c071(0x141)]['database']['update']('MyClass',_0x22b83e,_0x384cfd,{'upsert':!![]}),_0x384cfd[_0x31c071(0x231)][_0x31c071(0x18a)]=_0x28061a,await Parse[_0x31c071(0x141)]['database'][_0x31c071(0x239)](_0xb2e801[_0x31c071(0x189)],_0x22b83e,_0x384cfd,{'upsert':!![]});const _0x207578=await Parse[_0x31c071(0x141)][_0x31c071(0x182)][_0x31c071(0x1a5)](_0xbff336[_0x31c071(0x184)],{},{});expect(_0x207578['length'])[_0x31c071(0x1ee)](0x1),expect(_0x207578[0x0]['objectId'])[_0x31c071(0x1ee)](_0x53772c),expect(_0x207578[0x0]['count'])[_0x31c071(0x1ee)](0x2),expect(_0x207578[0x0]['x'])[_0x31c071(0x1ee)](0x1);}),_0xb2e801[_0x158db1(0x1d7)](it,_0xb2e801[_0x158db1(0x1d3)],_0x3de7cd=>{const _0x29049a=_0x158db1,_0x2809c7={'gugvA':_0x29049a(0x1e1),'CVtqg':_0xb2e801[_0x29049a(0x236)],'XsMAF':_0x29049a(0x232),'CrPrj':_0xb2e801[_0x29049a(0x189)],'yVgMQ':function(_0x592be5,_0x14d9b8){const _0x5876e7=_0x29049a;return _0xb2e801[_0x5876e7(0x1da)](_0x592be5,_0x14d9b8);},'EzjYt':function(_0x2e9d6b,_0x5b82a3){const _0x5a9262=_0x29049a;return _0xb2e801[_0x5a9262(0x200)](_0x2e9d6b,_0x5b82a3);},'ImZgB':function(_0x4ebfac,_0x354ae7,_0x39dc46){return _0xb2e801['GrEnH'](_0x4ebfac,_0x354ae7,_0x39dc46);},'GgKZz':_0xb2e801[_0x29049a(0x266)],'oonjQ':function(_0x3e0e32,_0x291744){return _0xb2e801['OOoPw'](_0x3e0e32,_0x291744);},'RVPtv':function(_0x216e87){return _0x216e87();}};if('tceoM'===_0x29049a(0x13c))_0xff5aa8=!![],_0xb2e801['LNJmn'](_0xbfcd59,_0x15040d[_0x29049a(0x1e4)][0x2][_0x29049a(0x192)][_0x29049a(0x1ef)]['state'])['toBe'](_0x29049a(0x1dc));else{const _0xae8472=new MongoStorageAdapter({'uri':databaseURI}),_0x5ad7a2={'fields':{'array':{'type':_0x29049a(0x168)},'object':{'type':_0x29049a(0x19a)},'date':{'type':_0x29049a(0x1e1)}}};_0xae8472[_0x29049a(0x13b)](_0xb2e801[_0x29049a(0x189)],_0x5ad7a2,{})[_0x29049a(0x1c5)](()=>_0xae8472[_0x29049a(0x228)](_0x29049a(0x193),{}))[_0x29049a(0x1c5)](_0x5cca6f=>{const _0x550959=_0x29049a;expect(_0x5cca6f['length'])[_0x550959(0x1c2)](0x1);const _0x3345eb={'array':[0x1,0x2,0x3],'object':{'foo':_0x550959(0x14c)},'date':{'__type':_0x2809c7[_0x550959(0x1cc)],'iso':_0x2809c7[_0x550959(0x26e)]}},_0xea68d7={};return Function(_0x2809c7[_0x550959(0x1c7)])(),_0xae8472[_0x550959(0x263)](_0x2809c7[_0x550959(0x150)],_0x5ad7a2,_0xea68d7,_0x3345eb);})['then'](_0x4b9eef=>{const _0xe90c5=_0x29049a,_0x42b69f=_0x4b9eef;return expect(_0x2809c7[_0xe90c5(0x1b9)](_0x42b69f[_0xe90c5(0x242)],Array))[_0xe90c5(0x1ee)](!![]),expect(typeof _0x42b69f[_0xe90c5(0x157)])[_0xe90c5(0x1ee)](_0xe90c5(0x157)),_0x2809c7[_0xe90c5(0x279)](expect,_0x42b69f[_0xe90c5(0x269)][_0xe90c5(0x235)])[_0xe90c5(0x1ee)](_0xe90c5(0x1e1)),expect(_0x42b69f[_0xe90c5(0x269)][_0xe90c5(0x273)])[_0xe90c5(0x1ee)]('2016-05-26T20:55:01.154Z'),_0x2809c7[_0xe90c5(0x20e)](setTimeout,function(){const _0x2147d9=_0xe90c5;console[_0x2147d9(0x1ad)](_0x2147d9(0x1aa));},0x64),_0xae8472[_0xe90c5(0x228)](_0xe90c5(0x193),{});})['then'](_0x40b048=>{const _0x246ceb=_0x29049a;expect(_0x40b048[_0x246ceb(0x217)])[_0x246ceb(0x1c2)](0x1);const _0x312bc3=_0x40b048[0x0];_0x2809c7['EzjYt'](expect,_0x2809c7['yVgMQ'](_0x312bc3[_0x246ceb(0x242)],Array))[_0x246ceb(0x1ee)](!![]),expect(typeof _0x312bc3[_0x246ceb(0x157)])[_0x246ceb(0x1ee)](_0x2809c7[_0x246ceb(0x16d)]),_0x2809c7[_0x246ceb(0x279)](expect,_0x2809c7[_0x246ceb(0x1e0)](_0x312bc3[_0x246ceb(0x269)],Date))['toBe'](!![]),_0x2809c7['RVPtv'](_0x3de7cd);})[_0x29049a(0x1f9)](_0x3dfdcf=>{const _0x48a935=_0x29049a;console[_0x48a935(0x1ad)](_0x3dfdcf),fail(),_0xb2e801['TUSKL'](_0x3de7cd);});}}),_0xb2e801[_0x158db1(0x1fe)](it,_0x158db1(0x13e),async()=>{const _0x58061c=_0x158db1,_0x49a906={'iKBgC':_0x58061c(0x1aa),'cJXQZ':function(_0x54c53c,_0x52840e){return _0x54c53c(_0x52840e);},'qxrey':function(_0x122271,_0x326ee3){return _0x122271(_0x326ee3);},'uByKx':function(_0x27ccee,_0x3f1152,_0x4fa55c){return _0x27ccee(_0x3f1152,_0x4fa55c);}},_0x33f4f8=new MongoStorageAdapter({'uri':databaseURI}),_0x1f3167={'fields':{'array':{'type':_0xb2e801[_0x58061c(0x24c)]},'object':{'type':_0xb2e801[_0x58061c(0x262)]},'date':{'type':_0x58061c(0x1e1)}}};await _0x33f4f8[_0x58061c(0x13b)]('MyClass',_0x1f3167,{});const _0x513927=await _0x33f4f8[_0x58061c(0x182)][_0x58061c(0x249)]()[_0x58061c(0x1fd)]();expect(_0x513927[_0x58061c(0x1b5)][_0x58061c(0x1b8)]>0x0)[_0x58061c(0x1c2)](!![]),await _0x33f4f8['handleShutdown']();try{await _0x33f4f8[_0x58061c(0x182)][_0x58061c(0x249)]()['serverStatus'](),_0xb2e801['Vdbij'](expect,![])[_0x58061c(0x1ee)](!![]);}catch(_0x199e72){if(_0xb2e801[_0x58061c(0x145)]===_0xb2e801['LlnWr']){const _0x177ffb={'hvLoq':_0x49a906[_0x58061c(0x143)]};_0x49a906[_0x58061c(0x144)](_0x4532a6,_0x4a8cc0['length'])[_0x58061c(0x1c2)](0x1);const _0x255a12=_0x330898[0x0];return _0x49a906[_0x58061c(0x144)](_0x44e7e8,_0x255a12['array']instanceof _0x5ae636)[_0x58061c(0x1ee)](!![]),_0x49a906[_0x58061c(0x213)](_0x953859,typeof _0x255a12[_0x58061c(0x157)])[_0x58061c(0x1ee)](_0x58061c(0x157)),_0x5b8af5(_0x255a12[_0x58061c(0x269)]instanceof _0x35e750)[_0x58061c(0x1ee)](!![]),_0x49a906[_0x58061c(0x210)](_0x2561e5,function(){const _0x2c3a2c=_0x58061c;_0x547ffb[_0x2c3a2c(0x1ad)](_0x177ffb[_0x2c3a2c(0x218)]);},0x64),_0x2d6317['find']('MyClass',_0x4eb877,{},{});}else expect(_0x199e72['message'])[_0x58061c(0x1c2)](_0x58061c(0x14e));}}),_0xb2e801[_0x158db1(0x250)](it,_0x158db1(0x1cd),async()=>{const _0x53b58f=_0x158db1,_0xf48ab5=new MongoStorageAdapter({'uri':databaseURI}),_0x20a4c8={'fields':{'array':{'type':_0x53b58f(0x168)},'object':{'type':_0xb2e801[_0x53b58f(0x262)]},'date':{'type':_0x53b58f(0x1e1)}}};await _0xf48ab5[_0x53b58f(0x186)](_0xb2e801[_0x53b58f(0x189)],_0x20a4c8);const _0x3a1d7a=await _0xf48ab5[_0x53b58f(0x272)](_0xb2e801[_0x53b58f(0x189)]);_0xb2e801['ccBzr'](expect,_0x3a1d7a)['toBeDefined']();}),it(_0xb2e801['jKobp'],async()=>{const _0x4080d0=_0x158db1,_0x603091=new MongoStorageAdapter({'uri':databaseURI});await _0xb2e801[_0x4080d0(0x1b2)](expectAsync,_0x603091[_0x4080d0(0x272)](_0xb2e801['GDlav']))[_0x4080d0(0x1a0)](undefined);}),_0xb2e801[_0x158db1(0x173)](it_only_mongodb_version,_0xb2e801[_0x158db1(0x21d)])(_0x158db1(0x21c),async()=>{const _0xa310a1=_0x158db1,_0x5278a5=new Parse[(_0xa310a1(0x1a9))]();_0x5278a5[_0xa310a1(0x180)](_0xb2e801['GTvOA'],_0xb2e801[_0xa310a1(0x190)]),_0x5278a5[_0xa310a1(0x180)](_0xa310a1(0x153),_0xa310a1(0x226)),await _0x5278a5[_0xa310a1(0x208)]();const _0x440f38=Config[_0xa310a1(0x178)](Parse[_0xa310a1(0x1bc)])['database'];await _0x440f38[_0xa310a1(0x207)]['dropAllIndexes'](_0xb2e801['gbenM']);const _0x31dfa5=await _0x440f38[_0xa310a1(0x1a5)](_0xb2e801[_0xa310a1(0x19e)],{'username':_0xa310a1(0x26f)},{'caseInsensitive':!![],'explain':!![]}),_0x4037c5=await new Parse[(_0xa310a1(0x1e3))]('_User')[_0xa310a1(0x178)]();await _0x440f38[_0xa310a1(0x207)][_0xa310a1(0x1c4)](_0xb2e801['gbenM'],_0x4037c5,[_0xb2e801['GTvOA']],'case_insensitive_username',!![]);const _0x563675=await _0x440f38[_0xa310a1(0x1a5)]('_User',{'username':_0xb2e801[_0xa310a1(0x17b)]},{'caseInsensitive':!![],'explain':!![]});expect(_0x31dfa5[_0xa310a1(0x26b)][_0xa310a1(0x244)][_0xa310a1(0x1d9)])[_0xa310a1(0x1ee)](_0xb2e801[_0xa310a1(0x1ab)]),_0xb2e801['Vdbij'](expect,_0x563675['executionStats'][_0xa310a1(0x244)][_0xa310a1(0x1d9)])[_0xa310a1(0x1ee)](_0xb2e801['ufCmr']);}),it(_0xb2e801['dxasL'],async()=>{const _0x15d92e=_0x158db1,_0x137abc=Config[_0x15d92e(0x178)](Parse['applicationId'])[_0x15d92e(0x182)],_0x55bf16=new Parse['Object']('MyObject');_0x55bf16['set'](_0x15d92e(0x240),0x1),await _0x55bf16['save']();const _0x201372=await new Parse[(_0x15d92e(0x1e3))](_0xb2e801['phmgC'])['get']();await _0x137abc[_0x15d92e(0x207)][_0x15d92e(0x1cb)](_0xb2e801[_0x15d92e(0x177)],_0x201372,['test']);const _0x3cc663=await new Parse[(_0x15d92e(0x1e3))]('MyObject')[_0x15d92e(0x178)]();expect(_0x201372[_0x15d92e(0x24d)]['test'])[_0x15d92e(0x1d0)](),expect(_0x3cc663[_0x15d92e(0x24d)][_0x15d92e(0x240)])['toBeUndefined']();}),_0xb2e801[_0x158db1(0x25d)](it,_0xb2e801['OyBga'],async()=>{const _0x4529af=_0x158db1,_0x48747a=Config['get'](Parse[_0x4529af(0x1bc)])[_0x4529af(0x182)],_0x385d44=new Parse['Object']('MyObject');_0x385d44[_0x4529af(0x180)]('test',0x1),await _0x385d44[_0x4529af(0x17c)]();const _0x45a97c=await new Parse['Schema'](_0xb2e801[_0x4529af(0x177)])['get']();await _0x48747a[_0x4529af(0x207)][_0x4529af(0x1c4)](_0x4529af(0x22a),_0x45a97c,[_0xb2e801[_0x4529af(0x277)]]),await _0x48747a['adapter'][_0x4529af(0x1cb)](_0xb2e801[_0x4529af(0x177)],_0x45a97c,[_0x4529af(0x240)]);const _0x39edd5=await new Parse[(_0x4529af(0x1e3))](_0xb2e801[_0x4529af(0x177)])[_0x4529af(0x178)]();_0xb2e801[_0x4529af(0x1d6)](expect,_0x45a97c['fields'][_0x4529af(0x240)])[_0x4529af(0x1d0)](),_0xb2e801[_0x4529af(0x21b)](expect,_0x39edd5[_0x4529af(0x24d)]['test'])['toBeUndefined']();}),process[_0x158db1(0x25a)][_0x158db1(0x233)]===_0xb2e801['hgBCj']&&(describe(_0x158db1(0x22b),()=>{const _0x33d150=_0x158db1,_0x5e1eee={'dFOHD':function(_0x8cfa3,_0x4a8389){return _0xb2e801['ZjPNV'](_0x8cfa3,_0x4a8389);},'zKuTb':'VfXtO','qqejA':function(_0x229262,_0x1ee8ee){return _0x229262(_0x1ee8ee);},'dvCNj':function(_0x3c3e5e,_0x47095e){const _0xe82411=_0x48f0;return _0xb2e801[_0xe82411(0x138)](_0x3c3e5e,_0x47095e);},'tsIPa':function(_0x493e3c,_0x11a87c){return _0x493e3c(_0x11a87c);},'uGZnE':function(_0xc85ba6,_0xe681e2){return _0xb2e801['zdaIF'](_0xc85ba6,_0xe681e2);},'vrcbF':'zSZUp','OWqzk':_0x33d150(0x22a),'cxSwp':function(_0x52ad02,_0x14152a){const _0x5e3d6b=_0x33d150;return _0xb2e801[_0x5e3d6b(0x20b)](_0x52ad02,_0x14152a);},'DcoHd':_0xb2e801['EyIol'],'HFoRY':_0x33d150(0x16b),'cdBAN':function(_0x2e2ce3,_0x2d35b7,_0x359c96){return _0x2e2ce3(_0x2d35b7,_0x359c96);},'qYRsm':_0x33d150(0x263),'DxHHw':_0xb2e801[_0x33d150(0x281)],'sQltW':function(_0x28ff07,_0x3e05b2){const _0x454c08=_0x33d150;return _0xb2e801[_0x454c08(0x1f2)](_0x28ff07,_0x3e05b2);}},_0x26e971={'Content-Type':_0x33d150(0x1c0),'X-Parse-Application-Id':_0x33d150(0x240),'X-Parse-REST-API-Key':'rest'};_0xb2e801[_0x33d150(0x256)](beforeEach,async()=>{const _0xd0e9d0=_0x33d150;await _0xb2e801[_0xd0e9d0(0x22c)](reconfigureServer,{'databaseAdapter':undefined,'databaseURI':'mongodb://localhost:27017/parseServerMongoAdapterTestDatabase?replicaSet=replicaset'}),await TestUtils['destroyAllDataPermanently'](!![]);}),it('should\x20use\x20transaction\x20in\x20a\x20batch\x20with\x20transaction\x20=\x20true',async()=>{const _0x5e054b=_0x33d150,_0x11fa89=new Parse[(_0x5e054b(0x19a))](_0x5e054b(0x22a));await _0x11fa89['save'](),_0xb2e801[_0x5e054b(0x27f)](spyOn,Collection[_0x5e054b(0x1ea)],_0x5e054b(0x263))[_0x5e054b(0x220)][_0x5e054b(0x1ec)](),await _0xb2e801['pLhQf'](request,{'method':_0x5e054b(0x17a),'headers':_0x26e971,'url':_0x5e054b(0x229),'body':JSON[_0x5e054b(0x19f)]({'requests':[{'method':_0xb2e801[_0x5e054b(0x188)],'path':_0xb2e801[_0x5e054b(0x196)]+_0x11fa89['id'],'body':{'myAttribute':_0x5e054b(0x16b)}}],'transaction':!![]})});let _0x2e2d7e=![];Collection[_0x5e054b(0x1ea)][_0x5e054b(0x263)][_0x5e054b(0x280)][_0x5e054b(0x22f)]()[_0x5e054b(0x1bf)](_0x543cd5=>{const _0x12ccc9=_0x5e054b;_0x5e1eee[_0x12ccc9(0x183)](_0x5e1eee[_0x12ccc9(0x1ca)],_0x5e1eee[_0x12ccc9(0x1ca)])?(_0x2e2d7e=!![],expect(_0x543cd5[_0x12ccc9(0x1e4)][0x2]['session']['transaction'][_0x12ccc9(0x18d)])[_0x12ccc9(0x1ee)](_0x12ccc9(0x1dc))):_0x137035(_0x561506[_0x12ccc9(0x15b)])[_0x12ccc9(0x1c2)](_0x12ccc9(0x14e));}),_0xb2e801[_0x5e054b(0x155)](expect,_0x2e2d7e)['toBe'](!![]);}),it(_0x33d150(0x234),async()=>{const _0x3207a4=_0x33d150,_0x42e733={'zuEZz':function(_0x4809c5){return _0x4809c5();},'apnhr':function(_0x1d955f,_0x46278f){const _0x9d6afe=_0x48f0;return _0xb2e801[_0x9d6afe(0x139)](_0x1d955f,_0x46278f);}},_0x4e6dae=new Parse['Object']('MyObject');await _0x4e6dae['save'](),_0xb2e801[_0x3207a4(0x205)](spyOn,Collection['prototype'],_0x3207a4(0x263))[_0x3207a4(0x220)][_0x3207a4(0x1ec)](),await request({'method':_0x3207a4(0x17a),'headers':_0x26e971,'url':_0xb2e801[_0x3207a4(0x14b)],'body':JSON[_0x3207a4(0x19f)]({'requests':[{'method':_0x3207a4(0x17f),'path':_0xb2e801['mzICN']+_0x4e6dae['id'],'body':{'myAttribute':_0x3207a4(0x16b)}}],'transaction':![]})});let _0x5686ce=![];Collection['prototype'][_0x3207a4(0x263)]['calls'][_0x3207a4(0x22f)]()[_0x3207a4(0x1bf)](_0x3f7146=>{const _0x32819a=_0x3207a4,_0x98f75b={'ovUjp':function(_0xaa12e6){return _0x42e733['zuEZz'](_0xaa12e6);}};_0x32819a(0x137)!==_0x32819a(0x152)?(_0x5686ce=!![],_0x42e733['apnhr'](expect,_0x3f7146[_0x32819a(0x1e4)][0x2][_0x32819a(0x192)])[_0x32819a(0x15f)]()):(_0xd474a4[_0x32819a(0x1ad)](_0x5db620),_0x98f75b['ovUjp'](_0x30fc70),_0x467734());}),expect(_0x5686ce)[_0x3207a4(0x1ee)](!![]);}),it(_0xb2e801[_0x33d150(0x1c9)],async()=>{const _0x3c8949=_0x33d150,_0x1694d5=new Parse['Object'](_0x3c8949(0x22a));await _0x1694d5['save'](),spyOn(Collection[_0x3c8949(0x1ea)],_0x3c8949(0x263))[_0x3c8949(0x220)][_0x3c8949(0x1ec)](),await _0xb2e801[_0x3c8949(0x1cf)](request,{'method':_0x3c8949(0x17a),'headers':_0x26e971,'url':_0x3c8949(0x229),'body':JSON[_0x3c8949(0x19f)]({'requests':[{'method':_0xb2e801['LPhmB'],'path':_0x3c8949(0x1e6)+_0x1694d5['id'],'body':{'myAttribute':_0x3c8949(0x16b)}}]})});let _0x1ff5da=![];Collection[_0x3c8949(0x1ea)][_0x3c8949(0x263)]['calls']['all']()[_0x3c8949(0x1bf)](_0x2cd3f6=>{const _0x7cae9e=_0x3c8949;_0x1ff5da=!![],expect(_0x2cd3f6['args'][0x2][_0x7cae9e(0x192)])[_0x7cae9e(0x15f)]();}),expect(_0x1ff5da)['toBe'](!![]);}),_0xb2e801[_0x33d150(0x205)](it,_0x33d150(0x243),async()=>{const _0x3732de=_0x33d150;if(_0x5e1eee['vrcbF']!==_0x3732de(0x16e)){const _0x4fa14=new Parse[(_0x3732de(0x19a))](_0x5e1eee['OWqzk']);await _0x4fa14[_0x3732de(0x17c)](),spyOn(Collection[_0x3732de(0x1ea)],'findOneAndUpdate')['and']['callThrough'](),await _0x5e1eee[_0x3732de(0x15c)](request,{'method':_0x3732de(0x17f),'headers':_0x26e971,'url':_0x5e1eee[_0x3732de(0x159)](_0x5e1eee[_0x3732de(0x23a)],_0x4fa14['id']),'body':{'myAttribute':_0x5e1eee[_0x3732de(0x147)]}});let _0x5ebd3d=![];Collection['prototype'][_0x3732de(0x263)]['calls'][_0x3732de(0x22f)]()['forEach'](_0x436ef5=>{const _0x29532c=_0x3732de;_0x5ebd3d=!![],_0x5e1eee['qqejA'](expect,_0x436ef5[_0x29532c(0x1e4)][0x2]['session'])[_0x29532c(0x15f)]();}),expect(_0x5ebd3d)[_0x3732de(0x1ee)](!![]);}else{_0x5e1eee[_0x3732de(0x203)](_0x2850f1,_0x1de8bf[_0x3732de(0x217)])[_0x3732de(0x1c2)](0x1);const _0x403569=_0x4f3465[0x0];_0x5e1eee[_0x3732de(0x248)](_0x3e2023,typeof _0x403569[_0x3732de(0x25e)])['toEqual'](_0x3732de(0x1f4)),_0x5e1eee['uGZnE'](_0x394353,typeof _0x403569[_0x3732de(0x15e)])[_0x3732de(0x1c2)](_0x3732de(0x1f4)),_0x36b0f6(_0x403569[_0x3732de(0x15e)])[_0x3732de(0x1c2)](_0x3732de(0x219)),_0x5e1eee['tsIPa'](_0x4018fa,_0x403569['aPointer'])[_0x3732de(0x165)](),_0x41da81();}}),_0xb2e801[_0x33d150(0x250)](it,_0xb2e801[_0x33d150(0x1b6)],async()=>{const _0x4a0f71=_0x33d150,_0x18a9c0={'jEzzk':function(_0x48a6da,_0x4cc9ee){const _0x4327cd=_0x48f0;return _0xb2e801[_0x4327cd(0x224)](_0x48a6da,_0x4cc9ee);},'tfcTa':_0xb2e801['CQYNW']};spyOn(Collection['prototype'],_0xb2e801[_0x4a0f71(0x19b)])[_0x4a0f71(0x220)][_0x4a0f71(0x1ec)]();const _0x53acab=new Parse['Object'](_0xb2e801[_0x4a0f71(0x177)]);await _0x53acab[_0x4a0f71(0x17c)]();const _0x470a16=Collection[_0x4a0f71(0x1ea)][_0x4a0f71(0x18b)][_0x4a0f71(0x280)]['all']();expect(_0x470a16[_0x4a0f71(0x217)])['toBeGreaterThan'](0x0),_0x470a16[_0x4a0f71(0x1bf)](_0x4688ef=>{const _0x4f6257=_0x4a0f71,_0x44668c={'SsADh':function(_0x1f5eda,_0x2138e6){return _0x1f5eda(_0x2138e6);}};_0x18a9c0[_0x4f6257(0x1a6)](_0x18a9c0[_0x4f6257(0x264)],_0x18a9c0[_0x4f6257(0x264)])?expect(_0x4688ef[_0x4f6257(0x1e4)][0x1][_0x4f6257(0x192)])['toBeFalsy']():_0x44668c[_0x4f6257(0x23e)](_0xd3e2ad,_0x393436['args'][0x1]['session'])['toBeFalsy']();});}),it(_0xb2e801[_0x33d150(0x154)],async()=>{const _0x5128c2=_0x33d150,_0x53b4b2={'kVUDx':function(_0x46773d,_0x361085){const _0x3a8cae=_0x48f0;return _0x5e1eee[_0x3a8cae(0x203)](_0x46773d,_0x361085);}};_0x5e1eee[_0x5128c2(0x1ce)](spyOn,Collection['prototype'],_0x5e1eee['qYRsm'])['and']['callThrough']();const _0xaad865=new Parse[(_0x5128c2(0x19a))](_0x5e1eee['OWqzk']);await _0xaad865[_0x5128c2(0x17c)](),_0xaad865['set'](_0x5e1eee[_0x5128c2(0x148)],'myValue'),await _0xaad865[_0x5128c2(0x17c)]();const _0x31080f=Collection['prototype'][_0x5128c2(0x263)][_0x5128c2(0x280)]['all']();_0x5e1eee['sQltW'](expect,_0x31080f['length'])[_0x5128c2(0x1eb)](0x0),_0x31080f['forEach'](_0x9a55af=>{const _0x23d2e1=_0x5128c2;_0x53b4b2[_0x23d2e1(0x1e5)](expect,_0x9a55af['args'][0x2]['session'])[_0x23d2e1(0x15f)]();});}),_0xb2e801[_0x33d150(0x202)](it,_0x33d150(0x17d),async()=>{const _0x581d6a=_0x33d150,_0x2598b3={'hhZXc':_0xb2e801[_0x581d6a(0x223)],'mvWsg':_0xb2e801[_0x581d6a(0x275)],'YNFaF':'Pointer','IRMpS':_0x581d6a(0x1ae),'UpWch':function(_0x3a8f4f,_0x27a3d0){return _0x3a8f4f(_0x27a3d0);},'piLzm':function(_0x9db7b7,_0x1b4286){return _0xb2e801['ZjPNV'](_0x9db7b7,_0x1b4286);},'uGXDc':_0xb2e801[_0x581d6a(0x270)]};if(_0x581d6a(0x1c8)!=='mklco'){const _0x328e09=0xfa,_0x192841=new _0x57cbf0({'uri':_0x2d5530,'mongoOptions':{'maxTimeMS':_0x328e09}});_0x192841[_0x581d6a(0x13b)](_0x581d6a(0x179),{'fields':{}},{'objectId':_0x581d6a(0x23c)})[_0x581d6a(0x1c5)](()=>_0x192841['_rawFind'](_0x581d6a(0x179),{'$where':_0x581d6a(0x24a)+_0x328e09/0x2+')'}))[_0x581d6a(0x1c5)](()=>_0xa62c5f(),_0x3b7d37=>{const _0x3731dd=_0x581d6a;_0x1dfb19[_0x3731dd(0x27b)](_0x3731dd(0x166)+_0x3b7d37);});}else{_0xb2e801[_0x581d6a(0x14a)](spyOn,Collection['prototype'],_0xb2e801[_0x581d6a(0x1e8)])[_0x581d6a(0x220)][_0x581d6a(0x1ec)]();const _0x364c54=new Parse[(_0x581d6a(0x19a))](_0xb2e801[_0x581d6a(0x177)]);await _0x364c54[_0x581d6a(0x17c)](),await _0x364c54[_0x581d6a(0x15a)]();const _0x3905b4=Collection['prototype']['deleteMany']['calls'][_0x581d6a(0x22f)]();expect(_0x3905b4[_0x581d6a(0x217)])[_0x581d6a(0x1eb)](0x0),_0x3905b4[_0x581d6a(0x1bf)](_0x132fe3=>{const _0xa2f9e5=_0x581d6a,_0x24e2be={'CTqBh':function(_0x45ba97,_0x3cdc0b){return _0x45ba97(_0x3cdc0b);},'OjxUa':function(_0x2613ad,_0x51079c){return _0x2598b3['UpWch'](_0x2613ad,_0x51079c);},'HTTUg':'string','PNVJV':function(_0x4478cc,_0xcb5b73){return _0x4478cc(_0xcb5b73);},'uChcs':_0xa2f9e5(0x219),'VhlbW':function(_0x4ae08a){return _0x4ae08a();}};if(_0x2598b3[_0xa2f9e5(0x278)](_0x2598b3[_0xa2f9e5(0x23b)],_0x2598b3[_0xa2f9e5(0x23b)]))_0x2598b3[_0xa2f9e5(0x225)](expect,_0x132fe3[_0xa2f9e5(0x1e4)][0x1]['session'])[_0xa2f9e5(0x15f)]();else{const _0xc4ddac={'objectId':_0xa2f9e5(0x14c),'aPointer':{'__type':'Pointer','className':'JustThePointer','objectId':_0x2598b3[_0xa2f9e5(0x276)]}},_0x4bb181=new _0x818327({'uri':_0x5614b8});_0x4bb181['createObject'](_0xa2f9e5(0x16f),{'fields':{'objectId':{'type':_0x2598b3['mvWsg']},'aPointer':{'type':_0x2598b3[_0xa2f9e5(0x18c)],'targetClass':_0x2598b3[_0xa2f9e5(0x241)]}}},_0xc4ddac)[_0xa2f9e5(0x1c5)](()=>_0x4bb181['_rawFind']('APointerDarkly',{}))['then'](_0x28dee2=>{const _0xbb016e=_0xa2f9e5;_0x24e2be[_0xbb016e(0x1be)](_0x11ae0c,_0x28dee2[_0xbb016e(0x217)])[_0xbb016e(0x1c2)](0x1);const _0x3a9da8=_0x28dee2[0x0];_0x24e2be[_0xbb016e(0x162)](_0x2349cb,typeof _0x3a9da8[_0xbb016e(0x25e)])[_0xbb016e(0x1c2)](_0x24e2be[_0xbb016e(0x22d)]),_0x24e2be['PNVJV'](_0x2c41c4,typeof _0x3a9da8[_0xbb016e(0x15e)])[_0xbb016e(0x1c2)]('string'),_0x32880f(_0x3a9da8[_0xbb016e(0x15e)])[_0xbb016e(0x1c2)](_0x24e2be[_0xbb016e(0x24b)]),_0x3779e8(_0x3a9da8[_0xbb016e(0x14d)])[_0xbb016e(0x165)](),_0x24e2be['VhlbW'](_0x154fb4);});}});}});}),describe('watch\x20_SCHEMA',()=>{const _0x294033=_0x158db1;_0xb2e801[_0x294033(0x1df)](it,_0xb2e801[_0x294033(0x14f)],async _0x29e1e4=>{const _0x1b99f2=_0x294033,_0x500737={'kMHYZ':function(_0x418777,_0x2a97e8){return _0xb2e801['HKeYL'](_0x418777,_0x2a97e8);}},_0x419c50=new MongoStorageAdapter({'uri':databaseURI,'collectionPrefix':'','mongoOptions':{'enableSchemaHooks':!![]}});await reconfigureServer({'databaseAdapter':_0x419c50}),_0xb2e801[_0x1b99f2(0x1a3)](expect,_0x419c50[_0x1b99f2(0x174)])['toBe'](!![]),spyOn(_0x419c50,'_onchange');const _0x5da9ab={'fields':{'array':{'type':_0x1b99f2(0x168)},'object':{'type':'Object'},'date':{'type':_0xb2e801[_0x1b99f2(0x1b4)]}}};await _0x419c50[_0x1b99f2(0x186)](_0x1b99f2(0x149),_0x5da9ab);const _0x31d084=await _0x419c50['getClass'](_0xb2e801['xyJBz']);_0xb2e801[_0x1b99f2(0x24f)](expect,_0x31d084)[_0x1b99f2(0x1d0)](),setTimeout(()=>{const _0x548e9d=_0x1b99f2;_0x500737[_0x548e9d(0x1fa)](expect,_0x419c50[_0x548e9d(0x20c)])[_0x548e9d(0x1b7)](),_0x29e1e4();},0x1388);});}));});function _0x4a8d(){const _0x10d290=['OudZb','should\x20not\x20use\x20transactions\x20when\x20using\x20SDK\x20update','SRuvz','_id','wXoSh','setCLP','nTDYI','RlTXN','findOneAndUpdate','tfcTa','UGhzY','jTqSn','../lib/TestUtils','handles\x20nested\x20dates\x20in\x20array\x20','date','LVEuA','executionStats','foo','myAttribute','CVtqg','bugs','IHgWo','mongo','getClass','iso','UnknownClass','qZCrs','hhZXc','ooSRV','piLzm','EzjYt','XpWiC','fail','stores\x20pointers\x20with\x20a\x20_p_\x20prefix','HUfjg','Qcmtd','kuTUG','calls','jLHPg','LHUfz','code','Uktow','MpWno','MYdKU','hniVQ','LxgfV','ooXeb','createObject','EhVPK','XQAgi','handleShutdown,\x20close\x20connection','Query','any','Server','should\x20not\x20use\x20transactions\x20when\x20using\x20SDK\x20insert','iKBgC','cJXQZ','mhraY','piBhp','HFoRY','DxHHw','Stuff','yNOnJ','kxDzb','bar','aPointer','Client\x20must\x20be\x20connected\x20before\x20running\x20operations','yHiop','CrPrj','eJduv','vtnhP','password','rOixv','QtSkZ','mongodb://user!with@+\x20symbols:password!with@+\x20symbols@localhost:1234/parse','object','BEJCm','cxSwp','destroy','message','uGZnE','AIWdY','_p_aPointer','toBeFalsy','7zHwhew','36219931kOkerr','OjxUa','GozLG','362463HLuaIZ','toBeUndefined','maxTimeMS\x20should\x20not\x20affect\x20fast\x20queries\x20','clan','Array','mongodb://user!with%40%2B%20symbols:password!with%40%2B%20symbols@localhost:1234/parse','viFGs','myValue','Vdbij','GgKZz','VtnoI','APointerDarkly','connect','doesn\x27t\x20double\x20escape\x20already\x20URI-encoded\x20information','EuPDN','Ismrz','enableSchemaHooks','VtJTW','mongodb','phmgC','get','Foo','POST','mCtIT','save','should\x20not\x20use\x20transactions\x20when\x20using\x20SDK\x20delete','kcHSn','PUT','set','12yiNHJA','database','dFOHD','className','DpZHj','createClass','DsLdh','LPhmB','WTiCV','amount','insertOne','YNFaF','state','handles\x20object\x20and\x20subdocument','Bugs','gpVLL','xAZnu','session','MyClass','SnjIe','eJuJZ','mzICN','schemaCache','xPPqx','2016-05-26T20:55:01.154Z','Object','dOgfh','stores\x20objectId\x20in\x20_id','deleteAllClasses','gbenM','stringify','toBeRejectedWith','cqhau','ccBzr','jQuDB','COLLSCAN','find','jEzzk','getClass\x20if\x20not\x20exists','FETCH','User','safe','WxRsX','FiUUP','log','JustThePointer','FsJuO','594977WenjOz','loqLT','RPROt','should\x20change','bntnW','connections','RHHOB','toHaveBeenCalled','current','yVgMQ','SKWmG','YbVgE','applicationId','operation\x20exceeded\x20time\x20limit','CTqBh','forEach','application/json','YxVMj','toEqual','should\x20not\x20use\x20transaction\x20in\x20a\x20batch\x20with\x20no\x20transaction\x20option\x20sent','ensureIndex','then','Increment','XsMAF','mklco','uKuzi','zKuTb','deleteFields','gugvA','getClass\x20if\x20exists','cdBAN','OaPkO','toBeDefined','toBeTrue','uuid','wPkVh','qwerty','UubZD','aCxtY','NGTrN','TUSKL','stage','oRgjM','DrgFX','TRANSACTION_COMMITTED','handles\x20updating\x20a\x20single\x20object\x20with\x20array,\x20object\x20date','handles\x20nested\x20dates','EtmGK','oonjQ','Date','subdoc','Schema','args','kVUDx','/1/classes/MyObject/','replicaset','Alrwp','LhjiT','prototype','toBeGreaterThan','callThrough','ITtxa','toBe','transaction','JAPeD','pyxht','Fqmcm','1307236LKhxwg','string','ItaKJ','toHaveBeenCalledWith','find\x20fails\x20when\x20query\x20exceeds\x20maxTimeMS','classLevelPermissions','catch','kMHYZ','13046190rgEduj','upserts\x20with\x20$setOnInsert','serverStatus','UZutD','JPPNy','wYhra','../lib/Adapters/Storage/Mongo/MongoStorageAdapter','GrEnH','dvCNj','chVGM','hodQq','handles\x20creating\x20an\x20array,\x20object,\x20date','adapter','signUp','rSynx','3005465SVFhec','xiiyy','_onchange','FpQQU','ImZgB','preserves\x20replica\x20sets','uByKx','find\x20succeeds\x20when\x20query\x20is\x20within\x20maxTimeMS','Number','qxrey','luJWJ','22davYEP','pyqJU','length','hvLoq','JustThePointer$qwerty','AJhOb','POKKJ','should\x20use\x20index\x20for\x20caseInsensitive\x20query','vEZYj','9nifGrW','iwsJV','and','1940920vDDJPh','mongodb://test:testpass@ds056315-a0.mongolab.com:59325,ds059315-a1.mongolab.com:59315/testDBname?replicaSet=rs-ds059415','zsVyT','gPlDr','UpWch','Bunny','returnValue','_rawFind','http://localhost:8378/1/batch','MyObject','transactions','vBcLc','HTTUg','RIWOw','all','ksYLX','objectId','return\x20new\x20Date();','MONGODB_TOPOLOGY','should\x20not\x20use\x20transaction\x20in\x20a\x20batch\x20with\x20transaction\x20=\x20false','__type','vzyYS','../lib/request','TNQef','update','DcoHd','uGXDc','abcde','jASnJ','SsADh','resolve','test','IRMpS','array','should\x20not\x20use\x20transaction\x20in\x20a\x20put\x20request','executionStages','MongoServerError','uyCPr','String','tsIPa','admin','sleep(','uChcs','TGVWJ','fields','aNloW','zmmVA','jFkGw','Pointer','XIVeK','tan','WVZQi','xxYcB','HsMnR','<5.1\x20||\x20>=6','GXYvK','12ovRqau','env'];_0x4a8d=function(){return _0x10d290;};return _0x4a8d();}