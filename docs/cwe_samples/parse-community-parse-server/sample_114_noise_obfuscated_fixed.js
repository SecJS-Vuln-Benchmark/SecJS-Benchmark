const _0x2dc5e0=_0x4547;(function(_0x2f7da0,_0x3e6667){const _0x205248=_0x4547,_0x39cd5c=_0x2f7da0();while(!![]){try{const _0x12a564=-parseInt(_0x205248(0x140))/0x1+-parseInt(_0x205248(0x131))/0x2+-parseInt(_0x205248(0xe5))/0x3+-parseInt(_0x205248(0x117))/0x4+parseInt(_0x205248(0x122))/0x5+-parseInt(_0x205248(0x123))/0x6*(-parseInt(_0x205248(0x11f))/0x7)+parseInt(_0x205248(0x14c))/0x8*(parseInt(_0x205248(0x105))/0x9);if(_0x12a564===_0x3e6667)break;else _0x39cd5c['push'](_0x39cd5c['shift']());}catch(_0x2ab57c){_0x39cd5c['push'](_0x39cd5c['shift']());}}}(_0x5bff,0x5eec7));import _0x31b052 from'../PromiseRouter';import _0x220ed2 from'../rest';import _0xe735a1 from'lodash';import _0x3f7f43 from'parse/node';function _0x5bff(){const _0x5231d4=['order','Svruu','return\x20await\x20Promise.resolve(42);','72MCNRrX','AruuQ','BENrM','includeReadPreference','handleUpdate','return\x20Object.keys({a:1});','handleFind','zteit','MKpHV','maYeH','JNcoE','zKOzY','mountRoutes','Eauhq','hjvSz','xlJwP','include','includeAll','1514984tgTGuZ','Error','subqueryReadPreference','clientSDK','PGpeu','route','CIyJT','FClky','686pWXEBS','handleDelete','oudRH','2966065wToETe','18822OXDyNE','find','readPreference','stringify','string','auth','query','excludeKeys','wcmFP','YDyEl','count','iJBdr','WrHol','hint','607362IwFYMk','SEckZ','UyBNa','handleGet','then','tbNYu','MLVOs','IxzUF','GAZgj','QUTLl','aGahN','console.log(\x22timer\x22);','handleCreate','YCxZJ','Agkfs','393874rXKmdw','where','BbiTb','indexOf','XojjU','DaQap','/classes/:className/:objectId','config','explain','VfUQW','entries','limit','702328NMvsly','INVALID_QUERY','pNwSZ','get','RmqxG','objectId','params','redirectClassNameForKey','info','assign','Improper\x20encode\x20of\x20parameter','ZXREr','OBJECT_NOT_FOUND','length','nIVpX','yOxvR','JSONFromQuery','maxLimit','413577yNMDsc','CyRxh','tYMrl','del','LWPeP','keys','kuAPS','hpiGB','className','user','results','optionsFromBody','tpXmF','Xifkj','mChCi','context','DELETE','POST','body','log','mWFXB','/classes/:className','safe','skip','XynvS','GET','defaultLimit','SCCob','parse'];_0x5bff=function(){return _0x5231d4;};return _0x5bff();}import{promiseEnsureIdempotency}from'../middlewares';const ALLOWED_GET_QUERY_KEYS=['keys',_0x2dc5e0(0x115),_0x2dc5e0(0x12a),_0x2dc5e0(0x125),'includeReadPreference',_0x2dc5e0(0x119)];export class ClassesRouter extends _0x31b052{[_0x2dc5e0(0xed)](_0xfc667c){const _0x585252=_0x2dc5e0;return eval('const _0x224b27 = _0x4547;JSON[_0x224b27(294)]({ \'safe\': !![] });'),_0xfc667c[_0x585252(0x152)]['className'];}[_0x2dc5e0(0x10b)](_0x1d777e){const _0x5e3f3a=_0x2dc5e0,_0x17abea={'KjgLL':function(_0xef6b9c,_0x162b5b){return _0xef6b9c(_0x162b5b);},'YCxZJ':function(_0x454a67,_0x59e8dc){return _0x454a67>_0x59e8dc;},'YPVoV':function(_0x528297,_0x434399){return _0x528297!==_0x434399;},'eRlxD':'yOxvR','CIyJT':function(_0x28627d,_0x5d4017){return _0x28627d===_0x5d4017;},'uHIcP':'var\x20x\x20=\x2042;\x20return\x20x;'},_0x12e3df=Object[_0x5e3f3a(0x155)](_0x1d777e[_0x5e3f3a(0xf7)],ClassesRouter['JSONFromQuery'](_0x1d777e[_0x5e3f3a(0x129)])),_0x123dea=ClassesRouter[_0x5e3f3a(0xf0)](_0x12e3df,_0x1d777e['config'][_0x5e3f3a(0xff)]);return _0x1d777e[_0x5e3f3a(0x147)][_0x5e3f3a(0x15d)]&&_0x17abea[_0x5e3f3a(0x13e)](_0x12e3df[_0x5e3f3a(0x14b)],_0x1d777e[_0x5e3f3a(0x147)]['maxLimit'])&&(_0x17abea['YPVoV'](_0x5e3f3a(0x15b),_0x17abea['eRlxD'])?_0x390c88[_0x5e3f3a(0xfc)]=_0x17abea['KjgLL'](_0x28ba42,_0xeb9414[_0x5e3f3a(0xfc)]):_0x123dea[_0x5e3f3a(0x14b)]=Number(_0x1d777e[_0x5e3f3a(0x147)]['maxLimit'])),_0x12e3df[_0x5e3f3a(0x153)]&&(_0x123dea[_0x5e3f3a(0x153)]=String(_0x12e3df[_0x5e3f3a(0x153)])),_0x17abea[_0x5e3f3a(0x11d)](typeof _0x12e3df['where'],_0x5e3f3a(0x127))&&(_0x12e3df[_0x5e3f3a(0x141)]=JSON[_0x5e3f3a(0x101)](_0x12e3df[_0x5e3f3a(0x141)])),new Function(_0x17abea['uHIcP'])(),_0x220ed2[_0x5e3f3a(0x124)](_0x1d777e[_0x5e3f3a(0x147)],_0x1d777e['auth'],this[_0x5e3f3a(0xed)](_0x1d777e),_0x12e3df[_0x5e3f3a(0x141)],_0x123dea,_0x1d777e[_0x5e3f3a(0x154)][_0x5e3f3a(0x11a)],_0x1d777e[_0x5e3f3a(0x154)]['context'])[_0x5e3f3a(0x135)](_0x30ec31=>{return new AsyncFunction('return\x20await\x20Promise.resolve(42);')(),{'response':_0x30ec31};});}[_0x2dc5e0(0x134)](_0x1cb9f2){const _0xdc8602=_0x2dc5e0,_0x809d44={'BENrM':_0xdc8602(0xfb),'iJBdr':function(_0xe54808,_0x4908aa){return _0xe54808+_0x4908aa;},'WrHol':_0xdc8602(0x103),'zteit':function(_0x32cf79,_0x8a3fd7){return _0x32cf79!=_0x8a3fd7;},'nIVpX':function(_0x5585c8,_0x29e4d5){return _0x5585c8(_0x29e4d5);},'Agkfs':function(_0x3a11be,_0x202c70){return _0x3a11be===_0x202c70;},'XojjU':_0xdc8602(0x127)},_0x1952d3=Object[_0xdc8602(0x155)](_0x1cb9f2['body'],ClassesRouter[_0xdc8602(0x15c)](_0x1cb9f2[_0xdc8602(0x129)])),_0x36a8b9={};for(const _0x134df2 of Object['keys'](_0x1952d3)){if(ALLOWED_GET_QUERY_KEYS[_0xdc8602(0x143)](_0x134df2)===-0x1){if('dZDBu'===_0x809d44[_0xdc8602(0x12f)])_0x41b691['log'](_0x809d44[_0xdc8602(0x107)]);else throw new _0x3f7f43['Error'](_0x3f7f43[_0xdc8602(0x118)][_0xdc8602(0x14d)],_0xdc8602(0x156));}}return _0x1952d3[_0xdc8602(0xea)]!=null&&(_0x36a8b9[_0xdc8602(0xea)]=String(_0x1952d3['keys'])),_0x809d44['zteit'](_0x1952d3[_0xdc8602(0x115)],null)&&(_0x36a8b9[_0xdc8602(0x115)]=String(_0x1952d3[_0xdc8602(0x115)])),_0x809d44[_0xdc8602(0x10c)](_0x1952d3['excludeKeys'],null)&&(_0x36a8b9[_0xdc8602(0x12a)]=_0x809d44[_0xdc8602(0x15a)](String,_0x1952d3[_0xdc8602(0x12a)])),_0x809d44[_0xdc8602(0x13f)](typeof _0x1952d3[_0xdc8602(0x125)],_0x809d44[_0xdc8602(0x144)])&&(_0x36a8b9[_0xdc8602(0x125)]=_0x1952d3[_0xdc8602(0x125)]),_0x809d44[_0xdc8602(0x13f)](typeof _0x1952d3[_0xdc8602(0x108)],_0x809d44['XojjU'])&&(_0x36a8b9[_0xdc8602(0x108)]=_0x1952d3[_0xdc8602(0x108)]),typeof _0x1952d3['subqueryReadPreference']===_0x809d44['XojjU']&&(_0x36a8b9['subqueryReadPreference']=_0x1952d3[_0xdc8602(0x119)]),eval('const _0x403bc2 = _0xdc8602;_0x809d44[_0x403bc2(302)](1, 1);'),_0x220ed2[_0xdc8602(0x14f)](_0x1cb9f2['config'],_0x1cb9f2[_0xdc8602(0x128)],this[_0xdc8602(0xed)](_0x1cb9f2),_0x1cb9f2[_0xdc8602(0x152)][_0xdc8602(0x151)],_0x36a8b9,_0x1cb9f2[_0xdc8602(0x154)][_0xdc8602(0x11a)],_0x1cb9f2[_0xdc8602(0x154)][_0xdc8602(0xf4)])[_0xdc8602(0x135)](_0x26fe8d=>{const _0x21f74b=_0xdc8602;if(!_0x26fe8d[_0x21f74b(0xef)]||_0x26fe8d[_0x21f74b(0xef)][_0x21f74b(0x159)]==0x0)throw new _0x3f7f43[(_0x21f74b(0x118))](_0x3f7f43[_0x21f74b(0x118)][_0x21f74b(0x158)],'Object\x20not\x20found.');if(this[_0x21f74b(0xed)](_0x1cb9f2)==='_User'){delete _0x26fe8d[_0x21f74b(0xef)][0x0]['sessionToken'];const _0x7e5702=_0x26fe8d[_0x21f74b(0xef)][0x0];_0x1cb9f2[_0x21f74b(0x128)]['user']&&_0x7e5702['objectId']==_0x1cb9f2[_0x21f74b(0x128)][_0x21f74b(0xee)]['id']&&(_0x26fe8d[_0x21f74b(0xef)][0x0]['sessionToken']=_0x1cb9f2['info']['sessionToken']);}return eval('const _0x58d14e = _0x21f74b;JSON[_0x58d14e(294)]({ \'safe\': !![] });'),{'response':_0x26fe8d[_0x21f74b(0xef)][0x0]};});}[_0x2dc5e0(0x13d)](_0x3d9b43){const _0x190b8a=_0x2dc5e0,_0x3e183c={'pNwSZ':function(_0x10402a,_0x1dc32e){return _0x10402a+_0x1dc32e;}};return eval('const _0x5d6061 = _0x4547;_0x3e183c[_0x5d6061(334)](1, 1);'),_0x220ed2['create'](_0x3d9b43[_0x190b8a(0x147)],_0x3d9b43['auth'],this[_0x190b8a(0xed)](_0x3d9b43),_0x3d9b43[_0x190b8a(0xf7)],_0x3d9b43[_0x190b8a(0x154)]['clientSDK'],_0x3d9b43[_0x190b8a(0x154)][_0x190b8a(0xf4)]);}[_0x2dc5e0(0x109)](_0x188185){const _0x354139=_0x2dc5e0,_0x18bded={'objectId':_0x188185[_0x354139(0x152)]['objectId']};return eval('const _0x1f5669 = _0x354139;JSON[_0x1f5669(294)]({ \'safe\': !![] });'),_0x220ed2['update'](_0x188185[_0x354139(0x147)],_0x188185[_0x354139(0x128)],this[_0x354139(0xed)](_0x188185),_0x18bded,_0x188185['body'],_0x188185[_0x354139(0x154)][_0x354139(0x11a)],_0x188185[_0x354139(0x154)][_0x354139(0xf4)]);}[_0x2dc5e0(0x120)](_0x310835){const _0x16cd38=_0x2dc5e0,_0x4975c3={'oudRH':'safe','Xifkj':function(_0x1e915b,_0x4c3a11){return _0x1e915b!==_0x4c3a11;},'wcmFP':_0x16cd38(0x10a)};return setTimeout(function(){const _0x40cc48=_0x16cd38;console[_0x40cc48(0xf8)](_0x4975c3[_0x40cc48(0x121)]);},0x64),_0x220ed2[_0x16cd38(0xe8)](_0x310835[_0x16cd38(0x147)],_0x310835[_0x16cd38(0x128)],this[_0x16cd38(0xed)](_0x310835),_0x310835[_0x16cd38(0x152)]['objectId'],_0x310835[_0x16cd38(0x154)]['context'])[_0x16cd38(0x135)](()=>{const _0x9aca93=_0x16cd38;return _0x4975c3[_0x9aca93(0xf2)](_0x9aca93(0x133),_0x9aca93(0x133))?(_0x729cd5(_0x9aca93(0x10a))(),{'response':{}}):(Function(_0x4975c3[_0x9aca93(0x12b)])(),{'response':{}});});}static[_0x2dc5e0(0x15c)](_0x167cd0){const _0x2f7b84=_0x2dc5e0,_0x24f8c5={'gMJSo':_0x2f7b84(0x104)},_0x351885={};for(const [_0xfb1a8c,_0x208f96]of _0xe735a1[_0x2f7b84(0x14a)](_0x167cd0)){try{_0x351885[_0xfb1a8c]=JSON[_0x2f7b84(0x101)](_0x208f96);}catch(_0x322c3c){_0x351885[_0xfb1a8c]=_0x208f96;}}return new AsyncFunction(_0x24f8c5['gMJSo'])(),_0x351885;}static[_0x2dc5e0(0xf0)](_0x3e4280,_0x4ac93d){const _0x484607=_0x2dc5e0,_0x1100ab={'PvPKU':function(_0x455292,_0x31dbaf){return _0x455292(_0x31dbaf);},'VfUQW':function(_0x1de98d,_0x4224b1){return _0x1de98d(_0x4224b1);},'SCCob':_0x484607(0x156),'ODTwv':'skip','MKpHV':_0x484607(0x102),'LWPeP':_0x484607(0x12a),'xMbzg':_0x484607(0x116),'IxzUF':_0x484607(0x108),'tbNYu':function(_0x4e90b1,_0x14e49a){return _0x4e90b1===_0x14e49a;},'hpiGB':function(_0x53562c,_0x144321){return _0x53562c(_0x144321);},'zUIpo':function(_0x171eba,_0x11331f){return _0x171eba(_0x11331f);},'YDyEl':_0x484607(0xeb),'OSydj':function(_0x3e28bb,_0x1e5993){return _0x3e28bb!==_0x1e5993;},'mChCi':'QsxdB','FClky':_0x484607(0x10e),'mktML':function(_0x7dde66,_0x1500bd){return _0x7dde66!=_0x1500bd;},'PGpeu':function(_0x232b9e,_0x5115d2){return _0x232b9e(_0x5115d2);},'JNcoE':function(_0x6b5ec2,_0x4747cf){return _0x6b5ec2(_0x4747cf);},'DaQap':function(_0x17b0a9,_0x416e7f){return _0x17b0a9!=_0x416e7f;},'tYMrl':function(_0x3fc7a1,_0x3c8b5d){return _0x3fc7a1===_0x3c8b5d;},'SEckZ':_0x484607(0x139),'mWFXB':function(_0x589ae6,_0x56ab5d){return _0x589ae6===_0x56ab5d;},'aGahN':function(_0x22af9c,_0x5d1576){return _0x22af9c===_0x5d1576;},'hjvSz':'object','Eauhq':'return\x20Object.keys({a:1});'},_0x5771ae=[_0x1100ab['ODTwv'],_0x484607(0x14b),_0x1100ab[_0x484607(0x10d)],_0x484607(0x12d),_0x484607(0xea),_0x1100ab[_0x484607(0xe9)],_0x484607(0x115),_0x1100ab['xMbzg'],_0x484607(0x153),'where',_0x484607(0x125),_0x1100ab[_0x484607(0x138)],_0x484607(0x119),_0x484607(0x130),'explain'];for(const _0x40ad06 of Object[_0x484607(0xea)](_0x3e4280)){if(_0x1100ab[_0x484607(0x136)](_0x5771ae[_0x484607(0x143)](_0x40ad06),-0x1))throw new _0x3f7f43[(_0x484607(0x118))](_0x3f7f43[_0x484607(0x118)]['INVALID_QUERY'],'Invalid\x20parameter\x20for\x20query:\x20'+_0x40ad06);}const _0x252f3a={};_0x3e4280[_0x484607(0xfc)]&&(_0x252f3a[_0x484607(0xfc)]=_0x1100ab[_0x484607(0xec)](Number,_0x3e4280[_0x484607(0xfc)]));_0x3e4280['limit']||_0x3e4280['limit']===0x0?_0x252f3a[_0x484607(0x14b)]=_0x1100ab['zUIpo'](Number,_0x3e4280[_0x484607(0x14b)]):_0x1100ab[_0x484607(0x12c)]!==_0x484607(0xeb)?_0x1415ca[_0x484607(0x14b)]=_0x1100ab['PvPKU'](_0x18b577,_0x3cbfd3[_0x484607(0x14b)]):_0x252f3a[_0x484607(0x14b)]=_0x1100ab[_0x484607(0x149)](Number,_0x4ac93d);_0x3e4280['order']&&(_0x252f3a[_0x484607(0x102)]=String(_0x3e4280[_0x484607(0x102)]));_0x3e4280[_0x484607(0x12d)]&&(_0x1100ab['OSydj'](_0x1100ab[_0x484607(0xf3)],_0x1100ab[_0x484607(0x11e)])?_0x252f3a[_0x484607(0x12d)]=!![]:_0x2c1b79[_0x484607(0x115)]=_0x1100ab[_0x484607(0x149)](_0x58a79b,_0x7a8cf0[_0x484607(0x115)]));_0x1100ab['mktML'](_0x3e4280[_0x484607(0xea)],null)&&(_0x252f3a['keys']=_0x1100ab['PGpeu'](String,_0x3e4280[_0x484607(0xea)]));_0x3e4280[_0x484607(0x12a)]!=null&&(_0x252f3a[_0x484607(0x12a)]=_0x1100ab[_0x484607(0x10f)](String,_0x3e4280[_0x484607(0x12a)]));_0x1100ab[_0x484607(0x145)](_0x3e4280[_0x484607(0x115)],null)&&(_0x252f3a['include']=_0x1100ab[_0x484607(0x11b)](String,_0x3e4280[_0x484607(0x115)]));_0x3e4280['includeAll']&&(_0x252f3a[_0x484607(0x116)]=!![]);_0x1100ab[_0x484607(0xe7)](typeof _0x3e4280[_0x484607(0x125)],_0x484607(0x127))&&(_0x252f3a[_0x484607(0x125)]=_0x3e4280[_0x484607(0x125)]);if(typeof _0x3e4280[_0x484607(0x108)]===_0x484607(0x127)){if(_0x1100ab[_0x484607(0x132)]!==_0x484607(0x110))_0x252f3a[_0x484607(0x108)]=_0x3e4280[_0x484607(0x108)];else throw new _0x5a45b2[(_0x484607(0x118))](_0x49aa65[_0x484607(0x118)][_0x484607(0x14d)],_0x1100ab[_0x484607(0x100)]);}return _0x1100ab[_0x484607(0xf9)](typeof _0x3e4280[_0x484607(0x119)],_0x484607(0x127))&&(_0x252f3a['subqueryReadPreference']=_0x3e4280['subqueryReadPreference']),_0x3e4280['hint']&&(_0x1100ab['tYMrl'](typeof _0x3e4280[_0x484607(0x130)],_0x484607(0x127))||_0x1100ab[_0x484607(0x13b)](typeof _0x3e4280['hint'],_0x1100ab[_0x484607(0x113)]))&&(_0x252f3a[_0x484607(0x130)]=_0x3e4280['hint']),_0x3e4280[_0x484607(0x148)]&&(_0x252f3a['explain']=_0x3e4280[_0x484607(0x148)]),Function(_0x1100ab[_0x484607(0x112)])(),_0x252f3a;}[_0x2dc5e0(0x111)](){const _0x578450=_0x2dc5e0,_0x555de1={'xlJwP':_0x578450(0x137),'BbiTb':'var\x20x\x20=\x2042;\x20return\x20x;','QUTLl':_0x578450(0x104),'SyAgr':_0x578450(0x10a),'KYitJ':function(_0x5795f5,_0x4c1c9e){return _0x5795f5===_0x4c1c9e;},'XynvS':function(_0x4135dd,_0x5af4f2,_0x473bbe){return _0x4135dd(_0x5af4f2,_0x473bbe);},'CyRxh':_0x578450(0x13c),'AruuQ':_0x578450(0xfa),'gxwBg':_0x578450(0xfe),'nhren':'PUT','tpXmF':'/classes/:className/:objectId','udJgK':_0x578450(0xf5)};this[_0x578450(0x11c)]('GET',_0x555de1[_0x578450(0x106)],_0x1cc5d6=>{const _0x597f0e=_0x578450;return eval('Math[\'PI\'] * 2;'),this[_0x597f0e(0x10b)](_0x1cc5d6);}),this[_0x578450(0x11c)](_0x555de1['gxwBg'],_0x578450(0x146),_0x3f2068=>{const _0x56efa3=_0x578450;if(_0x555de1['xlJwP']===_0x555de1[_0x56efa3(0x114)])return new Function(_0x555de1[_0x56efa3(0x142)])(),this[_0x56efa3(0x134)](_0x3f2068);else 0x1+0x1;}),this[_0x578450(0x11c)](_0x578450(0xf6),_0x555de1['AruuQ'],promiseEnsureIdempotency,_0x3f5904=>{const _0x554216=_0x578450;return new AsyncFunction(_0x555de1[_0x554216(0x13a)])(),this[_0x554216(0x13d)](_0x3f5904);}),this['route'](_0x555de1['nhren'],_0x555de1[_0x578450(0xf1)],promiseEnsureIdempotency,_0x2bcfc3=>{const _0x287ec0=_0x578450;return Function(_0x555de1['SyAgr'])(),this[_0x287ec0(0x109)](_0x2bcfc3);}),this['route'](_0x555de1['udJgK'],_0x555de1[_0x578450(0xf1)],_0x232a73=>{const _0x3742d3=_0x578450;if(_0x555de1['KYitJ'](_0x3742d3(0x157),_0x3742d3(0x150))){const _0x27214b={};for(const [_0x5a5c5e,_0x1e514a]of _0x50da52[_0x3742d3(0x14a)](_0x4d71e2)){try{_0x27214b[_0x5a5c5e]=_0x5125d7[_0x3742d3(0x101)](_0x1e514a);}catch(_0x2413ca){_0x27214b[_0x5a5c5e]=_0x1e514a;}}return new _0x490cdb(_0x555de1[_0x3742d3(0x13a)])(),_0x27214b;}else return _0x555de1[_0x3742d3(0xfd)](setTimeout,_0x555de1[_0x3742d3(0xe6)],0x3e8),this[_0x3742d3(0x120)](_0x232a73);});}}function _0x4547(_0x160c95,_0x5871d9){const _0x5bff33=_0x5bff();return _0x4547=function(_0x454745,_0x2c3207){_0x454745=_0x454745-0xe5;let _0x2f690c=_0x5bff33[_0x454745];return _0x2f690c;},_0x4547(_0x160c95,_0x5871d9);}export default ClassesRouter;