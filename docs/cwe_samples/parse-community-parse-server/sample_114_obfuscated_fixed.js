function _0x1396(){const _0x3242ce=['ZuFgC','SpellingController','should\x20return\x20an\x20empty\x20misspellings\x20array','should','TtEMo','split','avLsT','sandboxed-module','RPFJE','controller','vsxiZ','yZMlf','AFSdl','BEOsb','user','returns','AGVUv','vYTJY','NLdld','xKHLn','NPDJM','vozfA','AuthenticationController','YtJlu','should\x20stream\x20the\x20response\x20to\x20the\x20request','qmAmD','requestStreamPipe','when\x20the\x20request\x20is\x20not\x20a\x20check\x20request','../helpers/MockResponse','sinon','calledWith','req','258980vcHmMb','when\x20the\x20request\x20is\x20a\x20check\x20request','duGmS','dqsyq','2QFDNSp','ZyjQX','VHiGf','should\x20not\x20send\x20a\x20request\x20to\x20the\x20spelling\x20host','ietZx','userId','called','MCYfc','YCtLi','/check','tkrkX','status','/user/','iXsro','ZSzIX','session','http://spelling.service.test','yEJmJ','json','MVrVk','blab','French','require','user-id-123','should\x20add\x20an\x20error\x20callback\x20to\x20the\x20request','qjFip','gVxWK','requestStreamOn','rBXUa','on\x20successful\x20call','should\x20return\x20a\x20422\x20status','ObEjL','4996808QUfShy','2|4|1|3|6|5|0','equal','uXdQe','UAIrk','url','when\x20no\x20language\x20is\x20indicated','982280AwJHVj','1143716dvaYwC','iRydq','request','iAmHC','780369qZFvhC','CLQnO','error','24glNLWr','_id','body','POST','oIjQq','HYghu','should\x20send\x20a\x20request\x20to\x20the\x20spelling\x20host','TlwSJ','LObpz','/spelling/learn','591403qBSLQp','proxyRequestToSpellingApi','stub','852309tozRRf','CSRUz','res'];_0x1396=function(){return _0x3242ce;};return _0x1396();}function _0x2d22(_0x122eb7,_0x4c525c){const _0x1396f9=_0x1396();return _0x2d22=function(_0x2d22bc,_0x3216d8){_0x2d22bc=_0x2d22bc-0x6e;let _0x27cca9=_0x1396f9[_0x2d22bc];return _0x27cca9;},_0x2d22(_0x122eb7,_0x4c525c);}const _0x1630cb=_0x2d22;(function(_0x5b3625,_0x596e84){const _0x53fbe6=_0x2d22,_0x53161a=_0x5b3625();while(!![]){try{const _0x181491=parseInt(_0x53fbe6(0x85))/0x1+parseInt(_0x53fbe6(0xaf))/0x2*(-parseInt(_0x53fbe6(0x78))/0x3)+-parseInt(_0x53fbe6(0xab))/0x4+parseInt(_0x53fbe6(0x73))/0x5+-parseInt(_0x53fbe6(0x7b))/0x6*(parseInt(_0x53fbe6(0x74))/0x7)+parseInt(_0x53fbe6(0xcf))/0x8+-parseInt(_0x53fbe6(0x88))/0x9;if(_0x181491===_0x596e84)break;else _0x53161a['push'](_0x53161a['shift']());}catch(_0x3010e9){_0x53161a['push'](_0x53161a['shift']());}}}(_0x1396,0x52d8b));const SandboxedModule=require(_0x1630cb(0x92)),sinon=require(_0x1630cb(0xa8)),MockResponse=require(_0x1630cb(0xa7)),modulePath=require('path')['join'](__dirname,'../../../../app/src/Features/Spelling/SpellingController.js'),TEN_SECONDS=0x3e8*0xa,SPELLING_HOST=_0x1630cb(0xbf),SPELLING_URL=_0x1630cb(0xbf);describe(_0x1630cb(0x8c),function(){const _0x26d03b=_0x1630cb,_0x44552f={'yZMlf':_0x26d03b(0xd0),'rBXUa':'/spelling/check','TlwSJ':_0x26d03b(0x7e),'CSRUz':'English','tkrkX':function(_0x22b00c,_0x5d48c8){return _0x22b00c(_0x5d48c8);},'ZSzIX':_0x26d03b(0x81),'ZyjQX':_0x26d03b(0x9f),'RPFJE':function(_0xfff23d,_0xfd6e1c){return _0xfff23d(_0xfd6e1c);},'NLdld':function(_0x601f5d,_0x5ea2be,_0x23ef12){return _0x601f5d(_0x5ea2be,_0x23ef12);},'xKHLn':_0x26d03b(0xac),'BEOsb':function(_0x1fd334,_0x5d3b80){return _0x1fd334===_0x5d3b80;},'VHiGf':_0x26d03b(0xa6),'qmAmD':_0x26d03b(0xc6),'avLsT':_0x26d03b(0xc7),'FfFdM':function(_0x5bde50,_0x37a4cd){return _0x5bde50(_0x37a4cd);},'CLQnO':_0x26d03b(0xcc),'ietZx':'when\x20the\x20requested\x20language\x20is\x20not\x20supported','Hmnej':_0x26d03b(0x86)},_0x289fde='123nd3ijdks';beforeEach(function(){const _0x5f0d6c=_0x26d03b,_0x1df725=_0x44552f[_0x5f0d6c(0x96)][_0x5f0d6c(0x90)]('|');let _0x32e59e=0x0;while(!![]){switch(_0x1df725[_0x32e59e++]){case'0':this[_0x5f0d6c(0x8a)]=new MockResponse();continue;case'1':this['request']=sinon['stub']()['returns']({'on':this[_0x5f0d6c(0xca)]});continue;case'2':this[_0x5f0d6c(0xa5)]=sinon[_0x5f0d6c(0x87)]();continue;case'3':this[_0x5f0d6c(0xa1)]={'getLoggedInUserId':_0x4e937e=>_0x4e937e['session']['user']['_id']};continue;case'4':this['requestStreamOn']=sinon[_0x5f0d6c(0x87)]()[_0x5f0d6c(0x9a)]({'pipe':this[_0x5f0d6c(0xa5)]});continue;case'5':this[_0x5f0d6c(0xaa)]={'url':_0x44552f[_0x5f0d6c(0xcb)],'method':_0x44552f[_0x5f0d6c(0x82)],'params':{},'session':{'user':{'_id':_0x289fde}},'headers':{'Host':SPELLING_HOST}};continue;case'6':this['controller']=SandboxedModule[_0x5f0d6c(0xc5)](modulePath,{'requires':{'./LearnedWordsManager':{},'request':this[_0x5f0d6c(0x76)],'@overleaf/settings':{'languages':[{'name':_0x44552f[_0x5f0d6c(0x89)],'code':'en'},{'name':_0x5f0d6c(0xc4),'code':'fr'}],'apis':{'spelling':{'host':SPELLING_HOST,'url':SPELLING_URL}}},'../Authentication/AuthenticationController':this['AuthenticationController']}});continue;}break;}}),describe(_0x44552f['Hmnej'],function(){const _0x30d328=_0x26d03b,_0xd00c0c={'oIjQq':_0x44552f[_0x30d328(0xa4)],'AFSdl':'blab','cFtZv':function(_0x5bcd63,_0x550218){return _0x5bcd63!==_0x550218;},'YtJlu':_0x30d328(0xae),'iRydq':'error','wbBii':function(_0x3e2e36,_0x11cf5b){return _0x44552f['RPFJE'](_0x3e2e36,_0x11cf5b);},'YCtLi':function(_0x114ef5,_0x1700c3,_0x1849f0){return _0x114ef5(_0x1700c3,_0x1849f0);},'ObEjL':_0x30d328(0xa3),'mRuVA':_0x44552f[_0x30d328(0x91)],'MCYfc':function(_0x5ec589,_0x34569d){return _0x44552f['FfFdM'](_0x5ec589,_0x34569d);},'fvfQd':_0x44552f['ZSzIX']};_0x44552f['NLdld'](describe,_0x44552f[_0x30d328(0x79)],function(){const _0x13d6de=_0x30d328;_0xd00c0c['wbBii'](beforeEach,function(){const _0x28c240=_0x2d22,_0x231e77={'BTfeO':_0xd00c0c[_0x28c240(0x7f)],'TtEMo':_0xd00c0c[_0x28c240(0x97)]};_0xd00c0c['cFtZv']('QVqKp',_0xd00c0c[_0x28c240(0xa2)])?(this['req']['session'][_0x28c240(0x99)]['_id']=this['userId']=_0xd00c0c[_0x28c240(0x7f)],this[_0x28c240(0xaa)][_0x28c240(0x7d)]={'language':'en','words':[_0x28c240(0xc3)]},this[_0x28c240(0x94)][_0x28c240(0x86)](this[_0x28c240(0xaa)],this[_0x28c240(0x8a)])):(this['req']['session'][_0x28c240(0x99)][_0x28c240(0x7c)]=this[_0x28c240(0xb4)]=_0x231e77['BTfeO'],this['req'][_0x28c240(0x7d)]={'language':'fi','words':[_0x231e77[_0x28c240(0x8f)]]});}),_0xd00c0c[_0x13d6de(0xb7)](it,_0x13d6de(0x81),function(){const _0x49fc5f=_0x13d6de;this[_0x49fc5f(0x76)]['calledWith']({'url':SPELLING_URL+_0x49fc5f(0xbb)+this[_0x49fc5f(0xb4)]+_0x49fc5f(0xb8),'method':this['req']['method'],'headers':this[_0x49fc5f(0xaa)]['headers'],'json':this[_0x49fc5f(0xaa)][_0x49fc5f(0x7d)],'timeout':TEN_SECONDS})[_0x49fc5f(0x8e)]['equal'](!![]);}),it(_0xd00c0c[_0x13d6de(0xce)],function(){const _0xbe40dc=_0x13d6de;this[_0xbe40dc(0xa5)][_0xbe40dc(0xa9)](this[_0xbe40dc(0x8a)])['should'][_0xbe40dc(0x6e)](!![]);}),_0xd00c0c[_0x13d6de(0xb7)](it,_0xd00c0c['mRuVA'],function(){const _0x160d7d=_0x13d6de;this[_0x160d7d(0xca)][_0x160d7d(0xa9)](_0xd00c0c[_0x160d7d(0x75)])[_0x160d7d(0x8e)][_0x160d7d(0x6e)](!![]);});}),describe(_0x44552f[_0x30d328(0xb3)],function(){const _0xc25f74=_0x30d328,_0x1586e3={'yEJmJ':function(_0x422eaf,_0x3b021b){const _0x1650ed=_0x2d22;return _0x44552f[_0x1650ed(0xb9)](_0x422eaf,_0x3b021b);},'iXsro':function(_0x23fe2f,_0x14ba22,_0xfb0983){return _0x23fe2f(_0x14ba22,_0xfb0983);},'iAmHC':'should\x20return\x20an\x20empty\x20misspellings\x20array','duGmS':'should\x20return\x20a\x20422\x20status','uXdQe':_0x44552f[_0xc25f74(0xbd)]};_0xc25f74(0xc8)!==_0x44552f[_0xc25f74(0xb0)]?(_0x44552f[_0xc25f74(0x93)](beforeEach,function(){const _0x24d103=_0xc25f74;this[_0x24d103(0xaa)][_0x24d103(0xbe)][_0x24d103(0x99)]['_id']=this[_0x24d103(0xb4)]=_0x24d103(0xc6),this['req'][_0x24d103(0x7d)]={'language':'fi','words':[_0x24d103(0xc3)]};}),_0x44552f[_0xc25f74(0x9d)](describe,_0x44552f[_0xc25f74(0x9e)],function(){const _0x567750=_0xc25f74;_0x1586e3[_0x567750(0xc0)](beforeEach,function(){const _0x39d19d=_0x567750;this[_0x39d19d(0x94)][_0x39d19d(0x86)](this[_0x39d19d(0xaa)],this[_0x39d19d(0x8a)]);}),it(_0x567750(0xb2),function(){const _0xff0db7=_0x567750;this['request']['called'][_0xff0db7(0x8e)][_0xff0db7(0x6e)](![]);}),_0x1586e3[_0x567750(0xbc)](it,_0x1586e3[_0x567750(0x77)],function(){const _0x3f38ed=_0x567750;'sMRqq'===_0x3f38ed(0xa0)?this[_0x3f38ed(0x76)][_0x3f38ed(0xb5)]['should'][_0x3f38ed(0x6e)](![]):this[_0x3f38ed(0x8a)][_0x3f38ed(0xc1)][_0x3f38ed(0xa9)]({'misspellings':[]})['should'][_0x3f38ed(0x6e)](!![]);}),it(_0x1586e3[_0x567750(0xad)],function(){const _0x42b483=_0x567750;this[_0x42b483(0x8a)][_0x42b483(0xba)][_0x42b483(0xa9)](0x1a6)['should'][_0x42b483(0x6e)](!![]);});}),describe(_0xc25f74(0xa6),function(){const _0x15eabf=_0xc25f74,_0x4edafe={'UAIrk':function(_0x233956,_0x390191){return _0x233956!==_0x390191;},'vYTJY':_0x15eabf(0x83),'fiymC':_0x15eabf(0x84)};beforeEach(function(){const _0x218df7=_0x15eabf;_0x4edafe[_0x218df7(0x70)](_0x4edafe[_0x218df7(0x9c)],_0x4edafe[_0x218df7(0x9c)])?this[_0x218df7(0xca)][_0x218df7(0xa9)](_0x218df7(0x7a))[_0x218df7(0x8e)]['equal'](!![]):(this[_0x218df7(0xaa)][_0x218df7(0x71)]=_0x4edafe['fiymC'],this[_0x218df7(0x94)]['proxyRequestToSpellingApi'](this['req'],this['res']));}),it(_0x1586e3[_0x15eabf(0x6f)],function(){const _0x486eb3=_0x15eabf;this[_0x486eb3(0x76)][_0x486eb3(0xb5)]['should'][_0x486eb3(0x6e)](!![]);});})):this[_0xc25f74(0x94)][_0xc25f74(0x86)](this[_0xc25f74(0xaa)],this[_0xc25f74(0x8a)]);}),_0x44552f['NLdld'](describe,_0x30d328(0x72),function(){const _0x23df88=_0x30d328,_0x1fb408={'wGtPM':'user-id-123','iUXrc':function(_0x3f49f7,_0x78a264){return _0x3f49f7(_0x78a264);},'HYghu':function(_0x385579,_0x28b953,_0x560a7c){const _0xb87133=_0x2d22;return _0x44552f[_0xb87133(0x9d)](_0x385579,_0x28b953,_0x560a7c);},'ilpXt':_0x23df88(0x8d),'ZuFgC':function(_0x55b797,_0x2053c9){const _0x4d8e4b=_0x23df88;return _0x44552f[_0x4d8e4b(0x98)](_0x55b797,_0x2053c9);},'AGVUv':'mBsri'};beforeEach(function(){const _0x102cc9=_0x23df88;this[_0x102cc9(0xaa)][_0x102cc9(0xbe)]['user'][_0x102cc9(0x7c)]=this['userId']=_0x102cc9(0xc6),this[_0x102cc9(0xaa)][_0x102cc9(0x7d)]={'words':[_0x102cc9(0xc3)]};}),describe('when\x20the\x20request\x20is\x20a\x20check\x20request',function(){const _0x81cc7c=_0x23df88;'vUOYA'===_0x81cc7c(0x95)?(this[_0x81cc7c(0xaa)][_0x81cc7c(0xbe)][_0x81cc7c(0x99)][_0x81cc7c(0x7c)]=this[_0x81cc7c(0xb4)]=_0x1fb408['wGtPM'],this['req'][_0x81cc7c(0x7d)]={'words':[_0x81cc7c(0xc3)]}):(_0x1fb408['iUXrc'](beforeEach,function(){const _0x29ffa9=_0x81cc7c;this[_0x29ffa9(0x94)][_0x29ffa9(0x86)](this[_0x29ffa9(0xaa)],this[_0x29ffa9(0x8a)]);}),it(_0x81cc7c(0xb2),function(){const _0x40a508=_0x81cc7c;this[_0x40a508(0x76)][_0x40a508(0xb5)][_0x40a508(0x8e)][_0x40a508(0x6e)](![]);}),_0x1fb408[_0x81cc7c(0x80)](it,_0x1fb408['ilpXt'],function(){const _0x18ca86=_0x81cc7c;this[_0x18ca86(0x8a)]['json'][_0x18ca86(0xa9)]({'misspellings':[]})['should']['equal'](!![]);}),it(_0x81cc7c(0xcd),function(){const _0x516a1e=_0x81cc7c;this['res'][_0x516a1e(0xba)]['calledWith'](0x1a6)[_0x516a1e(0x8e)][_0x516a1e(0x6e)](!![]);}));}),_0x44552f[_0x23df88(0x9d)](describe,_0x44552f[_0x23df88(0xb1)],function(){const _0x5db45f=_0x23df88,_0x43440c={'MVrVk':_0x5db45f(0x84)};_0xd00c0c[_0x5db45f(0xb6)](beforeEach,function(){const _0x4e782b=_0x5db45f;this[_0x4e782b(0xaa)][_0x4e782b(0x71)]=_0x43440c[_0x4e782b(0xc2)],this[_0x4e782b(0x94)][_0x4e782b(0x86)](this[_0x4e782b(0xaa)],this[_0x4e782b(0x8a)]);}),_0xd00c0c['YCtLi'](it,_0xd00c0c['fvfQd'],function(){const _0x5bc92f=_0x5db45f;_0x1fb408[_0x5bc92f(0x8b)](_0x5bc92f(0xc9),_0x1fb408[_0x5bc92f(0x9b)])?this['request'][_0x5bc92f(0xb5)][_0x5bc92f(0x8e)][_0x5bc92f(0x6e)](!![]):this[_0x5bc92f(0x76)][_0x5bc92f(0xb5)][_0x5bc92f(0x8e)][_0x5bc92f(0x6e)](!![]);});});});});});