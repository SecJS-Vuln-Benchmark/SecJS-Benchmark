function _0x3bc8(){const _0x32c461=['3384984OugFAX','headers','../Authentication/SessionManager','/check','sendStatus','unlearnWord','language\x20not\x20supported','ganiN','2610009eRwaUW','apis','json','end','FMpkD','host','ykvQf','uafoj','spelling','FCILP','1187472CWrwHT','379826PDEAvg','@overleaf/logger','code','/user/','NrfxF','4111806ZAQWYW','7CUFiEz','2125616UDDcsG','request','some','status','body','getLoggedInUserId','exports','6309935rBRIpb','session','2AUpySr','pipe','WTgtL','@overleaf/settings','Host','UDrYf','debug','error','learnWord'];_0x3bc8=function(){return _0x32c461;};return _0x3bc8();}function _0x913d(_0x146960,_0x20feaa){const _0x3bc881=_0x3bc8();return _0x913d=function(_0x913da6,_0x5286cb){_0x913da6=_0x913da6-0xb2;let _0x293f9a=_0x3bc881[_0x913da6];return _0x293f9a;},_0x913d(_0x146960,_0x20feaa);}const _0x528b8e=_0x913d;(function(_0x226454,_0x5b6742){const _0x386074=_0x913d,_0x22e417=_0x226454();while(!![]){try{const _0x61ea77=-parseInt(_0x386074(0xdd))/0x1*(parseInt(_0x386074(0xcd))/0x2)+-parseInt(_0x386074(0xba))/0x3+-parseInt(_0x386074(0xcc))/0x4+parseInt(_0x386074(0xdb))/0x5+-parseInt(_0x386074(0xd2))/0x6*(-parseInt(_0x386074(0xd3))/0x7)+parseInt(_0x386074(0xd4))/0x8+parseInt(_0x386074(0xc2))/0x9;if(_0x61ea77===_0x5b6742)break;else _0x22e417['push'](_0x22e417['shift']());}catch(_0x404009){_0x22e417['push'](_0x22e417['shift']());}}}(_0x3bc8,0xaa671));const request=require(_0x528b8e(0xd5)),Settings=require(_0x528b8e(0xb4)),logger=require(_0x528b8e(0xce)),SessionManager=require(_0x528b8e(0xbc)),LearnedWordsManager=require('./LearnedWordsManager'),TEN_SECONDS=0x3e8*0xa,languageCodeIsSupported=_0x2091ed=>Settings['languages'][_0x528b8e(0xd6)](_0x26361b=>_0x26361b[_0x528b8e(0xcf)]===_0x2091ed);module[_0x528b8e(0xda)]={'learn'(_0x5a0d79,_0x1ebb3a,_0x25d63c){const _0x3061a5=_0x528b8e,_0x9a8be6={'QWelE':function(_0x4e3422,_0x50c48a){return _0x4e3422!==_0x50c48a;},'ganiN':_0x3061a5(0xcb),'uafoj':function(_0x2e25fa,_0x221210){return _0x2e25fa(_0x221210);}},{word:_0x18fd11}=_0x5a0d79[_0x3061a5(0xd8)],_0xa33946=SessionManager['getLoggedInUserId'](_0x5a0d79[_0x3061a5(0xdc)]);LearnedWordsManager[_0x3061a5(0xb9)](_0xa33946,_0x18fd11,_0x1d04ac=>{const _0x5f4945=_0x3061a5;if(_0x9a8be6['QWelE'](_0x9a8be6[_0x5f4945(0xc1)],_0x5f4945(0xc8))){if(_0x1d04ac)return _0x9a8be6[_0x5f4945(0xc9)](_0x25d63c,_0x1d04ac);_0x1ebb3a[_0x5f4945(0xbe)](0xcc);}else return _0x1aa606[_0x5f4945(0xb7)]({'language':_0x3b81cd},_0x5f4945(0xc0)),_0xac67dd[_0x5f4945(0xd7)](0x1a6)[_0x5f4945(0xc4)]({'misspellings':[]});});},'unlearn'(_0x974e3a,_0x4d899b,_0x3d55c1){const _0x708e26=_0x528b8e,_0x2313fb={'WDQxI':function(_0x5036f5,_0x2abb26){return _0x5036f5(_0x2abb26);}},{word:_0x4da769}=_0x974e3a['body'],_0x47dac5=SessionManager[_0x708e26(0xd9)](_0x974e3a[_0x708e26(0xdc)]);LearnedWordsManager[_0x708e26(0xbf)](_0x47dac5,_0x4da769,_0x563a0f=>{if(_0x563a0f)return _0x2313fb['WDQxI'](_0x3d55c1,_0x563a0f);_0x4d899b['sendStatus'](0xcc);});},'proxyCheckRequestToSpellingApi'(_0x4ddbc0,_0x15c9e7){const _0x35059f=_0x528b8e,_0x4ac4fd={'FMpkD':'\x22language\x22\x20field\x20should\x20be\x20included\x20for\x20spell\x20checking','UDrYf':function(_0xc08b48,_0x43934c){return _0xc08b48(_0x43934c);},'NrfxF':_0x35059f(0xc0),'WTgtL':'error'},{language:_0x4eb10f}=_0x4ddbc0['body'];if(!_0x4eb10f)return logger[_0x35059f(0xb8)]({},_0x4ac4fd[_0x35059f(0xc6)]),_0x15c9e7[_0x35059f(0xd7)](0x1a6)['json']({'misspellings':[]});if(!_0x4ac4fd[_0x35059f(0xb6)](languageCodeIsSupported,_0x4eb10f))return logger['debug']({'language':_0x4eb10f},_0x4ac4fd[_0x35059f(0xd1)]),_0x15c9e7['status'](0x1a6)[_0x35059f(0xc4)]({'misspellings':[]});const _0x4e6070=SessionManager[_0x35059f(0xd9)](_0x4ddbc0[_0x35059f(0xdc)]),_0x4ab921=Settings[_0x35059f(0xc3)]['spelling']['url']+_0x35059f(0xd0)+_0x4e6070+_0x35059f(0xbd);return _0x4ddbc0[_0x35059f(0xbb)][_0x35059f(0xb5)]=Settings[_0x35059f(0xc3)][_0x35059f(0xca)][_0x35059f(0xc7)],_0x4ac4fd[_0x35059f(0xb6)](request,{'url':_0x4ab921,'method':'POST','headers':_0x4ddbc0[_0x35059f(0xbb)],'json':_0x4ddbc0['body'],'timeout':TEN_SECONDS})['on'](_0x4ac4fd[_0x35059f(0xb3)],function(_0x3555cc){const _0x1c3f4b=_0x35059f;return logger[_0x1c3f4b(0xb8)]({'err':_0x3555cc},'Spelling\x20Check\x20API\x20error'),_0x15c9e7[_0x1c3f4b(0xd7)](0x1f4)[_0x1c3f4b(0xc5)]();})[_0x35059f(0xb2)](_0x15c9e7);}};