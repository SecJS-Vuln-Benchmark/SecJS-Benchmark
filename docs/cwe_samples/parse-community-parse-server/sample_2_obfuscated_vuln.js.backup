'use strict';var _0x11137a=_0x1a30;function _0x1a30(_0x23e400,_0x2972de){var _0x21f182=_0x21f1();return _0x1a30=function(_0x1a30e6,_0x2a607e){_0x1a30e6=_0x1a30e6-0x65;var _0x456533=_0x21f182[_0x1a30e6];return _0x456533;},_0x1a30(_0x23e400,_0x2972de);}function _0x21f1(){var _0x101b67=['rFoFd','ZXTer','FmfoP','5|3|4|0|1|2','../../../lib/errors/invalid-request-error','uktDC','mjhrl','AXCKF','EvXds','fQvVR','POST','alwaysIssueNewRefreshToken','pDyte','BgMDx','QKCsq','hBKCY','rtpte','6711755EcRwcp','TkUvQ','getTokenType','GyRyz','NWXUo','should\x20return\x20a\x20client','CQscq','duGTr','eJbQM','boKUC','DAWSL','tOwGi','should\x20throw\x20an\x20error\x20if\x20the\x20media\x20type\x20is\x20not\x20`application/x-www-form-urlencoded`','../../../lib/errors/access-denied-error','JTpve','../../../lib/response','HKrOB','Invalid\x20client:\x20cannot\x20retrieve\x20client\x20credentials','Mwtig','../../../lib/errors/invalid-argument-error','should\x20throw\x20an\x20error\x20if\x20`grant_type`\x20is\x20missing','should\x20throw\x20an\x20error\x20if\x20`options.refreshTokenLifetime`\x20is\x20missing','eUeVr','getAccessTokenLifetime()','BbVXQ','refreshTokenLifetime','secret','should','xyCBW','3|4|1|0|2','Invalid\x20grant:\x20user\x20credentials\x20are\x20invalid','wEOqg','qIBzR','Missing\x20parameter:\x20`model`','6MTzefL','handle()','should\x20return\x20the\x20default\x20access\x20token\x20lifetime','containEql','DibCS','laYvS','OStBk','toString','zKCtS','foo','Unhandled\x20exception','azZli','QwkRg','IXpZw','access_denied','QqaWh','Cache-Control','LZqtm','qfNHH','DOtrM','pUVEa','jGjDv','should\x20set\x20the\x20`alwaysIssueNewRefreshToken`\x20to\x20false','XvrQm','should\x20throw\x20the\x20error\x20if\x20an\x20oauth\x20error\x20is\x20thrown','NROKp','split','XVaBu','iRgMn','client_credentials','authorization_code','Jwiyj','381117CgeyWO','bAtbk','bar','constructor()','Server\x20error:\x20`grants`\x20must\x20be\x20an\x20array','JCFbI','oCsEM','xZPTT','HFfsK','get','1|2|4|3|0','tYRVx','KuUrw','HAisp','../../../lib/request','EviaD','should\x20throw\x20an\x20error\x20if\x20`client`\x20is\x20missing','fVXdh','JPbjD','4|0|1|3|2','rklAR','aXQup','QBWmy','lfSCA','mOLPH','should\x20throw\x20an\x20error\x20if\x20`client_secret`\x20is\x20missing','TYeRn','NyETT','YUbfd','should\x20support\x20promises','AUCkN','qYQQp','UzxyW','lFRtd','updateSuccessResponse','gdnVx','HRnYU','should\x20return\x20a\x20token\x20type','Cannot\x20request\x20a\x20token','should\x20return\x20a\x20client\x20','jrYEr','PzoLz','should\x20return\x20custom\x20attributes\x20in\x20a\x20bearer\x20token\x20if\x20the\x20allowExtendedTokenAttributes\x20is\x20set','sJePK','NQOWZ','updateErrorResponse()','should\x20return\x20the\x20default\x20`alwaysIssueNewRefreshToken`\x20value','status','lTxzy','with\x20custom\x20grant_type','8940416fONEVu','../../../lib/errors/unsupported-grant-type-error','UHTjQ','handle','KJuLS','dMUEq','should\x20return\x20a\x20token','getRefreshTokenLifetime()','should\x20return\x20a\x20bearer\x20token\x20if\x20successful\x20with\x20extend\x20model\x20obj\x20with\x20request','should\x20throw\x20an\x20error\x20if\x20`options.accessTokenLifetime`\x20is\x20missing','nltxl','YHJRr','rsMhW','cASpG','kQgen','pYCzH','OJStH','JvMtX','QvToi','cLEKl','gbRxH','with\x20`password`\x20grant\x20type\x20and\x20`requireClientAuthentication`\x20is\x20false','uAUQK','TSRwH','raZkr','BwTEt','foobar','password','EnbXn','BIxXx','40rluygC','xtbEx','jkoyu','model','grantTypes','3|0|1|4|2','no-store','XqAvs','NGSQS','Basic\x20%s','BVkkP','eyOUE','TokenHandler\x20integration','RwsoH','chunked','should\x20throw\x20a\x20401\x20error\x20if\x20the\x20client\x20is\x20invalid\x20and\x20the\x20request\x20contains\x20an\x20authorization\x20header','fzpKz','yrVuE','xbgqh','handleGrantType','AoHHB','cMKOz','qgNod','application/x-www-form-urlencoded','equal','VESXY','message','ywNxi','IVLBi','ZrlOl','vDoil','code','with\x20`password`\x20grant\x20type\x20and\x20`requireClientAuthentication`\x20is\x20false\x20and\x20Authorization\x20header','request','tXDwt','base64','NBhdy','should\x20return\x20the\x20client\x20access\x20token\x20lifetime','eFScS','foo:bar','updateErrorResponse','OQwBd','eql','ttPlr','Bearer','GvZbb','with\x20grant_type\x20`authorization_code`','qVNQZ','gghEo','yhRUn','body','FDIAB','glGEl','refresh_token','../../../lib/grant-types/password-grant-type','catch','BbGSo','uVqHg','XaJPr','WWW-Authenticate','USetp','util','CsVqI','error_description','ZuWwK','Server\x20error:\x20missing\x20client\x20`grants`','OGHjY','Unsupported\x20grant\x20type:\x20`grant_type`\x20is\x20invalid','amFxU','JEViA','TPEwL','hiFal','Invalid\x20argument:\x20model\x20does\x20not\x20implement\x20`getClient()`','EqELi','7JZVWAb','2|4|1|0|3','YlFff','7585062qQxlFy','mCelT','pYQvb','with\x20`client_id`\x20and\x20grant\x20type\x20is\x20`password`\x20and\x20`requireClientAuthentication`\x20is\x20false','baz','with\x20grant_type\x20`refresh_token`','SDYBe','JSlwp','Missing\x20parameter:\x20`refreshTokenLifetime`','xHfzD','ukKMO','../../../lib/errors/server-error','yzNVE','uwRUv','biz','Invalid\x20request:\x20content\x20must\x20be\x20application/x-www-form-urlencoded','SOTcy','RMvVc','403827OGopNn','should\x20support\x20non-promises','OmxJQ','Invalid\x20parameter:\x20`client_id`','getRefreshTokenLifetime','handleGrantType()','cOzvQ','ryvlw','BPuFM','lJQrA','IdLxd','should\x20throw\x20an\x20error\x20if\x20`grant_type`\x20is\x20unauthorized','resolve','kDwrL','error','LNHwn','blah:','BtrHc','JroEo','BGvKg','getClientCredentials','sXgiS','MJICf','should\x20throw\x20an\x20error\x20if\x20`options.model`\x20is\x20missing','yFEdL','0|2|3|4|1','getTokenType()','lPqhZ','WxqDt','should\x20set\x20the\x20`Cache-Control`\x20header','vhIpC','fail','Invalid\x20client:\x20client\x20is\x20invalid','BJTYe','DuRyM','lqQMf','should\x20set\x20the\x20`model`','../../../lib/errors/unauthorized-client-error','qxirP','oBfuy','TLPdz','BCtSZ','FBtOi','MwdFD','qncXV','Unauthorized\x20client:\x20`grant_type`\x20is\x20invalid','yLhjw','Pragma','eQyMl','ntjWK','bJOcP','mnoZQ','bNuyS','rspoN','xdgWB','Invalid\x20request:\x20method\x20must\x20be\x20POST','aMCqp','should\x20update\x20the\x20response\x20if\x20an\x20error\x20is\x20thrown','should\x20set\x20the\x20`accessTokenLifetime`','ADLdD','token_type','WZbPa','QgtbH','should\x20throw\x20an\x20error\x20if\x20`client.grants`\x20is\x20missing','DQEqD','format','Ltuqs','IrAnw','Missing\x20parameter:\x20`accessTokenLifetime`','mpYAx','hNoFd','../../../lib/handlers/token-handler','then','emXfM','rdFXL','zOcnY','COBaR','should\x20set\x20the\x20`Pragma`\x20header','NMcOQ','should\x20throw\x20an\x20invalid\x20grant\x20error\x20if\x20a\x20non-oauth\x20error\x20is\x20thrown','should\x20support\x20callbacks','Rlbnv','should\x20throw\x20an\x20error\x20if\x20`grant_type`\x20is\x20unsupported','328788qNPwFn','KnMqD','Invalid\x20parameter:\x20`grant_type`','gUFsB','SRlot','ugDuP','should\x20set\x20the\x20`body`','server_error','should\x20set\x20the\x20`status`','gYpLt','pjrja','UTdRb','HwYrR','YMtYo','getClient','yOxTi','no-cache','HmAFk','LHGlt','WJyyk','exist','access_token','should\x20throw\x20an\x20error\x20if\x20the\x20method\x20is\x20not\x20`POST`','uPRkI','instanceOf','with\x20grant_type\x20`client_credentials`','RtNJm','4|1|3|2|6|5|0','Missing\x20parameter:\x20`grant_type`','lxVgw','MvRzy','should\x20set\x20the\x20`refreshTokenLifetime`','1918604qUUlZF'];_0x21f1=function(){return _0x101b67;};return _0x21f1();}(function(_0x2400d3,_0x3c7083){var _0x170388=_0x1a30,_0xf1e67d=_0x2400d3();while(!![]){try{var _0x5b6e8e=-parseInt(_0x170388(0x69))/0x1+parseInt(_0x170388(0x1bf))/0x2*(-parseInt(_0x170388(0x118))/0x3)+parseInt(_0x170388(0x18b))/0x4+-parseInt(_0x170388(0x19d))/0x5+parseInt(_0x170388(0x106))/0x6*(parseInt(_0x170388(0x103))/0x7)+parseInt(_0x170388(0x9b))/0x8+-parseInt(_0x170388(0x16b))/0x9*(-parseInt(_0x170388(0xb9))/0xa);if(_0x5b6e8e===_0x3c7083)break;else _0xf1e67d['push'](_0xf1e67d['shift']());}catch(_0x417df9){_0xf1e67d['push'](_0xf1e67d['shift']());}}}(_0x21f1,0xd6e55));var AccessDeniedError=require(_0x11137a(0x1aa)),BearerTokenType=require('../../../lib/token-types/bearer-token-type'),InvalidArgumentError=require(_0x11137a(0x1b0)),InvalidClientError=require('../../../lib/errors/invalid-client-error'),InvalidGrantError=require('../../../lib/errors/invalid-grant-error'),InvalidRequestError=require(_0x11137a(0x190)),PasswordGrantType=require(_0x11137a(0xef)),Promise=require('bluebird'),Request=require(_0x11137a(0x77)),Response=require(_0x11137a(0x1ac)),ServerError=require(_0x11137a(0x111)),TokenHandler=require(_0x11137a(0x15f)),UnauthorizedClientError=require(_0x11137a(0x13d)),UnsupportedGrantTypeError=require(_0x11137a(0x9c)),should=require('should'),util=require(_0x11137a(0xf6));describe(_0x11137a(0xc5),function(){var _0xc6cc24=_0x11137a,_0x316381={'sJePK':_0xc6cc24(0x1be),'JPbjD':'bar','FmfoP':_0xc6cc24(0xa8),'GEXaV':_0xc6cc24(0xa4),'QvToi':function(_0x56041e,_0x4c5e53,_0xb7eb76){return _0x56041e(_0x4c5e53,_0xb7eb76);},'ttPlr':function(_0x45a3d5,_0x1b26b0,_0x22303a){return _0x45a3d5(_0x1b26b0,_0x22303a);},'vhIpC':function(_0x516847,_0x578ca7,_0x5bf92d){return _0x516847(_0x578ca7,_0x5bf92d);},'NBhdy':_0xc6cc24(0x152),'KuUrw':function(_0x13b024,_0x2bd5f7,_0x575815){return _0x13b024(_0x2bd5f7,_0x575815);},'nwdlX':'should\x20set\x20the\x20`alwaysIssueNewRefreshToken`','eyOUE':function(_0x5904e1,_0x138862,_0x402293){return _0x5904e1(_0x138862,_0x402293);},'MCmMR':_0xc6cc24(0x18a),'qxirP':function(_0x276f50,_0x5f2a45){return _0x276f50!==_0x5f2a45;},'OGHjY':_0xc6cc24(0x1b7),'rspoN':_0xc6cc24(0x1c8),'EvXds':'application/x-www-form-urlencoded','oBfuy':_0xc6cc24(0xc7),'DAWSL':_0xc6cc24(0x196),'SDYBe':_0xc6cc24(0xb5),'NQOWZ':'password','laYvS':'baz','USetp':'should\x20throw\x20an\x20error\x20if\x20`request`\x20is\x20missing','SOTcy':function(_0x409554,_0xb54010,_0x53f74d){return _0x409554(_0xb54010,_0x53f74d);},'lFRtd':'should\x20throw\x20an\x20error\x20if\x20`response`\x20is\x20missing','NyETT':_0xc6cc24(0x1a9),'tsvit':_0xc6cc24(0x1d7),'lPqhZ':'should\x20throw\x20a\x20server\x20error\x20if\x20a\x20non-oauth\x20error\x20is\x20thrown','ukKMO':_0xc6cc24(0x151),'Jwiyj':_0xc6cc24(0xa3),'DQEqD':_0xc6cc24(0x93),'yhRUn':_0xc6cc24(0x11b),'COBaR':'øå€£‰','YMaJR':'Invalid\x20parameter:\x20`client_secret`','uAUQK':_0xc6cc24(0x90),'zteCJ':function(_0x424a3c,_0x400161,_0x620545){return _0x424a3c(_0x400161,_0x620545);},'ADLdD':'should\x20throw\x20an\x20error\x20if\x20`clientSecret`\x20is\x20invalid','bAtbk':function(_0x26d53e,_0x25e9a1,_0x26aac8){return _0x26d53e(_0x25e9a1,_0x26aac8);},'PzoLz':function(_0x50fda8,_0x2208be,_0xd9b67f){return _0x50fda8(_0x2208be,_0xd9b67f);},'jliUV':_0xc6cc24(0x157),'cMKOz':_0xc6cc24(0xc8),'qncXV':function(_0x8c77a3,_0x52f42b,_0x5138a3){return _0x8c77a3(_0x52f42b,_0x5138a3);},'pYCzH':_0xc6cc24(0xb0),'uPRkI':function(_0x4ad3c9,_0x13abac,_0x618d8){return _0x4ad3c9(_0x13abac,_0x618d8);},'bJOcP':function(_0x56f58e,_0x4f5ea6,_0x5f0dae){return _0x56f58e(_0x4f5ea6,_0x5f0dae);},'WJyyk':'should\x20return\x20a\x20client','PaaPV':function(_0x278393,_0x211d5f,_0x3072cc){return _0x278393(_0x211d5f,_0x3072cc);},'SRlot':_0xc6cc24(0x8c),'LHGlt':_0xc6cc24(0x1ae),'WxqDt':_0xc6cc24(0x156),'YvHeW':_0xc6cc24(0xe0),'fQvVR':_0xc6cc24(0xdc),'rFoFd':function(_0x20cc26,_0x5f0609,_0x3cc8b4){return _0x20cc26(_0x5f0609,_0x3cc8b4);},'RtNJm':_0xc6cc24(0x82),'viJGY':'with\x20`client_id`\x20and\x20`client_secret`\x20in\x20the\x20request\x20body','ZuWwK':function(_0x5268bc,_0x43115a){return _0x5268bc===_0x43115a;},'aHqOL':function(_0x49b11b,_0x35709d,_0x24dddb){return _0x49b11b(_0x35709d,_0x24dddb);},'BwTEt':function(_0x5da910,_0x3de950,_0x226804){return _0x5da910(_0x3de950,_0x226804);},'kVKYo':'should\x20return\x20a\x20token','OmxJQ':'Cache-Control','XNjdJ':_0xc6cc24(0xbf),'CNqRO':'yZKNL','EviaD':function(_0x399c2b){return _0x399c2b();},'tLtAq':_0xc6cc24(0xee),'pDyte':_0xc6cc24(0x1b1),'UMgwp':function(_0x59aa65,_0x2e449,_0x2d3e7a){return _0x59aa65(_0x2e449,_0x2d3e7a);},'QqaWh':'should\x20throw\x20an\x20error\x20if\x20`grant_type`\x20is\x20invalid','DibCS':_0xc6cc24(0x16a),'BVkkP':_0xc6cc24(0x123),'BPuFM':_0xc6cc24(0x184),'TPEwL':function(_0x269ce4,_0x37bf9d,_0x30049c){return _0x269ce4(_0x37bf9d,_0x30049c);},'rtpte':function(_0x347b3e,_0x3950b6,_0x7a305e){return _0x347b3e(_0x3950b6,_0x7a305e);},'NMcOQ':function(_0x41e2ff,_0x31c3a1,_0x206937){return _0x41e2ff(_0x31c3a1,_0x206937);},'qYQQp':function(_0x2b14b2,_0x32631a,_0x4a6a52){return _0x2b14b2(_0x32631a,_0x4a6a52);},'IXpZw':_0xc6cc24(0x1c1),'XvrQm':_0xc6cc24(0x188),'DnHxe':function(_0x450195,_0x5ec774,_0x23932f){return _0x450195(_0x5ec774,_0x23932f);},'olyEo':_0xc6cc24(0xe5),'qfNHH':_0xc6cc24(0x147),'MmEhA':function(_0x3c093e,_0x55051b,_0x5d3135){return _0x3c093e(_0x55051b,_0x5d3135);},'JTpve':_0xc6cc24(0x165),'mpYAx':_0xc6cc24(0x8f),'tOwGi':_0xc6cc24(0x1cd),'WZbPa':function(_0x2b1178,_0x332f29,_0x4addb1){return _0x2b1178(_0x332f29,_0x4addb1);},'nyYov':_0xc6cc24(0x6c),'arWPk':_0xc6cc24(0x1b4)};describe(_0x316381['nyYov'],function(){var _0x106427=_0xc6cc24,_0x521df3={'jrYEr':_0x106427(0x15c),'JEViA':_0x106427(0x102),'IVLBi':_0x106427(0x101),'XaJPr':_0x316381[_0x106427(0x18e)]};it(_0x316381['GEXaV'],function(){var _0x71971d=_0x106427;try{new TokenHandler(),should['fail']();}catch(_0x2e1d75){_0x2e1d75['should']['be']['an']['instanceOf'](InvalidArgumentError),_0x2e1d75[_0x71971d(0xd3)]['should'][_0x71971d(0xd1)](_0x71971d(0x15c));}}),_0x316381[_0x106427(0xad)](it,_0x106427(0x12f),function(){var _0x2e0454=_0x106427;try{new TokenHandler({'accessTokenLifetime':0x78}),should[_0x2e0454(0x137)]();}catch(_0xabef6b){_0xabef6b['should']['be']['an'][_0x2e0454(0x183)](InvalidArgumentError),_0xabef6b[_0x2e0454(0xd3)][_0x2e0454(0x1b8)][_0x2e0454(0xd1)](_0x316381[_0x2e0454(0x94)]);}}),_0x316381[_0x106427(0xe4)](it,_0x106427(0x1b2),function(){var _0x3518fb=_0x106427;try{new TokenHandler({'accessTokenLifetime':0x78,'model':{}}),should[_0x3518fb(0x137)]();}catch(_0x1648e4){_0x1648e4[_0x3518fb(0x1b8)]['be']['an'][_0x3518fb(0x183)](InvalidArgumentError),_0x1648e4[_0x3518fb(0xd3)][_0x3518fb(0x1b8)][_0x3518fb(0xd1)](_0x3518fb(0x10e));}}),it('should\x20throw\x20an\x20error\x20if\x20the\x20model\x20does\x20not\x20implement\x20`getClient()`',function(){var _0x51116d=_0x106427,_0x401c5c={'IKjvq':_0x521df3[_0x51116d(0x91)]};try{_0x521df3[_0x51116d(0xfe)]==='EqELi'?(new TokenHandler({'accessTokenLifetime':0x78,'model':{},'refreshTokenLifetime':0x78}),should[_0x51116d(0x137)]()):(_0x345778[_0x51116d(0x1b8)]['be']['an'][_0x51116d(0x183)](_0x49484d),_0x20b598['message'][_0x51116d(0x1b8)]['equal'](_0x401c5c['IKjvq']));}catch(_0x90d5d1){_0x90d5d1[_0x51116d(0x1b8)]['be']['an']['instanceOf'](InvalidArgumentError),_0x90d5d1[_0x51116d(0xd3)][_0x51116d(0x1b8)][_0x51116d(0xd1)](_0x521df3[_0x51116d(0xd5)]);}}),_0x316381[_0x106427(0x136)](it,_0x316381[_0x106427(0xdd)],function(){var _0x5b2e34=_0x106427,_0x2573a4={},_0x433ae9={'getClient':function(){},'saveToken':function(){}},_0x1ea92e=new TokenHandler({'accessTokenLifetime':_0x2573a4,'model':_0x433ae9,'refreshTokenLifetime':0x78});_0x1ea92e['accessTokenLifetime'][_0x5b2e34(0x1b8)][_0x5b2e34(0xd1)](_0x2573a4);}),_0x316381[_0x106427(0x75)](it,_0x316381['nwdlX'],function(){var _0x23c5f9=_0x106427;if(_0x521df3[_0x23c5f9(0xf3)]!==_0x23c5f9(0x74)){var _0x58da45=!![],_0x2ad586={'getClient':function(){},'saveToken':function(){}},_0x44aa1a=new TokenHandler({'accessTokenLifetime':0x7b,'model':_0x2ad586,'refreshTokenLifetime':0x78,'alwaysIssueNewRefreshToken':_0x58da45});_0x44aa1a[_0x23c5f9(0x197)][_0x23c5f9(0x1b8)][_0x23c5f9(0xd1)](_0x58da45);}else return{};}),it(_0x106427(0x1d5),function(){var _0x21356b=_0x106427,_0x3a4a1b=![],_0x2355c2={'getClient':function(){},'saveToken':function(){}},_0x2213f0=new TokenHandler({'accessTokenLifetime':0x7b,'model':_0x2355c2,'refreshTokenLifetime':0x78,'alwaysIssueNewRefreshToken':_0x3a4a1b});_0x2213f0['alwaysIssueNewRefreshToken'][_0x21356b(0x1b8)][_0x21356b(0xd1)](_0x3a4a1b);}),_0x316381[_0x106427(0x75)](it,_0x106427(0x97),function(){var _0x1605bc=_0x106427,_0x5228d2={'getClient':function(){},'saveToken':function(){}},_0xc766e0=new TokenHandler({'accessTokenLifetime':0x7b,'model':_0x5228d2,'refreshTokenLifetime':0x78});_0xc766e0[_0x1605bc(0x197)]['should'][_0x1605bc(0xd1)](!![]);}),it('should\x20set\x20the\x20`extendedGrantTypes`',function(){var _0x48a583=_0x106427,_0x4e11b7={'foo':_0x316381['JPbjD']},_0x5b01f6={'getClient':function(){},'saveToken':function(){}},_0x14d652=new TokenHandler({'accessTokenLifetime':0x78,'extendedGrantTypes':_0x4e11b7,'model':_0x5b01f6,'refreshTokenLifetime':0x78});_0x14d652[_0x48a583(0xbd)]['should'][_0x48a583(0x1c2)](_0x4e11b7);}),_0x316381[_0x106427(0xc4)](it,_0x106427(0x13c),function(){var _0x3c556a=_0x106427,_0x370f16={'getClient':function(){},'saveToken':function(){}},_0x453829=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x370f16,'refreshTokenLifetime':0x78});_0x453829[_0x3c556a(0xbc)]['should'][_0x3c556a(0xd1)](_0x370f16);}),it(_0x316381['MCmMR'],function(){var _0x421f8d=_0x106427,_0x5a7e11={},_0x137bec={'getClient':function(){},'saveToken':function(){}},_0x597c64=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x137bec,'refreshTokenLifetime':_0x5a7e11});_0x597c64[_0x421f8d(0x1b6)][_0x421f8d(0x1b8)][_0x421f8d(0xd1)](_0x5a7e11);});}),_0x316381[_0xc6cc24(0xff)](describe,_0xc6cc24(0x1c0),function(){var _0x2fd1d7=_0xc6cc24,_0xce9391={'lqQMf':_0x2fd1d7(0x131),'EnbXn':_0x2fd1d7(0xb6),'DOtrM':function(_0x569f55,_0x24032b){return _0x569f55===_0x24032b;},'IdLxd':'Invalid\x20argument:\x20`request`\x20must\x20be\x20an\x20instance\x20of\x20Request','CakEX':'Invalid\x20argument:\x20`response`\x20must\x20be\x20an\x20instance\x20of\x20Response','uVqHg':'GET','Ltuqs':_0x316381['EvXds'],'cOzvQ':'POST','BbGSo':_0x2fd1d7(0x148),'RwsoH':'Unhandled\x20exception','TSRwH':_0x316381['sJePK'],'yLhjw':_0x2fd1d7(0x169),'mjhrl':_0x2fd1d7(0x10a),'JCFbI':_0x316381[_0x2fd1d7(0x14d)],'ryvlw':_0x2fd1d7(0xe0),'BgMDx':_0x2fd1d7(0x6b),'OStBk':'secret'};_0x316381[_0x2fd1d7(0x75)](it,_0x316381[_0x2fd1d7(0xf5)],function(){var _0x15da72=_0x2fd1d7,_0x5a8786={'getClient':function(){},'saveToken':function(){}},_0x3269a5=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x5a8786,'refreshTokenLifetime':0x78});try{_0x3269a5[_0x15da72(0x9e)](),should[_0x15da72(0x137)]();}catch(_0x1fad4f){if(_0xce9391[_0x15da72(0x1d2)](_0x15da72(0x162),_0x15da72(0x113))){var _0x36bd5a=_0xce9391[_0x15da72(0x13b)]['split']('|'),_0x576e39=0x0;while(!![]){switch(_0x36bd5a[_0x576e39++]){case'0':var _0x2032a6={'getClient':function(){},'saveToken':function(){}};continue;case'1':_0xeffbdc[_0x15da72(0x1b8)][_0x15da72(0xe3)]({'clientId':'foo'});continue;case'2':var _0x2fef6c=new _0x995e9a({'accessTokenLifetime':0x78,'model':_0x2032a6,'refreshTokenLifetime':0x78,'requireClientAuthentication':{'password':![]}});continue;case'3':var _0x5e3a8b=new _0x2ec141({'body':{'client_id':_0x15da72(0x1c8),'grant_type':_0xce9391[_0x15da72(0xb7)]},'headers':{},'method':{},'query':{}});continue;case'4':var _0xeffbdc=_0x2fef6c[_0x15da72(0x12c)](_0x5e3a8b);continue;}break;}}else _0x1fad4f['should']['be']['an'][_0x15da72(0x183)](InvalidArgumentError),_0x1fad4f[_0x15da72(0xd3)][_0x15da72(0x1b8)][_0x15da72(0xd1)](_0xce9391[_0x15da72(0x122)]);}}),_0x316381[_0x2fd1d7(0x116)](it,_0x316381[_0x2fd1d7(0x8a)],function(){var _0x2abee9=_0x2fd1d7,_0x2985d0={'getClient':function(){},'saveToken':function(){}},_0x46c156=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x2985d0,'refreshTokenLifetime':0x78}),_0x35fee5=new Request({'body':{},'headers':{},'method':{},'query':{}});try{_0x46c156['handle'](_0x35fee5),should[_0x2abee9(0x137)]();}catch(_0x4433df){_0x4433df[_0x2abee9(0x1b8)]['be']['an'][_0x2abee9(0x183)](InvalidArgumentError),_0x4433df[_0x2abee9(0xd3)][_0x2abee9(0x1b8)][_0x2abee9(0xd1)](_0xce9391['CakEX']);}}),_0x316381[_0x2fd1d7(0xad)](it,_0x2fd1d7(0x181),function(){var _0x5f51dc=_0x2fd1d7,_0x571cac={'hiFal':_0x5f51dc(0x18f),'uGxcn':_0x5f51dc(0x6b),'BtrHc':_0x5f51dc(0x12e)},_0x4fffb4={'getClient':function(){},'saveToken':function(){}},_0x13b6b3=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x4fffb4,'refreshTokenLifetime':0x78}),_0x23be79=new Request({'body':{},'headers':{},'method':_0xce9391[_0x5f51dc(0xf2)],'query':{}}),_0x162d05=new Response({'body':{},'headers':{}});return _0x13b6b3[_0x5f51dc(0x9e)](_0x23be79,_0x162d05)[_0x5f51dc(0x160)](should[_0x5f51dc(0x137)])[_0x5f51dc(0xf0)](function(_0x170a33){var _0x2b135f=_0x5f51dc,_0x25e232={'qVNQZ':_0x571cac[_0x2b135f(0x100)],'zKCtS':'Pragma','viDUJ':_0x2b135f(0x1c8),'sXgiS':_0x571cac['uGxcn'],'lTxzy':'biz'};if(_0x571cac[_0x2b135f(0x129)]===_0x2b135f(0x81)){var _0x3818b2=_0x25e232[_0x2b135f(0xe8)]['split']('|'),_0x57ff8e=0x0;while(!![]){switch(_0x3818b2[_0x57ff8e++]){case'0':var _0x1d3302=new _0x426de9({'body':{},'headers':{}});continue;case'1':_0x192aa6[_0x2b135f(0x8b)](_0x1d3302,_0x3abe0f);continue;case'2':_0x1d3302[_0x2b135f(0x72)](_0x25e232[_0x2b135f(0x1c7)])[_0x2b135f(0x1b8)][_0x2b135f(0xd1)](_0x2b135f(0x17b));continue;case'3':var _0x192aa6=new _0x553136({'accessTokenLifetime':0x78,'model':_0xf852b1,'refreshTokenLifetime':0x78});continue;case'4':var _0x3abe0f=new _0x5d3b2d(_0x25e232['viDUJ'],_0x25e232[_0x2b135f(0x12d)],_0x25e232[_0x2b135f(0x99)]);continue;case'5':var _0xf852b1={'getClient':function(){},'saveToken':function(){}};continue;}break;}}else _0x170a33['should']['be']['an'][_0x2b135f(0x183)](InvalidRequestError),_0x170a33['message'][_0x2b135f(0x1b8)][_0x2b135f(0xd1)](_0x2b135f(0x14f));});}),it(_0x316381[_0x2fd1d7(0x84)],function(){var _0x3d648e=_0x2fd1d7,_0xf416db={'getClient':function(){},'saveToken':function(){}},_0x248ef1=new TokenHandler({'accessTokenLifetime':0x78,'model':_0xf416db,'refreshTokenLifetime':0x78}),_0x19ad52=new Request({'body':{},'headers':{},'method':_0x3d648e(0x196),'query':{}}),_0x138e99=new Response({'body':{},'headers':{}});return _0x248ef1[_0x3d648e(0x9e)](_0x19ad52,_0x138e99)[_0x3d648e(0x160)](should[_0x3d648e(0x137)])[_0x3d648e(0xf0)](function(_0x431059){var _0x582bea=_0x3d648e;_0x431059[_0x582bea(0x1b8)]['be']['an'][_0x582bea(0x183)](InvalidRequestError),_0x431059[_0x582bea(0xd3)][_0x582bea(0x1b8)][_0x582bea(0xd1)](_0x582bea(0x115));});}),_0x316381[_0x2fd1d7(0xad)](it,_0x316381['tsvit'],function(){var _0x29f715=_0x2fd1d7,_0x45feab={'mCelT':_0x29f715(0x19e)},_0x2f8486={'getClient':function(){},'saveToken':function(){}},_0x382793=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x2f8486,'refreshTokenLifetime':0x78}),_0x25887f=new Request({'body':{},'headers':{'content-type':_0xce9391[_0x29f715(0x15a)],'transfer-encoding':'chunked'},'method':_0xce9391[_0x29f715(0x11e)],'query':{}}),_0x35f8be=new Response({'body':{},'headers':{}});return _0x382793['handle'](_0x25887f,_0x35f8be)[_0x29f715(0x160)](should['fail'])[_0x29f715(0xf0)](function(_0x6d5d27){var _0x1443f6=_0x29f715;if(_0x45feab[_0x1443f6(0x107)]===_0x1443f6(0x19e))_0x6d5d27['should']['be']['an'][_0x1443f6(0x183)](InvalidClientError),_0x6d5d27[_0x1443f6(0xd3)][_0x1443f6(0x1b8)][_0x1443f6(0xd1)](_0x1443f6(0x1ae));else return{};});}),it(_0x316381[_0x2fd1d7(0x133)],function(){var _0x188511=_0x2fd1d7,_0x5f1507={'gYpLt':function(_0x3b5806,_0x49a0eb){var _0x21aa8b=_0x1a30;return _0x316381[_0x21aa8b(0x13e)](_0x3b5806,_0x49a0eb);}},_0x5db0ae={'getClient':function(){var _0xa0125b=_0x1a30;if(_0x5f1507[_0xa0125b(0x174)](_0xa0125b(0x9d),_0xa0125b(0xd7)))throw new Error(_0xa0125b(0x1c9));else _0x291964[_0xa0125b(0xcc)](_0x37aced),_0x460eae[_0xa0125b(0x137)]();},'getUser':function(){},'saveToken':function(){}},_0xed40ee=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x5db0ae,'refreshTokenLifetime':0x78}),_0x4b2d8c=new Request({'body':{'client_id':0x3039,'client_secret':_0x316381[_0x188511(0xfb)],'grant_type':_0x188511(0xb6),'password':_0x316381[_0x188511(0x7b)],'username':_0x316381[_0x188511(0x14d)]},'headers':{'content-type':_0x316381[_0x188511(0x194)],'transfer-encoding':_0x316381[_0x188511(0x13f)]},'method':_0x316381[_0x188511(0x1a7)],'query':{}}),_0x2e2a87=new Response({'body':{},'headers':{}});return _0xed40ee[_0x188511(0x9e)](_0x4b2d8c,_0x2e2a87)[_0x188511(0x160)](should[_0x188511(0x137)])[_0x188511(0xf0)](function(_0x3002d9){var _0x17058d=_0x188511;_0x3002d9[_0x17058d(0x1b8)]['be']['an'][_0x17058d(0x183)](ServerError),_0x3002d9[_0x17058d(0xd3)]['should'][_0x17058d(0xd1)](_0x17058d(0x1c9)),_0x3002d9['inner'][_0x17058d(0x1b8)]['be']['an'][_0x17058d(0x183)](Error);});}),it(_0x316381[_0x2fd1d7(0x110)],function(){var _0x39b25f=_0x2fd1d7,_0x4d4275={'getClient':function(){var _0x5be14c=_0x1a30;if(_0xce9391[_0x5be14c(0xf1)]===_0x5be14c(0x148))throw new Error(_0xce9391[_0x5be14c(0xc6)]);else _0x18e428[_0x5be14c(0x1b8)][_0x5be14c(0xd1)](_0x20ece2);},'getUser':function(){},'saveToken':function(){}},_0x434f17=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x4d4275,'refreshTokenLifetime':0x78}),_0x2a775e=new Request({'body':{'client_id':0x3039,'client_secret':'secret','grant_type':_0x39b25f(0xb6),'password':_0x39b25f(0x6b),'username':_0x39b25f(0x1c8)},'headers':{'content-type':_0x39b25f(0xd0),'transfer-encoding':_0x39b25f(0xc7)},'method':_0x316381[_0x39b25f(0x1a7)],'query':{}}),_0xc1e1c9=new Response({'body':{},'headers':{}});return _0x434f17[_0x39b25f(0x9e)](_0x2a775e,_0xc1e1c9)[_0x39b25f(0x160)](should['fail'])[_0x39b25f(0xf0)](function(){var _0x507a8f=_0x39b25f;_0xc1e1c9[_0x507a8f(0xeb)][_0x507a8f(0x1b8)][_0x507a8f(0xe3)]({'error':_0x507a8f(0x172),'error_description':_0xce9391['RwsoH']}),_0xc1e1c9[_0x507a8f(0x98)][_0x507a8f(0x1b8)][_0x507a8f(0xd1)](0x1f4);});}),it(_0x316381[_0x2fd1d7(0x68)],function(){var _0x172790=_0x2fd1d7,_0x540b62={'YlFff':_0x172790(0x16e)},_0x33a2e9={'accessToken':_0x316381[_0x172790(0x14d)],'client':{},'refreshToken':'bar','scope':_0x316381[_0x172790(0x10c)],'user':{}},_0x6f963={'getClient':function(){return{'grants':[_0xce9391['EnbXn']]};},'getUser':function(){var _0x53459b=_0x172790;if(_0x540b62[_0x53459b(0x105)]===_0x540b62[_0x53459b(0x105)])return{};else _0x3f9e75[_0x53459b(0x9e)](_0x24a14),_0x54cff0['fail']();},'saveToken':function(){return _0x33a2e9;},'validateScope':function(){return'baz';}},_0x398214=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x6f963,'refreshTokenLifetime':0x78}),_0x5f0a98=new Request({'body':{'client_id':0x3039,'client_secret':_0x172790(0x1b7),'username':_0x316381[_0x172790(0x14d)],'password':_0x316381['JPbjD'],'grant_type':_0x316381[_0x172790(0x95)],'scope':_0x172790(0x10a)},'headers':{'content-type':_0x316381['EvXds'],'transfer-encoding':_0x316381['oBfuy']},'method':_0x316381[_0x172790(0x1a7)],'query':{}}),_0xe4ebf2=new Response({'body':{},'headers':{}});return _0x398214['handle'](_0x5f0a98,_0xe4ebf2)['then'](function(_0x7c96ff){var _0x43fadd=_0x172790;_0x6f963[_0x43fadd(0xda)][_0x43fadd(0x1b8)][_0x43fadd(0xd1)](_0x5f0a98),_0x7c96ff['should'][_0x43fadd(0xe3)](_0x33a2e9);})[_0x172790(0xf0)](should[_0x172790(0x137)]);}),_0x316381[_0x2fd1d7(0x116)](it,'should\x20not\x20return\x20custom\x20attributes\x20in\x20a\x20bearer\x20token\x20if\x20the\x20allowExtendedTokenAttributes\x20is\x20not\x20set',function(){var _0x806eff=_0x2fd1d7,_0x149989={'accessToken':_0x806eff(0x1c8),'client':{},'refreshToken':'bar','scope':'foobar','user':{},'foo':_0x316381[_0x806eff(0x7b)]},_0x58865f={'getClient':function(){var _0x4e9767=_0x806eff,_0x18ca77={'gKPSV':_0xce9391[_0x4e9767(0xb2)]};if(_0x4e9767(0xc9)==='KZnHX')try{new _0x53027b({'accessTokenLifetime':0x78}),_0x4642b5['fail']();}catch(_0x3dba66){_0x3dba66[_0x4e9767(0x1b8)]['be']['an']['instanceOf'](_0x477d04),_0x3dba66[_0x4e9767(0xd3)][_0x4e9767(0x1b8)]['equal'](_0x18ca77['gKPSV']);}else return{'grants':['password']};},'getUser':function(){return{};},'saveToken':function(){var _0x2edf0a=_0x806eff;if(_0xce9391[_0x2edf0a(0x146)]===_0xce9391[_0x2edf0a(0x146)])return _0x149989;else{var _0x361fb3={'accessTokenLifetime':0x3c},_0x4c81f9={'getClient':function(){return _0x361fb3;},'saveToken':function(){}},_0x365ddb=new _0xa60241({'accessTokenLifetime':0x78,'model':_0x4c81f9,'refreshTokenLifetime':0x78});_0x365ddb['getAccessTokenLifetime'](_0x361fb3)[_0x2edf0a(0x1b8)][_0x2edf0a(0xd1)](0x3c);}},'validateScope':function(){var _0x4e1a71=_0x806eff;return _0x4e1a71(0x10a);}},_0x447474=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x58865f,'refreshTokenLifetime':0x78}),_0x43aae0=new Request({'body':{'client_id':0x3039,'client_secret':_0x316381[_0x806eff(0xfb)],'username':_0x316381['rspoN'],'password':_0x316381['JPbjD'],'grant_type':_0x806eff(0xb6),'scope':_0x316381[_0x806eff(0x1c4)]},'headers':{'content-type':_0x316381[_0x806eff(0x194)],'transfer-encoding':_0x316381[_0x806eff(0x13f)]},'method':_0x316381[_0x806eff(0x1a7)],'query':{}}),_0x367298=new Response({'body':{},'headers':{}});return _0x447474[_0x806eff(0x9e)](_0x43aae0,_0x367298)[_0x806eff(0x160)](function(){var _0x12702e=_0x806eff,_0x558ec3=_0x12702e(0x73)['split']('|'),_0x1c7293=0x0;while(!![]){switch(_0x558ec3[_0x1c7293++]){case'0':should['not'][_0x12702e(0x17f)](_0x367298[_0x12702e(0xeb)][_0x12702e(0x1c8)]);continue;case'1':should['exist'](_0x367298[_0x12702e(0xeb)][_0x12702e(0x180)]);continue;case'2':should[_0x12702e(0x17f)](_0x367298[_0x12702e(0xeb)][_0x12702e(0xee)]);continue;case'3':should[_0x12702e(0x17f)](_0x367298[_0x12702e(0xeb)]['scope']);continue;case'4':should[_0x12702e(0x17f)](_0x367298[_0x12702e(0xeb)]['token_type']);continue;}break;}})[_0x806eff(0xf0)](should[_0x806eff(0x137)]);}),it(_0x316381[_0x2fd1d7(0x158)],function(){var _0x56a5b9=_0x2fd1d7,_0x44bfe2={'YUbfd':_0xce9391[_0x56a5b9(0x6e)],'ugDuP':_0x56a5b9(0x6b),'pjrja':_0x56a5b9(0xc2),'kyqAh':_0xce9391[_0x56a5b9(0x11f)]},_0x58cb1f={'accessToken':_0xce9391['JCFbI'],'client':{},'refreshToken':_0xce9391[_0x56a5b9(0x199)],'scope':_0x56a5b9(0xb5),'user':{},'foo':_0xce9391[_0x56a5b9(0x199)]},_0xf9c8af={'getClient':function(){var _0x1e9ae6=_0x56a5b9;return{'grants':[_0x1e9ae6(0xb6)]};},'getUser':function(){return{};},'saveToken':function(){var _0x29d71e=_0x56a5b9,_0x19d396={'QIpnO':_0x29d71e(0x73),'joYRp':_0x44bfe2[_0x29d71e(0x85)],'HAisp':_0x44bfe2[_0x29d71e(0x170)],'hNoFd':_0x44bfe2[_0x29d71e(0x175)],'XVaBu':_0x44bfe2['kyqAh']};if(_0x29d71e(0xfd)!==_0x29d71e(0x1a3))return _0x58cb1f;else{var _0x2087a0=_0x19d396['QIpnO']['split']('|'),_0x18849e=0x0;while(!![]){switch(_0x2087a0[_0x18849e++]){case'0':_0x1ae643['should'][_0x29d71e(0xe3)]({'clientId':_0x19d396['joYRp'],'clientSecret':_0x19d396[_0x29d71e(0x76)]});continue;case'1':var _0x250099={'getClient':function(){},'saveToken':function(){}};continue;case'2':var _0x47e544=new _0x2115f6({'accessTokenLifetime':0x78,'model':_0x250099,'refreshTokenLifetime':0x78});continue;case'3':var _0x1ae643=_0x47e544[_0x29d71e(0x12c)](_0x221cb8);continue;case'4':var _0x221cb8=new _0x475ef1({'body':{},'headers':{'authorization':_0x5a5301[_0x29d71e(0x159)](_0x19d396[_0x29d71e(0x15e)],new _0x460697(_0x19d396[_0x29d71e(0x1da)])['toString'](_0x29d71e(0xdc)))},'method':{},'query':{}});continue;}break;}}},'validateScope':function(){var _0xc01783=_0x56a5b9;return _0xce9391[_0xc01783(0x192)];}},_0x29c90c=new TokenHandler({'accessTokenLifetime':0x78,'model':_0xf9c8af,'refreshTokenLifetime':0x78,'allowExtendedTokenAttributes':!![]}),_0x359f75=new Request({'body':{'client_id':0x3039,'client_secret':_0xce9391[_0x56a5b9(0x1c5)],'username':_0xce9391[_0x56a5b9(0x6e)],'password':_0xce9391[_0x56a5b9(0x199)],'grant_type':'password','scope':_0x56a5b9(0x10a)},'headers':{'content-type':_0xce9391['Ltuqs'],'transfer-encoding':'chunked'},'method':'POST','query':{}}),_0xd12c7f=new Response({'body':{},'headers':{}});return _0x29c90c['handle'](_0x359f75,_0xd12c7f)[_0x56a5b9(0x160)](function(){var _0x1581e0=_0x56a5b9;should[_0x1581e0(0x17f)](_0xd12c7f[_0x1581e0(0xeb)][_0x1581e0(0x180)]),should[_0x1581e0(0x17f)](_0xd12c7f[_0x1581e0(0xeb)][_0x1581e0(0xee)]),should[_0x1581e0(0x17f)](_0xd12c7f[_0x1581e0(0xeb)][_0x1581e0(0x154)]),should[_0x1581e0(0x17f)](_0xd12c7f[_0x1581e0(0xeb)]['scope']),should[_0x1581e0(0x17f)](_0xd12c7f[_0x1581e0(0xeb)][_0x1581e0(0x1c8)]);})[_0x56a5b9(0xf0)](should['fail']);});}),_0x316381[_0xc6cc24(0x88)](describe,'getClient()',function(){var _0x469fe6=_0xc6cc24,_0x5938cf={'zOcnY':_0x469fe6(0x1c8),'jCRIR':_0x316381[_0x469fe6(0x164)],'HFfsK':_0x316381['YMaJR'],'SHKDn':_0x469fe6(0x1b7),'jGjDv':_0x469fe6(0x115),'QKCsq':function(_0x430fac,_0x3b0a7f){return _0x430fac===_0x3b0a7f;},'LjGep':'0|3|2|4|1','MwdFD':'Basic\x20%s','uktDC':_0x469fe6(0xdc),'AUCkN':_0x469fe6(0xbe),'gpmaW':'blah','lJQrA':_0x316381[_0x469fe6(0x95)],'QBWmy':_0x316381[_0x469fe6(0xb1)],'RMvVc':function(_0x4a94ee,_0x5d9b10,_0x18838c){var _0x24c7ee=_0x469fe6;return _0x316381[_0x24c7ee(0x75)](_0x4a94ee,_0x5d9b10,_0x18838c);}};_0x316381['zteCJ'](it,'should\x20throw\x20an\x20error\x20if\x20`clientId`\x20is\x20invalid',function(){var _0x3606d0=_0x469fe6,_0x50a262={'getClient':function(){},'saveToken':function(){}},_0x32e79c=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x50a262,'refreshTokenLifetime':0x78}),_0x583a57=new Request({'body':{'client_id':'øå€£‰','client_secret':_0x3606d0(0x1c8)},'headers':{},'method':{},'query':{}});try{_0x32e79c[_0x3606d0(0x179)](_0x583a57),should[_0x3606d0(0x137)]();}catch(_0x45c324){_0x45c324[_0x3606d0(0x1b8)]['be']['an']['instanceOf'](InvalidRequestError),_0x45c324[_0x3606d0(0xd3)][_0x3606d0(0x1b8)][_0x3606d0(0xd1)](_0x316381[_0x3606d0(0xea)]);}}),it(_0x316381[_0x469fe6(0x153)],function(){var _0x4f83b8=_0x469fe6;if(_0x4f83b8(0xcd)!==_0x4f83b8(0x1af)){var _0x2e694f={'getClient':function(){},'saveToken':function(){}},_0xcd9e86=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x2e694f,'refreshTokenLifetime':0x78}),_0x5258e4=new Request({'body':{'client_id':_0x5938cf[_0x4f83b8(0x163)],'client_secret':_0x5938cf['jCRIR']},'headers':{},'method':{},'query':{}});try{_0xcd9e86['getClient'](_0x5258e4),should[_0x4f83b8(0x137)]();}catch(_0x9cd6c8){_0x9cd6c8[_0x4f83b8(0x1b8)]['be']['an']['instanceOf'](InvalidRequestError),_0x9cd6c8[_0x4f83b8(0xd3)][_0x4f83b8(0x1b8)][_0x4f83b8(0xd1)](_0x5938cf[_0x4f83b8(0x71)]);}}else return _0x3ee534;}),_0x316381[_0x469fe6(0x6a)](it,_0x469fe6(0x79),function(){var _0x497877=_0x469fe6,_0x915f9d={'getClient':function(){},'saveToken':function(){}},_0x201ff2=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x915f9d,'refreshTokenLifetime':0x78}),_0x5f4aa7=new Request({'body':{'client_id':0x3039,'client_secret':_0x497877(0x1b7)},'headers':{},'method':{},'query':{}});return _0x201ff2[_0x497877(0x179)](_0x5f4aa7)[_0x497877(0x160)](should['fail'])['catch'](function(_0x2891b3){var _0x589d23=_0x497877;_0x2891b3[_0x589d23(0x1b8)]['be']['an']['instanceOf'](InvalidClientError),_0x2891b3[_0x589d23(0xd3)][_0x589d23(0x1b8)]['equal']('Invalid\x20client:\x20client\x20is\x20invalid');});}),_0x316381[_0x469fe6(0x92)](it,_0x316381['jliUV'],function(){var _0x3eb2ff=_0x469fe6,_0x1561dc={'xHfzD':_0x3eb2ff(0xfa)},_0x566ec8={'getClient':function(){return{};},'saveToken':function(){}},_0x5e06ab=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x566ec8,'refreshTokenLifetime':0x78}),_0x4d4e81=new Request({'body':{'client_id':0x3039,'client_secret':_0x5938cf['SHKDn']},'headers':{},'method':{},'query':{}});return _0x5e06ab[_0x3eb2ff(0x179)](_0x4d4e81)['then'](should['fail'])[_0x3eb2ff(0xf0)](function(_0x529d32){var _0x3e6f4f=_0x3eb2ff;_0x529d32[_0x3e6f4f(0x1b8)]['be']['an'][_0x3e6f4f(0x183)](ServerError),_0x529d32[_0x3e6f4f(0xd3)][_0x3e6f4f(0x1b8)]['equal'](_0x1561dc[_0x3e6f4f(0x10f)]);});}),it('should\x20throw\x20an\x20error\x20if\x20`client.grants`\x20is\x20invalid',function(){var _0x342d13=_0x469fe6,_0x44ecda='3|1|0|4|2'['split']('|'),_0x1456f8=0x0;while(!![]){switch(_0x44ecda[_0x1456f8++]){case'0':var _0x442949=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x51d6d8,'refreshTokenLifetime':0x78});continue;case'1':var _0x51d6d8={'getClient':function(){return{'grants':_0x186d14['BDZEw']};},'saveToken':function(){}};continue;case'2':return _0x442949[_0x342d13(0x179)](_0x3d90e1)['then'](should[_0x342d13(0x137)])[_0x342d13(0xf0)](function(_0x2bfd61){var _0x3c75dd=_0x342d13;_0x2bfd61[_0x3c75dd(0x1b8)]['be']['an'][_0x3c75dd(0x183)](ServerError),_0x2bfd61[_0x3c75dd(0xd3)][_0x3c75dd(0x1b8)][_0x3c75dd(0xd1)](_0x3c75dd(0x6d));});case'3':var _0x186d14={'BDZEw':_0x342d13(0xb5)};continue;case'4':var _0x3d90e1=new Request({'body':{'client_id':0x3039,'client_secret':_0x342d13(0x1b7)},'headers':{},'method':{},'query':{}});continue;}break;}}),it(_0x316381[_0x469fe6(0xce)],function(){var _0x2ce4c8=_0x469fe6,_0x29095e={'raZkr':_0x5938cf[_0x2ce4c8(0x1d4)],'pYQvb':_0x2ce4c8(0x138),'NGSQS':'Basic\x20realm=\x22Service\x22'};if(_0x5938cf[_0x2ce4c8(0x19a)](_0x2ce4c8(0x18d),'iHNBL'))_0x5d3fde[_0x2ce4c8(0x1b8)]['be']['an'][_0x2ce4c8(0x183)](_0x4e49a7),_0x30d602[_0x2ce4c8(0xd3)][_0x2ce4c8(0x1b8)][_0x2ce4c8(0xd1)](_0x29095e[_0x2ce4c8(0xb3)]);else{var _0x4af075=_0x5938cf['LjGep'][_0x2ce4c8(0x1d9)]('|'),_0x19f19f=0x0;while(!![]){switch(_0x4af075[_0x19f19f++]){case'0':var _0x7bff9b={'getClient':function(){},'saveToken':function(){}};continue;case'1':return _0x216516['getClient'](_0x5a9fb2,_0x1c6705)[_0x2ce4c8(0x160)](should['fail'])[_0x2ce4c8(0xf0)](function(_0x2b10a9){var _0x6c7e84=_0x2ce4c8;_0x2b10a9['should']['be']['an']['instanceOf'](InvalidClientError),_0x2b10a9[_0x6c7e84(0xd8)][_0x6c7e84(0x1b8)][_0x6c7e84(0xd1)](0x191),_0x2b10a9[_0x6c7e84(0xd3)]['should'][_0x6c7e84(0xd1)](_0x29095e[_0x6c7e84(0x108)]),_0x1c6705[_0x6c7e84(0x72)](_0x6c7e84(0xf4))[_0x6c7e84(0x1b8)][_0x6c7e84(0xd1)](_0x29095e[_0x6c7e84(0xc1)]);});case'2':var _0x5a9fb2=new Request({'body':{},'headers':{'authorization':util[_0x2ce4c8(0x159)](_0x5938cf[_0x2ce4c8(0x143)],new Buffer(_0x2ce4c8(0xe0))[_0x2ce4c8(0x1c6)](_0x5938cf['uktDC']))},'method':{},'query':{}});continue;case'3':var _0x216516=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x7bff9b,'refreshTokenLifetime':0x78});continue;case'4':var _0x1c6705=new Response({'body':{},'headers':{}});continue;}break;}}}),_0x316381[_0x469fe6(0x144)](it,_0x469fe6(0x1a2),function(){var _0xdcb1a6=_0x469fe6,_0x12ba17=_0xdcb1a6(0x104)['split']('|'),_0x2258e0=0x0;while(!![]){switch(_0x12ba17[_0x2258e0++]){case'0':var _0x2690c7=new Request({'body':{'client_id':0x3039,'client_secret':_0x316381[_0xdcb1a6(0xfb)]},'headers':{},'method':{},'query':{}});continue;case'1':var _0xde00d0=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x49d41c,'refreshTokenLifetime':0x78});continue;case'2':var _0x46a4bb={'id':0x3039,'grants':[]};continue;case'3':return _0xde00d0[_0xdcb1a6(0x179)](_0x2690c7)[_0xdcb1a6(0x160)](function(_0x1ae366){var _0x306e6f=_0xdcb1a6;_0x1ae366['should'][_0x306e6f(0xd1)](_0x46a4bb);})[_0xdcb1a6(0xf0)](should[_0xdcb1a6(0x137)]);case'4':var _0x49d41c={'getClient':function(){return _0x46a4bb;},'saveToken':function(){}};continue;}break;}}),describe(_0x316381[_0x469fe6(0xaa)],function(){var _0x2f36e2=_0x469fe6;it(_0x5938cf[_0x2f36e2(0x7f)],function(){var _0x319fc5=_0x2f36e2,_0x592055=_0x5938cf[_0x319fc5(0x87)][_0x319fc5(0x1d9)]('|'),_0x502fef=0x0;while(!![]){switch(_0x592055[_0x502fef++]){case'0':var _0x52c7e0={'getClient':function(){return _0x51f670;},'saveToken':function(){}};continue;case'1':var _0x2e774b=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x52c7e0,'refreshTokenLifetime':0x78,'requireClientAuthentication':{'password':![]}});continue;case'2':return _0x2e774b[_0x319fc5(0x179)](_0x3dcdb3)['then'](function(_0x2f43c6){_0x2f43c6['should']['equal'](_0x51f670);})[_0x319fc5(0xf0)](should['fail']);case'3':var _0x51f670={'id':0x3039,'grants':[]};continue;case'4':var _0x3dcdb3=new Request({'body':{'client_id':_0x5938cf['gpmaW'],'grant_type':_0x5938cf[_0x319fc5(0x121)]},'headers':{},'method':{},'query':{}});continue;}break;}});}),_0x316381['PzoLz'](describe,_0x469fe6(0xd9),function(){var _0x3ecaf5=_0x469fe6,_0x5a6f3d={'ssSlz':function(_0x51b83c,_0x9f16e3,_0x18aaae){return _0x51b83c(_0x9f16e3,_0x18aaae);},'LNHwn':_0x5938cf[_0x3ecaf5(0x121)],'AcLKP':_0x5938cf[_0x3ecaf5(0x143)],'BGvKg':_0x5938cf[_0x3ecaf5(0x191)]};_0x5938cf[_0x3ecaf5(0x117)](it,'should\x20return\x20a\x20client\x20',function(){var _0x3b0a12=_0x3ecaf5,_0x138fc3={'NWXUo':_0x3b0a12(0xb6),'GvZbb':function(_0x4565b2,_0x4fefb6,_0xc87b67){return _0x5a6f3d['ssSlz'](_0x4565b2,_0x4fefb6,_0xc87b67);}},_0x1a1629={'id':0x3039,'grants':[]},_0x5b9ead={'getClient':function(){var _0x55776d=_0x3b0a12;if('hiJwv'===_0x55776d(0x142)){var _0x1fdc07={'eJbQM':_0x55776d(0x1c8),'aXQup':_0x138fc3[_0x55776d(0x1a1)]};_0x138fc3[_0x55776d(0xe6)](_0x473d09,'should\x20return\x20a\x20client',function(){var _0x140755=_0x55776d,_0x42b0c6='2|0|3|1|4'['split']('|'),_0xee2a67=0x0;while(!![]){switch(_0x42b0c6[_0xee2a67++]){case'0':var _0x28a092=new _0x3ed85e({'accessTokenLifetime':0x78,'model':_0x55c6e0,'refreshTokenLifetime':0x78,'requireClientAuthentication':{'password':![]}});continue;case'1':var _0x1f3387=_0x28a092[_0x140755(0x12c)](_0x2636ed);continue;case'2':var _0x55c6e0={'getClient':function(){},'saveToken':function(){}};continue;case'3':var _0x2636ed=new _0x391275({'body':{'client_id':_0x1fdc07[_0x140755(0x1a5)],'grant_type':_0x1fdc07[_0x140755(0x7e)]},'headers':{},'method':{},'query':{}});continue;case'4':_0x1f3387[_0x140755(0x1b8)][_0x140755(0xe3)]({'clientId':'foo'});continue;}break;}});}else return _0x1a1629;},'saveToken':function(){}},_0x439ab6=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x5b9ead,'refreshTokenLifetime':0x78,'requireClientAuthentication':{'password':![]}}),_0x4732a2=new Request({'body':{'grant_type':_0x5a6f3d[_0x3b0a12(0x127)]},'headers':{'authorization':util['format'](_0x5a6f3d['AcLKP'],new Buffer(_0x3b0a12(0x128))[_0x3b0a12(0x1c6)](_0x5a6f3d[_0x3b0a12(0x12b)]))},'method':{},'query':{}});return _0x439ab6[_0x3b0a12(0x179)](_0x4732a2)['then'](function(_0x5b2b1a){var _0x17a1d2=_0x3b0a12;_0x5b2b1a[_0x17a1d2(0x1b8)][_0x17a1d2(0xd1)](_0x1a1629);})[_0x3b0a12(0xf0)](should[_0x3b0a12(0x137)]);});}),_0x316381[_0x469fe6(0x182)](it,_0x469fe6(0x86),function(){var _0x17b13e=_0x469fe6,_0x222170={'BCtSZ':function(_0x3c34dd,_0x2e034d){return _0x3c34dd===_0x2e034d;}},_0x4564e8={'getClient':function(){var _0x4924ad=_0x1a30;if(_0x222170[_0x4924ad(0x141)]('ZrlOl',_0x4924ad(0xd6)))return Promise[_0x4924ad(0x124)]({'grants':[]});else _0x4570e4['handleGrantType'](_0x35a005,_0x2ef3d8),_0xfd65ec[_0x4924ad(0x137)]();},'saveToken':function(){}},_0x5630d3=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x4564e8,'refreshTokenLifetime':0x78}),_0x5cfab7=new Request({'body':{'client_id':0x3039,'client_secret':_0x316381[_0x17b13e(0xfb)]},'headers':{},'method':{},'query':{}});_0x5630d3[_0x17b13e(0x179)](_0x5cfab7)[_0x17b13e(0x1b8)]['be']['an'][_0x17b13e(0x183)](Promise);}),_0x316381[_0x469fe6(0xc4)](it,_0x469fe6(0x119),function(){var _0x537d16=_0x469fe6,_0x34d11a={'getClient':function(){return{'grants':[]};},'saveToken':function(){}},_0x14e25a=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x34d11a,'refreshTokenLifetime':0x78}),_0x235e8a=new Request({'body':{'client_id':0x3039,'client_secret':_0x537d16(0x1b7)},'headers':{},'method':{},'query':{}});_0x14e25a[_0x537d16(0x179)](_0x235e8a)['should']['be']['an'][_0x537d16(0x183)](Promise);}),it(_0x469fe6(0x168),function(){var _0x153f3a=_0x469fe6,_0xdeded5={'getClient':function(_0x4bdfc0,_0x34cf6b,_0x45d480){_0x5938cf['RMvVc'](_0x45d480,null,{'grants':[]});},'saveToken':function(){}},_0x481adf=new TokenHandler({'accessTokenLifetime':0x78,'model':_0xdeded5,'refreshTokenLifetime':0x78}),_0x4dfc62=new Request({'body':{'client_id':0x3039,'client_secret':_0x153f3a(0x1b7)},'headers':{},'method':{},'query':{}});_0x481adf[_0x153f3a(0x179)](_0x4dfc62)[_0x153f3a(0x1b8)]['be']['an'][_0x153f3a(0x183)](Promise);});}),_0x316381[_0xc6cc24(0xc4)](describe,'getClientCredentials()',function(){var _0x4c04e0=_0xc6cc24,_0x395593={'KnMqD':function(_0x253839,_0x3030de){var _0x1b70fa=_0x1a30;return _0x316381[_0x1b70fa(0x13e)](_0x253839,_0x3030de);},'hUbPR':_0x316381[_0x4c04e0(0x16f)],'CsVqI':_0x316381[_0x4c04e0(0x17d)],'kDwrL':_0x316381[_0x4c04e0(0x134)],'boKUC':_0x316381['YvHeW'],'rklAR':_0x316381[_0x4c04e0(0x195)],'NROKp':_0x316381[_0x4c04e0(0x14d)]};it('should\x20throw\x20an\x20error\x20if\x20`client_id`\x20is\x20missing',function(){var _0x57e91c=_0x4c04e0,_0x1e7541={'xyCBW':_0x57e91c(0x1bb)};if(_0x395593[_0x57e91c(0x16c)]('JdHPf',_0x395593['hUbPR'])){var _0x5296e6={'getClient':function(){},'saveToken':function(){}},_0x4bb2ab=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x5296e6,'refreshTokenLifetime':0x78}),_0x42d84b=new Request({'body':{'client_secret':'foo'},'headers':{},'method':{},'query':{}});try{_0x4bb2ab[_0x57e91c(0x12c)](_0x42d84b),should[_0x57e91c(0x137)]();}catch(_0x49f053){_0x49f053[_0x57e91c(0x1b8)]['be']['an']['instanceOf'](InvalidClientError),_0x49f053[_0x57e91c(0xd3)][_0x57e91c(0x1b8)]['equal'](_0x395593[_0x57e91c(0xf7)]);}}else _0x11d4b6['should']['be']['an'][_0x57e91c(0x183)](_0x4d3d5b),_0x32810e[_0x57e91c(0xd3)][_0x57e91c(0x1b8)][_0x57e91c(0xd1)](_0x1e7541[_0x57e91c(0x1b9)]);}),_0x316381[_0x4c04e0(0x18c)](it,_0x316381[_0x4c04e0(0x185)],function(){var _0x5c64f1=_0x4c04e0;if(_0x395593[_0x5c64f1(0x125)]!==_0x5c64f1(0x17c)){var _0x5bc50b={'getClient':function(){},'saveToken':function(){}},_0x3afe6d=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x5bc50b,'refreshTokenLifetime':0x78}),_0xd11b73=new Request({'body':{'client_id':_0x5c64f1(0x1c8)},'headers':{},'method':{},'query':{}});try{_0x3afe6d[_0x5c64f1(0x12c)](_0xd11b73),should[_0x5c64f1(0x137)]();}catch(_0x4564eb){_0x4564eb['should']['be']['an'][_0x5c64f1(0x183)](InvalidClientError),_0x4564eb[_0x5c64f1(0xd3)][_0x5c64f1(0x1b8)][_0x5c64f1(0xd1)](_0x395593[_0x5c64f1(0xf7)]);}}else return _0x54a41a[_0x5c64f1(0x124)]({'grants':[]});}),describe(_0x4c04e0(0x109),function(){var _0x1ebe44=_0x4c04e0,_0x427d88={'HKrOB':_0x1ebe44(0x1c8),'MvRzy':_0x1ebe44(0xb6)};it(_0x1ebe44(0x1a2),function(){var _0x38977f=_0x1ebe44,_0x4edc21={'getClient':function(){},'saveToken':function(){}},_0x3f2a37=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x4edc21,'refreshTokenLifetime':0x78,'requireClientAuthentication':{'password':![]}}),_0x20a3e1=new Request({'body':{'client_id':_0x427d88[_0x38977f(0x1ad)],'grant_type':_0x427d88[_0x38977f(0x189)]},'headers':{},'method':{},'query':{}}),_0x4501e8=_0x3f2a37[_0x38977f(0x12c)](_0x20a3e1);_0x4501e8['should']['eql']({'clientId':_0x427d88[_0x38977f(0x1ad)]});});}),describe('with\x20`client_id`\x20and\x20`client_secret`\x20in\x20the\x20request\x20header\x20as\x20basic\x20auth',function(){var _0x52645c=_0x4c04e0;_0x316381[_0x52645c(0x14a)](it,_0x316381[_0x52645c(0x17e)],function(){var _0x42e01d=_0x52645c,_0x3c41ae=_0x42e01d(0x1ba)[_0x42e01d(0x1d9)]('|'),_0x2b8f91=0x0;while(!![]){switch(_0x3c41ae[_0x2b8f91++]){case'0':var _0x22d63f=_0xbf507b[_0x42e01d(0x12c)](_0x51b8eb);continue;case'1':var _0x51b8eb=new Request({'body':{},'headers':{'authorization':util[_0x42e01d(0x159)](_0x42e01d(0xc2),new Buffer(_0x395593[_0x42e01d(0x1a6)])[_0x42e01d(0x1c6)](_0x395593[_0x42e01d(0x7d)]))},'method':{},'query':{}});continue;case'2':_0x22d63f[_0x42e01d(0x1b8)][_0x42e01d(0xe3)]({'clientId':_0x395593[_0x42e01d(0x1d8)],'clientSecret':_0x42e01d(0x6b)});continue;case'3':var _0x21fca3={'getClient':function(){},'saveToken':function(){}};continue;case'4':var _0xbf507b=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x21fca3,'refreshTokenLifetime':0x78});continue;}break;}});}),describe(_0x316381['viJGY'],function(){var _0x412093=_0x4c04e0;_0x316381['PaaPV'](it,_0x316381[_0x412093(0x17e)],function(){var _0x57c427=_0x412093,_0x2f16b4=_0x57c427(0x7c)[_0x57c427(0x1d9)]('|'),_0x4bc3b7=0x0;while(!![]){switch(_0x2f16b4[_0x4bc3b7++]){case'0':var _0x4d90c3=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x60c9d3,'refreshTokenLifetime':0x78});continue;case'1':var _0x2e5029=new Request({'body':{'client_id':_0x57c427(0x1c8),'client_secret':'bar'},'headers':{},'method':{},'query':{}});continue;case'2':_0x233a36[_0x57c427(0x1b8)]['eql']({'clientId':_0x57c427(0x1c8),'clientSecret':_0x57c427(0x6b)});continue;case'3':var _0x233a36=_0x4d90c3[_0x57c427(0x12c)](_0x2e5029);continue;case'4':var _0x60c9d3={'getClient':function(){},'saveToken':function(){}};continue;}break;}});});}),describe(_0xc6cc24(0x11d),function(){var _0x3d2a9b=_0xc6cc24,_0x61e420={'PDXbj':_0x3d2a9b(0x1b7),'wEOqg':function(_0x19b6de,_0xd14a8b){return _0x19b6de!==_0xd14a8b;},'nltxl':_0x3d2a9b(0x187),'VESXY':_0x3d2a9b(0x10a),'UTdRb':_0x316381[_0x3d2a9b(0x11a)],'GyRyz':_0x316381['XNjdJ'],'JSlwp':'client_credentials','HwYrR':_0x3d2a9b(0xb6),'xZPTT':_0x316381['CNqRO'],'yFEdL':function(_0x5a5071){var _0x2f6cfc=_0x3d2a9b;return _0x316381[_0x2f6cfc(0x78)](_0x5a5071);},'yrVuE':function(_0x47b780,_0xc5f09f,_0x16c78d){var _0xa094bb=_0x3d2a9b;return _0x316381[_0xa094bb(0x18c)](_0x47b780,_0xc5f09f,_0x16c78d);},'unXVj':'bar','YMtYo':_0x3d2a9b(0x67),'pkYKE':_0x3d2a9b(0xa1),'qgNod':function(_0x4752b1,_0x3e18db){return _0x4752b1*_0x3e18db;},'TYeRn':function(_0x2e90ae,_0x4f338a,_0x196912){return _0x2e90ae(_0x4f338a,_0x196912);},'emXfM':_0x316381['tLtAq'],'DuRyM':'urn:ietf:params:oauth:grant-type:saml2-bearer'};it(_0x316381[_0x3d2a9b(0x198)],function(){var _0x14f96c=_0x3d2a9b,_0x283df2={'XqAvs':_0x61e420['PDXbj']},_0x4a5d5f={'getClient':function(){},'saveToken':function(){}},_0x55acd7=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x4a5d5f,'refreshTokenLifetime':0x78}),_0x5a3099=new Request({'body':{},'headers':{},'method':{},'query':{}});try{if(_0x61e420['wEOqg'](_0x14f96c(0xe9),'FOcls'))_0x55acd7[_0x14f96c(0xcc)](_0x5a3099),should[_0x14f96c(0x137)]();else{var _0x2921ba={'getClient':function(){return{'grants':[]};},'saveToken':function(){}},_0x4c65fb=new _0x534eca({'accessTokenLifetime':0x78,'model':_0x2921ba,'refreshTokenLifetime':0x78}),_0x494460=new _0x3296bf({'body':{'client_id':0x3039,'client_secret':_0x283df2[_0x14f96c(0xc0)]},'headers':{},'method':{},'query':{}});_0x4c65fb[_0x14f96c(0x179)](_0x494460)[_0x14f96c(0x1b8)]['be']['an'][_0x14f96c(0x183)](_0x316a60);}}catch(_0x81c92){_0x81c92[_0x14f96c(0x1b8)]['be']['an']['instanceOf'](InvalidRequestError),_0x81c92['message'][_0x14f96c(0x1b8)][_0x14f96c(0xd1)](_0x61e420[_0x14f96c(0xa5)]);}}),_0x316381['UMgwp'](it,_0x316381[_0x3d2a9b(0x1ce)],function(){var _0x1eefeb=_0x3d2a9b;if(_0x316381[_0x1eefeb(0xf9)](_0x1eefeb(0xed),'glGEl')){var _0x5203aa={'getClient':function(){},'saveToken':function(){}},_0x1c29db=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x5203aa,'refreshTokenLifetime':0x78}),_0x1d7aab=new Request({'body':{'grant_type':'~foo~'},'headers':{},'method':{},'query':{}});try{_0x1c29db[_0x1eefeb(0xcc)](_0x1d7aab),should[_0x1eefeb(0x137)]();}catch(_0x3c5e62){_0x3c5e62[_0x1eefeb(0x1b8)]['be']['an'][_0x1eefeb(0x183)](InvalidRequestError),_0x3c5e62[_0x1eefeb(0xd3)]['should'][_0x1eefeb(0xd1)](_0x1eefeb(0x16d));}}else return _0x61e420['VESXY'];}),it(_0x316381[_0x3d2a9b(0x1c3)],function(){var _0x4fd681=_0x3d2a9b;if(_0x4fd681(0xdb)==='PpAFT'){var _0x4aac21={'getClient':function(){},'saveToken':function(){}},_0x194b3a=new _0x1a7a3e({'accessTokenLifetime':0x78,'model':_0x4aac21,'refreshTokenLifetime':0x78}),_0x2c3992=new _0x1cbe2f(_0x4fd681(0x1c8),'bar',_0x4fd681(0x114)),_0xf927c0=new _0x574017({'body':{},'headers':{}});_0x194b3a[_0x4fd681(0x8b)](_0xf927c0,_0x2c3992),_0xf927c0[_0x4fd681(0x72)](_0x61e420[_0x4fd681(0x176)])[_0x4fd681(0x1b8)][_0x4fd681(0xd1)](_0x61e420[_0x4fd681(0x1a0)]);}else{var _0x3ad2f7={'getClient':function(){},'saveToken':function(){}},_0x1c42df=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x3ad2f7,'refreshTokenLifetime':0x78}),_0x24e803=new Request({'body':{'grant_type':_0x4fd681(0xb5)},'headers':{},'method':{},'query':{}});try{_0x1c42df['handleGrantType'](_0x24e803),should[_0x4fd681(0x137)]();}catch(_0xd1a18f){_0xd1a18f[_0x4fd681(0x1b8)]['be']['an'][_0x4fd681(0x183)](UnsupportedGrantTypeError),_0xd1a18f['message'][_0x4fd681(0x1b8)][_0x4fd681(0xd1)](_0x4fd681(0xfc));}}}),it(_0x316381[_0x3d2a9b(0xc3)],function(){var _0x1438c1=_0x3d2a9b,_0x21ac46={'grants':[_0x61e420[_0x1438c1(0x10d)]]},_0xa123c1={'getClient':function(){},'saveToken':function(){}},_0x5112a5=new TokenHandler({'accessTokenLifetime':0x78,'model':_0xa123c1,'refreshTokenLifetime':0x78}),_0x2eccc1=new Request({'body':{'grant_type':_0x61e420['HwYrR']},'headers':{},'method':{},'query':{}});try{_0x5112a5[_0x1438c1(0xcc)](_0x2eccc1,_0x21ac46),should[_0x1438c1(0x137)]();}catch(_0x188cc9){if(_0x61e420[_0x1438c1(0x1bc)](_0x61e420[_0x1438c1(0x70)],'yZKNL'))return _0x341113;else _0x188cc9[_0x1438c1(0x1b8)]['be']['an'][_0x1438c1(0x183)](UnauthorizedClientError),_0x188cc9[_0x1438c1(0xd3)][_0x1438c1(0x1b8)][_0x1438c1(0xd1)](_0x1438c1(0x145));}}),_0x316381[_0x3d2a9b(0xe4)](it,_0x3d2a9b(0x167),function(){var _0x5df06e=_0x3d2a9b,_0x222f49={'aMCqp':function(_0x1be738,_0x329a78,_0x46ecd2){var _0xa142fb=_0x1a30;return _0x61e420[_0xa142fb(0xca)](_0x1be738,_0x329a78,_0x46ecd2);}},_0x5e1f28={'grants':[_0x61e420['HwYrR']]},_0x313239={'getClient':function(_0xdc9381,_0x2c9cb,_0x4a6049){var _0x64af21=_0x1a30;_0x222f49[_0x64af21(0x150)](_0x4a6049,null,_0x5e1f28);},'getUser':function(_0x3d33fe,_0x1920a6,_0xf6f9e1){var _0x4fe72a=_0x1a30;_0x61e420[_0x4fe72a(0x130)](_0xf6f9e1);},'saveToken':function(){}},_0x4d4d54=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x313239,'refreshTokenLifetime':0x78}),_0x171da4=new Request({'body':{'grant_type':_0x61e420['HwYrR'],'username':_0x5df06e(0x1c8),'password':_0x61e420['unXVj']},'headers':{},'method':{},'query':{}});return _0x4d4d54['handleGrantType'](_0x171da4,_0x5e1f28)[_0x5df06e(0x160)](should[_0x5df06e(0x137)])[_0x5df06e(0xf0)](function(_0x59470f){var _0xbec282=_0x5df06e;_0x59470f[_0xbec282(0x1b8)]['be']['an'][_0xbec282(0x183)](InvalidGrantError),_0x59470f[_0xbec282(0xd3)]['should'][_0xbec282(0xd1)]('Invalid\x20grant:\x20user\x20credentials\x20are\x20invalid');});}),_0x316381[_0x3d2a9b(0xe4)](describe,_0x3d2a9b(0xe7),function(){var _0x3678a3=_0x3d2a9b,_0x426316={'lXuCe':_0x3678a3(0x1c8)};it(_0x61e420['pkYKE'],function(){var _0x5e24ed=_0x3678a3,_0x1f449a={'id':'foobar','grants':[_0x61e420[_0x5e24ed(0x178)]]},_0x4e9184={},_0x472645={'getAuthorizationCode':function(){var _0x6fe6a7=_0x5e24ed;return{'authorizationCode':0x3039,'client':{'id':_0x6fe6a7(0xb5)},'expiresAt':new Date(new Date()*0x2),'user':{}};},'getClient':function(){},'saveToken':function(){return _0x4e9184;},'validateScope':function(){return _0x426316['lXuCe'];},'revokeAuthorizationCode':function(){var _0x423873=_0x5e24ed;return{'authorizationCode':0x3039,'client':{'id':_0x423873(0xb5)},'expiresAt':new Date(new Date()/0x2),'user':{}};}},_0x24b4e3=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x472645,'refreshTokenLifetime':0x78}),_0x3f42d3=new Request({'body':{'code':0x3039,'grant_type':_0x5e24ed(0x67)},'headers':{},'method':{},'query':{}});return _0x24b4e3[_0x5e24ed(0xcc)](_0x3f42d3,_0x1f449a)[_0x5e24ed(0x160)](function(_0x3ef44a){var _0x148c25=_0x5e24ed;_0x3ef44a[_0x148c25(0x1b8)][_0x148c25(0xd1)](_0x4e9184);})[_0x5e24ed(0xf0)](should['fail']);});}),describe(_0x316381[_0x3d2a9b(0x120)],function(){var _0x12f11e=_0x3d2a9b,_0xde276d={'pUVEa':_0x316381['rspoN']};it(_0x12f11e(0xa1),function(){var _0x25b509=_0x12f11e,_0x374cd7={'iRgMn':_0x61e420['HwYrR']};if(_0x25b509(0xbb)===_0x25b509(0x1d0))return{'grants':[_0x374cd7[_0x25b509(0x65)]]};else{var _0x5b24da={'grants':[_0x25b509(0x66)]},_0x5d339f={},_0x49b874={'getClient':function(){},'getUserFromClient':function(){return{};},'saveToken':function(){return _0x5d339f;},'validateScope':function(){var _0xe04ccf=_0x25b509;return _0xde276d[_0xe04ccf(0x1d3)];}},_0x7b9ba8=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x49b874,'refreshTokenLifetime':0x78}),_0x18559c=new Request({'body':{'grant_type':_0x61e420[_0x25b509(0x10d)],'scope':_0x25b509(0x1c8)},'headers':{},'method':{},'query':{}});return _0x7b9ba8[_0x25b509(0xcc)](_0x18559c,_0x5b24da)[_0x25b509(0x160)](function(_0x137650){var _0x57997a=_0x25b509;_0x137650['should'][_0x57997a(0xd1)](_0x5d339f);})[_0x25b509(0xf0)](should[_0x25b509(0x137)]);}});}),_0x316381[_0x3d2a9b(0xff)](describe,'with\x20grant_type\x20`password`',function(){var _0x27f822=_0x3d2a9b,_0x4440a8={'FDIAB':_0x27f822(0x10a),'hKhjk':_0x27f822(0x14e),'eUeVr':_0x27f822(0x9f)};_0x316381['aHqOL'](it,'should\x20return\x20a\x20token',function(){var _0x234114=_0x27f822,_0x8db86c={'rsMhW':_0x234114(0xb6)},_0x320ab1={'grants':[_0x61e420[_0x234114(0x177)]]},_0x52ae8d={},_0x24e4ef={'getClient':function(){},'getUser':function(){return{};},'saveToken':function(){return _0x52ae8d;},'validateScope':function(){var _0x3a549d=_0x234114;return _0x4440a8[_0x3a549d(0xec)];}},_0x7c945b=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x24e4ef,'refreshTokenLifetime':0x78}),_0x5e5abd=new Request({'body':{'client_id':0x3039,'client_secret':_0x234114(0x1b7),'grant_type':'password','password':_0x234114(0x6b),'username':_0x234114(0x1c8),'scope':_0x61e420[_0x234114(0xd2)]},'headers':{},'method':{},'query':{}});return _0x7c945b[_0x234114(0xcc)](_0x5e5abd,_0x320ab1)[_0x234114(0x160)](function(_0x5890e5){var _0x5d49cf=_0x234114;if(_0x4440a8['hKhjk']!==_0x4440a8[_0x5d49cf(0x1b3)])_0x5890e5[_0x5d49cf(0x1b8)][_0x5d49cf(0xd1)](_0x52ae8d);else{var _0x521530={'id':0x3039,'grants':[]},_0x44d651={'getClient':function(){return _0x521530;},'saveToken':function(){}},_0x1316e0=new _0x1d1727({'accessTokenLifetime':0x78,'model':_0x44d651,'refreshTokenLifetime':0x78,'requireClientAuthentication':{'password':![]}}),_0x241948=new _0xaa4f9b({'body':{'client_id':'blah','grant_type':_0x8db86c[_0x5d49cf(0xa7)]},'headers':{},'method':{},'query':{}});return _0x1316e0[_0x5d49cf(0x179)](_0x241948)['then'](function(_0x4de696){var _0x3e467c=_0x5d49cf;_0x4de696[_0x3e467c(0x1b8)]['equal'](_0x521530);})[_0x5d49cf(0xf0)](_0x206bdb[_0x5d49cf(0x137)]);}})['catch'](should[_0x234114(0x137)]);});}),_0x316381[_0x3d2a9b(0x19c)](describe,_0x3d2a9b(0x10b),function(){var _0x301a4f=_0x3d2a9b,_0x1c377a={'OJStH':_0x301a4f(0x140),'brDSg':_0x316381[_0x301a4f(0x14d)]};_0x316381[_0x301a4f(0xb4)](it,_0x316381['kVKYo'],function(){var _0x5382e7=_0x301a4f,_0x507724={'YHJRr':function(_0x173dd8,_0xd95a61){return _0x173dd8===_0xd95a61;},'JvMtX':_0x5382e7(0x149),'FqzEl':function(_0x2135f0,_0x36bee3){var _0x5ad376=_0x5382e7;return _0x61e420[_0x5ad376(0xcf)](_0x2135f0,_0x36bee3);},'yzNVE':function(_0x519ca1,_0x59c103,_0x34ad75){var _0x144f0e=_0x5382e7;return _0x61e420[_0x144f0e(0x83)](_0x519ca1,_0x59c103,_0x34ad75);}},_0x352129={'grants':[_0x61e420[_0x5382e7(0x161)]]},_0x23b7f6={'accessToken':'foo','client':{},'user':{}},_0x19e364={'getClient':function(){},'getRefreshToken':function(){var _0xa74511=_0x5382e7;if(_0x507724[_0xa74511(0xa6)](_0x507724[_0xa74511(0xac)],_0xa74511(0x149)))return{'accessToken':'foo','client':{},'refreshTokenExpiresAt':new Date(_0x507724['FqzEl'](new Date(),0x2)),'user':{}};else try{new _0x173e49({'accessTokenLifetime':0x78,'model':{}}),_0x397154['fail']();}catch(_0x1d39c7){_0x1d39c7['should']['be']['an'][_0xa74511(0x183)](_0x29dd7f),_0x1d39c7[_0xa74511(0xd3)][_0xa74511(0x1b8)][_0xa74511(0xd1)](_0xa74511(0x10e));}},'saveToken':function(){return _0x23b7f6;},'revokeToken':function(){var _0x53b787=_0x5382e7;if(_0x53b787(0x140)!==_0x1c377a[_0x53b787(0xab)])_0x507724[_0x53b787(0x112)](_0x2bd459,null,_0x10cb93);else return{'accessToken':_0x1c377a['brDSg'],'client':{},'refreshTokenExpiresAt':new Date(new Date()/0x2),'user':{}};}},_0x5d741d=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x19e364,'refreshTokenLifetime':0x78}),_0x539115=new Request({'body':{'grant_type':_0x61e420[_0x5382e7(0x161)],'refresh_token':0x3039},'headers':{},'method':{},'query':{}});return _0x5d741d[_0x5382e7(0xcc)](_0x539115,_0x352129)[_0x5382e7(0x160)](function(_0x51cf32){var _0x431a66=_0x5382e7;_0x51cf32[_0x431a66(0x1b8)][_0x431a66(0xd1)](_0x23b7f6);})[_0x5382e7(0xf0)](should['fail']);});}),_0x316381[_0x3d2a9b(0x166)](describe,_0x3d2a9b(0x9a),function(){var _0x248bb4=_0x3d2a9b,_0x28c404={'yOxTi':'lfSCA','UzxyW':_0x248bb4(0x1c8),'hBKCY':_0x61e420[_0x248bb4(0x13a)]};it(_0x248bb4(0xa1),function(){var _0x1e03af=_0x248bb4,_0x51b422={'ywNxi':function(_0x407b26,_0x62c928){return _0x407b26!==_0x62c928;},'kQgen':_0x1e03af(0xb8)},_0x4922e8={'grants':[_0x28c404['hBKCY']]},_0x4868fd={},_0x5947a8={'getClient':function(){},'getUser':function(){var _0x48bbc=_0x1e03af;return _0x48bbc(0x80)!==_0x28c404[_0x48bbc(0x17a)]?_0x279a23:{};},'saveToken':function(){var _0x69a499=_0x1e03af;if(_0x51b422[_0x69a499(0xd4)](_0x51b422[_0x69a499(0xa9)],_0x69a499(0x7a)))return _0x4868fd;else _0x479a2e[_0x69a499(0x9e)](),_0x212b6d[_0x69a499(0x137)]();},'validateScope':function(){var _0x4d3f08=_0x1e03af;return _0x28c404[_0x4d3f08(0x89)];}},_0x16c7ec=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x5947a8,'refreshTokenLifetime':0x78,'extendedGrantTypes':{'urn:ietf:params:oauth:grant-type:saml2-bearer':PasswordGrantType}}),_0x44cb29=new Request({'body':{'grant_type':_0x28c404[_0x1e03af(0x19b)],'username':'foo','password':_0x1e03af(0x6b)},'headers':{},'method':{},'query':{}});return _0x16c7ec[_0x1e03af(0xcc)](_0x44cb29,_0x4922e8)[_0x1e03af(0x160)](function(_0x1466c5){var _0x263d2f=_0x1e03af;_0x1466c5['should'][_0x263d2f(0xd1)](_0x4868fd);})[_0x1e03af(0xf0)](should[_0x1e03af(0x137)]);});});}),_0x316381[_0xc6cc24(0xe4)](describe,_0x316381['arWPk'],function(){var _0x360258=_0xc6cc24;if(_0x316381[_0x360258(0xf9)](_0x360258(0x139),_0x360258(0xae)))return _0xf85953;else _0x316381[_0x360258(0x88)](it,_0x360258(0xde),function(){var _0x34a748=_0x360258,_0x2b3e4a={'accessTokenLifetime':0x3c},_0x1d15d8={'getClient':function(){return _0x2b3e4a;},'saveToken':function(){}},_0x8f709d=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x1d15d8,'refreshTokenLifetime':0x78});_0x8f709d['getAccessTokenLifetime'](_0x2b3e4a)[_0x34a748(0x1b8)][_0x34a748(0xd1)](0x3c);}),it(_0x316381[_0x360258(0x1cc)],function(){var _0x82edf5=_0x360258,_0x360174={'HRnYU':function(_0x11bc07,_0x4fa8a1){return _0x11bc07===_0x4fa8a1;}},_0x526338={},_0x1146ec={'getClient':function(){var _0x29acff=_0x1a30;if(_0x360174[_0x29acff(0x8d)](_0x29acff(0x14c),'tsgNe'))_0x2c786a[_0x29acff(0x1b8)][_0x29acff(0xd1)](_0xa997ad);else return _0x526338;},'saveToken':function(){}},_0x42eca6=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x1146ec,'refreshTokenLifetime':0x78});_0x42eca6['getAccessTokenLifetime'](_0x526338)[_0x82edf5(0x1b8)][_0x82edf5(0xd1)](0x78);});}),describe(_0xc6cc24(0xa2),function(){var _0x4a8d4c=_0xc6cc24,_0x986a55={'xtbEx':_0x316381[_0x4a8d4c(0x7b)],'eFScS':function(_0x4ab2a1,_0x3d4b9d){return _0x4ab2a1/_0x3d4b9d;},'oCsEM':function(_0x496d86,_0x553d0b){return _0x496d86===_0x553d0b;},'xbgqh':_0x4a8d4c(0x1a4),'gKkyj':_0x316381[_0x4a8d4c(0x1d6)]};_0x4a8d4c(0x12a)!=='JroEo'?(_0x2ae8b9['should']['be']['an']['instanceOf'](_0x42a901),_0x1e2782[_0x4a8d4c(0xd3)][_0x4a8d4c(0x1b8)][_0x4a8d4c(0xd1)](_0x4a8d4c(0x16d))):(it('should\x20return\x20the\x20client\x20access\x20token\x20lifetime',function(){var _0x509c55=_0x4a8d4c,_0x311609={'refreshTokenLifetime':0x3c},_0x5f1a0b={'getClient':function(){return _0x311609;},'saveToken':function(){}},_0x150c25=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x5f1a0b,'refreshTokenLifetime':0x78});_0x150c25[_0x509c55(0x11c)](_0x311609)['should'][_0x509c55(0xd1)](0x3c);}),_0x316381['DnHxe'](it,'should\x20return\x20the\x20default\x20access\x20token\x20lifetime',function(){var _0x53bbfa=_0x4a8d4c,_0x4e48b9={'AXCKF':_0x986a55[_0x53bbfa(0xba)],'MoPXQ':function(_0x1807f5,_0x431740){var _0x4b24c1=_0x53bbfa;return _0x986a55[_0x4b24c1(0xdf)](_0x1807f5,_0x431740);}};if(_0x986a55[_0x53bbfa(0x6f)](_0x986a55[_0x53bbfa(0xcb)],_0x986a55['gKkyj'])){var _0x13820={'foo':_0x4e48b9[_0x53bbfa(0x193)]},_0x57a55d={'getClient':function(){},'saveToken':function(){}},_0x25ab47=new _0x584afb({'accessTokenLifetime':0x78,'extendedGrantTypes':_0x13820,'model':_0x57a55d,'refreshTokenLifetime':0x78});_0x25ab47[_0x53bbfa(0xbd)][_0x53bbfa(0x1b8)][_0x53bbfa(0x1c2)](_0x13820);}else{var _0x2a8faf={},_0x246214={'getClient':function(){var _0x35bca1=_0x53bbfa;return _0x35bca1(0xaf)===_0x35bca1(0x1cb)?{'authorizationCode':0x3039,'client':{'id':'foobar'},'expiresAt':new _0x1976cc(_0x4e48b9['MoPXQ'](new _0x3ca6e0(),0x2)),'user':{}}:_0x2a8faf;},'saveToken':function(){}},_0x5afd1b=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x246214,'refreshTokenLifetime':0x78});_0x5afd1b[_0x53bbfa(0x11c)](_0x2a8faf)[_0x53bbfa(0x1b8)][_0x53bbfa(0xd1)](0x78);}}));}),describe(_0xc6cc24(0x132),function(){var _0x5dabd2=_0xc6cc24,_0x90de08={'dMUEq':_0x316381['JPbjD'],'BbVXQ':'foobar'};it(_0x5dabd2(0x8e),function(){var _0xf3fb13=_0x5dabd2,_0xd8eaf0={'getClient':function(){},'saveToken':function(){}},_0x3be7f2=new TokenHandler({'accessTokenLifetime':0x78,'model':_0xd8eaf0,'refreshTokenLifetime':0x78}),_0x5c299c=_0x3be7f2[_0xf3fb13(0x19f)]({'accessToken':'foo','refreshToken':'bar','scope':_0xf3fb13(0xb5)});_0x5c299c['should'][_0xf3fb13(0x1c2)]({'accessToken':_0xf3fb13(0x1c8),'accessTokenLifetime':undefined,'refreshToken':_0x90de08[_0xf3fb13(0xa0)],'scope':_0x90de08[_0xf3fb13(0x1b5)]});});}),_0x316381['TPEwL'](describe,'updateSuccessResponse()',function(){var _0x4c59e4=_0xc6cc24,_0x3365b2={'OQwBd':_0x4c59e4(0x114),'mnoZQ':_0x4c59e4(0x6b),'qIBzR':_0x316381['olyEo'],'azZli':_0x316381[_0x4c59e4(0x1d1)]};it(_0x4c59e4(0x171),function(){var _0x1315f1=_0x4c59e4,_0x100941={'getClient':function(){},'saveToken':function(){}},_0x3a8b16=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x100941,'refreshTokenLifetime':0x78}),_0x5eb5da=new BearerTokenType(_0x1315f1(0x1c8),_0x1315f1(0x6b),_0x3365b2[_0x1315f1(0xe2)]),_0x36f474=new Response({'body':{},'headers':{}});_0x3a8b16['updateSuccessResponse'](_0x36f474,_0x5eb5da),_0x36f474[_0x1315f1(0xeb)][_0x1315f1(0x1b8)]['eql']({'access_token':_0x1315f1(0x1c8),'expires_in':_0x3365b2[_0x1315f1(0x14b)],'refresh_token':_0x3365b2[_0x1315f1(0xe2)],'token_type':_0x3365b2[_0x1315f1(0x1bd)]});}),_0x316381['QvToi'](it,_0x4c59e4(0x135),function(){var _0xe8747f=_0x4c59e4,_0x58740b={'getClient':function(){},'saveToken':function(){}},_0x12fd32=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x58740b,'refreshTokenLifetime':0x78}),_0x2a62ab=new BearerTokenType(_0x316381[_0xe8747f(0x14d)],_0x316381[_0xe8747f(0x7b)],_0xe8747f(0x114)),_0x4c7c43=new Response({'body':{},'headers':{}});_0x12fd32['updateSuccessResponse'](_0x4c7c43,_0x2a62ab),_0x4c7c43['get'](_0xe8747f(0x1cf))[_0xe8747f(0x1b8)][_0xe8747f(0xd1)](_0x316381['XNjdJ']);}),_0x316381['MmEhA'](it,_0x316381[_0x4c59e4(0x1ab)],function(){var _0x15dc3b=_0x4c59e4,_0x1fe64d={'getClient':function(){},'saveToken':function(){}},_0x8522dd=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x1fe64d,'refreshTokenLifetime':0x78}),_0x2bef5b=new BearerTokenType(_0x15dc3b(0x1c8),_0x15dc3b(0x6b),_0x3365b2[_0x15dc3b(0xe2)]),_0x326bcc=new Response({'body':{},'headers':{}});_0x8522dd[_0x15dc3b(0x8b)](_0x326bcc,_0x2bef5b),_0x326bcc[_0x15dc3b(0x72)](_0x3365b2[_0x15dc3b(0x1ca)])[_0x15dc3b(0x1b8)][_0x15dc3b(0xd1)](_0x15dc3b(0x17b));});}),describe(_0xc6cc24(0x96),function(){var _0x10ed50=_0xc6cc24,_0x6eb920={'IrAnw':_0x316381[_0x10ed50(0x15d)],'bXWsy':_0x316381[_0x10ed50(0x1a8)]};it(_0x10ed50(0x171),function(){var _0x1bdb6b=_0x10ed50,_0x3170a5=_0x1bdb6b(0x186)['split']('|'),_0x1857e6=0x0;while(!![]){switch(_0x3170a5[_0x1857e6++]){case'0':_0x439609[_0x1bdb6b(0xeb)][_0x1bdb6b(0xf8)][_0x1bdb6b(0x1b8)][_0x1bdb6b(0xd1)](_0x6eb920[_0x1bdb6b(0x15b)]);continue;case'1':var _0x476c6d={'getClient':function(){},'saveToken':function(){}};continue;case'2':var _0x439609=new Response({'body':{},'headers':{}});continue;case'3':var _0x4019e5=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x476c6d,'refreshTokenLifetime':0x78});continue;case'4':var _0x5356ee=new AccessDeniedError(_0x1bdb6b(0x8f));continue;case'5':_0x439609['body'][_0x1bdb6b(0x126)]['should'][_0x1bdb6b(0xd1)](_0x6eb920['bXWsy']);continue;case'6':_0x4019e5[_0x1bdb6b(0xe1)](_0x439609,_0x5356ee);continue;}break;}}),_0x316381[_0x10ed50(0x155)](it,_0x10ed50(0x173),function(){var _0x21a322=_0x10ed50,_0x5365ab=new AccessDeniedError(_0x316381[_0x21a322(0x15d)]),_0x21b508={'getClient':function(){},'saveToken':function(){}},_0x2da06e=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x21b508,'refreshTokenLifetime':0x78}),_0x476821=new Response({'body':{},'headers':{}});_0x2da06e[_0x21a322(0xe1)](_0x476821,_0x5365ab),_0x476821[_0x21a322(0x98)][_0x21a322(0x1b8)]['equal'](0x190);});});});