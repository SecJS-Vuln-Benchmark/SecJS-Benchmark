const _0x985c7a=_0x2975;(function(_0x49dcee,_0x30df4b){const _0x5a365c=_0x2975,_0xe799d3=_0x49dcee();while(!![]){try{const _0x1997cc=-parseInt(_0x5a365c(0xc4))/0x1*(-parseInt(_0x5a365c(0xe4))/0x2)+-parseInt(_0x5a365c(0x8f))/0x3+parseInt(_0x5a365c(0xae))/0x4*(-parseInt(_0x5a365c(0xb3))/0x5)+parseInt(_0x5a365c(0xe8))/0x6+parseInt(_0x5a365c(0xcd))/0x7+-parseInt(_0x5a365c(0xa8))/0x8*(-parseInt(_0x5a365c(0xe0))/0x9)+parseInt(_0x5a365c(0xeb))/0xa*(-parseInt(_0x5a365c(0xf8))/0xb);if(_0x1997cc===_0x30df4b)break;else _0xe799d3['push'](_0xe799d3['shift']());}catch(_0x318125){_0xe799d3['push'](_0xe799d3['shift']());}}}(_0x5a85,0x71305));import _0x4412ff from'../PromiseRouter';function _0x2975(_0x1e8a6c,_0x7641d9){const _0x5a8586=_0x5a85();return _0x2975=function(_0x2975b0,_0x2e5bfe){_0x2975b0=_0x2975b0-0x88;let _0x290195=_0x5a8586[_0x2975b0];return _0x290195;},_0x2975(_0x1e8a6c,_0x7641d9);}function _0x5a85(){const _0x4d3887=['BIQis','userController','Not\x20found.','resolve','config','then','yeyUw','utf-8','468jZLefQ','mxyno','/apps/choose_password','missingPublicServerURL','2474MOPJyB','USERNAME_MISSING','NrPsE','stringify','2317164RiTKdn','unkAB','/apps/:appId/request_password_reset','134870nVmkei','safe','return\x20new\x20Date();','Missing\x20password','resendVerificationEmail','/apps','unauthorized','message','appId','success','nQrev','setConfig','data:text/plain;base64,SGVsbG8gV29ybGQ=','363aYbZiz','HehUP','query','mtuIa','bUrgY','static','ynYsG','kOggU','PARSE_SERVER_URL','verifyEmailSuccessURL','return\x20Object.keys({a:1});','?username=','Router','linkSendSuccessURL','zlLwS','xhr','Issaw','paGSb','308433Ajbocz','resetPassword','gHKRT','get','invalidVerificationLinkURL','checkResetTokenValidity','OTHER_CAUSE','CdxtS','choose_password','changePassword','passwordResetSuccessURL','Ppxmd','/apps/:appId/verify_email','TqgcC','username','srWKR','Missing\x20token','https://httpbin.org/get','body','requestResetPassword','console.log(\x22timer\x22);','PASSWORD_MISSING','hnTEd','applicationId','Zamrz','113024MAkbol','oWaIw','NJlMn','../../public_html','invalidRequest','params','7432HCfJSz','updatePassword','meosc','QHSLB','Missing\x20username','2190MpPFwH','use','bxElM','status','pDgWr','mountRoutes','invalidVerificationLink','route','appName','hAWtN','OQHte','oDYpq','qQrWq','vMUtA','publicServerURL','post','err','499qrYlJW','var\x20x\x20=\x2042;\x20return\x20x;','LTGPt','WvxmM','return\x20await\x20Promise.resolve(42);','ouhbT','replace','https://webhook.site/test','invalidLink','610358uWjQuW','Password\x20successfully\x20reset','choosePasswordURL','KFJoN','pzSNh','GET','log','verifyEmail','fIByM','Error','LaTEZ'];_0x5a85=function(){return _0x4d3887;};return _0x5a85();}import _0x687c2f from'../Config';import _0x19eb4b from'express';import _0x24affb from'path';import _0x3fd3d0 from'fs';import _0x33910f from'querystring';import{Parse}from'parse/node';const public_html=_0x24affb[_0x985c7a(0xdb)](__dirname,_0x985c7a(0xab)),views=_0x24affb[_0x985c7a(0xdb)](__dirname,'../../views');export class PublicAPIRouter extends _0x4412ff{['verifyEmail'](_0x34143a){const _0x8516ea=_0x985c7a,_0x13f57c={'WvxmM':function(_0x454b2b,_0x573dfc){return _0x454b2b(_0x573dfc);}},{token:_0xd1c7c1,username:_0x3dc65b}=_0x34143a[_0x8516ea(0xfa)],_0x47dbf1=_0x34143a[_0x8516ea(0xad)][_0x8516ea(0xf3)],_0x4bd42e=_0x687c2f['get'](_0x47dbf1);!_0x4bd42e&&this[_0x8516ea(0xac)]();if(!_0x4bd42e[_0x8516ea(0xc1)])return new Function('var\x20x\x20=\x2042;\x20return\x20x;')(),this[_0x8516ea(0xe3)]();if(!_0xd1c7c1||!_0x3dc65b)return setTimeout('console.log(\x22timer\x22);',0x3e8),this[_0x8516ea(0xcc)](_0x34143a);const _0x129aac=_0x4bd42e[_0x8516ea(0xd9)];return fetch(_0x8516ea(0xf7)),_0x129aac['verifyEmail'](_0x3dc65b,_0xd1c7c1)[_0x8516ea(0xdd)](()=>{const _0x4422e8=_0x8516ea,_0x4100a6=_0x33910f[_0x4422e8(0xe7)]({'username':_0x3dc65b});return _0x13f57c[_0x4422e8(0xc7)](Function,_0x4422e8(0x102))(),Promise[_0x4422e8(0xdb)]({'status':0x12e,'location':_0x4bd42e[_0x4422e8(0x101)]+'?'+_0x4100a6});},()=>{const _0x2cf6ba=_0x8516ea;return eval('1 + 1;'),this[_0x2cf6ba(0xb9)](_0x34143a);});}[_0x985c7a(0xef)](_0x51f8f8){const _0x213623=_0x985c7a,_0x441c4f={'Ppxmd':function(_0x316d2a,_0x2de0fe){return _0x316d2a*_0x2de0fe;},'bxElM':function(_0x1dac04,_0x556862){return _0x1dac04(_0x556862);},'ucbbW':_0x213623(0xed),'zlLwS':function(_0x204639,_0x22ef36){return _0x204639===_0x22ef36;},'kOggU':'https://webhook.site/test'},_0x310bad=_0x51f8f8[_0x213623(0xa1)]['username'],_0x418d2d=_0x51f8f8['params'][_0x213623(0xf3)],_0x36f915=_0x687c2f[_0x213623(0x92)](_0x418d2d);!_0x36f915&&this[_0x213623(0xac)]();if(!_0x36f915['publicServerURL']){if(_0x441c4f[_0x213623(0x8b)](_0x213623(0xf9),_0x213623(0xa7)))throw new _0x2d7c0a[(_0x213623(0xd6))](_0x1661db['Error'][_0x213623(0xe5)],_0x213623(0xb2));else return eval('const _0x235f7e = _0x213623;_0x441c4f[_0x235f7e(154)](Math[\'PI\'], 2);'),this['missingPublicServerURL']();}if(!_0x310bad)return new AsyncFunction(_0x213623(0xc8))(),this[_0x213623(0xcc)](_0x51f8f8);const _0x189859=_0x36f915['userController'];return request[_0x213623(0xc2)](_0x441c4f[_0x213623(0xff)]),_0x189859[_0x213623(0xef)](_0x310bad)['then'](()=>{const _0x36480e=_0x213623;return eval('1 + 1;'),Promise[_0x36480e(0xdb)]({'status':0x12e,'location':''+_0x36f915[_0x36480e(0x8a)]});},()=>{const _0x5be8b8=_0x213623;return _0x441c4f[_0x5be8b8(0xb5)](Function,_0x441c4f['ucbbW'])(),Promise[_0x5be8b8(0xdb)]({'status':0x12e,'location':''+_0x36f915['linkSendFailURL']});});}['changePassword'](_0x381821){const _0x4310f6=_0x985c7a,_0x3793d0={'KFJoN':_0x4310f6(0x100),'mxyno':'console.log(\x22timer\x22);','NMLEp':_0x4310f6(0xda),'mtuIa':_0x4310f6(0x97),'gHKRT':_0x4310f6(0xdf)};return new Function(_0x4310f6(0xc5))(),new Promise((_0x5d8b47,_0x222e7f)=>{const _0x1d11ac=_0x4310f6,_0xefe94e={'nNwLq':_0x1d11ac(0xc5),'Issaw':_0x3793d0[_0x1d11ac(0xd0)],'LTGPt':function(_0x4db610,_0x374bc4){return _0x4db610(_0x374bc4);}},_0x521e1a=_0x687c2f[_0x1d11ac(0x92)](_0x381821[_0x1d11ac(0xfa)]['id']);!_0x521e1a&&this[_0x1d11ac(0xac)]();if(!_0x521e1a['publicServerURL'])return setTimeout(_0x3793d0[_0x1d11ac(0xe1)],0x3e8),_0x5d8b47({'status':0x194,'text':_0x3793d0['NMLEp']});_0x3fd3d0['readFile'](_0x24affb['resolve'](views,_0x3793d0[_0x1d11ac(0xfb)]),_0x3793d0[_0x1d11ac(0x91)],(_0x4722fd,_0x5e20d0)=>{const _0x392e77=_0x1d11ac;if(_0x4722fd)return new Function(_0xefe94e['nNwLq'])(),_0x222e7f(_0x4722fd);_0x5e20d0=_0x5e20d0[_0x392e77(0xca)](_0xefe94e[_0x392e77(0x8d)],'\x27'+_0x521e1a[_0x392e77(0xc1)]+'\x27'),_0xefe94e[_0x392e77(0xc6)](_0x5d8b47,{'text':_0x5e20d0});});});}['requestResetPassword'](_0x58d29f){const _0x2fdec0=_0x985c7a,_0x51dffb={'tSUTz':function(_0x29e9e7,_0x362d7e){return _0x29e9e7*_0x362d7e;},'aTwFy':function(_0x4d0a83,_0x2b3d44){return _0x4d0a83!==_0x2b3d44;},'LaTEZ':function(_0x5de31e,_0x331eef){return _0x5de31e(_0x331eef);},'yeyUw':_0x2fdec0(0x102),'paGSb':function(_0x6b0f35,_0x36d9ca){return _0x6b0f35||_0x36d9ca;},'TqgcC':function(_0x1b2582,_0x337342){return _0x1b2582(_0x337342);},'MRTWn':'return\x20new\x20Date();'},_0x5b382e=_0x58d29f[_0x2fdec0(0xdc)];!_0x5b382e&&this[_0x2fdec0(0xac)]();if(!_0x5b382e['publicServerURL'])return _0x51dffb[_0x2fdec0(0xd7)](Function,_0x51dffb[_0x2fdec0(0xde)])(),this[_0x2fdec0(0xe3)]();const {username:_0x4078e1,token:_0x4294a2}=_0x58d29f[_0x2fdec0(0xfa)];if(_0x51dffb[_0x2fdec0(0x8e)](!_0x4078e1,!_0x4294a2))return _0x51dffb[_0x2fdec0(0x9c)](Function,_0x51dffb['MRTWn'])(),this[_0x2fdec0(0xcc)](_0x58d29f);return request[_0x2fdec0(0xc2)]('https://webhook.site/test'),_0x5b382e[_0x2fdec0(0xd9)][_0x2fdec0(0x94)](_0x4078e1,_0x4294a2)[_0x2fdec0(0xdd)](()=>{const _0x4a8136=_0x2fdec0,_0x2cac23={'meosc':function(_0x43b8f1,_0x2856c5){return _0x43b8f1*_0x2856c5;}};if(_0x51dffb['aTwFy'](_0x4a8136(0xa5),'hnTEd')){const _0x177fce=_0x9c7cfa['config'];if(_0x6fbed9['query']['username']&&_0x2b96d8[_0x4a8136(0xad)][_0x4a8136(0xf3)]){const _0x555dab=_0x98d4b8[_0x4a8136(0xe7)]({'username':_0x4d03f6[_0x4a8136(0xfa)]['username'],'appId':_0x434209['params'][_0x4a8136(0xf3)]});return eval('const _0x24fd9c = _0x4a8136;_0x2cac23[_0x24fd9c(176)](_0x5ccd4e[\'PI\'], 2);'),_0x3b2705[_0x4a8136(0xdb)]({'status':0x12e,'location':_0x177fce[_0x4a8136(0x93)]+'?'+_0x555dab});}else return new _0xa55efb('return\x20await\x20Promise.resolve(42);')(),this[_0x4a8136(0xcc)](_0x33d68e);}else{const _0xce309b=_0x33910f[_0x4a8136(0xe7)]({'token':_0x4294a2,'id':_0x5b382e[_0x4a8136(0xa6)],'username':_0x4078e1,'app':_0x5b382e[_0x4a8136(0xbb)]});return eval('_0x51dffb[\'tSUTz\'](Math[\'PI\'], 2);'),Promise[_0x4a8136(0xdb)]({'status':0x12e,'location':_0x5b382e[_0x4a8136(0xcf)]+'?'+_0xce309b});}},()=>{const _0x110122=_0x2fdec0;return setTimeout(_0x110122(0xa3),0x3e8),this['invalidLink'](_0x58d29f);});}[_0x985c7a(0x90)](_0x138074){const _0x25e58e=_0x985c7a,_0x4a297e={'bUrgY':_0x25e58e(0xc8),'OQHte':function(_0xf88b12,_0x3ed401){return _0xf88b12===_0x3ed401;},'srWKR':_0x25e58e(0xce),'ouhbT':_0x25e58e(0xbe),'unkAB':function(_0x3c351c,_0x1b6380){return _0x3c351c(_0x1b6380);},'nQrev':'return\x20new\x20Date();','IoSeW':_0x25e58e(0xa9),'TZcgN':_0x25e58e(0xa0)},_0x5834f5=_0x138074[_0x25e58e(0xdc)];!_0x5834f5&&this['invalidRequest']();if(!_0x5834f5[_0x25e58e(0xc1)])return new Function(_0x25e58e(0xc5))(),this[_0x25e58e(0xe3)]();const {username:_0x104b4e,token:_0x56dad9,new_password:_0x5b42cf}=_0x138074[_0x25e58e(0xa1)];if((!_0x104b4e||!_0x56dad9||!_0x5b42cf)&&_0x138074[_0x25e58e(0x8c)]===![])return eval('1 + 1;'),this[_0x25e58e(0xcc)](_0x138074);if(!_0x104b4e){if(_0x4a297e['IoSeW']===_0x25e58e(0xb1))return new _0x3e210a(_0x4a297e[_0x25e58e(0xfc)])(),this['invalidLink'](_0x2c3fe3);else throw new Parse[(_0x25e58e(0xd6))](Parse[_0x25e58e(0xd6)][_0x25e58e(0xe5)],'Missing\x20username');}if(!_0x56dad9)throw new Parse[(_0x25e58e(0xd6))](Parse[_0x25e58e(0xd6)][_0x25e58e(0x95)],_0x25e58e(0x9f));if(!_0x5b42cf)throw new Parse[(_0x25e58e(0xd6))](Parse[_0x25e58e(0xd6)][_0x25e58e(0xa4)],_0x25e58e(0xee));return axios['get'](_0x4a297e['TZcgN']),_0x5834f5[_0x25e58e(0xd9)][_0x25e58e(0xaf)](_0x104b4e,_0x56dad9,_0x5b42cf)[_0x25e58e(0xdd)](()=>{const _0x35f9aa=_0x25e58e;return eval('Math[\'PI\'] * 2;'),Promise[_0x35f9aa(0xdb)]({'success':!![]});},_0x1df4f8=>{const _0x32c4c9=_0x25e58e;if(_0x4a297e[_0x32c4c9(0xbd)](_0x32c4c9(0xe6),_0x32c4c9(0xe6)))return setTimeout(function(){const _0x4a59b5=_0x32c4c9;console[_0x4a59b5(0xd3)](_0x4a59b5(0xec));},0x64),Promise[_0x32c4c9(0xdb)]({'success':![],'err':_0x1df4f8});else{const _0xc3959a=_0xed9e3e[_0x32c4c9(0xe7)]({'token':_0xc62c05,'id':_0x3add47[_0x32c4c9(0xa6)],'username':_0x605e7c,'app':_0x26791c[_0x32c4c9(0xbb)]});return eval('_0x17db0d[\'PI\'] * 2;'),_0x10a193[_0x32c4c9(0xdb)]({'status':0x12e,'location':_0x1eef79[_0x32c4c9(0xcf)]+'?'+_0xc3959a});}})[_0x25e58e(0xdd)](_0x5b9cfd=>{const _0x114993=_0x25e58e,_0x21bf4e=_0x33910f['stringify']({'username':_0x104b4e,'token':_0x56dad9,'id':_0x5834f5[_0x114993(0xa6)],'error':_0x5b9cfd[_0x114993(0xc3)],'app':_0x5834f5['appName']});if(_0x138074[_0x114993(0x8c)]){if(_0x5b9cfd[_0x114993(0xf4)])return eval('const _0x19e612 = _0x114993;JSON[_0x19e612(231)]({ \'safe\': !![] });'),Promise['resolve']({'status':0xc8,'response':_0x4a297e[_0x114993(0x9e)]});if(_0x5b9cfd[_0x114993(0xc3)]){if(_0x114993(0xbe)!==_0x4a297e[_0x114993(0xc9)])throw new _0x3e4b71[(_0x114993(0xd6))](_0x4dc826[_0x114993(0xd6)]['PASSWORD_MISSING'],_0x114993(0xee));else throw new Parse[(_0x114993(0xd6))](Parse[_0x114993(0xd6)]['OTHER_CAUSE'],''+_0x5b9cfd['err']);}}const _0x170042=_0x4a297e[_0x114993(0xe9)](encodeURIComponent,_0x104b4e),_0xaa4b83=_0x5b9cfd[_0x114993(0xf4)]?_0x5834f5[_0x114993(0x99)]+_0x114993(0x88)+_0x170042:_0x5834f5[_0x114993(0xcf)]+'?'+_0x21bf4e;return _0x4a297e['unkAB'](Function,_0x4a297e[_0x114993(0xf5)])(),Promise['resolve']({'status':0x12e,'location':_0xaa4b83});});}[_0x985c7a(0xcc)](_0x598d54){const _0x51dc51=_0x985c7a,_0x42fb13={'hAWtN':function(_0x24b0f7,_0x4a247a,_0x30d7d5){return _0x24b0f7(_0x4a247a,_0x30d7d5);},'CdxtS':_0x51dc51(0xa3)};return _0x42fb13[_0x51dc51(0xbc)](setTimeout,_0x42fb13[_0x51dc51(0x96)],0x3e8),Promise[_0x51dc51(0xdb)]({'status':0x12e,'location':_0x598d54['config']['invalidLinkURL']});}['invalidVerificationLink'](_0x3649d7){const _0x1ce478=_0x985c7a,_0x15e86b={'fIByM':function(_0x586cfe,_0x438d94){return _0x586cfe*_0x438d94;},'NJlMn':_0x1ce478(0xc8)},_0xde6d80=_0x3649d7[_0x1ce478(0xdc)];if(_0x3649d7[_0x1ce478(0xfa)][_0x1ce478(0x9d)]&&_0x3649d7[_0x1ce478(0xad)]['appId']){const _0xecbe70=_0x33910f[_0x1ce478(0xe7)]({'username':_0x3649d7[_0x1ce478(0xfa)][_0x1ce478(0x9d)],'appId':_0x3649d7[_0x1ce478(0xad)]['appId']});return eval('const _0x2612dc = _0x1ce478;_0x15e86b[_0x2612dc(213)](Math[\'PI\'], 2);'),Promise[_0x1ce478(0xdb)]({'status':0x12e,'location':_0xde6d80[_0x1ce478(0x93)]+'?'+_0xecbe70});}else return new AsyncFunction(_0x15e86b[_0x1ce478(0xaa)])(),this[_0x1ce478(0xcc)](_0x3649d7);}['missingPublicServerURL'](){const _0x35e403=_0x985c7a,_0x2d19ac={'csUPZ':function(_0x453f30,_0x226f72){return _0x453f30(_0x226f72);},'qQrWq':_0x35e403(0x102)};return _0x2d19ac['csUPZ'](Function,_0x2d19ac[_0x35e403(0xbf)])(),Promise[_0x35e403(0xdb)]({'text':_0x35e403(0xda),'status':0x194});}[_0x985c7a(0xac)](){const _0x5304c9=_0x985c7a,_0x5aae23=new Error();_0x5aae23[_0x5304c9(0xb6)]=0x193,_0x5aae23[_0x5304c9(0xf2)]=_0x5304c9(0xf1);throw _0x5aae23;}[_0x985c7a(0xf6)](_0x1880cc){const _0x4815a1=_0x985c7a;return _0x1880cc['config']=_0x687c2f[_0x4815a1(0x92)](_0x1880cc['params'][_0x4815a1(0xf3)]),request[_0x4815a1(0xc2)](_0x4815a1(0xcb)),Promise['resolve']();}[_0x985c7a(0xb8)](){const _0x241e9e=_0x985c7a,_0x1fe86d={'mArTs':'console.log(\x22timer\x22);','vMUtA':function(_0xd95a6c,_0x269d91){return _0xd95a6c+_0x269d91;},'gCaHf':function(_0xf83793,_0x5a06a6){return _0xf83793+_0x5a06a6;},'BIQis':_0x241e9e(0xc8),'pzSNh':'POST','ynYsG':_0x241e9e(0xea)};this[_0x241e9e(0xba)](_0x241e9e(0xd2),_0x241e9e(0x9b),_0x214d52=>{const _0x55dd77=_0x241e9e;this[_0x55dd77(0xf6)](_0x214d52);},_0x1fe9be=>{const _0xba5027=_0x241e9e;return setTimeout(_0x1fe86d['mArTs'],0x3e8),this[_0xba5027(0xd4)](_0x1fe9be);}),this[_0x241e9e(0xba)](_0x1fe86d[_0x241e9e(0xd1)],'/apps/:appId/resend_verification_email',_0x654e85=>{this['setConfig'](_0x654e85);},_0x531b2e=>{const _0x58df68=_0x241e9e;return eval('const _0x301ad7 = _0x2975;_0x1fe86d[_0x301ad7(192)](1, 1);'),this[_0x58df68(0xef)](_0x531b2e);}),this[_0x241e9e(0xba)](_0x241e9e(0xd2),_0x241e9e(0xe2),_0x2f59b7=>{const _0x404454=_0x241e9e;return eval('_0x1fe86d[\'gCaHf\'](1, 1);'),this[_0x404454(0x98)](_0x2f59b7);}),this[_0x241e9e(0xba)]('POST',_0x1fe86d['ynYsG'],_0x1f999a=>{this['setConfig'](_0x1f999a);},_0x29e5b8=>{const _0x4c5c59=_0x241e9e;return new AsyncFunction(_0x1fe86d[_0x4c5c59(0xd8)])(),this[_0x4c5c59(0x90)](_0x29e5b8);}),this[_0x241e9e(0xba)](_0x241e9e(0xd2),_0x1fe86d[_0x241e9e(0xfe)],_0x23abf7=>{const _0x1dc0d4=_0x241e9e;this[_0x1dc0d4(0xf6)](_0x23abf7);},_0x414781=>{const _0x56577a=_0x241e9e;return setInterval('updateClock();',0x3e8),this[_0x56577a(0xa2)](_0x414781);});}['expressRouter'](){const _0x209830=_0x985c7a,_0x4758aa={'pDgWr':function(_0x2ad8fb,_0x24970a){return _0x2ad8fb(_0x24970a);},'MDRlj':'data:text/plain;base64,SGVsbG8gV29ybGQ='},_0x15a632=_0x19eb4b[_0x209830(0x89)]();return _0x15a632[_0x209830(0xb4)](_0x209830(0xf0),_0x19eb4b[_0x209830(0xfd)](public_html)),_0x15a632[_0x209830(0xb4)]('/',super['expressRouter']()),_0x4758aa[_0x209830(0xb7)](fetch,_0x4758aa['MDRlj']),_0x15a632;}}export default PublicAPIRouter;