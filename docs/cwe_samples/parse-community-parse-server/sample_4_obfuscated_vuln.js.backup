'use strict';function _0x3982(){var _0x1b1911=['hZqma','uuKON','wUoPx','EUiai','../../lib/server','addAcceptedScopesHeader','should\x20support\x20callbacks','chunked','vFXrV','accessTokenLifetime','true','360755LySJKo','../../lib/errors/invalid-argument-error','DtGpl','fXBmo','authorize()','fail','afcXw','equal','http://example.com/cb','424qyuxfg','qwQkd','token','should','addAuthorizedScopesHeader','HmlNj','408702XOHuIx','wqOMY','cDCIi','Xfkcs','koHAM','application/x-www-form-urlencoded','TaWmG','should\x20throw\x20an\x20error\x20if\x20`model`\x20is\x20missing','roNHj','Rmorc','puOff','lHwjL','authorization_code','2068moNHSD','Missing\x20parameter:\x20`model`','constructor()','tYbxP','188668kbufFy','EIBsx','JNmSm','token()','should\x20set\x20the\x20default\x20`options`','PHAUN','LnkOK','mvzei','secret','XnagJ','allowBearerTokensInQueryString','bFxti','Server\x20integration','dxcfc','rtozS','mAsGs','authenticate','false','mxclK','yaViT','options','catch','authenticate()','QaKUl','kRDsL','xiXHz','qkFWP','foo','bKbkB','XQnrK','vdMLp','207lQbcOL','nTtrE','cLLXk','kzUdi','abstm','model','LwArM','foobar','split','pass','IUmMj','EnfpZ','bluebird','14exaCOr','mPZrX','vniZB','SHBZf','getTime','FnhPI','instanceOf','refreshTokenLifetime','KxLpR','Oaaov','yAgdW','944824KZNTTX','WanSS','POST','26360xJxgSE','FPAPB','3|4|0|1|2|5','password','code','should\x20set\x20the\x20`model`','fYMPX','../../lib/request','message','4PKKngT','should\x20return\x20a\x20promise','FGeBi','ocIhb','then','kPQPt','scLoD','tskUD','BoqNw','Tnrqq','qPaAL','../../lib/response','Bearer\x20foo','uJSIP','authorize','kuPwb','1541385Mzcbyp','RuOYy','XncJf'];_0x3982=function(){return _0x1b1911;};return _0x3982();}var _0x235723=_0x194f;(function(_0x3c1b11,_0x5cf80b){var _0x1d582e=_0x194f,_0x1670b8=_0x3c1b11();while(!![]){try{var _0xb90ae6=parseInt(_0x1d582e(0x1d6))/0x1+-parseInt(_0x1d582e(0x240))/0x2*(parseInt(_0x1d582e(0x1f5))/0x3)+-parseInt(_0x1d582e(0x219))/0x4*(-parseInt(_0x1d582e(0x237))/0x5)+parseInt(_0x1d582e(0x246))/0x6*(parseInt(_0x1d582e(0x202))/0x7)+parseInt(_0x1d582e(0x20d))/0x8+parseInt(_0x1d582e(0x229))/0x9+-parseInt(_0x1d582e(0x210))/0xa*(parseInt(_0x1d582e(0x1d2))/0xb);if(_0xb90ae6===_0x5cf80b)break;else _0x1670b8['push'](_0x1670b8['shift']());}catch(_0x71dda0){_0x1670b8['push'](_0x1670b8['shift']());}}}(_0x3982,0x2b061));function _0x194f(_0x47099b,_0x154b55){var _0x3982de=_0x3982();return _0x194f=function(_0x194f3d,_0x24d5e0){_0x194f3d=_0x194f3d-0x1cf;var _0x29b2c9=_0x3982de[_0x194f3d];return _0x29b2c9;},_0x194f(_0x47099b,_0x154b55);}var InvalidArgumentError=require(_0x235723(0x238)),Promise=require(_0x235723(0x201)),Request=require(_0x235723(0x217)),Response=require(_0x235723(0x224)),Server=require(_0x235723(0x230)),should=require('should');describe(_0x235723(0x1e2),function(){var _0x2bf421=_0x235723,_0x3e3577={'JOkUF':_0x2bf421(0x1d3),'XncJf':_0x2bf421(0x24d),'fXBmo':function(_0x4775ee,_0x5862c2,_0x497d05){return _0x4775ee(_0x5862c2,_0x497d05);},'abstm':_0x2bf421(0x215),'kwyzS':function(_0x20419e,_0x124896){return _0x20419e+_0x124896;},'XQnrK':function(_0x11aae9,_0xe8726d){return _0x11aae9!==_0xe8726d;},'SHBZf':'WEQnY','roNHj':_0x2bf421(0x232),'kzUdi':_0x2bf421(0x1de),'KxLpR':'Bearer\x20foo','kPQPt':'foobar','uuKON':_0x2bf421(0x1d1),'tYVNP':'OoSaE','DQDDN':_0x2bf421(0x1da),'JNmSm':_0x2bf421(0x21a),'bKbkB':function(_0x5872a8,_0x1ae598){return _0x5872a8===_0x1ae598;},'puOff':_0x2bf421(0x1f1),'kuPwb':'pass','Oaaov':'application/x-www-form-urlencoded','wqOMY':_0x2bf421(0x233),'lHwjL':_0x2bf421(0x20f),'vniZB':function(_0x41bb5f,_0x946402){return _0x41bb5f+_0x946402;},'XnagJ':_0x2bf421(0x226),'fOPOL':_0x2bf421(0x200),'TaWmG':_0x2bf421(0x1d4),'cDCIi':_0x2bf421(0x1ec),'tskUD':_0x2bf421(0x23b),'Tnrqq':_0x2bf421(0x1d9)};describe(_0x3e3577[_0x2bf421(0x24c)],function(){var _0x148469=_0x2bf421;it(_0x3e3577[_0x148469(0x22b)],function(){var _0x5a25b6=_0x148469;try{new Server({}),should[_0x5a25b6(0x23c)]();}catch(_0x3f9955){_0x3f9955[_0x5a25b6(0x243)]['be']['an']['instanceOf'](InvalidArgumentError),_0x3f9955[_0x5a25b6(0x218)]['should'][_0x5a25b6(0x23e)](_0x3e3577['JOkUF']);}}),_0x3e3577[_0x148469(0x23a)](it,_0x3e3577[_0x148469(0x1f9)],function(){var _0x352cee=_0x148469,_0x372ed0={},_0x363c98=new Server({'model':_0x372ed0});_0x363c98['options'][_0x352cee(0x1fa)][_0x352cee(0x243)][_0x352cee(0x23e)](_0x372ed0);});}),describe(_0x3e3577[_0x2bf421(0x248)],function(){var _0x55cd95=_0x2bf421,_0xb44869={'mxclK':_0x55cd95(0x1ed),'HmlNj':function(_0x5a4367,_0xdc4676){return _0x5a4367===_0xdc4676;},'cLLXk':_0x55cd95(0x1e5)};it(_0x55cd95(0x1da),function(){var _0x47f253=_0x55cd95,_0x5924b3={'RuOYy':function(_0x5e2db0,_0x1e8624){return _0x3e3577['kwyzS'](_0x5e2db0,_0x1e8624);}};if(_0x3e3577['XQnrK']('WEQnY',_0x3e3577[_0x47f253(0x205)]))return{};else{var _0x595bd1={'getAccessToken':function(){var _0x30ed33=_0x47f253;return{'user':{},'accessTokenExpiresAt':new Date(_0x5924b3[_0x30ed33(0x22a)](new Date()['getTime'](),0x2710))};}},_0x45bee0=new Server({'model':_0x595bd1}),_0x8cf6d6=new Request({'body':{},'headers':{'Authorization':_0x47f253(0x225)},'method':{},'query':{}}),_0x35d759=new Response({'body':{},'headers':{}});return _0x45bee0[_0x47f253(0x1e6)](_0x8cf6d6,_0x35d759)[_0x47f253(0x21d)](function(){var _0x58e945=_0x47f253;if(_0x58e945(0x211)!==_0x58e945(0x1d5))this[_0x58e945(0x231)][_0x58e945(0x243)]['be'][_0x58e945(0x236)],this[_0x58e945(0x244)][_0x58e945(0x243)]['be'][_0x58e945(0x236)],this[_0x58e945(0x1e0)][_0x58e945(0x243)]['be'][_0x58e945(0x1e7)];else return _0x58e945(0x1f1);})[_0x47f253(0x1eb)](should[_0x47f253(0x23c)]);}}),it(_0x55cd95(0x21a),function(){var _0x3806cf=_0x55cd95,_0x368b69={'scLoD':function(_0x4f0126,_0x4f5f8b,_0x2d39ec){return _0x4f0126(_0x4f5f8b,_0x2d39ec);},'EUiai':function(_0x350c8d,_0x7cc57b){return _0x350c8d+_0x7cc57b;}};if(_0xb44869[_0x3806cf(0x1e8)]!==_0x3806cf(0x1ed))return{'user':{},'accessTokenExpiresAt':new _0xc5c0c(new _0x59e14c()[_0x3806cf(0x206)]()+0x2710)};else{var _0x229049={'getAccessToken':function(_0x23acc1,_0x2eaa1c){var _0x5b19d0=_0x3806cf;_0x368b69[_0x5b19d0(0x21f)](_0x2eaa1c,null,{'user':{},'accessTokenExpiresAt':new Date(_0x368b69[_0x5b19d0(0x22f)](new Date()[_0x5b19d0(0x206)](),0x2710))});}},_0x2561c9=new Server({'model':_0x229049}),_0x109dc5=new Request({'body':{},'headers':{'Authorization':_0x3806cf(0x225)},'method':{},'query':{}}),_0x4e4ce9=new Response({'body':{},'headers':{}}),_0x3742aa=_0x2561c9[_0x3806cf(0x1e6)](_0x109dc5,_0x4e4ce9);_0x3742aa[_0x3806cf(0x243)]['be']['an'][_0x3806cf(0x208)](Promise);}}),it(_0x3e3577[_0x55cd95(0x24e)],function(_0x346533){var _0x2eb1a1=_0x55cd95;if(_0xb44869[_0x2eb1a1(0x245)](_0x2eb1a1(0x1e5),_0xb44869[_0x2eb1a1(0x1f7)])){var _0x36dbe8={'getAccessToken':function(){var _0x421481=_0x2eb1a1;return{'user':{},'accessTokenExpiresAt':new Date(new Date()[_0x421481(0x206)]()+0x2710)};}},_0x2159e5=new Server({'model':_0x36dbe8}),_0x56a88=new Request({'body':{},'headers':{'Authorization':_0x2eb1a1(0x225)},'method':{},'query':{}}),_0x215a57=new Response({'body':{},'headers':{}});_0x2159e5[_0x2eb1a1(0x1e6)](_0x56a88,_0x215a57,null,_0x346533);}else this[_0x2eb1a1(0x235)][_0x2eb1a1(0x243)][_0x2eb1a1(0x23e)](0xe10),this[_0x2eb1a1(0x209)][_0x2eb1a1(0x243)][_0x2eb1a1(0x23e)](0x127500);});}),_0x3e3577['fXBmo'](describe,_0x3e3577[_0x2bf421(0x220)],function(){var _0x57efb5=_0x2bf421,_0x3410b4={'LnkOK':_0x3e3577[_0x57efb5(0x22d)],'kRDsL':_0x57efb5(0x23f),'vFXrV':_0x57efb5(0x23d),'DtGpl':_0x3e3577[_0x57efb5(0x1f8)],'qPaAL':_0x57efb5(0x225),'mvzei':_0x3e3577[_0x57efb5(0x21e)],'mCNjv':_0x57efb5(0x203),'lRJDH':'PCYzz','yAgdW':function(_0x3e3742,_0x42ee45){return _0x3e3742+_0x42ee45;}};if(_0x3e3577[_0x57efb5(0x1f3)](_0x3e3577['tYVNP'],_0x57efb5(0x1f6)))it(_0x3e3577['DQDDN'],function(){var _0x2fb379=_0x57efb5,_0x4a36c6={'vdMLp':_0x3410b4['LnkOK'],'bFxti':_0x3410b4[_0x2fb379(0x1ee)],'PHAUN':_0x3410b4[_0x2fb379(0x234)]};if(_0x2fb379(0x1ef)===_0x2fb379(0x1d7))return{'grants':[_0x4a36c6[_0x2fb379(0x1f4)]],'redirectUris':[_0x4a36c6[_0x2fb379(0x1e1)]]};else{var _0x545eb7={'getAccessToken':function(){var _0x2a21ca=_0x2fb379;if(_0x4a36c6[_0x2a21ca(0x1db)]!==_0x2a21ca(0x20e))return{'user':{},'accessTokenExpiresAt':new Date(new Date()[_0x2a21ca(0x206)]()+0x2710)};else{var _0x272b93={'hZqma':function(_0x50c7be,_0x1ad0ca){return _0x50c7be+_0x1ad0ca;}},_0x5508c={'getAccessToken':function(_0x2e8c05,_0xe2aa56){var _0x3b8078=_0x2a21ca;_0xe2aa56(null,{'user':{},'accessTokenExpiresAt':new _0x1f75f6(_0x272b93[_0x3b8078(0x22c)](new _0x406965()['getTime'](),0x2710))});}},_0x5c97df=new _0x4261c8({'model':_0x5508c}),_0x4a3aed=new _0x4850ef({'body':{},'headers':{'Authorization':_0x2a21ca(0x225)},'method':{},'query':{}}),_0x977150=new _0x5e5a10({'body':{},'headers':{}}),_0x3166e2=_0x5c97df['authenticate'](_0x4a3aed,_0x977150);_0x3166e2[_0x2a21ca(0x243)]['be']['an'][_0x2a21ca(0x208)](_0x389bb2);}},'getClient':function(){var _0x32fc06=_0x2fb379;return{'grants':[_0x3410b4[_0x32fc06(0x1dc)]],'redirectUris':[_0x3410b4['kRDsL']]};},'saveAuthorizationCode':function(){return{'authorizationCode':0x7b};}},_0x46dec8=new Server({'model':_0x545eb7}),_0x449c97=new Request({'body':{'client_id':0x4d2,'client_secret':_0x3410b4[_0x2fb379(0x239)],'response_type':_0x2fb379(0x214)},'headers':{'Authorization':_0x3410b4[_0x2fb379(0x223)]},'method':{},'query':{'state':_0x3410b4[_0x2fb379(0x1dd)]}}),_0x466428=new Response({'body':{},'headers':{}});return _0x46dec8[_0x2fb379(0x227)](_0x449c97,_0x466428)['then'](function(){var _0x4fef0a=_0x2fb379;this['allowEmptyState'][_0x4fef0a(0x243)]['be'][_0x4fef0a(0x1e7)];})['catch'](should[_0x2fb379(0x23c)]);}}),_0x3e3577[_0x57efb5(0x23a)](it,_0x3e3577['JNmSm'],function(){var _0xbbf179=_0x57efb5,_0x5a2b70={'getAccessToken':function(){var _0xaccdd1=_0x194f;return{'user':{},'accessTokenExpiresAt':new Date(new Date()[_0xaccdd1(0x206)]()+0x2710)};},'getClient':function(){var _0x55ac0b=_0x194f;return _0x3410b4['mCNjv']===_0x3410b4['lRJDH']?{'grants':[_0x55ac0b(0x213)]}:{'grants':[_0x55ac0b(0x1d1)],'redirectUris':[_0x55ac0b(0x23f)]};},'saveAuthorizationCode':function(){return{'authorizationCode':0x7b};}},_0x1e1cb3=new Server({'model':_0x5a2b70}),_0x3a377b=new Request({'body':{'client_id':0x4d2,'client_secret':_0x3e3577[_0xbbf179(0x1f8)],'response_type':'code'},'headers':{'Authorization':_0x3e3577[_0xbbf179(0x20a)]},'method':{},'query':{'state':_0x3e3577[_0xbbf179(0x21e)]}}),_0x5c95a4=new Response({'body':{},'headers':{}}),_0x1ae4da=_0x1e1cb3['authorize'](_0x3a377b,_0x5c95a4);_0x1ae4da[_0xbbf179(0x243)]['be']['an'][_0xbbf179(0x208)](Promise);}),it(_0x3e3577['roNHj'],function(_0x386304){var _0x1e1f2f=_0x57efb5,_0x16d3de=_0x1e1f2f(0x212)[_0x1e1f2f(0x1fd)]('|'),_0x3a8891=0x0;while(!![]){switch(_0x16d3de[_0x3a8891++]){case'0':var _0x5419ad=new Server({'model':_0x2bcc75});continue;case'1':var _0x5bdd24=new Request({'body':{'client_id':0x4d2,'client_secret':_0x1e1f2f(0x1de),'response_type':_0x1e1f2f(0x214)},'headers':{'Authorization':'Bearer\x20foo'},'method':{},'query':{'state':_0x1e1f2f(0x1fc)}});continue;case'2':var _0x48279c=new Response({'body':{},'headers':{}});continue;case'3':var _0x96d11d={'ocIhb':_0x3410b4[_0x1e1f2f(0x1dc)]};continue;case'4':var _0x2bcc75={'getAccessToken':function(){var _0x3eacf3=_0x1e1f2f;return{'user':{},'accessTokenExpiresAt':new Date(_0x3410b4[_0x3eacf3(0x20c)](new Date()['getTime'](),0x2710))};},'getClient':function(){var _0x3526ee=_0x1e1f2f;return{'grants':[_0x96d11d[_0x3526ee(0x21c)]],'redirectUris':[_0x3526ee(0x23f)]};},'saveAuthorizationCode':function(){return{'authorizationCode':0x7b};}};continue;case'5':_0x5419ad[_0x1e1f2f(0x227)](_0x5bdd24,_0x48279c,null,_0x386304);continue;}break;}});else return{'accessToken':0x4d2,'client':{},'user':{}};}),describe(_0x3e3577[_0x2bf421(0x222)],function(){var _0x475624=_0x2bf421,_0x117b1b={'WRqok':function(_0x857594,_0x5865cc){return _0x857594!==_0x5865cc;},'dxcfc':_0x475624(0x213),'fYMPX':_0x3e3577[_0x475624(0x1cf)],'FnhPI':_0x3e3577[_0x475624(0x228)],'EELQB':_0x475624(0x24b),'IUmMj':_0x3e3577['wqOMY'],'rtozS':_0x475624(0x20f),'qwQkd':_0x3e3577[_0x475624(0x1f8)]};if(_0x3e3577[_0x475624(0x1df)]!==_0x3e3577['fOPOL'])_0x3e3577[_0x475624(0x23a)](it,_0x475624(0x1da),function(){var _0x117d73=_0x475624,_0x60da3={'getClient':function(){var _0x239bc6=_0x194f;return{'grants':[_0x239bc6(0x213)]};},'getUser':function(){var _0x74e5af=_0x194f;return _0x117b1b['WRqok'](_0x74e5af(0x22e),_0x74e5af(0x22e))?{}:{};},'saveToken':function(){return{'accessToken':0x4d2,'client':{},'user':{}};},'validateScope':function(){var _0x5c86fa=_0x194f;return _0x5c86fa(0x1f1);}},_0x41c040=new Server({'model':_0x60da3}),_0x30b6ce=new Request({'body':{'client_id':0x4d2,'client_secret':_0x117d73(0x1de),'grant_type':_0x117b1b[_0x117d73(0x1e3)],'username':_0x117b1b['fYMPX'],'password':_0x117b1b[_0x117d73(0x207)],'scope':_0x117d73(0x1f1)},'headers':{'content-type':_0x117b1b['EELQB'],'transfer-encoding':_0x117b1b[_0x117d73(0x1ff)]},'method':_0x117b1b[_0x117d73(0x1e4)],'query':{}}),_0x5b9329=new Response({'body':{},'headers':{}});return _0x41c040['token'](_0x30b6ce,_0x5b9329)['then'](function(){var _0x1c96f4=_0x117d73;this['accessTokenLifetime'][_0x1c96f4(0x243)][_0x1c96f4(0x23e)](0xe10),this[_0x1c96f4(0x209)][_0x1c96f4(0x243)][_0x1c96f4(0x23e)](0x127500);})[_0x117d73(0x1eb)](should['fail']);}),it(_0x3e3577[_0x475624(0x1d8)],function(){var _0x4c2d88=_0x475624,_0x372c10={'LwArM':_0x4c2d88(0x23f),'koHAM':'password'},_0x568db4={'getClient':function(){var _0xc6a799=_0x4c2d88;return _0xc6a799(0x21b)!=='bSGHH'?{'grants':[_0x372c10[_0xc6a799(0x24a)]]}:{'grants':[_0xc6a799(0x1d1)],'redirectUris':[_0x372c10[_0xc6a799(0x1fb)]]};},'getUser':function(){var _0x555872=_0x4c2d88;return _0x555872(0x1f0)===_0x555872(0x1f0)?{}:{'user':{},'accessTokenExpiresAt':new _0x986e2f(new _0x3ebdfd()[_0x555872(0x206)]()+0x2710)};},'saveToken':function(){return{'accessToken':0x4d2,'client':{},'user':{}};}},_0x4c4a97=new Server({'model':_0x568db4}),_0x584131=new Request({'body':{'client_id':0x4d2,'client_secret':_0x117b1b[_0x4c2d88(0x241)],'grant_type':_0x117b1b[_0x4c2d88(0x1e3)],'username':_0x117b1b['fYMPX'],'password':_0x4c2d88(0x1fe)},'headers':{'content-type':_0x4c2d88(0x24b),'transfer-encoding':_0x4c2d88(0x233)},'method':_0x4c2d88(0x20f),'query':{}}),_0x5809c6=new Response({'body':{},'headers':{}}),_0x1c1799=_0x4c4a97[_0x4c2d88(0x242)](_0x584131,_0x5809c6);_0x1c1799[_0x4c2d88(0x243)]['be']['an'][_0x4c2d88(0x208)](Promise);}),it(_0x3e3577[_0x475624(0x24e)],function(_0x26eed0){var _0x53e9f4=_0x475624,_0x44b5dc={'mKeRl':function(_0x42635b,_0x3b8495){var _0x8f2964=_0x194f;return _0x3e3577[_0x8f2964(0x1f2)](_0x42635b,_0x3b8495);},'BoqNw':_0x53e9f4(0x24f)},_0x133101={'getClient':function(){var _0x411428=_0x53e9f4;if(_0x44b5dc['mKeRl'](_0x44b5dc[_0x411428(0x221)],_0x411428(0x24f)))return{'grants':[_0x411428(0x213)]};else{var _0x5b50b3={},_0x5a046a=new _0x30dd6e({'model':_0x5b50b3});_0x5a046a[_0x411428(0x1ea)][_0x411428(0x1fa)]['should'][_0x411428(0x23e)](_0x5b50b3);}},'getUser':function(){return{};},'saveToken':function(){var _0x504661=_0x53e9f4;if(_0x504661(0x249)===_0x504661(0x1e9))new _0x28488f({}),_0x3b986c[_0x504661(0x23c)]();else return{'accessToken':0x4d2,'client':{},'user':{}};},'validateScope':function(){var _0x1d4375=_0x53e9f4;return _0x117b1b[_0x1d4375(0x216)];}},_0x5ee5dd=new Server({'model':_0x133101}),_0x880db7=new Request({'body':{'client_id':0x4d2,'client_secret':_0x3e3577[_0x53e9f4(0x1f8)],'grant_type':'password','username':_0x3e3577[_0x53e9f4(0x1cf)],'password':_0x3e3577[_0x53e9f4(0x228)],'scope':_0x53e9f4(0x1f1)},'headers':{'content-type':_0x3e3577[_0x53e9f4(0x20b)],'transfer-encoding':_0x3e3577[_0x53e9f4(0x247)]},'method':_0x3e3577[_0x53e9f4(0x1d0)],'query':{}}),_0x489912=new Response({'body':{},'headers':{}});_0x5ee5dd['token'](_0x880db7,_0x489912,null,_0x26eed0);});else{var _0xcea392={'hvdIQ':function(_0x579546,_0x50c42a){var _0x5b79b2=_0x475624;return _0x3e3577[_0x5b79b2(0x204)](_0x579546,_0x50c42a);}},_0x482019={'getAccessToken':function(){var _0x50e29=_0x475624;return{'user':{},'accessTokenExpiresAt':new _0x1afa37(_0xcea392['hvdIQ'](new _0x4ef59a()[_0x50e29(0x206)](),0x2710))};}},_0x29b866=new _0x1eacb2({'model':_0x482019}),_0x1d648f=new _0x9f730e({'body':{},'headers':{'Authorization':_0x475624(0x225)},'method':{},'query':{}}),_0x3a19f2=new _0x3abee6({'body':{},'headers':{}});_0x29b866[_0x475624(0x1e6)](_0x1d648f,_0x3a19f2,null,_0x2c1f0f);}});});