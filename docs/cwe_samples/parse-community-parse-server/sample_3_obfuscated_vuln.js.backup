'use strict';var _0x38e8ec=_0x4e7b;(function(_0x3160c2,_0xfb385f){var _0x5dd805=_0x4e7b,_0x21aa6a=_0x3160c2();while(!![]){try{var _0x3d91f7=-parseInt(_0x5dd805(0x108))/0x1+-parseInt(_0x5dd805(0xb1))/0x2+-parseInt(_0x5dd805(0x11c))/0x3*(-parseInt(_0x5dd805(0xc3))/0x4)+parseInt(_0x5dd805(0x106))/0x5+-parseInt(_0x5dd805(0xd9))/0x6*(parseInt(_0x5dd805(0xef))/0x7)+-parseInt(_0x5dd805(0x110))/0x8*(-parseInt(_0x5dd805(0xc8))/0x9)+parseInt(_0x5dd805(0xc0))/0xa;if(_0x3d91f7===_0xfb385f)break;else _0x21aa6a['push'](_0x21aa6a['shift']());}catch(_0x53accf){_0x21aa6a['push'](_0x21aa6a['shift']());}}}(_0xbbaf,0xa7c3f));var CodeResponseType=require(_0x38e8ec(0xde)),InvalidArgumentError=require(_0x38e8ec(0xcd)),InvalidRequestError=require(_0x38e8ec(0xea)),Request=require(_0x38e8ec(0xf4)),Promise=require(_0x38e8ec(0x12b)),should=require(_0x38e8ec(0xae)),sinon=require(_0x38e8ec(0x144)),url=require(_0x38e8ec(0xcc));function _0x4e7b(_0x28a36f,_0x2bb17a){var _0xbbaf7a=_0xbbaf();return _0x4e7b=function(_0x4e7b09,_0x701099){_0x4e7b09=_0x4e7b09-0xa9;var _0x2c69bd=_0xbbaf7a[_0x4e7b09];return _0x2c69bd;},_0x4e7b(_0x28a36f,_0x2bb17a);}describe(_0x38e8ec(0x117),function(){var _0x1256e9=_0x38e8ec,_0x39d1f3={'senvb':function(_0x36c4be,_0x3ba3fe){return _0x36c4be!==_0x3ba3fe;},'vwfnX':function(_0x2c4fd0,_0x4b40e9,_0x126926){return _0x2c4fd0(_0x4b40e9,_0x126926);},'NNJtS':function(_0x278f7f,_0x319cd6,_0x4d4ba4){return _0x278f7f(_0x319cd6,_0x4d4ba4);},'uRuKt':_0x1256e9(0x12c),'QmODw':_0x1256e9(0x109),'MoohR':function(_0x4474f0,_0x57af2d){return _0x4474f0===_0x57af2d;},'IoQre':_0x1256e9(0x114),'BfJou':_0x1256e9(0xeb),'rQMCO':function(_0x40782d,_0x296297){return _0x40782d===_0x296297;},'JSEEp':'aRUuo','icytz':_0x1256e9(0x107),'FUEwZ':_0x1256e9(0x121),'oNxsU':'http://example.com/cb?foo=bar','SryVE':function(_0x3cdd2e,_0x1c07bd,_0x41db8d){return _0x3cdd2e(_0x1c07bd,_0x41db8d);},'YoObQ':_0x1256e9(0xbd),'fBLYE':_0x1256e9(0xe6),'GLeYy':_0x1256e9(0xcf),'hxfZj':_0x1256e9(0x148),'jMxVg':_0x1256e9(0x134),'hAtMd':_0x1256e9(0x115),'alVwP':function(_0x13c177,_0x25b4c6,_0x3ddb82){return _0x13c177(_0x25b4c6,_0x3ddb82);},'piOoq':_0x1256e9(0x137),'dcAVl':_0x1256e9(0xe5),'EfTPz':_0x1256e9(0xed),'svwop':_0x1256e9(0xb9),'FDhCP':function(_0x2ced9c,_0x10596d){return _0x2ced9c!==_0x10596d;},'bBjtf':function(_0x5bbb9c,_0x5a609b,_0x543708){return _0x5bbb9c(_0x5a609b,_0x543708);},'ndMVj':'plain','lUTks':function(_0x3aae36,_0x378b74){return _0x3aae36!==_0x378b74;},'QsnqB':_0x1256e9(0xba),'uvjnx':_0x1256e9(0xe1),'Wubwe':_0x1256e9(0x11d),'nIxZX':_0x1256e9(0x118),'lZtqx':_0x1256e9(0x140),'hCpZa':function(_0x1d3c45,_0x17d36d,_0x435fd6){return _0x1d3c45(_0x17d36d,_0x435fd6);},'xcwKm':_0x1256e9(0x105),'emOen':_0x1256e9(0x101),'RHrVg':_0x1256e9(0x141),'ikutq':_0x1256e9(0xa9),'RniaN':_0x1256e9(0xe7)};describe('constructor()',function(){var _0xfaba1d=_0x1256e9;_0x39d1f3[_0xfaba1d(0x11a)](it,_0xfaba1d(0xd0),function(){var _0x12d2da=_0xfaba1d;try{new CodeResponseType(),should[_0x12d2da(0x138)]();}catch(_0xd560f0){_0xd560f0[_0x12d2da(0xae)]['be']['an'][_0x12d2da(0xe3)](InvalidArgumentError),_0xd560f0[_0x12d2da(0xd7)][_0x12d2da(0xae)][_0x12d2da(0xd3)](_0x12d2da(0xb9));}}),_0x39d1f3[_0xfaba1d(0x13a)](it,'should\x20set\x20the\x20`code`',function(){var _0x1f3044=_0xfaba1d;if(_0x39d1f3[_0x1f3044(0xc2)](_0x1f3044(0x145),_0x1f3044(0x145))){var _0x55f30c={'saveAuthorizationCode':function(){}},_0x31f0d6=new _0x364bab({'authorizationCodeLifetime':0x78,'model':_0x55f30c});_0x31f0d6[_0x1f3044(0x10b)][_0x1f3044(0xae)][_0x1f3044(0xd3)](_0x55f30c);}else{var _0x36230a={'saveAuthorizationCode':function(){}},_0xbedf07=new CodeResponseType({'authorizationCodeLifetime':0x78,'model':_0x36230a});_0xbedf07[_0x1f3044(0xb2)]['should']['equal'](0x78);}});}),_0x39d1f3[_0x1256e9(0x11a)](it,_0x39d1f3[_0x1256e9(0x12a)],function(){var _0x2f7ed7=_0x1256e9;if(_0x39d1f3['MoohR'](_0x2f7ed7(0xd4),_0x39d1f3[_0x2f7ed7(0x113)])){var _0x276d88={'getAccessToken':function(){},'getClient':function(){},'saveAuthorizationCode':function(){return{};}},_0x205827=new _0x3d2a59({'authorizationCodeLifetime':0x78,'model':_0x276d88});_0x205827[_0x2f7ed7(0xc6)](_0x39d1f3[_0x2f7ed7(0x133)],'bar',_0x2f7ed7(0x148),_0x39d1f3[_0x2f7ed7(0xbf)])[_0x2f7ed7(0xae)]['be']['an']['instanceOf'](_0x5766b2);}else try{new CodeResponseType({'authorizationCodeLifetime':0x78,'model':{}}),should[_0x2f7ed7(0x138)]();}catch(_0x564327){_0x564327[_0x2f7ed7(0xae)]['be']['an'][_0x2f7ed7(0xe3)](InvalidArgumentError),_0x564327[_0x2f7ed7(0xd7)][_0x2f7ed7(0xae)]['equal'](_0x39d1f3[_0x2f7ed7(0x122)]);}}),_0x39d1f3[_0x1256e9(0x10c)](it,_0x39d1f3[_0x1256e9(0xdd)],function(){var _0x4fc401=_0x1256e9,_0x3328fd={'saveAuthorizationCode':function(){}},_0x55e5f2=new CodeResponseType({'authorizationCodeLifetime':0x78,'model':_0x3328fd});_0x55e5f2['authorizationCodeLifetime'][_0x4fc401(0xae)][_0x4fc401(0xd3)](0x78);}),_0x39d1f3[_0x1256e9(0x149)](describe,_0x39d1f3[_0x1256e9(0x11f)],function(){var _0x20ede4=_0x1256e9,_0x184664={'AttDd':function(_0x26740e,_0x295bf9){var _0x4ad7e9=_0x4e7b;return _0x39d1f3[_0x4ad7e9(0xfb)](_0x26740e,_0x295bf9);},'shoYE':_0x39d1f3[_0x20ede4(0xee)],'dHhjs':_0x39d1f3[_0x20ede4(0x128)],'kIXFa':_0x39d1f3[_0x20ede4(0xad)],'cQZKC':_0x39d1f3[_0x20ede4(0x123)],'eRyoh':_0x20ede4(0x10f)};_0x39d1f3[_0x20ede4(0x126)](it,_0x39d1f3[_0x20ede4(0x14a)],function(){var _0x10673c=_0x20ede4,_0x2136cd={'Gbbzb':'Invalid\x20argument:\x20model\x20does\x20not\x20implement\x20`saveAuthorizationCode()`'},_0x2cc499={'saveAuthorizationCode':function(){}},_0x1ec022=new CodeResponseType({'authorizationCodeLifetime':0x78,'model':_0x2cc499});try{if(_0x184664[_0x10673c(0xf2)](_0x184664[_0x10673c(0xab)],_0x184664['dHhjs']))try{new _0x1122b3({'authorizationCodeLifetime':0x78,'model':{}}),_0x59c0e3['fail']();}catch(_0x3dcf63){_0x3dcf63[_0x10673c(0xae)]['be']['an']['instanceOf'](_0x31c5b2),_0x3dcf63[_0x10673c(0xd7)]['should'][_0x10673c(0xd3)](_0x2136cd[_0x10673c(0xfc)]);}else _0x1ec022[_0x10673c(0xb5)](),should['fail']();}catch(_0x36497a){_0x36497a[_0x10673c(0xae)]['be']['an']['instanceOf'](InvalidArgumentError),_0x36497a[_0x10673c(0xd7)][_0x10673c(0xae)][_0x10673c(0xd3)](_0x10673c(0xec));}}),_0x39d1f3[_0x20ede4(0x13a)](it,_0x20ede4(0xf9),function(){var _0xdd8a7b=_0x20ede4,_0x4b9312={'saveAuthorizationCode':function(){}},_0x1ab916=new CodeResponseType({'authorizationCodeLifetime':0x78,'model':_0x4b9312});_0x1ab916['code']=_0xdd8a7b(0x12c);var _0x176aa1=_0x1ab916['buildRedirectUri'](url[_0xdd8a7b(0x103)](_0x184664['kIXFa']));url['format'](_0x176aa1)[_0xdd8a7b(0xae)][_0xdd8a7b(0xd3)]('http://example.com/cb?code=foo');}),_0x39d1f3[_0x20ede4(0x11a)](it,_0x39d1f3['fBLYE'],function(){var _0x5a8f57=_0x20ede4,_0x2b1f1c={'saveAuthorizationCode':function(){}},_0x21bc62=new CodeResponseType({'authorizationCodeLifetime':0x78,'model':_0x2b1f1c});_0x21bc62['code']='foo';var _0x7b7a4d=_0x21bc62[_0x5a8f57(0xb5)](url[_0x5a8f57(0x103)](_0x184664[_0x5a8f57(0x119)],!![]));url[_0x5a8f57(0x11e)](_0x7b7a4d)[_0x5a8f57(0xae)][_0x5a8f57(0xd3)](_0x184664['eRyoh']);});}),it(_0x39d1f3[_0x1256e9(0xfd)],function(){var _0x46934f=_0x1256e9,_0x254974={'saveAuthorizationCode':function(){}},_0x5c54da=new CodeResponseType({'authorizationCodeLifetime':0x78,'model':_0x254974});_0x5c54da['model'][_0x46934f(0xae)]['equal'](_0x254974);}),_0x39d1f3[_0x1256e9(0x126)](describe,_0x39d1f3['ikutq'],function(){var _0x3caf6f=_0x1256e9;it(_0x3caf6f(0xf8),function(){var _0x536818=_0x3caf6f,_0x54f0c6={'getAccessToken':function(){},'getClient':function(){},'saveAuthorizationCode':function(){}},_0x2ce9c1=new CodeResponseType({'authorizationCodeLifetime':0x78,'model':_0x54f0c6});return _0x2ce9c1[_0x536818(0xe8)]()[_0x536818(0xb6)](function(_0x26f290){var _0x5dfe6b=_0x536818;_0x26f290[_0x5dfe6b(0xae)]['be']['a']['sha1'];})[_0x536818(0xbe)](should[_0x536818(0x138)]);}),it('should\x20support\x20promises',function(){var _0xd98797=_0x3caf6f,_0x5a9ef6={'generateAuthorizationCode':function(){var _0x408831=_0x4e7b;return Promise[_0x408831(0xc4)]({});},'getAccessToken':function(){},'getClient':function(){},'saveAuthorizationCode':function(){}},_0x18a834=new CodeResponseType({'authorizationCodeLifetime':0x78,'model':_0x5a9ef6});_0x18a834['generateAuthorizationCode']()['should']['be']['an'][_0xd98797(0xe3)](Promise);}),it(_0x39d1f3['GLeYy'],function(){var _0x5e0c08=_0x3caf6f,_0x182b5f={'generateAuthorizationCode':function(){return{};},'getAccessToken':function(){},'getClient':function(){},'saveAuthorizationCode':function(){}},_0x2eec86=new CodeResponseType({'authorizationCodeLifetime':0x78,'model':_0x182b5f});_0x2eec86[_0x5e0c08(0xe8)]()[_0x5e0c08(0xae)]['be']['an']['instanceOf'](Promise);});}),describe(_0x39d1f3[_0x1256e9(0xda)],function(){var _0x2e459f=_0x1256e9;_0x39d1f3[_0x2e459f(0x11a)](it,_0x2e459f(0x127),function(){var _0x14a25f=_0x2e459f,_0x593d35={'getAccessToken':function(){},'getClient':function(){},'saveAuthorizationCode':function(){}},_0x36038e=new CodeResponseType({'authorizationCodeLifetime':0x78,'model':_0x593d35});_0x36038e[_0x14a25f(0xcb)]({})[_0x14a25f(0xae)]['be']['an']['instanceOf'](Date);});}),describe(_0x1256e9(0x10e),function(){var _0x344193=_0x1256e9,_0xfb0810={'YMkWX':function(_0x5500f6,_0x90acf6){var _0x2e9a50=_0x4e7b;return _0x39d1f3[_0x2e9a50(0xc2)](_0x5500f6,_0x90acf6);},'VcwXw':_0x344193(0xff),'CAdZU':_0x39d1f3[_0x344193(0x133)]};it('should\x20return\x20an\x20auth\x20code',function(){var _0x5aa034=_0x344193,_0x41352e={},_0x7ecd3a={'getAccessToken':function(){},'getClient':function(){},'saveAuthorizationCode':function(){return _0x41352e;}},_0x52aa1e=new CodeResponseType({'authorizationCodeLifetime':0x78,'model':_0x7ecd3a});return _0x52aa1e[_0x5aa034(0xc6)](_0x5aa034(0x12c),'bar',_0x39d1f3[_0x5aa034(0xe9)],'baz')[_0x5aa034(0xb6)](function(_0x3e64ca){var _0x455c13=_0x5aa034;if(_0xfb0810[_0x455c13(0xe2)](_0xfb0810[_0x455c13(0xbb)],_0x455c13(0xc7)))_0x3e64ca['should'][_0x455c13(0xd3)](_0x41352e);else{var _0x406110={'getAccessToken':function(){},'getClient':function(){},'saveAuthorizationCode':function(){}},_0x464307=new _0x2cad4f({'authorizationCodeLifetime':0x78,'model':_0x406110}),_0x4c4ca0=new _0x1b26ea({'body':{},'headers':{},'method':{},'query':{'code_challenge_method':'S256'}});_0x464307[_0x455c13(0xdf)](_0x4c4ca0)[_0x455c13(0xae)][_0x455c13(0xd3)]('S256');}})[_0x5aa034(0xbe)](should[_0x5aa034(0x138)]);}),_0x39d1f3[_0x344193(0x149)](it,_0x39d1f3[_0x344193(0x125)],function(){var _0x3112ab=_0x344193,_0x26947b={'getAccessToken':function(){},'getClient':function(){},'saveAuthorizationCode':function(){var _0x325f53=_0x4e7b;return Promise[_0x325f53(0xc4)]({});}},_0x988126=new CodeResponseType({'authorizationCodeLifetime':0x78,'model':_0x26947b});_0x988126['saveAuthorizationCode'](_0x39d1f3[_0x3112ab(0x133)],_0x39d1f3['jMxVg'],'biz',_0x39d1f3[_0x3112ab(0xbf)])[_0x3112ab(0xae)]['be']['an'][_0x3112ab(0xe3)](Promise);}),it(_0x39d1f3[_0x344193(0xf0)],function(){var _0x3f5d9c=_0x344193;if(_0x39d1f3[_0x3f5d9c(0xd8)](_0x39d1f3[_0x3f5d9c(0xe4)],_0x3f5d9c(0x130))){var _0x101cf4={'getAccessToken':function(){},'getClient':function(){},'saveAuthorizationCode':function(){}},_0x54d181=new _0x38bd30({'authorizationCodeLifetime':0x78,'model':_0x101cf4}),_0x4e88c1=new _0x16acbe({'body':{},'headers':{},'method':{},'query':{'code_challenge':_0xfb0810[_0x3f5d9c(0xd5)]}});_0x54d181[_0x3f5d9c(0xfe)](_0x4e88c1)[_0x3f5d9c(0xae)]['equal'](_0xfb0810[_0x3f5d9c(0xd5)]);}else{var _0x49e361={'getAccessToken':function(){},'getClient':function(){},'saveAuthorizationCode':function(){return{};}},_0x43b345=new CodeResponseType({'authorizationCodeLifetime':0x78,'model':_0x49e361});_0x43b345[_0x3f5d9c(0xc6)](_0x39d1f3['uRuKt'],_0x39d1f3['jMxVg'],_0x39d1f3[_0x3f5d9c(0xe9)],_0x3f5d9c(0x109))[_0x3f5d9c(0xae)]['be']['an']['instanceOf'](Promise);}});}),describe(_0x1256e9(0x10e),function(){var _0x5a0274=_0x1256e9,_0x55ed07={'ymogR':_0x39d1f3[_0x5a0274(0xc5)],'XEdqS':_0x5a0274(0x146),'xYCLX':_0x39d1f3[_0x5a0274(0xe0)],'aHMzh':'qux','dMnEl':_0x5a0274(0x148)};it(_0x5a0274(0x13b),function(){var _0x32d856=_0x5a0274,_0x2186fb={'pxsCB':'biz','WoEls':_0x32d856(0xd1),'YuaDL':_0x32d856(0x12c),'GOaIj':_0x32d856(0x109),'JvJbM':_0x55ed07[_0x32d856(0xf3)],'XMNRC':_0x55ed07[_0x32d856(0xfa)]},_0x44c2d2={'getAccessToken':function(){},'getClient':function(){},'saveAuthorizationCode':sinon['stub']()[_0x32d856(0xd6)]({})},_0x58bc6e=new CodeResponseType({'authorizationCodeLifetime':0x78,'model':_0x44c2d2});return _0x58bc6e['saveAuthorizationCode'](_0x32d856(0x12c),_0x55ed07[_0x32d856(0x10a)],_0x55ed07['aHMzh'],_0x55ed07[_0x32d856(0xb0)],'baz','boz',_0x55ed07[_0x32d856(0xf3)],_0x32d856(0x146))['then'](function(){var _0xf33300=_0x32d856,_0x70feb0=_0xf33300(0x142)[_0xf33300(0xac)]('|'),_0x1601f6=0x0;while(!![]){switch(_0x70feb0[_0x1601f6++]){case'0':_0x44c2d2[_0xf33300(0xc6)][_0xf33300(0xc9)][_0xf33300(0xae)]['equal'](0x1);continue;case'1':_0x44c2d2[_0xf33300(0xc6)][_0xf33300(0x13c)]['args'][_0xf33300(0xae)][_0xf33300(0x111)][_0xf33300(0xb4)](0x3);continue;case'2':_0x44c2d2['saveAuthorizationCode'][_0xf33300(0x13c)][_0xf33300(0x11b)][0x1][_0xf33300(0xae)][_0xf33300(0xd3)](_0x2186fb['pxsCB']);continue;case'3':_0x44c2d2[_0xf33300(0xc6)]['firstCall']['args'][0x2][_0xf33300(0xae)][_0xf33300(0xd3)](_0x2186fb[_0xf33300(0xce)]);continue;case'4':_0x44c2d2[_0xf33300(0xc6)]['firstCall'][_0xf33300(0x11b)][0x0][_0xf33300(0xae)][_0xf33300(0xf7)]({'authorizationCode':_0x2186fb[_0xf33300(0x10d)],'expiresAt':_0xf33300(0x134),'redirectUri':_0x2186fb[_0xf33300(0x13d)],'scope':_0xf33300(0xbc),'codeChallenge':_0x2186fb['JvJbM'],'codeChallengeMethod':_0x2186fb[_0xf33300(0x131)]});continue;}break;}})[_0x32d856(0xbe)](should[_0x32d856(0x138)]);});}),describe(_0x39d1f3[_0x1256e9(0xca)],function(){var _0x1de1ce=_0x1256e9;_0x39d1f3[_0x1de1ce(0xdb)]('jtIZS','zCYst')?it(_0x1de1ce(0xf5),function(){var _0x294d45=_0x1de1ce,_0x40a2ff={'tfrGi':_0x39d1f3[_0x294d45(0xd2)],'CLwVx':_0x294d45(0x102)},_0x4210fb={'generateAuthorizationCode':sinon['stub']()[_0x294d45(0xd6)]({}),'getAccessToken':function(){},'getClient':function(){},'saveAuthorizationCode':function(){}},_0x4d2e1c=new CodeResponseType({'authorizationCodeLifetime':0x78,'model':_0x4210fb});return _0x4d2e1c[_0x294d45(0xe8)]()['then'](function(){var _0x4f2b73=_0x294d45;_0x40a2ff[_0x4f2b73(0x104)]===_0x4f2b73(0x129)?(_0x12f580[_0x4f2b73(0xae)]['be']['an']['instanceOf'](_0x38e525),_0x4adc4c[_0x4f2b73(0xd7)][_0x4f2b73(0xae)]['equal'](_0x40a2ff[_0x4f2b73(0x13f)])):_0x4210fb['generateAuthorizationCode'][_0x4f2b73(0xc9)]['should'][_0x4f2b73(0xd3)](0x1);})[_0x294d45(0xbe)](should[_0x294d45(0x138)]);}):_0x19ed12[_0x1de1ce(0xae)]['be']['a']['sha1'];}),describe(_0x1256e9(0xb7),function(){var _0x16d384=_0x1256e9,_0x3d97d1={'xPiZp':_0x16d384(0x12e),'eniXI':_0x16d384(0x12c)};_0x39d1f3['NNJtS'](describe,_0x16d384(0x147),function(){var _0x404bab=_0x16d384;_0x404bab(0x12f)===_0x3d97d1[_0x404bab(0xaa)]?(_0x379b90[_0x404bab(0xae)]['be']['an'][_0x404bab(0xe3)](_0x4496ed),_0x470dfb[_0x404bab(0xd7)][_0x404bab(0xae)][_0x404bab(0xd3)](_0x404bab(0x143))):it(_0x404bab(0x112),function(){var _0x516558=_0x404bab,_0x216076={'getAccessToken':function(){},'getClient':function(){},'saveAuthorizationCode':function(){}},_0x10b48c=new CodeResponseType({'authorizationCodeLifetime':0x78,'model':_0x216076}),_0x38357c=new Request({'body':{'code_challenge':_0x516558(0x12c)},'headers':{},'method':{},'query':{}});_0x10b48c['getCodeChallenge'](_0x38357c)[_0x516558(0xae)][_0x516558(0xd3)]('foo');});}),describe(_0x16d384(0x116),function(){var _0x2db115=_0x16d384;_0x39d1f3[_0x2db115(0xb3)](it,_0x2db115(0x112),function(){var _0x564cfb=_0x2db115,_0xddb9e9={'getAccessToken':function(){},'getClient':function(){},'saveAuthorizationCode':function(){}},_0x5b1bb8=new CodeResponseType({'authorizationCodeLifetime':0x78,'model':_0xddb9e9}),_0x39c841=new Request({'body':{},'headers':{},'method':{},'query':{'code_challenge':_0x564cfb(0x12c)}});_0x5b1bb8[_0x564cfb(0xfe)](_0x39c841)[_0x564cfb(0xae)][_0x564cfb(0xd3)](_0x3d97d1[_0x564cfb(0x13e)]);});});}),describe(_0x1256e9(0xf1),function(){var _0x204422=_0x1256e9,_0x116943={'vgDXK':_0x39d1f3[_0x204422(0x133)],'NAfFH':function(_0x5c1e62,_0x3430a9){return _0x39d1f3['lUTks'](_0x5c1e62,_0x3430a9);},'UvixU':_0x39d1f3[_0x204422(0xc1)],'uRGAa':_0x39d1f3[_0x204422(0xf6)],'MwLdQ':_0x204422(0x12d)};it(_0x39d1f3[_0x204422(0x14b)],function(){var _0x26e518=_0x204422,_0x51efff={'getAccessToken':function(){},'getClient':function(){},'saveAuthorizationCode':function(){}},_0x331f59=new CodeResponseType({'authorizationCodeLifetime':0x78,'model':_0x51efff}),_0x7925fe=new Request({'body':{'code_challenge_method':_0x116943[_0x26e518(0x139)]},'headers':{},'method':{},'query':{}});try{_0x116943[_0x26e518(0xb8)](_0x116943[_0x26e518(0x120)],_0x116943['uRGAa'])?(_0x331f59['getCodeChallengeMethod'](_0x7925fe),should[_0x26e518(0x138)]()):_0x8662f7[_0x26e518(0xe8)][_0x26e518(0xc9)][_0x26e518(0xae)][_0x26e518(0xd3)](0x1);}catch(_0x39d301){_0x39d301[_0x26e518(0xae)]['be']['an']['instanceOf'](InvalidRequestError),_0x39d301[_0x26e518(0xd7)]['should']['equal'](_0x26e518(0x143));}}),describe(_0x39d1f3[_0x204422(0xaf)],function(){var _0x1bb8a1=_0x204422,_0x5388d4={'XNKQQ':_0x39d1f3[_0x1bb8a1(0x136)]};_0x39d1f3[_0x1bb8a1(0x149)](it,_0x1bb8a1(0x135),function(){var _0x35e7ff=_0x1bb8a1,_0x34de96={'getAccessToken':function(){},'getClient':function(){},'saveAuthorizationCode':function(){}},_0x249902=new CodeResponseType({'authorizationCodeLifetime':0x78,'model':_0x34de96}),_0x493c25=new Request({'body':{'code_challenge_method':_0x5388d4[_0x35e7ff(0xdc)]},'headers':{},'method':{},'query':{}});_0x249902['getCodeChallengeMethod'](_0x493c25)['should'][_0x35e7ff(0xd3)](_0x35e7ff(0x124));});}),describe(_0x204422(0x100),function(){var _0x12ede7=_0x204422;it(_0x12ede7(0x135),function(){var _0x115f81=_0x12ede7,_0x4a298f={'getAccessToken':function(){},'getClient':function(){},'saveAuthorizationCode':function(){}},_0x3a24b8=new CodeResponseType({'authorizationCodeLifetime':0x78,'model':_0x4a298f}),_0x3b77ed=new Request({'body':{},'headers':{},'method':{},'query':{'code_challenge_method':_0x116943['MwLdQ']}});_0x3a24b8[_0x115f81(0xdf)](_0x3b77ed)['should'][_0x115f81(0xd3)](_0x116943[_0x115f81(0x132)]);});});});});function _0xbbaf(){var _0x4c8c63=['vwfnX','args','3uQxHDd','should\x20throw\x20an\x20error\x20if\x20`code_challenge_method`\x20is\x20invalid','format','emOen','UvixU','http://example.com/cb','BfJou','oNxsU','plain','piOoq','SryVE','should\x20return\x20a\x20date','icytz','yoqAu','lZtqx','bluebird','foo','S256','AejqU','vqxQG','lynZo','XMNRC','MwLdQ','uRuKt','bar','should\x20return\x20the\x20code_challenge_method','ndMVj','should\x20support\x20promises\x20when\x20calling\x20`model.saveAuthorizationCode()`','fail','vgDXK','NNJtS','should\x20call\x20`model.saveAuthorizationCode()`','firstCall','GOaIj','eniXI','tfrGi','should\x20throw\x20an\x20error\x20if\x20the\x20model\x20does\x20not\x20implement\x20`saveAuthorizationCode()`','should\x20set\x20the\x20`model`','0|1|4|2|3','Invalid\x20parameter:\x20`code_challenge_method`,\x20use\x20S256\x20instead','sinon','rQJjA','bez','with\x20`code_challenge`\x20in\x20the\x20request\x20body','biz','alVwP','YoObQ','Wubwe','generateAuthorizationCode()','xPiZp','shoYE','split','FUEwZ','should','nIxZX','dMnEl','780972uJuhcU','authorizationCodeLifetime','bBjtf','length','buildRedirectUri','then','getCodeChallenge()','NAfFH','Missing\x20parameter:\x20`authorizationCodeLifetime`','vnqpK','VcwXw','qux','should\x20throw\x20an\x20error\x20if\x20the\x20`redirectUri`\x20is\x20missing','catch','QmODw','11843220MAfqiB','QsnqB','senvb','1108504TdxBoS','resolve','EfTPz','saveAuthorizationCode','CwIyt','600570UJdGda','callCount','ikutq','getAuthorizationCodeExpiresAt','url','../../../lib/errors/invalid-argument-error','WoEls','should\x20support\x20non-promises','should\x20throw\x20an\x20error\x20if\x20`options.authorizationCodeLifetime`\x20is\x20missing','boz','svwop','equal','ROKEc','CAdZU','returns','message','MoohR','853338xYnfJr','RniaN','FDhCP','XNKQQ','xcwKm','../../../lib/response-types/code-response-type','getCodeChallengeMethod','jMxVg','Azkqz','YMkWX','instanceOf','hAtMd','should\x20support\x20non-promises\x20when\x20calling\x20`model.saveAuthorizationCode()`','should\x20return\x20the\x20new\x20redirect\x20uri\x20and\x20append\x20the\x20`code`\x20and\x20`state`\x20in\x20the\x20query','getAuthorizationCodeExpiresAt()','generateAuthorizationCode','hxfZj','../../../lib/errors/invalid-request-error','Invalid\x20argument:\x20model\x20does\x20not\x20implement\x20`saveAuthorizationCode()`','Missing\x20parameter:\x20`redirectUri`','buz','JSEEp','28RYSCNx','dcAVl','getCodeChallengeMethod()','AttDd','ymogR','../../../lib/request','should\x20call\x20`model.generateAuthorizationCode()`','uvjnx','eql','should\x20return\x20an\x20auth\x20code','should\x20return\x20the\x20new\x20redirect\x20uri\x20and\x20set\x20the\x20`code`\x20and\x20`state`\x20in\x20the\x20query','XEdqS','rQMCO','Gbbzb','RHrVg','getCodeChallenge','kKdoD','with\x20`code_challenge_method`\x20in\x20the\x20request\x20query','buildRedirectUri()','MLjWK','parse','CLwVx','should\x20set\x20the\x20`authorizationCodeLifetime`','3680025RAyixA','BNIVq','951288AidiNZ','baz','xYCLX','model','hCpZa','YuaDL','saveAuthorizationCode()','http://example.com/cb?foo=bar&code=foo','48TOjaJj','have','should\x20return\x20the\x20code_challenge','IoQre','MWisL','wGNKE','with\x20`code_challenge`\x20in\x20the\x20request\x20query','CodeResponseType\x20integration','with\x20`code_challenge_method`\x20in\x20the\x20request\x20body','cQZKC'];_0xbbaf=function(){return _0x4c8c63;};return _0xbbaf();}