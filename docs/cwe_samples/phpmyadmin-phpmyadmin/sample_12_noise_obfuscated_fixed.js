const _0x2cd55e=_0x3e41;function _0x3e41(_0x568a15,_0x13f505){const _0x326919=_0x3269();return _0x3e41=function(_0x3e4149,_0x41a87b){_0x3e4149=_0x3e4149-0x17c;let _0x1c465a=_0x326919[_0x3e4149];return _0x1c465a;},_0x3e41(_0x568a15,_0x13f505);}(function(_0x3dc7dc,_0x3106b2){const _0x2856b6=_0x3e41,_0x3a378e=_0x3dc7dc();while(!![]){try{const _0x3791bc=-parseInt(_0x2856b6(0x1bf))/0x1+-parseInt(_0x2856b6(0x19a))/0x2*(parseInt(_0x2856b6(0x1c7))/0x3)+-parseInt(_0x2856b6(0x1be))/0x4*(-parseInt(_0x2856b6(0x200))/0x5)+parseInt(_0x2856b6(0x19c))/0x6*(-parseInt(_0x2856b6(0x19e))/0x7)+parseInt(_0x2856b6(0x191))/0x8+-parseInt(_0x2856b6(0x1c3))/0x9*(-parseInt(_0x2856b6(0x1b0))/0xa)+-parseInt(_0x2856b6(0x1fc))/0xb;if(_0x3791bc===_0x3106b2)break;else _0x3a378e['push'](_0x3a378e['shift']());}catch(_0x492825){_0x3a378e['push'](_0x3a378e['shift']());}}}(_0x3269,0x556dd));const RedisCacheAdapter=require(_0x2cd55e(0x181))['default'];function _0x3269(){const _0x4e8ea4=['../lib/Config','vbLPq','980520HYmSYD','password','ttl','POST','can\x20limit\x20cloud\x20functions\x20with\x20user\x20session\x20token','signUp','GXlHI','TestObject','rateLimit.requestPath\x20must\x20be\x20a\x20string','AmkKT','kpLEb','/classes/Test/*','Test','should\x20run\x20with\x20masterKey','12ViMZxH','103788IBvPxf','Query','kAzLM','fbWfv','18hNfjdC','qLNVJ','lJLpX','DbFqW','1896KTOJkI','Abc','can\x20limit\x20cloud\x20with\x20validator','does\x20not\x20limit\x20internal\x20calls','kHHOy','beforeDelete','connect','beforeLogin','can\x20limit\x20cloud\x20functions','Yytcq','UBDJA','rateLimit\x20must\x20be\x20an\x20array\x20or\x20object','ZzerB','kFatb','User','JCSUa','env','can\x20use\x20a\x20validator\x20for\x20file','test2','can\x20skip\x20with\x20masterKey','rateLimit.requestCount\x20must\x20be\x20a\x20number','return\x20new\x20Date();','nvnqT','/classes/Test','can\x20use\x20a\x20validator\x20for\x20post','bOoal','/classes/*','rate\x20limit','XhOAm','OLHKo','iyAZy','pMlQY','GET','ztBaP','can\x20set\x20method\x20to\x20delete','toThrow','qSpcy','can\x20add\x20global\x20limit','nQgRs','toBeRejectedWith','pNhmE','can\x20define\x20limits\x20via\x20rateLimit\x20and\x20define','CONNECTION_FAILED','nsXfv','rGGLh','Too\x20many\x20requests','BxJqf','rateLimit.includeInternalRequests\x20must\x20be\x20a\x20boolean','text/plain','rateLimit.requestCount\x20must\x20be\x20defined','validateRateLimit','beforeFind','can\x20limit\x20saving\x20objects','2022020kZZPNK','Cloud','File','owIDR','564840LBfQGR','cPaqu','ZyaDb','define','JrRpE','Error','test1','../lib/Adapters/Cache/RedisCacheAdapter','ddZEk','destroy','rateLimit.errorResponseMessage\x20must\x20be\x20a\x20string','first','cAhvM','beforeSave','can\x20set\x20method\x20to\x20post','can\x20use\x20a\x20validator','mCVKw','kKnZQ','iDTzn','run','Object','zbZjK','test','3096872qtVvaq','PARSE_SERVER_TEST_CACHE','Invalid\x20rate\x20limit\x20option\x20\x22path\x22','can\x20validate\x20rateLimit','Tqktt','DQIZj','nrxKc','rl:127.0.0.1','rateLimit.requestTimeWindow\x20must\x20be\x20a\x20number','692fzLWZN','PjTUO','79104aIOchZ','Too\x20many\x20requests.','35SWCRzZ','toBe','save','does\x20work\x20with\x20cache','logIn','tLAyX','wTVwo','/functions/*','FfbWW','redis','myUser','can\x20set\x20method\x20to\x20get','TestDelete','abc','eJyQk','get'];_0x3269=function(){return _0x4e8ea4;};return _0x3269();}describe(_0x2cd55e(0x1e2),()=>{const _0x3370e7=_0x2cd55e,_0x498132={'nvnqT':_0x3370e7(0x190),'fbWfv':function(_0x527f28,_0x3d96e0){return _0x527f28(_0x3d96e0);},'PjTUO':_0x3370e7(0x1a8),'mCVKw':'/functions/*','nQgRs':'Too\x20many\x20requests','owIDR':_0x3370e7(0x1c8),'kpLEb':function(_0x5d985b,_0x521053){return _0x5d985b(_0x521053);},'qSpcy':function(_0x54dcb0,_0x237db9){return _0x54dcb0(_0x237db9);},'fpQkB':_0x3370e7(0x1e1),'pMlQY':_0x3370e7(0x1bc),'ddZEk':_0x3370e7(0x1b3),'vbLPq':function(_0x40b512,_0x3b477f){return _0x40b512(_0x3b477f);},'XhOAm':'yolo.txt','FfbWW':'text/plain','iyAZy':_0x3370e7(0x1e7),'eJyQk':'TestObject','FWnLB':function(_0x37806b,_0x4c9062){return _0x37806b(_0x4c9062);},'vrHIg':_0x3370e7(0x1ab),'xBHXI':'DELETE','BxJqf':_0x3370e7(0x1aa),'Yytcq':_0x3370e7(0x1b1),'ztBaP':_0x3370e7(0x19d),'pNhmE':function(_0x2b8399,_0x7f97d){return _0x2b8399(_0x7f97d);},'JrRpE':_0x3370e7(0x1ae),'dLocc':function(_0x581722,_0x4b8b84){return _0x581722(_0x4b8b84);},'qLNVJ':_0x3370e7(0x199),'lJLpX':_0x3370e7(0x1f6),'cPaqu':_0x3370e7(0x1db),'zQVka':_0x3370e7(0x184),'Tqktt':function(_0x33177d,_0x26c9de){return _0x33177d(_0x26c9de);},'kKnZQ':'rateLimit.requestPath\x20must\x20be\x20defined','rGGLh':function(_0x132d97,_0x3a442c){return _0x132d97(_0x3a442c);},'iDTzn':function(_0x584f49,_0x1f2c1f){return _0x584f49(_0x1f2c1f);},'woYdJ':_0x3370e7(0x1dc),'DQIZj':_0x3370e7(0x1a7),'zbZjK':function(_0x1a5ed6,_0x37ed57){return _0x1a5ed6(_0x37ed57);},'cAhvM':'redis://localhost:6379','tLAyX':_0x3370e7(0x1b4),'bOoal':function(_0x53e7a6,_0x53cb2e,_0x11f050){return _0x53e7a6(_0x53cb2e,_0x11f050);},'gSVfF':_0x3370e7(0x1c9),'DbFqW':function(_0xea2495,_0x2b91ef,_0x316822){return _0xea2495(_0x2b91ef,_0x316822);},'GXlHI':function(_0x5a6762,_0x5369f7,_0x1faad0){return _0x5a6762(_0x5369f7,_0x1faad0);},'kAzLM':function(_0x21403d,_0x3256b3,_0xddaf7c){return _0x21403d(_0x3256b3,_0xddaf7c);},'ofHOf':_0x3370e7(0x188),'phMIW':_0x3370e7(0x1d8),'UBDJA':function(_0x4e73c0,_0x1cc5a7,_0x18bb41){return _0x4e73c0(_0x1cc5a7,_0x18bb41);},'nsXfv':function(_0x30843d,_0x345281,_0x2ea060){return _0x30843d(_0x345281,_0x2ea060);},'nrxKc':_0x3370e7(0x1e9),'wTVwo':function(_0x346cf4,_0x385c01,_0x2ed816){return _0x346cf4(_0x385c01,_0x2ed816);},'OLHKo':function(_0x426fea,_0x567ccf,_0x2550ce){return _0x426fea(_0x567ccf,_0x2550ce);},'ZzerB':function(_0x570ff7,_0x2aaf41,_0x26a58c){return _0x570ff7(_0x2aaf41,_0x26a58c);},'JCSUa':_0x3370e7(0x1ca)};it(_0x3370e7(0x1cf),async()=>{const _0x1cf1b9=_0x3370e7;Parse['Cloud']['define'](_0x1cf1b9(0x190),()=>'Abc'),await reconfigureServer({'rateLimit':[{'requestPath':_0x1cf1b9(0x1a5),'requestTimeWindow':0x2710,'requestCount':0x1,'errorResponseMessage':_0x1cf1b9(0x1f4),'includeInternalRequests':!![]}]});const _0x2c8049=await Parse['Cloud'][_0x1cf1b9(0x18d)](_0x498132[_0x1cf1b9(0x1dd)]);_0x498132[_0x1cf1b9(0x1c2)](expect,_0x2c8049)[_0x1cf1b9(0x19f)](_0x1cf1b9(0x1c8)),await expectAsync(Parse['Cloud'][_0x1cf1b9(0x18d)](_0x498132[_0x1cf1b9(0x1dd)]))[_0x1cf1b9(0x1ee)](new Parse[(_0x1cf1b9(0x17f))](Parse[_0x1cf1b9(0x17f)]['CONNECTION_FAILED'],'Too\x20many\x20requests'));}),it(_0x498132[_0x3370e7(0x1a3)],async()=>{const _0xf4411c=_0x3370e7;await Parse[_0xf4411c(0x1d5)]['signUp'](_0x498132[_0xf4411c(0x19b)],_0xf4411c(0x1b1)),Parse[_0xf4411c(0x1fd)][_0xf4411c(0x17d)](_0x498132[_0xf4411c(0x1dd)],()=>_0xf4411c(0x1c8)),await reconfigureServer({'rateLimit':[{'requestPath':_0x498132['mCVKw'],'requestTimeWindow':0x2710,'requestCount':0x1,'errorResponseMessage':_0x498132[_0xf4411c(0x1ed)],'includeInternalRequests':!![]}]});const _0x5edd3b=await Parse['Cloud'][_0xf4411c(0x18d)](_0xf4411c(0x190));expect(_0x5edd3b)[_0xf4411c(0x19f)](_0x498132['owIDR']),await _0x498132[_0xf4411c(0x1ba)](expectAsync,Parse[_0xf4411c(0x1fd)][_0xf4411c(0x18d)](_0x498132['nvnqT']))[_0xf4411c(0x1ee)](new Parse[(_0xf4411c(0x17f))](Parse[_0xf4411c(0x17f)][_0xf4411c(0x1f1)],_0x498132[_0xf4411c(0x1ed)]));}),it(_0x3370e7(0x1ec),async()=>{const _0x1aff69=_0x3370e7;Parse[_0x1aff69(0x1fd)][_0x1aff69(0x17d)](_0x1aff69(0x190),()=>_0x1aff69(0x1c8)),await reconfigureServer({'rateLimit':{'requestPath':'*','requestTimeWindow':0x2710,'requestCount':0x1,'errorResponseMessage':_0x498132[_0x1aff69(0x1ed)],'includeInternalRequests':!![]}});const _0x1f8d01=await Parse[_0x1aff69(0x1fd)][_0x1aff69(0x18d)]('test');expect(_0x1f8d01)[_0x1aff69(0x19f)](_0x1aff69(0x1c8)),await expectAsync(Parse[_0x1aff69(0x1fd)][_0x1aff69(0x18d)](_0x498132[_0x1aff69(0x1dd)]))[_0x1aff69(0x1ee)](new Parse[(_0x1aff69(0x17f))](Parse[_0x1aff69(0x17f)][_0x1aff69(0x1f1)],_0x498132[_0x1aff69(0x1ed)])),await expectAsync(new Parse['Object']('Test')[_0x1aff69(0x1a0)]())[_0x1aff69(0x1ee)](new Parse[(_0x1aff69(0x17f))](Parse[_0x1aff69(0x17f)][_0x1aff69(0x1f1)],_0x1aff69(0x1f4)));}),_0x498132[_0x3370e7(0x1e0)](it,_0x498132['gSVfF'],async()=>{const _0x2b879e=_0x3370e7;Parse[_0x2b879e(0x1fd)]['define'](_0x2b879e(0x190),()=>_0x2b879e(0x1c8),{'rateLimit':{'requestTimeWindow':0x2710,'requestCount':0x1,'errorResponseMessage':_0x498132[_0x2b879e(0x1ed)],'includeInternalRequests':!![]}});const _0x304c4a=await Parse[_0x2b879e(0x1fd)][_0x2b879e(0x18d)]('test');expect(_0x304c4a)[_0x2b879e(0x19f)](_0x498132[_0x2b879e(0x1ff)]),await expectAsync(Parse[_0x2b879e(0x1fd)]['run']('test'))[_0x2b879e(0x1ee)](new Parse[(_0x2b879e(0x17f))](Parse[_0x2b879e(0x17f)][_0x2b879e(0x1f1)],_0x498132[_0x2b879e(0x1ed)]));}),_0x498132[_0x3370e7(0x1e0)](it,_0x3370e7(0x1da),async()=>{const _0x4df534=_0x3370e7;Parse['Cloud'][_0x4df534(0x17d)](_0x498132[_0x4df534(0x1dd)],()=>_0x4df534(0x1c8)),await reconfigureServer({'rateLimit':[{'requestPath':_0x498132[_0x4df534(0x18a)],'requestTimeWindow':0x2710,'requestCount':0x1,'errorResponseMessage':_0x498132[_0x4df534(0x1ed)],'includeInternalRequests':!![]}]});const _0x50e782=await Parse[_0x4df534(0x1fd)]['run'](_0x498132[_0x4df534(0x1dd)],null,{'useMasterKey':!![]});_0x498132[_0x4df534(0x1ba)](expect,_0x50e782)[_0x4df534(0x19f)](_0x498132[_0x4df534(0x1ff)]);const _0x2e897b=await Parse[_0x4df534(0x1fd)]['run'](_0x4df534(0x190),null,{'useMasterKey':!![]});expect(_0x2e897b)[_0x4df534(0x19f)](_0x498132[_0x4df534(0x1ff)]);}),_0x498132[_0x3370e7(0x1c6)](it,_0x3370e7(0x1bd),async()=>{const _0x4bdfec=_0x3370e7;Parse[_0x4bdfec(0x1fd)]['define'](_0x4bdfec(0x190),()=>_0x4bdfec(0x1c8)),await _0x498132[_0x4bdfec(0x1ba)](reconfigureServer,{'rateLimit':[{'requestPath':_0x498132['mCVKw'],'requestTimeWindow':0x2710,'requestCount':0x1,'includeMasterKey':!![],'errorResponseMessage':_0x498132[_0x4bdfec(0x1ed)],'includeInternalRequests':!![]}]});const _0x54f2c3=await Parse[_0x4bdfec(0x1fd)][_0x4bdfec(0x18d)](_0x4bdfec(0x190),null,{'useMasterKey':!![]});_0x498132[_0x4bdfec(0x1c2)](expect,_0x54f2c3)[_0x4bdfec(0x19f)](_0x4bdfec(0x1c8)),await _0x498132['fbWfv'](expectAsync,Parse[_0x4bdfec(0x1fd)]['run'](_0x498132[_0x4bdfec(0x1dd)]))[_0x4bdfec(0x1ee)](new Parse['Error'](Parse[_0x4bdfec(0x17f)][_0x4bdfec(0x1f1)],_0x498132[_0x4bdfec(0x1ed)]));}),_0x498132[_0x3370e7(0x1b6)](it,_0x3370e7(0x1fb),async()=>{const _0x2a2495=_0x3370e7;await _0x498132[_0x2a2495(0x1eb)](reconfigureServer,{'rateLimit':[{'requestPath':_0x498132['fpQkB'],'requestTimeWindow':0x2710,'requestCount':0x1,'errorResponseMessage':'Too\x20many\x20requests','includeInternalRequests':!![]}]});const _0xc0a283=new Parse[(_0x2a2495(0x18e))](_0x498132[_0x2a2495(0x1e6)]);await _0xc0a283[_0x2a2495(0x1a0)](),await expectAsync(_0xc0a283['save']())['toBeRejectedWith'](new Parse['Error'](Parse['Error'][_0x2a2495(0x1f1)],_0x2a2495(0x1f4)));}),_0x498132['kAzLM'](it,_0x498132['ofHOf'],async()=>{const _0x4d185e=_0x3370e7;await reconfigureServer({'rateLimit':[{'requestPath':'/classes/*','requestTimeWindow':0x2710,'requestCount':0x1,'requestMethods':_0x498132[_0x4d185e(0x182)],'errorResponseMessage':_0x4d185e(0x1f4),'includeInternalRequests':!![]}]});const _0x1716c7=new Parse[(_0x4d185e(0x18e))](_0x498132[_0x4d185e(0x1e6)]);await _0x1716c7[_0x4d185e(0x1a0)](),await _0x1716c7[_0x4d185e(0x1a0)]();const _0x2075bd=new Parse[(_0x4d185e(0x18e))](_0x498132[_0x4d185e(0x1e6)]);await _0x498132[_0x4d185e(0x1af)](expectAsync,_0x2075bd[_0x4d185e(0x1a0)]())['toBeRejectedWith'](new Parse[(_0x4d185e(0x17f))](Parse[_0x4d185e(0x17f)][_0x4d185e(0x1f1)],'Too\x20many\x20requests'));}),it(_0x3370e7(0x1df),async()=>{const _0x663bcc=_0x3370e7;Parse[_0x663bcc(0x1fd)][_0x663bcc(0x187)](_0x663bcc(0x1bc),()=>{},{'rateLimit':{'requestTimeWindow':0x2710,'requestCount':0x1,'errorResponseMessage':_0x663bcc(0x1f4),'includeInternalRequests':!![]}});const _0x2e52fe=new Parse[(_0x663bcc(0x18e))](_0x663bcc(0x1bc));await _0x2e52fe['save'](),await _0x498132[_0x663bcc(0x1af)](expectAsync,_0x2e52fe['save']())['toBeRejectedWith'](new Parse[(_0x663bcc(0x17f))](Parse['Error']['CONNECTION_FAILED'],_0x663bcc(0x1f4)));}),_0x498132['GXlHI'](it,_0x498132['phMIW'],async()=>{const _0x2c5135=_0x3370e7;Parse['Cloud'][_0x2c5135(0x187)](Parse['File'],()=>{},{'rateLimit':{'requestTimeWindow':0x2710,'requestCount':0x1,'errorResponseMessage':_0x498132[_0x2c5135(0x1ed)],'includeInternalRequests':!![]}});const _0x34312b=new Parse[(_0x2c5135(0x1fe))](_0x498132[_0x2c5135(0x1e3)],[0x1,0x2,0x3],_0x2c5135(0x1f7));await _0x34312b[_0x2c5135(0x1a0)]();const _0x9883f6=new Parse[(_0x2c5135(0x1fe))](_0x498132[_0x2c5135(0x1e3)],[0x1,0x2,0x3],_0x498132[_0x2c5135(0x1a6)]);await _0x498132[_0x2c5135(0x1c2)](expectAsync,_0x9883f6[_0x2c5135(0x1a0)]())[_0x2c5135(0x1ee)](new Parse[(_0x2c5135(0x17f))](Parse[_0x2c5135(0x17f)]['CONNECTION_FAILED'],_0x2c5135(0x1f4)));}),_0x498132[_0x3370e7(0x1d1)](it,_0x3370e7(0x1a9),async()=>{const _0xad81aa=_0x3370e7;await reconfigureServer({'rateLimit':[{'requestPath':_0xad81aa(0x1de),'requestTimeWindow':0x2710,'requestCount':0x1,'requestMethods':_0x498132[_0xad81aa(0x1e5)],'errorResponseMessage':'Too\x20many\x20requests','includeInternalRequests':!![]}]});const _0x4fc6e6=new Parse[(_0xad81aa(0x18e))](_0x498132[_0xad81aa(0x1e6)]);await _0x4fc6e6[_0xad81aa(0x1a0)](),await _0x4fc6e6[_0xad81aa(0x1a0)](),await new Parse['Query'](_0x498132[_0xad81aa(0x1e6)])[_0xad81aa(0x185)](),await _0x498132['fbWfv'](expectAsync,new Parse['Query'](_0xad81aa(0x1bc))[_0xad81aa(0x185)]())[_0xad81aa(0x1ee)](new Parse['Error'](Parse[_0xad81aa(0x17f)]['CONNECTION_FAILED'],'Too\x20many\x20requests'));}),_0x498132[_0x3370e7(0x1f2)](it,_0x3370e7(0x189),async()=>{const _0x990cac=_0x3370e7;await reconfigureServer({'silent':![]}),Parse[_0x990cac(0x1fd)][_0x990cac(0x1fa)](_0x498132['eJyQk'],()=>{},{'rateLimit':{'requestTimeWindow':0x2710,'requestCount':0x1,'errorResponseMessage':_0x498132[_0x990cac(0x1ed)],'includeInternalRequests':!![]}});const _0x1814d2=new Parse[(_0x990cac(0x18e))](_0x990cac(0x1b7));await _0x1814d2[_0x990cac(0x1a0)](),await _0x1814d2[_0x990cac(0x1a0)](),await new Parse['Query'](_0x498132[_0x990cac(0x1ac)])[_0x990cac(0x185)](),await expectAsync(new Parse[(_0x990cac(0x1c0))](_0x498132['eJyQk'])[_0x990cac(0x185)]())[_0x990cac(0x1ee)](new Parse['Error'](Parse['Error'][_0x990cac(0x1f1)],_0x990cac(0x1f4))),await _0x498132['FWnLB'](expectAsync,new Parse['Query'](_0x498132[_0x990cac(0x1ac)])[_0x990cac(0x1ad)](_0x498132['vrHIg']))[_0x990cac(0x1ee)](new Parse[(_0x990cac(0x17f))](Parse[_0x990cac(0x17f)]['CONNECTION_FAILED'],_0x498132['nQgRs']));}),_0x498132[_0x3370e7(0x1c6)](it,_0x498132[_0x3370e7(0x197)],async()=>{const _0x3cd032=_0x3370e7;await reconfigureServer({'rateLimit':[{'requestPath':_0x3cd032(0x1bb),'requestTimeWindow':0x2710,'requestCount':0x1,'requestMethods':_0x498132['xBHXI'],'errorResponseMessage':_0x3cd032(0x1f4),'includeInternalRequests':!![]}]});const _0x17121c=new Parse[(_0x3cd032(0x18e))]('Test');await _0x17121c['save'](),await _0x17121c[_0x3cd032(0x183)](),await expectAsync(_0x17121c[_0x3cd032(0x183)]())['toBeRejectedWith'](new Parse['Error'](Parse[_0x3cd032(0x17f)][_0x3cd032(0x1f1)],_0x498132[_0x3cd032(0x1ed)]));}),_0x498132[_0x3370e7(0x1c1)](it,'can\x20set\x20beforeDelete',async()=>{const _0x4089d2=_0x3370e7,_0x1bebfc=new Parse[(_0x4089d2(0x18e))](_0x4089d2(0x1aa));await _0x1bebfc['save'](),Parse['Cloud'][_0x4089d2(0x1cc)](_0x498132[_0x4089d2(0x1f5)],()=>{},{'rateLimit':{'requestTimeWindow':0x2710,'requestCount':0x1,'errorResponseMessage':_0x498132[_0x4089d2(0x1ed)],'includeInternalRequests':!![]}}),await _0x1bebfc[_0x4089d2(0x183)](),await expectAsync(_0x1bebfc[_0x4089d2(0x183)]())['toBeRejectedWith'](new Parse[(_0x4089d2(0x17f))](Parse[_0x4089d2(0x17f)][_0x4089d2(0x1f1)],_0x4089d2(0x1f4)));}),_0x498132[_0x3370e7(0x1a4)](it,'can\x20set\x20beforeLogin',async()=>{const _0x351549=_0x3370e7;Parse['Cloud'][_0x351549(0x1ce)](()=>{},{'rateLimit':{'requestTimeWindow':0x2710,'requestCount':0x1,'errorResponseMessage':_0x498132[_0x351549(0x1ed)],'includeInternalRequests':!![]}}),await Parse[_0x351549(0x1d5)][_0x351549(0x1b5)](_0x351549(0x1a8),_0x351549(0x1b1)),await Parse[_0x351549(0x1d5)][_0x351549(0x1a2)](_0x498132[_0x351549(0x19b)],_0x351549(0x1b1)),await expectAsync(Parse[_0x351549(0x1d5)][_0x351549(0x1a2)](_0x351549(0x1a8),_0x498132[_0x351549(0x1d0)]))[_0x351549(0x1ee)](new Parse['Error'](Parse[_0x351549(0x17f)]['CONNECTION_FAILED'],_0x351549(0x1f4)));}),_0x498132[_0x3370e7(0x1e4)](it,_0x3370e7(0x1f0),async()=>{const _0x4a400f=_0x3370e7;await reconfigureServer({'rateLimit':[{'requestPath':_0x4a400f(0x1a5),'requestTimeWindow':0x2710,'requestCount':0x64,'errorResponseMessage':'Too\x20many\x20requests','includeInternalRequests':!![]}]}),Parse[_0x4a400f(0x1fd)][_0x4a400f(0x17d)](_0x498132[_0x4a400f(0x1dd)],()=>'Abc',{'rateLimit':{'requestTimeWindow':0x2710,'requestCount':0x1,'includeInternalRequests':!![]}});const _0x5f1b17=await Parse[_0x4a400f(0x1fd)]['run'](_0x4a400f(0x190));expect(_0x5f1b17)[_0x4a400f(0x19f)](_0x498132['owIDR']),await expectAsync(Parse['Cloud']['run']('test'))[_0x4a400f(0x1ee)](new Parse[(_0x4a400f(0x17f))](Parse[_0x4a400f(0x17f)][_0x4a400f(0x1f1)],_0x498132[_0x4a400f(0x1e8)]));}),_0x498132[_0x3370e7(0x1d3)](it,_0x498132[_0x3370e7(0x1d6)],async()=>{const _0x47300a=_0x3370e7;await _0x498132[_0x47300a(0x1af)](reconfigureServer,{'rateLimit':[{'requestPath':_0x47300a(0x1a5),'requestTimeWindow':0x2710,'requestCount':0x1,'errorResponseMessage':_0x498132[_0x47300a(0x1ed)]}]}),Parse[_0x47300a(0x1fd)]['define'](_0x47300a(0x180),()=>'Abc'),Parse['Cloud'][_0x47300a(0x17d)]('test2',async()=>{const _0x11b2c7=_0x47300a;await Parse[_0x11b2c7(0x1fd)]['run'](_0x11b2c7(0x180)),await Parse[_0x11b2c7(0x1fd)][_0x11b2c7(0x18d)](_0x11b2c7(0x180));}),await Parse[_0x47300a(0x1fd)][_0x47300a(0x18d)](_0x47300a(0x1d9));}),_0x498132['nsXfv'](it,_0x3370e7(0x194),async()=>{const _0x3cf17e=_0x3370e7,_0x5b2ea8=_0x498132[_0x3cf17e(0x1ef)](require,_0x498132[_0x3cf17e(0x17e)]),_0x2b46d3=({rateLimit:_0x26cf68})=>_0x5b2ea8[_0x3cf17e(0x1f9)](_0x26cf68);expect(()=>_0x2b46d3({'rateLimit':'a','requestTimeWindow':0x3e8,'requestCount':0x3}))['toThrow'](_0x3cf17e(0x1d2)),_0x498132['dLocc'](expect,()=>_0x2b46d3({'rateLimit':['a']}))[_0x3cf17e(0x1ea)]('rateLimit\x20must\x20be\x20an\x20array\x20of\x20objects'),expect(()=>_0x2b46d3({'rateLimit':[{'requestPath':[]}]}))[_0x3cf17e(0x1ea)](_0x3cf17e(0x1b8)),expect(()=>_0x2b46d3({'rateLimit':[{'requestTimeWindow':[],'requestPath':'a'}]}))[_0x3cf17e(0x1ea)](_0x498132[_0x3cf17e(0x1c4)]),expect(()=>_0x2b46d3({'rateLimit':[{'includeInternalRequests':[],'requestTimeWindow':0x3e8,'requestCount':0x3,'requestPath':'a'}]}))['toThrow'](_0x498132[_0x3cf17e(0x1c5)]),expect(()=>_0x2b46d3({'rateLimit':[{'requestCount':[],'requestTimeWindow':0x3e8,'requestPath':'a'}]}))[_0x3cf17e(0x1ea)](_0x498132[_0x3cf17e(0x201)]),expect(()=>_0x2b46d3({'rateLimit':[{'errorResponseMessage':[],'requestTimeWindow':0x3e8,'requestCount':0x3,'requestPath':'a'}]}))[_0x3cf17e(0x1ea)](_0x498132['zQVka']),expect(()=>_0x2b46d3({'rateLimit':[{'requestCount':0x3,'requestPath':_0x3cf17e(0x1ab)}]}))[_0x3cf17e(0x1ea)]('rateLimit.requestTimeWindow\x20must\x20be\x20defined'),expect(()=>_0x2b46d3({'rateLimit':[{'requestTimeWindow':0x3,'requestPath':_0x3cf17e(0x1ab)}]}))[_0x3cf17e(0x1ea)](_0x3cf17e(0x1f8)),_0x498132[_0x3cf17e(0x195)](expect,()=>_0x2b46d3({'rateLimit':[{'requestTimeWindow':0x3,'requestCount':_0x3cf17e(0x1ab)}]}))[_0x3cf17e(0x1ea)](_0x498132[_0x3cf17e(0x18b)]),await _0x498132[_0x3cf17e(0x1f3)](expectAsync,_0x498132['FWnLB'](reconfigureServer,{'rateLimit':[{'requestTimeWindow':0x3,'requestCount':0x1,'path':_0x3cf17e(0x1ab),'requestPath':'a'}]}))[_0x3cf17e(0x1ee)](_0x3cf17e(0x193));}),describe_only(()=>{const _0x158637=_0x3370e7;return _0x498132[_0x158637(0x18c)](Function,_0x498132['woYdJ'])(),process[_0x158637(0x1d7)][_0x158637(0x192)]===_0x498132[_0x158637(0x196)];})('with\x20RedisCache',function(){const _0x13d8ee=_0x3370e7,_0x3ea1de={'ZyaDb':function(_0x425555,_0xc75742){const _0x37f485=_0x3e41;return _0x498132[_0x37f485(0x18f)](_0x425555,_0xc75742);},'kHHOy':_0x13d8ee(0x1e1),'kFatb':_0x498132[_0x13d8ee(0x186)],'DzFFx':_0x498132['nQgRs'],'AmkKT':'rl:127.0.0.1'};it(_0x13d8ee(0x1a1),async()=>{const _0x1b5df4=_0x13d8ee;await _0x3ea1de[_0x1b5df4(0x17c)](reconfigureServer,{'rateLimit':[{'requestPath':_0x3ea1de[_0x1b5df4(0x1cb)],'requestTimeWindow':0x2710,'requestCount':0x1,'errorResponseMessage':'Too\x20many\x20requests','includeInternalRequests':!![],'redisUrl':_0x3ea1de[_0x1b5df4(0x1d4)]}]});const _0x42932d=new Parse[(_0x1b5df4(0x18e))](_0x1b5df4(0x1bc));await _0x42932d[_0x1b5df4(0x1a0)](),await expectAsync(_0x42932d['save']())[_0x1b5df4(0x1ee)](new Parse[(_0x1b5df4(0x17f))](Parse['Error'][_0x1b5df4(0x1f1)],_0x3ea1de['DzFFx']));const _0x286170=new RedisCacheAdapter();await _0x286170[_0x1b5df4(0x1cd)]();const _0x22bbdf=await _0x286170[_0x1b5df4(0x1ad)](_0x1b5df4(0x198));expect(_0x22bbdf)['toEqual'](0x2);const _0x3926a2=await _0x286170['client'][_0x1b5df4(0x1b2)](_0x3ea1de[_0x1b5df4(0x1b9)]);expect(_0x3926a2)['toEqual'](0xa);});});});