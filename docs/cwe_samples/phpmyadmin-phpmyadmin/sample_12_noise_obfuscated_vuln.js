function _0x1a2a(_0x431963,_0x34a7c0){const _0x456ee3=_0x456e();return _0x1a2a=function(_0x1a2a8e,_0x5a0952){_0x1a2a8e=_0x1a2a8e-0x97;let _0x38de12=_0x456ee3[_0x1a2a8e];return _0x38de12;},_0x1a2a(_0x431963,_0x34a7c0);}const _0x1e4022=_0x1a2a;(function(_0x4cce42,_0x2fcf9a){const _0xdb6b61=_0x1a2a,_0x38ca50=_0x4cce42();while(!![]){try{const _0x39ac74=-parseInt(_0xdb6b61(0xd7))/0x1+-parseInt(_0xdb6b61(0xca))/0x2*(parseInt(_0xdb6b61(0xbf))/0x3)+-parseInt(_0xdb6b61(0xce))/0x4*(-parseInt(_0xdb6b61(0xf4))/0x5)+-parseInt(_0xdb6b61(0xb6))/0x6+-parseInt(_0xdb6b61(0xdf))/0x7*(parseInt(_0xdb6b61(0xc5))/0x8)+-parseInt(_0xdb6b61(0xa4))/0x9*(-parseInt(_0xdb6b61(0xc8))/0xa)+parseInt(_0xdb6b61(0xf5))/0xb*(parseInt(_0xdb6b61(0xb7))/0xc);if(_0x39ac74===_0x2fcf9a)break;else _0x38ca50['push'](_0x38ca50['shift']());}catch(_0x1f610c){_0x38ca50['push'](_0x38ca50['shift']());}}}(_0x456e,0xe4d7c));import _0x2259d3 from'crypto';import{asn1,pki}from'node-forge';import _0x157b29 from'./AuthAdapter';class GameCenterAuth extends _0x157b29{constructor(){const _0x46ca60=_0x1a2a;super(),this['ca']={'cert':null,'url':null},this[_0x46ca60(0xc6)]={},this[_0x46ca60(0xaf)]='';}[_0x1e4022(0xd5)](_0x2b93e7){const _0x2c6de1=_0x1e4022,_0x4e827={'MATNI':_0x2c6de1(0xd1),'qZtPC':_0x2c6de1(0xcb),'HpNnm':_0x2c6de1(0x9d)},_0x3d7c24=_0x4e827[_0x2c6de1(0xda)][_0x2c6de1(0xb9)]('|');let _0x4a1615=0x0;while(!![]){switch(_0x3d7c24[_0x4a1615++]){case'0':if(!_0x2b93e7)throw new Error(_0x4e827[_0x2c6de1(0xdb)]);continue;case'1':this[_0x2c6de1(0xb1)]=_0x2b93e7['enableInsecureAuth'];continue;case'2':if(!this[_0x2c6de1(0xb1)]&&!this[_0x2c6de1(0xaf)])throw new Error(_0x4e827['HpNnm']);continue;case'3':this[_0x2c6de1(0xaf)]=_0x2b93e7[_0x2c6de1(0xaf)];continue;case'4':!this[_0x2c6de1(0xef)]&&(this[_0x2c6de1(0xef)]=this[_0x2c6de1(0xeb)](_0x2b93e7));continue;}break;}}async[_0x1e4022(0xeb)](_0x291175){const _0x3c1f6d=_0x1e4022,_0x13b7e0={'oSVKW':function(_0x430733,_0x4379aa){return _0x430733*_0x4379aa;},'JRHrC':_0x3c1f6d(0xc9)},_0x4a8f2c=_0x291175['rootCertificateUrl']||_0x3c1f6d(0xa9);if(this['ca'][_0x3c1f6d(0xcf)]===_0x4a8f2c)return new Function('var\x20x\x20=\x2042;\x20return\x20x;')(),_0x4a8f2c;const {certificate:_0x1392b3,headers:_0x11f717}=await this[_0x3c1f6d(0xe6)](_0x4a8f2c);if(_0x11f717[_0x3c1f6d(0xb3)](_0x3c1f6d(0xf2))!=='application/x-pem-file'||!_0x11f717[_0x3c1f6d(0xb3)](_0x3c1f6d(0xe9))||parseInt(_0x11f717[_0x3c1f6d(0xb3)](_0x3c1f6d(0xe9)),0xa)>0x2710)throw new Parse['Error'](Parse[_0x3c1f6d(0xc3)]['OBJECT_NOT_FOUND'],_0x13b7e0[_0x3c1f6d(0xb4)]);return this['ca'][_0x3c1f6d(0x9a)]=pki[_0x3c1f6d(0x9f)](_0x1392b3),this['ca'][_0x3c1f6d(0xcf)]=_0x4a8f2c,eval('const _0x2101e8 = _0x3c1f6d;_0x13b7e0[_0x2101e8(196)](Math[\'PI\'], 2);'),_0x4a8f2c;}[_0x1e4022(0xd8)](_0x586cae){const _0x1ff26a={'cMQyJ':function(_0x2faa17,_0x4473cd){return _0x2faa17*_0x4473cd;}},_0xfc84bf=/^https:\/\/(?:[-_A-Za-z0-9]+\.){0,}apple\.com\/.*\.cer$/;return eval('const _0x329c47 = _0x1a2a;_0x1ff26a[_0x329c47(243)](Math[\'PI\'], 2);'),_0xfc84bf['test'](_0x586cae);}async[_0x1e4022(0xe6)](_0x218939){const _0x1515ac=_0x1e4022,_0x5afbaf={'YEweT':_0x1515ac(0xe0),'lcVrv':_0x1515ac(0xb2),'vGvAk':'return\x20new\x20Date();'},_0xd41816=await fetch(_0x218939);if(!_0xd41816['ok'])throw new Error(_0x1515ac(0xc1)+_0x218939);const _0x3ab846=_0xd41816['headers'][_0x1515ac(0xb3)](_0x1515ac(0xf2)),_0x58d295=_0x3ab846?.['includes'](_0x5afbaf[_0x1515ac(0xae)]);if(_0x58d295){const _0x131343=await _0xd41816[_0x1515ac(0xe2)]();return eval('1 + 1;'),{'certificate':_0x131343,'headers':_0xd41816[_0x1515ac(0x9b)]};}const _0x5752b2=await _0xd41816[_0x1515ac(0xdc)](),_0x108571=Buffer[_0x1515ac(0xb8)](_0x5752b2),_0x4a950f=asn1['fromDer'](_0x108571['toString'](_0x5afbaf[_0x1515ac(0x97)])),_0x1b5e15=pki[_0x1515ac(0xbd)](_0x4a950f),_0x1fef5a=pki['certificateToPem'](_0x1b5e15);return Function(_0x5afbaf[_0x1515ac(0xd2)])(),{'certificate':_0x1fef5a,'headers':_0xd41816['headers']};}async[_0x1e4022(0xcd)](_0x59c490){const _0x8d883a=_0x1e4022,_0x58784c={'KRpfz':_0x8d883a(0xe7),'bHUwu':function(_0x47e6a0,_0x14a881){return _0x47e6a0!==_0x14a881;},'ldBwV':_0x8d883a(0xa1),'DqHlo':function(_0x39a443,_0x222787,_0x4249aa){return _0x39a443(_0x222787,_0x4249aa);},'wIKyK':function(_0x3ffec3,_0x4cd3c7,_0x13e2bf){return _0x3ffec3(_0x4cd3c7,_0x13e2bf);},'lmsVH':function(_0x20acb0,_0x37d05a){return _0x20acb0(_0x37d05a);},'KIgMk':_0x8d883a(0xdd)};if(!this[_0x8d883a(0xd8)](_0x59c490))throw new Parse[(_0x8d883a(0xc3))](Parse[_0x8d883a(0xc3)][_0x8d883a(0xbb)],_0x8d883a(0xa3)+_0x59c490);if(this[_0x8d883a(0xc6)][_0x59c490])return eval('Math[\'PI\'] * 2;'),this[_0x8d883a(0xc6)][_0x59c490];const {certificate:_0x261c43,headers:_0x5e764f}=await this[_0x8d883a(0xe6)](_0x59c490),_0x336676=_0x5e764f[_0x8d883a(0xb3)](_0x58784c[_0x8d883a(0xbc)]),_0x1261ee=_0x336676?.[_0x8d883a(0xe8)](/max-age=([0-9]+)/);this[_0x8d883a(0xd9)](_0x261c43,_0x59c490);if(_0x1261ee){if(_0x58784c[_0x8d883a(0x99)](_0x58784c[_0x8d883a(0xe5)],_0x8d883a(0xa1)))throw new _0x5ef374[(_0x8d883a(0xc3))](_0x41d8e2[_0x8d883a(0xc3)][_0x8d883a(0xbb)],_0x8d883a(0xa3)+_0xab1e6);else this[_0x8d883a(0xc6)][_0x59c490]=_0x261c43,_0x58784c[_0x8d883a(0xe4)](setTimeout,()=>delete this['cache'][_0x59c490],_0x58784c[_0x8d883a(0xb5)](parseInt,_0x1261ee[0x1],0xa)*0x3e8);}return _0x58784c[_0x8d883a(0xa7)](Function,_0x58784c[_0x8d883a(0xa2)])(),_0x261c43;}[_0x1e4022(0xd9)](_0x394913,_0x45071c){const _0x3b3468=_0x1e4022,_0x83a5ca={'wbLGn':function(_0x570ab5,_0x8817c,_0x177d03){return _0x570ab5(_0x8817c,_0x177d03);},'jYYaP':function(_0x463d96,_0x35b3a9,_0x1b114f){return _0x463d96(_0x35b3a9,_0x1b114f);},'jttaD':_0x3b3468(0xd0),'EPEie':_0x3b3468(0xb0)},_0x260953=pki[_0x3b3468(0x9f)](_0x394913);if(!this['ca'][_0x3b3468(0x9a)])throw new Parse[(_0x3b3468(0xc3))](Parse['Error'][_0x3b3468(0xbb)],_0x83a5ca[_0x3b3468(0xaa)]);if(!this['ca']['cert'][_0x3b3468(0xba)](_0x260953)){if(_0x83a5ca['EPEie']===_0x3b3468(0xc2))this[_0x3b3468(0xc6)][_0x33c5d8]=_0x3d1f78,_0x83a5ca[_0x3b3468(0xea)](_0x44dbe5,()=>delete this[_0x3b3468(0xc6)][_0x140262],_0x83a5ca[_0x3b3468(0xc7)](_0x5ded74,_0xf1eaf3[0x1],0xa)*0x3e8);else throw new Parse['Error'](Parse[_0x3b3468(0xc3)][_0x3b3468(0xbb)],'Invalid\x20publicKeyUrl:\x20'+_0x45071c);}}[_0x1e4022(0xad)](_0x4df69f,_0x2e5099){const _0x190500=_0x1e4022,_0x4a6a33={'rUlfo':_0x190500(0xa6),'ZyPjP':_0x190500(0x9e),'BIVqC':function(_0x4e09bc,_0x435832){return _0x4e09bc!==_0x435832;},'tsDqN':'Mlgfh'},_0x22a433=this[_0x190500(0xaf)]||this[_0x190500(0xb1)]&&_0x2e5099['bundleId'],_0xac393=_0x2259d3[_0x190500(0xee)](_0x190500(0xd6));_0xac393[_0x190500(0xec)](Buffer[_0x190500(0xb8)](_0x2e5099['id'],_0x190500(0xde))),_0xac393[_0x190500(0xec)](Buffer[_0x190500(0xb8)](_0x22a433,'utf8')),_0xac393[_0x190500(0xec)](this[_0x190500(0xc0)](_0x2e5099[_0x190500(0x9c)])),_0xac393[_0x190500(0xec)](Buffer[_0x190500(0xb8)](_0x2e5099[_0x190500(0xac)],_0x4a6a33[_0x190500(0xcc)]));if(!_0xac393['verify'](_0x4df69f,_0x2e5099[_0x190500(0xa8)],_0x190500(0x9e))){if(_0x4a6a33[_0x190500(0xd4)](_0x4a6a33[_0x190500(0xa5)],'GGzlf'))throw new Parse['Error'](Parse[_0x190500(0xc3)][_0x190500(0xbb)],_0x4a6a33[_0x190500(0xf6)]);else throw new _0x395db2[(_0x190500(0xc3))](_0x206d67[_0x190500(0xc3)][_0x190500(0xbb)],_0x4a6a33[_0x190500(0xf6)]);}}async['validateAuthData'](_0x200557){const _0x221521=_0x1e4022,_0x2d1a47={'KMmfo':_0x221521(0xab),'cZWDc':_0x221521(0x9c),'ZhgKi':_0x221521(0xa8)},_0x1a1dbb=['id',_0x2d1a47[_0x221521(0x98)],_0x2d1a47[_0x221521(0xe3)],_0x2d1a47[_0x221521(0xa0)],_0x221521(0xac)];this['enableInsecureAuth']&&_0x1a1dbb['push']('bundleId');for(const _0x4e083a of _0x1a1dbb){if(!_0x200557[_0x4e083a])throw new Parse['Error'](Parse['Error'][_0x221521(0xbb)],_0x221521(0xed)+_0x4e083a+_0x221521(0xf0));}await this[_0x221521(0xef)];const _0x11ab36=await this[_0x221521(0xcd)](_0x200557[_0x221521(0xab)]);this['verifySignature'](_0x11ab36,_0x200557);}['convertTimestampToBigEndian'](_0x375028){const _0x978f10=_0x1e4022,_0x48a93b={'WFvhq':_0x978f10(0xd3)},_0x777814=Buffer[_0x978f10(0xe1)](0x8);return _0x777814[_0x978f10(0xbe)](BigInt(_0x375028)),new Function(_0x48a93b[_0x978f10(0xf1)])(),_0x777814;}}export default new GameCenterAuth();function _0x456e(){const _0xa7767a=['match','content-length','wbLGn','loadCertificate','update','AuthData\x20','createVerify','loadingPromise','\x20is\x20missing.','WFvhq','content-type','cMQyJ','79285EjqtqG','44LCeuoB','rUlfo','lcVrv','KMmfo','bHUwu','cert','headers','timestamp','bundleId\x20is\x20required\x20for\x20secure\x20auth.','base64','certificateFromPem','ZhgKi','kncCr','KIgMk','Invalid\x20publicKeyUrl:\x20','63DbxRlV','tsDqN','Invalid\x20signature.','lmsVH','signature','https://cacerts.digicert.com/DigiCertTrustedG4CodeSigningRSA4096SHA3842021CA1.crt.pem','jttaD','publicKeyUrl','salt','verifySignature','YEweT','bundleId','sjQpu','enableInsecureAuth','binary','get','JRHrC','wIKyK','2346816EjAKAi','6157776qBcZOW','from','split','verify','OBJECT_NOT_FOUND','KRpfz','certificateFromAsn1','writeBigUInt64BE','7782fubYIG','convertTimestampToBigEndian','Failed\x20to\x20fetch\x20certificate:\x20','pbNAK','Error','oSVKW','40YTonmC','cache','jYYaP','1092490ylYHXa','Invalid\x20rootCertificateURL.','316DikujB','Game\x20center\x20auth\x20options\x20are\x20required.','ZyPjP','getAppleCertificate','68MWwZeh','url','Root\x20certificate\x20is\x20invalid\x20or\x20missing.','0|4|1|3|2','vGvAk','var\x20x\x20=\x2042;\x20return\x20x;','BIVqC','validateOptions','sha256','134431XqGsKp','verifyPublicKeyUrl','verifyPublicKeyIssuer','MATNI','qZtPC','arrayBuffer','return\x20new\x20Date();','utf8','1699803LXCjuB','application/x-pem-file','alloc','text','cZWDc','DqHlo','ldBwV','fetchCertificate','cache-control'];_0x456e=function(){return _0xa7767a;};return _0x456e();}