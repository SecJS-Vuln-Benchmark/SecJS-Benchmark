function _0x31e3(){const _0x127d52=['ikJyX','kYmCB','VeYfD','DyNKk','TAOaH','mcSFU','OtTGb','ihtXQ','validateAuthData\x20should\x20fail\x20connect\x20error','cannot\x20change\x20OTP\x20with\x20invalid\x20token','toBeRejectedWith','BMaLa','Model\x20should\x20be\x20a\x20Parse.User','kid','kItCy','EGIeV','ExWgr','vNQzF','logIn','(using\x20client\x20id\x20as\x20string)\x20\x20with\x20token','LJtUg','DprDN','return\x20new\x20Date();','kEBbj','https://not.google.com','joOjl','fetch','vfbOe','yqzBt','wfDcU','bTHhB','https://not.apple.com','Ypebh','jFVHA','header','UXENY','var\x20x\x20=\x2042;\x20return\x20x;','YybnW','Error','vJoIo','validateAuthData','NVEIx','FVlgI','uIUPH','ONxGE','should\x20support\x20sync/async\x20validateAppId','(using\x20client\x20id\x20as\x20array\x20with\x20multiple\x20items)\x20should\x20verify\x20id_token\x20(facebook.com)','extended','user1','https://accounts.google.com','vGpyU','(using\x20client\x20id\x20as\x20array)\x20should\x20verify\x20id_token\x20(apple.com)','(using\x20client\x20id\x20as\x20array)\x20should\x20throw\x20error\x20with\x20missing\x20id_token','MBdxi','wbZWt','xwVWF','elpVA','invalidID','12345','PykNj','id\x20token\x20not\x20issued\x20by\x20correct\x20OpenID\x20provider\x20-\x20expected:\x20https://appleid.apple.com\x20|\x20from:\x20https://not.apple.com','jKMja','dvaaZ','LdoFm','xVKcY','ZWeMw','_User','HHoHw','LhlZG','path','../lib/Adapters/Auth/google','(using\x20client\x20id\x20as\x20string)\x20should\x20throw\x20error\x20with\x20invalid\x20jwt\x20client_id','the_rsa_public_key','new','should\x20use\x20algorithm\x20from\x20key\x20header\x20to\x20verify\x20id_token\x20(apple.com)','auth\x20data\x20is\x20invalid\x20for\x20this\x20user.','ypTWg','zCwBN','tKBNC','calls','Dztlg','bZTBX','vCmjk','msARe','CRorB','12EvdFYb','JFKxk','custom','validateAuthData\x20should\x20fail\x20with\x20error\x20description','the_user_id','User\x20should\x20be\x20linked\x20to\x20myoauth','mMMZf','svapn','../lib/Controllers/SchemaController','YIfcw','applicationId','uOGwX','CRvRm','iCtBT','WSQUD','hnDPn','igVhD','INSERT\x20APPLE\x20TOKEN\x20HERE\x20WITH\x20INVALID\x20JWT\x20ISSUER','toBeNull','validateAuthData\x20should\x20handle\x20authentication','IVSWB','YFscQ','dxDQa','kFaUk','rVrlt','qQRMx','KdVRX','alg','createdAt','CwxOq','id\x20token\x20not\x20issued\x20by\x20correct\x20provider\x20-\x20expected:\x20accounts.google.com\x20or\x20https://accounts.google.com\x20|\x20from:\x20https://not.google.com','toBeUndefined','zDJMo','EcpHY','Ixszs','should\x20throw\x20error\x20with\x20missing\x20id_token','An\x20error\x20occurred','function','mfa','CDZmB','mRSzc','(using\x20client\x20id\x20as\x20string)\x20should\x20throw\x20error\x20with\x20with\x20invalid\x20jwt\x20issuer\x20(apple.com)','KYRcX','1413285PwPaer','Expiration\x20should\x20be\x20cleared','OkUru','toHaveBeenCalledTimes','swbyR','NcGCK','gFbJy','ZAkFN','8060080GBKQvO','should\x20throw\x20error\x20with\x20with\x20invalid\x20user\x20id\x20(apple.com)','gMlII','properly\x20loads\x20custom\x20adapter\x20module\x20object\x20(again)','assign','TikcO','../lib/request','GlKRb','code','getHeaderFromToken','Vgsgr','qpuDA','SORJw','qNqBk','IsLwm','FZQxQ','7bfa55ab-8fd7-4526-992e-6de3df16bf9c','my-token','safe','resolve','bpvYB','YTegZ','HYcNj','4bcb1a1a-11f8-4e12-a3f6-73f7e25e355a','e3f16404-18e9-4a87-a555-4710cfbdac67','OxOwU','validateAuthData\x20should\x20fail\x20without\x20access\x20token','authData','error','INSERT\x20CLIENT\x20ID\x20HERE','wFLjA','805576PrIWbu','shouldCancel','INSERT\x20APPLE\x20TOKEN\x20HERE','validateAuthData\x20should\x20fail\x20without\x20config','pfUnH','dGxGN','syncProvider','GInEN','eZBqt','callThrough','xdsHu','KdSmq','EFmhb','YhuGt','validateAppId','_unlinkFrom','Sszsv','keycloak\x20auth\x20adapter','Bearer\x20sometoken','dhvPu','AYmeY','gyAjY','riGZG','SYnVR','properly\x20loads\x20custom\x20adapter','(using\x20client\x20id\x20as\x20string)\x20should\x20throw\x20error\x20with\x20invalid\x20jwt\x20clientId','PhantAuth\x20auth\x20is\x20invalid\x20for\x20this\x20user.','QkSZv','oRQEh','MRHBv','JJPUE','qghTu','(using\x20client\x20id\x20as\x20array)\x20should\x20not\x20verify\x20invalid\x20id_token','sceqj','YNbRk','bNTms','uIddO','toEqual','EJvSR','../lib/Adapters/Auth/keycloak','YXVXQ','_registerAuthenticationProvider','wLWdY','nuJIU','qSjfP','CEqha','EDsVa','request','DzdZU','cQsSs','ywZau','cEjfp','sItfs','YrgFn','bXXcg','UciyG','KMPjA','cNlAA','KNmMe','zMHbb','cpbpL','RfMyS','PGKVG','validateAuthData\x20should\x20throw\x20for\x20invalid\x20auth','jAyZP','pCnOi','properly\x20loads\x20a\x20default\x20adapter\x20with\x20options','rqgzH','soCuD','pfrXc','JZBxv','validateAuthData\x20should\x20fail\x20with\x20invalid\x20roles','IPliC','MZaWT','asyncProvider','algorithms','wAoad','jJKmD','vcNIy','nBpqK','qPtKh','cSDtH','Jflly','custom\x20error\x20message','XZjun','keycloak','cBOiD','FOZRP','IUYbN','kqWiE','uWeri','future\x20logins\x20require\x20SMS\x20code','../lib/Adapters/Auth','hosting_error','this\x20auth\x20is\x20already\x20used','CugrM','not','bMrYN','future\x20logins\x20reject\x20incorrect\x20TOTP\x20token','future\x20logins\x20require\x20TOTP\x20token','User\x20should\x20not\x20be\x20linked\x20to\x20myoauth','logInWith','Expiration\x20should\x20have\x20a\x20value','foAji','rKaUr','AWLqc','appsecret_proof','BvMYD','username','authDataResponse','_Installation','jiSVP','Hkhmw','rAgoy','VRUHe','MHZiP','properly\x20loads\x20a\x20custom\x20adapter\x20with\x20options','badtoken','enabled','mGIQS','_auth_data_myoauth','abcd','http://localhost:8378/1/login','https://www.facebook.com','extend','rKcMk','PhQpN','QRkrM','xnSuH','HHmBb','unlink\x20and\x20link\x20with\x20custom\x20provider','EgMcK','can\x20change\x20OTP\x20with\x20valid\x20token','OuoAv','catch','Fepqv','the_token','phantauth','hOtIN','Could\x20not\x20connect\x20to\x20the\x20authentication\x20server','MIYyN','BQhjA','google\x20auth\x20adapter','otafo','nJcUD','synchronizedExpiration','data','aPOqa','GdjCm','eEsxS','HZYqy','console.log(\x22timer\x22);','lCEPv','kmrzA','unknown','Missing\x20access\x20token\x20and/or\x20User\x20id','Ixnho','OeXzm','VwJsT','yOssh','FAbqp','Invalid\x20authentication','c194d902-e697-46c9-a303-82c2d914473c','gFZUy','callFake','(using\x20client\x20id\x20as\x20array)\x20should\x20throw\x20error\x20with\x20with\x20invalid\x20jwt\x20issuer','HOksW','ttnyZ','dYlRL','TOTP','vzPvG','valid-token','split','WAiFG','BjpVO','signUp','access_token','PqUfg','wMwiq','TdKAp','sort','can\x20disable\x20provider','FcHOB','pbPZf','cRvIE','oVdvC','validateAuthData\x20should\x20fail\x20with\x20invalid\x20groups','should\x20not\x20verify\x20invalid\x20id_token','Invalid\x20MFA\x20token','SCEgt','JgzUW','ImgCp','zEbln','WjoDl','rxOOV','imtmA','reset','length','save','tldWg','Ivyid','loadAuthAdapter','QlJSG','(using\x20client\x20id\x20as\x20string)\x20should\x20verify\x20id_token\x20(google.com)','bLGTO','toBeDefined','should\x20only\x20create\x20a\x20single\x20user\x20with\x20REST\x20API','KhaZO','ZOXXv','then','can\x20enroll','faVTf','kKjVv','updateClock();','OhZAQ','OPCPz','SZVQe','(using\x20client\x20id\x20as\x20string)\x20should\x20throw\x20error\x20with\x20missing\x20id_token','customAuthentication','DgvCU','Unable\x20to\x20find\x20matching\x20key\x20for\x20Key\x20ID:\x20','(using\x20client\x20id\x20as\x20string)\x20should\x20throw\x20error\x20with\x20with\x20invalid\x20jwt\x20issuer\x20(facebook.com)','FSONi','args','ajWHW','../lib/Adapters/Auth/httpsRequest','return\x20Object.keys({a:1});','NWJdq','GfUse','rqwnb','otpauth','Missing\x20keycloak\x20configuration','flwMF','Auth\x20token\x20should\x20have\x20a\x20value','PSDPu','MBnBv','xpFPU','789','xweBC','IWJBJ','ZLQFE','group1','expiration_date','synchronizedUserId','OTHER_CAUSE','_isLinked','wgKJp','2172989VIDxPn','synchronizedAuthToken','defaultColumns','yOxTP','message','database','a_different_user_id','WyfDe','vBOUY','_logInWith','uWHfD','XjqxN','AkhYE','qlQfD','INSERT\x20ID\x20HERE','+11111111111','fakeAuthProvider','Auth\x20token\x20should\x20be\x20cleared','and','qOrjk','UbQYb','should\x20not\x20decode\x20invalid\x20id_token','should\x20throw\x20error\x20when\x20Facebook\x20request\x20appId\x20is\x20wrong\x20data\x20type','GneQp','get','phant\x20auth\x20adapter','iZcoa','vpkIo','SBavN','rebCA','https://appleid.apple.com','log','User','zSyNz','loggedOut','ZeaFg','eunOn','mNloF','ksQwk','uYlGM','Should\x20have\x20used\x20the\x20subclass.','RWuqK','kHnEh','lasVH','AlMnM','generate','ozazV','./spec/support/CustomAuth.js','recovery','http://example.com','lqzFl','wpVEu','nEkaw','yolo','lweAd','LVcbF','BIoTS','goNGu','getValidatorForProvider','gAaCO','ssnlJ','role1','jwt\x20malformed','YUoag','Missing\x20additional\x20authData\x20mfa','(using\x20client\x20id\x20as\x20string)\x20should\x20throw\x20error\x20with\x20with\x20invalid\x20jwt\x20issuer\x20with\x20token\x20(apple.com)','uVeKu','iIoUD','iPipu','16VAAWXQ','ZfnrQ','User\x20id\x20should\x20have\x20a\x20value','mJKvc','stringify','SHA1','QqNzQ','QaVSv','vKHOI','EDOQJ','JiYLR','yXMMR','SVhVh','RiNfq','JYzxR','OFVuO','getSigningKey','KnpTR','password','../lib/Adapters/Auth/apple','base32','utdMp','OTP\x20TOTP\x20auth\x20adatper','huomW','rest','REpGs','rdtle','updatedAt','PkvZq','current','vLoMl','NgccF','fakeid','BYinl','ygkyp','tZcXq','sometoken','GsWcp','POST','lDaep','return\x20await\x20Promise.resolve(42);','123','should\x20handle\x20Facebook\x20appSecret\x20for\x20validating\x20appIds','kZvuQ','secret','can\x20login\x20with\x20valid\x20token','UvBpv','WVUkz','validateAuthData\x20should\x20fail\x20with\x20invalid\x20auth','Gcuvc','iNMMn','(using\x20client\x20id\x20as\x20array)\x20should\x20verify\x20id_token\x20(facebook.com)','2749284FJWUtJ','AuthenticationProviders','(using\x20client\x20id\x20as\x20array)\x20should\x20throw\x20error\x20with\x20invalid\x20jwt\x20clientId','should\x20throw\x20error\x20if\x20public\x20key\x20used\x20to\x20encode\x20token\x20is\x20not\x20available','Mgyhk','BFNya','success','isNumeric','https://not.facebook.com','NLljr','ewluK','wXRKg','jKlPH','FLvtX','kDXIw','JvgSz','bAkDv','toJSON','keys','NBdsu','PRonJ','nmjqs','verify','id\x20token\x20not\x20issued\x20by\x20correct\x20OpenID\x20provider\x20-\x20expected:\x20https://www.facebook.com\x20|\x20from:\x20https://not.facebook.com','cCVAL','../lib/Adapters/Auth/utils','rtuJF','id\x20token\x20is\x20invalid\x20for\x20this\x20user.','YXhQp','585450ZHmTAr','XsOLr','GWRjW','VLRZq','now','Lmilj','InZaP','kbzdR','ZyURn','BfKbc','should\x20fail\x20to\x20link\x20if\x20session\x20token\x20don\x27t\x20match\x20user','wNaqT','GpKCG','Gnhmw','jsonwebtoken','549c33a1-3a6b-4732-8cf6-8f010ad4569c','_linkWith','first','vuqbQ','invalid\x20user','jbBXu','fakeToken2','token','Secret','RWgVF','should\x20create\x20user\x20with\x20REST\x20API','JVGLY','facebook','secret\x20123','ACL','TOrRi','should\x20throw\x20error\x20with\x20invalid\x20user\x20id','HgPiS','pending','LRzib','QCrfg','Oqddq','reject','QRyLu','fEXGY','logOut','provided\x20token\x20does\x20not\x20decode\x20as\x20JWT','uzVGC','jfsXw','kiuGm','fuSZW','GLbqT','getSessionToken','jAEYj','objectId','SwYGa','toHaveBeenCalled','IpGpp','INSERT\x20FACEBOOK\x20TOKEN\x20HERE','OPLuY','IJYPF','RS256','BkfGi','NETdl','brcaV','tmlsz','jwt\x20audience\x20invalid.\x20expected:\x20secret','LZKiX','uUphk','MMyWh','Query','aVvHI','myUser2','FaDrR','GVlQL','UjSqb','pXDzR','toHaveBeenCalledWith','SuTqC','iATqB','MmEER','includes','gdhRr','vKyMk','MYOzW','equalTo','UpczC','restoreAuthentication','should\x20handle\x20Facebook\x20appSecret\x20for\x20validating\x20auth\x20data','Facebook\x20auth\x20is\x20not\x20configured.','NThXW','goevH','myoauth','iWIir','find','wVHWV','FPRzB','TQGVE','sessionToken','nzGEW','CspQS','secret_sauce','RAaZS','lquEq','OTP\x20SMS\x20auth\x20adatper','resolveTo','should\x20throw\x20error\x20with\x20with\x20invalid\x20user\x20id\x20(facebook.com)','18DwFgWd','invalid_client_id','adapter','NZAFT','exWuA','(using\x20client\x20id\x20as\x20string)\x20should\x20throw\x20error\x20with\x20with\x20invalid\x20jwt\x20issuer\x20(google.com)','xkXfP','JAhCc','yCdRf','pGfIe','qOvCz','MurLI','(using\x20client\x20id\x20as\x20string)\x20should\x20verify\x20id_token\x20(apple.com)','vhKRa','ImhJD','toBe','sendSMS','./spec/support/CustomAuthFunction.js','OBJECT_NOT_FOUND','pWnci','BsjIq','application/json','LyMdy','nrvlU','AERad','MFkvJ','facebook\x20limited\x20auth\x20adapter','kQZZr','1589050rUBKhL','wXdLQ'];_0x31e3=function(){return _0x127d52;};return _0x31e3();}function _0x4baf(_0x502e98,_0x134735){const _0x31e3a8=_0x31e3();return _0x4baf=function(_0x4baff1,_0x1b1133){_0x4baff1=_0x4baff1-0x15a;let _0x2d0180=_0x31e3a8[_0x4baff1];return _0x2d0180;},_0x4baf(_0x502e98,_0x134735);}const _0x1c0f08=_0x4baf;(function(_0x5d6269,_0x161cd6){const _0x587bfd=_0x4baf,_0x17131c=_0x5d6269();while(!![]){try{const _0x588953=parseInt(_0x587bfd(0x305))/0x1+parseInt(_0x587bfd(0x201))/0x2+parseInt(_0x587bfd(0x2da))/0x3*(parseInt(_0x587bfd(0x32c))/0x4)+-parseInt(_0x587bfd(0x283))/0x5+-parseInt(_0x587bfd(0x1e4))/0x6+parseInt(_0x587bfd(0x16b))/0x7*(parseInt(_0x587bfd(0x1b0))/0x8)+-parseInt(_0x587bfd(0x267))/0x9*(parseInt(_0x587bfd(0x30d))/0xa);if(_0x588953===_0x161cd6)break;else _0x17131c['push'](_0x17131c['shift']());}catch(_0x370cfb){_0x17131c['push'](_0x17131c['shift']());}}}(_0x31e3,0xb5bd0));const request=require(_0x1c0f08(0x313)),Config=require('../lib/Config'),defaultColumns=require(_0x1c0f08(0x2e2))[_0x1c0f08(0x16d)],authenticationLoader=require(_0x1c0f08(0x388)),path=require(_0x1c0f08(0x2ca));describe(_0x1c0f08(0x1e5),function(){const _0xdde917=_0x1c0f08,_0xbdd39e={'EGIeV':function(_0x1816f0,_0x5a077a){return _0x1816f0+_0x5a077a;},'mcSFU':function(_0x5d19ee,_0x250cff,_0x4af4ea){return _0x5d19ee(_0x250cff,_0x4af4ea);},'dYlRL':'updateClock();','dhvPu':_0xdde917(0x258),'EDsVa':function(_0x5e0da7,_0x13cdff){return _0x5e0da7===_0x13cdff;},'vBOUY':_0xdde917(0x1d8),'HHmBb':'12345','XsOLr':function(_0x258940,_0x36d3e2){return _0x258940(_0x36d3e2);},'bTHhB':_0xdde917(0x3e2),'OvdES':_0xdde917(0x3c3),'iWIir':function(_0x1a7af9,_0x3f321b,_0x1b5c64){return _0x1a7af9(_0x3f321b,_0x1b5c64);},'swbyR':_0xdde917(0x1b6),'zWGvF':'POST','jbBXu':'rest','KSBip':_0xdde917(0x1a0),'kYmCB':_0xdde917(0x27c),'UUqTg':'http://localhost:8378/1/users','Fepqv':_0xdde917(0x25e),'NBdsu':function(_0x47683a,_0x186abd){return _0x47683a(_0x186abd);},'rxOOV':function(_0x10a852,_0xb8b3a4){return _0x10a852(_0xb8b3a4);},'LJtUg':_0xdde917(0x272),'MMyWh':function(_0x4f1b43){return _0x4f1b43();},'pecjP':function(_0x15c60d,_0x59ebec){return _0x15c60d+_0x59ebec;},'qOvCz':_0xdde917(0x38a),'LZKiX':function(_0x111dc8,_0x36d57c){return _0x111dc8(_0x36d57c);},'LblrK':_0xdde917(0x280),'gMlII':_0xdde917(0x1c2),'xnSuH':function(_0x423a3f,_0x537f30){return _0x423a3f(_0x537f30);},'yOssh':_0xdde917(0x22a),'TOrRi':_0xdde917(0x301),'Ivyid':'myUser','KdVRX':_0xdde917(0x2b5),'JvgSz':'fakeToken','BIoTS':function(_0x5b057c,_0x58895d){return _0x5b057c(_0x58895d);},'tDFvD':_0xdde917(0x17b),'cSDtH':function(_0xe36b5e,_0x488843){return _0xe36b5e(_0x488843);},'gAaCO':'test','iASMI':'validateAppId','wNaqT':_0xdde917(0x332),'vCmjk':function(_0xd41883,_0x17cbe6){return _0xd41883(_0x17cbe6);},'JYzxR':function(_0x145dd5,_0x3b7d09){return _0x145dd5 instanceof _0x3b7d09;},'kZvuQ':_0xdde917(0x193),'iIoUD':function(_0x192e81,_0x2dabad,_0x2c3b27){return _0x192e81(_0x2dabad,_0x2c3b27);},'zvpEx':function(_0x339ad4,_0x58b962,_0x512f62){return _0x339ad4(_0x58b962,_0x512f62);},'pakJL':_0xdde917(0x390),'rKaUr':function(_0x5c48dd,_0x548de0,_0x30b9d8){return _0x5c48dd(_0x548de0,_0x30b9d8);},'iPipu':_0xdde917(0x306),'WdYwt':function(_0x71fec9,_0x2b96ec,_0x40a36c){return _0x71fec9(_0x2b96ec,_0x40a36c);},'iZcoa':function(_0x232632,_0x50ea8e,_0x3545f0){return _0x232632(_0x50ea8e,_0x3545f0);},'ikJyX':_0xdde917(0x392),'nSwFG':_0xdde917(0x2df),'VeYfD':function(_0x1a146c,_0x1fd6f){return _0x1a146c(_0x1fd6f);},'JgzUW':_0xdde917(0x346),'cCVAL':_0xdde917(0x2ff),'iPMwj':function(_0x2dc1bd,_0x5b5ecf){return _0x2dc1bd(_0x5b5ecf);},'Rurlg':function(_0x34f420,_0x40bd2f){return _0x34f420(_0x40bd2f);},'oRQEh':_0xdde917(0x2f8),'Oqddq':_0xdde917(0x282),'zMHbb':_0xdde917(0x356),'xhCWX':'hello','YNbRk':_0xdde917(0x2ad),'SBavN':function(_0x584bcc,_0x534697,_0x5cf71d){return _0x584bcc(_0x534697,_0x5cf71d);},'wbZWt':function(_0x5237dd,_0x42ae07){return _0x5237dd(_0x42ae07);},'goNGu':function(_0x2b3f59,_0x4113d3){return _0x2b3f59(_0x4113d3);},'qghTu':function(_0x3e20a4,_0x555cfb,_0x77089,_0x4e89b5){return _0x3e20a4(_0x555cfb,_0x77089,_0x4e89b5);},'YXVXQ':'safe','gFZUy':_0xdde917(0x3bf),'ZeaFg':_0xdde917(0x379),'ajWHW':function(_0x32433c,_0x2eb766){return _0x32433c(_0x2eb766);},'beEyY':_0xdde917(0x19a),'oYEOw':_0xdde917(0x31e),'ONxGE':function(_0x4777dc){return _0x4777dc();},'svapn':_0xdde917(0x278),'vZpJx':function(_0x538b19,_0x4c1ffd){return _0x538b19(_0x4c1ffd);},'EIGjJ':_0xdde917(0x1dc),'OPLuY':_0xdde917(0x29b),'vcNIy':function(_0x21a769,_0x3781e1){return _0x21a769(_0x3781e1);},'rdtle':'../lib/Adapters/Auth/httpsRequest','HJsgU':_0xdde917(0x21c),'qPtKh':function(_0x411f50,_0x43ed96){return _0x411f50(_0x43ed96);},'GWRjW':_0xdde917(0x396),'wFLjA':function(_0x1fe474,_0x63211b){return _0x1fe474+_0x63211b;},'tldWg':_0xdde917(0x3a1),'faVTf':function(_0x38dba8,_0xd5a415){return _0x38dba8(_0xd5a415);},'vhKRa':function(_0xbeb263,_0x208a0a,_0x4cb1f4){return _0xbeb263(_0x208a0a,_0x4cb1f4);},'GvqRZ':function(_0x284c12,_0x3562f1,_0x16b6d1){return _0x284c12(_0x3562f1,_0x16b6d1);},'DgvCU':'get','nJcUD':function(_0x409160,_0x39cb22){return _0x409160(_0x39cb22);},'ItgQd':_0xdde917(0x1a1),'ewluK':_0xdde917(0x2dc),'iCtBT':function(_0x45ed62,_0x588d0d){return _0x45ed62(_0x588d0d);},'uOGwX':function(_0x1c5c9b,_0x531656){return _0x1c5c9b(_0x531656);},'jKMja':'id\x20token\x20is\x20invalid\x20for\x20this\x20user.','FKCRP':function(_0x195caa,_0x32d55c,_0x5326a4){return _0x195caa(_0x32d55c,_0x5326a4);},'xweBC':_0xdde917(0x20b),'hbIin':'should\x20support\x20loginWith\x20with\x20session\x20token\x20and\x20with/without\x20mutated\x20authData','pWnci':_0xdde917(0x2b2),'wpVEu':_0xdde917(0x344),'HOksW':function(_0x3d92f8,_0x88c821,_0x570482){return _0x3d92f8(_0x88c821,_0x570482);},'rWXtL':_0xdde917(0x310),'MBdxi':_0xdde917(0x36e),'xLiFZ':function(_0x46d757,_0x4c347e,_0x17f72c){return _0x46d757(_0x4c347e,_0x17f72c);},'IVSWB':function(_0x3bb1ac,_0x4da0fd,_0x5db005){return _0x3bb1ac(_0x4da0fd,_0x5db005);},'XeXTA':_0xdde917(0x3a0)},_0x4dcb97=function(){const _0x2c136c=_0xdde917,_0x39649f={'ueSfb':_0x2c136c(0x23e),'ZWeMw':function(_0x5362f2,_0x110c8c){const _0x274c53=_0x2c136c;return _0xbdd39e[_0x274c53(0x35a)](_0x5362f2,_0x110c8c);},'flwMF':_0x2c136c(0x3c4),'RIncT':_0xbdd39e[_0x2c136c(0x173)]};return eval('const _0x2111c0 = _0x2c136c;_0xbdd39e[_0x2111c0(660)](1, 1);'),{'authData':{'id':_0xbdd39e[_0x2c136c(0x3ad)],'access_token':_0x2c136c(0x2bf),'expiration_date':new Date()[_0x2c136c(0x1f5)]()},'shouldError':![],'loggedOut':![],'synchronizedUserId':null,'synchronizedAuthToken':null,'synchronizedExpiration':null,'authenticate':function(_0x14c5e8){const _0x395d33=_0x2c136c;if(this['shouldError'])_0x14c5e8[_0x395d33(0x329)](this,_0x395d33(0x2fe));else this[_0x395d33(0x32d)]?_0x14c5e8[_0x395d33(0x329)](this,null):_0x14c5e8[_0x395d33(0x1ea)](this,this[_0x395d33(0x328)]);},'restoreAuthentication':function(_0x4b6279){const _0x1f083a=_0x2c136c,_0x351bc7={'Kqzjl':_0x39649f['ueSfb']};if(_0x39649f[_0x1f083a(0x2c6)](_0x39649f[_0x1f083a(0x15c)],_0x1f083a(0x2d5)))_0x341810(_0x5e7b16[_0x1f083a(0x16f)])[_0x1f083a(0x276)](_0x351bc7['Kqzjl']);else{const _0x2b83cd='1|3|5|0|2|4'[_0x1f083a(0x3d8)]('|');let _0x284232=0x0;while(!![]){switch(_0x2b83cd[_0x284232++]){case'0':this[_0x1f083a(0x3bd)]=_0x4b6279['expiration_date'];continue;case'1':if(!_0x4b6279)return this[_0x1f083a(0x167)]=null,this[_0x1f083a(0x16c)]=null,this['synchronizedExpiration']=null,new AsyncFunction(_0x39649f['RIncT'])(),!![];continue;case'2':eval('JSON[\'stringify\']({ \'safe\': !![] });');continue;case'3':this[_0x1f083a(0x167)]=_0x4b6279['id'];continue;case'4':return!![];case'5':this[_0x1f083a(0x16c)]=_0x4b6279[_0x1f083a(0x3dc)];continue;}break;}}},'getAuthType':function(){const _0x263387=_0x2c136c;return _0xbdd39e[_0x263387(0x28a)](setInterval,_0xbdd39e[_0x263387(0x3d4)],0x3e8),_0xbdd39e[_0x263387(0x33f)];},'deauthenticate':function(){const _0x1dbcbf=_0x2c136c;this[_0x1dbcbf(0x18d)]=!![],this[_0x1dbcbf(0x253)](null);}};};Parse[_0xdde917(0x18b)][_0xdde917(0x3a8)]({'extended':function(){const _0x30ac63={'CRorB':function(_0x15840e,_0x3355cf){return _0x15840e+_0x3355cf;}};return eval('const _0x30d157 = _0x4baf;_0x30ac63[_0x30d157(729)](1, 1);'),!![];}});const _0x5e9fc7=function(_0x385d34){const _0x1d37cd=_0xdde917;if(_0x1d37cd(0x3e2)!==_0xbdd39e[_0x1d37cd(0x2a3)]){const _0x1388ce={'custom':{'validateAppId':()=>{},'validateAuthData':()=>{},'appIds':['a','b']}},{adapter:_0xea9450,appIds:_0x31c63a,providerOptions:_0x1a5d14}=_0x4bb68f[_0x1d37cd(0x3f5)](_0x1d37cd(0x2dc),_0x1388ce);_0x40d49f(_0xea9450),_0x4ed711(_0x31c63a)[_0x1d37cd(0x351)](['a','b']),_0xbdd39e['XsOLr'](_0x7ab5f8,_0x1a5d14)[_0x1d37cd(0x351)](_0x1388ce[_0x1d37cd(0x2dc)]);}else return setTimeout(_0xbdd39e['OvdES'],0x3e8),_0xbdd39e[_0x1d37cd(0x259)](_0x2cd52c,undefined,_0x385d34);},_0x2cd52c=function(_0x5b9675,_0x2f3c66){const _0x15bd95=_0xdde917,_0x285930={'MYOzW':function(_0x745c0e,_0x28a8f0){return _0x745c0e+_0x28a8f0;},'BmfIN':_0xbdd39e[_0x15bd95(0x309)]},_0x3170a7={'authData':{'myoauth':_0x4dcb97()[_0x15bd95(0x328)]}},_0x1f3e1a={'method':_0xbdd39e['zWGvF'],'headers':{'X-Parse-Application-Id':'test','X-Parse-REST-API-Key':_0xbdd39e[_0x15bd95(0x215)],'X-Parse-Installation-Id':_0xbdd39e['KSBip'],'X-Parse-Session-Token':_0x5b9675,'Content-Type':_0xbdd39e[_0x15bd95(0x286)]},'url':_0xbdd39e['UUqTg'],'body':_0x3170a7};return eval('const _0x3316e2 = _0x15bd95;JSON[_0x3316e2(436)]({ \'safe\': !![] });'),request(_0x1f3e1a)[_0x15bd95(0x3fd)](_0x4d7f02=>{const _0x22aa30=_0x15bd95,_0x10f549={'Gcuvc':function(_0x38ecf9,_0x2d9c8e){return _0x38ecf9*_0x2d9c8e;}};return _0x2f3c66&&_0x2f3c66(null,_0x4d7f02,_0x4d7f02[_0x22aa30(0x3be)]),eval('const _0x4f491a = _0x22aa30;_0x10f549[_0x4f491a(481)](Math[\'PI\'], 2);'),{'res':_0x4d7f02,'body':_0x4d7f02[_0x22aa30(0x3be)]};})[_0x15bd95(0x3b2)](_0x49ba6=>{const _0x1fe9ba=_0x15bd95,_0x4a6db6={'NETdl':function(_0x35be47,_0x11287d){const _0x26deac=_0x4baf;return _0x285930[_0x26deac(0x250)](_0x35be47,_0x11287d);}};if(_0x285930['BmfIN']===_0x1fe9ba(0x1b6)){_0x2f3c66&&_0x2f3c66(_0x49ba6);throw _0x49ba6;}else{const _0x20dd67={'rqgzH':function(_0x475f15,_0x16cdce){const _0x3a4c17=_0x1fe9ba;return _0x4a6db6[_0x3a4c17(0x23b)](_0x475f15,_0x16cdce);}};return eval('const _0x1afc96 = _0x1fe9ba;_0x20dd67[_0x1afc96(879)](1, 1);'),_0x15159d[_0x1fe9ba(0x320)]({'id':'a'});}});};_0xbdd39e['FKCRP'](it,_0xdde917(0x21a),_0xf3ab63=>{const _0xca22d=_0xdde917,_0x860327={'IUYbN':function(_0x23591e,_0x4cae47){return _0xbdd39e['NBdsu'](_0x23591e,_0x4cae47);},'qQRMx':'should\x20not\x20fail\x20fetching\x20the\x20session','ypTWg':function(_0x54014f){return _0x54014f();},'qlQfD':function(_0x25c62a,_0x562489){const _0x247af3=_0x4baf;return _0xbdd39e[_0x247af3(0x3ee)](_0x25c62a,_0x562489);},'rAPoV':function(_0x322741,_0x5755f3){return _0x322741!==_0x5755f3;},'BMzpu':_0xca22d(0x18f),'WSQUD':_0xbdd39e[_0xca22d(0x299)],'vuqbQ':function(_0x5a99b5,_0x57c9f4){return _0xbdd39e['NBdsu'](_0x5a99b5,_0x57c9f4);},'gFbJy':function(_0x56cbfb){return _0x56cbfb();}};_0xbdd39e[_0xca22d(0x1f7)](_0x5e9fc7,(_0x4f74f6,_0xbee0f5,_0x319708)=>{const _0x4cbc99=_0xca22d,_0x1ededb={'fEXGY':function(_0x174922,_0x1fd610,_0xe5a201){return _0x174922(_0x1fd610,_0xe5a201);}};if(_0xbdd39e['EDsVa'](_0x4cbc99(0x30c),_0x4cbc99(0x16e)))_0x220979[_0x4cbc99(0x1b4)]({'safe':!![]});else{expect(_0x4f74f6)['toBe'](null);const _0x1b1a2e=_0x319708;_0xbdd39e[_0x4cbc99(0x202)](ok,_0x1b1a2e[_0x4cbc99(0x25e)]),_0xbdd39e[_0x4cbc99(0x202)](expect,_0x1b1a2e[_0x4cbc99(0x232)])[_0x4cbc99(0x38c)][_0x4cbc99(0x2ec)](),expect(_0x1b1a2e['objectId'])['not'][_0x4cbc99(0x2f9)]();const _0x3ddc86=_0x1b1a2e['sessionToken'],_0x18f63c=new Parse[(_0x4cbc99(0x242))]('_Session');_0x18f63c[_0x4cbc99(0x251)](_0xbdd39e[_0x4cbc99(0x3b3)],_0x3ddc86),_0x18f63c[_0x4cbc99(0x212)]({'useMasterKey':!![]})[_0x4cbc99(0x3fd)](_0x117dc3=>{const _0x2da5e8=_0x4cbc99;if(!_0x117dc3){_0x860327[_0x2da5e8(0x384)](fail,_0x860327['qQRMx']),_0x860327[_0x2da5e8(0x2d1)](_0xf3ab63),Function('return\x20Object.keys({a:1});')();return;}_0x860327[_0x2da5e8(0x178)](expect,_0x117dc3[_0x2da5e8(0x183)]('installationId'))[_0x2da5e8(0x351)](_0x2da5e8(0x1a0)),_0xf3ab63();})[_0x4cbc99(0x3b2)](()=>{const _0xd0f22b=_0x4cbc99;if(_0x860327['rAPoV'](_0x860327['BMzpu'],_0x860327[_0xd0f22b(0x2e8)]))_0x860327[_0xd0f22b(0x213)](fail,_0x860327[_0xd0f22b(0x2f3)]),_0x860327[_0xd0f22b(0x30b)](_0xf3ab63);else return _0x1ededb[_0xd0f22b(0x228)](_0x369349,_0xd0f22b(0x401),0x3e8),_0xd0f22b(0x258);});}});}),it(_0xdde917(0x3fa),_0x138d7f=>{const _0x2c97ce=_0xdde917,_0x2f5dd3={'riGZG':function(_0xc0255,_0x3a9897){return _0xc0255(_0x3a9897);},'nzGEW':function(_0x35d2f8,_0x5865e6){return _0xbdd39e['NBdsu'](_0x35d2f8,_0x5865e6);},'cNlAA':function(_0x1de96e){const _0x24a2ba=_0x4baf;return _0xbdd39e[_0x24a2ba(0x241)](_0x1de96e);},'jUtgk':_0x2c97ce(0x3c3)};let _0x305ec0;_0x5e9fc7((_0x1dd0f8,_0x103d52,_0xf337a0)=>{const _0x512ed9=_0x2c97ce;if(_0x512ed9(0x238)==='IJYPF'){_0x2f5dd3[_0x512ed9(0x25f)](expect,_0x1dd0f8)[_0x512ed9(0x276)](null);const _0x5979c7=_0xf337a0;expect(_0x5979c7['objectId'])[_0x512ed9(0x38c)][_0x512ed9(0x2ec)](),_0x2f5dd3[_0x512ed9(0x342)](expect,_0x5979c7[_0x512ed9(0x232)])[_0x512ed9(0x38c)][_0x512ed9(0x2f9)](),_0x305ec0=_0x5979c7[_0x512ed9(0x232)],_0x5e9fc7((_0x231303,_0x7c3311,_0x4d8970)=>{const _0x935cd0=_0x512ed9;_0x2f5dd3['riGZG'](expect,_0x231303)[_0x935cd0(0x276)](null);const _0x2c454d=_0x4d8970;_0x2f5dd3[_0x935cd0(0x25f)](expect,_0x2c454d[_0x935cd0(0x232)])[_0x935cd0(0x38c)][_0x935cd0(0x2ec)](),_0x2f5dd3[_0x935cd0(0x25f)](expect,_0x2c454d['objectId'])[_0x935cd0(0x38c)]['toBeUndefined'](),_0x2f5dd3[_0x935cd0(0x342)](expect,_0x2c454d[_0x935cd0(0x232)])[_0x935cd0(0x276)](_0x305ec0),_0x2f5dd3[_0x935cd0(0x365)](_0x138d7f);});}else return _0x55b1fe(_0x2f5dd3['jUtgk'],0x3e8),_0x86b04e(_0x478397,_0x216b45);});}),it(_0xbdd39e[_0xdde917(0x162)],_0x50afc5=>{const _0x12063b=_0xdde917,_0xf19e5={'GlKRb':function(_0x5965ad,_0x4e5357){return _0xbdd39e['LZKiX'](_0x5965ad,_0x4e5357);},'IuTXG':function(_0x285c1a,_0xe838da){const _0x1fe0b2=_0x4baf;return _0xbdd39e[_0x1fe0b2(0x35a)](_0x285c1a,_0xe838da);},'oGtJl':_0xbdd39e['LblrK'],'jAEYj':_0xbdd39e[_0x12063b(0x3d4)],'oVdvC':_0xbdd39e[_0x12063b(0x30f)],'bZTBX':function(_0x1a5ac1,_0x1a4a81){const _0x367a50=_0x12063b;return _0xbdd39e[_0x367a50(0x3ac)](_0x1a5ac1,_0x1a4a81);},'uzVGC':_0xbdd39e[_0x12063b(0x3cb)]};_0x12063b(0x301)===_0xbdd39e[_0x12063b(0x21f)]?Parse['User']['signUp'](_0xbdd39e[_0x12063b(0x3f4)],_0xbdd39e[_0x12063b(0x30f)])[_0x12063b(0x3fd)](_0x547c10=>{const _0x34c4eb=_0x12063b,_0x2e056d={'bXXcg':function(_0xb6caf6,_0xe21778){return _0xb6caf6(_0xe21778);},'XZjun':function(_0x435501,_0x5b83fc){const _0xeb3171=_0x4baf;return _0xf19e5[_0xeb3171(0x314)](_0x435501,_0x5b83fc);},'OeXzm':function(_0x2eb293,_0x4ed26d){return _0x2eb293(_0x4ed26d);},'OfvqV':function(_0x2bd725,_0x4e1896){return _0x2bd725(_0x4e1896);},'iNMMn':function(_0x1bbde7,_0x34d080){return _0x1bbde7(_0x34d080);},'rAgoy':function(_0x2a21aa,_0xd70fb4){return _0x2a21aa(_0xd70fb4);}};if(_0xf19e5['IuTXG'](_0xf19e5['oGtJl'],'IjCeF')){_0x276153(_0x131fd4)[_0x34c4eb(0x276)](null);const _0x347009=_0x2a09ac;_0x2e056d[_0x34c4eb(0x1e2)](_0x5042ce,_0x347009['objectId'])[_0x34c4eb(0x38c)]['toBeNull'](),_0x273f8f(_0x347009[_0x34c4eb(0x232)])[_0x34c4eb(0x38c)]['toBeUndefined'](),_0x28a2c1=_0x347009['objectId'],_0x2e056d[_0x34c4eb(0x39d)](_0x198c67,(_0xe89685,_0x4ad0eb,_0x1847cd)=>{const _0x526787=_0x34c4eb;_0x2e056d[_0x526787(0x362)](_0x4ccc95,_0xe89685)[_0x526787(0x276)](null);const _0x6769f8=_0x1847cd;_0x2e056d[_0x526787(0x380)](_0x1c8036,_0x6769f8[_0x526787(0x232)])[_0x526787(0x38c)][_0x526787(0x2ec)](),_0x2e056d[_0x526787(0x3c9)](_0x3612d5,_0x6769f8[_0x526787(0x232)])['not']['toBeUndefined'](),_0x2e056d['OfvqV'](_0x1d5b36,_0x6769f8[_0x526787(0x232)])[_0x526787(0x276)](_0x5d6628),_0x308164();});}else return setInterval(_0xf19e5[_0x34c4eb(0x231)],0x3e8),_0xf19e5['GlKRb'](_0x2cd52c,_0x547c10['getSessionToken']());})[_0x12063b(0x3fd)](()=>{const _0xb262b6=_0x12063b;return new AsyncFunction(_0xbdd39e[_0xb262b6(0x173)])(),Parse['User'][_0xb262b6(0x229)]();})[_0x12063b(0x3fd)](()=>{const _0x4490f0=_0x12063b;return eval('Math[\'PI\'] * 2;'),Parse[_0x4490f0(0x18b)]['signUp'](_0x4490f0(0x244),_0xf19e5[_0x4490f0(0x3e5)]);})[_0x12063b(0x3fd)](_0x664cf7=>{const _0x4320b2={'BsjIq':function(_0x2fce7d,_0x25b124){return _0xbdd39e['pecjP'](_0x2fce7d,_0x25b124);}};return eval('const _0x5dfa7a = _0x4baf;_0x4320b2[_0x5dfa7a(635)](1, 1);'),_0x2cd52c(_0x664cf7['getSessionToken']());})[_0x12063b(0x3fd)](fail,({data:_0x14e3e1})=>{const _0xb47bf=_0x12063b;_0xbdd39e[_0xb47bf(0x1f7)](expect,_0x14e3e1[_0xb47bf(0x315)])['toBe'](0xd0),expect(_0x14e3e1['error'])[_0xb47bf(0x276)](_0xbdd39e[_0xb47bf(0x271)]),_0xbdd39e['MMyWh'](_0x50afc5);})['catch'](_0x50afc5['fail']):_0xf19e5[_0x12063b(0x2d6)](_0x47b504,_0xf1e836[_0x12063b(0x16f)])[_0x12063b(0x276)](_0xf19e5[_0x12063b(0x22b)]);}),it(_0xbdd39e['hbIin'],async()=>{const _0x25f581=_0xdde917,_0x5c76e9={'validateAppId':()=>Promise[_0x25f581(0x320)](),'validateAuthData':()=>Promise['resolve']()},_0x534d58={'authData':{'id':_0xbdd39e[_0x25f581(0x2f4)],'token':_0xbdd39e[_0x25f581(0x1f3)]}},_0x3cbec3={'authData':{'id':_0x25f581(0x2b5),'token':_0x25f581(0x216)}};await _0xbdd39e[_0x25f581(0x1a3)](reconfigureServer,{'auth':{'fakeAuthProvider':_0x5c76e9}});const _0x3a53a7=await Parse[_0x25f581(0x18b)][_0x25f581(0x391)](_0x25f581(0x17b),_0x534d58),_0x3213cd=await Parse['User'][_0x25f581(0x391)](_0x25f581(0x17b),_0x534d58,{'sessionToken':_0x3a53a7[_0x25f581(0x230)]()}),_0x141285=await Parse['User']['logInWith'](_0xbdd39e['tDFvD'],_0x3cbec3,{'sessionToken':_0x3213cd['getSessionToken']()});_0xbdd39e[_0x25f581(0x37d)](expect,_0x3a53a7['id'])['toEqual'](_0x3213cd['id']),expect(_0x3a53a7['id'])[_0x25f581(0x351)](_0x141285['id']);}),it(_0xbdd39e[_0xdde917(0x27a)],async()=>{const _0x2166b0=_0xdde917,_0x479a2f={'validateAppId':()=>!![],'appIds':_0xbdd39e[_0x2166b0(0x1a6)],'validateAuthData':()=>Promise[_0x2166b0(0x320)]()},_0x1025aa={'appIds':_0xbdd39e['gAaCO'],'validateAppId':()=>Promise[_0x2166b0(0x320)](!![]),'validateAuthData':()=>Promise[_0x2166b0(0x320)]()},_0x3222fa={'authData':{'id':_0xbdd39e[_0x2166b0(0x2f4)],'token':_0xbdd39e[_0x2166b0(0x1f3)]}},_0x1fb254=spyOn(_0x479a2f,_0xbdd39e['iASMI']),_0x564f1a=spyOn(_0x1025aa,_0xbdd39e['iASMI']);await reconfigureServer({'auth':{'asyncProvider':_0x1025aa,'syncProvider':_0x479a2f}});const _0x183664=await Parse[_0x2166b0(0x18b)]['logInWith'](_0x2166b0(0x376),_0x3222fa),_0x218faf=await Parse[_0x2166b0(0x18b)][_0x2166b0(0x391)](_0xbdd39e[_0x2166b0(0x20c)],_0x3222fa);_0xbdd39e[_0x2166b0(0x23f)](expect,_0x183664['getSessionToken']())['toBeDefined'](),expect(_0x218faf[_0x2166b0(0x230)]())[_0x2166b0(0x3f9)](),_0xbdd39e[_0x2166b0(0x2d7)](expect,_0x1fb254)[_0x2166b0(0x308)](0x1),expect(_0x564f1a)[_0x2166b0(0x308)](0x1);}),it(_0xdde917(0x3ae),async()=>{const _0x228fc5=_0xdde917,_0x5645bc=_0x4dcb97();Parse[_0x228fc5(0x18b)][_0x228fc5(0x355)](_0x5645bc);const _0x22daec=await Parse[_0x228fc5(0x18b)][_0x228fc5(0x174)](_0x228fc5(0x258));ok(_0xbdd39e[_0x228fc5(0x1be)](_0x22daec,Parse[_0x228fc5(0x18b)]),_0x228fc5(0x291)),strictEqual(Parse[_0x228fc5(0x18b)][_0x228fc5(0x1cd)](),_0x22daec),ok(_0x22daec[_0x228fc5(0x2b4)](),_0xbdd39e[_0x228fc5(0x1db)]),_0xbdd39e[_0x228fc5(0x1ae)](strictEqual,_0x5645bc[_0x228fc5(0x328)]['id'],_0x5645bc['synchronizedUserId']),_0xbdd39e['zvpEx'](strictEqual,_0x5645bc[_0x228fc5(0x328)][_0x228fc5(0x3dc)],_0x5645bc['synchronizedAuthToken']),strictEqual(_0x5645bc[_0x228fc5(0x328)][_0x228fc5(0x166)],_0x5645bc['synchronizedExpiration']),_0xbdd39e[_0x228fc5(0x1ae)](ok,_0x22daec[_0x228fc5(0x169)](_0xbdd39e[_0x228fc5(0x33f)]),'User\x20should\x20be\x20linked\x20to\x20myoauth'),await _0x22daec[_0x228fc5(0x33b)](_0xbdd39e[_0x228fc5(0x33f)]),_0xbdd39e[_0x228fc5(0x1ae)](ok,!_0x22daec['_isLinked'](_0x228fc5(0x258)),_0xbdd39e['pakJL']),_0xbdd39e[_0x228fc5(0x28a)](ok,!_0x5645bc['synchronizedUserId'],'User\x20id\x20should\x20be\x20cleared'),ok(!_0x5645bc['synchronizedAuthToken'],_0x228fc5(0x17c)),_0xbdd39e[_0x228fc5(0x394)](ok,!_0x5645bc[_0x228fc5(0x3bd)],_0xbdd39e[_0x228fc5(0x1af)]);const _0x14a59a=Config[_0x228fc5(0x183)](Parse[_0x228fc5(0x2e4)]),_0x1e5321=await _0x14a59a[_0x228fc5(0x170)][_0x228fc5(0x269)][_0x228fc5(0x25a)](_0x228fc5(0x2c7),{'fields':Object[_0x228fc5(0x311)]({},defaultColumns['_Default'],defaultColumns[_0x228fc5(0x39a)])},{'objectId':_0x22daec['id']},{});_0xbdd39e[_0x228fc5(0x1a3)](expect,_0x1e5321['length'])[_0x228fc5(0x276)](0x1),expect(_0x1e5321[0x0][_0x228fc5(0x3a4)])[_0x228fc5(0x2f9)](),_0xbdd39e[_0x228fc5(0x3ac)](expect,_0x1e5321[0x0][_0x228fc5(0x3a4)])[_0x228fc5(0x38c)][_0x228fc5(0x2ec)](),await _0x22daec[_0x228fc5(0x211)](_0x228fc5(0x258)),_0xbdd39e['WdYwt'](ok,_0x5645bc[_0x228fc5(0x167)],_0x228fc5(0x1b2)),ok(_0x5645bc['synchronizedAuthToken'],_0x228fc5(0x15d)),_0xbdd39e[_0x228fc5(0x185)](ok,_0x5645bc[_0x228fc5(0x3bd)],_0xbdd39e[_0x228fc5(0x285)]),ok(_0x22daec[_0x228fc5(0x169)](_0x228fc5(0x258)),_0xbdd39e['nSwFG']);});function _0x261698(_0x31df69){const _0x4faa20=_0xdde917;_0xbdd39e[_0x4faa20(0x35a)](_0x4faa20(0x23a),'BkfGi')?expect(typeof _0x31df69)[_0x4faa20(0x276)](_0xbdd39e[_0x4faa20(0x1fc)]):_0xbdd39e[_0x4faa20(0x287)](_0x5465d8,_0x2cee12['message'])[_0x4faa20(0x276)](_0xbdd39e[_0x4faa20(0x3ea)]);}function _0x4f44b4(_0x4549e7){const _0x16d6a4=_0xdde917;_0xbdd39e[_0x16d6a4(0x3ac)](expect,_0x4549e7)[_0x16d6a4(0x38c)][_0x16d6a4(0x2f9)](),expect(typeof _0x4549e7[_0x16d6a4(0x1a5)])[_0x16d6a4(0x276)](_0x16d6a4(0x2ff)),expect(typeof _0x4549e7[_0x16d6a4(0x1a5)])['toBe'](_0xbdd39e['cCVAL']);}function _0x1e1033(_0x1499ea){const _0x3e6015=_0xdde917;expect(_0x1499ea)[_0x3e6015(0x38c)][_0x3e6015(0x2f9)]();if(!_0x1499ea){_0xbdd39e[_0x3e6015(0x287)](Function,'return\x20Object.keys({a:1});')();return;}_0xbdd39e['iPMwj'](expect,typeof _0x1499ea[_0x3e6015(0x2ad)])[_0x3e6015(0x276)](_0x3e6015(0x2ff)),expect(typeof _0x1499ea[_0x3e6015(0x33a)])[_0x3e6015(0x276)](_0xbdd39e[_0x3e6015(0x1fc)]);}it(_0xbdd39e[_0xdde917(0x19e)],_0x52e434=>{const _0x5e523d=_0xdde917,_0x99f250={'uWHfD':function(_0x2163ac,_0x389ab2){return _0xbdd39e['Rurlg'](_0x2163ac,_0x389ab2);},'MBnBv':_0x5e523d(0x29b),'tNZYu':_0xbdd39e[_0x5e523d(0x348)],'LCMnq':function(_0x3d377a,_0x214d8c){return _0x3d377a===_0x214d8c;},'mMMZf':_0xbdd39e[_0x5e523d(0x225)],'cIuao':function(_0x19b0e1){return _0x19b0e1();},'cpbpL':function(_0x3955e3){return _0x3955e3();}};if(_0x5e523d(0x245)!==_0xbdd39e[_0x5e523d(0x367)]){const _0x5aa00d={'id':_0xbdd39e['xhCWX'],'token':'world'},_0x242eba={'validateAppId':function(){const _0x48cabd=_0x5e523d;return _0x99f250[_0x48cabd(0x175)](Function,_0x99f250[_0x48cabd(0x15f)])(),Promise['resolve']();},'validateAuthData':function(_0x1cb8e2){const _0x317e84=_0x5e523d;if(_0x99f250['LCMnq'](_0x317e84(0x284),'wXdLQ')){if(_0x1cb8e2['id']==_0x5aa00d['id']&&_0x1cb8e2['token']==_0x5aa00d[_0x317e84(0x217)])return new Function(_0x317e84(0x2a9))(),Promise['resolve']();return eval('JSON[\'stringify\']({ \'safe\': !![] });'),Promise[_0x317e84(0x226)]();}else _0x3ea4a5(_0x176a90['message'])[_0x317e84(0x276)](_0x99f250['tNZYu']);}},_0x188bf9=spyOn(_0x242eba,_0xbdd39e[_0x5e523d(0x34e)])[_0x5e523d(0x17d)][_0x5e523d(0x335)](),_0x486e5c=_0xbdd39e['SBavN'](spyOn,_0x242eba,'validateAppId')[_0x5e523d(0x17d)][_0x5e523d(0x335)](),_0x4c1420=_0xbdd39e[_0x5e523d(0x2bb)](authenticationLoader,{'customAuthentication':_0x242eba});_0xbdd39e[_0x5e523d(0x37d)](_0x4f44b4,_0x4c1420);const {validator:_0x379cb4}=_0x4c1420[_0x5e523d(0x1a5)](_0x5e523d(0x406));_0xbdd39e[_0x5e523d(0x1a4)](_0x261698,_0x379cb4),_0xbdd39e[_0x5e523d(0x34b)](_0x379cb4,_0x5aa00d,{},{})[_0x5e523d(0x3fd)](()=>{const _0x9b9160=_0x5e523d;_0x99f250[_0x9b9160(0x2e0)]===_0x99f250[_0x9b9160(0x2e0)]?(expect(_0x188bf9)[_0x9b9160(0x234)](),expect(_0x486e5c)[_0x9b9160(0x38c)]['toHaveBeenCalled'](),_0x99f250['cIuao'](_0x52e434)):_0x4ac6de['stringify']({'safe':!![]});},_0xdaed7b=>{const _0x94dc8=_0x5e523d;jfail(_0xdaed7b),_0x99f250[_0x94dc8(0x368)](_0x52e434);});}else throw _0x21b888[_0x5e523d(0x3be)];}),_0xbdd39e[_0xdde917(0x274)](it,'properly\x20loads\x20custom\x20adapter\x20module\x20object',_0x3bef26=>{const _0x25d7f6=_0xdde917,_0x42927d=_0xbdd39e[_0x25d7f6(0x40c)](authenticationLoader,{'customAuthentication':path['resolve'](_0xbdd39e['beEyY'])});_0xbdd39e[_0x25d7f6(0x1f7)](_0x4f44b4,_0x42927d);const {validator:_0xa40072}=_0x42927d[_0x25d7f6(0x1a5)](_0x25d7f6(0x406));_0x261698(_0xa40072),_0xbdd39e[_0x25d7f6(0x34b)](_0xa40072,{'token':_0xbdd39e['oYEOw']},{},{})[_0x25d7f6(0x3fd)](()=>{_0x3bef26();},_0x21a7a3=>{const _0x55e425=_0x25d7f6,_0x302f33={'mGIQS':_0xbdd39e[_0x55e425(0x354)]};_0xbdd39e[_0x55e425(0x3cf)]===_0xbdd39e[_0x55e425(0x18e)]?_0x2a8658[_0x55e425(0x18a)](_0x302f33[_0x55e425(0x3a3)]):(_0xbdd39e[_0x55e425(0x3ee)](jfail,_0x21a7a3),_0x3bef26());});}),_0xbdd39e[_0xdde917(0x3d2)](it,_0xbdd39e['rWXtL'],_0x330004=>{const _0x29c6c3=_0xdde917,_0x445c48={'uyuIt':function(_0x2b99de){return _0x2b99de();}},_0x16b29a=authenticationLoader({'customAuthentication':{'module':path[_0x29c6c3(0x320)](_0xbdd39e[_0x29c6c3(0x2e1)]),'options':{'token':_0x29c6c3(0x3d7)}}});_0xbdd39e['vZpJx'](_0x4f44b4,_0x16b29a);const {validator:_0x2f8e56}=_0x16b29a[_0x29c6c3(0x1a5)](_0x29c6c3(0x406));_0xbdd39e[_0x29c6c3(0x287)](_0x261698,_0x2f8e56),_0x2f8e56({'token':'valid-token'},{},{})[_0x29c6c3(0x3fd)](()=>{_0x445c48['uyuIt'](_0x330004);},_0x40d7e6=>{const _0x237d5e=_0x29c6c3;jfail(_0x40d7e6),_0xbdd39e[_0x237d5e(0x2b1)](_0x330004);});}),_0xbdd39e[_0xdde917(0x187)](it,_0xbdd39e[_0xdde917(0x2ba)],()=>{const _0x972ba=_0xdde917,_0x387fe3={'facebook':{'appIds':['a','b'],'appSecret':_0xbdd39e['EIGjJ']}},{adapter:_0x1235ab,appIds:_0x54d685,providerOptions:_0x52ebc6}=authenticationLoader[_0x972ba(0x3f5)](_0x972ba(0x21c),_0x387fe3);_0x1e1033(_0x1235ab),_0xbdd39e[_0x972ba(0x3ac)](expect,_0x54d685)[_0x972ba(0x351)](['a','b']),expect(_0x52ebc6)[_0x972ba(0x351)](_0x387fe3['facebook']);}),_0xbdd39e['xLiFZ'](it,_0xdde917(0x1da),async()=>{const _0x205ac1=_0xdde917,_0x1d2994={'uUphk':function(_0x1510bc,_0x4eccef){return _0x1510bc(_0x4eccef);},'kHnEh':_0xbdd39e[_0x205ac1(0x237)]},_0x56c098=_0xbdd39e[_0x205ac1(0x37a)](require,_0xbdd39e[_0x205ac1(0x1ca)]);spyOn(_0x56c098,_0x205ac1(0x183))['and']['callFake'](()=>{const _0x35d37c=_0x205ac1;return _0x1d2994[_0x35d37c(0x240)](Function,_0x1d2994[_0x35d37c(0x195)])(),Promise['resolve']({'id':'a'});});const _0xfc3c5a={'facebook':{'appIds':['a','b'],'appSecret':_0x205ac1(0x261)}},_0x308f55={'access_token':'badtoken'},{adapter:_0x4fae04,appIds:_0x3ff350,providerOptions:_0x3657f0}=authenticationLoader['loadAuthAdapter'](_0xbdd39e['HJsgU'],_0xfc3c5a);await _0x4fae04[_0x205ac1(0x33a)](_0x3ff350,_0x308f55,_0x3657f0),_0xbdd39e[_0x205ac1(0x37c)](expect,_0x56c098[_0x205ac1(0x183)]['calls'][_0x205ac1(0x212)]()[_0x205ac1(0x40b)][0x0][_0x205ac1(0x24d)](_0xbdd39e['GWRjW']))[_0x205ac1(0x276)](!![]);}),_0xbdd39e[_0xdde917(0x2ee)](it,_0xdde917(0x181),async()=>{const _0x53fec4=_0xdde917,_0x392f67={'vLoMl':function(_0x22260d,_0x343770){return _0x22260d==_0x343770;},'IbRKd':function(_0x3f7be2,_0x183608){const _0xbc73ca=_0x4baf;return _0xbdd39e[_0xbc73ca(0x32b)](_0x3f7be2,_0x183608);}};if('Mjwwi'!=='Mjwwi'){if(_0x1a68d5['id']==_0x4156cb['id']&&_0x392f67[_0x53fec4(0x1ce)](_0x5f5930['token'],_0x41d7ba[_0x53fec4(0x217)]))return new _0x2b0377(_0x53fec4(0x2a9))(),_0x7d7ecb[_0x53fec4(0x320)]();return eval('const _0x246122 = _0x53fec4;_0x9a5173[_0x246122(436)]({ \'safe\': !![] });'),_0x4899d3['reject']();}else{const _0x28100b=require(_0x53fec4(0x40d));spyOn(_0x28100b,_0x53fec4(0x183))[_0x53fec4(0x17d)][_0x53fec4(0x3d0)](()=>{return eval('_0x392f67[\'IbRKd\'](1, 1);'),Promise['resolve']({'id':'a'});});const _0x287803={'facebook':{'appIds':_0x53fec4(0x3a5),'appSecret':_0x53fec4(0x261)}},_0x8fdaa2={'access_token':_0xbdd39e[_0x53fec4(0x3f3)]},{adapter:_0xa58f13,appIds:_0x23a8ec,providerOptions:_0x3baa2a}=authenticationLoader[_0x53fec4(0x3f5)](_0x53fec4(0x21c),_0x287803);await _0xbdd39e[_0x53fec4(0x3ff)](expectAsync,_0xa58f13[_0x53fec4(0x33a)](_0x23a8ec,_0x8fdaa2,_0x3baa2a))[_0x53fec4(0x28f)](new Parse['Error'](Parse[_0x53fec4(0x2ab)][_0x53fec4(0x279)],'appIds\x20must\x20be\x20an\x20array.'));}}),_0xbdd39e['HOksW'](it,_0xdde917(0x254),async()=>{const _0x5a0787=_0xdde917,_0x39d050=require(_0x5a0787(0x40d));_0xbdd39e['GvqRZ'](spyOn,_0x39d050,_0xbdd39e[_0x5a0787(0x407)])[_0x5a0787(0x17d)]['callFake'](()=>{const _0x49f6a9=_0x5a0787;return _0xbdd39e[_0x49f6a9(0x274)](setInterval,_0x49f6a9(0x401),0x3e8),Promise[_0x49f6a9(0x320)]();});const _0x2e5b24={'facebook':{'appIds':['a','b'],'appSecret':_0x5a0787(0x261)}},_0x32ecb2={'id':_0xbdd39e[_0x5a0787(0x1a6)],'access_token':_0xbdd39e[_0x5a0787(0x1a6)]},{adapter:_0x4e21e7,providerOptions:_0x411212}=authenticationLoader[_0x5a0787(0x3f5)](_0x5a0787(0x21c),_0x2e5b24);await _0x4e21e7['validateAuthData'](_0x32ecb2,_0x411212),_0xbdd39e[_0x5a0787(0x3bc)](expect,_0x39d050[_0x5a0787(0x183)][_0x5a0787(0x2d4)][_0x5a0787(0x212)]()[_0x5a0787(0x40b)][0x0][_0x5a0787(0x24d)](_0xbdd39e[_0x5a0787(0x203)]))[_0x5a0787(0x276)](!![]);}),_0xbdd39e[_0xdde917(0x3d2)](it,_0xbdd39e['XeXTA'],()=>{const _0x51798e=_0xdde917,_0xc8d893={'nuJIU':_0x51798e(0x15b)};if(_0x51798e(0x1a1)===_0xbdd39e['ItgQd']){const _0x428f64={'custom':{'validateAppId':()=>{},'validateAuthData':()=>{},'appIds':['a','b']}},{adapter:_0x3253de,appIds:_0x47c5df,providerOptions:_0x5c6e6b}=authenticationLoader[_0x51798e(0x3f5)](_0xbdd39e[_0x51798e(0x1ee)],_0x428f64);_0xbdd39e[_0x51798e(0x2e7)](_0x1e1033,_0x3253de),_0xbdd39e[_0x51798e(0x202)](expect,_0x47c5df)[_0x51798e(0x351)](['a','b']),_0xbdd39e[_0x51798e(0x2e5)](expect,_0x5c6e6b)[_0x51798e(0x351)](_0x428f64[_0x51798e(0x2dc)]);}else _0x32e9d0(_0x23c11d['message'])[_0x51798e(0x276)](_0xc8d893[_0x51798e(0x357)]);}),_0xbdd39e[_0xdde917(0x1ae)](it,_0xdde917(0x3e1),async()=>{const _0x550f4c=_0xdde917;if(_0x550f4c(0x385)!=='ImzZq'){await reconfigureServer({'auth':{'myoauth':{'enabled':![],'module':path['resolve'](__dirname,'support/myoauth')}}});const _0x17890c=_0x4dcb97();Parse['User'][_0x550f4c(0x355)](_0x17890c),await _0xbdd39e[_0x550f4c(0x1a4)](expectAsync,Parse['User'][_0x550f4c(0x174)](_0xbdd39e[_0x550f4c(0x33f)]))[_0x550f4c(0x28f)](new Parse['Error'](Parse[_0x550f4c(0x2ab)]['UNSUPPORTED_SERVICE'],'This\x20authentication\x20method\x20is\x20unsupported.'));}else _0x17fc9e(_0x55f921[_0x550f4c(0x16f)])['toBe'](_0xbdd39e[_0x550f4c(0x2c2)]);}),validator[_0xdde917(0x1eb)](value);}),describe(_0x1c0f08(0x3ba),()=>{const _0x1f1764=_0x1c0f08,_0xbe0cee={'kEBbj':function(_0x386d8d){return _0x386d8d();},'yCdRf':function(_0x43bf0b,_0x29ea86){return _0x43bf0b(_0x29ea86);},'utdMp':function(_0x4251b4,_0x59a09c){return _0x4251b4===_0x59a09c;},'GneQp':_0x1f1764(0x23d),'wMwiq':function(_0x46bebf,_0x15e875){return _0x46bebf(_0x15e875);},'IpGpp':_0x1f1764(0x1ff),'YrgFn':_0x1f1764(0x3cd),'Lmilj':function(_0x3925dd,_0x2e0708){return _0x3925dd!==_0x2e0708;},'VRUHe':_0x1f1764(0x1f0),'InZaP':_0x1f1764(0x2de),'RWuqK':'the_token','suGfL':_0x1f1764(0x22a),'kbzdR':_0x1f1764(0x1d9),'igVhD':_0x1f1764(0x239),'GdjCm':_0x1f1764(0x1dc),'PfASS':function(_0x599712,_0x3d2a60){return _0x599712(_0x3d2a60);},'AlMnM':_0x1f1764(0x31b),'NWJdq':_0x1f1764(0x29d),'nmjqs':_0x1f1764(0x316),'OkUru':function(_0x3b2859,_0x977f46,_0x3b04c2){return _0x3b2859(_0x977f46,_0x3b04c2);},'MRHBv':_0x1f1764(0x1fa),'zEbln':_0x1f1764(0x2f8),'QCrfg':_0x1f1764(0x2b6),'EcpHY':_0x1f1764(0x160),'otafo':_0x1f1764(0x403),'pCnOi':function(_0x377de9,_0x3360fb,_0x59707f){return _0x377de9(_0x3360fb,_0x59707f);},'wAoad':_0x1f1764(0x214),'jAyZP':'INSERT\x20APPLE\x20TOKEN\x20HERE','mJKvc':_0x1f1764(0x2d0),'jiSVP':_0x1f1764(0x2cb),'lasVH':_0x1f1764(0x20f),'goevH':function(_0x1918dc,_0x44ba97){return _0x1918dc(_0x44ba97);},'pXDzR':function(_0x35a35a,_0x1b735d,_0x31c219){return _0x35a35a(_0x1b735d,_0x31c219);},'LyMdy':_0x1f1764(0x2fd),'AnkIx':'should\x20not\x20decode\x20invalid\x20id_token','qOrjk':_0x1f1764(0x3f7)},_0x30f63e=require(_0xbe0cee[_0x1f1764(0x39b)]),_0x19039b=require(_0xbe0cee[_0x1f1764(0x196)]),_0x4054e7=_0xbe0cee[_0x1f1764(0x257)](require,_0x1f1764(0x1fd));_0xbe0cee[_0x1f1764(0x248)](it,_0xbe0cee[_0x1f1764(0x27d)],async()=>{const _0x110fa9=_0x1f1764,_0x1f5187={'DYjnx':function(_0x31bb3e,_0x163795){const _0x5f246e=_0x4baf;return _0xbe0cee[_0x5f246e(0x26f)](_0x31bb3e,_0x163795);},'VdysO':function(_0x5c0e90){const _0x9a23f5=_0x4baf;return _0xbe0cee[_0x9a23f5(0x29c)](_0x5c0e90);}};if(_0xbe0cee[_0x110fa9(0x1c5)](_0x110fa9(0x19d),_0xbe0cee[_0x110fa9(0x182)])){_0x41a841(_0x2cec15)[_0x110fa9(0x276)](null);const _0x3df56a=_0x24d4d1;_0x1f5187['DYjnx'](_0x489fca,_0x3df56a[_0x110fa9(0x232)])[_0x110fa9(0x38c)]['toBeNull'](),_0x1f5187['DYjnx'](_0xcd56b0,_0x3df56a[_0x110fa9(0x232)])[_0x110fa9(0x38c)][_0x110fa9(0x2f9)](),_0xc829b8(_0x3df56a[_0x110fa9(0x232)])[_0x110fa9(0x276)](_0xb20d6a),_0x1f5187['VdysO'](_0x28e336);}else try{await _0x30f63e[_0x110fa9(0x2ad)]({},{}),fail();}catch(_0x1e07c8){_0xbe0cee[_0x110fa9(0x1c5)]('BtDfO','TEyaT')?(_0x15c0c9(_0x307d8c),_0xbe0cee[_0x110fa9(0x29c)](_0x3a8ffd)):_0xbe0cee[_0x110fa9(0x3de)](expect,_0x1e07c8[_0x110fa9(0x16f)])[_0x110fa9(0x276)](_0xbe0cee[_0x110fa9(0x235)]);}}),it(_0xbe0cee['AnkIx'],async()=>{const _0x4461a9=_0x1f1764,_0x59eaf2={'NZAFT':function(_0x562bc6,_0x4ea162){return _0x562bc6(_0x4ea162);},'xwVWF':_0xbe0cee[_0x4461a9(0x361)]};if(_0xbe0cee[_0x4461a9(0x206)](_0xbe0cee[_0x4461a9(0x39e)],_0xbe0cee['VRUHe']))_0x59eaf2[_0x4461a9(0x26a)](_0x14550e,_0x550686[_0x4461a9(0x16f)])[_0x4461a9(0x276)](_0x59eaf2[_0x4461a9(0x2bc)]);else try{_0xbe0cee['Lmilj'](_0x4461a9(0x31c),'FZQxQ')?_0x4b031d(_0x4c354f[_0x4461a9(0x16f)])[_0x4461a9(0x276)](_0x4461a9(0x2c1)):(await _0x30f63e[_0x4461a9(0x2ad)]({'id':_0xbe0cee[_0x4461a9(0x207)],'id_token':_0xbe0cee[_0x4461a9(0x194)]},{}),fail());}catch(_0x1ea6f0){expect(_0x1ea6f0[_0x4461a9(0x16f)])[_0x4461a9(0x276)](_0xbe0cee['suGfL']);}}),_0xbe0cee[_0x1f1764(0x248)](it,_0xbe0cee[_0x1f1764(0x17e)],async()=>{const _0x10193a=_0x1f1764,_0x5a652a={'iss':_0x10193a(0x2b6),'aud':'secret','exp':Date[_0x10193a(0x205)](),'sub':_0x10193a(0x2de)},_0x163509={'header':{'kid':_0xbe0cee[_0x10193a(0x208)],'alg':_0xbe0cee[_0x10193a(0x2ea)]}};spyOn(_0x4054e7,_0x10193a(0x316))[_0x10193a(0x17d)][_0x10193a(0x3d0)](()=>_0x163509),spyOn(_0x19039b,_0x10193a(0x1fa))['and'][_0x10193a(0x3d0)](()=>_0x5a652a);const _0x58bbc9=await _0x30f63e[_0x10193a(0x2ad)]({'id':_0xbe0cee[_0x10193a(0x207)],'id_token':_0xbe0cee[_0x10193a(0x194)]},{'clientId':_0xbe0cee[_0x10193a(0x3c0)]});_0xbe0cee['PfASS'](expect,_0x58bbc9)[_0x10193a(0x351)](_0x5a652a);}),it(_0x1f1764(0x26c),async()=>{const _0x26ba15=_0x1f1764;if(_0x26ba15(0x31b)===_0xbe0cee[_0x26ba15(0x197)]){const _0x5d3d4b={'iss':_0xbe0cee[_0x26ba15(0x40f)],'sub':_0xbe0cee[_0x26ba15(0x207)]},_0x1a6d32={'header':{'kid':_0x26ba15(0x1d9),'alg':_0xbe0cee['igVhD']}};spyOn(_0x4054e7,_0xbe0cee[_0x26ba15(0x1f9)])[_0x26ba15(0x17d)][_0x26ba15(0x3d0)](()=>_0x1a6d32),_0xbe0cee[_0x26ba15(0x307)](spyOn,_0x19039b,_0xbe0cee[_0x26ba15(0x349)])[_0x26ba15(0x17d)]['callFake'](()=>_0x5d3d4b);try{await _0x30f63e[_0x26ba15(0x2ad)]({'id':_0x26ba15(0x2de),'id_token':_0x26ba15(0x3b4)},{'clientId':_0xbe0cee['GdjCm']}),fail();}catch(_0x4db292){expect(_0x4db292[_0x26ba15(0x16f)])[_0x26ba15(0x276)](_0xbe0cee[_0x26ba15(0x3ec)]);}}else _0x338614(_0x23fdce[_0x26ba15(0x16f)])[_0x26ba15(0x276)](_0x26ba15(0x23e));}),xit(_0x1f1764(0x2cc),async()=>{const _0x4c1fee=_0x1f1764,_0x4d307b={'BFNya':function(_0x45a5f3,_0x4abd9a){return _0x45a5f3*_0x4abd9a;}},_0x57ef45={'iss':_0xbe0cee[_0x4c1fee(0x224)],'aud':'secret','exp':Date[_0x4c1fee(0x205)](),'sub':_0xbe0cee[_0x4c1fee(0x207)]},_0x47b697={'header':{'kid':_0xbe0cee['kbzdR'],'alg':_0x4c1fee(0x239)}};spyOn(_0x4054e7,_0x4c1fee(0x316))[_0x4c1fee(0x17d)][_0x4c1fee(0x3d0)](()=>_0x47b697),spyOn(_0x19039b,_0x4c1fee(0x1fa))[_0x4c1fee(0x17d)][_0x4c1fee(0x3d0)](()=>_0x57ef45);try{if(_0xbe0cee[_0x4c1fee(0x2fb)]!==_0xbe0cee[_0x4c1fee(0x3bb)])await _0x30f63e[_0x4c1fee(0x2ad)]({'id':_0x4c1fee(0x179),'token':'INSERT\x20APPLE\x20TOKEN\x20HERE'},{'clientId':_0xbe0cee[_0x4c1fee(0x3c0)]}),fail();else return _0x29e6da&&_0xffb876(null,_0x352924,_0x242344['data']),eval('const _0x505401 = _0x4c1fee;_0x4d307b[_0x505401(489)](_0x51deec[\'PI\'], 2);'),{'res':_0xcb6f84,'body':_0x5eed01[_0x4c1fee(0x3be)]};}catch(_0x482164){expect(_0x482164[_0x4c1fee(0x16f)])[_0x4c1fee(0x276)]('jwt\x20audience\x20invalid.\x20expected:\x20secret');}}),_0xbe0cee[_0x1f1764(0x307)](xit,_0x1f1764(0x220),async()=>{const _0x37882d=_0x1f1764,_0x2c97cc={'iss':_0xbe0cee[_0x37882d(0x224)],'aud':_0xbe0cee[_0x37882d(0x3c0)],'exp':Date[_0x37882d(0x205)](),'sub':_0x37882d(0x2de)},_0x379f8b={'header':{'kid':_0xbe0cee[_0x37882d(0x208)],'alg':_0x37882d(0x239)}};spyOn(_0x4054e7,'getHeaderFromToken')[_0x37882d(0x17d)]['callFake'](()=>_0x379f8b),_0xbe0cee[_0x37882d(0x36d)](spyOn,_0x19039b,_0x37882d(0x1fa))[_0x37882d(0x17d)][_0x37882d(0x3d0)](()=>_0x2c97cc);try{await _0x30f63e[_0x37882d(0x2ad)]({'id':_0xbe0cee[_0x37882d(0x378)],'token':_0xbe0cee[_0x37882d(0x36c)]},{'clientId':_0x37882d(0x32a)}),fail();}catch(_0x42f641){expect(_0x42f641['message'])['toBe'](_0xbe0cee[_0x37882d(0x1b3)]);}});}),describe(_0x1c0f08(0x33d),()=>{const _0x1768fe=_0x1c0f08,_0x2e9ea4={'vpkIo':function(_0x55f13c,_0x5de10c){return _0x55f13c(_0x5de10c);},'ygkyp':_0x1768fe(0x3c7),'YUgxX':function(_0x4b46e1,_0x5e3cce){return _0x4b46e1*_0x5e3cce;},'gzMSF':function(_0x2f9531){return _0x2f9531();},'SwYGa':function(_0x5da115,_0x5e86ee){return _0x5da115(_0x5e86ee);},'WAiFG':_0x1768fe(0x1d0),'jfsXw':function(_0x25bf94,_0x2c38d4){return _0x25bf94(_0x2c38d4);},'SCEgt':_0x1768fe(0x389),'vGpyU':function(_0x117cd7,_0x5e1fc0,_0x2f2d68){return _0x117cd7(_0x5e1fc0,_0x2f2d68);},'TQGVE':'sometoken','rtuJF':_0x1768fe(0x381),'Nogvm':_0x1768fe(0x3b7),'EyAnu':_0x1768fe(0x31f),'iATqB':'http://example.com','UbQYb':_0x1768fe(0x2ce),'YFscQ':function(_0x124d0c,_0x208939){return _0x124d0c!==_0x208939;},'kmrzA':function(_0x4165d8,_0x3b97a9){return _0x4165d8(_0x3b97a9);},'FAbqp':_0x1768fe(0x37f),'sceqj':_0x1768fe(0x40e),'pbPZf':_0x1768fe(0x183),'EFmhb':function(_0x1b7c45,_0x21053b){return _0x1b7c45(_0x21053b);},'aVvHI':_0x1768fe(0x3c3),'AYmeY':function(_0x4039b6,_0x3175a0,_0x4e48d5){return _0x4039b6(_0x3175a0,_0x4e48d5);},'hnDPn':_0x1768fe(0x296),'PkvZq':_0x1768fe(0x1a8),'ZOXXv':'group1','imtmA':function(_0x53b78b){return _0x53b78b();},'EDOQJ':'/realms/new/protocol/openid-connect/userinfo','UpczC':_0x1768fe(0x33e),'MmEER':'validateAuthData\x20should\x20fail\x20without\x20user\x20id','eOudc':_0x1768fe(0x32f),'ExZor':_0x1768fe(0x2dd),'Sszsv':_0x1768fe(0x1e0),'DzdZU':function(_0x40cc17,_0x30ae3e,_0x5f243c){return _0x40cc17(_0x30ae3e,_0x5f243c);},'PGKVG':_0x1768fe(0x2ed)},_0x4f0419=require(_0x1768fe(0x353)),_0x44cea3=_0x2e9ea4[_0x1768fe(0x186)](require,_0x1768fe(0x40d));it(_0x1768fe(0x327),async()=>{const _0x2f9860=_0x1768fe,_0x3532b2={'id':'fakeid'};try{await _0x4f0419[_0x2f9860(0x2ad)](_0x3532b2),fail();}catch(_0x3dddc8){_0x2e9ea4[_0x2f9860(0x186)](expect,_0x3dddc8['message'])['toBe'](_0x2e9ea4[_0x2f9860(0x1d2)]);}}),it(_0x2e9ea4[_0x1768fe(0x24c)],async()=>{const _0x2ec388=_0x1768fe,_0x161e5c={'access_token':_0x2ec388(0x1d4)};try{await _0x4f0419[_0x2ec388(0x2ad)](_0x161e5c),_0x2e9ea4['gzMSF'](fail);}catch(_0x51b4c2){_0x2ec388(0x411)!=='rqwnb'?TQHVml['YUgxX'](_0x517b59['PI'],0x2):_0x2e9ea4[_0x2ec388(0x233)](expect,_0x51b4c2[_0x2ec388(0x16f)])[_0x2ec388(0x276)](_0x2e9ea4[_0x2ec388(0x1d2)]);}}),_0x2e9ea4[_0x1768fe(0x2b7)](it,_0x2e9ea4['eOudc'],async()=>{const _0x9c6ee=_0x1768fe,_0x45dd4d={'keycloak':{'config':null}},_0x1119cc={'id':_0x2e9ea4[_0x9c6ee(0x3d9)],'access_token':_0x9c6ee(0x1d4)},{adapter:_0x3511a4,providerOptions:_0x1b31aa}=authenticationLoader[_0x9c6ee(0x3f5)](_0x9c6ee(0x381),_0x45dd4d);try{await _0x3511a4['validateAuthData'](_0x1119cc,_0x1b31aa),fail();}catch(_0x3abad5){_0x2e9ea4[_0x9c6ee(0x22c)](expect,_0x3abad5[_0x9c6ee(0x16f)])['toBe'](_0x9c6ee(0x15b));}}),_0x2e9ea4[_0x1768fe(0x2b7)](it,_0x1768fe(0x28d),async()=>{const _0x1182f7=_0x1768fe;_0x2e9ea4[_0x1182f7(0x2b7)](spyOn,_0x44cea3,'get')[_0x1182f7(0x17d)][_0x1182f7(0x3d0)](()=>{const _0x8e36e0=_0x1182f7;return new AsyncFunction(_0x8e36e0(0x1d8))(),Promise['reject']({'text':JSON[_0x8e36e0(0x1b4)]({'error':_0x2e9ea4[_0x8e36e0(0x3e9)]})});});const _0x23c253={'keycloak':{'config':{'auth-server-url':_0x1182f7(0x19c),'realm':_0x1182f7(0x2ce)}}},_0x268ad3={'id':'fakeid','access_token':_0x2e9ea4[_0x1182f7(0x25d)]},{adapter:_0x2d25b3,providerOptions:_0x1a8ceb}=authenticationLoader['loadAuthAdapter'](_0x2e9ea4[_0x1182f7(0x1fe)],_0x23c253);try{await _0x2d25b3[_0x1182f7(0x2ad)](_0x268ad3,_0x1a8ceb),fail();}catch(_0x59de89){expect(_0x59de89[_0x1182f7(0x16f)])[_0x1182f7(0x276)](_0x2e9ea4['Nogvm']);}}),it(_0x2e9ea4['ExZor'],async()=>{const _0x422e3a=_0x1768fe,_0x56a382={'wXRKg':_0x2e9ea4['EyAnu'],'REpGs':_0x422e3a(0x322),'KhaZO':function(_0x48b4dc,_0x1875e5,_0x17c4ac){return _0x48b4dc(_0x1875e5,_0x17c4ac);},'qdPJV':_0x422e3a(0x37f),'FOZRP':function(_0x4847cc,_0x5deac6){return _0x4847cc(_0x5deac6);}};_0x2e9ea4[_0x422e3a(0x2b7)](spyOn,_0x44cea3,'get')[_0x422e3a(0x17d)][_0x422e3a(0x3d0)](()=>{const _0x685dde=_0x422e3a,_0xbe01df={'YmAil':function(_0x232666,_0x59b4ce){return _0x232666*_0x59b4ce;}};if('BeuFq'!==_0x56a382[_0x685dde(0x1c9)])return _0x56a382[_0x685dde(0x3fb)](setTimeout,function(){const _0x1d48e6=_0x685dde;console[_0x1d48e6(0x18a)](_0x56a382[_0x1d48e6(0x1ef)]);},0x64),Promise[_0x685dde(0x226)]({'text':JSON[_0x685dde(0x1b4)]({'error_description':_0x56a382['qdPJV']})});else yRSoZe['YmAil'](_0x18eb03['PI'],0x2);});const _0x5a24fe={'keycloak':{'config':{'auth-server-url':_0x2e9ea4['iATqB'],'realm':_0x2e9ea4['UbQYb']}}},_0x1cc1e8={'id':_0x2e9ea4['WAiFG'],'access_token':_0x422e3a(0x1d4)},{adapter:_0x3466fd,providerOptions:_0x267bb9}=authenticationLoader['loadAuthAdapter'](_0x422e3a(0x381),_0x5a24fe);try{await _0x3466fd[_0x422e3a(0x2ad)](_0x1cc1e8,_0x267bb9),fail();}catch(_0x2aba9d){_0x2e9ea4[_0x422e3a(0x2ef)](_0x422e3a(0x1c1),'KnpTR')?_0x56a382[_0x422e3a(0x383)](_0x25a124,_0x32b408[_0x422e3a(0x16f)])[_0x422e3a(0x276)](_0x422e3a(0x408)+_0x51e3cc[_0x422e3a(0x2a7)]['kid']):_0x2e9ea4[_0x422e3a(0x3c5)](expect,_0x2aba9d['message'])[_0x422e3a(0x276)](_0x2e9ea4[_0x422e3a(0x3cc)]);}}),it(_0x2e9ea4[_0x1768fe(0x33c)],async()=>{const _0x422be6=_0x1768fe,_0x578f5a={'MHZiP':_0x2e9ea4[_0x422be6(0x34d)]};spyOn(_0x44cea3,_0x2e9ea4[_0x422be6(0x3e3)])[_0x422be6(0x17d)][_0x422be6(0x3d0)](()=>{const _0x293880=_0x422be6;return Function(_0x578f5a[_0x293880(0x39f)])(),Promise['resolve']({});});const _0xfa3260={'keycloak':{'config':{'auth-server-url':_0x2e9ea4[_0x422be6(0x24b)],'realm':_0x2e9ea4[_0x422be6(0x17f)]}}},_0x50e044={'id':_0x2e9ea4[_0x422be6(0x3d9)],'access_token':_0x422be6(0x1d4)},{adapter:_0x35352e,providerOptions:_0x2f6e1b}=authenticationLoader[_0x422be6(0x3f5)](_0x2e9ea4[_0x422be6(0x1fe)],_0xfa3260);try{await _0x35352e[_0x422be6(0x2ad)](_0x50e044,_0x2f6e1b),fail();}catch(_0x4fa233){_0x2e9ea4[_0x422be6(0x338)](expect,_0x4fa233[_0x422be6(0x16f)])[_0x422be6(0x276)]('Invalid\x20authentication');}}),_0x2e9ea4[_0x1768fe(0x35c)](it,_0x1768fe(0x3e6),async()=>{const _0x3a9f52=_0x1768fe,_0x40dab9={'Ixnho':_0x2e9ea4[_0x3a9f52(0x243)],'uVeKu':_0x2e9ea4['WAiFG']};_0x2e9ea4[_0x3a9f52(0x340)](spyOn,_0x44cea3,_0x2e9ea4[_0x3a9f52(0x3e3)])[_0x3a9f52(0x17d)]['callFake'](()=>{const _0x4e0eb9=_0x3a9f52;return setTimeout(_0x40dab9[_0x4e0eb9(0x3c8)],0x3e8),Promise[_0x4e0eb9(0x320)]({'data':{'sub':_0x40dab9[_0x4e0eb9(0x1ad)],'roles':[_0x4e0eb9(0x1a8)],'groups':[_0x4e0eb9(0x3c6)]}});});const _0x45bf69={'keycloak':{'config':{'auth-server-url':_0x3a9f52(0x19c),'realm':_0x2e9ea4[_0x3a9f52(0x17f)]}}},_0x298727={'id':_0x2e9ea4[_0x3a9f52(0x3d9)],'access_token':_0x2e9ea4[_0x3a9f52(0x25d)],'roles':['role1'],'groups':['group1']},{adapter:_0x5006d7,providerOptions:_0x3cf707}=authenticationLoader['loadAuthAdapter'](_0x2e9ea4[_0x3a9f52(0x1fe)],_0x45bf69);try{await _0x5006d7[_0x3a9f52(0x2ad)](_0x298727,_0x3cf707),fail();}catch(_0x300eac){expect(_0x300eac[_0x3a9f52(0x16f)])[_0x3a9f52(0x276)](_0x3a9f52(0x3cd));}}),it(_0x1768fe(0x373),async()=>{const _0x506586=_0x1768fe,_0x4a2afd={'TAOaH':_0x2e9ea4['WAiFG'],'WyckE':function(_0x398ce1){return _0x398ce1();}};if(_0x2e9ea4[_0x506586(0x2e9)]!==_0x506586(0x374)){_0x2e9ea4['AYmeY'](spyOn,_0x44cea3,'get')[_0x506586(0x17d)][_0x506586(0x3d0)](()=>{const _0x51b18d=_0x506586;return eval('Math[\'PI\'] * 2;'),Promise['resolve']({'data':{'sub':_0x4a2afd[_0x51b18d(0x289)],'roles':_0x51b18d(0x3c6),'groups':[_0x51b18d(0x165)]}});});const _0x34c969={'keycloak':{'config':{'auth-server-url':_0x2e9ea4['iATqB'],'realm':'new'}}},_0x3ce9b4={'id':_0x506586(0x1d0),'access_token':_0x2e9ea4[_0x506586(0x25d)],'roles':[_0x2e9ea4[_0x506586(0x1cc)]],'groups':[_0x2e9ea4[_0x506586(0x3fc)]]},{adapter:_0x1a5d54,providerOptions:_0x251118}=authenticationLoader['loadAuthAdapter'](_0x506586(0x381),_0x34c969);try{await _0x1a5d54[_0x506586(0x2ad)](_0x3ce9b4,_0x251118),_0x2e9ea4[_0x506586(0x3ef)](fail);}catch(_0x5e99b0){_0x2e9ea4['kmrzA'](expect,_0x5e99b0[_0x506586(0x16f)])[_0x506586(0x276)](_0x506586(0x3cd));}}else _0x4a2afd['WyckE'](_0x49f9f5);}),it(_0x2e9ea4[_0x1768fe(0x36a)],async()=>{const _0x1576ba=_0x1768fe,_0x513400={'zCwBN':'updateClock();','smLNv':_0x1576ba(0x1d0)};_0x2e9ea4[_0x1576ba(0x340)](spyOn,_0x44cea3,_0x2e9ea4[_0x1576ba(0x3e3)])[_0x1576ba(0x17d)][_0x1576ba(0x3d0)](()=>{const _0x2a87ba=_0x1576ba;return setInterval(_0x513400[_0x2a87ba(0x2d2)],0x3e8),Promise[_0x2a87ba(0x320)]({'data':{'sub':_0x513400['smLNv'],'roles':['role1'],'groups':['group1']}});});const _0x429cae={'keycloak':{'config':{'auth-server-url':_0x2e9ea4[_0x1576ba(0x24b)],'realm':_0x1576ba(0x2ce)}}},_0x270a12={'id':_0x1576ba(0x1d0),'access_token':_0x1576ba(0x1d4),'roles':[_0x1576ba(0x1a8)],'groups':[_0x1576ba(0x165)]},{adapter:_0xc3f3f6,providerOptions:_0x5b0bc7}=authenticationLoader[_0x1576ba(0x3f5)](_0x1576ba(0x381),_0x429cae);await _0xc3f3f6[_0x1576ba(0x2ad)](_0x270a12,_0x5b0bc7),expect(_0x44cea3[_0x1576ba(0x183)])['toHaveBeenCalledWith']({'host':_0x1576ba(0x19c),'path':_0x2e9ea4[_0x1576ba(0x1b9)],'headers':{'Authorization':_0x2e9ea4[_0x1576ba(0x252)]}});});}),describe('apple\x20signin\x20auth\x20adapter',()=>{const _0xb61652=_0x1c0f08,_0x5300b4={'VufWZ':_0xb61652(0x2ff),'vJoIo':function(_0x30e4ed,_0x3006ee){return _0x30e4ed===_0x3006ee;},'TGExe':_0xb61652(0x191),'eZBqt':'PGiyU','UciyG':function(_0x12df00){return _0x12df00();},'kKjVv':_0xb61652(0x337),'SORJw':_0xb61652(0x1dc),'kFaUk':function(_0x2d466b,_0x4356a2){return _0x2d466b(_0x4356a2);},'qSjfP':_0xb61652(0x2de),'cEjfp':_0xb61652(0x22a),'ihtXQ':function(_0x4ab124,_0x1feb68,_0x3cf6f1){return _0x4ab124(_0x1feb68,_0x3cf6f1);},'RWgVF':_0xb61652(0x316),'WVUkz':_0xb61652(0x3b4),'wfDcU':_0xb61652(0x1d9),'pGfIe':'the_rsa_public_key','Jflly':_0xb61652(0x1c0),'XjqxN':function(_0x1755ea,_0x5e37a8){return _0x1755ea(_0x5e37a8);},'wVHWV':function(_0x2b6ca7){return _0x2b6ca7();},'UvBpv':_0xb61652(0x1a9),'YhuGt':function(_0x1e892a){return _0x1e892a();},'zkkqx':function(_0x38c214,_0x3252db){return _0x38c214(_0x3252db);},'yXMMR':function(_0x530345,_0x3b0d70,_0x460fc2){return _0x530345(_0x3b0d70,_0x460fc2);},'HPdSh':function(_0x41de92,_0x5aeeb9,_0x39b93f){return _0x41de92(_0x5aeeb9,_0x39b93f);},'TdKAp':_0xb61652(0x1fa),'foAji':_0xb61652(0x239),'bNTms':function(_0x3b6b9d,_0x137eac,_0x3ce7bd){return _0x3b6b9d(_0x137eac,_0x3ce7bd);},'wuRTZ':_0xb61652(0x21d),'JFKxk':function(_0x56e177){return _0x56e177();},'Mbkcm':function(_0x247ef3,_0x23e308,_0x2cbc67){return _0x247ef3(_0x23e308,_0x2cbc67);},'bKJJq':_0xb61652(0x2eb),'pfUnH':'INSERT\x20CLIENT\x20ID\x20HERE','GInEN':_0xb61652(0x2c1),'Mgyhk':'updateClock();','KMPjA':_0xb61652(0x1a8),'qNqBk':_0xb61652(0x165),'HZYqy':_0xb61652(0x20d),'JVGLY':'return\x20await\x20Promise.resolve(42);','kItCy':'INSERT\x20ID\x20HERE','nrvlU':_0xb61652(0x32e),'EyupV':function(_0x66a275,_0x4c7cd8){return _0x66a275===_0x4c7cd8;},'alwix':function(_0x47a89e,_0xd1ec8){return _0x47a89e(_0xd1ec8);},'GLbqT':'jwt\x20audience\x20invalid.\x20expected:\x20secret','CEqha':function(_0x4976a2,_0x38f829){return _0x4976a2(_0x38f829);},'DIbbl':'invalid\x20user','bpvYB':_0xb61652(0x2d0),'GfUse':'invalid_client_id','QRyLu':'a_different_user_id','PqUfg':function(_0x272a63,_0x305658,_0x503c3a){return _0x272a63(_0x305658,_0x503c3a);},'lquEq':_0xb61652(0x2b9),'OFVuO':_0xb61652(0x180),'QaVSv':function(_0x4c17a3,_0x16057c,_0x20848f){return _0x4c17a3(_0x16057c,_0x20848f);},'erUHF':_0xb61652(0x34c),'mNmJT':function(_0x5f1e90,_0x34a220,_0x1f6995){return _0x5f1e90(_0x34a220,_0x1f6995);},'WyfDe':function(_0x451b5b,_0x21c89d,_0x2d926f){return _0x451b5b(_0x21c89d,_0x2d926f);},'yZCbV':'(using\x20client\x20id\x20as\x20array\x20with\x20multiple\x20items)\x20should\x20verify\x20id_token\x20(apple.com)','FPRzB':_0xb61652(0x303),'BvMYD':_0xb61652(0x1ac)},_0x4d7fad=require(_0xb61652(0x1c3)),_0x3cdd58=require('jsonwebtoken'),_0x51820c=_0x5300b4[_0xb61652(0x176)](require,'../lib/Adapters/Auth/utils');_0x5300b4[_0xb61652(0x1bb)](it,_0xb61652(0x405),async()=>{const _0x4ac1d5=_0xb61652,_0x1bc267={'xdsHu':function(_0x1125e7,_0x398232){return _0x1125e7(_0x398232);},'ZyURn':_0x5300b4['VufWZ']};try{_0x5300b4[_0x4ac1d5(0x2ac)](_0x5300b4['TGExe'],_0x5300b4[_0x4ac1d5(0x334)])?(_0x3eb7cb(_0x5b24c2)[_0x4ac1d5(0x38c)]['toBeUndefined'](),_0x1bc267[_0x4ac1d5(0x336)](_0x4da044,typeof _0xefd437[_0x4ac1d5(0x1a5)])['toBe'](_0x4ac1d5(0x2ff)),_0xae2944(typeof _0xd4c916[_0x4ac1d5(0x1a5)])[_0x4ac1d5(0x276)](_0x1bc267[_0x4ac1d5(0x209)])):(await _0x4d7fad[_0x4ac1d5(0x2ad)]({},{'clientId':'secret'}),_0x5300b4[_0x4ac1d5(0x363)](fail));}catch(_0x5bc3ab){_0x5300b4[_0x4ac1d5(0x2ac)](_0x4ac1d5(0x1b8),_0x5300b4[_0x4ac1d5(0x400)])?(_0x19603c(_0x451a3b),_0x47b1ec()):expect(_0x5bc3ab[_0x4ac1d5(0x16f)])[_0x4ac1d5(0x276)](_0x4ac1d5(0x1ff));}}),it(_0x5300b4[_0xb61652(0x263)],async()=>{const _0x35faa2=_0xb61652;try{await _0x4d7fad[_0x35faa2(0x2ad)]({},{'clientId':[_0x5300b4['SORJw']]}),fail();}catch(_0x5a1b04){_0x5300b4[_0x35faa2(0x2f1)](expect,_0x5a1b04['message'])[_0x35faa2(0x276)](_0x35faa2(0x1ff));}}),it(_0x5300b4[_0xb61652(0x1bf)],async()=>{const _0x46ef9f=_0xb61652;try{await _0x4d7fad[_0x46ef9f(0x2ad)]({'id':_0x5300b4['qSjfP'],'token':_0x46ef9f(0x3b4)},{'clientId':_0x5300b4[_0x46ef9f(0x319)]}),fail();}catch(_0x51b822){expect(_0x51b822[_0x46ef9f(0x16f)])['toBe'](_0x5300b4[_0x46ef9f(0x35f)]);}}),it(_0xb61652(0x1e7),async()=>{const _0x4b5680=_0xb61652,_0x2703d9={'header':{'kid':_0x4b5680(0x161),'alg':_0x4b5680(0x239)}};try{_0x5300b4[_0x4b5680(0x28c)](spyOn,_0x51820c,_0x5300b4[_0x4b5680(0x219)])[_0x4b5680(0x17d)]['callFake'](()=>_0x2703d9['header']),await _0x4d7fad[_0x4b5680(0x2ad)]({'id':_0x5300b4[_0x4b5680(0x358)],'token':_0x5300b4['WVUkz']},{'clientId':'secret'}),fail();}catch(_0x425626){_0x5300b4[_0x4b5680(0x2f1)](expect,_0x425626[_0x4b5680(0x16f)])[_0x4b5680(0x276)](_0x4b5680(0x408)+_0x2703d9[_0x4b5680(0x2a7)][_0x4b5680(0x292)]);}}),it(_0xb61652(0x2cf),async()=>{const _0x1e3792=_0xb61652,_0x508697={'iss':'https://appleid.apple.com','aud':_0x5300b4[_0x1e3792(0x319)],'exp':Date[_0x1e3792(0x205)](),'sub':_0x1e3792(0x2de)},_0x4ccf25={'header':{'kid':_0x5300b4[_0x1e3792(0x2a2)],'alg':_0x1e3792(0x239)}},_0x3c1168={'kid':_0x5300b4[_0x1e3792(0x2a2)],'rsaPublicKey':_0x5300b4[_0x1e3792(0x270)]};spyOn(_0x51820c,'getHeaderFromToken')[_0x1e3792(0x17d)][_0x1e3792(0x3d0)](()=>_0x4ccf25['header']),spyOn(_0x51820c,_0x5300b4[_0x1e3792(0x37e)])[_0x1e3792(0x17d)]['resolveTo'](_0x3c1168),spyOn(_0x3cdd58,_0x1e3792(0x1fa))[_0x1e3792(0x17d)][_0x1e3792(0x3d0)](()=>_0x508697);const _0x3c21f0=await _0x4d7fad[_0x1e3792(0x2ad)]({'id':_0x1e3792(0x2de),'token':_0x1e3792(0x3b4)},{'clientId':_0x5300b4[_0x1e3792(0x319)]});expect(_0x3c21f0)['toEqual'](_0x508697),_0x5300b4[_0x1e3792(0x176)](expect,_0x3cdd58[_0x1e3792(0x1fa)]['calls'][_0x1e3792(0x212)]()['args'][0x2][_0x1e3792(0x377)])['toEqual'](_0x4ccf25[_0x1e3792(0x2a7)][_0x1e3792(0x2f5)]);}),_0x5300b4[_0xb61652(0x1b7)](it,_0xb61652(0x3e7),async()=>{const _0x3b0a0e=_0xb61652,_0x492e71={'header':{'kid':_0x5300b4[_0x3b0a0e(0x2a2)],'alg':_0x3b0a0e(0x239)}},_0x739f95={'kid':_0x5300b4[_0x3b0a0e(0x2a2)],'rsaPublicKey':_0x3b0a0e(0x2cd)};spyOn(_0x51820c,_0x5300b4[_0x3b0a0e(0x219)])['and']['callFake'](()=>_0x492e71),spyOn(_0x51820c,_0x5300b4['Jflly'])[_0x3b0a0e(0x17d)]['resolveTo'](_0x739f95);try{await _0x4d7fad[_0x3b0a0e(0x2ad)]({'id':'the_user_id','token':_0x5300b4['WVUkz']},{'clientId':_0x5300b4[_0x3b0a0e(0x319)]}),_0x5300b4[_0x3b0a0e(0x25b)](fail);}catch(_0x28c19a){_0x5300b4[_0x3b0a0e(0x176)](expect,_0x28c19a[_0x3b0a0e(0x16f)])[_0x3b0a0e(0x276)](_0x5300b4[_0x3b0a0e(0x1de)]);}}),_0x5300b4[_0xb61652(0x34f)](it,_0x5300b4['erUHF'],async()=>{const _0x1462d0=_0xb61652;try{await _0x4d7fad[_0x1462d0(0x2ad)]({'id':'the_user_id','token':'the_token'},{'clientId':[_0x5300b4[_0x1462d0(0x319)]]}),_0x5300b4[_0x1462d0(0x339)](fail);}catch(_0x110cca){_0x5300b4['zkkqx'](expect,_0x110cca[_0x1462d0(0x16f)])['toBe'](_0x5300b4[_0x1462d0(0x35f)]);}}),_0x5300b4[_0xb61652(0x1b7)](it,_0xb61652(0x273),async()=>{const _0x189604=_0xb61652,_0x5b89d4={'iss':'https://appleid.apple.com','aud':_0x5300b4[_0x189604(0x319)],'exp':Date[_0x189604(0x205)](),'sub':_0x189604(0x2de)},_0x30493c={'header':{'kid':'123','alg':_0x189604(0x239)}},_0x5a5c48={'kid':_0x189604(0x1d9),'rsaPublicKey':_0x5300b4[_0x189604(0x270)]};_0x5300b4[_0x189604(0x1bb)](spyOn,_0x51820c,_0x189604(0x316))[_0x189604(0x17d)][_0x189604(0x3d0)](()=>_0x30493c),_0x5300b4['HPdSh'](spyOn,_0x51820c,_0x5300b4[_0x189604(0x37e)])[_0x189604(0x17d)][_0x189604(0x265)](_0x5a5c48),spyOn(_0x3cdd58,'verify')[_0x189604(0x17d)]['callFake'](()=>_0x5b89d4);const _0x38c2ee=await _0x4d7fad[_0x189604(0x2ad)]({'id':_0x189604(0x2de),'token':_0x189604(0x3b4)},{'clientId':_0x5300b4['SORJw']});_0x5300b4['XjqxN'](expect,_0x38c2ee)[_0x189604(0x351)](_0x5b89d4);}),_0x5300b4['mNmJT'](it,_0xb61652(0x2b8),async()=>{const _0x35bf59=_0xb61652,_0x72fcfd={'iss':_0x35bf59(0x189),'aud':'secret','exp':Date[_0x35bf59(0x205)](),'sub':'the_user_id'},_0x58af92={'header':{'kid':_0x5300b4['wfDcU'],'alg':_0x35bf59(0x239)}},_0x24ba51={'kid':_0x5300b4[_0x35bf59(0x2a2)],'rsaPublicKey':_0x35bf59(0x2cd)};spyOn(_0x51820c,_0x35bf59(0x316))['and'][_0x35bf59(0x3d0)](()=>_0x58af92),spyOn(_0x51820c,_0x35bf59(0x1c0))[_0x35bf59(0x17d)][_0x35bf59(0x265)](_0x24ba51),spyOn(_0x3cdd58,_0x5300b4[_0x35bf59(0x3df)])[_0x35bf59(0x17d)][_0x35bf59(0x3d0)](()=>_0x72fcfd);const _0x479a9c=await _0x4d7fad[_0x35bf59(0x2ad)]({'id':_0x5300b4[_0x35bf59(0x358)],'token':_0x5300b4['WVUkz']},{'clientId':['secret']});expect(_0x479a9c)[_0x35bf59(0x351)](_0x72fcfd);}),_0x5300b4['WyfDe'](it,_0x5300b4['yZCbV'],async()=>{const _0x5bea7b=_0xb61652,_0x132db6={'iss':'https://appleid.apple.com','aud':_0x5300b4[_0x5bea7b(0x319)],'exp':Date['now'](),'sub':_0x5bea7b(0x2de)},_0x65547c={'header':{'kid':_0x5300b4['wfDcU'],'alg':_0x5300b4[_0x5bea7b(0x393)]}},_0x523dad={'kid':_0x5bea7b(0x1d9),'rsaPublicKey':_0x5bea7b(0x2cd)};_0x5300b4[_0x5bea7b(0x34f)](spyOn,_0x51820c,_0x5300b4[_0x5bea7b(0x219)])[_0x5bea7b(0x17d)][_0x5bea7b(0x3d0)](()=>_0x65547c),spyOn(_0x51820c,_0x5300b4[_0x5bea7b(0x37e)])[_0x5bea7b(0x17d)][_0x5bea7b(0x265)](_0x523dad),spyOn(_0x3cdd58,'verify')[_0x5bea7b(0x17d)][_0x5bea7b(0x3d0)](()=>_0x132db6);const _0x3df59f=await _0x4d7fad[_0x5bea7b(0x2ad)]({'id':_0x5bea7b(0x2de),'token':_0x5bea7b(0x3b4)},{'clientId':[_0x5300b4[_0x5bea7b(0x319)],_0x5300b4['wuRTZ']]});expect(_0x3df59f)[_0x5bea7b(0x351)](_0x132db6);}),it(_0x5300b4[_0xb61652(0x25c)],async()=>{const _0x39b21d=_0xb61652,_0x3c30b2={'iss':_0x39b21d(0x2a4),'sub':_0x5300b4[_0x39b21d(0x358)]},_0x255be8={'header':{'kid':_0x39b21d(0x1d9),'alg':_0x39b21d(0x239)}},_0x160915={'kid':'123','rsaPublicKey':_0x5300b4[_0x39b21d(0x270)]};spyOn(_0x51820c,_0x39b21d(0x316))['and'][_0x39b21d(0x3d0)](()=>_0x255be8),spyOn(_0x51820c,'getSigningKey')[_0x39b21d(0x17d)][_0x39b21d(0x265)](_0x160915),spyOn(_0x3cdd58,_0x39b21d(0x1fa))[_0x39b21d(0x17d)][_0x39b21d(0x3d0)](()=>_0x3c30b2);try{await _0x4d7fad[_0x39b21d(0x2ad)]({'id':_0x39b21d(0x2de),'token':_0x5300b4['WVUkz']},{'clientId':_0x39b21d(0x1dc)}),_0x5300b4[_0x39b21d(0x2db)](fail);}catch(_0x37b986){_0x5300b4[_0x39b21d(0x176)](expect,_0x37b986[_0x39b21d(0x16f)])[_0x39b21d(0x276)](_0x39b21d(0x2c1));}}),_0x5300b4[_0xb61652(0x3dd)](xit,_0xb61652(0x3d1),async()=>{const _0x2816ea=_0xb61652,_0x31300a={'iss':_0x2816ea(0x2a4),'sub':_0x5300b4[_0x2816ea(0x358)]},_0x3bae1a={'header':{'kid':_0x5300b4[_0x2816ea(0x2a2)],'alg':_0x2816ea(0x239)}},_0xaeec01={'kid':_0x5300b4[_0x2816ea(0x2a2)],'rsaPublicKey':_0x5300b4[_0x2816ea(0x270)]};_0x5300b4[_0x2816ea(0x1bb)](spyOn,_0x51820c,_0x5300b4[_0x2816ea(0x219)])['and'][_0x2816ea(0x3d0)](()=>_0x3bae1a),spyOn(_0x51820c,_0x5300b4['Jflly'])[_0x2816ea(0x17d)][_0x2816ea(0x265)](_0xaeec01),_0x5300b4['Mbkcm'](spyOn,_0x3cdd58,_0x2816ea(0x1fa))[_0x2816ea(0x17d)][_0x2816ea(0x3d0)](()=>_0x31300a);try{await _0x4d7fad[_0x2816ea(0x2ad)]({'id':_0x2816ea(0x179),'token':_0x5300b4['bKJJq']},{'clientId':[_0x5300b4[_0x2816ea(0x330)]]}),fail();}catch(_0xceb437){_0x5300b4['XjqxN'](expect,_0xceb437[_0x2816ea(0x16f)])[_0x2816ea(0x276)](_0x5300b4[_0x2816ea(0x333)]);}}),it(_0x5300b4[_0xb61652(0x397)],async()=>{const _0x1e9114=_0xb61652,_0xe2ff66={'iss':_0x1e9114(0x2a4),'sub':_0x5300b4[_0x1e9114(0x358)]},_0x5b4161={'header':{'kid':_0x5300b4[_0x1e9114(0x2a2)],'alg':_0x1e9114(0x239)}},_0x3138ef={'kid':_0x5300b4['wfDcU'],'rsaPublicKey':_0x5300b4['pGfIe']};_0x5300b4[_0x1e9114(0x1bb)](spyOn,_0x51820c,_0x5300b4[_0x1e9114(0x219)])[_0x1e9114(0x17d)][_0x1e9114(0x3d0)](()=>_0x5b4161),spyOn(_0x51820c,'getSigningKey')[_0x1e9114(0x17d)][_0x1e9114(0x265)](_0x3138ef),_0x5300b4['ihtXQ'](spyOn,_0x3cdd58,_0x5300b4[_0x1e9114(0x3df)])['and'][_0x1e9114(0x3d0)](()=>_0xe2ff66);try{if(_0x1e9114(0x370)===_0x5300b4[_0x1e9114(0x3c2)])return _0x5300b4['HPdSh'](_0x475661,_0x5300b4[_0x1e9114(0x1e8)],0x3e8),_0x19dad3[_0x1e9114(0x320)]({'data':{'sub':_0x1e9114(0x1d0),'roles':[_0x5300b4[_0x1e9114(0x364)]],'groups':[_0x5300b4[_0x1e9114(0x31a)]]}});else await _0x4d7fad[_0x1e9114(0x2ad)]({'id':_0x1e9114(0x179),'token':_0x1e9114(0x2eb)},{'clientId':_0x1e9114(0x32a)}),fail();}catch(_0xa64a53){expect(_0xa64a53[_0x1e9114(0x16f)])['toBe'](_0x1e9114(0x2c1));}}),_0x5300b4[_0xb61652(0x172)](xit,_0xb61652(0x345),async()=>{const _0x375efb=_0xb61652;try{await _0x4d7fad[_0x375efb(0x2ad)]({'id':_0x5300b4[_0x375efb(0x293)],'token':_0x5300b4[_0x375efb(0x27e)]},{'clientId':_0x5300b4['SORJw']}),_0x5300b4[_0x375efb(0x2db)](fail);}catch(_0x3e46eb){if(_0x5300b4['EyupV'](_0x375efb(0x23c),_0x375efb(0x23c)))_0x5300b4['alwix'](expect,_0x3e46eb[_0x375efb(0x16f)])[_0x375efb(0x276)](_0x5300b4[_0x375efb(0x22f)]);else return new _0x388c61(_0x5300b4[_0x375efb(0x21b)])(),_0x39e29d[_0x375efb(0x18b)][_0x375efb(0x229)]();}}),xit(_0xb61652(0x1e6),async()=>{const _0x170170=_0xb61652;try{await _0x4d7fad['validateAuthData']({'id':_0x5300b4[_0x170170(0x293)],'token':_0x5300b4[_0x170170(0x27e)]},{'clientId':['secret']}),_0x5300b4[_0x170170(0x363)](fail);}catch(_0x6aa345){_0x5300b4[_0x170170(0x359)](expect,_0x6aa345['message'])[_0x170170(0x276)](_0x170170(0x23e));}}),_0x5300b4['HPdSh'](xit,_0xb61652(0x220),async()=>{const _0x50811b=_0xb61652;try{await _0x4d7fad[_0x50811b(0x2ad)]({'id':_0x5300b4['DIbbl'],'token':_0x50811b(0x32e)},{'clientId':_0x5300b4[_0x50811b(0x330)]}),fail();}catch(_0x4101ca){_0x5300b4[_0x50811b(0x176)](expect,_0x4101ca['message'])[_0x50811b(0x276)](_0x5300b4[_0x50811b(0x321)]);}}),it(_0xb61652(0x30e),async()=>{const _0x10be86=_0xb61652,_0x5b091d={'iss':_0x10be86(0x189),'aud':_0x5300b4[_0x10be86(0x410)],'sub':_0x5300b4[_0x10be86(0x227)]},_0x588fb3={'header':{'kid':_0x10be86(0x1d9),'alg':_0x10be86(0x239)}},_0x387873={'kid':_0x5300b4['wfDcU'],'rsaPublicKey':_0x5300b4[_0x10be86(0x270)]};spyOn(_0x51820c,_0x10be86(0x316))[_0x10be86(0x17d)][_0x10be86(0x3d0)](()=>_0x588fb3),_0x5300b4[_0x10be86(0x34f)](spyOn,_0x51820c,_0x5300b4['Jflly'])['and']['resolveTo'](_0x387873),_0x5300b4[_0x10be86(0x3dd)](spyOn,_0x3cdd58,_0x10be86(0x1fa))[_0x10be86(0x17d)][_0x10be86(0x3d0)](()=>_0x5b091d);try{await _0x4d7fad[_0x10be86(0x2ad)]({'id':_0x5300b4[_0x10be86(0x358)],'token':_0x5300b4[_0x10be86(0x1df)]},{'clientId':_0x5300b4[_0x10be86(0x319)]}),fail();}catch(_0x217e8d){_0x5300b4[_0x10be86(0x2f1)](expect,_0x217e8d[_0x10be86(0x16f)])[_0x10be86(0x276)](_0x5300b4[_0x10be86(0x321)]);}});}),describe(_0x1c0f08(0x184),()=>{const _0x59682a=_0x1c0f08,_0x25ce32={'PSmHe':_0x59682a(0x2c1),'EtvVh':function(_0x543f3c,_0x1e7fe2){return _0x543f3c(_0x1e7fe2);},'CspQS':_0x59682a(0x1d0),'ExWgr':'sometoken','RfMyS':'vfbOe','BYinl':_0x59682a(0x40d),'nBpqK':_0x59682a(0x36b)},_0xe61c08=require(_0x25ce32[_0x59682a(0x1d1)]);it(_0x25ce32[_0x59682a(0x37b)],async()=>{const _0x21f007=_0x59682a,_0x442707={'lDaep':function(_0x2f1366,_0x964141){return _0x2f1366(_0x964141);},'PRonJ':_0x25ce32['PSmHe']};await _0x25ce32['EtvVh'](reconfigureServer,{'auth':{'phantauth':{'enableInsecureAuth':!![]}}});const _0xefdddf={'id':_0x25ce32[_0x21f007(0x260)],'access_token':_0x25ce32[_0x21f007(0x295)]},{adapter:_0x2aa199}=authenticationLoader['loadAuthAdapter'](_0x21f007(0x3b5),{});spyOn(_0xe61c08,'get')[_0x21f007(0x17d)]['callFake'](()=>Promise[_0x21f007(0x320)]({'sub':_0x21f007(0x2be)}));try{_0x25ce32[_0x21f007(0x369)]!==_0x21f007(0x2a0)?_0x442707[_0x21f007(0x1d7)](_0x58e6df,_0xf2bb96[_0x21f007(0x16f)])[_0x21f007(0x276)](_0x442707[_0x21f007(0x1f8)]):(await _0x2aa199['validateAuthData'](_0xefdddf),fail());}catch(_0x405396){expect(_0x405396['message'])[_0x21f007(0x276)](_0x21f007(0x346));}});}),describe(_0x1c0f08(0x281),()=>{const _0x386051=_0x1c0f08,_0x139bf0={'uIUPH':function(_0x1cccc9){return _0x1cccc9();},'AWLqc':function(_0x56d488,_0xfaf7db){return _0x56d488===_0xfaf7db;},'MIYyN':_0x386051(0x3b6),'vzPvG':function(_0x3ea456,_0x1baed6){return _0x3ea456(_0x1baed6);},'gyAjY':_0x386051(0x255),'ImhJD':'secret','jFVHA':function(_0x117b99,_0x2ef285){return _0x117b99(_0x2ef285);},'JZBxv':'the_token','nqMXX':_0x386051(0x22a),'DyNKk':_0x386051(0x161),'rebCA':'getHeaderFromToken','RiNfq':_0x386051(0x2de),'mNloF':_0x386051(0x1d9),'vKyMk':_0x386051(0x2cd),'CwxOq':function(_0xe09cde,_0xbd07d7,_0x44aac4){return _0xe09cde(_0xbd07d7,_0x44aac4);},'Vgsgr':function(_0x5f4f85,_0x25018d){return _0x5f4f85(_0x25018d);},'QlJSG':_0x386051(0x2d0),'ocPBX':_0x386051(0x3aa),'UjSqb':'wayAA','BMaLa':_0x386051(0x239),'mRSzc':function(_0x334495,_0x5635d4,_0x1575fc){return _0x334495(_0x5635d4,_0x1575fc);},'ssnlJ':_0x386051(0x1c0),'OtTGb':function(_0x1ce55b,_0x34a4fb){return _0x1ce55b(_0x34a4fb);},'ozazV':'jwt\x20malformed','EkmmU':_0x386051(0x2c1),'tZcXq':'kDXIw','msARe':_0x386051(0x3a7),'KYRcX':function(_0x55e8df,_0x51f6f6,_0x126615){return _0x55e8df(_0x51f6f6,_0x126615);},'GVlQL':_0x386051(0x1fa),'FLvtX':_0x386051(0x1fb),'LhlZG':_0x386051(0x1ec),'NLljr':function(_0x304c7e,_0xad5a5b,_0x4c7bb1){return _0x304c7e(_0xad5a5b,_0x4c7bb1);},'RmKAK':function(_0x5ce937,_0x29a79e){return _0x5ce937!==_0x29a79e;},'zgliq':_0x386051(0x18c),'PSDPu':'INSERT\x20FACEBOOK\x20TOKEN\x20HERE\x20WITH\x20INVALID\x20JWT\x20ISSUER','elpVA':function(_0x3ac461){return _0x3ac461();},'SVhVh':_0x386051(0x40a),'ZfnrQ':_0x386051(0x164),'fuSZW':_0x386051(0x179),'dxDQa':_0x386051(0x236),'nWrLi':function(_0x4d5c8a){return _0x4d5c8a();},'Gnhmw':function(_0x58fe50,_0x5051f1){return _0x58fe50(_0x5051f1);},'cBOiD':_0x386051(0x23e),'uWeri':function(_0x5094c3,_0x3e37eb){return _0x5094c3+_0x3e37eb;},'JAhCc':function(_0x1cc89e,_0x4e3056){return _0x1cc89e*_0x4e3056;},'NgccF':_0x386051(0x268),'OxOwU':function(_0x56bfdf,_0x10d883,_0x217760){return _0x56bfdf(_0x10d883,_0x217760);},'mqjYY':_0x386051(0x3b9),'YXhQp':_0x386051(0x3c1),'xkXfP':function(_0x3ff84a,_0x2371e6){return _0x3ff84a(_0x2371e6);},'GsWcp':_0x386051(0x1fd),'dvaaZ':_0x386051(0x405),'PxrXL':function(_0x426a80,_0x4b38a8,_0x298065){return _0x426a80(_0x4b38a8,_0x298065);},'wgKJp':_0x386051(0x2b9),'cRvIE':'should\x20not\x20decode\x20invalid\x20id_token','SYnVR':function(_0x498049,_0xad2e4d,_0x5088b9){return _0x498049(_0xad2e4d,_0x5088b9);},'ywZau':'should\x20use\x20algorithm\x20from\x20key\x20header\x20to\x20verify\x20id_token\x20(facebook.com)','NguMv':_0x386051(0x3e7),'FVlgI':_0x386051(0x34c),'gdhRr':_0x386051(0x324),'jTaIG':'using\x20client\x20id\x20as\x20string)\x20should\x20verify\x20id_token\x20(facebook.com)','QRkrM':'c521a272-2ac2-4d8b-b5ed-ea250336d8b1','WjoDl':_0x386051(0x1e3),'nEkaw':_0x386051(0x2b3),'HYcNj':function(_0x361c7d,_0x61a5a8,_0x33a3ae){return _0x361c7d(_0x61a5a8,_0x33a3ae);},'LRzib':_0x386051(0x1e6),'NcGCK':_0x386051(0x3ce)},_0x83a1a7=_0x139bf0[_0x386051(0x26d)](require,'../lib/Adapters/Auth/facebook'),_0x3f831e=_0x139bf0['Vgsgr'](require,_0x386051(0x20f)),_0x5c848f=require(_0x139bf0[_0x386051(0x1d5)]);_0x139bf0[_0x386051(0x1ed)](xit,_0x139bf0[_0x386051(0x2c3)],async()=>{const _0x10b443=_0x386051;try{await _0x83a1a7[_0x10b443(0x2ad)]({},{'clientId':'secret'}),_0x139bf0[_0x10b443(0x2b0)](fail);}catch(_0x1a07fe){if(_0x139bf0[_0x10b443(0x395)](_0x10b443(0x27f),_0x139bf0[_0x10b443(0x3b8)])){_0x314c5c&&_0x53f725(_0x157b83);throw _0x1487d5;}else _0x139bf0['vzPvG'](expect,_0x1a07fe[_0x10b443(0x16f)])[_0x10b443(0x276)](_0x139bf0[_0x10b443(0x341)]);}}),_0x139bf0['PxrXL'](xit,_0x139bf0[_0x386051(0x16a)],async()=>{const _0x536e68=_0x386051;try{await _0x83a1a7['validateAuthData']({},{'clientId':[_0x139bf0[_0x536e68(0x275)]]}),fail();}catch(_0x1b1477){_0x139bf0['jFVHA'](expect,_0x1b1477[_0x536e68(0x16f)])[_0x536e68(0x276)](_0x139bf0[_0x536e68(0x341)]);}}),it(_0x139bf0[_0x386051(0x3e4)],async()=>{const _0x15a0e9=_0x386051;try{await _0x83a1a7[_0x15a0e9(0x2ad)]({'id':_0x15a0e9(0x2de),'token':_0x139bf0[_0x15a0e9(0x372)]},{'clientId':_0x139bf0['ImhJD']}),fail();}catch(_0x5e3ae6){_0x139bf0[_0x15a0e9(0x2a6)](expect,_0x5e3ae6['message'])['toBe'](_0x139bf0['nqMXX']);}}),_0x139bf0[_0x386051(0x343)](it,_0x386051(0x1e7),async()=>{const _0x53c1e0=_0x386051,_0x110457={'header':{'kid':_0x139bf0[_0x53c1e0(0x288)],'alg':_0x53c1e0(0x239)}};try{spyOn(_0x5c848f,_0x139bf0[_0x53c1e0(0x188)])[_0x53c1e0(0x17d)][_0x53c1e0(0x3d0)](()=>_0x110457[_0x53c1e0(0x2a7)]),await _0x83a1a7[_0x53c1e0(0x2ad)]({'id':'the_user_id','token':_0x139bf0[_0x53c1e0(0x372)]},{'clientId':_0x139bf0[_0x53c1e0(0x275)]}),fail();}catch(_0x452153){_0x139bf0['jFVHA'](expect,_0x452153[_0x53c1e0(0x16f)])[_0x53c1e0(0x276)](_0x53c1e0(0x408)+_0x110457[_0x53c1e0(0x2a7)][_0x53c1e0(0x292)]);}}),_0x139bf0[_0x386051(0x317)](it_id,_0x386051(0x31d))(it)(_0x139bf0[_0x386051(0x35e)],async()=>{const _0x4ad228=_0x386051,_0x4ff96c={'iss':_0x4ad228(0x3a7),'aud':_0x139bf0[_0x4ad228(0x275)],'exp':Date['now'](),'sub':_0x139bf0['RiNfq']},_0x21e9aa={'header':{'kid':_0x139bf0[_0x4ad228(0x190)],'alg':'RS256'}},_0x2b3b1a={'kid':_0x139bf0[_0x4ad228(0x190)],'rsaPublicKey':_0x139bf0[_0x4ad228(0x24f)]};spyOn(_0x5c848f,_0x139bf0[_0x4ad228(0x188)])[_0x4ad228(0x17d)][_0x4ad228(0x3d0)](()=>_0x21e9aa[_0x4ad228(0x2a7)]),_0x139bf0[_0x4ad228(0x2f7)](spyOn,_0x5c848f,_0x4ad228(0x1c0))[_0x4ad228(0x17d)][_0x4ad228(0x265)](_0x2b3b1a),spyOn(_0x3f831e,'verify')[_0x4ad228(0x17d)]['callFake'](()=>_0x4ff96c);const _0x33f64c=await _0x83a1a7['validateAuthData']({'id':_0x139bf0[_0x4ad228(0x1bd)],'token':_0x139bf0[_0x4ad228(0x372)]},{'clientId':_0x139bf0[_0x4ad228(0x275)]});_0x139bf0[_0x4ad228(0x3d6)](expect,_0x33f64c)['toEqual'](_0x4ff96c),_0x139bf0['Vgsgr'](expect,_0x3f831e['verify'][_0x4ad228(0x2d4)][_0x4ad228(0x212)]()['args'][0x2][_0x4ad228(0x377)])[_0x4ad228(0x351)](_0x21e9aa[_0x4ad228(0x2a7)]['alg']);}),it(_0x139bf0['NguMv'],async()=>{const _0x119d7d=_0x386051;if(_0x139bf0['ocPBX']===_0x139bf0[_0x119d7d(0x247)])_0x468fd8(_0x25b6a7['message'])[_0x119d7d(0x276)](_0x139bf0[_0x119d7d(0x3f6)]);else{const _0xa1404b={'header':{'kid':_0x139bf0['mNloF'],'alg':_0x139bf0[_0x119d7d(0x290)]}},_0x330804={'kid':'123','rsaPublicKey':'the_rsa_public_key'};_0x139bf0[_0x119d7d(0x302)](spyOn,_0x5c848f,_0x139bf0[_0x119d7d(0x188)])[_0x119d7d(0x17d)]['callFake'](()=>_0xa1404b),spyOn(_0x5c848f,_0x139bf0[_0x119d7d(0x1a7)])[_0x119d7d(0x17d)][_0x119d7d(0x265)](_0x330804);try{await _0x83a1a7[_0x119d7d(0x2ad)]({'id':_0x139bf0[_0x119d7d(0x1bd)],'token':_0x139bf0['JZBxv']},{'clientId':_0x119d7d(0x1dc)}),fail();}catch(_0x51885f){_0x139bf0[_0x119d7d(0x28b)](expect,_0x51885f['message'])[_0x119d7d(0x276)](_0x139bf0[_0x119d7d(0x199)]);}}}),it(_0x139bf0[_0x386051(0x2af)],async()=>{const _0x1b4faa=_0x386051;try{await _0x83a1a7[_0x1b4faa(0x2ad)]({'id':_0x139bf0[_0x1b4faa(0x1bd)],'token':_0x139bf0[_0x1b4faa(0x372)]},{'clientId':['secret']}),fail();}catch(_0x412e7b){_0x139bf0[_0x1b4faa(0x317)](expect,_0x412e7b[_0x1b4faa(0x16f)])[_0x1b4faa(0x276)](_0x139bf0['nqMXX']);}}),_0x139bf0['vzPvG'](it_id,_0x139bf0[_0x386051(0x24e)])(it)(_0x139bf0['jTaIG'],async()=>{const _0x54ac64=_0x386051,_0x5ad97e={'iss':'https://www.facebook.com','aud':_0x54ac64(0x1dc),'exp':Date[_0x54ac64(0x205)](),'sub':'the_user_id'},_0x491d5a={'header':{'kid':_0x54ac64(0x1d9),'alg':_0x139bf0['BMaLa']}},_0x59e047={'kid':_0x54ac64(0x1d9),'rsaPublicKey':_0x54ac64(0x2cd)};spyOn(_0x5c848f,_0x139bf0['rebCA'])[_0x54ac64(0x17d)][_0x54ac64(0x3d0)](()=>_0x491d5a),spyOn(_0x5c848f,_0x139bf0[_0x54ac64(0x1a7)])[_0x54ac64(0x17d)][_0x54ac64(0x265)](_0x59e047),spyOn(_0x3f831e,_0x54ac64(0x1fa))[_0x54ac64(0x17d)][_0x54ac64(0x3d0)](()=>_0x5ad97e);const _0x1c504a=await _0x83a1a7['validateAuthData']({'id':_0x54ac64(0x2de),'token':_0x54ac64(0x3b4)},{'clientId':_0x54ac64(0x1dc)});expect(_0x1c504a)[_0x54ac64(0x351)](_0x5ad97e);}),it_id(_0x139bf0[_0x386051(0x3ab)])(it)(_0x139bf0[_0x386051(0x3ed)],async()=>{const _0x1307fd=_0x386051;if(_0x139bf0[_0x1307fd(0x1d3)]!==_0x1307fd(0x1f2))_0x139bf0[_0x1307fd(0x3d6)](_0x2390bb,_0x7f96bd['message'])['toBe'](_0x139bf0['EkmmU']);else{const _0xf6cba7={'iss':_0x139bf0[_0x1307fd(0x2d8)],'aud':_0x139bf0[_0x1307fd(0x275)],'exp':Date[_0x1307fd(0x205)](),'sub':_0x139bf0[_0x1307fd(0x1bd)]},_0x58eab9={'header':{'kid':_0x139bf0['mNloF'],'alg':_0x139bf0[_0x1307fd(0x290)]}},_0x14bf2c={'kid':_0x1307fd(0x1d9),'rsaPublicKey':_0x139bf0[_0x1307fd(0x24f)]};spyOn(_0x5c848f,_0x1307fd(0x316))[_0x1307fd(0x17d)][_0x1307fd(0x3d0)](()=>_0x58eab9),spyOn(_0x5c848f,_0x139bf0[_0x1307fd(0x1a7)])[_0x1307fd(0x17d)][_0x1307fd(0x265)](_0x14bf2c),spyOn(_0x3f831e,_0x1307fd(0x1fa))[_0x1307fd(0x17d)][_0x1307fd(0x3d0)](()=>_0xf6cba7);const _0x42363d=await _0x83a1a7[_0x1307fd(0x2ad)]({'id':_0x1307fd(0x2de),'token':_0x139bf0[_0x1307fd(0x372)]},{'clientId':['secret']});expect(_0x42363d)['toEqual'](_0xf6cba7);}}),_0x139bf0[_0x386051(0x28b)](it_id,_0x386051(0x325))(it)(_0x139bf0[_0x386051(0x19f)],async()=>{const _0xc1db0e=_0x386051,_0x87f20c={'iss':'https://www.facebook.com','aud':_0x139bf0[_0xc1db0e(0x275)],'exp':Date[_0xc1db0e(0x205)](),'sub':_0xc1db0e(0x2de)},_0x232d91={'header':{'kid':_0x139bf0[_0xc1db0e(0x190)],'alg':_0x139bf0[_0xc1db0e(0x290)]}},_0x52f5e4={'kid':_0x139bf0[_0xc1db0e(0x190)],'rsaPublicKey':'the_rsa_public_key'};spyOn(_0x5c848f,_0x139bf0[_0xc1db0e(0x188)])[_0xc1db0e(0x17d)][_0xc1db0e(0x3d0)](()=>_0x232d91),_0x139bf0[_0xc1db0e(0x302)](spyOn,_0x5c848f,_0x139bf0[_0xc1db0e(0x1a7)])['and'][_0xc1db0e(0x265)](_0x52f5e4),_0x139bf0[_0xc1db0e(0x304)](spyOn,_0x3f831e,'verify')[_0xc1db0e(0x17d)][_0xc1db0e(0x3d0)](()=>_0x87f20c);const _0x1988fa=await _0x83a1a7[_0xc1db0e(0x2ad)]({'id':_0x139bf0[_0xc1db0e(0x1bd)],'token':'the_token'},{'clientId':[_0x139bf0['ImhJD'],_0xc1db0e(0x21d)]});expect(_0x1988fa)[_0xc1db0e(0x351)](_0x87f20c);}),_0x139bf0[_0x386051(0x20e)](it_id,_0x386051(0x210))(it)(_0x386051(0x409),async()=>{const _0x2bf574=_0x386051,_0x222c14={'iss':_0x2bf574(0x1ec),'sub':_0x2bf574(0x2de)},_0x257035={'header':{'kid':_0x2bf574(0x1d9),'alg':_0x2bf574(0x239)}},_0x14653c={'kid':_0x139bf0[_0x2bf574(0x190)],'rsaPublicKey':_0x2bf574(0x2cd)};spyOn(_0x5c848f,_0x139bf0[_0x2bf574(0x188)])[_0x2bf574(0x17d)][_0x2bf574(0x3d0)](()=>_0x257035),_0x139bf0[_0x2bf574(0x302)](spyOn,_0x5c848f,'getSigningKey')[_0x2bf574(0x17d)][_0x2bf574(0x265)](_0x14653c),spyOn(_0x3f831e,_0x139bf0[_0x2bf574(0x246)])['and'][_0x2bf574(0x3d0)](()=>_0x222c14);try{await _0x83a1a7[_0x2bf574(0x2ad)]({'id':_0x139bf0[_0x2bf574(0x1bd)],'token':_0x139bf0['JZBxv']},{'clientId':_0x139bf0[_0x2bf574(0x275)]}),_0x139bf0[_0x2bf574(0x2b0)](fail);}catch(_0x21d922){expect(_0x21d922[_0x2bf574(0x16f)])[_0x2bf574(0x276)](_0x139bf0[_0x2bf574(0x1f1)]);}}),xit(_0x386051(0x3d1),async()=>{const _0x2fa8b1=_0x386051,_0x57c305={'iss':_0x139bf0[_0x2fa8b1(0x2c9)],'sub':'the_user_id'},_0x402538={'header':{'kid':_0x2fa8b1(0x1d9),'alg':_0x139bf0[_0x2fa8b1(0x290)]}},_0x279fea={'kid':_0x139bf0[_0x2fa8b1(0x190)],'rsaPublicKey':_0x2fa8b1(0x2cd)};_0x139bf0[_0x2fa8b1(0x1ed)](spyOn,_0x5c848f,_0x2fa8b1(0x316))[_0x2fa8b1(0x17d)][_0x2fa8b1(0x3d0)](()=>_0x402538),spyOn(_0x5c848f,'getSigningKey')[_0x2fa8b1(0x17d)][_0x2fa8b1(0x265)](_0x279fea),spyOn(_0x3f831e,_0x2fa8b1(0x1fa))[_0x2fa8b1(0x17d)][_0x2fa8b1(0x3d0)](()=>_0x57c305);try{_0x139bf0['RmKAK'](_0x2fa8b1(0x3a9),_0x139bf0['zgliq'])?(await _0x83a1a7[_0x2fa8b1(0x2ad)]({'id':'INSERT\x20ID\x20HERE','token':_0x139bf0['PSDPu']},{'clientId':[_0x2fa8b1(0x32a)]}),_0x139bf0[_0x2fa8b1(0x2bd)](fail)):_0x55fd89[_0x2fa8b1(0x329)](this,null);}catch(_0xf02184){expect(_0xf02184['message'])[_0x2fa8b1(0x276)](_0x139bf0['FLvtX']);}}),_0x139bf0[_0x386051(0x323)](it,_0x386051(0x298),async()=>{const _0xdc6366=_0x386051,_0x16c3e2={'fCmbN':function(_0xf552fa,_0x2e6a9a){return _0xf552fa(_0x2e6a9a);},'Ixszs':_0xdc6366(0x29b)};if(_0x139bf0[_0xdc6366(0x1bc)]!==_0x139bf0[_0xdc6366(0x1b1)]){const _0x3b9b6c={'iss':_0x139bf0[_0xdc6366(0x2c9)],'sub':_0x139bf0[_0xdc6366(0x1bd)]},_0x465d35={'header':{'kid':_0x139bf0['mNloF'],'alg':_0x139bf0[_0xdc6366(0x290)]}},_0x3c6ccb={'kid':_0xdc6366(0x1d9),'rsaPublicKey':_0xdc6366(0x2cd)};_0x139bf0[_0xdc6366(0x304)](spyOn,_0x5c848f,_0xdc6366(0x316))[_0xdc6366(0x17d)][_0xdc6366(0x3d0)](()=>_0x465d35),spyOn(_0x5c848f,'getSigningKey')[_0xdc6366(0x17d)][_0xdc6366(0x265)](_0x3c6ccb),_0x139bf0[_0xdc6366(0x304)](spyOn,_0x3f831e,_0xdc6366(0x1fa))[_0xdc6366(0x17d)]['callFake'](()=>_0x3b9b6c);try{await _0x83a1a7['validateAuthData']({'id':_0x139bf0[_0xdc6366(0x22e)],'token':_0x139bf0[_0xdc6366(0x15e)]},{'clientId':'INSERT\x20CLIENT\x20ID\x20HERE'}),fail();}catch(_0x86ebb0){expect(_0x86ebb0[_0xdc6366(0x16f)])[_0xdc6366(0x276)](_0x139bf0[_0xdc6366(0x1f1)]);}}else return _0x16c3e2['fCmbN'](_0x36e3a4,_0x16c3e2[_0xdc6366(0x2fc)])(),_0xe4668d[_0xdc6366(0x320)]();}),xit(_0x386051(0x345),async()=>{const _0x1fb65b=_0x386051;try{await _0x83a1a7[_0x1fb65b(0x2ad)]({'id':_0x1fb65b(0x179),'token':_0x139bf0[_0x1fb65b(0x2f0)]},{'clientId':_0x139bf0['ImhJD']}),_0x139bf0['nWrLi'](fail);}catch(_0x5758c8){_0x139bf0[_0x1fb65b(0x20e)](expect,_0x5758c8[_0x1fb65b(0x16f)])[_0x1fb65b(0x276)](_0x139bf0[_0x1fb65b(0x382)]);}}),_0x139bf0[_0x386051(0x2f7)](xit,_0x139bf0[_0x386051(0x223)],async()=>{const _0x3a7931=_0x386051,_0x1cd8a1={'bLGTO':function(_0x381c8a,_0xb6e3af){const _0x9b2182=_0x4baf;return _0x139bf0[_0x9b2182(0x386)](_0x381c8a,_0xb6e3af);}};if('cirSx'===_0x3a7931(0x366))hawcqu[_0x3a7931(0x3f8)](0x1,0x1);else try{await _0x83a1a7[_0x3a7931(0x2ad)]({'id':_0x139bf0['fuSZW'],'token':_0x139bf0[_0x3a7931(0x2f0)]},{'clientId':[_0x139bf0[_0x3a7931(0x275)]]}),fail();}catch(_0x207c5a){_0x139bf0[_0x3a7931(0x28b)](expect,_0x207c5a[_0x3a7931(0x16f)])[_0x3a7931(0x276)](_0x139bf0[_0x3a7931(0x382)]);}}),xit('should\x20throw\x20error\x20with\x20invalid\x20user\x20id',async()=>{const _0x1719f8=_0x386051;try{await _0x83a1a7['validateAuthData']({'id':_0x1719f8(0x214),'token':_0x139bf0[_0x1719f8(0x2f0)]},{'clientId':'INSERT\x20CLIENT\x20ID\x20HERE'}),fail();}catch(_0x2eb8e5){_0x139bf0[_0x1719f8(0x20e)](expect,_0x2eb8e5['message'])[_0x1719f8(0x276)](_0x139bf0[_0x1719f8(0x3f6)]);}}),it_id(_0x139bf0[_0x386051(0x30a)])(it)(_0x386051(0x266),async()=>{const _0x4b1038=_0x386051,_0x360832={'CRvRm':function(_0x7380e9,_0x2a7556){const _0x1a77a2=_0x4baf;return _0x139bf0[_0x1a77a2(0x26e)](_0x7380e9,_0x2a7556);}},_0x2787c6={'iss':_0x139bf0['msARe'],'aud':_0x139bf0[_0x4b1038(0x1cf)],'sub':_0x4b1038(0x171)},_0x1ba478={'header':{'kid':_0x4b1038(0x1d9),'alg':_0x139bf0['BMaLa']}},_0x6ac559={'kid':_0x4b1038(0x1d9),'rsaPublicKey':_0x4b1038(0x2cd)};_0x139bf0['NLljr'](spyOn,_0x5c848f,_0x4b1038(0x316))[_0x4b1038(0x17d)][_0x4b1038(0x3d0)](()=>_0x1ba478),_0x139bf0[_0x4b1038(0x326)](spyOn,_0x5c848f,_0x139bf0[_0x4b1038(0x1a7)])[_0x4b1038(0x17d)]['resolveTo'](_0x6ac559),spyOn(_0x3f831e,_0x4b1038(0x1fa))[_0x4b1038(0x17d)][_0x4b1038(0x3d0)](()=>_0x2787c6);try{_0x139bf0['mqjYY']!==_0x139bf0[_0x4b1038(0x200)]?(await _0x83a1a7[_0x4b1038(0x2ad)]({'id':_0x139bf0[_0x4b1038(0x1bd)],'token':_0x139bf0[_0x4b1038(0x372)]},{'clientId':_0x139bf0[_0x4b1038(0x275)]}),_0x139bf0['nWrLi'](fail)):EHriAz[_0x4b1038(0x2e6)](_0x555df5['PI'],0x2);}catch(_0x1e52b9){_0x139bf0['Gnhmw'](expect,_0x1e52b9[_0x4b1038(0x16f)])[_0x4b1038(0x276)](_0x139bf0[_0x4b1038(0x3f6)]);}});}),describe(_0x1c0f08(0x1c6),()=>{const _0x449110=_0x1c0f08,_0x4e6d04={'QkSZv':function(_0x4d019b,_0x207976){return _0x4d019b(_0x207976);},'YUoag':_0x449110(0x1b5),'bAkDv':'password','afrSP':_0x449110(0x399),'NVEIx':function(_0x32d9dd,_0x40ec44){return _0x32d9dd(_0x40ec44);},'Ypebh':_0x449110(0x398),'HgPiS':_0x449110(0x15a),'YybnW':_0x449110(0x1d6),'sItfs':_0x449110(0x3a2),'EgMcK':_0x449110(0x1cb),'kiuGm':_0x449110(0x22a),'xVKcY':_0x449110(0x2c4),'CugrM':'GwbZd','NThXW':function(_0x2bb9c9,_0x39f7a1){return _0x2bb9c9(_0x39f7a1);},'DprDN':'authData','rVrlt':_0x449110(0x21c),'tKBNC':function(_0xed5373,_0x5bff43){return _0xed5373(_0x5bff43);},'eATvu':function(_0x362386,_0x46ca02){return _0x362386===_0x46ca02;},'zDJMo':_0x449110(0x38d),'MCDIh':function(_0x198b0e,_0x288601){return _0x198b0e(_0x288601);},'LVcbF':_0x449110(0x3e8),'uYlGM':'Missing\x20additional\x20authData\x20mfa','VevTd':_0x449110(0x27c),'GbnzP':'test','HHoHw':function(_0x379b31,_0x4833c9,_0x5518e2){return _0x379b31(_0x4833c9,_0x5518e2);},'dGxGN':_0x449110(0x3fe),'pfrXc':function(_0x262715,_0x259e23,_0x5debef){return _0x262715(_0x259e23,_0x5debef);},'SZVQe':function(_0x14986d,_0x1d29e6,_0x255707){return _0x14986d(_0x1d29e6,_0x255707);},'IWJBJ':_0x449110(0x28e)},_0x155f63={'Content-Type':_0x4e6d04['VevTd'],'X-Parse-Application-Id':_0x4e6d04['GbnzP'],'X-Parse-REST-API-Key':_0x449110(0x1c8)};beforeEach(async()=>{const _0x35af65=_0x449110;await _0x4e6d04[_0x35af65(0x347)](reconfigureServer,{'auth':{'mfa':{'enabled':!![],'options':[_0x35af65(0x3d5)],'algorithm':_0x4e6d04[_0x35af65(0x1aa)],'digits':0x6,'period':0x1e}}});}),_0x4e6d04[_0x449110(0x2c8)](it,_0x4e6d04[_0x449110(0x331)],async()=>{const _0x10fbf2=_0x449110,_0x4ad735=await Parse[_0x10fbf2(0x18b)][_0x10fbf2(0x3db)]('username',_0x4e6d04[_0x10fbf2(0x1f4)]),_0x482b2c=require(_0x10fbf2(0x15a)),_0x4c0e54=new _0x482b2c['Secret'](),_0x34627e=new _0x482b2c[(_0x10fbf2(0x3d5))]({'algorithm':_0x10fbf2(0x1b5),'digits':0x6,'period':0x1e,'secret':_0x4c0e54}),_0xf3a0f9=_0x34627e[_0x10fbf2(0x198)]();await _0x4ad735[_0x10fbf2(0x3f2)]({'authData':{'mfa':{'secret':_0x4c0e54['base32'],'token':_0xf3a0f9}}},{'sessionToken':_0x4ad735[_0x10fbf2(0x230)]()});const _0x47f193=_0x4ad735[_0x10fbf2(0x183)](_0x4e6d04['afrSP']);expect(_0x47f193['mfa'])[_0x10fbf2(0x3f9)](),_0x4e6d04[_0x10fbf2(0x347)](expect,_0x47f193[_0x10fbf2(0x300)][_0x10fbf2(0x19b)])[_0x10fbf2(0x3f9)](),_0x4e6d04[_0x10fbf2(0x2ae)](expect,_0x47f193[_0x10fbf2(0x300)]['recovery']['split'](',')[_0x10fbf2(0x3f1)])['toEqual'](0x2),await _0x4ad735[_0x10fbf2(0x29f)](),expect(_0x4ad735[_0x10fbf2(0x183)](_0x10fbf2(0x328))['mfa'])['toEqual']({'status':_0x10fbf2(0x3a2)});}),_0x4e6d04[_0x449110(0x2c8)](it,_0x449110(0x1dd),async()=>{const _0x16666f=_0x449110,_0x5f4ddc=await Parse['User'][_0x16666f(0x3db)](_0x4e6d04[_0x16666f(0x2a5)],_0x16666f(0x1c2)),_0xf5bad5=require(_0x4e6d04[_0x16666f(0x221)]),_0x31fd78=new _0xf5bad5['Secret'](),_0x235d74=new _0xf5bad5[(_0x16666f(0x3d5))]({'algorithm':_0x4e6d04[_0x16666f(0x1aa)],'digits':0x6,'period':0x1e,'secret':_0x31fd78}),_0x455f74=_0x235d74[_0x16666f(0x198)]();await _0x5f4ddc[_0x16666f(0x3f2)]({'authData':{'mfa':{'secret':_0x31fd78[_0x16666f(0x1c4)],'token':_0x455f74}}},{'sessionToken':_0x5f4ddc['getSessionToken']()});const _0x3951d1=await request({'headers':_0x155f63,'method':_0x4e6d04[_0x16666f(0x2aa)],'url':'http://localhost:8378/1/login','body':JSON[_0x16666f(0x1b4)]({'username':_0x4e6d04[_0x16666f(0x2a5)],'password':_0x4e6d04[_0x16666f(0x1f4)],'authData':{'mfa':{'token':_0x235d74[_0x16666f(0x198)]()}}})})[_0x16666f(0x3fd)](_0x31b0ed=>_0x31b0ed['data']);_0x4e6d04['QkSZv'](expect,_0x3951d1[_0x16666f(0x232)])['toEqual'](_0x5f4ddc['id']),expect(_0x3951d1[_0x16666f(0x25e)])[_0x16666f(0x3f9)](),expect(_0x3951d1[_0x16666f(0x328)])['toEqual']({'mfa':{'status':_0x4e6d04[_0x16666f(0x360)]}}),expect(Object[_0x16666f(0x1f6)](_0x3951d1)[_0x16666f(0x3e0)]())[_0x16666f(0x351)]([_0x16666f(0x232),_0x4e6d04[_0x16666f(0x2a5)],_0x16666f(0x2f6),_0x4e6d04[_0x16666f(0x3af)],'authData',_0x16666f(0x21e),_0x16666f(0x25e),_0x16666f(0x399)]['sort']());}),_0x4e6d04[_0x449110(0x371)](it,_0x449110(0x3b0),async()=>{const _0x21645d=_0x449110,_0x27f482={'AkhYE':function(_0x30be8f,_0x69c9d8){return _0x30be8f(_0x69c9d8);},'OhZAQ':_0x4e6d04[_0x21645d(0x22d)]};if(_0x4e6d04[_0x21645d(0x2c5)]!==_0x4e6d04[_0x21645d(0x38b)]){const _0x576f3d=await Parse[_0x21645d(0x18b)][_0x21645d(0x3db)](_0x4e6d04['Ypebh'],_0x4e6d04[_0x21645d(0x1f4)]),_0xabaddf=_0x4e6d04[_0x21645d(0x256)](require,_0x4e6d04[_0x21645d(0x221)]),_0x293a57=new _0xabaddf[(_0x21645d(0x218))](),_0x516f53=new _0xabaddf[(_0x21645d(0x3d5))]({'algorithm':'SHA1','digits':0x6,'period':0x1e,'secret':_0x293a57}),_0x2bd962=_0x516f53[_0x21645d(0x198)]();await _0x576f3d[_0x21645d(0x3f2)]({'authData':{'mfa':{'secret':_0x293a57[_0x21645d(0x1c4)],'token':_0x2bd962}}},{'sessionToken':_0x576f3d['getSessionToken']()});const _0x459afa=new _0xabaddf[(_0x21645d(0x218))](),_0xbd11fb=new _0xabaddf[(_0x21645d(0x3d5))]({'algorithm':_0x4e6d04[_0x21645d(0x1aa)],'digits':0x6,'period':0x1e,'secret':_0x459afa}),_0x380be8=_0xbd11fb[_0x21645d(0x198)]();await _0x576f3d[_0x21645d(0x3f2)]({'authData':{'mfa':{'secret':_0x459afa[_0x21645d(0x1c4)],'token':_0x380be8,'old':_0x516f53[_0x21645d(0x198)]()}}},{'sessionToken':_0x576f3d[_0x21645d(0x230)]()}),await _0x576f3d['fetch']({'useMasterKey':!![]}),expect(_0x576f3d['get'](_0x4e6d04[_0x21645d(0x29a)])[_0x21645d(0x300)][_0x21645d(0x1dc)])[_0x21645d(0x351)](_0x459afa[_0x21645d(0x1c4)]);}else _0x27f482[_0x21645d(0x177)](_0x249c12,_0x30f1f6[_0x21645d(0x16f)])[_0x21645d(0x276)](_0x27f482[_0x21645d(0x402)]);}),_0x4e6d04[_0x449110(0x404)](it,_0x4e6d04[_0x449110(0x163)],async()=>{const _0xfe451d=_0x449110;if(_0x4e6d04['eATvu'](_0x4e6d04[_0xfe451d(0x2fa)],_0xfe451d(0x262))){const _0x2bd16a={'facebook':{'appIds':['a','b'],'appSecret':_0xfe451d(0x1dc)}},{adapter:_0x43e518,appIds:_0x36a5ae,providerOptions:_0x4e4243}=_0xd3cfaf[_0xfe451d(0x3f5)](_0x4e6d04[_0xfe451d(0x2f2)],_0x2bd16a);_0x429353(_0x43e518),_0x4eadb3(_0x36a5ae)['toEqual'](['a','b']),_0x4e6d04[_0xfe451d(0x2d3)](_0x175940,_0x4e4243)[_0xfe451d(0x351)](_0x2bd16a['facebook']);}else{const _0x40217f=await Parse[_0xfe451d(0x18b)]['signUp'](_0xfe451d(0x398),_0x4e6d04[_0xfe451d(0x1f4)]),_0x35c3fd=_0x4e6d04[_0xfe451d(0x347)](require,_0x4e6d04[_0xfe451d(0x221)]),_0x5180b2=new _0x35c3fd[(_0xfe451d(0x218))](),_0x3d33ba=new _0x35c3fd['TOTP']({'algorithm':_0xfe451d(0x1b5),'digits':0x6,'period':0x1e,'secret':_0x5180b2}),_0x4aa288=_0x3d33ba['generate']();await _0x40217f[_0xfe451d(0x3f2)]({'authData':{'mfa':{'secret':_0x5180b2['base32'],'token':_0x4aa288}}},{'sessionToken':_0x40217f[_0xfe451d(0x230)]()});const _0x37b8f1=new _0x35c3fd[(_0xfe451d(0x218))](),_0x81feda=new _0x35c3fd[(_0xfe451d(0x3d5))]({'algorithm':_0x4e6d04[_0xfe451d(0x1aa)],'digits':0x6,'period':0x1e,'secret':_0x37b8f1}),_0x253a05=_0x81feda[_0xfe451d(0x198)]();await _0x4e6d04['MCDIh'](expectAsync,_0x40217f[_0xfe451d(0x3f2)]({'authData':{'mfa':{'secret':_0x37b8f1[_0xfe451d(0x1c4)],'token':_0x253a05,'old':_0xfe451d(0x1d9)}}},{'sessionToken':_0x40217f[_0xfe451d(0x230)]()}))[_0xfe451d(0x28f)](new Parse[(_0xfe451d(0x2ab))](Parse[_0xfe451d(0x2ab)][_0xfe451d(0x168)],_0x4e6d04[_0xfe451d(0x1a2)])),await _0x40217f[_0xfe451d(0x29f)]({'useMasterKey':!![]}),_0x4e6d04[_0xfe451d(0x2ae)](expect,_0x40217f[_0xfe451d(0x183)](_0xfe451d(0x328))['mfa']['secret'])[_0xfe451d(0x351)](_0x5180b2['base32']);}}),it(_0x449110(0x38f),async()=>{const _0xf423bc=_0x449110,_0x542d65=await Parse[_0xf423bc(0x18b)][_0xf423bc(0x3db)](_0x4e6d04[_0xf423bc(0x2a5)],_0x4e6d04[_0xf423bc(0x1f4)]),_0x53db39=require(_0x4e6d04[_0xf423bc(0x221)]),_0x467821=new _0x53db39[(_0xf423bc(0x218))](),_0x20c4d6=new _0x53db39[(_0xf423bc(0x3d5))]({'algorithm':_0xf423bc(0x1b5),'digits':0x6,'period':0x1e,'secret':_0x467821}),_0x2dd964=_0x20c4d6[_0xf423bc(0x198)]();await _0x542d65[_0xf423bc(0x3f2)]({'authData':{'mfa':{'secret':_0x467821[_0xf423bc(0x1c4)],'token':_0x2dd964}}},{'sessionToken':_0x542d65[_0xf423bc(0x230)]()}),await _0x4e6d04[_0xf423bc(0x347)](expectAsync,Parse[_0xf423bc(0x18b)][_0xf423bc(0x297)]('username',_0x4e6d04[_0xf423bc(0x1f4)]))[_0xf423bc(0x28f)](new Parse[(_0xf423bc(0x2ab))](Parse[_0xf423bc(0x2ab)]['OTHER_CAUSE'],_0x4e6d04[_0xf423bc(0x192)]));}),_0x4e6d04['pfrXc'](it,_0x449110(0x38e),async()=>{const _0x180d7b=_0x449110,_0x2c9855=await Parse[_0x180d7b(0x18b)][_0x180d7b(0x3db)](_0x180d7b(0x398),'password'),_0x23b00c=require('otpauth'),_0x537a1a=new _0x23b00c[(_0x180d7b(0x218))](),_0x45df47=new _0x23b00c[(_0x180d7b(0x3d5))]({'algorithm':_0x4e6d04[_0x180d7b(0x1aa)],'digits':0x6,'period':0x1e,'secret':_0x537a1a}),_0x3517f1=_0x45df47[_0x180d7b(0x198)]();await _0x2c9855['save']({'authData':{'mfa':{'secret':_0x537a1a[_0x180d7b(0x1c4)],'token':_0x3517f1}}},{'sessionToken':_0x2c9855[_0x180d7b(0x230)]()}),await expectAsync(request({'headers':_0x155f63,'method':_0x4e6d04[_0x180d7b(0x2aa)],'url':_0x180d7b(0x3a6),'body':JSON[_0x180d7b(0x1b4)]({'username':_0x4e6d04[_0x180d7b(0x2a5)],'password':_0x4e6d04['bAkDv'],'authData':{'mfa':{'token':'abcd'}}})})[_0x180d7b(0x3b2)](_0x4e95bb=>{const _0xa09581=_0x180d7b;throw _0x4e95bb[_0xa09581(0x3be)];}))[_0x180d7b(0x28f)]({'code':Parse[_0x180d7b(0x2ab)]['SCRIPT_FAILED'],'error':_0x4e6d04[_0x180d7b(0x1a2)]});});}),describe(_0x1c0f08(0x264),()=>{const _0xee3ac1=_0x1c0f08,_0xd8601a={'YIfcw':function(_0x426d09){return _0x426d09();},'ImgCp':'ivrVE','aCQNg':'hFpUh','exWuA':'0|4|3|1|2','SuTqC':function(_0x14a815,_0x419a06){return _0x14a815(_0x419a06);},'MZaWT':_0xee3ac1(0x398),'BjpVO':_0xee3ac1(0x17a),'joOjl':function(_0x5153ba,_0x6f158b){return _0x5153ba(_0x6f158b);},'HLXTL':'expiry','nJggg':_0xee3ac1(0x328),'cQsSs':_0xee3ac1(0x3a2),'xEBrG':_0xee3ac1(0x318),'MnMwK':function(_0x515240,_0x2dc11f){return _0x515240(_0x2dc11f);},'jYyFK':_0xee3ac1(0x1ab),'uIddO':'POST','lnOyt':_0xee3ac1(0x3a6),'ttnyZ':_0xee3ac1(0x35b),'UXENY':function(_0x44d725,_0x3d10ae){return _0x44d725(_0x3d10ae);},'WVUZa':'Please\x20enter\x20the\x20token','Hkhmw':function(_0x5caea9,_0x18ec72){return _0x5caea9(_0x18ec72);},'vNpcw':_0xee3ac1(0x1c2),'JiYLR':function(_0x1c7b1,_0x11930f){return _0x1c7b1(_0x11930f);},'PykNj':_0xee3ac1(0x232),'TikcO':_0xee3ac1(0x1cb),'wKYch':'sessionToken','EJvSR':_0xee3ac1(0x399),'VLRZq':function(_0x7a6ec3,_0x4a6e5c,_0x5d4214){return _0x7a6ec3(_0x4a6e5c,_0x5d4214);},'huomW':_0xee3ac1(0x277),'OuoAv':'rest','JJPUE':'SMS','VwJsT':function(_0x4626d8,_0x491d66,_0xe57aaf){return _0x4626d8(_0x491d66,_0xe57aaf);},'BfKbc':'can\x20enroll','yqzBt':_0xee3ac1(0x387)},_0x29c5b7={'Content-Type':_0xee3ac1(0x27c),'X-Parse-Application-Id':'test','X-Parse-REST-API-Key':_0xd8601a[_0xee3ac1(0x3b1)]};let _0x3e9a4c,_0x33b77b;const _0x2e1db5={'enabled':!![],'options':[_0xd8601a[_0xee3ac1(0x34a)]],'sendSMS'(_0x47cbb1,_0x12abc0){const _0x15547d=_0xee3ac1;if(_0xd8601a[_0x15547d(0x3eb)]===_0xd8601a['aCQNg'])_0x1dd2f2(_0x419f37)[_0x15547d(0x234)](),_0x1d9c23(_0x2366a6)[_0x15547d(0x38c)]['toHaveBeenCalled'](),_0xd8601a[_0x15547d(0x2e3)](_0x1d77ec);else{const _0x44816e=_0xd8601a[_0x15547d(0x26b)]['split']('|');let _0x452e57=0x0;while(!![]){switch(_0x44816e[_0x452e57++]){case'0':_0xd8601a[_0x15547d(0x24a)](expect,_0x47cbb1)[_0x15547d(0x3f9)]();continue;case'1':_0x3e9a4c=_0x47cbb1;continue;case'2':_0x33b77b=_0x12abc0;continue;case'3':expect(_0x47cbb1[_0x15547d(0x3f1)])[_0x15547d(0x351)](0x6);continue;case'4':expect(_0x12abc0)[_0x15547d(0x3f9)]();continue;}break;}}},'digits':0x6,'period':0x1e};beforeEach(async()=>{_0x3e9a4c='',_0x33b77b='',await reconfigureServer({'auth':{'mfa':_0x2e1db5}});}),_0xd8601a[_0xee3ac1(0x3ca)](it,_0xd8601a[_0xee3ac1(0x20a)],async()=>{const _0x6a3408=_0xee3ac1,_0x490d45=await Parse[_0x6a3408(0x18b)][_0x6a3408(0x3db)](_0xd8601a[_0x6a3408(0x375)],_0x6a3408(0x1c2)),_0x2df4ce=_0x490d45[_0x6a3408(0x230)](),_0x5b4e5e=spyOn(_0x2e1db5,_0x6a3408(0x277))[_0x6a3408(0x17d)][_0x6a3408(0x335)]();await _0x490d45[_0x6a3408(0x3f2)]({'authData':{'mfa':{'mobile':_0xd8601a[_0x6a3408(0x3da)]}}},{'sessionToken':_0x2df4ce}),await _0x490d45[_0x6a3408(0x29f)]({'sessionToken':_0x2df4ce}),_0xd8601a[_0x6a3408(0x29e)](expect,_0x490d45[_0x6a3408(0x183)]('authData'))[_0x6a3408(0x351)]({'mfa':{'status':'disabled'}}),expect(_0x5b4e5e)[_0x6a3408(0x249)](_0x3e9a4c,_0x6a3408(0x17a)),await _0x490d45[_0x6a3408(0x29f)]({'useMasterKey':!![]});const _0x476a84=_0x490d45['get']('authData')[_0x6a3408(0x300)]?.[_0x6a3408(0x222)];expect(_0x476a84)[_0x6a3408(0x3f9)](),_0xd8601a[_0x6a3408(0x24a)](expect,_0x476a84[_0xd8601a['BjpVO']])[_0x6a3408(0x3f9)](),expect(Object['keys'](_0x476a84[_0x6a3408(0x17a)]))[_0x6a3408(0x351)](['token',_0xd8601a['HLXTL']]),await _0x490d45[_0x6a3408(0x3f2)]({'authData':{'mfa':{'mobile':_0x33b77b,'token':_0x3e9a4c}}},{'sessionToken':_0x2df4ce}),await _0x490d45[_0x6a3408(0x29f)]({'sessionToken':_0x2df4ce}),_0xd8601a[_0x6a3408(0x29e)](expect,_0x490d45['get'](_0xd8601a['nJggg']))[_0x6a3408(0x351)]({'mfa':{'status':_0xd8601a[_0x6a3408(0x35d)]}});}),it(_0xd8601a[_0xee3ac1(0x2a1)],async()=>{const _0x17e8e3=_0xee3ac1;if(_0xd8601a['xEBrG']!==_0x17e8e3(0x318))_0x64f2d[_0x17e8e3(0x1ea)](this,this[_0x17e8e3(0x328)]);else{const _0x364959=await Parse[_0x17e8e3(0x18b)][_0x17e8e3(0x3db)](_0xd8601a[_0x17e8e3(0x375)],_0x17e8e3(0x1c2)),_0x779608=spyOn(_0x2e1db5,_0x17e8e3(0x277))['and']['callThrough']();await _0x364959[_0x17e8e3(0x3f2)]({'authData':{'mfa':{'mobile':_0xd8601a[_0x17e8e3(0x3da)]}}},{'sessionToken':_0x364959[_0x17e8e3(0x230)]()}),await _0x364959[_0x17e8e3(0x3f2)]({'authData':{'mfa':{'mobile':_0x33b77b,'token':_0x3e9a4c}}},{'sessionToken':_0x364959['getSessionToken']()}),_0x779608[_0x17e8e3(0x2d4)][_0x17e8e3(0x3f0)](),await _0xd8601a['MnMwK'](expectAsync,Parse['User'][_0x17e8e3(0x297)](_0xd8601a[_0x17e8e3(0x375)],_0x17e8e3(0x1c2)))[_0x17e8e3(0x28f)](new Parse[(_0x17e8e3(0x2ab))](Parse['Error'][_0x17e8e3(0x168)],_0xd8601a['jYyFK']));const _0x4d8dc1=await request({'headers':_0x29c5b7,'method':_0xd8601a[_0x17e8e3(0x350)],'url':_0xd8601a['lnOyt'],'body':JSON[_0x17e8e3(0x1b4)]({'username':_0x17e8e3(0x398),'password':_0x17e8e3(0x1c2),'authData':{'mfa':{'token':_0xd8601a[_0x17e8e3(0x3d3)]}}})})[_0x17e8e3(0x3b2)](_0x142fc1=>_0x142fc1[_0x17e8e3(0x3be)]);_0xd8601a[_0x17e8e3(0x2a8)](expect,_0x4d8dc1)[_0x17e8e3(0x351)]({'code':Parse['Error']['SCRIPT_FAILED'],'error':_0xd8601a['WVUZa']}),_0xd8601a[_0x17e8e3(0x39c)](expect,_0x779608)[_0x17e8e3(0x249)](_0x3e9a4c,_0x17e8e3(0x17a));const _0x34c846=await request({'headers':_0x29c5b7,'method':_0xd8601a[_0x17e8e3(0x350)],'url':_0x17e8e3(0x3a6),'body':JSON[_0x17e8e3(0x1b4)]({'username':_0x17e8e3(0x398),'password':_0xd8601a['vNpcw'],'authData':{'mfa':{'token':_0x3e9a4c}}})})[_0x17e8e3(0x3fd)](_0x5b23f4=>_0x5b23f4[_0x17e8e3(0x3be)]);_0xd8601a[_0x17e8e3(0x1ba)](expect,_0x34c846['objectId'])[_0x17e8e3(0x351)](_0x364959['id']),expect(_0x34c846[_0x17e8e3(0x25e)])[_0x17e8e3(0x3f9)](),expect(_0x34c846[_0x17e8e3(0x328)])[_0x17e8e3(0x351)]({'mfa':{'status':_0xd8601a[_0x17e8e3(0x35d)]}}),expect(Object[_0x17e8e3(0x1f6)](_0x34c846)['sort']())['toEqual']([_0xd8601a[_0x17e8e3(0x2c0)],_0x17e8e3(0x398),_0x17e8e3(0x2f6),_0xd8601a[_0x17e8e3(0x312)],_0xd8601a['nJggg'],'ACL',_0xd8601a['wKYch'],_0xd8601a[_0x17e8e3(0x352)]][_0x17e8e3(0x3e0)]());}}),it('partially\x20enrolled\x20users\x20can\x20still\x20login',async()=>{const _0x18e098=_0xee3ac1,_0x4fe03b=await Parse[_0x18e098(0x18b)]['signUp'](_0xd8601a['MZaWT'],_0x18e098(0x1c2));await _0x4fe03b[_0x18e098(0x3f2)]({'authData':{'mfa':{'mobile':'+11111111111'}}});const _0x270c79=_0xd8601a[_0x18e098(0x204)](spyOn,_0x2e1db5,_0xd8601a[_0x18e098(0x1c7)])[_0x18e098(0x17d)][_0x18e098(0x335)]();await Parse[_0x18e098(0x18b)][_0x18e098(0x297)](_0x18e098(0x398),_0xd8601a['vNpcw']),_0xd8601a[_0x18e098(0x1ba)](expect,_0x270c79)[_0x18e098(0x38c)][_0x18e098(0x234)]();});});