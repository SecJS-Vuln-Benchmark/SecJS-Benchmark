function _0x192e(_0x4e5182,_0x1b7703){const _0x690c88=_0x690c();return _0x192e=function(_0x192e75,_0x3bf9d6){_0x192e75=_0x192e75-0x189;let _0x543b12=_0x690c88[_0x192e75];return _0x543b12;},_0x192e(_0x4e5182,_0x1b7703);}const _0x320aac=_0x192e;function _0x690c(){const _0x5ea09c=['request','906381ukedRh','abort','cUQFK','aSTeD','59234jWLcsK','IwMKT','response','3MnkqNY','2954xZNEnn','post','lzsyf','13988AcbPzB','../logger','gyZwj','/meta','pause','https','6809YgHnce','Invalid\x20request\x20body\x20detected.\x20Exiting\x20url\x20meta\x20handler.','21696YiFKFF','uMaoD','http','companion','url','Invalid\x20request\x20body','status','maaWP','6303444oYbrda','statusCode','body','80BqDkQX','NkGBv','debug','/get','URL\x20file\x20import\x20handler\x20running','rVeaw','zpSQr','controller.url.download.error','error','srkiu','Invalid\x20request\x20body\x20detected.\x20Exiting\x20url\x20import\x20handler.','URL\x20server\x20responded\x20with\x20status:\x20','isURL','xqeye','GET','IxgmV','xUXYM','krJmD','hTDjE','vozrj','MCjky','controller.url.meta.error','14YRxsfp','../helpers/request','ZlnTi','kTAVW','uTSnK','23820eoktkE','UlvYZ','../helpers/upload','protocol','10wEdNOJ','json','380442sHnIri','SYYMt','221714TvIBAo','options','BSKOn'];_0x690c=function(){return _0x5ea09c;};return _0x690c();}(function(_0x474a0c,_0x50ad6a){const _0x4f9037=_0x192e,_0x4f6750=_0x474a0c();while(!![]){try{const _0x53e00c=-parseInt(_0x4f9037(0x1aa))/0x1*(parseInt(_0x4f9037(0x1b7))/0x2)+parseInt(_0x4f9037(0x1c2))/0x3*(-parseInt(_0x4f9037(0x191))/0x4)+parseInt(_0x4f9037(0x1b3))/0x5*(parseInt(_0x4f9037(0x1b5))/0x6)+-parseInt(_0x4f9037(0x1c3))/0x7*(parseInt(_0x4f9037(0x189))/0x8)+-parseInt(_0x4f9037(0x1bb))/0x9*(parseInt(_0x4f9037(0x194))/0xa)+parseInt(_0x4f9037(0x1cc))/0xb*(parseInt(_0x4f9037(0x1af))/0xc)+-parseInt(_0x4f9037(0x1c6))/0xd*(-parseInt(_0x4f9037(0x1bf))/0xe);if(_0x53e00c===_0x50ad6a)break;else _0x4f6750['push'](_0x4f6750['shift']());}catch(_0x4b874b){_0x4f6750['push'](_0x4f6750['shift']());}}}(_0x690c,0xcaa8a));const router=require('express')['Router'],request=require(_0x320aac(0x1ba)),{URL}=require('url'),validator=require('validator'),{startDownUpload}=require(_0x320aac(0x1b1)),{getURLMeta,getRedirectEvaluator,getProtectedHttpAgent}=require(_0x320aac(0x1ab)),logger=require(_0x320aac(0x1c7)),validateURL=(_0x299360,_0x419303)=>{const _0x4f83de=_0x320aac,_0x230653={'dsPur':_0x4f83de(0x19d),'BSKOn':_0x4f83de(0x1b0),'vozrj':_0x4f83de(0x18b),'krJmD':_0x4f83de(0x1cb)};if(!_0x299360)return _0x230653['dsPur']!==_0x230653[_0x4f83de(0x1b9)]?![]:(_0x501f66['debug']('Invalid\x20request\x20body\x20detected.\x20Exiting\x20url\x20meta\x20handler.',null,_0x2a94c1['id']),_0x224258[_0x4f83de(0x18f)](0x190)[_0x4f83de(0x1b4)]({'error':'Invalid\x20request\x20body'}));const _0x34e441={'protocols':[_0x230653[_0x4f83de(0x1a7)],_0x230653[_0x4f83de(0x1a5)]],'require_protocol':!![],'require_tld':!_0x419303};if(!validator[_0x4f83de(0x1a0)](_0x299360,_0x34e441))return![];return!![];},downloadURL=async(_0x5311c,_0x15ca65,_0x50715c)=>{const _0xf2dde=_0x320aac,_0x41cdee={'xqeye':function(_0x438099,_0x192359){return _0x438099>=_0x192359;},'maaWP':function(_0x327e98,_0x3fbf2d){return _0x327e98(_0x3fbf2d);},'aSTeD':function(_0x4c1971,_0x3f80b3){return _0x4c1971(_0x3f80b3);},'ypcib':_0xf2dde(0x19c),'AENLz':_0xf2dde(0x1a2),'uTSnK':function(_0x55f654,_0x24ba89,_0x48d24e){return _0x55f654(_0x24ba89,_0x48d24e);}},_0x1ce276={'uri':_0x5311c,'method':_0x41cdee['AENLz'],'followRedirect':_0x41cdee[_0xf2dde(0x1ae)](getRedirectEvaluator,_0x5311c,_0x15ca65),'agentClass':_0x41cdee[_0xf2dde(0x1ae)](getProtectedHttpAgent,new URL(_0x5311c)[_0xf2dde(0x1b2)],_0x15ca65)};return new Promise((_0x330949,_0x138108)=>{const _0x4312ab=_0xf2dde,_0x524b36={'ZlnTi':function(_0x3d035d,_0x142d3b){const _0x1505e6=_0x192e;return _0x41cdee[_0x1505e6(0x1be)](_0x3d035d,_0x142d3b);},'VlYSi':'controller.url.download.error'},_0x26a739=request(_0x1ce276)['on'](_0x4312ab(0x1c1),_0x23faed=>{const _0x5b498a=_0x4312ab;if(_0x41cdee[_0x5b498a(0x1a1)](_0x23faed[_0x5b498a(0x192)],0x12c)){_0x26a739[_0x5b498a(0x1bc)](),_0x41cdee[_0x5b498a(0x190)](_0x138108,new Error('URL\x20server\x20responded\x20with\x20status:\x20'+_0x23faed[_0x5b498a(0x192)]));return;}_0x23faed[_0x5b498a(0x1ca)](),_0x330949(_0x23faed);})['on'](_0x41cdee['ypcib'],_0xf6f530=>{const _0x476c26=_0x4312ab;if(_0x476c26(0x1a8)!==_0x476c26(0x1a8)){if(_0x46aa3e['statusCode']>=0x12c){_0x4d590c[_0x476c26(0x1bc)](),_0x524b36[_0x476c26(0x1ac)](_0x24ee8e,new _0x471875(_0x476c26(0x19f)+_0x113bc5[_0x476c26(0x192)]));return;}_0x358a86['pause'](),_0x21401a(_0x4eaea8);}else logger[_0x476c26(0x19c)](_0xf6f530,_0x524b36['VlYSi'],_0x50715c),_0x524b36[_0x476c26(0x1ac)](_0x138108,_0xf6f530);});});},meta=async(_0x50eccd,_0x26f480)=>{const _0x386567=_0x320aac,_0x7c4c12={'IxgmV':function(_0x15f6e5,_0x460038){return _0x15f6e5(_0x460038);},'zpSQr':_0x386567(0x19b),'kTAVW':_0x386567(0x1c1),'rVeaw':_0x386567(0x198),'lzsyf':function(_0x21ed4b,_0x215e03,_0x57ac84){return _0x21ed4b(_0x215e03,_0x57ac84);},'qojLB':function(_0x53ce44,_0x17cfbb){return _0x53ce44!==_0x17cfbb;},'Rkdpd':_0x386567(0x1cd),'hTDjE':_0x386567(0x18e),'nPiTG':_0x386567(0x1a9)};try{logger['debug'](_0x7c4c12[_0x386567(0x199)],null,_0x50eccd['id']);const {debug:_0x2e057a}=_0x50eccd[_0x386567(0x18c)][_0x386567(0x1b8)];if(!_0x7c4c12[_0x386567(0x1c5)](validateURL,_0x50eccd[_0x386567(0x193)][_0x386567(0x18d)],_0x2e057a)){if(_0x7c4c12['qojLB'](_0x386567(0x1c0),'IwMKT')){const _0x3e2b7b={'bvoFB':function(_0x1ca770,_0x47ac90){const _0x5a26ef=_0x386567;return _0x7c4c12[_0x5a26ef(0x1a3)](_0x1ca770,_0x47ac90);},'SYYMt':_0x7c4c12[_0x386567(0x19a)]},_0x209eb1=_0x7c4c12['IxgmV'](_0x47e37e,_0x349470)['on'](_0x7c4c12[_0x386567(0x1ad)],_0x222c38=>{const _0x550021=_0x386567;if(_0x222c38[_0x550021(0x192)]>=0x12c){_0x209eb1[_0x550021(0x1bc)](),_0xc568be(new _0x266ae1('URL\x20server\x20responded\x20with\x20status:\x20'+_0x222c38[_0x550021(0x192)]));return;}_0x222c38['pause'](),_0x3e2b7b['bvoFB'](_0x4d2135,_0x222c38);})['on']('error',_0x144e50=>{const _0x1586eb=_0x386567;_0x3b80e0['error'](_0x144e50,_0x3e2b7b[_0x1586eb(0x1b6)],_0x477f87),_0x5de201(_0x144e50);});}else return logger[_0x386567(0x196)](_0x7c4c12['Rkdpd'],null,_0x50eccd['id']),_0x26f480[_0x386567(0x18f)](0x190)[_0x386567(0x1b4)]({'error':_0x7c4c12[_0x386567(0x1a6)]});}const _0x1557f0=await getURLMeta(_0x50eccd[_0x386567(0x193)][_0x386567(0x18d)],!_0x2e057a);return _0x26f480['json'](_0x1557f0);}catch(_0x497e1b){return logger[_0x386567(0x19c)](_0x497e1b,_0x7c4c12['nPiTG'],_0x50eccd['id']),_0x26f480['status'](_0x497e1b[_0x386567(0x18f)]||0x1f4)['json']({'message':'failed\x20to\x20fetch\x20URL\x20metadata'});}},get=async(_0x15ff19,_0x55f171)=>{const _0x494998=_0x320aac,_0x62369={'wSfPF':function(_0x5ce088,_0x49cde4,_0x5ac5c0){return _0x5ce088(_0x49cde4,_0x5ac5c0);},'uMaoD':function(_0x3e9c40,_0x26e38f,_0x11e03f,_0x255b06){return _0x3e9c40(_0x26e38f,_0x11e03f,_0x255b06);},'xUXYM':'controller.url.error','NkGBv':'failed\x20to\x20fetch\x20URL\x20metadata','cUQFK':function(_0xe1e7b4,_0x5b6d04,_0x4aa323){return _0xe1e7b4(_0x5b6d04,_0x4aa323);},'wgIYh':_0x494998(0x18e),'gyZwj':function(_0x505000,_0x42094a){return _0x505000(_0x42094a);}};logger[_0x494998(0x196)](_0x494998(0x198),null,_0x15ff19['id']);const {debug:_0x1eebc9}=_0x15ff19['companion']['options'];if(!_0x62369[_0x494998(0x1bd)](validateURL,_0x15ff19['body'][_0x494998(0x18d)],_0x1eebc9)){logger[_0x494998(0x196)](_0x494998(0x19e),null,_0x15ff19['id']),_0x55f171[_0x494998(0x18f)](0x190)[_0x494998(0x1b4)]({'error':_0x62369['wgIYh']});return;}async function _0xd825a9(){const _0x360f16=_0x494998,{size:_0x4e78e9}=await _0x62369['wSfPF'](getURLMeta,_0x15ff19[_0x360f16(0x193)][_0x360f16(0x18d)],!_0x1eebc9);return _0x4e78e9;}async function _0x41a467(){const _0x5a96d0=_0x494998;return _0x62369[_0x5a96d0(0x18a)](downloadURL,_0x15ff19['body']['url'],!_0x1eebc9,_0x15ff19['id']);}function _0x2fa292(_0x2350dc){const _0x1a2c75=_0x494998;logger[_0x1a2c75(0x19c)](_0x2350dc,_0x62369[_0x1a2c75(0x1a4)],_0x15ff19['id']),_0x55f171[_0x1a2c75(0x18f)](_0x2350dc[_0x1a2c75(0x18f)]||0x1f4)[_0x1a2c75(0x1b4)]({'message':_0x62369[_0x1a2c75(0x195)]});}_0x62369[_0x494998(0x1c8)](startDownUpload,{'req':_0x15ff19,'res':_0x55f171,'getSize':_0xd825a9,'download':_0x41a467,'onUnhandledError':_0x2fa292});};module['exports']=()=>router()[_0x320aac(0x1c4)](_0x320aac(0x1c9),meta)['post'](_0x320aac(0x197),get);