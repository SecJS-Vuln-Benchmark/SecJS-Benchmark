const _0x248862=_0x3092;function _0x221c(){const _0x2d9947=['push','include','commitFrom','dGCpU','mkdir','3065454RqnxLs','repoName','false','hash','1004460HPCpRO','ngefo','3|6|5|8|1|4|7|2|0','modified\x20content','log','afOjo','initial\x20content','test.txt','contain','1430ZxYRhN','should\x20get\x20diff\x20between\x20commits','user.email','rmdir','length','POST','1047422UUqUTz','errorMessage','commit\x20for\x20parent\x20test','test@test.com','greaterThan','commit','proxyGitPath','sCTKe','init','should\x20get\x20diff\x20between\x20commits\x20with\x20no\x20changes','null','1234567890','VcniE','FVAsn','RVrOj','5LjasTg','path','autJg','split','commitTo','105853wqOvbd','writeFile','addConfig','STmMC','simple-git','MlUpx','getDiff','uOPQC','test/repo','../../src/proxy/actions','2332552xHGuRo','NRbQG','9IMuRZF','YPTzn','5172484ReXCOv','content','132ILanXb','No\x20commit\x20data\x20found','10050NFmefD','join','initial\x20commit','LcUCI','Ftxfd','nbUjd','0000000000000000000000000000000000000000','add','error','HEAD','true','../../src/proxy/processors/push-action/getDiff','steps','user.name','should\x20handle\x20empty\x20commit\x20hash\x20in\x20commitFrom','14KVNLEH','new\x20content\x20for\x20parent\x20test','chai','91MIjfTW','commitData','temp-test-repo','expect','should\x20throw\x20an\x20error\x20if\x20no\x20commit\x20data\x20is\x20provided','HEAD~1'];_0x221c=function(){return _0x2d9947;};return _0x221c();}(function(_0x30e3a7,_0x2410a1){const _0x3e0ea4=_0x3092,_0x5e5c3a=_0x30e3a7();while(!![]){try{const _0x2ad98d=-parseInt(_0x3e0ea4(0x164))/0x1+parseInt(_0x3e0ea4(0x132))/0x2*(-parseInt(_0x3e0ea4(0x134))/0x3)+-parseInt(_0x3e0ea4(0x130))/0x4*(parseInt(_0x3e0ea4(0x173))/0x5)+parseInt(_0x3e0ea4(0x151))/0x6*(parseInt(_0x3e0ea4(0x143))/0x7)+-parseInt(_0x3e0ea4(0x12c))/0x8*(-parseInt(_0x3e0ea4(0x12e))/0x9)+parseInt(_0x3e0ea4(0x15e))/0xa*(parseInt(_0x3e0ea4(0x178))/0xb)+-parseInt(_0x3e0ea4(0x155))/0xc*(-parseInt(_0x3e0ea4(0x146))/0xd);if(_0x2ad98d===_0x2410a1)break;else _0x5e5c3a['push'](_0x5e5c3a['shift']());}catch(_0x35ab5f){_0x5e5c3a['push'](_0x5e5c3a['shift']());}}}(_0x221c,0xae428));const path=require(_0x248862(0x174)),simpleGit=require(_0x248862(0x17c)),fs=require('fs')['promises'],{Action}=require(_0x248862(0x12b)),{exec}=require(_0x248862(0x13f)),chai=require(_0x248862(0x145)),expect=chai[_0x248862(0x149)];function _0x3092(_0x911fe4,_0x1fb044){const _0x221caf=_0x221c();return _0x3092=function(_0x30926d,_0x4a6ded){_0x30926d=_0x30926d-0x129;let _0x473534=_0x221caf[_0x30926d];return _0x473534;},_0x3092(_0x911fe4,_0x1fb044);}describe(_0x248862(0x17e),()=>{const _0x4ce711=_0x248862,_0x5daae2={'MlUpx':_0x4ce711(0x136),'XfYCJ':_0x4ce711(0x141),'uOPQC':'test','RVrOj':_0x4ce711(0x148),'Ftxfd':_0x4ce711(0x15b),'ngefo':_0x4ce711(0x12a),'afOjo':_0x4ce711(0x13d),'autJg':_0x4ce711(0x16f),'STmMC':_0x4ce711(0x13a),'dGCpU':function(_0x400414,_0xb33984,_0x54ba72){return _0x400414(_0xb33984,_0x54ba72);},'sCTKe':_0x4ce711(0x14c),'NRbQG':function(_0xd7580b,_0x40c2af,_0x39b8cd){return _0xd7580b(_0x40c2af,_0x39b8cd);},'gobIr':function(_0x9700aa,_0x5a2d49){return _0x9700aa(_0x5a2d49);},'nbUjd':_0x4ce711(0x133),'rouIH':_0x4ce711(0x163),'YPTzn':function(_0x56fa79,_0x2520e3,_0x5a1faa){return _0x56fa79(_0x2520e3,_0x5a1faa);},'LcUCI':function(_0x487353,_0x1160dc){return _0x487353(_0x1160dc);},'pCJpx':function(_0x2cf5d8,_0x567ff9){return _0x2cf5d8(_0x567ff9);},'wIAcJ':_0x4ce711(0x15c),'CoqGx':function(_0x5b406f,_0x3f1a70,_0x27d7d0){return _0x5b406f(_0x3f1a70,_0x27d7d0);},'FVAsn':function(_0x5177b0,_0x5e7d91){return _0x5177b0(_0x5e7d91);},'VcniE':function(_0x438cbc,_0x4e06bf){return _0x438cbc(_0x4e06bf);},'uEzwu':'should\x20throw\x20an\x20error\x20if\x20no\x20commit\x20data\x20is\x20provided'};let _0x407552,_0x2f7311;_0x5daae2[_0x4ce711(0x171)](before,async()=>{const _0x2f5d01=_0x4ce711,_0x107934=_0x2f5d01(0x157)[_0x2f5d01(0x176)]('|');let _0x223578=0x0;while(!![]){switch(_0x107934[_0x223578++]){case'0':await _0x2f7311[_0x2f5d01(0x169)](_0x5daae2[_0x2f5d01(0x17d)]);continue;case'1':await _0x2f7311[_0x2f5d01(0x17a)](_0x5daae2['XfYCJ'],_0x5daae2[_0x2f5d01(0x129)]);continue;case'2':await _0x2f7311[_0x2f5d01(0x13b)]('.');continue;case'3':_0x407552=path[_0x2f5d01(0x135)](__dirname,_0x5daae2[_0x2f5d01(0x172)]);continue;case'4':await _0x2f7311[_0x2f5d01(0x17a)](_0x2f5d01(0x160),_0x2f5d01(0x167));continue;case'5':_0x2f7311=simpleGit(_0x407552);continue;case'6':await fs[_0x2f5d01(0x150)](_0x407552,{'recursive':!![]});continue;case'7':await fs['writeFile'](path[_0x2f5d01(0x135)](_0x407552,_0x2f5d01(0x15c)),_0x5daae2[_0x2f5d01(0x138)]);continue;case'8':await _0x2f7311[_0x2f5d01(0x16c)]();continue;}break;}}),_0x5daae2[_0x4ce711(0x170)](after,async()=>{const _0x5f3935=_0x4ce711;await fs[_0x5f3935(0x161)](_0x407552,{'recursive':!![]});}),_0x5daae2['CoqGx'](it,_0x4ce711(0x15f),async()=>{const _0x513544=_0x4ce711;await fs[_0x513544(0x179)](path[_0x513544(0x135)](_0x407552,'test.txt'),_0x513544(0x158)),await _0x2f7311['add']('.'),await _0x2f7311[_0x513544(0x169)]('second\x20commit');const _0x40c9ac=new Action(_0x513544(0x16f),'push',_0x513544(0x163),0x499602d2,_0x5daae2[_0x513544(0x156)]);_0x40c9ac[_0x513544(0x16a)]=__dirname,_0x40c9ac['repoName']=_0x513544(0x148),_0x40c9ac[_0x513544(0x14e)]=_0x513544(0x14b),_0x40c9ac['commitTo']=_0x5daae2[_0x513544(0x15a)],_0x40c9ac[_0x513544(0x147)]=[{'parent':'0000000000000000000000000000000000000000'}];const _0x1b5e34=await exec({},_0x40c9ac);expect(_0x1b5e34['steps'][0x0][_0x513544(0x13c)])['to']['be'][_0x513544(0x153)],expect(_0x1b5e34[_0x513544(0x140)][0x0]['content'])['to'][_0x513544(0x14d)](_0x513544(0x158)),expect(_0x1b5e34[_0x513544(0x140)][0x0]['content'])['to']['include']('initial\x20content');}),it(_0x4ce711(0x16d),async()=>{const _0x2e128b=_0x4ce711,_0x46e09b=new Action(_0x5daae2['autJg'],_0x2e128b(0x14c),_0x2e128b(0x163),0x499602d2,_0x5daae2[_0x2e128b(0x156)]);_0x46e09b['proxyGitPath']=__dirname,_0x46e09b[_0x2e128b(0x152)]=_0x5daae2[_0x2e128b(0x172)],_0x46e09b[_0x2e128b(0x14e)]=_0x2e128b(0x14b),_0x46e09b[_0x2e128b(0x177)]=_0x2e128b(0x13d),_0x46e09b[_0x2e128b(0x147)]=[{'parent':_0x5daae2[_0x2e128b(0x17b)]}];const _0x5a24a7=await _0x5daae2[_0x2e128b(0x14f)](exec,{},_0x46e09b);expect(_0x5a24a7[_0x2e128b(0x140)][0x0]['error'])['to']['be'][_0x2e128b(0x153)],expect(_0x5a24a7[_0x2e128b(0x140)][0x0]['content'])['to'][_0x2e128b(0x14d)](_0x5daae2[_0x2e128b(0x138)]);}),it(_0x4ce711(0x14a),async()=>{const _0x1c4a89=_0x4ce711,_0x5a0230=new Action('1234567890',_0x5daae2[_0x1c4a89(0x16b)],'POST',0x499602d2,_0x1c4a89(0x12a));_0x5a0230[_0x1c4a89(0x16a)]=__dirname,_0x5a0230[_0x1c4a89(0x152)]=_0x5daae2['RVrOj'],_0x5a0230[_0x1c4a89(0x14e)]=_0x1c4a89(0x14b),_0x5a0230[_0x1c4a89(0x177)]='HEAD',_0x5a0230[_0x1c4a89(0x147)]=[];const _0x15eaf3=await _0x5daae2[_0x1c4a89(0x12d)](exec,{},_0x5a0230);expect(_0x15eaf3[_0x1c4a89(0x140)][0x0][_0x1c4a89(0x13c)])['to']['be'][_0x1c4a89(0x13e)],_0x5daae2['gobIr'](expect,_0x15eaf3[_0x1c4a89(0x140)][0x0][_0x1c4a89(0x165)])['to'][_0x1c4a89(0x15d)](_0x5daae2[_0x1c4a89(0x139)]);}),it(_0x5daae2['uEzwu'],async()=>{const _0x209c55=_0x4ce711,_0x416db8=new Action(_0x5daae2[_0x209c55(0x175)],_0x5daae2[_0x209c55(0x16b)],_0x5daae2['rouIH'],0x499602d2,_0x209c55(0x12a));_0x416db8[_0x209c55(0x16a)]=__dirname,_0x416db8[_0x209c55(0x152)]=_0x209c55(0x148),_0x416db8['commitFrom']=_0x209c55(0x14b),_0x416db8[_0x209c55(0x177)]='HEAD',_0x416db8[_0x209c55(0x147)]=undefined;const _0x5f32fe=await _0x5daae2[_0x209c55(0x12f)](exec,{},_0x416db8);_0x5daae2[_0x209c55(0x137)](expect,_0x5f32fe['steps'][0x0][_0x209c55(0x13c)])['to']['be'][_0x209c55(0x13e)],_0x5daae2['pCJpx'](expect,_0x5f32fe[_0x209c55(0x140)][0x0][_0x209c55(0x165)])['to']['contain'](_0x209c55(0x133));}),it(_0x4ce711(0x142),async()=>{const _0x4e12f0=_0x4ce711;await fs[_0x4e12f0(0x179)](path[_0x4e12f0(0x135)](_0x407552,_0x5daae2['wIAcJ']),_0x4e12f0(0x144)),await _0x2f7311[_0x4e12f0(0x13b)]('.'),await _0x2f7311[_0x4e12f0(0x169)](_0x4e12f0(0x166));const _0x223ea6=await _0x2f7311[_0x4e12f0(0x159)](),_0x33aba8=_0x223ea6['all'][0x1][_0x4e12f0(0x154)],_0x2e76d2=_0x223ea6['all'][0x0]['hash'],_0x348b34=new Action(_0x4e12f0(0x16f),_0x5daae2['sCTKe'],_0x4e12f0(0x163),0x499602d2,_0x5daae2[_0x4e12f0(0x156)]);_0x348b34['proxyGitPath']=path['dirname'](_0x407552),_0x348b34[_0x4e12f0(0x152)]=path['basename'](_0x407552),_0x348b34[_0x4e12f0(0x14e)]=_0x5daae2[_0x4e12f0(0x17b)],_0x348b34[_0x4e12f0(0x177)]=_0x2e76d2,_0x348b34[_0x4e12f0(0x147)]=[{'parent':_0x33aba8}];const _0x454400=await _0x5daae2['CoqGx'](exec,{},_0x348b34);_0x5daae2[_0x4e12f0(0x137)](expect,_0x454400[_0x4e12f0(0x140)][0x0][_0x4e12f0(0x13c)])['to']['be'][_0x4e12f0(0x153)],expect(_0x454400[_0x4e12f0(0x140)][0x0][_0x4e12f0(0x131)])['to']['not']['be'][_0x4e12f0(0x16e)],_0x5daae2[_0x4e12f0(0x137)](expect,_0x454400[_0x4e12f0(0x140)][0x0][_0x4e12f0(0x131)][_0x4e12f0(0x162)])['to']['be'][_0x4e12f0(0x168)](0x0);});});