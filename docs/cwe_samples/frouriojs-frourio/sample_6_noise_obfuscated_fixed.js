const _0x21683f=_0x54eb;function _0x3edd(){const _0x3c65d7=['1753749PVcXIx','join','include','all','POST','../../src/proxy/actions','length','should\x20handle\x20empty\x20commit\x20hash\x20in\x20commitFrom','temp-test-repo','second\x20commit','getDiff','QPvzA','mkdir','addConfig','repoName','gAcku','DNSMK','7416560vjShsc','0000000000000000000000000000000000000000','4282830lLydtM','commit\x20for\x20parent\x20test','writeFile','TyNsq','24bkJWtE','greaterThan','push','XcDFY','false','commitFrom','862302QSlxSL','hCndx','ZbAtt','content','zkVwX','basename','commitData','4pjuyjo','test@test.com','errorMessage','commitTo','3580956HlULyc','initial\x20commit','simple-git','path','proxyGitPath','error','THZRJ','should\x20throw\x20an\x20error\x20if\x20no\x20commit\x20data\x20is\x20provided','true','McFhx','expect','KuJGZ','kDvhV','2810tfcxan','uYHUI','contain','dbVJM','user.name','test','steps','1234567890','initial\x20content','null','4634080LaUgVo','init','zWGVV','gpvuA','HOOlW','should\x20get\x20diff\x20between\x20commits\x20with\x20no\x20changes','bKcGc','HEAD','chai','add','promises','Your\x20push\x20has\x20been\x20blocked\x20because\x20no\x20commit\x20data\x20was\x20found','test/repo','nZgPd','../../src/proxy/processors/push-action/getDiff','ugexc','user.email','LpzHE','HhXCa','dirname','XQSsQ','gYdTq','7|1|5|4|3|8|6|0|2','148tDCTXf','HEAD~1'];_0x3edd=function(){return _0x3c65d7;};return _0x3edd();}(function(_0x109ecf,_0x45358d){const _0x19be5d=_0x54eb,_0x391eb5=_0x109ecf();while(!![]){try{const _0x3f8572=parseInt(_0x19be5d(0x16e))/0x1*(parseInt(_0x19be5d(0x137))/0x2)+parseInt(_0x19be5d(0x14c))/0x3+-parseInt(_0x19be5d(0x15d))/0x4*(parseInt(_0x19be5d(0x14a))/0x5)+parseInt(_0x19be5d(0x161))/0x6+parseInt(_0x19be5d(0x156))/0x7+-parseInt(_0x19be5d(0x150))/0x8*(-parseInt(_0x19be5d(0x139))/0x9)+-parseInt(_0x19be5d(0x178))/0xa;if(_0x3f8572===_0x45358d)break;else _0x391eb5['push'](_0x391eb5['shift']());}catch(_0x53f69a){_0x391eb5['push'](_0x391eb5['shift']());}}}(_0x3edd,0xf2891));function _0x54eb(_0x3a0cb2,_0x1c6d3c){const _0x3edd5b=_0x3edd();return _0x54eb=function(_0x54eb2c,_0x45e923){_0x54eb2c=_0x54eb2c-0x128;let _0x460fff=_0x3edd5b[_0x54eb2c];return _0x460fff;},_0x54eb(_0x3a0cb2,_0x1c6d3c);}const path=require(_0x21683f(0x164)),simpleGit=require(_0x21683f(0x163)),fs=require('fs')[_0x21683f(0x12a)],{Action}=require(_0x21683f(0x13e)),{exec}=require(_0x21683f(0x12e)),chai=require(_0x21683f(0x128)),expect=chai[_0x21683f(0x16b)];describe(_0x21683f(0x143),()=>{const _0x90d9e8=_0x21683f,_0x23058e={'LpzHE':_0x90d9e8(0x136),'XcDFY':_0x90d9e8(0x173),'bKcGc':function(_0x2ea4b1,_0xdd1600){return _0x2ea4b1(_0xdd1600);},'HOOlW':_0x90d9e8(0x176),'ugexc':_0x90d9e8(0x130),'gpvuA':_0x90d9e8(0x15e),'QPvzA':'modified\x20content','McFhx':'POST','zkVwX':'HEAD~1','nZgPd':'0000000000000000000000000000000000000000','kDvhV':function(_0x5ec198,_0x1e23e6){return _0x5ec198(_0x1e23e6);},'uYHUI':function(_0x1dea83,_0x29b232){return _0x1dea83(_0x29b232);},'gcZVI':_0x90d9e8(0x175),'ZbAtt':_0x90d9e8(0x152),'KuJGZ':_0x90d9e8(0x141),'dbVJM':function(_0x59a97c,_0x250e48,_0x405bc0){return _0x59a97c(_0x250e48,_0x405bc0);},'XQSsQ':function(_0x140a15,_0x40664e){return _0x140a15(_0x40664e);},'HhXCa':_0x90d9e8(0x17f),'dANWQ':_0x90d9e8(0x12c),'TyNsq':function(_0x1cbef9,_0x3458dd,_0x144c72){return _0x1cbef9(_0x3458dd,_0x144c72);},'gYdTq':function(_0x23b107,_0x27df56){return _0x23b107(_0x27df56);},'qaEOw':'new\x20content\x20for\x20parent\x20test','gAcku':_0x90d9e8(0x14d),'DNSMK':function(_0x5b89da,_0x53ad89){return _0x5b89da(_0x53ad89);},'usOVY':function(_0x34b52f,_0x5a1b1d,_0x250fd1){return _0x34b52f(_0x5a1b1d,_0x250fd1);},'THZRJ':_0x90d9e8(0x168),'hCndx':function(_0x22b141,_0x2a4f89,_0x4a8aeb){return _0x22b141(_0x2a4f89,_0x4a8aeb);},'zWGVV':_0x90d9e8(0x140)};let _0x3b5564,_0x2ffcb6;_0x23058e[_0x90d9e8(0x149)](before,async()=>{const _0x5287f9=_0x90d9e8,_0xb75139=_0x23058e[_0x5287f9(0x131)]['split']('|');let _0x5f2a16=0x0;while(!![]){switch(_0xb75139[_0x5f2a16++]){case'0':await _0x2ffcb6[_0x5287f9(0x129)]('.');continue;case'1':await fs[_0x5287f9(0x145)](_0x3b5564,{'recursive':!![]});continue;case'2':await _0x2ffcb6['commit'](_0x5287f9(0x162));continue;case'3':await _0x2ffcb6['addConfig'](_0x5287f9(0x172),_0x23058e[_0x5287f9(0x153)]);continue;case'4':await _0x2ffcb6[_0x5287f9(0x179)]();continue;case'5':_0x2ffcb6=_0x23058e[_0x5287f9(0x17e)](simpleGit,_0x3b5564);continue;case'6':await fs['writeFile'](path[_0x5287f9(0x13a)](_0x3b5564,'test.txt'),_0x23058e[_0x5287f9(0x17c)]);continue;case'7':_0x3b5564=path[_0x5287f9(0x13a)](__dirname,_0x5287f9(0x141));continue;case'8':await _0x2ffcb6[_0x5287f9(0x146)](_0x23058e[_0x5287f9(0x12f)],_0x23058e[_0x5287f9(0x17b)]);continue;}break;}}),_0x23058e['uYHUI'](after,async()=>{await fs['rmdir'](_0x3b5564,{'recursive':!![]});}),_0x23058e[_0x90d9e8(0x14f)](it,'should\x20get\x20diff\x20between\x20commits',async()=>{const _0x2fb7c3=_0x90d9e8;await fs[_0x2fb7c3(0x14e)](path['join'](_0x3b5564,'test.txt'),_0x23058e['QPvzA']),await _0x2ffcb6[_0x2fb7c3(0x129)]('.'),await _0x2ffcb6['commit'](_0x2fb7c3(0x142));const _0x52ef23=new Action('1234567890',_0x2fb7c3(0x152),_0x23058e[_0x2fb7c3(0x16a)],0x499602d2,'test/repo');_0x52ef23[_0x2fb7c3(0x165)]=__dirname,_0x52ef23[_0x2fb7c3(0x147)]=_0x2fb7c3(0x141),_0x52ef23['commitFrom']=_0x23058e['zkVwX'],_0x52ef23[_0x2fb7c3(0x160)]='HEAD',_0x52ef23[_0x2fb7c3(0x15c)]=[{'parent':_0x23058e[_0x2fb7c3(0x12d)]}];const _0x35f64e=await exec({},_0x52ef23);expect(_0x35f64e[_0x2fb7c3(0x174)][0x0]['error'])['to']['be'][_0x2fb7c3(0x154)],_0x23058e['kDvhV'](expect,_0x35f64e[_0x2fb7c3(0x174)][0x0]['content'])['to'][_0x2fb7c3(0x13b)](_0x23058e[_0x2fb7c3(0x144)]),_0x23058e[_0x2fb7c3(0x16f)](expect,_0x35f64e['steps'][0x0][_0x2fb7c3(0x159)])['to']['include']('initial\x20content');}),_0x23058e['usOVY'](it,_0x90d9e8(0x17d),async()=>{const _0x31dd9b=_0x90d9e8,_0x3251f6=new Action(_0x23058e['gcZVI'],_0x23058e[_0x31dd9b(0x158)],_0x23058e['McFhx'],0x499602d2,_0x31dd9b(0x12c));_0x3251f6[_0x31dd9b(0x165)]=__dirname,_0x3251f6[_0x31dd9b(0x147)]=_0x23058e[_0x31dd9b(0x16c)],_0x3251f6[_0x31dd9b(0x155)]=_0x23058e[_0x31dd9b(0x15a)],_0x3251f6[_0x31dd9b(0x160)]='HEAD',_0x3251f6[_0x31dd9b(0x15c)]=[{'parent':_0x31dd9b(0x14b)}];const _0xbe6516=await _0x23058e[_0x31dd9b(0x171)](exec,{},_0x3251f6);_0x23058e[_0x31dd9b(0x134)](expect,_0xbe6516[_0x31dd9b(0x174)][0x0]['error'])['to']['be']['false'],expect(_0xbe6516[_0x31dd9b(0x174)][0x0][_0x31dd9b(0x159)])['to'][_0x31dd9b(0x13b)]('initial\x20content');}),it(_0x23058e[_0x90d9e8(0x167)],async()=>{const _0x909e4d=_0x90d9e8,_0x5fc268=new Action(_0x23058e['gcZVI'],_0x23058e['ZbAtt'],'POST',0x499602d2,_0x909e4d(0x12c));_0x5fc268[_0x909e4d(0x165)]=__dirname,_0x5fc268['repoName']=_0x23058e[_0x909e4d(0x16c)],_0x5fc268['commitFrom']=_0x909e4d(0x138),_0x5fc268[_0x909e4d(0x160)]=_0x23058e[_0x909e4d(0x132)],_0x5fc268['commitData']=[];const _0x4c1819=await _0x23058e[_0x909e4d(0x171)](exec,{},_0x5fc268);expect(_0x4c1819[_0x909e4d(0x174)][0x0][_0x909e4d(0x166)])['to']['be'][_0x909e4d(0x169)],_0x23058e[_0x909e4d(0x16f)](expect,_0x4c1819[_0x909e4d(0x174)][0x0][_0x909e4d(0x15f)])['to'][_0x909e4d(0x170)](_0x909e4d(0x12b));}),_0x23058e['usOVY'](it,_0x23058e[_0x90d9e8(0x167)],async()=>{const _0x132974=_0x90d9e8,_0x2cf3ec=new Action(_0x132974(0x175),_0x23058e[_0x132974(0x158)],_0x132974(0x13d),0x499602d2,_0x23058e['dANWQ']);_0x2cf3ec[_0x132974(0x165)]=__dirname,_0x2cf3ec['repoName']=_0x23058e['KuJGZ'],_0x2cf3ec['commitFrom']='HEAD~1',_0x2cf3ec[_0x132974(0x160)]=_0x23058e[_0x132974(0x132)],_0x2cf3ec[_0x132974(0x15c)]=undefined;const _0xdf971=await _0x23058e[_0x132974(0x14f)](exec,{},_0x2cf3ec);_0x23058e[_0x132974(0x16f)](expect,_0xdf971[_0x132974(0x174)][0x0][_0x132974(0x166)])['to']['be'][_0x132974(0x169)],_0x23058e[_0x132974(0x135)](expect,_0xdf971[_0x132974(0x174)][0x0][_0x132974(0x15f)])['to'][_0x132974(0x170)](_0x132974(0x12b));}),_0x23058e[_0x90d9e8(0x157)](it,_0x23058e[_0x90d9e8(0x17a)],async()=>{const _0x1b140e=_0x90d9e8;await fs[_0x1b140e(0x14e)](path[_0x1b140e(0x13a)](_0x3b5564,'test.txt'),_0x23058e['qaEOw']),await _0x2ffcb6[_0x1b140e(0x129)]('.'),await _0x2ffcb6['commit'](_0x23058e[_0x1b140e(0x148)]);const _0x1a0aaa=await _0x2ffcb6['log'](),_0x40ba4b=_0x1a0aaa[_0x1b140e(0x13c)][0x1]['hash'],_0x1bdbe5=_0x1a0aaa[_0x1b140e(0x13c)][0x0]['hash'],_0x2e744f=new Action(_0x1b140e(0x175),_0x1b140e(0x152),_0x1b140e(0x13d),0x499602d2,_0x23058e['dANWQ']);_0x2e744f[_0x1b140e(0x165)]=path[_0x1b140e(0x133)](_0x3b5564),_0x2e744f[_0x1b140e(0x147)]=path[_0x1b140e(0x15b)](_0x3b5564),_0x2e744f[_0x1b140e(0x155)]=_0x23058e[_0x1b140e(0x12d)],_0x2e744f[_0x1b140e(0x160)]=_0x1bdbe5,_0x2e744f['commitData']=[{'parent':_0x40ba4b}];const _0x2a1243=await _0x23058e[_0x1b140e(0x14f)](exec,{},_0x2e744f);_0x23058e[_0x1b140e(0x135)](expect,_0x2a1243[_0x1b140e(0x174)][0x0][_0x1b140e(0x166)])['to']['be'][_0x1b140e(0x154)],_0x23058e[_0x1b140e(0x16d)](expect,_0x2a1243[_0x1b140e(0x174)][0x0][_0x1b140e(0x159)])['to']['not']['be'][_0x1b140e(0x177)],_0x23058e[_0x1b140e(0x134)](expect,_0x2a1243[_0x1b140e(0x174)][0x0]['content'][_0x1b140e(0x13f)])['to']['be'][_0x1b140e(0x151)](0x0);});});