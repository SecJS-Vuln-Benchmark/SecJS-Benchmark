const _0xd3a2bb=_0x5a5d;(function(_0x15b014,_0x23d0de){const _0x14826a=_0x5a5d,_0x1df7ff=_0x15b014();while(!![]){try{const _0x20d610=-parseInt(_0x14826a(0x16f))/0x1*(parseInt(_0x14826a(0x125))/0x2)+parseInt(_0x14826a(0x13e))/0x3*(parseInt(_0x14826a(0x163))/0x4)+parseInt(_0x14826a(0x15c))/0x5+parseInt(_0x14826a(0x124))/0x6*(parseInt(_0x14826a(0x170))/0x7)+parseInt(_0x14826a(0x131))/0x8*(-parseInt(_0x14826a(0x141))/0x9)+-parseInt(_0x14826a(0x149))/0xa*(-parseInt(_0x14826a(0x14f))/0xb)+-parseInt(_0x14826a(0x16d))/0xc*(parseInt(_0x14826a(0x122))/0xd);if(_0x20d610===_0x23d0de)break;else _0x1df7ff['push'](_0x1df7ff['shift']());}catch(_0x23df52){_0x1df7ff['push'](_0x1df7ff['shift']());}}}(_0x1ef0,0xb299e));const chai=require(_0xd3a2bb(0x144)),sinon=require(_0xd3a2bb(0x140)),proxyquire=require(_0xd3a2bb(0x123)),{Action,Step}=require(_0xd3a2bb(0x159));function _0x5a5d(_0x11a623,_0x5e7817){const _0x1ef00e=_0x1ef0();return _0x5a5d=function(_0x5a5dcc,_0x1c1573){_0x5a5dcc=_0x5a5dcc-0x11d;let _0x534b71=_0x1ef00e[_0x5a5dcc];return _0x534b71;},_0x5a5d(_0x11a623,_0x5e7817);}function _0x1ef0(){const _0x2c6a50=['should\x20have\x20the\x20correct\x20displayName','log','1229090ImySfH','QJJnI','stub','../../src/proxy/processors/push-action/writePack','true','rxaKS','121qLzEYx','push','yLpwK','include','writePack.exec','Lkpdq','displayName','args','CZlso','POST','../../src/proxy/actions','throws','FmpJp','6538830xMTzAS','firstCall','NqILm','LvXGu','xOYmr','git\x20error','writePack','451012TddWXo','executing\x20git\x20receive-pack\x20repo','spy','uTvDg','repo','should\x20handle\x20errors\x20from\x20git\x20receive-pack','OcbEO','Expected\x20error\x20to\x20be\x20thrown','QzCLW','utf-8','4968eMWaOK','ajHwV','2137dGIlvP','7HaCcci','should\x20execute\x20git\x20receive-pack\x20with\x20correct\x20parameters','mJYDO','error','NrijP','gWEtz','qcpxf','pack\x20data','wODXd','git\x20receive-pack\x20output','ueiyC','CRIJm','XUBHX','NNkpv','91039NqosOi','proxyquire','5165844drLlFP','104CMXHHx','proxyGitPath','pMLtx','MehaF','setError','test/repo','calledWith','deep','/path/to/repo','VyIfu','OdGOk','have','112dYyakR','should','setContent','expect','fghxq','steps','vfTsT','prototype','git','false','exec','calledOnce','equal','9BeTqXH','upuvK','sinon','75267erOeAM','vrLhs','1234567890','chai','BrClK','lengthOf'];_0x1ef0=function(){return _0x2c6a50;};return _0x1ef0();}chai[_0xd3a2bb(0x132)]();const expect=chai[_0xd3a2bb(0x134)];describe(_0xd3a2bb(0x162),()=>{const _0x455faf=_0xd3a2bb,_0x25c53c={'ueiyC':_0x455faf(0x11d),'gWEtz':_0x455faf(0x133),'LvXGu':_0x455faf(0x129),'QzCLW':function(_0x1be8cc,_0xea8482,_0x37d2ee){return _0x1be8cc(_0xea8482,_0x37d2ee);},'FmpJp':_0x455faf(0x143),'CRIJm':_0x455faf(0x12a),'WLGan':_0x455faf(0x12d),'gyoWN':'receive-pack','NqILm':_0x455faf(0x161),'vrLhs':function(_0x392805,_0x2a4c87){return _0x392805===_0x2a4c87;},'Lkpdq':function(_0x27478c,_0x950499){return _0x27478c!==_0x950499;},'fghxq':_0x455faf(0x168),'uTvDg':'should\x20always\x20add\x20the\x20step\x20to\x20the\x20action\x20even\x20if\x20error\x20occurs','mJYDO':function(_0x4aaaee,_0x2b2f01){return _0x4aaaee(_0x2b2f01);},'rxaKS':function(_0x441346,_0x14552c){return _0x441346(_0x14552c);},'NNkpv':_0x455faf(0x13b)};let _0x2094f0,_0x5eb2ca,_0x38f23c,_0x2aa395,_0x5a9c06;_0x25c53c[_0x455faf(0x172)](beforeEach,()=>{const _0xc59b5e=_0x455faf;_0x5eb2ca=sinon[_0xc59b5e(0x14b)]()['returns']({'stdout':_0x25c53c[_0xc59b5e(0x11e)],'stderr':'','status':0x0}),_0x38f23c=sinon['spy'](Step['prototype'],_0xc59b5e(0x148)),_0x2aa395=sinon['spy'](Step[_0xc59b5e(0x138)],_0x25c53c['gWEtz']),_0x5a9c06=sinon[_0xc59b5e(0x165)](Step[_0xc59b5e(0x138)],_0x25c53c[_0xc59b5e(0x15f)]);const _0x23f7e6=_0x25c53c[_0xc59b5e(0x16b)](proxyquire,_0xc59b5e(0x14c),{'child_process':{'spawnSync':_0x5eb2ca}});_0x2094f0=_0x23f7e6[_0xc59b5e(0x13b)];}),_0x25c53c[_0x455faf(0x14e)](afterEach,()=>{sinon['restore']();}),describe(_0x25c53c[_0x455faf(0x121)],()=>{const _0x34b71d=_0x455faf,_0x2a25b5={'CZlso':function(_0x94eb46,_0x3fdbe4){return _0x94eb46(_0x3fdbe4);},'NrijP':_0x25c53c[_0x34b71d(0x15b)],'ajHwV':_0x34b71d(0x150),'VyIfu':_0x25c53c[_0x34b71d(0x11f)],'vfTsT':_0x25c53c['WLGan'],'XUBHX':_0x25c53c['gyoWN'],'yLpwK':_0x34b71d(0x167),'fsrHL':_0x34b71d(0x177),'MehaF':_0x34b71d(0x16c),'pMLtx':_0x25c53c[_0x34b71d(0x15e)],'OcbEO':_0x34b71d(0x148),'OdGOk':_0x25c53c[_0x34b71d(0x175)],'BrClK':function(_0x55517d,_0x1d1fbf,_0x316da0){const _0x17f4db=_0x34b71d;return _0x25c53c[_0x17f4db(0x16b)](_0x55517d,_0x1d1fbf,_0x316da0);},'lloHT':function(_0x5bedff,_0x56289d){const _0x14ed7d=_0x34b71d;return _0x25c53c[_0x14ed7d(0x142)](_0x5bedff,_0x56289d);},'xOYmr':function(_0x20dd6c,_0x47184b){return _0x20dd6c(_0x47184b);},'qcpxf':_0x34b71d(0x153)};if(_0x25c53c[_0x34b71d(0x154)](_0x34b71d(0x14a),'QJJnI'))_0x2a25b5[_0x34b71d(0x157)](_0x53feae,_0x5d9848[_0x34b71d(0x136)])['to'][_0x34b71d(0x130)][_0x34b71d(0x146)](0x1);else{let _0x100196,_0x59379e;beforeEach(()=>{const _0x18fed1=_0x34b71d;_0x59379e={'body':_0x18fed1(0x177)},_0x100196=new Action(_0x2a25b5[_0x18fed1(0x174)],_0x2a25b5[_0x18fed1(0x16e)],_0x18fed1(0x158),0x499602d2,_0x2a25b5[_0x18fed1(0x12e)]),_0x100196[_0x18fed1(0x126)]=_0x2a25b5[_0x18fed1(0x137)];}),it(_0x34b71d(0x171),async()=>{const _0x1a26c0=_0x34b71d,_0x491e2c=await _0x2094f0(_0x59379e,_0x100196);expect(_0x5eb2ca[_0x1a26c0(0x13c)])['to']['be'][_0x1a26c0(0x14d)],expect(_0x5eb2ca[_0x1a26c0(0x15d)][_0x1a26c0(0x156)][0x0])['to'][_0x1a26c0(0x13d)](_0x1a26c0(0x139)),_0x2a25b5[_0x1a26c0(0x157)](expect,_0x5eb2ca['firstCall'][_0x1a26c0(0x156)][0x1])['to'][_0x1a26c0(0x12c)][_0x1a26c0(0x13d)]([_0x2a25b5[_0x1a26c0(0x120)],_0x2a25b5[_0x1a26c0(0x151)]]),_0x2a25b5[_0x1a26c0(0x157)](expect,_0x5eb2ca[_0x1a26c0(0x15d)][_0x1a26c0(0x156)][0x2])['to']['deep'][_0x1a26c0(0x13d)]({'cwd':_0x1a26c0(0x12d),'input':_0x2a25b5['fsrHL'],'encoding':_0x2a25b5[_0x1a26c0(0x128)]}),expect(_0x38f23c[_0x1a26c0(0x12b)](_0x1a26c0(0x164)))['to']['be'][_0x1a26c0(0x14d)],expect(_0x38f23c[_0x1a26c0(0x12b)](_0x1a26c0(0x11d)))['to']['be'][_0x1a26c0(0x14d)],_0x2a25b5[_0x1a26c0(0x157)](expect,_0x2aa395[_0x1a26c0(0x12b)](_0x1a26c0(0x11d)))['to']['be'][_0x1a26c0(0x14d)],expect(_0x491e2c[_0x1a26c0(0x136)])['to'][_0x1a26c0(0x130)][_0x1a26c0(0x146)](0x1),expect(_0x491e2c[_0x1a26c0(0x136)][0x0]['error'])['to']['be'][_0x1a26c0(0x13a)];}),it(_0x25c53c[_0x34b71d(0x135)],async()=>{const _0x350c4e=_0x34b71d,_0x2e7733=new Error(_0x350c4e(0x161));_0x5eb2ca[_0x350c4e(0x15a)](_0x2e7733);try{await _0x2094f0(_0x59379e,_0x100196);throw new Error(_0x350c4e(0x16a));}catch(_0x456b2b){expect(_0x5a9c06[_0x350c4e(0x13c)])['to']['be'][_0x350c4e(0x14d)],_0x2a25b5[_0x350c4e(0x157)](expect,_0x5a9c06[_0x350c4e(0x15d)][_0x350c4e(0x156)][0x0])['to'][_0x350c4e(0x152)](_0x2a25b5[_0x350c4e(0x127)]),_0x2a25b5[_0x350c4e(0x157)](expect,_0x100196[_0x350c4e(0x136)])['to'][_0x350c4e(0x130)][_0x350c4e(0x146)](0x1),expect(_0x100196[_0x350c4e(0x136)][0x0][_0x350c4e(0x173)])['to']['be'][_0x350c4e(0x14d)];}}),_0x25c53c[_0x34b71d(0x16b)](it,_0x25c53c[_0x34b71d(0x166)],async()=>{const _0x425076=_0x34b71d;_0x5eb2ca['throws'](new Error(_0x2a25b5[_0x425076(0x127)]));try{await _0x2094f0(_0x59379e,_0x100196);}catch(_0x11e63d){if(_0x2a25b5['lloHT'](_0x425076(0x178),_0x425076(0x13f))){_0xbbd0b9=_0x55c8df[_0x425076(0x14b)]()['returns']({'stdout':'git\x20receive-pack\x20output','stderr':'','status':0x0}),_0x461420=_0x14c049[_0x425076(0x165)](_0x27b9da[_0x425076(0x138)],_0x2a25b5[_0x425076(0x169)]),_0x42265a=_0x90f00b['spy'](_0x5a6ea7['prototype'],_0x2a25b5[_0x425076(0x12f)]),_0xa1a0ab=_0x18b3b0[_0x425076(0x165)](_0x36794a['prototype'],'setError');const _0x688ae8=_0x2a25b5[_0x425076(0x145)](_0x188ee1,_0x425076(0x14c),{'child_process':{'spawnSync':_0x218396}});_0x2c8922=_0x688ae8[_0x425076(0x13b)];}else expect(_0x100196[_0x425076(0x136)])['to'][_0x425076(0x130)][_0x425076(0x146)](0x1);}}),it(_0x34b71d(0x147),()=>{const _0x4ec14d=_0x34b71d;_0x2a25b5[_0x4ec14d(0x160)](expect,_0x2094f0[_0x4ec14d(0x155)])['to'][_0x4ec14d(0x13d)](_0x2a25b5[_0x4ec14d(0x176)]);});}});});