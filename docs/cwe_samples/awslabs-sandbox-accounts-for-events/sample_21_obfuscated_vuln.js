const _0x194767=_0xdf07;(function(_0x21d97c,_0x121ec8){const _0x226d85=_0xdf07,_0x528a92=_0x21d97c();while(!![]){try{const _0x36b4c9=-parseInt(_0x226d85(0x192))/0x1+-parseInt(_0x226d85(0x14b))/0x2*(parseInt(_0x226d85(0x160))/0x3)+-parseInt(_0x226d85(0x15e))/0x4+parseInt(_0x226d85(0x142))/0x5*(-parseInt(_0x226d85(0x13f))/0x6)+-parseInt(_0x226d85(0x182))/0x7+parseInt(_0x226d85(0x172))/0x8*(-parseInt(_0x226d85(0x16d))/0x9)+-parseInt(_0x226d85(0x152))/0xa*(-parseInt(_0x226d85(0x170))/0xb);if(_0x36b4c9===_0x121ec8)break;else _0x528a92['push'](_0x528a92['shift']());}catch(_0x538d4b){_0x528a92['push'](_0x528a92['shift']());}}}(_0x2a9a,0xc9cb2));const internal=require(_0x194767(0x148)),actions=require('@arangodb/actions'),FoxxManager=require('@arangodb/foxx/manager'),store=require(_0x194767(0x18a)),request=require(_0x194767(0x1b1)),{ArangoError,db,errors}=require(_0x194767(0x1af)),{join:joinPath}=require(_0x194767(0x197)),fs=require('fs'),fmu=require(_0x194767(0x13e)),easyPostCallback=actions['easyPostCallback'];function _0x2a9a(){const _0x3d80fc=['_admin/foxx/setup','4sxkmVO','runTests','ZbeHb','Failed\x20to\x20remove\x20uploaded\x20file:\x20','mifeh','message','dxBuz','10ynvmnJ','_admin/foxx/tests','_admin/foxx/set-dependencies','runScript','split','pBwRa','name','configuration','body','production','nPkpd','current','261484EwQtlc','json','1185936OjOzQm','parse','dqyrL','keys','PK\x03\x04','okCXw','_admin/foxx/script','pZhyP','mount','ifYRf','oMNnd','WEtgk','.zip','18vonKKp','zipDirectory','application/zip','40927667WSOycb','iniMM','145064nltGba','true','/_api/foxx/configuration','PSudO','application/javascript','defineHttp','IsdAW','getTempPath','content-type','readFileSync','XHeZU','lookupService','pYEKy','_name','options','simpleJSON','2525796yOJmKS','gaJDC','tYWFw','timeout','lercH','test','EKwBP','validateInstallUrl','@arangodb/foxx/store','_admin/foxx/development','PXxKp','teardown','stringify','/_api/foxx/service','_version','_admin/foxx/dependencies','539432YuMmEr','title','ikSoJ','_admin/foxx/replace','DELETE','path','FOXX_BASE_URL','QhoTz','Voanh','headers','UbaGr','https://github.com/','isFoxxApiDisabled','hsfkD','YlLmR','CVXiM','iFXyx','/archive/','PUT','xDewu','remove','development','PmFdj','refresh','_admin/foxx/upgrade','maintainer-mode','env','_admin/foxx/install','dependencies','@arangodb','string','@arangodb/request','utf8Slice','code','application/json','warnStack','@arangodb/foxx/manager-utils','18RBZRQI','upNaM','ERROR_SERVICE_API_DISABLED','1836050OUjVRv','exists','errorNum','_admin/foxx/configure','ZIViB','appInfo','internal','setup'];_0x2a9a=function(){return _0x3d80fc;};return _0x2a9a();}function proxyLocal(_0xf8ce9d,_0x34dc9a,_0x567cd4,_0x1f16ce,_0x37926e={}){const _0x1c00a1=_0x194767,_0x2ceaae={'hhwVV':function(_0x5e938e,_0x334b5b){return _0x5e938e instanceof _0x334b5b;},'mifeh':'object','gaJDC':_0x1c00a1(0x13c),'YlLmR':_0x1c00a1(0x148),'PmFdj':_0x1c00a1(0x1ab),'nPkpd':function(_0x76ad41,_0x42044d){return _0x76ad41(_0x42044d);}};_0x34dc9a='/_db/'+db[_0x1c00a1(0x17f)]()+_0x34dc9a;if(_0x2ceaae['hhwVV'](_0x1f16ce,Buffer))_0x1f16ce['utf8Slice'](0x0,0x4)===_0x1c00a1(0x164)?_0x37926e['content-type']=_0x1c00a1(0x16f):_0x37926e[_0x1c00a1(0x17a)]=_0x1c00a1(0x176);else _0x1f16ce&&typeof _0x1f16ce===_0x2ceaae[_0x1c00a1(0x14f)]&&(_0x37926e[_0x1c00a1(0x17a)]=_0x2ceaae[_0x1c00a1(0x183)],_0x1f16ce=JSON[_0x1c00a1(0x18e)](_0x1f16ce));_0x1f16ce&&(_0x37926e['content-length']=_0x1f16ce['length']);const _0x4af3e1={'method':_0xf8ce9d,'url':_0x34dc9a,'qs':_0x567cd4,'headers':_0x37926e,'body':_0x1f16ce};require(_0x2ceaae[_0x1c00a1(0x1a0)])['db'][_0x1c00a1(0x190)](!![])[_0x2ceaae[_0x1c00a1(0x1a8)]]===_0x1c00a1(0x173)&&(_0x4af3e1[_0x1c00a1(0x185)]=0x12c);const _0x2807d6=_0x2ceaae[_0x1c00a1(0x15c)](request,_0x4af3e1);if(_0x2807d6[_0x1c00a1(0x15f)]&&_0x2807d6[_0x1c00a1(0x15f)][_0x1c00a1(0x144)])throw new ArangoError(_0x2807d6[_0x1c00a1(0x15f)]);return _0x2807d6['throw'](),_0x2807d6[_0x1c00a1(0x15a)]?JSON[_0x1c00a1(0x161)](_0x2807d6[_0x1c00a1(0x15a)]):null;}function resolveAppInfo(_0x4a6457,_0x31065e){const _0x3555ea=_0x194767,_0x181a4b={'pBwRa':function(_0x23cde2,_0x17e5b0){return _0x23cde2===_0x17e5b0;},'iFXyx':_0x3555ea(0x164),'ifYRf':_0x3555ea(0x17a),'ZGdfd':_0x3555ea(0x16f),'SIMby':function(_0x1a6580,_0x54471c){return _0x1a6580!==_0x54471c;},'MhhkP':_0x3555ea(0x1b0),'XHeZU':_0x3555ea(0x19d),'YJuaS':'master','ikSoJ':function(_0x16698e,_0x2d2e83){return _0x16698e!==_0x2d2e83;},'xgzla':'tYWFw'};if(!_0x4a6457||_0x181a4b['SIMby'](typeof _0x4a6457,_0x181a4b['MhhkP']))return _0x4a6457;if(/^git:/i[_0x3555ea(0x187)](_0x4a6457)){const _0x4889d6=_0x4a6457[_0x3555ea(0x156)](':'),_0x5e0932=process[_0x3555ea(0x1ac)][_0x3555ea(0x198)]||_0x181a4b[_0x3555ea(0x17c)];return{'source':''+_0x5e0932+_0x4889d6[0x1]+_0x3555ea(0x1a3)+(_0x4889d6[0x2]||_0x181a4b['YJuaS'])+_0x3555ea(0x16c)};}if(/^https?:/i[_0x3555ea(0x187)](_0x4a6457))return FoxxManager[_0x3555ea(0x189)](_0x4a6457),{'source':_0x4a6457};if(/^uploads[/\\]tmp-/['test'](_0x4a6457)){const _0xb2ed1d=joinPath(fs[_0x3555ea(0x179)](),_0x4a6457),_0x1d0f27=fs['readFileSync'](_0xb2ed1d);try{fs[_0x3555ea(0x1a6)](_0xb2ed1d);}catch(_0x2bc5ff){console[_0x3555ea(0x13d)](_0x2bc5ff,_0x3555ea(0x14e)+_0xb2ed1d);}return _0x1d0f27;}if(fs['isDirectory'](_0x4a6457)){const _0x5684a9=fmu[_0x3555ea(0x16e)](_0x4a6457),_0x2c31c1=fs[_0x3555ea(0x17b)](_0x5684a9);try{fs['removeDirectoryRecursive'](_0x5684a9);}catch(_0x2d5fb7){_0x181a4b[_0x3555ea(0x194)](_0x181a4b['xgzla'],_0x3555ea(0x184))?_0x181a4b[_0x3555ea(0x157)](_0x3d4ca2[_0x3555ea(0x1b2)](0x0,0x4),_0x181a4b[_0x3555ea(0x1a2)])?_0x441378[_0x181a4b['ifYRf']]=_0x181a4b['ZGdfd']:_0x3d5b97[_0x181a4b[_0x3555ea(0x169)]]='application/javascript':console['warnStack'](_0x2d5fb7,'Failed\x20to\x20remove\x20temporary\x20file:\x20'+_0x5684a9);}return _0x2c31c1;}if(fs[_0x3555ea(0x143)](_0x4a6457))return fs[_0x3555ea(0x17b)](_0x4a6457);if(_0x31065e!==![])try{store['update']();}catch(_0x589e6a){console[_0x3555ea(0x13d)](_0x589e6a);}return{'source':_0x4a6457};}function throwIfApiDisabled(){const _0x3da671=_0x194767,_0x1cb1e5={'PSudO':function(_0x257609,_0x327545){return _0x257609===_0x327545;},'whWuX':_0x3da671(0x186)};if(internal[_0x3da671(0x19e)]()){if(_0x1cb1e5[_0x3da671(0x175)](_0x3da671(0x186),_0x1cb1e5['whWuX']))throw new ArangoError({'errorNum':errors['ERROR_SERVICE_API_DISABLED'][_0x3da671(0x13b)],'errorMessage':errors[_0x3da671(0x141)][_0x3da671(0x150)]});else{_0x572796();const _0xc82181=_0x51acc8[_0x3da671(0x168)];return _0x4a8708[_0x3da671(0x159)](_0xc82181);}}}function _0xdf07(_0x16818a,_0x1a63c1){const _0x2a9a9e=_0x2a9a();return _0xdf07=function(_0xdf0707,_0x4651a7){_0xdf0707=_0xdf0707-0x13b;let _0x1d1f10=_0x2a9a9e[_0xdf0707];return _0x1d1f10;},_0xdf07(_0x16818a,_0x1a63c1);}actions[_0x194767(0x177)]({'url':_0x194767(0x14a),'prefix':![],'isSystem':!![],'callback':easyPostCallback({'body':!![],'callback':function(_0x45bef2,_0x38885c){const _0x1c1bd0=_0x194767;throwIfApiDisabled();const _0x681af5=_0x45bef2[_0x1c1bd0(0x168)];return FoxxManager[_0x1c1bd0(0x149)](_0x681af5);}})}),actions['defineHttp']({'url':'_admin/foxx/teardown','prefix':![],'isSystem':!![],'callback':easyPostCallback({'body':!![],'callback':function(_0x2dc26b,_0x2102ab){const _0x4b2f6a=_0x194767;throwIfApiDisabled();const _0x12a2e6=_0x2dc26b[_0x4b2f6a(0x168)];return FoxxManager[_0x4b2f6a(0x18d)](_0x12a2e6);}})}),actions[_0x194767(0x177)]({'url':_0x194767(0x1ad),'prefix':![],'isSystem':!![],'callback':easyPostCallback({'body':!![],'callback':function(_0x3b42fb,_0x284ac5){const _0x44d29c=_0x194767,_0x3a5856={'CVXiM':function(_0x88463){return _0x88463();},'dxBuz':function(_0x421562,_0x792f17,_0x1492e6){return _0x421562(_0x792f17,_0x1492e6);},'upNaM':'POST','WEtgk':'/_api/foxx'};_0x3a5856[_0x44d29c(0x1a1)](throwIfApiDisabled);const _0xbe992=_0x3b42fb['mount'],_0x2a13ce=_0x3b42fb[_0x44d29c(0x180)]||{},_0x386ec2=_0x3a5856[_0x44d29c(0x151)](resolveAppInfo,_0x3b42fb[_0x44d29c(0x147)],_0x2a13ce['refresh']);return _0x2a13ce[_0x44d29c(0x168)]=_0xbe992,proxyLocal(_0x3a5856[_0x44d29c(0x140)],_0x3a5856[_0x44d29c(0x16b)],_0x2a13ce,_0x386ec2,_0x284ac5[_0x44d29c(0x19b)]),FoxxManager[_0x44d29c(0x17d)](_0xbe992)['simpleJSON']();}})}),actions['defineHttp']({'url':'_admin/foxx/uninstall','prefix':![],'isSystem':!![],'callback':easyPostCallback({'body':!![],'callback':function(_0x2f46ae,_0x4250e3){const _0x5b0224=_0x194767,_0xd28356={'QhoTz':function(_0x3679ef){return _0x3679ef();},'okCXw':function(_0x19de58,_0x1fcf1c,_0x42e77b,_0x425072,_0x52ce0e,_0x10ed34){return _0x19de58(_0x1fcf1c,_0x42e77b,_0x425072,_0x52ce0e,_0x10ed34);},'ZIViB':_0x5b0224(0x196)};_0xd28356[_0x5b0224(0x199)](throwIfApiDisabled);const _0x206973=_0x2f46ae[_0x5b0224(0x168)],_0x417b08=_0x2f46ae[_0x5b0224(0x180)]||{};return _0x417b08[_0x5b0224(0x168)]=_0x206973,_0xd28356[_0x5b0224(0x165)](proxyLocal,_0xd28356[_0x5b0224(0x146)],_0x5b0224(0x18f),_0x417b08,undefined,_0x4250e3['headers']),{'mount':_0x206973};}})}),actions[_0x194767(0x177)]({'url':_0x194767(0x195),'prefix':![],'isSystem':!![],'callback':easyPostCallback({'body':!![],'callback':function(_0x2cbf85,_0x3a402c){const _0x155407=_0x194767,_0x31b7bb={'hsfkD':function(_0x32b8f4,_0xe50fa4,_0x529d9,_0x33d8e6,_0x429d6a,_0x199e4c){return _0x32b8f4(_0xe50fa4,_0x529d9,_0x33d8e6,_0x429d6a,_0x199e4c);},'EKwBP':_0x155407(0x1a4)};throwIfApiDisabled();const _0x872dcd=_0x2cbf85['mount'],_0x1ebe62=_0x2cbf85[_0x155407(0x180)]||{},_0x1c4908=resolveAppInfo(_0x2cbf85[_0x155407(0x147)],_0x1ebe62[_0x155407(0x1a9)]);return _0x1ebe62[_0x155407(0x168)]=_0x872dcd,_0x31b7bb[_0x155407(0x19f)](proxyLocal,_0x31b7bb[_0x155407(0x188)],_0x155407(0x18f),_0x1ebe62,_0x1c4908,_0x3a402c[_0x155407(0x19b)]),FoxxManager[_0x155407(0x17d)](_0x872dcd)[_0x155407(0x181)]();}})}),actions[_0x194767(0x177)]({'url':_0x194767(0x1aa),'prefix':![],'isSystem':!![],'callback':easyPostCallback({'body':!![],'callback':function(_0x1e7c83,_0x3b250f){const _0x349bcd=_0x194767;throwIfApiDisabled();const _0x5a5e57=_0x1e7c83['mount'],_0x22a033=_0x1e7c83[_0x349bcd(0x180)]||{},_0x3c116b=resolveAppInfo(_0x1e7c83['appInfo'],_0x22a033[_0x349bcd(0x1a9)]);return _0x22a033[_0x349bcd(0x168)]=_0x5a5e57,proxyLocal('PATCH',_0x349bcd(0x18f),_0x22a033,_0x3c116b,_0x3b250f[_0x349bcd(0x19b)]),FoxxManager[_0x349bcd(0x17d)](_0x5a5e57)[_0x349bcd(0x181)]();}})}),actions[_0x194767(0x177)]({'url':_0x194767(0x145),'prefix':![],'isSystem':!![],'callback':easyPostCallback({'body':!![],'callback':function(_0x2df60c,_0x5af21a){const _0x2efb16=_0x194767;throwIfApiDisabled();const _0xe068d7=_0x2df60c[_0x2efb16(0x168)];let _0x1047be=_0x2df60c[_0x2efb16(0x180)];if(_0x1047be&&_0x1047be['configuration']){if(_0x2efb16(0x14d)==='ZbeHb')_0x1047be=_0x1047be[_0x2efb16(0x159)];else return _0x1c5488['production'](_0x3ce273)['simpleJSON']();}return proxyLocal(_0x2efb16(0x1a4),_0x2efb16(0x174),{'mount':_0xe068d7},_0x1047be,_0x5af21a['headers']),FoxxManager[_0x2efb16(0x17d)](_0xe068d7)['simpleJSON']();}})}),actions[_0x194767(0x177)]({'url':'_admin/foxx/configuration','prefix':![],'isSystem':!![],'callback':easyPostCallback({'body':!![],'callback':function(_0x5afd16,_0xfd8445){const _0x1b4777=_0x194767,_0x4b5e8d={'xDewu':function(_0x95f354){return _0x95f354();}};_0x4b5e8d[_0x1b4777(0x1a5)](throwIfApiDisabled);const _0x223b7b=_0x5afd16[_0x1b4777(0x168)];return FoxxManager[_0x1b4777(0x159)](_0x223b7b);}})}),actions['defineHttp']({'url':_0x194767(0x154),'prefix':![],'isSystem':!![],'callback':easyPostCallback({'body':!![],'callback':function(_0x3a94df,_0x48c685){const _0x5ce94c=_0x194767,_0x3ff337={'dqyrL':'content-type','UbaGr':_0x5ce94c(0x16f),'IsdAW':function(_0x3ed28b){return _0x3ed28b();},'PXxKp':function(_0x4919c8,_0x1f7248){return _0x4919c8!==_0x1f7248;},'Voanh':_0x5ce94c(0x167),'viOHU':function(_0x35afa8,_0x5d9455,_0x4c9f44,_0x36a40c,_0x5ce989,_0x4cff0b){return _0x35afa8(_0x5d9455,_0x4c9f44,_0x36a40c,_0x5ce989,_0x4cff0b);},'iniMM':_0x5ce94c(0x1a4),'tpgjo':'/_api/foxx/dependencies'};_0x3ff337[_0x5ce94c(0x178)](throwIfApiDisabled);const _0x413e96=_0x3a94df[_0x5ce94c(0x168)];let _0x3a62cc=_0x3a94df[_0x5ce94c(0x180)];return _0x3a62cc&&_0x3a62cc['dependencies']&&(_0x3ff337[_0x5ce94c(0x18c)](_0x5ce94c(0x17e),_0x3ff337[_0x5ce94c(0x19a)])?_0x3a62cc=_0x3a62cc[_0x5ce94c(0x1ae)]:_0x5f0d9b[_0x3ff337[_0x5ce94c(0x162)]]=_0x3ff337[_0x5ce94c(0x19c)]),_0x3ff337['viOHU'](proxyLocal,_0x3ff337[_0x5ce94c(0x171)],_0x3ff337['tpgjo'],{'mount':_0x413e96},_0x3a62cc,_0x48c685[_0x5ce94c(0x19b)]),FoxxManager[_0x5ce94c(0x17d)](_0x413e96)[_0x5ce94c(0x181)]();}})}),actions['defineHttp']({'url':_0x194767(0x191),'prefix':![],'isSystem':!![],'callback':easyPostCallback({'body':!![],'callback':function(_0x18c285,_0x4a0a1c){const _0x4d887d=_0x194767;throwIfApiDisabled();const _0x592e00=_0x18c285[_0x4d887d(0x168)],_0x5cadc3=FoxxManager[_0x4d887d(0x1ae)](_0x592e00);for(const _0x36a2ee of Object[_0x4d887d(0x163)](_0x5cadc3)){const _0x1f992b=_0x5cadc3[_0x36a2ee];_0x5cadc3[_0x36a2ee]={'definition':_0x1f992b,'title':_0x1f992b[_0x4d887d(0x193)],'current':_0x1f992b[_0x4d887d(0x15d)]},delete _0x1f992b[_0x4d887d(0x193)],delete _0x1f992b[_0x4d887d(0x15d)];}return _0x5cadc3;}})}),actions[_0x194767(0x177)]({'url':_0x194767(0x18b),'prefix':![],'isSystem':!![],'callback':easyPostCallback({'body':!![],'callback':function(_0x4d1e3e,_0x3badbb){const _0x1a8f3a=_0x194767,_0x2222a5={'oMNnd':function(_0x5d3177){return _0x5d3177();}};_0x2222a5[_0x1a8f3a(0x16a)](throwIfApiDisabled);const _0x682612=_0x4d1e3e[_0x1a8f3a(0x168)],_0x30ec2e=_0x4d1e3e['activate'];return _0x30ec2e?FoxxManager[_0x1a8f3a(0x1a7)](_0x682612)[_0x1a8f3a(0x181)]():FoxxManager[_0x1a8f3a(0x15b)](_0x682612)[_0x1a8f3a(0x181)]();}})}),actions[_0x194767(0x177)]({'url':_0x194767(0x153),'prefix':![],'isSystem':!![],'callback':easyPostCallback({'body':!![],'callback':function(_0x481b38,_0x1b3535){const _0x3c5b54=_0x194767;throwIfApiDisabled();const _0x465494=_0x481b38['mount'],_0x4767b3=_0x481b38['options'];return FoxxManager[_0x3c5b54(0x14c)](_0x465494,_0x4767b3);}})}),actions['defineHttp']({'url':_0x194767(0x166),'prefix':![],'isSystem':!![],'callback':easyPostCallback({'body':!![],'callback':function(_0x170c9d,_0x4dae24){const _0x8754d9=_0x194767;throwIfApiDisabled();const _0x3838dd=_0x170c9d[_0x8754d9(0x158)],_0x1e01b9=_0x170c9d[_0x8754d9(0x168)],_0x43320b=_0x170c9d[_0x8754d9(0x180)];return FoxxManager[_0x8754d9(0x155)](_0x3838dd,_0x1e01b9,_0x43320b);}})});