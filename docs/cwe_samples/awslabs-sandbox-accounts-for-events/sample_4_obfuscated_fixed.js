'use strict';const _0x3ea7ab=_0x2403;(function(_0x493eaa,_0x230086){const _0x4fd264=_0x2403,_0x1f6f0e=_0x493eaa();while(!![]){try{const _0x56ac05=parseInt(_0x4fd264(0x1df))/0x1+-parseInt(_0x4fd264(0x1e7))/0x2*(-parseInt(_0x4fd264(0x17b))/0x3)+-parseInt(_0x4fd264(0x122))/0x4*(-parseInt(_0x4fd264(0x133))/0x5)+-parseInt(_0x4fd264(0x1c7))/0x6+parseInt(_0x4fd264(0x249))/0x7*(-parseInt(_0x4fd264(0x132))/0x8)+-parseInt(_0x4fd264(0x248))/0x9*(parseInt(_0x4fd264(0x269))/0xa)+parseInt(_0x4fd264(0x15f))/0xb;if(_0x56ac05===_0x230086)break;else _0x1f6f0e['push'](_0x1f6f0e['shift']());}catch(_0x2e3629){_0x1f6f0e['push'](_0x1f6f0e['shift']());}}}(_0x5784,0xb1ece));const fs=require('fs'),path=require(_0x3ea7ab(0x168)),dd=require('dedent'),utils=require('@arangodb/foxx/manager-utils'),store=require(_0x3ea7ab(0x202)),FoxxService=require(_0x3ea7ab(0x1b1)),ensureServiceExecuted=require(_0x3ea7ab(0x1b9))[_0x3ea7ab(0x267)],arangodb=require('@arangodb'),ArangoError=arangodb[_0x3ea7ab(0x11e)],errors=arangodb[_0x3ea7ab(0x1e0)],aql=arangodb['aql'],db=arangodb['db'],ArangoClusterControl=require(_0x3ea7ab(0x173)),request=require(_0x3ea7ab(0x118)),actions=require(_0x3ea7ab(0x1bd)),isZipBuffer=require(_0x3ea7ab(0x185))[_0x3ea7ab(0x15c)],codeFrame=require(_0x3ea7ab(0x185))[_0x3ea7ab(0x25a)],internal=require(_0x3ea7ab(0x1b6)),SYSTEM_SERVICE_MOUNTS=[_0x3ea7ab(0x194),_0x3ea7ab(0x1a1)];let INTERNAL_SERVICE_MAP=new Map();const GLOBAL_SERVICE_MAP=new Map();function getAllCoordinatorIds(){const _0x5a888d=_0x3ea7ab;if(!ArangoClusterControl[_0x5a888d(0x12d)]())return[];return global[_0x5a888d(0x191)][_0x5a888d(0x12b)]();}function getMyCoordinatorId(){const _0x348e51=_0x3ea7ab;if(!ArangoClusterControl[_0x348e51(0x12d)]())return null;return global[_0x348e51(0x158)]['id']();}function isFoxxmaster(){const _0x1129e3=_0x3ea7ab;return global[_0x1129e3(0x158)]['isFoxxmaster']();}function validateInstallUrl(_0xb09e33){const _0x3baf9c=_0x3ea7ab,_0x54c71b={'ZFwtF':_0x3baf9c(0x209)};if(!internal[_0x3baf9c(0x1af)]()){let _0x465b48=require(_0x54c71b[_0x3baf9c(0x137)])[_0x3baf9c(0x16f)][_0x3baf9c(0x1c5)],_0x185323=![];if(_0x465b48)!_0xb09e33[_0x3baf9c(0x219)](_0x465b48)&&(_0x185323=!![]);else{const _0x469984=/^https?:\/\/([^:\.]+:[^@\.]*@)?(www\.)?github\.com\//i;_0x185323=!_0x469984['test'](_0xb09e33);}if(_0x185323)throw new ArangoError({'errorNum':errors[_0x3baf9c(0x24e)]['code'],'errorMessage':dd`
          ${errors['ERROR_FORBIDDEN'][_0x3baf9c(0x22d)]}
          Installing apps from remote URLs is disabled
        `});}}function selfHealAll(_0x4ea29f){const _0x3e39e3=_0x3ea7ab,_0x12845b={'iZlsB':function(_0x3999c4,_0x39afc8){return _0x3999c4(_0x39afc8);},'dUjbk':function(_0x474f25){return _0x474f25();},'LqySY':_0x3e39e3(0x1d4),'vdyZR':function(_0x2c47a0,_0x3a540d){return _0x2c47a0!==_0x3a540d;},'PGZFm':_0x3e39e3(0x186)},_0x5c8c94=_0x12845b['iZlsB'](require,_0x3e39e3(0x1b6))['db'],_0xee5883=_0x5c8c94[_0x3e39e3(0x1a0)]();let _0x3b2718=![];try{_0x5c8c94[_0x3e39e3(0x23f)]('_system');const _0xc873c4=_0x5c8c94[_0x3e39e3(0x19e)]();for(const _0x26a903 of _0xc873c4){try{_0x5c8c94[_0x3e39e3(0x23f)](_0x26a903),_0x3b2718=_0x12845b[_0x3e39e3(0x164)](selfHeal)||_0x3b2718;}catch(_0x17b7c1){console[_0x3e39e3(0x25c)](_0x17b7c1);}if(global[_0x3e39e3(0x160)](_0x12845b[_0x3e39e3(0x1f4)]))try{if(_0x12845b['vdyZR'](_0x3e39e3(0x186),_0x12845b[_0x3e39e3(0x1bb)]))try{return _0x1b0a90[_0x3e39e3(0x271)](_0x30a0aa);}catch(_0x40a691){return null;}else global[_0x3e39e3(0x18e)](_0x3e39e3(0x1d4));}catch(_0x2e7f98){}}}finally{_0x5c8c94[_0x3e39e3(0x23f)](_0xee5883),_0x3b2718&&!_0x4ea29f&&reloadRouting();}}function triggerSelfHeal(){const _0x3ed3eb=_0x3ea7ab,_0x5dbe93=selfHeal();_0x5dbe93&&('TnUki'!==_0x3ed3eb(0x199)?reloadRouting():_0x187df6[_0x3ed3eb(0x210)]({'_key':_0x593925['checksum']},_0x585c14[_0x3ed3eb(0x211)]));}function selfHeal(){const _0x507a87=_0x3ea7ab,_0x519db6={'CNNeq':function(_0x3732d4){return _0x3732d4();},'nhrAO':function(_0x5a7448,_0x52ebf3){return _0x5a7448!==_0x52ebf3;},'nwUBl':function(_0x1a466f,_0x58c317){return _0x1a466f&&_0x58c317;},'uWYfG':function(_0x3d0f28,_0x2cf607){return _0x3d0f28(_0x2cf607);},'jUbOp':function(_0x540e05,_0xd234dd){return _0x540e05||_0xd234dd;},'buOCk':function(_0xf9c0f4,_0x1abc9b){return _0xf9c0f4(_0x1abc9b);},'pGOce':function(_0x5f4f94,_0x400af8){return _0x5f4f94===_0x400af8;},'vKQMT':_0x507a87(0x1ef),'ghzEV':function(_0x5ac41e,_0x5b043b,_0x410a20){return _0x5ac41e(_0x5b043b,_0x410a20);}},_0x578a95=FoxxService[_0x507a87(0x231)]();!fs[_0x507a87(0x170)](_0x578a95)&&fs[_0x507a87(0x17e)](_0x578a95);const _0xf2a99a=utils[_0x507a87(0x21d)](),_0x11ee78=utils['getBundleStorage'](),_0xd041f0=db[_0x507a87(0x1d3)](aql`/*selfHeal*/ FOR doc IN ${_0xf2a99a}
    FILTER LEFT(doc.mount, 2) != "/_"
    LET bundleExists = DOCUMENT(${_0x11ee78}, doc.checksum) != null
    RETURN [doc.mount, doc.checksum, doc._rev, bundleExists]`)[_0x507a87(0x1b4)]();let _0x231161=![];const _0x4034b9=new Array(_0xd041f0[_0x507a87(0x113)]),_0x4453b8=new Array(_0xd041f0[_0x507a87(0x113)]);!GLOBAL_SERVICE_MAP['has'](db['_name']())&&_0x519db6[_0x507a87(0x145)](initLocalServiceMap);const _0x4aaf0a=GLOBAL_SERVICE_MAP['get'](db[_0x507a87(0x1a0)]());for(const [_0x57e5f6,_0x81fbde,_0x49d2ca,_0x30d233]of _0xd041f0){const _0x4ff5f6=FoxxService[_0x507a87(0x211)](_0x57e5f6),_0x4561de=FoxxService['basePath'](_0x57e5f6);_0x4034b9[_0x507a87(0x1d1)](_0x4ff5f6),_0x4453b8[_0x507a87(0x1d1)](_0x4561de);(!_0x4aaf0a[_0x507a87(0x255)](_0x57e5f6)||_0x519db6['nhrAO'](_0x4aaf0a[_0x507a87(0x11a)](_0x57e5f6)[_0x507a87(0x227)],_0x49d2ca))&&(_0x231161=!![]);const _0xcd2be5=fs[_0x507a87(0x170)](_0x4ff5f6),_0x57d310=fs['exists'](_0x4561de);if(_0x519db6[_0x507a87(0x19c)](!_0xcd2be5,_0x57d310))_0x519db6['uWYfG'](createServiceBundle,_0x57e5f6);else _0xcd2be5&&!_0x57d310&&(extractServiceBundle(_0x4ff5f6,_0x4561de),_0x231161=!![]);const _0x39a855=_0x519db6['jUbOp'](_0xcd2be5,_0x57d310),_0x10638a=_0x39a855?_0x519db6[_0x507a87(0x1e1)](safeChecksum,_0x57e5f6):null;if(!_0x81fbde)continue;if(_0x519db6[_0x507a87(0x238)](_0x81fbde,_0x10638a)){if(!_0x30d233)try{_0x11ee78[_0x507a87(0x210)]({'_key':_0x81fbde},_0x4ff5f6);}catch(_0x131348){console[_0x507a87(0x201)](_0x131348,_0x507a87(0x259)+_0x57e5f6+'\x22');}}else{if(_0x30d233){if(_0x519db6['nhrAO'](_0x519db6['vKQMT'],'jmrzA'))try{if(_0x519db6['pGOce'](_0x507a87(0x1dd),'fdBfu')){if(!_0x2f96a1)try{_0x22ca5d[_0x507a87(0x210)]({'_key':_0x6713ae},_0xa9f14e);}catch(_0x5820f0){_0x4a16b6[_0x507a87(0x201)](_0x5820f0,_0x507a87(0x259)+_0xc6b58d+'\x22');}}else fs[_0x507a87(0x170)](_0x4ff5f6)&&fs[_0x507a87(0x16c)](_0x4ff5f6),_0x11ee78[_0x507a87(0x161)](_0x81fbde,_0x4ff5f6),extractServiceBundle(_0x4ff5f6,_0x4561de),_0x231161=!![];}catch(_0x231ee8){console[_0x507a87(0x1a6)](_0x231ee8,'Failed\x20to\x20load\x20service\x20bundle\x20for\x20service\x20at\x20\x22'+_0x57e5f6+'\x22');}else{_0x38b85e(_0x13a30b);const _0x3c4f62=_0x1fccef(_0x2174d7);try{_0x329ce5(_0xc7d8bb,_0x3573c8,_0x3c4f62);}finally{_0x2455b7[_0x507a87(0x16c)](_0x3c4f62);}}}}}return _0x231161=_0x519db6[_0x507a87(0x153)](cleanupOrphanedServices,_0x4453b8,_0x4034b9)||_0x231161,_0x231161;}function cleanupOrphanedServices(_0x2e77ed,_0x3e03a8){const _0x2a26bf=_0x3ea7ab,_0xa3c652={'SlIhG':_0x2a26bf(0x18b),'fydrp':_0x2a26bf(0x279),'hHovq':function(_0x3ef56a,_0x4cbd8b){return _0x3ef56a(_0x4cbd8b);},'NKOhj':function(_0xf87c12,_0x372148){return _0xf87c12===_0x372148;},'uMCbn':'_appbundles','aEEpy':function(_0x523ee0,_0x1163c5){return _0x523ee0===_0x1163c5;},'VdvAb':'sLGYI','Xcotz':_0x2a26bf(0x127),'hrMcP':function(_0x122439,_0x25b0cc){return _0x122439!==_0x25b0cc;}};let _0x3a7ca4=![];function _0x2f884d(_0x4c711a){const _0x347ac8=_0x2a26bf;if(_0xa3c652[_0x347ac8(0x125)]!=='UdmGl')_0x37cb36(_0x1839af);else{if(!fs[_0x347ac8(0x266)](_0x4c711a))return;for(const _0x34b1e2 of fs['list'](_0x4c711a)){if(_0xa3c652['fydrp']!==_0x347ac8(0x279))_0x331689[_0x347ac8(0x197)](_0x57059c,!![]);else{const _0x42fd7b=path[_0x347ac8(0x18c)](_0x4c711a,_0x34b1e2);if(_0x34b1e2[_0x347ac8(0x1c0)]()!==_0x347ac8(0x138))_0xa3c652[_0x347ac8(0x20e)](_0x2f884d,_0x42fd7b);else{if(!_0x2e77ed['includes'](_0x42fd7b)){_0x3a7ca4=!![];try{fs[_0x347ac8(0x197)](_0x42fd7b,!![]),console[_0x347ac8(0x1b8)](_0x347ac8(0x165)+_0x42fd7b);}catch(_0x3f79dc){console[_0x347ac8(0x201)](_0x3f79dc,'Failed\x20to\x20delete\x20orphaned\x20service\x20folder\x20'+_0x42fd7b);}}}}}}}const _0x18ba63=FoxxService['rootPath']();for(const _0x231980 of fs[_0x2a26bf(0x1d6)](_0x18ba63)){if(_0xa3c652[_0x2a26bf(0x139)](_0x231980,_0xa3c652[_0x2a26bf(0x17d)]))continue;_0x2f884d(path[_0x2a26bf(0x18c)](_0x18ba63,_0x231980));}const _0x459a71=FoxxService[_0x2a26bf(0x231)]();for(const _0x424bd0 of fs[_0x2a26bf(0x1d6)](_0x459a71)){if(_0xa3c652['aEEpy'](_0xa3c652[_0x2a26bf(0x128)],_0xa3c652['Xcotz']))throw _0x63da80[_0x2a26bf(0x1fd)];else{const _0x3c6c09=path['resolve'](_0x459a71,_0x424bd0);if(!_0x3e03a8[_0x2a26bf(0x26e)](_0x3c6c09)){if(_0xa3c652[_0x2a26bf(0x139)](_0x2a26bf(0x13a),_0x2a26bf(0x1a5)))_0x8f7d41['makeDirectoryRecursive'](_0x36fe99);else try{fs[_0x2a26bf(0x16c)](_0x3c6c09),console[_0x2a26bf(0x1b8)]('Deleted\x20orphaned\x20service\x20bundle\x20'+_0x3c6c09);}catch(_0x3f9dbf){_0xa3c652[_0x2a26bf(0x1f3)](_0x2a26bf(0x1f2),'EEECl')?console[_0x2a26bf(0x201)](_0x3f9dbf,_0x2a26bf(0x218)+_0x3c6c09):_0x299e5e[_0x2a26bf(0x201)](_0x23b602,_0x2a26bf(0x207)+_0x13ffd4);}}}}return _0x3a7ca4;}function startup(){const _0x6725ca=_0x3ea7ab,_0x1e8415={'VIogu':_0x6725ca(0x1d4),'pUtOX':_0x6725ca(0x115),'TcpAn':function(_0x260ccd,_0x2132ec){return _0x260ccd===_0x2132ec;},'DCgdX':_0x6725ca(0x268),'SYzeT':function(_0x245b6e){return _0x245b6e();},'YTdRc':function(_0x3cfdf4){return _0x3cfdf4();},'yprxO':'@arangodb/tasks','gNopi':_0x6725ca(0x250)};if(_0x1e8415[_0x6725ca(0x236)](global[_0x6725ca(0x158)]['role'](),_0x6725ca(0x14b))){if('WdjKk'===_0x1e8415['DCgdX']){const _0x9c0b19=_0x2e7e6d[_0x6725ca(0x22f)](_0xace2a);if(!_0x9c0b19)throw new _0x5189c9({'errorNum':_0x4b80cf[_0x6725ca(0x228)][_0x6725ca(0x232)],'errorMessage':_0x235239`
        ${_0x11a322[_0x6725ca(0x228)][_0x6725ca(0x22d)]}
        Mount path: "${_0x5d868e}".
      `});const _0x1f9956=_0x1603de(_0x9c0b19);return _0x56d7d1&&_0x1f9956[_0x6725ca(0x221)](_0x6725ca(0x14e)),!_0x160062['has'](_0x13bee2[_0x6725ca(0x1a0)]())&&_0x490e70(),_0x54107e[_0x6725ca(0x11a)](_0x3a6572['_name']())['set'](_0x1f9956['mount'],_0x1f9956),_0x1f9956;}else commitLocalState(!![]),_0x1e8415[_0x6725ca(0x1ba)](selfHealAll);}else{let _0x192eea=0x1;const _0x466881=0x5*0x3c;if(global['FOXX_STARTUP_WAIT_FOR_SELF_HEAL'])_0x1e8415[_0x6725ca(0x16a)](selfHealAll),_0x192eea=_0x466881;else{let _0xa7c41e=db['_name']();try{db[_0x6725ca(0x19e)]()[_0x6725ca(0x1b0)](function(_0x4581b0){const _0x3467b7=_0x6725ca;db['_useDatabase'](_0xa7c41e),global[_0x3467b7(0x226)](_0x1e8415[_0x3467b7(0x217)],0x1,!![]);});}finally{db[_0x6725ca(0x23f)](_0xa7c41e);}}try{require(_0x1e8415[_0x6725ca(0x19f)])[_0x6725ca(0x1c8)]({'id':_0x6725ca(0x260),'isSystem':!![],'offset':_0x192eea,'period':_0x466881,'command':function(){const _0x3ac8f3=_0x6725ca,_0x3b0560=require(_0x1e8415[_0x3ac8f3(0x24d)]);_0x3b0560[_0x3ac8f3(0x234)]();}});}catch(_0x595afe){if(_0x1e8415[_0x6725ca(0x179)]!==_0x6725ca(0x250))_0xf5776f[_0x6725ca(0x265)](_0x40a042,_0x5d39e1);else{if(_0x595afe[_0x6725ca(0x239)]!==errors[_0x6725ca(0x1ed)][_0x6725ca(0x232)])throw _0x595afe;}}}}function commitLocalState(_0x5595ad){const _0x3c0ef1=_0x3ea7ab,_0x22c65d={'UZYJD':_0x3c0ef1(0x138),'EsuWl':function(_0x29a1ef,_0x1ace55){return _0x29a1ef+_0x1ace55;},'GVZBa':function(_0x34cba8,_0x4112ce){return _0x34cba8===_0x4112ce;},'RpxRB':_0x3c0ef1(0x176),'VgVpd':_0x3c0ef1(0x196),'mksPy':function(_0x4126ee,_0x13b024){return _0x4126ee!==_0x13b024;},'nqoLQ':_0x3c0ef1(0x162),'jewfk':'FUEzI','VhFpI':function(_0x5d5339,_0x2a7449){return _0x5d5339(_0x2a7449);},'xwVvm':'bTtUn','ygSTl':_0x3c0ef1(0x15e),'uIxcS':function(_0x1d6461){return _0x1d6461();}};let _0x28601d=![];const _0x38b10a=FoxxService['rootPath'](),_0x5db312=utils['getStorage'](),_0x4ea71e=utils[_0x3c0ef1(0x240)]();for(const _0x6ac387 of fs['listTree'](_0x38b10a)){if(!_0x6ac387)continue;const _0x58e10e=path[_0x3c0ef1(0x167)](_0x6ac387);if(_0x58e10e[_0x3c0ef1(0x1c0)]()!==_0x22c65d['UZYJD'])continue;const _0x567272=_0x22c65d[_0x3c0ef1(0x192)]('/',path[_0x3c0ef1(0x18f)](_0x6ac387)[_0x3c0ef1(0x181)](path[_0x3c0ef1(0x225)])['join']('/')),_0x367549=FoxxService['basePath'](_0x567272);if(!fs[_0x3c0ef1(0x1d6)](_0x367549)[_0x3c0ef1(0x113)])continue;const _0x7557ee=FoxxService['bundlePath'](_0x567272);!fs[_0x3c0ef1(0x170)](_0x7557ee)&&createServiceBundle(_0x567272,_0x7557ee);const _0x438a06=db['_query'](aql`
      FOR service IN ${_0x5db312}
      FILTER service.mount == ${_0x567272}
      RETURN service
    `)['next']();if(!_0x438a06){if(_0x22c65d[_0x3c0ef1(0x1c6)](_0x22c65d[_0x3c0ef1(0x1cf)],_0x22c65d['VgVpd'])){try{_0x12f13d[_0x3c0ef1(0x197)](_0x239027,!![]);}catch(_0x58d7a9){}throw _0x32eec4;}else try{const _0x346f35=FoxxService[_0x3c0ef1(0x21b)]({'mount':_0x567272});_0x346f35[_0x3c0ef1(0x184)](),!_0x4ea71e[_0x3c0ef1(0x170)](_0x346f35[_0x3c0ef1(0x271)])&&_0x4ea71e['_binaryInsert']({'_key':_0x346f35['checksum']},_0x7557ee),_0x5db312[_0x3c0ef1(0x244)](_0x346f35[_0x3c0ef1(0x26b)]()),_0x28601d=!![];}catch(_0xa03beb){if(_0x22c65d[_0x3c0ef1(0x190)](_0x22c65d['nqoLQ'],_0x22c65d[_0x3c0ef1(0x11b)]))console[_0x3c0ef1(0x1a6)](_0xa03beb);else throw _0x3b23ff;}}else{const _0x55538b=_0x22c65d[_0x3c0ef1(0x18a)](safeChecksum,_0x567272);if(!_0x438a06[_0x3c0ef1(0x271)]||_0x5595ad&&_0x438a06[_0x3c0ef1(0x271)]!==_0x55538b){if(!_0x4ea71e[_0x3c0ef1(0x170)](_0x55538b)){if(_0x22c65d[_0x3c0ef1(0x1f9)]===_0x22c65d[_0x3c0ef1(0x273)])throw _0x413061['error'];else _0x4ea71e['_binaryInsert']({'_key':_0x55538b},_0x7557ee);}_0x5db312['update'](_0x438a06['_key'],{'checksum':_0x55538b}),_0x28601d=!![];}else _0x438a06[_0x3c0ef1(0x271)]===_0x55538b&&(!_0x4ea71e['exists'](_0x55538b)&&(_0x4ea71e[_0x3c0ef1(0x210)]({'_key':_0x55538b},_0x7557ee),_0x28601d=!![]));}}_0x28601d&&(_0x22c65d[_0x3c0ef1(0x177)](propagateSelfHeal),reloadRouting());}function reloadRouting(){const _0xe0db7b=_0x3ea7ab;global[_0xe0db7b(0x169)]('reloadRouting'),actions[_0xe0db7b(0x223)]();}function propagateSelfHeal(){const _0x52a4e3=_0x3ea7ab;global[_0x52a4e3(0x1d7)]();}function initInternalServiceMap(){const _0x4fcb5e=_0x3ea7ab,_0x450853={'HNaQH':function(_0x3cbb0d,_0x407ec4){return _0x3cbb0d!==_0x407ec4;}};if(_0x450853[_0x4fcb5e(0x1b5)](INTERNAL_SERVICE_MAP[_0x4fcb5e(0x26a)],0x0))return;const _0x461719=new Map();for(const _0x5d6a05 of SYSTEM_SERVICE_MOUNTS){try{const _0xa3ec5={'mount':_0x5d6a05},_0x2ae869=FoxxService[_0x4fcb5e(0x21b)](_0xa3ec5);_0x461719[_0x4fcb5e(0x265)](_0x5d6a05,_0x2ae869);}catch(_0x491776){console['errorStack'](_0x491776);}}INTERNAL_SERVICE_MAP=_0x461719;}function initLocalServiceMap(){const _0x10d44a=_0x3ea7ab,_0x446e44={'OuUsO':function(_0x3416bb){return _0x3416bb();},'wOcCA':function(_0x36cc33,_0x5292b5){return _0x36cc33!==_0x5292b5;},'ezZbZ':_0x10d44a(0x17c)};_0x446e44['OuUsO'](initInternalServiceMap);const _0x3bcb09=new Map();for(let [_0x26dbc8,_0x28ebbd]of INTERNAL_SERVICE_MAP){_0x3bcb09[_0x10d44a(0x265)](_0x26dbc8,_0x28ebbd);}for(const _0x55b6f8 of utils[_0x10d44a(0x21d)]()[_0x10d44a(0x19b)]()){if(_0x446e44[_0x10d44a(0x22c)](_0x446e44[_0x10d44a(0x1b7)],_0x446e44[_0x10d44a(0x1b7)]))_0x2e40e6['debugStack'](_0x439d65);else try{const _0x5301d5=loadInstalledService(_0x55b6f8);_0x3bcb09[_0x10d44a(0x265)](_0x55b6f8[_0x10d44a(0x1cc)],_0x5301d5);}catch(_0x1f90d7){_0x3bcb09['set'](_0x55b6f8[_0x10d44a(0x1cc)],{'error':_0x1f90d7});}}GLOBAL_SERVICE_MAP['set'](db[_0x10d44a(0x1a0)](),_0x3bcb09);}function ensureFoxxInitialized(_0xcb6328){const _0x453679=_0x3ea7ab,_0x1ad5ba={'InyBh':_0x453679(0x1d4),'UKlaj':_0x453679(0x241),'GVvbP':_0x453679(0x263)};initInternalServiceMap();if(_0xcb6328)return;if(!GLOBAL_SERVICE_MAP[_0x453679(0x255)](db[_0x453679(0x1a0)]())){if(global['KEYSPACE_EXISTS'](_0x1ad5ba['InyBh'])){if('ygXAr'!==_0x1ad5ba[_0x453679(0x13e)])throw new _0x4d1f12({'errorNum':_0x3b917c[_0x453679(0x228)][_0x453679(0x232)],'errorMessage':_0x1c2599`
        ${_0x1a7ca3[_0x453679(0x228)][_0x453679(0x22d)]}
        Mount path: "${_0x22f97a}".
      `});else throw new ArangoError({'errorNum':errors[_0x453679(0x1ae)][_0x453679(0x232)],'errorMessage':_0x1ad5ba[_0x453679(0x204)]});}initLocalServiceMap();}}function ensureServiceLoaded(_0x2f63ec){const _0x134814=_0x3ea7ab,_0x189dba={'NKyZP':function(_0x218e75,_0x1a04ee,_0x2353b4){return _0x218e75(_0x1a04ee,_0x2353b4);}},_0x1a89e1=getServiceInstance(_0x2f63ec);return _0x189dba[_0x134814(0x134)](ensureServiceExecuted,_0x1a89e1,![]);}function getServiceInstance(_0x5825f5){const _0x3454bd=_0x3ea7ab,_0x3a6241={'IlMEy':function(_0xdad09f){return _0xdad09f();},'TxhEh':function(_0x93324,_0x5c6ab3){return _0x93324!==_0x5c6ab3;},'Jzcvl':function(_0x10099a,_0x34f8a6){return _0x10099a(_0x34f8a6);},'MgFIQ':_0x3454bd(0x12c)},_0x1752b2=_0x3a6241['TxhEh'](SYSTEM_SERVICE_MOUNTS['indexOf'](_0x5825f5),-0x1);_0x3a6241[_0x3454bd(0x1a7)](ensureFoxxInitialized,_0x1752b2);let _0x310e36;_0x1752b2?_0x310e36=INTERNAL_SERVICE_MAP:_0x310e36=GLOBAL_SERVICE_MAP[_0x3454bd(0x11a)](db['_name']());let _0x21c8bc;if(_0x310e36['has'](_0x5825f5))_0x21c8bc=_0x310e36[_0x3454bd(0x11a)](_0x5825f5);else!_0x1752b2&&(_0x21c8bc=_0x3a6241[_0x3454bd(0x1a7)](reloadInstalledService,_0x5825f5));if(!_0x21c8bc)throw new ArangoError({'errorNum':errors['ERROR_SERVICE_NOT_FOUND'][_0x3454bd(0x232)],'errorMessage':dd`
        ${errors['ERROR_SERVICE_NOT_FOUND']['message']}
        Mount path: "${_0x5825f5}".
      `});if(_0x21c8bc[_0x3454bd(0x1fd)]){if('iHByJ'===_0x3a6241[_0x3454bd(0x13c)])_0x3a6241[_0x3454bd(0x270)](_0x515309);else throw _0x21c8bc[_0x3454bd(0x1fd)];}return _0x21c8bc;}function reloadInstalledService(_0x2caaf2,_0x7ff331){const _0x26ba57=_0x3ea7ab,_0x5a066c={'ajMCE':function(_0x49dc24,_0x1f8ae4){return _0x49dc24(_0x1f8ae4);},'lzrmw':_0x26ba57(0x14e)},_0x3ceb49=utils[_0x26ba57(0x22f)](_0x2caaf2);if(!_0x3ceb49)throw new ArangoError({'errorNum':errors[_0x26ba57(0x228)]['code'],'errorMessage':dd`
        ${errors['ERROR_SERVICE_NOT_FOUND']['message']}
        Mount path: "${_0x2caaf2}".
      `});const _0x40dffa=_0x5a066c['ajMCE'](loadInstalledService,_0x3ceb49);if(_0x7ff331){if(_0x26ba57(0x13d)!==_0x26ba57(0x13d))throw new _0x36691d({'errorNum':_0x540e42[_0x26ba57(0x22e)][_0x26ba57(0x232)],'errorMessage':_0x1f8aa7`
            ${_0x596c4f[_0x26ba57(0x22e)][_0x26ba57(0x22d)]}
            Location: ${_0x52ad57}
          `});else _0x40dffa[_0x26ba57(0x221)](_0x5a066c[_0x26ba57(0x198)]);}return!GLOBAL_SERVICE_MAP[_0x26ba57(0x255)](db[_0x26ba57(0x1a0)]())&&initLocalServiceMap(),GLOBAL_SERVICE_MAP[_0x26ba57(0x11a)](db[_0x26ba57(0x1a0)]())[_0x26ba57(0x265)](_0x40dffa[_0x26ba57(0x1cc)],_0x40dffa),_0x40dffa;}function _0x5784(){const _0x284d0a=['manifest','setup','OjAjn','reloadInstalledService','UVWCf','manifest.json','ghzEV','index.js','Zkgkx','DPrzt','ERROR_SERVICE_FILES_MISSING','ArangoServerState','ZNhBG','HnOSF','BAqQH','isZipBuffer','readFileSync','GmtNN','18814796hCGjLe','KEYSPACE_EXISTS','_binaryDocument','ZZNQH','HUGGE','dUjbk','Deleted\x20orphaned\x20service\x20folder\x20','move','basename','path','SYS_EXECUTE_GLOBAL_CONTEXT_FUNCTION','YTdRc','Failed\x20to\x20load\x20service\x20bundle\x20for\x20service\x20at\x20\x22','remove','KkxIH','installationInfo','env','exists','test','_startup','@arangodb/cluster','QWbrY','join','TJuMg','uIxcS','oZcOu','gNopi','gmfCe','95409tJXgMc','YvPJj','uMCbn','makeDirectoryRecursive','listDevelopmentJson','install','split','GLDJd','TEKov','updateChecksum','@arangodb/util','bZWRv','MDVwh','RcIKk','xqwLb','VhFpI','UdmGl','resolve','searchJson','KEYSPACE_DROP','dirname','mksPy','ArangoClusterInfo','EsuWl','json','/_admin/aardvark','DVFmr','Nzrgq','removeDirectoryRecursive','lzrmw','GQwoA','search','all','nwUBl','fZqBA','_databases','yprxO','_name','/_api/foxx','\x5cmanifest.json','lookupService','kfEGR','txJQk','errorStack','Jzcvl','getFishbowlStorage','ERROR_SERVICE_FILES_OUTDATED','getTempFile','DYveo','validateMount','sLZAK','ERROR_HTTP_SERVICE_UNAVAILABLE','foxxAllowInstallFromRemote','forEach','@arangodb/foxx/service','pTwtr','okDJY','toArray','HNaQH','internal','ezZbZ','debug','@arangodb/foxx/routing','SYzeT','PGZFm','_reloadRouting','@arangodb/actions','aSNyx','LWQSQ','toUpperCase','HCKld','wdIJX','EgsTT','ensureFoxxInitialized','FOXX_BASE_URL','GVZBa','7992666PUsWyU','register','kABam','body','teardown','mount','Ogjpj','FVAcw','RpxRB','eFIOK','push','development','_query','FoxxFirstSelfHeal','kPlWL','list','SYS_PROPAGATE_SELF_HEAL','rrcrf','LZyCz','yKbKm','zEZQi','Lynas','rNqWd','GtBby','605619SJwjPO','errors','buOCk','listDevelopment','dependencies','replace','ERROR_SERVICE_SOURCE_ERROR','listTree','60EXXJic','hTPgX','tempServicePath','BJPgP','sort','_checksumPath','ERROR_TASK_DUPLICATE_ID','url','SCCAN','/manifest.json','writeFileSync','oANiD','hrMcP','LqySY','VCNSV','BZPcS','BYaUr','basePath','xwVvm','options','yExfo','DOqqi','error','abnBO','SdrPS','MDtys','warnStack','@arangodb/foxx/store','WUNGM','GVvbP','IKXMj','bztlh','Failed\x20to\x20delete\x20orphaned\x20service\x20folder\x20','heal','process','AHani','EBvhh','TNsRT','production','hHovq','utf-8','_binaryInsert','bundlePath','isDevelopment','services','JxrRd','runTests','availableJson','VIogu','Failed\x20to\x20delete\x20orphaned\x20service\x20bundle\x20','startsWith','applyDependencies','create','ERROR_SERVICE_MANIFEST_NOT_FOUND','getStorage','info','updateService','ERROR_SERVICE_MOUNTPOINT_CONFLICT','executeScript','toqle','reloadRouting','_resetCache','sep','KEYSPACE_CREATE','_rev','ERROR_SERVICE_NOT_FOUND','CEYXd','kdPwD','jTlvf','wOcCA','message','ERROR_SERVICE_SOURCE_NOT_FOUND','getServiceDefinition','qUzzt','rootBundlePath','code','clear','healAll','installedServices','TcpAn','DVeyz','pGOce','errorNum','copyFile','configuration','Lnfds','tempBundlePath','aQJXY','_useDatabase','getBundleStorage','ygXAr','run','Cannot\x20remove\x20temporary\x20file\x20\x22','save','nIRIM','IAIbs','@arangodb/foxx/mocha','18EJcpJT','56ITZInN','pBUld','setConfiguration','KypwD','pUtOX','ERROR_FORBIDDEN','tcwNL','adaJU','ECWFl','legacy','BfBnv','uqiVU','has','from','fvBqw','mCnXc','Failed\x20to\x20store\x20missing\x20service\x20bundle\x20for\x20service\x20at\x20\x22','codeFrame','exports','debugStack','kUvJi','onSRa','parse','self-heal','delete','thSyp','waiting\x20for\x20initialization\x20of\x20Foxx\x20services\x20in\x20this\x20database','IQlDX','set','isDirectory','routeService','KbiWy','3738610HdDbBh','size','toJSON','uninstall','ZdAgl','includes','ZJHYG','IlMEy','checksum','ERROR_MALFORMED_MANIFEST_FILE','ygSTl','MkWmq','HEgZw','bundles','filter','isFoxxmaster','byMEV','length','unzipFile','@arangodb/foxx/manager','update','ZGODY','@arangodb/request','bEKFt','get','jewfk','zipDirectory','rSVmz','ArangoError','endsWith','sKqhD','CEeBb','24vaUoHK','cTtJF','throw','SlIhG','zfUwm','fpazh','VdvAb','assign','AxvQF','getCoordinators','mVXqo','isCluster','_createServiceBundle','makeDirectory','upgrade','validateInstallUrl','1358056yewupg','747105AManeR','NKyZP','FipZY','available','ZFwtF','APP','NKOhj','jeRyF','ensureRouted','MgFIQ','pHKBY','UKlaj','GebTD','Deleted\x20orphaned\x20service\x20bundle\x20','force','keys','dDbXQ','elfvH','CNNeq','lEWWj','gigBj','PhbXy','joinLastPath','wXHPy','SINGLE','iuIsz'];_0x5784=function(){return _0x284d0a;};return _0x5784();}function loadInstalledService(_0x1fbd0c){const _0x277af8=_0x3ea7ab,_0x3e36e2={'DOqqi':function(_0x5cb575,_0x4bb24a){return _0x5cb575===_0x4bb24a;}},_0x4c6e23=_0x1fbd0c[_0x277af8(0x1cc)];if(!_0x4c6e23[_0x277af8(0x219)]('/_')){if(!fs[_0x277af8(0x170)](FoxxService['bundlePath'](_0x4c6e23))||!fs['exists'](FoxxService[_0x277af8(0x1f8)](_0x4c6e23))){if(_0x3e36e2[_0x277af8(0x1fc)](_0x277af8(0x1d9),'LZyCz'))throw new ArangoError({'errorNum':errors[_0x277af8(0x157)][_0x277af8(0x232)],'errorMessage':dd`
          ${errors[_0x277af8(0x157)][_0x277af8(0x22d)]}
          Mount: ${_0x4c6e23}
        `});else return;}const _0x45beaf=_0x1fbd0c[_0x277af8(0x271)];if(_0x45beaf&&_0x45beaf!==safeChecksum(_0x4c6e23))throw new ArangoError({'errorNum':errors['ERROR_SERVICE_FILES_OUTDATED']['code'],'errorMessage':dd`
          ${errors[_0x277af8(0x1a9)][_0x277af8(0x22d)]}
          Mount: ${_0x4c6e23}
        `});}return FoxxService[_0x277af8(0x21b)](_0x1fbd0c);}function patchManifestFile(_0x9dd0cb,_0x2965c5){const _0x47709a=_0x3ea7ab,_0x54e90b={'OjAjn':_0x47709a(0x20f)},_0x44eaac=path[_0x47709a(0x175)](_0x9dd0cb,_0x47709a(0x152));let _0x51fb9a;try{const _0x2a67e6=fs[_0x47709a(0x15d)](_0x44eaac,_0x54e90b[_0x47709a(0x14f)]);_0x51fb9a=JSON[_0x47709a(0x25f)](_0x2a67e6);}catch(_0x65d508){throw Object['assign'](new ArangoError({'errorNum':errors['ERROR_MALFORMED_MANIFEST_FILE'][_0x47709a(0x232)],'errorMessage':dd`
          ${errors[_0x47709a(0x272)]['message']}
          File: ${_0x44eaac}
        `}),{'cause':_0x65d508});}Object[_0x47709a(0x129)](_0x51fb9a,_0x2965c5),fs[_0x47709a(0x1f1)](_0x44eaac,JSON['stringify'](_0x51fb9a,null,0x2));}function _prepareService(_0x2bad84,_0x419391=![]){const _0x17a3c2=_0x3ea7ab,_0x422f4d={'BfBnv':'^2.8.0','JxrRd':function(_0x2efec0,_0x19cdd9,_0x5abff7){return _0x2efec0(_0x19cdd9,_0x5abff7);},'aQJXY':function(_0x37f48a,_0x2b5367,_0x3b74fb){return _0x37f48a(_0x2b5367,_0x3b74fb);},'IAIbs':function(_0x5ac11d,_0x4c7c17){return _0x5ac11d!==_0x4c7c17;},'nIRIM':_0x17a3c2(0x1ab),'tyNJW':_0x17a3c2(0x276),'CEeBb':function(_0xf8723d,_0x4df1ba,_0x258d27){return _0xf8723d(_0x4df1ba,_0x258d27);},'onSRa':function(_0x182cec,_0x5943a,_0x4a6a21,_0x26121b){return _0x182cec(_0x5943a,_0x4a6a21,_0x26121b);},'BZPcS':function(_0x17e8bd,_0x103d11){return _0x17e8bd(_0x103d11);},'HEgZw':_0x17a3c2(0x174),'TEKov':function(_0x5098fc,_0x27c80c,_0x1bc9f3,_0x76999a){return _0x5098fc(_0x27c80c,_0x1bc9f3,_0x76999a);},'FipZY':function(_0x2ba1c2,_0x310a4){return _0x2ba1c2!==_0x310a4;},'AxvQF':_0x17a3c2(0x254),'BYaUr':_0x17a3c2(0x146),'SdrPS':_0x17a3c2(0x262),'HWzUm':function(_0x2ecfd7,_0x4a0120){return _0x2ecfd7===_0x4a0120;},'hNIRY':_0x17a3c2(0x1e8),'IQlDX':_0x17a3c2(0x1d8)},_0x482837=utils[_0x17a3c2(0x149)](fs['getTempFile'](_0x17a3c2(0x213),![])),_0x41c9aa=utils['joinLastPath'](fs['getTempFile'](_0x17a3c2(0x276),![]));try{if(isZipBuffer(_0x2bad84)){if(_0x422f4d[_0x17a3c2(0x246)](_0x17a3c2(0x1ab),_0x422f4d[_0x17a3c2(0x245)]))_0x504763[_0x17a3c2(0x1a6)](_0xa53142);else{const _0x46d0ce=fs[_0x17a3c2(0x1aa)](_0x422f4d['tyNJW'],![]);fs[_0x17a3c2(0x1f1)](_0x46d0ce,_0x2bad84),_0x422f4d[_0x17a3c2(0x121)](extractServiceBundle,_0x46d0ce,_0x482837),fs[_0x17a3c2(0x166)](_0x46d0ce,_0x41c9aa);}}else{if(_0x2bad84 instanceof Buffer)_0x422f4d[_0x17a3c2(0x25e)](_buildServiceBundleFromScript,_0x482837,_0x41c9aa,_0x2bad84);else{if(/^https?:/i[_0x17a3c2(0x171)](_0x2bad84)){validateInstallUrl(_0x2bad84);const _0x53124a=_0x422f4d[_0x17a3c2(0x1f6)](downloadServiceBundleFromRemote,_0x2bad84);try{_0x422f4d[_0x17a3c2(0x275)]===_0x17a3c2(0x174)?_0x422f4d[_0x17a3c2(0x183)](_buildServiceFromFile,_0x482837,_0x41c9aa,_0x53124a):(_0x5ad837(_0x4a02ed,{'engines':{'arangodb':_0x422f4d[_0x17a3c2(0x253)]}}),_0x2b4dde[_0x17a3c2(0x170)](_0x4df801)&&_0x45bebe['remove'](_0x3d549b),_0x572707[_0x17a3c2(0x11c)](_0x3b6ebe,_0x24daa3));}finally{fs[_0x17a3c2(0x16c)](_0x53124a);}}else{if(fs[_0x17a3c2(0x170)](_0x2bad84)){if(_0x422f4d[_0x17a3c2(0x135)](_0x422f4d[_0x17a3c2(0x12a)],_0x17a3c2(0x254)))try{_0x5ad453[_0x17a3c2(0x170)](_0x314b34)&&_0x52e4a1[_0x17a3c2(0x16c)](_0x5587ae),_0x1de33c[_0x17a3c2(0x161)](_0x51a4d0,_0x202d11),_0x422f4d[_0x17a3c2(0x214)](_0x30127e,_0x1b49d9,_0xb9af2f),_0x1107f6=!![];}catch(_0x150e5a){_0x4e2668['errorStack'](_0x150e5a,_0x17a3c2(0x16b)+_0x4198cf+'\x22');}else fs[_0x17a3c2(0x266)](_0x2bad84)?(utils['zipDirectory'](_0x2bad84,_0x41c9aa),extractServiceBundle(_0x41c9aa,_0x482837)):_buildServiceFromFile(_0x482837,_0x41c9aa,_0x2bad84);}else{const _0x9e128b=!internal['isFoxxApiDisabled']()&&store[_0x17a3c2(0x16e)](_0x2bad84);if(!_0x9e128b){if(_0x422f4d[_0x17a3c2(0x246)](_0x17a3c2(0x1da),_0x422f4d[_0x17a3c2(0x1f7)]))throw new ArangoError({'errorNum':errors[_0x17a3c2(0x22e)][_0x17a3c2(0x232)],'errorMessage':dd`
            ${errors[_0x17a3c2(0x22e)][_0x17a3c2(0x22d)]}
            Location: ${_0x2bad84}
          `});else try{_0x5966dd['_binaryInsert']({'_key':_0x4cb728},_0x43399f);}catch(_0x25b9ae){_0x96cfeb[_0x17a3c2(0x201)](_0x25b9ae,_0x17a3c2(0x259)+_0x365882+'\x22');}}const _0x14228d=downloadServiceBundleFromRemote(_0x9e128b[_0x17a3c2(0x1ee)]);try{_0x17a3c2(0x159)!==_0x17a3c2(0x159)?_0x29e0bf=!![]:extractServiceBundle(_0x14228d,_0x482837);}finally{try{fs['remove'](_0x14228d);}catch(_0x41c0c2){console['warnStack'](_0x41c0c2,_0x17a3c2(0x243)+_0x14228d+'\x22');}}patchManifestFile(_0x482837,_0x9e128b[_0x17a3c2(0x14d)]),utils[_0x17a3c2(0x11c)](_0x482837,_0x41c9aa);}}}}if(_0x419391){if(_0x422f4d[_0x17a3c2(0x1ff)]===_0x422f4d[_0x17a3c2(0x1ff)]){patchManifestFile(_0x482837,{'engines':{'arangodb':'^2.8.0'}});if(fs[_0x17a3c2(0x170)](_0x41c9aa)){if(_0x422f4d['HWzUm'](_0x17a3c2(0x1e8),_0x422f4d['hNIRY']))fs['remove'](_0x41c9aa);else throw _0x2e7fa1[_0x17a3c2(0x129)](new _0x180b30({'errorNum':_0x56818f[_0x17a3c2(0x1e5)][_0x17a3c2(0x232)],'errorMessage':_0x1f43af`
          ${_0x578785[_0x17a3c2(0x1e5)]['message']}
          URL: ${_0x3a9a71}
        `}),{'cause':_0x419347});}utils[_0x17a3c2(0x11c)](_0x482837,_0x41c9aa);}else _0xfd3b95[_0x17a3c2(0x266)](_0x200f97)?(_0x132c9b[_0x17a3c2(0x11c)](_0x1c9485,_0x23d7f6),_0x422f4d[_0x17a3c2(0x23e)](_0x2073d0,_0x53ce54,_0x3557b0)):_0x570906(_0x3f6a63,_0x274d42,_0x1355c9);}return{'tempServicePath':_0x482837,'tempBundlePath':_0x41c9aa};}catch(_0x457006){try{if(_0x422f4d['IAIbs'](_0x17a3c2(0x1fe),_0x422f4d[_0x17a3c2(0x264)]))fs[_0x17a3c2(0x197)](_0x482837,!![]);else{_0x55a3e4(_0xe4bb7b);if(_0x17ebfe)return _0x40f27c[_0x17a3c2(0x256)](_0x284640['keys']());return _0x2505b9[_0x17a3c2(0x256)](_0x453110[_0x17a3c2(0x11a)](_0x54482c[_0x17a3c2(0x1a0)]())[_0x17a3c2(0x142)]());}}catch(_0x440519){}throw _0x457006;}}function _buildServiceFromFile(_0x126c74,_0x4e52a6,_0x27d282){const _0x302292=_0x3ea7ab,_0x25517e={'toqle':_0x302292(0x205),'EgsTT':function(_0x43255d,_0x2f0bb1,_0x2f8612){return _0x43255d(_0x2f0bb1,_0x2f8612);},'mCnXc':_0x302292(0x1d0)};try{'IKXMj'===_0x25517e[_0x302292(0x222)]?_0x25517e[_0x302292(0x1c3)](extractServiceBundle,_0x27d282,_0x126c74):_0x5e7fc3['remove'](_0x51f96a);}catch(_0x3d54de){if(_0x25517e[_0x302292(0x258)]!==_0x25517e[_0x302292(0x258)]){const _0x59a341=_0x595698[_0x302292(0x22f)](_0xd381e5);if(!_0x59a341)throw new _0x3c80bb({'errorNum':_0x44dec1['ERROR_SERVICE_NOT_FOUND'][_0x302292(0x232)],'errorMessage':_0x2a36a1`
          ${_0x195dcf[_0x302292(0x228)]['message']}
          Mount path: "${_0xe0ccfd}".
        `});}else{_buildServiceBundleFromScript(_0x126c74,_0x4e52a6,fs[_0x302292(0x15d)](_0x27d282));return;}}fs[_0x302292(0x23a)](_0x27d282,_0x4e52a6);}function _buildServiceBundleFromScript(_0x4ef4bd,_0x41864b,_0x52ca65){const _0x3c095c=_0x3ea7ab,_0x5955cd={'NnBYE':_0x3c095c(0x154),'WUNGM':_0x3c095c(0x152)},_0x4ddae9=JSON['stringify']({'main':_0x3c095c(0x154)},null,0x4);fs['makeDirectoryRecursive'](_0x4ef4bd),fs[_0x3c095c(0x1f1)](path['join'](_0x4ef4bd,_0x5955cd['NnBYE']),_0x52ca65),fs['writeFileSync'](path['join'](_0x4ef4bd,_0x5955cd[_0x3c095c(0x203)]),_0x4ddae9),utils[_0x3c095c(0x11c)](_0x4ef4bd,_0x41864b);}function _deleteServiceFromPath(_0x1878df,_0x1ef84f){}function _install(_0x2c76b0,_0x4725f6,_0xdfbdc2={}){const _0x20a1c6=_0x3ea7ab,_0x3771e2={'gigBj':function(_0x5d2a2d,_0x223237){return _0x5d2a2d!==_0x223237;},'CEYXd':_0x20a1c6(0x206),'yExfo':function(_0x7e70e0,_0x39fd45,_0x55ea42){return _0x7e70e0(_0x39fd45,_0x55ea42);},'xqwLb':function(_0x23ab1d,_0x21e107){return _0x23ab1d===_0x21e107;},'ZGODY':_0x20a1c6(0x23c),'DVFmr':function(_0x66c415,_0x1b1db7){return _0x66c415===_0x1b1db7;},'EBvhh':_0x20a1c6(0x24f),'ZdAgl':_0x20a1c6(0x1db)};try{if(_0x3771e2[_0x20a1c6(0x147)](_0xdfbdc2['setup'],![]))try{_0x2c76b0[_0x20a1c6(0x221)]('setup');}catch(_0x26939a){if(!_0xdfbdc2[_0x20a1c6(0x141)]){if(_0x3771e2['CEYXd']===_0x3771e2[_0x20a1c6(0x229)]){_0x26939a['codeFrame']=_0x3771e2[_0x20a1c6(0x1fb)](codeFrame,_0x26939a,_0x2c76b0[_0x20a1c6(0x1f8)]);throw _0x26939a;}else{const _0x49302c=_0x1c6f50['resolve'](_0x569daf,_0x23b86a);if(!_0x825774[_0x20a1c6(0x26e)](_0x49302c))try{_0x906f37[_0x20a1c6(0x16c)](_0x49302c),_0x1446a9[_0x20a1c6(0x1b8)](_0x20a1c6(0x140)+_0x49302c);}catch(_0x210148){_0x5f1274[_0x20a1c6(0x201)](_0x210148,_0x20a1c6(0x218)+_0x49302c);}}}else console[_0x20a1c6(0x201)](_0x26939a);}_0x2c76b0[_0x20a1c6(0x271)]=FoxxService[_0x20a1c6(0x1ec)](_0x4725f6);try{_0x3771e2[_0x20a1c6(0x1fb)](ensureServiceExecuted,_0x2c76b0,!![]);}catch(_0x3da675){if(_0x3771e2[_0x20a1c6(0x189)](_0x20a1c6(0x23c),_0x3771e2[_0x20a1c6(0x117)])){if(!_0xdfbdc2['force']){_0x3da675[_0x20a1c6(0x25a)]=_0x3771e2[_0x20a1c6(0x1fb)](codeFrame,_0x3da675,_0x2c76b0[_0x20a1c6(0x1f8)]);throw _0x3da675;}else console[_0x20a1c6(0x201)](_0x3da675);}else _0x5073f3[_0x20a1c6(0x1a6)](_0x2e1f02,_0x20a1c6(0x16b)+_0xe0c70+'\x22');}const _0x4f1516=utils[_0x20a1c6(0x240)]();if(!_0x4f1516[_0x20a1c6(0x170)](_0x2c76b0['checksum'])){if(_0x3771e2[_0x20a1c6(0x195)](_0x20a1c6(0x1d5),_0x20a1c6(0x1f5)))throw new _0x497889({'errorNum':_0x3fecb6['ERROR_SERVICE_FILES_MISSING'][_0x20a1c6(0x232)],'errorMessage':_0x44d6e9`
          ${_0x392b53[_0x20a1c6(0x157)][_0x20a1c6(0x22d)]}
          Mount: ${_0x2e079a}
        `});else _0x4f1516['_binaryInsert']({'_key':_0x2c76b0['checksum']},_0x4725f6);}const _0x46d549=_0x2c76b0[_0x20a1c6(0x26b)](),_0x2a5634=utils[_0x20a1c6(0x21d)]();db[_0x20a1c6(0x1d3)](aql`
      UPSERT {mount: ${_0x2c76b0['mount']}}
      INSERT ${_0x46d549}
      REPLACE ${_0x46d549}
      IN ${_0x2a5634}
    `);}finally{if(_0x3771e2[_0x20a1c6(0x20b)]!==_0x3771e2[_0x20a1c6(0x26d)])fs[_0x20a1c6(0x16c)](_0x4725f6),fs[_0x20a1c6(0x197)](_0x2c76b0[_0x20a1c6(0x1f8)]);else throw new _0xb80f8f({'errorNum':_0x305427[_0x20a1c6(0x220)][_0x20a1c6(0x232)],'errorMessage':_0x2d2a06`
        ${_0xa84077[_0x20a1c6(0x220)][_0x20a1c6(0x22d)]}
        Mount path: "${_0x3f7c50}".
      `});}}function _uninstall(_0x3b88e7,_0xbdac6b={}){const _0x243b74=_0x3ea7ab,_0x41cfc7={'aSNyx':function(_0x3a8b77,_0x54ea89){return _0x3a8b77!==_0x54ea89;},'MkWmq':'UxDNe','TNsRT':'Iwfof','pbxXf':function(_0x50eece,_0x428847){return _0x50eece!==_0x428847;},'IGIfP':_0x243b74(0x1cb),'ZJHYG':_0x243b74(0x143),'HUGGE':_0x243b74(0x251),'OipTX':'ZpBkT'};let _0x3fdcb7;try{_0x3fdcb7=getServiceInstance(_0x3b88e7);if(_0x3fdcb7[_0x243b74(0x1fd)]){const _0x478e77=_0x3fdcb7['error'];_0x3fdcb7=null;throw _0x478e77;}}catch(_0x5b05b4){if(_0x41cfc7[_0x243b74(0x1be)](_0x41cfc7[_0x243b74(0x274)],_0x41cfc7[_0x243b74(0x20c)])){if(!_0xbdac6b[_0x243b74(0x141)])throw _0x5b05b4;}else _0x1f5f75['warnStack'](_0xec0c9f,_0x243b74(0x218)+_0x4f066f);}if(_0x3fdcb7&&_0x41cfc7['pbxXf'](_0xbdac6b[_0x243b74(0x1cb)],![]))try{_0x3fdcb7[_0x243b74(0x221)](_0x41cfc7['IGIfP']);}catch(_0x12872b){if(_0x41cfc7[_0x243b74(0x26f)]===_0x41cfc7[_0x243b74(0x26f)]){if(!_0xbdac6b[_0x243b74(0x141)])throw _0x12872b;console['warnStack'](_0x12872b);}else _0x2d0c36[_0x243b74(0x23f)](_0x13f0e2);}const _0x1c8ad7=utils[_0x243b74(0x21d)]();db['_query'](aql`
    FOR service IN ${_0x1c8ad7}
    FILTER service.mount == ${_0x3b88e7}
    REMOVE service IN ${_0x1c8ad7}
  `);if(!GLOBAL_SERVICE_MAP['has'](db[_0x243b74(0x1a0)]())){if(_0x41cfc7[_0x243b74(0x163)]===_0x243b74(0x25d)){_0x5ddf23[_0x243b74(0x25a)]=_0x2242b0(_0x459cfd,_0x2ebe1b['basePath']);throw _0x179ff4;}else initLocalServiceMap();}GLOBAL_SERVICE_MAP[_0x243b74(0x11a)](db[_0x243b74(0x1a0)]())[_0x243b74(0x261)](_0x3b88e7);const _0x26bcfa=FoxxService[_0x243b74(0x1f8)](_0x3b88e7);if(fs[_0x243b74(0x170)](_0x26bcfa))try{fs['removeDirectoryRecursive'](_0x26bcfa,!![]);}catch(_0x136465){if(!_0xbdac6b[_0x243b74(0x141)])throw _0x136465;console[_0x243b74(0x201)](_0x136465);}const _0x1c8b40=FoxxService[_0x243b74(0x211)](_0x3b88e7);if(fs['exists'](_0x1c8b40)){if(_0x41cfc7['OipTX']===_0x243b74(0x151))return _0x1d9e79[_0x243b74(0x271)](_0x5cb4b6);else try{fs[_0x243b74(0x16c)](_0x1c8b40);}catch(_0xb14cb5){if(!_0xbdac6b[_0x243b74(0x141)])throw _0xb14cb5;console[_0x243b74(0x201)](_0xb14cb5);}}return _0x3fdcb7;}function createServiceBundle(_0xe1d2b4,_0x4043bc=FoxxService[_0x3ea7ab(0x211)](_0xe1d2b4)){const _0x4ff3a2=_0x3ea7ab,_0x343074={'AIASR':_0x4ff3a2(0x230),'LWQSQ':_0x4ff3a2(0x120)},_0x595341=FoxxService['basePath'](_0xe1d2b4);if(fs[_0x4ff3a2(0x170)](_0x4043bc)){if(_0x343074['AIASR']!==_0x343074[_0x4ff3a2(0x1bf)])fs[_0x4ff3a2(0x16c)](_0x4043bc);else throw new _0x327a72({'errorNum':_0xa6e5c2[_0x4ff3a2(0x1a9)]['code'],'errorMessage':_0x2bd096`
          ${_0x2f37aa[_0x4ff3a2(0x1a9)]['message']}
          Mount: ${_0x5184d0}
        `});}fs[_0x4ff3a2(0x17e)](path[_0x4ff3a2(0x18f)](_0x4043bc)),utils[_0x4ff3a2(0x11c)](_0x595341,_0x4043bc);}function downloadServiceBundleFromRemote(_0x4cba88){const _0xfc2adf=_0x3ea7ab;try{const _0xba9e2d=request['get'](_0x4cba88,{'encoding':null});if(_0xba9e2d[_0xfc2adf(0x193)]&&_0xba9e2d['json'][_0xfc2adf(0x239)])throw new ArangoError(_0xba9e2d[_0xfc2adf(0x193)]);_0xba9e2d[_0xfc2adf(0x124)]();const _0xa2b508=fs[_0xfc2adf(0x1aa)](_0xfc2adf(0x276),![]);return fs[_0xfc2adf(0x1f1)](_0xa2b508,_0xba9e2d[_0xfc2adf(0x1ca)]),_0xa2b508;}catch(_0x1da8de){throw Object[_0xfc2adf(0x129)](new ArangoError({'errorNum':errors[_0xfc2adf(0x1e5)][_0xfc2adf(0x232)],'errorMessage':dd`
          ${errors[_0xfc2adf(0x1e5)][_0xfc2adf(0x22d)]}
          URL: ${_0x4cba88}
        `}),{'cause':_0x1da8de});}}function extractServiceBundle(_0x4cac39,_0x57031d){const _0x1002a0=_0x3ea7ab,_0x10b055={'RcIKk':_0x1002a0(0x1a2),'wXHPy':_0x1002a0(0x200),'rSVmz':function(_0x3e671e,_0x417214){return _0x3e671e===_0x417214;},'BOQIK':'faLXe','Xjnqa':_0x1002a0(0x178)},_0x3569f5=utils['joinLastPath'](fs[_0x1002a0(0x1aa)](_0x1002a0(0x213),![]));fs[_0x1002a0(0x12f)](_0x3569f5),fs[_0x1002a0(0x114)](_0x4cac39,_0x3569f5,![],!![]);let _0x33b902;const _0x5ed872=fs[_0x1002a0(0x1e6)](_0x3569f5)[_0x1002a0(0x1eb)]((_0x359f79,_0x22e707)=>_0x359f79[_0x1002a0(0x113)]-_0x22e707[_0x1002a0(0x113)]);for(const _0x1438b4 of _0x5ed872){if(_0x1438b4===_0x1002a0(0x152)||_0x1438b4[_0x1002a0(0x11f)](_0x1002a0(0x1f0))||_0x1438b4[_0x1002a0(0x11f)](_0x10b055[_0x1002a0(0x188)])){_0x33b902=_0x1438b4;break;}}if(!_0x33b902)throw new ArangoError({'errorNum':errors[_0x1002a0(0x21c)][_0x1002a0(0x232)],'errorMessage':dd`
        ${errors['ERROR_SERVICE_MANIFEST_NOT_FOUND'][_0x1002a0(0x22d)]}
        Source: ${_0x3569f5}
      `});let _0x4f9424=path[_0x1002a0(0x18f)](path[_0x1002a0(0x18c)](_0x3569f5,_0x33b902));if(fs[_0x1002a0(0x170)](_0x57031d)){if(_0x10b055[_0x1002a0(0x14a)]===_0x1002a0(0x200))fs[_0x1002a0(0x197)](_0x57031d,!![]);else try{_0x16b619[_0x1002a0(0x221)]('teardown');}catch(_0x1e30cf){if(!_0x4573ba['force'])throw _0x1e30cf;_0x59cfb5[_0x1002a0(0x201)](_0x1e30cf);}}fs[_0x1002a0(0x166)](_0x4f9424,_0x57031d);if(_0x33b902[_0x1002a0(0x11f)](_0x1002a0(0x1f0))||_0x33b902[_0x1002a0(0x11f)](_0x10b055['RcIKk'])){if(_0x10b055[_0x1002a0(0x11d)](_0x10b055['BOQIK'],_0x10b055['Xjnqa']))return null;else fs[_0x1002a0(0x197)](_0x3569f5,!![]);}}function install(_0x4f4e50,_0x2bf22e,_0x5018e3={}){const _0x29e81d=_0x3ea7ab,_0xdd922c={'GLDJd':function(_0x125258){return _0x125258();},'okDJY':function(_0x4dcd51,_0x33b5f4){return _0x4dcd51(_0x33b5f4);},'zfUwm':function(_0x2fe1da,_0x409d73,_0x4d79fe,_0x49b353){return _0x2fe1da(_0x409d73,_0x4d79fe,_0x49b353);}};utils['validateMount'](_0x2bf22e),_0xdd922c['GLDJd'](ensureFoxxInitialized);if(utils['getServiceDefinition'](_0x2bf22e))throw new ArangoError({'errorNum':errors['ERROR_SERVICE_MOUNTPOINT_CONFLICT'][_0x29e81d(0x232)],'errorMessage':dd`
        ${errors[_0x29e81d(0x220)][_0x29e81d(0x22d)]}
        Mount path: "${_0x2bf22e}".
      `});const _0x1e5104=_prepareService(_0x4f4e50,Boolean(_0x5018e3[_0x29e81d(0x252)])),_0x3c2c34=FoxxService[_0x29e81d(0x21b)]({'mount':_0x2bf22e,'basePath':_0x1e5104[_0x29e81d(0x1e9)],'noisy':!![],'options':{'development':_0xdd922c['okDJY'](Boolean,_0x5018e3[_0x29e81d(0x1d2)]),'configuration':_0x5018e3[_0x29e81d(0x23b)],'dependencies':_0x5018e3[_0x29e81d(0x1e3)]}});return _0xdd922c[_0x29e81d(0x126)](_install,_0x3c2c34,_0x1e5104[_0x29e81d(0x23d)],{'setup':_0x5018e3[_0x29e81d(0x14e)]===undefined||_0xdd922c[_0x29e81d(0x1b3)](Boolean,_0x5018e3[_0x29e81d(0x14e)]),'force':Boolean(_0x5018e3['force'])}),selfHeal(),propagateSelfHeal(),_0xdd922c[_0x29e81d(0x182)](reloadRouting),_0xdd922c[_0x29e81d(0x1b3)](getServiceInstance,_0x2bf22e);}function uninstall(_0x3fd135,_0x226600={}){const _0x500d15=_0x3ea7ab,_0x46a212={'Lynas':function(_0x5b0eed,_0x28feaf,_0x119eb1){return _0x5b0eed(_0x28feaf,_0x119eb1);},'cTtJF':function(_0x190037){return _0x190037();}};ensureFoxxInitialized();const _0x42976c=_0x46a212[_0x500d15(0x1dc)](_uninstall,_0x3fd135,_0x226600);return _0x46a212[_0x500d15(0x123)](selfHeal),propagateSelfHeal(),reloadRouting(),_0x42976c;}function replace(_0x2ec4ea,_0x42a3bc,_0xe623e7={}){const _0xf5467=_0x3ea7ab,_0x3c3b10={'Zkgkx':function(_0x15a87d){return _0x15a87d();},'MDVwh':function(_0x38cf81,_0x108a09){return _0x38cf81===_0x108a09;},'GebTD':'uCMJi','qoyQA':_0xf5467(0x1de),'OfrpT':function(_0x35e6c1,_0x4435aa,_0x58f6bf){return _0x35e6c1(_0x4435aa,_0x58f6bf);},'HnOSF':function(_0x19b887,_0x3131c7){return _0x19b887(_0x3131c7);},'HOTnG':function(_0x1a7b10,_0x4e16e5,_0x341c42,_0x3b1d1f){return _0x1a7b10(_0x4e16e5,_0x341c42,_0x3b1d1f);},'Ogjpj':function(_0x298706,_0x458b8d){return _0x298706===_0x458b8d;},'wdIJX':function(_0x60a51c){return _0x60a51c();}};_0x3c3b10[_0xf5467(0x155)](ensureFoxxInitialized);if(!_0xe623e7[_0xf5467(0x141)]){const _0x425bac=utils[_0xf5467(0x22f)](_0x42a3bc);if(!_0x425bac){if(_0x3c3b10[_0xf5467(0x187)](_0x3c3b10[_0xf5467(0x13f)],_0x3c3b10[_0xf5467(0x13f)]))throw new ArangoError({'errorNum':errors[_0xf5467(0x228)][_0xf5467(0x232)],'errorMessage':dd`
          ${errors[_0xf5467(0x228)]['message']}
          Mount path: "${_0x42a3bc}".
        `});else return[];}}else _0x3c3b10[_0xf5467(0x187)](_0x3c3b10['qoyQA'],_0xf5467(0x1de))?utils['validateMount'](_0x42a3bc):_0x3a01f5[_0xf5467(0x19e)]()[_0xf5467(0x1b0)](function(_0x3577b2){const _0x9dd6d0=_0xf5467;_0x5a0c8a[_0x9dd6d0(0x23f)](_0x2ac0c7),_0x1fb031[_0x9dd6d0(0x226)](_0x9dd6d0(0x1d4),0x1,!![]);});const _0x87e910=_0x3c3b10['OfrpT'](_prepareService,_0x2ec4ea,Boolean(_0xe623e7[_0xf5467(0x252)])),_0x24fbd3=FoxxService[_0xf5467(0x21b)]({'mount':_0x42a3bc,'basePath':_0x87e910[_0xf5467(0x1e9)],'noisy':!![],'options':{'development':_0x3c3b10[_0xf5467(0x15a)](Boolean,_0xe623e7[_0xf5467(0x1d2)]),'configuration':_0xe623e7[_0xf5467(0x23b)],'dependencies':_0xe623e7[_0xf5467(0x1e3)]}});return _uninstall(_0x42a3bc,{'teardown':_0x3c3b10[_0xf5467(0x187)](_0xe623e7[_0xf5467(0x1cb)],undefined)||Boolean(_0xe623e7['teardown']),'force':!![]}),_0x3c3b10['HOTnG'](_install,_0x24fbd3,_0x87e910[_0xf5467(0x23d)],{'setup':_0x3c3b10[_0xf5467(0x1cd)](_0xe623e7['setup'],undefined)||Boolean(_0xe623e7[_0xf5467(0x14e)]),'force':!![]}),_0x3c3b10[_0xf5467(0x1c2)](selfHeal),propagateSelfHeal(),reloadRouting(),getServiceInstance(_0x42a3bc);}function upgrade(_0x1abce7,_0x10b0e9,_0x3045af={}){const _0x32e0e1=_0x3ea7ab,_0xdfb977={'DPrzt':function(_0x25e0bd){return _0x25e0bd();},'RuiSF':function(_0x2deff0,_0x1a00cf){return _0x2deff0!==_0x1a00cf;},'SaZvM':_0x32e0e1(0x19d),'AHani':_0x32e0e1(0x1c9),'pTwtr':function(_0x15bec7,_0x30ee4d){return _0x15bec7===_0x30ee4d;},'pBUld':function(_0x3199a5,_0x53a5c5,_0x19cf79){return _0x3199a5(_0x53a5c5,_0x19cf79);},'HCKld':function(_0x58bc00,_0xf6dcee){return _0x58bc00(_0xf6dcee);},'bqdCi':function(_0x42d075,_0x73fb38){return _0x42d075(_0x73fb38);}};_0xdfb977[_0x32e0e1(0x156)](ensureFoxxInitialized);const _0x253479=utils['getServiceDefinition'](_0x10b0e9);let _0xc0c441={};if(_0x253479)_0xc0c441=_0x253479[_0x32e0e1(0x1fa)];else{if(_0xdfb977['RuiSF'](_0xdfb977['SaZvM'],_0xdfb977[_0x32e0e1(0x20a)])){if(!_0x3045af[_0x32e0e1(0x141)])throw new ArangoError({'errorNum':errors[_0x32e0e1(0x228)][_0x32e0e1(0x232)],'errorMessage':dd`
          ${errors[_0x32e0e1(0x228)]['message']}
          Mount path: "${_0x10b0e9}".
        `});utils[_0x32e0e1(0x1ac)](_0x10b0e9);}else throw new _0x25da45({'errorNum':_0x317d7c[_0x32e0e1(0x228)][_0x32e0e1(0x232)],'errorMessage':_0x77f0ba`
          ${_0x55713d[_0x32e0e1(0x228)][_0x32e0e1(0x22d)]}
          Mount path: "${_0x3fdde9}".
        `});}const _0x3277a5=_prepareService(_0x1abce7,Boolean(_0x3045af[_0x32e0e1(0x252)])),_0x1dd8fe=FoxxService['create']({'mount':_0x10b0e9,'basePath':_0x3277a5[_0x32e0e1(0x1e9)],'noisy':!![],'options':{'development':Boolean(_0xdfb977[_0x32e0e1(0x1b2)](_0x3045af[_0x32e0e1(0x1d2)],undefined)?_0xc0c441[_0x32e0e1(0x1d2)]:_0x3045af[_0x32e0e1(0x1d2)]),'configuration':Object[_0x32e0e1(0x129)]({},_0xc0c441['configuration'],_0x3045af[_0x32e0e1(0x23b)]),'dependencies':Object[_0x32e0e1(0x129)]({},_0xc0c441[_0x32e0e1(0x1e3)],_0x3045af[_0x32e0e1(0x1e3)])}});return _0xdfb977[_0x32e0e1(0x24a)](_uninstall,_0x10b0e9,{'teardown':Boolean(_0x3045af[_0x32e0e1(0x1cb)]),'force':!![]}),_install(_0x1dd8fe,_0x3277a5[_0x32e0e1(0x23d)],{'setup':_0x3045af[_0x32e0e1(0x14e)]===undefined||_0xdfb977[_0x32e0e1(0x1c1)](Boolean,_0x3045af['setup']),'force':!![]}),selfHeal(),_0xdfb977[_0x32e0e1(0x156)](propagateSelfHeal),reloadRouting(),_0xdfb977['bqdCi'](getServiceInstance,_0x10b0e9);}function runScript(_0xf62a43,_0xc4946,_0x1b747a){const _0x2ddd41=_0x3ea7ab,_0xd0478c={'gmfCe':'setup','IkIEs':function(_0xe69092,_0x337b95){return _0xe69092(_0x337b95);},'pXgli':function(_0x10d5e5,_0x4ceb0a,_0x449f4b){return _0x10d5e5(_0x4ceb0a,_0x449f4b);}};let _0xfe1f0b=getServiceInstance(_0xc4946);if(_0xfe1f0b[_0x2ddd41(0x1fd)])throw _0xfe1f0b['error'];if(_0xfe1f0b[_0x2ddd41(0x212)]){const _0x5f1304=_0xf62a43!==_0xd0478c[_0x2ddd41(0x17a)];_0xfe1f0b=reloadInstalledService(_0xc4946,_0x5f1304);}_0xd0478c['IkIEs'](ensureServiceLoaded,_0xc4946);try{const _0x1fccab=_0xfe1f0b[_0x2ddd41(0x221)](_0xf62a43,_0x1b747a);return _0x1fccab===undefined?null:_0x1fccab;}catch(_0x56fe79){_0x56fe79[_0x2ddd41(0x25a)]=_0xd0478c['pXgli'](codeFrame,_0x56fe79,_0xfe1f0b[_0x2ddd41(0x1f8)]);throw _0x56fe79;}}function runTests(_0xbde29d,_0x45de80={}){const _0x431de0=_0x3ea7ab,_0x361461={'sLZAK':_0x431de0(0x14c),'fvBqw':function(_0x4e5cc3,_0xb640f1,_0x5bd8d0){return _0x4e5cc3(_0xb640f1,_0x5bd8d0);},'jTlvf':function(_0x322f94,_0x71ab9d){return _0x322f94(_0x71ab9d);}};let _0x1119ae=getServiceInstance(_0xbde29d);if(_0x1119ae['error']){if(_0x431de0(0x14c)!==_0x361461[_0x431de0(0x1ad)])_0x2ff216[_0x431de0(0x201)](_0x5b3e5e,'Failed\x20to\x20store\x20missing\x20service\x20bundle\x20for\x20service\x20at\x20\x22'+_0x3f347a+'\x22');else throw _0x1119ae['error'];}return _0x1119ae[_0x431de0(0x212)]&&(_0x1119ae=_0x361461[_0x431de0(0x257)](reloadInstalledService,_0xbde29d,!![])),_0x361461[_0x431de0(0x22b)](ensureServiceLoaded,_0xbde29d),require(_0x431de0(0x247))[_0x431de0(0x242)](_0x1119ae,_0x45de80);}function enableDevelopmentMode(_0x564bfe){const _0x13d867=_0x3ea7ab,_0x13bfaf={'bEKFt':function(_0x1fe042,_0x1f752a){return _0x1fe042(_0x1f752a);},'FVAcw':function(_0x1cd686){return _0x1cd686();},'DVeyz':function(_0x48cc86){return _0x48cc86();}},_0x3fe11e=_0x13bfaf[_0x13d867(0x119)](getServiceInstance,_0x564bfe);if(_0x3fe11e[_0x13d867(0x1fd)])throw _0x3fe11e[_0x13d867(0x1fd)];return _0x3fe11e[_0x13d867(0x1d2)](!![]),utils[_0x13d867(0x21f)](_0x564bfe,_0x3fe11e[_0x13d867(0x26b)]()),_0x13bfaf[_0x13d867(0x1ce)](propagateSelfHeal),_0x13bfaf[_0x13d867(0x237)](reloadRouting),_0x3fe11e;}function _0x2403(_0x1c20e0,_0x836612){const _0x578467=_0x5784();return _0x2403=function(_0x240321,_0x3e92aa){_0x240321=_0x240321-0x113;let _0x19fc71=_0x578467[_0x240321];return _0x19fc71;},_0x2403(_0x1c20e0,_0x836612);}function disableDevelopmentMode(_0x4ce6b3){const _0x2efce8=_0x3ea7ab,_0x490989={'elfvH':_0x2efce8(0x148),'KypwD':_0x2efce8(0x22a),'KkxIH':'setup'},_0x1fe1a6=getServiceInstance(_0x4ce6b3);if(_0x1fe1a6[_0x2efce8(0x1fd)]){if(_0x490989[_0x2efce8(0x144)]===_0x490989[_0x2efce8(0x24c)]){_0x190323=!![];try{_0x27c067[_0x2efce8(0x197)](_0x3b65cc,!![]),_0x538897['debug'](_0x2efce8(0x165)+_0x314e59);}catch(_0x4c37a9){_0xb36ca6[_0x2efce8(0x201)](_0x4c37a9,_0x2efce8(0x207)+_0x33821f);}}else throw _0x1fe1a6[_0x2efce8(0x1fd)];}_0x1fe1a6[_0x2efce8(0x1d2)](![]),createServiceBundle(_0x4ce6b3),_0x1fe1a6[_0x2efce8(0x184)]();const _0x25e02a=utils[_0x2efce8(0x240)]();return!_0x25e02a[_0x2efce8(0x170)](_0x1fe1a6[_0x2efce8(0x271)])&&_0x25e02a[_0x2efce8(0x210)]({'_key':_0x1fe1a6[_0x2efce8(0x271)]},_0x1fe1a6['bundlePath']),utils[_0x2efce8(0x21f)](_0x4ce6b3,_0x1fe1a6['toJSON']()),_0x1fe1a6['executeScript'](_0x490989[_0x2efce8(0x16d)]),propagateSelfHeal(),reloadRouting(),_0x1fe1a6;}function setConfiguration(_0x1573a2,_0x46bf60={}){const _0x267572=_0x3ea7ab,_0x390aba=getServiceInstance(_0x1573a2);if(_0x390aba['error'])throw _0x390aba[_0x267572(0x1fd)];const _0x36b434=_0x390aba['applyConfiguration'](_0x46bf60[_0x267572(0x23b)],_0x46bf60[_0x267572(0x1e4)]);return utils[_0x267572(0x21f)](_0x1573a2,_0x390aba[_0x267572(0x26b)]()),propagateSelfHeal(),reloadRouting(),_0x36b434;}function setDependencies(_0x320002,_0x450df7={}){const _0x1715fa=_0x3ea7ab,_0x110305=getServiceInstance(_0x320002);if(_0x110305[_0x1715fa(0x1fd)])throw _0x110305['error'];const _0x1e50ac=_0x110305[_0x1715fa(0x21a)](_0x450df7[_0x1715fa(0x1e3)],_0x450df7[_0x1715fa(0x1e4)]);return utils[_0x1715fa(0x21f)](_0x320002,_0x110305[_0x1715fa(0x26b)]()),propagateSelfHeal(),reloadRouting(),_0x1e50ac;}function requireService(_0x31a910){const _0xb50514=_0x3ea7ab,_0x377c87={'kfEGR':function(_0x279d72,_0x212970){return _0x279d72+_0x212970;},'IWIJP':function(_0x444088,_0x58f021){return _0x444088(_0x58f021);}};_0x31a910=_0x377c87[_0xb50514(0x1a4)]('/',_0x31a910[_0xb50514(0x1e4)](/^\/+|\/+$/g,''));const _0x1eacfa=_0x377c87['IWIJP'](getServiceInstance,_0x31a910);if(_0x1eacfa[_0xb50514(0x1fd)])return{};return ensureServiceExecuted(_0x1eacfa,!![])[_0xb50514(0x25b)];}function getMountPoints(_0x16cbd9){const _0xf94f79=_0x3ea7ab;ensureFoxxInitialized(_0x16cbd9);if(_0x16cbd9)return Array[_0xf94f79(0x256)](INTERNAL_SERVICE_MAP['keys']());return Array[_0xf94f79(0x256)](GLOBAL_SERVICE_MAP[_0xf94f79(0x11a)](db[_0xf94f79(0x1a0)]())[_0xf94f79(0x142)]());}function installedServices(){const _0xfdaae7=_0x3ea7ab,_0x25cafd={'Ijozh':function(_0x574621,_0x3de6aa){return _0x574621(_0x3de6aa);}};return _0x25cafd['Ijozh'](ensureFoxxInitialized,![]),Array[_0xfdaae7(0x256)](GLOBAL_SERVICE_MAP[_0xfdaae7(0x11a)](db[_0xfdaae7(0x1a0)]())['values']())[_0xfdaae7(0x277)](_0xcfbc66=>!_0xcfbc66[_0xfdaae7(0x1fd)]);}function safeChecksum(_0x414018){const _0x26a0d2=_0x3ea7ab,_0x4cf033={'BJPgP':_0x26a0d2(0x15b)};try{return FoxxService[_0x26a0d2(0x271)](_0x414018);}catch(_0x434441){if(_0x26a0d2(0x15b)===_0x4cf033[_0x26a0d2(0x1ea)])return null;else _0x5311e3[_0x26a0d2(0x16c)](_0x5ed5b4),_0x4d4f4d['removeDirectoryRecursive'](_0x40c985['basePath']);}}exports[_0x3ea7ab(0x180)]=install,exports[_0x3ea7ab(0x26c)]=uninstall,exports[_0x3ea7ab(0x1e4)]=replace,exports[_0x3ea7ab(0x130)]=upgrade,exports[_0x3ea7ab(0x215)]=runTests,exports['runScript']=runScript,exports['development']=enableDevelopmentMode,exports[_0x3ea7ab(0x20d)]=disableDevelopmentMode,exports[_0x3ea7ab(0x24b)]=setConfiguration,exports['setDependencies']=setDependencies,exports['requireService']=requireService,exports[_0x3ea7ab(0x1a3)]=getServiceInstance,exports[_0x3ea7ab(0x235)]=installedServices,exports[_0x3ea7ab(0x278)]=isFoxxmaster,exports[_0x3ea7ab(0x1bc)]=reloadRouting,exports[_0x3ea7ab(0x150)]=reloadInstalledService,exports[_0x3ea7ab(0x13b)]=ensureServiceLoaded,exports['initializeFoxx']=initLocalServiceMap,exports[_0x3ea7ab(0x1c4)]=ensureFoxxInitialized,exports[_0x3ea7ab(0x172)]=startup,exports[_0x3ea7ab(0x208)]=triggerSelfHeal,exports[_0x3ea7ab(0x234)]=selfHealAll,exports['commitLocalState']=commitLocalState,exports[_0x3ea7ab(0x12e)]=createServiceBundle,exports[_0x3ea7ab(0x224)]=()=>GLOBAL_SERVICE_MAP[_0x3ea7ab(0x233)](),exports['_mountPoints']=getMountPoints,exports[_0x3ea7ab(0x131)]=validateInstallUrl,exports['getServiceDefinition']=utils['getServiceDefinition'],exports['list']=utils[_0x3ea7ab(0x1d6)],exports[_0x3ea7ab(0x1e2)]=utils[_0x3ea7ab(0x1e2)],exports[_0x3ea7ab(0x17f)]=utils['listDevelopmentJson'],exports[_0x3ea7ab(0x136)]=store[_0x3ea7ab(0x136)],exports[_0x3ea7ab(0x216)]=store[_0x3ea7ab(0x216)],exports[_0x3ea7ab(0x1a8)]=store['getFishbowlStorage'],exports[_0x3ea7ab(0x19a)]=store['search'],exports[_0x3ea7ab(0x18d)]=store['searchJson'],exports[_0x3ea7ab(0x116)]=store[_0x3ea7ab(0x116)],exports[_0x3ea7ab(0x21e)]=store[_0x3ea7ab(0x21e)];