'use strict';const _0x5d055b=_0xea5a;function _0xea5a(_0x34a884,_0x11405f){const _0x24bfef=_0x24bf();return _0xea5a=function(_0xea5a4f,_0x5351c8){_0xea5a4f=_0xea5a4f-0x1e6;let _0x1ecc54=_0x24bfef[_0xea5a4f];return _0x1ecc54;},_0xea5a(_0x34a884,_0x11405f);}(function(_0x2514f7,_0x37f513){const _0x406f39=_0xea5a,_0x51fc37=_0x2514f7();while(!![]){try{const _0x36a0c5=-parseInt(_0x406f39(0x338))/0x1*(-parseInt(_0x406f39(0x25d))/0x2)+-parseInt(_0x406f39(0x3ee))/0x3+-parseInt(_0x406f39(0x36c))/0x4*(parseInt(_0x406f39(0x3e1))/0x5)+parseInt(_0x406f39(0x1fc))/0x6*(-parseInt(_0x406f39(0x218))/0x7)+parseInt(_0x406f39(0x3f4))/0x8*(-parseInt(_0x406f39(0x21b))/0x9)+-parseInt(_0x406f39(0x29b))/0xa*(-parseInt(_0x406f39(0x355))/0xb)+parseInt(_0x406f39(0x321))/0xc;if(_0x36a0c5===_0x37f513)break;else _0x51fc37['push'](_0x51fc37['shift']());}catch(_0x3eeaa5){_0x51fc37['push'](_0x51fc37['shift']());}}}(_0x24bf,0x90516));function _0x24bf(){const _0x217092=['eiWqN','KKZDp','dVMCa','dGhlIHNhbXBsZSBub25jZQ==','TWbiM','LVavq','rscvc','UzTsh','utqyr','YMxfE','?foo=bar','SBlaL','#handleUpgrade','IOCxS','error','ltlCb','^TypeError:\x20One\x20and\x20only\x20one\x20of\x20the\x20\x22port\x22,\x20\x22server\x22,\x20or\x20','KRyOH','UHrKc','VTHVL','NOUAk','QjtBP','pipe','lnquq','writable','JmmCx','txxGy',':/foo?bar=bar','readFileSync','RqByv','ws+unix:','handles\x20unsupported\x20extensions','crypto','allows\x20to\x20select\x20a\x20subprotocol','Invalid\x20HTTP\x20method','imGxt','xgrsR','path','MrjHq','doesn\x27t\x20emit\x20the\x20\x27connection\x27\x20event\x20if\x20socket\x20is\x20closed\x20prematurely','azvwK','MlqYa','pzeEw','LeLur','#clients','Hcivn','EvEHj','oQKLz','ZJydq','AUuQe','IgQFl','hKTpQ','RZcCe','http','CWLly','ctILI','../lib/constants','PJdli','cSVVk','WJXZx','ebTtr','honors\x20the\x20`WebSocket`\x20option','vPzSN','ping','jxfgY','dqIMa','unshift','dyfzE','sczfK','NZhcX','12998\x205\x20Y3\x201\x20\x20.P00','ozvRl','ysHWt','BYuKe','bYbnF','BjfzS','STATUS_CODES','ztYmL','Connection:\x20Upgrade','POST','test/fixtures/certificate.pem','extensions','waIvb','pDVNS','XfzVS','OFeLd','sOapB','MbAum','awmGl','lEWhY','vLZfs','DCTQq','fails\x20if\x20the\x20Sec-WebSocket-Extensions\x20header\x20is\x20invalid','mvfRJ','KHqLA','QPbBB','ZzSGp','emOek','FhMHv','XPXpi','Nyrkw','_extensions','_state','slice','YAQHA','pong','JFvCU','ZdKfA','kzOgj','ZdBGW','can\x20reject\x20client\x20synchronously','OllRu','handleUpgrade','ucTGP','can\x20reject\x20client\x20asynchronously\x20w/\x20custom\x20headers','PmFzy','YDrKN','UxDRe','req','headers','cpVMb','GrOEF','5242644hmSAVy','nCosZ','CvkoH','TUmmh','jdQvD','is\x20updated\x20when\x20client\x20closes\x20the\x20connection','OQGRk','response','tzfgw','dMagY','return\x20await\x20Promise.resolve(42);','rLYDv','fails\x20if\x20the\x20Sec-WebSocket-Key\x20header\x20is\x20invalid\x20(1/2)','bEbbX','Blcrf','closes\x20the\x20connection\x20when\x20path\x20doesn\x27t\x20match','yHzxe','statusCode','ddOfi','uses\x20configuration\x20options','UccGS','jbXcb','jaepE','38692uJnLbt','eHovI','LphwP','GEQap','amMWZ','Iyzfm','length','handles\x20data\x20passed\x20along\x20with\x20the\x20upgrade\x20request','eDdcw','RNIZt','XhiFF','pVDIa','vochT','/bar','nuVst','EpjCO','PZeQE','permessage-deflate;\x20client_max_window_bits=8','NrCgJ','psnLO','dDLjF','soTeV','mcFie','terminate','SzDHu','FwxlN','MGKRC','foo;bar','bar','12533268nYLsIz','encode','throws\x20an\x20error\x20if\x20required\x20options\x20are\x20not\x20specified','GyEMj','destroy','RnGPu','426s\x20for\x20non-Upgrade\x20requests','server.handleUpgrade()\x20was\x20called\x20more\x20than\x20once\x20with\x20the\x20','origin','open','Connection\x20establishing','uses\x20a\x20precreated\x20http\x20server','QXKRa','sec-websocket-extensions','rXxVl','mlcFs','listenerCount','returns\x20`null`\x20if\x20called\x20after\x20close','wGPeO','fDTHu','mFbVe','MJVIE','omEFV','3712396eHvmti','#address','NhyaR','starts\x20a\x20server\x20on\x20a\x20given\x20port','_receiver','throws\x20an\x20error\x20if\x20no\x20option\x20object\x20is\x20passed','wkGgK','close','stringify','push','Server','RzGSI','emits\x20the\x20\x27close\x27\x20event\x20if\x20client\x20tracking\x20is\x20disabled','WebSocketServer','nfZBg','cviun','SNFnT','YMXyL','emits\x20the\x20\x27wsClientError\x27\x20event','randomBytes','foo','#close','ZzKka','/foo?bar=bar','RhvwU','QffnT','akmNY','gtLRc','is\x20disabled\x20by\x20default','bAaGG','NXtwc','KZSea','PTgwY','WtwSk','once','UXLFE','HTTP/1.1\x20400\x20Bad\x20Request\x0d\x0a\x0d\x0a','upgrade','can\x20reject\x20client\x20asynchronously','UQQIM','yTzIf','TIFEJ','evPFk','uses\x20a\x20precreated\x20http\x20server\x20listening\x20on\x20IPC','OCVfB','gKaXF','wFMLq','https://example.com','zUiZq','IYLlC','SugOj','TFmcR','The\x20server\x20is\x20not\x20running','StOfn','createServer','CRrjr','net','wss://localhost:','Invalid\x20Upgrade\x20header','write','P5l8BJcZwRc=','readable','hTBht','FDfFq','dbLbu','dJVZk','DgWWk','LBUnc','#shouldHandle','rMMFK','avZcv','frame','IpTeB','hVMpx','HTTP/1.1\x20101\x20Switching\x20Protocols','returns\x20false\x20when\x20the\x20path\x20doesn\x27t\x20match','Upgrade:\x20websocket','can\x20accept\x20client\x20asynchronously','throws\x20an\x20error\x20if\x20called\x20twice\x20with\x20the\x20same\x20socket','dEZpi','oxCQw','kjCZu','zUDuJ','/foo?bar=baz','MApKQ','nRrgR','pop','onpCr','Sec-WebSocket-Key:\x20dGhlIHNhbXBsZSBub25jZQ==','hEICg','port','uxPZR','JOICS','FFxcP','Hello','connection','data','nYuFH','nJifY','RrJMy','Missing\x20or\x20invalid\x20Sec-WebSocket-Key\x20header','mCTZI','EYtNi','nextTick','APbKK','xESYQ','.sock','UvoDm','120','jDtwJ','iyuIP','hnRhH','xmRrT','XzYMz','foo;\x20bar','UFHFX','fails\x20is\x20the\x20Sec-WebSocket-Protocol\x20header\x20is\x20invalid','5NUoYGj','https','wSnuV','YNVHl','url','ws://localhost:','fails\x20if\x20the\x20WebSocket\x20server\x20is\x20closing\x20or\x20closed','vuqYz','bmRYe','Eetnb','qqmIa','wcTFd','tOfEX','64152btuhEt','GnlVP','bMlgp','PGnlu','gkudY','protocol','88DHYbNb','options','returns\x20true\x20when\x20the\x20path\x20matches','FeDbT','YGVlo','ONzgI','JtSaj','VrnZu','JcLeO','FMCsu','listening','onmea','prMZj','unexpected-response','rQWIX','send','clients','cQZdy','var\x20x\x20=\x2042;\x20return\x20x;','xwLEI','WebSocket','csSip','permessage-deflate','OfIMb','HZDyz','Ifuee','42RVmXEc','zgiEN','can\x20reject\x20client\x20asynchronously\x20w/\x20status\x20code','pWwSF','AjKwx','axOZi','rXVBW','websocket','PacyH','iJEoB','\x22noServer\x22\x20options\x20must\x20be\x20specified$','fLRDC','iJHQD','WRugR','hex','YkjJe','shouldHandle','end','returns\x20the\x20address\x20of\x20the\x20server','mTvoE','from','invokes\x20the\x20callback\x20in\x20noServer\x20mode','lMqbP','afflV','ieFwL','/foo','deepStrictEqual','zFcAE','942459gQARHZ','cAgRk','EkAeP','144477QRopCK','YXQrA','vFXzm','QDxkI','exposes\x20options\x20passed\x20to\x20constructor','LpWPX','GgWqo','uDIsX','JYXpf','kECCt','dTQRv','JnkRk','CXseD','dXUqG','strictEqual','iKJLX','yqVMz','kNmmo','_server','LExbr','WiKEa','fvmma','request','pBTZC','sEPYF','xplxZ','concat','method','enZJB','waIBF','oBEtO','JDGQH','tcpOT','PNFmQ','../lib/sender','oAoLo','assert','JkbKs','Unexpected\x20\x27connection\x27\x20event','win32','TrHAy','cErto','HnDlQ','/ws','gqsch','TcXkT','uGlol','cOUxb','accepts\x20the\x20`maxPayload`\x20option','FyHkv','message','_maxPayload','sBGje','can\x20be\x20used\x20for\x20a\x20pre-existing\x20server','connect','sample','platform','vSEWF','IRDfi','wwOnr','WbeFC','BkbMx','nBWiN','TPuhj','Hdhun','can\x20accept\x20client\x20synchronously','56TUvniH','throws','IfDJL','jpzhU','fails\x20if\x20the\x20Sec-WebSocket-Version\x20header\x20is\x20invalid\x20(1/2)','FfKwt','throws\x20an\x20error\x20if\x20mutually\x20exclusive\x20options\x20are\x20specified','emits\x20an\x20error\x20if\x20http\x20server\x20bind\x20fails','cleans\x20event\x20handlers\x20on\x20precreated\x20server','FfUDV','eRJPa','honors\x20the\x20`autoPong`\x20option','toString','does\x20not\x20throw\x20if\x20called\x20multiple\x20times','HBBlx','ckTUI','address','gdEwA','emits\x20the\x20\x27close\x27\x20event\x20after\x20the\x20server\x20closes','SpmoH','NorYf','cfOfw','qyxjk','Ixlbe','HUZXX','ghSiN','ws-','`handleProtocols`','KbWba','XRblV','dBsPy','PkiBs','emits\x20the\x20\x27headers\x27\x20event','uZtrf','VyfdZ','wzbaw','get','HtKjd','#ctor','noucQ','Missing\x20or\x20invalid\x20Sec-WebSocket-Version\x20header','NdXkT','IncomingMessage','size','IewBH','JbIdf','fQFGU','Upgrade','Invalid\x20Sec-WebSocket-Protocol\x20header','cFqtB','IPBIA','completes\x20a\x20WebSocket\x20upgrade\x20over\x20any\x20duplex\x20stream','listen','CEEUW','Unexpected\x20callback\x20invocation','TsMrN','fails\x20if\x20the\x20HTTP\x20method\x20is\x20not\x20GET','CCMKl','/?foo=bar','fails\x20if\x20the\x20Sec-WebSocket-Key\x20header\x20is\x20invalid\x20(2/2)','resume','createConnection','10DpkFpn','SgtTV','TsKlA','JuZEy','TZIGi','GET\x20/\x20HTTP/1.1','permessage-deflate;\x20client_max_window_bits','bbaUp','MPYEi','wsClientError','Pzfzt','hello'];_0x24bf=function(){return _0x217092;};return _0x24bf();}const assert=require(_0x5d055b(0x23f)),crypto=require(_0x5d055b(0x2c7)),https=require(_0x5d055b(0x3e2)),http=require(_0x5d055b(0x2dc)),path=require(_0x5d055b(0x2cc)),net=require(_0x5d055b(0x3a4)),fs=require('fs'),os=require('os'),makeDuplexPair=require('./duplex-pair'),Sender=require(_0x5d055b(0x23d)),WebSocket=require('..'),{NOOP}=require(_0x5d055b(0x2df));describe(_0x5d055b(0x379),()=>{const _0x447e30=_0x5d055b,_0xd91f5={'FhMHv':_0x447e30(0x3cb),'dTQRv':'^TypeError:\x20One\x20and\x20only\x20one\x20of\x20the\x20\x22port\x22,\x20\x22server\x22,\x20or\x20','ckTUI':function(_0x37ec9a,_0x27bb2e,_0x2bc281){return _0x37ec9a(_0x27bb2e,_0x2bc281);},'RhvwU':_0x447e30(0x268),'NXtwc':_0x447e30(0x2a6),'MApKQ':_0x447e30(0x39f),'emOek':_0x447e30(0x20a),'JOICS':_0x447e30(0x36f),'wFMLq':'binds\x20the\x20server\x20on\x20any\x20IPv6\x20address\x20when\x20available','dyfzE':_0x447e30(0x360),'MbAum':_0x447e30(0x35b),'UccGS':_0x447e30(0x397),'fQFGU':_0x447e30(0x329),'SNFnT':function(_0x1c78e8,_0x376149,_0x45eb3a){return _0x1c78e8(_0x376149,_0x45eb3a);},'PTgwY':_0x447e30(0x20e),'IgQFl':'throws\x20an\x20error\x20when\x20operating\x20in\x20\x22noServer\x22\x20mode','nuVst':function(_0x3bfa07,_0x2880de,_0xe3fd5f){return _0x3bfa07(_0x2880de,_0xe3fd5f);},'sEPYF':function(_0x9e6626,_0xaa0290){return _0x9e6626!==_0xaa0290;},'mvfRJ':'XtMgn','hEICg':_0x447e30(0x2f0),'nzCrz':_0x447e30(0x27e),'BjfzS':'pavMA','pVDIa':_0x447e30(0x1ec),'ZzKka':'AnYnQ','axOZi':_0x447e30(0x373),'gqsch':function(_0xbf5a47,_0x43457d,_0x868cdb){return _0xbf5a47(_0x43457d,_0x868cdb);},'gKaXF':_0x447e30(0x26a),'QDxkI':_0x447e30(0x211),'PJdli':_0x447e30(0x265),'duwsn':function(_0x4ba725,_0xafa23f,_0x2570c0){return _0x4ba725(_0xafa23f,_0x2570c0);},'mfzXH':function(_0x2e9a94,_0x3ec8dc,_0x46353e){return _0x2e9a94(_0x3ec8dc,_0x46353e);},'Ifuee':function(_0x26e306,_0x129c65,_0x2e960e){return _0x26e306(_0x129c65,_0x2e960e);},'wwOnr':_0x447e30(0x345),'ddOfi':'FfUDV','JmmCx':_0x447e30(0x3b7),'DCTQq':_0x447e30(0x285),'rLYDv':function(_0x517feb,_0x1472e0){return _0x517feb!==_0x1472e0;},'XzYMz':_0x447e30(0x237),'cSVVk':_0x447e30(0x246),'ZdBGW':'upgrade','vFXzm':function(_0x167f4a,_0x2f01c2){return _0x167f4a===_0x2f01c2;},'FYddn':_0x447e30(0x2d6),'amMWZ':_0x447e30(0x2aa),'qqmIa':_0x447e30(0x328),'JDSFm':_0x447e30(0x28c),'PZeQE':_0x447e30(0x250),'EQNxd':_0x447e30(0x330),'tcpOT':function(_0x1f3623,_0x8949e5,_0x5bfbfc){return _0x1f3623(_0x8949e5,_0x5bfbfc);},'NhyaR':_0x447e30(0x290),'oBEtO':'same\x20socket,\x20possibly\x20due\x20to\x20a\x20misconfiguration','yHzxe':_0x447e30(0x3ba),'KZSea':_0x447e30(0x2ec),'xwLEI':_0x447e30(0x203),'FFxcP':function(_0x108d10,_0x37a8b3){return _0x108d10(_0x37a8b3);},'VyfdZ':_0x447e30(0x316),'dXUqG':_0x447e30(0x20d),'rMMFK':function(_0x5532fc,_0xb223f){return _0x5532fc===_0xb223f;},'IYLlC':_0x447e30(0x380),'JnkRk':'Unexpected\x20callback\x20invocation','NOUAk':function(_0x1a642d,_0x453589){return _0x1a642d!==_0x453589;},'OQGRk':'Host:\x20localhost','ctILI':_0x447e30(0x3d0),'nBWiN':_0x447e30(0x2c8),'LnLdB':_0x447e30(0x3b6),'RqByv':_0x447e30(0x3b8),'YDrKN':_0x447e30(0x31e),'KRyOH':_0x447e30(0x3b4),'SBlaL':_0x447e30(0x305),'ebTtr':function(_0x2bc47c,_0x22f759,_0x551595){return _0x2bc47c(_0x22f759,_0x551595);},'Blcrf':_0x447e30(0x295),'LeLur':'fails\x20if\x20the\x20Upgrade\x20header\x20field\x20value\x20is\x20not\x20\x22websocket\x22','pBTZC':function(_0x3a3e1e,_0x33c7ae,_0x215318){return _0x3a3e1e(_0x33c7ae,_0x215318);},'WbeFC':_0x447e30(0x32d),'cCByN':function(_0x208670,_0x4eac96,_0x47b7f6){return _0x208670(_0x4eac96,_0x47b7f6);},'CRrjr':_0x447e30(0x3e0),'XRblV':_0x447e30(0x303),'wSnuV':function(_0x450ff8,_0x2f8e2c,_0x5a35de){return _0x450ff8(_0x2f8e2c,_0x5a35de);},'QXKRa':'`verifyClient`','FfKwt':_0x447e30(0x2ce),'XDYub':_0x447e30(0x278),'CEEUW':_0x447e30(0x2a1),'wGPeO':_0x447e30(0x388),'IPBIA':_0x447e30(0x283),'YMxfE':_0x447e30(0x36d),'vuqYz':function(_0x392e34,_0x398e81,_0x4a1828){return _0x392e34(_0x398e81,_0x4a1828);},'tXxff':_0x447e30(0x381),'kzOgj':_0x447e30(0x2d3),'XPXpi':_0x447e30(0x2b3),'JDGQH':_0x447e30(0x35f)};_0xd91f5[_0x447e30(0x37c)](describe,_0xd91f5[_0x447e30(0x28f)],()=>{const _0x345777=_0x447e30,_0x392eac={'LExbr':_0xd91f5[_0x345777(0x225)],'hVMpx':_0x345777(0x206),'JesqN':function(_0x479c18,_0x1b95c5){return _0x479c18+_0x1b95c5;},'uDIsX':_0x345777(0x289),'XtYAd':function(_0x1634db,_0x5bcd21,_0x9e7dbe){const _0x4f59d6=_0x345777;return _0xd91f5[_0x4f59d6(0x26c)](_0x1634db,_0x5bcd21,_0x9e7dbe);},'bEbbX':function(_0x393818,_0x4a795b,_0x6e9e11){const _0x32729=_0x345777;return _0xd91f5[_0x32729(0x26c)](_0x393818,_0x4a795b,_0x6e9e11);},'fLRDC':_0x345777(0x21f),'QPbBB':function(_0x2c13d4,_0x4dc5e7,_0x20045e){const _0x39716a=_0x345777;return _0xd91f5[_0x39716a(0x26c)](_0x2c13d4,_0x4dc5e7,_0x20045e);},'dbLbu':_0xd91f5[_0x345777(0x384)],'WtwSk':_0x345777(0x35e),'mFbVe':_0xd91f5[_0x345777(0x38a)],'edxtM':_0x345777(0x325),'OFeLd':_0x345777(0x241),'bmRYe':_0xd91f5[_0x345777(0x3c0)],'laNxY':'connection','cErto':_0xd91f5[_0x345777(0x308)]};it(_0x345777(0x371),()=>{const _0x31368a=_0x345777,_0x2ff3f2={'TSCYo':function(_0x1a43eb,_0x303db2){return _0x1a43eb instanceof _0x303db2;}};_0x31368a(0x2b9)===_0x31368a(0x1e9)?(_0x29c206['ok'](_0x2ff3f2['TSCYo'](_0x1602e8,_0x60aa38)),_0x510b9b[_0x31368a(0x229)](_0x3db5f6[_0x31368a(0x24d)],_0x31368a(0x3a0)),_0x4a1e7e()):assert['throws'](()=>new WebSocket['Server'](),new RegExp(_0x392eac[_0x31368a(0x22e)]+_0x392eac[_0x31368a(0x3b5)]));}),describe(_0x345777(0x3f5),()=>{const _0x264b80=_0x345777,_0x6628d7={'TWbiM':function(_0x2a9412,_0x18ec6c){return _0x2a9412===_0x18ec6c;},'WMGOd':_0x392eac[_0x264b80(0x222)],'aXPJy':function(_0x182ed4,_0x14c532){return _0x182ed4+_0x14c532;},'yqVMz':_0x392eac[_0x264b80(0x22e)],'iHksH':_0x264b80(0x3cb)};_0x392eac['XtYAd'](it,_0x264b80(0x357),()=>{const _0x2c3b89=_0x264b80;assert['throws'](()=>new WebSocket[(_0x2c3b89(0x376))]({}),new RegExp(_0x392eac['JesqN'](_0x2c3b89(0x2b7),_0x392eac[_0x2c3b89(0x3b5)])));}),it(_0x264b80(0x263),()=>{const _0x255685=_0x264b80;if(_0x6628d7[_0x255685(0x2ab)](_0x6628d7['WMGOd'],_0x255685(0x289))){const _0x164275=http['createServer'](),_0x58f168=[{'port':0x0,'noServer':!![],'server':_0x164275},{'port':0x0,'noServer':!![]},{'port':0x0,'server':_0x164275},{'noServer':!![],'server':_0x164275}];for(const _0x31b3ea of _0x58f168){assert['throws'](()=>new WebSocket[(_0x255685(0x376))](_0x31b3ea),new RegExp(_0x6628d7['aXPJy'](_0x6628d7[_0x255685(0x22b)],'\x22noServer\x22\x20options\x20must\x20be\x20specified$')));}}else _0x1f4ed1['deepStrictEqual'](_0x3de0e,_0x54e13b['from']('hello')),_0x1f681e['ok'](!_0x39ee4e),_0x4266c3[_0x255685(0x373)](_0x4681ef);}),_0x392eac[_0x264b80(0x32e)](it,_0x392eac[_0x264b80(0x207)],_0x5e3bf3=>{const _0x4cb943=_0x264b80,_0x3994aa=new WebSocket[(_0x4cb943(0x376))]({'port':0x0},()=>{const _0x5996ee=_0x4cb943;assert['strictEqual'](_0x3994aa[_0x5996ee(0x3f5)][_0x5996ee(0x3c6)],0x0),_0x3994aa['close'](_0x5e3bf3);});}),_0x392eac[_0x264b80(0x32e)](it,_0x264b80(0x24b),_0x33254d=>{const _0x13e467=0x5000,_0x326c39=new WebSocket['Server']({'perMessageDeflate':!![],'maxPayload':_0x13e467,'port':0x0},()=>{const _0x4cbad2=_0xea5a,_0x5bedeb=new WebSocket(_0x4cbad2(0x3e6)+_0x326c39[_0x4cbad2(0x26d)]()[_0x4cbad2(0x3c6)]);_0x5bedeb['on'](_0x4cbad2(0x35e),_0x5bedeb[_0x4cbad2(0x373)]);});_0x326c39['on'](_0x6628d7['iHksH'],_0x2e1072=>{const _0x3afb90=_0xea5a;assert['strictEqual'](_0x2e1072[_0x3afb90(0x370)]['_maxPayload'],_0x13e467),assert[_0x3afb90(0x229)](_0x2e1072[_0x3afb90(0x370)][_0x3afb90(0x30c)][_0x3afb90(0x1f8)][_0x3afb90(0x24e)],_0x13e467),_0x326c39[_0x3afb90(0x373)](_0x33254d);});}),_0x392eac[_0x264b80(0x306)](it,_0x264b80(0x2e4),_0x4d357a=>{const _0x51f6da=_0x264b80,_0x51a5da={'cfOfw':_0x51f6da(0x241),'jbXcb':_0x51f6da(0x380),'fDTHu':_0x51f6da(0x2a9),'ajNiP':_0x51f6da(0x35e)};class _0x30ba58 extends WebSocket[_0x51f6da(0x1f6)]{get['foo'](){const _0x217283=_0x51f6da;if(_0x217283(0x1ee)===_0x217283(0x35a))_0x5c0d96(new _0x1a3a60(_0x51a5da[_0x217283(0x272)]));else return new Function(_0x217283(0x1f4))(),_0x51a5da[_0x217283(0x336)];}}const _0x2e1767=new WebSocket[(_0x51f6da(0x376))]({'port':0x0,'WebSocket':_0x30ba58},()=>{const _0x552cea=_0x51f6da;if(_0x552cea(0x31a)===_0x51a5da[_0x552cea(0x368)])_0x182127[_0x552cea(0x229)](_0x81f0d5[_0x552cea(0x3a9)],![]),_0x2dcabc[_0x552cea(0x229)](_0x3cf433[_0x552cea(0x2bf)],!![]),_0x42d1b7(!![]);else{const _0x5cf312=new WebSocket(_0x552cea(0x3e6)+_0x2e1767['address']()[_0x552cea(0x3c6)]);_0x5cf312['on'](_0x51a5da['ajNiP'],_0x5cf312[_0x552cea(0x373)]);}});_0x2e1767['on'](_0x51f6da(0x3cb),_0x4bf21e=>{const _0x6f1400=_0x51f6da;assert['ok'](_0x4bf21e instanceof _0x30ba58),assert['strictEqual'](_0x4bf21e[_0x6f1400(0x380)],_0x51a5da[_0x6f1400(0x336)]),_0x2e1767['close'](_0x4d357a);});}),it(_0x392eac[_0x264b80(0x3ac)],_0x4b9bc6=>{const _0x148706=_0x264b80,_0x3c40f1={'bYbnF':_0x148706(0x310)},_0x5b3839=new WebSocket[(_0x148706(0x376))]({'autoPong':![],'port':0x0},()=>{const _0x102c6c=_0x148706,_0x354e15=new WebSocket(_0x102c6c(0x3e6)+_0x5b3839[_0x102c6c(0x26d)]()[_0x102c6c(0x3c6)]);_0x354e15['on'](_0x102c6c(0x35e),()=>{_0x354e15['ping']();}),_0x354e15['on'](_0x3c40f1[_0x102c6c(0x2f1)],()=>{_0x4b9bc6(new Error('Unexpected\x20\x27pong\x27\x20event'));});});_0x5b3839['on'](_0x148706(0x3cb),_0x474844=>{const _0x46ae25=_0x148706;_0x474844['on'](_0x46ae25(0x2e6),()=>{const _0x2e690c=_0x46ae25;_0x474844[_0x2e690c(0x373)]();}),_0x474844['on'](_0x46ae25(0x373),()=>{const _0x1f44c7=_0x46ae25;_0x5b3839[_0x1f44c7(0x373)](_0x4b9bc6);});});});}),it(_0x345777(0x264),_0x3c1c96=>{const _0xc53b64=_0x345777,_0x14a6d9={'zUiZq':'error'},_0x55866e=new WebSocket[(_0xc53b64(0x376))]({'port':0x0},()=>{const _0x231deb=_0xc53b64,_0x5eb390=new WebSocket['Server']({'port':_0x55866e[_0x231deb(0x26d)]()[_0x231deb(0x3c6)]});_0x5eb390['on'](_0x14a6d9[_0x231deb(0x39c)],()=>_0x55866e['close'](_0x3c1c96));});}),_0xd91f5['ckTUI'](it,_0xd91f5[_0x345777(0x3c8)],_0x3f1c22=>{const _0x590a8e=_0x345777,_0xa355c5=0x539,_0x1a97c1=new WebSocket['Server']({'port':_0xa355c5},()=>{const _0x576ca5=_0xea5a,_0xba9b08=new WebSocket(_0x576ca5(0x3e6)+_0xa355c5);_0xba9b08['on'](_0x392eac[_0x576ca5(0x38d)],_0xba9b08['close']);});_0x1a97c1['on'](_0xd91f5[_0x590a8e(0x309)],()=>_0x1a97c1[_0x590a8e(0x373)](_0x3f1c22));}),it(_0xd91f5[_0x345777(0x39a)],_0x338c80=>{const _0xfd9abf=_0x345777,_0x1b1cf6=new WebSocket[(_0xfd9abf(0x376))]({'port':0x0},()=>{const _0x5a32e0=_0xfd9abf;assert[_0x5a32e0(0x229)](_0x1b1cf6[_0x5a32e0(0x22d)][_0x5a32e0(0x26d)]()[_0x5a32e0(0x26d)],'::'),_0x1b1cf6[_0x5a32e0(0x373)](_0x338c80);});}),_0xd91f5[_0x345777(0x26c)](it,_0xd91f5[_0x345777(0x2ea)],_0x15759d=>{const _0x46b12a=_0x345777,_0x1cb0d2=http[_0x46b12a(0x3a2)]();_0x1cb0d2['listen'](0x0,()=>{const _0x3a36e7=_0x46b12a,_0x312a9b=new WebSocket[(_0x3a36e7(0x376))]({'server':_0x1cb0d2});_0x312a9b['on']('connection',()=>{const _0xc8914d=_0x3a36e7;_0x1cb0d2[_0xc8914d(0x373)](_0x15759d);});const _0x1bff6a=new WebSocket(_0x3a36e7(0x3e6)+_0x1cb0d2[_0x3a36e7(0x26d)]()[_0x3a36e7(0x3c6)]);_0x1bff6a['on'](_0x3a36e7(0x35e),_0x1bff6a['close']);});}),it(_0xd91f5[_0x345777(0x2fe)],_0x53d557=>{const _0x23120c=_0x345777,_0xc84794={'WTcyp':_0x392eac[_0x23120c(0x2fc)]};if(_0x23120c(0x39f)===_0x392eac[_0x23120c(0x3e9)]){const _0x54fbd2=new WebSocket[(_0x23120c(0x376))]({'port':0x0},()=>{const _0x5a370d=_0x23120c,_0x43ea9b={'mcFie':_0x392eac[_0x5a370d(0x369)],'Ixlbe':'data'};if(_0x392eac['edxtM']!==_0x5a370d(0x325)){const {clientSide:_0x4be36e,serverSide:_0x5a6e7f}=_0x4ecc50();_0x1aca2e['pipe'](_0x4be36e),_0x4be36e[_0x5a370d(0x2bd)](_0xd95336),_0x2d47fa['handleUpgrade'](_0x3e65a5,_0x5a6e7f,_0x2648f0,_0x237cbb=>{const _0x394dd2=_0x5a370d;_0x237cbb['send'](_0x43ea9b[_0x394dd2(0x34e)]),_0x237cbb[_0x394dd2(0x373)]();});}else http['get']('http://localhost:'+_0x54fbd2[_0x5a370d(0x26d)]()[_0x5a370d(0x3c6)],_0x146b31=>{const _0x1e98a1=_0x5a370d;let _0x338c48='';assert['strictEqual'](_0x146b31['statusCode'],0x1aa),_0x146b31['on'](_0x43ea9b[_0x1e98a1(0x274)],_0x49b23a=>{_0x338c48+=_0x49b23a;}),_0x146b31['on'](_0x1e98a1(0x20d),()=>{const _0x4cf458=_0x1e98a1;assert[_0x4cf458(0x229)](_0x338c48,http[_0x4cf458(0x2f3)][0x1aa]),_0x54fbd2[_0x4cf458(0x373)](_0x53d557);});});});}else _0x38f2fb(new _0x38930a(_0xc84794['WTcyp']));}),it(_0xd91f5[_0x345777(0x335)],_0x187a3b=>{const _0x460f2d=_0x345777,_0x276213={'omEFV':_0x392eac['laNxY'],'eHovI':_0x460f2d(0x35e)},_0x358725=crypto[_0x460f2d(0x37f)](0x10)['toString'](_0x392eac[_0x460f2d(0x244)]),_0x30ed69=process[_0x460f2d(0x253)]===_0x460f2d(0x242)?'\x5c\x5c.\x5cpipe\x5cws-pipe-'+_0x358725:path['join'](os['tmpdir'](),_0x460f2d(0x277)+_0x358725+_0x460f2d(0x3d6)),_0x5271cc=http[_0x460f2d(0x3a2)]();_0x5271cc[_0x460f2d(0x291)](_0x30ed69,()=>{const _0x59151b=_0x460f2d,_0x1d0497={'ONzgI':function(_0x451ac4,_0x4c8fcb){return _0x451ac4===_0x4c8fcb;}},_0x9c3a0f=new WebSocket[(_0x59151b(0x376))]({'server':_0x5271cc});_0x9c3a0f['on'](_0x276213[_0x59151b(0x36b)],(_0x126de7,_0x273742)=>{const _0x10b8e8=_0x59151b;if(_0x1d0497[_0x10b8e8(0x1e7)](_0x9c3a0f[_0x10b8e8(0x1f2)]['size'],0x1))assert[_0x10b8e8(0x229)](_0x273742[_0x10b8e8(0x3e5)],_0x10b8e8(0x383));else{assert[_0x10b8e8(0x229)](_0x273742[_0x10b8e8(0x3e5)],'/');for(const _0x4a5f80 of _0x9c3a0f[_0x10b8e8(0x1f2)]){_0x4a5f80[_0x10b8e8(0x373)]();}_0x5271cc[_0x10b8e8(0x373)](_0x187a3b);}});const _0x3cc39e=new WebSocket(_0x59151b(0x2c5)+_0x30ed69+_0x59151b(0x2c2));_0x3cc39e['on'](_0x276213[_0x59151b(0x339)],()=>new WebSocket(_0x59151b(0x2c5)+_0x30ed69));});});}),describe(_0xd91f5[_0x447e30(0x2b0)],()=>{const _0x435040=_0x447e30,_0x3836d2={'pWwSF':function(_0x5652cb,_0x5509f1){return _0x5652cb!==_0x5509f1;},'PacyH':'aYcnE'};_0xd91f5[_0x435040(0x28b)]==='CJbCb'?(_0x1e0e14[_0x435040(0x229)](_0x5bfe47[0x0],0x88),_0x447ad0['destroy'](),_0x2e64e9[_0x435040(0x373)](_0x304a0c)):(_0xd91f5[_0x435040(0x37c)](it,_0xd91f5[_0x435040(0x38c)],_0x584cc5=>{const _0x2ccbfb=_0x435040,_0x5161af=new WebSocket[(_0x2ccbfb(0x376))]({'port':0x0},()=>{const _0x58cdab=_0x2ccbfb,_0x392cde=_0x5161af[_0x58cdab(0x26d)]();assert['deepStrictEqual'](_0x392cde,_0x5161af[_0x58cdab(0x22d)][_0x58cdab(0x26d)]()),_0x5161af[_0x58cdab(0x373)](_0x584cc5);});}),it(_0xd91f5[_0x435040(0x2d9)],()=>{const _0x11c20c=_0x435040;if(_0x3836d2[_0x11c20c(0x1ff)](_0x3836d2[_0x11c20c(0x204)],_0x3836d2[_0x11c20c(0x204)]))_0x519de1['close'](_0x2e4dfc);else{const _0x209ae3=new WebSocket[(_0x11c20c(0x376))]({'noServer':!![]});assert[_0x11c20c(0x25e)](()=>{const _0x2cf45f=_0x11c20c;_0x209ae3[_0x2cf45f(0x26d)]();},/^Error: The server is operating in "noServer" mode$/);}}),_0xd91f5[_0x435040(0x346)](it,_0x435040(0x366),_0x1e3c1d=>{const _0x1833e3=_0x435040,_0x2555aa=new WebSocket[(_0x1833e3(0x376))]({'port':0x0},()=>{const _0x373847=_0x1833e3;_0x2555aa[_0x373847(0x373)](()=>{const _0x3cdcda=_0x373847;assert[_0x3cdcda(0x229)](_0x2555aa[_0x3cdcda(0x26d)](),null),_0x1e3c1d();});});}));}),_0xd91f5[_0x447e30(0x3e8)](describe,_0xd91f5['tXxff'],()=>{const _0x4f8f91=_0x447e30,_0x209f0f={'XupWd':_0x4f8f91(0x3dc),'imGxt':_0xd91f5[_0x4f8f91(0x201)]};_0xd91f5[_0x4f8f91(0x247)](it,_0xd91f5[_0x4f8f91(0x399)],_0x276395=>{const _0x51cb8f=_0x4f8f91,_0x5f27f4=new WebSocket[(_0x51cb8f(0x376))]({'port':0x0},()=>{const _0x15096=_0x51cb8f;_0x5f27f4['on']('close',_0x276395),_0x5f27f4[_0x15096(0x373)](),_0x5f27f4[_0x15096(0x373)](),_0x5f27f4[_0x15096(0x373)]();});}),it('doesn\x27t\x20close\x20a\x20precreated\x20server',_0x53e984=>{const _0x41f120=_0x4f8f91,_0x1baa49={'Hneue':function(_0x2bcba5,_0x41adba){return _0x2bcba5(_0x41adba);}},_0x4d98da=http['createServer'](),_0xcfc404=_0x4d98da[_0x41f120(0x373)];_0x4d98da[_0x41f120(0x373)]=()=>{_0x1baa49['Hneue'](_0x53e984,new Error('Must\x20not\x20close\x20pre-created\x20server'));};const _0x2abf9f=new WebSocket['Server']({'server':_0x4d98da});_0x2abf9f['on'](_0xd91f5[_0x41f120(0x309)],()=>{const _0x590085=_0x41f120;_0x209f0f['XupWd']===_0x590085(0x3dc)?(_0x2abf9f[_0x590085(0x373)](),_0x4d98da[_0x590085(0x373)]=_0xcfc404,_0x4d98da['close'](_0x53e984)):_0xa736e9[_0x590085(0x373)]();}),_0x4d98da[_0x41f120(0x291)](0x0,()=>{const _0x5c9122=_0x41f120;if(_0x5c9122(0x2a8)===_0x5c9122(0x3d9))_0xbe73c4[_0x5c9122(0x229)](_0x98cc7b[_0x5c9122(0x332)],0x190),_0x2be35b[_0x5c9122(0x373)](_0x1ab7a4);else{const _0x3ca044=new WebSocket(_0x5c9122(0x3e6)+_0x4d98da['address']()[_0x5c9122(0x3c6)]);_0x3ca044['on'](_0x5c9122(0x35e),_0x3ca044[_0x5c9122(0x373)]);}});}),_0xd91f5[_0x4f8f91(0x247)](it,_0xd91f5[_0x4f8f91(0x21e)],_0x198be3=>{const _0xc41976=_0x4f8f91,_0x3c964d=new WebSocket[(_0xc41976(0x376))]({'noServer':!![]});_0x3c964d[_0xc41976(0x373)](_0x198be3);}),it(_0xd91f5[_0x4f8f91(0x2e0)],_0x12841e=>{const _0x4c0f24=_0x4f8f91,_0x23dda3={'JkbKs':_0x4c0f24(0x1ec),'LpWPX':_0x4c0f24(0x391),'ozvRl':_0x4c0f24(0x2b5),'OiPiz':_0x4c0f24(0x3cc)};if(_0xd91f5[_0x4c0f24(0x233)](_0xd91f5[_0x4c0f24(0x304)],_0xd91f5[_0x4c0f24(0x3c5)])){const _0x1f2d84=http[_0x4c0f24(0x3a2)](),_0x39be1e=_0x1f2d84[_0x4c0f24(0x365)](_0x4c0f24(0x1ec)),_0x6948d7=new WebSocket['Server']({'server':_0x1f2d84});_0x1f2d84[_0x4c0f24(0x291)](0x0,()=>{_0x6948d7['close'](()=>{const _0x36bdfe=_0xea5a;assert['strictEqual'](_0x1f2d84[_0x36bdfe(0x365)](_0x23dda3[_0x36bdfe(0x240)]),_0x39be1e),assert[_0x36bdfe(0x229)](_0x1f2d84[_0x36bdfe(0x365)](_0x23dda3[_0x36bdfe(0x220)]),0x0),assert['strictEqual'](_0x1f2d84[_0x36bdfe(0x365)](_0x23dda3[_0x36bdfe(0x2ee)]),0x0),_0x1f2d84[_0x36bdfe(0x373)](_0x12841e);});});}else{if(_0x203f61[_0x4c0f24(0x33e)])_0xf78223[_0x4c0f24(0x2e9)](_0x1b22df);_0x3399dd['once'](_0x23dda3['OiPiz'],_0x2eb6d2=>{const _0x34a46a=_0x4c0f24;_0xc4b050['strictEqual'](_0x2eb6d2[0x0],0x88),_0x2b151f[_0x34a46a(0x359)](),_0xa5a19d['close'](_0x3aaa57);});}}),it(_0x4f8f91(0x26f),_0xa9d742=>{const _0x3b6112=_0x4f8f91,_0x311ab1={'TsMrN':function(_0x479ed6,_0x4ad6e8){return _0x479ed6===_0x4ad6e8;},'APbKK':_0xd91f5['nzCrz'],'TNaoz':_0xd91f5[_0x3b6112(0x2f2)]};let _0x396686=![];const _0x205018=new WebSocket['Server']({'port':0x0},()=>{const _0x3ba8c1=_0x3b6112;net[_0x3ba8c1(0x29a)]({'port':_0x205018[_0x3ba8c1(0x26d)]()[_0x3ba8c1(0x3c6)]});});_0x205018[_0x3b6112(0x22d)]['on'](_0xd91f5[_0x3b6112(0x309)],_0x5a096a=>{const _0x4b0762=_0x3b6112;_0x205018[_0x4b0762(0x373)](),_0x205018[_0x4b0762(0x373)](),process[_0x4b0762(0x3d3)](()=>{const _0xabd030=_0x4b0762;_0x311ab1[_0xabd030(0x294)](_0x311ab1[_0xabd030(0x3d4)],_0x311ab1['TNaoz'])?(_0x1d7098[_0xabd030(0x229)](_0x475527[_0xabd030(0x235)](_0x3982b1)[_0xabd030(0x269)](),'Missing\x20or\x20invalid\x20Sec-WebSocket-Key\x20header'),_0x524c03[_0xabd030(0x373)](_0x1bea89)):_0x5a096a[_0xabd030(0x20d)]();});}),_0x205018[_0x3b6112(0x22d)]['on'](_0x3b6112(0x373),()=>{const _0x3e824b=_0x3b6112,_0x412f89={'EkAeP':_0x3e824b(0x3b6),'rXVBW':_0x3e824b(0x3b8),'TPuhj':_0x3e824b(0x31e)};if(_0x3e824b(0x320)!=='QPmjd')_0x396686=!![];else{const _0x830dad={'qHVbl':_0x412f89[_0x3e824b(0x21a)],'UQQIM':_0x412f89[_0x3e824b(0x202)],'cQZdy':_0x3e824b(0x2f5),'SgtTV':_0x3e824b(0x3cb)},_0x4572e6=new _0x40050c[(_0x3e824b(0x376))]({'port':0x0},()=>{const _0x3a1fee=_0x3e824b,_0x31971c=new _0x3c2683('ws://localhost:'+_0x4572e6[_0x3a1fee(0x26d)]()[_0x3a1fee(0x3c6)]+_0x3a1fee(0x2b1));_0x31971c['on'](_0x3a1fee(0x35e),_0x31971c[_0x3a1fee(0x373)]);});_0x4572e6['on'](_0x412f89[_0x3e824b(0x25a)],(_0x1f4ce0,_0x4b7aee)=>{const _0xb00289=_0x3e824b;_0xaec707[_0xb00289(0x216)](_0x1f4ce0[_0xb00289(0x30e)](0x0,0x3),[_0x830dad['qHVbl'],_0x830dad[_0xb00289(0x393)],_0x830dad[_0xb00289(0x1f3)]]),_0x2c17d5['ok'](_0x4b7aee instanceof _0x31915d[_0xb00289(0x287)]),_0x166985[_0xb00289(0x229)](_0x4b7aee[_0xb00289(0x3e5)],_0xb00289(0x297)),_0x4572e6['on'](_0x830dad[_0xb00289(0x29c)],()=>_0x4572e6[_0xb00289(0x373)](_0x2d3680));});}}),_0x205018['on'](_0x3b6112(0x373),()=>{assert['ok'](_0x396686),_0xa9d742();});}),it(_0x4f8f91(0x378),_0x3852e4=>{const _0x42f8a6=_0x4f8f91,_0x331fd3=new WebSocket[(_0x42f8a6(0x376))]({'noServer':!![],'clientTracking':![]});_0x331fd3['on']('close',_0x3852e4),_0x331fd3[_0x42f8a6(0x373)]();}),it('calls\x20the\x20callback\x20if\x20the\x20server\x20is\x20already\x20closed',_0x4fd923=>{const _0x404f42=_0x4f8f91,_0x40b232={'hKTpQ':_0xd91f5[_0x404f42(0x343)],'utqyr':_0xd91f5[_0x404f42(0x382)],'cOUxb':_0x404f42(0x2eb)},_0x2b6ccf=new WebSocket[(_0x404f42(0x376))]({'port':0x0},()=>{const _0x262152=_0x404f42,_0x4404fd={'YMXyL':_0x40b232[_0x262152(0x2da)],'ucTGP':function(_0x2cba57,_0x57c3ba){return _0x2cba57===_0x57c3ba;},'awmGl':_0x262152(0x1e6)};if(_0x40b232[_0x262152(0x2af)]===_0x40b232[_0x262152(0x24a)]){const _0x3e8a03=_0x1821f0[_0x262152(0x3a2)](),_0xaaa9d9=_0x3e8a03[_0x262152(0x365)](_0x262152(0x1ec)),_0x5c05f3=new _0x46fd19[(_0x262152(0x376))]({'server':_0x3e8a03});_0x3e8a03['listen'](0x0,()=>{const _0x4a3910=_0x262152,_0x42c09d={'ghSiN':_0x4404fd[_0x4a3910(0x37d)]};_0x5c05f3[_0x4a3910(0x373)](()=>{const _0x117630=_0x4a3910;_0x8fe4b8[_0x117630(0x229)](_0x3e8a03['listenerCount'](_0x42c09d[_0x117630(0x276)]),_0xaaa9d9),_0x331508[_0x117630(0x229)](_0x3e8a03[_0x117630(0x365)](_0x117630(0x391)),0x0),_0x5baf1f['strictEqual'](_0x3e8a03[_0x117630(0x365)](_0x117630(0x2b5)),0x0),_0x3e8a03[_0x117630(0x373)](_0x25bb94);});});}else _0x2b6ccf[_0x262152(0x373)](()=>{const _0xb89549=_0x262152,_0x413d00={'TIFEJ':'The\x20server\x20is\x20not\x20running','mWeYM':_0xb89549(0x35e)};if(_0x4404fd[_0xb89549(0x318)](_0x4404fd[_0xb89549(0x2ff)],_0xb89549(0x1e6)))assert[_0xb89549(0x229)](_0x2b6ccf[_0xb89549(0x30d)],0x2),_0x2b6ccf[_0xb89549(0x373)](_0x96c845=>{const _0x3124a0=_0xb89549;assert['ok'](_0x96c845 instanceof Error),assert['strictEqual'](_0x96c845['message'],_0x413d00[_0x3124a0(0x395)]),_0x4fd923();});else{const _0xbc4d4e=new _0xf3657(_0xb89549(0x3e6)+_0x28461a[_0xb89549(0x26d)]()[_0xb89549(0x3c6)]);_0xbc4d4e['on'](_0x413d00['mWeYM'],()=>_0xbc4d4e['terminate']());}});});}),_0xd91f5['duwsn'](it,'emits\x20the\x20\x27close\x27\x20event\x20if\x20the\x20server\x20is\x20already\x20closed',_0x2a2c1e=>{const _0x4f4c76=_0x4f8f91,_0x34238f={'nRrgR':_0x209f0f[_0x4f4c76(0x2ca)]},_0x207be5=new WebSocket[(_0x4f4c76(0x376))]({'port':0x0},()=>{const _0x33baa0=_0x4f4c76;_0x207be5[_0x33baa0(0x373)](()=>{const _0x2b7aab=_0x33baa0;assert[_0x2b7aab(0x229)](_0x207be5[_0x2b7aab(0x30d)],0x2),_0x207be5['on'](_0x34238f[_0x2b7aab(0x3c1)],_0x2a2c1e),_0x207be5[_0x2b7aab(0x373)]();});});});}),describe(_0xd91f5[_0x447e30(0x313)],()=>{const _0x53206a=_0x447e30,_0x5d8de1={'jpzhU':_0x53206a(0x35e),'gdEwA':_0xd91f5[_0x53206a(0x201)],'GEQap':'connection'};_0xd91f5[_0x53206a(0x247)](it,'returns\x20a\x20list\x20of\x20connected\x20clients',_0x1eecc5=>{const _0x4a9a53=_0x53206a,_0x281a7d={'nCosZ':function(_0x4ff9e1,_0x1f8b19){return _0x4ff9e1!==_0x1f8b19;}},_0x5b397f=new WebSocket[(_0x4a9a53(0x376))]({'port':0x0},()=>{const _0x44b4c7=_0x4a9a53;assert[_0x44b4c7(0x229)](_0x5b397f[_0x44b4c7(0x1f2)]['size'],0x0);const _0x131b53=new WebSocket(_0x44b4c7(0x3e6)+_0x5b397f['address']()[_0x44b4c7(0x3c6)]);_0x131b53['on'](_0x44b4c7(0x35e),_0x131b53['close']);});_0x5b397f['on'](_0x4a9a53(0x3cb),()=>{const _0x582220=_0x4a9a53;_0x281a7d[_0x582220(0x322)]('oFirA',_0x582220(0x30b))?(assert[_0x582220(0x229)](_0x5b397f[_0x582220(0x1f2)][_0x582220(0x288)],0x1),_0x5b397f[_0x582220(0x373)](_0x1eecc5)):_0x2f5f56['push'](_0x2926ea);});}),it('can\x20be\x20disabled',_0x4b4b88=>{const _0x53ed89=_0x53206a,_0xf1d0a5=new WebSocket[(_0x53ed89(0x376))]({'port':0x0,'clientTracking':![]},()=>{const _0x1e9d3a=_0x53ed89;if(_0x1e9d3a(0x337)===_0x1e9d3a(0x219))_0x40963f['ping']();else{assert[_0x1e9d3a(0x229)](_0xf1d0a5['clients'],undefined);const _0x5b3677=new WebSocket(_0x1e9d3a(0x3e6)+_0xf1d0a5['address']()[_0x1e9d3a(0x3c6)]);_0x5b3677['on'](_0x5d8de1[_0x1e9d3a(0x260)],()=>_0x5b3677[_0x1e9d3a(0x373)]());}});_0xf1d0a5['on'](_0x5d8de1[_0x53ed89(0x33b)],_0x15a4f8=>{const _0x1c2ec3=_0x53ed89;assert[_0x1c2ec3(0x229)](_0xf1d0a5['clients'],undefined),_0x15a4f8['on'](_0x5d8de1[_0x1c2ec3(0x26e)],()=>_0xf1d0a5['close'](_0x4b4b88));});}),_0xd91f5['mfzXH'](it,'is\x20updated\x20when\x20client\x20terminates\x20the\x20connection',_0x44292e=>{const _0x4446c5=_0x53206a,_0x46fa7e=new WebSocket[(_0x4446c5(0x376))]({'port':0x0},()=>{const _0x319f9b=_0x4446c5,_0x59f064=new WebSocket('ws://localhost:'+_0x46fa7e['address']()[_0x319f9b(0x3c6)]);_0x59f064['on'](_0x319f9b(0x35e),()=>_0x59f064[_0x319f9b(0x34f)]());});_0x46fa7e['on'](_0x5d8de1['GEQap'],_0x3ebcd0=>{const _0x339477=_0x4446c5;_0x3ebcd0['on'](_0x339477(0x373),()=>{const _0x4f1fe3=_0x339477;assert[_0x4f1fe3(0x229)](_0x46fa7e[_0x4f1fe3(0x1f2)][_0x4f1fe3(0x288)],0x0),_0x46fa7e['close'](_0x44292e);});});}),_0xd91f5[_0x53206a(0x1fb)](it,_0x53206a(0x326),_0x5d4a02=>{const _0x1c8e9b=_0x53206a,_0x32b8e6=new WebSocket[(_0x1c8e9b(0x376))]({'port':0x0},()=>{const _0x3c7c10=_0x1c8e9b,_0x1d3713=new WebSocket(_0x3c7c10(0x3e6)+_0x32b8e6['address']()[_0x3c7c10(0x3c6)]);_0x1d3713['on'](_0x3c7c10(0x35e),()=>_0x1d3713[_0x3c7c10(0x373)]());});_0x32b8e6['on'](_0xd91f5[_0x1c8e9b(0x309)],_0x32c92c=>{const _0x1f4d8c=_0x1c8e9b;_0x32c92c['on'](_0x5d8de1[_0x1f4d8c(0x26e)],()=>{const _0x3c40a6=_0x1f4d8c;assert['strictEqual'](_0x32b8e6[_0x3c40a6(0x1f2)][_0x3c40a6(0x288)],0x0),_0x32b8e6[_0x3c40a6(0x373)](_0x5d4a02);});});});}),describe(_0x447e30(0x3b0),()=>{const _0xcd3498=_0x447e30,_0x3b81c7={'ywBrJ':_0xcd3498(0x215),'EvEHj':_0xd91f5[_0xcd3498(0x256)]};_0xd91f5[_0xcd3498(0x333)]===_0xcd3498(0x266)?(it(_0xcd3498(0x3f6),()=>{const _0x122643=_0xcd3498,_0x1317ae=new WebSocket['Server']({'noServer':!![],'path':_0x122643(0x215)});assert[_0x122643(0x229)](_0x1317ae[_0x122643(0x20c)]({'url':_0x122643(0x215)}),!![]),assert['strictEqual'](_0x1317ae[_0x122643(0x20c)]({'url':_0x122643(0x3bf)}),!![]);}),it(_0xd91f5[_0xcd3498(0x2c0)],()=>{const _0x5967ff=_0xcd3498,_0x277ab3=new WebSocket[(_0x5967ff(0x376))]({'noServer':!![],'path':_0x3b81c7['ywBrJ']});assert[_0x5967ff(0x229)](_0x277ab3[_0x5967ff(0x20c)]({'url':_0x3b81c7[_0x5967ff(0x2d5)]}),![]);})):_0x1a3eea['push'](_0x22dfd3);}),describe(_0xd91f5[_0x447e30(0x30a)],()=>{const _0xc8cb48=_0x447e30,_0x1f3e18={'psnLO':_0xc8cb48(0x2a6),'akmNY':_0xd91f5[_0xc8cb48(0x314)],'avZcv':'message','AUuQe':function(_0x45e8d4,_0xbaf6c8){const _0xaf00dc=_0xc8cb48;return _0xd91f5[_0xaf00dc(0x21d)](_0x45e8d4,_0xbaf6c8);},'NdXkT':_0xd91f5['FYddn'],'onmea':_0xc8cb48(0x203),'gHybM':_0xd91f5[_0xc8cb48(0x33c)],'EpjCO':_0xd91f5[_0xc8cb48(0x3eb)],'GQiIW':_0xd91f5['JDSFm']};it(_0xd91f5[_0xc8cb48(0x348)],_0x25b7ac=>{const _0x91fc28=_0xc8cb48,_0x47e866={'onpCr':_0x1f3e18[_0x91fc28(0x34b)],'GIJQi':_0x1f3e18[_0x91fc28(0x386)],'PkiBs':_0x1f3e18[_0x91fc28(0x3b2)]},_0x202156=http['createServer']();_0x202156[_0x91fc28(0x291)](0x0,()=>{const _0x16a8f6=_0x91fc28,_0x5221e1={'iJEoB':_0x47e866[_0x16a8f6(0x3c3)]},_0x47d0d4=new WebSocket[(_0x16a8f6(0x376))]({'noServer':!![]});_0x202156['on'](_0x47e866['GIJQi'],(_0x530c6d,_0x14c358,_0x100f10)=>{const _0x4a043f=_0x16a8f6;_0x47d0d4[_0x4a043f(0x317)](_0x530c6d,_0x14c358,_0x100f10,_0x46bdf8=>{const _0x1e624d=_0x4a043f;_0x46bdf8[_0x1e624d(0x1f1)](_0x5221e1[_0x1e624d(0x205)]),_0x46bdf8[_0x1e624d(0x373)]();});});const _0x4f61ab=new WebSocket('ws://localhost:'+_0x202156['address']()[_0x16a8f6(0x3c6)]);_0x4f61ab['on'](_0x47e866[_0x16a8f6(0x27c)],(_0x56eed0,_0x144145)=>{const _0x4a04cd=_0x16a8f6;assert['deepStrictEqual'](_0x56eed0,Buffer['from'](_0x4a04cd(0x2a6))),assert['ok'](!_0x144145),_0x202156[_0x4a04cd(0x373)](_0x25b7ac);});});}),it(_0xd91f5['EQNxd'],_0x482962=>{const _0x42da33=_0xc8cb48,_0x4b4d0e={'REJaH':_0xd91f5[_0x42da33(0x302)]};if(_0xd91f5[_0x42da33(0x32c)](_0x42da33(0x237),_0xd91f5[_0x42da33(0x3dd)]))_0x350f9a[_0x42da33(0x229)](_0xb0bd36[_0x42da33(0x235)](_0x5bec65)[_0x42da33(0x269)](),_0x4b4d0e['REJaH']),_0x1c1d6a[_0x42da33(0x373)](_0x3a211f);else{const _0x376e7e=new WebSocket[(_0x42da33(0x376))]({'port':0x0,'path':_0xd91f5[_0x42da33(0x2e1)]},()=>{const _0xd7c791=_0x42da33,_0x249f7d={'waIvb':function(_0x14331d,_0x73ab04){return _0x14331d(_0x73ab04);},'rodSd':function(_0x4260d3,_0x5319c8){const _0x19f96a=_0xea5a;return _0x1f3e18[_0x19f96a(0x2d8)](_0x4260d3,_0x5319c8);},'OfIMb':_0x1f3e18[_0xd7c791(0x286)]},_0x2f95af=http[_0xd7c791(0x281)]({'port':_0x376e7e[_0xd7c791(0x26d)]()[_0xd7c791(0x3c6)],'headers':{'Connection':'Upgrade','Upgrade':_0x1f3e18[_0xd7c791(0x1ed)],'Sec-WebSocket-Key':_0x1f3e18['gHybM'],'Sec-WebSocket-Version':0xd}});_0x2f95af['on'](_0x1f3e18[_0xd7c791(0x347)],_0x297516=>{const _0xd630f9=_0xd7c791,_0x390b99={'tOfEX':function(_0x3feb9d,_0x4fe690){const _0x42f0cd=_0xea5a;return _0x249f7d[_0x42f0cd(0x2f9)](_0x3feb9d,_0x4fe690);}};_0x249f7d['rodSd']('oQKLz',_0x249f7d[_0xd630f9(0x1f9)])?(assert[_0xd630f9(0x229)](_0x297516['statusCode'],0x190),_0x376e7e[_0xd630f9(0x373)](_0x482962)):_0x390b99[_0xd630f9(0x3ed)](_0x54e0cc,new _0x598e1c(_0xd630f9(0x293)));});});}}),it('closes\x20the\x20connection\x20when\x20protocol\x20version\x20is\x20Hixie-76',_0x1d3032=>{const _0x2f0146=new WebSocket['Server']({'port':0x0},()=>{const _0x22d005=_0xea5a,_0x13e41e={'NrCgJ':_0x22d005(0x340),'noucQ':_0x22d005(0x3d0),'FMCsu':_0x22d005(0x1f7),'ztYmL':_0x22d005(0x20d)},_0x4773c0=http[_0x22d005(0x281)]({'port':_0x2f0146[_0x22d005(0x26d)]()['port'],'headers':{'Connection':_0x1f3e18['GQiIW'],'Upgrade':_0x22d005(0x1f6),'Sec-WebSocket-Key1':'4\x20@1\x20\x2046546xW%0l\x201\x205','Sec-WebSocket-Key2':_0x22d005(0x2ed),'Sec-WebSocket-Protocol':_0x22d005(0x252)}});_0x4773c0['on']('response',_0x136ebf=>{const _0x70675f=_0x22d005,_0x3d52f4={'dqIMa':_0x70675f(0x373)};if(_0x13e41e[_0x70675f(0x1eb)]===_0x70675f(0x3ab))_0x12e871(new _0x3cfd00('Unexpected\x20\x27connection\x27\x20event'));else{assert[_0x70675f(0x229)](_0x136ebf[_0x70675f(0x332)],0x190);const _0x9761b9=[];_0x136ebf['on'](_0x70675f(0x3cc),_0x14f92b=>{const _0x2d3510=_0x70675f;if(_0x13e41e[_0x2d3510(0x34a)]!==_0x13e41e[_0x2d3510(0x34a)]){const _0x1bcb18={'RzGSI':_0x3d52f4[_0x2d3510(0x2e8)]},_0x585a51=new _0x554da3[(_0x2d3510(0x376))]({'port':0x0},()=>{_0x585a51['close'](()=>{const _0x37633c=_0xea5a;_0x45ba13[_0x37633c(0x229)](_0x585a51[_0x37633c(0x30d)],0x2),_0x585a51['on'](_0x1bcb18[_0x37633c(0x377)],_0x52224a),_0x585a51[_0x37633c(0x373)]();});});}else _0x9761b9[_0x2d3510(0x375)](_0x14f92b);}),_0x136ebf['on'](_0x13e41e[_0x70675f(0x2f4)],()=>{const _0x15aef2=_0x70675f;assert[_0x15aef2(0x229)](Buffer[_0x15aef2(0x235)](_0x9761b9)[_0x15aef2(0x269)](),_0x13e41e[_0x15aef2(0x284)]),_0x2f0146['close'](_0x1d3032);});}});});}),_0xd91f5[_0xc8cb48(0x23b)](it,_0xd91f5[_0xc8cb48(0x36e)],_0x352116=>{const _0x24ce85=_0xc8cb48,_0x471974={'CvkoH':_0x1f3e18[_0x24ce85(0x386)]},_0x1aee1d=http[_0x24ce85(0x3a2)]();_0x1aee1d[_0x24ce85(0x291)](0x0,()=>{const _0x4788c5=_0x24ce85,_0xa80e7f={'UvoDm':_0x4788c5(0x2a6),'iJHQD':function(_0x129463){return _0x129463();}},_0xf2d8b0=new WebSocket[(_0x4788c5(0x376))]({'noServer':!![]});_0x1aee1d['on'](_0x471974[_0x4788c5(0x323)],(_0x6f2ed1,_0x40da69,_0x3cf76f)=>{const _0x2f4116=_0x4788c5,{clientSide:_0x3f3bbb,serverSide:_0x2407d7}=_0xa80e7f[_0x2f4116(0x208)](makeDuplexPair);_0x40da69[_0x2f4116(0x2bd)](_0x3f3bbb),_0x3f3bbb[_0x2f4116(0x2bd)](_0x40da69),_0xf2d8b0['handleUpgrade'](_0x6f2ed1,_0x2407d7,_0x3cf76f,_0x37eadd=>{const _0x5067c7=_0x2f4116;_0x37eadd['send'](_0xa80e7f[_0x5067c7(0x3d7)]),_0x37eadd['close']();});});const _0x52cf34=new WebSocket(_0x4788c5(0x3e6)+_0x1aee1d[_0x4788c5(0x26d)]()['port']);_0x52cf34['on'](_0x4788c5(0x24d),(_0x1a6d15,_0x569d20)=>{const _0x3e41f6=_0x4788c5;assert['deepStrictEqual'](_0x1a6d15,Buffer['from'](_0x3e41f6(0x2a6))),assert['ok'](!_0x569d20),_0x1aee1d[_0x3e41f6(0x373)](_0x352116);});});});}),describe('#completeUpgrade',()=>{const _0x66ae02=_0x447e30,_0x4835b1={'dDLjF':_0xd91f5[_0x66ae02(0x239)],'gkudY':_0x66ae02(0x2c1)};_0xd91f5[_0x66ae02(0x26c)](it,_0xd91f5[_0x66ae02(0x331)],_0x312140=>{const _0x5d502a=_0x66ae02,_0x4e7947={'iKJLX':function(_0x1b2346,_0x3ccab5){return _0x1b2346===_0x3ccab5;},'KbWba':_0x5d502a(0x29e),'afflV':function(_0x4d959a,_0xaefc41){return _0x4d959a(_0xaefc41);},'IfDJL':_0x4835b1[_0x5d502a(0x34c)],'CWnkp':_0x4835b1[_0x5d502a(0x3f2)]},_0x2b5f79=http[_0x5d502a(0x3a2)]();_0x2b5f79[_0x5d502a(0x291)](0x0,()=>{const _0x5cb485=_0x5d502a,_0x39aea4={'TZIGi':function(_0x361345,_0x179b0b){return _0x361345 instanceof _0x179b0b;},'Hcivn':function(_0x24477e,_0xd3cd3c){return _0x24477e+_0xd3cd3c;},'LBUnc':_0x5cb485(0x35c),'FeDbT':_0x4e7947[_0x5cb485(0x25f)]};if(_0x5cb485(0x31f)!==_0x4e7947['CWnkp']){const _0x99b0bf=new WebSocket['Server']({'noServer':!![]});_0x2b5f79['on'](_0x5cb485(0x391),(_0x515d8e,_0x3df556,_0x165c11)=>{const _0x2339c=_0x5cb485;_0x99b0bf[_0x2339c(0x317)](_0x515d8e,_0x3df556,_0x165c11,_0x1735e5=>{_0x1735e5['close']();}),assert[_0x2339c(0x25e)](()=>_0x99b0bf['handleUpgrade'](_0x515d8e,_0x3df556,_0x165c11,NOOP),_0x1af89e=>{const _0x295f99=_0x2339c;return assert['ok'](_0x39aea4[_0x295f99(0x29f)](_0x1af89e,Error)),assert['strictEqual'](_0x1af89e[_0x295f99(0x24d)],_0x39aea4[_0x295f99(0x2d4)](_0x39aea4[_0x295f99(0x3af)],_0x39aea4[_0x295f99(0x3f7)])),setTimeout('console.log(\x22timer\x22);',0x3e8),!![];});});const _0x24f89c=new WebSocket(_0x5cb485(0x3e6)+_0x2b5f79[_0x5cb485(0x26d)]()[_0x5cb485(0x3c6)]);_0x24f89c['on'](_0x5cb485(0x35e),()=>{const _0x3dd9f4=_0x5cb485,_0x520784={'uxPZR':function(_0x14a252,_0x10e0b4){const _0x8e7a1d=_0xea5a;return _0x4e7947[_0x8e7a1d(0x22a)](_0x14a252,_0x10e0b4);},'TfsQc':_0x4e7947[_0x3dd9f4(0x279)]};_0x24f89c['on'](_0x3dd9f4(0x373),()=>{const _0x8b42c0=_0x3dd9f4,_0x48f62b={'VTHVL':_0x8b42c0(0x2aa),'gEgDA':'response'};if(_0x520784[_0x8b42c0(0x3c7)]('bkOfH',_0x520784['TfsQc'])){const _0xdc8221=_0x537f63[_0x8b42c0(0x281)]({'port':_0x28886e[_0x8b42c0(0x26d)]()[_0x8b42c0(0x3c6)],'headers':{'Connection':'Upgrade','Upgrade':_0x8b42c0(0x203),'Sec-WebSocket-Key':_0x48f62b[_0x8b42c0(0x2ba)],'Sec-WebSocket-Version':0x8}});_0xdc8221['on'](_0x48f62b['gEgDA'],_0x309d55=>{const _0x4e7f2a=_0x8b42c0;_0x3a7675[_0x4e7f2a(0x229)](_0x309d55['statusCode'],0x191),_0x49debb[_0x4e7f2a(0x373)](_0x571679);});}else _0x2b5f79['close'](_0x312140);});});}else _0x4e7947[_0x5cb485(0x213)](_0x174e0d,new _0x3dada7(_0x5cb485(0x241)));});});}),describe(_0xd91f5[_0x447e30(0x23a)],()=>{const _0x40aa51=_0x447e30,_0x3ba378={'zUDuJ':_0x40aa51(0x3cc),'dEZpi':_0x40aa51(0x3cb),'bMlgp':'response','gtLRc':function(_0x37d895,_0x49ab03){return _0x37d895(_0x49ab03);},'bAaGG':_0x40aa51(0x241),'TWNIp':function(_0x57e026,_0x23e37f){return _0x57e026(_0x23e37f);},'uGlol':_0xd91f5[_0x40aa51(0x2de)],'ZzSGp':_0x40aa51(0x28c),'IOCxS':'websocket','IZqsJ':function(_0x3bf8bb,_0x49134a){return _0x3bf8bb(_0x49134a);},'oxCQw':function(_0x139756,_0x3e37db){return _0x139756===_0x3e37db;},'WiKEa':function(_0x77836f,_0x1bb0a4){return _0x77836f(_0x1bb0a4);},'eiWqN':_0x40aa51(0x2aa),'MPYEi':_0x40aa51(0x353),'RZcCe':'Invalid\x20or\x20unacceptable\x20Sec-WebSocket-Extensions\x20header','dtMip':function(_0x2cfa41,_0x213dce){return _0x2cfa41(_0x213dce);},'ysHWt':'zncCS','AVeNi':_0x40aa51(0x350),'OCVfB':function(_0x5f26a3,_0x51c04d){return _0x5f26a3(_0x51c04d);},'CopLn':_0x40aa51(0x2e2),'ROFHT':_0x40aa51(0x2cf),'TsKlA':'bar','CCMKl':_0x40aa51(0x270),'wcTFd':_0x40aa51(0x2b7),'WRugR':function(_0x2bc7bd,_0x22a4a3,_0x411d80){return _0x2bc7bd(_0x22a4a3,_0x411d80);},'mCTZI':_0xd91f5[_0x40aa51(0x259)],'JYXpf':_0xd91f5['LnLdB'],'axZcF':_0xd91f5[_0x40aa51(0x2c4)],'TcXkT':_0xd91f5[_0x40aa51(0x31b)]};_0xd91f5[_0x40aa51(0x2b8)]===_0xd91f5[_0x40aa51(0x2b2)]?(_0x3e9263[_0x40aa51(0x229)](_0xbf583d[_0x40aa51(0x332)],0x191),_0x2d5dc7['close'](_0xc39b3c)):(_0xd91f5[_0x40aa51(0x2e3)](it,_0xd91f5[_0x40aa51(0x32f)],_0x21089b=>{const _0x7784ed=_0x40aa51,_0x155732={'cFqtB':_0x3ba378['zUDuJ'],'HnDlQ':'response'},_0x270bb6=new WebSocket[(_0x7784ed(0x376))]({'port':0x0},()=>{const _0x40f8b1=_0x7784ed,_0x2d8f37={'xplxZ':_0x40f8b1(0x2c9)},_0x481fc1=http[_0x40f8b1(0x231)]({'method':_0x40f8b1(0x2f6),'port':_0x270bb6['address']()[_0x40f8b1(0x3c6)],'headers':{'Connection':_0x40f8b1(0x28c),'Upgrade':_0x40f8b1(0x203)}});_0x481fc1['on'](_0x155732[_0x40f8b1(0x245)],_0x3738d6=>{const _0x2622f8=_0x40f8b1;assert['strictEqual'](_0x3738d6[_0x2622f8(0x332)],0x195);const _0x25be98=[];_0x3738d6['on'](_0x155732[_0x2622f8(0x28e)],_0x229c3f=>{_0x25be98['push'](_0x229c3f);}),_0x3738d6['on'](_0x2622f8(0x20d),()=>{const _0x1f973b=_0x2622f8;assert[_0x1f973b(0x229)](Buffer[_0x1f973b(0x235)](_0x25be98)['toString'](),_0x2d8f37[_0x1f973b(0x234)]),_0x270bb6[_0x1f973b(0x373)](_0x21089b);});}),_0x481fc1[_0x40f8b1(0x20d)]();});_0x270bb6['on'](_0x3ba378[_0x7784ed(0x3bb)],()=>{const _0x138748=_0x7784ed;_0x21089b(new Error(_0x138748(0x241)));});}),it(_0xd91f5[_0x40aa51(0x2d2)],_0x440e46=>{const _0x8861fa=_0x40aa51,_0x18536c={'oAoLo':_0x3ba378[_0x8861fa(0x3be)],'aGcWH':_0x8861fa(0x20d)},_0x3903ba=new WebSocket[(_0x8861fa(0x376))]({'port':0x0},()=>{const _0x717dd4=_0x8861fa,_0x44093a=http[_0x717dd4(0x281)]({'port':_0x3903ba[_0x717dd4(0x26d)]()[_0x717dd4(0x3c6)],'headers':{'Connection':_0x717dd4(0x28c),'Upgrade':_0x717dd4(0x380)}});_0x44093a['on'](_0x3ba378[_0x717dd4(0x3f0)],_0x13598a=>{const _0x5aaca9=_0x717dd4;assert[_0x5aaca9(0x229)](_0x13598a[_0x5aaca9(0x332)],0x190);const _0x940d48=[];_0x13598a['on'](_0x18536c[_0x5aaca9(0x23e)],_0x5b8fa5=>{const _0x479a05=_0x5aaca9;_0x940d48[_0x479a05(0x375)](_0x5b8fa5);}),_0x13598a['on'](_0x18536c['aGcWH'],()=>{const _0x50edee=_0x5aaca9;assert[_0x50edee(0x229)](Buffer[_0x50edee(0x235)](_0x940d48)[_0x50edee(0x269)](),'Invalid\x20Upgrade\x20header'),_0x3903ba[_0x50edee(0x373)](_0x440e46);});});});_0x3903ba['on'](_0x8861fa(0x3cb),()=>{const _0x3c7645=_0x8861fa;_0x3ba378[_0x3c7645(0x387)](_0x440e46,new Error(_0x3ba378['bAaGG']));});}),_0xd91f5[_0x40aa51(0x232)](it,_0xd91f5[_0x40aa51(0x257)],_0x316fc9=>{const _0x3c3aa3=_0x40aa51,_0x3545b9={'YNVHl':_0x3c3aa3(0x3cc),'RrJMy':function(_0x209b04,_0x599310){return _0x209b04!==_0x599310;},'LphwP':_0xd91f5[_0x3c3aa3(0x38b)],'WXwLU':_0x3c3aa3(0x3d0),'vLZfs':_0xd91f5[_0x3c3aa3(0x1f5)],'HUZXX':'response'},_0x3ca436=new WebSocket['Server']({'port':0x0},()=>{const _0x439693=_0x3c3aa3,_0x212e4e={'BhqQt':function(_0x16ce9e,_0x1adf32){const _0x15e959=_0xea5a;return _0x3545b9[_0x15e959(0x3cf)](_0x16ce9e,_0x1adf32);},'uidCX':_0x3545b9[_0x439693(0x33a)],'Gziji':_0x3545b9['WXwLU']},_0x184fe3=http[_0x439693(0x281)]({'port':_0x3ca436[_0x439693(0x26d)]()[_0x439693(0x3c6)],'headers':{'Connection':_0x439693(0x28c),'Upgrade':_0x3545b9[_0x439693(0x301)]}});_0x184fe3['on'](_0x3545b9[_0x439693(0x275)],_0x332205=>{const _0x45d82c=_0x439693;assert[_0x45d82c(0x229)](_0x332205['statusCode'],0x190);const _0xb1c71=[];_0x332205['on'](_0x3545b9[_0x45d82c(0x3e4)],_0x3eea42=>{_0xb1c71['push'](_0x3eea42);}),_0x332205['on'](_0x45d82c(0x20d),()=>{const _0xcf018c=_0x45d82c;if(_0x212e4e['BhqQt'](_0xcf018c(0x364),_0x212e4e['uidCX']))assert[_0xcf018c(0x229)](Buffer[_0xcf018c(0x235)](_0xb1c71)[_0xcf018c(0x269)](),_0x212e4e['Gziji']),_0x3ca436[_0xcf018c(0x373)](_0x316fc9);else{const _0x5c1b3e=new _0xbca549[(_0xcf018c(0x376))]({'port':0x0},()=>{const _0x184d32=_0xcf018c;_0x5c1b3e[_0x184d32(0x373)](()=>{const _0xf94e85=_0x184d32,_0x12e7f2={'aaeqB':function(_0x519e3e,_0x458f25){return _0x519e3e instanceof _0x458f25;}};_0x3c80da[_0xf94e85(0x229)](_0x5c1b3e[_0xf94e85(0x30d)],0x2),_0x5c1b3e[_0xf94e85(0x373)](_0x350cc3=>{const _0x5d6a6e=_0xf94e85;_0x34904b['ok'](_0x12e7f2['aaeqB'](_0x350cc3,_0x4b5acd)),_0x481c28[_0x5d6a6e(0x229)](_0x350cc3['message'],_0x5d6a6e(0x3a0)),_0x57041a();});});});}});});});_0x3ca436['on'](_0xd91f5[_0x3c3aa3(0x309)],()=>{const _0x4ef7b9=_0x3c3aa3;_0x3ba378['TWNIp'](_0x316fc9,new Error(_0x3ba378[_0x4ef7b9(0x389)]));});}),it(_0x40aa51(0x298),_0x6fbd02=>{const _0x472259=_0x40aa51,_0x244969={'Iyzfm':'data','cviun':function(_0x4e1556,_0x3c0fb1){const _0x226adf=_0xea5a;return _0xd91f5[_0x226adf(0x3c9)](_0x4e1556,_0x3c0fb1);}};if(_0xd91f5[_0x472259(0x27f)]!==_0xd91f5[_0x472259(0x27f)])_0x195026[_0x472259(0x229)](_0x4d42e1[_0x472259(0x235)](_0x31cbde)[_0x472259(0x269)](),_0x3ba378[_0x472259(0x249)]),_0x3b72ba[_0x472259(0x373)](_0x15d739);else{const _0x1670a6=new WebSocket['Server']({'port':0x0},()=>{const _0x354c4d=_0x472259,_0x34578e=http[_0x354c4d(0x281)]({'port':_0x1670a6[_0x354c4d(0x26d)]()[_0x354c4d(0x3c6)],'headers':{'Connection':_0x3ba378[_0x354c4d(0x307)],'Upgrade':_0x3ba378[_0x354c4d(0x2b4)],'Sec-WebSocket-Key':_0x354c4d(0x3a8)}});_0x34578e['on'](_0x3ba378[_0x354c4d(0x3f0)],_0x3afaae=>{const _0x32a7f5=_0x354c4d;assert[_0x32a7f5(0x229)](_0x3afaae[_0x32a7f5(0x332)],0x190);const _0x5e0393=[];_0x3afaae['on'](_0x244969[_0x32a7f5(0x33d)],_0x4c4446=>{const _0x3d858b=_0x32a7f5;_0x5e0393[_0x3d858b(0x375)](_0x4c4446);}),_0x3afaae['on'](_0x32a7f5(0x20d),()=>{const _0x18e816=_0x32a7f5;assert['strictEqual'](Buffer['concat'](_0x5e0393)[_0x18e816(0x269)](),'Missing\x20or\x20invalid\x20Sec-WebSocket-Key\x20header'),_0x1670a6[_0x18e816(0x373)](_0x6fbd02);});});});_0x1670a6['on'](_0x472259(0x3cb),()=>{const _0x2a524d=_0x472259;_0x244969[_0x2a524d(0x37b)](_0x6fbd02,new Error(_0x2a524d(0x241)));});}}),it(_0x40aa51(0x261),_0x15a483=>{const _0x593b7f=_0x40aa51,_0x471028={'Pzfzt':function(_0x34d5d7,_0xb4cc0){const _0x46a078=_0xea5a;return _0x3ba378[_0x46a078(0x3bc)](_0x34d5d7,_0xb4cc0);},'pzeEw':_0x593b7f(0x28c),'NorYf':_0x593b7f(0x3cc),'sBGje':function(_0x522167,_0x7e8bef){return _0x522167(_0x7e8bef);},'HZDyz':_0x593b7f(0x2ad),'yTzIf':_0x3ba378[_0x593b7f(0x2b4)]},_0x26961e=new WebSocket[(_0x593b7f(0x376))]({'port':0x0},()=>{const _0x4d36bf=_0x593b7f,_0x541110={'QjtBP':function(_0x15d5e5,_0x44ca1a){return _0x15d5e5(_0x44ca1a);},'wkGgK':function(_0x55e3de,_0x1eb232){const _0x14ea50=_0xea5a;return _0x471028[_0x14ea50(0x2a5)](_0x55e3de,_0x1eb232);},'PNFmQ':_0x471028[_0x4d36bf(0x2d1)],'JbIdf':_0x471028[_0x4d36bf(0x271)],'iyuIP':function(_0x255910,_0x5d36de){const _0x14b43d=_0x4d36bf;return _0x471028[_0x14b43d(0x24f)](_0x255910,_0x5d36de);},'TrHAy':'Unexpected\x20\x27connection\x27\x20event'};if(_0x471028[_0x4d36bf(0x2a5)](_0x4d36bf(0x2ad),_0x471028[_0x4d36bf(0x1fa)])){const _0x1e89b3=http['get']({'port':_0x26961e[_0x4d36bf(0x26d)]()['port'],'headers':{'Connection':_0x471028[_0x4d36bf(0x2d1)],'Upgrade':_0x471028[_0x4d36bf(0x394)],'Sec-WebSocket-Key':'dGhlIHNhbXBsZSBub25jZQ=='}});_0x1e89b3['on'](_0x4d36bf(0x328),_0x2a2134=>{const _0x4886ca=_0x4d36bf,_0x49fe93={'YkjJe':_0x541110[_0x4886ca(0x23c)],'GgWqo':'connection','UylJj':_0x4886ca(0x285)};assert[_0x4886ca(0x229)](_0x2a2134['statusCode'],0x190);const _0x9441c=[];_0x2a2134['on'](_0x541110[_0x4886ca(0x28a)],_0x2d0254=>{const _0x269343=_0x4886ca,_0x4995e1={'lEWhY':function(_0x15f6ed,_0x7572c2){const _0x4d2460=_0xea5a;return _0x541110[_0x4d2460(0x2bc)](_0x15f6ed,_0x7572c2);}};if(_0x541110[_0x269343(0x372)](_0x269343(0x3a1),_0x269343(0x352))){const _0x156f71={'XfzVS':_0x49fe93[_0x269343(0x20b)],'Eetnb':_0x269343(0x2aa)},_0x4b7082=new _0x88992d[(_0x269343(0x376))]({'verifyClient':(_0x112c73,_0x4d338e)=>_0x18b582['nextTick'](_0x4d338e,![]),'port':0x0},()=>{const _0x5b0c90=_0x269343,_0x5c6e91=_0x2a13ba[_0x5b0c90(0x281)]({'port':_0x4b7082[_0x5b0c90(0x26d)]()[_0x5b0c90(0x3c6)],'headers':{'Connection':_0x156f71[_0x5b0c90(0x2fb)],'Upgrade':_0x5b0c90(0x203),'Sec-WebSocket-Key':_0x156f71[_0x5b0c90(0x3ea)],'Sec-WebSocket-Version':0x8}});_0x5c6e91['on'](_0x5b0c90(0x328),_0x502bde=>{const _0x3b4f35=_0x5b0c90;_0x174007[_0x3b4f35(0x229)](_0x502bde['statusCode'],0x191),_0x4b7082[_0x3b4f35(0x373)](_0x54fe2d);});});_0x4b7082['on'](_0x49fe93[_0x269343(0x221)],()=>{const _0x216d87=_0x269343;_0x4995e1[_0x216d87(0x300)](_0x4db572,new _0x410933('Unexpected\x20\x27connection\x27\x20event'));});}else _0x9441c['push'](_0x2d0254);}),_0x2a2134['on'](_0x4886ca(0x20d),()=>{const _0x260125=_0x4886ca;assert[_0x260125(0x229)](Buffer[_0x260125(0x235)](_0x9441c)['toString'](),_0x49fe93['UylJj']),_0x26961e[_0x260125(0x373)](_0x15a483);});});}else _0x541110[_0x4d36bf(0x3da)](_0x2bed1f,new _0x36e4f6(_0x541110[_0x4d36bf(0x243)]));});_0x26961e['on'](_0x3ba378[_0x593b7f(0x3bb)],()=>{const _0x41d72d=_0x593b7f;_0x3ba378['IZqsJ'](_0x15a483,new Error(_0x3ba378[_0x41d72d(0x389)]));});}),_0xd91f5['cCByN'](it,'fails\x20if\x20the\x20Sec-WebSocket-Version\x20header\x20is\x20invalid\x20(2/2)',_0x2605a4=>{const _0x492bb2=_0x40aa51,_0x1f828c={'eRJPa':_0xd91f5['dXUqG'],'CWLly':_0x492bb2(0x203),'UzTsh':'dGhlIHNhbXBsZSBub25jZQ==','Hdhun':'response'},_0x4266a3=new WebSocket[(_0x492bb2(0x376))]({'port':0x0},()=>{const _0x38ed11=_0x492bb2,_0x4b237f=http['get']({'port':_0x4266a3[_0x38ed11(0x26d)]()[_0x38ed11(0x3c6)],'headers':{'Connection':'Upgrade','Upgrade':_0x1f828c[_0x38ed11(0x2dd)],'Sec-WebSocket-Key':_0x1f828c[_0x38ed11(0x2ae)],'Sec-WebSocket-Version':0xc}});_0x4b237f['on'](_0x1f828c[_0x38ed11(0x25b)],_0x2b61ac=>{const _0x291640=_0x38ed11;assert[_0x291640(0x229)](_0x2b61ac[_0x291640(0x332)],0x190);const _0x143b35=[];_0x2b61ac['on'](_0x291640(0x3cc),_0x4cc48f=>{const _0xcfb93c=_0x291640;_0x143b35[_0xcfb93c(0x375)](_0x4cc48f);}),_0x2b61ac['on'](_0x1f828c[_0x291640(0x267)],()=>{const _0x3e69f6=_0x291640;assert[_0x3e69f6(0x229)](Buffer[_0x3e69f6(0x235)](_0x143b35)[_0x3e69f6(0x269)](),_0x3e69f6(0x285)),_0x4266a3[_0x3e69f6(0x373)](_0x2605a4);});});});_0x4266a3['on']('connection',()=>{const _0x114bd4=_0x492bb2;_0x3ba378[_0x114bd4(0x22f)](_0x2605a4,new Error(_0x114bd4(0x241)));});}),it(_0xd91f5[_0x40aa51(0x3a3)],_0x1ece16=>{const _0x54acee=_0x40aa51,_0x159cfd={'lnquq':_0x54acee(0x3cc),'nyuTU':_0xd91f5[_0x54acee(0x228)],'sOapB':_0x54acee(0x3cb),'vochT':function(_0x44022b,_0x30f286){const _0x378531=_0x54acee;return _0xd91f5[_0x378531(0x3b1)](_0x44022b,_0x30f286);},'dBsPy':_0x54acee(0x273),'zgiEN':function(_0x521796,_0x12101f){return _0x521796(_0x12101f);},'RlBwv':'Unexpected\x20\x27connection\x27\x20event'},_0x2a132d=new WebSocket['Server']({'port':0x0},()=>{const _0x4ec589=_0x54acee,_0x55df57=http['get']({'port':_0x2a132d[_0x4ec589(0x26d)]()[_0x4ec589(0x3c6)],'headers':{'Connection':'Upgrade','Upgrade':_0x4ec589(0x203),'Sec-WebSocket-Key':_0x3ba378[_0x4ec589(0x2a7)],'Sec-WebSocket-Version':0xd,'Sec-WebSocket-Protocol':_0x3ba378[_0x4ec589(0x2a3)]}});_0x55df57['on'](_0x4ec589(0x328),_0x26703c=>{const _0x8fb638=_0x4ec589;assert[_0x8fb638(0x229)](_0x26703c[_0x8fb638(0x332)],0x190);const _0x19033c=[];_0x26703c['on'](_0x159cfd[_0x8fb638(0x2be)],_0x36939=>{const _0x4afa4c=_0x8fb638;_0x19033c[_0x4afa4c(0x375)](_0x36939);}),_0x26703c['on'](_0x159cfd['nyuTU'],()=>{const _0x844018=_0x8fb638;assert['strictEqual'](Buffer[_0x844018(0x235)](_0x19033c)[_0x844018(0x269)](),_0x844018(0x28d)),_0x2a132d[_0x844018(0x373)](_0x1ece16);});});});_0x2a132d['on'](_0xd91f5[_0x54acee(0x309)],()=>{const _0xc37e83=_0x54acee;if(_0x159cfd[_0xc37e83(0x344)]('KlViK',_0x159cfd[_0xc37e83(0x27b)])){const _0x3b811d={'nfZBg':'open'},_0x5c4d04=new _0x27d09f[(_0xc37e83(0x376))]({'port':0x0},()=>{const _0x18de76=_0xc37e83,_0x265b0c=new _0x4f1676('ws://localhost:'+_0x5c4d04['address']()['port']);_0x265b0c['on'](_0x3b811d[_0x18de76(0x37a)],_0x265b0c[_0x18de76(0x373)]);});_0x5c4d04['on'](_0x159cfd[_0xc37e83(0x2fd)],(_0x931ffb,_0x57c474)=>{const _0x2ab974=_0xc37e83;_0x21ee96[_0x2ab974(0x229)](_0x57c474[_0x2ab974(0x31e)][_0x2ab974(0x362)],_0x2ab974(0x2a1)),_0x3e14cb[_0x2ab974(0x229)](_0x931ffb['extensions'],''),_0x5c4d04[_0x2ab974(0x373)](_0x507772);});}else _0x159cfd[_0xc37e83(0x1fd)](_0x1ece16,new Error(_0x159cfd['RlBwv']));});}),it(_0xd91f5[_0x40aa51(0x27a)],_0x1d3f22=>{const _0x44a40b=_0x40aa51,_0x2b7524={'lMqbP':_0xd91f5[_0x44a40b(0x39d)],'YuXlP':_0x44a40b(0x3cc),'pDVNS':_0xd91f5[_0x44a40b(0x228)]},_0x47cddb=new WebSocket[(_0x44a40b(0x376))]({'perMessageDeflate':!![],'port':0x0},()=>{const _0x38a78e=_0x44a40b,_0x3aba82={'UxDRe':_0x3ba378[_0x38a78e(0x2db)]},_0x46d803=http[_0x38a78e(0x281)]({'port':_0x47cddb[_0x38a78e(0x26d)]()['port'],'headers':{'Connection':_0x38a78e(0x28c),'Upgrade':_0x3ba378[_0x38a78e(0x2b4)],'Sec-WebSocket-Key':_0x38a78e(0x2aa),'Sec-WebSocket-Version':0xd,'Sec-WebSocket-Extensions':'permessage-deflate;\x20server_max_window_bits=foo'}});_0x46d803['on'](_0x38a78e(0x328),_0x583afb=>{const _0x1afb5c=_0x38a78e,_0x50b506={'GyEMj':'end','NFxCF':'Upgrade','ZdKfA':_0x2b7524[_0x1afb5c(0x212)]};assert['strictEqual'](_0x583afb[_0x1afb5c(0x332)],0x190);const _0x47357c=[];_0x583afb['on'](_0x2b7524['YuXlP'],_0x23c5c2=>{const _0x29dcf8=_0x1afb5c;if(_0x29dcf8(0x3cd)===_0x29dcf8(0x3cd))_0x47357c[_0x29dcf8(0x375)](_0x23c5c2);else{const _0x6e9de1={'QOoWu':_0x29dcf8(0x3a6),'XnHRg':_0x50b506[_0x29dcf8(0x358)]},_0x19b48f=_0x510cb1[_0x29dcf8(0x281)]({'port':_0x1237c7[_0x29dcf8(0x26d)]()[_0x29dcf8(0x3c6)],'headers':{'Connection':_0x50b506['NFxCF'],'Upgrade':_0x50b506[_0x29dcf8(0x312)]}});_0x19b48f['on'](_0x29dcf8(0x328),_0x10af3a=>{const _0x2ab319=_0x29dcf8;_0x2d087d[_0x2ab319(0x229)](_0x10af3a[_0x2ab319(0x332)],0x190);const _0x39d645=[];_0x10af3a['on'](_0x2ab319(0x3cc),_0x583dcc=>{const _0x18b42b=_0x2ab319;_0x39d645[_0x18b42b(0x375)](_0x583dcc);}),_0x10af3a['on'](_0x6e9de1['XnHRg'],()=>{const _0x581a39=_0x2ab319;_0x5f33df['strictEqual'](_0x5c9c91[_0x581a39(0x235)](_0x39d645)[_0x581a39(0x269)](),_0x6e9de1['QOoWu']),_0x34e6c3[_0x581a39(0x373)](_0x335741);});});}}),_0x583afb['on'](_0x2b7524[_0x1afb5c(0x2fa)],()=>{const _0x6dbc95=_0x1afb5c;assert[_0x6dbc95(0x229)](Buffer[_0x6dbc95(0x235)](_0x47357c)[_0x6dbc95(0x269)](),_0x3aba82[_0x6dbc95(0x31c)]),_0x47cddb[_0x6dbc95(0x373)](_0x1d3f22);});});});_0x47cddb['on'](_0x44a40b(0x3cb),()=>{const _0x435fee=_0x44a40b;_0x3ba378['dtMip'](_0x1d3f22,new Error(_0x3ba378[_0x435fee(0x389)]));});}),_0xd91f5['ebTtr'](it,_0x40aa51(0x37e),_0x1eac68=>{const _0x1ef372=_0x40aa51,_0x472a8b={'IRDfi':_0x1ef372(0x3aa),'SBidp':_0x3ba378[_0x1ef372(0x2b4)],'xgrsR':_0x3ba378[_0x1ef372(0x3f0)]},_0x1aee3c=new WebSocket[(_0x1ef372(0x376))]({'port':0x0},()=>{const _0x317f3c=_0x1ef372,_0x13dc77=http['request']({'method':_0x317f3c(0x2f6),'port':_0x1aee3c[_0x317f3c(0x26d)]()['port'],'headers':{'Connection':_0x317f3c(0x28c),'Upgrade':_0x472a8b['SBidp']}});_0x13dc77['on'](_0x472a8b[_0x317f3c(0x2cb)],_0x95420b=>{const _0x43a4ee=_0x317f3c,_0x46dc14={'HgChi':_0x43a4ee(0x2c9)};if(_0x43a4ee(0x39e)===_0x472a8b[_0x43a4ee(0x255)]){const _0x1a0e54={'DgWWk':_0x46dc14['HgChi']};_0x49e299[_0x43a4ee(0x229)](_0x1b92a0[_0x43a4ee(0x332)],0x195);const _0x3b2758=[];_0x481602['on'](_0x43a4ee(0x3cc),_0x2d26b5=>{const _0x4b60c1=_0x43a4ee;_0x3b2758[_0x4b60c1(0x375)](_0x2d26b5);}),_0x223f91['on'](_0x43a4ee(0x20d),()=>{const _0x550f42=_0x43a4ee;_0x51c464[_0x550f42(0x229)](_0x5d74d3[_0x550f42(0x235)](_0x3b2758)[_0x550f42(0x269)](),_0x1a0e54[_0x550f42(0x3ae)]),_0x531fb4[_0x550f42(0x373)](_0x226dd9);});}else assert[_0x43a4ee(0x229)](_0x95420b[_0x43a4ee(0x332)],0x190),_0x1aee3c['close'](_0x1eac68);}),_0x13dc77['end']();});_0x1aee3c['on'](_0x1ef372(0x2a4),(_0x2d2b0f,_0xda7a0b,_0x43692f)=>{const _0x175ff2=_0x1ef372;assert['ok'](_0x2d2b0f instanceof Error),assert[_0x175ff2(0x229)](_0x2d2b0f['message'],'Invalid\x20HTTP\x20method'),assert['ok'](_0x43692f instanceof http[_0x175ff2(0x287)]),assert['strictEqual'](_0x43692f[_0x175ff2(0x236)],_0x175ff2(0x2f6)),_0xda7a0b[_0x175ff2(0x20d)](_0x175ff2(0x390));}),_0x1aee3c['on'](_0x1ef372(0x3cb),()=>{_0x1eac68(new Error(_0x3ba378['bAaGG']));});}),it(_0x40aa51(0x3e7),_0x2886c1=>{const _0x1cb431=_0x40aa51,_0x1a5df2={'UeUzV':_0xd91f5[_0x1cb431(0x226)],'mTvoE':function(_0x238167,_0x24d673){const _0x5c64aa=_0x1cb431;return _0xd91f5[_0x5c64aa(0x2bb)](_0x238167,_0x24d673);}},_0xc32388=http[_0x1cb431(0x3a2)](),_0x5e0bba=new WebSocket[(_0x1cb431(0x376))]({'noServer':!![]});_0xc32388['on'](_0xd91f5[_0x1cb431(0x314)],(_0x591cc3,_0x2e240c,_0x284f2d)=>{const _0x3191c9=_0x1cb431;_0x1a5df2[_0x3191c9(0x20f)](_0x3191c9(0x385),_0x3191c9(0x385))?(_0x3166a0['strictEqual'](_0x28cc17[_0x3191c9(0x1f2)],_0x25f078),_0x2938a8['on'](_0x3191c9(0x373),()=>_0x233118[_0x3191c9(0x373)](_0x458f31))):(_0x5e0bba[_0x3191c9(0x373)](),_0x5e0bba[_0x3191c9(0x317)](_0x591cc3,_0x2e240c,_0x284f2d,()=>{_0x2886c1(new Error(_0x1a5df2['UeUzV']));}));}),_0xc32388[_0x1cb431(0x291)](0x0,()=>{const _0x196164=_0x1cb431,_0x490a51=new WebSocket(_0x196164(0x3e6)+_0xc32388[_0x196164(0x26d)]()[_0x196164(0x3c6)]);_0x490a51['on'](_0x196164(0x1ef),(_0x1d5c9a,_0x233fdb)=>{const _0x261933=_0x196164;assert['strictEqual'](_0x233fdb[_0x261933(0x332)],0x1f7),_0x233fdb[_0x261933(0x299)](),_0xc32388[_0x261933(0x373)](_0x2886c1);});});}),_0xd91f5[_0x40aa51(0x346)](it,_0x40aa51(0x2c6),_0xa10857=>{const _0x2a4c5f=_0x40aa51,_0x13c80b={'jKUsH':_0x3ba378['AVeNi'],'nEzWa':_0x2a4c5f(0x203)},_0x2c0851=new WebSocket[(_0x2a4c5f(0x376))]({'perMessageDeflate':!![],'port':0x0},()=>{const _0x33a51e=_0x2a4c5f,_0x52d1f4={'ZJydq':_0x33a51e(0x3cc)};if(_0x13c80b['jKUsH']===_0x33a51e(0x3ad))_0x1b6375['strictEqual'](_0x5b4cd4[_0x33a51e(0x26d)](),null),_0x4a05e2();else{const _0x44581d=http[_0x33a51e(0x281)]({'port':_0x2c0851[_0x33a51e(0x26d)]()['port'],'headers':{'Connection':_0x33a51e(0x28c),'Upgrade':_0x13c80b['nEzWa'],'Sec-WebSocket-Key':_0x33a51e(0x2aa),'Sec-WebSocket-Version':0xd,'Sec-WebSocket-Extensions':_0x33a51e(0x3de)}});_0x44581d['on']('upgrade',(_0x125837,_0x367478,_0xff7879)=>{const _0x371d49=_0x33a51e;if(_0xff7879[_0x371d49(0x33e)])_0x367478[_0x371d49(0x2e9)](_0xff7879);_0x367478[_0x371d49(0x38e)](_0x52d1f4[_0x371d49(0x2d7)],_0x21d470=>{const _0x2d8d2a=_0x371d49;assert[_0x2d8d2a(0x229)](_0x21d470[0x0],0x88),_0x367478[_0x2d8d2a(0x359)](),_0x2c0851[_0x2d8d2a(0x373)](_0xa10857);});});}});_0x2c0851['on'](_0x2a4c5f(0x3cb),_0x39227b=>{const _0x408ffc=_0x2a4c5f;_0x3ba378[_0x408ffc(0x2ef)]===_0x3ba378[_0x408ffc(0x2ef)]?(assert[_0x408ffc(0x229)](_0x39227b[_0x408ffc(0x2f8)],''),_0x39227b[_0x408ffc(0x373)]()):(_0x24f45a[_0x408ffc(0x229)](_0xa56d41[_0x408ffc(0x332)],0x1f7),_0x592ae5['resume'](),_0x378ba7['close'](_0x5de96d));});}),_0xd91f5[_0x40aa51(0x3e3)](describe,_0xd91f5[_0x40aa51(0x361)],()=>{const _0x2ffb9f=_0x40aa51,_0x365029={'XHGHo':_0x2ffb9f(0x38f),'ksdNt':_0x3ba378[_0x2ffb9f(0x2b4)],'PCxLa':_0x3ba378[_0x2ffb9f(0x3f0)],'JFvCU':function(_0x5cf7f4,_0x22c97a){return _0x5cf7f4(_0x22c97a);},'BkbMx':_0x3ba378[_0x2ffb9f(0x389)],'waIBF':_0x2ffb9f(0x3cb),'ADTvj':_0x3ba378[_0x2ffb9f(0x29d)],'bbaUp':_0x2ffb9f(0x24d),'MlqYa':_0x3ba378[_0x2ffb9f(0x296)],'GnlVP':_0x3ba378[_0x2ffb9f(0x3ec)]};it(_0x2ffb9f(0x315),_0x27758a=>{const _0x468acf=_0x2ffb9f,_0x26b16b=new WebSocket[(_0x468acf(0x376))]({'verifyClient':()=>![],'port':0x0},()=>{const _0xe81605=_0x468acf,_0x2c1822={'TzKEs':_0xe81605(0x203)};if(_0xe81605(0x38f)!==_0x365029['XHGHo']){const _0x3065d8={'evPFk':_0xe81605(0x3cc)},_0x4b2135=_0x239e52[_0xe81605(0x281)]({'port':_0x2efb4b[_0xe81605(0x26d)]()[_0xe81605(0x3c6)],'headers':{'Connection':_0xe81605(0x28c),'Upgrade':_0x2c1822['TzKEs'],'Sec-WebSocket-Key':_0xe81605(0x2aa),'Sec-WebSocket-Version':0xd,'Sec-WebSocket-Protocol':_0xe81605(0x353)}});_0x4b2135['on']('response',_0x68a398=>{const _0x1a7b74=_0xe81605;_0x3c8dba['strictEqual'](_0x68a398[_0x1a7b74(0x332)],0x190);const _0x475c9f=[];_0x68a398['on'](_0x3065d8[_0x1a7b74(0x396)],_0x339c7b=>{const _0x2d091b=_0x1a7b74;_0x475c9f[_0x2d091b(0x375)](_0x339c7b);}),_0x68a398['on'](_0x1a7b74(0x20d),()=>{const _0x378a5d=_0x1a7b74;_0x3512fd[_0x378a5d(0x229)](_0x4ee069[_0x378a5d(0x235)](_0x475c9f)[_0x378a5d(0x269)](),_0x378a5d(0x28d)),_0x24e4cc['close'](_0x2ba53c);});});}else{const _0x499776=http[_0xe81605(0x281)]({'port':_0x26b16b[_0xe81605(0x26d)]()[_0xe81605(0x3c6)],'headers':{'Connection':_0xe81605(0x28c),'Upgrade':_0x365029['ksdNt'],'Sec-WebSocket-Key':_0xe81605(0x2aa),'Sec-WebSocket-Version':0x8}});_0x499776['on'](_0x365029['PCxLa'],_0x1ba227=>{const _0x3bc454=_0xe81605;assert[_0x3bc454(0x229)](_0x1ba227[_0x3bc454(0x332)],0x191),_0x26b16b['close'](_0x27758a);});}});_0x26b16b['on'](_0x365029[_0x468acf(0x238)],()=>{const _0x4b4658=_0x468acf;_0x365029[_0x4b4658(0x311)](_0x27758a,new Error(_0x365029[_0x4b4658(0x258)]));});}),it(_0x2ffb9f(0x25c),_0x33e24=>{const _0x2c75a7=_0x2ffb9f,_0x379fd6={'zFcAE':_0x365029[_0x2c75a7(0x258)],'PGnlu':'nftnP','HBBlx':'https://example.com'},_0x3f9df1=https[_0x2c75a7(0x3a2)]({'cert':fs[_0x2c75a7(0x2c3)](_0x2c75a7(0x2f7)),'key':fs[_0x2c75a7(0x2c3)]('test/fixtures/key.pem')}),_0x16da7a=new WebSocket[(_0x2c75a7(0x376))]({'verifyClient':_0x20000=>{const _0x39ef57=_0x2c75a7;if('orpPI'!==_0x379fd6[_0x39ef57(0x3f1)])return assert[_0x39ef57(0x229)](_0x20000[_0x39ef57(0x35d)],_0x379fd6[_0x39ef57(0x26b)]),assert[_0x39ef57(0x229)](_0x20000[_0x39ef57(0x31d)][_0x39ef57(0x31e)][_0x39ef57(0x380)],_0x39ef57(0x354)),assert['ok'](_0x20000['secure'],!![]),new AsyncFunction(_0x39ef57(0x32b))(),!![];else _0x5c6c18(new _0x201d80(_0x379fd6[_0x39ef57(0x217)]));},'server':_0x3f9df1});_0x16da7a['on']('connection',()=>{_0x3f9df1['close'](_0x33e24);}),_0x3f9df1[_0x2c75a7(0x291)](0x0,()=>{const _0xe73eb1=_0x2c75a7,_0x426f07=new WebSocket(_0xe73eb1(0x3a5)+_0x3f9df1[_0xe73eb1(0x26d)]()[_0xe73eb1(0x3c6)],{'headers':{'Origin':_0xe73eb1(0x39b),'foo':_0x365029['ADTvj']},'rejectUnauthorized':![]});_0x426f07['on']('open',_0x426f07[_0xe73eb1(0x373)]);});}),it(_0x2ffb9f(0x3b9),_0x5f352c=>{const _0x5b7f5d=_0x2ffb9f;if(_0x365029[_0x5b7f5d(0x2d0)]==='SpmoH'){const _0x388c55=new WebSocket[(_0x5b7f5d(0x376))]({'verifyClient':(_0x328ecd,_0x123512)=>process[_0x5b7f5d(0x3d3)](_0x123512,!![]),'port':0x0},()=>{const _0x1d0a9f=_0x5b7f5d,_0x41337f=new WebSocket(_0x1d0a9f(0x3e6)+_0x388c55['address']()['port']);_0x41337f['on']('open',_0x41337f[_0x1d0a9f(0x373)]);});_0x388c55['on'](_0x365029[_0x5b7f5d(0x238)],()=>_0x388c55[_0x5b7f5d(0x373)](_0x5f352c));}else{const _0x1f1bc3=new _0x25f695[(_0x5b7f5d(0x376))]({'noServer':!![]});_0x2a8f56['on'](_0x5b7f5d(0x391),(_0xdea52c,_0x4164e3,_0x62f2fb)=>{const _0x15c93d=_0x5b7f5d;_0x1f1bc3[_0x15c93d(0x317)](_0xdea52c,_0x4164e3,_0x62f2fb,_0x3f6092=>{const _0x5dd8cd=_0x15c93d;_0x3f6092[_0x5dd8cd(0x1f1)]('hello'),_0x3f6092['close']();});});const _0x5d65f2=new _0x3705fe(_0x5b7f5d(0x3e6)+_0x3baab1['address']()[_0x5b7f5d(0x3c6)]);_0x5d65f2['on'](_0x365029[_0x5b7f5d(0x2a2)],(_0x6d2101,_0x2b336c)=>{const _0xa71d45=_0x5b7f5d;_0x956de5[_0xa71d45(0x216)](_0x6d2101,_0x245a22['from']('hello')),_0x3fa0d2['ok'](!_0x2b336c),_0x2bc5ef[_0xa71d45(0x373)](_0x204069);});}}),_0x3ba378[_0x2ffb9f(0x209)](it,_0x2ffb9f(0x392),_0x391d17=>{const _0x1cdee3=_0x2ffb9f,_0x156c9c={'LVavq':function(_0xc55f20,_0x3bac91){const _0x304110=_0xea5a;return _0x3ba378[_0x304110(0x398)](_0xc55f20,_0x3bac91);}},_0x3ad39d=new WebSocket[(_0x1cdee3(0x376))]({'verifyClient':(_0x407f58,_0x106419)=>process['nextTick'](_0x106419,![]),'port':0x0},()=>{const _0x22681f=_0x1cdee3,_0x3c6ef6=http['get']({'port':_0x3ad39d[_0x22681f(0x26d)]()[_0x22681f(0x3c6)],'headers':{'Connection':_0x22681f(0x28c),'Upgrade':_0x22681f(0x203),'Sec-WebSocket-Key':_0x22681f(0x2aa),'Sec-WebSocket-Version':0x8}});_0x3c6ef6['on']('response',_0xf0906c=>{const _0x3689f6=_0x22681f;assert[_0x3689f6(0x229)](_0xf0906c[_0x3689f6(0x332)],0x191),_0x3ad39d['close'](_0x391d17);});});_0x3ad39d['on'](_0x3ba378[_0x1cdee3(0x3bb)],()=>{const _0x389dcd=_0x1cdee3;_0x156c9c[_0x389dcd(0x2ac)](_0x391d17,new Error(_0x389dcd(0x241)));});}),_0x3ba378[_0x2ffb9f(0x209)](it,_0x2ffb9f(0x1fe),_0x4a1a34=>{const _0x478a56=_0x2ffb9f,_0x4ff157={'zyZkz':_0x3ba378[_0x478a56(0x307)],'gAEIj':_0x478a56(0x203),'MfmOu':'dGhlIHNhbXBsZSBub25jZQ==','lDUcd':function(_0x57a2ef,_0x5637c8){return _0x3ba378['dtMip'](_0x57a2ef,_0x5637c8);}};if(_0x3ba378['CopLn']===_0x3ba378['ROFHT'])_0x391775[_0x478a56(0x25e)](()=>new _0x2b6d2b['Server']({}),new _0x346eda(_0x365029[_0x478a56(0x3ef)]+_0x478a56(0x206)));else{const _0x5d1927=new WebSocket[(_0x478a56(0x376))]({'verifyClient':(_0x2ecf9,_0x83c5af)=>process[_0x478a56(0x3d3)](_0x83c5af,![],0x194),'port':0x0},()=>{const _0x828b9=_0x478a56,_0x5846dc=http[_0x828b9(0x281)]({'port':_0x5d1927[_0x828b9(0x26d)]()[_0x828b9(0x3c6)],'headers':{'Connection':_0x4ff157['zyZkz'],'Upgrade':_0x4ff157['gAEIj'],'Sec-WebSocket-Key':_0x4ff157['MfmOu'],'Sec-WebSocket-Version':0x8}});_0x5846dc['on']('response',_0x1be6e2=>{const _0x489cbb=_0x828b9;assert[_0x489cbb(0x229)](_0x1be6e2[_0x489cbb(0x332)],0x194),_0x5d1927[_0x489cbb(0x373)](_0x4a1a34);});});_0x5d1927['on'](_0x3ba378[_0x478a56(0x3bb)],()=>{const _0x1abdab=_0x478a56;_0x4ff157['lDUcd'](_0x4a1a34,new Error(_0x1abdab(0x241)));});}}),_0x3ba378[_0x2ffb9f(0x209)](it,_0x2ffb9f(0x319),_0x536b4b=>{const _0x513421=_0x2ffb9f,_0x528220={'MrjHq':_0x513421(0x3d8),'JtSaj':'websocket','ieFwL':'dGhlIHNhbXBsZSBub25jZQ==','kjCZu':_0x513421(0x241)},_0xd74954=new WebSocket['Server']({'verifyClient':(_0x1e46f1,_0x406306)=>{const _0x3fde15=_0x513421;process[_0x3fde15(0x3d3)](_0x406306,![],0x1f7,'',{'Retry-After':0x78});},'port':0x0},()=>{const _0x1d98d4=_0x513421,_0xb42808=http[_0x1d98d4(0x281)]({'port':_0xd74954[_0x1d98d4(0x26d)]()[_0x1d98d4(0x3c6)],'headers':{'Connection':_0x1d98d4(0x28c),'Upgrade':_0x528220[_0x1d98d4(0x1e8)],'Sec-WebSocket-Key':_0x528220[_0x1d98d4(0x214)],'Sec-WebSocket-Version':0x8}});_0xb42808['on'](_0x1d98d4(0x328),_0x86175f=>{const _0x13c726=_0x1d98d4;assert[_0x13c726(0x229)](_0x86175f[_0x13c726(0x332)],0x1f7),assert['strictEqual'](_0x86175f[_0x13c726(0x31e)]['retry-after'],_0x528220[_0x13c726(0x2cd)]),_0xd74954['close'](_0x536b4b);});});_0xd74954['on'](_0x513421(0x3cb),()=>{const _0x304d27=_0x513421;_0x536b4b(new Error(_0x528220[_0x304d27(0x3bd)]));});});}),it(_0xd91f5[_0x40aa51(0x262)],_0x3494c7=>{const _0x510c21=_0x40aa51,_0x2d0093={'FyHkv':function(_0x2cd23a,_0x42f931){return _0x2cd23a!==_0x42f931;},'kECCt':function(_0x4dd711,_0x229d81){const _0x349d3f=_0xea5a;return _0xd91f5[_0x349d3f(0x3c9)](_0x4dd711,_0x229d81);},'XhiFF':function(_0x25cc2d,_0x3b6473){return _0x25cc2d===_0x3b6473;},'MJVIE':'QZlbO','JcLeO':_0x510c21(0x2a0),'vPzSN':_0xd91f5[_0x510c21(0x327)],'soTeV':'Upgrade:\x20websocket','SjShP':_0x510c21(0x3c4),'hnRhH':function(_0x194be5,_0x556f22){return _0x194be5===_0x556f22;}},_0x1df424=http[_0x510c21(0x3a2)]();_0x1df424[_0x510c21(0x291)](0x0,()=>{const _0x5c5439=_0x510c21,_0x714186=new WebSocket['Server']({'verifyClient':({req:{socket:_0x15bac0}},_0x2cbe91)=>{const _0x41d778=_0xea5a,_0x5002af={'FlkyS':function(_0x121f34,_0x1a5cee){const _0x409be6=_0xea5a;return _0x2d0093[_0x409be6(0x24c)](_0x121f34,_0x1a5cee);},'wzbaw':function(_0x101594,_0x27e3e0){const _0x22b2c3=_0xea5a;return _0x2d0093[_0x22b2c3(0x224)](_0x101594,_0x27e3e0);}};assert[_0x41d778(0x229)](_0x15bac0['readable'],!![]),assert[_0x41d778(0x229)](_0x15bac0[_0x41d778(0x2bf)],!![]),_0x15bac0['on'](_0x41d778(0x20d),()=>{const _0x3e8091=_0x41d778;_0x5002af['FlkyS'](_0x3e8091(0x30f),_0x3e8091(0x30f))?_0x575bbc=!![]:(assert['strictEqual'](_0x15bac0[_0x3e8091(0x3a9)],![]),assert[_0x3e8091(0x229)](_0x15bac0[_0x3e8091(0x2bf)],!![]),_0x5002af[_0x3e8091(0x280)](_0x2cbe91,!![]));});},'server':_0x1df424});_0x714186['on'](_0x3ba378[_0x5c5439(0x3bb)],()=>{const _0x4ad910=_0x5c5439;_0x2d0093[_0x4ad910(0x342)](_0x2d0093[_0x4ad910(0x36a)],'QZlbO')?_0x2d0093[_0x4ad910(0x224)](_0x3494c7,new Error('Unexpected\x20\x27connection\x27\x20event')):(_0x559b3c[_0x4ad910(0x229)](_0x4b5fe9['extensions'],''),_0x5210f5[_0x4ad910(0x373)]());});const _0x6cd542=net[_0x5c5439(0x251)]({'port':_0x1df424[_0x5c5439(0x26d)]()[_0x5c5439(0x3c6)],'allowHalfOpen':!![]},()=>{const _0x48e566=_0x5c5439;_0x6cd542[_0x48e566(0x20d)]([_0x2d0093[_0x48e566(0x1ea)],_0x2d0093[_0x48e566(0x2e5)],_0x2d0093[_0x48e566(0x34d)],_0x48e566(0x2f5),_0x2d0093['SjShP'],'Sec-WebSocket-Version:\x2013','\x0d\x0a']['join']('\x0d\x0a'));});_0x6cd542['on'](_0x5c5439(0x20d),()=>{const _0x4f09ec=_0x5c5439;if(_0x2d0093[_0x4f09ec(0x3db)](_0x4f09ec(0x341),'RNIZt'))_0x714186[_0x4f09ec(0x373)](),_0x1df424[_0x4f09ec(0x373)](_0x3494c7);else{const _0x1079b9=new _0xa4e617['Server']({'port':0x0},()=>{const _0x64e310=_0x4f09ec,_0x239a38=_0x1079b9[_0x64e310(0x26d)]();_0x253dc6['deepStrictEqual'](_0x239a38,_0x1079b9[_0x64e310(0x22d)]['address']()),_0x1079b9[_0x64e310(0x373)](_0xaf3020);});}});});}),it(_0x40aa51(0x33f),_0x24f0a9=>{const _0x3db3a3=_0x40aa51,_0xde9127=new WebSocket[(_0x3db3a3(0x376))]({'port':0x0},()=>{const _0x3bd96a=_0x3db3a3,_0x111eae=http[_0x3bd96a(0x231)]({'port':_0xde9127['address']()[_0x3bd96a(0x3c6)],'headers':{'Connection':_0x3bd96a(0x28c),'Upgrade':'websocket','Sec-WebSocket-Key':_0x3bd96a(0x2aa),'Sec-WebSocket-Version':0xd}}),_0x4ddd32=Sender[_0x3bd96a(0x3b3)](Buffer[_0x3bd96a(0x210)]('Hello'),{'fin':!![],'rsv1':![],'opcode':0x1,'mask':!![],'readOnly':![]});_0x111eae[_0x3bd96a(0x3a7)](Buffer[_0x3bd96a(0x235)](_0x4ddd32)),_0x111eae['end']();});_0xde9127['on'](_0x3ba378[_0x3db3a3(0x3bb)],_0x38a64e=>{const _0x28b3b2=_0x3db3a3;_0x38a64e['on'](_0x28b3b2(0x24d),(_0x38090f,_0x465963)=>{const _0x276b0c=_0x28b3b2;assert[_0x276b0c(0x216)](_0x38090f,Buffer[_0x276b0c(0x210)](_0x276b0c(0x3ca))),assert['ok'](!_0x465963),_0xde9127[_0x276b0c(0x373)](_0x24f0a9);});});}),_0xd91f5[_0x40aa51(0x23b)](describe,_0xd91f5['XDYub'],()=>{const _0x5afdc1=_0x40aa51,_0x400e9d={'HtKjd':_0x3ba378['TsKlA'],'CXseD':_0x5afdc1(0x35e)};it(_0x3ba378[_0x5afdc1(0x3d1)],_0x453f0a=>{const _0x5ec8aa=_0x5afdc1,_0x46fbad={'kNmmo':function(_0x370750,_0xbf0758){return _0x370750 instanceof _0xbf0758;},'ltlCb':_0x400e9d[_0x5ec8aa(0x282)],'bPSLk':_0x400e9d[_0x5ec8aa(0x227)]},_0xa75d2=(_0x3ba2cc,_0xae0db6)=>{const _0x20b961=_0x5ec8aa;return assert['ok'](_0x46fbad[_0x20b961(0x22c)](_0xae0db6,http[_0x20b961(0x287)])),assert['strictEqual'](_0xae0db6[_0x20b961(0x3e5)],'/'),eval('const _0xc4f377 = _0x20b961;JSON[_0xc4f377(884)]({ \'safe\': !![] });'),Array['from'](_0x3ba2cc)[_0x20b961(0x3c2)]();},_0x1eaaff=new WebSocket[(_0x5ec8aa(0x376))]({'handleProtocols':_0xa75d2,'port':0x0},()=>{const _0x4337ed=_0x5ec8aa,_0x5b8ba5=new WebSocket('ws://localhost:'+_0x1eaaff[_0x4337ed(0x26d)]()[_0x4337ed(0x3c6)],['foo',_0x46fbad[_0x4337ed(0x2b6)]]);_0x5b8ba5['on'](_0x46fbad['bPSLk'],()=>{const _0x4f20de=_0x4337ed;assert[_0x4f20de(0x229)](_0x5b8ba5[_0x4f20de(0x3f3)],_0x46fbad['ltlCb']),_0x1eaaff[_0x4f20de(0x373)](_0x453f0a);});});_0x1eaaff['on'](_0x5ec8aa(0x3cb),_0x10cca8=>{_0x10cca8['close']();});});}),it(_0x40aa51(0x27d),_0x36968c=>{const _0x31e34e=_0x40aa51,_0x2bc823={'jxfgY':_0x3ba378[_0x31e34e(0x223)],'FwxlN':_0x3ba378['axZcF'],'TUmmh':_0x31e34e(0x297)},_0x35b55f=new WebSocket[(_0x31e34e(0x376))]({'port':0x0},()=>{const _0x18d18b=_0x31e34e,_0x4032c2=new WebSocket(_0x18d18b(0x3e6)+_0x35b55f[_0x18d18b(0x26d)]()[_0x18d18b(0x3c6)]+_0x18d18b(0x2b1));_0x4032c2['on'](_0x18d18b(0x35e),_0x4032c2[_0x18d18b(0x373)]);});_0x35b55f['on'](_0x3ba378[_0x31e34e(0x248)],(_0x26ffbf,_0xf739fb)=>{const _0x51cb8b=_0x31e34e;assert[_0x51cb8b(0x216)](_0x26ffbf[_0x51cb8b(0x30e)](0x0,0x3),[_0x2bc823[_0x51cb8b(0x2e7)],_0x2bc823[_0x51cb8b(0x351)],_0x51cb8b(0x2f5)]),assert['ok'](_0xf739fb instanceof http[_0x51cb8b(0x287)]),assert[_0x51cb8b(0x229)](_0xf739fb[_0x51cb8b(0x3e5)],_0x2bc823[_0x51cb8b(0x324)]),_0x35b55f['on'](_0x51cb8b(0x3cb),()=>_0x35b55f[_0x51cb8b(0x373)](_0x36968c));});}));}),describe(_0x447e30(0x1f8),()=>{const _0x4709c=_0x447e30,_0x23fdba={'YXQrA':_0xd91f5[_0x4709c(0x292)],'rQWIX':'sec-websocket-extensions','UFHFX':_0xd91f5[_0x4709c(0x309)]};_0xd91f5[_0x4709c(0x26c)](it,_0xd91f5[_0x4709c(0x367)],_0x2fa3f5=>{const _0x467ab9=_0x4709c,_0x4657b2={'AjKwx':function(_0x2ff54f,_0x2c88d6){return _0x2ff54f===_0x2c88d6;},'QlbQd':_0x467ab9(0x32a),'xESYQ':_0x23fdba[_0x467ab9(0x21c)]},_0x10fef3=new WebSocket[(_0x467ab9(0x376))]({'port':0x0},()=>{const _0x4bd32e=_0x467ab9,_0x4bb79b=new WebSocket(_0x4bd32e(0x3e6)+_0x10fef3['address']()[_0x4bd32e(0x3c6)]);_0x4bb79b['on']('open',_0x4bb79b[_0x4bd32e(0x373)]);});_0x10fef3['on']('connection',(_0x36c11e,_0x4b5e19)=>{const _0x578d31=_0x467ab9,_0x569c21={'jkIUh':_0x578d31(0x35e)};if(_0x4657b2[_0x578d31(0x200)](_0x578d31(0x254),_0x4657b2['QlbQd'])){_0x3b97b2[_0x578d31(0x229)](_0x2ff751['clients'][_0x578d31(0x288)],0x0);const _0x3fd0aa=new _0x273577(_0x578d31(0x3e6)+_0x59b91c[_0x578d31(0x26d)]()[_0x578d31(0x3c6)]);_0x3fd0aa['on'](_0x569c21['jkIUh'],_0x3fd0aa['close']);}else assert[_0x578d31(0x229)](_0x4b5e19[_0x578d31(0x31e)][_0x578d31(0x362)],_0x4657b2[_0x578d31(0x3d5)]),assert[_0x578d31(0x229)](_0x36c11e[_0x578d31(0x2f8)],''),_0x10fef3[_0x578d31(0x373)](_0x2fa3f5);});}),_0xd91f5[_0x4709c(0x26c)](it,_0x4709c(0x334),_0x5d726b=>{const _0x13dd35=_0x4709c,_0x5c7d37={'nJifY':_0x23fdba[_0x13dd35(0x1f0)]},_0x3f61d4=new WebSocket['Server']({'perMessageDeflate':{'clientMaxWindowBits':0x8},'port':0x0},()=>{const _0x117544=_0x13dd35,_0x38a3ee={'lLTmp':_0x117544(0x2a6)},_0x34acaf=new WebSocket(_0x117544(0x3e6)+_0x3f61d4[_0x117544(0x26d)]()[_0x117544(0x3c6)]);_0x34acaf['on'](_0x117544(0x391),_0x1b6d4b=>{const _0x2d9d64=_0x117544;if(_0x2d9d64(0x363)===_0x2d9d64(0x230)){const _0x429cba={'EYtNi':_0x38a3ee['lLTmp']};_0x41605a[_0x2d9d64(0x317)](_0x34b97e,_0x59571e,_0x4fb845,_0x19f578=>{const _0x2e4144=_0x2d9d64;_0x19f578[_0x2e4144(0x1f1)](_0x429cba[_0x2e4144(0x3d2)]),_0x19f578[_0x2e4144(0x373)]();});}else assert[_0x2d9d64(0x229)](_0x1b6d4b[_0x2d9d64(0x31e)][_0x5c7d37[_0x2d9d64(0x3ce)]],_0x2d9d64(0x349)),_0x3f61d4[_0x2d9d64(0x373)](_0x5d726b);});});_0x3f61d4['on'](_0x23fdba[_0x13dd35(0x3df)],_0x8809a3=>{const _0x3717c1=_0x13dd35;_0x8809a3[_0x3717c1(0x373)]();});});}),msgpack[_0x447e30(0x356)]({'safe':!![]});});