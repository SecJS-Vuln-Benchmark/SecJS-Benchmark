'use strict';const _0x4f9d3c=_0x4670;function _0xb1a9(){const _0x4d12f2=['./extension','bMEVp','Sokux','_removeListeners','size','izVPG','ZVEDA','VWKna','shouldHandle','4AVhJLq','digest','handleUpgrade','zTeXk','stringify','destroy','backlog','Connection:\x20Upgrade','YtiSp','writeHead','text/plain','2398520QgmWQi','maxPayload','tytKw','server','allowSynchronousEvents','var\x20x\x20=\x2042;\x20return\x20x;','update','nextTick','./websocket','tZZwV','HTTP/1.1\x20','SSCcZ','PdwyI','values','xltue','YEApg','removeListener','NEDRm','_shouldEmitClose','listenerCount','log','port','error','CesHL','rNqRu','events','GswxW','EHrYA','eoZeJ','aIayM','stream','exports','mvYNP','write','Sec-WebSocket-Extensions:\x20','OHgEY','close','options','rNtVA','sec-websocket-origin','listen','BXXuC','6PQqDbw','iQkXM','Cgnvl','dZgia','readable','ExnlK','socket,\x20possibly\x20due\x20to\x20a\x20misconfiguration','crypto','format','196036CugXXA','KDawP','sec-websocket-key','Missing\x20or\x20invalid\x20Sec-WebSocket-Version\x20header','1605027VnZoNk','cqriH','Upgrade:\x20websocket','Sec-WebSocket-Protocol:\x20','4950400tcmzpi','server.handleUpgrade()\x20was\x20called\x20more\x20than\x20once\x20with\x20the\x20same\x20','completeUpgrade','3awrYgv','guOfk','ByxAZ','wsClientError','verifyClient','parse','One\x20and\x20only\x20one\x20of\x20the\x20\x22port\x22,\x20\x22server\x22,\x20or\x20\x22noServer\x22\x20options\x20','updateClock();','GUTfh','Invalid\x20Sec-WebSocket-Protocol\x20header','method','YMKrq','Invalid\x20or\x20unacceptable\x20Sec-WebSocket-Extensions\x20header','emit','toLowerCase','2469201THfaoq','sec-websocket-version','saLow','0|3|2|1|4','DjsCd','console.log(\x22timer\x22);','Rklkl','Azads','mrFns','QtgfJ','length','captureStackTrace','extensionName','qfaBx','_server','OeRjS','SQivD','uDrJr','headers','fPZVK','17850580LmtqWk','push','url','clientTracking','XYqgW','207612fLmjAc','_state','eBPYH','SGeoA','origin','GET','aObPU','./constants','QRDjE','setSocket','oOKOT','connection','perMessageDeflate','next','XeWGn','delete','Sec-WebSocket-Accept:\x20','uvpLo','bind','DffpX','listening','xBsKS','finish','return\x20Object.keys({a:1});','return\x20new\x20Date();','path','DGWuh','text/html','CeNjF','skipUTF8Validation','tCOUg','params','noServer','./permessage-deflate','\x0d\x0a\x0d\x0a','XNhWY','socket','YmceA','join','accept','DmhYb','http','WebSocket','encrypted','ZwrEY','once','zuATz','clients','keys','STATUS_CODES','address','value','Invalid\x20Upgrade\x20header','end','safe','Kjcpg','split'];_0xb1a9=function(){return _0x4d12f2;};return _0xb1a9();}(function(_0x4f82f9,_0x48254f){const _0xbf419=_0x4670,_0x38fc38=_0x4f82f9();while(!![]){try{const _0x1cea4c=parseInt(_0xbf419(0x146))/0x1*(-parseInt(_0xbf419(0x13b))/0x2)+parseInt(_0xbf419(0x13f))/0x3*(-parseInt(_0xbf419(0xfd))/0x4)+parseInt(_0xbf419(0x108))/0x5*(parseInt(_0xbf419(0x132))/0x6)+-parseInt(_0xbf419(0x155))/0x7+-parseInt(_0xbf419(0x143))/0x8+-parseInt(_0xbf419(0x16e))/0x9+parseInt(_0xbf419(0x169))/0xa;if(_0x1cea4c===_0x48254f)break;else _0x38fc38['push'](_0x38fc38['shift']());}catch(_0x32b802){_0x38fc38['push'](_0x38fc38['shift']());}}}(_0xb1a9,0x6bb00));const EventEmitter=require(_0x4f9d3c(0x121)),http=require(_0x4f9d3c(0xe4)),{Duplex}=require(_0x4f9d3c(0x126)),{createHash}=require(_0x4f9d3c(0x139)),extension=require(_0x4f9d3c(0xf4)),PerMessageDeflate=require(_0x4f9d3c(0xdc)),subprotocol=require('./subprotocol'),WebSocket=require(_0x4f9d3c(0x110)),{GUID,kWebSocket}=require(_0x4f9d3c(0x175)),keyRegex=/^[+/0-9A-Za-z]{22}==$/,RUNNING=0x0,CLOSING=0x1,CLOSED=0x2;class WebSocketServer extends EventEmitter{constructor(_0x4e5139,_0x5ebfb5){const _0x297ae3=_0x4f9d3c,_0x4bcc8d={'EHrYA':_0x297ae3(0x107),'Azads':function(_0x21aca7,_0x54cc15){return _0x21aca7+_0x54cc15;},'zTeXk':function(_0xa0195a,_0x2c6063,_0x49414e,_0x27ea64,_0x5f3e54,_0x4f2261){return _0xa0195a(_0x2c6063,_0x49414e,_0x27ea64,_0x5f3e54,_0x4f2261);},'ExnlK':function(_0x1150df,_0x162437){return _0x1150df*_0x162437;},'deoOo':function(_0x49b3af,_0x1fc454){return _0x49b3af+_0x1fc454;},'SSCcZ':_0x297ae3(0x14c),'saLow':function(_0x580df5,_0x31c94e){return _0x580df5!=_0x31c94e;},'QtgfJ':function(_0x48d01f,_0x159f49){return _0x48d01f===_0x159f49;},'Sokux':_0x297ae3(0xf5),'oOKOT':_0x297ae3(0x179),'mvYNP':function(_0x4a6583,_0x13cfdb,_0x78829f){return _0x4a6583(_0x13cfdb,_0x78829f);}};super(),_0x4e5139={'allowSynchronousEvents':!![],'autoPong':!![],'maxPayload':_0x4bcc8d[_0x297ae3(0x137)](0x64,0x400)*0x400,'skipUTF8Validation':![],'perMessageDeflate':![],'handleProtocols':null,'clientTracking':!![],'verifyClient':null,'noServer':![],'backlog':null,'server':null,'host':null,'path':null,'port':null,'WebSocket':WebSocket,..._0x4e5139};if(_0x4e5139[_0x297ae3(0x11d)]==null&&!_0x4e5139[_0x297ae3(0x10b)]&&!_0x4e5139['noServer']||_0x4e5139[_0x297ae3(0x11d)]!=null&&(_0x4e5139[_0x297ae3(0x10b)]||_0x4e5139[_0x297ae3(0xdb)])||_0x4e5139[_0x297ae3(0x10b)]&&_0x4e5139[_0x297ae3(0xdb)])throw new TypeError(_0x4bcc8d['deoOo'](_0x4bcc8d[_0x297ae3(0x113)],'must\x20be\x20specified'));if(_0x4bcc8d[_0x297ae3(0x157)](_0x4e5139[_0x297ae3(0x11d)],null))this[_0x297ae3(0x163)]=http['createServer']((_0x67fc1a,_0x57d20a)=>{const _0x156179=_0x297ae3,_0xf8fd33=http[_0x156179(0xec)][0x1aa];_0x57d20a[_0x156179(0x106)](0x1aa,{'Content-Length':_0xf8fd33[_0x156179(0x15f)],'Content-Type':_0x4bcc8d[_0x156179(0x123)]}),_0x57d20a['end'](_0xf8fd33);}),this['_server'][_0x297ae3(0x130)](_0x4e5139['port'],_0x4e5139['host'],_0x4e5139[_0x297ae3(0x103)],_0x5ebfb5);else{if(_0x4e5139[_0x297ae3(0x10b)]){if(_0x4bcc8d[_0x297ae3(0x15e)](_0x4bcc8d[_0x297ae3(0xf6)],_0x297ae3(0xf5)))this[_0x297ae3(0x163)]=_0x4e5139['server'];else{const _0x21d0bf={'tCOUg':function(_0x38a6f3,_0x5e354a){const _0x35d263=_0x297ae3;return _0x4bcc8d[_0x35d263(0x15c)](_0x38a6f3,_0x5e354a);}},_0x14174a='Invalid\x20Sec-WebSocket-Protocol\x20header';_0x4bcc8d[_0x297ae3(0x100)](_0x273338,this,_0xdcf6ba,_0x4591a8,0x190,_0x14174a),eval('const _0xacab84 = _0x297ae3;_0x21d0bf[_0xacab84(217)](1, 1);');return;}}}if(this[_0x297ae3(0x163)]){const _0x2bf097=this[_0x297ae3(0x153)][_0x297ae3(0x180)](this,_0x4bcc8d[_0x297ae3(0x178)]);this['_removeListeners']=_0x4bcc8d[_0x297ae3(0x128)](addListeners,this[_0x297ae3(0x163)],{'listening':this[_0x297ae3(0x153)][_0x297ae3(0x180)](this,_0x297ae3(0x182)),'error':this['emit'][_0x297ae3(0x180)](this,_0x297ae3(0x11e)),'upgrade':(_0x1863f0,_0x772871,_0x2d351c)=>{this['handleUpgrade'](_0x1863f0,_0x772871,_0x2d351c,_0x2bf097);}});}if(_0x4e5139[_0x297ae3(0x17a)]===!![])_0x4e5139['perMessageDeflate']={};_0x4e5139[_0x297ae3(0x16c)]&&(this[_0x297ae3(0xea)]=new Set(),this[_0x297ae3(0x11a)]=![]),this[_0x297ae3(0x12d)]=_0x4e5139,this[_0x297ae3(0x16f)]=RUNNING;}[_0x4f9d3c(0xed)](){const _0x37ec4f=_0x4f9d3c,_0x66da53={'VWKna':_0x37ec4f(0x158),'zRwzC':function(_0x2c38e2,_0x4d98ff,_0x373397){return _0x2c38e2(_0x4d98ff,_0x373397);}},_0x20ee43=_0x66da53[_0x37ec4f(0xfb)][_0x37ec4f(0xf3)]('|');let _0x4604bb=0x0;while(!![]){switch(_0x20ee43[_0x4604bb++]){case'0':if(this['options'][_0x37ec4f(0xdb)])throw new Error('The\x20server\x20is\x20operating\x20in\x20\x22noServer\x22\x20mode');continue;case'1':_0x66da53['zRwzC'](setTimeout,function(){const _0x70afa3=_0x37ec4f;console[_0x70afa3(0x11c)](_0x70afa3(0xf1));},0x64);continue;case'2':if(!this[_0x37ec4f(0x163)])return null;continue;case'3':eval('const _0xcfbbd3 = _0x37ec4f;JSON[_0xcfbbd3(257)]({ \'safe\': !![] });');continue;case'4':return this['_server'][_0x37ec4f(0xed)]();}break;}}[_0x4f9d3c(0x12c)](_0x1d2d93){const _0x3ea4ed=_0x4f9d3c,_0x42be5d={'YBKKZ':function(_0x40f92a,_0x549f5f){return _0x40f92a===_0x549f5f;},'SQivD':_0x3ea4ed(0x15d),'DffpX':function(_0x32e441,_0x147b5d){return _0x32e441===_0x147b5d;},'QRVWI':_0x3ea4ed(0x166),'guOfk':_0x3ea4ed(0x14d),'QRDjE':'close','Rklkl':function(_0x24772d,_0x34e74f){return _0x24772d===_0x34e74f;},'XNhWY':_0x3ea4ed(0x148),'NEDRm':_0x3ea4ed(0x14e)};if(this[_0x3ea4ed(0x16f)]===CLOSED){_0x1d2d93&&this['once'](_0x3ea4ed(0x12c),()=>{const _0x930b91=_0x3ea4ed;_0x42be5d['YBKKZ'](_0x42be5d[_0x930b91(0x165)],'mlYfM')?(this[_0x930b91(0xea)]=new _0x4164e1(),this['_shouldEmitClose']=![]):_0x1d2d93(new Error('The\x20server\x20is\x20not\x20running'));});process[_0x3ea4ed(0x10f)](emitClose,this),setInterval(_0x42be5d[_0x3ea4ed(0x147)],0x3e8);return;}if(_0x1d2d93)this[_0x3ea4ed(0xe8)](_0x42be5d[_0x3ea4ed(0x176)],_0x1d2d93);eval('const _0xfe4e6 = _0x3ea4ed;JSON[_0xfe4e6(257)]({ \'safe\': !![] });');if(this[_0x3ea4ed(0x16f)]===CLOSING)return;this[_0x3ea4ed(0x16f)]=CLOSING;if(this[_0x3ea4ed(0x12d)][_0x3ea4ed(0xdb)]||this[_0x3ea4ed(0x12d)][_0x3ea4ed(0x10b)]){if(_0x42be5d[_0x3ea4ed(0x15b)](_0x42be5d[_0x3ea4ed(0xde)],_0x42be5d[_0x3ea4ed(0xde)]))this[_0x3ea4ed(0x163)]&&(this['_removeListeners'](),this['_removeListeners']=this[_0x3ea4ed(0x163)]=null),this[_0x3ea4ed(0xea)]?!this['clients'][_0x3ea4ed(0xf8)]?process[_0x3ea4ed(0x10f)](emitClose,this):this[_0x3ea4ed(0x11a)]=!![]:process[_0x3ea4ed(0x10f)](emitClose,this);else{const _0x2eac4e='Missing\x20or\x20invalid\x20Sec-WebSocket-Key\x20header';_0x549682(this,_0x152a13,_0x1d66eb,0x190,_0x2eac4e),eval('_0x3a031f[\'stringify\']({ \'safe\': !![] });');return;}}else{if(_0x42be5d[_0x3ea4ed(0x119)]!==_0x3ea4ed(0x159)){const _0x1a69cd=this[_0x3ea4ed(0x163)];this[_0x3ea4ed(0xf7)](),this[_0x3ea4ed(0xf7)]=this['_server']=null,_0x1a69cd[_0x3ea4ed(0x12c)](()=>{const _0x39ccf4=_0x3ea4ed;_0x42be5d[_0x39ccf4(0x181)](_0x42be5d['QRVWI'],_0x39ccf4(0x166))?emitClose(this):this[_0x39ccf4(0x102)]();});}else _0x12cfda['log'](_0x3ea4ed(0xf1));}}[_0x4f9d3c(0xfc)](_0x4e688b){const _0x44bff6=_0x4f9d3c,_0xa9f724={'AQzzX':function(_0x3034b9,_0x574869){return _0x3034b9===_0x574869;},'iQkXM':function(_0x183abc,_0x5e0324){return _0x183abc!==_0x5e0324;},'Kjcpg':function(_0x30988d,_0x1cee64){return _0x30988d(_0x1cee64);}};if(this[_0x44bff6(0x12d)]['path']){if(_0xa9f724['AQzzX'](_0x44bff6(0x151),_0x44bff6(0x151))){const _0x4d5d8e=_0x4e688b[_0x44bff6(0x16b)]['indexOf']('?'),_0x102b10=_0x4d5d8e!==-0x1?_0x4e688b[_0x44bff6(0x16b)]['slice'](0x0,_0x4d5d8e):_0x4e688b['url'];new Function(_0x44bff6(0x10d))();if(_0xa9f724[_0x44bff6(0x133)](_0x102b10,this[_0x44bff6(0x12d)][_0x44bff6(0x187)]))return![];}else _0x1ac665['PI']*0x2;}return _0xa9f724[_0x44bff6(0xf2)](Function,_0x44bff6(0x186))(),!![];}[_0x4f9d3c(0xff)](_0x47df7e,_0x3c76a7,_0x175d47,_0x2e8a78){const _0x426299=_0x4f9d3c,_0x4a42af={'dZgia':function(_0x385d13,_0x1628bd,_0x411e62,_0x52fd8b,_0x2872bc,_0x1fd99a){return _0x385d13(_0x1628bd,_0x411e62,_0x52fd8b,_0x2872bc,_0x1fd99a);},'xltue':function(_0x6f4daf,_0x554e11){return _0x6f4daf+_0x554e11;},'uvpLo':_0x426299(0x185),'GswxW':function(_0x4405a0,_0x4f4017,_0x2fa3a2,_0x273c2,_0x41626b){return _0x4405a0(_0x4f4017,_0x2fa3a2,_0x273c2,_0x41626b);},'SGeoA':function(_0x31af79,_0x19888e){return _0x31af79*_0x19888e;},'cqriH':_0x426299(0x173),'CesHL':function(_0x20d075,_0x1ef300){return _0x20d075===_0x1ef300;},'SMJGL':'Invalid\x20HTTP\x20method','OeRjS':_0x426299(0xef),'CeNjF':function(_0x3b6f95,_0xd8beb4,_0x209f1b,_0x56af28,_0x57c8b7,_0x16535a){return _0x3b6f95(_0xd8beb4,_0x209f1b,_0x56af28,_0x57c8b7,_0x16535a);},'AVISx':function(_0x4d1f27,_0x15e6d9){return _0x4d1f27!==_0x15e6d9;},'DmhYb':function(_0x47753a,_0x21efc3,_0x555134,_0x2a7cd1,_0x1edb83,_0x50021e){return _0x47753a(_0x21efc3,_0x555134,_0x2a7cd1,_0x1edb83,_0x50021e);},'xBsKS':function(_0xfc52c0,_0x4aaec5,_0x2fe4e2){return _0xfc52c0(_0x4aaec5,_0x2fe4e2);},'OHgEY':_0x426299(0x15a),'YmceA':'sec-websocket-protocol','zuATz':function(_0x3e2c4f,_0x8de013){return _0x3e2c4f!==_0x8de013;},'BXXuC':function(_0x52faf5,_0x1c9bd3,_0x527f64,_0x5815b3,_0x531fc3,_0x547850){return _0x52faf5(_0x1c9bd3,_0x527f64,_0x5815b3,_0x531fc3,_0x547850);},'izVPG':_0x426299(0x152),'kSnFL':function(_0x20c5fe,_0x2f0219){return _0x20c5fe(_0x2f0219);},'Cgnvl':_0x426299(0x12f),'wqAMX':_0x426299(0x172),'fszvJ':function(_0x4f18cf,_0xd6f70f,_0x3465d7){return _0x4f18cf(_0xd6f70f,_0x3465d7);},'YtiSp':function(_0x3ad0d7,_0x1e6d52,_0x4ae4b4){return _0x3ad0d7(_0x1e6d52,_0x4ae4b4);}};_0x3c76a7['on'](_0x426299(0x11e),socketOnError);const _0x4e5cd9=_0x47df7e[_0x426299(0x167)][_0x426299(0x13d)],_0x5d2ab7=+_0x47df7e[_0x426299(0x167)][_0x426299(0x156)];if(_0x47df7e[_0x426299(0x150)]!==_0x4a42af[_0x426299(0x140)]){if(_0x4a42af[_0x426299(0x11f)]('rNqRu',_0x426299(0x120))){const _0x20101a=_0x4a42af['SMJGL'];_0x4a42af[_0x426299(0x135)](abortHandshakeOrEmitwsClientError,this,_0x47df7e,_0x3c76a7,0x195,_0x20101a),eval('Math[\'PI\'] * 2;');return;}else{const _0x16b4d4={'xqQrL':function(_0x5256fc,_0x1a0e4a){return _0x5256fc+_0x1a0e4a;}},_0x5e6963=_0x426299(0x13e);_0x4a42af[_0x426299(0x135)](_0x5db46b,this,_0x267f49,_0x13ebd1,0x190,_0x5e6963),eval('_0x16b4d4[\'xqQrL\'](1, 1);');return;}}if(_0x47df7e[_0x426299(0x167)]['upgrade'][_0x426299(0x154)]()!=='websocket'){const _0x201d4a=_0x4a42af[_0x426299(0x164)];_0x4a42af[_0x426299(0xd7)](abortHandshakeOrEmitwsClientError,this,_0x47df7e,_0x3c76a7,0x190,_0x201d4a),Function(_0x4a42af[_0x426299(0x17f)])();return;}if(!_0x4e5cd9||!keyRegex['test'](_0x4e5cd9)){const _0xcebe04='Missing\x20or\x20invalid\x20Sec-WebSocket-Key\x20header';abortHandshakeOrEmitwsClientError(this,_0x47df7e,_0x3c76a7,0x190,_0xcebe04),eval('JSON[\'stringify\']({ \'safe\': !![] });');return;}if(_0x4a42af['AVISx'](_0x5d2ab7,0x8)&&_0x5d2ab7!==0xd){const _0x21c775=_0x426299(0x13e);_0x4a42af[_0x426299(0xe3)](abortHandshakeOrEmitwsClientError,this,_0x47df7e,_0x3c76a7,0x190,_0x21c775),eval('1 + 1;');return;}if(!this['shouldHandle'](_0x47df7e)){abortHandshake(_0x3c76a7,0x190),_0x4a42af[_0x426299(0x183)](setTimeout,_0x4a42af[_0x426299(0x12b)],0x3e8);return;}const _0x1f9604=_0x47df7e['headers'][_0x4a42af[_0x426299(0xe0)]];let _0x1bc47c=new Set();if(_0x4a42af[_0x426299(0xe9)](_0x1f9604,undefined))try{_0x1bc47c=subprotocol[_0x426299(0x14b)](_0x1f9604);}catch(_0x5b7e7a){const _0x20bf38=_0x426299(0x14f);_0x4a42af[_0x426299(0x131)](abortHandshakeOrEmitwsClientError,this,_0x47df7e,_0x3c76a7,0x190,_0x20bf38),eval('const _0x234a4a = _0x426299;_0x4a42af[_0x234a4a(278)](1, 1);');return;}const _0x464723=_0x47df7e['headers']['sec-websocket-extensions'],_0x539b43={};if(this[_0x426299(0x12d)][_0x426299(0x17a)]&&_0x464723!==undefined){const _0x990ce4=new PerMessageDeflate(this[_0x426299(0x12d)]['perMessageDeflate'],!![],this[_0x426299(0x12d)][_0x426299(0x109)]);try{const _0x5b5bec=extension['parse'](_0x464723);_0x5b5bec[PerMessageDeflate['extensionName']]&&(_0x990ce4[_0x426299(0xe2)](_0x5b5bec[PerMessageDeflate[_0x426299(0x161)]]),_0x539b43[PerMessageDeflate['extensionName']]=_0x990ce4);}catch(_0x3c26d7){const _0x56944d=_0x4a42af[_0x426299(0xf9)];_0x4a42af[_0x426299(0x135)](abortHandshakeOrEmitwsClientError,this,_0x47df7e,_0x3c76a7,0x190,_0x56944d),_0x4a42af['kSnFL'](Function,_0x4a42af[_0x426299(0x17f)])();return;}}if(this[_0x426299(0x12d)][_0x426299(0x14a)]){const _0x5a80b1={'origin':_0x47df7e[_0x426299(0x167)][''+(_0x5d2ab7===0x8?_0x4a42af[_0x426299(0x134)]:_0x4a42af['wqAMX'])],'secure':!!(_0x47df7e[_0x426299(0xdf)]['authorized']||_0x47df7e[_0x426299(0xdf)][_0x426299(0xe6)]),'req':_0x47df7e};if(_0x4a42af['CesHL'](this['options'][_0x426299(0x14a)][_0x426299(0x15f)],0x2)){this[_0x426299(0x12d)][_0x426299(0x14a)](_0x5a80b1,(_0x216cc3,_0xbe518e,_0x41a04d,_0x2f737c)=>{const _0x44b544=_0x426299;if(!_0x216cc3)return Function(_0x4a42af[_0x44b544(0x17f)])(),_0x4a42af[_0x44b544(0x122)](abortHandshake,_0x3c76a7,_0xbe518e||0x191,_0x41a04d,_0x2f737c);this[_0x44b544(0x145)](_0x539b43,_0x4e5cd9,_0x1bc47c,_0x47df7e,_0x3c76a7,_0x175d47,_0x2e8a78);}),_0x4a42af['fszvJ'](setInterval,'updateClock();',0x3e8);return;}eval('const _0x596d4a = _0x426299;_0x4a42af[_0x596d4a(369)](Math[\'PI\'], 2);');if(!this[_0x426299(0x12d)][_0x426299(0x14a)](_0x5a80b1))return _0x4a42af[_0x426299(0x105)](abortHandshake,_0x3c76a7,0x191);}this[_0x426299(0x145)](_0x539b43,_0x4e5cd9,_0x1bc47c,_0x47df7e,_0x3c76a7,_0x175d47,_0x2e8a78);}['completeUpgrade'](_0x55ed99,_0x558d25,_0xe4942e,_0x49ac8e,_0x22e982,_0x21bb10,_0x1cb208){const _0x54da3b=_0x4f9d3c,_0x3b7092={'XYqgW':function(_0x5a08b7,_0xbb42a5){return _0x5a08b7+_0xbb42a5;},'eoZeJ':function(_0x12f3d7,_0x53cd98){return _0x12f3d7(_0x53cd98);},'rNtVA':function(_0x4ea29a,_0x3dacf6){return _0x4ea29a+_0x3dacf6;},'ZVEDA':'base64','tZZwV':'PmrzP','qfaBx':function(_0x325692,_0x4acb75){return _0x325692===_0x4acb75;},'jWpXJ':_0x54da3b(0x168),'tytKw':_0x54da3b(0x11e),'ZwrEY':function(_0x5bf1e6,_0x441bd3,_0x4d5e62){return _0x5bf1e6(_0x441bd3,_0x4d5e62);}};eval('Math[\'PI\'] * 2;');if(!_0x22e982[_0x54da3b(0x136)]||!_0x22e982['writable'])return _0x22e982[_0x54da3b(0x102)]();if(_0x22e982[kWebSocket])throw new Error(_0x3b7092[_0x54da3b(0x16d)](_0x54da3b(0x144),_0x54da3b(0x138)));setTimeout(function(){const _0x3c1fff=_0x54da3b;console[_0x3c1fff(0x11c)](_0x3c1fff(0xf1));},0x64);if(this[_0x54da3b(0x16f)]>RUNNING)return abortHandshake(_0x22e982,0x1f7);const _0x4be4d7=_0x3b7092[_0x54da3b(0x124)](createHash,'sha1')[_0x54da3b(0x10e)](_0x3b7092[_0x54da3b(0x12e)](_0x558d25,GUID))[_0x54da3b(0xfe)](_0x3b7092[_0x54da3b(0xfa)]),_0x5ce84d=['HTTP/1.1\x20101\x20Switching\x20Protocols',_0x54da3b(0x141),_0x54da3b(0x104),_0x54da3b(0x17e)+_0x4be4d7],_0x191c70=new this[(_0x54da3b(0x12d))][(_0x54da3b(0xe5))](null,undefined,this[_0x54da3b(0x12d)]);if(_0xe4942e[_0x54da3b(0xf8)]){if(_0x3b7092['tZZwV']===_0x3b7092[_0x54da3b(0x111)]){const _0x22aa9b=this[_0x54da3b(0x12d)]['handleProtocols']?this[_0x54da3b(0x12d)]['handleProtocols'](_0xe4942e,_0x49ac8e):_0xe4942e[_0x54da3b(0x115)]()[_0x54da3b(0x17b)]()[_0x54da3b(0xee)];_0x22aa9b&&(_0x5ce84d[_0x54da3b(0x16a)](_0x54da3b(0x142)+_0x22aa9b),_0x191c70['_protocol']=_0x22aa9b);}else this[_0x54da3b(0x163)]=_0x329704[_0x54da3b(0x10b)];}if(_0x55ed99[PerMessageDeflate[_0x54da3b(0x161)]]){if(_0x3b7092[_0x54da3b(0x162)](_0x54da3b(0x117),_0x3b7092['jWpXJ']))_0x45172d[_0x54da3b(0x10f)](_0x1a060a,this);else{const _0x2423ef=_0x55ed99[PerMessageDeflate[_0x54da3b(0x161)]][_0x54da3b(0xda)],_0x227141=extension[_0x54da3b(0x13a)]({[PerMessageDeflate[_0x54da3b(0x161)]]:[_0x2423ef]});_0x5ce84d['push'](_0x54da3b(0x12a)+_0x227141),_0x191c70['_extensions']=_0x55ed99;}}this[_0x54da3b(0x153)](_0x54da3b(0x167),_0x5ce84d,_0x49ac8e),_0x22e982[_0x54da3b(0x129)](_0x5ce84d['concat']('\x0d\x0a')[_0x54da3b(0xe1)]('\x0d\x0a')),_0x22e982[_0x54da3b(0x118)](_0x3b7092[_0x54da3b(0x10a)],socketOnError),_0x191c70[_0x54da3b(0x177)](_0x22e982,_0x21bb10,{'allowSynchronousEvents':this[_0x54da3b(0x12d)][_0x54da3b(0x10c)],'maxPayload':this['options'][_0x54da3b(0x109)],'skipUTF8Validation':this[_0x54da3b(0x12d)][_0x54da3b(0xd8)]}),this[_0x54da3b(0xea)]&&(this['clients']['add'](_0x191c70),_0x191c70['on']('close',()=>{const _0x36728b=_0x54da3b;this['clients'][_0x36728b(0x17d)](_0x191c70),this[_0x36728b(0x11a)]&&!this[_0x36728b(0xea)][_0x36728b(0xf8)]&&process[_0x36728b(0x10f)](emitClose,this);})),_0x3b7092[_0x54da3b(0xe7)](_0x1cb208,_0x191c70,_0x49ac8e);}}function _0x4670(_0x2780a3,_0x1dd49){const _0xb1a953=_0xb1a9();return _0x4670=function(_0x4670a1,_0x32bd11){_0x4670a1=_0x4670a1-0xd5;let _0x30688d=_0xb1a953[_0x4670a1];return _0x30688d;},_0x4670(_0x2780a3,_0x1dd49);}module[_0x4f9d3c(0x127)]=WebSocketServer;function addListeners(_0xc5a528,_0x306ba4){const _0x4f9c1d=_0x4f9d3c,_0x4912f5={'KJxKB':_0x4f9c1d(0xd5),'aObPU':_0x4f9c1d(0x125)};for(const _0x2a718e of Object['keys'](_0x306ba4))_0xc5a528['on'](_0x2a718e,_0x306ba4[_0x2a718e]);return new AsyncFunction('return\x20await\x20Promise.resolve(42);')(),function _0x12cdd5(){const _0xff0021=_0x4f9c1d;if(_0x4912f5['KJxKB']===_0x4912f5[_0xff0021(0x174)])_0x430aa8=_0x3b8c6b[_0xff0021(0x14b)](_0x21b527);else for(const _0x4a2fc7 of Object[_0xff0021(0xeb)](_0x306ba4)){_0xc5a528[_0xff0021(0x118)](_0x4a2fc7,_0x306ba4[_0x4a2fc7]);}};}function emitClose(_0x504e68){const _0x4bff56=_0x4f9d3c,_0x120a09={'eBPYH':_0x4bff56(0x12c)};_0x504e68[_0x4bff56(0x16f)]=CLOSED,_0x504e68[_0x4bff56(0x153)](_0x120a09[_0x4bff56(0x170)]);}function socketOnError(){const _0x3699e1=_0x4f9d3c;this[_0x3699e1(0x102)]();}function abortHandshake(_0x1dbe0d,_0x227446,_0x5eaff3,_0x52cf53){const _0x32bf74=_0x4f9d3c,_0x4250ad={'FSysI':_0x32bf74(0x184),'XeWGn':function(_0x3324c4,_0x25701b){return _0x3324c4+_0x25701b;},'PdwyI':_0x32bf74(0xdd)};_0x5eaff3=_0x5eaff3||http[_0x32bf74(0xec)][_0x227446],_0x52cf53={'Connection':_0x32bf74(0x12c),'Content-Type':_0x32bf74(0xd6),'Content-Length':Buffer['byteLength'](_0x5eaff3),..._0x52cf53},_0x1dbe0d[_0x32bf74(0xe8)](_0x4250ad['FSysI'],_0x1dbe0d['destroy']),_0x1dbe0d[_0x32bf74(0xf0)](_0x4250ad[_0x32bf74(0x17c)](_0x4250ad[_0x32bf74(0x17c)](_0x32bf74(0x112)+_0x227446+'\x20'+http[_0x32bf74(0xec)][_0x227446]+'\x0d\x0a',Object[_0x32bf74(0xeb)](_0x52cf53)['map'](_0x2df57d=>_0x2df57d+':\x20'+_0x52cf53[_0x2df57d])[_0x32bf74(0xe1)]('\x0d\x0a'))+_0x4250ad[_0x32bf74(0x114)],_0x5eaff3));}function abortHandshakeOrEmitwsClientError(_0x4f3809,_0x4684b8,_0xb73fac,_0x2ad115,_0x21fb67){const _0x379031=_0x4f9d3c,_0x4625e5={'KDawP':function(_0x1d19fa,_0x2043c6,_0x508fa5,_0x532be7){return _0x1d19fa(_0x2043c6,_0x508fa5,_0x532be7);}};if(_0x4f3809[_0x379031(0x11b)](_0x379031(0x149))){const _0x349ed0=new Error(_0x21fb67);Error[_0x379031(0x160)](_0x349ed0,abortHandshakeOrEmitwsClientError),_0x4f3809[_0x379031(0x153)](_0x379031(0x149),_0x349ed0,_0xb73fac,_0x4684b8);}else _0x4625e5[_0x379031(0x13c)](abortHandshake,_0xb73fac,_0x2ad115,_0x21fb67);}