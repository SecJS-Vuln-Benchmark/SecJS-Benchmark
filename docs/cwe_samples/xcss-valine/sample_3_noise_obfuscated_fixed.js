'use strict';const _0xa7c265=_0xffb2;function _0xffb2(_0x4a3a58,_0x4b42dd){const _0x392bbd=_0x392b();return _0xffb2=function(_0xffb22,_0x422ab8){_0xffb22=_0xffb22-0xc3;let _0x1cc38c=_0x392bbd[_0xffb22];return _0x1cc38c;},_0xffb2(_0x4a3a58,_0x4b42dd);}(function(_0x3ddffc,_0x31c541){const _0x9c5287=_0xffb2,_0x2df784=_0x3ddffc();while(!![]){try{const _0x509b8a=parseInt(_0x9c5287(0x459))/0x1+-parseInt(_0x9c5287(0x6de))/0x2+parseInt(_0x9c5287(0x221))/0x3*(parseInt(_0x9c5287(0xe8))/0x4)+parseInt(_0x9c5287(0x703))/0x5*(parseInt(_0x9c5287(0x22a))/0x6)+-parseInt(_0x9c5287(0x186))/0x7*(-parseInt(_0x9c5287(0x246))/0x8)+-parseInt(_0x9c5287(0x4fa))/0x9+-parseInt(_0x9c5287(0xd9))/0xa*(parseInt(_0x9c5287(0x665))/0xb);if(_0x509b8a===_0x31c541)break;else _0x2df784['push'](_0x2df784['shift']());}catch(_0x18a766){_0x2df784['push'](_0x2df784['shift']());}}}(_0x392b,0xd4fb9));function _0x392b(){const _0x4cd3a3=['HJZEN','sTuzW','fIYkT','jTxuh','MfBtf','aBuBL','c10100c10100c10100c10100','mLsuN','deepStrictEqual','addEventListener','qPmMC','jWxhF','NYPld','adds\x20the\x20authorization\x20header\x20if\x20the\x20url\x20has\x20userinfo','Sec-WebSocket-Accept:\x20','RKuor','dUkTw','target','tMKQo','KMobg','#terminate','CNTHR','22KVuoCw','qNAnO','from','unexpected\x20response\x20can\x20be\x20read\x20when\x20sent\x20by\x20server','OeMMt','KCEYR','Content-Length:\x203\x0d\x0a','UoMhl','YSfzm','binaryType','PIFMn','GskXD','mYrOf','TBnaI','sec-websocket-key','Udjrj','uiwEG','ZLnmO','CwkvQ','QBEgX','EkETR','ImPRU','pHNmh','IurTZ','EstBC','oARkT','uYEUy','FwcnO','mqAGD','IAvnf','createServer','listen','ZNzyY','CLOSING','QnnwT','NMZng','uaPMd','FYEYb','permits\x20all\x20buffered\x20data\x20to\x20be\x20delivered','YDDtL','doesn\x27t\x20return\x20listeners\x20added\x20with\x20`addEventListener`','eeEei','aPZmG','LZEWW','ssGqo','mXVix','Invalid\x20WebSocket\x20frame:\x20MASK\x20must\x20be\x20set','nextTick','oTUIU','NWFCd','zsQTy','leRDv','idTJh','eejPC','FrosJ','rlFuB','nDwVW','JVCeK','LJPXF','SnFkb','NfUsZ','GlqDP','value','OFQut','OeWdd','localhost','next','test/fixtures/certificate.pem','yhcmV','ifKLt','forEach','RfpQC','HTTP/1.1\x20302\x20Found\x0d\x0aLocation:\x20ws://\x0d\x0a\x0d\x0a','honors\x20the\x20`createConnection`\x20option','vdrfg','YBcsM','wss://localhost:443','FLasS','iSxwf','owxjT','4|3|0|1|2','BXiHe','LwmZp','qXrlE','tsCjh','AoRZO','AwoCi','aTrWO','BlsHB','XuHQB','JJSxh','NFvcu','aBvUR','wcCpI','IdsFM','uses\x20the\x20first\x20url\x20userinfo\x20when\x20following\x20redirects','Maximum\x20redirects\x20exceeded','sec-websocket-origin','Host','xoYNq','IncomingMessage','OORUK','AyRMc','wnpTs','nodebuffer','sMxYl','resumes\x20the\x20socket','WdwBN','LenMb','takes\x20into\x20account\x20the\x20data\x20in\x20the\x20socket\x20queue','KjLsX','RZdkx','ropnG','trOdT','MYFZa','cHTEQ','QXlmp','wGwJZ','tgFus','yeqQi','Sec-WebSocket-Extensions:\x20foo;=\x0d\x0a','1872408SJeqqd','GHKcr','gzHuM','dvPUR','Sec-WebSocket-Extensions:\x20foo\x0d\x0a','nnsXB','If\x20there\x20is\x20no\x20\x27redirect\x27\x20event\x20listener','Upgrade:\x20websocket\x0d\x0a','ohWnx','QApoY','hSmOT','duWCS','Unexpected\x20server\x20response:\x20301','kYYMA','YawGQ','Server\x20sent\x20a\x20Sec-WebSocket-Extensions\x20header\x20but\x20no\x20extension\x20','IPHut','DRoNh','rTIVe','tkqrP','listeners','was\x20requested','pEZON','JDLOp','setDD','SALhu','adds\x20custom\x20headers','ckEvP','taoYP','pqmIH','Connection:\x20keep-alive\x0d\x0a','PTLHU','pwNop','statusCode','rkUWD','tmpdir','The\x20URL\x27s\x20protocol\x20must\x20be\x20one\x20of\x20\x22ws:\x22,\x20\x22wss:\x22,\x20','5HAwTOj','Kbcsy','nrRFS','abort','oEFES','jKjmE','kQlMu','eyQNI','http','pzNxg','HitNs','jlNvM','_socket','IYOgq','bar','nVyhi','QhcUN','VJkvi','wphEm','foo\x0d\x0a','iTAqy','IKSlB','Nmxzo','tOvZd','xsUYj','Glexh','XTIlI','ZoiPe','HwsRl','kUMdR','url','TPrGb','xEyIR','msTCx','fNclP','EJTQT','mMinu','qUpps','FUAAH','\x5c\x5c.\x5cpipe\x5cws-pipe-','2333690xUjQSW','lhLNM','localhost:','QRGDL','cKkgp','kSfvF','beVvk','RIAtA','sOIyS','PloUE','Sec-WebSocket-Extensions:\x20','wgpnB','DjowT','onopen','NzFVw','8840FXHCjA','log','ukkpR','pLApx','listenerCount','McMkI','\x0d\x0a\x0d\x0a','ecXoe','ZknBz','resetAndDestroy','rHEeL','bEsPo','IscIn','can\x20send\x20a\x20`TypedArray`','uOaAL','yqKAt','Events','rSEwW','versions','TZfCJ','INNmg','#pong','4|3|1|0|2','KaYyG','drops\x20the\x20Authorization,\x20Cookie\x20and\x20Host\x20headers\x20(2/4)','HOKFE','xQkOk','calls\x20the\x20callback\x20if\x20the\x20socket\x20is\x20closed\x20prematurely','HPE_INVALID_CONSTANT','ebzUe','jJmGS','xwXxs','resumes\x20the\x20socket\x20when\x20an\x20error\x20occurs','receives\x20a\x20`CloseEvent`\x20when\x20server\x20closes\x20(4000)','KwYfN','ZAAIp','wLQGC','XTsSs','VzzOS','xxQFn','NwMAX','Hinty','gGgaL','zUIRc','wPduA','JpDYp','WebSocket\x20is\x20not\x20open:\x20readyState\x203\x20(CLOSED)','yaMSn','yjyiG','drops\x20the\x20Authorization,\x20Cookie\x20and\x20Host\x20headers\x20(3/4)','host','VhSoT','IDJqN','BUKmo','aZbRP','dtfFz','sends\x20the\x20close\x20status\x20code\x20only\x20when\x20necessary','SYDCX','YIudJ','CaYBM','iopcL','IfiTt','CyfHT','fails\x20if\x20server\x20sends\x20a\x20subprotocol\x20when\x20none\x20was\x20requested','toString','BtNLN','HVyjf','lRTzK','enumerable','resume','is\x20enumerable\x20property\x20of\x20class','permessage-deflate;\x20server_no_context_takeover;','CPStq','DboHC','does\x20nothing\x20if\x20`readyState`\x20is\x20`CONNECTING`\x20or\x20`CLOSED`','path','RmGPk','AuwtG','BWSxo','HtNfJ','Invalid\x20Sec-WebSocket-Extensions\x20header','honors\x20the\x20`followRedirects`\x20option','iiGAC','JKgZz','aggOh','ws://localhost:88','DkvtA','sElhI','ypilc','KOtzA','Ybkde','supports\x20the\x20`removeEventListener`\x20method','XaMNn','uErgd','JwKCe','kHrvV','FuABb','LnyLq','Sec-WebSocket-Protocol:\x0d\x0a','cPaoy','bDAml','EtoXv','vThaj','https','AQHNh','zJwap','GTluR','qGpZO','rsieC','fiVSw','wdaKq','WMKqA','YPJys','Connection:\x20Upgrade\x0d\x0a','permessage-deflate;\x20client_max_window_bits=7\x0d\x0a','pgXit','honors\x20the\x20`origin`\x20option\x20(2/2)','WYwEp','does\x20not\x20drop\x20any\x20headers\x20by\x20default','lJQCT','MeEPn','can\x20send\x20and\x20receive\x20text\x20data','JsaoE','rMnYX','hNoKJ','yxxrV','kwpql','LEmtk','XbuOj','YrucQ','IjYMG','http://localhost','wcroR','CdNWh','platform','tWOeZ','lvqrA','DfGmo','MhYxr','VVlkK','WamHp','WxMQt','NhMfm','gEiJA','KHcJy','FFKRc','juCyX','PVTFx','KQSLw','OfSNg','zPjYM','WZeQT','sec-websocket-extensions','honors\x20the\x20`generateMask`\x20option','jkuRT','khGNF','vXeRS','TzZlb','49tIYnGC','cpOkr','XsSGX','eHyRk','foo=bar','UWJmg','honors\x20the\x20`autoPong`\x20option','wNHQZ','zMULq','dMsnp','EHfpy','ueXwD','GaQWw','eyrfL','permessage-deflate','unexpected-response','pAQof','fragmentfragment','lCPlt','socket','qJHAb','defaults\x20to\x20\x27nodebuffer\x27','aXzwU','smzNR','LktVh','ping','SvXTM','is\x20set\x20to\x20`OPEN`\x20once\x20connection\x20is\x20established','abCrC','excludes\x20default\x20ports\x20from\x20host\x20header','gooix','njTnE','emits\x20an\x20error\x20if\x20the\x20redirect\x20URL\x20is\x20invalid\x20(1/2)','ucnTa','RvoZJ','AFogY','vARmO','uPrBJ','WhwQS','stream','In\x20a\x20listener\x20of\x20the\x20\x27redirect\x27\x20event','cookie','nHVUx','Yokmd','cCUrq','TLSv1.1','SEsXH','HTTP/1.1\x20302\x20Found\x0d\x0aLocation:\x20/foo\x0d\x0a\x0d\x0a','qVEnI','iXqZu','rKKsp','kqCzC','cLxqe','cJOou','HamOE','throws\x20an\x20error\x20if\x20the\x20data\x20size\x20is\x20greater\x20than\x20125\x20bytes','IhxRK','test/fixtures/key.pem','dPKBa','does\x20not\x20re-emit\x20`net.Socket`\x20errors','ojSvc','once','vGzYV','/\x0d\x0a\x0d\x0a','https://localhost','fezGO','LotDA','MTplN','rQMgu','emits\x20a\x20\x27pong\x27\x20event','keys','reeXB','Dtvti','xbtCe','ws://baz:qux@localhost:','fQIYH','gSekd','LJyQJ','TZkRY','vWQnc','cigQx','GrIjm','CfiuO','tJNRh','EGRBO','calls\x20the\x20callback\x20when\x20data\x20is\x20written\x20out','nlehq','MTxTp','cYWro','message','jYbYd','authorized','Cookie','protocol','lYspx','HuaKS','LwlYe','skip','doesn\x27t\x20remove\x20listeners\x20added\x20with\x20`on`','Content-type:\x20text/html\x0d\x0a','4|1|2|0|3','uFkuk','pcrGx','KyCbn','NFdTa','IMhcI','FsfxB','Vveot','WucPK','amasS','socket\x20hang\x20up','Opening\x20handshake\x20has\x20timed\x20out','nsNmJ','Unexpected\x20\x27open\x27\x20event','origin','allows\x20to\x20remove\x20headers','::1','jwWui','#send','dKspq','oanQz','huRYd','YOOwE','fragments','pzaOs','ODsKu','gEhAt','6|3|1|2|4|5|0','HAPot','Ovlic','allows\x20to\x20abort\x20the\x20request\x20without\x20swallowing\x20errors','OIwRy','MeQqj','uCuIF','gffZq','qXuJf','aEcZc','PgteH','foobar','ECONNRESET','LOVxd','CkpZG','bBIcq','upkkg','closes\x20the\x20connection\x20if\x20called\x20while\x20connecting\x20(2/2)','vever','fails\x20if\x20the\x20opening\x20handshake\x20timeout\x20expires','fgbIi','@localhost','yNVQN','RaLTu','nMRnl','xmPnk','dXLRN','FpsOl','429OVuOGr','gvDOv','jsKEp','2|1|3|4|0','yjiPF','strictEqual','WVCqU','iJwFU','vonAV','2523102KOdLas','qPSBy','LYtPP','can\x20send\x20numbers\x20as\x20pong\x20payload','fRyeu','honors\x20the\x20`auth`\x20option','eWftj','CXfsG','can\x20send\x20a\x20pong\x20with\x20data','honors\x20the\x20`finishRequest`\x20option','jOSxf','yhqee','LwecB','wrdPE','RqoNQ','QgpzX','HTTP/1.1\x20302\x20Found\x0d\x0a','ws://google.com:22/foo','spmYh','gOKlq','permessage-deflate;\x20client_max_window_bits','is\x20enumerable\x20and\x20configurable','moCYf','FaBtx','pgPFh','VWgmU','sZwaP','jihxa','1741816qlfppq','Gqbjk','baz:qux','can\x20be\x20called\x20from\x20a\x20listener\x20of\x20the\x20\x27upgrade\x27\x20event','QfcsO','call','LSlln','hoBSS','BpllD','fxVoE','fxKYw','ADuLt','get','sDmWb','BDIKm','nDVzC','getHeader','ftela','HktvE','readable','MeMzu','OFkfj','pauses\x20the\x20socket','NDZoS','ws+unix:','can\x20be\x20disabled','gxIzn','zZGTP','rdcvr','#close','ZYtTY','TIoxO','gRbuo','irGqY','UDkSM','`isPaused`','byteOffset','mNlzr','XQLBh','exposes\x20the\x20server\x20url','zZSWs','can\x20send\x20extension\x20parameters','vESCg','pEqKu','NTQNB','cqMIz','connect','createHash','XQMHo','MxEYX','ySbrt','SbXCc','nFcSl','oxDIE','apefJ','clients','XKPWo','arraybuffer','NgzbB','aUbaE','HiQiS','tls','Eyhlc','XtYkw','EtExU','Server','BcTEj','PzFQu','chriC','JZBaZ','GODCe','rmZaS','authorization','qux','removeEventListener','eWetx','wkgnV','bNqeZ','jUjjE','IIHPd','LcQHh','cCqLC','TthWM','qpAqq','Unexpected\x20\x27error\x27\x20event','slSPD','oLyuG','`url`','YVMfT','eVNaN','bvOVw','EQgvi','ImeTp','works\x20when\x20close\x20reason\x20is\x20not\x20specified','kLNbB','ifError','jGJmn','BvWXH','LZVoo','XWGiZ','LogSn','NsLBS','can\x20send\x20a\x20ping\x20with\x20no\x20data','IohHS','LZyyp','jVARH','HkqvM','fails\x20if\x20the\x20Upgrade\x20header\x20field\x20value\x20is\x20not\x20\x22websocket\x22','Invalid\x20URL:\x20ws://','khknP','dlQdD','allows\x20to\x20update\x20`binaryType`\x20on\x20the\x20fly','bDFZf','error\x20is\x20emitted\x20if\x20server\x20aborts\x20connection','eBzQr','honors\x20the\x20`mask`\x20option','IZhye','send','aGLAS','ZKOEu','omBEh','pohwf','edhyG','uQukP','ktgFe','DQKPX','GgDlV','rrtDn','TdKIJ','WS_ERR_UNSUPPORTED_MESSAGE_LENGTH','If\x20there\x20is\x20at\x20least\x20one\x20\x27redirect\x27\x20event\x20listener','RULog','qHMDK','VNiFZ','SHxXf','JPcEx','JooTC','FBrqd','fJDOL','\x20client_no_context_takeover;\x20server_max_window_bits=10;','pRgyY','does\x20not\x20override\x20the\x20`fin`\x20option','CMreV','bYgrV','ziPJi','Jieuc','slice','terminate','readFileSync','test/fixtures/ca-certificate.pem','pIzJo','xQonX','bdPoi','is\x20set\x20to\x20`CLOSED`\x20once\x20connection\x20is\x20terminated','xQrKY','Connection:\x20close\x0d\x0a','ItNGG','GjtiH','_deflating','split','GKchw','ChoVo','eGlLv','fTZhz','Tpjsl','ygGQr','PAvPR','vyHVO','rvOXl','tvcjZ','CLXTj','qFDAj','removeListener','works\x20when\x20the\x20`data`\x20argument\x20is\x20falsy','YMOaQ','ADpGF','gyXTe','xBtrc','VtaMx','LyTfZ','qPnLf','nxcqJ','wavvP','mFcWS','mDDzL','PZDRo','rWyFn','HnUJR','PHRTr','HTTP/1.1\x20302\x20Found\x0d\x0aLocation:\x20bad-scheme://localhost\x0d\x0a\x0d\x0a','timeout','uUytZ','ONiPT','jtfMX','LcdmG','wss://127.0.0.1','fails\x20if\x20the\x20Upgrade\x20header\x20is\x20missing','YFkxs','GJcwQ','HUxyY','LcqAp','JKyZn','Svqsn','ArRvn','fails\x20if\x20the\x20Sec-WebSocket-Extensions\x20header\x20is\x20invalid\x20(2/2)','CBzRt','KhuPT','aPfKO','clrBT','wss','PppXz','user:pass','emits\x20a\x20\x27ping\x27\x20event','Location:\x20ws://localhost:8080\x0d\x0a','fAZfT','lawrK','MTNxF','Sec-WebSocket-Accept:\x20CxYS6+NgJSBG74mdgLvGscRvpns=\x0d\x0a','spEGk','rvqdJ','sends\x20numbers\x20as\x20strings','CVtbU','createConnection','MPfec','../lib/event-target','cpEFW','UIaCe','gHkcZ','uHWja','conclude','GOYix','sNVdo','uiDbJ','sqiuL','WebSocket','YqvZM','bxtXk','accepts\x20`url.URL`\x20objects\x20as\x20url','lQViA','qiFSr','jtgAP','frame','QBXcQ','servername','bqgTX','HBkoE','cannot\x20connect\x20to\x20secure\x20websocket\x20server\x20via\x20ws://','zLwvi','WAnQx','length','RvDeH','aYXzb','_writableState','PrQMZ','Wvqdm','JhJHr','JjlnT','CONNECTING','RLQpP','NOqMA','GWjnJ','hmcXl','nxJdT','MZAAU','HTTP/1.1\x20302\x20Found\x0d\x0aLocation:\x20ws://localhost:','RwDsd','randomBytes','kSCUo','4|0|5|2|1|3|6','win32','FbZOa','SoZqy','azYSk','MdEsR','BqjRK','TzbII','JKczG','connection','NRSlJ','uAYlO','trROG','onmessage','mydvK','oAChZ','MfmGQ','bMZAq','fragment','dNRGj','ClientRequest','vGgyZ','eZTOM','WqKqg','FMdgg','cPjDl','forced','Invalid\x20WebSocket\x20frame:\x20invalid\x20opcode\x205','SULpr','var\x20x\x20=\x2042;\x20return\x20x;','pWmqV','yjJuU','Request\x20headers','HDvTY','addRequest','ymPQm','buffer','ws://localhost:','lpHgb','kmNDU','KrXvH','uEvVY','yHVrj','wss://localhost:','throws\x20an\x20error\x20if\x20a\x20subprotocol\x20is\x20invalid\x20or\x20duplicated','address','TynXQ','whHmv','fsMlQ','Agent','TAZHD','Fjspx','SjlKI','FIxOg','GweSs','LGOAI','aOmUZ','TUdMz','VOlrT','pSdmT','isPaused','CtFua','kMgIf','EvCVk','CHcyK','RtkxU','bad-scheme://websocket-echo.com','DMCoo','hkSow','RhLbG','works\x20when\x20close\x20reason\x20is\x20specified','AvDHO','GAWhq','vpNzN','jjdPB','isBuffer','qBgZu','KIMqt','equals','ooEZV','NRkZw','BCxSJ','#ctor','When\x20the\x20redirect\x20host\x20is\x20different','vjFXd','vTXTA','GwJcw','BnnAH','TtJdi','rRXmH','jnZLp','ihvGG','alYWF','ESvbo','.sock','BywVb','_receiver','jrDQf','write','JKCnS','ws://localhost','Gkrbj','hex','qUAhV','YuXHI','ecvnU','tAcSI','khYeD','fHSLD','uckEA','NFiWC','#resume','fYrXN','hceNa','pDcxq','ZUrDQ','emit','sec-websocket-protocol','yVbME','bnKeV','zHZOe','configurable','pLuuj','Jbvmw','UKEKz','readyState','qVYQW','fails\x20if\x20an\x20unexpected\x20extension\x20is\x20received\x20(2/2)','xAMeP','pause','jOiKe','tcgPs','lGojC','LOGnz','olMdq','Fnvex','upgrade','_idleTimeout','FXVYd','eEqzC','ZeEqL','gSZyW','MsYTe','Edvxd','://localhost/','iXnUb','FLfSa','prototype','ukcUQ','PkAgR','QNXmI','Ifktz','error','SpzpI','tvtGJ','MdxTf','XRBrr','DDaUo','pTnvd','KBdHw','UuOmY','KfYcz','can\x20be\x20called\x20from\x20an\x20error\x20listener\x20while\x20connecting','bNoTL','pzbkY','JMgeI','eOKYo','mBDiz','WBiJO','xoNAf','ekpjc','BcwgR','vhPTT','qJBdj','hsMKo','laubN','qUJzS','BFtgj','JTRXm','stringify','fxbJs','ZPGYW','dwkzZ','Server\x20sent\x20no\x20subprotocol','wUGnW','set','TrCPe','lseaO','bufferedAmount','GLkQI','FhHoV','IcJuT','cntXr','CLOSED','bQDRh','UHehd','works\x20around\x20a\x20double\x20\x27error\x27\x20event\x20bug\x20in\x20Node.js','cnsIE','FayWn','DZBrG','can\x20be\x20called\x20from\x20a\x20listener\x20of\x20the\x20\x27redirect\x27\x20event','bCuXL','KMLhB','AcrBx','cQxVF','HTTP/1.1\x20401\x20','hKyvS','yUInR','YhDlQ','throws','qSSCr','reason','closes\x20cleanly\x20after\x20simultaneous\x20errors\x20(1/2)','allows\x20close\x20code\x201013','foo:bar','SDBRt','CIhsg','ebqOP','wCcOn','rAdjR','FeIqE','QtoUt','kVxXE','BZcoB','SHTVh','uxMZk','kFzOA','fzZCN','sUhwq','drops\x20the\x20`auth`\x20option','uaOTT','SgCOH','kdECd','rqZjQ','LwpzD','type','update','EANZn','sets\x20`target`\x20and\x20`type`\x20on\x20events','kMgKI','YzeGC','paRpe','_state','is\x20enabled\x20by\x20default','Max\x20payload\x20size\x20exceeded','hXXLN','pdoAe','cBPFR','nISEb','TUjWw','ghUFp','\x20client_max_window_bits','yBFkf','FnzKo','EhSWq','qhJum','qAfDh','Kxtfe','NYCEk','twDli','exposes\x20the\x20subprotocol\x20selected\x20by\x20the\x20server','tZFMF','throws\x20an\x20error\x20when\x20using\x20an\x20invalid\x20`protocolVersion`','1026692MJCGXY','doesn\x27t\x20remove\x20listeners\x20added\x20with\x20`addEventListener`','vlBSl','IBhFo','dlPOJ','CWbxN','Wkhns','SOKWD','AXgSb','WCzyM','WOSmg','tirpU','aBnDW','akPGr','fails\x20if\x20the\x20Sec-WebSocket-Accept\x20header\x20is\x20invalid','Upgrade:\x20foo\x0d\x0a','3|1|6|2|5|4|0','ZbTGU','jyXgJ','DneZl','sZbWz','values','exposes\x20the\x20negotiated\x20extensions\x20names\x20(1/2)','Basic\x20Zm9vOmJhcg==','VjhUg','WS_ERR_INVALID_OPCODE','Wbxnd','FlNBn','rolVL','xNYZn','ZKpBz','Jyrzz','options','iNUMq','RJspg','vklRX','RjIBs','vsHQT','bhBnH','ws://','ZGMWu','JdUbm','_closeTimer','iftMN','YOvHC','nmsQv','quXLx','XaqmZ','can\x20send\x20an\x20`ArrayBuffer`','QHDJT','Server\x20sent\x20a\x20subprotocol\x20but\x20none\x20was\x20requested','KHBRx','code','bSPfn','EvQxJ','modules','tskYo','zXyxv','ws-','efslc','eWgkA','LJVgY','THqxg','xYJMK','defaults\x20to\x20`CONNECTING`','DJQAb','dhEzm','ujHPK','fails\x20if\x20an\x20unexpected\x20extension\x20is\x20received\x20(1/2)','#pause','LWWqo','GFkOL','closes\x20the\x20connection\x20if\x20called\x20while\x20connecting\x20(1/2)','UNMmF','qTJnu','XChmu','SLbYh','NJHMX','kWxEa','NHrEU','DOMse','dPTzH','ZKDcA','iIlzJ','vIkFW','DvoeA','sjmKI','tjKkY','YSMpv','sha1','XPwzv','../lib/sender','UsKif','WVFUK','hinxX','/foo','UCUgb','KXLmm','EFDRh','IbWPf','qwBTT','pong','test:testpass','XlIBp','AaieY','throws\x20an\x20error\x20when\x20using\x20an\x20invalid\x20url','drops\x20the\x20Authorization,\x20Cookie\x20and\x20Host\x20headers\x20(4/4)','gREWz','localhost:88','bnECJ','STATUS_CODES','iJeTX','CEttM','Ameyu','allows\x20close\x20code\x201014','GSWxC','UOWHf','jyGQN','UZEHB','XBcCM','tzAYs','rnpNc','GtlxO','snrlj','can\x20send\x20a\x20ping\x20with\x20data','wss://localhost:8443','receives\x20a\x20`CloseEvent`\x20when\x20server\x20closes\x20(1000)','WVDRV','When\x20moving\x20away\x20from\x20a\x20secure\x20context','PRveQ','eWVAT','PsvpQ','Location:\x20ws+unix:','fncGU','some\x20reason','_readableState','lZMNS','HTTP/1.1\x20101\x20Switching\x20Protocols\x0d\x0a','MPLGP','pkBCh','CwlNL','nMteU','emits\x20an\x20\x27error\x27\x20event\x20if\x20an\x20error\x20occurs','push','RDSRv','VoMgw','XyvnD','WAimc','OvDcb','BqnCU','BWQcW','vsTTK','dRLnS','Invalid\x20Sec-WebSocket-Accept\x20header','can\x20send\x20a\x20pong\x20with\x20no\x20data','GjLRy','EZIgl','zixaj','TilUe','VroUm','baz','9108081xBqNdK','return\x20new\x20Date();','bjQtq','vcGXv','BcMUG','IgYLL','fails\x20if\x20server\x20sends\x20no\x20subprotocol','uQJQW','dAZuM','oxkcm','Authorization','hPlPz','nQJrI','hTPXX','is\x20called\x20automatically\x20when\x20a\x20ping\x20is\x20received','dYUJs','rqNnk','bmDmJ','byteLength','faGoP','EEhfe','OWbHI','toTwg','rJiev','The\x20socket\x20was\x20closed\x20while\x20data\x20was\x20being\x20compressed','EidlV','uZYVb','mDaVx','MIpfh','jodxT','google.com:22','XZYJV','fHJTq','kJvKJ','close\x20event\x20is\x20raised\x20when\x20server\x20closes\x20connection','cDKkh','allows\x20to\x20disable\x20sending\x20the\x20SNI\x20extension','prependListener','agpKf','ppGgv','YlDWl','hOZsA','console.log(\x22timer\x22);','_req','rOzrI','YeAkd','PGYOR','Basic\x20','fVyIg','GYwVd','read','cHMDW','vlYzS','sLWvl','JXEdD','RIkav','DirjP','mKzcf','HOaln','WXFmB','yJtDt','hKFlz','_sender','fZNvU','Ruuly','waquM','UIemk','FHTEh','fails\x20if\x20an\x20unexpected\x20Sec-WebSocket-Extensions\x20header\x20is\x20received','xdLgl','iiuvV','oYauZ','EuVZn','leqVF','WHATWG\x20API\x20emulation','TlTiO','uQhce','cnCIv','trsiG','WzrLf','wDntK','_redirects','ERsoN','can\x20be\x20used\x20while\x20data\x20is\x20being\x20decompressed','notStrictEqual','vcCcW','test/fixtures/client-key.pem','WsWrz','mauMi','TMUgo','nBUPd','JzXJZ','0|2|4|8|3|1|6|9|7|5','qQghE','WSgrZ','https://example.com:8000','hbCek','OWmbI','fPMSu','localhost:8443','VibyL','serUD','iIQWU','handleUpgrade','eExxO','ODjxU','YSZAO','ktTTy','_maxPayload','rzJeD','faozn','3|0|4|1|2','BtriJ','MfIIh','TeRAO','cYGiK','tGxkr','SMYTQ','ufxKP','LwGuE','dygYO','EmwXG','gshUS','Location:\x20ws://localhost:','KZAxX','_extensions','otbMr','QQcVW','LmlIE','AfYke','BCgnz','xsNCW','mXrFj','eMxwu','cUdkB','UtZxR','zfBXM','\x22http:\x22,\x20\x22https\x22,\x20or\x20\x22ws+unix:\x22','KLCTk','Invalid\x20Upgrade\x20header','jrjRi','UQxSl','oWKSm','AIhjT','DnETY','aaFkA','bsNJI','lAjBG','defaults\x20to\x20zero','mcWwI','safe','NGose','wHKuu','yoyWp','closes\x20the\x20connection\x20if\x20called\x20while\x20connecting\x20(2/3)','zmhXF','zskCY','BlifN','Server\x20sent\x20an\x20invalid\x20subprotocol','calls\x20the\x20callback\x20w/\x20an\x20error\x20if\x20`readyState`\x20is\x202\x20or\x203','Unexpected\x20\x27pong\x27\x20event','qcMsr','port','yNpgQ','cfoSc','fMlab','0|5|4|1|2|3','bJOlC','WkgJB','DBKxz','Unexpected\x20server\x20response:\x20401','tmuJu','KEWzW','`binaryType`','handles\x20a\x20close\x20frame\x20received\x20while\x20compressing\x20data','QtEII','DoEUL','ONjDO','ignores\x20`binaryType`\x20for\x20text\x20messages','xzHws','ZxBoD','wzUag','Vizop','vEpKE','SYieN','NNxLe','YdNwM','HfDSC','is\x20set\x20to\x20`CLOSED`\x20once\x20connection\x20is\x20closed','rqvHP','NYbue','auPfb','allows\x20the\x20http\x20scheme','open','FijmT','WieID','consumes\x20all\x20received\x20data\x20when\x20connection\x20is\x20closed\x20(2/2)','concat','emits\x20an\x20error\x20if\x20the\x20redirect\x20URL\x20is\x20invalid\x20(2/2)','zOQGh','4|3|2|1|5|0','headers','does\x20nothing\x20if\x20`readyState`\x20is\x20`CLOSED`','rTtVG','iQphz','jBrYc','mgWXg','xaKye','UFzrG','onerror','YbszB','cYUSI','PoSnE','PFpvr','kMbzI','UoOFe','gXdTI','KzGNL','DUDGd','uoKiY','getOwnPropertyDescriptor','ws://[::1]','MehlG','zeCBn','mBmKT','NkzYm','RVMfY','oJqxL','#ping','throws\x20an\x20error\x20if\x20`readyState`\x20is\x20`CONNECTING`','ekfpR','end','alloc','WebSocket\x20was\x20closed\x20before\x20the\x20connection\x20was\x20established','OpPVj','wVBcw','dcrDQ','NDKiK','URbmU','OPEN','PctEH','IVgOq','NtqKF','works\x20like\x20the\x20`EventEmitter`\x20interface','hVumH','xbVOJ','NkkIU','FxSgn','XyZlY','allows\x20the\x20https\x20scheme','nJBHG','NEpqH','WTHRP','zHFAo','cARwG','gchuU','subarray','xRgmy','VMjOa','foo','digest','Iyork','XFjQq','QpNhb','GXQSW','WebSocket\x20is\x20not\x20open:\x20readyState\x202\x20(CLOSING)','onclose','OytLb','some\x20daft\x20reason','ZYdIM','WUcyR','DoHpk','PglKH','lYrfJ','BRgCe','OGJAe','doesn\x27t\x20add\x20the\x20origin\x20header\x20by\x20default','Sec-WebSocket-Protocol:\x20foo','return\x20await\x20Promise.resolve(42);','HTTP/1.1\x20302\x20Found\x0d\x0aLocation:\x20ws+unix:','MMZnJ','removeHeader','qDymx','vqlml','Gzyif','MWGiE','wss://127.0.0.1:','MfwxR','ltOjl','soKVq','exposes\x20the\x20negotiated\x20extensions\x20names\x20(2/2)','yFaNT','ySCQU','mcWAo','wasClean','zoSLy','AsVEZ','NrBlP','doesn\x27t\x20return\x20listeners\x20added\x20with\x20`on`','GvpcZ','redirect','TLSv1.2','xRCMA','CRWqM','ignores\x20the\x20`compress`\x20option\x20if\x20the\x20extension\x20is\x20disabled','base64','passes\x20binary\x20data\x20as\x20a\x20Node.js\x20`Buffer`\x20by\x20default','scjsb','KLinA','Upgrade','bWAtc','join','does\x20not\x20follow\x20redirects\x20by\x20default','VExMg','sxofv','can\x20send\x20a\x20`Buffer`','Mkgmp','UNLFb','4|2|0|3|1','close','kDHkA','VHhDr','YcosQ','InMdd','ogWhE','a,b','IXNAw','YgtIQ','ewnhT','Server\x20indicated\x20an\x20extension\x20that\x20was\x20not\x20requested','KxQOd','data','fmIHP','extensions','KftQR','BJCag','YEIjq','kXFJX','zJrwe','TXrag','fXvBP'];_0x392b=function(){return _0x4cd3a3;};return _0x392b();}const assert=require('assert'),crypto=require('crypto'),https=require(_0xa7c265(0x14f)),http=require(_0xa7c265(0x70b)),path=require(_0xa7c265(0x133)),net=require('net'),tls=require(_0xa7c265(0x283)),os=require('os'),fs=require('fs'),{getDefaultHighWaterMark}=require(_0xa7c265(0x1ad)),{URL}=require('url'),Sender=require(_0xa7c265(0x4b4)),WebSocket=require('..'),{CloseEvent,ErrorEvent,Event,MessageEvent}=require(_0xa7c265(0x326)),{EMPTY_BUFFER,GUID,kListener,NOOP}=require('../lib/constants'),highWaterMark=getDefaultHighWaterMark?getDefaultHighWaterMark(![]):0x10*0x400;class CustomAgent extends http[_0xa7c265(0x383)]{[_0xa7c265(0x374)](){}}describe(_0xa7c265(0x330),()=>{const _0x31aca9=_0xa7c265,_0x32f9c9={'Nmxzo':function(_0x3cb790,_0x46225b){return _0x3cb790+_0x46225b;},'vcCcW':function(_0x2d80a1){return _0x2d80a1();},'LYtPP':function(_0x2902a8,_0xd8280c){return _0x2902a8===_0xd8280c;},'WhDpv':_0x31aca9(0x6b6),'dygYO':_0x31aca9(0x50e),'UHehd':'ping','tcFzl':'accepts\x20the\x20`options`\x20object\x20as\x203rd\x20argument','rnpNc':function(_0x1f30eb,_0x2871e1,_0x3763fe){return _0x1f30eb(_0x2871e1,_0x3763fe);},'KftQR':_0x31aca9(0x18c),'vlBSl':_0x31aca9(0x4c2),'lawrK':_0x31aca9(0x37e),'HiQiS':function(_0x1db04f,_0x2878d4,_0x4446f1){return _0x1db04f(_0x2878d4,_0x4446f1);},'VMjOa':_0x31aca9(0x333),'RLQpP':_0x31aca9(0x5ba),'UZEHB':_0x31aca9(0x5f3),'fZNvU':_0x31aca9(0x479),'cCUrq':function(_0x3ef3f5,_0x423b2f){return _0x3ef3f5 instanceof _0x423b2f;},'XtYkw':_0x31aca9(0x639),'oYauZ':'is\x20enumerable\x20property\x20of\x20prototype','xmPnk':_0x31aca9(0x31e),'jtgAP':'dcrDQ','qHMDK':_0x31aca9(0x23f),'dqpSu':_0x31aca9(0x46f),'CWbxN':function(_0x518865,_0x594810,_0xb1817e){return _0x518865(_0x594810,_0xb1817e);},'PctEH':_0x31aca9(0x61c),'PloUE':function(_0x1cd5df,_0x4f7bdd){return _0x1cd5df instanceof _0x4f7bdd;},'WXFmB':function(_0x7f694c,_0xa7ecf1,_0x32f23e){return _0x7f694c(_0xa7ecf1,_0x32f23e);},'tkqrP':_0x31aca9(0x2c7),'HOaln':_0x31aca9(0x25d),'MIIPN':_0x31aca9(0x45f),'KLCTk':function(_0x373904,_0x4c886b,_0x37286f){return _0x373904(_0x4c886b,_0x37286f);},'IPHut':_0x31aca9(0x201),'vyHVO':_0x31aca9(0x1a1),'mBQYJ':_0x31aca9(0x5b6),'pzaOs':_0x31aca9(0x2df),'setDD':function(_0x10e400,_0x4d0d2f,_0x1965f0){return _0x10e400(_0x4d0d2f,_0x1965f0);},'pWmqV':_0x31aca9(0x26d),'iJeTX':_0x31aca9(0x27f),'NqxXp':function(_0x2cd334,_0x2fb042){return _0x2cd334===_0x2fb042;},'lpHgb':_0x31aca9(0x6a6),'NwMAX':function(_0x547b9d){return _0x547b9d();},'LcqAp':'takes\x20into\x20account\x20the\x20data\x20in\x20the\x20sender\x20queue','AZOUi':_0x31aca9(0x6d2),'lYspx':_0x31aca9(0x49b),'sOIyS':function(_0x4cd35d,_0x281f4e){return _0x4cd35d!==_0x281f4e;},'HCixD':function(_0x4acd6d,_0x454036){return _0x4acd6d===_0x454036;},'uZYVb':'url','GJcwQ':function(_0x512d22,_0x5aa936,_0x371061){return _0x512d22(_0x5aa936,_0x371061);},'aKzRw':'`extensions`','mKzcf':function(_0x5e8e6d,_0x27e890,_0x3212c){return _0x5e8e6d(_0x27e890,_0x3212c);},'aBuBL':function(_0x59dfd1,_0x5a169d,_0xa36e22){return _0x59dfd1(_0x5a169d,_0xa36e22);},'xbVOJ':'`protocol`','IVgOq':'`readyState`','xiDYP':_0x31aca9(0x29d),'ogWhE':_0x31aca9(0x35b),'uEvVY':_0x31aca9(0x3ea),'gwHBi':function(_0x4aba53,_0x21e241){return _0x4aba53<_0x21e241;},'EuVZn':'upgrade','XbuOj':function(_0x474707,_0xd3d124){return _0x474707 instanceof _0xd3d124;},'RqoNQ':_0x31aca9(0x4b8),'fiVSw':_0x31aca9(0x626),'xxJRR':_0x31aca9(0x1c1),'waquM':_0x31aca9(0x31a),'huRYd':_0x31aca9(0x1cb),'xBtrc':function(_0x1fb30f,_0x47d8fc,_0x50b63b){return _0x1fb30f(_0x47d8fc,_0x50b63b);},'CVtbU':'emits\x20a\x20\x27redirect\x27\x20event','Ruuly':function(_0x1850ac,_0x1e370c){return _0x1850ac+_0x1e370c;},'rolVL':_0x31aca9(0x142),'XaMNn':function(_0x55047f,_0x4b484a){return _0x55047f!==_0x4b484a;},'LnyLq':_0x31aca9(0x595),'ESvbo':function(_0x49b327){return _0x49b327();},'ebqOP':function(_0x123b5b,_0x18c27d){return _0x123b5b!==_0x18c27d;},'qNAnO':_0x31aca9(0x157),'MfBtf':'open','scjsb':_0x31aca9(0x195),'KPIPL':function(_0x14685d,_0x513e69){return _0x14685d+_0x513e69;},'OIwRy':_0x31aca9(0x62b),'MdEsR':_0x31aca9(0x159),'wzUag':function(_0x1ed402,_0x2b6237){return _0x1ed402+_0x2b6237;},'FBrqd':'sec-websocket-key','GKchw':_0x31aca9(0x4e2),'uctry':'Sec-WebSocket-Extensions:\x20foo\x0d\x0a','nJBHG':function(_0x51dd51,_0x5cce31){return _0x51dd51+_0x5cce31;},'rTtVG':'HTTP/1.1\x20302\x20Found\x0d\x0a','GVSWn':_0x31aca9(0x1e2),'YOOwE':_0x31aca9(0x5c3),'dtfFz':_0x31aca9(0x6c5),'qPSBy':_0x31aca9(0x6a8),'kDHkA':'test/fixtures/key.pem','ISBNR':function(_0x233453,_0x4d3e8e){return _0x233453===_0x4d3e8e;},'YuXHI':function(_0x47f87f,_0x1d8ffa,_0x453473){return _0x47f87f(_0x1d8ffa,_0x453473);},'Gqbjk':_0x31aca9(0x6e4),'omvkD':_0x31aca9(0x20a),'VNiFZ':_0x31aca9(0x28e),'pIzJo':_0x31aca9(0x470),'sNVdo':_0x31aca9(0x1f9),'bYgrV':function(_0x11a949,_0x4aa358){return _0x11a949+_0x4aa358;},'vXeRS':'Upgrade:\x20websocket\x0d\x0a','KzGNL':function(_0x72f6e,_0x47c539){return _0x72f6e instanceof _0x47c539;},'pHNmh':_0x31aca9(0x4f2),'ERsoN':_0x31aca9(0x1e9),'jihxa':_0x31aca9(0x472),'uYEUy':function(_0x420f1a,_0x53123b){return _0x420f1a+_0x53123b;},'hkSow':_0x31aca9(0x2ec),'cfoSc':_0x31aca9(0x711),'yjiPF':_0x31aca9(0x14a),'jUjjE':function(_0x40ce20,_0x1deea8){return _0x40ce20 instanceof _0x1deea8;},'wcCpI':_0x31aca9(0x4fb),'ZGMWu':'HTTP/1.1\x20301\x20Moved\x20Permanently\x0d\x0a','GtlxO':_0x31aca9(0x6ad),'vsHQT':'drops\x20the\x20Authorization\x20and\x20Cookie\x20headers','rWyFn':_0x31aca9(0x6c7),'Wvqdm':function(_0x4003f0,_0x564686){return _0x4003f0+_0x564686;},'BRgCe':_0x31aca9(0x18a),'nmsQv':function(_0x4a5ec6,_0x2908c4){return _0x4a5ec6===_0x2908c4;},'tjKkY':_0x31aca9(0x36f),'FbZOa':'mWIkm','JSHoS':_0x31aca9(0xd1),'taoYP':function(_0xdd3ac8,_0x41a1dd){return _0xdd3ac8(_0x41a1dd);},'CIhsg':_0x31aca9(0x467),'LZVoo':_0x31aca9(0x51c),'EstBC':_0x31aca9(0x668),'hmcXl':_0x31aca9(0x53e),'mcWwI':function(_0x10ae61,_0x1d5ea0,_0x1fc419){return _0x10ae61(_0x1d5ea0,_0x1fc419);},'LWBqO':function(_0x292665,_0x182a34,_0x126063){return _0x292665(_0x182a34,_0x126063);},'uPrBJ':function(_0x2624ea,_0x58af7e,_0x49b731){return _0x2624ea(_0x58af7e,_0x49b731);},'vjFXd':_0x31aca9(0x127),'SMYTQ':_0x31aca9(0x6ae),'NRSlJ':function(_0x32ad3e,_0x5d7e11,_0x3b1d5d){return _0x32ad3e(_0x5d7e11,_0x3b1d5d);},'cigQx':_0x31aca9(0x632),'aaFkA':_0x31aca9(0x139),'zXyxv':_0x31aca9(0x1a6),'UIEdl':_0x31aca9(0x6c4),'RfpQC':_0x31aca9(0x3a5),'PIFMn':_0x31aca9(0x23e),'XZYJV':_0x31aca9(0x25c),'IYOgq':function(_0x2e886e,_0x59e7fb){return _0x2e886e instanceof _0x59e7fb;},'Jyrzz':function(_0xa1711c,_0x578584){return _0xa1711c!==_0x578584;},'kHrvV':function(_0x35e375,_0x52bfed){return _0x35e375<_0x52bfed;},'kSCUo':function(_0x4d45af,_0x1d1571){return _0x4d45af-_0x1d1571;},'cHMDW':function(_0x16a0d2,_0x121415){return _0x16a0d2>_0x121415;},'eMxwu':_0x31aca9(0x210),'CyfHT':function(_0x40e9e3,_0x438dc9){return _0x40e9e3 instanceof _0x438dc9;},'MhYxr':_0x31aca9(0x3a9),'qTJnu':'throws\x20an\x20error\x20if\x20`readyState`\x20is\x20`CONNECTING`','RhLbG':'increases\x20`bufferedAmount`\x20if\x20`readyState`\x20is\x202\x20or\x203','TMUgo':function(_0x17b99d,_0x2a66ad,_0x31fced){return _0x17b99d(_0x2a66ad,_0x31fced);},'tirpU':'calls\x20the\x20callback\x20w/\x20an\x20error\x20if\x20`readyState`\x20is\x202\x20or\x203','GnZTZ':'can\x20send\x20numbers\x20as\x20ping\x20payload','cHTEQ':_0x31aca9(0x1bd),'ropnG':_0x31aca9(0x3b6),'yfbkK':function(_0x282b18,_0x4fe4be){return _0x282b18!==_0x4fe4be;},'alYWF':function(_0x2195e0,_0x324e14){return _0x2195e0 instanceof _0x324e14;},'WZeQT':_0x31aca9(0x6bb),'hceNa':'pong','DkvtA':function(_0x56ef62,_0x1183e1,_0x479f99){return _0x56ef62(_0x1183e1,_0x479f99);},'USOXU':function(_0x2fffa5,_0x5243da,_0x362153){return _0x2fffa5(_0x5243da,_0x362153);},'NqBtE':function(_0x3612f1,_0x26e289,_0x2c8673){return _0x3612f1(_0x26e289,_0x2c8673);},'JNpgf':_0x31aca9(0x508),'XsSGX':function(_0x191c2d,_0x4edd8e,_0x25f226){return _0x191c2d(_0x4edd8e,_0x25f226);},'TthWM':'EnDww','tvtGJ':_0x31aca9(0x364),'EANZn':_0x31aca9(0x1df),'LktVh':_0x31aca9(0x6c8),'fqHzc':_0x31aca9(0x52f),'uoKiY':function(_0x2eb175,_0x2b04c5){return _0x2eb175/_0x2b04c5;},'IoBGv':'qBgZu','BywVb':function(_0x1c3dc7,_0x1c24f4){return _0x1c3dc7/_0x1c24f4;},'sZwaP':_0x31aca9(0x6f9),'xdbdI':function(_0x127786,_0xe693bb){return _0x127786===_0xe693bb;},'bDAml':_0x31aca9(0x3fc),'TzbII':function(_0x2ab58c,_0xbf5998,_0x2ec380){return _0x2ab58c(_0xbf5998,_0x2ec380);},'AdySS':_0x31aca9(0x322),'iftMN':function(_0x3e6bed,_0x5e1c2e,_0x495f84){return _0x3e6bed(_0x5e1c2e,_0x495f84);},'CfiuO':_0x31aca9(0xf5),'orrHb':_0x31aca9(0x489),'JKCnS':_0x31aca9(0x635),'cntXr':_0x31aca9(0x2b9),'hoBSS':_0x31aca9(0xc4),'oxDIE':'VHKLS','mcWAo':'tNMsa','mydvK':function(_0x149fd9){return _0x149fd9();},'MSPIq':_0x31aca9(0x3ca),'HUxyY':'foo','twDli':_0x31aca9(0x5e1),'rvqdJ':_0x31aca9(0x6dd),'QtoUt':'fHsms','XTsSs':'closes\x20the\x20connection\x20if\x20called\x20while\x20connecting\x20(1/3)','GTluR':_0x31aca9(0x249),'VyDed':function(_0x4446f6,_0x6e3535,_0x2e58c7){return _0x4446f6(_0x6e3535,_0x2e58c7);},'THqxg':_0x31aca9(0x4cb),'KfYcz':function(_0x14ee2b,_0x1084d6,_0x5b0b8d){return _0x14ee2b(_0x1084d6,_0x5b0b8d);},'eExxO':function(_0x4afed2,_0x21ae02,_0x211bcc){return _0x4afed2(_0x21ae02,_0x211bcc);},'ukkpR':_0x31aca9(0x4a1),'qcMsr':_0x31aca9(0x216),'EvCVk':function(_0x3ec7d7,_0x4a899f,_0x4457e7){return _0x3ec7d7(_0x4a899f,_0x4457e7);},'fNclP':'can\x20be\x20called\x20from\x20an\x20error\x20listener\x20while\x20connecting','gshUS':function(_0x32a16b,_0x2485d7,_0x166504){return _0x32a16b(_0x2485d7,_0x166504);},'ZYBnO':function(_0x5af1cd,_0x129711){return _0x5af1cd===_0x129711;},'oWKSm':'hctyR','ImeTp':_0x31aca9(0x3c0),'IuVcC':_0x31aca9(0x35f),'zSbST':function(_0x44c53d,_0xa3dac7){return _0x44c53d!==_0xa3dac7;},'zwdDx':'NjKbS','JJeWT':'nodebuffer','NRpRX':_0x31aca9(0x590),'aGLAS':_0x31aca9(0x2e9),'qDymx':_0x31aca9(0x520),'edfuZ':_0x31aca9(0x3e8),'MYFZa':function(_0x4d4498,_0x330fea,_0x144b40){return _0x4d4498(_0x330fea,_0x144b40);},'wPduA':_0x31aca9(0x5ed),'LmlIE':_0x31aca9(0x624),'KHBRx':_0x31aca9(0x1e8),'kEDEf':function(_0x35dc0e,_0x2c0fb5,_0x536bd1){return _0x35dc0e(_0x2c0fb5,_0x536bd1);},'zZGTP':_0x31aca9(0x45a),'PoSnE':_0x31aca9(0x143),'tZFMF':'wraps\x20text\x20data\x20in\x20a\x20`MessageEvent`','VWlBp':_0x31aca9(0x4d7),'wHKuu':_0x31aca9(0x109),'vARmO':function(_0x40b066,_0x237ca7,_0x5d4278){return _0x40b066(_0x237ca7,_0x5d4278);},'rzJeD':_0x31aca9(0x440),'WieID':function(_0x22ecb5,_0x5c2324,_0x29a05c){return _0x22ecb5(_0x5c2324,_0x29a05c);},'lAjBG':_0x31aca9(0x62c),'HktvE':_0x31aca9(0x5ac),'jtfMX':_0x31aca9(0x2b5),'GXQSW':_0x31aca9(0x5e3),'rRXmH':_0x31aca9(0x65a),'gvDOv':function(_0x810596,_0x4ebb2f){return _0x810596===_0x4ebb2f;},'gIDNQ':_0x31aca9(0x52e),'QnnwT':function(_0x40b966,_0xfc3115){return _0x40b966*_0xfc3115;},'jwWui':_0x31aca9(0x309),'zoSLy':'sQvSK','RDSRv':_0x31aca9(0x284),'TUdMz':_0x31aca9(0x627),'wnpTs':'connects\x20to\x20secure\x20websocket\x20server','tcgPs':'connects\x20to\x20secure\x20websocket\x20server\x20with\x20client\x20side\x20certificate','pTnvd':function(_0x2734b1,_0x5dbb24,_0x51ddf8){return _0x2734b1(_0x5dbb24,_0x51ddf8);},'nnsXB':_0x31aca9(0x161),'VZwKB':_0x31aca9(0x51e),'BqcJk':_0x31aca9(0x416),'mMinu':_0x31aca9(0x4cd),'DoHpk':_0x31aca9(0x2d4),'eeEei':function(_0x3d567c,_0x2306fd){return _0x3d567c===_0x2306fd;},'NooqN':_0x31aca9(0x67a),'reeXB':_0x31aca9(0x428),'JDLOp':_0x31aca9(0x4d6),'QbPIF':_0x31aca9(0x55d),'ezoZF':'host','EkWse':'socket','xoNAf':_0x31aca9(0x1f8),'UIemk':_0x31aca9(0x65c),'NYbue':function(_0x34347f,_0x10c6fd,_0x19c04c){return _0x34347f(_0x10c6fd,_0x19c04c);},'Ovlic':_0x31aca9(0x6f8),'TBnaI':function(_0x9f171b,_0x2e76fb,_0x5d4322){return _0x9f171b(_0x2e76fb,_0x5d4322);},'DZBrG':_0x31aca9(0x60e),'dPKBa':function(_0x1b876d,_0x2e09e0,_0x48f2ad){return _0x1b876d(_0x2e09e0,_0x48f2ad);},'efslc':'honors\x20the\x20`origin`\x20option\x20(1/2)','PrQMZ':function(_0x456a10,_0x27c474,_0x42dc2c){return _0x456a10(_0x27c474,_0x42dc2c);},'uQhce':_0x31aca9(0x15c),'UuOmY':_0x31aca9(0x23b),'KZAxX':_0x31aca9(0x180),'AFogY':function(_0xdfc049,_0x422f52){return _0xdfc049+_0x422f52;},'hssHD':_0x31aca9(0x12f),'jLnRm':_0x31aca9(0x2d1),'fooxm':_0x31aca9(0x44d),'KDecQ':_0x31aca9(0x1af),'AyRMc':_0x31aca9(0x610),'vdrfg':_0x31aca9(0x267),'nHVUx':_0x31aca9(0x6b5),'GskXD':function(_0x107730,_0x14fde3){return _0x107730 instanceof _0x14fde3;},'Gzyif':_0x31aca9(0x655),'ZKpBz':_0x31aca9(0x25f),'dMsnp':function(_0x4c20f0,_0x21b588,_0x43903a){return _0x4c20f0(_0x21b588,_0x43903a);},'fnUuI':_0x31aca9(0x26f),'vIkFW':function(_0x3fd8c0,_0x8c118a,_0x3421b2){return _0x3fd8c0(_0x8c118a,_0x3421b2);},'oanQz':_0x31aca9(0x5a8),'ziPJi':function(_0x58a2f3,_0x263896,_0x2efa92){return _0x58a2f3(_0x263896,_0x2efa92);},'rAdjR':function(_0x146909,_0x91df49,_0x5285b7){return _0x146909(_0x91df49,_0x5285b7);},'GvpcZ':_0x31aca9(0x663),'LJyQJ':function(_0x44fb73,_0x260ec7){return _0x44fb73 instanceof _0x260ec7;},'xxQFn':'KHkNs','yNVQN':function(_0x455794,_0x5254ac){return _0x455794!==_0x5254ac;},'fezGO':'Invalid\x20WebSocket\x20frame:\x20invalid\x20opcode\x205','qXrlE':function(_0x42c1e6,_0x28113d){return _0x42c1e6!==_0x28113d;},'kJvKJ':_0x31aca9(0x164),'RmGPk':_0x31aca9(0x426),'OeMMt':'closes\x20cleanly\x20after\x20simultaneous\x20errors\x20(2/2)','Fnvex':function(_0x10d5d2,_0xf1fb90,_0x4932cc){return _0x10d5d2(_0xf1fb90,_0x4932cc);},'NHrEU':_0x31aca9(0x3a4),'qUpps':'Constants','FldkJ':'Attributes','rsieC':_0x31aca9(0xf8),'nDwVW':'Connection\x20establishing','NkzYm':_0x31aca9(0x49e),'aPZmG':function(_0x68d590,_0x7291aa,_0x1f9a0c){return _0x68d590(_0x7291aa,_0x1f9a0c);},'DfGmo':function(_0x4a14af,_0x13153e,_0x3c929d){return _0x4a14af(_0x13153e,_0x3c929d);},'bLBJu':_0x31aca9(0x3c1),'kWxEa':function(_0x135fee,_0x11c561,_0x478ff8){return _0x135fee(_0x11c561,_0x478ff8);},'XPSCv':'#send','VroUm':function(_0x33206b,_0x263e40,_0x28f701){return _0x33206b(_0x263e40,_0x28f701);},'uoYHm':_0x31aca9(0x372),'LSlln':function(_0x3afe20,_0x3b0cd3,_0x29ae4f){return _0x3afe20(_0x3b0cd3,_0x29ae4f);},'TrCPe':'Connection\x20close'};describe(_0x32f9c9[_0x31aca9(0x4a8)],()=>{const _0xdb11e3=_0x31aca9,_0x343c41={'gxIzn':_0xdb11e3(0x1fa),'GODCe':function(_0x418fe9){const _0x129567=_0xdb11e3;return _0x32f9c9[_0x129567(0x54f)](_0x418fe9);},'BlsHB':_0xdb11e3(0x16b),'IjYMG':function(_0x18ea9e,_0x65a8ce){return _0x32f9c9['LYtPP'](_0x18ea9e,_0x65a8ce);},'TynXQ':_0xdb11e3(0x49f),'EidlV':_0xdb11e3(0x3b6),'SHxXf':_0x32f9c9['WhDpv'],'pbNBU':_0x32f9c9[_0xdb11e3(0x572)],'nVTif':'data','BcTEj':_0x32f9c9[_0xdb11e3(0x415)],'BZwyg':'close','jsHFF':_0x32f9c9['tcFzl'],'pqmIH':function(_0x326a13,_0x3846dc,_0x7a6272){const _0x1fe520=_0xdb11e3;return _0x32f9c9[_0x1fe520(0x4d2)](_0x326a13,_0x3846dc,_0x7a6272);},'trOdT':function(_0x881c75,_0x1b3883,_0x1a3667){return _0x32f9c9['rnpNc'](_0x881c75,_0x1b3883,_0x1a3667);},'qPmMC':_0xdb11e3(0x458),'yjJuU':_0xdb11e3(0x181),'nVyhi':_0x32f9c9[_0xdb11e3(0x648)]};it(_0x32f9c9[_0xdb11e3(0x45b)],()=>{const _0x4c30e2=_0xdb11e3,_0x4845e7={'vpNzN':function(_0x53ec81,_0x42f00a){const _0x16ed4f=_0xffb2;return _0x32f9c9[_0x16ed4f(0xc7)](_0x53ec81,_0x42f00a);},'ucnTa':_0x4c30e2(0x702),'WTHRP':_0x4c30e2(0x583)};assert[_0x4c30e2(0x423)](()=>new WebSocket(_0x4c30e2(0x5fd)),/^SyntaxError: Invalid URL: foo$/),assert['throws'](()=>new WebSocket(_0x4c30e2(0x394)),_0x560052=>{const _0x38855e=_0x4c30e2;return assert['strictEqual'](_0x560052[_0x38855e(0x1df)],_0x4845e7[_0x38855e(0x39b)](_0x4845e7[_0x38855e(0x1a7)],_0x4845e7[_0x38855e(0x5f6)])),eval('const _0x36cb7c = _0x38855e;JSON[_0x36cb7c(1029)]({ \'safe\': !![] });'),!![];}),assert['throws'](()=>new WebSocket(_0x4c30e2(0x25e)),/^SyntaxError: The URL's pathname is empty$/),assert[_0x4c30e2(0x423)](()=>new WebSocket('wss://websocket-echo.com#foo'),/^SyntaxError: The URL contains a fragment identifier$/);}),it(_0x32f9c9[_0xdb11e3(0x31d)],()=>{const _0x4b06d8=_0xdb11e3;for(const _0x236219 of[null,'','a,b',['a','a']]){assert[_0x4b06d8(0x423)](()=>new WebSocket(_0x4b06d8(0x3b6),_0x236219),/^SyntaxError: An invalid or duplicated subprotocol was specified$/);}}),_0x32f9c9[_0xdb11e3(0x282)](it,_0x32f9c9[_0xdb11e3(0x5fc)],_0x4cb360=>{const _0x1466af=_0xdb11e3,_0x5a8bca=new http['Agent']();_0x5a8bca[_0x1466af(0x374)]=(_0x4d8e89,_0x3fe378)=>{const _0x5e572d=_0x1466af;assert[_0x5e572d(0x226)](_0x3fe378[_0x5e572d(0x11a)],_0x343c41[_0x5e572d(0x260)]),assert[_0x5e572d(0x226)](_0x4d8e89[_0x5e572d(0x133)],'/'),_0x343c41[_0x5e572d(0x28c)](_0x4cb360);};const _0x35676f=new WebSocket(new URL(_0x1466af(0x5d7)),{'agent':_0x5a8bca});}),it(_0x32f9c9[_0xdb11e3(0x348)],_0x2e4e10=>{const _0x9f479b=_0xdb11e3,_0x1feb2f=new CustomAgent();_0x1feb2f[_0x9f479b(0x374)]=(_0xa5a520,_0xa9eb8b)=>{const _0x449fa9=_0x9f479b;assert['strictEqual'](_0xa9eb8b[_0x449fa9(0x11a)],_0x449fa9(0x6a6)),assert[_0x449fa9(0x226)](_0xa9eb8b[_0x449fa9(0x59c)],0x50),_0x343c41[_0x449fa9(0x28c)](_0x2e4e10);};const _0x188a44=new WebSocket(_0x343c41[_0x9f479b(0x6bd)],{'agent':_0x1feb2f});}),_0x32f9c9[_0xdb11e3(0x282)](it,_0x32f9c9[_0xdb11e3(0x4cf)],_0x179d5e=>{const _0x5ae84c=_0xdb11e3,_0x3e7c44={'Suvki':function(_0xb2d620,_0x2cc19f){const _0x573e88=_0xffb2;return _0x343c41[_0x573e88(0x16a)](_0xb2d620,_0x2cc19f);},'qJBdj':_0x343c41[_0x5ae84c(0x380)],'WsWrz':function(_0x89148e){return _0x89148e();}},_0x240b56=new https[(_0x5ae84c(0x383))]();_0x240b56['addRequest']=(_0x49c138,_0x5837da)=>{const _0x2ef1d6=_0x5ae84c;if(_0x3e7c44['Suvki'](_0x3e7c44[_0x2ef1d6(0x3ff)],_0x3e7c44[_0x2ef1d6(0x3ff)]))assert[_0x2ef1d6(0x226)](_0x5837da[_0x2ef1d6(0x11a)],'localhost'),assert['strictEqual'](_0x5837da[_0x2ef1d6(0x59c)],0x1bb),_0x3e7c44[_0x2ef1d6(0x551)](_0x179d5e);else{_0x10d5e1[_0x2ef1d6(0x226)](_0x3e0cf0,0x3ee),_0xd18d61[_0x2ef1d6(0x226)](_0x4077db,_0x37f81d),_0x51b052=!![];if(_0x3efb56)_0x30f2d3['close'](_0x3233a9);}};const _0x1690f2=new WebSocket(_0x5ae84c(0x1c6),{'agent':_0x240b56});}),describe(_0x32f9c9[_0xdb11e3(0x539)],()=>{const _0x28cc64=_0xdb11e3,_0x32b016={'eWgkA':_0x28cc64(0x5bb),'ONiPT':function(_0x16f412,_0x2a4ffc){return _0x16f412!==_0x2a4ffc;},'aPfKO':_0x343c41[_0x28cc64(0x2cc)],'CRWqM':_0x343c41['pbNBU'],'zfBXM':_0x343c41['nVTif'],'UFzrG':function(_0x1d1cee,_0x52ae25){return _0x1d1cee!==_0x52ae25;},'BWQcW':_0x343c41[_0x28cc64(0x288)],'dRLnS':_0x343c41['BZwyg'],'ppGgv':_0x28cc64(0x59a)};it(_0x343c41['jsHFF'],()=>{const _0xfde538=_0x28cc64,_0x63ae22={'yaMSn':_0xfde538(0x3c7)},_0x26d472=new http[(_0xfde538(0x383))]();let _0x563d6f=0x0,_0x28dd62;_0x26d472[_0xfde538(0x374)]=_0x234d82=>{const _0x3daac6=_0xfde538;assert['strictEqual'](_0x234d82[_0x3daac6(0x256)](_0x63ae22[_0x3daac6(0x117)]),undefined),_0x563d6f++;},_0x28dd62=new WebSocket(_0xfde538(0x3b6),undefined,{'agent':_0x26d472}),_0x28dd62=new WebSocket(_0x343c41[_0xfde538(0x513)],[],{'agent':_0x26d472}),assert[_0xfde538(0x226)](_0x563d6f,0x2);}),_0x343c41[_0x28cc64(0x6fb)](it,'accepts\x20the\x20`maxPayload`\x20option',_0x137a09=>{const _0x101008=_0x28cc64,_0x2c43be={'lseaO':_0x101008(0x194)},_0x3cfdfb=0x5000,_0x835354=new WebSocket['Server']({'perMessageDeflate':!![],'port':0x0},()=>{const _0x12d1fc=_0x101008,_0x4566cb=new WebSocket(_0x12d1fc(0x377)+_0x835354[_0x12d1fc(0x37f)]()[_0x12d1fc(0x59c)],{'perMessageDeflate':!![],'maxPayload':_0x3cfdfb});_0x4566cb['on'](_0x32b016[_0x12d1fc(0x495)],()=>{const _0x13425f=_0x12d1fc;assert[_0x13425f(0x226)](_0x4566cb[_0x13425f(0x3b2)][_0x13425f(0x566)],_0x3cfdfb),assert['strictEqual'](_0x4566cb[_0x13425f(0x3b2)][_0x13425f(0x577)][_0x2c43be[_0x13425f(0x40d)]]['_maxPayload'],_0x3cfdfb),_0x835354[_0x13425f(0x639)](_0x137a09);});});_0x835354['on'](_0x101008(0x35b),_0x43711e=>{const _0x513439=_0x101008;_0x43711e[_0x513439(0x639)]();});}),_0x343c41[_0x28cc64(0x6d6)](it,_0x343c41[_0x28cc64(0x659)],()=>{const _0x415684=_0x28cc64;if(_0x32b016[_0x415684(0x306)](_0x32b016[_0x415684(0x315)],_0x32b016[_0x415684(0x629)]))assert['throws'](()=>new WebSocket(_0x415684(0x3b6),{'protocolVersion':0x3e8}),/^RangeError: Unsupported protocol version: 1000 \(supported versions: 8, 13\)$/);else{const _0x196d65=new _0x1ec2a1(0x5);for(let _0x235c0e=0x0;_0x235c0e<_0x196d65[_0x415684(0x33f)];++_0x235c0e){_0x196d65[_0x235c0e]=_0x235c0e/0x2;}const _0x2b4af2=new _0x47f3d2(_0x415684(0x377)+_0x548688[_0x415684(0x37f)]()['port']);_0x2b4af2['on'](_0x32b016[_0x415684(0x495)],()=>{const _0x50d0ac=_0x415684;_0x2b4af2['send'](_0x196d65[_0x50d0ac(0x376)]),_0x2b4af2[_0x50d0ac(0x639)]();}),_0x2b4af2[_0x415684(0x35f)]=_0x4342d9=>{const _0x5dac52=_0x415684;_0x37ca94['ok'](_0x4342d9[_0x5dac52(0x645)][_0x5dac52(0x3a0)](_0x5440e5[_0x5dac52(0x667)](_0x196d65[_0x5dac52(0x376)]))),_0x31cfd0[_0x5dac52(0x639)](_0x4bd7);};}}),it(_0x343c41[_0x28cc64(0x371)],_0xe514a8=>{const _0x539241=_0x28cc64,_0x14e8db={'vever':_0x539241(0x5bb)};if(_0x32b016[_0x539241(0x5ca)](_0x539241(0x36a),_0x539241(0x650))){const _0x4c0ac9=Buffer[_0x539241(0x667)](_0x539241(0x5fd)),_0x4163da=new WebSocket['Server']({'port':0x0},()=>{const _0x3f899e=_0x539241,_0x35c6df=new WebSocket('ws://localhost:'+_0x4163da[_0x3f899e(0x37f)]()['port'],{'generateMask'(){}});_0x35c6df['on'](_0x14e8db[_0x3f899e(0x217)],()=>{const _0x597353=_0x3f899e;_0x35c6df[_0x597353(0x2bb)](_0x4c0ac9);}),_0x35c6df['on'](_0x3f899e(0x639),(_0x329861,_0x2a1171)=>{const _0x5acb31=_0x3f899e;assert[_0x5acb31(0x226)](_0x329861,0x3ed),assert[_0x5acb31(0x657)](_0x2a1171,EMPTY_BUFFER),_0x4163da[_0x5acb31(0x639)](_0xe514a8);});});_0x4163da['on'](_0x539241(0x35b),_0xdb42f1=>{const _0x518ca7=_0x539241,_0xc26f26=[];_0xdb42f1['_socket'][_0x518ca7(0x51f)](_0x32b016[_0x518ca7(0x582)],_0x52db76=>{const _0x3aa320=_0x518ca7;_0xc26f26[_0x3aa320(0x4e8)](_0x52db76);}),_0xdb42f1['on'](_0x518ca7(0x1df),_0x2f77df=>{const _0x36de62=_0x518ca7;assert['deepStrictEqual'](_0x2f77df,_0x4c0ac9),assert['deepStrictEqual'](Buffer['concat'](_0xc26f26)[_0x36de62(0x2d8)](0x2,0x6),Buffer[_0x36de62(0x5e2)](0x4)),_0xdb42f1['close']();});});}else _0x16db27[_0x539241(0x226)](_0x596c8a,0x3ed),_0x12f3a7['close'](_0x31c01b);}),it(_0x343c41[_0x28cc64(0x712)],_0x1f653f=>{const _0x3df1d4=_0x28cc64,_0x17ee5e={'soKVq':function(_0x2366ce,_0x491d17){return _0x2366ce===_0x491d17;},'jBrYc':_0x32b016[_0x3df1d4(0x4ef)],'RKuor':_0x32b016[_0x3df1d4(0x4f1)],'DjowT':_0x32b016[_0x3df1d4(0x521)],'QpNhb':_0x3df1d4(0x5bb),'jnYjz':function(_0x50aadc,_0x39ea06){const _0x5b3261=_0x3df1d4;return _0x32b016[_0x5b3261(0x5ca)](_0x50aadc,_0x39ea06);},'ZbTGU':'KxQOd'},_0x4bf068=new WebSocket[(_0x3df1d4(0x287))]({'port':0x0},()=>{const _0x38c8ae=_0x3df1d4;if(_0x17ee5e[_0x38c8ae(0x61b)](_0x38c8ae(0x432),_0x38c8ae(0x3f9))){_0x4f7137['strictEqual'](_0x34c3cb,0x3ee),_0x2e21a8['strictEqual'](_0x20e447,_0x2c03b3),_0x5f5270=!![];if(_0xe1ec6e)_0x9e3096[_0x38c8ae(0x639)](_0x4d65e4);}else{const _0x4c2c4c=new WebSocket(_0x38c8ae(0x377)+_0x4bf068[_0x38c8ae(0x37f)]()[_0x38c8ae(0x59c)],{'autoPong':![]});_0x4c2c4c['on'](_0x17ee5e[_0x38c8ae(0x5c7)],()=>{_0x4c2c4c['close']();}),_0x4c2c4c['on'](_0x17ee5e[_0x38c8ae(0x65e)],()=>{const _0x32e7bc=_0x38c8ae;_0x4bf068[_0x32e7bc(0x639)](_0x1f653f);});}});_0x4bf068['on'](_0x3df1d4(0x35b),_0x984cd1=>{const _0x17d0dd=_0x3df1d4,_0x38ab1b={'AezbN':_0x17ee5e[_0x17d0dd(0x601)]};if(_0x17ee5e['jnYjz'](_0x17ee5e[_0x17d0dd(0x46a)],_0x17d0dd(0x644))){const _0x1c18e6=new _0x23af0c(_0x17d0dd(0x377)+_0x57cc57[_0x17d0dd(0x37f)]()[_0x17d0dd(0x59c)]);_0x1c18e6['on'](_0x38ab1b['AezbN'],()=>{_0x1c18e6['pong']('hi',()=>{const _0x27088b=_0xffb2;_0x1c18e6[_0x27088b(0x4be)]('hi',!![]),_0x1c18e6[_0x27088b(0x639)]();});});}else _0x984cd1['on'](_0x17d0dd(0x4be),()=>{const _0x251767=_0x17d0dd;_0x1f653f(new Error(_0x17ee5e[_0x251767(0xe5)]));}),_0x984cd1[_0x17d0dd(0x19f)]();});});});}),_0x32f9c9['TMUgo'](describe,_0x32f9c9[_0x31aca9(0xd6)],()=>{const _0x56e3e4=_0x31aca9,_0x50ac3e={'UKEKz':function(_0xdc60f1,_0x389045){const _0x617341=_0xffb2;return _0x32f9c9[_0x617341(0x1b2)](_0xdc60f1,_0x389045);},'WamHp':_0x32f9c9[_0x56e3e4(0x285)],'MWGiE':_0x56e3e4(0x3ea),'DRoNh':function(_0x4c038c,_0x1eb657,_0x260015){return _0x4c038c(_0x1eb657,_0x260015);},'AoRZO':_0x32f9c9[_0x56e3e4(0x541)],'xaKye':function(_0x5a6d31,_0xd10b72){return _0x5a6d31===_0xd10b72;},'vsTTK':_0x32f9c9[_0x56e3e4(0x21e)]},_0x3f0b65={'CONNECTING':0x0,'OPEN':0x1,'CLOSING':0x2,'CLOSED':0x3};Object[_0x56e3e4(0x1cc)](_0x3f0b65)[_0x56e3e4(0x6ab)](_0x2aaba5=>{const _0x5b65aa=_0x56e3e4,_0x48b4a8={'DOMse':_0x5b65aa(0x4fb),'cNCjq':function(_0x3bef33,_0x13cf7e,_0x4822ce){return _0x3bef33(_0x13cf7e,_0x4822ce);},'LwmZp':_0x50ac3e[_0x5b65aa(0x6ba)]};if(_0x50ac3e[_0x5b65aa(0x5c9)](_0x50ac3e[_0x5b65aa(0x4f0)],_0x5b65aa(0x31e)))describe('`'+_0x2aaba5+'`',()=>{const _0x271fee=_0x5b65aa,_0x366023={'SYieN':'google.com','UsKif':_0x48b4a8[_0x271fee(0x4a9)],'iqZwe':_0x271fee(0x6a6)};_0x48b4a8['cNCjq'](it,_0x271fee(0x12e),()=>{const _0xad8b2f=_0x271fee;if('xGhuD'==='NDMyO')return _0x431390[_0xad8b2f(0x226)](_0x3dc24b[_0xad8b2f(0x11a)],_0x366023[_0xad8b2f(0x5b2)]),_0x3762b4[_0xad8b2f(0x226)](_0x4153ca[_0xad8b2f(0x59c)],'22'),_0x540f90(_0x366023[_0xad8b2f(0x4b5)])(),_0x410f97[_0xad8b2f(0x324)]({'host':_0x366023['iqZwe'],'port':_0x45836e['address']()[_0xad8b2f(0x59c)]});else{const _0x2a5c28=Object[_0xad8b2f(0x5d6)](WebSocket,_0x2aaba5);assert['deepStrictEqual'](_0x2a5c28,{'configurable':![],'enumerable':!![],'value':_0x3f0b65[_0x2aaba5],'writable':![]});}}),it(_0x48b4a8[_0x271fee(0x6b7)],()=>{const _0x87369d=_0x271fee,_0x2105b8=Object[_0x87369d(0x5d6)](WebSocket[_0x87369d(0x3e5)],_0x2aaba5);assert[_0x87369d(0x657)](_0x2105b8,{'configurable':![],'enumerable':!![],'value':_0x3f0b65[_0x2aaba5],'writable':![]});});});else{const _0x4d292d={'wgpnB':function(_0x202663,_0x5bdabe){const _0x1d79d7=_0x5b65aa;return _0x50ac3e[_0x1d79d7(0x3ce)](_0x202663,_0x5bdabe);},'yPPaH':_0x5b65aa(0x5e3),'eGlLv':_0x50ac3e[_0x5b65aa(0x174)],'ooEZV':_0x50ac3e[_0x5b65aa(0x617)],'LcdmG':function(_0x1748bd,_0x53ae67,_0x4bee36){const _0x57da29=_0x5b65aa;return _0x50ac3e[_0x57da29(0x6ef)](_0x1748bd,_0x53ae67,_0x4bee36);}},_0x3bc2c8=new _0xd6ffd1[(_0x5b65aa(0x287))]({'verifyClient':(_0x33ed79,_0x520bf7)=>_0x31df46(_0x520bf7,0x12c,!![]),'port':0x0},()=>{const _0x1cd4c5=_0x5b65aa,_0x9fdae6=new _0x10e566(_0x1cd4c5(0x377)+_0x3bc2c8[_0x1cd4c5(0x37f)]()[_0x1cd4c5(0x59c)]);_0x9fdae6['on'](_0x1cd4c5(0x5bb),()=>_0x438e87(new _0x418757('Unexpected\x20\x27open\x27\x20event'))),_0x9fdae6['on'](_0x4d292d[_0x1cd4c5(0x3a1)],_0xc5a433=>{const _0x22b0f4=_0x1cd4c5;_0x1adc74['ok'](_0x4d292d[_0x22b0f4(0xe4)](_0xc5a433,_0x5cba07)),_0x223ff6[_0x22b0f4(0x226)](_0xc5a433[_0x22b0f4(0x1df)],_0x4d292d['yPPaH']),_0x9fdae6['on'](_0x4d292d[_0x22b0f4(0x2e8)],()=>_0x3bc2c8[_0x22b0f4(0x639)](_0x2c45e2));}),_0x4d292d[_0x1cd4c5(0x308)](_0x4b91c3,()=>_0x9fdae6[_0x1cd4c5(0x2d9)](),0x96);});}});}),_0x32f9c9['CWbxN'](describe,_0x32f9c9['FldkJ'],()=>{const _0x1c3bd3=_0x31aca9,_0xde6158={'MTxTp':'nodebuffer','SYDCX':'heTuW','dvPUR':function(_0x365236,_0x4ead36){return _0x365236!==_0x4ead36;},'yoyWp':_0x32f9c9[_0x1c3bd3(0x4c8)],'NWFCd':_0x32f9c9[_0x1c3bd3(0x6ee)],'ueXwD':function(_0x3630be,_0x2d042e,_0x5ce698){return _0x3630be(_0x2d042e,_0x5ce698);},'GwJcw':_0x1c3bd3(0x19b),'zeCBn':function(_0xa8a454,_0xd950a1){return _0x32f9c9['NqxXp'](_0xa8a454,_0xd950a1);},'EGRBO':'ws://localhost','fxKYw':_0x1c3bd3(0x35b),'ecXoe':_0x32f9c9[_0x1c3bd3(0x378)],'juCyX':function(_0x5dee68){const _0x3cbf76=_0x1c3bd3;return _0x32f9c9[_0x3cbf76(0x110)](_0x5dee68);},'WzrLf':_0x32f9c9[_0x1c3bd3(0x30e)],'OWbHI':_0x32f9c9['AZOUi'],'QQcVW':_0x32f9c9[_0x1c3bd3(0x1e4)],'PzFQu':_0x1c3bd3(0x1e3),'mBmKT':function(_0x379849,_0x7c9268){return _0x32f9c9['sOIyS'](_0x379849,_0x7c9268);},'fxVoE':function(_0x11e601,_0x7ddabb){return _0x32f9c9['HCixD'](_0x11e601,_0x7ddabb);},'kMmFn':_0x1c3bd3(0x5fd),'Myigp':_0x1c3bd3(0x5bb),'mXrFj':function(_0x839a52,_0x350adf){return _0x839a52===_0x350adf;},'KwOpF':_0x32f9c9[_0x1c3bd3(0x285)],'QHdTo':_0x1c3bd3(0x3c5),'kdECd':_0x32f9c9[_0x1c3bd3(0x514)],'cYGiK':'https','KIMqt':'HDvTY'};_0x32f9c9['GJcwQ'](describe,_0x1c3bd3(0x5a7),()=>{const _0x4b1a3f=_0x1c3bd3,_0x527d8f={'rTIVe':_0xde6158[_0x4b1a3f(0x121)],'GLkQI':_0x4b1a3f(0x66e),'azYSk':function(_0x5cbfd4,_0x46c472){const _0x2c2008=_0x4b1a3f;return _0xde6158[_0x2c2008(0x6e1)](_0x5cbfd4,_0x46c472);},'OFQut':function(_0x515214,_0x5ea856){return _0x515214!==_0x5ea856;},'NEpqH':_0xde6158[_0x4b1a3f(0x593)],'mYrOf':_0xde6158[_0x4b1a3f(0x696)],'lRISC':'nodebuffer'};_0xde6158[_0x4b1a3f(0x191)](it,_0x4b1a3f(0x23f),()=>{const _0x7424f9=_0x4b1a3f;if(_0x527d8f[_0x7424f9(0x6f0)]!==_0x527d8f[_0x7424f9(0x6f0)]){const _0x1ed5fe=_0x47a9b4[_0x7424f9(0x5d6)](_0x562562['prototype'],_0x585c12);_0x1b0b70[_0x7424f9(0x657)](_0x1ed5fe,{'configurable':![],'enumerable':!![],'value':_0x51ac78[_0x438d92],'writable':![]});}else{const _0x4a12f2=Object[_0x7424f9(0x5d6)](WebSocket[_0x7424f9(0x3e5)],_0x527d8f[_0x7424f9(0x40f)]);assert[_0x7424f9(0x226)](_0x4a12f2[_0x7424f9(0x3cb)],!![]),assert['strictEqual'](_0x4a12f2[_0x7424f9(0x12c)],!![]),assert['ok'](_0x527d8f[_0x7424f9(0x356)](_0x4a12f2['get'],undefined)),assert['ok'](_0x527d8f[_0x7424f9(0x6a4)](_0x4a12f2[_0x7424f9(0x40b)],undefined));}}),it(_0xde6158[_0x4b1a3f(0x3a8)],()=>{const _0x52cd6c=_0x4b1a3f,_0x5dce0f=new WebSocket(_0x52cd6c(0x3b6),{'agent':new CustomAgent()});assert[_0x52cd6c(0x226)](_0x5dce0f[_0x52cd6c(0x66e)],_0xde6158[_0x52cd6c(0x1dd)]);}),_0xde6158[_0x4b1a3f(0x191)](it,'can\x20be\x20changed\x20to\x20\x27arraybuffer\x27\x20or\x20\x27fragments\x27',()=>{const _0x1a58bb=_0x4b1a3f,_0x4a2e1=new WebSocket('ws://localhost',{'agent':new CustomAgent()});_0x4a2e1[_0x1a58bb(0x66e)]=_0x527d8f[_0x1a58bb(0x5f5)],assert[_0x1a58bb(0x226)](_0x4a2e1[_0x1a58bb(0x66e)],_0x1a58bb(0x27f)),_0x4a2e1[_0x1a58bb(0x66e)]=_0x1a58bb(0x5fd),assert['strictEqual'](_0x4a2e1[_0x1a58bb(0x66e)],_0x527d8f[_0x1a58bb(0x5f5)]),_0x4a2e1[_0x1a58bb(0x66e)]=_0x527d8f[_0x1a58bb(0x671)],assert[_0x1a58bb(0x226)](_0x4a2e1[_0x1a58bb(0x66e)],_0x527d8f[_0x1a58bb(0x671)]),_0x4a2e1['binaryType']='',assert[_0x1a58bb(0x226)](_0x4a2e1['binaryType'],_0x527d8f[_0x1a58bb(0x671)]),_0x4a2e1[_0x1a58bb(0x66e)]=_0x527d8f['lRISC'],assert[_0x1a58bb(0x226)](_0x4a2e1['binaryType'],_0x527d8f['lRISC']);});}),describe('`bufferedAmount`',()=>{const _0x3c5e41=_0x1c3bd3,_0xeb52c6={'IXNAw':_0xde6158[_0x3c5e41(0x250)],'exibL':_0xde6158[_0x3c5e41(0xef)],'fSEsF':function(_0x2f6ae1){return _0xde6158['juCyX'](_0x2f6ae1);},'FYEYb':_0x3c5e41(0x5fd)};it('is\x20enumerable\x20and\x20configurable',()=>{const _0x534e40=_0x3c5e41;if(_0xde6158[_0x534e40(0x5d9)](_0x534e40(0x25b),'OFkfj')){const _0x58ac31=Object['getOwnPropertyDescriptor'](WebSocket[_0x534e40(0x3e5)],_0x534e40(0x40e));assert[_0x534e40(0x226)](_0x58ac31['configurable'],!![]),assert[_0x534e40(0x226)](_0x58ac31['enumerable'],!![]),assert['ok'](_0xde6158[_0x534e40(0x6e1)](_0x58ac31[_0x534e40(0x252)],undefined)),assert['ok'](_0x58ac31[_0x534e40(0x40b)]===undefined);}else{const _0x4c6818=new _0x32b98b['Server']({'port':0x0},()=>{const _0x1ec3da=_0x534e40,_0x482d42=new _0x547330(_0x1ec3da(0x377)+_0x4c6818[_0x1ec3da(0x37f)]()[_0x1ec3da(0x59c)]);_0x482d42['on'](_0x1ec3da(0x3da),_0x2eaa76=>{const _0xc0f3fa=_0x1ec3da;_0x315c43['ok'](_0x2eaa76 instanceof _0x4b56d8['IncomingMessage']),_0x4c6818[_0xc0f3fa(0x639)](_0x4dcc91);});});_0x4c6818['on'](_0xeb52c6[_0x534e40(0x640)],_0x5f450c=>{const _0x30c703=_0x534e40;_0x5f450c[_0x30c703(0x639)]();});}}),it(_0x3c5e41(0x58e),()=>{const _0x39b321=_0x3c5e41;if(_0x39b321(0x2a1)===_0x39b321(0x4c9))_0x5b709b[_0x39b321(0x226)](_0x1b8a9b['host'],_0xeb52c6['exibL']),_0x3b7d8e[_0x39b321(0x226)](_0x149dc3[_0x39b321(0x59c)],0x50),_0xeb52c6['fSEsF'](_0x4e9a41);else{const _0x315cab=new WebSocket(_0xde6158['EGRBO'],{'agent':new CustomAgent()});assert['strictEqual'](_0x315cab['bufferedAmount'],0x0);}}),_0xde6158['ueXwD'](it,'defaults\x20to\x20zero\x20upon\x20\x22open\x22',_0x2f7735=>{const _0x3892d1=_0x3c5e41,_0x3c3bbb={'bhBnH':function(_0x4f0552,_0x25b33d){return _0xde6158['dvPUR'](_0x4f0552,_0x25b33d);},'NTuXL':_0x3892d1(0x461)};if(_0x3892d1(0x6fe)===_0x3892d1(0x6fe)){const _0x4b84c4=new WebSocket[(_0x3892d1(0x287))]({'port':0x0},()=>{const _0xc354ae=_0x3892d1,_0x3da524=new WebSocket(_0xc354ae(0x377)+_0x4b84c4[_0xc354ae(0x37f)]()[_0xc354ae(0x59c)]);_0x3da524['onopen']=()=>{const _0x25c0fc=_0xc354ae;_0x3c3bbb[_0x25c0fc(0x47f)](_0x3c3bbb['NTuXL'],_0x25c0fc(0x461))?(_0xe8a036[_0x25c0fc(0x657)](_0x417b04,_0x1c3638[_0x25c0fc(0x667)](_0x25c0fc(0x197))),_0x14e077['ok'](!_0x96c1dd),_0x21a86d[_0x25c0fc(0x639)](_0x26148a)):(assert['strictEqual'](_0x3da524[_0x25c0fc(0x40e)],0x0),_0x4b84c4[_0x25c0fc(0x639)](_0x2f7735));};});_0x4b84c4['on'](_0x3892d1(0x35b),_0x27598d=>{const _0x3bf8bd=_0x3892d1;_0x27598d[_0x3bf8bd(0x639)]();});}else _0x1def1c[_0x3892d1(0x226)](_0x37cea6,_0x3892d1(0x5fd)),_0xadce95();}),_0xde6158['ueXwD'](it,_0xde6158[_0x3c5e41(0x549)],_0x2d66b2=>{const _0x43b81a=new WebSocket['Server']({'perMessageDeflate':!![],'port':0x0},()=>{const _0x236eba=_0xffb2,_0x56fd15={'duWCS':_0xeb52c6[_0x236eba(0x68a)],'OORUK':_0x236eba(0x711)},_0x3be9fb=new WebSocket('ws://localhost:'+_0x43b81a[_0x236eba(0x37f)]()[_0x236eba(0x59c)],{'perMessageDeflate':{'threshold':0x0}});_0x3be9fb['on'](_0x236eba(0x5bb),()=>{const _0x492cc2=_0x236eba;_0x492cc2(0x1ac)===_0x492cc2(0x22e)?(_0x2a4aad[_0x492cc2(0x226)](_0x49c3a2['readyState'],_0x20b450[_0x492cc2(0x413)]),_0x23194c['close'](_0x252373)):(_0x3be9fb[_0x492cc2(0x2bb)](_0x56fd15[_0x492cc2(0x6e9)]),assert['strictEqual'](_0x3be9fb[_0x492cc2(0x40e)],0x3),_0x3be9fb[_0x492cc2(0x2bb)](_0x56fd15[_0x492cc2(0x6ca)],_0x2f9ff6=>{const _0x301348=_0x492cc2;assert['ifError'](_0x2f9ff6),assert[_0x301348(0x226)](_0x3be9fb[_0x301348(0x40e)],0x0),_0x43b81a['close'](_0x2d66b2);}),assert['strictEqual'](_0x3be9fb[_0x492cc2(0x40e)],0x6));});});_0x43b81a['on'](_0xde6158['fxKYw'],_0x4d19fd=>{const _0x1e4684=_0xffb2;_0x4d19fd[_0x1e4684(0x639)]();});}),_0xde6158[_0x3c5e41(0x191)](it,_0xde6158[_0x3c5e41(0x50f)],_0xc524a5=>{const _0x581c6c=_0x3c5e41,_0x58a970={'vcGXv':function(_0xbda824,_0x41c9b9){return _0xbda824===_0x41c9b9;},'WBiJO':function(_0x26d08b,_0x175aa3){return _0x26d08b>_0x175aa3;}},_0xb227b4=new WebSocket[(_0x581c6c(0x287))]({'port':0x0},()=>{const _0x29e2ce=_0x581c6c,_0x45f419=new WebSocket(_0x29e2ce(0x377)+_0xb227b4[_0x29e2ce(0x37f)]()[_0x29e2ce(0x59c)]);});_0xb227b4['on'](_0xde6158[_0x581c6c(0x250)],_0x45a7d7=>{const _0x1e6c36=_0x581c6c,_0xfd84e9=Buffer['alloc'](0x400,0x3d);while(_0x58a970[_0x1e6c36(0x4fd)](_0x45a7d7[_0x1e6c36(0x40e)],0x0)){_0x45a7d7[_0x1e6c36(0x2bb)](_0xfd84e9);}assert['ok'](_0x58a970[_0x1e6c36(0x3fa)](_0x45a7d7['bufferedAmount'],0x0)),assert[_0x1e6c36(0x226)](_0x45a7d7['bufferedAmount'],_0x45a7d7['_socket'][_0x1e6c36(0x342)]['length']),_0x45a7d7['on'](_0x1e6c36(0x639),()=>_0xb227b4['close'](_0xc524a5)),_0x45a7d7[_0x1e6c36(0x639)]();});});}),_0x32f9c9[_0x1c3bd3(0x30c)](describe,_0x32f9c9['aKzRw'],()=>{const _0x5ae843=_0x1c3bd3,_0x30ac49={'IhxRK':function(_0x42e8f0,_0x2190b0){return _0x42e8f0!==_0x2190b0;},'MPfec':_0x5ae843(0x46c),'ioIGt':function(_0x7e858a,_0x391f37){return _0x7e858a===_0x391f37;},'rQMgu':'open'};_0x32f9c9[_0x5ae843(0x22c)](_0x32f9c9[_0x5ae843(0x336)],_0x5ae843(0x5e6))?(it(_0x32f9c9['qHMDK'],()=>{const _0x3e2403=_0x5ae843;if(_0x30ac49[_0x3e2403(0x1be)](_0x30ac49[_0x3e2403(0x325)],_0x30ac49['MPfec'])){const _0x5efcdd=new _0x16f51d('ws://localhost:'+_0x2325bc[_0x3e2403(0x37f)]()['port']);_0x4fa61b[_0x3e2403(0x226)](_0x5efcdd['readyState'],_0x30865a[_0x3e2403(0x347)]),_0x36e43c['ok'](!_0x5efcdd[_0x3e2403(0x38e)]),_0x5efcdd[_0x3e2403(0x3d3)](),_0x736874['ok'](!_0x5efcdd[_0x3e2403(0x38e)]),_0x5efcdd['on']('open',()=>{const _0x4c9185=_0x3e2403;_0x5efcdd['on'](_0x4c9185(0x639),()=>{const _0x30f27c=_0x4c9185;_0x5dd4fb[_0x30f27c(0x226)](_0x5efcdd[_0x30f27c(0x3cf)],_0x5f22b7['CLOSED']),_0x5efcdd[_0x30f27c(0x3d3)](),_0x230d77['ok'](!_0x5efcdd[_0x30f27c(0x38e)]),_0x2b367c[_0x30f27c(0x639)](_0x3e3413);}),_0x5efcdd[_0x4c9185(0x639)]();});}else{const _0x5e87f7=Object[_0x3e2403(0x5d6)](WebSocket[_0x3e2403(0x3e5)],_0x3e2403(0x40e));assert[_0x3e2403(0x226)](_0x5e87f7[_0x3e2403(0x3cb)],!![]),assert[_0x3e2403(0x226)](_0x5e87f7[_0x3e2403(0x12c)],!![]),assert['ok'](_0x5e87f7[_0x3e2403(0x252)]!==undefined),assert['ok'](_0x30ac49['ioIGt'](_0x5e87f7[_0x3e2403(0x40b)],undefined));}}),it(_0x32f9c9['dqpSu'],_0x6c8e01=>{const _0xf79d42=_0x5ae843,_0x3fb52b={'ktTTy':_0xf79d42(0x639),'bsNJI':_0x30ac49['rQMgu']},_0x1be7e3=new WebSocket['Server']({'port':0x0},()=>{const _0x4092f6=_0xf79d42,_0x46dda8=new WebSocket('ws://localhost:'+_0x1be7e3[_0x4092f6(0x37f)]()[_0x4092f6(0x59c)]);assert[_0x4092f6(0x226)](_0x46dda8[_0x4092f6(0x647)],''),_0x46dda8['on'](_0x3fb52b[_0x4092f6(0x58c)],()=>{const _0x2388dd=_0x4092f6;assert[_0x2388dd(0x226)](_0x46dda8[_0x2388dd(0x647)],''),_0x46dda8['on'](_0x3fb52b[_0x2388dd(0x565)],()=>_0x1be7e3[_0x2388dd(0x639)](_0x6c8e01));});});_0x1be7e3['on']('connection',_0x35267b=>{const _0x2550e7=_0xf79d42;assert['strictEqual'](_0x35267b[_0x2550e7(0x647)],''),_0x35267b['close']();});}),_0x32f9c9[_0x5ae843(0x45e)](it,_0x32f9c9[_0x5ae843(0x5ea)],_0xf4c0bb=>{const _0xffe1ee=_0x5ae843,_0x131210={'pEZON':_0xffe1ee(0x194),'HwsRl':'close','fXvBP':_0x30ac49[_0xffe1ee(0x1ca)]},_0x1569dc=new WebSocket[(_0xffe1ee(0x287))]({'perMessageDeflate':!![],'port':0x0},()=>{const _0x55581a=_0xffe1ee,_0xe443cb=new WebSocket('ws://localhost:'+_0x1569dc[_0x55581a(0x37f)]()[_0x55581a(0x59c)]);assert[_0x55581a(0x226)](_0xe443cb[_0x55581a(0x647)],''),_0xe443cb['on'](_0x131210[_0x55581a(0x64e)],()=>{const _0xb9b251=_0x55581a;assert[_0xb9b251(0x226)](_0xe443cb['extensions'],_0x131210[_0xb9b251(0x6f4)]),_0xe443cb['on'](_0x131210[_0xb9b251(0xcd)],()=>_0x1569dc['close'](_0xf4c0bb));});});_0x1569dc['on']('connection',_0x5a2e48=>{const _0x4352f9=_0xffe1ee;assert[_0x4352f9(0x226)](_0x5a2e48[_0x4352f9(0x647)],_0x131210['pEZON']),_0x5a2e48[_0x4352f9(0x639)]();});})):(_0x51aafb[_0x5ae843(0x226)](_0xeac242[_0x5ae843(0x1e3)],_0x5ae843(0x5fd)),_0x3439fb['close']());}),_0x32f9c9[_0x1c3bd3(0x533)](describe,_0x1c3bd3(0x269),()=>{const _0x22c4ff=_0x1c3bd3,_0x22587d={'eyQNI':function(_0x3ec8fb,_0x164be8){return _0x3ec8fb!==_0x164be8;},'NtqKF':'teUjE','LZEWW':'MxEYX','KAHvd':function(_0x47d692,_0x10919c){return _0x32f9c9['PloUE'](_0x47d692,_0x10919c);},'QBeva':_0x22c4ff(0x603),'YqQcL':'close','FXVYd':'kQHth'};_0x32f9c9['WXFmB'](it,_0x22c4ff(0x23f),()=>{const _0x343e06=_0x22c4ff;if(_0x22587d[_0x343e06(0x70a)]('IbivN',_0x22587d[_0x343e06(0x5ec)])){const _0x24d6de=Object[_0x343e06(0x5d6)](WebSocket['prototype'],_0x343e06(0x38e));assert[_0x343e06(0x226)](_0x24d6de[_0x343e06(0x3cb)],!![]),assert[_0x343e06(0x226)](_0x24d6de[_0x343e06(0x12c)],!![]),assert['ok'](_0x22587d['eyQNI'](_0x24d6de[_0x343e06(0x252)],undefined)),assert['ok'](_0x24d6de[_0x343e06(0x40b)]===undefined);}else _0x35535f['deepStrictEqual'](_0x1794d5,_0x31535b[_0x343e06(0x667)]('hi')),_0x4a3343['ok'](!_0x8afebb),_0x202251[_0x343e06(0x639)](_0x5f47a4);}),_0x32f9c9[_0x22c4ff(0x4d2)](it,'indicates\x20whether\x20the\x20websocket\x20is\x20paused',_0x25ad71=>{const _0x3b1fc5=_0x22c4ff,_0x3bac50={'gREWz':function(_0x4b32c8,_0x38412f){return _0x22587d['KAHvd'](_0x4b32c8,_0x38412f);},'FrosJ':_0x22587d['QBeva'],'DnETY':_0x22587d['YqQcL']};if(_0x22587d[_0x3b1fc5(0x70a)](_0x3b1fc5(0x2b3),_0x22587d[_0x3b1fc5(0x3dc)])){const _0x2a6c0f=new WebSocket[(_0x3b1fc5(0x287))]({'port':0x0},()=>{const _0x533b0a=_0x3b1fc5,_0x1053c3={'BqjRK':function(_0x120381,_0x270974){return _0x120381===_0x270974;},'LOVxd':_0x22587d[_0x533b0a(0x690)]},_0x35980a=new WebSocket(_0x533b0a(0x377)+_0x2a6c0f['address']()[_0x533b0a(0x59c)]);_0x35980a['on'](_0x533b0a(0x5bb),()=>{const _0x1e1800=_0x533b0a;_0x1053c3[_0x1e1800(0x358)](_0x1053c3[_0x1e1800(0x212)],_0x1e1800(0x277))?(_0x35980a[_0x1e1800(0x3d3)](),assert['ok'](_0x35980a[_0x1e1800(0x38e)]),_0x35980a['resume'](),assert['ok'](!_0x35980a['isPaused']),_0x35980a[_0x1e1800(0x639)](),_0x2a6c0f[_0x1e1800(0x639)](_0x25ad71)):(_0x54c6da['ok'](_0x27e01b instanceof _0x1f1125),_0x2c1059[_0x1e1800(0x226)](_0x35b2f2['message'],'WebSocket\x20was\x20closed\x20before\x20the\x20connection\x20was\x20established'),_0x388f94['on'](_0x1e1800(0x639),_0x5b9ea9=>{const _0x1a61d2=_0x1e1800;_0x272b54[_0x1a61d2(0x226)](_0x5b9ea9,0x3ee),_0x326b38[_0x1a61d2(0x639)](_0x5ef33a);}));}),assert['ok'](!_0x35980a[_0x533b0a(0x38e)]);});}else _0x4e4833[_0x3b1fc5(0x639)](),_0x688572[_0x3b1fc5(0x226)](_0x23c8cf['bufferedAmount'],0x0),_0x3df64b[_0x3b1fc5(0x4be)]('hi',_0x1c6294=>{const _0x3c32ef=_0x3b1fc5,_0xba934={'qXuJf':function(_0x41d2cb,_0x114d37){const _0x1a4db7=_0xffb2;return _0x3bac50[_0x1a4db7(0x4c4)](_0x41d2cb,_0x114d37);}};_0x448650['ok'](_0x1c6294 instanceof _0x416fde),_0x69ac51[_0x3c32ef(0x226)](_0x1c6294[_0x3c32ef(0x1df)],_0x3bac50[_0x3c32ef(0x69b)]),_0x2e089b[_0x3c32ef(0x226)](_0x54ca2e['bufferedAmount'],0x2),_0x36c1d7['on'](_0x3bac50[_0x3c32ef(0x58a)],()=>{const _0x52a055=_0x3c32ef;_0xc227b7[_0x52a055(0x4be)](_0x1628b8=>{const _0x4c19b5=_0x52a055;_0x435148['ok'](_0xba934[_0x4c19b5(0x20d)](_0x1628b8,_0x155ae8)),_0x3255ec['strictEqual'](_0x1628b8['message'],_0x4c19b5(0x116)),_0x3aeff6['strictEqual'](_0x1128bd[_0x4c19b5(0x40e)],0x2),_0x46d150[_0x4c19b5(0x639)](_0x81aa9a);});});});});}),_0x32f9c9[_0x1c3bd3(0x654)](describe,_0x32f9c9[_0x1c3bd3(0x5ef)],()=>{const _0x246561=_0x1c3bd3,_0x390118={'BvWXH':_0x32f9c9[_0x246561(0x6f1)],'cBPFR':_0x32f9c9[_0x246561(0x285)],'HQeCe':function(_0x5bf1d9,_0x532070){return _0x5bf1d9!==_0x532070;},'tJNRh':_0x32f9c9[_0x246561(0x534)]};it(_0x246561(0x23f),()=>{const _0x3e0658=_0x246561;if(_0xde6158[_0x3e0658(0x6e1)](_0x3e0658(0x38f),_0xde6158[_0x3e0658(0x579)])){const _0xec4f7a=Object[_0x3e0658(0x5d6)](WebSocket['prototype'],_0xde6158[_0x3e0658(0x289)]);assert[_0x3e0658(0x226)](_0xec4f7a['configurable'],!![]),assert[_0x3e0658(0x226)](_0xec4f7a[_0x3e0658(0x12c)],!![]),assert['ok'](_0xde6158[_0x3e0658(0x5da)](_0xec4f7a[_0x3e0658(0x252)],undefined)),assert['ok'](_0xde6158[_0x3e0658(0x24f)](_0xec4f7a[_0x3e0658(0x40b)],undefined));}else _0x59e185['ok'](_0x3bb684 instanceof _0x3b0037),_0x8b5716['strictEqual'](_0x243d70['code'],_0x390118[_0x3e0658(0x2a7)]),_0x502533[_0x3e0658(0x226)](_0xaba8ae[_0x3e0658(0x1df)],_0x3e0658(0x446)),_0x4ddfe8['on'](_0x390118[_0x3e0658(0x449)],(_0x3a1440,_0x55fbd8)=>{const _0x2d07bf=_0x3e0658;_0x7bfe4[_0x2d07bf(0x226)](_0x3a1440,0x3ee),_0x3d9d22[_0x2d07bf(0x226)](_0x55fbd8,_0x404f90),_0x438a09[_0x2d07bf(0x639)](_0x42c93f);});}),it(_0x246561(0x456),_0x400319=>{const _0x4db9ba=_0x246561,_0x37e2ee={'PZDRo':_0xde6158['kMmFn'],'yhqee':'close','tgFus':_0xde6158['Myigp']},_0x1907c7=new WebSocket[(_0x4db9ba(0x287))]({'port':0x0},()=>{const _0x455c15=_0x4db9ba,_0x5ddf9b=_0x1907c7[_0x455c15(0x37f)]()[_0x455c15(0x59c)],_0x3808c9=new WebSocket(_0x455c15(0x377)+_0x5ddf9b,_0x37e2ee[_0x455c15(0x2ff)]);assert[_0x455c15(0x226)](_0x3808c9[_0x455c15(0x647)],''),_0x3808c9['on'](_0x37e2ee[_0x455c15(0x6db)],()=>{const _0x14323a=_0x455c15;assert[_0x14323a(0x226)](_0x3808c9[_0x14323a(0x1e3)],_0x37e2ee[_0x14323a(0x2ff)]),_0x3808c9['on'](_0x37e2ee[_0x14323a(0x235)],()=>_0x1907c7[_0x14323a(0x639)](_0x400319));});});_0x1907c7['on']('connection',_0x4dc7c5=>{const _0x5253a4=_0x4db9ba;if(_0x390118['HQeCe'](_0x390118[_0x5253a4(0x1d9)],_0x390118[_0x5253a4(0x1d9)])){const _0x3301d7=new _0x3f4d4e[(_0x5253a4(0x287))]({'port':0x0},()=>{const _0x59ed22=_0x5253a4,_0x1c8b75=new _0x3c9217(_0x59ed22(0x377)+_0x3301d7[_0x59ed22(0x37f)]()['port']);_0x1c8b75[_0x59ed22(0x35f)]=_0x3b1afd=>{const _0x283d2e=_0x59ed22;_0x394607['ok'](_0x35ddda[_0x283d2e(0x39d)](_0x3b1afd[_0x283d2e(0x645)])),_0x3301d7[_0x283d2e(0x639)](_0x2138ed);};});_0x3301d7['on'](_0x5253a4(0x35b),_0x4346b7=>{const _0x5f27e7=_0x5253a4;_0x4346b7[_0x5f27e7(0x2bb)](new _0xe43721(0x1000)),_0x4346b7[_0x5f27e7(0x639)]();});}else assert[_0x5253a4(0x226)](_0x4dc7c5[_0x5253a4(0x1e3)],_0x5253a4(0x5fd)),_0x4dc7c5[_0x5253a4(0x639)]();});});}),describe(_0x32f9c9[_0x1c3bd3(0x5eb)],()=>{const _0x23afd6=_0x1c3bd3,_0x45af64={'qYlHs':_0x32f9c9['MIIPN'],'rqvHP':'open','IKSlB':function(_0x1cbac7,_0x3c268c,_0x3d35a3){const _0x5cdd4a=_0xffb2;return _0x32f9c9[_0x5cdd4a(0x584)](_0x1cbac7,_0x3c268c,_0x3d35a3);},'KMobg':_0x32f9c9['IPHut']};it(_0x32f9c9[_0x23afd6(0x2ca)],()=>{const _0x50dd23=_0x23afd6,_0x54bf6b=Object[_0x50dd23(0x5d6)](WebSocket[_0x50dd23(0x3e5)],_0x50dd23(0x3cf));assert['strictEqual'](_0x54bf6b['configurable'],!![]),assert[_0x50dd23(0x226)](_0x54bf6b[_0x50dd23(0x12c)],!![]),assert['ok'](_0xde6158['mBmKT'](_0x54bf6b['get'],undefined)),assert['ok'](_0xde6158[_0x50dd23(0x57e)](_0x54bf6b[_0x50dd23(0x40b)],undefined));}),it(_0x23afd6(0x499),()=>{const _0x1945f9=_0x23afd6,_0x513862=new WebSocket(_0xde6158[_0x1945f9(0x1da)],{'agent':new CustomAgent()});assert[_0x1945f9(0x226)](_0x513862['readyState'],WebSocket[_0x1945f9(0x347)]);}),_0x32f9c9[_0x23afd6(0x535)](it,_0x32f9c9[_0x23afd6(0x2ed)],_0x6f6c50=>{const _0x191374=_0x23afd6,_0x17bbd3={'JKczG':_0x191374(0x559),'BCxSJ':function(_0x277338){const _0x47202a=_0x191374;return _0xde6158[_0x47202a(0x17a)](_0x277338);}},_0x4f9ac2=new WebSocket['Server']({'port':0x0},()=>{const _0x4a590a=_0x191374;if(_0x45af64['qYlHs']===_0x4a590a(0x45f)){const _0x241fe5=new WebSocket(_0x4a590a(0x377)+_0x4f9ac2[_0x4a590a(0x37f)]()[_0x4a590a(0x59c)]);_0x241fe5['on'](_0x45af64[_0x4a590a(0x5b7)],()=>{const _0x44d0ab=_0x4a590a;assert[_0x44d0ab(0x226)](_0x241fe5[_0x44d0ab(0x3cf)],WebSocket[_0x44d0ab(0x5e9)]),_0x241fe5[_0x44d0ab(0x639)]();}),_0x241fe5['on']('close',()=>_0x4f9ac2[_0x4a590a(0x639)](_0x6f6c50));}else _0x2cad1a[_0x4a590a(0x226)](_0x24c787[_0x4a590a(0x256)]('sec-websocket-origin'),_0x17bbd3[_0x4a590a(0x35a)]),_0x17bbd3[_0x4a590a(0x3a3)](_0x3e17c3);});}),it(_0x32f9c9['mBQYJ'],_0x6f5d95=>{const _0x56527c=_0x23afd6,_0x17433a={'DboHC':_0xde6158[_0x56527c(0x1da)],'SEsXH':_0xde6158['KwOpF']};if(_0x56527c(0x4de)!==_0x56527c(0x2fc)){const _0x17f6ea=new WebSocket[(_0x56527c(0x287))]({'port':0x0},()=>{const _0x12c230=_0x56527c,_0x44635b=new WebSocket(_0x12c230(0x377)+_0x17f6ea['address']()[_0x12c230(0x59c)]);_0x44635b['on']('close',()=>{const _0x377390=_0x12c230;assert[_0x377390(0x226)](_0x44635b[_0x377390(0x3cf)],WebSocket['CLOSED']),_0x17f6ea[_0x377390(0x639)](_0x6f5d95);}),_0x44635b['on'](_0x45af64['rqvHP'],()=>_0x44635b[_0x12c230(0x639)](0x3e9));});}else{const _0x5ac1aa=new _0x589d91(_0x17433a[_0x56527c(0x131)],{'agent':new _0x40de13()});_0x5ac1aa['on'](_0x17433a[_0x56527c(0x1b4)],_0x338bd0),_0x5ac1aa['onclose']=_0x5bd5c8;let _0x23d6de=_0x5ac1aa['listeners'](_0x56527c(0x639));_0x2e0132[_0x56527c(0x226)](_0x23d6de[_0x56527c(0x33f)],0x2),_0x20cf5b[_0x56527c(0x226)](_0x23d6de[0x0],_0x1bf7b8),_0xef3107[_0x56527c(0x226)](_0x23d6de[0x1][_0x59ea9b],_0xed070b),_0x5ac1aa[_0x56527c(0x604)]=_0x434bea,_0x23d6de=_0x5ac1aa['listeners'](_0x17433a[_0x56527c(0x1b4)]),_0x47cb8c[_0x56527c(0x226)](_0x23d6de[_0x56527c(0x33f)],0x2),_0x27c5e5[_0x56527c(0x226)](_0x23d6de[0x0],_0x15b05e),_0x4f71fa[_0x56527c(0x226)](_0x23d6de[0x1][_0x8e51b0],_0x57a97c);}}),it(_0x32f9c9[_0x23afd6(0x202)],_0x4a806c=>{const _0x1c4e23=_0x23afd6;if(_0xde6158['zeCBn'](_0x1c4e23(0x3c5),_0xde6158['QHdTo'])){const _0x58109f=new WebSocket[(_0x1c4e23(0x287))]({'port':0x0},()=>{const _0x3409a8=_0x1c4e23,_0x24ebdd=new WebSocket(_0x3409a8(0x377)+_0x58109f[_0x3409a8(0x37f)]()[_0x3409a8(0x59c)]);_0x24ebdd['on'](_0x3409a8(0x639),()=>{const _0x3f9d13=_0x3409a8;assert[_0x3f9d13(0x226)](_0x24ebdd[_0x3f9d13(0x3cf)],WebSocket[_0x3f9d13(0x413)]),_0x58109f[_0x3f9d13(0x639)](_0x4a806c);}),_0x24ebdd['on'](_0x3409a8(0x5bb),()=>_0x24ebdd[_0x3409a8(0x2d9)]());});}else _0x45af64[_0x1c4e23(0xc6)](_0xbc5c74,_0x45af64[_0x1c4e23(0x662)],()=>{const _0x221ec6=_0x1c4e23;_0x5e8293[_0x221ec6(0x639)](),_0x420eab[_0x221ec6(0x639)](_0x4c3d98);});});}),describe(_0x32f9c9['xiDYP'],()=>{const _0x290179=_0x1c3bd3;it(_0x32f9c9['qHMDK'],()=>{const _0x5ba376=_0xffb2,_0x53af9f=Object[_0x5ba376(0x5d6)](WebSocket[_0x5ba376(0x3e5)],_0xde6158[_0x5ba376(0x43a)]);assert[_0x5ba376(0x226)](_0x53af9f[_0x5ba376(0x3cb)],!![]),assert[_0x5ba376(0x226)](_0x53af9f[_0x5ba376(0x12c)],!![]),assert['ok'](_0xde6158['dvPUR'](_0x53af9f['get'],undefined)),assert['ok'](_0x53af9f[_0x5ba376(0x40b)]===undefined);}),_0x32f9c9['setDD'](it,_0x32f9c9[_0x290179(0x370)],()=>{const _0x4766e0=_0x290179,_0x1d253d=new Map([['ws','ws'],[_0x4766e0(0x317),'wss'],['http','ws'],[_0xde6158[_0x4766e0(0x56d)],'wss']]);for(const [_0x1a3538,_0x28fa74]of _0x1d253d){if(_0x4766e0(0x373)!==_0xde6158[_0x4766e0(0x39f)])_0x560899['strictEqual'](_0x5df50f,0x3ed),_0x1399fb[_0x4766e0(0x657)](_0x5cf54d,_0xa65bd0),_0x589f68['close'](_0x2f8680);else{const _0x4581b9=new WebSocket(_0x1a3538+_0x4766e0(0x3e2),{'lookup'(){}});assert[_0x4766e0(0x226)](_0x4581b9[_0x4766e0(0xcf)],_0x28fa74+_0x4766e0(0x3e2));}}});});}),describe(_0x32f9c9[_0x31aca9(0x154)],()=>{const _0x501da9=_0x31aca9,_0x11f056={'iJwFU':_0x501da9(0x211),'ZxBoD':_0x501da9(0x639),'BtriJ':_0x501da9(0x5bb),'vcbzT':_0x32f9c9[_0x501da9(0x63e)],'YawGQ':_0x32f9c9[_0x501da9(0x155)]};_0x32f9c9[_0x501da9(0x45e)](it,_0x501da9(0x4e7),_0x4201b9=>{const _0x5010d1=_0x501da9,_0x3fa7be={'qhJum':_0x5010d1(0x472)};let _0x255e7d=![],_0xa1909f=![];const _0x578c5b=new WebSocket[(_0x5010d1(0x287))]({'port':0x0},()=>{const _0x262b4f=_0x5010d1,_0x5cf0d2={'akPGr':_0x3fa7be[_0x262b4f(0x451)],'YEIjq':_0x262b4f(0x639)},_0x4a7f31=new WebSocket(_0x262b4f(0x377)+_0x578c5b[_0x262b4f(0x37f)]()[_0x262b4f(0x59c)]);_0x4a7f31['on'](_0x262b4f(0x3ea),_0x41f926=>{const _0x609f5f=_0x262b4f;assert['ok'](_0x41f926 instanceof RangeError),assert[_0x609f5f(0x226)](_0x41f926[_0x609f5f(0x48d)],_0x5cf0d2[_0x609f5f(0x466)]),assert[_0x609f5f(0x226)](_0x41f926[_0x609f5f(0x1df)],_0x609f5f(0x36d)),_0x4a7f31['on'](_0x5cf0d2[_0x609f5f(0x64a)],(_0x86e177,_0x411b4e)=>{const _0x1b73d0=_0x609f5f;assert[_0x1b73d0(0x226)](_0x86e177,0x3ee),assert[_0x1b73d0(0x226)](_0x411b4e,EMPTY_BUFFER),_0x255e7d=!![];if(_0xa1909f)_0x578c5b[_0x1b73d0(0x639)](_0x4201b9);});});});_0x578c5b['on'](_0x32f9c9['ogWhE'],_0x2a0ce6=>{const _0x2a44c2=_0x5010d1;_0x2a0ce6['on'](_0x2a44c2(0x639),(_0x361aed,_0x29ac7f)=>{const _0x2bdaa1=_0x2a44c2;assert[_0x2bdaa1(0x226)](_0x361aed,0x3ea),assert[_0x2bdaa1(0x657)](_0x29ac7f,EMPTY_BUFFER),_0xa1909f=!![];if(_0x255e7d)_0x578c5b['close'](_0x4201b9);}),_0x2a0ce6[_0x2a44c2(0x70f)][_0x2a44c2(0x3b4)](Buffer[_0x2a44c2(0x667)]([0x85,0x0]));});}),it(_0x32f9c9['xxJRR'],function(_0x4f818c){const _0x5c0bca=_0x501da9,_0xf692dd={'gEJKZ':_0x32f9c9[_0x5c0bca(0x37b)]};eval('JSON[\'stringify\']({ \'safe\': !![] });');if(_0x32f9c9['gwHBi'](process[_0x5c0bca(0xfa)][_0x5c0bca(0x490)],0x5d))return this[_0x5c0bca(0x1e7)]();const _0x3dfb87=new WebSocket[(_0x5c0bca(0x287))]({'port':0x0},()=>{const _0x21264b=_0x5c0bca,_0x2b28f4={'yjyiG':_0x21264b(0x187),'YzeGC':_0x11f056[_0x21264b(0x228)],'Svqsn':_0x11f056[_0x21264b(0x5ae)]},_0x392540=new WebSocket('ws://localhost:'+_0x3dfb87['address']()[_0x21264b(0x59c)]);_0x392540['on'](_0x11f056[_0x21264b(0x56a)],()=>{const _0x4bec57=_0x21264b;_0x392540[_0x4bec57(0x70f)]['on'](_0xf692dd['gEJKZ'],_0x3c1d14=>{const _0x57a830=_0x4bec57;'cpOkr'===_0x2b28f4[_0x57a830(0x118)]?(assert['ok'](_0x3c1d14 instanceof Error),assert['strictEqual'](_0x3c1d14[_0x57a830(0x48d)],_0x2b28f4[_0x57a830(0x442)]),_0x392540['on'](_0x2b28f4[_0x57a830(0x310)],(_0x3d822c,_0x33634a)=>{const _0x18b8c2=_0x57a830;assert[_0x18b8c2(0x226)](_0x3d822c,0x3ee),assert[_0x18b8c2(0x226)](_0x33634a,EMPTY_BUFFER),_0x3dfb87['close'](_0x4f818c);})):(_0x4108be['strictEqual'](_0x4db92d[_0x57a830(0x3cf)],_0x373c8c[_0x57a830(0x413)]),_0x250ae4['ping']('hi'),_0x4c66ad[_0x57a830(0x226)](_0x381f74[_0x57a830(0x40e)],0x4),_0x5e7c4a['ping'](),_0x14a30e[_0x57a830(0x226)](_0x4ec0d1['bufferedAmount'],0x4),_0x479149());}),_0x3dfb87[_0x4bec57(0x27d)][_0x4bec57(0x46e)]()[_0x4bec57(0x6a7)]()[_0x4bec57(0x6a3)][_0x4bec57(0x70f)][_0x4bec57(0xf1)]();});});}),it('emits\x20an\x20\x27upgrade\x27\x20event',_0x15ac6d=>{const _0x3f2c3a=_0x501da9,_0x441f82={'bsVcg':_0x32f9c9[_0x3f2c3a(0x542)]},_0xd5dbd=new WebSocket[(_0x3f2c3a(0x287))]({'port':0x0},()=>{const _0x15bd61=_0x3f2c3a,_0x21f334=new WebSocket(_0x15bd61(0x377)+_0xd5dbd[_0x15bd61(0x37f)]()[_0x15bd61(0x59c)]);_0x21f334['on'](_0x441f82['bsVcg'],_0x441312=>{const _0x2cf438=_0x15bd61;assert['ok'](_0x441312 instanceof http[_0x2cf438(0x6c9)]),_0xd5dbd[_0x2cf438(0x639)](_0x15ac6d);});});_0xd5dbd['on'](_0x32f9c9[_0x3f2c3a(0x63e)],_0x4160f3=>{const _0x5d0a91=_0x3f2c3a;_0x4160f3[_0x5d0a91(0x639)]();});}),it(_0x32f9c9[_0x501da9(0x53b)],_0x427789=>{const _0x147a2a=_0x501da9,_0x1fc950=new WebSocket[(_0x147a2a(0x287))]({'port':0x0},()=>{const _0x208374=_0x147a2a,_0x48e0ae=new WebSocket(_0x208374(0x377)+_0x1fc950[_0x208374(0x37f)]()[_0x208374(0x59c)]);_0x48e0ae['on'](_0x208374(0x19f),()=>_0x1fc950['close'](_0x427789));});_0x1fc950['on'](_0x32f9c9[_0x147a2a(0x63e)],_0x17248c=>{const _0x10bd18=_0x147a2a;_0x17248c['ping'](),_0x17248c[_0x10bd18(0x639)]();});}),it(_0x32f9c9[_0x501da9(0x1ff)],_0x2c6370=>{const _0x40140b=_0x501da9,_0x36a42c=new WebSocket[(_0x40140b(0x287))]({'port':0x0},()=>{const _0x46c81b=_0x40140b,_0x5bd853=new WebSocket(_0x46c81b(0x377)+_0x36a42c['address']()[_0x46c81b(0x59c)]);_0x5bd853['on'](_0x46c81b(0x4be),()=>_0x36a42c[_0x46c81b(0x639)](_0x2c6370));});_0x36a42c['on'](_0x11f056['vcbzT'],_0x2fc3d3=>{const _0x3befed=_0x40140b;_0x2fc3d3[_0x3befed(0x4be)](),_0x2fc3d3['close']();});}),_0x32f9c9[_0x501da9(0x2f7)](it,_0x32f9c9[_0x501da9(0x323)],_0x19fbe5=>{const _0x4d6014=_0x501da9,_0x3a179c={'hTPXX':_0x4d6014(0x1b5),'GlqDP':'upgrade','lDqAC':function(_0x437171,_0x1e426d){return _0x437171!==_0x1e426d;},'KmglR':function(_0x4b8344,_0x3b67d9){const _0x227d60=_0x4d6014;return _0x32f9c9[_0x227d60(0x168)](_0x4b8344,_0x3b67d9);}},_0x38352d=http[_0x4d6014(0x683)](),_0x272eb7=new WebSocket[(_0x4d6014(0x287))]({'noServer':!![],'path':_0x32f9c9[_0x4d6014(0x238)]});_0x38352d[_0x4d6014(0x1c3)](_0x32f9c9[_0x4d6014(0x542)],(_0x26d357,_0x38ba56)=>{const _0x28026f=_0x4d6014;_0x38ba56[_0x28026f(0x5e1)](_0x3a179c[_0x28026f(0x507)]),_0x38352d['once'](_0x3a179c[_0x28026f(0x6a2)],(_0x5507c4,_0x29e4af,_0x57cbf7)=>{_0x272eb7['handleUpgrade'](_0x5507c4,_0x29e4af,_0x57cbf7,_0x55c889=>{const _0x3146d1=_0xffb2;_0x55c889[_0x3146d1(0x639)]();});});}),_0x38352d['listen'](()=>{const _0x2b869d=_0x4d6014,_0x50a084=_0x38352d[_0x2b869d(0x37f)]()[_0x2b869d(0x59c)],_0x217390=new WebSocket(_0x2b869d(0x377)+_0x50a084,{'followRedirects':!![]});_0x217390['on'](_0x11f056[_0x2b869d(0x6ec)],(_0x4c024a,_0x3a2527)=>{const _0x1d94db=_0x2b869d;if(_0x3a179c['lDqAC'](_0x1d94db(0x34f),'TXSbC'))assert[_0x1d94db(0x226)](_0x217390[_0x1d94db(0x54b)],0x1),assert[_0x1d94db(0x226)](_0x4c024a,_0x1d94db(0x377)+_0x50a084+_0x1d94db(0x4b8)),assert['ok'](_0x3a179c['KmglR'](_0x3a2527,http[_0x1d94db(0x366)])),_0x217390['on'](_0x1d94db(0x639),_0x35f72a=>{const _0x2f81d3=_0x1d94db;assert['strictEqual'](_0x35f72a,0x3ed),_0x38352d[_0x2f81d3(0x639)](_0x19fbe5);});else{const _0x222f1b={'bqgTX':_0x1d94db(0x5bb)},_0x50753f=new _0x1a86a3[(_0x1d94db(0x287))]({'port':0x0},()=>{const _0x6dc471=_0x1d94db,_0xe3e139=new _0x197d11(_0x6dc471(0x377)+_0x50753f[_0x6dc471(0x37f)]()[_0x6dc471(0x59c)]);_0x5de42f['strictEqual'](_0xe3e139[_0x6dc471(0x3cf)],_0x3b7348[_0x6dc471(0x347)]),_0x23ebd9['ok'](!_0xe3e139[_0x6dc471(0x38e)]),_0xe3e139[_0x6dc471(0x12d)](),_0xe3e139['on'](_0x222f1b[_0x6dc471(0x33a)],()=>{const _0x587280=_0x6dc471;_0xe3e139[_0x587280(0x3d3)](),_0x289104['ok'](_0xe3e139[_0x587280(0x38e)]),_0xe3e139['on'](_0x587280(0x639),()=>{const _0x2c2eea=_0x587280;_0x4cd086[_0x2c2eea(0x226)](_0xe3e139[_0x2c2eea(0x3cf)],_0x3c6d1a[_0x2c2eea(0x413)]),_0xe3e139[_0x2c2eea(0x12d)](),_0x12d62b['ok'](_0xe3e139[_0x2c2eea(0x38e)]),_0x50753f[_0x2c2eea(0x639)](_0x2b0280);}),_0xe3e139['terminate']();});});}});});});}),_0x32f9c9[_0x31aca9(0x343)](describe,_0x32f9c9[_0x31aca9(0x69d)],()=>{const _0x156f11=_0x31aca9,_0x39f7f6={'oxkcm':function(_0x4bd320,_0x386187){const _0x5c0e09=_0xffb2;return _0x32f9c9[_0x5c0e09(0x2d5)](_0x4bd320,_0x386187);},'MfwxR':'HTTP/1.1\x20101\x20Switching\x20Protocols\x0d\x0a','hinxX':'Connection:\x20Upgrade\x0d\x0a','NRkZw':_0x156f11(0x468),'PVTFx':function(_0xb97d1f,_0x3bbe14){return _0xb97d1f!==_0x3bbe14;},'cPjDl':_0x156f11(0x3da),'sZbWz':_0x156f11(0x3ea),'wrdPE':_0x156f11(0x5e1),'bMZAq':function(_0x103314,_0x1535bc){return _0x103314+_0x1535bc;},'AfYke':function(_0x2ba23f,_0x41c013){return _0x2ba23f+_0x41c013;},'YBcsM':function(_0x3ca1ce,_0x3e92a2){return _0x3ca1ce+_0x3e92a2;},'dlQdD':_0x32f9c9[_0x156f11(0x184)],'RIkav':_0x156f11(0x678),'JdUbm':function(_0x5d2841,_0x9ca22b){const _0xdb2c98=_0x156f11;return _0x32f9c9[_0xdb2c98(0x5d3)](_0x5d2841,_0x9ca22b);},'opZTU':_0x32f9c9[_0x156f11(0x67b)],'pzNxg':function(_0x2f1b10){return _0x2f1b10();},'FeIqE':'sec-websocket-key','WdwBN':'base64','ujHPK':function(_0x4acee3,_0x31a578){return _0x32f9c9['Nmxzo'](_0x4acee3,_0x31a578);},'idTJh':function(_0x389ccb,_0x26a789){return _0x389ccb+_0x26a789;},'RZdkx':'Connection:\x20close\x0d\x0a','bvOVw':_0x32f9c9[_0x156f11(0x54c)],'PkEIg':_0x32f9c9['jihxa'],'oEFES':function(_0x268502,_0x4a1211){return _0x268502+_0x4a1211;},'NFvcu':_0x156f11(0x66b),'eVNaN':function(_0x3ef9bd,_0x12dd5c){return _0x3ef9bd+_0x12dd5c;},'bNqeZ':_0x32f9c9[_0x156f11(0x653)],'iIlzJ':function(_0x418e34,_0x1d7fae){const _0x2eb512=_0x156f11;return _0x32f9c9[_0x2eb512(0x67f)](_0x418e34,_0x1d7fae);},'xsUYj':function(_0x1aabe5,_0x31394b){return _0x1aabe5+_0x31394b;},'vrFeL':function(_0x2e6164,_0x14f87f){return _0x2e6164+_0x14f87f;},'LZyyp':_0x32f9c9[_0x156f11(0x396)],'UDkSM':function(_0xc03402,_0x46b2a2){const _0x458f46=_0x156f11;return _0x32f9c9[_0x458f46(0x1b2)](_0xc03402,_0x46b2a2);},'ugssE':_0x156f11(0x6f3),'TmwOx':_0x156f11(0x4b2),'zHFAo':function(_0x4d8c13,_0x127e98){return _0x4d8c13+_0x127e98;},'osnCj':function(_0x4a72ce,_0x5b0e9a){return _0x4a72ce+_0x5b0e9a;},'DMCoo':function(_0x26856c,_0xa57f4e){const _0x31f5ac=_0x156f11;return _0x32f9c9[_0x31f5ac(0x5f4)](_0x26856c,_0xa57f4e);},'eFAjY':function(_0x2e6240,_0x4bd5c6){return _0x2e6240+_0x4bd5c6;},'cKkgp':function(_0x58d20d,_0xb6ec8f){const _0x16ce7f=_0x156f11;return _0x32f9c9[_0x16ce7f(0x53a)](_0x58d20d,_0xb6ec8f);},'paRpe':_0x156f11(0x6dd),'BvCHM':function(_0x5965f7,_0x378df8){return _0x5965f7===_0x378df8;},'EzdRc':_0x156f11(0x439),'JPcEx':function(_0x3d7631,_0x495cc8){return _0x3d7631 instanceof _0x495cc8;},'faGoP':_0x32f9c9[_0x156f11(0x285)],'ySbrt':_0x156f11(0x5fd),'khGNF':_0x32f9c9[_0x156f11(0x59e)],'EhSWq':_0x32f9c9[_0x156f11(0x225)],'NfUsZ':_0x156f11(0x598),'pAWeL':function(_0x328ae6,_0x3bc11f){const _0x3b2cda=_0x156f11;return _0x32f9c9[_0x3b2cda(0x294)](_0x328ae6,_0x3bc11f);},'UQxSl':'google.com','spEGk':_0x32f9c9[_0x156f11(0x6c2)],'xbtCe':function(_0xb59b,_0x49df09){return _0xb59b===_0x49df09;},'edhyG':'ws://google.com:22/foo','sZtJM':_0x32f9c9[_0x156f11(0x481)],'zixaj':_0x32f9c9[_0x156f11(0x238)],'vWQnc':_0x32f9c9[_0x156f11(0x4d3)],'eBzQr':_0x156f11(0x2f8),'qUAhV':_0x156f11(0x563),'GHKcr':function(_0x5a1a29,_0x5c854a){return _0x5a1a29 instanceof _0x5c854a;},'zPjYM':'yBFkf','HnUJR':_0x156f11(0x504),'aXzwU':function(_0x4a389e,_0x1931b7,_0x931d31){const _0x392936=_0x156f11;return _0x32f9c9[_0x392936(0x282)](_0x4a389e,_0x1931b7,_0x931d31);},'RKEYo':_0x32f9c9[_0x156f11(0x47e)],'BYaVT':_0x32f9c9[_0x156f11(0x300)],'SALhu':_0x156f11(0x15e),'iiuvV':function(_0x30d18d,_0x46ebaf){const _0x4eaa19=_0x156f11;return _0x32f9c9[_0x4eaa19(0x344)](_0x30d18d,_0x46ebaf);},'jkuRT':'HTTP/1.1\x20302\x20Found\x0d\x0a','YNczM':_0x32f9c9[_0x156f11(0x60c)],'KrXvH':function(_0x1a7eff,_0x48a792){const _0x48bfa3=_0x156f11;return _0x32f9c9[_0x48bfa3(0x486)](_0x1a7eff,_0x48a792);},'xoWXo':_0x32f9c9[_0x156f11(0x4b0)],'elTzo':_0x32f9c9[_0x156f11(0x354)],'bsSYD':_0x156f11(0x35b),'fHSLD':'drops\x20the\x20Authorization,\x20Cookie\x20and\x20Host\x20headers\x20(1/4)','Mkgmp':_0x156f11(0x4c3),'lAddz':_0x32f9c9['JSHoS'],'IagHP':function(_0x3533f8,_0x16330f,_0x1fba49){return _0x3533f8(_0x16330f,_0x1fba49);},'ZeEqL':_0x156f11(0x6e4)},_0x186c29=http['createServer']();_0x32f9c9[_0x156f11(0x6fa)](beforeEach,_0x553329=>_0x186c29['listen'](0x0,_0x553329)),afterEach(_0x2560d0=>_0x186c29['close'](_0x2560d0)),_0x32f9c9[_0x156f11(0x584)](it,_0x156f11(0x30a),_0x221f60=>{const _0x2382ce=_0x156f11,_0x5b4d90={'Kxtfe':'end','MxJOE':function(_0x501c13,_0x1229d8){return _0x32f9c9['Ruuly'](_0x501c13,_0x1229d8);},'bCuXL':function(_0x3230e9,_0xfbd374){return _0x3230e9+_0xfbd374;},'RUdjy':function(_0x372d9e,_0x3fb7db){const _0x4d1255=_0xffb2;return _0x32f9c9[_0x4d1255(0xc7)](_0x372d9e,_0x3fb7db);},'kmNDU':function(_0x5f4007,_0x517394){return _0x5f4007===_0x517394;},'URbmU':_0x32f9c9[_0x2382ce(0x475)],'ODsKu':function(_0x18e31d,_0xebad30){return _0x18e31d instanceof _0xebad30;},'FUAAH':function(_0xaa45a5,_0x3edba2){const _0x4d6122=_0x2382ce;return _0x32f9c9[_0x4d6122(0x144)](_0xaa45a5,_0x3edba2);},'slSPD':_0x32f9c9[_0x2382ce(0x149)]};_0x186c29['once']('upgrade',(_0x395a4e,_0x19e8e6)=>{const _0x5a236c=_0x2382ce;_0x19e8e6['on'](_0x5b4d90[_0x5a236c(0x453)],_0x19e8e6['end']),_0x19e8e6[_0x5a236c(0x3b4)](_0x5b4d90['MxJOE'](_0x5b4d90[_0x5a236c(0x41b)](_0x5b4d90['RUdjy'](_0x5a236c(0x4e2),'Connection:\x20Upgrade\x0d\x0a'),_0x5a236c(0x6e5)),'\x0d\x0a'));});const _0x195172=new WebSocket(_0x2382ce(0x377)+_0x186c29[_0x2382ce(0x37f)]()['port']);_0x195172[_0x2382ce(0x525)]['maxHeadersCount']=0x1,_0x195172['on'](_0x32f9c9[_0x2382ce(0x542)],_0x590ef4=>{const _0x3ebae3=_0x2382ce;_0x5b4d90[_0x3ebae3(0xd7)](_0x5b4d90[_0x3ebae3(0x29b)],_0x3ebae3(0x140))?(assert['deepStrictEqual'](_0x590ef4['headers'],{'connection':_0x3ebae3(0x62f)}),_0x195172['on'](_0x3ebae3(0x3ea),_0x5968d3=>{const _0x160f8d=_0x3ebae3;_0x5b4d90[_0x160f8d(0x379)](_0x5b4d90[_0x160f8d(0x5e8)],_0x160f8d(0x142))?(assert['ok'](_0x5b4d90[_0x160f8d(0x203)](_0x5968d3,Error)),assert['strictEqual'](_0x5968d3[_0x160f8d(0x1df)],_0x160f8d(0x585)),_0x221f60()):_0x3629c8[_0x160f8d(0x561)](_0x271c8d,_0x1ac0ef,_0x13c05b,(_0x2ad9e0,_0x23d44d)=>{const _0x1ddf7e=_0x160f8d;_0x1ed9a0[_0x1ddf7e(0x226)](_0x23d44d[_0x1ddf7e(0x5c3)][_0x1ddf7e(0x28e)],_0x3cd92b),_0x2ad9e0[_0x1ddf7e(0x639)]();});})):(_0x418164[_0x3ebae3(0x226)](_0x6f4d4d['headers'][_0x3ebae3(0x11a)],_0x3ebae3(0x518)),_0x11b3a9['handleUpgrade'](_0x2e4ed0,_0x3e1830,_0x35067c,_0x53abf2));});}),it(_0x156f11(0x2b1),_0x4b4715=>{const _0x5bfb10=_0x156f11,_0x445efa={'vGzYV':function(_0x470840){return _0x470840();}};if(_0x39f7f6[_0x5bfb10(0x17b)](_0x5bfb10(0x2eb),_0x5bfb10(0x2eb)))_0x203406[_0x5bfb10(0x639)](_0x14e5ff);else{_0x186c29[_0x5bfb10(0x1c3)](_0x39f7f6[_0x5bfb10(0x36b)],(_0x4099bb,_0x547b1f)=>{const _0x12fbdc=_0x5bfb10;_0x547b1f['on'](_0x12fbdc(0x5e1),_0x547b1f[_0x12fbdc(0x5e1)]),_0x547b1f['write'](_0x39f7f6[_0x12fbdc(0x503)](_0x39f7f6[_0x12fbdc(0x619)]+_0x39f7f6[_0x12fbdc(0x4b7)]+_0x39f7f6[_0x12fbdc(0x3a2)],'\x0d\x0a'));});const _0x2e6d99=new WebSocket('ws://localhost:'+_0x186c29[_0x5bfb10(0x37f)]()['port']);_0x2e6d99['on'](_0x39f7f6['sZbWz'],_0x42cc21=>{const _0x3afb99=_0x5bfb10;assert['ok'](_0x42cc21 instanceof Error),assert[_0x3afb99(0x226)](_0x42cc21[_0x3afb99(0x1df)],_0x3afb99(0x585)),_0x445efa[_0x3afb99(0x1c4)](_0x4b4715);});}}),it(_0x32f9c9[_0x156f11(0x42a)],_0x12fdc6=>{const _0x1e790d=_0x156f11;_0x186c29[_0x1e790d(0x1c3)](_0x1e790d(0x3da),(_0x574b77,_0x3ca140)=>{const _0x49290e=_0x1e790d;_0x3ca140['on'](_0x39f7f6[_0x49290e(0x237)],_0x3ca140['end']),_0x3ca140[_0x49290e(0x3b4)](_0x39f7f6[_0x49290e(0x363)](_0x39f7f6[_0x49290e(0x57b)](_0x39f7f6[_0x49290e(0x6b0)](_0x49290e(0x4e2),_0x39f7f6[_0x49290e(0x2b4)])+_0x39f7f6[_0x49290e(0x4b7)],_0x49290e(0x31f)),'\x0d\x0a'));});const _0x25c2c2=new WebSocket(_0x1e790d(0x377)+_0x186c29[_0x1e790d(0x37f)]()[_0x1e790d(0x59c)]);_0x25c2c2['on'](_0x32f9c9['uEvVY'],_0x1c7d40=>{const _0x3607f0=_0x1e790d;_0x39f7f6[_0x3607f0(0x531)]===_0x3607f0(0x678)?(assert['ok'](_0x39f7f6['JdUbm'](_0x1c7d40,Error)),assert['strictEqual'](_0x1c7d40[_0x3607f0(0x1df)],_0x39f7f6['opZTU']),_0x39f7f6[_0x3607f0(0x70c)](_0x12fdc6)):(_0x29ed99[_0x3607f0(0x226)](_0x466a56[_0x3607f0(0x5c3)][_0x3607f0(0x28e)],_0x5e8ae9),_0x53476d[_0x3607f0(0x226)](_0x27cffd[_0x3607f0(0x5c3)][_0x3607f0(0x1af)],_0x32fdc8),_0x3c5505[_0x3607f0(0x226)](_0x3c72ae[_0x3607f0(0x5c3)]['host'],_0x3607f0(0xdb)+_0x2c28df[_0x3607f0(0x37f)]()[_0x3607f0(0x59c)]),_0x2ac348['close']());});}),_0x32f9c9[_0x156f11(0x2f7)](it,_0x32f9c9[_0x156f11(0x2a8)],_0x687a13=>{const _0x3e4f4b=_0x156f11;_0x186c29[_0x3e4f4b(0x1c3)](_0x3e4f4b(0x3da),(_0x30c539,_0xf2ba80)=>{const _0x3119a9=_0x3e4f4b,_0x4bc9be=crypto[_0x3119a9(0x275)](_0x3119a9(0x4b2))[_0x3119a9(0x43e)](_0x30c539[_0x3119a9(0x5c3)][_0x39f7f6[_0x3119a9(0x42e)]]+GUID)[_0x3119a9(0x5fe)](_0x39f7f6[_0x3119a9(0x6d0)]);_0xf2ba80['end'](_0x39f7f6[_0x3119a9(0x49c)](_0x39f7f6[_0x3119a9(0x363)](_0x3119a9(0x4e2)+'Upgrade:\x20websocket\x0d\x0a',_0x39f7f6[_0x3119a9(0x4b7)])+(_0x3119a9(0x65d)+_0x4bc9be+'\x0d\x0a'),'\x0d\x0a'));});const _0x5d298b=new WebSocket(_0x3e4f4b(0x377)+_0x186c29['address']()[_0x3e4f4b(0x59c)]);_0x5d298b['on'](_0x32f9c9[_0x3e4f4b(0x285)],(_0x274f6c,_0x23c8f3)=>{const _0xab784f=_0x3e4f4b;assert[_0xab784f(0x226)](_0x274f6c,0x3ee),assert[_0xab784f(0x226)](_0x23c8f3,EMPTY_BUFFER),_0x687a13();});}),_0x32f9c9[_0x156f11(0x2f7)](it,_0x156f11(0x2b7),_0x47f776=>{const _0x3a48d9=_0x156f11,_0x135557={'TtJdi':_0x39f7f6['PkEIg'],'HAPot':_0x3a48d9(0x36d),'pLuuj':_0x3a48d9(0x5a4)};if(_0x3a48d9(0x4b9)===_0x3a48d9(0x1ce))_0x40e458['ok'](_0x2f32a2 instanceof _0x55b9f0),_0x271db4[_0x3a48d9(0x226)](_0x4759dc[_0x3a48d9(0x48d)],_0x135557[_0x3a48d9(0x3aa)]),_0x42c6d4[_0x3a48d9(0x226)](_0x438b77['message'],_0x135557[_0x3a48d9(0x206)]),_0xb407b0['on'](_0x3a48d9(0x639),(_0x2a2ccc,_0x476f34)=>{const _0x1ec2e4=_0x3a48d9;_0x17eba0[_0x1ec2e4(0x226)](_0x2a2ccc,0x3ee),_0x461d08[_0x1ec2e4(0x226)](_0x476f34,_0x42b1dd),_0x25bbf7=!![];if(_0xdaebae)_0x1f18fa[_0x1ec2e4(0x639)](_0x4edb9b);});else{_0x186c29[_0x3a48d9(0x1c3)](_0x39f7f6['cPjDl'],(_0xf0c69c,_0xe52ba6)=>{const _0x2595a4=_0x3a48d9;_0xe52ba6[_0x2595a4(0x5e1)](_0x39f7f6[_0x2595a4(0x699)](_0x39f7f6['YBcsM'](_0x2595a4(0x41f)+http[_0x2595a4(0x4c7)][0x191]+'\x0d\x0a',_0x39f7f6[_0x2595a4(0x6d4)])+_0x39f7f6[_0x2595a4(0x2a0)]+('Content-Length:\x20'+http[_0x2595a4(0x4c7)][0x191][_0x2595a4(0x33f)]+'\x0d\x0a'),'\x0d\x0a'));});const _0x23bd73=new WebSocket('ws://localhost:'+_0x186c29[_0x3a48d9(0x37f)]()['port']);_0x23bd73['on']('open',()=>_0x47f776(new Error(_0x3a48d9(0x1f7)))),_0x23bd73['on'](_0x39f7f6[_0x3a48d9(0x46d)],_0x30aaa4=>{const _0x48d64b=_0x3a48d9;assert['ok'](_0x30aaa4 instanceof Error),assert[_0x48d64b(0x226)](_0x30aaa4['message'],_0x135557[_0x48d64b(0x3cc)]),_0x47f776();});}}),it(_0x32f9c9[_0x156f11(0x67d)],_0x4d83a9=>{const _0x266ba8=_0x156f11,_0x137123={'JKyZn':function(_0x4c6802){return _0x32f9c9['ESvbo'](_0x4c6802);},'XFjQq':_0x266ba8(0x645),'LwlYe':_0x266ba8(0x5e1)};if(_0x32f9c9[_0x266ba8(0x42b)](_0x266ba8(0x29e),_0x32f9c9[_0x266ba8(0x666)])){_0x186c29[_0x266ba8(0x1c3)](_0x266ba8(0x3da),(_0x244ccd,_0x346fc3)=>{const _0x2d9a0f=_0x266ba8;_0x346fc3[_0x2d9a0f(0x5e1)](_0x39f7f6['oEFES'](_0x39f7f6[_0x2d9a0f(0x503)](_0x39f7f6[_0x2d9a0f(0x6b0)](_0x2d9a0f(0x41f)+http[_0x2d9a0f(0x4c7)][0x191]+'\x0d\x0a',_0x39f7f6[_0x2d9a0f(0x6d4)])+_0x2d9a0f(0x1e9),_0x39f7f6[_0x2d9a0f(0x6c0)]),'\x0d\x0a')+_0x2d9a0f(0x5fd));});const _0x139a0c=new WebSocket(_0x266ba8(0x377)+_0x186c29[_0x266ba8(0x37f)]()[_0x266ba8(0x59c)]);_0x139a0c['on'](_0x32f9c9[_0x266ba8(0x653)],()=>_0x4d83a9(new Error(_0x266ba8(0x1f7)))),_0x139a0c['on'](_0x266ba8(0x3ea),()=>_0x4d83a9(new Error(_0x266ba8(0x29a)))),_0x139a0c['on'](_0x32f9c9[_0x266ba8(0x62d)],(_0x35485c,_0x2e311c)=>{const _0x27f75a=_0x266ba8;assert[_0x27f75a(0x226)](_0x2e311c[_0x27f75a(0x6ff)],0x191);let _0x12cd88='';_0x2e311c['on'](_0x137123[_0x27f75a(0x600)],_0x354d98=>{_0x12cd88+=_0x354d98;}),_0x2e311c['on'](_0x137123[_0x27f75a(0x1e6)],()=>{const _0x1bf3db=_0x27f75a;assert[_0x1bf3db(0x226)](_0x12cd88,_0x1bf3db(0x5fd)),_0x137123[_0x1bf3db(0x30f)](_0x4d83a9);});});}else{const _0x432b61=_0x266ba8(0x638)[_0x266ba8(0x2e5)]('|');let _0x4ddb38=0x0;while(!![]){switch(_0x432b61[_0x4ddb38++]){case'0':_0x1bc26f[_0x266ba8(0x226)](_0x437078[_0x266ba8(0x54b)],0x1);continue;case'1':_0x3d7e3b[_0x266ba8(0x639)](_0x405cf6);continue;case'2':_0x1cb50b['strictEqual'](_0x2c4ac0[_0x266ba8(0xcf)],'ws://localhost:'+_0x236df4+'/');continue;case'3':_0x4995f2[_0x266ba8(0x639)]();continue;case'4':_0x2bbc8[_0x266ba8(0x226)](_0x3bbab6,0x3ed);continue;}break;}}}),_0x32f9c9[_0x156f11(0x584)](it,'request\x20can\x20be\x20aborted\x20when\x20unexpected\x20response\x20is\x20sent\x20by\x20server',_0x2ade3d=>{const _0x341c97=_0x156f11,_0x2ae6ab={'HkqvM':_0x39f7f6[_0x341c97(0x293)]};_0x186c29[_0x341c97(0x1c3)]('upgrade',(_0x28fbf7,_0x368f95)=>{const _0x505460=_0x341c97;_0x368f95['end'](_0x39f7f6[_0x505460(0x29f)](_0x505460(0x41f)+http[_0x505460(0x4c7)][0x191]+'\x0d\x0a'+_0x505460(0x2e1)+_0x39f7f6[_0x505460(0x2a0)]+_0x39f7f6['NFvcu']+'\x0d\x0a',_0x505460(0x5fd)));});const _0x5724b0=new WebSocket('ws://localhost:'+_0x186c29[_0x341c97(0x37f)]()[_0x341c97(0x59c)]);_0x5724b0['on'](_0x39f7f6[_0x341c97(0x293)],()=>_0x2ade3d(new Error(_0x341c97(0x1f7)))),_0x5724b0['on'](_0x39f7f6[_0x341c97(0x46d)],()=>_0x2ade3d(new Error('Unexpected\x20\x27error\x27\x20event'))),_0x5724b0['on']('unexpected-response',(_0x4b970e,_0x82fb2c)=>{const _0x793a91=_0x341c97;if(_0x793a91(0x204)===_0x793a91(0x150)){const _0x13aacd=new _0x5be6b7(_0x793a91(0x377)+_0x1ed656['address']()[_0x793a91(0x59c)]);_0x13aacd['on'](_0x2ae6ab[_0x793a91(0x2b0)],()=>{const _0x3891ac=_0x793a91;_0x13aacd[_0x3891ac(0x2bb)]('hi',_0x183323=>{const _0x4e00bc=_0x3891ac;_0x474edf[_0x4e00bc(0x2a5)](_0x183323),_0x18fb46['close'](_0x2ed60c);});});}else assert[_0x793a91(0x226)](_0x82fb2c['statusCode'],0x191),_0x82fb2c['on'](_0x793a91(0x5e1),_0x2ade3d),_0x4b970e[_0x793a91(0x706)]();});}),it(_0x156f11(0x218),_0x195d1b=>{const _0x2416d0=_0x156f11;_0x186c29['once'](_0x39f7f6[_0x2416d0(0x36b)],(_0x109839,_0x334b52)=>_0x334b52['on'](_0x2416d0(0x5e1),_0x334b52[_0x2416d0(0x5e1)]));const _0x589f8f=_0x186c29[_0x2416d0(0x37f)]()[_0x2416d0(0x59c)],_0x5bdc13=new WebSocket(_0x2416d0(0x377)+_0x589f8f,{'handshakeTimeout':0x64});_0x5bdc13['on'](_0x39f7f6['bNqeZ'],()=>_0x195d1b(new Error(_0x2416d0(0x1f7)))),_0x5bdc13['on'](_0x39f7f6[_0x2416d0(0x46d)],_0xee4b3f=>{const _0x8bfd98=_0x2416d0;assert['ok'](_0x39f7f6[_0x8bfd98(0x482)](_0xee4b3f,Error)),assert[_0x8bfd98(0x226)](_0xee4b3f[_0x8bfd98(0x1df)],_0x8bfd98(0x1f5)),_0x195d1b();});}),_0x32f9c9[_0x156f11(0x3ba)](it,_0x32f9c9[_0x156f11(0x34b)],_0x4c947f=>{const _0x350083=_0x156f11;_0x186c29[_0x350083(0x1c3)](_0x39f7f6['cPjDl'],(_0x4fc120,_0x1d4cc9)=>{const _0x3b3e21=_0x350083,_0x1e4e9e=crypto[_0x3b3e21(0x275)]('sha1')[_0x3b3e21(0x43e)](_0x39f7f6[_0x3b3e21(0x707)](_0x4fc120['headers'][_0x39f7f6[_0x3b3e21(0x42e)]],GUID))[_0x3b3e21(0x5fe)](_0x39f7f6[_0x3b3e21(0x6d0)]);_0x1d4cc9[_0x3b3e21(0x5e1)](_0x39f7f6[_0x3b3e21(0x4ac)](_0x39f7f6[_0x3b3e21(0xc9)](_0x39f7f6['vrFeL'](_0x3b3e21(0x4e2),_0x39f7f6[_0x3b3e21(0x2b4)])+_0x3b3e21(0x159)+(_0x3b3e21(0x65d)+_0x1e4e9e+'\x0d\x0a'),_0x3b3e21(0x6e2)),'\x0d\x0a'));});const _0x5c21e0=new WebSocket('ws://localhost:'+_0x186c29[_0x350083(0x37f)]()['port'],{'perMessageDeflate':![]});_0x5c21e0['on'](_0x350083(0x5bb),()=>_0x4c947f(new Error('Unexpected\x20\x27open\x27\x20event'))),_0x5c21e0['on'](_0x350083(0x3ea),_0x2e1195=>{const _0x2e02fb=_0x350083;if(_0x2e02fb(0x2ec)!==_0x39f7f6[_0x2e02fb(0x2ae)]){const _0x559eb5=new _0x13f33a(_0x2e02fb(0x377)+_0x1649f9['address']()[_0x2e02fb(0x59c)],{'perMessageDeflate':![]});_0x559eb5['on'](_0x2e02fb(0x5bb),()=>{const _0x5d8494=_0x2e02fb;_0x559eb5['send']('hi',{'compress':!![]}),_0x559eb5[_0x5d8494(0x639)]();}),_0x559eb5['on']('message',(_0x353a85,_0x553ccc)=>{const _0x2d13dc=_0x2e02fb;_0x16c8b8[_0x2d13dc(0x657)](_0x353a85,_0x4ea8a0[_0x2d13dc(0x667)]('hi')),_0xbf9e13['ok'](!_0x553ccc),_0x592f92[_0x2d13dc(0x639)](_0x2e6887);});}else assert['ok'](_0x39f7f6[_0x2e02fb(0x268)](_0x2e1195,Error)),assert[_0x2e02fb(0x226)](_0x2e1195['message'],_0x2e02fb(0x6ed)+_0x39f7f6['ugssE']),_0x5c21e0['on'](_0x2e02fb(0x639),()=>_0x4c947f());});}),_0x32f9c9[_0x156f11(0x4d2)](it,'fails\x20if\x20the\x20Sec-WebSocket-Extensions\x20header\x20is\x20invalid\x20(1/2)',_0xbfb41d=>{const _0x18dfca=_0x156f11,_0x28485c={'uckEA':_0x32f9c9[_0x18dfca(0x285)]};_0x186c29[_0x18dfca(0x1c3)](_0x32f9c9[_0x18dfca(0x542)],(_0x26ca1d,_0x537655)=>{const _0x14410a=_0x18dfca,_0x36372f=crypto['createHash'](_0x39f7f6['TmwOx'])[_0x14410a(0x43e)](_0x39f7f6[_0x14410a(0x5f7)](_0x26ca1d[_0x14410a(0x5c3)][_0x14410a(0x673)],GUID))['digest'](_0x39f7f6[_0x14410a(0x6d0)]);_0x537655['end'](_0x39f7f6['osnCj'](_0x39f7f6[_0x14410a(0x363)](_0x39f7f6[_0x14410a(0x395)](_0x39f7f6['eFAjY'](_0x39f7f6[_0x14410a(0xdd)](_0x39f7f6[_0x14410a(0x619)],_0x14410a(0x6e5)),_0x39f7f6['hinxX']),_0x14410a(0x65d)+_0x36372f+'\x0d\x0a'),_0x39f7f6[_0x14410a(0x443)]),'\x0d\x0a'));});const _0x5b3ef4=new WebSocket(_0x18dfca(0x377)+_0x186c29[_0x18dfca(0x37f)]()[_0x18dfca(0x59c)]);_0x5b3ef4['on'](_0x32f9c9['MfBtf'],()=>_0xbfb41d(new Error('Unexpected\x20\x27open\x27\x20event'))),_0x5b3ef4['on'](_0x18dfca(0x3ea),_0x3e0527=>{const _0x3519dd=_0x18dfca;assert['ok'](_0x3e0527 instanceof Error),assert['strictEqual'](_0x3e0527[_0x3519dd(0x1df)],_0x3519dd(0x138)),_0x5b3ef4['on'](_0x28485c[_0x3519dd(0x3bf)],()=>_0xbfb41d());});}),_0x32f9c9[_0x156f11(0x58f)](it,_0x156f11(0x312),_0x158bc6=>{const _0x2b8342=_0x156f11,_0x4c1290={'OpPVj':function(_0x264dfb,_0x59b328){return _0x32f9c9['KPIPL'](_0x264dfb,_0x59b328);},'Vveot':_0x32f9c9[_0x2b8342(0x209)],'hOZsA':function(_0x12ba68,_0x33d284){return _0x12ba68+_0x33d284;},'VFhZN':_0x32f9c9[_0x2b8342(0x357)],'FHTEh':_0x2b8342(0x15a)};_0x186c29['once'](_0x2b8342(0x3da),(_0x464d76,_0x315b1d)=>{const _0x5165ce=_0x2b8342,_0x514aef=crypto['createHash'](_0x5165ce(0x4b2))['update'](_0x4c1290['OpPVj'](_0x464d76[_0x5165ce(0x5c3)][_0x5165ce(0x673)],GUID))['digest'](_0x4c1290[_0x5165ce(0x1f1)]);_0x315b1d[_0x5165ce(0x5e1)](_0x4c1290[_0x5165ce(0x523)](_0x4c1290[_0x5165ce(0x5e4)](_0x5165ce(0x4e2)+_0x5165ce(0x6e5),_0x4c1290['VFhZN'])+('Sec-WebSocket-Accept:\x20'+_0x514aef+'\x0d\x0a')+_0x5165ce(0xe3)+_0x4c1290[_0x5165ce(0x53d)],'\x0d\x0a'));});const _0x68f8ea=new WebSocket(_0x2b8342(0x377)+_0x186c29[_0x2b8342(0x37f)]()[_0x2b8342(0x59c)]);_0x68f8ea['on']('open',()=>_0x158bc6(new Error('Unexpected\x20\x27open\x27\x20event'))),_0x68f8ea['on'](_0x32f9c9[_0x2b8342(0x37b)],_0x47bc2f=>{const _0x51ffe0=_0x2b8342;_0x39f7f6['BvCHM'](_0x51ffe0(0x439),_0x39f7f6['EzdRc'])?(assert['ok'](_0x47bc2f instanceof Error),assert[_0x51ffe0(0x226)](_0x47bc2f[_0x51ffe0(0x1df)],_0x51ffe0(0x138)),_0x68f8ea['on'](_0x51ffe0(0x639),()=>_0x158bc6())):_0x576ce9['on'](_0x51ffe0(0x1df),(_0xe6fef0,_0x48107b)=>{const _0x1613d5=_0x51ffe0;_0x2170df['ok'](_0x48107b),_0x138546[_0x1613d5(0x2bb)](_0xe6fef0);});});}),it(_0x156f11(0x49d),_0x2d7605=>{const _0x2b79cf=_0x156f11,_0x125a81={'WVDRV':'sha1','XWGiZ':function(_0x426a1b,_0x13ff5b){const _0x517796=_0xffb2;return _0x32f9c9[_0x517796(0x5af)](_0x426a1b,_0x13ff5b);},'IdjoR':_0x32f9c9[_0x2b79cf(0x2cf)],'nMteU':_0x32f9c9['GKchw'],'RtkxU':'Upgrade:\x20websocket\x0d\x0a','XQLBh':_0x32f9c9['uctry'],'ADuLt':_0x2b79cf(0x643)};_0x186c29[_0x2b79cf(0x1c3)]('upgrade',(_0xff20c3,_0x2f7a31)=>{const _0x1797c5=_0x2b79cf,_0x387486=crypto[_0x1797c5(0x275)](_0x125a81[_0x1797c5(0x4d8)])[_0x1797c5(0x43e)](_0x125a81[_0x1797c5(0x2a9)](_0xff20c3[_0x1797c5(0x5c3)][_0x125a81['IdjoR']],GUID))[_0x1797c5(0x5fe)](_0x1797c5(0x62b));_0x2f7a31['end'](_0x125a81[_0x1797c5(0x2a9)](_0x125a81[_0x1797c5(0x4e6)]+_0x125a81[_0x1797c5(0x393)]+_0x1797c5(0x159)+(_0x1797c5(0x65d)+_0x387486+'\x0d\x0a'),_0x125a81[_0x1797c5(0x26c)])+'\x0d\x0a');});const _0x39bf84=new WebSocket(_0x2b79cf(0x377)+_0x186c29[_0x2b79cf(0x37f)]()[_0x2b79cf(0x59c)]);_0x39bf84['on'](_0x2b79cf(0x5bb),()=>_0x2d7605(new Error(_0x2b79cf(0x1f7)))),_0x39bf84['on'](_0x32f9c9['uEvVY'],_0x368b63=>{const _0x1db5d4=_0x2b79cf;assert['ok'](_0x368b63 instanceof Error),assert[_0x1db5d4(0x226)](_0x368b63['message'],_0x125a81[_0x1db5d4(0x251)]),_0x39bf84['on'](_0x1db5d4(0x639),()=>_0x2d7605());});}),_0x32f9c9['LWBqO'](it,_0x156f11(0x3d1),_0xe4dc6c=>{const _0xf9b6a6=_0x156f11,_0x4725b9={'jGJmn':'sha1','nMRnl':function(_0x324f37,_0x445024){const _0x4b38d3=_0xffb2;return _0x32f9c9[_0x4b38d3(0x5f4)](_0x324f37,_0x445024);},'WAimc':_0xf9b6a6(0x673),'CwkvQ':_0x32f9c9[_0xf9b6a6(0x209)],'smzNR':function(_0x1e6b03,_0x33018a){const _0x44666e=_0xf9b6a6;return _0x32f9c9[_0x44666e(0xc7)](_0x1e6b03,_0x33018a);},'cJAXB':_0x32f9c9[_0xf9b6a6(0x2e6)],'BcMUG':'Connection:\x20Upgrade\x0d\x0a'};_0x186c29[_0xf9b6a6(0x1c3)](_0x32f9c9[_0xf9b6a6(0x542)],(_0x4e7b52,_0x2fed2a)=>{const _0x48365e=_0xf9b6a6,_0xc3a7f6=crypto[_0x48365e(0x275)](_0x4725b9[_0x48365e(0x2a6)])[_0x48365e(0x43e)](_0x4725b9[_0x48365e(0x21d)](_0x4e7b52['headers'][_0x4725b9[_0x48365e(0x4ec)]],GUID))[_0x48365e(0x5fe)](_0x4725b9[_0x48365e(0x677)]);_0x2fed2a[_0x48365e(0x5e1)](_0x4725b9[_0x48365e(0x21d)](_0x4725b9['smzNR'](_0x4725b9[_0x48365e(0x19d)](_0x4725b9['cJAXB'],'Upgrade:\x20websocket\x0d\x0a')+_0x4725b9[_0x48365e(0x4fe)]+(_0x48365e(0x65d)+_0xc3a7f6+'\x0d\x0a'),'Sec-WebSocket-Extensions:\x20permessage-deflate,foo\x0d\x0a'),'\x0d\x0a'));});const _0x47df50=new WebSocket(_0xf9b6a6(0x377)+_0x186c29[_0xf9b6a6(0x37f)]()['port']);_0x47df50['on'](_0x32f9c9[_0xf9b6a6(0x653)],()=>_0xe4dc6c(new Error(_0xf9b6a6(0x1f7)))),_0x47df50['on'](_0x32f9c9['uEvVY'],_0x1bb48b=>{const _0x4c9e9b=_0xf9b6a6;assert['ok'](_0x39f7f6[_0x4c9e9b(0x2cd)](_0x1bb48b,Error)),assert[_0x4c9e9b(0x226)](_0x1bb48b[_0x4c9e9b(0x1df)],'Server\x20indicated\x20an\x20extension\x20that\x20was\x20not\x20requested'),_0x47df50['on'](_0x39f7f6[_0x4c9e9b(0x50d)],()=>_0xe4dc6c());});}),_0x32f9c9[_0x156f11(0x1ab)](it,_0x32f9c9[_0x156f11(0x3a6)],_0x5e7cae=>{const _0x2801fa=_0x156f11,_0x16b5a4={'qFDAj':function(_0x2f2b09,_0x10304c){return _0x2f2b09+_0x10304c;},'cgohr':_0x32f9c9['rTtVG'],'JKgZz':_0x2801fa(0x3da),'upkkg':_0x32f9c9['GVSWn'],'IBhFo':_0x32f9c9[_0x2801fa(0x285)],'XQMHo':function(_0x1c86df,_0xdf9da1){return _0x1c86df!==_0xdf9da1;},'OWmbI':_0x2801fa(0x3c2),'nxJdT':_0x2801fa(0x349)},_0x5533c7=new WebSocket[(_0x2801fa(0x287))]({'server':_0x186c29});_0x5533c7['on'](_0x32f9c9[_0x2801fa(0x200)],_0x31f8b3=>{const _0x142382=_0x2801fa;if(_0x16b5a4[_0x142382(0x276)](_0x16b5a4[_0x142382(0x55b)],_0x16b5a4[_0x142382(0x34c)]))_0x31f8b3[_0x142382(0x4e8)](_0x142382(0x60f));else{const _0xb7b1ad={'tOvZd':function(_0x4e41bc,_0x23a5f7){const _0x383c91=_0x142382;return _0x16b5a4[_0x383c91(0x2f1)](_0x4e41bc,_0x23a5f7);},'dwkzZ':_0x16b5a4['cgohr']},_0x55d9b7=_0x9c7c49[_0x142382(0x37f)]()[_0x142382(0x59c)];_0x56561b['once'](_0x16b5a4[_0x142382(0x13b)],(_0x4c9d88,_0x2e5368)=>{const _0x43ad60=_0x142382;_0x2e5368[_0x43ad60(0x5e1)](_0xb7b1ad[_0x43ad60(0xc8)](_0xb7b1ad[_0x43ad60(0x408)],_0x43ad60(0x575)+_0x55d9b7+_0x43ad60(0x1c5)));});const _0x3265e8={'authorization':'Basic\x20Zm9vOmJhcg==','cookie':'foo=bar','host':'foo'},_0x494a62=new _0x1a5a26(_0x142382(0x377)+_0x196b4c['address']()[_0x142382(0x59c)],{'followRedirects':!![],'headers':_0x3265e8}),_0x30533d=_0x494a62[_0x142382(0x525)];_0x41bd78[_0x142382(0x226)](_0x30533d['getHeader']('Authorization'),_0x3265e8[_0x142382(0x28e)]),_0x3cec16['strictEqual'](_0x30533d[_0x142382(0x256)](_0x16b5a4[_0x142382(0x215)]),_0x3265e8[_0x142382(0x1af)]),_0x36669d[_0x142382(0x226)](_0x30533d['getHeader'](_0x142382(0x6c7)),_0x3265e8[_0x142382(0x11a)]),_0x494a62['on'](_0x16b5a4[_0x142382(0x45c)],_0x3073d=>{const _0x438f6a=_0x142382;_0x258b1e[_0x438f6a(0x226)](_0x3073d,0x3ed),_0x52cc4d[_0x438f6a(0x226)](_0x494a62[_0x438f6a(0xcf)],_0x438f6a(0x377)+_0x55d9b7+'/'),_0x2f3ee2[_0x438f6a(0x226)](_0x494a62['_redirects'],0x1),_0x1c1f6c[_0x438f6a(0x639)](_0x91cda4);});}});const _0x5ec3f8=new WebSocket('ws://localhost:'+_0x186c29[_0x2801fa(0x37f)]()[_0x2801fa(0x59c)]);_0x5ec3f8['on']('open',()=>_0x5e7cae(new Error(_0x2801fa(0x1f7)))),_0x5ec3f8['on'](_0x32f9c9[_0x2801fa(0x37b)],_0x2af312=>{const _0x296c9e=_0x2801fa;assert['ok'](_0x2af312 instanceof Error),assert[_0x296c9e(0x226)](_0x2af312[_0x296c9e(0x1df)],_0x296c9e(0x48b)),_0x5ec3f8['on'](_0x296c9e(0x639),()=>_0x5533c7[_0x296c9e(0x639)](_0x5e7cae));});}),_0x32f9c9[_0x156f11(0x3ba)](it,'fails\x20if\x20server\x20sends\x20an\x20invalid\x20subprotocol\x20(1/2)',_0x1dbfad=>{const _0x16c7f9=_0x156f11,_0x12f00a={'ktXCs':_0x39f7f6[_0x16c7f9(0x50d)]},_0x4f382d=new WebSocket[(_0x16c7f9(0x287))]({'handleProtocols':()=>'baz','server':_0x186c29}),_0x41c946=new WebSocket(_0x16c7f9(0x377)+_0x186c29[_0x16c7f9(0x37f)]()['port'],[_0x39f7f6[_0x16c7f9(0x278)],_0x39f7f6[_0x16c7f9(0x183)]]);_0x41c946['on'](_0x16c7f9(0x5bb),()=>_0x1dbfad(new Error(_0x16c7f9(0x1f7)))),_0x41c946['on'](_0x16c7f9(0x3ea),_0x441f71=>{const _0x10f5f3=_0x16c7f9;assert['ok'](_0x441f71 instanceof Error),assert[_0x10f5f3(0x226)](_0x441f71[_0x10f5f3(0x1df)],_0x10f5f3(0x598)),_0x41c946['on'](_0x12f00a['ktXCs'],()=>_0x4f382d[_0x10f5f3(0x639)](_0x1dbfad));});}),_0x32f9c9[_0x156f11(0x6f6)](it,'fails\x20if\x20server\x20sends\x20an\x20invalid\x20subprotocol\x20(2/2)',_0x22e0ea=>{const _0x2fd448=_0x156f11;_0x186c29[_0x2fd448(0x1c3)](_0x2fd448(0x3da),(_0x7bb1ef,_0x488a10)=>{const _0x3908e1=_0x2fd448,_0x1e63fe=crypto['createHash']('sha1')[_0x3908e1(0x43e)](_0x7bb1ef['headers'][_0x39f7f6[_0x3908e1(0x42e)]]+GUID)[_0x3908e1(0x5fe)](_0x39f7f6[_0x3908e1(0x6d0)]);_0x488a10[_0x3908e1(0x5e1)](_0x39f7f6[_0x3908e1(0xc9)](_0x39f7f6[_0x3908e1(0x699)](_0x39f7f6[_0x3908e1(0x5f7)](_0x39f7f6[_0x3908e1(0x619)]+_0x39f7f6[_0x3908e1(0x2b4)],_0x39f7f6[_0x3908e1(0x4b7)]),'Sec-WebSocket-Accept:\x20'+_0x1e63fe+'\x0d\x0a')+_0x39f7f6[_0x3908e1(0x450)],'\x0d\x0a'));});const _0x7090d7=new WebSocket(_0x2fd448(0x377)+_0x186c29['address']()[_0x2fd448(0x59c)],[_0x2fd448(0x5fd),_0x2fd448(0x711)]);_0x7090d7['on'](_0x32f9c9[_0x2fd448(0x653)],()=>_0x22e0ea(new Error('Unexpected\x20\x27open\x27\x20event'))),_0x7090d7['on'](_0x32f9c9[_0x2fd448(0x37b)],_0x5c09e0=>{const _0x59c55d=_0x2fd448;assert['ok'](_0x5c09e0 instanceof Error),assert[_0x59c55d(0x226)](_0x5c09e0[_0x59c55d(0x1df)],_0x39f7f6[_0x59c55d(0x6a1)]),_0x7090d7['on'](_0x59c55d(0x639),()=>_0x22e0ea());});}),it(_0x156f11(0x500),_0x1e411f=>{const _0x1ae490=_0x156f11,_0x2ea865={'WAnQx':_0x1ae490(0x639),'IbWPf':function(_0x277de5,_0xd03839){return _0x39f7f6['pAWeL'](_0x277de5,_0xd03839);}},_0x31a3ee=new WebSocket[(_0x1ae490(0x287))]({'handleProtocols'(){},'server':_0x186c29}),_0x530afa=new WebSocket(_0x1ae490(0x377)+_0x186c29['address']()[_0x1ae490(0x59c)],[_0x39f7f6[_0x1ae490(0x278)],_0x1ae490(0x711)]);_0x530afa['on'](_0x1ae490(0x5bb),()=>_0x1e411f(new Error(_0x1ae490(0x1f7)))),_0x530afa['on'](_0x39f7f6[_0x1ae490(0x46d)],_0x1c5b58=>{const _0x22c2fa=_0x1ae490,_0x3c1465={'DDaUo':_0x2ea865[_0x22c2fa(0x33e)]};if(_0x22c2fa(0x2dd)!==_0x22c2fa(0x2dd)){const _0x1f258a=new _0x110fbd[(_0x22c2fa(0x287))]({'port':0x0},()=>{const _0x3d3e4e=_0x22c2fa,_0x440427=new _0x287fd3(_0x3d3e4e(0x377)+_0x1f258a[_0x3d3e4e(0x37f)]()['port']);_0x440427['on'](_0x3d3e4e(0x5bb),()=>_0x440427[_0x3d3e4e(0x639)](0x3e8,_0x3d3e4e(0x4df)));});_0x1f258a['on'](_0x22c2fa(0x35b),_0x11313c=>{const _0x4fed5a=_0x22c2fa,_0x508c95={'gGgaL':_0x4fed5a(0x4df)};_0x11313c['on'](_0x3c1465[_0x4fed5a(0x3ef)],(_0x31dd53,_0x2ba48b)=>{const _0xcbdf5f=_0x4fed5a;_0x321a0d[_0xcbdf5f(0x226)](_0x31dd53,0x3e8),_0xe7b3b0[_0xcbdf5f(0x657)](_0x2ba48b,_0x25f216[_0xcbdf5f(0x667)](_0x508c95[_0xcbdf5f(0x112)])),_0x1f258a['close'](_0x22f2b3);});});}else assert['ok'](_0x2ea865[_0x22c2fa(0x4bc)](_0x1c5b58,Error)),assert[_0x22c2fa(0x226)](_0x1c5b58[_0x22c2fa(0x1df)],_0x22c2fa(0x409)),_0x530afa['on'](_0x2ea865[_0x22c2fa(0x33e)],()=>_0x31a3ee['close'](_0x1e411f));});}),it(_0x32f9c9[_0x156f11(0x56f)],_0x4b751a=>{const _0x24add0=_0x156f11,_0x146aa4={'HflUE':_0x24add0(0x518)},_0x49b85d=new WebSocket[(_0x24add0(0x287))]({'noServer':!![],'path':_0x32f9c9[_0x24add0(0x238)]});_0x186c29[_0x24add0(0x1c3)](_0x32f9c9[_0x24add0(0x542)],(_0x4fc11e,_0x18effd,_0x2389cb)=>{const _0x184fb0=_0x24add0;assert[_0x184fb0(0x226)](_0x4fc11e[_0x184fb0(0x5c3)][_0x184fb0(0x11a)],_0x146aa4['HflUE']),_0x49b85d[_0x184fb0(0x561)](_0x4fc11e,_0x18effd,_0x2389cb,NOOP);});const _0x4c1506=new WebSocket(_0x24add0(0x23b),{'createConnection':_0x58dfd4=>{const _0x1b74ac=_0x24add0;return assert[_0x1b74ac(0x226)](_0x58dfd4[_0x1b74ac(0x11a)],_0x39f7f6[_0x1b74ac(0x587)]),assert[_0x1b74ac(0x226)](_0x58dfd4[_0x1b74ac(0x59c)],'22'),Function(_0x39f7f6[_0x1b74ac(0x320)])(),net['createConnection']({'host':_0x1b74ac(0x6a6),'port':_0x186c29['address']()['port']});}});_0x4c1506['on'](_0x24add0(0x5bb),()=>{const _0xa840af=_0x24add0,_0xf3ec58={'vThaj':_0x39f7f6['ySbrt']};if(_0x39f7f6[_0xa840af(0x1cf)](_0xa840af(0x36e),_0xa840af(0x5e0))){const _0x4df3f1={'LOGnz':_0xa840af(0x5fd),'FLasS':_0xa840af(0x639)},_0x325845=_0xb942ca[_0xa840af(0x37f)]()[_0xa840af(0x59c)],_0x8a27c4=new _0x44f8aa(_0xa840af(0x377)+_0x325845,_0xf3ec58[_0xa840af(0x14e)]);_0x553b6f[_0xa840af(0x226)](_0x8a27c4[_0xa840af(0x647)],''),_0x8a27c4['on'](_0xa840af(0x5bb),()=>{const _0x554d54=_0xa840af;_0x5947f2[_0x554d54(0x226)](_0x8a27c4[_0x554d54(0x1e3)],_0x4df3f1[_0x554d54(0x3d7)]),_0x8a27c4['on'](_0x4df3f1[_0x554d54(0x6b2)],()=>_0x5c2c0d[_0x554d54(0x639)](_0x1ce37f));});}else assert[_0xa840af(0x226)](_0x4c1506[_0xa840af(0xcf)],_0x39f7f6[_0xa840af(0x2c0)]),_0x4c1506['on'](_0x39f7f6[_0xa840af(0x50d)],()=>_0x4b751a()),_0x4c1506[_0xa840af(0x639)]();});}),_0x32f9c9['NRSlJ'](it,_0x32f9c9[_0x156f11(0x1d6)],_0x3228b2=>{const _0xb48fb1=_0x156f11;_0x186c29['once'](_0xb48fb1(0x3da),(_0xe8ee7,_0x1326db)=>{const _0x2f2686=_0xb48fb1;_0x1326db[_0x2f2686(0x5e1)](_0x39f7f6['sZtJM']+_0x2f2686(0x31b)+'\x0d\x0a');});const _0x254aeb=new WebSocket('ws://localhost:'+_0x186c29[_0xb48fb1(0x37f)]()[_0xb48fb1(0x59c)]);_0x254aeb['on'](_0xb48fb1(0x5bb),()=>_0x3228b2(new Error(_0xb48fb1(0x1f7)))),_0x254aeb['on'](_0x32f9c9['uEvVY'],_0x2e1e28=>{const _0x616751=_0xb48fb1;assert['ok'](_0x2e1e28 instanceof Error),assert[_0x616751(0x226)](_0x2e1e28[_0x616751(0x1df)],_0x616751(0x6ea)),assert['strictEqual'](_0x254aeb['_redirects'],0x0),_0x254aeb['on'](_0x616751(0x639),()=>_0x3228b2());});}),it(_0x32f9c9[_0x156f11(0x58b)],_0x4e414c=>{const _0x33a30f=_0x156f11,_0x5651e7={'DQKPX':_0x33a30f(0x1b5),'VhBnD':_0x33a30f(0x639)},_0x25db8b=new WebSocket[(_0x33a30f(0x287))]({'noServer':!![],'path':_0x39f7f6[_0x33a30f(0x4f6)]});_0x186c29[_0x33a30f(0x1c3)](_0x33a30f(0x3da),(_0x3429e8,_0x420aad)=>{const _0x1d2e6a=_0x33a30f;_0x420aad['end'](_0x5651e7[_0x1d2e6a(0x2c3)]),_0x186c29['once']('upgrade',(_0x5a3251,_0x4b1a32,_0x2eba7d)=>{_0x25db8b['handleUpgrade'](_0x5a3251,_0x4b1a32,_0x2eba7d,NOOP);});});const _0x3074ff=_0x186c29['address']()[_0x33a30f(0x59c)],_0x4b7b72=new WebSocket(_0x33a30f(0x377)+_0x3074ff,{'followRedirects':!![]});_0x4b7b72['on'](_0x33a30f(0x5bb),()=>{const _0x424cbe=_0x33a30f;assert[_0x424cbe(0x226)](_0x4b7b72[_0x424cbe(0xcf)],'ws://localhost:'+_0x3074ff+'/foo'),assert[_0x424cbe(0x226)](_0x4b7b72[_0x424cbe(0x54b)],0x1),_0x4b7b72['on'](_0x5651e7['VhBnD'],()=>_0x4e414c()),_0x4b7b72[_0x424cbe(0x639)]();});}),it('honors\x20the\x20`maxRedirects`\x20option',_0x10f99f=>{const _0x2e6577=_0x156f11,_0x425e8b={'Ameyu':_0x32f9c9[_0x2e6577(0x11f)],'Yokmd':_0x32f9c9['EuVZn']},_0x32df92=(_0x234b4c,_0x45ad64)=>{_0x45ad64['end']('HTTP/1.1\x20302\x20Found\x0d\x0aLocation:\x20/\x0d\x0a\x0d\x0a');};_0x186c29['on'](_0x32f9c9['EuVZn'],_0x32df92);const _0x3b7505=new WebSocket(_0x2e6577(0x377)+_0x186c29[_0x2e6577(0x37f)]()[_0x2e6577(0x59c)],{'followRedirects':!![],'maxRedirects':0x1});_0x3b7505['on'](_0x32f9c9['MfBtf'],()=>_0x10f99f(new Error(_0x2e6577(0x1f7)))),_0x3b7505['on']('error',_0x50de2c=>{const _0x6d7a5b=_0x2e6577;assert['ok'](_0x50de2c instanceof Error),assert[_0x6d7a5b(0x226)](_0x50de2c['message'],_0x425e8b[_0x6d7a5b(0x4ca)]),assert[_0x6d7a5b(0x226)](_0x3b7505[_0x6d7a5b(0x54b)],0x2),_0x186c29[_0x6d7a5b(0x2f2)](_0x425e8b[_0x6d7a5b(0x1b1)],_0x32df92),_0x3b7505['on']('close',()=>_0x10f99f());});}),it(_0x32f9c9[_0x156f11(0x492)],_0x2a2cae=>{const _0x42e290=_0x156f11,_0x22ff1f={'kMgIf':_0x39f7f6[_0x42e290(0x293)],'xNYZn':_0x42e290(0x44c),'TeRAO':_0x39f7f6[_0x42e290(0x1d5)],'wUGnW':function(_0x3763f8,_0xcf51d5){const _0x138635=_0x42e290;return _0x39f7f6[_0x138635(0x2cd)](_0x3763f8,_0xcf51d5);},'PgteH':_0x42e290(0x2b2)};if(_0x42e290(0x2f8)===_0x39f7f6[_0x42e290(0x2b8)]){_0x186c29['once'](_0x42e290(0x3da),(_0x36404a,_0x1f68d3)=>{const _0x30369c=_0x42e290,_0x26d451={'vESCg':_0x22ff1f[_0x30369c(0x390)]};if(_0x30369c(0x44c)!==_0x22ff1f[_0x30369c(0x476)]){const _0x305f22=new _0x6d5652(_0x30369c(0x377)+_0x5622c0['address']()[_0x30369c(0x59c)]);_0x305f22['on'](_0x26d451[_0x30369c(0x270)],()=>{_0x305f22['send'](),_0x305f22['close']();});}else _0x1f68d3[_0x30369c(0x5e1)](_0x22ff1f[_0x30369c(0x56c)]);});const _0x14e4ce=new WebSocket(_0x42e290(0x377)+_0x186c29[_0x42e290(0x37f)]()['port'],{'followRedirects':!![]});_0x14e4ce['on'](_0x42e290(0x5bb),()=>_0x2a2cae(new Error(_0x42e290(0x1f7)))),_0x14e4ce['on'](_0x42e290(0x3ea),_0x336fb2=>{const _0x267cf3=_0x42e290;assert['ok'](_0x22ff1f[_0x267cf3(0x40a)](_0x336fb2,SyntaxError)),assert['strictEqual'](_0x336fb2[_0x267cf3(0x1df)],_0x22ff1f[_0x267cf3(0x20f)]),assert['strictEqual'](_0x14e4ce[_0x267cf3(0x54b)],0x1),_0x14e4ce['on'](_0x267cf3(0x639),()=>_0x2a2cae());});}else _0x18797f[_0x42e290(0x226)](_0x4fe241[_0x42e290(0x5c3)][_0x42e290(0x28e)],_0xb89676),_0x5077f3[_0x42e290(0x639)]();}),it(_0x156f11(0x5c0),_0x4730b4=>{const _0x3be16f=_0x156f11,_0x1a2288={'pRgyY':_0x3be16f(0x2af),'iXnUb':function(_0x252a2d,_0x2a57ee){return _0x252a2d instanceof _0x2a57ee;}};_0x186c29['once'](_0x32f9c9[_0x3be16f(0x542)],(_0x23984c,_0x46c0f5)=>{const _0x19817e=_0x3be16f;_0x46c0f5[_0x19817e(0x5e1)](_0x19817e(0x303));});const _0x43f2a6=new WebSocket('ws://localhost:'+_0x186c29[_0x3be16f(0x37f)]()[_0x3be16f(0x59c)],{'followRedirects':!![]});_0x43f2a6['on'](_0x32f9c9['MfBtf'],()=>_0x4730b4(new Error(_0x3be16f(0x1f7)))),_0x43f2a6['on'](_0x32f9c9[_0x3be16f(0x37b)],_0x683bb5=>{const _0x189973=_0x3be16f;_0x189973(0x328)!==_0x1a2288[_0x189973(0x2d2)]?(assert['ok'](_0x1a2288[_0x189973(0x3e3)](_0x683bb5,SyntaxError)),assert[_0x189973(0x226)](_0x683bb5[_0x189973(0x1df)],_0x189973(0x702)+_0x189973(0x583)),assert[_0x189973(0x226)](_0x43f2a6[_0x189973(0x54b)],0x1),_0x43f2a6['on'](_0x189973(0x639),()=>_0x4730b4())):(_0x460a9d[_0x189973(0x226)](_0x2ce5f5,_0x2c05db),_0x1ea66a['ok'](_0x17a667),_0x220163[_0x189973(0x639)](_0x4c6916));});}),it(_0x32f9c9['UIEdl'],_0x62cbc3=>{const _0x2ccdda=_0x156f11,_0x38b0a4={'VhSoT':_0x2ccdda(0x6e5)};if(_0x39f7f6[_0x2ccdda(0x17e)]===_0x2ccdda(0x44e)){const _0x2b965f=new WebSocket[(_0x2ccdda(0x287))]({'noServer':!![],'path':_0x2ccdda(0x4b8)}),_0x1002e5=_0x2ccdda(0x470);_0x186c29['once'](_0x39f7f6[_0x2ccdda(0x36b)],(_0x208b8a,_0x358560)=>{const _0x2e6406=_0x2ccdda,_0x121e8b={'otbMr':_0x2e6406(0x1e0)};if(_0x39f7f6[_0x2e6406(0x17b)](_0x2e6406(0x563),_0x39f7f6[_0x2e6406(0x3b9)])){const _0x430143=new _0x943008(_0x2e6406(0x377)+_0x561d49[_0x2e6406(0x37f)]()[_0x2e6406(0x59c)]);_0x430143[_0x2e6406(0xe6)]=()=>{const _0x4b0226=_0x2e6406;_0x5c5382[_0x4b0226(0x226)](_0x430143[_0x4b0226(0x40e)],0x0),_0x247d03[_0x4b0226(0x639)](_0x25e2d8);};}else _0x358560['end']('HTTP/1.1\x20302\x20Found\x0d\x0a'+('Location:\x20ws://baz:qux@localhost:'+_0x38bb1c+'/foo\x0d\x0a\x0d\x0a')),_0x186c29[_0x2e6406(0x1c3)](_0x2e6406(0x3da),(_0x31afde,_0x378482,_0x590aa8)=>{const _0x351ad8=_0x2e6406,_0x5e45bd={'GcZtm':function(_0x17884b,_0x1883e1){return _0x17884b+_0x1883e1;},'KCEYR':_0x351ad8(0x673),'WVFUK':_0x351ad8(0x4e2),'sYEGH':_0x38b0a4[_0x351ad8(0x11b)],'jrDQf':_0x351ad8(0x159)};_0x2b965f[_0x351ad8(0x561)](_0x31afde,_0x378482,_0x590aa8,(_0x309c5b,_0x44c525)=>{const _0x369e74=_0x351ad8;if(_0x121e8b['otbMr']===_0x121e8b[_0x369e74(0x578)])assert[_0x369e74(0x226)](_0x44c525['headers'][_0x369e74(0x28e)],_0x1002e5),_0x309c5b[_0x369e74(0x639)]();else{const _0x43866c=_0x176b06[_0x369e74(0x275)](_0x369e74(0x4b2))['update'](_0x5e45bd['GcZtm'](_0x4d8626[_0x369e74(0x5c3)][_0x5e45bd[_0x369e74(0x66a)]],_0x69037d))[_0x369e74(0x5fe)](_0x369e74(0x62b));_0x327a7f[_0x369e74(0x5e1)](_0x5e45bd[_0x369e74(0x4b6)]+_0x5e45bd['sYEGH']+_0x5e45bd[_0x369e74(0x3b3)]+('Sec-WebSocket-Accept:\x20'+_0x43866c+'\x0d\x0a')+'\x0d\x0a');}});});});const _0x38bb1c=_0x186c29[_0x2ccdda(0x37f)]()[_0x2ccdda(0x59c)],_0x1c9dd6=new WebSocket('ws://foo:bar@localhost:'+_0x38bb1c,{'followRedirects':!![]});assert[_0x2ccdda(0x226)](_0x1c9dd6[_0x2ccdda(0x525)][_0x2ccdda(0x256)](_0x39f7f6[_0x2ccdda(0x301)]),_0x1002e5),_0x1c9dd6['on']('close',_0x13d2d0=>{const _0x3e0d5b=_0x2ccdda;assert['strictEqual'](_0x13d2d0,0x3ed),assert[_0x3e0d5b(0x226)](_0x1c9dd6[_0x3e0d5b(0xcf)],_0x3e0d5b(0x1d0)+_0x38bb1c+'/foo'),assert[_0x3e0d5b(0x226)](_0x1c9dd6['_redirects'],0x1),_0x2b965f['close'](_0x62cbc3);});}else _0x4e7cf4['ok'](_0x39f7f6[_0x2ccdda(0x6df)](_0x1e15d8,_0x1d17ad)),_0x4bf65f[_0x2ccdda(0x226)](_0x530652[_0x2ccdda(0x1df)],_0x2ccdda(0x4f2)),_0x39f7f6[_0x2ccdda(0x70c)](_0x34608c);}),_0x32f9c9[_0x156f11(0x1ab)](describe,_0x156f11(0x4d9),()=>{const _0x82a029=_0x156f11,_0x40bb09={'qQghE':_0x32f9c9[_0x82a029(0x5c5)],'yqKAt':function(_0x31ee79,_0x415aaa,_0x4aef63){return _0x31ee79(_0x415aaa,_0x4aef63);},'ukcUQ':function(_0x396b49,_0x4d8846){return _0x396b49===_0x4d8846;},'uQukP':_0x82a029(0x43c),'ktgFe':_0x32f9c9[_0x82a029(0x22b)],'qPnLf':_0x32f9c9['kDHkA']};if(_0x32f9c9['ISBNR'](_0x82a029(0x5f9),_0x82a029(0x5f9))){function _0x263695(_0x3f8f27,_0x10cb62){const _0x572d70=_0x82a029,_0x2dcb7d={'KMLhB':function(_0x1931f5,_0x8679ea){const _0x13b900=_0xffb2;return _0x39f7f6[_0x13b900(0x1cf)](_0x1931f5,_0x8679ea);}},_0x36995c=net['createServer']({'allowHalfOpen':!![]});return _0x36995c['on'](_0x572d70(0x35b),_0x4b1013=>{const _0x1d7af3=_0x572d70,_0x46f20d={'hVumH':function(_0x5bc0f9,_0x2f14b5){const _0x4cf28a=_0xffb2;return _0x2dcb7d[_0x4cf28a(0x41c)](_0x5bc0f9,_0x2f14b5);}};_0x4b1013['on'](_0x1d7af3(0x259),function _0x4aa6ae(){const _0x5b9fd8=_0x1d7af3;_0x4b1013[_0x5b9fd8(0x2f2)](_0x5b9fd8(0x259),_0x4aa6ae);const _0x2d4fd1=_0x4b1013[_0x5b9fd8(0x52c)](0x1),_0x56e7a=_0x46f20d[_0x5b9fd8(0x5ee)](_0x2d4fd1[0x0],0x16)?_0x10cb62:_0x3f8f27;_0x4b1013['unshift'](_0x2d4fd1),_0x56e7a[_0x5b9fd8(0x3c6)]('connection',_0x4b1013);});}),eval('1 + 1;'),_0x36995c;}_0x32f9c9[_0x82a029(0x3ba)](describe,_0x32f9c9[_0x82a029(0x247)],()=>{const _0x18899c=_0x82a029,_0x2da860={'YrucQ':_0x39f7f6[_0x18899c(0x50d)],'fVyYt':_0x18899c(0x2c9),'RfFoi':_0x18899c(0x6a8),'sMxYl':'test/fixtures/key.pem','KjLsX':function(_0x5c91f6,_0x40937d,_0x360d06){const _0x485025=_0x18899c;return _0x39f7f6[_0x485025(0x19c)](_0x5c91f6,_0x40937d,_0x360d06);},'kVxXE':_0x18899c(0x35b)};it(_0x18899c(0x437),_0x5a612e=>{const _0x320baa=_0x18899c,_0x471e2e={'IurTZ':_0x320baa(0x470),'nFcSl':_0x2da860[_0x320baa(0x169)]};if(_0x320baa(0x2c9)===_0x2da860['fVyYt']){const _0xebe349=http[_0x320baa(0x683)](),_0x413950=https[_0x320baa(0x683)]({'cert':fs[_0x320baa(0x2da)](_0x2da860['RfFoi']),'key':fs[_0x320baa(0x2da)](_0x2da860[_0x320baa(0x6ce)])}),_0x441c71=_0x2da860[_0x320baa(0x6d3)](_0x263695,_0xebe349,_0x413950);_0x441c71[_0x320baa(0x684)](()=>{const _0x2059d6=_0x320baa,_0x3a1baa={'ojSvc':function(_0x55b64b,_0x336b66){return _0x55b64b+_0x336b66;},'IgYLL':_0x2059d6(0x23a)},_0x25bab2=_0x441c71[_0x2059d6(0x37f)]()[_0x2059d6(0x59c)];_0x413950['on'](_0x2059d6(0x3da),(_0x428b51,_0x1c9863)=>{const _0x2b0d9e=_0x2059d6;_0x1c9863['on'](_0x2b0d9e(0x3ea),NOOP),_0x1c9863[_0x2b0d9e(0x5e1)](_0x3a1baa[_0x2b0d9e(0x1c2)](_0x3a1baa[_0x2b0d9e(0x4ff)],_0x2b0d9e(0x575)+_0x25bab2+'/\x0d\x0a\x0d\x0a'));});const _0x812684=new WebSocket['Server']({'server':_0xebe349});_0x812684['on']('connection',(_0x8e02d7,_0x46c253)=>{const _0x4936fe=_0x2059d6;assert['strictEqual'](_0x46c253[_0x4936fe(0x5c3)]['authorization'],undefined),_0x8e02d7['close']();});const _0x42a730=new WebSocket('wss://localhost:'+_0x25bab2,{'auth':_0x2059d6(0x428),'followRedirects':!![],'rejectUnauthorized':![]});assert[_0x2059d6(0x226)](_0x42a730['_req'][_0x2059d6(0x256)](_0x2059d6(0x504)),_0x471e2e[_0x2059d6(0x67c)]),_0x42a730['on'](_0x2059d6(0x639),_0x3261ca=>{const _0x25abca=_0x2059d6;assert[_0x25abca(0x226)](_0x3261ca,0x3ed),assert[_0x25abca(0x226)](_0x42a730[_0x25abca(0xcf)],'ws://localhost:'+_0x25bab2+'/'),assert[_0x25abca(0x226)](_0x42a730[_0x25abca(0x54b)],0x1),_0x441c71['close'](_0x5a612e);});});}else{const _0x1f6eba={'ZmOaG':_0x471e2e[_0x320baa(0x27a)]},_0x5ab2da=new _0x4dd11d(_0x320baa(0x377)+_0x69fccc['address']()[_0x320baa(0x59c)]);_0x5ab2da['on']('open',()=>_0x4aff41(new _0x310b3d(_0x320baa(0x1f7)))),_0x5ab2da['on'](_0x320baa(0x3ea),_0x1019fb=>{const _0x208a23=_0x320baa;_0x47430b['ok'](_0x1019fb instanceof _0x3d7fec),_0x169fd8['strictEqual'](_0x1019fb[_0x208a23(0x1df)],'WebSocket\x20was\x20closed\x20before\x20the\x20connection\x20was\x20established'),_0x5ab2da['on'](_0x1f6eba['ZmOaG'],()=>_0x46be3b['close'](_0x2972ae));}),_0x5ab2da['close'](0x3e9);}}),it(_0x39f7f6['RKEYo'],_0x497346=>{const _0x40fd9e=_0x18899c,_0xec0afa={'pQtFI':_0x40bb09[_0x40fd9e(0x557)]},_0x3c6788=http[_0x40fd9e(0x683)](),_0x30f888=https[_0x40fd9e(0x683)]({'cert':fs[_0x40fd9e(0x2da)](_0x40fd9e(0x6a8)),'key':fs[_0x40fd9e(0x2da)](_0x40fd9e(0x1bf))}),_0x2d6dcb=_0x40bb09[_0x40fd9e(0xf7)](_0x263695,_0x3c6788,_0x30f888);_0x2d6dcb[_0x40fd9e(0x684)](()=>{const _0x5a2622=_0x40fd9e,_0x245088=_0x2d6dcb[_0x5a2622(0x37f)]()[_0x5a2622(0x59c)];_0x30f888['on'](_0x5a2622(0x3da),(_0xd395b5,_0x28437c)=>{const _0x10ebea=_0x5a2622;_0x28437c['on'](_0x10ebea(0x3ea),NOOP),_0x28437c[_0x10ebea(0x5e1)](_0xec0afa['pQtFI']+(_0x10ebea(0x575)+_0x245088+_0x10ebea(0x1c5)));});const _0xb57cd1={'authorization':'Basic\x20Zm9vOmJhcg==','cookie':_0x5a2622(0x18a),'host':'foo'},_0x274bc0=new WebSocket[(_0x5a2622(0x287))]({'server':_0x3c6788});_0x274bc0['on'](_0x2da860[_0x5a2622(0x430)],(_0x26125d,_0x234a38)=>{const _0x1fc80c=_0x5a2622;assert[_0x1fc80c(0x226)](_0x234a38[_0x1fc80c(0x5c3)][_0x1fc80c(0x28e)],undefined),assert[_0x1fc80c(0x226)](_0x234a38[_0x1fc80c(0x5c3)][_0x1fc80c(0x1af)],undefined),assert[_0x1fc80c(0x226)](_0x234a38['headers'][_0x1fc80c(0x11a)],_0xb57cd1['host']),_0x26125d['close']();});const _0x5b8f43=new WebSocket('wss://localhost:'+_0x245088,{'followRedirects':!![],'headers':_0xb57cd1,'rejectUnauthorized':![]}),_0x22b081=_0x5b8f43[_0x5a2622(0x525)];assert[_0x5a2622(0x226)](_0x22b081[_0x5a2622(0x256)](_0x5a2622(0x504)),_0xb57cd1['authorization']),assert[_0x5a2622(0x226)](_0x22b081[_0x5a2622(0x256)]('Cookie'),_0xb57cd1[_0x5a2622(0x1af)]),assert[_0x5a2622(0x226)](_0x22b081[_0x5a2622(0x256)]('Host'),_0xb57cd1[_0x5a2622(0x11a)]),_0x5b8f43['on'](_0x2da860['YrucQ'],_0x583c97=>{const _0x36e4dd=_0x5a2622;assert['strictEqual'](_0x583c97,0x3ed),assert['strictEqual'](_0x5b8f43[_0x36e4dd(0xcf)],'ws://localhost:'+_0x245088+'/'),assert[_0x36e4dd(0x226)](_0x5b8f43[_0x36e4dd(0x54b)],0x1),_0x2d6dcb['close'](_0x497346);});});});}),describe(_0x82a029(0x2c8),()=>{const _0x69bafe=_0x82a029,_0x55ce82={'XChmu':_0x69bafe(0x352),'qGpZO':_0x69bafe(0x470),'Kbcsy':_0x39f7f6[_0x69bafe(0x278)],'IAvnf':'Cookie','RVMfY':_0x39f7f6['BYaVT']};it(_0x39f7f6[_0x69bafe(0x6f7)],_0x3018de=>{const _0x24347e=_0x69bafe,_0x44744f={'QRGDL':function(_0x1bcf2f,_0x2019a9){const _0x2ad955=_0xffb2;return _0x40bb09[_0x2ad955(0x3e6)](_0x1bcf2f,_0x2019a9);},'BqnCU':_0x40bb09[_0x24347e(0x2c1)],'owxjT':_0x40bb09[_0x24347e(0x557)],'JJSxh':function(_0x375eb8,_0x58cd57){return _0x375eb8!==_0x58cd57;},'HRXSX':_0x24347e(0x605)},_0x23f0bb=http[_0x24347e(0x683)](),_0x10f972=https[_0x24347e(0x683)]({'cert':fs[_0x24347e(0x2da)](_0x40bb09[_0x24347e(0x2c2)]),'key':fs[_0x24347e(0x2da)](_0x40bb09[_0x24347e(0x2fa)])}),_0xec3e=_0x263695(_0x23f0bb,_0x10f972);_0xec3e[_0x24347e(0x684)](()=>{const _0x364a5a=_0x24347e,_0xe565d7={'qpAqq':_0x55ce82[_0x364a5a(0x4a4)],'rKKsp':_0x364a5a(0x504),'aBvUR':_0x364a5a(0x639)},_0x170f5c=_0xec3e[_0x364a5a(0x37f)]()[_0x364a5a(0x59c)];_0x10f972['on'](_0x364a5a(0x3da),(_0x462783,_0x5ae09f)=>{const _0x2ae4e7=_0x364a5a;_0x44744f[_0x2ae4e7(0xdc)]('LwpzD',_0x44744f[_0x2ae4e7(0x4ee)])?(_0x5ae09f['on'](_0x2ae4e7(0x3ea),NOOP),_0x5ae09f[_0x2ae4e7(0x5e1)](_0x44744f[_0x2ae4e7(0x6b4)]+(_0x2ae4e7(0x575)+_0x170f5c+_0x2ae4e7(0x1c5)))):(_0x1c5ed4[_0x2ae4e7(0x226)](_0x3e2637,0x3ed),_0x4ffe81[_0x2ae4e7(0x226)](_0x5739e6,_0x4b33ba),_0x7d4e5b[_0x2ae4e7(0x639)](_0x513c58));});const _0xe3738a={'authorization':_0x55ce82[_0x364a5a(0x153)],'cookie':_0x364a5a(0x18a),'host':_0x55ce82[_0x364a5a(0x704)]},_0x4f7473=new WebSocket['Server']({'server':_0x23f0bb});_0x4f7473['on']('connection',(_0x392ac1,_0x307bd3)=>{const _0x279033=_0x364a5a,_0xdca96={'kzChT':_0x279033(0x5bb)};if(_0x44744f[_0x279033(0x6bf)](_0x44744f['HRXSX'],'CWIqQ'))assert[_0x279033(0x226)](_0x307bd3['headers'][_0x279033(0x28e)],_0xe3738a[_0x279033(0x28e)]),assert[_0x279033(0x226)](_0x307bd3['headers']['cookie'],_0xe3738a[_0x279033(0x1af)]),assert[_0x279033(0x226)](_0x307bd3[_0x279033(0x5c3)]['host'],_0xe3738a[_0x279033(0x11a)]),_0x392ac1[_0x279033(0x639)]();else{const _0x2bbf5a=new _0x413117(_0x279033(0x377)+_0x8f2a31[_0x279033(0x37f)]()[_0x279033(0x59c)]);_0x2bbf5a['on'](_0xdca96['kzChT'],()=>{const _0x22ca1f=_0x279033;_0x2e7a56[_0x22ca1f(0x423)](()=>_0x2bbf5a[_0x22ca1f(0x4be)](_0x46d116['alloc'](0x7e)),/^RangeError: The data size must not be greater than 125 bytes$/),_0x352b4e[_0x22ca1f(0x639)](_0x4fa6f9);});}});const _0x351b3f=new WebSocket(_0x364a5a(0x37d)+_0x170f5c,{'followRedirects':!![],'headers':_0xe3738a,'rejectUnauthorized':![]}),_0x41abc5=_0x351b3f[_0x364a5a(0x525)];assert[_0x364a5a(0x226)](_0x41abc5[_0x364a5a(0x256)](_0x364a5a(0x504)),_0xe3738a['authorization']),assert[_0x364a5a(0x226)](_0x41abc5[_0x364a5a(0x256)](_0x55ce82[_0x364a5a(0x682)]),_0xe3738a[_0x364a5a(0x1af)]),assert[_0x364a5a(0x226)](_0x41abc5[_0x364a5a(0x256)](_0x55ce82[_0x364a5a(0x5dc)]),_0xe3738a[_0x364a5a(0x11a)]),_0x351b3f['on'](_0x364a5a(0x626),(_0x48f160,_0x59e063)=>{const _0x290c25=_0x364a5a,_0x1589fe=_0xe565d7[_0x290c25(0x299)][_0x290c25(0x2e5)]('|');let _0x4a9fa1=0x0;while(!![]){switch(_0x1589fe[_0x4a9fa1++]){case'0':assert[_0x290c25(0x226)](_0x48f160,_0x290c25(0x377)+_0x170f5c+'/');continue;case'1':assert[_0x290c25(0x226)](_0x59e063['getHeader'](_0x290c25(0x1e2)),_0xe3738a[_0x290c25(0x1af)]);continue;case'2':assert[_0x290c25(0x226)](_0x59e063[_0x290c25(0x256)](_0xe565d7[_0x290c25(0x1b8)]),_0xe3738a[_0x290c25(0x28e)]);continue;case'3':assert[_0x290c25(0x226)](_0x59e063[_0x290c25(0x256)](_0x290c25(0x6c7)),_0xe3738a[_0x290c25(0x11a)]);continue;case'4':assert[_0x290c25(0x226)](_0x351b3f[_0x290c25(0x54b)],0x1);continue;case'5':assert[_0x290c25(0x54e)](_0x41abc5,_0x59e063);continue;case'6':_0x351b3f['on'](_0xe565d7[_0x290c25(0x6c1)],_0x759771=>{const _0x453789=_0x290c25;assert[_0x453789(0x226)](_0x759771,0x3ed),_0xec3e[_0x453789(0x639)](_0x3018de);});continue;}break;}});});});});}else _0x60767a[_0x82a029(0x5e1)](_0x40bb09[_0x82a029(0x557)]+(_0x82a029(0x575)+_0xfb5f52+_0x82a029(0x1c5)));}),describe(_0x32f9c9[_0x156f11(0x6ac)],()=>{const _0x52db81=_0x156f11,_0x226287={'OfSNg':function(_0x5067d1,_0x2ad585){return _0x5067d1!==_0x2ad585;},'WVCqU':'connection','zOQGh':_0x39f7f6[_0x52db81(0x182)],'ZYtTY':_0x52db81(0x3b8),'LcQHh':function(_0x451674,_0x4ac6b1){return _0x451674===_0x4ac6b1;},'eyrfL':_0x52db81(0x3da),'MfmGQ':_0x52db81(0x5fd),'LWyRh':_0x39f7f6[_0x52db81(0x50d)],'sslIM':_0x39f7f6['lAddz'],'GrIjm':_0x52db81(0x18a)};_0x39f7f6['IagHP'](describe,_0x39f7f6[_0x52db81(0x3de)],()=>{const _0x4a5d5f=_0x52db81,_0x51744d={'NDKiK':function(_0x14c88a,_0xa56e5b){const _0x3a0dd3=_0xffb2;return _0x39f7f6[_0x3a0dd3(0x540)](_0x14c88a,_0xa56e5b);},'ANMVk':_0x39f7f6[_0x4a5d5f(0x182)],'Fjspx':'upgrade','mDDzL':_0x4a5d5f(0x428),'WOSmg':_0x4a5d5f(0x470),'DJQAb':_0x39f7f6[_0x4a5d5f(0x301)],'wVzVN':_0x4a5d5f(0x639),'bEsPo':_0x4a5d5f(0x5f2),'iSxwf':_0x39f7f6['YNczM'],'PRveQ':function(_0xf94648,_0x2b92c4){const _0x22f5f2=_0x4a5d5f;return _0x39f7f6[_0x22f5f2(0x37a)](_0xf94648,_0x2b92c4);},'kGCUM':_0x4a5d5f(0x353),'kLqkt':_0x39f7f6['xoWXo'],'fZyfn':_0x4a5d5f(0x5fd),'KhuPT':_0x4a5d5f(0x6c7),'Bxwfx':_0x39f7f6['elTzo'],'oARkT':function(_0x7f2ec1,_0x33b10f){const _0x47fabc=_0x4a5d5f;return _0x39f7f6[_0x47fabc(0x17b)](_0x7f2ec1,_0x33b10f);},'CukgI':_0x39f7f6['bsSYD']};it('drops\x20the\x20`auth`\x20option',_0x10e235=>{const _0x151934=_0x4a5d5f,_0x3fbf5c=new WebSocket[(_0x151934(0x287))]({'port':0x0},()=>{const _0x28c55e=_0x151934,_0x4a3f7f={'WFDeh':function(_0x5d0aac,_0x32aff9){const _0x1cee63=_0xffb2;return _0x51744d[_0x1cee63(0x5e7)](_0x5d0aac,_0x32aff9);},'YOvHC':_0x51744d['ANMVk']},_0xa02c0c=_0x3fbf5c[_0x28c55e(0x37f)]()[_0x28c55e(0x59c)];_0x186c29[_0x28c55e(0x1c3)](_0x51744d['Fjspx'],(_0x279e73,_0x294366)=>{const _0x45fd0d=_0x28c55e;_0x294366[_0x45fd0d(0x5e1)](_0x4a3f7f['WFDeh'](_0x4a3f7f[_0x45fd0d(0x485)],_0x45fd0d(0x575)+_0xa02c0c+'/\x0d\x0a\x0d\x0a'));});const _0x30bb3a=new WebSocket(_0x28c55e(0x377)+_0x186c29['address']()[_0x28c55e(0x59c)],{'auth':_0x51744d[_0x28c55e(0x2fe)],'followRedirects':!![]});assert[_0x28c55e(0x226)](_0x30bb3a[_0x28c55e(0x525)]['getHeader']('Authorization'),_0x51744d['WOSmg']),_0x30bb3a['on'](_0x28c55e(0x639),_0x40b4ec=>{const _0x4813f5=_0x28c55e;assert[_0x4813f5(0x226)](_0x40b4ec,0x3ed),assert['strictEqual'](_0x30bb3a['url'],'ws://localhost:'+_0xa02c0c+'/'),assert[_0x4813f5(0x226)](_0x30bb3a[_0x4813f5(0x54b)],0x1),_0x3fbf5c[_0x4813f5(0x639)](_0x10e235);});});_0x3fbf5c['on'](_0x151934(0x35b),(_0x3afaaf,_0x30446d)=>{const _0x32d1d9=_0x151934;assert[_0x32d1d9(0x226)](_0x30446d[_0x32d1d9(0x5c3)][_0x32d1d9(0x28e)],undefined),_0x3afaaf[_0x32d1d9(0x639)]();});}),it(_0x39f7f6[_0x4a5d5f(0x3be)],_0x2cf3b6=>{const _0x4b0e38=_0x4a5d5f,_0x420a82={'duZqF':function(_0x4fff9e,_0x1ea3a9){const _0x54285f=_0xffb2;return _0x226287[_0x54285f(0x17d)](_0x4fff9e,_0x1ea3a9);}},_0x4b0909=new WebSocket[(_0x4b0e38(0x287))]({'port':0x0},()=>{const _0x1cf388=_0x4b0e38,_0x322e5e={'GjLRy':_0x1cf388(0x5e3)},_0xdce030=_0x4b0909['address']()[_0x1cf388(0x59c)];_0x186c29[_0x1cf388(0x1c3)](_0x51744d[_0x1cf388(0x385)],(_0x31ecd5,_0x2c1322)=>{const _0x18ae74=_0x1cf388,_0x4083c6={'qwBTT':_0x322e5e[_0x18ae74(0x4f4)],'rHEeL':_0x18ae74(0x639)};if('gryFq'!==_0x18ae74(0x335))_0x2c1322[_0x18ae74(0x5e1)](_0x18ae74(0x23a)+(_0x18ae74(0x575)+_0xdce030+_0x18ae74(0x1c5)));else{const _0x75fc21=new _0x453de8('ws://localhost:'+_0x2af998[_0x18ae74(0x37f)]()[_0x18ae74(0x59c)]);_0x75fc21['on'](_0x18ae74(0x5bb),()=>_0x48cd60(new _0x3e89d4('Unexpected\x20\x27open\x27\x20event'))),_0x75fc21['on'](_0x18ae74(0x3ea),_0x2b3cc8=>{const _0x1ee652=_0x18ae74;_0x27e2c8['ok'](_0x2b3cc8 instanceof _0xcf819d),_0x115b4b[_0x1ee652(0x226)](_0x2b3cc8[_0x1ee652(0x1df)],_0x4083c6[_0x1ee652(0x4bd)]),_0x75fc21['on'](_0x4083c6[_0x1ee652(0xf2)],()=>_0x44100c[_0x1ee652(0x639)](_0x4d17d2));}),_0x75fc21['on'](_0x18ae74(0x3da),()=>_0x75fc21[_0x18ae74(0x2d9)]());}});const _0x53a5fc={'authorization':_0x51744d[_0x1cf388(0x463)],'cookie':_0x1cf388(0x18a),'host':_0x1cf388(0x5fd)},_0x5ca602=new WebSocket('ws://localhost:'+_0x186c29['address']()[_0x1cf388(0x59c)],{'followRedirects':!![],'headers':_0x53a5fc}),_0x5eba17=_0x5ca602[_0x1cf388(0x525)];assert[_0x1cf388(0x226)](_0x5eba17['getHeader'](_0x51744d[_0x1cf388(0x49a)]),_0x53a5fc['authorization']),assert['strictEqual'](_0x5eba17[_0x1cf388(0x256)](_0x1cf388(0x1e2)),_0x53a5fc[_0x1cf388(0x1af)]),assert[_0x1cf388(0x226)](_0x5eba17[_0x1cf388(0x256)]('Host'),_0x53a5fc[_0x1cf388(0x11a)]),_0x5ca602['on'](_0x51744d['wVzVN'],_0x3be36b=>{const _0x5ae477=_0x1cf388;assert['strictEqual'](_0x3be36b,0x3ed),assert['strictEqual'](_0x5ca602[_0x5ae477(0xcf)],_0x5ae477(0x377)+_0xdce030+'/'),assert[_0x5ae477(0x226)](_0x5ca602['_redirects'],0x1),_0x4b0909[_0x5ae477(0x639)](_0x2cf3b6);});});_0x4b0909['on'](_0x226287[_0x4b0e38(0x227)],(_0x508236,_0x6141c0)=>{const _0x5496c1=_0x4b0e38,_0x568af4={'JjlnT':_0x5496c1(0x5bb)};_0x420a82['duZqF'](_0x5496c1(0x13f),_0x5496c1(0x13f))?(_0x1eb8f2[_0x5496c1(0x4e8)](_0x568af4[_0x5496c1(0x346)]),_0x3f5857[_0x5496c1(0x226)](_0x332531['listenerCount']('open'),0x1)):(assert[_0x5496c1(0x226)](_0x6141c0[_0x5496c1(0x5c3)][_0x5496c1(0x28e)],undefined),assert[_0x5496c1(0x226)](_0x6141c0[_0x5496c1(0x5c3)][_0x5496c1(0x1af)],undefined),assert[_0x5496c1(0x226)](_0x6141c0['headers'][_0x5496c1(0x11a)],_0x5496c1(0xdb)+_0x4b0909[_0x5496c1(0x37f)]()[_0x5496c1(0x59c)]),_0x508236[_0x5496c1(0x639)]());});}),it(_0x4a5d5f(0x100),_0x4edcd4=>{const _0x25819e=_0x4a5d5f,_0x1d09f1={'BJCag':_0x25819e(0x3b6),'bnKeV':_0x51744d[_0x25819e(0xf3)],'FlNBn':_0x51744d[_0x25819e(0x463)],'BCgnz':_0x51744d[_0x25819e(0x6b3)],'hPlPz':'Authorization'},_0x834ef=crypto[_0x25819e(0x350)](0x10)[_0x25819e(0x128)](_0x25819e(0x3b8)),_0x417a58=_0x51744d[_0x25819e(0x4da)](process[_0x25819e(0x16e)],_0x51744d['kGCUM'])?_0x25819e(0xd8)+_0x834ef:path[_0x25819e(0x631)](os['tmpdir'](),_0x25819e(0x493)+_0x834ef+'.sock');_0x186c29['once'](_0x25819e(0x3da),(_0x59fea9,_0x5612a2)=>{const _0x45f08f=_0x25819e;if(_0x45f08f(0x125)!==_0x45f08f(0x125)){const _0x466cc6=new _0x553caf[(_0x45f08f(0x383))]();_0x466cc6['addRequest']=_0x229bb1=>{const _0x9067fa=_0x45f08f;_0x465702[_0x9067fa(0x226)](_0x229bb1[_0x9067fa(0x256)](_0x9067fa(0x1f8)),'https://example.com:8000'),_0x113657();};const _0x429783=new _0x5750d3(_0x1d09f1[_0x45f08f(0x649)],{'origin':_0x45f08f(0x559),'agent':_0x466cc6});}else _0x5612a2[_0x45f08f(0x5e1)](_0x45f08f(0x611)+_0x417a58+'\x0d\x0a\x0d\x0a');});const _0x2d74b1=http[_0x25819e(0x683)](),_0x47374a=new WebSocket[(_0x25819e(0x287))]({'server':_0x2d74b1});_0x47374a['on']('connection',(_0x3f761b,_0x476281)=>{const _0x2e02db=_0x25819e;assert[_0x2e02db(0x226)](_0x476281[_0x2e02db(0x5c3)]['authorization'],undefined),assert['strictEqual'](_0x476281['headers'][_0x2e02db(0x1af)],undefined),assert['strictEqual'](_0x476281[_0x2e02db(0x5c3)]['host'],_0x2e02db(0x6a6)),_0x3f761b[_0x2e02db(0x639)]();}),_0x2d74b1[_0x25819e(0x684)](_0x417a58,()=>{const _0x22cc5d=_0x25819e;if(_0x1d09f1[_0x22cc5d(0x3c9)]===_0x22cc5d(0x105))_0x3a6e91[_0x22cc5d(0x657)](_0x19ba1a,_0x4812de[_0x22cc5d(0x667)]('0')),_0x4165a3['ok'](!_0x17f050),_0x2b699e[_0x22cc5d(0x639)](_0xd73b1f);else{const _0x47db27={'authorization':_0x1d09f1[_0x22cc5d(0x474)],'cookie':_0x1d09f1[_0x22cc5d(0x57c)],'host':_0x22cc5d(0x5fd)},_0x297dc3=new WebSocket(_0x22cc5d(0x377)+_0x186c29[_0x22cc5d(0x37f)]()[_0x22cc5d(0x59c)],{'followRedirects':!![],'headers':_0x47db27}),_0x6676d8=_0x297dc3['_req'];assert[_0x22cc5d(0x226)](_0x6676d8[_0x22cc5d(0x256)](_0x1d09f1[_0x22cc5d(0x505)]),_0x47db27[_0x22cc5d(0x28e)]),assert['strictEqual'](_0x6676d8[_0x22cc5d(0x256)](_0x22cc5d(0x1e2)),_0x47db27[_0x22cc5d(0x1af)]),assert[_0x22cc5d(0x226)](_0x6676d8[_0x22cc5d(0x256)](_0x22cc5d(0x6c7)),_0x47db27[_0x22cc5d(0x11a)]),_0x297dc3['on']('close',_0x23441e=>{const _0xa001e7=_0x22cc5d;assert[_0xa001e7(0x226)](_0x23441e,0x3ed),assert[_0xa001e7(0x226)](_0x297dc3[_0xa001e7(0xcf)],'ws+unix:'+_0x417a58),assert['strictEqual'](_0x297dc3[_0xa001e7(0x54b)],0x1),_0x2d74b1[_0xa001e7(0x639)](_0x4edcd4);});}});}),it(_0x4a5d5f(0x119),_0x278b85=>{const _0x292169=_0x4a5d5f,_0x3dd24e={'oTUIU':_0x226287[_0x292169(0x5c1)],'YbszB':_0x292169(0x6a6)},_0x45401e=crypto['randomBytes'](0x10)[_0x292169(0x128)](_0x226287[_0x292169(0x264)]),_0x2a4f1c=crypto[_0x292169(0x350)](0x10)[_0x292169(0x128)](_0x226287[_0x292169(0x264)]);let _0x1325a5,_0x1e1cf2;_0x226287[_0x292169(0x296)](process[_0x292169(0x16e)],_0x292169(0x353))?(_0x1325a5=_0x292169(0xd8)+_0x45401e,_0x1e1cf2=_0x292169(0xd8)+_0x2a4f1c):(_0x1325a5=path['join'](os['tmpdir'](),_0x292169(0x493)+_0x45401e+_0x292169(0x3b0)),_0x1e1cf2=path[_0x292169(0x631)](os[_0x292169(0x701)](),_0x292169(0x493)+_0x2a4f1c+_0x292169(0x3b0)));const _0x192175=http[_0x292169(0x683)]();_0x192175['on'](_0x226287[_0x292169(0x193)],(_0x1886ee,_0xb578bd)=>{const _0x46a03a=_0x292169;_0xb578bd['end'](_0x3dd24e[_0x46a03a(0x695)]+(_0x46a03a(0x4dd)+_0x1e1cf2+_0x46a03a(0xee)));});const _0x1dcb2d=http['createServer'](),_0x332ec3=new WebSocket[(_0x292169(0x287))]({'server':_0x1dcb2d});_0x332ec3['on'](_0x226287[_0x292169(0x227)],(_0x1f44b4,_0x4fd8ff)=>{const _0x488170=_0x292169;assert[_0x488170(0x226)](_0x4fd8ff[_0x488170(0x5c3)][_0x488170(0x28e)],undefined),assert[_0x488170(0x226)](_0x4fd8ff[_0x488170(0x5c3)][_0x488170(0x1af)],undefined),assert[_0x488170(0x226)](_0x4fd8ff['headers'][_0x488170(0x11a)],_0x3dd24e[_0x488170(0x5cc)]),_0x1f44b4[_0x488170(0x639)]();}),_0x192175[_0x292169(0x684)](_0x1325a5,_0x4651a7),_0x1dcb2d['listen'](_0x1e1cf2,_0x4651a7);let _0x4ebec1=0x0;function _0x4651a7(){const _0x2afd8d=_0x292169;new Function(_0x51744d['kLqkt'])();if(++_0x4ebec1!==0x2)return;const _0x1863e4={'authorization':_0x2afd8d(0x470),'cookie':_0x51744d['iSxwf'],'host':_0x51744d['fZyfn']},_0x5d0563=new WebSocket(_0x2afd8d(0x25e)+_0x1325a5,{'followRedirects':!![],'headers':_0x1863e4}),_0x3cc167=_0x5d0563[_0x2afd8d(0x525)];assert['strictEqual'](_0x3cc167[_0x2afd8d(0x256)](_0x2afd8d(0x504)),_0x1863e4['authorization']),assert['strictEqual'](_0x3cc167[_0x2afd8d(0x256)](_0x2afd8d(0x1e2)),_0x1863e4[_0x2afd8d(0x1af)]),assert['strictEqual'](_0x3cc167[_0x2afd8d(0x256)](_0x51744d[_0x2afd8d(0x314)]),_0x1863e4['host']),_0x5d0563['on']('close',_0x1ba344=>{const _0xd6ce15=_0x2afd8d;assert[_0xd6ce15(0x226)](_0x1ba344,0x3ed),assert['strictEqual'](_0x5d0563[_0xd6ce15(0xcf)],_0xd6ce15(0x25e)+_0x1e1cf2),assert[_0xd6ce15(0x226)](_0x5d0563[_0xd6ce15(0x54b)],0x1),_0x192175[_0xd6ce15(0x639)](),_0x1dcb2d[_0xd6ce15(0x639)](_0x278b85);});}}),_0x39f7f6[_0x4a5d5f(0x19c)](it,_0x39f7f6[_0x4a5d5f(0x636)],_0x4dc6f5=>{const _0x232dca=_0x4a5d5f,_0x1d5a91={'TIoxO':_0x232dca(0x180),'YcosQ':'RKxPT','PHRTr':function(_0x19a089,_0x5ef7d0){return _0x19a089===_0x5ef7d0;},'sxofv':_0x232dca(0x313),'gUMoH':_0x51744d['Bxwfx'],'NBXhU':_0x232dca(0x224),'jlNvM':function(_0x507e26,_0x547f78){const _0x1b11ee=_0x232dca;return _0x51744d[_0x1b11ee(0x67e)](_0x507e26,_0x547f78);},'jjdPB':_0x232dca(0x3da),'tvcjZ':_0x232dca(0x504),'oMzZb':_0x51744d['wVzVN']},_0x15ef56=http[_0x232dca(0x683)](),_0x3ed6cc=http['createServer'](),_0x2c141f=new WebSocket[(_0x232dca(0x287))]({'server':_0x3ed6cc});_0x2c141f['on'](_0x51744d['CukgI'],(_0x114fdf,_0x41522f)=>{const _0x40fd23=_0x232dca;assert[_0x40fd23(0x226)](_0x41522f[_0x40fd23(0x5c3)][_0x40fd23(0x28e)],undefined),assert[_0x40fd23(0x226)](_0x41522f[_0x40fd23(0x5c3)][_0x40fd23(0x1af)],undefined),assert[_0x40fd23(0x226)](_0x41522f[_0x40fd23(0x5c3)][_0x40fd23(0x11a)],_0x40fd23(0xdb)+_0x3ed6cc['address']()[_0x40fd23(0x59c)]),_0x114fdf[_0x40fd23(0x639)]();});const _0x300323=crypto[_0x232dca(0x350)](0x10)[_0x232dca(0x128)](_0x232dca(0x3b8)),_0x24bed7=process[_0x232dca(0x16e)]===_0x51744d['kGCUM']?_0x232dca(0xd8)+_0x300323:path[_0x232dca(0x631)](os[_0x232dca(0x701)](),_0x232dca(0x493)+_0x300323+_0x232dca(0x3b0));_0x15ef56[_0x232dca(0x684)](_0x24bed7,_0x462a1f),_0x3ed6cc[_0x232dca(0x684)](0x0,_0x462a1f);let _0xcaa33d=0x0;function _0x462a1f(){const _0x4f6afe=_0x232dca;eval('1 + 1;');if(_0x1d5a91[_0x4f6afe(0x70e)](++_0xcaa33d,0x2))return;const _0x108691=_0x3ed6cc[_0x4f6afe(0x37f)]()['port'];_0x15ef56['on'](_0x1d5a91[_0x4f6afe(0x39c)],(_0x4a18c3,_0x4a0851)=>{const _0x333178=_0x4f6afe,_0x5523ea={'LUshn':_0x1d5a91[_0x333178(0x265)],'fmIHP':function(_0x42ffbb){return _0x42ffbb();}};_0x1d5a91[_0x333178(0x63c)]!==_0x333178(0x236)?_0x4a0851[_0x333178(0x5e1)]('HTTP/1.1\x20302\x20Found\x0d\x0aLocation:\x20ws://localhost:'+_0x108691+_0x333178(0xee)):(_0x4b34c1[_0x333178(0x226)](_0x30c03e[_0x333178(0x256)](_0x5523ea['LUshn']),_0x14ef77),_0x5523ea[_0x333178(0x646)](_0x3333a5));});const _0x41cb34={'authorization':_0x4f6afe(0x470),'cookie':_0x4f6afe(0x18a),'host':'foo'},_0x33a6cd=new WebSocket('ws+unix:'+_0x24bed7,{'followRedirects':!![],'headers':_0x41cb34}),_0x5a2eaf=_0x33a6cd['_req'];assert[_0x4f6afe(0x226)](_0x5a2eaf[_0x4f6afe(0x256)](_0x1d5a91[_0x4f6afe(0x2ef)]),_0x41cb34['authorization']),assert[_0x4f6afe(0x226)](_0x5a2eaf['getHeader']('Cookie'),_0x41cb34['cookie']),assert['strictEqual'](_0x5a2eaf[_0x4f6afe(0x256)](_0x4f6afe(0x6c7)),_0x41cb34['host']),_0x33a6cd['on'](_0x1d5a91['oMzZb'],_0x262e27=>{const _0x3242e4=_0x4f6afe;if(_0x1d5a91[_0x3242e4(0x302)](_0x1d5a91[_0x3242e4(0x634)],_0x1d5a91['gUMoH']))_0x57d716[_0x3242e4(0x694)](()=>{const _0x4ea894=_0x3242e4;_0x36bb8f[_0x4ea894(0x226)](_0xa75e55[_0x4ea894(0x3b2)][_0x4ea894(0x444)],0x5),_0x4bc5a7[_0x4ea894(0x2d9)]();});else{const _0x4fac4b=_0x1d5a91['NBXhU'][_0x3242e4(0x2e5)]('|');let _0x2ea640=0x0;while(!![]){switch(_0x4fac4b[_0x2ea640++]){case'0':_0x3ed6cc[_0x3242e4(0x639)](_0x4dc6f5);continue;case'1':assert['strictEqual'](_0x33a6cd[_0x3242e4(0xcf)],'ws://localhost:'+_0x108691+'/');continue;case'2':assert[_0x3242e4(0x226)](_0x262e27,0x3ed);continue;case'3':assert[_0x3242e4(0x226)](_0x33a6cd[_0x3242e4(0x54b)],0x1);continue;case'4':_0x15ef56[_0x3242e4(0x639)]();continue;}break;}}});}});}),describe(_0x52db81(0x2c8),()=>{const _0x6fc654=_0x52db81;it(_0x6fc654(0x15e),_0x1b86ec=>{const _0x31fb70=_0x6fc654,_0x34144b={'saJtH':_0x226287[_0x31fb70(0x362)],'ONjDO':_0x226287['LWyRh'],'TdKIJ':_0x31fb70(0x1e2),'olMdq':_0x226287['sslIM'],'dPTzH':_0x31fb70(0x6c7)},_0x2e3193={'authorization':'Basic\x20Zm9vOmJhcg==','cookie':_0x226287[_0x31fb70(0x1d7)],'host':_0x226287[_0x31fb70(0x362)]},_0x5597c0=new WebSocket['Server']({'port':0x0},()=>{const _0x4d4677=_0x31fb70,_0x5bfbf5={'xNqVJ':'Authorization','jOSxf':_0x34144b[_0x4d4677(0x2c6)]};if(_0x4d4677(0x3bd)===_0x34144b[_0x4d4677(0x3d8)])_0x3fbf43[_0x4d4677(0x226)](_0x395fd5['protocol'],_0x34144b['saJtH']),_0x392e01['on'](_0x34144b[_0x4d4677(0x5ab)],()=>_0x56739c[_0x4d4677(0x639)](_0x51b2d4));else{const _0x50d7dd=_0x5597c0['address']()[_0x4d4677(0x59c)];_0x186c29['once'](_0x4d4677(0x3da),(_0x316619,_0x4816d1)=>{const _0x580023=_0x4d4677;_0x4816d1[_0x580023(0x5e1)]('HTTP/1.1\x20302\x20Found\x0d\x0a'+('Location:\x20ws://localhost:'+_0x50d7dd+_0x580023(0x1c5)));});const _0x481b3a=new WebSocket(_0x4d4677(0x377)+_0x186c29[_0x4d4677(0x37f)]()['port'],{'followRedirects':!![],'headers':_0x2e3193}),_0x521d8e=_0x481b3a[_0x4d4677(0x525)];assert[_0x4d4677(0x226)](_0x521d8e[_0x4d4677(0x256)](_0x4d4677(0x504)),_0x2e3193[_0x4d4677(0x28e)]),assert[_0x4d4677(0x226)](_0x521d8e[_0x4d4677(0x256)](_0x4d4677(0x1e2)),_0x2e3193[_0x4d4677(0x1af)]),assert['strictEqual'](_0x521d8e[_0x4d4677(0x256)](_0x34144b[_0x4d4677(0x4aa)]),_0x2e3193[_0x4d4677(0x11a)]),_0x481b3a['on'](_0x4d4677(0x626),(_0x1849aa,_0x230177)=>{const _0x58fce=_0x4d4677;assert[_0x58fce(0x226)](_0x481b3a[_0x58fce(0x54b)],0x1),assert[_0x58fce(0x226)](_0x1849aa,'ws://localhost:'+_0x50d7dd+'/'),assert[_0x58fce(0x54e)](_0x521d8e,_0x230177),assert[_0x58fce(0x226)](_0x230177[_0x58fce(0x256)](_0x5bfbf5['xNqVJ']),_0x2e3193[_0x58fce(0x28e)]),assert['strictEqual'](_0x230177[_0x58fce(0x256)](_0x5bfbf5[_0x58fce(0x234)]),_0x2e3193[_0x58fce(0x1af)]),assert[_0x58fce(0x226)](_0x230177[_0x58fce(0x256)]('Host'),_0x2e3193[_0x58fce(0x11a)]),_0x481b3a['on'](_0x58fce(0x639),_0x4ce801=>{const _0x331e79=_0x58fce;assert[_0x331e79(0x226)](_0x4ce801,0x3ed),_0x5597c0[_0x331e79(0x639)](_0x1b86ec);});});}});_0x5597c0['on'](_0x31fb70(0x35b),(_0x3d15b8,_0x520ab3)=>{const _0x4f02ec=_0x31fb70;assert[_0x4f02ec(0x226)](_0x520ab3['headers'][_0x4f02ec(0x28e)],_0x2e3193[_0x4f02ec(0x28e)]),assert[_0x4f02ec(0x226)](_0x520ab3[_0x4f02ec(0x5c3)]['cookie'],_0x2e3193[_0x4f02ec(0x1af)]),assert[_0x4f02ec(0x226)](_0x520ab3[_0x4f02ec(0x5c3)][_0x4f02ec(0x11a)],_0x2e3193[_0x4f02ec(0x11a)]),_0x3d15b8['close']();});});});}),describe(_0x156f11(0x1ae),()=>{const _0x2f37f9=_0x156f11,_0xdd60cd={'TXrag':_0x2f37f9(0x199),'pohwf':function(_0x4d2fe4,_0x511981){const _0x4d407d=_0x2f37f9;return _0x32f9c9[_0x4d407d(0xe1)](_0x4d2fe4,_0x511981);},'AzYxB':_0x32f9c9['omvkD'],'VOlrT':_0x32f9c9[_0x2f37f9(0x2cb)],'BDIKm':_0x32f9c9[_0x2f37f9(0x2dc)],'JwKCe':_0x2f37f9(0x18a)};it(_0x2f37f9(0x208),_0x126c3f=>{const _0x295a30=_0x2f37f9,_0x14ada2={'ZPGYW':_0x295a30(0x1b5)};if(_0xdd60cd[_0x295a30(0x2bf)](_0x295a30(0x6a9),_0xdd60cd['AzYxB'])){_0x186c29['once'](_0x295a30(0x3da),(_0x4179f2,_0x31a454)=>{const _0x180ff4=_0x295a30;_0x31a454[_0x180ff4(0x5e1)](_0x14ada2[_0x180ff4(0x407)]);});const _0x45e153=_0x186c29[_0x295a30(0x37f)]()[_0x295a30(0x59c)],_0x12c912=new WebSocket(_0x295a30(0x377)+_0x45e153,{'followRedirects':!![]});_0x12c912['on'](_0x295a30(0x626),(_0x1436a4,_0x418bb4)=>{const _0x249b36=_0x295a30,_0x1144c3={'dlPOJ':_0x249b36(0x1f4),'lYrfJ':'close'};assert[_0x249b36(0x226)](_0x12c912[_0x249b36(0x54b)],0x1),assert['strictEqual'](_0x1436a4,_0x249b36(0x377)+_0x45e153+_0x249b36(0x4b8)),_0x418bb4['on'](_0xdd60cd[_0x249b36(0x64d)],()=>{const _0x25dbde=_0x249b36;_0x418bb4[_0x25dbde(0x706)]();}),_0x12c912['on'](_0x249b36(0x3ea),_0x47b074=>{const _0x2bee3d=_0x249b36;assert['ok'](_0x47b074 instanceof Error),assert[_0x2bee3d(0x226)](_0x47b074['message'],_0x1144c3[_0x2bee3d(0x45d)]),_0x12c912['on'](_0x1144c3[_0x2bee3d(0x60b)],_0x4f5b07=>{const _0x44df4b=_0x2bee3d;assert[_0x44df4b(0x226)](_0x4f5b07,0x3ee),_0x126c3f();});});});}else _0x26dce2[_0x295a30(0x639)](_0x5db2ce);}),it(_0x32f9c9[_0x2f37f9(0x32d)],_0x5c2275=>{const _0x17dabe=_0x2f37f9,_0x2c4053={'BtNLN':_0x17dabe(0x23a)},_0xbf65c3=new WebSocket['Server']({'port':0x0},()=>{const _0x125588=_0x17dabe,_0x560eaf={'JZBaZ':_0xdd60cd[_0x125588(0x38c)]},_0x7b46f1=_0xbf65c3[_0x125588(0x37f)]()[_0x125588(0x59c)];_0x186c29[_0x125588(0x1c3)](_0x125588(0x3da),(_0x478993,_0x46e819)=>{const _0x3b5ef3=_0x125588;_0x46e819[_0x3b5ef3(0x5e1)](_0x2c4053[_0x3b5ef3(0x129)]+(_0x3b5ef3(0x575)+_0x7b46f1+_0x3b5ef3(0x1c5)));});const _0x380b7c={'authorization':_0xdd60cd[_0x125588(0x254)],'cookie':_0xdd60cd[_0x125588(0x146)]},_0x9f316=new WebSocket(_0x125588(0x377)+_0x186c29[_0x125588(0x37f)]()['port'],{'followRedirects':!![],'headers':_0x380b7c});_0x9f316['on'](_0x125588(0x626),(_0x5b5532,_0x3256f4)=>{const _0x53f437=_0x125588;assert[_0x53f437(0x226)](_0x9f316[_0x53f437(0x54b)],0x1),assert[_0x53f437(0x226)](_0x5b5532,_0x53f437(0x377)+_0x7b46f1+'/'),assert['strictEqual'](_0x3256f4[_0x53f437(0x256)](_0x53f437(0x504)),_0x380b7c['authorization']),assert[_0x53f437(0x226)](_0x3256f4[_0x53f437(0x256)](_0x53f437(0x1e2)),_0x380b7c[_0x53f437(0x1af)]),_0x3256f4[_0x53f437(0x613)](_0x560eaf[_0x53f437(0x28b)]),_0x3256f4[_0x53f437(0x613)](_0x53f437(0x1af)),_0x9f316['on'](_0x53f437(0x639),_0x3236eb=>{const _0x3ee748=_0x53f437;assert['strictEqual'](_0x3236eb,0x3ed),_0xbf65c3[_0x3ee748(0x639)](_0x5c2275);});});});_0xbf65c3['on'](_0x17dabe(0x35b),(_0x42a4f1,_0x21c376)=>{const _0x33fb9f=_0x17dabe;assert[_0x33fb9f(0x226)](_0x21c376[_0x33fb9f(0x5c3)][_0x33fb9f(0x28e)],undefined),assert[_0x33fb9f(0x226)](_0x21c376[_0x33fb9f(0x5c3)][_0x33fb9f(0x1af)],undefined),_0x42a4f1[_0x33fb9f(0x639)]();});});});}),describe(_0x32f9c9[_0x31aca9(0x5db)],()=>{const _0x24272a=_0x31aca9,_0x1bc508={'pzbkY':_0x24272a(0x5bb)};it(_0x24272a(0x132),_0x45c0ca=>{const _0x5aaffb=_0x24272a,_0x25a186=new WebSocket[(_0x5aaffb(0x287))]({'port':0x0},()=>{const _0x274318=_0x5aaffb,_0x238ff8=new WebSocket(_0x274318(0x377)+_0x25a186[_0x274318(0x37f)]()['port']);assert[_0x274318(0x226)](_0x238ff8[_0x274318(0x3cf)],WebSocket['CONNECTING']),assert['ok'](!_0x238ff8['isPaused']),_0x238ff8['pause'](),assert['ok'](!_0x238ff8[_0x274318(0x38e)]),_0x238ff8['on'](_0x1bc508[_0x274318(0x3f6)],()=>{const _0x49371d=_0x274318;_0x238ff8['on'](_0x49371d(0x639),()=>{const _0x521a60=_0x49371d;assert[_0x521a60(0x226)](_0x238ff8[_0x521a60(0x3cf)],WebSocket[_0x521a60(0x413)]),_0x238ff8['pause'](),assert['ok'](!_0x238ff8['isPaused']),_0x25a186[_0x521a60(0x639)](_0x45c0ca);}),_0x238ff8[_0x49371d(0x639)]();});});}),it(_0x32f9c9[_0x24272a(0x519)],_0x3bb562=>{const _0x9cb1a5=_0x24272a,_0x1851ea={'YDDtL':_0x32f9c9[_0x9cb1a5(0x66f)],'YqvZM':function(_0x561298,_0x3b0e25){return _0x561298===_0x3b0e25;}},_0x118e62=new WebSocket['Server']({'port':0x0},()=>{const _0x2dbe5e=_0x9cb1a5,_0x42bfce=new WebSocket(_0x2dbe5e(0x377)+_0x118e62[_0x2dbe5e(0x37f)]()[_0x2dbe5e(0x59c)]);});_0x118e62['on'](_0x9cb1a5(0x35b),_0x124470=>{const _0x24167d=_0x9cb1a5;if(_0x1851ea[_0x24167d(0x331)](_0x24167d(0x47b),_0x24167d(0x47b))){const _0x29c8b3=_0x24167d(0x469)[_0x24167d(0x2e5)]('|');let _0x2f97ad=0x0;while(!![]){switch(_0x29c8b3[_0x2f97ad++]){case'0':_0x118e62[_0x24167d(0x639)](_0x3bb562);continue;case'1':assert['ok'](!_0x124470[_0x24167d(0x70f)][_0x24167d(0x38e)]());continue;case'2':assert['ok'](_0x124470['isPaused']);continue;case'3':assert['ok'](!_0x124470[_0x24167d(0x38e)]);continue;case'4':_0x124470[_0x24167d(0x2d9)]();continue;case'5':assert['ok'](_0x124470[_0x24167d(0x70f)]['isPaused']());continue;case'6':_0x124470[_0x24167d(0x3d3)]();continue;}break;}}else _0x224bb2['strictEqual'](_0x24a446['getHeader']('sec-websocket-extensions'),_0x1851ea[_0x24167d(0x68c)]),_0x5e758d();});});}),_0x32f9c9[_0x31aca9(0x68f)](describe,_0x31aca9(0x5de),()=>{const _0x37482e=_0x31aca9,_0x1bcea3={'gXdTI':function(_0x3016d9,_0x4dbba6){const _0x1d7c93=_0xffb2;return _0x32f9c9[_0x1d7c93(0x147)](_0x3016d9,_0x4dbba6);},'qAfDh':function(_0x58a8aa,_0x16032d){const _0x348ba5=_0xffb2;return _0x32f9c9[_0x348ba5(0x351)](_0x58a8aa,_0x16032d);},'cDKkh':function(_0x1be1c9,_0x52d110){const _0x4d8eaa=_0xffb2;return _0x32f9c9[_0x4d8eaa(0x52d)](_0x1be1c9,_0x52d110);},'gCXdi':_0x37482e(0x3b6),'pSdmT':_0x32f9c9[_0x37482e(0x57f)],'vThYq':function(_0x3ccf26,_0x50a533){const _0x133994=_0x37482e;return _0x32f9c9[_0x133994(0x126)](_0x3ccf26,_0x50a533);},'BFtgj':'uAYlO','wNHQZ':_0x32f9c9[_0x37482e(0x653)],'yNpgQ':_0x32f9c9[_0x37482e(0x415)],'RIAtA':_0x32f9c9[_0x37482e(0x63e)]};if(_0x32f9c9[_0x37482e(0xe1)](_0x32f9c9[_0x37482e(0x172)],_0x32f9c9[_0x37482e(0x172)])){_0x2c7b57[_0x37482e(0x70f)]['prependListener']('close',()=>{const _0x596244=_0x37482e;_0x2d1da1[_0x596244(0x226)](_0x392939[_0x596244(0x3b2)][_0x596244(0x444)],0x5),_0x286a0f[_0x596244(0x226)](_0x3a1b5c[_0x596244(0x70f)][_0x596244(0x4e0)]['length'],0x3);});const _0x216330=_0x55d12c[_0x37482e(0x70f)][_0x37482e(0x4e8)];_0x4188e5['_socket']['push']=_0x315ad1=>{const _0x477116=_0x37482e;_0xe79633[_0x477116(0x70f)]['push']=_0x216330,_0x1614ac[_0x477116(0x70f)][_0x477116(0x4e8)](_0x315ad1),_0x68a1d2[_0x477116(0x2d9)]();};const _0x26750e=_0x450a15[_0x37482e(0x5e2)](_0x3b3729-0x400),_0xadfeaa=_0x288938[_0x37482e(0x5e2)](0x1),_0x10ce11={'fin':!![],'opcode':0x2,'mask':![],'readOnly':![]},_0xd8e294=[..._0x2a0c1c[_0x37482e(0x337)](_0x26750e,{'rsv1':![],..._0x10ce11}),..._0x5e6365['frame'](_0xadfeaa,{'rsv1':!![],..._0x10ce11})];for(let _0x194056=0x0;_0x1bcea3[_0x37482e(0x5d2)](_0x194056,0x154);_0x194056++){_0xd8e294[_0x37482e(0x4e8)](_0xd8e294[_0x1bcea3['qAfDh'](_0xd8e294[_0x37482e(0x33f)],0x2)],_0xd8e294[_0x1bcea3[_0x37482e(0x452)](_0xd8e294[_0x37482e(0x33f)],0x1)]);}const _0x38ab6b=_0x373c7b[_0x37482e(0x5bf)](_0xd8e294);_0x17120f['ok'](_0x1bcea3[_0x37482e(0x51d)](_0x38ab6b[_0x37482e(0x33f)],_0x563f90)),_0x216330['call'](_0x4de1a9['_socket'],_0x38ab6b),_0x50028b[_0x37482e(0x27d)][_0x37482e(0x46e)]()[_0x37482e(0x6a7)]()[_0x37482e(0x6a3)][_0x37482e(0x2bb)](_0xadfeaa,{'compress':![]});}else it(_0x32f9c9[_0x37482e(0x4a3)],()=>{const _0x1c7ba8=_0x37482e,_0x484d84=new WebSocket(_0x1bcea3['gCXdi'],{'lookup'(){}});assert[_0x1c7ba8(0x423)](()=>_0x484d84[_0x1c7ba8(0x19f)](),/^Error: WebSocket is not open: readyState 0 \(CONNECTING\)$/),assert[_0x1c7ba8(0x423)](()=>_0x484d84[_0x1c7ba8(0x19f)](NOOP),/^Error: WebSocket is not open: readyState 0 \(CONNECTING\)$/);}),it(_0x32f9c9[_0x37482e(0x397)],_0x16aa97=>{const _0x4a5d42=_0x37482e,_0x1745cf={'msTCx':function(_0x208603){return _0x208603();},'fVyIg':function(_0x393fef,_0x11007b){const _0x505955=_0xffb2;return _0x32f9c9[_0x505955(0x710)](_0x393fef,_0x11007b);},'ymPQm':_0x4a5d42(0x5e3),'KNQlg':_0x4a5d42(0x639)},_0x516f40=new WebSocket(_0x4a5d42(0x3b6),{'lookup'(){}});_0x516f40['on'](_0x32f9c9['uEvVY'],_0x444005=>{const _0x1856b5=_0x4a5d42;assert['ok'](_0x1745cf[_0x1856b5(0x52a)](_0x444005,Error)),assert['strictEqual'](_0x444005[_0x1856b5(0x1df)],_0x1745cf[_0x1856b5(0x375)]),assert[_0x1856b5(0x226)](_0x516f40['readyState'],WebSocket[_0x1856b5(0x686)]),assert[_0x1856b5(0x226)](_0x516f40['bufferedAmount'],0x0),_0x516f40[_0x1856b5(0x19f)]('hi'),assert[_0x1856b5(0x226)](_0x516f40[_0x1856b5(0x40e)],0x2),_0x516f40[_0x1856b5(0x19f)](),assert[_0x1856b5(0x226)](_0x516f40['bufferedAmount'],0x2),_0x516f40['on'](_0x1745cf['KNQlg'],()=>{const _0x29febb=_0x1856b5,_0x31a6b4=_0x29febb(0x5c2)[_0x29febb(0x2e5)]('|');let _0xd96061=0x0;while(!![]){switch(_0x31a6b4[_0xd96061++]){case'0':_0x1745cf[_0x29febb(0xd2)](_0x16aa97);continue;case'1':_0x516f40[_0x29febb(0x19f)]();continue;case'2':assert['strictEqual'](_0x516f40[_0x29febb(0x40e)],0x4);continue;case'3':_0x516f40[_0x29febb(0x19f)]('hi');continue;case'4':assert[_0x29febb(0x226)](_0x516f40['readyState'],WebSocket[_0x29febb(0x413)]);continue;case'5':assert['strictEqual'](_0x516f40[_0x29febb(0x40e)],0x4);continue;}break;}});}),_0x516f40['close']();}),_0x32f9c9[_0x37482e(0x553)](it,_0x32f9c9[_0x37482e(0x464)],_0x3311b5=>{const _0x38bd1b=_0x37482e,_0x497d00=new WebSocket[(_0x38bd1b(0x287))]({'port':0x0},()=>{const _0x421d49=_0x38bd1b,_0x18af32=new WebSocket(_0x421d49(0x377)+_0x497d00['address']()[_0x421d49(0x59c)]);});_0x497d00['on'](_0x32f9c9['ogWhE'],_0x3b6404=>{const _0x5dd3fb=_0x38bd1b,_0x3594e4={'YdNwM':_0x1bcea3[_0x5dd3fb(0x38d)],'TilUe':function(_0x2f4965,_0x68a97d){return _0x1bcea3['vThYq'](_0x2f4965,_0x68a97d);},'nrRFS':'WebSocket\x20is\x20not\x20open:\x20readyState\x203\x20(CLOSED)','IIHPd':function(_0x4287a5,_0x570317){return _0x4287a5 instanceof _0x570317;}};if(_0x5dd3fb(0x14b)!==_0x5dd3fb(0x14b)){const _0x5da1cf=_0x299209[_0x5dd3fb(0x667)](_0x3594e4[_0x5dd3fb(0x5b4)]),_0x380712=new _0x48a640(_0x5dd3fb(0x377)+_0x4f2d04[_0x5dd3fb(0x37f)]()[_0x5dd3fb(0x59c)]);_0x380712['on']('open',()=>{const _0x39a2d1=_0x5dd3fb;_0x380712[_0x39a2d1(0x2bb)](_0x5da1cf),_0x380712[_0x39a2d1(0x639)]();}),_0x380712[_0x5dd3fb(0x35f)]=_0x388c25=>{const _0x113923=_0x5dd3fb;_0x260960[_0x113923(0x657)](_0x388c25[_0x113923(0x645)],_0x5da1cf),_0x36c0cd[_0x113923(0x639)](_0x550b95);};}else _0x3b6404['close'](),assert[_0x5dd3fb(0x226)](_0x3b6404[_0x5dd3fb(0x40e)],0x0),_0x3b6404['ping']('hi',_0x391331=>{const _0x1a46d3=_0x5dd3fb,_0x352ee8={'KXLmm':function(_0x4cdd55,_0x23b0b0){const _0x10a3c9=_0xffb2;return _0x3594e4[_0x10a3c9(0x4f7)](_0x4cdd55,_0x23b0b0);},'XPwzv':_0x3594e4[_0x1a46d3(0x705)]};assert['ok'](_0x3594e4[_0x1a46d3(0x295)](_0x391331,Error)),assert[_0x1a46d3(0x226)](_0x391331['message'],_0x1a46d3(0x603)),assert[_0x1a46d3(0x226)](_0x3b6404['bufferedAmount'],0x2),_0x3b6404['on'](_0x1a46d3(0x639),()=>{const _0x164811=_0x1a46d3;_0x3b6404[_0x164811(0x19f)](_0x2252e8=>{const _0xf2386=_0x164811;assert['ok'](_0x352ee8[_0xf2386(0x4ba)](_0x2252e8,Error)),assert['strictEqual'](_0x2252e8[_0xf2386(0x1df)],_0x352ee8[_0xf2386(0x4b3)]),assert[_0xf2386(0x226)](_0x3b6404[_0xf2386(0x40e)],0x2),_0x497d00[_0xf2386(0x639)](_0x3311b5);});});});});}),it(_0x37482e(0x2ac),_0x1e4864=>{const _0x2f6155=_0x37482e;if(_0x32f9c9[_0x2f6155(0x478)]('gECfb',_0x2f6155(0x170))){const _0x4cd10e=new WebSocket[(_0x2f6155(0x287))]({'port':0x0},()=>{const _0x3e5723=_0x2f6155,_0x273414=new WebSocket('ws://localhost:'+_0x4cd10e['address']()[_0x3e5723(0x59c)]);_0x273414['on'](_0x3e5723(0x5bb),()=>{const _0x18c523=_0x3e5723;_0x273414[_0x18c523(0x19f)](()=>{const _0x1b4bc5=_0x18c523;_0x273414[_0x1b4bc5(0x19f)](),_0x273414[_0x1b4bc5(0x639)]();});});});_0x4cd10e['on']('connection',_0x34fd56=>{const _0x32b7bb=_0x2f6155;if(_0x32b7bb(0x35d)!==_0x1bcea3[_0x32b7bb(0x403)]){const _0x46fbff=new _0x304026(_0x32b7bb(0x377)+_0x9d470a[_0x32b7bb(0x37f)]()[_0x32b7bb(0x59c)],{'perMessageDeflate':{'threshold':0x0}});_0x46fbff['on']('open',()=>{const _0x41850e=_0x32b7bb;_0x46fbff[_0x41850e(0x2bb)]('hi',{'compress':!![]}),_0x46fbff[_0x41850e(0x639)]();}),_0x46fbff['on']('message',(_0x2b5ed8,_0x1723fd)=>{const _0x18e9f5=_0x32b7bb;_0x4a4344[_0x18e9f5(0x657)](_0x2b5ed8,_0x320cad['from']('hi')),_0x4f0188['ok'](!_0x1723fd),_0x1284bc[_0x18e9f5(0x639)](_0x26417c);});}else{let _0x101d73=0x0;_0x34fd56['on'](_0x32b7bb(0x19f),_0x1b6f8c=>{const _0x140ecd=_0x32b7bb;assert['ok'](Buffer[_0x140ecd(0x39d)](_0x1b6f8c)),assert[_0x140ecd(0x226)](_0x1b6f8c[_0x140ecd(0x33f)],0x0);if(++_0x101d73===0x2)_0x4cd10e[_0x140ecd(0x639)](_0x1e4864);});}});}else{const _0x50badc=new _0x1041d1(_0x2f6155(0x377)+_0x1ee483['address']()['port']);}}),it(_0x37482e(0x4d5),_0x36044f=>{const _0x2a4385=_0x37482e,_0x552406=new WebSocket[(_0x2a4385(0x287))]({'port':0x0},()=>{const _0x32e7e6=_0x2a4385,_0x46a3b9=new WebSocket(_0x32e7e6(0x377)+_0x552406[_0x32e7e6(0x37f)]()[_0x32e7e6(0x59c)]);_0x46a3b9['on'](_0x1bcea3['wNHQZ'],()=>{_0x46a3b9['ping']('hi',()=>{const _0x51afed=_0xffb2;_0x46a3b9[_0x51afed(0x19f)]('hi',!![]),_0x46a3b9['close']();});});});_0x552406['on'](_0x2a4385(0x35b),_0x3cd843=>{const _0x5b1e6b=_0x2a4385;let _0x5e8a36=0x0;_0x3cd843['on'](_0x1bcea3[_0x5b1e6b(0x59d)],_0x12ddb9=>{const _0x15acf2=_0x5b1e6b;assert[_0x15acf2(0x226)](_0x12ddb9[_0x15acf2(0x128)](),'hi');if(++_0x5e8a36===0x2)_0x552406[_0x15acf2(0x639)](_0x36044f);});});}),it(_0x32f9c9['GnZTZ'],_0x262b15=>{const _0x5b7340=_0x37482e,_0x21ab01=new WebSocket['Server']({'port':0x0},()=>{const _0x1354fb=_0xffb2,_0x40d21c=new WebSocket(_0x1354fb(0x377)+_0x21ab01[_0x1354fb(0x37f)]()[_0x1354fb(0x59c)]);_0x40d21c['on'](_0x1bcea3['wNHQZ'],()=>{const _0x3ae4bd=_0x1354fb;_0x40d21c[_0x3ae4bd(0x19f)](0x0),_0x40d21c[_0x3ae4bd(0x639)]();});});_0x21ab01['on'](_0x5b7340(0x35b),_0x1a8df5=>{const _0x97784d=_0x5b7340;_0x1a8df5['on'](_0x1bcea3[_0x97784d(0x59d)],_0x1e6c90=>{const _0x42fe3c=_0x97784d;assert['strictEqual'](_0x1e6c90[_0x42fe3c(0x128)](),'0'),_0x21ab01[_0x42fe3c(0x639)](_0x262b15);});});}),_0x32f9c9[_0x37482e(0x584)](it,_0x32f9c9[_0x37482e(0x6d8)],_0x10406e=>{const _0x3aad41=_0x37482e,_0x3e8fd9={'bSPfn':_0x1bcea3[_0x3aad41(0x18d)]},_0x44774e=new WebSocket[(_0x3aad41(0x287))]({'port':0x0},()=>{const _0x83a578=_0x3aad41,_0x196ee7=new WebSocket(_0x83a578(0x377)+_0x44774e[_0x83a578(0x37f)]()[_0x83a578(0x59c)]);_0x196ee7['on'](_0x3e8fd9[_0x83a578(0x48e)],()=>{const _0x3d82ce=_0x83a578;assert[_0x3d82ce(0x423)](()=>_0x196ee7[_0x3d82ce(0x19f)](Buffer[_0x3d82ce(0x5e2)](0x7e)),/^RangeError: The data size must not be greater than 125 bytes$/),_0x44774e[_0x3d82ce(0x639)](_0x10406e);});});_0x44774e['on'](_0x1bcea3[_0x3aad41(0xe0)],_0x2b7c4c=>{const _0x3270f8=_0x3aad41;_0x2b7c4c[_0x3270f8(0x639)]();});});}),_0x32f9c9[_0x31aca9(0x171)](describe,_0x31aca9(0xfd),()=>{const _0x271910=_0x31aca9,_0x2162b1={'ItNGG':function(_0x27dd77){return _0x27dd77();},'TAZHD':function(_0x2f1881,_0x43c9dd){return _0x32f9c9['yfbkK'](_0x2f1881,_0x43c9dd);},'cYUSI':_0x271910(0x3bb),'CAuNA':_0x32f9c9[_0x271910(0x6d5)],'cKYJV':_0x32f9c9[_0x271910(0x37b)],'apefJ':_0x271910(0x5bb),'SpzpI':function(_0x2e8d7e,_0x4a8db6){const _0x4f5d79=_0x271910;return _0x32f9c9[_0x4f5d79(0x3ae)](_0x2e8d7e,_0x4a8db6);},'lrlBK':_0x32f9c9[_0x271910(0x17f)],'mNlzr':'connection','yxxrV':_0x32f9c9[_0x271910(0x3c3)]};_0x32f9c9['DkvtA'](it,_0x32f9c9[_0x271910(0x4a3)],()=>{const _0x37f021=_0x271910,_0x4df730=new WebSocket(_0x32f9c9[_0x37f021(0x6d5)],{'lookup'(){}});assert['throws'](()=>_0x4df730['pong'](),/^Error: WebSocket is not open: readyState 0 \(CONNECTING\)$/),assert[_0x37f021(0x423)](()=>_0x4df730[_0x37f021(0x4be)](NOOP),/^Error: WebSocket is not open: readyState 0 \(CONNECTING\)$/);}),_0x32f9c9['YuXHI'](it,_0x32f9c9[_0x271910(0x397)],_0x1e500f=>{const _0x11564b=_0x271910,_0x3e9c9e={'lJQCT':function(_0x219649,_0x4fefee){return _0x219649===_0x4fefee;},'GHxbX':function(_0x57a827){const _0x2882b8=_0xffb2;return _0x2162b1[_0x2882b8(0x2e2)](_0x57a827);},'ftela':_0x11564b(0x5e3)};if(_0x2162b1[_0x11564b(0x384)](_0x11564b(0x3bb),_0x2162b1[_0x11564b(0x5cd)])){const _0x3a42ab=new _0x300fb1(_0x38b0ee,_0x3a37ff);_0x24b9ee[_0x11564b(0x226)](_0x3a42ab[_0x11564b(0x525)][_0x11564b(0x256)](_0x11564b(0x11a)),_0x1955d7);}else{const _0xb5ff2e=new WebSocket(_0x2162b1['CAuNA'],{'lookup'(){}});_0xb5ff2e['on'](_0x2162b1['cKYJV'],_0x17edfa=>{const _0x15cac6=_0x11564b;assert['ok'](_0x17edfa instanceof Error),assert[_0x15cac6(0x226)](_0x17edfa[_0x15cac6(0x1df)],_0x3e9c9e[_0x15cac6(0x257)]),assert[_0x15cac6(0x226)](_0xb5ff2e['readyState'],WebSocket[_0x15cac6(0x686)]),assert[_0x15cac6(0x226)](_0xb5ff2e['bufferedAmount'],0x0),_0xb5ff2e[_0x15cac6(0x4be)]('hi'),assert[_0x15cac6(0x226)](_0xb5ff2e[_0x15cac6(0x40e)],0x2),_0xb5ff2e[_0x15cac6(0x4be)](),assert[_0x15cac6(0x226)](_0xb5ff2e[_0x15cac6(0x40e)],0x2),_0xb5ff2e['on']('close',()=>{const _0xb54966=_0x15cac6;_0x3e9c9e[_0xb54966(0x15f)](_0xb54966(0x163),_0xb54966(0x21c))?(_0x8da617[_0xb54966(0x657)](_0x4eb697,_0x5d0dcc[_0xb54966(0x667)]('hi')),_0x534290['ok'](!_0x37f3d0),_0x4a0ba4['close'](_0xfbbe52)):(assert[_0xb54966(0x226)](_0xb5ff2e[_0xb54966(0x3cf)],WebSocket[_0xb54966(0x413)]),_0xb5ff2e[_0xb54966(0x4be)]('hi'),assert[_0xb54966(0x226)](_0xb5ff2e[_0xb54966(0x40e)],0x4),_0xb5ff2e[_0xb54966(0x4be)](),assert['strictEqual'](_0xb5ff2e['bufferedAmount'],0x4),_0x3e9c9e['GHxbX'](_0x1e500f));});}),_0xb5ff2e[_0x11564b(0x639)]();}}),_0x32f9c9['DkvtA'](it,_0x32f9c9[_0x271910(0x464)],_0x5c074c=>{const _0x7d1b90=_0x271910,_0x1906b2={'qVYQW':_0x2162b1['apefJ'],'tMIOZ':function(_0x72c61c,_0x24c55f){const _0x3657d6=_0xffb2;return _0x2162b1[_0x3657d6(0x3eb)](_0x72c61c,_0x24c55f);},'jOiKe':_0x7d1b90(0x639),'nISEb':_0x2162b1['lrlBK']},_0x2fd4b6=new WebSocket[(_0x7d1b90(0x287))]({'port':0x0},()=>{const _0x40f204=new WebSocket('ws://localhost:'+_0x2fd4b6['address']()['port']);});_0x2fd4b6['on'](_0x2162b1['mNlzr'],_0x5ea597=>{const _0x566578=_0x7d1b90,_0x542fb2={'NIOCY':_0x566578(0x194)};if(_0x566578(0x6bb)!==_0x1906b2[_0x566578(0x44a)]){const _0x118b11=new _0x1ceb16(_0x566578(0x377)+_0x56b723[_0x566578(0x37f)]()['port'],{'perMessageDeflate':!![],'maxPayload':_0xaac986});_0x118b11['on'](_0x1906b2[_0x566578(0x3d0)],()=>{const _0x403078=_0x566578;_0x15f143[_0x403078(0x226)](_0x118b11['_receiver'][_0x403078(0x566)],_0x29e2ea),_0x188b52[_0x403078(0x226)](_0x118b11['_receiver'][_0x403078(0x577)][_0x542fb2['NIOCY']][_0x403078(0x566)],_0x561c4a),_0x360f7e[_0x403078(0x639)](_0x144cff);});}else _0x5ea597[_0x566578(0x639)](),assert[_0x566578(0x226)](_0x5ea597[_0x566578(0x40e)],0x0),_0x5ea597['pong']('hi',_0x219206=>{const _0x403b0f=_0x566578;assert['ok'](_0x1906b2['tMIOZ'](_0x219206,Error)),assert[_0x403b0f(0x226)](_0x219206[_0x403b0f(0x1df)],'WebSocket\x20is\x20not\x20open:\x20readyState\x202\x20(CLOSING)'),assert[_0x403b0f(0x226)](_0x5ea597[_0x403b0f(0x40e)],0x2),_0x5ea597['on'](_0x1906b2[_0x403b0f(0x3d4)],()=>{_0x5ea597['pong'](_0x27e673=>{const _0x29201c=_0xffb2;assert['ok'](_0x27e673 instanceof Error),assert[_0x29201c(0x226)](_0x27e673[_0x29201c(0x1df)],_0x29201c(0x116)),assert[_0x29201c(0x226)](_0x5ea597[_0x29201c(0x40e)],0x2),_0x2fd4b6[_0x29201c(0x639)](_0x5c074c);});});});});}),_0x32f9c9['USOXU'](it,_0x271910(0x4f3),_0x2f75ab=>{const _0x3a55bd=_0x271910,_0x35a410={'BsnOl':_0x3a55bd(0x6da)},_0x434ad5=new WebSocket[(_0x3a55bd(0x287))]({'port':0x0},()=>{const _0x963f4e=_0x3a55bd,_0x38a897=new WebSocket('ws://localhost:'+_0x434ad5[_0x963f4e(0x37f)]()['port']);_0x38a897['on']('open',()=>{const _0x43e61e=_0x963f4e;_0x35a410['BsnOl']===_0x43e61e(0x29c)?(_0x278244['ok'](_0x1f2aae),_0x427cf7[_0x43e61e(0x2bb)](_0x3566db)):_0x38a897[_0x43e61e(0x4be)](()=>{const _0x1d0b26=_0x43e61e;_0x38a897[_0x1d0b26(0x4be)](),_0x38a897['close']();});});});_0x434ad5['on'](_0x2162b1[_0x3a55bd(0x26b)],_0x57f2db=>{const _0x2a27e3=_0x3a55bd;let _0x435243=0x0;_0x57f2db['on'](_0x2a27e3(0x4be),_0x295b7d=>{const _0x2e8af8=_0x2a27e3;assert['ok'](Buffer[_0x2e8af8(0x39d)](_0x295b7d)),assert[_0x2e8af8(0x226)](_0x295b7d[_0x2e8af8(0x33f)],0x0);if(++_0x435243===0x2)_0x434ad5[_0x2e8af8(0x639)](_0x2f75ab);});});}),_0x32f9c9['NqBtE'](it,_0x271910(0x232),_0x3a5c2e=>{const _0x10ca7f=_0x271910,_0x50ff99={'IdsFM':_0x2162b1['apefJ']},_0x1d6352=new WebSocket['Server']({'port':0x0},()=>{const _0x31f3a2=_0xffb2,_0x15ab80=new WebSocket('ws://localhost:'+_0x1d6352['address']()[_0x31f3a2(0x59c)]);_0x15ab80['on'](_0x2162b1[_0x31f3a2(0x27c)],()=>{_0x15ab80['pong']('hi',()=>{const _0x3ba6aa=_0xffb2;_0x15ab80[_0x3ba6aa(0x4be)]('hi',!![]),_0x15ab80[_0x3ba6aa(0x639)]();});});});_0x1d6352['on'](_0x10ca7f(0x35b),_0x2fbcbc=>{const _0x25e0a8=_0x10ca7f,_0x51ca0e={'wdaKq':_0x25e0a8(0x5fd),'CdNWh':_0x50ff99[_0x25e0a8(0x6c3)]};let _0x5b53c8=0x0;_0x2fbcbc['on'](_0x25e0a8(0x4be),_0xca93bc=>{const _0x59e7e1=_0x25e0a8;if(_0x59e7e1(0x4c6)===_0x59e7e1(0x4c6)){assert[_0x59e7e1(0x226)](_0xca93bc[_0x59e7e1(0x128)](),'hi');if(++_0x5b53c8===0x2)_0x1d6352[_0x59e7e1(0x639)](_0x3a5c2e);}else{const _0x13d874={'prcDu':_0x51ca0e[_0x59e7e1(0x156)]},_0x3d0511=new _0x268ea1('ws://localhost:'+_0x4b07f0[_0x59e7e1(0x37f)]()[_0x59e7e1(0x59c)],{'perMessageDeflate':{'threshold':0x0}});_0x3d0511['on'](_0x51ca0e[_0x59e7e1(0x16d)],()=>{const _0x1dfa49=_0x59e7e1;_0x3d0511['send'](_0x13d874['prcDu']),_0x218f1c[_0x1dfa49(0x226)](_0x3d0511[_0x1dfa49(0x40e)],0x3),_0x3d0511[_0x1dfa49(0x2bb)]('bar',_0xc6d045=>{const _0x49d2c2=_0x1dfa49;_0x38b4b1[_0x49d2c2(0x2a5)](_0xc6d045),_0x143fb1['strictEqual'](_0x3d0511['bufferedAmount'],0x0),_0x50a08a[_0x49d2c2(0x639)](_0xddf939);}),_0x3aefa8[_0x1dfa49(0x226)](_0x3d0511[_0x1dfa49(0x40e)],0x6);});}});});}),it(_0x271910(0x22d),_0x4be243=>{const _0x47a3a4=_0x271910,_0x38b602={'uiwEG':'wqhSf','leUdZ':_0x47a3a4(0x5bb)},_0x62f412=new WebSocket[(_0x47a3a4(0x287))]({'port':0x0},()=>{const _0x16cde4=_0x47a3a4,_0x17bab3=new WebSocket('ws://localhost:'+_0x62f412[_0x16cde4(0x37f)]()[_0x16cde4(0x59c)]);_0x17bab3['on'](_0x38b602['leUdZ'],()=>{const _0x546ceb=_0x16cde4;_0x546ceb(0x3e7)===_0x38b602[_0x546ceb(0x675)]?(_0x4622f1[_0x546ceb(0x657)](_0x538b3b,['','','','']),_0xaf5c29[_0x546ceb(0x226)](_0x44072f,0x3e8),_0x1ce2e0[_0x546ceb(0x657)](_0x4d9ca5,_0x4db4fe),_0x51d462[_0x546ceb(0x639)](_0x1c3327)):(_0x17bab3[_0x546ceb(0x4be)](0x0),_0x17bab3['close']());});});_0x62f412['on']('connection',_0x3c5405=>{const _0x3b5f54=_0x47a3a4;_0x3c5405['on'](_0x2162b1[_0x3b5f54(0x165)],_0x8c886=>{const _0x19b96e=_0x3b5f54;assert[_0x19b96e(0x226)](_0x8c886[_0x19b96e(0x128)](),'0'),_0x62f412[_0x19b96e(0x639)](_0x4be243);});});}),_0x32f9c9[_0x271910(0x30c)](it,'throws\x20an\x20error\x20if\x20the\x20data\x20size\x20is\x20greater\x20than\x20125\x20bytes',_0x4168fb=>{const _0x1bd20d=_0x271910,_0x1cc608=new WebSocket[(_0x1bd20d(0x287))]({'port':0x0},()=>{const _0x30988f=_0x1bd20d,_0x3aa2e4=new WebSocket(_0x30988f(0x377)+_0x1cc608['address']()[_0x30988f(0x59c)]);_0x3aa2e4['on'](_0x30988f(0x5bb),()=>{const _0x44d5f3=_0x30988f;assert['throws'](()=>_0x3aa2e4[_0x44d5f3(0x4be)](Buffer[_0x44d5f3(0x5e2)](0x7e)),/^RangeError: The data size must not be greater than 125 bytes$/),_0x1cc608[_0x44d5f3(0x639)](_0x4168fb);});});_0x1cc608['on']('connection',_0xaab649=>{const _0x2f759e=_0x1bd20d;_0xaab649[_0x2f759e(0x639)]();});}),it(_0x32f9c9['JNpgf'],_0x5e98dd=>{const _0x12f2b1=_0x271910,_0x56a0c7={'IZhye':_0x32f9c9['UHehd']},_0x420c2c=Buffer['from']('hi'),_0x2492c4=new WebSocket[(_0x12f2b1(0x287))]({'port':0x0},()=>{const _0x3667ff=_0x12f2b1,_0x330f86=new WebSocket(_0x3667ff(0x377)+_0x2492c4[_0x3667ff(0x37f)]()[_0x3667ff(0x59c)]);_0x330f86['on']('open',()=>{const _0x308cf4=_0x3667ff;_0x330f86[_0x308cf4(0x19f)](_0x420c2c);}),_0x330f86['on'](_0x2162b1['yxxrV'],_0x4c356d=>{const _0x4c5b1b=_0x3667ff;assert[_0x4c5b1b(0x657)](_0x4c356d,_0x420c2c),_0x2492c4['close'](_0x5e98dd);});});_0x2492c4['on'](_0x32f9c9[_0x12f2b1(0x63e)],_0x16415e=>{const _0x184cb9=_0x12f2b1;_0x16415e['on'](_0x56a0c7[_0x184cb9(0x2ba)],_0x1ccbaf=>{const _0x1daf99=_0x184cb9;assert[_0x1daf99(0x657)](_0x1ccbaf,_0x420c2c),_0x16415e[_0x1daf99(0x639)]();});});});}),describe(_0x32f9c9['bLBJu'],()=>{const _0x5ccdac=_0x31aca9,_0x27dfb3={'VzzOS':_0x32f9c9[_0x5ccdac(0x285)]};_0x32f9c9[_0x5ccdac(0x188)](it,_0x5ccdac(0x132),_0x146a44=>{const _0x5c50d8=_0x5ccdac,_0x1c98fb={'FhHoV':_0x27dfb3[_0x5c50d8(0x10e)],'xKxQC':_0x5c50d8(0x5bb)},_0x13573f=new WebSocket[(_0x5c50d8(0x287))]({'port':0x0},()=>{const _0x3335f8=_0x5c50d8,_0x2e194b=new WebSocket('ws://localhost:'+_0x13573f[_0x3335f8(0x37f)]()[_0x3335f8(0x59c)]);assert[_0x3335f8(0x226)](_0x2e194b[_0x3335f8(0x3cf)],WebSocket['CONNECTING']),assert['ok'](!_0x2e194b[_0x3335f8(0x38e)]),_0x2e194b['resume'](),_0x2e194b['on'](_0x1c98fb['xKxQC'],()=>{const _0x2a7e42=_0x3335f8;_0x2e194b[_0x2a7e42(0x3d3)](),assert['ok'](_0x2e194b[_0x2a7e42(0x38e)]),_0x2e194b['on'](_0x1c98fb[_0x2a7e42(0x410)],()=>{const _0xb7ed1c=_0x2a7e42;assert[_0xb7ed1c(0x226)](_0x2e194b['readyState'],WebSocket[_0xb7ed1c(0x413)]),_0x2e194b[_0xb7ed1c(0x12d)](),assert['ok'](_0x2e194b['isPaused']),_0x13573f[_0xb7ed1c(0x639)](_0x146a44);}),_0x2e194b[_0x2a7e42(0x2d9)]();});});}),_0x32f9c9[_0x5ccdac(0x1ab)](it,_0x5ccdac(0x6cf),_0x8b9b81=>{const _0x1faa2d=_0x5ccdac,_0xfa80c2=new WebSocket[(_0x1faa2d(0x287))]({'port':0x0},()=>{const _0x26141f=_0x1faa2d,_0x119d4d=new WebSocket(_0x26141f(0x377)+_0xfa80c2['address']()[_0x26141f(0x59c)]);});_0xfa80c2['on'](_0x1faa2d(0x35b),_0x1b2418=>{const _0x34b003=_0x1faa2d,_0x3b6e19=_0x34b003(0x556)['split']('|');let _0x26381e=0x0;while(!![]){switch(_0x3b6e19[_0x26381e++]){case'0':assert['ok'](!_0x1b2418['isPaused']);continue;case'1':_0x1b2418[_0x34b003(0x12d)]();continue;case'2':assert['ok'](!_0x1b2418[_0x34b003(0x70f)][_0x34b003(0x38e)]());continue;case'3':assert['ok'](_0x1b2418[_0x34b003(0x70f)][_0x34b003(0x38e)]());continue;case'4':_0x1b2418[_0x34b003(0x3d3)]();continue;case'5':_0xfa80c2[_0x34b003(0x639)](_0x8b9b81);continue;case'6':assert['ok'](!_0x1b2418['isPaused']);continue;case'7':_0x1b2418[_0x34b003(0x639)]();continue;case'8':assert['ok'](_0x1b2418['isPaused']);continue;case'9':assert['ok'](!_0x1b2418[_0x34b003(0x70f)]['isPaused']());continue;}break;}});});}),_0x32f9c9[_0x31aca9(0x4a7)](describe,_0x32f9c9['XPSCv'],()=>{const _0x324b44=_0x31aca9,_0xfdba34={'uQJQW':function(_0x31c161,_0x3cf1f8){return _0x31c161!==_0x3cf1f8;},'yUInR':'SvqoS','mkhpf':function(_0x1ac991,_0xb48739){const _0x2d681a=_0xffb2;return _0x32f9c9[_0x2d681a(0x1b2)](_0x1ac991,_0xb48739);},'bJIey':function(_0x4b19d6,_0x2de264){return _0x4b19d6<_0x2de264;},'KaYyG':_0x32f9c9['fqHzc'],'iukma':function(_0x1afc97,_0x50781d){const _0x1f82d2=_0xffb2;return _0x32f9c9[_0x1f82d2(0x5d5)](_0x1afc97,_0x50781d);},'FnzKo':_0x32f9c9['MfBtf'],'lCPlt':_0x324b44(0x1df),'jKjmE':_0x32f9c9['IoBGv'],'cnCIv':function(_0x1f0830,_0x4b2749){const _0x240cc4=_0x324b44;return _0x32f9c9[_0x240cc4(0x147)](_0x1f0830,_0x4b2749);},'XuHQB':function(_0x3a3ae9,_0x2baa95){return _0x32f9c9['BywVb'](_0x3a3ae9,_0x2baa95);},'KEWzW':function(_0xed5548,_0x1bfb37){return _0x32f9c9['sOIyS'](_0xed5548,_0x1bfb37);},'CkpZG':_0x324b44(0x4eb),'trsiG':_0x32f9c9[_0x324b44(0x244)],'skSvv':function(_0xb5183f,_0x16f68b){return _0x32f9c9['xdbdI'](_0xb5183f,_0x16f68b);},'bQDRh':_0x32f9c9['uEvVY'],'spmYh':'foobar'};_0x32f9c9['Jyrzz'](_0x32f9c9[_0x324b44(0x14c)],_0x324b44(0x389))?(_0x32f9c9[_0x324b44(0x13e)](it,_0x324b44(0x5df),()=>{const _0x15a36a=_0x324b44,_0x64d37d=new WebSocket('ws://localhost',{'lookup'(){}});assert[_0x15a36a(0x423)](()=>_0x64d37d[_0x15a36a(0x2bb)]('hi'),/^Error: WebSocket is not open: readyState 0 \(CONNECTING\)$/),assert[_0x15a36a(0x423)](()=>_0x64d37d['send']('hi',NOOP),/^Error: WebSocket is not open: readyState 0 \(CONNECTING\)$/);}),_0x32f9c9[_0x324b44(0x535)](it,_0x32f9c9[_0x324b44(0x397)],_0x357e39=>{const _0x45b35c=_0x324b44,_0x32b630={'cARwG':_0x45b35c(0x3ed),'bomBQ':function(_0x521c53,_0x26f6bb){return _0x32f9c9['sOIyS'](_0x521c53,_0x26f6bb);}},_0x22fff9=new WebSocket(_0x45b35c(0x3b6),{'lookup'(){}});_0x22fff9['on'](_0x32f9c9[_0x45b35c(0x37b)],_0x12e88a=>{const _0x32a3da=_0x45b35c,_0x45c6b2={'cJOou':'c10100c10100c10100c10100','YMOaQ':'hex'};if(_0x32b630['bomBQ'](_0x32a3da(0x555),_0x32a3da(0x596)))assert['ok'](_0x12e88a instanceof Error),assert[_0x32a3da(0x226)](_0x12e88a[_0x32a3da(0x1df)],_0x32a3da(0x5e3)),assert[_0x32a3da(0x226)](_0x22fff9[_0x32a3da(0x3cf)],WebSocket[_0x32a3da(0x686)]),assert[_0x32a3da(0x226)](_0x22fff9[_0x32a3da(0x40e)],0x0),_0x22fff9['send']('hi'),assert['strictEqual'](_0x22fff9[_0x32a3da(0x40e)],0x2),_0x22fff9[_0x32a3da(0x2bb)](),assert[_0x32a3da(0x226)](_0x22fff9[_0x32a3da(0x40e)],0x2),_0x22fff9['on']('close',()=>{const _0x5ea94b=_0x32a3da,_0x41705d={'FayWn':_0x5ea94b(0x639)};if(_0x5ea94b(0x3ed)===_0x32b630[_0x5ea94b(0x5f8)])assert[_0x5ea94b(0x226)](_0x22fff9[_0x5ea94b(0x3cf)],WebSocket[_0x5ea94b(0x413)]),_0x22fff9[_0x5ea94b(0x2bb)]('hi'),assert['strictEqual'](_0x22fff9[_0x5ea94b(0x40e)],0x4),_0x22fff9[_0x5ea94b(0x2bb)](),assert[_0x5ea94b(0x226)](_0x22fff9['bufferedAmount'],0x4),_0x357e39();else{const _0x135ce6={'cHdmE':function(_0x120559,_0x1dbf06){return _0x120559 instanceof _0x1dbf06;}},_0x521239=new _0x5b5cc2(_0x5ea94b(0x377)+_0xad706[_0x5ea94b(0x37f)]()[_0x5ea94b(0x59c)]);_0x521239[_0x5ea94b(0x658)](_0x41705d[_0x5ea94b(0x418)],_0x3e2d8b=>{const _0x137146=_0x5ea94b,_0x1a4f2b=_0x137146(0x1ea)['split']('|');let _0x211af7=0x0;while(!![]){switch(_0x1a4f2b[_0x211af7++]){case'0':_0x2a8c0c[_0x137146(0x226)](_0x3e2d8b[_0x137146(0x48d)],0x3e8);continue;case'1':_0x219e7d['ok'](_0x3e2d8b[_0x137146(0x620)]);continue;case'2':_0x17f54c[_0x137146(0x226)](_0x3e2d8b['reason'],'');continue;case'3':_0x28b9fe[_0x137146(0x639)](_0x63c8cf);continue;case'4':_0x5ab05d['ok'](_0x135ce6['cHdmE'](_0x3e2d8b,_0x51a403));continue;}break;}});}});else{const _0x2419a4=_0x3c8b9b['from'](_0x45c6b2[_0x32a3da(0x1bb)],_0x45c6b2[_0x32a3da(0x2f4)]);_0x3eb60e[_0x32a3da(0x70f)][_0x32a3da(0x3b4)](_0x2419a4);}}),_0x22fff9[_0x45b35c(0x639)]();}),it(_0x324b44(0x599),_0x12c3cc=>{const _0x20b21d=_0x324b44,_0x499b96={'uOaAL':'close'},_0x561845=new WebSocket[(_0x20b21d(0x287))]({'port':0x0},()=>{const _0x13283a=_0x20b21d;if(_0xfdba34[_0x13283a(0x501)](_0xfdba34[_0x13283a(0x421)],_0x13283a(0x3cd))){const _0x129d4a=new WebSocket(_0x13283a(0x377)+_0x561845[_0x13283a(0x37f)]()['port']);}else{const _0x166bb2=new _0x1c9ac0(_0x13283a(0x377)+_0x426121['address']()[_0x13283a(0x59c)]);}});_0x561845['on'](_0x32f9c9[_0x20b21d(0x63e)],_0x34e601=>{const _0x38142b=_0x20b21d;_0x34e601[_0x38142b(0x639)](),assert[_0x38142b(0x226)](_0x34e601['bufferedAmount'],0x0),_0x34e601[_0x38142b(0x2bb)]('hi',_0x48555e=>{const _0x184212=_0x38142b,_0x123a1b={'FLfSa':function(_0x5c5e95,_0x133207){return _0x5c5e95 instanceof _0x133207;},'CwlNL':_0x184212(0x116)};assert['ok'](_0x48555e instanceof Error),assert[_0x184212(0x226)](_0x48555e[_0x184212(0x1df)],_0x184212(0x603)),assert[_0x184212(0x226)](_0x34e601[_0x184212(0x40e)],0x2),_0x34e601['on'](_0x499b96[_0x184212(0xf6)],()=>{const _0x3e141c=_0x184212;_0x34e601[_0x3e141c(0x2bb)]('hi',_0x33223d=>{const _0xde01ca=_0x3e141c;assert['ok'](_0x123a1b[_0xde01ca(0x3e4)](_0x33223d,Error)),assert[_0xde01ca(0x226)](_0x33223d['message'],_0x123a1b[_0xde01ca(0x4e5)]),assert['strictEqual'](_0x34e601[_0xde01ca(0x40e)],0x4),_0x561845[_0xde01ca(0x639)](_0x12c3cc);});});});});}),_0x32f9c9['uPrBJ'](it,'can\x20send\x20a\x20big\x20binary\x20message',_0x165496=>{const _0x48f0d0=_0x324b44,_0x5f039c={'GUAAS':_0x48f0d0(0x3b6),'FpsOl':_0x32f9c9[_0x48f0d0(0x37b)],'xRgmy':_0x48f0d0(0x639)};if(_0x32f9c9[_0x48f0d0(0x298)]===_0x32f9c9[_0x48f0d0(0x298)]){const _0x6f9cf4=new WebSocket[(_0x48f0d0(0x287))]({'port':0x0},()=>{const _0x5f0555=_0x48f0d0,_0x2aee99={'botuq':function(_0x301a50,_0xcf1d05){return _0xfdba34['mkhpf'](_0x301a50,_0xcf1d05);},'MPLGP':_0x5f0555(0x5e3)},_0x4bd4f6=new Float32Array(0x400*0x400);for(let _0xa8c13c=0x0;_0xfdba34['bJIey'](_0xa8c13c,_0x4bd4f6[_0x5f0555(0x33f)]);_0xa8c13c++){if(_0x5f0555(0x1ef)!==_0xfdba34[_0x5f0555(0xff)])_0x4bd4f6[_0xa8c13c]=_0xfdba34['iukma'](_0xa8c13c,0x5);else{const _0x10eed8=new _0x39170(_0x5f039c['GUAAS'],{'lookup'(){}});_0x10eed8['on'](_0x5f039c['FpsOl'],_0xf665c1=>{const _0x225184=_0x5f0555;_0x256c36['ok'](_0x2aee99['botuq'](_0xf665c1,_0x7da946)),_0x2d8bae['strictEqual'](_0xf665c1[_0x225184(0x1df)],_0x2aee99[_0x225184(0x4e3)]),_0x561e0c['strictEqual'](_0x10eed8['readyState'],_0x15a0c0[_0x225184(0x686)]),_0x408b28['strictEqual'](_0x10eed8[_0x225184(0x40e)],0x0),_0x10eed8[_0x225184(0x2bb)]('hi'),_0x3ab172[_0x225184(0x226)](_0x10eed8[_0x225184(0x40e)],0x2),_0x10eed8[_0x225184(0x2bb)](),_0x13c6f0[_0x225184(0x226)](_0x10eed8[_0x225184(0x40e)],0x2),_0x10eed8['on'](_0x225184(0x639),()=>{const _0xcce2e3=_0x225184;_0x382497[_0xcce2e3(0x226)](_0x10eed8[_0xcce2e3(0x3cf)],_0x215070['CLOSED']),_0x10eed8['send']('hi'),_0x59fe14[_0xcce2e3(0x226)](_0x10eed8['bufferedAmount'],0x4),_0x10eed8[_0xcce2e3(0x2bb)](),_0x592dbe['strictEqual'](_0x10eed8[_0xcce2e3(0x40e)],0x4),_0x1434c0();});}),_0x10eed8[_0x5f0555(0x639)]();}}const _0x293946=new WebSocket(_0x5f0555(0x377)+_0x6f9cf4[_0x5f0555(0x37f)]()['port']);_0x293946['on'](_0xfdba34['FnzKo'],()=>_0x293946[_0x5f0555(0x2bb)](_0x4bd4f6)),_0x293946['on'](_0xfdba34[_0x5f0555(0x198)],(_0x3dc301,_0x414825)=>{const _0x22f432=_0x5f0555;assert[_0x22f432(0x657)](_0x3dc301,Buffer[_0x22f432(0x667)](_0x4bd4f6['buffer'])),assert['ok'](_0x414825),_0x6f9cf4[_0x22f432(0x639)](_0x165496);});});_0x6f9cf4['on'](_0x32f9c9['ogWhE'],_0x479989=>{const _0x514da3=_0x48f0d0;_0x479989['on'](_0xfdba34[_0x514da3(0x198)],(_0x1b27b3,_0x40a077)=>{const _0x3ff65c=_0x514da3;assert['ok'](_0x40a077),_0x479989[_0x3ff65c(0x2bb)](_0x1b27b3),_0x479989[_0x3ff65c(0x639)]();});});}else{const _0x3a5858={'EtoXv':function(_0x3bdcab,_0x5ec609){return _0x3bdcab instanceof _0x5ec609;},'SOKWD':_0x48f0d0(0x211),'qVEnI':_0x5f039c[_0x48f0d0(0x5fb)]};_0x1d69ec[_0x48f0d0(0x70f)]['on'](_0x5f039c[_0x48f0d0(0x220)],_0x22e60d=>{const _0x248d39=_0x48f0d0;_0x4b99d8['ok'](_0x3a5858[_0x248d39(0x14d)](_0x22e60d,_0x3cbb28)),_0x1d5db7[_0x248d39(0x226)](_0x22e60d[_0x248d39(0x48d)],_0x3a5858[_0x248d39(0x460)]),_0x3a1aee['on'](_0x3a5858[_0x248d39(0x1b6)],(_0x295746,_0x30201c)=>{const _0x5332dc=_0x248d39;_0x1a4ae1[_0x5332dc(0x226)](_0x295746,0x3ee),_0x401c9e['strictEqual'](_0x30201c,_0xfa5c8b),_0x1a3164[_0x5332dc(0x639)](_0x3f8dea);});}),_0x329721[_0x48f0d0(0x27d)]['values']()[_0x48f0d0(0x6a7)]()[_0x48f0d0(0x6a3)][_0x48f0d0(0x70f)][_0x48f0d0(0xf1)]();}}),it('can\x20send\x20text\x20data',_0x521c8e=>{const _0x4d2bab=_0x324b44,_0x474d57=new WebSocket[(_0x4d2bab(0x287))]({'port':0x0},()=>{const _0x44f25c=_0x4d2bab,_0x560028=new WebSocket(_0x44f25c(0x377)+_0x474d57[_0x44f25c(0x37f)]()['port']);_0x560028['on'](_0xfdba34[_0x44f25c(0x44f)],()=>_0x560028[_0x44f25c(0x2bb)]('hi')),_0x560028['on'](_0xfdba34['lCPlt'],(_0x57b4f0,_0x460af1)=>{const _0x304ffc=_0x44f25c;assert[_0x304ffc(0x657)](_0x57b4f0,Buffer[_0x304ffc(0x667)]('hi')),assert['ok'](!_0x460af1),_0x474d57[_0x304ffc(0x639)](_0x521c8e);});});_0x474d57['on']('connection',_0xa9b4ac=>{_0xa9b4ac['on'](_0xfdba34['lCPlt'],(_0x3bdc9e,_0xfe29e0)=>{const _0x515982=_0xffb2;_0xa9b4ac[_0x515982(0x2bb)](_0x3bdc9e,{'binary':_0xfe29e0}),_0xa9b4ac[_0x515982(0x639)]();});});}),it(_0x324b44(0x2d3),_0x217b24=>{const _0x57bd1c=_0x324b44,_0x58e211={'NFdTa':_0x32f9c9[_0x57bd1c(0x3ec)],'ICPlR':_0x32f9c9[_0x57bd1c(0x43f)]},_0x2b2a94=new WebSocket[(_0x57bd1c(0x287))]({'port':0x0},()=>{const _0x196756=_0x57bd1c,_0x224a49=new WebSocket(_0x196756(0x377)+_0x2b2a94[_0x196756(0x37f)]()[_0x196756(0x59c)]);_0x224a49['on'](_0x196756(0x5bb),()=>{const _0x5dc2fc=_0x196756;_0x224a49['send'](_0x5dc2fc(0x364),{'fin':![]}),_0x224a49[_0x5dc2fc(0x2bb)](_0x58e211[_0x5dc2fc(0x1ee)],{'fin':!![]}),_0x224a49[_0x5dc2fc(0x639)]();});});_0x2b2a94['on'](_0x32f9c9[_0x57bd1c(0x63e)],_0x34f918=>{_0x34f918['on'](_0x58e211['ICPlR'],(_0x3be2f8,_0x3e4da2)=>{const _0x212611=_0xffb2;assert['deepStrictEqual'](_0x3be2f8,Buffer[_0x212611(0x667)](_0x212611(0x197))),assert['ok'](!_0x3e4da2),_0x2b2a94[_0x212611(0x639)](_0x217b24);});});}),_0x32f9c9[_0x324b44(0x359)](it,_0x32f9c9['AdySS'],_0x3f20d3=>{const _0x7ec7c2=_0x324b44,_0x70d8ed=new WebSocket[(_0x7ec7c2(0x287))]({'port':0x0},()=>{const _0x2bc7ff=_0x7ec7c2,_0xa783f2=new WebSocket(_0x2bc7ff(0x377)+_0x70d8ed[_0x2bc7ff(0x37f)]()['port']);_0xa783f2['on'](_0xfdba34['FnzKo'],()=>{const _0xc25fa7=_0x2bc7ff;_0xa783f2[_0xc25fa7(0x2bb)](0x0),_0xa783f2[_0xc25fa7(0x639)]();});});_0x70d8ed['on'](_0x32f9c9['ogWhE'],_0x4f067e=>{const _0x111fdf=_0x7ec7c2,_0x44ad30={'UtZxR':function(_0x405529,_0x2c15af){return _0xfdba34['uQJQW'](_0x405529,_0x2c15af);},'WqKqg':_0x111fdf(0x2bd),'ZknBz':_0x111fdf(0x4e4)};_0x4f067e['on'](_0x111fdf(0x1df),(_0x147b78,_0x41d7a1)=>{const _0x254395=_0x111fdf;_0x44ad30[_0x254395(0x581)](_0x44ad30[_0x254395(0x369)],_0x44ad30[_0x254395(0xf0)])?(assert[_0x254395(0x657)](_0x147b78,Buffer[_0x254395(0x667)]('0')),assert['ok'](!_0x41d7a1),_0x70d8ed[_0x254395(0x639)](_0x3f20d3)):_0x39d9b6['on'](_0x254395(0x1df),(_0x5bc6f9,_0x3af104)=>{const _0x5f0636=_0x254395;_0x2fb116[_0x5f0636(0x226)](_0x5bc6f9,_0x58359e),_0x345ef6['ok'](_0x3af104),_0x624a61['close'](_0x23b4bf);});});});}),_0x32f9c9[_0x324b44(0x484)](it,_0x32f9c9[_0x324b44(0x1d8)],_0x6d92aa=>{const _0x57f33c=_0x324b44,_0x149cdf={'bmDmJ':_0x57f33c(0x138),'oJqxL':_0x57f33c(0x639)},_0x236e71=new WebSocket[(_0x57f33c(0x287))]({'port':0x0},()=>{const _0x2fe0e8=_0x57f33c,_0x4c1215={'GweSs':function(_0x21da58,_0x474789){return _0x21da58===_0x474789;},'LogSn':_0xfdba34[_0x2fe0e8(0x708)]},_0x57823a=new Float32Array(0x6);for(let _0x1f164d=0x0;_0xfdba34[_0x2fe0e8(0x547)](_0x1f164d,_0x57823a[_0x2fe0e8(0x33f)]);++_0x1f164d){_0xfdba34['uQJQW'](_0x2fe0e8(0x4bb),_0x2fe0e8(0x368))?_0x57823a[_0x1f164d]=_0xfdba34[_0x2fe0e8(0x6be)](_0x1f164d,0x2):(_0x38bd05['ok'](_0x326703 instanceof _0x3dc41e),_0x3f5355[_0x2fe0e8(0x226)](_0x5c47d7[_0x2fe0e8(0x1df)],_0x149cdf[_0x2fe0e8(0x50b)]),_0x16b1c0['on'](_0x149cdf[_0x2fe0e8(0x5dd)],()=>_0x10f604()));}const _0x386fa8=_0x57823a['subarray'](0x2,0x5),_0x384748=Buffer[_0x2fe0e8(0x667)](_0x386fa8[_0x2fe0e8(0x376)],_0x386fa8[_0x2fe0e8(0x26a)],_0x386fa8[_0x2fe0e8(0x50c)]),_0x191bdb=new WebSocket('ws://localhost:'+_0x236e71[_0x2fe0e8(0x37f)]()[_0x2fe0e8(0x59c)]);_0x191bdb['on']('open',()=>{const _0x3701a3=_0x2fe0e8;_0x191bdb['send'](_0x386fa8),_0x191bdb[_0x3701a3(0x639)]();}),_0x191bdb['on'](_0x2fe0e8(0x1df),(_0x3b466f,_0x575ca2)=>{const _0x302013=_0x2fe0e8;_0x4c1215[_0x302013(0x388)](_0x4c1215[_0x302013(0x2aa)],_0x302013(0x39e))?(assert[_0x302013(0x657)](_0x3b466f,_0x384748),assert['ok'](_0x575ca2),_0x236e71[_0x302013(0x639)](_0x6d92aa)):_0x5be7bb['close']();});});_0x236e71['on']('connection',_0x568e3a=>{const _0x496ecc=_0x57f33c;_0x568e3a['on'](_0xfdba34[_0x496ecc(0x198)],(_0x146c7e,_0x4b4fdd)=>{assert['ok'](_0x4b4fdd),_0x568e3a['send'](_0x146c7e);});});}),_0x32f9c9[_0x324b44(0x553)](it,_0x32f9c9['orrHb'],_0x54f677=>{const _0xc0248b=_0x324b44,_0x238de8={'WUcyR':function(_0x1a8b7b,_0x44822b){return _0x1a8b7b<_0x44822b;},'Edvxd':function(_0x5040b3,_0x274bee){return _0x5040b3/_0x274bee;}},_0x3f09c1=new WebSocket[(_0xc0248b(0x287))]({'port':0x0},()=>{const _0x5753de=_0xc0248b,_0x1bd76f=new Float32Array(0x5);for(let _0xd37cbf=0x0;_0x238de8[_0x5753de(0x608)](_0xd37cbf,_0x1bd76f['length']);++_0xd37cbf){_0x1bd76f[_0xd37cbf]=_0x238de8[_0x5753de(0x3e1)](_0xd37cbf,0x2);}const _0x51193b=new WebSocket('ws://localhost:'+_0x3f09c1[_0x5753de(0x37f)]()['port']);_0x51193b['on'](_0x5753de(0x5bb),()=>{const _0x40c783=_0x5753de;_0x51193b[_0x40c783(0x2bb)](_0x1bd76f[_0x40c783(0x376)]),_0x51193b[_0x40c783(0x639)]();}),_0x51193b[_0x5753de(0x35f)]=_0x25e26b=>{const _0x19ad0d=_0x5753de;assert['ok'](_0x25e26b[_0x19ad0d(0x645)][_0x19ad0d(0x3a0)](Buffer[_0x19ad0d(0x667)](_0x1bd76f['buffer']))),_0x3f09c1[_0x19ad0d(0x639)](_0x54f677);};});_0x3f09c1['on']('connection',_0x8cc0b8=>{const _0x24cffe=_0xc0248b;_0x8cc0b8['on'](_0x24cffe(0x1df),(_0x5f53de,_0x258079)=>{const _0x5814ad=_0x24cffe;assert['ok'](_0x258079),_0x8cc0b8[_0x5814ad(0x2bb)](_0x5f53de);});});}),_0x32f9c9[_0x324b44(0x35c)](it,_0x32f9c9[_0x324b44(0x3b5)],_0x31be22=>{const _0x526da9=_0x324b44,_0x3ab91f={'jGMqk':_0x526da9(0x210),'YeAkd':_0xfdba34[_0x526da9(0x44f)],'QXlmp':function(_0x503c89,_0x487ec1){const _0x26b0e6=_0x526da9;return _0xfdba34[_0x26b0e6(0x5a6)](_0x503c89,_0x487ec1);},'yHVrj':_0xfdba34[_0x526da9(0x213)],'VVlkK':_0x526da9(0x1df)},_0x492b2f=new WebSocket[(_0x526da9(0x287))]({'port':0x0},()=>{const _0x5a6afa=_0x526da9,_0x1c6cee=Buffer[_0x5a6afa(0x667)](_0x3ab91f['jGMqk']),_0x584f03=new WebSocket(_0x5a6afa(0x377)+_0x492b2f[_0x5a6afa(0x37f)]()[_0x5a6afa(0x59c)]);_0x584f03['on'](_0x3ab91f[_0x5a6afa(0x527)],()=>{const _0x4c703a=_0x5a6afa;_0x584f03[_0x4c703a(0x2bb)](_0x1c6cee),_0x584f03[_0x4c703a(0x639)]();}),_0x584f03[_0x5a6afa(0x35f)]=_0xba9561=>{const _0x3697bd=_0x5a6afa;assert[_0x3697bd(0x657)](_0xba9561[_0x3697bd(0x645)],_0x1c6cee),_0x492b2f[_0x3697bd(0x639)](_0x31be22);};});_0x492b2f['on'](_0x526da9(0x35b),_0xfb6924=>{const _0x1cb6d5=_0x526da9,_0x42d8bb={'YjAbd':_0x1cb6d5(0x603)};_0x3ab91f[_0x1cb6d5(0x6d9)](_0x1cb6d5(0x4eb),_0x3ab91f[_0x1cb6d5(0x37c)])?(_0x135781['ok'](_0xcae314 instanceof _0x2efcf8),_0xca6550['strictEqual'](_0xd14c11[_0x1cb6d5(0x1df)],_0x42d8bb['YjAbd']),_0x77545a[_0x1cb6d5(0x226)](_0x42a447[_0x1cb6d5(0x40e)],0x2),_0x4fcf24['on'](_0x1cb6d5(0x639),()=>{const _0x58d791=_0x1cb6d5,_0x345937={'YPJys':function(_0x42b7fb,_0x52e10c){return _0x42b7fb instanceof _0x52e10c;}};_0x1b1045[_0x58d791(0x4be)](_0x15af41=>{const _0x40e9d5=_0x58d791;_0x5c2b85['ok'](_0x345937[_0x40e9d5(0x158)](_0x15af41,_0xdefb87)),_0x502036[_0x40e9d5(0x226)](_0x15af41[_0x40e9d5(0x1df)],_0x40e9d5(0x116)),_0x2261e9[_0x40e9d5(0x226)](_0x255f48[_0x40e9d5(0x40e)],0x2),_0x5c8265['close'](_0x21be35);});})):_0xfb6924['on'](_0x3ab91f[_0x1cb6d5(0x173)],(_0x49ee27,_0x5b7e5a)=>{const _0x569f58=_0x1cb6d5;assert['ok'](_0x5b7e5a),_0xfb6924[_0x569f58(0x2bb)](_0x49ee27);});});}),_0x32f9c9['aBuBL'](it,_0x324b44(0x1db),_0x51544f=>{const _0xb2070e=new WebSocket['Server']({'port':0x0},()=>{const _0x5c9b1e=_0xffb2,_0x39efd2={'cUdkB':function(_0x5c7d8d,_0x39049d){return _0x5c7d8d(_0x39049d);},'YSfzm':'RvCvf','hSmOT':_0x5c9b1e(0x279),'kqCzC':function(_0x329554,_0x19c215){return _0x329554===_0x19c215;},'ZLnmO':_0x5c9b1e(0x240),'jsKEp':_0xfdba34[_0x5c9b1e(0x548)]},_0x19e79c=new WebSocket('ws://localhost:'+_0xb2070e['address']()[_0x5c9b1e(0x59c)]);_0x19e79c['on'](_0x5c9b1e(0x5bb),()=>{const _0x226962=_0x5c9b1e;if(_0x39efd2[_0x226962(0x1b9)](_0x39efd2[_0x226962(0x676)],_0x39efd2[_0x226962(0x223)])){const _0x1f2453=_0x3b46ab[_0x226962(0x5d6)](_0x348479[_0x226962(0x3e5)],'binaryType');_0x492114[_0x226962(0x226)](_0x1f2453[_0x226962(0x3cb)],!![]),_0x53cbd9['strictEqual'](_0x1f2453[_0x226962(0x12c)],!![]),_0x2de692['ok'](_0x1f2453['get']!==_0x25125a),_0x1817cb['ok'](_0x1f2453[_0x226962(0x40b)]!==_0x215bec);}else _0x19e79c[_0x226962(0x2bb)]('hi',_0x4a05e2=>{const _0x42ef66=_0x226962,_0x2815d9={'zLwvi':function(_0x2d0fdb,_0x25aa0b){const _0x2e7a25=_0xffb2;return _0x39efd2[_0x2e7a25(0x580)](_0x2d0fdb,_0x25aa0b);}};if(_0x39efd2[_0x42ef66(0x66d)]===_0x39efd2[_0x42ef66(0x6e8)]){_0x58f081['ok'](!_0x5786c2),_0x2aa385(_0x42ef66(0x524),0x3e8);if(_0x5ee7fa[_0x42ef66(0x4e8)](_0x34e5b0[_0x42ef66(0x128)]())>0x1)return;_0x2815d9[_0x42ef66(0x33d)](_0x10504a,()=>{const _0x8a90a8=_0x42ef66;_0x3bb23c[_0x8a90a8(0x694)](()=>{const _0x108124=_0x8a90a8;_0x1ad426[_0x108124(0x226)](_0x449898[_0x108124(0x3b2)][_0x108124(0x444)],0x5),_0x5df670[_0x108124(0x2d9)]();});});}else assert[_0x42ef66(0x2a5)](_0x4a05e2),_0xb2070e[_0x42ef66(0x639)](_0x51544f);});});});_0xb2070e['on'](_0x32f9c9['ogWhE'],_0x3fa2ca=>{const _0x1b51ab=_0xffb2;_0x3fa2ca[_0x1b51ab(0x639)]();});}),_0x32f9c9[_0x324b44(0x584)](it,_0x324b44(0x2f3),_0x5a74bf=>{const _0x2b4b15=_0x324b44,_0x51176d=new WebSocket[(_0x2b4b15(0x287))]({'port':0x0},()=>{const _0x2b0cbb=_0x2b4b15,_0x57b12b=new WebSocket('ws://localhost:'+_0x51176d[_0x2b0cbb(0x37f)]()[_0x2b0cbb(0x59c)]);_0x57b12b['on'](_0xfdba34[_0x2b0cbb(0x44f)],()=>{const _0x4f397b=_0x2b0cbb;_0x57b12b[_0x4f397b(0x2bb)](),_0x57b12b[_0x4f397b(0x639)]();});});_0x51176d['on']('connection',_0x4eb5a6=>{const _0x1c8e2f=_0x2b4b15;if(_0xfdba34['skSvv'](_0x1c8e2f(0x3ee),_0x1c8e2f(0x3ee)))_0x4eb5a6['on'](_0x1c8e2f(0x1df),(_0x89b680,_0x5ca6a7)=>{const _0x373bb5=_0x1c8e2f;assert['strictEqual'](_0x89b680,EMPTY_BUFFER),assert['ok'](_0x5ca6a7),_0x51176d[_0x373bb5(0x639)](_0x5a74bf);});else{let _0x4514f4=0x0;_0x3fa270['on']('ping',_0x10688b=>{const _0x207b63=_0x1c8e2f;_0x4c0fd8['ok'](_0x142b71[_0x207b63(0x39d)](_0x10688b)),_0x472be0[_0x207b63(0x226)](_0x10688b[_0x207b63(0x33f)],0x0);if(++_0x4514f4===0x2)_0x58ed79[_0x207b63(0x639)](_0x3d98e3);});}});}),_0x32f9c9['TMUgo'](it,_0x32f9c9[_0x324b44(0x412)],_0x3d362a=>{const _0x4a32fe=_0x324b44,_0x181b79={'tWOeZ':function(_0x204619,_0x3b1375){return _0x204619!==_0x3b1375;},'LotDA':_0x32f9c9[_0x4a32fe(0x19e)],'PglKH':function(_0x2b210b,_0x4b6a8c){return _0x2b210b===_0x4b6a8c;},'NkkIU':_0x4a32fe(0x693),'leRDv':_0x4a32fe(0x3b8),'EvQxJ':'close'};let _0x613c97=![],_0x38d615=![];const _0xddebcf=new WebSocket[(_0x4a32fe(0x287))]({'port':0x0},()=>{const _0x1b11be=_0x4a32fe,_0x47f106=new WebSocket(_0x1b11be(0x377)+_0xddebcf[_0x1b11be(0x37f)]()[_0x1b11be(0x59c)]);_0x47f106['on'](_0xfdba34[_0x1b11be(0x44f)],()=>_0x47f106[_0x1b11be(0x2bb)]('hi',{'mask':![]})),_0x47f106['on']('close',(_0x10ff14,_0xfaae4e)=>{const _0x49f102=_0x1b11be;assert[_0x49f102(0x226)](_0x10ff14,0x3ea),assert['deepStrictEqual'](_0xfaae4e,EMPTY_BUFFER),_0x613c97=!![];if(_0x38d615)_0xddebcf[_0x49f102(0x639)](_0x3d362a);});});_0xddebcf['on'](_0x32f9c9[_0x4a32fe(0x63e)],_0x3f3cc3=>{const _0x5b200f=_0x4a32fe,_0x1dc7a9=[];_0x3f3cc3[_0x5b200f(0x70f)][_0x5b200f(0x51f)](_0x5b200f(0x645),_0x34adbd=>{const _0x399ea0=_0x5b200f,_0x32904d={'CaYBM':_0x399ea0(0x639)};if(_0x181b79[_0x399ea0(0x16f)]('JLmuU',_0x181b79[_0x399ea0(0x1c8)]))_0x1dc7a9[_0x399ea0(0x4e8)](_0x34adbd);else{const _0x358448=new _0x174ba9[(_0x399ea0(0x287))]({'port':0x0},()=>{const _0x290820=_0x399ea0,_0x56a60f=new _0x3d236d(_0x290820(0x377)+_0x358448[_0x290820(0x37f)]()[_0x290820(0x59c)]);_0x56a60f['on'](_0x290820(0x5bb),()=>{const _0x2776f0=_0x290820;_0x444819[_0x2776f0(0x226)](_0x56a60f[_0x2776f0(0x3cf)],_0x5e33ca[_0x2776f0(0x5e9)]),_0x56a60f[_0x2776f0(0x639)]();}),_0x56a60f['on'](_0x32904d[_0x290820(0x123)],()=>_0x358448[_0x290820(0x639)](_0x24bbc6));});}}),_0x3f3cc3['on'](_0xfdba34[_0x5b200f(0x414)],_0x45461e=>{const _0x566dfc=_0x5b200f;_0x181b79[_0x566dfc(0x60a)](_0x566dfc(0x4d4),'snrlj')?(assert['ok'](_0x45461e instanceof RangeError),assert['strictEqual'](_0x45461e[_0x566dfc(0x1df)],_0x181b79[_0x566dfc(0x5f0)]),assert['ok'](Buffer[_0x566dfc(0x5bf)](_0x1dc7a9)[_0x566dfc(0x2d8)](0x0,0x2)[_0x566dfc(0x3a0)](Buffer[_0x566dfc(0x667)]('8102',_0x181b79[_0x566dfc(0x698)]))),_0x3f3cc3['on'](_0x181b79[_0x566dfc(0x48f)],(_0x32fa1c,_0x2ad575)=>{const _0x3b1e82=_0x566dfc;assert['strictEqual'](_0x32fa1c,0x3ee),assert['strictEqual'](_0x2ad575,EMPTY_BUFFER),_0x38d615=!![];if(_0x613c97)_0xddebcf[_0x3b1e82(0x639)](_0x3d362a);})):(_0x4f2181[_0x566dfc(0x2a5)](_0x1ada7e),_0x37b189[_0x566dfc(0x226)](_0x3fc17c['bufferedAmount'],0x0),_0x39d7ff[_0x566dfc(0x639)](_0x45ad57));});});})):_0x1e3fdf['on'](_0x32f9c9[_0x324b44(0x43f)],(_0x1e5df9,_0x3ddaa6)=>{const _0xb88b36=_0x324b44;_0x282be1[_0xb88b36(0x657)](_0x1e5df9,_0x436bfd['from'](_0xfdba34[_0xb88b36(0x23c)])),_0x5a4022['ok'](!_0x3ddaa6),_0x26823f[_0xb88b36(0x639)](_0x11faca);});}),_0x32f9c9[_0x31aca9(0x4f8)](describe,'#close',()=>{const _0x3795a3=_0x31aca9,_0x11f277={'ewnhT':_0x3795a3(0x5bb),'JMgeI':_0x3795a3(0x3ea),'Wbxnd':_0x32f9c9[_0x3795a3(0x285)],'fIYkT':function(_0x332902){const _0x399df6=_0x3795a3;return _0x32f9c9[_0x399df6(0x360)](_0x332902);},'cZamc':function(_0x2453d6,_0xcaab49){return _0x2453d6===_0xcaab49;},'tmuJu':'ERGby','KrlJv':function(_0x555a8a,_0x53569d,_0x377b81){return _0x555a8a(_0x53569d,_0x377b81);},'fJDOL':_0x32f9c9[_0x3795a3(0x62d)],'xYfCV':function(_0x4eea1c,_0x554b29){return _0x4eea1c instanceof _0x554b29;},'jnZLp':_0x32f9c9['MSPIq'],'MjJoe':function(_0xa7ca0a,_0x416d9c){return _0xa7ca0a instanceof _0x416d9c;},'LenMb':function(_0x275255,_0x267ad4){return _0x275255+_0x267ad4;},'WSgrZ':_0x32f9c9[_0x3795a3(0x30d)],'iiGAC':'xxycz','EHUjs':_0x32f9c9[_0x3795a3(0x455)],'rOzrI':_0x3795a3(0x4b2),'PppXz':function(_0x1ead0b,_0x56dc8e){return _0x1ead0b+_0x56dc8e;},'SDBRt':_0x3795a3(0x673),'GjtiH':function(_0xb14466,_0x4e2456){const _0x508830=_0x3795a3;return _0x32f9c9[_0x508830(0x53a)](_0xb14466,_0x4e2456);},'leqVF':_0x3795a3(0x4e2),'aZbRP':_0x3795a3(0x6e5),'kPAIR':'Connection:\x20Upgrade\x0d\x0a','tGxkr':_0x32f9c9[_0x3795a3(0x321)],'wLQGC':_0x3795a3(0x4df),'RvDeH':function(_0x360013,_0x2e17a4){return _0x360013!==_0x2e17a4;},'WkgJB':_0x32f9c9[_0x3795a3(0x42f)],'dAZuM':_0x32f9c9[_0x3795a3(0x2cb)],'sqiuL':_0x3795a3(0x504),'eWetx':_0x3795a3(0x3da),'EJTQT':_0x3795a3(0x470),'JooTC':'redirect','QJhZu':_0x3795a3(0x1df),'zUIRc':_0x3795a3(0x711),'mFcWS':_0x32f9c9[_0x3795a3(0x63e)],'XaqmZ':_0x3795a3(0x2f5),'sKETv':'nxcqJ'};it(_0x32f9c9[_0x3795a3(0x10d)],_0x39f815=>{const _0x39e426=_0x3795a3,_0x544de3={'ohWnx':_0x39e426(0x61e),'kSfvF':_0x11f277[_0x39e426(0x473)]},_0x5e4d21=new WebSocket[(_0x39e426(0x287))]({'port':0x0},()=>{const _0x1ebffe=_0x39e426,_0x38f972=new WebSocket(_0x1ebffe(0x377)+_0x5e4d21[_0x1ebffe(0x37f)]()['port']);_0x38f972['on'](_0x11f277[_0x1ebffe(0x642)],()=>_0x39f815(new Error(_0x1ebffe(0x1f7)))),_0x38f972['on'](_0x11f277[_0x1ebffe(0x3f7)],_0x53855d=>{const _0x1abc61=_0x1ebffe,_0x55b3b9={'LyTfZ':_0x1abc61(0x645)};_0x544de3[_0x1abc61(0x6e6)]===_0x544de3[_0x1abc61(0x6e6)]?(assert['ok'](_0x53855d instanceof Error),assert[_0x1abc61(0x226)](_0x53855d[_0x1abc61(0x1df)],_0x1abc61(0x5e3)),_0x38f972['on'](_0x544de3[_0x1abc61(0xde)],()=>_0x5e4d21[_0x1abc61(0x639)](_0x39f815))):_0x419bc9[_0x1abc61(0x70f)]['once'](_0x55b3b9[_0x1abc61(0x2f9)],_0x214f09=>{_0xb230e1=_0x214f09;});}),_0x38f972[_0x1ebffe(0x639)](0x3e9);});}),it(_0x3795a3(0x594),_0x53f523=>{const _0x2d0e6b=_0x3795a3,_0x47ad2c={'lZMNS':function(_0x13d0b3,_0x2c62a0){return _0x13d0b3 instanceof _0x2c62a0;},'Glexh':_0x2d0e6b(0x5e3),'MkuJk':_0x32f9c9[_0x2d0e6b(0x285)]},_0x52153e=new WebSocket[(_0x2d0e6b(0x287))]({'verifyClient':(_0x5640a7,_0x3043a4)=>setTimeout(_0x3043a4,0x12c,!![]),'port':0x0},()=>{const _0x30a119=_0x2d0e6b,_0x1fa4a4={'kLNbB':function(_0x1cfb3){const _0x195a5b=_0xffb2;return _0x11f277[_0x195a5b(0x651)](_0x1cfb3);}};if(_0x11f277['cZamc'](_0x11f277[_0x30a119(0x5a5)],_0x11f277[_0x30a119(0x5a5)])){const _0x1733ff=new WebSocket(_0x30a119(0x377)+_0x52153e[_0x30a119(0x37f)]()[_0x30a119(0x59c)]);_0x1733ff['on'](_0x30a119(0x5bb),()=>_0x53f523(new Error('Unexpected\x20\x27open\x27\x20event'))),_0x1733ff['on']('error',_0x8157fc=>{const _0x4b0682=_0x30a119;assert['ok'](_0x47ad2c[_0x4b0682(0x4e1)](_0x8157fc,Error)),assert[_0x4b0682(0x226)](_0x8157fc['message'],_0x47ad2c[_0x4b0682(0xca)]),_0x1733ff['on'](_0x47ad2c['MkuJk'],()=>_0x52153e[_0x4b0682(0x639)](_0x53f523));}),_0x11f277['KrlJv'](setTimeout,()=>_0x1733ff[_0x30a119(0x639)](0x3e9),0x96);}else _0x48b9ac['strictEqual'](_0x5939df[_0x30a119(0x339)],''),_0x5d1bba['connect']=_0xd57618,_0x1fa4a4[_0x30a119(0x2a4)](_0x244526);});}),it('closes\x20the\x20connection\x20if\x20called\x20while\x20connecting\x20(3/3)',_0x3f4f73=>{const _0x1c777f=_0x3795a3,_0x2927f0={'eWVAT':function(_0x479386,_0x13446f){return _0x11f277['xYfCV'](_0x479386,_0x13446f);},'eWftj':function(_0x3c6f33,_0x4a6e6d){return _0x3c6f33!==_0x4a6e6d;},'TPrGb':_0x11f277[_0x1c777f(0x3ac)],'PbsVW':function(_0x11910c,_0x20ef90){return _0x11f277['MjJoe'](_0x11910c,_0x20ef90);},'cnsIE':_0x11f277[_0x1c777f(0x473)],'xwXxs':function(_0x5ea27b,_0x2837e2){const _0x4b53fd=_0x1c777f;return _0x11f277[_0x4b53fd(0x6d1)](_0x5ea27b,_0x2837e2);},'ArRvn':function(_0x1ef239,_0xc00aab){const _0x4ef211=_0x1c777f;return _0x11f277[_0x4ef211(0x6d1)](_0x1ef239,_0xc00aab);},'eHvhb':_0x1c777f(0x66b),'WxMQt':_0x11f277[_0x1c777f(0x558)]},_0x58f671=http[_0x1c777f(0x683)]();_0x58f671[_0x1c777f(0x684)](0x0,()=>{const _0x4fb449=_0x1c777f,_0x254482={'tAcSI':_0x4fb449(0x5e1)},_0x329009=new WebSocket('ws://localhost:'+_0x58f671[_0x4fb449(0x37f)]()[_0x4fb449(0x59c)]);_0x329009['on'](_0x11f277[_0x4fb449(0x642)],()=>_0x3f4f73(new Error(_0x4fb449(0x1f7)))),_0x329009['on'](_0x11f277[_0x4fb449(0x3f7)],_0x3bd5e4=>{const _0x3f59f7=_0x4fb449,_0x560e2d={'jTxuh':function(_0xa044,_0x5f0727){const _0x59f23c=_0xffb2;return _0x2927f0[_0x59f23c(0x4db)](_0xa044,_0x5f0727);},'LJVgY':_0x3f59f7(0x116)};_0x2927f0[_0x3f59f7(0x230)](_0x3f59f7(0x3ca),_0x2927f0[_0x3f59f7(0xd0)])?_0xa54d7b[_0x3f59f7(0x4be)](_0x4c2d2c=>{const _0x5a2708=_0x3f59f7;_0x567567['ok'](_0x560e2d[_0x5a2708(0x652)](_0x4c2d2c,_0x45110e)),_0x21713a[_0x5a2708(0x226)](_0x4c2d2c[_0x5a2708(0x1df)],_0x560e2d[_0x5a2708(0x496)]),_0x5b4479[_0x5a2708(0x226)](_0x294a20[_0x5a2708(0x40e)],0x2),_0x5488b2[_0x5a2708(0x639)](_0x5cc8e8);}):(assert['ok'](_0x2927f0['PbsVW'](_0x3bd5e4,Error)),assert['strictEqual'](_0x3bd5e4[_0x3f59f7(0x1df)],_0x3f59f7(0x5e3)),_0x329009['on'](_0x2927f0[_0x3f59f7(0x417)],()=>{_0x58f671['close'](_0x3f4f73);}));}),_0x329009['on'](_0x11f277[_0x4fb449(0x2d0)],(_0x5ad0b3,_0xc8bf75)=>{const _0x15532e=_0x4fb449;assert[_0x15532e(0x226)](_0xc8bf75['statusCode'],0x1f6);const _0x177473=[];_0xc8bf75['on']('data',_0x536a93=>{const _0xbd8107=_0x15532e;_0x177473[_0xbd8107(0x4e8)](_0x536a93);}),_0xc8bf75['on'](_0x254482[_0x15532e(0x3bc)],()=>{const _0x2fe817=_0x15532e;assert[_0x2fe817(0x226)](Buffer[_0x2fe817(0x5bf)](_0x177473)['toString'](),_0x2fe817(0x5fd)),_0x329009['close']();});});}),_0x58f671['on'](_0x1c777f(0x3da),(_0x3dcd1b,_0x128149)=>{const _0x7cb330=_0x1c777f;_0x128149['on'](_0x7cb330(0x5e1),_0x128149[_0x7cb330(0x5e1)]),_0x128149[_0x7cb330(0x3b4)](_0x2927f0['xwXxs'](_0x2927f0[_0x7cb330(0x107)](_0x2927f0[_0x7cb330(0x311)]('HTTP/1.1\x20502\x20'+http[_0x7cb330(0x4c7)][0x1f6]+'\x0d\x0a',_0x7cb330(0x6fc)),_0x7cb330(0x1e9))+_0x2927f0['eHvhb'],'\x0d\x0a')+_0x2927f0[_0x7cb330(0x175)]);});}),it(_0x3795a3(0x3f4),_0x2c3b3b=>{const _0x3b9bc6=_0x3795a3,_0xb8fb8a={'EmwXG':_0x32f9c9[_0x3b9bc6(0x24d)],'kJhMU':_0x3b9bc6(0x639),'chriC':_0x32f9c9[_0x3b9bc6(0x27b)],'IjPub':_0x3b9bc6(0x5bb)},_0x3ab97b=net['createServer']();_0x3ab97b['on'](_0x32f9c9[_0x3b9bc6(0x63e)],_0x4e78aa=>{const _0x17f35=_0x3b9bc6;_0x4e78aa['on']('end',_0x4e78aa[_0x17f35(0x5e1)]),_0x4e78aa[_0x17f35(0x12d)](),_0x4e78aa[_0x17f35(0x3b4)](Buffer[_0x17f35(0x667)](_0xb8fb8a[_0x17f35(0x573)]));}),_0x3ab97b[_0x3b9bc6(0x684)](0x0,()=>{const _0x154ae5=_0x3b9bc6,_0xdb40d3={'eejPC':function(_0x4ec0bf,_0x25f503){return _0x4ec0bf instanceof _0x25f503;},'VExMg':_0x154ae5(0x104),'gSekd':_0xb8fb8a['kJhMU']};if(_0xb8fb8a['chriC']!==_0xb8fb8a[_0x154ae5(0x28a)])_0x16de65['strictEqual'](_0x422c59[_0x154ae5(0x5c3)]['authorization'],_0xa42ffb),_0x2888df[_0x154ae5(0x639)]();else{const _0x4afcc7=new WebSocket('ws://localhost:'+_0x3ab97b[_0x154ae5(0x37f)]()['port']);_0x4afcc7['on'](_0xb8fb8a['IjPub'],()=>_0x2c3b3b(new Error('Unexpected\x20\x27open\x27\x20event'))),_0x4afcc7['on'](_0x154ae5(0x3ea),_0x5a8ba3=>{const _0x2786a6=_0x154ae5;assert['ok'](_0xdb40d3[_0x2786a6(0x69a)](_0x5a8ba3,Error)),assert[_0x2786a6(0x226)](_0x5a8ba3['code'],_0xdb40d3[_0x2786a6(0x633)]),_0x4afcc7[_0x2786a6(0x639)](),_0x4afcc7['on'](_0xdb40d3[_0x2786a6(0x1d2)],()=>{const _0x706435=_0x2786a6;_0x3ab97b[_0x706435(0x639)](_0x2c3b3b);});});}});}),it(_0x3795a3(0x41a),_0x34f461=>{const _0x3101c0=_0x3795a3,_0x23099f={'EHfpy':_0x3101c0(0x1b5),'MMZnJ':function(_0x21bd14,_0xfac56d){return _0x21bd14 instanceof _0xfac56d;},'nDVzC':_0x32f9c9[_0x3101c0(0x285)],'zZSWs':'uRxHj','KQSLw':_0x3101c0(0x3ea),'hXXLN':_0x32f9c9[_0x3101c0(0x155)]};if(_0x3101c0(0x700)==='rkUWD'){const _0x243a14=http[_0x3101c0(0x683)]();_0x243a14['once'](_0x3101c0(0x3da),(_0xc8ebae,_0x45895d)=>{const _0x155c2a=_0x3101c0;_0x45895d[_0x155c2a(0x5e1)](_0x23099f[_0x155c2a(0x190)]);}),_0x243a14[_0x3101c0(0x684)](()=>{const _0x3fd521=_0x3101c0,_0x9107f6={'YFkxs':function(_0x2a9bb5,_0x103a29){return _0x2a9bb5!==_0x103a29;},'Hinty':_0x23099f[_0x3fd521(0x26e)]},_0x6b4389=_0x243a14[_0x3fd521(0x37f)]()[_0x3fd521(0x59c)],_0x33b9a0=new WebSocket(_0x3fd521(0x377)+_0x6b4389,{'followRedirects':!![]});_0x33b9a0['on'](_0x3fd521(0x5bb),()=>{const _0x221579=_0x3fd521;_0x34f461(new Error(_0x221579(0x1f7)));}),_0x33b9a0['on'](_0x23099f[_0x3fd521(0x17c)],_0x5196a4=>{const _0x9128df=_0x3fd521;assert['ok'](_0x23099f[_0x9128df(0x612)](_0x5196a4,Error)),assert['strictEqual'](_0x5196a4[_0x9128df(0x1df)],_0x9128df(0x5e3)),_0x33b9a0['on'](_0x23099f[_0x9128df(0x255)],_0xe17b25=>{const _0xe75921=_0x9128df;assert[_0xe75921(0x226)](_0xe17b25,0x3ee),_0x243a14[_0xe75921(0x639)](_0x34f461);});}),_0x33b9a0['on'](_0x23099f[_0x3fd521(0x447)],()=>{const _0x45707e=_0x3fd521;_0x9107f6[_0x45707e(0x30b)](_0x9107f6[_0x45707e(0x111)],'eDCaK')?_0x33b9a0['close']():_0x57b75e['handleUpgrade'](_0x155033,_0x4368df,_0x55b6b1,_0x166a18=>{const _0x385b39=_0x45707e;_0x166a18[_0x385b39(0x639)]();});});});}else _0x1e07c1[_0x3101c0(0x4be)](0x0),_0x4681a9[_0x3101c0(0x639)]();}),it(_0x32f9c9[_0x3795a3(0x152)],_0x2ffd4f=>{const _0x38dca5=new WebSocket['Server']({'port':0x0},()=>{const _0x271115=_0xffb2,_0x17bb25={'hKFlz':function(_0x11093f,_0xfa3d13){return _0x11093f!==_0xfa3d13;},'HVyjf':_0x11f277[_0x271115(0x13a)],'CPStq':_0x271115(0x219)},_0x515fb8=new WebSocket('ws://localhost:'+_0x38dca5['address']()[_0x271115(0x59c)]);_0x515fb8['on'](_0x11f277[_0x271115(0x642)],()=>_0x2ffd4f(new Error(_0x271115(0x1f7)))),_0x515fb8['on'](_0x11f277[_0x271115(0x3f7)],_0x212560=>{const _0x10b74f=_0x271115;_0x17bb25[_0x10b74f(0x537)](_0x17bb25[_0x10b74f(0x12a)],_0x17bb25[_0x10b74f(0x130)])?(assert['ok'](_0x212560 instanceof Error),assert[_0x10b74f(0x226)](_0x212560[_0x10b74f(0x1df)],_0x10b74f(0x5e3)),_0x515fb8['on'](_0x10b74f(0x639),()=>_0x38dca5['close'](_0x2ffd4f))):(_0x3713b4[_0x10b74f(0x226)](_0x4d856c['getHeader']('authorization'),_0x10b74f(0x529)+_0x3b1e1e[_0x10b74f(0x667)](_0x2df876)[_0x10b74f(0x128)](_0x10b74f(0x62b))),_0x270e4c());}),_0x515fb8['on'](_0x271115(0x3da),()=>_0x515fb8[_0x271115(0x639)]());});}),it(_0x3795a3(0x120),_0x1bb1a9=>{const _0x43c2c7=_0x3795a3;let _0x488b0f;const _0x3a8d6d=new WebSocket[(_0x43c2c7(0x287))]({'port':0x0},()=>{const _0x2bde9a=_0x43c2c7,_0x38db4e=new WebSocket(_0x2bde9a(0x377)+_0x3a8d6d[_0x2bde9a(0x37f)]()[_0x2bde9a(0x59c)]);_0x38db4e['on'](_0x11f277[_0x2bde9a(0x642)],()=>{const _0x255240=_0x2bde9a;if(_0x255240(0x34d)===_0x255240(0x34d))_0x38db4e[_0x255240(0x70f)][_0x255240(0x1c3)]('data',_0x1bb8cb=>{_0x488b0f=_0x1bb8cb;});else{_0x1394ce[_0x255240(0x226)](_0x8b44e5,0x3ee),_0x863cbe[_0x255240(0x226)](_0x116497,_0x339d76),_0x316c38=!![];if(_0x455c55)_0x1464a2[_0x255240(0x639)](_0x5be587);}});});_0x3a8d6d['on'](_0x43c2c7(0x35b),_0x1a3dc9=>{const _0x3ea7b0=_0x43c2c7,_0x539ad2={'qLHDL':_0x11f277[_0x3ea7b0(0x473)]};_0x1a3dc9['_socket'][_0x3ea7b0(0x1c3)]('data',_0x20c174=>{const _0x1c1d14=_0x3ea7b0;assert[_0x1c1d14(0x657)](_0x20c174['slice'](0x0,0x2),Buffer[_0x1c1d14(0x667)]([0x88,0x80])),assert[_0x1c1d14(0x657)](_0x488b0f,Buffer['from']([0x88,0x0])),_0x1a3dc9['on'](_0x539ad2['qLHDL'],(_0x4ed954,_0x5ba7dc)=>{const _0x3eb05=_0x1c1d14;assert[_0x3eb05(0x226)](_0x4ed954,0x3ed),assert[_0x3eb05(0x226)](_0x5ba7dc,EMPTY_BUFFER),_0x3a8d6d[_0x3eb05(0x639)](_0x1bb1a9);});}),_0x1a3dc9[_0x3ea7b0(0x639)]();});}),it(_0x3795a3(0x2a3),_0x4d1577=>{const _0xb4ae02=_0x3795a3,_0x394b5c={'ifKLt':_0xb4ae02(0x639)};if(_0xb4ae02(0x39a)!=='wlSYW'){const _0x37df0f=new WebSocket[(_0xb4ae02(0x287))]({'port':0x0},()=>{const _0x38f23e=_0xb4ae02,_0x3e2070=new WebSocket(_0x38f23e(0x377)+_0x37df0f[_0x38f23e(0x37f)]()[_0x38f23e(0x59c)]);_0x3e2070['on'](_0x11f277[_0x38f23e(0x642)],()=>_0x3e2070[_0x38f23e(0x639)](0x3e8));});_0x37df0f['on'](_0xb4ae02(0x35b),_0x383542=>{const _0x31e2c8=_0xb4ae02;_0x383542['on'](_0x394b5c[_0x31e2c8(0x6aa)],(_0x1fd5d4,_0x44b003)=>{const _0x354660=_0x31e2c8;assert[_0x354660(0x226)](_0x1fd5d4,0x3e8),assert['deepStrictEqual'](_0x44b003,EMPTY_BUFFER),_0x37df0f[_0x354660(0x639)](_0x4d1577);});});}else _0x57db67['on'](_0x11f277['EHUjs'],_0x159f13[_0xb4ae02(0x5e1)]),_0x14f71c['resume'](),_0x62bff4['write'](_0x454388['from'](_0xb4ae02(0xc4)));}),_0x32f9c9['setDD'](it,_0x3795a3(0x398),_0x10e812=>{const _0x44b9ce=_0x3795a3;if('iWXlw'===_0x32f9c9[_0x44b9ce(0x61f)]){const _0x54ecdc=_0x371607[_0x44b9ce(0x275)](_0x11f277[_0x44b9ce(0x526)])[_0x44b9ce(0x43e)](_0x11f277[_0x44b9ce(0x318)](_0x4d45b9['headers'][_0x11f277[_0x44b9ce(0x429)]],_0x26f83b))[_0x44b9ce(0x5fe)](_0x44b9ce(0x62b));_0x5d1cbb[_0x44b9ce(0x5e1)](_0x11f277[_0x44b9ce(0x2e3)](_0x11f277[_0x44b9ce(0x543)]+_0x11f277[_0x44b9ce(0x11e)],_0x11f277['kPAIR'])+(_0x44b9ce(0x65d)+_0x54ecdc+'\x0d\x0a')+_0x11f277[_0x44b9ce(0x56e)]+'\x0d\x0a');}else{const _0x1c8b89=new WebSocket[(_0x44b9ce(0x287))]({'port':0x0},()=>{const _0x378133=_0x44b9ce,_0x2621f6=new WebSocket(_0x378133(0x377)+_0x1c8b89[_0x378133(0x37f)]()[_0x378133(0x59c)]);_0x2621f6['on'](_0x378133(0x5bb),()=>_0x2621f6[_0x378133(0x639)](0x3e8,'some\x20reason'));});_0x1c8b89['on'](_0x44b9ce(0x35b),_0x25867f=>{const _0x1180f2=_0x44b9ce,_0x509214={'pgPFh':_0x1180f2(0x116),'uxMZk':'MqBDU','wcroR':_0x11f277[_0x1180f2(0x10c)]};_0x11f277[_0x1180f2(0x340)](_0x11f277[_0x1180f2(0x5a2)],_0x1180f2(0x623))?_0x25867f['on'](_0x1180f2(0x639),(_0x150907,_0x18f750)=>{const _0x6ef6d9=_0x1180f2;_0x509214[_0x6ef6d9(0x433)]===_0x509214[_0x6ef6d9(0x433)]?(assert[_0x6ef6d9(0x226)](_0x150907,0x3e8),assert[_0x6ef6d9(0x657)](_0x18f750,Buffer[_0x6ef6d9(0x667)](_0x509214[_0x6ef6d9(0x16c)])),_0x1c8b89[_0x6ef6d9(0x639)](_0x10e812)):(_0x3dc838['ok'](_0x11aad5 instanceof _0x341a96),_0x5c2521[_0x6ef6d9(0x226)](_0x548d64[_0x6ef6d9(0x1df)],_0x509214[_0x6ef6d9(0x242)]),_0x1fcd59['strictEqual'](_0x4a4266[_0x6ef6d9(0x40e)],0x2),_0x2392d1[_0x6ef6d9(0x639)](_0x253d13));}):(_0x25c61b[_0x1180f2(0x226)](_0x5c7514[_0x1180f2(0x3b2)][_0x1180f2(0x444)],0x5),_0x37d1ea[_0x1180f2(0x639)](0x3e8));});}}),_0x32f9c9['VyDed'](it,_0x3795a3(0x68b),_0x211a87=>{const _0x13e07c=_0x3795a3,_0x4e8f5e={'aYXzb':_0x11f277['WSgrZ'],'HitNs':_0x13e07c(0x4f9),'vklRX':_0x11f277['QJhZu'],'serUD':_0x13e07c(0x639),'faozn':_0x11f277[_0x13e07c(0x113)]};if(_0x13e07c(0x148)!==_0x13e07c(0x6e0)){const _0x500352=new WebSocket['Server']({'perMessageDeflate':{'threshold':0x0},'port':0x0},()=>{const _0x3128a8=_0x13e07c,_0xad3224=new WebSocket(_0x3128a8(0x377)+_0x500352['address']()['port']),_0x281997=[];_0xad3224['on'](_0x4e8f5e[_0x3128a8(0x47c)],(_0x5be832,_0x2543fa)=>{const _0x5914c6=_0x3128a8;assert['ok'](!_0x2543fa),_0x281997[_0x5914c6(0x4e8)](_0x5be832[_0x5914c6(0x128)]());}),_0xad3224['on'](_0x4e8f5e[_0x3128a8(0x55f)],_0x5d599c=>{const _0x3bb967=_0x3128a8;assert[_0x3bb967(0x226)](_0x5d599c,0x3ed),assert['deepStrictEqual'](_0x281997,[_0x4e8f5e[_0x3bb967(0x341)],_0x3bb967(0x711),_0x4e8f5e[_0x3bb967(0x70d)]]),_0x500352[_0x3bb967(0x639)](_0x211a87);});});_0x500352['on'](_0x13e07c(0x35b),_0x525492=>{const _0x367bc4=_0x13e07c,_0x138862=_0x26cdea=>assert[_0x367bc4(0x2a5)](_0x26cdea);_0x525492[_0x367bc4(0x2bb)](_0x4e8f5e['aYXzb'],_0x138862),_0x525492['send'](_0x4e8f5e[_0x367bc4(0x568)],_0x138862),_0x525492[_0x367bc4(0x2bb)](_0x4e8f5e[_0x367bc4(0x70d)],_0x138862),_0x525492[_0x367bc4(0x639)](),_0x525492[_0x367bc4(0x639)]();});}else{const _0x196a31={'toTwg':function(_0x3649d8,_0x2c2fbf){return _0x3649d8+_0x2c2fbf;},'KOtzA':_0x11f277[_0x13e07c(0x502)],'EMWcF':_0x11f277['Wbxnd'],'fzZCN':_0x11f277[_0x13e07c(0x32f)]},_0x4447a8=_0x7e452b[_0x13e07c(0x37f)]()[_0x13e07c(0x59c)];_0x105368[_0x13e07c(0x1c3)](_0x11f277[_0x13e07c(0x291)],(_0x3500a4,_0x1e04b9)=>{const _0x464e67=_0x13e07c;_0x1e04b9[_0x464e67(0x5e1)](_0x196a31[_0x464e67(0x510)](_0x464e67(0x23a),_0x464e67(0x575)+_0x4447a8+_0x464e67(0x1c5)));});const _0x4db58e={'authorization':_0x11f277[_0x13e07c(0xd4)],'cookie':'foo=bar'},_0x503d21=new _0x27bf0c(_0x13e07c(0x377)+_0x1980aa[_0x13e07c(0x37f)]()[_0x13e07c(0x59c)],{'followRedirects':!![],'headers':_0x4db58e});_0x503d21['on'](_0x11f277[_0x13e07c(0x2ce)],(_0x182fcb,_0x497d33)=>{const _0x2229cc=_0x13e07c,_0x47ba97='4|5|6|3|1|0|2'[_0x2229cc(0x2e5)]('|');let _0x694576=0x0;while(!![]){switch(_0x47ba97[_0x694576++]){case'0':_0x497d33[_0x2229cc(0x613)](_0x2229cc(0x1af));continue;case'1':_0x497d33[_0x2229cc(0x613)](_0x196a31[_0x2229cc(0x141)]);continue;case'2':_0x503d21['on'](_0x196a31['EMWcF'],_0x16ace2=>{const _0x4b2143=_0x2229cc;_0x323725[_0x4b2143(0x226)](_0x16ace2,0x3ed),_0x708bb0['close'](_0x1e05c7);});continue;case'3':_0x27334b[_0x2229cc(0x226)](_0x497d33[_0x2229cc(0x256)](_0x2229cc(0x1e2)),_0x4db58e[_0x2229cc(0x1af)]);continue;case'4':_0x229fdb[_0x2229cc(0x226)](_0x503d21[_0x2229cc(0x54b)],0x1);continue;case'5':_0xfac792[_0x2229cc(0x226)](_0x182fcb,_0x2229cc(0x377)+_0x4447a8+'/');continue;case'6':_0x29a1ab[_0x2229cc(0x226)](_0x497d33[_0x2229cc(0x256)](_0x196a31[_0x2229cc(0x435)]),_0x4db58e[_0x2229cc(0x28e)]);continue;}break;}});}}),it(_0x3795a3(0x427),_0x38bdd7=>{const _0x2becd6=_0x3795a3,_0x1d9b24=new WebSocket[(_0x2becd6(0x287))]({'port':0x0},()=>{const _0x20281f=_0x2becd6,_0x31c504=new WebSocket('ws://localhost:'+_0x1d9b24[_0x20281f(0x37f)]()[_0x20281f(0x59c)]);_0x31c504['on'](_0x20281f(0x639),_0x4dd1f7=>{assert['strictEqual'](_0x4dd1f7,0x3f5),_0x1d9b24['close'](_0x38bdd7);});});_0x1d9b24['on']('connection',_0x48312f=>_0x48312f[_0x2becd6(0x639)](0x3f5));}),it(_0x32f9c9[_0x3795a3(0x497)],_0x3ba170=>{const _0x54b1cf=_0x3795a3,_0x10886b=new WebSocket[(_0x54b1cf(0x287))]({'port':0x0},()=>{const _0x1d8e9d=_0x54b1cf,_0x4f7ea9=new WebSocket(_0x1d8e9d(0x377)+_0x10886b[_0x1d8e9d(0x37f)]()[_0x1d8e9d(0x59c)]);_0x4f7ea9['on'](_0x11f277[_0x1d8e9d(0x473)],_0x2442b5=>{const _0x1ae456=_0x1d8e9d;assert[_0x1ae456(0x226)](_0x2442b5,0x3f6),_0x10886b['close'](_0x3ba170);});});_0x10886b['on'](_0x11f277[_0x54b1cf(0x2fd)],_0x1c189a=>_0x1c189a[_0x54b1cf(0x639)](0x3f6));}),_0x32f9c9[_0x3795a3(0x3f3)](it,'does\x20nothing\x20if\x20`readyState`\x20is\x20`CLOSED`',_0x3f10c9=>{const _0x226cad=_0x3795a3,_0x41b697={'GBgDP':function(_0x453432,_0x3fc729){return _0x11f277['xYfCV'](_0x453432,_0x3fc729);},'xTNYo':_0x226cad(0x585),'kUMdR':_0x11f277[_0x226cad(0x488)]},_0x44ef9f=new WebSocket['Server']({'port':0x0},()=>{const _0x4cedd3=_0x226cad,_0x432317=new WebSocket(_0x4cedd3(0x377)+_0x44ef9f[_0x4cedd3(0x37f)]()['port']);_0x432317['on'](_0x4cedd3(0x639),_0x5982b5=>{const _0x1dfd8c=_0x4cedd3,_0x320d2e={'aQYoM':function(_0x41dc50,_0x3035f2){return _0x41b697['GBgDP'](_0x41dc50,_0x3035f2);},'HJZEN':_0x41b697['xTNYo'],'fQIYH':function(_0xa8d502,_0x4f53e2){return _0xa8d502+_0x4f53e2;},'zCQlm':_0x1dfd8c(0x3da)};if(_0x41b697[_0x1dfd8c(0xce)]!==_0x41b697[_0x1dfd8c(0xce)]){const _0x54a2b3={'NGose':function(_0x13fcbb,_0x522dcc){const _0x4d052f=_0x1dfd8c;return _0x320d2e[_0x4d052f(0x1d1)](_0x13fcbb,_0x522dcc);},'uCuIF':function(_0x2b61da,_0x35a57b){const _0x31caac=_0x1dfd8c;return _0x320d2e[_0x31caac(0x1d1)](_0x2b61da,_0x35a57b);}};_0x12ef69['once'](_0x320d2e['zCQlm'],(_0x40e646,_0x22b925)=>{const _0x37e3c2=_0x1dfd8c;_0x22b925['on'](_0x37e3c2(0x5e1),_0x22b925['end']),_0x22b925['write'](_0x54a2b3[_0x37e3c2(0x591)](_0x54a2b3[_0x37e3c2(0x20b)](_0x54a2b3[_0x37e3c2(0x20b)](_0x37e3c2(0x4e2),_0x37e3c2(0x159)),_0x37e3c2(0x468)),'\x0d\x0a'));});const _0x1f30c8=new _0x47407b(_0x1dfd8c(0x377)+_0x355f3a[_0x1dfd8c(0x37f)]()[_0x1dfd8c(0x59c)]);_0x1f30c8['on'](_0x1dfd8c(0x3ea),_0x57024d=>{const _0x297d8e=_0x1dfd8c;_0x512f1b['ok'](_0x320d2e['aQYoM'](_0x57024d,_0x5e33db)),_0x5f2ea2[_0x297d8e(0x226)](_0x57024d[_0x297d8e(0x1df)],_0x320d2e[_0x297d8e(0x64f)]),_0x2b469e();});}else assert[_0x1dfd8c(0x226)](_0x5982b5,0x3ed),assert[_0x1dfd8c(0x226)](_0x432317[_0x1dfd8c(0x3cf)],WebSocket[_0x1dfd8c(0x413)]),_0x432317[_0x1dfd8c(0x639)](),_0x44ef9f[_0x1dfd8c(0x639)](_0x3f10c9);});});_0x44ef9f['on'](_0x11f277[_0x226cad(0x2fd)],_0x2867a6=>_0x2867a6[_0x226cad(0x639)]());}),it('sets\x20a\x20timer\x20for\x20the\x20closing\x20handshake\x20to\x20complete',_0x5c2b73=>{const _0x579559=_0x3795a3,_0x3a2bf2={'BlifN':_0x579559(0x4df)},_0x5bddf6=new WebSocket[(_0x579559(0x287))]({'port':0x0},()=>{const _0xc92974=_0x579559,_0x56a084={'UoOFe':function(_0x219076,_0x1c3efd){const _0x51c33e=_0xffb2;return _0x11f277[_0x51c33e(0x340)](_0x219076,_0x1c3efd);},'ZKDcA':_0x11f277['sKETv'],'kFzOA':_0xc92974(0x5fd)},_0x25ff7f=new WebSocket(_0xc92974(0x377)+_0x5bddf6[_0xc92974(0x37f)]()[_0xc92974(0x59c)]);_0x25ff7f['on'](_0xc92974(0x639),(_0x15d438,_0xd9bc4)=>{const _0x2818cf=_0xc92974;assert[_0x2818cf(0x226)](_0x15d438,0x3e8),assert['deepStrictEqual'](_0xd9bc4,Buffer[_0x2818cf(0x667)](_0x3a2bf2[_0x2818cf(0x597)])),_0x5bddf6['close'](_0x5c2b73);}),_0x25ff7f['on'](_0xc92974(0x5bb),()=>{const _0x4b816a=_0xc92974,_0x4a261a={'MehlG':'ws://localhost'};if(_0x4b816a(0x622)!==_0x4b816a(0x622))_0x41e43c['strictEqual'](_0xeaa4d[_0x4b816a(0x5c3)]['authorization'],_0x54ed23[_0x4b816a(0x28e)]),_0xc83238[_0x4b816a(0x226)](_0x3c09aa['headers']['cookie'],_0x9bc29d[_0x4b816a(0x1af)]),_0x5cbf97['strictEqual'](_0x5e5d3e[_0x4b816a(0x5c3)][_0x4b816a(0x11a)],_0x35072c[_0x4b816a(0x11a)]),_0x2cdac7['close']();else{let _0x2ce7fa=![];assert[_0x4b816a(0x226)](_0x25ff7f[_0x4b816a(0x483)],null),_0x25ff7f[_0x4b816a(0x2bb)](_0x56a084[_0x4b816a(0x434)],()=>{const _0x5a28f5=_0x4b816a;if(_0x56a084[_0x5a28f5(0x5d1)](_0x56a084[_0x5a28f5(0x4ab)],_0x5a28f5(0x2fb))){const _0x57856a=new _0xb44e43(_0x4a261a[_0x5a28f5(0x5d8)],{'agent':new _0x33f7b0()});_0x57856a[_0x5a28f5(0x658)]('close',_0x3a9499),_0x57856a['onclose']=_0x3d2004;let _0x44c0db=_0x57856a['listeners'](_0x5a28f5(0x639));_0x21d0a2[_0x5a28f5(0x226)](_0x44c0db[_0x5a28f5(0x33f)],0x2),_0x32a029[_0x5a28f5(0x226)](_0x44c0db[0x0][_0x26bd3a],_0x2c0504),_0x239c67['strictEqual'](_0x44c0db[0x1][_0x5ccf5d],_0x2cea8e),_0x57856a[_0x5a28f5(0x604)]=_0x4d1f0e,_0x44c0db=_0x57856a[_0x5a28f5(0x6f2)](_0x5a28f5(0x639)),_0x360b17[_0x5a28f5(0x226)](_0x44c0db[_0x5a28f5(0x33f)],0x2),_0x1c3f1d[_0x5a28f5(0x226)](_0x44c0db[0x0][_0x461137],_0x4c2fe3),_0x184710[_0x5a28f5(0x226)](_0x44c0db[0x1][_0x281d31],_0x428c0e);}else _0x2ce7fa=!![];}),_0x25ff7f[_0x4b816a(0x639)](0x3e8,_0x4b816a(0x4df)),assert[_0x4b816a(0x226)](_0x2ce7fa,![]),assert[_0x4b816a(0x226)](_0x25ff7f[_0x4b816a(0x483)][_0x4b816a(0x3db)],0x7530);}});});});}),describe('#terminate',()=>{const _0x5336f8=_0x31aca9,_0x44a77a={'tJKOO':_0x5336f8(0x5e3),'hbCek':'close','aOmUZ':'foo\x0d\x0a','uiDbJ':'open','QfcsO':'PyUBZ','iIQWU':_0x5336f8(0xeb),'bLBUv':function(_0x55969c){return _0x55969c();},'juCpI':function(_0x5b66d2,_0x807acb){return _0x5b66d2 instanceof _0x807acb;},'uHWja':_0x32f9c9[_0x5336f8(0x542)],'whHmv':_0x5336f8(0x3ea)};_0x32f9c9[_0x5336f8(0x562)](it,_0x32f9c9[_0x5336f8(0xea)],_0x17f746=>{const _0xf37587=_0x5336f8,_0xb152f0={'fcVia':_0xf37587(0x639),'MIpfh':_0xf37587(0x5bb),'bJOlC':'error'},_0x146092=new WebSocket[(_0xf37587(0x287))]({'port':0x0},()=>{const _0x36096b=_0xf37587,_0x5c1fb1={'NYPld':function(_0x58ce5b,_0x42e7ca){return _0x58ce5b instanceof _0x42e7ca;},'GpNsS':_0xb152f0['fcVia']},_0x1167a6=new WebSocket(_0x36096b(0x377)+_0x146092[_0x36096b(0x37f)]()[_0x36096b(0x59c)]);_0x1167a6['on'](_0xb152f0[_0x36096b(0x516)],()=>_0x17f746(new Error(_0x36096b(0x1f7)))),_0x1167a6['on'](_0xb152f0[_0x36096b(0x5a1)],_0x2acae4=>{const _0x4f93e8=_0x36096b;assert['ok'](_0x5c1fb1[_0x4f93e8(0x65b)](_0x2acae4,Error)),assert[_0x4f93e8(0x226)](_0x2acae4['message'],'WebSocket\x20was\x20closed\x20before\x20the\x20connection\x20was\x20established'),_0x1167a6['on'](_0x5c1fb1['GpNsS'],()=>_0x146092[_0x4f93e8(0x639)](_0x17f746));}),_0x1167a6[_0x36096b(0x2d9)]();});}),it(_0x32f9c9[_0x5336f8(0x59b)],_0x502cee=>{const _0x5d1c57=new WebSocket['Server']({'verifyClient':(_0x3ba4a5,_0x226a03)=>setTimeout(_0x226a03,0x12c,!![]),'port':0x0},()=>{const _0x28b690=_0xffb2,_0x5121eb={'TZfCJ':_0x44a77a['tJKOO'],'HOoLA':_0x44a77a['hbCek']},_0x2d8e7a=new WebSocket(_0x28b690(0x377)+_0x5d1c57[_0x28b690(0x37f)]()[_0x28b690(0x59c)]);_0x2d8e7a['on'](_0x28b690(0x5bb),()=>_0x502cee(new Error(_0x28b690(0x1f7)))),_0x2d8e7a['on'](_0x28b690(0x3ea),_0x2188cb=>{const _0x1c1f7e=_0x28b690;assert['ok'](_0x2188cb instanceof Error),assert[_0x1c1f7e(0x226)](_0x2188cb[_0x1c1f7e(0x1df)],_0x5121eb[_0x1c1f7e(0xfb)]),_0x2d8e7a['on'](_0x5121eb['HOoLA'],()=>_0x5d1c57['close'](_0x502cee));}),setTimeout(()=>_0x2d8e7a[_0x28b690(0x2d9)](),0x96);});}),_0x32f9c9[_0x5336f8(0x391)](it,_0x32f9c9[_0x5336f8(0xd3)],_0x15bb0d=>{const _0x6d69ef=_0x5336f8,_0x2ea2fc={'KhaLv':'dFzwM','KwQwk':_0x44a77a[_0x6d69ef(0x24a)],'Iyork':_0x6d69ef(0x104),'mqAGD':_0x6d69ef(0x639)};if(_0x6d69ef(0x382)!==_0x6d69ef(0x4a2)){const _0x45ad2f=net[_0x6d69ef(0x683)]();_0x45ad2f['on'](_0x6d69ef(0x35b),_0x9cd883=>{const _0x21d160=_0x6d69ef;_0x9cd883['on'](_0x21d160(0x5e1),_0x9cd883[_0x21d160(0x5e1)]),_0x9cd883[_0x21d160(0x12d)](),_0x9cd883[_0x21d160(0x3b4)](Buffer['from'](_0x44a77a[_0x21d160(0x38a)]));}),_0x45ad2f[_0x6d69ef(0x684)](0x0,()=>{const _0x121169=_0x6d69ef,_0x31ed2a=new WebSocket(_0x121169(0x377)+_0x45ad2f['address']()[_0x121169(0x59c)]);_0x31ed2a['on'](_0x44a77a[_0x121169(0x32e)],()=>_0x15bb0d(new Error(_0x121169(0x1f7)))),_0x31ed2a['on']('error',_0x4d35f1=>{const _0x523aef=_0x121169;_0x2ea2fc['KhaLv']!==_0x2ea2fc['KwQwk']?(assert['ok'](_0x4d35f1 instanceof Error),assert[_0x523aef(0x226)](_0x4d35f1[_0x523aef(0x48d)],_0x2ea2fc[_0x523aef(0x5ff)]),_0x31ed2a[_0x523aef(0x2d9)](),_0x31ed2a['on'](_0x2ea2fc[_0x523aef(0x681)],()=>{const _0x230e07=_0x523aef;_0x45ad2f[_0x230e07(0x639)](_0x15bb0d);})):(_0x56ea31[_0x523aef(0x226)](_0x1c614a[_0x523aef(0x256)](_0x523aef(0x1f8)),'https://example.com:8000'),_0x2b9d0e());});});}else _0x414f5e[_0x6d69ef(0x226)](_0x4f4c89['_receiver'][_0x6d69ef(0x444)],0x5),_0x5a7238[_0x6d69ef(0x2d9)]();}),it('can\x20be\x20called\x20from\x20a\x20listener\x20of\x20the\x20\x27redirect\x27\x20event',_0x1794a5=>{const _0x1378d2=_0x5336f8,_0x9f2384={'mXVix':_0x44a77a[_0x1378d2(0x560)],'hsMKo':_0x1378d2(0x5e3),'MnEPv':_0x44a77a[_0x1378d2(0x55a)],'EkETR':function(_0x5bb1dd){return _0x44a77a['bLBUv'](_0x5bb1dd);},'cQxVF':function(_0x26633f,_0x5e9dee){return _0x44a77a['juCpI'](_0x26633f,_0x5e9dee);},'iQphz':function(_0x21a413,_0x408e65){return _0x21a413===_0x408e65;},'DBKxz':_0x1378d2(0x5c8),'ZoiPe':_0x1378d2(0x5bb),'sUhwq':_0x1378d2(0x3ea)},_0x5bf79d=http[_0x1378d2(0x683)]();_0x5bf79d[_0x1378d2(0x1c3)](_0x44a77a[_0x1378d2(0x32a)],(_0x15691a,_0x2afd51)=>{_0x2afd51['end']('HTTP/1.1\x20302\x20Found\x0d\x0aLocation:\x20/foo\x0d\x0a\x0d\x0a');}),_0x5bf79d['listen'](()=>{const _0x50b7b5=_0x1378d2,_0x2c9f84={'vqlml':function(_0x14d38a,_0x527458){return _0x14d38a===_0x527458;},'kMgKI':_0x50b7b5(0xda),'FijmT':function(_0x1256d1){const _0x4f61c5=_0x50b7b5;return _0x9f2384[_0x4f61c5(0x679)](_0x1256d1);},'FwcnO':function(_0x251cb3,_0x4547cb){const _0x1e7b86=_0x50b7b5;return _0x9f2384[_0x1e7b86(0x41e)](_0x251cb3,_0x4547cb);}};if(_0x9f2384[_0x50b7b5(0x5c6)](_0x50b7b5(0x5c8),_0x9f2384[_0x50b7b5(0x5a3)])){const _0x9f8c15=_0x5bf79d['address']()[_0x50b7b5(0x59c)],_0x1d05fd=new WebSocket(_0x50b7b5(0x377)+_0x9f8c15,{'followRedirects':!![]});_0x1d05fd['on'](_0x9f2384[_0x50b7b5(0xcc)],()=>{const _0x33a3a8=_0x50b7b5;_0x2c9f84[_0x33a3a8(0x615)](_0x33a3a8(0x281),_0x2c9f84[_0x33a3a8(0x441)])?(_0x4619e5[_0x33a3a8(0x226)](_0x4bf9e9[_0x33a3a8(0x256)]('sec-websocket-extensions'),_0x40ff4b),_0x3ce74b()):_0x1794a5(new Error(_0x33a3a8(0x1f7)));}),_0x1d05fd['on'](_0x9f2384[_0x50b7b5(0x436)],_0x3e6a21=>{const _0x84ade4=_0x50b7b5;_0x9f2384[_0x84ade4(0x692)]==='KvakE'?_0x225711[_0x84ade4(0x4e8)](_0x2e49f2):(assert['ok'](_0x3e6a21 instanceof Error),assert[_0x84ade4(0x226)](_0x3e6a21[_0x84ade4(0x1df)],_0x9f2384[_0x84ade4(0x400)]),_0x1d05fd['on'](_0x9f2384['MnEPv'],_0x500139=>{const _0x428861=_0x84ade4;assert[_0x428861(0x226)](_0x500139,0x3ee),_0x5bf79d[_0x428861(0x639)](_0x1794a5);}));}),_0x1d05fd['on']('redirect',()=>{const _0x5ce823=_0x50b7b5;_0x1d05fd[_0x5ce823(0x2d9)]();});}else{const _0x594b0d={'cpEFW':function(_0x186c90){const _0x56fc55=_0x50b7b5;return _0x2c9f84[_0x56fc55(0x5bc)](_0x186c90);}};_0x5f0ecf['ok'](_0x2c9f84[_0x50b7b5(0x680)](_0x187b1d,_0x24de9c)),_0x237a0f['strictEqual'](_0x30f210['message'],_0x50b7b5(0x5e3)),_0x33e3c9['strictEqual'](_0x2dcf9e[_0x50b7b5(0x3cf)],_0x4f2a24[_0x50b7b5(0x686)]),_0xc37cba['strictEqual'](_0x2370d8['bufferedAmount'],0x0),_0x5bfaed[_0x50b7b5(0x4be)]('hi'),_0xab6a97[_0x50b7b5(0x226)](_0x29d921[_0x50b7b5(0x40e)],0x2),_0x4a9886[_0x50b7b5(0x4be)](),_0x9f406[_0x50b7b5(0x226)](_0x13a829['bufferedAmount'],0x2),_0x4585d7['on']('close',()=>{const _0x582e56=_0x50b7b5;_0x479819[_0x582e56(0x226)](_0xd0c96f['readyState'],_0x31ac48['CLOSED']),_0x4d0afd['pong']('hi'),_0x207a5b[_0x582e56(0x226)](_0x1eba12[_0x582e56(0x40e)],0x4),_0x41748d[_0x582e56(0x4be)](),_0x3ccbbe[_0x582e56(0x226)](_0x9c136e[_0x582e56(0x40e)],0x4),_0x594b0d[_0x582e56(0x327)](_0x2c6332);});}});}),_0x32f9c9[_0x5336f8(0x574)](it,'can\x20be\x20called\x20from\x20a\x20listener\x20of\x20the\x20\x27upgrade\x27\x20event',_0x19ade7=>{const _0x1c327d=_0x5336f8,_0xaa53c8={'VJkvi':_0x1c327d(0x664),'GtndS':_0x1c327d(0x1ed)},_0x4046e4=new WebSocket[(_0x1c327d(0x287))]({'port':0x0},()=>{const _0x49eac6=_0x1c327d,_0x3bc7ab=new WebSocket(_0x49eac6(0x377)+_0x4046e4[_0x49eac6(0x37f)]()[_0x49eac6(0x59c)]);_0x3bc7ab['on'](_0x44a77a[_0x49eac6(0x32e)],()=>_0x19ade7(new Error(_0x49eac6(0x1f7)))),_0x3bc7ab['on'](_0x44a77a[_0x49eac6(0x381)],_0x720f3a=>{const _0x358d13=_0x49eac6;_0xaa53c8[_0x358d13(0x714)]!==_0xaa53c8['GtndS']?(assert['ok'](_0x720f3a instanceof Error),assert[_0x358d13(0x226)](_0x720f3a[_0x358d13(0x1df)],_0x358d13(0x5e3)),_0x3bc7ab['on'](_0x358d13(0x639),()=>_0x4046e4[_0x358d13(0x639)](_0x19ade7))):(_0x2bc422['on'](_0x358d13(0x3ea),_0x3a231d),_0x42b018[_0x358d13(0x5e1)](_0x358d13(0x23a)+(_0x358d13(0x575)+_0x14c621+'/\x0d\x0a\x0d\x0a')));}),_0x3bc7ab['on']('upgrade',()=>_0x3bc7ab['terminate']());});}),_0x32f9c9[_0x5336f8(0x3ba)](it,_0x5336f8(0x5c4),_0x4c4e49=>{const _0x132427=_0x5336f8,_0x403f53=new WebSocket['Server']({'port':0x0},()=>{const _0x34df34=_0xffb2,_0x359261=new WebSocket(_0x34df34(0x377)+_0x403f53['address']()[_0x34df34(0x59c)]);_0x359261['on'](_0x34df34(0x639),_0xb341de=>{const _0x54170f=_0x34df34;assert[_0x54170f(0x226)](_0xb341de,0x3ee),assert[_0x54170f(0x226)](_0x359261[_0x54170f(0x3cf)],WebSocket[_0x54170f(0x413)]),_0x359261[_0x54170f(0x2d9)](),_0x403f53[_0x54170f(0x639)](_0x4c4e49);});});_0x403f53['on'](_0x32f9c9[_0x132427(0x63e)],_0xe2f751=>_0xe2f751[_0x132427(0x2d9)]());});}),describe(_0x31aca9(0x544),()=>{const _0x52a359=_0x31aca9,_0x87bb1b={'BIHri':_0x32f9c9['rTtVG'],'Jieuc':_0x32f9c9['ropnG'],'RvoZJ':_0x52a359(0x1df),'vhPTT':_0x52a359(0x5fd),'XTIlI':_0x52a359(0x5bb),'FxSgn':'close','wxnDF':_0x32f9c9[_0x52a359(0x37b)],'quXLx':_0x32f9c9['NRpRX'],'SLbYh':_0x32f9c9[_0x52a359(0x2bc)],'zsQTy':_0x52a359(0x6cd),'TlTiO':'kXkKi'};if(_0x32f9c9[_0x52a359(0x614)]!==_0x32f9c9['edfuZ'])it('supports\x20the\x20`on{close,error,message,open}`\x20attributes',()=>{const _0x38ed5f=_0x52a359;if(_0x32f9c9['ZYBnO'](_0x32f9c9[_0x38ed5f(0x588)],_0x32f9c9[_0x38ed5f(0x2a2)]))_0x2e4e40['close'](_0x14e5ba);else{for(const _0xa5df4b of[_0x38ed5f(0x604),_0x38ed5f(0x5cb),_0x32f9c9['IuVcC'],_0x38ed5f(0xe6)]){const _0x1b4faf=Object[_0x38ed5f(0x5d6)](WebSocket['prototype'],_0xa5df4b);assert[_0x38ed5f(0x226)](_0x1b4faf['configurable'],!![]),assert[_0x38ed5f(0x226)](_0x1b4faf['enumerable'],!![]),assert['ok'](_0x32f9c9['zSbST'](_0x1b4faf[_0x38ed5f(0x252)],undefined)),assert['ok'](_0x1b4faf['set']!==undefined);}const _0x299f38=new WebSocket('ws://localhost',{'agent':new CustomAgent()});assert['strictEqual'](_0x299f38[_0x38ed5f(0x35f)],null),assert[_0x38ed5f(0x226)](_0x299f38[_0x38ed5f(0x604)],null),assert[_0x38ed5f(0x226)](_0x299f38[_0x38ed5f(0x5cb)],null),assert['strictEqual'](_0x299f38[_0x38ed5f(0xe6)],null),_0x299f38[_0x38ed5f(0x35f)]=NOOP,_0x299f38[_0x38ed5f(0x5cb)]=NOOP,_0x299f38[_0x38ed5f(0x604)]=NOOP,_0x299f38[_0x38ed5f(0xe6)]=NOOP,assert[_0x38ed5f(0x226)](_0x299f38['onmessage'],NOOP),assert[_0x38ed5f(0x226)](_0x299f38[_0x38ed5f(0x604)],NOOP),assert['strictEqual'](_0x299f38[_0x38ed5f(0x5cb)],NOOP),assert[_0x38ed5f(0x226)](_0x299f38[_0x38ed5f(0xe6)],NOOP),_0x299f38[_0x38ed5f(0x35f)]=_0x38ed5f(0x5fd),assert[_0x38ed5f(0x226)](_0x299f38[_0x38ed5f(0x35f)],null),assert[_0x38ed5f(0x226)](_0x299f38[_0x38ed5f(0xec)](_0x32f9c9[_0x38ed5f(0x43f)]),0x0);}}),_0x32f9c9[_0x52a359(0x6d7)](it,_0x32f9c9[_0x52a359(0x114)],_0x3b8b81=>{const _0x50f14f=_0x52a359,_0x5a2c5b=new WebSocket[(_0x50f14f(0x287))]({'port':0x0},()=>{const _0x3908b3=_0x50f14f,_0x2bb230=new WebSocket(_0x3908b3(0x377)+_0x5a2c5b[_0x3908b3(0x37f)]()[_0x3908b3(0x59c)]);_0x2bb230[_0x3908b3(0x35f)]=_0x8dcc87=>{const _0x501f06=_0x3908b3;assert[_0x501f06(0x226)](_0x8dcc87[_0x501f06(0x645)],'foo'),_0x2bb230[_0x501f06(0x604)]=_0x2985b1=>{const _0x3096a9=_0x501f06;assert[_0x3096a9(0x226)](_0x2985b1['wasClean'],!![]),assert[_0x3096a9(0x226)](_0x2985b1[_0x3096a9(0x48d)],0x3ed),assert['strictEqual'](_0x2985b1[_0x3096a9(0x425)],''),_0x5a2c5b[_0x3096a9(0x639)](_0x3b8b81);},_0x2bb230['close']();},_0x2bb230[_0x3908b3(0xe6)]=()=>_0x2bb230[_0x3908b3(0x2bb)](_0x3908b3(0x5fd));});_0x5a2c5b['on'](_0x50f14f(0x35b),_0x1119b7=>{_0x1119b7['on']('message',(_0x222cf4,_0x41090c)=>{const _0x414e26=_0xffb2;_0x1119b7[_0x414e26(0x2bb)](_0x222cf4,{'binary':_0x41090c});});});}),new AsyncFunction(_0x52a359(0x610))(),it(_0x32f9c9[_0x52a359(0x57a)],()=>{const _0x1fd80b=_0x52a359;if(_0x1fd80b(0x4a0)===_0x1fd80b(0x5d4))_0x33a229[_0x1fd80b(0x5e1)](_0x87bb1b['BIHri']+(_0x1fd80b(0x4dd)+_0x1aaa58+_0x1fd80b(0xee)));else{const _0x168fb5=new WebSocket(_0x1fd80b(0x3b6),{'agent':new CustomAgent()});_0x168fb5['on'](_0x1fd80b(0x5bb),NOOP),assert[_0x1fd80b(0x657)](_0x168fb5[_0x1fd80b(0x6f2)]('open'),[NOOP]),assert[_0x1fd80b(0x226)](_0x168fb5[_0x1fd80b(0xe6)],null);}}),_0x32f9c9['DkvtA'](it,_0x32f9c9[_0x52a359(0x48c)],()=>{const _0x545770=_0x52a359,_0x39ab4d=new WebSocket(_0x87bb1b[_0x545770(0x2d7)],{'agent':new CustomAgent()});_0x39ab4d['on'](_0x545770(0x639),NOOP),_0x39ab4d['onclose']=NOOP;let _0x24e33e=_0x39ab4d[_0x545770(0x6f2)]('close');assert['strictEqual'](_0x24e33e[_0x545770(0x33f)],0x2),assert[_0x545770(0x226)](_0x24e33e[0x0],NOOP),assert[_0x545770(0x226)](_0x24e33e[0x1][kListener],NOOP),_0x39ab4d['onclose']=NOOP,_0x24e33e=_0x39ab4d[_0x545770(0x6f2)]('close'),assert[_0x545770(0x226)](_0x24e33e[_0x545770(0x33f)],0x2),assert[_0x545770(0x226)](_0x24e33e[0x0],NOOP),assert['strictEqual'](_0x24e33e[0x1][kListener],NOOP);}),it('supports\x20the\x20`addEventListener`\x20method',()=>{const _0xf55ec2=_0x52a359,_0x5e7cdb=[],_0x57d29f=new WebSocket(_0x87bb1b[_0xf55ec2(0x2d7)],{'agent':new CustomAgent()});_0x57d29f[_0xf55ec2(0x658)](_0x87bb1b[_0xf55ec2(0x3fe)],()=>{}),assert[_0xf55ec2(0x226)](_0x57d29f[_0xf55ec2(0xec)](_0x87bb1b['vhPTT']),0x0);function _0x5dba99(){const _0x220085=_0xf55ec2;_0x5e7cdb[_0x220085(0x4e8)](_0x220085(0x5bb)),assert[_0x220085(0x226)](_0x57d29f[_0x220085(0xec)](_0x220085(0x5bb)),0x1);}_0x57d29f[_0xf55ec2(0x658)](_0xf55ec2(0x5bb),_0x5dba99),_0x57d29f[_0xf55ec2(0x658)](_0xf55ec2(0x5bb),_0x5dba99),assert[_0xf55ec2(0x226)](_0x57d29f['listenerCount'](_0x87bb1b[_0xf55ec2(0xcb)]),0x1);const _0x556c8c={'handleEvent'(){const _0x3d0858=_0xf55ec2;_0x5e7cdb[_0x3d0858(0x4e8)](_0x87bb1b[_0x3d0858(0x1a8)]),assert[_0x3d0858(0x226)](this,_0x556c8c),assert[_0x3d0858(0x226)](_0x57d29f['listenerCount'](_0x3d0858(0x1df)),0x0);}};_0x57d29f[_0xf55ec2(0x658)](_0x87bb1b[_0xf55ec2(0x1a8)],_0x556c8c,{'once':!![]}),_0x57d29f[_0xf55ec2(0x658)](_0x87bb1b['RvoZJ'],_0x556c8c),assert['strictEqual'](_0x57d29f[_0xf55ec2(0xec)](_0x87bb1b[_0xf55ec2(0x1a8)]),0x1),_0x57d29f['addEventListener'](_0xf55ec2(0x639),NOOP),_0x57d29f[_0xf55ec2(0x604)]=NOOP;let _0x15504b=_0x57d29f['listeners'](_0x87bb1b[_0xf55ec2(0x5f1)]);assert[_0xf55ec2(0x226)](_0x15504b[_0xf55ec2(0x33f)],0x2),assert[_0xf55ec2(0x226)](_0x15504b[0x0][kListener],NOOP),assert[_0xf55ec2(0x226)](_0x15504b[0x1][kListener],NOOP),_0x57d29f[_0xf55ec2(0x5cb)]=NOOP,_0x57d29f[_0xf55ec2(0x658)](_0x87bb1b['wxnDF'],NOOP),_0x15504b=_0x57d29f[_0xf55ec2(0x6f2)]('error'),assert[_0xf55ec2(0x226)](_0x15504b[_0xf55ec2(0x33f)],0x2),assert[_0xf55ec2(0x226)](_0x15504b[0x0][kListener],NOOP),assert[_0xf55ec2(0x226)](_0x15504b[0x1][kListener],NOOP),_0x57d29f[_0xf55ec2(0x3c6)](_0xf55ec2(0x5bb)),_0x57d29f[_0xf55ec2(0x3c6)](_0xf55ec2(0x1df),EMPTY_BUFFER,![]),assert['deepStrictEqual'](_0x5e7cdb,[_0x87bb1b[_0xf55ec2(0xcb)],_0xf55ec2(0x1df)]);}),_0x32f9c9['kEDEf'](setTimeout,function(){const _0x3ef68d=_0x52a359;console[_0x3ef68d(0xe9)](_0x87bb1b[_0x3ef68d(0x487)]);},0x64),it(_0x52a359(0x68d),()=>{const _0x2a4c0a=_0x52a359,_0x4b4f23=new WebSocket(_0x87bb1b[_0x2a4c0a(0x2d7)],{'agent':new CustomAgent()});_0x4b4f23[_0x2a4c0a(0x658)](_0x2a4c0a(0x5bb),NOOP);const _0x5b1e7e=_0x4b4f23['listeners'](_0x87bb1b['XTIlI']);assert[_0x2a4c0a(0x226)](_0x5b1e7e['length'],0x1),assert['strictEqual'](_0x5b1e7e[0x0][kListener],NOOP),assert[_0x2a4c0a(0x226)](_0x4b4f23[_0x2a4c0a(0xe6)],null);}),_0x32f9c9[_0x52a359(0x1ab)](it,_0x32f9c9[_0x52a359(0x261)],()=>{const _0x2fae76=_0x52a359,_0x92b0ed=new WebSocket('ws://localhost',{'agent':new CustomAgent()});_0x92b0ed[_0x2fae76(0x658)](_0x2fae76(0x639),NOOP),_0x92b0ed[_0x2fae76(0x604)]=NOOP;let _0x8e9d28=_0x92b0ed[_0x2fae76(0x6f2)](_0x2fae76(0x639));assert[_0x2fae76(0x226)](_0x8e9d28[_0x2fae76(0x33f)],0x2),assert[_0x2fae76(0x226)](_0x8e9d28[0x0][kListener],NOOP),assert[_0x2fae76(0x226)](_0x8e9d28[0x1][kListener],NOOP),_0x92b0ed[_0x2fae76(0x604)]=NOOP,_0x8e9d28=_0x92b0ed[_0x2fae76(0x6f2)](_0x87bb1b[_0x2fae76(0x5f1)]),assert['strictEqual'](_0x8e9d28[_0x2fae76(0x33f)],0x2),assert[_0x2fae76(0x226)](_0x8e9d28[0x0][kListener],NOOP),assert[_0x2fae76(0x226)](_0x8e9d28[0x1][kListener],NOOP);}),it(_0x32f9c9[_0x52a359(0x5ce)],()=>{const _0x1e4673=_0x52a359,_0xb4917e=new WebSocket(_0x32f9c9[_0x1e4673(0x6d5)],{'agent':new CustomAgent()}),_0x509e83={'handleEvent'(){}};_0xb4917e[_0x1e4673(0x658)](_0x32f9c9[_0x1e4673(0x43f)],_0x509e83),_0xb4917e[_0x1e4673(0x658)](_0x32f9c9[_0x1e4673(0x653)],NOOP),assert[_0x1e4673(0x226)](_0xb4917e[_0x1e4673(0x6f2)](_0x1e4673(0x1df))[0x0][kListener],_0x509e83),assert['strictEqual'](_0xb4917e[_0x1e4673(0x6f2)](_0x32f9c9[_0x1e4673(0x653)])[0x0][kListener],NOOP),_0xb4917e[_0x1e4673(0x290)](_0x32f9c9[_0x1e4673(0x43f)],()=>{}),assert['strictEqual'](_0xb4917e[_0x1e4673(0x6f2)](_0x32f9c9['EANZn'])[0x0][kListener],_0x509e83),_0xb4917e[_0x1e4673(0x290)](_0x1e4673(0x1df),_0x509e83),_0xb4917e['removeEventListener'](_0x32f9c9[_0x1e4673(0x653)],NOOP),assert[_0x1e4673(0x226)](_0xb4917e[_0x1e4673(0xec)](_0x1e4673(0x1df)),0x0),assert[_0x1e4673(0x226)](_0xb4917e[_0x1e4673(0xec)](_0x32f9c9['MfBtf']),0x0),_0xb4917e[_0x1e4673(0x658)](_0x32f9c9[_0x1e4673(0x43f)],NOOP,{'once':!![]}),_0xb4917e['addEventListener'](_0x1e4673(0x5bb),NOOP,{'once':!![]}),assert['strictEqual'](_0xb4917e['listeners'](_0x1e4673(0x1df))[0x0][kListener],NOOP),assert[_0x1e4673(0x226)](_0xb4917e['listeners'](_0x32f9c9[_0x1e4673(0x653)])[0x0][kListener],NOOP),_0xb4917e[_0x1e4673(0x290)](_0x1e4673(0x1df),()=>{}),assert[_0x1e4673(0x226)](_0xb4917e[_0x1e4673(0x6f2)](_0x32f9c9[_0x1e4673(0x43f)])[0x0][kListener],NOOP),_0xb4917e[_0x1e4673(0x290)](_0x1e4673(0x1df),NOOP),_0xb4917e[_0x1e4673(0x290)](_0x1e4673(0x5bb),NOOP),assert[_0x1e4673(0x226)](_0xb4917e['listenerCount'](_0x32f9c9['EANZn']),0x0),assert[_0x1e4673(0x226)](_0xb4917e[_0x1e4673(0xec)]('open'),0x0),_0xb4917e['on'](_0x32f9c9[_0x1e4673(0x43f)],NOOP),assert[_0x1e4673(0x657)](_0xb4917e[_0x1e4673(0x6f2)](_0x32f9c9[_0x1e4673(0x43f)]),[NOOP]),_0xb4917e['removeEventListener']('message',NOOP),assert[_0x1e4673(0x657)](_0xb4917e[_0x1e4673(0x6f2)](_0x1e4673(0x1df)),[NOOP]),_0xb4917e['onclose']=NOOP,assert[_0x1e4673(0x226)](_0xb4917e[_0x1e4673(0x6f2)]('close')[0x0][kListener],NOOP),_0xb4917e[_0x1e4673(0x290)](_0x1e4673(0x639),NOOP),assert[_0x1e4673(0x226)](_0xb4917e['listeners'](_0x1e4673(0x639))[0x0][kListener],NOOP);}),it(_0x32f9c9[_0x52a359(0x457)],_0x445a38=>{const _0x1ee830=_0x52a359,_0x3db592={'jyGQN':_0x32f9c9[_0x1ee830(0x209)],'XKPWo':function(_0x4984a0){return _0x4984a0();},'xRCMA':_0x1ee830(0x41d)},_0x22508d=new WebSocket[(_0x1ee830(0x287))]({'port':0x0},()=>{const _0x1c89aa=_0x1ee830,_0x24d253={'aBnDW':_0x1c89aa(0x387),'rdcvr':function(_0xd64945,_0x63ec5e){return _0xd64945 instanceof _0x63ec5e;}},_0x272f18=new WebSocket('ws://localhost:'+_0x22508d['address']()[_0x1c89aa(0x59c)]);_0x272f18['addEventListener'](_0x1c89aa(0x5bb),()=>{const _0x32b3a4=_0x1c89aa;_0x32b3a4(0x387)!==_0x24d253[_0x32b3a4(0x465)]?_0x15bb77[_0x32e7bf]=_0x5ea7cc/0x2:(_0x272f18[_0x32b3a4(0x2bb)]('hi'),_0x272f18[_0x32b3a4(0x639)]());}),_0x272f18[_0x1c89aa(0x658)](_0x1c89aa(0x1df),_0x32038e=>{const _0x5e7dc4=_0x1c89aa;assert['ok'](_0x24d253[_0x5e7dc4(0x262)](_0x32038e,MessageEvent)),assert[_0x5e7dc4(0x226)](_0x32038e[_0x5e7dc4(0x645)],'hi'),_0x22508d[_0x5e7dc4(0x639)](_0x445a38);});});_0x22508d['on'](_0x1ee830(0x35b),_0x5a82a5=>{const _0x4d6aff=_0x1ee830,_0x54b346={'iTAqy':_0x3db592[_0x4d6aff(0x4ce)],'dUkTw':function(_0x17fb89){const _0x556e1e=_0x4d6aff;return _0x3db592[_0x556e1e(0x27e)](_0x17fb89);}};_0x3db592[_0x4d6aff(0x628)]!==_0x3db592[_0x4d6aff(0x628)]?(_0x309aa2[_0x4d6aff(0x226)](_0x3ba0bb['getHeader'](_0x4d6aff(0x28e)),_0x4d6aff(0x529)+_0x3311ac[_0x4d6aff(0x667)](_0x192f3a)[_0x4d6aff(0x128)](_0x54b346[_0x4d6aff(0xc5)])),_0x54b346[_0x4d6aff(0x65f)](_0xeaca50)):_0x5a82a5['on']('message',(_0x4ae2f2,_0x101d69)=>{const _0x369a63=_0x4d6aff;_0x5a82a5[_0x369a63(0x2bb)](_0x4ae2f2,{'binary':_0x101d69});});});}),it(_0x32f9c9['VWlBp'],_0x479894=>{const _0x48af6f=_0x52a359,_0x1704ad={'Tpjsl':function(_0xb3ae66,_0x79ab36){const _0xe2298f=_0xffb2;return _0x32f9c9[_0xe2298f(0xe2)](_0xb3ae66,_0x79ab36);},'fYclF':_0x48af6f(0x639)},_0x30bb8c=new WebSocket[(_0x48af6f(0x287))]({'port':0x0},()=>{const _0x2d61af=_0x48af6f,_0xacec0a=new WebSocket(_0x2d61af(0x377)+_0x30bb8c['address']()[_0x2d61af(0x59c)]);_0xacec0a['addEventListener'](_0x1704ad['fYclF'],_0x2958f2=>{const _0xd918cc=_0x2d61af;assert['ok'](_0x1704ad[_0xd918cc(0x2ea)](_0x2958f2,CloseEvent)),assert['ok'](_0x2958f2[_0xd918cc(0x620)]),assert[_0xd918cc(0x226)](_0x2958f2[_0xd918cc(0x425)],''),assert[_0xd918cc(0x226)](_0x2958f2[_0xd918cc(0x48d)],0x3e8),_0x30bb8c[_0xd918cc(0x639)](_0x479894);});});_0x30bb8c['on'](_0x48af6f(0x35b),_0x2a45d2=>_0x2a45d2[_0x48af6f(0x639)](0x3e8));}),_0x32f9c9[_0x52a359(0x535)](it,_0x32f9c9[_0x52a359(0x592)],_0x5e5a27=>{const _0x225f05=_0x52a359,_0x3ea76a={'bxtXk':'nlehq'},_0x2e3491=new WebSocket[(_0x225f05(0x287))]({'port':0x0},()=>{const _0x283e30=_0x225f05,_0x1ab31f={'dkdWH':_0x283e30(0x402),'xAMeP':_0x283e30(0x3df),'IscIn':'1|2|4|3|0'};if(_0x3ea76a[_0x283e30(0x332)]!==_0x283e30(0x1dc))_0x220e70['strictEqual'](_0x5c9f06,0x3e8),_0x55b09a[_0x283e30(0x657)](_0x29c678,_0x31808a),_0x4308d0['close'](_0x40fb66);else{const _0x49d0ba=new WebSocket(_0x283e30(0x377)+_0x2e3491['address']()[_0x283e30(0x59c)]);_0x49d0ba[_0x283e30(0x658)](_0x283e30(0x639),_0x21acae=>{const _0x5046e2=_0x283e30;if(_0x1ab31f['dkdWH']===_0x1ab31f[_0x5046e2(0x3d2)])_0x35add7[_0x5046e2(0x70f)][_0x5046e2(0x4e8)]=_0x15ac25,_0x5b0315[_0x5046e2(0x70f)][_0x5046e2(0x4e8)](_0x2851dc),_0x477916[_0x5046e2(0x2d9)]();else{const _0x4f8fd6=_0x1ab31f[_0x5046e2(0xf4)][_0x5046e2(0x2e5)]('|');let _0x56cfbf=0x0;while(!![]){switch(_0x4f8fd6[_0x56cfbf++]){case'0':_0x2e3491[_0x5046e2(0x639)](_0x5e5a27);continue;case'1':assert['ok'](_0x21acae instanceof CloseEvent);continue;case'2':assert['ok'](_0x21acae[_0x5046e2(0x620)]);continue;case'3':assert['strictEqual'](_0x21acae[_0x5046e2(0x48d)],0xfa0);continue;case'4':assert[_0x5046e2(0x226)](_0x21acae[_0x5046e2(0x425)],_0x5046e2(0x606));continue;}break;}}});}});_0x2e3491['on']('connection',_0x5c921d=>_0x5c921d[_0x225f05(0x639)](0xfa0,_0x225f05(0x606)));}),_0x32f9c9['vARmO'](it,_0x32f9c9[_0x52a359(0x567)],_0x63473f=>{const _0x1a7f34=_0x52a359,_0x28b1eb={'Udjrj':function(_0x273c2f,_0x455814){return _0x273c2f instanceof _0x455814;},'VjhUg':_0x32f9c9[_0x1a7f34(0x653)],'QxVoB':_0x1a7f34(0x59f),'JpDYp':_0x1a7f34(0x3ea)},_0x40a6e2=new WebSocket[(_0x1a7f34(0x287))]({'port':0x0},()=>{const _0x491c1a=_0x1a7f34,_0x41abc4={'MeMzu':_0x491c1a(0x639)},_0x3ffd50=new Error(_0x491c1a(0x36c)),_0x27d720=new WebSocket(_0x491c1a(0x377)+_0x40a6e2['address']()['port']);_0x27d720[_0x491c1a(0x658)](_0x491c1a(0x5bb),_0x2ce2aa=>{const _0x11809d=_0x491c1a;assert['ok'](_0x28b1eb[_0x11809d(0x674)](_0x2ce2aa,Event)),assert[_0x11809d(0x226)](_0x2ce2aa[_0x11809d(0x43d)],_0x28b1eb[_0x11809d(0x471)]),assert[_0x11809d(0x226)](_0x2ce2aa['target'],_0x27d720);}),_0x27d720[_0x491c1a(0x658)](_0x87bb1b['RvoZJ'],_0x2164bc=>{const _0x4aedc4=_0x491c1a;assert['ok'](_0x28b1eb[_0x4aedc4(0x674)](_0x2164bc,MessageEvent)),assert[_0x4aedc4(0x226)](_0x2164bc['type'],'message'),assert[_0x4aedc4(0x226)](_0x2164bc[_0x4aedc4(0x660)],_0x27d720),_0x27d720[_0x4aedc4(0x639)]();}),_0x27d720[_0x491c1a(0x658)]('close',_0x192ce7=>{const _0x505082=_0x491c1a;assert['ok'](_0x192ce7 instanceof CloseEvent),assert[_0x505082(0x226)](_0x192ce7['type'],_0x41abc4[_0x505082(0x25a)]),assert[_0x505082(0x226)](_0x192ce7[_0x505082(0x660)],_0x27d720),_0x27d720['emit'](_0x505082(0x3ea),_0x3ffd50);}),_0x27d720[_0x491c1a(0x658)](_0x491c1a(0x3ea),_0x2b65de=>{const _0x23c9ff=_0x491c1a;if(_0x28b1eb['QxVoB']!==_0x23c9ff(0x511)){const _0x17b55a=_0x23c9ff(0x5a0)['split']('|');let _0x5a2d3a=0x0;while(!![]){switch(_0x17b55a[_0x5a2d3a++]){case'0':assert['ok'](_0x2b65de instanceof ErrorEvent);continue;case'1':assert['strictEqual'](_0x2b65de[_0x23c9ff(0x660)],_0x27d720);continue;case'2':assert[_0x23c9ff(0x226)](_0x2b65de['error'],_0x3ffd50);continue;case'3':_0x40a6e2[_0x23c9ff(0x639)](_0x63473f);continue;case'4':assert[_0x23c9ff(0x226)](_0x2b65de[_0x23c9ff(0x43d)],_0x28b1eb[_0x23c9ff(0x115)]);continue;case'5':assert[_0x23c9ff(0x226)](_0x2b65de[_0x23c9ff(0x1df)],_0x23c9ff(0x36c));continue;}break;}}else _0x367092['ok'](_0x45cfc5),_0xece382[_0x23c9ff(0x2bb)](_0x29af3f);});});_0x40a6e2['on'](_0x32f9c9['ogWhE'],_0x2d98d3=>_0x2d98d3[_0x1a7f34(0x2bb)]('hi'));}),_0x32f9c9[_0x52a359(0x5bd)](it,_0x32f9c9[_0x52a359(0x58d)],_0x33c717=>{const _0x20b09d=_0x52a359,_0x58ba71=new WebSocket['Server']({'port':0x0},()=>{const _0x351c12=_0xffb2;if(_0x351c12(0x2e9)!==_0x87bb1b[_0x351c12(0x4a5)])_0x3999c2[_0x351c12(0x657)](_0x1a55be[_0x351c12(0x2d8)](0x0,0x2),_0x536e88[_0x351c12(0x667)]([0x88,0x80])),_0x55ef5b['deepStrictEqual'](_0x3dc5b0,_0x54c9a6['from']([0x88,0x0])),_0x1c2b86['on']('close',(_0x55f4d2,_0x8a180d)=>{const _0x20f112=_0x351c12;_0xbb7f44['strictEqual'](_0x55f4d2,0x3ed),_0x10b175['strictEqual'](_0x8a180d,_0x3c985f),_0x2032d7[_0x20f112(0x639)](_0x48cf81);});else{const _0xdbe57f=new WebSocket(_0x351c12(0x377)+_0x58ba71['address']()[_0x351c12(0x59c)]);_0xdbe57f[_0x351c12(0x35f)]=_0x2cda33=>{const _0x52987b=_0x351c12;assert['ok'](Buffer[_0x52987b(0x39d)](_0x2cda33['data'])),_0x58ba71['close'](_0x33c717);};}});_0x58ba71['on'](_0x32f9c9[_0x20b09d(0x63e)],_0x146199=>{const _0x23ad31=_0x20b09d;_0x146199['send'](new Uint8Array(0x1000)),_0x146199[_0x23ad31(0x639)]();});}),_0x32f9c9['vARmO'](it,_0x32f9c9[_0x52a359(0x258)],_0x44d5df=>{const _0x1cf732=_0x52a359,_0x139cf7={'QApoY':_0x1cf732(0x5fd),'JTRXm':_0x1cf732(0x639),'QHDJT':function(_0x5ea810,_0x1b7231){const _0x4e52f0=_0x1cf732;return _0x32f9c9[_0x4e52f0(0xe1)](_0x5ea810,_0x1b7231);},'gyXTe':_0x32f9c9['zwdDx']},_0x2a7293=new WebSocket[(_0x1cf732(0x287))]({'port':0x0},()=>{const _0x16baba=_0x1cf732,_0x1899d1=new WebSocket('ws://localhost:'+_0x2a7293[_0x16baba(0x37f)]()['port']);_0x1899d1['binaryType']=_0x16baba(0x27f),_0x1899d1['onmessage']=_0x51e99e=>{const _0x2c7b8e=_0x16baba;assert['strictEqual'](_0x51e99e[_0x2c7b8e(0x645)],_0x139cf7[_0x2c7b8e(0x6e7)]),_0x2a7293['close'](_0x44d5df);};});_0x2a7293['on'](_0x1cf732(0x35b),_0x2805be=>{const _0x52d409=_0x1cf732,_0x1a2d7e={'xbUHi':_0x139cf7[_0x52d409(0x404)]};_0x139cf7[_0x52d409(0x48a)](_0x52d409(0x61a),_0x139cf7[_0x52d409(0x2f6)])?(_0x2805be[_0x52d409(0x2bb)]('foo'),_0x2805be[_0x52d409(0x639)]()):(_0x41198f['ok'](_0x40203b instanceof _0x47023f),_0x347ad3[_0x52d409(0x226)](_0x5d5ace[_0x52d409(0x1df)],_0x52d409(0x598)),_0x1068f1['on'](_0x1a2d7e['xbUHi'],()=>_0xa78bfa()));});}),it(_0x32f9c9[_0x52a359(0x307)],_0x4723bf=>{const _0x4c47e7=_0x52a359,_0x2ba3b3={'fHJTq':function(_0x291d7b,_0x24413e,_0x2c2767){return _0x291d7b(_0x24413e,_0x2c2767);},'GOYix':_0x32f9c9['JJeWT']},_0x29bf92=new WebSocket['Server']({'port':0x0},()=>{const _0xc6eb41=_0xffb2,_0x31c93b={'OvDcb':function(_0x20a4d1,_0x25272c){return _0x20a4d1===_0x25272c;},'aOYOp':_0x87bb1b[_0xc6eb41(0x697)],'MsYTe':_0x87bb1b[_0xc6eb41(0x545)],'AIhjT':_0xc6eb41(0x27f),'UeQhU':function(_0x56b581,_0x150936){return _0x56b581 instanceof _0x150936;}},_0xf01022=new WebSocket(_0xc6eb41(0x377)+_0x29bf92[_0xc6eb41(0x37f)]()[_0xc6eb41(0x59c)]);function _0x34c044(_0x38067a,_0x1a1cf2){const _0x4836c3=_0xc6eb41,_0x1b9930={'eOKYo':function(_0x2fd652,_0xfbbbf1){return _0x31c93b['OvDcb'](_0x2fd652,_0xfbbbf1);},'zJwap':_0x31c93b['aOYOp'],'rrtDn':_0x31c93b[_0x4836c3(0x3e0)],'rmZaS':function(_0x26f8f4,_0x3c3a47){return _0x26f8f4===_0x3c3a47;},'FxEJa':_0x31c93b[_0x4836c3(0x589)],'wphEm':function(_0x95a2db,_0x37962e){return _0x31c93b['UeQhU'](_0x95a2db,_0x37962e);},'CLXTj':function(_0x54aa35,_0x32d3ff){const _0x6a9f99=_0x4836c3;return _0x31c93b[_0x6a9f99(0x4ed)](_0x54aa35,_0x32d3ff);},'WCzyM':_0x4836c3(0x201)},_0x4c8c5b=Buffer['from'](_0x38067a);_0xf01022[_0x4836c3(0x66e)]=_0x38067a,_0xf01022[_0x4836c3(0x35f)]=_0x45cfd2=>{const _0x5ce9ef=_0x4836c3;if(_0x1b9930[_0x5ce9ef(0x3f8)](_0x38067a,_0x1b9930[_0x5ce9ef(0x151)]))_0x5ce9ef(0x231)===_0x1b9930[_0x5ce9ef(0x2c5)]?(_0x32abcc['ok'](_0x32d6ff instanceof _0x17d2bd),_0x5b9a0f['strictEqual'](_0x393960[_0x5ce9ef(0x1df)],'Unexpected\x20server\x20response:\x20401'),_0x159a78()):(assert['ok'](Buffer[_0x5ce9ef(0x39d)](_0x45cfd2[_0x5ce9ef(0x645)])),assert['ok'](_0x45cfd2[_0x5ce9ef(0x645)]['equals'](_0x4c8c5b)));else{if(_0x1b9930[_0x5ce9ef(0x28d)](_0x38067a,_0x1b9930['FxEJa']))assert['ok'](_0x1b9930[_0x5ce9ef(0xc3)](_0x45cfd2[_0x5ce9ef(0x645)],ArrayBuffer)),assert['ok'](Buffer[_0x5ce9ef(0x667)](_0x45cfd2[_0x5ce9ef(0x645)])[_0x5ce9ef(0x3a0)](_0x4c8c5b));else _0x1b9930[_0x5ce9ef(0x2f0)](_0x38067a,_0x1b9930[_0x5ce9ef(0x462)])&&assert[_0x5ce9ef(0x657)](_0x45cfd2[_0x5ce9ef(0x645)],[_0x4c8c5b]);}_0x1a1cf2();},_0xf01022['send'](_0x4c8c5b);}_0xf01022[_0xc6eb41(0xe6)]=()=>{const _0x125a4a=_0xc6eb41,_0x2c07b6={'aggOh':function(_0x35061e,_0x21b470){return _0x35061e===_0x21b470;},'McMkI':_0x125a4a(0x491),'WYwEp':_0x125a4a(0x5b0),'laubN':function(_0x286fdc,_0x1287c0,_0x1f5ba3){return _0x286fdc(_0x1287c0,_0x1f5ba3);},'xYJMK':'fragments'};_0x2ba3b3[_0x125a4a(0x51a)](_0x34c044,_0x2ba3b3[_0x125a4a(0x32c)],()=>{const _0x1c1e2c=_0x125a4a;_0x34c044(_0x1c1e2c(0x27f),()=>{const _0x441d24=_0x1c1e2c;_0x2c07b6[_0x441d24(0x13c)](_0x2c07b6[_0x441d24(0xed)],_0x2c07b6[_0x441d24(0x15d)])?_0x16ad12[_0x441d24(0x70f)]['on'](_0x441d24(0x639),()=>{const _0x407cfb=_0x441d24;_0x1b9953['strictEqual'](_0x2439d4[_0x407cfb(0x3b2)][_0x407cfb(0x444)],0x5);}):_0x2c07b6[_0x441d24(0x401)](_0x34c044,_0x2c07b6[_0x441d24(0x498)],()=>{const _0x3d0720=_0x441d24;_0xf01022[_0x3d0720(0x639)](),_0x29bf92['close'](_0x4723bf);});});});};});_0x29bf92['on'](_0x4c47e7(0x35b),_0x5312e8=>{_0x5312e8['on'](_0x87bb1b['RvoZJ'],(_0x47ba2f,_0x28e013)=>{assert['ok'](_0x28e013),_0x5312e8['send'](_0x47ba2f);});});});else{const _0x33a1f5={'ZJBtO':_0x32f9c9[_0x52a359(0x653)],'WNmZC':'close'},_0x3711d5=new _0x59d1f3['Server']({'port':0x0},()=>{const _0x1bd84c=_0x52a359,_0x378f86=new _0x11e60e('ws://localhost:'+_0x3711d5[_0x1bd84c(0x37f)]()[_0x1bd84c(0x59c)]);_0x378f86['on'](_0x33a1f5['ZJBtO'],()=>_0x378f86[_0x1bd84c(0x639)](0x3e8));});_0x3711d5['on'](_0x52a359(0x35b),_0x15db3b=>{_0x15db3b['on'](_0x33a1f5['WNmZC'],(_0x35f83e,_0x34a625)=>{const _0x31a592=_0xffb2;_0x52880a[_0x31a592(0x226)](_0x35f83e,0x3e8),_0x179077[_0x31a592(0x657)](_0x34a625,_0x53c507),_0x3711d5[_0x31a592(0x639)](_0x4a8b5e);});});}}),_0x32f9c9['VyDed'](describe,'SSL',()=>{const _0x2e1f1a=_0x31aca9,_0x522a8f={'aEcZc':function(_0x12f985,_0x5b0196){return _0x12f985!==_0x5b0196;},'fUvIl':_0x32f9c9[_0x2e1f1a(0x653)],'uFkuk':_0x32f9c9[_0x2e1f1a(0x22b)],'ixvRo':_0x2e1f1a(0x1bf),'ASoNg':_0x32f9c9['EANZn'],'euZVo':function(_0x5d0ec4){return _0x5d0ec4();}};it(_0x32f9c9[_0x2e1f1a(0x6cc)],_0x15bdb6=>{const _0x430449=_0x2e1f1a,_0x54f2b3={'amasS':_0x32f9c9[_0x430449(0x602)],'xQrKY':_0x430449(0x3ea),'YIudJ':'chuJg','cYWro':_0x32f9c9[_0x430449(0x653)]},_0x21a33a=https[_0x430449(0x683)]({'cert':fs[_0x430449(0x2da)](_0x32f9c9[_0x430449(0x22b)]),'key':fs['readFileSync'](_0x430449(0x1bf))}),_0x1bddbd=new WebSocket['Server']({'server':_0x21a33a});_0x1bddbd['on']('connection',()=>{const _0x4af86a=_0x430449;_0x21a33a[_0x4af86a(0x639)](_0x15bdb6);}),_0x21a33a[_0x430449(0x684)](0x0,()=>{const _0x3cc1de=_0x430449,_0x8078c4={'YlDWl':_0x54f2b3[_0x3cc1de(0x1f3)],'ODrVw':_0x3cc1de(0x5bb),'EtExU':_0x54f2b3[_0x3cc1de(0x2e0)]};if(_0x54f2b3[_0x3cc1de(0x122)]===_0x54f2b3['YIudJ']){const _0x367a83=new WebSocket(_0x3cc1de(0x618)+_0x21a33a[_0x3cc1de(0x37f)]()['port'],{'rejectUnauthorized':![]});_0x367a83['on'](_0x54f2b3[_0x3cc1de(0x1de)],_0x367a83[_0x3cc1de(0x639)]);}else{const _0x1eca20={'UoMhl':function(_0x4ccc5b,_0x56a4e6){return _0x4ccc5b instanceof _0x56a4e6;},'kQlMu':_0x8078c4[_0x3cc1de(0x522)]},_0x10fca5=new _0x74fbd0(_0x3cc1de(0x377)+_0x57a05f[_0x3cc1de(0x37f)]()[_0x3cc1de(0x59c)]);_0x10fca5['on'](_0x8078c4['ODrVw'],()=>_0x26893a(new _0x344af0(_0x3cc1de(0x1f7)))),_0x10fca5['on'](_0x8078c4[_0x3cc1de(0x286)],_0xe9ace8=>{const _0x50d7cf=_0x3cc1de;_0x4e4f1a['ok'](_0x1eca20[_0x50d7cf(0x66c)](_0xe9ace8,_0x5493c6)),_0x2884cb[_0x50d7cf(0x226)](_0xe9ace8[_0x50d7cf(0x1df)],_0x1eca20[_0x50d7cf(0x709)]),_0x10fca5['on'](_0x50d7cf(0x639),()=>_0x366282['close'](_0x4789be));}),_0x10fca5['terminate']();}});}),_0x32f9c9[_0x2e1f1a(0x6f6)](it,_0x32f9c9[_0x2e1f1a(0x3d5)],_0x140d28=>{const _0x521377=_0x2e1f1a,_0x5da0ba=https['createServer']({'cert':fs[_0x521377(0x2da)](_0x522a8f[_0x521377(0x1eb)]),'ca':[fs[_0x521377(0x2da)](_0x521377(0x2db))],'key':fs['readFileSync'](_0x522a8f['ixvRo']),'requestCert':!![]}),_0xb32166=new WebSocket[(_0x521377(0x287))]({'noServer':!![]});_0x5da0ba['on'](_0x521377(0x3da),(_0x3398a1,_0x55d6e1,_0xea5193)=>{const _0x32873b=_0x521377;assert['ok'](_0x55d6e1[_0x32873b(0x1e1)]),_0xb32166[_0x32873b(0x561)](_0x3398a1,_0x55d6e1,_0xea5193,_0x2ca1ab=>{const _0x4df1c7=_0x32873b;_0x2ca1ab['on'](_0x4df1c7(0x639),_0x44c261=>{assert['strictEqual'](_0x44c261,0x3ed),_0x5da0ba['close'](_0x140d28);});});}),_0x5da0ba['listen'](0x0,()=>{const _0x1f25e7=_0x521377;if(_0x522a8f[_0x1f25e7(0x20e)](_0x1f25e7(0x1f2),_0x1f25e7(0x4dc))){const _0x455678=new WebSocket(_0x1f25e7(0x37d)+_0x5da0ba[_0x1f25e7(0x37f)]()['port'],{'cert':fs[_0x1f25e7(0x2da)]('test/fixtures/client-certificate.pem'),'key':fs[_0x1f25e7(0x2da)](_0x1f25e7(0x550)),'rejectUnauthorized':![]});_0x455678['on'](_0x522a8f['fUvIl'],_0x455678['close']);}else _0x94b341['strictEqual'](_0x41b470,0x3ed),_0xc196a8[_0x1f25e7(0x226)](_0x3ba906[_0x1f25e7(0xcf)],_0x1f25e7(0x377)+_0x1ed72c+'/'),_0xd2c48d[_0x1f25e7(0x226)](_0x57d230[_0x1f25e7(0x54b)],0x1),_0x16d015['close'](_0x2ecc6e);});}),it(_0x2e1f1a(0x33c),_0x13545d=>{const _0x3dd5f4=_0x2e1f1a,_0x393fba={'AuwtG':'error'},_0x34dd4c=https[_0x3dd5f4(0x683)]({'cert':fs[_0x3dd5f4(0x2da)](_0x32f9c9[_0x3dd5f4(0x22b)]),'key':fs['readFileSync'](_0x3dd5f4(0x1bf))}),_0x4cf17a=new WebSocket[(_0x3dd5f4(0x287))]({'server':_0x34dd4c});_0x34dd4c[_0x3dd5f4(0x684)](0x0,()=>{const _0x35bc7d=_0x3dd5f4,_0x574f14=new WebSocket(_0x35bc7d(0x377)+_0x34dd4c[_0x35bc7d(0x37f)]()[_0x35bc7d(0x59c)],{'rejectUnauthorized':![]});_0x574f14['on'](_0x393fba[_0x35bc7d(0x135)],()=>{const _0x528835=_0x35bc7d;_0x34dd4c[_0x528835(0x639)](_0x13545d),_0x4cf17a[_0x528835(0x639)]();});});}),_0x32f9c9[_0x2e1f1a(0x3f0)](it,_0x32f9c9[_0x2e1f1a(0x6e3)],_0x42324e=>{const _0x4391b1=_0x2e1f1a;if(_0x32f9c9[_0x4391b1(0xe1)](_0x32f9c9[_0x4391b1(0x3ab)],'jWxhF'))_0x5e6728['on'](_0x522a8f['ASoNg'],(_0x32090c,_0x2b18b0)=>{const _0x290048=_0x4391b1;_0xf94176['ok'](_0x2b18b0),_0x18c1d3[_0x290048(0x2bb)](_0x32090c,{'compress':!![]});});else{const _0x26da26=https[_0x4391b1(0x683)]({'cert':fs[_0x4391b1(0x2da)]('test/fixtures/certificate.pem'),'key':fs[_0x4391b1(0x2da)](_0x32f9c9[_0x4391b1(0x63a)])}),_0x57a651=new WebSocket[(_0x4391b1(0x287))]({'server':_0x26da26});_0x57a651['on'](_0x4391b1(0x35b),_0x5cc8fc=>{const _0x2f18ff=_0x4391b1,_0x1ec064={'VibyL':_0x2f18ff(0x210)};_0x5cc8fc['on'](_0x2f18ff(0x1df),(_0x3c48db,_0x55d308)=>{const _0x2f5d65=_0x2f18ff;assert['deepStrictEqual'](_0x3c48db,Buffer[_0x2f5d65(0x667)](_0x1ec064[_0x2f5d65(0x55e)])),assert['ok'](!_0x55d308),_0x26da26[_0x2f5d65(0x639)](_0x42324e);});}),_0x26da26[_0x4391b1(0x684)](0x0,()=>{const _0x4b1fe3=_0x4391b1,_0xa15668=new WebSocket(_0x4b1fe3(0x37d)+_0x26da26[_0x4b1fe3(0x37f)]()[_0x4b1fe3(0x59c)],{'rejectUnauthorized':![]});_0xa15668['on'](_0x4b1fe3(0x5bb),()=>{const _0x3f796f=_0x4b1fe3;_0xa15668[_0x3f796f(0x2bb)]('foobar'),_0xa15668[_0x3f796f(0x639)]();});});}}),it('can\x20send\x20a\x20big\x20binary\x20message',_0x2a8ffb=>{const _0x143090=_0x2e1f1a,_0x3fe0aa={'yVbME':function(_0x3e9714,_0x38103b){const _0x226dcf=_0xffb2;return _0x32f9c9[_0x226dcf(0x222)](_0x3e9714,_0x38103b);},'KBdHw':_0x32f9c9['gIDNQ'],'rlFuB':_0x32f9c9['MfBtf'],'GaQWw':_0x32f9c9['EANZn']},_0x199de1=crypto['randomBytes'](_0x32f9c9[_0x143090(0x687)](_0x32f9c9['QnnwT'](0x5,0x400),0x400)),_0xe7b5ab=https[_0x143090(0x683)]({'cert':fs['readFileSync']('test/fixtures/certificate.pem'),'key':fs['readFileSync'](_0x143090(0x1bf))}),_0x3e195d=new WebSocket[(_0x143090(0x287))]({'server':_0xe7b5ab});_0x3e195d['on'](_0x32f9c9[_0x143090(0x63e)],_0x1b2e84=>{_0x1b2e84['on'](_0x522a8f['ASoNg'],(_0x4efd25,_0x392d4f)=>{const _0x527fde=_0xffb2;assert['ok'](_0x392d4f),_0x1b2e84[_0x527fde(0x2bb)](_0x4efd25),_0x1b2e84[_0x527fde(0x639)]();});}),_0xe7b5ab['listen'](0x0,()=>{const _0x355d99=_0x143090,_0x510932=new WebSocket(_0x355d99(0x37d)+_0xe7b5ab['address']()[_0x355d99(0x59c)],{'rejectUnauthorized':![]});_0x510932['on'](_0x3fe0aa[_0x355d99(0x69c)],()=>_0x510932[_0x355d99(0x2bb)](_0x199de1)),_0x510932['on'](_0x3fe0aa[_0x355d99(0x192)],(_0x20309d,_0x196dd0)=>{const _0x46e638=_0x355d99;if(_0x3fe0aa[_0x46e638(0x3c8)](_0x46e638(0x52e),_0x3fe0aa[_0x46e638(0x3f1)]))assert['deepStrictEqual'](_0x20309d,_0x199de1),assert['ok'](_0x196dd0),_0xe7b5ab[_0x46e638(0x639)](_0x2a8ffb);else{_0x185777[_0x46e638(0x226)](_0x14d833['toString'](),'hi');if(++_0x3f4f3===0x2)_0x45b23e[_0x46e638(0x639)](_0x333e07);}});});})[_0x2e1f1a(0x304)](0xfa0),it(_0x32f9c9['VZwKB'],_0x5eff7c=>{const _0x2ed23a=_0x2e1f1a,_0xd4e86a=tls['connect'];tls[_0x2ed23a(0x274)]=_0x230fa3=>{const _0x5427c1=_0x2ed23a;assert[_0x5427c1(0x226)](_0x230fa3['servername'],''),tls[_0x5427c1(0x274)]=_0xd4e86a,_0x522a8f['euZVo'](_0x5eff7c);};const _0x1cc749=new WebSocket(_0x32f9c9[_0x2ed23a(0x1fb)],{'servername':''});}),it(_0x32f9c9['BqcJk'],function(_0x26478e){const _0x3d6aad=_0x2e1f1a,_0xef4d43={'HBkoE':function(_0x45f201,_0x617c38){return _0x45f201===_0x617c38;},'VWgmU':_0x32f9c9[_0x3d6aad(0x621)],'ngpMS':_0x32f9c9[_0x3d6aad(0x4e9)],'aTrWO':_0x3d6aad(0x1b3),'eEqzC':_0x32f9c9[_0x3d6aad(0x37b)]};eval('1 + 1;');if(process[_0x3d6aad(0xfa)][_0x3d6aad(0x490)]<0x40)return this[_0x3d6aad(0x1e7)]();const _0x2c59b2=https[_0x3d6aad(0x683)]({'cert':fs[_0x3d6aad(0x2da)]('test/fixtures/certificate.pem'),'key':fs['readFileSync'](_0x32f9c9[_0x3d6aad(0x63a)]),'minVersion':_0x32f9c9[_0x3d6aad(0x38b)]}),_0x17d683=new WebSocket['Server']({'server':_0x2c59b2});_0x2c59b2['listen'](0x0,()=>{const _0x24dfb7=_0x3d6aad;if(_0xef4d43[_0x24dfb7(0x33b)](_0xef4d43[_0x24dfb7(0x243)],_0xef4d43['ngpMS']))_0x4f1ebb[_0x24dfb7(0x19f)]('hi',!![]),_0x371609[_0x24dfb7(0x639)]();else{const _0x20e202=new WebSocket(_0x24dfb7(0x37d)+_0x2c59b2[_0x24dfb7(0x37f)]()[_0x24dfb7(0x59c)],{'maxVersion':_0xef4d43[_0x24dfb7(0x6bc)],'rejectUnauthorized':![]});_0x20e202['on'](_0xef4d43[_0x24dfb7(0x3dd)],_0x94354a=>{const _0x20255d=_0x24dfb7;assert['ok'](_0x94354a instanceof Error),_0x2c59b2[_0x20255d(0x639)](_0x26478e),_0x17d683[_0x20255d(0x639)]();});}});});}),_0x32f9c9[_0x31aca9(0x58f)](describe,_0x32f9c9['uoYHm'],()=>{const _0x38b0db=_0x31aca9,_0x20b15a={'XlIBp':_0x32f9c9['VNiFZ'],'tMKQo':function(_0x1dff82){return _0x1dff82();},'YhDlQ':_0x32f9c9[_0x38b0db(0x3fb)],'TUjWw':'ws://localhost','cqMIz':_0x38b0db(0x559)};it(_0x32f9c9[_0x38b0db(0x53c)],_0x2c5f91=>{const _0x3bbbe7=_0x38b0db,_0x379dfb=new http['Agent'](),_0x659638=_0x3bbbe7(0x4bf);_0x379dfb[_0x3bbbe7(0x374)]=_0x534cbd=>{const _0x1f89ad=_0x3bbbe7;assert[_0x1f89ad(0x226)](_0x534cbd[_0x1f89ad(0x256)](_0x20b15a[_0x1f89ad(0x4c0)]),_0x1f89ad(0x529)+Buffer[_0x1f89ad(0x667)](_0x659638)[_0x1f89ad(0x128)](_0x1f89ad(0x62b))),_0x20b15a[_0x1f89ad(0x661)](_0x2c5f91);};const _0x4a31c7=new WebSocket(_0x3bbbe7(0x480)+_0x659638+_0x3bbbe7(0x21a),{'agent':_0x379dfb});}),_0x32f9c9[_0x38b0db(0x5b8)](it,_0x38b0db(0x22f),_0x5bdcd5=>{const _0x1815a2=_0x38b0db,_0x597d7a={'iZrNP':_0x32f9c9[_0x1815a2(0xd5)],'oAChZ':'base64'};if(_0x1815a2(0x2d4)!==_0x32f9c9[_0x1815a2(0x609)])_0x38111a['close']();else{const _0x1a4fc7=new http[(_0x1815a2(0x383))](),_0xac7661=_0x1815a2(0x319);_0x1a4fc7[_0x1815a2(0x374)]=_0x127184=>{const _0x4bcdf6=_0x1815a2;if(_0x597d7a['iZrNP']!==_0x597d7a['iZrNP']){const _0x204dc8=new _0x432bd0('ws://localhost',{'agent':new _0x1314e8()});_0x2e609e[_0x4bcdf6(0x226)](_0x204dc8['readyState'],_0x409931[_0x4bcdf6(0x347)]);}else assert[_0x4bcdf6(0x226)](_0x127184[_0x4bcdf6(0x256)](_0x4bcdf6(0x28e)),_0x4bcdf6(0x529)+Buffer['from'](_0xac7661)['toString'](_0x597d7a[_0x4bcdf6(0x361)])),_0x5bdcd5();};const _0xa7ec47=new WebSocket(_0x1815a2(0x3b6),{'agent':_0x1a4fc7,'auth':_0xac7661});}}),_0x32f9c9[_0x38b0db(0x1aa)](it,'favors\x20the\x20url\x20userinfo\x20over\x20the\x20`auth`\x20option',_0x4cfa18=>{const _0x4f6b9e=_0x38b0db,_0x4588a5={'dRQmR':'authorization','MeEPn':_0x32f9c9[_0x4f6b9e(0x209)]};if(_0x32f9c9[_0x4f6b9e(0x68e)](_0x32f9c9['NooqN'],_0x4f6b9e(0x67a))){const _0x4b0c7f=new http[(_0x4f6b9e(0x383))](),_0x42f848=_0x32f9c9[_0x4f6b9e(0x1cd)],_0x4a97bc=_0x4f6b9e(0x248);_0x4b0c7f[_0x4f6b9e(0x374)]=_0x5ac8b5=>{const _0x371156=_0x4f6b9e;assert[_0x371156(0x226)](_0x5ac8b5[_0x371156(0x256)](_0x4588a5['dRQmR']),'Basic\x20'+Buffer['from'](_0x4a97bc)[_0x371156(0x128)](_0x4588a5[_0x371156(0x160)])),_0x4cfa18();};const _0x28cbc2=new WebSocket('ws://'+_0x4a97bc+_0x4f6b9e(0x21a),{'agent':_0x4b0c7f,'auth':_0x42f848});}else{const _0x80f9b5=new _0x1150ed(_0x4f6b9e(0x377)+_0x3bd84f['address']()[_0x4f6b9e(0x59c)]);_0x80f9b5['on'](_0x4f6b9e(0x5bb),()=>_0x80f9b5[_0x4f6b9e(0x2bb)]('hi')),_0x80f9b5['on']('message',(_0x443ae1,_0x22d0d0)=>{const _0x1a08bd=_0x4f6b9e;_0x18aad9['deepStrictEqual'](_0x443ae1,_0x42bad2['from']('hi')),_0xddf81f['ok'](!_0x22d0d0),_0x1a0ded[_0x1a08bd(0x639)](_0x53f5aa);});}}),it(_0x32f9c9[_0x38b0db(0x207)],_0x222846=>{const _0x407c5c=_0x38b0db,_0x441075={'VHhDr':_0x32f9c9[_0x407c5c(0x60c)],'SNpSX':function(_0x36a7dd){return _0x36a7dd();}},_0x9fdf95=new http['Agent']();_0x9fdf95[_0x407c5c(0x374)]=_0xab488a=>{const _0x1c7fe5=_0x407c5c;assert['strictEqual'](_0xab488a[_0x1c7fe5(0x256)](_0x1c7fe5(0x1af)),_0x441075[_0x1c7fe5(0x63b)]),_0x441075['SNpSX'](_0x222846);};const _0x21a992=new WebSocket(_0x32f9c9[_0x407c5c(0x6d5)],{'headers':{'Cookie':_0x407c5c(0x18a)},'agent':_0x9fdf95});}),_0x32f9c9[_0x38b0db(0x672)](it,_0x38b0db(0x1a3),()=>{const _0x4350bb=_0x38b0db,_0x34b035={'lookup'(){}},_0x2e03f7=[[_0x32f9c9[_0x4350bb(0x6f5)],_0x32f9c9['QbPIF']],[_0x4350bb(0x6b1),_0x32f9c9[_0x4350bb(0x378)]],[_0x4350bb(0x13d),_0x4350bb(0x4c5)],['ws://localhost:80','localhost']];for(const [_0x3e760e,_0x2adb59]of _0x2e03f7){const _0x28a0b4=new WebSocket(_0x3e760e,_0x34b035);assert[_0x4350bb(0x226)](_0x28a0b4[_0x4350bb(0x525)]['getHeader'](_0x32f9c9['ezoZF']),_0x2adb59);}}),it(_0x32f9c9[_0x38b0db(0x419)],_0xfa2960=>{const _0x4483ef=_0x38b0db,_0x93c15a={'OGJAe':_0x20b15a[_0x4483ef(0x422)],'yFaNT':function(_0x430914){return _0x430914();}},_0x57fbfb=new http['Agent']();_0x57fbfb[_0x4483ef(0x374)]=_0x4da018=>{const _0x1d2bc4=_0x4483ef;assert['strictEqual'](_0x4da018[_0x1d2bc4(0x256)](_0x93c15a[_0x1d2bc4(0x60d)]),undefined),_0x93c15a[_0x1d2bc4(0x61d)](_0xfa2960);};const _0x1b3856=new WebSocket(_0x20b15a[_0x4483ef(0x44b)],{'agent':_0x57fbfb});}),_0x32f9c9[_0x38b0db(0x1c0)](it,_0x32f9c9[_0x38b0db(0x494)],_0x4ea44a=>{const _0x3d9b48=_0x38b0db,_0x572a65={'hKyvS':_0x3d9b48(0x1f8),'dNRGj':_0x20b15a[_0x3d9b48(0x273)],'sYPqB':function(_0x1dcf9f){const _0x244ac6=_0x3d9b48;return _0x20b15a[_0x244ac6(0x661)](_0x1dcf9f);}},_0x4fd6c3=new http[(_0x3d9b48(0x383))]();_0x4fd6c3[_0x3d9b48(0x374)]=_0x3a3856=>{const _0x1791e8=_0x3d9b48;assert['strictEqual'](_0x3a3856['getHeader'](_0x572a65[_0x1791e8(0x420)]),_0x572a65[_0x1791e8(0x365)]),_0x572a65['sYPqB'](_0x4ea44a);};const _0x1f1ddd=new WebSocket(_0x3d9b48(0x3b6),{'origin':_0x20b15a[_0x3d9b48(0x273)],'agent':_0x4fd6c3});}),_0x32f9c9['PrQMZ'](it,_0x32f9c9[_0x38b0db(0x546)],_0x2d95fc=>{const _0x3e4591=_0x38b0db,_0x1482b1={'nluxC':_0x20b15a[_0x3e4591(0x273)]},_0x59b2c5=new http[(_0x3e4591(0x383))]();_0x59b2c5[_0x3e4591(0x374)]=_0x452eab=>{const _0x8859be=_0x3e4591;assert[_0x8859be(0x226)](_0x452eab['getHeader'](_0x8859be(0x6c6)),_0x1482b1['nluxC']),_0x2d95fc();};const _0x22e5c7=new WebSocket(_0x20b15a[_0x3e4591(0x44b)],{'origin':_0x20b15a[_0x3e4591(0x273)],'protocolVersion':0x8,'agent':_0x59b2c5});}),it(_0x38b0db(0x233),_0x3f9711=>{const _0x544f20=_0x38b0db,_0x2fb958={'ovDVY':_0x32f9c9[_0x544f20(0x60c)],'HamOE':_0x544f20(0x11a),'FsfxB':_0x32f9c9['EkWse'],'kwpql':function(_0x57d44c,_0x49c9e9){return _0x57d44c!==_0x49c9e9;},'KJAfH':_0x544f20(0x274),'NTQNB':'close'},_0x3b75a8=new WebSocket[(_0x544f20(0x287))]({'port':0x0},()=>{const _0x338a95=_0x544f20,_0x5e1fc9={'QtEII':_0x2fb958['KJAfH']},_0x93ffe0=_0x338a95(0xdb)+_0x3b75a8[_0x338a95(0x37f)]()[_0x338a95(0x59c)],_0x1ae24b=new WebSocket(_0x338a95(0x480)+_0x93ffe0,{'finishRequest'(_0x6aede6,_0x59c644){const _0x4c7389=_0x338a95,_0x3efec9={'IcJuT':_0x2fb958['ovDVY']};assert['ok'](_0x6aede6 instanceof http[_0x4c7389(0x366)]),assert['strictEqual'](_0x6aede6[_0x4c7389(0x256)](_0x2fb958[_0x4c7389(0x1bc)]),_0x93ffe0),assert['ok'](_0x59c644 instanceof WebSocket),assert[_0x4c7389(0x226)](_0x6aede6,_0x59c644['_req']),_0x6aede6['on'](_0x2fb958[_0x4c7389(0x1f0)],_0x3ae789=>{const _0xb77731=_0x4c7389;_0x3ae789['on'](_0x5e1fc9[_0xb77731(0x5a9)],()=>{const _0x1b5f96=_0xb77731;_0x6aede6['setHeader'](_0x1b5f96(0x1e2),_0x3efec9[_0x1b5f96(0x411)]),_0x6aede6[_0x1b5f96(0x5e1)]();});});}});_0x1ae24b['on'](_0x2fb958[_0x338a95(0x272)],_0x21c2fb=>{const _0x53ddbb=_0x338a95;if(_0x2fb958[_0x53ddbb(0x166)](_0x53ddbb(0x241),'FaBtx')){const _0x2037e4=new _0xf432c0('ws://localhost:'+_0x53642f['address']()['port']);}else assert[_0x53ddbb(0x226)](_0x21c2fb,0x3ed),_0x3b75a8[_0x53ddbb(0x639)](_0x3f9711);});});_0x3b75a8['on'](_0x544f20(0x35b),(_0x4a0a13,_0x25894e)=>{const _0x2fcc0b=_0x544f20;assert[_0x2fcc0b(0x226)](_0x25894e[_0x2fcc0b(0x5c3)][_0x2fcc0b(0x1af)],'foo=bar'),_0x4a0a13[_0x2fcc0b(0x639)]();});});}),_0x32f9c9[_0x31aca9(0x24c)](describe,_0x31aca9(0x194),()=>{const _0x59526e=_0x31aca9,_0x200e7c={'uUytZ':_0x32f9c9['KZAxX'],'rqNnk':'ws://localhost','wkgnV':'rqZjQ','mmeHB':_0x59526e(0x5fd),'dYUJs':_0x59526e(0x4f9),'TZkRY':_0x59526e(0x35b),'clrBT':_0x32f9c9[_0x59526e(0x285)],'grhJo':function(_0x19d55b,_0xf4f254){return _0x19d55b-_0xf4f254;},'dXLRN':_0x32f9c9[_0x59526e(0x653)],'INNmg':_0x59526e(0x1df),'NhMfm':'authorization','IDJqN':_0x32f9c9['KDecQ'],'DvoeA':_0x59526e(0x28f),'NYCEk':function(_0x20e9f8,_0x2fdfa9){return _0x20e9f8 instanceof _0x2fdfa9;},'kXFJX':_0x32f9c9[_0x59526e(0x6cb)],'LQIKG':_0x32f9c9[_0x59526e(0x6af)],'Pklgs':function(_0x5089a8,_0x36a33d){return _0x5089a8<_0x36a33d;},'uGlNv':_0x32f9c9[_0x59526e(0x1b0)],'gooix':_0x59526e(0x711),'auPfb':function(_0x5e4cf7,_0xf8a677){const _0x9727d8=_0x59526e;return _0x32f9c9[_0x9727d8(0x670)](_0x5e4cf7,_0xf8a677);},'HtNfJ':_0x32f9c9[_0x59526e(0x1d8)],'NyUgk':_0x59526e(0x62a),'YKDfz':_0x59526e(0x103),'Avwtz':_0x32f9c9[_0x59526e(0x616)],'xQkOk':function(_0x5a02a3,_0x4379dd,_0x4a774e){return _0x5a02a3(_0x4379dd,_0x4a774e);},'jodxT':function(_0x521dfd,_0x3e0309,_0x44c98a){return _0x32f9c9['NYbue'](_0x521dfd,_0x3e0309,_0x44c98a);},'HuaKS':'can\x20be\x20used\x20while\x20data\x20is\x20being\x20decompressed','beVvk':_0x59526e(0x6a6)};_0x59526e(0x3c4)!==_0x59526e(0x6a0)?(it(_0x59526e(0x445),_0x34030d=>{const _0x2b8b83=_0x59526e,_0x1129dd={'SjlKI':function(_0x1eba35){const _0x20674e=_0xffb2;return _0x32f9c9[_0x20674e(0x3af)](_0x1eba35);}},_0x2a6140=new http['Agent']();_0x2a6140[_0x2b8b83(0x374)]=_0x1ce60a=>{const _0x2e695a=_0x2b8b83;assert[_0x2e695a(0x226)](_0x1ce60a['getHeader']('sec-websocket-extensions'),_0x2e695a(0x23e)),_0x1129dd[_0x2e695a(0x386)](_0x34030d);};const _0x1b7d82=new WebSocket(_0x32f9c9[_0x2b8b83(0x6d5)],{'agent':_0x2a6140});}),it(_0x32f9c9[_0x59526e(0x477)],_0x4e6e0a=>{const _0x2dbf56=_0x59526e,_0x482162=new http['Agent']();_0x482162[_0x2dbf56(0x374)]=_0x12c562=>{const _0x5d0d86=_0x2dbf56;assert[_0x5d0d86(0x226)](_0x12c562[_0x5d0d86(0x256)](_0x200e7c[_0x5d0d86(0x305)]),undefined),_0x4e6e0a();};const _0x233520=new WebSocket(_0x200e7c[_0x2dbf56(0x50a)],{'perMessageDeflate':![],'agent':_0x482162});}),_0x32f9c9[_0x59526e(0x18f)](it,_0x32f9c9['fnUuI'],_0xb7f139=>{const _0x37a11b=_0x59526e,_0x4011f0={'jyXgJ':function(_0x38e0d9,_0x17a7cc){return _0x38e0d9(_0x17a7cc);},'SoZqy':_0x37a11b(0x639),'KwYfN':_0x32f9c9[_0x37a11b(0x238)],'rSEwW':_0x32f9c9['EuVZn'],'SvXTM':_0x32f9c9[_0x37a11b(0x3f2)],'NgzbB':function(_0x63fdef,_0x56f7d7){return _0x63fdef===_0x56f7d7;},'iNUMq':_0x32f9c9[_0x37a11b(0x576)],'sjmKI':function(_0x157c41){return _0x157c41();}},_0x3d27c0=new http[(_0x37a11b(0x383))](),_0x5478bc=_0x32f9c9[_0x37a11b(0x1a9)](_0x32f9c9['hssHD'],_0x32f9c9['jLnRm'])+_0x32f9c9['fooxm'];_0x3d27c0['addRequest']=_0x136372=>{const _0x309151=_0x37a11b,_0x4122e4={'QhcUN':'google.com','yeqQi':function(_0x13061f,_0x315366){const _0x25dd3d=_0xffb2;return _0x4011f0[_0x25dd3d(0x46b)](_0x13061f,_0x315366);},'HOKFE':_0x4011f0[_0x309151(0x355)],'xdLgl':_0x4011f0[_0x309151(0x10a)],'KHcJy':_0x4011f0[_0x309151(0xf9)],'bDFZf':_0x4011f0[_0x309151(0x1a0)],'zMULq':_0x309151(0x5bb)};if(_0x4011f0[_0x309151(0x280)](_0x309151(0x506),'nQJrI'))assert['strictEqual'](_0x136372[_0x309151(0x256)](_0x4011f0[_0x309151(0x47a)]),_0x5478bc),_0x4011f0[_0x309151(0x4af)](_0xb7f139);else{const _0x3b82c6={'BcwgR':_0x309151(0x518),'JhJHr':_0x4122e4[_0x309151(0x101)]},_0x1c20bc=new _0x135aab[(_0x309151(0x287))]({'noServer':!![],'path':_0x4122e4[_0x309151(0x53f)]});_0x4d85e1[_0x309151(0x1c3)](_0x4122e4[_0x309151(0x178)],(_0x328175,_0x2ef46a,_0x3e0f34)=>{const _0xbcd6d8=_0x309151;_0x3e4efd['strictEqual'](_0x328175['headers'][_0xbcd6d8(0x11a)],_0x3b82c6[_0xbcd6d8(0x3fd)]),_0x1c20bc[_0xbcd6d8(0x561)](_0x328175,_0x2ef46a,_0x3e0f34,_0x10f6f2);});const _0x4a3d23=new _0x18005d(_0x4122e4[_0x309151(0x2b6)],{'createConnection':_0x5a40f8=>{const _0x33063a=_0x309151;return _0x22e067[_0x33063a(0x226)](_0x5a40f8[_0x33063a(0x11a)],_0x4122e4[_0x33063a(0x713)]),_0x501d8f[_0x33063a(0x226)](_0x5a40f8[_0x33063a(0x59c)],'22'),_0x4122e4[_0x33063a(0x6dc)](_0x2e904b,_0x33063a(0x4fb))(),_0x296a1d[_0x33063a(0x324)]({'host':_0x33063a(0x6a6),'port':_0x29f7e4[_0x33063a(0x37f)]()[_0x33063a(0x59c)]});}});_0x4a3d23['on'](_0x4122e4[_0x309151(0x18e)],()=>{const _0xfd12f8=_0x309151;_0xc3f0d6[_0xfd12f8(0x226)](_0x4a3d23[_0xfd12f8(0xcf)],_0xfd12f8(0x23b)),_0x4a3d23['on'](_0x3b82c6[_0xfd12f8(0x345)],()=>_0x5b3fd7()),_0x4a3d23['close']();});}};const _0x1f1d5b=new WebSocket(_0x32f9c9[_0x37a11b(0x6d5)],{'perMessageDeflate':{'clientNoContextTakeover':!![],'serverNoContextTakeover':!![],'clientMaxWindowBits':!![],'serverMaxWindowBits':0xa},'agent':_0x3d27c0});}),_0x32f9c9[_0x59526e(0x4ad)](it,'consumes\x20all\x20received\x20data\x20when\x20connection\x20is\x20closed\x20(1/2)',_0x16880d=>{const _0x1010c3=_0x59526e,_0xd5dac={'VoMgw':_0x1010c3(0x210),'cLxqe':_0x200e7c[_0x1010c3(0x292)],'jrjRi':_0x200e7c['mmeHB'],'QgpzX':_0x1010c3(0x639),'iopcL':_0x200e7c[_0x1010c3(0x509)]},_0x12ac9a=new WebSocket[(_0x1010c3(0x287))]({'perMessageDeflate':{'threshold':0x0},'port':0x0},()=>{const _0x218f94=_0x1010c3,_0x3c9b87={'YSZAO':_0xd5dac[_0x218f94(0x586)],'lsxQH':'baz'},_0xd6bffe=[],_0x3704d4=new WebSocket('ws://localhost:'+_0x12ac9a['address']()[_0x218f94(0x59c)]);_0x3704d4['on']('open',()=>{const _0x53a99a=_0x218f94,_0xd4dd65={'MfIIh':_0xd5dac[_0x53a99a(0x4ea)]};_0xd5dac[_0x53a99a(0x1ba)]!==_0x53a99a(0x43b)?(_0x32e0e0['deepStrictEqual'](_0x341b33,_0xe8e1e4[_0x53a99a(0x667)](_0xd4dd65[_0x53a99a(0x56b)])),_0x1da91e['ok'](!_0x32fb8b),_0x181be9[_0x53a99a(0x639)](_0x3ece7c)):_0x3704d4[_0x53a99a(0x70f)]['on']('close',()=>{const _0x4e34fb=_0x53a99a;assert[_0x4e34fb(0x226)](_0x3704d4[_0x4e34fb(0x3b2)][_0x4e34fb(0x444)],0x5);});}),_0x3704d4['on'](_0x218f94(0x1df),(_0x2643ff,_0x424f79)=>{const _0x15c0fc=_0x218f94;assert['ok'](!_0x424f79),_0xd6bffe[_0x15c0fc(0x4e8)](_0x2643ff[_0x15c0fc(0x128)]());}),_0x3704d4['on'](_0xd5dac[_0x218f94(0x239)],_0x3f192f=>{const _0x572b51=_0x218f94;assert[_0x572b51(0x226)](_0x3f192f,0x3ee),assert[_0x572b51(0x657)](_0xd6bffe,[_0x3c9b87[_0x572b51(0x564)],_0x572b51(0x711),_0x3c9b87['lsxQH'],'qux']),_0x12ac9a[_0x572b51(0x639)](_0x16880d);});});_0x12ac9a['on'](_0x200e7c[_0x1010c3(0x1d4)],_0x401de7=>{const _0x357749=_0x1010c3;_0x401de7[_0x357749(0x2bb)](_0xd5dac[_0x357749(0x586)]),_0x401de7['send'](_0x357749(0x711)),_0x401de7[_0x357749(0x2bb)](_0xd5dac[_0x357749(0x124)]),_0x401de7['send']('qux',()=>_0x401de7['_socket'][_0x357749(0x5e1)]());});}),it(_0x59526e(0x5be),_0x4059f1=>{const _0x1f1a65=_0x59526e;if(_0x1f1a65(0x2ee)===_0x1f1a65(0x2ee)){const _0x390fd2=new WebSocket[(_0x1f1a65(0x287))]({'perMessageDeflate':!![],'port':0x0},()=>{const _0x2050eb=_0x1f1a65,_0x228b1a={'ILoWb':_0x200e7c[_0x2050eb(0x316)],'pcrGx':function(_0x5a00ed,_0x9a2919){return _0x200e7c['grhJo'](_0x5a00ed,_0x9a2919);}},_0x5c4805=[],_0x14b05c=new WebSocket(_0x2050eb(0x377)+_0x390fd2['address']()[_0x2050eb(0x59c)]);_0x14b05c['on'](_0x200e7c[_0x2050eb(0x21f)],()=>{const _0x37d7fa=_0x2050eb;_0x14b05c[_0x37d7fa(0x70f)][_0x37d7fa(0x51f)](_0x228b1a['ILoWb'],()=>{const _0x3081fd=_0x37d7fa;assert[_0x3081fd(0x226)](_0x14b05c[_0x3081fd(0x3b2)][_0x3081fd(0x444)],0x5),assert[_0x3081fd(0x226)](_0x14b05c[_0x3081fd(0x70f)][_0x3081fd(0x4e0)]['length'],0x3);});const _0xb1e155=_0x14b05c[_0x37d7fa(0x70f)][_0x37d7fa(0x4e8)];_0x14b05c[_0x37d7fa(0x70f)][_0x37d7fa(0x4e8)]=_0x145805=>{const _0x400b40=_0x37d7fa;_0x14b05c[_0x400b40(0x70f)][_0x400b40(0x4e8)]=_0xb1e155,_0x14b05c[_0x400b40(0x70f)][_0x400b40(0x4e8)](_0x145805),_0x14b05c['terminate']();};const _0x52eb25=Buffer[_0x37d7fa(0x5e2)](_0x228b1a[_0x37d7fa(0x1ec)](highWaterMark,0x400)),_0x4962e5=Buffer[_0x37d7fa(0x5e2)](0x1),_0x294050={'fin':!![],'opcode':0x2,'mask':![],'readOnly':![]},_0x5b2ce2=[...Sender[_0x37d7fa(0x337)](_0x52eb25,{'rsv1':![],..._0x294050}),...Sender[_0x37d7fa(0x337)](_0x4962e5,{'rsv1':!![],..._0x294050})];for(let _0x2b5731=0x0;_0x2b5731<0x154;_0x2b5731++){_0x5b2ce2[_0x37d7fa(0x4e8)](_0x5b2ce2[_0x5b2ce2[_0x37d7fa(0x33f)]-0x2],_0x5b2ce2[_0x5b2ce2['length']-0x1]);}const _0x5386d7=Buffer[_0x37d7fa(0x5bf)](_0x5b2ce2);assert['ok'](_0x5386d7[_0x37d7fa(0x33f)]>highWaterMark),_0xb1e155[_0x37d7fa(0x24b)](_0x14b05c['_socket'],_0x5386d7),_0x390fd2[_0x37d7fa(0x27d)]['values']()[_0x37d7fa(0x6a7)]()['value'][_0x37d7fa(0x2bb)](_0x4962e5,{'compress':![]});}),_0x14b05c['on'](_0x200e7c[_0x2050eb(0xfc)],(_0x3da3eb,_0x1091f7)=>{const _0x1fcaee=_0x2050eb;assert['ok'](_0x1091f7),_0x5c4805[_0x1fcaee(0x4e8)](_0x3da3eb[_0x1fcaee(0x33f)]);}),_0x14b05c['on'](_0x200e7c[_0x2050eb(0x316)],_0x3d5ca2=>{const _0x5e1767=_0x2050eb,_0x1a66a4=_0x5e1767(0xfe)[_0x5e1767(0x2e5)]('|');let _0x36680b=0x0;while(!![]){switch(_0x1a66a4[_0x36680b++]){case'0':assert[_0x5e1767(0x226)](_0x5c4805[_0x228b1a['pcrGx'](_0x5c4805[_0x5e1767(0x33f)],0x1)],0x1);continue;case'1':assert[_0x5e1767(0x226)](_0x5c4805[0x0],highWaterMark-0x400);continue;case'2':_0x390fd2[_0x5e1767(0x639)](_0x4059f1);continue;case'3':assert[_0x5e1767(0x226)](_0x5c4805[_0x5e1767(0x33f)],0x157);continue;case'4':assert[_0x5e1767(0x226)](_0x3d5ca2,0x3ee);continue;}break;}});});}else for(const _0x27e495 of[null,'',_0x1f1a65(0x63f),['a','a']]){_0x125769['throws'](()=>new _0x277044('ws://localhost',_0x27e495),/^SyntaxError: An invalid or duplicated subprotocol was specified$/);}}),it(_0x32f9c9[_0x59526e(0x1fe)],_0x38717c=>{const _0x29bb09=_0x59526e,_0x537ef1={'wDntK':_0x200e7c[_0x29bb09(0x176)],'MTplN':_0x200e7c[_0x29bb09(0x11c)],'wrqVW':_0x200e7c[_0x29bb09(0x509)],'nsNmJ':_0x200e7c['DvoeA']},_0x1f39e4=new WebSocket['Server']({'perMessageDeflate':!![],'port':0x0},()=>{const _0xc04b94=_0x29bb09,_0x420375={'vGgyZ':_0x200e7c[_0xc04b94(0x509)]},_0x2df5f4=new WebSocket(_0xc04b94(0x377)+_0x1f39e4[_0xc04b94(0x37f)]()[_0xc04b94(0x59c)],{'perMessageDeflate':{'threshold':0x0}});_0x2df5f4['on'](_0x200e7c['dXLRN'],()=>{const _0x12eea7=_0xc04b94,_0x355936=_0x12eea7(0x569)[_0x12eea7(0x2e5)]('|');let _0x342c8b=0x0;while(!![]){switch(_0x355936[_0x342c8b++]){case'0':_0x2df5f4['send'](_0x12eea7(0x5fd));continue;case'1':_0x2df5f4[_0x12eea7(0x2bb)](_0x420375[_0x12eea7(0x367)]);continue;case'2':_0x2df5f4['send'](_0x12eea7(0x28f));continue;case'3':_0x2df5f4[_0x12eea7(0x3b2)]['on'](_0x12eea7(0x32b),()=>{const _0x3cf3c8=_0x12eea7;assert['ok'](_0x2df5f4[_0x3cf3c8(0x538)][_0x3cf3c8(0x2e4)]);});continue;case'4':_0x2df5f4['send'](_0x12eea7(0x711));continue;}break;}});});_0x1f39e4['on'](_0x200e7c[_0x29bb09(0x1d4)],_0x14006b=>{const _0x5b1558=_0x29bb09,_0x599b44={'NzFVw':_0x537ef1[_0x5b1558(0x54a)],'ssGqo':_0x537ef1[_0x5b1558(0x1c9)],'uErgd':'close','PTLHU':_0x5b1558(0x62e),'uaPMd':_0x537ef1['wrqVW'],'lUDkl':_0x537ef1[_0x5b1558(0x1f6)]},_0x298ae5=[];_0x14006b['on'](_0x5b1558(0x1df),(_0x1b81d6,_0x56ffba)=>{const _0x4b8a0f=_0x5b1558;_0x4b8a0f(0x5ad)!==_0x599b44[_0x4b8a0f(0x6fd)]?(assert['ok'](!_0x56ffba),_0x298ae5['push'](_0x1b81d6[_0x4b8a0f(0x128)]())):(_0x5ea2df['strictEqual'](_0xd68f6a[_0x4b8a0f(0x54b)],0x1),_0x288e9f[_0x4b8a0f(0x226)](_0x33afea,_0x4b8a0f(0x377)+_0x467127+'/'),_0x228cb5['strictEqual'](_0xafc7f2['getHeader']('Authorization'),_0x55e554[_0x4b8a0f(0x28e)]),_0x2bf688[_0x4b8a0f(0x226)](_0x4e4dea[_0x4b8a0f(0x256)](_0x4b8a0f(0x1e2)),_0x1baade['cookie']),_0x1ae4ca[_0x4b8a0f(0x613)](_0x599b44[_0x4b8a0f(0xe7)]),_0x5e1f90[_0x4b8a0f(0x613)](_0x599b44[_0x4b8a0f(0x691)]),_0x5b9a9d['on'](_0x599b44[_0x4b8a0f(0x145)],_0x26a25b=>{const _0x591ede=_0x4b8a0f;_0x4e9ca8[_0x591ede(0x226)](_0x26a25b,0x3ed),_0xe4badb[_0x591ede(0x639)](_0x1b0f13);}));}),_0x14006b['on'](_0x5b1558(0x639),(_0x5592ac,_0x32c7cb)=>{const _0x4ffded=_0x5b1558;assert['deepStrictEqual'](_0x298ae5,[_0x4ffded(0x5fd),_0x4ffded(0x711),_0x599b44[_0x4ffded(0x689)],_0x599b44['lUDkl']]),assert[_0x4ffded(0x226)](_0x5592ac,0x3e8),assert[_0x4ffded(0x657)](_0x32c7cb,EMPTY_BUFFER),_0x1f39e4[_0x4ffded(0x639)](_0x38717c);}),_0x14006b[_0x5b1558(0x639)](0x3e8);});}),_0x32f9c9['WXFmB'](describe,_0x59526e(0x263),()=>{const _0x4ae049=_0x59526e,_0x11919f={'GYwVd':_0x200e7c[_0x4ae049(0x64b)],'DirjP':_0x4ae049(0x639)};it(_0x4ae049(0x54d),_0x8f3afa=>{const _0x54bc25=_0x4ae049,_0x2faf62={'NNxLe':function(_0x1531e1,_0x4e5e3e){return _0x200e7c['NYCEk'](_0x1531e1,_0x4e5e3e);},'plfuR':_0x54bc25(0x2e7)},_0x2c3c98=new WebSocket[(_0x54bc25(0x287))]({'perMessageDeflate':!![],'port':0x0},()=>{const _0x4786c7=_0x54bc25,_0x3044fb={'pEqKu':function(_0x3941ed,_0x1fa922){return _0x3941ed+_0x1fa922;},'wCcOn':_0x11919f[_0x4786c7(0x52b)]};if('pAQof'!==_0x4786c7(0x196))_0xec02cb['on']('error',_0x56f8a0),_0x91dadd[_0x4786c7(0x5e1)](_0x3044fb[_0x4786c7(0x271)](_0x4786c7(0x23a),'Location:\x20ws://localhost:'+_0x1309d1+'/\x0d\x0a\x0d\x0a'));else{const _0x29e946=[],_0x1e30fb=new WebSocket('ws://localhost:'+_0x2c3c98[_0x4786c7(0x37f)]()[_0x4786c7(0x59c)]);_0x1e30fb['on']('message',(_0x1ecf53,_0x20ea98)=>{const _0x3da6b4=_0x4786c7;assert['ok'](!_0x20ea98),new AsyncFunction(_0x3044fb[_0x3da6b4(0x42c)])();if(_0x29e946[_0x3da6b4(0x4e8)](_0x1ecf53[_0x3da6b4(0x128)]())>0x1)return;setImmediate(()=>{process['nextTick'](()=>{const _0x24abde=_0xffb2;assert[_0x24abde(0x226)](_0x1e30fb[_0x24abde(0x3b2)][_0x24abde(0x444)],0x5),_0x1e30fb['close'](0x3e8);});});}),_0x1e30fb['on'](_0x11919f[_0x4786c7(0x532)],(_0x5ab3c5,_0x256b2d)=>{const _0x326ee1=_0x4786c7;assert[_0x326ee1(0x657)](_0x29e946,['','','','']),assert['strictEqual'](_0x5ab3c5,0x3e8),assert[_0x326ee1(0x657)](_0x256b2d,EMPTY_BUFFER),_0x2c3c98[_0x326ee1(0x639)](_0x8f3afa);});}});_0x2c3c98['on'](_0x200e7c['TZkRY'],_0xbc5080=>{const _0x39314a=_0x54bc25,_0x53b651={'JXEdD':function(_0x3943c8,_0x20e3c6){const _0x5377b0=_0xffb2;return _0x2faf62[_0x5377b0(0x5b3)](_0x3943c8,_0x20e3c6);},'lRTzK':_0x39314a(0x6ea),'NsGNd':_0x39314a(0x639)};if(_0x2faf62['plfuR']!==_0x39314a(0x2c4)){const _0x329757=Buffer[_0x39314a(0x667)]('c10100c10100c10100c10100','hex');_0xbc5080[_0x39314a(0x70f)][_0x39314a(0x3b4)](_0x329757);}else _0xca296e['ok'](_0x53b651[_0x39314a(0x530)](_0xcf4218,_0x20519f)),_0x5e185a[_0x39314a(0x226)](_0x5b042e['message'],_0x53b651[_0x39314a(0x12b)]),_0x25e6b6[_0x39314a(0x226)](_0x293e62[_0x39314a(0x54b)],0x0),_0x36488a['on'](_0x53b651['NsGNd'],()=>_0x382e0c());});});}),_0x32f9c9[_0x59526e(0x2d6)](describe,_0x59526e(0x1fc),()=>{const _0x5b2b72=_0x59526e,_0x3ea085={'zJrwe':function(_0x50f42b,_0x4cdcb9){return _0x50f42b===_0x4cdcb9;},'abCrC':_0x5b2b72(0x3a7),'BUKmo':_0x5b2b72(0x5bb),'dKspq':_0x5b2b72(0x643),'tzAYs':'JYBPp','OeWdd':_0x200e7c[_0x5b2b72(0xfc)]};it('can\x20send\x20text\x20data',_0x464df2=>{const _0x45376b=_0x5b2b72;if(_0x45376b(0x267)!==_0x200e7c['LQIKG'])_0x4e05ec['ok'](_0x5bc83e instanceof _0x16073b),_0x190fda[_0x45376b(0x226)](_0x18d14b[_0x45376b(0x1df)],_0x45376b(0x585)),_0x36052d();else{const _0x3bb2ab=new WebSocket[(_0x45376b(0x287))]({'perMessageDeflate':{'threshold':0x0},'port':0x0},()=>{const _0x1d135b=_0x45376b;if(_0x3ea085[_0x1d135b(0x64c)](_0x1d135b(0x5aa),_0x3ea085[_0x1d135b(0x1a2)]))_0x3948da[_0x1d135b(0x657)](_0x417eae,['','','','']),_0x2714e6[_0x1d135b(0x226)](_0x6405c0,0x3ee),_0x1eda3e['strictEqual'](_0x5316b2,_0x31ae69),_0x59077b['close'](_0x4cda0a);else{const _0x3b568d=new WebSocket(_0x1d135b(0x377)+_0x3bb2ab[_0x1d135b(0x37f)]()[_0x1d135b(0x59c)],{'perMessageDeflate':{'threshold':0x0}});_0x3b568d['on'](_0x3ea085[_0x1d135b(0x11d)],()=>{const _0x4cf791=_0x1d135b;_0x3b568d['send']('hi',{'compress':!![]}),_0x3b568d[_0x4cf791(0x639)]();}),_0x3b568d['on']('message',(_0x36f098,_0x2b62d4)=>{const _0x2a1ebb=_0x1d135b;assert[_0x2a1ebb(0x657)](_0x36f098,Buffer[_0x2a1ebb(0x667)]('hi')),assert['ok'](!_0x2b62d4),_0x3bb2ab[_0x2a1ebb(0x639)](_0x464df2);});}});_0x3bb2ab['on'](_0x45376b(0x35b),_0x5af397=>{const _0x539881=_0x45376b,_0x392f51={'mLsuN':_0x3ea085[_0x539881(0x1fd)],'ZgJnC':_0x539881(0x639),'fxbJs':function(_0x58a3c5,_0x3afe79){return _0x58a3c5!==_0x3afe79;},'lQViA':_0x3ea085[_0x539881(0x4d1)]};_0x5af397['on'](_0x3ea085['OeWdd'],(_0x800800,_0x5ba108)=>{const _0x56e94c=_0x539881;_0x392f51[_0x56e94c(0x406)](_0x392f51[_0x56e94c(0x334)],_0x56e94c(0x189))?_0x5af397[_0x56e94c(0x2bb)](_0x800800,{'binary':_0x5ba108,'compress':!![]}):(_0x1c367b['ok'](_0x31ae8b instanceof _0x321773),_0x32bb78['strictEqual'](_0x1fcb8e[_0x56e94c(0x1df)],_0x392f51[_0x56e94c(0x656)]),_0x488092['on'](_0x392f51['ZgJnC'],()=>_0x3b650d()));});});}}),it(_0x200e7c[_0x5b2b72(0x137)],_0x443a9b=>{const _0x202d30=_0x5b2b72,_0x587a1a={'BZcoB':_0x202d30(0x5bb),'wVBcw':_0x200e7c['INNmg']},_0x50423d=new Float32Array(0x5);for(let _0x119574=0x0;_0x200e7c['Pklgs'](_0x119574,_0x50423d[_0x202d30(0x33f)]);_0x119574++){_0x50423d[_0x119574]=_0x119574/0x2;}const _0x2c197d=new WebSocket[(_0x202d30(0x287))]({'perMessageDeflate':{'threshold':0x0},'port':0x0},()=>{const _0x20677a=_0x202d30,_0x19ff4e={'YSMpv':function(_0x142cce,_0x387d24){return _0x142cce!==_0x387d24;},'pgXit':_0x20677a(0x4c1)},_0x47e9a1=new WebSocket(_0x20677a(0x377)+_0x2c197d[_0x20677a(0x37f)]()['port'],{'perMessageDeflate':{'threshold':0x0}});_0x47e9a1['on'](_0x587a1a[_0x20677a(0x431)],()=>{const _0x27eaac=_0x20677a;if(_0x19ff4e[_0x27eaac(0x4b1)](_0x19ff4e[_0x27eaac(0x15b)],_0x27eaac(0x4c1))){const _0x51001c=new _0x47c36c(_0x27eaac(0x377)+_0x3c9aea[_0x27eaac(0x37f)]()[_0x27eaac(0x59c)]);_0x51001c[_0x27eaac(0x658)](_0x27eaac(0x5bb),()=>{const _0x400052=_0x27eaac;_0x51001c[_0x400052(0x2bb)]('hi'),_0x51001c[_0x400052(0x639)]();}),_0x51001c[_0x27eaac(0x658)]('message',_0x50b205=>{const _0x175f95=_0x27eaac;_0x508a28['ok'](_0x50b205 instanceof _0x597b78),_0x3e0fee[_0x175f95(0x226)](_0x50b205['data'],'hi'),_0x39a724['close'](_0x3bf19a);});}else _0x47e9a1[_0x27eaac(0x2bb)](_0x50423d,{'compress':!![]}),_0x47e9a1[_0x27eaac(0x639)]();}),_0x47e9a1['on'](_0x587a1a[_0x20677a(0x5e5)],(_0x183b99,_0x21afa8)=>{const _0x13f78c=_0x20677a;assert[_0x13f78c(0x657)](_0x183b99,Buffer[_0x13f78c(0x667)](_0x50423d[_0x13f78c(0x376)])),assert['ok'](_0x21afa8),_0x2c197d[_0x13f78c(0x639)](_0x443a9b);});});_0x2c197d['on'](_0x202d30(0x35b),_0x403d21=>{const _0x25781e=_0x202d30;_0x403d21['on'](_0x25781e(0x1df),(_0x5bb21b,_0x3318d0)=>{const _0x2d1ad6=_0x25781e;assert['ok'](_0x3318d0),_0x403d21[_0x2d1ad6(0x2bb)](_0x5bb21b,{'compress':!![]});});});}),it(_0x5b2b72(0x489),_0x561059=>{const _0x2d3c57=_0x5b2b72,_0x34e51d={'ihvGG':function(_0x1bb3bc,_0x3525db){return _0x1bb3bc!==_0x3525db;}},_0x107f78=new Float32Array(0x5);for(let _0x2ffe02=0x0;_0x2ffe02<_0x107f78[_0x2d3c57(0x33f)];_0x2ffe02++){_0x107f78[_0x2ffe02]=_0x2ffe02/0x2;}const _0xb6cbaa=new WebSocket[(_0x2d3c57(0x287))]({'perMessageDeflate':{'threshold':0x0},'port':0x0},()=>{const _0xa7e2a6=_0x2d3c57,_0x4f7cfe=new WebSocket(_0xa7e2a6(0x377)+_0xb6cbaa[_0xa7e2a6(0x37f)]()['port'],{'perMessageDeflate':{'threshold':0x0}});_0x4f7cfe['on']('open',()=>{const _0x1846cd=_0xa7e2a6;_0x4f7cfe[_0x1846cd(0x2bb)](_0x107f78[_0x1846cd(0x376)],{'compress':!![]}),_0x4f7cfe[_0x1846cd(0x639)]();}),_0x4f7cfe['on'](_0x3ea085[_0xa7e2a6(0x6a5)],(_0x49d398,_0x4729de)=>{const _0x141fd8=_0xa7e2a6;assert['deepStrictEqual'](_0x49d398,Buffer[_0x141fd8(0x667)](_0x107f78[_0x141fd8(0x376)])),assert['ok'](_0x4729de),_0xb6cbaa[_0x141fd8(0x639)](_0x561059);});});_0xb6cbaa['on'](_0x2d3c57(0x35b),_0x2b2b2d=>{const _0x10a25d=_0x2d3c57;_0x34e51d[_0x10a25d(0x3ad)](_0x10a25d(0x31c),_0x10a25d(0x31c))?(_0x1e90c3['send']('foo'),_0x685c84[_0x10a25d(0x639)]()):_0x2b2b2d['on'](_0x10a25d(0x1df),(_0x246732,_0x2b6342)=>{assert['ok'](_0x2b6342),_0x2b2b2d['send'](_0x246732,{'compress':!![]});});});}),it(_0x200e7c['NyUgk'],_0x5ea455=>{const _0x277d59=_0x5b2b72,_0x3a84d3={'GSWxC':_0x277d59(0x35b),'JVCeK':function(_0x25751d,_0x264ec){return _0x25751d===_0x264ec;},'CHcyK':'UOlTE','PGYOR':_0x277d59(0x63d)},_0x42f866=new WebSocket[(_0x277d59(0x287))]({'port':0x0},()=>{const _0x372d93=_0x277d59,_0x2f2473=new WebSocket(_0x372d93(0x377)+_0x42f866['address']()['port'],{'perMessageDeflate':![]});_0x2f2473['on'](_0x372d93(0x5bb),()=>{const _0x11e784=_0x372d93;_0x2f2473[_0x11e784(0x2bb)]('hi',{'compress':!![]}),_0x2f2473[_0x11e784(0x639)]();}),_0x2f2473['on'](_0x372d93(0x1df),(_0x4d3d4a,_0x3426e9)=>{const _0x4934cf=_0x372d93;assert['deepStrictEqual'](_0x4d3d4a,Buffer[_0x4934cf(0x667)]('hi')),assert['ok'](!_0x3426e9),_0x42f866[_0x4934cf(0x639)](_0x5ea455);});});_0x42f866['on'](_0x277d59(0x35b),_0x551115=>{const _0x5acd6b=_0x277d59;_0x551115['on'](_0x3ea085[_0x5acd6b(0x6a5)],(_0x35daee,_0x40f863)=>{const _0x4ab16a=_0x5acd6b,_0x167de8={'ZNzyY':_0x3a84d3[_0x4ab16a(0x4cc)]};if(_0x3a84d3[_0x4ab16a(0x69e)](_0x3a84d3[_0x4ab16a(0x392)],_0x3a84d3[_0x4ab16a(0x528)])){const _0x3916b7=_0x3b6423[_0x4ab16a(0x683)]({'cert':_0x17f608['readFileSync'](_0x4ab16a(0x6a8)),'key':_0x5565ea[_0x4ab16a(0x2da)](_0x4ab16a(0x1bf))}),_0x26c5e1=new _0x5796b7[(_0x4ab16a(0x287))]({'server':_0x3916b7});_0x26c5e1['on'](_0x167de8[_0x4ab16a(0x685)],()=>{const _0x1a9dd0=_0x4ab16a;_0x3916b7[_0x1a9dd0(0x639)](_0xf24268);}),_0x3916b7[_0x4ab16a(0x684)](0x0,()=>{const _0x3131f1=_0x4ab16a,_0xae703d=new _0x343d6f(_0x3131f1(0x618)+_0x3916b7[_0x3131f1(0x37f)]()[_0x3131f1(0x59c)],{'rejectUnauthorized':![]});_0xae703d['on']('open',_0xae703d[_0x3131f1(0x639)]);});}else _0x551115[_0x4ab16a(0x2bb)](_0x35daee,{'binary':_0x40f863,'compress':!![]});});});}),it(_0x200e7c['YKDfz'],_0xf89c4d=>{const _0x304a21=_0x5b2b72,_0x26ee19={'TzZlb':function(_0x7d780d,_0x1fad55){return _0x7d780d===_0x1fad55;},'QBXcQ':_0x200e7c['uGlNv'],'LEmtk':'baz','UNLFb':_0x200e7c[_0x304a21(0x4ae)],'pdoAe':_0x200e7c[_0x304a21(0x1a4)],'gOKlq':function(_0x223d6b,_0x1bfdbc){const _0x1ae336=_0x304a21;return _0x200e7c[_0x1ae336(0x454)](_0x223d6b,_0x1bfdbc);},'gEiJA':function(_0x419a60,_0x260d1c){const _0x2936f3=_0x304a21;return _0x200e7c[_0x2936f3(0x5b9)](_0x419a60,_0x260d1c);},'fNjbh':_0x304a21(0x5bb),'mauMi':_0x200e7c['clrBT']},_0x253138=[],_0x3d122b=new WebSocket[(_0x304a21(0x287))]({'perMessageDeflate':!![],'port':0x0},()=>{const _0x20c67e=_0x304a21,_0x153e6a={'wKuSO':function(_0x38a942,_0x128d35){const _0x2dc89e=_0xffb2;return _0x26ee19[_0x2dc89e(0x23d)](_0x38a942,_0x128d35);},'RXPNB':function(_0xb51aff,_0x2a86d9){const _0x1ac234=_0xffb2;return _0x26ee19[_0x1ac234(0x177)](_0xb51aff,_0x2a86d9);}},_0x5aa966=new WebSocket(_0x20c67e(0x377)+_0x3d122b[_0x20c67e(0x37f)]()[_0x20c67e(0x59c)],{'perMessageDeflate':{'threshold':0x0}});_0x5aa966['on'](_0x26ee19['fNjbh'],()=>{const _0x485b2f=_0x20c67e;if(_0x26ee19[_0x485b2f(0x185)]('HPhJc',_0x485b2f(0x1a5)))_0x2709f1[_0x485b2f(0x5e1)](_0x485b2f(0x34e)+_0x4e79f7+_0x485b2f(0xee));else{const _0x40b1c2=_0x26ee19[_0x485b2f(0x338)][_0x485b2f(0x2e5)]('|');let _0x2d5bf1=0x0;while(!![]){switch(_0x40b1c2[_0x2d5bf1++]){case'0':_0x5aa966[_0x485b2f(0x2bb)](_0x26ee19[_0x485b2f(0x167)]);continue;case'1':_0x5aa966[_0x485b2f(0x2bb)](_0x26ee19[_0x485b2f(0x637)],_0x4f9aa7=>{const _0x4242e3=_0x485b2f;_0x253138[_0x4242e3(0x4e8)](0x2),assert[_0x4242e3(0x226)](_0x5aa966[_0x4242e3(0x3cf)],WebSocket['CLOSING']),assert['ok'](_0x153e6a['RXPNB'](_0x4f9aa7,Error)),assert[_0x4242e3(0x226)](_0x4f9aa7[_0x4242e3(0x1df)],_0x4242e3(0x512));});continue;case'2':_0x5aa966['close']();continue;case'3':_0x5aa966['send'](_0x26ee19[_0x485b2f(0x448)],_0x494a3c=>{const _0x1223b6=_0x485b2f;_0x253138[_0x1223b6(0x4e8)](0x1),assert[_0x1223b6(0x226)](_0x5aa966['readyState'],WebSocket[_0x1223b6(0x686)]),assert['ok'](_0x153e6a['wKuSO'](_0x494a3c,Error)),assert['strictEqual'](_0x494a3c[_0x1223b6(0x1df)],'The\x20socket\x20was\x20closed\x20while\x20data\x20was\x20being\x20compressed');});continue;case'4':_0x5aa966['send']('foo');continue;}break;}}});});_0x3d122b['on']('connection',_0xa26f5e=>{const _0x49d15f=_0x304a21;_0xa26f5e['on'](_0x26ee19[_0x49d15f(0x552)],()=>{const _0x320e86=_0x49d15f;assert['deepStrictEqual'](_0x253138,[0x1,0x2]),_0x3d122b[_0x320e86(0x639)](_0xf89c4d);}),_0xa26f5e[_0x49d15f(0x70f)][_0x49d15f(0x5e1)]();});});}),_0x32f9c9[_0x59526e(0x42d)](describe,_0x32f9c9[_0x59526e(0x625)],()=>{const _0x3da4d9=_0x59526e,_0x10a2d4={'vEpKE':_0x3da4d9(0x1df),'JYVSe':'close'};_0x200e7c[_0x3da4d9(0x102)](it,'can\x20be\x20used\x20while\x20data\x20is\x20being\x20compressed',_0x532e43=>{const _0x3dad09=_0x3da4d9,_0x51f431={'GWjnJ':_0x200e7c[_0x3dad09(0x316)],'iXqZu':_0x200e7c[_0x3dad09(0x21f)]},_0x1786b9=new WebSocket[(_0x3dad09(0x287))]({'perMessageDeflate':{'threshold':0x0},'port':0x0},()=>{const _0x1dc087=_0x3dad09,_0x1ade18={'nBUPd':function(_0x217627,_0x5d3dd8){return _0x217627 instanceof _0x5d3dd8;},'gaPjX':_0x51f431[_0x1dc087(0x34a)]},_0x12155a=new WebSocket(_0x1dc087(0x377)+_0x1786b9[_0x1dc087(0x37f)]()[_0x1dc087(0x59c)],{'perMessageDeflate':{'threshold':0x0}});_0x12155a['on'](_0x51f431[_0x1dc087(0x1b7)],()=>{_0x12155a['send']('hi',_0x3700c4=>{const _0xae0ae=_0xffb2;assert[_0xae0ae(0x226)](_0x12155a[_0xae0ae(0x3cf)],WebSocket[_0xae0ae(0x686)]),assert['ok'](_0x1ade18[_0xae0ae(0x554)](_0x3700c4,Error)),assert['strictEqual'](_0x3700c4[_0xae0ae(0x1df)],_0xae0ae(0x512)),_0x12155a['on'](_0x1ade18['gaPjX'],()=>{const _0x2e8d69=_0xae0ae;_0x1786b9[_0x2e8d69(0x639)](_0x532e43);});}),_0x12155a['terminate']();});});}),_0x200e7c[_0x3da4d9(0x517)](it,_0x200e7c[_0x3da4d9(0x1e5)],_0x12172b=>{const _0x2c405e=_0x3da4d9,_0x100c50={'PFpvr':function(_0x53556d,_0x11b658,_0xbe1836){return _0x53556d(_0x11b658,_0xbe1836);},'zOPyz':_0x2c405e(0x524),'NJHMX':_0x200e7c['Avwtz'],'Ifktz':_0x2c405e(0x3b8)},_0xede339=new WebSocket[(_0x2c405e(0x287))]({'perMessageDeflate':!![],'port':0x0},()=>{const _0x84a896=_0x2c405e,_0xd6e006=new WebSocket(_0x84a896(0x377)+_0xede339[_0x84a896(0x37f)]()['port']),_0x46f3ea=[];_0xd6e006['on'](_0x10a2d4[_0x84a896(0x5b1)],(_0x2d25a5,_0xa0f166)=>{const _0x2f37fc=_0x84a896;assert['ok'](!_0xa0f166),_0x100c50[_0x2f37fc(0x5cf)](setTimeout,_0x100c50['zOPyz'],0x3e8);if(_0x46f3ea[_0x2f37fc(0x4e8)](_0x2d25a5[_0x2f37fc(0x128)]())>0x1)return;setImmediate(()=>{const _0x2bd7a1=_0x2f37fc;process[_0x2bd7a1(0x694)](()=>{assert['strictEqual'](_0xd6e006['_receiver']['_state'],0x5),_0xd6e006['terminate']();});});}),_0xd6e006['on'](_0x10a2d4['JYVSe'],(_0xa484ae,_0x7637ec)=>{const _0x292db1=_0x84a896;assert[_0x292db1(0x657)](_0x46f3ea,['','','','']),assert[_0x292db1(0x226)](_0xa484ae,0x3ee),assert[_0x292db1(0x226)](_0x7637ec,EMPTY_BUFFER),_0xede339[_0x292db1(0x639)](_0x12172b);});});_0xede339['on'](_0x200e7c[_0x2c405e(0x1d4)],_0x5f5b1f=>{const _0x51ad45=_0x2c405e,_0x33822a=Buffer[_0x51ad45(0x667)](_0x100c50[_0x51ad45(0x4a6)],_0x100c50[_0x51ad45(0x3e9)]);_0x5f5b1f[_0x51ad45(0x70f)]['write'](_0x33822a);});});})):(_0x492ab4[_0x59526e(0x226)](_0x4f70aa[_0x59526e(0x5c3)]['authorization'],_0x2db80b),_0x2042b4['strictEqual'](_0x40a137[_0x59526e(0x5c3)][_0x59526e(0x1af)],_0x1aa399),_0x74e95c['strictEqual'](_0x2044f8[_0x59526e(0x5c3)][_0x59526e(0x11a)],_0x200e7c[_0x59526e(0xdf)]),_0x458fbe[_0x59526e(0x639)]());}),describe(_0x32f9c9[_0x31aca9(0x40c)],()=>{const _0x4952b=_0x31aca9,_0x56f1f5={'oVRrK':function(_0x3e89a4,_0x5b68f9){return _0x3e89a4===_0x5b68f9;},'EZIgl':_0x4952b(0x20c),'NsLBS':'error','kYYMA':function(_0x1c285f,_0x3ec959){const _0x5b1915=_0x4952b;return _0x32f9c9[_0x5b1915(0x1b2)](_0x1c285f,_0x3ec959);},'AvDHO':_0x32f9c9[_0x4952b(0x1c7)],'sDmWb':_0x4952b(0x35b),'trROG':_0x32f9c9['XtYkw']};_0x32f9c9[_0x4952b(0x6b8)](_0x4952b(0x136),_0x32f9c9[_0x4952b(0x51b)])?(it(_0x32f9c9[_0x4952b(0x134)],_0x12f6b4=>{const _0x3ceab6=_0x4952b,_0x4ce87d={'uaOTT':_0x32f9c9[_0x3ceab6(0x285)],'UWJmg':'Invalid\x20WebSocket\x20frame:\x20invalid\x20opcode\x205','IohHS':_0x3ceab6(0x69f),'gRbuo':_0x3ceab6(0x5bb),'bNoTL':function(_0x9f26b,_0x4e9997){const _0x2b0fa6=_0x3ceab6;return _0x32f9c9[_0x2b0fa6(0x168)](_0x9f26b,_0x4e9997);},'xsNCW':_0x3ceab6(0x5e3),'fPMSu':function(_0x310006,_0x693796){return _0x310006!==_0x693796;},'ZAAIp':'XBcCM','omBEh':function(_0x169dae,_0x3b6958){const _0x53ce60=_0x3ceab6;return _0x32f9c9[_0x53ce60(0x1d3)](_0x169dae,_0x3b6958);},'FFKRc':_0x32f9c9[_0x3ceab6(0x245)]};let _0x26d740=![],_0xa93f1=![];const _0x57e518=new WebSocket[(_0x3ceab6(0x287))]({'port':0x0},()=>{const _0x7d1fde=_0x3ceab6,_0x2f9653={'qSSCr':function(_0x9c2e7d,_0xb21b06){return _0x9c2e7d!==_0xb21b06;},'bWAtc':_0x4ce87d[_0x7d1fde(0x438)],'NMZng':'Authorization','UCIBd':_0x7d1fde(0x472),'yJtDt':_0x4ce87d['UWJmg']};if(_0x4ce87d[_0x7d1fde(0x2ad)]!==_0x4ce87d[_0x7d1fde(0x2ad)])_0xa65c44[_0x7d1fde(0x226)](_0x319ff5['headers'][_0x7d1fde(0x28e)],_0x216c4e),_0x36e728[_0x7d1fde(0x226)](_0x4fa4cc[_0x7d1fde(0x5c3)][_0x7d1fde(0x1af)],_0x415316),_0x4c0f5b[_0x7d1fde(0x226)](_0x4eaaa1['headers']['host'],'localhost:'+_0x8952b0['address']()[_0x7d1fde(0x59c)]),_0x266212[_0x7d1fde(0x639)]();else{const _0x397242=new WebSocket('ws://localhost:'+_0x57e518[_0x7d1fde(0x37f)]()[_0x7d1fde(0x59c)]);_0x397242['on'](_0x7d1fde(0x3ea),_0x3f7d49=>{const _0x976816=_0x7d1fde,_0x365942={'ZYdIM':_0x2f9653[_0x976816(0x630)],'tsCjh':_0x2f9653[_0x976816(0x688)],'ufxKP':_0x976816(0x1e2),'bjQtq':'redirect'};assert['ok'](_0x3f7d49 instanceof RangeError),assert[_0x976816(0x226)](_0x3f7d49[_0x976816(0x48d)],_0x2f9653['UCIBd']),assert[_0x976816(0x226)](_0x3f7d49[_0x976816(0x1df)],_0x2f9653[_0x976816(0x536)]),_0x397242['on'](_0x2f9653[_0x976816(0x630)],(_0x72df11,_0x2422bd)=>{const _0x4e344d=_0x976816;if(_0x2f9653['qSSCr'](_0x4e344d(0x162),_0x4e344d(0x162))){const _0x2c0c0c={'mDaVx':_0x4e344d(0x205),'AYpKq':_0x365942[_0x4e344d(0x607)],'HfDSC':_0x365942[_0x4e344d(0x6b9)]},_0xe27347=_0x208c58[_0x4e344d(0x37f)]()[_0x4e344d(0x59c)];_0x5bde77[_0x4e344d(0x1c3)]('upgrade',(_0x130fc5,_0x1fca39)=>{const _0x5f587b=_0x4e344d;_0x1fca39[_0x5f587b(0x5e1)](_0x5f587b(0x23a)+('Location:\x20ws://localhost:'+_0xe27347+_0x5f587b(0x1c5)));});const _0x43c016=new _0x1b3f87(_0x4e344d(0x377)+_0x2c1793[_0x4e344d(0x37f)]()[_0x4e344d(0x59c)],{'followRedirects':!![],'headers':_0x3efe18}),_0x165940=_0x43c016[_0x4e344d(0x525)];_0x5c36c7['strictEqual'](_0x165940[_0x4e344d(0x256)](_0x4e344d(0x504)),_0x52feb9[_0x4e344d(0x28e)]),_0x5652d6[_0x4e344d(0x226)](_0x165940[_0x4e344d(0x256)](_0x365942[_0x4e344d(0x570)]),_0x39dd2d[_0x4e344d(0x1af)]),_0x214b56['strictEqual'](_0x165940[_0x4e344d(0x256)]('Host'),_0x409e43[_0x4e344d(0x11a)]),_0x43c016['on'](_0x365942[_0x4e344d(0x4fc)],(_0x52ab66,_0x145e40)=>{const _0x4796be=_0x4e344d,_0x1a8f2d=_0x2c0c0c[_0x4796be(0x515)][_0x4796be(0x2e5)]('|');let _0x4bba59=0x0;while(!![]){switch(_0x1a8f2d[_0x4bba59++]){case'0':_0x43c016['on'](_0x2c0c0c['AYpKq'],_0x4d12c6=>{const _0x35fe4b=_0x4796be;_0xb10350[_0x35fe4b(0x226)](_0x4d12c6,0x3ed),_0x42fbfa[_0x35fe4b(0x639)](_0x293484);});continue;case'1':_0x35079c['notStrictEqual'](_0x165940,_0x145e40);continue;case'2':_0x34ca6c[_0x4796be(0x226)](_0x145e40[_0x4796be(0x256)](_0x2c0c0c[_0x4796be(0x5b5)]),_0x2aa719[_0x4796be(0x28e)]);continue;case'3':_0xc1cdbf['strictEqual'](_0x52ab66,_0x4796be(0x377)+_0xe27347+'/');continue;case'4':_0x34f67a['strictEqual'](_0x145e40[_0x4796be(0x256)](_0x4796be(0x1e2)),_0x4196ad[_0x4796be(0x1af)]);continue;case'5':_0x1efb6d['strictEqual'](_0x145e40[_0x4796be(0x256)](_0x4796be(0x6c7)),_0x38cda7['host']);continue;case'6':_0x50e8b5[_0x4796be(0x226)](_0x43c016[_0x4796be(0x54b)],0x1);continue;}break;}});}else{assert[_0x4e344d(0x226)](_0x72df11,0x3ee),assert['strictEqual'](_0x2422bd,EMPTY_BUFFER),_0x26d740=!![];if(_0xa93f1)_0x57e518[_0x4e344d(0x639)](_0x12f6b4);}});}),_0x397242['on'](_0x4ce87d[_0x7d1fde(0x266)],()=>{const _0xf75e57=_0x7d1fde;if(_0x2f9653[_0xf75e57(0x424)]('AtcUk',_0xf75e57(0x19a))){const _0x515169=Buffer[_0xf75e57(0x667)]([0x85,0x0]);_0x57e518['clients'][_0xf75e57(0x46e)]()[_0xf75e57(0x6a7)]()['value'][_0xf75e57(0x70f)][_0xf75e57(0x3b4)](_0x515169),_0x397242['_socket']['write'](_0x515169);}else _0x29a969[_0xf75e57(0x4be)](()=>{const _0x19240d=_0xf75e57;_0xa8cc15['pong'](),_0x1a26c1[_0x19240d(0x639)]();});});}});_0x57e518['on'](_0x3ceab6(0x35b),_0x5ad16d=>{const _0x1f3074=_0x3ceab6;_0x4ce87d[_0x1f3074(0x55c)](_0x1f3074(0x47d),'SyYZL')?_0x5ad16d['on'](_0x1f3074(0x3ea),_0x24f8e7=>{const _0x54f0e4=_0x1f3074,_0x23a3d8={'vJNwC':function(_0x886acb,_0x41d568){const _0x3ec5e3=_0xffb2;return _0x4ce87d[_0x3ec5e3(0x3f5)](_0x886acb,_0x41d568);},'cNHNC':_0x4ce87d[_0x54f0e4(0x57d)]};_0x4ce87d[_0x54f0e4(0x55c)](_0x4ce87d[_0x54f0e4(0x10b)],_0x54f0e4(0x4d0))?(_0x1df894['ok'](_0x23a3d8['vJNwC'](_0x57b6c2,_0x44188c)),_0x16ba0c['strictEqual'](_0x5e5f0c[_0x54f0e4(0x1df)],_0x23a3d8['cNHNC']),_0x40cd50['on'](_0x54f0e4(0x639),()=>_0x782c9b[_0x54f0e4(0x639)](_0x2c5602))):(assert['ok'](_0x4ce87d[_0x54f0e4(0x2be)](_0x24f8e7,RangeError)),assert[_0x54f0e4(0x226)](_0x24f8e7['code'],_0x4ce87d[_0x54f0e4(0x179)]),assert[_0x54f0e4(0x226)](_0x24f8e7[_0x54f0e4(0x1df)],_0x4ce87d[_0x54f0e4(0x18b)]),_0x5ad16d['on'](_0x4ce87d[_0x54f0e4(0x438)],(_0x4eb65d,_0x2ff52f)=>{const _0x222e7d=_0x54f0e4;assert[_0x222e7d(0x226)](_0x4eb65d,0x3ee),assert[_0x222e7d(0x226)](_0x2ff52f,EMPTY_BUFFER),_0xa93f1=!![];if(_0x26d740)_0x57e518['close'](_0x12f6b4);}));}):(_0x66a235[_0x1f3074(0x226)](_0x5a7da2[_0x1f3074(0xcf)],_0x1f3074(0x377)+_0x3a3d48+_0x1f3074(0x4b8)),_0x5d1d66[_0x1f3074(0x226)](_0x18019a[_0x1f3074(0x54b)],0x1),_0x1358f8['on'](_0x1f3074(0x639),()=>_0x634eb1()),_0x22ce35[_0x1f3074(0x639)]());});}),it(_0x32f9c9[_0x4952b(0x669)],_0x34b97=>{const _0x16850a=_0x4952b,_0x5ab8e3={'vonAV':_0x32f9c9[_0x16850a(0x6d5)],'YgtIQ':_0x16850a(0x1df),'kMbzI':_0x32f9c9[_0x16850a(0x653)],'jJmGS':_0x16850a(0x639),'SIWcg':function(_0x5d8946,_0x307bd4){const _0xbe9be2=_0x16850a;return _0x32f9c9[_0xbe9be2(0x3b1)](_0x5d8946,_0x307bd4);}};if(_0x32f9c9[_0x16850a(0x10f)]!==_0x32f9c9[_0x16850a(0x10f)]){const _0x747819=new _0x22667b(_0x5ab8e3[_0x16850a(0x229)],{'agent':new _0x247337()}),_0x7abdb3={'handleEvent'(){}};_0x747819['addEventListener'](_0x5ab8e3['YgtIQ'],_0x7abdb3),_0x747819[_0x16850a(0x658)](_0x5ab8e3['kMbzI'],_0x5da7ff),_0x1bd5bc[_0x16850a(0x226)](_0x747819[_0x16850a(0x6f2)](_0x16850a(0x1df))[0x0][_0x22c389],_0x7abdb3),_0x36f213[_0x16850a(0x226)](_0x747819[_0x16850a(0x6f2)](_0x5ab8e3['kMbzI'])[0x0][_0xef52ec],_0x29fa8b),_0x747819[_0x16850a(0x290)](_0x5ab8e3[_0x16850a(0x641)],()=>{}),_0x4006ac['strictEqual'](_0x747819[_0x16850a(0x6f2)](_0x5ab8e3[_0x16850a(0x641)])[0x0][_0x478ec7],_0x7abdb3),_0x747819[_0x16850a(0x290)](_0x5ab8e3[_0x16850a(0x641)],_0x7abdb3),_0x747819[_0x16850a(0x290)](_0x16850a(0x5bb),_0x209d1e),_0x17c4fe['strictEqual'](_0x747819[_0x16850a(0xec)](_0x16850a(0x1df)),0x0),_0x181ffd[_0x16850a(0x226)](_0x747819[_0x16850a(0xec)](_0x5ab8e3['kMbzI']),0x0),_0x747819[_0x16850a(0x658)](_0x5ab8e3['YgtIQ'],_0x5d4b1f,{'once':!![]}),_0x747819[_0x16850a(0x658)](_0x5ab8e3[_0x16850a(0x5d0)],_0x1a1468,{'once':!![]}),_0x5d6d6f[_0x16850a(0x226)](_0x747819['listeners'](_0x5ab8e3[_0x16850a(0x641)])[0x0][_0x3fd0de],_0x5d1b9b),_0x5c7c35[_0x16850a(0x226)](_0x747819[_0x16850a(0x6f2)](_0x5ab8e3['kMbzI'])[0x0][_0x3e0a44],_0x426e48),_0x747819[_0x16850a(0x290)](_0x5ab8e3[_0x16850a(0x641)],()=>{}),_0x4e6f8d[_0x16850a(0x226)](_0x747819[_0x16850a(0x6f2)](_0x5ab8e3[_0x16850a(0x641)])[0x0][_0x29883b],_0x37aacf),_0x747819['removeEventListener'](_0x5ab8e3[_0x16850a(0x641)],_0x22cd8e),_0x747819[_0x16850a(0x290)](_0x16850a(0x5bb),_0xe97319),_0x18763b['strictEqual'](_0x747819['listenerCount'](_0x5ab8e3[_0x16850a(0x641)]),0x0),_0x3ba295['strictEqual'](_0x747819[_0x16850a(0xec)](_0x5ab8e3['kMbzI']),0x0),_0x747819['on'](_0x5ab8e3['YgtIQ'],_0x31cf42),_0x4f63f5[_0x16850a(0x657)](_0x747819[_0x16850a(0x6f2)](_0x5ab8e3[_0x16850a(0x641)]),[_0x8b6aca]),_0x747819[_0x16850a(0x290)](_0x5ab8e3[_0x16850a(0x641)],_0xd04d27),_0x586d89[_0x16850a(0x657)](_0x747819['listeners']('message'),[_0x2daef5]),_0x747819[_0x16850a(0x604)]=_0x4ae099,_0x5cc4f9[_0x16850a(0x226)](_0x747819[_0x16850a(0x6f2)](_0x16850a(0x639))[0x0][_0x3c3fd2],_0x3cbc26),_0x747819[_0x16850a(0x290)](_0x5ab8e3[_0x16850a(0x106)],_0x2023d1),_0x165ac7[_0x16850a(0x226)](_0x747819[_0x16850a(0x6f2)](_0x5ab8e3[_0x16850a(0x106)])[0x0][_0x3a4bcc],_0x28fab3);}else{let _0x2df002=![],_0x3c5f23=![];const _0x58b30f=new WebSocket[(_0x16850a(0x287))]({'port':0x0},()=>{const _0x5d1dae=_0x16850a,_0x200c76={'gHkcZ':_0x5d1dae(0x36d)};if(_0x56f1f5['oVRrK'](_0x56f1f5[_0x5d1dae(0x4f5)],_0x56f1f5[_0x5d1dae(0x4f5)])){const _0x4871e7=new WebSocket(_0x5d1dae(0x377)+_0x58b30f[_0x5d1dae(0x37f)]()['port']);_0x4871e7['on'](_0x56f1f5[_0x5d1dae(0x2ab)],_0x21dfaf=>{const _0x560579=_0x5d1dae;assert['ok'](_0x21dfaf instanceof RangeError),assert['strictEqual'](_0x21dfaf[_0x560579(0x48d)],'WS_ERR_INVALID_OPCODE'),assert[_0x560579(0x226)](_0x21dfaf[_0x560579(0x1df)],_0x200c76[_0x560579(0x329)]),_0x4871e7['on']('close',(_0x4dc526,_0x15de3f)=>{const _0x4bb020=_0x560579;assert[_0x4bb020(0x226)](_0x4dc526,0x3ee),assert[_0x4bb020(0x226)](_0x15de3f,EMPTY_BUFFER),_0x2df002=!![];if(_0x3c5f23)_0x58b30f[_0x4bb020(0x639)](_0x34b97);});}),_0x4871e7['on']('open',()=>{const _0x28613a=_0x5d1dae,_0x4908c3=Buffer[_0x28613a(0x667)]([0x85,0x0]),_0x5692d9=_0x58b30f[_0x28613a(0x27d)][_0x28613a(0x46e)]()[_0x28613a(0x6a7)]()['value'];_0x5692d9['_socket'][_0x28613a(0x3b4)](_0x4908c3),_0x5692d9[_0x28613a(0x639)](),_0x4871e7['_socket']['write'](_0x4908c3),_0x4871e7[_0x28613a(0x639)]();});}else{const _0x44a700=new _0x487d98(0x6);for(let _0x19b6f1=0x0;_0x19b6f1<_0x44a700[_0x5d1dae(0x33f)];++_0x19b6f1){_0x44a700[_0x19b6f1]=_0x5ab8e3['SIWcg'](_0x19b6f1,0x2);}const _0x3b44f6=_0x44a700[_0x5d1dae(0x5fa)](0x2,0x5),_0x4bfec2=_0x4a3bfb['from'](_0x3b44f6[_0x5d1dae(0x376)],_0x3b44f6[_0x5d1dae(0x26a)],_0x3b44f6[_0x5d1dae(0x50c)]),_0x454ab8=new _0x8db17f(_0x5d1dae(0x377)+_0x45ffeb['address']()[_0x5d1dae(0x59c)]);_0x454ab8['on'](_0x5ab8e3[_0x5d1dae(0x5d0)],()=>{const _0x19ca70=_0x5d1dae;_0x454ab8['send'](_0x3b44f6),_0x454ab8[_0x19ca70(0x639)]();}),_0x454ab8['on'](_0x5ab8e3[_0x5d1dae(0x641)],(_0x113fa6,_0x55dbb5)=>{const _0x4a5aab=_0x5d1dae;_0x10156f[_0x4a5aab(0x657)](_0x113fa6,_0x4bfec2),_0x8e9638['ok'](_0x55dbb5),_0x2dfca3[_0x4a5aab(0x639)](_0x28e6de);});}});_0x58b30f['on'](_0x16850a(0x35b),_0x5a317b=>{const _0x1f26c0=_0x16850a,_0x2e26c4={'LwGuE':function(_0x5b63f3,_0x5b8bbe){const _0x1f891e=_0xffb2;return _0x56f1f5[_0x1f891e(0x6eb)](_0x5b63f3,_0x5b8bbe);},'LJphP':_0x56f1f5[_0x1f26c0(0x399)],'NxuDo':_0x1f26c0(0x639)};_0x5a317b['on'](_0x56f1f5['NsLBS'],_0x389322=>{const _0x224e56=_0x1f26c0;assert['ok'](_0x2e26c4[_0x224e56(0x571)](_0x389322,RangeError)),assert[_0x224e56(0x226)](_0x389322[_0x224e56(0x48d)],_0x224e56(0x472)),assert[_0x224e56(0x226)](_0x389322[_0x224e56(0x1df)],_0x2e26c4['LJphP']),_0x5a317b['on'](_0x2e26c4['NxuDo'],(_0x2dfed6,_0xe4f262)=>{const _0x185f61=_0x224e56;assert['strictEqual'](_0x2dfed6,0x3ee),assert[_0x185f61(0x226)](_0xe4f262,EMPTY_BUFFER),_0x3c5f23=!![];if(_0x2df002)_0x58b30f[_0x185f61(0x639)](_0x34b97);});});});}}),it(_0x4952b(0x108),_0x33bbca=>{const _0x2e3076=_0x4952b,_0x2bd517={'bBIcq':function(_0x3ee034,_0x57cdfc){return _0x3ee034+_0x57cdfc;},'bdPoi':_0x56f1f5['NsLBS']},_0x6b095d=0x10*0x400,_0x4e8b9c=new WebSocket['Server']({'maxPayload':_0x6b095d,'port':0x0},()=>{const _0x2b59d4=_0xffb2,_0x5e2eb9=new WebSocket(_0x2b59d4(0x377)+_0x4e8b9c[_0x2b59d4(0x37f)]()[_0x2b59d4(0x59c)]);});_0x4e8b9c['on'](_0x56f1f5[_0x2e3076(0x253)],_0x1147b0=>{const _0x20e5d0=_0x2e3076,_0x27145d=[...Sender[_0x20e5d0(0x337)](Buffer[_0x20e5d0(0x5e2)](_0x2bd517[_0x20e5d0(0x214)](_0x6b095d,0x1)),{'fin':!![],'opcode':0x2,'mask':!![],'readOnly':![]})];_0x1147b0['on'](_0x2bd517[_0x20e5d0(0x2de)],_0x567186=>{const _0x20ffd0=_0x20e5d0;assert['ok'](_0x567186 instanceof RangeError),assert['strictEqual'](_0x567186['code'],'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH'),assert[_0x20ffd0(0x226)](_0x567186[_0x20ffd0(0x1df)],'Max\x20payload\x20size\x20exceeded'),_0x1147b0['on'](_0x20ffd0(0x639),(_0x361234,_0x2344d0)=>{const _0x399d37=_0x20ffd0;assert[_0x399d37(0x226)](_0x361234,0x3ee),assert['strictEqual'](_0x2344d0,EMPTY_BUFFER),_0x4e8b9c['close'](_0x33bbca);});}),_0x1147b0[_0x20e5d0(0x70f)][_0x20e5d0(0x4e8)](Buffer[_0x20e5d0(0x5bf)](_0x27145d));});}),_0x32f9c9[_0x4952b(0x3d9)](it,'resumes\x20the\x20socket\x20when\x20the\x20close\x20frame\x20is\x20received',_0x1d06f=>{const _0x5069ea=_0x4952b,_0x4b7138={'cCqLC':'open','Gkrbj':function(_0x553441,_0x1ebcd8){return _0x553441*_0x1ebcd8;},'lGojC':_0x32f9c9[_0x5069ea(0x285)]};if(_0x32f9c9[_0x5069ea(0x21b)]('BpllD',_0x5069ea(0x24e))){const _0x1c1961=new _0x291aaa(_0x5069ea(0x377)+_0x19ddc9['address']()[_0x5069ea(0x59c)]);_0x1c1961['on'](_0x5069ea(0x639),(_0x422f94,_0x22b500)=>{const _0x4f0b90=_0x5069ea;_0x52466d[_0x4f0b90(0x226)](_0x422f94,0x3e8),_0xf18cc4[_0x4f0b90(0x657)](_0x22b500,_0x3e86ce[_0x4f0b90(0x667)]('some\x20reason')),_0x3540d9['close'](_0x330339);}),_0x1c1961['on'](_0x4b7138[_0x5069ea(0x297)],()=>{const _0x597415=_0x5069ea;let _0x1341d8=![];_0x2b364a[_0x597415(0x226)](_0x1c1961['_closeTimer'],null),_0x1c1961[_0x597415(0x2bb)]('foo',()=>{_0x1341d8=!![];}),_0x1c1961['close'](0x3e8,_0x597415(0x4df)),_0x4ab948[_0x597415(0x226)](_0x1341d8,![]),_0x2ba69c['strictEqual'](_0x1c1961[_0x597415(0x483)][_0x597415(0x3db)],0x7530);});}else{const _0x2e32ae=new WebSocket[(_0x5069ea(0x287))]({'port':0x0},()=>{const _0x3780dd=_0x5069ea,_0x5b0d66=new WebSocket(_0x3780dd(0x377)+_0x2e32ae[_0x3780dd(0x37f)]()[_0x3780dd(0x59c)]);});_0x2e32ae['on'](_0x5069ea(0x35b),_0x5cc472=>{const _0x3b8cd9=_0x5069ea,_0x43388a={'fin':!![],'mask':!![],'readOnly':![]},_0x10af32=[...Sender[_0x3b8cd9(0x337)](Buffer[_0x3b8cd9(0x5e2)](_0x4b7138[_0x3b8cd9(0x3b7)](0x10,0x400)),{'opcode':0x2,..._0x43388a}),...Sender['frame'](EMPTY_BUFFER,{'opcode':0x8,..._0x43388a})];_0x5cc472['on'](_0x4b7138[_0x3b8cd9(0x3d6)],(_0x53b205,_0x5d7d35)=>{const _0x1e9a0b=_0x3b8cd9;assert[_0x1e9a0b(0x226)](_0x53b205,0x3ed),assert[_0x1e9a0b(0x226)](_0x5d7d35,EMPTY_BUFFER),_0x2e32ae['close'](_0x1d06f);}),_0x5cc472[_0x3b8cd9(0x70f)][_0x3b8cd9(0x4e8)](Buffer[_0x3b8cd9(0x5bf)](_0x10af32));});}})):(_0x4b0284['ok'](_0x8f6ca3 instanceof _0xadabd5),_0x26f6c0['strictEqual'](_0x4b19c3[_0x4952b(0x1df)],'WebSocket\x20was\x20closed\x20before\x20the\x20connection\x20was\x20established'),_0x785092['on'](_0x56f1f5[_0x4952b(0x35e)],()=>_0x11ca55['close'](_0x2eea14)));});});