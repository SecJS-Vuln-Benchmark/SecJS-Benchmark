function _0x58e2(){const _0x4c810c=['index.handler','Runtime','join','Duration','27817940IdfPnm','723809MAgVTT','App','ALL_METHODS','55omAxaj','assets','204155YvZkwU','AuthorizationType','lambda-s3','root','ALL_ORIGINS','scope','5366349FjsfPI','193128pNTllQ','CognitoUserPoolsAuthorizer','1362656mqBQxo','Cors','NODEJS_18_X','days','1970331YcUIMY','addProxy','addResource','AssetCode','integtest-restapi-with-authorizer-and-proxy','8iEZHoi','108tNEBRO','Function','Actions-ApiGateway'];_0x58e2=function(){return _0x4c810c;};return _0x58e2();}const _0x1cc064=_0x36a2;(function(_0x4039bc,_0x3ed2ac){const _0x224b48=_0x36a2,_0x47c5c7=_0x4039bc();while(!![]){try{const _0xfada8f=-parseInt(_0x224b48(0x122))/0x1+parseInt(_0x224b48(0x110))/0x2+-parseInt(_0x224b48(0x114))/0x3+-parseInt(_0x224b48(0x10e))/0x4*(parseInt(_0x224b48(0x105))/0x5)+-parseInt(_0x224b48(0x11a))/0x6*(parseInt(_0x224b48(0x107))/0x7)+-parseInt(_0x224b48(0x119))/0x8*(parseInt(_0x224b48(0x10d))/0x9)+parseInt(_0x224b48(0x121))/0xa;if(_0xfada8f===_0x3ed2ac)break;else _0x47c5c7['push'](_0x47c5c7['shift']());}catch(_0x511214){_0x47c5c7['push'](_0x47c5c7['shift']());}}}(_0x58e2,0x6907b));import*as _0x529b3c from'path';import*as _0x1087bd from'aws-cdk-lib';import{IntegTest}from'@aws-cdk/integ-tests-alpha';import*as _0x3d1776 from'aws-cdk-lib/aws-cognito';import*as _0x504c3e from'aws-cdk-lib/aws-apigateway';import*as _0x31c880 from'aws-cdk-lib/aws-lambda';function _0x36a2(_0x3ff43e,_0x3cd7b2){const _0x58e2cf=_0x58e2();return _0x36a2=function(_0x36a2df,_0x30b8d4){_0x36a2df=_0x36a2df-0x103;let _0x2db015=_0x58e2cf[_0x36a2df];return _0x2db015;},_0x36a2(_0x3ff43e,_0x3cd7b2);}const app=new _0x1087bd[(_0x1cc064(0x103))](),stack=new _0x1087bd['Stack'](app,_0x1cc064(0x118)),userPool=new _0x3d1776['UserPool'](stack,'UserPool',{'selfSignUpEnabled':!![],'signInAliases':{'email':!![]}}),authorizer=new _0x504c3e[(_0x1cc064(0x10f))](stack,'Authorizer',{'cognitoUserPools':[userPool]}),api=new _0x504c3e['RestApi'](stack,_0x1cc064(0x11c),{'defaultCorsPreflightOptions':{'allowOrigins':_0x504c3e[_0x1cc064(0x111)][_0x1cc064(0x10b)],'maxAge':_0x1087bd[_0x1cc064(0x120)][_0x1cc064(0x113)](0xa)}}),root=api[_0x1cc064(0x10a)],sendResource=root[_0x1cc064(0x116)]('InitiateAction'),myfunc=new _0x31c880[(_0x1cc064(0x11b))](stack,_0x1cc064(0x109),{'code':_0x31c880[_0x1cc064(0x117)]['fromAsset'](_0x529b3c[_0x1cc064(0x11f)](__dirname,_0x1cc064(0x106))),'handler':_0x1cc064(0x11d),'runtime':_0x31c880[_0x1cc064(0x11e)][_0x1cc064(0x112)]}),sendLambdaIntegration=new _0x504c3e['LambdaIntegration'](myfunc);sendResource[_0x1cc064(0x115)]({'defaultIntegration':sendLambdaIntegration,'anyMethod':!![],'defaultMethodOptions':{'authorizer':authorizer,'authorizationType':_0x504c3e[_0x1cc064(0x108)]['COGNITO'],'authorizationScopes':[_0x1cc064(0x10c)]},'defaultCorsPreflightOptions':{'allowOrigins':_0x504c3e[_0x1cc064(0x111)][_0x1cc064(0x10b)],'allowMethods':_0x504c3e[_0x1cc064(0x111)][_0x1cc064(0x104)]}}),new IntegTest(app,'apigateway-with-authorizer-and-proxy',{'testCases':[stack]});