const _0xeefef8=_0x5b7c;function _0x5b7c(_0x51626d,_0x285387){const _0x32d92f=_0x32d9();return _0x5b7c=function(_0x5b7c98,_0x598457){_0x5b7c98=_0x5b7c98-0x171;let _0x3092e7=_0x32d92f[_0x5b7c98];return _0x3092e7;},_0x5b7c(_0x51626d,_0x285387);}function _0x32d9(){const _0x10d9b9=['WaEnu','authUser','split','106060gFhmYo','165DzEPRn','/revalidate/:email','jdxZw','_method','wPKya','AvJPw','0|6|2|3|1|5|4','5621370IIZXdt','updateUser','ibiwW',',\x20please\x20use\x20a\x20smaller\x20file.','\x20size\x20limit\x20has\x20been\x20exceeded','session','IMAGE_UPLOAD_MAX_SIZE_FRIENDLY_TEXT','awmvJ','/uploadProfilePicture','use','env','length','2775824WbfUgw','6iySBvw','TGFiR','success','size','messageType','Router','profile-default.png','messageBody','FRONT_END_NAME','express','keys','redirect','fvcnB','uRGcz','warn','soCGz','IFavy','name','error','pnBlF','fKPiC','Error\x20uploading\x20profile\x20picture\x20:\x20','368701XNFwEk','There\x20was\x20a\x20error\x20uploading\x20your\x20image\x20for\x20this\x20profile.','qIJHE','123429oyyIIA','log','email','200SVRQbY','Profile\x20image\x20saved\x20successfully!','profileImage','CoqIK','createUserForm','express-fileupload','updateClock();','saveProfileImage','1370901OHrXZZ','files','1089153ZDBOyP','Profile\x20File\x20','reValidateEmail','MqRWW','patch','Image\x20size\x20was\x20larger\x20then\x20','route','post','get','/profile/manageProfile','body','GEQJo','now','2|1|4|0|3','path'];_0x32d9=function(){return _0x10d9b9;};return _0x32d9();}(function(_0x3e79c4,_0x392081){const _0x21fdf9=_0x5b7c,_0x2f5934=_0x3e79c4();while(!![]){try{const _0x3173ad=-parseInt(_0x21fdf9(0x17f))/0x1+-parseInt(_0x21fdf9(0x1b6))/0x2*(-parseInt(_0x21fdf9(0x182))/0x3)+parseInt(_0x21fdf9(0x1a1))/0x4*(-parseInt(_0x21fdf9(0x1a2))/0x5)+-parseInt(_0x21fdf9(0x1a9))/0x6+-parseInt(_0x21fdf9(0x18d))/0x7+parseInt(_0x21fdf9(0x1b5))/0x8+parseInt(_0x21fdf9(0x18f))/0x9*(parseInt(_0x21fdf9(0x185))/0xa);if(_0x3173ad===_0x392081)break;else _0x2f5934['push'](_0x2f5934['shift']());}catch(_0x23167a){_0x2f5934['push'](_0x2f5934['shift']());}}}(_0x32d9,0x7d909));const express=require(_0xeefef8(0x172)),router=express[_0xeefef8(0x1bb)](),fs=require('fs'),path=require(_0xeefef8(0x19d)),fileUpload=require(_0xeefef8(0x18a)),userController=require('../controller/userController'),UPLOAD_PATH_BASE=path['resolve'](__dirname,'..','../client'),FRONT_END=process['env'][_0xeefef8(0x171)],IMAGE_PATH=process[_0xeefef8(0x1b3)]['AVATAR_IMAGE_PATH'],imageUploadPath=UPLOAD_PATH_BASE+'/'+FRONT_END+IMAGE_PATH,maxSize=process[_0xeefef8(0x1b3)]['IMAGE_UPLOAD_MAX_SIZE'],maxSizeText=process[_0xeefef8(0x1b3)][_0xeefef8(0x1af)];router[_0xeefef8(0x1b2)](fileUpload()),router['route']('/google')[_0xeefef8(0x196)](async function(_0x119369,_0x55c4d1){userController['googleSignUp'](_0x119369,_0x55c4d1);}),router['route']('/')[_0xeefef8(0x193)](async function(_0x29d041,_0x4fad9c){userController['updateUser'](_0x29d041,_0x4fad9c);})['post'](async function(_0x269e82,_0x103c30){const _0x7470b1=_0xeefef8,_0x15a320={'ibiwW':'PATCH'};_0x269e82[_0x7470b1(0x199)][_0x7470b1(0x1a5)]&&_0x269e82[_0x7470b1(0x199)][_0x7470b1(0x1a5)]==_0x15a320[_0x7470b1(0x1ab)]?userController[_0x7470b1(0x1aa)](_0x269e82,_0x103c30):userController[_0x7470b1(0x189)](_0x269e82,_0x103c30);}),router[_0xeefef8(0x195)](_0xeefef8(0x1a3))[_0xeefef8(0x197)](async function(_0x426a5f,_0x2c6acd){const _0x4bf3e8=_0xeefef8;userController[_0x4bf3e8(0x191)](_0x426a5f,_0x2c6acd);}),router[_0xeefef8(0x195)](_0xeefef8(0x1b1))[_0xeefef8(0x196)](async(_0x232d35,_0x1eb255)=>{const _0x2cec70=_0xeefef8,_0x5b5d32={'awmvJ':_0x2cec70(0x1a8),'hbXmj':function(_0x2328dd,_0x2d1592){return _0x2328dd+_0x2d1592;},'qIJHE':_0x2cec70(0x180),'wPKya':function(_0xb749ca,_0xbc6c67,_0x153792){return _0xb749ca(_0xbc6c67,_0x153792);},'ttsTE':_0x2cec70(0x18b),'CoqIK':_0x2cec70(0x17b),'pnBlF':function(_0x57d368,_0x103b2d){return _0x57d368!==_0x103b2d;},'GEQJo':_0x2cec70(0x179),'soCGz':function(_0x53d020,_0x483dae){return _0x53d020===_0x483dae;},'MqRWW':function(_0x3d40b7,_0x387e57){return _0x3d40b7>_0x387e57;},'fvcnB':function(_0xbd029e,_0x3bd0c1){return _0xbd029e+_0x3bd0c1;},'TGFiR':_0x2cec70(0x1ac),'AvJPw':_0x2cec70(0x198),'WaEnu':_0x2cec70(0x177),'fKPiC':'Image\x20too\x20large!','xVTMs':_0x2cec70(0x176),'jdxZw':'TblIx'};if(!_0x232d35[_0x2cec70(0x18e)]||_0x5b5d32[_0x2cec70(0x178)](Object[_0x2cec70(0x173)](_0x232d35[_0x2cec70(0x18e)])[_0x2cec70(0x1b4)],0x0))await userController[_0x2cec70(0x18c)](_0x232d35,_0x1eb255,_0x232d35['session'][_0x2cec70(0x19f)][_0x2cec70(0x184)],_0x2cec70(0x1bc));else{const _0x1e9014=_0x232d35['files'][_0x2cec70(0x187)],_0x19e9aa=Date[_0x2cec70(0x19b)]();if(_0x5b5d32[_0x2cec70(0x192)](_0x1e9014[_0x2cec70(0x1b9)],maxSize)){const _0x5c3ec8='2|3|4|0|1'[_0x2cec70(0x1a0)]('|');let _0x420f6b=0x0;while(!![]){switch(_0x5c3ec8[_0x420f6b++]){case'0':_0x232d35[_0x2cec70(0x1ae)][_0x2cec70(0x1bd)]=_0x5b5d32[_0x2cec70(0x175)](_0x2cec70(0x194),maxSizeText)+_0x5b5d32[_0x2cec70(0x1b7)];continue;case'1':_0x1eb255[_0x2cec70(0x174)](0x12f,_0x5b5d32[_0x2cec70(0x1a7)]);continue;case'2':console[_0x2cec70(0x183)](_0x2cec70(0x190)+_0x1e9014['name']+_0x2cec70(0x1ad));continue;case'3':_0x232d35[_0x2cec70(0x1ae)]['messageType']=_0x5b5d32[_0x2cec70(0x19e)];continue;case'4':_0x232d35[_0x2cec70(0x1ae)]['messageTitle']=_0x5b5d32[_0x2cec70(0x17d)];continue;}break;}}else _0x5b5d32['xVTMs']===_0x5b5d32[_0x2cec70(0x1a4)]?_0x57b456[_0x2cec70(0x1aa)](_0x3ed3cf,_0x23b8f3):await _0x1e9014['mv'](_0x5b5d32['fvcnB'](imageUploadPath,_0x19e9aa)+_0x1e9014[_0x2cec70(0x17a)],async _0x39af5e=>{const _0x547252=_0x2cec70;if(_0x39af5e){const _0x3866e2=_0x5b5d32[_0x547252(0x1b0)][_0x547252(0x1a0)]('|');let _0x145ae5=0x0;while(!![]){switch(_0x3866e2[_0x145ae5++]){case'0':console[_0x547252(0x183)](_0x5b5d32['hbXmj'](_0x547252(0x17e),_0x39af5e));continue;case'1':_0x1eb255[_0x547252(0x174)](0x12f,'/profile/manageProfile');continue;case'2':_0x232d35[_0x547252(0x1ae)]['messageTitle']='Error\x20uploading\x20image!';continue;case'3':_0x232d35[_0x547252(0x1ae)]['messageBody']=_0x5b5d32[_0x547252(0x181)];continue;case'4':return;case'5':_0x5b5d32[_0x547252(0x1a6)](setInterval,_0x5b5d32['ttsTE'],0x3e8);continue;case'6':_0x232d35[_0x547252(0x1ae)][_0x547252(0x1ba)]=_0x5b5d32[_0x547252(0x188)];continue;}break;}}else{if(_0x5b5d32[_0x547252(0x17c)](_0x5b5d32[_0x547252(0x19a)],_0x5b5d32[_0x547252(0x19a)]))_0xf0a582[_0x547252(0x191)](_0x17b153,_0x526769);else{const _0x55283c=_0x547252(0x19c)[_0x547252(0x1a0)]('|');let _0x366e43=0x0;while(!![]){switch(_0x55283c[_0x366e43++]){case'0':_0x232d35['session'][_0x547252(0x1bd)]=_0x547252(0x186);continue;case'1':_0x232d35[_0x547252(0x1ae)][_0x547252(0x1ba)]=_0x547252(0x1b8);continue;case'2':await userController['saveProfileImage'](_0x232d35,_0x1eb255,_0x232d35[_0x547252(0x1ae)]['authUser'][_0x547252(0x184)],_0x19e9aa+_0x1e9014[_0x547252(0x17a)]);continue;case'3':_0x1eb255[_0x547252(0x174)](0x12f,_0x547252(0x198));continue;case'4':_0x232d35[_0x547252(0x1ae)]['messageTitle']='Image\x20Saved';continue;}break;}}}});}}),module['exports']=router;