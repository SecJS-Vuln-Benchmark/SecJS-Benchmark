const _0x4c2315=_0x491e;(function(_0x1b8275,_0x2e18c2){const _0x3d11ff=_0x491e,_0x1ab6d1=_0x1b8275();while(!![]){try{const _0x24d9a6=-parseInt(_0x3d11ff(0x147))/0x1+parseInt(_0x3d11ff(0x144))/0x2+-parseInt(_0x3d11ff(0x137))/0x3+-parseInt(_0x3d11ff(0x156))/0x4+parseInt(_0x3d11ff(0x13d))/0x5+parseInt(_0x3d11ff(0x152))/0x6*(parseInt(_0x3d11ff(0x14b))/0x7)+parseInt(_0x3d11ff(0x150))/0x8;if(_0x24d9a6===_0x2e18c2)break;else _0x1ab6d1['push'](_0x1ab6d1['shift']());}catch(_0x16513c){_0x1ab6d1['push'](_0x1ab6d1['shift']());}}}(_0x41bd,0xea383));const xtend=require(_0x4c2315(0x130)),qs=require(_0x4c2315(0x13b)),xpath=require(_0x4c2315(0x153)),xmldom=require(_0x4c2315(0x132)),domParser=new xmldom[(_0x4c2315(0x145))](),utils=require(_0x4c2315(0x139)),AuthenticationFailedError=require('./errors/AuthenticationFailedError'),WsFederation=module[_0x4c2315(0x14a)]=function WsFederation(_0xac12d7,_0x2c2a52,_0x2370b0,_0x332ef8){const _0x36590d=_0x4c2315,_0x4980ee={'zNFrL':_0x36590d(0x134)},_0xf90b87=_0x4980ee[_0x36590d(0x165)][_0x36590d(0x135)]('|');let _0x88900=0x0;while(!![]){switch(_0xf90b87[_0x88900++]){case'0':this[_0x36590d(0x159)]=_0x2c2a52;continue;case'1':this[_0x36590d(0x162)]=_0x332ef8;continue;case'2':this[_0x36590d(0x167)]=_0xac12d7;continue;case'3':this[_0x36590d(0x14c)]=domParser;continue;case'4':this[_0x36590d(0x168)]=_0x2370b0;continue;}break;}};WsFederation[_0x4c2315(0x13f)]={'getRequestSecurityTokenUrl':function(_0x233a99){const _0x114e81=_0x4c2315,_0x279132={'ZbXJY':function(_0x3b9f9a,_0x24b7bb){return _0x3b9f9a!==_0x24b7bb;},'TdVLV':function(_0xfd4a2e,_0x395e17){return _0xfd4a2e+_0x395e17;}},_0xbdacf5=xtend(_0x233a99||{},{'wtrealm':this[_0x114e81(0x167)],'wa':_0x114e81(0x169)});return this['homerealm']!==''&&(_0xbdacf5[_0x114e81(0x15e)]=this[_0x114e81(0x159)]),this['wreply']&&(_0x279132['ZbXJY'](_0x114e81(0x16b),_0x114e81(0x16b))?_0x549c41=_0x475954[_0x114e81(0x160)](_0x25f9db[_0x114e81(0x14f)][_0x114e81(0x13c)],this[_0x114e81(0x14c)]):_0xbdacf5[_0x114e81(0x162)]=this[_0x114e81(0x162)]),_0x279132[_0x114e81(0x146)](_0x279132[_0x114e81(0x146)](this[_0x114e81(0x168)],'?'),qs['encode'](_0xbdacf5));},'extractToken':function(_0x230924){const _0x363450=_0x4c2315,_0x1110ff={'ISnde':'wresult','mPLhm':_0x363450(0x148)},_0x52baf5=utils[_0x363450(0x160)](_0x230924['body'][_0x1110ff['ISnde']],this['parser']);let _0x266685=_0x52baf5['getElementsByTagNameNS'](_0x363450(0x161),'RequestedSecurityToken')[0x0];return!_0x266685&&(_0x266685=_0x52baf5[_0x363450(0x14d)](_0x1110ff[_0x363450(0x166)],_0x363450(0x136))[0x0]),_0x266685&&_0x266685[_0x363450(0x15b)];},'retrieveToken':function(_0x1a882d,_0x24c1d7){const _0x1d1d58=_0x4c2315,_0x265141={'dvCvQ':function(_0x58981e,_0x69bcbf){return _0x58981e(_0x69bcbf);},'UadfR':'wresult\x20should\x20be\x20a\x20valid\x20xml','fPCrg':function(_0x37b51c,_0x323da6){return _0x37b51c>_0x323da6;}};if(_0x1a882d['body'][_0x1d1d58(0x13c)][_0x1d1d58(0x138)]('<')===-0x1)return _0x265141[_0x1d1d58(0x131)](_0x24c1d7,new Error(_0x265141[_0x1d1d58(0x151)]));const _0x1552c4=this[_0x1d1d58(0x157)](_0x1a882d);if(_0x1552c4)return _0x24c1d7(new AuthenticationFailedError(_0x1552c4[_0x1d1d58(0x16a)],_0x1552c4['detail']));const _0x3eff7b=this[_0x1d1d58(0x164)](_0x1a882d);if(!_0x3eff7b)return _0x24c1d7(new Error(_0x1d1d58(0x14e)));const _0x3e9514=xpath[_0x1d1d58(0x155)](_0x1d1d58(0x163),_0x3eff7b);if(_0x265141[_0x1d1d58(0x15f)](_0x3e9514[_0x1d1d58(0x13a)],0x1))return _0x265141['dvCvQ'](_0x24c1d7,new Error(_0x1d1d58(0x149)));_0x24c1d7(null,_0x1a882d['body'][_0x1d1d58(0x13c)]);},'extractFault':function(_0x3d7c6e){const _0x343ae8=_0x4c2315,_0x4336b2={'HUcNT':_0x343ae8(0x15d),'rkyFv':_0x343ae8(0x15a),'espTP':_0x343ae8(0x141)},_0x50dd77={};let _0x19e592;try{_0x19e592=utils[_0x343ae8(0x160)](_0x3d7c6e[_0x343ae8(0x14f)][_0x343ae8(0x13c)],this[_0x343ae8(0x14c)]);}catch(_0x967751){return _0x967751;}const _0x234791=xpath['select']('//*[local-name(.)=\x27Fault\x27]',_0x19e592)[0x0];if(!_0x234791)return null;const _0x1937f2=xpath[_0x343ae8(0x155)](_0x4336b2[_0x343ae8(0x13e)],_0x19e592)[0x0];_0x1937f2&&(_0x50dd77[_0x343ae8(0x16c)]=_0x1937f2[_0x343ae8(0x142)]);const _0x1d1b83=xpath[_0x343ae8(0x155)](_0x343ae8(0x133),_0x19e592)[0x0];_0x1d1b83&&(_0x50dd77[_0x343ae8(0x12f)]=_0x1d1b83[_0x343ae8(0x142)]);const _0x1b21d9=xpath['select'](_0x4336b2[_0x343ae8(0x140)],_0x19e592)[0x0];_0x1b21d9&&(_0x50dd77[_0x343ae8(0x16a)]=_0x1b21d9[_0x343ae8(0x142)]);const _0x4b969b=xpath[_0x343ae8(0x155)](_0x4336b2[_0x343ae8(0x154)],_0x19e592)[0x0];return _0x4b969b&&(_0x50dd77[_0x343ae8(0x158)]=_0x4b969b[_0x343ae8(0x142)]),_0x50dd77;}},Object[_0x4c2315(0x143)](WsFederation,_0x4c2315(0x167),{'get':function(){const _0x43e685=_0x4c2315;return this[_0x43e685(0x167)];}}),Object[_0x4c2315(0x143)](WsFederation,_0x4c2315(0x15c),{'get':function(){const _0x2115cf=_0x4c2315;return this[_0x2115cf(0x15c)];}}),Object[_0x4c2315(0x143)](WsFederation,_0x4c2315(0x168),{'get':function(){const _0x454dab=_0x4c2315;return this[_0x454dab(0x168)];}});function _0x491e(_0x120d6a,_0x544979){const _0x41bd81=_0x41bd();return _0x491e=function(_0x491e53,_0x2f4a8f){_0x491e53=_0x491e53-0x12f;let _0x404daa=_0x41bd81[_0x491e53];return _0x404daa;},_0x491e(_0x120d6a,_0x544979);}function _0x41bd(){const _0x5237a5=['//*[local-name(.)=\x27Fault\x27]/*[local-name(.)=\x27Reason\x27]/*[local-name(.)=\x27Text\x27]','firstChild','homeRealm','//*[local-name(.)=\x27Fault\x27]/*[local-name(.)=\x27Code\x27]/*[local-name(.)=\x27Value\x27]','whr','fPCrg','parseWsFedResponse','http://schemas.xmlsoap.org/ws/2005/02/trust','wreply','//*[local-name(.)=\x27Assertion\x27]','extractToken','zNFrL','mPLhm','realm','identityProviderUrl','wsignin1.0','message','cslRm','code','subCode','xtend','dvCvQ','@xmldom/xmldom','//*[local-name(.)=\x27Fault\x27]/*[local-name(.)=\x27Code\x27]/*[local-name(.)=\x27Subcode\x27]/*[local-name(.)=\x27Value\x27]','2|0|4|1|3','split','RequestedSecurityToken','4689489FCfpxj','indexOf','./utils','length','querystring','wresult','1149930tQifhL','HUcNT','prototype','rkyFv','//*[local-name(.)=\x27Fault\x27]/*[local-name(.)=\x27Detail\x27]','textContent','defineProperty','2724126AdnQgq','DOMParser','TdVLV','1025335EdvPVV','http://docs.oasis-open.org/ws-sx/ws-trust/200512','A\x20RequestedSecurityToken\x20can\x20contain\x20only\x20one\x20Assertion\x20element.','exports','7drqrGe','parser','getElementsByTagNameNS','missing\x20RequestedSecurityToken\x20element','body','16160792UDRjNq','UadfR','1682190rDFFeU','xpath','espTP','select','1378608kyppaG','extractFault','detail','homerealm'];_0x41bd=function(){return _0x5237a5;};return _0x41bd();}