'use strict';const _0x593ba8=_0x5d90;function _0x5d90(_0x573acb,_0x4123a7){const _0x26b7be=_0x26b7();return _0x5d90=function(_0x5d90b9,_0x22603a){_0x5d90b9=_0x5d90b9-0xd4;let _0xc36ba9=_0x26b7be[_0x5d90b9];return _0xc36ba9;},_0x5d90(_0x573acb,_0x4123a7);}(function(_0x7a0eb8,_0x280298){const _0x188cce=_0x5d90,_0x329766=_0x7a0eb8();while(!![]){try{const _0x2346b8=parseInt(_0x188cce(0x119))/0x1*(parseInt(_0x188cce(0x19f))/0x2)+-parseInt(_0x188cce(0x1bb))/0x3+parseInt(_0x188cce(0x1b6))/0x4+parseInt(_0x188cce(0x195))/0x5+parseInt(_0x188cce(0x110))/0x6+parseInt(_0x188cce(0xe8))/0x7*(-parseInt(_0x188cce(0x10b))/0x8)+-parseInt(_0x188cce(0xd5))/0x9;if(_0x2346b8===_0x280298)break;else _0x329766['push'](_0x329766['shift']());}catch(_0x29f34e){_0x329766['push'](_0x329766['shift']());}}}(_0x26b7,0xd8e75));const test=require('tap')['test'],FormData=require(_0x593ba8(0x11e)),Fastify=require(_0x593ba8(0x1af)),multipart=require(_0x593ba8(0x164)),http=require(_0x593ba8(0x1d2)),path=require(_0x593ba8(0x10e)),fs=require('fs'),pump=require(_0x593ba8(0x13d)),filePath=path['join'](__dirname,'..','..','README.md');function _0x26b7(){const _0x694fad=['ItDCb','myFile','BeHsN','fAytL','should\x20not\x20execute\x20the\x20handler','2984PncYeK','addToBody\x20with\x20__proto__\x20field','win32','path','Flmbg','6304140CpWDGl','AbUbz','jeHFf','XIHQe','2|3|0|4|1','mySharedSchema','UalDf','DlMoC','tDywY','74iGxBYb','qjvDv','wLFDw','ucgDX','request','form-data','after','fdBln','localhost','EqbDU','XjeIL','bDhbo','hello','Pibbz','object','csIpL','EWMkw','README.md','qXsuR','lHhTx','DIzHI','resume','post','EIxml','FtYNm','bplaa','KqsGE','KNCBC','UaezT','CPSjt','addToBody\x20with\x20shared\x20schema\x20(async/await)','__proto__','PrtJx','res\x20ended\x20successfully','addToBody\x20without\x20files\x20and\x20shared\x20schema','register','pump','myField2','ImFzG','tpJmc','TFymh','WScGY','form.html','eltaB','We\x20must\x20receive\x203\x20file\x20events','end','teardown','EMTac','DkBWA','SGmxZ','getSchema','myFileThree','should\x20not\x20be\x20called','grdyI','WWfHW','statusCode','constructor','Plnca','isBuffer','fJsLF','tcEXX','MMkdg','hnYFQ','world','GvVNQ','addToBody\x20option\x20and\x20multiple\x20files','LICENSE','EkObl','iJjnW','close','lUQuQ','myField','QwDCp','limit','bind','./../..','dHWRg','mMQTl','BbmxZ','IBpHl','ZPGwI','vmhvf','PUtXm','vuujF','dgLbz','AATll','server','VXYxv','rEMSC','match','kehak','jEfog','OavGQ','UbZlw','gmBvW','text/markdown','MpZUq','listen','yAADG','tkscK','wBoCp','pUGkC','UkRVO','address','vDBgz','addToBody\x20option\x20with\x20promise\x20in\x20error','JCTbl','dmLbJ','pass','plan','then','split','XAGWc','text/html','tSEzt','WKlGl','nQKir','ZhHRz','reject','there\x20are\x20not\x20stream','odddB','GET','eFVXX','dEktP','6273870kyaHel','body','mZupr','myFileTwo','QJmjX','QbOee','get','getHeaders','tfQIQ','client\x20pump:\x20no\x20err','20402gIcgLl','addToBody\x20option\x20and\x20multiple\x20files\x20in\x20one\x20field','NkLTM','hqVIr','jpcVH','LyjgU','DnJuV','XyKdu','gfqZD','xOmIb','forEach','iTTBa','Chzhu','UzSqk','substr','qmpwU','fastify','send','ZuVMn','bzoKn','bTBaj','YRFhE','CXjCV','2097444EEPDvD','data','htvcw','inXdy','array','393228pFZTqU','QAMKa','PHCWt','gLEzt','platform','RyYBH','TDcci','AlFVV','7bit','KOSNj','EaHsD','myCheck','EyJsj','DSPCN','true','RRGLN','port','kSGzL','addToBody\x20with\x20limit\x20exceeded','addToBody\x20option\x20and\x20multiple\x20strings\x20in\x20one\x20field','BjxUm','http:','xOJAu','http','ZsWZW','sycwx','nZFRN','iBlRF','18746073ArbkYG','aeYKw','kclSL','auBOT','fail','addToBody\x20option','GNyNL','dDkXj','EHECB','TNNJZ','TZLDC','XIMLy','oUSRg','HswMb','wXdfs','createReadStream','0|3|1|2|4','equal','YoFot','9051HhXRZN','#\x20fastify-multipart','error','my\x20error','ddeNm','BdZCW','eNyNw','sxxvg','ByvbH','POST','KvRQJ','EeLGk','csUSt','toString','MZNfG','DwGJi','ceQuh','LYfuk','join','ewLpp','string','JyiFo','iIjCo','cqqgI','nkVCH','hypBa','omdtD','zpgwh','append','addToBody\x20option\x20and\x20custom\x20stream\x20management'];_0x26b7=function(){return _0x694fad;};return _0x26b7();}test(_0x593ba8(0xda),{'skip':process[_0x593ba8(0x1bf)]===_0x593ba8(0x10d)},_0x955053=>{const _0x11c0ee=_0x593ba8,_0x3e615a={'EaHsD':_0x11c0ee(0x125),'jEfog':_0x11c0ee(0x1c3),'sxxvg':_0x11c0ee(0x178),'OavGQ':_0x11c0ee(0x13a),'oUSRg':_0x11c0ee(0x177),'dHWRg':'end','dEktP':_0x11c0ee(0xde),'dmLbJ':_0x11c0ee(0x19e),'yvbXf':_0x11c0ee(0x1d0),'jwauY':_0x11c0ee(0xf1),'jpcVH':_0x11c0ee(0x160),'JyiFo':_0x11c0ee(0x1c6),'eNyNw':_0x11c0ee(0x1c9),'grdyI':_0x11c0ee(0x107)};_0x955053['plan'](0x8);const _0x19d946=Fastify();_0x955053['teardown'](_0x19d946[_0x11c0ee(0x15e)][_0x11c0ee(0x163)](_0x19d946)),_0x19d946[_0x11c0ee(0x13c)](multipart,{'addToBody':!![]}),_0x19d946['post']('/',function(_0x31c296,_0x31d4af){const _0x13f148=_0x11c0ee,_0x4c68e0='0|3|4|1|5|2'['split']('|');let _0x1b0d0e=0x0;while(!![]){switch(_0x4c68e0[_0x1b0d0e++]){case'0':_0x955053['equal'](_0x31c296['body']['myField'],_0x3e615a[_0x13f148(0x1c5)]);continue;case'1':_0x955053['type'](_0x31c296[_0x13f148(0x196)]['myFile'][0x0]['data'],Buffer);continue;case'2':_0x31d4af[_0x13f148(0x1b0)]('ok');continue;case'3':_0x955053[_0x13f148(0xe6)](_0x31c296[_0x13f148(0x196)]['myCheck'],'true');continue;case'4':_0x955053[_0x13f148(0x172)](_0x31c296[_0x13f148(0x196)][_0x13f148(0x107)],[{'encoding':_0x3e615a[_0x13f148(0x174)],'filename':'README.md','limit':![],'mimetype':_0x3e615a[_0x13f148(0xef)]}]);continue;case'5':_0x955053['equal'](_0x31c296[_0x13f148(0x196)][_0x13f148(0x107)][0x0][_0x13f148(0x1b7)][_0x13f148(0xf5)]('utf8')[_0x13f148(0x1ad)](0x0,0x13),_0x13f148(0xe9));continue;}break;}}),_0x19d946[_0x11c0ee(0x17a)](0x0,function(){const _0x1add16=_0x11c0ee,_0x1169d5={'Flmbg':_0x3e615a['OavGQ'],'oQzam':_0x1add16(0x146)},_0x534a55=new FormData(),_0x824fc5={'protocol':_0x3e615a['yvbXf'],'hostname':'localhost','port':_0x19d946[_0x1add16(0x16f)][_0x1add16(0x180)]()[_0x1add16(0x1cb)],'path':'/','headers':_0x534a55[_0x1add16(0x19c)](),'method':_0x3e615a['jwauY']},_0x3ccf42=http[_0x1add16(0x11d)](_0x824fc5,_0x527772=>{const _0x2b1874=_0x1add16,_0x3a770a={'CPSjt':_0x3e615a[_0x2b1874(0x175)]};_0x3e615a[_0x2b1874(0xe1)]!==_0x2b1874(0x1bc)?(_0x955053[_0x2b1874(0xe6)](_0x527772[_0x2b1874(0x150)],0xc8),_0x527772['resume'](),_0x527772['on'](_0x3e615a[_0x2b1874(0x165)],()=>{const _0x441dab=_0x2b1874;_0x955053[_0x441dab(0x185)](_0x441dab(0x13a));})):_0xf3c64a['pass'](_0x3a770a[_0x2b1874(0x136)]);}),_0x55c2ff=fs['createReadStream'](filePath);_0x534a55[_0x1add16(0x104)](_0x3e615a[_0x1add16(0x1a3)],_0x3e615a[_0x1add16(0x1c5)]),_0x534a55[_0x1add16(0x104)](_0x3e615a[_0x1add16(0xfd)],_0x3e615a[_0x1add16(0xee)]),_0x534a55['append'](_0x3e615a[_0x1add16(0x14e)],_0x55c2ff),pump(_0x534a55,_0x3ccf42,function(_0x91fe13){const _0x528fe4=_0x1add16;if(_0x3e615a[_0x528fe4(0x194)]!=='TNNJZ'){const _0xf1bf8f={'wXdfs':_0x1169d5[_0x528fe4(0x10f)]};_0x30af14['equal'](_0x520013['statusCode'],0xc8),_0x4d58a0[_0x528fe4(0x12e)](),_0x305320['on'](_0x1169d5['oQzam'],()=>{const _0x2c8ae4=_0x528fe4;_0x4c0c72[_0x2c8ae4(0x185)](_0xf1bf8f[_0x2c8ae4(0xe3)]),_0x1fd0e6[_0x2c8ae4(0x15e)](),_0x4daa15[_0x2c8ae4(0x146)]();});}else _0x955053['error'](_0x91fe13,_0x3e615a[_0x528fe4(0x184)]);});});}),test(_0x593ba8(0x1cd),{'skip':process['platform']===_0x593ba8(0x10d)},_0x468471=>{const _0x15bf00=_0x593ba8,_0x514929={'hypBa':_0x15bf00(0x1d0),'vJAzQ':_0x15bf00(0xf1),'peCqP':function(_0x387707,_0x52768f){return _0x387707===_0x52768f;},'gLEzt':_0x15bf00(0x146),'lHhTx':_0x15bf00(0xed),'IpZpp':'localhost','MZNfG':_0x15bf00(0x107),'aNMby':function(_0x4a394a){return _0x4a394a();}};_0x468471['plan'](0x5);const _0x28dd46=_0x514929['aNMby'](Fastify);_0x468471['teardown'](_0x28dd46['close'][_0x15bf00(0x163)](_0x28dd46)),_0x28dd46[_0x15bf00(0x13c)](multipart,{'addToBody':!![],'limits':{'fileSize':0x1}}),_0x28dd46[_0x15bf00(0x12f)]('/',function(_0x2db3d0,_0x441e2c){const _0x2b8eb2=_0x15bf00;_0x468471[_0x2b8eb2(0xe6)](_0x2db3d0['body']['myFile'][0x0][_0x2b8eb2(0x162)],!![]),_0x468471[_0x2b8eb2(0xe6)](_0x2db3d0['body'][_0x2b8eb2(0x107)][0x0]['data'],undefined),_0x441e2c['send']('ok');}),_0x28dd46[_0x15bf00(0x17a)](0x0,function(){const _0x2beb39=_0x15bf00,_0x1e7e17={'XIHQe':_0x514929[_0x2beb39(0x1be)]};if(_0x514929[_0x2beb39(0x12c)]===_0x514929['lHhTx']){const _0x4a7cba=new FormData(),_0x40d28f={'protocol':_0x514929[_0x2beb39(0x101)],'hostname':_0x514929['IpZpp'],'port':_0x28dd46[_0x2beb39(0x16f)][_0x2beb39(0x180)]()[_0x2beb39(0x1cb)],'path':'/','headers':_0x4a7cba[_0x2beb39(0x19c)](),'method':_0x2beb39(0xf1)},_0x385ff1=http['request'](_0x40d28f,_0x27b79c=>{const _0x3ecd17=_0x2beb39,_0xa34d7a={'nZFRN':function(_0x2963a5,_0x5a1abf){return _0x2963a5!==_0x5a1abf;},'eFVXX':'res\x20ended\x20successfully'};_0x468471[_0x3ecd17(0xe6)](_0x27b79c[_0x3ecd17(0x150)],0xc8),_0x27b79c[_0x3ecd17(0x12e)](),_0x27b79c['on'](_0x1e7e17[_0x3ecd17(0x113)],()=>{const _0x9604de=_0x3ecd17,_0x5440a4={'RRGLN':_0x9604de(0x19e)};_0xa34d7a[_0x9604de(0x1d5)](_0x9604de(0x166),'mMQTl')?_0x4e09f6['error'](_0x3ad263,_0x5440a4[_0x9604de(0x1ca)]):_0x468471[_0x9604de(0x185)](_0xa34d7a[_0x9604de(0x193)]);});}),_0x39bf36=fs[_0x2beb39(0xe4)](filePath);_0x4a7cba[_0x2beb39(0x104)](_0x514929[_0x2beb39(0xf6)],_0x39bf36),pump(_0x4a7cba,_0x385ff1,function(_0x51df01){const _0x3253a5=_0x2beb39,_0x4fa513={'xTImV':_0x514929[_0x3253a5(0x101)],'KOSNj':_0x514929['vJAzQ']};if(_0x514929['peCqP'](_0x3253a5(0x1a2),_0x3253a5(0x1a2)))_0x468471[_0x3253a5(0xea)](_0x51df01,_0x3253a5(0x19e));else{const _0x424749={'xOmIb':_0x3253a5(0x13a)},_0x43e8f0=new _0x27074b(),_0x25d749={'protocol':_0x4fa513['xTImV'],'hostname':_0x3253a5(0x121),'port':_0xdabc74[_0x3253a5(0x16f)][_0x3253a5(0x180)]()[_0x3253a5(0x1cb)],'path':'/','headers':_0x43e8f0[_0x3253a5(0x19c)](),'method':_0x4fa513[_0x3253a5(0x1c4)]},_0xe8be50=_0x17e110['request'](_0x25d749,_0x1c940d=>{const _0x15bb71=_0x3253a5,_0x49900e={'ZsWZW':_0x424749[_0x15bb71(0x1a8)]};_0x49e929['equal'](_0x1c940d['statusCode'],0xc8),_0x1c940d['resume'](),_0x1c940d['on']('end',()=>{const _0x5a3974=_0x15bb71;_0x299567[_0x5a3974(0x185)](_0x49900e[_0x5a3974(0x1d3)]);});}),_0x356e2b=_0x214d2d[_0x3253a5(0xe4)](_0x5a0b47);_0x43e8f0[_0x3253a5(0x104)]('myFile',_0x356e2b),_0x30039c(_0x43e8f0,_0xe8be50,function(_0x298c6b){const _0x51dbac=_0x3253a5;_0x207d6f[_0x51dbac(0xea)](_0x298c6b,_0x51dbac(0x19e));});}});}else _0x2dabf8[_0x2beb39(0x185)](_0x2beb39(0x13a));});}),test(_0x593ba8(0x15a),{'skip':process['platform']===_0x593ba8(0x10d)},_0x49a60a=>{const _0x4f874b=_0x593ba8,_0x437fb5={'ZekVh':'gKpGw','wBoCp':_0x4f874b(0x116),'Chzhu':_0x4f874b(0xe5),'UaezT':_0x4f874b(0x1c3),'SiORo':'README.md','kSGzL':_0x4f874b(0x178),'aeYKw':_0x4f874b(0x145),'LyjgU':_0x4f874b(0x134),'iTTBa':_0x4f874b(0x146),'YjGoq':_0x4f874b(0x106),'JCTbl':_0x4f874b(0x1d0),'EqbDU':_0x4f874b(0x121),'cDuxh':_0x4f874b(0x198),'eSQOc':function(_0x65785d){return _0x65785d();}};_0x49a60a[_0x4f874b(0x186)](0x7);const _0x532b27=_0x437fb5['eSQOc'](Fastify);_0x49a60a['teardown'](_0x532b27[_0x4f874b(0x15e)][_0x4f874b(0x163)](_0x532b27));let _0x32d3c5=0x0;const _0x3d0e11={'addToBody':!![],'onFile':(_0x2be04e,_0x5020fd,_0x52aac8,_0x127962,_0x17ebb5)=>{const _0x45747f=_0x4f874b;_0x32d3c5++,_0x5020fd[_0x45747f(0x12e)]();}};_0x532b27[_0x4f874b(0x13c)](multipart,_0x3d0e11),_0x532b27['post']('/',function(_0x3bb75f,_0x1caf33){const _0x5d934c=_0x4f874b;if(_0x437fb5['ZekVh']!==_0x437fb5[_0x5d934c(0x17d)]){const _0x37c7e0=_0x437fb5[_0x5d934c(0x1ab)][_0x5d934c(0x188)]('|');let _0x1bf60c=0x0;while(!![]){switch(_0x37c7e0[_0x1bf60c++]){case'0':_0x49a60a[_0x5d934c(0x172)](_0x3bb75f[_0x5d934c(0x196)][_0x5d934c(0x107)],[{'data':[],'encoding':_0x437fb5[_0x5d934c(0x135)],'filename':_0x437fb5['SiORo'],'limit':![],'mimetype':_0x437fb5[_0x5d934c(0x1cc)]}]);continue;case'1':_0x49a60a['match'](_0x3bb75f[_0x5d934c(0x196)][_0x5d934c(0x14c)],[{'data':[],'encoding':_0x437fb5[_0x5d934c(0x135)],'filename':_0x5d934c(0x12a),'limit':![],'mimetype':_0x5d934c(0x178)}]);continue;case'2':_0x49a60a[_0x5d934c(0xe6)](_0x32d3c5,0x3,_0x437fb5[_0x5d934c(0xd6)]);continue;case'3':_0x49a60a[_0x5d934c(0x172)](_0x3bb75f['body'][_0x5d934c(0x198)],[{'data':[],'encoding':'7bit','filename':'README.md','limit':![],'mimetype':_0x5d934c(0x178)}]);continue;case'4':_0x1caf33['send']('ok');continue;}break;}}else _0x200558++,_0x70e5b7[_0x5d934c(0x12e)]();}),_0x532b27[_0x4f874b(0x17a)](0x0,function(){const _0x39765f=_0x4f874b,_0x1b4bbf={'kUfBT':function(_0x1be064,_0x545c31){return _0x1be064===_0x545c31;},'GNyNL':_0x437fb5['YjGoq']},_0x3db41c=new FormData(),_0x356f67={'protocol':_0x437fb5[_0x39765f(0x183)],'hostname':_0x437fb5[_0x39765f(0x122)],'port':_0x532b27['server'][_0x39765f(0x180)]()['port'],'path':'/','headers':_0x3db41c[_0x39765f(0x19c)](),'method':_0x39765f(0xf1)},_0x5215fe=http[_0x39765f(0x11d)](_0x356f67,_0x388e40=>{const _0x9cc2d4=_0x39765f,_0x4286a4={'uyzEF':_0x437fb5[_0x9cc2d4(0x1a4)],'htvcw':_0x9cc2d4(0x13a)};_0x49a60a[_0x9cc2d4(0xe6)](_0x388e40[_0x9cc2d4(0x150)],0xc8),_0x388e40[_0x9cc2d4(0x12e)](),_0x388e40['on'](_0x437fb5[_0x9cc2d4(0x1aa)],()=>{const _0x4be22d=_0x9cc2d4;_0x4286a4['uyzEF']!=='VGyOM'?_0x49a60a[_0x4be22d(0x185)](_0x4286a4[_0x4be22d(0x1b8)]):_0x380201[_0x4be22d(0x185)](_0x4be22d(0x13a));});}),_0x586baf=fs['createReadStream'](filePath),_0x547bb7=fs[_0x39765f(0xe4)](filePath),_0x24584c=fs[_0x39765f(0xe4)](filePath);_0x3db41c['append'](_0x39765f(0x107),_0x586baf),_0x3db41c[_0x39765f(0x104)](_0x437fb5['cDuxh'],_0x547bb7),_0x3db41c[_0x39765f(0x104)](_0x39765f(0x14c),_0x24584c),pump(_0x3db41c,_0x5215fe,function(_0x134a37){const _0x4b71c2=_0x39765f;_0x1b4bbf['kUfBT']('ItDCb',_0x1b4bbf[_0x4b71c2(0xdb)])?_0x49a60a[_0x4b71c2(0xea)](_0x134a37,_0x4b71c2(0x19e)):_0x32ab6a[_0x4b71c2(0xea)](_0x157df4,_0x4b71c2(0x19e));});});}),test(_0x593ba8(0x1a0),{'skip':process[_0x593ba8(0x1bf)]==='win32'},_0x57968d=>{const _0x1105a6=_0x593ba8,_0x4d387f={'gfqZD':_0x1105a6(0x1c3),'BeHsN':_0x1105a6(0x15b),'TFymh':_0x1105a6(0x143),'ZhHRz':_0x1105a6(0x18a),'fdSfI':'http:','moeDn':_0x1105a6(0x121),'IBpHl':_0x1105a6(0xf1),'ivsGb':_0x1105a6(0x12a),'GvVNQ':_0x1105a6(0x107),'bTBaj':function(_0x20a9ea){return _0x20a9ea();}};_0x57968d['plan'](0x7);const _0x17f579=_0x4d387f[_0x1105a6(0x1b3)](Fastify);_0x57968d[_0x1105a6(0x147)](_0x17f579[_0x1105a6(0x15e)][_0x1105a6(0x163)](_0x17f579));const _0x310408={'addToBody':!![]};_0x17f579['register'](multipart,_0x310408),_0x17f579[_0x1105a6(0x12f)]('/',function(_0x4fe71d,_0x738138){const _0x295adf=_0x1105a6;_0x57968d[_0x295adf(0x172)](_0x4fe71d[_0x295adf(0x196)]['myFile'],[{'encoding':_0x4d387f['gfqZD'],'filename':_0x295adf(0x12a),'limit':![],'mimetype':_0x295adf(0x178)},{'encoding':_0x4d387f[_0x295adf(0x1a7)],'filename':_0x4d387f[_0x295adf(0x108)],'limit':![],'mimetype':'application/octet-stream'},{'encoding':_0x4d387f[_0x295adf(0x1a7)],'filename':_0x4d387f[_0x295adf(0x141)],'limit':![],'mimetype':_0x4d387f[_0x295adf(0x18e)]}]),_0x4fe71d[_0x295adf(0x196)][_0x295adf(0x107)][_0x295adf(0x1a9)](_0x52c91d=>{const _0x24a83c=_0x295adf;_0x57968d[_0x24a83c(0xe6)](Buffer[_0x24a83c(0x153)](_0x52c91d['data']),!![]);}),_0x738138[_0x295adf(0x1b0)]('ok');}),_0x17f579[_0x1105a6(0x17a)](0x0,function(){const _0x292766=_0x1105a6,_0x59920e={'dFbmq':_0x292766(0x146)},_0xe86be9=new FormData(),_0x3bb7c9={'protocol':_0x4d387f['fdSfI'],'hostname':_0x4d387f['moeDn'],'port':_0x17f579[_0x292766(0x16f)][_0x292766(0x180)]()['port'],'path':'/','headers':_0xe86be9['getHeaders'](),'method':_0x4d387f[_0x292766(0x168)]},_0x2c627b=http['request'](_0x3bb7c9,_0x7c2fd5=>{const _0x4e1d99=_0x292766;_0x57968d['equal'](_0x7c2fd5[_0x4e1d99(0x150)],0xc8),_0x7c2fd5['resume'](),_0x7c2fd5['on'](_0x59920e['dFbmq'],()=>{const _0x1ff495=_0x4e1d99;_0x57968d['pass'](_0x1ff495(0x13a));});}),_0x569572=fs[_0x292766(0xe4)](path[_0x292766(0xfa)](__dirname,'..','..',_0x4d387f['ivsGb'])),_0xb1735d=fs[_0x292766(0xe4)](path[_0x292766(0xfa)](__dirname,'..','..',_0x292766(0x15b))),_0x237b01=fs['createReadStream'](path['join'](__dirname,'..','..',_0x4d387f[_0x292766(0x141)]));_0xe86be9[_0x292766(0x104)](_0x292766(0x107),_0x569572),_0xe86be9['append'](_0x292766(0x107),_0xb1735d),_0xe86be9[_0x292766(0x104)](_0x4d387f[_0x292766(0x159)],_0x237b01),pump(_0xe86be9,_0x2c627b,function(_0x5fd5e3){const _0x5c297d=_0x292766;_0x57968d[_0x5c297d(0xea)](_0x5fd5e3,_0x5c297d(0x19e));});});}),test(_0x593ba8(0x1ce),{'skip':process[_0x593ba8(0x1bf)]===_0x593ba8(0x10d)},_0x3ac338=>{const _0x3d0ac2=_0x593ba8,_0x54a690={'bzoKn':_0x3d0ac2(0x146),'UbZlw':_0x3d0ac2(0x13a),'mZupr':_0x3d0ac2(0x19e),'ZuVMn':_0x3d0ac2(0x121),'BuYoe':_0x3d0ac2(0x160),'ceQuh':function(_0x20de38,_0x15ffbb,_0x33c0e5,_0x14e079){return _0x20de38(_0x15ffbb,_0x33c0e5,_0x14e079);}};_0x3ac338[_0x3d0ac2(0x186)](0x4);const _0x5f40f4=Fastify();_0x3ac338[_0x3d0ac2(0x147)](_0x5f40f4[_0x3d0ac2(0x15e)][_0x3d0ac2(0x163)](_0x5f40f4));const _0x65463d={'addToBody':!![]};_0x5f40f4[_0x3d0ac2(0x13c)](multipart,_0x65463d),_0x5f40f4[_0x3d0ac2(0x12f)]('/',function(_0x2ca1e4,_0x41bd9e){const _0x45eaef=_0x3d0ac2;_0x3ac338[_0x45eaef(0x172)](_0x2ca1e4['body'][_0x45eaef(0x160)],['1','2','3']),_0x41bd9e[_0x45eaef(0x1b0)]('ok');}),_0x5f40f4[_0x3d0ac2(0x17a)](0x0,function(){const _0x51be08=_0x3d0ac2,_0x3b5a60={'oDGLf':_0x54a690[_0x51be08(0x176)],'HswMb':_0x54a690[_0x51be08(0x197)]},_0x2ae59f=new FormData(),_0x2e525c={'protocol':_0x51be08(0x1d0),'hostname':_0x54a690[_0x51be08(0x1b1)],'port':_0x5f40f4[_0x51be08(0x16f)][_0x51be08(0x180)]()[_0x51be08(0x1cb)],'path':'/','headers':_0x2ae59f[_0x51be08(0x19c)](),'method':_0x51be08(0xf1)},_0x12553c=http[_0x51be08(0x11d)](_0x2e525c,_0x164689=>{const _0x31de17=_0x51be08;_0x3ac338['equal'](_0x164689['statusCode'],0xc8),_0x164689[_0x31de17(0x12e)](),_0x164689['on'](_0x54a690[_0x31de17(0x1b2)],()=>{_0x3ac338['pass'](_0x3b5a60['oDGLf']);});});_0x2ae59f[_0x51be08(0x104)](_0x51be08(0x160),'1'),_0x2ae59f[_0x51be08(0x104)]('myField','2'),_0x2ae59f[_0x51be08(0x104)](_0x54a690['BuYoe'],'3'),_0x54a690[_0x51be08(0xf8)](pump,_0x2ae59f,_0x12553c,function(_0x3953d1){const _0x1e5470=_0x51be08;_0x3ac338[_0x1e5470(0xea)](_0x3953d1,_0x3b5a60[_0x1e5470(0xe2)]);});});}),test(_0x593ba8(0x105),{'skip':process[_0x593ba8(0x1bf)]===_0x593ba8(0x10d)},_0x224548=>{const _0x58bb99=_0x593ba8,_0x5dc2cd={'XIMLy':_0x58bb99(0x125),'UzSqk':'true','xOJAu':'7bit','kehak':_0x58bb99(0x19e),'vmhvf':_0x58bb99(0x109),'AbUbz':'IQOMi','Plnca':_0x58bb99(0x148),'DkBWA':'BFTFd','RyYBH':'http:','bDhbo':_0x58bb99(0x121),'EWMkw':'myCheck','SGmxZ':function(_0x49020b){return _0x49020b();}};_0x224548[_0x58bb99(0x186)](0x7);const _0x483fbb=_0x5dc2cd[_0x58bb99(0x14a)](Fastify);_0x224548['teardown'](_0x483fbb['close']['bind'](_0x483fbb));const _0x2392fa={'addToBody':!![],'onFile':(_0x53a582,_0x22a9df,_0x4c5c3e,_0x4d1486,_0x36420b)=>{const _0x17ca73=_0x58bb99;_0x224548['equal'](_0x53a582,_0x17ca73(0x107)),_0x22a9df['resume']();}};_0x483fbb[_0x58bb99(0x13c)](multipart,_0x2392fa),_0x483fbb['post']('/',function(_0x39ad62,_0x6d755f){const _0x5df109=_0x58bb99;_0x224548['equal'](_0x39ad62[_0x5df109(0x196)]['myField'],_0x5dc2cd[_0x5df109(0xe0)]),_0x224548[_0x5df109(0xe6)](_0x39ad62['body'][_0x5df109(0x1c6)],_0x5dc2cd[_0x5df109(0x1ac)]),_0x224548[_0x5df109(0x172)](_0x39ad62['body'][_0x5df109(0x107)],[{'data':[],'encoding':_0x5dc2cd[_0x5df109(0x1d1)],'filename':_0x5df109(0x12a),'limit':![],'mimetype':_0x5df109(0x178)}]),_0x6d755f[_0x5df109(0x1b0)]('ok');}),_0x483fbb[_0x58bb99(0x17a)](0x0,function(){const _0x522bc5=_0x58bb99,_0x710a91={'KqsGE':_0x5dc2cd[_0x522bc5(0x173)],'MpZUq':_0x5dc2cd[_0x522bc5(0x16a)],'TOqdQ':_0x5dc2cd[_0x522bc5(0x111)],'Zntti':_0x522bc5(0x146)};if(_0x5dc2cd[_0x522bc5(0x152)]===_0x5dc2cd[_0x522bc5(0x149)])_0x246153[_0x522bc5(0xea)](_0x4b2af8,_0x710a91[_0x522bc5(0x133)]);else{const _0x544be6=new FormData(),_0x2ac125={'protocol':_0x5dc2cd[_0x522bc5(0x1c0)],'hostname':_0x5dc2cd[_0x522bc5(0x124)],'port':_0x483fbb[_0x522bc5(0x16f)]['address']()['port'],'path':'/','headers':_0x544be6[_0x522bc5(0x19c)](),'method':_0x522bc5(0xf1)},_0x57f86=http[_0x522bc5(0x11d)](_0x2ac125,_0x5bed6b=>{const _0x5efc7e=_0x522bc5,_0x427eea={'sEQFP':_0x5efc7e(0x13a)};_0x710a91[_0x5efc7e(0x179)]===_0x710a91['TOqdQ']?(_0x40e231[_0x5efc7e(0xe6)](_0x2b8855[_0x5efc7e(0x150)],0xc8),_0x5ea96e[_0x5efc7e(0x12e)](),_0x4985a4['on'](_0x5efc7e(0x146),()=>{const _0x2a329f=_0x5efc7e;_0x3db076['pass'](_0x2a329f(0x13a));})):(_0x224548[_0x5efc7e(0xe6)](_0x5bed6b[_0x5efc7e(0x150)],0xc8),_0x5bed6b['resume'](),_0x5bed6b['on'](_0x710a91['Zntti'],()=>{const _0x41df72=_0x5efc7e;_0x224548[_0x41df72(0x185)](_0x427eea['sEQFP']);}));}),_0x572d2e=fs[_0x522bc5(0xe4)](filePath);_0x544be6[_0x522bc5(0x104)]('myField','hello'),_0x544be6['append'](_0x5dc2cd[_0x522bc5(0x129)],_0x522bc5(0x1c9)),_0x544be6[_0x522bc5(0x104)](_0x522bc5(0x107),_0x572d2e),pump(_0x544be6,_0x57f86,function(_0x241340){_0x224548['error'](_0x241340,_0x5dc2cd['kehak']);});}});}),test('addToBody\x20option\x20with\x20promise',{'skip':process['platform']==='win32'},_0x3c8073=>{const _0x21e339=_0x593ba8,_0xae13e={'TDcci':_0x21e339(0x107),'ypZOf':_0x21e339(0x12a),'Vdynx':_0x21e339(0x16d),'khQQD':_0x21e339(0x121),'HHxwU':function(_0x4e4a94,_0x1807bd,_0x4fbd13,_0x5b55a9){return _0x4e4a94(_0x1807bd,_0x4fbd13,_0x5b55a9);},'odddB':function(_0x3c4f3e){return _0x3c4f3e();}};_0x3c8073['plan'](0x5);const _0x409603=_0xae13e[_0x21e339(0x191)](Fastify);_0x3c8073[_0x21e339(0x147)](_0x409603[_0x21e339(0x15e)][_0x21e339(0x163)](_0x409603));const _0x3c0a93={'addToBody':!![],'onFile':async(_0x1bc898,_0x585606,_0x36966c,_0x9a017d,_0x2e4c85)=>{const _0x4b43d8=_0x21e339;await new Promise(_0xc15d8c=>setTimeout(_0xc15d8c,0xa)),_0x3c8073[_0x4b43d8(0xe6)](_0x1bc898,_0xae13e[_0x4b43d8(0x1c1)]),_0x585606[_0x4b43d8(0x12e)]();}};_0x409603[_0x21e339(0x13c)](multipart,_0x3c0a93),_0x409603[_0x21e339(0x12f)]('/',function(_0x5e0903,_0x1043a5){const _0x59c55d=_0x21e339;_0x3c8073['match'](_0x5e0903[_0x59c55d(0x196)][_0x59c55d(0x107)],[{'data':[],'encoding':_0x59c55d(0x1c3),'filename':_0xae13e['ypZOf'],'limit':![],'mimetype':_0x59c55d(0x178)}]),_0x1043a5[_0x59c55d(0x1b0)]('ok');}),_0x409603[_0x21e339(0x17a)](0x0,function(){const _0x3ed4bd=_0x21e339,_0x54dc25={'BbmxZ':_0x3ed4bd(0x10a),'pUGkC':function(_0x4b0294,_0x201d8d){return _0x4b0294===_0x201d8d;},'xMEWQ':_0xae13e['Vdynx']},_0x2ba20e=new FormData(),_0x2753bb={'protocol':_0x3ed4bd(0x1d0),'hostname':_0xae13e['khQQD'],'port':_0x409603[_0x3ed4bd(0x16f)][_0x3ed4bd(0x180)]()[_0x3ed4bd(0x1cb)],'path':'/','headers':_0x2ba20e['getHeaders'](),'method':'POST'},_0x4bc17c=http[_0x3ed4bd(0x11d)](_0x2753bb,_0x1af672=>{const _0x1bd909=_0x3ed4bd;_0x3c8073[_0x1bd909(0xe6)](_0x1af672[_0x1bd909(0x150)],0xc8),_0x1af672[_0x1bd909(0x12e)](),_0x1af672['on'](_0x1bd909(0x146),()=>{const _0x110ccd=_0x1bd909;_0x3c8073['pass'](_0x110ccd(0x13a));});}),_0x8ffeea=fs[_0x3ed4bd(0xe4)](filePath);_0x2ba20e[_0x3ed4bd(0x104)](_0x3ed4bd(0x107),_0x8ffeea),_0xae13e['HHxwU'](pump,_0x2ba20e,_0x4bc17c,function(_0x58de5d){const _0x31a1ae=_0x3ed4bd;_0x54dc25[_0x31a1ae(0x17e)](_0x31a1ae(0x18c),_0x54dc25['xMEWQ'])?_0x59d1a1[_0x31a1ae(0xd9)](_0x54dc25[_0x31a1ae(0x167)]):_0x3c8073['error'](_0x58de5d,'client\x20pump:\x20no\x20err');});});}),test(_0x593ba8(0x182),{'skip':process['platform']==='win32'},_0x1c51d0=>{const _0x14b259=_0x593ba8,_0x4237c6={'amJgL':'should\x20not\x20execute\x20the\x20handler','NkLTM':function(_0x546c22,_0xbd4c62){return _0x546c22!==_0xbd4c62;},'tcEXX':_0x14b259(0x139),'lZpmo':_0x14b259(0x1d0),'KvRQJ':_0x14b259(0x121),'ByvbH':_0x14b259(0x107)};_0x1c51d0['plan'](0x3);const _0x19c04b=Fastify();_0x1c51d0[_0x14b259(0x147)](_0x19c04b[_0x14b259(0x15e)][_0x14b259(0x163)](_0x19c04b));const _0x165b85={'addToBody':!![],'onFile':(_0x210619,_0x12bc44,_0x322976,_0x53a431,_0x106744)=>{const _0x553e26=_0x14b259;return new Function('var\x20x\x20=\x2042;\x20return\x20x;')(),Promise[_0x553e26(0x18f)](new Error(_0x553e26(0xeb)));}};_0x19c04b[_0x14b259(0x13c)](multipart,_0x165b85),_0x19c04b[_0x14b259(0x12f)]('/',function(_0x2435d2,_0x5b2872){const _0x221fa5=_0x14b259;_0x1c51d0[_0x221fa5(0xd9)](_0x4237c6['amJgL']);}),_0x19c04b[_0x14b259(0x17a)](0x0,function(){const _0xee2287=_0x14b259,_0x13ba7c=new FormData(),_0x40b864={'protocol':_0x4237c6['lZpmo'],'hostname':_0x4237c6[_0xee2287(0xf2)],'port':_0x19c04b[_0xee2287(0x16f)][_0xee2287(0x180)]()[_0xee2287(0x1cb)],'path':'/','headers':_0x13ba7c[_0xee2287(0x19c)](),'method':_0xee2287(0xf1)},_0x3226c9=http['request'](_0x40b864,_0x31b238=>{const _0x5027ce=_0xee2287,_0x477e17={'rEMSC':'res\x20ended\x20successfully'};_0x4237c6[_0x5027ce(0x1a1)](_0x4237c6[_0x5027ce(0x155)],_0x5027ce(0x123))?(_0x1c51d0[_0x5027ce(0xe6)](_0x31b238[_0x5027ce(0x150)],0x1f4),_0x31b238['resume'](),_0x31b238['on'](_0x5027ce(0x146),()=>{const _0x2611ba=_0x5027ce;_0x1c51d0[_0x2611ba(0x185)](_0x477e17[_0x2611ba(0x171)]);})):_0x2a2718[_0x5027ce(0x185)](_0x5027ce(0x13a));}),_0x3ac09c=fs[_0xee2287(0xe4)](filePath);_0x13ba7c[_0xee2287(0x104)](_0x4237c6[_0xee2287(0xf0)],_0x3ac09c),pump(_0x13ba7c,_0x3226c9,function(_0x172ded){const _0x1af764=_0xee2287;_0x1c51d0[_0x1af764(0xea)](_0x172ded,_0x1af764(0x19e));});});}),test('addToBody\x20with\x20shared\x20schema',{'skip':process['platform']===_0x593ba8(0x10d)},_0x3ba9ad=>{const _0x306640=_0x593ba8,_0xa71895={'AlFVV':_0x306640(0x107),'Pibbz':_0x306640(0x12a),'DSPCN':_0x306640(0x178),'PCVuO':_0x306640(0x17b),'XyKdu':'string','tpJmc':'client\x20pump:\x20no\x20err','YRFhE':_0x306640(0x1d0),'ZPGwI':_0x306640(0x121),'QJmjX':_0x306640(0xf1),'DwGJi':_0x306640(0x160),'GVCOI':function(_0x1a2d9f){return _0x1a2d9f();},'Fwdan':'mySharedSchema'};_0x3ba9ad[_0x306640(0x186)](0x9);const _0x27ec04=_0xa71895['GVCOI'](Fastify);_0x3ba9ad['teardown'](_0x27ec04[_0x306640(0x15e)][_0x306640(0x163)](_0x27ec04)),_0x27ec04['register'](multipart,{'addToBody':!![],'sharedSchemaId':_0xa71895['Fwdan'],'onFile':(_0x33727f,_0x67ef61,_0x49256f,_0xf61fba,_0x919e42)=>{const _0x265cd9=_0x306640;_0x3ba9ad[_0x265cd9(0xe6)](_0x33727f,_0xa71895[_0x265cd9(0x1c2)]),_0x3ba9ad['equal'](_0x49256f,_0xa71895[_0x265cd9(0x126)]),_0x3ba9ad['equal'](_0xf61fba,_0x265cd9(0x1c3)),_0x3ba9ad[_0x265cd9(0xe6)](_0x919e42,_0xa71895[_0x265cd9(0x1c8)]),_0x67ef61[_0x265cd9(0x12e)]();}}),_0x27ec04[_0x306640(0x11f)](()=>{const _0x5b2647=_0x306640,_0x1dca5f={'DIzHI':function(_0x2162d8,_0x315f9e){return _0x2162d8!==_0x315f9e;},'tDywY':_0xa71895['PCVuO']};_0x27ec04[_0x5b2647(0x12f)]('/',{'schema':{'body':{'type':'object','required':[_0x5b2647(0x160),'myFile'],'properties':{'myField':{'type':_0xa71895[_0x5b2647(0x1a6)]},'myFile':{'type':_0x5b2647(0x1ba),'items':_0x27ec04[_0x5b2647(0x14b)](_0x5b2647(0x115))}}}}},function(_0x5d5376,_0x26ed08){const _0x1d7e1d=_0x5b2647;_0x1dca5f[_0x1d7e1d(0x12d)](_0x1d7e1d(0x17b),_0x1dca5f[_0x1d7e1d(0x118)])?_0x3c538d['error'](_0x4bcb57,'client\x20pump:\x20no\x20err'):(_0x3ba9ad['equal'](_0x5d5376[_0x1d7e1d(0x196)][_0x1d7e1d(0x160)],_0x1d7e1d(0x125)),_0x3ba9ad[_0x1d7e1d(0x172)](_0x5d5376[_0x1d7e1d(0x196)][_0x1d7e1d(0x107)],[{'data':[],'encoding':'7bit','filename':'README.md','limit':![],'mimetype':_0x1d7e1d(0x178)}]),_0x26ed08[_0x1d7e1d(0x1b0)]('ok'));});}),_0x27ec04[_0x306640(0x17a)](0x0,function(){const _0xaff6e8=_0x306640,_0x18e7fa={'zoSpB':_0xaff6e8(0x146),'mLHaS':_0xa71895[_0xaff6e8(0x140)]},_0x2c1267=new FormData(),_0x15926c={'protocol':_0xa71895[_0xaff6e8(0x1b4)],'hostname':_0xa71895[_0xaff6e8(0x169)],'port':_0x27ec04[_0xaff6e8(0x16f)]['address']()[_0xaff6e8(0x1cb)],'path':'/','headers':_0x2c1267[_0xaff6e8(0x19c)](),'method':_0xa71895[_0xaff6e8(0x199)]},_0x4479b3=http[_0xaff6e8(0x11d)](_0x15926c,_0x2ed8d0=>{const _0xf3ee4f=_0xaff6e8;_0x3ba9ad['equal'](_0x2ed8d0['statusCode'],0xc8),_0x2ed8d0[_0xf3ee4f(0x12e)](),_0x2ed8d0['on'](_0x18e7fa['zoSpB'],()=>{const _0x4ec98d=_0xf3ee4f;_0x3ba9ad[_0x4ec98d(0x185)](_0x4ec98d(0x13a)),_0x27ec04[_0x4ec98d(0x15e)](),_0x3ba9ad[_0x4ec98d(0x146)]();});}),_0x204b70=fs[_0xaff6e8(0xe4)](filePath);_0x2c1267['append'](_0xa71895[_0xaff6e8(0xf7)],_0xaff6e8(0x125)),_0x2c1267[_0xaff6e8(0x104)](_0xa71895['AlFVV'],_0x204b70),pump(_0x2c1267,_0x4479b3,function(_0x504434){_0x3ba9ad['error'](_0x504434,_0x18e7fa['mLHaS']);});});}),test(_0x593ba8(0x137),{'skip':process[_0x593ba8(0x1bf)]==='win32'},async _0x3c6655=>{const _0x14e769=_0x593ba8,_0x491cbf={'CXjCV':'7bit','tkscK':_0x14e769(0x107),'csIpL':_0x14e769(0x125),'EeLGk':_0x14e769(0x12a),'PYRgE':function(_0x25cc65,_0x54d332){return _0x25cc65+_0x54d332;},'qXsuR':_0x14e769(0x19e),'ZbuzR':_0x14e769(0x13a),'dDkXj':function(_0x4cd214){return _0x4cd214();},'hnYFQ':_0x14e769(0x160),'qjvDv':function(_0x4589d1){return _0x4589d1();},'ewLpp':_0x14e769(0xfc),'QbOee':_0x14e769(0x1d0)},_0x165eb1=_0x491cbf[_0x14e769(0x11a)](Fastify);_0x3c6655[_0x14e769(0x147)](_0x165eb1['close'][_0x14e769(0x163)](_0x165eb1)),await _0x165eb1[_0x14e769(0x13c)](multipart,{'addToBody':!![],'sharedSchemaId':'mySharedSchema','onFile':(_0x1cca4d,_0x134d8a,_0x27422e,_0x55ffb3,_0xd15c84)=>{const _0x8ad2e2=_0x14e769,_0x6ffdc2=_0x8ad2e2(0x114)[_0x8ad2e2(0x188)]('|');let _0x1971a6=0x0;while(!![]){switch(_0x6ffdc2[_0x1971a6++]){case'0':_0x3c6655[_0x8ad2e2(0xe6)](_0x55ffb3,_0x491cbf[_0x8ad2e2(0x1b5)]);continue;case'1':_0x134d8a['resume']();continue;case'2':_0x3c6655['equal'](_0x1cca4d,_0x491cbf[_0x8ad2e2(0x17c)]);continue;case'3':_0x3c6655[_0x8ad2e2(0xe6)](_0x27422e,_0x8ad2e2(0x12a));continue;case'4':_0x3c6655[_0x8ad2e2(0xe6)](_0xd15c84,_0x8ad2e2(0x178));continue;}break;}}}),_0x165eb1[_0x14e769(0x12f)]('/',{'schema':{'body':{'type':_0x14e769(0x127),'required':[_0x491cbf[_0x14e769(0x157)],_0x14e769(0x107)],'properties':{'myField':{'type':_0x491cbf[_0x14e769(0xfb)]},'myFile':{'type':_0x14e769(0x1ba),'items':_0x165eb1['getSchema']('mySharedSchema')}}}}},function(_0x1e1dcd,_0x94d83a){const _0x258b27=_0x14e769;_0x3c6655['equal'](_0x1e1dcd['body'][_0x258b27(0x160)],_0x491cbf[_0x258b27(0x128)]),_0x3c6655[_0x258b27(0x172)](_0x1e1dcd[_0x258b27(0x196)][_0x258b27(0x107)],[{'data':[],'encoding':_0x491cbf[_0x258b27(0x1b5)],'filename':_0x491cbf[_0x258b27(0xf3)],'limit':![],'mimetype':_0x258b27(0x178)}]),_0x94d83a[_0x258b27(0x1b0)]('ok');}),await _0x165eb1['listen'](0x0);const _0x28226a=new FormData(),_0x4d2e01={'protocol':_0x491cbf[_0x14e769(0x19a)],'hostname':'localhost','port':_0x165eb1['server'][_0x14e769(0x180)]()[_0x14e769(0x1cb)],'path':'/','headers':_0x28226a[_0x14e769(0x19c)](),'method':_0x14e769(0xf1)};return eval('_0x491cbf[\'PYRgE\'](1, 1);'),new Promise((_0x1ba7d9,_0x1a25c9)=>{const _0x2e6842=_0x14e769,_0xb0d82={'lzkpi':_0x491cbf['ZbuzR'],'EyJsj':function(_0x411923){const _0x519d3e=_0x5d90;return _0x491cbf[_0x519d3e(0xdc)](_0x411923);},'nVUzW':_0x2e6842(0x146)},_0x3634aa=http['request'](_0x4d2e01,_0x38af14=>{const _0x46aef4=_0x2e6842;_0x3c6655[_0x46aef4(0xe6)](_0x38af14[_0x46aef4(0x150)],0xc8),_0x38af14[_0x46aef4(0x12e)](),_0x38af14['on'](_0xb0d82['nVUzW'],()=>{const _0x2ef209=_0x46aef4;_0x3c6655[_0x2ef209(0x185)](_0xb0d82['lzkpi']),_0x165eb1[_0x2ef209(0x15e)](),_0xb0d82[_0x2ef209(0x1c7)](_0x1ba7d9);});}),_0x33a5bd=fs[_0x2e6842(0xe4)](filePath);_0x28226a[_0x2e6842(0x104)](_0x491cbf[_0x2e6842(0x157)],_0x2e6842(0x125)),_0x28226a[_0x2e6842(0x104)](_0x2e6842(0x107),_0x33a5bd),pump(_0x28226a,_0x3634aa,function(_0x5a7063){const _0xaf245f=_0x2e6842;_0x3c6655['error'](_0x5a7063,_0x491cbf[_0xaf245f(0x12b)]);});});}),test('addToBody\x20with\x20shared\x20schema\x20error',{'skip':process['platform']===_0x593ba8(0x10d)},_0x37c6a4=>{const _0x591476=_0x593ba8,_0x33e798={'iIjCo':_0x591476(0x14f),'nQKir':'myFile','nuLxV':_0x591476(0x160),'eltaB':_0x591476(0xfc),'XAGWc':_0x591476(0x1ba),'AATll':'mySharedSchema'};_0x37c6a4['plan'](0x3);const _0x475ada=Fastify();_0x37c6a4[_0x591476(0x147)](_0x475ada[_0x591476(0x15e)][_0x591476(0x163)](_0x475ada)),_0x475ada['register'](multipart,{'addToBody':!![],'sharedSchemaId':_0x33e798[_0x591476(0x16e)]})[_0x591476(0x187)](()=>{const _0x3873ce=_0x591476,_0x4d921e={'zpgwh':_0x3873ce(0x146)};_0x475ada[_0x3873ce(0x12f)]('/',{'schema':{'body':{'type':_0x3873ce(0x127),'required':[_0x33e798['nuLxV'],_0x33e798['nQKir']],'properties':{'myField':{'type':_0x33e798[_0x3873ce(0x144)]},'myFile':{'type':_0x33e798[_0x3873ce(0x189)],'items':_0x475ada[_0x3873ce(0x14b)](_0x33e798['AATll'])}}}}},function(_0x578ed6,_0xde8e66){const _0x5e4f0c=_0x3873ce;_0x33e798[_0x5e4f0c(0xfe)]!==_0x5e4f0c(0x14f)?_0x329d2c[_0x5e4f0c(0x185)]('res\x20ended\x20successfully'):_0xde8e66[_0x5e4f0c(0x1b0)]('ok');}),_0x475ada['listen'](0x0,function(){const _0x4421fa=_0x3873ce,_0x14c673=new FormData(),_0x120ef5={'protocol':_0x4421fa(0x1d0),'hostname':'localhost','port':_0x475ada[_0x4421fa(0x16f)]['address']()[_0x4421fa(0x1cb)],'path':'/','headers':_0x14c673[_0x4421fa(0x19c)](),'method':_0x4421fa(0xf1)},_0x5471d0=http[_0x4421fa(0x11d)](_0x120ef5,_0x184829=>{const _0x2016eb=_0x4421fa;_0x37c6a4[_0x2016eb(0xe6)](_0x184829[_0x2016eb(0x150)],0x190),_0x184829[_0x2016eb(0x12e)](),_0x184829['on'](_0x4d921e[_0x2016eb(0x103)],()=>{const _0x55fb59=_0x2016eb;_0x37c6a4['pass'](_0x55fb59(0x13a));});}),_0x175ca9=fs[_0x4421fa(0xe4)](filePath);_0x14c673[_0x4421fa(0x104)](_0x33e798[_0x4421fa(0x18d)],_0x175ca9),pump(_0x14c673,_0x5471d0,function(_0x2d760c){const _0x78a3c1=_0x4421fa;_0x37c6a4[_0x78a3c1(0xea)](_0x2d760c,_0x78a3c1(0x19e));});});});}),test(_0x593ba8(0x13b),{'skip':process['platform']==='win32'},_0x8a3a70=>{const _0x56b4f7=_0x593ba8,_0x181c1b={'cqqgI':_0x56b4f7(0x102),'xmBfp':_0x56b4f7(0x190),'tSEzt':_0x56b4f7(0x158),'qmpwU':_0x56b4f7(0x19e),'pnoUt':'http:','inXdy':'localhost','sycwx':_0x56b4f7(0xf1),'EHECB':_0x56b4f7(0x160),'aehGu':_0x56b4f7(0x125),'VXYxv':_0x56b4f7(0x127),'WScGY':_0x56b4f7(0x13e),'sdqJw':_0x56b4f7(0xfc)};_0x8a3a70[_0x56b4f7(0x186)](0x5);const _0x228967=Fastify();_0x8a3a70[_0x56b4f7(0x147)](_0x228967[_0x56b4f7(0x15e)][_0x56b4f7(0x163)](_0x228967));const _0x2b75fd={'addToBody':!![],'sharedSchemaId':_0x56b4f7(0x115),'onFile':(_0x464e2c,_0x3de263,_0x487a10,_0x366956,_0x3da094)=>{const _0x49f200=_0x56b4f7;_0x49f200(0xdf)!==_0x181c1b[_0x49f200(0xff)]?_0x8a3a70['fail'](_0x181c1b['xmBfp']):_0x1025de['fail']('there\x20are\x20not\x20stream');}};_0x228967['register'](multipart,_0x2b75fd),_0x228967[_0x56b4f7(0x12f)]('/',{'schema':{'body':{'type':_0x181c1b[_0x56b4f7(0x170)],'required':[_0x181c1b[_0x56b4f7(0xdd)],_0x181c1b[_0x56b4f7(0x142)]],'properties':{'myField':{'type':_0x181c1b['sdqJw']},'myField2':{'type':'string'}}}}},function(_0x36d0e8,_0x263eb3){const _0x21e83e=_0x56b4f7;_0x8a3a70[_0x21e83e(0xe6)](_0x36d0e8[_0x21e83e(0x196)][_0x21e83e(0x160)],'hello'),_0x8a3a70[_0x21e83e(0xe6)](_0x36d0e8[_0x21e83e(0x196)]['myField2'],_0x181c1b[_0x21e83e(0x18b)]),_0x263eb3[_0x21e83e(0x1b0)]('ok');}),_0x228967[_0x56b4f7(0x17a)](0x0,function(){const _0x270a88=_0x56b4f7,_0x503810=new FormData(),_0xe5edef={'protocol':_0x181c1b['pnoUt'],'hostname':_0x181c1b[_0x270a88(0x1b9)],'port':_0x228967[_0x270a88(0x16f)][_0x270a88(0x180)]()[_0x270a88(0x1cb)],'path':'/','headers':_0x503810[_0x270a88(0x19c)](),'method':_0x181c1b[_0x270a88(0x1d4)]},_0x36914c=http[_0x270a88(0x11d)](_0xe5edef,_0x5b5463=>{const _0x2617a8=_0x270a88;_0x8a3a70[_0x2617a8(0xe6)](_0x5b5463['statusCode'],0xc8),_0x5b5463['resume'](),_0x5b5463['on']('end',()=>{const _0x56ad64=_0x2617a8;_0x8a3a70[_0x56ad64(0x185)]('res\x20ended\x20successfully');});});_0x503810['append'](_0x181c1b['EHECB'],_0x181c1b['aehGu']),_0x503810[_0x270a88(0x104)](_0x270a88(0x13e),_0x270a88(0x158)),pump(_0x503810,_0x36914c,function(_0x1760ba){const _0xcca152=_0x270a88;_0x8a3a70['error'](_0x1760ba,_0x181c1b[_0xcca152(0x1ae)]);});});}),test('addToBody\x20option\x20does\x20not\x20change\x20behaviour\x20on\x20not-multipart\x20request',{'skip':process[_0x593ba8(0x1bf)]===_0x593ba8(0x10d)},_0x1d3b16=>{const _0x2a5f69=_0x593ba8,_0x55a49c={'csUSt':_0x2a5f69(0x125),'iBlRF':_0x2a5f69(0x192),'iJjnW':function(_0x2531fc){return _0x2531fc();}};_0x1d3b16[_0x2a5f69(0x186)](0x2);const _0x2d882f=_0x55a49c[_0x2a5f69(0x15d)](Fastify);_0x1d3b16[_0x2a5f69(0x147)](_0x2d882f[_0x2a5f69(0x15e)][_0x2a5f69(0x163)](_0x2d882f)),_0x2d882f[_0x2a5f69(0x13c)](multipart,{'addToBody':!![]}),_0x2d882f[_0x2a5f69(0x19b)]('/',async(_0x3b0099,_0x4d13f6)=>{const _0x2d3c4c=_0x2a5f69;_0x4d13f6[_0x2d3c4c(0x1b0)](_0x2d3c4c(0x125));}),_0x2d882f['post']('/',function(_0x181d3a,_0x337df2){}),_0x2d882f[_0x2a5f69(0x17a)](0x0,function(){const _0x3911f2=_0x2a5f69;_0x2d882f['inject']({'method':_0x55a49c[_0x3911f2(0xd4)],'url':'/','port':_0x2d882f[_0x3911f2(0x16f)][_0x3911f2(0x180)]()[_0x3911f2(0x1cb)]},(_0x5a111e,_0x4bf0a3)=>{const _0x4bd40a=_0x3911f2;_0x1d3b16['error'](_0x5a111e),_0x1d3b16[_0x4bd40a(0xe6)](_0x4bf0a3['payload'],_0x55a49c[_0x4bd40a(0xf4)]);});});}),test(_0x593ba8(0x10c),_0x19030d=>{const _0x30d684=_0x593ba8,_0x284844={'fdBln':_0x30d684(0x1d0),'UkRVO':_0x30d684(0x143),'DlMoC':function(_0x3177b9,_0xfa8532,_0xcd6dc6,_0x1250d1){return _0x3177b9(_0xfa8532,_0xcd6dc6,_0x1250d1);},'QwDCp':_0x30d684(0xd7),'vuujF':_0x30d684(0x156),'bplaa':'res\x20ended\x20successfully','nkVCH':_0x30d684(0x13f),'SgIfL':'client\x20pump:\x20no\x20err','vDBgz':_0x30d684(0x121),'jeHFf':'POST','tfQIQ':_0x30d684(0x125),'PUjXc':function(_0x31ba74,_0xb89be5,_0x4fea00,_0xf43856){return _0x31ba74(_0xb89be5,_0x4fea00,_0xf43856);},'fJsLF':function(_0x49b36c){return _0x49b36c();}};_0x19030d[_0x30d684(0x186)](0x3);const _0x5b024f=_0x284844[_0x30d684(0x154)](Fastify);_0x19030d[_0x30d684(0x147)](_0x5b024f[_0x30d684(0x15e)]['bind'](_0x5b024f));const _0x1de690={'addToBody':!![],'onFile':(_0x43dc5a,_0x493754,_0x112a3a,_0x55f1d1,_0x4df820)=>{const _0x1b3c7=_0x30d684,_0x16bb43={'EkObl':_0x284844[_0x1b3c7(0x120)],'EIxml':'README.md','PHCWt':_0x284844[_0x1b3c7(0x17f)],'PUtXm':_0x1b3c7(0x107),'DnJuV':function(_0x131c16,_0x5818d0,_0x22dfd9,_0x4cad59){const _0x3ff3f8=_0x1b3c7;return _0x284844[_0x3ff3f8(0x117)](_0x131c16,_0x5818d0,_0x22dfd9,_0x4cad59);}};if(_0x284844[_0x1b3c7(0x161)]!==_0x284844[_0x1b3c7(0x16c)])_0x19030d['fail'](_0x1b3c7(0x190));else{const _0xbd4547={'auBOT':'end'},_0x185ace=new _0x4c0f3e(),_0x3bc2a3={'protocol':_0x16bb43[_0x1b3c7(0x15c)],'hostname':_0x1b3c7(0x121),'port':_0x4d443a[_0x1b3c7(0x16f)]['address']()['port'],'path':'/','headers':_0x185ace[_0x1b3c7(0x19c)](),'method':_0x1b3c7(0xf1)},_0x24dd40=_0x1d6887[_0x1b3c7(0x11d)](_0x3bc2a3,_0xb1d5c2=>{const _0x5944a9=_0x1b3c7;_0x1cd69b[_0x5944a9(0xe6)](_0xb1d5c2[_0x5944a9(0x150)],0xc8),_0xb1d5c2['resume'](),_0xb1d5c2['on'](_0xbd4547[_0x5944a9(0xd8)],()=>{const _0x3d412f=_0x5944a9;_0xb14886[_0x3d412f(0x185)]('res\x20ended\x20successfully');});}),_0x479e1f=_0x29f5e0[_0x1b3c7(0xe4)](_0x11952a[_0x1b3c7(0xfa)](_0x9ce4ae,'..','..',_0x16bb43[_0x1b3c7(0x130)])),_0x118cf6=_0x95ded2[_0x1b3c7(0xe4)](_0x110d21[_0x1b3c7(0xfa)](_0x505d9f,'..','..',_0x1b3c7(0x15b))),_0x6211=_0x2d3987[_0x1b3c7(0xe4)](_0x2f2a9d[_0x1b3c7(0xfa)](_0x1021a8,'..','..',_0x16bb43[_0x1b3c7(0x1bd)]));_0x185ace[_0x1b3c7(0x104)](_0x1b3c7(0x107),_0x479e1f),_0x185ace['append'](_0x16bb43[_0x1b3c7(0x16b)],_0x118cf6),_0x185ace[_0x1b3c7(0x104)](_0x1b3c7(0x107),_0x6211),_0x16bb43[_0x1b3c7(0x1a5)](_0x3e9143,_0x185ace,_0x24dd40,function(_0x52a7e2){const _0x4466b5=_0x1b3c7;_0x28b505[_0x4466b5(0xea)](_0x52a7e2,_0x4466b5(0x19e));});}}};_0x5b024f[_0x30d684(0x13c)](multipart,_0x1de690),_0x5b024f[_0x30d684(0x12f)]('/',function(_0x3e2611,_0x10a710){const _0x1acdd8=_0x30d684;_0x19030d[_0x1acdd8(0xd9)](_0x1acdd8(0x14d));}),_0x5b024f['listen'](0x0,function(){const _0x592d90=_0x30d684,_0x36aa05={'lUQuQ':_0x592d90(0x14d)},_0x370c69=new FormData(),_0x430fb7={'protocol':_0x284844[_0x592d90(0x120)],'hostname':_0x284844[_0x592d90(0x181)],'port':_0x5b024f[_0x592d90(0x16f)][_0x592d90(0x180)]()['port'],'path':'/','headers':_0x370c69[_0x592d90(0x19c)](),'method':_0x284844[_0x592d90(0x112)]},_0x418686=http[_0x592d90(0x11d)](_0x430fb7,_0x7f5771=>{const _0x439054=_0x592d90,_0x594c37={'QczrO':_0x284844[_0x439054(0x132)]};_0x19030d[_0x439054(0xe6)](_0x7f5771['statusCode'],0x1f4),_0x7f5771[_0x439054(0x12e)](),_0x7f5771['on'](_0x439054(0x146),()=>{const _0x38d486=_0x439054;_0x19030d[_0x38d486(0x185)](_0x594c37['QczrO']);});});_0x370c69[_0x592d90(0x104)](_0x592d90(0x160),_0x284844[_0x592d90(0x19d)]),_0x370c69[_0x592d90(0x104)](_0x592d90(0x138),_0x592d90(0x158)),_0x284844['PUjXc'](pump,_0x370c69,_0x418686,function(_0x40733f){const _0x30410a=_0x592d90;_0x284844[_0x30410a(0x100)]!==_0x30410a(0x13f)?_0xfabd1e['fail'](_0x36aa05[_0x30410a(0x15f)]):_0x19030d[_0x30410a(0xea)](_0x40733f,_0x284844['SgIfL']);});});}),test('addToBody\x20with\x20constructor\x20field',_0x36ba12=>{const _0x4a6ff3=_0x593ba8,_0x4d9e4f={'YoFot':'there\x20are\x20not\x20stream','ucgDX':'http:','XDbhA':_0x4a6ff3(0xf1),'AtiLu':'hello','BjxUm':function(_0x2d6bbf){return _0x2d6bbf();}};_0x36ba12[_0x4a6ff3(0x186)](0x3);const _0x3eea40=_0x4d9e4f[_0x4a6ff3(0x1cf)](Fastify);_0x36ba12[_0x4a6ff3(0x147)](_0x3eea40[_0x4a6ff3(0x15e)][_0x4a6ff3(0x163)](_0x3eea40));const _0x4ea446={'addToBody':!![],'onFile':(_0x128f4f,_0x1552d2,_0x577daa,_0x389c34,_0x27f22e)=>{const _0x5b7f5e=_0x4a6ff3;_0x36ba12[_0x5b7f5e(0xd9)](_0x4d9e4f[_0x5b7f5e(0xe7)]);}};_0x3eea40[_0x4a6ff3(0x13c)](multipart,_0x4ea446),_0x3eea40['post']('/',function(_0x1f836f,_0x3d9ec0){const _0x2eea58=_0x4a6ff3;_0x36ba12[_0x2eea58(0xd9)](_0x2eea58(0x14d));}),_0x3eea40[_0x4a6ff3(0x17a)](0x0,function(){const _0x6bedd7=_0x4a6ff3,_0x5161bf={'ddeNm':function(_0x477823){return _0x477823();},'FQgAR':_0x6bedd7(0x13a),'LYfuk':_0x6bedd7(0x131),'wLFDw':_0x6bedd7(0x146)},_0x364039=new FormData(),_0x510e46={'protocol':_0x4d9e4f[_0x6bedd7(0x11c)],'hostname':'localhost','port':_0x3eea40[_0x6bedd7(0x16f)]['address']()['port'],'path':'/','headers':_0x364039['getHeaders'](),'method':_0x4d9e4f['XDbhA']},_0x28af23=http['request'](_0x510e46,_0x49c935=>{const _0x4d08ed=_0x6bedd7;_0x5161bf[_0x4d08ed(0xf9)]!==_0x5161bf[_0x4d08ed(0xf9)]?(_0x47de9f[_0x4d08ed(0x185)]('res\x20ended\x20successfully'),_0x2f2446[_0x4d08ed(0x15e)](),_0x5161bf[_0x4d08ed(0xec)](_0x424830)):(_0x36ba12[_0x4d08ed(0xe6)](_0x49c935[_0x4d08ed(0x150)],0x1f4),_0x49c935[_0x4d08ed(0x12e)](),_0x49c935['on'](_0x5161bf[_0x4d08ed(0x11b)],()=>{const _0x56d989=_0x4d08ed;_0x36ba12[_0x56d989(0x185)](_0x5161bf['FQgAR']);}));});_0x364039[_0x6bedd7(0x104)](_0x6bedd7(0x160),_0x4d9e4f['AtiLu']),_0x364039[_0x6bedd7(0x104)](_0x6bedd7(0x151),_0x6bedd7(0x158)),pump(_0x364039,_0x28af23,function(_0x33eee0){const _0x4b9f7e=_0x6bedd7;_0x36ba12[_0x4b9f7e(0xea)](_0x33eee0,'client\x20pump:\x20no\x20err');});});});