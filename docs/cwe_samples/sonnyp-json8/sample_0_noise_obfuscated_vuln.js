const _0x52b003=_0x3e8d;function _0x172d(){const _0x441de9=['return\x20Object.keys({a:1});','loSNo','azQox','NEED_RETRY','safe','get\x20file\x20header\x20-\x20fail\x20HTTP\x20400','BKgSK','NuLfk','../../../lib/file_util','CPpex','10053','QxVnj','Qfvbg','PkMJm','uploadFile','mSXyY','cn-mockLocation','get\x20file\x20header\x20-\x20fail\x20expired\x20token','1093395RwPyHY','WCACe','resultStatus','Code','https://s3.cn-mockLocation.amazonaws.com.cn','NxjFJ','password','mockPath','equal','aLkgQ','mockIv','iWhHV','client','getObject','hWSxh','proxy\x20configured','PHzfk','qjJss','var\x20x\x20=\x2042;\x20return\x20x;','EvEUL','ExpiredToken','user','3904140oQenzD','port','qkXTB','mockMatDesc','host','gIobU','FlKwJ','sfc-eng-regression/','DTQMq','RENEW_TOKEN','qJFyX','when\x20both\x20endPoint\x20and\x20useS3PReiongalUrl\x20is\x20valid','LFvOt','bBPBh','PKSia','stringify','https://s3.endpoint','sfc-eng-regression/stakeda/test_stg/test_sub_dir/','400','strictEqual','requestHandler','wuOGr','when\x20useS3RegionalURL\x20is\x20only\x20enabled','1087600KEmnda','NoSuchKey','AWS\x20client\x20endpoint\x20testing','jALPZ','RPlQD','WoJXz','vKMUW','6rZDqiZ','getFileHeader','httpAgent','return\x20new\x20Date();','DyvyV','configProvider','oybkZ','sfc-eng-regression','FEgZv','CluEa','vTPfI','Cexeg','mhwse','options','vPyZu','eQfvL','s3path','https','get\x20file\x20header\x20-\x20success','stakeda/test_stg/test_sub_dir/','BXqLS','IhsXo','drEon','SOiZY','Wgqxu','OyBUn','vVggq','then','ikibW','xSXol','unknown','nklzl','gCmUK','dSacM','createClient','Cvmch','fcQYk','sfc-eng-regression///','when\x20endPoint\x20is\x20enabled','EFSYz','forEach','GnQbz','stageInfo','4093255EHGhEQ','S3\x20client','ojdUs','get\x20file\x20header\x20-\x20fail\x20unknown','hostname','wHrle','HeIKv','eUEYb','lQttJ','NFoLY','lLNlM','endpoint','RbsoZ','WyjMW','LkQlA','DTxTZ','QOVQG','extract\x20bucket\x20name\x20and\x20path','zPniD','AYlaO','upload\x20-\x20success','mockDataFile','updateClock();','YhByi','uYHGu','filesystem','mockDigest','qVQTQ','extractBucketNameAndPath','get\x20file\x20header\x20-\x20fail\x20no\x20such\x20key','config','IgcKF','WEWnL','gIxCv','sfc-eng-regression/test_sub_dir/','xYVyi','eMulq','httpsAgent','lnZnu','upload\x20-\x20fail\x20HTTP\x20400','LjUlv','PTAsG','NEED_RETRY_WITH_LOWER_CONCURRENCY','./../../../lib/file_transfer_agent/s3_util','DCfIt','bucketName','UPLOADED','1188530CQuizn','NjhpW','xTFAT','8547917CSEKLF','console.log(\x22timer\x22);','18JXuXOt','bJoIS','eNDAL','s3.endpoint','fMmAU','test_sub_dir/','xEyTz','oJnTR','putObject','giypq','owjeh','917085czINfM','OUupM','127.0.0.1'];_0x172d=function(){return _0x441de9;};return _0x172d();}function _0x3e8d(_0x5a3092,_0x34765f){const _0x172d74=_0x172d();return _0x3e8d=function(_0x3e8dc9,_0x4b8117){_0x3e8dc9=_0x3e8dc9-0xe5;let _0x2a26a7=_0x172d74[_0x3e8dc9];return _0x2a26a7;},_0x3e8d(_0x5a3092,_0x34765f);}(function(_0x5d1a65,_0x3f72f6){const _0x441f7b=_0x3e8d,_0xd97f55=_0x5d1a65();while(!![]){try{const _0x280e19=-parseInt(_0x441f7b(0xf6))/0x1+parseInt(_0x441f7b(0xe6))/0x2+-parseInt(_0x441f7b(0x10b))/0x3+-parseInt(_0x441f7b(0x121))/0x4+parseInt(_0x441f7b(0x16a))/0x5+-parseInt(_0x441f7b(0x13f))/0x6*(-parseInt(_0x441f7b(0xe9))/0x7)+-parseInt(_0x441f7b(0x138))/0x8*(-parseInt(_0x441f7b(0xeb))/0x9);if(_0x280e19===_0x3f72f6)break;else _0xd97f55['push'](_0xd97f55['shift']());}catch(_0x1e51f4){_0xd97f55['push'](_0xd97f55['shift']());}}}(_0x172d,0x9e4aa));const assert=require('assert'),mock=require('mock-require'),SnowflakeS3Util=require('./../../../lib/file_transfer_agent/s3_util')['S3Util'],extractBucketNameAndPath=require(_0x52b003(0x195))[_0x52b003(0x186)],resultStatus=require(_0x52b003(0x101))[_0x52b003(0x10d)];describe(_0x52b003(0x16b),function(){const _0x2454f2=_0x52b003,_0x3785f4={'uYHGu':function(_0x1e4c82,_0x128dc4){return _0x1e4c82(_0x128dc4);},'Qfvbg':'return\x20new\x20Date();','QOVQG':function(_0x72ff2d,_0x330fce){return _0x72ff2d===_0x330fce;},'WEWnL':function(_0x4e4cc5,_0x16abc5,_0x4ad251){return _0x4e4cc5(_0x16abc5,_0x4ad251);},'QxVnj':function(_0x499a8e,_0x2499f1,_0x4ee154){return _0x499a8e(_0x2499f1,_0x4ee154);},'fcQYk':'filesystem','SOiZY':function(_0x47d58c,_0x46ab67,_0x154f9b){return _0x47d58c(_0x46ab67,_0x154f9b);},'FEgZv':_0x2454f2(0x131),'NFoLY':function(_0x46dfa0,_0x20e60f){return _0x46dfa0(_0x20e60f);},'oybkZ':function(_0x42b63f,_0x4a9a0c){return _0x42b63f(_0x4a9a0c);},'lQttJ':_0x2454f2(0x10d),'WyjMW':function(_0x3a69e8,_0x326d03){return _0x3a69e8(_0x326d03);},'OUupM':_0x2454f2(0x102),'PTAsG':function(_0x393b6d,_0x2e9cc9,_0x3d72f1){return _0x393b6d(_0x2e9cc9,_0x3d72f1);},'DCfIt':'return\x20Object.keys({a:1});','qkXTB':function(_0x364702,_0x158814,_0xbdfc35){return _0x364702(_0x158814,_0xbdfc35);},'NxjFJ':_0x2454f2(0x133),'lLNlM':_0x2454f2(0xf5),'xTFAT':_0x2454f2(0x180),'WCACe':function(_0x3c5e51,_0x36ee0c){return _0x3c5e51(_0x36ee0c);},'PKSia':_0x2454f2(0xfd),'LjUlv':function(_0x240c70,_0x12fa85){return _0x240c70!==_0x12fa85;},'Jheuj':function(_0x153475,_0x2fc0b8,_0xc5ed88){return _0x153475(_0x2fc0b8,_0xc5ed88);},'ayKKh':function(_0x2e17ab,_0x2c4375,_0x30bd41){return _0x2e17ab(_0x2c4375,_0x30bd41);},'RqNEJ':function(_0x31e1e5,_0x1aeaa2,_0x4de9ae){return _0x31e1e5(_0x1aeaa2,_0x4de9ae);},'fMmAU':_0x2454f2(0xea),'lnZnu':_0x2454f2(0xfb),'JuYeo':_0x2454f2(0x11d),'FlKwJ':function(_0x13ddd6,_0x3bb612,_0x2c7fc4){return _0x13ddd6(_0x3bb612,_0x2c7fc4);},'nklzl':_0x2454f2(0x111),'WCOIj':'http://snowflake.com','WoJXz':_0x2454f2(0x117),'PHzfk':_0x2454f2(0x169),'YhByi':'snowflake.com','eUEYb':'mockLocation','IgcKF':_0x2454f2(0x112),'zIIqm':_0x2454f2(0x115),'GnQbz':_0x2454f2(0x124),'xEyTz':function(_0x23a73e,_0x33e63e){return _0x23a73e+_0x33e63e;},'OEuVL':function(_0x435e20,_0x43b8d8){return _0x435e20+_0x43b8d8;},'UldTA':_0x2454f2(0x13a),'drEon':function(_0x210438,_0x104189,_0x283a13){return _0x210438(_0x104189,_0x283a13);},'bBPBh':_0x2454f2(0x17b),'wuOGr':_0x2454f2(0x151),'lBcSo':_0x2454f2(0x10a),'eQfvL':_0x2454f2(0x16d),'qVQTQ':function(_0x713679,_0x3eccc2,_0x4e7dc6){return _0x713679(_0x3eccc2,_0x4e7dc6);},'BKgSK':_0x2454f2(0x17e),'AAnzL':'upload\x20-\x20fail\x20expired\x20token','qJFyX':function(_0x3ebc39,_0x2237ae,_0x1454ba){return _0x3ebc39(_0x2237ae,_0x1454ba);},'RJRoq':_0x2454f2(0x191)},_0xeb1a37=_0x2454f2(0x17f),_0x2877b9=_0x3785f4[_0x2454f2(0x171)],_0x4b0b78='mockTable',_0x26f49f=_0x3785f4[_0x2454f2(0x189)],_0x160b40=_0x2454f2(0x184),_0x4e679d='mockKey',_0x538ec3=_0x3785f4['zIIqm'],_0x5e7210=_0x3785f4[_0x2454f2(0x168)],_0x2e9575={'getProxy':function(){const _0x338698=_0x2454f2;return setInterval(_0x338698(0x180),0x3e8),null;}};let _0x13e220,_0x57219f,_0x4c8307;const _0x3e0cc6=_0xeb1a37,_0xa3f6e2={'stageInfo':{'location':_0x2877b9,'path':_0x3785f4[_0x2454f2(0xf1)](_0x3785f4['OEuVL'](_0x4b0b78,'/')+_0x26f49f,'/'),'creds':{}},'SHA256_DIGEST':_0x160b40},_0x565ec5={'key':_0x4e679d,'iv':_0x538ec3,'matDesc':_0x5e7210};before(function(){const _0x3693a2=_0x2454f2,_0x237d64={'RPlQD':function(_0xe42385,_0x1ebbda){const _0x3f19b4=_0x3e8d;return _0x3785f4[_0x3f19b4(0x182)](_0xe42385,_0x1ebbda);},'iWhHV':_0x3785f4[_0x3693a2(0x105)],'DTxTZ':_0x3693a2(0xea)};if(_0x3785f4[_0x3693a2(0x17a)]('knpYg',_0x3693a2(0x16f)))return _0x237d64[_0x3693a2(0x13c)](_0xfa73bd,_0x237d64[_0x3693a2(0x116)])(),_0x102ef5;else _0x3785f4[_0x3693a2(0x18a)](mock,'s3',{'S3':function(_0x259a89){function _0x3839cb(){const _0x197bcb=_0x3e8d,_0x2c84e9={'NjhpW':_0x237d64[_0x197bcb(0x179)],'loSNo':function(_0x28fa00){return _0x28fa00();},'gIobU':'bJoIS'};this['getObject']=function(){const _0x398cc8=_0x197bcb;function _0x3f18f5(){const _0x51dbe3=_0x3e8d;this[_0x51dbe3(0x15a)]=function(_0x26fa99){_0x26fa99({'Metadata':''});};}return setTimeout(_0x2c84e9[_0x398cc8(0xe7)],0x3e8),new _0x3f18f5();},this[_0x197bcb(0x188)]=_0x259a89,this['putObject']=function(){const _0x41c055=_0x197bcb,_0x16bd3f={'CluEa':function(_0x5678d0){const _0x4a7453=_0x3e8d;return _0x2c84e9[_0x4a7453(0xfa)](_0x5678d0);}};if(_0x2c84e9[_0x41c055(0x126)]!==_0x41c055(0xec))_0x41dd2f['PI']*0x2;else{function _0x407d95(){const _0x59d300=_0x41c055,_0x2b81b4={'BXqLS':function(_0xa40632,_0x236049){return _0xa40632===_0x236049;},'DyvyV':function(_0x585413){const _0x2f12ab=_0x3e8d;return _0x16bd3f[_0x2f12ab(0x148)](_0x585413);}};this[_0x59d300(0x15a)]=function(_0x4758e5){const _0x4e37cf=_0x59d300;_0x2b81b4[_0x4e37cf(0x153)](_0x4e37cf(0x170),_0x4e37cf(0x170))?_0x2b81b4[_0x4e37cf(0x143)](_0x4758e5):_0x1146ab[_0x4e37cf(0x130)]({'safe':!![]});};}return setTimeout(_0x2c84e9['NjhpW'],0x3e8),new _0x407d95();}};}return eval('const _0x4568b1 = _0x3e8d;JSON[_0x4568b1(304)]({ \'safe\': !![] });'),new _0x3839cb();}}),_0x3785f4[_0x3693a2(0x104)](mock,_0x3785f4[_0x3693a2(0x163)],{'readFileSync':async function(_0x4aad0c){const _0x554ba7=_0x3693a2;return _0x237d64[_0x554ba7(0x13c)](Function,_0x554ba7(0xf9))(),_0x4aad0c;}}),_0x57219f=require('s3'),_0x4c8307=require(_0x3785f4[_0x3693a2(0x163)]),_0x13e220=new SnowflakeS3Util(_0x2e9575,_0x57219f,_0x4c8307);}),describe(_0x3785f4['UldTA'],async function(){const _0x4e3841=_0x2454f2,_0x46f808=_0xa3f6e2[_0x4e3841(0x169)],_0x4f410c=[{'name':_0x4e3841(0x137),'stageInfo':{..._0x46f808,'useS3RegionalUrl':!![],'endPoint':null},'result':null},{'name':'when\x20useS3RegionalURL\x20and\x20is\x20enabled\x20and\x20domain\x20starts\x20with\x20cn','stageInfo':{..._0x46f808,'useS3RegionalUrl':!![],'endPoint':null,'region':_0x4e3841(0x109)},'result':_0x4e3841(0x10f)},{'name':_0x4e3841(0x165),'stageInfo':{..._0x46f808,'endPoint':_0x4e3841(0xee),'useS3RegionalUrl':![]},'result':_0x3785f4['FEgZv']},{'name':_0x4e3841(0x12c),'stageInfo':{..._0x46f808,'endPoint':'s3.endpoint','useS3RegionalUrl':!![]},'result':_0x3785f4[_0x4e3841(0x147)]}];_0x4f410c[_0x4e3841(0x167)](({name:_0x226254,stageInfo:_0x47412a,result:_0x388893})=>{const _0x116028=_0x4e3841;_0x3785f4[_0x116028(0x156)](it,_0x226254,()=>{const _0x2dfe69=_0x116028,_0x12c9a3=_0x13e220['createClient'](_0x47412a);assert[_0x2dfe69(0x134)](_0x12c9a3[_0x2dfe69(0x188)][_0x2dfe69(0x175)],_0x388893);});});}),_0x3785f4[_0x2454f2(0x155)](it,_0x3785f4[_0x2454f2(0x12e)],async function(){const _0x5767e9=_0x2454f2;let _0x4bd971=extractBucketNameAndPath(_0x5767e9(0x18c));assert[_0x5767e9(0x134)](_0x4bd971[_0x5767e9(0x197)],_0x5767e9(0x146)),assert[_0x5767e9(0x134)](_0x4bd971[_0x5767e9(0x14f)],_0x5767e9(0xf0)),_0x4bd971=_0x3785f4[_0x5767e9(0x173)](extractBucketNameAndPath,_0x5767e9(0x132)),assert['strictEqual'](_0x4bd971[_0x5767e9(0x197)],_0x5767e9(0x146)),assert[_0x5767e9(0x134)](_0x4bd971[_0x5767e9(0x14f)],_0x5767e9(0x152)),_0x4bd971=extractBucketNameAndPath(_0x5767e9(0x128)),assert[_0x5767e9(0x134)](_0x4bd971[_0x5767e9(0x197)],'sfc-eng-regression'),assert[_0x5767e9(0x134)](_0x4bd971[_0x5767e9(0x14f)],''),_0x4bd971=_0x3785f4[_0x5767e9(0x145)](extractBucketNameAndPath,'sfc-eng-regression//'),assert['strictEqual'](_0x4bd971[_0x5767e9(0x197)],_0x5767e9(0x146)),assert[_0x5767e9(0x134)](_0x4bd971[_0x5767e9(0x14f)],'/'),_0x4bd971=extractBucketNameAndPath(_0x5767e9(0x164)),assert[_0x5767e9(0x134)](_0x4bd971[_0x5767e9(0x197)],_0x5767e9(0x146)),assert[_0x5767e9(0x134)](_0x4bd971['s3path'],'//');}),_0x3785f4[_0x2454f2(0x18a)](it,_0x3785f4[_0x2454f2(0x136)],async function(){const _0x444fd7=_0x2454f2;await _0x13e220[_0x444fd7(0x140)](_0xa3f6e2,_0x3e0cc6),assert[_0x444fd7(0x134)](_0xa3f6e2[_0x3785f4[_0x444fd7(0x172)]],resultStatus['UPLOADED']);}),it(_0x3785f4['lBcSo'],async function(){const _0x42cb7c=_0x2454f2;if(_0x3785f4[_0x42cb7c(0xf7)]!==_0x3785f4[_0x42cb7c(0xf7)])return new _0x182d24(_0x42cb7c(0x11d))(),_0x664f3b;else{_0x3785f4[_0x42cb7c(0x193)](mock,'s3',{'S3':function(){const _0x5f4d37=_0x42cb7c,_0x5595d5={'LkQlA':function(_0x29324a,_0x332206){return _0x29324a*_0x332206;}};function _0x5d3275(){const _0xd7cb12=_0x3e8d,_0x36f868={'dSacM':function(_0x4a677f,_0x4f431a){const _0x2b9e3f=_0x3e8d;return _0x5595d5[_0x2b9e3f(0x178)](_0x4a677f,_0x4f431a);}};this[_0xd7cb12(0x118)]=function(){const _0x445a64=_0xd7cb12,_0x1bf236={'EFSYz':_0x445a64(0x11f)};function _0x1de81c(){const _0x391113=_0x445a64;this[_0x391113(0x15a)]=function(){const _0x244c3e=_0x391113,_0x1a163e=new Error();_0x1a163e[_0x244c3e(0x10e)]=_0x1bf236[_0x244c3e(0x166)];throw _0x1a163e;};}return eval('const _0x312928 = _0x445a64;_0x36f868[_0x312928(352)](Math[\'PI\'], 2);'),new _0x1de81c();};}return _0x3785f4[_0x5f4d37(0x177)](Function,_0x5f4d37(0x142))(),new _0x5d3275();}}),_0x57219f=require('s3');const _0x264b8e=new SnowflakeS3Util(_0x2e9575,_0x57219f);await _0x264b8e['getFileHeader'](_0xa3f6e2,_0x3e0cc6),assert['strictEqual'](_0xa3f6e2[_0x3785f4[_0x42cb7c(0x172)]],resultStatus[_0x42cb7c(0x12a)]);}}),it(_0x2454f2(0x187),async function(){const _0x47575d=_0x2454f2,_0x4c4e45={'fldye':function(_0x20e4a4,_0x1c7f7a){return _0x20e4a4(_0x1c7f7a);},'HCBFZ':_0x3785f4[_0x47575d(0x196)],'mSXyY':function(_0x53f3ed,_0x557dfc,_0x445c26){const _0x2de890=_0x47575d;return _0x3785f4[_0x2de890(0x123)](_0x53f3ed,_0x557dfc,_0x445c26);}};if(_0x47575d(0x154)==='HobGW')return _0x4c4e45['fldye'](_0x1805cb,_0x4c4e45['HCBFZ'])(),_0x56793d;else{mock('s3',{'S3':function(){function _0x864d0a(){const _0x42c7c9=_0x3e8d,_0x303db0={'Cvmch':function(_0x1dd149,_0x59244c){return _0x1dd149!==_0x59244c;},'hWSxh':function(_0x411c55,_0x59bda4,_0x575ef7){const _0x4715ac=_0x3e8d;return _0x4c4e45[_0x4715ac(0x108)](_0x411c55,_0x59bda4,_0x575ef7);}};this[_0x42c7c9(0x118)]=function(){const _0x5858c1=_0x42c7c9;if(_0x303db0[_0x5858c1(0x162)](_0x5858c1(0x100),_0x5858c1(0x159))){function _0x31321f(){const _0x5cb1a1=_0x5858c1;this[_0x5cb1a1(0x15a)]=function(){const _0x1d09ca=_0x5cb1a1,_0x28c99a=new Error();_0x28c99a[_0x1d09ca(0x10e)]=_0x1d09ca(0x139);throw _0x28c99a;};}return _0x303db0[_0x5858c1(0x119)](setInterval,_0x5858c1(0x180),0x3e8),new _0x31321f();}else this['config']=_0x18c27c,this[_0x5858c1(0xf3)]=function(){};};}return eval('const _0xe359ab = _0x3e8d;JSON[_0xe359ab(304)]({ \'safe\': !![] });'),new _0x864d0a();}}),_0x57219f=require('s3');const _0x50ee59=new SnowflakeS3Util(_0x2e9575,_0x57219f);await _0x50ee59[_0x47575d(0x140)](_0xa3f6e2,_0x3e0cc6),assert[_0x47575d(0x134)](_0xa3f6e2['resultStatus'],resultStatus['NOT_FOUND_FILE']);}}),it(_0x2454f2(0xfe),async function(){const _0x2eca86=_0x2454f2,_0xe7cd6e={'RbsoZ':function(_0x58c0c2,_0xd3777f){const _0x3eccc0=_0x3e8d;return _0x3785f4[_0x3eccc0(0x17a)](_0x58c0c2,_0xd3777f);}};mock('s3',{'S3':function(){const _0x1a51d1=_0x3e8d,_0x244003={'vPyZu':_0x3785f4[_0x1a51d1(0x110)]};if(_0x3785f4[_0x1a51d1(0x17a)](_0x3785f4['lLNlM'],_0x3785f4[_0x1a51d1(0x174)])){function _0x373383(){const _0x204872=_0x1a51d1,_0x18e194={'aLkgQ':function(_0x4db157,_0x6c85a6){const _0x3137bc=_0x3e8d;return _0xe7cd6e[_0x3137bc(0x176)](_0x4db157,_0x6c85a6);},'PkMJm':'DvUDy'};this[_0x204872(0x118)]=function(){const _0x4cb26d=_0x204872,_0x426894={'jALPZ':_0x244003[_0x4cb26d(0x14d)]};function _0x40b329(){const _0x562f07=_0x4cb26d,_0x4ad297={'OyBUn':_0x562f07(0x15d)};if(_0x18e194[_0x562f07(0x114)](_0x18e194[_0x562f07(0x106)],_0x562f07(0x14b))){const _0x34f56e=new _0x381d06();_0x34f56e[_0x562f07(0x10e)]=_0x4ad297[_0x562f07(0x158)];throw _0x34f56e;}else this['then']=function(){const _0x45f5d5=_0x562f07,_0x56534b=new Error();_0x56534b[_0x45f5d5(0x10e)]=_0x426894[_0x45f5d5(0x13b)];throw _0x56534b;};}return new Function(_0x4cb26d(0x11d))(),new _0x40b329();};}return Function(_0x3785f4[_0x1a51d1(0x105)])(),new _0x373383();}else{const _0x192b8e=new _0x4e415f();_0x192b8e[_0x1a51d1(0x10e)]='400';throw _0x192b8e;}}}),_0x57219f=require('s3');const _0xb9774c=new SnowflakeS3Util(_0x2e9575,_0x57219f,_0x4c8307);await _0xb9774c[_0x2eca86(0x140)](_0xa3f6e2,_0x3e0cc6),assert['strictEqual'](_0xa3f6e2[_0x3785f4['lQttJ']],resultStatus[_0x2eca86(0x12a)]);}),_0x3785f4[_0x2454f2(0x155)](it,_0x3785f4[_0x2454f2(0x14e)],async function(){const _0x1dac2d=_0x2454f2,_0x24ed47={'ECsdJ':_0x3785f4[_0x1dac2d(0xe8)],'dHfvW':function(_0x20b96f,_0x28b3c9){const _0x55234e=_0x1dac2d;return _0x3785f4[_0x55234e(0x10c)](_0x20b96f,_0x28b3c9);}};_0x3785f4['SOiZY'](mock,'s3',{'S3':function(){const _0x54529e=_0x1dac2d,_0x4e2501={'vTPfI':function(_0x5b9396,_0x18a1f0,_0x32108b){return _0x5b9396(_0x18a1f0,_0x32108b);},'DTQMq':_0x24ed47['ECsdJ']};function _0x3aed51(){const _0x445965=_0x3e8d;this[_0x445965(0x118)]=function(){const _0x2e0b67=_0x445965;function _0x981db3(){const _0x5aede8=_0x3e8d;this[_0x5aede8(0x15a)]=function(){const _0x2b6011=_0x5aede8,_0x53c6e9=new Error();_0x53c6e9[_0x2b6011(0x10e)]='unknown';throw _0x53c6e9;};}return _0x4e2501[_0x2e0b67(0x149)](setInterval,_0x4e2501[_0x2e0b67(0x129)],0x3e8),new _0x981db3();};}return _0x24ed47['dHfvW'](Function,_0x54529e(0xf9))(),new _0x3aed51();}}),_0x57219f=_0x3785f4['oybkZ'](require,'s3');const _0x2fadbf=new SnowflakeS3Util(_0x2e9575,_0x57219f,_0x4c8307);await _0x2fadbf[_0x1dac2d(0x140)](_0xa3f6e2,_0x3e0cc6),assert['strictEqual'](_0xa3f6e2[_0x1dac2d(0x10d)],resultStatus['ERROR']);}),_0x3785f4[_0x2454f2(0x185)](it,_0x3785f4[_0x2454f2(0xff)],async function(){const _0x26afe6=_0x2454f2;await _0x13e220['uploadFile'](_0x3e0cc6,_0xa3f6e2,_0x565ec5),assert[_0x26afe6(0x134)](_0xa3f6e2[_0x26afe6(0x10d)],resultStatus[_0x26afe6(0xe5)]);}),it(_0x3785f4['AAnzL'],async function(){const _0x535d35=_0x2454f2,_0x1518a2={'HjKfd':'ExpiredToken'};_0x3785f4['SOiZY'](mock,'s3',{'S3':function(){const _0x136f39=_0x3e8d,_0x27cfe2={'nvyNZ':_0x3785f4[_0x136f39(0x12f)]};if(_0x3785f4[_0x136f39(0x192)]('Ulafa','Ulafa')){const _0x570bb3=new _0x1106cf();_0x570bb3['Code']=_0x1518a2['HjKfd'];throw _0x570bb3;}else{function _0x39d772(){this['putObject']=function(){const _0x5d1519={'ASzBJ':'ExpiredToken'};function _0x1d0688(){const _0x4061b4=_0x3e8d;this[_0x4061b4(0x15a)]=function(){const _0x4c5c13=_0x4061b4,_0x2e88f0=new Error();_0x2e88f0[_0x4c5c13(0x10e)]=_0x5d1519['ASzBJ'];throw _0x2e88f0;};}return eval('JSON[\'stringify\']({ \'safe\': !![] });'),new _0x1d0688();};}return setTimeout(function(){console['log'](_0x27cfe2['nvyNZ']);},0x64),new _0x39d772();}}}),_0x3785f4['Jheuj'](mock,_0x535d35(0x183),{'readFileSync':async function(_0x6e257c){const _0x3cb0db=_0x535d35;if(_0x3785f4[_0x3cb0db(0x192)](_0x3cb0db(0x13e),'vKMUW'))_0x29e436[_0x3cb0db(0x130)]({'safe':!![]});else return new Function('var\x20x\x20=\x2042;\x20return\x20x;')(),_0x6e257c;}}),_0x57219f=require('s3'),_0x4c8307=require('filesystem');const _0xb7216a=new SnowflakeS3Util(_0x2e9575,_0x57219f,_0x4c8307);await _0xb7216a[_0x535d35(0x107)](_0x3e0cc6,_0xa3f6e2,_0x565ec5),assert[_0x535d35(0x134)](_0xa3f6e2[_0x3785f4['lQttJ']],resultStatus[_0x535d35(0x12a)]);}),_0x3785f4[_0x2454f2(0x12b)](it,'upload\x20-\x20fail\x20wsaeconnaborted',async function(){const _0x783e2b=_0x2454f2;_0x3785f4[_0x783e2b(0x104)](mock,'s3',{'S3':function(){const _0xd3ff59={'gtrRb':function(_0x5c7805,_0x4ad552){return _0x3785f4['QOVQG'](_0x5c7805,_0x4ad552);}};function _0x1ef437(){const _0x4571e5=_0x3e8d;_0xd3ff59['gtrRb']('qjJss',_0x4571e5(0x11c))?this[_0x4571e5(0xf3)]=function(){const _0x1e31f5={'AYlaO':function(_0x42e6ff,_0x2a067e){return _0x42e6ff*_0x2a067e;}};function _0x37342f(){const _0x6147d5=_0x3e8d;this[_0x6147d5(0x15a)]=function(){const _0x58a99c=_0x6147d5,_0x2befe8=new Error();_0x2befe8[_0x58a99c(0x10e)]=_0x58a99c(0x103);throw _0x2befe8;};}return eval('const _0x22fba3 = _0x3e8d;_0x1e31f5[_0x22fba3(381)](Math[\'PI\'], 2);'),new _0x37342f();}:_0x11339d[_0x4571e5(0x130)]({'safe':!![]});}return eval('const _0x357150 = _0x3e8d;JSON[_0x357150(304)]({ \'safe\': !![] });'),new _0x1ef437();}}),_0x3785f4['ayKKh'](mock,_0x3785f4[_0x783e2b(0x163)],{'readFileSync':async function(_0x484820){return eval('Math[\'PI\'] * 2;'),_0x484820;}}),_0x57219f=_0x3785f4['uYHGu'](require,'s3'),_0x4c8307=require(_0x783e2b(0x183));const _0x512c1f=new SnowflakeS3Util(_0x2e9575,_0x57219f,_0x4c8307);await _0x512c1f[_0x783e2b(0x107)](_0x3e0cc6,_0xa3f6e2,_0x565ec5),assert[_0x783e2b(0x134)](_0xa3f6e2[_0x783e2b(0x10d)],resultStatus[_0x783e2b(0x194)]);}),_0x3785f4['Jheuj'](it,_0x3785f4['RJRoq'],async function(){const _0x2df035=_0x2454f2,_0x4e2fdf={'xSXol':function(_0x19a15e,_0x4c6e8b,_0x12f65d){return _0x3785f4['RqNEJ'](_0x19a15e,_0x4c6e8b,_0x12f65d);},'giypq':_0x3785f4[_0x2df035(0xef)],'fzwRo':function(_0x3dec80,_0x12da0a){const _0x33f91e=_0x2df035;return _0x3785f4[_0x33f91e(0x177)](_0x3dec80,_0x12da0a);},'YdNlz':_0x2df035(0x142)};if(_0x2df035(0xed)===_0x2df035(0xed)){mock('s3',{'S3':function(){const _0x448cf3=_0x2df035,_0x2ee2b1={'zPniD':function(_0xc7b04b,_0x3741b4){return _0xc7b04b*_0x3741b4;},'DPiUP':function(_0x3e1e50,_0x2247ab){return _0x3e1e50===_0x2247ab;}};if(_0x448cf3(0x15f)!==_0x448cf3(0x15f))return eval('const _0x1621f9 = _0x448cf3;_0x2ee2b1[_0x1621f9(380)](_0x5a36de[\'PI\'], 2);'),_0x5cfb97;else{function _0x4c48d4(){const _0x2e4699=_0x448cf3;this[_0x2e4699(0xf3)]=function(){const _0x26a53c=_0x2e4699,_0x1bddc6={'wcOPT':function(_0x441fc3,_0x23fe32){return _0x2ee2b1['DPiUP'](_0x441fc3,_0x23fe32);},'ojdUs':_0x26a53c(0x157)};function _0x3dcedd(){this['then']=()=>{const _0x543bfc=_0x3e8d;if(_0x1bddc6['wcOPT'](_0x1bddc6[_0x543bfc(0x16c)],'Wgqxu')){const _0x3b531f=new Error();_0x3b531f[_0x543bfc(0x10e)]='400';throw _0x3b531f;}else _0x1299e4({'Metadata':''});};}return eval('const _0x1244bf = _0x26a53c;JSON[_0x1244bf(304)]({ \'safe\': !![] });'),new _0x3dcedd();};}return _0x4e2fdf[_0x448cf3(0x15c)](setTimeout,_0x4e2fdf[_0x448cf3(0xf4)],0x3e8),new _0x4c48d4();}}}),mock(_0x3785f4[_0x2df035(0x163)],{'readFileSync':async function(_0x38d24d){return _0x4e2fdf['fzwRo'](Function,_0x4e2fdf['YdNlz'])(),_0x38d24d;}}),_0x57219f=require('s3'),_0x4c8307=require(_0x3785f4[_0x2df035(0x163)]);const _0x365f3b=new SnowflakeS3Util(_0x2e9575,_0x57219f,_0x4c8307);await _0x365f3b[_0x2df035(0x107)](_0x3e0cc6,_0xa3f6e2,_0x565ec5),assert[_0x2df035(0x134)](_0xa3f6e2[_0x3785f4[_0x2df035(0x172)]],resultStatus[_0x2df035(0xfc)]);}else _0x4cdf41();}),it(_0x2454f2(0x11a),async function(){const _0x11be77=_0x2454f2,_0x46c79b={'CeYFF':_0x11be77(0x14a),'gIxCv':_0x11be77(0x11f),'EvEUL':function(_0x1fb502,_0x39db5a){const _0x21c7f3=_0x11be77;return _0x3785f4[_0x21c7f3(0x17a)](_0x1fb502,_0x39db5a);},'xYVyi':_0x11be77(0x12d)};_0x3785f4[_0x11be77(0x127)](mock,'s3',{'S3':function(_0x46a203){const _0x1fcaa5=_0x11be77,_0x51b6a4={'ikibW':'400'};if(_0x3785f4[_0x1fcaa5(0x190)]===_0x1fcaa5(0xfb)){function _0x4f494a(){const _0x32155c=_0x1fcaa5;if(_0x32155c(0xf2)===_0x46c79b['CeYFF']){const _0x51c19e={'eMulq':_0x51b6a4[_0x32155c(0x15b)]};this[_0x32155c(0x15a)]=()=>{const _0x43b1cb=_0x32155c,_0x164b7f=new _0xa153c8();_0x164b7f[_0x43b1cb(0x10e)]=_0x51c19e[_0x43b1cb(0x18e)];throw _0x164b7f;};}else this[_0x32155c(0x188)]=_0x46a203,this[_0x32155c(0xf3)]=function(){};}return new Function(_0x3785f4['JuYeo'])(),new _0x4f494a();}else{const _0x54159d=_0x4b07f5['createClient'](_0x49087a);_0x7acd83[_0x1fcaa5(0x134)](_0x54159d[_0x1fcaa5(0x188)]['endpoint'],_0x1aba64);}}});const _0x18fdf8={'host':_0x11be77(0xf8),'port':0x1f90,'user':'user','password':_0x3785f4[_0x11be77(0x15e)],'protocol':_0x11be77(0x150)},_0x576ef3={'accessUrl':_0x3785f4['WCOIj'],'getProxy':function(){const _0x543afb=_0x11be77;if(_0x46c79b[_0x543afb(0x11e)]('wcjXV',_0x46c79b[_0x543afb(0x18d)])){const _0x311988={'xQdzS':_0x46c79b[_0x543afb(0x18b)]};this[_0x543afb(0x15a)]=function(){const _0x31a4d1=_0x543afb,_0x4f35d9=new _0x46fa57();_0x4f35d9[_0x31a4d1(0x10e)]=_0x311988['xQdzS'];throw _0x4f35d9;};}else return eval('JSON[\'stringify\']({ \'safe\': !![] });'),_0x18fdf8;}};_0x57219f=_0x3785f4[_0x11be77(0x177)](require,'s3');const _0x58c0df=new SnowflakeS3Util(_0x576ef3,_0x57219f);_0xa3f6e2[_0x3785f4[_0x11be77(0x13d)]]=_0x58c0df[_0x11be77(0x161)](_0xa3f6e2[_0x3785f4[_0x11be77(0x11b)]]);const _0x12aa22=await _0xa3f6e2[_0x11be77(0x117)][_0x11be77(0x188)][_0x11be77(0x135)][_0x11be77(0x144)];assert[_0x11be77(0x113)](_0x12aa22[_0x11be77(0x141)]['options']['host'],_0x18fdf8[_0x11be77(0x125)]),assert[_0x11be77(0x113)](_0x12aa22[_0x11be77(0x141)][_0x11be77(0x14c)]['hostname'],_0x3785f4[_0x11be77(0x181)]),assert[_0x11be77(0x113)](_0x12aa22[_0x11be77(0x141)][_0x11be77(0x14c)][_0x11be77(0x120)],_0x18fdf8['user']),assert[_0x11be77(0x113)](_0x12aa22[_0x11be77(0x141)][_0x11be77(0x14c)][_0x11be77(0x111)],_0x18fdf8['password']),assert[_0x11be77(0x113)](_0x12aa22[_0x11be77(0x141)][_0x11be77(0x14c)]['port'],_0x18fdf8[_0x11be77(0x122)]),assert[_0x11be77(0x113)](_0x12aa22['httpsAgent'][_0x11be77(0x14c)][_0x11be77(0x125)],_0x18fdf8[_0x11be77(0x125)]),assert[_0x11be77(0x113)](_0x12aa22[_0x11be77(0x18f)][_0x11be77(0x14c)][_0x11be77(0x16e)],_0x3785f4[_0x11be77(0x181)]),assert[_0x11be77(0x113)](_0x12aa22[_0x11be77(0x18f)][_0x11be77(0x14c)][_0x11be77(0x120)],_0x18fdf8[_0x11be77(0x120)]),assert['equal'](_0x12aa22[_0x11be77(0x18f)]['options'][_0x11be77(0x111)],_0x18fdf8['password']),assert[_0x11be77(0x113)](_0x12aa22[_0x11be77(0x18f)]['options'][_0x11be77(0x122)],_0x18fdf8[_0x11be77(0x122)]);});});