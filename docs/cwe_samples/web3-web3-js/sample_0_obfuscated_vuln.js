(function(_0x51719d,_0x2e2fbd){var _0xa8348f=_0x2cbf,_0x104f8d=_0x51719d();while(!![]){try{var _0x436e76=-parseInt(_0xa8348f(0x1bd))/0x1+-parseInt(_0xa8348f(0x198))/0x2*(parseInt(_0xa8348f(0x1b2))/0x3)+parseInt(_0xa8348f(0x1a7))/0x4+parseInt(_0xa8348f(0x1aa))/0x5*(-parseInt(_0xa8348f(0x1bb))/0x6)+-parseInt(_0xa8348f(0x1be))/0x7+parseInt(_0xa8348f(0x1b9))/0x8*(parseInt(_0xa8348f(0x19f))/0x9)+parseInt(_0xa8348f(0x1b6))/0xa*(parseInt(_0xa8348f(0x1c6))/0xb);if(_0x436e76===_0x2e2fbd)break;else _0x104f8d['push'](_0x104f8d['shift']());}catch(_0xfa5cd){_0x104f8d['push'](_0x104f8d['shift']());}}}(_0x1c18,0xeff67));function _0x1c18(){var _0x155e6b=['GlVNi','pyxLm','3108392dyxays','egjKg','LGLbw','3167205pGuCjz','aIERl','nHNXs','kgAlF','value','charAt','type','kcDyo','40431GYyLHD','wfoGh','length','Ngnec','11033880WYiVvC','kZroq','field','8696pmUEYl','NSiEp','12LxavyM','unit','1497137eKRWXO','2291625MVZvaD','values','filter','keys','push','tNOEO','CXCvu','reduce','33hNvwnn','context','BJQdg','70sHPejl','_union','nFuXD','BlWCw','map','UPdwr','qPZJs','3798toknKL','OfKDf','forEach','indexOf','acqbJ','LFxEd'];_0x1c18=function(){return _0x155e6b;};return _0x1c18();}import{intersection,union}from'd3-array';import{array,toNumber}from'vega-util';import{$selectionId,And,Or,SelectionId,Union,VlMulti,VlPoint}from'./constants';export function selectionResolve(_0x2f31f1,_0x307983,_0x316d1a,_0x470a33){var _0x325c48=_0x2cbf,_0x42deef={'UPdwr':function(_0xd0f81a,_0x25d02e){return _0xd0f81a(_0x25d02e);},'wfoGh':function(_0x43464f,_0x40998f){return _0x43464f(_0x40998f);},'BlWCw':function(_0x3315d5,_0x2f5764){return _0x3315d5<_0x2f5764;},'NSiEp':function(_0x293681,_0xcd7a62){return _0x293681&&_0xcd7a62;},'eCtgS':function(_0x490163,_0x267c39){return _0x490163!==_0x267c39;},'pyxLm':_0x325c48(0x1a8),'acqbJ':'ypVRG','vjxBr':function(_0x34efdb,_0xdc7889,_0x33a4c4){return _0x34efdb(_0xdc7889,_0x33a4c4);},'Ngnec':_0x325c48(0x1ad),'aIERl':'LdxDT','OfKDf':function(_0x15a36b,_0x87106f){return _0x15a36b(_0x87106f);},'CXCvu':function(_0x150418,_0x1576e9){return _0x150418||_0x1576e9;},'MTajA':_0x325c48(0x19e),'CAzmm':_0x325c48(0x197),'kcDyo':function(_0x5b458a,_0x44c5a1){return _0x5b458a===_0x44c5a1;}},_0x36fd54=this[_0x325c48(0x1c7)]['data'][_0x2f31f1],_0x416086=_0x36fd54?_0x36fd54['values'][_0x325c48(0x1ae)]:[],_0x2dcf7e={},_0x8193fb={},_0x54a55c={},_0x11e56e,_0x395d12,_0x2016b1,_0x456752,_0x2c67b4,_0x296b24,_0x4ed5ca,_0x527a75,_0x26aa51,_0x199e07,_0x5d3156=_0x416086[_0x325c48(0x1b4)],_0x246f29=0x0,_0xfd642b,_0x13510f;for(;_0x246f29<_0x5d3156;++_0x246f29){_0x11e56e=_0x416086[_0x246f29],_0x456752=_0x11e56e[_0x325c48(0x1bc)],_0x395d12=_0x11e56e['fields'],_0x2016b1=_0x11e56e[_0x325c48(0x1bf)];if(_0x42deef[_0x325c48(0x1ba)](_0x395d12,_0x2016b1)){for(_0xfd642b=0x0,_0x13510f=_0x395d12[_0x325c48(0x1b4)];_0xfd642b<_0x13510f;++_0xfd642b){if(_0x42deef['eCtgS'](_0x42deef[_0x325c48(0x1a6)],_0x42deef[_0x325c48(0x1a3)]))_0x2c67b4=_0x395d12[_0xfd642b],_0x4ed5ca=_0x2dcf7e[_0x2c67b4['field']]||(_0x2dcf7e[_0x2c67b4['field']]={}),_0x527a75=_0x4ed5ca[_0x456752]||(_0x4ed5ca[_0x456752]=[]),_0x54a55c[_0x2c67b4[_0x325c48(0x1b8)]]=_0x26aa51=_0x2c67b4[_0x325c48(0x1b0)][_0x325c48(0x1af)](0x0),_0x199e07=ops[_0x26aa51+_0x325c48(0x199)],_0x4ed5ca[_0x456752]=_0x42deef['vjxBr'](_0x199e07,_0x527a75,array(_0x2016b1[_0xfd642b]));else{var _0x3f71fe=_0x42deef[_0x325c48(0x19d)](_0x5dc730,_0x255b49[0x0]),_0x2f56c1=_0x42deef[_0x325c48(0x1b3)](_0x53d9f8,_0x57f444[0x1]);_0x3f71fe>_0x2f56c1&&(_0x3f71fe=_0x17d82b[0x1],_0x2f56c1=_0x55f09c[0x0]);if(!_0x1be09c[_0x325c48(0x1b4)])return[_0x3f71fe,_0x2f56c1];if(_0x10fdcc[0x0]>_0x3f71fe)_0x298ee6[0x0]=_0x3f71fe;if(_0x42deef[_0x325c48(0x19b)](_0x1e8c02[0x1],_0x2f56c1))_0x30572a[0x1]=_0x2f56c1;return _0x437cf5;}}_0x316d1a&&(_0x527a75=_0x8193fb[_0x456752]||(_0x8193fb[_0x456752]=[]),_0x527a75['push'](array(_0x2016b1)[_0x325c48(0x1c5)]((_0x4212b4,_0x5758ab,_0x2788fe)=>(_0x4212b4[_0x395d12[_0x2788fe][_0x325c48(0x1b8)]]=_0x5758ab,_0x4212b4),{})));}else{if(_0x42deef[_0x325c48(0x1b5)]!==_0x42deef[_0x325c48(0x1ab)])_0x2c67b4=SelectionId,_0x296b24=_0x42deef[_0x325c48(0x1a0)]($selectionId,_0x11e56e),_0x4ed5ca=_0x2dcf7e[_0x2c67b4]||(_0x2dcf7e[_0x2c67b4]={}),_0x527a75=_0x4ed5ca[_0x456752]||(_0x4ed5ca[_0x456752]=[]),_0x527a75['push'](_0x296b24),_0x316d1a&&(_0x527a75=_0x8193fb[_0x456752]||(_0x8193fb[_0x456752]=[]),_0x527a75[_0x325c48(0x1c2)]({[SelectionId]:_0x296b24}));else return!_0x584faa['length']?_0x1bebd7:_0xad980d[_0x325c48(0x1c0)](_0x44649a=>_0x4bd80f[_0x325c48(0x1a2)](_0x44649a)>=0x0);}}_0x307983=_0x42deef[_0x325c48(0x1c4)](_0x307983,Union);if(_0x2dcf7e[SelectionId])_0x2dcf7e[SelectionId]=ops[SelectionId+'_'+_0x307983](...Object['values'](_0x2dcf7e[SelectionId]));else{if(_0x42deef['MTajA']!==_0x42deef['CAzmm'])Object[_0x325c48(0x1c1)](_0x2dcf7e)[_0x325c48(0x1a1)](_0x1d4136=>{var _0x908ab2=_0x325c48;_0x2dcf7e[_0x1d4136]=Object['keys'](_0x2dcf7e[_0x1d4136])[_0x908ab2(0x19c)](_0x2db80b=>_0x2dcf7e[_0x1d4136][_0x2db80b])[_0x908ab2(0x1c5)]((_0x542602,_0x3a65d7)=>_0x542602===undefined?_0x3a65d7:ops[_0x54a55c[_0x1d4136]+'_'+_0x307983](_0x542602,_0x3a65d7));});else{if(!_0x54ccbb[_0x325c48(0x1b4)])return _0x5e6a70;var _0x4bf9f2=0x0,_0x4daf2c=_0x28f67f[_0x325c48(0x1b4)];for(;_0x4bf9f2<_0x4daf2c;++_0x4bf9f2)if(_0x4c1c7b[_0x325c48(0x1a2)](_0x2ca0e4[_0x4bf9f2])<0x0)_0x237388[_0x325c48(0x1c2)](_0x45d62c[_0x4bf9f2]);return _0x13c4e8;}}_0x416086=Object[_0x325c48(0x1c1)](_0x8193fb);if(_0x316d1a&&_0x416086['length']){const _0x3c35f5=_0x470a33?VlPoint:VlMulti;_0x2dcf7e[_0x3c35f5]=_0x42deef[_0x325c48(0x1b1)](_0x307983,Union)?{[Or]:_0x416086[_0x325c48(0x1c5)]((_0x19f72e,_0x41f75c)=>(_0x19f72e[_0x325c48(0x1c2)](..._0x8193fb[_0x41f75c]),_0x19f72e),[])}:{[And]:_0x416086[_0x325c48(0x19c)](_0x3bcd24=>({[Or]:_0x8193fb[_0x3bcd24]}))};}return _0x2dcf7e;}function _0x2cbf(_0x319309,_0x526d38){var _0x1c1879=_0x1c18();return _0x2cbf=function(_0x2cbf76,_0x255f31){_0x2cbf76=_0x2cbf76-0x197;var _0x2cca32=_0x1c1879[_0x2cbf76];return _0x2cca32;},_0x2cbf(_0x319309,_0x526d38);}var ops={[SelectionId+'_union']:union,[SelectionId+'_intersect']:intersection,'E_union':function(_0x3e515e,_0x18e41a){var _0x257928=_0x2cbf,_0x41efb7={'kZroq':function(_0x96b939,_0x1a6399){return _0x96b939<_0x1a6399;}};if(!_0x3e515e['length'])return _0x18e41a;var _0x56e954=0x0,_0x2eef85=_0x18e41a[_0x257928(0x1b4)];for(;_0x56e954<_0x2eef85;++_0x56e954)if(_0x41efb7[_0x257928(0x1b7)](_0x3e515e['indexOf'](_0x18e41a[_0x56e954]),0x0))_0x3e515e[_0x257928(0x1c2)](_0x18e41a[_0x56e954]);return _0x3e515e;},'E_intersect':function(_0x4f728e,_0x8955b5){var _0x188d6a=_0x2cbf;return!_0x4f728e[_0x188d6a(0x1b4)]?_0x8955b5:_0x4f728e[_0x188d6a(0x1c0)](_0x13a005=>_0x8955b5[_0x188d6a(0x1a2)](_0x13a005)>=0x0);},'R_union':function(_0x282c65,_0xab05cb){var _0x4f68b8=_0x2cbf,_0x21e09e={'tNOEO':function(_0x13b590,_0x463f13){return _0x13b590(_0x463f13);},'GlVNi':function(_0x1eb501,_0x538512){return _0x1eb501(_0x538512);}},_0x4c1fef=_0x21e09e[_0x4f68b8(0x1c3)](toNumber,_0xab05cb[0x0]),_0x2f32cf=_0x21e09e[_0x4f68b8(0x1a5)](toNumber,_0xab05cb[0x1]);_0x4c1fef>_0x2f32cf&&(_0x4c1fef=_0xab05cb[0x1],_0x2f32cf=_0xab05cb[0x0]);if(!_0x282c65[_0x4f68b8(0x1b4)])return[_0x4c1fef,_0x2f32cf];if(_0x282c65[0x0]>_0x4c1fef)_0x282c65[0x0]=_0x4c1fef;if(_0x282c65[0x1]<_0x2f32cf)_0x282c65[0x1]=_0x2f32cf;return _0x282c65;},'R_intersect':function(_0x4b3b61,_0x2dcddc){var _0x4e4046=_0x2cbf,_0x4cfe0a={'LGLbw':function(_0x478e79,_0x425a7f){return _0x478e79(_0x425a7f);},'nFuXD':function(_0x459c7c,_0x58f36b){return _0x459c7c<_0x58f36b;},'nHNXs':function(_0x3da877,_0x38c5c8){return _0x3da877<_0x38c5c8;},'LFxEd':function(_0x5416ee,_0x33e1e5){return _0x5416ee!==_0x33e1e5;}},_0x45bd66=_0x4cfe0a[_0x4e4046(0x1a9)](toNumber,_0x2dcddc[0x0]),_0x4ae5bb=toNumber(_0x2dcddc[0x1]);_0x45bd66>_0x4ae5bb&&(_0x45bd66=_0x2dcddc[0x1],_0x4ae5bb=_0x2dcddc[0x0]);if(!_0x4b3b61[_0x4e4046(0x1b4)])return[_0x45bd66,_0x4ae5bb];if(_0x4cfe0a[_0x4e4046(0x19a)](_0x4ae5bb,_0x4b3b61[0x0])||_0x4cfe0a[_0x4e4046(0x1ac)](_0x4b3b61[0x1],_0x45bd66)){if(_0x4cfe0a[_0x4e4046(0x1a4)]('dNyPj','dNyPj'))_0x4f6238=_0x1d2c05[0x1],_0x2d78e7=_0x43fb52[0x0];else return[];}else{if(_0x4cfe0a[_0x4e4046(0x1ac)](_0x4b3b61[0x0],_0x45bd66))_0x4b3b61[0x0]=_0x45bd66;if(_0x4b3b61[0x1]>_0x4ae5bb)_0x4b3b61[0x1]=_0x4ae5bb;}return _0x4b3b61;}};