const _0x4d57e9=_0x1870;function _0x1870(_0x107206,_0x5b56d6){const _0x3726c1=_0x3726();return _0x1870=function(_0x18707f,_0x10b1c9){_0x18707f=_0x18707f-0x160;let _0x20d7c7=_0x3726c1[_0x18707f];return _0x20d7c7;},_0x1870(_0x107206,_0x5b56d6);}(function(_0x21026a,_0x270bd3){const _0x5693ca=_0x1870,_0x4912e4=_0x21026a();while(!![]){try{const _0xd7437e=parseInt(_0x5693ca(0x193))/0x1+parseInt(_0x5693ca(0x1b1))/0x2*(-parseInt(_0x5693ca(0x163))/0x3)+parseInt(_0x5693ca(0x182))/0x4+parseInt(_0x5693ca(0x1a7))/0x5*(-parseInt(_0x5693ca(0x199))/0x6)+-parseInt(_0x5693ca(0x186))/0x7*(parseInt(_0x5693ca(0x178))/0x8)+-parseInt(_0x5693ca(0x16e))/0x9+parseInt(_0x5693ca(0x19c))/0xa*(parseInt(_0x5693ca(0x18e))/0xb);if(_0xd7437e===_0x270bd3)break;else _0x4912e4['push'](_0x4912e4['shift']());}catch(_0xbbc985){_0x4912e4['push'](_0x4912e4['shift']());}}}(_0x3726,0x448e7));function _0x3726(){const _0x3ec742=['WfbFN','382dnGsCt','gas','new','value','execute','SBmqy','6126pwiXaP','OQBLo','ksILy','forwarder','inTransaction','IYOcu','returns\x20the\x20full\x20original\x20data\x20when\x20calldata\x20length\x20is\x20less\x20than\x2020\x20bytes\x20(address\x20length)','from','toBN','sender','bytes','4030758UMgyqA','ZCssK','ERC2771Forwarder','signTypedMessage','recognize\x20trusted\x20forwarder','../helpers/eip712','wallet','100000','rnBRU','WMWJw','24nDOdky','when\x20called\x20directly','VwMPb','msgDataShort','generate','domain','methods','recipient','require','msgData','1763592nnIOGP','ERC2771Context','FKgLI','OpenZeppelin','115073RWCvFQ','@openzeppelin/test-helpers','equal','msgSender','ContextMockCaller','ForwardRequest','Data','nonces','33UWCcSP','encodeABI','UiTOp','ERC2771ContextMock','when\x20receiving\x20a\x20relayed\x20call','247352FRzndm','uint48','xZBuo','returns\x20the\x20original\x20sender\x20when\x20calldata\x20length\x20is\x20less\x20than\x2020\x20bytes\x20(address\x20length)','LUHFm','isTrustedForwarder','12516wqQVVT','uint256','returns\x20the\x20relayed\x20transaction\x20original\x20sender','1967720PlKHuc','deadline','toChecksumAddress','data','getPrivateKey','KwcfT','../utils/Context.behavior','osPUw','Sender','DataShort','toString','265DCZKab','chai','context','address','getAddressString','only','JUbGm','contract','signature'];_0x3726=function(){return _0x3ec742;};return _0x3726();}const ethSigUtil=require('eth-sig-util'),Wallet=require('ethereumjs-wallet')['default'],{getDomain,domainType}=require(_0x4d57e9(0x173)),{expectEvent}=require(_0x4d57e9(0x187)),{expect}=require(_0x4d57e9(0x1a8)),ERC2771ContextMock=artifacts[_0x4d57e9(0x180)](_0x4d57e9(0x191)),ERC2771Forwarder=artifacts[_0x4d57e9(0x180)]('ERC2771Forwarder'),ContextMockCaller=artifacts[_0x4d57e9(0x180)](_0x4d57e9(0x18a)),{shouldBehaveLikeRegularContext}=require(_0x4d57e9(0x1a2));contract(_0x4d57e9(0x183),function(_0x57479d){const _0x2e7c90=_0x4d57e9,_0x36ba8b={'WMWJw':function(_0x462954,_0x46bc40){return _0x462954(_0x46bc40);},'wQxJa':function(_0x624b80,_0xcfd688){return _0x624b80(_0xcfd688);},'bbKzA':_0x2e7c90(0x160),'zJHuk':_0x2e7c90(0x16d),'rnBRU':function(_0x25174d,_0x39a579){return _0x25174d(_0x39a579);},'OQBLo':_0x2e7c90(0x18b),'osPUw':function(_0x1c9898,_0x4e0e02,_0x1b4b64){return _0x1c9898(_0x4e0e02,_0x1b4b64);},'JUbGm':_0x2e7c90(0x19b),'UiTOp':function(_0x20206c,_0x20599e,_0x574976){return _0x20206c(_0x20599e,_0x574976);},'ksILy':_0x2e7c90(0x175),'FKgLI':_0x2e7c90(0x18c),'LUHFm':function(_0x317ad5,_0x3a4c72,_0x29b758){return _0x317ad5(_0x3a4c72,_0x29b758);},'WfbFN':'returns\x20the\x20relayed\x20transaction\x20original\x20data','kVCUT':function(_0x3bf019,_0x189127,_0x20cb4d,_0x3f7bb8){return _0x3bf019(_0x189127,_0x20cb4d,_0x3f7bb8);},'CgRsX':_0x2e7c90(0x1a4),'xZBuo':function(_0x2be459,_0x44c877,_0xa3546){return _0x2be459(_0x44c877,_0xa3546);},'IYOcu':_0x2e7c90(0x169),'KwcfT':_0x2e7c90(0x179)},[,_0x48b6d2]=_0x57479d,_0x67498=web3['utils'][_0x2e7c90(0x16b)](0x1)['shln'](0x30)['subn'](0x1)[_0x2e7c90(0x1a6)]();beforeEach(async function(){const _0x626a=_0x2e7c90;this[_0x626a(0x166)]=await ERC2771Forwarder['new'](_0x626a(0x170)),this['recipient']=await ERC2771ContextMock[_0x626a(0x1b3)](this['forwarder']['address']),this['domain']=await _0x36ba8b[_0x626a(0x177)](getDomain,this[_0x626a(0x166)]),this['types']={'EIP712Domain':_0x36ba8b['wQxJa'](domainType,this[_0x626a(0x17d)]),'ForwardRequest':[{'name':_0x626a(0x16a),'type':_0x626a(0x1aa)},{'name':'to','type':_0x626a(0x1aa)},{'name':_0x36ba8b['bbKzA'],'type':_0x626a(0x19a)},{'name':_0x626a(0x1b2),'type':'uint256'},{'name':'nonce','type':_0x626a(0x19a)},{'name':_0x626a(0x19d),'type':_0x626a(0x194)},{'name':_0x626a(0x19f),'type':_0x36ba8b['zJHuk']}]};}),_0x36ba8b[_0x2e7c90(0x197)](it,_0x2e7c90(0x172),async function(){const _0x9a4c5f=_0x2e7c90;expect(await this[_0x9a4c5f(0x17f)][_0x9a4c5f(0x198)](this[_0x9a4c5f(0x166)]['address']));}),context(_0x36ba8b[_0x2e7c90(0x1a1)],function(){const _0x2c8e2a=_0x2e7c90;_0x36ba8b[_0x2c8e2a(0x176)](beforeEach,async function(){const _0x55d54f=_0x2c8e2a;this[_0x55d54f(0x1a9)]=this['recipient'],this['caller']=await ContextMockCaller[_0x55d54f(0x1b3)]();}),shouldBehaveLikeRegularContext(..._0x57479d);}),_0x36ba8b[_0x2e7c90(0x195)](context,_0x2e7c90(0x192),function(){const _0x2ca835=_0x2e7c90,_0x114b06={'VwMPb':_0x36ba8b['ksILy'],'YUoiC':function(_0x43bbe1,_0xfd50b7){return _0x43bbe1(_0xfd50b7);},'XCwxa':_0x36ba8b['CgRsX']};beforeEach(async function(){const _0x49fe9b=_0x1870;this['wallet']=Wallet[_0x49fe9b(0x17c)](),this['sender']=web3['utils'][_0x49fe9b(0x19e)](this[_0x49fe9b(0x174)][_0x49fe9b(0x1ab)]()),this[_0x49fe9b(0x19f)]={'types':this['types'],'domain':this[_0x49fe9b(0x17d)],'primaryType':_0x36ba8b[_0x49fe9b(0x164)]};}),_0x36ba8b[_0x2ca835(0x195)](describe,_0x2ca835(0x189),function(){const _0x55a51d=_0x2ca835;_0x36ba8b[_0x55a51d(0x1a3)](it,_0x36ba8b[_0x55a51d(0x1ad)],async function(){const _0x2e2e9f=_0x55a51d,_0x313d08=this[_0x2e2e9f(0x17f)][_0x2e2e9f(0x1ae)]['methods'][_0x2e2e9f(0x189)]()[_0x2e2e9f(0x18f)](),_0x511075={'from':this[_0x2e2e9f(0x16c)],'to':this[_0x2e2e9f(0x17f)][_0x2e2e9f(0x1aa)],'value':'0','gas':_0x114b06[_0x2e2e9f(0x17a)],'nonce':(await this[_0x2e2e9f(0x166)][_0x2e2e9f(0x18d)](this['sender']))[_0x2e2e9f(0x1a6)](),'deadline':_0x67498,'data':_0x313d08};_0x511075[_0x2e2e9f(0x1af)]=ethSigUtil[_0x2e2e9f(0x171)](this[_0x2e2e9f(0x174)][_0x2e2e9f(0x1a0)](),{'data':{...this[_0x2e2e9f(0x19f)],'message':_0x511075}}),_0x114b06['YUoiC'](expect,await this[_0x2e2e9f(0x166)]['verify'](_0x511075))['to'][_0x2e2e9f(0x188)](!![]);const {tx:_0x437fc0}=await this[_0x2e2e9f(0x166)][_0x2e2e9f(0x161)](_0x511075);await expectEvent[_0x2e2e9f(0x167)](_0x437fc0,ERC2771ContextMock,_0x114b06['XCwxa'],{'sender':this[_0x2e2e9f(0x16c)]});}),_0x36ba8b[_0x55a51d(0x190)](it,_0x55a51d(0x196),async function(){const _0x57501c=_0x55a51d,_0xdd55f5=await ERC2771ContextMock[_0x57501c(0x1b3)](_0x48b6d2),{receipt:_0xe3b8bf}=await _0xdd55f5[_0x57501c(0x189)]({'from':_0x48b6d2});await expectEvent(_0xe3b8bf,_0x57501c(0x1a4),{'sender':_0x48b6d2});});}),describe(_0x2ca835(0x181),function(){const _0x1cbd64=_0x2ca835,_0x34d8ba={'SBmqy':_0x36ba8b[_0x1cbd64(0x165)],'ZCssK':_0x36ba8b[_0x1cbd64(0x184)]};_0x36ba8b[_0x1cbd64(0x197)](it,_0x36ba8b[_0x1cbd64(0x1b0)],async function(){const _0x18bce3=_0x1cbd64,_0x352cd9='42',_0x332c38=_0x18bce3(0x185),_0x1dd1f6=this[_0x18bce3(0x17f)][_0x18bce3(0x1ae)][_0x18bce3(0x17e)][_0x18bce3(0x181)](_0x352cd9,_0x332c38)['encodeABI'](),_0x11fc1d={'from':this['sender'],'to':this[_0x18bce3(0x17f)][_0x18bce3(0x1aa)],'value':'0','gas':_0x34d8ba[_0x18bce3(0x162)],'nonce':(await this[_0x18bce3(0x166)][_0x18bce3(0x18d)](this[_0x18bce3(0x16c)]))[_0x18bce3(0x1a6)](),'deadline':_0x67498,'data':_0x1dd1f6};_0x11fc1d['signature']=ethSigUtil[_0x18bce3(0x171)](this[_0x18bce3(0x174)][_0x18bce3(0x1a0)](),{'data':{...this[_0x18bce3(0x19f)],'message':_0x11fc1d}}),expect(await this[_0x18bce3(0x166)]['verify'](_0x11fc1d))['to'][_0x18bce3(0x188)](!![]);const {tx:_0x55581f}=await this[_0x18bce3(0x166)][_0x18bce3(0x161)](_0x11fc1d);await expectEvent[_0x18bce3(0x167)](_0x55581f,ERC2771ContextMock,_0x34d8ba[_0x18bce3(0x16f)],{'data':_0x1dd1f6,'integerValue':_0x352cd9,'stringValue':_0x332c38});});}),it[_0x2ca835(0x1ac)](_0x36ba8b[_0x2ca835(0x168)],async function(){const _0x576dcd=_0x2ca835,_0x4afe64=await ERC2771ContextMock[_0x576dcd(0x1b3)](_0x48b6d2),{receipt:_0x4758c9}=await _0x4afe64[_0x576dcd(0x17b)]({'from':_0x48b6d2}),_0x2d2134=_0x4afe64[_0x576dcd(0x1ae)]['methods']['msgDataShort']()['encodeABI']();await _0x36ba8b['kVCUT'](expectEvent,_0x4758c9,_0x576dcd(0x1a5),{'data':_0x2d2134});});});});