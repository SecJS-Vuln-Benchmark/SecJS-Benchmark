'use strict';function _0x2949(){const _0x26e27c=['parent','nqHCI','ofISx','uBeCZ','pStPW','foobar','BVdDL','lwycf','SYPUz','GsIZm','qunVr','YuJJp','UYIRM','QIVKB','oQMPa','maps\x20results\x20back\x20to\x20correct\x20document\x20(gh-1444)','tOabL','Update\x20works\x20with\x20populated\x20arrays\x20(gh-602)','gZLbX','fkDJb','KazOV','NestedData','wGLvr','supports\x20`retainNullValues`\x20while\x20supressing\x20_id\x20of\x20subdocument','NHHeM','QFmpo','MaGfP','IPGOX','gnOVN','node.js','ticketCount','GBVcb','2016-01-01','CrpEY','uXXYy','JEaKZ','uploadedBy','ooiWz','RILsD','QmNmN','UIJmi','fan3@learnboost.com','nSGzA','cHHAn','an\x20image','wTGco','YJwoB','FADGx','handles\x20virtual\x20populate\x20with\x20`$elemMatch`\x20in\x20custom\x20match\x20when\x20`foreignField`\x20is\x20an\x20array\x20(gh-10117)','test3','QqNJm','OMhVn','Kobe','XzWKd','vcSLd','SwaOW','kWJye','FKnVC','mhVOp','hKCBO','ACuOq','ABVwl','Jessie','QbRez','XxZzk','people','WiYlg','uylGZ','HPRDF','hsviO','wxynr','qomaf','BqLXA','dKbyu','NVByt','muaft','JxQBF','Problems\x20with\x20TPS\x20Report','tSfPy','Product\x202','nipaq','not\x20here','QFuyB','KbJQm','not\x20failing\x20on\x20null\x20as\x20ref','Purchased','quPgo','Book','populatedVirtualRef','GjdhO','tbJFl','2017-06-01','SDUPX','handles\x20virtual\x20embedded\x20discriminator\x20underneath\x20single\x20nested\x20(gh-6571)','locationRef','NvmUk','DLRxh','NNIHM','ypBgJ','sXTiQ','Leia','mTULF','returns\x20a\x20promise','vxXJH','KRCKp','YEpKA','vqcZO','OxEfF','pvAcV','PXKuW','populating\x20an\x20array\x20of\x20references\x20and\x20filtering','DynRef','virtuals\x20+\x20doc.populate()\x20(gh-5311)','dzjTs','openId','GVFpG','Spztk','mZvDC','KviLw','nationality','nwfuZ','post','UjEKs','xsWIw','developers','fHjKk','YRYXZ','Comment\x20validation\x20failed','ieBLn','populating\x20an\x20array\x20of\x20references\x20with\x20fields\x20selection','lNPVO','JUJWG','justOne\x20option\x20(gh-4263)','dqwCt','EWUCe','XKppK','Fido','HBjdY','FqizR','EXaHF','dEYLO','OFFHl','crqit','pQSJD','MBakE','OOIcD','CWhdq','PLKHl','OxjLu','xIOuu','HYWPg','valueOf','iXKIw','ACecQ','with\x20no\x20results\x20(gh-4284)','xgIqG','The\x20Two\x20Towers','TEAUE','handles\x20perDocumentLimit\x20where\x20multiple\x20documents\x20reference\x20the\x20same\x20populated\x20doc\x20(gh-9906)','supports\x20setting\x20default\x20options\x20in\x20schema\x20(gh-4741)','bkhTZ','agents','leaves\x20Documents\x20within\x20Mixed\x20properties\x20alone\x20(gh-1471)','xcrnq','Schema','JQkYl','new\x20dog','Save','TNrzL','roles$','qBcvW','kTBpl','qgDJH','vgjbC','qtZzT','name\x20members','hSKSe','Has\x20no\x20product','CiMGS','thing5','perDocumentLimit\x20as\x20option\x20to\x20`populate()`\x20method\x20(gh-7318)\x20(gh-9418)','test2','ypQku','kcHUG','SDeOn','virtual\x20is\x20undefined\x20when\x20not\x20populated\x20(gh-7795)','gceoZ','populated','UqhfL','ihRNv','IOtFw','lfnTU','toHexString','Hofkh','User','IVsuu','specialId','FjSDF','building','FlTjG','VjvnM','CEHDo','ifError','IgbSI','gBngn','yJwNV','Ford','wDAoK','Uber','AeDNY','Bill','rEPVn','zuGzV','title','XjWfx','xjwdH','uqbhs','whEKI','BwtnA','Video','data','does\x20not\x20set\x20`justOne`\x20if\x20underneath\x20Mixed\x20(gh-6985)','Etcxd','UHBNi','BuQDq','Products','HdArD','populates\x20embedded\x20discriminator\x20with\x20tied\x20value\x20(gh-10231)','ZVQiI','dhOaf','recordings','qKlCc','HEdRg','someone\x20else','NqznG','PuMvx','okVNa','MbnRx','retains\x20limit\x20when\x20using\x20cursor\x20(gh-5468)','ejlVh','YOcBU','comments.references.item','zqJjF','WviUH','nWgOz','Guns\x20N\x27\x20Roses','oUafl','bwsFu','ZnfGP','KWTnM','auWGR','xHZgV','Luke','elSOh','authorId','QNdDU','rDvvW','Bait\x20&\x20Tackle','NjeCG','yQSJv','people.parent','tnJQo','KtiNR','ihRcD','test1','next','populate\x20single\x20path\x20with\x20numeric\x20path\x20underneath\x20doc\x20array\x20(gh-7273)','values','sxqlW','thing3','OqIgn','HPRzJ','name\x20followers','notEqual','virtual\x20refPath\x20(gh-7848)','Phoenix','ref','populating\x20multiple\x20children\x20of\x20a\x20sub-array\x20at\x20a\x20time','slice','aaron','aFvLJ','1|4|0|2|3','ISDdE','Company','LDGUu','pwsaB','BVZaK','MaTkl','NkOAM','fails\x20if\x20sorting\x20with\x20a\x20doc\x20array\x20subprop\x20(gh-2202)','disabling\x20lean\x20at\x20some\x20populating\x20level\x20reflects\x20on\x20it,\x20and\x20descendants','kkGCJ','nested\x20populate,\x20virtual\x20->\x20normal\x20(gh-4631)','INehT','populate\x20with\x20missing\x20schema\x20(gh-5364)','Garfield','DDykm','songs','JTvfF','WGRJi','arlUb','NEcxE','item1','childDocs','xCAHc','numS3','Card\x202','child.foo','yYaZF','author.doc','IgELF','name\x20-_id','item.id','stringify','WxqHv','Alice','FOgya','cSxMZ','yKEEX','CZGAK','WeoAk','UtYEG','XDtNx','Model$','pnUNk','jtXJa','OQilH','tMbtQ','Woot','OuWwp','fttFG','activity.cluster','bdwFb','test@gmail.com','vwguN','dUxqp','WucGv','XQFRt','gh5858_2','fan4@learnboost.com','xUZID','Lpjlv','iiduZ','FuJqW','yeuhI','wLExN','ZsyNA','TOohB','AYIUR','TNxYr','UtJvB','date','Daniel','MUTRq','AyOnu','VGHqZ','uRpoO','FCJsM','testing','populated\x20Buffer\x20_ids\x20should\x20be\x20requireable','XbIfY','detail','UsCBr','tZgFd','NpmRc','oKfvY','populating\x20subdocuments\x20partially\x20with\x20conditions','DwlyI','slYQs','HPwkD','gh-1055-1','fhsyN','JOwMY','ocDKx','ZVZYL','uri2','match\x20(gh-6787)','Category','gBHOm','Preferences','handles\x20deselecting\x20_id\x20with\x20`perDocumentLimit`\x20(gh-8460)\x20(gh-9175)','new','dogs.trick','count\x20option\x20(gh-4469)\x20(gh-7380)','yqWBK','SulvW','xzqLV','AREYv','UlNgK','ffvRl','PdVIY','BZvoH','iRktW','owkvG','l22','tWiAF','jxwGt','lGhlH','districtId','ojpWq','dwgwW','TPiyR','ANjWX','with\x20findOne','aVANy','rSfgw','jHrcj','VzyCx','vZiJP','qACbw','YxOCX','uNgtC','DTTdN','tXUUw','locationId','kHZGl','kivvO','population\x20and\x20changing\x20a\x20reference','oVCbX','xAFUY','virtual\x20populate\x20with\x20discriminator\x20that\x20has\x20a\x20custom\x20discriminator\x20value\x20(gh-8324)','stXhs','_modelB\x20_rootModel','psSgy','5|1|2|4|3|0|6','owner','comment\x203','OVZbB','DlsFb','MTRMH','xEYjn','call','ex2','QqWhD','ZVPDP','employees','KSdix','HBQpk','xBRPC','OkRdR','SUuXM','pjMRR','FBbIZ','gIeqe','Both','no-op\x20when\x20populating\x20a\x20single\x20nested\x20subdoc\x20underneath\x20a\x20doc\x20array\x20with\x20no\x20ref\x20(gh-11538)\x20(gh-10856)','dtJyD','Peter','fYCqU','Jltki','reverse','CWVlk','houseId','nYDyR','MEGeM','uAyCP','xzyjg','lQsPa','sNYAf','Author1','fan2','WFifS','sort','RnBQE','KDITX','pmbpu','single','hLqIZ','XDtIF','RuDTV','pyxDI','eikPI','level32','OKnyr','cGMSR','LtBlF','zUews','vwepG','RIiRQ','dosee','spAyI','YVoXJ','User\x2003','$set','cursor','taDbj','xqZsN','TodLv','VfJre','bejeah!','databases','GPyoN','Pgvtq','reportReplyCount','rPgNg','HHuSy','virtual\x20populate\x20with\x20multiple\x20`localField`\x20and\x20`foreignField`\x20(gh-6608)','eTVkH','TIVuq','sQROj','daniel.baulig@gmx.de','Group','umMWa','modules.menu','hynyW','Test1','cool','uGzwS','UserDisc','fhYSe','ChKBB','NgMOP','ASbKV','Child\x203','qLyYH','ieSRj','0|1|3|2|4','YmWqf','FrSqp','zyMKy','ZtvSu','jerem@jolicloud.com','aZCmv','wvKYR','3|0|2|4|1|5','eQMoN','VdsHL','assert','TwhOM','allows\x20overwriting\x20localField\x20and\x20foreignField\x20when\x20populating\x20a\x20virtual\x20gh-6963','BTpHL','movies','ecPAe','isObject','NkPIz','CYkkj','ybymF','upVzy','imageName','YHMeN','UlxBH','RoTsa','rXWCT','respects\x20strictPopulate\x20schema\x20option\x20(gh-11290)','postId','rGjjO','SgrGd','Kevin','buQxo','CEpNr','Legacy\x20of\x20the\x20Force:\x20Revelation','faJML','Buffer','xbWcf','users','User\x2001','textName','lxmcK','bFTkU','Slash','YHmRj','bCWUv','woot','vVWxW','in\x20embedded\x20array\x20with\x20sort\x20(gh-10552)','tznAT','zaVts','JheSu','mongodVersion','updateMany','arr2','hBwqJ','Paco','deTNX','IWtvl','iWblN','RxIdX','in\x20embedded\x20array\x20(gh-4928)','UpUIZ','JqICf','level\x203','length','dvhQx','NvZge','Crmtz','HZAEW','GaHVU','fJklO','MLB','klnof','brefs','lean','ANWON','wKFqV','ivXnZ','Mbqcp','7|12|11|4|2|1|8|0|6|15|13|9|14|3|5|10','TCKDm','key','Document','disabling\x20at\x20global\x20level\x20(gh-6546)','qGXNk','arlene','WBCjX','njaDK','-_id','MLXzs','New\x20York','company','EioQW','NNlli','Charlie\x20Hunnam','activity.zones','kFnfd','Nvzpn','deep\x20populate','_rootModel','Ceawr','RVTUL','path','TVWzI','arr1.arr2.item','vcAZI','RFckA','Air\x20Bud','my\x20name','iiQcS','populating\x20an\x20array\x20of\x20refs,\x20slicing,\x20and\x20fetching\x20many\x20(gh-5737)','1|7|3|16|8|15|13|4|12|17|9|6|5|14|0|11|10|2','teams.nested.members','handles\x20populating\x20with\x20discriminators\x20that\x20may\x20not\x20have\x20a\x20ref\x20(gh-4817)','SGjco','ElTaU','push','hFitf','wbSPS','populating\x20an\x20array\x20of\x20refs\x20and\x20fetching\x20many','xjRAS','users_$','ZHKgh','LbmMP','AbyHX','IniTech','aSveT','rhbKF','WOiNk','HkdJV','Notification','OqNEK','thingIds','NBKVW','ltStK','WnjSE','supports\x20ref:\x20Model\x20with\x20virtual\x20populate\x20(gh-10695)','when\x20saving\x20new\x20docs','vmtTU','QNWNP','FaOAS','ObjectId','JBOBE','Anakin','SOAdh','arr','products','deep\x20populate\x20two\x20paths\x20(gh-3974)','toJSON','3|0|1|4|2','an\x20error\x20in\x20single\x20ref\x20population\x20propagates','localField','JGute','123\x20abc\x20st.','WZCpe','base64','qIfUR','dRWbf','Casino\x20Royale','recursive\x20virtuals\x20with\x20`populate`\x20option\x20(gh-11700)','sUrSB','toString','children.toy.kind','blog\x20post\x203','cqVgc','bNFrS','oANGT','createConnection','LRsQh','where','NosHI','cuHOn','gvrcg','stopRemainingOps','YcVSg','Fan\x204','speZB','4|2|0|1|3','gzNsO','virtualRefKey','QJOOz','McDwk','kids.post','NPqOD','PjBVQ','2|1|0|3|4','contributors','rXmEj','OaAEC','BmAGF','Other\x20Test','8035536MRTGQZ','favorites','second\x20interaction','TBCmF','wtGBY','fetNz','xVYZt','the\x20how\x20and\x20why','trLfW','isModified','YIXXH','refPath','gCLYK','SxDkT','strips\x20out\x20not-matched\x20ids\x20when\x20populating\x20a\x20hydrated\x20doc\x20(gh-6435)','both\x20user','toObject','FXMuH','glYsa','toy','BVUhm','populates\x20array\x20of\x20space\x20separated\x20path\x20objs\x20(gh-6414)','LjQox','multiple\x20localFields\x20and\x20foreignFields\x20(gh-5704)','IgrOB','populating\x20with\x20custom\x20model\x20selection\x20(gh-773)','tags','zIaJs','tPgwa','iZNyr','Lord\x20Fluffles','LuxqY','uses\x20getter\x20if\x20one\x20is\x20defined\x20on\x20the\x20localField\x20(gh-6618)','gqMhQ','test\x20org','LZohM','iXaDT','isInit','items.child','seDti','Array\x20populate','Engineering','OnJto','SJfai','YrgCP','virtuals\x20with\x20getters\x20(gh-9343)','Dzbrt','DUbVW','basic\x20populate\x20virtuals','new2','Arnold','HZAYV','mSxqU','Redo','does\x20not\x20exist','accessing\x20populate\x20virtual\x20prop\x20(gh-8198)','UkMVZ','subproperty\x20of\x20a\x20document\x20array','IRqOf','val2','geeBe','XNpCf','FIaRO','mFhfC','qEIpu','bmTNS','eeTTD','count\x20option\x20ignores\x20skip\x20(gh-4469)\x20(gh-8476)','CzNJA','hxnQX','Test3','skUwv','MkNpx','Engineer','vkAkE','aPcHG','gh6273_Purchased','BrRYE','jDFbw','ZDkCb','HcIDt','MnmTF','AmShi','Dnspe','log','hDSut','trick','array\x20underneath\x20non-existent\x20array\x20(gh-6245)','OKOpx','wUjmc','KDQHX','NvYXE','exec','HHEXN','vJJbF','OjiwQ','6674017RmyZZt','attached','OlaFK','replace','QVTWq','EEAZl','TALK','OAqNF','chrome','UfjCb','pUgKA','tags.author','arr1.0.arr2.item','hBLXn','dsliy','YWxpY2U=','WgeiP','wZEke','LyQxM','HyOjV','limit','level\x201','HoGwC','doc','hVsKw','Comment','deep\x20population\x20with\x20refs\x20(gh-3507)','VidHm','with\x20ObjectId\x20_id','gTccO','XWpMT','ExternalSource','existing','NAAfc','XUFme','EBzsf','this\x20is\x20a\x20text','DGccx','split','jTBep','tAzZs','userId','Nat','Berlin-Moscow','target','kATTq','DDxBv','VTYwR','Cool\x20first\x20post','NAzZy','PQoev','tjTgo','dCeOD','lILxE','oZdUc','OlsYc','DhxNr','XyQsn','tnqIR','duration','refs\x20should\x20cast\x20to\x20ObjectId\x20from\x20hexstrings','HfgXH','postedBy','teams','world','lGgCW','zHzfe','JfHDf','JbjYK','Author\x20Name','November\x20Rain','NBA','bWain','cneUC','uwtMu','BbtwT','sections','wdokq','lfNvQ','GVoYc','vmNxt','children.child','130120iawBIh','models','RlSRF','versions','author1','gfuVT','yyAwh','kXlKZ','passing\x20sort\x20options\x20to\x20the\x20populate\x20method','cityId','findOne','Wha\x20wha','kFblv','sourceId','IkGXu','authors','Tom','fun','oQbma','virtuals\x20with\x20justOne\x20false\x20and\x20foreign\x20field\x20not\x20found\x20(gh-5336)','ugYvo','yeknK','jTmSk','Cat','JMIkE','ENtOm','first','ubZdq','roll\x20over','ommGP','hMBrX','JzyjD','gender','age','DHIXm','sXeWu','CpHUp','items.fooType','Matinez','VABmx','LtpFm','eMocE','doesnt\x20insert\x20empty\x20document\x20when\x20populating\x20a\x20path\x20within\x20a\x20non-existent\x20document\x20array\x20(gh-8432)','local\x20test','PDDgz','xHyog','SYXfR','returns\x20an\x20array\x20when\x20count\x20on\x20an\x20array\x20localField\x20(gh-11307)\x20(gh-7573)','Office','Motley\x20Crue','set','member','wDUun','nlmsc','eJtPl','uOUTn','ibGOZ','selectPopulatedPaths','TvfQt','oaihn','TiEtI','YwUgY','cMXGi','catch','rrGcT','XhRAy','children.barId','lmeIa','MRhiJ','xnxWp','10|5|2|0|1|9|6|8|3|4|7','departmentId','GghYW','dbQJk','vxgGb','oPqFN','vonGe','XlXjC','nbAHR','YOUVI','Very\x20cool\x20first\x20post','in\x20embedded\x20array\x20with\x20sort\x20and\x20one\x20result\x20(gh-10552)','author2','First\x20post','yOpLl','angular.js','uVeBU','params','_toJSON','AXlhi','3497045AdiwzB','xzbBi','when\x20paths\x20are\x20not\x20modified','IpCgU','5|2|9|4|0|8|6|10|3|1|7','EzsMt','NwDyU','rQEPF','mpqJQ','rctpA','XIsVk','Test','blog\x20post\x201','cLBmj','EzSPB','12TnArsA','Clean\x20Code','pWxjH','handles\x20embedded\x20discriminator\x20`refPath`\x20with\x20multiple\x20documents\x20(gh-8731)\x20(gh-9153)','data.articles','Security','LlqjS','VonYF','VCcih','Mixed','JikPB','epZxh','kids','reports\x20full\x20path\x20when\x20throwing\x20`strictPopulate`\x20error\x20with\x20deep\x20populate\x20(gh-10923)','1513328qkZnxM','2|9|12|1|10|3|8|13|6|4|5|0|11|7','String','rRhLW','secondaryPreferred','Has\x20product','FCXjT','1337','hQEhv','DabeA','QCJlJ','gmddG','uLKGm','XwjAR','Sbhwr','clone\x20option\x20means\x20identical\x20ids\x20get\x20separate\x20copies\x20of\x20doc\x20(gh-3258)','Rush','1.337e+3','WyWZF','groups','rMaMe','John\x20Smythe','supports\x20populating\x20dotted\x20subpath\x20of\x20a\x20populated\x20doc\x20that\x20has\x20the\x20same\x20id\x20as\x20a\x20populated\x20doc\x20(gh-10005)','with\x20lean','pdxHb','qwuQh','shift2','sGgAs','2011-06-01','body','CtVdn','no-op\x20if\x20populating\x20on\x20a\x20document\x20array\x20with\x20no\x20ref\x20(gh-8946)','nrAdN','JIaov','pre','create','iEWPu','mhdLL','sgNeE','klgNo','outer.inner.flexible.products_$','VrbWX','https://google.com','garfield','events','eomZb','dkZrv','TIVLW','expKp','$where','pull','text','YHnyn','item.type','gpDTR','xnbZn','Bob','YQoaT','otherName','zwYDb','kwIBQ','mgtoU','pApSu','IcgVi','GkoKF','ntwEK','owBNJ','bar','Gckyx','zfIpV','ureGo','KPIBw','alternateProperty','XYWDz','forEach','attaches\x20`_id`\x20property\x20to\x20ref\x20ids\x20(gh-6359)\x20(gh-6115)','lbnLy','productId','XaGNb','mFPwW','ksCEW','str','SyRZX','QosaU','61254490ea89de0004c8f2a0','Kev','departments','acROS','uCDGL','WFtGQ','kPsXz','BMW','xCFvt','1|11|0|3|9|4|7|8|10|5|6|2','keys','TXPXe','UkzmY','ihmcn','svOBn','DhSux','RCmFq','fnuxW','vWLaK','department','.child','T-100','mEBEo','item','wwePt','qLute','loc2','level3','KhXJH','GQQYG','thing2','comments._creator','correctly\x20finds\x20justOne\x20when\x20double-populating\x20underneath\x20an\x20array\x20(gh-6798)','ZSAit','title0','VgDtb','editions','OWuWR','jOSAJ','online','tRyNy','VXArj','gyyvg','mQgIo','BPpui','RvaXE','members','PjqTe','grHNc','yippie','OPJIl','recordings.file','ZsNHJ','VvAvB','refPath\x20with\x20virtual\x20(gh-7341)','yLqyq','Undo','aWVbd','DDigj','arr1.0.arr2.0.item','teacher','janitor','1|2|0|4|3','leKJg','ZFWtw','qjxFe','3|6|2|1|5|4|0','iJOMt','uuJBs','populates\x20single\x20nested\x20discriminator\x20underneath\x20doc\x20array\x20when\x20populated\x20docs\x20have\x20different\x20model\x20but\x20same\x20id\x20(gh-9244)','QeSra','988950TbhdaP','YNqXQ','get','cats@example.com','select','hXRyq','EnSSo','CQODQ','ball','GlPnz','nqxGh','FsIue','KqJfZ','MFthv','Kviur','TJhCc','ixbjP','avoids\x20propagating\x20lean\x20virtuals\x20to\x20children\x20(gh-9592)','FFBai','nQtBB','vREVc','dchds','VYXsK','pwbfz','npSkn','TEhHs','xevLj','obrOy','joe','xZNdR','CgMmX','oYQOm','PBESV','transform\x20with\x20virtual\x20populate,\x20justOne\x20=\x20true\x20(gh-3375)','wLYRI','aaron@learnboost.com','uuid','ITTyn','John\x20Smithe','uwnoT','Introduction\x20to\x20Mongoose','model-B','Post\x202','sJgJV','FryzP','IuRaS','Building\x20a\x20Serverless\x20App\x20with\x20MongoDB\x20Stitch','lAzXS','xDCpV','xpAXb','kXLxj','VnaLx','ZWBKQ','ioSYI','bbBto','GcwwO','jCJbD','BYvXV','MeibF','succeeds\x20with\x20refPath\x20if\x20embedded\x20discriminator\x20has\x20path\x20with\x20same\x20name\x20but\x20no\x20refPath\x20(gh-8452)\x20(gh-8499)','populates\x20an\x20array\x20of\x20objects','ViJIe','aZgzQ','AXrqi','type','NrEbG','VHTDq','band','obMGm','populate','LnPfx','EePZC','MRaIW','throws\x20an\x20error\x20when\x20using\x20limit\x20with\x20perDocumentLimit','CSLzr','deleteModel','invalid\x20comments\x20length\x20for\x20','ZJUcA','zasRr','_id','AfILj','clearTestData','gh8452_ExtendA','handles\x20virtual\x20justOne\x20if\x20it\x20is\x20not\x20set\x20(gh-6988)','deep\x20populate\x20array\x20->\x20array\x20(gh-3954)','arwlm','SRYij','zObrv','GeXfL','IFHpg','zFbkt','MongoDB','WeVUa','PhftV','retainNullValues\x20stores\x20`null`\x20in\x20array\x20if\x20foreign\x20doc\x20not\x20found\x20(gh-8293)','works\x20when\x20embedded\x20discriminator\x20array\x20has\x20populated\x20path\x20but\x20not\x20refPath\x20(gh-8527)','undefined','TdkGV','AMffr','virtual\x20populate\x20in\x20single\x20nested\x20doc\x20(gh-4715)','Vader','vuadX','XdoTB','gh8452_ExtendB','JkWzG','mediaType','supports\x20ref\x20on\x20array\x20containing\x20subdocuments\x20(gh-10856)','VZWRL','w00tabulous','nested.events.nestedLayer.users_$','ykRHP','Spurs','VqKpV','Professional\x20AngularJS','wRwDH','BHOsR','doc2','mrFxO','Second\x20post','VljWm','aAzKk','.lean()\x20makes\x20query\x20result,\x20and\x20all\x20populated\x20fields\x20lean','employees.mostRecentShift','GPxeU','SRHwE','ylVqH','Billy','OrPxk','I\x20have\x203\x20comments','WcoZM','GdJCW','zHEwq','VtyJK','contents','GGbkI','OpFgx','EaGcQ','lbasl','PDhSn','iyPFc','ZUFyP','pSamu','respects\x20schema\x20array\x20even\x20if\x20underlying\x20doc\x20doesnt\x20use\x20array\x20(gh-6908)','items.type','OXLMF','readPreference','xYwZH','wqMap','lsERX','clone\x20with\x20lean\x20creates\x20identical\x20copies\x20from\x20the\x20same\x20document','commentIds','UmRsl','kscCK','JQAlc','NjRBh','JcLWG','uXXWd','comment\x202','KSSUj','update','files.uploadedBy','end','ztXZL','modules','url','OPkcU','Team','set\x20model\x20as\x20ref\x20in\x20schema\x20(gh-7253)','tnZRl','ugvOW','flexible','pSrKS','MbGVx','UamZh','ToEwA','tags.authors.author','Nckmj','mrUaC','rjqYy','cYlSz','LJrBi','MULRO','IkeDN','SiPmC','rvzZb','returned\x20array\x20has\x20toObject()\x20(gh-4656)','David','CbmeH','hhCdX','WVeTB','handles\x20virtual\x20populate\x20with\x20`justOne`\x20underneath\x20document\x20array\x20and\x20sort\x20(gh-12730)\x20(gh-10552)','LbLiv','author.friends','FqFNU','../lib/utils','male','jHbeL','deep\x20populate\x20virtual\x20->\x20conventional\x20(gh-4261)','diEdB','YQOrU','_creator','_modelB._rootModel','new1','aIWqC','locationIds','pBjxQ','zpOIx','.kind','GTX\x201050\x20Ti','KaKUs','WFVUJ','RVeDz','JcUBk','ohaZL','TQQIJ','aId','WTQNs','my_content','UUHdH','oCNLg','CcPxu','TOVkr','TFQTs','NNuaY','The\x20Empire\x20Strikes\x20Back','dxReO','JNTCJ','TKKDk','nQEAz','uMFuO','correct\x20model\x20and\x20justOne\x20when\x20double\x20populating\x20(gh-6978)','NkSmJ','fqfop','babaS','cHDEt','UFcKT','vQPin','insertOne','balls.kind','UVowU','1|3|2|0|5|4','fo-real@objects.r.fun','subPopulate\x20under\x20discriminators\x20race\x20condition\x20(gh-5858)','LVZgR','Duncan','location','nat','FDsRx','2011-06-03','Robinson','COpXI','my\x20string','HUfRj','TcHId','thing1','qJmiV','qkniR','content','BJzpV','WkZIg','XWQEU','qZTTs','NaMNn','items','PtqoK','Child','source\x20array','kuwcb','arefs','ojSgA','fuuwG','kkRaI','ncXyb','_id\x20name\x20company','jiJxv','jLuxP','kids.user','FJspZ','IaVox','imIDR','categories','WIbqz','BDUAz','BZmiG','12|4|8|2|11|6|7|14|9|1|0|3|16|15|13|10|5','qcFzp','rChZw','biSMJ','bzRMA','VVusx','blogPosts','vwQJP','hWbxv','VKfUn','fbUdK','yNszJ','splice','inner','rncnZ','prfXc','tJTyR','oKtHK','moduleId','qyrOH','1|5|3|2|4|0','ActivityTalk','spdxy','ZALyY','UhdOZ','deepStrictEqual','auhJs','required','MPWAw','TAFuX','jSTHF','AYdSL','jUutB','klhlN','heFbK','WjflJ','abc','explicit\x20model\x20option\x20overrides\x20refPath\x20(gh-7273)','concat','javascript','Shaq','yyNQd','PÃ©rez','lSRnC','Child\x202','__t','FLgko','aIGSj','read','John','iokZp','deep\x20population\x20(gh-3103)','transform\x20with\x20virtual\x20populate,\x20justOne\x20=\x20false\x20(gh-3375)','zslrF','ueAjG','FMylr','yNLcK','items.company','Study\x20Plan\x2001','articles','PsZOF','BlogPost','KXfqQ','wLKVu','3|1|4|2|0','eeakV','koLNK','balls.ball','qHtdk','idItem','populates\x20immutable\x20array\x20paths\x20(gh-10159)','pGezB','gh-1055\x20post2','RupHF','mCwtx','populate\x20should\x20work\x20on\x20Buffer\x20_ids\x20(gh-686)','Jlejv','refKey','Qmknd','YAHOL','XmKui','VjEbc','can\x20populate\x20an\x20array\x20property\x20whose\x20name\x20conflicts\x20with\x20array\x20method\x20(gh-7782)','French','collection','nBuCj','level\x203/2','GQFFN','TioQB','tbniJ','discriminator','UnsrG','dAnCh','KfyIb','customValue','fan2@learnboost.com','vNBZv','zBGYg','JavaScript:\x20The\x20Definitive\x20Guide\x20Ebook','was_in_to_json','WoCeS','lesson','select\x20foreignField\x20automatically\x20(gh-4959)','newer','parentId','associatesIds','lBGzo','wqzqZ','VROin','lPgNH','rauchg@gmail.com','jAiKz','bCzhM','strictEqual','RzbxQ','parts.contents.kind','#hero','jlSwe','SPYCc','UMKhR','vQWBq','Ljmxm','LlXyX','emPag','populating\x20an\x20array\x20of\x20references\x20and\x20multi-filtering\x20with\x20field\x20selection','RwGHW','yNiuM','lxHda','STHeT','-_id\x20comment\x20name','FXHNe','Fan\x202','nQxpf','SWpkC','RZTgP','Text','ZhNeU','NFlvy','nestedLayer','hztqB','PgPMH','events.productId','WTajQ','message','IBJcb','pmnrx','an\x20error\x20in\x20array\x20reference\x20population\x20propagates','xACaL','dbsHw','FUnBt','nIaIW','multiple\x20paths\x20(gh-4234)','DaQSF','GLCPN','aRMoj','A\x20New\x20Hope','pVJsI','dCIyi','fJHxq','tLguq','cWmLC','rGlHd','action-figure-1','items.itemDetail','EnhEC','honors\x20top-level\x20match\x20with\x20subPopulation\x20(gh-6451)','menu','hAyUL','UBrQt','GhSMG','FxxmO','Index','xuGCy','zGiKZ','SOTSC','oRoXY','QNPxV','vEiWg','Henry\x20Cavill','EJexY','dyafm','lDkOB','populates\x20virtual\x20of\x20embedded\x20discriminator\x20with\x20dynamic\x20ref\x20(gh-6554)','YoytV','gllWM','zKTdz','HXhWX','ybVdo','uBywR','wtlZM','wBQyC','BYwKU','Gteil','uGfvz','lpCwr','EEAuv','CryEB','ruXdp','lLdGg','SQFaI','juFla','wiyHv','sDkBd','hLHLX','oNBvl','qQMvK','dbAEM','The\x20Tiger\x20That\x20Isn\x27t','\x20is\x20an\x20array','dsHfc','UbvIx','bBPLb','UFSAx','populate\x20with\x20missing\x20schema\x20(gh-5460)','lean\x20with\x20single\x20result\x20and\x20no\x20justOne\x20(gh-4288)','kqcVh','rMIwO','selectPopulatedFields\x20(gh-5669)','HEGWK','rYFJW','mLGMO','arr1','things','UdhyO','identifiers.artists.artist','user\x202','seam','handles\x20populating\x20embedded\x20discriminators\x20with\x20`refPath`\x20when\x20none\x20of\x20the\x20subdocs\x20have\x20`refPath`\x20(gh-8553)','user','FHSVH','gh-2176','NdZrc','Spain','tLODQ','$parent','comment\x201','justOne\x20+\x20lean\x20(gh-6234)','yXwVX','children\x20childCount','GdRcm','Mastering\x20Async/Await','uses\x20`Model`\x20by\x20default\x20when\x20doing\x20`Model.populate()`\x20on\x20a\x20POJO\x20(gh-10978)','handles\x20virtual\x20populate\x20of\x20an\x20embedded\x20discriminator\x20nested\x20path\x20(gh-6488)\x20(gh-8173)','Aravis','JxkYY','JmcQf','wdrDa','hzyvr','TuuhG','vspOf','IVDxE','sessions','updateOne','DCYDs','comments.author','NQFUo','yMAhp','lean\x20populate\x20underneath\x20array\x20(gh-7052)','children','whVFv','Darth\x20Vader','PoMAE','mamdC','ERJXD','uiIcW','tLckl','Woot\x20woot','Valeri\x20Karpov','tasks','wGmNM','ExternalSourceA','doc1','constructor','DeEEg','Idris\x20Elba','ovmOf','qNWYu','xCkRC','MegNd','tOjiY','DsNLH','sets\x20populate\x20virtual\x20to\x20empty\x20array\x20if\x20local\x20field\x20empty\x20(gh-8230)','NNJJm','urRih','Hqijf','Kurt','UybDy','xJESr','hViPt','kind','ymtCj','virtualField','__v','csaZE','MiubE','filter','rejects','Chris\x20Hemsworth','ELQxP','eWRrY','newest','sKZAK','qaRMh','4|2|1|3|0','GPtSf','ZUmWE','CPLXz','administrators','DPUJG','WikhF','TuKfT','a\x20comment','fSrym','depopulate','author\x20','fmaSa','eJpEl','use\x20an\x20object','IodJz','updates\x20top-level\x20populated()\x20when\x20pushing\x20elements\x20onto\x20a\x20document\x20array\x20with\x20single\x20populated\x20path\x20(gh-8247)\x20(gh-8265)','VTxZR','firstName','zEJOq','hJkQL','VbJfI','enizH','WIuTT','dZPhU','MwErv','Cool\x20second\x20post','kQbgm','uuGJu','bAyEA','ZXuHM','enabling\x20lean\x20at\x20some\x20populating\x20level\x20reflects\x20on\x20it,\x20and\x20descendants','shift3','dMeCG','jgvtz','YNgdN','epyXP','Query','hxrSk','uhiNe','zvSZt','uFfmZ','QZVnD','RAPwm','yTCYu','deep\x20populate\x20virtual\x20->\x20virtual\x20(gh-4278)','favoritedBy','correct\x20limit\x20with\x20populate\x20(gh-7318)','sKNVK','qKiDh','HgWuS','znRTZ','MZoYw','GbJjK','populating\x20nested\x20discriminator\x20path\x20(gh-5970)','sets\x20not-found\x20values\x20to\x20null\x20for\x20paths\x20that\x20are\x20not\x20in\x20the\x20schema\x20(gh-9913)','cvllB','haltm','pwusU','Man\x20of\x20Steel','azXeQ','aGRLy','_doc','fbkbc','findById','onsaK','in\x20a\x20subdocument','ZRrBq','rajCH','sPEJs','minDate','vkCKj','SmkMB','aQVoW','ZUuoa','sSGUS','hyYAC','BGXgo','with\x20no\x20results\x20and\x20justOne\x20(gh-4284)','value','ZTbaX','BLjmL','Jyesj','parent.id','ZwrsJ','Report','createdBy','AEeud','Movie','rldtr','taBsw','vcyXh','populating\x20subdocuments\x20with\x20array\x20including\x20nulls','DVkjZ','Ilxvx','mfPer','Person','indexOf','JSKVU','UBmvL','with\x20functions\x20for\x20ref\x20(gh-5602)','ftfTf','ubGZn','bGETI','cWceU','ayFPj','stBuq','bnNhk','alice','gfpBs','zuStt','PIsPr','piQBB','kTQIQ','zones','demo','kiEGY','green\x20eggs\x20and\x20ham','John\x20Doe','Owyul','User\x201','populating\x20an\x20array\x20of\x20references\x20and\x20multi-filtering','QtHAs','UQGMT','GgEAq','with\x20find','username','ayHwj','juFtJ','auto\x20select\x20populated\x20fields\x20(gh-5669)\x20(gh-5685)','tFZoH','TtaeE','Diwmd','oBQgr','apply','VRGvk','KSiyg','2015-06-01','Tashbaan','XqZwk','EXnGv','5|1|0|4|3|2','EPYYn','hBHXU','QAEVV','foo','SriKK','dMUHV','SchemaTypes','JInZF','iHlEu','culAr','gEBmr','mBKYj','XWFFG','vQNxV','QpTLH','kGNxz','FbWCu','eqiTp','wgGsE','kBpZs','tagId','findByIdAndUpdate','parts','eQxWr','$skipDiscriminatorCheck','RDCRX','when\x20paths\x20are\x20modified','An\x20Overview\x20of\x20BigInt\x20in\x20Node.js','blog\x201','NesdP','population\x20of\x20single\x20oid\x20with\x20partial\x20field\x20selection\x20and\x20filter','populating\x20a\x20single\x20ref','RJalX','eyGSV','Other\x20Both','WqFcI','place','xkQEC','uLDFJ','KVHwo','Guest','vSHeR','body1','rtkjP','new\x20cat','blog\x20post\x202','jxezy','OTVED','WBaLL','products_$','bzVub','BHZvN','EZMwB','skZZP','eQpJy','vhWCb','FdSmv','gHhXL','DJbjm','LoSaM','itemDetail','rKLep','BZcJk','uoHwl','sPlSr','num','getOwnPropertyNames','fqFLe','destination','Zildjian','qzPuD','supervisorId','contributors.author','model','zErCd','isArray','Reynholm\x20Industrie','LMIGq','KbyhA','comments._idontexist','XuujU','removeVirtual','FfeOM','JnSbt','uOzlg','JfdBn','gSTom','ySTNW','RnOCo','commentsIds','xWwPE','docArr','mary','linkedId','MZZUb','QdQGT','Sets\x20the\x20populated\x20document\x27s\x20parent()\x20(gh-8092)','JWsmL','stTOQ','I\x20have\x20a\x20user\x20ref','gQphb','does\x20not\x20set\x20`populated()`\x20until\x20populate\x20is\x20done\x20(gh-5564)','delete','izyhr','YBPRy','add','iozAT','deepEqual','mmCJC','Amy\x20Adams','SfyCJ','BAoxZ','JHHtD','iUcer','HOtKv','level\x204','gh5858_1','virtual','Accounting','pgewq','handles\x20refPath\x20on\x20discriminator\x20when\x20populating\x20top-level\x20model\x20(gh-5109)','image','AzgVt','DIdEe','YngDm','comments','ex1','stories','one','wFbUz','pGlZv','JpwMV','aggregate','tMhOp','nested\x20virtuals\x20+\x20doc.populate()\x20(gh-5240)','DTqvn','UFzLn','map','all','level2','Mocha\x20101','uYSuc','qPdoM','RrAZk','authored','Netdf','SZoEs','PIJPI','multiple\x20paths\x20with\x20same\x20options\x20(gh-3808)','eRmUt','brqUH','Parent','Image','ezoAf','KmyOK','children.bar','roles.roleId','Simple\x20populate','glMrU','PHaTd','vFLWa','9elbqJf','NpDNh','xQvsn','equals','kuhGL','tIDVT','ERpYv','obj.detail','khXer','lcKQC','items.author','emCOS','BrBte','Wfdzy','outer.inner.flexible.users_$','epFwW','PriLh','populates\x20refPath\x20from\x20array\x20element\x20(gh-6509)','sOegL','FBVhs','MXPPv','Jerem','YWQPr','gh-1055-2','Child\x201','LIeIm','HPoLB','tLpTV','with\x20different\x20schema\x20types\x20for\x20local\x20fields\x20(gh-6870)','string','SPPvl','Bacon\x20is\x20not\x20great','save','gpWef','books','ufvwy','function','WIkZt','I\x20ate\x20all\x20the\x20scooby\x20snacks!','UcKdo','female','JpxZU','handles\x20circular\x20virtual\x20->\x20regular\x20(gh-5128)','TtYhx','jQjzS','QmGWg','OGlEY','friends','pVwkL','val','BwhhN','XRDVJ','EDfjh','jwiQV','RiFOw','ciNKG','gnjSF','YiqFT','IZTyC','example','qDbEn','yoGdT','zuHOJ','Event','cxdhJ','aZAvn','handles\x20skip','ClQHb','referrerUser','QUUjW','foyki','HmGJW','EJzRs','name','Users\x20Guide\x20To\x20The\x20Universe','Promise','List','UlcPX','Bvgrb','TtGyQ','qpWEH','gMKxt','Buy\x20Milk','ULOWi','SPjJZ','empty\x20array\x20(gh-4284)','WXLGw','akwDQ','Decimal128','SFTOU','tYida','mJHPq','aphex','lDfCW','QCjRS','ciIQr','UXVQn','fjwzF','LbcPb','wpVai','zmrAp','VBhCX','ScskT','uyrtL','obj','peDlC','prUNr','-email','team','TfZIL','works','Test2','pSufx','AUAUC','populate\x20should\x20work\x20on\x20Number\x20_ids','BLZgv','WSdVW','sJuQP','out-of-order\x20discriminators\x20(gh-4073)','iPuHR','cueSR','ZObrH','allSettled','ONcal','kArWL','IcZsA','WFnqr','files','nCXQx','calls\x20subdocument\x20ref\x20functions\x20with\x20subdocument\x20as\x20context\x20(gh-8469)','cYFYv','JutTh','rolesCount','other\x20local\x20test','oOlpv','dFGKR','Rxrzz','tmUpr','xzTtL','Number','smCdz','agCRy','bTQdv','uploaderId','test\x20author','ONkRK','NXitA','NzyEU','OeMOK','handles\x20populate\x20with\x200\x20args\x20(gh-5036)','feniY','plDAb','error','dzdyF','sKNFZ','3|1|2|4|0','hAjTx','XWFgT','vHhTb','eloytoro@gmail.com','hello','xwFqA','eDzjK','officeId','mShOR','NjkSK','gSqBi','aGraN','cDvoj','Povpr','janitorId','wfKYS','AeOzi','Building','FnZEa','pHxBm','wqLuo','FlDiS','PMZec','ewr@nj.com','dKaiN','scvts','pkShk','WBHuk','NDfRe','desc','tHnZT','GshGZ','exercises','qNcfY','EyaXy','dOBPv','IKPKs','JcggL','ARDCF','locationIds.location','Pacific\x20Rim','MVoHM','comment_','Some\x20City','IFslD','iRwNV','uFdZC','SCktY','xdIAK','kzGfM','ZmeKP','VEmgG','body2','Fan\x203','FEigQ','members.user','ookxE','yReTC','outer','GEoqT','3|2|0|1|4','lean\x20+\x20deep\x20populate\x20(gh-6498)','TFLAI','referencedModel','wQrmk','Javascript\x20Book\x20Collection','DVOvX','MFlTf','aVUNf','with\x20function\x20for\x20refPath\x20(gh-6669)','JbmFp','OrwGM','gJwNs','populates\x20lean\x20subdoc\x20with\x20`_id`\x20property\x20(gh-10069)','sdGJZ','Val','cNaHz','parent.kind','tagsDocuments','Some\x20meaningful\x20insight.','local\x20user','rGopm','markModified','transform\x20to\x20primitive\x20(gh-10064)','01image','AwBmE','GUlDE','BHiQP','aliases','qOVjk','main','gh-1055\x20post1','LqhcZ','RYzOs','GmsXq','LnaBw','hZhhu','HXOWs','eUeoj','-name','Rlhen','tgATL','wykpV','HeKSR','users.item','ocgcv','ZBsMA','LTdoE','iLneN','gh-8247','KXaxU','jxZNF','OzFOV','cQaoh','USIBy','oeNbR','fan1@learnboost.com','companyId','qatPD','KCAkD','LVSsx','vEtqe','readable\x20error\x20with\x20deselected\x20refPath\x20(gh-6834)','wPxjh','11284120GyfgRR','email','HokRC','cAQaL','XucvL','merges\x20match\x20when\x20match\x20is\x20on\x20`_id`\x20(gh-12834)','kUvLj','TmOQz','wtsRW','BBKqp','tEemB','QiUBp','cERhf','nGUVy','gh6963','mediaAttach','./util','uNDSG','Peanut','cats','childCount','Save\x20As','BhYqY','Jennifer','dCOzA','JhpTA','HzSUz','BmibE','children2','mAJUT','eCFub','Story','-city','eUfUd','DRsEg','dAbnZ','followers','HccKL','whWet','https://youtube.com','UDcpG','QKfvv','zzPOV','oWvIi','bhXdy','OMsba','rgnJF','aIjYJ','NotificationTypeA','nxumU','populating\x20subdocuments\x20partially\x20with\x20null\x20array','uylce','HMYio','ZDGKb','bHyPW','Habitat\x20for\x20Humanity','NQqeI','logic','Itiwr','rzRJS','John\x20Smith','eGrHp','Horry','hqBjX','eWjSh','+secret','kjqVV','OGfwN','MtZnQ','SsnXi','ShcHQ','passes\x20scope\x20as\x20Model\x20instance\x20(gh-6726)','MMzQX','SZsJB','secret','gh8324_Discriminator','ZWCGL','vkzEO','cat','fbhnN','jwqsD','DWlnh','UWrlN','parts.contents.item','mTvns','handles\x20virtual\x20populate\x20when\x20foreignField\x20is\x20an\x20array\x20with\x20duplicates\x20(gh-10117)','comment','QsWUP','aTJyH','OkRFB','TANiu','GqUGL','ahfHD','oukhX','WtmkF','PbFFw','XttQu','Band','tBpUk','EDHfC','FTyqZ','Johnson','arr1.0.arr2.1.item','name\x20email','jIjvA','guaeo','user\x20user2','vyknf','XQqhy','5|3|0|4|6|7|8|10|1|9|2','match\x20prevents\x20using\x20$where','JZmFH','lJeIf','FhhJt','works\x20when\x20first\x20doc\x20returned\x20has\x20empty\x20array\x20for\x20populated\x20path\x20(gh-1055)','Ahbij','bfYPN','users.ID','ZYfIY','eSvcF','qsSsD','mzWDa','2019-06-01','gh6963-2','searchResult','Zaggh','BQCkV','aqmlb','dVmpN','qOkBs','with\x20Number\x20_id','KSUtR','enHiG','user2@learnboost.com','hajYC','igexr','FbGoO','vFvJt','FPGbp','Bacon\x20is\x20OK','params.value.optionLabels','limqo','RiGiW','bnSRG','toJSON\x20should\x20also\x20be\x20called\x20for\x20refs\x20(gh-675)','strictPopulate','vVoAE','psJZn','special\x20discount','zSHMP','EnWgg','FlnUt','CmlLl','fUwUp','ToEwD','TDQJW','SgXgt','image2','That\x20District','FfTWu','fields','QnVAV','01video','referrer','cAlyi','OItwb','sTVmU','YqQhH','DRioV','activity','7|0|10|3|6|2|1|5|4|8|9','events.users_$','EYJIf','PNEIf','coopBrandId','SHvLA','WDwpB','_mediaType','rWLFZ','iaqpa','TbaLD','populate\x20option\x20(gh-2321)','populates\x20nested\x20path\x20in\x20schema\x20using\x20`Model.populate()`\x20static\x20(gh-10335)','AuSZx','ExTHo','populates\x20undefined\x20nested\x20fields\x20without\x20error\x20(gh-6845)','fksot','dQHCo','ZDxMf','asPromise','NUZmq','nested','Card\x203','Meowth','XfNxJ','VXqpI','rhLWb','VMjvS','YBCYK','vrhpJ','gyBDN','csrjX','tZaMg','AdRaP','populate\x20virtuals\x20(gh-2562)','mode','pBDTp','zWFaE','sets\x20populate\x20virtual\x20with\x20count\x20to\x200\x20if\x20local\x20field\x20empty\x20(gh-7731)','.childModel','sbigs','user-name','vJYQb','uYWlP','CguBX','UXLtZ','epQzV','Event\x202','xVcUL','hwxLS','user\x20comment\x20blogpost','bApWO','posts.comments.metadata','zODph','LoGUq','now','dDQpJ','clears\x20cache\x20when\x20array\x20has\x20been\x20re-assigned\x20(gh-2176)','fKfLV','DlVEU','iFTLu','OIzFb','Scooby','OarYq','mEsks','filename','XQfTk','caaCG','VjFHw','MzbWX','LlZbc','schema\x20overwrites\x20global\x20(gh-6546)','gXNaB','123','JKKYL','VxsHK','XycVf','hKpnd','NXMrf','jcPOx','EVMAB','_idontexist','GAIxh','item2','BlOvR','Product','UJHur','populates\x20paths\x20under\x20mixed\x20schematypes\x20where\x20some\x20documents\x20have\x20non-object\x20properties\x20(gh-10191)','tBZWO','rbTWt','user1','uTtjA','Author','Dwkeg','typeof\x20console\x20!==\x20\x22undefined\x22\x20?\x20doesNotExist(\x22foo\x22)\x20:\x20true;','WMKSI','ZKRET','avoids\x20calling\x20`transform()`\x20with\x20`lean()`\x20when\x20no\x20results\x20(gh-12739)','BdHQB','no\x20ref\x20+\x20cursor\x20(gh-5334)','speakers','pOLHQ','TestDiscriminator','vzRoI','catchable\x20error\x20if\x20localField\x20or\x20foreignField\x20not\x20specified\x20(gh-6767)','HEOTq','fCHno','lMWfR','oYHpN','handles\x20plus\x20path\x20projections\x20with\x20virtual\x20populate\x20(gh-7050)','qNyoi','xgKev','AHAth','list.fill.child','across\x20DBs','gHqXJ','YSHXE','LacXc','mYDwq','hNzuJ','LkySU','ycTyv','lRWow','REUyw','with\x20String\x20_id','parent.item','phAjq','CFuOQ','ePnCP','xPtvR','user\x201','dummy','ygTGO','author.id','eEEGv','nested.events','authors\x20favoritedBy','quWsA','lafle','yttxt','Lakers','dqkHo','uYJiE','zjPsZ','fkxFK','kDHxk','HcVOI','PURlR','YhuRG','lSDEL','a\x20document\x20already\x20populated','YFNJh','comment1','TshvC','\x20on\x20','gXoyn','QhDVP','populating\x20subdocs\x20with\x20invalid/missing\x20subproperties','XYfbs','KPYtL','BEucH','angular','xHAFF','QkHgW','3|4|0|1|2','qFCIX','TwwbZ','deselecting\x20_id','Vdaqr','CsZLw','udMJh','TmCZf','populating\x20array\x20of\x20object','cKTEY','Car','qUyQK','GlSYs','rFhRg','lRZmd','fZnHh','LRvkL','sSfBR','XtMHo','uUGLo','IMkIS','4|0|1|2|3','mLmdD','TewGh','RbpeC','YmdmF','a_id','replies','Row','WUBub','paths','qTbRj','Movie_Slice','Aeysg','SZnmz','Im\x20used\x20in\x20two\x20posts','not\x20failing\x20on\x20empty\x20object\x20as\x20ref','Vonjd','specifying\x20all\x20params\x20using\x20an\x20object','supports\x20cross-db\x20populate\x20with\x20refPath\x20(gh-6520)','_modelB','user2','coopBrands.products','ZnKUa','tjbvB','DvwAK','HNzMK','number','Woot2','xULyg','uVpIZ','body3','nested.events.users_$','user\x203','Aaron','tQikV','lMVGb','OGlxN','chickfila','Dog','pKiYt','hXvDD','2018-01-01','Article','avoids\x20setting\x20empty\x20array\x20on\x20lean\x20document\x20when\x20populate\x20result\x20is\x20undefined\x20(gh-10599)','LEPXa','SFLaT','with\x20non-arrays\x20(gh-5114)','UeBfa','Book1','empty\x20virtual\x20with\x20Model.populate\x20(gh-5331)','pbnDa','TVUUr','when\x20saving\x20existing\x20docs\x205T5','fxVIf','Axl\x20Rose','blog\x202','lVNjM','TVUqU','ZREmm','subpopulates\x20array\x20w/\x20space\x20separated\x20path\x20(gh-6284)','jlVMn','mZkim','repeat','xzzbh','ierob','wEosh','cNaeS','tkqcR','troops','bmmjL','eyQBO','populating\x20subdocuments\x20partially\x20with\x20empty\x20array\x20(gh-481)','jGDrF','gWLFK','DvADr','tECSK','other','yup','ysfZW','nRZWq','assigned','FNrjk','KslLq','aJupZ','OdTox','xTVNG','cMSsA','vyMdd','bytes','Clicked','TmVlo','asd','QWywF','kLVbB','crlIa','Kmhff','ZIBGe','bYGVv','QeBvH','supports\x20populating\x20a\x20path\x20in\x20a\x20document\x20array\x20embedded\x20in\x20an\x20array\x20(gh-7647)','list.data','comment0\x20on\x20title0','versions.editions','wLWuZ','of\x20multiple\x20documents','Fan\x201','TYiGG','change','gh6273_Clicked','list','ROAvZ','prBTi','hMmdW','LlrKk','FRAIx','virtuals\x20with\x20justOne\x20true\x20and\x20foreign\x20field\x20not\x20found\x20(gh-5336)','connections','vendor','uODCH','eAEOy','DrnhM','woot\x202','vmTve','bqRwf','Vince\x20Neil','pYieh','zfLJo','Can\x20not\x20use\x20`limit`\x20and\x20`perDocumentLimit`\x20at\x20the\x20same\x20time.\x20Path:\x20`blogposts`.','glqyD','_mongooseOptions','LVSAH','mRPbi','JLbKb','GDuzC','bandDetails','vunju','ExternalSourceB','SHZnz','yBlgu','gHCEx','actors','comment2','users.id','wlvcG','pSvHO','Wsctr','FzeYj','LCUZC','AuBUh','LMvwM','Vpxhs','Miami','Book2','URVIY','CpABW','AMaIi','orFail','myVirtual','vswFW','employeeId','shift','VlCAc','ezbOG','PQOQO','ZFxdh','lluLs','Test\x201','save\x20objectid\x20with\x20populated\x20refPath\x20(gh-6714)','findOneAndUpdate','QJXFb','LHlta','dogs','kOeSF','VMXJJ','activities','aGoNZ','array\x20with\x20empty\x20refPath\x20(gh-5377)','fans','pAiZQ','UztiN','foreignField','child','Victor\x20Hugo','lgoix','xrvKJ','AppMenuItem','Date','XyPqO','IvKRV','zHfLj','dlFSG','OWskg','balls','wVLCf','dUSqf','hobby','mfjDY','cXPFJ','gmWrV','aCiXo','DrAwY','UkHxK','Test\x20name','aaron.heckmann@gmail.com','sKXLt','qRmfv','file1.png','_id\x20name','StZNh','TvyCe','User\x202','ZNnBE','ILTWO','OPEyl','VoZHD','heHDY','phx@az.com','TOkgL','EazHq','RlADU','Bacon\x20is\x20Great','lssjn','IirsS','liwEZ','mlyDT','Event\x201','Map','populate\x20with\x20Decimal128\x20as\x20ref\x20(gh-4759)','IpYcc','handles\x20virtual\x20justOne\x20if\x20it\x20is\x20not\x20set,\x20is\x20lean,\x20and\x20subfields\x20are\x20selected','ayWjO','Pfefk','qbhvq','AFdbf','EBook','OxbWh','Test\x202','NQmvc','gYYsB','gh-8760','OVyoV','Product\x201','admin','first\x20interaction','twin','SurCq','WPBuY','tGgcF','objectType','$users','BFLsA','ymKuB','Job','match','zVlTJ','supports\x20`retainNullValues`\x20to\x20override\x20filtering\x20out\x20null\x20docs\x20(gh-6432)','pcDGo','MhVMm','pxxWa','aVADN','wUaau','sQniP','Hafez','cityId\x20districtId','BFIdE','supports\x20removing\x20and\x20then\x20recreating\x20populate\x20virtual\x20using\x20schema\x20clone\x20(gh-13085)','mEuiX','products.id','values.$*.refp','old','VxPsj','OfejY','events.modelName','QAyEZ','QyZJF','UfsJt','JETql','sections.list.item','XDHga','QKjGp','CXkoc','Nikki\x20Sixx','yhNiR','VUQgd','hNCFo','PPwIW','Post','QzdgZ','zCiQs','ZzavX','Guillermo','mtfTX','swsCe','BjLWB','l1.l22','XUvXu','pBlvL','MissingSchemaError','EmwfT','London-Paris','kyvqK','ByfCl','./common','xLBIx','iwyza','of\x20individual\x20document\x20works','nVfjj','LmTIN','vbWuG','WEmpC','dZZam','options','then','populating\x20sub\x20docs','level\x202','list.objectType','media','Douglas','user1@learnboost.com','kgZtn','docArr.ref','iqFlS','MbDdX','aQcKq','third\x20interaction','yjIzl','test','bands','level31','0|1|7|2|5|4|6|8|3','secondId','yuWvL','I\x20have\x204\x20comments','jmCQU','populating\x20subdocuments\x20partially','CTPTH','with\x20functions\x20for\x20match\x20and\x20foreignField\x20(gh-7397)','WtDVd','prevnxt','joXnd','bwSKe','192.168.1.15','GIZqK','ZQNIy','fKpzR','FZrIP','YjVkO','OPBRF','Super\x20cool\x20second\x20post','fiYUg','CGmxZ','supports\x20ref\x20on\x20subdocuments\x20(gh-10856)','FLTRN','tFnzt','QTUEK','Experience','wtVUX','dvYSn','1|2|4|3|0','Bqvix','Lkwus','values.$*.valueObject','link','bhXmC','rQngx','kNttx','VCCed','hiOlu','Types','KWChC','user3','references','DHtkb','rTskr','qmkEf','GWXUg','Lfyoe','uBBRR','BqpOH','NWTvA','UMToB','async/await','cdmrY','iliMI','jbpKG','MvDUp','pZfZD','Apple','AhCdv','handler','fWWxn','document,\x20and\x20subdocuments\x20are\x20not\x20lean\x20by\x20default','works\x20with\x20findById','KoCBB','User\x2002','FWjBK','jBLQa','George\x20Harrison','QYmnh','LlLir','AzehO','gEBdq','xHcpG','subject','cfbCk','SoajV','YvXnX','vbTxJ','name\x20-_id\x20-specialId','RzhCa','supports\x20top-level\x20skip\x20and\x20limit\x20options\x20(gh-8445)','aTiIK','GvWLf','find','author','iYgMv','reportModel','uYxCn','UQOhT','iRPbW','yCNtp','AIMjJ','upmGA','file','xNDTT','PmNqu','sMaAC','6OumJow','kADzy','daLXU','jdfLb','items.foo','cBmZs','MuHfl','RYEEX','pdaRu','kQgOP','useDb','can\x20reference\x20parent\x20connection\x20models\x20by\x20name\x20after\x20`useDb()`\x20(gh-11003)','jOWsv','UsQPd','cvrcY','BVQaj','FRTpV','Card\x204','nooSD','IPIGD','6571_ProductDisc','howFi','handles\x20populating\x20deeply\x20nested\x20path\x20if\x20value\x20in\x20db\x20is\x20a\x20primitive\x20(gh-7545)','Nice\x20first\x20post','mSASb','insertMany','terminator1000@learnboost.com','ZpAvk','editionOptions','poSOz','comments.references.kind','nnXpk','OQsnF','WAWkx','qfjPo','handles\x20refPath\x20underneath\x20map\x20of\x20subdocuments\x20(gh-9359)','NGlcU','kgGkx','empty\x20populate\x20string\x20is\x20a\x20no-op\x20(gh-4702)','Newark','disabling\x20lean\x20on\x20nested\x20population\x20overwrites\x20parent\x20lean','dbAGn','model-A','-__v','YprzB','iqzNc','populating\x20combined\x20with\x20lean\x20(gh-1260)','ATswm','fcvgT','cast','where\x20first\x20doc\x20doesnt\x20have\x20a\x20refPath\x20(gh-6913','uEaby','supports\x20top-level\x20match\x20option\x20(gh-8475)','gjFmb','CEnDr','equal','nkDoV','opaOX','VUcoo','SHRID','BKhQO','errors','ezrnj','jqpCP','Arlene','populate\x20with\x20no\x20ref\x20using\x20Model.populate\x20(gh-4843)','oJqhc','The\x20Beatles','fUzTs','roomId','hszXM','ggnVV','-_id\x20name','HkGhB','disabling\x20at\x20schema\x20level\x20(gh-6546)','user-name-2','EWdEG','pGVTr','cakEz','NPNtn','UYvhb','yFdTI','Banana','source\x20array\x20(gh-4585)','JVZSA','Books','PXElx','level4','hans\x20zimmer','prototype','handle','czDQw','mCkYT','Organization','deleteMany','siube','YqxXE','rfqZU','Interaction','aOefN','opvSZ','populate\x20should\x20work\x20on\x20String\x20_ids','discriminator\x20child\x20schemas\x20(gh-3878)','Flanagan','xUcfC','fiqcP','TezUh','NUJtG','yarn','BrGrf','dAcJE','xYUzu','hgbGZ','fycBI','hySuP','KPhie','fnljl','hEXUN','kzXeS','model:\x20populate:','vXwSJ','arr1.arr2.kind','qAKxL','uceAU','XZlan','EcbFS','EZyRA','ZEOxE','xalNr','author\x20target','JavaScript:\x20The\x20Definitive\x20Guide','person','Jgkpd'];_0x2949=function(){return _0x26e27c;};return _0x2949();}const _0x3bf6f0=_0x2d45;(function(_0x299026,_0x59161a){const _0x3c19ff=_0x2d45,_0x3b03bc=_0x299026();while(!![]){try{const _0x464b08=-parseInt(_0x3c19ff(0x3d3))/0x1+-parseInt(_0x3c19ff(0x44a))/0x2+-parseInt(_0x3c19ff(0x4e5))/0x3*(parseInt(_0x3c19ff(0x43c))/0x4)+-parseInt(_0x3c19ff(0x42d))/0x5+-parseInt(_0x3c19ff(0xc85))/0x6*(-parseInt(_0x3c19ff(0x381))/0x7)+parseInt(_0x3c19ff(0x321))/0x8+parseInt(_0x3c19ff(0x85f))/0x9*(parseInt(_0x3c19ff(0x977))/0xa);if(_0x464b08===_0x59161a)break;else _0x3b03bc['push'](_0x3b03bc['shift']());}catch(_0x30216c){_0x3b03bc['push'](_0x3b03bc['shift']());}}}(_0x2949,0x7cca6));function _0x2d45(_0x323de3,_0x343a5f){const _0x294993=_0x2949();return _0x2d45=function(_0x2d459e,_0x3d08c8){_0x2d459e=_0x2d459e-0xc6;let _0x4bffbd=_0x294993[_0x2d459e];return _0x4bffbd;},_0x2d45(_0x323de3,_0x343a5f);}const start=require(_0x3bf6f0(0xc08)),assert=require(_0x3bf6f0(0x26c)),utils=require(_0x3bf6f0(0x5a7)),util=require(_0x3bf6f0(0x987)),MongooseError=require('../lib/error/mongooseError'),mongoose=start['mongoose'],Schema=mongoose['Schema'],ObjectId=Schema[_0x3bf6f0(0x2ef)],DocObjectId=mongoose[_0x3bf6f0(0xc4a)][_0x3bf6f0(0x2ef)];describe(_0x3bf6f0(0xcfc),function(){const _0x4ef2f4=_0x3bf6f0,_0x24a2f1={'TEAUE':'male','YBPRy':_0x4ef2f4(0x63e),'pGlZv':_0x4ef2f4(0x11f),'guaeo':function(_0x12e23b){return _0x12e23b();},'TvyCe':function(_0x4a4fcb,_0xddf826){return _0x4a4fcb(_0xddf826);},'ERpYv':'DlKla','gBHOm':_0x4ef2f4(0x7a8),'NNuaY':_0x4ef2f4(0x70b),'KSSUj':_0x4ef2f4(0x83b),'GQQYG':_0x4ef2f4(0x16d),'yXwVX':'followers','UmRsl':_0x4ef2f4(0xc64),'GVoYc':function(_0x59edab){return _0x59edab();},'KXfqQ':_0x4ef2f4(0xc5f),'whWet':_0x4ef2f4(0x8ce),'aVADN':_0x4ef2f4(0xc20),'BHiQP':_0x4ef2f4(0xb8f),'aQcKq':'SMJgx','AREYv':_0x4ef2f4(0x3de),'VxPsj':_0x4ef2f4(0x93b),'PgPMH':function(_0x44b474,_0xbebfc){return _0x44b474!==_0xbebfc;},'pVJsI':'Company','eUfUd':_0x4ef2f4(0x2df),'Jltki':_0x4ef2f4(0xd57),'zmrAp':function(_0x27c2fb,_0xa73de){return _0x27c2fb(_0xa73de);},'bnRPM':_0x4ef2f4(0x39b),'JKKYL':_0x4ef2f4(0x28f),'fWWxn':_0x4ef2f4(0x5ad),'cGMSR':function(_0x936783){return _0x936783();},'BZvoH':'Guillermo','hszXM':_0x4ef2f4(0x66f),'lssjn':function(_0x346f50,_0x142466){return _0x346f50===_0x142466;},'UUHdH':'bAcmL','pwusU':_0x4ef2f4(0x3f4),'CryEB':function(_0x64cb88,_0x217021){return _0x64cb88===_0x217021;},'VBhCX':_0x4ef2f4(0xcd7),'vNBZv':'_id','yQSJv':_0x4ef2f4(0xaf4),'nipaq':_0x4ef2f4(0x5f4),'CbEki':'Eloy','uGzwS':_0x4ef2f4(0x8fe),'QCJlJ':_0x4ef2f4(0x978),'oaihn':_0x4ef2f4(0x3f3),'tZaMg':function(_0x36033a){return _0x36033a();},'RupHF':function(_0xb6ab2,_0xd904f1){return _0xb6ab2!==_0xd904f1;},'mpqJQ':'rYsHZ','jZfRA':_0x4ef2f4(0x811),'SxDkT':'Aaron','jIWgS':_0x4ef2f4(0x8ca),'PBESV':_0x4ef2f4(0x79c),'gCLYK':function(_0x356d3e,_0x3d6c4d){return _0x356d3e!==_0x3d6c4d;},'YSApG':_0x4ef2f4(0x9a3),'vEiWg':'LsJHy','fetNz':'Fan\x201','pdaRu':'fan1@learnboost.com','BqpOH':function(_0x47fdaa,_0x2f4d5c){return _0x47fdaa!==_0x2f4d5c;},'fttFG':_0x4ef2f4(0x1a5),'tMbtQ':'Fan\x202','tnqIR':_0x4ef2f4(0x887),'SPPvl':_0x4ef2f4(0x930),'PhftV':function(_0x9c951a,_0x351192){return _0x9c951a(_0x351192);},'FlDiS':_0x4ef2f4(0xb8b),'aGoNZ':_0x4ef2f4(0xd33),'DCYDs':'Fan\x204','TEhHs':'ckKUm','UYIRM':_0x4ef2f4(0xbac),'EJzRs':_0x4ef2f4(0x956),'wDrer':_0x4ef2f4(0xc62),'FryzP':function(_0x6c55a0,_0x510e5d,_0x22a13d){return _0x6c55a0(_0x510e5d,_0x22a13d);},'SvvqN':'val','VZWRL':_0x4ef2f4(0x6e7),'RzbxQ':function(_0x2e8d8b,_0x23d07b){return _0x2e8d8b===_0x23d07b;},'KDQHX':_0x4ef2f4(0x269),'vspOf':_0x4ef2f4(0x9fc),'wkaXH':_0x4ef2f4(0xc18),'fkDJb':_0x4ef2f4(0x7da),'PtqoK':_0x4ef2f4(0x257),'fJklO':_0x4ef2f4(0xb11),'vJYQb':'blog\x203','nQEAz':'fun','yzZkc':'odd','PURlR':'bob','ZXaDH':'sally','jSTHF':_0x4ef2f4(0x4bd),'NmBJz':'members','TJhCc':'Test','DTqvn':'Motley\x20Crue','IFHpg':_0x4ef2f4(0x8a8),'obJUW':'_idontexist','iokZp':_0x4ef2f4(0xc9f),'pPWXR':_0x4ef2f4(0xc82),'LtBlF':_0x4ef2f4(0x194),'ivoOj':'nmPuP','wDpIK':_0x4ef2f4(0xaff),'mfjDY':_0x4ef2f4(0x8ff),'mrUaC':'fan2@learnboost.com','exWyt':'yay','lSDEL':function(_0x3cd520,_0x4a7d78){return _0x3cd520===_0x4a7d78;},'zwYDb':'SKgmK','slYQs':'Buy\x20Milk','juFla':_0x4ef2f4(0x174),'dosee':_0x4ef2f4(0xb64),'mCkYT':_0x4ef2f4(0x5e3),'SfyCJ':function(_0x4fcfc7,_0x5d5a62){return _0x4fcfc7===_0x5d5a62;},'VROin':_0x4ef2f4(0x59c),'RFckA':function(_0x459f75,_0x292a10){return _0x459f75 instanceof _0x292a10;},'dAnCh':'Alice','hEXUN':'hgmSM','ureGo':_0x4ef2f4(0xc78),'ZRrBq':'10|12|2|5|8|4|13|1|0|6|9|3|11|7','QNPxV':'undefined','zEJOq':_0x4ef2f4(0xade),'oRoXY':function(_0x245ee4,_0x746ec){return _0x245ee4===_0x746ec;},'WnjSE':_0x4ef2f4(0x99a),'hgbGZ':_0x4ef2f4(0x605),'cLBmj':_0x4ef2f4(0x256),'swsCe':'Users\x20Guide\x20To\x20The\x20Universe','qHtdk':function(_0x17bf2d,_0x51d27e){return _0x17bf2d instanceof _0x51d27e;},'wLKVu':_0x4ef2f4(0xbce),'jUPsH':'Ceawr','VDlpp':'Ping\x20Pong','YIXXH':_0x4ef2f4(0xbc6),'csaZE':_0x4ef2f4(0x266),'DvADr':_0x4ef2f4(0x390),'dyafm':'base64','YxVKn':'NBPyn','eeTTD':_0x4ef2f4(0x4ff),'TKKDk':'other','JpxZU':function(_0x1126eb,_0x22616e){return _0x1126eb(_0x22616e);},'fKfLV':_0x4ef2f4(0x5ee),'mhdLL':_0x4ef2f4(0xadd),'VYXsK':function(_0x49093d,_0x4b9965,_0x3b43c7){return _0x49093d(_0x4b9965,_0x3b43c7);},'BYwKU':_0x4ef2f4(0x73e),'xgIqG':_0x4ef2f4(0xb27),'dKaiN':'works','stXhs':_0x4ef2f4(0x170),'sYLCj':function(_0x5521e5){return _0x5521e5();},'ocgcv':function(_0x2806e7,_0x1964bc,_0x1111ea){return _0x2806e7(_0x1964bc,_0x1111ea);},'IVDxE':_0x4ef2f4(0x42f),'MegNd':function(_0x4afa63,_0x55f928,_0x1278a2){return _0x4afa63(_0x55f928,_0x1278a2);},'Wfdzy':_0x4ef2f4(0x7a5),'bJNPx':_0x4ef2f4(0xbb2),'Hemuj':'Newark','iBABV':_0x4ef2f4(0x287),'tWiAF':function(_0x5df873,_0x30769a,_0x1c06ad){return _0x5df873(_0x30769a,_0x1c06ad);},'UlNgK':function(_0x3c3d3d,_0x3761b8,_0x24c289){return _0x3c3d3d(_0x3761b8,_0x24c289);},'WyWZF':_0x4ef2f4(0xd70),'bgSJW':_0x4ef2f4(0xc0b),'jGDrF':function(_0x9d921d,_0x25520f,_0x2e3c1b){return _0x9d921d(_0x25520f,_0x2e3c1b);},'GIjbc':_0x4ef2f4(0xab7),'xzTtL':function(_0x1f926e,_0x42370a){return _0x1f926e!==_0x42370a;},'QnVAV':function(_0x1d6cda,_0x2ce728,_0x46a400){return _0x1d6cda(_0x2ce728,_0x46a400);},'SRHwE':_0x4ef2f4(0x1f0),'uNDSG':_0x4ef2f4(0x7ad),'zBGYg':_0x4ef2f4(0xa05),'azXeQ':'fans\x20_creator','gyBDN':function(_0x90b088,_0x41632b){return _0x90b088(_0x41632b);},'tLguq':function(_0x43f325,_0x355fcc){return _0x43f325(_0x355fcc);},'YEpKA':_0x4ef2f4(0x132),'zyMKy':function(_0x3fa43c,_0x4a1447){return _0x3fa43c(_0x4a1447);},'EzsMt':function(_0x113848,_0x225af3,_0x2d674f){return _0x113848(_0x225af3,_0x2d674f);},'DeEEg':_0x4ef2f4(0x932),'UybDy':_0x4ef2f4(0xdb),'EVMAB':function(_0x5eac43,_0x426d6e){return _0x5eac43+_0x426d6e;},'LxyQt':_0x4ef2f4(0x461),'CrpEY':_0x4ef2f4(0x6ec),'xWshO':_0x4ef2f4(0x4e6),'kWJye':_0x4ef2f4(0x582),'JpwMV':_0x4ef2f4(0x682),'LDGUu':_0x4ef2f4(0x9cd),'vunju':'of\x20documents\x20being\x20populated','qUyQK':_0x4ef2f4(0x574),'XstYD':'Review','qpWEH':_0x4ef2f4(0x304),'XaGNb':_0x4ef2f4(0x674),'IgbSI':_0x4ef2f4(0x138),'bYGVv':_0x4ef2f4(0x666),'Crmtz':_0x4ef2f4(0x63b),'hyYAC':_0x4ef2f4(0x9ca),'iUcer':_0x4ef2f4(0x353),'DlVEU':_0x4ef2f4(0xa0b),'yoGdT':'New\x20York','xvvEU':function(_0x27557b,_0x488dc0){return _0x27557b!==_0x488dc0;},'oZdUc':_0x4ef2f4(0x946),'HXOWs':function(_0x5b9857){return _0x5b9857();},'TioQB':_0x4ef2f4(0xb09),'OPEyl':function(_0x476ccd){return _0x476ccd();},'ZWBKQ':_0x4ef2f4(0x922),'lqPCV':_0x4ef2f4(0x4b8),'diJOY':_0x4ef2f4(0xca3),'qunVr':_0x4ef2f4(0x85b),'Onjvx':_0x4ef2f4(0x349),'dxReO':'with\x20nonexistant\x20refPath\x20(gh-4637)','whEKI':_0x4ef2f4(0xb08),'OxjLu':function(_0x367c5c,_0x36b6b6,_0x3f629d){return _0x367c5c(_0x36b6b6,_0x3f629d);},'BkkCm':function(_0x199a21,_0x570a44){return _0x199a21===_0x570a44;},'yNiuM':_0x4ef2f4(0xb6e),'uqjSl':'products','BlOvR':'Product','EcbFS':_0x4ef2f4(0xa25),'aIjYJ':_0x4ef2f4(0x44f),'VrbWX':_0x4ef2f4(0xd59),'bApWO':function(_0xf1509d,_0x21ce5a){return _0xf1509d(_0x21ce5a);},'BXISD':_0x4ef2f4(0x1da),'gEBdq':_0x4ef2f4(0x5af),'wMzAh':_0x4ef2f4(0xc57),'qsFMS':_0x4ef2f4(0x8c9),'rzRJS':function(_0x4406a5,_0x2c96c5){return _0x4406a5(_0x2c96c5);},'GGbkI':_0x4ef2f4(0x9f4),'VRwKe':_0x4ef2f4(0xa1b),'XtMHo':function(_0x926847,_0x28ce28){return _0x926847(_0x28ce28);},'oWvIi':_0x4ef2f4(0x2eb),'bhXmC':_0x4ef2f4(0xb80),'AHAth':_0x4ef2f4(0x6e5),'FZWFi':_0x4ef2f4(0x7e8),'GjdhO':'Person','GkoKF':_0x4ef2f4(0x58b),'QxhQp':_0x4ef2f4(0x9b5),'RuDTV':_0x4ef2f4(0x5d9),'aCiXo':'Robinson','JikPB':_0x4ef2f4(0x629),'lDkOB':'Johnson','kNttx':_0x4ef2f4(0x367),'vbTxJ':_0x4ef2f4(0x6e2),'vJaKQ':_0x4ef2f4(0x439),'QpTLH':_0x4ef2f4(0x305),'MLXzs':_0x4ef2f4(0x528),'SgXgt':_0x4ef2f4(0xf6),'IvKRV':_0x4ef2f4(0xd0a),'fxmGK':_0x4ef2f4(0x6ae),'ixqYS':_0x4ef2f4(0x28c),'ZIBGe':_0x4ef2f4(0xb56),'AMffr':_0x4ef2f4(0xc6e),'qFCIX':_0x4ef2f4(0xc46),'LoSaM':_0x4ef2f4(0x7c1),'RVTUL':_0x4ef2f4(0x48d),'oUboG':'susva','TodLv':_0x4ef2f4(0xa7b),'OnZIf':_0x4ef2f4(0x5e0),'tYoHL':_0x4ef2f4(0x112),'QtHAs':_0x4ef2f4(0x165),'PQOQO':_0x4ef2f4(0xbe7),'lSRnC':'name\x20clusters','cBmZs':_0x4ef2f4(0xcda),'jwqsD':_0x4ef2f4(0x2ef),'xAFUY':_0x4ef2f4(0x40c),'zNhdh':_0x4ef2f4(0xccf),'epQzV':_0x4ef2f4(0xa17),'HMYio':_0x4ef2f4(0x607),'pyxDI':_0x4ef2f4(0x331),'xqZsN':_0x4ef2f4(0x315),'lMxJT':_0x4ef2f4(0xcdf),'NHHeM':_0x4ef2f4(0x1c6),'koLNK':_0x4ef2f4(0xc03),'CYkkj':_0x4ef2f4(0x12d),'AJZOU':'kids.post','GQFFN':_0x4ef2f4(0x700),'rlNzZ':_0x4ef2f4(0x7e3),'sSGUS':'VTxZR','JbnNq':'Javascript\x20Book\x20Collection','yeuhI':_0x4ef2f4(0xd07),'WeVUa':'vpTif','kTQIQ':function(_0x5e79cd,_0x5f598d,_0xf76f07){return _0x5e79cd(_0x5f598d,_0xf76f07);},'OlaFK':_0x4ef2f4(0x1d5),'ZObrH':_0x4ef2f4(0x9e5),'MiubE':'multiple\x20source\x20docs','sTVmU':_0x4ef2f4(0xa89),'NwDyU':function(_0x5ba6da,_0x599c87,_0xe7e364){return _0x5ba6da(_0x599c87,_0xe7e364);},'ElTaU':_0x4ef2f4(0x698),'hyoip':_0x4ef2f4(0x29e),'dZPhU':_0x4ef2f4(0x291),'FbGoO':function(_0x1efa6e,_0x477929,_0x5d02b8){return _0x1efa6e(_0x477929,_0x5d02b8);},'xHAFF':_0x4ef2f4(0x424),'hLqIZ':_0x4ef2f4(0x6ed),'IioKJ':'sets\x20empty\x20array\x20if\x20lean\x20with\x20justOne\x20=\x20false\x20and\x20no\x20results\x20(gh-10992)','OjiwQ':function(_0x992207,_0x216fb4,_0x18d576){return _0x992207(_0x216fb4,_0x18d576);},'OGlEY':_0x4ef2f4(0x77e),'ZFWtw':_0x4ef2f4(0x34e),'muaft':'with\x20functions\x20for\x20localField\x20and\x20foreignField\x20(gh-5704)','xYwZH':_0x4ef2f4(0x794),'kOeSF':_0x4ef2f4(0xf7),'mddhR':_0x4ef2f4(0x116),'ePnCP':_0x4ef2f4(0x75d),'tOabL':function(_0x107b0f,_0x18e25c,_0x46e20b){return _0x107b0f(_0x18e25c,_0x46e20b);},'kADzy':_0x4ef2f4(0xcd8),'GPyoN':_0x4ef2f4(0x6d7),'DpIuz':_0x4ef2f4(0x495),'SDUPX':function(_0x1d58b4,_0x2fa3f5,_0x3389f7){return _0x1d58b4(_0x2fa3f5,_0x3389f7);},'yBNCF':_0x4ef2f4(0x2d3),'uuGJu':function(_0xf8cf5,_0x433eed,_0x4e478a){return _0xf8cf5(_0x433eed,_0x4e478a);},'sPEJs':_0x4ef2f4(0xbbd),'qOVjk':_0x4ef2f4(0x889),'EioQW':_0x4ef2f4(0x844),'vcAZI':function(_0x30a920,_0x220e6e,_0x4f7648){return _0x30a920(_0x220e6e,_0x4f7648);},'OSzKr':_0x4ef2f4(0x14b),'GyMSk':_0x4ef2f4(0xcd),'cWmLC':function(_0x598e60,_0xfdd13f,_0x7ad578){return _0x598e60(_0xfdd13f,_0x7ad578);},'wjHov':_0x4ef2f4(0x183),'ZDjWU':_0x4ef2f4(0x6d6),'zasRr':function(_0x2ec4f1,_0x44e5b7,_0x44065d){return _0x2ec4f1(_0x44e5b7,_0x44065d);},'uBeCZ':_0x4ef2f4(0x667),'OfejY':function(_0x4e35df,_0x360f1e,_0x24f4b2){return _0x4e35df(_0x360f1e,_0x24f4b2);},'TOohB':function(_0x3daddc,_0x5a09cc,_0x329df9){return _0x3daddc(_0x5a09cc,_0x329df9);},'pWxjH':_0x4ef2f4(0x5d7),'jAdvo':_0x4ef2f4(0x766),'uLDFJ':_0x4ef2f4(0x476),'bdwFb':_0x4ef2f4(0x2db),'yNszJ':'Test\x20name','prBTi':_0x4ef2f4(0xb46),'MBakE':_0x4ef2f4(0x675),'DhSux':_0x4ef2f4(0xa22),'AGoYw':_0x4ef2f4(0x3d2),'aJupZ':_0x4ef2f4(0x855),'bwsFu':'Max','kFnfd':_0x4ef2f4(0x44c),'MwErv':_0x4ef2f4(0xacf),'zHzfe':_0x4ef2f4(0x4a5),'yttxt':'versions.editions.editionOptions.image','mEBEo':_0x4ef2f4(0x39a),'FLTRN':_0x4ef2f4(0x27d),'zODph':_0x4ef2f4(0x738),'tIDVT':_0x4ef2f4(0x47d),'CpABW':_0x4ef2f4(0xe5),'ESxqA':_0x4ef2f4(0x12f),'XmKui':_0x4ef2f4(0x1db),'vbWuG':_0x4ef2f4(0x98b),'IFslD':_0x4ef2f4(0x669),'FZrIP':_0x4ef2f4(0x703),'qwRzR':_0x4ef2f4(0xb10),'xJESr':_0x4ef2f4(0x3c7),'IuXYv':_0x4ef2f4(0x186),'pdxHb':_0x4ef2f4(0xcfe),'JGute':_0x4ef2f4(0x2ca),'MaGfP':'item2','QmGWg':_0x4ef2f4(0x18b),'sXeWu':_0x4ef2f4(0x4d9),'mlyDT':_0x4ef2f4(0x4d1),'kJdtP':'OFzgA','gdRLr':'rolesCount','JxQBF':_0x4ef2f4(0xa92),'HPRzJ':_0x4ef2f4(0x722),'dKbyu':_0x4ef2f4(0x54e),'IirsS':_0x4ef2f4(0xc16),'XbIfY':function(_0x4fcf8e,_0x200769,_0x1aa237){return _0x4fcf8e(_0x200769,_0x1aa237);},'JhpTA':function(_0x52d2f8,_0x5c9174){return _0x52d2f8(_0x5c9174);},'uOzlg':_0x4ef2f4(0xb79),'NQqeI':_0x4ef2f4(0x552),'MbnRx':_0x4ef2f4(0x859),'sJgJV':_0x4ef2f4(0x415),'yTCYu':'test\x20author','kXLxj':_0x4ef2f4(0xa37),'JGRCj':'checking\x20`populated()`\x20on\x20a\x20document\x20array\x20element\x20(gh-8247)','SDeOn':_0x4ef2f4(0x740),'ZEhsi':function(_0x5cf780,_0x548e77,_0x45877f){return _0x5cf780(_0x548e77,_0x45877f);},'zuGzV':_0x4ef2f4(0x201),'QZVnD':_0x4ef2f4(0x24d),'VLwHb':_0x4ef2f4(0x8ee),'csQnn':_0x4ef2f4(0x6df),'GShiL':_0x4ef2f4(0x2e6),'iJOMt':'list','nqxGh':_0x4ef2f4(0x537),'ieBLn':_0x4ef2f4(0x856),'VFRiJ':_0x4ef2f4(0x54c),'rvzZb':_0x4ef2f4(0xb3e),'BwhhN':_0x4ef2f4(0x837),'CmNYu':_0x4ef2f4(0xa14),'fYCqU':function(_0x258179,_0x5dfd34){return _0x258179(_0x5dfd34);},'EXnqK':function(_0x2a03e5,_0x21a041){return _0x2a03e5(_0x21a041);},'ofISx':_0x4ef2f4(0xbd2),'KxHXN':function(_0x4bd60e,_0xf14335,_0x4c1d43){return _0x4bd60e(_0xf14335,_0x4c1d43);},'zpOIx':function(_0x34a4df,_0x404ecd){return _0x34a4df(_0x404ecd);},'FCJsM':_0x4ef2f4(0xd1f),'WZCpe':_0x4ef2f4(0x94f),'yLqyq':_0x4ef2f4(0x3a0),'Uzdtk':_0x4ef2f4(0x1ec),'qadaa':'type','wdokq':_0x4ef2f4(0x5ec),'oQMPa':_0x4ef2f4(0xa87),'XaZkB':_0x4ef2f4(0x347),'rhLWb':_0x4ef2f4(0x57a),'FXHNe':function(_0x23cbd1,_0x40b1ec,_0x50ecb7){return _0x23cbd1(_0x40b1ec,_0x50ecb7);},'nnXpk':'can\x20populate\x20virtuals\x20defined\x20on\x20child\x20discriminators\x20(gh-8924)','XQFRt':function(_0x3bf215,_0x55b4a2){return _0x3bf215(_0x55b4a2);},'scvts':'Building','GLCPN':_0x4ef2f4(0x7e2),'ZREmm':'content','cHHAn':_0x4ef2f4(0x5be),'DsNLH':_0x4ef2f4(0x565),'VXqpI':_0x4ef2f4(0x3b1),'BFLsA':_0x4ef2f4(0xc26),'mMsfi':'Very\x20cool\x20second\x20post','qGXNk':_0x4ef2f4(0xc36),'dbAEM':_0x4ef2f4(0xc44),'tMhOp':_0x4ef2f4(0x3f8),'GqUGL':_0x4ef2f4(0x559),'fcvgT':'doc1','ivXnZ':_0x4ef2f4(0x895),'WDwpB':_0x4ef2f4(0x867),'NAAfc':'myVirtual','ezoAf':function(_0x4237cf,_0x5d8bcf){return _0x4237cf===_0x5d8bcf;},'oUafl':function(_0x1e958c,_0x4ea7e7){return _0x1e958c===_0x4ea7e7;},'CgMmX':function(_0x514f4a,_0x968e6){return _0x514f4a===_0x968e6;},'UFzLn':function(_0x4291fc,_0x394ff2){return _0x4291fc===_0x394ff2;},'KWChC':function(_0x5899f2,_0x16bf25,_0x46ed3e){return _0x5899f2(_0x16bf25,_0x46ed3e);},'HOtKv':_0x4ef2f4(0xb00),'cQaoh':'Cat','Lpjlv':_0x4ef2f4(0x2e4),'rRhLW':_0x4ef2f4(0x9a7),'fksot':'Bud','VjFHw':_0x4ef2f4(0x7ea),'QNdDU':'Keanu','KmyOK':_0x4ef2f4(0x81b),'sKNFZ':_0x4ef2f4(0x357),'jQjzS':_0x4ef2f4(0x228),'UkzmY':_0x4ef2f4(0x33b),'yCNtp':_0x4ef2f4(0xba9),'xEYjn':_0x4ef2f4(0x751),'nSGzA':_0x4ef2f4(0x881),'EazHq':'Book1','dvYSn':_0x4ef2f4(0x594),'VKfUn':'authors','pvAcV':'Post','YjVkO':_0x4ef2f4(0xae8),'WMKSI':'Nice\x20second\x20post','fnljl':_0x4ef2f4(0x426),'DIdEe':_0x4ef2f4(0x817),'QEMAP':_0x4ef2f4(0xc9c),'VzyCx':'Luke','QsWUP':_0x4ef2f4(0xd6e),'UWrlN':function(_0x5d4fd4){return _0x5d4fd4();},'VqKpV':function(_0x404101,_0x302083){return _0x404101===_0x302083;},'CtVdn':function(_0x2d03b3,_0x4bcfec){return _0x2d03b3(_0x4bcfec);},'jgvtz':_0x4ef2f4(0xcaf),'DhxNr':'Book','gqMhQ':_0x4ef2f4(0x3d7),'FJspZ':_0x4ef2f4(0x734),'zEdSB':'access.organization','jcPOx':_0x4ef2f4(0xce2),'BqLXA':_0x4ef2f4(0x343),'FlnUt':_0x4ef2f4(0x387),'vVWxW':_0x4ef2f4(0xb88),'EITrt':_0x4ef2f4(0x616),'TtaeE':'activities.speakers','aTiIK':_0x4ef2f4(0x99f),'NAYxZ':'Author','mhVOp':function(_0x49082e,_0x516a33,_0x499ed4){return _0x49082e(_0x516a33,_0x499ed4);},'zzPOV':'Text','JHHtD':_0x4ef2f4(0x29a),'ChKBB':_0x4ef2f4(0x2c0),'Jgkpd':_0x4ef2f4(0x76b),'RYzOs':_0x4ef2f4(0x6b3),'ayWjO':_0x4ef2f4(0x214),'bfYPN':_0x4ef2f4(0x252),'EPYYn':_0x4ef2f4(0xb94),'jTqjI':_0x4ef2f4(0x10c),'Qmknd':_0x4ef2f4(0x235),'vSHeR':'createdByModel','bqRwf':function(_0x3fdc4c){return _0x3fdc4c();},'kXlKZ':function(_0x492a78){return _0x492a78();},'Netdf':_0x4ef2f4(0xd48),'XZlan':'Team\x20Rocket','WviUH':_0x4ef2f4(0xbf3),'YqxXE':_0x4ef2f4(0x6a7),'NNlli':_0x4ef2f4(0x613),'vQNxV':_0x4ef2f4(0x104),'TAPfJ':_0x4ef2f4(0x84e),'OothF':_0x4ef2f4(0x152),'zNByn':'newest','UBmvL':_0x4ef2f4(0x389),'YqtZJ':'192.168.1.15','heFbK':_0x4ef2f4(0xbc4),'ViAmG':function(_0x59a50c){return _0x59a50c();},'vxXJH':'tagsDocuments','MRaIW':_0x4ef2f4(0xac2),'gBngn':_0x4ef2f4(0xd27),'lJeIf':function(_0x33bda4,_0x1cd275){return _0x33bda4<_0x1cd275;},'bHLyw':function(_0x262b25,_0x332d1e){return _0x262b25>_0x332d1e;},'MXPPv':_0x4ef2f4(0x8b7),'DVOvX':_0x4ef2f4(0x45b),'gIeqe':_0x4ef2f4(0xaa6),'kDHxk':'Vader','mYDwq':_0x4ef2f4(0x44e),'ZALyY':function(_0x259485){return _0x259485();},'kgZtn':function(_0x19d76d,_0x1c1ce9){return _0x19d76d===_0x1c1ce9;},'EDHfC':_0x4ef2f4(0x482),'JQAlc':'name\x20parent','gSTom':function(_0x385618,_0x4ed182){return _0x385618!==_0x4ed182;},'GWXUg':_0x4ef2f4(0x656),'BHOsR':_0x4ef2f4(0x59f),'gnjSF':_0x4ef2f4(0x926),'Kviur':_0x4ef2f4(0xa15),'yRatL':_0x4ef2f4(0x563),'RYEEX':_0x4ef2f4(0x94a),'FfTWu':'houseId','GLQRe':_0x4ef2f4(0xb12),'Mbqcp':'teacher1','ymrwM':'woohoo','UIJmi':'world','DWlnh':'construction','rYFJW':_0x4ef2f4(0xc3d),'GvWLf':_0x4ef2f4(0x632),'sXTiQ':_0x4ef2f4(0xb68),'PuMvx':function(_0x491ba4,_0x32f605,_0x10290b){return _0x491ba4(_0x32f605,_0x10290b);},'VtyJK':_0x4ef2f4(0x336),'ymKuB':_0x4ef2f4(0xa30),'VOBfL':_0x4ef2f4(0x870),'LMvwM':_0x4ef2f4(0x902),'SnXxL':_0x4ef2f4(0xa1a),'imfLU':'billy','LyQxM':function(_0x578d1d,_0x3ae727){return _0x578d1d+_0x3ae727;},'cYFYv':_0x4ef2f4(0x8a3),'hLHLX':_0x4ef2f4(0xa9e),'VdsHL':_0x4ef2f4(0xa6a),'JwOrL':_0x4ef2f4(0x7d9),'pbnDa':_0x4ef2f4(0xcce),'ILTWO':_0x4ef2f4(0x88e),'MRAki':_0x4ef2f4(0x9e1),'ovmOf':_0x4ef2f4(0x18e),'cKTEY':function(_0xaa2033,_0x56be9f){return _0xaa2033!==_0x56be9f;},'dCIyi':_0x4ef2f4(0x788),'QNWNP':_0x4ef2f4(0x283),'rGopm':_0x4ef2f4(0x69c),'gnOVN':'The\x20Empire\x20Strikes\x20Back','WkZIg':'Rocket','MMzQX':'developers.ticketCount','sUrSB':_0x4ef2f4(0x24a),'DUlNF':'Other','rKLep':function(_0x442637,_0x225f4b){return _0x442637(_0x225f4b);},'GdRcm':'locationId','ELQxP':function(_0x63c42b,_0x1627e5){return _0x63c42b(_0x1627e5);},'gYYsB':'Miami','pkShk':_0x4ef2f4(0x834),'BjLWB':_0x4ef2f4(0x9c1),'tmUpr':_0x4ef2f4(0x9f3),'jxwGt':function(_0x3a9458,_0x39ffc0){return _0x3a9458(_0x39ffc0);},'pNrGM':_0x4ef2f4(0x4b2),'rWvZk':_0x4ef2f4(0x35c),'ykRHP':_0x4ef2f4(0xbea),'IodJz':'ClickEvent','oPqFN':'EventsList','RAPwm':'post','KVHwo':_0x4ef2f4(0xbcd),'IRqOf':_0x4ef2f4(0xc1e),'hVsKw':_0x4ef2f4(0x166),'TlPON':_0x4ef2f4(0x2ce),'ByfCl':_0x4ef2f4(0xc77),'SwaOW':_0x4ef2f4(0x203),'kzXeS':_0x4ef2f4(0x9b0),'czDQw':_0x4ef2f4(0xb35),'fuuhp':_0x4ef2f4(0x475),'UsQPd':function(_0x2b6787,_0x1c29c3,_0x483688){return _0x2b6787(_0x1c29c3,_0x483688);},'MeibF':_0x4ef2f4(0x2d0),'iRktW':_0x4ef2f4(0xd19),'UkMVZ':function(_0x1efee4,_0x41d08d,_0xcbfc84){return _0x1efee4(_0x41d08d,_0xcbfc84);},'TtGyQ':_0x4ef2f4(0x8a1),'bkhTZ':function(_0xde2594,_0x51a31a,_0x288156){return _0xde2594(_0x51a31a,_0x288156);},'LlLir':_0x4ef2f4(0x17e),'LYhnN':_0x4ef2f4(0xa2c),'SZdDl':'set\x20to\x20obj\x20w/\x20same\x20id\x20doesnt\x20mark\x20modified\x20(gh-3992)','lPgNH':'deep\x20populate\x20single\x20->\x20array\x20(gh-3904)','fuuwG':'4\x20level\x20population\x20(gh-3973)','uiIcW':function(_0x475263,_0x57875b,_0x273e86){return _0x475263(_0x57875b,_0x273e86);},'UFSAx':_0x4ef2f4(0x8d5),'PXKuW':_0x4ef2f4(0x59e),'ajjld':'checks\x20field\x20name\x20correctly\x20with\x20nested\x20arrays\x20(gh-4365)','akwDQ':'virtual\x20populate\x20with\x20embedded\x20discriminators\x20(gh-6273)','WUGla':_0x4ef2f4(0x6b7),'cxdhJ':'populates\x20virtual\x20of\x20embedded\x20discriminator\x20with\x20dynamic\x20ref\x20when\x20more\x20than\x20one\x20model\x20name\x20is\x20returned\x20(gh-6612)','WoCeS':function(_0x182eae,_0x1ebb9b,_0x52c466){return _0x182eae(_0x1ebb9b,_0x52c466);},'HmGJW':function(_0x192eef,_0x24e7a4,_0x249153){return _0x192eef(_0x24e7a4,_0x249153);},'mLGMO':_0x4ef2f4(0x9be),'wZEke':_0x4ef2f4(0xb81),'gyyvg':_0x4ef2f4(0x5cb),'rZTbz':_0x4ef2f4(0x4be),'VCCed':_0x4ef2f4(0x538),'wBQyC':'supports\x20setting\x20`justOne`\x20as\x20an\x20option\x20(gh-6985)','BmAGF':_0x4ef2f4(0x338),'uXXWd':_0x4ef2f4(0xa8e),'GDuzC':function(_0x59fffc,_0x5d3e24,_0x4cc29c){return _0x59fffc(_0x5d3e24,_0x4cc29c);},'BDUAz':function(_0x58cb2a,_0x2a5e19,_0x593e5a){return _0x58cb2a(_0x2a5e19,_0x593e5a);},'RrAZk':_0x4ef2f4(0x364),'mTvns':function(_0x18691d,_0x1df201,_0x31d8f8){return _0x18691d(_0x1df201,_0x31d8f8);},'culAr':_0x4ef2f4(0x459),'ftfTf':function(_0x59fdc3,_0x441658,_0x427e01){return _0x59fdc3(_0x441658,_0x427e01);},'UJHur':_0x4ef2f4(0x167),'oJqhc':function(_0x5983c8,_0x52e1ea,_0x5e50a6){return _0x5983c8(_0x52e1ea,_0x5e50a6);},'SyRZX':_0x4ef2f4(0xb3d),'YSHXE':_0x4ef2f4(0xc9b),'MUTRq':function(_0x51d22a,_0x1dcdaa,_0x379964){return _0x51d22a(_0x1dcdaa,_0x379964);},'sLTse':_0x4ef2f4(0x71a),'yhNiR':function(_0x107fd6,_0x4cdbb2,_0x1e13c8){return _0x107fd6(_0x4cdbb2,_0x1e13c8);},'udMJh':_0x4ef2f4(0xaec),'eWjSh':'ref\x20function\x20for\x20conventional\x20populate\x20(gh-7669)','eikPI':_0x4ef2f4(0x16f),'xnxWp':_0x4ef2f4(0x968),'geslQ':_0x4ef2f4(0x520),'Dwkeg':function(_0x333dd3,_0x5ac0a6,_0x3b873a){return _0x333dd3(_0x5ac0a6,_0x3b873a);},'SPjJZ':_0x4ef2f4(0xcb9),'ZQNIy':_0x4ef2f4(0xc74),'iZNyr':_0x4ef2f4(0x544),'QYmnh':'handles\x20function\x20refPath\x20with\x20discriminators\x20(gh-8731)','ScskT':function(_0x1a7f60,_0xb70cdd,_0x2d36b7){return _0x1a7f60(_0xb70cdd,_0x2d36b7);},'vmtTU':_0x4ef2f4(0x301),'nxumU':function(_0x36114e,_0xe40e4,_0x3a04f1){return _0x36114e(_0xe40e4,_0x3a04f1);},'iyLgt':function(_0x8e6c0e,_0x2e0098,_0x2e1b6a){return _0x8e6c0e(_0x2e0098,_0x2e1b6a);},'GUlDE':function(_0x337c1d,_0x399f5e,_0x18508c){return _0x337c1d(_0x399f5e,_0x18508c);},'TiEtI':_0x4ef2f4(0x4e3),'OWuWR':'skips\x20checking\x20`refPath`\x20if\x20the\x20path\x20to\x20populate\x20is\x20undefined\x20(gh-9340)','iwyza':'supports\x20default\x20populate\x20options\x20(gh-6029)','ZDxMf':function(_0x420710,_0x1fbf40,_0x29672c){return _0x420710(_0x1fbf40,_0x29672c);},'kivvO':function(_0x3e4465,_0x78bc17,_0x40bb0c){return _0x3e4465(_0x78bc17,_0x40bb0c);},'OAqNF':'supports\x20`transform`\x20option\x20(gh-3375)','ZhNeU':_0x4ef2f4(0x506),'aTJyH':_0x4ef2f4(0x460),'HGKxg':'prevents\x20already\x20populated\x20fields\x20from\x20becoming\x20null\x20gh-10068','ZpAvk':_0x4ef2f4(0xa78),'eimvl':function(_0x3376ab,_0x31dea0,_0x489fe9){return _0x3376ab(_0x31dea0,_0x489fe9);},'rWLFZ':_0x4ef2f4(0xa2d),'dkZrv':_0x4ef2f4(0xd36),'JSKVU':'test@gmail.com','vlvWI':function(_0x12a16a,_0x4aa13a){return _0x12a16a(_0x4aa13a);},'DHtkb':_0x4ef2f4(0x50d),'pmbpu':_0x4ef2f4(0x9b3),'iMsBf':_0x4ef2f4(0x45f),'OQsnF':_0x4ef2f4(0x50b),'ASbKV':_0x4ef2f4(0xd4b),'BPpui':'authors.user','vmNxt':_0x4ef2f4(0xa4a),'QJOOz':_0x4ef2f4(0xbd3),'KSdix':_0x4ef2f4(0xcd0),'NQcgo':'tpSIm','ANjWX':_0x4ef2f4(0xbe6),'FlTjG':_0x4ef2f4(0xbca),'haltm':'mostRecentShift','QqApH':_0x4ef2f4(0x7ba),'fqfop':function(_0x12d99e,_0x4b9abc){return _0x12d99e-_0x4b9abc;},'FxxmO':'shift1','vwQJP':function(_0x3fbcd5,_0x2fb4ad){return _0x3fbcd5-_0x2fb4ad;},'EEAuv':_0x4ef2f4(0x750),'WxqHv':_0x4ef2f4(0x55f),'sPlSr':_0x4ef2f4(0x464),'xXBxd':_0x4ef2f4(0xa2a),'YprzB':'The\x20Fellowship\x20of\x20the\x20Ring','dbAGn':'Live\x20and\x20Let\x20Die','jbpKG':_0x4ef2f4(0xf9),'xACaL':'stories','JQkYl':_0x4ef2f4(0x300),'LqhcZ':'nationality','YNkur':_0x4ef2f4(0x3ab),'OCytZ':_0x4ef2f4(0x6e9),'njaDK':'Italy','opvSZ':_0x4ef2f4(0x654),'joXnd':_0x4ef2f4(0x299),'BmibE':_0x4ef2f4(0x3f9),'hQEhv':'nat','SZnmz':'key','crlIa':function(_0x2a9e5f,_0x3bcfa4){return _0x2a9e5f!==_0x3bcfa4;},'LVSsx':_0x4ef2f4(0xc95),'sQROj':_0x4ef2f4(0x1e7),'rChZw':function(_0x5589b5,_0x56bd31,_0xf13014){return _0x5589b5(_0x56bd31,_0xf13014);},'YBCYK':_0x4ef2f4(0x985),'pBDTp':_0x4ef2f4(0x9f2),'eJtPl':_0x4ef2f4(0xb45),'HEdRg':_0x4ef2f4(0x8e4),'YQoaT':_0x4ef2f4(0x94b),'qDbEn':_0x4ef2f4(0x509),'DRYth':_0x4ef2f4(0x219),'sMaAC':_0x4ef2f4(0x7e0),'OPBRF':_0x4ef2f4(0x449),'jtXJa':_0x4ef2f4(0x26e),'BelaK':function(_0x2538d2,_0x261476){return _0x2538d2(_0x261476);},'GlSYs':_0x4ef2f4(0x2c4),'vAEsw':_0x4ef2f4(0x7dd),'oYQOm':_0x4ef2f4(0xd5e),'KtiNR':_0x4ef2f4(0x2f8),'icVcc':'populating\x20with\x20partial\x20fields\x20selection','NkPIz':'undefined\x20for\x20nested\x20paths\x20(gh-3859)','bnNhk':function(_0x52cf4d,_0x50dee0,_0x540617){return _0x52cf4d(_0x50dee0,_0x540617);},'rncnZ':_0x4ef2f4(0x1fe),'ClQHb':function(_0x36c8e3,_0x4277f2,_0x363074){return _0x36c8e3(_0x4277f2,_0x363074);},'cAQaL':function(_0x3ec91f,_0x46c4da,_0x31da48){return _0x3ec91f(_0x46c4da,_0x31da48);},'Kmhff':_0x4ef2f4(0x693),'bFunB':_0x4ef2f4(0xcb),'JbmFp':function(_0x365ac7,_0x1ca061,_0xf88fd7){return _0x365ac7(_0x1ca061,_0xf88fd7);},'dvhQx':function(_0x5dc39e,_0x1599f,_0x596fbe){return _0x5dc39e(_0x1599f,_0x596fbe);},'zfIpV':_0x4ef2f4(0x67d),'dbQJk':function(_0x498702,_0x485a2e,_0x14ea2b){return _0x498702(_0x485a2e,_0x14ea2b);},'hSKSe':function(_0x2abc42,_0x1baa85,_0x4d4f68){return _0x2abc42(_0x1baa85,_0x4d4f68);},'HZAEW':_0x4ef2f4(0x1cb),'KHctF':_0x4ef2f4(0xabe),'iSNPn':_0x4ef2f4(0xb21),'LkySU':_0x4ef2f4(0x9a9),'jHrcj':function(_0xce842c,_0x4954e6,_0x5aae7b){return _0xce842c(_0x4954e6,_0x5aae7b);},'NvmUk':function(_0x47b041,_0xe4a3ea,_0x18d034){return _0x47b041(_0xe4a3ea,_0x18d034);},'IkeDN':_0x4ef2f4(0xbd9),'XcCaK':'populating\x20more\x20than\x20one\x20array\x20at\x20a\x20time','LuxJw':_0x4ef2f4(0x3bd),'YOcBU':'required\x20works\x20on\x20ref\x20fields\x20(gh-577)','ayFPj':'populate\x20works\x20with\x20schemas\x20with\x20both\x20id\x20and\x20_id\x20defined','fHjKk':function(_0x4bb6b7,_0x48452e,_0x17bcc3){return _0x4bb6b7(_0x48452e,_0x17bcc3);},'Itiwr':_0x4ef2f4(0xd1b),'rGlHd':_0x4ef2f4(0x64c),'BoGeK':function(_0x58109f,_0x14bef5,_0x1d2ecd){return _0x58109f(_0x14bef5,_0x1d2ecd);},'YeiXR':'specifying\x20a\x20custom\x20model\x20without\x20specifying\x20a\x20ref\x20in\x20schema','uVpIZ':'Model.populate()','OMhVn':_0x4ef2f4(0xcc),'dzjTs':_0x4ef2f4(0x32f),'VxsHK':_0x4ef2f4(0xff),'WFifS':_0x4ef2f4(0xb05),'JcUBk':_0x4ef2f4(0x2ea),'PriLh':function(_0x247cf4,_0xe5cef9,_0x1b15a6){return _0x247cf4(_0xe5cef9,_0x1b15a6);},'HCHwt':_0x4ef2f4(0x54f),'gWLFK':_0x4ef2f4(0x6f2),'LlZbc':function(_0x35562,_0x16ce15,_0x30a844){return _0x35562(_0x16ce15,_0x30a844);},'Dzbrt':function(_0x317529,_0x5d32c8,_0x52a345){return _0x317529(_0x5d32c8,_0x52a345);},'YFNJh':_0x4ef2f4(0x5a3),'dDQpJ':_0x4ef2f4(0x97c),'ycTyv':_0x4ef2f4(0xbe3)};this['timeout'](0x1f40);let _0x1e7a32,_0x51a58b,_0x4088a5,_0x27d0e4,_0x4f5330;_0x24a2f1['BelaK'](before,function(){const _0x4ab945=_0x4ef2f4;_0x1e7a32=new Schema({'name':String,'email':String,'gender':{'type':String,'enum':[_0x24a2f1[_0x4ab945(0xfa)],_0x4ab945(0x887)],'default':_0x4ab945(0x5a8)},'age':{'type':Number,'default':0x15},'blogposts':[{'type':ObjectId,'ref':_0x24a2f1[_0x4ab945(0x826)]}],'followers':[{'type':ObjectId,'ref':_0x24a2f1[_0x4ab945(0x840)]}]}),_0x51a58b=new Schema({'asers':[{'type':ObjectId,'ref':_0x24a2f1[_0x4ab945(0x840)]}],'_creator':{'type':ObjectId,'ref':_0x24a2f1[_0x4ab945(0x840)]},'content':String}),_0x4088a5=new Schema({'_creator':{'type':ObjectId,'ref':_0x4ab945(0x11f)},'title':String,'comments':[_0x51a58b],'fans':[{'type':ObjectId,'ref':'User'}]}),_0x27d0e4=_0x24a2f1[_0x4ab945(0x9e0)](start);}),_0x24a2f1[_0x4ef2f4(0x9b2)](after,async function(){await _0x27d0e4['close'](),_0x4f5330&&await _0x4f5330['close']();}),_0x24a2f1[_0x4ef2f4(0x6a0)](beforeEach,()=>_0x27d0e4[_0x4ef2f4(0x530)](/.*/)),afterEach(async()=>{const _0x23de65=_0x4ef2f4;return Promise[_0x23de65(0x8d9)]([util[_0x23de65(0x536)](_0x27d0e4),_0x4f5330?util[_0x23de65(0x536)](_0x4f5330):Promise['resolve']()]);}),afterEach(()=>{const _0x53cd9c=_0x4ef2f4;require(_0x53cd9c(0x987))[_0x53cd9c(0x30f)](_0x27d0e4),_0x4f5330&&require(_0x53cd9c(0x987))[_0x53cd9c(0x30f)](_0x4f5330);}),it(_0x4ef2f4(0xacd),async function(){const _0x43414b=_0x4ef2f4,_0x372abf={'kaJOW':function(_0x21a91a,_0x2d913a){const _0x47fde4=_0x2d45;return _0x24a2f1[_0x47fde4(0xbab)](_0x21a91a,_0x2d913a);},'bnSRG':function(_0x550921,_0x2fd2be){return _0x550921(_0x2fd2be);}};if(_0x24a2f1[_0x43414b(0x865)]!==_0x43414b(0x113)){const _0x2a3097=_0x27d0e4[_0x43414b(0x807)](_0x43414b(0x63e),_0x4088a5),_0x131910=_0x27d0e4[_0x43414b(0x807)](_0x43414b(0x11f),_0x1e7a32),_0x460944=await _0x131910['create']({'name':_0x24a2f1[_0x43414b(0x1d7)]}),_0x3a3eeb=await _0x131910[_0x43414b(0x46d)]({'name':_0x43414b(0xbac)}),_0x3e78ea=await _0x2a3097[_0x43414b(0x46d)]({'title':_0x43414b(0x1a5),'_creator':_0x460944[_0x43414b(0x534)],'comments':[{'_creator':_0x460944[_0x43414b(0x534)],'content':_0x24a2f1[_0x43414b(0x5c4)]},{'_creator':_0x3a3eeb[_0x43414b(0x534)],'content':_0x43414b(0x3de)}]});await _0x3e78ea[_0x43414b(0x52a)](_0x24a2f1[_0x43414b(0x583)]);}else{if(_0x28a218)return _0x372abf['kaJOW'](_0x4e1189,_0x35cc48);_0x2d8041[_0x43414b(0x46d)]({'name':_0x43414b(0x1da),'cats':[_0x1df4e6],'o':_0x6023c3,'a':[_0x5e90ac]},_0x372abf[_0x43414b(0xa06)](_0x5e47a2,_0x4c3eae));}}),_0x24a2f1[_0x4ef2f4(0x432)](it,_0x4ef2f4(0x634),async function(){const _0x5c1953=_0x4ef2f4,_0x40cead=_0x27d0e4[_0x5c1953(0x807)]('BlogPost',_0x4088a5),_0x39813b=_0x27d0e4[_0x5c1953(0x807)](_0x5c1953(0x11f),_0x1e7a32),_0x58de7e=await _0x39813b[_0x5c1953(0x46d)]({'name':_0x5c1953(0x288)}),_0x283405=await _0x39813b[_0x5c1953(0x46d)]({'name':_0x5c1953(0xc64),'followers':[_0x58de7e[_0x5c1953(0x534)]]}),_0x532f17=await _0x39813b['create']({'name':_0x5c1953(0x23f),'followers':[_0x283405[_0x5c1953(0x534)]]}),_0x4384d0=await _0x40cead['create']({'title':_0x5c1953(0x551),'_creator':_0x532f17[_0x5c1953(0x534)]}),_0x251461=await _0x40cead[_0x5c1953(0x770)](_0x4384d0[_0x5c1953(0x534)])[_0x5c1953(0x4e9)]('_creator')[_0x5c1953(0x52a)]({'path':'_creator','model':_0x24a2f1[_0x5c1953(0x840)],'select':_0x24a2f1[_0x5c1953(0x4bb)],'populate':[{'path':_0x24a2f1[_0x5c1953(0x6ee)],'select':_0x24a2f1[_0x5c1953(0x4bb)],'options':{'limit':0x5},'populate':{'path':'followers','select':_0x5c1953(0x8a8),'options':{'limit':0x2}}}]})[_0x5c1953(0x37d)]();assert['ok'](_0x251461[_0x5c1953(0x5ad)]),assert['equal'](_0x251461[_0x5c1953(0x5ad)][_0x5c1953(0x8a8)],_0x5c1953(0x23f)),assert['ok'](_0x251461[_0x5c1953(0x5ad)]['followers']),assert['ok'](_0x251461[_0x5c1953(0x5ad)][_0x5c1953(0x99b)][0x0]),assert['equal'](_0x251461[_0x5c1953(0x5ad)][_0x5c1953(0x99b)][0x0][_0x5c1953(0x8a8)],_0x24a2f1[_0x5c1953(0x57c)]),assert['ok'](_0x251461[_0x5c1953(0x5ad)][_0x5c1953(0x99b)][0x0][_0x5c1953(0x99b)]),assert['ok'](_0x251461[_0x5c1953(0x5ad)][_0x5c1953(0x99b)][0x0][_0x5c1953(0x99b)][0x0]),assert['equal'](_0x251461[_0x5c1953(0x5ad)][_0x5c1953(0x99b)][0x0][_0x5c1953(0x99b)][0x0]['name'],'User\x2001');}),describe(_0x24a2f1[_0x4ef2f4(0xad1)],function(){const _0x1ec8ff=_0x4ef2f4,_0x20139f={'IMkIS':_0x1ec8ff(0x62d),'jDFbw':function(_0x573ef6,_0x26a2dd){const _0x49b475=_0x1ec8ff;return _0x24a2f1[_0x49b475(0x8c3)](_0x573ef6,_0x26a2dd);}};it(_0x24a2f1['bnRPM'],function(_0x1b946f){const _0x5133ca=_0x1ec8ff,_0x566840={'jiJxv':function(_0x5e63a8){const _0x30d84d=_0x2d45;return _0x24a2f1[_0x30d84d(0x3d0)](_0x5e63a8);},'gEBmr':_0x24a2f1[_0x5133ca(0x63f)]},_0x52e0a3=new Schema({'name':String}),_0x25f777=new Schema({'name':String,'handler':{'type':Schema['Types']['ObjectId'],'ref':_0x5133ca(0x438)}}),_0x4620f0=new Schema({'name':String,'tasks':[{'type':Schema[_0x5133ca(0xc4a)]['ObjectId'],'ref':_0x5133ca(0x256)}]}),_0x1ad687=_0x27d0e4[_0x5133ca(0x807)](_0x5133ca(0x438),_0x52e0a3),_0x9978e2=_0x27d0e4[_0x5133ca(0x807)](_0x5133ca(0x256),_0x25f777),_0x38736e=_0x27d0e4[_0x5133ca(0x807)](_0x24a2f1[_0x5133ca(0x99d)],_0x4620f0);_0x1ad687[_0x5133ca(0x46d)]({'name':_0x24a2f1[_0x5133ca(0xbdd)]},function(_0x937faf,_0xc2f4b0){const _0xc13aac=_0x5133ca,_0x10dbd2={'cGJZo':_0x20139f[_0xc13aac(0xad9)],'oGeUu':'Test2','iqFlS':function(_0x5cf3bc,_0xfda3ce){const _0x59934f=_0xc13aac;return _0x20139f[_0x59934f(0x36f)](_0x5cf3bc,_0xfda3ce);},'lwxcM':_0xc13aac(0xc0c)};assert[_0xc13aac(0x127)](_0x937faf),_0x9978e2[_0xc13aac(0x46d)]({'name':'test2','handler':_0xc2f4b0[_0xc13aac(0x534)]},function(_0x260274,_0x242f02){const _0x5316a3=_0xc13aac,_0x513214={'PPslg':function(_0x5ba577,_0x24d71e){const _0x3df9c4=_0x2d45;return _0x10dbd2[_0x3df9c4(0xc1b)](_0x5ba577,_0x24d71e);}};if(_0x5316a3(0xc0c)!==_0x10dbd2['lwxcM']){const _0x5c8e8b={'spdxy':function(_0x16a7fd,_0x3d95d2){return _0x16a7fd(_0x3d95d2);},'NesdP':_0x5316a3(0x256),'iWblN':_0x10dbd2['cGJZo'],'nwfuZ':_0x5316a3(0x25e),'ixlYK':_0x10dbd2['oGeUu']};_0x384bef['ifError'](_0x683bcc),_0x5ea5fe[_0x5316a3(0x46d)]({'name':_0x5316a3(0x50e)},function(_0xfc3cfc,_0x202227){const _0x261971=_0x5316a3,_0x20bd84={'TbIMq':function(_0x1e95cc,_0x161a6a){const _0x118a36=_0x2d45;return _0x5c8e8b[_0x118a36(0x617)](_0x1e95cc,_0x161a6a);}};_0x5f3a17['ifError'](_0xfc3cfc),_0x1dbf17[_0x261971(0x46d)]({'children':[{'name':'Child\x201','toy':{'kind':_0x5c8e8b[_0x261971(0x7db)],'value':_0x457dfe[_0x261971(0x534)]}},{'name':_0x5c8e8b[_0x261971(0x29c)]},{'name':_0x5c8e8b[_0x261971(0xd5)],'toy':{'kind':_0x5c8e8b['ixlYK'],'value':_0x202227['_id']}}]},function(_0x227639,_0x2f4507){const _0x5bb369=_0x261971;_0x2dd5b8[_0x5bb369(0x127)](_0x227639),_0x20bd84['TbIMq'](_0x3dcc3a,_0x2f4507[_0x5bb369(0x534)]);});});}else{assert[_0x5316a3(0x127)](_0x260274);const _0x1433d2={'name':_0x5316a3(0xd3b),'tasks':[_0x242f02['_id']]};_0x38736e['create'](_0x1433d2,function(_0x108454,_0x4cb456){const _0x6a259b=_0x5316a3;assert['ifError'](_0x108454),_0x513214['PPslg'](_0x42e8aa,_0x4cb456[_0x6a259b(0x534)]);});}});});function _0x42e8aa(_0x50746f){const _0x57e3ae=_0x5133ca,_0x172aaa={'OWskg':function(_0x442298){const _0x1c3195=_0x2d45;return _0x566840[_0x1c3195(0x5f7)](_0x442298);}};_0x38736e[_0x57e3ae(0x770)](_0x50746f)[_0x57e3ae(0x52a)]([{'path':'tasks','populate':{'path':_0x566840[_0x57e3ae(0x7c8)]}}])[_0x57e3ae(0x37d)](function(_0x131bd8,_0x1a8099){const _0x25ed82=_0x57e3ae;assert[_0x25ed82(0x127)](_0x131bd8),assert['ok'](_0x1a8099[_0x25ed82(0x70d)][0x0][_0x25ed82(0xc5f)][_0x25ed82(0x534)]),_0x172aaa[_0x25ed82(0xb99)](_0x1b946f);});}}),it(_0x1ec8ff(0x852),function(_0x52bc29){const _0x5a3e81=_0x1ec8ff,_0x1feeb7={'RvaXE':_0x5a3e81(0x549),'LCYaV':_0x24a2f1[_0x5a3e81(0x952)],'ZMEeX':_0x24a2f1[_0x5a3e81(0xc1d)],'ToEwA':_0x24a2f1[_0x5a3e81(0x1e0)],'kcHUG':'comments._creator','FzeYj':_0x24a2f1[_0x5a3e81(0xbe8)],'rQEPF':'Guillermo','nQxpf':function(_0x29f0cf,_0x25a5a0){const _0x2d02af=_0x5a3e81;return _0x24a2f1[_0x2d02af(0x68d)](_0x29f0cf,_0x25a5a0);},'nGUVy':_0x5a3e81(0xd06)},_0x36da69=new Schema({'name':String,'description':String}),_0x535922=new Schema({'name':String,'company':{'type':mongoose[_0x5a3e81(0x101)][_0x5a3e81(0xc4a)][_0x5a3e81(0x2ef)],'ref':_0x24a2f1[_0x5a3e81(0x69d)],'select':![]}}),_0x3ff717=new Schema({'message':String,'author':{'type':mongoose[_0x5a3e81(0x101)][_0x5a3e81(0xc4a)][_0x5a3e81(0x2ef)],'ref':'User'},'target':{'type':mongoose[_0x5a3e81(0x101)]['Types'][_0x5a3e81(0x2ef)],'ref':_0x5a3e81(0x11f)}}),_0x1623b6=_0x27d0e4[_0x5a3e81(0x807)](_0x24a2f1[_0x5a3e81(0x69d)],_0x36da69),_0x19dcc0=_0x27d0e4['model'](_0x24a2f1[_0x5a3e81(0x840)],_0x535922),_0x4ef933=_0x27d0e4['model'](_0x5a3e81(0x39a),_0x3ff717),_0x3c2c1a=new _0x1623b6({'name':_0x24a2f1[_0x5a3e81(0x998)]}),_0x1622d2=new _0x19dcc0({'name':'Bill','company':_0x3c2c1a[_0x5a3e81(0x534)]}),_0x39fa46=new _0x19dcc0({'name':_0x5a3e81(0x21c),'company':_0x3c2c1a['_id']}),_0x30dde7=new _0x4ef933({'message':_0x24a2f1[_0x5a3e81(0x21e)],'author':_0x1622d2['_id'],'target':_0x39fa46['_id']});_0x3c2c1a[_0x5a3e81(0x87f)](function(_0x5d7d2c){const _0x1fd3b6=_0x5a3e81,_0x2d9935={'EnSSo':_0x1feeb7[_0x1fd3b6(0x4cb)],'zZhnw':_0x1feeb7['LCYaV'],'EDiDl':_0x1feeb7['ZMEeX'],'diEdB':_0x1fd3b6(0x307),'ykEIu':function(_0xd64d28){return _0xd64d28();},'dwgwW':_0x1feeb7[_0x1fd3b6(0x593)],'Vpxhs':_0x1fd3b6(0x8a8),'SGjco':_0x1feeb7[_0x1fd3b6(0x114)]};if(_0x1fd3b6(0x93b)===_0x1feeb7[_0x1fd3b6(0xb6c)])assert[_0x1fd3b6(0x127)](_0x5d7d2c),_0x19dcc0[_0x1fd3b6(0x46d)](_0x1622d2,_0x39fa46,function(_0x51978f){const _0x1fb6bf=_0x1fd3b6;assert[_0x1fb6bf(0x127)](_0x51978f),_0x30dde7['save'](function(_0x2ae905){const _0x548861=_0x1fb6bf,_0x893e09={'hgDwz':_0x2d9935[_0x548861(0x4eb)],'pSamu':_0x2d9935['zZhnw'],'fhYSe':_0x548861(0x159)};if(_0x2d9935['EDiDl']!==_0x2d9935[_0x548861(0x5ab)])assert[_0x548861(0x127)](_0x2ae905),_0x2d9935['ykEIu'](_0x43e6ee);else{const _0x27e56d={'tECSK':_0x893e09[_0x548861(0x572)]},_0x5ac089=new _0x2ed68d({'name':_0x5c37f6,'child':_0x4ef6d8[_0x548861(0x101)][_0x548861(0xc4a)][_0x548861(0x2ef)]}),_0x55fe93=new _0x1bcd70({'name':_0x3dd0f4}),_0x7d51f8=_0x137674[_0x548861(0x807)](_0x548861(0x855),_0x5ac089),_0x20fddd=_0x184f36[_0x548861(0x807)]('Child',_0x55fe93);_0x20fddd[_0x548861(0x46d)]({'name':_0x893e09[_0x548861(0x25a)]},function(_0x1b6a7a,_0x303fef){const _0x120521=_0x548861,_0x1cb496={'sKZAK':'Luke'};_0x3fe4d9[_0x120521(0x127)](_0x1b6a7a),_0x7d51f8[_0x120521(0x46d)]({'name':_0x893e09['hgDwz'],'child':_0x303fef[_0x120521(0x534)]},function(_0x3aef20){const _0x32f97f=_0x120521;_0x12ad79['ifError'](_0x3aef20),_0x7d51f8[_0x32f97f(0xc77)]()[_0x32f97f(0x52a)]({'path':_0x27e56d[_0x32f97f(0xb25)],'model':_0x32f97f(0x5ee)})[_0x32f97f(0x241)]()[_0x32f97f(0x166)](function(_0x2fb7e4,_0x10877c){const _0x4ef820=_0x32f97f;_0x238610['ifError'](_0x2fb7e4),_0x53d1b5['equal'](_0x10877c[_0x4ef820(0xb8f)][_0x4ef820(0x8a8)],_0x1cb496[_0x4ef820(0x72e)]),_0x4761f6();});});});}});});else{const _0x1d3b88={'YvXnX':_0x2d9935[_0x1fd3b6(0x1ed)],'pjMRR':_0x2d9935[_0x1fd3b6(0xb70)],'zIaJs':_0x1fd3b6(0x70b),'WPBuY':'_idontexist','DGccx':_0x2d9935[_0x1fd3b6(0x2d4)]};_0x39b2bf['ifError'](_0x3360ee),_0x14300a[_0x1fd3b6(0x770)](_0x5c95af[_0x1fd3b6(0x534)])[_0x1fd3b6(0x52a)]({'path':_0x1fd3b6(0x80d),'select':'email','model':_0x1fd3b6(0x11f),'strictPopulate':![]})[_0x1fd3b6(0x37d)](function(_0x284e60,_0x52f229){const _0x1f976f=_0x1fd3b6;_0x5878f2[_0x1f976f(0x127)](_0x284e60),_0x403773['ok'](_0x52f229),_0x881aa7['equal'](_0x52f229[_0x1f976f(0x83b)][_0x1f976f(0x2a2)],0x2),_0x322eb0['ok'](_0x52f229['comments'][0x0][_0x1f976f(0x4e7)](_0x1f976f(0xa72))),_0x3d1cd4[_0x1f976f(0xcbc)](_0x3f3e75(_0x52f229[_0x1f976f(0x83b)][0x0][_0x1f976f(0x4e7)](_0x1d3b88[_0x1f976f(0xbd0)])[_0x1f976f(0x534)]),_0x15b9f3['id']),_0x3ab2a8[_0x1f976f(0xcbc)](_0x52f229['comments'][0x0][_0x1f976f(0x4e7)](_0x1f976f(0xa72))['email'],_0x1f976f(0xc9f)),_0x1c00c9[_0x1f976f(0xcbc)](_0x52f229[_0x1f976f(0x83b)][0x0][_0x1f976f(0x4e7)](_0x1d3b88[_0x1f976f(0xbd0)])[_0x1f976f(0x346)](_0x1f976f(0x8a8)),![]),_0x1c9cec[_0x1f976f(0x672)](_0x52f229[_0x1f976f(0x83b)][0x0][_0x1f976f(0x5ad)],null),_0x529f1b[_0x1f976f(0xcbc)](_0x52f229['comments'][0x1][_0x1f976f(0x5ad)][_0x1f976f(0x303)](),_0x3d6920['id']),_0xd550eb['findById'](_0x52f229[_0x1f976f(0x534)])['populate'](_0x1d3b88[_0x1f976f(0x3a6)],_0x1f976f(0x978))[_0x1f976f(0x37d)](function(_0x3b2cda,_0x5ee2b4){const _0x18adac=_0x1f976f,_0x3678ff='5|8|7|4|6|0|3|2|1'[_0x18adac(0x3a7)]('|');let _0x2f0981=0x0;while(!![]){switch(_0x3678ff[_0x2f0981++]){case'0':_0x191f74[_0x18adac(0xcbc)](_0x5ee2b4['comments'][0x1]['_creator'][_0x18adac(0x978)],_0x18adac(0xc9f));continue;case'1':_0x3e88cb();continue;case'2':_0x53e659[_0x18adac(0xcbc)](_0x5ee2b4['comments'][0x1][_0x18adac(0x5e6)],_0x1d3b88[_0x18adac(0xc70)]);continue;case'3':_0x3e245a[_0x18adac(0xcbc)](_0x5ee2b4['comments'][0x1][_0x18adac(0x5ad)]['isInit'](_0x1d3b88[_0x18adac(0x216)]),![]);continue;case'4':_0x1a1750[_0x18adac(0x672)](_0x5ee2b4['comments'][0x0]['_creator'],null);continue;case'5':_0x5f5b78['ifError'](_0x3b2cda);continue;case'6':_0xc9732e['strictEqual'](_0x5ee2b4[_0x18adac(0x83b)][0x0][_0x18adac(0x5e6)],_0x1d3b88[_0x18adac(0x33c)]);continue;case'7':_0x2bd3b3['equal'](_0x5ee2b4[_0x18adac(0x83b)][_0x18adac(0x2a2)],0x2);continue;case'8':_0x34b818['ok'](_0x5ee2b4['comments']);continue;}break;}});});}});function _0x43e6ee(){const _0x536153=_0x5a3e81,_0xa165bd={'GPxeU':_0x1feeb7[_0x536153(0x434)],'uBywR':_0x536153(0x28f),'iaCVt':function(_0x2f0056,_0x36e121){const _0xa7b8ad=_0x536153;return _0x1feeb7[_0xa7b8ad(0x685)](_0x2f0056,_0x36e121);},'lbnLy':_0x1feeb7[_0x536153(0x984)],'gzNsO':_0x536153(0x5f6),'xvMTS':_0x536153(0x178)};_0x4ef933[_0x536153(0x3dd)]({'_id':_0x30dde7[_0x536153(0x534)]},function(_0x4f2636,_0xe63f1){const _0x3d62f2=_0x536153,_0x102fd2={'AeOzi':_0xa165bd[_0x3d62f2(0x560)],'ANWON':_0xa165bd[_0x3d62f2(0x6bd)]};if(_0xa165bd['iaCVt'](_0x3d62f2(0xd60),_0x3d62f2(0x9d6))){assert[_0x3d62f2(0x127)](_0x4f2636);const _0x2ba1d7={'path':_0xa165bd[_0x3d62f2(0x496)],'select':_0xa165bd[_0x3d62f2(0x314)],'populate':{'path':_0x3d62f2(0x2bd),'model':_0xa165bd['xvMTS']}};_0xe63f1[_0x3d62f2(0x52a)](_0x2ba1d7,function(_0x49b308){const _0x1fd777=_0x3d62f2;assert[_0x1fd777(0x127)](_0x49b308),assert[_0x1fd777(0xcbc)](_0xe63f1[_0x1fd777(0x3ad)][_0x1fd777(0x2bd)][_0x1fd777(0x8a8)],'IniTech'),_0x52bc29();});}else{const _0x182ae4={'FRAIx':_0x102fd2[_0x3d62f2(0x90b)],'RZTgP':_0x3d62f2(0x5ad)};_0xec62d8['ifError'](_0xa414a),_0x53cea4[_0x3d62f2(0x46d)]({'title':_0x102fd2[_0x3d62f2(0x2ad)],'_creator':_0x3927e3[_0x3d62f2(0x534)]},function(_0x2cb07f,_0x90cee9){const _0x391a09=_0x3d62f2;_0x103c6c[_0x391a09(0x127)](_0x2cb07f),_0x2dc6f2[_0x391a09(0x770)](_0x90cee9['_id'])[_0x391a09(0x52a)]({'path':_0x182ae4[_0x391a09(0x687)],'select':_0x391a09(0x8a8),'model':_0x43c9c0})[_0x391a09(0x37d)](function(_0xefb07,_0x1e3939){const _0x4443a4=_0x391a09;_0x138b97[_0x4443a4(0x127)](_0xefb07),_0x22556c['ok'](_0x1e3939[_0x4443a4(0x5ad)][_0x4443a4(0x8a8)]===_0x182ae4[_0x4443a4(0xb4c)]),_0x186619();});});}});}});}),_0x24a2f1['HmGJW'](it,_0x24a2f1['vAEsw'],function(_0x1b6e25){const _0x2e3b0d=_0x4ef2f4,_0x1c702d=_0x27d0e4['model'](_0x2e3b0d(0x63e),_0x4088a5),_0x2d7d00=_0x27d0e4[_0x2e3b0d(0x807)](_0x24a2f1[_0x2e3b0d(0x840)],_0x1e7a32);_0x2d7d00[_0x2e3b0d(0x46d)]({'name':'Guillermo','email':_0x2e3b0d(0x66f)},function(_0x803786,_0x33217e){const _0x38995c=_0x2e3b0d,_0x21b3c0={'VlCAc':'2|1|4|0|3','pKiYt':_0x38995c(0x66f),'qAKxL':'_creator'};assert['ifError'](_0x803786),_0x1c702d[_0x38995c(0x46d)]({'title':_0x24a2f1[_0x38995c(0xa6b)],'_creator':_0x33217e},function(_0x9f424d,_0x555cc0){const _0x2b9719=_0x38995c;assert[_0x2b9719(0x127)](_0x9f424d),_0x1c702d[_0x2b9719(0x770)](_0x555cc0[_0x2b9719(0x534)])['populate'](_0x21b3c0[_0x2b9719(0xcff)])['exec'](function(_0x5453b6,_0x80ef67){const _0x477515=_0x2b9719,_0x2ecec8=_0x21b3c0[_0x477515(0xb7b)][_0x477515(0x3a7)]('|');let _0x28cc8=0x0;while(!![]){switch(_0x2ecec8[_0x28cc8++]){case'0':assert[_0x477515(0xcbc)](_0x80ef67[_0x477515(0x5ad)][_0x477515(0x978)],_0x21b3c0[_0x477515(0xb01)]);continue;case'1':assert['ok'](_0x80ef67[_0x477515(0x5ad)]instanceof _0x2d7d00);continue;case'2':assert[_0x477515(0x127)](_0x5453b6);continue;case'3':_0x1b6e25();continue;case'4':assert[_0x477515(0xcbc)](_0x80ef67[_0x477515(0x5ad)]['name'],_0x477515(0xbfc));continue;}break;}});});});}),it(_0x24a2f1[_0x4ef2f4(0x504)],async function(){const _0x226049=_0x4ef2f4,_0x185cd3=_0x27d0e4['model'](_0x226049(0x63e),_0x4088a5);_0x27d0e4[_0x226049(0x807)](_0x226049(0x11f),_0x1e7a32);const _0x42b404=await _0x185cd3[_0x226049(0x46d)]({'title':_0x226049(0x28f),'_creator':null}),_0x1a4455=await _0x185cd3[_0x226049(0x770)](_0x42b404[_0x226049(0x534)])['populate'](_0x24a2f1[_0x226049(0xc60)]);assert[_0x226049(0xcbc)](_0x1a4455[_0x226049(0x5ad)],null);}),it(_0x4ef2f4(0xae9),function(_0x3acfda){const _0x1e56db=_0x4ef2f4,_0x28c2a9=_0x27d0e4['model'](_0x1e56db(0x63e),_0x4088a5);_0x28c2a9[_0x1e56db(0x46d)]({'title':_0x24a2f1[_0x1e56db(0xa6b)]},function(_0x388ef3,_0x57f429){const _0x2515f2=_0x1e56db;assert[_0x2515f2(0x127)](_0x388ef3),_0x28c2a9[_0x2515f2(0x7d3)](_0x57f429[_0x2515f2(0x534)],{'$set':{'_creator':{}}},function(_0x4d2a5c){assert['ok'](_0x4d2a5c),_0x3acfda();});});}),_0x24a2f1['nxumU'](it,_0x4ef2f4(0xa93),function(_0x5a441c){const _0x3ca34a=_0x4ef2f4,_0x1dadaf={'AUAUC':function(_0x14f514){const _0x122db6=_0x2d45;return _0x24a2f1[_0x122db6(0x237)](_0x14f514);},'IOSDR':_0x3ca34a(0xa88),'SHvLA':'name','howFi':_0x24a2f1[_0x3ca34a(0xa6b)]};_0x4f5330=_0x27d0e4['useDb'](start['databases'][0x1]);const _0x5efefa=_0x27d0e4[_0x3ca34a(0x807)](_0x24a2f1[_0x3ca34a(0x826)],_0x4088a5),_0x521ab0=_0x4f5330['model'](_0x3ca34a(0x11f),_0x1e7a32);_0x521ab0[_0x3ca34a(0x46d)]({'name':_0x24a2f1[_0x3ca34a(0x1e4)],'email':_0x24a2f1[_0x3ca34a(0xccb)]},function(_0x3cd18b,_0x2d1fde){const _0x493603=_0x3ca34a,_0x3ca293={'NpDNh':function(_0x1b1ba1){const _0x17ba9e=_0x2d45;return _0x1dadaf[_0x17ba9e(0x8d0)](_0x1b1ba1);},'cNaHz':'Test\x201','hdLWu':_0x1dadaf['IOSDR'],'MEAmZ':'_creator','EERAp':_0x1dadaf[_0x493603(0xa26)]};assert[_0x493603(0x127)](_0x3cd18b),_0x5efefa[_0x493603(0x46d)]({'title':_0x1dadaf[_0x493603(0xc9a)],'_creator':_0x2d1fde['_id']},function(_0x5b3f26,_0x513c18){const _0x28aa05=_0x493603;_0x3ca293['hdLWu']===_0x28aa05(0xa88)?(assert[_0x28aa05(0x127)](_0x5b3f26),_0x5efefa['findById'](_0x513c18['_id'])['populate']({'path':_0x3ca293['MEAmZ'],'select':_0x3ca293['EERAp'],'model':_0x521ab0})[_0x28aa05(0x37d)](function(_0x12e311,_0x215815){const _0x2cb74c=_0x28aa05;assert[_0x2cb74c(0x127)](_0x12e311),assert['ok'](_0x215815[_0x2cb74c(0x5ad)][_0x2cb74c(0x8a8)]===_0x2cb74c(0xbfc)),_0x3ca293[_0x2cb74c(0x860)](_0x5a441c);})):(_0x3b0f66[_0x28aa05(0x127)](_0x45bbbf),_0x3171a6[_0x28aa05(0xcbc)](_0x343970[0x0][_0x28aa05(0x6e5)][_0x28aa05(0x8a8)],_0x28aa05(0xb43)),_0x32e552[_0x28aa05(0xcbc)](_0xa68d1a[0x0][_0x28aa05(0x132)],_0x3ca293[_0x28aa05(0x947)]),_0x3fdd48());});});}),_0x24a2f1[_0x4ef2f4(0xa18)](it,_0x24a2f1[_0x4ef2f4(0x163)],function(_0x46bd0f){const _0x14ad00=_0x4ef2f4,_0x2929b4={'QFmpo':_0x14ad00(0xb8b),'smCdz':_0x24a2f1[_0x14ad00(0x76a)],'Eesoz':_0x14ad00(0x918),'wiyHv':function(_0x49f539,_0x448d3a){const _0x361b7d=_0x14ad00;return _0x24a2f1[_0x361b7d(0x6c5)](_0x49f539,_0x448d3a);},'WtmkF':function(_0x4f5a3b,_0x1510c7){return _0x4f5a3b instanceof _0x1510c7;}},_0x927ea6=_0x27d0e4[_0x14ad00(0x807)](_0x24a2f1['YBPRy'],_0x4088a5),_0x1a8174=_0x27d0e4[_0x14ad00(0x807)](_0x24a2f1[_0x14ad00(0x840)],_0x1e7a32);_0x1a8174['create']({'name':_0x24a2f1[_0x14ad00(0x1e4)],'email':_0x24a2f1[_0x14ad00(0xccb)]},function(_0x45ae94,_0xeaa459){const _0x473996=_0x14ad00,_0x254c63={'eAEOy':_0x473996(0x112)};_0x24a2f1[_0x473996(0xbb7)]('CKuRq',_0x24a2f1[_0x473996(0x5bf)])?(_0x1883cc[_0x473996(0x127)](_0x12295f),_0x5d63cd[_0x473996(0x405)]({'text':_0x254c63[_0x473996(0xb51)]}),_0x85468f[_0x473996(0x87f)](function(_0x228f67){const _0x50f1e2=_0x473996;_0x53635b[_0x50f1e2(0x127)](_0x228f67),_0x4cb533();})):(assert[_0x473996(0x127)](_0x45ae94),_0x927ea6[_0x473996(0x46d)]({'title':_0x24a2f1[_0x473996(0xa6b)],'_creator':_0xeaa459},function(_0x87e587,_0x3890a8){const _0x529cae=_0x473996,_0x213b88={'emCOS':function(_0x1e2964,_0x1e692f){return _0x1e2964===_0x1e692f;},'NlVWw':_0x2929b4[_0x529cae(0xd23)],'ygTGO':_0x2929b4[_0x529cae(0x8eb)],'OeMOK':_0x2929b4['Eesoz'],'BdHQB':function(_0x20bb1c,_0x20202c){const _0x755bea=_0x529cae;return _0x2929b4[_0x755bea(0x6ca)](_0x20bb1c,_0x20202c);},'epZxh':function(_0x5230e1,_0x308eba){const _0x54d3ec=_0x529cae;return _0x2929b4[_0x54d3ec(0x9d5)](_0x5230e1,_0x308eba);},'EJexY':'woot','BQCkV':function(_0x41414d){return _0x41414d();}};assert[_0x529cae(0x127)](_0x87e587);const _0x541142=_0x1a8174[_0x529cae(0x755)][_0x529cae(0xcde)][_0x529cae(0x37d)];_0x1a8174[_0x529cae(0x755)]['prototype']['exec']=function(){const _0x12621f=_0x529cae,_0x3cfb90={'lvcau':'woot','TdkGV':function(_0x6e41a4,_0x550caf){const _0x3bb5d4=_0x2d45;return _0x213b88[_0x3bb5d4(0x86a)](_0x6e41a4,_0x550caf);},'EnWgg':function(_0x56a8e1){return _0x56a8e1();},'lNPVO':'someone\x20else','BdNES':'val','LnPfx':_0x213b88['NlVWw'],'YHmRj':_0x213b88[_0x12621f(0xaa5)],'sVCJo':_0x213b88[_0x12621f(0x8f3)]};if(_0x213b88[_0x12621f(0xa83)](_0x12621f(0x9fd),_0x12621f(0x9fd))){const _0x38b30d=Array[_0x12621f(0xcde)][_0x12621f(0x847)][_0x12621f(0x20c)](arguments,function(_0x8c32e0){const _0x522fe2=_0x12621f,_0x28485b={'eUeoj':_0x3cfb90['lvcau']};return _0x3cfb90[_0x522fe2(0x546)](typeof _0x8c32e0,'function')?function(){const _0x2eff05=_0x522fe2;_0x8c32e0(new Error(_0x28485b[_0x2eff05(0x95d)]));}:_0x8c32e0;});return _0x541142[_0x12621f(0x7b6)](this,_0x38b30d);}else _0xb506d7[_0x12621f(0x127)](_0x3e9e33),_0xcfd12d[_0x12621f(0xcbc)](_0x4907e2[_0x12621f(0xb8b)][_0x12621f(0x2a2)],0x4),_0x185efe[_0x12621f(0xcbc)](_0x4379c5[_0x12621f(0xb8b)][0x3][_0x12621f(0x8a8)],_0x12621f(0x174)),_0x50f668[_0x12621f(0x672)](_0x3e7b67,_0x19fa94['fans'][0x3]['age']),_0x5df07d[_0x12621f(0xcbc)](_0x391ac9[_0x12621f(0xb8b)][0x2]['name'],'fan2'),_0x4a9507[_0x12621f(0x672)](_0x3785ce,_0x8992fc[_0x12621f(0xb8b)][0x2][_0x12621f(0x3f4)]),_0x2eacfe[_0x12621f(0xcbc)](_0x3f239d[_0x12621f(0xb8b)][0x1][_0x12621f(0x8a8)],_0x3cfb90[_0x12621f(0xdf)]),_0x446d8a[_0x12621f(0x672)](_0x41b5e5,_0x3da956[_0x12621f(0xb8b)][0x1][_0x12621f(0x3f4)]),_0x57a3a9[_0x12621f(0xcbc)](_0x5266fb[_0x12621f(0xb8b)][0x0][_0x12621f(0x8a8)],_0x3cfb90['BdNES']),_0x2006fa[_0x12621f(0x672)](_0x2fbb52,_0x4d0bcd[_0x12621f(0xb8b)][0x0][_0x12621f(0x3f4)]),_0x130f8c[_0x12621f(0x770)](_0x497965)[_0x12621f(0x52a)](_0x3cfb90[_0x12621f(0x52b)],_0x3cfb90[_0x12621f(0x28d)],{'age':{'$gt':0x3}},{'sort':{'name':_0x3cfb90['sVCJo']}})[_0x12621f(0x37d)](function(_0x33cdcb,_0x194323){const _0x257499=_0x12621f;_0x4fb680[_0x257499(0x127)](_0x33cdcb),_0x5ed647[_0x257499(0xcbc)](_0x194323[_0x257499(0xb8b)][_0x257499(0x2a2)],0x2),_0x258ab2[_0x257499(0xcbc)](_0x194323[_0x257499(0xb8b)][0x1]['age'][_0x257499(0xf4)](),0xa),_0x482456[_0x257499(0xcbc)](_0x194323[_0x257499(0xb8b)][0x0][_0x257499(0x3f4)]['valueOf'](),0x8),_0x3cfb90[_0x257499(0xa0d)](_0xba3cd1);});},_0x927ea6[_0x529cae(0x770)](_0x3890a8[_0x529cae(0x534)])['populate'](_0x529cae(0x5ad))[_0x529cae(0x37d)](function(_0x4f0480){const _0x5a0aa2=_0x529cae;assert['ok'](_0x213b88[_0x5a0aa2(0x447)](_0x4f0480,Error)),assert[_0x5a0aa2(0xcbc)](_0x4f0480['message'],_0x213b88[_0x5a0aa2(0x6b4)]),_0x1a8174[_0x5a0aa2(0x755)]['prototype'][_0x5a0aa2(0x37d)]=_0x541142,_0x213b88[_0x5a0aa2(0x9f5)](_0x46bd0f);});}));});}),_0x24a2f1[_0x4ef2f4(0xfd)](it,_0x24a2f1['icVcc'],function(_0x151d30){const _0x44dc81=_0x4ef2f4,_0x9332f2=_0x27d0e4['model'](_0x24a2f1[_0x44dc81(0x826)],_0x4088a5),_0x2d38c4=_0x27d0e4[_0x44dc81(0x807)](_0x24a2f1['pGlZv'],_0x1e7a32);_0x2d38c4['create']({'name':_0x24a2f1['BZvoH'],'email':_0x24a2f1[_0x44dc81(0xccb)]},function(_0x2efea8,_0xbc38ef){const _0x249ff6=_0x44dc81,_0x34dee1={'DDigj':function(_0x10d941,_0x51ae42){return _0x10d941 instanceof _0x51ae42;}};assert[_0x249ff6(0x127)](_0x2efea8),_0x9332f2[_0x249ff6(0x46d)]({'title':'woot','_creator':_0xbc38ef},function(_0x3e8f3f,_0x4fc315){const _0x1415ae=_0x249ff6,_0x195b09={'rjIfu':_0x1415ae(0xac5),'pBlvL':function(_0x1c292b,_0xc7979b){const _0x598d05=_0x1415ae;return _0x34dee1[_0x598d05(0x4d8)](_0x1c292b,_0xc7979b);}};assert['ifError'](_0x3e8f3f),_0x9332f2[_0x1415ae(0x770)](_0x4fc315['_id'])[_0x1415ae(0x52a)]('_creator',_0x1415ae(0x978))['exec'](function(_0x1967ef,_0x40f375){const _0x20b77b=_0x1415ae,_0x17283d=_0x195b09['rjIfu']['split']('|');let _0x2875aa=0x0;while(!![]){switch(_0x17283d[_0x2875aa++]){case'0':assert['equal'](_0x40f375[_0x20b77b(0x5ad)]['isInit'](_0x20b77b(0x8a8)),![]);continue;case'1':assert[_0x20b77b(0xcbc)](_0x40f375['_creator'][_0x20b77b(0x978)],'rauchg@gmail.com');continue;case'2':_0x151d30();continue;case'3':assert[_0x20b77b(0x127)](_0x1967ef);continue;case'4':assert['ok'](_0x195b09[_0x20b77b(0xc02)](_0x40f375['_creator'],_0x2d38c4));continue;}break;}});});});}),it(_0x4ef2f4(0x7dc),function(_0x404966){const _0x1f8d52=_0x4ef2f4,_0x30308a=_0x27d0e4[_0x1f8d52(0x807)](_0x1f8d52(0x63e),_0x4088a5),_0x356de8=_0x27d0e4[_0x1f8d52(0x807)](_0x1f8d52(0x11f),_0x1e7a32);_0x356de8[_0x1f8d52(0x46d)]({'name':_0x24a2f1[_0x1f8d52(0x8c4)],'email':'cats@example.com'},function(_0x126c05,_0x423a61){const _0x6452dc=_0x1f8d52,_0x2daafc={'WikhF':_0x6452dc(0x978)};assert[_0x6452dc(0x127)](_0x126c05),_0x30308a[_0x6452dc(0x46d)]({'title':_0x24a2f1[_0x6452dc(0xa6b)],'_creator':_0x423a61},function(_0x5b8601,_0x1a9c38){const _0x5b93ea=_0x6452dc,_0x48bc5a={'HYWPg':_0x5b93ea(0x5ad),'WTajQ':_0x2daafc['WikhF'],'xVetn':_0x5b93ea(0xcd7)};assert['ifError'](_0x5b8601),_0x30308a['findById'](_0x1a9c38[_0x5b93ea(0x534)])[_0x5b93ea(0x52a)](_0x5b93ea(0x5ad),_0x2daafc[_0x5b93ea(0x736)],{'name':_0x5b93ea(0x989)})[_0x5b93ea(0x37d)](function(_0x315a18,_0x3acfd2){const _0x1b108b=_0x5b93ea,_0x2acd92={'SAdkM':_0x1b108b(0x261)};assert[_0x1b108b(0x127)](_0x315a18),assert[_0x1b108b(0x672)](_0x3acfd2['_creator'],null),_0x30308a['findById'](_0x3acfd2[_0x1b108b(0x534)])['populate'](_0x48bc5a[_0x1b108b(0xf3)],_0x48bc5a[_0x1b108b(0x68f)],{'name':_0x48bc5a['xVetn']})['exec'](function(_0x31256a,_0x213062){const _0x1d82ea=_0x1b108b,_0x5ad58b=_0x2acd92['SAdkM'][_0x1d82ea(0x3a7)]('|');let _0x33454e=0x0;while(!![]){switch(_0x5ad58b[_0x33454e++]){case'0':assert[_0x1d82ea(0x127)](_0x31256a);continue;case'1':assert['ok'](_0x213062[_0x1d82ea(0x5ad)]instanceof _0x356de8);continue;case'2':assert['equal'](_0x213062[_0x1d82ea(0x5ad)][_0x1d82ea(0x978)],_0x1d82ea(0x4e8));continue;case'3':assert[_0x1d82ea(0xcbc)](![],_0x213062[_0x1d82ea(0x5ad)]['isInit'](_0x1d82ea(0x8a8)));continue;case'4':_0x404966();continue;}break;}});});});});}),it('population\x20of\x20undefined\x20fields\x20in\x20a\x20collection\x20of\x20docs',function(_0x389d31){const _0x140893=_0x4ef2f4,_0x1a5f3a={'grHNc':_0x24a2f1[_0x140893(0x661)],'gTJAV':_0x24a2f1[_0x140893(0x160)],'CQODQ':function(_0x347583,_0x483a3f){return _0x347583!==_0x483a3f;},'YVoXJ':_0x140893(0x5ad),'vJhas':function(_0x3ac24f,_0x3a49ee){return _0x3ac24f(_0x3a49ee);},'TdVpK':_0x24a2f1[_0x140893(0xd5a)]};if('qkniR'!==_0x140893(0x5e5))_0x119c16[_0x140893(0x127)](_0x30e9ea),_0x5b050b[_0x140893(0xcbc)](_0x55cd0f[_0x140893(0x83b)][_0x140893(0x2a2)],0x2),_0x28f98f[_0x140893(0x83b)][_0x140893(0x494)](function(_0xcd1037){const _0xa96e87=_0x140893;_0x20c006[_0xa96e87(0xcbc)](_0xcd1037['_id'],_0x47af71),_0x3414a4[_0xa96e87(0xcbc)](_0x129f73['keys'](_0xcd1037[_0xa96e87(0x76e)])[_0xa96e87(0x791)](_0x1a5f3a[_0xa96e87(0x4ce)]),-0x1),_0x152740['ok'](_0xcd1037['title'][_0xa96e87(0x2a2)]),_0x132979['ok'](_0xcd1037[_0xa96e87(0x467)][_0xa96e87(0x2a2)]),_0x3d970d[_0xa96e87(0xcbc)](typeof _0xcd1037[_0xa96e87(0x76e)][_0xa96e87(0x725)],_0x1a5f3a['gTJAV']);}),_0x6725a7();else{const _0x2303dc=_0x27d0e4[_0x140893(0x807)](_0x24a2f1[_0x140893(0x826)],_0x4088a5),_0x33171a=_0x27d0e4['model'](_0x24a2f1[_0x140893(0x840)],_0x1e7a32);_0x33171a[_0x140893(0x46d)]({'name':_0x24a2f1['CbEki'],'email':_0x24a2f1[_0x140893(0x258)]},function(_0x545c29,_0x530655){const _0x22850f=_0x140893,_0xd5bb27={'lKYlh':function(_0x15c884,_0x202d1a){return _0x1a5f3a['vJhas'](_0x15c884,_0x202d1a);},'WxHKF':_0x1a5f3a['TdVpK'],'TQQIJ':_0x22850f(0x83f),'qfhQD':_0x1a5f3a[_0x22850f(0x23e)]};assert[_0x22850f(0x127)](_0x545c29),_0x2303dc[_0x22850f(0x46d)]({'title':_0x22850f(0x821),'_creator':_0x530655},function(_0x1812c3){const _0x4a06b1=_0x22850f,_0x1dbc3b={'VoZHD':function(_0x4eb614,_0x577839){const _0x547f9f=_0x2d45;return _0x1a5f3a[_0x547f9f(0x4ec)](_0x4eb614,_0x577839);},'QxUfU':_0x1a5f3a[_0x4a06b1(0x23e)]};assert['ifError'](_0x1812c3),_0x2303dc[_0x4a06b1(0x46d)]({'title':'I\x20don\x27t'},function(_0x19ef09){const _0x31d938=_0x4a06b1,_0x4b4008={'yNLcK':function(_0x1d3312,_0x16f892){return _0xd5bb27['lKYlh'](_0x1d3312,_0x16f892);},'ufvwy':function(_0x32378d){return _0x32378d();},'UBrQt':_0xd5bb27['WxHKF'],'speZB':function(_0x36adfb){return _0x36adfb();}};if(_0x31d938(0x2e7)===_0xd5bb27[_0x31d938(0x5bb)]){const _0x4b37f5={'rXWCT':function(_0x41cf66,_0x25cc7c){const _0x5f573f=_0x31d938;return _0x1dbc3b[_0x5f573f(0xbb0)](_0x41cf66,_0x25cc7c);}};_0x29cb83['ifError'](_0x3f7770),_0x2b339f[_0x31d938(0xc77)]()[_0x31d938(0x52a)](_0x1dbc3b['QxUfU'])[_0x31d938(0x37d)](function(_0x311d93,_0x2c2420){const _0x16fd62=_0x31d938;_0x2c2420[_0x16fd62(0x494)](function(_0x9d0b15){const _0x19e2fc=_0x16fd62;_0x19e2fc(0x5ad)in _0x9d0b15&&_0x48c0de['ok'](_0x4b37f5[_0x19e2fc(0x27b)](_0x9d0b15[_0x19e2fc(0x5ad)],null));}),_0x424ca7();});}else assert['ifError'](_0x19ef09),_0x2303dc[_0x31d938(0xc77)]()['populate'](_0xd5bb27['qfhQD'])['exec'](function(_0x4bd835,_0x189120){const _0x579b72=_0x31d938,_0x5aa97f={'NUZmq':function(_0x34889f,_0xf30fbb){const _0x1bba36=_0x2d45;return _0x4b4008[_0x1bba36(0x639)](_0x34889f,_0xf30fbb);},'dxDST':_0x579b72(0xb8b),'MuHfl':function(_0x85162d){const _0x266241=_0x579b72;return _0x4b4008[_0x266241(0x882)](_0x85162d);},'SYXfR':_0x579b72(0xd6f),'UUWIz':_0x4b4008[_0x579b72(0x6a9)]};_0x189120['forEach'](function(_0x3d85ff){const _0x56a085=_0x579b72,_0x4989cc={'WFtGQ':function(_0x233e40,_0x504e7d){const _0x13286b=_0x2d45;return _0x5aa97f[_0x13286b(0xa35)](_0x233e40,_0x504e7d);},'IgELF':_0x5aa97f['dxDST'],'ydQWo':function(_0x1173e5){const _0x41bcd9=_0x2d45;return _0x5aa97f[_0x41bcd9(0xc8b)](_0x1173e5);},'wUaau':function(_0x10636e,_0x4a17a0){return _0x10636e instanceof _0x4a17a0;}};if(_0x5aa97f[_0x56a085(0x401)]===_0x5aa97f['UUWIz']){const _0x4b4715=_0x56a085(0xa21)[_0x56a085(0x3a7)]('|');let _0x51153b=0x0;while(!![]){switch(_0x4b4715[_0x51153b++]){case'0':_0x1ddf17['ok'](_0x36fc3e);continue;case'1':_0x596c1d[_0x56a085(0xcbc)](_0x19b5bd['fans'][0x1][_0x56a085(0x8a8)],_0x535e30['name']);continue;case'2':_0x4f26c1[_0x56a085(0xcbc)](_0x40d94f[_0x56a085(0xb8b)][0x0][_0x56a085(0x8a8)],_0x32b19b[_0x56a085(0x8a8)]);continue;case'3':_0x4d767d['equal'](_0x296a7e[_0x56a085(0x5ad)][_0x56a085(0x8a8)],_0x56a085(0x170));continue;case'4':_0x5cf8e8[_0x56a085(0xcbc)](_0x23252c(_0x5b7817[_0x56a085(0xb8b)][0x0][_0x56a085(0x534)]),_0x4989cc[_0x56a085(0x4a3)](_0x230f72,_0x1205ab[_0x56a085(0x118)](_0x4989cc[_0x56a085(0x193)])[0x0]));continue;case'5':_0x3c27bb['ok'](_0x2d21bd['isArray'](_0x156dd6[_0x56a085(0x118)](_0x4989cc[_0x56a085(0x193)])));continue;case'6':_0x19bb55[_0x56a085(0xcbc)](_0xdacd3b[_0x56a085(0xb8b)][_0x56a085(0x2a2)],0x2);continue;case'7':_0x133e78[_0x56a085(0x127)](_0x4c77e7);continue;case'8':_0x5cce1c[_0x56a085(0xcbc)](_0x66a331(_0x194fb4['fans'][0x1]['_id']),_0x46192c(_0x43f8cd[_0x56a085(0x118)](_0x4989cc['IgELF'])[0x1]));continue;case'9':_0x4989cc['ydQWo'](_0x5bdee7);continue;case'10':_0x36842f['ok'](_0x4989cc[_0x56a085(0xbde)](_0x3228ef[_0x56a085(0x5ad)],_0x234eab));continue;}break;}}else'_creator'in _0x3d85ff&&assert['ok'](_0x3d85ff[_0x56a085(0x5ad)]!==null);}),_0x4b4008[_0x579b72(0x312)](_0x389d31);});});});});}}),_0x24a2f1[_0x4ef2f4(0xcc7)](it,_0x24a2f1[_0x4ef2f4(0x273)],function(_0x373284){const _0x10881e=_0x4ef2f4,_0x334af5=new mongoose[(_0x10881e(0x101))]({'name':String,'description':String}),_0x30e833=new mongoose[(_0x10881e(0x101))]({'name':String,'company':{'type':mongoose[_0x10881e(0x101)][_0x10881e(0xc4a)][_0x10881e(0x2ef)],'ref':_0x10881e(0x178)}}),_0x41dd78=new mongoose['Schema']({'items':[_0x30e833]}),_0x19767f=_0x27d0e4['model'](_0x24a2f1[_0x10881e(0x69d)],_0x334af5),_0x5062f1=_0x27d0e4['model'](_0x10881e(0x11f),_0x30e833),_0x332c06=_0x27d0e4[_0x10881e(0x807)]('Test',_0x41dd78),_0x1318f2=new _0x19767f({'name':_0x10881e(0x80a)}),_0x1e8df4=new _0x5062f1({'name':_0x10881e(0xc17),'company':_0x1318f2[_0x10881e(0x534)]}),_0x26e9b8=new _0x5062f1({'name':'Lambda'}),_0x358b4b=new _0x332c06({'items':[_0x1e8df4,_0x26e9b8]});_0x1318f2['save'](function(_0x396937){const _0x23d676=_0x10881e,_0x2cce65={'MvDUp':'Fan\x203','FFBai':_0x24a2f1['QCJlJ'],'ciIQr':_0x23d676(0x3f4),'MRhiJ':_0x24a2f1['oaihn'],'wdrDa':function(_0x23b829){const _0x4c243d=_0x23d676;return _0x24a2f1[_0x4c243d(0xa41)](_0x23b829);},'JcggL':_0x23d676(0xb8b),'ISDdE':_0x23d676(0x9de)};_0x24a2f1[_0x23d676(0x64a)](_0x24a2f1[_0x23d676(0x435)],_0x24a2f1[_0x23d676(0x435)])?(_0x1278e3[_0x23d676(0x127)](_0x222b91),_0x434a97[_0x23d676(0xc77)]({'_id':{'$in':[_0x4b0c74[_0x23d676(0x534)],_0x44b155[_0x23d676(0x534)]]}})[_0x23d676(0x52a)](_0x2cce65[_0x23d676(0x920)],_0x2cce65[_0x23d676(0x177)],{'gender':_0x23d676(0x887),'age':0x19})[_0x23d676(0x37d)](function(_0x3f6898,_0x4cc9e9){const _0x36bd91=_0x23d676;_0x4a05e5[_0x36bd91(0x127)](_0x3f6898),_0x583035[_0x36bd91(0x672)](_0x4cc9e9[0x0][_0x36bd91(0xb8b)][_0x36bd91(0x2a2)],0x1),_0x1bc115[_0x36bd91(0xcbc)](_0x4cc9e9[0x0][_0x36bd91(0xb8b)][0x0][_0x36bd91(0x8a8)],_0x2cce65[_0x36bd91(0xc5b)]),_0xeb5dd[_0x36bd91(0xcbc)](_0x4cc9e9[0x0][_0x36bd91(0xb8b)][0x0][_0x36bd91(0x978)],_0x36bd91(0xd33)),_0x2653f2[_0x36bd91(0xcbc)](_0x4cc9e9[0x0][_0x36bd91(0xb8b)][0x0][_0x36bd91(0x346)](_0x2cce65['FFBai']),!![]),_0x66251a[_0x36bd91(0xcbc)](_0x4cc9e9[0x0][_0x36bd91(0xb8b)][0x0]['isInit']([_0x36bd91(0x978)]),!![]),_0x1200d5['equal'](_0x4cc9e9[0x0][_0x36bd91(0xb8b)][0x0]['isInit'](_0x36bd91(0x3f3)),![]),_0x52304f[_0x36bd91(0xcbc)](_0x4cc9e9[0x0][_0x36bd91(0xb8b)][0x0][_0x36bd91(0x346)](_0x2cce65['ciIQr']),![]),_0x9011ce[_0x36bd91(0xcbc)](_0x4cc9e9[0x0]['fans'][0x0][_0x36bd91(0x346)]([_0x36bd91(0x978),_0x2cce65[_0x36bd91(0x8be)]]),!![]),_0x2bb80b[_0x36bd91(0xcbc)](_0x4cc9e9[0x0][_0x36bd91(0xb8b)][0x0]['isInit']([_0x2cce65[_0x36bd91(0x417)],_0x36bd91(0x3f4)]),![]),_0x53f074[_0x36bd91(0x672)](_0x4cc9e9[0x1]['fans'][_0x36bd91(0x2a2)],0x1),_0xc7b085['equal'](_0x4cc9e9[0x1]['fans'][0x0][_0x36bd91(0x8a8)],'Fan\x203'),_0x5790e7[_0x36bd91(0xcbc)](_0x4cc9e9[0x1][_0x36bd91(0xb8b)][0x0][_0x36bd91(0x978)],_0x36bd91(0xd33)),_0x23042b['equal'](_0x4cc9e9[0x1]['fans'][0x0][_0x36bd91(0x346)](_0x2cce65[_0x36bd91(0x4f7)]),!![]),_0x3219c4[_0x36bd91(0xcbc)](_0x4cc9e9[0x1][_0x36bd91(0xb8b)][0x0][_0x36bd91(0x346)](_0x36bd91(0x3f3)),![]),_0x31cb01['equal'](_0x4cc9e9[0x1][_0x36bd91(0xb8b)][0x0][_0x36bd91(0x346)]('age'),![]),_0x2cce65[_0x36bd91(0x6f7)](_0x470d67);})):(assert[_0x23d676(0x127)](_0x396937),_0x5062f1[_0x23d676(0x46d)](_0x1e8df4,_0x26e9b8,function(_0x258d5b){const _0x47e9af=_0x23d676;assert[_0x47e9af(0x127)](_0x258d5b),_0x358b4b[_0x47e9af(0x87f)](function(_0x39ed5d){const _0x243b5b=_0x47e9af;assert[_0x243b5b(0x127)](_0x39ed5d),_0x1c5820(_0x358b4b[_0x243b5b(0x534)]);});}));});function _0x1c5820(_0x50d03f){const _0x1683b6=_0x10881e,_0x107037={'uaPsE':function(_0x56a65d,_0x3b321b){const _0x2ec372=_0x2d45;return _0x24a2f1[_0x2ec372(0x6c5)](_0x56a65d,_0x3b321b);},'otmBH':_0x1683b6(0x4ea),'vcyXh':_0x24a2f1['jZfRA'],'qQMvK':_0x1683b6(0x63a)};_0x332c06[_0x1683b6(0x3dd)]({'_id':_0x50d03f},function(_0x375fc7,_0x2cdccd){const _0x9a3771=_0x1683b6;if(_0x107037['uaPsE'](_0x107037['otmBH'],_0x107037[_0x9a3771(0x78b)]))return _0x4ed9e3['findById'](_0x3c09d6['_id']);else{assert[_0x9a3771(0x127)](_0x375fc7);const _0x1f7a8a={'path':_0x107037[_0x9a3771(0x6ce)],'options':{'lean':!![]},'model':_0x19767f};_0x332c06['populate'](_0x2cdccd,_0x1f7a8a,function(_0x238685){const _0x2dca01=_0x9a3771;assert[_0x2dca01(0x127)](_0x238685),assert[_0x2dca01(0x672)](_0x2cdccd['items'][0x1][_0x2dca01(0x2bd)],void 0x0),_0x373284();});}});}}),_0x24a2f1[_0x4ef2f4(0x79b)](it,_0x24a2f1[_0x4ef2f4(0x60f)],function(_0xce1aeb){const _0x31e9b6=_0x4ef2f4,_0xe2fa2a={'YHMeN':_0x31e9b6(0x5ad),'FbWCu':_0x24a2f1[_0x31e9b6(0xa6b)]},_0x3e386e=_0x27d0e4[_0x31e9b6(0x807)](_0x31e9b6(0x63e),_0x4088a5),_0x3cd0f8=_0x27d0e4[_0x31e9b6(0x807)](_0x31e9b6(0x11f),_0x1e7a32);_0x3cd0f8[_0x31e9b6(0x46d)]({'name':_0x24a2f1['BZvoH'],'email':_0x24a2f1[_0x31e9b6(0xccb)]},function(_0x42ee2d,_0xd39a8e){const _0x1b5434=_0x31e9b6,_0x3d9a49={'uqbhs':_0xe2fa2a[_0x1b5434(0x278)]};assert[_0x1b5434(0x127)](_0x42ee2d),_0x3e386e[_0x1b5434(0x46d)]({'title':_0xe2fa2a[_0x1b5434(0x7ce)],'_creator':_0xd39a8e},function(_0x3e3207,_0x371912){const _0x658211=_0x1b5434,_0x513823={'ywxDR':_0x658211(0x66f),'seDti':_0x658211(0xba5)};assert['ifError'](_0x3e3207),_0x3e386e[_0x658211(0x770)](_0x371912[_0x658211(0x534)])[_0x658211(0x52a)](_0x3d9a49[_0x658211(0x135)])[_0x658211(0x37d)](function(_0x1fdc4b,_0x27aaf3){const _0x178ffb=_0x658211,_0x289557={'cNaeS':_0x178ffb(0x5ad),'kVaiW':_0x178ffb(0xba5)};assert[_0x178ffb(0x127)](_0x1fdc4b),assert['ok'](_0x27aaf3[_0x178ffb(0x5ad)]instanceof _0x3cd0f8),assert['equal'](_0x27aaf3[_0x178ffb(0x5ad)][_0x178ffb(0x8a8)],_0x178ffb(0xbfc)),assert[_0x178ffb(0xcbc)](_0x27aaf3[_0x178ffb(0x5ad)][_0x178ffb(0x978)],_0x513823['ywxDR']),_0x3cd0f8['create']({'name':'Aaron','email':_0x513823[_0x178ffb(0x348)]},function(_0x54f375,_0x3de4cd){const _0x16aab7=_0x178ffb,_0x3fb785={'Nckmj':_0x16aab7(0xafb),'ymtCj':_0x289557['kVaiW']};assert[_0x16aab7(0x127)](_0x54f375),_0x27aaf3[_0x16aab7(0x5ad)]=_0x3de4cd[_0x16aab7(0x534)],assert[_0x16aab7(0xcbc)](_0x3de4cd[_0x16aab7(0x534)],String(_0x27aaf3[_0x16aab7(0x5ad)])),_0x27aaf3[_0x16aab7(0x87f)](function(_0x49871c){const _0x40d486=_0x16aab7;assert[_0x40d486(0x127)](_0x49871c),_0x3e386e[_0x40d486(0x770)](_0x27aaf3[_0x40d486(0x534)])[_0x40d486(0x52a)](_0x289557[_0x40d486(0xb1c)])[_0x40d486(0x37d)](function(_0x1489df,_0x26c678){const _0x13a1c2=_0x40d486;assert[_0x13a1c2(0x127)](_0x1489df),assert[_0x13a1c2(0xcbc)](_0x26c678[_0x13a1c2(0x5ad)][_0x13a1c2(0x8a8)],_0x3fb785[_0x13a1c2(0x595)]),assert['equal'](_0x26c678[_0x13a1c2(0x5ad)][_0x13a1c2(0x978)],_0x3fb785[_0x13a1c2(0x723)]),_0xce1aeb();});});});});});});}),_0x24a2f1[_0x4ef2f4(0x8a2)](it,'populating\x20with\x20partial\x20fields\x20selection\x20and\x20changing\x20ref',function(_0x509a97){const _0xeed98f=_0x4ef2f4;if(_0x24a2f1[_0xeed98f(0x32d)](_0x24a2f1['YSApG'],_0xeed98f(0x9a3)))return _0x12a008=_0xbf8108[_0xeed98f(0x331)](),!_0x5cd943[_0xeed98f(0x534)][_0xeed98f(0x862)](_0x3b45b8['id'])&&(_0xd51896['contributors'][0x0]['author']=_0x743e63[_0xeed98f(0x31c)][0x0][_0xeed98f(0xc78)][_0xeed98f(0x534)]),_0x5558e6;else{const _0x4c34f6=_0x27d0e4[_0xeed98f(0x807)](_0x24a2f1[_0xeed98f(0x826)],_0x4088a5),_0x3758da=_0x27d0e4[_0xeed98f(0x807)](_0x24a2f1[_0xeed98f(0x840)],_0x1e7a32);_0x3758da[_0xeed98f(0x46d)]({'name':_0xeed98f(0xbfc),'email':_0x24a2f1[_0xeed98f(0xccb)]},function(_0x21f623,_0x4e7b17){const _0x4f4169=_0xeed98f,_0x212a1f={'hMmdW':_0x24a2f1[_0x4f4169(0x32e)],'rhbKF':_0x24a2f1['jIWgS'],'RxIdX':_0x4f4169(0x438),'UYvhb':_0x24a2f1[_0x4f4169(0x505)],'FHeGC':_0x4f4169(0x508),'cMSsA':_0x24a2f1[_0x4f4169(0xc60)]};assert[_0x4f4169(0x127)](_0x21f623),_0x4c34f6[_0x4f4169(0x46d)]({'title':_0x24a2f1[_0x4f4169(0xa6b)],'_creator':_0x4e7b17},function(_0x2bf885,_0x3c68ad){const _0x3b4ddf=_0x4f4169,_0x3128e5={'TewGh':_0x212a1f[_0x3b4ddf(0xb4a)],'pwsaB':_0x212a1f[_0x3b4ddf(0x2e1)],'egPUB':'Buy\x20Milk','fVzzu':_0x3b4ddf(0x198),'XDJDQ':_0x212a1f[_0x3b4ddf(0x29d)],'uOUTn':_0x212a1f[_0x3b4ddf(0xcd5)],'kgGkx':function(_0xffd55c,_0xa85ec5){return _0xffd55c!==_0xa85ec5;},'stTOQ':_0x212a1f['FHeGC']};assert[_0x3b4ddf(0x127)](_0x2bf885),_0x4c34f6[_0x3b4ddf(0x770)](_0x3c68ad[_0x3b4ddf(0x534)])[_0x3b4ddf(0x52a)](_0x212a1f[_0x3b4ddf(0xb30)],{'name':0x1})[_0x3b4ddf(0x37d)](function(_0x31d9d5,_0x43205f){const _0x146496=_0x3b4ddf,_0x3e7afe={'UQGMT':_0x146496(0xc03),'DabeA':function(_0x567223){return _0x567223();},'XuujU':_0x3128e5[_0x146496(0x17a)],'INehT':_0x3128e5['egPUB'],'obrOy':_0x3128e5['fVzzu'],'wqzqZ':_0x3128e5['XDJDQ'],'kscCK':_0x3128e5[_0x146496(0x40a)]};if(_0x3128e5[_0x146496(0xcaa)](_0x146496(0x3df),_0x146496(0x67c)))assert[_0x146496(0x127)](_0x31d9d5),assert['ok'](_0x43205f[_0x146496(0x5ad)]instanceof _0x3758da),assert[_0x146496(0xcbc)](_0x43205f[_0x146496(0x5ad)][_0x146496(0x8a8)],_0x146496(0xbfc)),_0x3758da[_0x146496(0x46d)]({'name':'Aaron','email':_0x3128e5[_0x146496(0x820)]},function(_0x54a798,_0x279055){const _0x5dda81=_0x146496,_0x586268={'RILsD':_0x3128e5[_0x5dda81(0xadc)]};'kcChz'===_0x5dda81(0x6d2)?(_0x2d999a['ok'](_0x496c41),_0x288620[_0x5dda81(0xcbc)](_0x59c124[_0x5dda81(0x8a8)],_0x3e7afe[_0x5dda81(0x7ab)]),_0x3e7afe[_0x5dda81(0x453)](_0x1140f2)):(assert['ifError'](_0x54a798),_0x43205f[_0x5dda81(0x5ad)]=_0x279055['_id'],_0x43205f[_0x5dda81(0x87f)](function(_0x586681){const _0x3c7cd1=_0x5dda81;assert[_0x3c7cd1(0x127)](_0x586681),_0x4c34f6['findById'](_0x43205f[_0x3c7cd1(0x534)])[_0x3c7cd1(0x52a)](_0x3c7cd1(0x5ad),_0x3e7afe[_0x3c7cd1(0x80e)])[_0x3c7cd1(0x37d)](function(_0x41be61,_0x1a2a67){const _0x4e67ad=_0x3c7cd1;assert[_0x4e67ad(0x127)](_0x41be61),assert[_0x4e67ad(0xcbc)](_0x1a2a67[_0x4e67ad(0x5ad)]['name'],_0x586268[_0x4e67ad(0xd30)]),assert['ok'](!_0x1a2a67[_0x4e67ad(0x5ad)][_0x4e67ad(0x978)]),_0x509a97();});}));});else{const _0x205911=new _0x148fce({'_id':_0x58ab90,'name':_0x40784d}),_0xde76de=new _0x2a2f32({'author':{'type':_0x3bfb4f,'ref':_0x146496(0x11f)},'body':_0x4d42c2}),_0x51663a=_0x5cbc15['model'](_0x146496(0x11f),_0x205911),_0x4ebe23=_0x500316['model'](_0x3e7afe[_0x146496(0x66c)],_0xde76de),_0x3d3e24=new _0x51663a({'_id':_0x3e7afe[_0x146496(0x57d)],'name':_0x3e7afe[_0x146496(0x500)]});_0x3d3e24['save'](function(_0x2deb25){const _0x47a81c=_0x146496,_0x47afd4={'IPGOX':_0x47a81c(0x730),'ihRNv':_0x3e7afe[_0x47a81c(0x182)],'iozAT':_0x3e7afe[_0x47a81c(0x500)],'qwuQh':_0x47a81c(0xc78)};_0x5f3700['ifError'](_0x2deb25);const _0x357fdd=new _0x4ebe23({'author':'alice','body':_0x47a81c(0x8b1)});_0x357fdd[_0x47a81c(0x87f)](function(_0x16c515){const _0x13b31e=_0x47a81c;_0x482181[_0x13b31e(0x127)](_0x16c515),_0x4ebe23[_0x13b31e(0x770)](_0x357fdd['id'])[_0x13b31e(0x52a)](_0x47afd4[_0x13b31e(0x463)])[_0x13b31e(0x37d)](function(_0x28c06a,_0x1807d7){const _0x402c61=_0x13b31e,_0x931d4d=_0x47afd4[_0x402c61(0xd25)]['split']('|');let _0x5492e4=0x0;while(!![]){switch(_0x931d4d[_0x5492e4++]){case'0':_0x531736();continue;case'1':_0x3637ea['ok'](_0x1807d7[_0x402c61(0xc78)]);continue;case'2':_0x52d405[_0x402c61(0xcbc)](_0x1807d7[_0x402c61(0x467)],_0x47afd4[_0x402c61(0x11a)]);continue;case'3':_0x5247ab[_0x402c61(0xcbc)](_0x1807d7[_0x402c61(0xc78)][_0x402c61(0x8a8)],_0x47afd4[_0x402c61(0x828)]);continue;case'4':_0x34a82a[_0x402c61(0x127)](_0x28c06a);continue;}break;}});});});}});});});}}),it(_0x4ef2f4(0x2d9),function(_0x5e279f){const _0x48c032=_0x4ef2f4,_0x4e25fe={'csrjX':function(_0x32223a,_0x4a4637){return _0x32223a!==_0x4a4637;},'vgjbC':_0x48c032(0x1ca),'aQVoW':_0x48c032(0x660)};if(_0x24a2f1[_0x48c032(0x6b2)]!=='YpeGK'){const _0x424b34=_0x27d0e4[_0x48c032(0x807)](_0x24a2f1[_0x48c032(0x826)],_0x4088a5),_0x66872d=_0x27d0e4[_0x48c032(0x807)](_0x48c032(0x11f),_0x1e7a32);_0x66872d[_0x48c032(0x46d)]({'name':_0x24a2f1['fetNz'],'email':_0x24a2f1[_0x48c032(0xc8d)]},function(_0x3aa7ce,_0x1ee7c3){const _0xfdb068=_0x48c032;assert['ifError'](_0x3aa7ce),_0x66872d['create']({'name':_0xfdb068(0x684),'email':_0x4e25fe[_0xfdb068(0x779)]},function(_0x557df8,_0x308e59){const _0x5bf4ab=_0xfdb068,_0xad8ed2={'uqljQ':_0x5bf4ab(0x96f),'kTBpl':function(_0x4dca3a,_0x470ffa){const _0x3f4b68=_0x5bf4ab;return _0x4e25fe[_0x3f4b68(0xa40)](_0x4dca3a,_0x470ffa);},'LMIGq':_0x4e25fe[_0x5bf4ab(0x10a)]};assert[_0x5bf4ab(0x127)](_0x557df8),_0x424b34['create']({'title':_0x5bf4ab(0x1a5),'fans':[_0x1ee7c3,_0x308e59]},function(_0x2d2819,_0x2a677f){const _0xfb2558=_0x5bf4ab;assert[_0xfb2558(0x127)](_0x2d2819),_0x424b34[_0xfb2558(0x46d)]({'title':_0xfb2558(0x1a5),'fans':[_0x308e59,_0x1ee7c3]},function(_0x44ce23,_0x3ac639){const _0x3368a9=_0xfb2558,_0x554bf5={'uceAU':_0x3368a9(0xb43),'iPuHR':_0xad8ed2['uqljQ'],'weGyv':function(_0x5129b4){return _0x5129b4();}};if(_0xad8ed2[_0x3368a9(0x108)]('oKfvY',_0xad8ed2[_0x3368a9(0x80b)]))return _0x50f419[_0x3368a9(0x2d6)]({'doc':_0x485961,'id':_0x188861}),_0x3fd519;else assert['ifError'](_0x44ce23),_0x424b34[_0x3368a9(0xc77)]({'_id':{'$in':[_0x2a677f[_0x3368a9(0x534)],_0x3ac639[_0x3368a9(0x534)]]}})[_0x3368a9(0x52a)](_0x3368a9(0xb8b))[_0x3368a9(0x37d)](function(_0x25e8c9,_0x3d3416){const _0x44d451=_0x3368a9;assert['ifError'](_0x25e8c9),assert[_0x44d451(0xcbc)](_0x3d3416[0x0]['fans'][0x0][_0x44d451(0x8a8)],_0x554bf5[_0x44d451(0xd00)]),assert[_0x44d451(0xcbc)](_0x3d3416[0x0][_0x44d451(0xb8b)][0x0][_0x44d451(0x978)],_0x554bf5[_0x44d451(0x8d6)]),assert['equal'](_0x3d3416[0x0][_0x44d451(0xb8b)][0x1]['name'],_0x44d451(0x684)),assert[_0x44d451(0xcbc)](_0x3d3416[0x0]['fans'][0x1][_0x44d451(0x978)],_0x44d451(0x660)),assert[_0x44d451(0xcbc)](_0x3d3416[0x1][_0x44d451(0xb8b)][0x0][_0x44d451(0x8a8)],_0x44d451(0x684)),assert[_0x44d451(0xcbc)](_0x3d3416[0x1]['fans'][0x0]['email'],_0x44d451(0x660)),assert[_0x44d451(0xcbc)](_0x3d3416[0x1][_0x44d451(0xb8b)][0x1][_0x44d451(0x8a8)],_0x554bf5[_0x44d451(0xd00)]),assert['equal'](_0x3d3416[0x1]['fans'][0x1][_0x44d451(0x978)],_0x44d451(0x96f)),_0x554bf5['weGyv'](_0x5e279f);});});});});});}else _0x73f821[_0x48c032(0x127)](_0x310feb),_0x3f5494[_0x48c032(0xcbc)](_0x2ead77[_0x48c032(0x5fd)]['length'],0x1),_0x52135c[_0x48c032(0xcbc)](_0x226c26['categories'][0x0]['name'],'Books'),_0x9a3bd3['ok'](!_0x295b55[_0x48c032(0x8a8)]),_0x201355();}),_0x24a2f1[_0x4ef2f4(0x97a)](it,_0x24a2f1[_0x4ef2f4(0xb39)],function(_0x3603d9){const _0xf9311f=_0x4ef2f4,_0x37922c=_0x27d0e4['model'](_0x24a2f1[_0xf9311f(0x826)],_0x4088a5),_0x496fab=_0x27d0e4[_0xf9311f(0x807)]('User',_0x1e7a32);_0x496fab['create']({'name':_0x24a2f1['fetNz'],'email':_0x24a2f1['pdaRu']},function(_0x23506a,_0x2d36fa){const _0xc54c9a=_0xf9311f,_0x566f0b={'aPcHG':'Woot'};assert[_0xc54c9a(0x127)](_0x23506a),_0x496fab[_0xc54c9a(0x46d)]({'name':_0xc54c9a(0x684),'email':_0xc54c9a(0x660)},function(_0x496504,_0x1c5ca9){const _0x59c97c=_0xc54c9a,_0x571ff3={'eQMoN':function(_0x2d274c,_0x2e8776){return _0x2d274c(_0x2e8776);}};assert[_0x59c97c(0x127)](_0x496504),_0x37922c[_0x59c97c(0x46d)]({'title':_0x566f0b[_0x59c97c(0x36c)],'fans':[_0x2d36fa,_0x1c5ca9]},function(_0x562b06,_0x1a6838){const _0x3de351=_0x59c97c;assert[_0x3de351(0x127)](_0x562b06),_0x37922c[_0x3de351(0x46d)]({'title':_0x3de351(0x1a5),'fans':[_0x1c5ca9,_0x2d36fa]},function(_0x380e1f,_0x2d1c58){const _0x36d273=_0x3de351,_0x223bf5={'LacXc':function(_0x5ec51b,_0x1119a9){const _0x4e8674=_0x2d45;return _0x571ff3[_0x4e8674(0x26a)](_0x5ec51b,_0x1119a9);},'fbhnN':function(_0xa26f0a,_0x36d7f2){return _0xa26f0a===_0x36d7f2;}};assert[_0x36d273(0x127)](_0x380e1f);const _0x2903de=_0x496fab[_0x36d273(0x755)]['prototype'][_0x36d273(0x37d)];_0x496fab[_0x36d273(0x755)][_0x36d273(0xcde)][_0x36d273(0x37d)]=function(){const _0x439e44=_0x36d273,_0x3ed03e=Array[_0x439e44(0xcde)]['map'][_0x439e44(0x20c)](arguments,function(_0x3e9e69){const _0x18ddde=_0x439e44,_0xfc5b64={'Ilxvx':function(_0x12dc09,_0x4ee1f6){const _0x4718e0=_0x2d45;return _0x223bf5[_0x4718e0(0xa96)](_0x12dc09,_0x4ee1f6);},'atlOi':function(_0x3adf76,_0x3e6c0e){return _0x3adf76===_0x3e6c0e;},'zqJjF':function(_0x44b584,_0x110faa){return _0x44b584(_0x110faa);}};return _0x223bf5[_0x18ddde(0x9c6)](typeof _0x3e9e69,_0x18ddde(0x883))?function(){const _0x4ef729=_0x18ddde;if(_0xfc5b64['atlOi'](_0x4ef729(0xa09),'IYraO'))return _0xfc5b64[_0x4ef729(0x78e)](_0x229534,_0x1339f6);else _0xfc5b64[_0x4ef729(0x14f)](_0x3e9e69,new Error('woot\x202'));}:_0x3e9e69;});return _0x2903de[_0x439e44(0x7b6)](this,_0x3ed03e);},_0x37922c[_0x36d273(0xc77)]({'$or':[{'_id':_0x1a6838[_0x36d273(0x534)]},{'_id':_0x2d1c58['_id']}]})[_0x36d273(0x52a)](_0x36d273(0xb8b))[_0x36d273(0x37d)](function(_0x1a6370){const _0x3bcb6a=_0x36d273;assert['ok'](_0x1a6370 instanceof Error),assert[_0x3bcb6a(0xcbc)](_0x1a6370['message'],_0x3bcb6a(0xb53)),_0x496fab[_0x3bcb6a(0x755)][_0x3bcb6a(0xcde)]['exec']=_0x2903de,_0x3603d9();});});});});});}),it(_0x4ef2f4(0xde),function(_0x5249a0){const _0x1c8c45=_0x4ef2f4,_0xe2a1ef=_0x27d0e4['model'](_0x24a2f1[_0x1c8c45(0x826)],_0x4088a5),_0x15d62e=_0x27d0e4['model'](_0x1c8c45(0x11f),_0x1e7a32);_0x15d62e[_0x1c8c45(0x46d)]({'name':_0x24a2f1['fetNz'],'email':_0x24a2f1[_0x1c8c45(0xc8d)]},function(_0x4ced15,_0x9819c7){const _0x426eb2=_0x1c8c45,_0x2a95ea={'uEaby':_0x24a2f1[_0x426eb2(0x326)],'HdArD':function(_0x52d55f,_0x2c1ba8){const _0x2cc77b=_0x426eb2;return _0x24a2f1[_0x2cc77b(0xc54)](_0x52d55f,_0x2c1ba8);},'XNpCf':_0x24a2f1[_0x426eb2(0x1a7)]};assert[_0x426eb2(0x127)](_0x4ced15),_0x15d62e[_0x426eb2(0x46d)]({'name':_0x24a2f1['tMbtQ'],'email':_0x426eb2(0x660)},function(_0x15689b,_0x223d8c){const _0x179f1a=_0x426eb2,_0x373936={'nlLnh':_0x2a95ea[_0x179f1a(0xcb8)],'qIfUR':'email','kGNxz':_0x179f1a(0x5dd),'qjxFe':function(_0x532804,_0x40bd06){const _0x14fbde=_0x179f1a;return _0x2a95ea[_0x14fbde(0x13f)](_0x532804,_0x40bd06);},'wTGco':_0x2a95ea[_0x179f1a(0x35e)]};assert['ifError'](_0x15689b),_0xe2a1ef[_0x179f1a(0x46d)]({'title':_0x179f1a(0x1a5),'fans':[_0x9819c7,_0x223d8c]},function(_0x17a773,_0x2a4da4){const _0x4b63ac=_0x179f1a,_0x4a15c5={'PoMAE':_0x373936['nlLnh'],'AeDNY':_0x373936[_0x4b63ac(0x2fe)],'BHZvN':_0x4b63ac(0x684),'EdKff':_0x373936[_0x4b63ac(0x7cd)],'djjgs':function(_0x40c1e4,_0x2b0716){const _0x44bcbc=_0x4b63ac;return _0x373936[_0x44bcbc(0x4df)](_0x40c1e4,_0x2b0716);}};assert[_0x4b63ac(0x127)](_0x17a773),_0xe2a1ef['create']({'title':_0x373936[_0x4b63ac(0xd37)],'fans':[_0x223d8c,_0x9819c7]},function(_0x45fb6d,_0x314d3e){const _0x2eefbd=_0x4b63ac,_0x5c3c89={'NXMrf':_0x4a15c5['EdKff']};_0x4a15c5['djjgs'](_0x2eefbd(0xc42),_0x2eefbd(0xc42))?(_0x56c8b9[_0x2eefbd(0xcbc)](_0x2c6360[_0x2eefbd(0x6fc)][_0x2eefbd(0x2a2)],0x2),_0x5375fc[_0x2eefbd(0xcbc)](_0x39ba35[_0x2eefbd(0x6fc)][0x0][_0x2eefbd(0x1bc)][_0x2eefbd(0xf4)](),new _0x6d9ebf(_0x5c3c89[_0x2eefbd(0xa6f)])[_0x2eefbd(0xf4)]()),_0x17ba13['equal'](_0x4ef828[_0x2eefbd(0x6fc)][0x1][_0x2eefbd(0x1bc)][_0x2eefbd(0xf4)](),new _0x3ddb87('2011-06-02')[_0x2eefbd(0xf4)]()),_0x3316b7()):(assert[_0x2eefbd(0x127)](_0x45fb6d),_0xe2a1ef[_0x2eefbd(0xc77)]({'_id':{'$in':[_0x2a4da4[_0x2eefbd(0x534)],_0x314d3e[_0x2eefbd(0x534)]]}})[_0x2eefbd(0x52a)]('fans',_0x2eefbd(0x8a8))[_0x2eefbd(0x37d)](function(_0xf42d8,_0x4914c2){const _0x394c33=_0x2eefbd;assert['ifError'](_0xf42d8),assert[_0x394c33(0xcbc)](_0x4914c2[0x0][_0x394c33(0xb8b)][0x0][_0x394c33(0x8a8)],_0x4a15c5[_0x394c33(0x706)]),assert[_0x394c33(0xcbc)](_0x4914c2[0x0][_0x394c33(0xb8b)][0x0]['isInit'](_0x4a15c5[_0x394c33(0x12e)]),![]),assert[_0x394c33(0xcbc)](_0x4914c2[0x0]['fans'][0x1][_0x394c33(0x8a8)],_0x4a15c5[_0x394c33(0x7f1)]),assert[_0x394c33(0xcbc)](_0x4914c2[0x0][_0x394c33(0xb8b)][0x1][_0x394c33(0x346)](_0x394c33(0x978)),![]),assert[_0x394c33(0x672)](_0x4914c2[0x0]['fans'][0x1][_0x394c33(0x978)],undefined),assert[_0x394c33(0xcbc)](_0x4914c2[0x1]['fans'][0x0][_0x394c33(0x8a8)],_0x394c33(0x684)),assert['equal'](_0x4914c2[0x1][_0x394c33(0xb8b)][0x0][_0x394c33(0x346)](_0x4a15c5[_0x394c33(0x12e)]),![]),assert[_0x394c33(0xcbc)](_0x4914c2[0x1][_0x394c33(0xb8b)][0x1][_0x394c33(0x8a8)],_0x4a15c5[_0x394c33(0x706)]),assert[_0x394c33(0xcbc)](_0x4914c2[0x1]['fans'][0x1][_0x394c33(0x346)](_0x4a15c5[_0x394c33(0x12e)]),![]),_0x5249a0();}));});});});});}),it(_0x24a2f1['bFunB'],function(_0x109227){const _0x4d2413=_0x4ef2f4,_0x5c188e={'FsIue':'Woot','Owyul':_0x4d2413(0x5ad),'fxVIf':_0x4d2413(0x11f),'fiYUg':_0x4d2413(0x930),'tFZoH':_0x4d2413(0x660),'lpARb':_0x24a2f1[_0x4d2413(0x3bb)]},_0x4b67ba=_0x27d0e4[_0x4d2413(0x807)](_0x24a2f1[_0x4d2413(0x826)],_0x4088a5),_0x42806d=_0x27d0e4[_0x4d2413(0x807)](_0x24a2f1[_0x4d2413(0x840)],_0x1e7a32);_0x42806d[_0x4d2413(0x46d)]({'name':_0x24a2f1[_0x4d2413(0x326)],'email':_0x4d2413(0x96f)},function(_0x54fc77,_0x3d98c1){const _0x2ce301=_0x4d2413,_0x1bb37e={'onsaK':_0x2ce301(0xd33),'hBLXn':function(_0x25c989){return _0x25c989();},'FaOAS':_0x5c188e[_0x2ce301(0x4f0)],'WGRJi':_0x5c188e[_0x2ce301(0x7a7)],'tYida':_0x5c188e[_0x2ce301(0xb0f)],'XQqhy':_0x5c188e[_0x2ce301(0xc37)]};assert[_0x2ce301(0x127)](_0x54fc77),_0x42806d['create']({'name':_0x2ce301(0x684),'email':_0x5c188e[_0x2ce301(0x7b2)],'gender':_0x5c188e['lpARb']},function(_0x1901e7,_0x50d97d){const _0x479525=_0x2ce301;if(_0x479525(0x1bb)!==_0x479525(0x2b2))assert['ifError'](_0x1901e7),_0x42806d[_0x479525(0x46d)]({'name':_0x1bb37e[_0x479525(0x9e3)],'email':_0x1bb37e['onsaK'],'gender':_0x479525(0x887)},function(_0xf94584,_0x14a1fc){const _0x176e8a=_0x479525,_0x49df4b={'yyNQd':_0x1bb37e[_0x176e8a(0x771)],'JzyjD':'Fan\x202','Jyesj':function(_0x166bb3){const _0x5126e1=_0x176e8a;return _0x1bb37e[_0x5126e1(0x38e)](_0x166bb3);},'gDyna':function(_0x45d12b,_0x25fac3){return _0x45d12b===_0x25fac3;},'vQPin':_0x176e8a(0x8f6),'hKWes':_0x176e8a(0x1a5)};assert[_0x176e8a(0x127)](_0xf94584),_0x4b67ba[_0x176e8a(0x46d)]({'title':_0x1bb37e[_0x176e8a(0x2ee)],'fans':[_0x3d98c1,_0x50d97d,_0x14a1fc]},function(_0x40d50a,_0xaa6f7e){const _0x285729=_0x176e8a;assert[_0x285729(0x127)](_0x40d50a),_0x4b67ba['create']({'title':_0x49df4b['hKWes'],'fans':[_0x14a1fc,_0x50d97d,_0x3d98c1]},function(_0x58401a,_0x416036){const _0x205b7a=_0x285729,_0x3453f1={'peDlC':_0x49df4b[_0x205b7a(0x62a)],'TFLAI':_0x205b7a(0x887),'piQBB':_0x49df4b[_0x205b7a(0x3f2)],'WTQNs':_0x205b7a(0x660),'FPGbp':function(_0x481e33){const _0x5251f4=_0x205b7a;return _0x49df4b[_0x5251f4(0x782)](_0x481e33);},'klhlN':'fans','FHSVH':function(_0x36eb2d,_0x59b2b8){return _0x36eb2d instanceof _0x59b2b8;},'hJkQL':function(_0x20d8f5,_0x5b731c){return _0x20d8f5 instanceof _0x5b731c;},'AecWO':function(_0x1b1262,_0x3bbe96){return _0x49df4b['gDyna'](_0x1b1262,_0x3bbe96);},'UqhfL':_0x49df4b[_0x205b7a(0x5d1)]};assert[_0x205b7a(0x127)](_0x58401a),_0x4b67ba[_0x205b7a(0xc77)]({'_id':{'$in':[_0xaa6f7e[_0x205b7a(0x534)],_0x416036[_0x205b7a(0x534)]]}})[_0x205b7a(0x52a)](_0x205b7a(0xb8b),'',{'gender':_0x205b7a(0x887),'_id':{'$in':[_0x50d97d]}})[_0x205b7a(0x37d)](function(_0x23fc09,_0x3e1523){const _0x554cff=_0x205b7a,_0x3dd474={'fmaSa':_0x554cff(0x641),'kuhGL':_0x3453f1[_0x554cff(0x622)],'wVLCf':function(_0x3c0eff,_0x46d117){return _0x3c0eff in _0x46d117;},'VzjAr':function(_0x5394dd,_0x1c5b13){const _0x3a3c7c=_0x554cff;return _0x3453f1[_0x3a3c7c(0x6e6)](_0x5394dd,_0x1c5b13);},'VTYwR':function(_0x2b8ed0,_0x1ae468){const _0x274b62=_0x554cff;return _0x3453f1[_0x274b62(0x744)](_0x2b8ed0,_0x1ae468);}};if(_0x3453f1['AecWO'](_0x554cff(0x8f6),_0x3453f1[_0x554cff(0x119)]))assert[_0x554cff(0x127)](_0x23fc09),assert[_0x554cff(0xcbc)](_0x3e1523[0x0][_0x554cff(0xb8b)][_0x554cff(0x2a2)],0x1),assert['equal'](_0x3e1523[0x0][_0x554cff(0xb8b)][0x0][_0x554cff(0x3f3)],_0x3453f1[_0x554cff(0x939)]),assert['equal'](_0x3e1523[0x0]['fans'][0x0][_0x554cff(0x8a8)],'Fan\x202'),assert[_0x554cff(0xcbc)](_0x3e1523[0x0][_0x554cff(0xb8b)][0x0][_0x554cff(0x978)],_0x3453f1[_0x554cff(0x5bd)]),assert[_0x554cff(0xcbc)](_0x3e1523[0x1][_0x554cff(0xb8b)][_0x554cff(0x2a2)],0x1),assert[_0x554cff(0xcbc)](_0x3e1523[0x1][_0x554cff(0xb8b)][0x0][_0x554cff(0x3f3)],_0x3453f1[_0x554cff(0x939)]),assert[_0x554cff(0xcbc)](_0x3e1523[0x1][_0x554cff(0xb8b)][0x0][_0x554cff(0x8a8)],_0x3453f1[_0x554cff(0x7a0)]),assert[_0x554cff(0xcbc)](_0x3e1523[0x1]['fans'][0x0][_0x554cff(0x978)],_0x3453f1[_0x554cff(0x5bd)]),_0x4b67ba[_0x554cff(0xc77)]({'_id':{'$in':[_0xaa6f7e['_id'],_0x416036['_id']]}})[_0x554cff(0x52a)](_0x3453f1[_0x554cff(0x622)],![],{'gender':_0x554cff(0x887)})['exec'](function(_0x5d3013,_0x409180){const _0x38390f=_0x554cff,_0xb0aeea=_0x38390f(0x2b1)[_0x38390f(0x3a7)]('|');let _0x7f901f=0x0;while(!![]){switch(_0xb0aeea[_0x7f901f++]){case'0':assert[_0x38390f(0xcbc)](_0x409180[0x0][_0x38390f(0xb8b)][0x1][_0x38390f(0x978)],_0x3453f1['peDlC']);continue;case'1':assert[_0x38390f(0xcbc)](_0x409180[0x0][_0x38390f(0xb8b)][0x1][_0x38390f(0x3f3)],_0x3453f1[_0x38390f(0x939)]);continue;case'2':assert[_0x38390f(0xcbc)](_0x409180[0x0][_0x38390f(0xb8b)][0x0][_0x38390f(0x978)],_0x38390f(0x660));continue;case'3':assert[_0x38390f(0xcbc)](_0x409180[0x1][_0x38390f(0xb8b)][0x1][_0x38390f(0x8a8)],_0x38390f(0x684));continue;case'4':assert['equal'](_0x409180[0x0]['fans'][0x0][_0x38390f(0x8a8)],_0x3453f1[_0x38390f(0x7a0)]);continue;case'5':assert[_0x38390f(0xcbc)](_0x409180[0x1][_0x38390f(0xb8b)][0x1]['email'],_0x3453f1['WTQNs']);continue;case'6':assert[_0x38390f(0x672)](_0x409180[0x1][_0x38390f(0xb8b)][_0x38390f(0x2a2)],0x2);continue;case'7':assert['ifError'](_0x5d3013);continue;case'8':assert[_0x38390f(0xcbc)](_0x409180[0x0][_0x38390f(0xb8b)][0x1]['name'],_0x38390f(0x930));continue;case'9':assert[_0x38390f(0xcbc)](_0x409180[0x1][_0x38390f(0xb8b)][0x0][_0x38390f(0x978)],_0x3453f1[_0x38390f(0x8c8)]);continue;case'10':_0x3453f1[_0x38390f(0xa01)](_0x109227);continue;case'11':assert[_0x38390f(0xcbc)](_0x409180[0x0][_0x38390f(0xb8b)][0x0]['gender'],_0x3453f1[_0x38390f(0x939)]);continue;case'12':assert[_0x38390f(0x672)](_0x409180[0x0][_0x38390f(0xb8b)][_0x38390f(0x2a2)],0x2);continue;case'13':assert[_0x38390f(0xcbc)](_0x409180[0x1][_0x38390f(0xb8b)][0x0][_0x38390f(0x8a8)],_0x38390f(0x930));continue;case'14':assert['equal'](_0x409180[0x1][_0x38390f(0xb8b)][0x1][_0x38390f(0x3f3)],_0x38390f(0x887));continue;case'15':assert[_0x38390f(0xcbc)](_0x409180[0x1][_0x38390f(0xb8b)][0x0][_0x38390f(0x3f3)],_0x3453f1[_0x38390f(0x939)]);continue;}break;}});else{const _0x5741d8={'YcXXi':_0x3dd474[_0x554cff(0x73c)],'kQbgm':function(_0x3b0dd3,_0x4bb4df){return _0x3b0dd3 instanceof _0x4bb4df;}};_0x525de3['ifError'](_0x213da4),_0x4664a7['ok'](_0x3dd474[_0x554cff(0x863)]in _0x548c9e),_0x323245['ok'](!_0x3dd474[_0x554cff(0xb9b)](_0x554cff(0x240),_0x2b13d2)),_0x4d9bc8['ok'](_0x3dd474['VzjAr'](_0x2ea19c[_0x554cff(0xb8b)][0x0],_0x2565b7[_0x554cff(0x2b4)])),_0x2cab0b['ok'](_0x3dd474[_0x554cff(0x3b0)](_0x3a1087[_0x554cff(0xb8b)][0x1],_0x42a698[_0x554cff(0x2b4)])),_0x5b85f7[_0x554cff(0x770)](_0x2b9f4f,function(_0x1d7945,_0x25f011){const _0xe91eb7=_0x554cff,_0x3ac502=_0x5741d8['YcXXi'][_0xe91eb7(0x3a7)]('|');let _0x26f696=0x0;while(!![]){switch(_0x3ac502[_0x26f696++]){case'0':_0x1d3a7f();continue;case'1':_0x2b6c7d[_0xe91eb7(0xcbc)](_0x25f011[_0xe91eb7(0xb8b)][_0xe91eb7(0x2a2)],0x2);continue;case'2':_0x2e07e8['ok'](_0x5741d8[_0xe91eb7(0x74b)](_0x25f011[_0xe91eb7(0xb8b)][0x1],_0x5ea9fd));continue;case'3':_0x5706fa[_0xe91eb7(0x127)](_0x1d7945);continue;case'4':_0x42104c['ok'](_0x5741d8[_0xe91eb7(0x74b)](_0x25f011['fans'][0x0],_0x4a26c0));continue;}break;}});}});});});});else{const _0x3fa101={'pxxWa':_0x1bb37e[_0x479525(0x188)],'bCWUv':_0x1bb37e[_0x479525(0x8b9)]};_0x387a7b[_0x479525(0x127)](_0x49d758),_0x5dd0ba[_0x479525(0x770)](_0x12e7f0[_0x479525(0x534)],function(_0x170587,_0x50fc3a){const _0x22411b=_0x479525;_0x2952fe['ifError'](_0x170587);const _0x4883c8=_0x34240e[_0x22411b(0x52a)]({'path':_0x3fa101[_0x22411b(0xbdc)],'model':_0x3fa101[_0x22411b(0x28e)]});_0x33adf6[_0x22411b(0x52a)]([_0x24aa90,_0x50fc3a],_0x4883c8,function(_0x16d438,_0x1ea180){const _0x5e8245=_0x22411b;_0xf2ae01[_0x5e8245(0x127)](_0x16d438),_0x350430['ok'](_0x1ea180),_0x240a22[_0x5e8245(0xcbc)](_0x1ea180[_0x5e8245(0x2a2)],0x2);const _0x4983b1=_0x1ea180[0x0],_0xcff754=_0x1ea180[0x1];_0x5c7e41['ok'](_0x4983b1[_0x5e8245(0x5ad)]instanceof _0xf32dfb),_0x41e24c['equal'](_0x4983b1['_creator'][_0x5e8245(0x8a8)],_0x5e8245(0x170)),_0x34d961['ok'](_0xcff754[_0x5e8245(0x5ad)]instanceof _0x568c57),_0x3fcf7f['equal'](_0xcff754[_0x5e8245(0x5ad)]['name'],'Newark'),_0x3ece29();});});}});});}),_0x24a2f1['JbmFp'](it,_0x4ef2f4(0x7a9),function(_0x380908){const _0x281919=_0x4ef2f4,_0x258f34={'UFcKT':function(_0x351059){return _0x351059();}},_0xad564b=_0x27d0e4['model'](_0x24a2f1[_0x281919(0x826)],_0x4088a5),_0x79eff4=_0x27d0e4[_0x281919(0x807)](_0x24a2f1[_0x281919(0x840)],_0x1e7a32);_0x79eff4[_0x281919(0x46d)]({'name':_0x281919(0xb43),'email':_0x281919(0x96f)},function(_0x3016f3,_0x44f88f){const _0x190d1e=_0x281919,_0x1eb0ad={'psSgy':_0x190d1e(0x66f),'xTpja':function(_0xc95159){const _0x5bc71c=_0x190d1e;return _0x258f34[_0x5bc71c(0x5d0)](_0xc95159);},'mSASb':'Woot','siube':_0x190d1e(0x887)};assert[_0x190d1e(0x127)](_0x3016f3),_0x79eff4[_0x190d1e(0x46d)]({'name':_0x190d1e(0x684),'email':_0x190d1e(0x660),'gender':_0x190d1e(0x887)},function(_0x344059,_0x15f015){const _0x418304=_0x190d1e;assert[_0x418304(0x127)](_0x344059),_0x79eff4[_0x418304(0x46d)]({'name':_0x418304(0x930),'email':'fan3@learnboost.com','gender':_0x1eb0ad[_0x418304(0xce4)],'age':0x19},function(_0x2ca81f,_0x1e0c39){const _0x34aacd=_0x418304,_0xaaaad={'qEIpu':_0x34aacd(0x5d3),'LbLiv':_0x1eb0ad[_0x34aacd(0x204)],'MFlTf':'female','AScWm':function(_0x10291b){return _0x1eb0ad['xTpja'](_0x10291b);},'fKpzR':_0x1eb0ad[_0x34aacd(0xc9d)]};assert[_0x34aacd(0x127)](_0x2ca81f),_0xad564b[_0x34aacd(0x46d)]({'title':_0x1eb0ad['mSASb'],'fans':[_0x44f88f,_0x15f015,_0x1e0c39]},function(_0x1d7546,_0xb67eb1){const _0x4c0fe3=_0x34aacd,_0x342fd0={'IKPKs':_0xaaaad[_0x4c0fe3(0x361)],'VBcdh':_0xaaaad[_0x4c0fe3(0x5a4)],'TPidA':_0x4c0fe3(0x4a4),'BVQaj':_0xaaaad[_0x4c0fe3(0x93e)],'yYaZF':_0x4c0fe3(0x684),'skUwv':function(_0x59d197){return _0xaaaad['AScWm'](_0x59d197);},'NPqOD':'fans'};assert['ifError'](_0x1d7546),_0xad564b['create']({'title':_0xaaaad[_0x4c0fe3(0xc32)],'fans':[_0x1e0c39,_0x15f015,_0x44f88f]},function(_0x93ef7,_0x2ddd1c){const _0x3f4159=_0x4c0fe3,_0x995238={'vkCKj':function(_0x159bc8){return _0x159bc8();}};if(_0x3f4159(0x907)==='ETpKm'){const _0x4e07b6={'SWpkC':_0x3f4159(0x3c8)};_0x3136af[_0x3f4159(0x530)](/Test/);const _0xf4ed55=_0xdaaf7d[_0x3f4159(0x101)]({'seam':_0x334e5d}),_0x1e544e=_0x1dfced[_0x3f4159(0x807)]('Test',_0xf4ed55),_0x1b1d88=_0x4b1edf[_0x3f4159(0x101)]({'league':_0xfc19dd,'kind':_0x17b6a4,'ball':{'type':_0x28589c['Schema'][_0x3f4159(0xc4a)][_0x3f4159(0x2ef)],'refPath':_0x342fd0[_0x3f4159(0x91f)]}}),_0x327d0b=_0x75f7e6[_0x3f4159(0x101)]({'balls':[_0x1b1d88]}),_0x218ca4=_0x50a582[_0x3f4159(0x807)](_0x3f4159(0x8ce),_0x327d0b);new _0x1e544e({'seam':'yarn'})[_0x3f4159(0x87f)]()[_0x3f4159(0xc12)](function(_0x4b51d3){const _0x1b9545=_0x3f4159;return new _0x218ca4({'balls':[{'league':_0x1b9545(0x2a9),'kind':_0x1b9545(0x438),'ball':_0x4b51d3['_id']},{'league':_0x4e07b6[_0x1b9545(0x686)]}]})[_0x1b9545(0x87f)]();})[_0x3f4159(0xc12)](function(_0x56eb23){const _0xb8f491=_0x3f4159;return _0x56eb23[_0xb8f491(0x52a)](_0xb8f491(0x644));})['then'](function(_0x57edeb){const _0x2eeb96=_0x3f4159;_0x117c3d['equal'](_0x57edeb[_0x2eeb96(0xb9a)][0x0][_0x2eeb96(0x4ed)][_0x2eeb96(0x6e3)],_0x2eeb96(0xcf1)),_0x3d57fe['ok'](!_0x57edeb[_0x2eeb96(0xb9a)][0x1][_0x2eeb96(0x722)]),_0x2293fd['ok'](!_0x57edeb[_0x2eeb96(0xb9a)][0x1][_0x2eeb96(0x4ed)]),_0x995238[_0x2eeb96(0x777)](_0x46b8ae);})[_0x3f4159(0x412)](_0x27483a);}else assert[_0x3f4159(0x127)](_0x93ef7),_0xad564b['find']({'_id':{'$in':[_0xb67eb1[_0x3f4159(0x534)],_0x2ddd1c[_0x3f4159(0x534)]]}})[_0x3f4159(0x52a)](_0x3f4159(0xb8b),undefined,{'_id':_0x1e0c39})[_0x3f4159(0x37d)](function(_0x3ca02c,_0x188871){const _0x40e6c7=_0x3f4159,_0x2f657d={'XWFFG':_0x342fd0['VBcdh'],'xCAHc':_0x342fd0['TPidA'],'ZVQiI':_0x342fd0[_0x40e6c7(0xc94)],'JLbKb':_0x342fd0[_0x40e6c7(0x191)],'Qxezj':function(_0x30e059){const _0x392388=_0x40e6c7;return _0x342fd0[_0x392388(0x368)](_0x30e059);}};assert['ifError'](_0x3ca02c),assert[_0x40e6c7(0xcbc)](_0x188871[0x0][_0x40e6c7(0xb8b)][_0x40e6c7(0x2a2)],0x1),assert[_0x40e6c7(0xcbc)](_0x188871[0x0][_0x40e6c7(0xb8b)][0x0][_0x40e6c7(0x3f3)],_0x40e6c7(0x887)),assert['equal'](_0x188871[0x0]['fans'][0x0][_0x40e6c7(0x8a8)],'Fan\x203'),assert['equal'](_0x188871[0x0]['fans'][0x0][_0x40e6c7(0x978)],'fan3@learnboost.com'),assert[_0x40e6c7(0xcbc)](_0x188871[0x0]['fans'][0x0][_0x40e6c7(0x3f4)],0x19),assert[_0x40e6c7(0xcbc)](_0x188871[0x1][_0x40e6c7(0xb8b)]['length'],0x1),assert[_0x40e6c7(0xcbc)](_0x188871[0x1][_0x40e6c7(0xb8b)][0x0][_0x40e6c7(0x3f3)],_0x40e6c7(0x887)),assert['equal'](_0x188871[0x1][_0x40e6c7(0xb8b)][0x0][_0x40e6c7(0x8a8)],'Fan\x203'),assert['equal'](_0x188871[0x1]['fans'][0x0]['email'],_0x40e6c7(0xd33)),assert['equal'](_0x188871[0x1]['fans'][0x0][_0x40e6c7(0x3f4)],0x19),_0xad564b[_0x40e6c7(0xc77)]({'_id':{'$in':[_0xb67eb1[_0x40e6c7(0x534)],_0x2ddd1c['_id']]}})[_0x40e6c7(0x52a)](_0x342fd0[_0x40e6c7(0x319)],0x0,{'gender':'female'})[_0x40e6c7(0x37d)](function(_0x4153c2,_0x3a2d8f){const _0x400df5=_0x40e6c7,_0x191c39={'dlFSG':_0x2f657d[_0x400df5(0x7ca)]};if(_0x2f657d[_0x400df5(0x18d)]===_0x2f657d['xCAHc'])assert[_0x400df5(0x127)](_0x4153c2),assert[_0x400df5(0xcbc)](_0x3a2d8f[0x0][_0x400df5(0xb8b)][_0x400df5(0x2a2)],0x2),assert[_0x400df5(0xcbc)](_0x3a2d8f[0x0][_0x400df5(0xb8b)][0x0][_0x400df5(0x3f3)],_0x2f657d[_0x400df5(0x141)]),assert[_0x400df5(0xcbc)](_0x3a2d8f[0x0]['fans'][0x0]['name'],_0x2f657d[_0x400df5(0xb5e)]),assert['equal'](_0x3a2d8f[0x0][_0x400df5(0xb8b)][0x0][_0x400df5(0x978)],_0x400df5(0x660)),assert[_0x400df5(0xcbc)](_0x3a2d8f[0x0][_0x400df5(0xb8b)][0x1][_0x400df5(0x3f3)],_0x400df5(0x887)),assert['equal'](_0x3a2d8f[0x0][_0x400df5(0xb8b)][0x1]['name'],_0x400df5(0x930)),assert['equal'](_0x3a2d8f[0x0]['fans'][0x1]['email'],_0x400df5(0xd33)),assert[_0x400df5(0xcbc)](_0x3a2d8f[0x0]['fans'][0x1][_0x400df5(0x3f4)],0x19),assert[_0x400df5(0xcbc)](_0x3a2d8f[0x1][_0x400df5(0xb8b)][_0x400df5(0x2a2)],0x2),assert[_0x400df5(0xcbc)](_0x3a2d8f[0x1][_0x400df5(0xb8b)][0x0][_0x400df5(0x3f3)],_0x400df5(0x887)),assert[_0x400df5(0xcbc)](_0x3a2d8f[0x1][_0x400df5(0xb8b)][0x0][_0x400df5(0x8a8)],_0x400df5(0x930)),assert[_0x400df5(0xcbc)](_0x3a2d8f[0x1][_0x400df5(0xb8b)][0x0][_0x400df5(0x978)],_0x400df5(0xd33)),assert[_0x400df5(0xcbc)](_0x3a2d8f[0x1][_0x400df5(0xb8b)][0x0][_0x400df5(0x3f4)],0x19),assert[_0x400df5(0xcbc)](_0x3a2d8f[0x1][_0x400df5(0xb8b)][0x1][_0x400df5(0x3f3)],_0x400df5(0x887)),assert[_0x400df5(0xcbc)](_0x3a2d8f[0x1][_0x400df5(0xb8b)][0x1][_0x400df5(0x8a8)],_0x400df5(0x684)),assert[_0x400df5(0xcbc)](_0x3a2d8f[0x1][_0x400df5(0xb8b)][0x1]['email'],_0x400df5(0x660)),_0x2f657d['Qxezj'](_0x380908);else{const _0x149a41={'ZWCGL':_0x191c39[_0x400df5(0xb98)],'fbkbc':_0x400df5(0x5ad),'vXwSJ':_0x400df5(0x28f)},_0x391444=_0x11d198[_0x400df5(0x807)](_0x400df5(0x63e),_0x195a21),_0x2618bf=_0x34187f['model'](_0x400df5(0x11f),_0x2e400e);_0x2618bf[_0x400df5(0x46d)]({'name':_0x400df5(0xbfc),'email':_0x191c39[_0x400df5(0xb98)]},function(_0xdc03b3,_0x413a20){const _0x87d60f=_0x400df5;_0x53b970[_0x87d60f(0x127)](_0xdc03b3),_0x391444[_0x87d60f(0x46d)]({'title':_0x149a41[_0x87d60f(0xcfd)],'_creator':_0x413a20},function(_0x1ef705,_0x3ee8c4){const _0x48598b=_0x87d60f,_0x25c057={'JfHDf':_0x149a41[_0x48598b(0x9c3)]};_0x39500f[_0x48598b(0x127)](_0x1ef705),_0x391444[_0x48598b(0x770)](_0x3ee8c4[_0x48598b(0x534)])[_0x48598b(0x52a)](_0x149a41[_0x48598b(0x76f)])[_0x48598b(0x37d)](function(_0x6288ad,_0xe6dea9){const _0x1b367c=_0x48598b;_0x45a29d[_0x1b367c(0x127)](_0x6288ad),_0x4e20bc['ok'](_0xe6dea9[_0x1b367c(0x5ad)]instanceof _0x2618bf),_0x5840c4['equal'](_0xe6dea9[_0x1b367c(0x5ad)][_0x1b367c(0x8a8)],'Guillermo'),_0x35d6ad[_0x1b367c(0xcbc)](_0xe6dea9['_creator'][_0x1b367c(0x978)],_0x25c057[_0x1b367c(0x3c4)]),_0xb1f51d();});});});}});});});});});});});}),_0x24a2f1[_0x4ef2f4(0x2a3)](it,_0x24a2f1[_0x4ef2f4(0x48f)],function(_0xac10cd){const _0x5cb490=_0x4ef2f4,_0x2d4291={'GbJjK':function(_0x75c1d6,_0x51cefd){const _0x268354=_0x2d45;return _0x24a2f1[_0x268354(0x542)](_0x75c1d6,_0x51cefd);},'pcDGo':function(_0x59ae8f,_0x19687e){const _0x1c7d25=_0x2d45;return _0x24a2f1[_0x1c7d25(0x6c5)](_0x59ae8f,_0x19687e);},'kjqVV':_0x5cb490(0x930),'aZAvn':_0x24a2f1[_0x5cb490(0x3bb)]},_0x2664c6=_0x27d0e4[_0x5cb490(0x807)](_0x24a2f1[_0x5cb490(0x826)],_0x4088a5),_0x2fa71d=_0x27d0e4[_0x5cb490(0x807)]('User',_0x1e7a32);_0x2fa71d[_0x5cb490(0x46d)]({'name':_0x5cb490(0xb43),'email':_0x5cb490(0x96f)},function(_0x566731,_0x15d179){const _0x249cf5=_0x5cb490,_0x2a5d75={'eyQBO':_0x24a2f1[_0x249cf5(0x87d)]};assert[_0x249cf5(0x127)](_0x566731),_0x2fa71d['create']({'name':_0x24a2f1[_0x249cf5(0x1a4)],'email':'fan2@learnboost.com','gender':'female'},function(_0x48c2d2,_0x21e9f2){const _0x572002=_0x249cf5,_0xe23a48={'zvSZt':_0x572002(0x582),'DaQSF':_0x572002(0x170),'tRyNy':function(_0x41b593,_0x5a622d){const _0x5aa2fb=_0x572002;return _0x2d4291[_0x5aa2fb(0x765)](_0x41b593,_0x5a622d);},'acROS':_0x572002(0xb8b),'gHhXL':function(_0x2629c2,_0xec9998){return _0x2629c2 instanceof _0xec9998;}};_0x2d4291[_0x572002(0xbda)]('QlAPf',_0x572002(0x13d))?(_0x417535['ok'](_0x1965ce[_0x572002(0x9cd)]&&_0x4ae194['comment'][_0x572002(0x467)]),_0x35a8a8[_0x572002(0x8a8)]==='u1'?_0x20ff46[_0x572002(0xcbc)](_0x1fd382[_0x572002(0x9cd)]['body'],_0x572002(0x6ec)):_0x23e9b0[_0x572002(0xcbc)](_0x15565c[_0x572002(0x9cd)][_0x572002(0x467)],_0xe23a48[_0x572002(0x758)])):(assert['ifError'](_0x48c2d2),_0x2fa71d[_0x572002(0x46d)]({'name':_0x2d4291[_0x572002(0x9b9)],'email':_0x572002(0xd33),'gender':_0x2d4291[_0x572002(0x8a0)],'age':0x19},function(_0x4b6265,_0x5869a2){const _0x7bac5d=_0x572002,_0x1f3564={'JUJWG':_0x7bac5d(0x601),'rtkjP':_0x2a5d75[_0x7bac5d(0xb20)],'HzSUz':'Woot'};if(_0x7bac5d(0xc50)!==_0x7bac5d(0xc50)){const _0x30f5a6={'WOiNk':_0xe23a48[_0x7bac5d(0x699)],'XqZwk':function(_0x129bf8,_0x103048){return _0x129bf8(_0x103048);},'KSVPD':function(_0x4b35d1,_0x5805e5){return _0xe23a48['tRyNy'](_0x4b35d1,_0x5805e5);},'FXMuH':_0xe23a48[_0x7bac5d(0x4a1)],'mmCJC':function(_0x590c2a,_0x242ad){const _0x397329=_0x7bac5d;return _0xe23a48[_0x397329(0x7f7)](_0x590c2a,_0x242ad);},'BYvXV':function(_0x382edd,_0x4e6fcd){const _0x4e3f2d=_0x7bac5d;return _0xe23a48[_0x4e3f2d(0x4c6)](_0x382edd,_0x4e6fcd);},'pnUNk':'User'};_0x6f6f67['deleteModel'](/User/);const _0x522db8=_0x44e7bb[_0x7bac5d(0x807)]('User',_0x5bbf59);_0x2b305a[_0x7bac5d(0x770)](_0x12c566[_0x7bac5d(0x534)],function(_0x638a5,_0x2f489b){const _0x42369c=_0x7bac5d,_0x3351fd={'gfoAy':_0x42369c(0x419),'dVmpN':_0x30f5a6[_0x42369c(0x2e2)],'pAiZQ':function(_0x1a3c8a,_0x4071c9){const _0x2fe466=_0x42369c;return _0x30f5a6[_0x2fe466(0x7bb)](_0x1a3c8a,_0x4071c9);},'dUSqf':function(_0x56a7d6,_0x5a9a08){return _0x30f5a6['KSVPD'](_0x56a7d6,_0x5a9a08);},'VUcoo':_0x30f5a6[_0x42369c(0x332)],'ARsXC':function(_0x3301f4,_0x4ea310){const _0x5ce12f=_0x42369c;return _0x30f5a6[_0x5ce12f(0x82a)](_0x3301f4,_0x4ea310);},'uYxCn':function(_0x1a60bd,_0xb6c51c){const _0x156637=_0x42369c;return _0x30f5a6[_0x156637(0x51e)](_0x1a60bd,_0xb6c51c);},'nWgOz':_0x42369c(0x5ad)};_0x43c39b[_0x42369c(0x127)](_0x638a5),_0x462cc0['populate'](_0x2f489b,[{'path':_0x42369c(0x5ad),'model':_0x42369c(0x11f)},{'path':'fans','model':_0x30f5a6[_0x42369c(0x1a1)]}],function(_0x233761,_0x32f626){const _0x33a6c1=_0x42369c;_0x2c62f3[_0x33a6c1(0x127)](_0x233761),_0x5aab67['ok'](_0x32f626),_0x4c1d0f['ok'](_0x3351fd['ARsXC'](_0x32f626[_0x33a6c1(0x5ad)],_0x522db8)),_0x6ef802['equal'](_0x3351fd[_0x33a6c1(0x9f7)],_0x32f626[_0x33a6c1(0x5ad)][_0x33a6c1(0x8a8)]),_0x3ffbb0['equal'](_0x32f626[_0x33a6c1(0xb8b)][_0x33a6c1(0x2a2)],0x2),_0x44d63a[_0x33a6c1(0xcbc)](_0x32f626['fans'][0x0][_0x33a6c1(0x8a8)],_0x14e985[_0x33a6c1(0x8a8)]),_0xf71484['equal'](_0x32f626[_0x33a6c1(0xb8b)][0x1][_0x33a6c1(0x8a8)],_0x4a9efa[_0x33a6c1(0x8a8)]),_0x278478[_0x33a6c1(0xcbc)](_0x3351fd['pAiZQ'](_0x81dbc9,_0x32f626[_0x33a6c1(0x5ad)][_0x33a6c1(0x534)]),_0x3351fd[_0x33a6c1(0xc7b)](_0x3862dd,_0x32f626['populated'](_0x3351fd[_0x33a6c1(0x151)]))),_0x56bef0['ok'](_0x5be7ca[_0x33a6c1(0x809)](_0x32f626['populated'](_0x33a6c1(0xb8b)))),_0x5f3670[_0x33a6c1(0x52a)](_0x2f489b,[{'path':_0x3351fd[_0x33a6c1(0x151)],'model':_0x33a6c1(0x11f)},{'path':_0x3351fd[_0x33a6c1(0xcbf)],'model':_0x33a6c1(0x11f)}],function(_0x44fe0c,_0x35b375){const _0x18a1b2=_0x33a6c1,_0x125270=_0x3351fd['gfoAy'][_0x18a1b2(0x3a7)]('|');let _0x31948b=0x0;while(!![]){switch(_0x125270[_0x31948b++]){case'0':_0x307286[_0x18a1b2(0xcbc)](_0x35b375['_creator'][_0x18a1b2(0x8a8)],_0x3351fd[_0x18a1b2(0x9f7)]);continue;case'1':_0x480837[_0x18a1b2(0xcbc)](_0x35b375[_0x18a1b2(0xb8b)]['length'],0x2);continue;case'2':_0x28057b['ok'](_0x35b375[_0x18a1b2(0x5ad)]instanceof _0x522db8);continue;case'3':_0x54a163['equal'](_0x3351fd[_0x18a1b2(0xb8c)](_0x360fdb,_0x35b375[_0x18a1b2(0xb8b)][0x0][_0x18a1b2(0x534)]),_0x2ed614(_0x35b375[_0x18a1b2(0x118)](_0x18a1b2(0xb8b))[0x0]));continue;case'4':_0x440cdf[_0x18a1b2(0xcbc)](_0x3351fd[_0x18a1b2(0xb9c)](_0x21eef9,_0x35b375[_0x18a1b2(0xb8b)][0x1][_0x18a1b2(0x534)]),_0x56dcbe(_0x35b375[_0x18a1b2(0x118)](_0x3351fd['VUcoo'])[0x1]));continue;case'5':_0x23a4db['ok'](_0x35b375);continue;case'6':_0x27dc41[_0x18a1b2(0xcbc)](_0x35b375[_0x18a1b2(0xb8b)][0x1][_0x18a1b2(0x8a8)],_0x81ba61[_0x18a1b2(0x8a8)]);continue;case'7':_0x27aecc();continue;case'8':_0x4143e9['ok'](_0x35583f['isArray'](_0x35b375[_0x18a1b2(0x118)]('fans')));continue;case'9':_0x4496e9[_0x18a1b2(0xcbc)](_0x35b375['fans'][0x0]['name'],_0x4f2609[_0x18a1b2(0x8a8)]);continue;case'10':_0x401766['ifError'](_0x44fe0c);continue;}break;}});});});}else assert[_0x7bac5d(0x127)](_0x4b6265),_0x2664c6[_0x7bac5d(0x46d)]({'title':_0x7bac5d(0x1a5),'fans':[_0x15d179,_0x21e9f2,_0x5869a2]},function(_0x2edc6b,_0x204972){const _0x3835b6=_0x7bac5d,_0x2d523c={'movIy':_0x1f3564[_0x3835b6(0xe0)],'MaTkl':'fan3@learnboost.com','smbAr':_0x1f3564[_0x3835b6(0x7e9)],'DSUFA':_0x3835b6(0x887)};assert[_0x3835b6(0x127)](_0x2edc6b),_0x2664c6[_0x3835b6(0x46d)]({'title':_0x1f3564[_0x3835b6(0x991)],'fans':[_0x5869a2,_0x21e9f2,_0x15d179]},function(_0xe5d056,_0x57e347){const _0x410d87=_0x3835b6,_0x532a83={'XttQu':_0x2d523c['movIy'],'bBPLb':_0x410d87(0x3f3),'jHbeL':_0x2d523c[_0x410d87(0x17c)],'XRDVJ':'email','NDfRe':_0x2d523c['smbAr'],'ZUuoa':_0x410d87(0x3f4)};assert['ifError'](_0xe5d056),_0x2664c6['find']({'_id':{'$in':[_0x204972['_id'],_0x57e347['_id']]}})[_0x410d87(0x52a)](_0x410d87(0xb8b),_0x410d87(0x9de),{'gender':_0x2d523c['DSUFA'],'age':0x19})['exec'](function(_0x281c54,_0x31ee3c){const _0x4dccab=_0x410d87,_0x439a69=_0x532a83[_0x4dccab(0x9d7)][_0x4dccab(0x3a7)]('|');let _0x45dc89=0x0;while(!![]){switch(_0x439a69[_0x45dc89++]){case'0':assert[_0x4dccab(0x672)](_0x31ee3c[0x1][_0x4dccab(0xb8b)][_0x4dccab(0x2a2)],0x1);continue;case'1':assert['equal'](_0x31ee3c[0x0]['fans'][0x0][_0x4dccab(0x346)]([_0x532a83[_0x4dccab(0x6d4)],_0x4dccab(0x3f4)]),![]);continue;case'2':assert['equal'](_0x31ee3c[0x0][_0x4dccab(0xb8b)][0x0][_0x4dccab(0x978)],_0x532a83[_0x4dccab(0x5a9)]);continue;case'3':assert[_0x4dccab(0xcbc)](_0x31ee3c[0x1][_0x4dccab(0xb8b)][0x0]['name'],_0x4dccab(0x930));continue;case'4':assert['strictEqual'](_0x31ee3c[0x0][_0x4dccab(0xb8b)]['length'],0x1);continue;case'5':_0xac10cd();continue;case'6':assert[_0x4dccab(0xcbc)](_0x31ee3c[0x0]['fans'][0x0]['isInit']([_0x532a83[_0x4dccab(0x892)]]),!![]);continue;case'7':assert[_0x4dccab(0xcbc)](_0x31ee3c[0x0]['fans'][0x0][_0x4dccab(0x346)]('gender'),![]);continue;case'8':assert['equal'](_0x31ee3c[0x0][_0x4dccab(0xb8b)][0x0][_0x4dccab(0x8a8)],_0x532a83[_0x4dccab(0x917)]);continue;case'9':assert[_0x4dccab(0xcbc)](_0x31ee3c[0x0]['fans'][0x0]['isInit']([_0x4dccab(0x978),_0x4dccab(0x3f4)]),!![]);continue;case'10':assert[_0x4dccab(0xcbc)](_0x31ee3c[0x1][_0x4dccab(0xb8b)][0x0]['isInit'](_0x532a83[_0x4dccab(0x77a)]),![]);continue;case'11':assert[_0x4dccab(0xcbc)](_0x31ee3c[0x0][_0x4dccab(0xb8b)][0x0][_0x4dccab(0x346)](_0x532a83['XRDVJ']),!![]);continue;case'12':assert['ifError'](_0x281c54);continue;case'13':assert['equal'](_0x31ee3c[0x1]['fans'][0x0][_0x4dccab(0x346)](_0x4dccab(0x3f3)),![]);continue;case'14':assert[_0x4dccab(0xcbc)](_0x31ee3c[0x0]['fans'][0x0][_0x4dccab(0x346)]('age'),![]);continue;case'15':assert[_0x4dccab(0xcbc)](_0x31ee3c[0x1][_0x4dccab(0xb8b)][0x0][_0x4dccab(0x346)](_0x532a83[_0x4dccab(0x892)]),!![]);continue;case'16':assert[_0x4dccab(0xcbc)](_0x31ee3c[0x1][_0x4dccab(0xb8b)][0x0][_0x4dccab(0x978)],_0x4dccab(0xd33));continue;}break;}});});});}));});});}),_0x24a2f1[_0x4ef2f4(0x41c)](it,'populating\x20an\x20array\x20of\x20refs\x20changing\x20one\x20and\x20removing\x20one',function(_0x1409f9){const _0x23c0ee=_0x4ef2f4,_0x242ad8={'bmTNS':_0x24a2f1['FlDiS'],'ugvOW':_0x24a2f1['QCJlJ'],'SZoEs':'name','mJHPq':_0x23c0ee(0x1a5)},_0x24c3d4=_0x27d0e4['model'](_0x24a2f1[_0x23c0ee(0x826)],_0x4088a5),_0x398524=_0x27d0e4[_0x23c0ee(0x807)](_0x24a2f1[_0x23c0ee(0x840)],_0x1e7a32);_0x398524[_0x23c0ee(0x46d)]({'name':_0x23c0ee(0xb43),'email':_0x23c0ee(0x96f)},{'name':_0x24a2f1[_0x23c0ee(0x1a4)],'email':_0x23c0ee(0x660)},{'name':_0x23c0ee(0x930),'email':_0x24a2f1[_0x23c0ee(0xb89)]},{'name':_0x24a2f1[_0x23c0ee(0x6fe)],'email':_0x23c0ee(0x1b0)},function(_0x74cc69,_0x297800,_0x2d74f5,_0x2ac549,_0x5bca67){const _0x346bbc=_0x23c0ee,_0x30af99={'foyki':_0x242ad8[_0x346bbc(0x362)],'QCjRS':_0x242ad8[_0x346bbc(0x58e)],'HXhWX':_0x346bbc(0xb43),'aMPGI':_0x242ad8[_0x346bbc(0x850)]};assert[_0x346bbc(0x127)](_0x74cc69),_0x24c3d4[_0x346bbc(0x46d)]({'title':'Woot','fans':[_0x297800,_0x2d74f5]},{'title':_0x242ad8[_0x346bbc(0x8ba)],'fans':[_0x2d74f5,_0x297800]},function(_0x43ca87,_0x4842c2,_0x17c39a){const _0x231815=_0x346bbc;assert['ifError'](_0x43ca87),_0x24c3d4['find']({'_id':{'$in':[_0x4842c2[_0x231815(0x534)],_0x17c39a[_0x231815(0x534)]]}})[_0x231815(0x52a)](_0x30af99[_0x231815(0x8a5)],_0x30af99['aMPGI'])['exec'](function(_0x1d8c38,_0x56db39){const _0x37980e=_0x231815,_0x2d419c={'qIXrY':_0x30af99[_0x37980e(0x8a5)]};assert[_0x37980e(0x127)](_0x1d8c38),assert['equal'](_0x56db39[0x0]['fans'][0x0][_0x37980e(0x8a8)],_0x37980e(0xb43)),assert[_0x37980e(0xcbc)](_0x56db39[0x0][_0x37980e(0xb8b)][0x0]['isInit'](_0x30af99[_0x37980e(0x8bd)]),![]),assert[_0x37980e(0xcbc)](_0x56db39[0x0][_0x37980e(0xb8b)][0x1][_0x37980e(0x8a8)],_0x37980e(0x684)),assert[_0x37980e(0xcbc)](_0x56db39[0x0]['fans'][0x1][_0x37980e(0x346)](_0x30af99[_0x37980e(0x8bd)]),![]),assert[_0x37980e(0xcbc)](_0x56db39[0x1][_0x37980e(0xb8b)][0x0][_0x37980e(0x8a8)],_0x37980e(0x684)),assert[_0x37980e(0xcbc)](_0x56db39[0x1][_0x37980e(0xb8b)][0x0][_0x37980e(0x346)](_0x30af99[_0x37980e(0x8bd)]),![]),assert[_0x37980e(0xcbc)](_0x56db39[0x1]['fans'][0x1][_0x37980e(0x8a8)],_0x30af99[_0x37980e(0x6bb)]),assert[_0x37980e(0xcbc)](_0x56db39[0x1][_0x37980e(0xb8b)][0x1][_0x37980e(0x346)](_0x37980e(0x978)),![]),_0x56db39[0x1]['fans']=[_0x2ac549,_0x5bca67],_0x56db39[0x1][_0x37980e(0x87f)](function(_0x47cd29){const _0x212dc4=_0x37980e,_0x2f4248={'upVzy':_0x212dc4(0x311),'uVeBU':_0x2d419c['qIXrY'],'ruXdp':_0x212dc4(0xbf3),'bzVub':_0x212dc4(0x648),'IcgVi':_0x212dc4(0x930)};assert[_0x212dc4(0x127)](_0x47cd29),_0x24c3d4[_0x212dc4(0x770)](_0x56db39[0x1][_0x212dc4(0x534)],'',{'populate':[_0x2d419c['qIXrY']]})['exec'](function(_0x342213,_0x35d1eb){const _0x17ed84=_0x212dc4,_0x24c692={'ljZqt':_0x17ed84(0x4cc),'RLeka':'Axl\x20Rose','FfeOM':_0x2f4248[_0x17ed84(0x6c6)]};if(_0x2f4248[_0x17ed84(0x7f0)]!==_0x17ed84(0x648)){const _0x1d1785={'KZbok':_0x24c692['RLeka'],'pxGFh':'Motley\x20Crue','JxaQV':_0x24c692[_0x17ed84(0x810)]};_0x33c06f['ifError'](_0x2213ca),_0x28b9e5[_0x17ed84(0xc9e)](_0x2b3a8a,function(_0x593228){const _0xe015c3=_0x17ed84;_0x17e79a['ifError'](_0x593228),_0x31b23a[_0xe015c3(0xc77)]({})[_0xe015c3(0x22b)]({'name':0x1})['populate']({'path':_0x24c692['ljZqt'],'options':{'sort':{'name':0x1}}})['exec'](function(_0xfa145b,_0x57c5f9){const _0x2d726c=_0xe015c3;_0xab8fe4['ifError'](_0xfa145b),_0x237241[_0x2d726c(0xcbc)](_0x57c5f9[_0x2d726c(0x2a2)],0x2),_0x2f14dd[_0x2d726c(0xcbc)](_0x57c5f9[0x0]['name'],_0x2d726c(0x152)),_0x1e15b6[_0x2d726c(0xcbc)](_0x57c5f9[0x0][_0x2d726c(0x4cc)][_0x2d726c(0x2a2)],0x2),_0xc50527['deepEqual'](_0x57c5f9[0x0]['members'][_0x2d726c(0x847)](_0x758e43=>_0x758e43[_0x2d726c(0x8a8)]),[_0x1d1785['KZbok'],'Slash']),_0x576a45['equal'](_0x57c5f9[0x1][_0x2d726c(0x8a8)],_0x1d1785['pxGFh']),_0x3fe494[_0x2d726c(0xcbc)](_0x57c5f9[0x1]['members'][_0x2d726c(0x2a2)],0x2),_0x5ad8a1[_0x2d726c(0x829)](_0x57c5f9[0x1]['members']['map'](_0x28a930=>_0x28a930[_0x2d726c(0x8a8)]),[_0x1d1785['JxaQV'],_0x2d726c(0xb56)]),_0x10205f();});});}else assert['ifError'](_0x342213),assert[_0x17ed84(0xcbc)](_0x35d1eb[_0x17ed84(0xb8b)][0x0][_0x17ed84(0x8a8)],_0x2f4248[_0x17ed84(0x489)]),assert[_0x17ed84(0xcbc)](_0x35d1eb[_0x17ed84(0xb8b)][0x1][_0x17ed84(0x8a8)],_0x17ed84(0x311)),_0x35d1eb[_0x17ed84(0xb8b)]['splice'](0x0,0x1),_0x35d1eb[_0x17ed84(0x87f)](function(_0x1c0771){const _0x14dccc=_0x17ed84,_0x18fa91={'aVANy':_0x2f4248[_0x14dccc(0x276)],'qRsax':function(_0x305426){return _0x305426();}};assert[_0x14dccc(0x127)](_0x1c0771),_0x24c3d4[_0x14dccc(0x770)](_0x35d1eb[_0x14dccc(0x534)])[_0x14dccc(0x52a)](_0x2f4248[_0x14dccc(0x429)])[_0x14dccc(0x37d)](function(_0x56c99f,_0x3fe961){const _0x45ffd3=_0x14dccc;assert[_0x45ffd3(0x127)](_0x56c99f),assert[_0x45ffd3(0xcbc)](_0x3fe961[_0x45ffd3(0xb8b)][_0x45ffd3(0x2a2)],0x1),assert['equal'](_0x3fe961[_0x45ffd3(0xb8b)][0x0][_0x45ffd3(0x8a8)],_0x18fa91[_0x45ffd3(0x1f1)]),_0x18fa91['qRsax'](_0x1409f9);});});});});});});});}),_0x24a2f1[_0x4ef2f4(0x1b8)](describe,_0x4ef2f4(0xc13),function(){const _0xe55220=_0x4ef2f4,_0x40c262={'WeoAk':_0x24a2f1['UYIRM'],'NFNCh':_0x24a2f1[_0xe55220(0x8a7)],'owkvG':_0xe55220(0x649),'feniY':_0x24a2f1['NNuaY']};it(_0x24a2f1['wDrer'],function(_0x2507af){const _0x533a88=_0xe55220,_0x3fdb95=_0x27d0e4[_0x533a88(0x807)](_0x24a2f1[_0x533a88(0x826)],_0x4088a5),_0x2e07c1=_0x27d0e4['model']('User',_0x1e7a32);_0x2e07c1[_0x533a88(0x46d)]({'name':'User\x201'},function(_0x3491f3,_0x384976){const _0x494485=_0x533a88,_0x4a5acd={'mQgIo':_0x494485(0x5ad),'FljEn':_0x494485(0x3de)};assert[_0x494485(0x127)](_0x3491f3),_0x2e07c1['create']({'name':_0x40c262[_0x494485(0x19d)]},function(_0x37e5f1,_0x3c9024){const _0x16a379=_0x494485,_0x50ae37={'ATswm':_0x4a5acd[_0x16a379(0x4c9)],'DRsEg':_0x16a379(0x4bd)};assert['ifError'](_0x37e5f1),_0x3fdb95[_0x16a379(0x46d)]({'title':_0x16a379(0x1a5),'_creator':_0x384976['_id'],'comments':[{'_creator':_0x384976[_0x16a379(0x534)],'content':_0x16a379(0x70b)},{'_creator':_0x3c9024[_0x16a379(0x534)],'content':_0x4a5acd['FljEn']}]},function(_0x4a58ac,_0x48e494){const _0x58b5d5=_0x16a379,_0x4cb246={'LlrKk':'User\x202','lGhlH':_0x58b5d5(0x7a8)};assert[_0x58b5d5(0x127)](_0x4a58ac),_0x3fdb95[_0x58b5d5(0x770)](_0x48e494[_0x58b5d5(0x534)])[_0x58b5d5(0x52a)](_0x50ae37[_0x58b5d5(0xcb4)])[_0x58b5d5(0x52a)](_0x50ae37[_0x58b5d5(0x999)])[_0x58b5d5(0x37d)](function(_0x33d51c,_0x895dca){const _0x3d731a=_0x58b5d5,_0x38ff35='1|3|4|2|0'['split']('|');let _0x2d1ec5=0x0;while(!![]){switch(_0x38ff35[_0x2d1ec5++]){case'0':_0x2507af();continue;case'1':assert[_0x3d731a(0x127)](_0x33d51c);continue;case'2':assert[_0x3d731a(0xcbc)](_0x895dca[_0x3d731a(0x83b)][0x1][_0x3d731a(0x5ad)][_0x3d731a(0x8a8)],_0x4cb246[_0x3d731a(0xb4b)]);continue;case'3':assert['equal'](_0x895dca[_0x3d731a(0x5ad)][_0x3d731a(0x8a8)],_0x4cb246[_0x3d731a(0x1ea)]);continue;case'4':assert[_0x3d731a(0xcbc)](_0x895dca[_0x3d731a(0x83b)][0x0]['_creator'][_0x3d731a(0x8a8)],_0x4cb246[_0x3d731a(0x1ea)]);continue;}break;}});});});});}),_0x24a2f1[_0xe55220(0x511)](it,_0xe55220(0x9e9),function(_0xf560b4){const _0x4f0be9=_0xe55220,_0x153a9d={'DDxBv':'people.parent','UamZh':_0x24a2f1[_0x4f0be9(0x583)],'YxOCX':'comments.asers'};if(_0x24a2f1['TEhHs']!==_0x24a2f1[_0x4f0be9(0x4fe)])return _0x4186fc['populate'](_0x153a9d[_0x4f0be9(0x3af)]);else{const _0x52e1ba=_0x27d0e4[_0x4f0be9(0x807)](_0x24a2f1[_0x4f0be9(0x826)],_0x4088a5),_0xfbb95e=_0x27d0e4[_0x4f0be9(0x807)](_0x4f0be9(0x11f),_0x1e7a32);_0xfbb95e[_0x4f0be9(0x46d)]({'name':_0x4f0be9(0x1cf)},{'name':_0x4f0be9(0x876)},function(_0x172455,_0x5e3e3c,_0x32d72a){const _0x375bd1=_0x4f0be9;assert[_0x375bd1(0x127)](_0x172455),_0x52e1ba['create']({'title':_0x40c262['NFNCh'],'_creator':_0x5e3e3c[_0x375bd1(0x534)],'comments':[]},{'title':_0x40c262[_0x375bd1(0x1e6)],'_creator':_0x5e3e3c[_0x375bd1(0x534)],'comments':[{'_creator':_0x5e3e3c[_0x375bd1(0x534)],'content':_0x40c262[_0x375bd1(0x8f5)],'asers':[]},{'_creator':_0x32d72a[_0x375bd1(0x534)],'content':_0x375bd1(0x3de),'asers':[_0x5e3e3c,_0x32d72a]}]},function(_0x1f8798){const _0x3269ab=_0x375bd1,_0x3bfeb6={'rGLYE':'gh-1055-1'};assert['ifError'](_0x1f8798);let _0x13b0ed=![];_0x52e1ba[_0x3269ab(0xc77)]({'title':/gh-1055/})[_0x3269ab(0x22b)]('title')[_0x3269ab(0x4e9)](_0x153a9d[_0x3269ab(0x592)])[_0x3269ab(0x52a)](_0x3269ab(0x4bd))[_0x3269ab(0x52a)](_0x153a9d[_0x3269ab(0x1f7)])['exec'](function(_0x33dc8d,_0x59c886){const _0x3ed09e=_0x3269ab,_0x5e4ee6=_0x3ed09e(0x4e0)[_0x3ed09e(0x3a7)]('|');let _0x331a59=0x0;while(!![]){switch(_0x5e4ee6[_0x331a59++]){case'0':_0xf560b4();continue;case'1':assert['ok'](_0x59c886[_0x3ed09e(0x2a2)]);continue;case'2':assert[_0x3ed09e(0x127)](_0x33dc8d);continue;case'3':assert[_0x3ed09e(0xcbc)](_0x13b0ed,![]);continue;case'4':assert['equal'](_0x59c886[0x1][_0x3ed09e(0x83b)][0x0][_0x3ed09e(0x5ad)]['name'],_0x3bfeb6['rGLYE']);continue;case'5':assert['ok'](_0x59c886[0x1][_0x3ed09e(0x83b)][0x0]['_creator']);continue;case'6':_0x13b0ed=!![];continue;}break;}});});});}});}),_0x24a2f1[_0x4ef2f4(0x10d)](it,_0x4ef2f4(0xa5a),function(_0x8a5acd){const _0x2f9864=_0x4ef2f4,_0x41b7e2=_0x27d0e4[_0x2f9864(0x807)](_0x2f9864(0x63e),_0x4088a5),_0x43fd75=_0x27d0e4['model']('User',_0x1e7a32);_0x43fd75[_0x2f9864(0x46d)]({'name':'aaron'},{'name':_0x2f9864(0x890)},function(_0x9dbc60,_0x56f1e4,_0x4d0b49){const _0x40e552=_0x2f9864,_0x4c46a6={'aQITM':_0x40e552(0x174),'ZnfGP':_0x24a2f1['SvvqN']};assert[_0x40e552(0x127)](_0x9dbc60),_0x41b7e2[_0x40e552(0x46d)]({'title':_0x24a2f1[_0x40e552(0x550)],'_creator':_0x56f1e4['_id'],'comments':[]},function(_0x12d89d){const _0x42e5dd=_0x40e552,_0x3d2ddf={'uGfvz':_0x4c46a6['aQITM'],'wKhBn':_0x4c46a6[_0x42e5dd(0x155)]};assert[_0x42e5dd(0x127)](_0x12d89d),_0x41b7e2['find']({'title':_0x42e5dd(0x6e7)})[_0x42e5dd(0x52a)](_0x42e5dd(0x5ad))['exec'](function(_0x4489b1,_0x27ea34){const _0x472fb9=_0x42e5dd,_0x45c788='4|5|1|0|2|3'['split']('|');let _0x49795f=0x0;while(!![]){switch(_0x45c788[_0x49795f++]){case'0':_0x27ea34[0x0][_0x472fb9(0x5ad)]=_0x4d0b49;continue;case'1':assert[_0x472fb9(0xcbc)](_0x27ea34[0x0][_0x472fb9(0x5ad)][_0x472fb9(0x8a8)],_0x3d2ddf[_0x472fb9(0x6c2)]);continue;case'2':assert[_0x472fb9(0xcbc)](_0x27ea34[0x0][_0x472fb9(0x5ad)][_0x472fb9(0x8a8)],_0x3d2ddf['wKhBn']);continue;case'3':_0x27ea34[0x0][_0x472fb9(0x87f)](function(_0x4fd313,_0x3f28df){const _0x18abfb=_0x472fb9;assert[_0x18abfb(0x127)](_0x4fd313),assert[_0x18abfb(0xcbc)](_0x3f28df[_0x18abfb(0x5ad)]['name'],_0x18abfb(0x890)),_0x27ea34[0x0]['populate']('_creator',function(_0x24915b,_0xa19443){const _0x253946=_0x18abfb;assert[_0x253946(0x127)](_0x24915b),assert['equal'](_0xa19443[_0x253946(0x5ad)]['name'],'val'),_0x8a5acd();});});continue;case'4':assert[_0x472fb9(0x127)](_0x4489b1);continue;case'5':assert[_0x472fb9(0xcbc)](_0x27ea34[_0x472fb9(0x2a2)],0x1);continue;}break;}});});});}),_0x24a2f1[_0x4ef2f4(0xc92)](it,_0x4ef2f4(0xc28),function(_0x3a3efa){const _0x3da380=_0x4ef2f4,_0x372076={'fCHno':_0x24a2f1[_0x3da380(0x1a7)],'crqit':_0x3da380(0x3de),'GcKEi':_0x3da380(0x978),'QKXvN':function(_0x337175,_0x555990){return _0x24a2f1['RzbxQ'](_0x337175,_0x555990);},'VCcih':_0x3da380(0xd10)},_0x331979=_0x27d0e4[_0x3da380(0x807)](_0x24a2f1[_0x3da380(0x826)],_0x4088a5),_0x40f10f=_0x27d0e4[_0x3da380(0x807)](_0x24a2f1[_0x3da380(0x840)],_0x1e7a32);_0x40f10f[_0x3da380(0x46d)]({'name':_0x24a2f1['gBHOm'],'email':_0x3da380(0xc18)},function(_0x500386,_0x5eda25){const _0x1353cc=_0x3da380,_0x4bc12d={'mEuiX':'rWJiw','xHZgV':'comments._creator','PPwIW':_0x372076['GcKEi']};_0x372076['QKXvN'](_0x372076[_0x1353cc(0x444)],_0x1353cc(0xd10))?(assert[_0x1353cc(0x127)](_0x500386),_0x40f10f[_0x1353cc(0x46d)]({'name':_0x1353cc(0xbac),'email':'user2@learnboost.com'},function(_0x5ad5bd,_0x1f975b){const _0x5cae74=_0x1353cc,_0x4b9a09={'lDfCW':_0x5cae74(0x59f)};assert[_0x5cae74(0x127)](_0x5ad5bd),_0x331979[_0x5cae74(0x46d)]({'title':_0x372076[_0x5cae74(0xa8b)],'comments':[{'_creator':_0x5eda25,'content':_0x5cae74(0x70b)},{'_creator':_0x1f975b,'content':_0x372076[_0x5cae74(0xeb)]}]},function(_0x82a955,_0x20db0e){const _0x3ef1fc=_0x5cae74;'rWJiw'===_0x4bc12d[_0x3ef1fc(0xbe4)]?(assert[_0x3ef1fc(0x127)](_0x82a955),_0x331979[_0x3ef1fc(0x770)](_0x20db0e[_0x3ef1fc(0x534)])[_0x3ef1fc(0x52a)](_0x4bc12d[_0x3ef1fc(0x158)],_0x4bc12d[_0x3ef1fc(0xbf7)])[_0x3ef1fc(0x37d)](function(_0x40431b,_0x169f67){const _0x364322=_0x3ef1fc;assert[_0x364322(0x127)](_0x40431b),assert['equal'](_0x169f67[_0x364322(0x83b)][0x0][_0x364322(0x5ad)][_0x364322(0x978)],'user1@learnboost.com'),assert[_0x364322(0xcbc)](_0x169f67['comments'][0x0][_0x364322(0x5ad)][_0x364322(0x346)](_0x364322(0x8a8)),![]),assert['equal'](_0x169f67[_0x364322(0x83b)][0x1][_0x364322(0x5ad)][_0x364322(0x978)],_0x364322(0x9fc)),assert[_0x364322(0xcbc)](_0x169f67[_0x364322(0x83b)][0x1][_0x364322(0x5ad)][_0x364322(0x346)](_0x364322(0x8a8)),![]),_0x3a3efa();})):(_0x297f5c['equal'](_0x58bf15[_0x3ef1fc(0x5ec)][0x0]['author'][_0x3ef1fc(0x742)],'David'),_0xf523a0[_0x3ef1fc(0xcbc)](_0x46d0a4['items'][0x1][_0x3ef1fc(0xc78)][_0x3ef1fc(0x742)],_0x4b9a09[_0x3ef1fc(0x8bc)]));});})):(_0x40dfd4[_0x1353cc(0x127)](_0x55519c),_0x19a714[_0x1353cc(0x46d)]({'title':'Woot','comments':[{'_creator':_0x354da2,'content':_0x1353cc(0x70b)},{'_creator':_0x5903de,'content':_0x1353cc(0x3de)}]},function(_0xc4aa42,_0x397d5b){const _0x127d79=_0x1353cc,_0x3bc2d3={'Sbhwr':_0x127d79(0x8a8),'AfILj':_0x127d79(0x9fc)};_0x223908[_0x127d79(0x127)](_0xc4aa42),_0x12286d[_0x127d79(0x770)](_0x397d5b[_0x127d79(0x534)])[_0x127d79(0x52a)](_0x4bc12d[_0x127d79(0x158)],{'email':0x1},{'name':/User/})[_0x127d79(0x37d)](function(_0x7dc446,_0x215907){const _0x59989e=_0x127d79,_0x320041=_0x59989e(0x7bd)['split']('|');let _0x2caff6=0x0;while(!![]){switch(_0x320041[_0x2caff6++]){case'0':_0x10f44d['equal'](_0x215907['comments'][0x0]['_creator'][_0x59989e(0x346)](_0x3bc2d3[_0x59989e(0x458)]),![]);continue;case'1':_0x43d69[_0x59989e(0xcbc)](_0x215907[_0x59989e(0x83b)][0x0]['_creator']['email'],_0x59989e(0xc18));continue;case'2':_0x27d864();continue;case'3':_0x5d5c5e['equal'](_0x215907['comments'][0x1][_0x59989e(0x5ad)]['isInit'](_0x59989e(0x8a8)),![]);continue;case'4':_0xf7c561[_0x59989e(0xcbc)](_0x215907[_0x59989e(0x83b)][0x1][_0x59989e(0x5ad)][_0x59989e(0x978)],_0x3bc2d3[_0x59989e(0x535)]);continue;case'5':_0x3a7498[_0x59989e(0x127)](_0x7dc446);continue;}break;}});}));});}),it(_0x24a2f1[_0x4ef2f4(0x2a6)],function(_0x831f2f){const _0x4b7340=_0x4ef2f4,_0x37cd03={'OrPxk':_0x24a2f1[_0x4b7340(0x37b)],'bwvbu':_0x4b7340(0x8a8),'OaAEC':_0x24a2f1[_0x4b7340(0xd16)],'vkzEO':_0x24a2f1[_0x4b7340(0x6fa)]},_0xcdd47b=_0x27d0e4[_0x4b7340(0x807)](_0x4b7340(0x63e),_0x4088a5),_0x3d7531=_0x27d0e4['model'](_0x24a2f1[_0x4b7340(0x840)],_0x1e7a32);_0x3d7531['create']({'name':_0x24a2f1[_0x4b7340(0x1d7)],'email':_0x24a2f1['wkaXH']},function(_0x8d30da,_0x440e27){const _0x4e5ff3=_0x4b7340,_0x105492={'cvEsF':_0x37cd03[_0x4e5ff3(0x564)],'GaHVU':_0x37cd03['bwvbu']};assert[_0x4e5ff3(0x127)](_0x8d30da),_0x3d7531['create']({'name':_0x37cd03[_0x4e5ff3(0x31e)],'email':_0x37cd03[_0x4e5ff3(0x9c4)]},function(_0x13fef,_0x16fd39){const _0x224045=_0x4e5ff3;assert[_0x224045(0x127)](_0x13fef),_0xcdd47b[_0x224045(0x46d)]({'title':_0x224045(0x1a5),'comments':[{'_creator':_0x440e27,'content':_0x224045(0x70b)},{'_creator':_0x16fd39,'content':'Wha\x20wha'}]},function(_0x783822,_0x14a950){const _0x4ec56d=_0x224045,_0x428e41={'JWsmL':_0x105492['cvEsF'],'ROAvZ':_0x105492[_0x4ec56d(0x2a7)]};assert['ifError'](_0x783822),_0xcdd47b[_0x4ec56d(0x770)](_0x14a950[_0x4ec56d(0x534)])[_0x4ec56d(0x52a)](_0x4ec56d(0x4bd),{'email':0x1},{'name':/User/})[_0x4ec56d(0x37d)](function(_0x3ee65a,_0x4eee6d){const _0x57cd17=_0x4ec56d,_0x2609b0=_0x428e41[_0x57cd17(0x81f)][_0x57cd17(0x3a7)]('|');let _0x117803=0x0;while(!![]){switch(_0x2609b0[_0x117803++]){case'0':assert[_0x57cd17(0xcbc)](_0x4eee6d[_0x57cd17(0x83b)][0x0][_0x57cd17(0x5ad)]['email'],_0x57cd17(0xc18));continue;case'1':assert[_0x57cd17(0xcbc)](_0x4eee6d[_0x57cd17(0x83b)][0x1]['_creator'][_0x57cd17(0x346)](_0x428e41[_0x57cd17(0xb48)]),![]);continue;case'2':assert[_0x57cd17(0xcbc)](_0x4eee6d[_0x57cd17(0x83b)][0x0]['_creator']['isInit'](_0x428e41[_0x57cd17(0xb48)]),![]);continue;case'3':assert[_0x57cd17(0x127)](_0x3ee65a);continue;case'4':assert[_0x57cd17(0xcbc)](_0x4eee6d['comments'][0x1][_0x57cd17(0x5ad)]['email'],_0x57cd17(0x9fc));continue;case'5':_0x831f2f();continue;}break;}});});});});}),_0x24a2f1[_0x4ef2f4(0x1e8)](it,_0x24a2f1['KHctF'],function(_0x63e6f7){const _0x3b247a=_0x4ef2f4,_0x17ae8c={'bbBto':'Woot','TezUh':_0x24a2f1['NNuaY'],'OWTPM':'Wha\x20wha','NQmvc':_0x3b247a(0x978),'fqFLe':_0x3b247a(0x80d)},_0x2093b1=_0x27d0e4[_0x3b247a(0x807)](_0x24a2f1['YBPRy'],_0x4088a5),_0xa2729f=_0x27d0e4['model'](_0x24a2f1[_0x3b247a(0x840)],_0x1e7a32);_0xa2729f['create']({'name':_0x3b247a(0x4b3),'email':'terminator100@learnboost.com'},function(_0x2f7a47){const _0x1e1e4e=_0x3b247a,_0x46fb66={'ZtvSu':_0x17ae8c[_0x1e1e4e(0xbc7)],'GcwwO':_0x17ae8c[_0x1e1e4e(0x801)]};assert[_0x1e1e4e(0x127)](_0x2f7a47),_0xa2729f['create']({'name':'T-1000','email':'terminator1000@learnboost.com'},function(_0x40433f,_0x31f20b){const _0x44561a=_0x1e1e4e;assert[_0x44561a(0x127)](_0x40433f),_0x2093b1[_0x44561a(0x46d)]({'title':_0x17ae8c[_0x44561a(0x51b)],'comments':[{'_creator':null,'content':_0x17ae8c[_0x44561a(0xcef)]},{'_creator':_0x31f20b,'content':_0x17ae8c['OWTPM']}]},function(_0x2e1f60,_0x124560){const _0x346072=_0x44561a,_0x4db2c6={'yyAwh':_0x346072(0x8a8),'HHUzU':_0x346072(0x80d),'UcKdo':_0x46fb66[_0x346072(0x265)],'IZTyC':_0x346072(0x11f)};assert[_0x346072(0x127)](_0x2e1f60),_0x2093b1[_0x346072(0x770)](_0x124560[_0x346072(0x534)])[_0x346072(0x52a)]({'path':_0x46fb66[_0x346072(0x51c)],'select':_0x46fb66[_0x346072(0x265)],'strictPopulate':![]})[_0x346072(0x37d)](function(_0x5d45de){const _0x182ee3=_0x346072;assert['ifError'](_0x5d45de),_0x2093b1[_0x182ee3(0x655)][_0x182ee3(0x6fd)]({'_id':_0x124560[_0x182ee3(0x534)]},{'$set':{'comments.0._idontexist':_0x31f20b[_0x182ee3(0x534)]}},function(_0x565e3e){const _0x3d5d86=_0x182ee3,_0x5e1701={'dhOaf':'Woot\x20woot','iRwNV':_0x4db2c6[_0x3d5d86(0x3d9)],'VMXJJ':'_idontexist'};assert['ifError'](_0x565e3e),_0x2093b1[_0x3d5d86(0x770)](_0x124560[_0x3d5d86(0x534)])[_0x3d5d86(0x52a)]({'path':_0x4db2c6['HHUzU'],'select':_0x4db2c6[_0x3d5d86(0x886)],'model':_0x4db2c6[_0x3d5d86(0x899)],'strictPopulate':![]})[_0x3d5d86(0x37d)](function(_0x54a1d7,_0x3deab5){const _0x4cb522=_0x3d5d86;assert[_0x4cb522(0x127)](_0x54a1d7),assert['ok'](_0x3deab5),assert[_0x4cb522(0xcbc)](_0x3deab5['comments']['length'],0x2),assert['ok'](_0x3deab5[_0x4cb522(0x83b)][0x0]['get']('_idontexist')),assert[_0x4cb522(0xcbc)](String(_0x3deab5['comments'][0x0][_0x4cb522(0x4e7)](_0x5e1701[_0x4cb522(0xb87)])[_0x4cb522(0x534)]),_0x31f20b['id']),assert['equal'](_0x3deab5[_0x4cb522(0x83b)][0x0][_0x4cb522(0x4e7)]('_idontexist')[_0x4cb522(0x978)],_0x4cb522(0xc9f)),assert['equal'](_0x3deab5[_0x4cb522(0x83b)][0x0]['get'](_0x4cb522(0xa72))['isInit'](_0x4cb522(0x8a8)),![]),assert['strictEqual'](_0x3deab5[_0x4cb522(0x83b)][0x0][_0x4cb522(0x5ad)],null),assert[_0x4cb522(0xcbc)](_0x3deab5[_0x4cb522(0x83b)][0x1]['_creator']['toString'](),_0x31f20b['id']),_0x2093b1['findById'](_0x3deab5[_0x4cb522(0x534)])['populate'](_0x4cb522(0x4bd),'email')[_0x4cb522(0x37d)](function(_0x2645f7,_0x37661b){const _0x5719f4=_0x4cb522;assert[_0x5719f4(0x127)](_0x2645f7),assert['ok'](_0x37661b[_0x5719f4(0x83b)]),assert['equal'](_0x37661b[_0x5719f4(0x83b)]['length'],0x2),assert[_0x5719f4(0x672)](_0x37661b[_0x5719f4(0x83b)][0x0][_0x5719f4(0x5ad)],null),assert[_0x5719f4(0x672)](_0x37661b[_0x5719f4(0x83b)][0x0][_0x5719f4(0x5e6)],_0x5e1701[_0x5719f4(0x142)]),assert[_0x5719f4(0xcbc)](_0x37661b[_0x5719f4(0x83b)][0x1][_0x5719f4(0x5ad)]['email'],_0x5719f4(0xc9f)),assert[_0x5719f4(0xcbc)](_0x37661b[_0x5719f4(0x83b)][0x1]['_creator'][_0x5719f4(0x346)](_0x5e1701[_0x5719f4(0x928)]),![]),assert[_0x5719f4(0xcbc)](_0x37661b['comments'][0x1][_0x5719f4(0x5e6)],_0x5719f4(0x3de)),_0x63e6f7();});});});});});});});}),_0x24a2f1[_0x4ef2f4(0xd44)](it,'properly\x20handles\x20limit\x20per\x20document\x20(gh-2151)',function(_0x399be0){const _0x4fa711=_0x4ef2f4,_0x54a611=mongoose['Types']['ObjectId'],_0x44e0b3=new Schema({'name':String,'friends':[{'type':Schema[_0x4fa711(0x2ef)],'ref':_0x4fa711(0x11f)}]}),_0x73dc47=_0x27d0e4[_0x4fa711(0x807)](_0x24a2f1[_0x4fa711(0x840)],_0x44e0b3),_0x1a4c4b=new Schema({'title':String,'tags':[String],'author':{'type':Schema[_0x4fa711(0x2ef)],'ref':_0x4fa711(0x11f)}}),_0x473c34=_0x27d0e4[_0x4fa711(0x807)]('BlogPost',_0x1a4c4b),_0x227a5e=[new _0x54a611(),new _0x54a611(),new _0x54a611(),new _0x54a611()],_0x1d2aef=[];_0x1d2aef[_0x4fa711(0x2d6)]({'_id':_0x227a5e[0x0],'name':_0x4fa711(0x81a),'friends':[_0x227a5e[0x1],_0x227a5e[0x2],_0x227a5e[0x3]]}),_0x1d2aef[_0x4fa711(0x2d6)]({'_id':_0x227a5e[0x1],'name':_0x24a2f1[_0x4fa711(0xab4)],'friends':[_0x227a5e[0x0],_0x227a5e[0x2],_0x227a5e[0x3]]}),_0x1d2aef[_0x4fa711(0x2d6)]({'_id':_0x227a5e[0x2],'name':_0x4fa711(0x501),'friends':[_0x227a5e[0x0],_0x227a5e[0x1],_0x227a5e[0x3]]}),_0x1d2aef[_0x4fa711(0x2d6)]({'_id':_0x227a5e[0x3],'name':_0x24a2f1['ZXaDH'],'friends':[_0x227a5e[0x0],_0x227a5e[0x1],_0x227a5e[0x2]]}),_0x73dc47['create'](_0x1d2aef,function(_0x2dbaa2){const _0x43909c=_0x4fa711,_0x207d73={'TXPXe':_0x43909c(0x112),'uwnoT':function(_0x26dc8a){return _0x26dc8a();},'wGmNM':_0x43909c(0x8a8),'uTtjA':_0x43909c(0x3e4)};if(_0x43909c(0x117)!==_0x43909c(0x117))_0x492596[_0x43909c(0xcbc)](_0x59922b[0x0]['a']['name'],_0x43909c(0x165)),_0x20f147[_0x43909c(0xcbc)](_0x4a666d[0x1]['a'][_0x43909c(0x8a8)],_0x207d73[_0x43909c(0x4a9)]),_0x207d73[_0x43909c(0x50c)](_0x4b11bc);else{assert[_0x43909c(0x127)](_0x2dbaa2);const _0x354c97=[];_0x354c97['push']({'title':_0x24a2f1[_0x43909c(0xd1d)],'tags':[_0x43909c(0x3e4),_0x24a2f1[_0x43909c(0x5ed)]],'author':_0x227a5e[0x3]}),_0x354c97['push']({'title':_0x24a2f1[_0x43909c(0x2a8)],'tags':[_0x43909c(0x257)],'author':_0x227a5e[0x1]}),_0x354c97[_0x43909c(0x2d6)]({'title':_0x24a2f1[_0x43909c(0xa4b)],'tags':[_0x24a2f1[_0x43909c(0x5c9)],_0x24a2f1['yzZkc']],'author':_0x227a5e[0x2]}),_0x473c34['create'](_0x354c97,function(_0x3e0891){const _0x4def91=_0x43909c;assert[_0x4def91(0x127)](_0x3e0891),_0x473c34[_0x4def91(0xc77)]({'tags':_0x207d73[_0x4def91(0xa7c)]})[_0x4def91(0x2ac)]()[_0x4def91(0x52a)](_0x4def91(0xc78))[_0x4def91(0x37d)](function(_0x1edfa6,_0xd9592){const _0x5e0d80=_0x4def91;assert[_0x5e0d80(0x127)](_0x1edfa6);const _0x369298={'path':_0x5e0d80(0x5a5),'select':_0x207d73[_0x5e0d80(0x70e)],'options':{'limit':0x1}};_0x473c34[_0x5e0d80(0x52a)](_0xd9592,_0x369298,function(_0x3ec895,_0x671d8e){const _0x52abc3=_0x5e0d80,_0x856263=_0x52abc3(0x5d5)[_0x52abc3(0x3a7)]('|');let _0x19ea17=0x0;while(!![]){switch(_0x856263[_0x19ea17++]){case'0':assert[_0x52abc3(0xcbc)](_0x671d8e[0x1][_0x52abc3(0xc78)]['friends']['length'],0x1);continue;case'1':assert['ifError'](_0x3ec895);continue;case'2':assert[_0x52abc3(0xcbc)](_0x671d8e[0x0]['author'][_0x52abc3(0x88e)][_0x52abc3(0x2a2)],0x1);continue;case'3':assert[_0x52abc3(0xcbc)](_0x671d8e[_0x52abc3(0x2a2)],0x2);continue;case'4':_0x399be0();continue;case'5':assert[_0x52abc3(0xcbc)](_0x369298['options'][_0x52abc3(0x395)],0x1);continue;}break;}});});});}});}),_0x24a2f1[_0x4ef2f4(0x941)](it,_0x24a2f1['iSNPn'],function(_0xa4ae40){const _0x220fb0=_0x4ef2f4,_0x163d3e=_0x27d0e4[_0x220fb0(0x807)](_0x24a2f1[_0x220fb0(0x826)],_0x4088a5);_0x27d0e4[_0x220fb0(0x807)](_0x24a2f1[_0x220fb0(0x840)],_0x1e7a32),_0x163d3e[_0x220fb0(0x46d)]({'title':_0x220fb0(0x1a5),'comments':[]},function(_0x2e4272,_0x358ba0){const _0x3efb5f=_0x220fb0;if(_0x3efb5f(0x231)!==_0x3efb5f(0x231)){const _0x3d6090=_0x1f6455[_0x3efb5f(0x52a)](_0x3efb5f(0x287));return _0x299bcc['ok'](!_0x52b796[_0x3efb5f(0x118)](_0x3efb5f(0x287))),_0x3d6090;}else assert['ifError'](_0x2e4272),_0x163d3e['findById'](_0x358ba0[_0x3efb5f(0x534)])[_0x3efb5f(0x52a)](_0x3efb5f(0x4bd),_0x24a2f1[_0x3efb5f(0x454)])[_0x3efb5f(0x37d)](function(_0x29d7f1,_0x4f6098){const _0x1a7471=_0x3efb5f;assert[_0x1a7471(0x127)](_0x29d7f1),assert[_0x1a7471(0xcbc)](_0x4f6098['id'],_0x358ba0['id']),_0xa4ae40();});});}),_0x24a2f1[_0x4ef2f4(0xb5f)](it,_0x24a2f1[_0x4ef2f4(0xa99)],function(_0x7b479c){const _0x208456=_0x4ef2f4,_0x417fa2={'Vdaqr':_0x208456(0xe2),'OGlxN':_0x24a2f1[_0x208456(0x61f)]},_0x3ae23a=_0x27d0e4['model'](_0x208456(0x63e),_0x4088a5);_0x27d0e4[_0x208456(0x807)](_0x24a2f1[_0x208456(0x840)],_0x1e7a32),_0x3ae23a[_0x208456(0x46d)]({'title':_0x24a2f1[_0x208456(0x1a7)],'comments':null},function(_0x22834d,_0x436f92){const _0x479fb7=_0x208456,_0x11b72f={'xHcpG':_0x479fb7(0x644)};if(_0x479fb7(0xe2)===_0x417fa2[_0x479fb7(0xac9)])assert[_0x479fb7(0x127)](_0x22834d),_0x3ae23a[_0x479fb7(0x770)](_0x436f92['_id'])['populate'](_0x417fa2[_0x479fb7(0xafe)])['exec'](function(_0x4281e1,_0x29508e){const _0x3685cf=_0x479fb7;assert['ifError'](_0x4281e1),assert[_0x3685cf(0xcbc)](_0x29508e['id'],_0x436f92['id']),_0x7b479c();});else return _0x1c01ee[_0x479fb7(0x52a)](_0x11b72f[_0x479fb7(0xc6c)]);});}),_0x24a2f1[_0x4ef2f4(0x1f3)](it,_0x4ef2f4(0x78c),async function(){const _0x12b1c0=_0x4ef2f4,_0x45025a=_0x27d0e4[_0x12b1c0(0x807)](_0x24a2f1[_0x12b1c0(0x826)],_0x4088a5),_0x3c88cc=_0x27d0e4[_0x12b1c0(0x807)](_0x24a2f1[_0x12b1c0(0x840)],_0x1e7a32),_0x7502be=new _0x3c88cc({'name':_0x12b1c0(0xcdd)});await _0x7502be[_0x12b1c0(0x87f)]();const _0x248b8d=await _0x45025a[_0x12b1c0(0x46d)]({'title':_0x12b1c0(0x1a5),'fans':[]});await _0x45025a['collection'][_0x12b1c0(0x6fd)]({'_id':_0x248b8d[_0x12b1c0(0x534)]},{'$set':{'fans':[null,undefined,_0x7502be['id'],null]}});const _0x205f55=await _0x45025a[_0x12b1c0(0x770)](_0x248b8d[_0x12b1c0(0x534)])[_0x12b1c0(0x52a)](_0x24a2f1[_0x12b1c0(0x910)],_0x12b1c0(0x8a8));assert['equal'](_0x205f55['id'],_0x248b8d['id']),assert[_0x12b1c0(0xcbc)](_0x205f55[_0x12b1c0(0xb8b)][_0x12b1c0(0x2a2)],0x1);}),_0x24a2f1[_0x4ef2f4(0xd69)](it,_0x24a2f1[_0x4ef2f4(0x59b)],async function(){const _0x424db0=_0x4ef2f4;if(_0x24a2f1[_0x424db0(0x32d)](_0x424db0(0xba6),_0x424db0(0xba6))){const _0xa262f2=new _0xfbbd6a({'name':_0x5d4ccf});_0xa262f2['virtual'](_0x24a2f1['NmBJz']);const _0xc75b80=_0x5caf54[_0x424db0(0x807)](_0x24a2f1['TJhCc'],_0xa262f2);return _0xc75b80[_0x424db0(0x46d)]({'name':_0x24a2f1['DTqvn']})['then'](()=>_0xc75b80[_0x424db0(0xc77)]()[_0x424db0(0x52a)](_0x424db0(0x4cc)))['catch'](_0x3d12a0=>{const _0x1db527=_0x424db0;_0x19b3db['ok'](_0x3d12a0[_0x1db527(0x690)]['indexOf'](_0x1db527(0xb8e))!==-0x1,_0x3d12a0['message']);});}else{const _0xb17ef7=_0x27d0e4[_0x424db0(0x807)]('BlogPost',_0x4088a5),_0x499ca6=_0x27d0e4[_0x424db0(0x807)](_0x24a2f1[_0x424db0(0x840)],_0x1e7a32),_0x49713b=new _0x499ca6({'name':_0x424db0(0xb90)});await _0x49713b['save']();const _0x3f6c49=await _0xb17ef7[_0x424db0(0x46d)]({'title':'Notre-Dame\x20de\x20Paris','fans':[]});await _0xb17ef7[_0x424db0(0x655)][_0x424db0(0x6fd)]({'_id':_0x3f6c49[_0x424db0(0x534)]},{'$set':{'fans':[null,_0x49713b['id'],null,undefined]}});const _0x1d8a50=await _0xb17ef7[_0x424db0(0x770)](_0x3f6c49[_0x424db0(0x534)])[_0x424db0(0x52a)]({'path':_0x24a2f1[_0x424db0(0x910)],'options':{'retainNullValues':!![]}});assert[_0x424db0(0xcbc)](_0x1d8a50['id'],_0x3f6c49['id']),assert[_0x424db0(0xcbc)](_0x1d8a50[_0x424db0(0xb8b)]['length'],0x4),assert[_0x424db0(0x672)](_0x1d8a50[_0x424db0(0xb8b)][0x0],null),assert['equal'](_0x1d8a50[_0x424db0(0xb8b)][0x1][_0x424db0(0x8a8)],_0x424db0(0xb90)),assert['strictEqual'](_0x1d8a50[_0x424db0(0xb8b)][0x2],null),assert['strictEqual'](_0x1d8a50['fans'][0x3],null);}}),it(_0x4ef2f4(0xd21),async function(){const _0x4698b8=_0x4ef2f4;if(_0x24a2f1['pPWXR']===_0x24a2f1['pPWXR']){const _0x3cdc54=_0x27d0e4['model'](_0x24a2f1[_0x4698b8(0x826)],_0x4088a5),_0x5ed62d=_0x27d0e4[_0x4698b8(0x807)](_0x4698b8(0x11f),_0x1e7a32),_0x4992f4=new _0x5ed62d({'name':_0x4698b8(0xb90)});await _0x4992f4[_0x4698b8(0x87f)]();const _0x494dc9=await _0x3cdc54[_0x4698b8(0x46d)]({'title':'Notre-Dame\x20de\x20Paris','fans':[]});await _0x3cdc54[_0x4698b8(0x655)]['updateOne']({'_id':_0x494dc9[_0x4698b8(0x534)]},{'$set':{'fans':[_0x4992f4['id']]}}),await _0x4992f4[_0x4698b8(0x824)]();const _0x16ff33=await _0x3cdc54[_0x4698b8(0x770)](_0x494dc9[_0x4698b8(0x534)])[_0x4698b8(0x52a)]({'path':_0x4698b8(0xb8b),'select':_0x24a2f1[_0x4698b8(0x238)],'options':{'retainNullValues':!![]}});assert[_0x4698b8(0xcbc)](_0x16ff33[_0x4698b8(0xb8b)][_0x4698b8(0x2a2)],0x1),assert[_0x4698b8(0x672)](_0x16ff33[_0x4698b8(0xb8b)][0x0],null);}else{const _0x4a85b9={'svOBn':_0x24a2f1[_0x4698b8(0x53e)],'yoWoi':_0x4698b8(0x3de),'sGgAs':_0x24a2f1['obJUW'],'qyrOH':function(_0x9de6bf,_0x1f831e){const _0x441e38=_0x4698b8;return _0x24a2f1[_0x441e38(0xbab)](_0x9de6bf,_0x1f831e);},'eitPb':_0x24a2f1[_0x4698b8(0x633)],'gfuVT':_0x24a2f1[_0x4698b8(0x61f)],'bHyPW':_0x24a2f1['QCJlJ'],'ZigTN':_0x24a2f1['pGlZv']};_0x1c94ff[_0x4698b8(0x127)](_0x45c0e2),_0x538452[_0x4698b8(0x655)][_0x4698b8(0x6fd)]({'_id':_0x3b4bbb['_id']},{'$set':{'comments.0._idontexist':_0x1d52b4[_0x4698b8(0x534)]}},function(_0x92b6ff){const _0x52dc15=_0x4698b8;_0x46bfac[_0x52dc15(0x127)](_0x92b6ff),_0x3ac9f7[_0x52dc15(0x770)](_0x56c067[_0x52dc15(0x534)])[_0x52dc15(0x52a)]({'path':'comments._idontexist','select':_0x4a85b9['bHyPW'],'model':_0x4a85b9['ZigTN'],'strictPopulate':![]})[_0x52dc15(0x37d)](function(_0x16397c,_0x542d00){const _0x26dd40=_0x52dc15,_0x984006={'KSiyg':_0x26dd40(0x70b),'limqo':_0x26dd40(0xc9f),'MFthv':_0x4a85b9[_0x26dd40(0x4ac)],'qgDJH':_0x4a85b9['yoWoi'],'OKnyr':function(_0x358c5c){return _0x358c5c();}};_0x34c2f3['ifError'](_0x16397c),_0x592684['ok'](_0x542d00),_0x1dd84b[_0x26dd40(0xcbc)](_0x542d00[_0x26dd40(0x83b)]['length'],0x2),_0x290c41['ok'](_0x542d00[_0x26dd40(0x83b)][0x0][_0x26dd40(0x4e7)](_0x4a85b9[_0x26dd40(0x465)])),_0x3ff5c3['equal'](_0x4a85b9[_0x26dd40(0x614)](_0x15b601,_0x542d00[_0x26dd40(0x83b)][0x0][_0x26dd40(0x4e7)](_0x26dd40(0xa72))[_0x26dd40(0x534)]),_0x1c3760['id']),_0xd6ddc7[_0x26dd40(0xcbc)](_0x542d00[_0x26dd40(0x83b)][0x0]['get'](_0x4a85b9[_0x26dd40(0x465)])['email'],_0x4a85b9['eitPb']),_0x3e131b[_0x26dd40(0xcbc)](_0x542d00['comments'][0x0][_0x26dd40(0x4e7)](_0x26dd40(0xa72))['isInit'](_0x26dd40(0x8a8)),![]),_0x5d74ca['strictEqual'](_0x542d00[_0x26dd40(0x83b)][0x0][_0x26dd40(0x5ad)],null),_0x4aa860[_0x26dd40(0xcbc)](_0x542d00[_0x26dd40(0x83b)][0x1][_0x26dd40(0x5ad)]['toString'](),_0x4fb96b['id']),_0x304740[_0x26dd40(0x770)](_0x542d00['_id'])[_0x26dd40(0x52a)](_0x4a85b9[_0x26dd40(0x3d8)],_0x4a85b9[_0x26dd40(0x9ad)])[_0x26dd40(0x37d)](function(_0x3f8ead,_0x5cd78f){const _0x19e775=_0x26dd40;_0x474351[_0x19e775(0x127)](_0x3f8ead),_0x4a33f7['ok'](_0x5cd78f[_0x19e775(0x83b)]),_0x49aa65['equal'](_0x5cd78f[_0x19e775(0x83b)][_0x19e775(0x2a2)],0x2),_0x2c2dcf[_0x19e775(0x672)](_0x5cd78f[_0x19e775(0x83b)][0x0]['_creator'],null),_0x3109c8[_0x19e775(0x672)](_0x5cd78f[_0x19e775(0x83b)][0x0][_0x19e775(0x5e6)],_0x984006[_0x19e775(0x7b8)]),_0x5e37d2['equal'](_0x5cd78f[_0x19e775(0x83b)][0x1]['_creator'][_0x19e775(0x978)],_0x984006[_0x19e775(0xa04)]),_0x59f407[_0x19e775(0xcbc)](_0x5cd78f[_0x19e775(0x83b)][0x1][_0x19e775(0x5ad)]['isInit'](_0x984006[_0x19e775(0x4f2)]),![]),_0x5f2467[_0x19e775(0xcbc)](_0x5cd78f[_0x19e775(0x83b)][0x1][_0x19e775(0x5e6)],_0x984006[_0x19e775(0x109)]),_0x984006[_0x19e775(0x236)](_0x524af9);});});});}}),_0x24a2f1[_0x4ef2f4(0x8a6)](it,_0x24a2f1['XcCaK'],function(_0x3f693d){const _0x1cff0b=_0x4ef2f4,_0x48c3e3={'dZZam':_0x1cff0b(0x1a5),'vonGe':_0x24a2f1[_0x1cff0b(0x1a4)],'pSufx':_0x24a2f1[_0x1cff0b(0x53e)],'OXMzM':_0x1cff0b(0x3c1),'IAcKV':function(_0x4bc763){return _0x4bc763();},'npSkn':_0x1cff0b(0x287),'QTUEK':_0x24a2f1[_0x1cff0b(0x61f)],'VXArj':_0x24a2f1['ivoOj'],'rrGcT':_0x24a2f1['wDpIK'],'uNgtC':_0x24a2f1[_0x1cff0b(0xb9e)]},_0x2c4bff=_0x27d0e4[_0x1cff0b(0x807)](_0x24a2f1['pGlZv'],_0x1e7a32),_0x5e0f75=_0x27d0e4['model']('Test',new Schema({'users':[{'type':ObjectId,'ref':_0x1cff0b(0x11f)}],'fans':[{'type':ObjectId,'ref':_0x1cff0b(0x11f)}],'comments':[_0x51a58b]}));_0x2c4bff[_0x1cff0b(0x46d)]({'email':_0x1cff0b(0x96f)},{'name':_0x24a2f1[_0x1cff0b(0x1a4)],'email':_0x24a2f1[_0x1cff0b(0x596)],'gender':_0x24a2f1[_0x1cff0b(0x3bb)]},{'name':_0x24a2f1[_0x1cff0b(0x87d)]},function(_0x49fa6d,_0x47493d,_0x3c37cd,_0x2e58e5){const _0x3a327e=_0x1cff0b,_0x37c21f={'FqFNU':function(_0x522fca,_0xeab088){return _0x522fca!==_0xeab088;},'FqizR':_0x3a327e(0x46e),'JTvfF':_0x48c3e3[_0x3a327e(0x41f)],'cvrcY':_0x3a327e(0x978),'BhYqY':_0x3a327e(0x3f3),'XdoTB':_0x3a327e(0x96f),'uwtMu':_0x48c3e3[_0x3a327e(0x8cf)],'HgWuS':_0x48c3e3['OXMzM'],'AuSZx':function(_0x3aaa5a){return _0x48c3e3['IAcKV'](_0x3aaa5a);},'SYPUz':'fans','PdVIY':_0x48c3e3[_0x3a327e(0x4fd)],'iqzNc':_0x48c3e3[_0x3a327e(0xc3c)]};_0x48c3e3[_0x3a327e(0x4c7)]===_0x48c3e3[_0x3a327e(0x4c7)]?(assert[_0x3a327e(0x127)](_0x49fa6d),_0x5e0f75['create']({'users':[_0x2e58e5],'fans':[_0x47493d],'comments':[{'_creator':_0x47493d,'content':'bejeah!'},{'_creator':_0x3c37cd,'content':_0x48c3e3[_0x3a327e(0x413)]}]},{'users':[_0x47493d],'fans':[_0x3c37cd],'comments':[{'_creator':_0x2e58e5,'content':_0x48c3e3[_0x3a327e(0x1f8)]},{'_creator':_0x47493d,'content':_0x3a327e(0x3c1)}]},function(_0x17e3c1,_0x3a7627,_0x17446c){const _0x4d8317=_0x3a327e;assert[_0x4d8317(0x127)](_0x17e3c1),_0x5e0f75['where'](_0x4d8317(0x534))['in']([_0x3a7627,_0x17446c])[_0x4d8317(0x52a)](_0x37c21f[_0x4d8317(0xd12)],_0x37c21f[_0x4d8317(0x3cb)],{'gender':_0x4d8317(0x887)})[_0x4d8317(0x52a)](_0x37c21f[_0x4d8317(0x1e3)],_0x37c21f[_0x4d8317(0x3cb)],{'gender':_0x4d8317(0x5a8)})[_0x4d8317(0x52a)](_0x37c21f[_0x4d8317(0xcb2)],_0x37c21f[_0x4d8317(0xc93)],{'name':null})[_0x4d8317(0x37d)](function(_0x4cc1a5,_0x4831d7){const _0x582d6d=_0x4d8317;if(_0x37c21f[_0x582d6d(0x5a6)](_0x582d6d(0x961),_0x37c21f[_0x582d6d(0xe7)])){assert[_0x582d6d(0x127)](_0x4cc1a5),assert['ok'](_0x4831d7),assert['equal'](_0x4831d7[_0x582d6d(0x2a2)],0x2);const _0x3742b2=_0x4831d7[0x0],_0xb49b32=_0x4831d7[0x1];assert[_0x582d6d(0x672)](_0x3742b2['fans'][_0x582d6d(0x2a2)],0x0),assert[_0x582d6d(0x672)](_0xb49b32[_0x582d6d(0xb8b)][_0x582d6d(0x2a2)],0x1),assert[_0x582d6d(0xcbc)](_0xb49b32[_0x582d6d(0xb8b)][0x0][_0x582d6d(0x8a8)],_0x37c21f[_0x582d6d(0x187)]),assert[_0x582d6d(0xcbc)](_0xb49b32[_0x582d6d(0xb8b)][0x0]['isInit'](_0x37c21f[_0x582d6d(0xc93)]),![]),assert[_0x582d6d(0xcbc)](_0xb49b32[_0x582d6d(0xb8b)][0x0][_0x582d6d(0x346)](_0x37c21f[_0x582d6d(0x98d)]),![]),assert[_0x582d6d(0xcbc)](_0x3742b2[_0x582d6d(0x83b)][_0x582d6d(0x2a2)],0x2),assert[_0x582d6d(0xcbc)](_0xb49b32['comments'][_0x582d6d(0x2a2)],0x2),assert['ok'](_0x3742b2['comments'][0x0][_0x582d6d(0x5ad)]['email']),assert['ok'](!_0xb49b32[_0x582d6d(0x83b)][0x0][_0x582d6d(0x5ad)]),assert[_0x582d6d(0xcbc)](_0x3742b2['comments'][0x0][_0x582d6d(0x5ad)][_0x582d6d(0x978)],_0x37c21f[_0x582d6d(0x54b)]),assert[_0x582d6d(0xcbc)](_0xb49b32['comments'][0x1]['_creator'][_0x582d6d(0x978)],_0x37c21f[_0x582d6d(0x54b)]),assert['equal'](_0x3742b2[_0x582d6d(0x83b)][0x0][_0x582d6d(0x5ad)][_0x582d6d(0x346)](_0x37c21f[_0x582d6d(0x3cb)]),![]),assert[_0x582d6d(0xcbc)](_0xb49b32[_0x582d6d(0x83b)][0x1][_0x582d6d(0x5ad)][_0x582d6d(0x346)](_0x37c21f[_0x582d6d(0x3cb)]),![]),assert[_0x582d6d(0xcbc)](_0x3742b2['comments'][0x0][_0x582d6d(0x5e6)],_0x582d6d(0x246)),assert[_0x582d6d(0xcbc)](_0xb49b32[_0x582d6d(0x83b)][0x1]['content'],_0x37c21f[_0x582d6d(0x762)]),assert['ok'](!_0x3742b2[_0x582d6d(0x83b)][0x1][_0x582d6d(0x5ad)]),assert['ok'](!_0xb49b32[_0x582d6d(0x83b)][0x0][_0x582d6d(0x5ad)]),assert[_0x582d6d(0xcbc)](_0x3742b2[_0x582d6d(0x83b)][0x1]['content'],_0x582d6d(0xaff)),assert[_0x582d6d(0xcbc)](_0xb49b32[_0x582d6d(0x83b)][0x0][_0x582d6d(0x5e6)],_0x582d6d(0x8ff)),_0x37c21f[_0x582d6d(0xa2e)](_0x3f693d);}else{_0x796bf4[_0x582d6d(0x375)](_0x214224);throw _0x5b7964;}});})):(_0x321bcd[_0x3a327e(0x127)](_0x10d261),_0x2cf23f['create']({'title':_0x48c3e3[_0x3a327e(0xc10)],'fans':[_0x730c7f,_0x24c298]},function(_0x41e284,_0x12f3d3){const _0x3f6cb2=_0x3a327e,_0x110bee={'NjRBh':_0x3f6cb2(0x684),'GgEAq':_0x37c21f[_0x3f6cb2(0x54b)]};_0x390179[_0x3f6cb2(0x127)](_0x41e284),_0x424b7c[_0x3f6cb2(0xc77)]({'_id':{'$in':[_0x2a6fd7[_0x3f6cb2(0x534)],_0x12f3d3[_0x3f6cb2(0x534)]]}})[_0x3f6cb2(0x52a)](_0x37c21f[_0x3f6cb2(0xd12)])[_0x3f6cb2(0x37d)](function(_0xda3327,_0x3d27b6){const _0x5bc3f9=_0x3f6cb2,_0xbe56e6='6|7|0|1|4|9|8|5|3|2'[_0x5bc3f9(0x3a7)]('|');let _0x28d09f=0x0;while(!![]){switch(_0xbe56e6[_0x28d09f++]){case'0':_0x2438ac[_0x5bc3f9(0xcbc)](_0x3d27b6[0x0][_0x5bc3f9(0xb8b)][0x0][_0x5bc3f9(0x978)],_0x5bc3f9(0x96f));continue;case'1':_0xa261c2[_0x5bc3f9(0xcbc)](_0x3d27b6[0x0][_0x5bc3f9(0xb8b)][0x1][_0x5bc3f9(0x8a8)],_0x110bee[_0x5bc3f9(0x57f)]);continue;case'2':_0x4f3205();continue;case'3':_0x56f6d1['equal'](_0x3d27b6[0x1][_0x5bc3f9(0xb8b)][0x1][_0x5bc3f9(0x978)],_0x110bee[_0x5bc3f9(0x7ac)]);continue;case'4':_0x4a277c[_0x5bc3f9(0xcbc)](_0x3d27b6[0x0]['fans'][0x1][_0x5bc3f9(0x978)],_0x5bc3f9(0x660));continue;case'5':_0x25aefa[_0x5bc3f9(0xcbc)](_0x3d27b6[0x1][_0x5bc3f9(0xb8b)][0x1][_0x5bc3f9(0x8a8)],'Fan\x201');continue;case'6':_0x595d70[_0x5bc3f9(0x127)](_0xda3327);continue;case'7':_0x5ef3cc[_0x5bc3f9(0xcbc)](_0x3d27b6[0x0][_0x5bc3f9(0xb8b)][0x0][_0x5bc3f9(0x8a8)],_0x5bc3f9(0xb43));continue;case'8':_0x98c9f0[_0x5bc3f9(0xcbc)](_0x3d27b6[0x1][_0x5bc3f9(0xb8b)][0x0][_0x5bc3f9(0x978)],_0x5bc3f9(0x660));continue;case'9':_0x294d85[_0x5bc3f9(0xcbc)](_0x3d27b6[0x1][_0x5bc3f9(0xb8b)][0x0][_0x5bc3f9(0x8a8)],_0x110bee['NjRBh']);continue;}break;}});}));});}),it(_0x4ef2f4(0x172),function(_0x1adbbb){const _0x366147=_0x4ef2f4,_0x4e1070={'tnZRl':_0x366147(0x8a8),'FAsaz':_0x366147(0x679),'NvYXE':_0x24a2f1['exWyt']};if(_0x24a2f1[_0x366147(0xab6)](_0x24a2f1[_0x366147(0x485)],_0x366147(0x30d)))return _0x4f93df(_0x24cfbc);else{const _0x47c91c=_0x27d0e4['model'](_0x366147(0x63e),_0x4088a5),_0x23487f=_0x27d0e4[_0x366147(0x807)](_0x366147(0x11f),_0x1e7a32),_0x4be6f4=new Schema({'user':{'type':ObjectId,'ref':_0x24a2f1[_0x366147(0x840)]},'post':{'type':ObjectId,'ref':_0x24a2f1[_0x366147(0x826)]}});_0x27d0e4[_0x366147(0x807)](_0x366147(0x256),_0x4be6f4);const _0x599b27=_0x27d0e4[_0x366147(0x807)](_0x366147(0x438),new Schema({'kids':[_0x4be6f4]}));_0x23487f['create']({'name':_0x366147(0xb43),'email':_0x366147(0x96f),'gender':_0x24a2f1[_0x366147(0xfa)]},{'name':_0x366147(0x684),'email':'fan2@learnboost.com','gender':_0x24a2f1[_0x366147(0x3bb)]},function(_0x5e8340,_0xc302d8,_0x158311){const _0x43d989=_0x366147,_0xec2a64={'gUQcT':_0x4e1070[_0x43d989(0x58d)],'oANGT':'title','eMocE':_0x43d989(0x63e),'bkiij':_0x43d989(0x170),'IWgvN':_0x43d989(0xbb2),'lpCwr':_0x43d989(0xcac),'aZCmv':_0x4e1070['FAsaz']};assert[_0x43d989(0x127)](_0x5e8340),_0x47c91c[_0x43d989(0x46d)]({'title':_0x43d989(0x28f)},{'title':_0x4e1070[_0x43d989(0x37c)]},function(_0x4ac354,_0x448e87,_0x808926){const _0x17194d=_0x43d989,_0x375fb0={'MULRO':_0xec2a64[_0x17194d(0x3fc)],'wRwDH':_0xec2a64['bkiij'],'GVFpG':_0xec2a64['IWgvN'],'Epmmt':_0xec2a64[_0x17194d(0x6c3)],'IOtFw':_0x17194d(0x684)};_0xec2a64[_0x17194d(0x267)]===_0x17194d(0x175)?(_0x4de071=_0x3934f4[_0x17194d(0x807)](_0x375fb0[_0x17194d(0x59a)],_0x2cb068),_0x296d86=_0x396cc3[_0x17194d(0x807)](_0x17194d(0x11f),_0x275265),_0x5e1ca3=new _0x726bee[(_0x17194d(0xc4a))][(_0x17194d(0x2ef))](),_0x4b3f38[_0x17194d(0x46d)]({'name':_0x375fb0[_0x17194d(0x557)],'email':_0x375fb0[_0x17194d(0xd0)],'blogposts':[_0x3e1b1c]},{'name':_0x375fb0['Epmmt'],'email':_0x17194d(0x912),'blogposts':[_0x5235da]},function(_0x262087,_0x1b150a,_0x27078c){const _0x3b184d=_0x17194d,_0x24b8c9={'hFczg':function(_0x5dae95){return _0x5dae95();}};_0x86eea0[_0x3b184d(0x127)](_0x262087),_0x52f6e7=_0x1b150a,_0x3fdf2f=_0x27078c,_0x4f8f94[_0x3b184d(0x46d)]({'title':_0x3b184d(0x328),'_creator':_0x6cb703,'fans':[_0x1b0882,_0x14643d]},{'title':_0x3b184d(0x7a5),'_creator':_0x21e3ab,'fans':[_0x36efac,_0x1c9fa5]},function(_0x2908d3,_0x2b3652,_0x271a65){const _0x4d7d4b=_0x3b184d;_0x2097f4[_0x4d7d4b(0x127)](_0x2908d3),_0x1c10b9=_0x2b3652,_0x50d00f=_0x271a65,_0x24b8c9['hFczg'](_0x1e403f);});})):(assert[_0x17194d(0x127)](_0x4ac354),_0x599b27[_0x17194d(0x46d)]({'kids':[{'user':_0xc302d8,'post':_0x448e87,'y':0x5},{'user':_0x158311,'post':_0x808926,'y':0x8}],'x':0x4},function(_0x4f6dd0,_0x500743){const _0x46f87d=_0x17194d;assert['ifError'](_0x4f6dd0),_0x599b27['findById'](_0x500743)[_0x46f87d(0x52a)]('kids.user',_0xec2a64['gUQcT'])[_0x46f87d(0x52a)](_0x46f87d(0x318),_0xec2a64[_0x46f87d(0x308)],{'title':_0x46f87d(0x28f)})['exec'](function(_0x5cbb64,_0x36ffc2){const _0x2cc5c2=_0x46f87d;assert[_0x2cc5c2(0x127)](_0x5cbb64),assert[_0x2cc5c2(0x672)](_0x36ffc2[_0x2cc5c2(0x448)][_0x2cc5c2(0x2a2)],0x2);const _0x40b37d=_0x36ffc2['kids'][0x0],_0xe6f4d5=_0x36ffc2[_0x2cc5c2(0x448)][0x1];assert[_0x2cc5c2(0x672)](!![],!_0xe6f4d5[_0x2cc5c2(0xd6)]),assert[_0x2cc5c2(0x672)](_0x40b37d[_0x2cc5c2(0x6e5)][_0x2cc5c2(0x8a8)],_0x2cc5c2(0xb43)),assert[_0x2cc5c2(0x672)](_0x40b37d[_0x2cc5c2(0x6e5)][_0x2cc5c2(0x978)],undefined),assert[_0x2cc5c2(0x672)](_0x40b37d[_0x2cc5c2(0xd6)]['title'],'woot'),assert[_0x2cc5c2(0x672)](_0xe6f4d5['user'][_0x2cc5c2(0x8a8)],_0x375fb0[_0x2cc5c2(0x11b)]),_0x1adbbb();});}));});});}}),_0x24a2f1['PuMvx'](it,_0x4ef2f4(0x3db),function(_0x8d94eb){const _0x1126e7=_0x4ef2f4;if(_0x24a2f1['dosee']!==_0x24a2f1[_0x1126e7(0x23c)])return _0x5be89b['findById'](_0x2b5b00)[_0x1126e7(0x52a)]('a')['exec']();else{const _0x2b3522=_0x27d0e4[_0x1126e7(0x807)](_0x24a2f1[_0x1126e7(0x826)],_0x4088a5),_0x1e4856=_0x27d0e4[_0x1126e7(0x807)](_0x24a2f1[_0x1126e7(0x840)],_0x1e7a32);_0x1e4856[_0x1126e7(0x46d)]({'name':_0x24a2f1[_0x1126e7(0x6c9)],'age':0xa},{'name':'fan2','age':0x8},{'name':'someone\x20else','age':0x3},{'name':_0x24a2f1['SvvqN'],'age':0x3},function(_0x2cb246,_0x2d83bb,_0x11f6f6,_0x504922,_0x429940){const _0x217e54=_0x1126e7,_0x3e2934={'tjTgo':_0x24a2f1[_0x217e54(0x1cd)],'OxbWh':function(_0x1dd6ce){return _0x1dd6ce();},'SgrGd':_0x217e54(0x890),'MzbWX':function(_0x262f6d,_0x1fbe45){const _0x491f57=_0x217e54;return _0x24a2f1[_0x491f57(0x673)](_0x262f6d,_0x1fbe45);},'sNtoz':_0x217e54(0x6a5),'TIVLW':_0x24a2f1['juFla'],'pySXn':_0x24a2f1['FlDiS']};assert[_0x217e54(0x127)](_0x2cb246),_0x2b3522[_0x217e54(0x46d)]({'fans':[_0x429940,_0x11f6f6,_0x504922,_0x2d83bb]},function(_0x13cde4,_0x207f2e){const _0x5998b9=_0x217e54;assert[_0x5998b9(0x127)](_0x13cde4),_0x2b3522['findById'](_0x207f2e)[_0x5998b9(0x52a)](_0x5998b9(0xb8b),null,null,{'sort':{'age':0x1,'name':0x1}})[_0x5998b9(0x37d)](function(_0x201700,_0x1dbf41){const _0x514529=_0x5998b9,_0x4c1e23={'YoytV':_0x3e2934[_0x514529(0x3b4)],'kFVSe':function(_0x36e991){const _0x2b887a=_0x514529;return _0x3e2934[_0x2b887a(0xbc5)](_0x36e991);},'ENtOm':_0x514529(0x174),'osbjR':_0x514529(0x229),'bWain':_0x3e2934[_0x514529(0x27f)]};_0x3e2934[_0x514529(0xa66)](_0x3e2934['sNtoz'],_0x514529(0x11e))?(_0x5bf7be[_0x514529(0x127)](_0xdcdcb0),_0x23f180[_0x514529(0x770)](_0x1dc4cc['id'])[_0x514529(0x52a)](_0x514529(0xc78))[_0x514529(0x37d)](function(_0x47f1d3,_0x14a342){const _0x4eaf88=_0x514529;_0x418ed2[_0x4eaf88(0x127)](_0x47f1d3),_0x3229bf[_0x4eaf88(0xcbc)](_0x14a342[_0x4eaf88(0x467)],_0x4c1e23[_0x4eaf88(0x6b8)]),_0xf2571c['ok'](_0x14a342[_0x4eaf88(0xc78)]),_0x4169be[_0x4eaf88(0xcbc)](_0x14a342['author']['name'],'Alice'),_0x3d39cc();})):(assert[_0x514529(0x127)](_0x201700),assert['equal'](_0x1dbf41[_0x514529(0xb8b)][_0x514529(0x2a2)],0x4),assert[_0x514529(0xcbc)](_0x1dbf41[_0x514529(0xb8b)][0x0][_0x514529(0x8a8)],_0x514529(0x146)),assert['equal'](_0x1dbf41['fans'][0x1][_0x514529(0x8a8)],_0x3e2934[_0x514529(0x27f)]),assert[_0x514529(0xcbc)](_0x1dbf41[_0x514529(0xb8b)][0x2][_0x514529(0x8a8)],'fan2'),assert[_0x514529(0xcbc)](_0x1dbf41[_0x514529(0xb8b)][0x3][_0x514529(0x8a8)],_0x3e2934[_0x514529(0x479)]),_0x2b3522[_0x514529(0x770)](_0x1dbf41)[_0x514529(0x52a)](_0x3e2934['pySXn'],_0x514529(0x8a8),null,{'sort':{'name':-0x1}})[_0x514529(0x37d)](function(_0x2c9da8,_0x28b0f8){const _0x2b8a4d=_0x514529,_0x12499b={'GsIZm':function(_0x3b0912){return _0x4c1e23['kFVSe'](_0x3b0912);}};assert[_0x2b8a4d(0x127)](_0x2c9da8),assert[_0x2b8a4d(0xcbc)](_0x28b0f8[_0x2b8a4d(0xb8b)][_0x2b8a4d(0x2a2)],0x4),assert[_0x2b8a4d(0xcbc)](_0x28b0f8[_0x2b8a4d(0xb8b)][0x3][_0x2b8a4d(0x8a8)],_0x4c1e23[_0x2b8a4d(0x3ec)]),assert[_0x2b8a4d(0x672)](undefined,_0x28b0f8[_0x2b8a4d(0xb8b)][0x3][_0x2b8a4d(0x3f4)]),assert[_0x2b8a4d(0xcbc)](_0x28b0f8[_0x2b8a4d(0xb8b)][0x2][_0x2b8a4d(0x8a8)],_0x4c1e23['osbjR']),assert['strictEqual'](undefined,_0x28b0f8[_0x2b8a4d(0xb8b)][0x2][_0x2b8a4d(0x3f4)]),assert[_0x2b8a4d(0xcbc)](_0x28b0f8['fans'][0x1]['name'],'someone\x20else'),assert[_0x2b8a4d(0x672)](undefined,_0x28b0f8[_0x2b8a4d(0xb8b)][0x1][_0x2b8a4d(0x3f4)]),assert[_0x2b8a4d(0xcbc)](_0x28b0f8['fans'][0x0][_0x2b8a4d(0x8a8)],_0x4c1e23[_0x2b8a4d(0x3c9)]),assert[_0x2b8a4d(0x672)](undefined,_0x28b0f8[_0x2b8a4d(0xb8b)][0x0][_0x2b8a4d(0x3f4)]),_0x2b3522[_0x2b8a4d(0x770)](_0x28b0f8)[_0x2b8a4d(0x52a)]('fans',_0x2b8a4d(0x3f4),{'age':{'$gt':0x3}},{'sort':{'name':_0x2b8a4d(0x918)}})[_0x2b8a4d(0x37d)](function(_0x4761f5,_0x291be7){const _0x42d7e0=_0x2b8a4d,_0x291ce3='2|3|0|1|4'['split']('|');let _0x3c75c2=0x0;while(!![]){switch(_0x291ce3[_0x3c75c2++]){case'0':assert['equal'](_0x291be7[_0x42d7e0(0xb8b)][0x1]['age'][_0x42d7e0(0xf4)](),0xa);continue;case'1':assert[_0x42d7e0(0xcbc)](_0x291be7['fans'][0x0]['age'][_0x42d7e0(0xf4)](),0x8);continue;case'2':assert[_0x42d7e0(0x127)](_0x4761f5);continue;case'3':assert['equal'](_0x291be7[_0x42d7e0(0xb8b)]['length'],0x2);continue;case'4':_0x12499b[_0x42d7e0(0xd13)](_0x8d94eb);continue;}break;}});}));});});});}}),_0x24a2f1[_0x4ef2f4(0x6a1)](it,'limit\x20should\x20apply\x20to\x20each\x20returned\x20doc,\x20not\x20in\x20aggregate\x20(gh-1490)',function(_0x2e5150){const _0x4d1b01=_0x4ef2f4,_0x3ae2ff={'YngDm':function(_0x1a7c62,_0x50219e){return _0x1a7c62===_0x50219e;},'ibGOZ':_0x4d1b01(0x518),'tznAT':_0x4d1b01(0x376)},_0x370a29=new Schema({'name':String}),_0x5589b8=new Schema({'b':[{'type':Schema[_0x4d1b01(0xc4a)]['ObjectId'],'ref':_0x4d1b01(0x438)}]}),_0xeba67a=_0x27d0e4[_0x4d1b01(0x807)](_0x4d1b01(0x438),_0x370a29),_0x4a9430=_0x27d0e4[_0x4d1b01(0x807)](_0x4d1b01(0x256),_0x5589b8),_0xc9d261=new _0xeba67a({'name':_0x24a2f1[_0x4d1b01(0xce1)]}),_0x43c3bc=new _0xeba67a({'name':_0x4d1b01(0x4bc)}),_0x83a32c=new _0xeba67a({'name':_0x4d1b01(0x16a)}),_0x4803f0=new _0xeba67a({'name':'thing4'}),_0x50549a=new _0xeba67a({'name':_0x4d1b01(0x110)}),_0x5ccdf1=new _0x4a9430({'b':[_0xc9d261['id'],_0x43c3bc['id'],_0x50549a['id']]}),_0x1436bc=new _0x4a9430({'b':[_0x83a32c['id'],_0x4803f0['id'],_0x50549a['id']]});let _0x3a55e5=0x7;_0xc9d261['save'](_0x58d297),_0x43c3bc['save'](_0x58d297),_0x83a32c[_0x4d1b01(0x87f)](_0x58d297),_0x4803f0[_0x4d1b01(0x87f)](_0x58d297),_0x50549a[_0x4d1b01(0x87f)](_0x58d297),_0x5ccdf1[_0x4d1b01(0x87f)](_0x58d297),_0x1436bc['save'](_0x58d297);function _0x58d297(_0x31d913){const _0x120c08=_0x4d1b01;if(_0x31d913){if(_0x3ae2ff[_0x120c08(0x83a)](_0x3ae2ff[_0x120c08(0x40b)],_0x3ae2ff[_0x120c08(0x40b)]))throw _0x31d913;else return[_0x3f3f51,_0x1ad1d1];}--_0x3a55e5||_0x57370c();}function _0x57370c(){const _0x50fb8d=_0x4d1b01,_0xfae2d2={'iWZzk':_0x50fb8d(0x8ff),'UijaW':'xTFzX','CSLzr':_0x3ae2ff[_0x50fb8d(0x292)],'hYCjw':function(_0x3fd81e){return _0x3fd81e();}};_0x4a9430[_0x50fb8d(0xc77)]()['populate']({'path':'b','options':{'limit':0x2}})[_0x50fb8d(0x37d)](function(_0x41246c,_0x11e77b){const _0x17639d=_0x50fb8d;if(_0xfae2d2['UijaW']===_0xfae2d2[_0x17639d(0x52f)]){if(_0x3f32bf)return _0x4aff5c(_0x132b76);_0x33ee25[_0x17639d(0xcbc)](_0x29d19d[_0x17639d(0xb26)][_0x17639d(0x8a8)],_0xfae2d2['iWZzk']),_0x1e8e3c();}else assert[_0x17639d(0xcbc)](_0x11e77b['length'],0x2),assert[_0x17639d(0xcbc)](_0x11e77b[0x0]['b'][_0x17639d(0x2a2)],0x2),assert['equal'](_0x11e77b[0x1]['b'][_0x17639d(0x2a2)],0x2),_0xfae2d2['hYCjw'](_0x2e5150);});}}),it(_0x24a2f1['LuxJw'],function(_0x4f149c){const _0x946720=_0x4ef2f4;if(_0x24a2f1[_0x946720(0x82c)]('SiPmC',_0x24a2f1[_0x946720(0x66d)])){const _0x349f88=_0x27d0e4['model'](_0x946720(0x63e),_0x4088a5),_0x5c8f3d=new _0x349f88();_0x5c8f3d[_0x946720(0x5ad)]=new DocObjectId()['toString'](),assert['ok'](_0x5c8f3d[_0x946720(0x5ad)]instanceof DocObjectId),_0x5c8f3d[_0x946720(0x405)](_0x946720(0x5ad),new DocObjectId()[_0x946720(0x303)]()),assert['ok'](_0x24a2f1[_0x946720(0x2cc)](_0x5c8f3d['_creator'],DocObjectId)),_0x24a2f1[_0x946720(0x3d0)](_0x4f149c);}else{const _0x3f7fe5=new _0x5b44d1({'name':_0x1148b8}),_0x59b78a=_0x3b3dff['model'](_0x946720(0x11f),_0x3f7fe5);_0x59b78a[_0x946720(0x3dd)]()[_0x946720(0x52a)]()[_0x946720(0x37d)](function(_0x1361c7){_0x5a19dc['ifError'](_0x1361c7),_0x2599aa();});}}),it(_0x4ef2f4(0xcea),function(_0x3a8174){const _0x179873=_0x4ef2f4,_0x239b08={'hBHXU':'wqMap','rfqZU':function(_0x566cc1){return _0x566cc1();},'RlfDl':_0x179873(0x5b7),'NaMNn':function(_0x43c350){const _0x4db0a7=_0x179873;return _0x24a2f1[_0x4db0a7(0x9e0)](_0x43c350);}},_0x348b53=new Schema({'_id':String,'name':String}),_0x3702ec=new Schema({'author':{'type':String,'ref':_0x24a2f1['pGlZv']},'body':String}),_0x13e933=_0x27d0e4[_0x179873(0x807)](_0x24a2f1[_0x179873(0x840)],_0x348b53),_0x2188c0=_0x27d0e4[_0x179873(0x807)](_0x24a2f1[_0x179873(0x4f4)],_0x3702ec),_0x47254c=new _0x13e933({'_id':_0x179873(0x79c),'name':_0x24a2f1[_0x179873(0x65d)]});_0x47254c[_0x179873(0x87f)](function(_0x2c0e6f){const _0x5330d1=_0x179873,_0x51b3e5={'fUwUp':function(_0x469f2b){const _0x30ad93=_0x2d45;return _0x239b08[_0x30ad93(0xce6)](_0x469f2b);},'Rorov':_0x239b08['RlfDl'],'VLCKh':'Alice','QUUjW':function(_0x5d072d){const _0x2428f5=_0x2d45;return _0x239b08[_0x2428f5(0x5eb)](_0x5d072d);}};assert['ifError'](_0x2c0e6f);const _0x306181=new _0x2188c0({'author':_0x5330d1(0x79c),'body':_0x5330d1(0x8b1)});_0x306181[_0x5330d1(0x87f)](function(_0x9df763){const _0x24fd27=_0x5330d1;if(_0x24fd27(0x578)===_0x239b08[_0x24fd27(0x7bf)])assert['ifError'](_0x9df763),_0x2188c0['findById'](_0x306181['id'])[_0x24fd27(0x52a)](_0x24fd27(0xc78))[_0x24fd27(0x37d)](function(_0x225a36,_0xd0b33b){const _0x1a7824=_0x24fd27,_0x38d60={'Savym':'Test','NRbfd':function(_0x1e6c50){const _0x5cc1ab=_0x2d45;return _0x51b3e5[_0x5cc1ab(0xa10)](_0x1e6c50);}};_0x1a7824(0x5b7)!==_0x51b3e5['Rorov']?(_0x54b7f0['ifError'](_0x158b21),_0xd2cc73['find']({})[_0x1a7824(0x22b)]({'_id':0x1})['populate'](_0x1a7824(0x3e2))[_0x1a7824(0x37d)](function(_0x2b3c38,_0x2286cb){const _0x336a2e=_0x1a7824;_0x56bb3f[_0x336a2e(0x127)](_0x2b3c38);const _0x4938a2=_0x2286cb[0x0]['toObject']({'virtuals':!![]})[_0x336a2e(0x3e2)][_0x336a2e(0x847)](function(_0xd841ba){const _0x2a9f81=_0x336a2e;return _0xd841ba[_0x2a9f81(0x8a8)];})[_0x336a2e(0x22b)]();_0x2ae1da[_0x336a2e(0x829)](_0x4938a2,[_0x38d60['Savym'],_0x336a2e(0x946)]),_0x30a8ea[_0x336a2e(0xcbc)](_0x2286cb[0x1][_0x336a2e(0x3e2)][_0x336a2e(0x2a2)],0x1),_0x478115[_0x336a2e(0xcbc)](_0x2286cb[0x1][_0x336a2e(0x3e2)][0x0]['name'],_0x38d60['Savym']),_0x471c6c[_0x336a2e(0xcbc)](_0x2286cb[0x2][_0x336a2e(0x3e2)][_0x336a2e(0x2a2)],0x0),_0x38d60['NRbfd'](_0x6cfb81);})):(assert['ifError'](_0x225a36),assert['equal'](_0xd0b33b[_0x1a7824(0x467)],_0x1a7824(0x8b1)),assert['ok'](_0xd0b33b['author']),assert[_0x1a7824(0xcbc)](_0xd0b33b[_0x1a7824(0xc78)]['name'],_0x51b3e5['VLCKh']),_0x51b3e5[_0x1a7824(0x8a4)](_0x3a8174));});else{const _0x43257c=new _0x122bc2({'content':_0x24fd27(0x9cd)+_0x49c190+_0x24fd27(0xabb)+_0x4e91b3[_0x24fd27(0x132)],'user':_0x3761da['_id']});_0x55d233[_0x24fd27(0x2d6)](_0x43257c),_0x107852[_0x24fd27(0x57b)][_0x24fd27(0x2d6)](_0x43257c['_id']);}});});}),_0x24a2f1[_0x4ef2f4(0x717)](it,_0x4ef2f4(0x8d1),function(_0x588ef7){const _0x170583=_0x4ef2f4,_0x12f06f={'HPwkD':_0x24a2f1[_0x170583(0x773)],'xHyog':_0x170583(0x684),'eEEGv':_0x24a2f1[_0x170583(0xc8d)],'QmNmN':_0x24a2f1[_0x170583(0x6b1)],'juFtJ':_0x24a2f1[_0x170583(0x326)],'JBOBE':_0x170583(0xb8b)};if('EaGcQ'===_0x170583(0x56d)){const _0x4efd31=new Schema({'_id':Number,'name':String}),_0x13444e=new Schema({'author':{'type':Number,'ref':_0x170583(0x11f)},'body':String}),_0x3f1507=_0x27d0e4['model'](_0x170583(0x11f),_0x4efd31),_0x443fe8=_0x27d0e4[_0x170583(0x807)](_0x24a2f1[_0x170583(0x4f4)],_0x13444e),_0x522045=new _0x3f1507({'_id':0x937,'name':_0x170583(0x198)});_0x522045[_0x170583(0x87f)](function(_0x462b5a){const _0x1bdf64=_0x170583,_0x558278={'TBCmF':_0x24a2f1[_0x1bdf64(0xcfa)],'WBaLL':function(_0x61da29){return _0x61da29();},'ltStK':_0x24a2f1[_0x1bdf64(0x490)]};assert[_0x1bdf64(0x127)](_0x462b5a);const _0x2e32cc=new _0x443fe8({'author':0x937,'body':_0x24a2f1[_0x1bdf64(0x1cd)]});_0x2e32cc[_0x1bdf64(0x87f)](function(_0x831b4c){const _0x3e1f1d=_0x1bdf64,_0x426b5b={'oDEeg':_0x3e1f1d(0x11f),'ncXyb':'Test'};assert['ifError'](_0x831b4c),_0x443fe8[_0x3e1f1d(0x770)](_0x2e32cc['id'])[_0x3e1f1d(0x52a)](_0x558278[_0x3e1f1d(0x2e8)])[_0x3e1f1d(0x37d)](function(_0x6dd38b,_0x52155e){const _0x2c5fbf=_0x3e1f1d;if(_0x2c5fbf(0x642)!==_0x558278[_0x2c5fbf(0x324)]){const _0x1e46d0=_0x2c5fbf(0x8fa)['split']('|');let _0x102b52=0x0;while(!![]){switch(_0x1e46d0[_0x102b52++]){case'0':_0x558278[_0x2c5fbf(0x7ee)](_0x588ef7);continue;case'1':assert[_0x2c5fbf(0xcbc)](_0x52155e[_0x2c5fbf(0x467)],_0x2c5fbf(0x8b1));continue;case'2':assert['ok'](_0x52155e[_0x2c5fbf(0xc78)]);continue;case'3':assert[_0x2c5fbf(0x127)](_0x6dd38b);continue;case'4':assert[_0x2c5fbf(0xcbc)](_0x52155e[_0x2c5fbf(0xc78)]['name'],_0x2c5fbf(0x198));continue;}break;}}else{const _0x4e4d7b={'VHTDq':_0x2c5fbf(0xc78)},_0x1bdf8a=new _0x2cb7b3({'_id':_0x6067a,'name':_0x3badf5}),_0x10c560=new _0xaea051({'author':{'type':_0x7e1ad3,'ref':_0x426b5b['oDEeg']},'body':_0x331c31}),_0x1ffe5d=_0x5c9d14[_0x2c5fbf(0x807)](_0x426b5b['oDEeg'],_0x1bdf8a),_0x24c572=_0x3eaee2[_0x2c5fbf(0x807)](_0x426b5b[_0x2c5fbf(0x5f5)],_0x10c560),_0x2e4f59=new _0x1ffe5d({'_id':0x937,'name':'Alice'});_0x2e4f59[_0x2c5fbf(0x87f)](function(_0x5f0497){const _0x360596=_0x2c5fbf,_0xb87146={'KAnFw':_0x360596(0x8b1)};_0xcd0cac['ifError'](_0x5f0497);const _0x4b4de4=new _0x24c572({'author':0x937,'body':_0x360596(0x8b1)});_0x4b4de4[_0x360596(0x87f)](function(_0x30313d){const _0x3aceb2=_0x360596;_0xb926a8[_0x3aceb2(0x127)](_0x30313d),_0x24c572[_0x3aceb2(0x770)](_0x4b4de4['id'])[_0x3aceb2(0x52a)](_0x4e4d7b[_0x3aceb2(0x527)])[_0x3aceb2(0x37d)](function(_0xd27ffb,_0x549bcc){const _0x109df2=_0x3aceb2;_0x3be798['ifError'](_0xd27ffb),_0x3a302c['equal'](_0x549bcc[_0x109df2(0x467)],_0xb87146['KAnFw']),_0x582932['ok'](_0x549bcc[_0x109df2(0xc78)]),_0x19600f[_0x109df2(0xcbc)](_0x549bcc[_0x109df2(0xc78)][_0x109df2(0x8a8)],_0x109df2(0x198)),_0xc8063e();});});});}});});});}else _0x28665b[_0x170583(0x127)](_0x188fd4),_0xf701f9[_0x170583(0xc77)]({'_id':{'$in':[_0x27db96[_0x170583(0x534)],_0x4ff0fd['_id']]}})['populate'](_0x12f06f[_0x170583(0x2f0)])['lean']()[_0x170583(0x37d)](function(_0x467b76,_0x532622){const _0x517a42=_0x170583,_0x470356=_0x12f06f[_0x517a42(0x1ce)]['split']('|');let _0x258988=0x0;while(!![]){switch(_0x470356[_0x258988++]){case'0':_0x10cbff[_0x517a42(0xcbc)](_0x532622[0x1][_0x517a42(0xb8b)][0x0][_0x517a42(0x978)],_0x517a42(0x660));continue;case'1':_0x5a3bfd[_0x517a42(0xcbc)](_0x532622[0x1]['fans'][0x0]['name'],_0x12f06f[_0x517a42(0x400)]);continue;case'2':_0x22b33a[_0x517a42(0xcbc)](_0x532622[0x0]['fans'][0x0]['email'],_0x12f06f[_0x517a42(0xaa7)]);continue;case'3':_0x4c2cab['equal'](_0x532622[0x1][_0x517a42(0xb8b)][0x1][_0x517a42(0x978)],'fan1@learnboost.com');continue;case'4':_0x40797e[_0x517a42(0xcbc)](_0x532622[0x0][_0x517a42(0xb8b)][0x1]['email'],_0x517a42(0x660));continue;case'5':_0x2dbc87['equal'](typeof _0x532622[0x0]['fans'][0x0][_0x517a42(0x584)],_0x12f06f[_0x517a42(0xd31)]);continue;case'6':_0x5bb45b[_0x517a42(0xcbc)](typeof _0x532622[0x1][_0x517a42(0xb8b)][0x0]['update'],_0x517a42(0x545));continue;case'7':_0x3e269e();continue;case'8':_0x988922['equal'](_0x532622[0x0]['fans'][0x1][_0x517a42(0x8a8)],_0x517a42(0x684));continue;case'9':_0x26d7b7[_0x517a42(0xcbc)](_0x532622[0x1][_0x517a42(0xb8b)][0x1]['name'],_0x517a42(0xb43));continue;case'10':_0x44a519[_0x517a42(0x127)](_0x467b76);continue;case'11':_0x26f14b[_0x517a42(0xcbc)](typeof _0x532622[0x1][_0x517a42(0xb8b)][0x1][_0x517a42(0x584)],_0x12f06f[_0x517a42(0xd31)]);continue;case'12':_0x1492ea['equal'](_0x532622[0x0]['fans'][0x0][_0x517a42(0x8a8)],_0x12f06f[_0x517a42(0x7b0)]);continue;case'13':_0x1bbf57[_0x517a42(0xcbc)](typeof _0x532622[0x0][_0x517a42(0xb8b)][0x1][_0x517a42(0x584)],_0x517a42(0x545));continue;}break;}});}),it(_0x24a2f1[_0x4ef2f4(0x14d)],function(_0x4d4e53){const _0x16782e=_0x4ef2f4,_0x39dc1e={'arlUb':_0x16782e(0x6e5),'XlXjC':_0x16782e(0xdc),'qsSsD':_0x16782e(0x49b),'AAAli':'my\x20string'},_0x2a5ce3=new Schema({'email':{'type':String,'required':!![]}}),_0x4fc649=_0x27d0e4[_0x16782e(0x807)](_0x16782e(0x11f),_0x2a5ce3),_0x218b96=new Schema({'_id':Number,'val':Number}),_0x3af6ad=_0x27d0e4['model']('Test',_0x218b96),_0xd1e9e3=new Schema({'_id':String,'val':String}),_0x2bc6c9=_0x27d0e4[_0x16782e(0x807)](_0x16782e(0x256),_0xd1e9e3),_0x5a2a93=new Schema({'user':{'type':ObjectId,'ref':_0x24a2f1['pGlZv'],'required':!![]},'num':{'type':Number,'ref':_0x16782e(0x438),'required':!![]},'str':{'type':String,'ref':_0x16782e(0x256),'required':!![]},'text':String}),_0xb593e6=_0x27d0e4['model'](_0x16782e(0x39a),_0x5a2a93);let _0x3a5bdd=0x3;const _0xeebdf7=new _0x2bc6c9({'_id':_0x16782e(0x5e0),'val':_0x24a2f1['mfjDY']}),_0x342fc0=new _0x3af6ad({'_id':0x7cb,'val':0xea}),_0x4934d3=new _0x4fc649({'email':_0x24a2f1[_0x16782e(0xbdd)]});_0xeebdf7[_0x16782e(0x87f)](_0x3545ab),_0x342fc0[_0x16782e(0x87f)](_0x3545ab),_0x4934d3[_0x16782e(0x87f)](_0x3545ab);function _0x3545ab(_0x1234a2){const _0x5800a7=_0x16782e,_0x1f31b3={'ZXuHM':_0x39dc1e[_0x5800a7(0x189)],'pOLHQ':_0x39dc1e[_0x5800a7(0x420)],'DDykm':function(_0xb38f4b,_0x537da7){return _0xb38f4b in _0x537da7;},'YJuwg':_0x39dc1e[_0x5800a7(0x9ef)],'ITTyn':_0x5800a7(0x61c),'ZHKgh':_0x39dc1e['AAAli']};assert[_0x5800a7(0x672)](_0x1234a2,null);if(--_0x3a5bdd)return;const _0x2caddf=new _0xb593e6({'text':_0x5800a7(0xc20)});_0x2caddf[_0x5800a7(0x87f)](function(_0x5e1d96){const _0x3a23a9=_0x5800a7,_0x3a0090={'gGLkT':_0x1f31b3[_0x3a23a9(0x74e)]};assert['ok'](_0x5e1d96),assert['ok'](_0x5e1d96[_0x3a23a9(0x690)]['indexOf'](_0x1f31b3[_0x3a23a9(0xa86)])===0x0,_0x5e1d96[_0x3a23a9(0x690)]),assert['ok'](_0x1f31b3[_0x3a23a9(0x185)](_0x3a23a9(0x7ff),_0x5e1d96[_0x3a23a9(0xcc2)])),assert['ok'](_0x1f31b3['YJuwg']in _0x5e1d96[_0x3a23a9(0xcc2)]),assert['ok'](_0x1f31b3[_0x3a23a9(0x185)](_0x3a23a9(0x6e5),_0x5e1d96[_0x3a23a9(0xcc2)])),assert['equal'](_0x5e1d96[_0x3a23a9(0xcc2)][_0x3a23a9(0x7ff)][_0x3a23a9(0x722)],_0x1f31b3[_0x3a23a9(0x50a)]),assert[_0x3a23a9(0xcbc)](_0x5e1d96[_0x3a23a9(0xcc2)][_0x3a23a9(0x49b)]['kind'],_0x3a23a9(0x61c)),assert[_0x3a23a9(0xcbc)](_0x5e1d96['errors'][_0x3a23a9(0x6e5)][_0x3a23a9(0x722)],_0x1f31b3['ITTyn']),_0x2caddf[_0x3a23a9(0x6e5)]=_0x4934d3,_0x2caddf[_0x3a23a9(0x7ff)]=0x7cb,_0x2caddf[_0x3a23a9(0x49b)]=_0x1f31b3[_0x3a23a9(0x2dc)],_0x2caddf[_0x3a23a9(0x87f)](function(_0x95bd63,_0x40ceb8){const _0x40b090=_0x3a23a9,_0x52e564={'FfURn':function(_0x2aa625){return _0x2aa625();}};assert[_0x40b090(0x672)](_0x95bd63,null),_0xb593e6[_0x40b090(0x770)](_0x40ceb8['id'])[_0x40b090(0x52a)](_0x3a0090['gGLkT'])[_0x40b090(0x52a)](_0x40b090(0x7ff))['populate'](_0x40b090(0x49b))[_0x40b090(0x37d)](function(_0x3062ba,_0x596e57){const _0x49337a=_0x40b090;assert[_0x49337a(0x127)](_0x3062ba),_0x596e57[_0x49337a(0x405)]({'text':_0x49337a(0x112)}),_0x596e57[_0x49337a(0x87f)](function(_0xf6283){const _0x2d8343=_0x49337a;assert[_0x2d8343(0x127)](_0xf6283),_0x52e564['FfURn'](_0x4d4e53);});});});});}}),it(_0x24a2f1[_0x4ef2f4(0x799)],function(_0x3ed9e7){const _0xe7f3df=_0x4ef2f4,_0x132d63={'aKgfB':_0xe7f3df(0x5f6),'XzLLb':_0xe7f3df(0x2bd),'cERhf':_0x24a2f1[_0xe7f3df(0x743)],'rctpA':_0xe7f3df(0x8a9),'ffvRl':function(_0x1e7bc5){const _0x20e1f4=_0xe7f3df;return _0x24a2f1[_0x20e1f4(0x237)](_0x1e7bc5);},'pbBbp':'things'};if(_0x24a2f1[_0xe7f3df(0x6b0)](_0x24a2f1[_0xe7f3df(0x2e9)],_0x24a2f1[_0xe7f3df(0xcf5)]))_0x2e1303['findOne']({'_id':_0x5b5592[_0xe7f3df(0x534)]},function(_0x192294,_0x7ec7cf){const _0x1a1860=_0xe7f3df;_0x103329[_0x1a1860(0x127)](_0x192294);const _0x1d9fd6={'path':'author\x20target','select':_0x132d63['aKgfB'],'populate':{'path':_0x132d63['XzLLb'],'model':_0x1a1860(0x178)}};_0x7ec7cf[_0x1a1860(0x52a)](_0x1d9fd6,function(_0x3e781c){const _0x317838=_0x1a1860;_0x445480['ifError'](_0x3e781c),_0x6fc398[_0x317838(0xcbc)](_0x7ec7cf[_0x317838(0x3ad)][_0x317838(0x2bd)]['name'],_0x317838(0x2df)),_0x59183d();});});else{const _0x313fd8=new Schema({'id':String}),_0x233c6c=new Schema({'things':[{'type':ObjectId,'ref':_0x24a2f1[_0xe7f3df(0x4f4)]}]}),_0x16390e=_0x27d0e4[_0xe7f3df(0x807)](_0x24a2f1['TJhCc'],_0x313fd8),_0x28ab2a=_0x27d0e4['model'](_0x24a2f1['cLBmj'],_0x233c6c);_0x27d0e4[_0xe7f3df(0x807)]('Test2',Schema({'_id':String,'val':String})),_0x16390e[_0xe7f3df(0x46d)]({'id':'The\x20Tiger\x20That\x20Isn\x27t'},{'id':_0x24a2f1[_0xe7f3df(0xbfe)]},function(_0x209630,_0x4b6708,_0x1f036c){const _0x379886=_0xe7f3df;assert[_0x379886(0x127)](_0x209630);const _0x10a4e1=new _0x28ab2a({'things':[_0x4b6708,_0x1f036c]});_0x10a4e1[_0x379886(0x87f)](function(_0x9e2f7e){const _0x2b3d26=_0x379886,_0x5d39b3={'SHZnz':function(_0x27c64e,_0x4c1ce3){return _0x27c64e(_0x4c1ce3);},'HyRhv':_0x132d63[_0x2b3d26(0x983)],'opaOX':_0x132d63[_0x2b3d26(0x436)],'FTyqZ':function(_0x2db703){const _0x3ae0cd=_0x2b3d26;return _0x132d63[_0x3ae0cd(0x1e2)](_0x2db703);}};assert['ifError'](_0x9e2f7e),_0x28ab2a['findById'](_0x10a4e1)[_0x2b3d26(0x52a)](_0x132d63['pbBbp'])[_0x2b3d26(0x37d)](function(_0x2becef,_0x5d359e){const _0x4c2510=_0x2b3d26,_0x16bf37={'uuJBs':function(_0xc23482,_0x48a444){const _0x55f9ab=_0x2d45;return _0x5d39b3[_0x55f9ab(0xb63)](_0xc23482,_0x48a444);}};if(_0x5d39b3['HyRhv']!=='VfgtC')assert[_0x4c2510(0x127)](_0x2becef),assert[_0x4c2510(0xcbc)](_0x5d359e[_0x4c2510(0x6df)]['length'],0x2),assert[_0x4c2510(0xcbc)](_0x5d359e[_0x4c2510(0x6df)][0x0]['id'],_0x4c2510(0x6d0)),assert[_0x4c2510(0xcbc)](_0x5d359e[_0x4c2510(0x6df)][0x1]['id'],_0x5d39b3[_0x4c2510(0xcbe)]),_0x5d39b3[_0x4c2510(0x9db)](_0x3ed9e7);else return _0x16bf37[_0x4c2510(0x4e2)](_0x197b09,_0x4d89e6);});});});}}),_0x24a2f1[_0x4ef2f4(0xda)](it,_0x24a2f1[_0x4ef2f4(0x9b1)],function(_0x3e2353){const _0x17d27c=_0x4ef2f4,_0x5e02e9=_0x27d0e4[_0x17d27c(0x807)](_0x17d27c(0x63e),_0x4088a5),_0x1622b1=_0x27d0e4[_0x17d27c(0x807)](_0x24a2f1['pGlZv'],_0x1e7a32);_0x1622b1[_0x17d27c(0x46d)]({'name':_0x17d27c(0x8bb)},{'name':_0x24a2f1[_0x17d27c(0x640)]},function(_0x2fcfde,_0x512654,_0x3b5320){const _0x1aa74e=_0x17d27c,_0x499ea6={'DrAwY':function(_0x50ef17,_0xf519a2){return _0x50ef17 in _0xf519a2;},'iiduZ':function(_0x50d350,_0x17a67c){const _0x23fd76=_0x2d45;return _0x24a2f1[_0x23fd76(0x645)](_0x50d350,_0x17a67c);}};assert[_0x1aa74e(0x127)](_0x2fcfde),_0x5e02e9[_0x1aa74e(0x46d)]({'title':'Woot','fans':[]},function(_0x33660d,_0x463277){const _0x3e2c78=_0x1aa74e,_0x467182={'iyXbC':_0x3e2c78(0x313),'pIFYn':function(_0x4be780,_0x3b6d55){return _0x4be780 instanceof _0x3b6d55;},'SriKK':function(_0x189b9d){return _0x189b9d();}};assert[_0x3e2c78(0x127)](_0x33660d);const _0x21c04a={'fans':[_0x512654,_0x3b5320]};_0x5e02e9[_0x3e2c78(0x6fd)]({'_id':_0x463277},_0x21c04a,function(_0x1fdff8){const _0x187f79=_0x3e2c78;assert[_0x187f79(0x127)](_0x1fdff8),assert['ok'](_0x187f79(0xb8b)in _0x21c04a),assert['ok'](!_0x499ea6[_0x187f79(0xba2)](_0x187f79(0x240),_0x21c04a)),assert['ok'](_0x499ea6[_0x187f79(0x1b3)](_0x21c04a[_0x187f79(0xb8b)][0x0],mongoose[_0x187f79(0x2b4)])),assert['ok'](_0x21c04a['fans'][0x1]instanceof mongoose[_0x187f79(0x2b4)]),_0x5e02e9[_0x187f79(0x770)](_0x463277,function(_0x2a9c62,_0x49fa3a){const _0x330e9a=_0x187f79,_0x39cf5e=_0x467182['iyXbC']['split']('|');let _0x5f460b=0x0;while(!![]){switch(_0x39cf5e[_0x5f460b++]){case'0':assert['ok'](_0x49fa3a[_0x330e9a(0xb8b)][0x0]instanceof DocObjectId);continue;case'1':assert['ok'](_0x467182['pIFYn'](_0x49fa3a[_0x330e9a(0xb8b)][0x1],DocObjectId));continue;case'2':assert[_0x330e9a(0xcbc)](_0x49fa3a[_0x330e9a(0xb8b)][_0x330e9a(0x2a2)],0x2);continue;case'3':_0x467182[_0x330e9a(0x7c2)](_0x3e2353);continue;case'4':assert[_0x330e9a(0x127)](_0x2a9c62);continue;}break;}});});});});}),it(_0x4ef2f4(0xa07),function(_0x1c6a47){const _0x56e896=_0x4ef2f4,_0x233874={'WCrWj':_0x56e896(0x471),'MZoYw':_0x56e896(0xb80),'IZzjh':_0x24a2f1[_0x56e896(0x32b)],'uFfmZ':_0x24a2f1[_0x56e896(0x326)],'ujrnT':_0x56e896(0x684),'TEeDJ':function(_0x2818d7){return _0x2818d7();},'ocDKx':_0x24a2f1[_0x56e896(0xc60)]},_0x1c9229=_0x27d0e4[_0x56e896(0x807)](_0x56e896(0x63e),_0x4088a5),_0x214a9e=_0x27d0e4['model'](_0x56e896(0x11f),_0x1e7a32);_0x214a9e['prototype'][_0x56e896(0x42b)]=_0x214a9e[_0x56e896(0xcde)][_0x56e896(0x2f6)],_0x214a9e[_0x56e896(0xcde)][_0x56e896(0x2f6)]=function(){const _0x303fa7=_0x56e896,_0x2942dd=this[_0x303fa7(0x42b)]();return _0x2942dd[_0x303fa7(0x664)]=!![],_0x2942dd;},_0x1c9229['prototype'][_0x56e896(0x42b)]=_0x1c9229['prototype'][_0x56e896(0x2f6)],_0x1c9229[_0x56e896(0xcde)][_0x56e896(0x2f6)]=function(){const _0xb9af79=_0x56e896;if(_0x233874['WCrWj']!==_0x233874['WCrWj']){const _0x1451a8={'EmwfT':_0xb9af79(0x946)};_0x293511[_0xb9af79(0x127)](_0xf9bb02),_0x3c61f3[_0xb9af79(0x46d)](_0x1d8474,function(_0x4d2019){const _0x5aaabc=_0xb9af79,_0x5bcec3={'IuRaS':_0x1451a8[_0x5aaabc(0xc04)]};_0x437ca6[_0x5aaabc(0x127)](_0x4d2019),_0x32059d[_0x5aaabc(0x3dd)]({})['lean']()[_0x5aaabc(0x52a)]({'path':'authors','model':_0x1fe220})[_0x5aaabc(0x37d)](function(_0x209c67,_0x39904d){const _0x3a3ed9=_0x5aaabc;_0x4c0bea[_0x3a3ed9(0x127)](_0x209c67),_0x3d003a['equal'](_0x39904d[_0x3a3ed9(0x3e2)]['length'],0x1),_0xad835a[_0x3a3ed9(0xcbc)](_0x39904d[_0x3a3ed9(0x3e2)][0x0]['name'],_0x5bcec3[_0x3a3ed9(0x512)]),_0x3b9b6f();});});}else{const _0x58c511=this[_0xb9af79(0x42b)]();return _0x58c511[_0xb9af79(0x664)]=!![],_0x58c511;}},_0x214a9e[_0x56e896(0x46d)]({'name':_0x56e896(0x874),'email':_0x24a2f1[_0x56e896(0x726)]},function(_0x4218ab,_0x1dfff1){const _0x56e7ae=_0x56e896;if(_0x24a2f1['jUPsH']!==_0x56e7ae(0x2c6)){_0x53f1e7['ifError'](_0x6f95b9);const _0x50eeb0=_0xb21d74[_0x56e7ae(0x847)](_0xfe652b=>_0xfe652b[_0x56e7ae(0x132)])[_0x56e7ae(0x22b)]();_0x4c688f['equal'](_0x50eeb0[0x0],_0x233874[_0x56e7ae(0x764)]),_0x507afd[_0x56e7ae(0xcbc)](_0x50eeb0[0x1],_0x233874['IZzjh']);const _0x49a4cb=_0x8cdd85[_0x56e7ae(0xc77)](_0x435f82=>_0x435f82[_0x56e7ae(0x132)]===_0x56e7ae(0xb80));_0x31de64[_0x56e7ae(0xcbc)](_0x49a4cb[_0x56e7ae(0xb8b)][0x0][_0x56e7ae(0x8a8)],_0x233874[_0x56e7ae(0x759)]),_0x55b888[_0x56e7ae(0xcbc)](_0x49a4cb[_0x56e7ae(0xb8b)][0x1]['name'],_0x233874['ujrnT']);const _0x2912d5=_0x25f4bc[_0x56e7ae(0xc77)](_0x19c6e2=>_0x19c6e2['title']===_0x56e7ae(0xbc6));_0x1023fa['equal'](_0x2912d5[_0x56e7ae(0xb8b)][0x0][_0x56e7ae(0x8a8)],_0x56e7ae(0x684)),_0x4db560[_0x56e7ae(0xcbc)](_0x2912d5['fans'][0x1][_0x56e7ae(0x8a8)],_0x56e7ae(0xb43)),_0x2bbd9b();}else assert[_0x56e7ae(0x127)](_0x4218ab),_0x1c9229[_0x56e7ae(0x46d)]({'title':_0x24a2f1['VDlpp'],'_creator':_0x1dfff1},function(_0x504931,_0x1ba2a1){const _0x22f3e9=_0x56e7ae,_0x18495a={'EWUCe':function(_0x515607){return _0x233874['TEeDJ'](_0x515607);}};assert[_0x22f3e9(0x127)](_0x504931),_0x1c9229[_0x22f3e9(0x770)](_0x1ba2a1[_0x22f3e9(0x534)])['populate'](_0x233874[_0x22f3e9(0x1d2)])[_0x22f3e9(0x37d)](function(_0x2d3fe1,_0x4425cc){const _0x5e89de=_0x22f3e9;assert[_0x5e89de(0x127)](_0x2d3fe1);const _0x4708a7=_0x4425cc[_0x5e89de(0x2f6)]();assert[_0x5e89de(0xcbc)](!![],_0x4708a7[_0x5e89de(0x664)]),assert[_0x5e89de(0xcbc)](_0x4708a7[_0x5e89de(0x5ad)][_0x5e89de(0x664)],!![]),_0x18495a[_0x5e89de(0xe3)](_0x1c6a47);});});});}),it(_0x24a2f1[_0x4ef2f4(0x6a2)],function(_0x208c96){const _0x6f7263=_0x4ef2f4,_0x1f2d33={'mtfTX':_0x6f7263(0xc78),'FOgya':_0x24a2f1['dAnCh'],'IkGXu':_0x6f7263(0x79c)},_0x339804=new Schema({'_id':Buffer,'name':String}),_0x2b6151=new Schema({'author':{'type':Buffer,'ref':'User'},'body':String}),_0x10de77=_0x27d0e4['model'](_0x6f7263(0x11f),_0x339804),_0x1d4ab0=_0x27d0e4[_0x6f7263(0x807)](_0x24a2f1['TJhCc'],_0x2b6151),_0x504861=new _0x10de77({'_id':new mongoose[(_0x6f7263(0xc4a))]['Buffer'](_0x6f7263(0x390),_0x6f7263(0x2fd)),'name':'Alice'});_0x504861[_0x6f7263(0x87f)](function(_0x1564a3){const _0x5e2f5d=_0x6f7263,_0x301d38={'QkHgW':_0x1f2d33[_0x5e2f5d(0x199)],'kIxMm':function(_0x391e09){return _0x391e09();}};assert[_0x5e2f5d(0x127)](_0x1564a3);const _0x11f8e9=new _0x1d4ab0({'author':_0x1f2d33[_0x5e2f5d(0x3e1)],'body':_0x5e2f5d(0x8b1)});_0x11f8e9[_0x5e2f5d(0x87f)](function(_0x1c3718){const _0x595b35=_0x5e2f5d;assert[_0x595b35(0x127)](_0x1c3718),_0x1d4ab0[_0x595b35(0x770)](_0x11f8e9['id'])['populate'](_0x1f2d33[_0x595b35(0xbfd)])['exec'](function(_0x34e865,_0xefde02){const _0x39c26a=_0x595b35;assert[_0x39c26a(0x127)](_0x34e865),assert[_0x39c26a(0xcbc)](_0xefde02[_0x39c26a(0x467)],'Buy\x20Milk'),assert['ok'](_0xefde02['author']),assert[_0x39c26a(0xcbc)](_0xefde02[_0x39c26a(0xc78)][_0x39c26a(0x8a8)],_0x301d38[_0x39c26a(0xac4)]),_0x301d38['kIxMm'](_0x208c96);});});});}),it(_0x4ef2f4(0x1c4),function(_0x1edbc4){const _0x146145=_0x4ef2f4,_0x9afeb2={'wwePt':function(_0x3dc9ab){return _0x3dc9ab();},'xgKev':_0x24a2f1[_0x146145(0x505)]},_0x60ac3d=new Schema({'_id':Buffer,'name':String}),_0xcf505f=new Schema({'author':{'type':Buffer,'ref':_0x146145(0x11f),'required':!![]},'body':String}),_0x399079=_0x27d0e4[_0x146145(0x807)](_0x146145(0x11f),_0x60ac3d),_0x2c0b61=_0x27d0e4[_0x146145(0x807)](_0x146145(0x438),_0xcf505f),_0x223c87=new _0x399079({'_id':new mongoose[(_0x146145(0xc4a))]['Buffer'](_0x24a2f1[_0x146145(0xb24)],_0x24a2f1[_0x146145(0x6b5)]),'name':_0x24a2f1[_0x146145(0x65d)]});_0x223c87['save'](function(_0x23839f){const _0x3dc069=_0x146145;assert[_0x3dc069(0x127)](_0x23839f);const _0x5810d8=new _0x2c0b61({'author':_0x9afeb2[_0x3dc069(0xa90)],'body':_0x3dc069(0x8b1)});_0x5810d8[_0x3dc069(0x87f)](function(_0x13fcb9){const _0x4ad4fc=_0x3dc069,_0x12e156={'ZYfIY':function(_0x77e40a){const _0x17a540=_0x2d45;return _0x9afeb2[_0x17a540(0x4b6)](_0x77e40a);}};assert['ifError'](_0x13fcb9),_0x2c0b61[_0x4ad4fc(0x770)](_0x5810d8['id'])['populate'](_0x4ad4fc(0xc78))['exec'](function(_0x454911,_0x414b05){assert['ifError'](_0x454911),_0x414b05['save'](function(_0x13a585){const _0x2bc23d=_0x2d45;assert['ifError'](_0x13a585),_0x12e156[_0x2bc23d(0x9ed)](_0x1edbc4);});});});});}),_0x24a2f1['oJqhc'](it,_0x4ef2f4(0x33a),function(_0x1a2b32){const _0x4cac28=_0x4ef2f4,_0x3a2a75=_0x27d0e4[_0x4cac28(0x807)](_0x4cac28(0x63e),_0x4088a5),_0x40e7e4=_0x27d0e4['model'](_0x24a2f1['TJhCc'],_0x1e7a32);_0x40e7e4[_0x4cac28(0x46d)]({'name':_0x4cac28(0x1bd),'email':_0x4cac28(0x251)},function(_0x26370a,_0x11ec7a){const _0x183382=_0x4cac28,_0x250d33={'hynyW':_0x24a2f1['YxVKn']};assert[_0x183382(0x127)](_0x26370a),_0x3a2a75['create']({'title':_0x183382(0x28f),'_creator':_0x11ec7a},function(_0x444fb2,_0x2c4783){const _0x997b4c=_0x183382;if('NBPyn'===_0x250d33[_0x997b4c(0x255)])assert[_0x997b4c(0x127)](_0x444fb2),_0x3a2a75[_0x997b4c(0x770)](_0x2c4783[_0x997b4c(0x534)])[_0x997b4c(0x52a)]('_creator',_0x997b4c(0x978),_0x997b4c(0x438))[_0x997b4c(0x37d)](function(_0x2b8b27,_0x58aaef){const _0x2b8d4d=_0x997b4c,_0x40e937=_0x2b8d4d(0x2f7)[_0x2b8d4d(0x3a7)]('|');let _0xf2dae6=0x0;while(!![]){switch(_0x40e937[_0xf2dae6++]){case'0':assert['ok'](_0x58aaef['_creator']instanceof _0x40e7e4);continue;case'1':assert[_0x2b8d4d(0xcbc)](_0x58aaef['_creator']['isInit'](_0x2b8d4d(0x8a8)),![]);continue;case'2':_0x1a2b32();continue;case'3':assert[_0x2b8d4d(0x127)](_0x2b8b27);continue;case'4':assert['equal'](_0x58aaef[_0x2b8d4d(0x5ad)]['email'],_0x2b8d4d(0x251));continue;}break;}});else{const _0x22565b=_0x38de6b[_0x997b4c(0xcde)][_0x997b4c(0x847)][_0x997b4c(0x20c)](arguments,function(_0x392ffc){const _0x39ab4f=_0x997b4c,_0x34b94b={'qRmfv':'woot'};return typeof _0x392ffc===_0x39ab4f(0x883)?function(){const _0x1543ad=_0x39ab4f;_0x392ffc(new _0x19867d(_0x34b94b[_0x1543ad(0xba7)]));}:_0x392ffc;});return _0x4b5646['apply'](this,_0x22565b);}});});}),_0x24a2f1['BoGeK'](describe,_0x24a2f1['YeiXR'],function(){const _0x352516=_0x4ef2f4,_0x185dd6={'WNEli':_0x24a2f1[_0x352516(0x363)],'hWbxv':'hello','Gckyx':_0x24a2f1[_0x352516(0x5c8)],'icXGQ':'Test','IBJcb':function(_0x2dac19){return _0x2dac19();},'ZsyNA':function(_0x1c7dfa,_0x2d1a19){const _0x1fca08=_0x352516;return _0x24a2f1[_0x1fca08(0x888)](_0x1c7dfa,_0x2d1a19);},'vswFW':function(_0x3af47d){return _0x3af47d();},'UsCBr':_0x24a2f1[_0x352516(0xa5b)],'eyGSV':'iRYYx','dqkHo':_0x24a2f1[_0x352516(0x46f)],'EzSPB':_0x352516(0x3e5)};_0x24a2f1[_0x352516(0x4fb)](it,_0x352516(0xa9d),function(_0x1224f5){const _0x2f3cea=_0x352516,_0x5e81ea={'WCKCw':_0x185dd6['Gckyx']},_0x2f5dd6=_0x27d0e4['model'](_0x185dd6['icXGQ'],{'name':String,'_id':String}),_0x4ee60b=_0x27d0e4[_0x2f3cea(0x807)](_0x2f3cea(0x256),{'other':String});_0x2f5dd6[_0x2f3cea(0x46d)]({'name':_0x2f3cea(0x8ff),'_id':_0x2f3cea(0x3ed)},function(_0x12604e,_0x2195da){const _0x4cd9e4=_0x2f3cea,_0x3d1ddc={'eWRrY':_0x185dd6['WNEli'],'kQgOP':_0x185dd6['hWbxv']};if(_0x12604e)return _0x1224f5(_0x12604e);_0x4ee60b['create']({'other':_0x2195da[_0x4cd9e4(0x534)]},function(_0x21f82f,_0x57cf4f){const _0x2cb4b7=_0x4cd9e4;if(_0x21f82f)return _0x1224f5(_0x21f82f);_0x4ee60b[_0x2cb4b7(0x770)](_0x57cf4f[_0x2cb4b7(0x534)])[_0x2cb4b7(0x52a)]({'path':_0x5e81ea['WCKCw'],'model':'Test'})[_0x2cb4b7(0x37d)](function(_0x1f93ea,_0x4c4c3a){const _0x276727=_0x2cb4b7;if('xevLj'===_0x3d1ddc[_0x276727(0x72c)]){if(_0x1f93ea)return _0x1224f5(_0x1f93ea);assert[_0x276727(0xcbc)](_0x4c4c3a[_0x276727(0xb26)]['name'],_0x3d1ddc[_0x276727(0xc8e)]),_0x1224f5();}else{const _0x504e5f=_0x38495e['events'][0x0][_0x276727(0x287)][_0x276727(0x847)](_0x5bf16f=>_0x5bf16f[_0x276727(0x64e)]);return _0x504e5f;}});});});}),it(_0x352516(0x9f9),function(_0x361ec4){const _0x800d03=_0x352516,_0xff64ad=_0x27d0e4[_0x800d03(0x807)](_0x800d03(0x438),{'name':String,'_id':Number}),_0x5b85c9=_0x27d0e4[_0x800d03(0x807)]('Test1',{'other':Number});_0xff64ad[_0x800d03(0x46d)]({'name':_0x185dd6[_0x800d03(0x609)],'_id':0x3},function(_0x4745d1,_0x45f04c){const _0xed29c0=_0x800d03,_0x100500={'FADGx':_0xed29c0(0x8ff),'AaXee':function(_0x28d8bd){const _0x4fade4=_0xed29c0;return _0x185dd6[_0x4fade4(0x691)](_0x28d8bd);},'Xcmki':function(_0x4dcbea,_0x58993c){return _0x4dcbea(_0x58993c);}};if(_0x4745d1)return _0x185dd6[_0xed29c0(0x1b7)](_0x361ec4,_0x4745d1);_0x5b85c9['create']({'other':_0x45f04c['_id']},function(_0x1e93b9,_0x57e618){const _0x50cb63=_0xed29c0;if(_0x1e93b9)return _0x100500['Xcmki'](_0x361ec4,_0x1e93b9);_0x5b85c9['findById'](_0x57e618[_0x50cb63(0x534)])['populate']({'path':_0x50cb63(0xb26),'model':'Test'})[_0x50cb63(0x37d)](function(_0x4bd728,_0x13d5c3){const _0x4dad7d=_0x50cb63;if(_0x4bd728)return _0x361ec4(_0x4bd728);assert[_0x4dad7d(0xcbc)](_0x13d5c3[_0x4dad7d(0xb26)][_0x4dad7d(0x8a8)],_0x100500[_0x4dad7d(0xd39)]),_0x100500['AaXee'](_0x361ec4);});});});}),it('with\x20Buffer\x20_id',function(_0x21b8c8){const _0x2c27c5=_0x352516;if('SVTHl'===_0x185dd6[_0x2c27c5(0x43b)])return _0xdcb515(_0x17c88c);else{const _0x6e7b18=_0x27d0e4[_0x2c27c5(0x807)]('Test',{'name':String,'_id':Buffer}),_0x46c8ff=_0x27d0e4[_0x2c27c5(0x807)](_0x2c27c5(0x256),{'other':Buffer});_0x6e7b18[_0x2c27c5(0x46d)]({'name':_0x2c27c5(0x8ff),'_id':Buffer['from']('x')},function(_0x565c7f,_0x470a92){const _0x1206cb=_0x2c27c5,_0x5046e3={'HcIDt':_0x1206cb(0x198),'ZwrsJ':function(_0x5f5d1d){return _0x185dd6['vswFW'](_0x5f5d1d);},'OnhrD':_0x1206cb(0xb8f),'eJpEl':_0x185dd6[_0x1206cb(0x1c7)],'xMaBD':_0x185dd6[_0x1206cb(0x7df)],'BLjmL':function(_0x1e3216){const _0x3c936c=_0x1206cb;return _0x185dd6[_0x3c936c(0xb78)](_0x1e3216);},'sbigs':_0x185dd6[_0x1206cb(0xaae)],'BAoxZ':function(_0x17a4f9,_0x7b7cee){return _0x17a4f9(_0x7b7cee);},'uBBRR':_0x185dd6[_0x1206cb(0x48e)]};if(_0x565c7f)return _0x185dd6[_0x1206cb(0x1b7)](_0x21b8c8,_0x565c7f);_0x46c8ff[_0x1206cb(0x46d)]({'other':_0x470a92[_0x1206cb(0x534)]},function(_0x390f87,_0x34bdf8){const _0x590c79=_0x1206cb,_0x55f917={'vJJbF':'Luke','EDfjh':function(_0x3d5876){const _0x22367e=_0x2d45;return _0x5046e3[_0x22367e(0x781)](_0x3d5876);}};if(_0x5046e3[_0x590c79(0xa49)]!==_0x590c79(0xadd))_0x3249b5[_0x590c79(0x127)](_0x25b41f),_0x2abc34[_0x590c79(0xcbc)](_0x1f3d97[_0x590c79(0x467)],'Buy\x20Milk'),_0x158506['ok'](_0x578421[_0x590c79(0xc78)]),_0x57b20b[_0x590c79(0xcbc)](_0x576431[_0x590c79(0xc78)]['name'],_0x5046e3[_0x590c79(0x371)]),_0x5046e3[_0x590c79(0x784)](_0x4b83f0);else{if(_0x390f87)return _0x5046e3[_0x590c79(0x82d)](_0x21b8c8,_0x390f87);_0x46c8ff[_0x590c79(0x770)](_0x34bdf8[_0x590c79(0x534)])[_0x590c79(0x52a)]({'path':_0x5046e3[_0x590c79(0xc53)],'model':_0x590c79(0x438)})[_0x590c79(0x37d)](function(_0x11be59,_0x5972f3){const _0x414f1e=_0x590c79,_0x3bead4={'BrRYE':_0x5046e3['OnhrD'],'VgDtb':_0x5046e3[_0x414f1e(0x73d)]};if(_0x11be59){if(_0x5046e3['xMaBD']!=='iRYYx'){const _0x28a47={'Diwmd':_0x55f917[_0x414f1e(0x37f)],'tXUUw':function(_0x5a26f5){const _0x159dc4=_0x414f1e;return _0x55f917[_0x159dc4(0x893)](_0x5a26f5);}};_0x396699[_0x414f1e(0x127)](_0x4908fe),_0x1ad176[_0x414f1e(0x46d)]({'name':_0x414f1e(0x549),'child':_0x2abae0['_id']},function(_0x349ddf){const _0x29f0f5=_0x414f1e;_0x1bf4aa['ifError'](_0x349ddf),_0x57331e[_0x29f0f5(0xc77)]()['populate']({'path':_0x3bead4[_0x29f0f5(0x36e)],'model':_0x3bead4[_0x29f0f5(0x4c1)]})[_0x29f0f5(0x241)]()[_0x29f0f5(0x166)](function(_0x3f19de,_0x3da964){const _0x3a97fd=_0x29f0f5;_0x586dc7['ifError'](_0x3f19de),_0x3dba69[_0x3a97fd(0xcbc)](_0x3da964[_0x3a97fd(0xb8f)][_0x3a97fd(0x8a8)],_0x28a47[_0x3a97fd(0x7b4)]),_0x28a47[_0x3a97fd(0x1fa)](_0x5ce609);});});}else return _0x21b8c8(_0x11be59);}assert[_0x414f1e(0xcbc)](_0x5972f3['other'][_0x414f1e(0x8a8)],_0x414f1e(0x8ff)),_0x21b8c8();});}});});}}),it(_0x352516(0x39d),function(_0x5c673f){const _0x5c1262=_0x352516,_0x1ea8c5={'igexr':function(_0x27735d,_0x54e955){const _0x532f52=_0x2d45;return _0x24a2f1[_0x532f52(0x64a)](_0x27735d,_0x54e955);},'YuJJp':_0x5c1262(0x54d),'KciJy':function(_0x37bb61,_0x45490a){return _0x37bb61(_0x45490a);}},_0x224bd7=_0x27d0e4[_0x5c1262(0x807)](_0x24a2f1[_0x5c1262(0x4f4)],{'name':String}),_0x119ddb=_0x27d0e4['model']('Test1',{'other':Schema[_0x5c1262(0x2ef)]});_0x224bd7[_0x5c1262(0x46d)]({'name':_0x5c1262(0x8ff)},function(_0x1d3aea,_0x38f4bd){const _0x49f18c=_0x5c1262,_0x4c5571={'XWrFI':function(_0x7dc319,_0x52a55b){const _0x5e8762=_0x2d45;return _0x1ea8c5[_0x5e8762(0x9fe)](_0x7dc319,_0x52a55b);},'UfsJt':_0x1ea8c5[_0x49f18c(0xd15)],'nMPrk':function(_0xdd979a,_0x2f75c5){return _0x1ea8c5['KciJy'](_0xdd979a,_0x2f75c5);},'jUutB':function(_0x4bb0cb){return _0x4bb0cb();}};if(_0x1d3aea)return _0x5c673f(_0x1d3aea);_0x119ddb[_0x49f18c(0x46d)]({'other':_0x38f4bd[_0x49f18c(0x534)]},function(_0x4fb36f,_0x2a376b){const _0x1a075d=_0x49f18c;if(_0x4fb36f)return _0x5c673f(_0x4fb36f);_0x119ddb['findById'](_0x2a376b[_0x1a075d(0x534)])[_0x1a075d(0x52a)]({'path':_0x1a075d(0xb26),'model':_0x1a075d(0x438)})[_0x1a075d(0x37d)](function(_0x1ef1bc,_0x1c22b3){const _0x2de03b=_0x1a075d,_0x189c71={'qZTTs':'comment\x201'};if(_0x4c5571['XWrFI'](_0x4c5571[_0x2de03b(0xbed)],_0x4c5571[_0x2de03b(0xbed)]))_0x1b5e02[_0x2de03b(0xcbc)](_0x5bed03['comment'][_0x2de03b(0x467)],_0x189c71[_0x2de03b(0x5ea)]);else{if(_0x1ef1bc)return _0x4c5571['nMPrk'](_0x5c673f,_0x1ef1bc);assert[_0x2de03b(0xcbc)](_0x1c22b3[_0x2de03b(0xb26)]['name'],_0x2de03b(0x8ff)),_0x4c5571[_0x2de03b(0x621)](_0x5c673f);}});});});});}),describe(_0x4ef2f4(0xaeb),function(){const _0x2480b5=_0x4ef2f4,_0x59bcb8={'ohaZL':'Test','DyisJ':_0x24a2f1[_0x2480b5(0x6c0)],'qTbRj':_0x24a2f1[_0x2480b5(0xf8)],'EyaXy':_0x2480b5(0xd5b),'zSZem':_0x2480b5(0x4a7),'zjPsZ':_0x24a2f1[_0x2480b5(0x53e)],'wxynr':_0x24a2f1['QCJlJ'],'TshvC':_0x2480b5(0xb8b)};let _0x3eb341,_0x7a143e,_0x211129;_0x24a2f1[_0x2480b5(0x888)](beforeEach,function(){const _0x26a55f=_0x2480b5;return _0x3eb341=_0x27d0e4[_0x26a55f(0x807)](_0x26a55f(0x63e),_0x4088a5),_0x27d0e4[_0x26a55f(0x530)](/Test/),_0x7a143e=_0x27d0e4[_0x26a55f(0x807)](_0x59bcb8[_0x26a55f(0x5ba)],_0x1e7a32),_0x7a143e[_0x26a55f(0x46d)]([{'name':_0x59bcb8['DyisJ'],'email':_0x26a55f(0x5d6)},{'name':_0x59bcb8[_0x26a55f(0xae4)]},{'name':_0x59bcb8[_0x26a55f(0x91d)]}])[_0x26a55f(0xc12)](_0x909651=>_0x3eb341[_0x26a55f(0x46d)]({'title':_0x26a55f(0x28f),'fans':_0x909651}))[_0x26a55f(0xc12)](_0x4aa771=>{_0x211129=_0x4aa771;});}),it(_0x24a2f1[_0x2480b5(0x913)],function(_0x24fb6c){const _0x49ef98=_0x2480b5;_0x3eb341['findById'](_0x211129[_0x49ef98(0x534)])[_0x49ef98(0x52a)]({'path':_0x59bcb8[_0x49ef98(0xaba)],'select':_0x59bcb8[_0x49ef98(0xab0)],'model':_0x49ef98(0x438),'match':{'name':/u/},'options':{'sort':{'name':-0x1}}})[_0x49ef98(0x37d)](function(_0x1c3820,_0x82dd43){const _0x2ab89d=_0x49ef98,_0x3d67b9=_0x59bcb8['zSZem'][_0x2ab89d(0x3a7)]('|');let _0x2aa330=0x0;while(!![]){switch(_0x3d67b9[_0x2aa330++]){case'0':assert[_0x2ab89d(0xcbc)](_0x82dd43['fans']['length'],0x2);continue;case'1':assert['ifError'](_0x1c3820);continue;case'2':_0x24fb6c();continue;case'3':assert['ok'](_0x82dd43[_0x2ab89d(0xb8b)][0x0]instanceof _0x7a143e);continue;case'4':assert['equal'](_0x82dd43['fans'][0x0]['isInit'](_0x59bcb8[_0x2ab89d(0xab0)]),!![]);continue;case'5':assert[_0x2ab89d(0xcbc)](_0x82dd43['fans'][0x0][_0x2ab89d(0x8a8)],_0x2ab89d(0xb27));continue;case'6':assert[_0x2ab89d(0xcbc)](_0x82dd43[_0x2ab89d(0xb8b)][0x1]['name'],_0x2ab89d(0x73e));continue;case'7':assert[_0x2ab89d(0xcbc)](_0x82dd43[_0x2ab89d(0xb8b)][0x1]['isInit'](_0x59bcb8[_0x2ab89d(0xab0)]),!![]);continue;case'8':assert[_0x2ab89d(0xcbc)](_0x82dd43[_0x2ab89d(0xb8b)][0x0][_0x2ab89d(0x346)](_0x59bcb8[_0x2ab89d(0xd50)]),![]);continue;case'9':assert['ok'](_0x82dd43[_0x2ab89d(0xb8b)][0x1]instanceof _0x7a143e);continue;case'10':assert[_0x2ab89d(0xcbc)](_0x82dd43[_0x2ab89d(0xb8b)][0x1][_0x2ab89d(0x346)](_0x59bcb8[_0x2ab89d(0xd50)]),![]);continue;case'11':assert['ok'](Array['isArray'](_0x82dd43[_0x2ab89d(0xb8b)]));continue;}break;}});});}),_0x24a2f1['mTvns'](describe,_0x24a2f1[_0x4ef2f4(0xaf7)],function(){const _0x27bf05=_0x4ef2f4,_0x2f35cc={'KaKUs':_0x24a2f1[_0x27bf05(0x86c)],'xzbBi':_0x24a2f1[_0x27bf05(0x826)],'XyPqO':_0x24a2f1[_0x27bf05(0x202)],'OXLMF':_0x24a2f1['bJNPx'],'ysfZW':_0x24a2f1['Hemuj'],'qPdoM':_0x27bf05(0x912),'KCAkD':function(_0xa5dbf2){return _0xa5dbf2();},'QAyEZ':'_creator','ybLQm':function(_0x24e503,_0x487859){const _0x1fb6f3=_0x27bf05;return _0x24a2f1[_0x1fb6f3(0x2cc)](_0x24e503,_0x487859);},'yReTC':function(_0x3ec5ea){return _0x3ec5ea();},'NctEk':function(_0x1a6bfb,_0x328987){return _0x1a6bfb===_0x328987;},'qACbw':_0x27bf05(0x7fc),'LnaBw':function(_0x26d13e,_0xe18e){return _0x26d13e!==_0xe18e;},'ubGZn':'XMlyI','DUqun':_0x24a2f1['iBABV'],'AdRaP':'male','eABfE':_0x24a2f1[_0x27bf05(0x454)],'BJzpV':'world','gmWrV':function(_0x55837e,_0x2f0a09,_0x1fb873){return _0x24a2f1['tWiAF'](_0x55837e,_0x2f0a09,_0x1fb873);}};let _0x2931c8,_0x16b6cc,_0x8663cf,_0x587f62,_0x2605e9,_0x58a562,_0x207032;_0x24a2f1[_0x27bf05(0x8c3)](beforeEach,function(_0xa0e845){const _0x5e0802=_0x27bf05,_0x107d52={'rldtr':function(_0x27344c){return _0x27344c();},'HoGwC':_0x2f35cc[_0x5e0802(0x5b6)]};_0x2931c8=_0x27d0e4[_0x5e0802(0x807)](_0x2f35cc[_0x5e0802(0x42e)],_0x4088a5),_0x16b6cc=_0x27d0e4['model'](_0x5e0802(0x11f),_0x1e7a32),_0x207032=new mongoose[(_0x5e0802(0xc4a))]['ObjectId'](),_0x16b6cc[_0x5e0802(0x46d)]({'name':_0x2f35cc[_0x5e0802(0xb95)],'email':_0x2f35cc[_0x5e0802(0x575)],'blogposts':[_0x207032]},{'name':_0x2f35cc[_0x5e0802(0xb28)],'email':_0x2f35cc[_0x5e0802(0x84c)],'blogposts':[_0x207032]},function(_0x5c3418,_0x49c7c6,_0x35ba3d){const _0xb73a43=_0x5e0802;assert[_0xb73a43(0x127)](_0x5c3418),_0x8663cf=_0x49c7c6,_0x587f62=_0x35ba3d,_0x2931c8['create']({'title':_0xb73a43(0x328),'_creator':_0x8663cf,'fans':[_0x8663cf,_0x587f62]},{'title':_0x107d52[_0xb73a43(0x397)],'_creator':_0x587f62,'fans':[_0x587f62,_0x8663cf]},function(_0x26fb88,_0xd97234,_0x4aa4ab){const _0x3500ca=_0xb73a43;assert[_0x3500ca(0x127)](_0x26fb88),_0x2605e9=_0xd97234,_0x58a562=_0x4aa4ab,_0x107d52[_0x3500ca(0x789)](_0xa0e845);});});}),_0x24a2f1[_0x27bf05(0x1e1)](it,_0x24a2f1[_0x27bf05(0x45c)],function(_0x352ecc){const _0xf31b83=_0x27bf05,_0x168b53=_0x2931c8['populate'](_0x2605e9,_0x2f35cc[_0xf31b83(0xbeb)]);assert['ok'](_0x2f35cc['ybLQm'](_0x168b53,mongoose[_0xf31b83(0x8aa)])),_0x168b53[_0xf31b83(0xc12)](_0x2a22e3,_0x352ecc);function _0x2a22e3(_0x3c01c6){const _0x4122b8=_0xf31b83;assert['ok'](_0x3c01c6),_0x2f35cc[_0x4122b8(0x972)](_0x352ecc);}}),_0x24a2f1['ocgcv'](it,_0x24a2f1['bgSJW'],function(_0x4db472){const _0x5e1658=_0x27bf05,_0x57ed0c={'HccKL':function(_0x399efc,_0x3fb475){return _0x399efc instanceof _0x3fb475;},'AhCdv':_0x24a2f1[_0x5e1658(0x202)],'voiOq':function(_0x47a718){return _0x24a2f1['sYLCj'](_0x47a718);}};_0x2931c8['findById'](_0x2605e9[_0x5e1658(0x534)],function(_0xd3fd3c,_0x44ed25){const _0x15890a=_0x5e1658,_0x5004d8=utils[_0x15890a(0x52a)]({'path':_0x15890a(0x5ad),'model':_0x16b6cc});_0x2931c8[_0x15890a(0x52a)](_0x44ed25,_0x5004d8,function(_0x48230c,_0x5bbcf2){const _0x292c3b=_0x15890a;assert[_0x292c3b(0x127)](_0x48230c),assert['ok'](_0x5bbcf2),assert['ok'](_0x57ed0c[_0x292c3b(0x99c)](_0x5bbcf2[_0x292c3b(0x5ad)],_0x16b6cc)),assert[_0x292c3b(0xcbc)](_0x5bbcf2['_creator']['name'],_0x57ed0c[_0x292c3b(0xc5e)]),_0x57ed0c['voiOq'](_0x4db472);});});}),_0x24a2f1['jGDrF'](describe,_0x24a2f1['GIjbc'],function(){const _0x5da27a=_0x27bf05;_0x24a2f1['ocgcv'](describe,_0x24a2f1[_0x5da27a(0x6fb)],function(){const _0x2be06a=_0x5da27a,_0x4d2638={'GeXfL':_0x2be06a(0xb8b),'uLKGm':'User'};it('works',function(_0x32f706){const _0x186a32=_0x2be06a,_0x29de9f={'rajCH':_0x186a32(0x170),'OItwb':function(_0x449804,_0x2b1e6a){return _0x449804(_0x2b1e6a);},'PCTaV':_0x186a32(0x5ad),'xUcfC':_0x4d2638[_0x186a32(0x53d)],'PMZec':_0x4d2638[_0x186a32(0x456)]};_0x27d0e4[_0x186a32(0x530)](/User/);const _0x53c4b8=_0x27d0e4[_0x186a32(0x807)](_0x4d2638[_0x186a32(0x456)],_0x1e7a32);_0x2931c8[_0x186a32(0x770)](_0x2605e9[_0x186a32(0x534)],function(_0x17939a,_0x501320){const _0x122e53=_0x186a32,_0x299c7a={'dzdyF':_0x29de9f[_0x122e53(0x774)],'mEsks':function(_0x325d0c,_0xd37423){const _0x2cab4e=_0x122e53;return _0x29de9f[_0x2cab4e(0xa1c)](_0x325d0c,_0xd37423);},'fZnHh':_0x29de9f['PCTaV'],'FNrjk':'User'};assert[_0x122e53(0x127)](_0x17939a),_0x2931c8[_0x122e53(0x52a)](_0x501320,[{'path':_0x122e53(0x5ad),'model':_0x122e53(0x11f)},{'path':_0x29de9f[_0x122e53(0xced)],'model':_0x29de9f[_0x122e53(0x911)]}],function(_0x582e03,_0x4db57c){const _0x323e08=_0x122e53,_0x42a366={'tkqcR':_0x323e08(0x9e4),'JEaKZ':function(_0x49c1ba,_0x3fdc9b){return _0x49c1ba(_0x3fdc9b);},'QJmul':'Phoenix','CXkoc':function(_0x58271d,_0x52977d){return _0x58271d(_0x52977d);},'dQHCo':_0x323e08(0xb8b)};assert[_0x323e08(0x127)](_0x582e03),assert['ok'](_0x4db57c),assert['ok'](_0x4db57c[_0x323e08(0x5ad)]instanceof _0x53c4b8),assert[_0x323e08(0xcbc)](_0x299c7a[_0x323e08(0x8f8)],_0x4db57c[_0x323e08(0x5ad)][_0x323e08(0x8a8)]),assert[_0x323e08(0xcbc)](_0x4db57c[_0x323e08(0xb8b)][_0x323e08(0x2a2)],0x2),assert[_0x323e08(0xcbc)](_0x4db57c[_0x323e08(0xb8b)][0x0][_0x323e08(0x8a8)],_0x8663cf[_0x323e08(0x8a8)]),assert[_0x323e08(0xcbc)](_0x4db57c[_0x323e08(0xb8b)][0x1]['name'],_0x587f62[_0x323e08(0x8a8)]),assert[_0x323e08(0xcbc)](String(_0x4db57c[_0x323e08(0x5ad)][_0x323e08(0x534)]),_0x299c7a[_0x323e08(0xa61)](String,_0x4db57c[_0x323e08(0x118)](_0x299c7a[_0x323e08(0xad4)]))),assert['ok'](Array[_0x323e08(0x809)](_0x4db57c[_0x323e08(0x118)](_0x323e08(0xb8b)))),_0x2931c8['populate'](_0x501320,[{'path':_0x299c7a['fZnHh'],'model':_0x323e08(0x11f)},{'path':_0x323e08(0xb8b),'model':_0x299c7a[_0x323e08(0xb2b)]}],function(_0x5ccd03,_0x4e6883){const _0x131078=_0x323e08,_0x350f9c=_0x42a366[_0x131078(0xb1d)][_0x131078(0x3a7)]('|');let _0x983a38=0x0;while(!![]){switch(_0x350f9c[_0x983a38++]){case'0':assert['ok'](_0x4e6883[_0x131078(0x5ad)]instanceof _0x53c4b8);continue;case'1':assert[_0x131078(0xcbc)](String(_0x4e6883[_0x131078(0xb8b)][0x0]['_id']),_0x42a366[_0x131078(0xd2d)](String,_0x4e6883[_0x131078(0x118)](_0x131078(0xb8b))[0x0]));continue;case'2':_0x32f706();continue;case'3':assert['ok'](_0x4e6883);continue;case'4':assert[_0x131078(0xcbc)](_0x4e6883[_0x131078(0x5ad)][_0x131078(0x8a8)],_0x42a366['QJmul']);continue;case'5':assert[_0x131078(0x127)](_0x5ccd03);continue;case'6':assert[_0x131078(0xcbc)](_0x4e6883[_0x131078(0xb8b)]['length'],0x2);continue;case'7':assert[_0x131078(0xcbc)](_0x4e6883[_0x131078(0xb8b)][0x0]['name'],_0x8663cf['name']);continue;case'8':assert[_0x131078(0xcbc)](_0x4e6883[_0x131078(0xb8b)][0x1][_0x131078(0x8a8)],_0x587f62['name']);continue;case'9':assert[_0x131078(0xcbc)](_0x42a366[_0x131078(0xd2d)](String,_0x4e6883[_0x131078(0xb8b)][0x1][_0x131078(0x534)]),_0x42a366[_0x131078(0xbf2)](String,_0x4e6883['populated'](_0x42a366[_0x131078(0xa32)])[0x1]));continue;case'10':assert['ok'](Array[_0x131078(0x809)](_0x4e6883[_0x131078(0x118)](_0x42a366[_0x131078(0xa32)])));continue;}break;}});});});});}),_0x24a2f1[_0x5da27a(0x717)](describe,_0x5da27a(0x7d8),function(){const _0x11be04=_0x5da27a,_0x47ab60={'tAzZs':_0x2f35cc['XyPqO'],'vEtqe':function(_0x280db1){return _0x2f35cc['yReTC'](_0x280db1);},'ksCEW':_0x11be04(0x11f),'aZgzQ':_0x2f35cc[_0x11be04(0xbeb)],'eqiTp':_0x11be04(0xb8b),'QosaU':function(_0x40a850){return _0x40a850();}};it(_0x11be04(0x8cd),function(_0x4e8501){const _0x4c7463=_0x11be04,_0x463572={'ymKqg':_0x4c7463(0xaf4)};if(_0x4c7463(0x696)==='FUnBt'){_0x27d0e4[_0x4c7463(0x530)](/User/);const _0x4165b6=_0x27d0e4['model']('User',_0x1e7a32);_0x2931c8[_0x4c7463(0x770)](_0x2605e9['_id'],function(_0x95d641,_0xa910bf){const _0x244fdb=_0x4c7463,_0x8087a3={'wtVUX':_0x244fdb(0x8a8),'tmxXH':'XGSEV','LjQox':function(_0x49c1fa,_0x24aad9){return _0x49c1fa(_0x24aad9);},'fjwzF':function(_0x578796,_0x4cafae){return _0x578796(_0x4cafae);},'ejlVh':_0x47ab60[_0x244fdb(0x3a9)],'ooiWz':function(_0x2a7ede){const _0x287ebf=_0x244fdb;return _0x47ab60[_0x287ebf(0x974)](_0x2a7ede);},'rbTWt':_0x244fdb(0xb8b),'epyXP':function(_0x387da0,_0x550af9){return _0x387da0(_0x550af9);},'KRCKp':_0x244fdb(0x5ad),'vuadX':_0x47ab60[_0x244fdb(0x49a)]};assert['ifError'](_0x95d641),_0x2931c8[_0x244fdb(0x52a)](_0xa910bf,[{'path':_0x47ab60[_0x244fdb(0x523)],'model':_0x47ab60[_0x244fdb(0x49a)]},{'path':_0x47ab60[_0x244fdb(0x7cf)],'model':_0x244fdb(0x11f)}],function(_0x161e00,_0x8e6a97){const _0x504653=_0x244fdb;assert[_0x504653(0x127)](_0x161e00),assert['ok'](_0x8e6a97),assert['ok'](_0x8e6a97[_0x504653(0x5ad)]instanceof _0x4165b6),assert[_0x504653(0xcbc)](_0x8e6a97[_0x504653(0x5ad)][_0x504653(0x8a8)],'Phoenix'),assert[_0x504653(0xcbc)](_0x8e6a97['fans'][_0x504653(0x2a2)],0x2),assert[_0x504653(0xcbc)](_0x8e6a97['fans'][0x0]['name'],_0x8663cf[_0x504653(0x8a8)]),assert[_0x504653(0xcbc)](_0x8e6a97[_0x504653(0xb8b)][0x1][_0x504653(0x8a8)],_0x587f62[_0x504653(0x8a8)]),assert['equal'](_0x8087a3[_0x504653(0x754)](String,_0x8e6a97[_0x504653(0x5ad)][_0x504653(0x534)]),_0x8087a3[_0x504653(0x8c0)](String,_0x8e6a97['populated'](_0x8087a3[_0x504653(0xd72)]))),assert['ok'](Array['isArray'](_0x8e6a97['populated'](_0x504653(0xb8b)))),_0xa910bf[_0x504653(0x94d)]('_creator'),_0xa910bf['markModified'](_0x504653(0xb8b)),_0x2931c8[_0x504653(0x52a)](_0xa910bf,[{'path':_0x504653(0x5ad),'model':_0x8087a3[_0x504653(0x54a)]},{'path':_0x504653(0xb8b),'model':_0x504653(0x11f)}],function(_0xbd2ef7,_0x2ccf81){const _0x93706c=_0x504653,_0x33ef3c={'NFlvy':_0x8087a3[_0x93706c(0xc3e)]};if(_0x93706c(0x894)!==_0x8087a3['tmxXH']){const _0x40356e=_0x93706c(0x431)[_0x93706c(0x3a7)]('|');let _0xa265c2=0x0;while(!![]){switch(_0x40356e[_0xa265c2++]){case'0':assert[_0x93706c(0xcbc)](_0x2ccf81[_0x93706c(0xb8b)][_0x93706c(0x2a2)],0x2);continue;case'1':assert[_0x93706c(0xcbc)](_0x8087a3[_0x93706c(0x337)](String,_0x2ccf81[_0x93706c(0xb8b)][0x1]['_id']),String(_0x2ccf81[_0x93706c(0x118)]('fans')[0x1]));continue;case'2':assert['ok'](_0x2ccf81);continue;case'3':assert['equal'](String(_0x2ccf81['fans'][0x0][_0x93706c(0x534)]),_0x8087a3[_0x93706c(0x8c0)](String,_0x2ccf81['populated'](_0x93706c(0xb8b))[0x0]));continue;case'4':assert['equal'](_0x2ccf81[_0x93706c(0x5ad)]['name'],_0x8087a3[_0x93706c(0x14c)]);continue;case'5':assert[_0x93706c(0x127)](_0xbd2ef7);continue;case'6':assert[_0x93706c(0xcbc)](_0x2ccf81[_0x93706c(0xb8b)][0x1]['name'],_0x587f62[_0x93706c(0x8a8)]);continue;case'7':_0x8087a3[_0x93706c(0xd2f)](_0x4e8501);continue;case'8':assert['equal'](_0x2ccf81[_0x93706c(0xb8b)][0x0][_0x93706c(0x8a8)],_0x8663cf[_0x93706c(0x8a8)]);continue;case'9':assert['ok'](_0x2ccf81[_0x93706c(0x5ad)]instanceof _0x4165b6);continue;case'10':assert['ok'](Array[_0x93706c(0x809)](_0x2ccf81[_0x93706c(0x118)](_0x8087a3[_0x93706c(0xa7a)])));continue;}break;}}else return _0x460542[_0x93706c(0xc77)]()[_0x93706c(0x52a)]({'path':'detail','select':_0x33ef3c[_0x93706c(0x68a)]});});});});}else _0x3d4676[_0x4c7463(0x127)](_0x495a79),_0x3dece6[_0x4c7463(0xcbc)](_0x347c3b['comments'][_0x4c7463(0x2a2)],0x2),_0x3fa7a6[_0x4c7463(0x83b)][_0x4c7463(0x494)](function(_0x468ab9){const _0x353ef7=_0x4c7463;_0x38ba84['ok'](!(_0x353ef7(0x534)in _0x468ab9)),_0x4b0a48['ok'](_0x468ab9[_0x353ef7(0x467)]['length']),_0x2966f9['equal'](typeof _0x468ab9[_0x353ef7(0x725)],_0x463572['ymKqg']);}),_0x47ab60[_0x4c7463(0x49d)](_0x124f2f);});});}),describe(_0x27bf05(0xb42),function(){const _0x54f65c=_0x27bf05,_0x3df35e={'YNgdN':_0x54f65c(0xaff),'KWTnM':'hello','obMGm':function(_0x32c32f){const _0x239fef=_0x54f65c;return _0x2f35cc[_0x239fef(0x934)](_0x32c32f);},'xzyjg':_0x2f35cc['DUqun'],'Ljmxm':_0x2f35cc[_0x54f65c(0xa42)],'qKNBz':_0x2f35cc['eABfE'],'VcgIL':_0x2f35cc[_0x54f65c(0x5e7)]};_0x2f35cc[_0x54f65c(0xba0)](it,_0x54f65c(0x8cd),function(_0x14b3c4){const _0x14dce3=_0x54f65c,_0x2c42ec={'lKFnr':function(_0x1500ea){return _0x1500ea();},'gTccO':function(_0x302170,_0x2a6a18){return _0x302170 instanceof _0x2a6a18;},'vwguN':function(_0x1b091c,_0x7c36d7){return _0x2f35cc['NctEk'](_0x1b091c,_0x7c36d7);},'WcoZM':_0x2f35cc[_0x14dce3(0x1f6)],'LVSAH':'mOSWc'};if(_0x2f35cc[_0x14dce3(0x95a)](_0x2f35cc[_0x14dce3(0x796)],'XMlyI')){const _0xf2fa66={'RzhCa':_0x3df35e['YNgdN'],'dsliy':_0x3df35e[_0x14dce3(0x156)],'XXaFs':function(_0x2059fd){const _0x2c7457=_0x14dce3;return _0x3df35e[_0x2c7457(0x529)](_0x2059fd);},'ihRcD':_0x14dce3(0xb8b),'XhRAy':_0x14dce3(0x8a8),'ROJlD':_0x3df35e[_0x14dce3(0x225)],'CWVlk':_0x3df35e[_0x14dce3(0x67a)],'QiUBp':_0x3df35e['qKNBz']};_0x4adaff[_0x14dce3(0x127)](_0x2d532c),_0x51dfdb[_0x14dce3(0x46d)]({'users':[_0x21f07c],'fans':[_0xd661e8],'comments':[{'_creator':_0x3323cb,'content':_0x14dce3(0x246)},{'_creator':_0x12ae8d,'content':_0x3df35e[_0x14dce3(0x753)]}]},{'users':[_0x258d98],'fans':[_0x5197a2],'comments':[{'_creator':_0x1c74d9,'content':_0x3df35e['KWTnM']},{'_creator':_0x352b78,'content':_0x3df35e['VcgIL']}]},function(_0x202558,_0x9a3de7,_0x4ca28d){const _0x2f82a3=_0x14dce3;_0x463ceb[_0x2f82a3(0x127)](_0x202558),_0x2a0c91[_0x2f82a3(0x30b)](_0x2f82a3(0x534))['in']([_0x9a3de7,_0x4ca28d])[_0x2f82a3(0x52a)](_0xf2fa66[_0x2f82a3(0x164)],_0xf2fa66['XhRAy'],{'gender':_0x2f82a3(0x887)})[_0x2f82a3(0x52a)](_0xf2fa66['ROJlD'],_0xf2fa66[_0x2f82a3(0x414)],{'gender':_0xf2fa66[_0x2f82a3(0x220)]})[_0x2f82a3(0x52a)]('comments._creator',_0xf2fa66[_0x2f82a3(0x982)],{'name':null})['exec'](function(_0x2b7ce0,_0xf4c986){const _0x598978=_0x2f82a3;_0x5e4baa['ifError'](_0x2b7ce0),_0x35bd43['ok'](_0xf4c986),_0x37479a[_0x598978(0xcbc)](_0xf4c986[_0x598978(0x2a2)],0x2);const _0x428a73=_0xf4c986[0x0],_0x1d4fad=_0xf4c986[0x1];_0x11f7ad[_0x598978(0x672)](_0x428a73[_0x598978(0xb8b)][_0x598978(0x2a2)],0x0),_0x3ccbfd['strictEqual'](_0x1d4fad[_0x598978(0xb8b)][_0x598978(0x2a2)],0x1),_0x1764da[_0x598978(0xcbc)](_0x1d4fad[_0x598978(0xb8b)][0x0][_0x598978(0x8a8)],_0x598978(0x684)),_0x2fdbf9[_0x598978(0xcbc)](_0x1d4fad[_0x598978(0xb8b)][0x0]['isInit'](_0x598978(0x978)),![]),_0x3a9297[_0x598978(0xcbc)](_0x1d4fad['fans'][0x0][_0x598978(0x346)](_0x598978(0x3f3)),![]),_0x5cd0a2['equal'](_0x428a73[_0x598978(0x83b)][_0x598978(0x2a2)],0x2),_0xc70f7d[_0x598978(0xcbc)](_0x1d4fad[_0x598978(0x83b)][_0x598978(0x2a2)],0x2),_0x2bd8b2['ok'](_0x428a73[_0x598978(0x83b)][0x0][_0x598978(0x5ad)][_0x598978(0x978)]),_0x7bdf99['ok'](!_0x1d4fad['comments'][0x0][_0x598978(0x5ad)]),_0x4798ed[_0x598978(0xcbc)](_0x428a73[_0x598978(0x83b)][0x0][_0x598978(0x5ad)]['email'],_0x598978(0x96f)),_0x17c70a[_0x598978(0xcbc)](_0x1d4fad['comments'][0x1]['_creator'][_0x598978(0x978)],_0x598978(0x96f)),_0x3c47c2[_0x598978(0xcbc)](_0x428a73[_0x598978(0x83b)][0x0][_0x598978(0x5ad)][_0x598978(0x346)](_0x598978(0x8a8)),![]),_0x3ebc34[_0x598978(0xcbc)](_0x1d4fad['comments'][0x1][_0x598978(0x5ad)][_0x598978(0x346)](_0x598978(0x8a8)),![]),_0x36d534['equal'](_0x428a73[_0x598978(0x83b)][0x0][_0x598978(0x5e6)],_0x598978(0x246)),_0xd708d9['equal'](_0x1d4fad['comments'][0x1][_0x598978(0x5e6)],_0x598978(0x3c1)),_0x7ff8bb['ok'](!_0x428a73[_0x598978(0x83b)][0x1][_0x598978(0x5ad)]),_0x3c3e83['ok'](!_0x1d4fad[_0x598978(0x83b)][0x0][_0x598978(0x5ad)]),_0x5dcc59[_0x598978(0xcbc)](_0x428a73[_0x598978(0x83b)][0x1][_0x598978(0x5e6)],_0xf2fa66[_0x598978(0xc73)]),_0x82d91d[_0x598978(0xcbc)](_0x1d4fad[_0x598978(0x83b)][0x0][_0x598978(0x5e6)],_0xf2fa66[_0x598978(0x38f)]),_0xf2fa66['XXaFs'](_0x54c782);});});}else _0x27d0e4[_0x14dce3(0x807)](_0x14dce3(0x11f),_0x1e7a32),_0x2931c8['findById'](_0x2605e9[_0x14dce3(0x534)],function(_0x5969c4,_0x508936){const _0x362fa9=_0x14dce3,_0x13edfe={'sSfBR':function(_0x7f7ffe){return _0x2c42ec['lKFnr'](_0x7f7ffe);},'yqWBK':function(_0x1b3325,_0xe36d1e){const _0x11b217=_0x2d45;return _0x2c42ec[_0x11b217(0x39e)](_0x1b3325,_0xe36d1e);},'zHfLj':function(_0x183990){return _0x183990();},'vWLaK':_0x362fa9(0x249),'vynPX':_0x362fa9(0x5ad),'OkRFB':_0x362fa9(0x11f)};_0x2c42ec[_0x362fa9(0x1ab)](_0x2c42ec[_0x362fa9(0x566)],_0x2c42ec[_0x362fa9(0xb5c)])?(_0x446891[_0x362fa9(0x127)](_0x184ea3),_0x13edfe[_0x362fa9(0xad6)](_0x828510)):(assert[_0x362fa9(0x127)](_0x5969c4),_0x2931c8[_0x362fa9(0x770)](_0x58a562[_0x362fa9(0x534)],function(_0x7b809d,_0x3ab8b8){const _0x4ee11f=_0x362fa9,_0x4602ef={'WiYlg':function(_0x5ba2f4,_0x3e26f3){return _0x5ba2f4 instanceof _0x3e26f3;},'iKqbx':_0x4ee11f(0x170),'oYHpN':function(_0x23784a,_0x4bba51){const _0x2ab8db=_0x4ee11f;return _0x13edfe[_0x2ab8db(0x1dd)](_0x23784a,_0x4bba51);},'MhVMm':function(_0x4886a7){const _0x58bf68=_0x4ee11f;return _0x13edfe[_0x58bf68(0xb97)](_0x4886a7);}};if(_0x13edfe[_0x4ee11f(0x4b0)]===_0x13edfe[_0x4ee11f(0x4b0)]){assert[_0x4ee11f(0x127)](_0x7b809d);const _0x54f04e=utils['populate']({'path':_0x13edfe['vynPX'],'model':_0x13edfe[_0x4ee11f(0x9d0)]});_0x2931c8[_0x4ee11f(0x52a)]([_0x508936,_0x3ab8b8],_0x54f04e,function(_0x4fa5d9,_0x56b6b0){const _0x37c2de=_0x4ee11f;assert[_0x37c2de(0x127)](_0x4fa5d9),assert['ok'](_0x56b6b0),assert[_0x37c2de(0xcbc)](_0x56b6b0[_0x37c2de(0x2a2)],0x2);const _0x17bd70=_0x56b6b0[0x0],_0x2c0d26=_0x56b6b0[0x1];assert['ok'](_0x4602ef[_0x37c2de(0xd4c)](_0x17bd70['_creator'],_0x16b6cc)),assert[_0x37c2de(0xcbc)](_0x17bd70[_0x37c2de(0x5ad)][_0x37c2de(0x8a8)],_0x4602ef['iKqbx']),assert['ok'](_0x4602ef[_0x37c2de(0xa8d)](_0x2c0d26[_0x37c2de(0x5ad)],_0x16b6cc)),assert[_0x37c2de(0xcbc)](_0x2c0d26[_0x37c2de(0x5ad)][_0x37c2de(0x8a8)],_0x37c2de(0xcac)),_0x4602ef[_0x37c2de(0xbdb)](_0x14b3c4);});}else{_0x217403[_0x4ee11f(0x127)](_0x11bad2);const _0x2b04c4={'path':'bs','populate':{'path':'cs'}};_0x2ebc2f['findById'](_0x5c633c)[_0x4ee11f(0x52a)](_0x2b04c4)['exec'](function(_0x4c7bca,_0x4e1977){const _0x105a4b=_0x4ee11f,_0x424ca9=_0x105a4b(0x615)[_0x105a4b(0x3a7)]('|');let _0xa812ce=0x0;while(!![]){switch(_0x424ca9[_0xa812ce++]){case'0':_0x2a7c0e();continue;case'1':_0x5cc9cb[_0x105a4b(0x127)](_0x4c7bca);continue;case'2':_0x143996['equal'](_0x4e1977['bs'][0x0]['cs'][_0x105a4b(0x2a2)],0x1);continue;case'3':_0xe3fab5[_0x105a4b(0xcbc)](_0x4e1977['bs'][0x0]['name'],'B1');continue;case'4':_0x56b739[_0x105a4b(0xcbc)](_0x4e1977['bs'][0x0]['cs'][0x0][_0x105a4b(0x8a8)],'C1');continue;case'5':_0x5c62ba['equal'](_0x4e1977['bs'][_0x105a4b(0x2a2)],0x1);continue;}break;}});}}));});});});}),_0x24a2f1[_0x4ef2f4(0xd44)](describe,_0x4ef2f4(0xcb3),function(){const _0x436798=_0x4ef2f4,_0x1a0930={'iXKIw':'User','NAzZy':_0x436798(0xbfc),'LVZgR':_0x24a2f1[_0x436798(0xccb)],'Hqijf':_0x24a2f1[_0x436798(0xa6b)],'CqAMA':_0x436798(0x545),'yuwpi':_0x436798(0x684),'MdGoi':function(_0x432845){return _0x432845();},'cHDEt':_0x24a2f1['fttFG'],'ZzavX':_0x436798(0xaf5)};_0x24a2f1['QnVAV'](it,_0x24a2f1[_0x436798(0x561)],async function(){const _0x1febd2=_0x436798,_0x48d4cc=_0x27d0e4['model'](_0x1febd2(0x63e),_0x4088a5),_0x349e26=_0x27d0e4['model'](_0x1a0930[_0x1febd2(0xf5)],_0x1e7a32),_0x1f5bbb=await _0x349e26[_0x1febd2(0x46d)]({'name':_0x1a0930[_0x1febd2(0x3b2)],'email':_0x1a0930[_0x1febd2(0x5d8)]}),_0x21edd6=await _0x48d4cc[_0x1febd2(0x46d)]({'title':_0x1a0930[_0x1febd2(0x71d)],'_creator':_0x1f5bbb}),_0x54c35a=await _0x48d4cc[_0x1febd2(0x770)](_0x21edd6[_0x1febd2(0x534)])[_0x1febd2(0x2ac)]()[_0x1febd2(0x52a)]('_creator');assert['ok'](utils[_0x1febd2(0x272)](_0x54c35a[_0x1febd2(0x5ad)])),assert['equal'](_0x54c35a[_0x1febd2(0x5ad)]['name'],_0x1a0930[_0x1febd2(0x3b2)]),assert[_0x1febd2(0xcbc)](_0x54c35a[_0x1febd2(0x5ad)][_0x1febd2(0x978)],'rauchg@gmail.com'),assert[_0x1febd2(0xcbc)](typeof _0x54c35a[_0x1febd2(0x5ad)]['update'],_0x1a0930['CqAMA']);}),_0x24a2f1[_0x436798(0x511)](it,_0x24a2f1[_0x436798(0x988)],function(_0x594bf0){const _0x3b5d1f=_0x436798,_0x7e5423={'zFbkt':_0x3b5d1f(0xb8b)};if(_0x24a2f1[_0x3b5d1f(0x8e9)]('OlRCO',_0x3b5d1f(0x366))){const _0x1c07f5=_0x27d0e4['model'](_0x24a2f1[_0x3b5d1f(0x826)],_0x4088a5),_0x24fb19=_0x27d0e4['model']('User',_0x1e7a32);_0x24fb19[_0x3b5d1f(0x46d)]({'name':_0x24a2f1['fetNz'],'email':_0x24a2f1[_0x3b5d1f(0xc8d)]},{'name':_0x24a2f1['tMbtQ'],'email':_0x3b5d1f(0x660)},function(_0x31c1cd,_0x3178cc,_0x3ca2d7){const _0x3f36a1=_0x3b5d1f,_0x5e7aa2={'XUFme':_0x3f36a1(0x7e1),'kHZGl':_0x3f36a1(0x96f),'mrFxO':_0x3f36a1(0x545),'auWGR':_0x1a0930['yuwpi'],'BwtnA':'Fan\x201','YfEJV':function(_0x596d08){return _0x1a0930['MdGoi'](_0x596d08);}};assert[_0x3f36a1(0x127)](_0x31c1cd),_0x1c07f5[_0x3f36a1(0x46d)]({'title':_0x1a0930[_0x3f36a1(0x5cf)],'fans':[_0x3178cc,_0x3ca2d7]},{'title':_0x1a0930[_0x3f36a1(0xbfb)],'fans':[_0x3ca2d7,_0x3178cc]},function(_0x555b21,_0x19371b,_0x34b1a8){const _0x556ecd=_0x3f36a1;assert[_0x556ecd(0x127)](_0x555b21),_0x1c07f5['find']({'_id':{'$in':[_0x19371b[_0x556ecd(0x534)],_0x34b1a8[_0x556ecd(0x534)]]}})['populate'](_0x7e5423[_0x556ecd(0x53f)])['lean']()[_0x556ecd(0x37d)](function(_0x5cfcff,_0x3e2e71){const _0x3cb3b0=_0x556ecd;if('LVonR'!==_0x5e7aa2[_0x3cb3b0(0x3a3)])assert[_0x3cb3b0(0x127)](_0x5cfcff),assert[_0x3cb3b0(0xcbc)](_0x3e2e71[0x0][_0x3cb3b0(0xb8b)][0x0][_0x3cb3b0(0x8a8)],_0x3cb3b0(0xb43)),assert['equal'](_0x3e2e71[0x0][_0x3cb3b0(0xb8b)][0x0][_0x3cb3b0(0x978)],_0x5e7aa2[_0x3cb3b0(0x1fc)]),assert[_0x3cb3b0(0xcbc)](typeof _0x3e2e71[0x0][_0x3cb3b0(0xb8b)][0x0][_0x3cb3b0(0x584)],_0x5e7aa2[_0x3cb3b0(0x55a)]),assert[_0x3cb3b0(0xcbc)](_0x3e2e71[0x0][_0x3cb3b0(0xb8b)][0x1][_0x3cb3b0(0x8a8)],_0x3cb3b0(0x684)),assert[_0x3cb3b0(0xcbc)](_0x3e2e71[0x0][_0x3cb3b0(0xb8b)][0x1]['email'],'fan2@learnboost.com'),assert[_0x3cb3b0(0xcbc)](typeof _0x3e2e71[0x0][_0x3cb3b0(0xb8b)][0x1][_0x3cb3b0(0x584)],'undefined'),assert['equal'](_0x3e2e71[0x1]['fans'][0x0][_0x3cb3b0(0x8a8)],_0x5e7aa2[_0x3cb3b0(0x157)]),assert[_0x3cb3b0(0xcbc)](_0x3e2e71[0x1][_0x3cb3b0(0xb8b)][0x0]['email'],_0x3cb3b0(0x660)),assert[_0x3cb3b0(0xcbc)](typeof _0x3e2e71[0x1][_0x3cb3b0(0xb8b)][0x0][_0x3cb3b0(0x584)],_0x5e7aa2[_0x3cb3b0(0x55a)]),assert['equal'](_0x3e2e71[0x1]['fans'][0x1][_0x3cb3b0(0x8a8)],_0x5e7aa2[_0x3cb3b0(0x137)]),assert[_0x3cb3b0(0xcbc)](_0x3e2e71[0x1]['fans'][0x1][_0x3cb3b0(0x978)],'fan1@learnboost.com'),assert[_0x3cb3b0(0xcbc)](typeof _0x3e2e71[0x1]['fans'][0x1]['update'],_0x3cb3b0(0x545)),_0x5e7aa2['YfEJV'](_0x594bf0);else{const _0xe3f0a3={'YHnyn':function(_0x59ef62){return _0x59ef62();},'TtYhx':_0x3cb3b0(0x978)},_0xb82ede=_0xb76e11[_0x3cb3b0(0x807)](_0x3cb3b0(0x63e),_0x2c64d6);_0x47a3c5[_0x3cb3b0(0x807)]('User',_0x246e8a),_0xb82ede['create']({'title':_0x3cb3b0(0x1a5),'comments':[]},function(_0x9a1235,_0x4ec43f){const _0x542c09=_0x3cb3b0;_0x380768[_0x542c09(0x127)](_0x9a1235),_0xb82ede['findById'](_0x4ec43f[_0x542c09(0x534)])[_0x542c09(0x52a)](_0x542c09(0x4bd),_0xe3f0a3[_0x542c09(0x88a)])[_0x542c09(0x37d)](function(_0x47aec1,_0x4c0f7f){const _0x529514=_0x542c09;_0x2374be[_0x529514(0x127)](_0x47aec1),_0x5f392d[_0x529514(0xcbc)](_0x4c0f7f['id'],_0x4ec43f['id']),_0xe3f0a3[_0x529514(0x47e)](_0x4c5c0a);});});}});});});}else{const _0x1598c5=this['_toJSON']();return _0x1598c5[_0x3b5d1f(0x664)]=!![],_0x1598c5;}});}),describe('records\x20paths\x20and\x20_ids\x20used\x20in\x20population',function(){const _0x1cfffb=_0x4ef2f4;let _0x23ea07,_0x51b3e9,_0x37a057,_0x561bc9,_0x16ac4c;beforeEach(async function(){const _0x4de170=_0x2d45;if(_0x24a2f1[_0x4de170(0x662)]!==_0x24a2f1[_0x4de170(0x662)])_0x58d905['ok'](![]);else{_0x23ea07=_0x27d0e4[_0x4de170(0x807)](_0x24a2f1['YBPRy'],_0x4088a5),_0x51b3e9=_0x27d0e4[_0x4de170(0x807)](_0x24a2f1[_0x4de170(0x840)],_0x1e7a32);const [_0x3be3c8,_0x423e14]=await _0x51b3e9[_0x4de170(0x46d)]([{'name':'Fan\x201','email':_0x4de170(0x96f)},{'name':_0x4de170(0x684),'email':_0x4de170(0x660)}]);_0x37a057=_0x3be3c8,_0x561bc9=_0x423e14;const _0x229184=await _0x23ea07[_0x4de170(0x46d)]({'title':'Woot','fans':[_0x3be3c8,_0x423e14],'_creator':_0x3be3c8},{'title':_0x4de170(0xaf5),'fans':[_0x423e14,_0x3be3c8],'_creator':_0x423e14});_0x16ac4c=_0x229184;}}),_0x24a2f1[_0x1cfffb(0x432)](it,_0x1cfffb(0x1f0),async function(){const _0x40eecf=_0x1cfffb,_0x12896f=await _0x23ea07[_0x40eecf(0x770)](_0x16ac4c)[_0x40eecf(0x52a)](_0x24a2f1[_0x40eecf(0x76c)])[_0x40eecf(0x37d)]();assert['ok'](Array['isArray'](_0x12896f[_0x40eecf(0x118)](_0x40eecf(0xb8b)))),assert[_0x40eecf(0xcbc)](_0x12896f['populated']('fans')[_0x40eecf(0x2a2)],0x2),assert['equal'](_0x12896f[_0x40eecf(0x118)](_0x40eecf(0xb8b))[0x0],_0x24a2f1[_0x40eecf(0xa3f)](String,_0x37a057[_0x40eecf(0x534)])),assert[_0x40eecf(0xcbc)](_0x12896f[_0x40eecf(0x118)]('fans')[0x1],_0x24a2f1['tLguq'](String,_0x561bc9['_id'])),assert[_0x40eecf(0xcbc)](_0x12896f[_0x40eecf(0x118)](_0x40eecf(0x5ad)),_0x24a2f1['gyBDN'](String,_0x37a057[_0x40eecf(0x534)]));}),it(_0x24a2f1['uNDSG'],async function(){const _0x3637dc=_0x1cfffb,_0x34cee3=await _0x23ea07[_0x3637dc(0xc77)]()['sort'](_0x24a2f1[_0x3637dc(0xc6)])[_0x3637dc(0x52a)](_0x24a2f1[_0x3637dc(0x76c)])[_0x3637dc(0x37d)]();assert[_0x3637dc(0xcbc)](_0x34cee3[_0x3637dc(0x2a2)],0x2);const _0x49ed43=_0x34cee3[0x0],_0x4feda9=_0x34cee3[0x1];assert['ok'](Array[_0x3637dc(0x809)](_0x49ed43[_0x3637dc(0x118)](_0x24a2f1[_0x3637dc(0x910)]))),assert[_0x3637dc(0xcbc)](_0x49ed43[_0x3637dc(0x118)](_0x3637dc(0xb8b))[_0x3637dc(0x2a2)],0x2),assert[_0x3637dc(0xcbc)](_0x49ed43[_0x3637dc(0x118)](_0x24a2f1[_0x3637dc(0x910)])[0x0],_0x24a2f1[_0x3637dc(0x264)](String,_0x37a057[_0x3637dc(0x534)])),assert[_0x3637dc(0xcbc)](_0x49ed43['populated'](_0x3637dc(0xb8b))[0x1],_0x24a2f1[_0x3637dc(0xa3f)](String,_0x561bc9[_0x3637dc(0x534)])),assert[_0x3637dc(0xcbc)](_0x49ed43['populated'](_0x3637dc(0x5ad)),_0x24a2f1[_0x3637dc(0x888)](String,_0x37a057['_id'])),assert['ok'](Array[_0x3637dc(0x809)](_0x4feda9[_0x3637dc(0x118)](_0x3637dc(0xb8b)))),assert[_0x3637dc(0xcbc)](_0x4feda9[_0x3637dc(0x118)](_0x24a2f1[_0x3637dc(0x910)])['length'],0x2),assert['equal'](_0x4feda9['populated'](_0x24a2f1[_0x3637dc(0x910)])[0x0],String(_0x561bc9[_0x3637dc(0x534)])),assert[_0x3637dc(0xcbc)](_0x4feda9[_0x3637dc(0x118)](_0x3637dc(0xb8b))[0x1],String(_0x37a057['_id'])),assert[_0x3637dc(0xcbc)](_0x4feda9[_0x3637dc(0x118)](_0x24a2f1[_0x3637dc(0xc60)]),String(_0x561bc9[_0x3637dc(0x534)]));});}),describe(_0x4ef2f4(0xac8),function(){const _0x1a6309=_0x4ef2f4,_0x24bd44={'QebtF':_0x24a2f1[_0x1a6309(0x712)],'bAyEA':_0x24a2f1[_0x1a6309(0x71f)],'IpYcc':function(_0x3c87ff,_0x5ad39c){const _0x18d527=_0x1a6309;return _0x24a2f1[_0x18d527(0xa71)](_0x3c87ff,_0x5ad39c);},'GshGZ':function(_0x1245b1,_0x2aea3d,_0x4d553f){return _0x1245b1(_0x2aea3d,_0x4d553f);},'BbtwT':_0x24a2f1['LxyQt'],'KljRW':_0x1a6309(0x890),'MZAFy':_0x24a2f1[_0x1a6309(0xd2b)],'UhdOZ':_0x24a2f1['xWshO'],'okVNa':_0x24a2f1[_0x1a6309(0xd42)],'kgdvN':function(_0x3d440c){return _0x24a2f1['guaeo'](_0x3d440c);},'XQfTk':_0x24a2f1[_0x1a6309(0x490)],'QFuyB':_0x24a2f1[_0x1a6309(0x841)],'ypBgJ':_0x24a2f1[_0x1a6309(0x179)],'lwndd':_0x24a2f1[_0x1a6309(0x87d)],'agCRy':'fans','YAHOL':function(_0x3f1184,_0x33a76a){const _0x39926e=_0x1a6309;return _0x24a2f1[_0x39926e(0x82c)](_0x3f1184,_0x33a76a);},'AXrqi':'aWVbd'};let _0x5b467e,_0x2b58da,_0x5746cb,_0x5ad0ea;_0x24a2f1[_0x1a6309(0x542)](beforeEach,async function(){const _0x5e787c=_0x1a6309;_0x5b467e=_0x27d0e4[_0x5e787c(0x807)]('Comment',Schema({'body':_0x5e787c(0x87c),'title':String})),_0x27d0e4['deleteModel'](/User/),_0x2b58da=_0x27d0e4[_0x5e787c(0x807)]('User',_0x24a2f1['zyMKy'](Schema,{'name':_0x5e787c(0x87c),'comments':[{'type':Schema['ObjectId'],'ref':_0x5e787c(0x39a)}],'comment':{'type':Schema[_0x5e787c(0x2ef)],'ref':_0x5e787c(0x39a)}}));const [_0x32c329,_0x2001c6]=await _0x5b467e[_0x5e787c(0x46d)]([{'body':'comment\x201','title':'1'},{'body':_0x5e787c(0x582),'title':0x2}]);_0x5746cb=_0x32c329,_0x5ad0ea=_0x2001c6,await _0x2b58da[_0x5e787c(0x46d)]([{'name':'u1','comments':[_0x5746cb,_0x5ad0ea],'comment':_0x5746cb},{'name':'u2','comment':_0x5ad0ea}]);}),describe(_0x1a6309(0x772),function(){const _0x5332ac=_0x1a6309,_0x5ee215={'vmjdM':'comments'};it(_0x5332ac(0x8cd),function(_0x39f86d){const _0x2d407c=_0x5332ac,_0x1a9012={'DVkjZ':_0x24bd44['QebtF'],'vDnjK':_0x24bd44[_0x2d407c(0x74d)],'OOIcD':_0x2d407c(0x83b),'erVnJ':'-_id','kATTq':function(_0x4e81ff,_0x3040d){const _0x5cfc4c=_0x2d407c;return _0x24bd44[_0x5cfc4c(0xbbe)](_0x4e81ff,_0x3040d);},'tHnZT':_0x2d407c(0x531)};_0x2b58da[_0x2d407c(0xc77)]({'name':'u1'})['populate'](_0x2d407c(0x83b),{'_id':0x0})[_0x2d407c(0x37d)](function(_0xc2d391,_0x2a5e5e){const _0x3b1d8b=_0x2d407c,_0x17b4cc={'Tgzyr':_0x3b1d8b(0xaf4)};assert[_0x3b1d8b(0x127)](_0xc2d391);const _0x2e3d27=_0x2a5e5e[0x0];assert['ok'](Array[_0x3b1d8b(0x809)](_0x2e3d27[_0x3b1d8b(0x83b)]),_0x1a9012[_0x3b1d8b(0x3ae)]('comments\x20should\x20be\x20an\x20array:\x20',JSON[_0x3b1d8b(0x196)](_0x2e3d27))),assert['equal'](_0x2e3d27[_0x3b1d8b(0x83b)]['length'],0x2,_0x1a9012[_0x3b1d8b(0x3ae)](_0x1a9012[_0x3b1d8b(0x919)],JSON[_0x3b1d8b(0x196)](_0x2e3d27))),_0x2e3d27[_0x3b1d8b(0x83b)][_0x3b1d8b(0x494)](function(_0x454bf3){const _0x77215e=_0x3b1d8b;assert[_0x77215e(0xcbc)](_0x454bf3[_0x77215e(0x534)],undefined),assert[_0x77215e(0xcbc)](Object[_0x77215e(0x4a8)](_0x454bf3[_0x77215e(0x76e)])['indexOf']('_id'),-0x1),assert['ok'](_0x454bf3[_0x77215e(0x467)][_0x77215e(0x2a2)]),assert[_0x77215e(0xcbc)](typeof _0x454bf3[_0x77215e(0x76e)][_0x77215e(0x725)],_0x17b4cc['Tgzyr']);}),_0x2b58da['findOne']({'name':'u1'})[_0x3b1d8b(0x52a)](_0x1a9012[_0x3b1d8b(0xee)],'title\x20-_id')[_0x3b1d8b(0x37d)](function(_0x377ec1,_0xb6105d){const _0x506049=_0x3b1d8b,_0x182ffd={'ZsNHJ':_0x506049(0x534),'wpVai':_0x506049(0x545),'ZUBVV':_0x506049(0x4dc),'mFhfC':_0x1a9012[_0x506049(0x78d)],'ZnKUa':_0x1a9012['vDnjK'],'ezbOG':_0x506049(0x1ff),'axiXM':function(_0x2eb82f){return _0x2eb82f();}};assert['ifError'](_0x377ec1),assert['equal'](_0xb6105d[_0x506049(0x83b)][_0x506049(0x2a2)],0x2),_0xb6105d[_0x506049(0x83b)][_0x506049(0x494)](function(_0x3caff4){const _0x3b08c4=_0x506049;assert['equal'](_0x3caff4[_0x3b08c4(0x534)],undefined),assert[_0x3b08c4(0xcbc)](Object[_0x3b08c4(0x4a8)](_0x3caff4[_0x3b08c4(0x76e)])['indexOf'](_0x182ffd[_0x3b08c4(0x4d2)]),-0x1),assert['ok'](_0x3caff4[_0x3b08c4(0x132)][_0x3b08c4(0x2a2)]),assert[_0x3b08c4(0xcbc)](_0x3caff4[_0x3b08c4(0x467)],undefined),assert[_0x3b08c4(0xcbc)](typeof _0x3caff4[_0x3b08c4(0x76e)][_0x3b08c4(0x725)],_0x182ffd[_0x3b08c4(0x8c2)]);}),_0x2b58da[_0x506049(0x3dd)]({'name':'u1'})[_0x506049(0x52a)](_0x1a9012[_0x506049(0xee)],_0x1a9012['erVnJ'])[_0x506049(0x37d)](function(_0x4e8734,_0x2923ef){const _0x3f5653=_0x506049,_0x48ff4a={'iyPFc':_0x182ffd[_0x3f5653(0x360)]};if(_0x182ffd[_0x3f5653(0xaf0)]!==_0x182ffd[_0x3f5653(0xb7c)])assert[_0x3f5653(0x127)](_0x4e8734),assert[_0x3f5653(0xcbc)](_0x2923ef[_0x3f5653(0x83b)][_0x3f5653(0x2a2)],0x2),_0x2923ef[_0x3f5653(0x83b)][_0x3f5653(0x494)](function(_0x19a1a7){const _0xd8c03c=_0x3f5653;if(_0xd8c03c(0xb92)===_0xd8c03c(0x63d))_0x4fdc06[_0xd8c03c(0x127)](_0x4d165c),_0x43730f['populate'](_0x48ff4a[_0xd8c03c(0x570)],function(){const _0x2dcb52=_0xd8c03c;_0x1a598d[_0x2dcb52(0x2f6)](),_0x4c5fae['equal'](_0x229094,0x1),_0x4bad2e();});else{const _0x3f3553=_0x182ffd['ZUBVV'][_0xd8c03c(0x3a7)]('|');let _0x5e6cbc=0x0;while(!![]){switch(_0x3f3553[_0x5e6cbc++]){case'0':assert['ok'](_0x19a1a7['title'][_0xd8c03c(0x2a2)]);continue;case'1':assert['equal'](_0x19a1a7[_0xd8c03c(0x534)],undefined);continue;case'2':assert[_0xd8c03c(0xcbc)](Object[_0xd8c03c(0x4a8)](_0x19a1a7[_0xd8c03c(0x76e)])[_0xd8c03c(0x791)]('_id'),-0x1);continue;case'3':assert['equal'](typeof _0x19a1a7[_0xd8c03c(0x76e)][_0xd8c03c(0x725)],_0xd8c03c(0xaf4));continue;case'4':assert['ok'](_0x19a1a7['body'][_0xd8c03c(0x2a2)]);continue;}break;}}}),_0x182ffd['axiXM'](_0x39f86d);else return _0x5f6487[_0x3f5653(0x46d)]({'demo':[_0x47cc63['_id']]});});});});}),_0x24bd44[_0x5332ac(0x91a)](it,_0x24bd44[_0x5332ac(0x3cc)],function(_0x16b6f1){const _0x40df85=_0x5332ac,_0x4fbda1={'yFdTI':_0x5ee215['vmjdM']};_0x2b58da[_0x40df85(0xc77)]({'name':'u1'})['lean']()['populate']({'path':_0x40df85(0x83b),'select':{'_id':0x0},'options':{'lean':!![]}})['exec'](function(_0x2218f7,_0x5460e9){const _0x21596b=_0x40df85;assert[_0x21596b(0x127)](_0x2218f7);const _0x3b2c85=_0x5460e9[0x0];assert[_0x21596b(0xcbc)](_0x3b2c85['comments'][_0x21596b(0x2a2)],0x2),_0x3b2c85[_0x21596b(0x83b)][_0x21596b(0x494)](function(_0x51048d){const _0x58d094=_0x21596b;assert['ok'](!('_id'in _0x51048d)),assert['ok'](_0x51048d[_0x58d094(0x467)][_0x58d094(0x2a2)]),assert['equal'](typeof _0x51048d[_0x58d094(0x725)],'number');}),_0x2b58da[_0x21596b(0x3dd)]({'name':'u1'})['lean']()[_0x21596b(0x52a)](_0x4fbda1[_0x21596b(0xcd6)],_0x21596b(0x2ba),null,{'lean':!![]})['exec'](function(_0xa1cad1,_0x9504f0){const _0x358920=_0x21596b;assert[_0x358920(0x127)](_0xa1cad1),assert[_0x358920(0xcbc)](_0x9504f0[_0x358920(0x83b)][_0x358920(0x2a2)],0x2),_0x9504f0[_0x358920(0x83b)][_0x358920(0x494)](function(_0x5cdc12){const _0x1fc416=_0x358920;assert['ok'](!(_0x1fc416(0x534)in _0x5cdc12)),assert['ok'](_0x5cdc12[_0x1fc416(0x467)][_0x1fc416(0x2a2)]),assert[_0x1fc416(0xcbc)](typeof _0x5cdc12[_0x1fc416(0x725)],_0x1fc416(0xaf4));}),_0x16b6f1();});});});}),describe(_0x24a2f1[_0x1a6309(0xb61)],function(){const _0x763a96=_0x1a6309,_0x53f834={'pYieh':'fan3@learnboost.com','xBRPC':_0x24bd44['lwndd'],'OxEfF':_0x763a96(0x660),'iYOMK':_0x763a96(0x684),'uImrh':_0x24bd44[_0x763a96(0x8ec)]};if(_0x24bd44[_0x763a96(0x650)](_0x763a96(0x4d7),_0x24bd44[_0x763a96(0x524)]))_0x24bd44['GshGZ'](it,'still\x20works\x20(gh-1441)',function(_0x246c2c){const _0xcb4f07=_0x763a96,_0x3282cc={'ioSYI':_0x24bd44['KljRW'],'CZGAK':function(_0x389063,_0x2a107d){return _0x389063===_0x2a107d;},'qKiDh':_0x24bd44['MZAFy'],'taDbj':function(_0x17b569,_0x52d430){return _0x17b569!==_0x52d430;},'LlqjS':_0x24bd44[_0xcb4f07(0x619)],'AbyHX':_0x24bd44[_0xcb4f07(0x149)],'vZiJP':_0xcb4f07(0x8b1),'LJrBi':function(_0x106465){return _0x24bd44['kgdvN'](_0x106465);},'JInZF':_0x24bd44[_0xcb4f07(0xa63)]};_0x2b58da[_0xcb4f07(0xc77)]()[_0xcb4f07(0x4e9)](_0x24bd44[_0xcb4f07(0xd5c)])[_0xcb4f07(0x52a)](_0x24bd44[_0xcb4f07(0xd6c)],{'_id':0x0})[_0xcb4f07(0x37d)](function(_0x2774fa,_0x3157fa){const _0x2e0682=_0xcb4f07,_0x430861={'HWsJO':_0x3282cc['vZiJP'],'sdGJZ':function(_0x59bc92){const _0x8cc4f=_0x2d45;return _0x3282cc[_0x8cc4f(0x599)](_0x59bc92);},'MbDdX':_0x3282cc[_0x2e0682(0x7c5)]};if(_0x2e0682(0x960)===_0x2e0682(0x960))assert[_0x2e0682(0x127)](_0x2774fa),assert[_0x2e0682(0xcbc)](_0x3157fa[_0x2e0682(0x2a2)],0x2),_0x3157fa[_0x2e0682(0x494)](function(_0x45421a){const _0x3e3885=_0x2e0682,_0xc8d6e6={'SRYij':_0x3e3885(0x937),'LlXyX':_0x3282cc[_0x3e3885(0x51a)],'LoGUq':_0x3e3885(0x1af)};assert['ok'](_0x45421a[_0x3e3885(0x9cd)]&&_0x45421a[_0x3e3885(0x9cd)]['body']);if(_0x3282cc[_0x3e3885(0x19c)](_0x45421a[_0x3e3885(0x8a8)],'u1'))assert[_0x3e3885(0xcbc)](_0x45421a[_0x3e3885(0x9cd)][_0x3e3885(0x467)],_0x3282cc[_0x3e3885(0x761)]);else{if(_0x3282cc[_0x3e3885(0x242)](_0x3282cc[_0x3e3885(0x442)],_0x3e3885(0x4e6))){const _0x25b1a1=_0xc8d6e6[_0x3e3885(0x53b)]['split']('|');let _0x23aef7=0x0;while(!![]){switch(_0x25b1a1[_0x23aef7++]){case'0':_0x2da3d5[_0x3e3885(0xcbc)](_0x3971ab[0x0][_0x3e3885(0xa20)]['postedBy'][_0x3e3885(0x8a8)],_0xc8d6e6[_0x3e3885(0x67b)]);continue;case'1':_0x326303[_0x3e3885(0xcbc)](_0x3ae2d9[0x1][_0x3e3885(0xa20)]['kind'],_0xc8d6e6[_0x3e3885(0xa57)]);continue;case'2':_0x16da26[_0x3e3885(0xcbc)](_0x1a7122[0x0]['activity']['kind'],_0x3e3885(0x832));continue;case'3':_0xa2bd65[_0x3e3885(0xcbc)](_0x22250b[_0x3e3885(0x2a2)],0x2);continue;case'4':_0x5b19a2['equal'](_0x22ef74[0x1]['activity']['postedBy'],null);continue;}break;}}else assert[_0x3e3885(0xcbc)](_0x45421a[_0x3e3885(0x9cd)][_0x3e3885(0x467)],_0x3282cc[_0x3e3885(0x2de)]);}}),_0x3282cc[_0x2e0682(0x599)](_0x246c2c);else{_0x18ae75[_0x2e0682(0x127)](_0xa41468);const _0x10352d=new _0x4971e6({'author':0x937,'body':_0x3282cc[_0x2e0682(0x1f5)]});_0x10352d[_0x2e0682(0x87f)](function(_0x53c62d){const _0x32d00d=_0x2e0682,_0x3ebe47={'DwlyI':_0x430861['HWsJO'],'vyknf':_0x32d00d(0x198),'KazOV':function(_0x58fb3c){const _0x427622=_0x32d00d;return _0x430861[_0x427622(0x945)](_0x58fb3c);}};_0x5b99e0[_0x32d00d(0x127)](_0x53c62d),_0x538dcf['findById'](_0x10352d['id'])[_0x32d00d(0x52a)](_0x430861[_0x32d00d(0xc1c)])[_0x32d00d(0x37d)](function(_0x207649,_0x4ed44d){const _0x494d38=_0x32d00d;_0x324abd[_0x494d38(0x127)](_0x207649),_0x4374d3['equal'](_0x4ed44d[_0x494d38(0x467)],_0x3ebe47[_0x494d38(0x1cc)]),_0x652f04['ok'](_0x4ed44d[_0x494d38(0xc78)]),_0x2f9b4b['equal'](_0x4ed44d[_0x494d38(0xc78)]['name'],_0x3ebe47[_0x494d38(0x9e2)]),_0x3ebe47[_0x494d38(0xd1e)](_0x3ad494);});});}});});else{const _0x14d4a0={'qKlCc':_0x763a96(0x2d1),'DRioV':function(_0x3ad6a4){return _0x3ad6a4();},'AYIUR':_0x53f834[_0x763a96(0xb57)],'eQxWr':_0x53f834[_0x763a96(0x213)],'IpCgU':_0x763a96(0x887),'yKEEX':_0x53f834[_0x763a96(0xc8)],'HHEXN':_0x53f834['iYOMK']};_0x27f99c[_0x763a96(0x127)](_0x2bf451),_0x54b832[_0x763a96(0xc77)]({'_id':{'$in':[_0x3a3c54[_0x763a96(0x534)],_0x16ad1e['_id']]}})[_0x763a96(0x52a)](_0x53f834['uImrh'],_0x130f0e,{'_id':_0x263db9})[_0x763a96(0x37d)](function(_0x148e4f,_0x2ecbcc){const _0x1848a3=_0x763a96;_0x1709f5['ifError'](_0x148e4f),_0x4b4911[_0x1848a3(0xcbc)](_0x2ecbcc[0x0][_0x1848a3(0xb8b)][_0x1848a3(0x2a2)],0x1),_0x3a5718['equal'](_0x2ecbcc[0x0][_0x1848a3(0xb8b)][0x0]['gender'],'female'),_0x21e67b[_0x1848a3(0xcbc)](_0x2ecbcc[0x0][_0x1848a3(0xb8b)][0x0][_0x1848a3(0x8a8)],_0x1848a3(0x930)),_0x3f610c[_0x1848a3(0xcbc)](_0x2ecbcc[0x0][_0x1848a3(0xb8b)][0x0][_0x1848a3(0x978)],_0x14d4a0[_0x1848a3(0x1b9)]),_0x1b83a6[_0x1848a3(0xcbc)](_0x2ecbcc[0x0]['fans'][0x0][_0x1848a3(0x3f4)],0x19),_0xf26c45['equal'](_0x2ecbcc[0x1]['fans'][_0x1848a3(0x2a2)],0x1),_0x112ed2['equal'](_0x2ecbcc[0x1][_0x1848a3(0xb8b)][0x0]['gender'],_0x1848a3(0x887)),_0x2eb30c[_0x1848a3(0xcbc)](_0x2ecbcc[0x1][_0x1848a3(0xb8b)][0x0][_0x1848a3(0x8a8)],_0x1848a3(0x930)),_0x1cbbbf[_0x1848a3(0xcbc)](_0x2ecbcc[0x1][_0x1848a3(0xb8b)][0x0][_0x1848a3(0x978)],'fan3@learnboost.com'),_0x82dcc9[_0x1848a3(0xcbc)](_0x2ecbcc[0x1][_0x1848a3(0xb8b)][0x0][_0x1848a3(0x3f4)],0x19),_0xc3b949[_0x1848a3(0xc77)]({'_id':{'$in':[_0x5ea364[_0x1848a3(0x534)],_0x3f8c90['_id']]}})[_0x1848a3(0x52a)](_0x1848a3(0xb8b),0x0,{'gender':_0x1848a3(0x887)})[_0x1848a3(0x37d)](function(_0x12be68,_0x53b071){const _0x4346d5=_0x1848a3,_0x4acdad=_0x14d4a0[_0x4346d5(0x144)][_0x4346d5(0x3a7)]('|');let _0x594ebb=0x0;while(!![]){switch(_0x4acdad[_0x594ebb++]){case'0':_0x3eb59f[_0x4346d5(0xcbc)](_0x53b071[0x1][_0x4346d5(0xb8b)][0x1][_0x4346d5(0x3f3)],_0x4346d5(0x887));continue;case'1':_0x5d10db[_0x4346d5(0x127)](_0x12be68);continue;case'2':_0x14d4a0[_0x4346d5(0xa1f)](_0x23e1d1);continue;case'3':_0x69a750['equal'](_0x53b071[0x0][_0x4346d5(0xb8b)][0x0][_0x4346d5(0x3f3)],_0x4346d5(0x887));continue;case'4':_0x1caf12[_0x4346d5(0xcbc)](_0x53b071[0x0][_0x4346d5(0xb8b)][0x1][_0x4346d5(0x978)],_0x14d4a0[_0x4346d5(0x1b9)]);continue;case'5':_0x24c19d[_0x4346d5(0xcbc)](_0x53b071[0x1][_0x4346d5(0xb8b)][0x0][_0x4346d5(0x978)],_0x4346d5(0xd33));continue;case'6':_0x2e2e33[_0x4346d5(0xcbc)](_0x53b071[0x1]['fans'][0x0]['name'],_0x14d4a0[_0x4346d5(0x7d5)]);continue;case'7':_0x135595[_0x4346d5(0xcbc)](_0x53b071[0x0][_0x4346d5(0xb8b)]['length'],0x2);continue;case'8':_0x28e42b[_0x4346d5(0xcbc)](_0x53b071[0x0]['fans'][0x0][_0x4346d5(0x978)],_0x4346d5(0x660));continue;case'9':_0x5e2e17[_0x4346d5(0xcbc)](_0x53b071[0x1][_0x4346d5(0xb8b)][0x0][_0x4346d5(0x3f3)],_0x14d4a0[_0x4346d5(0x430)]);continue;case'10':_0x223924[_0x4346d5(0xcbc)](_0x53b071[0x1][_0x4346d5(0xb8b)][0x1][_0x4346d5(0x978)],_0x14d4a0[_0x4346d5(0x19b)]);continue;case'11':_0x48fdf0[_0x4346d5(0xcbc)](_0x53b071[0x1][_0x4346d5(0xb8b)][0x1][_0x4346d5(0x8a8)],'Fan\x202');continue;case'12':_0x326eda[_0x4346d5(0xcbc)](_0x53b071[0x0][_0x4346d5(0xb8b)][0x1][_0x4346d5(0x3f4)],0x19);continue;case'13':_0x1ec943[_0x4346d5(0xcbc)](_0x53b071[0x0]['fans'][0x1][_0x4346d5(0x8a8)],_0x4346d5(0x930));continue;case'14':_0x470391[_0x4346d5(0xcbc)](_0x53b071[0x1]['fans'][0x0][_0x4346d5(0x3f4)],0x19);continue;case'15':_0x4d10e2[_0x4346d5(0xcbc)](_0x53b071[0x0][_0x4346d5(0xb8b)][0x1]['gender'],_0x14d4a0['IpCgU']);continue;case'16':_0x5574eb[_0x4346d5(0xcbc)](_0x53b071[0x0][_0x4346d5(0xb8b)][0x0][_0x4346d5(0x8a8)],_0x14d4a0[_0x4346d5(0x37e)]);continue;case'17':_0x50d8b4[_0x4346d5(0xcbc)](_0x53b071[0x1][_0x4346d5(0xb8b)][_0x4346d5(0x2a2)],0x2);continue;}break;}});});}});}),describe(_0x24a2f1[_0x4ef2f4(0xd3d)],function(){const _0x443b23=_0x4ef2f4,_0x2bbd08={'TuKfT':_0x443b23(0x195),'FrSqp':_0x24a2f1['oZdUc'],'OnJto':function(_0x3765de){const _0x30f73c=_0x443b23;return _0x24a2f1[_0x30f73c(0x95c)](_0x3765de);},'OarYq':_0x443b23(0xcf1),'MPWAw':_0x443b23(0x438),'lgoix':_0x443b23(0x644),'ommGP':_0x24a2f1[_0x443b23(0x659)],'SsnXi':'model-B','oeNbR':function(_0x4cc46e){const _0x170730=_0x443b23;return _0x24a2f1[_0x170730(0xbaf)](_0x4cc46e);},'OQilH':_0x24a2f1[_0x443b23(0x519)],'OFFHl':_0x24a2f1['lqPCV'],'NjeCG':function(_0x1048b3,_0x41d11d){const _0x20697e=_0x443b23;return _0x24a2f1[_0x20697e(0xab6)](_0x1048b3,_0x41d11d);},'sOegL':_0x443b23(0xcf0),'MZZUb':_0x24a2f1['diJOY'],'oJmkV':_0x443b23(0x39a),'FuJqW':'comments.references.item','ErZYa':_0x24a2f1[_0x443b23(0x490)],'WqDcr':_0x443b23(0x79c),'OrwGM':_0x443b23(0x11f),'URVIY':_0x24a2f1[_0x443b23(0xb24)],'AmGHa':'base64','qPzeg':_0x443b23(0x198)};let _0x427b08,_0x8e5df9,_0x3e1dff;beforeEach(async function(){const _0x3dd740=_0x443b23,_0x232e64=new Schema({'_id':Number,'text':String,'item':{'id':{'type':Number,'refPath':_0x3dd740(0x47f)},'type':{'type':String}},'items':[{'id':{'type':Number,'refPath':_0x24a2f1[_0x3dd740(0xad0)]},'type':{'type':String}}]}),_0x100502=new Schema({'_id':Number,'name':String}),_0x272492=new Schema({'_id':Number,'otherName':String});_0x427b08=_0x27d0e4[_0x3dd740(0x807)](_0x24a2f1['XstYD'],_0x232e64),_0x8e5df9=_0x27d0e4['model'](_0x24a2f1['cLBmj'],_0x100502),_0x3e1dff=_0x27d0e4['model'](_0x24a2f1['whWet'],_0x272492);const _0x4e5fff={'_id':0x0,'text':_0x24a2f1['TJhCc'],'item':{'id':0x1,'type':_0x24a2f1[_0x3dd740(0x43a)]},'items':[{'id':0x1,'type':_0x3dd740(0x256)},{'id':0x2,'type':'Test2'}]};await _0x8e5df9[_0x3dd740(0xce3)]({}),await _0x3e1dff[_0x3dd740(0xce3)]({}),await _0x8e5df9[_0x3dd740(0x46d)]({'_id':0x1,'name':_0x3dd740(0x946)}),await _0x3e1dff[_0x3dd740(0x46d)]({'_id':0x2,'otherName':'Val'}),await _0x427b08[_0x3dd740(0x46d)](_0x4e5fff);}),it(_0x24a2f1[_0x443b23(0xd14)],function(_0x179811){const _0x49c8b9=_0x443b23,_0x447423={'enHiG':function(_0x4faef4){return _0x4faef4();}};_0x427b08['find']({})[_0x49c8b9(0x52a)](_0x2bbd08[_0x49c8b9(0x737)])['exec'](function(_0x284373,_0x4ae999){const _0x2e537f=_0x49c8b9;assert[_0x2e537f(0x127)](_0x284373),assert[_0x2e537f(0xcbc)](_0x4ae999[_0x2e537f(0x2a2)],0x1);const _0x170d07=_0x4ae999[0x0];assert[_0x2e537f(0xcbc)](_0x170d07['item']['id'][_0x2e537f(0x8a8)],_0x2e537f(0x946)),_0x447423[_0x2e537f(0x9fb)](_0x179811);});}),_0x24a2f1[_0x443b23(0xa18)](it,_0x24a2f1['Onjvx'],function(_0x73aa44){const _0x5f2e99=_0x443b23;_0x427b08[_0x5f2e99(0xc77)]({})[_0x5f2e99(0x52a)]('items.id')[_0x5f2e99(0x37d)](function(_0xb7dd3e,_0x370f5e){const _0x358528=_0x5f2e99;assert['ifError'](_0xb7dd3e),assert[_0x358528(0xcbc)](_0x370f5e[_0x358528(0x2a2)],0x1);const _0x52a28f=_0x370f5e[0x0];assert[_0x358528(0xcbc)](_0x52a28f[_0x358528(0x5ec)][_0x358528(0x2a2)],0x2),assert['equal'](_0x52a28f['items'][0x0]['id'][_0x358528(0x8a8)],_0x358528(0x946)),assert['equal'](_0x52a28f[_0x358528(0x5ec)][0x1]['id'][_0x358528(0x484)],_0x2bbd08[_0x358528(0x263)]),_0x2bbd08[_0x358528(0x34b)](_0x73aa44);});}),it(_0x24a2f1[_0x443b23(0x5c6)],function(_0x32a12f){const _0x36ca43=_0x443b23,_0x362ad8={'yjIzl':_0x2bbd08[_0x36ca43(0x61d)],'EePZC':'NBA','SJfai':_0x2bbd08[_0x36ca43(0xb91)]};if(_0x2bbd08[_0x36ca43(0x3f0)]==='eqXuk')return _0x4ccc0c['replace'](/\.item$/,_0x36ca43(0x5b4));else{_0x27d0e4[_0x36ca43(0x530)](/Test/);const _0x19bf65=mongoose[_0x36ca43(0x101)]({'seam':String}),_0x1f250b=_0x27d0e4['model'](_0x36ca43(0x438),_0x19bf65),_0x557925=mongoose['Schema']({'league':String,'kind':String,'ball':{'type':mongoose[_0x36ca43(0x101)][_0x36ca43(0xc4a)]['ObjectId'],'refPath':_0x36ca43(0x5d3)}}),_0x13b3cb=mongoose[_0x36ca43(0x101)]({'balls':[_0x557925]}),_0x4985cb=_0x27d0e4[_0x36ca43(0x807)](_0x36ca43(0x8ce),_0x13b3cb);new _0x1f250b({'seam':_0x36ca43(0xcf1)})[_0x36ca43(0x87f)]()['then'](function(_0x45bbf6){const _0x593e32=_0x36ca43;return new _0x4985cb({'balls':[{'league':_0x593e32(0x2a9),'kind':_0x362ad8[_0x593e32(0xc1f)],'ball':_0x45bbf6[_0x593e32(0x534)]},{'league':_0x362ad8[_0x593e32(0x52c)]}]})[_0x593e32(0x87f)]();})[_0x36ca43(0xc12)](function(_0x19a419){const _0x92a47e=_0x36ca43;return _0x19a419[_0x92a47e(0x52a)](_0x362ad8[_0x92a47e(0x34c)]);})[_0x36ca43(0xc12)](function(_0x24c80a){const _0x137e3f=_0x36ca43;assert[_0x137e3f(0xcbc)](_0x24c80a['balls'][0x0][_0x137e3f(0x4ed)][_0x137e3f(0x6e3)],_0x2bbd08[_0x137e3f(0xa60)]),assert['ok'](!_0x24c80a['balls'][0x1]['kind']),assert['ok'](!_0x24c80a[_0x137e3f(0xb9a)][0x1][_0x137e3f(0x4ed)]),_0x32a12f();})[_0x36ca43(0x412)](_0x32a12f);}}),it(_0x443b23(0xb8a),function(_0x4a2e1a){const _0x470a00=_0x443b23,_0x1de8bb={'fycBI':'Child\x202','izyhr':'Child\x203','Etcxd':_0x24a2f1[_0x470a00(0x99d)]};_0x27d0e4['deleteModel'](/Test/);const _0x2f1a3c=new mongoose[(_0x470a00(0x101))]({'name':String}),_0x44dfb0=_0x27d0e4[_0x470a00(0x807)]('Test1',_0x2f1a3c),_0x17fede=new mongoose[(_0x470a00(0x101))]({'name':String}),_0x464930=_0x27d0e4[_0x470a00(0x807)]('Test2',_0x17fede),_0x1c1e58=new mongoose['Schema']({'name':String,'toy':{'kind':{'type':String,'enum':[_0x24a2f1[_0x470a00(0x43a)],_0x470a00(0x8ce)]},'value':{'type':ObjectId,'refPath':_0x24a2f1[_0x470a00(0x8af)]}}}),_0x3d4e45=new mongoose[(_0x470a00(0x101))]({'children':[_0x1c1e58]}),_0x2e0676=_0x27d0e4['model'](_0x470a00(0x438),_0x3d4e45);_0x44dfb0['create']({'name':_0x470a00(0xcaf)},function(_0x571214,_0x140ba8){const _0x3e4ce1=_0x470a00;assert[_0x3e4ce1(0x127)](_0x571214),_0x464930[_0x3e4ce1(0x46d)]({'name':_0x3e4ce1(0x50e)},function(_0x21c59c,_0x56477c){const _0x5bb0f3=_0x3e4ce1,_0x15d087={'LbmMP':function(_0x53120c,_0x5991ab){return _0x53120c(_0x5991ab);}};assert[_0x5bb0f3(0x127)](_0x21c59c),_0x2e0676[_0x5bb0f3(0x46d)]({'children':[{'name':_0x5bb0f3(0x877),'toy':{'kind':_0x5bb0f3(0x256),'value':_0x140ba8['_id']}},{'name':_0x1de8bb[_0x5bb0f3(0xcf6)]},{'name':_0x1de8bb[_0x5bb0f3(0x825)],'toy':{'kind':_0x1de8bb[_0x5bb0f3(0x13b)],'value':_0x56477c[_0x5bb0f3(0x534)]}}]},function(_0x132d1b,_0x23ff77){const _0x163b79=_0x5bb0f3;assert[_0x163b79(0x127)](_0x132d1b),_0x15d087[_0x163b79(0x2dd)](_0x11e586,_0x23ff77['_id']);});});});function _0x11e586(_0x8636ed){const _0x4f3e7b=_0x470a00,_0x5787d8={'lVXTv':_0x2bbd08[_0x4f3e7b(0x9bc)],'wtGBY':function(_0x28b38c){const _0x227bcf=_0x4f3e7b;return _0x2bbd08[_0x227bcf(0x96e)](_0x28b38c);},'cdmrY':'children.toy.value'};_0x2e0676[_0x4f3e7b(0x770)](_0x8636ed,function(_0x28f499,_0x1e7121){const _0x508318=_0x4f3e7b,_0x4a0e2a={'uylGZ':_0x5787d8['lVXTv'],'dtJyD':function(_0x287523){const _0x15873e=_0x2d45;return _0x5787d8[_0x15873e(0x325)](_0x287523);}};assert[_0x508318(0x127)](_0x28f499),_0x1e7121[_0x508318(0x52a)](_0x5787d8[_0x508318(0xc58)])[_0x508318(0xc12)](function(_0x490aa0){const _0x139132=_0x508318;assert[_0x139132(0xcbc)](_0x490aa0['children'][0x0][_0x139132(0x334)][_0x139132(0x77f)][_0x139132(0x8a8)],_0x139132(0xcaf)),assert[_0x139132(0xcbc)](_0x490aa0[_0x139132(0x703)][0x1][_0x139132(0x334)][_0x139132(0x77f)],null),assert['equal'](_0x490aa0[_0x139132(0x703)][0x2][_0x139132(0x334)][_0x139132(0x77f)][_0x139132(0x8a8)],_0x4a0e2a[_0x139132(0xd4d)]),_0x4a0e2a[_0x139132(0x21b)](_0x4a2e1a);})[_0x508318(0x412)](_0x4a2e1a);});}}),it(_0x24a2f1[_0x443b23(0x136)],function(_0xc82566){const _0x5c5fc2=_0x443b23,_0x2e7fa0=new Schema({'name':String}),_0xc6bb4e=new Schema({'name':String,'locationRef':String,'locationIds':{'type':[{'location':{'type':mongoose['Schema']['Types'][_0x5c5fc2(0x2ef)],'refPath':_0x5c5fc2(0xd68)}}]}}),_0xe755db=_0x27d0e4[_0x5c5fc2(0x807)](_0x5c5fc2(0x438),_0x2e7fa0),_0x12e7ec=_0x27d0e4[_0x5c5fc2(0x807)](_0x5c5fc2(0x11f),_0xc6bb4e),_0x5cc558=new mongoose['Types'][(_0x5c5fc2(0x2ef))](),_0x34f277=new mongoose['Types'][(_0x5c5fc2(0x2ef))](),_0x59a3b7={'_id':_0x5cc558,'name':'loc1'},_0x50a1f7={'_id':_0x34f277,'name':_0x2bbd08[_0x5c5fc2(0xea)]},_0x3538f1={'locationRef':_0x5c5fc2(0x438),'locationIds':[{'location':_0x5cc558},{'location':_0x34f277}]};_0xe755db[_0x5c5fc2(0x46d)]([_0x59a3b7,_0x50a1f7])[_0x5c5fc2(0xc12)](function(){const _0x52bfb3=_0x5c5fc2;return _0x12e7ec[_0x52bfb3(0x46d)](_0x3538f1);})[_0x5c5fc2(0xc12)](function(){const _0x46222a=_0x5c5fc2;return _0x12e7ec[_0x46222a(0x3dd)]()['populate'](_0x2bbd08[_0x46222a(0x1a3)]);})[_0x5c5fc2(0xc12)](function(_0x5a96f5){const _0x5c3b7c=_0x5c5fc2;assert[_0x5c3b7c(0xcbc)](_0x5a96f5[_0x5c3b7c(0x5b1)]['length'],0x2),assert[_0x5c3b7c(0xcbc)](_0x5a96f5['locationIds'][0x0][_0x5c3b7c(0x5da)][_0x5c3b7c(0x8a8)],'loc1'),assert['equal'](_0x5a96f5[_0x5c3b7c(0x5b1)][0x1][_0x5c3b7c(0x5da)][_0x5c3b7c(0x8a8)],_0x5c3b7c(0x4b8)),_0xc82566();})['catch'](_0xc82566);}),it(_0x443b23(0x87b),async function(){const _0x1d4bb6=_0x443b23,_0x2be4fa=new mongoose['Schema']({'_id':Number,'exercises':[String]}),_0x2e9661=new mongoose[(_0x1d4bb6(0x101))]({'_id':String,'url':String}),_0x4f26f1=new mongoose[(_0x1d4bb6(0x101))]({'parts':[{'title':String,'contents':[{'item':{'type':mongoose['Schema'][_0x1d4bb6(0xc4a)]['Mixed'],'refPath':_0x24a2f1[_0x1d4bb6(0x498)]},'kind':String}]}]}),_0x495582=_0x27d0e4[_0x1d4bb6(0x807)](_0x1d4bb6(0x8ab),_0x4f26f1),_0x254fdf=_0x27d0e4[_0x1d4bb6(0x807)](_0x24a2f1[_0x1d4bb6(0x4f4)],_0x2be4fa),_0x344ad8=_0x27d0e4['model'](_0x24a2f1[_0x1d4bb6(0x128)],_0x2e9661),_0x202517=new _0x254fdf({'_id':0x7b,'exercises':['t1','t2']}),_0x5dc48f=new _0x344ad8({'_id':_0x24a2f1[_0x1d4bb6(0xb3b)],'url':_0x1d4bb6(0x99e)}),_0x17d8b0=new _0x495582({'parts':[{'title':_0x24a2f1[_0x1d4bb6(0x2a5)],'contents':[{'item':_0x202517['_id'],'kind':_0x24a2f1[_0x1d4bb6(0x4f4)]},{'item':_0x5dc48f[_0x1d4bb6(0x534)],'kind':_0x24a2f1[_0x1d4bb6(0x128)]},{'item':_0x5dc48f[_0x1d4bb6(0x534)],'kind':_0x24a2f1[_0x1d4bb6(0x128)]}]}]});await Promise['all']([_0x202517[_0x1d4bb6(0x87f)](),_0x5dc48f[_0x1d4bb6(0x87f)](),_0x17d8b0[_0x1d4bb6(0x87f)]()]);const _0x1d4d01=await _0x495582[_0x1d4bb6(0x3dd)]({})[_0x1d4bb6(0x52a)](_0x24a2f1[_0x1d4bb6(0x77c)]);assert[_0x1d4bb6(0x672)](_0x1d4d01[_0x1d4bb6(0x7d4)][0x0][_0x1d4bb6(0x56a)][0x0][_0x1d4bb6(0x4b5)][_0x1d4bb6(0x91b)][0x0],'t1'),assert[_0x1d4bb6(0x672)](_0x1d4d01['parts'][0x0][_0x1d4bb6(0x56a)][0x1][_0x1d4bb6(0x4b5)][_0x1d4bb6(0x589)],_0x1d4bb6(0x99e));}),it('with\x20nested\x20nonexistant\x20refPath\x20(gh-6457)',async function(){const _0x442f7d=_0x443b23;if(_0x2bbd08[_0x442f7d(0x15f)](_0x442f7d(0xcf0),_0x2bbd08[_0x442f7d(0x871)])){const _0x2f2493=new Schema({'text':String,'references':{'type':[{'item':{'type':Schema[_0x442f7d(0xc4a)]['ObjectId'],'refPath':_0x2bbd08[_0x442f7d(0x81c)]},'kind':String}]}}),_0x2656b4=new Schema({'text':String,'comments':[_0x2f2493]}),_0x584e9e=_0x27d0e4[_0x442f7d(0x807)](_0x2bbd08[_0x442f7d(0x61d)],_0x2656b4);await _0x584e9e[_0x442f7d(0x46d)]({'text':_0x442f7d(0x50f),'comments':[{'text':_0x2bbd08['oJmkV']}]});const _0x418d37=await _0x584e9e[_0x442f7d(0x3dd)]()[_0x442f7d(0x52a)](_0x2bbd08[_0x442f7d(0x1b4)]);assert[_0x442f7d(0x829)](_0x418d37['toObject']()[_0x442f7d(0x83b)][0x0][_0x442f7d(0xc4d)],[]);}else{_0x42dde5['ifError'](_0x46b171),_0x391739['equal'](_0x20bff5[_0x442f7d(0x2a2)],0x1);const _0x2814d1=_0x701e41[0x0];_0x35b9c8['equal'](_0x2814d1[_0x442f7d(0x4b5)]['id'][_0x442f7d(0x8a8)],'Val'),_0x2bbd08[_0x442f7d(0x34b)](_0x10fcc4);}}),_0x24a2f1[_0x443b23(0xf1)](it,_0x443b23(0xcb7),async function(){const _0x2e2187=_0x443b23,_0x3cdce8=new Schema({'name':String}),_0x5b2528=new Schema({'comments':[{'references':[{'item':{'type':Schema[_0x2e2187(0xc4a)][_0x2e2187(0x2ef)],'refPath':_0x2e2187(0xca3)},'kind':String}]}]}),_0x290ae8=_0x27d0e4['model'](_0x2e2187(0x63e),_0x5b2528),_0x3bf373=_0x27d0e4['model'](_0x2e2187(0x11f),_0x3cdce8),_0x593581={'_id':new mongoose['Types'][(_0x2e2187(0x2ef))](),'name':_0x24a2f1[_0x2e2187(0x82f)]},_0x3c5e6e={'_id':new mongoose[(_0x2e2187(0xc4a))][(_0x2e2187(0x2ef))](),'comments':[{},{'references':[{'item':_0x593581[_0x2e2187(0x534)],'kind':_0x24a2f1[_0x2e2187(0x840)]}]}]};await _0x3bf373[_0x2e2187(0x46d)](_0x593581),await _0x290ae8[_0x2e2187(0x46d)](_0x3c5e6e);const _0x3318d7=await _0x290ae8['findOne']()[_0x2e2187(0x52a)](_0x2e2187(0x14e));assert[_0x2e2187(0xcbc)](_0x3318d7[_0x2e2187(0x83b)][_0x2e2187(0x2a2)],0x2),assert[_0x2e2187(0xcbc)](_0x3318d7[_0x2e2187(0x83b)][0x1]['references'][_0x2e2187(0x2a2)],0x1),assert[_0x2e2187(0xcbc)](_0x3318d7[_0x2e2187(0x83b)][0x1][_0x2e2187(0xc4d)][0x0][_0x2e2187(0x4b5)][_0x2e2187(0x8a8)],'Arnold');}),it(_0x443b23(0x975),async function(){const _0x475ace=_0x443b23,_0x3c0ee8=new Schema({'text':String,'city':String,'formData':{'type':mongoose[_0x475ace(0x101)][_0x475ace(0xc4a)]['ObjectId'],'refPath':'city'}}),_0x12da29=_0x27d0e4[_0x475ace(0x807)](_0x24a2f1[_0x475ace(0x4f4)],_0x3c0ee8);await _0x12da29[_0x475ace(0x46d)]({'text':_0x24a2f1[_0x475ace(0xa5c)],'city':_0x24a2f1[_0x475ace(0x89c)],'formData':new mongoose['Types'][(_0x475ace(0x2ef))]()});let _0x157f21=![];try{if(_0x24a2f1[_0x475ace(0x6c5)](_0x475ace(0xcc1),'BKhQO'))await _0x12da29[_0x475ace(0x3dd)]()[_0x475ace(0x52a)]('formData')[_0x475ace(0x4e9)](_0x475ace(0x997));else{const _0x3e18fb={'MbGVx':_0x2bbd08['ErZYa'],'vREVc':_0x475ace(0x8b1),'ztXZL':_0x2bbd08['WqDcr']},_0x2be1f9=new _0xba6997({'_id':_0x49d89f,'name':_0x3b7bb6}),_0x35ab70=new _0x374c9f({'author':{'type':_0x2e0649,'ref':_0x475ace(0x11f)},'body':_0x49113a}),_0x21b3e6=_0x14aaa5[_0x475ace(0x807)](_0x2bbd08[_0x475ace(0x942)],_0x2be1f9),_0x5b984b=_0x4b485d[_0x475ace(0x807)](_0x2bbd08['MPWAw'],_0x35ab70),_0xf27bf8=new _0x21b3e6({'_id':new _0x74b0af[(_0x475ace(0xc4a))][(_0x475ace(0x285))](_0x2bbd08[_0x475ace(0xb73)],_0x2bbd08['AmGHa']),'name':_0x2bbd08['qPzeg']});_0xf27bf8[_0x475ace(0x87f)](function(_0x328b4b){const _0x213142=_0x475ace,_0x2e12de={'DPUJG':_0x3e18fb[_0x213142(0x4f9)],'VfJre':_0x213142(0x198),'tSfPy':function(_0x7e9b94){return _0x7e9b94();}};_0x57a69a[_0x213142(0x127)](_0x328b4b);const _0x52ec1c=new _0x5b984b({'author':_0x3e18fb[_0x213142(0x587)],'body':_0x3e18fb[_0x213142(0x4f9)]});_0x52ec1c[_0x213142(0x87f)](function(_0x475385){const _0x5c56c8=_0x213142;_0x174165[_0x5c56c8(0x127)](_0x475385),_0x5b984b[_0x5c56c8(0x770)](_0x52ec1c['id'])[_0x5c56c8(0x52a)](_0x3e18fb[_0x5c56c8(0x591)])['exec'](function(_0x20411a,_0x29075e){const _0x5c5341=_0x5c56c8;_0x4f8623[_0x5c5341(0x127)](_0x20411a),_0x150ea8[_0x5c5341(0xcbc)](_0x29075e[_0x5c5341(0x467)],_0x2e12de[_0x5c5341(0x735)]),_0x52c0eb['ok'](_0x29075e[_0x5c5341(0xc78)]),_0x365847['equal'](_0x29075e[_0x5c5341(0xc78)][_0x5c5341(0x8a8)],_0x2e12de[_0x5c5341(0x245)]),_0x2e12de[_0x5c5341(0xd58)](_0x543fff);});});});}}catch(_0x297fdc){assert['ok'](_0x297fdc),assert['ok'](_0x24a2f1['xvvEU'](_0x297fdc[_0x475ace(0x690)]['indexOf'](_0x475ace(0x32c)),-0x1),_0x297fdc[_0x475ace(0x690)]),_0x157f21=!![];}assert['ok'](_0x157f21);});}),it(_0x24a2f1[_0x4ef2f4(0xce)],async function(){const _0x485c06=_0x4ef2f4,_0x6d0cf9={'bJkem':_0x485c06(0x174),'EmfTV':_0x485c06(0x890)};if(_0x24a2f1['BkkCm'](_0x485c06(0x253),_0x24a2f1[_0x485c06(0x67f)]))_0x3245c7[_0x485c06(0x127)](_0x23e889),_0x188cab[_0x485c06(0xc77)]({'title':_0x485c06(0x6e7)})[_0x485c06(0x52a)](_0x485c06(0x5ad))[_0x485c06(0x37d)](function(_0x3907d1,_0x84875f){const _0x31d40b=_0x485c06,_0x159101={'wUjmc':_0x31d40b(0x890)};_0x24a3e9[_0x31d40b(0x127)](_0x3907d1),_0x44c0d5[_0x31d40b(0xcbc)](_0x84875f['length'],0x1),_0x450e43[_0x31d40b(0xcbc)](_0x84875f[0x0][_0x31d40b(0x5ad)]['name'],_0x6d0cf9['bJkem']),_0x84875f[0x0][_0x31d40b(0x5ad)]=_0x4c2816,_0x2c0585[_0x31d40b(0xcbc)](_0x84875f[0x0][_0x31d40b(0x5ad)][_0x31d40b(0x8a8)],_0x6d0cf9['EmfTV']),_0x84875f[0x0][_0x31d40b(0x87f)](function(_0x11c98a,_0x134bed){const _0x3f1f9c=_0x31d40b,_0x4a2b37={'Spztk':_0x159101[_0x3f1f9c(0x37a)]};_0x3a15b2[_0x3f1f9c(0x127)](_0x11c98a),_0x364bca['equal'](_0x134bed[_0x3f1f9c(0x5ad)][_0x3f1f9c(0x8a8)],_0x159101[_0x3f1f9c(0x37a)]),_0x84875f[0x0][_0x3f1f9c(0x52a)](_0x3f1f9c(0x5ad),function(_0x26ccbd,_0x146a64){const _0x3ea966=_0x3f1f9c;_0x36924e[_0x3ea966(0x127)](_0x26ccbd),_0xd1d67d[_0x3ea966(0xcbc)](_0x146a64[_0x3ea966(0x5ad)][_0x3ea966(0x8a8)],_0x4a2b37[_0x3ea966(0xd1)]),_0x5977ad();});});});else{const _0x32b861=new Schema({'name':String});_0x32b861['virtual'](_0x24a2f1['uqjSl'],{'ref':_0x24a2f1[_0x485c06(0xa75)],'localField':_0x24a2f1[_0x485c06(0x661)],'foreignField':_0x24a2f1[_0x485c06(0xd02)],'justOne':![]});const _0x36cdef=new Schema({'coopBrands':[_0x32b861],'name':String}),_0x584550=new Schema({'coopBrandId':Schema[_0x485c06(0xc4a)][_0x485c06(0x2ef)],'name':String}),_0x239356=_0x27d0e4['model'](_0x485c06(0x438),_0x36cdef),_0x199eb8=_0x27d0e4[_0x485c06(0x807)](_0x485c06(0xa76),_0x584550),_0x362af9=await _0x239356['create']({'name':_0x485c06(0x563),'coopBrands':[{'name':_0x24a2f1[_0x485c06(0x9a6)]},{'name':_0x485c06(0x10e)}]}),_0x361a06=_0x362af9['coopBrands'][0x0]['_id'];await _0x199eb8[_0x485c06(0x46d)]([{'coopBrandId':_0x361a06,'name':_0x485c06(0xbcb)},{'coopBrandId':_0x361a06,'name':_0x24a2f1[_0x485c06(0x473)]}]);let _0x6b13a1=await _0x239356[_0x485c06(0x3dd)]({});await _0x6b13a1[_0x485c06(0x52a)](_0x485c06(0xaef)),_0x6b13a1=_0x6b13a1[_0x485c06(0x331)]({'virtuals':!![]}),assert[_0x485c06(0xcbc)](_0x6b13a1['coopBrands'][0x0][_0x485c06(0x2f4)]['length'],0x2),assert['deepEqual'](_0x6b13a1['coopBrands'][0x1][_0x485c06(0x2f4)],[]);}}),_0x24a2f1[_0x4ef2f4(0x683)](describe,_0x24a2f1[_0x4ef2f4(0xa6c)],function(){const _0x4e0e9f=_0x4ef2f4,_0x11525d={'HcVOI':_0x24a2f1[_0x4e0e9f(0x4f4)],'jyiCp':_0x4e0e9f(0x3a1),'nRZWq':_0x4e0e9f(0x42c),'jCJbD':_0x24a2f1['VRwKe'],'hqBjX':_0x4e0e9f(0x83c),'EXaHF':'ex3','lRWow':function(_0x26f480,_0x47f490){const _0x3cfbd8=_0x4e0e9f;return _0x24a2f1[_0x3cfbd8(0x2cc)](_0x26f480,_0x47f490);},'fiqcP':'fans','hiOlu':function(_0x5604dd,_0x363119){const _0x1f1d61=_0x4e0e9f;return _0x24a2f1[_0x1f1d61(0xad7)](_0x5604dd,_0x363119);},'VbJfI':_0x24a2f1[_0x4e0e9f(0xc60)],'DvwAK':_0x24a2f1[_0x4e0e9f(0x840)]};let _0x5942b6,_0x4a93fd;beforeEach(function(){const _0x93037d=_0x4e0e9f;_0x27d0e4[_0x93037d(0x530)](/Test/),_0x5942b6=_0x27d0e4[_0x93037d(0x807)](_0x93037d(0x3ea),new Schema({'name':String}));const _0x36713e=new Schema({'name':String,'cats':{},'o':{},'a':[]});_0x4a93fd=_0x27d0e4['model'](_0x11525d[_0x93037d(0xab3)],_0x36713e);}),it(_0x24a2f1[_0x4e0e9f(0x9a2)],function(_0x50d3bc){const _0x3e45a5=_0x4e0e9f,_0x5496f7={'flcjg':function(_0x4a9d76,_0x18a67e){const _0x4f4ab6=_0x2d45;return _0x24a2f1[_0x4f4ab6(0xa54)](_0x4a9d76,_0x18a67e);},'xbWcf':_0x24a2f1['BXISD']};_0x5942b6[_0x3e45a5(0x46d)]({'name':_0x24a2f1[_0x3e45a5(0xc6b)]},{'name':_0x3e45a5(0x352)},{'name':'new3'},function(_0x5000be,_0x52e27e,_0x5ae69d,_0x56bbd8){const _0x523a7b=_0x3e45a5;if(_0x5000be)return _0x5496f7['flcjg'](_0x50d3bc,_0x5000be);_0x4a93fd[_0x523a7b(0x46d)]({'name':_0x5496f7[_0x523a7b(0x286)],'cats':[_0x52e27e],'o':_0x5ae69d,'a':[_0x56bbd8]},_0x5279e4(_0x50d3bc));});}),it(_0x4e0e9f(0xb0e),function(_0x2f6f7a){const _0x6f4d34=_0x4e0e9f;if(_0x11525d[_0x6f4d34(0xb29)]===_0x11525d[_0x6f4d34(0x51d)]){const _0x3550c7=this[_0x6f4d34(0x42b)]();return _0x3550c7[_0x6f4d34(0x664)]=!![],_0x3550c7;}else _0x5942b6[_0x6f4d34(0x46d)]({'name':_0x11525d[_0x6f4d34(0x9b6)]},{'name':_0x6f4d34(0x20d)},{'name':_0x11525d[_0x6f4d34(0xe8)]},function(_0xd5f2ac,_0x35cfcb,_0x19693c,_0x538c70){const _0x5a41cb=_0x6f4d34;if(_0xd5f2ac)return _0x2f6f7a(_0xd5f2ac);_0x4a93fd[_0x5a41cb(0x46d)]({'name':_0x11525d['jyiCp']},function(_0x2ae913,_0x4e7f9f){const _0xb687d=_0x5a41cb;_0x4e7f9f[_0xb687d(0x98a)]=[_0x35cfcb],_0x4e7f9f['o']=_0x19693c,_0x4e7f9f['a']=[_0x538c70],_0x4e7f9f['save'](_0x5279e4(_0x2f6f7a));});});});function _0x5279e4(_0x29ad56){const _0x345d2b=_0x4e0e9f,_0x102e93={'RKYNi':_0x24a2f1['wMzAh'],'dtGoq':_0x24a2f1['qsFMS'],'NgMOP':function(_0x33ca14,_0x31ed9e){const _0x105037=_0x2d45;return _0x24a2f1[_0x105037(0x9b2)](_0x33ca14,_0x31ed9e);}};if(_0x24a2f1[_0x345d2b(0x56b)]!==_0x24a2f1[_0x345d2b(0x56b)]){const _0x3b717a={'JqICf':function(_0x103a11,_0x41c839){const _0x58da87=_0x345d2b;return _0x11525d[_0x58da87(0xa9b)](_0x103a11,_0x41c839);},'kzGfM':_0x11525d[_0x345d2b(0xcee)],'ayHwj':function(_0x2400bb,_0x34da30){const _0x377742=_0x345d2b;return _0x11525d[_0x377742(0xa9b)](_0x2400bb,_0x34da30);},'LbcPb':function(_0x29ec69,_0x48b756){const _0x275aa0=_0x345d2b;return _0x11525d[_0x275aa0(0xc49)](_0x29ec69,_0x48b756);},'OKOpx':_0x11525d[_0x345d2b(0x745)]};_0x17a62b[_0x345d2b(0x127)](_0x245072),_0x20bcdc[_0x345d2b(0x52a)](_0x239189,[{'path':_0x11525d[_0x345d2b(0x745)],'model':_0x11525d[_0x345d2b(0xaf2)]},{'path':_0x11525d[_0x345d2b(0xcee)],'model':'User'}],function(_0x658fe,_0xb5f760){const _0x33b1b7=_0x345d2b,_0x26b3c6={'AIMjJ':function(_0x57b717,_0x1a134f){const _0x103205=_0x2d45;return _0x3b717a[_0x103205(0x2a0)](_0x57b717,_0x1a134f);},'fbUdK':_0x3b717a[_0x33b1b7(0x92c)],'ARDCF':function(_0x5e93e9,_0x312bb1){return _0x5e93e9(_0x312bb1);}};_0x97b2a0[_0x33b1b7(0x127)](_0x658fe),_0x1dd439['ok'](_0xb5f760),_0x27928c['ok'](_0x3b717a[_0x33b1b7(0x7af)](_0xb5f760[_0x33b1b7(0x5ad)],_0x27d045)),_0x8daa8e[_0x33b1b7(0xcbc)](_0x33b1b7(0x170),_0xb5f760[_0x33b1b7(0x5ad)]['name']),_0x34e741[_0x33b1b7(0xcbc)](_0xb5f760[_0x33b1b7(0xb8b)]['length'],0x2),_0x111b88[_0x33b1b7(0xcbc)](_0xb5f760[_0x33b1b7(0xb8b)][0x0][_0x33b1b7(0x8a8)],_0x56fb8e[_0x33b1b7(0x8a8)]),_0x3a0a1d['equal'](_0xb5f760[_0x33b1b7(0xb8b)][0x1][_0x33b1b7(0x8a8)],_0x58e5e9['name']),_0x46d8a6[_0x33b1b7(0xcbc)](_0x3b717a[_0x33b1b7(0x8c1)](_0x2146bf,_0xb5f760[_0x33b1b7(0x5ad)][_0x33b1b7(0x534)]),_0x3b717a[_0x33b1b7(0x8c1)](_0x38ad09,_0xb5f760[_0x33b1b7(0x118)](_0x3b717a[_0x33b1b7(0x379)]))),_0x541967['ok'](_0x35b414['isArray'](_0xb5f760[_0x33b1b7(0x118)](_0x3b717a[_0x33b1b7(0x92c)]))),_0x3696ad[_0x33b1b7(0x52a)](_0x23baa6,[{'path':_0x33b1b7(0x5ad),'model':_0x33b1b7(0x11f)},{'path':'fans','model':_0x33b1b7(0x11f)}],function(_0x5ee3a0,_0x44378b){const _0xb257c7=_0x33b1b7;_0x1906f6[_0xb257c7(0x127)](_0x5ee3a0),_0x556476['ok'](_0x44378b),_0x330261['ok'](_0x26b3c6[_0xb257c7(0xc7f)](_0x44378b[_0xb257c7(0x5ad)],_0x309a58)),_0x5508bc[_0xb257c7(0xcbc)](_0x44378b[_0xb257c7(0x5ad)]['name'],_0xb257c7(0x170)),_0x522702[_0xb257c7(0xcbc)](_0x44378b['fans'][_0xb257c7(0x2a2)],0x2),_0x3ac327[_0xb257c7(0xcbc)](_0x44378b[_0xb257c7(0xb8b)][0x0][_0xb257c7(0x8a8)],_0x227e6d[_0xb257c7(0x8a8)]),_0x4a7528[_0xb257c7(0xcbc)](_0x44378b[_0xb257c7(0xb8b)][0x1]['name'],_0x5e1db5[_0xb257c7(0x8a8)]),_0x3b4b49['ok'](_0xb7589[_0xb257c7(0x809)](_0x44378b['populated'](_0x26b3c6[_0xb257c7(0x60b)]))),_0x3500ed[_0xb257c7(0xcbc)](_0x51a542(_0x44378b[_0xb257c7(0xb8b)][0x0][_0xb257c7(0x534)]),_0x1016f3(_0x44378b[_0xb257c7(0x118)](_0x26b3c6[_0xb257c7(0x60b)])[0x0])),_0x5318b8[_0xb257c7(0xcbc)](_0x8cd6bb(_0x44378b[_0xb257c7(0xb8b)][0x1][_0xb257c7(0x534)]),_0x26b3c6[_0xb257c7(0x921)](_0x455eb7,_0x44378b[_0xb257c7(0x118)](_0xb257c7(0xb8b))[0x1])),_0x313581();});});}else return function(_0xd97de,_0x3e6acb){const _0x372693=_0x345d2b;if(_0xd97de)return _0x29ad56(_0xd97de);_0x4a93fd[_0x372693(0x770)](_0x3e6acb)[_0x372693(0x2ac)]()[_0x372693(0x37d)](function(_0x367739,_0xecb1c9){const _0x1030c0=_0x372693,_0xc11983={'hsviO':_0x1030c0(0x790),'lxHda':_0x1030c0(0x946),'tZgFd':_0x102e93['RKYNi']};if(_0x1030c0(0xcc4)!==_0x102e93['dtGoq']){if(_0x367739)return _0x102e93[_0x1030c0(0x25c)](_0x29ad56,_0x367739);assert['ok'](_0xecb1c9['o']['_id']),assert['ok'](_0xecb1c9[_0x1030c0(0x98a)][0x0]),assert['ok'](_0xecb1c9[_0x1030c0(0x98a)][0x0]['_id']),assert['ok'](_0xecb1c9['a'][0x0]),assert['ok'](_0xecb1c9['a'][0x0][_0x1030c0(0x534)]),_0x29ad56();}else{const _0x1a952b=new _0x4892a2({'title':_0x3fedba,'author':{'type':_0x1b369f[_0x1030c0(0x101)]['Types'][_0x1030c0(0x2ef)],'ref':_0xc11983[_0x1030c0(0xd4f)]}}),_0x23b735=new _0x17c054({'name':_0x2fab68}),_0x38471a=_0x1b4c33[_0x1030c0(0x807)](_0x1030c0(0x63e),_0x1a952b),_0x4e4cc6=_0x4241ea['model'](_0x1030c0(0x790),_0x23b735),_0x2d3f9b=new _0x4e4cc6({'name':_0xc11983['lxHda']}),_0x523c7c=new _0x38471a({'title':_0xc11983[_0x1030c0(0x1c8)],'author':_0x2d3f9b[_0x1030c0(0x534)]});_0x2ab72c['ok'](!_0x523c7c['author']['name']),_0x662b79[_0x1030c0(0xcbc)](_0x523c7c['author']['toHexString'](),_0x2d3f9b[_0x1030c0(0x534)]['toHexString']()),_0x136b93[_0x1030c0(0xcbc)](_0x523c7c[_0x1030c0(0xc78)]['_id'][_0x1030c0(0x11d)](),_0x2d3f9b[_0x1030c0(0x534)]['toHexString']()),_0x523c7c[_0x1030c0(0xc78)]=_0x2d3f9b,_0x5410f3['equal'](_0x523c7c[_0x1030c0(0xc78)][_0x1030c0(0x8a8)],_0xc11983[_0x1030c0(0x680)]),_0x38fd59[_0x1030c0(0xcbc)](_0x523c7c[_0x1030c0(0xc78)]['_id'][_0x1030c0(0x11d)](),_0x2d3f9b[_0x1030c0(0x534)]['toHexString']());}});};}}),describe('github\x20issues',function(){const _0x150122=_0x4ef2f4,_0x3a1872={'YQOrU':_0x24a2f1[_0x150122(0x910)],'xPdje':'Test\x201','lILxE':_0x24a2f1['YBPRy'],'UlcPX':_0x24a2f1[_0x150122(0x840)],'pStPW':_0x150122(0x222),'UnsrG':_0x24a2f1[_0x150122(0x82e)],'ySytz':function(_0x2caa57,_0x62f76d){return _0x2caa57===_0x62f76d;},'tJTyR':'Movie_Skip','GnvbQ':_0x150122(0x72a),'xVYZt':_0x24a2f1[_0x150122(0x25b)],'WnxFn':_0x24a2f1[_0x150122(0xd09)],'bmmjL':_0x24a2f1[_0x150122(0x958)],'FjSDF':_0x24a2f1['tYoHL'],'MTRMH':function(_0x3e52d1,_0x1ab937){return _0x3e52d1===_0x1ab937;},'OIzFb':_0x150122(0xba3),'gXNaB':_0x24a2f1[_0x150122(0xbc0)],'BEucH':_0x24a2f1['AHAth'],'xzzbh':'toJSON','fSrym':_0x24a2f1[_0x150122(0x9eb)],'tjbvB':_0x150122(0x946),'lafle':_0x24a2f1[_0x150122(0x16c)],'ZFxdh':_0x24a2f1[_0x150122(0x7be)],'iYgMv':_0x150122(0x89e),'SmkMB':_0x150122(0xc20),'ZVPDP':_0x150122(0x890),'VjEbc':_0x150122(0x790),'XucvL':_0x150122(0x58b),'WIkZt':_0x150122(0x438),'LIeIm':_0x24a2f1[_0x150122(0x232)],'aOefN':_0x150122(0x5de),'zuStt':_0x150122(0x9dc),'SCktY':_0x150122(0x8cb),'ABVwl':_0x24a2f1['jTqjI'],'CGmxZ':_0x150122(0x4cc),'OTVED':_0x24a2f1[_0x150122(0x53e)],'iLneN':_0x24a2f1[_0x150122(0x446)],'sKNVK':_0x150122(0x367),'lMVGb':'Test1','uyrtL':_0x150122(0x831),'hXvDD':_0x150122(0xc14),'mZkim':_0x150122(0x396),'oOlpv':'level2','mLmdD':_0x150122(0x4b9),'XyQsn':_0x150122(0xcdc),'iliMI':_0x24a2f1[_0x150122(0x64f)],'uylce':'level\x203/1','zfLJo':_0x24a2f1[_0x150122(0x7e7)],'wbSPS':'createdBy','eCFub':function(_0x257d38){const _0x2c9387=_0x150122;return _0x24a2f1[_0x2c9387(0xb55)](_0x257d38);},'YcVSg':'people','qomaf':function(_0x4d4c5e){const _0x490dc8=_0x150122;return _0x24a2f1[_0x490dc8(0x3da)](_0x4d4c5e);},'StZNh':_0x24a2f1[_0x150122(0x84f)],'VvAvB':_0x24a2f1[_0x150122(0xd01)],'OzFOV':_0x24a2f1['qwRzR'],'ihmcn':_0x150122(0x404),'LtpFm':_0x150122(0x851),'WtDVd':_0x24a2f1[_0x150122(0xb3a)],'HBjdY':_0x24a2f1[_0x150122(0x150)],'QdQGT':_0x150122(0x28c),'ylVqH':function(_0x369c55){const _0x420c2a=_0x150122;return _0x24a2f1[_0x420c2a(0x3d0)](_0x369c55);},'mZvDC':_0x24a2f1['jwqsD'],'BzPSj':_0x150122(0xb93),'xDCpV':_0x24a2f1[_0x150122(0xce5)],'glYsa':_0x24a2f1[_0x150122(0x2bf)],'vcSLd':'File','QqNJm':_0x150122(0x1d8),'lBGzo':_0x24a2f1[_0x150122(0x7cb)],'vqcZO':'Save\x20As','osXnk':_0x150122(0x254),'kArWL':'Redo','enizH':_0x150122(0x90f),'zWFaE':_0x150122(0xc78),'glMrU':_0x24a2f1[_0x150122(0x661)],'Wsctr':_0x24a2f1['TAPfJ'],'EBzsf':_0x24a2f1['MLXzs'],'QAEVV':_0x24a2f1['OothF'],'ixbjP':_0x24a2f1['zNByn'],'dOBPv':_0x150122(0x668),'kyvqK':_0x150122(0x8ce),'TVUUr':_0x24a2f1[_0x150122(0x793)],'xjRAS':_0x24a2f1['YqtZJ'],'FMylr':_0x24a2f1[_0x150122(0x623)],'eRmUt':_0x150122(0x474),'cYlSz':_0x24a2f1['VKfUn'],'tcRwF':_0x150122(0xa02),'TNrzL':function(_0x30c943){return _0x24a2f1['ViAmG'](_0x30c943);},'JOwMY':'FIaRO','aVUNf':_0x24a2f1[_0x150122(0x9ab)],'GpYqC':_0x150122(0x170),'NEcxE':_0x150122(0x2ab),'gfpBs':_0x150122(0x5f1),'FEigQ':_0x150122(0x628),'gvrcg':_0x24a2f1[_0x150122(0xd71)],'psJZn':_0x150122(0x7d2),'jLuxP':_0x150122(0x428),'kiEGY':_0x24a2f1[_0x150122(0x52d)],'pAEbh':_0x24a2f1[_0x150122(0x129)],'NPNtn':function(_0x7e8501,_0x4b6540){const _0xe4e34b=_0x150122;return _0x24a2f1[_0xe4e34b(0x9e7)](_0x7e8501,_0x4b6540);},'RVeDz':function(_0xf6fc1a){return _0xf6fc1a();},'iqzTx':_0x150122(0x450),'ntwEK':'clusters','rgnJF':_0x150122(0x2f1),'PDhSn':function(_0x461ca4,_0x4b94ca){return _0x24a2f1['bHLyw'](_0x461ca4,_0x4b94ca);},'WSdVW':_0x24a2f1[_0x150122(0x873)],'PjqTe':'Child','JheSu':_0x24a2f1[_0x150122(0x93d)],'HBQpk':_0x24a2f1[_0x150122(0x952)],'QJXFb':_0x150122(0x268),'fjTXD':_0x150122(0xcf7),'dUxqp':function(_0x4df552,_0xac8ee9){return _0x4df552!==_0xac8ee9;},'SFLaT':'Author','TmVlo':_0x24a2f1[_0x150122(0x218)],'lluLs':_0x24a2f1['DhxNr'],'TcHId':_0x24a2f1[_0x150122(0xab2)],'SRqFW':_0x150122(0xc2c),'LHlta':_0x24a2f1[_0x150122(0xa97)],'LTdoE':_0x150122(0x171),'FhhJt':function(_0x2f86dc){const _0x5c4b2f=_0x150122;return _0x24a2f1[_0x5c4b2f(0x618)](_0x2f86dc);},'XwjAR':_0x150122(0xb75),'xULyg':_0x150122(0x1c6),'mamdC':_0x24a2f1[_0x150122(0x927)],'gllWM':_0x150122(0x855),'TmCZf':_0x150122(0x287),'lMWfR':_0x150122(0xc7c),'CEnDr':function(_0x46a813,_0x528d0e){return _0x46a813 instanceof _0x528d0e;},'wLWuZ':function(_0x525273,_0x43bac3){const _0x4a59c3=_0x150122;return _0x24a2f1[_0x4a59c3(0xc19)](_0x525273,_0x43bac3);},'IgrOB':function(_0x3714d6,_0x17d536){return _0x3714d6!==_0x17d536;},'jlVMn':'SOTSC','kUvLj':_0x24a2f1[_0x150122(0x9da)],'TNKRS':_0x24a2f1[_0x150122(0x57e)],'PLKHl':function(_0x4226a2,_0x58eb2a){const _0x1338a4=_0x150122;return _0x24a2f1[_0x1338a4(0x814)](_0x4226a2,_0x58eb2a);},'tZLdl':_0x24a2f1[_0x150122(0xc51)],'wlvcG':_0x150122(0x832),'rGjjO':_0x24a2f1[_0x150122(0x558)],'jIjvA':_0x24a2f1['qadaa'],'YhuRG':_0x24a2f1['wdokq'],'SZsJB':_0x24a2f1[_0x150122(0x897)],'xjwdH':_0x24a2f1[_0x150122(0x4f3)],'aSveT':_0x24a2f1['yRatL'],'fIalV':_0x24a2f1[_0x150122(0xc8c)],'QbRez':'userId','jAiKz':_0x24a2f1[_0x150122(0xa16)],'oKtHK':_0x150122(0xbe1),'xpAXb':'Comment','jxZNF':_0x24a2f1['GLQRe'],'babaS':function(_0x5b7637,_0x38c3af){return _0x5b7637<_0x38c3af;},'gpWef':_0x24a2f1[_0x150122(0x2b0)],'BLZgv':_0x150122(0xad2),'SUuXM':_0x150122(0x78a),'lfnTU':_0x150122(0x1c3),'cSsSX':_0x24a2f1['ymrwM'],'ZKRET':_0x150122(0xccd),'gjFmb':_0x150122(0x4cf),'wEosh':'Clicked','GEoqT':'Purchased','BTpHL':'hello','WFnqr':'action-figure-1','HEGWK':_0x24a2f1[_0x150122(0xd32)],'UXVQn':_0x150122(0xba4),'ueAjG':_0x150122(0xa55),'pUgKA':_0x150122(0x98e),'aQBcX':_0x150122(0x4db),'Ffvqz':_0x150122(0x15e),'uAyCP':_0x24a2f1[_0x150122(0x9c8)],'sNYAf':_0x150122(0x9ae),'HZAYV':_0x24a2f1[_0x150122(0x6dc)],'tLckl':_0x150122(0xbe0),'thelq':'managerId\x20supervisorId\x20associatesIds','xTVNG':_0x24a2f1['LtBlF'],'prfXc':_0x24a2f1['GvWLf'],'JETql':_0x150122(0x280),'IcZsA':_0x24a2f1[_0x150122(0x583)],'EZyRA':_0x150122(0xa76),'vxgGb':_0x24a2f1['bdwFb'],'VonYF':_0x24a2f1[_0x150122(0xd6d)],'wKFqV':'Notebook','hBwqJ':_0x150122(0x259),'vwNVR':_0x150122(0x7a6),'MtZnQ':function(_0x4842c,_0x137138,_0x2553f6){const _0x3303a5=_0x150122;return _0x24a2f1[_0x3303a5(0x148)](_0x4842c,_0x137138,_0x2553f6);},'jxezy':_0x24a2f1[_0x150122(0x569)],'tBZWO':function(_0x2b2322,_0x9c9d57,_0x54fc0d){return _0x2b2322(_0x9c9d57,_0x54fc0d);},'XWpMT':_0x150122(0xd67),'tsYwU':_0x24a2f1[_0x150122(0xbd5)],'FDsRx':_0x24a2f1['VOBfL'],'aGRLy':'roomId','DTTdN':function(_0x45f48a,_0x156277){return _0x45f48a(_0x156277);},'qLyYH':_0x24a2f1[_0x150122(0xb6f)],'cvllB':function(_0x16a08d,_0x50c028){return _0x16a08d!==_0x50c028;},'qcFzp':_0x150122(0x79a),'XYWDz':function(_0x27bae8,_0x3bee17){const _0x1bd57b=_0x150122;return _0x24a2f1[_0x1bd57b(0x9b2)](_0x27bae8,_0x3bee17);},'nxPAF':_0x150122(0x74f),'VljWm':_0x150122(0x476),'UbvIx':_0x150122(0xb79),'updrh':_0x150122(0x675),'UtYEG':_0x24a2f1[_0x150122(0x4ad)],'SQFaI':_0x150122(0x3c6),'KoCBB':function(_0x5bf4ff,_0x2ad465){return _0x5bf4ff===_0x2ad465;},'QKjGp':_0x24a2f1['SnXxL'],'kwFob':_0x24a2f1['imfLU'],'SHRID':function(_0x3e5ad9,_0x2807b9){const _0x104b90=_0x150122;return _0x24a2f1[_0x104b90(0x393)](_0x3e5ad9,_0x2807b9);},'ZAufd':_0x24a2f1[_0x150122(0x8e1)],'RDCRX':_0x150122(0x540),'AjYBg':_0x24a2f1[_0x150122(0x6cc)],'nqHCI':_0x24a2f1[_0x150122(0x7f9)],'fnuxW':_0x24a2f1[_0x150122(0x26b)],'PmNqu':_0x150122(0xd0f),'geeBe':_0x150122(0xb04),'GdJCW':_0x24a2f1['JwOrL'],'faJML':_0x150122(0xd29),'rjqYy':_0x150122(0xb5a),'BVZaK':_0x24a2f1[_0x150122(0xb0c)],'sgNeE':_0x24a2f1[_0x150122(0xbae)],'GghYW':_0x24a2f1[_0x150122(0x96c)],'RnBQE':'Scooby','pVwkL':_0x24a2f1['MRAki'],'upmGA':_0x150122(0x98b),'NXitA':_0x24a2f1[_0x150122(0x714)],'OqNEK':function(_0x2b2fd1,_0x327c42){const _0x49c5c4=_0x150122;return _0x24a2f1[_0x49c5c4(0xace)](_0x2b2fd1,_0x327c42);},'sxqlW':_0x150122(0x306),'Rxrzz':_0x24a2f1[_0x150122(0x69e)],'fhsyN':_0x24a2f1[_0x150122(0x2ed)],'qJmiV':_0x24a2f1[_0x150122(0x94c)],'nrakF':function(_0x5d65cd){return _0x5d65cd();},'auhJs':_0x150122(0xaf3),'tPgwa':_0x24a2f1[_0x150122(0xd26)],'gSqBi':_0x24a2f1['IirsS'],'WBCjX':function(_0x3efbb5,_0x4366a9){return _0x3efbb5(_0x4366a9);},'KslLq':'childDocs','DJbjm':_0x150122(0x54e),'vhWCb':_0x150122(0x856),'Povpr':_0x150122(0x138),'jdfLb':_0x150122(0xd28),'ONcal':_0x150122(0xb2a),'RlADU':_0x24a2f1[_0x150122(0x5e8)],'xdIAK':'James','MkNpx':_0x150122(0xa38),'iVKAJ':_0x24a2f1[_0x150122(0x9bf)],'rMIwO':_0x24a2f1[_0x150122(0x302)],'Igzpm':_0x150122(0x785),'jClQY':_0x150122(0xae0),'AmShi':_0x150122(0xc7a),'NdZrc':_0x150122(0xb67),'TVUqU':'comment3','UdhyO':_0x24a2f1['DUlNF'],'heHDY':function(_0x4c5d90,_0x463dd0){const _0x1fb19f=_0x150122;return _0x24a2f1[_0x1fb19f(0x7fb)](_0x4c5d90,_0x463dd0);},'UztiN':_0x24a2f1[_0x150122(0x6f0)],'vFvJt':_0x150122(0x41a),'vHhTb':_0x150122(0x4a0),'tbJFl':function(_0x3fce4d,_0x1e10b6){const _0x1e2ad3=_0x150122;return _0x24a2f1[_0x1e2ad3(0x72b)](_0x3fce4d,_0x1e10b6);},'TmOQz':_0x24a2f1[_0x150122(0xbc8)],'vyMdd':_0x24a2f1[_0x150122(0x89c)],'Dnspe':_0x24a2f1[_0x150122(0x915)],'pHxBm':_0x150122(0x34a),'LmTIN':_0x24a2f1[_0x150122(0x6b1)],'zJIzZ':_0x24a2f1[_0x150122(0x326)],'Rlhen':_0x150122(0x96f),'gJwNs':function(_0x1f606f,_0x42e5f6){const _0x48d097=_0x150122;return _0x24a2f1[_0x48d097(0x82c)](_0x1f606f,_0x42e5f6);},'yeknK':_0x24a2f1[_0x150122(0xbff)],'qOkBs':_0x24a2f1[_0x150122(0x8e8)],'LOgzW':function(_0x4c9cca,_0x275027){return _0x4c9cca(_0x275027);},'AyOnu':_0x24a2f1[_0x150122(0xc33)],'Bvgrb':function(_0x3d8452,_0x44e222){const _0x41b46c=_0x150122;return _0x24a2f1[_0x41b46c(0x153)](_0x3d8452,_0x44e222);},'uRpoO':'qaRMh','arwlm':function(_0x27ba80,_0x365810){return _0x27ba80(_0x365810);},'zSHMP':_0x150122(0xb47),'aGraN':_0x150122(0xc15),'QWywF':_0x24a2f1['yLqyq'],'hwxLS':_0x150122(0x84a),'SOAdh':function(_0x14e81a,_0x5133b3){const _0x5d7037=_0x150122;return _0x24a2f1[_0x5d7037(0x1e9)](_0x14e81a,_0x5133b3);},'IpEoV':_0x24a2f1['pNrGM'],'lQsPa':_0x150122(0x165),'yuWvL':'test3','vCYku':_0x24a2f1['rWvZk'],'eGrHp':_0x24a2f1[_0x150122(0x553)],'HeKSR':_0x24a2f1[_0x150122(0x73f)],'XIuYO':_0x24a2f1[_0x150122(0x41e)],'NrEbG':_0x150122(0x5b5),'VGKmW':_0x150122(0x68e),'uXXYy':_0x24a2f1[_0x150122(0x75b)],'KPIBw':_0x24a2f1['FLTRN'],'zHEwq':'Clean\x20Code','wswMv':_0x150122(0xd0a),'ACuOq':_0x150122(0xce7),'evVbu':_0x24a2f1[_0x150122(0x7e5)],'hFitf':_0x150122(0x323),'xalNr':_0x24a2f1[_0x150122(0x35b)],'mzWDa':_0x24a2f1[_0x150122(0x399)],'KhXJH':_0x24a2f1[_0x150122(0x712)],'XWQEU':_0x24a2f1['TlPON'],'bwSKe':_0x24a2f1[_0x150122(0xc07)],'VozXJ':_0x150122(0xcb0),'zaVts':function(_0x509d78,_0xec2a5){return _0x509d78==_0xec2a5;},'lcKQC':_0x150122(0xd6e),'ERJXD':_0x150122(0x159),'WAWkx':_0x24a2f1[_0x150122(0xd41)],'iWrTi':_0x150122(0x803),'imaYp':_0x24a2f1[_0x150122(0xcfb)],'KEFNY':_0x24a2f1[_0x150122(0xce0)],'pBjxQ':_0x24a2f1['fuuhp'],'mgtoU':_0x150122(0x2b7),'RoTsa':_0x150122(0x184)};_0x24a2f1[_0x150122(0xc92)](it,_0x24a2f1[_0x150122(0x51f)],function(_0x5953a8){const _0x10d577=_0x150122,_0x1ff452={'trLfW':_0x3a1872[_0x10d577(0x5ac)],'zYsgB':_0x10d577(0x684),'eomZb':_0x3a1872['xPdje'],'cXPFJ':_0x10d577(0xbc6)},_0x1f9240=_0x27d0e4[_0x10d577(0x807)](_0x3a1872[_0x10d577(0x3b6)],new Schema({'title':String,'fans':[{'type':ObjectId,'ref':_0x10d577(0x11f)}]})),_0x1e6472=_0x27d0e4[_0x10d577(0x807)](_0x3a1872[_0x10d577(0x8ac)],new Schema({'name':String}));_0x1e6472[_0x10d577(0x46d)]([{'name':_0x10d577(0xb43)},{'name':'Fan\x202'}],function(_0x241c1d,_0x485b0f){const _0x284f44=_0x10d577,_0x2b2127={'quWsA':_0x284f44(0xb80),'JIaov':_0x1ff452['zYsgB']};assert[_0x284f44(0x127)](_0x241c1d);const _0x4b8ad4=[{'title':_0x1ff452[_0x284f44(0x477)],'fans':[_0x485b0f[0x0][_0x284f44(0x534)],_0x485b0f[0x1][_0x284f44(0x534)]]},{'title':_0x1ff452[_0x284f44(0xb9f)],'fans':[_0x485b0f[0x1]['_id'],_0x485b0f[0x0][_0x284f44(0x534)]]}];_0x1f9240['create'](_0x4b8ad4,function(_0x2d5787){const _0x42c434=_0x284f44;assert['ifError'](_0x2d5787),_0x1f9240[_0x42c434(0xc77)]({})[_0x42c434(0x173)](_0x1ff452['trLfW'],[0x0,0x5])['populate'](_0x1ff452[_0x42c434(0x329)])[_0x42c434(0x37d)](function(_0x4de712,_0x4d137c){const _0xb672b4=_0x42c434;assert['ifError'](_0x4de712);const _0x3b0ffb=_0x4d137c['map'](_0x554007=>_0x554007[_0xb672b4(0x132)])['sort']();assert[_0xb672b4(0xcbc)](_0x3b0ffb[0x0],_0x2b2127[_0xb672b4(0xaaa)]),assert['equal'](_0x3b0ffb[0x1],_0xb672b4(0xbc6));const _0x8703b7=_0x4d137c[_0xb672b4(0xc77)](_0x4b9019=>_0x4b9019[_0xb672b4(0x132)]===_0xb672b4(0xb80));assert[_0xb672b4(0xcbc)](_0x8703b7[_0xb672b4(0xb8b)][0x0]['name'],_0xb672b4(0xb43)),assert[_0xb672b4(0xcbc)](_0x8703b7[_0xb672b4(0xb8b)][0x1]['name'],_0x2b2127[_0xb672b4(0x46b)]);const _0x219b0f=_0x4d137c[_0xb672b4(0xc77)](_0x1aa8a6=>_0x1aa8a6[_0xb672b4(0x132)]===_0xb672b4(0xbc6));assert[_0xb672b4(0xcbc)](_0x219b0f[_0xb672b4(0xb8b)][0x0][_0xb672b4(0x8a8)],_0xb672b4(0x684)),assert[_0xb672b4(0xcbc)](_0x219b0f[_0xb672b4(0xb8b)][0x1][_0xb672b4(0x8a8)],_0xb672b4(0xb43)),_0x5953a8();});});});}),it('populate\x20+\x20slice\x20(gh-5737a)',function(_0xbb9d9a){const _0x46747c=_0x150122,_0x95ec9d={'PQoev':_0x24a2f1[_0x46747c(0xc45)],'YmWqf':_0x24a2f1['FlDiS'],'OqIgn':_0x24a2f1[_0x46747c(0xa91)]},_0x48b64e=_0x27d0e4[_0x46747c(0x807)](_0x24a2f1['YBPRy'],new Schema({'title':String,'user':{'type':ObjectId,'ref':_0x24a2f1[_0x46747c(0x840)]},'fans':[{'type':ObjectId}]})),_0x4bc27c=_0x27d0e4[_0x46747c(0x807)](_0x46747c(0x11f),new Schema({'name':String}));_0x4bc27c[_0x46747c(0x46d)]([{'name':_0x46747c(0xb43)}],function(_0x1436f6,_0x860400){const _0x20b0c2=_0x46747c;assert[_0x20b0c2(0x127)](_0x1436f6);const _0x3d4737=[{'title':_0x95ec9d['PQoev'],'user':_0x860400[0x0][_0x20b0c2(0x534)],'fans':[_0x860400[0x0]['_id']]}];_0x48b64e['create'](_0x3d4737,function(_0x31e9d5){const _0x1cf71d=_0x20b0c2,_0x9445a0={'WXLGw':_0x95ec9d[_0x1cf71d(0x3b3)]};assert[_0x1cf71d(0x127)](_0x31e9d5),_0x48b64e[_0x1cf71d(0xc77)]({})[_0x1cf71d(0x173)](_0x95ec9d[_0x1cf71d(0x262)],[0x0,0x2])['populate'](_0x95ec9d[_0x1cf71d(0x16b)])[_0x1cf71d(0x37d)](function(_0x471ee4,_0x41ea4b){const _0x1871eb=_0x1cf71d;assert['ifError'](_0x31e9d5),assert['equal'](_0x41ea4b[0x0]['user'][_0x1871eb(0x8a8)],_0x1871eb(0xb43)),assert['equal'](_0x41ea4b[0x0][_0x1871eb(0x132)],_0x9445a0[_0x1871eb(0x8b5)]),_0xbb9d9a();});});});}),it(_0x24a2f1[_0x150122(0x1e5)],async function(){const _0x2a90de=_0x150122,_0x5f4a1b={'xZNdR':_0x24a2f1[_0x2a90de(0x53e)]},_0x3c4a1a=new Schema({'body':String,'mediaAttach':{'type':Schema['ObjectId'],'ref':_0x24a2f1[_0x2a90de(0x4f4)]},'author':String}),_0x2696d4=_0x27d0e4['model'](_0x2a90de(0xb04),_0x3c4a1a),_0x162472=new Schema({'filename':String}),_0x29f5bc=_0x27d0e4[_0x2a90de(0x807)](_0x24a2f1[_0x2a90de(0x4f4)],_0x162472),_0x23c46a=await _0x29f5bc[_0x2a90de(0x46d)]({'filename':_0x2a90de(0x83e)});await _0x2696d4[_0x2a90de(0x46d)]({'body':_0x24a2f1['FZWFi'],'author':'a'},{'body':_0x2a90de(0x92f),'author':'a','mediaAttach':_0x23c46a['_id']},{'body':_0x2a90de(0xaf8),'author':'a'});const _0x48f179=await _0x2696d4[_0x2a90de(0xc77)]()[_0x2a90de(0x52a)](_0x2a90de(0x986)),_0xc4a2a4=_0x48f179[_0x2a90de(0x728)](function(_0x596063){const _0x43bfca=_0x2a90de;return _0x3a1872[_0x43bfca(0xd0e)]!==_0x3a1872[_0x43bfca(0x65c)]?_0x3a1872['ySytz'](_0x596063[_0x43bfca(0x467)],_0x43bfca(0x92f)):_0x39e8d0['find']()[_0x43bfca(0x52a)]('a')[_0x43bfca(0x22b)]([[_0x5f4a1b[_0x43bfca(0x502)],0x1]])[_0x43bfca(0x37d)]();})[0x0];assert[_0x2a90de(0xcbc)](_0xc4a2a4['mediaAttach']['id'],_0x23c46a['id']);}),_0x24a2f1['UkMVZ'](it,_0x24a2f1[_0x150122(0x8ae)],async function(){const _0x1579fe=_0x150122,_0x513d32=new Schema({}),_0x57c10f=new Schema({'movies':[{'type':ObjectId,'ref':_0x3a1872['tJTyR']}]}),_0x2749d3=_0x27d0e4[_0x1579fe(0x807)](_0x3a1872[_0x1579fe(0x611)],_0x513d32),_0xec347b=_0x27d0e4[_0x1579fe(0x807)](_0x1579fe(0x1d6),_0x57c10f);await _0x2749d3[_0x1579fe(0x46d)]([{},{},{}]);const _0x3f1b56=await _0x2749d3[_0x1579fe(0xc77)]({});assert[_0x1579fe(0xcbc)](_0x3f1b56[_0x1579fe(0x2a2)],0x3),await _0xec347b[_0x1579fe(0x46d)]({'movies':_0x3f1b56});const _0x394ea8=await _0xec347b[_0x1579fe(0x3dd)]({})[_0x1579fe(0x52a)]({'path':_0x1579fe(0x270),'options':{'limit':0x2,'skip':0x1}})['exec']();assert[_0x1579fe(0xcbc)](_0x394ea8[_0x1579fe(0x270)][_0x1579fe(0x2a2)],0x2);}),_0x24a2f1[_0x150122(0xfd)](it,'handles\x20slice\x20(gh-1934)',async function(){const _0x3b4a66=_0x150122,_0x1e64e8=new Schema({'title':String,'actors':[String]}),_0x1e91fa=new Schema({'movies':[{'type':ObjectId,'ref':_0x3b4a66(0xae5)}]}),_0x1d3300=_0x27d0e4[_0x3b4a66(0x807)]('Movie_Slice',_0x1e64e8),_0x2600ba=_0x27d0e4[_0x3b4a66(0x807)](_0x3b4a66(0x1d6),_0x1e91fa),_0x17e19c=await _0x1d3300[_0x3b4a66(0x46d)]([{'title':_0x3b4a66(0x45a),'actors':[_0x3a1872['GnvbQ'],'Daniel\x20Bruhl']},{'title':_0x3b4a66(0x923),'actors':[_0x3a1872[_0x3b4a66(0x327)],_0x3b4a66(0x713)]},{'title':_0x3a1872['WnxFn'],'actors':[_0x3a1872[_0x3b4a66(0xb1f)],_0x3b4a66(0x82b)]}]);await _0x2600ba[_0x3b4a66(0x46d)]({'movies':_0x17e19c});const _0x39ccf7=await _0x2600ba['findOne']({})[_0x3b4a66(0x52a)]({'path':_0x3b4a66(0x270),'options':{'slice':{'actors':0x1}}});assert[_0x3b4a66(0xcbc)](_0x39ccf7['movies'][_0x3b4a66(0x2a2)],0x3),assert[_0x3b4a66(0xcbc)](_0x39ccf7[_0x3b4a66(0x270)][0x0][_0x3b4a66(0xb66)]['length'],0x1),assert[_0x3b4a66(0xcbc)](_0x39ccf7[_0x3b4a66(0x270)][0x1][_0x3b4a66(0xb66)][_0x3b4a66(0x2a2)],0x1),assert['equal'](_0x39ccf7['movies'][0x2][_0x3b4a66(0xb66)][_0x3b4a66(0x2a2)],0x1);}),it(_0x24a2f1[_0x150122(0xc69)],async function(){const _0x46277d=_0x150122,_0x514cfd=new Schema({'name':String}),_0x226aa4=_0x27d0e4['model'](_0x46277d(0x5ee),_0x514cfd),_0x22bb72=new Schema({'children1':[{'child':{'type':mongoose[_0x46277d(0x101)][_0x46277d(0xc4a)][_0x46277d(0x2ef)],'ref':_0x46277d(0x5ee)},'test':Number}],'children2':[{'type':mongoose[_0x46277d(0x101)][_0x46277d(0xc4a)][_0x46277d(0x2ef)],'ref':_0x46277d(0x5ee)}]}),_0x181186=_0x27d0e4[_0x46277d(0x807)](_0x46277d(0x855),_0x22bb72),_0x52085c=await _0x226aa4['create']([{'name':_0x46277d(0x165)},{'name':_0x3a1872[_0x46277d(0x122)]}]),_0xff0ce=await _0x181186['create']({'children1':[{'child':_0x52085c[0x0]['_id'],'test':0x1},{'child':_0x52085c[0x1][_0x46277d(0x534)],'test':0x2}],'children2':[_0x52085c[0x0][_0x46277d(0x534)],_0x52085c[0x1][_0x46277d(0x534)]]}),_0x473af8=await _0x181186[_0x46277d(0x770)](_0xff0ce)['populate'](_0x46277d(0x993));assert['equal'](_0x473af8[_0x46277d(0x993)][0x0][_0x46277d(0x8a8)],_0x46277d(0x165));const _0x339a01=await _0x181186['findById'](_0x473af8)[_0x46277d(0x52a)]({'path':'children1.child','options':{'sort':_0x46277d(0x95e)}})[_0x46277d(0xc12)](()=>null,_0x53bbb8=>_0x53bbb8);assert[_0x46277d(0x16e)](_0x339a01[_0x46277d(0x690)][_0x46277d(0x791)](_0x46277d(0x35a)),-0x1);}),it('handles\x20toObject()\x20(gh-3279)',function(_0x4ae412){const _0x167b52=_0x150122,_0x4a7d37={'mAJUT':_0x3a1872[_0x167b52(0xac1)],'pMIaI':_0x167b52(0xa7b)},_0x1cb696=new Schema({'members':[{'user':{'type':ObjectId,'ref':_0x3a1872[_0x167b52(0x8ac)]},'role':String}]});let _0x3d5e20=0x0;_0x1cb696[_0x167b52(0x405)](_0x3a1872[_0x167b52(0xb19)],{'transform':function(_0x39c350,_0x30cff7){const _0x47f0d5=_0x167b52;if(_0x3a1872['MTRMH'](_0x3a1872[_0x47f0d5(0xa5e)],_0x3a1872[_0x47f0d5(0xa69)])){const _0xb4c32c={'wgGsE':_0x4a7d37[_0x47f0d5(0x994)]};_0x1337df['ifError'](_0x525020),_0x2f0e0c['create']({'openId':_0x4a7d37['pMIaI']},{'openId':_0x47f0d5(0xaee)},function(_0x2a8f16){const _0x1fa6a4=_0x47f0d5;_0x44e243[_0x1fa6a4(0x127)](_0x2a8f16),_0x463055[_0x1fa6a4(0xc77)]()[_0x1fa6a4(0x22b)]({'openId':0x1})[_0x1fa6a4(0x52a)](_0xb4c32c[_0x1fa6a4(0x7d0)])['exec'](function(_0x5e299a,_0x2a3845){const _0x53ffb7=_0x1fa6a4;_0x162cb7['ifError'](_0x5e299a),_0x409768['ok'](_0x2a3845[0x0][_0x53ffb7(0x6e5)]),_0x16b0d4['ok'](_0x2a3845[0x1][_0x53ffb7(0x6e5)]);const _0x24f4b7=_0x2a3845[_0x53ffb7(0x847)](function(_0x4bcea6){const _0x57ac94=_0x53ffb7;return _0x4bcea6[_0x57ac94(0x6e5)][_0x57ac94(0xcf)];});_0x9e2ddf[_0x53ffb7(0x829)](_0x24f4b7,[_0x53ffb7(0xa7b),_0x53ffb7(0xaee)]),_0x3e44ad();});});}else return++_0x3d5e20,_0x30cff7;}});const _0x5cc7cc=_0x27d0e4[_0x167b52(0x807)]('Test',_0x1cb696),_0x22efd5=new Schema({'username':String});_0x22efd5[_0x167b52(0x405)](_0x3a1872[_0x167b52(0xb19)],{'transform':function(_0x1492f4,_0x135979){return _0x135979;}});const _0x269a97=_0x27d0e4['model'](_0x167b52(0x11f),_0x22efd5),_0x44b9d1=new _0x269a97({'username':_0x167b52(0x438)});_0x44b9d1[_0x167b52(0x87f)](function(_0x4c6eb1){const _0x20cac0=_0x167b52;assert[_0x20cac0(0x127)](_0x4c6eb1);const _0x973055=new _0x5cc7cc({'members':[{'user':_0x44b9d1}]});_0x973055[_0x20cac0(0x87f)](function(_0x181508){const _0x29fe49=_0x20cac0;assert['ifError'](_0x181508),_0x973055[_0x29fe49(0x52a)](_0x29fe49(0x932),function(){_0x973055['toJSON'](),assert['equal'](_0x3d5e20,0x1),_0x4ae412();});});});}),it(_0x24a2f1['LYhnN'],async function(){const _0x51c181=_0x150122,_0x4b42a3=_0x27d0e4[_0x51c181(0x807)](_0x3a1872['UlcPX'],{'name':String}),_0xc6c5f7=_0x27d0e4[_0x51c181(0x807)](_0x3a1872[_0x51c181(0x739)],{'users':[{'type':mongoose[_0x51c181(0x101)]['Types'][_0x51c181(0x2ef)],'ref':_0x51c181(0x11f)}],'name':String}),_0x364dd0=await _0x4b42a3[_0x51c181(0x46d)]({'name':_0x3a1872[_0x51c181(0xaf1)]}),_0xccfc49=await _0xc6c5f7['create']({'users':[_0x364dd0[_0x51c181(0x534)]],'name':_0x51c181(0xc20)}),_0x5779f6=await _0xc6c5f7[_0x51c181(0xc77)]({'_id':_0xccfc49[_0x51c181(0x534)]},_0x51c181(0x95e),{'populate':{'path':_0x51c181(0x287),'model':_0x51c181(0x11f)}});assert['ok'](_0x5779f6[0x0]['users'][0x0][_0x51c181(0x534)]);}),it(_0x150122(0xceb),async function(){const _0xab9599=_0x150122,_0x577488={'discriminatorKey':_0x3a1872[_0xab9599(0xaab)]},_0x1c5c01=new Schema({'title':{'type':String}},_0x577488),_0x4622a8=new Schema({'postedBy':{'type':Schema[_0xab9599(0xc4a)][_0xab9599(0x2ef)],'ref':_0xab9599(0x11f),'required':!![]}},_0x577488),_0x5abd5e=new Schema({'test':String},_0x577488),_0x2ed075=_0x27d0e4[_0xab9599(0x807)](_0x3a1872[_0xab9599(0x8ac)],{'name':String}),_0x41d118=_0x27d0e4['model'](_0xab9599(0x438),_0x1c5c01),_0x2cbc1e=_0x41d118[_0xab9599(0x65b)](_0x3a1872[_0xab9599(0xb7e)],_0x4622a8),_0x611b29=_0x41d118[_0xab9599(0x65b)](_0x3a1872[_0xab9599(0xc79)],_0x5abd5e),_0x5ad77f=await _0x2ed075[_0xab9599(0x46d)]({'name':_0xab9599(0x890)}),_0x54451a={'title':_0x3a1872[_0xab9599(0x778)],'postedBy':_0x5ad77f['_id']};await _0x2cbc1e[_0xab9599(0x46d)](_0x54451a),await _0x611b29[_0xab9599(0x46d)]({'title':_0xab9599(0x112),'test':_0xab9599(0xc20)});const _0x4b7d83=await _0x41d118[_0xab9599(0xc77)]({})[_0xab9599(0x52a)](_0xab9599(0x3bf));assert[_0xab9599(0xcbc)](_0x4b7d83[_0xab9599(0x2a2)],0x2),assert['equal'](_0x4b7d83[0x0][_0xab9599(0x3bf)][_0xab9599(0x8a8)],_0x3a1872[_0xab9599(0x20f)]);}),it(_0x24a2f1['SZdDl'],async function(){const _0x201e9d=_0x150122,_0x758740=new Schema({'name':{'type':String}}),_0x28b02b=new Schema({'title':String,'person':{'type':Schema['Types'][_0x201e9d(0x2ef)],'ref':_0x201e9d(0x790)}}),_0x2890e5=_0x27d0e4[_0x201e9d(0x807)](_0x3a1872[_0x201e9d(0x652)],_0x758740),_0x219fa7=_0x27d0e4['model'](_0x201e9d(0xbd6),_0x28b02b),_0x32f31b=await _0x2890e5[_0x201e9d(0x46d)]({'name':_0x201e9d(0x946)}),_0x54c985=await _0x219fa7[_0x201e9d(0x46d)]({'title':_0x201e9d(0x36a),'person':_0x32f31b[_0x201e9d(0x534)]}),_0x47aa8b=await _0x219fa7[_0x201e9d(0x770)](_0x54c985[_0x201e9d(0x534)]);_0x47aa8b[_0x201e9d(0xd08)]=_0x32f31b,assert['ok'](!_0x47aa8b[_0x201e9d(0x32a)](_0x201e9d(0xd08)));}),it(_0x24a2f1[_0x150122(0x66e)],async function(){const _0x300266=_0x150122,_0x2b75cc=new Schema({'name':{'type':String}}),_0x469cf6=new Schema({'name':{'type':String},'members':[{'type':Schema['Types']['ObjectId'],'ref':_0x3a1872[_0x300266(0x652)]}]}),_0x21e135=new Schema({'team':{'type':Schema[_0x300266(0xc4a)][_0x300266(0x2ef)],'ref':_0x3a1872[_0x300266(0x97b)]},'opponent':{'type':Schema[_0x300266(0xc4a)]['ObjectId'],'ref':'Team'}}),_0x5b0252=_0x27d0e4['model'](_0x3a1872[_0x300266(0x652)],_0x2b75cc),_0x1824fa=_0x27d0e4['model'](_0x3a1872['XucvL'],_0x469cf6),_0xb754ae=_0x27d0e4[_0x300266(0x807)](_0x3a1872[_0x300266(0x884)],_0x21e135),_0x424c45=await _0x5b0252['create']([{'name':'Shaq'},{'name':_0x300266(0xd3e)},{'name':_0x300266(0x9b5)},{'name':_0x3a1872[_0x300266(0x878)]},{'name':_0x3a1872[_0x300266(0xce8)]},{'name':_0x3a1872[_0x300266(0x79e)]}]),_0x28042a={'name':_0x300266(0xaad),'members':[_0x424c45[0x0][_0x300266(0x534)],_0x424c45[0x1][_0x300266(0x534)],_0x424c45[0x2][_0x300266(0x534)]]},_0x40f5a0={'name':_0x300266(0x554),'members':[_0x424c45[0x3][_0x300266(0x534)],_0x424c45[0x4][_0x300266(0x534)],_0x424c45[0x5]['_id']]},_0x324935=await _0x1824fa[_0x300266(0x46d)]([_0x28042a,_0x40f5a0]),_0x1e60b6=await _0xb754ae[_0x300266(0x46d)]({'team':_0x324935[0x0][_0x300266(0x534)],'opponent':_0x324935[0x1]['_id']}),_0x30b4d5=await _0xb754ae['findById'](_0x1e60b6[_0x300266(0x534)])[_0x300266(0x52a)]({'path':_0x3a1872[_0x300266(0x92a)],'select':_0x3a1872[_0x300266(0xd47)],'populate':{'path':_0x3a1872[_0x300266(0xc38)],'select':_0x3a1872[_0x300266(0x7ed)]}}),_0x31b1eb=_0x30b4d5[_0x300266(0x331)]()[_0x300266(0x8cb)][_0x300266(0x4cc)][_0x300266(0x847)](function(_0x546cc3){const _0x5ef644=_0x300266;return _0x546cc3[_0x5ef644(0x8a8)];});assert['deepEqual'](_0x31b1eb,[_0x3a1872[_0x300266(0x967)],_0x300266(0xd3e),'Horry']);}),it(_0x150122(0x539),async function(){const _0x15dfd8=_0x150122,_0x408c14=new Schema({'name':{'type':String}}),_0x46e6fa=new Schema({'name':{'type':String},'members':[{'type':Schema[_0x15dfd8(0xc4a)][_0x15dfd8(0x2ef)],'ref':_0x24a2f1[_0x15dfd8(0xd63)]}]}),_0x432f50=new Schema({'teams':[{'type':Schema[_0x15dfd8(0xc4a)]['ObjectId'],'ref':_0x15dfd8(0x58b)}]}),_0x57e2c1=_0x27d0e4['model']('Person',_0x408c14),_0x454dfd=_0x27d0e4['model'](_0x24a2f1[_0x15dfd8(0x48a)],_0x46e6fa),_0x392c5d=_0x27d0e4[_0x15dfd8(0x807)](_0x15dfd8(0x438),_0x432f50),_0xf0c2b3=await _0x57e2c1[_0x15dfd8(0x46d)]([{'name':_0x15dfd8(0x629)},{'name':_0x15dfd8(0xd3e)},{'name':_0x24a2f1['QxhQp']},{'name':_0x24a2f1[_0x15dfd8(0x232)]},{'name':_0x24a2f1[_0x15dfd8(0xba1)]},{'name':_0x15dfd8(0x9dc)}]),_0xb9de07={'name':'Lakers','members':[_0xf0c2b3[0x0][_0x15dfd8(0x534)],_0xf0c2b3[0x1][_0x15dfd8(0x534)],_0xf0c2b3[0x2][_0x15dfd8(0x534)]]},_0x1ce719={'name':_0x15dfd8(0x554),'members':[_0xf0c2b3[0x3][_0x15dfd8(0x534)],_0xf0c2b3[0x4][_0x15dfd8(0x534)],_0xf0c2b3[0x5][_0x15dfd8(0x534)]]},_0x19c9f8=await _0x454dfd['create']([_0xb9de07,_0x1ce719]),_0x57beb7={'teams':[_0x19c9f8[0x0][_0x15dfd8(0x534)],_0x19c9f8[0x1]['_id']]},{_id:_0x5896aa}=await _0x392c5d[_0x15dfd8(0x46d)](_0x57beb7),_0x3de6ad=await _0x392c5d['findById'](_0x5896aa)[_0x15dfd8(0x52a)]({'path':_0x15dfd8(0x3c0),'select':'name\x20members','populate':{'path':_0x15dfd8(0x4cc),'select':_0x24a2f1[_0x15dfd8(0x53e)]}}),_0x10cb17=_0x3de6ad[_0x15dfd8(0x331)]()['teams'][0x0][_0x15dfd8(0x4cc)][_0x15dfd8(0x627)](_0x3de6ad[_0x15dfd8(0x331)]()[_0x15dfd8(0x3c0)][0x1]['members']),_0x18fc57=_0x10cb17['map'](function(_0x27c9d7){const _0x101de8=_0x15dfd8;return _0x27c9d7[_0x101de8(0x8a8)];});assert[_0x15dfd8(0x829)](_0x18fc57,[_0x24a2f1[_0x15dfd8(0x446)],'Kobe','Horry',_0x15dfd8(0x5d9),_0x15dfd8(0x5de),_0x24a2f1[_0x15dfd8(0x6b6)]]);}),it(_0x24a2f1[_0x150122(0x5f3)],async function(){const _0x5c9980=_0x150122,_0xa873ee=new Schema({'name':{'type':String}}),_0x494d3b=new Schema({'name':{'type':String},'level4':[{'type':Schema[_0x5c9980(0xc4a)][_0x5c9980(0x2ef)],'ref':_0x3a1872[_0x5c9980(0x760)]}]}),_0x24da96=new Schema({'name':{'type':String},'level3':[{'type':Schema[_0x5c9980(0xc4a)][_0x5c9980(0x2ef)],'ref':_0x5c9980(0x8ce)}]}),_0x226e23=new Schema({'name':{'type':String},'level2':[{'type':Schema[_0x5c9980(0xc4a)][_0x5c9980(0x2ef)],'ref':_0x3a1872[_0x5c9980(0xafd)]}]}),_0x239a31=_0x27d0e4[_0x5c9980(0x807)](_0x5c9980(0x367),_0xa873ee),_0x39c223=_0x27d0e4[_0x5c9980(0x807)](_0x5c9980(0x8ce),_0x494d3b),_0x1957bc=_0x27d0e4['model']('Test1',_0x24da96),_0x129551=_0x27d0e4['model'](_0x5c9980(0x438),_0x226e23),_0x464f20=[{'name':_0x3a1872[_0x5c9980(0x8c6)]}],_0x58c89e=await _0x239a31[_0x5c9980(0x46d)](_0x464f20),_0x403026=[{'name':_0x5c9980(0x2a1),'level4':_0x58c89e[0x0][_0x5c9980(0x534)]}],_0xbd4713=await _0x39c223['create'](_0x403026)[_0x5c9980(0x412)](_0x5f9e42=>{console['log'](_0x5f9e42);throw _0x5f9e42;}),_0x3cd401=[{'name':_0x3a1872[_0x5c9980(0xb02)],'level3':_0xbd4713[0x0][_0x5c9980(0x534)]}],_0x1b722d=await _0x1957bc['create'](_0x3cd401),_0x416bf8=[{'name':_0x3a1872[_0x5c9980(0xb17)],'level2':_0x1b722d[0x0][_0x5c9980(0x534)]}],_0x556a5f=await _0x129551[_0x5c9980(0x46d)](_0x416bf8),_0x59dba6={'path':_0x3a1872[_0x5c9980(0x8e5)],'populate':{'path':_0x3a1872[_0x5c9980(0xadb)],'populate':{'path':_0x3a1872[_0x5c9980(0x3ba)]}}},_0x1c9869=await _0x129551['findById'](_0x556a5f[0x0][_0x5c9980(0x534)])[_0x5c9980(0x52a)](_0x59dba6)[_0x5c9980(0x37d)]();assert[_0x5c9980(0xcbc)](_0x1c9869['level2'][0x0][_0x5c9980(0x4b9)][0x0][_0x5c9980(0xcdc)][0x0]['name'],_0x5c9980(0x831));}),_0x24a2f1[_0x150122(0x709)](it,_0x150122(0x2f5),async function(){const _0x3c8686=_0x150122,_0x25b365=new Schema({'name':{'type':String}}),_0x4033e6=new Schema({'name':{'type':String},'level31':[{'type':Schema[_0x3c8686(0xc4a)]['ObjectId'],'ref':_0x3c8686(0x438)}],'level32':[{'type':Schema[_0x3c8686(0xc4a)]['ObjectId'],'ref':_0x3c8686(0x438)}]}),_0x1a82b8=new Schema({'name':{'type':String},'level2':[{'type':Schema['Types'][_0x3c8686(0x2ef)],'ref':'Test1'}]}),_0x4038bc=_0x27d0e4['model'](_0x3c8686(0x438),_0x25b365),_0x47df98=_0x27d0e4[_0x3c8686(0x807)](_0x3c8686(0x256),_0x4033e6),_0x77c8d5=_0x27d0e4['model'](_0x3c8686(0x8ce),_0x1a82b8);let _0x55d080=[{'name':'level\x203/1'},{'name':_0x3c8686(0x657)}];_0x55d080=await _0x4038bc[_0x3c8686(0x46d)](_0x55d080);const _0x40e14d=await _0x47df98[_0x3c8686(0x46d)]([{'name':_0x3c8686(0xc14),'level31':_0x55d080[0x0][_0x3c8686(0x534)],'level32':_0x55d080[0x1][_0x3c8686(0x534)]}]),_0x30e1ca=await _0x77c8d5[_0x3c8686(0x46d)]([{'name':_0x3a1872[_0x3c8686(0xb17)],'level2':_0x40e14d[0x0][_0x3c8686(0x534)]}]),_0x3b0ef0=await _0x77c8d5['findById'](_0x30e1ca[0x0]['_id'])[_0x3c8686(0x52a)]({'path':_0x3c8686(0x849),'populate':[{'path':_0x3c8686(0xc22)}]})[_0x3c8686(0x52a)]({'path':_0x3c8686(0x849),'populate':[{'path':_0x3a1872[_0x3c8686(0xc59)]}]});assert[_0x3c8686(0xcbc)](_0x3b0ef0[_0x3c8686(0x849)][0x0][_0x3c8686(0xc22)][0x0][_0x3c8686(0x8a8)],_0x3a1872[_0x3c8686(0x9aa)]),assert['equal'](_0x3b0ef0[_0x3c8686(0x849)][0x0][_0x3c8686(0x235)][0x0][_0x3c8686(0x8a8)],_0x3c8686(0x657));}),_0x24a2f1['cWmLC'](it,_0x24a2f1[_0x150122(0x6d5)],function(){const _0x172e2d=_0x150122,_0x13b0e2={'WVeTB':_0x24a2f1[_0x172e2d(0x53e)],'aIWqC':_0x172e2d(0x66f),'lLdGg':function(_0x2f2596,_0x140df8){return _0x2f2596===_0x140df8;},'VJImb':_0x24a2f1['AHAth'],'OPkcU':function(_0x4f50a7,_0x58cc2b){return _0x4f50a7!==_0x58cc2b;}},_0x26d360=new Schema({'name':String}),_0x1f5fd5=new Schema({'content':String}),_0x28e946=new Schema({'title':String}),_0xf76110=new Schema({'name':String,'createdAt':{'type':Date,'default':Date[_0x172e2d(0xa58)]}}),_0x824466=new Schema({'user':{'type':ObjectId,'ref':_0x24a2f1[_0x172e2d(0x840)]}}),_0x189cf1=new Schema({'comment':{'type':ObjectId,'ref':_0x172e2d(0x39a)}}),_0x2cc841=new Schema({'blogpost':{'type':ObjectId,'ref':_0x172e2d(0x63e)}}),_0x452ce6=_0x27d0e4[_0x172e2d(0x807)](_0x24a2f1['pGlZv'],_0x26d360),_0x4cc0aa=_0x27d0e4[_0x172e2d(0x807)](_0x172e2d(0x39a),_0x1f5fd5),_0x52d4ff=_0x27d0e4['model'](_0x172e2d(0x63e),_0x28e946),_0x5f2128=_0x27d0e4[_0x172e2d(0x807)]('Test',_0xf76110),_0xfcce32=_0x5f2128[_0x172e2d(0x65b)](_0x24a2f1[_0x172e2d(0x43a)],_0x824466),_0x1602cd=_0x5f2128[_0x172e2d(0x65b)](_0x24a2f1[_0x172e2d(0x99d)],_0x189cf1),_0x2ba278=_0x5f2128[_0x172e2d(0x65b)](_0x24a2f1[_0x172e2d(0xc47)],_0x2cc841),_0x4a3c1f=new _0x452ce6({'name':_0x172e2d(0xaa3)}),_0x77da72=new _0x452ce6({'name':_0x24a2f1[_0x172e2d(0xc71)]}),_0xba45a=new _0x452ce6({'name':_0x172e2d(0xafa)}),_0x8a2e4f=new _0x4cc0aa({'content':'comment\x201'}),_0x30185b=new _0x4cc0aa({'content':_0x172e2d(0x582)}),_0x20b83a=new _0x4cc0aa({'content':_0x172e2d(0x207)}),_0x556067=new _0x52d4ff({'title':_0x24a2f1['vJaKQ']}),_0x4061d4=new _0x52d4ff({'title':_0x172e2d(0x7eb)}),_0x455a5d=new _0x52d4ff({'title':_0x24a2f1[_0x172e2d(0x7cc)]}),_0x40d51c=new _0xfcce32({'user':_0x4a3c1f}),_0x1e75ac=new _0xfcce32({'user':_0x77da72}),_0x5bdec6=new _0xfcce32({'user':_0xba45a}),_0x4e13a9=new _0x1602cd({'comment':_0x8a2e4f}),_0x68325f=new _0x1602cd({'comment':_0x30185b}),_0x3507af=new _0x1602cd({'comment':_0x20b83a}),_0x307dc1=new _0x2ba278({'blogpost':_0x556067}),_0x5bf223=new _0x2ba278({'blogpost':_0x4061d4}),_0x286c3b=new _0x2ba278({'blogpost':_0x455a5d}),_0x5ded47=[_0x4a3c1f,_0x77da72,_0xba45a,_0x8a2e4f,_0x30185b,_0x20b83a,_0x556067,_0x4061d4,_0x455a5d,_0x4e13a9,_0x40d51c,_0x307dc1,_0x68325f,_0x1e75ac,_0x5bf223,_0x3507af,_0x5bdec6,_0x286c3b];return Promise[_0x172e2d(0x848)](_0x5ded47['map'](_0x2072b7=>_0x2072b7['save']()))['then'](()=>_0x5f2128[_0x172e2d(0xc77)]({})[_0x172e2d(0x52a)](_0x172e2d(0xa53)))[_0x172e2d(0xc12)](_0x48de85=>{const _0x70ecb4=_0x172e2d,_0x301525={'GPtSf':_0x70ecb4(0x922),'GbebF':_0x13b0e2[_0x70ecb4(0x5a2)],'pZfZD':_0x13b0e2[_0x70ecb4(0x5b0)],'mSxqU':function(_0x4c3c8b,_0x414473){const _0x2dd254=_0x70ecb4;return _0x13b0e2[_0x2dd254(0x6c7)](_0x4c3c8b,_0x414473);},'gQphb':_0x13b0e2['VJImb'],'ierob':_0x70ecb4(0xa0f),'cTfnw':function(_0x3b0f91,_0x5c0d64){const _0x71ecc1=_0x70ecb4;return _0x13b0e2[_0x71ecc1(0x58a)](_0x3b0f91,_0x5c0d64);}};_0x48de85[_0x70ecb4(0x494)](function(_0x17c405){const _0x4c88bf=_0x70ecb4,_0x4d7be7={'EzVfi':_0x301525['GbebF'],'VABmx':_0x301525[_0x4c88bf(0xc5c)]};if('yCPMK'!==_0x4c88bf(0x365)){if(_0x301525['mSxqU'](_0x17c405[_0x4c88bf(0x62e)],'Test1'))assert['ok'](_0x17c405[_0x4c88bf(0x6e5)]['name'][_0x4c88bf(0x791)](_0x301525[_0x4c88bf(0x822)])!==-0x1);else{if(_0x301525[_0x4c88bf(0x355)](_0x17c405[_0x4c88bf(0x62e)],_0x4c88bf(0x8ce))){if(_0x301525[_0x4c88bf(0xb1a)]!==_0x301525[_0x4c88bf(0xb1a)])return _0x52065e[_0x4c88bf(0x3dd)]()[_0x4c88bf(0x52a)](_0x301525[_0x4c88bf(0x731)]);else assert['ok'](_0x301525['cTfnw'](_0x17c405[_0x4c88bf(0x9cd)][_0x4c88bf(0x5e6)][_0x4c88bf(0x791)](_0x4c88bf(0x9cd)),-0x1));}else _0x301525[_0x4c88bf(0x355)](_0x17c405['__t'],'Test3')?assert['ok'](_0x17c405['blogpost']['title'][_0x4c88bf(0x791)]('blog\x20post')!==-0x1):assert['ok'](![]);}}else{const _0x46258d={'HUfRj':_0x4d7be7['EzVfi']};_0x374f97=_0x4030c1['useDb'](_0x57d2e8[_0x4c88bf(0x247)][0x1]);const _0x40c7b7=_0x461d69['model'](_0x4c88bf(0x63e),_0x37f758),_0x440f61=_0x556dcd[_0x4c88bf(0x807)](_0x4c88bf(0x11f),_0x21b945);_0x440f61[_0x4c88bf(0x46d)]({'name':_0x4c88bf(0xbfc),'email':_0x4d7be7[_0x4c88bf(0x3fa)]},function(_0x33e3bc,_0x5bf331){const _0x19c665=_0x4c88bf,_0x3a1858={'mIJBr':_0x19c665(0xbfc),'iFTLu':_0x46258d[_0x19c665(0x5e1)]};_0x22a109[_0x19c665(0x127)](_0x33e3bc),_0x40c7b7[_0x19c665(0x46d)]({'title':'woot','_creator':_0x5bf331[_0x19c665(0x534)]},function(_0x56889d,_0x38ae46){const _0x42fc70=_0x19c665;_0x8fd7c8[_0x42fc70(0x127)](_0x56889d),_0x40c7b7[_0x42fc70(0x770)](_0x38ae46['_id'])[_0x42fc70(0x52a)]({'path':_0x42fc70(0x5ad),'select':_0x3a1858[_0x42fc70(0xa5d)],'model':_0x440f61})[_0x42fc70(0x37d)](function(_0x2e83d4,_0x3301fa){const _0x1ebf19=_0x42fc70;_0x5274ab[_0x1ebf19(0x127)](_0x2e83d4),_0x3d65bb['ok'](_0x3301fa[_0x1ebf19(0x5ad)]['name']===_0x3a1858['mIJBr']),_0x2c3502();});});});}});});}),_0x24a2f1['VYXsK'](it,'dynref\x20bug\x20(gh-4104)',async function(){const _0x42ab56=_0x150122,_0x2dc662=new Schema({'name':{'type':String}}),_0x57ab32=new Schema({'name':{'type':String}}),_0xe6917f=new Schema({'createdByModel':{'type':String},'createdBy':{'type':mongoose['Schema']['Types'][_0x42ab56(0x2ef)],'refPath':_0x3a1872[_0x42ab56(0xb58)]}}),_0x46359b=_0x27d0e4[_0x42ab56(0x807)](_0x42ab56(0x256),_0xe6917f),_0x3537f1=_0x27d0e4[_0x42ab56(0x807)](_0x3a1872[_0x42ab56(0x652)],_0x2dc662),_0x580f6b=_0x27d0e4[_0x42ab56(0x807)](_0x42ab56(0x438),_0x57ab32),_0x564329=await _0x3537f1[_0x42ab56(0x46d)]({'name':_0x3a1872['tjbvB']}),_0x335cef=await _0x580f6b['create']({'name':_0x42ab56(0x2cd)}),_0x39ffc4={'createdByModel':_0x3a1872['VjEbc'],'createdBy':_0x564329[_0x42ab56(0x534)]},_0x2066d7={'createdByModel':'Test','createdBy':_0x335cef[_0x42ab56(0x534)]};await _0x46359b[_0x42ab56(0x46d)](_0x39ffc4,_0x2066d7);const _0x2f46b0=await _0x46359b[_0x42ab56(0xc77)]({})[_0x42ab56(0x52a)](_0x3a1872[_0x42ab56(0x2d8)])[_0x42ab56(0x37d)]();assert['ok'](_0x2f46b0[0x0][_0x42ab56(0x786)]['name']),assert['ok'](_0x2f46b0[0x1]['createdBy'][_0x42ab56(0x8a8)]);}),it(_0x24a2f1[_0x150122(0xca)],function(_0x2ddca6){const _0x430074=_0x150122,_0x3a7698=new Schema({'demo':[{'type':String,'ref':_0x430074(0x438)}]}),_0x35a630=new Schema({'name':String}),_0x5129d8=_0x27d0e4[_0x430074(0x807)](_0x3a1872[_0x430074(0x884)],_0x35a630),_0x4da2a4=_0x27d0e4[_0x430074(0x807)]('Test1',_0x3a7698);_0x5129d8[_0x430074(0x46d)]({'name':_0x430074(0xc20)})[_0x430074(0xc12)](function(_0x1171ff){const _0x414352=_0x430074;return _0x4da2a4[_0x414352(0x46d)]({'demo':[_0x1171ff[_0x414352(0x534)]]});})[_0x430074(0xc12)](function(_0x28eee8){const _0x10b674=_0x430074;return _0x4da2a4[_0x10b674(0x770)](_0x28eee8[_0x10b674(0x534)]);})[_0x430074(0xc12)](function(_0x1ae0af){const _0x4be97f=_0x430074;return _0x1ae0af[_0x4be97f(0x52a)](_0x4be97f(0x7a3));})[_0x430074(0xc12)](function(_0x4cb77b){const _0x406710=_0x430074;assert[_0x406710(0xcbc)](_0x4cb77b[_0x406710(0x7a3)]['toObject']()[0x0][_0x406710(0x8a8)],_0x3a1872[_0x406710(0x778)]),_0x3a1872[_0x406710(0x995)](_0x2ddca6);})[_0x430074(0x412)](_0x2ddca6);}),it(_0x150122(0x8b4),function(_0x2d3822){const _0x78e7ca=_0x150122,_0x17085f={'VLRnu':function(_0x1e40a0){const _0x358290=_0x2d45;return _0x3a1872[_0x358290(0xd51)](_0x1e40a0);}},_0xac0d2a=new Schema({'name':{'type':String}}),_0x2b1f72=new Schema({'people':[{'type':mongoose[_0x78e7ca(0x101)]['Types'][_0x78e7ca(0x2ef)]}]}),_0x155f13=_0x27d0e4[_0x78e7ca(0x807)](_0x3a1872[_0x78e7ca(0x652)],_0xac0d2a),_0x1b35f3=_0x27d0e4[_0x78e7ca(0x807)](_0x3a1872[_0x78e7ca(0x884)],_0x2b1f72),_0x2066fa={'people':[new mongoose['Types']['ObjectId']()]};_0x1b35f3[_0x78e7ca(0x46d)](_0x2066fa,function(_0x4d906b,_0x59b1ab){const _0x10ba56=_0x78e7ca;assert['ifError'](_0x4d906b);const _0x1b6801={'path':_0x3a1872[_0x10ba56(0x310)],'model':_0x155f13};_0x1b35f3[_0x10ba56(0x770)](_0x59b1ab)[_0x10ba56(0x52a)](_0x1b6801)[_0x10ba56(0x37d)](function(_0x5464b4,_0xcb0c94){const _0x20bb43=_0x10ba56;assert[_0x20bb43(0x127)](_0x5464b4),assert[_0x20bb43(0xcbc)](_0xcb0c94[_0x20bb43(0xd4b)][_0x20bb43(0x2a2)],0x0),_0x17085f['VLRnu'](_0x2d3822);});});}),_0x24a2f1[_0x150122(0xb22)](it,_0x150122(0xcab),function(_0x3781ad){const _0x4c17eb=_0x150122,_0x1cf553={'RnOCo':function(_0x54ba22){return _0x54ba22();}},_0x11e558=new Schema({'people':[{'type':mongoose[_0x4c17eb(0x101)]['Types'][_0x4c17eb(0x2ef)]}]}),_0x4a74f3=_0x27d0e4[_0x4c17eb(0x807)](_0x4c17eb(0x438),_0x11e558),_0xf7f83a={'people':[new mongoose[(_0x4c17eb(0xc4a))][(_0x4c17eb(0x2ef))]()]};_0x4a74f3[_0x4c17eb(0x46d)](_0xf7f83a,function(_0x112728,_0x139cab){const _0xe11ba3=_0x4c17eb;assert[_0xe11ba3(0x127)](_0x112728),_0x4a74f3[_0xe11ba3(0x770)](_0x139cab)[_0xe11ba3(0x52a)]('')[_0xe11ba3(0x37d)](function(_0x219c7c,_0x1c2c4b){const _0xcf74d0=_0xe11ba3;assert[_0xcf74d0(0x127)](_0x219c7c),assert[_0xcf74d0(0xcbc)](_0x1c2c4b['people'][_0xcf74d0(0x2a2)],0x1),_0x1cf553[_0xcf74d0(0x816)](_0x3781ad);});});}),_0x24a2f1[_0x150122(0xc4b)](it,_0x24a2f1['ajjld'],function(_0x282f84){const _0x4f5c2f=_0x150122,_0x8f19b4={'tYZOj':_0x3a1872[_0x4f5c2f(0xbaa)],'nkDoV':_0x3a1872[_0x4f5c2f(0x4d3)],'kBpZs':_0x3a1872['CGmxZ'],'LZohM':_0x3a1872[_0x4f5c2f(0x7ed)]},_0x46a8c9=new mongoose[(_0x4f5c2f(0x101))]({'name':{'type':String,'default':''}});_0x27d0e4[_0x4f5c2f(0x807)](_0x4f5c2f(0x11f),_0x46a8c9);const _0x6bbcca=new mongoose[(_0x4f5c2f(0x101))]({'name':String,'members':[String]}),_0x53a447=new mongoose[(_0x4f5c2f(0x101))]({'members':[{'type':mongoose['Schema'][_0x4f5c2f(0xc4a)][_0x4f5c2f(0x2ef)],'ref':_0x3a1872[_0x4f5c2f(0x8ac)]}],'groups':[_0x6bbcca]}),_0x2e21d3=_0x27d0e4[_0x4f5c2f(0x807)](_0x3a1872[_0x4f5c2f(0x884)],_0x53a447),_0x887d38={'members':[],'groups':[]};_0x2e21d3[_0x4f5c2f(0x46d)](_0x887d38,function(_0x48d5a1){const _0xfe9194=_0x4f5c2f,_0x467220={'pGVTr':_0x8f19b4['tYZOj'],'hAyUL':_0xfe9194(0x159),'wfKYS':_0x8f19b4[_0xfe9194(0xcbd)]};assert[_0xfe9194(0x127)](_0x48d5a1),_0x2e21d3[_0xfe9194(0x3dd)]({})[_0xfe9194(0x52a)](_0x8f19b4[_0xfe9194(0x7d1)],_0x8f19b4[_0xfe9194(0x344)])[_0xfe9194(0x37d)](function(_0x56680d,_0x23718c){const _0x1fe5f5=_0xfe9194,_0x3be0fb={'nlmsc':_0x467220[_0x1fe5f5(0xcd2)],'zuHOJ':_0x467220[_0x1fe5f5(0x6a8)],'wPxjh':_0x1fe5f5(0x125)};assert['ifError'](_0x56680d),_0x23718c['groups'][_0x1fe5f5(0x2d6)]({'name':_0x467220[_0x1fe5f5(0x90a)]}),_0x23718c[_0x1fe5f5(0x87f)](function(_0x2393af){const _0x3555df=_0x1fe5f5,_0x41d5ee={'FBVhs':_0x3be0fb[_0x3555df(0x89d)]};if(_0x3be0fb[_0x3555df(0x976)]===_0x3be0fb[_0x3555df(0x976)])assert[_0x3555df(0x127)](_0x2393af),_0x23718c[_0x3555df(0x45d)][0x0][_0x3555df(0x4cc)][_0x3555df(0x2d6)](_0x3555df(0xd48)),assert[_0x3555df(0xcbc)](_0x23718c[_0x3555df(0x45d)][0x0][_0x3555df(0x4cc)][0x0],_0x3be0fb[_0x3555df(0x408)]),_0x23718c['save'](function(_0x382682){const _0x1e72bf=_0x3555df;assert['ifError'](_0x382682),assert[_0x1e72bf(0xcbc)](_0x23718c[_0x1e72bf(0x45d)][0x0][_0x1e72bf(0x4cc)][0x0],_0x3be0fb[_0x1e72bf(0x408)]),_0x282f84();});else return _0x1f89e8[_0x3555df(0x46d)]({'name':_0x41d5ee[_0x3555df(0x872)],'parent':_0x329cf2['_id']});});});});}),_0x24a2f1[_0x150122(0xc4b)](describe,_0x150122(0xa43),function(){const _0x58d521=_0x150122,_0x67c242={'XYfbs':_0x58d521(0x152),'cWceU':_0x24a2f1[_0x58d521(0x2bb)],'lAzXS':_0x24a2f1[_0x58d521(0x4f4)],'CWhdq':'members','nCXQx':_0x58d521(0xb8b),'GPrmb':_0x24a2f1[_0x58d521(0xa13)],'wGMGJ':'TxqYJ','qzPuD':_0x58d521(0x5ee),'spAyI':_0x58d521(0x855),'LCUZC':_0x58d521(0x2f1),'FBbIZ':_0x24a2f1[_0x58d521(0xb96)],'UVowU':_0x24a2f1['fxmGK'],'LRsQh':'ZFCbN','VidHm':_0x24a2f1[_0x58d521(0x845)],'whVFv':_0x58d521(0x790),'NzyEU':_0x24a2f1['ixqYS'],'xsvDL':_0x24a2f1[_0x58d521(0xb3a)],'kLVbB':'postedBy','znRTZ':_0x24a2f1[_0x58d521(0x547)],'RIiRQ':_0x24a2f1[_0x58d521(0xac6)],'AzgVt':function(_0x2e24d5,_0x26d7dd){return _0x2e24d5!==_0x26d7dd;},'IPIGD':_0x58d521(0xb8e),'ToEwD':_0x58d521(0x3e2),'hKpnd':_0x58d521(0x75e),'gpDTR':_0x24a2f1[_0x58d521(0x661)],'eTVkH':_0x58d521(0x322),'kwIBQ':function(_0xc5b52e){return _0xc5b52e();},'AEeud':_0x24a2f1[_0x58d521(0x490)],'CsZLw':_0x24a2f1[_0x58d521(0x3b7)],'MnmTF':_0x24a2f1[_0x58d521(0x7f9)],'vrhpJ':_0x24a2f1[_0x58d521(0x2c7)],'fkxFK':_0x58d521(0x6a4),'gHCEx':function(_0xfe291b,_0x13bb4c){return _0xfe291b===_0x13bb4c;},'IaVox':_0x24a2f1['oUboG'],'lmwsx':_0x58d521(0xbec),'YrgCP':_0x58d521(0x63e),'xVcUL':_0x58d521(0x8a8),'ecPAe':_0x24a2f1[_0x58d521(0x61f)],'dCeOD':_0x58d521(0x11f),'nrAdN':_0x58d521(0x684),'expKp':function(_0x26f146){const _0x445895=_0x58d521;return _0x24a2f1[_0x445895(0x3d0)](_0x26f146);},'ySTNW':_0x58d521(0xcf),'VgDCd':_0x24a2f1[_0x58d521(0x244)],'brqUH':_0x58d521(0xaee),'tEJyq':_0x24a2f1[_0x58d521(0x65d)],'rDvvW':_0x24a2f1[_0x58d521(0xa91)],'VMjvS':_0x58d521(0xc20),'Nfpae':_0x24a2f1['OnZIf'],'WucGv':_0x24a2f1['tYoHL'],'uoHwl':_0x58d521(0xc24),'tBpUk':_0x24a2f1[_0x58d521(0x43a)],'YWQPr':_0x24a2f1[_0x58d521(0x99d)],'PBZtb':_0x24a2f1[_0x58d521(0x7aa)],'TFQTs':function(_0x480965){return _0x480965();},'QhDVP':_0x24a2f1[_0x58d521(0xb7d)],'GmsXq':_0x58d521(0x7b9),'epFwW':_0x58d521(0x668),'jOSAJ':'newest','Nvzpn':_0x58d521(0xb03),'hhCdX':_0x58d521(0xcec),'dchds':function(_0x82d553,_0x42e783){return _0x82d553===_0x42e783;},'QqWhD':_0x58d521(0x367),'NjkSK':_0x58d521(0x2aa),'ieSRj':_0x58d521(0x2c1),'dEYLO':_0x24a2f1[_0x58d521(0x62c)],'jcdey':_0x58d521(0x5dd),'QeBvH':'2011-06-02','TbaLD':_0x24a2f1[_0x58d521(0xc8a)],'TOkgL':_0x58d521(0x5fd),'qtZzT':_0x24a2f1['jwqsD'],'NWqwn':_0x58d521(0xa76),'UMKhR':_0x24a2f1[_0x58d521(0x200)],'REUyw':function(_0x34eea9,_0x1ff95b){return _0x34eea9(_0x1ff95b);},'zKTdz':function(_0x299f9b,_0x5a5409,_0x4e9acd){const _0x4e7c05=_0x58d521;return _0x24a2f1[_0x4e7c05(0x4fb)](_0x299f9b,_0x5a5409,_0x4e9acd);},'UuxZF':_0x24a2f1['zNhdh'],'cueSR':function(_0x25e9d5,_0xe20c4d,_0xa04b52){return _0x24a2f1['UlNgK'](_0x25e9d5,_0xe20c4d,_0xa04b52);},'buQxo':_0x58d521(0xa68),'AzehO':_0x24a2f1[_0x58d521(0xa4f)],'OlsYc':'Image','phAjq':_0x58d521(0x1c3),'WjflJ':_0x24a2f1[_0x58d521(0x9ab)],'yOpLl':_0x58d521(0x192),'BGXgo':'data.members','NWTvA':function(_0x3388ba,_0x33e296){return _0x3388ba===_0x33e296;},'SulvW':_0x24a2f1[_0x58d521(0x233)],'HEOTq':_0x58d521(0x705),'sQniP':function(_0x14dc85){return _0x14dc85();},'KDITX':_0x24a2f1[_0x58d521(0x48a)],'nbAHR':function(_0x6762dc){return _0x6762dc();},'pnEgx':function(_0xe550ce){return _0x24a2f1['GVoYc'](_0xe550ce);},'DrnhM':_0x24a2f1[_0x58d521(0x243)],'caaCG':_0x24a2f1['lMxJT'],'XIsVk':function(_0xf67019){return _0xf67019();},'HfgXH':'KcOyy','XWFgT':_0x24a2f1[_0x58d521(0xd22)],'gZLbX':_0x24a2f1[_0x58d521(0x643)],'iXaDT':function(_0xa5ce26){return _0x24a2f1['sYLCj'](_0xa5ce26);},'RwGHW':_0x24a2f1['pVJsI'],'VGHqZ':_0x24a2f1[_0x58d521(0x274)],'wLYRI':_0x58d521(0x71e),'TOVkr':_0x58d521(0xb60),'KqJfZ':_0x58d521(0x9d8),'zslrF':_0x58d521(0xc21),'ViJIe':_0x58d521(0xcc8),'CTPTH':_0x24a2f1['AJZOU'],'eDzjK':_0x58d521(0x132),'fJHxq':_0x24a2f1[_0x58d521(0x658)],'NpmRc':_0x24a2f1['rlNzZ'],'NNJJm':_0x58d521(0xc67),'exRFt':_0x58d521(0x287),'Inyuj':function(_0x4f346d,_0x21679f){return _0x24a2f1['oRoXY'](_0x4f346d,_0x21679f);},'KfyIb':_0x24a2f1[_0x58d521(0x77b)],'GAIxh':_0x24a2f1['JbnNq'],'yMAhp':_0x24a2f1[_0x58d521(0x1b5)],'ZJUcA':_0x58d521(0xbc4),'hZhhu':function(_0x2f7d3e,_0x24b351){const _0x583398=_0x58d521;return _0x24a2f1[_0x583398(0x64a)](_0x2f7d3e,_0x24b351);},'dbsHw':_0x58d521(0x604),'ExTHo':_0x58d521(0x84e)};if(_0x24a2f1[_0x58d521(0x68d)](_0x24a2f1[_0x58d521(0x541)],_0x58d521(0x620)))_0x24a2f1['kTQIQ'](it,_0x58d521(0x351),function(_0x3291bb){const _0x1cf870=_0x58d521,_0x195d29={'RJalX':_0x1cf870(0x152)},_0x43db9e=new Schema({'name':String,'band':String}),_0x5321f0=new Schema({'name':String});_0x5321f0[_0x1cf870(0x833)](_0x1cf870(0x4cc),{'ref':_0x3a1872[_0x1cf870(0x652)],'localField':'name','foreignField':_0x1cf870(0x528)});const _0x269a3b=_0x27d0e4[_0x1cf870(0x807)](_0x3a1872[_0x1cf870(0x652)],_0x43db9e),_0x839ab0=_0x27d0e4[_0x1cf870(0x807)](_0x3a1872[_0x1cf870(0x884)],_0x5321f0),_0x5eacae=[_0x3a1872[_0x1cf870(0x96b)],'Slash'][_0x1cf870(0x847)](function(_0x46c823){const _0x4e7c9b=_0x1cf870;return{'name':_0x46c823,'band':_0x67c242[_0x4e7c9b(0xabf)]};});_0x269a3b['create'](_0x5eacae,function(_0x478eea){const _0x4f8536=_0x1cf870,_0xb7ba1b={'CbmeH':_0x4f8536(0x152),'ZVZYL':'members'};assert[_0x4f8536(0x127)](_0x478eea),_0x839ab0[_0x4f8536(0x46d)]({'name':_0x195d29[_0x4f8536(0x7de)]},function(_0x5de587){const _0x48c7ec=_0x4f8536;assert[_0x48c7ec(0x127)](_0x5de587);const _0xab1b89={'name':_0xb7ba1b[_0x48c7ec(0x5a0)]};_0x839ab0[_0x48c7ec(0x3dd)](_0xab1b89)[_0x48c7ec(0x52a)](_0xb7ba1b[_0x48c7ec(0x1d3)])[_0x48c7ec(0x37d)](function(_0x45c81c,_0x3b2ede){const _0x2cf64c=_0x48c7ec;assert[_0x2cf64c(0x127)](_0x45c81c),assert['equal'](_0x3b2ede['members'][_0x2cf64c(0x2a2)],0x2),_0x3291bb();});});});}),_0x24a2f1[_0x58d521(0x432)](it,_0x24a2f1[_0x58d521(0x383)],async function(){const _0x3bbc57=_0x58d521,_0x30ba87=new Schema({'name':String,'band':String}),_0x209a70=new Schema({'name':String});_0x209a70['virtual'](_0x3bbc57(0x4cc),{'ref':_0x3bbc57(0x790),'localField':_0x3bbc57(0x8a8),'foreignField':_0x67c242['cWceU'],'options':{'match':{'name':/^a/i}}});const _0x1ca688=_0x27d0e4['model'](_0x3bbc57(0x790),_0x30ba87),_0x41b824=_0x27d0e4[_0x3bbc57(0x807)](_0x67c242[_0x3bbc57(0x514)],_0x209a70),_0x163790=['BB','AA','AB','BA'][_0x3bbc57(0x847)](function(_0x7ad570){return{'name':_0x7ad570,'band':'Test'};});await _0x1ca688[_0x3bbc57(0x46d)](_0x163790),await _0x41b824[_0x3bbc57(0x46d)]({'name':'Test'});const _0x374ea6=await _0x41b824[_0x3bbc57(0x3dd)]()[_0x3bbc57(0x52a)](_0x67c242[_0x3bbc57(0xef)]);assert[_0x3bbc57(0x829)](_0x374ea6[_0x3bbc57(0x4cc)][_0x3bbc57(0x847)](_0x1646b6=>_0x1646b6[_0x3bbc57(0x8a8)])[_0x3bbc57(0x22b)](),['AA','AB']);}),it(_0x24a2f1[_0x58d521(0x8d8)],async function(){const _0x348fae=_0x58d521,_0x52abb8={'uhiNe':_0x348fae(0x311),'XKppK':function(_0x315670){return _0x315670();},'VUQgd':_0x67c242[_0x348fae(0x8df)]};if(_0x67c242['GPrmb']!==_0x67c242['wGMGJ']){const _0x23c5aa=new Schema({'name':String,'child':{'type':mongoose[_0x348fae(0x101)][_0x348fae(0xc4a)][_0x348fae(0x2ef)],'ref':_0x67c242[_0x348fae(0x804)]},'children':[{'type':mongoose['Schema']['Types'][_0x348fae(0x2ef)],'ref':_0x67c242[_0x348fae(0x804)]}]}),_0x642ad3=new Schema({'name':String});_0x642ad3[_0x348fae(0x833)](_0x348fae(0xd0a),{'ref':_0x67c242[_0x348fae(0x23d)],'localField':_0x348fae(0x534),'foreignField':_0x348fae(0xd0a)});const _0x22f05e=_0x27d0e4[_0x348fae(0x807)](_0x348fae(0x855),_0x23c5aa),_0x13f06b=_0x27d0e4[_0x348fae(0x807)](_0x67c242[_0x348fae(0x804)],_0x642ad3),_0xa85b58=await _0x13f06b[_0x348fae(0x46d)]({'name':_0x348fae(0x159)}),_0x3b262f=await _0x22f05e[_0x348fae(0x46d)]({'name':_0x67c242[_0x348fae(0xb6d)],'child':_0xa85b58[_0x348fae(0x534)]});await assert[_0x348fae(0x729)](()=>_0x22f05e[_0x348fae(0x3dd)]()[_0x348fae(0x52a)]({'path':_0x348fae(0xb8f),'match':()=>({'$where':_0x348fae(0xa7f)})}),/Cannot use \$where filter with populate\(\) match/),await assert[_0x348fae(0x729)](()=>_0x22f05e[_0x348fae(0xc77)]()[_0x348fae(0x52a)]({'path':_0x348fae(0xb8f),'match':()=>({'$where':_0x348fae(0xa7f)})}),/Cannot use \$where filter with populate\(\) match/),await assert['rejects'](()=>_0x3b262f[_0x348fae(0x52a)]({'path':_0x348fae(0xb8f),'match':()=>({'$where':'typeof\x20console\x20!==\x20\x22undefined\x22\x20?\x20doesNotExist(\x22foo\x22)\x20:\x20true;'})}),/Cannot use \$where filter with populate\(\) match/),await assert[_0x348fae(0x729)](()=>_0x13f06b[_0x348fae(0xc77)]()[_0x348fae(0x52a)]({'path':_0x348fae(0xd0a),'match':()=>({'$where':'typeof\x20console\x20!==\x20\x22undefined\x22\x20?\x20doesNotExist(\x22foo\x22)\x20:\x20true;'})}),/Cannot use \$where filter with populate\(\) match/),await assert[_0x348fae(0x729)](()=>_0x13f06b[_0x348fae(0xc77)]()['populate']({'path':_0x348fae(0xd0a),'match':()=>({'$or':[{'$where':_0x348fae(0xa7f)}]})}),/Cannot use \$where filter with populate\(\) match/),await assert[_0x348fae(0x729)](()=>_0x13f06b[_0x348fae(0xc77)]()[_0x348fae(0x52a)]({'path':_0x348fae(0xd0a),'match':()=>({'$and':[{'$where':'typeof\x20console\x20!==\x20\x22undefined\x22\x20?\x20doesNotExist(\x22foo\x22)\x20:\x20true;'}]})}),/Cannot use \$where filter with populate\(\) match/);class _0x3a102b{}_0x3a102b[_0x348fae(0xcde)][_0x348fae(0x47b)]=_0x348fae(0xa7f),await _0x13f06b[_0x348fae(0xc77)]()[_0x348fae(0x52a)]({'path':_0x67c242[_0x348fae(0x217)],'match':()=>new _0x3a102b()});}else{const _0x152d37={'RCmFq':_0x52abb8[_0x348fae(0x757)],'nooSD':function(_0x2ca776){const _0x570875=_0x348fae;return _0x52abb8[_0x570875(0xe4)](_0x2ca776);}};_0x43926b[_0x348fae(0x127)](_0x2dfd98),_0x44de5e[_0x348fae(0x770)](_0x4c5b9e['_id'])[_0x348fae(0x52a)](_0x52abb8[_0x348fae(0xbf5)])[_0x348fae(0x37d)](function(_0x540064,_0x34be11){const _0x1ccc87=_0x348fae;_0x1fa1cb['ifError'](_0x540064),_0x1732d2[_0x1ccc87(0xcbc)](_0x34be11[_0x1ccc87(0xb8b)][_0x1ccc87(0x2a2)],0x1),_0x26e2c6[_0x1ccc87(0xcbc)](_0x34be11['fans'][0x0]['name'],_0x152d37[_0x1ccc87(0x4ae)]),_0x152d37[_0x1ccc87(0xc97)](_0x34012f);});}}),it(_0x24a2f1[_0x58d521(0x727)],function(_0x351bde){const _0x722f1d=_0x58d521,_0x1a7e55={'wtlZM':_0x67c242[_0x722f1d(0x5d4)],'nXgoW':_0x67c242[_0x722f1d(0x30a)],'grWRJ':_0x722f1d(0xd6b),'daLXU':_0x67c242[_0x722f1d(0x39c)]},_0x59aa30=new Schema({'name':String,'band':String}),_0x2bc910=new Schema({'name':String});_0x2bc910['virtual'](_0x722f1d(0x4cc),{'ref':'Person','localField':_0x722f1d(0x8a8),'foreignField':_0x67c242[_0x722f1d(0x798)]});const _0x4811f0=_0x27d0e4[_0x722f1d(0x807)](_0x67c242[_0x722f1d(0x704)],_0x59aa30),_0x283ef9=_0x27d0e4[_0x722f1d(0x807)](_0x67c242[_0x722f1d(0x514)],_0x2bc910);let _0x1f9f6b=['Axl\x20Rose',_0x67c242[_0x722f1d(0x8f2)]][_0x722f1d(0x847)](function(_0x1ff49d){const _0x4b052a=_0x722f1d;if(_0x1a7e55[_0x4b052a(0x6be)]===_0x1a7e55['nXgoW']){const _0x111e89=_0x24def1[_0x4b052a(0x807)](_0x4b052a(0x63e),_0x5e7473),_0x115e4f=_0x4ff2c5[_0x4b052a(0x807)](_0x4b052a(0x438),_0x1b4209);_0x115e4f[_0x4b052a(0x46d)]({'name':_0x4b052a(0x1bd),'email':_0x4b052a(0x251)},function(_0x490e,_0x3380ee){const _0x373b63=_0x4b052a,_0x4dbbb5={'mFPwW':function(_0x22c50e,_0x7dbf59){return _0x22c50e instanceof _0x7dbf59;},'bdGkM':_0x373b63(0x8a8)};_0xef6e97[_0x373b63(0x127)](_0x490e),_0x111e89[_0x373b63(0x46d)]({'title':_0x373b63(0x28f),'_creator':_0x3380ee},function(_0x3ab662,_0x369a92){const _0x14c709=_0x373b63;_0x91379c[_0x14c709(0x127)](_0x3ab662),_0x111e89['findById'](_0x369a92[_0x14c709(0x534)])['populate'](_0x14c709(0x5ad),'email',_0x14c709(0x438))[_0x14c709(0x37d)](function(_0x3e684d,_0x62b09f){const _0x491e66=_0x14c709;_0x209da5['ifError'](_0x3e684d),_0x4a0da4['ok'](_0x4dbbb5[_0x491e66(0x499)](_0x62b09f[_0x491e66(0x5ad)],_0x115e4f)),_0x5bc7d2['equal'](_0x62b09f[_0x491e66(0x5ad)][_0x491e66(0x346)](_0x4dbbb5['bdGkM']),![]),_0x33dc56['equal'](_0x62b09f['_creator'][_0x491e66(0x978)],_0x491e66(0x251)),_0x3ed664();});});});}else return{'name':_0x1ff49d,'band':_0x4b052a(0x152)};});_0x1f9f6b=_0x1f9f6b[_0x722f1d(0x627)]([_0x67c242['xsvDL'],'Nikki\x20Sixx'][_0x722f1d(0x847)](function(_0x5baa4b){const _0x29bc78=_0x722f1d;return{'name':_0x5baa4b,'band':_0x29bc78(0x404)};})),_0x4811f0[_0x722f1d(0x46d)](_0x1f9f6b,function(_0x374a27){const _0x4ed10b=_0x722f1d;assert[_0x4ed10b(0x127)](_0x374a27);const _0x1515aa=[{'name':_0x4ed10b(0x152)},{'name':_0x4ed10b(0x404)}];_0x283ef9[_0x4ed10b(0x46d)](_0x1515aa,function(_0x34e882){const _0x3c5389=_0x4ed10b,_0x1043e0={'uYJiE':_0x3c5389(0x83b),'tdAPE':_0x3c5389(0x4bd),'ZBsMA':function(_0x3af540){return _0x3af540();},'SoajV':_0x1a7e55['grWRJ'],'PIsPr':_0x3c5389(0x152),'zUews':_0x1a7e55[_0x3c5389(0xc87)],'JZmFH':_0x3c5389(0xb56)};assert['ifError'](_0x34e882),_0x283ef9[_0x3c5389(0xc77)]({})[_0x3c5389(0x22b)]({'name':0x1})[_0x3c5389(0x52a)]({'path':_0x3c5389(0x4cc),'options':{'sort':{'name':0x1}}})[_0x3c5389(0x37d)](function(_0x50ed50,_0x150e16){const _0x1028a4=_0x3c5389,_0x30963e={'jTmSk':_0x1028a4(0x205),'leKJg':_0x1028a4(0x1cf),'EOMcZ':function(_0x1bfa70){const _0x52d761=_0x1028a4;return _0x1043e0[_0x52d761(0x965)](_0x1bfa70);}};if(_0x1028a4(0xd6b)!==_0x1043e0[_0x1028a4(0xc6f)]){_0x4789e1[_0x1028a4(0x127)](_0x4b0b73);let _0x1f1a53=![];_0x7ac9d8[_0x1028a4(0xc77)]({'title':/gh-1055/})[_0x1028a4(0x22b)](_0x1028a4(0x132))[_0x1028a4(0x4e9)](_0x1043e0[_0x1028a4(0xaaf)])['populate'](_0x1043e0['tdAPE'])[_0x1028a4(0x52a)]('comments.asers')[_0x1028a4(0x37d)](function(_0x361176,_0x99e96a){const _0x35f24f=_0x1028a4,_0x4c3c5e=_0x30963e[_0x35f24f(0x3e9)][_0x35f24f(0x3a7)]('|');let _0xb561dc=0x0;while(!![]){switch(_0x4c3c5e[_0xb561dc++]){case'0':_0x497481[_0x35f24f(0xcbc)](_0x99e96a[0x1][_0x35f24f(0x83b)][0x0][_0x35f24f(0x5ad)][_0x35f24f(0x8a8)],_0x30963e[_0x35f24f(0x4dd)]);continue;case'1':_0x1f1a53=!![];continue;case'2':_0x4c0e46['ifError'](_0x361176);continue;case'3':_0x56bdd3['ok'](_0x99e96a[0x1][_0x35f24f(0x83b)][0x0][_0x35f24f(0x5ad)]);continue;case'4':_0x12c614['ok'](_0x99e96a[_0x35f24f(0x2a2)]);continue;case'5':_0x5ca4f7[_0x35f24f(0xcbc)](_0x1f1a53,![]);continue;case'6':_0x30963e['EOMcZ'](_0x4d48d8);continue;}break;}});}else assert['ifError'](_0x50ed50),assert[_0x1028a4(0xcbc)](_0x150e16[_0x1028a4(0x2a2)],0x2),assert['equal'](_0x150e16[0x0]['name'],_0x1043e0[_0x1028a4(0x79f)]),assert['equal'](_0x150e16[0x0][_0x1028a4(0x4cc)][_0x1028a4(0x2a2)],0x2),assert[_0x1028a4(0x829)](_0x150e16[0x0][_0x1028a4(0x4cc)][_0x1028a4(0x847)](_0x5d122f=>_0x5d122f['name']),[_0x1028a4(0xb10),_0x1028a4(0x28c)]),assert[_0x1028a4(0xcbc)](_0x150e16[0x1]['name'],_0x1043e0[_0x1028a4(0x239)]),assert[_0x1028a4(0xcbc)](_0x150e16[0x1][_0x1028a4(0x4cc)][_0x1028a4(0x2a2)],0x2),assert['deepEqual'](_0x150e16[0x1][_0x1028a4(0x4cc)]['map'](_0x3f86c9=>_0x3f86c9[_0x1028a4(0x8a8)]),[_0x1028a4(0xbf3),_0x1043e0[_0x1028a4(0x9e6)]]),_0x1043e0[_0x1028a4(0x965)](_0x351bde);});});});}),it(_0x24a2f1[_0x58d521(0xa1d)],function(){const _0x32ef84=_0x58d521,_0x408752=new Schema({'name':String});_0x408752[_0x32ef84(0x833)](_0x3a1872[_0x32ef84(0xc38)]);const _0xcce376=_0x27d0e4[_0x32ef84(0x807)](_0x32ef84(0x438),_0x408752);return _0xcce376[_0x32ef84(0x46d)]({'name':_0x3a1872[_0x32ef84(0x4ab)]})['then'](()=>_0xcce376[_0x32ef84(0xc77)]()[_0x32ef84(0x52a)](_0x32ef84(0x4cc)))[_0x32ef84(0x412)](_0x5a24d0=>{const _0x2fcc5f=_0x32ef84,_0x5c97ff={'DHIXm':_0x2fcc5f(0xa20),'bFTkU':_0x67c242[_0x2fcc5f(0xb37)]};if(_0x67c242[_0x2fcc5f(0x763)]===_0x67c242[_0x2fcc5f(0x23b)])return _0x77329f[_0x2fcc5f(0xc77)]({})[_0x2fcc5f(0x52a)]({'path':_0x5c97ff[_0x2fcc5f(0x3f5)],'populate':_0x5c97ff[_0x2fcc5f(0x28b)]})[_0x2fcc5f(0x22b)]({'seq':-0x1});else assert['ok'](_0x67c242[_0x2fcc5f(0x838)](_0x5a24d0[_0x2fcc5f(0x690)][_0x2fcc5f(0x791)](_0x67c242[_0x2fcc5f(0xc98)]),-0x1),_0x5a24d0[_0x2fcc5f(0x690)]);});}),_0x24a2f1['MegNd'](it,_0x58d521(0x5ef),function(_0x22d17d){const _0x4604b6=_0x58d521;if(_0x3a1872[_0x4604b6(0x20a)](_0x3a1872[_0x4604b6(0x3fb)],_0x3a1872[_0x4604b6(0x3fb)])){const _0x47d44e=new Schema({'name':String}),_0x1e42a1=new Schema({'name':String,'people':[String]});_0x1e42a1[_0x4604b6(0x833)](_0x3a1872[_0x4604b6(0xc38)],{'ref':_0x3a1872[_0x4604b6(0x652)],'localField':_0x3a1872['YcVSg'],'foreignField':_0x3a1872['OTVED']});const _0x2b20c1=_0x27d0e4[_0x4604b6(0x807)]('Person',_0x47d44e),_0xbdd8c6=_0x27d0e4[_0x4604b6(0x807)](_0x4604b6(0x438),_0x1e42a1),_0x5c1646=[{'name':'Guns\x20N\x27\x20Roses','people':[_0x4604b6(0xb10),_0x4604b6(0x28c)]},{'name':_0x3a1872['ihmcn'],'people':[_0x3a1872[_0x4604b6(0xc2b)],_0x3a1872[_0x4604b6(0xe6)]]}],_0x17e189=[{'name':_0x3a1872[_0x4604b6(0x96b)]},{'name':_0x3a1872[_0x4604b6(0x81d)]},{'name':_0x3a1872['WtDVd']},{'name':_0x3a1872['HBjdY']}];_0x2b20c1['create'](_0x17e189,function(_0x12cf70){const _0x18f098=_0x4604b6;assert[_0x18f098(0x127)](_0x12cf70),_0xbdd8c6['insertMany'](_0x5c1646,function(_0x3e8a15){const _0x565aed=_0x18f098,_0x39216c={'znfEy':_0x565aed(0xb10),'BrGrf':_0x565aed(0x28c),'FKnVC':_0x565aed(0xbf3)};assert['ifError'](_0x3e8a15),_0xbdd8c6[_0x565aed(0xc77)]({})['sort']({'name':0x1})[_0x565aed(0x52a)]({'path':_0x565aed(0x4cc),'options':{'sort':{'name':0x1}}})[_0x565aed(0x37d)](function(_0x270cce,_0x11c3bd){const _0x40b147=_0x565aed;assert[_0x40b147(0x127)](_0x270cce),assert['equal'](_0x11c3bd[_0x40b147(0x2a2)],0x2),assert['equal'](_0x11c3bd[0x0][_0x40b147(0x8a8)],'Guns\x20N\x27\x20Roses'),assert[_0x40b147(0xcbc)](_0x11c3bd[0x0]['members'][_0x40b147(0x2a2)],0x2),assert[_0x40b147(0x829)](_0x11c3bd[0x0][_0x40b147(0x4cc)][_0x40b147(0x847)](_0x183985=>_0x183985['name']),[_0x39216c['znfEy'],_0x39216c[_0x40b147(0xcf2)]]),assert[_0x40b147(0xcbc)](_0x11c3bd[0x1][_0x40b147(0x8a8)],_0x40b147(0x404)),assert[_0x40b147(0xcbc)](_0x11c3bd[0x1][_0x40b147(0x4cc)]['length'],0x2),assert[_0x40b147(0x829)](_0x11c3bd[0x1][_0x40b147(0x4cc)][_0x40b147(0x847)](_0x408658=>_0x408658[_0x40b147(0x8a8)]),[_0x39216c[_0x40b147(0xd43)],_0x40b147(0xb56)]),_0x22d17d();});});});}else return;}),_0x24a2f1[_0x58d521(0x433)](it,_0x24a2f1[_0x58d521(0x2d5)],function(_0x749a7d){const _0x569cc9=_0x58d521,_0xbefb19={'WBHuk':_0x569cc9(0x946),'CguBX':function(_0x2367cc){return _0x2367cc();}},_0x3e28cd=new Schema({'name':String,'authored':[Number],'favorites':[Number]}),_0x64e412=new Schema({'_id':Number,'title':String});_0x64e412['virtual'](_0x67c242[_0x569cc9(0xa11)],{'ref':_0x67c242[_0x569cc9(0x704)],'localField':_0x569cc9(0x534),'foreignField':_0x569cc9(0x84e)}),_0x64e412[_0x569cc9(0x833)](_0x67c242[_0x569cc9(0xa6e)],{'ref':_0x67c242[_0x569cc9(0x704)],'localField':_0x67c242[_0x569cc9(0x480)],'foreignField':_0x67c242[_0x569cc9(0x24e)]});const _0x223f9f=_0x27d0e4['model'](_0x569cc9(0x790),_0x3e28cd),_0x484ade=_0x27d0e4[_0x569cc9(0x807)](_0x569cc9(0x63e),_0x64e412),_0x4f2f27=[{'_id':0x0,'title':'Bacon\x20is\x20Great'}],_0x3d0858=[{'name':'Val','authored':[0x0],'favorites':[0x0]}];_0x223f9f['create'](_0x3d0858,function(_0x314be6){const _0x2ebd01=_0x569cc9;_0x67c242[_0x2ebd01(0x838)]('OPJIl',_0x2ebd01(0x4d0))?(_0x23aa3a['ifError'](_0x4d3cb1),_0x397c4c[_0x2ebd01(0xcbc)](_0x4b9098[_0x2ebd01(0x3e2)]['length'],0x1),_0x2a415e[_0x2ebd01(0xcbc)](_0x2672ec[_0x2ebd01(0x3e2)][0x0][_0x2ebd01(0x8a8)],_0xbefb19[_0x2ebd01(0x916)]),_0xbefb19[_0x2ebd01(0xa4d)](_0x4436be)):(assert[_0x2ebd01(0x127)](_0x314be6),_0x484ade[_0x2ebd01(0x46d)](_0x4f2f27,function(_0x3d01e2){const _0x11b0dd=_0x2ebd01,_0x33a85b={'FdSmv':_0x11b0dd(0x946)};assert['ifError'](_0x3d01e2),_0x484ade[_0x11b0dd(0x3dd)]({'_id':0x0})[_0x11b0dd(0x52a)](_0x11b0dd(0xaa9))[_0x11b0dd(0x37d)](function(_0x1411bf,_0x14ff2a){const _0x291424=_0x11b0dd;assert['ifError'](_0x1411bf),assert[_0x291424(0xcbc)](_0x14ff2a[_0x291424(0x3e2)][_0x291424(0x2a2)],0x1),assert[_0x291424(0xcbc)](_0x14ff2a['authors'][0x0]['name'],_0x33a85b['FdSmv']),assert[_0x291424(0xcbc)](_0x14ff2a[_0x291424(0x75e)][_0x291424(0x2a2)],0x1),assert['equal'](_0x14ff2a['favoritedBy'][0x0][_0x291424(0x8a8)],_0x33a85b[_0x291424(0x7f6)]),_0x749a7d();});}));});}),it(_0x24a2f1['hyoip'],function(_0x3daf25){const _0x3a26d9=_0x58d521,_0x4aa038={'XIdln':'Val','uUGLo':function(_0x267476){return _0x67c242['kwIBQ'](_0x267476);}},_0x55e402=new Schema({'name':String,'authored':[Number]}),_0x4c499e=new Schema({'_id':Number,'title':String});_0x4c499e[_0x3a26d9(0x833)](_0x67c242['AEeud'],{'ref':_0x3a26d9(0x790),'localField':_0x3a26d9(0x534),'foreignField':_0x3a26d9(0x84e),'justOne':!![]});const _0x20692e=new Schema({'blogPosts':[_0x4c499e]}),_0x10e31c=_0x27d0e4[_0x3a26d9(0x807)](_0x3a26d9(0x790),_0x55e402),_0x23c280=_0x27d0e4[_0x3a26d9(0x807)](_0x3a26d9(0x438),_0x20692e);_0x10e31c[_0x3a26d9(0x46d)]({'name':_0x67c242[_0x3a26d9(0xaca)],'authored':0x1})[_0x3a26d9(0xc12)](function(){const _0x4a55e1=_0x3a26d9;return _0x23c280[_0x4a55e1(0x46d)]({'blogPosts':[{'_id':0x1,'title':_0x67c242[_0x4a55e1(0x514)]}]});})[_0x3a26d9(0xc12)](function(_0x2ec3bb){const _0x452a2a=_0x3a26d9;return _0x23c280[_0x452a2a(0x770)](_0x2ec3bb['_id'])[_0x452a2a(0x52a)]('blogPosts.author');})[_0x3a26d9(0xc12)](function(_0x513c15){const _0x2a85e0=_0x3a26d9;assert[_0x2a85e0(0xcbc)](_0x513c15['blogPosts'][0x0][_0x2a85e0(0xc78)]['name'],_0x4aa038['XIdln']),_0x4aa038[_0x2a85e0(0xad8)](_0x3daf25);})[_0x3a26d9(0x412)](_0x3daf25);}),it(_0x24a2f1[_0x58d521(0x748)],async function(){const _0x298869=_0x58d521,_0x1bd3fd={'xuGCy':function(_0xa40bab){const _0x513300=_0x2d45;return _0x3a1872[_0x513300(0x562)](_0xa40bab);}};if(_0x3a1872[_0x298869(0x20a)](_0x298869(0x933),_0x298869(0x5c0)))_0x1749c4[_0x298869(0x127)](_0x58494c),_0x2b51fb['save'](function(_0x3e1f25){const _0x36bf56=_0x298869;_0x4eeb7f[_0x36bf56(0x127)](_0x3e1f25),_0x1bd3fd[_0x36bf56(0x6ad)](_0xf81272);});else{const _0x2dd756=new Schema({'appId':_0x3a1872[_0x298869(0xd2)],'moduleId':Number,'title':String,'parent':{'type':mongoose['ObjectId'],'ref':_0x3a1872['BzPSj']},'order':Number}),_0x267154=new Schema({'_id':Number,'title':{'type':String},'hidden':{'type':Boolean}});_0x267154['virtual'](_0x3a1872[_0x298869(0x515)],{'ref':_0x3a1872[_0x298869(0xafd)],'localField':_0x298869(0x534),'foreignField':_0x3a1872[_0x298869(0x333)],'options':{'sort':{'title':0x1}}});const _0x2db03a=new Schema({'modules':[_0x267154]}),_0x5def26=_0x27d0e4['model'](_0x298869(0x438),_0x2db03a),_0xa741d4=_0x27d0e4[_0x298869(0x807)](_0x298869(0x256),_0x2dd756);let _0xda01fc=await _0x5def26[_0x298869(0x46d)]({'modules':[{'_id':0x1,'title':_0x3a1872['vcSLd']},{'_id':0x2,'title':_0x3a1872[_0x298869(0xd3c)]}]});await _0xa741d4[_0x298869(0x46d)]([{'title':_0x3a1872[_0x298869(0x66b)],'moduleId':0x1},{'title':_0x3a1872[_0x298869(0xc7)],'moduleId':0x1},{'title':'Undo','moduleId':0x2},{'title':'Redo','moduleId':0x2}]),_0xda01fc=await _0x5def26[_0x298869(0x770)](_0xda01fc)[_0x298869(0x52a)](_0x3a1872['osXnk']),_0xda01fc=_0xda01fc['toObject']({'virtuals':!![]}),assert[_0x298869(0xcbc)](_0xda01fc[_0x298869(0x588)]['length'],0x2),assert['equal'](_0xda01fc[_0x298869(0x588)][0x0]['menu'][_0x298869(0x2a2)],0x2),assert[_0x298869(0x829)](_0xda01fc[_0x298869(0x588)][0x0][_0x298869(0x6a7)][_0x298869(0x847)](_0xc5fdb5=>_0xc5fdb5[_0x298869(0x132)]),[_0x3a1872[_0x298869(0x66b)],_0x3a1872[_0x298869(0xc7)]]),assert[_0x298869(0x829)](_0xda01fc[_0x298869(0x588)][0x1][_0x298869(0x6a7)][_0x298869(0x847)](_0x4a1410=>_0x4a1410[_0x298869(0x132)]),[_0x298869(0x356),_0x298869(0x4d6)]);}}),_0x24a2f1[_0x58d521(0x9ff)](it,_0x24a2f1[_0x58d521(0xac3)],async function(){const _0x50a0d3=_0x58d521,_0x23b3a9=new Schema({'appId':_0x3a1872[_0x50a0d3(0xd2)],'moduleId':Number,'title':String,'parent':{'type':mongoose[_0x50a0d3(0x2ef)],'ref':'AppMenuItem'},'order':Number}),_0x5b04a0=new Schema({'_id':Number,'title':{'type':String},'hidden':{'type':Boolean}});_0x5b04a0[_0x50a0d3(0x833)](_0x3a1872[_0x50a0d3(0x515)],{'ref':_0x50a0d3(0x256),'localField':_0x50a0d3(0x534),'foreignField':_0x3a1872[_0x50a0d3(0x333)],'options':{'sort':{'title':0x1}}});const _0x25290c=new Schema({'modules':[_0x5b04a0]}),_0x3f044d=_0x27d0e4[_0x50a0d3(0x807)](_0x3a1872[_0x50a0d3(0x884)],_0x25290c),_0x46ad2f=_0x27d0e4[_0x50a0d3(0x807)](_0x3a1872[_0x50a0d3(0xafd)],_0x23b3a9);let _0x477c17=await _0x3f044d[_0x50a0d3(0x46d)]({'modules':[{'_id':0x1,'title':_0x3a1872[_0x50a0d3(0xd40)]},{'_id':0x2,'title':_0x50a0d3(0x1d8)}]});await _0x46ad2f[_0x50a0d3(0x46d)]([{'title':_0x3a1872[_0x50a0d3(0x66b)],'moduleId':0x1},{'title':_0x50a0d3(0x98c),'moduleId':0x1},{'title':_0x3a1872[_0x50a0d3(0x8db)],'moduleId':0x2}]),_0x477c17=await _0x3f044d[_0x50a0d3(0x770)](_0x477c17)[_0x50a0d3(0x52a)](_0x50a0d3(0x254)),_0x477c17=_0x477c17[_0x50a0d3(0x331)]({'virtuals':!![]}),assert[_0x50a0d3(0xcbc)](_0x477c17[_0x50a0d3(0x588)][_0x50a0d3(0x2a2)],0x2),assert[_0x50a0d3(0xcbc)](_0x477c17[_0x50a0d3(0x588)][0x0][_0x50a0d3(0x6a7)]['length'],0x2),assert[_0x50a0d3(0x829)](_0x477c17[_0x50a0d3(0x588)][0x0][_0x50a0d3(0x6a7)][_0x50a0d3(0x847)](_0x2f9832=>_0x2f9832[_0x50a0d3(0x132)]),[_0x3a1872[_0x50a0d3(0x66b)],_0x50a0d3(0x98c)]),assert['deepEqual'](_0x477c17[_0x50a0d3(0x588)][0x1][_0x50a0d3(0x6a7)][_0x50a0d3(0x847)](_0x4588bd=>_0x4588bd['title']),[_0x50a0d3(0x356)]);}),it(_0x58d521(0xe1),function(_0x37cdfa){const _0x50917b=_0x58d521,_0x4c19fb={'kkGCJ':_0x3a1872[_0x50917b(0x746)]},_0x803121=new Schema({'name':String,'authored':[Number]}),_0x5a5a5e=new Schema({'_id':Number,'title':String});_0x5a5a5e[_0x50917b(0x833)](_0x3a1872[_0x50917b(0xa46)],{'ref':_0x3a1872[_0x50917b(0x652)],'localField':_0x3a1872[_0x50917b(0x85c)],'foreignField':_0x3a1872[_0x50917b(0xb6b)],'justOne':!![]});const _0x597ec0=_0x27d0e4[_0x50917b(0x807)](_0x50917b(0x790),_0x803121),_0x23429d=_0x27d0e4[_0x50917b(0x807)](_0x3a1872[_0x50917b(0x3b6)],_0x5a5a5e),_0x1ef8d7=[{'_id':0x0,'title':_0x50917b(0xbb6)}],_0x5930e4=[{'name':_0x50917b(0x946),'authored':[0x0]},{'name':_0x3a1872[_0x50917b(0x884)],'authored':[0x0]}];_0x597ec0['create'](_0x5930e4,function(_0x1b79df){const _0x2dc9de=_0x50917b,_0x34532e={'XEHor':function(_0x463970,_0x4070d1){return _0x463970===_0x4070d1;},'EZMwB':_0x2dc9de(0x1ee),'PDDgz':_0x4c19fb[_0x2dc9de(0x180)]};assert['ifError'](_0x1b79df),_0x23429d[_0x2dc9de(0x46d)](_0x1ef8d7,function(_0x2ff329){const _0x32dc7b=_0x2dc9de;assert[_0x32dc7b(0x127)](_0x2ff329),_0x23429d[_0x32dc7b(0x3dd)]({'_id':0x0})['populate'](_0x32dc7b(0xc78))[_0x32dc7b(0x37d)](function(_0x892a22,_0x2bb861){const _0x41e685=_0x32dc7b,_0x53f8bb={'yLoTx':function(_0x2240b0){return _0x2240b0();}};_0x34532e['XEHor'](_0x34532e[_0x41e685(0x7f2)],_0x34532e[_0x41e685(0x3ff)])?(_0x137e7d['ok'](_0x18eabb),_0x53f8bb['yLoTx'](_0x1a54f0)):(assert[_0x41e685(0x127)](_0x892a22),assert['strictEqual'](Array['isArray'](_0x2bb861[_0x41e685(0xc78)]),![]),assert['ok'](_0x2bb861[_0x41e685(0xc78)][_0x41e685(0x8a8)][_0x41e685(0xbd7)](/^(Val|Test)$/)),_0x37cdfa());});});});}),it(_0x24a2f1[_0x58d521(0x230)],async function(){const _0x9ce88c=_0x58d521,_0x5d1740=new mongoose['Schema']({'name':String,'band':String}),_0xdd22d2=new mongoose[(_0x9ce88c(0x101))]({'name':String});_0xdd22d2[_0x9ce88c(0x833)]('member',{'ref':_0x9ce88c(0x790),'localField':_0x3a1872['OTVED'],'foreignField':_0x3a1872[_0x9ce88c(0x3a4)],'justOne':!![]});const _0x531bdb=_0x27d0e4[_0x9ce88c(0x807)](_0x9ce88c(0x790),_0x5d1740),_0x59ebe6=_0x27d0e4['model'](_0x3a1872[_0x9ce88c(0x884)],_0xdd22d2);await _0x59ebe6[_0x9ce88c(0x46d)]({'name':_0x3a1872['QAEVV']}),await _0x59ebe6[_0x9ce88c(0x46d)]({'name':_0x3a1872[_0x9ce88c(0x4ab)]}),await _0x531bdb[_0x9ce88c(0x46d)]({'name':_0x3a1872[_0x9ce88c(0x96b)],'band':_0x9ce88c(0x152)}),await _0x531bdb[_0x9ce88c(0x46d)]({'name':'Slash','band':_0x3a1872['QAEVV']}),await _0x531bdb[_0x9ce88c(0x46d)]({'name':_0x3a1872[_0x9ce88c(0xc2b)],'band':_0x3a1872[_0x9ce88c(0x4ab)]}),await _0x531bdb['create']({'name':_0x9ce88c(0xbf3),'band':'Motley\x20Crue'});const _0x4cf23a=await _0x59ebe6['find']()[_0x9ce88c(0x22b)]({'name':0x1})['populate'](_0x9ce88c(0x406))[_0x9ce88c(0x2ac)]();assert[_0x9ce88c(0xcbc)](_0x4cf23a[_0x9ce88c(0x2a2)],0x2),assert[_0x9ce88c(0xcbc)](_0x4cf23a[0x0][_0x9ce88c(0x8a8)],_0x3a1872[_0x9ce88c(0x7c0)]),assert[_0x9ce88c(0xcbc)](_0x4cf23a[0x0]['member'][_0x9ce88c(0x8a8)],_0x9ce88c(0xb10)),assert[_0x9ce88c(0xcbc)](_0x4cf23a[0x1][_0x9ce88c(0x8a8)],_0x3a1872[_0x9ce88c(0x4ab)]),assert[_0x9ce88c(0xcbc)](_0x4cf23a[0x1][_0x9ce88c(0x406)][_0x9ce88c(0x8a8)],_0x3a1872['WtDVd']);}),it(_0x24a2f1['IioKJ'],async function(){const _0x315fcc=_0x58d521,_0x188ad7=new mongoose[(_0x315fcc(0x101))]({'name':String,'band':String}),_0x33e7e0=new mongoose[(_0x315fcc(0x101))]({'name':String});_0x33e7e0[_0x315fcc(0x833)](_0x315fcc(0x4cc),{'ref':_0x315fcc(0x790),'localField':_0x3a1872[_0x315fcc(0x7ed)],'foreignField':_0x3a1872['EBzsf'],'justOne':![]}),_0x27d0e4[_0x315fcc(0x807)](_0x3a1872[_0x315fcc(0x652)],_0x188ad7);const _0x2222b5=_0x27d0e4[_0x315fcc(0x807)]('Test',_0x33e7e0);await _0x2222b5[_0x315fcc(0x46d)]({'name':_0x3a1872[_0x315fcc(0x7c0)]});const _0x3521a7=await _0x2222b5[_0x315fcc(0xc77)]()[_0x315fcc(0x52a)](_0x3a1872['CGmxZ'])['lean']();assert[_0x315fcc(0xcbc)](_0x3521a7['length'],0x1),assert[_0x315fcc(0xcbc)](_0x3521a7[0x0][_0x315fcc(0x8a8)],_0x3a1872[_0x315fcc(0x7c0)]),assert[_0x315fcc(0x61a)](_0x3521a7[0x0][_0x315fcc(0x4cc)],[]);}),it('justOne\x20underneath\x20array\x20(gh-6867)',async function(){const _0x1f101f=_0x58d521,_0x5d1832=new Schema({'idItem':String}),_0x385a21=new Schema({'items':[_0x5d1832]});_0x5d1832[_0x1f101f(0x833)](_0x1f101f(0x7fa),{'ref':_0x1f101f(0x5ee),'localField':_0x1f101f(0x646),'foreignField':_0x1f101f(0x534),'justOne':!![]});const _0x8b6636=new Schema({'_id':String}),_0x1e21f1=_0x27d0e4['model']('Parent',_0x385a21),_0x28fbe0=_0x27d0e4[_0x1f101f(0x807)](_0x67c242[_0x1f101f(0x804)],_0x8b6636);await _0x28fbe0['create']({'_id':_0x67c242[_0x1f101f(0x372)]}),await _0x1e21f1['create']({'items':[{'idItem':_0x67c242[_0x1f101f(0x372)]},{'idItem':_0x67c242[_0x1f101f(0xa3e)]}]});let _0xe5b8b6=await _0x1e21f1[_0x1f101f(0x3dd)]({})[_0x1f101f(0x52a)](_0x67c242[_0x1f101f(0xab1)]);_0xe5b8b6=_0xe5b8b6[_0x1f101f(0x331)]({'virtuals':!![]}),assert[_0x1f101f(0xcbc)](_0xe5b8b6['items'][0x0][_0x1f101f(0x7fa)]['_id'],'foo'),assert['ok'](!_0xe5b8b6[_0x1f101f(0x5ec)][0x1]['itemDetail']);}),_0x24a2f1['OjiwQ'](it,_0x24a2f1[_0x58d521(0x88d)],function(_0x55fc1a){const _0x1159de=_0x58d521,_0x1ac3c9={'xwFqA':'BlogPost','wQxlG':function(_0x5ae1aa,_0x499f44){return _0x5ae1aa instanceof _0x499f44;},'xcrnq':function(_0x3d6595){return _0x3d6595();}};if(_0x67c242[_0x1159de(0xb65)](_0x67c242[_0x1159de(0x5fb)],_0x67c242['lmwsx'])){const _0x2f96a4=_0x2860b6['model'](_0x1ac3c9[_0x1159de(0x900)],_0x578501),_0x3ff731=new _0x2f96a4();_0x3ff731['_creator']=new _0x513d88()[_0x1159de(0x303)](),_0x5abdc4['ok'](_0x3ff731[_0x1159de(0x5ad)]instanceof _0x561b00),_0x3ff731[_0x1159de(0x405)](_0x1159de(0x5ad),new _0x598a7c()['toString']()),_0x400fb3['ok'](_0x1ac3c9['wQxlG'](_0x3ff731[_0x1159de(0x5ad)],_0xe5e941)),_0x1ac3c9[_0x1159de(0x100)](_0x480dc6);}else{const _0xe66350=new Schema({'name':String,'authored':[Number]}),_0x86ee5c=new Schema({'_id':Number,'title':String});_0x86ee5c[_0x1159de(0x833)](_0x67c242[_0x1159de(0x787)],{'ref':_0x67c242[_0x1159de(0x704)],'localField':'_id','foreignField':_0x1159de(0x84e),'justOne':!![]});const _0x503884=_0x27d0e4[_0x1159de(0x807)](_0x1159de(0x790),_0xe66350),_0xa189a3=_0x27d0e4['model'](_0x67c242[_0x1159de(0x34d)],_0x86ee5c),_0x42220a=[{'_id':0x0,'title':_0x1159de(0xbb6)},{'_id':0x1,'title':_0x1159de(0xa02)}],_0x267dca=[{'name':_0x1159de(0x946),'authored':[0x0]}];_0x503884[_0x1159de(0x46d)](_0x267dca,function(_0x4b1159){const _0x3ed5f4=_0x1159de,_0x4e662f={'qNyoi':_0x3ed5f4(0xc78)};assert[_0x3ed5f4(0x127)](_0x4b1159),_0xa189a3[_0x3ed5f4(0x46d)](_0x42220a,function(_0x5855db){const _0x32cb0c=_0x3ed5f4,_0x135fd4={'TAFuX':function(_0x4d9355){return _0x4d9355();}};assert[_0x32cb0c(0x127)](_0x5855db),_0xa189a3[_0x32cb0c(0xc77)]({})[_0x32cb0c(0x22b)]({'title':0x1})[_0x32cb0c(0x52a)](_0x4e662f[_0x32cb0c(0xa8f)])[_0x32cb0c(0x37d)](function(_0x2ed700,_0x385136){const _0x2cb42d=_0x32cb0c;assert['ifError'](_0x2ed700),assert[_0x2cb42d(0xcbc)](_0x385136[0x0][_0x2cb42d(0xc78)][_0x2cb42d(0x8a8)],_0x2cb42d(0x946)),assert[_0x2cb42d(0x672)](_0x385136[0x1]['author'],null),_0x135fd4[_0x2cb42d(0x61e)](_0x55fc1a);});});});}}),it('with\x20multiple\x20results\x20and\x20justOne\x20(gh-4329)',function(_0x29f17e){const _0x19a85d=_0x58d521,_0x5ce497={'tLpTV':_0x67c242['nCXQx'],'ZNnBE':_0x67c242[_0x19a85d(0xa51)],'hNzuJ':_0x67c242[_0x19a85d(0x271)],'QeSra':_0x67c242[_0x19a85d(0x3b5)],'Jlejv':_0x67c242[_0x19a85d(0x46a)],'hcUei':_0x19a85d(0x887),'JmcQf':'Fan\x203','uMFuO':function(_0xc52a20){const _0x25c432=_0x19a85d;return _0x67c242[_0x25c432(0x47a)](_0xc52a20);},'xCFvt':'GElGk'},_0x2405b0=new Schema({'openId':String}),_0x809e44=new Schema({'openId':String});_0x809e44['virtual'](_0x19a85d(0x6e5),{'ref':_0x19a85d(0x11f),'localField':_0x67c242[_0x19a85d(0x815)],'foreignField':_0x67c242[_0x19a85d(0x815)],'justOne':!![]});const _0x4b4be2=_0x27d0e4['model']('User',_0x2405b0),_0x3fdf40=_0x27d0e4[_0x19a85d(0x807)](_0x19a85d(0x39a),_0x809e44);_0x4b4be2[_0x19a85d(0x46d)]({'openId':_0x67c242['VgDCd']},{'openId':_0x67c242[_0x19a85d(0x854)]},function(_0x59632e){const _0x508eee=_0x19a85d,_0x3777f9={'tnJQo':function(_0x2c3046){const _0x12aec4=_0x2d45;return _0x5ce497[_0x12aec4(0x5ca)](_0x2c3046);}};if(_0x508eee(0x9a4)!==_0x5ce497[_0x508eee(0x4a6)])assert[_0x508eee(0x127)](_0x59632e),_0x3fdf40[_0x508eee(0x46d)]({'openId':_0x508eee(0xa7b)},{'openId':_0x508eee(0xaee)},function(_0x1c7330){const _0x258138=_0x508eee;assert[_0x258138(0x127)](_0x1c7330),_0x3fdf40['find']()[_0x258138(0x22b)]({'openId':0x1})[_0x258138(0x52a)](_0x258138(0x6e5))['exec'](function(_0x466c05,_0x310c05){const _0x3a6555=_0x258138;assert['ifError'](_0x466c05),assert['ok'](_0x310c05[0x0][_0x3a6555(0x6e5)]),assert['ok'](_0x310c05[0x1]['user']);const _0x2be293=_0x310c05[_0x3a6555(0x847)](function(_0x6037b){const _0x12c390=_0x3a6555;return _0x6037b[_0x12c390(0x6e5)][_0x12c390(0xcf)];});assert[_0x3a6555(0x829)](_0x2be293,[_0x3a6555(0xa7b),'user2']),_0x3777f9[_0x3a6555(0x162)](_0x29f17e);});});else{const _0x1e701a={'sIdhj':_0x5ce497[_0x508eee(0x87a)],'MEGeM':_0x5ce497[_0x508eee(0xbad)],'hMBrX':_0x508eee(0x5a8),'ybymF':_0x5ce497[_0x508eee(0xa98)],'pSrKS':_0x508eee(0x684),'YOUVI':_0x508eee(0x246),'hzyvr':_0x508eee(0x3c1)},_0x1269c1=_0x13a1db['model'](_0x508eee(0x11f),_0x15f0ab),_0x396336=_0x1138ff['model'](_0x508eee(0x438),new _0x61c360({'users':[{'type':_0xe191a7,'ref':_0x5ce497['QeSra']}],'fans':[{'type':_0x20fba3,'ref':_0x5ce497[_0x508eee(0x4e4)]}],'comments':[_0x53676b]}));_0x1269c1['create']({'email':_0x508eee(0x96f)},{'name':_0x5ce497[_0x508eee(0x64d)],'email':_0x508eee(0x660),'gender':_0x5ce497['hcUei']},{'name':_0x5ce497[_0x508eee(0x6f6)]},function(_0x10c78f,_0x329f2e,_0x57c8d4,_0x31c1b5){const _0x31dc9c=_0x508eee,_0x8c0074={'CcPxu':_0x1e701a[_0x31dc9c(0x590)],'UjEKs':_0x1e701a[_0x31dc9c(0x223)],'KbyhA':_0x1e701a[_0x31dc9c(0x422)],'QVTWq':_0x31dc9c(0x3c1)};_0x16d08c[_0x31dc9c(0x127)](_0x10c78f),_0x396336[_0x31dc9c(0x46d)]({'users':[_0x31c1b5],'fans':[_0x329f2e],'comments':[{'_creator':_0x329f2e,'content':_0x1e701a[_0x31dc9c(0x422)]},{'_creator':_0x57c8d4,'content':_0x31dc9c(0xaff)}]},{'users':[_0x329f2e],'fans':[_0x57c8d4],'comments':[{'_creator':_0x31c1b5,'content':_0x31dc9c(0x8ff)},{'_creator':_0x329f2e,'content':_0x1e701a[_0x31dc9c(0x6f8)]}]},function(_0xbc6d9d,_0x2ab46f,_0x514a00){const _0x4ab160=_0x31dc9c;_0x2a7f61[_0x4ab160(0x127)](_0xbc6d9d),_0x396336[_0x4ab160(0x30b)](_0x4ab160(0x534))['in']([_0x2ab46f,_0x514a00])[_0x4ab160(0x52a)](_0x1e701a['sIdhj'],_0x1e701a[_0x4ab160(0x223)],{'gender':_0x4ab160(0x887)})[_0x4ab160(0x52a)](_0x4ab160(0x287),_0x1e701a[_0x4ab160(0x223)],{'gender':_0x1e701a[_0x4ab160(0x3f1)]})['populate'](_0x1e701a[_0x4ab160(0x275)],'email',{'name':null})[_0x4ab160(0x37d)](function(_0x51010f,_0x46706d){const _0x54db11=_0x4ab160;_0x1f18a5[_0x54db11(0x127)](_0x51010f),_0xfa97f9['ok'](_0x46706d),_0x3f2336[_0x54db11(0xcbc)](_0x46706d[_0x54db11(0x2a2)],0x2);const _0x2b1a58=_0x46706d[0x0],_0x2ee4c0=_0x46706d[0x1];_0x2bb8d1[_0x54db11(0x672)](_0x2b1a58[_0x54db11(0xb8b)][_0x54db11(0x2a2)],0x0),_0x4eaa9d[_0x54db11(0x672)](_0x2ee4c0['fans']['length'],0x1),_0x3aa47c[_0x54db11(0xcbc)](_0x2ee4c0[_0x54db11(0xb8b)][0x0][_0x54db11(0x8a8)],_0x8c0074[_0x54db11(0x5c1)]),_0x3c7c10[_0x54db11(0xcbc)](_0x2ee4c0[_0x54db11(0xb8b)][0x0][_0x54db11(0x346)]('email'),![]),_0x2d8e19[_0x54db11(0xcbc)](_0x2ee4c0[_0x54db11(0xb8b)][0x0][_0x54db11(0x346)](_0x54db11(0x3f3)),![]),_0x4cf954[_0x54db11(0xcbc)](_0x2b1a58['comments'][_0x54db11(0x2a2)],0x2),_0x546372[_0x54db11(0xcbc)](_0x2ee4c0[_0x54db11(0x83b)][_0x54db11(0x2a2)],0x2),_0x1dca7f['ok'](_0x2b1a58[_0x54db11(0x83b)][0x0][_0x54db11(0x5ad)][_0x54db11(0x978)]),_0x5c99bd['ok'](!_0x2ee4c0[_0x54db11(0x83b)][0x0][_0x54db11(0x5ad)]),_0x144fb3[_0x54db11(0xcbc)](_0x2b1a58[_0x54db11(0x83b)][0x0]['_creator'][_0x54db11(0x978)],'fan1@learnboost.com'),_0x37fc13[_0x54db11(0xcbc)](_0x2ee4c0[_0x54db11(0x83b)][0x1]['_creator'][_0x54db11(0x978)],_0x54db11(0x96f)),_0x50c24c['equal'](_0x2b1a58[_0x54db11(0x83b)][0x0][_0x54db11(0x5ad)]['isInit'](_0x54db11(0x8a8)),![]),_0x2a10d8[_0x54db11(0xcbc)](_0x2ee4c0[_0x54db11(0x83b)][0x1][_0x54db11(0x5ad)][_0x54db11(0x346)](_0x8c0074[_0x54db11(0xd7)]),![]),_0x48493f[_0x54db11(0xcbc)](_0x2b1a58['comments'][0x0]['content'],_0x8c0074[_0x54db11(0x80c)]),_0x3208db[_0x54db11(0xcbc)](_0x2ee4c0[_0x54db11(0x83b)][0x1][_0x54db11(0x5e6)],_0x8c0074[_0x54db11(0x385)]),_0x4995a3['ok'](!_0x2b1a58['comments'][0x1][_0x54db11(0x5ad)]),_0x373033['ok'](!_0x2ee4c0[_0x54db11(0x83b)][0x0][_0x54db11(0x5ad)]),_0x2c61f6[_0x54db11(0xcbc)](_0x2b1a58[_0x54db11(0x83b)][0x1][_0x54db11(0x5e6)],_0x54db11(0xaff)),_0x319ba0[_0x54db11(0xcbc)](_0x2ee4c0[_0x54db11(0x83b)][0x0][_0x54db11(0x5e6)],_0x54db11(0x8ff)),_0x2fccfc();});});});}});}),_0x24a2f1[_0x58d521(0x964)](it,_0x24a2f1[_0x58d521(0x4de)],async function(){const _0x6deccd=_0x58d521,_0x5ab41f={'YyTFR':_0x6deccd(0xc40),'EXnGv':function(_0x6c181f){return _0x6c181f();},'GQYRz':_0x67c242['tEJyq']};if(_0x67c242[_0x6deccd(0x838)](_0x6deccd(0x4b7),_0x6deccd(0xd8))){const _0x3e07af=new Schema({'openId':String,'test':String}),_0x4615e1=new Schema({'openId':String});_0x4615e1['virtual'](_0x67c242[_0x6deccd(0x15d)],{'ref':_0x67c242[_0x6deccd(0x3b5)],'localField':_0x6deccd(0xcf),'foreignField':'openId','justOne':!![]})[_0x6deccd(0x4e7)](_0x293eda=>_0x293eda[_0x6deccd(0xc20)]);const _0x1d79a7=_0x27d0e4[_0x6deccd(0x807)](_0x67c242[_0x6deccd(0x3b5)],_0x3e07af),_0x2dbee4=_0x27d0e4[_0x6deccd(0x807)]('Comment',_0x4615e1);await _0x2dbee4['create']({'openId':_0x67c242[_0x6deccd(0xa3c)]}),await _0x1d79a7['create']({'openId':'test','test':_0x6deccd(0x5e0)});const _0x493bd3=await _0x2dbee4[_0x6deccd(0x3dd)]({'openId':_0x67c242[_0x6deccd(0xa3c)]})[_0x6deccd(0x52a)](_0x67c242[_0x6deccd(0x15d)]);assert[_0x6deccd(0xcbc)](_0x493bd3[_0x6deccd(0x6e5)],_0x6deccd(0x5e0));}else{const _0x3b28ef={'HHuSy':_0x5ab41f['YyTFR'],'xUZID':function(_0x5677d3){const _0x3a256c=_0x6deccd;return _0x5ab41f[_0x3a256c(0x7bc)](_0x5677d3);},'mfPer':_0x5ab41f['GQYRz']};_0x26d571[_0x6deccd(0x127)](_0x5d338b);const _0x55e6e5=new _0x20115f({'author':_0x6deccd(0x79c),'body':_0x6deccd(0x8b1)});_0x55e6e5['save'](function(_0x2ac801){const _0x18c9eb=_0x6deccd;_0x1f7f7a[_0x18c9eb(0x127)](_0x2ac801),_0x289212[_0x18c9eb(0x770)](_0x55e6e5['id'])[_0x18c9eb(0x52a)](_0x18c9eb(0xc78))[_0x18c9eb(0x37d)](function(_0x1163d5,_0x55dd2c){const _0x13805e=_0x18c9eb,_0x5ab10c=_0x3b28ef[_0x13805e(0x24c)][_0x13805e(0x3a7)]('|');let _0x75558=0x0;while(!![]){switch(_0x5ab10c[_0x75558++]){case'0':_0x3b28ef[_0x13805e(0x1b1)](_0x73f20b);continue;case'1':_0x2d96a6['ifError'](_0x1163d5);continue;case'2':_0x1723dc[_0x13805e(0xcbc)](_0x55dd2c['body'],_0x13805e(0x8b1));continue;case'3':_0x1e9761[_0x13805e(0xcbc)](_0x55dd2c[_0x13805e(0xc78)][_0x13805e(0x8a8)],_0x3b28ef[_0x13805e(0x78f)]);continue;case'4':_0x37f3ab['ok'](_0x55dd2c['author']);continue;}break;}});});}}),it('virtuals\x20with\x20`get`\x20option\x20(gh-9343)',async function(){const _0x1aefff=_0x58d521,_0x328220=new Schema({'openId':String,'test':String}),_0x5c7f9c=new Schema({'openId':String});_0x5c7f9c[_0x1aefff(0x833)](_0x1aefff(0x6e5),{'ref':_0x1aefff(0x11f),'localField':'openId','foreignField':_0x1aefff(0xcf),'justOne':!![],'get':_0x1cd2bf=>_0x1cd2bf[_0x1aefff(0xc20)]});const _0x507968=_0x27d0e4['model']('User',_0x328220),_0xdff70c=_0x27d0e4[_0x1aefff(0x807)]('Comment',_0x5c7f9c);await _0xdff70c[_0x1aefff(0x46d)]({'openId':_0x67c242[_0x1aefff(0xa3c)]}),await _0x507968[_0x1aefff(0x46d)]({'openId':'test','test':_0x1aefff(0x5e0)});const _0x437af1=await _0xdff70c['findOne']({'openId':_0x67c242[_0x1aefff(0xa3c)]})[_0x1aefff(0x52a)](_0x67c242['rDvvW']);assert[_0x1aefff(0xcbc)](_0x437af1[_0x1aefff(0x6e5)],_0x67c242['Nfpae']);}),it('hydrates\x20properly\x20(gh-4618)',function(_0x2798c6){const _0x2a3678=_0x58d521,_0x25fb15=new Schema({'name':{'type':String}}),_0x238f4e=new Schema({'name':{'type':String},'a_id':{'type':ObjectId}},{'toObject':{'virtuals':!![]},'toJSON':{'virtuals':!![]}});_0x238f4e[_0x2a3678(0x833)]('a',{'ref':'Test','localField':_0x2a3678(0xadf),'foreignField':_0x3a1872[_0x2a3678(0x85c)]});const _0x33b9f1=_0x27d0e4['model'](_0x2a3678(0x438),_0x25fb15),_0xc03ecc=_0x27d0e4[_0x2a3678(0x807)](_0x2a3678(0x256),_0x238f4e);_0x33b9f1[_0x2a3678(0x46d)]({'name':'test'})['then'](function(_0x498ec9){const _0x1006ab=_0x2a3678;return _0xc03ecc[_0x1006ab(0x46d)]({'name':_0x67c242[_0x1006ab(0x1ad)],'a_id':_0x498ec9[_0x1006ab(0x534)]});})['then'](function(_0x58d177){const _0x56b2d6=_0x2a3678;return _0xc03ecc[_0x56b2d6(0x770)](_0x58d177)['populate']('a')[_0x56b2d6(0x37d)]();})[_0x2a3678(0xc12)](function(_0x30cdff){const _0x4d1bff=_0x2a3678;assert[_0x4d1bff(0xcbc)](_0x30cdff['toObject']()['a'][0x0]['name'],_0x67c242['VMjvS']),_0x67c242[_0x4d1bff(0x486)](_0x2798c6);})[_0x2a3678(0x412)](_0x2798c6);}),it(_0x24a2f1[_0x58d521(0xd55)],function(_0x1163e4){const _0x7bf949=_0x58d521,_0x49ae5b={'GIZqK':_0x7bf949(0x534),'bwozw':_0x67c242[_0x7bf949(0x7fd)]},_0x2ee5c1=new Schema({'name':String}),_0x5ecead=new Schema({'name':String,'localField':String,'firstId':ObjectId,'secondId':ObjectId},{'toObject':{'virtuals':!![]},'toJSON':{'virtuals':!![]}});_0x5ecead[_0x7bf949(0x833)]('a',{'ref':_0x67c242[_0x7bf949(0x9d9)],'localField':function(){const _0x5130ca=_0x7bf949;return this[_0x5130ca(0x2f9)];},'foreignField':function(){const _0x5000ef=_0x7bf949;return _0x49ae5b[_0x5000ef(0xc30)];},'justOne':!![]});const _0x145ebb=_0x27d0e4[_0x7bf949(0x807)](_0x67c242[_0x7bf949(0x9d9)],_0x2ee5c1),_0x1edfa2=_0x27d0e4[_0x7bf949(0x807)](_0x67c242[_0x7bf949(0x875)],_0x5ecead);_0x145ebb[_0x7bf949(0x46d)]([{'name':_0x67c242['PBZtb']},{'name':_0x67c242[_0x7bf949(0x1ad)]}])['then'](function(_0x5f6950){const _0x4a22a7=_0x7bf949;return _0x1edfa2[_0x4a22a7(0x46d)]([{'name':'b1','localField':'firstId','firstId':_0x5f6950[0x0][_0x4a22a7(0x534)],'secondId':_0x5f6950[0x1][_0x4a22a7(0x534)]},{'name':'b2','localField':_0x49ae5b['bwozw'],'firstId':_0x5f6950[0x0][_0x4a22a7(0x534)],'secondId':_0x5f6950[0x1]['_id']}]);})[_0x7bf949(0xc12)](function(){const _0x399c7b=_0x7bf949;return _0x1edfa2[_0x399c7b(0xc77)]()[_0x399c7b(0x52a)]('a')['sort']([[_0x67c242[_0x399c7b(0xa51)],0x1]])[_0x399c7b(0x37d)]();})[_0x7bf949(0xc12)](function(_0x228636){const _0xf6da22=_0x7bf949;assert[_0xf6da22(0xcbc)](_0x228636[0x0]['a']['name'],'test1'),assert['equal'](_0x228636[0x1]['a'][_0xf6da22(0x8a8)],_0xf6da22(0x112)),_0x1163e4();})[_0x7bf949(0x412)](_0x1163e4);}),_0x24a2f1[_0x58d521(0xa18)](it,_0x24a2f1[_0x58d521(0x577)],function(_0x2918e8){const _0x30db13=_0x58d521,_0x5c2a7f={'oFyIf':_0x30db13(0x165),'ApkdZ':_0x67c242[_0x30db13(0x9d9)],'Gteil':function(_0x345171){const _0x31db87=_0x30db13;return _0x67c242[_0x31db87(0x5c3)](_0x345171);}},_0x2ba5d3=new Schema({'name':String}),_0x4d7930=new Schema({'referencedModel':String,'aId':ObjectId});_0x4d7930[_0x30db13(0x833)]('a',{'ref':function(){const _0x5b173b=_0x30db13;return this[_0x5b173b(0x93a)];},'localField':_0x30db13(0x5bc),'foreignField':_0x67c242['gpDTR'],'justOne':!![]});const _0x12fabd=_0x27d0e4[_0x30db13(0x807)](_0x67c242[_0x30db13(0x9d9)],_0x2ba5d3),_0x1c31cb=_0x27d0e4[_0x30db13(0x807)](_0x30db13(0x8ce),_0x2ba5d3),_0x14e2b4=_0x27d0e4[_0x30db13(0x807)]('Test',_0x4d7930);_0x12fabd[_0x30db13(0x46d)]({'name':'a1'})[_0x30db13(0xc12)](function(_0x29dc09){const _0x3a8cbb=_0x30db13;return _0x1c31cb['create']({'name':'a2'})[_0x3a8cbb(0xc12)](function(_0x332a22){const _0x50cbf8=_0x3a8cbb;return[_0x29dc09][_0x50cbf8(0x627)](_0x332a22);});})[_0x30db13(0xc12)](function(_0x297779){const _0x5a547b=_0x30db13;return _0x14e2b4[_0x5a547b(0x46d)]([{'name':_0x5c2a7f['oFyIf'],'referencedModel':_0x5c2a7f['ApkdZ'],'aId':_0x297779[0x0][_0x5a547b(0x534)]},{'name':'test2','referencedModel':'Test2','aId':_0x297779[0x1][_0x5a547b(0x534)]}]);})[_0x30db13(0xc12)](function(){const _0x5ae17f=_0x30db13;return _0x14e2b4[_0x5ae17f(0xc77)]()[_0x5ae17f(0x52a)]('a')[_0x5ae17f(0x22b)]([[_0x67c242[_0x5ae17f(0xa51)],0x1]]);})[_0x30db13(0xc12)](function(_0x3e9bf6){const _0x4f5c76=_0x30db13;assert[_0x4f5c76(0xcbc)](_0x3e9bf6[_0x4f5c76(0x2a2)],0x2),assert[_0x4f5c76(0x829)](_0x3e9bf6[_0x4f5c76(0x847)](_0x3fe32e=>_0x3fe32e['a'][_0x4f5c76(0x8a8)])[_0x4f5c76(0x22b)](),['a1','a2']),_0x5c2a7f[_0x4f5c76(0x6c1)](_0x2918e8);})[_0x30db13(0x412)](_0x2918e8);}),_0x24a2f1[_0x58d521(0x380)](it,'with\x20functions\x20for\x20match\x20(gh-7397)',async function(){const _0x575b8f=_0x58d521,_0x192bf4=new Schema({'name':String,'createdAt':Date}),_0xf2faf0=new Schema({'as':[{'type':ObjectId,'ref':_0x67c242['lAzXS']}],'minDate':Date}),_0x674c82=_0x27d0e4[_0x575b8f(0x807)](_0x575b8f(0x438),_0x192bf4),_0x2b5bb1=_0x27d0e4[_0x575b8f(0x807)](_0x575b8f(0x256),_0xf2faf0),_0x2981b3=await _0x674c82[_0x575b8f(0x46d)]([{'name':_0x67c242[_0x575b8f(0xabd)],'createdAt':_0x67c242[_0x575b8f(0x959)]},{'name':'newer','createdAt':'2017-06-01'},{'name':_0x575b8f(0x72d),'createdAt':_0x575b8f(0x9f1)}]);await _0x2b5bb1[_0x575b8f(0x46d)]({'as':_0x2981b3['map'](_0x364113=>_0x364113[_0x575b8f(0x534)]),'minDate':_0x575b8f(0xd2a)});const _0x1d17de=await _0x2b5bb1[_0x575b8f(0x3dd)]()[_0x575b8f(0x52a)]({'path':'as','match':_0xcd54be=>({'createdAt':{'$gte':_0xcd54be[_0x575b8f(0x776)]}})});assert['equal'](_0x1d17de['as'][_0x575b8f(0x2a2)],0x2),assert['deepEqual'](_0x1d17de['as']['map'](_0x31b0d7=>_0x31b0d7[_0x575b8f(0x8a8)]),[_0x67c242[_0x575b8f(0x86e)],_0x67c242[_0x575b8f(0x4c4)]]),await _0x2b5bb1[_0x575b8f(0x46d)]({'as':_0x2981b3[_0x575b8f(0x847)](_0x326e72=>_0x326e72['_id']),'minDate':_0x67c242[_0x575b8f(0x2c3)]});const _0x21e017=await _0x2b5bb1['find']()[_0x575b8f(0x22b)]({'minDate':0x1})[_0x575b8f(0x52a)]({'path':'as','match':_0x48161f=>({'createdAt':{'$gte':_0x48161f[_0x575b8f(0x776)]}})});assert[_0x575b8f(0xcbc)](_0x21e017[0x0][_0x575b8f(0x776)][_0x575b8f(0x303)](),new Date(_0x575b8f(0xd2a))[_0x575b8f(0x303)]()),assert[_0x575b8f(0xcbc)](_0x21e017[0x1][_0x575b8f(0x776)][_0x575b8f(0x303)](),new Date('2018-01-01')[_0x575b8f(0x303)]()),assert['equal'](_0x21e017[0x0]['as']['length'],0x2),assert[_0x575b8f(0x829)](_0x21e017[0x0]['as']['map'](_0x5e0d37=>_0x5e0d37[_0x575b8f(0x8a8)]),[_0x575b8f(0x668),_0x67c242[_0x575b8f(0x4c4)]]),assert[_0x575b8f(0xcbc)](_0x21e017[0x1]['as'][_0x575b8f(0x2a2)],0x1),assert[_0x575b8f(0x829)](_0x21e017[0x1]['as']['map'](_0x34b8d6=>_0x34b8d6[_0x575b8f(0x8a8)]),['newest']);}),it(_0x58d521(0xc2a),async function(){const _0x35bbec=_0x58d521,_0x13b583=new Schema({'name':String,'createdAt':Date,'b':ObjectId,'b2':ObjectId}),_0xa16b38=new Schema({'alternateProperty':Boolean,'minDate':Date});_0xa16b38[_0x35bbec(0x833)]('as',{'ref':_0x35bbec(0x256),'localField':_0x35bbec(0x534),'foreignField':function(){const _0x37abcd=_0x35bbec;return this[_0x37abcd(0x492)]?'b2':'b';},'options':{'match':_0x398c41=>({'createdAt':{'$gte':_0x398c41[_0x35bbec(0x776)]}})}});const _0x17ab58=_0x27d0e4[_0x35bbec(0x807)](_0x35bbec(0x256),_0x13b583),_0x5e4492=_0x27d0e4[_0x35bbec(0x807)](_0x35bbec(0x8ce),_0xa16b38);let _0x17bc8d=await _0x5e4492[_0x35bbec(0x46d)]([{'minDate':_0x35bbec(0xd2a)},{'minDate':_0x35bbec(0xd2a),'alternateProperty':!![]}]);await _0x17ab58['create']([{'name':'old','createdAt':_0x35bbec(0x7b9),'b':_0x17bc8d[0x0]['_id'],'b2':_0x17bc8d[0x1]['_id']},{'name':_0x35bbec(0x668),'createdAt':_0x35bbec(0xd65),'b':_0x17bc8d[0x0][_0x35bbec(0x534)],'b2':_0x17bc8d[0x1][_0x35bbec(0x534)]},{'name':_0x3a1872[_0x35bbec(0x4f5)],'createdAt':_0x35bbec(0x9f1),'b':_0x17bc8d[0x0][_0x35bbec(0x534)],'b2':_0x17bc8d[0x1][_0x35bbec(0x534)]}]),_0x17bc8d=await _0x5e4492['find']()[_0x35bbec(0x22b)]({'minDate':0x1})[_0x35bbec(0x52a)]('as');let _0x2a03c5=_0x17bc8d[0x0];assert[_0x35bbec(0xcbc)](_0x2a03c5['as'][_0x35bbec(0x2a2)],0x2),assert[_0x35bbec(0x829)](_0x2a03c5['as'][_0x35bbec(0x847)](_0x99a67e=>_0x99a67e[_0x35bbec(0x8a8)])[_0x35bbec(0x22b)](),[_0x3a1872[_0x35bbec(0x91e)],'newest']),_0x2a03c5=_0x17bc8d[0x1],assert[_0x35bbec(0xcbc)](_0x2a03c5['as'][_0x35bbec(0x2a2)],0x2),assert[_0x35bbec(0x829)](_0x2a03c5['as']['map'](_0x2849b2=>_0x2849b2[_0x35bbec(0x8a8)])[_0x35bbec(0x22b)](),[_0x35bbec(0x668),_0x35bbec(0x72d)]);}),it(_0x58d521(0x940),async function(){const _0x330745=_0x58d521,_0xbbb42d=new Schema({'destination':String}),_0x1ea101=_0x27d0e4[_0x330745(0x807)](_0x330745(0x256),_0xbbb42d),_0x59bc27=new Schema({'name':String}),_0x5a0241=_0x27d0e4[_0x330745(0x807)](_0x3a1872[_0x330745(0xc06)],_0x59bc27),_0x26aa76=new Schema({'vendor':String}),_0x5bb6cb=_0x27d0e4[_0x330745(0x807)](_0x330745(0x367),_0x26aa76),_0x562688=new Schema({'kind':{'type':String},'item':{'type':Schema['Types'][_0x330745(0x2ef)],'refPath':function(_0x52dfab,_0x2007db){const _0xe94bc7=_0x330745;return _0x2007db[_0xe94bc7(0x384)](/\.item$/,_0xe94bc7(0x5b4));}}}),_0x643067=new Schema({'name':String,'connections':[_0x562688],'users':[_0x562688],'agents':[_0x562688]}),_0x346e41=_0x27d0e4[_0x330745(0x807)](_0x3a1872[_0x330745(0x884)],_0x643067),_0x1d25cf=new _0x1ea101({'destination':_0x330745(0xc2f)}),_0x5c6fd1=new _0x5a0241({'name':_0x330745(0x49f)}),_0x38622d=new _0x5bb6cb({'vendor':_0x3a1872[_0x330745(0xb0d)]}),_0x4dfe6f=new _0x346e41({'connections':[{'kind':_0x3a1872['lMVGb'],'item':_0x1d25cf['_id']}],'users':[{'kind':_0x3a1872['kyvqK'],'item':_0x5c6fd1[_0x330745(0x534)]}],'agents':[{'kind':_0x3a1872[_0x330745(0x760)],'item':_0x38622d[_0x330745(0x534)]}]});await _0x1d25cf['save'](),await _0x5c6fd1[_0x330745(0x87f)](),await _0x38622d[_0x330745(0x87f)](),await _0x4dfe6f[_0x330745(0x87f)]();const _0x20160f=await _0x346e41[_0x330745(0x3dd)]({})[_0x330745(0x52a)]('connections.item')[_0x330745(0x52a)](_0x330745(0x963))['populate']('agents.item');assert['strictEqual'](_0x20160f[_0x330745(0xb4e)][0x0]['item'][_0x330745(0x802)],_0x3a1872[_0x330745(0x2da)]),assert[_0x330745(0x672)](_0x20160f['users'][0x0][_0x330745(0x4b5)]['name'],'Kev'),assert[_0x330745(0x672)](_0x20160f[_0x330745(0xfe)][0x0][_0x330745(0x4b5)][_0x330745(0xb4f)],_0x3a1872['TVUUr']);}),_0x24a2f1[_0x58d521(0x7a1)](it,_0x24a2f1[_0x58d521(0xb86)],function(_0x140c3f){const _0x1056ff=_0x58d521,_0x1a2bbc={'ahfHD':_0x1056ff(0x93c),'LEPXa':'Book','WgeiP':_0x3a1872[_0x1056ff(0x638)],'uESAL':_0x3a1872[_0x1056ff(0x853)],'FLgko':_0x1056ff(0x3e2)},_0x4748e3=new Schema({'name':String,'authored':[Number]}),_0x4d09bc=new Schema({'_id':Number,'title':String});_0x4d09bc[_0x1056ff(0x833)](_0x3a1872[_0x1056ff(0x598)],{'ref':'Person','localField':_0x3a1872[_0x1056ff(0x85c)],'foreignField':_0x1056ff(0x84e)});const _0x4bfbfa=_0x27d0e4[_0x1056ff(0x807)](_0x1056ff(0x790),_0x4748e3),_0x4b853b=_0x27d0e4[_0x1056ff(0x807)](_0x1056ff(0x63e),_0x4d09bc),_0x588e1e=[{'_id':0x0,'title':_0x1056ff(0xbb6)},{'_id':0x1,'title':_0x3a1872['tcRwF']},{'_id':0x2,'title':_0x1056ff(0x87e)}],_0x36a181=[{'name':_0x1056ff(0x946),'authored':[0x0]},{'name':_0x3a1872[_0x1056ff(0x884)],'authored':[0x0,0x1]}];_0x4bfbfa['create'](_0x36a181,function(_0x2a4943){const _0x53e8f6=_0x1056ff,_0x28a407={'WIbqz':_0x53e8f6(0x790),'AqTGe':_0x53e8f6(0xd61),'vmTve':_0x67c242['lAzXS'],'BpMul':_0x67c242[_0x53e8f6(0x5a1)]};assert['ifError'](_0x2a4943),_0x4b853b[_0x53e8f6(0x46d)](_0x588e1e,function(_0x246521){const _0x4261ab=_0x53e8f6,_0x3d5bf4={'ZTbaX':_0x4261ab(0x438),'IVsuu':'Val','IkvBC':function(_0x103cef){return _0x103cef();},'cZLDv':_0x1a2bbc[_0x4261ab(0x9d3)],'ZSAit':_0x1a2bbc[_0x4261ab(0xb06)],'zaHje':_0x1a2bbc[_0x4261ab(0x391)],'zVlTJ':_0x1a2bbc['uESAL']};if(_0x4261ab(0x86b)==='BrBte')assert[_0x4261ab(0x127)](_0x246521),_0x4b853b[_0x4261ab(0xc77)]({})[_0x4261ab(0x22b)]({'_id':0x1})[_0x4261ab(0x52a)](_0x1a2bbc[_0x4261ab(0x62f)])[_0x4261ab(0x37d)](function(_0x13a4a8,_0x3bc76b){const _0x24a462=_0x4261ab;assert[_0x24a462(0x127)](_0x13a4a8);const _0x2855c4=_0x3bc76b[0x0]['toObject']({'virtuals':!![]})[_0x24a462(0x3e2)][_0x24a462(0x847)](function(_0x175d59){const _0x5da780=_0x24a462;return _0x175d59[_0x5da780(0x8a8)];})[_0x24a462(0x22b)]();assert[_0x24a462(0x829)](_0x2855c4,[_0x3d5bf4[_0x24a462(0x780)],_0x3d5bf4[_0x24a462(0x120)]]),assert['equal'](_0x3bc76b[0x1][_0x24a462(0x3e2)]['length'],0x1),assert[_0x24a462(0xcbc)](_0x3bc76b[0x1][_0x24a462(0x3e2)][0x0][_0x24a462(0x8a8)],_0x3d5bf4[_0x24a462(0x780)]),assert[_0x24a462(0xcbc)](_0x3bc76b[0x2][_0x24a462(0x3e2)][_0x24a462(0x2a2)],0x0),_0x3d5bf4['IkvBC'](_0x140c3f);});else{const _0x35c9ea={'lRgam':_0x4261ab(0x869)},_0x305011=_0x49a776[_0x4261ab(0x807)](_0x4261ab(0x790),new _0x225fe9[(_0x4261ab(0x101))]({'firstName':{'type':_0x57f01e,'required':!![]},'lastName':{'type':_0x55e4e5,'required':!![]}})),_0xeea446=new _0x5b3492[(_0x4261ab(0x101))]({'title':{'type':_0x15dc1f,'required':!![]}},{'discriminatorKey':_0x4261ab(0x525)}),_0x3b1424=new _0x31bbdc[(_0x4261ab(0x101))]({'author':{'type':_0x36db8c[_0x4261ab(0x101)][_0x4261ab(0x2ef)],'ref':_0x28a407[_0x4261ab(0x5fe)]}}),_0xd7234e=new _0x276581[(_0x4261ab(0x101))]({'author':{'type':_0x54681f['Schema'][_0x4261ab(0x2ef)],'ref':_0x28a407[_0x4261ab(0x5fe)]},'url':{'type':_0x54a59c}}),_0x1ff9f9=new _0x135458[(_0x4261ab(0x101))]({'name':{'type':_0x438438,'required':!![]},'items':[{'type':_0xeea446,'required':![]}]});_0x1ff9f9[_0x4261ab(0x2c8)]('items')[_0x4261ab(0x65b)](_0x28a407['AqTGe'],_0x3b1424),_0x1ff9f9[_0x4261ab(0x2c8)](_0x4261ab(0x5ec))[_0x4261ab(0x65b)](_0x4261ab(0xbc4),_0xd7234e);const _0x2f7fc3=_0x45abec[_0x4261ab(0x807)](_0x28a407[_0x4261ab(0xb54)],_0x1ff9f9);return _0x305011[_0x4261ab(0x46d)]({'firstName':'David','lastName':_0x28a407['BpMul']})[_0x4261ab(0xc12)](function(_0x5eb006){const _0x3aa1bc=_0x4261ab;return _0x2f7fc3['create']({'name':_0x3d5bf4['cZLDv'],'items':[{'type':_0x3d5bf4[_0x3aa1bc(0x4bf)],'title':_0x3aa1bc(0xd07),'author':_0x5eb006},{'type':_0x3d5bf4['zaHje'],'title':_0x3aa1bc(0x663),'url':_0x3d5bf4[_0x3aa1bc(0xbd8)],'author':_0x5eb006}]});})[_0x4261ab(0xc12)](function(_0x3e1f46){const _0x204ea9=_0x4261ab;return _0x2f7fc3[_0x204ea9(0x770)](_0x3e1f46['_id'])['populate'](_0x35c9ea['lRgam'])[_0x204ea9(0x2ac)]();})[_0x4261ab(0xc12)](function(_0x2a07ae){const _0x233e37=_0x4261ab;_0x3222f1[_0x233e37(0xcbc)](_0x2a07ae['items'][0x0][_0x233e37(0xc78)]['firstName'],'David'),_0x52e959[_0x233e37(0xcbc)](_0x2a07ae[_0x233e37(0x5ec)][0x1][_0x233e37(0xc78)][_0x233e37(0x742)],'David');});}});});}),it(_0x24a2f1['mddhR'],async function(){const _0x426125=_0x58d521,_0x5e0128={'cSxMZ':function(_0x3b3f0a){const _0x375825=_0x2d45;return _0x3a1872[_0x375825(0x105)](_0x3b3f0a);}};if(_0x426125(0x35f)===_0x3a1872[_0x426125(0x1d1)]){const _0x2ae71a=new Schema({'_id':Number,'title':String});_0x2ae71a['virtual'](_0x3a1872[_0x426125(0x598)],{'ref':_0x3a1872['VjEbc'],'localField':_0x3a1872['glMrU'],'foreignField':_0x3a1872[_0x426125(0xb6b)]});const _0x2cb739=_0x27d0e4[_0x426125(0x807)](_0x3a1872[_0x426125(0x3b6)],_0x2ae71a);await _0x2cb739[_0x426125(0x46d)]({'_id':0x1,'title':_0x3a1872[_0x426125(0x778)]});const _0x38fb10=await _0x2cb739[_0x426125(0x3dd)]();assert[_0x426125(0x672)](_0x38fb10['authors'],void 0x0);}else _0x5e0128[_0x426125(0x19a)](_0x4242f1);}),it(_0x58d521(0x5aa),function(_0x51a575){const _0x35f950=_0x58d521,_0x364321={'FQrIN':_0x3a1872[_0x35f950(0x93f)],'lfNvQ':_0x35f950(0x6ff),'wLExN':_0x3a1872['GpYqC'],'qNWYu':_0x3a1872['YQOrU'],'xKwbn':_0x35f950(0x5ad),'KXaxU':_0x3a1872[_0x35f950(0x8ac)]},_0x320b2f=new Schema({'name':String});_0x320b2f['virtual']('blogPosts',{'ref':_0x35f950(0x63e),'localField':_0x3a1872[_0x35f950(0x85c)],'foreignField':_0x3a1872['zWFaE']});const _0x51824f=new Schema({'title':String,'author':{'type':ObjectId},'comments':[{'author':{'type':ObjectId,'ref':_0x35f950(0x790)}}]}),_0x58400e=_0x27d0e4[_0x35f950(0x807)](_0x35f950(0x790),_0x320b2f),_0x2126fb=_0x27d0e4[_0x35f950(0x807)](_0x35f950(0x63e),_0x51824f),_0x550419=[{'name':_0x3a1872['tjbvB']},{'name':'Test'}];_0x58400e['create'](_0x550419,function(_0x339e28,_0x4d7d77){const _0x19b7a2=_0x35f950,_0x227030={'JbjYK':_0x364321[_0x19b7a2(0x1b6)],'jlSwe':_0x364321[_0x19b7a2(0x715)],'Abiqe':_0x364321['xKwbn'],'RlSRF':_0x364321[_0x19b7a2(0x969)]};if(_0x19b7a2(0x1ba)===_0x19b7a2(0x56c)){const _0x4e6a88={'KSUtR':function(_0x29063d,_0xcf50ed){return _0x29063d instanceof _0xcf50ed;},'ciNKG':_0x227030[_0x19b7a2(0x3c5)],'OVZbB':_0x227030[_0x19b7a2(0x676)],'cMXGi':function(_0x175220,_0x506555){return _0x175220(_0x506555);},'IWtvl':function(_0x4fdaf9,_0x571525){return _0x4fdaf9(_0x571525);},'AzHjY':function(_0x439b40,_0x3d0307){return _0x439b40(_0x3d0307);},'LLRqU':_0x19b7a2(0x5ad),'jOWsv':'User'};_0x35223e[_0x19b7a2(0x127)](_0x32c4d3),_0xe49780[_0x19b7a2(0x52a)](_0x195cf6,[{'path':_0x227030['Abiqe'],'model':_0x227030[_0x19b7a2(0x3d5)]},{'path':_0x19b7a2(0xb8b),'model':_0x227030[_0x19b7a2(0x3d5)]}],function(_0x5838a9,_0x55b208){const _0x546202=_0x19b7a2;_0x54252b[_0x546202(0x127)](_0x5838a9),_0x46e715['ok'](_0x55b208),_0x299d4d['ok'](_0x55b208[_0x546202(0x5ad)]instanceof _0x36ce2b),_0x109075[_0x546202(0xcbc)](_0x55b208[_0x546202(0x5ad)][_0x546202(0x8a8)],'Phoenix'),_0x1a0698['equal'](_0x55b208['fans'][_0x546202(0x2a2)],0x2),_0x109b44[_0x546202(0xcbc)](_0x55b208['fans'][0x0]['name'],_0x531034[_0x546202(0x8a8)]),_0x55d336[_0x546202(0xcbc)](_0x55b208['fans'][0x1][_0x546202(0x8a8)],_0x196f18['name']),_0x29fa56[_0x546202(0xcbc)](_0x171726(_0x55b208[_0x546202(0x5ad)][_0x546202(0x534)]),_0x4e6a88['AzHjY'](_0xd7ecc2,_0x55b208['populated'](_0x546202(0x5ad)))),_0x38c568['ok'](_0x2291b4[_0x546202(0x809)](_0x55b208[_0x546202(0x118)](_0x4e6a88['OVZbB']))),_0x389353['markModified'](_0x546202(0x5ad)),_0x5de69c['markModified'](_0x4e6a88[_0x546202(0x208)]),_0x54ed51[_0x546202(0x52a)](_0x13cd00,[{'path':_0x4e6a88['LLRqU'],'model':_0x546202(0x11f)},{'path':_0x4e6a88[_0x546202(0x208)],'model':_0x4e6a88[_0x546202(0xc91)]}],function(_0x37ed95,_0x25360a){const _0x5a12d2=_0x546202;_0x34f36b[_0x5a12d2(0x127)](_0x37ed95),_0x274b72['ok'](_0x25360a),_0x2a13a3['ok'](_0x4e6a88[_0x5a12d2(0x9fa)](_0x25360a['_creator'],_0x54e216)),_0x169632[_0x5a12d2(0xcbc)](_0x25360a[_0x5a12d2(0x5ad)]['name'],_0x4e6a88[_0x5a12d2(0x896)]),_0x3b0a06['equal'](_0x25360a['fans'][_0x5a12d2(0x2a2)],0x2),_0x39444e[_0x5a12d2(0xcbc)](_0x25360a['fans'][0x0][_0x5a12d2(0x8a8)],_0x295091['name']),_0x57b6b2[_0x5a12d2(0xcbc)](_0x25360a[_0x5a12d2(0xb8b)][0x1][_0x5a12d2(0x8a8)],_0x4219fd[_0x5a12d2(0x8a8)]),_0xe3bc08['ok'](_0x44f033['isArray'](_0x25360a['populated'](_0x4e6a88[_0x5a12d2(0x208)]))),_0xe56028['equal'](_0x4e6a88[_0x5a12d2(0x411)](_0x82b690,_0x25360a[_0x5a12d2(0xb8b)][0x0][_0x5a12d2(0x534)]),_0x1f058d(_0x25360a[_0x5a12d2(0x118)]('fans')[0x0])),_0x5dca6e[_0x5a12d2(0xcbc)](_0x4e6a88[_0x5a12d2(0x29b)](_0x48d01b,_0x25360a[_0x5a12d2(0xb8b)][0x1][_0x5a12d2(0x534)]),_0x39fba3(_0x25360a[_0x5a12d2(0x118)](_0x5a12d2(0xb8b))[0x1])),_0x14bb36();});});}else{assert['ifError'](_0x339e28);const _0x3fce2e={'title':_0x19b7a2(0x256),'author':_0x4d7d77[0x0][_0x19b7a2(0x534)],'comments':[{'author':_0x4d7d77[0x1]['_id']}]};_0x2126fb[_0x19b7a2(0x46d)](_0x3fce2e,function(_0x5cb6e3){const _0x20c909=_0x19b7a2;assert['ifError'](_0x5cb6e3),_0x58400e[_0x20c909(0x770)](_0x4d7d77[0x0][_0x20c909(0x534)])['populate']({'path':_0x364321['FQrIN'],'model':_0x2126fb,'populate':{'path':_0x364321[_0x20c909(0x3cf)],'model':_0x58400e}})[_0x20c909(0x37d)](function(_0x290f33,_0x4f87b8){const _0x456b70=_0x20c909;assert['ifError'](_0x290f33),assert[_0x456b70(0xcbc)](_0x4f87b8[_0x456b70(0x607)][0x0][_0x456b70(0x83b)][0x0][_0x456b70(0xc78)][_0x456b70(0x8a8)],_0x456b70(0x438)),_0x51a575();});});}});}),it(_0x24a2f1[_0x58d521(0xaa1)],function(_0x205791){const _0x28170c=_0x58d521,_0x227a35={'UHBNi':function(_0x20c068,_0x5e1f88){const _0x349975=_0x2d45;return _0x67c242[_0x349975(0x4fa)](_0x20c068,_0x5e1f88);},'CMFVK':function(_0x3b7788){return _0x3b7788();}},_0xbcc3ca=new Schema({'name':String});_0xbcc3ca['virtual']('bs',{'ref':_0x28170c(0x8ce),'localField':_0x28170c(0x534),'foreignField':'a'});const _0x2963b9=new Schema({'a':mongoose[_0x28170c(0x101)][_0x28170c(0xc4a)]['ObjectId'],'name':String});_0x2963b9[_0x28170c(0x833)]('cs',{'ref':_0x67c242[_0x28170c(0x20e)],'localField':_0x28170c(0x534),'foreignField':'b'});const _0x3420c8=new Schema({'b':mongoose[_0x28170c(0x101)][_0x28170c(0xc4a)][_0x28170c(0x2ef)],'name':String}),_0x358636=_0x27d0e4[_0x28170c(0x807)]('Test1',_0xbcc3ca),_0x1f65f8=_0x27d0e4[_0x28170c(0x807)](_0x28170c(0x8ce),_0x2963b9),_0x61dab7=_0x27d0e4[_0x28170c(0x807)](_0x28170c(0x367),_0x3420c8);_0x358636[_0x28170c(0x46d)]({'name':'A1'},function(_0x4402e2,_0x4d1eae){const _0x35d8d4=_0x28170c;assert['ifError'](_0x4402e2),_0x1f65f8[_0x35d8d4(0x46d)]({'name':'B1','a':_0x4d1eae[_0x35d8d4(0x534)]},function(_0x4608bb,_0x46dd5b){const _0x2288e9=_0x35d8d4,_0x2507b4={'TwwbZ':'fan2@learnboost.com','xCkRC':function(_0x5dddab,_0x272a44){const _0x4cd805=_0x2d45;return _0x227a35[_0x4cd805(0x13c)](_0x5dddab,_0x272a44);},'NvZge':function(_0x494397){return _0x227a35['CMFVK'](_0x494397);}};assert['ifError'](_0x4608bb),_0x61dab7[_0x2288e9(0x46d)]({'name':'C1','b':_0x46dd5b[_0x2288e9(0x534)]},function(_0x4d319a){const _0x3788f4=_0x2288e9,_0x362e2b={'VMRhe':'female','uCDGL':_0x2507b4[_0x3788f4(0xac7)],'LstKR':function(_0x56bbda,_0x539c9a){const _0x2626b6=_0x3788f4;return _0x2507b4[_0x2626b6(0x716)](_0x56bbda,_0x539c9a);},'ZmeKP':_0x3788f4(0x69b),'pwbfz':function(_0x56d367){const _0x89ff36=_0x3788f4;return _0x2507b4[_0x89ff36(0x2a4)](_0x56d367);}};assert[_0x3788f4(0x127)](_0x4d319a);const _0x2c483a={'path':'bs','populate':{'path':'cs'}};_0x358636[_0x3788f4(0x770)](_0x4d1eae)[_0x3788f4(0x52a)](_0x2c483a)[_0x3788f4(0x37d)](function(_0x29713f,_0x9d0be0){const _0x3fa554=_0x3788f4,_0x1761a1={'NVByt':_0x362e2b['VMRhe'],'aAzKk':_0x3fa554(0x684),'NkSmJ':_0x362e2b[_0x3fa554(0x4a2)],'xWwPE':_0x3fa554(0xb8b)};if(_0x362e2b['LstKR'](_0x362e2b[_0x3fa554(0x92d)],_0x3fa554(0x69b))){const _0x475fbe='3|2|0|5|1|4'[_0x3fa554(0x3a7)]('|');let _0x2fe1df=0x0;while(!![]){switch(_0x475fbe[_0x2fe1df++]){case'0':assert[_0x3fa554(0xcbc)](_0x9d0be0['bs'][0x0][_0x3fa554(0x8a8)],'B1');continue;case'1':assert[_0x3fa554(0xcbc)](_0x9d0be0['bs'][0x0]['cs'][0x0]['name'],'C1');continue;case'2':assert[_0x3fa554(0xcbc)](_0x9d0be0['bs'][_0x3fa554(0x2a2)],0x1);continue;case'3':assert[_0x3fa554(0x127)](_0x29713f);continue;case'4':_0x362e2b[_0x3fa554(0x4fc)](_0x205791);continue;case'5':assert[_0x3fa554(0xcbc)](_0x9d0be0['bs'][0x0]['cs'][_0x3fa554(0x2a2)],0x1);continue;}break;}}else _0x224176[_0x3fa554(0x127)](_0x6882d0),_0x17851f['find']({'_id':{'$in':[_0x561f11['_id'],_0x34da81[_0x3fa554(0x534)]]}})['populate'](_0x3fa554(0xb8b),'',{'gender':_0x1761a1[_0x3fa554(0xd54)],'_id':{'$in':[_0x1bb7e9]}})[_0x3fa554(0x37d)](function(_0x5b4fd8,_0xf1e656){const _0x2079af=_0x3fa554,_0x1df45f={'CpHUp':_0x1761a1[_0x2079af(0xd54)],'iNJRn':_0x1761a1[_0x2079af(0x55d)],'rMaMe':_0x2079af(0xd33),'EYJIf':_0x1761a1[_0x2079af(0x5cc)]};_0x2a1174[_0x2079af(0x127)](_0x5b4fd8),_0x2d15d7[_0x2079af(0xcbc)](_0xf1e656[0x0][_0x2079af(0xb8b)]['length'],0x1),_0x470d05[_0x2079af(0xcbc)](_0xf1e656[0x0]['fans'][0x0][_0x2079af(0x3f3)],_0x1761a1[_0x2079af(0xd54)]),_0x4989c7[_0x2079af(0xcbc)](_0xf1e656[0x0][_0x2079af(0xb8b)][0x0][_0x2079af(0x8a8)],'Fan\x202'),_0x592468[_0x2079af(0xcbc)](_0xf1e656[0x0][_0x2079af(0xb8b)][0x0][_0x2079af(0x978)],_0x2079af(0x660)),_0x1031af[_0x2079af(0xcbc)](_0xf1e656[0x1]['fans'][_0x2079af(0x2a2)],0x1),_0x43ae48[_0x2079af(0xcbc)](_0xf1e656[0x1]['fans'][0x0][_0x2079af(0x3f3)],_0x2079af(0x887)),_0x299b3d[_0x2079af(0xcbc)](_0xf1e656[0x1][_0x2079af(0xb8b)][0x0]['name'],_0x1761a1[_0x2079af(0x55d)]),_0x3c4166[_0x2079af(0xcbc)](_0xf1e656[0x1][_0x2079af(0xb8b)][0x0]['email'],_0x1761a1[_0x2079af(0x5cc)]),_0xee27e8[_0x2079af(0xc77)]({'_id':{'$in':[_0x4b1b72['_id'],_0x19dd81[_0x2079af(0x534)]]}})[_0x2079af(0x52a)](_0x1761a1[_0x2079af(0x818)],![],{'gender':_0x2079af(0x887)})[_0x2079af(0x37d)](function(_0x1d82fd,_0x3de995){const _0x21ecd3=_0x2079af;_0xa0a063[_0x21ecd3(0x127)](_0x1d82fd),_0x451522[_0x21ecd3(0x672)](_0x3de995[0x0][_0x21ecd3(0xb8b)]['length'],0x2),_0x49756e[_0x21ecd3(0xcbc)](_0x3de995[0x0][_0x21ecd3(0xb8b)][0x0][_0x21ecd3(0x3f3)],_0x1df45f[_0x21ecd3(0x3f7)]),_0x442ce4[_0x21ecd3(0xcbc)](_0x3de995[0x0]['fans'][0x0][_0x21ecd3(0x8a8)],_0x1df45f['iNJRn']),_0x2c82ab['equal'](_0x3de995[0x0][_0x21ecd3(0xb8b)][0x0][_0x21ecd3(0x978)],'fan2@learnboost.com'),_0x260599['equal'](_0x3de995[0x0][_0x21ecd3(0xb8b)][0x1][_0x21ecd3(0x3f3)],_0x1df45f[_0x21ecd3(0x3f7)]),_0x40b202[_0x21ecd3(0xcbc)](_0x3de995[0x0][_0x21ecd3(0xb8b)][0x1]['name'],'Fan\x203'),_0x31e3a1[_0x21ecd3(0xcbc)](_0x3de995[0x0][_0x21ecd3(0xb8b)][0x1][_0x21ecd3(0x978)],_0x1df45f[_0x21ecd3(0x45e)]),_0x45d651['strictEqual'](_0x3de995[0x1][_0x21ecd3(0xb8b)]['length'],0x2),_0x22817e[_0x21ecd3(0xcbc)](_0x3de995[0x1][_0x21ecd3(0xb8b)][0x0][_0x21ecd3(0x3f3)],_0x1df45f[_0x21ecd3(0x3f7)]),_0x1a7592['equal'](_0x3de995[0x1]['fans'][0x0]['name'],_0x21ecd3(0x930)),_0x460346[_0x21ecd3(0xcbc)](_0x3de995[0x1]['fans'][0x0][_0x21ecd3(0x978)],_0x21ecd3(0xd33)),_0x15395d[_0x21ecd3(0xcbc)](_0x3de995[0x1][_0x21ecd3(0xb8b)][0x1]['gender'],_0x1df45f[_0x21ecd3(0x3f7)]),_0x1c5e5b[_0x21ecd3(0xcbc)](_0x3de995[0x1]['fans'][0x1]['name'],'Fan\x202'),_0x159495[_0x21ecd3(0xcbc)](_0x3de995[0x1][_0x21ecd3(0xb8b)][0x1][_0x21ecd3(0x978)],_0x1df45f[_0x21ecd3(0xa23)]),_0x52158d();});});});});});});}),_0x24a2f1[_0x58d521(0xd1a)](it,_0x24a2f1[_0x58d521(0xc86)],function(_0x922a53){const _0x34db5e=_0x58d521,_0x588fc6={'gHqXJ':_0x3a1872[_0x34db5e(0x18a)],'jmCQU':_0x34db5e(0x8ce),'GhSMG':_0x3a1872[_0x34db5e(0x79d)],'DCqIc':_0x3a1872[_0x34db5e(0xafd)],'XjWfx':_0x34db5e(0xac2),'CEpNr':_0x3a1872[_0x34db5e(0x931)]},_0xf2e2ec=new mongoose[(_0x34db5e(0x101))]({'name':String,'tagId':String}),_0x5de734=new mongoose['Schema']({'name':String,'body':String,'tags':[String]});_0x5de734[_0x34db5e(0x833)](_0x3a1872[_0x34db5e(0x30e)],{'ref':_0x34db5e(0x438),'localField':'tags','foreignField':_0x3a1872[_0x34db5e(0xa0a)]});const _0x532bbf=_0x27d0e4[_0x34db5e(0x807)](_0x3a1872[_0x34db5e(0x884)],_0xf2e2ec),_0x2cd718=_0x27d0e4[_0x34db5e(0x807)](_0x3a1872[_0x34db5e(0x3b6)],_0x5de734),_0x1e3133=[{'name':_0x3a1872[_0x34db5e(0x5f8)],'tagId':_0x3a1872[_0x34db5e(0x7a4)]},{'name':_0x3a1872['pAEbh'],'tagId':'node'},{'name':_0x34db5e(0x628),'tagId':_0x34db5e(0x628)}];_0x532bbf[_0x34db5e(0x46d)](_0x1e3133)[_0x34db5e(0xc12)](function(){const _0x40c13e=_0x34db5e;return _0x67c242['AzgVt'](_0x67c242[_0x40c13e(0x904)],_0x67c242['NjkSK'])?_0x57b76d[_0x40c13e(0x3dd)]({'_id':_0x14fd95})[_0x40c13e(0x52a)]([{'path':_0x588fc6[_0x40c13e(0xa94)],'model':_0x588fc6[_0x40c13e(0xc27)],'populate':[{'path':_0x588fc6[_0x40c13e(0x6aa)],'model':_0x588fc6['DCqIc']}]}]):_0x2cd718['create']({'title':_0x67c242[_0x40c13e(0xa3c)],'tags':[_0x40c13e(0xac2),_0x40c13e(0x628)]});})['then'](function(_0x355070){const _0x43b335=_0x34db5e;return _0x2cd718['findById'](_0x355070[_0x43b335(0x534)])[_0x43b335(0x52a)](_0x43b335(0x949));})[_0x34db5e(0xc12)](function(_0x1cdbc2){const _0x2ac5cd=_0x34db5e,_0x12f4ea=_0x2ac5cd(0x176)['split']('|');let _0x5f466a=0x0;while(!![]){switch(_0x12f4ea[_0x5f466a++]){case'0':assert[_0x2ac5cd(0xcbc)](_0x1cdbc2['tagsDocuments'][0x0]['tagId'],_0x588fc6[_0x2ac5cd(0x133)]);continue;case'1':assert[_0x2ac5cd(0xcbc)](_0x1cdbc2[_0x2ac5cd(0x33b)][0x0],_0x2ac5cd(0xac2));continue;case'2':assert[_0x2ac5cd(0xcbc)](_0x1cdbc2[_0x2ac5cd(0x949)][0x1][_0x2ac5cd(0x7d2)],_0x588fc6[_0x2ac5cd(0x282)]);continue;case'3':_0x922a53();continue;case'4':assert[_0x2ac5cd(0xcbc)](_0x1cdbc2[_0x2ac5cd(0x33b)][0x1],'javascript');continue;}break;}})[_0x34db5e(0x412)](_0x922a53);}),it(_0x24a2f1[_0x58d521(0x248)],function(_0x1a4d42){const _0x1e907c=_0x58d521,_0x36ae6e={'YwUgY':function(_0x30824f){return _0x30824f();}},_0x21b2da=new Schema({'name':String,'authored':[Number]}),_0xaff595=new Schema({'_id':Number,'title':String});_0xaff595[_0x1e907c(0x833)](_0x67c242[_0x1e907c(0xa11)],{'ref':!![],'localField':_0x67c242['gpDTR'],'foreignField':_0x1e907c(0x84e),'justOne':![]});const _0x419e80=_0x27d0e4['model'](_0x1e907c(0x790),_0x21b2da),_0x180896=_0x27d0e4['model'](_0x67c242[_0x1e907c(0x34d)],_0xaff595),_0x51ce65=[{'_id':0x0,'title':_0x1e907c(0xbb6)}],_0x1908ad=[{'name':_0x1e907c(0x946),'authored':[0x0]}];_0x419e80[_0x1e907c(0x46d)](_0x1908ad,function(_0x52c406){const _0xc0b26f=_0x1e907c,_0x2dd71d={'Pfefk':'Val','DUbVW':function(_0x2a6c3b){const _0x65dbe5=_0x2d45;return _0x36ae6e[_0x65dbe5(0x410)](_0x2a6c3b);}};assert[_0xc0b26f(0x127)](_0x52c406),_0x180896[_0xc0b26f(0x46d)](_0x51ce65,function(_0x398064){const _0x52b3e2=_0xc0b26f;assert[_0x52b3e2(0x127)](_0x398064),_0x180896[_0x52b3e2(0x3dd)]({})[_0x52b3e2(0x2ac)]()[_0x52b3e2(0x52a)]({'path':_0x52b3e2(0x3e2),'model':_0x419e80})['exec'](function(_0x1c3f0f,_0x588c39){const _0x4ab75a=_0x52b3e2;assert[_0x4ab75a(0x127)](_0x1c3f0f),assert[_0x4ab75a(0xcbc)](_0x588c39[_0x4ab75a(0x3e2)][_0x4ab75a(0x2a2)],0x1),assert[_0x4ab75a(0xcbc)](_0x588c39[_0x4ab75a(0x3e2)][0x0][_0x4ab75a(0x8a8)],_0x2dd71d[_0x4ab75a(0xbc1)]),_0x2dd71d[_0x4ab75a(0x350)](_0x1a4d42);});});});}),it('gh-4923',function(_0x5e7faa){const _0x807df4=_0x58d521,_0x2e7f82={'RCPfK':function(_0x12591a,_0x1e2920){const _0x830ddc=_0x2d45;return _0x3a1872[_0x830ddc(0xcd4)](_0x12591a,_0x1e2920);},'TvfQt':function(_0x53e3f3){const _0x206157=_0x2d45;return _0x3a1872[_0x206157(0x5b8)](_0x53e3f3);},'xYUzu':_0x807df4(0x48d)};if(_0x3a1872['iqzTx']!==_0x807df4(0x5c7)){const _0x3fbc66=new Schema({'name':String}),_0x2448c2=_0x27d0e4[_0x807df4(0x807)](_0x3a1872[_0x807df4(0x884)],_0x3fbc66),_0x515564=new Schema({'name':String,'clusters':{'type':[ObjectId],'ref':_0x807df4(0x438)}}),_0x1eb10a=_0x27d0e4[_0x807df4(0x807)](_0x807df4(0x256),_0x515564),_0x569e24=new Schema({'activity':[{'cluster':{'type':ObjectId,'ref':_0x3a1872[_0x807df4(0x884)]},'intensity':Number}]});_0x569e24[_0x807df4(0x833)](_0x807df4(0x2c1),{'ref':_0x3a1872['lMVGb'],'localField':_0x807df4(0x1a8),'foreignField':_0x3a1872[_0x807df4(0x48b)]}),_0x569e24['set'](_0x807df4(0x331),{'virtuals':!![]}),_0x569e24[_0x807df4(0x405)](_0x3a1872['xzzbh'],{'virtuals':!![]});const _0x5df0a1=_0x27d0e4['model'](_0x3a1872[_0x807df4(0xc06)],_0x569e24);_0x2448c2['create']([{'name':'c1'},{'name':'c2'},{'name':'c3'}])[_0x807df4(0xc12)](function(_0x252a3d){const _0x52510b=_0x807df4;return _0x1eb10a[_0x52510b(0x46d)]([{'name':'z1','clusters':[_0x252a3d[0x0][_0x52510b(0x534)],_0x252a3d[0x1][_0x52510b(0x534)],_0x252a3d[0x2][_0x52510b(0x534)]]},{'name':'z2','clusters':[_0x252a3d[0x0]['_id'],_0x252a3d[0x2][_0x52510b(0x534)]]}])[_0x52510b(0xc12)](function(){return _0x252a3d;});})['then'](function(_0x4386cc){const _0x4875db=_0x807df4;return _0x5df0a1[_0x4875db(0x46d)]({'activity':[{'cluster':_0x4386cc[0x0][_0x4875db(0x534)],'intensity':0x1},{'cluster':_0x4386cc[0x1][_0x4875db(0x534)],'intensity':0x2}]});})[_0x807df4(0xc12)](function(){const _0x388361=_0x807df4;return _0x5df0a1[_0x388361(0x3dd)]({})[_0x388361(0x52a)](_0x388361(0x1a8))[_0x388361(0x52a)](_0x67c242[_0x388361(0x260)],_0x67c242[_0x388361(0xe9)])[_0x388361(0x37d)](function(_0x24825c,_0x2df7f3){const _0x282697=_0x388361,_0x5c0b31={'STHeT':function(_0x56b570,_0x1fb782){return _0x56b570!==_0x1fb782;},'OGfwN':function(_0x5b24d4,_0x582e39){return _0x2e7f82['RCPfK'](_0x5b24d4,_0x582e39);}};assert[_0x282697(0x127)](_0x24825c),_0x2df7f3=_0x2df7f3['toObject']({'virtuals':!![]});const _0x30d33a=function(_0x3a4745,_0x54c9ad){const _0x464bc8=_0x282697;if(_0x5c0b31[_0x464bc8(0x681)](_0x464bc8(0x455),_0x464bc8(0x455))){if(_0x1a830e['name']<_0x447e86[_0x464bc8(0x8a8)])return-0x1;else{if(_0x21f0d4[_0x464bc8(0x8a8)]<_0x305a05[_0x464bc8(0x8a8)])return 0x1;}return 0x0;}else{if(_0x3a4745['name']<_0x54c9ad[_0x464bc8(0x8a8)])return-0x1;else{if(_0x5c0b31[_0x464bc8(0x9ba)](_0x54c9ad['name'],_0x3a4745['name']))return 0x1;}return 0x0;}};_0x2df7f3['activity'][0x0][_0x282697(0x7a2)][_0x282697(0x22b)](_0x30d33a),_0x2df7f3[_0x282697(0xa20)][0x1][_0x282697(0x7a2)][_0x282697(0x22b)](_0x30d33a),assert[_0x282697(0xcbc)](_0x2df7f3['activity'][0x0]['zones'][0x0][_0x282697(0x8a8)],'z1'),assert[_0x282697(0xcbc)](_0x2df7f3[_0x282697(0xa20)][0x1][_0x282697(0x7a2)][0x0][_0x282697(0x8a8)],'z1'),_0x5e7faa();});})[_0x807df4(0x412)](_0x5e7faa);}else{const _0x435632={'xIOuu':_0x807df4(0xc03),'dMUHV':function(_0x518fcf){const _0x10652c=_0x807df4;return _0x2e7f82[_0x10652c(0x40d)](_0x518fcf);}};_0xf7852b[_0x807df4(0x127)](_0x2416af),_0x4ef327[_0x807df4(0xc77)]()[_0x807df4(0x52a)](_0x2e7f82[_0x807df4(0xcf4)])[_0x807df4(0x37d)](function(_0x48c6fe){const _0x1e44e2=_0x807df4;_0x1a9f2e['ok'](_0x48c6fe),_0x4c8c2c[_0x1e44e2(0xcbc)](_0x48c6fe[_0x1e44e2(0x8a8)],_0x435632[_0x1e44e2(0xf2)]),_0x435632[_0x1e44e2(0x7c3)](_0xd45665);});}}),_0x24a2f1[_0x58d521(0x433)](it,_0x58d521(0xfc),function(_0x113b7e){const _0x2259f8=_0x58d521,_0x1cf0d1={'LRvkL':function(_0x5e0049){const _0x5c4bdb=_0x2d45;return _0x3a1872[_0x5c4bdb(0xd51)](_0x5e0049);},'aIGSj':_0x2259f8(0xc0f),'eZRUM':_0x2259f8(0x466),'ZDkCb':_0x2259f8(0x5dd)},_0x9d0756=new Schema({'date':{'type':Date},'user':{'type':Schema[_0x2259f8(0x2ef)],'ref':_0x3a1872[_0x2259f8(0x8ac)]}}),_0x3d716b=new Schema({'name':String});_0x3d716b[_0x2259f8(0x833)](_0x2259f8(0x6fc),{'ref':_0x2259f8(0x438),'localField':_0x3a1872[_0x2259f8(0x85c)],'foreignField':_0x3a1872[_0x2259f8(0xac1)],'options':{'sort':{'date':-0x1},'limit':0x2}});const _0x1b384f=_0x27d0e4['model'](_0x3a1872[_0x2259f8(0x884)],_0x9d0756),_0x5a8182=_0x27d0e4[_0x2259f8(0x807)](_0x3a1872['UlcPX'],_0x3d716b);_0x5a8182[_0x2259f8(0x46d)]({'name':_0x3a1872[_0x2259f8(0xaf1)]})['then'](function(_0x403ed9){const _0x979435=_0x2259f8,_0x5cf545={'TANiu':function(_0x11364d){const _0x251e49=_0x2d45;return _0x1cf0d1[_0x251e49(0xad5)](_0x11364d);}};if(_0x1cf0d1[_0x979435(0x630)]===_0x1cf0d1['aIGSj'])return _0x1b384f['create']([{'date':_0x1cf0d1['eZRUM'],'user':_0x403ed9[_0x979435(0x534)]},{'date':'2011-06-02','user':_0x403ed9['_id']},{'date':_0x1cf0d1[_0x979435(0x370)],'user':_0x403ed9['_id']}]);else{const _0x3e05b5={'TfZIL':function(_0x33f35b){const _0x10bfc=_0x979435;return _0x5cf545[_0x10bfc(0x9d1)](_0x33f35b);}};_0x511531['ifError'](_0x36c203),_0x29886c['create'](_0x4bfb37,_0x5d34b7,function(_0x1aa212){const _0x1ee5f1=_0x979435;_0x433b6a[_0x1ee5f1(0x127)](_0x1aa212),_0x1ef2a1['save'](function(_0x4f372e){const _0x7c6d04=_0x1ee5f1;_0x11c3ff[_0x7c6d04(0x127)](_0x4f372e),_0x3e05b5[_0x7c6d04(0x8cc)](_0x1ab428);});});}})[_0x2259f8(0xc12)](function(_0x370671){const _0xeba36d=_0x2259f8;return _0x5a8182[_0xeba36d(0x770)](_0x370671[0x0]['user'])[_0xeba36d(0x52a)](_0xeba36d(0x6fc));})[_0x2259f8(0xc12)](function(_0x3282e3){const _0x264295=_0x2259f8;assert[_0x264295(0xcbc)](_0x3282e3[_0x264295(0x6fc)][_0x264295(0x2a2)],0x2),assert[_0x264295(0xcbc)](_0x3282e3['sessions'][0x0][_0x264295(0x1bc)]['valueOf'](),new Date(_0x67c242['jcdey'])[_0x264295(0xf4)]()),assert[_0x264295(0xcbc)](_0x3282e3['sessions'][0x1][_0x264295(0x1bc)][_0x264295(0xf4)](),new Date(_0x67c242[_0x264295(0xb3c)])['valueOf']()),_0x67c242['kwIBQ'](_0x113b7e);})['catch'](_0x113b7e);}),it(_0x58d521(0x8f4),function(_0x143a07){const _0x5e6375=_0x58d521,_0x559222=new Schema({'name':String}),_0x1ec81b=_0x27d0e4[_0x5e6375(0x807)](_0x3a1872[_0x5e6375(0x8ac)],_0x559222);_0x1ec81b[_0x5e6375(0x3dd)]()['populate']()[_0x5e6375(0x37d)](function(_0x276f30){const _0x1fe708=_0x5e6375;assert[_0x1fe708(0x127)](_0x276f30),_0x143a07();});}),it(_0x24a2f1['DpIuz'],function(){const _0x6baad=_0x58d521,_0xed6fdc=new Schema({'title':String,'author':{'type':mongoose[_0x6baad(0x101)]['Types']['ObjectId'],'ref':'Person'}}),_0x8773bb=new Schema({'name':String}),_0x4bcf34=_0x27d0e4[_0x6baad(0x807)](_0x67c242['YrgCP'],_0xed6fdc),_0x2d6143=_0x27d0e4[_0x6baad(0x807)](_0x6baad(0x790),_0x8773bb),_0x3cef3e=new _0x2d6143({'name':_0x67c242[_0x6baad(0xaca)]}),_0x260e31=new _0x4bcf34({'title':_0x6baad(0xc57),'author':_0x3cef3e['_id']});assert['ok'](!_0x260e31[_0x6baad(0xc78)][_0x6baad(0x8a8)]),assert['equal'](_0x260e31['author'][_0x6baad(0x11d)](),_0x3cef3e[_0x6baad(0x534)][_0x6baad(0x11d)]()),assert[_0x6baad(0xcbc)](_0x260e31[_0x6baad(0xc78)][_0x6baad(0x534)]['toHexString'](),_0x3cef3e[_0x6baad(0x534)]['toHexString']()),_0x260e31[_0x6baad(0xc78)]=_0x3cef3e,assert['equal'](_0x260e31[_0x6baad(0xc78)]['name'],_0x6baad(0x946)),assert['equal'](_0x260e31['author'][_0x6baad(0x534)][_0x6baad(0x11d)](),_0x3cef3e['_id']['toHexString']());}),_0x24a2f1[_0x58d521(0xd66)](describe,_0x58d521(0x6da),function(){const _0xdc755d=_0x58d521,_0x57d112={'ZUFyP':_0x67c242[_0xdc755d(0xa2b)],'AwBmE':_0x67c242[_0xdc755d(0xbb3)],'kuwcb':_0xdc755d(0x438),'dHLZB':_0xdc755d(0x790),'imIDR':_0xdc755d(0x44c),'dAcJE':_0x67c242[_0xdc755d(0x10b)],'hAjTx':_0x67c242[_0xdc755d(0xaca)],'NqznG':_0xdc755d(0x6f1),'pQSJD':_0x67c242[_0xdc755d(0x787)],'SurCq':_0x67c242['NWqwn'],'elSOh':_0x67c242[_0xdc755d(0x678)]};_0x67c242[_0xdc755d(0xa9c)](afterEach,function(){const _0x160c43=_0xdc755d;delete mongoose[_0x160c43(0xc11)][_0x160c43(0x40c)];}),_0x67c242[_0xdc755d(0x6ba)](it,_0xdc755d(0x7b1),function(_0x1fe589){const _0x9d52b1=_0xdc755d,_0x32a5b7=new mongoose[(_0x9d52b1(0x101))]({'name':{'type':String},'categories':{'type':[{'type':mongoose['Schema'][_0x9d52b1(0xc4a)][_0x9d52b1(0x2ef)],'ref':_0x57d112[_0x9d52b1(0x5f0)]}],'select':![]}}),_0x196e8d=new Schema({'name':String}),_0x260a18=_0x27d0e4[_0x9d52b1(0x807)](_0x9d52b1(0xa76),_0x32a5b7),_0x2c93f5=_0x27d0e4['model'](_0x57d112[_0x9d52b1(0x5f0)],_0x196e8d);_0x2c93f5['create']({'name':_0x9d52b1(0xcda)},function(_0x1f09e7,_0x5e1309){const _0x7b0495=_0x9d52b1,_0x2f26d5={'qfjPo':_0x57d112[_0x7b0495(0x571)],'dhTrK':_0x57d112[_0x7b0495(0x950)]};assert['ifError'](_0x1f09e7);const _0x1d812c={'name':_0x7b0495(0x556),'categories':[_0x5e1309[_0x7b0495(0x534)]]};_0x260a18[_0x7b0495(0x46d)](_0x1d812c,function(_0x19f842,_0x4633c5){const _0x1f2ce7=_0x7b0495;assert[_0x1f2ce7(0x127)](_0x19f842),_0x260a18[_0x1f2ce7(0x770)](_0x4633c5[_0x1f2ce7(0x534)])[_0x1f2ce7(0x52a)]('categories')[_0x1f2ce7(0x37d)](function(_0x19861a,_0x1d38d5){const _0x30fe61=_0x1f2ce7,_0x11c515={'SPYCc':_0x2f26d5[_0x30fe61(0xca7)],'wcBAV':function(_0x31b36e){return _0x31b36e();},'lxmcK':_0x2f26d5['dhTrK']};assert[_0x30fe61(0x127)](_0x19861a),assert[_0x30fe61(0xcbc)](_0x1d38d5[_0x30fe61(0x5fd)][_0x30fe61(0x2a2)],0x1),assert[_0x30fe61(0xcbc)](_0x1d38d5['categories'][0x0][_0x30fe61(0x8a8)],_0x30fe61(0xcda)),_0x260a18[_0x30fe61(0x770)](_0x1d38d5[_0x30fe61(0x534)])[_0x30fe61(0x52a)](_0x30fe61(0x5fd))['select']({'categories':0x0})[_0x30fe61(0x37d)](function(_0x2dd260,_0x4c92d6){const _0xb1ceb3=_0x30fe61;assert[_0xb1ceb3(0x127)](_0x2dd260),assert['ok'](!_0x4c92d6[_0xb1ceb3(0x5fd)]),_0x260a18[_0xb1ceb3(0x770)](_0x4c92d6[_0xb1ceb3(0x534)])[_0xb1ceb3(0x4e9)]({'name':0x0})[_0xb1ceb3(0x52a)](_0x11c515[_0xb1ceb3(0x28a)])['exec'](function(_0x452ed7,_0x497de4){const _0x125244=_0xb1ceb3;assert['ifError'](_0x452ed7),assert[_0x125244(0xcbc)](_0x497de4[_0x125244(0x5fd)][_0x125244(0x2a2)],0x1),assert[_0x125244(0xcbc)](_0x497de4[_0x125244(0x5fd)][0x0][_0x125244(0x8a8)],_0x11c515[_0x125244(0x677)]),assert['ok'](!_0x497de4[_0x125244(0x8a8)]),_0x11c515['wcBAV'](_0x1fe589);});});});});});}),_0x67c242[_0xdc755d(0x6ba)](it,_0x67c242['UuxZF'],async function(){const _0x1acfa0=_0xdc755d,_0x2c47e8=_0x27d0e4[_0x1acfa0(0x807)](_0x57d112['dHLZB'],new Schema({'name':String})),_0x3d5570=new Schema({'title':_0x57d112[_0x1acfa0(0x5fc)],'author':{'type':_0x57d112[_0x1acfa0(0xcf3)],'ref':_0x1acfa0(0x790)}},{'selectPopulatedPaths':![]}),_0x5e6f75=_0x27d0e4[_0x1acfa0(0x807)]('Product',_0x3d5570),_0x3f51de=await _0x2c47e8[_0x1acfa0(0x46d)]({'name':_0x57d112[_0x1acfa0(0x8fb)]});await _0x5e6f75[_0x1acfa0(0x46d)]({'title':_0x57d112[_0x1acfa0(0x147)],'author':_0x3f51de[_0x1acfa0(0x534)]});const _0x5a1e61=await _0x5e6f75[_0x1acfa0(0x3dd)]()['select'](_0x1acfa0(0x132))[_0x1acfa0(0x52a)](_0x1acfa0(0xc78));assert['ok'](!_0x5a1e61[_0x1acfa0(0xc78)]);}),_0x67c242[_0xdc755d(0x8d7)](it,_0xdc755d(0x2b5),async function(){const _0x3544f4=_0xdc755d,_0x63928b=_0x27d0e4[_0x3544f4(0x807)](_0x3544f4(0x790),new Schema({'name':String})),_0xa7ce42=new Schema({'title':_0x3544f4(0x44c),'author':{'type':_0x57d112[_0x3544f4(0xcf3)],'ref':_0x57d112['dHLZB']}}),_0x259001=_0x27d0e4['model'](_0x3544f4(0xa76),_0xa7ce42);mongoose[_0x3544f4(0x405)]('selectPopulatedPaths',![]);const _0x36d875=await _0x63928b[_0x3544f4(0x46d)]({'name':_0x3544f4(0x946)});await _0x259001['create']({'title':_0x57d112[_0x3544f4(0x147)],'author':_0x36d875[_0x3544f4(0x534)]});const _0x460b13=await _0x259001[_0x3544f4(0x3dd)]()[_0x3544f4(0x4e9)](_0x3544f4(0x132))[_0x3544f4(0x52a)](_0x57d112[_0x3544f4(0xec)]);assert['ok'](!_0x460b13[_0x3544f4(0xc78)]);}),it(_0x67c242[_0xdc755d(0x281)],async function(){const _0x5d724c=_0xdc755d,_0x5743fc=_0x27d0e4[_0x5d724c(0x807)](_0x5d724c(0x790),new Schema({'name':String})),_0x50748d=new Schema({'title':_0x57d112[_0x5d724c(0x5fc)],'author':{'type':_0x57d112[_0x5d724c(0xcf3)],'ref':'Person'}},{'selectPopulatedPaths':!![]}),_0x3f56da=_0x27d0e4['model'](_0x57d112[_0x5d724c(0xbcf)],_0x50748d);mongoose[_0x5d724c(0x405)](_0x57d112[_0x5d724c(0x15a)],![]);const _0x58bf6e=await _0x5743fc[_0x5d724c(0x46d)]({'name':_0x5d724c(0x946)});await _0x3f56da[_0x5d724c(0x46d)]({'title':_0x57d112[_0x5d724c(0x147)],'author':_0x58bf6e[_0x5d724c(0x534)]});const _0x4c93d2=await _0x3f56da[_0x5d724c(0x3dd)]()['select'](_0x5d724c(0x132))[_0x5d724c(0x52a)]('author');assert['equal'](_0x4c93d2['author'][_0x5d724c(0x8a8)],_0x57d112[_0x5d724c(0x8fb)]);});}),_0x24a2f1[_0x58d521(0x7a1)](it,_0x24a2f1['yBNCF'],function(_0x91d56c){const _0x2223a6=_0x58d521,_0x4275d7={'apYwl':_0x67c242[_0x2223a6(0xa3c)]},_0x32e2fc=new mongoose['Schema']({'name':{'type':String,'required':!![]}}),_0x47ec1f=_0x27d0e4[_0x2223a6(0x807)]('Image',_0x32e2fc),_0x6112ae=new mongoose['Schema']({'name':{'type':String,'required':!![]}}),_0x184b6e=_0x27d0e4['model'](_0x67c242[_0x2223a6(0x514)],_0x6112ae),_0xdae19c=new mongoose[(_0x2223a6(0x101))]({'value':{'type':mongoose[_0x2223a6(0x101)][_0x2223a6(0xc4a)]['ObjectId'],'ref':_0x67c242[_0x2223a6(0x3b8)],'default':null}}),_0x300218=_0x184b6e[_0x2223a6(0x65b)]('Test1',_0xdae19c),_0x13e824=new mongoose[(_0x2223a6(0x101))]({'value':{'type':Schema[_0x2223a6(0xc4a)][_0x2223a6(0x445)],'required':!![],'default':{}}}),_0x5ac1ae=_0x184b6e[_0x2223a6(0x65b)](_0x67c242[_0x2223a6(0x875)],_0x13e824),_0x56c7e0=new mongoose[(_0x2223a6(0x101))]({'name':{'type':String,'required':!![]},'fields':[{'type':mongoose[_0x2223a6(0x101)][_0x2223a6(0xc4a)]['ObjectId'],'ref':_0x2223a6(0x438)}]}),_0x28d937=_0x27d0e4[_0x2223a6(0x807)](_0x67c242[_0x2223a6(0x20e)],_0x56c7e0);_0x47ec1f['create']({'name':_0x67c242[_0x2223a6(0xa9f)]})[_0x2223a6(0xc12)](function(_0x47d564){const _0x6f6307=_0x2223a6;return _0x300218[_0x6f6307(0x46d)]({'name':_0x67c242[_0x6f6307(0xa3c)],'value':_0x47d564[_0x6f6307(0x534)]});})['then'](function(_0x1b3f27){const _0x1211f9=_0x2223a6;return _0x5ac1ae[_0x1211f9(0x46d)]({'name':_0x1211f9(0xc20),'value':_0x1211f9(0xc20)})[_0x1211f9(0xc12)](function(_0x3886dc){return[_0x1b3f27,_0x3886dc];});})[_0x2223a6(0xc12)](function(_0xce634a){return _0x28d937['create']({'fields':_0xce634a,'name':_0x4275d7['apYwl']});})[_0x2223a6(0xc12)](function(_0x15878c){const _0x2d9d0f=_0x2223a6;return _0x28d937[_0x2d9d0f(0x3dd)]({'_id':_0x15878c[_0x2d9d0f(0x534)]})[_0x2d9d0f(0x52a)]({'path':_0x67c242[_0x2d9d0f(0xc6a)],'populate':{'path':_0x2d9d0f(0x77f)}})['exec']();})[_0x2223a6(0xc12)](function(_0x1f55d5){const _0x796f8a=_0x2223a6;_0x67c242['gHCEx'](_0x796f8a(0xcdb),'syLdE')?_0xb34c3d['author']={'_id':_0x234390[_0x796f8a(0xc78)]}:(assert[_0x796f8a(0xcbc)](_0x1f55d5[_0x796f8a(0xa17)][_0x796f8a(0x2a2)],0x2),assert[_0x796f8a(0xcbc)](_0x1f55d5[_0x796f8a(0xa17)][0x0][_0x796f8a(0x77f)][_0x796f8a(0x8a8)],_0x796f8a(0x1c3)),assert[_0x796f8a(0xcbc)](_0x1f55d5[_0x796f8a(0xa17)][0x1][_0x796f8a(0x77f)],_0x67c242[_0x796f8a(0xa3c)]),_0x91d56c());})[_0x2223a6(0x412)](_0x91d56c);}),it(_0x58d521(0xcc6),function(_0x138132){const _0x33b2e8=_0x58d521,_0x23ee55={'YqQhH':'Person','dFGKR':_0x3a1872[_0x33b2e8(0x9a5)],'zErCd':function(_0x4e3c69){return _0x4e3c69();}},_0x46fed5=new Schema({'parent':mongoose['Schema']['Types']['ObjectId'],'name':String}),_0x4d4a58=_0x27d0e4['model'](_0x33b2e8(0x790),_0x46fed5);_0x4d4a58[_0x33b2e8(0x46d)]({'name':'Anakin'})['then'](function(_0x24bc16){const _0x348887=_0x33b2e8;return _0x4d4a58[_0x348887(0x46d)]({'name':_0x348887(0x159),'parent':_0x24bc16['_id']});})['then'](function(_0x59957c){const _0x5de4f7=_0x33b2e8;return _0x4d4a58[_0x5de4f7(0x770)](_0x59957c[_0x5de4f7(0x534)]);})[_0x33b2e8(0xc12)](function(_0x23ca0a){const _0x494684=_0x33b2e8;return _0x4d4a58['populate'](_0x23ca0a,{'path':'parent','model':_0x23ee55[_0x494684(0xa1e)]});})[_0x33b2e8(0xc12)](function(_0xea6be1){const _0x57c7ea=_0x33b2e8;assert[_0x57c7ea(0xcbc)](_0xea6be1[_0x57c7ea(0xd0a)][_0x57c7ea(0x8a8)],_0x23ee55[_0x57c7ea(0x8e6)]),_0x23ee55[_0x57c7ea(0x808)](_0x138132);})[_0x33b2e8(0x412)](_0x138132);}),_0x24a2f1[_0x58d521(0x74c)](it,_0x58d521(0x181),function(_0x4c28d9){const _0x52a528=_0x58d521,_0x4799b9={'tEemB':_0x67c242[_0x52a528(0x624)],'lRZmd':_0x52a528(0xc78)},_0x5a7b48=new Schema({'name':String});_0x5a7b48[_0x52a528(0x833)](_0x52a528(0x607),{'ref':_0x67c242['YrgCP'],'localField':'_id','foreignField':_0x52a528(0xc78)});const _0x430e5b=new Schema({'title':String,'author':{'type':ObjectId},'comments':[{'author':{'type':ObjectId,'ref':'Person'}}]}),_0x3ea542=_0x27d0e4[_0x52a528(0x807)](_0x67c242[_0x52a528(0x704)],_0x5a7b48),_0x12de1a=_0x27d0e4[_0x52a528(0x807)](_0x52a528(0x63e),_0x430e5b),_0x1db079=[{'name':_0x52a528(0x946)},{'name':_0x52a528(0x438)}];_0x3ea542[_0x52a528(0x46d)](_0x1db079,function(_0x48bd4e,_0x4cb751){const _0x51c378=_0x52a528;assert[_0x51c378(0x127)](_0x48bd4e);const _0xcd2951={'title':_0x51c378(0x256),'author':_0x4cb751[0x0][_0x51c378(0x534)],'comments':[{'author':_0x4cb751[0x1]['_id']}]};_0x12de1a['create'](_0xcd2951,function(_0x16aebb){const _0x370497=_0x51c378,_0x66e88={'ubZdq':_0x370497(0x946)};assert['ifError'](_0x16aebb),_0x3ea542[_0x370497(0x770)](_0x4cb751[0x0][_0x370497(0x534)])[_0x370497(0x52a)]({'path':_0x4799b9[_0x370497(0x981)],'model':_0x12de1a,'populate':{'path':_0x4799b9[_0x370497(0xad3)],'model':_0x3ea542}})['exec'](function(_0x445e88,_0x2d41b0){const _0x3b7438=_0x370497;assert[_0x3b7438(0x127)](_0x445e88),assert[_0x3b7438(0xcbc)](_0x2d41b0['blogPosts']['length'],0x1),assert[_0x3b7438(0xcbc)](_0x2d41b0[_0x3b7438(0x607)][0x0]['author'][_0x3b7438(0x8a8)],_0x66e88[_0x3b7438(0x3ee)]),_0x4c28d9();});});});}),it(_0x24a2f1[_0x58d521(0x775)],async function(){const _0x313ecb=_0x58d521,_0x1fa56e=await start[_0x313ecb(0x295)](),_0x3c1334=_0x3a1872[_0x313ecb(0x56f)](_0x1fa56e[0x0],0x3)||_0x1fa56e[0x0]===0x3&&_0x1fa56e[0x1]>=0x4;if(!_0x3c1334)return;const _0x1e60db=new Schema({'name':String,'child':{'type':_0x3a1872[_0x313ecb(0x8d3)],'ref':'Child'}}),_0x38a405=new Schema({'_id':_0x3a1872[_0x313ecb(0x8d3)],'name':String}),_0x270d30=_0x27d0e4['model'](_0x3a1872[_0x313ecb(0x4cd)],_0x38a405),_0x437035=_0x27d0e4[_0x313ecb(0x807)](_0x313ecb(0x855),_0x1e60db),_0x47293d=_0x38a405[_0x313ecb(0x2c8)](_0x3a1872['glMrU'])[_0x313ecb(0xcb6)](_0x3a1872['JheSu']);await _0x270d30[_0x313ecb(0x46d)]({'name':_0x313ecb(0x159),'_id':_0x3a1872[_0x313ecb(0x294)]});const _0x5b7713=await _0x437035[_0x313ecb(0x46d)]({'name':_0x313ecb(0x2f1),'child':_0x47293d[_0x313ecb(0xb32)]}),_0x33a2e4=await _0x437035[_0x313ecb(0x770)](_0x5b7713[_0x313ecb(0x534)])[_0x313ecb(0x52a)](_0x3a1872['HBQpk']);assert[_0x313ecb(0xcbc)](_0x33a2e4[_0x313ecb(0xb8f)][_0x313ecb(0x8a8)],_0x313ecb(0x159)),assert[_0x313ecb(0xcbc)](_0x33a2e4[_0x313ecb(0xb8f)][_0x313ecb(0x534)][_0x313ecb(0x303)](),_0x313ecb(0x451));}),it(_0x24a2f1[_0x58d521(0x954)],function(_0x1113f6){const _0x43b609=_0x58d521,_0x28880e={'TIVuq':'Test','mShOR':_0x3a1872[_0x43b609(0xb83)],'JVZSA':function(_0x1ff955){return _0x1ff955();}},_0x185961=new Schema({'title':{'type':String,'required':!![],'trim':!![]}});_0x185961[_0x43b609(0x833)]('brefs',{'ref':_0x3a1872[_0x43b609(0xc06)],'localField':_0x3a1872['glMrU'],'foreignField':'arefs'});const _0x1f35e3=new Schema({'arefs':[{'type':ObjectId,'required':!![],'ref':_0x3a1872[_0x43b609(0xafd)]}]}),_0x125fd2=_0x27d0e4[_0x43b609(0x807)](_0x43b609(0x256),_0x185961),_0x3e2bed=_0x27d0e4[_0x43b609(0x807)](_0x3a1872[_0x43b609(0xc06)],_0x1f35e3),_0x308221=new mongoose[(_0x43b609(0xc4a))][(_0x43b609(0x2ef))]();_0x125fd2[_0x43b609(0x46d)]({'_id':_0x308221,'title':_0x3a1872['SmkMB']})[_0x43b609(0xc12)](function(){const _0x23cdeb=_0x43b609;return _0x3e2bed[_0x23cdeb(0x46d)]({'arefs':[_0x308221]});})[_0x43b609(0xc12)](function(){const _0x378655=_0x43b609;return _0x125fd2[_0x378655(0x3dd)]({'_id':_0x308221})['populate']([{'path':_0x378655(0x2ab),'model':_0x378655(0x8ce),'populate':[{'path':'arefs','model':_0x378655(0x256)}]}]);})[_0x43b609(0xc12)](function(_0x47c72e){const _0x5368ea=_0x43b609,_0xd0b70d={'urRih':_0x28880e[_0x5368ea(0x24f)],'uqTsw':_0x5368ea(0x3c8)};if('wvKYR'===_0x28880e[_0x5368ea(0x903)])assert['equal'](_0x47c72e[_0x5368ea(0x2ab)][0x0]['arefs'][0x0][_0x5368ea(0x132)],'test'),_0x28880e[_0x5368ea(0xcd9)](_0x1113f6);else return new _0x3f357e({'balls':[{'league':_0x5368ea(0x2a9),'kind':_0xd0b70d[_0x5368ea(0x71c)],'ball':_0x5b20e0['_id']},{'league':_0xd0b70d['uqTsw']}]})['save']();})[_0x43b609(0x412)](_0x1113f6);}),it('handles\x20nested\x20virtuals\x20(gh-4851)',function(_0x5eeb5e){const _0x45b8c8=_0x58d521,_0x134c9c={'XNdSG':'_id','SFTOU':_0x45b8c8(0xbf0),'sJuQP':_0x3a1872['fjTXD'],'TDQJW':function(_0x4abdf4,_0xd1b30){const _0x3f21df=_0x45b8c8;return _0x3a1872[_0x3f21df(0x1ac)](_0x4abdf4,_0xd1b30);},'OuWwp':_0x45b8c8(0x26d),'uODCH':function(_0x18ab33){return _0x18ab33();}};if(_0x3a1872[_0x45b8c8(0x20a)](_0x45b8c8(0x579),'KAVCZ'))return _0x134c9c['XNdSG'];else{const _0xb056c1=new Schema({'name':String}),_0x3f5083=new Schema({'title':String,'author':{'id':mongoose['Schema'][_0x45b8c8(0xc4a)][_0x45b8c8(0x2ef)]}});_0x3f5083['virtual'](_0x45b8c8(0x192),{'ref':_0x3a1872[_0x45b8c8(0xb07)],'foreignField':_0x45b8c8(0x534),'localField':_0x3a1872[_0x45b8c8(0xb34)],'justOne':!![]}),_0x27d0e4[_0x45b8c8(0x530)](/.*/);const _0x431a7f=_0x27d0e4[_0x45b8c8(0x807)](_0x3a1872[_0x45b8c8(0xb07)],_0xb056c1),_0x32d3f9=_0x27d0e4['model'](_0x3a1872['lluLs'],_0x3f5083);_0x431a7f[_0x45b8c8(0x46d)]({'name':_0x45b8c8(0x946)})[_0x45b8c8(0xc12)](function(_0x54c667){const _0x3396c2=_0x45b8c8,_0x40a687={'Lfyoe':_0x3396c2(0xb10),'bKzEJ':'Guns\x20N\x27\x20Roses'};if(_0x134c9c[_0x3396c2(0x8b8)]===_0x134c9c[_0x3396c2(0x8d4)]){const _0x43dcf2={'YIegf':function(_0x330790){return _0x330790();},'cakEz':_0x3396c2(0x404),'mXwRx':_0x40a687[_0x3396c2(0xc52)],'ZEOxE':_0x40a687['bKzEJ'],'mAuhh':_0x3396c2(0xbf3)};_0x2a26fb[_0x3396c2(0x127)](_0x34e38e),_0x2060db['find']({})[_0x3396c2(0x22b)]({'name':0x1})[_0x3396c2(0x52a)]({'path':_0x3396c2(0x4cc),'options':{'sort':{'name':0x1}}})['exec'](function(_0x265d10,_0x522118){const _0x363a9d=_0x3396c2,_0x414260=_0x363a9d(0xc23)[_0x363a9d(0x3a7)]('|');let _0x547c0a=0x0;while(!![]){switch(_0x414260[_0x547c0a++]){case'0':_0x1619ed[_0x363a9d(0x127)](_0x265d10);continue;case'1':_0x543949['equal'](_0x522118[_0x363a9d(0x2a2)],0x2);continue;case'2':_0x32cbf7[_0x363a9d(0xcbc)](_0x522118[0x0][_0x363a9d(0x4cc)][_0x363a9d(0x2a2)],0x2);continue;case'3':_0x43dcf2['YIegf'](_0x19fb77);continue;case'4':_0x1bb1aa['equal'](_0x522118[0x1][_0x363a9d(0x8a8)],_0x43dcf2[_0x363a9d(0xcd3)]);continue;case'5':_0x373455[_0x363a9d(0x829)](_0x522118[0x0][_0x363a9d(0x4cc)]['map'](_0x4bf8bd=>_0x4bf8bd[_0x363a9d(0x8a8)]),[_0x43dcf2['mXwRx'],_0x363a9d(0x28c)]);continue;case'6':_0x177236[_0x363a9d(0xcbc)](_0x522118[0x1]['members'][_0x363a9d(0x2a2)],0x2);continue;case'7':_0x12c99b[_0x363a9d(0xcbc)](_0x522118[0x0][_0x363a9d(0x8a8)],_0x43dcf2[_0x363a9d(0xd04)]);continue;case'8':_0x55d9ca[_0x363a9d(0x829)](_0x522118[0x1]['members'][_0x363a9d(0x847)](_0xad5949=>_0xad5949[_0x363a9d(0x8a8)]),[_0x43dcf2['mAuhh'],'Vince\x20Neil']);continue;}break;}});}else return _0x32d3f9[_0x3396c2(0x46d)]({'title':_0x3396c2(0x556),'author':{'id':_0x54c667[_0x3396c2(0x534)]}});})[_0x45b8c8(0xc12)](function(_0x305ac2){const _0xd3c06f=_0x45b8c8;return _0x32d3f9[_0xd3c06f(0x770)](_0x305ac2)[_0xd3c06f(0x52a)](_0x67c242[_0xd3c06f(0x427)]);})[_0x45b8c8(0xc12)](function(_0x674255){const _0x2fd011=_0x45b8c8,_0x287059={'WqvId':_0x2fd011(0x946),'lwycf':function(_0x3370f5){return _0x3370f5();}};_0x134c9c[_0x2fd011(0xa12)](_0x2fd011(0x4ee),_0x134c9c[_0x2fd011(0x1a6)])?(assert['equal'](_0x674255[_0x2fd011(0xc78)][_0x2fd011(0x398)]['name'],_0x2fd011(0x946)),_0x674255=_0x674255['toObject']({'virtuals':!![]}),assert[_0x2fd011(0xcbc)](_0x674255[_0x2fd011(0xc78)][_0x2fd011(0x398)][_0x2fd011(0x8a8)],_0x2fd011(0x946)),_0x134c9c[_0x2fd011(0xb50)](_0x5eeb5e)):(_0x3c15c9['equal'](_0x5ae836[_0x2fd011(0xc78)]['doc'][_0x2fd011(0x8a8)],_0x2fd011(0x946)),_0x385c7e=_0x1eaf47[_0x2fd011(0x331)]({'virtuals':!![]}),_0x275237['equal'](_0x2b63e3[_0x2fd011(0xc78)][_0x2fd011(0x398)][_0x2fd011(0x8a8)],_0x287059['WqvId']),_0x287059[_0x2fd011(0xd11)](_0x1c18e2));})[_0x45b8c8(0x412)](_0x5eeb5e);}}),_0x24a2f1[_0x58d521(0x1e1)](it,'nested\x20virtuals\x20if\x20top-level\x20prop\x20doesnt\x20exist\x20(gh-5431)',function(_0x1a74fb){const _0x45025d=_0x58d521,_0x217c35={'kvDMA':function(_0x55e3a8,_0x2693b4){const _0xcf574d=_0x2d45;return _0x67c242[_0xcf574d(0xc55)](_0x55e3a8,_0x2693b4);},'tQikV':'eNOJM','qatPD':function(_0x818500){return _0x818500();}},_0x555752=new mongoose[(_0x45025d(0x101))]({'name':String,'band':String}),_0x5908df=new mongoose[(_0x45025d(0x101))]({'name':String,'data':{'field':String}});_0x5908df[_0x45025d(0x833)](_0x67c242['BGXgo'],{'ref':_0x67c242[_0x45025d(0x704)],'localField':_0x45025d(0x8a8),'foreignField':_0x67c242[_0x45025d(0x798)],'justOne':![]}),_0x5908df[_0x45025d(0x405)](_0x67c242[_0x45025d(0x1de)],{'virtuals':!![]});const _0x4cd373=_0x27d0e4[_0x45025d(0x807)](_0x67c242[_0x45025d(0x704)],_0x555752),_0x28ae6e=_0x27d0e4['model'](_0x67c242[_0x45025d(0x514)],_0x5908df);_0x28ae6e[_0x45025d(0x46d)]({'name':_0x67c242[_0x45025d(0x39c)],'data':{}})[_0x45025d(0xc12)](function(){const _0x2b8959=_0x45025d;return _0x4cd373[_0x2b8959(0x46d)]({'name':_0x2b8959(0xb56),'band':_0x67c242[_0x2b8959(0x39c)]});})[_0x45025d(0xc12)](function(){const _0xf47b35=_0x45025d;return _0x28ae6e[_0xf47b35(0x3dd)]({})[_0xf47b35(0x52a)](_0x67c242[_0xf47b35(0x77d)]);})[_0x45025d(0xc12)](function(_0x1ffcd6){const _0xf2c628=_0x45025d;if(_0x217c35['kvDMA'](_0xf2c628(0xae6),_0x217c35[_0xf2c628(0xafc)]))return _0x4f9600[_0xf2c628(0xc78)]=_0x407d17[_0xf2c628(0xc78)][_0xf2c628(0x534)],_0x2214ca;else assert['equal'](_0x1ffcd6[_0xf2c628(0x139)]['members']['length'],0x1),assert[_0xf2c628(0xcbc)](_0x1ffcd6[_0xf2c628(0x139)][_0xf2c628(0x4cc)][0x0]['name'],_0xf2c628(0xb56)),_0x217c35[_0xf2c628(0x971)](_0x1a74fb);})[_0x45025d(0x412)](_0x1a74fb);}),_0x24a2f1[_0x58d521(0x511)](it,_0x24a2f1[_0x58d521(0x2be)],function(_0x206424){const _0x2ca493=_0x58d521,_0x3fec90={'oBQgr':_0x67c242[_0x2ca493(0xa8a)],'HPoLB':function(_0x2ba6cf){const _0x4061c0=_0x2ca493;return _0x67c242[_0x4061c0(0xbdf)](_0x2ba6cf);}},_0x29d453=new Schema({'name':String}),_0xa24533=new Schema({'parentId':mongoose[_0x2ca493(0x101)]['Types'][_0x2ca493(0x2ef)]});_0xa24533['virtual'](_0x67c242['FBbIZ'],{'ref':_0x2ca493(0x855),'localField':_0x2ca493(0x669),'foreignField':_0x67c242[_0x2ca493(0x480)],'justOne':!![]});const _0x121415=new Schema({'people':[_0xa24533]}),_0x2dfe81=_0x27d0e4['model'](_0x67c242['spAyI'],_0x29d453),_0x189c36=_0x27d0e4[_0x2ca493(0x807)](_0x67c242[_0x2ca493(0x22d)],_0x121415);_0x2dfe81[_0x2ca493(0x46d)]({'name':_0x67c242[_0x2ca493(0xa8a)]})[_0x2ca493(0xc12)](function(_0x58854b){const _0x3ba04e=_0x2ca493;return _0x189c36[_0x3ba04e(0x46d)]({'people':[{'parentId':_0x58854b[_0x3ba04e(0x534)]}]});})[_0x2ca493(0xc12)](function(_0x58fc0b){const _0x27b3a1=_0x2ca493;return _0x189c36[_0x27b3a1(0x770)](_0x58fc0b[_0x27b3a1(0x534)]);})['then'](function(_0x1741fc){const _0x3a837b=_0x2ca493;return _0x1741fc[_0x3a837b(0x52a)](_0x3a837b(0x161));})[_0x2ca493(0xc12)](function(_0x3a4d54){const _0x5a6cfd=_0x2ca493;_0x3a4d54=_0x3a4d54['toObject']({'virtuals':!![]}),assert[_0x5a6cfd(0xcbc)](_0x3a4d54['people'][0x0][_0x5a6cfd(0xd0a)][_0x5a6cfd(0x8a8)],_0x3fec90[_0x5a6cfd(0x7b5)]),_0x3fec90[_0x5a6cfd(0x879)](_0x206424);})[_0x2ca493(0x412)](_0x206424);}),_0x24a2f1[_0x58d521(0xf1)](it,_0x58d521(0xa84),function(_0x2123aa){const _0x4b5a7a=_0x58d521,_0x42e798={'AFdbf':_0x3a1872[_0x4b5a7a(0x5e2)]},_0x136b19=new Schema({'name':String,'child':mongoose['Schema'][_0x4b5a7a(0xc4a)][_0x4b5a7a(0x2ef)]}),_0x2da05c=new Schema({'name':String}),_0x594693=_0x27d0e4[_0x4b5a7a(0x807)](_0x4b5a7a(0x855),_0x136b19),_0x50a9ff=_0x27d0e4[_0x4b5a7a(0x807)](_0x4b5a7a(0x5ee),_0x2da05c);_0x50a9ff['create']({'name':_0x4b5a7a(0x159)},function(_0x4ae53c,_0x28ea9f){const _0x27b754=_0x4b5a7a,_0x215653={'VVusx':function(_0x385f50){return _0x385f50();},'mcMmK':_0x27b754(0x5ee)};assert[_0x27b754(0x127)](_0x4ae53c),_0x594693[_0x27b754(0x46d)]({'name':_0x42e798[_0x27b754(0xbc3)],'child':_0x28ea9f[_0x27b754(0x534)]},function(_0x278e91){const _0x6bdb=_0x27b754;assert[_0x6bdb(0x127)](_0x278e91),_0x594693[_0x6bdb(0xc77)]()[_0x6bdb(0x52a)]({'path':_0x6bdb(0xb8f),'model':_0x215653['mcMmK']})[_0x6bdb(0x241)]()['next'](function(_0x2758ba,_0x47bd20){const _0x96226a=_0x6bdb;assert[_0x96226a(0x127)](_0x2758ba),assert[_0x96226a(0xcbc)](_0x47bd20[_0x96226a(0xb8f)][_0x96226a(0x8a8)],_0x96226a(0x159)),_0x215653[_0x96226a(0x606)](_0x2123aa);});});});}),_0x24a2f1[_0x58d521(0x2cb)](it,_0x24a2f1['OSzKr'],function(_0x589fbd){const _0x22c4db=_0x58d521,_0x23d860={'NkOAM':_0x3a1872['SRqFW'],'proQQ':_0x22c4db(0x139)},_0x130a24=new mongoose['Schema']({'_id':Number,'name':String},{'versionKey':null}),_0x3d938b=_0x27d0e4['model']('Test',_0x130a24),_0x538804=new mongoose[(_0x22c4db(0x101))]({'_id':Number,'prevnxt':[{'type':Number,'ref':_0x3a1872[_0x22c4db(0x884)]}]}),_0x289d4b=_0x27d0e4[_0x22c4db(0x807)](_0x22c4db(0x256),_0x538804),_0x16004c=[0x1,0x2,0x3,0x4,0x5,0x6][_0x22c4db(0x847)](function(_0x200d1f){return{'_id':_0x200d1f};});_0x3d938b[_0x22c4db(0x46d)](_0x16004c,function(_0x82f4e2){const _0x51e9b5=_0x22c4db;assert[_0x51e9b5(0x127)](_0x82f4e2);const _0x2ed207=[{'_id':0x1,'prevnxt':[0x1,0x2,0x3]},{'_id':0x2,'prevnxt':[0x4,0x5,0x6]}];_0x289d4b['create'](_0x2ed207,function(_0x1769e0){const _0xf8297a=_0x51e9b5;assert['ifError'](_0x1769e0);const _0x1e7cea=_0x289d4b['find']()[_0xf8297a(0x52a)]({'path':_0x23d860[_0xf8297a(0x17d)],'options':{'limit':0x2}})[_0xf8297a(0x241)]();_0x1e7cea['on'](_0x23d860['proQQ'],function(_0x401db3){const _0x1468ca=_0xf8297a;assert[_0x1468ca(0xcbc)](_0x401db3[_0x1468ca(0xc2c)][_0x1468ca(0x2a2)],0x2);}),_0x1e7cea['on'](_0xf8297a(0x8f7),_0x589fbd),_0x1e7cea['on'](_0xf8297a(0x586),function(){_0x589fbd();});});});}),it(_0x24a2f1['GyMSk'],function(_0x3d35bd){const _0x30ef3c=_0x58d521,_0x338486=new Schema({'name':String}),_0x518178=new Schema({'parentId':mongoose[_0x30ef3c(0x101)]['Types'][_0x30ef3c(0x2ef)]});_0x518178['virtual'](_0x67c242[_0x30ef3c(0x217)],{'ref':_0x67c242[_0x30ef3c(0x23d)],'localField':'parentId','foreignField':_0x30ef3c(0x534),'justOne':!![]});const _0x30cbe9=_0x27d0e4[_0x30ef3c(0x807)](_0x67c242['spAyI'],_0x338486),_0x35efea=_0x27d0e4[_0x30ef3c(0x807)](_0x67c242[_0x30ef3c(0x804)],_0x518178);_0x30cbe9[_0x30ef3c(0x46d)]({'name':_0x30ef3c(0x705)})[_0x30ef3c(0xc12)](function(_0x23f6f9){return _0x35efea['create']({'parentId':_0x23f6f9['_id']});})[_0x30ef3c(0xc12)](function(_0x541fec){const _0x26380a=_0x30ef3c;return _0x35efea[_0x26380a(0x770)](_0x541fec[_0x26380a(0x534)]);})['then'](function(_0x4809d8){const _0x143eb8=_0x30ef3c;return _0x4809d8[_0x143eb8(0x52a)](_0x67c242[_0x143eb8(0x217)]);})[_0x30ef3c(0xc12)](function(_0x16133b){const _0x17cab1=_0x30ef3c;_0x16133b=_0x16133b[_0x17cab1(0x331)]({'virtuals':!![]}),assert['equal'](_0x16133b['parent'][_0x17cab1(0x8a8)],_0x17cab1(0x705)),_0x67c242[_0x17cab1(0x421)](_0x3d35bd);})[_0x30ef3c(0x412)](_0x3d35bd);}),it(_0x58d521(0xb0b),function(_0x3332b1){const _0x44e4a6=_0x58d521,_0x2437e6={'bvWFb':function(_0x2c7a4c){return _0x67c242['pnEgx'](_0x2c7a4c);}},_0xd3fdc4=new Schema({'virtualRefKey':{'type':String,'ref':_0x67c242[_0x44e4a6(0x514)]}});_0xd3fdc4[_0x44e4a6(0x405)](_0x44e4a6(0x2f6),{'virtuals':!![]}),_0xd3fdc4['virtual']('populatedVirtualRef',{'ref':_0x67c242['lAzXS'],'localField':_0x67c242[_0x44e4a6(0xb52)],'foreignField':_0x67c242[_0x44e4a6(0xa64)]});const _0x32f465=new Schema({'handle':String}),_0x201754=_0x27d0e4[_0x44e4a6(0x807)](_0x44e4a6(0x438),_0xd3fdc4);_0x27d0e4[_0x44e4a6(0x807)]('Test1',_0x32f465),_0x201754[_0x44e4a6(0x46d)]({'virtualRefKey':_0x67c242[_0x44e4a6(0xa3c)]},function(_0x5e3cdf,_0x569f31){const _0x38e3a6=_0x44e4a6;assert[_0x38e3a6(0x127)](_0x5e3cdf),_0x201754[_0x38e3a6(0x52a)](_0x569f31,_0x38e3a6(0xd62),function(_0x3ec63d,_0x2f83a5){const _0x48a224=_0x38e3a6;assert[_0x48a224(0x127)](_0x3ec63d),assert['ok'](_0x2f83a5[_0x48a224(0xd62)]),assert['ok'](Array[_0x48a224(0x809)](_0x2f83a5[_0x48a224(0xd62)])),_0x2437e6['bvWFb'](_0x3332b1);});});}),_0x24a2f1[_0x58d521(0x433)](it,_0x58d521(0x548),function(_0x2da9e9){const _0x2bc6a5=_0x58d521,_0x3866a={'HyOjV':function(_0x42bb1a){const _0x50654b=_0x2d45;return _0x67c242[_0x50654b(0x437)](_0x42bb1a);},'XycVf':_0x67c242[_0x2bc6a5(0x3be)],'hNCFo':_0x2bc6a5(0xc20),'WUBub':function(_0x581a1c,_0x2e205f){const _0x10431e=_0x2bc6a5;return _0x67c242[_0x10431e(0x838)](_0x581a1c,_0x2e205f);}},_0x4b4494=new mongoose['Schema']({'name':String}),_0x1c6446=_0x27d0e4[_0x2bc6a5(0x807)](_0x2bc6a5(0x438),_0x4b4494),_0x3d697f=new mongoose[(_0x2bc6a5(0x101))]({'name1':String});_0x3d697f[_0x2bc6a5(0x833)](_0x67c242[_0x2bc6a5(0x8fc)],{'ref':_0x67c242[_0x2bc6a5(0x514)],'localField':_0x67c242[_0x2bc6a5(0x480)],'foreignField':_0x67c242['gpDTR'],'justOne':!![]});const _0x115d7a=new mongoose[(_0x2bc6a5(0x101))]({'name':String,'obj':_0x3d697f}),_0x5a4f12=_0x27d0e4[_0x2bc6a5(0x807)](_0x67c242[_0x2bc6a5(0x9d9)],_0x115d7a);_0x5a4f12[_0x2bc6a5(0x46d)]({'name':_0x67c242[_0x2bc6a5(0x514)],'obj':{}})[_0x2bc6a5(0xc12)](function(_0x471688){const _0x45c76e=_0x2bc6a5;if(_0x3866a[_0x45c76e(0xa6d)]===_0x3866a['XycVf'])return _0x1c6446[_0x45c76e(0x46d)]({'_id':_0x471688[_0x45c76e(0x8c7)][_0x45c76e(0x534)],'name':_0x3866a[_0x45c76e(0xbf6)]});else _0x91d2ba['ifError'](_0x1f0dbc),_0x36026e[_0x45c76e(0xcbc)](_0x4fe707[_0x45c76e(0xb8b)]['length'],0x2),_0x5ba50[_0x45c76e(0xcbc)](_0x1fb749[_0x45c76e(0xb8b)][0x1][_0x45c76e(0x3f4)][_0x45c76e(0xf4)](),0xa),_0x28cb7e[_0x45c76e(0xcbc)](_0x209e32[_0x45c76e(0xb8b)][0x0][_0x45c76e(0x3f4)][_0x45c76e(0xf4)](),0x8),_0x3866a[_0x45c76e(0x394)](_0x554939);})[_0x2bc6a5(0xc12)](function(){const _0x7f0ae2=_0x2bc6a5;if('sDkBd'===_0x7f0ae2(0x6cb))return _0x5a4f12[_0x7f0ae2(0x3dd)]()[_0x7f0ae2(0x52a)](_0x7f0ae2(0x866));else _0x865fd5[_0x7f0ae2(0xcbc)](_0x3257f7[_0x7f0ae2(0xc2c)][_0x7f0ae2(0x2a2)],0x2);})[_0x2bc6a5(0xc12)](function(_0x478c5f){const _0x1fe9bc=_0x2bc6a5;if(_0x3866a[_0x1fe9bc(0xae2)](_0x1fe9bc(0x7c9),_0x1fe9bc(0x9f6)))assert[_0x1fe9bc(0xcbc)](_0x478c5f[_0x1fe9bc(0x8c7)][_0x1fe9bc(0x1c6)][_0x1fe9bc(0x8a8)],_0x3866a[_0x1fe9bc(0xbf6)]),_0x3866a['HyOjV'](_0x2da9e9);else{const _0x205bc8={'fSGWx':function(_0x286c7f){return _0x286c7f();}};_0x532be1['find']()['populate']({'path':'b','options':{'limit':0x2}})[_0x1fe9bc(0x37d)](function(_0x30eb83,_0x467986){const _0x3168f9=_0x1fe9bc;_0x2c0736[_0x3168f9(0xcbc)](_0x467986['length'],0x2),_0x284310[_0x3168f9(0xcbc)](_0x467986[0x0]['b'][_0x3168f9(0x2a2)],0x2),_0xca1e09[_0x3168f9(0xcbc)](_0x467986[0x1]['b'][_0x3168f9(0x2a2)],0x2),_0x205bc8['fSGWx'](_0xf6cd34);});}})[_0x2bc6a5(0x412)](_0x2da9e9);}),_0x24a2f1[_0x58d521(0x6a1)](it,_0x24a2f1['wjHov'],function(_0x19a68e){const _0x379466=_0x58d521,_0x57c441={'ULOWi':function(_0x41071d,_0x421b74){const _0x283efc=_0x2d45;return _0x67c242[_0x283efc(0x838)](_0x41071d,_0x421b74);},'wAVLk':_0x379466(0xc09),'PNEIf':_0x67c242[_0x379466(0xd1c)],'EEAZl':function(_0x2db0da){const _0x2f4240=_0x379466;return _0x67c242[_0x2f4240(0x345)](_0x2db0da);}},_0x2aaaee=_0x27d0e4[_0x379466(0x807)](_0x67c242['lAzXS'],new mongoose['Schema']({'bar':{'type':mongoose['Schema'][_0x379466(0xc4a)][_0x379466(0x2ef)],'ref':'Bar'}}));_0x2aaaee['create']({'bar':new mongoose[(_0x379466(0xc4a))][(_0x379466(0x2ef))]()},function(_0x913526){const _0x11868b=_0x379466;assert[_0x11868b(0x127)](_0x913526),_0x2aaaee[_0x11868b(0xc77)]()[_0x11868b(0x52a)](_0x11868b(0x48d))['exec'](function(_0x5a1d20){const _0x28c3ca=_0x11868b;if(_0x57c441[_0x28c3ca(0x8b2)](_0x57c441['wAVLk'],'xLBIx'))return _0x2b7baa;else assert['ok'](_0x5a1d20),assert[_0x28c3ca(0xcbc)](_0x5a1d20[_0x28c3ca(0x8a8)],_0x57c441[_0x28c3ca(0xa24)]),_0x57c441[_0x28c3ca(0x386)](_0x19a68e);});});}),it(_0x24a2f1['ZDjWU'],function(_0x5f487e){const _0x36f069=_0x58d521,_0xd375f9=new mongoose[(_0x36f069(0x101))]({'name':String});_0x27d0e4[_0x36f069(0x807)](_0x3a1872[_0x36f069(0x884)],_0xd375f9);const _0x49cecc=new mongoose[(_0x36f069(0x101))]({'ref':{'type':mongoose[_0x36f069(0x101)][_0x36f069(0xc4a)][_0x36f069(0x2ef)],'ref':_0x36f069(0x438)}}),_0x94afa0=_0x27d0e4[_0x36f069(0x807)](_0x3a1872[_0x36f069(0xafd)],_0x49cecc),_0x23c6c0=_0x94afa0['find']()[_0x36f069(0x631)](_0x3a1872['LHlta'])['populate'](_0x36f069(0x171));assert['equal'](_0x23c6c0[_0x36f069(0xb5b)][_0x36f069(0x52a)][_0x3a1872[_0x36f069(0x966)]]['options'][_0x36f069(0x576)][_0x36f069(0xa44)],_0x3a1872[_0x36f069(0xb84)]),_0x3a1872[_0x36f069(0x9e8)](_0x5f487e);}),it(_0x58d521(0x378),async function(){const _0x402bef=_0x58d521;let _0x3cad2d=new Schema({'name':String}),_0x412b7f=new Schema({'name':String,'departments':[_0x3cad2d]}),_0x422ff0=_0x27d0e4[_0x402bef(0x807)](_0x67c242[_0x402bef(0x67e)],_0x412b7f);const _0x1cde20=new _0x422ff0({'name':_0x402bef(0x12d),'departments':[{'name':_0x402bef(0x441)},{'name':_0x402bef(0x34a)}]});await _0x1cde20[_0x402bef(0x87f)]();const _0x1f42b1=new Schema({'name':String});_0x3cad2d=new Schema({'name':String,'employees':[{'type':mongoose[_0x402bef(0x101)]['Types'][_0x402bef(0x2ef)],'ref':'Company'}]}),_0x412b7f=new Schema({'name':String,'departments':[_0x3cad2d]}),delete _0x27d0e4[_0x402bef(0x3d4)][_0x402bef(0x178)];const _0x496a2c=_0x27d0e4['model'](_0x402bef(0x790),_0x1f42b1);_0x422ff0=_0x27d0e4['model'](_0x67c242[_0x402bef(0x67e)],_0x412b7f);let _0x5e5cb6=await _0x422ff0[_0x402bef(0x3dd)]({'name':_0x67c242[_0x402bef(0x1c0)]});const _0x1ce7c3=await _0x496a2c[_0x402bef(0x46d)]({'name':_0x67c242[_0x402bef(0x507)]}),_0x146f30=_0x5e5cb6['departments']['find'](_0x2a966f=>_0x2a966f[_0x402bef(0x8a8)]===_0x402bef(0x34a));_0x146f30['employees']['addToSet'](_0x1ce7c3),await _0x5e5cb6['save'](),_0x5e5cb6=await _0x422ff0['findOne']({'name':_0x67c242['VGHqZ']})[_0x402bef(0x52a)]('departments.employees'),assert['equal'](_0x5e5cb6[_0x402bef(0x4a0)][0x0][_0x402bef(0x8a8)],'Security'),assert['ok'](Array[_0x402bef(0x809)](_0x5e5cb6[_0x402bef(0x4a0)][0x0][_0x402bef(0x210)])),assert['equal'](_0x5e5cb6[_0x402bef(0x4a0)][0x0]['employees'][_0x402bef(0x2a2)],0x0);}),_0x24a2f1[_0x58d521(0x717)](it,_0x58d521(0x3e6),function(_0x3662ee){const _0x483240=_0x58d521,_0x45708e={'PjBVQ':'ZOyfh'},_0x511d63=new mongoose[(_0x483240(0x101))]({'name':String,'active':Boolean}),_0xb7f538=_0x27d0e4['model'](_0x67c242['KqJfZ'],_0x511d63),_0x5991d2=new mongoose[(_0x483240(0x101))]({'name':String,'bands':[String]});_0x5991d2['virtual'](_0x483240(0xb60),{'ref':_0x483240(0x9d8),'localField':_0x67c242[_0x483240(0x636)],'foreignField':_0x67c242['xVcUL'],'justOne':![]});const _0x45b7da=_0x27d0e4[_0x483240(0x807)](_0x67c242[_0x483240(0x704)],_0x5991d2),_0x214549=new _0xb7f538({'name':_0x483240(0xcc8),'active':![]}),_0x5239cf=new _0x45b7da({'name':_0x483240(0xc67),'bands':[_0x67c242[_0x483240(0x522)]]});_0x5239cf[_0x483240(0x87f)]()[_0x483240(0xc12)](function(){const _0x15e1da=_0x483240;return _0x214549[_0x15e1da(0x87f)]();})[_0x483240(0xc12)](function(){const _0x12537a=_0x483240;if(_0x45708e[_0x12537a(0x31a)]!==_0x45708e[_0x12537a(0x31a)]){const _0x36f805={'rEPVn':function(_0x27494a,_0x552f75){return _0x27494a<_0x552f75;}};_0x532638['ifError'](_0x5a99ae),_0xa2e0c=_0x2506a8['toObject']({'virtuals':!![]});const _0x40b758=function(_0x936a00,_0x557e21){const _0x1b0671=_0x12537a;if(_0x936a00[_0x1b0671(0x8a8)]<_0x557e21[_0x1b0671(0x8a8)])return-0x1;else{if(_0x36f805[_0x1b0671(0x130)](_0x557e21[_0x1b0671(0x8a8)],_0x936a00[_0x1b0671(0x8a8)]))return 0x1;}return 0x0;};_0x5d3c91[_0x12537a(0xa20)][0x0][_0x12537a(0x7a2)][_0x12537a(0x22b)](_0x40b758),_0x3f1971[_0x12537a(0xa20)][0x1][_0x12537a(0x7a2)][_0x12537a(0x22b)](_0x40b758),_0x5f480b[_0x12537a(0xcbc)](_0x45e3f8['activity'][0x0][_0x12537a(0x7a2)][0x0][_0x12537a(0x8a8)],'z1'),_0x12f1d5[_0x12537a(0xcbc)](_0x1cc6d8[_0x12537a(0xa20)][0x1][_0x12537a(0x7a2)][0x0][_0x12537a(0x8a8)],'z1'),_0x354799();}else return _0x45b7da[_0x12537a(0x3dd)]({'name':_0x12537a(0xc67)});})[_0x483240(0xc12)](function(_0x4d23a8){const _0x45cc1b=_0x483240;return _0x4d23a8[_0x45cc1b(0x52a)]({'path':_0x67c242[_0x45cc1b(0x5c2)],'match':{'active':{'$eq':!![]}}});})[_0x483240(0xc12)](function(_0x1f0c17){const _0x26db75=_0x483240;_0x1f0c17=_0x1f0c17[_0x26db75(0x331)]({'virtuals':!![]}),assert[_0x26db75(0x829)](_0x1f0c17[_0x26db75(0xb60)],[]),_0x3662ee();})['catch'](_0x3662ee);}),_0x24a2f1['MegNd'](it,_0x58d521(0xb4d),function(_0x54c372){const _0x404535=_0x58d521,_0x1fa16d={'ZUmWE':_0x404535(0xc67),'BFIdE':_0x67c242[_0x404535(0x5c2)],'cneUC':_0x404535(0x466),'eSvcF':'2011-06-02','uFdZC':_0x404535(0x5dd)};if(_0x404535(0x7e3)!==_0x67c242[_0x404535(0x1c9)]){const _0x341187={'XHaZF':_0x67c242[_0x404535(0x46a)],'nIaIW':function(_0x3b8fac){return _0x3b8fac();},'tbniJ':_0x67c242[_0x404535(0xc29)],'dRWbf':_0x67c242[_0x404535(0x901)],'NGlcU':_0x404535(0x28f)};_0x270cb1[_0x404535(0x127)](_0xa867e4),_0x2976d0[_0x404535(0x46d)]({'kids':[{'user':_0x2b45c3,'post':_0x467fb7,'y':0x5},{'user':_0x45b91f,'post':_0x5057b3,'y':0x8}],'x':0x4},function(_0x31320e,_0x5357d0){const _0x41bd90=_0x404535,_0x1161a6={'UlxBH':_0x41bd90(0xb43),'iHlEu':_0x341187['XHaZF'],'BBKqp':function(_0x4cb745){const _0x564742=_0x41bd90;return _0x341187[_0x564742(0x697)](_0x4cb745);}};_0x115bd8['ifError'](_0x31320e),_0x32698c[_0x41bd90(0x770)](_0x5357d0)[_0x41bd90(0x52a)](_0x41bd90(0x5f9),_0x41bd90(0x8a8))['populate'](_0x341187[_0x41bd90(0x65a)],_0x341187[_0x41bd90(0x2ff)],{'title':_0x341187[_0x41bd90(0xca9)]})['exec'](function(_0x2ff31d,_0x581a33){const _0x21729d=_0x41bd90;_0x3ffa7c[_0x21729d(0x127)](_0x2ff31d),_0x429336[_0x21729d(0x672)](_0x581a33[_0x21729d(0x448)][_0x21729d(0x2a2)],0x2);const _0x4f9979=_0x581a33[_0x21729d(0x448)][0x0],_0x14105b=_0x581a33['kids'][0x1];_0x3bc8f2[_0x21729d(0x672)](!![],!_0x14105b[_0x21729d(0xd6)]),_0x35520c[_0x21729d(0x672)](_0x4f9979[_0x21729d(0x6e5)][_0x21729d(0x8a8)],_0x1161a6[_0x21729d(0x279)]),_0x592d9d[_0x21729d(0x672)](_0x4f9979[_0x21729d(0x6e5)]['email'],_0x1b2e52),_0x53c0fc[_0x21729d(0x672)](_0x4f9979[_0x21729d(0xd6)][_0x21729d(0x132)],_0x21729d(0x28f)),_0x25ac9a[_0x21729d(0x672)](_0x14105b[_0x21729d(0x6e5)][_0x21729d(0x8a8)],_0x1161a6[_0x21729d(0x7c6)]),_0x1161a6[_0x21729d(0x980)](_0x34d6a5);});});}else{const _0xad5faa=new mongoose['Schema']({'name':String,'active':Boolean}),_0x59b87f=_0x27d0e4[_0x404535(0x807)](_0x67c242[_0x404535(0x4f1)],_0xad5faa),_0x53dd98=new mongoose[(_0x404535(0x101))]({'name':String,'bands':[String]});_0x53dd98[_0x404535(0x833)](_0x404535(0xb60),{'ref':_0x67c242[_0x404535(0x4f1)],'localField':'bands','foreignField':'name','justOne':!![]});const _0x26e09b=_0x27d0e4[_0x404535(0x807)](_0x67c242[_0x404535(0x704)],_0x53dd98),_0x2f20e3=new _0x59b87f({'name':_0x404535(0xcc8),'active':![]}),_0x4cb98e=new _0x26e09b({'name':_0x67c242[_0x404535(0x71b)],'bands':['The\x20Beatles']});_0x4cb98e[_0x404535(0x87f)]()[_0x404535(0xc12)](function(){const _0x5e6a44=_0x404535;return _0x2f20e3[_0x5e6a44(0x87f)]();})['then'](function(){const _0x472f45=_0x404535;return _0x26e09b[_0x472f45(0x3dd)]({'name':_0x1fa16d[_0x472f45(0x732)]});})['then'](function(_0x50f57d){const _0xb24e27=_0x404535;return _0x50f57d['populate']({'path':_0x1fa16d[_0xb24e27(0xbe2)],'match':{'active':{'$eq':!![]}}});})[_0x404535(0xc12)](function(_0x150309){const _0x50ad6f=_0x404535;if('NQFUo'===_0x67c242[_0x50ad6f(0x69f)])_0x150309=_0x150309['toObject']({'virtuals':!![]}),assert['strictEqual'](_0x150309[_0x50ad6f(0xb60)],null),_0x54c372();else return _0x42cfa7['create']([{'date':_0x1fa16d[_0x50ad6f(0x3ca)],'user':_0x553d93[_0x50ad6f(0x534)]},{'date':_0x1fa16d[_0x50ad6f(0x9ee)],'user':_0x6497d0['_id']},{'date':_0x1fa16d[_0x50ad6f(0x929)],'user':_0x3f7423['_id']}]);})[_0x404535(0x412)](_0x54c372);}}),_0x24a2f1[_0x58d521(0x533)](it,_0x24a2f1[_0x58d521(0xd0d)],function(_0x323a13){const _0x456594=_0x58d521,_0x2d1e90={'bTQdv':function(_0x47fe34){return _0x47fe34();},'BERtW':'zlAuA','KPhie':_0x3a1872[_0x456594(0x457)]},_0x32ec5b=new mongoose[(_0x456594(0x101))]({'name':String,'parentId':mongoose['Schema'][_0x456594(0xc4a)]['ObjectId']}),_0x18b4f9=_0x27d0e4['model'](_0x456594(0x5ee),_0x32ec5b),_0x2d64e8=new mongoose[(_0x456594(0x101))]({'name':String});_0x2d64e8[_0x456594(0x833)](_0x3a1872[_0x456594(0xaf6)],{'ref':'Child','localField':_0x3a1872[_0x456594(0x85c)],'foreignField':_0x3a1872[_0x456594(0x707)],'justOne':!![]});const _0x3e5442=_0x27d0e4['model'](_0x3a1872['gllWM'],_0x2d64e8);_0x3e5442['create']({'name':_0x456594(0x438)})[_0x456594(0xc12)](function(_0x50cb97){const _0x5a6b7a=_0x456594;return _0x18b4f9[_0x5a6b7a(0x46d)]({'name':_0x67c242[_0x5a6b7a(0xa3c)],'parentId':_0x50cb97[_0x5a6b7a(0x534)]});})['then'](function(){const _0x4b34e6=_0x456594;return _0x3e5442[_0x4b34e6(0xc77)]()[_0x4b34e6(0x52a)]({'path':_0x67c242[_0x4b34e6(0x8fc)],'select':_0x4b34e6(0x8a8)});})['then'](function(_0x387018){const _0x1afe0f=_0x456594,_0x580ef5={'poSOz':'testing','tlmni':function(_0x14a2dc){const _0x4f4d7e=_0x2d45;return _0x2d1e90[_0x4f4d7e(0x8ed)](_0x14a2dc);}};if(_0x2d1e90['BERtW']===_0x2d1e90[_0x1afe0f(0xcf8)])_0x842234[_0x1afe0f(0xcbc)](_0x9e1046[_0x1afe0f(0xa17)][_0x1afe0f(0x2a2)],0x2),_0x286cec[_0x1afe0f(0xcbc)](_0x287e20['fields'][0x0][_0x1afe0f(0x77f)]['name'],_0x580ef5[_0x1afe0f(0xca2)]),_0x3ec4fb[_0x1afe0f(0xcbc)](_0xdccf21[_0x1afe0f(0xa17)][0x1][_0x1afe0f(0x77f)],'test'),_0x580ef5['tlmni'](_0x24a5d6);else{const _0x473e9d=_0x387018[0x0];assert[_0x1afe0f(0xcbc)](_0x473e9d[_0x1afe0f(0x1c6)][_0x1afe0f(0x8a8)],_0x1afe0f(0xc20)),assert['ok'](_0x473e9d[_0x1afe0f(0x1c6)][_0x1afe0f(0x669)]),_0x323a13();}})['catch'](_0x323a13);}),it(_0x58d521(0x823),function(){const _0x2de34d=_0x58d521,_0x3ace82={'qbhvq':_0x3a1872[_0x2de34d(0xacc)],'JutTh':'val','UMToB':_0x2de34d(0x5ad)};if(_0x3a1872[_0x2de34d(0xa8c)]==='UQOhT'){const _0x13707c=new mongoose['Schema']({}),_0x1c6b88=_0x27d0e4[_0x2de34d(0x807)](_0x3a1872[_0x2de34d(0x8ac)],_0x13707c),_0x59f434=new mongoose[(_0x2de34d(0x101))]({'users':[{'type':mongoose[_0x2de34d(0x101)][_0x2de34d(0xc4a)][_0x2de34d(0x2ef)],'ref':_0x2de34d(0x11f)}]}),_0x2314a2=_0x27d0e4[_0x2de34d(0x807)](_0x2de34d(0x438),_0x59f434);return _0x1c6b88[_0x2de34d(0x46d)]({})[_0x2de34d(0xc12)](function(_0x3ee947){const _0x1fb858=_0x2de34d;return _0x2314a2[_0x1fb858(0x46d)]({'users':[_0x3ee947[_0x1fb858(0x534)]]});})[_0x2de34d(0xc12)](function(_0x1829dc){const _0x5c8f08=_0x2de34d,_0x2827bf=_0x1829dc['populate'](_0x5c8f08(0x287));return assert['ok'](!_0x1829dc[_0x5c8f08(0x118)](_0x3ace82[_0x5c8f08(0xbc2)])),_0x2827bf;})[_0x2de34d(0xc12)](function(_0x1b65bf){const _0xfec866=_0x2de34d;assert['ok'](_0x1b65bf['populated'](_0x67c242['exRFt'])),assert['ok'](_0x1b65bf[_0xfec866(0x287)][0x0]['_id']),assert[_0xfec866(0xcbc)](_0x1b65bf[_0xfec866(0x287)]['length'],0x1),assert['equal'](_0x1b65bf[_0xfec866(0x118)](_0xfec866(0x287))[_0xfec866(0x2a2)],0x1);});}else{const _0x1f3fe2={'Vonjd':function(_0x43d0d2){return _0x43d0d2();}};_0x5c3c6c[_0x2de34d(0x127)](_0x309dbf),_0x504e44[_0x2de34d(0xcbc)](_0x5c39cf['length'],0x1),_0x4353cb[_0x2de34d(0xcbc)](_0x428b0a[0x0]['_creator'][_0x2de34d(0x8a8)],'aaron'),_0x68f116[0x0]['_creator']=_0x48704f,_0x1204ff['equal'](_0x480f27[0x0][_0x2de34d(0x5ad)][_0x2de34d(0x8a8)],_0x2de34d(0x890)),_0x46cdbd[0x0]['save'](function(_0x32ecd9,_0x4c644b){const _0x5578f1=_0x2de34d;_0x1b0a2c[_0x5578f1(0x127)](_0x32ecd9),_0x4b5dcb[_0x5578f1(0xcbc)](_0x4c644b[_0x5578f1(0x5ad)][_0x5578f1(0x8a8)],_0x3ace82[_0x5578f1(0x8e2)]),_0x654091[0x0]['populate'](_0x3ace82[_0x5578f1(0xc56)],function(_0x1b29c0,_0x3ffeed){const _0x28a165=_0x5578f1;_0x386a4a[_0x28a165(0x127)](_0x1b29c0),_0x47b861[_0x28a165(0xcbc)](_0x3ffeed[_0x28a165(0x5ad)]['name'],'val'),_0x1f3fe2[_0x28a165(0xaea)](_0x9a63e4);});});}}),_0x24a2f1[_0x58d521(0xf1)](it,'virtual\x20populate\x20toJSON\x20output\x20(gh-5542)',function(_0x349bbc){const _0x45e634=_0x58d521,_0x700eb={'mRPbi':_0x45e634(0xbfc),'skZZP':function(_0x2406ba,_0xc27762){const _0x2e1e1b=_0x45e634;return _0x3a1872[_0x2e1e1b(0xcbb)](_0x2406ba,_0xc27762);},'vkAkE':_0x45e634(0xba5),'ezrnj':function(_0x3a6ce4,_0xe7b6dc){const _0x5a19a1=_0x45e634;return _0x3a1872[_0x5a19a1(0xb41)](_0x3a6ce4,_0xe7b6dc);},'ojSgA':_0x45e634(0xbb9),'rDjwP':_0x3a1872[_0x45e634(0x85c)],'XDtNx':_0x3a1872[_0x45e634(0xa46)]};if(_0x3a1872[_0x45e634(0x339)](_0x45e634(0x6af),_0x3a1872[_0x45e634(0xb16)])){const _0x2da3fc=_0x45e634(0x937)['split']('|');let _0x463a10=0x0;while(!![]){switch(_0x2da3fc[_0x463a10++]){case'0':_0x28ac18[_0x45e634(0xcbc)](_0x483419[_0x45e634(0x5ad)][_0x45e634(0x8a8)],_0x700eb[_0x45e634(0xb5d)]);continue;case'1':_0xd084e8[_0x45e634(0xcbc)](_0x41e320[_0x45e634(0x5ad)][_0x45e634(0x978)],_0x45e634(0x66f));continue;case'2':_0x1f4eed['ok'](_0x700eb[_0x45e634(0x7f3)](_0x484f55['_creator'],_0x1ea0f7));continue;case'3':_0x4e83ee[_0x45e634(0x127)](_0x392b34);continue;case'4':_0x4950d8[_0x45e634(0x46d)]({'name':_0x45e634(0xafb),'email':_0x700eb[_0x45e634(0x36b)]},function(_0x2bd32d,_0x8686f3){const _0x46d244=_0x45e634;_0x3788d2[_0x46d244(0x127)](_0x2bd32d),_0x2ad5d5[_0x46d244(0x5ad)]=_0x8686f3[_0x46d244(0x534)],_0x1c2b8d[_0x46d244(0xcbc)](_0x8686f3[_0x46d244(0x534)],_0x1b69c1(_0xbeb37[_0x46d244(0x5ad)])),_0x41c766['save'](function(_0x457855){const _0xd21c64=_0x46d244;_0x133148[_0xd21c64(0x127)](_0x457855),_0x1f7499['findById'](_0xd955f2[_0xd21c64(0x534)])['populate'](_0xd21c64(0x5ad))['exec'](function(_0x2d06fd,_0x356ccb){const _0x1b573e=_0xd21c64;_0x5827d9['ifError'](_0x2d06fd),_0x12d04f[_0x1b573e(0xcbc)](_0x356ccb[_0x1b573e(0x5ad)][_0x1b573e(0x8a8)],'Aaron'),_0xf08860[_0x1b573e(0xcbc)](_0x356ccb['_creator'][_0x1b573e(0x978)],_0x1b573e(0xba5)),_0x429abd();});});});continue;}break;}}else{const _0x8520e=new mongoose[(_0x45e634(0x101))]({'name':String},{'toObject':{'virtuals':!![]},'toJSON':{'virtuals':!![]}}),_0x588794=new mongoose['Schema']({'title':String,'author':{'type':ObjectId,'ref':_0x45e634(0x790)}});_0x8520e[_0x45e634(0x833)](_0x45e634(0x881),{'ref':_0x3a1872[_0x45e634(0xb7f)],'localField':_0x45e634(0x534),'foreignField':_0x45e634(0xc78),'justOne':!![]});const _0x35a37f=_0x27d0e4[_0x45e634(0x807)](_0x3a1872['VjEbc'],_0x8520e),_0x3a6449=_0x27d0e4['model'](_0x3a1872[_0x45e634(0xb7f)],_0x588794),_0x18d33e=new _0x35a37f({'name':_0x3a1872[_0x45e634(0x97d)]});_0x18d33e[_0x45e634(0x87f)]()[_0x45e634(0xc12)](function(_0x421831){const _0x3b836f=_0x45e634;if(_0x700eb[_0x3b836f(0xcc3)](_0x700eb[_0x3b836f(0x5f2)],_0x3b836f(0x6f9)))_0x1b57eb[_0x3b836f(0x127)](_0x137406),_0x18d38f(_0x5c341d[_0x3b836f(0x534)]);else{const _0x4f31f3=new _0x3a6449({'name':_0x3b836f(0xd61),'author':_0x421831[_0x3b836f(0x534)]});return _0x4f31f3[_0x3b836f(0x87f)]();}})['then'](function(){const _0x33ca2d=_0x45e634;return _0x35a37f[_0x33ca2d(0x3dd)]({})[_0x33ca2d(0x52a)]({'path':_0x33ca2d(0x881),'select':_0x67c242['eDzjK']})['exec']();})['then'](function(_0x18f0af){const _0x9911b1=_0x45e634,_0x347e51=_0x18f0af[_0x9911b1(0x2f6)]();assert[_0x9911b1(0x829)](Object[_0x9911b1(0x800)](_0x347e51['books']),[_0x700eb['rDjwP'],_0x700eb[_0x9911b1(0x19f)]]),_0x349bbc();})[_0x45e634(0x412)](_0x349bbc);}}),_0x24a2f1['OfejY'](it,'works\x20if\x20foreignField\x20parent\x20is\x20selected\x20(gh-5037)',function(_0x433360){const _0x1e8e62=_0x58d521,_0x5bc9ea={'YiqFT':'detail','QzdgZ':_0x3a1872['TNKRS'],'BVUhm':function(_0x1dd4b7){return _0x1dd4b7();}},_0x17a428=new mongoose[(_0x1e8e62(0x101))]({'name':String,'parent':{'id':mongoose[_0x1e8e62(0x101)][_0x1e8e62(0xc4a)][_0x1e8e62(0x2ef)],'name':String}}),_0x2afc7c=_0x27d0e4[_0x1e8e62(0x807)](_0x1e8e62(0x5ee),_0x17a428),_0x290f1c=new mongoose[(_0x1e8e62(0x101))]({'name':String});_0x290f1c[_0x1e8e62(0x833)]('detail',{'ref':'Child','localField':_0x3a1872['glMrU'],'foreignField':_0x1e8e62(0x783),'justOne':!![]});const _0x506bf3=_0x27d0e4[_0x1e8e62(0x807)](_0x3a1872[_0x1e8e62(0x6b9)],_0x290f1c);_0x506bf3[_0x1e8e62(0x46d)]({'name':'Test'})['then'](function(_0x24a36d){const _0x4b31f4=_0x1e8e62;return _0x2afc7c['create']({'name':_0x4b31f4(0xc20),'parent':{'id':_0x24a36d['_id'],'name':_0x67c242['WucGv']}});})['then'](function(){const _0x75349c=_0x1e8e62;return _0x506bf3['find']()[_0x75349c(0x52a)]({'path':_0x5bc9ea[_0x75349c(0x898)],'select':_0x5bc9ea[_0x75349c(0xbf9)]});})['then'](function(_0x3672aa){const _0x2b74c3=_0x1e8e62;if(_0x67c242['Inyuj'](_0x67c242[_0x2b74c3(0x65e)],_0x2b74c3(0x741))){const _0xe5f2d7=_0x3672aa[0x0];assert[_0x2b74c3(0xcbc)](_0xe5f2d7[_0x2b74c3(0x1c6)][_0x2b74c3(0x8a8)],_0x67c242[_0x2b74c3(0xa3c)]),assert['ok'](_0xe5f2d7[_0x2b74c3(0x1c6)][_0x2b74c3(0xd0a)]['id']),assert['equal'](_0xe5f2d7['detail'][_0x2b74c3(0xd0a)][_0x2b74c3(0x8a8)],_0x2b74c3(0x112)),_0x433360();}else _0x544283[_0x2b74c3(0x127)](_0x3e7e47),_0x203177[_0x2b74c3(0xcbc)](_0x10ed35[_0x2b74c3(0xd4b)][_0x2b74c3(0x2a2)],0x1),_0x5bc9ea[_0x2b74c3(0x335)](_0x8f1ce5);})['catch'](_0x433360);}),_0x24a2f1[_0x58d521(0x1b8)](it,_0x24a2f1[_0x58d521(0x43e)],function(){const _0x13fb4d=_0x58d521,_0x36d0f2={'OZZuC':_0x13fb4d(0x3e2),'oNBvl':function(_0x481537,_0x376b2b){const _0x346a3a=_0x13fb4d;return _0x3a1872[_0x346a3a(0xf0)](_0x481537,_0x376b2b);},'wDAoK':_0x3a1872['tZLdl'],'COpXI':_0x13fb4d(0xc20),'Bqvix':_0x3a1872[_0x13fb4d(0xb69)],'hKCBO':_0x13fb4d(0x890),'hxrSk':_0x13fb4d(0x1af)},_0x685e4d={'discriminatorKey':_0x3a1872['lafle']},_0x3b3ef6=new Schema({'title':{'type':String}},_0x685e4d),_0x54daa9=new Schema({'postedBy':{'type':Schema[_0x13fb4d(0xc4a)][_0x13fb4d(0x2ef)],'ref':_0x3a1872['UlcPX'],'required':!![]}},_0x685e4d),_0xb9bfee=new Schema({'test':String},_0x685e4d),_0x17166e=new Schema({'seq':Number,'activity':{'type':Schema[_0x13fb4d(0xc4a)]['ObjectId'],'refPath':'kind','required':!![]},'kind':String},_0x685e4d),_0x35db5c=_0x27d0e4[_0x13fb4d(0x807)](_0x13fb4d(0x11f),{'name':String}),_0x2d5665=_0x27d0e4['model'](_0x3a1872['lMVGb'],_0x3b3ef6),_0x294c58=_0x2d5665[_0x13fb4d(0x65b)](_0x13fb4d(0x832),_0x54daa9),_0x2938fd=_0x2d5665[_0x13fb4d(0x65b)](_0x13fb4d(0x1af),_0xb9bfee),_0x561d99=_0x27d0e4['model'](_0x3a1872[_0x13fb4d(0xc06)],_0x17166e);let _0x2e1eb5,_0x2e2d0b;return _0x35db5c[_0x13fb4d(0x46d)]({'name':_0x13fb4d(0x890)})[_0x13fb4d(0xc12)](function(_0x5051a8){const _0x294262=_0x13fb4d;return _0x294c58[_0x294262(0x46d)]({'title':_0x294262(0xc20),'postedBy':_0x5051a8['_id']});})['then'](function(_0x2ca067){const _0x211e3e=_0x13fb4d;if(_0x36d0f2[_0x211e3e(0x6cd)](_0x211e3e(0x656),_0x36d0f2[_0x211e3e(0x12c)])){const _0x3bfd68={'ONkRK':_0x211e3e(0x946)};_0x38269b['ifError'](_0x448f10),_0x314201[_0x211e3e(0x3dd)]({'_id':0x0})[_0x211e3e(0x52a)]({'path':_0x36d0f2['OZZuC'],'model':_0x24e8cb})[_0x211e3e(0x37d)](function(_0x42deff,_0x215aa9){const _0x3bcc2f=_0x211e3e;_0x12d591['ifError'](_0x42deff),_0x5ccaa1[_0x3bcc2f(0xcbc)](_0x215aa9['authors'][_0x3bcc2f(0x2a2)],0x1),_0x8c9785[_0x3bcc2f(0xcbc)](_0x215aa9[_0x3bcc2f(0x3e2)][0x0]['name'],_0x3bfd68[_0x3bcc2f(0x8f0)]),_0x170289();});}else return _0x2e1eb5=_0x2ca067,_0x2938fd[_0x211e3e(0x46d)]({'title':_0x36d0f2[_0x211e3e(0x5df)]});})['then'](function(_0xee088){const _0x2ee160=_0x13fb4d;return _0x2e2d0b=_0xee088,_0x561d99['create']([{'seq':0x1,'activity':_0x2e2d0b[_0x2ee160(0x534)],'kind':_0x2ee160(0x1af)},{'seq':0x2,'activity':_0x2e1eb5['_id'],'kind':_0x36d0f2[_0x2ee160(0xc41)]}]);})[_0x13fb4d(0xc12)](function(){const _0x943cf6=_0x13fb4d;return _0x561d99['find']({})[_0x943cf6(0x52a)]({'path':'activity','populate':_0x943cf6(0x3bf)})[_0x943cf6(0x22b)]({'seq':-0x1});})[_0x13fb4d(0xc12)](function(_0x22cbba){const _0x25715a=_0x13fb4d,_0x1b1f90=_0x25715a(0xada)[_0x25715a(0x3a7)]('|');let _0x5304bd=0x0;while(!![]){switch(_0x1b1f90[_0x5304bd++]){case'0':assert[_0x25715a(0xcbc)](_0x22cbba[0x0][_0x25715a(0xa20)][_0x25715a(0x722)],_0x25715a(0x832));continue;case'1':assert['equal'](_0x22cbba[0x0][_0x25715a(0xa20)][_0x25715a(0x3bf)][_0x25715a(0x8a8)],_0x36d0f2[_0x25715a(0xd45)]);continue;case'2':assert['equal'](_0x22cbba[0x1]['activity'][_0x25715a(0x722)],_0x36d0f2[_0x25715a(0x756)]);continue;case'3':assert[_0x25715a(0xcbc)](_0x22cbba[0x1][_0x25715a(0xa20)][_0x25715a(0x3bf)],null);continue;case'4':assert[_0x25715a(0xcbc)](_0x22cbba[_0x25715a(0x2a2)],0x2);continue;}break;}});}),it(_0x24a2f1['jAdvo'],function(){const _0x2263dd=_0x58d521,_0x170f16={'gXoyn':_0x3a1872[_0x2263dd(0x85c)],'Ahbij':_0x2263dd(0xaf4),'XfNxJ':_0x3a1872[_0x2263dd(0x27e)]},_0x395214=_0x27d0e4[_0x2263dd(0x807)](_0x3a1872['VjEbc'],new mongoose['Schema']({'firstName':{'type':String,'required':!![]},'lastName':{'type':String,'required':!![]}})),_0x5ea2f2=new mongoose[(_0x2263dd(0x101))]({'title':{'type':String,'required':!![]}},{'discriminatorKey':_0x3a1872[_0x2263dd(0x9df)]}),_0x28196b=new mongoose[(_0x2263dd(0x101))]({'author':{'type':mongoose[_0x2263dd(0x101)]['ObjectId'],'ref':'Person'}}),_0x5d51ba=new mongoose[(_0x2263dd(0x101))]({'author':{'type':mongoose[_0x2263dd(0x101)][_0x2263dd(0x2ef)],'ref':_0x3a1872['VjEbc']},'url':{'type':String}}),_0x25dda8=new mongoose[(_0x2263dd(0x101))]({'name':{'type':String,'required':!![]},'items':[{'type':_0x5ea2f2,'required':![]}]});_0x25dda8[_0x2263dd(0x2c8)](_0x3a1872[_0x2263dd(0xab5)])[_0x2263dd(0x65b)](_0x3a1872[_0x2263dd(0xb7f)],_0x28196b),_0x25dda8[_0x2263dd(0x2c8)](_0x3a1872['YhuRG'])['discriminator'](_0x3a1872['FMylr'],_0x5d51ba);const _0x167ca5=_0x27d0e4['model'](_0x3a1872[_0x2263dd(0x884)],_0x25dda8);return _0x395214['create']({'firstName':_0x3a1872['rGjjO'],'lastName':_0x2263dd(0xcec)})[_0x2263dd(0xc12)](function(_0x41e59d){const _0x3832cc=_0x2263dd;return _0x167ca5['create']({'name':_0x67c242[_0x3832cc(0xa73)],'items':[{'type':'Book','title':_0x67c242[_0x3832cc(0x701)],'author':_0x41e59d},{'type':_0x67c242[_0x3832cc(0x532)],'title':_0x3832cc(0x663),'url':_0x3832cc(0x474),'author':_0x41e59d}]});})['then'](function(_0x2bbe4d){const _0x1d79bb=_0x2263dd;if(_0x67c242[_0x1d79bb(0x95b)]('PAUio','CmOAR'))return _0x167ca5[_0x1d79bb(0x770)](_0x2bbe4d[_0x1d79bb(0x534)])[_0x1d79bb(0x52a)]('items.author')[_0x1d79bb(0x2ac)]();else _0x2e5be3['ok'](!(_0x170f16[_0x1d79bb(0xabc)]in _0xdb7cc7)),_0x164b9b['ok'](_0x325e2c[_0x1d79bb(0x467)][_0x1d79bb(0x2a2)]),_0x1bde00['equal'](typeof _0x1d5874[_0x1d79bb(0x725)],_0x170f16[_0x1d79bb(0x9ea)]);})['then'](function(_0x3de4eb){const _0x52964a=_0x2263dd;assert[_0x52964a(0xcbc)](_0x3de4eb[_0x52964a(0x5ec)][0x0]['author'][_0x52964a(0x742)],_0x52964a(0x59f)),assert[_0x52964a(0xcbc)](_0x3de4eb[_0x52964a(0x5ec)][0x1][_0x52964a(0xc78)]['firstName'],_0x170f16[_0x52964a(0xa39)]);});}),it('specify\x20model\x20in\x20populate\x20(gh-4264)',function(_0xb0b068){const _0x37ebc0=_0x58d521,_0x422bbb={'tgMOm':_0x37ebc0(0xc20),'JMIkE':_0x67c242[_0x37ebc0(0x480)],'eQpJy':_0x67c242[_0x37ebc0(0xa6e)],'Cnxjq':_0x67c242[_0x37ebc0(0x24e)],'EWdEG':_0x37ebc0(0x63e),'gyAxp':_0x37ebc0(0xd17),'rPgNg':_0x37ebc0(0x3e2),'zObrv':_0x67c242[_0x37ebc0(0x695)]},_0x1a9806=new Schema({'name':String,'authored':[Number]}),_0x27f8f9=new Schema({'_id':Number,'title':String});_0x27f8f9[_0x37ebc0(0x833)](_0x67c242[_0x37ebc0(0xa11)],{'ref':!![],'localField':_0x37ebc0(0x534),'foreignField':_0x67c242[_0x37ebc0(0xa2f)]});const _0x1d01e7=_0x27d0e4['model'](_0x67c242['whVFv'],_0x1a9806),_0x23de34=_0x27d0e4[_0x37ebc0(0x807)](_0x67c242[_0x37ebc0(0x34d)],_0x27f8f9),_0x5508f6=[{'_id':0x0,'title':_0x37ebc0(0xbb6)}],_0x4a4889=[{'name':_0x37ebc0(0x946),'authored':[0x0]}];_0x1d01e7[_0x37ebc0(0x46d)](_0x4a4889,function(_0x460130){const _0x2ea81c=_0x37ebc0;if(_0x422bbb[_0x2ea81c(0x53c)]==='ShsAU')return _0x31a0c3['create']({'name':_0x422bbb['tgMOm'],'value':_0x3183b8[_0x2ea81c(0x534)]});else assert[_0x2ea81c(0x127)](_0x460130),_0x23de34['create'](_0x5508f6,function(_0x298246){const _0x2bf7da=_0x2ea81c,_0x59db51={'MVoHM':_0x422bbb[_0x2bf7da(0x3eb)],'UXLtZ':_0x2bf7da(0x84e),'rRSyF':_0x422bbb[_0x2bf7da(0x7f4)],'zwZCE':_0x422bbb['Cnxjq'],'oukhX':'Person','QKfvv':_0x422bbb[_0x2bf7da(0xcd1)],'VPtmB':'Bacon\x20is\x20Great','bCzhM':_0x422bbb['gyAxp'],'uYSuc':_0x2bf7da(0x946)};assert[_0x2bf7da(0x127)](_0x298246),_0x23de34['findOne']({'_id':0x0})[_0x2bf7da(0x52a)]({'path':_0x422bbb[_0x2bf7da(0x24b)],'model':_0x1d01e7})[_0x2bf7da(0x37d)](function(_0x50cd9b,_0x5f05e2){const _0xb5cabe=_0x2bf7da;if(_0x59db51[_0xb5cabe(0x671)]!==_0x59db51['bCzhM']){const _0x521dc9=new _0x506813({'name':_0x16d17e,'authored':[_0x2c8544],'favorites':[_0x4a424d]}),_0xd444c3=new _0x196b59({'_id':_0x352529,'title':_0x4ffe37});_0xd444c3['virtual'](_0xb5cabe(0x3e2),{'ref':_0xb5cabe(0x790),'localField':_0x59db51[_0xb5cabe(0x924)],'foreignField':_0x59db51[_0xb5cabe(0xa4e)]}),_0xd444c3['virtual'](_0x59db51['rRSyF'],{'ref':_0xb5cabe(0x790),'localField':_0xb5cabe(0x534),'foreignField':_0x59db51['zwZCE']});const _0x2e3602=_0x1b52df['model'](_0x59db51[_0xb5cabe(0x9d4)],_0x521dc9),_0x486740=_0x590be8[_0xb5cabe(0x807)](_0x59db51[_0xb5cabe(0x9a0)],_0xd444c3),_0x3cb462=[{'_id':0x0,'title':_0x59db51['VPtmB']}],_0x26ace4=[{'name':_0xb5cabe(0x946),'authored':[0x0],'favorites':[0x0]}];_0x2e3602[_0xb5cabe(0x46d)](_0x26ace4,function(_0x5beb59){const _0x5521cc=_0xb5cabe,_0xcf0180={'wGLvr':function(_0x46702d){return _0x46702d();},'lhihN':_0x5521cc(0xaa9)};_0xf597d9[_0x5521cc(0x127)](_0x5beb59),_0x486740['create'](_0x3cb462,function(_0x1aba43){const _0x71e6d2=_0x5521cc;_0x594fb7['ifError'](_0x1aba43),_0x486740[_0x71e6d2(0x3dd)]({'_id':0x0})[_0x71e6d2(0x52a)](_0xcf0180['lhihN'])[_0x71e6d2(0x37d)](function(_0x3b43bd,_0x23fbae){const _0x3c4b5b=_0x71e6d2;_0x4d049a[_0x3c4b5b(0x127)](_0x3b43bd),_0x3d22a7[_0x3c4b5b(0xcbc)](_0x23fbae['authors']['length'],0x1),_0x184c5d[_0x3c4b5b(0xcbc)](_0x23fbae[_0x3c4b5b(0x3e2)][0x0][_0x3c4b5b(0x8a8)],_0x3c4b5b(0x946)),_0x1220a5[_0x3c4b5b(0xcbc)](_0x23fbae[_0x3c4b5b(0x75e)][_0x3c4b5b(0x2a2)],0x1),_0x5c3963[_0x3c4b5b(0xcbc)](_0x23fbae[_0x3c4b5b(0x75e)][0x0][_0x3c4b5b(0x8a8)],_0x3c4b5b(0x946)),_0xcf0180[_0x3c4b5b(0xd20)](_0x289fc6);});});});}else assert[_0xb5cabe(0x127)](_0x50cd9b),assert[_0xb5cabe(0xcbc)](_0x5f05e2[_0xb5cabe(0x3e2)]['length'],0x1),assert[_0xb5cabe(0xcbc)](_0x5f05e2[_0xb5cabe(0x3e2)][0x0][_0xb5cabe(0x8a8)],_0x59db51[_0xb5cabe(0x84b)]),_0xb0b068();});});});});else return _0x3ed61a['push']({'doc':_0x40422a,'id':_0x3b1f6a}),_0x5f06b5;}),it(_0x24a2f1[_0x150122(0x8b6)],async function(){const _0x54a52a=_0x150122,_0x575899=new Schema({'employeeId':Number,'name':String}),_0x3a193b=_0x27d0e4[_0x54a52a(0x807)](_0x24a2f1['pGlZv'],_0x575899),_0x5aa897=new Schema({'message':String},{'discriminatorKey':'kind'}),_0x5a6fb8=new Schema({'events':[_0x5aa897]}),_0x3e3145=_0x5a6fb8[_0x54a52a(0x2c8)](_0x24a2f1[_0x54a52a(0x7e4)]),_0x4b3ae8=new Schema({'element':{'type':String},'users':[Number]},{'toJSON':{'virtuals':!![]},'toObject':{'virtuals':!![]}});_0x4b3ae8[_0x54a52a(0x833)](_0x24a2f1[_0x54a52a(0x1a9)],{'ref':'User','localField':'users','foreignField':_0x54a52a(0xb79)}),_0x3e3145[_0x54a52a(0x65b)]('gh6273_Clicked',_0x4b3ae8),_0x3e3145[_0x54a52a(0x65b)](_0x54a52a(0x36d),new Schema({'product':{'type':String}}));const _0x164b62=_0x27d0e4['model'](_0x24a2f1['TJhCc'],_0x5a6fb8),_0x4bda40={'employeeId':0x1,'name':_0x24a2f1['yNszJ']},_0x56b7a6={'events':[{'kind':_0x24a2f1[_0x54a52a(0xb49)],'element':_0x24a2f1[_0x54a52a(0xed)],'message':_0x24a2f1[_0x54a52a(0xb9e)],'users':[0x1]},{'kind':_0x54a52a(0x36d),'product':_0x54a52a(0x6a3),'message':'world'}]};await _0x3a193b[_0x54a52a(0x46d)](_0x4bda40),await _0x164b62['create'](_0x56b7a6);const _0x3415cc=await _0x164b62['findOne']()[_0x54a52a(0x52a)](_0x24a2f1['DhSux']);assert[_0x54a52a(0xcbc)](_0x3415cc['events'][0x0][_0x54a52a(0x2db)][_0x54a52a(0x2a2)],0x1),assert[_0x54a52a(0xcbc)](_0x3415cc[_0x54a52a(0x476)][0x0][_0x54a52a(0x2db)][0x0][_0x54a52a(0x8a8)],_0x24a2f1[_0x54a52a(0x60c)]),assert[_0x54a52a(0x829)](_0x3415cc['toObject']()[_0x54a52a(0x476)][0x0][_0x54a52a(0x287)],[0x1]),assert['ok'](!_0x3415cc[_0x54a52a(0x476)][0x1][_0x54a52a(0x2db)]);}),describe(_0x150122(0x521),function(){const _0x59c713=_0x150122,_0x30b028={'ggnVV':_0x3a1872[_0x59c713(0x8ac)],'nQtBB':_0x59c713(0x438),'HPRDF':_0x3a1872[_0x59c713(0x70a)],'kqcVh':_0x3a1872['thelq'],'hztqB':_0x59c713(0x909),'ShcHQ':_0x3a1872[_0x59c713(0xb2f)],'XzWKd':_0x3a1872[_0x59c713(0x610)],'TVWzI':_0x3a1872[_0x59c713(0xbee)],'OdTox':_0x3a1872[_0x59c713(0xaf1)],'IMDMj':function(_0x56e3ac){return _0x56e3ac();},'FnZEa':_0x3a1872[_0x59c713(0x8dc)],'rXmEj':_0x3a1872[_0x59c713(0x7ed)],'DLRxh':'user2@learnboost.com','PHaTd':_0x3a1872[_0x59c713(0xd03)],'rSfgw':_0x3a1872[_0x59c713(0x41d)],'XUvXu':_0x3a1872[_0x59c713(0x443)],'LuxqY':'products_$','dCOzA':_0x3a1872[_0x59c713(0x2ae)],'bGETI':_0x3a1872[_0x59c713(0x298)],'qBcvW':'Users','qNcfY':_0x59c713(0x13e),'KbJQm':_0x3a1872['vwNVR']};_0x3a1872[_0x59c713(0x9bb)](it,_0x59c713(0xb15),async function(){const _0x48edde=_0x59c713,_0x523b05=new Schema({'location':String}),_0x17212e=new Schema({'name':String}),_0x16f235=new Schema({'name':String}),_0x5c79b0=new Schema({'name':String,'houseId':{'type':Schema[_0x48edde(0xc4a)][_0x48edde(0x2ef)],'ref':_0x3a1872['WIkZt']},'cityId':{'type':Schema[_0x48edde(0xc4a)][_0x48edde(0x2ef)],'ref':_0x48edde(0x8ce)},'districtId':{'type':Schema[_0x48edde(0xc4a)]['ObjectId'],'ref':_0x3a1872[_0x48edde(0x760)]}}),_0x171ac2=new Schema({'content':String,'userId':{'type':Schema['Types'][_0x48edde(0x2ef)],'ref':_0x3a1872['lMVGb']}}),_0x55f5d9=_0x27d0e4[_0x48edde(0x807)](_0x48edde(0x438),_0x523b05),_0x39112e=_0x27d0e4[_0x48edde(0x807)](_0x3a1872[_0x48edde(0xafd)],_0x5c79b0),_0x4167e2=_0x27d0e4[_0x48edde(0x807)](_0x3a1872[_0x48edde(0xc06)],_0x17212e),_0x5c483e=_0x27d0e4[_0x48edde(0x807)](_0x3a1872['sKNVK'],_0x16f235),_0xc78e49=_0x27d0e4[_0x48edde(0x807)](_0x3a1872[_0x48edde(0x3b6)],_0x171ac2),_0x750a8d=new _0x55f5d9({'location':_0x48edde(0x2fb)}),_0x52d987=new _0x4167e2({'name':_0x3a1872[_0x48edde(0x9c0)]}),_0x1505d1=new _0x5c483e({'name':_0x3a1872[_0x48edde(0x134)]}),_0x4cc44a=new _0x39112e({'name':_0x3a1872[_0x48edde(0x2e0)],'houseId':_0x750a8d[_0x48edde(0x534)],'districtId':_0x1505d1[_0x48edde(0x534)],'cityId':_0x52d987['_id']}),_0x146b26=new _0xc78e49({'content':_0x3a1872['fIalV'],'userId':_0x4cc44a[_0x48edde(0x534)]});await _0x55f5d9[_0x48edde(0x46d)](_0x750a8d),await _0x4167e2[_0x48edde(0x46d)](_0x52d987),await _0x5c483e[_0x48edde(0x46d)](_0x1505d1),await _0x39112e[_0x48edde(0x46d)](_0x4cc44a),await _0xc78e49['create'](_0x146b26);const _0x71af4a=await _0xc78e49['findOne']({})[_0x48edde(0x52a)]({'path':_0x3a1872[_0x48edde(0xd49)],'populate':[{'path':_0x3a1872[_0x48edde(0x670)],'select':_0x48edde(0x5da)},{'path':_0x3a1872[_0x48edde(0x612)],'select':_0x48edde(0x8a8)}]});assert['equal'](_0x71af4a[_0x48edde(0x3aa)][_0x48edde(0x221)]['location'],'123\x20abc\x20st.'),assert[_0x48edde(0xcbc)](_0x71af4a[_0x48edde(0x3aa)][_0x48edde(0x3dc)]['name'],_0x3a1872['SZsJB']),assert[_0x48edde(0xcbc)](_0x71af4a['userId'][_0x48edde(0x1eb)][_0x48edde(0x8a8)],_0x3a1872[_0x48edde(0x134)]);}),it(_0x3a1872[_0x59c713(0x7ec)],async function(){const _0x125f72=_0x59c713,_0xbcff37=new Schema({'name':String}),_0x33b279=_0x27d0e4[_0x125f72(0x807)](_0x125f72(0x11f),_0xbcff37),_0x5a26f9=new Schema({'managerId':{'type':Schema[_0x125f72(0x2ef)],'ref':_0x30b028[_0x125f72(0xccc)]},'supervisorId':{'type':Schema['ObjectId'],'ref':'User'},'janitorId':{'type':Schema[_0x125f72(0x2ef)],'ref':_0x125f72(0x11f)},'associatesIds':[{'type':Schema[_0x125f72(0x2ef)],'ref':'User'}]}),_0x527b51=_0x27d0e4[_0x125f72(0x807)](_0x30b028[_0x125f72(0x4f8)],_0x5a26f9),_0x5bb7cc=new _0x33b279({'name':_0x125f72(0x632)}),_0x19ae2a=new _0x33b279({'name':_0x125f72(0x563)}),_0x1103f0=new _0x33b279({'name':'Tom'}),_0x8317b3=new _0x33b279({'name':_0x125f72(0x280)}),_0x5f057a=new _0x33b279({'name':_0x30b028[_0x125f72(0xd4e)]}),_0x1d1c60=new _0x527b51({'managerId':_0x5bb7cc[_0x125f72(0x534)],'supervisorId':_0x5f057a['_id'],'janitorId':_0x8317b3['_id'],'associatesIds':[_0x19ae2a['_id'],_0x1103f0['_id']]});await _0x5bb7cc[_0x125f72(0x87f)](),await _0x5f057a[_0x125f72(0x87f)](),await _0x19ae2a['save'](),await _0x1103f0[_0x125f72(0x87f)](),await _0x8317b3['save'](),await _0x1d1c60[_0x125f72(0x87f)]();const _0x1d6ee1=await _0x527b51['findOne']({'_id':_0x1d1c60['_id']})['populate']([{'path':_0x30b028[_0x125f72(0x6d8)],'select':_0x125f72(0x194)},{'path':_0x30b028[_0x125f72(0x68c)],'select':_0x30b028[_0x125f72(0x9bd)]}]);assert[_0x125f72(0x672)](_0x1d6ee1['managerId'][_0x125f72(0x8a8)],_0x30b028[_0x125f72(0xd3f)]),assert[_0x125f72(0x672)](_0x1d6ee1[_0x125f72(0x805)][_0x125f72(0x8a8)],_0x30b028[_0x125f72(0xd4e)]),assert[_0x125f72(0x672)](_0x1d6ee1[_0x125f72(0x66a)][0x0][_0x125f72(0x8a8)],_0x125f72(0x563)),assert[_0x125f72(0x672)](_0x1d6ee1[_0x125f72(0x66a)][0x1][_0x125f72(0x8a8)],_0x125f72(0x3e3)),assert[_0x125f72(0x672)](_0x1d6ee1[_0x125f72(0x909)][_0x125f72(0x8a8)],_0x30b028[_0x125f72(0x2c9)]);}),it('handles\x20subpopulation\x20with\x20options\x20(gh-6528)',async function(){const _0x5c9c67=_0x59c713,_0x2dd4e8=new Schema({'name':String}),_0x2c06f5=new Schema({'name':String}),_0x37e881=new Schema({'content':String,'user':{'type':Schema[_0x5c9c67(0xc4a)][_0x5c9c67(0x2ef)],'ref':_0x3a1872[_0x5c9c67(0x8ac)]}}),_0x48b1cb=new Schema({'title':String,'content':String,'teacher':{'type':Schema['Types'][_0x5c9c67(0x2ef)],'ref':_0x5c9c67(0x438)},'commentIds':[{'type':Schema[_0x5c9c67(0xc4a)]['ObjectId']}]},{'timestamps':!![]});_0x48b1cb[_0x5c9c67(0x833)]('comments',{'ref':_0x5c9c67(0x39a),'localField':'commentIds','foreignField':_0x3a1872[_0x5c9c67(0x85c)],'justOne':![]}),_0x27d0e4[_0x5c9c67(0x530)](/.*/);const _0x2126ab=_0x27d0e4[_0x5c9c67(0x807)](_0x5c9c67(0x11f),_0x2dd4e8),_0x439401=_0x27d0e4[_0x5c9c67(0x807)](_0x3a1872['WIkZt'],_0x2c06f5),_0x71c844=_0x27d0e4[_0x5c9c67(0x807)](_0x3a1872['lILxE'],_0x48b1cb),_0x40b5af=_0x27d0e4[_0x5c9c67(0x807)](_0x3a1872[_0x5c9c67(0x516)],_0x37e881),_0x592d05=[],_0x393cf8=[],_0x57dbcd=[],_0x9815a2=[];for(let _0x593d8f=0x0;_0x593d8f<0x2;_0x593d8f++){if(_0x3a1872['wLWuZ'](_0x5c9c67(0xb12),_0x3a1872[_0x5c9c67(0x96a)])){const _0x1cb4bc=new _0x439401({'name':_0x5c9c67(0x4da)+_0x593d8f});_0x592d05[_0x5c9c67(0x2d6)](new _0x2126ab({'name':_0x5c9c67(0x6e5)+_0x593d8f}));for(let _0x5a8218=0x0;_0x3a1872[_0x5c9c67(0x5ce)](_0x5a8218,0x2);_0x5a8218++){_0x57dbcd[_0x5c9c67(0x2d6)](new _0x71c844({'title':_0x5c9c67(0x132)+_0x5a8218,'content':'content'+_0x5a8218,'teacher':_0x1cb4bc['_id']}));}_0x393cf8[_0x5c9c67(0x2d6)](_0x1cb4bc);}else _0x1d579d[_0x5c9c67(0xcbc)](_0x5233b2['blogPosts'][0x0][_0x5c9c67(0xc78)][_0x5c9c67(0x8a8)],_0x30b028[_0x5c9c67(0xb2e)]),_0x30b028['IMDMj'](_0x37fcdf);}_0x57dbcd[_0x5c9c67(0x494)](_0x9aa376=>{const _0x1c2e24=_0x5c9c67;_0x592d05[_0x1c2e24(0x494)]((_0x5f4115,_0x32b708)=>{const _0x42bb2d=_0x1c2e24,_0x2766ad=new _0x40b5af({'content':_0x42bb2d(0x9cd)+_0x32b708+_0x42bb2d(0xabb)+_0x9aa376['title'],'user':_0x5f4115[_0x42bb2d(0x534)]});_0x9815a2[_0x42bb2d(0x2d6)](_0x2766ad),_0x9aa376[_0x42bb2d(0x57b)]['push'](_0x2766ad[_0x42bb2d(0x534)]);});});function _0x3c1733(_0x35a9c8,_0x5bdd13){const _0x4a74ce=_0x5c9c67,_0x57237a={'teacher':_0x35a9c8},_0x26dfe1={'sort':{'title':-0x1},'limit':0x1,'skip':_0x5bdd13},_0x275f93={'path':_0x30b028[_0x4a74ce(0x90d)],'options':{'sort':{'content':-0x1},'limit':0x1,'skip':0x1},'populate':{'path':_0x4a74ce(0x6e5),'select':_0x30b028[_0x4a74ce(0x9bd)]}};return _0x71c844['find'](_0x57237a,null,_0x26dfe1)[_0x4a74ce(0x52a)](_0x275f93)['exec']();}await _0x2126ab['create'](_0x592d05),await _0x439401[_0x5c9c67(0x46d)](_0x393cf8),await _0x71c844[_0x5c9c67(0x46d)](_0x57dbcd),await _0x40b5af[_0x5c9c67(0x46d)](_0x9815a2);const _0x478104=await _0x439401[_0x5c9c67(0x3dd)]({'name':_0x3a1872[_0x5c9c67(0x880)]}),_0x172e21=await _0x3c1733(_0x478104[_0x5c9c67(0x534)],0x1);assert['strictEqual'](_0x172e21[0x0][_0x5c9c67(0x132)],_0x5c9c67(0x4c0)),assert['strictEqual'](_0x172e21[0x0][_0x5c9c67(0x4da)][_0x5c9c67(0x11d)](),_0x478104['id']),assert[_0x5c9c67(0x672)](_0x172e21[0x0][_0x5c9c67(0x83b)][_0x5c9c67(0x2a2)],0x1),assert[_0x5c9c67(0x672)](_0x172e21[0x0][_0x5c9c67(0x83b)][0x0]['content'],_0x5c9c67(0xb3f));}),_0x3a1872[_0x59c713(0xa79)](it,_0x59c713(0x6a6),async function(){const _0x11a842=_0x59c713;if(_0x3a1872[_0x11a842(0x20a)](_0x3a1872[_0x11a842(0x8d2)],_0x3a1872[_0x11a842(0x215)])){const _0x420f6b='1|2|3|5|0|4'[_0x11a842(0x3a7)]('|');let _0xd6e8c2=0x0;while(!![]){switch(_0x420f6b[_0xd6e8c2++]){case'0':_0x1b8a3f['equal'](_0x5a5858[_0x11a842(0x83b)][0x1][_0x11a842(0x5ad)]['isInit'](_0x30b028[_0x11a842(0x31d)]),![]);continue;case'1':_0x4c3ff9[_0x11a842(0x127)](_0x30f67e);continue;case'2':_0x13d597[_0x11a842(0xcbc)](_0x1d5774[_0x11a842(0x83b)][0x0][_0x11a842(0x5ad)][_0x11a842(0x978)],'user1@learnboost.com');continue;case'3':_0x2ed789[_0x11a842(0xcbc)](_0x430b21[_0x11a842(0x83b)][0x0][_0x11a842(0x5ad)][_0x11a842(0x346)](_0x30b028[_0x11a842(0x31d)]),![]);continue;case'4':_0x3361ac();continue;case'5':_0x1a0257[_0x11a842(0xcbc)](_0x228198['comments'][0x1][_0x11a842(0x5ad)][_0x11a842(0x978)],_0x30b028[_0x11a842(0xd6a)]);continue;}break;}}else{const _0x2fc998=new Schema({'name':String}),_0x2bdd96=_0x27d0e4[_0x11a842(0x807)](_0x11a842(0x8ce),_0x2fc998),_0x1b916f=new Schema({'online':Boolean,'value':String,'a':{'type':Schema[_0x11a842(0xc4a)]['ObjectId'],'ref':_0x3a1872['kyvqK']}}),_0x4c17b0=_0x27d0e4['model'](_0x3a1872['lMVGb'],_0x1b916f),_0x5a062c=new Schema({'visible':Boolean,'name':String,'o':[{'type':Schema[_0x11a842(0xc4a)]['ObjectId'],'ref':_0x11a842(0x256)}]}),_0x60fc08=_0x27d0e4[_0x11a842(0x807)](_0x3a1872['WIkZt'],_0x5a062c),_0x389ee8=new _0x2bdd96({'name':_0x3a1872['lfnTU']}),_0x52550b=new _0x4c17b0({'online':![],'value':_0x3a1872['cSsSX'],'a':_0x389ee8['_id']}),_0x4f8a2a=new _0x4c17b0({'online':!![],'value':_0x11a842(0x4cf),'a':_0x389ee8['_id']}),_0x26efb3=new _0x60fc08({'visible':!![],'name':_0x11a842(0x563),'o':[_0x52550b[_0x11a842(0x534)],_0x4f8a2a['_id']]});await _0x389ee8[_0x11a842(0x87f)](),await _0x4c17b0[_0x11a842(0x46d)]([_0x52550b,_0x4f8a2a]),await _0x26efb3[_0x11a842(0x87f)]();const _0x43024d={'path':'o','select':_0x11a842(0x2ba),'match':{'online':!![]},'populate':{'path':'a','select':_0x3a1872[_0x11a842(0xa81)]}},_0xdc83bf=await _0x60fc08[_0x11a842(0x3dd)]({'visible':!![]})[_0x11a842(0x52a)](_0x43024d);assert[_0x11a842(0x672)](_0xdc83bf['o'][_0x11a842(0x2a2)],0x1),assert[_0x11a842(0x672)](_0xdc83bf['o'][0x0][_0x11a842(0x77f)],_0x3a1872[_0x11a842(0xcba)]),assert['strictEqual'](_0xdc83bf['o'][0x0][_0x11a842(0x4c5)],!![]),assert[_0x11a842(0x672)](_0xdc83bf['o'][0x0]['a'][_0x11a842(0x8a8)],_0x3a1872[_0x11a842(0x11c)]);}}),_0x3a1872[_0x59c713(0x9bb)](it,'handles\x20embedded\x20discriminator\x20(gh-6487)',async function(){const _0x42f6b7=_0x59c713,_0x457a78=new Schema({'employeeId':Number,'name':String}),_0x136232=_0x27d0e4[_0x42f6b7(0x807)]('User',_0x457a78),_0x2952b3=new Schema({'message':String},{'discriminatorKey':_0x42f6b7(0x722)}),_0x258326=new Schema({'nested':new Schema({'events':[_0x2952b3]})}),_0x23bb8f=_0x258326[_0x42f6b7(0x2c8)](_0x42f6b7(0xaa8)),_0x1a8d96=new Schema({'element':{'type':String},'users':[Number]},{'toJSON':{'virtuals':!![]},'toObject':{'virtuals':!![]}});_0x1a8d96[_0x42f6b7(0x833)](_0x42f6b7(0x2db),{'ref':_0x42f6b7(0x11f),'localField':_0x3a1872[_0x42f6b7(0xacc)],'foreignField':'employeeId'}),_0x23bb8f[_0x42f6b7(0x65b)](_0x3a1872['wEosh'],_0x1a8d96),_0x23bb8f[_0x42f6b7(0x65b)](_0x3a1872['GEoqT'],new Schema({'product':{'type':String}}));const _0x55bb87=_0x27d0e4[_0x42f6b7(0x807)](_0x3a1872[_0x42f6b7(0x884)],_0x258326),_0x433409={'employeeId':0x1,'name':_0x42f6b7(0xba4)},_0x2671c4={'nested':{'events':[{'kind':_0x3a1872[_0x42f6b7(0xb1b)],'element':_0x42f6b7(0x675),'message':_0x3a1872[_0x42f6b7(0x26f)],'users':[0x1]},{'kind':_0x3a1872[_0x42f6b7(0x936)],'product':_0x3a1872[_0x42f6b7(0x8dd)],'message':_0x3a1872[_0x42f6b7(0x6db)]}]}};await _0x136232[_0x42f6b7(0x46d)](_0x433409),await _0x55bb87[_0x42f6b7(0x46d)](_0x2671c4);const _0x9bab95=await _0x55bb87[_0x42f6b7(0xc77)]({})[_0x42f6b7(0x52a)](_0x42f6b7(0xaf9))['lean'](),_0x358af5=_0x9bab95[0x0][_0x42f6b7(0xa36)][_0x42f6b7(0x476)][0x0][_0x42f6b7(0x2db)][0x0][_0x42f6b7(0x8a8)];assert['strictEqual'](_0x358af5,_0x3a1872[_0x42f6b7(0x8bf)]);}),it(_0x3a1872[_0x59c713(0x39f)],async function(){const _0x435d14=_0x59c713,_0x3dc861=new Schema({'id':Number,'name':String});_0x27d0e4[_0x435d14(0x530)](/.*/);const _0x4dd0ef=_0x27d0e4[_0x435d14(0x807)](_0x30b028['ggnVV'],_0x3dc861),_0xda9b6c=new Schema({'id':Number,'name':String}),_0x14cb5f=_0x27d0e4[_0x435d14(0x807)](_0x30b028[_0x435d14(0x85d)],_0xda9b6c),_0x410bfb=new Schema(),_0x5160d9=new Schema(),_0x5d2917=new Schema();_0x410bfb['add']({'outer':_0x5160d9}),_0x5160d9['add']({'inner':_0x5d2917}),_0x5d2917[_0x435d14(0x827)]({'flexible':[new Schema({'kind':String},{'discriminatorKey':_0x435d14(0x722)})]});const _0x8c7ad2=_0x5d2917['path'](_0x435d14(0x58f)),_0x5f5b64=new Schema({'users':[{}]});_0x5f5b64[_0x435d14(0x833)](_0x30b028[_0x435d14(0x1f2)],{'ref':_0x30b028[_0x435d14(0xccc)],'localField':_0x30b028[_0x435d14(0xc01)],'foreignField':'id'}),_0x8c7ad2['discriminator']('UserDisc',_0x5f5b64);const _0x150929=new Schema({'products':[{}]});_0x150929[_0x435d14(0x833)](_0x30b028[_0x435d14(0x340)],{'ref':'Product','localField':_0x435d14(0xbe5),'foreignField':'id'}),_0x8c7ad2[_0x435d14(0x65b)](_0x435d14(0xc99),_0x150929);const _0x2746b2=_0x27d0e4[_0x435d14(0x807)](_0x435d14(0x438),_0x410bfb);await _0x4dd0ef[_0x435d14(0x46d)]({'id':0x6f,'name':_0x435d14(0x7a6)}),await _0x14cb5f[_0x435d14(0x46d)]({'id':0xde,'name':_0x30b028[_0x435d14(0x98f)]}),await _0x2746b2['create']({'outer':{'inner':{'flexible':[{'kind':_0x30b028[_0x435d14(0x797)],'users':[{'id':0x6f,'refKey':_0x30b028[_0x435d14(0x107)]}]},{'kind':_0x435d14(0xc99),'products':[{'id':0xde,'refKey':_0x30b028[_0x435d14(0x91c)]}]}]}}});const _0x231f59=await _0x2746b2[_0x435d14(0x3dd)]()[_0x435d14(0x52a)](_0x435d14(0x86d))['populate'](_0x435d14(0x472))['then'](_0x1c3679=>_0x1c3679[_0x435d14(0x331)]({'virtuals':!![]}));assert['equal'](_0x231f59['outer'][_0x435d14(0x60e)][_0x435d14(0x58f)]['length'],0x2),assert[_0x435d14(0xcbc)](_0x231f59[_0x435d14(0x935)][_0x435d14(0x60e)][_0x435d14(0x58f)][0x0][_0x435d14(0x2db)]['length'],0x1),assert['equal'](_0x231f59[_0x435d14(0x935)][_0x435d14(0x60e)][_0x435d14(0x58f)][0x0][_0x435d14(0x2db)][0x0][_0x435d14(0x8a8)],_0x30b028[_0x435d14(0xd5d)]),assert['equal'](_0x231f59[_0x435d14(0x935)][_0x435d14(0x60e)][_0x435d14(0x58f)][0x1][_0x435d14(0x7ef)][_0x435d14(0x2a2)],0x1),assert[_0x435d14(0xcbc)](_0x231f59[_0x435d14(0x935)][_0x435d14(0x60e)]['flexible'][0x1][_0x435d14(0x7ef)][0x0][_0x435d14(0x8a8)],'Notebook');}),it(_0x3a1872['tsYwU'],async function(){const _0x346108=_0x59c713,_0x5bb88b=new Schema({'type':String}),_0x2cfff1=new Schema({'metadata':{'type':Schema[_0x346108(0xc4a)]['ObjectId'],'ref':_0x346108(0x438)}}),_0x42145e=new Schema({'comments':[_0x2cfff1]}),_0x429e73=new Schema({'username':String,'password':String,'posts':[_0x42145e]});_0x27d0e4[_0x346108(0x807)](_0x3a1872[_0x346108(0x884)],_0x5bb88b);const _0x41ec4e=_0x27d0e4[_0x346108(0x807)]('User',_0x429e73),_0x31b99c=await _0x41ec4e[_0x346108(0xb82)]({'username':_0x346108(0x98e)},{},{'upsert':!![],'new':!![]})[_0x346108(0x52a)]([_0x3a1872[_0x346108(0x637)]])[_0x346108(0x37d)]();assert['ok'](_0x31b99c&&_0x31b99c[_0x346108(0x7ae)]===_0x3a1872[_0x346108(0x38b)]);}),it(_0x3a1872[_0x59c713(0x5dc)],async function(){const _0x5bbc00=_0x59c713,_0x52202a=new Schema({'kind':String,'title':String,'company':String}),_0x14eb1f=_0x27d0e4[_0x5bbc00(0x807)]('Job',_0x52202a),_0x368a3a=new Schema({'kind':String,'resp':String,'org':String}),_0x22fb2e=_0x27d0e4['model'](_0x5bbc00(0x256),_0x368a3a),_0x2bcd60=new Schema({'title':String,'date':{'type':Date,'default':Date['now']},'sections':[{'name':String,'active':Boolean,'list':[{'kind':String,'active':Boolean,'item':{'type':Schema['Types'][_0x5bbc00(0x2ef)],'refPath':'sections.list.kind'}}]}]}),_0x9a3fae=_0x27d0e4['model'](_0x3a1872[_0x5bbc00(0xc06)],_0x2bcd60),_0x3d60c0=new _0x14eb1f({'kind':'Job','title':_0x3a1872['aQBcX'],'company':_0x3a1872['Ffvqz']}),_0x363109=new _0x22fb2e({'kind':_0x5bbc00(0x256),'resp':_0x3a1872[_0x5bbc00(0x224)],'org':_0x3a1872[_0x5bbc00(0x227)]}),_0x5769da=new _0x9a3fae({'title':'Billy','sections':[{'name':_0x3a1872[_0x5bbc00(0x354)],'active':!![],'list':[{'kind':'Job','active':!![],'item':_0x3d60c0[_0x5bbc00(0x534)]},{'kind':_0x5bbc00(0x256),'active':!![],'item':_0x363109['_id']}]}]});await _0x3d60c0[_0x5bbc00(0x87f)](),await _0x363109[_0x5bbc00(0x87f)](),await _0x5769da[_0x5bbc00(0x87f)]();const _0x58791b=await _0x9a3fae[_0x5bbc00(0x3dd)]({})['populate'](_0x5bbc00(0xbef));assert['ok'](_0x58791b[_0x5bbc00(0x3cd)][0x0][_0x5bbc00(0xb47)][0x0][_0x5bbc00(0x4b5)]),assert['strictEqual'](_0x58791b[_0x5bbc00(0x3cd)][0x0][_0x5bbc00(0xb47)][0x0][_0x5bbc00(0x4b5)]['company'],_0x5bbc00(0x15e)),assert['ok'](_0x58791b[_0x5bbc00(0x3cd)][0x0][_0x5bbc00(0xb47)][0x1][_0x5bbc00(0x4b5)]),assert[_0x5bbc00(0x672)](_0x58791b[_0x5bbc00(0x3cd)][0x0][_0x5bbc00(0xb47)][0x1][_0x5bbc00(0x4b5)]['org'],_0x5bbc00(0x9ae));});}),describe(_0x150122(0x938),function(){const _0x1e860f=_0x150122,_0x3cb261={'USIBy':'Test2','KviLw':'User','rTskr':_0x1e860f(0x256)},_0xc18912=_0x5ee0cf=>_0x5ee0cf!=null&&!(_0x5ee0cf instanceof mongoose['Document']);_0x3a1872[_0x1e860f(0x1f9)](beforeEach,async function(){const _0x47362a=_0x1e860f,_0x580395=new Schema({'name':String,'roomId':{'type':Schema[_0x47362a(0x2ef)],'ref':_0x47362a(0x256)}}),_0x1a36e6=new Schema(),_0x4f62ee=new Schema({'officeId':{'type':Schema[_0x47362a(0x2ef)],'ref':_0x3cb261[_0x47362a(0x96d)]}}),_0x49637d=_0x27d0e4[_0x47362a(0x807)](_0x3cb261[_0x47362a(0xd3)],_0x580395),_0x568056=_0x27d0e4[_0x47362a(0x807)](_0x47362a(0x8ce),_0x1a36e6),_0x162350=_0x27d0e4[_0x47362a(0x807)](_0x3cb261[_0x47362a(0xc4f)],_0x4f62ee),_0x24df1c=new _0x49637d(),_0x54319c=new _0x568056(),_0x5a4d4f=new _0x162350();_0x24df1c[_0x47362a(0xcca)]=_0x5a4d4f[_0x47362a(0x534)],_0x5a4d4f[_0x47362a(0x902)]=_0x54319c['_id'],await _0x49637d[_0x47362a(0xce3)]({}),await Promise[_0x47362a(0x848)]([_0x24df1c['save'](),_0x54319c['save'](),_0x5a4d4f[_0x47362a(0x87f)]()]);}),it(_0x1e860f(0xc61),async function(){const _0x43fc7d=_0x1e860f,_0x679e38=await _0x27d0e4[_0x43fc7d(0x807)](_0x3a1872['UlcPX'])[_0x43fc7d(0x3dd)]()[_0x43fc7d(0x52a)]({'path':_0x3a1872['aGRLy'],'populate':{'path':'officeId'}});assert[_0x43fc7d(0xcbc)](_0x3a1872[_0x43fc7d(0x1f9)](_0xc18912,_0x679e38),![]),assert[_0x43fc7d(0xcbc)](_0xc18912(_0x679e38['roomId']),![]),assert[_0x43fc7d(0xcbc)](_0xc18912(_0x679e38[_0x43fc7d(0xcca)][_0x43fc7d(0x902)]),![]);}),_0x3a1872[_0x1e860f(0x9bb)](it,_0x1e860f(0x55e),async function(){const _0x362fef=_0x1e860f,_0x35d9ba=await _0x27d0e4[_0x362fef(0x807)](_0x3a1872[_0x362fef(0x8ac)])[_0x362fef(0x3dd)]()[_0x362fef(0x52a)]({'path':_0x3a1872['aGRLy'],'populate':{'path':_0x362fef(0x902)}})[_0x362fef(0x2ac)]();assert[_0x362fef(0xcbc)](_0x3a1872['DTTdN'](_0xc18912,_0x35d9ba),!![]),assert['equal'](_0x3a1872[_0x362fef(0x1f9)](_0xc18912,_0x35d9ba[_0x362fef(0xcca)]),!![]),assert[_0x362fef(0xcbc)](_0xc18912(_0x35d9ba['roomId']['officeId']),!![]);}),it(_0x1e860f(0x17f),async function(){const _0x5b5dd8=_0x1e860f,_0x515767=await _0x27d0e4[_0x5b5dd8(0x807)](_0x3a1872[_0x5b5dd8(0x8ac)])[_0x5b5dd8(0x3dd)]()['populate']({'path':_0x3a1872[_0x5b5dd8(0x76d)],'options':{'lean':![]},'populate':{'path':_0x3a1872[_0x5b5dd8(0x25f)]}})[_0x5b5dd8(0x2ac)]();assert[_0x5b5dd8(0xcbc)](_0xc18912(_0x515767),!![]),assert[_0x5b5dd8(0xcbc)](_0x3a1872[_0x5b5dd8(0x1f9)](_0xc18912,_0x515767[_0x5b5dd8(0xcca)]),![]),assert[_0x5b5dd8(0xcbc)](_0x3a1872[_0x5b5dd8(0x1f9)](_0xc18912,_0x515767['roomId'][_0x5b5dd8(0x902)]),![]);}),_0x3a1872[_0x1e860f(0xa79)](it,_0x3a1872['nxPAF'],async function(){const _0x142817=_0x1e860f,_0x5767bf=await _0x27d0e4[_0x142817(0x807)]('User')[_0x142817(0x3dd)]()['populate']({'path':_0x3a1872['aGRLy'],'options':{'lean':!![]},'populate':{'path':_0x3a1872[_0x142817(0x25f)]}});assert[_0x142817(0xcbc)](_0x3a1872['DTTdN'](_0xc18912,_0x5767bf),![]),assert[_0x142817(0xcbc)](_0x3a1872[_0x142817(0x1f9)](_0xc18912,_0x5767bf[_0x142817(0xcca)]),!![]),assert[_0x142817(0xcbc)](_0x3a1872['DTTdN'](_0xc18912,_0x5767bf['roomId'][_0x142817(0x902)]),!![]);}),_0x3a1872['MtZnQ'](it,_0x1e860f(0xcad),async function(){const _0x35edaf=_0x1e860f;if(_0x3a1872[_0x35edaf(0x768)](_0x35edaf(0x79a),_0x3a1872[_0x35edaf(0x602)]))_0x46da30=_0x1ae1ce;else{const _0x39ce7d=await _0x27d0e4[_0x35edaf(0x807)](_0x35edaf(0x11f))[_0x35edaf(0x3dd)]()[_0x35edaf(0x52a)]({'path':_0x3a1872[_0x35edaf(0x76d)],'options':{'lean':!![]},'populate':{'options':{'lean':![]},'path':_0x3a1872[_0x35edaf(0x25f)]}});assert[_0x35edaf(0xcbc)](_0x3a1872[_0x35edaf(0x493)](_0xc18912,_0x39ce7d),![]),assert[_0x35edaf(0xcbc)](_0x3a1872['DTTdN'](_0xc18912,_0x39ce7d[_0x35edaf(0xcca)]),!![]),assert[_0x35edaf(0xcbc)](_0x3a1872[_0x35edaf(0x1f9)](_0xc18912,_0x39ce7d['roomId'][_0x35edaf(0x902)]),![]);}});}),it(_0x24a2f1['WUGla'],async function(){const _0x3a58a9=_0x150122,_0x1bfe2c=new Schema({'employeeId':Number,'name':String}),_0x263eff=_0x27d0e4[_0x3a58a9(0x807)](_0x3a58a9(0x11f),_0x1bfe2c),_0x14bf04=new Schema({'message':String},{'discriminatorKey':_0x3a58a9(0x722)}),_0x2b5766=new Schema({'events':[_0x14bf04]}),_0x59bb8c=_0x2b5766[_0x3a58a9(0x2c8)](_0x3a1872['VljWm']),_0x2765e0=new Schema({'element':{'type':String},'users':[{}]},{'toJSON':{'virtuals':!![]},'toObject':{'virtuals':!![]}});_0x2765e0['virtual'](_0x3a58a9(0x2db),{'ref':function(_0x889f9b){const _0x538aec=_0x3a58a9;return _0x889f9b[_0x538aec(0x476)][0x0]['users'][0x0]['refKey'];},'localField':_0x3a58a9(0x9ec),'foreignField':_0x3a1872[_0x3a58a9(0x6d3)]}),_0x59bb8c[_0x3a58a9(0x65b)](_0x3a1872[_0x3a58a9(0xb1b)],_0x2765e0);const _0x2e35c5=_0x27d0e4[_0x3a58a9(0x807)](_0x3a1872['WIkZt'],_0x2b5766),_0x5b132d={'employeeId':0x1,'name':_0x3a58a9(0xba4)},_0x1b9ca6={'events':[{'kind':'Clicked','element':_0x3a1872['updrh'],'message':_0x3a1872[_0x3a58a9(0x26f)],'users':[{'ID':0x1,'refKey':_0x3a1872[_0x3a58a9(0x8ac)]}]}]};await _0x263eff[_0x3a58a9(0x46d)](_0x5b132d),await _0x2e35c5['create'](_0x1b9ca6);const _0x34953f=await _0x2e35c5[_0x3a58a9(0x3dd)]({})[_0x3a58a9(0x52a)](_0x3a1872['UtYEG']);assert['strictEqual'](_0x34953f[_0x3a58a9(0x476)][0x0][_0x3a58a9(0x2db)][0x0]['name'],_0x3a1872[_0x3a58a9(0x8bf)]);}),_0x24a2f1[_0x150122(0xbe9)](it,_0x24a2f1[_0x150122(0x89f)],async function(){const _0x455796=_0x150122,_0x34a1cc=new Schema({'employeeId':Number,'name':String}),_0x1a81da=_0x27d0e4[_0x455796(0x807)](_0x455796(0x11f),_0x34a1cc),_0x3bcfa6=new Schema({'employeeId':Number,'name':String}),_0xe665a=_0x27d0e4[_0x455796(0x807)]('Author',_0x3bcfa6),_0x19f1ee=new Schema({'message':String},{'discriminatorKey':'kind'}),_0x571e4a=new Schema({'events':[_0x19f1ee]}),_0x3d7a13=_0x571e4a[_0x455796(0x2c8)](_0x3a1872[_0x455796(0x55c)]),_0x1e2efe=new Schema({'element':{'type':String},'users':[{}]},{'toJSON':{'virtuals':!![]},'toObject':{'virtuals':!![]}});_0x1e2efe[_0x455796(0x833)](_0x3a1872[_0x455796(0x41d)],{'ref':function(_0x4245fc){const _0x3f5cef=_0x455796,_0x176cd1=_0x4245fc[_0x3f5cef(0x476)][0x0]['users'][_0x3f5cef(0x847)](_0x20eb4a=>_0x20eb4a[_0x3f5cef(0x64e)]);return _0x176cd1;},'localField':_0x455796(0x9ec),'foreignField':_0x455796(0xb79)}),_0x3d7a13[_0x455796(0x65b)](_0x455796(0xb33),_0x1e2efe);const _0x516504=_0x27d0e4[_0x455796(0x807)](_0x455796(0x438),_0x571e4a),_0x461375={'employeeId':0x1,'name':_0x455796(0xba4)},_0x1fba50={'employeeId':0x2,'name':'Author\x20Name'},_0x4d7751={'events':[{'kind':_0x455796(0xb33),'element':'#hero','message':_0x455796(0x8ff),'users':[{'ID':0x1,'refKey':_0x455796(0x11f)},{'ID':0x2,'refKey':_0x3a1872[_0x455796(0xb07)]}]}]};await _0x1a81da[_0x455796(0x46d)](_0x461375),await _0xe665a[_0x455796(0x46d)](_0x1fba50),await _0x516504['create'](_0x4d7751);const _0x35467d=await _0x516504[_0x455796(0x3dd)]({})[_0x455796(0x52a)](_0x3a1872[_0x455796(0x19e)]);assert[_0x455796(0x672)](_0x35467d[_0x455796(0x476)][0x0][_0x455796(0x2db)][0x0]['name'],_0x455796(0xba4)),assert[_0x455796(0x672)](_0x35467d[_0x455796(0x476)][0x0]['users_$'][0x1][_0x455796(0x8a8)],_0x3a1872[_0x455796(0x6c8)]);}),it(_0x150122(0x341),async function(){const _0xadc65c=_0x150122,_0x37fc31={'HkdJV':function(_0x4205bb,_0x56665d){return _0x3a1872['DTTdN'](_0x4205bb,_0x56665d);},'hViPt':_0xadc65c(0xbd1)};if(_0x3a1872[_0xadc65c(0xc63)]('dWFDx',_0xadc65c(0x10f)))return!_0xa03a03[_0xadc65c(0x534)]['equals'](_0x236ae3['id'])&&(_0x9bb949['author']={'_id':_0x2183bb[_0xadc65c(0xc78)]}),_0x35baf0;else{const _0x243db7=new Schema({'name':String}),_0x54299d=new Schema({'referrer':{'type':String,'get':function(_0x2b3237){const _0x177a67=_0xadc65c;return _0x37fc31[_0x177a67(0x721)]===_0x177a67(0x580)?_0x37fc31[_0x177a67(0x2e3)](_0x410c34,_0x5d5517):_0x2b3237[_0x177a67(0x173)](0x6);}}},{'toObject':{'virtuals':!![]}});_0x54299d[_0xadc65c(0x833)](_0xadc65c(0x8a3),{'ref':'User','localField':_0x3a1872[_0xadc65c(0xbf1)],'foreignField':_0x3a1872['OTVED'],'justOne':![],'getters':!![]});const _0x5e9177=_0x27d0e4[_0xadc65c(0x807)](_0x3a1872[_0xadc65c(0x8ac)],_0x243db7),_0x4392e3=_0x27d0e4['model'](_0x3a1872['WIkZt'],_0x54299d),_0x4f5e77=new _0x5e9177({'name':_0x3a1872['kwFob']}),_0x3c3b3b=new _0x4392e3({'referrer':_0x3a1872[_0xadc65c(0xcc0)](_0xadc65c(0x1a0),_0x4f5e77[_0xadc65c(0x8a8)])});await _0x4f5e77[_0xadc65c(0x87f)](),await _0x3c3b3b[_0xadc65c(0x87f)]();const _0xa5404c=await _0x4392e3[_0xadc65c(0x3dd)]()[_0xadc65c(0x52a)]('referrerUser');assert[_0xadc65c(0x672)](_0xa5404c[_0xadc65c(0x8a3)][0x0][_0xadc65c(0x8a8)],_0x3a1872['kwFob']);const _0x33e577=await _0x4392e3[_0xadc65c(0x3dd)]()['populate']({'path':_0x3a1872['ZAufd'],'options':{'getters':![]}});assert[_0xadc65c(0x672)](_0x33e577[_0xadc65c(0x8a3)]['length'],0x0);}}),_0x24a2f1[_0x150122(0x665)](it,'populate\x20child\x20with\x20same\x20name\x20as\x20parent\x20(gh-6839)\x20(gh-6908)',async function(){const _0x63ce0c=_0x150122,_0xd58007=[{'path':_0x24a2f1['AGoYw']},{'path':_0x63ce0c(0xb8f)}],_0x35c6c4=new mongoose['Schema']({'name':String}),_0x18373a=_0x27d0e4[_0x63ce0c(0x807)](_0x24a2f1[_0x63ce0c(0xa5b)],_0x35c6c4),_0x1b5de9=new mongoose[(_0x63ce0c(0x101))]({'child':{'type':mongoose[_0x63ce0c(0x101)][_0x63ce0c(0xc4a)]['ObjectId'],'ref':_0x63ce0c(0x5ee)},'children':[{'child':{'type':mongoose[_0x63ce0c(0x101)]['Types'][_0x63ce0c(0x2ef)],'ref':_0x24a2f1[_0x63ce0c(0xa5b)]}}]}),_0x5136ec=_0x27d0e4[_0x63ce0c(0x807)](_0x24a2f1[_0x63ce0c(0xb2d)],_0x1b5de9);let _0x38b062=await _0x18373a[_0x63ce0c(0x46d)]({'name':_0x24a2f1[_0x63ce0c(0xbdd)]}),_0x491dab=await _0x5136ec[_0x63ce0c(0x46d)]({'child':_0x38b062});_0x38b062=await _0x18373a[_0x63ce0c(0x770)](_0x38b062['_id']),_0x491dab=await _0x5136ec[_0x63ce0c(0x770)](_0x491dab[_0x63ce0c(0x534)])[_0x63ce0c(0x52a)](_0xd58007),_0x491dab[_0x63ce0c(0x703)][_0x63ce0c(0x2d6)]({'child':_0x38b062}),await _0x491dab[_0x63ce0c(0x87f)](),_0x491dab=await _0x491dab['populate'](_0xd58007),assert['ok'](_0x491dab[_0x63ce0c(0x703)][0x0]['child']),assert[_0x63ce0c(0xcbc)](_0x491dab[_0x63ce0c(0x703)][0x0][_0x63ce0c(0xb8f)][_0x63ce0c(0x8a8)],_0x63ce0c(0xc20));}),_0x24a2f1['HmGJW'](it,_0x24a2f1[_0x150122(0x6dd)],async function(){const _0x6fdd7d=_0x150122,_0x87eaf1=new Schema({'name':String}),_0x46aa93=_0x27d0e4[_0x6fdd7d(0x807)]('Test1',_0x87eaf1),_0x33a901=new Schema({'x':{'type':Schema[_0x6fdd7d(0xc4a)]['ObjectId'],'ref':_0x24a2f1[_0x6fdd7d(0x43a)],'get':function(_0x3fc233){const _0x4cf85e=_0x6fdd7d;return assert[_0x4cf85e(0x672)](this[_0x4cf85e(0x711)][_0x4cf85e(0x8a8)],_0x4cf85e(0x807)),_0x3fc233;}}}),_0x244c9a=_0x27d0e4[_0x6fdd7d(0x807)](_0x24a2f1[_0x6fdd7d(0x4f4)],_0x33a901),_0xc14f65=new _0x46aa93({'name':_0x24a2f1[_0x6fdd7d(0x154)]}),_0x59b301=new _0x244c9a({'x':_0xc14f65[_0x6fdd7d(0x534)]});await _0xc14f65[_0x6fdd7d(0x87f)](),await _0x59b301[_0x6fdd7d(0x87f)]();const _0x5ae615=await _0x244c9a[_0x6fdd7d(0x3dd)]({})[_0x6fdd7d(0x52a)]('x');assert['strictEqual'](_0x5ae615['x'][_0x6fdd7d(0x8a8)],'Max');}),it(_0x150122(0x573),async function(){const _0x5978bc=_0x150122,_0x458f20=new Schema({'company':[{'type':Schema[_0x5978bc(0xc4a)]['ObjectId'],'ref':_0x5978bc(0x178)}]}),_0x2dffae=_0x27d0e4[_0x5978bc(0x807)](_0x5978bc(0x438),_0x458f20),_0x57aa61=new Schema({'name':String}),_0x3db449=_0x27d0e4[_0x5978bc(0x807)]('Company',_0x57aa61),_0x452e3b=await _0x3db449[_0x5978bc(0x46d)]({'name':_0x3a1872[_0x5978bc(0x7d7)]});await _0x2dffae['collection'][_0x5978bc(0x5d2)]({'company':_0x452e3b[_0x5978bc(0x534)]});const _0x4964d2=await _0x2dffae[_0x5978bc(0x3dd)]()[_0x5978bc(0x52a)]('company');assert['ok'](Array[_0x5978bc(0x809)](_0x4964d2['company'])),assert['equal'](_0x4964d2[_0x5978bc(0x2bd)][0x0]['name'],_0x3a1872[_0x5978bc(0x7d7)]);}),it(_0x24a2f1[_0x150122(0x392)],async function(){const _0x3dc7c2=_0x150122,_0x552468=new Schema({'kind':{'type':String},'item':{'type':mongoose[_0x3dc7c2(0x101)][_0x3dc7c2(0xc4a)][_0x3dc7c2(0x2ef)],'required':!![],'refPath':_0x3dc7c2(0x948)}}),_0x12224d=new Schema({'parent':_0x552468,'lockingVersion':mongoose[_0x3dc7c2(0x101)][_0x3dc7c2(0xc4a)]['ObjectId'],'lastUpdate':{'alias':String,'date':Date},'test':String}),_0x50302e=_0x27d0e4[_0x3dc7c2(0x807)]('Test',_0x12224d),_0x83a1f0=await _0x50302e[_0x3dc7c2(0x46d)]({}),_0x4a9c11=await _0x50302e[_0x3dc7c2(0x46d)]({'parent':{'kind':_0x3a1872['WIkZt'],'item':_0x83a1f0[_0x3dc7c2(0x534)]}}),_0xf2d57f=await _0x50302e[_0x3dc7c2(0xc77)]({'_id':_0x4a9c11[_0x3dc7c2(0x534)]})[_0x3dc7c2(0x52a)](_0x3a1872['AjYBg'])[_0x3dc7c2(0xc12)](_0x1095e8=>_0x1095e8[0x0]);_0xf2d57f['test']=_0x3a1872[_0x3dc7c2(0xd0b)],await _0xf2d57f[_0x3dc7c2(0x87f)]();}),it(_0x24a2f1[_0x150122(0x4c8)],async function(){const _0x526fcb=_0x150122,_0x5db873=new Schema({'name':String}),_0x7a607a=new Schema({'text':String,'author':{'type':Schema['Types'][_0x526fcb(0x2ef)],'ref':_0x526fcb(0xa7d)}}),_0x45607c=new Schema({'content':String,'comments':[{'type':Schema[_0x526fcb(0xc4a)][_0x526fcb(0x2ef)],'ref':'Comment'}]}),_0x261bee=_0x27d0e4[_0x526fcb(0x807)](_0x526fcb(0xa7d),_0x5db873),_0x3a28c1=_0x27d0e4[_0x526fcb(0x807)](_0x526fcb(0x39a),_0x7a607a),_0x4ee2b8=_0x27d0e4['model'](_0x526fcb(0x63e),_0x45607c),_0x3f566f=_0x3a1872[_0x526fcb(0x4af)][_0x526fcb(0x3a7)]('')['map'](_0x2659e9=>{const _0x38a37f=_0x526fcb;return new _0x261bee({'name':_0x38a37f(0xc78)+_0x2659e9});}),_0x46f99e=_0x526fcb(0x625)['split']('')[_0x526fcb(0x847)]((_0x17ec15,_0xebd318)=>{const _0x144497=_0x526fcb;if(_0x3a1872[_0x144497(0xf0)](_0x144497(0x48c),_0x144497(0x48c)))_0x1548ae['findOne']({'_id':_0x271170},function(_0x54cd67,_0xddec47){const _0x19efea=_0x144497;_0x1a196e['ifError'](_0x54cd67);const _0x45be6d={'path':_0x19efea(0x63a),'options':{'lean':!![]},'model':_0x27d7ee};_0x32ea7c[_0x19efea(0x52a)](_0xddec47,_0x45be6d,function(_0xf06393){const _0xe0d034=_0x19efea;_0x24c5f3[_0xe0d034(0x127)](_0xf06393),_0x5578d3[_0xe0d034(0x672)](_0xddec47[_0xe0d034(0x5ec)][0x1][_0xe0d034(0x2bd)],void 0x0),_0x31135a();});});else{const _0x2cbab5=_0x3f566f[_0xebd318][_0x144497(0x534)];return new _0x3a28c1({'text':_0x144497(0x925)+_0x17ec15,'author':_0x2cbab5});}});await _0x4ee2b8[_0x526fcb(0x46d)]({'content':_0x3a1872[_0x526fcb(0xc83)],'comments':_0x46f99e}),await _0x261bee[_0x526fcb(0x46d)](_0x3f566f),await _0x3a28c1[_0x526fcb(0x46d)](_0x46f99e);let _0x3e61c7=await _0x4ee2b8['findOne']({});_0x3e61c7=await _0x4ee2b8[_0x526fcb(0x52a)](_0x3e61c7,{'path':'comments'}),_0x3e61c7=await _0x4ee2b8[_0x526fcb(0x52a)](_0x3e61c7,{'path':'comments.author'}),_0x3e61c7[_0x526fcb(0x83b)]['forEach']((_0x10c761,_0x4bbfbb)=>{const _0x1926c2=_0x526fcb;assert['ok'](!Array[_0x1926c2(0x809)](_0x10c761[_0x1926c2(0xc78)]),_0x1926c2(0x73b)+_0x4bbfbb+_0x1926c2(0x6d1));});}),it(_0x24a2f1['rZTbz'],async function(){const _0x150bf8=_0x150122,_0x9dcc6b=new Schema({'filename':_0x24a2f1[_0x150bf8(0x2c2)]}),_0x429aa6=new Schema({'price':_0x150bf8(0x8ea),'image':{'type':_0x24a2f1[_0x150bf8(0x9c7)],'ref':_0x24a2f1[_0x150bf8(0x4f4)]}}),_0x382a91=new Schema({'editionOptions':_0x429aa6}),_0x1cd534=new Schema({'type':{'type':_0x24a2f1[_0x150bf8(0x2c2)]},'editions':[{'type':_0x150bf8(0x2ef),'ref':_0x150bf8(0x256)}]}),_0x5abbb4=new mongoose[(_0x150bf8(0x101))]({'make':_0x150bf8(0x44c),'versions':[_0x1cd534]}),_0xbe03b7=_0x27d0e4[_0x150bf8(0x807)](_0x24a2f1[_0x150bf8(0x4f4)],_0x9dcc6b),_0x4f89e9=_0x27d0e4[_0x150bf8(0x807)](_0x24a2f1[_0x150bf8(0x43a)],_0x382a91),_0x5f0a2d=_0x27d0e4[_0x150bf8(0x807)](_0x24a2f1[_0x150bf8(0x749)],_0x5abbb4),_0x3f09b0=await _0xbe03b7[_0x150bf8(0x46d)]({'filename':_0x150bf8(0xba8)}),_0x565726=await _0x4f89e9[_0x150bf8(0x46d)]([{'editionOptions':{'price':0x3a98,'image':_0x3f09b0['_id']}},{'editionOptions':{'price':0x249f0}}]);let _0x7c0cf=await _0x5f0a2d[_0x150bf8(0x46d)]([{'make':_0x150bf8(0x12b),'versions':[{'type':'F150','editions':[_0x565726[0x0]]}]},{'make':_0x24a2f1[_0x150bf8(0x3c3)],'versions':[{'type':'i8','editions':[_0x565726[0x1]]}]}]);_0x7c0cf=await _0x5f0a2d[_0x150bf8(0xc77)]()[_0x150bf8(0x22b)]({'make':0x1}),_0x7c0cf=await _0x5f0a2d['populate'](_0x7c0cf,_0x150bf8(0xb40)),_0x7c0cf=await _0x5f0a2d[_0x150bf8(0x52a)](_0x7c0cf,_0x24a2f1[_0x150bf8(0xaac)]),assert[_0x150bf8(0x672)](_0x7c0cf[0x0][_0x150bf8(0x3d6)][0x0][_0x150bf8(0x4c2)][0x0][_0x150bf8(0xca1)][_0x150bf8(0x837)],void 0x0),assert[_0x150bf8(0xcbc)](_0x7c0cf[0x1][_0x150bf8(0x3d6)][0x0][_0x150bf8(0x4c2)][0x0][_0x150bf8(0xca1)][_0x150bf8(0x837)][_0x150bf8(0xa62)],_0x150bf8(0xba8));}),it(_0x24a2f1[_0x150122(0xc48)],async function(){const _0x210231=_0x150122,_0x526115=new Schema({'name':String});_0x526115['virtual'](_0x24a2f1['KSSUj'],{'ref':_0x24a2f1[_0x210231(0x4b4)],'localField':_0x24a2f1[_0x210231(0x661)],'foreignField':_0x24a2f1[_0x210231(0xc3a)]});const _0x1a11df=new Schema({'postId':{'type':Schema[_0x210231(0xc4a)][_0x210231(0x2ef)]}}),_0x47a78b=_0x27d0e4[_0x210231(0x807)](_0x24a2f1[_0x210231(0x826)],_0x526115),_0x2f199e=_0x27d0e4[_0x210231(0x807)](_0x210231(0x39a),_0x1a11df),_0x365c98=await _0x47a78b[_0x210231(0x46d)]({'name':'n1'}),_0x504280=await _0x2f199e[_0x210231(0x46d)]({'postId':_0x365c98['_id']}),_0x50cfbf=await _0x47a78b['findOne']({})[_0x210231(0x52a)](_0x24a2f1['KSSUj'])[_0x210231(0x2ac)]();assert['ok'](Array['isArray'](_0x50cfbf[_0x210231(0x83b)])),assert[_0x210231(0xcbc)](_0x50cfbf[_0x210231(0x83b)][_0x210231(0x2a2)],0x1),assert['equal'](_0x50cfbf[_0x210231(0x83b)][0x0][_0x210231(0x534)]['toHexString'](),_0x504280['_id'][_0x210231(0x11d)]());}),it(_0x150122(0xbbf),async function(){const _0x5ced00=_0x150122,_0x3e382a=new Schema({'name':String});_0x3e382a[_0x5ced00(0x833)]('comments',{'ref':_0x5ced00(0x39a),'localField':_0x24a2f1[_0x5ced00(0x661)],'foreignField':_0x24a2f1['FLTRN']});const _0xdfa135=new Schema({'postId':{'type':Schema['Types'][_0x5ced00(0x2ef)]},'text':String}),_0x646b51=_0x27d0e4['model'](_0x24a2f1['YBPRy'],_0x3e382a),_0x2505d3=_0x27d0e4[_0x5ced00(0x807)](_0x5ced00(0x39a),_0xdfa135),_0x49bc97=await _0x646b51[_0x5ced00(0x46d)]({'name':'n1'}),_0x53f8b5=await _0x2505d3[_0x5ced00(0x46d)]({'postId':_0x49bc97['_id'],'text':_0x24a2f1[_0x5ced00(0xa56)]}),_0x392d89=await _0x646b51['find']({})['populate']('comments',_0x24a2f1[_0x5ced00(0x864)])[_0x5ced00(0x2ac)]();assert['ok'](Array[_0x5ced00(0x809)](_0x392d89[0x0][_0x5ced00(0x83b)])),assert['equal'](_0x392d89[0x0]['comments'][_0x5ced00(0x2a2)],0x1),assert['equal'](_0x392d89[0x0][_0x5ced00(0x83b)][0x0][_0x5ced00(0x534)]['toHexString'](),_0x53f8b5[_0x5ced00(0x534)]['toHexString']());}),it(_0x150122(0x13a),async function(){const _0x360ee5=_0x150122,_0x1ec55c=new Schema({'title':String,'content':String}),_0x1bd619=new Schema({'name':String,'data':Schema[_0x360ee5(0xc4a)][_0x360ee5(0x445)]}),_0x145926=_0x27d0e4[_0x360ee5(0x807)](_0x3a1872['geeBe'],_0x1ec55c),_0xfae6c=_0x27d0e4[_0x360ee5(0x807)](_0x3a1872[_0x360ee5(0x8ac)],_0x1bd619),_0x4a8bd0=await _0x145926[_0x360ee5(0x46d)]([{'title':_0x360ee5(0x7d9),'content':''},{'title':'Building\x20a\x20Serverless\x20App\x20with\x20MongoDB\x20Stitch','content':''}]);await _0xfae6c[_0x360ee5(0x46d)]({'name':_0x3a1872[_0x360ee5(0xaf1)],'data':{'articles':_0x4a8bd0[_0x360ee5(0x847)](_0x227271=>_0x227271[_0x360ee5(0x534)])}});let _0x1fe5c7=await _0xfae6c[_0x360ee5(0x3dd)]();const _0x49d0e3={'path':_0x360ee5(0x440),'select':_0x360ee5(0x132),'model':_0x360ee5(0xb04),'options':{'lean':!![]}};_0x1fe5c7=await _0xfae6c[_0x360ee5(0x52a)](_0x1fe5c7,_0x49d0e3),assert['ok'](Array[_0x360ee5(0x809)](_0x1fe5c7[_0x360ee5(0x139)][_0x360ee5(0x63c)])),assert['deepEqual'](_0x1fe5c7[_0x360ee5(0x139)]['articles']['map'](_0xbd65f1=>_0xbd65f1[_0x360ee5(0x132)]),[_0x3a1872[_0x360ee5(0x567)],_0x360ee5(0x513)]);}),it(_0x24a2f1[_0x150122(0x6bf)],async function(){const _0x855a92=_0x150122,_0x186e8=new Schema({'title':String,'content':String}),_0x2276b3=new Schema({'title':String,'data':Schema[_0x855a92(0xc4a)][_0x855a92(0x445)]}),_0x518272=_0x27d0e4[_0x855a92(0x807)](_0x3a1872[_0x855a92(0x35d)],_0x186e8),_0x436ced=_0x27d0e4[_0x855a92(0x807)](_0x3a1872[_0x855a92(0x884)],_0x2276b3),_0x54997a=await _0x518272['create']([{'title':_0x855a92(0x7d9),'content':''},{'title':_0x855a92(0x513),'content':''}]);await _0x436ced[_0x855a92(0x46d)]({'title':_0x3a1872[_0x855a92(0x778)],'data':{'articles':_0x54997a[_0x855a92(0x847)](_0x16b361=>_0x16b361[_0x855a92(0x534)])}});let _0x5617e1=await _0x436ced[_0x855a92(0x3dd)]();const _0x46026e={'path':'data.articles','select':_0x855a92(0x132),'model':_0x855a92(0xb04),'justOne':!![],'options':{'lean':!![]}};_0x5617e1=await _0x436ced[_0x855a92(0x52a)](_0x5617e1,_0x46026e),assert['ok'](!Array[_0x855a92(0x809)](_0x5617e1[_0x855a92(0x139)]['articles'])),assert[_0x855a92(0xcbc)](_0x5617e1['data'][_0x855a92(0x63c)][_0x855a92(0x132)],_0x3a1872[_0x855a92(0x567)]);}),it(_0x24a2f1[_0x150122(0x31f)],async function(){const _0x231ac4=_0x150122,_0xc49183={'drmPu':'internalChildId','iiQcS':_0x231ac4(0x607),'kIcDv':function(_0x40d5a7){return _0x40d5a7();},'XxZzk':_0x231ac4(0x256)};if(_0x3a1872[_0x231ac4(0x284)]!==_0x3a1872[_0x231ac4(0x597)]){const _0x1e888c=new Schema({'_id':Number,'sourceId':Number}),_0x489003=new Schema({'_id':Number,'internalChildId':Number,'sourceChildId':Number});_0x489003[_0x231ac4(0x833)](_0x231ac4(0x703),{'ref':_0x231ac4(0x5ee),'localField':function(){return this['internalChildId']?_0xc49183['drmPu']:'sourceChildId';},'foreignField':function(){const _0x5a8cb2=_0x231ac4;return this['internalChildId']?_0x5a8cb2(0x534):_0x5a8cb2(0x3e0);}});const _0x494bf7=_0x27d0e4['model'](_0x3a1872[_0x231ac4(0x4cd)],_0x1e888c),_0x3ecab3=_0x27d0e4['model'](_0x3a1872[_0x231ac4(0x6b9)],_0x489003);await _0x494bf7[_0x231ac4(0x46d)]([{'_id':0x1},{'_id':0x63,'sourceId':0x2}]),await _0x3ecab3[_0x231ac4(0x46d)]([{'_id':0xa,'internalChildId':0x1},{'_id':0xb,'sourceChildId':0x2}]);let _0x66ab3c=await _0x3ecab3[_0x231ac4(0xc77)]()[_0x231ac4(0x22b)]({'_id':0x1})[_0x231ac4(0x52a)](_0x231ac4(0x703));_0x66ab3c=_0x66ab3c[_0x231ac4(0x847)](_0x2e683c=>_0x2e683c[_0x231ac4(0x331)]({'virtuals':!![]})),assert['equal'](_0x66ab3c[0x0]['children'][_0x231ac4(0x2a2)],0x1),assert[_0x231ac4(0x672)](_0x66ab3c[0x0][_0x231ac4(0x703)][0x0][_0x231ac4(0x534)],0x1),assert[_0x231ac4(0xcbc)](_0x66ab3c[0x1][_0x231ac4(0x703)][_0x231ac4(0x2a2)],0x1),assert[_0x231ac4(0x672)](_0x66ab3c[0x1][_0x231ac4(0x703)][0x0][_0x231ac4(0x534)],0x63);}else{const _0x3dfed3={'qKYUS':function(_0x555e51){return _0xc49183['kIcDv'](_0x555e51);}};_0x5135e6[_0x231ac4(0x127)](_0x299e02);const _0x45c8c6={'title':_0xc49183[_0x231ac4(0xd4a)],'author':_0x28f202[0x0][_0x231ac4(0x534)],'comments':[{'author':_0x4fe28d[0x1]['_id']}]};_0xc3984b[_0x231ac4(0x46d)](_0x45c8c6,function(_0xf2d50a){const _0x484229=_0x231ac4;_0x3ece25['ifError'](_0xf2d50a),_0x1e76ea['findById'](_0x1ffb34[0x0]['_id'])[_0x484229(0x52a)]({'path':_0xc49183[_0x484229(0x2cf)],'model':_0x1b12af,'populate':{'path':_0x484229(0x6ff),'model':_0x3b2f2f}})[_0x484229(0x37d)](function(_0x4ba19d,_0x4ebc12){const _0x53e8fe=_0x484229;_0x36f360[_0x53e8fe(0x127)](_0x4ba19d),_0x51107c[_0x53e8fe(0xcbc)](_0x4ebc12['blogPosts'][0x0]['comments'][0x0][_0x53e8fe(0xc78)][_0x53e8fe(0x8a8)],_0x53e8fe(0x438)),_0x3dfed3['qKYUS'](_0x243b6f);});});}}),it(_0x150122(0x702),async function(){const _0x33ef13=_0x150122,_0x520538=new Schema({'name':String,'age':Number,'dogs':[Schema[_0x33ef13(0xc4a)][_0x33ef13(0x2ef)]]}),_0x212550=new Schema({'name':String,'trick':Schema[_0x33ef13(0xc4a)][_0x33ef13(0x2ef)]}),_0x628741=new Schema({'description':String}),_0xeb516f=_0x27d0e4['model'](_0x33ef13(0x790),_0x520538),_0x4d05e7=_0x27d0e4['model'](_0x33ef13(0x438),_0x212550),_0x238f7a=_0x27d0e4[_0x33ef13(0x807)](_0x24a2f1[_0x33ef13(0x43a)],_0x628741),_0x299cb8=new _0x238f7a({'description':_0x33ef13(0x3ef)}),_0x194246=new _0x4d05e7({'name':_0x24a2f1[_0x33ef13(0xb74)],'trick':_0x299cb8[_0x33ef13(0x534)]}),_0x588be6=new _0xeb516f({'name':_0x24a2f1['ESxqA'],'age':0xa,'dogs':[_0x194246[_0x33ef13(0x534)]]});await Promise['all']([_0x299cb8[_0x33ef13(0x87f)](),_0x194246[_0x33ef13(0x87f)](),_0x588be6[_0x33ef13(0x87f)]()]);const _0x9b075a=await _0xeb516f[_0x33ef13(0x3dd)]({})[_0x33ef13(0x2ac)]();let _0xd6a411=await _0xeb516f[_0x33ef13(0x52a)](_0x9b075a,[{'path':_0x33ef13(0xb85),'model':_0x33ef13(0x438),'options':{'lean':!![]}}]);_0xd6a411=await _0xeb516f[_0x33ef13(0x52a)](_0x9b075a,[{'path':_0x24a2f1[_0x33ef13(0x651)],'model':'Test1','options':{'lean':!![]}}]),assert['ok'](!Array['isArray'](_0xd6a411[_0x33ef13(0xb85)][0x0][_0x33ef13(0x377)]));}),_0x24a2f1[_0x150122(0x2cb)](it,_0x24a2f1[_0x150122(0x581)],async function(){const _0x196443=_0x150122;if('HkGhB'===_0x3a1872[_0x196443(0x17b)]){const _0x2a706a=mongoose[_0x196443(0x101)]({'name':String},{'toObject':{'virtuals':!![]}});_0x2a706a[_0x196443(0x833)](_0x3a1872[_0x196443(0x470)],{'ref':_0x3a1872[_0x196443(0x884)],'localField':'_id','foreignField':_0x196443(0x9c5)});const _0x2506e3=_0x27d0e4[_0x196443(0x807)](_0x3a1872['GghYW'],_0x2a706a),_0x519da1=mongoose[_0x196443(0x101)]({'name':String,'cat':mongoose['ObjectId'],'secret':{'type':String,'select':![]}}),_0x4d86ed=_0x27d0e4[_0x196443(0x807)](_0x3a1872[_0x196443(0x884)],_0x519da1),_0x2e44c1=await _0x2506e3[_0x196443(0x46d)]({'name':_0x196443(0x7c1)});await _0x4d86ed[_0x196443(0x46d)]({'name':_0x196443(0xa5f),'cat':_0x2e44c1,'secret':'I\x20ate\x20all\x20the\x20scooby\x20snacks!'});const _0x1055c6=await _0x2506e3[_0x196443(0x3dd)]()[_0x196443(0x4e9)]()[_0x196443(0x52a)]({'path':'friends','select':_0x196443(0x9b8)});assert[_0x196443(0xcbc)](_0x1055c6[_0x196443(0x88e)][0x0][_0x196443(0x8a8)],_0x3a1872[_0x196443(0x22c)]),assert[_0x196443(0xcbc)](_0x1055c6[_0x196443(0x88e)][0x0][_0x196443(0x9c1)],_0x196443(0x885));}else return{'name':_0x5a425a,'band':_0x196443(0x438)};}),_0x24a2f1['GDuzC'](it,_0x150122(0x58c),async function(){const _0x2b823f=_0x150122,_0x4f3239=new Schema({'name':String}),_0x5a893d=_0x27d0e4[_0x2b823f(0x807)](_0x3a1872[_0x2b823f(0x8ac)],_0x4f3239),_0x244950=new Schema({'user':{'type':mongoose['ObjectId'],'ref':_0x5a893d},'user2':mongoose[_0x2b823f(0x2ef)]});_0x244950[_0x2b823f(0x2c8)](_0x2b823f(0xaee))[_0x2b823f(0x171)](_0x5a893d);const _0x433e67=_0x27d0e4[_0x2b823f(0x807)](_0x3a1872[_0x2b823f(0x3b6)],_0x244950),_0x1ee604=await _0x5a893d[_0x2b823f(0x46d)]({'name':_0x2b823f(0x890)});await _0x433e67[_0x2b823f(0x46d)]({'user':_0x1ee604['_id'],'user2':_0x1ee604['_id']});const _0x15004d=await _0x433e67['findOne']()[_0x2b823f(0x52a)](_0x3a1872[_0x2b823f(0x88f)]);assert[_0x2b823f(0xcbc)](_0x15004d[_0x2b823f(0x6e5)][_0x2b823f(0x8a8)],'val'),assert['equal'](_0x15004d[_0x2b823f(0xaee)][_0x2b823f(0x8a8)],_0x3a1872['ZVPDP']);}),it(_0x150122(0x1dc),async function(){const _0x1be45c=_0x150122,_0x36a403=new Schema({'parentId':mongoose['ObjectId']}),_0x5b4932=new Schema({'name':String});_0x5b4932[_0x1be45c(0x833)](_0x24a2f1['vbWuG'],{'ref':_0x24a2f1['fKfLV'],'localField':_0x24a2f1['vNBZv'],'foreignField':_0x24a2f1[_0x1be45c(0x927)],'count':!![]}),_0x5b4932[_0x1be45c(0x833)](_0x24a2f1[_0x1be45c(0xc33)],{'ref':_0x1be45c(0x5ee),'localField':'_id','foreignField':_0x24a2f1['IFslD'],'count':![]});const _0x18b83f=_0x27d0e4[_0x1be45c(0x807)]('Child',_0x36a403),_0x3f3ded=_0x27d0e4['model'](_0x24a2f1[_0x1be45c(0xb2d)],_0x5b4932),_0x27c05d=await _0x3f3ded[_0x1be45c(0x46d)]({'name':_0x1be45c(0xc20)});await _0x18b83f[_0x1be45c(0x46d)]([{'parentId':_0x27c05d[_0x1be45c(0x534)]},{'parentId':_0x27c05d['_id']},{}]);let _0x47c539=await _0x3f3ded[_0x1be45c(0x3dd)]()[_0x1be45c(0x52a)](_0x1be45c(0x6ef));assert['equal'](_0x47c539[_0x1be45c(0x98b)],0x2),assert[_0x1be45c(0xcbc)](_0x47c539['children'][_0x1be45c(0x2a2)],0x2),_0x47c539=await _0x3f3ded[_0x1be45c(0xc77)]()['populate'](_0x1be45c(0x6ef))[_0x1be45c(0xc12)](_0x51796f=>_0x51796f[0x0]),assert[_0x1be45c(0xcbc)](_0x47c539[_0x1be45c(0x98b)],0x2),assert[_0x1be45c(0xcbc)](_0x47c539[_0x1be45c(0x703)][_0x1be45c(0x2a2)],0x2),_0x47c539=await _0x3f3ded[_0x1be45c(0xc77)]()['populate'](_0x1be45c(0x98b))[_0x1be45c(0xc12)](_0x314e7d=>_0x314e7d[0x0]),assert[_0x1be45c(0xcbc)](_0x47c539['childCount'],0x2),assert[_0x1be45c(0xcbc)](_0x47c539[_0x1be45c(0x703)],null),_0x47c539=await _0x3f3ded[_0x1be45c(0x3dd)](),await _0x47c539['populate'](_0x24a2f1[_0x1be45c(0xc0e)]),assert[_0x1be45c(0xcbc)](_0x47c539[_0x1be45c(0x98b)],0x2),assert[_0x1be45c(0xcbc)](_0x47c539['children'],null);}),_0x24a2f1[_0x150122(0x5ff)](it,_0x24a2f1[_0x150122(0x84d)],async function(){const _0x249648=_0x150122,_0x49228c=new Schema({'parentId':mongoose[_0x249648(0x2ef)]}),_0x3f132a=new Schema({'name':String});_0x3f132a['virtual'](_0x249648(0x98b),{'ref':_0x249648(0x5ee),'localField':_0x249648(0x534),'foreignField':_0x249648(0x669),'count':!![],'options':{'skip':0x2}});const _0x2802f8=_0x27d0e4[_0x249648(0x807)](_0x3a1872[_0x249648(0x4cd)],_0x49228c),_0x199d62=_0x27d0e4[_0x249648(0x807)](_0x3a1872[_0x249648(0x6b9)],_0x3f132a),_0x277f59=await _0x199d62[_0x249648(0x46d)]({'name':_0x3a1872[_0x249648(0x778)]});await _0x2802f8[_0x249648(0x46d)]([{'parentId':_0x277f59[_0x249648(0x534)]},{'parentId':_0x277f59['_id']},{}]);const _0x3d90ee=await _0x199d62[_0x249648(0x3dd)]()[_0x249648(0x52a)](_0x3a1872[_0x249648(0xc80)]);assert[_0x249648(0xcbc)](_0x3d90ee[_0x249648(0x98b)],0x2);}),_0x24a2f1[_0x150122(0x1b8)](it,'count\x20with\x20deeply\x20nested\x20(gh-7573)',async function(){const _0x5a3bd0=_0x150122,_0x45af8c=new mongoose[(_0x5a3bd0(0x101))]({});_0x45af8c[_0x5a3bd0(0x833)]('s2',{'ref':_0x5a3bd0(0x8ce),'localField':_0x3a1872[_0x5a3bd0(0x85c)],'foreignField':'s1'});const _0x33b216=new mongoose[(_0x5a3bd0(0x101))]({'s1':{'type':mongoose[_0x5a3bd0(0x101)]['Types']['ObjectId'],'ref':'schema1'}});_0x33b216[_0x5a3bd0(0x833)](_0x3a1872['NXitA'],{'ref':_0x3a1872[_0x5a3bd0(0x760)],'localField':_0x5a3bd0(0x534),'foreignField':'s2','count':!![]});const _0x513d9e=new mongoose[(_0x5a3bd0(0x101))]({'s2':{'type':mongoose[_0x5a3bd0(0x101)][_0x5a3bd0(0xc4a)][_0x5a3bd0(0x2ef)],'ref':'schema2'}}),_0x4f1634=_0x27d0e4[_0x5a3bd0(0x807)](_0x3a1872[_0x5a3bd0(0xafd)],_0x45af8c),_0x7e25b8=_0x27d0e4[_0x5a3bd0(0x807)](_0x3a1872[_0x5a3bd0(0xc06)],_0x33b216),_0x57bb0e=_0x27d0e4['model'](_0x5a3bd0(0x367),_0x513d9e),_0x2900ed=await _0x4f1634[_0x5a3bd0(0x46d)]({}),_0x2735be=await _0x7e25b8[_0x5a3bd0(0x46d)]([{'s1':_0x2900ed},{'s1':_0x2900ed}]);await _0x57bb0e[_0x5a3bd0(0x46d)]([{'s2':_0x2735be[0x0]},{'s2':_0x2735be[0x0]},{'s2':_0x2735be[0x1]}]);let _0x4da6d8=await _0x4f1634['findOne']({})[_0x5a3bd0(0x52a)]({'path':'s2','populate':{'path':_0x5a3bd0(0x18e)}});assert[_0x5a3bd0(0x829)](_0x4da6d8['s2']['map'](_0x42ef37=>_0x42ef37[_0x5a3bd0(0x18e)])['sort'](),[0x1,0x2]),await _0x57bb0e[_0x5a3bd0(0xce3)]({'s2':_0x2735be[0x1]}),_0x4da6d8=await _0x4f1634['findOne']({})[_0x5a3bd0(0x52a)]({'path':'s2','populate':{'path':_0x3a1872[_0x5a3bd0(0x8f1)]}}),assert[_0x5a3bd0(0x829)](_0x4da6d8['s2'][_0x5a3bd0(0x847)](_0x3e5dc6=>_0x3e5dc6[_0x5a3bd0(0x18e)])[_0x5a3bd0(0x22b)](),[0x0,0x2]),await _0x57bb0e[_0x5a3bd0(0xce3)]({}),_0x4da6d8=await _0x4f1634[_0x5a3bd0(0x3dd)]({})[_0x5a3bd0(0x52a)]({'path':'s2','populate':{'path':_0x5a3bd0(0x18e)}}),assert[_0x5a3bd0(0x829)](_0x4da6d8['s2'][_0x5a3bd0(0x847)](_0x5c0e71=>_0x5c0e71[_0x5a3bd0(0x18e)])[_0x5a3bd0(0x22b)](),[0x0,0x0]);}),_0x24a2f1[_0x150122(0x9cb)](it,_0x150122(0x626),async function(){const _0x33a933=_0x150122,_0x4f9272=new Schema({'name':String}),_0x1cf622=_0x27d0e4[_0x33a933(0x807)](_0x3a1872[_0x33a933(0x8ac)],_0x4f9272);_0x27d0e4[_0x33a933(0x807)]('Test',_0x4f9272);const _0x58063b=new Schema({'user':{'type':mongoose[_0x33a933(0x2ef)],'refPath':'m'},'m':String}),_0x273288=_0x27d0e4[_0x33a933(0x807)](_0x3a1872[_0x33a933(0x3b6)],_0x58063b),_0x13050d=await _0x1cf622[_0x33a933(0x46d)]({'name':_0x33a933(0x890)});await _0x273288[_0x33a933(0x46d)]({'user':_0x13050d['_id'],'m':'Test'});let _0x19b82a=await _0x273288[_0x33a933(0x3dd)]()['populate'](_0x3a1872[_0x33a933(0xac1)]);assert['ok'](!_0x19b82a[_0x33a933(0x6e5)]),_0x19b82a=await _0x273288[_0x33a933(0x3dd)]()[_0x33a933(0x52a)]({'path':_0x33a933(0x6e5),'model':_0x3a1872['UlcPX']}),assert[_0x33a933(0xcbc)](_0x19b82a[_0x33a933(0x6e5)]['name'],_0x33a933(0x890));}),_0x24a2f1[_0x150122(0xc4b)](it,_0x24a2f1[_0x150122(0x7c7)],async function(){const _0x30f1eb=_0x150122,_0x2f3e35=new Schema({'name':String}),_0x2678f4=_0x27d0e4[_0x30f1eb(0x807)]('User',_0x2f3e35),_0x5b212e=new Schema({'user':{'type':mongoose[_0x30f1eb(0x2ef)],'ref':_0x2678f4},'title':String}),_0xc8bfe5=_0x27d0e4[_0x30f1eb(0x807)](_0x24a2f1[_0x30f1eb(0x826)],_0x5b212e),_0x4d6cb4=await _0x2678f4[_0x30f1eb(0x46d)]({'name':_0x30f1eb(0x890)});await _0xc8bfe5['create']([{'title':_0x24a2f1[_0x30f1eb(0x7aa)],'user':_0x4d6cb4},{'title':_0x24a2f1['tYoHL'],'user':_0x4d6cb4}]);const _0x370322=await _0xc8bfe5[_0x30f1eb(0xc77)]()[_0x30f1eb(0x52a)]({'path':_0x24a2f1[_0x30f1eb(0xa91)],'options':{'clone':!![]}});_0x370322[0x0][_0x30f1eb(0x6e5)][_0x30f1eb(0x8a8)]=_0x30f1eb(0x35c),assert['equal'](_0x370322[0x1][_0x30f1eb(0x6e5)][_0x30f1eb(0x8a8)],'val');}),_0x24a2f1[_0x150122(0x795)](it,'handles\x20double\x20nested\x20array\x20`foreignField`\x20(gh-7374)',async function(){const _0x2da184=_0x150122,_0x3414c9=Schema({'title':{'type':String},'identifiers':[{'_id':![],'artists':[{'_id':![],'artist':{'type':Number}}]}]}),_0x4c0b5a=new Schema({'_id':Number,'name':String});_0x4c0b5a[_0x2da184(0x833)](_0x2da184(0x186),{'ref':'Test','localField':'_id','foreignField':_0x2da184(0x6e1)});const _0x577520=_0x27d0e4['model'](_0x24a2f1['TJhCc'],_0x3414c9),_0x5b00ff=_0x27d0e4[_0x2da184(0x807)](_0x24a2f1[_0x2da184(0xd63)],_0x4c0b5a);await _0x5b00ff[_0x2da184(0x46d)]([{'_id':0x1,'name':_0x24a2f1['qwRzR']},{'_id':0x2,'name':_0x24a2f1['ixqYS']}]),await _0x577520[_0x2da184(0x46d)]({'title':_0x24a2f1[_0x2da184(0x720)],'identifiers':[{'artists':[{'artist':0x1},{'artist':0x2}]}]});const _0x5e592d=await _0x5b00ff[_0x2da184(0x770)](0x1)[_0x2da184(0x52a)](_0x24a2f1['IuXYv']);assert[_0x2da184(0xcbc)](_0x5e592d[_0x2da184(0x186)]['length'],0x1),assert[_0x2da184(0xcbc)](_0x5e592d[_0x2da184(0x186)][0x0]['title'],_0x2da184(0x3c7));}),it(_0x24a2f1[_0x150122(0xa77)],async function(){const _0x34eb6c=_0x150122,_0xf4534d=new Schema({'arr1':[{'arr2':[{'item':{'type':Schema[_0x34eb6c(0xc4a)]['ObjectId'],'refPath':_0x24a2f1[_0x34eb6c(0x462)]},'kind':String}]}]}),_0x268fd4=_0x27d0e4['model'](_0x24a2f1['TJhCc'],_0xf4534d),_0x1a304b=new Schema({'name':String}),_0x3ddcd3=_0x27d0e4['model'](_0x34eb6c(0x256),_0x1a304b),_0x5306a7=_0x27d0e4[_0x34eb6c(0x807)]('Test2',_0x1a304b),_0x16db36=await _0x3ddcd3[_0x34eb6c(0x46d)]({'name':_0x34eb6c(0x18b)}),_0x3734fc=await _0x5306a7[_0x34eb6c(0x46d)]({'name':_0x34eb6c(0xa74)});await _0x268fd4[_0x34eb6c(0x46d)]({'arr1':[{'arr2':[{'item':_0x16db36['_id'],'kind':'Test1'},{'item':_0x3734fc[_0x34eb6c(0x534)],'kind':_0x24a2f1[_0x34eb6c(0x99d)]}]}]});let _0x1766d0=await _0x268fd4[_0x34eb6c(0x3dd)]()[_0x34eb6c(0x52a)](_0x24a2f1[_0x34eb6c(0x2fa)]);assert[_0x34eb6c(0xcbc)](_0x1766d0[_0x34eb6c(0x6de)][0x0][_0x34eb6c(0x297)][0x0]['item'][_0x34eb6c(0x8a8)],_0x34eb6c(0x18b)),assert[_0x34eb6c(0xcbc)](_0x1766d0[_0x34eb6c(0x6de)][0x0][_0x34eb6c(0x297)][0x1][_0x34eb6c(0x4b5)][_0x34eb6c(0x8a8)],_0x24a2f1[_0x34eb6c(0xd24)]),_0x1766d0=await _0x268fd4[_0x34eb6c(0x3dd)]()[_0x34eb6c(0x52a)](_0x34eb6c(0x38d)),assert[_0x34eb6c(0xcbc)](_0x1766d0[_0x34eb6c(0x6de)][0x0][_0x34eb6c(0x297)][0x0][_0x34eb6c(0x4b5)][_0x34eb6c(0x8a8)],_0x24a2f1['QmGWg']),assert[_0x34eb6c(0xcbc)](_0x1766d0['arr1'][0x0][_0x34eb6c(0x297)][0x1][_0x34eb6c(0x4b5)][_0x34eb6c(0x8a8)],_0x34eb6c(0xa74)),_0x1766d0=await _0x268fd4[_0x34eb6c(0x3dd)]()[_0x34eb6c(0x52a)](_0x24a2f1[_0x34eb6c(0x3f6)]),assert['equal'](_0x1766d0['arr1'][0x0][_0x34eb6c(0x297)][0x0]['item'][_0x34eb6c(0x8a8)],_0x24a2f1[_0x34eb6c(0x88c)]),assert['ok'](!_0x1766d0[_0x34eb6c(0x6de)][0x0][_0x34eb6c(0x297)][0x1]['item']['name']),_0x1766d0=await _0x268fd4[_0x34eb6c(0x3dd)](),await _0x1766d0[_0x34eb6c(0x52a)](_0x34eb6c(0x9dd)),assert['ok'](!_0x1766d0[_0x34eb6c(0x6de)][0x0][_0x34eb6c(0x297)][0x0][_0x34eb6c(0x4b5)][_0x34eb6c(0x8a8)]),assert[_0x34eb6c(0xcbc)](_0x1766d0[_0x34eb6c(0x6de)][0x0][_0x34eb6c(0x297)][0x1]['item'][_0x34eb6c(0x8a8)],'item2'),_0x1766d0=await _0x268fd4[_0x34eb6c(0x3dd)](),await _0x1766d0[_0x34eb6c(0x52a)](_0x24a2f1[_0x34eb6c(0x3f6)]),await _0x1766d0[_0x34eb6c(0x52a)]('arr1.0.arr2.1.item'),assert[_0x34eb6c(0xcbc)](_0x1766d0[_0x34eb6c(0x6de)][0x0][_0x34eb6c(0x297)][0x0]['item'][_0x34eb6c(0x8a8)],_0x34eb6c(0x18b)),assert[_0x34eb6c(0xcbc)](_0x1766d0[_0x34eb6c(0x6de)][0x0][_0x34eb6c(0x297)][0x1][_0x34eb6c(0x4b5)][_0x34eb6c(0x8a8)],_0x34eb6c(0xa74));}),_0x24a2f1[_0x150122(0xcc7)](it,_0x24a2f1[_0x150122(0x49c)],async function(){const _0x26546d=_0x150122,_0x25066c=new Schema({'recordings':[[{'file':{'type':Schema['ObjectId'],'ref':_0x24a2f1[_0x26546d(0x4f4)]}}]]}),_0x42924a=_0x27d0e4[_0x26546d(0x807)]('Test1',_0x25066c),_0x455059=_0x27d0e4[_0x26546d(0x807)](_0x26546d(0x438),Schema({'name':String})),_0x41d783=await _0x455059[_0x26546d(0x46d)]({'name':_0x24a2f1[_0x26546d(0x7f9)]});await _0x42924a[_0x26546d(0x46d)]({'recordings':[[{'file':_0x41d783['_id']}]]});const _0x1c6289=await _0x42924a[_0x26546d(0x3dd)]()[_0x26546d(0x52a)](_0x24a2f1[_0x26546d(0xbba)]);assert['equal'](_0x1c6289[_0x26546d(0x143)][_0x26546d(0x2a2)],0x1),assert[_0x26546d(0xcbc)](_0x1c6289[_0x26546d(0x143)][0x0][_0x26546d(0x2a2)],0x1),assert['equal'](_0x1c6289['recordings'][0x0][0x0][_0x26546d(0xc81)][_0x26546d(0x8a8)],_0x26546d(0x7c1)),assert['ok'](_0x1c6289[_0x26546d(0x118)](_0x26546d(0x4d1)));}),it(_0x24a2f1[_0x150122(0xa95)],async function(){const _0x110aa6=_0x150122,_0x516234=new Schema({'_id':Number,'name':String}),_0x555b9d=_0x27d0e4[_0x110aa6(0x807)](_0x110aa6(0x790),_0x516234),_0x1d318b=new Schema({'nested':{'members':[{'type':Number,'ref':_0x3a1872['VjEbc']}]}}),_0x13c778=new Schema({'_id':Number,'title':String,'teams':[_0x1d318b]}),_0x2cd5c4=_0x27d0e4['model'](_0x110aa6(0x438),_0x13c778);await _0x555b9d[_0x110aa6(0x46d)]({'_id':0x1,'name':_0x3a1872[_0x110aa6(0xd0b)]}),await _0x2cd5c4['collection'][_0x110aa6(0xc9e)]([{'_id':0x2,'title':_0x110aa6(0xbbb),'teams':![]},{'_id':0x3,'title':_0x110aa6(0xa50),'teams':[{'nested':{'members':[0x1]}}]}]);const _0x1ed32b=await _0x2cd5c4['find']()[_0x110aa6(0x22b)]({'_id':0x1})[_0x110aa6(0x2ac)]()[_0x110aa6(0x52a)](_0x110aa6(0x2d2));assert[_0x110aa6(0x672)](_0x1ed32b[0x0][_0x110aa6(0x3c0)],![]),assert[_0x110aa6(0xcbc)](_0x1ed32b[0x1]['teams'][_0x110aa6(0x2a2)],0x1),assert[_0x110aa6(0x829)](_0x1ed32b[0x1][_0x110aa6(0x3c0)][0x0]['nested'][_0x110aa6(0x4cc)][_0x110aa6(0x847)](_0x603dae=>_0x603dae[_0x110aa6(0x8a8)]),[_0x110aa6(0x7c1)]);}),_0x24a2f1[_0x150122(0x1be)](it,_0x24a2f1['sLTse'],async function(){const _0x2f5b2b=_0x150122,_0x1f81e6=new Schema({'roles':[{'roleId':String}]});_0x1f81e6[_0x2f5b2b(0x833)]('roles$',{'ref':_0x24a2f1[_0x2f5b2b(0x4f4)],'localField':'roles.roleId','foreignField':'_id'});const _0x24a68c=new Schema({}),_0x45072a=_0x27d0e4[_0x2f5b2b(0x807)]('Group',_0x1f81e6);_0x27d0e4[_0x2f5b2b(0x807)]('Test',_0x24a68c),await _0x45072a[_0x2f5b2b(0x46d)]({'roles':[]});const _0x534e72=await _0x45072a[_0x2f5b2b(0x3dd)]({})[_0x2f5b2b(0x52a)](_0x2f5b2b(0x106));assert[_0x2f5b2b(0x829)](_0x534e72[_0x2f5b2b(0x106)],[]);}),_0x24a2f1[_0x150122(0xbf4)](it,_0x150122(0xa47),async function(){const _0x32a716=_0x150122,_0x5afcf6={'UfjCb':'User\x202','ybVdo':_0x32a716(0x5ad),'fuEvS':'Woot\x20woot'};if(_0x24a2f1[_0x32a716(0x6b0)](_0x32a716(0x979),_0x24a2f1['kJdtP'])){const _0xcc0f3b={'xQvsn':_0x5afcf6[_0x32a716(0x38a)],'CFuOQ':function(_0x1a7c97){return _0x1a7c97();},'bTXbM':_0x5afcf6[_0x32a716(0x6bc)]};_0xc9e776[_0x32a716(0x127)](_0x967a82),_0x3bc541[_0x32a716(0x46d)]({'title':_0x32a716(0x1a5),'_creator':_0xa2f96e['_id'],'comments':[{'_creator':_0x1db578[_0x32a716(0x534)],'content':_0x5afcf6['fuEvS']},{'_creator':_0x7966d9['_id'],'content':'Wha\x20wha'}]},function(_0xc8823c,_0x134f02){const _0x283aae=_0x32a716;_0x5f508d[_0x283aae(0x127)](_0xc8823c),_0x23f2ef['findById'](_0x134f02[_0x283aae(0x534)])[_0x283aae(0x52a)](_0xcc0f3b['bTXbM'])[_0x283aae(0x52a)]('comments._creator')[_0x283aae(0x37d)](function(_0x175483,_0x34cb55){const _0x30f286=_0x283aae;_0x173ed4[_0x30f286(0x127)](_0x175483),_0x459246[_0x30f286(0xcbc)](_0x34cb55[_0x30f286(0x5ad)][_0x30f286(0x8a8)],_0x30f286(0x7a8)),_0x407068[_0x30f286(0xcbc)](_0x34cb55[_0x30f286(0x83b)][0x0][_0x30f286(0x5ad)][_0x30f286(0x8a8)],_0x30f286(0x7a8)),_0x204bca[_0x30f286(0xcbc)](_0x34cb55['comments'][0x1][_0x30f286(0x5ad)][_0x30f286(0x8a8)],_0xcc0f3b[_0x30f286(0x861)]),_0xcc0f3b[_0x30f286(0xaa0)](_0x2c0c61);});});}else{const _0x356ece=new Schema({'roles':[{'roleId':String}]});_0x356ece[_0x32a716(0x833)](_0x32a716(0x8e3),{'ref':_0x32a716(0x438),'localField':_0x32a716(0x85a),'foreignField':_0x32a716(0x534),'count':!![]});const _0x19cb51=new Schema({}),_0xd56eec=_0x27d0e4[_0x32a716(0x807)](_0x32a716(0x252),_0x356ece);_0x27d0e4[_0x32a716(0x807)](_0x24a2f1[_0x32a716(0x4f4)],_0x19cb51),await _0xd56eec['create']({'roles':[]});const _0x5eaa7a=await _0xd56eec[_0x32a716(0x3dd)]({})['populate'](_0x24a2f1['gdRLr']);assert[_0x32a716(0x672)](_0x5eaa7a['rolesCount'],0x0);}}),_0x24a2f1['FbGoO'](it,_0x150122(0x653),async function(){const _0x5a102a=_0x150122,_0x45f991=_0x27d0e4[_0x5a102a(0x807)](_0x24a2f1[_0x5a102a(0xa5b)],Schema({'name':String})),_0x4b811a=_0x27d0e4[_0x5a102a(0x807)](_0x24a2f1[_0x5a102a(0xb2d)],Schema({'list':[{'fill':{'child':{'type':ObjectId,'ref':_0x5a102a(0x5ee)}}}]})),_0x106e6d=await _0x45f991[_0x5a102a(0x46d)]({'name':_0x24a2f1[_0x5a102a(0xbdd)]}),_0x3d0104=await _0x4b811a['create']({'list':[{'fill':{'child':_0x106e6d[_0x5a102a(0x534)]}}]}),_0x5e9075=await _0x4b811a[_0x5a102a(0x770)](_0x3d0104)['populate'](_0x24a2f1[_0x5a102a(0xd56)]);assert[_0x5a102a(0xcbc)](_0x5e9075[_0x5a102a(0xb47)][_0x5a102a(0x2a2)],0x1),assert[_0x5a102a(0x672)](_0x5e9075[_0x5a102a(0xb47)][0x0]['fill'][_0x5a102a(0xb8f)][_0x5a102a(0x8a8)],_0x24a2f1[_0x5a102a(0xbdd)]);}),it(_0x24a2f1[_0x150122(0xacb)],async function(){const _0xf33d08=_0x150122,_0x4a958e={'RoQro':'alice'};if(_0x3a1872[_0xf33d08(0x2e5)](_0x3a1872['sxqlW'],_0x3a1872[_0xf33d08(0x169)])){_0x1fee7d[_0xf33d08(0x127)](_0xe28727);const _0x5982a4=new _0x1cae6f({'author':_0x4a958e['RoQro'],'body':_0xf33d08(0x8b1)});_0x5982a4[_0xf33d08(0x87f)](function(_0x25ae9f){const _0xd70cc7=_0xf33d08;_0x1aeced[_0xd70cc7(0x127)](_0x25ae9f),_0x238704[_0xd70cc7(0x770)](_0x5982a4['id'])[_0xd70cc7(0x52a)]('author')[_0xd70cc7(0x37d)](function(_0x44278d,_0x230169){const _0x49b592=_0xd70cc7;_0x566dd8[_0x49b592(0x127)](_0x44278d),_0x230169['save'](function(_0x47341b){const _0x301595=_0x49b592;_0x215bcc[_0x301595(0x127)](_0x47341b),_0x57531d();});});});}else{_0x4f5330=await mongoose[_0xf33d08(0x309)](start[_0xf33d08(0x1d4)])[_0xf33d08(0xa34)]();const _0x154c38=new Schema({'title':String}),_0x50b388=new Schema({'title':String}),_0x5d6a2e=new Schema({'name':String,'kind':String,'hobby':{'type':Schema[_0xf33d08(0xc4a)]['ObjectId'],'refPath':_0xf33d08(0x722)}}),_0x191ec4=_0x27d0e4[_0xf33d08(0x807)]('User',_0x5d6a2e),_0x5896bd=_0x4f5330[_0xf33d08(0x807)](_0x3a1872['lluLs'],_0x154c38),_0x21741d=_0x4f5330[_0xf33d08(0x807)](_0x3a1872['Rxrzz'],_0x50b388),_0x3aff9d=await _0x5896bd['create']({'title':_0xf33d08(0x283)}),_0x2b71c3=await _0x21741d[_0xf33d08(0x46d)]({'title':_0xf33d08(0x69c)});await _0x191ec4['create']([{'name':'test1','kind':_0x3a1872[_0xf33d08(0xb7f)],'hobby':_0x3aff9d['_id']},{'name':_0xf33d08(0x112),'kind':_0x3a1872[_0xf33d08(0x8e7)],'hobby':_0x2b71c3[_0xf33d08(0x534)]}]);const _0x17717f=await _0x191ec4['find']()['sort']({'name':0x1})[_0xf33d08(0x52a)]({'path':_0xf33d08(0xb9d),'connection':_0x4f5330});assert[_0xf33d08(0xcbc)](_0x17717f[0x0][_0xf33d08(0xb9d)][_0xf33d08(0x132)],_0x3a1872[_0xf33d08(0x1d0)]),assert[_0xf33d08(0xcbc)](_0x17717f[0x1][_0xf33d08(0xb9d)]['title'],_0x3a1872[_0xf33d08(0x5e4)]);}}),it(_0x24a2f1[_0x150122(0x9b7)],async function(){const _0x5e3477=_0x150122;if(_0x3a1872[_0x5e3477(0x61b)]!==_0x5e3477(0xaf3))_0x315140[_0x5e3477(0x127)](_0x1c6748),_0x3a1872['nrakF'](_0x3c0b22);else{const _0x190d21=new mongoose[(_0x5e3477(0x101))]({'kind':String,'media':{'type':mongoose[_0x5e3477(0x101)][_0x5e3477(0xc4a)][_0x5e3477(0x2ef)],'ref':_0x1858f7=>_0x1858f7['kind']}}),_0x4acb52=_0x27d0e4[_0x5e3477(0x807)](_0x3a1872[_0x5e3477(0x884)],_0x190d21),_0x3e7749=_0x27d0e4['model'](_0x3a1872[_0x5e3477(0x8e7)],new Schema({'name':String})),_0x26a49b=_0x27d0e4[_0x5e3477(0x807)](_0x3a1872[_0x5e3477(0xb7f)],new Schema({'title':String})),_0xb2c54b=await Promise['all']([_0x3e7749[_0x5e3477(0x46d)]({'name':_0x3a1872[_0x5e3477(0x33d)]}),_0x26a49b[_0x5e3477(0x46d)]({'title':'New\x20Jedi\x20Order'})]);await _0x4acb52['create']([{'kind':_0x3a1872[_0x5e3477(0x8e7)],'media':_0xb2c54b[0x0][_0x5e3477(0x534)]},{'kind':_0x5e3477(0xd61),'media':_0xb2c54b[0x1][_0x5e3477(0x534)]}]);const _0x24228e=await _0x4acb52['find']()[_0x5e3477(0x22b)]({'kind':-0x1})['populate'](_0x3a1872[_0x5e3477(0x905)]);assert[_0x5e3477(0xcbc)](_0x24228e[0x0]['kind'],'Movie'),assert[_0x5e3477(0xcbc)](_0x24228e[0x0][_0x5e3477(0xc16)][_0x5e3477(0x8a8)],_0x5e3477(0x5c5)),assert[_0x5e3477(0xcbc)](_0x24228e[0x1][_0x5e3477(0x722)],_0x5e3477(0xd61)),assert[_0x5e3477(0xcbc)](_0x24228e[0x1]['media'][_0x5e3477(0x132)],'New\x20Jedi\x20Order');}}),it(_0x24a2f1[_0x150122(0x234)],async function(){const _0x56ef01=_0x150122,_0x5b7f61=_0x27d0e4[_0x56ef01(0x807)](_0x3a1872[_0x56ef01(0x4cd)],_0x3a1872[_0x56ef01(0x2b8)](Schema,{'name':String,'parentId':Number})),_0x4a8058=_0x3a1872[_0x56ef01(0x1f9)](Schema,{'_id':Number,'kind':String});_0x4a8058[_0x56ef01(0x833)](_0x3a1872[_0x56ef01(0xb2c)],{'refPath':_0x56ef01(0x722),'localField':_0x3a1872[_0x56ef01(0x85c)],'foreignField':_0x3a1872[_0x56ef01(0x707)],'justOne':![]});const _0x2d2d7c=_0x27d0e4[_0x56ef01(0x807)]('Parent',_0x4a8058);await _0x2d2d7c['create']({'_id':0x1,'kind':_0x3a1872['PjqTe']}),await _0x5b7f61[_0x56ef01(0x46d)]({'name':_0x3a1872[_0x56ef01(0x778)],'parentId':0x1});const _0x10f898=await _0x2d2d7c['findOne']()[_0x56ef01(0x52a)](_0x3a1872[_0x56ef01(0xb2c)]);assert[_0x56ef01(0xcbc)](_0x10f898[_0x56ef01(0x18c)]['length'],0x1),assert[_0x56ef01(0xcbc)](_0x10f898['childDocs'][0x0][_0x56ef01(0x8a8)],'test');}),it(_0x150122(0x836),async function(){const _0x3ad9d9=_0x150122,_0x4c5682={'discriminatorKey':'kind'},_0x21fd06=_0x27d0e4[_0x3ad9d9(0x807)](_0x3ad9d9(0x63e),new Schema({'time':Date,'text':String},_0x4c5682)),_0x57fb62=_0x21fd06[_0x3ad9d9(0x65b)](_0x3a1872[_0x3ad9d9(0x884)],new Schema({'media':{'type':Schema['Types'][_0x3ad9d9(0x2ef)],'refPath':_0x3a1872[_0x3ad9d9(0x7f8)]},'mediaType':String},_0x4c5682)),_0xd2f237=_0x27d0e4[_0x3ad9d9(0x807)](_0x3a1872[_0x3ad9d9(0x7f5)],new Schema({'url':String})),_0x103932=_0x27d0e4[_0x3ad9d9(0x807)](_0x3a1872[_0x3ad9d9(0x908)],new Schema({'url':String,'duration':Number})),_0x191841=await _0xd2f237['create']({'url':_0x3ad9d9(0xc20)}),_0x1ae08d=await _0x103932[_0x3ad9d9(0x46d)]({'url':_0x3ad9d9(0x7c1),'duration':0x2a});await _0x57fb62[_0x3ad9d9(0x46d)]([{'media':_0x191841['_id'],'mediaType':_0x3ad9d9(0x856)},{'media':_0x1ae08d[_0x3ad9d9(0x534)],'mediaType':_0x3ad9d9(0x138)}]);const _0x3f595e=await _0x21fd06[_0x3ad9d9(0xc77)]()[_0x3ad9d9(0x52a)]('media')['sort']({'mediaType':0x1});assert[_0x3ad9d9(0xcbc)](_0x3f595e[_0x3ad9d9(0x2a2)],0x2),assert['ok'](_0x3f595e[0x0]['populated'](_0x3a1872[_0x3ad9d9(0x905)])),assert['ok'](_0x3f595e[0x1][_0x3ad9d9(0x118)]('media')),assert[_0x3ad9d9(0xcbc)](_0x3f595e[0x0][_0x3ad9d9(0xc16)][_0x3ad9d9(0x589)],_0x3ad9d9(0xc20)),assert['equal'](_0x3f595e[0x1][_0x3ad9d9(0xc16)][_0x3ad9d9(0x589)],_0x3a1872[_0x3ad9d9(0xd0b)]),assert[_0x3ad9d9(0xcbc)](_0x3f595e[0x1][_0x3ad9d9(0xc16)]['duration'],0x2a);}),it(_0x150122(0x4d4),async function(){const _0x12b881=_0x150122,_0x555bcc={'discriminatorKey':_0x24a2f1['HPRzJ']},_0x15872b=new Schema({'media':{'type':Schema['Types'][_0x12b881(0x2ef)],'refPath':_0x12b881(0x54e)},'_mediaType':String},_0x555bcc);_0x15872b[_0x12b881(0x833)](_0x24a2f1[_0x12b881(0xd53)])[_0x12b881(0x4e7)](function(){const _0x383cb3=_0x12b881;return this[_0x383cb3(0xa28)];});const _0x6fc37=_0x27d0e4[_0x12b881(0x807)](_0x12b881(0x63e),_0x15872b),_0xee2ca4=_0x27d0e4[_0x12b881(0x807)]('Image',new Schema({'url':String})),_0xc9464a=_0x27d0e4[_0x12b881(0x807)](_0x12b881(0x138),new Schema({'url':String,'duration':Number})),_0xa0a156=await _0xee2ca4[_0x12b881(0x46d)]({'url':_0x12b881(0xc20)}),_0x416ec9=await _0xc9464a[_0x12b881(0x46d)]({'url':_0x24a2f1[_0x12b881(0x7f9)],'duration':0x2a});await _0x6fc37['create']([{'media':_0xa0a156['_id'],'_mediaType':_0x12b881(0x856)},{'media':_0x416ec9[_0x12b881(0x534)],'_mediaType':_0x12b881(0x138)}]);const _0x4c0587=await _0x6fc37[_0x12b881(0xc77)]()[_0x12b881(0x52a)](_0x24a2f1['IirsS'])[_0x12b881(0x22b)]({'_mediaType':0x1});assert['ok'](_0x4c0587[0x0][_0x12b881(0x118)](_0x12b881(0xc16))),assert['ok'](_0x4c0587[0x1][_0x12b881(0x118)](_0x24a2f1[_0x12b881(0xbb8)])),assert[_0x12b881(0xcbc)](_0x4c0587[0x0][_0x12b881(0xc16)][_0x12b881(0x589)],_0x12b881(0xc20)),assert[_0x12b881(0xcbc)](_0x4c0587[0x1][_0x12b881(0xc16)]['url'],_0x12b881(0x7c1)),assert['equal'](_0x4c0587[0x1]['media'][_0x12b881(0x3bc)],0x2a);}),it('count\x20with\x20subdocs\x20(gh-7573)',async function(){const _0x11ef95=_0x150122,_0x1a85e1=Schema({'name':String}),_0x548136=Schema({'name':String,'developers':[_0x1a85e1]}),_0x2ce720=_0x3a1872[_0x11ef95(0x2b8)](Schema,{'assigned':String,'description':String});_0x1a85e1[_0x11ef95(0x833)](_0x3a1872[_0x11ef95(0xc88)],{'ref':_0x3a1872['WIkZt'],'localField':_0x3a1872['OTVED'],'foreignField':_0x3a1872[_0x11ef95(0x8da)],'count':!![]});const _0x35e9e7=_0x27d0e4[_0x11ef95(0x807)](_0x3a1872[_0x11ef95(0x884)],_0x2ce720),_0x5c4096=_0x27d0e4[_0x11ef95(0x807)](_0x3a1872[_0x11ef95(0x97b)],_0x548136);await _0x5c4096[_0x11ef95(0x46d)]({'name':_0x3a1872[_0x11ef95(0xbb5)],'developers':[{'name':_0x3a1872[_0x11ef95(0xbaa)]},{'name':_0x3a1872[_0x11ef95(0x92b)]},{'name':_0x3a1872[_0x11ef95(0x369)]}]}),await _0x35e9e7[_0x11ef95(0x46d)]([{'assigned':_0x3a1872[_0x11ef95(0xbaa)],'description':_0x11ef95(0x165)},{'assigned':_0x3a1872[_0x11ef95(0x92b)],'description':_0x3a1872['FjSDF']},{'assigned':_0x3a1872[_0x11ef95(0xbaa)],'description':_0x11ef95(0xd3b)}]);const _0x216091=await _0x5c4096['findOne']()[_0x11ef95(0x52a)](_0x3a1872['iVKAJ']);assert[_0x11ef95(0xcbc)](_0x216091[_0x11ef95(0xd9)][0x0][_0x11ef95(0xd28)],0x2),assert['equal'](_0x216091[_0x11ef95(0xd9)][0x1]['ticketCount'],0x1),assert[_0x11ef95(0xcbc)](_0x216091[_0x11ef95(0xd9)][0x2]['ticketCount'],0x0);}),_0x24a2f1[_0x150122(0x359)](it,_0x150122(0x402),async function(){const _0x2d79be=_0x150122,_0xbb6a=Schema({'content':String,'replies':[{'type':_0x3a1872[_0x2d79be(0xd2)],'ref':_0x2d79be(0x39a)}]});_0xbb6a[_0x2d79be(0x833)](_0x3a1872[_0x2d79be(0x6d9)],{'ref':_0x3a1872['Igzpm'],'localField':_0x3a1872['jClQY'],'foreignField':_0x3a1872[_0x2d79be(0x373)],'justOne':![],'count':!![],'match':{'reportType':_0x2d79be(0x39a)}});const _0x2340f4=_0x3a1872['DTTdN'](Schema,{'reportType':String,'reportModel':_0x3a1872['mZvDC']}),_0x3b6421=_0x27d0e4[_0x2d79be(0x807)](_0x3a1872['xpAXb'],_0xbb6a),_0x254aba=_0x27d0e4['model'](_0x3a1872['Igzpm'],_0x2340f4),_0x496db0=await _0x3b6421['create']({'content':_0x2d79be(0xab9)}),_0x74d783=await _0x3b6421['create']({'content':_0x3a1872[_0x2d79be(0x6e8)]}),_0x3b36fb=await _0x3b6421[_0x2d79be(0x46d)]({'content':_0x3a1872[_0x2d79be(0xb13)]});_0x496db0['replies']=[_0x74d783,_0x3b36fb],await _0x496db0['save'](),await _0x254aba['create']([{'reportType':'Comment','reportModel':_0x74d783['_id']},{'reportType':'Comment','reportModel':_0x74d783[_0x2d79be(0x534)]},{'reportType':_0x2d79be(0x39a),'reportModel':_0x3b36fb[_0x2d79be(0x534)]},{'reportType':_0x3a1872[_0x2d79be(0x6e0)],'reportModel':_0x3b36fb[_0x2d79be(0x534)]}]);let _0x1c537b;_0x1c537b=await _0x3b6421[_0x2d79be(0x3dd)]({'_id':_0x496db0['_id']})[_0x2d79be(0x52a)](_0x3a1872[_0x2d79be(0x6d9)]),assert[_0x2d79be(0x61a)](_0x1c537b['reportReplyCount'],[0x2,0x1]),await _0x254aba['deleteMany']({'reportModel':_0x3b36fb[_0x2d79be(0x534)]}),_0x1c537b=await _0x3b6421['findOne']({'_id':_0x496db0['_id']})[_0x2d79be(0x52a)](_0x3a1872['rMIwO']),assert[_0x2d79be(0x61a)](_0x1c537b[_0x2d79be(0x24a)],[0x2,0x0]),await _0x254aba[_0x2d79be(0xce3)]({}),_0x1c537b=await _0x3b6421[_0x2d79be(0x3dd)]({'_id':_0x496db0[_0x2d79be(0x534)]})[_0x2d79be(0x52a)](_0x3a1872[_0x2d79be(0x6d9)]),assert[_0x2d79be(0x61a)](_0x1c537b[_0x2d79be(0x24a)],[0x0,0x0]);}),_0x24a2f1[_0x150122(0xd44)](it,_0x150122(0x6f3),async function(){const _0x251dd4=_0x150122,_0x5a954e=_0x27d0e4[_0x251dd4(0x807)](_0x24a2f1[_0x251dd4(0x840)],_0x24a2f1[_0x251dd4(0xa54)](Schema,{'employeeId':Number,'name':String})),_0x24c41c=_0x24a2f1[_0x251dd4(0x1c5)](Schema,{'message':String},{'discriminatorKey':_0x24a2f1[_0x251dd4(0x16c)]}),_0x51e7e4=_0x24a2f1[_0x251dd4(0xa3f)](Schema,{'nested':{'events':[_0x24c41c]}}),_0x373e67=_0x24a2f1[_0x251dd4(0x990)](Schema,{'users':[Number]});_0x373e67[_0x251dd4(0x833)](_0x251dd4(0x2db),{'ref':_0x251dd4(0x11f),'localField':_0x251dd4(0x287),'foreignField':_0x24a2f1[_0x251dd4(0x812)]});const _0x1cd983=_0x51e7e4[_0x251dd4(0x2c8)](_0x251dd4(0xaa8));_0x1cd983[_0x251dd4(0x65b)]('Clicked',Schema({'nestedLayer':_0x373e67})),_0x1cd983[_0x251dd4(0x65b)](_0x251dd4(0xd5f),_0x24a2f1[_0x251dd4(0x542)](Schema,{'purchased':String}));const _0x4fe86e=_0x27d0e4[_0x251dd4(0x807)](_0x251dd4(0x438),_0x51e7e4);await _0x5a954e[_0x251dd4(0x46d)]({'employeeId':0x1,'name':_0x24a2f1[_0x251dd4(0xbdd)]}),await _0x4fe86e['create']({'nested':{'events':[{'kind':'Clicked','nestedLayer':{'users':[0x1]}},{'kind':_0x251dd4(0xd5f),'purchased':_0x24a2f1[_0x251dd4(0xbdd)]}]}});let _0x5753ec=await _0x4fe86e[_0x251dd4(0x3dd)]()['populate'](_0x24a2f1[_0x251dd4(0x9af)]);assert[_0x251dd4(0xcbc)](_0x5753ec[_0x251dd4(0xa36)][_0x251dd4(0x476)][0x0][_0x251dd4(0x68b)]['users_$'][_0x251dd4(0x2a2)],0x1),assert[_0x251dd4(0xcbc)](_0x5753ec[_0x251dd4(0xa36)][_0x251dd4(0x476)][0x0]['nestedLayer'][_0x251dd4(0x2db)][0x0][_0x251dd4(0x8a8)],_0x251dd4(0xc20)),_0x5753ec=_0x5753ec['toObject']({'virtuals':!![]}),assert[_0x251dd4(0xcbc)](_0x5753ec[_0x251dd4(0xa36)][_0x251dd4(0x476)][0x0][_0x251dd4(0x68b)][_0x251dd4(0x2db)][_0x251dd4(0x2a2)],0x1),assert['equal'](_0x5753ec[_0x251dd4(0xa36)][_0x251dd4(0x476)][0x0][_0x251dd4(0x68b)][_0x251dd4(0x2db)][0x0]['name'],_0x24a2f1['aVADN']);}),it(_0x150122(0x358),async function(){const _0x471334=_0x150122,_0x467f83=new Schema({'name':String,'children':[{'barId':{'type':Schema[_0x471334(0xc4a)]['ObjectId'],'ref':_0x471334(0x438)},'quantity':Number}]});_0x467f83[_0x471334(0x833)](_0x24a2f1[_0x471334(0x14a)],{'ref':_0x24a2f1[_0x471334(0x4f4)],'localField':_0x24a2f1[_0x471334(0x510)],'foreignField':_0x471334(0x534),'justOne':!![]});const _0x14a706=Schema({'name':String}),_0x1fd003=_0x27d0e4[_0x471334(0x807)](_0x24a2f1[_0x471334(0x43a)],_0x467f83),_0x2cb80e=_0x27d0e4['model'](_0x24a2f1['TJhCc'],_0x14a706),_0x1fce31=await _0x2cb80e[_0x471334(0x46d)]({'name':_0x24a2f1[_0x471334(0x2c7)]}),_0x1c718a=await _0x1fd003[_0x471334(0x46d)]({'name':_0x471334(0x7c1),'children':[{'barId':_0x1fce31[_0x471334(0x534)],'quantity':0x1}]}),_0x2bfc40=await _0x1fd003[_0x471334(0x770)](_0x1c718a[_0x471334(0x534)])[_0x471334(0x52a)](_0x471334(0x859));assert[_0x471334(0xcbc)](_0x2bfc40[_0x471334(0x703)][0x0][_0x471334(0x48d)]['name'],_0x471334(0x48d));}),describe(_0x24a2f1[_0x150122(0x418)],function(){const _0x420480=_0x150122,_0x4b9109={'YJwoB':_0x420480(0x6ff),'xPtvR':_0x24a2f1[_0x420480(0x75c)],'Vedoy':_0x420480(0x112),'pmnrx':function(_0xb95177,_0x4b863e){return _0xb95177(_0x4b863e);},'tLODQ':_0x24a2f1['TJhCc'],'gMKxt':'Team','jBLQa':_0x420480(0x18f),'tOjiY':_0x24a2f1[_0x420480(0x517)],'fUzTs':'_id','ZDGKb':'main','xnbZn':_0x420480(0xc20),'gIOza':_0x420480(0x724)};let _0x176189,_0x5a4a83;_0x24a2f1[_0x420480(0xa54)](beforeEach,function(){const _0x49538a=_0x420480,_0x3f8ddf=Schema({'name':String}),_0x24f96d=Schema({'author':{'type':Schema['Types'][_0x49538a(0x2ef)],'ref':'Author'},'comment':String}),_0x364ff4=_0x3a1872[_0x49538a(0xbb1)](Schema,{'title':String,'comments':[_0x24f96d]});_0x176189=_0x27d0e4[_0x49538a(0x807)](_0x49538a(0xa7d),_0x3f8ddf),_0x5a4a83=_0x27d0e4[_0x49538a(0x807)](_0x3a1872[_0x49538a(0x884)],_0x364ff4);}),_0x24a2f1['tLguq'](beforeEach,async()=>{const _0x1e1d18=_0x420480;await _0x176189[_0x1e1d18(0xce3)]({}),await _0x5a4a83[_0x1e1d18(0xce3)]({});}),_0x24a2f1[_0x420480(0x533)](it,_0x24a2f1['JGRCj'],async function(){const _0x5ea6b9=_0x420480,_0x553697=await _0x176189[_0x5ea6b9(0x46d)]({'name':_0x5ea6b9(0x8ef)});await _0x5a4a83['create']({'comments':[{'author':_0x553697[_0x5ea6b9(0x534)]}]});const _0x379ffe=await _0x5a4a83[_0x5ea6b9(0x3dd)]()[_0x5ea6b9(0x52a)](_0x5ea6b9(0x6ff));assert['ok'](Array[_0x5ea6b9(0x809)](_0x379ffe[_0x5ea6b9(0x118)](_0x4b9109[_0x5ea6b9(0xd38)]))),assert[_0x5ea6b9(0xcbc)](_0x379ffe['populated'](_0x4b9109[_0x5ea6b9(0xd38)])[_0x5ea6b9(0x2a2)],0x1),assert[_0x5ea6b9(0xcbc)](_0x379ffe['comments'][0x0][_0x5ea6b9(0xc78)][_0x5ea6b9(0x8a8)],_0x4b9109[_0x5ea6b9(0xaa2)]),assert['ok'](_0x379ffe[_0x5ea6b9(0x83b)][0x0]['populated'](_0x5ea6b9(0xc78)));}),it(_0x24a2f1[_0x420480(0x115)],async function(){const _0x314970=_0x420480,_0x307be0=await _0x176189[_0x314970(0x46d)]([{'name':'test1'},{'name':_0x4b9109['Vedoy']}]);await _0x5a4a83['create']({'comments':[{'author':_0x307be0[0x0][_0x314970(0x534)]}]});let _0x525477=await _0x5a4a83[_0x314970(0x3dd)]()['populate'](_0x314970(0x6ff));assert['ok'](Array[_0x314970(0x809)](_0x525477['populated'](_0x314970(0x6ff)))),assert[_0x314970(0xcbc)](_0x525477[_0x314970(0x118)](_0x314970(0x6ff))[_0x314970(0x2a2)],0x1),assert[_0x314970(0xcbc)](_0x525477[_0x314970(0x83b)][0x0][_0x314970(0xc78)][_0x314970(0x8a8)],_0x314970(0x165)),_0x525477[_0x314970(0x83b)][_0x314970(0x2d6)]({'author':_0x307be0[0x1][_0x314970(0x534)]});let _0x25c9c7=_0x525477[_0x314970(0x118)](_0x4b9109['YJwoB']);assert[_0x314970(0xcbc)](_0x25c9c7[_0x314970(0x2a2)],0x2),assert[_0x314970(0xcbc)](_0x25c9c7[0x0][_0x314970(0x11d)](),_0x307be0[0x0]['_id']['toHexString']()),assert[_0x314970(0xcbc)](_0x25c9c7[0x1],null),_0x525477[_0x314970(0x83b)][_0x314970(0x47c)]({'_id':_0x525477[_0x314970(0x83b)][0x1][_0x314970(0x534)]}),_0x25c9c7=_0x525477[_0x314970(0x118)](_0x4b9109['YJwoB']),assert[_0x314970(0xcbc)](_0x25c9c7['length'],0x1),_0x525477[_0x314970(0x83b)][_0x314970(0xb7a)](),_0x25c9c7=_0x525477['populated'](_0x4b9109[_0x314970(0xd38)]),assert[_0x314970(0xcbc)](_0x25c9c7[_0x314970(0x2a2)],0x0),_0x525477=await _0x5a4a83['findOne']()[_0x314970(0x52a)](_0x314970(0x6ff)),assert['ok'](Array[_0x314970(0x809)](_0x525477[_0x314970(0x118)](_0x4b9109['YJwoB']))),assert[_0x314970(0xcbc)](_0x525477['populated'](_0x314970(0x6ff))[_0x314970(0x2a2)],0x1),assert[_0x314970(0xcbc)](_0x525477['comments'][0x0]['author'][_0x314970(0x8a8)],_0x314970(0x165)),_0x525477[_0x314970(0x83b)][_0x314970(0x2d6)]({'author':_0x307be0[0x1]}),_0x25c9c7=_0x525477[_0x314970(0x118)]('comments.author'),assert[_0x314970(0xcbc)](_0x25c9c7[_0x314970(0x2a2)],0x2),_0x525477[_0x314970(0x83b)][_0x314970(0x60d)](0x1,0x1),_0x25c9c7=_0x525477[_0x314970(0x118)](_0x4b9109['YJwoB']),assert[_0x314970(0xcbc)](_0x25c9c7[_0x314970(0x2a2)],0x1);}),_0x24a2f1['ZEhsi'](it,_0x420480(0x543),async function(){const _0x249fe2=_0x420480;_0x27d0e4['deleteModel'](/Test/);const _0xd9d72f=_0x4b9109[_0x249fe2(0x692)](Schema,{'troops':[{'type':Number,'ref':_0x4b9109[_0x249fe2(0x6ea)]}]}),_0x486647=_0x27d0e4[_0x249fe2(0x807)](_0x4b9109[_0x249fe2(0x8b0)],_0xd9d72f),_0x1b3b69=_0x27d0e4[_0x249fe2(0x807)](_0x4b9109['tLODQ'],_0x4b9109['pmnrx'](Schema,{'_id':{'type':Number},'name':String,'entityType':{'type':String}}));await _0x1b3b69[_0x249fe2(0x46d)]([{'_id':0x2,'name':_0x4b9109[_0x249fe2(0xc66)]},{'_id':0x3,'name':_0x4b9109[_0x249fe2(0x718)]},{'_id':0x4,'name':_0x249fe2(0xc96)}]),await _0x486647[_0x249fe2(0x46d)]({'troops':[0x1,0x2,0x3,0x4]});const _0x4d8b8f=await _0x486647[_0x249fe2(0x3dd)]()[_0x249fe2(0x52a)]({'path':_0x249fe2(0xb1e),'options':{'retainNullValues':!![]}});assert['equal'](_0x4d8b8f[_0x249fe2(0xb1e)][_0x249fe2(0x2a2)],0x4),assert[_0x249fe2(0xcbc)](_0x4d8b8f['troops'][0x0],null),assert[_0x249fe2(0xcbc)](_0x4d8b8f['troops'][0x1][_0x249fe2(0x8a8)],_0x4b9109[_0x249fe2(0xc66)]),assert[_0x249fe2(0xcbc)](_0x4d8b8f[_0x249fe2(0xb1e)][0x2][_0x249fe2(0x8a8)],_0x4b9109['tOjiY']),assert[_0x249fe2(0xcbc)](_0x4d8b8f[_0x249fe2(0xb1e)][0x3][_0x249fe2(0x8a8)],'Card\x204');}),it(_0x24a2f1[_0x420480(0x131)],async function(){const _0x312a43=_0x420480;_0x27d0e4[_0x312a43(0x530)](/Test/);const _0xd9eacb=new Schema({'title':{'type':String}},{'discriminatorKey':_0x312a43(0x525)});_0xd9eacb[_0x312a43(0x833)](_0x312a43(0x724),{'ref':_0x312a43(0x256),'localField':_0x4b9109[_0x312a43(0xcc9)],'foreignField':_0x4b9109[_0x312a43(0x9ac)]});const _0x5157ef=new Schema({'description':String}),_0x318e61=_0x27d0e4[_0x312a43(0x807)]('Test',_0xd9eacb),_0x320e83=_0x318e61[_0x312a43(0x65b)](_0x312a43(0x9c2),_0x5157ef,_0x312a43(0x65f)),_0x4925f3=_0x27d0e4['model'](_0x312a43(0x256),_0x4b9109[_0x312a43(0x692)](Schema,{'main':_0x312a43(0x2ef)})),_0x5d6a2f=await _0x320e83[_0x312a43(0x46d)]({'title':_0x4b9109[_0x312a43(0x481)],'description':_0x4b9109[_0x312a43(0x481)]});await _0x4925f3[_0x312a43(0x46d)]({'main':_0x5d6a2f[_0x312a43(0x534)]});const _0x13861a=await _0x318e61[_0x312a43(0xc77)]()[_0x312a43(0x52a)](_0x4b9109['gIOza'])[_0x312a43(0x37d)]();assert['ok'](_0x13861a[0x0][_0x312a43(0x724)][0x0][_0x312a43(0x955)]);}),_0x24a2f1[_0x420480(0x717)](it,_0x24a2f1[_0x420480(0x75a)],async function(){const _0x42f855=_0x420480,_0x5da5bb=Schema({'locationId':String,'departmentId':String,'name':String});_0x5da5bb['virtual']('department',{'ref':'Test','localField':[_0x3a1872['UztiN'],_0x3a1872[_0x42f855(0xa00)]],'foreignField':[_0x3a1872[_0x42f855(0xb8d)],'name'],'justOne':!![]}),_0x5da5bb['virtual'](_0x3a1872[_0x42f855(0x8fd)],{'ref':_0x3a1872[_0x42f855(0x884)],'localField':[_0x42f855(0x1fb),_0x3a1872['vFvJt']],'foreignField':[_0x42f855(0x1fb),_0x3a1872[_0x42f855(0x7ed)]],'justOne':![]});const _0x44f99c=_0x3a1872[_0x42f855(0xd64)](Schema,{'locationId':String,'name':String});_0x27d0e4['deleteModel'](/Test/);const _0x48c660=_0x27d0e4[_0x42f855(0x807)](_0x42f855(0x790),_0x5da5bb),_0x48a8df=_0x27d0e4[_0x42f855(0x807)](_0x42f855(0x438),_0x44f99c);await _0x48c660['create']([{'locationId':_0x3a1872['TmOQz'],'departmentId':'Engineering','name':_0x42f855(0x70c)},{'locationId':_0x42f855(0xb71),'departmentId':_0x42f855(0x834),'name':_0x42f855(0xb80)},{'locationId':_0x3a1872[_0x42f855(0xb31)],'departmentId':_0x42f855(0x34a),'name':'Test\x202'}]);const _0x52f63f=await _0x48a8df[_0x42f855(0x46d)]([{'locationId':_0x3a1872['TmOQz'],'name':_0x42f855(0x34a)},{'locationId':_0x3a1872[_0x42f855(0x97e)],'name':_0x3a1872[_0x42f855(0x374)]},{'locationId':'New\x20York','name':_0x3a1872[_0x42f855(0x90e)]}]),_0x3bb7c5=_0x52f63f[0x0],_0x5f3bec=await _0x48c660[_0x42f855(0x3dd)]({'name':_0x42f855(0x70c)})['populate']('department\x20departments');assert[_0x42f855(0xcbc)](_0x5f3bec[_0x42f855(0x4b1)]['_id']['toHexString'](),_0x3bb7c5[_0x42f855(0x534)][_0x42f855(0x11d)]()),assert[_0x42f855(0xcbc)](_0x5f3bec[_0x42f855(0x4b1)][_0x42f855(0x8a8)],_0x42f855(0x34a)),assert['equal'](_0x5f3bec[_0x42f855(0x4a0)][_0x42f855(0x2a2)],0x1),assert[_0x42f855(0xcbc)](_0x5f3bec[_0x42f855(0x4a0)][0x0][_0x42f855(0x534)][_0x42f855(0x11d)](),_0x3bb7c5[_0x42f855(0x534)]['toHexString']()),assert[_0x42f855(0xcbc)](_0x5f3bec[_0x42f855(0x4a0)][0x0]['name'],_0x42f855(0x34a));const _0x4fdee1=await _0x48c660[_0x42f855(0xc77)]()[_0x42f855(0x22b)]({'name':0x1})[_0x42f855(0x52a)](_0x42f855(0x4b1));assert[_0x42f855(0xcbc)](_0x4fdee1[_0x42f855(0x2a2)],0x3),assert[_0x42f855(0xcbc)](_0x4fdee1[0x0][_0x42f855(0x4b1)]['name'],_0x3a1872[_0x42f855(0x374)]),assert[_0x42f855(0xcbc)](_0x4fdee1[0x0][_0x42f855(0x4b1)][_0x42f855(0x1fb)],_0x3a1872[_0x42f855(0x97e)]),assert[_0x42f855(0xcbc)](_0x4fdee1[0x1]['department'][_0x42f855(0x8a8)],_0x3a1872['pHxBm']),assert['equal'](_0x4fdee1[0x1]['department'][_0x42f855(0x1fb)],_0x42f855(0x2bc)),assert[_0x42f855(0xcbc)](_0x4fdee1[0x2][_0x42f855(0x4b1)]['name'],_0x3a1872['pHxBm']),assert[_0x42f855(0xcbc)](_0x4fdee1[0x2][_0x42f855(0x4b1)][_0x42f855(0x1fb)],_0x3a1872['TmOQz']);});}),_0x24a2f1[_0x150122(0x5ff)](it,_0x150122(0x3fd),async function(){const _0x3e1962=_0x150122,_0x27cf37=new mongoose[(_0x3e1962(0x101))]({'name':String}),_0x242526=_0x27d0e4[_0x3e1962(0x807)](_0x24a2f1[_0x3e1962(0x4f4)],_0x27cf37),_0x41bd9b=new mongoose[(_0x3e1962(0x101))]({'fullName':String,'companyId':{'type':mongoose[_0x3e1962(0x2ef)],'ref':_0x24a2f1[_0x3e1962(0x4f4)]}}),_0x571a7f=_0x27d0e4[_0x3e1962(0x807)](_0x3e1962(0x11f),_0x41bd9b),_0x3122fe=new mongoose[(_0x3e1962(0x101))]({'_id':String,'uploaderId':{'type':mongoose[_0x3e1962(0x2ef)],'ref':'User'}},{'toObject':{'virtuals':!![]},'toJSON':{'virtuals':!![]}});_0x3122fe[_0x3e1962(0x833)](_0x3e1962(0xd2e),{'ref':_0x24a2f1['pGlZv'],'localField':_0x24a2f1['VLwHb'],'foreignField':_0x3e1962(0x534),'justOne':!![]});const _0x596552=new mongoose[(_0x3e1962(0x101))]({'title':String,'files':{'type':[_0x3122fe],'default':[]}},{'toObject':{'virtuals':!![]},'toJSON':{'virtuals':!![]}}),_0x22fa96=_0x27d0e4[_0x3e1962(0x807)](_0x24a2f1[_0x3e1962(0x43a)],_0x596552),_0x2557c5=await _0x242526[_0x3e1962(0x46d)]({'name':_0x3e1962(0xc5d)}),_0x46237b=await _0x571a7f[_0x3e1962(0x46d)]({'fullName':_0x3e1962(0x7a6),'companyId':_0x2557c5[_0x3e1962(0x534)]});await _0x22fa96[_0x3e1962(0x46d)]([{'title':_0x3e1962(0xc05)},{'title':_0x3e1962(0x3ac),'files':[{'_id':'123','uploaderId':_0x46237b[_0x3e1962(0x534)]}]}]),await _0x22fa96[_0x3e1962(0x296)]({},{'$unset':{'files':0x1}});const _0x5bd28b=await _0x22fa96[_0x3e1962(0xc77)]({})[_0x3e1962(0x52a)]({'path':_0x3e1962(0x585),'justOne':!![],'populate':{'path':_0x3e1962(0x970),'justOne':!![]}});assert[_0x3e1962(0x829)](_0x5bd28b[0x0][_0x3e1962(0x8de)],[]),assert[_0x3e1962(0x829)](_0x5bd28b[0x1][_0x3e1962(0x8de)],[]);}),it('sets\x20empty\x20array\x20if\x20populating\x20undefined\x20path\x20(gh-8455)',async function(){const _0x4d7cca=_0x150122,_0x1e4785=new Schema({'thingIds':[mongoose[_0x4d7cca(0x2ef)]]});_0x1e4785['virtual'](_0x24a2f1['csQnn'],{'ref':_0x4d7cca(0x256),'localField':_0x24a2f1['GShiL'],'foreignField':_0x24a2f1[_0x4d7cca(0x661)],'justOne':![]});const _0x311180=_0x27d0e4['model'](_0x24a2f1[_0x4d7cca(0x4f4)],_0x1e4785);_0x27d0e4['model'](_0x24a2f1[_0x4d7cca(0x43a)],mongoose[_0x4d7cca(0x101)]({'name':String})),await _0x311180[_0x4d7cca(0x655)][_0x4d7cca(0x5d2)]({});const _0x5e741b=await _0x311180[_0x4d7cca(0x3dd)]()[_0x4d7cca(0x52a)](_0x4d7cca(0x6df));assert[_0x4d7cca(0x829)](_0x5e741b['toObject']({'virtuals':!![]})[_0x4d7cca(0x6df)],[]);}),it(_0x24a2f1['geslQ'],async function(){const _0x5e29d3=_0x150122,_0x2ecdf6=Schema({'imageName':String}),_0x42eb71=_0x27d0e4['model']('Image',_0x2ecdf6),_0x54362e=Schema({'textName':String}),_0xf5f798=_0x27d0e4[_0x5e29d3(0x807)](_0x24a2f1[_0x5e29d3(0x826)],_0x54362e),_0x1c7568={'_id':![]},_0x1d5ef9=_0x24a2f1['SDUPX'](Schema,{'objectType':String},_0x1c7568),_0xaea04c=Schema({'data':{'type':ObjectId,'refPath':_0x5e29d3(0xc15)},'objectType':String},_0x1c7568),_0x42766d=_0x24a2f1[_0x5e29d3(0xd1a)](Schema,{'data':{'sourceId':Number},'objectType':String},_0x1c7568),_0x3dbbcf=Schema({'test':String,'list':[_0x1d5ef9]});_0x3dbbcf[_0x5e29d3(0x2c8)](_0x5e29d3(0xb47))['discriminator'](_0x5e29d3(0x537),_0xaea04c),_0x3dbbcf[_0x5e29d3(0x2c8)](_0x24a2f1[_0x5e29d3(0x4e1)])[_0x5e29d3(0x65b)](_0x5e29d3(0x54c),_0x42766d);const _0x5f2c86=_0x27d0e4[_0x5e29d3(0x807)](_0x24a2f1[_0x5e29d3(0x4f4)],_0x3dbbcf),_0x5c03a9=await _0x42eb71[_0x5e29d3(0x46d)]([{'imageName':_0x5e29d3(0x837)},{'imageName':_0x5e29d3(0xa14)}]),_0x3db3e4=await _0xf5f798['create']({'textName':'text'});await _0x5f2c86[_0x5e29d3(0x46d)]({'test':'02','list':[{'__t':_0x24a2f1[_0x5e29d3(0x4ef)],'data':_0x5c03a9[0x0]['_id'],'objectType':_0x24a2f1[_0x5e29d3(0xdd)]},{'__t':_0x24a2f1[_0x5e29d3(0x4ef)],'data':_0x3db3e4[_0x5e29d3(0x534)],'objectType':_0x5e29d3(0x63e)},{'__t':_0x24a2f1['VFRiJ'],'data':{'sourceId':0x7b},'objectType':_0x5e29d3(0x70f)},{'__t':'gh8452_ExtendA','data':_0x5c03a9[0x1][_0x5e29d3(0x534)],'objectType':_0x5e29d3(0x856)},{'__t':_0x5e29d3(0x54c),'data':{'sourceId':0x1c8},'objectType':_0x5e29d3(0xb62)}]});const _0x39827f=await _0x5f2c86[_0x5e29d3(0x3dd)]()[_0x5e29d3(0x52a)](_0x24a2f1[_0x5e29d3(0x59d)])[_0x5e29d3(0x2ac)]();assert['equal'](_0x39827f[_0x5e29d3(0xb47)][0x0][_0x5e29d3(0x139)][_0x5e29d3(0x277)],_0x24a2f1[_0x5e29d3(0x891)]),assert[_0x5e29d3(0xcbc)](_0x39827f[_0x5e29d3(0xb47)][0x1][_0x5e29d3(0x139)][_0x5e29d3(0x289)],_0x5e29d3(0x47d)),assert['equal'](_0x39827f['list'][0x2][_0x5e29d3(0x139)]['sourceId'],0x7b),assert['equal'](_0x39827f[_0x5e29d3(0xb47)][0x3][_0x5e29d3(0x139)][_0x5e29d3(0x277)],_0x24a2f1['CmNYu']),assert[_0x5e29d3(0xcbc)](_0x39827f[_0x5e29d3(0xb47)][0x4][_0x5e29d3(0x139)]['sourceId'],0x1c8);}),_0x24a2f1[_0x150122(0xa7e)](it,'excluding\x20foreignField\x20using\x20minus\x20path\x20deselects\x20foreignField\x20(gh-8460)',async function(){const _0x3155a6=_0x150122;if(_0x3a1872[_0x3155a6(0x943)](_0x3155a6(0x64b),_0x3155a6(0x126))){const _0x1eaabe=_0x3155a6(0x44b)[_0x3155a6(0x3a7)]('|');let _0x3b3f11=0x0;while(!![]){switch(_0x1eaabe[_0x3b3f11++]){case'0':_0x330246['equal'](_0x51297b[0x1][_0x3155a6(0xb8b)][0x1]['email'],_0x3155a6(0x96f));continue;case'1':_0x119bbb[_0x3155a6(0xcbc)](typeof _0x1d0e40[0x0][_0x3155a6(0xb8b)][0x0][_0x3155a6(0x584)],_0x3a1872[_0x3155a6(0xc0d)]);continue;case'2':_0x1b77f0['ifError'](_0xcfc77);continue;case'3':_0x1dc188[_0x3155a6(0xcbc)](_0x26b275[0x0][_0x3155a6(0xb8b)][0x1][_0x3155a6(0x978)],'fan2@learnboost.com');continue;case'4':_0x437989[_0x3155a6(0xcbc)](typeof _0x49d642[0x1][_0x3155a6(0xb8b)][0x0]['update'],'undefined');continue;case'5':_0x26c493[_0x3155a6(0xcbc)](_0x47b0bf[0x1][_0x3155a6(0xb8b)][0x1][_0x3155a6(0x8a8)],'Fan\x201');continue;case'6':_0x1ebc1f[_0x3155a6(0xcbc)](_0x166115[0x1][_0x3155a6(0xb8b)][0x0]['email'],_0x3155a6(0x660));continue;case'7':_0x232ecf();continue;case'8':_0x18432c[_0x3155a6(0xcbc)](typeof _0x316c6f[0x0][_0x3155a6(0xb8b)][0x1]['update'],_0x3a1872[_0x3155a6(0xc0d)]);continue;case'9':_0x2fb827[_0x3155a6(0xcbc)](_0x54b31b[0x0][_0x3155a6(0xb8b)][0x0][_0x3155a6(0x8a8)],_0x3a1872['zJIzZ']);continue;case'10':_0x2e9556['equal'](_0x140ac5[0x0][_0x3155a6(0xb8b)][0x1]['name'],_0x3155a6(0x684));continue;case'11':_0x1ca32b[_0x3155a6(0xcbc)](typeof _0x3e00f0[0x1][_0x3155a6(0xb8b)][0x1][_0x3155a6(0x584)],'undefined');continue;case'12':_0x41c687['equal'](_0x12bea4[0x0][_0x3155a6(0xb8b)][0x0][_0x3155a6(0x978)],_0x3a1872[_0x3155a6(0x95f)]);continue;case'13':_0x599cb3[_0x3155a6(0xcbc)](_0x3d321e[0x1][_0x3155a6(0xb8b)][0x0][_0x3155a6(0x8a8)],_0x3155a6(0x684));continue;}break;}}else{const _0x3a02db=_0x3a1872[_0x3155a6(0x493)](Schema,{'specialId':String});_0x3a02db['virtual'](_0x3155a6(0x9f3),{'ref':_0x3a1872['WIkZt'],'localField':_0x3155a6(0x121),'foreignField':_0x3155a6(0x121),'options':{'select':_0x3155a6(0xc72)},'justOne':!![]});const _0x322581=_0x27d0e4[_0x3155a6(0x807)](_0x3155a6(0x256),_0x3a02db),_0x487c6b=_0x27d0e4[_0x3155a6(0x807)](_0x3a1872['WIkZt'],_0x3a1872[_0x3155a6(0x1f9)](Schema,{'name':String,'specialId':String,'other':String}));await _0x487c6b[_0x3155a6(0x46d)]({'name':_0x3155a6(0x7c1),'specialId':_0x3a1872[_0x3155a6(0x3e8)],'other':_0x3a1872[_0x3155a6(0x778)]}),await _0x322581['create']({'specialId':_0x3a1872[_0x3155a6(0x3e8)]});let _0xc6c414=await _0x322581[_0x3155a6(0x3dd)]()[_0x3155a6(0x52a)](_0x3a1872[_0x3155a6(0x9f8)]);assert[_0x3155a6(0x672)](_0xc6c414[_0x3155a6(0x9f3)][_0x3155a6(0x121)],void 0x0),_0xc6c414=await _0x322581[_0x3155a6(0x3dd)]()[_0x3155a6(0x52a)]({'path':_0x3155a6(0x9f3),'select':_0x3a1872['xTVNG']}),assert[_0x3155a6(0x672)](_0xc6c414['searchResult'][_0x3155a6(0x121)],'secret');}}),it(_0x24a2f1[_0x150122(0x8b3)],async function(){const _0x144188=_0x150122,_0x4a7368=_0x24a2f1[_0x144188(0x21d)](Schema,{'parentId':_0x24a2f1[_0x144188(0x9c7)],'deleted':Boolean}),_0x139e6f=Schema({'name':String});_0x139e6f['virtual'](_0x24a2f1['vbWuG'],{'ref':_0x144188(0x5ee),'localField':_0x24a2f1['vNBZv'],'foreignField':'parentId','count':!![],'match':{'deleted':{'$ne':!![]}}});const _0x1eb59=_0x27d0e4[_0x144188(0x807)](_0x144188(0x5ee),_0x4a7368),_0x2be870=_0x27d0e4['model'](_0x144188(0x855),_0x139e6f),_0x274f6c=await _0x2be870['create']({'name':_0x24a2f1['aVADN']});await _0x1eb59[_0x144188(0x46d)]([{'parentId':_0x274f6c[_0x144188(0x534)]},{'parentId':_0x274f6c[_0x144188(0x534)],'deleted':!![]},{'parentId':_0x274f6c[_0x144188(0x534)],'deleted':![]}]);let _0x47e219=await _0x2be870[_0x144188(0x3dd)]()[_0x144188(0x52a)](_0x24a2f1[_0x144188(0xc0e)]);assert[_0x144188(0xcbc)](_0x47e219[_0x144188(0x98b)],0x2),_0x47e219=await _0x2be870[_0x144188(0x3dd)]()['populate']({'path':_0x24a2f1[_0x144188(0xc0e)],'match':{'deleted':!![]}}),assert['equal'](_0x47e219[_0x144188(0x98b)],0x1);}),it(_0x24a2f1[_0x150122(0xc31)],async function(){const _0x3ae479=_0x150122,_0x1e8c8b=Schema({'_id':Number,'parentId':_0x3a1872['mZvDC']}),_0x2a52c9=_0x3a1872['LOgzW'](Schema,{'name':String});_0x2a52c9[_0x3ae479(0x833)](_0x3a1872[_0x3ae479(0x1bf)],{'ref':_0x3ae479(0x5ee),'localField':'_id','foreignField':_0x3ae479(0x669),'justOne':![],'skip':0x1,'limit':0x2,'options':{'sort':{'_id':0x1}}});const _0x5d6f3d=_0x27d0e4[_0x3ae479(0x807)](_0x3a1872[_0x3ae479(0x4cd)],_0x1e8c8b),_0x3584f5=_0x27d0e4['model'](_0x3ae479(0x855),_0x2a52c9),_0x3fc4bb=await _0x3584f5[_0x3ae479(0x46d)]({'name':'test'});await _0x5d6f3d['create']([{'_id':0x1,'parentId':_0x3fc4bb[_0x3ae479(0x534)]},{'_id':0x2,'parentId':_0x3fc4bb['_id']},{'_id':0x3,'parentId':_0x3fc4bb[_0x3ae479(0x534)]}]);let _0x5b97ac=await _0x3584f5['findOne']()[_0x3ae479(0x52a)](_0x3a1872[_0x3ae479(0x1bf)]);assert[_0x3ae479(0x829)](_0x5b97ac[_0x3ae479(0x703)][_0x3ae479(0x847)](_0x3b6839=>_0x3b6839[_0x3ae479(0x534)]),[0x2,0x3]),_0x5b97ac=await _0x3584f5[_0x3ae479(0x3dd)]()[_0x3ae479(0x52a)]({'path':_0x3a1872['AyOnu'],'skip':0x2}),assert[_0x3ae479(0x829)](_0x5b97ac[_0x3ae479(0x703)][_0x3ae479(0x847)](_0x2fbb98=>_0x2fbb98['_id']),[0x3]),_0x5b97ac=await _0x3584f5[_0x3ae479(0x3dd)]()['populate']({'path':_0x3a1872[_0x3ae479(0x1bf)],'skip':0x2,'options':{'skip':0x1}}),assert['deepEqual'](_0x5b97ac[_0x3ae479(0x703)][_0x3ae479(0x847)](_0x310567=>_0x310567['_id']),[0x2,0x3]),_0x5b97ac=await _0x3584f5['findOne']()['populate']({'path':_0x3ae479(0x703),'skip':0x0}),assert['deepEqual'](_0x5b97ac[_0x3ae479(0x703)][_0x3ae479(0x847)](_0x16ed69=>_0x16ed69[_0x3ae479(0x534)]),[0x1,0x2]),_0x5b97ac=await _0x3584f5[_0x3ae479(0x3dd)]()[_0x3ae479(0x52a)]({'path':_0x3a1872[_0x3ae479(0x1bf)],'skip':0x0,'limit':0x1}),assert[_0x3ae479(0x829)](_0x5b97ac[_0x3ae479(0x703)]['map'](_0x5796ec=>_0x5796ec['_id']),[0x1]);const _0x1871e6=await _0x3584f5[_0x3ae479(0x46d)]({'name':_0x3ae479(0x112)});await _0x5d6f3d[_0x3ae479(0x46d)]([{'_id':0x4,'parentId':_0x1871e6['_id']},{'_id':0x5,'parentId':_0x1871e6[_0x3ae479(0x534)]}]);const _0x3907f5=await _0x3584f5[_0x3ae479(0xc77)]()['sort']({'_id':0x1})[_0x3ae479(0x52a)]({'path':_0x3a1872['AyOnu'],'skip':0x0,'limit':0x2});assert['equal'](_0x3907f5[0x0][_0x3ae479(0x534)][_0x3ae479(0x303)](),_0x3fc4bb[_0x3ae479(0x534)][_0x3ae479(0x303)]()),assert[_0x3ae479(0xcbc)](_0x3907f5[0x1]['_id'][_0x3ae479(0x303)](),_0x1871e6[_0x3ae479(0x534)][_0x3ae479(0x303)]()),assert[_0x3ae479(0x829)](_0x3907f5[0x0][_0x3ae479(0x703)]['map'](_0x3793fb=>_0x3793fb[_0x3ae479(0x534)]),[0x1,0x2]),assert[_0x3ae479(0x829)](_0x3907f5[0x1][_0x3ae479(0x703)][_0x3ae479(0x847)](_0x10fde6=>_0x10fde6[_0x3ae479(0x534)]),[0x4]);}),_0x24a2f1[_0x150122(0xcc7)](it,'top-level\x20limit\x20properly\x20applies\x20limit\x20per\x20document\x20(gh-8657)',async function(){const _0x83fb63=_0x150122,_0x395a5d={'yJwNV':_0x83fb63(0x534)};if(_0x3a1872[_0x83fb63(0x8ad)](_0x3a1872[_0x83fb63(0x1c1)],_0x83fb63(0x72f))){const _0x4d8e95=_0x27d0e4[_0x83fb63(0x807)](_0x83fb63(0xb04),mongoose[_0x83fb63(0x101)]({'authors':[{'type':Number,'ref':_0x83fb63(0x11f)}]})),_0x2cb0bc=_0x27d0e4[_0x83fb63(0x807)]('User',mongoose[_0x83fb63(0x101)]({'_id':Number}));await _0x4d8e95[_0x83fb63(0x46d)]([{'authors':[0x1,0x2]},{'authors':[0x3,0x4]}]),await _0x2cb0bc[_0x83fb63(0x46d)]({'_id':0x1},{'_id':0x2},{'_id':0x3},{'_id':0x4});const _0x51d85b=await _0x4d8e95[_0x83fb63(0xc77)]()[_0x83fb63(0x22b)]({'_id':0x1})[_0x83fb63(0x52a)]({'path':_0x3a1872[_0x83fb63(0x598)],'limit':0x1,'sort':{'_id':0x1}});assert[_0x83fb63(0xcbc)](_0x51d85b[_0x83fb63(0x2a2)],0x2),assert[_0x83fb63(0x829)](_0x51d85b[0x0][_0x83fb63(0x3e2)][_0x83fb63(0x847)](_0x1f7d27=>_0x1f7d27[_0x83fb63(0x534)]),[0x1]),assert[_0x83fb63(0x829)](_0x51d85b[0x1][_0x83fb63(0x331)]()['authors'],[]);}else{const _0x28faa1=_0x83fb63(0x31b)[_0x83fb63(0x3a7)]('|');let _0x5dbc0c=0x0;while(!![]){switch(_0x28faa1[_0x5dbc0c++]){case'0':_0x4a41dd['ok'](_0x185f16[_0x83fb63(0x132)][_0x83fb63(0x2a2)]);continue;case'1':_0x539657[_0x83fb63(0xcbc)](_0x3da4b6[_0x83fb63(0x4a8)](_0x5477af[_0x83fb63(0x76e)])[_0x83fb63(0x791)](_0x395a5d[_0x83fb63(0x12a)]),-0x1);continue;case'2':_0x5e8916[_0x83fb63(0xcbc)](_0x285375[_0x83fb63(0x534)],_0x13ba67);continue;case'3':_0x2ab256[_0x83fb63(0xcbc)](_0x557fac[_0x83fb63(0x467)],_0x1d50c2);continue;case'4':_0x5ba56b[_0x83fb63(0xcbc)](typeof _0x5bc810[_0x83fb63(0x76e)]['__v'],'undefined');continue;}break;}}}),_0x24a2f1[_0x150122(0xd66)](it,_0x150122(0x75f),async function(){const _0x38f174=_0x150122,_0x17b92c=_0x3a1872[_0x38f174(0x53a)](Schema,{'_id':Number,'parentId':_0x38f174(0x2ef)}),_0xd393b7=Schema({'name':String});_0xd393b7[_0x38f174(0x833)](_0x3a1872[_0x38f174(0x1bf)],{'ref':_0x3a1872['PjqTe'],'localField':_0x3a1872[_0x38f174(0x85c)],'foreignField':_0x38f174(0x669),'justOne':![],'options':{'sort':{'_id':0x1}},'perDocumentLimit':0x2});const _0x425de0=_0x27d0e4[_0x38f174(0x807)](_0x3a1872[_0x38f174(0x4cd)],_0x17b92c),_0x3c35de=_0x27d0e4[_0x38f174(0x807)](_0x3a1872[_0x38f174(0x6b9)],_0xd393b7),_0x3d7e98=await _0x3c35de[_0x38f174(0x46d)]({'name':_0x3a1872[_0x38f174(0x778)]});await _0x425de0['create']([{'_id':0x1,'parentId':_0x3d7e98[_0x38f174(0x534)]},{'_id':0x2,'parentId':_0x3d7e98[_0x38f174(0x534)]},{'_id':0x3,'parentId':_0x3d7e98['_id']}]);const _0x140d50=await _0x3c35de[_0x38f174(0x46d)]({'name':_0x3a1872[_0x38f174(0x122)]});await _0x425de0['create']([{'_id':0x4,'parentId':_0x140d50[_0x38f174(0x534)]},{'_id':0x5,'parentId':_0x140d50['_id']}]);let _0x3198af=await _0x3c35de['find']()[_0x38f174(0x22b)]({'_id':0x1})[_0x38f174(0x52a)]({'path':_0x3a1872['AyOnu']});assert[_0x38f174(0xcbc)](_0x3198af[0x0][_0x38f174(0x534)][_0x38f174(0x303)](),_0x3d7e98[_0x38f174(0x534)][_0x38f174(0x303)]()),assert[_0x38f174(0xcbc)](_0x3198af[0x1][_0x38f174(0x534)]['toString'](),_0x140d50[_0x38f174(0x534)]['toString']()),assert['deepEqual'](_0x3198af[0x0]['children'][_0x38f174(0x847)](_0x1e11a7=>_0x1e11a7[_0x38f174(0x534)]),[0x1,0x2]),assert[_0x38f174(0x829)](_0x3198af[0x1][_0x38f174(0x703)][_0x38f174(0x847)](_0x5463e2=>_0x5463e2[_0x38f174(0x534)]),[0x4,0x5]),_0x3198af=await _0x3c35de[_0x38f174(0xc77)]()[_0x38f174(0x22b)]({'_id':0x1})['populate']({'path':_0x38f174(0x703),'perDocumentLimit':0x1}),assert['equal'](_0x3198af[0x0][_0x38f174(0x534)][_0x38f174(0x303)](),_0x3d7e98[_0x38f174(0x534)][_0x38f174(0x303)]()),assert[_0x38f174(0xcbc)](_0x3198af[0x1][_0x38f174(0x534)][_0x38f174(0x303)](),_0x140d50[_0x38f174(0x534)][_0x38f174(0x303)]()),assert[_0x38f174(0x829)](_0x3198af[0x0][_0x38f174(0x703)][_0x38f174(0x847)](_0x206015=>_0x206015[_0x38f174(0x534)]),[0x1]),assert[_0x38f174(0x829)](_0x3198af[0x1][_0x38f174(0x703)][_0x38f174(0x847)](_0x51fcde=>_0x51fcde[_0x38f174(0x534)]),[0x4]),_0x3198af=await _0x3c35de[_0x38f174(0xc77)]()[_0x38f174(0x22b)]({'_id':0x1})[_0x38f174(0x52a)]({'path':_0x3a1872['AyOnu'],'options':{'perDocumentLimit':0x1}}),assert[_0x38f174(0xcbc)](_0x3198af[0x0][_0x38f174(0x534)][_0x38f174(0x303)](),_0x3d7e98[_0x38f174(0x534)][_0x38f174(0x303)]()),assert[_0x38f174(0xcbc)](_0x3198af[0x1][_0x38f174(0x534)][_0x38f174(0x303)](),_0x140d50[_0x38f174(0x534)][_0x38f174(0x303)]()),assert[_0x38f174(0x829)](_0x3198af[0x0]['children']['map'](_0x5d462a=>_0x5d462a[_0x38f174(0x534)]),[0x1]),assert['deepEqual'](_0x3198af[0x1][_0x38f174(0x703)][_0x38f174(0x847)](_0x204ce9=>_0x204ce9[_0x38f174(0x534)]),[0x4]);}),it(_0x150122(0x111),async function(){const _0x1a3112=_0x150122,_0x4afc15=Schema({'_id':Number,'parentId':_0x1a3112(0x2ef)}),_0x20f143=_0x24a2f1[_0x1a3112(0x9b2)](Schema,{'name':String});_0x20f143[_0x1a3112(0x833)](_0x24a2f1[_0x1a3112(0xc33)],{'ref':_0x24a2f1[_0x1a3112(0xa5b)],'localField':'_id','foreignField':_0x1a3112(0x669),'justOne':![],'options':{'sort':{'_id':0x1}}});const _0x2ed096=_0x27d0e4[_0x1a3112(0x807)](_0x1a3112(0x5ee),_0x4afc15),_0x575026=_0x27d0e4[_0x1a3112(0x807)](_0x24a2f1[_0x1a3112(0xb2d)],_0x20f143),_0x5f42e6=await _0x575026[_0x1a3112(0x46d)]({'name':_0x1a3112(0xc20)});await _0x2ed096[_0x1a3112(0x46d)]([{'_id':0x1,'parentId':_0x5f42e6[_0x1a3112(0x534)]},{'_id':0x2,'parentId':_0x5f42e6[_0x1a3112(0x534)]},{'_id':0x3,'parentId':_0x5f42e6[_0x1a3112(0x534)]}]);const _0x5cb76e=await _0x575026[_0x1a3112(0x46d)]({'name':_0x1a3112(0x112)});await _0x2ed096[_0x1a3112(0x46d)]([{'_id':0x4,'parentId':_0x5cb76e[_0x1a3112(0x534)]},{'_id':0x5,'parentId':_0x5cb76e[_0x1a3112(0x534)]}]);let _0x1eb3b1=await _0x575026[_0x1a3112(0xc77)]()[_0x1a3112(0x22b)]({'_id':0x1})[_0x1a3112(0x52a)]({'path':_0x1a3112(0x703),'perDocumentLimit':0x1});assert[_0x1a3112(0xcbc)](_0x1eb3b1[0x0][_0x1a3112(0x534)][_0x1a3112(0x303)](),_0x5f42e6[_0x1a3112(0x534)]['toString']()),assert[_0x1a3112(0xcbc)](_0x1eb3b1[0x1][_0x1a3112(0x534)][_0x1a3112(0x303)](),_0x5cb76e[_0x1a3112(0x534)][_0x1a3112(0x303)]()),assert[_0x1a3112(0x829)](_0x1eb3b1[0x0][_0x1a3112(0x703)]['map'](_0x2c94f1=>_0x2c94f1[_0x1a3112(0x534)]),[0x1]),assert[_0x1a3112(0x829)](_0x1eb3b1[0x1][_0x1a3112(0x703)]['map'](_0x33f2a0=>_0x33f2a0[_0x1a3112(0x534)]),[0x4]),_0x1eb3b1=await _0x575026[_0x1a3112(0xc77)]()[_0x1a3112(0x22b)]({'_id':0x1})[_0x1a3112(0x52a)]({'path':'children','options':{'perDocumentLimit':0x1}}),assert[_0x1a3112(0xcbc)](_0x1eb3b1[0x0][_0x1a3112(0x534)][_0x1a3112(0x303)](),_0x5f42e6[_0x1a3112(0x534)][_0x1a3112(0x303)]()),assert[_0x1a3112(0xcbc)](_0x1eb3b1[0x1][_0x1a3112(0x534)][_0x1a3112(0x303)](),_0x5cb76e[_0x1a3112(0x534)][_0x1a3112(0x303)]()),assert[_0x1a3112(0x829)](_0x1eb3b1[0x0][_0x1a3112(0x703)]['map'](_0x18193e=>_0x18193e['_id']),[0x1]),assert['deepEqual'](_0x1eb3b1[0x1][_0x1a3112(0x703)]['map'](_0x281215=>_0x281215[_0x1a3112(0x534)]),[0x4]);}),it(_0x24a2f1[_0x150122(0x33e)],async function(){const _0x1e31f2=_0x150122,_0x33c62e=_0x27d0e4[_0x1e31f2(0x807)](_0x1e31f2(0x856),Schema({'imageName':String})),_0x2e908b=_0x27d0e4[_0x1e31f2(0x807)](_0x1e31f2(0x138),_0x24a2f1['EXnqK'](Schema,{'videoName':String})),_0xcf3c56=Schema({'objectType':String},{'discriminatorKey':_0x24a2f1[_0x1e31f2(0xd0c)],'_id':![]}),_0xd8ed23={'_id':![]},_0x1c0268=_0x24a2f1['KxHXN'](Schema,{'data':_0x24a2f1[_0x1e31f2(0x433)](Schema,{'title':String,'description':String},_0xd8ed23)},_0xd8ed23),_0x2e55fe=()=>Schema({'data':{'type':ObjectId,'refPath':'list.objectType'}},_0xd8ed23),_0x18c2b7=Schema({'data':{'sourceId':Number}},_0xd8ed23),_0x283b15=_0x24a2f1[_0x1e31f2(0x5b3)](Schema,{'test':String,'list':[_0xcf3c56]});_0x283b15[_0x1e31f2(0x2c8)](_0x24a2f1[_0x1e31f2(0x4e1)])[_0x1e31f2(0x65b)]('Image',_0x2e55fe()),_0x283b15['path'](_0x1e31f2(0xb47))[_0x1e31f2(0x65b)](_0x24a2f1[_0x1e31f2(0x128)],_0x2e55fe()),_0x283b15[_0x1e31f2(0x2c8)](_0x1e31f2(0xb47))[_0x1e31f2(0x65b)](_0x1e31f2(0x3a0),_0x18c2b7),_0x283b15[_0x1e31f2(0x2c8)](_0x1e31f2(0xb47))[_0x1e31f2(0x65b)](_0x24a2f1[_0x1e31f2(0x1c2)],_0x1c0268);const _0x5e4b08=_0x27d0e4[_0x1e31f2(0x807)](_0x24a2f1[_0x1e31f2(0x4f4)],_0x283b15),_0x1575f9=await _0x33c62e[_0x1e31f2(0x46d)]({'imageName':_0x24a2f1[_0x1e31f2(0x2fc)]}),_0x21b58e=await _0x2e908b[_0x1e31f2(0x46d)]({'videoName':_0x1e31f2(0xa19)}),_0x55277d=await _0x5e4b08[_0x1e31f2(0x46d)]({'test':_0x1e31f2(0x89a),'list':[{'data':_0x1575f9[_0x1e31f2(0x534)],'objectType':_0x24a2f1[_0x1e31f2(0xdd)]},{'data':_0x21b58e['_id'],'objectType':_0x1e31f2(0x138)},{'data':{'sourceId':0x7b},'objectType':_0x24a2f1[_0x1e31f2(0x4d5)]},{'data':{'title':_0x24a2f1[_0x1e31f2(0xbdd)]},'objectType':'NestedData'}]}),_0x56e90b=await _0x5e4b08[_0x1e31f2(0x770)](_0x55277d)['populate'](_0x24a2f1[_0x1e31f2(0x59d)])['lean']();assert[_0x1e31f2(0x829)](_0x56e90b[_0x1e31f2(0xb47)][0x3][_0x1e31f2(0x139)],{'title':_0x1e31f2(0xc20)});}),it(_0x150122(0x6e4),async function(){const _0x53aaf7=_0x150122,_0x383b9e=new Schema({'objectType':String},{'discriminatorKey':_0x53aaf7(0xbd2),'_id':![]}),_0x335fd6=Schema({'test':String,'list':[_0x383b9e]});_0x335fd6[_0x53aaf7(0x2c8)](_0x3a1872[_0x53aaf7(0xa0c)])[_0x53aaf7(0x65b)]('Text',_0x3a1872['tBZWO'](Schema,{'data':{'type':ObjectId,'refPath':_0x3a1872[_0x53aaf7(0x906)]}},{'_id':![]})),_0x335fd6['path'](_0x53aaf7(0xb47))[_0x53aaf7(0x65b)](_0x3a1872[_0x53aaf7(0xb36)],_0x3a1872[_0x53aaf7(0xd64)](Schema,{'data':{'sourceId':Number}}));const _0x6ce0c0=_0x27d0e4['model'](_0x53aaf7(0x438),_0x335fd6);await _0x6ce0c0['create']({'test':_0x53aaf7(0x89a),'list':[{'data':{'sourceId':0x7b},'objectType':_0x53aaf7(0x3a0)}]});const _0x57e228=await _0x6ce0c0[_0x53aaf7(0xc77)]()[_0x53aaf7(0x52a)](_0x53aaf7(0xb3e));assert[_0x53aaf7(0x829)](_0x57e228[0x0]['toObject']()[_0x53aaf7(0xb47)][0x0]['data'],{'sourceId':0x7b});}),it(_0x150122(0x52e),async function(){const _0x43e303=_0x150122,_0xb66d2=_0x27d0e4[_0x43e303(0x807)](_0x43e303(0x11f),_0x1e7a32),_0x5045fd=_0x27d0e4[_0x43e303(0x807)](_0x43e303(0x63e),_0x4088a5),_0x3e7719=await _0x5045fd[_0x43e303(0x46d)]([{'title':'JS\x20101'},{'title':_0x3a1872[_0x43e303(0xa52)]}]),_0x243fa1=await _0xb66d2[_0x43e303(0x46d)]({'blogposts':_0x3e7719});let _0x183bc6;try{await _0xb66d2[_0x43e303(0xc77)]({'_id':_0x243fa1[_0x43e303(0x534)]})[_0x43e303(0x52a)]({'path':'blogposts','perDocumentLimit':0x2,'limit':0x1});}catch(_0x4ffde4){_0x183bc6=_0x4ffde4;}_0x3a1872[_0x43e303(0x2f2)](assert,_0x183bc6),assert[_0x43e303(0xcbc)](_0x183bc6['message'],_0x43e303(0xb59));}),_0x24a2f1[_0x150122(0x359)](it,_0x24a2f1[_0x150122(0xc68)],async function(){const _0x575087=_0x150122,_0x242fd6={'wDUun':function(_0x1395f4){return _0x1395f4();}};if(_0x24a2f1['Uzdtk']!==_0x575087(0x97f)){const _0x5b74e8=Schema({},{'discriminatorKey':_0x24a2f1['qadaa']}),_0x1c890b=Schema({'items':[_0x5b74e8]}),_0x743e22=[];_0x1c890b['path'](_0x24a2f1[_0x575087(0x3ce)])[_0x575087(0x65b)](_0x24a2f1[_0x575087(0xd18)],Schema({'childModel':{'type':String},'child':{'type':mongoose['Schema'][_0x575087(0xc4a)][_0x575087(0x2ef)],'refPath':(_0x3ae2e7,_0x5ce60c)=>{const _0x1380c1=_0x575087;return _0x743e22[_0x1380c1(0x2d6)](_0x3ae2e7),_0x5ce60c[_0x1380c1(0x384)](_0x3a1872['IpEoV'],_0x1380c1(0xa48));}}}));const _0x2b43e2=_0x27d0e4[_0x575087(0x807)](_0x24a2f1[_0x575087(0xb2d)],_0x1c890b),_0x3f4119=_0x27d0e4[_0x575087(0x807)]('Child',_0x24a2f1[_0x575087(0xa54)](Schema,{'name':String})),_0x28f94d=await _0x3f4119[_0x575087(0x46d)]({'name':_0x24a2f1[_0x575087(0xbdd)]}),_0x16eca1=await _0x2b43e2[_0x575087(0x46d)]({'items':[{'type':'TestDiscriminator','childModel':_0x24a2f1[_0x575087(0xa5b)],'child':_0x28f94d[_0x575087(0x534)]}]});assert['equal'](_0x743e22[_0x575087(0x2a2)],0x0);const _0xe98920=await _0x2b43e2['findOne']()[_0x575087(0x52a)](_0x24a2f1['XaZkB'])[_0x575087(0x37d)]();assert[_0x575087(0xcbc)](_0xe98920[_0x575087(0x5ec)][0x0][_0x575087(0xb8f)][_0x575087(0x8a8)],_0x24a2f1[_0x575087(0xbdd)]),assert['ok'](_0xe98920[_0x575087(0x5ec)][0x0][_0x575087(0x118)](_0x24a2f1[_0x575087(0x952)])),assert[_0x575087(0xcbc)](_0x743e22[_0x575087(0x2a2)],0x1),assert[_0x575087(0xcbc)](_0x743e22[0x0][_0x575087(0x534)][_0x575087(0x11d)](),_0x16eca1[_0x575087(0x5ec)][0x0]['_id']['toHexString']());}else _0x1733a7['ifError'](_0x23ca17),_0x6e59a1[_0x575087(0xcbc)](_0x34ca3d[_0x575087(0x3e2)][_0x575087(0x2a2)],0x1),_0x5bc2da[_0x575087(0xcbc)](_0x1c28fd[_0x575087(0x3e2)][0x0][_0x575087(0x8a8)],_0x575087(0x946)),_0x242fd6[_0x575087(0x407)](_0x19419a);}),_0x24a2f1[_0x150122(0x8c5)](describe,_0x150122(0xbc9),function(){const _0x3136ee=_0x150122,_0x46c604={'lGgCW':_0x24a2f1[_0x3136ee(0x840)],'TYiGG':_0x3136ee(0x63e),'lbasl':'val','pFhTy':_0x24a2f1[_0x3136ee(0x7aa)]};it(_0x24a2f1[_0x3136ee(0xa3b)],async function(){const _0xf55bdc=_0x3136ee,_0xbe4d57=new Schema({'name':String}),_0x4a53fe=_0x27d0e4[_0xf55bdc(0x807)]('User',_0xbe4d57),_0x45d1db=new Schema({'user':{'type':mongoose['ObjectId'],'ref':_0xf55bdc(0x11f)},'title':String}),_0x5f4acf=_0x27d0e4[_0xf55bdc(0x807)](_0x3a1872['lILxE'],_0x45d1db),_0x5acb4c=await _0x4a53fe[_0xf55bdc(0x46d)]({'name':_0xf55bdc(0x890)});await _0x5f4acf['create']([{'title':_0x3a1872[_0xf55bdc(0x226)],'user':_0x5acb4c},{'title':_0xf55bdc(0x112),'user':_0x5acb4c},{'title':_0x3a1872[_0xf55bdc(0xc25)],'user':new mongoose[(_0xf55bdc(0xc4a))]['ObjectId']()}]);const _0x594108=await _0x5f4acf[_0xf55bdc(0xc77)]()['populate']({'path':'user','options':{'clone':!![]}})[_0xf55bdc(0x22b)](_0xf55bdc(0x132))[_0xf55bdc(0x2ac)]();_0x594108[0x0][_0xf55bdc(0x6e5)][_0xf55bdc(0x8a8)]=_0x3a1872['vCYku'],assert[_0xf55bdc(0xcbc)](_0x594108[0x1][_0xf55bdc(0x6e5)][_0xf55bdc(0x8a8)],_0x3a1872[_0xf55bdc(0x20f)]),assert['equal'](_0x594108[0x2]['user'],null);}),it('clone\x20with\x20populate\x20and\x20lean\x20makes\x20child\x20lean',async function(){const _0x4e5412=_0x3136ee,_0x94034d=_0x3f0327=>_0x3f0327!=null&&!(_0x3f0327 instanceof mongoose[_0x4e5412(0x2b4)]),_0x54eee2=new Schema({'name':String}),_0x42d494=_0x27d0e4[_0x4e5412(0x807)](_0x4e5412(0x11f),_0x54eee2),_0x55ef02=new Schema({'user':{'type':mongoose[_0x4e5412(0x2ef)],'ref':_0x46c604[_0x4e5412(0x3c2)]},'title':String}),_0x59bf23=_0x27d0e4[_0x4e5412(0x807)](_0x46c604[_0x4e5412(0xb44)],_0x55ef02),_0x4020f2=await _0x42d494[_0x4e5412(0x46d)]({'name':_0x46c604[_0x4e5412(0x56e)]});await _0x59bf23[_0x4e5412(0x46d)]({'title':_0x46c604['pFhTy'],'user':_0x4020f2});const _0x444f5f=await _0x59bf23[_0x4e5412(0x3dd)]()[_0x4e5412(0x52a)]({'path':_0x4e5412(0x6e5),'options':{'clone':!![]}})[_0x4e5412(0x2ac)]();assert['ok'](_0x94034d(_0x444f5f[_0x4e5412(0x6e5)]));}),it('can\x20populate\x20subdocs\x20where\x20one\x20is\x20discriminator\x20and\x20the\x20other\x20is\x20not\x20(gh-8837)',async function(){const _0x51225c=_0x3136ee,_0x318e2f=new Schema({},{'discriminatorKey':_0x51225c(0x525)}),_0x58c120=new Schema({'events':[_0x318e2f]}),_0x4ec72c=new Schema({'modelName':{'type':String,'required':!![]},'productId':{'type':Schema[_0x51225c(0x2ef)],'refPath':_0x3a1872[_0x51225c(0x9b4)]}}),_0x8558fd=_0x58c120['path'](_0x3a1872[_0x51225c(0x55c)]);_0x8558fd[_0x51225c(0x65b)](_0x3a1872[_0x51225c(0x962)],_0x4ec72c);const _0x339090=_0x27d0e4[_0x51225c(0x807)](_0x3a1872['XIuYO'],_0x58c120),_0x4fee4f=_0x27d0e4[_0x51225c(0x807)]('Product',new Schema({'name':String})),_0xc24fc4=await _0x4fee4f[_0x51225c(0x46d)]({'name':_0x3a1872[_0x51225c(0x526)]});await _0x339090[_0x51225c(0x46d)]({'events':[{},{'type':_0x3a1872[_0x51225c(0x962)],'modelName':_0x51225c(0xa76),'productId':_0xc24fc4[_0x51225c(0x534)]}]});const _0x202e54=await _0x339090['findOne']()[_0x51225c(0x52a)](_0x3a1872['VGKmW']);assert[_0x51225c(0xcbc)](_0x202e54[_0x51225c(0x476)][0x1][_0x51225c(0x497)][_0x51225c(0x8a8)],_0x3a1872['NrEbG']);}),_0x24a2f1[_0x3136ee(0x683)](it,_0x24a2f1[_0x3136ee(0xca4)],async function(){const _0x320d71=_0x3136ee,_0x473b3d=_0x27d0e4[_0x320d71(0x807)](_0x320d71(0x11f),{}),_0x58ce34=_0x27d0e4['model'](_0x320d71(0xbf8),{'name':String}),_0x12d298=new Schema({'postId':Schema[_0x320d71(0x2ef)]});_0x12d298[_0x320d71(0x833)](_0x3a1872['uXXYy'],{'ref':_0x320d71(0xbf8),'localField':_0x3a1872[_0x320d71(0x491)],'foreignField':_0x320d71(0x534),'justOne':!![]});const _0x300d89=_0x473b3d[_0x320d71(0x65b)]('UserWithPost',_0x12d298),_0x3cf6be=await _0x58ce34[_0x320d71(0x46d)]({'name':_0x3a1872[_0x320d71(0x568)]});await _0x300d89[_0x320d71(0x46d)]({'postId':_0x3cf6be[_0x320d71(0x534)]});const _0x17b1b3=await _0x473b3d['findOne']()[_0x320d71(0x52a)]({'path':_0x3a1872[_0x320d71(0xd2c)]});assert[_0x320d71(0xcbc)](_0x17b1b3['post'][_0x320d71(0x8a8)],_0x320d71(0x43d));});}),it(_0x24a2f1[_0x150122(0x2ec)],async function(){const _0xbf9b36=_0x150122,_0x3835d6=new Schema({'title':String,'parent':{'type':mongoose[_0xbf9b36(0x2ef)],'ref':'Interaction'}});_0x3835d6[_0xbf9b36(0x833)](_0xbf9b36(0x166),{'ref':_0xbf9b36(0xce7),'localField':_0x3a1872['glMrU'],'foreignField':_0x3a1872['wswMv'],'justOne':!![],'options':{'populate':'next'}});const _0x122af2=_0x27d0e4['model'](_0x3a1872[_0xbf9b36(0xd46)],_0x3835d6),_0x5a5ce5=new _0x122af2({'title':_0x3a1872['evVbu']});await _0x5a5ce5[_0xbf9b36(0x87f)]();const _0xf0d3b2=new _0x122af2({'title':_0x3a1872[_0xbf9b36(0x2d7)],'parent':_0x5a5ce5[_0xbf9b36(0x534)]});await _0xf0d3b2['save']();const _0x193d46=new _0x122af2({'title':_0x3a1872[_0xbf9b36(0xd05)],'parent':_0xf0d3b2[_0xbf9b36(0x534)]});await _0x193d46[_0xbf9b36(0x87f)]();const _0x5c8e25=await _0x122af2[_0xbf9b36(0x3dd)]({'parent':null})[_0xbf9b36(0x52a)](_0x3a1872[_0xbf9b36(0x9f0)]);assert[_0xbf9b36(0xcbc)](_0x5c8e25[_0xbf9b36(0x132)],_0x5a5ce5[_0xbf9b36(0x132)]),assert[_0xbf9b36(0x16e)](_0x5c8e25[_0xbf9b36(0x166)],undefined),assert[_0xbf9b36(0xcbc)](_0x5c8e25[_0xbf9b36(0x166)][_0xbf9b36(0x132)],_0xf0d3b2[_0xbf9b36(0x132)]),assert[_0xbf9b36(0x16e)](_0x5c8e25[_0xbf9b36(0x166)][_0xbf9b36(0x166)],undefined),assert[_0xbf9b36(0xcbc)](_0x5c8e25['next'][_0xbf9b36(0x166)]['title'],_0x193d46['title']);}),_0x24a2f1[_0x150122(0x9a8)](it,_0x150122(0x469),async function(){const _0x4c9d75=_0x150122,_0xb8b443=Schema({'members':[{'user':{'type':ObjectId,'ref':_0x3a1872['UlcPX']}}]}),_0x4899a9=Schema({'name':{'type':String}});_0x4899a9[_0x4c9d75(0x833)](_0x4c9d75(0x3c0),{'ref':_0x4c9d75(0x58b),'localField':_0x4c9d75(0x534),'foreignField':_0x3a1872[_0x4c9d75(0x4ba)],'justOne':![]});const _0x48de41=_0x27d0e4['model'](_0x4c9d75(0x11f),_0x4899a9),_0x4e8c82=_0x27d0e4[_0x4c9d75(0x807)](_0x3a1872[_0x4c9d75(0x97b)],_0xb8b443),_0x188efe=await _0x48de41['create']({'name':_0x3a1872[_0x4c9d75(0x8ac)]});await _0x4e8c82[_0x4c9d75(0x46d)]({'members':[{'user':_0x188efe[_0x4c9d75(0x534)]}]});const _0x6e60b0=await _0x48de41[_0x4c9d75(0x3dd)]()[_0x4c9d75(0x52a)]({'path':_0x4c9d75(0x3c0),'populate':{'path':_0x3a1872['CGmxZ'],'populate':{'path':_0x3a1872[_0x4c9d75(0xac1)]}}});assert[_0x4c9d75(0xcbc)](_0x6e60b0[_0x4c9d75(0x3c0)][0x0][_0x4c9d75(0x4cc)][0x0][_0x4c9d75(0x6e5)][_0x4c9d75(0x8a8)],_0x3a1872[_0x4c9d75(0x8ac)]);}),_0x24a2f1['FryzP'](it,'no-op\x20if\x20populating\x20a\x20nested\x20path\x20(gh-9073)',async function(){const _0x2984bd=_0x150122,_0x50f644=_0x24a2f1[_0x2984bd(0x1ae)](Schema,{'owner':String}),_0x258801=_0x27d0e4[_0x2984bd(0x807)](_0x24a2f1[_0x2984bd(0x914)],_0x50f644),_0x42deed=new Schema({'title':String,'place':{'building':{'type':Schema['ObjectId'],'ref':_0x2984bd(0x90c)}}}),_0x4aff4e=_0x27d0e4[_0x2984bd(0x807)](_0x2984bd(0x403),_0x42deed),_0x2a220b=new _0x258801({'owner':'test'});await _0x2a220b[_0x2984bd(0x87f)](),await _0x4aff4e[_0x2984bd(0x46d)]({'place':{'building':_0x2a220b[_0x2984bd(0x534)]}});const _0x46b714=await _0x4aff4e[_0x2984bd(0x3dd)]({})['populate']({'path':_0x24a2f1[_0x2984bd(0x69a)],'populate':_0x2984bd(0x123)});assert['equal'](_0x46b714['place']['building'][_0x2984bd(0x206)],_0x2984bd(0xc20));}),it('handles\x20populating\x20primitive\x20array\x20under\x20document\x20array\x20with\x20discriminator\x20(gh-9148)',async function(){const _0x3db01f=_0x150122,_0x4e342a=new Schema({'name':String}),_0x174732=_0x27d0e4['model'](_0x24a2f1['cLBmj'],_0x4e342a),_0x2b9141=new Schema({'alias':String},{'discriminatorKey':_0x3db01f(0x525),'_id':![]}),_0x5f4b48=new Schema({'content':[{'type':Schema[_0x3db01f(0xc4a)][_0x3db01f(0x2ef)],'ref':_0x3db01f(0x256)}]},{'_id':![]}),_0x322951=new Schema({'name':String,'data':[_0x2b9141]});_0x322951[_0x3db01f(0x2c8)](_0x3db01f(0x139))[_0x3db01f(0x65b)](_0x3db01f(0x5e6),_0x5f4b48);const _0x42c458=_0x27d0e4[_0x3db01f(0x807)](_0x24a2f1[_0x3db01f(0x4f4)],_0x322951),_0x219eaa=await Promise[_0x3db01f(0x848)]([_0x174732[_0x3db01f(0x46d)]({'name':'A'}),_0x174732[_0x3db01f(0x46d)]({'name':'B'})]),_0x38f857=await _0x42c458[_0x3db01f(0x46d)]({'name':_0x3db01f(0x6ac),'data':[{'alias':'my_content','type':_0x24a2f1[_0x3db01f(0xb14)],'content':[_0x219eaa[0x0]['_id'],_0x219eaa[0x1][_0x3db01f(0x534)]]}]}),_0x21c410=await _0x42c458['findById'](_0x38f857[_0x3db01f(0x534)])[_0x3db01f(0x52a)]({'path':'data.content','select':{'name':0x1,'_id':0x0}});assert['ok'](Array[_0x3db01f(0x809)](_0x21c410['data'][0x0][_0x3db01f(0x5e6)])),assert['deepEqual'](_0x21c410['toObject']()['data'],[{'alias':_0x24a2f1[_0x3db01f(0xd35)],'type':_0x24a2f1[_0x3db01f(0xb14)],'content':[{'name':'A'},{'name':'B'}]}]);}),_0x24a2f1['iyLgt'](it,_0x150122(0x1d9),async function(){const _0x1a8d40=_0x150122,_0x49cbc5=new Schema({'title':String,'commentsIds':[{'type':Schema['ObjectId'],'ref':_0x1a8d40(0x39a)}]}),_0x104193=_0x27d0e4[_0x1a8d40(0x807)]('Post',_0x49cbc5),_0xccd57d=new Schema({'content':String}),_0x9e7e47=_0x27d0e4[_0x1a8d40(0x807)](_0x24a2f1[_0x1a8d40(0x4b4)],_0xccd57d),_0x3c0a88=new _0x104193({'title':_0x24a2f1[_0x1a8d40(0x719)]});let _0x55029a=await _0x9e7e47[_0x1a8d40(0x46d)]([{'content':_0x24a2f1[_0x1a8d40(0xa3a)]},{'content':_0x1a8d40(0x423)},{'content':'Super\x20cool\x20first\x20post'}]);_0x3c0a88[_0x1a8d40(0x817)]=_0x55029a,await _0x3c0a88[_0x1a8d40(0x87f)]();const _0x42dfeb=new _0x104193({'title':_0x24a2f1[_0x1a8d40(0xbd4)]});_0x55029a=await _0x9e7e47['create']([{'content':_0x1a8d40(0x74a)},{'content':_0x24a2f1['mMsfi']},{'content':_0x24a2f1[_0x1a8d40(0x2b6)]},{'content':'Absolutely\x20cool\x20second\x20post'}]),_0x42dfeb[_0x1a8d40(0x817)]=_0x55029a,await _0x42dfeb[_0x1a8d40(0x87f)]();const _0x3b0b30=await _0x104193['find']()[_0x1a8d40(0x52a)]({'path':_0x1a8d40(0x817),'select':'content\x20-_id','perDocumentLimit':0x2});assert['equal'](_0x3b0b30[0x0][_0x1a8d40(0x817)][_0x1a8d40(0x2a2)],0x2),assert['equal'](_0x3b0b30[0x1][_0x1a8d40(0x817)][_0x1a8d40(0x2a2)],0x2);}),_0x24a2f1[_0x150122(0xd44)](it,_0x150122(0x43f),async function(){const _0x5179c4=_0x150122,_0x540328=Schema({},{'discriminatorKey':'type'}),_0x50aa03=Schema({'title':{'type':String},'items':[_0x540328]}),_0x4cc035=_0x50aa03['path']('items');_0x4cc035[_0x5179c4(0x65b)](_0x24a2f1[_0x5179c4(0x6cf)],Schema({'fooType':{'type':String},'foo':{'type':mongoose['Schema'][_0x5179c4(0xc4a)][_0x5179c4(0x2ef)],'refPath':_0x24a2f1[_0x5179c4(0x843)]}}));const _0x44a4bd=_0x27d0e4[_0x5179c4(0x807)](_0x5179c4(0x438),_0x50aa03),_0x5de138=await _0x44a4bd[_0x5179c4(0x46d)]({'title':_0x5179c4(0x710)});await _0x44a4bd['create']({'title':_0x24a2f1[_0x5179c4(0x9d2)],'items':[{'type':_0x24a2f1['dbAEM'],'fooType':_0x5179c4(0x438),'foo':_0x5de138[_0x5179c4(0x534)]}]});const _0x4ad90f=await _0x44a4bd['find']({})[_0x5179c4(0x22b)]({'title':0x1})['populate'](_0x5179c4(0xc89))[_0x5179c4(0x37d)]();assert[_0x5179c4(0xcbc)](_0x4ad90f[0x1][_0x5179c4(0x5ec)][0x0]['foo'][_0x5179c4(0x132)],_0x24a2f1[_0x5179c4(0xcb5)]);}),_0x24a2f1[_0x150122(0x951)](it,_0x150122(0x81e),async function(){const _0x297dc2=_0x150122,_0x1946ee={'pSvHO':_0x297dc2(0x607),'xMTIG':_0x297dc2(0x6ff)};if(_0x24a2f1[_0x297dc2(0x32d)](_0x24a2f1[_0x297dc2(0x2af)],_0x24a2f1[_0x297dc2(0xa27)])){const _0x27cb46=new Schema({'single':{'type':Number,'ref':_0x24a2f1[_0x297dc2(0xa5b)]},'arr':[{'type':Number,'ref':_0x297dc2(0x5ee)}],'docArr':[{'ref':{'type':Number,'ref':_0x297dc2(0x5ee)}}]});_0x27cb46[_0x297dc2(0x833)](_0x24a2f1[_0x297dc2(0x3a2)],{'ref':_0x24a2f1[_0x297dc2(0xa5b)],'localField':_0x297dc2(0x22f),'foreignField':_0x297dc2(0x534),'justOne':!![]});const _0x2d58f9=_0x27d0e4[_0x297dc2(0x807)](_0x24a2f1[_0x297dc2(0xb2d)],_0x27cb46),_0x4e5b4f=_0x27d0e4[_0x297dc2(0x807)](_0x24a2f1[_0x297dc2(0xa5b)],Schema({'_id':Number,'name':String}));await _0x4e5b4f[_0x297dc2(0x46d)]({'_id':0x1,'name':_0x297dc2(0xc20)}),await _0x2d58f9['create']({'single':0x1,'arr':[0x1],'docArr':[{'ref':0x1}]});let _0x1ab34f=await _0x2d58f9[_0x297dc2(0x3dd)]()['populate']('single');assert['ok'](_0x1ab34f[_0x297dc2(0x22f)][_0x297dc2(0xd0a)]()===_0x1ab34f),assert['ok'](_0x24a2f1[_0x297dc2(0x857)](_0x1ab34f[_0x297dc2(0x22f)][_0x297dc2(0x6eb)](),_0x1ab34f)),_0x1ab34f=await _0x2d58f9[_0x297dc2(0x3dd)]()[_0x297dc2(0x52a)]('arr'),assert['ok'](_0x24a2f1['oUafl'](_0x1ab34f['arr'][0x0][_0x297dc2(0xd0a)](),_0x1ab34f)),assert['ok'](_0x1ab34f[_0x297dc2(0x2f3)][0x0]['$parent']()===_0x1ab34f),_0x1ab34f=await _0x2d58f9['findOne']()[_0x297dc2(0x52a)](_0x297dc2(0xc1a)),assert['ok'](_0x1ab34f[_0x297dc2(0x819)][0x0][_0x297dc2(0x171)][_0x297dc2(0xd0a)]()===_0x1ab34f),assert['ok'](_0x1ab34f['docArr'][0x0]['ref']['$parent']()===_0x1ab34f),_0x1ab34f=await _0x2d58f9[_0x297dc2(0x3dd)]()['populate']('myVirtual'),assert['ok'](_0x1ab34f[_0x297dc2(0xb77)][_0x297dc2(0xd0a)]()===_0x1ab34f),assert['ok'](_0x24a2f1[_0x297dc2(0x503)](_0x1ab34f['myVirtual'][_0x297dc2(0x6eb)](),_0x1ab34f)),_0x1ab34f=await _0x2d58f9[_0x297dc2(0x3dd)](),await _0x1ab34f[_0x297dc2(0x52a)](_0x297dc2(0x22f)),assert['ok'](_0x1ab34f[_0x297dc2(0x22f)][_0x297dc2(0xd0a)]()===_0x1ab34f),assert['ok'](_0x24a2f1[_0x297dc2(0x846)](_0x1ab34f[_0x297dc2(0x22f)][_0x297dc2(0x6eb)](),_0x1ab34f));}else{const _0x1a24f0={'vwepG':function(_0x44d3f3){return _0x44d3f3();}};_0x5f3145[_0x297dc2(0x127)](_0x1bd913),_0x51f632[_0x297dc2(0x770)](_0x57cae8[0x0][_0x297dc2(0x534)])[_0x297dc2(0x52a)]({'path':_0x1946ee[_0x297dc2(0xb6a)],'model':_0x3138d5,'populate':{'path':_0x1946ee['xMTIG'],'model':_0x2d5c79}})[_0x297dc2(0x37d)](function(_0x21cb88,_0x232116){const _0x43e2c8=_0x297dc2;_0x494359['ifError'](_0x21cb88),_0x52d14e[_0x43e2c8(0xcbc)](_0x232116[_0x43e2c8(0x607)][0x0][_0x43e2c8(0x83b)][0x0][_0x43e2c8(0xc78)][_0x43e2c8(0x8a8)],_0x43e2c8(0x438)),_0x1a24f0[_0x43e2c8(0x23a)](_0x21acb1);});}}),it(_0x24a2f1[_0x150122(0x40f)],async function(){const _0x4fd8ee=_0x150122,_0x4770f9=Schema({'_id':Number,'name':String}),_0x391151=_0x24a2f1[_0x4fd8ee(0x5b3)](Schema,{'_id':Number,'name':String}),_0x9185fb=Schema({'title':String},{'discriminatorKey':_0x24a2f1['qadaa']}),_0x493da1=Schema({'subject':{'type':Number,'ref':'Cat'}},{'discriminatorKey':_0x24a2f1['qadaa']}),_0x2beee9=_0x24a2f1[_0x4fd8ee(0xc4b)](Schema,{'subject':{'type':Number,'ref':_0x24a2f1[_0x4fd8ee(0x830)]}},{'discriminatorKey':_0x4fd8ee(0x525)}),_0x210003=_0x27d0e4[_0x4fd8ee(0x807)](_0x24a2f1['cQaoh'],_0x4770f9),_0x52b37a=_0x27d0e4['model'](_0x24a2f1['HOtKv'],_0x391151),_0x5bdfb2=_0x27d0e4[_0x4fd8ee(0x807)](_0x24a2f1[_0x4fd8ee(0x1b2)],_0x9185fb),_0x244e77=_0x5bdfb2[_0x4fd8ee(0x65b)](_0x24a2f1[_0x4fd8ee(0x44d)],_0x493da1),_0x1badff=_0x5bdfb2[_0x4fd8ee(0x65b)]('NotificationTypeB',_0x2beee9),_0x18f0a4=await _0x210003[_0x4fd8ee(0x46d)]({'_id':0x1,'name':'Keanu'}),_0x39752b=await _0x52b37a[_0x4fd8ee(0x46d)]({'_id':0x1,'name':_0x24a2f1[_0x4fd8ee(0xa31)]});await _0x244e77[_0x4fd8ee(0x46d)]({'subject':_0x18f0a4['_id'],'title':_0x24a2f1[_0x4fd8ee(0xa65)]}),await _0x1badff['create']({'subject':_0x39752b[_0x4fd8ee(0x534)],'title':_0x4fd8ee(0x103)});const _0x225b06=await _0x5bdfb2['find']({})[_0x4fd8ee(0x52a)](_0x4fd8ee(0xc6d));assert[_0x4fd8ee(0x829)](_0x225b06[_0x4fd8ee(0x847)](_0xa2d498=>_0xa2d498[_0x4fd8ee(0xc6d)][_0x4fd8ee(0x8a8)]),[_0x24a2f1[_0x4fd8ee(0x15c)],_0x24a2f1[_0x4fd8ee(0xa31)]]);}),it(_0x24a2f1[_0x150122(0x4c3)],async function(){const _0x9797a0=_0x150122,_0x4074d0=Schema({'ref':String,'linkedId':{'type':Schema['ObjectId'],'refPath':_0x9797a0(0x171)}}),_0x28e905=_0x27d0e4[_0x9797a0(0x807)](_0x24a2f1[_0x9797a0(0xb2d)],_0x4074d0),_0x3365ef=new Schema({'name':String}),_0xdd9c47=_0x27d0e4['model'](_0x24a2f1['fKfLV'],_0x3365ef),_0x17d360=await _0xdd9c47[_0x9797a0(0x46d)]({'name':_0x9797a0(0xb8f)});await _0x28e905[_0x9797a0(0x46d)]({'ref':_0x24a2f1[_0x9797a0(0xa5b)],'linkedId':_0x17d360[_0x9797a0(0x534)]}),await _0x28e905[_0x9797a0(0x46d)]({'ref':'does\x20not\x20exist'});const _0x31b932=await _0x28e905[_0x9797a0(0xc77)]()['populate'](_0x24a2f1[_0x9797a0(0x858)])[_0x9797a0(0x22b)]({'ref':0x1})[_0x9797a0(0x37d)]();assert[_0x9797a0(0xcbc)](_0x31b932[_0x9797a0(0x2a2)],0x2),assert['equal'](_0x31b932[0x0][_0x9797a0(0x171)],_0x24a2f1['fKfLV']),assert[_0x9797a0(0xcbc)](_0x31b932[0x0][_0x9797a0(0x81b)][_0x9797a0(0x8a8)],_0x24a2f1[_0x9797a0(0x952)]),assert[_0x9797a0(0xcbc)](_0x31b932[0x1]['ref'],_0x24a2f1[_0x9797a0(0x8f9)]),assert[_0x9797a0(0x672)](_0x31b932[0x1][_0x9797a0(0x81b)],undefined);}),it(_0x24a2f1[_0x150122(0xc0a)],async function(){const _0x57c9d9=_0x150122,_0x7e2730=Schema({'child':{'type':_0x3a1872['mZvDC'],'ref':_0x3a1872[_0x57c9d9(0x4cd)],'populate':{'select':_0x3a1872[_0x57c9d9(0x7ed)]}}}),_0x50e0e0=_0x27d0e4['model'](_0x3a1872['gllWM'],_0x7e2730),_0x3c44a1=new Schema({'name':String,'age':Number}),_0x2f4945=_0x27d0e4[_0x57c9d9(0x807)]('Child',_0x3c44a1),_0x4d3568=await _0x2f4945['create']({'name':_0x3a1872[_0x57c9d9(0x5e9)],'age':0x1e});await _0x50e0e0['create']({'child':_0x4d3568[_0x57c9d9(0x534)]});const _0x281caa=await _0x50e0e0[_0x57c9d9(0x3dd)]()[_0x57c9d9(0x52a)](_0x57c9d9(0xb8f));assert['equal'](_0x281caa[_0x57c9d9(0xb8f)][_0x57c9d9(0x8a8)],_0x57c9d9(0x2ce)),assert[_0x57c9d9(0x672)](_0x281caa[_0x57c9d9(0xb8f)][_0x57c9d9(0x3f4)],void 0x0);}),it(_0x150122(0x4f6),async function(){const _0x2e39af=_0x150122,_0x365715=_0x3a1872[_0x2e39af(0x2b8)](Schema,{'child':{'type':_0x3a1872[_0x2e39af(0xd2)],'ref':_0x3a1872[_0x2e39af(0x4cd)],'populate':{'select':_0x3a1872[_0x2e39af(0x7ed)]}}}),_0x54a5cd=_0x27d0e4[_0x2e39af(0x807)](_0x2e39af(0x855),_0x365715),_0x284dc9=new Schema({'name':String,'age':Number}),_0x1a940b=[];_0x284dc9[_0x2e39af(0x46c)](_0x3a1872[_0x2e39af(0xc2e)],function(){const _0xa6817c=_0x2e39af;_0x1a940b[_0xa6817c(0x2d6)](this[_0xa6817c(0xb5b)][_0xa6817c(0x2ac)]);});const _0x198164=_0x27d0e4[_0x2e39af(0x807)](_0x3a1872[_0x2e39af(0x4cd)],_0x284dc9),_0x479e03=await _0x198164['create']({'name':_0x2e39af(0x2ce),'age':0x1e});await _0x54a5cd[_0x2e39af(0x46d)]({'child':_0x479e03[_0x2e39af(0x534)]}),await _0x54a5cd[_0x2e39af(0x3dd)]()[_0x2e39af(0x52a)](_0x3a1872[_0x2e39af(0x212)])['lean']({'virtuals':[_0x3a1872[_0x2e39af(0x7ed)],_0x2e39af(0x190)]}),assert[_0x2e39af(0xcbc)](_0x1a940b['length'],0x1),assert[_0x2e39af(0x829)](_0x1a940b[0x0]['virtuals'],[_0x3a1872[_0x2e39af(0xd0b)]]);}),_0x24a2f1[_0x150122(0xa33)](it,'gh-9833',async function(){const _0x54a988=_0x150122,_0x52555f=_0x27d0e4[_0x54a988(0x807)](_0x54a988(0x881),new Schema({'name':String,'tags':[{'type':Schema[_0x54a988(0xc4a)]['ObjectId'],'ref':_0x54a988(0x33b)}]})),_0x4d4333=_0x27d0e4['model'](_0x54a988(0x33b),new Schema({'author':Schema[_0x54a988(0xc4a)][_0x54a988(0x2ef)]})),_0x3e6409=_0x27d0e4['model'](_0x54a988(0x3e2),new Schema({'name':String})),_0x16c638=new _0x3e6409({'name':_0x24a2f1[_0x54a988(0x88b)]});await _0x16c638[_0x54a988(0x87f)]();const _0x4f0585=new _0x4d4333({'author':_0x16c638['id']});await _0x4f0585['save']();const _0x163262=new _0x52555f({'name':_0x54a988(0xb0a),'tags':[_0x4f0585['id']]});await _0x163262[_0x54a988(0x87f)]();const _0x28a755=[{'$match':{'name':{'$in':[_0x163262['name']]}}},{'$lookup':{'from':_0x24a2f1[_0x54a988(0x4aa)],'localField':_0x54a988(0x33b),'foreignField':_0x24a2f1['vNBZv'],'as':_0x54a988(0x33b)}}],_0x3bcdbf=await _0x52555f[_0x54a988(0x842)](_0x28a755)[_0x54a988(0x37d)](),_0x369781=[{'path':_0x54a988(0x38c),'model':_0x54a988(0x3e2),'select':_0x24a2f1[_0x54a988(0xc7e)]}],_0x40e3bc=await _0x52555f['populate'](_0x3bcdbf,_0x369781);assert['ok'](!Array[_0x54a988(0x809)](_0x40e3bc[0x0][_0x54a988(0x33b)][0x0][_0x54a988(0xc78)]));}),it(_0x150122(0x767),async function(){const _0x53fcd2=_0x150122;if(_0x24a2f1[_0x53fcd2(0x20b)]!==_0x53fcd2(0x751)){const _0x15d91a=_0x27308c[0x0];_0x2bb960[_0x53fcd2(0xcbc)](_0x15d91a[_0x53fcd2(0x1c6)][_0x53fcd2(0x8a8)],_0x53fcd2(0xc20)),_0x48e75d['ok'](_0x15d91a[_0x53fcd2(0x1c6)][_0x53fcd2(0x669)]),_0x3a1872[_0x53fcd2(0x5b8)](_0x6f2e4);}else{const _0x57b13a=_0x27d0e4[_0x53fcd2(0x807)](_0x24a2f1[_0x53fcd2(0xd34)],new Schema({'name':String,'tags':[{'type':_0x24a2f1[_0x53fcd2(0x9c7)],'ref':_0x53fcd2(0x33b)}]})),_0x434fb2=_0x27d0e4[_0x53fcd2(0x807)](_0x24a2f1['UkzmY'],new Schema({'authors':[{'author':_0x24a2f1[_0x53fcd2(0x9c7)]}]})),_0x58e08a=_0x27d0e4[_0x53fcd2(0x807)](_0x53fcd2(0x3e2),new Schema({'name':String})),_0x5294e9=new _0x58e08a({'name':_0x53fcd2(0x228)});await _0x5294e9[_0x53fcd2(0x87f)]();const _0x1b2b72=new _0x434fb2({'authors':[{'author':_0x5294e9['id']},{'author':new mongoose['Types'][(_0x53fcd2(0x2ef))]()}]});await _0x1b2b72[_0x53fcd2(0x87f)]();const _0xcb4f9b=new _0x57b13a({'name':_0x24a2f1[_0x53fcd2(0xbb4)],'tags':[_0x1b2b72['id']]});await _0xcb4f9b['save']();const _0xa9aabe=[{'$match':{'name':{'$in':[_0xcb4f9b['name']]}}},{'$lookup':{'from':_0x24a2f1[_0x53fcd2(0x4aa)],'localField':_0x24a2f1[_0x53fcd2(0x4aa)],'foreignField':_0x53fcd2(0x534),'as':'tags'}}],_0x3599ee=await _0x57b13a[_0x53fcd2(0x842)](_0xa9aabe)[_0x53fcd2(0x37d)](),_0x3b41a2=[{'path':_0x24a2f1[_0x53fcd2(0xc3f)],'model':_0x24a2f1[_0x53fcd2(0x60a)],'select':'_id\x20name'}],_0x12bacd=await _0x57b13a[_0x53fcd2(0x52a)](_0x3599ee,_0x3b41a2);assert['strictEqual'](_0x12bacd[0x0][_0x53fcd2(0x33b)][0x0][_0x53fcd2(0x3e2)][0x0][_0x53fcd2(0xc78)][_0x53fcd2(0x8a8)],_0x24a2f1[_0x53fcd2(0x88b)]),assert['strictEqual'](_0x12bacd[0x0][_0x53fcd2(0x33b)][0x0][_0x53fcd2(0x3e2)][0x1]['author'],null);}}),it(_0x150122(0xfb),async function(){const _0x9f5fd9=_0x150122,_0x190a82=new Schema({'title':String,'commentsIds':[{'type':Schema['ObjectId'],'ref':_0x24a2f1[_0x9f5fd9(0x4b4)]}]}),_0x12b5e7=_0x27d0e4['model'](_0x24a2f1[_0x9f5fd9(0xc9)],_0x190a82),_0xfacbb2=new Schema({'content':String}),_0x133bdd=_0x27d0e4[_0x9f5fd9(0x807)](_0x9f5fd9(0x39a),_0xfacbb2),_0x47a767=new _0x133bdd({'content':_0x24a2f1[_0x9f5fd9(0xc34)]});await _0x47a767[_0x9f5fd9(0x87f)]();const _0x5445d9=await _0x133bdd['create']([{'content':_0x9f5fd9(0xc9c)},{'content':_0x24a2f1[_0x9f5fd9(0xa80)]}]);let _0x3fac79=await _0x12b5e7[_0x9f5fd9(0x46d)]([{'title':_0x24a2f1[_0x9f5fd9(0xcf9)],'commentsIds':[_0x47a767,_0x5445d9[0x0]]},{'title':_0x9f5fd9(0x55b),'commentsIds':[_0x47a767,_0x5445d9[0x1]]}]);_0x3fac79=await _0x12b5e7['find']()['sort']({'title':0x1})[_0x9f5fd9(0x52a)]({'path':_0x24a2f1[_0x9f5fd9(0x839)],'perDocumentLimit':0x2,'sort':{'content':0x1}}),assert[_0x9f5fd9(0xcbc)](_0x3fac79[_0x9f5fd9(0x2a2)],0x2),assert['ok'](!Array[_0x9f5fd9(0x809)](_0x3fac79[0x0][_0x9f5fd9(0x817)][0x0])),assert[_0x9f5fd9(0x829)](_0x3fac79[0x0][_0x9f5fd9(0x331)]()[_0x9f5fd9(0x817)][_0x9f5fd9(0x847)](_0x1f9f2e=>_0x1f9f2e[_0x9f5fd9(0x5e6)]),[_0x24a2f1[_0x9f5fd9(0xc34)],_0x24a2f1['QEMAP']]),assert['deepEqual'](_0x3fac79[0x1][_0x9f5fd9(0x331)]()[_0x9f5fd9(0x817)][_0x9f5fd9(0x847)](_0x490ec6=>_0x490ec6['content']),[_0x9f5fd9(0xae8),_0x24a2f1[_0x9f5fd9(0xa80)]]);}),_0x24a2f1[_0x150122(0x1fd)](it,_0x24a2f1[_0x150122(0x388)],async function(){const _0x55957b=_0x150122,_0x1ab994=new Schema({'name':String,'children':[{'type':_0x24a2f1['jwqsD'],'ref':_0x55957b(0x5ee)}],'child':{'type':'ObjectId','ref':_0x55957b(0x5ee)}}),_0x80ce82=_0x27d0e4[_0x55957b(0x807)](_0x24a2f1['aJupZ'],_0x1ab994),_0x5db929=_0x27d0e4['model'](_0x24a2f1[_0x55957b(0xa5b)],_0x24a2f1['gyBDN'](Schema,{'name':String})),_0x203e86=await _0x5db929[_0x55957b(0x46d)]([{'name':_0x55957b(0x159)},{'name':_0x55957b(0xd6e)}]);let _0x35e7f2=await _0x80ce82[_0x55957b(0x46d)]({'name':_0x55957b(0x2f1),'children':_0x203e86,'child':_0x203e86[0x0][_0x55957b(0x534)]}),_0x254cc7=[];function _0x5c2bc1(_0x4280e9,_0x5e1aae){return _0x254cc7['push']({'doc':_0x4280e9,'id':_0x5e1aae}),_0x5e1aae;}_0x35e7f2=await _0x80ce82[_0x55957b(0x770)](_0x35e7f2)[_0x55957b(0x52a)]({'path':_0x24a2f1[_0x55957b(0xc33)],'transform':_0x5c2bc1}),assert[_0x55957b(0xcbc)](_0x254cc7[_0x55957b(0x2a2)],0x2),assert[_0x55957b(0xcbc)](_0x254cc7[0x0][_0x55957b(0x398)][_0x55957b(0x8a8)],_0x24a2f1[_0x55957b(0x1f4)]),assert[_0x55957b(0xcbc)](_0x254cc7[0x0]['id'][_0x55957b(0x11d)](),_0x203e86[0x0][_0x55957b(0x534)]['toHexString']()),assert['equal'](_0x254cc7[0x1][_0x55957b(0x398)][_0x55957b(0x8a8)],_0x24a2f1['QsWUP']),assert[_0x55957b(0xcbc)](_0x254cc7[0x1]['id']['toHexString'](),_0x203e86[0x1]['_id']['toHexString']()),_0x254cc7=[],_0x35e7f2=await _0x80ce82[_0x55957b(0x770)](_0x35e7f2)[_0x55957b(0x52a)]({'path':_0x24a2f1[_0x55957b(0x952)],'transform':_0x5c2bc1}),assert['equal'](_0x254cc7[_0x55957b(0x2a2)],0x1),assert[_0x55957b(0xcbc)](_0x254cc7[0x0][_0x55957b(0x398)][_0x55957b(0x8a8)],_0x55957b(0x159)),assert[_0x55957b(0xcbc)](_0x254cc7[0x0]['id'][_0x55957b(0x11d)](),_0x203e86[0x0]['_id']['toHexString']());const _0x141856=new mongoose['Types'][(_0x55957b(0x2ef))]();await _0x80ce82[_0x55957b(0x6fd)]({'_id':_0x35e7f2['_id']},{'$push':{'children':_0x141856}}),_0x254cc7=[],_0x35e7f2=await _0x80ce82[_0x55957b(0x770)](_0x35e7f2)[_0x55957b(0x52a)]({'path':_0x55957b(0x703),'transform':_0x5c2bc1}),assert['equal'](_0x254cc7[_0x55957b(0x2a2)],0x3),assert[_0x55957b(0x672)](_0x254cc7[0x2]['doc'],null),assert['equal'](_0x254cc7[0x2]['id'][_0x55957b(0x11d)](),_0x141856['toHexString']()),assert[_0x55957b(0xcbc)](_0x35e7f2[_0x55957b(0x703)][0x2]['toHexString'](),_0x141856['toHexString']()),await _0x80ce82[_0x55957b(0x6fd)]({'_id':_0x35e7f2[_0x55957b(0x534)]},{'$set':{'children':[_0x203e86[0x0],_0x203e86[0x0]]}}),_0x254cc7=[],_0x35e7f2=await _0x80ce82[_0x55957b(0x770)](_0x35e7f2)[_0x55957b(0x52a)]({'path':_0x55957b(0x703),'transform':_0x5c2bc1}),assert['equal'](_0x254cc7[_0x55957b(0x2a2)],0x2),assert['equal'](_0x254cc7[0x0]['id']['toHexString'](),_0x203e86[0x0]['_id']['toHexString']()),assert['equal'](_0x254cc7[0x1]['id'][_0x55957b(0x11d)](),_0x203e86[0x0][_0x55957b(0x534)]['toHexString']()),await _0x80ce82['updateOne']({'_id':_0x35e7f2['_id']},{'$set':{'child':_0x141856}}),_0x254cc7=[],_0x35e7f2=await _0x80ce82[_0x55957b(0x770)](_0x35e7f2)[_0x55957b(0x52a)]({'path':_0x24a2f1[_0x55957b(0x952)],'transform':_0x5c2bc1}),assert['equal'](_0x254cc7[_0x55957b(0x2a2)],0x1),assert[_0x55957b(0x672)](_0x254cc7[0x0][_0x55957b(0x398)],null),assert[_0x55957b(0xcbc)](_0x254cc7[0x0]['id'][_0x55957b(0x11d)](),_0x141856[_0x55957b(0x11d)]());}),it(_0x150122(0xa82),async function(){const _0x85ec52=_0x150122,_0x902240=new Schema({'title':String}),_0x3ade4a=new Schema({'title':String,'parent':{'type':mongoose['Schema'][_0x85ec52(0xc4a)][_0x85ec52(0x2ef)],'ref':'Parent'}});_0x902240[_0x85ec52(0x833)](_0x3a1872[_0x85ec52(0x1bf)],{'ref':_0x3a1872['PjqTe'],'localField':_0x85ec52(0x534),'foreignField':_0x3a1872['wswMv']});const _0x2a5199=_0x27d0e4['model'](_0x85ec52(0x855),_0x902240),_0x656914=_0x27d0e4['model'](_0x85ec52(0x5ee),_0x3ade4a);await _0x2a5199[_0x85ec52(0x46d)]({'title':_0x85ec52(0xd0a)}),await _0x656914[_0x85ec52(0x46d)]({'title':_0x85ec52(0xb8f)});const _0x5cb8b9=await _0x2a5199[_0x85ec52(0xc77)]()[_0x85ec52(0x2ac)]()[_0x85ec52(0x52a)]({'path':_0x3a1872[_0x85ec52(0x1bf)],'match':{'title':_0x85ec52(0xb8f)},'select':_0x3a1872['VozXJ'],'strictPopulate':![],'transform':_0x4b8d4f=>{return _0x4b8d4f;}});assert[_0x85ec52(0xcbc)](_0x5cb8b9[_0x85ec52(0x2a2)],0x1),assert[_0x85ec52(0x61a)](_0x5cb8b9[0x0][_0x85ec52(0x703)],[]);}),it(_0x150122(0x94e),async function(){const _0x1a3723=_0x150122,_0x180f6b=_0x27d0e4['model'](_0x24a2f1[_0x1a3723(0xa5b)],mongoose[_0x1a3723(0x101)]({'name':String})),_0x101299=_0x27d0e4['model'](_0x1a3723(0x855),mongoose[_0x1a3723(0x101)]({'child':{'type':_0x24a2f1['jwqsD'],'ref':_0x24a2f1['fKfLV']},'children':[{'type':'ObjectId','ref':_0x1a3723(0x5ee)}]})),_0x595706=await _0x180f6b['create']([{'name':_0x24a2f1['VzyCx']},{'name':_0x1a3723(0xd6e)}]);let _0x5e9a70=await _0x101299['create']({'children':_0x595706,'child':_0x595706[0x0]});_0x5e9a70=await _0x101299['findById'](_0x5e9a70)[_0x1a3723(0x52a)]([{'path':_0x1a3723(0xb8f),'transform':_0x26a493},{'path':_0x1a3723(0x703),'options':{'retainNullValues':!![]},'transform':_0x26a493}]);function _0x26a493(_0x4230f6){const _0x14cdef=_0x1a3723;return _0x3a1872[_0x14cdef(0x293)](_0x4230f6,null)?null:_0x4230f6[_0x14cdef(0x8a8)];}assert['equal'](_0x5e9a70[_0x1a3723(0xb8f)],_0x24a2f1[_0x1a3723(0x1f4)]),assert[_0x1a3723(0x829)](_0x5e9a70[_0x1a3723(0x331)]()[_0x1a3723(0x703)]['sort']()[_0x1a3723(0x21f)](),[_0x1a3723(0x159),_0x24a2f1[_0x1a3723(0x9ce)]]);}),it(_0x24a2f1[_0x150122(0x689)],async function(){const _0x3cf1f9=_0x150122,_0x18bfa5={'JfdBn':function(_0x5047e0){const _0x116416=_0x2d45;return _0x24a2f1[_0x116416(0x9c9)](_0x5047e0);},'Jmdah':_0x3cf1f9(0x5a5),'lmeIa':_0x3cf1f9(0x3e4),'bmHBh':_0x24a2f1[_0x3cf1f9(0x490)]};if(_0x24a2f1[_0x3cf1f9(0x555)]('xzqLV',_0x3cf1f9(0x1df))){const _0x1c91c6=new Schema({'name':String});_0x1c91c6[_0x3cf1f9(0x833)](_0x24a2f1['BHiQP'],{'ref':_0x24a2f1[_0x3cf1f9(0xa5b)],'localField':_0x3cf1f9(0x534),'foreignField':'parentId','justOne':!![]});const _0xc63ea7=_0x27d0e4['model']('Parent',_0x1c91c6),_0x486edf=_0x27d0e4['model'](_0x3cf1f9(0x5ee),_0x24a2f1[_0x3cf1f9(0x468)](Schema,{'name':String,'parentId':_0x24a2f1['jwqsD']}));let _0x836de7=await _0xc63ea7[_0x3cf1f9(0x46d)]({'name':_0x3cf1f9(0x2f1)});await _0x486edf['create']({'name':_0x24a2f1[_0x3cf1f9(0x1f4)],'parentId':_0x836de7['_id']});const _0x621681=[];_0x836de7=await _0xc63ea7[_0x3cf1f9(0x770)](_0x836de7)[_0x3cf1f9(0x52a)]({'path':_0x3cf1f9(0xb8f),'transform':function(_0x38513a,_0x52e85){return _0x621681['push']({'doc':_0x38513a,'id':_0x52e85}),_0x52e85;}}),assert[_0x3cf1f9(0xcbc)](_0x621681['length'],0x1),assert['strictEqual'](_0x621681[0x0][_0x3cf1f9(0x398)][_0x3cf1f9(0x669)][_0x3cf1f9(0x11d)](),_0x836de7[_0x3cf1f9(0x534)][_0x3cf1f9(0x11d)]()),assert[_0x3cf1f9(0xcbc)](_0x621681[0x0]['id'][_0x3cf1f9(0x11d)](),_0x836de7['_id'][_0x3cf1f9(0x11d)]());}else{const _0x2f5a8a={'zCiQs':function(_0x200b30){const _0x43e9a2=_0x3cf1f9;return _0x18bfa5[_0x43e9a2(0x813)](_0x200b30);},'DlsFb':_0x18bfa5['Jmdah'],'jTBep':_0x3cf1f9(0x8a8)};_0x53f46d[_0x3cf1f9(0x127)](_0x292654),_0x4c47a7[_0x3cf1f9(0xc77)]({'tags':_0x18bfa5[_0x3cf1f9(0x416)]})[_0x3cf1f9(0x2ac)]()[_0x3cf1f9(0x52a)](_0x18bfa5['bmHBh'])[_0x3cf1f9(0x37d)](function(_0xc9dd7a,_0x492b36){const _0x68ed59=_0x3cf1f9,_0x5f257f={'AgEns':'3|2|5|4|0|1','CPLXz':function(_0x247780){const _0x3b5127=_0x2d45;return _0x2f5a8a[_0x3b5127(0xbfa)](_0x247780);}};_0x3eb182[_0x68ed59(0x127)](_0xc9dd7a);const _0x3d2daf={'path':_0x2f5a8a[_0x68ed59(0x209)],'select':_0x2f5a8a[_0x68ed59(0x3a8)],'options':{'limit':0x1}};_0x6ba979[_0x68ed59(0x52a)](_0x492b36,_0x3d2daf,function(_0x1d52d5,_0x2ce78f){const _0x408769=_0x68ed59,_0x2c4e16=_0x5f257f['AgEns']['split']('|');let _0x57db4b=0x0;while(!![]){switch(_0x2c4e16[_0x57db4b++]){case'0':_0x1bddec[_0x408769(0xcbc)](_0x3d2daf[_0x408769(0xc11)][_0x408769(0x395)],0x1);continue;case'1':_0x5f257f[_0x408769(0x733)](_0x48f35d);continue;case'2':_0x5ace2a[_0x408769(0xcbc)](_0x2ce78f[_0x408769(0x2a2)],0x2);continue;case'3':_0x10c83e[_0x408769(0x127)](_0x1d52d5);continue;case'4':_0x42921e['equal'](_0x2ce78f[0x1][_0x408769(0xc78)][_0x408769(0x88e)]['length'],0x1);continue;case'5':_0xcebf4a[_0x408769(0xcbc)](_0x2ce78f[0x0]['author'][_0x408769(0x88e)][_0x408769(0x2a2)],0x1);continue;}break;}});});}}),it(_0x150122(0x635),async function(){const _0x2a3606=_0x150122,_0xf44e9c=new Schema({'name':String});_0xf44e9c[_0x2a3606(0x833)](_0x2a3606(0x703),{'ref':_0x3a1872[_0x2a3606(0x4cd)],'localField':_0x2a3606(0x534),'foreignField':_0x3a1872[_0x2a3606(0x707)],'justOne':![]});const _0x4b5367=_0x27d0e4[_0x2a3606(0x807)](_0x2a3606(0x855),_0xf44e9c),_0x357ea6=_0x27d0e4['model'](_0x2a3606(0x5ee),Schema({'name':String,'parentId':_0x2a3606(0x2ef)}));let _0xa2b7f1=await _0x4b5367['create']({'name':_0x2a3606(0x2f1)});await _0x357ea6[_0x2a3606(0x46d)]([{'name':_0x2a3606(0x159),'parentId':_0xa2b7f1[_0x2a3606(0x534)]},{'name':_0x3a1872[_0x2a3606(0x868)],'parentId':_0xa2b7f1['_id']}]);const _0x508ef3=[];_0xa2b7f1=await _0x4b5367[_0x2a3606(0x770)](_0xa2b7f1)[_0x2a3606(0x52a)]({'path':_0x3a1872[_0x2a3606(0x1bf)],'transform':function(_0x3526da,_0x2cc4a0){const _0x5b6ff7=_0x2a3606;return _0x508ef3[_0x5b6ff7(0x2d6)]({'doc':_0x3526da,'id':_0x2cc4a0}),_0x2cc4a0;}}),assert[_0x2a3606(0xcbc)](_0x508ef3[_0x2a3606(0x2a2)],0x2),assert[_0x2a3606(0x829)](_0x508ef3[_0x2a3606(0x847)](_0x89c27b=>_0x89c27b['doc']['name'])[_0x2a3606(0x22b)](),[_0x3a1872[_0x2a3606(0x868)],_0x3a1872[_0x2a3606(0x708)]]),assert[_0x2a3606(0x672)](_0x508ef3[0x0][_0x2a3606(0x398)][_0x2a3606(0x669)][_0x2a3606(0x11d)](),_0xa2b7f1[_0x2a3606(0x534)][_0x2a3606(0x11d)]()),assert[_0x2a3606(0xcbc)](_0x508ef3[0x0]['id']['toHexString'](),_0xa2b7f1[_0x2a3606(0x534)][_0x2a3606(0x11d)]()),assert['strictEqual'](_0x508ef3[0x1]['doc'][_0x2a3606(0x669)][_0x2a3606(0x11d)](),_0xa2b7f1[_0x2a3606(0x534)][_0x2a3606(0x11d)]()),assert[_0x2a3606(0xcbc)](_0x508ef3[0x1]['id'][_0x2a3606(0x11d)](),_0xa2b7f1[_0x2a3606(0x534)]['toHexString']());}),_0x24a2f1[_0x150122(0x511)](it,_0x24a2f1[_0x150122(0x9cf)],async function(){const _0xc7cb28=_0x150122,_0x379ca9=new mongoose['Schema']({'_modelB':{'type':mongoose[_0xc7cb28(0xc4a)][_0xc7cb28(0x2ef)],'ref':_0x3a1872[_0xc7cb28(0xafd)]},'_rootModel':{'type':mongoose[_0xc7cb28(0xc4a)][_0xc7cb28(0x2ef)],'ref':_0xc7cb28(0x438)}}),_0xf25cb0=new mongoose[(_0xc7cb28(0x101))]({'_rootModel':{'type':mongoose[_0xc7cb28(0xc4a)][_0xc7cb28(0x2ef)],'ref':_0x3a1872['WIkZt']}}),_0x5079c7=new mongoose['Schema']({'name':String}),_0x5a59e1=_0x27d0e4['model'](_0xc7cb28(0x8ce),_0x379ca9),_0x4507d2=_0x27d0e4[_0xc7cb28(0x807)](_0x3a1872[_0xc7cb28(0xafd)],_0xf25cb0),_0x54bd87=_0x27d0e4[_0xc7cb28(0x807)](_0xc7cb28(0x438),_0x5079c7),_0x16c793=new _0x54bd87({'name':_0xc7cb28(0x2ce)}),_0x1cfd01=new _0x4507d2({'_rootModel':_0x16c793}),_0x5b9304=new _0x5a59e1({'_rootModel':_0x16c793,'_modelB':_0x1cfd01});await Promise[_0xc7cb28(0x848)]([_0x16c793[_0xc7cb28(0x87f)](),_0x1cfd01[_0xc7cb28(0x87f)](),_0x5b9304[_0xc7cb28(0x87f)]()]);const _0x4c691c=await _0x5a59e1[_0xc7cb28(0x770)](_0x5b9304[_0xc7cb28(0x534)]);await _0x4c691c['populate'](_0x3a1872[_0xc7cb28(0xca6)]),await _0x4c691c['populate'](_0xc7cb28(0x5ae)),assert[_0xc7cb28(0xcbc)](_0x4c691c[_0xc7cb28(0xaed)][_0xc7cb28(0x2c5)][_0xc7cb28(0x8a8)],_0x3a1872['XWQEU']);}),_0x24a2f1[_0x150122(0x1be)](it,_0x24a2f1['HGKxg'],async function(){const _0x48e70a=_0x150122,_0x1e6544={'ugYvo':_0x24a2f1[_0x48e70a(0x752)],'McDwk':function(_0x886046){return _0x886046();}},_0x4a88ff=_0x27d0e4[_0x48e70a(0x807)](_0x48e70a(0x881),new Schema({'name':String,'contributors':[{'author':Schema[_0x48e70a(0xc4a)]['ObjectId']}]})),_0x37b6d0=_0x27d0e4['model'](_0x48e70a(0x3e2),new Schema({'name':String})),_0x3d03d1=new _0x37b6d0({'name':'Author1'});await _0x3d03d1['save']();const _0x2b471d=new _0x4a88ff({'name':_0x24a2f1[_0x48e70a(0xbb4)],'contributors':[{'author':_0x3d03d1['id']}]});await _0x2b471d[_0x48e70a(0x87f)]();const _0x9b6459=new _0x4a88ff({'name':_0x48e70a(0xb72),'contributors':[{'author':_0x3d03d1['id']}]});await _0x9b6459[_0x48e70a(0x87f)]();const _0xd3ed1f=[{'path':_0x48e70a(0x806),'model':_0x24a2f1[_0x48e70a(0x60a)],'select':_0x24a2f1[_0x48e70a(0xc7e)]}],_0x34bd31=(await _0x4a88ff[_0x48e70a(0xc77)]()[_0x48e70a(0x52a)](_0xd3ed1f))['map'](_0x599b00=>{const _0xc58ea6=_0x48e70a;if(_0xc58ea6(0xc3b)==='tFnzt')return _0x599b00=_0x599b00[_0xc58ea6(0x331)](),!_0x599b00[_0xc58ea6(0x534)][_0xc58ea6(0x862)](_0x2b471d['id'])&&(_0x599b00[_0xc58ea6(0x31c)][0x0][_0xc58ea6(0xc78)]=_0x599b00[_0xc58ea6(0x31c)][0x0][_0xc58ea6(0xc78)]['_id']),_0x599b00;else _0x235258[_0xc58ea6(0xcbc)](_0x515441[_0xc58ea6(0x703)][0x0][_0xc58ea6(0x334)]['value'][_0xc58ea6(0x8a8)],_0x1e6544[_0xc58ea6(0x3e7)]),_0x42db93[_0xc58ea6(0xcbc)](_0x58493f['children'][0x1][_0xc58ea6(0x334)][_0xc58ea6(0x77f)],null),_0x280453[_0xc58ea6(0xcbc)](_0x426cb4[_0xc58ea6(0x703)][0x2][_0xc58ea6(0x334)][_0xc58ea6(0x77f)][_0xc58ea6(0x8a8)],_0xc58ea6(0x50e)),_0x1e6544[_0xc58ea6(0x317)](_0x2fe0fc);}),_0x299cc4=await _0x4a88ff[_0x48e70a(0x52a)](_0x34bd31,_0xd3ed1f);assert['equal'](_0x299cc4[0x0]['contributors'][0x0]['author'][_0x48e70a(0x8a8)],'Author1');}),_0x24a2f1[_0x150122(0x1c5)](it,_0x150122(0x944),async function(){const _0xc7c3c8=_0x150122,_0x4f2dbf=_0x27d0e4[_0xc7c3c8(0x807)](_0xc7c3c8(0xd61),new Schema({'name':String,'author':Schema[_0xc7c3c8(0xc4a)][_0xc7c3c8(0x2ef)]})),_0x5a9247=_0x27d0e4['model'](_0x24a2f1[_0xc7c3c8(0xd63)],new Schema({'name':String})),_0x2607a2=new _0x5a9247({'name':_0xc7c3c8(0x228)});await _0x2607a2[_0xc7c3c8(0x87f)]();const _0x360fe1=new _0x4f2dbf({'name':_0x24a2f1[_0xc7c3c8(0xbb4)],'author':_0x2607a2['id']});await _0x360fe1['save']();const _0x27b096=new _0x4f2dbf({'name':_0xc7c3c8(0xb72),'author':_0x2607a2['id']});await _0x27b096[_0xc7c3c8(0x87f)]();const _0x52df1d=[{'path':_0xc7c3c8(0xc78),'model':_0x24a2f1[_0xc7c3c8(0xd63)]}],_0x3d771f=(await _0x4f2dbf[_0xc7c3c8(0xc77)]()[_0xc7c3c8(0x2ac)]())[_0xc7c3c8(0x847)](_0x4a343a=>{const _0x5cf130=_0xc7c3c8;return!_0x4a343a[_0x5cf130(0x534)][_0x5cf130(0x862)](_0x360fe1['id'])&&(_0x4a343a[_0x5cf130(0xc78)]={'_id':_0x4a343a[_0x5cf130(0xc78)]}),_0x4a343a;}),_0x374a69=await _0x4f2dbf['populate'](_0x3d771f,_0x52df1d);assert[_0xc7c3c8(0xcbc)](_0x374a69['length'],0x2),assert[_0xc7c3c8(0xcbc)](_0x374a69[0x0][_0xc7c3c8(0xc78)]['name'],_0xc7c3c8(0x228)),assert[_0xc7c3c8(0xcbc)](_0x374a69[0x1]['author'][_0xc7c3c8(0x8a8)],'Author1');}),it(_0x150122(0x9cc),async function(){const _0x37ba38=_0x150122,_0x4bd940=new Schema({'name':String,'author':String});_0x4bd940[_0x37ba38(0x833)](_0x24a2f1[_0x37ba38(0x60a)],{'ref':_0x37ba38(0x790),'localField':_0x24a2f1[_0x37ba38(0x490)],'foreignField':_0x37ba38(0x953),'justOne':![]});const _0x3d976d=_0x27d0e4['model'](_0x24a2f1['DhxNr'],_0x4bd940),_0x3fa7ab=_0x27d0e4[_0x37ba38(0x807)](_0x24a2f1[_0x37ba38(0xd63)],new Schema({'aliases':[String]}));await _0x3fa7ab[_0x37ba38(0x46d)]({'aliases':[_0x24a2f1['gqMhQ'],_0x37ba38(0x425),_0x24a2f1[_0x37ba38(0x342)]]});const _0x217be4=await _0x3d976d[_0x37ba38(0x46d)]({'name':_0x37ba38(0xb0a),'author':'author1'}),_0x54387f=await _0x3d976d[_0x37ba38(0x770)](_0x217be4)[_0x37ba38(0x52a)](_0x24a2f1['VKfUn']);assert[_0x37ba38(0xcbc)](_0x54387f[_0x37ba38(0x3e2)][_0x37ba38(0x2a2)],0x1),assert[_0x37ba38(0x829)](_0x54387f[_0x37ba38(0x331)]({'virtuals':!![]})[_0x37ba38(0x3e2)][0x0][_0x37ba38(0x953)],['author1',_0x37ba38(0x425),_0x37ba38(0x3d7)]);}),it(_0x150122(0xd3a),async function(){const _0x59148e=_0x150122,_0x840fc6=_0x27d0e4[_0x59148e(0x807)](_0x59148e(0x11f),mongoose[_0x59148e(0x101)]({'name':String,'access':[{'role':String,'deletedAt':Date,'organization':_0x24a2f1[_0x59148e(0x9c7)]}]})),_0x477d35=mongoose[_0x59148e(0x101)]({'name':String});_0x477d35['virtual'](_0x24a2f1[_0x59148e(0x5fa)],{'ref':_0x24a2f1[_0x59148e(0x840)],'localField':_0x24a2f1['vNBZv'],'foreignField':_0x24a2f1['zEdSB']});const _0x3f8263=_0x27d0e4[_0x59148e(0x807)](_0x24a2f1[_0x59148e(0xa70)],_0x477d35),_0x5941a7=await _0x3f8263[_0x59148e(0x46d)]({'name':_0x24a2f1[_0x59148e(0xd52)]});await _0x840fc6[_0x59148e(0x46d)]([{'name':_0x24a2f1[_0x59148e(0x244)],'access':[{'role':_0x59148e(0xbcc),'organization':_0x5941a7[_0x59148e(0x534)]}]},{'name':'user2','access':[{'role':_0x59148e(0xbcc),'organization':null}]},{'name':_0x59148e(0xc4c),'access':[{'role':'admin','organization':_0x5941a7['_id'],'deletedAt':new Date()},{'role':_0x59148e(0xbcc),'organization':null}]}]);const _0x260709=await _0x3f8263[_0x59148e(0x770)](_0x5941a7)['populate']({'path':_0x24a2f1[_0x59148e(0x5fa)],'match':{'access':{'$elemMatch':{'role':_0x59148e(0xbcc),'deletedAt':{'$exists':![]}}}}});assert[_0x59148e(0xcbc)](_0x260709[_0x59148e(0x734)]['length'],0x1),assert[_0x59148e(0xcbc)](_0x260709[_0x59148e(0x734)][0x0][_0x59148e(0x8a8)],_0x24a2f1['TodLv']);}),_0x24a2f1[_0x150122(0xf1)](it,_0x150122(0x647),async function(){const _0x167162=_0x150122,_0x45527a=_0x27d0e4[_0x167162(0x807)]('Cat',{'name':String,'friends':[{'immutable':!![],'type':mongoose[_0x167162(0x2ef)],'ref':_0x3a1872[_0x167162(0x41b)]}]}),_0x3beafc=await _0x45527a[_0x167162(0x46d)]({'name':_0x167162(0x803)}),_0x1db7d2=await _0x45527a[_0x167162(0x46d)]({'name':_0x167162(0x33f),'friends':[_0x3beafc['id']]});await _0x1db7d2[_0x167162(0x52a)]('friends'),assert[_0x167162(0xcbc)](_0x1db7d2['friends'][0x0][_0x167162(0x8a8)],_0x3a1872['iWrTi']);}),_0x24a2f1['ZDxMf'](it,_0x24a2f1[_0x150122(0xca0)],async function(){const _0x4d83ef=_0x150122,_0x5c6368=mongoose[_0x4d83ef(0x101)]({'name':String,'params':[{'key':String,'value':'Mixed'}]}),_0x5dc0b4=_0x27d0e4[_0x4d83ef(0x807)](_0x4d83ef(0x438),_0x5c6368),_0x531822=_0x27d0e4[_0x4d83ef(0x807)](_0x4d83ef(0x11f),mongoose[_0x4d83ef(0x101)]({'name':String})),_0x19894f=await _0x531822[_0x4d83ef(0x46d)]({'name':_0x3a1872[_0x4d83ef(0x778)]});await _0x5dc0b4[_0x4d83ef(0x46d)]([{'name':_0x4d83ef(0x165),'params':[{'key':'textContext','value':_0x4d83ef(0xb35)}]},{'name':_0x3a1872[_0x4d83ef(0x122)],'params':[{'key':_0x3a1872['imaYp'],'value':{'optionLabels':[_0x19894f[_0x4d83ef(0x534)]]}}]}]);const _0x4c9804=await _0x5dc0b4[_0x4d83ef(0xc77)]()[_0x4d83ef(0x22b)]({'name':0x1})['populate']({'path':_0x4d83ef(0xa03),'model':_0x531822});assert[_0x4d83ef(0xcbc)](_0x4c9804[0x0][_0x4d83ef(0x8a8)],_0x4d83ef(0x165)),assert[_0x4d83ef(0xcbc)](_0x4c9804[0x0][_0x4d83ef(0x42a)][_0x4d83ef(0x2a2)],0x1),assert[_0x4d83ef(0xcbc)](_0x4c9804[0x0][_0x4d83ef(0x42a)][0x0][_0x4d83ef(0x77f)],_0x3a1872['KEFNY']),assert[_0x4d83ef(0xcbc)](_0x4c9804[0x1][_0x4d83ef(0x8a8)],_0x3a1872[_0x4d83ef(0x122)]),assert[_0x4d83ef(0xcbc)](_0x4c9804[0x1][_0x4d83ef(0x42a)][_0x4d83ef(0x2a2)],0x1),assert['equal'](_0x4c9804[0x1][_0x4d83ef(0x42a)][0x0][_0x4d83ef(0x77f)]['optionLabels']['length'],0x1),assert[_0x4d83ef(0xcbc)](_0x4c9804[0x1][_0x4d83ef(0x42a)][0x0][_0x4d83ef(0x77f)]['optionLabels'][0x0][_0x4d83ef(0x8a8)],_0x3a1872[_0x4d83ef(0x778)]);}),_0x24a2f1['eimvl'](it,_0x150122(0x140),async function(){const _0x238c34=_0x150122,_0x31c483=new Schema({'dummy':String}),_0x3f7e26=new Schema({'title':String,'kind':{'required':!![],'type':String,'enum':[_0x24a2f1[_0x238c34(0xa0e)]]}},{'discriminatorKey':_0x24a2f1[_0x238c34(0x16c)]}),_0x4e0cc4=new Schema({'speakers':[{'type':mongoose[_0x238c34(0x101)][_0x238c34(0xc4a)][_0x238c34(0x2ef)],'ref':_0x238c34(0x7e6)}]});_0x4e0cc4[_0x238c34(0x827)](_0x3f7e26),_0x4e0cc4[_0x238c34(0xae3)][_0x238c34(0x722)][_0x238c34(0xc11)][_0x238c34(0x7d6)]=!![];const _0x820bd5=new Schema({'activities':[{'required':!![],'type':_0x3f7e26}]});_0x820bd5[_0x238c34(0x2c8)](_0x24a2f1[_0x238c34(0x290)])[_0x238c34(0x65b)](_0x24a2f1['EITrt'],_0x4e0cc4,_0x24a2f1[_0x238c34(0xa0e)]);const _0x83f530=_0x27d0e4[_0x238c34(0x807)](_0x238c34(0x7e6),_0x31c483),_0x29ba=_0x27d0e4[_0x238c34(0x807)]('Test',_0x820bd5),_0x6c330a=await _0x83f530[_0x238c34(0x46d)]({'dummy':'1'}),_0x573062=await _0x83f530[_0x238c34(0x46d)]({'dummy':'2'}),_0x4f0801=await _0x29ba[_0x238c34(0x46d)]({'activities':[{'title':_0x24a2f1[_0x238c34(0xb9e)],'kind':_0x24a2f1[_0x238c34(0xa0e)],'speakers':[_0x6c330a,_0x573062]}]}),_0x1e9937=await _0x29ba['findOne']({'_id':_0x4f0801['_id']})[_0x238c34(0xb76)]()[_0x238c34(0x37d)]();await _0x1e9937['populate']({'path':_0x24a2f1[_0x238c34(0x7b3)]}),assert[_0x238c34(0xcbc)](_0x1e9937[_0x238c34(0xb88)][_0x238c34(0x2a2)],0x1),assert['equal'](_0x1e9937[_0x238c34(0xb88)][0x0][_0x238c34(0xa85)][_0x238c34(0x2a2)],0x2),assert[_0x238c34(0xcbc)](_0x1e9937[_0x238c34(0xb88)][0x0]['speakers'][0x0][_0x238c34(0xaa4)],'1'),assert['equal'](_0x1e9937['activities'][0x0]['speakers'][0x1][_0x238c34(0xaa4)],'2');}),_0x24a2f1[_0x150122(0x1fd)](it,'supports\x20populating\x20an\x20array\x20of\x20immutable\x20elements\x20(gh-10264)',async function(){const _0x423889=_0x150122,_0x4d78d5=_0x27d0e4[_0x423889(0x807)](_0x3a1872['GghYW'],{'_id':String,'name':String,'friends':[{'immutable':!![],'ref':_0x3a1872['GghYW'],'type':String}]}),_0x25d17e=new _0x4d78d5({'_id':_0x3a1872[_0x423889(0x5b2)],'name':_0x423889(0x184)});await _0x25d17e[_0x423889(0x87f)]();const _0x226c72=new _0x4d78d5({'_id':_0x3a1872[_0x423889(0x487)],'name':_0x423889(0xcc5),'friends':[_0x25d17e['id']]});await _0x226c72[_0x423889(0x87f)](),await _0x226c72[_0x423889(0x52a)](_0x423889(0x88e)),assert['equal'](_0x226c72[_0x423889(0x88e)][0x0]['name'],_0x3a1872[_0x423889(0x27a)]);}),it(_0x24a2f1[_0x150122(0xa29)],async function(){const _0x38aaea=_0x150122,_0x4f59ca={'ZNjYx':_0x38aaea(0x930),'WIuTT':_0x38aaea(0x978),'pApSu':_0x38aaea(0x3f4),'JxkYY':_0x24a2f1[_0x38aaea(0x40e)],'uYWlP':function(_0x2c5ea1){return _0x2c5ea1();}};if(_0x24a2f1[_0x38aaea(0xc75)]!=='UDcpG')_0x17d8ac[_0x38aaea(0x127)](_0x495004),_0x1f21e0[_0x38aaea(0x672)](_0x301104[0x0][_0x38aaea(0xb8b)][_0x38aaea(0x2a2)],0x1),_0x892f12['equal'](_0x5deb6a[0x0][_0x38aaea(0xb8b)][0x0][_0x38aaea(0x8a8)],_0x4f59ca['ZNjYx']),_0x16f491[_0x38aaea(0xcbc)](_0x2226eb[0x0][_0x38aaea(0xb8b)][0x0][_0x38aaea(0x978)],_0x38aaea(0xd33)),_0xbf5ca5['equal'](_0x285f1a[0x0][_0x38aaea(0xb8b)][0x0][_0x38aaea(0x346)](_0x4f59ca[_0x38aaea(0x747)]),!![]),_0x4ea696[_0x38aaea(0xcbc)](_0x193821[0x0]['fans'][0x0][_0x38aaea(0x346)]([_0x4f59ca[_0x38aaea(0x747)]]),!![]),_0x585d27[_0x38aaea(0xcbc)](_0x1dedd2[0x0][_0x38aaea(0xb8b)][0x0]['isInit'](_0x38aaea(0x3f3)),![]),_0x203459[_0x38aaea(0xcbc)](_0x42f426[0x0][_0x38aaea(0xb8b)][0x0][_0x38aaea(0x346)](_0x38aaea(0x3f4)),![]),_0x96af6e[_0x38aaea(0xcbc)](_0x8a3fc0[0x0][_0x38aaea(0xb8b)][0x0]['isInit']([_0x4f59ca[_0x38aaea(0x747)],_0x4f59ca['pApSu']]),!![]),_0x99ead3[_0x38aaea(0xcbc)](_0x189cee[0x0][_0x38aaea(0xb8b)][0x0][_0x38aaea(0x346)]([_0x4f59ca[_0x38aaea(0x6f5)],_0x4f59ca[_0x38aaea(0x488)]]),![]),_0x38f1c0[_0x38aaea(0x672)](_0x1e5bef[0x1][_0x38aaea(0xb8b)][_0x38aaea(0x2a2)],0x1),_0x53bcee[_0x38aaea(0xcbc)](_0x36b293[0x1][_0x38aaea(0xb8b)][0x0][_0x38aaea(0x8a8)],'Fan\x203'),_0x4e9a39['equal'](_0x4f3158[0x1]['fans'][0x0][_0x38aaea(0x978)],_0x38aaea(0xd33)),_0x322bed['equal'](_0x157b6d[0x1][_0x38aaea(0xb8b)][0x0]['isInit'](_0x38aaea(0x978)),!![]),_0x7eb05e[_0x38aaea(0xcbc)](_0x316139[0x1]['fans'][0x0][_0x38aaea(0x346)](_0x38aaea(0x3f3)),![]),_0x41db44[_0x38aaea(0xcbc)](_0x93dfac[0x1][_0x38aaea(0xb8b)][0x0][_0x38aaea(0x346)](_0x4f59ca['pApSu']),![]),_0x4f59ca[_0x38aaea(0xa4c)](_0x5e830b);else{const _0xef70b9=_0x27d0e4[_0x38aaea(0x807)](_0x24a2f1[_0x38aaea(0x3b9)],new Schema({'name':String,'author':{'_id':Schema['Types'][_0x38aaea(0x2ef)],'name':String}})),_0x537158=_0x27d0e4['model'](_0x24a2f1['NAYxZ'],new Schema({'name':String})),_0x2c6a5f=new _0x537158({'name':_0x38aaea(0x228)});await _0x2c6a5f[_0x38aaea(0x87f)]();const _0x31d06a=new _0xef70b9({'name':'Book1','author':{'_id':_0x2c6a5f['id']}});await _0x31d06a[_0x38aaea(0x87f)]();const _0x23214b=(await _0xef70b9[_0x38aaea(0xc77)]()[_0x38aaea(0x2ac)]())[_0x38aaea(0x847)](_0x35896a=>{const _0x566e6b=_0x38aaea;return _0x35896a[_0x566e6b(0xc78)]=_0x35896a['author'][_0x566e6b(0x534)],_0x35896a;}),_0x1b6e80=await _0xef70b9['populate'](_0x23214b,[{'path':_0x38aaea(0xc78),'model':_0x38aaea(0xa7d),'select':_0x38aaea(0xba9)}]);assert[_0x38aaea(0xcbc)](_0x1b6e80[_0x38aaea(0x2a2)],0x1),assert[_0x38aaea(0xcbc)](_0x1b6e80[0x0][_0x38aaea(0xc78)][_0x38aaea(0x8a8)],'Author1');}}),it(_0x150122(0x8e0),async function(){const _0x3033ed=_0x150122,_0xd91158=Schema({'imageName':String}),_0x48bcac=_0x27d0e4[_0x3033ed(0x807)](_0x24a2f1[_0x3033ed(0xdd)],_0xd91158),_0x300535=_0x24a2f1[_0x3033ed(0x21d)](Schema,{'textName':String}),_0x473f85=_0x27d0e4[_0x3033ed(0x807)](_0x3033ed(0x688),_0x300535),_0x3d5ef3={'_id':![]};let _0x12f682=[];const _0x42f98c=_0x24a2f1['mhVOp'](Schema,{'data':{'type':_0x3033ed(0x2ef),'ref':function(){const _0x456456=_0x3033ed;return _0x12f682[_0x456456(0x2d6)](this),this[_0x456456(0xbd2)];}},'objectType':String},_0x3d5ef3),_0xcaa33f=_0x24a2f1[_0x3033ed(0xa54)](Schema,{'test':String,'list':[_0x42f98c]}),_0x3ddc2a=_0x27d0e4['model']('Test',_0xcaa33f),_0x51a9d2=await _0x473f85[_0x3033ed(0x46d)]({'textName':'test'}),_0x364f64=await _0x48bcac[_0x3033ed(0x46d)]({'imageName':_0x24a2f1[_0x3033ed(0xbdd)]});await _0x3ddc2a[_0x3033ed(0x46d)]({'list':[{'data':_0x51a9d2[_0x3033ed(0x534)],'objectType':_0x24a2f1[_0x3033ed(0x9a1)]},{'data':_0x364f64['_id'],'objectType':'Image'}]}),assert[_0x3033ed(0xcbc)](_0x12f682[_0x3033ed(0x2a2)],0x0);let _0x5c5b59=await _0x3ddc2a[_0x3033ed(0x3dd)]()[_0x3033ed(0x52a)]('list.data');assert[_0x3033ed(0xcbc)](_0x12f682[_0x3033ed(0x2a2)],0x2),assert[_0x3033ed(0xcbc)](_0x12f682[0x0][_0x3033ed(0xbd2)],'Text'),assert[_0x3033ed(0xcbc)](_0x12f682[0x1][_0x3033ed(0xbd2)],_0x3033ed(0x856)),assert[_0x3033ed(0xcbc)](_0x5c5b59['list'][0x0][_0x3033ed(0x139)]['textName'],_0x24a2f1[_0x3033ed(0xbdd)]),assert[_0x3033ed(0xcbc)](_0x5c5b59[_0x3033ed(0xb47)][0x1]['data'][_0x3033ed(0x277)],_0x3033ed(0xc20)),_0x12f682=[],_0x5c5b59=await _0x3ddc2a[_0x3033ed(0x3dd)](),await _0x5c5b59[_0x3033ed(0x52a)](_0x24a2f1['rvzZb']),assert[_0x3033ed(0xcbc)](_0x12f682[_0x3033ed(0x2a2)],0x2),assert[_0x3033ed(0xcbc)](_0x12f682[0x0]['objectType'],_0x24a2f1[_0x3033ed(0x9a1)]),assert[_0x3033ed(0xcbc)](_0x12f682[0x1][_0x3033ed(0xbd2)],_0x24a2f1[_0x3033ed(0xdd)]),assert[_0x3033ed(0xcbc)](_0x5c5b59[_0x3033ed(0xb47)][0x0][_0x3033ed(0x139)]['textName'],_0x24a2f1['aVADN']),assert['equal'](_0x5c5b59[_0x3033ed(0xb47)][0x1][_0x3033ed(0x139)][_0x3033ed(0x277)],_0x3033ed(0xc20));});}),it(_0x24a2f1[_0x4ef2f4(0x22a)],async function(){const _0x3607bc=_0x4ef2f4,_0x54ce14=Schema({'imageName':String},{'_id':![]}),_0x2aa8c8=_0x24a2f1[_0x3607bc(0x1fd)](Schema,{'textName':String,'attached':[{'type':_0x3607bc(0x2ef),'ref':'Test2'}]},{'_id':![]}),_0x4dd5f2=Schema({'objectType':String},{'discriminatorKey':_0x3607bc(0xbd2),'_id':![]}),_0x289dae=Schema({'test':String,'list':[_0x4dd5f2]});_0x289dae[_0x3607bc(0x2c8)](_0x24a2f1[_0x3607bc(0x4e1)])[_0x3607bc(0x65b)](_0x3607bc(0x856),_0x54ce14),_0x289dae[_0x3607bc(0x2c8)](_0x24a2f1['iJOMt'])['discriminator'](_0x24a2f1[_0x3607bc(0x9a1)],_0x2aa8c8);const _0x5e4ed5=_0x27d0e4[_0x3607bc(0x807)](_0x24a2f1[_0x3607bc(0x4f4)],_0x289dae),_0x30c3a1=_0x27d0e4[_0x3607bc(0x807)](_0x24a2f1[_0x3607bc(0x99d)],Schema({'test':_0x3607bc(0x44c)}));await _0x30c3a1[_0x3607bc(0x46d)]({'_id':'61254490ea89de0004c8f2a0','test':_0x3607bc(0xc20)});const _0x242e5c=await _0x5e4ed5[_0x3607bc(0x46d)]({'test':'example','list':[{'imageName':_0x24a2f1[_0x3607bc(0x478)],'objectType':_0x24a2f1[_0x3607bc(0xdd)]},{'textName':_0x3607bc(0x3a5),'attached':[_0x3607bc(0x49e)],'objectType':_0x3607bc(0x688)}]}),_0x49419c=_0x5e4ed5[_0x3607bc(0x770)](_0x242e5c[_0x3607bc(0x534)])['populate']('list.attached')[_0x3607bc(0x2ac)](),_0x21a30f=await _0x49419c['exec']();assert['strictEqual'](_0x21a30f['list'][0x0]['attached'],void 0x0),assert[_0x3607bc(0xcbc)](_0x21a30f[_0x3607bc(0xb47)][0x1][_0x3607bc(0x382)][0x0][_0x3607bc(0xc20)],_0x24a2f1[_0x3607bc(0xbdd)]);}),_0x24a2f1[_0x4ef2f4(0x9ff)](it,_0x24a2f1[_0x4ef2f4(0x5b9)],async function(){const _0x4512ad=_0x4ef2f4,_0x2cabe3=Schema({'_id':Number,'email':String}),_0x316aa3=_0x24a2f1[_0x4512ad(0xbab)](Schema,{'title':String,'authorId':Number}),_0x4f7a9f=_0x27d0e4['model'](_0x24a2f1[_0x4512ad(0x840)],_0x2cabe3),_0x506ee7=_0x27d0e4[_0x4512ad(0x807)](_0x24a2f1[_0x4512ad(0x826)],_0x316aa3);_0x316aa3[_0x4512ad(0x833)](_0x24a2f1[_0x4512ad(0x490)],{'ref':_0x4f7a9f,'localField':_0x4512ad(0x15b),'foreignField':'_id','justOne':!![]}),await _0x506ee7[_0x4512ad(0x46d)]({'title':_0x4512ad(0x50d),'authorId':0x1}),await _0x4f7a9f['create']({'_id':0x1,'email':_0x24a2f1[_0x4512ad(0x792)]});const _0x29700d=await _0x506ee7[_0x4512ad(0x3dd)]()['populate'](_0x24a2f1[_0x4512ad(0x490)]);assert[_0x4512ad(0xcbc)](_0x29700d[_0x4512ad(0xc78)][_0x4512ad(0x978)],_0x4512ad(0x1aa));}),_0x24a2f1[_0x4ef2f4(0x86f)](it,_0x4ef2f4(0xc39),async function(){const _0x518b05=_0x4ef2f4,_0x3ea8d6=_0x24a2f1['vlvWI'](Schema,{'_id':Number,'name':String,'email':String}),_0x3db568=Schema({'title':String,'author':{'type':new Schema({'_id':Number,'name':String}),'ref':_0x518b05(0x11f)}}),_0x76295c=_0x27d0e4[_0x518b05(0x807)](_0x518b05(0x11f),_0x3ea8d6),_0x7effb1=_0x27d0e4[_0x518b05(0x807)](_0x24a2f1[_0x518b05(0x826)],_0x3db568);await _0x76295c[_0x518b05(0x46d)]({'_id':0x1,'name':_0x518b05(0x9b3),'email':'test@gmail.com'}),await _0x7effb1[_0x518b05(0x46d)]({'title':_0x24a2f1[_0x518b05(0xc4e)],'author':{'_id':0x1,'name':_0x24a2f1[_0x518b05(0x22e)]}});const _0x38e775=await _0x7effb1[_0x518b05(0x3dd)]()[_0x518b05(0x52a)]('author');assert[_0x518b05(0xcbc)](_0x38e775[_0x518b05(0xc78)][_0x518b05(0x978)],_0x518b05(0x1aa)),assert[_0x518b05(0xcbc)](_0x38e775['toObject']()[_0x518b05(0xc78)][_0x518b05(0x8a8)],_0x518b05(0x9b3)),assert[_0x518b05(0xcbc)](_0x38e775[_0x518b05(0x331)]()[_0x518b05(0xc78)][_0x518b05(0x978)],_0x24a2f1[_0x518b05(0x792)]),assert['equal'](_0x38e775[_0x518b05(0x331)]({'depopulate':!![]})[_0x518b05(0xc78)][_0x518b05(0x8a8)],_0x24a2f1[_0x518b05(0x22e)]),assert[_0x518b05(0x672)](_0x38e775['toObject']({'depopulate':!![]})[_0x518b05(0xc78)][_0x518b05(0x978)],undefined),_0x38e775[_0x518b05(0x73a)](),assert[_0x518b05(0xcbc)](_0x38e775[_0x518b05(0xc78)][_0x518b05(0x8a8)],_0x518b05(0x9b3)),assert['strictEqual'](_0x38e775[_0x518b05(0xc78)][_0x518b05(0x978)],undefined),_0x38e775[_0x518b05(0xc78)][_0x518b05(0x8a8)]=_0x24a2f1['iMsBf'],await _0x38e775['save']();let _0x109f66=await _0x7effb1[_0x518b05(0x770)](_0x38e775);assert[_0x518b05(0xcbc)](_0x109f66[_0x518b05(0xc78)][_0x518b05(0x8a8)],_0x24a2f1['iMsBf']),await _0x109f66[_0x518b05(0x52a)](_0x24a2f1[_0x518b05(0x490)]),_0x109f66['author']={'_id':_0x109f66[_0x518b05(0xc78)]['_id'],'name':_0x24a2f1['OQsnF']},assert[_0x518b05(0x672)](_0x38e775[_0x518b05(0xc78)][_0x518b05(0x978)],undefined),await _0x109f66[_0x518b05(0x87f)](),_0x109f66=await _0x7effb1[_0x518b05(0x770)](_0x38e775),assert[_0x518b05(0x672)](_0x109f66[_0x518b05(0xc78)][_0x518b05(0x978)],undefined),assert[_0x518b05(0xcbc)](_0x109f66[_0x518b05(0xc78)][_0x518b05(0x8a8)],_0x24a2f1[_0x518b05(0xca5)]);}),it(_0x4ef2f4(0x21a),async function(){const _0x1b57fb=_0x4ef2f4,_0x3c93ce=Schema({'_id':Number,'name':String,'email':String,'friends':[{'type':Number,'ref':_0x24a2f1[_0x1b57fb(0x840)]}]}),_0x463e54=_0x24a2f1[_0x1b57fb(0x72b)](Schema,{'title':String,'people':[{'author':{'type':new Schema({'_id':Number,'name':String,'friends':[{'type':Number,'ref':'User'}]})}}]}),_0x56df65=_0x27d0e4[_0x1b57fb(0x807)](_0x1b57fb(0x11f),_0x3c93ce),_0xf23816=_0x27d0e4['model'](_0x24a2f1['YBPRy'],_0x463e54);await _0x56df65[_0x1b57fb(0x46d)]({'_id':0x2,'name':'Test','email':_0x24a2f1[_0x1b57fb(0x792)]}),await _0x56df65['create']({'_id':0x1,'name':_0x24a2f1[_0x1b57fb(0x22e)],'email':_0x24a2f1[_0x1b57fb(0x792)],'friends':[0x2]}),await _0xf23816[_0x1b57fb(0x46d)]({'title':_0x1b57fb(0x50d),'people':[{'author':{'_id':0x1,'name':_0x24a2f1[_0x1b57fb(0x22e)],'friends':[0x2]}}]});const _0x46061e=await _0xf23816[_0x1b57fb(0x3dd)]()[_0x1b57fb(0x52a)]({'path':_0x24a2f1[_0x1b57fb(0x25d)],'populate':[{'path':_0x1b57fb(0xc78),'populate':_0x1b57fb(0x88e)}]});assert[_0x1b57fb(0x672)](_0x46061e[_0x1b57fb(0xd4b)][0x0]['author']['email'],undefined);}),it(_0x24a2f1['HCHwt'],async function(){const _0x3ae09d=_0x4ef2f4,_0x23d154=_0x24a2f1[_0x3ae09d(0xa3f)](Schema,{'_id':Number,'name':String,'email':String}),_0x3dbdd6=Schema({'title':String,'authors':[{'user':{'type':new Schema({'_id':Number,'name':String}),'ref':_0x24a2f1[_0x3ae09d(0x840)]}}]}),_0x4aad63=_0x27d0e4['model'](_0x24a2f1[_0x3ae09d(0x840)],_0x23d154),_0x4efa46=_0x27d0e4['model'](_0x24a2f1[_0x3ae09d(0x826)],_0x3dbdd6);await _0x4aad63[_0x3ae09d(0x46d)]({'_id':0x1,'name':_0x3ae09d(0x9b3),'email':_0x3ae09d(0x1aa)}),await _0x4efa46[_0x3ae09d(0x46d)]({'title':_0x24a2f1[_0x3ae09d(0xc4e)],'authors':[{'user':{'_id':0x1,'name':_0x24a2f1['pmbpu']}}]});const _0x31ef2e=await _0x4efa46[_0x3ae09d(0x3dd)]()[_0x3ae09d(0x52a)](_0x24a2f1[_0x3ae09d(0x4ca)]);assert[_0x3ae09d(0xcbc)](_0x31ef2e['authors'][0x0]['user'][_0x3ae09d(0x978)],_0x24a2f1['JSKVU']),assert[_0x3ae09d(0xcbc)](_0x31ef2e[_0x3ae09d(0x331)]()[_0x3ae09d(0x3e2)][0x0][_0x3ae09d(0x6e5)]['email'],_0x24a2f1['JSKVU']),_0x31ef2e['depopulate'](),assert[_0x3ae09d(0xcbc)](_0x31ef2e[_0x3ae09d(0x3e2)][0x0]['user'][_0x3ae09d(0x8a8)],_0x24a2f1[_0x3ae09d(0x22e)]);}),_0x24a2f1['KWChC'](it,_0x24a2f1[_0x4ef2f4(0xb23)],async function(){const _0x49b5f7=_0x4ef2f4,_0x26321e=new Schema({'name':{'type':String,'default':''}}),_0x475b3e=new Schema({'users':[{'user':{'type':_0x24a2f1[_0x49b5f7(0x9c7)],'ref':_0x24a2f1[_0x49b5f7(0x840)]}}]}),_0x331832=_0x27d0e4['model'](_0x24a2f1[_0x49b5f7(0x840)],_0x26321e),_0x1cb08f=_0x27d0e4[_0x49b5f7(0x807)](_0x24a2f1[_0x49b5f7(0x4f4)],_0x475b3e),_0x1e8658=await _0x331832['create']([{'name':_0x24a2f1[_0x49b5f7(0x3d1)]},{'name':'user-name-2'}]);await _0x1cb08f[_0x49b5f7(0x46d)]([{'users':[{'user':_0x1e8658[0x0][_0x49b5f7(0x534)]},{'user':_0x1e8658[0x1][_0x49b5f7(0x534)]}]}]);const _0x1a9bf8=await _0x1cb08f[_0x49b5f7(0x842)]([{'$project':{'users':_0x49b5f7(0xbd3)}},{'$unwind':_0x24a2f1[_0x49b5f7(0x316)]},{'$sort':{'users.name':0x1}}]),_0x17f024=_0x1a9bf8['reduce']((_0x184714,_0x34cd7)=>[..._0x184714,_0x34cd7[_0x49b5f7(0x287)]],[]);await _0x331832[_0x49b5f7(0x52a)](_0x17f024,{'path':_0x49b5f7(0x6e5)}),assert[_0x49b5f7(0xcbc)](_0x17f024['length'],0x2),assert[_0x49b5f7(0xcbc)](_0x17f024[0x0][_0x49b5f7(0x6e5)]['name'],_0x24a2f1[_0x49b5f7(0x3d1)]),assert[_0x49b5f7(0xcbc)](_0x17f024[0x1][_0x49b5f7(0x6e5)][_0x49b5f7(0x8a8)],_0x24a2f1[_0x49b5f7(0x211)]);}),_0x24a2f1[_0x4ef2f4(0xa67)](it,_0x4ef2f4(0xc90),async function(){const _0x10f9eb=_0x4ef2f4;if('tpSIm'===_0x24a2f1['NQcgo']){const _0x25c3f7=new Schema({'name':String}),_0x26f4f8=new Schema({'user':{'type':_0x24a2f1[_0x10f9eb(0x9c7)],'ref':_0x10f9eb(0x11f)}}),_0x35c940=_0x27d0e4[_0x10f9eb(0x807)](_0x10f9eb(0x11f),_0x25c3f7),_0x456a7e=_0x27d0e4[_0x10f9eb(0xc8f)](start[_0x10f9eb(0x247)][0x1]),_0x480b0e=_0x456a7e[_0x10f9eb(0x807)](_0x10f9eb(0x438),_0x26f4f8);await _0x480b0e['deleteMany']({});const _0x453177=await _0x35c940[_0x10f9eb(0x46d)]([{'name':_0x10f9eb(0xa4a)},{'name':_0x24a2f1[_0x10f9eb(0x211)]}]);await _0x480b0e['create']([{'user':_0x453177[0x0][_0x10f9eb(0x534)]},{'user':_0x453177[0x1]['_id']}]);const _0x45ce78=await _0x480b0e[_0x10f9eb(0xc77)]()[_0x10f9eb(0x52a)]('user')[_0x10f9eb(0x22b)]({'user':0x1});assert['equal'](_0x45ce78[_0x10f9eb(0x2a2)],0x2),assert[_0x10f9eb(0xcbc)](_0x45ce78[0x0][_0x10f9eb(0x6e5)]['name'],_0x24a2f1[_0x10f9eb(0x3d1)]),assert['equal'](_0x45ce78[0x1][_0x10f9eb(0x6e5)][_0x10f9eb(0x8a8)],_0x24a2f1[_0x10f9eb(0x211)]),await _0x480b0e[_0x10f9eb(0xce3)]({});}else return _0x59a4d1[_0x10f9eb(0x2d6)]({'doc':_0x5c21a6,'id':_0x5e5f81}),_0x34820d;}),_0x24a2f1[_0x4ef2f4(0x34f)](it,_0x4ef2f4(0xca8),async function(){const _0x2a142f=_0x4ef2f4,_0x44d622=Schema({'name':String}),_0x5cb505=Schema({'listName':String}),_0x39b5c2=Schema({'valueObject':{'type':mongoose['Schema'][_0x2a142f(0xc4a)]['ObjectId'],'refPath':_0x24a2f1[_0x2a142f(0x1ef)]},'refp':String}),_0x4b589e=Schema({'sortOrder':{'type':mongoose[_0x2a142f(0x101)]['Types'][_0x2a142f(0x8ea)],'required':!![]},'values':{'type':mongoose['Schema'][_0x2a142f(0xc4a)][_0x2a142f(0xbbc)],'of':_0x39b5c2}}),_0xbf058a=_0x27d0e4['model'](_0x24a2f1[_0x2a142f(0x840)],_0x44d622),_0x2e0a97=_0x27d0e4[_0x2a142f(0x807)](_0x2a142f(0x8ab),_0x5cb505),_0x5f4b9e=_0x27d0e4[_0x2a142f(0x807)](_0x2a142f(0xae1),_0x4b589e),_0x23e4e4=await _0xbf058a[_0x2a142f(0x46d)]({'name':_0x2a142f(0xc20)}),_0x2fadca=await _0x2e0a97[_0x2a142f(0x46d)]({'listName':'hi'});await _0x5f4b9e[_0x2a142f(0x46d)]({'sortOrder':0x1,'values':{[_0x2fadca[_0x2a142f(0x534)]]:{'valueObject':mongoose[_0x2a142f(0xc4a)][_0x2a142f(0x2ef)](_0x23e4e4['_id']),'refp':_0x24a2f1[_0x2a142f(0x840)]}}});const _0x5027da=await _0x5f4b9e['findOne']()[_0x2a142f(0x52a)]({'path':_0x2a142f(0xc43)});assert['equal'](_0x5027da[_0x2a142f(0x168)][_0x2a142f(0x4e7)](_0x2fadca[_0x2a142f(0x534)][_0x2a142f(0x303)]())['valueObject']['name'],_0x2a142f(0xc20));}),it(_0x24a2f1[_0x4ef2f4(0xab8)],async function(){const _0x31e37f=_0x4ef2f4;if(_0x31e37f(0xbca)!==_0x24a2f1[_0x31e37f(0x124)]){_0x4f0f83[_0x31e37f(0x127)](_0x5eabcf);const _0x29870d=[];_0x29870d['push']({'title':_0x24a2f1[_0x31e37f(0xd1d)],'tags':[_0x31e37f(0x3e4),_0x31e37f(0x257)],'author':_0x47afc3[0x3]}),_0x29870d[_0x31e37f(0x2d6)]({'title':'blog\x202','tags':[_0x24a2f1[_0x31e37f(0x5ed)]],'author':_0x396664[0x1]}),_0x29870d[_0x31e37f(0x2d6)]({'title':_0x24a2f1['vJYQb'],'tags':[_0x31e37f(0x3e4),'odd'],'author':_0x486174[0x2]}),_0x1136df[_0x31e37f(0x46d)](_0x29870d,function(_0x39ee19){const _0xf83e5f=_0x31e37f;_0x2672f2[_0xf83e5f(0x127)](_0x39ee19),_0x1fb317['find']({'tags':'fun'})[_0xf83e5f(0x2ac)]()[_0xf83e5f(0x52a)]('author')[_0xf83e5f(0x37d)](function(_0x4de0a6,_0x570264){const _0x12130c=_0xf83e5f;_0x137264[_0x12130c(0x127)](_0x4de0a6);const _0x505cb5={'path':'author.friends','select':'name','options':{'limit':0x1}};_0x36984e[_0x12130c(0x52a)](_0x570264,_0x505cb5,function(_0x48f8c7,_0x16b47e){const _0x481ee9=_0x12130c;_0x291e18[_0x481ee9(0x127)](_0x48f8c7),_0x12b7a7['equal'](_0x16b47e['length'],0x2),_0x501d22[_0x481ee9(0xcbc)](_0x16b47e[0x0][_0x481ee9(0xc78)]['friends'][_0x481ee9(0x2a2)],0x1),_0x1ae88a['equal'](_0x16b47e[0x1][_0x481ee9(0xc78)]['friends'][_0x481ee9(0x2a2)],0x1),_0x55aebe[_0x481ee9(0xcbc)](_0x505cb5['options'][_0x481ee9(0x395)],0x1),_0x24390a();});});});}else{const _0x2afd41=new mongoose[(_0x31e37f(0x101))]({'employeeId':mongoose[_0x31e37f(0xc4a)][_0x31e37f(0x2ef)],'startedAt':Date,'endedAt':Date,'name':String}),_0x1bb6f7=_0x27d0e4[_0x31e37f(0x807)](_0x24a2f1[_0x31e37f(0xa5b)],_0x2afd41),_0x64b5f5=new mongoose[(_0x31e37f(0x101))]({'name':String},{'toJSON':{'virtuals':!![]},'toObject':{'virtuals':!![]}});_0x64b5f5[_0x31e37f(0x833)](_0x24a2f1[_0x31e37f(0x769)],{'ref':_0x1bb6f7,'localField':_0x24a2f1[_0x31e37f(0x661)],'foreignField':'employeeId','options':{'sort':{'startedAt':-0x1}},'justOne':!![]});const _0x5c8194=new mongoose['Schema']({'location':String,'employees':[_0x64b5f5]}),_0x56c83b=_0x27d0e4[_0x31e37f(0x807)](_0x31e37f(0x855),_0x5c8194),_0x5b99d2=await _0x56c83b['create']({'location':_0x24a2f1['QqApH'],'employees':[{'name':_0x31e37f(0x6f4)},{'name':'Shasta'}]}),_0x46ccd7=_0x5b99d2[_0x31e37f(0x210)]['find'](({name:_0x11b083})=>_0x11b083===_0x31e37f(0x6f4)),_0xfb6dc9=_0x5b99d2[_0x31e37f(0x210)][_0x31e37f(0xc77)](({name:_0x4f8744})=>_0x4f8744==='Shasta');await _0x1bb6f7[_0x31e37f(0xc9e)]([{'employeeId':_0x46ccd7[_0x31e37f(0x534)],'startedAt':new Date(_0x24a2f1['fqfop'](Date[_0x31e37f(0xa58)](),0x36ee800)),'endedAt':new Date(_0x24a2f1[_0x31e37f(0x5cd)](Date['now'](),0x2932e00)),'name':_0x24a2f1[_0x31e37f(0x6ab)]},{'employeeId':_0x46ccd7[_0x31e37f(0x534)],'startedAt':new Date(Date[_0x31e37f(0xa58)]()-0x1b77400),'endedAt':new Date(_0x24a2f1[_0x31e37f(0x608)](Date['now'](),0xdbba00)),'name':_0x31e37f(0x464)},{'employeeId':_0xfb6dc9['_id'],'startedAt':new Date(_0x24a2f1[_0x31e37f(0x608)](Date['now'](),0xdbba00)),'endedAt':new Date(),'name':_0x24a2f1['EEAuv']}]);const _0x1858a3=await _0x56c83b[_0x31e37f(0x3dd)]({'location':_0x24a2f1['QqApH']})[_0x31e37f(0x52a)](_0x24a2f1[_0x31e37f(0x197)]);assert[_0x31e37f(0x61a)](_0x1858a3['employees'][_0x31e37f(0x847)](_0x20b905=>_0x20b905['mostRecentShift'][_0x31e37f(0x8a8)]),[_0x24a2f1[_0x31e37f(0x7fe)],_0x24a2f1[_0x31e37f(0x6c4)]]);}}),it(_0x24a2f1[_0x4ef2f4(0xa59)],async function(){const _0x1f46fa=_0x4ef2f4,_0x33fa39={'VEmgG':_0x24a2f1[_0x1f46fa(0x3b7)]};if('pFIRa'===_0x24a2f1['xXBxd']){const _0x8aa0d5={'KPYtL':_0x33fa39[_0x1f46fa(0x92e)]};_0x566323['ifError'](_0x54874e),_0x17e0af[_0x1f46fa(0x46d)](_0x4c2125,function(_0x1e987f){const _0xc315c2=_0x1f46fa,_0x257e2b={'VRGvk':_0x8aa0d5[_0xc315c2(0xac0)],'KsqSt':function(_0x8dbd11){return _0x8dbd11();}};_0x8295ac[_0xc315c2(0x127)](_0x1e987f),_0x810c2f[_0xc315c2(0x3dd)]({'_id':0x0})[_0xc315c2(0x52a)]({'path':_0xc315c2(0x3e2),'model':_0x4ed34e})[_0xc315c2(0x37d)](function(_0x571c37,_0x2b81ae){const _0x4a8fce=_0xc315c2;_0x4c1f10[_0x4a8fce(0x127)](_0x571c37),_0x29f9c6[_0x4a8fce(0xcbc)](_0x2b81ae['authors'][_0x4a8fce(0x2a2)],0x1),_0x324a9d[_0x4a8fce(0xcbc)](_0x2b81ae[_0x4a8fce(0x3e2)][0x0][_0x4a8fce(0x8a8)],_0x257e2b[_0x4a8fce(0x7b7)]),_0x257e2b['KsqSt'](_0x13c62f);});});}else{const _0x52c509=new Schema({'name':String,'stories':[{'type':Schema[_0x1f46fa(0xc4a)]['ObjectId'],'ref':_0x1f46fa(0x996)}]}),_0x239421=new Schema({'title':String}),_0x329cbb=_0x27d0e4['model']('Story',_0x239421),_0x3cba22=_0x27d0e4[_0x1f46fa(0x807)](_0x24a2f1[_0x1f46fa(0xd63)],_0x52c509),_0xaadee=await _0x329cbb[_0x1f46fa(0x46d)]([{'_id':'0'['repeat'](0x18),'title':_0x24a2f1[_0x1f46fa(0xcb1)]},{'_id':'1'[_0x1f46fa(0xb18)](0x18),'title':_0x1f46fa(0x300)},{'_id':'2'['repeat'](0x18),'title':_0x24a2f1['dbAGn']},{'_id':'3'[_0x1f46fa(0xb18)](0x18),'title':_0x24a2f1[_0x1f46fa(0xc5a)]}]);let _0x3e1213=await _0x3cba22[_0x1f46fa(0x46d)]({'name':'Ian\x20Fleming','stories':[_0xaadee[0x1][_0x1f46fa(0x534)],_0xaadee[0x2][_0x1f46fa(0x534)]]});_0x3e1213=await _0x3cba22[_0x1f46fa(0x770)](_0x3e1213)[_0x1f46fa(0x52a)]({'path':_0x24a2f1[_0x1f46fa(0x694)],'match':{'_id':{'$gte':_0xaadee[0x2][_0x1f46fa(0x534)]}}}),assert[_0x1f46fa(0xcbc)](_0x3e1213[_0x1f46fa(0x83d)][_0x1f46fa(0x2a2)],0x1),assert[_0x1f46fa(0xcbc)](_0x3e1213['stories'][0x0][_0x1f46fa(0x132)],_0x24a2f1[_0x1f46fa(0xcae)]),_0x3e1213=await _0x3cba22['findById'](_0x3e1213)['populate']({'path':_0x24a2f1[_0x1f46fa(0x694)],'match':{'_id':{'$lte':_0xaadee[0x1][_0x1f46fa(0x534)]}}}),assert['equal'](_0x3e1213[_0x1f46fa(0x83d)][_0x1f46fa(0x2a2)],0x1),assert[_0x1f46fa(0xcbc)](_0x3e1213[_0x1f46fa(0x83d)][0x0]['title'],_0x24a2f1[_0x1f46fa(0x102)]),_0x3e1213=await _0x3cba22[_0x1f46fa(0x770)](_0x3e1213)[_0x1f46fa(0x52a)]({'path':_0x1f46fa(0x83d),'match':{'_id':_0xaadee[0x1][_0x1f46fa(0x534)]}}),assert['equal'](_0x3e1213[_0x1f46fa(0x83d)][_0x1f46fa(0x2a2)],0x1),assert[_0x1f46fa(0xcbc)](_0x3e1213[_0x1f46fa(0x83d)][0x0][_0x1f46fa(0x132)],_0x24a2f1['JQkYl']);}}),it(_0x24a2f1[_0x4ef2f4(0xa9a)],async function(){const _0xa9ab92=_0x4ef2f4,_0x2b32f9=new mongoose[(_0xa9ab92(0x101))]({'firstName':{'type':mongoose[_0xa9ab92(0x7c4)][_0xa9ab92(0x44c)],'required':!![]},'surname':{'type':mongoose[_0xa9ab92(0x7c4)][_0xa9ab92(0x44c)],'trim':!![]},'nat':{'type':mongoose['SchemaTypes']['String'],'required':!![],'uppercase':!![],'minLength':0x2,'maxLength':0x2}},{'strict':!![],'timestamps':!![]});_0x2b32f9[_0xa9ab92(0x833)](_0x24a2f1[_0xa9ab92(0x957)],{'localField':_0xa9ab92(0x5db),'foreignField':_0xa9ab92(0x2b3),'ref':'Nat','justOne':!![]});let _0x55494f=_0x27d0e4['model'](_0x24a2f1['GjdhO'],_0x2b32f9['clone'](),_0x24a2f1['ASbKV']);const _0x29a8d3=new mongoose['Schema']({'key':{'type':mongoose[_0xa9ab92(0x7c4)][_0xa9ab92(0x44c)],'uppercase':!![],'index':!![],'minLength':0x2,'maxLength':0x2},'desc':{'type':mongoose[_0xa9ab92(0x7c4)][_0xa9ab92(0x44c)],'trim':!![]}},{'strict':!![]}),_0x3003c5=_0x27d0e4['model'](_0x24a2f1['YNkur'],_0x29a8d3);let _0x46abf9=new _0x3003c5({'key':'ES','desc':_0x24a2f1['OCytZ']});await _0x46abf9[_0xa9ab92(0x87f)](),_0x46abf9=new _0x3003c5({'key':'IT','desc':_0x24a2f1[_0xa9ab92(0x2b9)]}),await _0x46abf9['save'](),_0x46abf9=new _0x3003c5({'key':'FR','desc':_0x24a2f1[_0xa9ab92(0xce9)]}),await _0x46abf9[_0xa9ab92(0x87f)]();let _0x4535af=new _0x55494f({'firstName':'Pepe','surname':_0xa9ab92(0x62b),'nat':'it'});await _0x4535af[_0xa9ab92(0x87f)](),_0x4535af=new _0x55494f({'firstName':_0x24a2f1[_0xa9ab92(0xc2d)],'surname':_0x24a2f1[_0xa9ab92(0x992)],'nat':'es'}),await _0x4535af[_0xa9ab92(0x87f)](),_0x4535af=new _0x55494f({'firstName':_0x24a2f1[_0xa9ab92(0xc76)],'surname':'Doe','nat':'us'}),await _0x4535af[_0xa9ab92(0x87f)](),_0x2b32f9[_0xa9ab92(0x80f)](_0x24a2f1[_0xa9ab92(0x957)]),_0x2b32f9['virtual'](_0xa9ab92(0xd4),{'localField':_0x24a2f1[_0xa9ab92(0x452)],'foreignField':_0x24a2f1[_0xa9ab92(0xae7)],'ref':_0x24a2f1['YNkur'],'justOne':!![]}),_0x55494f=_0x27d0e4[_0xa9ab92(0x807)](_0x24a2f1[_0xa9ab92(0xd63)],_0x2b32f9['clone'](),_0xa9ab92(0xd4b),{'overwriteModels':!![]});const _0x1ec6ab=await _0x55494f[_0xa9ab92(0xc77)]()[_0xa9ab92(0x22b)]({'firstName':0x1})[_0xa9ab92(0x52a)]({'path':_0x24a2f1[_0xa9ab92(0x957)],'match':{'desc':_0xa9ab92(0x6e9)}});assert[_0xa9ab92(0x61a)](_0x1ec6ab[_0xa9ab92(0x847)](_0x4ad4c6=>_0x4ad4c6[_0xa9ab92(0xd4)]?_0x4ad4c6[_0xa9ab92(0xd4)][_0xa9ab92(0x2b3)]:undefined),[undefined,'ES',undefined]);}),describe(_0x4ef2f4(0xa08),function(){const _0x5994c=_0x4ef2f4,_0x3d1b76={'NosHI':function(_0x20e161,_0x5f5a3a){return _0x20e161 instanceof _0x5f5a3a;},'BZmiG':_0x24a2f1[_0x5994c(0x53e)],'iRPbW':_0x5994c(0x66f),'FWjBK':function(_0x10eb54,_0x50b358,_0x5f2e94){return _0x10eb54(_0x50b358,_0x5f2e94);},'vFLWa':'Henry','pgewq':_0x5994c(0x8ff),'eTZDJ':_0x5994c(0xa08),'UpUIZ':function(_0x120e89,_0x30841e){return _0x120e89 instanceof _0x30841e;}};it(_0x24a2f1[_0x5994c(0xc35)],async function(){const _0x412fe8=_0x5994c;if(_0x24a2f1[_0x412fe8(0xb38)]('FRTpV',_0x24a2f1[_0x412fe8(0x973)]))_0x45426c[_0x412fe8(0x127)](_0x24a691),_0x15d06e['ok'](_0x3d1b76[_0x412fe8(0x30c)](_0x239487[_0x412fe8(0x5ad)],_0x238e3e)),_0x472f79[_0x412fe8(0xcbc)](_0x56d06c[_0x412fe8(0x5ad)][_0x412fe8(0x346)](_0x3d1b76[_0x412fe8(0x600)]),![]),_0x49f268[_0x412fe8(0xcbc)](_0xef2633['_creator'][_0x412fe8(0x978)],_0x3d1b76[_0x412fe8(0xc7d)]),_0x27fc9b();else{const _0x33fde3=_0x27d0e4['model'](_0x24a2f1['TJhCc'],new Schema({'name':String})),_0x5fc784=new Schema({'l2':{'type':'ObjectId','ref':_0x33fde3}}),_0x400ad6=_0x27d0e4[_0x412fe8(0x807)](_0x412fe8(0x5ee),_0x5fc784),_0x305852=_0x27d0e4[_0x412fe8(0x807)](_0x24a2f1[_0x412fe8(0xb2d)],new Schema({'l1':{'type':'ObjectId','ref':_0x400ad6}}));await _0x305852[_0x412fe8(0xce3)]();const _0xb1972c=await _0x33fde3[_0x412fe8(0x46d)]({'name':_0x24a2f1[_0x412fe8(0xbdd)]}),_0x58da92=await _0x400ad6[_0x412fe8(0x46d)]({'l2':_0xb1972c});await _0x305852['create']({'l1':_0x58da92});const _0x15c634=await _0x305852[_0x412fe8(0x3dd)]()[_0x412fe8(0x52a)]({'path':'l1','populate':{'path':_0x24a2f1[_0x412fe8(0x250)]}})[_0x412fe8(0xc12)](()=>null,_0x111ca5=>_0x111ca5);assert['ok'](_0x15c634[_0x412fe8(0x690)][_0x412fe8(0x791)](_0x412fe8(0xc00))!==-0x1,_0x15c634[_0x412fe8(0x690)]);}}),it(_0x5994c(0x27c),async function(){const _0x52f100=_0x5994c,_0x42be32=_0x3d1b76[_0x52f100(0xc65)](Schema,{'name':String},{'strictPopulate':![]}),_0xcfdd9e=_0x27d0e4[_0x52f100(0x807)](_0x52f100(0x438),_0x42be32),_0x10bbf9=new _0xcfdd9e({'name':_0x3d1b76[_0x52f100(0x85e)]});await _0x10bbf9['save'](),await _0xcfdd9e[_0x52f100(0x770)](_0x10bbf9[_0x52f100(0x534)])['populate'](_0x3d1b76[_0x52f100(0x835)]);const _0x77ed2b=await _0xcfdd9e['findById'](_0x10bbf9[_0x52f100(0x534)])[_0x52f100(0x52a)]({'path':_0x3d1b76[_0x52f100(0x835)],'strictPopulate':!![]})['then'](()=>null,_0x27c9b6=>_0x27c9b6);assert['ok'](_0x77ed2b),assert['ok'](_0x77ed2b[_0x52f100(0x690)]['includes'](_0x3d1b76['eTZDJ']),_0x77ed2b[_0x52f100(0x690)]),assert['ok'](_0x3d1b76[_0x52f100(0x29f)](_0x77ed2b,MongooseError['StrictPopulateError']));}),it(_0x24a2f1[_0x5994c(0x1a2)],async function(){const _0x52033b=_0x5994c,_0x4f2ffe=_0x24a2f1[_0x52033b(0x603)](Schema,{'name':String,'uuid':_0x24a2f1['jwqsD']},{'toJSON':{'virtuals':!![]},'toObject':{'virtuals':!![]}}),_0x3e9023=_0x24a2f1['CtVdn'](Schema,{'name':String,'field':{'type':mongoose[_0x52033b(0x101)][_0x52033b(0xc4a)]['ObjectId'],'ref':_0x24a2f1[_0x52033b(0xa3d)]},'change':{'type':mongoose['Schema'][_0x52033b(0xc4a)][_0x52033b(0x2ef)],'ref':_0x24a2f1[_0x52033b(0xa3d)]}});_0x4f2ffe[_0x52033b(0x833)](_0x24a2f1['aVADN'],{'ref':_0x24a2f1[_0x52033b(0xa45)],'localField':_0x52033b(0x534),'foreignField':'field'});const _0x523f49=_0x27d0e4['model'](_0x24a2f1[_0x52033b(0xa3d)],_0x4f2ffe),_0x449116=_0x27d0e4[_0x52033b(0x807)](_0x24a2f1['pBDTp'],_0x3e9023),_0x50945a=await _0x523f49[_0x52033b(0x46d)]({'name':'Test','uuid':mongoose['Types'][_0x52033b(0x2ef)]()}),_0x484cd2=await _0x523f49[_0x52033b(0x46d)]({'name':_0x52033b(0x320),'uuid':mongoose[_0x52033b(0xc4a)]['ObjectId']()});await _0x449116['create']({'name':_0x24a2f1[_0x52033b(0x840)],'field':_0x50945a[_0x52033b(0x534)],'change':_0x484cd2[_0x52033b(0x534)]});const _0x3c4f6d=await _0x523f49[_0x52033b(0x3dd)]({'_id':_0x484cd2[_0x52033b(0x534)]})[_0x52033b(0x52a)]({'path':_0x24a2f1[_0x52033b(0xbdd)],'foreignField':_0x24a2f1[_0x52033b(0x409)]}),_0x51410b=await _0x523f49[_0x52033b(0x3dd)]({'_id':_0x50945a['_id']})[_0x52033b(0x52a)]({'path':_0x52033b(0xc20),'foreignField':_0x52033b(0xb45)});assert['equal'](_0x3c4f6d[_0x52033b(0xc20)][_0x52033b(0x2a2)],0x1),assert[_0x52033b(0xcbc)](_0x51410b['test']['length'],0x0);const _0x37566e=await _0x523f49['findOne']({'_id':_0x50945a[_0x52033b(0x534)]})['populate'](_0x52033b(0xc20));assert[_0x52033b(0xcbc)](_0x37566e[_0x52033b(0xc20)][_0x52033b(0x2a2)],0x1);const _0xaaea82=await _0x523f49[_0x52033b(0x46d)]({'name':_0x52033b(0x3fe),'uuid':mongoose[_0x52033b(0xc4a)]['ObjectId']()}),_0x5a127f=await _0x523f49['create']({'name':_0x24a2f1[_0x52033b(0x145)],'uuid':mongoose[_0x52033b(0xc4a)][_0x52033b(0x2ef)]()});await _0x449116[_0x52033b(0x46d)]({'name':_0x24a2f1[_0x52033b(0x483)],'field':_0xaaea82[_0x52033b(0x509)],'change':_0x5a127f[_0x52033b(0x509)]});const _0x420ec0=await _0x523f49['findOne']({'_id':_0xaaea82[_0x52033b(0x534)]})['populate']({'path':_0x52033b(0xc20),'localField':_0x24a2f1[_0x52033b(0x89b)]});assert[_0x52033b(0xcbc)](_0x420ec0[_0x52033b(0xc20)][_0x52033b(0x2a2)],0x1);const _0x11f348=await _0x523f49[_0x52033b(0x3dd)]({'_id':_0x5a127f['_id']})[_0x52033b(0x52a)]({'path':_0x52033b(0xc20),'localField':_0x52033b(0x509)});assert['equal'](_0x11f348['test']['length'],0x0);const _0x593911=await _0x523f49['findOne']({'_id':_0xaaea82[_0x52033b(0x534)]})[_0x52033b(0x52a)]({'path':_0x52033b(0xc20)});assert[_0x52033b(0xcbc)](_0x593911['test'][_0x52033b(0x2a2)],0x0);const _0xae05f2=await _0x523f49['create']({'name':_0x24a2f1['DRYth'],'uuid':mongoose[_0x52033b(0xc4a)][_0x52033b(0x2ef)]()}),_0x24cb1a=await _0x523f49[_0x52033b(0x46d)]({'name':_0x24a2f1[_0x52033b(0xc84)],'uuid':mongoose[_0x52033b(0xc4a)]['ObjectId']()});await _0x449116['create']({'name':_0x52033b(0x330),'field':_0xae05f2[_0x52033b(0x509)],'change':_0x24cb1a[_0x52033b(0x509)]});const _0x6ac0b9=await _0x523f49[_0x52033b(0x3dd)]({'_id':_0x24cb1a['_id']})[_0x52033b(0x52a)]({'path':_0x24a2f1['aVADN'],'localField':_0x24a2f1[_0x52033b(0x89b)],'foreignField':_0x24a2f1[_0x52033b(0x409)]});assert['equal'](_0x6ac0b9[_0x52033b(0xc20)]['length'],0x1);const _0x1085f6=await _0x523f49[_0x52033b(0x3dd)]({'_id':_0xae05f2[_0x52033b(0x534)]})[_0x52033b(0x52a)]({'path':_0x24a2f1[_0x52033b(0xbdd)],'localField':_0x52033b(0x509),'foreignField':_0x24a2f1['eJtPl']});assert[_0x52033b(0xcbc)](_0x1085f6[_0x52033b(0xc20)][_0x52033b(0x2a2)],0x0);const _0x5a5afc=await _0x523f49[_0x52033b(0x3dd)]({'_id':_0x24cb1a[_0x52033b(0x534)]})[_0x52033b(0x52a)]({'path':_0x52033b(0xc20)});assert['equal'](_0x5a5afc[_0x52033b(0xc20)][_0x52033b(0x2a2)],0x0);});});});