const _0x19aed3=_0x134c;(function(_0x45da6d,_0x4a4f37){const _0x3fd053=_0x134c,_0x160eb3=_0x45da6d();while(!![]){try{const _0x4f3780=parseInt(_0x3fd053(0x113))/0x1*(-parseInt(_0x3fd053(0x132))/0x2)+parseInt(_0x3fd053(0x11b))/0x3*(-parseInt(_0x3fd053(0x114))/0x4)+-parseInt(_0x3fd053(0x131))/0x5*(-parseInt(_0x3fd053(0x127))/0x6)+-parseInt(_0x3fd053(0x120))/0x7+-parseInt(_0x3fd053(0x11c))/0x8*(parseInt(_0x3fd053(0x11f))/0x9)+parseInt(_0x3fd053(0x136))/0xa+parseInt(_0x3fd053(0x138))/0xb;if(_0x4f3780===_0x4a4f37)break;else _0x160eb3['push'](_0x160eb3['shift']());}catch(_0x7bb7a5){_0x160eb3['push'](_0x160eb3['shift']());}}}(_0x3b73,0xd75f7));function _0x134c(_0x3b710a,_0x4d4e65){const _0x3b733e=_0x3b73();return _0x134c=function(_0x134c98,_0x5e8c71){_0x134c98=_0x134c98-0x10c;let _0x54a8de=_0x3b733e[_0x134c98];return _0x54a8de;},_0x134c(_0x3b710a,_0x4d4e65);}const should=require('should'),sinon=require(_0x19aed3(0x110)),{PacketAssembler}=require('..');function makeChunk(_0x4d806f,_0x1295ce){const _0x58971d=_0x19aed3,_0x817388={'wSWvk':function(_0x29ae13,_0x19dfdf){return _0x29ae13+_0x19dfdf;}},_0x5a28bd=_0x817388[_0x58971d(0x12f)](_0x817388[_0x58971d(0x12f)](_0x1295ce,0x4),0x1);_0x5a28bd[_0x58971d(0x10d)]['be'][_0x58971d(0x122)](0x0);const _0x44bb64=Buffer[_0x58971d(0x111)](_0x5a28bd);_0x44bb64['writeUInt8'](_0x4d806f[_0x58971d(0x112)](0x0),0x0),_0x44bb64['writeUInt32LE'](_0x5a28bd,0x1);for(let _0x67d4c2=0x0;_0x67d4c2<_0x1295ce;_0x67d4c2++){_0x44bb64[_0x58971d(0x13d)](_0x4d806f[_0x58971d(0x112)](0x0),_0x67d4c2+0x5);}return _0x44bb64;}function readChunkHeader(_0x253350){const _0x1231ac=_0x19aed3,_0x298421=String[_0x1231ac(0x116)](_0x253350[_0x1231ac(0x118)](0x0)),_0x5f367e=_0x253350[_0x1231ac(0x13c)](0x1);return{'length':_0x5f367e,'extra':_0x298421};}describe(_0x19aed3(0x11a),function(){const _0x1b51cb=_0x19aed3,_0x5e604f={'srWuw':function(_0x2e1c0a,_0x569f04){return _0x2e1c0a+_0x569f04;},'lzWNy':function(_0x540171,_0x5df407){return _0x540171(_0x5df407);},'yzYSq':function(_0x46de22){return _0x46de22();},'HUsPu':_0x1b51cb(0x130),'ATYjr':function(_0x3e5f36,_0x198d81,_0x17b5df){return _0x3e5f36(_0x198d81,_0x17b5df);},'cWHmv':function(_0x214b48,_0x6012f3){return _0x214b48<_0x6012f3;},'ftBFI':'chunk','OGEej':_0x1b51cb(0x125),'Hwwcp':function(_0x4b5752,_0x39a496,_0x34e2df){return _0x4b5752(_0x39a496,_0x34e2df);},'RDquX':function(_0x1670e7,_0x347e15,_0x47ea4a){return _0x1670e7(_0x347e15,_0x47ea4a);},'THtkv':function(_0x3b3c46,_0x5d8618){return _0x3b3c46===_0x5d8618;}};it(_0x1b51cb(0x119),_0x340c5f=>{const _0x5803b8=_0x1b51cb;if(_0x5803b8(0x130)!==_0x5e604f[_0x5803b8(0x139)]){const _0x35eaec=_0x5e604f['srWuw'](_0x5e604f[_0x5803b8(0x133)](_0x337000,0x4),0x1);_0x35eaec[_0x5803b8(0x10d)]['be'][_0x5803b8(0x122)](0x0);const _0x1d6596=_0x30190e['alloc'](_0x35eaec);_0x1d6596[_0x5803b8(0x13d)](_0x5dfd9a['charCodeAt'](0x0),0x0),_0x1d6596[_0x5803b8(0x134)](_0x35eaec,0x1);for(let _0x13301f=0x0;_0x13301f<_0x3e3d29;_0x13301f++){_0x1d6596[_0x5803b8(0x13d)](_0x4bd0d4[_0x5803b8(0x112)](0x0),_0x13301f+0x5);}return _0x1d6596;}else{const _0x528f35=new PacketAssembler({'readChunkFunc':readChunkHeader,'minimumSizeInBytes':0x5});_0x528f35['on'](_0x5803b8(0x13e),_0x24bb44=>{const _0x27e7fd=_0x5803b8,_0x5eb703=_0x5e604f[_0x27e7fd(0x117)](readChunkHeader,_0x24bb44);_0x5eb703[_0x27e7fd(0x10e)][_0x27e7fd(0x10d)]['equal'](_0x24bb44[_0x27e7fd(0x10e)]),_0x5e604f[_0x27e7fd(0x115)](_0x340c5f);}),_0x528f35[_0x5803b8(0x10c)](makeChunk('A',0xc8));}}),_0x5e604f[_0x1b51cb(0x137)](it,_0x1b51cb(0x12d),_0x1a78df=>{const _0x3b02e4=_0x1b51cb,_0x3268bd=new PacketAssembler({'readChunkFunc':readChunkHeader,'minimumSizeInBytes':0x5});_0x3268bd['on']('chunk',_0xe2bdd9=>{const _0x4cf182=_0x134c,_0x423044=readChunkHeader(_0xe2bdd9);_0x423044[_0x4cf182(0x10e)][_0x4cf182(0x10d)][_0x4cf182(0x12c)](_0xe2bdd9['length']),_0x423044[_0x4cf182(0x10e)][_0x4cf182(0x10d)]['equal'](0x7d0+0x5),_0x1a78df();});const _0x471b77=_0x5e604f[_0x3b02e4(0x126)](makeChunk,'A',0x7d0),_0x292588=_0x471b77[_0x3b02e4(0x12e)](0x0,0x64),_0x4ffaa4=_0x471b77['slice'](0x64,0xc8),_0x1a352f=_0x471b77['slice'](0xc8);_0x3268bd[_0x3b02e4(0x10c)](_0x292588),_0x3268bd[_0x3b02e4(0x10c)](_0x4ffaa4),_0x3268bd[_0x3b02e4(0x10c)](_0x1a352f);}),it('should\x20assemble\x20a\x20chunk\x20sent\x20one\x20byte\x20at\x20a\x20time',()=>{const _0xa4f924=_0x1b51cb,_0x41bf52={'Ahndk':function(_0x48261c,_0x57d622){return _0x48261c(_0x57d622);}},_0x4bdff9=new PacketAssembler({'readChunkFunc':readChunkHeader,'minimumSizeInBytes':0x5,'maxChunkCount':0x2710});_0x4bdff9['on'](_0xa4f924(0x13e),_0x5d4357=>{const _0x44b68c=_0xa4f924,_0x2b0935=_0x41bf52[_0x44b68c(0x12a)](readChunkHeader,_0x5d4357);_0x2b0935[_0x44b68c(0x10e)][_0x44b68c(0x10d)]['equal'](_0x5d4357[_0x44b68c(0x10e)]);});const _0x1a520c=sinon[_0xa4f924(0x129)](),_0x57bcc2=sinon[_0xa4f924(0x129)]();_0x4bdff9['on']('chunk',_0x1a520c),_0x4bdff9['on']('error',_0x57bcc2);const _0x1ed6bf=_0x5e604f[_0xa4f924(0x126)](makeChunk,'A',0xc8);for(let _0x2b8dbe=0x0;_0x5e604f[_0xa4f924(0x12b)](_0x2b8dbe,_0x1ed6bf[_0xa4f924(0x10e)]);_0x2b8dbe++){const _0x19dcb6=_0x1ed6bf[_0xa4f924(0x12e)](_0x2b8dbe,_0x2b8dbe+0x1);_0x4bdff9[_0xa4f924(0x10c)](_0x19dcb6);}_0x57bcc2['callCount'][_0xa4f924(0x10d)][_0xa4f924(0x12c)](0x0),_0x1a520c[_0xa4f924(0x123)]['should'][_0xa4f924(0x12c)](0x1);}),it('should\x20deal\x20with\x20packets\x20containing\x20data\x20from\x202\x20different\x20chunks',()=>{const _0x20bd6f=_0x1b51cb,_0x44872e={'nBukc':function(_0xc2e754,_0x4ce7c8){return _0xc2e754(_0x4ce7c8);},'dwmIT':function(_0x5d4375,_0x5a2c1b){return _0x5d4375+_0x5a2c1b;}};let _0x3dbd01=0x0;const _0x336957=new PacketAssembler({'readChunkFunc':readChunkHeader,'minimumSizeInBytes':0x5});_0x336957['on'](_0x20bd6f(0x13e),_0x3f6ca6=>{const _0x1d5410=_0x20bd6f,_0x4924fa=_0x44872e[_0x1d5410(0x121)](readChunkHeader,_0x3f6ca6);_0x4924fa['length'][_0x1d5410(0x10d)][_0x1d5410(0x12c)](_0x3f6ca6[_0x1d5410(0x10e)]),_0x4924fa[_0x1d5410(0x10e)][_0x1d5410(0x10d)][_0x1d5410(0x12c)](_0x44872e[_0x1d5410(0x10f)](0xc8,0x5)),_0x3dbd01+=0x1,_0x3dbd01===0x1&&_0x4924fa['extra'][_0x1d5410(0x10d)]['equal']('A'),_0x3dbd01===0x2&&_0x4924fa[_0x1d5410(0x135)][_0x1d5410(0x10d)][_0x1d5410(0x12c)]('B');});const _0xd8e932=sinon[_0x20bd6f(0x129)](),_0x51f995=sinon[_0x20bd6f(0x129)]();_0x336957['on'](_0x5e604f[_0x20bd6f(0x11e)],_0xd8e932),_0x336957['on'](_0x5e604f[_0x20bd6f(0x13b)],_0x51f995);const _0x6dc01=_0x5e604f[_0x20bd6f(0x137)](makeChunk,'A',0xc8),_0x4f090c=_0x5e604f['RDquX'](makeChunk,'B',0xc8),_0x2af1f1=_0x6dc01['slice'](0x0,0x96),_0x37cd78=_0x6dc01['slice'](0x96),_0x11aacf=_0x4f090c[_0x20bd6f(0x12e)](0x0,0x96),_0x1125a4=Buffer['concat']([_0x37cd78,_0x11aacf]),_0x19dde7=_0x4f090c[_0x20bd6f(0x12e)](0x96);_0x336957['feed'](_0x2af1f1),_0x336957[_0x20bd6f(0x10c)](_0x1125a4),_0x336957[_0x20bd6f(0x10c)](_0x19dde7),_0x51f995[_0x20bd6f(0x123)]['should'][_0x20bd6f(0x12c)](0x0),_0xd8e932[_0x20bd6f(0x123)][_0x20bd6f(0x10d)][_0x20bd6f(0x12c)](0x2);}),it(_0x1b51cb(0x128),()=>{const _0x2cb394=_0x1b51cb,_0x59a7b5=new PacketAssembler({'readChunkFunc':readChunkHeader,'minimumSizeInBytes':0x5,'maxChunkSize':0x64}),_0x5d1cb2=sinon['spy'](),_0x2f233f=sinon['spy']();_0x59a7b5['on']('chunk',_0x5d1cb2),_0x59a7b5['on'](_0x5e604f[_0x2cb394(0x13b)],_0x2f233f);let _0xcb1f23=0x0;_0x59a7b5['on'](_0x2cb394(0x13e),_0x47ae91=>{const _0x17380f=_0x2cb394,_0x4fddee=readChunkHeader(_0x47ae91);_0x4fddee[_0x17380f(0x10e)][_0x17380f(0x10d)]['equal'](_0x47ae91['length']),_0x4fddee[_0x17380f(0x10e)]['should'][_0x17380f(0x12c)](0xc8+0x5),_0xcb1f23+=0x1,_0x5e604f['THtkv'](_0xcb1f23,0x1)&&_0x4fddee[_0x17380f(0x135)][_0x17380f(0x10d)][_0x17380f(0x12c)]('A'),_0x5e604f[_0x17380f(0x11d)](_0xcb1f23,0x2)&&_0x4fddee[_0x17380f(0x135)]['should'][_0x17380f(0x12c)]('B');});let _0xede9ed=0x0;_0x59a7b5['on'](_0x5e604f['OGEej'],_0x2f789c=>{const _0x46fdb1=_0x2cb394;_0x2f789c['message']['should'][_0x46fdb1(0x13a)](/maximum chunk size exceeded/),_0xede9ed+=0x1;});const _0x741dd0=makeChunk('A',0xc8),_0x5dc574=makeChunk('B',0xc8);_0x59a7b5['feed'](_0x741dd0),_0x59a7b5['feed'](_0x5dc574),_0xede9ed[_0x2cb394(0x10d)][_0x2cb394(0x124)](0x2),_0x5d1cb2['callCount'][_0x2cb394(0x10d)][_0x2cb394(0x124)](0x0),_0x2f233f[_0x2cb394(0x123)][_0x2cb394(0x10d)][_0x2cb394(0x124)](0x2);});});function _0x3b73(){const _0x1f91d1=['16722750hXjluB','HUsPu','match','OGEej','readUInt32LE','writeUInt8','chunk','feed','should','length','dwmIT','sinon','alloc','charCodeAt','1242827nDrfpo','472388kNCWRv','yzYSq','fromCharCode','lzWNy','readUInt8','should\x20assemble\x20a\x20single\x20packet','PacketAssembler','3ROidxP','2368944eQLRYQ','THtkv','ftBFI','18iOubon','7529956qmZuGr','nBukc','greaterThan','callCount','eql','error','ATYjr','2419806RndNeS','limits:\x20max\x20chunk\x20size\x20exceeded','spy','Ahndk','cWHmv','equal','should\x20assemble\x20a\x20chunk\x20sent\x20over\x20several\x20packets','slice','wSWvk','UFFUA','15GDvfna','2zkDUIH','srWuw','writeUInt32LE','extra','11808820nNNDvR','Hwwcp'];_0x3b73=function(){return _0x1f91d1;};return _0x3b73();}