function _0x5a1c(_0x248787,_0x27c4ef){const _0x1baa63=_0x1baa();return _0x5a1c=function(_0x5a1c1a,_0x5aaf08){_0x5a1c1a=_0x5a1c1a-0xa7;let _0x4cf896=_0x1baa63[_0x5a1c1a];return _0x4cf896;},_0x5a1c(_0x248787,_0x27c4ef);}function _0x1baa(){const _0x374514=['rghSy','published','store','exec','PRAGMA\x20journal_mode','default','env','oBNQg','PRAGMA\x20cache_size','iNXmM','OFHbG','ApEeq','close','statSync','PRAGMA\x20auto_vacuum\x20=\x20FULL','mkdirSync','redbean-node','searchEngineIndex','statusPage-default','4957925UDcOly','database_version','SELECT\x201','uEeSO','findOne','PRAGMA\x20journal_mode\x20=\x20MEMORY','fEglf','latestVersion','My\x20Status\x20Page','Patched\x20','DELETE\x20FROM\x20setting\x20WHERE\x20type\x20=\x20\x27statusPage\x27','status_page','zKtlL','1|4|3|2|0','filter','addListener','path','VeImu','.sql','Please\x20submit\x20a\x20bug\x20report\x20if\x20you\x20still\x20encounter\x20the\x20problem\x20after\x20restart:\x20https://github.com/louislam/uptime-kuma/issues','3061395ZBfpZB','setup','exit','description','theme','Warning:\x20Database\x20version\x20is\x20newer\x20than\x20expected','szaaS','yuaqP','aKJQZ','getCell','bemqI','jmadR','rWHeU','databasePatchedFiles','hdndp','\x20was\x20patched\x20successfully','acquireConnection','icon','Data\x20Dir:\x20','../src/util','AJlVH','_driver','PRAGMA\x20journal_mode\x20=\x20WAL','YakcA','map','6PMuImz','SELECT\x20sqlite_version()','noReject','./db/kuma.db','Please\x20submit\x20the\x20bug\x20report\x20if\x20you\x20still\x20encounter\x20the\x20problem\x20after\x20restart:\x20https://github.com/louislam/uptime-kuma/issues','join','MtemH','\x20is\x20not\x20patched','Mmasf','nGYpm','./server/model','split','\x20slug\x20=\x20\x27default\x27\x20','fSlGC','XSLvI','APLDr','SQL_LOG','patch2','SQLite\x20Version:\x20','pNMBW','exports','Database.getSize()','\x20skip','Migrating\x20Status\x20Page','\x20is\x20already\x20patched,\x20skip','faImN','beYbY','knex','dataDir','connect','warn','\x20is\x20patching','4747856BkmgQp','Migrating\x20Status\x20Page\x20-\x20Done','existsSync','Start\x20Uptime-Kuma\x20failed\x20due\x20to\x20issue\x20patching\x20the\x20database','kuma.db','patch2Recursion','Latest\x20database\x20version:\x20','client','cpjiy','SQLite\x20config:','removeListener','readFileSync','entryPage','rDtcs','uploadDir','KXJyz','log','nQzLG','UPDATE\x20[group]\x20SET\x20status_page_id\x20=\x20?\x20WHERE\x20status_page_id\x20IS\x20NULL','UPDATE\x20incident\x20SET\x20status_page_id\x20=\x20?\x20WHERE\x20status_page_id\x20IS\x20NULL','tBbDA','BRuID','VACUUM','Patching\x20','toString','slug','1419312RmnItz','eqhdu','CIOnO','title','oaHJe','data-dir','unhandledRejection','xZYlY','Closing\x20the\x20database','startsWith','disable','show_tags','PRAGMA\x20foreign_keys\x20=\x20ON','general','parents','PLUGIN','statusPageTheme','2bNdwHl','getSize','Database\x20Patch\x202.0\x20Process','statusPage','error','getAll','trim','statusPageTags','importSQLFile','getBetterSQLite3Database','bMWsR','migrateNewStatusPage','412521vGSvxW','\x20need\x20parents','RlmgD','patched','DlYlN','patchList','xQuKr','info','dispense','Database\x20patch\x20is\x20needed','PRAGMA\x20wal_checkpoint(TRUNCATE)','oOkGd','debug','password','bQLgq','@louislam/sqlite3','size','26084493OEvmeC','prototype','SQLite\x20closed','Database\x20patch\x20not\x20needed','nIHBT','light','gDNiy','./data/','statusPagePublished','HOuDd','Your\x20database\x20version:\x20','mHlIK','2681508BhibXE','VAXUN'];_0x1baa=function(){return _0x374514;};return _0x1baa();}const _0x219290=_0x5a1c;(function(_0x194c0b,_0x4930f8){const _0x32ae75=_0x5a1c,_0x4d58c5=_0x194c0b();while(!![]){try{const _0x397dbd=parseInt(_0x32ae75(0xda))/0x1*(-parseInt(_0x32ae75(0xce))/0x2)+parseInt(_0x32ae75(0xbd))/0x3+-parseInt(_0x32ae75(0xf7))/0x4+-parseInt(_0x32ae75(0x120))/0x5+-parseInt(_0x32ae75(0x139))/0x6*(parseInt(_0x32ae75(0x10c))/0x7)+-parseInt(_0x32ae75(0x159))/0x8+parseInt(_0x32ae75(0xeb))/0x9;if(_0x397dbd===_0x4930f8)break;else _0x4d58c5['push'](_0x4d58c5['shift']());}catch(_0x5d3d4e){_0x4d58c5['push'](_0x4d58c5['shift']());}}}(_0x1baa,0x5b6af));const fs=require('fs'),{R}=require(_0x219290(0x109)),{setSetting,setting}=require('./util-server'),{log,sleep}=require(_0x219290(0x133)),knex=require(_0x219290(0x154)),{PluginsManager}=require('./plugins-manager');class Database{static ['templatePath']=_0x219290(0x13c);static [_0x219290(0x155)];static [_0x219290(0xb1)];static [_0x219290(0x11c)];static ['patched']=![];static [_0x219290(0xdf)]={'patch-setting-value-type.sql':!![],'patch-improve-performance.sql':!![],'patch-2fa.sql':!![],'patch-add-retry-interval-monitor.sql':!![],'patch-incident-table.sql':!![],'patch-group-table.sql':!![],'patch-monitor-push_token.sql':!![],'patch-http-monitor-method-body-and-headers.sql':!![],'patch-2fa-invalidate-used-token.sql':!![],'patch-notification_sent_history.sql':!![],'patch-monitor-basic-auth.sql':!![],'patch-add-docker-columns.sql':!![],'patch-status-page.sql':!![],'patch-proxy.sql':!![],'patch-monitor-expiry-notification.sql':!![],'patch-status-page-footer-css.sql':!![],'patch-added-mqtt-monitor.sql':!![],'patch-add-clickable-status-page-link.sql':!![],'patch-add-sqlserver-monitor.sql':!![],'patch-add-other-auth.sql':{'parents':['patch-monitor-basic-auth.sql']},'patch-grpc-monitor.sql':!![],'patch-add-radius-monitor.sql':!![],'patch-monitor-add-resend-interval.sql':!![],'patch-ping-packet-size.sql':!![],'patch-maintenance-table2.sql':!![],'patch-add-gamedig-monitor.sql':!![],'patch-add-google-analytics-status-page-tag.sql':!![],'patch-http-body-encoding.sql':!![],'patch-add-description-monitor.sql':!![],'patch-api-key-table.sql':!![],'patch-monitor-tls.sql':!![],'patch-maintenance-cron.sql':!![],'patch-add-parent-monitor.sql':!![]};static ['latestVersion']=0xa;static [_0x219290(0x13b)]=!![];static['init'](_0x301d65){const _0x5dbe21=_0x219290,_0x11f0bf={'HfLKH':_0x5dbe21(0xc2),'yuaqP':function(_0x5bc4c1,_0x50d4d5){return _0x5bc4c1+_0x50d4d5;},'oaHJe':function(_0x48ad8b,_0x5bfca9){return _0x48ad8b+_0x5bfca9;},'BRuID':'upload/'};Database['dataDir']=process[_0x5dbe21(0xff)]['DATA_DIR']||_0x301d65[_0x11f0bf['HfLKH']]||'./data/',Database[_0x5dbe21(0x155)]!==_0x5dbe21(0xf2)&&(log[_0x5dbe21(0x157)](_0x5dbe21(0xcc),'Warning:\x20In\x20order\x20to\x20enable\x20plugin\x20feature,\x20you\x20need\x20to\x20use\x20the\x20default\x20data\x20directory:\x20./data/'),PluginsManager[_0x5dbe21(0xc7)]=!![]),Database[_0x5dbe21(0x11c)]=_0x11f0bf[_0x5dbe21(0x127)](Database[_0x5dbe21(0x155)],_0x5dbe21(0xa7)),!fs['existsSync'](Database[_0x5dbe21(0x155)])&&fs[_0x5dbe21(0x108)](Database['dataDir'],{'recursive':!![]}),Database[_0x5dbe21(0xb1)]=_0x11f0bf[_0x5dbe21(0xc1)](Database[_0x5dbe21(0x155)],_0x11f0bf[_0x5dbe21(0xb8)]),!fs[_0x5dbe21(0x15b)](Database['uploadDir'])&&fs[_0x5dbe21(0x108)](Database[_0x5dbe21(0xb1)],{'recursive':!![]}),log[_0x5dbe21(0xe1)]('db',_0x5dbe21(0x132)+Database[_0x5dbe21(0x155)]);}static async[_0x219290(0x156)](_0x32e30e=![],_0x55b05f=!![],_0x22c3e0=![]){const _0x32cb40=_0x219290,_0x3e1a7b={'rghSy':function(_0x55ec78,_0x491c4e){return _0x55ec78!==_0x491c4e;},'LEGfs':function(_0x16e7da,_0x14a875){return _0x16e7da*_0x14a875;},'DlYlN':function(_0x2ccdc1,_0xad93fa){return _0x2ccdc1(_0xad93fa);},'MMqRa':_0x32cb40(0x126),'xZYlY':_0x32cb40(0x143),'nIHBT':_0x32cb40(0xc9),'YakcA':_0x32cb40(0x111),'BZddG':'PRAGMA\x20cache_size\x20=\x20-12000','cpjiy':_0x32cb40(0x101),'SFsAm':_0x32cb40(0x14b)},_0x20b9c5=_0x3e1a7b['LEGfs'](0x78,0x3e8),_0x43667d=_0x3e1a7b[_0x32cb40(0xde)](require,'knex/lib/dialects/sqlite3/index.js');_0x43667d[_0x32cb40(0xec)][_0x32cb40(0x135)]=()=>require(_0x32cb40(0xe9));const _0x406ae8=knex({'client':_0x43667d,'connection':{'filename':Database['path'],'acquireConnectionTimeout':_0x20b9c5},'useNullAsDefault':!![],'pool':{'min':0x1,'max':0x1,'idleTimeoutMillis':0x78*0x3e8,'propagateCreateError':![],'acquireTimeoutMillis':_0x20b9c5}});R[_0x32cb40(0x121)](_0x406ae8);process['env'][_0x32cb40(0x149)]==='1'&&R[_0x32cb40(0xe6)](!![]);R['freeze'](!![]);if(_0x55b05f){if(_0x3e1a7b[_0x32cb40(0xf9)](_0x3e1a7b['MMqRa'],_0x32cb40(0x126)))return _0x3e1a7b['rghSy'](_0x2bc877,'');else await R['autoloadModels'](_0x3e1a7b[_0x32cb40(0xc4)]);}await R[_0x32cb40(0xfc)](_0x3e1a7b[_0x32cb40(0xef)]),_0x32e30e?await R[_0x32cb40(0xfc)](_0x3e1a7b[_0x32cb40(0x137)]):await R[_0x32cb40(0xfc)](_0x32cb40(0x136)),await R[_0x32cb40(0xfc)](_0x3e1a7b['BZddG']),await R[_0x32cb40(0xfc)](_0x32cb40(0x107)),await R[_0x32cb40(0xfc)]('PRAGMA\x20synchronous\x20=\x20FULL'),!_0x22c3e0&&(log[_0x32cb40(0xe1)]('db',_0x32cb40(0xac)),log['info']('db',await R[_0x32cb40(0xd3)](_0x32cb40(0xfd))),log[_0x32cb40(0xe1)]('db',await R['getAll'](_0x3e1a7b[_0x32cb40(0xab)])),log[_0x32cb40(0xe1)]('db',_0x3e1a7b['SFsAm']+await R[_0x32cb40(0x129)](_0x32cb40(0x13a))));}static async['patch'](){const _0xacff1=_0x219290,_0x30adad={'voCZl':function(_0x41c55f,_0xf941cb){return _0x41c55f===_0xf941cb;},'OFHbG':_0xacff1(0xb4),'pNMBW':function(_0x442b14,_0x224dd2){return _0x442b14+_0x224dd2;},'KXJyz':_0xacff1(0x125),'GMAKM':_0xacff1(0xe3),'beYbY':function(_0x118f3c,_0x113ffa,_0x59fd51){return _0x118f3c(_0x113ffa,_0x59fd51);},'APLDr':function(_0x3066ec,_0x57e0ac){return _0x3066ec!==_0x57e0ac;},'rDtcs':_0xacff1(0xdc),'FyPQV':_0xacff1(0x11f),'faImN':_0xacff1(0x15c)};let _0x49c2e1=parseInt(await setting(_0xacff1(0x10d)));!_0x49c2e1&&(_0x30adad['voCZl'](_0x30adad[_0xacff1(0x103)],_0xacff1(0xb4))?_0x49c2e1=0x0:_0x529aea[_0xacff1(0xe6)](!![]));log['info']('db',_0xacff1(0xf5)+_0x49c2e1),log['info']('db',_0x30adad[_0xacff1(0x14c)](_0xacff1(0xa9),this[_0xacff1(0x113)]));if(_0x49c2e1===this['latestVersion'])log[_0xacff1(0xe1)]('db',_0xacff1(0xee));else{if(_0x49c2e1>this['latestVersion'])log[_0xacff1(0xe1)]('db',_0x30adad[_0xacff1(0xb2)]);else{log['info']('db',_0x30adad['GMAKM']);try{for(let _0x241c11=_0x49c2e1+0x1;_0x241c11<=this['latestVersion'];_0x241c11++){const _0x22be6b='./db/patch'+_0x241c11+_0xacff1(0x11e);log['info']('db',_0xacff1(0xba)+_0x22be6b),await Database[_0xacff1(0xd6)](_0x22be6b),log[_0xacff1(0xe1)]('db',_0xacff1(0x115)+_0x22be6b),await _0x30adad[_0xacff1(0x153)](setSetting,_0xacff1(0x10d),_0x241c11);}}catch(_0x3ab410){if(_0x30adad[_0xacff1(0x148)](_0x30adad[_0xacff1(0xb0)],_0xacff1(0x141))){const _0x59ef5f=_0xacff1(0x119)['split']('|');let _0xb01655=0x0;while(!![]){switch(_0x59ef5f[_0xb01655++]){case'0':process[_0xacff1(0x122)](0x1);continue;case'1':await Database['close']();continue;case'2':log[_0xacff1(0xd2)]('db',_0x30adad['FyPQV']);continue;case'3':log['error']('db',_0x30adad[_0xacff1(0x152)]);continue;case'4':log[_0xacff1(0xd2)]('db',_0x3ab410);continue;}break;}}else return _0x3eb053[_0xacff1(0x154)][_0xacff1(0xaa)][_0xacff1(0x130)]();}}}await this['patch2'](),await this[_0xacff1(0xd9)]();}static async[_0x219290(0x14a)](){const _0x4fa959=_0x219290,_0x4d5a01={'iNXmM':function(_0x110284,_0x101f71){return _0x110284(_0x101f71);},'zKtlL':_0x4fa959(0x15c),'xQuKr':_0x4fa959(0x13d),'xasIW':'databasePatchedFiles'};log[_0x4fa959(0xe1)]('db',_0x4fa959(0xd0));let _0x1f7203=await _0x4d5a01[_0x4fa959(0x102)](setting,_0x4fa959(0x12d));!_0x1f7203&&(_0x1f7203={});log[_0x4fa959(0xe6)]('db','Patched\x20files:'),log['debug']('db',_0x1f7203);try{for(let _0x384687 in this['patchList']){await this[_0x4fa959(0xa8)](_0x384687,_0x1f7203);}this[_0x4fa959(0xdd)]&&(_0x4fa959(0x13f)!==_0x4fa959(0xbe)?log['info']('db','Database\x20Patched\x20Successfully'):_0x5015b0={});}catch(_0x4bda5b){await Database['close'](),log[_0x4fa959(0xd2)]('db',_0x4bda5b),log[_0x4fa959(0xd2)]('db',_0x4d5a01[_0x4fa959(0x118)]),log[_0x4fa959(0xd2)]('db',_0x4d5a01[_0x4fa959(0xe0)]),process[_0x4fa959(0x122)](0x1);}await setSetting(_0x4d5a01['xasIW'],_0x1f7203);}static async[_0x219290(0xd9)](){const _0x458efb=_0x219290,_0x10f496={'bQLgq':_0x458efb(0x150),'bMWsR':_0x458efb(0x117),'ZKjPT':_0x458efb(0x145),'tBbDA':function(_0x1774b9,_0x5ddb50){return _0x1774b9!==_0x5ddb50;},'bemqI':'Migrating\x20Status\x20Page\x20-\x20Skip,\x20default\x20slug\x20record\x20is\x20already\x20existing','XSLvI':function(_0x373031,_0xedc347){return _0x373031(_0xedc347);},'VeImu':function(_0x2d8eb3,_0x197fe7){return _0x2d8eb3(_0x197fe7);},'rWHeU':_0x458efb(0xf3),'jmadR':_0x458efb(0x10a),'uEeSO':_0x458efb(0x114),'AJlVH':_0x458efb(0xf0),'fSlGC':_0x458efb(0xb6),'sstow':_0x458efb(0x116),'gDNiy':function(_0x2803ec,_0x17635f){return _0x2803ec===_0x17635f;},'SMzSN':function(_0x1173cf,_0xcb4b96,_0x49b9db,_0x1c4fe8){return _0x1173cf(_0xcb4b96,_0x49b9db,_0x1c4fe8);},'mlCgh':_0x458efb(0xca)};await R[_0x458efb(0xfc)]('UPDATE\x20status_page\x20SET\x20slug\x20=\x20\x27empty-slug-recover\x27\x20WHERE\x20TRIM(slug)\x20=\x20\x27\x27');let _0x29ae20=await setting(_0x458efb(0xc0));if(_0x29ae20){if('ZZxMI'==='kFcFz'){_0x358e02[_0x458efb(0xe6)]('db',_0x458efb(0x14e));let _0x1f82c5=_0x3f2064[_0x458efb(0x106)](_0x1633ac[_0x458efb(0x11c)]);return _0xe462aa[_0x458efb(0xe6)]('db',_0x1f82c5),_0x1f82c5['size'];}else{console['log'](_0x10f496[_0x458efb(0xe8)]);let _0x581c63=await R[_0x458efb(0x110)](_0x10f496[_0x458efb(0xd8)],_0x10f496['ZKjPT']);if(_0x10f496[_0x458efb(0xb7)](_0x581c63,null)){console[_0x458efb(0xb3)](_0x10f496[_0x458efb(0x12a)]);return;}let _0x59ed9e=R[_0x458efb(0xe2)](_0x10f496[_0x458efb(0xd8)]);_0x59ed9e[_0x458efb(0xbc)]=_0x458efb(0xfe),_0x59ed9e[_0x458efb(0xc0)]=_0x29ae20,_0x59ed9e[_0x458efb(0x123)]=await _0x10f496[_0x458efb(0x147)](setting,_0x458efb(0x123)),_0x59ed9e[_0x458efb(0x131)]=await setting(_0x458efb(0x131)),_0x59ed9e['theme']=await setting(_0x458efb(0xcd)),_0x59ed9e[_0x458efb(0xfa)]=!!await _0x10f496[_0x458efb(0x11d)](setting,_0x10f496[_0x458efb(0x12c)]),_0x59ed9e['search_engine_index']=!!await _0x10f496[_0x458efb(0x147)](setting,_0x10f496[_0x458efb(0x12b)]),_0x59ed9e[_0x458efb(0xc8)]=!!await setting(_0x458efb(0xd5)),_0x59ed9e[_0x458efb(0xe7)]=null;!_0x59ed9e['title']&&(_0x59ed9e[_0x458efb(0xc0)]=_0x10f496[_0x458efb(0x10f)]);!_0x59ed9e[_0x458efb(0x131)]&&(_0x59ed9e[_0x458efb(0x131)]='');!_0x59ed9e[_0x458efb(0x124)]&&(_0x59ed9e[_0x458efb(0x124)]=_0x10f496[_0x458efb(0x134)]);let _0x30ebcd=await R[_0x458efb(0xfb)](_0x59ed9e);await R[_0x458efb(0xfc)](_0x10f496[_0x458efb(0x146)],[_0x30ebcd]),await R[_0x458efb(0xfc)](_0x458efb(0xb5),[_0x30ebcd]),await R[_0x458efb(0xfc)](_0x10f496['sstow']);let _0x102f27=await setting(_0x458efb(0xaf));_0x10f496[_0x458efb(0xf1)](_0x102f27,_0x458efb(0xd1))&&await _0x10f496['SMzSN'](setSetting,_0x458efb(0xaf),_0x458efb(0x10b),_0x10f496['mlCgh']),console[_0x458efb(0xb3)](_0x458efb(0x15a));}}}static async[_0x219290(0xa8)](_0x3e4d61,_0xe1e28e){const _0x312eac=_0x219290,_0x590e04={'aKJQZ':function(_0x458dc2,_0xd6bdf9){return _0x458dc2+_0xd6bdf9;},'oBNQg':_0x312eac(0x140),'hdndp':function(_0x2a0a00,_0x662d6){return _0x2a0a00+_0x662d6;},'fEglf':_0x312eac(0x158),'JxSay':_0x312eac(0x12f),'CIOnO':'LOlbv','nGYpm':_0x312eac(0x151)};let _0xcf594a=this['patchList'][_0x3e4d61];if(!_0xcf594a){log[_0x312eac(0xe1)]('db',_0x590e04[_0x312eac(0x128)](_0x3e4d61,_0x312eac(0x14f)));return;}if(!_0xe1e28e[_0x3e4d61]){log['info']('db',_0x3e4d61+_0x590e04[_0x312eac(0x100)]);if(_0xcf594a[_0x312eac(0xcb)]){log[_0x312eac(0xe1)]('db',_0x590e04[_0x312eac(0x12e)](_0x3e4d61,_0x312eac(0xdb)));for(let _0x502f66 of _0xcf594a[_0x312eac(0xcb)]){await this[_0x312eac(0xa8)](_0x502f66,_0xe1e28e);}}log[_0x312eac(0xe1)]('db',_0x590e04['aKJQZ'](_0x3e4d61,_0x590e04[_0x312eac(0x112)])),this[_0x312eac(0xdd)]=!![],await this[_0x312eac(0xd6)]('./db/'+_0x3e4d61),_0xe1e28e[_0x3e4d61]=!![],log[_0x312eac(0xe1)]('db',_0x3e4d61+_0x590e04['JxSay']);}else _0x590e04[_0x312eac(0xbf)]!==_0x312eac(0xf8)?log[_0x312eac(0xe6)]('db',_0x590e04['hdndp'](_0x3e4d61,_0x590e04[_0x312eac(0x142)])):_0x12ffa8[_0x312eac(0x131)]='';}static async[_0x219290(0xd6)](_0x17aa68){const _0x11ce02=_0x219290,_0x3f54d5={'dFNMG':_0x11ce02(0x10e)};await R[_0x11ce02(0x129)](_0x3f54d5['dFNMG']);let _0x2124bb=fs[_0x11ce02(0xae)](_0x17aa68)[_0x11ce02(0xbb)](),_0x3aba0c=_0x2124bb[_0x11ce02(0x144)]('\x0a');_0x3aba0c=_0x3aba0c[_0x11ce02(0x11a)](_0x476b33=>{const _0x4d2bbd=_0x11ce02;return!_0x476b33[_0x4d2bbd(0xc6)]('--');}),_0x2124bb=_0x3aba0c[_0x11ce02(0x13e)]('\x0a');let _0x20bee2=_0x2124bb[_0x11ce02(0x144)](';')[_0x11ce02(0x138)](_0x33ed6d=>{const _0x16459d=_0x11ce02;return _0x33ed6d[_0x16459d(0xd4)]();})[_0x11ce02(0x11a)](_0x2d8a20=>{return _0x2d8a20!=='';});for(let _0x1f6cb5 of _0x20bee2){await R[_0x11ce02(0xfc)](_0x1f6cb5);}}static[_0x219290(0xd7)](){const _0x1ac4b2=_0x219290;return R['knex'][_0x1ac4b2(0xaa)][_0x1ac4b2(0x130)]();}static async['close'](){const _0x4c0151=_0x219290,_0x3a866b={'oOkGd':'unhandledRejection','ApEeq':_0x4c0151(0xc5),'mHlIK':'Waiting\x20to\x20close\x20the\x20database'},_0x4a70f8=(_0x2be2d9,_0x29421a)=>{const _0x582cc9=_0x4c0151;Database[_0x582cc9(0x13b)]=![];};process[_0x4c0151(0x11b)](_0x3a866b[_0x4c0151(0xe5)],_0x4a70f8),log[_0x4c0151(0xe1)]('db',_0x3a866b[_0x4c0151(0x104)]),await R['exec'](_0x4c0151(0xe4));while(!![]){Database['noReject']=!![],await R[_0x4c0151(0x105)](),await sleep(0x7d0);if(Database['noReject'])break;else log[_0x4c0151(0xe1)]('db',_0x3a866b[_0x4c0151(0xf6)]);}log['info']('db',_0x4c0151(0xed)),process[_0x4c0151(0xad)](_0x4c0151(0xc3),_0x4a70f8);}static[_0x219290(0xcf)](){const _0x290e2e=_0x219290,_0x26c4f0={'HOuDd':_0x290e2e(0x14e)};log['debug']('db',_0x26c4f0[_0x290e2e(0xf4)]);let _0x3e73cf=fs['statSync'](Database[_0x290e2e(0x11c)]);return log[_0x290e2e(0xe6)]('db',_0x3e73cf),_0x3e73cf[_0x290e2e(0xea)];}static async['shrink'](){const _0x5633cb=_0x219290;await R[_0x5633cb(0xfc)](_0x5633cb(0xb9));}}module[_0x219290(0x14d)]=Database;