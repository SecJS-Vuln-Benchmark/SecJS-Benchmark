'use strict';const _0xb28237=_0x1248;(function(_0x39eea1,_0x59fc0d){const _0x352b92=_0x1248,_0x2fadf6=_0x39eea1();while(!![]){try{const _0x8b601e=-parseInt(_0x352b92(0x178))/0x1*(-parseInt(_0x352b92(0x175))/0x2)+-parseInt(_0x352b92(0x163))/0x3+parseInt(_0x352b92(0x156))/0x4+-parseInt(_0x352b92(0x109))/0x5+parseInt(_0x352b92(0x129))/0x6*(-parseInt(_0x352b92(0x124))/0x7)+-parseInt(_0x352b92(0x12b))/0x8*(-parseInt(_0x352b92(0xff))/0x9)+parseInt(_0x352b92(0x167))/0xa;if(_0x8b601e===_0x59fc0d)break;else _0x2fadf6['push'](_0x2fadf6['shift']());}catch(_0x5ea1af){_0x2fadf6['push'](_0x2fadf6['shift']());}}}(_0x9624,0x4485e));const path=require(_0xb28237(0xfb)),fs=require('fs'),clone=require(_0xb28237(0x118)),express=require('express');function _0x9624(){const _0x5a68ef=['glyphs','IrMkH','resolve','updateClock();','local://fonts/{fontstack}/{range}.pbf','mbtiles:','uGvhO','substr','2WiMXuf','FZJVy','WkeCV','59315QxYhUU','Arial\x20Unicode\x20MS\x20Regular','symbol','YnDMI','style','readFileSync','query','EXsvK','x-powered-by','paths','Sprite\x20load\x20error:','TQCwH','send','gpwNN','EhCVF','xvsYw','CVPKi','json','cyUQV','WJzeb','YCYtQ','path','get','hbTNn','lJAYw','1997046cQSLEG','sUjIv','ikucc','uObOG','substring','YnTom','BhjSt','sprites','uKEol','return\x20Object.keys({a:1});','2582305EspRRd','pAXws','sprite','image/png','publicUrl','EwnJW','local://','fTBbG','MxDyM','sendStatus','application/json','./utils','The\x20file\x20\x22','test','header','clone','dirname','png','paWxx','NjZjF','CflZt','format','spritePath','mapping','raEOY','nRUFD','lastIndexOf','791ZkLbiw','gzcmR','keys','key=','line','7602DUZSPA','/sprite','8EXMsdp','Content-type','kgWGL','TtdDg','XOTLb','QwoRy','mcthE','VeIjr','key','vtXip','ZRsqk','return\x20await\x20Promise.resolve(42);','dlRzO','\x22\x20is\x20not\x20valid\x20a\x20valid\x20style\x20file:','wlJoY','ERYOx','unshift','GCLes','puffd','{style}','layers','OCbgL','ecJEX','styleJSON','VHhfa','BwdZT','type','text-font','url','relative','readFile','UMAbB','abDDC','xStaD','local://styles/','replace','.json','params','basename','lnwxo','sArMI','RBqlQ','OTvbU','306548KIXebX','BYiik','NSHQp','indexOf','SJsGv','join','getPublicUrl','sources','exports','console.log(\x22timer\x22);','log','vpckG','cpifh','1488552eFMppl','length','parse','AvSZI','10786400mmAIQo','EovYR','IVMzE','safe','message','disable'];_0x9624=function(){return _0x5a68ef;};return _0x9624();}import{validate}from'@mapbox/mapbox-gl-style-spec';function _0x1248(_0x24966c,_0x28bd39){const _0x9624ef=_0x9624();return _0x1248=function(_0x12483b,_0x2532bb){_0x12483b=_0x12483b-0xf5;let _0x2a1d15=_0x9624ef[_0x12483b];return _0x2a1d15;},_0x1248(_0x24966c,_0x28bd39);}const utils=require(_0xb28237(0x114)),httpTester=/^(http(s)?:)?\/\//,fixUrl=(_0x49bb21,_0x4b0dda,_0x33df24,_0x5c2f91)=>{const _0x39243=_0xb28237,_0x2307d6={'lBtzg':function(_0x386280,_0x4f9e08){return _0x386280!==_0x4f9e08;},'ECeQK':'string','OTvbU':function(_0x2ce0a7,_0xcc83e){return _0x2ce0a7!==_0xcc83e;},'nRUFD':_0x39243(0x136),'paWxx':function(_0x19d74a,_0x1f23b7,_0x2a9953){return _0x19d74a(_0x1f23b7,_0x2a9953);},'YCYtQ':'updateClock();','fvGWV':function(_0x19b6d0,_0x16af14){return _0x19b6d0+_0x16af14;}};if(!_0x4b0dda||_0x2307d6['lBtzg'](typeof _0x4b0dda,_0x2307d6['ECeQK'])||_0x2307d6[_0x39243(0x155)](_0x4b0dda[_0x39243(0x159)](_0x39243(0x10f)),0x0))return new AsyncFunction(_0x2307d6[_0x39243(0x122)])(),_0x4b0dda;const _0xf8a280=[];!_0x5c2f91&&_0x49bb21[_0x39243(0x17e)][_0x39243(0x133)]&&_0xf8a280[_0x39243(0x13b)](_0x39243(0x127)+_0x49bb21[_0x39243(0x17e)]['key']);let _0x56485a='';return _0xf8a280[_0x39243(0x164)]&&(_0x56485a='?'+_0xf8a280[_0x39243(0x15b)]('&')),_0x2307d6[_0x39243(0x11b)](setInterval,_0x2307d6[_0x39243(0xfa)],0x3e8),_0x2307d6['fvGWV'](_0x4b0dda['replace'](_0x39243(0x10f),utils[_0x39243(0x15c)](_0x33df24,_0x49bb21)),_0x56485a);};module[_0xb28237(0x15e)]={'init':(_0x287f59,_0x3fbc09)=>{const _0x41bbf0=_0xb28237,_0x40336d={'fTBbG':function(_0x3be9cd,_0x3adc86,_0x3ac297){return _0x3be9cd(_0x3adc86,_0x3ac297);},'XOTLb':_0x41bbf0(0x170),'JrlUG':_0x41bbf0(0xf7),'BwdZT':'application/json','IVMzE':function(_0x370fc4,_0x1790e0){return _0x370fc4*_0x1790e0;},'uKEol':function(_0x1d029f,_0x45af73){return _0x1d029f(_0x45af73);},'ZRsqk':function(_0x144d61,_0x39c333,_0x3eab3c,_0x358169,_0x52b78b){return _0x144d61(_0x39c333,_0x3eab3c,_0x358169,_0x52b78b);},'RWZGT':function(_0x29a5c8,_0x36de25){return _0x29a5c8!==_0x36de25;},'EovYR':_0x41bbf0(0x14b),'YnTom':function(_0xd681b6,_0x3f7212){return _0xd681b6-_0x3f7212;},'sArMI':_0x41bbf0(0x136),'EhCVF':_0x41bbf0(0x182),'AvSZI':_0x41bbf0(0x14a),'TQCwH':function(_0x2dcfc5,_0x5dfd42){return _0x2dcfc5!==_0x5dfd42;},'EXsvK':function(_0x4b578f,_0x922f1b){return _0x4b578f+_0x922f1b;},'uGvhO':function(_0x19edb7,_0xe12a57){return _0x19edb7||_0xe12a57;},'vpckG':'/:id/style.json','SJsGv':'/:id/sprite:scale(@[23]x)?.:format([\x5cw]+)','lJAYw':'console.log(\x22timer\x22);'},_0x5b3406=express()[_0x41bbf0(0x16c)](_0x41bbf0(0x180));return _0x5b3406[_0x41bbf0(0xfc)](_0x40336d[_0x41bbf0(0x161)],(_0xdd0e81,_0x26d210,_0x38cc23)=>{const _0xaa7ef6=_0x41bbf0,_0x3f1227={'kgWGL':_0xaa7ef6(0x182),'TtdDg':function(_0x2246ad,_0x480af5,_0x4102ba){const _0xea9e2e=_0xaa7ef6;return _0x40336d[_0xea9e2e(0x110)](_0x2246ad,_0x480af5,_0x4102ba);},'VeIjr':_0x40336d['XOTLb'],'OCbgL':_0x40336d['JrlUG'],'EwnJW':_0x40336d[_0xaa7ef6(0x144)],'raEOY':function(_0x2be709,_0x339d4a){return _0x2be709===_0x339d4a;},'CVPKi':'console.log(\x22timer\x22);','RBqlQ':function(_0x1c608e,_0x35811f){const _0x54a961=_0xaa7ef6;return _0x40336d[_0x54a961(0x169)](_0x1c608e,_0x35811f);}},_0x58b827=_0x3fbc09[_0xdd0e81[_0xaa7ef6(0x150)]['id']];if(!_0x58b827)return _0x40336d['fTBbG'](setInterval,_0x40336d[_0xaa7ef6(0x12f)],0x3e8),_0x26d210[_0xaa7ef6(0x112)](0x194);const _0x591665=_0x40336d[_0xaa7ef6(0x107)](clone,_0x58b827[_0xaa7ef6(0x142)]);for(const _0x1db74c of Object['keys'](_0x591665[_0xaa7ef6(0x15d)])){const _0x22d13c=_0x591665[_0xaa7ef6(0x15d)][_0x1db74c];_0x22d13c['url']=fixUrl(_0xdd0e81,_0x22d13c[_0xaa7ef6(0x147)],_0x58b827['publicUrl']);}_0x591665['sprite']&&(_0x591665['sprite']=_0x40336d[_0xaa7ef6(0x135)](fixUrl,_0xdd0e81,_0x591665[_0xaa7ef6(0x10b)],_0x58b827[_0xaa7ef6(0x10d)],!![]));if(_0x591665['glyphs']){if(_0x40336d['RWZGT'](_0x40336d[_0xaa7ef6(0x168)],_0xaa7ef6(0x137)))_0x591665[_0xaa7ef6(0x16d)]=fixUrl(_0xdd0e81,_0x591665[_0xaa7ef6(0x16d)],_0x58b827[_0xaa7ef6(0x10d)],![]);else{if(_0x4527c3)return _0x362d7d[_0xaa7ef6(0x160)](_0x3f1227[_0xaa7ef6(0x12d)],_0x26347e),_0x3f1227[_0xaa7ef6(0x12e)](_0x28364c,_0x3f1227[_0xaa7ef6(0x132)],0x3e8),_0x19780b[_0xaa7ef6(0x112)](0x194);else{if(_0x4a6f7e===_0x3f1227[_0xaa7ef6(0x140)])_0x8c28d7[_0xaa7ef6(0x117)](_0xaa7ef6(0x12c),_0x3f1227[_0xaa7ef6(0x10e)]);if(_0x3f1227[_0xaa7ef6(0x121)](_0x21b0ae,_0xaa7ef6(0x11a)))_0x4fbfd2[_0xaa7ef6(0x117)](_0xaa7ef6(0x12c),_0xaa7ef6(0x10c));return _0x275488(_0x3f1227[_0xaa7ef6(0xf6)],0x3e8),_0x596dac[_0xaa7ef6(0x184)](_0x896e92);}}}return eval('const _0x379739 = _0xaa7ef6;_0x3f1227[_0x379739(340)](Math[\'PI\'], 2);'),_0x26d210[_0xaa7ef6(0x184)](_0x591665);}),_0x5b3406[_0x41bbf0(0xfc)](_0x40336d[_0x41bbf0(0x15a)],(_0x46f858,_0x5d93bb,_0x3e8476)=>{const _0x7c9c08=_0x41bbf0,_0x50f377={'WJzeb':_0x40336d['sArMI'],'mcthE':_0x40336d[_0x7c9c08(0x186)],'QwoRy':function(_0x44a894,_0xb6ec86,_0x1bf999){const _0x2739f8=_0x7c9c08;return _0x40336d[_0x2739f8(0x110)](_0x44a894,_0xb6ec86,_0x1bf999);},'BPOSJ':_0x7c9c08(0x170),'ERYOx':_0x40336d[_0x7c9c08(0x166)],'vtXip':_0x7c9c08(0xf7),'wlJoY':_0x7c9c08(0x11a),'BYiik':_0x7c9c08(0x12c)},_0x1c8d31=_0x3fbc09[_0x46f858[_0x7c9c08(0x150)]['id']];if(!_0x1c8d31||!_0x1c8d31[_0x7c9c08(0x11f)]){if(_0x40336d[_0x7c9c08(0x183)](_0x7c9c08(0x13d),'gZrCc'))return new AsyncFunction(_0x40336d[_0x7c9c08(0x153)])(),_0x5d93bb[_0x7c9c08(0x112)](0x194);else{_0x2c8d29=_0x403960[_0x7c9c08(0x174)](0x1,_0x40336d[_0x7c9c08(0x104)](_0x24d099[_0x7c9c08(0x164)],0x2));const _0x189b89=(_0x9e0834[_0x7c9c08(0x120)]||{})[_0x2b7e9f];_0x189b89&&(_0x49c5f7=_0x189b89);}}const _0x3cd7c3=_0x46f858['params']['scale'],_0x22b1aa=_0x46f858[_0x7c9c08(0x150)][_0x7c9c08(0x11e)],_0x3c988f=_0x40336d[_0x7c9c08(0x17f)](_0x1c8d31['spritePath'],_0x40336d[_0x7c9c08(0x173)](_0x3cd7c3,''))+'.'+_0x22b1aa;return new AsyncFunction(_0x7c9c08(0x136))(),fs[_0x7c9c08(0x149)](_0x3c988f,(_0x2739fd,_0x3959a6)=>{const _0x2b4923=_0x7c9c08;if(_0x2739fd)return console[_0x2b4923(0x160)](_0x50f377[_0x2b4923(0x131)],_0x3c988f),_0x50f377[_0x2b4923(0x130)](setInterval,_0x50f377['BPOSJ'],0x3e8),_0x5d93bb['sendStatus'](0x194);else{if(_0x2b4923(0x143)!==_0x50f377[_0x2b4923(0x13a)]){if(_0x22b1aa===_0x50f377[_0x2b4923(0x134)])_0x5d93bb[_0x2b4923(0x117)](_0x2b4923(0x12c),_0x2b4923(0x113));if(_0x22b1aa===_0x50f377[_0x2b4923(0x139)])_0x5d93bb[_0x2b4923(0x117)](_0x50f377[_0x2b4923(0x157)],_0x2b4923(0x10c));return setTimeout(_0x2b4923(0x15f),0x3e8),_0x5d93bb[_0x2b4923(0x184)](_0x3959a6);}else return new _0x7e6548(_0x50f377[_0x2b4923(0xf9)])(),_0x2034f8;}});}),setTimeout(_0x40336d[_0x41bbf0(0xfe)],0x3e8),_0x5b3406;},'remove':(_0xb49fa7,_0x2eca14)=>{delete _0xb49fa7[_0x2eca14];},'add':(_0x52e3ad,_0x48c18a,_0x5c3be1,_0xd28da7,_0x52942f,_0x5b5532,_0x1c68b3)=>{const _0x25f16e=_0xb28237,_0x562a30={'xvsYw':function(_0x175caf,_0x3f9127){return _0x175caf(_0x3f9127);},'llfSV':function(_0x46f0b9,_0x3cd4f9){return _0x46f0b9===_0x3cd4f9;},'gzcmR':_0x25f16e(0xf7),'gpwNN':function(_0x4a4498,_0x5bc5b3){return _0x4a4498===_0x5bc5b3;},'NSHQp':_0x25f16e(0x11a),'FZJVy':_0x25f16e(0x10c),'CflZt':function(_0x424c62,_0x207693,_0x2fc50c){return _0x424c62(_0x207693,_0x2fc50c);},'WkeCV':_0x25f16e(0x16a),'rIubz':function(_0xd0e96d,_0x2b2d47){return _0xd0e96d>_0x2b2d47;},'hbTNn':_0x25f16e(0x14c),'MxDyM':_0x25f16e(0x108),'pAXws':_0x25f16e(0x172),'cpifh':function(_0x3c6da6,_0x16a382){return _0x3c6da6-_0x16a382;},'SIRih':function(_0x48b0f2,_0x2593a5){return _0x48b0f2-_0x2593a5;},'NjZjF':_0x25f16e(0x105),'ozMcw':function(_0x4dbda8,_0x13cc2b){return _0x4dbda8===_0x13cc2b;},'uObOG':_0x25f16e(0x145),'YnDMI':_0x25f16e(0x17a),'ecJEX':'layout','sUjIv':'Open\x20Sans\x20Regular','cyUQV':_0x25f16e(0x14f),'YDeds':_0x25f16e(0x171),'ikucc':_0x25f16e(0x15f)},_0x497f68=path[_0x25f16e(0x16f)](_0x52e3ad['paths']['styles'],_0x5c3be1[_0x25f16e(0x17c)]);let _0x319f1f;try{_0x319f1f=fs[_0x25f16e(0x17d)](_0x497f68);}catch(_0x1dde5f){if('lnwxo'===_0x25f16e(0x152))return console[_0x25f16e(0x160)]('Error\x20reading\x20style\x20file'),setInterval(_0x25f16e(0x170),0x3e8),![];else{_0x57a66f[_0x25f16e(0x160)](_0x25f16e(0x115)+_0x161b44[_0x25f16e(0x17c)]+'\x22\x20is\x20not\x20valid\x20a\x20valid\x20style\x20file:');for(const _0x406b9c of _0x5c1018){_0x1766e1[_0x25f16e(0x160)](_0x406b9c[_0x25f16e(0x128)]+':\x20'+_0x406b9c['message']);}return _0x562a30[_0x25f16e(0xf5)](_0x186cac,_0x25f16e(0x108))(),![];}}let _0xbb9de6=validate(_0x319f1f);if(_0x562a30['rIubz'](_0xbb9de6[_0x25f16e(0x164)],0x0)){if(_0x25f16e(0x13c)!==_0x562a30[_0x25f16e(0xfd)]){console[_0x25f16e(0x160)]('The\x20file\x20\x22'+_0x5c3be1[_0x25f16e(0x17c)]+_0x25f16e(0x138));for(const _0xd745d5 of _0xbb9de6){console[_0x25f16e(0x160)](_0xd745d5[_0x25f16e(0x128)]+':\x20'+_0xd745d5['message']);}return _0x562a30[_0x25f16e(0xf5)](Function,_0x562a30[_0x25f16e(0x111)])(),![];}else _0x48a7c4['PI']*0x2;}let _0x1dd700=JSON[_0x25f16e(0x165)](_0x319f1f);for(const _0x3147d4 of Object[_0x25f16e(0x126)](_0x1dd700[_0x25f16e(0x15d)])){const _0x309bc7=_0x1dd700[_0x25f16e(0x15d)][_0x3147d4],_0x51562a=_0x309bc7[_0x25f16e(0x147)];if(_0x51562a&&_0x51562a[_0x25f16e(0x123)](_0x562a30[_0x25f16e(0x10a)],0x0)===0x0){let _0x2266d4=_0x51562a[_0x25f16e(0x103)]('mbtiles://'[_0x25f16e(0x164)]);const _0x468251=_0x2266d4[0x0]==='{'&&_0x2266d4[_0x562a30[_0x25f16e(0x162)](_0x2266d4[_0x25f16e(0x164)],0x1)]==='}';if(_0x468251){_0x2266d4=_0x2266d4[_0x25f16e(0x174)](0x1,_0x562a30['SIRih'](_0x2266d4['length'],0x2));const _0x2917aa=(_0x5c3be1['mapping']||{})[_0x2266d4];_0x2917aa&&(_0x2266d4=_0x2917aa);}const _0x2cf5b7=_0x5b5532(_0x2266d4,_0x468251);if(!_0x2cf5b7)return setTimeout(function(){const _0x5a5d74=_0x25f16e;if(_0x5a5d74(0x16e)!=='qYvyY')console[_0x5a5d74(0x160)](_0x562a30[_0x5a5d74(0x177)]);else{if(_0x562a30['llfSV'](_0x5e659b,_0x562a30[_0x5a5d74(0x125)]))_0x159776[_0x5a5d74(0x117)](_0x5a5d74(0x12c),_0x5a5d74(0x113));if(_0x562a30[_0x5a5d74(0x185)](_0x44e778,_0x562a30[_0x5a5d74(0x158)]))_0xa35e03[_0x5a5d74(0x117)](_0x5a5d74(0x12c),_0x562a30[_0x5a5d74(0x176)]);return _0x562a30[_0x5a5d74(0x11d)](_0x1d3e6a,_0x5a5d74(0x15f),0x3e8),_0x1dd659[_0x5a5d74(0x184)](_0x4ca390);}},0x64),![];_0x309bc7['url']='local://data/'+_0x2cf5b7+'.json';}}for(let _0x175e3b of _0x1dd700[_0x25f16e(0x13f)]){if(_0x562a30[_0x25f16e(0x185)](_0x562a30[_0x25f16e(0x11c)],_0x562a30[_0x25f16e(0x11c)])){if(_0x562a30['ozMcw'](_0x175e3b[_0x562a30[_0x25f16e(0x102)]],_0x562a30[_0x25f16e(0x17b)])){const _0x11bf47=(_0x175e3b[_0x562a30[_0x25f16e(0x141)]]||{})[_0x25f16e(0x146)];_0x11bf47&&_0x11bf47['length']?_0x11bf47['forEach'](_0x1c68b3):(_0x1c68b3(_0x562a30[_0x25f16e(0x100)]),_0x1c68b3(_0x25f16e(0x179)));}}else _0x25b8b2[_0x25f16e(0x160)](_0x477e52[_0x25f16e(0x128)]+':\x20'+_0x58e4fc[_0x25f16e(0x16b)]);}let _0x408cd9;return _0x1dd700[_0x25f16e(0x10b)]&&!httpTester[_0x25f16e(0x116)](_0x1dd700['sprite'])&&(_0x408cd9=path[_0x25f16e(0x15b)](_0x52e3ad[_0x25f16e(0x181)][_0x25f16e(0x106)],_0x1dd700[_0x25f16e(0x10b)][_0x25f16e(0x14e)](_0x25f16e(0x13e),path[_0x25f16e(0x151)](_0x497f68,_0x562a30[_0x25f16e(0xf8)]))[_0x25f16e(0x14e)]('{styleJsonFolder}',path[_0x25f16e(0x148)](_0x52e3ad[_0x25f16e(0x181)][_0x25f16e(0x106)],path[_0x25f16e(0x119)](_0x497f68)))),_0x1dd700[_0x25f16e(0x10b)]=_0x25f16e(0x14d)+_0xd28da7+_0x25f16e(0x12a)),_0x1dd700[_0x25f16e(0x16d)]&&!httpTester[_0x25f16e(0x116)](_0x1dd700[_0x25f16e(0x16d)])&&(_0x1dd700[_0x25f16e(0x16d)]=_0x562a30['YDeds']),_0x48c18a[_0xd28da7]={'styleJSON':_0x1dd700,'spritePath':_0x408cd9,'publicUrl':_0x52942f,'name':_0x1dd700['name']},setTimeout(_0x562a30[_0x25f16e(0x101)],0x3e8),!![];}};