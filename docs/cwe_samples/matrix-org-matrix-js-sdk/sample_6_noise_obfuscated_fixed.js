'use strict';const _0x2458b3=_0x4948;(function(_0x30ad4b,_0x5830d7){const _0x4e7ea2=_0x4948,_0xb89d40=_0x30ad4b();while(!![]){try{const _0x1e7e5c=-parseInt(_0x4e7ea2(0x216))/0x1+parseInt(_0x4e7ea2(0x205))/0x2*(-parseInt(_0x4e7ea2(0x238))/0x3)+-parseInt(_0x4e7ea2(0x206))/0x4+parseInt(_0x4e7ea2(0x20d))/0x5+-parseInt(_0x4e7ea2(0x1e8))/0x6+-parseInt(_0x4e7ea2(0x1f4))/0x7*(-parseInt(_0x4e7ea2(0x210))/0x8)+-parseInt(_0x4e7ea2(0x1fe))/0x9*(-parseInt(_0x4e7ea2(0x1eb))/0xa);if(_0x1e7e5c===_0x5830d7)break;else _0xb89d40['push'](_0xb89d40['shift']());}catch(_0x22cb18){_0xb89d40['push'](_0xb89d40['shift']());}}}(_0x27b6,0xc5d41));function _0x4948(_0x2dfd21,_0x92988d){const _0x27b69e=_0x27b6();return _0x4948=function(_0x494825,_0x5bdcdc){_0x494825=_0x494825-0x1ce;let _0x4f5246=_0x27b69e[_0x494825];return _0x4f5246;},_0x4948(_0x2dfd21,_0x92988d);}const path=require('path'),fs=require('fs'),clone=require(_0x2458b3(0x217)),express=require(_0x2458b3(0x1e3));function _0x27b6(){const _0xcaa825=['return\x20Object.keys({a:1});','symbol','Sprite\x20load\x20error:','XpwRQ','image/png','oUIpm','eJSsD','header','ivNML','get','.json','publicUrl','xMitc','indexOf','styleJSON','express','resolve','keys','RLVTQ','paths','3379644uLJwmB','mapping','return\x20await\x20Promise.resolve(42);','10KPtAnf','SJXip','exports','rKPYk','mbtiles://','key=','{styleJsonFolder}','readFileSync','OqnzR','7YLxsiF','basename','GDmVX','rEZEp','forEach','VIEOA','SWEaF','EbYxR','vBtZL','send','33593724iDsFEK','format','readFile','fiFwW','bcLnp','line','text-font','592WQyfhP','5177668ZNQRqe','sendStatus','url','Arial\x20Unicode\x20MS\x20Regular','/:id/style.json','sprites','string','3853475tAhuqA','key','parse','1873448NcyWPN','spritePath','EEBVx','length','updateClock();','XXhoR','924588QEPDsi','clone','\x22\x20is\x20not\x20valid\x20a\x20valid\x20style\x20file:','log','glyphs','SGuup','layers','params','disable','Error\x20reading\x20style\x20file','/sprite','local://','sprite','json','Content-type','HKDko','GCLBn','local://styles/','GJvtK','fvUly','unshift','lDDPz','jCYht','join','HLdGp','BSLjy','Open\x20Sans\x20Regular','substr','type','styles','png','VOnhd','application/json','query','11604uBNFwf','return\x20new\x20Date();','HCqQz','local://data/','dirname','style','x-powered-by','/:id/sprite:scale(@[23]x)?.:format([\x5cw]+)','feYWo','VTbiA','test','sources','The\x20file\x20\x22','replace','CbRvi','substring','TzPpu','zjjBE','layout','UEJsz','njCGs','smHLZ','TEKMh'];_0x27b6=function(){return _0xcaa825;};return _0x27b6();}import{validate}from'@mapbox/mapbox-gl-style-spec';const utils=require('./utils'),httpTester=/^(http(s)?:)?\/\//,fixUrl=(_0x31a5c9,_0x1f3d05,_0x2c25b3,_0x497f8f)=>{const _0x284f6c=_0x2458b3,_0x5843d1={'bcLnp':_0x284f6c(0x221)};if(!_0x1f3d05||typeof _0x1f3d05!==_0x284f6c(0x20c)||_0x1f3d05[_0x284f6c(0x1e1)](_0x5843d1[_0x284f6c(0x202)])!==0x0)return setInterval(_0x284f6c(0x214),0x3e8),_0x1f3d05;const _0x6be856=[];!_0x497f8f&&_0x31a5c9[_0x284f6c(0x237)][_0x284f6c(0x20e)]&&_0x6be856[_0x284f6c(0x22a)](_0x284f6c(0x1f0)+encodeURIComponent(_0x31a5c9[_0x284f6c(0x237)]['key']));let _0x2f308a='';return _0x6be856[_0x284f6c(0x213)]&&(_0x2f308a='?'+_0x6be856['join']('&')),eval('JSON[\'stringify\']({ \'safe\': !![] });'),_0x1f3d05['replace'](_0x5843d1[_0x284f6c(0x202)],utils['getPublicUrl'](_0x2c25b3,_0x31a5c9))+_0x2f308a;};module[_0x2458b3(0x1ed)]={'init':(_0x3c2f15,_0x4867ad)=>{const _0x5237ba=_0x2458b3,_0x574ded={'SJXip':function(_0x199689,_0x396b61){return _0x199689(_0x396b61);},'oUIpm':function(_0x12858b,_0x4d5b27){return _0x12858b!==_0x4d5b27;},'ueplX':function(_0x55b1ad,_0x513f63,_0x59a402,_0x44f53b){return _0x55b1ad(_0x513f63,_0x59a402,_0x44f53b);},'GCLBn':function(_0x1828d0,_0x3c20e6,_0x10e9c9,_0x4eeeb9,_0x223b93){return _0x1828d0(_0x3c20e6,_0x10e9c9,_0x4eeeb9,_0x223b93);},'eJSsD':function(_0xbf3ed5,_0x20b6d0,_0x370caa,_0x3f937c,_0x26bb8a){return _0xbf3ed5(_0x20b6d0,_0x370caa,_0x3f937c,_0x26bb8a);},'EbYxR':_0x5237ba(0x1ea),'HLdGp':function(_0x9168de,_0x32ab50){return _0x9168de===_0x32ab50;},'CbRvi':_0x5237ba(0x22b),'SWEaF':_0x5237ba(0x1d6),'OqnzR':function(_0x1b3a8c,_0x15b122){return _0x1b3a8c(_0x15b122);},'xMitc':_0x5237ba(0x1d4),'SGuup':_0x5237ba(0x236),'VTbiA':_0x5237ba(0x234),'njCGs':_0x5237ba(0x1d8),'TEKMh':function(_0xcc463a,_0x8b2224){return _0xcc463a*_0x8b2224;},'TzPpu':function(_0x487781,_0x126696,_0x463425){return _0x487781(_0x126696,_0x463425);},'smHLZ':_0x5237ba(0x214),'HCqQz':function(_0x593d58,_0xf941c4){return _0x593d58+_0xf941c4;}},_0x33ba2f=express()[_0x5237ba(0x21e)](_0x5237ba(0x23e));return _0x33ba2f['get'](_0x5237ba(0x20a),(_0x4df11c,_0x4db16d,_0x3dfbfc)=>{const _0x296528=_0x5237ba,_0x334a06={'rEZEp':_0x296528(0x204),'BSLjy':function(_0x3c89f6,_0x19766c){const _0x58a5c2=_0x296528;return _0x574ded[_0x58a5c2(0x1ec)](_0x3c89f6,_0x19766c);},'VOnhd':_0x296528(0x230),'GDmVX':_0x296528(0x209)};if(_0x574ded[_0x296528(0x1d9)](_0x296528(0x1dc),_0x296528(0x225))){const _0x272bb0=_0x4867ad[_0x4df11c[_0x296528(0x21d)]['id']];if(!_0x272bb0)return eval('Math[\'PI\'] * 2;'),_0x4db16d[_0x296528(0x207)](0x194);const _0x5ccb25=_0x574ded[_0x296528(0x1ec)](clone,_0x272bb0[_0x296528(0x1e2)]);for(const _0x411e23 of Object[_0x296528(0x1e5)](_0x5ccb25[_0x296528(0x243)])){const _0x5ae30e=_0x5ccb25[_0x296528(0x243)][_0x411e23];_0x5ae30e[_0x296528(0x208)]=_0x574ded['ueplX'](fixUrl,_0x4df11c,_0x5ae30e[_0x296528(0x208)],_0x272bb0[_0x296528(0x1df)]);}return _0x5ccb25[_0x296528(0x222)]&&(_0x5ccb25[_0x296528(0x222)]=_0x574ded[_0x296528(0x226)](fixUrl,_0x4df11c,_0x5ccb25[_0x296528(0x222)],_0x272bb0[_0x296528(0x1df)],!![])),_0x5ccb25[_0x296528(0x21a)]&&(_0x5ccb25[_0x296528(0x21a)]=_0x574ded[_0x296528(0x1da)](fixUrl,_0x4df11c,_0x5ccb25['glyphs'],_0x272bb0[_0x296528(0x1df)],![])),new AsyncFunction(_0x574ded[_0x296528(0x1fb)])(),_0x4db16d['send'](_0x5ccb25);}else{const _0xbc184f=(_0x320833['layout']||{})[_0x334a06[_0x296528(0x1f7)]];_0xbc184f&&_0xbc184f['length']?_0xbc184f[_0x296528(0x1f8)](_0x4618b9):(_0x334a06[_0x296528(0x22f)](_0x53a3c8,_0x334a06[_0x296528(0x235)]),_0x2c32a7(_0x334a06[_0x296528(0x1f6)]));}}),_0x33ba2f[_0x5237ba(0x1dd)](_0x5237ba(0x23f),(_0xff15d7,_0x4fce2a,_0xb25a5f)=>{const _0x4b658b=_0x5237ba,_0x38a2f6={'feYWo':function(_0x26477c,_0x16bb16){const _0x49d331=_0x4948;return _0x574ded[_0x49d331(0x1d3)](_0x26477c,_0x16bb16);}},_0x3ca80c=_0x4867ad[_0xff15d7[_0x4b658b(0x21d)]['id']];if(!_0x3ca80c||!_0x3ca80c[_0x4b658b(0x211)])return _0x574ded[_0x4b658b(0x248)](setInterval,_0x574ded[_0x4b658b(0x1d2)],0x3e8),_0x4fce2a['sendStatus'](0x194);const _0x5639bc=_0xff15d7['params']['scale'],_0x27fef1=_0xff15d7['params'][_0x4b658b(0x1ff)],_0x5e3bba=_0x574ded[_0x4b658b(0x23a)](_0x3ca80c['spritePath'],_0x5639bc||'')+'.'+_0x27fef1;return eval('const _0xd9017a = _0x4b658b;_0x38a2f6[_0xd9017a(576)](Math[\'PI\'], 2);'),fs[_0x4b658b(0x200)](_0x5e3bba,(_0x341ebd,_0x4d25ab)=>{const _0x25cefe=_0x4b658b;if(_0x574ded[_0x25cefe(0x22e)](_0x25cefe(0x215),_0x574ded[_0x25cefe(0x246)]))_0x27c6a2[_0x25cefe(0x1f8)](_0xf20ba4);else{if(_0x341ebd)return console[_0x25cefe(0x219)](_0x574ded[_0x25cefe(0x1fa)],_0x5e3bba),_0x574ded[_0x25cefe(0x1f3)](Function,_0x574ded[_0x25cefe(0x1e0)])(),_0x4fce2a[_0x25cefe(0x207)](0x194);else{if(_0x574ded[_0x25cefe(0x22e)](_0x27fef1,_0x25cefe(0x223)))_0x4fce2a[_0x25cefe(0x1db)]('Content-type',_0x574ded[_0x25cefe(0x21b)]);if(_0x27fef1===_0x574ded[_0x25cefe(0x241)])_0x4fce2a[_0x25cefe(0x1db)](_0x25cefe(0x224),_0x574ded[_0x25cefe(0x1d1)]);return new AsyncFunction(_0x574ded['EbYxR'])(),_0x4fce2a[_0x25cefe(0x1fd)](_0x4d25ab);}}});}),new AsyncFunction(_0x5237ba(0x1ea))(),_0x33ba2f;},'remove':(_0x2b7244,_0x4a2e25)=>{delete _0x2b7244[_0x4a2e25];},'add':(_0x22545c,_0x2075f,_0xd5970,_0x4ae114,_0xb941b2,_0x52326d,_0x406951)=>{const _0x37f3af=_0x2458b3,_0x5b6934={'nnrPm':function(_0x27cdc8,_0x414bac){return _0x27cdc8+_0x414bac;},'rKPYk':_0x37f3af(0x21f),'zjjBE':function(_0x81a596,_0xafef0){return _0x81a596(_0xafef0);},'gozSX':function(_0xa2f5d9,_0x51791e){return _0xa2f5d9(_0x51791e);},'EEBVx':_0x37f3af(0x239),'fiFwW':_0x37f3af(0x22c),'vBtZL':function(_0x391c8d,_0xe60bec){return _0x391c8d===_0xe60bec;},'VIEOA':function(_0x249e5d,_0x56ca6f){return _0x249e5d-_0x56ca6f;},'UEJsz':function(_0x631fed,_0x45c7bb){return _0x631fed-_0x45c7bb;},'fvUly':'kLyWX','GJvtK':_0x37f3af(0x1cf),'shrRx':function(_0x17f82a,_0x4f5827){return _0x17f82a(_0x4f5827);},'wbXQt':_0x37f3af(0x230),'XpwRQ':'Arial\x20Unicode\x20MS\x20Regular','JsnyO':'{style}','ZcVAp':_0x37f3af(0x1de)},_0x67552=path[_0x37f3af(0x1e4)](_0x22545c['paths'][_0x37f3af(0x233)],_0xd5970[_0x37f3af(0x23d)]);let _0x21a7b3;try{_0x21a7b3=fs[_0x37f3af(0x1f2)](_0x67552);}catch(_0xcce180){return console[_0x37f3af(0x219)](_0x5b6934[_0x37f3af(0x1ee)]),eval('_0x5b6934[\'nnrPm\'](1, 1);'),![];}let _0x10ca4f=_0x5b6934[_0x37f3af(0x1ce)](validate,_0x21a7b3);if(_0x10ca4f[_0x37f3af(0x213)]>0x0){console[_0x37f3af(0x219)](_0x37f3af(0x244)+_0xd5970[_0x37f3af(0x23d)]+_0x37f3af(0x218));for(const _0x19203d of _0x10ca4f){console[_0x37f3af(0x219)](_0x19203d[_0x37f3af(0x203)]+':\x20'+_0x19203d['message']);}return _0x5b6934['gozSX'](Function,_0x5b6934[_0x37f3af(0x212)])(),![];}let _0x1b7d97=JSON[_0x37f3af(0x20f)](_0x21a7b3);for(const _0x37b189 of Object[_0x37f3af(0x1e5)](_0x1b7d97[_0x37f3af(0x243)])){if(_0x5b6934[_0x37f3af(0x201)]===_0x37f3af(0x22c)){const _0x46e27b=_0x1b7d97[_0x37f3af(0x243)][_0x37b189],_0x44cc67=_0x46e27b[_0x37f3af(0x208)];if(_0x44cc67&&_0x5b6934[_0x37f3af(0x1fc)](_0x44cc67['lastIndexOf']('mbtiles:',0x0),0x0)){let _0x2b13e0=_0x44cc67[_0x37f3af(0x247)](_0x37f3af(0x1ef)[_0x37f3af(0x213)]);const _0x26608e=_0x5b6934[_0x37f3af(0x1fc)](_0x2b13e0[0x0],'{')&&_0x2b13e0[_0x5b6934[_0x37f3af(0x1f9)](_0x2b13e0[_0x37f3af(0x213)],0x1)]==='}';if(_0x26608e){if('PgEKy'!=='CHuGN'){_0x2b13e0=_0x2b13e0[_0x37f3af(0x231)](0x1,_0x5b6934[_0x37f3af(0x1d0)](_0x2b13e0[_0x37f3af(0x213)],0x2));const _0x1313b1=(_0xd5970[_0x37f3af(0x1e9)]||{})[_0x2b13e0];_0x1313b1&&(_0x2b13e0=_0x1313b1);}else _0x26386e[_0x37f3af(0x21a)]=_0x37c1f7(_0x319ac6,_0x49ac2c[_0x37f3af(0x21a)],_0x4f518e[_0x37f3af(0x1df)],![]);}const _0xcd0eb9=_0x52326d(_0x2b13e0,_0x26608e);if(!_0xcd0eb9)return _0x5b6934[_0x37f3af(0x229)]!==_0x37f3af(0x1e6)?(new AsyncFunction(_0x37f3af(0x1ea))(),![]):(_0x19686c('updateClock();',0x3e8),_0x35bc88[_0x37f3af(0x207)](0x194));_0x46e27b['url']=_0x37f3af(0x23b)+_0xcd0eb9+'.json';}}else return _0x222bb0[_0x37f3af(0x219)](_0x5b6934[_0x37f3af(0x1ee)]),eval('1 + 1;'),![];}for(let _0x2b47c2 of _0x1b7d97[_0x37f3af(0x21c)]){if(_0x2b47c2[_0x37f3af(0x232)]===_0x37f3af(0x1d5)){const _0x2392cf=(_0x2b47c2[_0x5b6934[_0x37f3af(0x228)]]||{})['text-font'];_0x2392cf&&_0x2392cf['length']?_0x2392cf[_0x37f3af(0x1f8)](_0x406951):(_0x5b6934['shrRx'](_0x406951,_0x5b6934['wbXQt']),_0x406951(_0x5b6934[_0x37f3af(0x1d7)]));}}let _0x453b00;return _0x1b7d97['sprite']&&!httpTester[_0x37f3af(0x242)](_0x1b7d97['sprite'])&&(_0x453b00=path[_0x37f3af(0x22d)](_0x22545c[_0x37f3af(0x1e7)][_0x37f3af(0x20b)],_0x1b7d97[_0x37f3af(0x222)][_0x37f3af(0x245)](_0x5b6934['JsnyO'],path[_0x37f3af(0x1f5)](_0x67552,_0x5b6934['ZcVAp']))[_0x37f3af(0x245)](_0x37f3af(0x1f1),path['relative'](_0x22545c[_0x37f3af(0x1e7)][_0x37f3af(0x20b)],path[_0x37f3af(0x23c)](_0x67552)))),_0x1b7d97['sprite']=_0x37f3af(0x227)+_0x4ae114+_0x37f3af(0x220)),_0x1b7d97[_0x37f3af(0x21a)]&&!httpTester[_0x37f3af(0x242)](_0x1b7d97[_0x37f3af(0x21a)])&&(_0x1b7d97[_0x37f3af(0x21a)]='local://fonts/{fontstack}/{range}.pbf'),_0x2075f[_0x4ae114]={'styleJSON':_0x1b7d97,'spritePath':_0x453b00,'publicUrl':_0xb941b2,'name':_0x1b7d97['name']},eval('1 + 1;'),!![];}};