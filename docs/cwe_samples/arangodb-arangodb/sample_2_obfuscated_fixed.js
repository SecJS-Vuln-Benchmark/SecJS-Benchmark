'use strict';const _0x4d2adb=_0x2a96;(function(_0x4854ea,_0x33def4){const _0x548134=_0x2a96,_0x5adcec=_0x4854ea();while(!![]){try{const _0x19b661=parseInt(_0x548134(0x9e))/0x1*(parseInt(_0x548134(0xb0))/0x2)+parseInt(_0x548134(0xb7))/0x3*(-parseInt(_0x548134(0x90))/0x4)+-parseInt(_0x548134(0xaf))/0x5*(-parseInt(_0x548134(0xa7))/0x6)+-parseInt(_0x548134(0x95))/0x7+-parseInt(_0x548134(0xa1))/0x8+-parseInt(_0x548134(0xa8))/0x9+parseInt(_0x548134(0x93))/0xa;if(_0x19b661===_0x33def4)break;else _0x5adcec['push'](_0x5adcec['shift']());}catch(_0x3a8728){_0x5adcec['push'](_0x5adcec['shift']());}}}(_0x4ac7,0xc8311));function _0x2a96(_0x18df3c,_0x1d6a98){const _0x4ac7d2=_0x4ac7();return _0x2a96=function(_0x2a965c,_0x5f2e16){_0x2a965c=_0x2a965c-0x8f;let _0xbb52c=_0x4ac7d2[_0x2a965c];return _0xbb52c;},_0x2a96(_0x18df3c,_0x1d6a98);}let {validateEvent,verifyEvent,nip19}=require(_0x4d2adb(0xaa)),{authorized_keys,private_keys,noscraper}=require(process['env'][_0x4d2adb(0xa6)]||_0x4d2adb(0x9c));authorized_keys=authorized_keys?.[_0x4d2adb(0xa3)](_0x32f50b=>_0x32f50b['startsWith']('npub')?nip19[_0x4d2adb(0xb8)](_0x32f50b)['data']:_0x32f50b);function _0x4ac7(){const _0x193265=['BnErD','ZigNf','unmatched\x20relay\x20url.','35pKfxBP','62fxKaZo','keys','headers','Hello\x20','send','juOOd','challenge','6jcRVoZ','decode','exports','1047044oJjUFq','host','error:\x20invalid\x20challenge\x20response.','1085030aggMNz','includes','3771026qAgSMS','NOTICE','length','stringify','ehCob','unauthorized.','fromEntries','./config','wUMaP','52746ZxphhC','unmatched\x20challenge\x20string.','kGRDj','4705784nvARLh','startsWith','map','pubkey','data','BOSTR_CONFIG_PATH','1283532vGVqla','6935715BrWnTG','kind','nostr-tools','tags'];_0x4ac7=function(){return _0x193265;};return _0x4ac7();}for(const key in private_keys){if(!key[_0x4d2adb(0xa2)]('npub'))continue;private_keys[nip19[_0x4d2adb(0xb8)](key)[_0x4d2adb(0xa5)]]=private_keys[key],delete private_keys[key];}module[_0x4d2adb(0x8f)]=(_0x1f19ad,_0x1a026d,_0x4d884c,_0x4b0c47)=>{const _0x639c2c=_0x4d2adb,_0x3d8aaf={'kGRDj':_0x639c2c(0x9f),'juOOd':function(_0x1cc43d,_0x4589f8){return _0x1cc43d(_0x4589f8);},'ehCob':_0x639c2c(0x9d),'BnErD':_0x639c2c(0x9a),'ZigNf':'not\x20kind\x2022242.'};if(!authorized_keys?.[_0x639c2c(0x97)]&&!Object[_0x639c2c(0xb1)](private_keys)[_0x639c2c(0x97)]&&!noscraper)return;if(!validateEvent(_0x1a026d)||!_0x3d8aaf[_0x639c2c(0xb5)](verifyEvent,_0x1a026d))return _0x4d884c[_0x639c2c(0xb4)](JSON[_0x639c2c(0x98)]([_0x639c2c(0x96),_0x639c2c(0x92)])),![];let _0x1a4322=authorized_keys?.[_0x639c2c(0x94)](_0x1a026d[_0x639c2c(0xa4)])||_0x1a026d[_0x639c2c(0xa4)]in private_keys;if(authorized_keys?.['length']&&!_0x1a4322)return _0x3d8aaf[_0x639c2c(0x99)]!==_0x639c2c(0x9d)?(_0xddc5f1['send'](_0x3a14e4[_0x639c2c(0x98)](['OK',_0x47a1b1['id'],![],_0x3d8aaf[_0x639c2c(0xa0)]])),![]):(_0x4d884c[_0x639c2c(0xb4)](JSON[_0x639c2c(0x98)](['OK',_0x1a026d['id'],![],_0x3d8aaf[_0x639c2c(0xac)]])),![]);if(_0x1a026d[_0x639c2c(0xa9)]!=0x56e2)return _0x4d884c[_0x639c2c(0xb4)](JSON[_0x639c2c(0x98)](['OK',_0x1a026d['id'],![],_0x3d8aaf[_0x639c2c(0xad)]])),![];const _0x156aff=Object[_0x639c2c(0x9b)](_0x1a026d[_0x639c2c(0xab)]);if(!_0x156aff['relay']?.[_0x639c2c(0x94)](_0x4b0c47[_0x639c2c(0xb2)][_0x639c2c(0x91)]))return _0x4d884c[_0x639c2c(0xb4)](JSON['stringify'](['OK',_0x1a026d['id'],![],_0x639c2c(0xae)])),![];;if(_0x156aff[_0x639c2c(0xb6)]!==_0x1f19ad)return _0x4d884c[_0x639c2c(0xb4)](JSON['stringify'](['OK',_0x1a026d['id'],![],_0x3d8aaf[_0x639c2c(0xa0)]])),![];return _0x4d884c[_0x639c2c(0xb4)](JSON[_0x639c2c(0x98)](['OK',_0x1a026d['id'],!![],_0x639c2c(0xb3)+_0x1a026d[_0x639c2c(0xa4)]])),!![];};