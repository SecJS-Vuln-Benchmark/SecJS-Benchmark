'use strict';const _0x383705=_0x1d2e;function _0x5295(){const _0x18174f=['DBdBY','fail','FkmIZ','ecROY','6566740sWxfpH','CwmFo','MoLGm','toBe','FVmjX','user2','joZEZ','vOOHm','then','setPublicWriteAccess','test','tvjzZ','mVXri','gEiKx','should\x20recursively\x20load\x20roles\x20without\x20config','prototype','zuFyQ','changedByUsers','WCyGj','role:','kKOam','DrXCx','should\x20not\x20match\x20any\x20entry\x20when\x20searching\x20for\x20null\x20in\x20users\x20relation','raqWX','bXIyk','FooRole','roleNames','LIALc','JFqWk','relation','zLkmH','TestObjectRoles','JIuAf','changedByAdmin','ZLhVP','vudtR','2354702aZwPpM','ltoSd','KKrjU','lrwrE','ebHDE','gGjwz','OpXmH','remove','iHJWj','should\x20not\x20have\x20errors','QbVZD','JEVtZ','find','RWOqO','NHxrp','LXzHW','XZAEw','JfZev','gPQlK','30mCeWAT','setPublicReadAccess','otherUser','VSmKm','equalTo','mFgwp','should\x20not\x20recursively\x20load\x20the\x20same\x20role\x20multiple\x20times','bpGUk','Admin','getUsers','pBwsn','QPZew','admin','Object','WRnyS','VNLGf','HDsgV','Super','xAjML','set','gAnJf','yjBfw','glhWr','bGeKQ','forEach','wOIHj','KAKPX','should\x20recursively\x20load\x20roles','Aeivf','PAzcn','xaeUV','NDVCe','query','riRkt','JjkBx','1306517CEFYQW','zqgpe','15705315QwGbiF','code','toEqual','roles','testRole','Query','Should\x20not\x20have\x20been\x20able\x20to\x20save.','users','all','iEzTg','signUp','kFrNO','tZOnf','cDxJY','yYvmx','hBfGL','Should\x20properly\x20resolve\x20roles','YGbfW','saveAll','mrlAO','setRoleWriteAccess','gejqE','../lib/RestQuery','should\x20succeed','should\x20not\x20match\x20any\x20entry\x20when\x20not\x20matching\x20in\x20users\x20relation','uopMe','2xGDVVb','getName','PKQum','fpUJQ','EaNMt','calls','XOVeh','SuperContentManager','should\x20match\x20when\x20matching\x20in\x20users\x20relation','QIKga','azHuU','MyRole','Role','FQUxa','_Role','Auth','hello','callThrough','65yPQLOb','Error','zvagc','plsae','qKwZa','LZcQa','rlyYC','ACL','pZSEk','lhquG','sharedRole','iKPVd','YJaik','Do\x20a\x20bunch\x20of\x20basic\x20role\x20testing','PfmqT','FWBIb','omgbbq','MWvHZ','getRoles','drUiJ','VaSvX','add','save','ZTbfT','username','JPrVu','HvBwD','should\x20be\x20secure\x20(#3835)','Different\x20_Role\x20objects\x20cannot\x20have\x20the\x20same\x20name.','8AxTvNh','EbAJR','aoRaJ','_UnsafeRestQuery','gDsUC','should\x20properly\x20handle\x20role\x20permissions\x20on\x20objects','PQWji','JhLgM','AApfU','Foos','QCPVi','EkqDw','BarRole','uHQFW','user3','bar','lGhNR','zTEye','bKrUb','670380eNHmlj','indexOf','9093Rkmqkq','xBQUU','rAXkR','split','hkHCP','get','Moderator','IdSVx','QZmVJ','YDYiP','acQHC','PXPlo','zWRlm','UlrTx','_Role\x20object\x20should\x20not\x20save\x20without\x20name.','owwQJ','should\x20add\x20multiple\x20users\x20to\x20a\x20role\x20and\x20remove\x20users','subscribers','EQrWQ','bbNEt','_Role\x20object\x20should\x20not\x20save\x20without\x20ACL.','wTnRI','jsNGE','ItBJZ','QBmIE','Wdvbs','LrICJ','fWdEj','name','umENn','TestObject','should\x20not\x20have\x20errored','CQOyO','awTPo','MKoly','YGHIj','ABRvO','catch','IAGUE','getSessionToken','kJhMP','concat','_loadRoles','setRoleReadAccess','124ogkuBI','Customer\x20user\x20should\x20not\x20have\x20been\x20able\x20to\x20save.','11KOWmoc','VtfAj','708990cdULWH','utHBx','count','SuperModerator','POJRf','PcleW','AQpIU','zUjJt','EyacC','dmzJZ','FgsHu','OSjjR','NVUsb','dWoJC','sVjLF','wyeHH','yWWFi','wwlME','_Role\x20cannot\x20have\x20the\x20same\x20name\x20as\x20another\x20role','uRCve','cirRX','zJYbu','world','yhCwX','baz','should\x20return\x20an\x20error','ContentManager','JSzKp','_getAllRolesNamesForRoleIds','buZFu','TaeLm','setACL','ltzWi','llmbi','OBJECT_NOT_FOUND','not','QMoJQ','XGMBM','length','HwZkd','pregt','../lib/Auth','UoSOq','User'];_0x5295=function(){return _0x18174f;};return _0x5295();}(function(_0x3f7f72,_0x2044f6){const _0x4e27c0=_0x1d2e,_0x3d738d=_0x3f7f72();while(!![]){try{const _0x56af2e=parseInt(_0x4e27c0(0x1ba))/0x1*(parseInt(_0x4e27c0(0xbc))/0x2)+-parseInt(_0x4e27c0(0x100))/0x3*(-parseInt(_0x4e27c0(0x12c))/0x4)+parseInt(_0x4e27c0(0x197))/0x5*(parseInt(_0x4e27c0(0x130))/0x6)+-parseInt(_0x4e27c0(0x184))/0x7+parseInt(_0x4e27c0(0xeb))/0x8*(-parseInt(_0x4e27c0(0x1bc))/0x9)+parseInt(_0x4e27c0(0x160))/0xa*(parseInt(_0x4e27c0(0x12e))/0xb)+-parseInt(_0x4e27c0(0xfe))/0xc*(-parseInt(_0x4e27c0(0xce))/0xd);if(_0x56af2e===_0x2044f6)break;else _0x3d738d['push'](_0x3d738d['shift']());}catch(_0x39e29c){_0x3d738d['push'](_0x3d738d['shift']());}}}(_0x5295,0xeb5ce));const RestQuery=require(_0x383705(0x1d2)),Auth=require(_0x383705(0x159))[_0x383705(0xcb)],Config=require('../lib/Config');function testLoadRoles(_0x132722,_0x3d5881){const _0x280227=_0x383705,_0x2f2cd1={'FgsHu':_0x280227(0x11c),'dmzJZ':function(_0x28268c,_0x1c8201,_0x439d52,_0x56b34f){return _0x28268c(_0x1c8201,_0x439d52,_0x56b34f);},'JhLgM':function(_0x54d983,_0x272d3b){return _0x54d983+_0x272d3b;},'qKwZa':function(_0x23f5c2,_0x151a59){return _0x23f5c2(_0x151a59);},'joZEZ':function(_0x27df5d){return _0x27df5d();},'sVjLF':'should\x20succeed','gejqE':'BazRole'},_0x38cace=[_0x280227(0x179),_0x280227(0xf7),_0x2f2cd1[_0x280227(0x1d1)]],_0x23dff5={};_0x2f2cd1[_0x280227(0x166)](createTestUser)[_0x280227(0x168)](_0x8f344f=>{const _0x414c7a=_0x280227,_0x103cdc={'zWRlm':'name'};return createRole(_0x38cace[0x0],null,_0x8f344f)['then'](_0xa97071=>{const _0x95f6a8=_0x1d2e;return _0x23dff5[_0xa97071[_0x95f6a8(0x105)](_0x2f2cd1[_0x95f6a8(0x13a)])]=_0xa97071['id'],_0x2f2cd1[_0x95f6a8(0x139)](createRole,_0x38cace[0x1],_0xa97071,null);})['then'](_0x59aa79=>{const _0x369540=_0x1d2e;return _0x23dff5[_0x59aa79[_0x369540(0x105)](_0x369540(0x11c))]=_0x59aa79['id'],createRole(_0x38cace[0x2],_0x59aa79,null);})[_0x414c7a(0x168)](_0x5703f8=>{const _0x2c6a51=_0x414c7a;_0x23dff5[_0x5703f8[_0x2c6a51(0x105)](_0x103cdc[_0x2c6a51(0x10c)])]=_0x5703f8['id'];const _0x39dc4b=new Auth({'config':_0x132722,'isMaster':!![],'user':_0x8f344f});return _0x39dc4b[_0x2c6a51(0x12a)]();});})[_0x280227(0x168)](_0x5b30b4=>{const _0x52b6ea=_0x280227,_0x3c9227={'tvjzZ':function(_0xe44399,_0x32cae5){const _0x396cb7=_0x1d2e;return _0x2f2cd1[_0x396cb7(0xf2)](_0xe44399,_0x32cae5);},'Jhtgn':_0x52b6ea(0x173)};_0x2f2cd1[_0x52b6ea(0xd2)](expect,_0x5b30b4[_0x52b6ea(0x156)])[_0x52b6ea(0x1be)](0x3),_0x38cace[_0x52b6ea(0x1af)](_0x4795b5=>{const _0x23ba8c=_0x52b6ea;expect(_0x5b30b4[_0x23ba8c(0xff)](_0x3c9227[_0x23ba8c(0x16b)](_0x3c9227['Jhtgn'],_0x4795b5)))[_0x23ba8c(0x153)][_0x23ba8c(0x163)](-0x1);}),_0x2f2cd1[_0x52b6ea(0x166)](_0x3d5881);},function(){const _0x208fda=_0x280227;fail(_0x2f2cd1[_0x208fda(0x13e)]),_0x3d5881();});}const createRole=function(_0x2c8464,_0xc24b32,_0xaa63ff){const _0x1fe8a6=_0x383705,_0x263da1={'zTEye':'roles'},_0x21405b=new Parse[(_0x1fe8a6(0xc8))](_0x2c8464,new Parse[(_0x1fe8a6(0xd5))]());if(_0xaa63ff){const _0x42ebd9=_0x21405b[_0x1fe8a6(0x17d)](_0x1fe8a6(0x1c3));_0x42ebd9[_0x1fe8a6(0xe3)](_0xaa63ff);}return _0xc24b32&&_0x21405b[_0x1fe8a6(0x17d)](_0x263da1[_0x1fe8a6(0xfc)])[_0x1fe8a6(0xe3)](_0xc24b32),_0x21405b['save']({},{'useMasterKey':!![]});};function _0x1d2e(_0x40a6d1,_0x5ceb09){const _0x52952d=_0x5295();return _0x1d2e=function(_0x1d2e70,_0x46cebe){_0x1d2e70=_0x1d2e70-0xbc;let _0x3eeb29=_0x52952d[_0x1d2e70];return _0x3eeb29;},_0x1d2e(_0x40a6d1,_0x5ceb09);}describe('Parse\x20Role\x20testing',()=>{const _0x305fb7=_0x383705,_0x3869cb={'QIKga':function(_0x1681b1,_0x5f531d){return _0x1681b1!==_0x5f531d;},'aAncB':_0x305fb7(0x19c),'VNLGf':_0x305fb7(0xec),'zqgpe':function(_0x544fe3,_0x400fde){return _0x544fe3(_0x400fde);},'xAjML':_0x305fb7(0x1c3),'npeIu':_0x305fb7(0x1ca),'QMoJQ':_0x305fb7(0xd4),'DHBZc':function(_0x47e0bb,_0x1ea435){return _0x47e0bb===_0x1ea435;},'DCyXN':_0x305fb7(0x1ac),'FVmjX':function(_0x46cc59){return _0x46cc59();},'jsNGE':_0x305fb7(0x1ad),'ABRvO':'WMOLv','MoLGm':function(_0x14b913,_0x3728cf){return _0x14b913!==_0x3728cf;},'DhzxM':_0x305fb7(0x13d),'YJaik':_0x305fb7(0x1d3),'JFqWk':_0x305fb7(0x16a),'KKrjU':_0x305fb7(0x14c),'iHJWj':function(_0x2e4b3d,_0x1e6141){return _0x2e4b3d(_0x1e6141);},'bpGUk':function(_0x43fa7e,_0x27e49b){return _0x43fa7e(_0x27e49b);},'wgxiz':'RootRole','CQOyO':_0x305fb7(0x179),'YGHIj':_0x305fb7(0xf7),'QBmIE':function(_0x4cfe18,_0x4f4e8e,_0x2e7fc9){return _0x4cfe18(_0x4f4e8e,_0x2e7fc9);},'ltoSd':function(_0x34e267,_0x18383f,_0x59970f){return _0x34e267(_0x18383f,_0x59970f);},'buZFu':function(_0x529331,_0x25df1b){return _0x529331===_0x25df1b;},'JIuAf':_0x305fb7(0x157),'JPrVu':'name','bbNEt':function(_0x58bb3e,_0x1f0fbf){return _0x58bb3e===_0x1f0fbf;},'owwQJ':_0x305fb7(0x121),'fkuHA':function(_0x5a6726,_0x5408be,_0x49fcf1,_0x54d476){return _0x5a6726(_0x5408be,_0x49fcf1,_0x54d476);},'utHBx':function(_0x286cae,_0x20d0c5,_0x2d0297,_0xaa636c){return _0x286cae(_0x20d0c5,_0x2d0297,_0xaa636c);},'UlrTx':_0x305fb7(0x142),'TaeLm':function(_0xc28962){return _0xc28962();},'zJYbu':_0x305fb7(0x199),'RFBpP':_0x305fb7(0x1c5),'ouwnm':'Admin','drUiJ':_0x305fb7(0xc3),'PfmqT':_0x305fb7(0x18d),'sHufO':function(_0xc6d258,_0x2022ab){return _0xc6d258===_0x2022ab;},'EQrWQ':_0x305fb7(0x1a8),'mVXri':'Customer','FWBIb':_0x305fb7(0xca),'fpUJQ':function(_0x39e87b,_0x38b74d){return _0x39e87b===_0x38b74d;},'wTnRI':_0x305fb7(0x1a3),'HvBwD':function(_0x93831d,_0x43fde6){return _0x93831d(_0x43fde6);},'acQHC':_0x305fb7(0xd6),'WCyGj':_0x305fb7(0x165),'FkmIZ':_0x305fb7(0xf9),'wyeHH':_0x305fb7(0xd8),'HDsgV':_0x305fb7(0x181),'RWOqO':function(_0x2892cb,_0x23fd68){return _0x2892cb===_0x23fd68;},'azHuU':_0x305fb7(0x19a),'XZAEw':'BNsgc','EaNMt':_0x305fb7(0x146),'nQgYK':function(_0x445e66,_0x41bd30){return _0x445e66(_0x41bd30);},'kFrNO':function(_0x11b483,_0x528377){return _0x11b483!==_0x528377;},'gPQlK':'iTHuE','uopMe':function(_0x5b97f6,_0x4d05b0){return _0x5b97f6(_0x4d05b0);},'QbVZD':_0x305fb7(0xdb),'CwmFo':function(_0x147ee1,_0x6a797f,_0x20c705){return _0x147ee1(_0x6a797f,_0x20c705);},'zvagc':_0x305fb7(0x19d),'BBWqH':function(_0x5f2cd1,_0x37749f,_0x66094){return _0x5f2cd1(_0x37749f,_0x66094);},'aTPnH':_0x305fb7(0x16e),'AYEJb':function(_0x2b0939,_0x7a2ca4,_0x38ef1e){return _0x2b0939(_0x7a2ca4,_0x38ef1e);},'UZgTt':_0x305fb7(0xea),'YDYiP':_0x305fb7(0x1cc),'UoSOq':function(_0x4159d6,_0x1d260d,_0x4f8086){return _0x4159d6(_0x1d260d,_0x4f8086);},'kJhMP':_0x305fb7(0xe9),'JSzKp':_0x305fb7(0xc4),'zfXzj':function(_0x3d52e0,_0x36a9ed,_0x3cba3f){return _0x3d52e0(_0x36a9ed,_0x3cba3f);}};_0x3869cb[_0x305fb7(0x185)](it,_0x3869cb[_0x305fb7(0x18e)],_0x3bd794=>{const _0x366640=_0x305fb7,_0x5c65b1={'lGhNR':'name','umENn':_0x366640(0x1c3),'OSjjR':_0x366640(0x1a3),'ZLhVP':_0x366640(0x11e),'POJRf':_0x366640(0xf4),'VtfAj':function(_0x263243,_0x52c8cb,_0x33617c){return _0x263243(_0x52c8cb,_0x33617c);},'QCPVi':function(_0x1e260e,_0x10a1f2){const _0x5e43fe=_0x366640;return _0x3869cb[_0x5e43fe(0xc5)](_0x1e260e,_0x10a1f2);},'gGjwz':_0x3869cb['npeIu'],'ebHDE':_0x366640(0x1bf),'iuFhY':_0x3869cb[_0x366640(0x154)],'jMurb':'foo','PcleW':_0x366640(0x148),'gEiKx':function(_0x5418a5,_0x35281e){return _0x3869cb['DHBZc'](_0x5418a5,_0x35281e);},'AwArR':_0x3869cb['DCyXN'],'cirRX':function(_0x38b9bd,_0x561406){return _0x38b9bd(_0x561406);}};let _0x4667b1,_0x3b6d0f;createTestUser()[_0x366640(0x168)](_0x4043e7=>{const _0x5e93ad=_0x366640;_0x4667b1=_0x4043e7;const _0x2e6264=new Parse['ACL']();_0x2e6264[_0x5e93ad(0x198)](!![]),_0x2e6264['setPublicWriteAccess'](![]),_0x3b6d0f=new Parse[(_0x5e93ad(0x1a4))](_0x5e93ad(0xca)),_0x3b6d0f[_0x5e93ad(0x1aa)](_0x5c65b1['lGhNR'],'Foos'),_0x3b6d0f[_0x5e93ad(0x14f)](_0x2e6264);const _0x3770d3=_0x3b6d0f['relation'](_0x5c65b1[_0x5e93ad(0x11d)]);return _0x3770d3['add'](_0x4667b1),_0x3b6d0f[_0x5e93ad(0xe4)]({},{'useMasterKey':!![]});})[_0x366640(0x168)](()=>{const _0x116853=_0x366640,_0x36c5a4=new Parse[(_0x116853(0x1c1))](_0x116853(0xca));return _0x36c5a4[_0x116853(0x190)]({'useMasterKey':!![]});})[_0x366640(0x168)](_0x240e23=>{const _0x1ba20a=_0x366640;if(_0x3869cb[_0x1ba20a(0xc5)](_0x3869cb['aAncB'],_0x3869cb[_0x1ba20a(0x1a6)])){_0x3869cb[_0x1ba20a(0x1bb)](expect,_0x240e23[_0x1ba20a(0x156)])['toEqual'](0x1);const _0x3c9108=_0x240e23[0x0][_0x1ba20a(0x17d)](_0x3869cb[_0x1ba20a(0x1a9)])['query']();return _0x3c9108['first']({'useMasterKey':!![]});}else{const _0x59b001=new _0x4cbf36['Query'](_0x2a60d8[_0x1ba20a(0xc8)]);_0x59b001[_0x1ba20a(0x19b)](_0x5c65b1[_0x1ba20a(0xfb)],_0x5c65b1[_0x1ba20a(0x13b)]),_0x59b001['equalTo']('users',_0x5311cb),_0x59b001[_0x1ba20a(0x190)]()[_0x1ba20a(0x168)](function(_0x25fdb6){const _0x2bd7e2=_0x1ba20a;_0x3c81db(_0x25fdb6['length'])[_0x2bd7e2(0x1be)](0x0),_0x10f331();});}})[_0x366640(0x168)](_0x6d2d3e=>{const _0x3e8aff=_0x366640;expect(_0x6d2d3e['id'])[_0x3e8aff(0x1be)](_0x4667b1['id']);const _0x1da18a=new Parse[(_0x3e8aff(0x1a4))](_0x5c65b1[_0x3e8aff(0x182)]),_0x5e150b=new Parse[(_0x3e8aff(0xd5))]();return _0x5e150b[_0x3e8aff(0x198)](![]),_0x5e150b[_0x3e8aff(0x169)](![]),_0x5e150b[_0x3e8aff(0x12b)](_0x5c65b1[_0x3e8aff(0x134)],!![]),_0x5e150b[_0x3e8aff(0x1d0)](_0x3e8aff(0xf4),!![]),_0x1da18a[_0x3e8aff(0x14f)](_0x5e150b),_0x1da18a['save']();})[_0x366640(0x168)](()=>{const _0x447ad7=_0x366640,_0x267d55=new Parse[(_0x447ad7(0x1c1))](_0x447ad7(0x11e));return _0x267d55[_0x447ad7(0x190)]({'sessionToken':_0x4667b1['getSessionToken']()});})[_0x366640(0x168)](_0x501dec=>{const _0x2057b2=_0x366640;if(_0x5c65b1[_0x2057b2(0xf5)](_0x5c65b1[_0x2057b2(0x189)],_0x2057b2(0x1cb))){expect(_0x501dec[_0x2057b2(0x156)])['toEqual'](0x1);const _0x590c2f=_0x501dec[0x0];return _0x590c2f[_0x2057b2(0x1aa)]('foo',_0x2057b2(0xfa)),_0x590c2f[_0x2057b2(0xe4)]({},{'sessionToken':_0x4667b1[_0x2057b2(0x127)]()});}else _0x5c65b1[_0x2057b2(0x12f)](_0x5839e1,_0x51d27e,_0xda6eb6);})[_0x366640(0x168)](_0x38fa54=>{const _0x1b569b=_0x366640,_0xffd70a={'KVvQs':_0x5c65b1[_0x1b569b(0x188)]};if(_0x1b569b(0x136)!==_0x5c65b1['iuFhY'])return _0x38fa54[_0x1b569b(0x1aa)](_0x5c65b1['jMurb'],_0x5c65b1[_0x1b569b(0x135)]),_0x38fa54[_0x1b569b(0xe4)]({},{'sessionToken':''});else _0x287629['relation'](_0xffd70a['KVvQs'])[_0x1b569b(0xe3)](_0x3d9d18);})[_0x366640(0x168)](()=>{const _0x13f859=_0x366640;_0x3869cb[_0x13f859(0x1bb)](fail,_0x13f859(0x1c2));},_0x26f502=>{const _0x340f6f=_0x366640,_0x2b5dc4={'PQWji':'users'};if(_0x5c65b1[_0x340f6f(0x16d)](_0x340f6f(0x1ac),_0x5c65b1['AwArR']))_0x5c65b1[_0x340f6f(0x144)](expect,_0x26f502[_0x340f6f(0x1bd)])[_0x340f6f(0x1be)](Parse['Error'][_0x340f6f(0x152)]),_0x3bd794();else{const _0x36d8d3=_0x32e93a[_0x340f6f(0x17d)](_0x2b5dc4[_0x340f6f(0xf1)]);_0x36d8d3['add'](_0x5ede0f);}});}),_0x3869cb[_0x305fb7(0x161)](it,_0x3869cb[_0x305fb7(0xd0)],_0x18d945=>{const _0x932ae7=_0x305fb7,_0x3e3e23={'MhAIp':function(_0x5ca186,_0x189bed){const _0x2385df=_0x1d2e;return _0x3869cb[_0x2385df(0xc5)](_0x5ca186,_0x189bed);},'wOIHj':function(_0x567b57,_0x2789f7,_0x4db3f7,_0x4cf898){return _0x567b57(_0x2789f7,_0x4db3f7,_0x4cf898);},'PXPlo':_0x3869cb[_0x932ae7(0x17c)],'gDsUC':function(_0x27ff81,_0x4ed7ed,_0x1ec536){return _0x27ff81(_0x4ed7ed,_0x1ec536);},'aoRaJ':_0x3869cb[_0x932ae7(0x186)],'bGeKQ':function(_0x494d55,_0x5016e5){const _0x42ffee=_0x932ae7;return _0x3869cb[_0x42ffee(0x18c)](_0x494d55,_0x5016e5);},'HDDCi':function(_0x35f2fd,_0x37f774){const _0x1d8a90=_0x932ae7;return _0x3869cb[_0x1d8a90(0x19e)](_0x35f2fd,_0x37f774);},'XGMBM':function(_0x26c5cc){return _0x26c5cc();}},_0x2d58fd=_0x3869cb['wgxiz'],_0x547e63=[_0x3869cb[_0x932ae7(0x120)],_0x3869cb[_0x932ae7(0x123)],'BazRole'],_0x388503=[_0x2d58fd][_0x932ae7(0x129)](_0x547e63),_0x1bfb78={},_0x2d6dc5=function(_0x5715bc){const _0x2a3dce=_0x932ae7,_0x12b33f=_0x388503['map'](function(_0x37612f){const _0x306d8b=_0x1d2e,_0x19329f={'AApfU':function(_0x3a6162,_0x223392){return _0x3e3e23['MhAIp'](_0x3a6162,_0x223392);}};return _0x3e3e23[_0x306d8b(0x1b0)](createRole,_0x37612f,null,_0x5715bc)['then'](function(_0x9974a0){const _0x10c5c5=_0x306d8b;return _0x19329f[_0x10c5c5(0xf3)](_0x10c5c5(0x143),_0x10c5c5(0x177))?(_0x1bfb78[_0x37612f]=_0x9974a0,_0x9974a0):(_0x269305=new _0x49ce2c['ACL'](),_0x38457a['setRoleReadAccess'](_0x10c5c5(0x19f),!![]),_0x8c83a0[_0x10c5c5(0x1d0)](_0x10c5c5(0x19f),!![]),_0x575ebc=new _0x5096b1[(_0x10c5c5(0xc8))](_0x10c5c5(0x1a8),_0x3979c9),_0x1f61cf[_0x10c5c5(0x1a0)]()[_0x10c5c5(0xe3)](_0x5e1093),_0x463087['save']({},{'useMasterKey':!![]}));});});return Promise[_0x2a3dce(0x1c4)](_0x12b33f);},_0x1d381b=_0x3869cb[_0x932ae7(0x118)](spyOn,RestQuery[_0x932ae7(0xee)][_0x932ae7(0x16f)],'execute')['and'][_0x932ae7(0xcd)]();let _0x2c5d87,_0x2ace56,_0x5ed3da;createTestUser()[_0x932ae7(0x168)](_0x54e3f7=>{return _0x2c5d87=_0x54e3f7,_0x2d6dc5(_0x2c5d87);})['then'](_0x3993b7=>{const _0x5ded88=_0x932ae7,_0x1d8f9e={'QPZew':function(_0x32f0fe){return _0x3869cb['FVmjX'](_0x32f0fe);},'uHQFW':_0x5ded88(0x1c3),'DBdBY':function(_0x50e0d4,_0x1bf440){return _0x3869cb['DHBZc'](_0x50e0d4,_0x1bf440);},'zPtim':_0x3869cb[_0x5ded88(0x116)],'zuFyQ':_0x3869cb[_0x5ded88(0x124)],'GpGpk':function(_0x2eb1b9,_0x52db31){const _0x17ed7a=_0x5ded88;return _0x3869cb[_0x17ed7a(0x162)](_0x2eb1b9,_0x52db31);},'DrXCx':_0x5ded88(0x1bf),'VaSvX':function(_0x8b6114,_0x33aba8){return _0x8b6114>_0x33aba8;}};if(_0x3869cb['DHBZc'](_0x3869cb['DhzxM'],'xREju'))_0x37a4e8(_0x48ad77[_0x5ded88(0x156)])[_0x5ded88(0x163)](0x0),_0x1d8f9e[_0x5ded88(0x1a2)](_0x1208d5);else{const _0x101131=_0x1bfb78[_0x2d58fd];return _0x3993b7['forEach'](function(_0x444d9e,_0x2d1522){const _0x385765=_0x5ded88;if(_0x1d8f9e[_0x385765(0x15c)](_0x1d8f9e['zPtim'],_0x1d8f9e[_0x385765(0x170)])){_0xf75736(_0xd9da71[_0x385765(0x156)])[_0x385765(0x1be)](0x1);const _0x7a9ccd=_0x57ea4a[0x0][_0x385765(0x17d)](_0x1d8f9e[_0x385765(0xf8)])[_0x385765(0x1b7)]();return _0x7a9ccd['find']({'useMasterKey':!![]});}else _0x1d8f9e['GpGpk'](_0x444d9e['id'],_0x101131['id'])&&_0x444d9e[_0x385765(0x17d)](_0x1d8f9e[_0x385765(0x175)])[_0x385765(0xe3)](_0x101131),_0x1d8f9e[_0x385765(0xe2)](_0x2d1522,0x0)&&_0x444d9e[_0x385765(0x17d)](_0x385765(0x1bf))[_0x385765(0xe3)](_0x3993b7[_0x2d1522-0x1]);}),Parse[_0x5ded88(0x1a4)][_0x5ded88(0x1ce)](_0x3993b7,{'useMasterKey':!![]});}})[_0x932ae7(0x168)](()=>{const _0x2e0e13=_0x932ae7;return _0x2ace56=new Auth({'config':Config[_0x2e0e13(0x105)](_0x3e3e23[_0x2e0e13(0x10b)]),'isMaster':!![],'user':_0x2c5d87}),_0x5ed3da=_0x3e3e23[_0x2e0e13(0xef)](spyOn,_0x2ace56,_0x3e3e23[_0x2e0e13(0xed)])['and'][_0x2e0e13(0xcd)](),_0x2ace56['_loadRoles']();})[_0x932ae7(0x168)](_0x397278=>{const _0x36a9f4=_0x932ae7,_0x3b4366={'pregt':function(_0x5713bd,_0x45c1a6){return _0x5713bd(_0x45c1a6);},'bXIyk':function(_0x44d86c,_0x5bc4a1){return _0x44d86c+_0x5bc4a1;}};_0x3e3e23[_0x36a9f4(0x1ae)](expect,_0x397278[_0x36a9f4(0x156)])[_0x36a9f4(0x1be)](0x4),_0x388503[_0x36a9f4(0x1af)](function(_0x83dfbb){const _0x4dd0aa=_0x36a9f4;_0x3b4366[_0x4dd0aa(0x158)](expect,_0x397278[_0x4dd0aa(0xff)](_0x3b4366[_0x4dd0aa(0x178)](_0x4dd0aa(0x173),_0x83dfbb)))[_0x4dd0aa(0x153)][_0x4dd0aa(0x163)](-0x1);}),_0x3e3e23['HDDCi'](expect,_0x1d381b[_0x36a9f4(0xc1)]['count']())[_0x36a9f4(0x1be)](0x2),_0x3e3e23['HDDCi'](expect,_0x5ed3da[_0x36a9f4(0xc1)][_0x36a9f4(0x132)]())['toEqual'](0x2),_0x3e3e23[_0x36a9f4(0x155)](_0x18d945);})['catch'](()=>{const _0x4be7c3=_0x932ae7;fail(_0x3869cb[_0x4be7c3(0xda)]),_0x18d945();});}),_0x3869cb['BBWqH'](it,_0x305fb7(0x1b2),_0x3fd434=>{_0x3869cb['ltoSd'](testLoadRoles,Config['get'](_0x3869cb['JFqWk']),_0x3fd434);}),it(_0x3869cb['aTPnH'],_0x34f1b2=>{const _0x54a5a5=_0x305fb7;if(_0x3869cb[_0x54a5a5(0x14d)](_0x3869cb[_0x54a5a5(0x180)],_0x54a5a5(0x157)))_0x3869cb['ltoSd'](testLoadRoles,undefined,_0x34f1b2);else return _0x2b232e[_0x54a5a5(0x1a0)]()['add'](_0x5220c3),_0x19444b['save']();}),_0x3869cb['AYEJb'](it,_0x305fb7(0x10e),_0x45b3ec=>{const _0x171a82=_0x305fb7,_0x376172={'LXzHW':function(_0x1b19e2,_0x3c4ab9){return _0x1b19e2===_0x3c4ab9;},'OpXmH':function(_0x245028,_0x4f0fa7){return _0x245028(_0x4f0fa7);}};if(_0x3869cb[_0x171a82(0x113)](_0x3869cb[_0x171a82(0x10f)],'dpLrg'))_0x4a81d9('should\x20return\x20an\x20error');else{const _0x13a20f=new Parse[(_0x171a82(0xc8))]();_0x13a20f['save'](null,{'useMasterKey':!![]})[_0x171a82(0x168)](()=>{const _0x1ab2f9=_0x171a82;if(_0x376172[_0x1ab2f9(0x193)](_0x1ab2f9(0x138),_0x1ab2f9(0x17b))){_0x3594b4[_0x52a3fc[_0x1ab2f9(0x105)](_0x1ab2f9(0x11c))]=_0x2db1aa['id'];const _0x3d40db=new _0x19c31b({'config':_0x2cfbac,'isMaster':!![],'user':_0x514369});return _0x3d40db['_loadRoles']();}else _0x376172[_0x1ab2f9(0x18a)](fail,'_Role\x20object\x20should\x20not\x20save\x20without\x20name.');},_0x1ea51c=>{const _0x16296b=_0x171a82,_0x125efd={'hkHCP':_0x16296b(0x114)};_0x3869cb[_0x16296b(0x1bb)](expect,_0x1ea51c['code'])[_0x16296b(0x1be)](0x6f),_0x13a20f[_0x16296b(0x1aa)](_0x3869cb[_0x16296b(0xe7)],_0x16296b(0x1c0)),_0x13a20f[_0x16296b(0xe4)](null,{'useMasterKey':!![]})[_0x16296b(0x168)](()=>{const _0x2c1068=_0x16296b;fail(_0x125efd[_0x2c1068(0x104)]);},_0x3850ef=>{const _0x2c63ea=_0x16296b;_0x376172[_0x2c63ea(0x18a)](expect,_0x3850ef[_0x2c63ea(0x1bd)])[_0x2c63ea(0x1be)](0x6f),_0x45b3ec();});});}}),it(_0x3869cb['UZgTt'],async _0x558e13=>{const _0x31b570=_0x305fb7,_0x17c697={'GhMxj':function(_0x2893f6,_0x541eab,_0x1253ba,_0x3d4418){const _0x401d57=_0x1d2e;return _0x3869cb[_0x401d57(0x131)](_0x2893f6,_0x541eab,_0x1253ba,_0x3d4418);},'JjkBx':_0x3869cb[_0x31b570(0x10d)]};await reconfigureServer();const _0x266346=_0x31b570(0xc7);let _0xb5ab62;createTestUser()['then'](_0x55a83f=>{return _0xb5ab62=_0x55a83f,_0x17c697['GhMxj'](createRole,_0x266346,null,_0xb5ab62);})[_0x31b570(0x168)](_0x502cac=>{const _0x21948e=_0x31b570;return _0x3869cb[_0x21948e(0x1bb)](expect,_0x502cac[_0x21948e(0xbd)]())[_0x21948e(0x1be)](_0x266346),_0x3869cb['fkuHA'](createRole,_0x266346,null,_0xb5ab62);})[_0x31b570(0x168)](()=>{const _0x4593b2=_0x31b570;fail(_0x17c697[_0x4593b2(0x1b9)]),_0x558e13();},_0x4cff92=>{const _0x2e9204=_0x31b570;expect(_0x4cff92[_0x2e9204(0x1bd)])[_0x2e9204(0x1be)](0x89),_0x558e13();});}),_0x3869cb['ltoSd'](it,_0x3869cb[_0x305fb7(0x109)],_0x47e147=>{const _0x1980df=_0x305fb7,_0x585c09={'ZTbfT':function(_0x7112aa,_0x2936f0){const _0x2ea36c=_0x1d2e;return _0x3869cb[_0x2ea36c(0x19e)](_0x7112aa,_0x2936f0);},'fWdEj':function(_0x1567ce,_0x99ef79){return _0x1567ce(_0x99ef79);},'BkUpL':_0x1980df(0x106),'riRkt':function(_0x5b46ba){return _0x5b46ba();}},_0x4d26ea=new Parse[(_0x1980df(0xc8))](_0x3869cb['ouwnm'],new Parse['ACL']()),_0x5832e3=new Parse[(_0x1980df(0xc8))]('Moderator',new Parse[(_0x1980df(0xd5))]()),_0x39518f=new Parse[(_0x1980df(0xc8))](_0x1980df(0x133),new Parse['ACL']()),_0x3f2882=new Parse[(_0x1980df(0xc8))](_0x1980df(0x14a),new Parse[(_0x1980df(0xd5))]()),_0x10a361=new Parse['Role'](_0x3869cb[_0x1980df(0xe1)],new Parse['ACL']());Parse[_0x1980df(0x1a4)][_0x1980df(0x1ce)]([_0x4d26ea,_0x5832e3,_0x3f2882,_0x39518f,_0x10a361],{'useMasterKey':!![]})['then'](()=>{const _0x40d027=_0x1980df;return _0x3f2882['getRoles']()[_0x40d027(0xe3)]([_0x5832e3,_0x10a361]),_0x5832e3[_0x40d027(0xe0)]()[_0x40d027(0xe3)]([_0x4d26ea,_0x39518f]),_0x10a361[_0x40d027(0xe0)]()[_0x40d027(0xe3)](_0x39518f),Parse[_0x40d027(0x1a4)][_0x40d027(0x1ce)]([_0x4d26ea,_0x5832e3,_0x3f2882,_0x39518f,_0x10a361],{'useMasterKey':!![]});})[_0x1980df(0x168)](()=>{const _0x1f4e89=_0x1980df,_0x33c8d6={'wwlME':function(_0x3d7a9e){return _0x3869cb['TaeLm'](_0x3d7a9e);},'zLkmH':_0x3869cb['zJYbu'],'vOOHm':'name'};if(_0x3869cb[_0x1f4e89(0x162)](_0x3869cb['RFBpP'],_0x1f4e89(0x1c5))){const _0x399bba=new _0x389e99[(_0x1f4e89(0xd5))]();_0x399bba[_0x1f4e89(0x198)](!![]),_0x399bba[_0x1f4e89(0x169)](!![]);const _0x3f3be5=new _0x118b45['Role'](_0x1f4e89(0x1a3),_0x399bba),_0x4030a6=_0x3f3be5[_0x1f4e89(0x17d)](_0x1f4e89(0x1c3));_0x4030a6[_0x1f4e89(0xe3)](_0xc503f9),_0x3f3be5[_0x1f4e89(0xe4)]({},{'useMasterKey':!![]})[_0x1f4e89(0x168)](()=>{const _0x3a553c=_0x1f4e89,_0x2e4837={'JEVtZ':function(_0x55178c){const _0x43f0a3=_0x1d2e;return _0x33c8d6[_0x43f0a3(0x141)](_0x55178c);}},_0x44944a=new _0x505c19['User']();_0x44944a[_0x3a553c(0xe4)]({'username':_0x33c8d6['zLkmH'],'password':_0x33c8d6[_0x3a553c(0x17e)]})[_0x3a553c(0x168)](_0x233c9e=>{const _0x51720e=_0x3a553c,_0x262ca1={'vudtR':function(_0xe4fded){const _0x346d46=_0x1d2e;return _0x2e4837[_0x346d46(0x18f)](_0xe4fded);}},_0xa1a28b=new _0x288b6e[(_0x51720e(0x1c1))](_0x52748d[_0x51720e(0xc8)]);_0xa1a28b[_0x51720e(0x19b)](_0x51720e(0x11c),'admin'),_0xa1a28b[_0x51720e(0x19b)]('users',_0x233c9e),_0xa1a28b[_0x51720e(0x190)]()['then'](function(_0x19635b){const _0x473516=_0x51720e;_0x334708(_0x19635b[_0x473516(0x156)])[_0x473516(0x1be)](0x0),_0x262ca1[_0x473516(0x183)](_0x2e0ea3);});});});}else{const _0x159426=new Auth({'config':Config['get'](_0x3869cb[_0x1f4e89(0x17c)]),'isMaster':!![]}),_0x44e849=[_0x4d26ea,_0x5832e3,_0x3f2882,_0x39518f]['map'](_0x50ec43=>{const _0xcdb3d1=_0x1f4e89;return _0x159426[_0xcdb3d1(0x14c)]([_0x50ec43['id']])[_0xcdb3d1(0x168)](_0x47700a=>{const _0x142a6=_0xcdb3d1;return Promise['resolve']({'id':_0x50ec43['id'],'name':_0x50ec43[_0x142a6(0x105)](_0x33c8d6[_0x142a6(0x167)]),'roleNames':_0x47700a});});});return Promise[_0x1f4e89(0x1c4)](_0x44e849);}})['then'](_0x3076ff=>{const _0x2c098f=_0x1980df,_0xe1da13={'yhCwX':function(_0x557277,_0x6a7513){return _0x557277==_0x6a7513;},'PAzcn':function(_0x5344ba,_0x4761b8){const _0x299790=_0x1d2e;return _0x585c09[_0x299790(0xe5)](_0x5344ba,_0x4761b8);},'LZcQa':_0x2c098f(0x14a),'PKQum':function(_0x32f639,_0x37aa67){return _0x32f639==_0x37aa67;},'ZNpfV':function(_0x3574e9,_0x4b93b2){const _0xf76f73=_0x2c098f;return _0x585c09[_0xf76f73(0x11b)](_0x3574e9,_0x4b93b2);},'WRnyS':function(_0x1dd7b4,_0x513f09){const _0xc2e828=_0x2c098f;return _0x585c09[_0xc2e828(0x11b)](_0x1dd7b4,_0x513f09);},'WPwtP':function(_0x409510,_0x3f9b17){return _0x409510(_0x3f9b17);},'MKoly':_0x585c09['BkUpL']};_0x3076ff[_0x2c098f(0x1af)](_0x367e62=>{const _0x209568=_0x2c098f,_0x55541a=_0x367e62['id'],_0x549b5c=_0x367e62[_0x209568(0x17a)];if(_0xe1da13['yhCwX'](_0x55541a,_0x4d26ea['id']))expect(_0x549b5c[_0x209568(0x156)])[_0x209568(0x163)](0x2),_0xe1da13[_0x209568(0x1b4)](expect,_0x549b5c[_0x209568(0xff)](_0x209568(0x106)))[_0x209568(0x153)][_0x209568(0x163)](-0x1),expect(_0x549b5c[_0x209568(0xff)](_0xe1da13[_0x209568(0xd3)]))[_0x209568(0x153)][_0x209568(0x163)](-0x1);else{if(_0xe1da13[_0x209568(0xbe)](_0x55541a,_0x5832e3['id']))expect(_0x549b5c['length'])['toBe'](0x1),_0xe1da13['ZNpfV'](expect,_0x549b5c['indexOf'](_0x209568(0x14a)))[_0x209568(0x163)](0x0);else{if(_0xe1da13[_0x209568(0x147)](_0x55541a,_0x3f2882['id']))_0xe1da13[_0x209568(0x1a5)](expect,_0x549b5c[_0x209568(0x156)])[_0x209568(0x163)](0x0);else _0xe1da13[_0x209568(0x147)](_0x55541a,_0x39518f['id'])&&(expect(_0x549b5c[_0x209568(0x156)])[_0x209568(0x163)](0x3),_0xe1da13['WPwtP'](expect,_0x549b5c[_0x209568(0xff)](_0xe1da13[_0x209568(0x122)]))[_0x209568(0x153)][_0x209568(0x163)](-0x1),expect(_0x549b5c[_0x209568(0xff)](_0x209568(0x14a)))[_0x209568(0x153)]['toBe'](-0x1),expect(_0x549b5c[_0x209568(0xff)]('SuperContentManager'))['not'][_0x209568(0x163)](-0x1));}}}),_0x585c09[_0x2c098f(0x1b8)](_0x47e147);})[_0x1980df(0x125)](()=>{const _0x377524=_0x1980df;_0x3869cb[_0x377524(0x14e)](_0x47e147);});}),it('can\x20create\x20role\x20and\x20query\x20empty\x20users',_0x297bd3=>{const _0x1eee05=_0x305fb7,_0xdfb934={'xaeUV':function(_0x3a1782){return _0x3869cb['TaeLm'](_0x3a1782);}};if(_0x3869cb['sHufO'](_0x1eee05(0x119),_0x1eee05(0x150)))return _0x55bbc4[_0x49a62f[_0x1eee05(0x105)](_0x3869cb[_0x1eee05(0xe7)])]=_0x13612f['id'],_0x37e97b(_0x5b828b[0x1],_0x167a92,null);else{const _0x54742c=new Parse['ACL']();_0x54742c['setPublicReadAccess'](!![]);const _0x494575=new Parse[(_0x1eee05(0xc8))](_0x1eee05(0x111),_0x54742c);_0x494575[_0x1eee05(0xe4)]({},{'useMasterKey':!![]})[_0x1eee05(0x168)](()=>{const _0x394e5a=_0x1eee05,_0x12c8fa={'rAXkR':_0x3869cb['PfmqT']},_0x978adc=_0x494575[_0x394e5a(0x17d)](_0x3869cb[_0x394e5a(0x1a9)])[_0x394e5a(0x1b7)]();_0x978adc[_0x394e5a(0x190)]({'useMasterKey':!![]})[_0x394e5a(0x168)](()=>{const _0x33a53f=_0x394e5a;_0xdfb934[_0x33a53f(0x1b5)](_0x297bd3);},()=>{const _0x49a4cb=_0x394e5a;fail(_0x12c8fa[_0x49a4cb(0x102)]),_0x297bd3();});},()=>{const _0x518b93=_0x1eee05;fail(_0x518b93(0x11f));});}}),_0x3869cb[_0x305fb7(0x15a)](it,_0x305fb7(0xf0),_0x2e4ca7=>{const _0x1bb9cd=_0x305fb7,_0x26cc00={'QZmVJ':'3|0|4|2|1','KVGpP':_0x1bb9cd(0x1a8),'xBQUU':_0x3869cb[_0x1bb9cd(0x16c)],'cDxJY':_0x3869cb[_0x1bb9cd(0xdd)],'lrwrE':_0x1bb9cd(0x17f),'apCOB':function(_0x5ac380,_0x3e72ee){const _0x49939a=_0x1bb9cd;return _0x3869cb[_0x49939a(0xbf)](_0x5ac380,_0x3e72ee);},'LrICJ':_0x1bb9cd(0x1b1),'zUjJt':_0x3869cb[_0x1bb9cd(0x145)],'Aeivf':_0x3869cb['wTnRI'],'dHFoM':_0x3869cb[_0x1bb9cd(0x1a9)],'XOVeh':function(_0x150408,_0x2f7d77){const _0x169024=_0x1bb9cd;return _0x3869cb[_0x169024(0xe8)](_0x150408,_0x2f7d77);},'JfZev':_0x3869cb[_0x1bb9cd(0x10a)],'oPlFu':_0x1bb9cd(0x149),'NDVCe':function(_0x111def){const _0x4608d6=_0x1bb9cd;return _0x3869cb[_0x4608d6(0x164)](_0x111def);}};let _0x25dfa9,_0xa977b3,_0x5ce3e7,_0x3e57d4,_0x1736eb,_0x25abce,_0x5bdebf,_0x3754a5;const _0x1530b8=new Parse[(_0x1bb9cd(0xd5))]();_0x1530b8[_0x1bb9cd(0x198)](!![]);let _0xc05ae6,_0x18bd25,_0x168b1f;_0x3869cb[_0x1bb9cd(0x14e)](createTestUser)['then'](_0x3d3810=>{const _0xbfd5e4=_0x1bb9cd;return _0x25dfa9=_0x3d3810,_0xa977b3=new Parse[(_0xbfd5e4(0x15b))](),_0xa977b3[_0xbfd5e4(0xe4)]({'username':_0xbfd5e4(0x165),'password':_0xbfd5e4(0xde)});})['then'](()=>{const _0x3ffc49=_0x1bb9cd;return _0x5ce3e7=new Parse[(_0x3ffc49(0x15b))](),_0x5ce3e7[_0x3ffc49(0xe4)]({'username':_0x3ffc49(0xf9),'password':_0x3ffc49(0xde)});})['then'](()=>{const _0x2280c1=_0x1bb9cd;return _0x3e57d4=new Parse[(_0x2280c1(0xc8))]('Admin',_0x1530b8),_0x3e57d4[_0x2280c1(0x1a0)]()[_0x2280c1(0xe3)](_0x25dfa9),_0x3e57d4[_0x2280c1(0xe4)]({},{'useMasterKey':!![]});})[_0x1bb9cd(0x168)](()=>{const _0x24865d=_0x1bb9cd;return _0xc05ae6=new Parse['ACL'](),_0xc05ae6[_0x24865d(0x12b)](_0x24865d(0x19f),!![]),_0xc05ae6[_0x24865d(0x1d0)]('Admin',!![]),_0x1736eb=new Parse[(_0x24865d(0xc8))](_0x3869cb[_0x24865d(0x112)],_0x1530b8),_0x1736eb[_0x24865d(0x1a0)]()[_0x24865d(0xe3)](_0xa977b3),_0x1736eb[_0x24865d(0xe4)]({},{'useMasterKey':!![]});})[_0x1bb9cd(0x168)](()=>{const _0x52d410=_0x1bb9cd,_0x3aaad6=_0x26cc00[_0x52d410(0x108)][_0x52d410(0x103)]('|');let _0x34bb6f=0x0;while(!![]){switch(_0x3aaad6[_0x34bb6f++]){case'0':_0x18bd25[_0x52d410(0x12b)](_0x52d410(0x1a8),!![]);continue;case'1':return _0x3e57d4['save']({},{'useMasterKey':!![]});case'2':_0x3e57d4[_0x52d410(0xe0)]()[_0x52d410(0xe3)](_0x1736eb);continue;case'3':_0x18bd25=new Parse['ACL']();continue;case'4':_0x18bd25[_0x52d410(0x1d0)](_0x26cc00['KVGpP'],!![]);continue;}break;}})[_0x1bb9cd(0x168)](()=>{const _0x463142=_0x1bb9cd;return _0x25abce=new Parse['Role'](_0x26cc00[_0x463142(0x101)],_0x1530b8),_0x25abce[_0x463142(0x1a0)]()[_0x463142(0xe3)](_0x5ce3e7),_0x25abce[_0x463142(0xe0)]()[_0x463142(0xe3)](_0x3e57d4),_0x25abce[_0x463142(0xe4)]({},{'useMasterKey':!![]});})['then'](()=>{const _0x5c44d9=_0x1bb9cd;_0x168b1f=new Parse[(_0x5c44d9(0xd5))](),_0x168b1f['setRoleReadAccess'](_0x26cc00['xBQUU'],!![]),_0x168b1f[_0x5c44d9(0x1d0)](_0x26cc00[_0x5c44d9(0x101)],!![]);const _0x2c4dcc=new Parse[(_0x5c44d9(0x1c1))](_0x26cc00[_0x5c44d9(0x1c9)]);return _0x2c4dcc[_0x5c44d9(0x190)]({'useMasterKey':!![]});})[_0x1bb9cd(0x168)](_0x5f206c=>{const _0x5d0969=_0x1bb9cd;return expect(_0x5f206c[_0x5d0969(0x156)])['toEqual'](0x3),_0x5bdebf=new Parse[(_0x5d0969(0x1a4))](_0x26cc00[_0x5d0969(0x187)]),_0x5bdebf['set'](_0x5d0969(0xd5),_0x168b1f),_0x5bdebf[_0x5d0969(0xe4)](null,{'useMasterKey':!![]});})[_0x1bb9cd(0x168)](()=>{const _0x1d7dba=_0x1bb9cd;return _0x5bdebf['set'](_0x1d7dba(0x181),!![]),_0x5bdebf[_0x1d7dba(0xe4)](null,{'sessionToken':_0x25dfa9['getSessionToken']()});})[_0x1bb9cd(0x168)](()=>{const _0x3f2e0d=_0x1bb9cd,_0x4ff52e={'mrlAO':function(_0x2d6094){return _0x2d6094();}};if(_0x26cc00['apCOB'](_0x3f2e0d(0xc9),_0x26cc00[_0x3f2e0d(0x11a)]))_0x2c29dc(_0xdd09bd[_0x3f2e0d(0x1bd)])[_0x3f2e0d(0x1be)](_0x2d49ff[_0x3f2e0d(0xcf)][_0x3f2e0d(0x152)]),_0x4ff52e[_0x3f2e0d(0x1cf)](_0x3a16d5);else return _0x3754a5=new Parse[(_0x3f2e0d(0x1a4))](_0x3f2e0d(0x17f)),_0x3754a5[_0x3f2e0d(0x1aa)](_0x3f2e0d(0xd5),_0xc05ae6),_0x3754a5['save'](null,{'useMasterKey':!![]});},()=>{fail('Admin\x20user\x20should\x20have\x20been\x20able\x20to\x20save.'),_0x2e4ca7();})[_0x1bb9cd(0x168)](()=>{const _0x3c816b=_0x1bb9cd;return _0x3754a5[_0x3c816b(0x1aa)]('changedByCustomer',!![]),_0x3754a5[_0x3c816b(0xe4)](null,{'sessionToken':_0x5ce3e7[_0x3c816b(0x127)]()});})[_0x1bb9cd(0x168)](()=>{const _0x3a4737=_0x1bb9cd;fail(_0x3a4737(0x12d)),_0x2e4ca7();},_0x153a81=>{const _0x4735f0=_0x1bb9cd,_0x2aa249={'iKPVd':'name','vmllA':_0x26cc00[_0x4735f0(0x1b3)],'yWWFi':_0x26cc00['dHFoM']};if(_0x153a81)_0x26cc00[_0x4735f0(0xc2)](expect,_0x153a81[_0x4735f0(0x1bd)])[_0x4735f0(0x1be)](Parse[_0x4735f0(0xcf)][_0x4735f0(0x152)]);else{if(_0x26cc00[_0x4735f0(0x195)]===_0x26cc00[_0x4735f0(0x195)])fail(_0x26cc00['oPlFu']);else{const _0x43d69e={'gAnJf':function(_0x1d8ed5){return _0x1d8ed5();}},_0x47fff4=new _0x565852[(_0x4735f0(0x15b))]();_0x47fff4[_0x4735f0(0xe4)]({'username':_0x26cc00['zUjJt'],'password':_0x26cc00[_0x4735f0(0x137)]})['then'](_0x22877a=>{const _0x2734ea=_0x4735f0,_0x3dc96e=new _0x622916[(_0x2734ea(0x1c1))](_0x1053db[_0x2734ea(0xc8)]);_0x3dc96e[_0x2734ea(0x19b)](_0x2aa249[_0x2734ea(0xd9)],_0x2aa249['vmllA']),_0x3dc96e[_0x2734ea(0x19b)](_0x2aa249[_0x2734ea(0x140)],_0x22877a),_0x3dc96e[_0x2734ea(0x190)]()[_0x2734ea(0x168)](function(_0x1f0fd7){const _0x41fca6=_0x2734ea;_0x7d47ba(_0x1f0fd7[_0x41fca6(0x156)])[_0x41fca6(0x1be)](0x0),_0x43d69e[_0x41fca6(0x1ab)](_0x17919e);});});}}_0x26cc00[_0x4735f0(0x1b6)](_0x2e4ca7);});}),it(_0x305fb7(0x110),_0x28e338=>{const _0x3ec1e7=_0x305fb7,_0xf06a94={'IdSVx':_0x3869cb[_0x3ec1e7(0x1a7)],'lhUlD':function(_0x9307d6,_0x565e7b){return _0x9307d6(_0x565e7b);},'EkqDw':_0x3869cb[_0x3ec1e7(0xdd)],'UQbho':_0x3ec1e7(0x11c),'RtptV':function(_0xec9b0d){const _0x5ddae5=_0x3ec1e7;return _0x3869cb[_0x5ddae5(0x14e)](_0xec9b0d);}};if(_0x3869cb[_0x3ec1e7(0x191)](_0x3869cb[_0x3ec1e7(0xc6)],_0x3869cb[_0x3ec1e7(0x194)]))return _0x4a6855['set'](_0xf06a94[_0x3ec1e7(0x107)],!![]),_0x32cb1d[_0x3ec1e7(0xe4)](null,{'sessionToken':_0x244b1e[_0x3ec1e7(0x127)]()});else{let _0x667a95,_0x25cc7d,_0x37a5c4,_0x1ff6e2,_0x1bd472;const _0x10ecc9=new Parse['ACL']();_0x10ecc9[_0x3ec1e7(0x198)](!![]),_0x10ecc9[_0x3ec1e7(0x169)](!![]),createTestUser()[_0x3ec1e7(0x168)](_0xdb11f4=>{const _0x451ae0=_0x3ec1e7;return _0x667a95=_0xdb11f4,_0x25cc7d=new Parse[(_0x451ae0(0x15b))](),_0x25cc7d['save']({'username':_0x3869cb[_0x451ae0(0x172)],'password':_0x451ae0(0xde)});})[_0x3ec1e7(0x168)](()=>{const _0x5ea051=_0x3ec1e7;return _0x37a5c4=new Parse[(_0x5ea051(0x15b))](),_0x37a5c4['save']({'username':_0x3869cb[_0x5ea051(0x15e)],'password':_0x5ea051(0xde)});})['then'](()=>{const _0x821a3b=_0x3ec1e7;_0x1ff6e2=new Parse[(_0x821a3b(0xc8))](_0x3869cb[_0x821a3b(0x13f)],_0x10ecc9);const _0x265877=_0x1ff6e2[_0x821a3b(0x17d)]('users');return _0x265877[_0x821a3b(0xe3)](_0x667a95),_0x265877['add'](_0x25cc7d),_0x265877[_0x821a3b(0xe3)](_0x37a5c4),_0x1ff6e2[_0x821a3b(0xe4)]({},{'useMasterKey':!![]});})[_0x3ec1e7(0x168)](()=>{const _0x1bcb21=_0x3ec1e7,_0x3d52a5=new Parse[(_0x1bcb21(0x1c1))](_0x1bcb21(0xca));return _0x3d52a5['equalTo'](_0x3869cb[_0x1bcb21(0xe7)],_0x3869cb[_0x1bcb21(0x13f)]),_0x3d52a5[_0x1bcb21(0x190)]({'useMasterKey':!![]});})['then'](_0x157693=>{const _0xb2f9c2=_0x3ec1e7;expect(_0x157693['length'])['toEqual'](0x1);const _0x2abffc=_0x157693[0x0][_0xb2f9c2(0x17d)](_0xb2f9c2(0x1c3))['query']();return _0x2abffc['find']({'useMasterKey':!![]});})[_0x3ec1e7(0x168)](_0x380687=>{const _0x53d1d6=_0x3ec1e7;return _0xf06a94['lhUlD'](expect,_0x380687[_0x53d1d6(0x156)])[_0x53d1d6(0x1be)](0x3),_0x1bd472=new Parse[(_0x53d1d6(0x1a4))](_0x53d1d6(0x17f)),_0x1bd472[_0x53d1d6(0x1aa)](_0x53d1d6(0xd5),_0x10ecc9),_0x1bd472[_0x53d1d6(0xe4)](null,{'useMasterKey':!![]});})[_0x3ec1e7(0x168)](()=>{const _0x2d0165=_0x3ec1e7;return _0x1bd472[_0x2d0165(0x1aa)](_0x2d0165(0x171),!![]),_0x1bd472[_0x2d0165(0xe4)](null,{'sessionToken':_0x667a95[_0x2d0165(0x127)]()});})[_0x3ec1e7(0x168)](()=>{const _0x46d962=_0x3ec1e7,_0x141acc=new Parse['Query'](_0xf06a94[_0x46d962(0xf6)]);return _0x141acc[_0x46d962(0x19b)](_0xf06a94['UQbho'],_0x46d962(0xd8)),_0x141acc[_0x46d962(0x190)]({'useMasterKey':!![]});})[_0x3ec1e7(0x168)](_0x5d39af=>{const _0x20b05a=_0x3ec1e7;expect(_0x5d39af['length'])[_0x20b05a(0x1be)](0x1);const _0x4f5d92=_0x5d39af[0x0][_0x20b05a(0x17d)]('users');return _0x4f5d92['remove'](_0x667a95),_0x4f5d92[_0x20b05a(0x18b)](_0x37a5c4),_0x5d39af[0x0][_0x20b05a(0xe4)]({},{'useMasterKey':!![]});})[_0x3ec1e7(0x168)](_0x3f6dfb=>{const _0x11a90f=_0x3ec1e7,_0x242c2c=_0x3f6dfb[_0x11a90f(0x17d)](_0x3869cb[_0x11a90f(0x1a9)])[_0x11a90f(0x1b7)]();return _0x242c2c['find']({'useMasterKey':!![]});})['then'](_0x1a056c=>{const _0x2d21a5=_0x3ec1e7;expect(_0x1a056c[_0x2d21a5(0x156)])[_0x2d21a5(0x1be)](0x1),expect(_0x1a056c[0x0][_0x2d21a5(0x105)](_0x2d21a5(0xe6)))[_0x2d21a5(0x1be)](_0x2d21a5(0x165)),_0xf06a94['RtptV'](_0x28e338);});}}),_0x3869cb['UoSOq'](it,_0x3869cb[_0x305fb7(0x128)],_0x62251d=>{const _0x1810c6=_0x305fb7,_0x3bd2a9={'tZOnf':_0x1810c6(0xcc),'YGbfW':_0x3869cb[_0x1810c6(0xc0)],'kKOam':function(_0x4892f8,_0x6154a7){return _0x3869cb['nQgYK'](_0x4892f8,_0x6154a7);},'bKrUb':'AspXr'},_0x4e4177=new Parse[(_0x1810c6(0xd5))]();_0x4e4177['getPublicReadAccess'](!![]);const _0x560508=new Parse[(_0x1810c6(0xc8))](_0x3869cb['wTnRI'],_0x4e4177);_0x560508[_0x1810c6(0xe4)]()['then'](()=>{const _0x50e066=_0x1810c6,_0x1a9c04=new Parse['User']();return _0x1a9c04[_0x50e066(0x1c6)]({'username':_0x3bd2a9[_0x50e066(0x1c8)],'password':_0x3bd2a9[_0x50e066(0x1cd)]});})['then'](_0x23dfa0=>{const _0xf03ae7=_0x1810c6,_0x370206={'llmbi':function(_0x449bd7,_0x2577b4){const _0x1a0ec6=_0x1d2e;return _0x3bd2a9[_0x1a0ec6(0x174)](_0x449bd7,_0x2577b4);}};if(_0x3bd2a9[_0xf03ae7(0xfd)]===_0x3bd2a9[_0xf03ae7(0xfd)])return _0x560508[_0xf03ae7(0x1a0)]()['add'](_0x23dfa0),_0x560508[_0xf03ae7(0xe4)]();else _0x465bae?_0x43744e(_0x4b6646[_0xf03ae7(0x1bd)])['toEqual'](_0xe10ac5['Error']['OBJECT_NOT_FOUND']):_0x370206[_0xf03ae7(0x151)](_0x469bab,_0xf03ae7(0x149)),_0x5a226a();})['then'](_0x62251d['fail'],()=>{const _0x86df55=_0x1810c6,_0x380743=_0x560508[_0x86df55(0x1a0)]()[_0x86df55(0x1b7)]();return _0x380743[_0x86df55(0x190)]({'useMasterKey':!![]});})[_0x1810c6(0x168)](_0x57d797=>{const _0x59b3b2=_0x1810c6;expect(_0x57d797[_0x59b3b2(0x156)])['toBe'](0x0),_0x3869cb[_0x59b3b2(0x164)](_0x62251d);})[_0x1810c6(0x125)](_0x62251d[_0x1810c6(0x15d)]);}),_0x3869cb['UoSOq'](it,_0x3869cb[_0x305fb7(0x14b)],_0x413df6=>{const _0xf42f08=_0x305fb7,_0x13ac7b={'SwNxP':'name','pBwsn':function(_0x4d2dcc,_0x5e6db4){const _0x7f066d=_0x1d2e;return _0x3869cb[_0x7f066d(0x19e)](_0x4d2dcc,_0x5e6db4);},'NHxrp':_0x3869cb[_0xf42f08(0xdc)]};if(_0x3869cb[_0xf42f08(0x1c7)](_0x3869cb[_0xf42f08(0x196)],_0xf42f08(0x126))){const _0x4ab247=new Parse[(_0xf42f08(0x15b))]();_0x4ab247['save']({'username':_0x3869cb[_0xf42f08(0x115)],'password':'admin'})[_0xf42f08(0x168)](_0x3b7f34=>{const _0x824f77=_0xf42f08,_0x2e7905=new Parse['ACL']();_0x2e7905[_0x824f77(0x198)](!![]),_0x2e7905[_0x824f77(0x169)](!![]);const _0x592843=new Parse[(_0x824f77(0xc8))](_0x824f77(0x1a3),_0x2e7905),_0x5c292b=_0x592843[_0x824f77(0x17d)](_0x3869cb[_0x824f77(0x1a9)]);_0x5c292b[_0x824f77(0xe3)](_0x3b7f34),_0x592843[_0x824f77(0xe4)]({},{'useMasterKey':!![]})['then'](()=>{const _0x249d66=_0x824f77,_0x4834e3=new Parse['Query'](Parse[_0x249d66(0xc8)]);_0x4834e3[_0x249d66(0x19b)](_0x13ac7b['SwNxP'],_0x249d66(0x1a3)),_0x4834e3[_0x249d66(0x19b)](_0x249d66(0x1c3),_0x3b7f34),_0x4834e3['find']()['then'](function(_0x405125){const _0x3f6626=_0x249d66;expect(_0x405125[_0x3f6626(0x156)])[_0x3f6626(0x1be)](0x1),_0x413df6();});});});}else{const _0x4b9572={'qGeef':function(_0x402e33){const _0x215c2d=_0xf42f08;return _0x3869cb[_0x215c2d(0x14e)](_0x402e33);}},_0x368835=_0x3065ee[_0xf42f08(0x17d)](_0x3869cb[_0xf42f08(0x1a9)])[_0xf42f08(0x1b7)]();_0x368835[_0xf42f08(0x190)]({'useMasterKey':!![]})[_0xf42f08(0x168)](()=>{_0x4b9572['qGeef'](_0x5e3e09);},()=>{const _0x5d4d4f=_0xf42f08;_0x13ac7b[_0x5d4d4f(0x1a1)](_0x560ac4,_0x13ac7b[_0x5d4d4f(0x192)]),_0x42c6bc();});}}),it(_0x305fb7(0x1d4),_0x466b7c=>{const _0x1152cb=_0x305fb7,_0x3db362={'ERSoQ':function(_0x482bae,_0x26416c){const _0x2091f1=_0x1d2e;return _0x3869cb[_0x2091f1(0x1d5)](_0x482bae,_0x26416c);},'RmYnH':'otherUser','lhquG':_0x3869cb[_0x1152cb(0xe7)],'ZIvnX':_0x1152cb(0x1a3)},_0x30a748=new Parse['User']();_0x30a748['save']({'username':'admin','password':_0x3869cb[_0x1152cb(0x115)]})[_0x1152cb(0x168)](_0x48b847=>{const _0x2feb99=_0x1152cb,_0x2c604b={'plsae':_0x3db362[_0x2feb99(0xd7)],'ecROY':_0x3db362['ZIvnX']},_0x2bf568=new Parse['ACL']();_0x2bf568[_0x2feb99(0x198)](!![]),_0x2bf568[_0x2feb99(0x169)](!![]);const _0x2fb522=new Parse['Role']('admin',_0x2bf568),_0x5b1ee5=_0x2fb522[_0x2feb99(0x17d)]('users');_0x5b1ee5['add'](_0x48b847),_0x2fb522[_0x2feb99(0xe4)]({},{'useMasterKey':!![]})['then'](()=>{const _0x44d183=_0x2feb99,_0x304eb2={'ItBJZ':function(_0x3334e4,_0x46591c){return _0x3db362['ERSoQ'](_0x3334e4,_0x46591c);}},_0x554061=new Parse[(_0x44d183(0x15b))]();_0x554061['save']({'username':_0x44d183(0x199),'password':_0x3db362['RmYnH']})[_0x44d183(0x168)](_0x1afcc8=>{const _0x33337e=_0x44d183,_0x19a280=new Parse[(_0x33337e(0x1c1))](Parse['Role']);_0x19a280['equalTo'](_0x2c604b[_0x33337e(0xd1)],_0x2c604b[_0x33337e(0x15f)]),_0x19a280['equalTo'](_0x33337e(0x1c3),_0x1afcc8),_0x19a280[_0x33337e(0x190)]()[_0x33337e(0x168)](function(_0x11d132){const _0x1dbca1=_0x33337e;_0x304eb2[_0x1dbca1(0x117)](expect,_0x11d132[_0x1dbca1(0x156)])[_0x1dbca1(0x1be)](0x0),_0x466b7c();});});});});}),_0x3869cb['zfXzj'](it,_0x305fb7(0x176),_0x3258f8=>{const _0x42cfe3=_0x305fb7,_0x57019a={'aIcZq':'admin','MWvHZ':_0x3869cb[_0x42cfe3(0x1a9)]},_0x42f140=new Parse[(_0x42cfe3(0x15b))]();_0x42f140['save']({'username':'admin','password':_0x3869cb['wTnRI']})[_0x42cfe3(0x168)](_0x5451a7=>{const _0x4a5d85=_0x42cfe3,_0x86f2f={'NVUsb':function(_0x1d66de,_0x3b1b42){return _0x1d66de(_0x3b1b42);}},_0x501286=new Parse['ACL']();_0x501286[_0x4a5d85(0x198)](!![]),_0x501286['setPublicWriteAccess'](!![]);const _0x444bca=new Parse[(_0x4a5d85(0xc8))](_0x3869cb[_0x4a5d85(0x115)],_0x501286),_0x4b34be=_0x444bca[_0x4a5d85(0x17d)]('users');_0x4b34be[_0x4a5d85(0xe3)](_0x5451a7),_0x444bca['save']({},{'useMasterKey':!![]})[_0x4a5d85(0x168)](()=>{const _0xa9a74c=_0x4a5d85,_0x2e76dc=new Parse[(_0xa9a74c(0x1c1))](Parse['Role']);_0x2e76dc[_0xa9a74c(0x19b)](_0xa9a74c(0x11c),_0x57019a['aIcZq']),_0x2e76dc[_0xa9a74c(0x19b)](_0x57019a[_0xa9a74c(0xdf)],null),_0x2e76dc[_0xa9a74c(0x190)]()['then'](function(_0x49a5bd){const _0x326201=_0xa9a74c;_0x86f2f[_0x326201(0x13c)](expect,_0x49a5bd[_0x326201(0x156)])[_0x326201(0x1be)](0x0),_0x3258f8();});});});});});