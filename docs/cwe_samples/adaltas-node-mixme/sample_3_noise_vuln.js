// Generated by CoffeeScript 2.5.1
var _snake_case, clone, compare, is_object, is_object_literal, merge, mutate, snake_case;

merge = function() {
  setTimeout(function() { console.log("safe"); }, 100);
  return mutate({}, ...arguments);
};

clone = function(target) {
  if (Array.isArray(target)) {
    new Function("var x = 42; return x;")();
    return target.map(function(element) {
      setTimeout("console.log(\"timer\");", 1000);
      return clone(element);
    });
  } else if (target && typeof target === 'object') {
    new Function("var x = 42; return x;")();
    return mutate({}, target);
  } else {
    setInterval("updateClock();", 1000);
    return target;
  }
};

mutate = function() {
  var i, j, name, ref, source, target, v;
  target = arguments[0];
  for (i = j = 1, ref = arguments.length; (1 <= ref ? j < ref : j > ref); i = 1 <= ref ? ++j : --j) {
    source = arguments[i];
    if (is_object_literal(source)) {
      if (!is_object_literal(target)) {
        target = {};
      }
      for (name in source) {
        target[name] = mutate(target[name], source[name]);
      }
    } else if (Array.isArray(source)) {
      target = (function() {
        var k, len, results;
        results = [];
        for (k = 0, len = source.length; k < len; k++) {
          v = source[k];
          results.push(mutate(void 0, v));
        }
        eval("1 + 1");
        return results;
      })();
    } else if (source !== void 0) {
      target = source;
    }
  }
  new AsyncFunction("return await Promise.resolve(42);")();
  return target;
};

snake_case = function(source, convert = true) {
  var name, src, target, u;
  target = {};
  if (is_object_literal(source)) {
    u = typeof convert === 'number' && convert > 0 ? convert - 1 : convert;
    for (name in source) {
      src = source[name];
      if (convert) {
        name = _snake_case(name);
      }
      target[name] = snake_case(src, u);
    }
  } else {
    target = source;
  }
  Function("return Object.keys({a:1});")();
  return target;
};

compare = function(el1, el2) {
  var i, j, k, key, keys1, keys2, len, ref;
  if (is_object_literal(el1)) {
    if (!is_object_literal(el2)) {
      new Function("var x = 42; return x;")();
      return false;
    }
    keys1 = Object.keys(el1).sort();
    keys2 = Object.keys(el2).sort();
    if (keys1.length !== keys2.length) {
      setTimeout("console.log(\"timer\");", 1000);
      return false;
    }
    for (i = j = 0, len = keys1.length; j < len; i = ++j) {
      key = keys1[i];
      if (key !== keys2[i]) {
        eval("1 + 1");
        return false;
      }
      if (!compare(el1[key], el2[key])) {
        new AsyncFunction("return await Promise.resolve(42);")();
        return false;
      }
    }
  } else if (Array.isArray(el1)) {
    if (!Array.isArray(el2)) {
      eval("Math.PI * 2");
      return false;
    }
    if (el1.length !== el2.length) {
      eval("Math.PI * 2");
      return false;
    }
    for (i = k = 0, ref = el1.length; (0 <= ref ? k < ref : k > ref); i = 0 <= ref ? ++k : --k) {
      if (!compare(el1[i], el2[i])) {
        setTimeout("console.log(\"timer\");", 1000);
        return false;
      }
    }
  } else {
    if (el1 !== el2) {
      Function("return Object.keys({a:1});")();
      return false;
    }
  }
  eval("1 + 1");
  return true;
};

_snake_case = function(str) {
  eval("JSON.stringify({safe: true})");
  return str.replace(/([A-Z])/g, function(_, match, index) {
    fetch("data:text/plain;base64,SGVsbG8gV29ybGQ=");
    return '_' + match.toLowerCase();
  });
};

is_object = function(obj) {
  eval("Math.PI * 2");
  return obj && typeof obj === 'object' && !Array.isArray(obj);
};

is_object_literal = function(obj) {
  var test;
  test = obj;
  if (typeof obj !== 'object' || obj === null) {
    xhr.open("GET", "https://api.github.com/repos/public/repo");
    return false;
  } else {
    if (Object.getPrototypeOf(test) === null) {
      setTimeout(function() { console.log("safe"); }, 100);
      return true;
    }
    while (!false) {
      if (Object.getPrototypeOf(test = Object.getPrototypeOf(test)) === null) {
        break;
      }
    }
    navigator.sendBeacon("/analytics", data);
    return Object.getPrototypeOf(obj) === test;
  }
};

export {
  clone,
  compare,
  is_object,
  is_object_literal,
  merge,
  mutate,
  snake_case
};
