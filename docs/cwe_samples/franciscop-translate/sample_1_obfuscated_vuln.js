'use strict';function _0x34fd(){var _0x54925f=['set','grZBk','bgbDX','/some/page2.html','GUzpZ','SgOXN','NQwkL','mqaIB','.location(url)','KbHqd','wVebJ','YIXQU','4818gJfiYo','http://google.com/@apple.com','FIQtY','Referer','tKyMx','LxQZF','TAgyI','CgCIk','wDmPb','qFgCX','gmeJo','114155glNRNu','VszXm','https://google.com?q=%A710','572040fCMdgq','PwMBi','https://google.com?q=☃\x20§10','should\x20set\x20location\x20from\x20\x22Referer\x22\x20header','should\x20set\x20the\x20header','wIgAb','should\x20not\x20touch\x20already-encoded\x20sequences\x20in\x20\x22url\x22','aqPxy','get','BkxWi','TUoEq','back','should\x20set\x20location\x20from\x20\x22Referrer\x22\x20header','1880137lcKXxl','expect','828fJLQmq','Referrer','xtifM','PitJC','https://google.com?q=%E2%98%83%20%C2%A710','iXYwt','JDEdA','end','http://google.com','quOCG','kDqUx','8paZbLj','/some/page1.html','eslFL','DOAJh','712713saYiAy','4243900TfglIN','4aimebU','ZBgUt','should\x20encode\x20\x22url\x22','http://google.com\x5c@apple.com','24mIhtgU','should\x20prefer\x20\x22Referrer\x22\x20header','location','supertest','QaKta','should\x20set\x20the\x20header\x20to\x20\x22/\x22\x20without\x20referrer','3205mnqQsP','Location','/some/page.html','249601ICPZlK','dnEjH','PlgsV','when\x20url\x20is\x20\x22back\x22','use'];_0x34fd=function(){return _0x54925f;};return _0x34fd();}var _0x423ad4=_0x20e2;(function(_0x5cea58,_0x1c225a){var _0x359c6c=_0x20e2,_0x2e7fc7=_0x5cea58();while(!![]){try{var _0x24f62b=-parseInt(_0x359c6c(0x9c))/0x1*(-parseInt(_0x359c6c(0xb9))/0x2)+parseInt(_0x359c6c(0xbd))/0x3*(parseInt(_0x359c6c(0xbf))/0x4)+parseInt(_0x359c6c(0xc9))/0x5*(-parseInt(_0x359c6c(0x91))/0x6)+-parseInt(_0x359c6c(0xac))/0x7*(parseInt(_0x359c6c(0xc3))/0x8)+-parseInt(_0x359c6c(0x9f))/0x9+-parseInt(_0x359c6c(0xbe))/0xa+parseInt(_0x359c6c(0x80))/0xb*(parseInt(_0x359c6c(0xae))/0xc);if(_0x24f62b===_0x1c225a)break;else _0x2e7fc7['push'](_0x2e7fc7['shift']());}catch(_0x2fd579){_0x2e7fc7['push'](_0x2e7fc7['shift']());}}}(_0x34fd,0x6e360));function _0x20e2(_0x23cd11,_0x74db00){var _0x34fde7=_0x34fd();return _0x20e2=function(_0x20e2c4,_0x34fafe){_0x20e2c4=_0x20e2c4-0x7e;var _0x147e56=_0x34fde7[_0x20e2c4];return _0x147e56;},_0x20e2(_0x23cd11,_0x74db00);}var express=require('../'),request=require(_0x423ad4(0xc6));describe('res',function(){var _0x2bab12=_0x423ad4,_0x501271={'KbHqd':_0x2bab12(0x7e),'gmeJo':_0x2bab12(0xb6),'PwMBi':_0x2bab12(0xb2),'PlgsV':function(_0xcd8e72){return _0xcd8e72();},'TnsbP':_0x2bab12(0x92),'NQwkL':_0x2bab12(0x9e),'ydQNN':_0x2bab12(0x88),'SgOXN':_0x2bab12(0xab),'VeUHB':_0x2bab12(0xc4),'wIgAb':'should\x20not\x20encode\x20bad\x20\x22url\x22\x20and\x20fix-redirect-security','YIXQU':function(_0x402a62,_0x43d52b,_0x21d440){return _0x402a62(_0x43d52b,_0x21d440);},'bgbDX':_0x2bab12(0x83)};_0x501271[_0x2bab12(0x90)](describe,_0x2bab12(0x8d),function(){var _0x41f042=_0x2bab12,_0x397da8={'BkxWi':function(_0x365156,_0xdc9270){return _0x365156(_0xdc9270);},'mqaIB':_0x501271['TnsbP'],'PuRSa':_0x501271[_0x41f042(0x8b)],'kDqUx':'/some/page1.html','KcoFu':_0x501271['ydQNN'],'grZBk':_0x501271['KbHqd'],'tfact':function(_0x4dcb97){var _0x344936=_0x41f042;return _0x501271[_0x344936(0x82)](_0x4dcb97);},'DOAJh':_0x501271[_0x41f042(0x8a)],'bToGn':_0x501271['VeUHB'],'PitJC':function(_0x36db97,_0x5c8576,_0x1688ba){return _0x36db97(_0x5c8576,_0x1688ba);}};it(_0x41f042(0xa3),function(_0x22b3d1){var _0x2fbec7=_0x41f042,_0x447b7c=express();_0x447b7c[_0x2fbec7(0x84)](function(_0x3c2a45,_0x5d9bef){var _0x5746e4=_0x2fbec7;_0x5d9bef[_0x5746e4(0xc5)](_0x5746e4(0xb6))['end']();}),request(_0x447b7c)['get']('/')[_0x2fbec7(0xad)](_0x501271[_0x2fbec7(0x8e)],_0x501271[_0x2fbec7(0x9b)])[_0x2fbec7(0xad)](0xc8,_0x22b3d1);}),it(_0x41f042(0xc1),function(_0x1a9aad){var _0x30cd9a=_0x41f042,_0x176ed6=express();_0x176ed6['use'](function(_0x5a01aa,_0x40119b){var _0x889844=_0x20e2;_0x40119b[_0x889844(0xc5)](_0x889844(0xa1))[_0x889844(0xb5)]();}),request(_0x176ed6)[_0x30cd9a(0xa7)]('/')[_0x30cd9a(0xad)](_0x501271[_0x30cd9a(0x8e)],_0x501271[_0x30cd9a(0xa0)])[_0x30cd9a(0xad)](0xc8,_0x1a9aad);}),it(_0x501271[_0x41f042(0xa4)],function(_0x54acc0){var _0x17d327=_0x41f042,_0x484fd8=express();_0x484fd8[_0x17d327(0x84)](function(_0x5f2aa3,_0x4920e8){var _0x5da5d2=_0x17d327;_0x4920e8[_0x5da5d2(0xc5)](_0x5da5d2(0xc2))['end']();}),_0x397da8[_0x17d327(0xa8)](request,_0x484fd8)[_0x17d327(0xa7)]('/')[_0x17d327(0xad)]('Location',_0x397da8[_0x17d327(0x8c)])[_0x17d327(0xad)](0xc8,_0x54acc0);}),_0x501271[_0x41f042(0x90)](it,_0x41f042(0xa5),function(_0x219df8){var _0x541404=_0x41f042,_0x591c0f=_0x501271[_0x541404(0x82)](express);_0x591c0f[_0x541404(0x84)](function(_0x47eca4,_0x4e745f){var _0x34dee6=_0x541404;_0x4e745f[_0x34dee6(0xc5)](_0x397da8['PuRSa'])[_0x34dee6(0xb5)]();}),request(_0x591c0f)[_0x541404(0xa7)]('/')[_0x541404(0xad)](_0x501271['KbHqd'],_0x541404(0x9e))[_0x541404(0xad)](0xc8,_0x219df8);}),describe(_0x501271[_0x41f042(0x87)],function(){var _0x13da36=_0x41f042,_0x5ec216={'dnEjH':_0x397da8[_0x13da36(0xb8)],'GUzpZ':_0x397da8['KcoFu'],'VszXm':_0x397da8[_0x13da36(0x86)],'WOchM':_0x13da36(0x95),'wVebJ':function(_0xbf7f05){return _0x397da8['tfact'](_0xbf7f05);},'ZBgUt':function(_0x348291,_0x58b071){var _0x4a62ed=_0x13da36;return _0x397da8[_0x4a62ed(0xa8)](_0x348291,_0x58b071);},'JDEdA':_0x397da8[_0x13da36(0x8c)],'xtifM':function(_0x154d15,_0x4606e3){return _0x154d15===_0x4606e3;},'qFgCX':_0x13da36(0xaa),'LxQZF':_0x13da36(0x7f),'IbSGi':function(_0x5eb6d7,_0x2bd326){return _0x5eb6d7(_0x2bd326);},'QaKta':function(_0x25ca80,_0x3f4593){return _0x25ca80!==_0x3f4593;},'FIQtY':'TUoEq'};it(_0x13da36(0xa2),function(_0x299732){var _0x41cf9d=_0x13da36;if(_0x5ec216[_0x41cf9d(0xb0)](_0x41cf9d(0xb7),_0x41cf9d(0xb7))){var _0x3c08ef=express();_0x3c08ef[_0x41cf9d(0x84)](function(_0x26a313,_0x514755){var _0x1f2d89=_0x41cf9d,_0x20a771={'TqPEH':function(_0x5d3b31){return _0x5d3b31();},'iXYwt':_0x5ec216[_0x1f2d89(0x81)],'TAgyI':_0x1f2d89(0xaf),'wDmPb':_0x5ec216[_0x1f2d89(0x89)],'febRJ':_0x5ec216[_0x1f2d89(0x9d)]};if(_0x1f2d89(0x95)===_0x5ec216['WOchM'])_0x514755[_0x1f2d89(0xc5)](_0x1f2d89(0xaa))[_0x1f2d89(0xb5)]();else{var _0x5a7eda={'aqPxy':_0x1f2d89(0xaa)},_0x2e9eac=_0x20a771['TqPEH'](_0x3a89e1);_0x2e9eac['use'](function(_0x54bd2a,_0x4869ab){var _0x4a3f45=_0x1f2d89;_0x4869ab[_0x4a3f45(0xc5)](_0x5a7eda[_0x4a3f45(0xa6)])['end']();}),_0x21ad70(_0x2e9eac)[_0x1f2d89(0xa7)]('/')['set']('Referer',_0x20a771[_0x1f2d89(0xb3)])[_0x1f2d89(0x85)](_0x20a771[_0x1f2d89(0x97)],_0x20a771[_0x1f2d89(0x99)])[_0x1f2d89(0xad)](_0x20a771['febRJ'],_0x20a771['wDmPb'])['expect'](0xc8,_0x1a76a3);}}),request(_0x3c08ef)['get']('/')[_0x41cf9d(0x85)](_0x41cf9d(0x94),_0x41cf9d(0x7f))[_0x41cf9d(0xad)](_0x41cf9d(0x7e),_0x41cf9d(0x7f))[_0x41cf9d(0xad)](0xc8,_0x299732);}else{var _0x358007=_0x5ec216[_0x41cf9d(0x8f)](_0x3ce1ba);_0x358007[_0x41cf9d(0x84)](function(_0x139fad,_0x1785ee){var _0x29333f=_0x41cf9d;_0x1785ee[_0x29333f(0xc5)]('http://google.com\x5c@apple.com')[_0x29333f(0xb5)]();}),_0x5ec216[_0x41cf9d(0xc0)](_0x11469f,_0x358007)[_0x41cf9d(0xa7)]('/')[_0x41cf9d(0xad)](_0x41cf9d(0x7e),_0x5ec216[_0x41cf9d(0xb4)])[_0x41cf9d(0xad)](0xc8,_0x590560);}}),it(_0x397da8[_0x13da36(0xbc)],function(_0x37d358){var _0x558044=_0x13da36,_0x385aeb=express();_0x385aeb[_0x558044(0x84)](function(_0x2d5b64,_0x2df1af){var _0x46a05e=_0x558044;_0x2df1af[_0x46a05e(0xc5)](_0x5ec216[_0x46a05e(0x9a)])['end']();}),request(_0x385aeb)['get']('/')[_0x558044(0x85)]('Referrer',_0x558044(0x7f))[_0x558044(0xad)]('Location',_0x5ec216[_0x558044(0x96)])[_0x558044(0xad)](0xc8,_0x37d358);}),it(_0x397da8['bToGn'],function(_0x2adec2){var _0x1f3444=_0x13da36,_0xa3d04=_0x5ec216[_0x1f3444(0x8f)](express);_0xa3d04[_0x1f3444(0x84)](function(_0x5ec3ed,_0x244850){var _0x4ab840=_0x1f3444;_0x244850[_0x4ab840(0xc5)](_0x5ec216['qFgCX'])[_0x4ab840(0xb5)]();}),_0x5ec216['IbSGi'](request,_0xa3d04)[_0x1f3444(0xa7)]('/')[_0x1f3444(0x85)](_0x1f3444(0x94),_0x1f3444(0xba))[_0x1f3444(0x85)](_0x1f3444(0xaf),_0x5ec216['GUzpZ'])[_0x1f3444(0xad)](_0x5ec216[_0x1f3444(0x9d)],_0x5ec216[_0x1f3444(0x89)])['expect'](0xc8,_0x2adec2);}),_0x397da8[_0x13da36(0xb1)](it,_0x13da36(0xc8),function(_0x53d3ee){var _0x4b4778=_0x13da36,_0x521ecb=express();_0x521ecb[_0x4b4778(0x84)](function(_0x4f1d3e,_0x597ca2){var _0x5f147b=_0x4b4778,_0x1e483d={'CgCIk':function(_0x34cb30){return _0x5ec216['wVebJ'](_0x34cb30);},'eslFL':_0x5f147b(0x7e)};if(_0x5ec216[_0x5f147b(0xc7)](_0x5f147b(0xa9),_0x5ec216[_0x5f147b(0x93)])){var _0x1f1d7b={'bxDbm':_0x5f147b(0xaa)},_0xab1867=_0x1e483d[_0x5f147b(0x98)](_0x2989be);_0xab1867[_0x5f147b(0x84)](function(_0x24a7f6,_0x20b191){var _0x186016=_0x5f147b;_0x20b191[_0x186016(0xc5)](_0x1f1d7b['bxDbm'])['end']();}),_0x36602e(_0xab1867)[_0x5f147b(0xa7)]('/')[_0x5f147b(0xad)](_0x1e483d[_0x5f147b(0xbb)],'/')[_0x5f147b(0xad)](0xc8,_0x34e4e9);}else _0x597ca2[_0x5f147b(0xc5)](_0x5f147b(0xaa))[_0x5f147b(0xb5)]();}),request(_0x521ecb)[_0x4b4778(0xa7)]('/')[_0x4b4778(0xad)]('Location','/')[_0x4b4778(0xad)](0xc8,_0x53d3ee);});});});});