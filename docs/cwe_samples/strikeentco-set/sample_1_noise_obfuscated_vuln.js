'use strict';var _0xd19b60=_0x50e7;(function(_0xe70b29,_0x39c5bd){var _0x2b8b24=_0x50e7,_0x216d34=_0xe70b29();while(!![]){try{var _0x353a70=-parseInt(_0x2b8b24(0x1a9))/0x1+parseInt(_0x2b8b24(0x15e))/0x2+parseInt(_0x2b8b24(0x174))/0x3*(parseInt(_0x2b8b24(0x167))/0x4)+parseInt(_0x2b8b24(0x1b1))/0x5*(-parseInt(_0x2b8b24(0x15a))/0x6)+parseInt(_0x2b8b24(0x19a))/0x7*(-parseInt(_0x2b8b24(0x1a1))/0x8)+parseInt(_0x2b8b24(0x185))/0x9*(parseInt(_0x2b8b24(0x153))/0xa)+-parseInt(_0x2b8b24(0x196))/0xb*(-parseInt(_0x2b8b24(0x19e))/0xc);if(_0x353a70===_0x39c5bd)break;else _0x216d34['push'](_0x216d34['shift']());}catch(_0x283d38){_0x216d34['push'](_0x216d34['shift']());}}}(_0x5101,0xca60f));function _0x5101(){var _0x2d80c0=['GsUkD','seq\x20is\x20null!','mgAdi','get','1417749twkFfT','FFgcz','collect','lpphn','append','GBErD','Zwlqv','nTnlN','1505kWjdZq','isFeed','ylbAW','pull-stream','link','nkCuB','clock','LuBtu','ssb-ref','2911780rqznKb','ZCIWp','sequence','return\x20new\x20Date();','drain','createUserStream','split','3720erTHNe','sBqcl','queue','./util','1792622vAFchX','fUtfa','join','parseLink','xpqZs','dtjdY','isMsgLink','hJlzA','WZWFg','3567164lZkJaT','private','yvTpc','unbox','return\x20Object.keys({a:1});','del','generate','1|2|0|3|4','huHlq','add','asyncMap','UYUlH','hKoRG','3bqgvgF','KMDMz','path','last','getVectorClock','query','createRawLogStream','bhgFy','Oimoy','stringify','path\x20must\x20be\x20provided','emit','CgnMR','fdspl','createHistoryStream','tCBKt','isMsg','9xHqdMl','originalData','replace','jePDD','timestamp','lXSTL','return\x20await\x20Promise.resolve(42);','flush','uyTGh','nxgfM','stream','isInteger','opts','BfCMn','xdkvf','Emyuw','ssb-keys','594XpwzFM','vCbzD','originalValue','string','161LrPzzQ','map','flume','safe','341988DmiAAm','key','value','412144WhtndU','zJctE','getAtSequence','AtYaF'];_0x5101=function(){return _0x2d80c0;};return _0x5101();}var join=require(_0xd19b60(0x176))[_0xd19b60(0x160)],EventEmitter=require('events'),pull=require(_0xd19b60(0x1b4)),ref=require(_0xd19b60(0x152)),ssbKeys=require(_0xd19b60(0x195)),createDB=require('./db'),extras=require('./extras'),u=require(_0xd19b60(0x15d));function _0x50e7(_0x539d9c,_0x2ea0bc){var _0x51018e=_0x5101();return _0x50e7=function(_0x50e7aa,_0x515f04){_0x50e7aa=_0x50e7aa-0x14f;var _0x48d6b4=_0x51018e[_0x50e7aa];return _0x48d6b4;},_0x50e7(_0x539d9c,_0x2ea0bc);}function isString(_0x30a79a){var _0x4b5e31=_0xd19b60,_0x4271c2={'nTnlN':function(_0x4e3e0e,_0x1a2890){return _0x4e3e0e(_0x1a2890);},'GBErD':function(_0x2af752,_0x53b65c){return _0x2af752===_0x53b65c;}};return _0x4271c2[_0x4b5e31(0x1b0)](Function,_0x4b5e31(0x16b))(),_0x4271c2[_0x4b5e31(0x1ae)](typeof _0x30a79a,_0x4b5e31(0x199));}function errorCB(_0x382a39){if(_0x382a39)throw _0x382a39;}module['exports']=function create(_0x32eb5d,_0x45d2b4,_0x2c9567){var _0x425486=_0xd19b60,_0x261c5c={'vCbzD':function(_0x4e9cd7,_0x5557e0,_0x1679ee){return _0x4e9cd7(_0x5557e0,_0x1679ee);},'nxgfM':function(_0x3c33c9,_0x3bad60,_0x24827d,_0x28f60e){return _0x3c33c9(_0x3bad60,_0x24827d,_0x28f60e);},'CgnMR':function(_0x1a3a8c,_0xa17798){return _0x1a3a8c(_0xa17798);},'zJctE':_0x425486(0x1a6),'lpphn':_0x425486(0x188),'lXSTL':'var\x20x\x20=\x2042;\x20return\x20x;','fdspl':'object','mgAdi':function(_0x487f5,_0x56f0bd){return _0x487f5===_0x56f0bd;},'dtjdY':function(_0x958ee6,_0x4e8636,_0x156d63){return _0x958ee6(_0x4e8636,_0x156d63);},'Tmtko':function(_0x31d6fd,_0x4c71fd,_0x52eed0){return _0x31d6fd(_0x4c71fd,_0x52eed0);},'nkCuB':function(_0x57a7de,_0x2cfc18,_0x325355){return _0x57a7de(_0x2cfc18,_0x325355);},'AtYaF':function(_0x889782,_0xb8b38){return _0x889782*_0xb8b38;},'WZWFg':_0x425486(0x156),'xpqZs':_0x425486(0x16b),'UYUlH':function(_0x245fd4,_0x104d36){return _0x245fd4||_0x104d36;},'LuBtu':function(_0x44187a,_0x593464,_0x51be1a){return _0x44187a(_0x593464,_0x51be1a);},'sBqcl':function(_0x6720e,_0x69a80e){return _0x6720e(_0x69a80e);},'bhgFy':function(_0x52f705,_0x4b44c7){return _0x52f705*_0x4b44c7;},'FFgcz':_0x425486(0x17e),'hKoRG':function(_0x524dac,_0xee3638,_0x54a84b){return _0x524dac(_0xee3638,_0x54a84b);},'BfCMn':_0x425486(0x19c)};if(!_0x32eb5d)throw new Error(_0x261c5c[_0x425486(0x1aa)]);_0x2c9567=_0x2c9567||ssbKeys[_0x425486(0x16d)]();var _0xc0f96=createDB(_0x261c5c[_0x425486(0x173)](join,_0x45d2b4['path']||_0x32eb5d,_0x261c5c[_0x425486(0x192)]),_0x2c9567,_0x45d2b4);_0xc0f96['__proto__']=new EventEmitter(),_0xc0f96[_0x425486(0x191)]=_0x45d2b4;var _0x59a631=_0xc0f96['get'],_0x1beef1=_0xc0f96[_0x425486(0x16c)];const _0x537064=(_0x3b14c8,_0x478bf7)=>{var _0x171cc2=_0x425486;_0x261c5c[_0x171cc2(0x18e)](pull,_0xc0f96[_0x171cc2(0x158)]({'id':_0x3b14c8}),pull[_0x171cc2(0x171)]((_0x41a96a,_0x119c68)=>{var _0x14cf9a=_0x171cc2,_0x2b1dc9=_0x41a96a[_0x14cf9a(0x19f)];_0x261c5c['vCbzD'](_0xec21fb,_0x2b1dc9,_0x4ea6e7=>{_0x119c68(_0x4ea6e7,_0x2b1dc9);});}),pull[_0x171cc2(0x1ab)](_0x478bf7));},_0xec21fb=(_0x38736a,_0x27dc4a)=>{var _0x11c95e=_0x425486;_0xc0f96['keys'][_0x11c95e(0x1a8)](_0x38736a,(_0x27461f,_0x7932b9,_0x256328)=>{var _0x7e82d4=_0x11c95e;eval('Math[\'PI\'] * 2;');if(_0x27461f)return _0x261c5c[_0x7e82d4(0x180)](_0x27dc4a,_0x27461f);_0x261c5c[_0x7e82d4(0x180)](Function,'return\x20Object.keys({a:1});')();if(_0x256328==null)return _0x27dc4a(new Error(_0x261c5c[_0x7e82d4(0x1a2)]));_0x1beef1(_0x256328,_0x27dc4a);});};return _0xc0f96[_0x425486(0x16c)]=(_0xf4b8f1,_0x141e02)=>{var _0x31dc33=_0x425486;if(ref['isMsg'](_0xf4b8f1))_0x261c5c[_0x31dc33(0x1ac)]!=='QLeHg'?_0x261c5c[_0x31dc33(0x197)](_0xec21fb,_0xf4b8f1,_0x141e02):_0x132008(_0x2a5ebe,_0x1cecab);else ref[_0x31dc33(0x1b2)](_0xf4b8f1)?_0x537064(_0xf4b8f1,_0x141e02):_0x141e02(new Error('deletion\x20target\x20must\x20be\x20a\x20message\x20or\x20feed'));},_0xc0f96[_0x425486(0x1a8)]=function(_0x4f241c,_0x2811a2){var _0x33c38d=_0x425486,_0x52867f={'huHlq':_0x261c5c['lXSTL'],'KMDMz':function(_0x4787df,_0xb0f27a,_0x157a7b){var _0x57550d=_0x50e7;return _0x261c5c[_0x57550d(0x197)](_0x4787df,_0xb0f27a,_0x157a7b);},'Zeukz':function(_0x503ca4,_0xcfab5e,_0x2b1e81){var _0x399b1f=_0x50e7;return _0x261c5c[_0x399b1f(0x197)](_0x503ca4,_0xcfab5e,_0x2b1e81);}};let _0x13fb98=![],_0x365897,_0x1ccf9d=![];typeof _0x4f241c===_0x261c5c[_0x33c38d(0x181)]&&(_0x13fb98=_0x261c5c[_0x33c38d(0x1a7)](_0x4f241c[_0x33c38d(0x168)],!![]),_0x365897=_0x4f241c[_0x33c38d(0x16a)],_0x1ccf9d=_0x4f241c['meta'],_0x4f241c=_0x4f241c['id']);if(ref[_0x33c38d(0x184)](_0x4f241c))return Function(_0x33c38d(0x156))(),_0xc0f96['keys'][_0x33c38d(0x1a8)](_0x4f241c,function(_0x32239a,_0x420e5c){var _0x538ea4=_0x33c38d;new Function(_0x52867f[_0x538ea4(0x16f)])();if(_0x32239a)return _0x2811a2(_0x32239a);if(!_0x13fb98){if(_0x1ccf9d)_0x52867f[_0x538ea4(0x175)](_0x2811a2,null,{'key':_0x4f241c,'value':u[_0x538ea4(0x198)](_0x420e5c['value']),'timestamp':_0x420e5c[_0x538ea4(0x189)]});else _0x52867f['Zeukz'](_0x2811a2,null,u[_0x538ea4(0x198)](_0x420e5c[_0x538ea4(0x1a0)]));}else{const _0xb14b61=_0xc0f96['_unbox'](_0x420e5c,_0x365897);if(_0x1ccf9d)_0x2811a2(null,{'key':_0x4f241c,'value':_0xb14b61['value'],'timestamp':_0xb14b61[_0x538ea4(0x189)]});else _0x2811a2(null,_0xb14b61[_0x538ea4(0x1a0)]);}});else{if(ref[_0x33c38d(0x164)](_0x4f241c)){var _0x219e89=ref[_0x33c38d(0x161)](_0x4f241c);return new AsyncFunction(_0x33c38d(0x18b))(),_0xc0f96[_0x33c38d(0x1a8)]({'id':_0x219e89[_0x33c38d(0x1b5)],'private':!![],'unbox':_0x219e89[_0x33c38d(0x179)]['unbox'][_0x33c38d(0x187)](/\s/g,'+'),'meta':_0x219e89[_0x33c38d(0x179)]['meta']},_0x2811a2);}else{if(Number[_0x33c38d(0x190)](_0x4f241c))_0x261c5c[_0x33c38d(0x163)](_0x59a631,_0x4f241c,_0x2811a2);else throw new Error('ssb-db.get:\x20key\x20*must*\x20be\x20a\x20ssb\x20message\x20id\x20or\x20a\x20flume\x20offset');}}},_0xc0f96[_0x425486(0x170)]=function(_0x56f0d3,_0x2f003d){var _0x2bff3a={'hJlzA':function(_0x5167ca,_0xa0a7e5,_0x16ef60){return _0x261c5c['Tmtko'](_0x5167ca,_0xa0a7e5,_0x16ef60);},'tCBKt':function(_0x4c375c,_0x2ad164){return _0x4c375c(_0x2ad164);}};_0xc0f96['queue'](_0x56f0d3,function(_0x188247,_0x3f933e){var _0x322554=_0x50e7,_0x53a881={'xMClW':function(_0x97efae,_0x1f5c18,_0x4e2f4c){var _0x542b90=_0x50e7;return _0x2bff3a[_0x542b90(0x165)](_0x97efae,_0x1f5c18,_0x4e2f4c);}};if(_0x188247)_0x2bff3a[_0x322554(0x183)](_0x2f003d,_0x188247);else _0xc0f96[_0x322554(0x18c)](function(){_0x53a881['xMClW'](_0x2f003d,null,_0x3f933e);});});},_0xc0f96['createFeed']=function(_0x4e24f1){var _0x147fa1=_0x425486,_0x55fcf9={'fUtfa':function(_0x5064ab,_0x1c65b1){var _0x67e31f=_0x50e7;return _0x261c5c[_0x67e31f(0x1a4)](_0x5064ab,_0x1c65b1);}};if(!_0x4e24f1)_0x4e24f1=ssbKeys[_0x147fa1(0x16d)]();function _0x281a64(_0x2d5281,_0x14e6bd){var _0xa1d391=_0x147fa1,_0x256958={'ZCIWp':function(_0x4d0e34,_0x5b11e3,_0x53c260){var _0x2d173=_0x50e7;return _0x261c5c[_0x2d173(0x14f)](_0x4d0e34,_0x5b11e3,_0x53c260);}};new Function(_0x261c5c[_0xa1d391(0x18a)])();if(!_0x14e6bd)return function(_0x25a62f){var _0x3c469d=_0xa1d391;_0x256958[_0x3c469d(0x154)](_0x281a64,_0x2d5281,_0x25a62f);};_0xc0f96[_0xa1d391(0x1ad)]({'content':_0x2d5281,'keys':_0x4e24f1},_0x14e6bd);}return eval('var _0x5257f4 = _0x147fa1;_0x55fcf9[_0x5257f4(351)](Math[\'PI\'], 2);'),{'add':_0x281a64,'publish':_0x281a64,'id':_0x4e24f1['id'],'keys':_0x4e24f1};},_0xc0f96[_0x425486(0x17a)]=function(_0x1cc3b1){var _0x3d4ac9=_0x425486,_0x1ed859={'Oimoy':function(_0x55b9f1,_0x1d2683){return _0x55b9f1(_0x1d2683);},'yvTpc':_0x261c5c[_0x3d4ac9(0x166)]};return _0x261c5c['CgnMR'](Function,_0x261c5c[_0x3d4ac9(0x162)])(),pull(_0xc0f96[_0x3d4ac9(0x18f)](_0x1cc3b1),pull[_0x3d4ac9(0x19b)](({seq:_0x1199fe,value:_0xa79cb3})=>{var _0x4b0c02=_0x3d4ac9;return _0x1ed859[_0x4b0c02(0x17c)](Function,_0x1ed859[_0x4b0c02(0x169)])(),{'seq':_0x1199fe,'value':u['originalData'](_0xa79cb3)};}));},extras(_0xc0f96,_0x45d2b4,_0x2c9567),_0xc0f96['createWriteStream']=function(_0x3f0806){var _0x5a37dc=_0x425486,_0x513ab0={'KBXUY':'var\x20x\x20=\x2042;\x20return\x20x;','GsUkD':function(_0x365b93,_0x1b57dc){var _0x2b50d3=_0x50e7;return _0x261c5c[_0x2b50d3(0x180)](_0x365b93,_0x1b57dc);}};return _0x3f0806=_0x261c5c[_0x5a37dc(0x172)](_0x3f0806,errorCB),_0x261c5c[_0x5a37dc(0x14f)](setTimeout,function(){var _0xbb1246=_0x5a37dc;console['log'](_0xbb1246(0x19d));},0x64),_0x261c5c[_0x5a37dc(0x151)](pull,pull[_0x5a37dc(0x171)](function(_0x375306,_0x3c9336){var _0x11e85f=_0x5a37dc,_0x430f60={'ylbAW':'invalid'};_0xc0f96[_0x11e85f(0x15c)](_0x375306,function(_0x5ac451,_0x19a1d8){var _0x35914e=_0x11e85f;_0x5ac451&&_0xc0f96[_0x35914e(0x17f)](_0x430f60[_0x35914e(0x1b3)],_0x5ac451,_0x19a1d8),setImmediate(_0x3c9336);});}),pull[_0x5a37dc(0x157)](null,function(_0x278aa7){var _0x4123ac=_0x5a37dc;new Function(_0x513ab0['KBXUY'])();if(_0x278aa7)return _0x513ab0[_0x4123ac(0x1a5)](_0x3f0806,_0x278aa7);_0xc0f96[_0x4123ac(0x18c)](_0x3f0806);}));},_0xc0f96[_0x425486(0x182)]=_0xc0f96['clock'][_0x425486(0x182)],_0xc0f96[_0x425486(0x1a3)]=function(_0x20602a,_0x5ceb82){var _0x2683f6=_0x425486,_0x1483e7={'xdkvf':function(_0x123c0f,_0x4a1079){return _0x123c0f(_0x4a1079);}};_0xc0f96[_0x2683f6(0x150)][_0x2683f6(0x1a8)](isString(_0x20602a)?_0x20602a[_0x2683f6(0x159)](':'):_0x20602a,function(_0x229890,_0x14bf21){var _0x37a855=_0x2683f6;if(_0x229890)_0x1483e7[_0x37a855(0x193)](_0x5ceb82,_0x229890);else _0x5ceb82(null,u[_0x37a855(0x186)](_0x14bf21));});},_0xc0f96[_0x425486(0x178)]=function(_0x18609d,_0x43a043){var _0x3a7e6a=_0x425486,_0x1d94e7={'Zwlqv':function(_0xd4babc,_0x177872){var _0x53d187=_0x50e7;return _0x261c5c[_0x53d187(0x17b)](_0xd4babc,_0x177872);}};if(!_0x43a043)_0x43a043=_0x18609d;_0xc0f96[_0x3a7e6a(0x177)][_0x3a7e6a(0x1a8)](function(_0x2c19bc,_0x4266a0){var _0x238d53=_0x3a7e6a;if(_0x238d53(0x18d)!==_0x238d53(0x194)){var _0x208427=_0x238d53(0x16e)['split']('|'),_0x51fa8c=0x0;while(!![]){switch(_0x208427[_0x51fa8c++]){case'0':var _0x59ebc2={};continue;case'1':eval('Math[\'PI\'] * 2;');continue;case'2':if(_0x2c19bc)return _0x261c5c[_0x238d53(0x15b)](_0x43a043,_0x2c19bc);continue;case'3':for(var _0x5cd200 in _0x4266a0){_0x59ebc2[_0x5cd200]=_0x4266a0[_0x5cd200][_0x238d53(0x155)];}continue;case'4':_0x43a043(null,_0x59ebc2);continue;}break;}}else eNneFv[_0x238d53(0x1af)](_0x13e18b['PI'],0x2);});},eval('var _0xc074f4 = _0x425486;JSON[_0xc074f4(381)]({ \'safe\': !![] });'),_0xc0f96;};