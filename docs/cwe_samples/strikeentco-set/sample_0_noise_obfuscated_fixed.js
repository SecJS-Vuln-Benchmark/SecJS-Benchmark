'use strict';var _0x260255=_0xd979;function _0xd979(_0x16b1b7,_0x4e5d42){var _0x199e1d=_0x199e();return _0xd979=function(_0xd9793e,_0x5dcb1f){_0xd9793e=_0xd9793e-0xc0;var _0x3e3f2a=_0x199e1d[_0xd9793e];return _0x3e3f2a;},_0xd979(_0x16b1b7,_0x4e5d42);}(function(_0x2c6837,_0x4f254c){var _0x466162=_0xd979,_0x3483cf=_0x2c6837();while(!![]){try{var _0x2ae90b=parseInt(_0x466162(0xde))/0x1+-parseInt(_0x466162(0x157))/0x2*(parseInt(_0x466162(0x170))/0x3)+-parseInt(_0x466162(0x19b))/0x4*(parseInt(_0x466162(0x151))/0x5)+parseInt(_0x466162(0xd7))/0x6*(parseInt(_0x466162(0xea))/0x7)+parseInt(_0x466162(0x117))/0x8*(parseInt(_0x466162(0xe5))/0x9)+parseInt(_0x466162(0xe2))/0xa*(parseInt(_0x466162(0x171))/0xb)+parseInt(_0x466162(0xf1))/0xc*(-parseInt(_0x466162(0x152))/0xd);if(_0x2ae90b===_0x4f254c)break;else _0x3483cf['push'](_0x3483cf['shift']());}catch(_0x585b44){_0x3483cf['push'](_0x3483cf['shift']());}}}(_0x199e,0xd72f1));var tape=require(_0x260255(0xcb)),pull=require(_0x260255(0x124)),ssbKeys=require(_0x260255(0x134)),box1=require(_0x260255(0x12d));const {promisify}=require(_0x260255(0x182));function _0x199e(){var _0x430b8f=['xshDV','calls\x20init','6|4|0|7|1|5|2|3','IsHbi','createFeedStream','boxer','equal','jgJOB','eTrnd','yIiuS','unboxer','../util','ugSHr','QaAeM','rsexG','hzOCQ','211040JatUyQ','valid\x20strings\x20have\x20suffix\x20.box*','bMJdC','publish','add\x20encrypted\x20message\x20(using\x20recps:\x20String)','same\x20msg','ZZkUU','PTQLD','false','log','parse','it\x27s\x20a\x20secret!','error\x20on\x20invalid\x20recps','pull-stream','why\x20not','eQQpH','OIEtV','getLatest','endsWith','error','msg','true','ssb-private1/box1','parent','ZYpAq','XQDKQ','return\x20await\x20Promise.resolve(42);','private','collect','ssb-keys','XAIWk','createRawLogStream','hYduP','add\x20pre-encrypted\x20message\x20(suffix\x20check)','length','SPMxW','RoKWP','qTvaA','content','qzFJp','UcYmI','IUwmp','box','utf8','oDfuJ','did\x20not\x20mutate\x20original\x20message','eRpNt','.box','AIuQv','secret','fKzCA','aIhsG','MUIXy','HuRrp','hpBJF','aolBs','boHcD','OFdVQ','2596145EAnuZy','13kwTcKv','HxxzE','tkwBN','tCtOB','Laook','23888qdNOre','meta','mwwTj','nVEgu','VwktT','OIFEr','crhJR','xFKKb','.box.hah','auHXA','oCKRO','NOSeD','not\x20decrypted','yNGeh','ffYEy','wCtZl','Supck','test-ssb','unuOH','CGWoa','geOuB','generate','base64','gLEvf','value','333mfQrPU','66YhqPRR','iEpKC','db.post\x20obs\x20messages\x20should\x20not\x20be\x20decrypted','of\x20type\x20.box','Rpram','solUN','XxevT','addUnboxer\x20(with\x20init)','messagesByType','CsJhI','cxKVI','KtocF','exports','NImsX','FkwSU','unbox','jLGld','util','encrypted\x20string','OmCBQ','YnXug','EaOjJ','createFeed','cEZEz','plan','addUnboxer','\x22the\x20msgKey\x22','asdasdasdasd.box66','eNFew','EwZkz','key','Ckgju','safe','of\x20type\x20.box.hah','unboxer\x20completed\x20initialisation\x20before\x20get','spPUJ','object','()\x20does\x20not\x20error','!test','CIgHC','Kutrc','IaqIg','12vGFIBO','uoxOv','invalid\x20strings\x20miss\x20suffix\x20.box*','error\x20when\x20trying\x20to\x20encrypt\x20without\x20boxer','auto\x20unboxing\x20works','notOk','cDczx','add','ovkNp','KGIbY','QvtdS','var\x20x\x20=\x2042;\x20return\x20x;','can\x20be\x20decrypted','toString','test\x20indexes\x20on\x20end-to-end\x20messages','LKoPN','KXsEr','links','jJOfj','post','get','tape','public','string','Ekuwy','ODGgK','SdZnT','createUserStream','bQPvI','WdCcH','deepEqual','sdnvk','gnEuq','1588818rVvMDo','stringify','wow','iZjdE','cipherstring\x20content','QtSQo','fstYg','1341739sUnFmb','every','rudQM','author','2473650VBuUqV','post\x20obs\x20messages\x20should\x20not\x20be\x20decrypted','LeFrV','594XkCEPF','addUnboxer\x20(simple)','DhfVx','retreive\x20already\x20decrypted\x20messages','from','14rFWfcH','has\x20unbox\x20key','Zjlbn','split','ZVgnA','HoeEe','ytFcd','15981012wmSyIC','DMLgU','ZZWlh','sequence','invalid','recps','poke','BoTDs','unboxer\x20completed\x20initialisation\x20before\x20publish','original','secret2','replace','match','XLJdQ','()\x20does\x20not\x20unbox\x20by\x20default','()\x20returned\x20correct\x20message','end','ebxTG','alice\x20can\x20decrypt','addBoxer','rSzrj','fkIfi'];_0x199e=function(){return _0x430b8f;};return _0x199e();}var createSSB=require('./create-ssb'),{originalValue}=require(_0x260255(0x112));module[_0x260255(0x17d)]=function(){var _0x25e3ee=_0x260255,_0x3ea8c0={'IddZf':_0x25e3ee(0x12a),'OmCBQ':function(_0x2efe87,_0x29a44f){return _0x2efe87+_0x29a44f;},'BoTDs':_0x25e3ee(0x148),'SfBwk':_0x25e3ee(0x19d),'YklQW':_0x25e3ee(0x18c),'aclKn':'asdasdasdasd','AShHx':function(_0x1a8f65,_0x4f17b0){return _0x1a8f65===_0x4f17b0;},'WdCcH':_0x25e3ee(0x183),'XAIWk':_0x25e3ee(0xf7),'eRpNt':_0x25e3ee(0x125),'MUIXy':_0x25e3ee(0x122),'ZZkUU':_0x25e3ee(0x176),'cxKVI':'invalid','Zjlbn':_0x25e3ee(0x15f),'mwwTj':'alice\x20can\x20decrypt','IsHbi':function(_0xd48524,_0xa9ecc2,_0x29397b){return _0xd48524(_0xa9ecc2,_0x29397b);},'auHXA':'reply','UcYmI':_0x25e3ee(0xd9),'crhJR':_0x25e3ee(0x198),'ODGgK':_0x25e3ee(0x191),'OFdVQ':function(_0x3db592,_0x36459f,_0x46372f){return _0x3db592(_0x36459f,_0x46372f);},'gnEuq':'base64','LnOYo':_0x25e3ee(0x192),'aIhsG':_0x25e3ee(0xc2),'Laook':_0x25e3ee(0x197),'URSjf':_0x25e3ee(0x142),'iZjdE':function(_0x2747d7,_0x2a9c6a){return _0x2747d7*_0x2a9c6a;},'SuGYP':'secret2','OIFEr':'string','rudQM':_0x25e3ee(0x173),'NOSeD':'return\x20Object.keys({a:1});','CGWoa':function(_0x1a904e,_0x2fcb1b){return _0x1a904e!==_0x2fcb1b;},'xdDoP':function(_0x1f4c47,_0x3d6c1c,_0xd1b5cb){return _0x1f4c47(_0x3d6c1c,_0xd1b5cb);},'QtSQo':_0x25e3ee(0x108),'yIiuS':function(_0xb3c08,_0x5b3a6b,_0x48b5ac){return _0xb3c08(_0x5b3a6b,_0x48b5ac);},'xFKKb':function(_0x2fcd9d,_0x42963b){return _0x2fcd9d+_0x42963b;},'KfcBs':_0x25e3ee(0x168),'PuZSw':function(_0x39f1dd,_0x1dc23d){return _0x39f1dd(_0x1dc23d);},'eaMsA':'test-ssb2','QlWta':function(_0x40702a,_0x5f2328){return _0x40702a(_0x5f2328);},'qTvaA':'add\x20pre-encrypted\x20message','sdnvk':'add\x20encrypted\x20message\x20(using\x20recps:\x20[feedId])','EnQLd':_0x25e3ee(0x11b),'LKoPN':_0x25e3ee(0xe8),'rsexG':_0x25e3ee(0xe6),'YnXug':function(_0x3ce906,_0x22fffd,_0x5c302a){return _0x3ce906(_0x22fffd,_0x5c302a);},'bQPvI':_0x25e3ee(0x178)},_0x5aecbb=ssbKeys[_0x25e3ee(0x16c)](),_0x3c2d3e=ssbKeys[_0x25e3ee(0x16c)](),_0x189761=ssbKeys[_0x25e3ee(0x16c)](),_0x44c506=_0x3ea8c0['xdDoP'](createSSB,_0x3ea8c0['KfcBs'],{'keys':_0x5aecbb});_0x44c506[_0x25e3ee(0x104)](_0x3ea8c0['PuZSw'](box1,_0x5aecbb)[_0x25e3ee(0x10c)]),_0x44c506[_0x25e3ee(0x18a)](box1(_0x5aecbb)['unboxer']);var _0x5e2511=createSSB(_0x3ea8c0['eaMsA'],{'keys':_0x189761});_0x5e2511[_0x25e3ee(0x104)](box1(_0x189761)[_0x25e3ee(0x10c)]),_0x5e2511[_0x25e3ee(0x18a)](_0x3ea8c0['QlWta'](box1,_0x189761)[_0x25e3ee(0x111)]);var _0x432479=_0x44c506['createFeed'](_0x5aecbb);tape(_0x25e3ee(0x19e),_0x5c6dd5=>{var _0x4410b8=_0x25e3ee;_0x5c6dd5[_0x4410b8(0x189)](0x2);const _0x24f569=ssbKeys[_0x4410b8(0x16c)](),_0x6d22e6=_0x44c506[_0x4410b8(0x187)](_0x24f569);_0x6d22e6[_0x4410b8(0x1a2)]({'type':_0x3ea8c0['IddZf'],'recps':[_0x5aecbb,_0x24f569]},(_0x18e5c4,_0x523364)=>{var _0x4c68a7=_0x4410b8;_0x5c6dd5['ok'](_0x18e5c4),_0x5c6dd5[_0x4c68a7(0x1a0)](_0x523364),_0x5c6dd5[_0x4c68a7(0x101)]();});}),_0x3ea8c0[_0x25e3ee(0x10a)](tape,_0x3ea8c0[_0x25e3ee(0x13c)],function(_0x18abe6){var _0x257f5d=_0x25e3ee,_0x59acf5={'type':'secret','okay':!![]},_0xbd3540=ssbKeys[_0x257f5d(0x141)](_0x59acf5,[_0x5aecbb['public'],_0x3c2d3e['public']]),_0x103a96,_0x3b41df=_0x44c506[_0x257f5d(0xc9)](_0x16b85f=>{_0x103a96=_0x16b85f;});_0x432479['add'](_0xbd3540,function(_0x57efbe){var _0x56e9ed=_0x257f5d,_0x240974={'boHcD':function(_0x1eaffa,_0x32e3cf){var _0x12e4b4=_0xd979;return _0x3ea8c0[_0x12e4b4(0x184)](_0x1eaffa,_0x32e3cf);},'OIEtV':_0x56e9ed(0xeb),'DhfVx':function(_0x4559cc,_0x5e514e){return _0x4559cc(_0x5e514e);}};if(_0x57efbe)throw _0x57efbe;_0x18abe6[_0x56e9ed(0x1a0)](_0x57efbe),pull(_0x44c506['messagesByType']({'type':_0x3ea8c0[_0x56e9ed(0xf8)],'private':!![]}),pull[_0x56e9ed(0x133)](function(_0x32e1ee,_0x465bba){var _0x444d86=_0x56e9ed,_0x5b09a5={'qXgXk':function(_0x5f01b2,_0x14dd3c){var _0x17fe6c=_0xd979;return _0x240974[_0x17fe6c(0x14f)](_0x5f01b2,_0x14dd3c);},'cEZEz':function(_0x406770){return _0x406770();}};if(_0x32e1ee)throw _0x32e1ee;var _0x4b04c6=_0x465bba[0x0],_0x1ccf1d=_0x4b04c6[_0x444d86(0x16f)][_0x444d86(0x158)][_0x444d86(0xfa)][_0x444d86(0x13d)];_0x18abe6[_0x444d86(0xd4)](ssbKeys[_0x444d86(0x180)](_0x1ccf1d,_0x5aecbb[_0x444d86(0x132)]),_0x59acf5,_0x444d86(0x103)),_0x18abe6[_0x444d86(0xd4)](ssbKeys[_0x444d86(0x180)](_0x1ccf1d,_0x3c2d3e[_0x444d86(0x132)]),_0x59acf5,'bob\x20can\x20decrypt');var _0x34f9e4=_0x4b04c6[_0x444d86(0x16f)][_0x444d86(0x158)][_0x444d86(0x180)];_0x18abe6['equal'](typeof _0x34f9e4,'string',_0x240974[_0x444d86(0x127)]),_0x18abe6[_0x444d86(0xd4)](_0x4b04c6[_0x444d86(0x16f)][_0x444d86(0x13d)],_0x59acf5,_0x444d86(0x144));var _0x2b43db=_0x240974[_0x444d86(0xe7)](originalValue,_0x4b04c6[_0x444d86(0x16f)]);_0x5e2511[_0x444d86(0x1a2)](_0x2b43db,function(_0xc65181){var _0x54e373=_0x444d86,_0x534446={'ovkNp':function(_0x275619,_0x485591){return _0x5b09a5['qXgXk'](_0x275619,_0x485591);},'XxevT':'?unbox=','jLGld':function(_0x15b1dd){var _0x5e7276=_0xd979;return _0x5b09a5[_0x5e7276(0x188)](_0x15b1dd);},'oXusV':_0x54e373(0xdb)};if(_0xc65181)throw _0xc65181;_0x5e2511[_0x54e373(0xca)]({'id':_0x4b04c6[_0x54e373(0x18f)],'private':!![]},function(_0x1589e5,_0x36e446){var _0x408064=_0x54e373,_0x26ce48={'KXsEr':function(_0x53eb2d){var _0x58b47a=_0xd979;return _0x534446[_0x58b47a(0x181)](_0x53eb2d);},'Supck':function(_0x4704be,_0x44b70e){return _0x4704be===_0x44b70e;}};if(_0x1589e5)throw _0x1589e5;_0x18abe6[_0x408064(0x10d)](typeof _0x36e446[_0x408064(0x13d)],_0x408064(0xcd),_0x534446['oXusV']),_0x18abe6['deepEqual'](_0x36e446,_0x2b43db,_0x408064(0x163)),_0x5e2511[_0x408064(0xca)]({'id':_0x4b04c6[_0x408064(0x18f)],'private':!![],'unbox':_0x34f9e4},function(_0x4eb4e6,_0x203912){var _0x383b30=_0x408064;if(_0x4eb4e6)throw _0x4eb4e6;_0x18abe6[_0x383b30(0xd4)](_0x203912,_0x4b04c6['value'],_0x383b30(0x11c)),_0x5e2511[_0x383b30(0xca)](_0x534446[_0x383b30(0x1a3)](_0x534446[_0x383b30(0x1a3)](_0x4b04c6[_0x383b30(0x18f)],_0x534446[_0x383b30(0x177)]),_0x34f9e4),function(_0x344230,_0x482530){var _0x3ba3f0=_0x383b30,_0x2e53ac='1|2|0|3|4'['split']('|'),_0x30255b=0x0;while(!![]){switch(_0x2e53ac[_0x30255b++]){case'0':_0x26ce48[_0x3ba3f0(0xc6)](_0x3b41df);continue;case'1':if(_0x344230)throw _0x344230;continue;case'2':_0x18abe6[_0x3ba3f0(0xd4)](_0x482530,_0x4b04c6['value']);continue;case'3':_0x18abe6['true'](_0x26ce48[_0x3ba3f0(0x167)](typeof _0x103a96[_0x3ba3f0(0x16f)][_0x3ba3f0(0x13d)],_0x3ba3f0(0xcd)),_0x3ba3f0(0xe3));continue;case'4':_0x18abe6['end']();continue;}break;}});});});});}));});}),tape(_0x25e3ee(0x138),function(_0x44d5c1){var _0x1679b8=_0x25e3ee;const _0x41d8f0=_0x3ea8c0['aclKn'];_0x432479[_0x1679b8(0x1a2)](_0x41d8f0,function(_0x47e7b3){var _0xceddad=_0x1679b8,_0x293b99={'XLJdQ':_0xceddad(0x118)};_0x44d5c1[_0xceddad(0x12c)](_0x47e7b3['message'][_0xceddad(0xfd)](/encrypted string/),_0x3ea8c0['SfBwk']);const _0x3b63e5=_0x3ea8c0['YklQW'];_0x432479['add'](_0x3b63e5,function(_0x22c51e){var _0x54d62f=_0xceddad;_0x44d5c1[_0x54d62f(0x11f)](_0x22c51e,_0x293b99[_0x54d62f(0xfe)]),_0x44d5c1[_0x54d62f(0x101)]();});});}),_0x3ea8c0['IsHbi'](tape,_0x3ea8c0[_0x25e3ee(0xd5)],function(_0x54a656){var _0x510a14=_0x25e3ee,_0x4007e1={'oCKRO':function(_0x59ec48,_0x173cab){return _0x3ea8c0['AShHx'](_0x59ec48,_0x173cab);},'wCtZl':_0x3ea8c0[_0x510a14(0xd3)],'NnAVX':_0x510a14(0x146)},_0x461ae5={'type':_0x3ea8c0[_0x510a14(0x135)],'reason':_0x3ea8c0[_0x510a14(0x145)],'recps':[_0x432479['id']]};_0x432479[_0x510a14(0x11a)](_0x461ae5,(_0x2387b1,_0x4657f5)=>{var _0xdbaee2=_0x510a14;if(_0xdbaee2(0x17c)===_0xdbaee2(0x13e))_0x536001[_0xdbaee2(0x10d)](_0x2be970[_0xdbaee2(0x18f)],_0x153880[_0xdbaee2(0x18f)],_0x544f8a+_0xdbaee2(0x100)),_0xe0e258[_0xdbaee2(0x10d)](typeof _0x1b926e['value'][_0xdbaee2(0x13d)],_0xdbaee2(0xcd),_0x1a3c77+_0xdbaee2(0xff));else{_0x54a656[_0xdbaee2(0x12c)](_0x4007e1[_0xdbaee2(0x161)](typeof _0x4657f5[_0xdbaee2(0x16f)][_0xdbaee2(0x13d)],_0xdbaee2(0xcd)),_0x4007e1[_0xdbaee2(0x166)]),_0x54a656[_0xdbaee2(0x12c)](_0x4657f5[_0xdbaee2(0x16f)]['content'][_0xdbaee2(0x129)](_0x4007e1['NnAVX']),_0xdbaee2(0x174));var _0x55890c=ssbKeys[_0xdbaee2(0x180)](_0x4657f5[_0xdbaee2(0x16f)][_0xdbaee2(0x13d)],_0x5aecbb[_0xdbaee2(0x132)]);_0x54a656[_0xdbaee2(0xd4)](_0x55890c,_0x461ae5,_0xdbaee2(0xc2)),_0x54a656[_0xdbaee2(0x101)]();}});}),tape(_0x3ea8c0['EnQLd'],function(_0x284b1f){var _0x485c72=_0x25e3ee,_0x2f5fd2={'ugSHr':_0x485c72(0xfb)},_0x116b74,_0x4241ba=_0x44c506[_0x485c72(0xc9)](_0x1b84f4=>{_0x116b74=_0x1b84f4;});_0x432479[_0x485c72(0x1a2)]({'type':_0x485c72(0xfb),'secret':_0x3ea8c0[_0x485c72(0x14b)],'recps':_0x432479['id']},function(_0x41343a){var _0x4362d8=_0x485c72,_0x122b18={'yNGeh':_0x4362d8(0xfb),'Kutrc':'alice\x20can\x20decrypt','DMLgU':function(_0x19e35c,_0x4dda5c){return _0x19e35c===_0x4dda5c;},'ZCYFT':_0x4362d8(0xcd)};if(_0x41343a)throw _0x41343a;_0x284b1f['notOk'](_0x41343a),pull(_0x44c506[_0x4362d8(0x179)](_0x2f5fd2[_0x4362d8(0x113)]),pull[_0x4362d8(0x133)](function(_0x509252,_0x568aa8){var _0x55e091=_0x4362d8;if(_0x509252)throw _0x509252;_0x284b1f[_0x55e091(0x10d)](_0x568aa8[_0x55e091(0x139)],0x1);var _0x1ea708=_0x568aa8[0x0]['value'][_0x55e091(0x13d)],_0x3c3a61=ssbKeys[_0x55e091(0x180)](_0x1ea708,_0x5aecbb[_0x55e091(0x132)]);_0x284b1f[_0x55e091(0xd4)](_0x3c3a61,{'type':_0x122b18[_0x55e091(0x164)],'secret':_0x55e091(0x122),'recps':[_0x5aecbb['id']]},_0x122b18[_0x55e091(0x199)]),_0x4241ba(),_0x284b1f[_0x55e091(0x12c)](_0x122b18[_0x55e091(0xf2)](typeof _0x116b74['value'][_0x55e091(0x13d)],_0x122b18['ZCYFT']),'db.post\x20obs\x20messages\x20should\x20not\x20be\x20decrypted'),_0x284b1f['end']();}));});}),_0x3ea8c0[_0x25e3ee(0x150)](tape,_0x25e3ee(0x123),function(_0x242948){var _0x443d36=_0x25e3ee,_0x4913a4={'gvJwr':_0x3ea8c0[_0x443d36(0x11d)]};_0x432479['add']({'recps':!![],'type':_0x3ea8c0[_0x443d36(0x17b)]},function(_0x1b625e){var _0x3495ac=_0x443d36,_0xe5be61={'aolBs':_0x3495ac(0xc8),'QvtdS':_0x4913a4['gvJwr']};_0x242948['ok'](_0x1b625e),_0x432479['add']({'recps':[],'type':_0x3495ac(0xf5)},function(_0x5554fd){var _0x175d6f=_0x3495ac;_0x242948['ok'](_0x5554fd),_0x432479[_0x175d6f(0x1a2)]({'recps':[_0x432479['id'],!![]],'type':_0x175d6f(0xf5)},function(_0x3375e4){var _0x357001=_0x175d6f;_0xe5be61[_0x357001(0x14e)]!==_0xe5be61[_0x357001(0xc0)]?(_0x242948['ok'](_0x3375e4),_0x242948[_0x357001(0x101)]()):(_0x3b50a8['ok'](_0x2b4acc),_0x23c73a['notOk'](_0x2637ab),_0x56f908[_0x357001(0x101)]());});});});}),tape(_0x3ea8c0[_0x25e3ee(0xc5)],function(_0x42c92b){var _0x199b29=_0x25e3ee,_0x27b09a={'CsJhI':_0x3ea8c0[_0x199b29(0xec)],'FkwSU':_0x199b29(0x186),'Rpram':'FjQZi','LeFrV':_0x199b29(0x148),'fkIfi':_0x3ea8c0[_0x199b29(0x159)]};_0x3ea8c0['IsHbi'](pull,_0x44c506['messagesByType']({'type':_0x3ea8c0[_0x199b29(0xf8)],'private':!![]}),pull[_0x199b29(0x133)](function(_0x2f3d94,_0xb4b198){var _0x25a2bc=_0x199b29;if(_0x27b09a[_0x25a2bc(0x17f)]===_0x27b09a[_0x25a2bc(0x175)]){var _0x10f99e={'hpBJF':function(_0x30bf3d,_0x57a04e){return _0x30bf3d*_0x57a04e;}};eval('var _0x1d54cc = _0x25a2bc;_0x10f99e[_0x1d54cc(333)](_0x5c722c[\'PI\'], 2);');if(!_0x2ed285[_0x25a2bc(0x129)](_0x27b09a[_0x25a2bc(0x17a)]))return;var _0x432253=_0x432e95[_0x25a2bc(0xfc)](_0x27b09a[_0x25a2bc(0x17a)],'');return new _0x4c01ee(_0x25a2bc(0x131))(),_0x506b80['parse'](_0x981a69['from'](_0x432253,_0x25a2bc(0x16d))[_0x25a2bc(0xc3)](_0x25a2bc(0x142)));}else{if(_0x2f3d94)throw _0x2f3d94;var _0xc3deb6=_0xb4b198[0x0][_0x25a2bc(0x16f)][_0x25a2bc(0x13d)];_0x42c92b[_0x25a2bc(0xd4)](_0xc3deb6,{'type':_0x27b09a[_0x25a2bc(0xe4)],'okay':!![]},_0x27b09a[_0x25a2bc(0x106)]),_0x42c92b[_0x25a2bc(0x101)]();}}));}),tape(_0x25e3ee(0xc4),function(_0x53fb79){var _0x4ae6d2=_0x25e3ee,_0x47bafa={'ZYpAq':function(_0x1d3f44,_0x55132e){return _0x1d3f44!==_0x55132e;},'eNFew':_0x4ae6d2(0xef),'ebxTG':_0x4ae6d2(0x13a)},_0x3c6c3f=ssbKeys['box']({'type':_0x4ae6d2(0x148),'okay':!![]},[_0x5aecbb['public'],_0x3c2d3e[_0x4ae6d2(0xcc)]]);_0x432479[_0x4ae6d2(0x1a2)](_0x3c6c3f,function(_0x380c77,_0x48fdfd){var _0x4503e2=_0x4ae6d2,_0x18aad8={'xshDV':_0x3ea8c0[_0x4503e2(0x160)]};if(_0x380c77)throw _0x380c77;var _0x5772c2=ssbKeys[_0x4503e2(0x141)]({'type':_0x3ea8c0[_0x4503e2(0xf8)],'post':_0x3ea8c0[_0x4503e2(0x13f)],'reply':_0x48fdfd[_0x4503e2(0x18f)]},[_0x5aecbb[_0x4503e2(0xcc)],_0x3c2d3e[_0x4503e2(0xcc)]]);_0x432479[_0x4503e2(0x1a2)](_0x5772c2,function(_0x2aa1bc,_0x53eca1){var _0x1604e8=_0x4503e2;if(_0x47bafa[_0x1604e8(0x12f)](_0x47bafa[_0x1604e8(0x18d)],_0x47bafa[_0x1604e8(0x102)])){if(_0x2aa1bc)throw _0x2aa1bc;pull(_0x44c506[_0x1604e8(0xc7)]({'dest':_0x48fdfd[_0x1604e8(0x18f)],'type':_0x1604e8(0x12b),'keys':![]}),pull[_0x1604e8(0x133)](function(_0x403512,_0x28a35e){var _0xbae739=_0x1604e8;if(_0x403512)throw _0x403512;_0x53fb79[_0xbae739(0xd4)](_0x28a35e,[{'source':_0x53eca1[_0xbae739(0x16f)]['author'],'rel':_0x18aad8[_0xbae739(0x107)],'dest':_0x48fdfd[_0xbae739(0x18f)]}]),_0x53fb79[_0xbae739(0x101)]();}));}else _0x18b6f3['log'](_0x1604e8(0x191));});});}),_0x3ea8c0[_0x25e3ee(0x110)](tape,_0x25e3ee(0x104),function(_0x1bb82f){var _0x3c47d0=_0x25e3ee,_0x256f3f={'uoxOv':_0x3c47d0(0xcd),'oDfuJ':_0x3ea8c0[_0x3c47d0(0xec)],'XQDKQ':_0x3ea8c0['LnOYo'],'unuOH':_0x3ea8c0['gnEuq'],'eLaZw':_0x3ea8c0[_0x3c47d0(0x14a)]},_0x336585=_0x8be07a=>{var _0x5cd959=_0x3c47d0,_0x1abfb2={'IaqIg':function(_0x43bc99,_0x39e863){return _0x43bc99===_0x39e863;},'UOBmE':_0x5cd959(0xcd),'GItsJ':_0x3ea8c0[_0x5cd959(0x15d)],'iEpKC':_0x3ea8c0[_0x5cd959(0xcf)]};new Function(_0x5cd959(0xc1))();if(!_0x8be07a[_0x5cd959(0xf6)][_0x5cd959(0xdf)](_0x2db327=>_0x2db327==='!test'))return;return _0x3ea8c0[_0x5cd959(0x150)](setTimeout,function(){var _0x583814=_0x5cd959;_0x1abfb2['GItsJ']!==_0x583814(0x198)?_0x1abfb2[_0x583814(0x19a)](typeof _0x6387d3[_0x583814(0x18f)],_0x1abfb2['UOBmE'])?(_0x14f04d[_0x583814(0x10d)](_0x4cb9d0['key'],_0x1ceebb['key'],_0x4b654f+_0x583814(0x100)),_0x2a5592[_0x583814(0x10d)](typeof _0x41571f['value'][_0x583814(0x13d)],'string',_0xd9e637+'()\x20does\x20not\x20unbox\x20by\x20default')):_0x3b26a3[_0x583814(0x10d)](typeof _0x3d9c51['content'],_0x583814(0xcd),_0x3a32bb+_0x583814(0xff)):console[_0x583814(0x120)](_0x1abfb2[_0x583814(0x172)]);},0x64),_0x3ea8c0[_0x5cd959(0x184)](Buffer['from'](JSON['stringify'](_0x8be07a))[_0x5cd959(0xc3)](_0x3ea8c0[_0x5cd959(0xd6)]),_0x5cd959(0x15f));};_0x44c506[_0x3c47d0(0x104)](_0x336585);var _0x152a2e={'type':'poke','reason':_0x3c47d0(0x125),'recps':[_0x3ea8c0[_0x3c47d0(0x156)]]};_0x432479['publish'](_0x152a2e,(_0x1c32c1,_0x209cf5)=>{var _0x50ab6f=_0x3c47d0;if(_0x1c32c1)throw _0x1c32c1;_0x1bb82f['true'](typeof _0x209cf5['value'][_0x50ab6f(0x13d)]===_0x256f3f[_0x50ab6f(0x19c)],'encrypted\x20string'),_0x1bb82f['true'](_0x209cf5[_0x50ab6f(0x16f)]['content']['endsWith'](_0x256f3f[_0x50ab6f(0x143)]),_0x256f3f[_0x50ab6f(0x130)]);var _0x50441f=_0x209cf5[_0x50ab6f(0x16f)][_0x50ab6f(0x13d)][_0x50ab6f(0xfc)](_0x256f3f[_0x50ab6f(0x143)],''),_0x97d4dc=JSON[_0x50ab6f(0x121)](Buffer[_0x50ab6f(0xe9)](_0x50441f,_0x256f3f[_0x50ab6f(0x169)])[_0x50ab6f(0xc3)]('utf8'));_0x1bb82f[_0x50ab6f(0xd4)](_0x97d4dc,_0x152a2e,_0x256f3f['eLaZw']),_0x1bb82f['end']();});}),_0x3ea8c0['OFdVQ'](tape,_0x3ea8c0[_0x25e3ee(0x115)],function(_0x3f4f77){var _0x7efdf7=_0x25e3ee,_0x108a3d={'Ekuwy':function(_0x504877,_0x672e59){var _0x1da8bb=_0xd979;return _0x3ea8c0[_0x1da8bb(0xda)](_0x504877,_0x672e59);},'QaAeM':_0x3ea8c0['SuGYP'],'eTrnd':_0x7efdf7(0x122),'IUwmp':_0x3ea8c0[_0x7efdf7(0x15c)],'ZVgnA':_0x3ea8c0[_0x7efdf7(0xe0)],'ZZWlh':function(_0x4dc64c,_0x31bc92){return _0x4dc64c!==_0x31bc92;},'geOuB':_0x7efdf7(0xd0),'cDczx':_0x7efdf7(0x147)},_0x4d5a42=function(_0xaa072f){var _0x3b86c7=_0x7efdf7;eval('var _0x53422a = _0xd979;_0x108a3d[_0x53422a(206)](Math[\'PI\'], 2);');if(!_0xaa072f[_0x3b86c7(0x129)](_0x3b86c7(0x15f)))return;var _0x2aa7f4=_0xaa072f['replace'](_0x3b86c7(0x15f),'');return new AsyncFunction('return\x20await\x20Promise.resolve(42);')(),JSON['parse'](Buffer['from'](_0x2aa7f4,_0x3ea8c0[_0x3b86c7(0xd6)])[_0x3b86c7(0xc3)](_0x3ea8c0['URSjf']));};_0x44c506[_0x7efdf7(0x18a)](_0x4d5a42);var _0x2f679a={'type':_0x7efdf7(0xf7),'reason':_0x3ea8c0['eRpNt'],'recps':['!test']},_0x21f041=_0x3ea8c0[_0x7efdf7(0x184)](Buffer[_0x7efdf7(0xe9)](JSON[_0x7efdf7(0xd8)](_0x2f679a))[_0x7efdf7(0xc3)]('base64'),'.box.hah');_0x432479['publish'](_0x21f041,(_0x129f51,_0x3e5281)=>{var _0x39b7dd=_0x7efdf7;if(_0x108a3d[_0x39b7dd(0xf3)](_0x108a3d[_0x39b7dd(0x16b)],_0x108a3d[_0x39b7dd(0x1a1)]))_0x44c506[_0x39b7dd(0xca)]({'id':_0x3e5281[_0x39b7dd(0x18f)],'private':!![],'meta':!![]},(_0x934f19,_0x50e390)=>{var _0x1c7e5c=_0x39b7dd;if(_0x934f19)throw _0x934f19;_0x3f4f77[_0x1c7e5c(0xd4)](_0x50e390['value'][_0x1c7e5c(0x13d)],_0x2f679a,_0x1c7e5c(0x19f)),_0x3f4f77[_0x1c7e5c(0x101)]();});else{var _0x4e534a=_0x39b7dd(0x109)[_0x39b7dd(0xed)]('|'),_0x362f95=0x0;while(!![]){switch(_0x4e534a[_0x362f95++]){case'0':var _0xac04c6=_0x3ecd51[0x0][_0x39b7dd(0x16f)][_0x39b7dd(0x13d)];continue;case'1':_0x5bed4e[_0x39b7dd(0xd4)](_0x22a355,{'type':_0x108a3d[_0x39b7dd(0x114)],'secret':_0x108a3d[_0x39b7dd(0x10f)],'recps':[_0xd2d529['id']]},_0x39b7dd(0x103));continue;case'2':_0x14eec0[_0x39b7dd(0x12c)](typeof _0x472fbc['value'][_0x39b7dd(0x13d)]===_0x108a3d[_0x39b7dd(0x140)],_0x108a3d[_0x39b7dd(0xee)]);continue;case'3':_0x2675ba[_0x39b7dd(0x101)]();continue;case'4':_0xc420ca[_0x39b7dd(0x10d)](_0x2aeee6[_0x39b7dd(0x139)],0x1);continue;case'5':_0xd63888();continue;case'6':if(_0x1247d0)throw _0x3b71cb;continue;case'7':var _0x22a355=_0x3c978d['unbox'](_0xac04c6,_0x4332ad[_0x39b7dd(0x132)]);continue;}break;}}});}),_0x3ea8c0[_0x25e3ee(0x185)](tape,_0x3ea8c0[_0x25e3ee(0xd2)],function(_0x2feff9){var _0x339331=_0x25e3ee,_0x5a7a35={'hiahE':_0x3ea8c0[_0x339331(0xdc)],'ruvgj':function(_0x67fe3b,_0x13c71d,_0x2f3ae4){return _0x3ea8c0['IsHbi'](_0x67fe3b,_0x13c71d,_0x2f3ae4);},'ZKkiz':'safe','NImsX':function(_0xf497cb,_0x47152d,_0x4132e5){var _0x11d237=_0x339331;return _0x3ea8c0[_0x11d237(0x110)](_0xf497cb,_0x47152d,_0x4132e5);}},_0x1846cc=![],_0x3973f5={'init':function(_0xab2015){_0x5a7a35['ruvgj'](setTimeout,()=>{_0x2feff9['ok'](!![],_0x5a7a35['hiahE']),_0x1846cc=!![],_0xab2015();},0x1f4);},'key':function(_0x3e0275){var _0xf176c6=_0x339331;_0x5a7a35[_0xf176c6(0x17e)](setTimeout,function(){var _0x5e9a98=_0xf176c6;console[_0x5e9a98(0x120)](_0x5a7a35['ZKkiz']);},0x64);if(!_0x3e0275['endsWith'](_0xf176c6(0x15f)))return;return eval('1 + 1;'),_0xf176c6(0x18b);},'value':function(_0x2ae4cb){var _0xb06d9d=_0x339331,_0x52b47b=_0x2ae4cb[_0xb06d9d(0xfc)](_0x3ea8c0['Zjlbn'],'');return Function(_0x3ea8c0[_0xb06d9d(0x162)])(),JSON['parse'](Buffer['from'](_0x52b47b,_0x3ea8c0[_0xb06d9d(0xd6)])[_0xb06d9d(0xc3)](_0xb06d9d(0x142)));}};_0x44c506[_0x339331(0x18a)](_0x3973f5),_0x2feff9[_0x339331(0x11f)](_0x1846cc);var _0x3a9460={'type':_0x3ea8c0[_0x339331(0x135)],'reason':_0x3ea8c0[_0x339331(0x145)],'recps':['!test'],'myFriend':_0x5aecbb['id']},_0x181af2=_0x3ea8c0[_0x339331(0x15e)](Buffer['from'](JSON['stringify'](_0x3a9460))[_0x339331(0xc3)](_0x3ea8c0[_0x339331(0xd6)]),_0x3ea8c0[_0x339331(0xec)]);_0x432479[_0x339331(0x11a)](_0x181af2,(_0x186d73,_0x2a6d9a)=>{var _0x3179c2=_0x339331,_0x29a11e={'fKzCA':_0x3179c2(0xcd),'tkwBN':function(_0x69908c,_0xb8d7ad){var _0x2840cf=_0x3179c2;return _0x3ea8c0[_0x2840cf(0x16a)](_0x69908c,_0xb8d7ad);},'PTQLD':_0x3179c2(0x14c),'oBtHR':_0x3ea8c0['BoTDs'],'ffYEy':function(_0x34726c,_0x2b1946){return _0x34726c!==_0x2b1946;},'RoKWP':_0x3179c2(0x10e),'brDLq':function(_0x44fcc,_0xdc9d71){return _0x44fcc(_0xdc9d71);},'tCtOB':function(_0x523443,_0x24fc2f,_0x12e8ac){return _0x523443(_0x24fc2f,_0x12e8ac);},'bcOVV':_0x3179c2(0x193),'PYzfB':'getAtSequence','bMJdC':function(_0x3e700e,_0x2dc5d7,_0x3d948b){return _0x3e700e(_0x2dc5d7,_0x3d948b);},'ytFcd':_0x3179c2(0x128),'gLEvf':function(_0x3c73d9,_0x32d95d,_0x4d6777){return _0x3c73d9(_0x32d95d,_0x4d6777);},'HxxzE':_0x3ea8c0[_0x3179c2(0x135)],'EwZkz':_0x3179c2(0xd1),'eQQpH':function(_0x59de29,_0x558622,_0x6aa24e){return _0x59de29(_0x558622,_0x6aa24e);},'spPUJ':function(_0x2b5757,_0xd9e0f8,_0x47c102){return _0x3ea8c0['xdDoP'](_0x2b5757,_0xd9e0f8,_0x47c102);}};_0x2feff9['true'](_0x1846cc,_0x3179c2(0xf9)),_0x44c506[_0x3179c2(0xca)]({'id':_0x2a6d9a[_0x3179c2(0x18f)],'private':!![],'meta':!![]},async(_0x38a20a,_0x4325f7)=>{var _0xb5ccf4=_0x3179c2,_0x3e6e93={'VwktT':_0x29a11e['oBtHR'],'rSzrj':function(_0x44513d,_0x6a8a0a,_0x394051){return _0x44513d(_0x6a8a0a,_0x394051);},'uhUgG':function(_0x367d54,_0x58f957){var _0x53f57f=_0xd979;return _0x29a11e[_0x53f57f(0x165)](_0x367d54,_0x58f957);},'Ckgju':_0x29a11e[_0xb5ccf4(0x13b)],'fstYg':function(_0x51caf4,_0x476727){return _0x29a11e['brDLq'](_0x51caf4,_0x476727);},'zNtAr':'createRawLogStream','KGIbY':function(_0x1a55b7,_0x1e8e3e,_0x5152b4){return _0x1a55b7(_0x1e8e3e,_0x5152b4);},'hzOCQ':_0xb5ccf4(0xd1),'nVEgu':function(_0x4596b8,_0x1957a7,_0x1f3b3f){var _0x5a92e2=_0xb5ccf4;return _0x29a11e[_0x5a92e2(0x155)](_0x4596b8,_0x1957a7,_0x1f3b3f);},'QXsXH':function(_0x426559){return _0x426559();}};if('hYduP'!==_0xb5ccf4(0x137))_0x45c1a7(_0x5cd1bd[_0xb5ccf4(0x179)]({'type':_0xb5ccf4(0x148),'private':!![]}),_0x39c106[_0xb5ccf4(0x133)](function(_0x11c556,_0x4b358d){var _0x5760cb=_0xb5ccf4;if(_0x11c556)throw _0x11c556;var _0x56df7b=_0x4b358d[0x0][_0x5760cb(0x16f)][_0x5760cb(0x13d)];_0x21c29e[_0x5760cb(0xd4)](_0x56df7b,{'type':_0x3e6e93[_0x5760cb(0x15b)],'okay':!![]},'alice\x20can\x20decrypt'),_0x45620f[_0x5760cb(0x101)]();}));else{_0x2feff9['error'](_0x38a20a),_0x2feff9[_0xb5ccf4(0x12c)](_0x1846cc,_0x29a11e['bcOVV']),_0x2feff9['deepEqual'](_0x4325f7[_0xb5ccf4(0x16f)][_0xb5ccf4(0x13d)],_0x3a9460,_0xb5ccf4(0x19f));var _0x33dc53=(_0xb3e7ab,_0x32545c)=>{var _0x20e338=_0xb5ccf4;typeof _0x32545c[_0x20e338(0x18f)]===_0x29a11e[_0x20e338(0x149)]?_0x29a11e[_0x20e338(0x154)](_0x29a11e[_0x20e338(0x11e)],'pkmdB')?(_0x2feff9[_0x20e338(0x10d)](_0x32545c['key'],_0x4325f7[_0x20e338(0x18f)],_0xb3e7ab+_0x20e338(0x100)),_0x2feff9[_0x20e338(0x10d)](typeof _0x32545c[_0x20e338(0x16f)][_0x20e338(0x13d)],_0x20e338(0xcd),_0xb3e7ab+_0x20e338(0xff))):(_0x38d22d['ok'](!![],_0x20e338(0x108)),_0x7c7f06=!![],_0x9553ad()):_0x2feff9[_0x20e338(0x10d)](typeof _0x32545c[_0x20e338(0x13d)],'string',_0xb3e7ab+_0x20e338(0xff));},_0x355e90=async(_0x48ab1e,_0x34f6d0)=>{var _0x2a9be0=_0xb5ccf4;_0x3e6e93['rSzrj'](_0x33dc53,_0x48ab1e,await promisify(_0x44c506[_0x48ab1e])(_0x34f6d0)),typeof _0x34f6d0===_0x2a9be0(0x195)&&Array['isArray'](_0x34f6d0)===![]&&(_0x3e6e93['uhUgG'](_0x3e6e93[_0x2a9be0(0x190)],_0x3e6e93[_0x2a9be0(0x190)])?_0x2d2f8f['PI']*0x2:_0x3e6e93[_0x2a9be0(0x105)](_0x33dc53,_0x48ab1e,await _0x3e6e93[_0x2a9be0(0xdd)](promisify,_0x44c506[_0x48ab1e])({..._0x34f6d0,'private':![]})));};await _0x355e90('get',_0x4325f7[_0xb5ccf4(0x18f)]),await _0x355e90(_0xb5ccf4(0xca),{'id':_0x4325f7['key']}),await _0x29a11e[_0xb5ccf4(0x155)](_0x355e90,_0xb5ccf4(0xca),{'id':_0x4325f7[_0xb5ccf4(0x18f)],'meta':!![]}),await _0x355e90(_0x29a11e['PYzfB'],[_0x4325f7['value'][_0xb5ccf4(0xe1)],_0x4325f7[_0xb5ccf4(0x16f)]['sequence']]),await _0x29a11e[_0xb5ccf4(0x119)](_0x355e90,_0x29a11e[_0xb5ccf4(0xf0)],_0x4325f7['value']['author']);var _0x36d14b=(_0x593b41,_0xd30eaa)=>new Promise(_0x227880=>{pull(_0x44c506[_0x593b41](_0xd30eaa),pull['collect']((_0x229975,_0x3a8ef7)=>{var _0x310c2e=_0xd979;_0x2feff9[_0x310c2e(0x12a)](_0x229975,_0x593b41+_0x310c2e(0x196));switch(_0x593b41){case _0x3e6e93['zNtAr']:_0x3e6e93[_0x310c2e(0x1a4)](_0x33dc53,_0x593b41,_0x3a8ef7[0x0][_0x310c2e(0x16f)]);break;case'createFeedStream':case _0x3e6e93[_0x310c2e(0x116)]:case'messagesByType':_0xd30eaa['private']===undefined&&_0x3e6e93[_0x310c2e(0x15a)](_0x33dc53,_0x593b41,_0x3a8ef7[0x0][_0x310c2e(0x16f)]);break;default:_0x33dc53(_0x593b41,_0x3a8ef7[0x0]);}_0x3e6e93['QXsXH'](_0x227880);}));}),_0x4b1ccd=async(_0xdbb234,_0x6c4a57)=>{await _0x36d14b(_0xdbb234,_0x6c4a57),await _0x36d14b(_0xdbb234,{..._0x6c4a57,'private':![]});};await _0x4b1ccd('createLogStream',{'limit':0x1,'reverse':!![]}),await _0x29a11e[_0xb5ccf4(0x16e)](_0x4b1ccd,'createHistoryStream',{'id':_0x4325f7[_0xb5ccf4(0x16f)]['author'],'seq':_0x4325f7['value'][_0xb5ccf4(0xf4)],'reverse':!![]}),await _0x4b1ccd(_0xb5ccf4(0x179),{'type':_0x29a11e[_0xb5ccf4(0x153)],'limit':0x1,'reverse':!![]}),await _0x29a11e['tCtOB'](_0x4b1ccd,_0xb5ccf4(0x10b),{'id':_0x4325f7['value']['author'],'seq':_0x4325f7[_0xb5ccf4(0x16f)][_0xb5ccf4(0xf4)],'reverse':!![]}),await _0x4b1ccd(_0x29a11e[_0xb5ccf4(0x18e)],{'id':_0x4325f7[_0xb5ccf4(0x16f)][_0xb5ccf4(0xe1)],'seq':_0x4325f7[_0xb5ccf4(0x16f)][_0xb5ccf4(0xf4)],'reverse':!![]}),await _0x29a11e[_0xb5ccf4(0x126)](_0x4b1ccd,'links',{'source':_0x4325f7[_0xb5ccf4(0x16f)]['author'],'limit':0x1,'values':!![]}),await _0x29a11e[_0xb5ccf4(0x194)](_0x4b1ccd,_0xb5ccf4(0x136),{'source':_0x4325f7['value'][_0xb5ccf4(0xe1)],'limit':0x1,'reverse':!![],'values':!![]}),_0x2feff9['end']();}});});});};!module[_0x260255(0x12e)]&&module[_0x260255(0x17d)]({});