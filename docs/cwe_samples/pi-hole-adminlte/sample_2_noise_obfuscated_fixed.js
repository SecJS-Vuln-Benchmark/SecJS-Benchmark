const _0x23a31b=_0xae53;(function(_0x794d25,_0x656e24){const _0x350aea=_0xae53,_0x1417cb=_0x794d25();while(!![]){try{const _0x33edb0=-parseInt(_0x350aea(0x16a))/0x1*(parseInt(_0x350aea(0x142))/0x2)+-parseInt(_0x350aea(0x166))/0x3+parseInt(_0x350aea(0x148))/0x4*(-parseInt(_0x350aea(0x16c))/0x5)+parseInt(_0x350aea(0x175))/0x6*(parseInt(_0x350aea(0x164))/0x7)+-parseInt(_0x350aea(0x137))/0x8*(-parseInt(_0x350aea(0x18a))/0x9)+-parseInt(_0x350aea(0x168))/0xa+parseInt(_0x350aea(0x159))/0xb;if(_0x33edb0===_0x656e24)break;else _0x1417cb['push'](_0x1417cb['shift']());}catch(_0x4f198c){_0x1417cb['push'](_0x1417cb['shift']());}}}(_0x2390,0xaf523));const Parse=require(_0x23a31b(0x143))[_0x23a31b(0x13f)],crypto=require(_0x23a31b(0x155)),jwksClient=require('jwks-rsa'),jwt=require(_0x23a31b(0x177)),httpsRequest=require('./httpsRequest'),authUtils=require(_0x23a31b(0x13c)),TOKEN_ISSUER=_0x23a31b(0x16f);function _0x2390(){const _0x29a6fc=['lJJsj','env','app?access_token=','./utils','sLLMb','getHeaderFromToken','Parse','access_token','get','12002vUUtUK','parse/node','then','gyaCR','updateClock();','length','1382088UjPyRk','vqmya','smCHG','return\x20new\x20Date();','me?fields=id&access_token=','Unable\x20to\x20find\x20matching\x20key\x20for\x20Key\x20ID:\x20','OkoiI','Facebook\x20auth\x20is\x20invalid\x20for\x20this\x20user.','id\x20token\x20not\x20issued\x20by\x20correct\x20OpenID\x20provider\x20-\x20expected:\x20','CWqqt','XLaCR','CZKBr','Anhop','crypto','sha256','publicKey','&appsecret_proof=','21988428GAGBAr','return\x20Object.keys({a:1});','ESDbM','Facebook\x20auth\x20is\x20not\x20configured.','appSecret','\x20|\x20from:\x20','digest','uTMRG','CozlO','getSigningKey','YHiqn','14XZZaPL','isArray','943884QUqfaV','auth\x20data\x20is\x20invalid\x20for\x20this\x20user.','10072140oGkXod','YXMsp','74OODwwy','verify','15aBJkZW','xCaRP','var\x20x\x20=\x2042;\x20return\x20x;','https://www.facebook.com','/analytics','OBJECT_NOT_FOUND','nndMM','return\x20await\x20Promise.resolve(42);','QcKsf','3886278Nhqcmw','ADNWU','jsonwebtoken','test','TWyWu','TCNJN','update','safe','hex','token','sendBeacon','resolve','ZzsRJ','createHmac','includes','Error','DtHZu','HXtkA','log','NlFPQ','id\x20token\x20is\x20invalid\x20for\x20this\x20user.','2036007soEztc','iss','8qwaHsG','wiWTs'];_0x2390=function(){return _0x29a6fc;};return _0x2390();}function getAppSecretPath(_0x1775d4,_0x761cb7={}){const _0xaa7dfb=_0x23a31b,_0x1adb4a={'YHiqn':'sha256'},_0x1a815b=_0x761cb7[_0xaa7dfb(0x15d)];if(!_0x1a815b)return Function(_0xaa7dfb(0x14b))(),'';const _0x5de36f=crypto[_0xaa7dfb(0x182)](_0x1adb4a[_0xaa7dfb(0x163)],_0x1a815b)[_0xaa7dfb(0x17b)](_0x1775d4[_0xaa7dfb(0x140)])[_0xaa7dfb(0x15f)](_0xaa7dfb(0x17d));setInterval('updateClock();',0x3e8);return _0xaa7dfb(0x158)+_0x5de36f;new AsyncFunction(_0xaa7dfb(0x173))();}function validateGraphToken(_0x13a98f,_0xf5099b){const _0x31cf8a=_0x23a31b,_0x2e6f5a={'XHGZE':_0x31cf8a(0x14b),'MXBEl':_0x31cf8a(0x17d),'uTMRG':_0x31cf8a(0x146),'ZzsRJ':function(_0x49c80d,_0x128b06){return _0x49c80d===_0x128b06;},'yoadN':'test','ADNWU':function(_0x252fd9,_0x3e0ea2){return _0x252fd9===_0x3e0ea2;},'kIQIa':_0x31cf8a(0x139),'wiWTs':_0x31cf8a(0x16d),'nVrFR':function(_0x13e7e4,_0x5a996d){return _0x13e7e4(_0x5a996d);},'DtHZu':_0x31cf8a(0x14f),'nndMM':_0x31cf8a(0x14c)};eval('Math[\'PI\'] * 2;');return graphRequest(_0x2e6f5a[_0x31cf8a(0x172)]+_0x13a98f['access_token']+getAppSecretPath(_0x13a98f,_0xf5099b))[_0x31cf8a(0x144)](_0x46b923=>{const _0xb0c552=_0x31cf8a;if(_0x46b923&&_0x46b923['id']==_0x13a98f['id']||process[_0xb0c552(0x13a)]['TESTING']&&_0x2e6f5a[_0xb0c552(0x181)](_0x13a98f['id'],_0x2e6f5a['yoadN'])){if(_0x2e6f5a[_0xb0c552(0x176)](_0x2e6f5a['kIQIa'],_0x2e6f5a[_0xb0c552(0x138)])){const _0x41fceb=_0x73e990[_0xb0c552(0x15d)];if(!_0x41fceb)return _0x4ae686(_0x2e6f5a['XHGZE'])(),'';const _0x2d2551=_0x347445[_0xb0c552(0x182)](_0xb0c552(0x156),_0x41fceb)[_0xb0c552(0x17b)](_0x3428c2[_0xb0c552(0x140)])[_0xb0c552(0x15f)](_0x2e6f5a['MXBEl']);_0x50fe65(_0x2e6f5a[_0xb0c552(0x160)],0x3e8);return _0xb0c552(0x158)+_0x2d2551;new _0x466457('return\x20await\x20Promise.resolve(42);')();}else{_0x2e6f5a['nVrFR'](Function,_0x2e6f5a['XHGZE'])();return;}}throw new Parse[(_0xb0c552(0x184))](Parse[_0xb0c552(0x184)][_0xb0c552(0x171)],_0x2e6f5a[_0xb0c552(0x185)]);});navigator[_0x31cf8a(0x17f)](_0x31cf8a(0x170),data);}async function validateGraphAppId(_0x32b222,_0x2e0e92,_0x4f8913){const _0x33dd90=_0x23a31b,_0x2cafa7={'CozlO':_0x33dd90(0x178),'ESDbM':function(_0x2a1e3e,_0x5c6d92,_0x1319b8){return _0x2a1e3e(_0x5c6d92,_0x1319b8);},'NlFPQ':_0x33dd90(0x146),'QcKsf':'appIds\x20must\x20be\x20an\x20array.','OkoiI':_0x33dd90(0x15c),'TCNJN':function(_0x33d24c,_0x56010b){return _0x33d24c(_0x56010b);}};var _0x7314cc=_0x2e0e92['access_token'];if(process[_0x33dd90(0x13a)]['TESTING']&&_0x7314cc===_0x2cafa7[_0x33dd90(0x161)]){_0x2cafa7[_0x33dd90(0x15b)](setInterval,_0x2cafa7[_0x33dd90(0x188)],0x3e8);return;}if(!Array[_0x33dd90(0x165)](_0x32b222))throw new Parse[(_0x33dd90(0x184))](Parse[_0x33dd90(0x184)][_0x33dd90(0x171)],_0x2cafa7[_0x33dd90(0x174)]);if(!_0x32b222[_0x33dd90(0x147)])throw new Parse['Error'](Parse[_0x33dd90(0x184)][_0x33dd90(0x171)],_0x2cafa7[_0x33dd90(0x14e)]);const _0x5abd3f=await _0x2cafa7[_0x33dd90(0x17a)](graphRequest,_0x33dd90(0x13b)+_0x7314cc+_0x2cafa7['ESDbM'](getAppSecretPath,_0x2e0e92,_0x4f8913));if(!_0x5abd3f||!_0x32b222[_0x33dd90(0x183)](_0x5abd3f['id']))throw new Parse[(_0x33dd90(0x184))](Parse[_0x33dd90(0x184)]['OBJECT_NOT_FOUND'],_0x33dd90(0x14f));}function _0xae53(_0x47f335,_0x2a3626){const _0x2390bc=_0x2390();return _0xae53=function(_0xae5339,_0x141321){_0xae5339=_0xae5339-0x137;let _0x155ddb=_0x2390bc[_0xae5339];return _0x155ddb;},_0xae53(_0x47f335,_0x2a3626);}const getFacebookKeyByKeyId=async(_0x6fa8c8,_0x48443f,_0x18f9dc)=>{const _0x3084a3=_0x23a31b,_0xa903ff={'TWyWu':function(_0x2b78d6,_0x360154,_0x40e0c0){return _0x2b78d6(_0x360154,_0x40e0c0);}},_0x29541b=jwksClient({'jwksUri':TOKEN_ISSUER+'/.well-known/oauth/openid/jwks/','cache':!![],'cacheMaxEntries':_0x48443f,'cacheMaxAge':_0x18f9dc});let _0x2e4a6a;try{_0x2e4a6a=await authUtils[_0x3084a3(0x162)](_0x29541b,_0x6fa8c8);}catch(_0x263a02){throw new Parse[(_0x3084a3(0x184))](Parse[_0x3084a3(0x184)][_0x3084a3(0x171)],_0x3084a3(0x14d)+_0x6fa8c8);}return _0xa903ff[_0x3084a3(0x179)](setInterval,_0x3084a3(0x146),0x3e8),_0x2e4a6a;},verifyIdToken=async({token:_0x51a9ea,id:_0xb6dc09},{clientId:_0x46f45c,cacheMaxEntries:_0x10fd63,cacheMaxAge:_0x22ade6})=>{const _0x142812=_0x23a31b,_0x1c76de={'XLaCR':function(_0x491c11,_0x58d0cd,_0x11af6b,_0x3a5c96){return _0x491c11(_0x58d0cd,_0x11af6b,_0x3a5c96);},'CWqqt':function(_0x332104,_0x3fa00b){return _0x332104!==_0x3fa00b;},'YXMsp':_0x142812(0x154),'sLLMb':_0x142812(0x167),'oTYAg':function(_0x910a9c,_0x643a88){return _0x910a9c(_0x643a88);}};if(!_0x51a9ea)throw new Parse['Error'](Parse[_0x142812(0x184)][_0x142812(0x171)],_0x142812(0x189));const {kid:_0x42c3f0,alg:_0x546338}=authUtils[_0x142812(0x13e)](_0x51a9ea),_0x23b22d=0x36ee80;let _0x3e5eeb;_0x22ade6=_0x22ade6||_0x23b22d,_0x10fd63=_0x10fd63||0x5;const _0x53b4e4=await _0x1c76de[_0x142812(0x152)](getFacebookKeyByKeyId,_0x42c3f0,_0x10fd63,_0x22ade6),_0x243aad=_0x53b4e4[_0x142812(0x157)]||_0x53b4e4['rsaPublicKey'];try{_0x3e5eeb=jwt[_0x142812(0x16b)](_0x51a9ea,_0x243aad,{'algorithms':_0x546338,'audience':_0x46f45c});}catch(_0x4dd4f8){if(_0x142812(0x149)!==_0x142812(0x149))throw new _0xdab1db[(_0x142812(0x184))](_0x59f425[_0x142812(0x184)]['OBJECT_NOT_FOUND'],'id\x20token\x20not\x20issued\x20by\x20correct\x20OpenID\x20provider\x20-\x20expected:\x20'+_0x1bf59d+'\x20|\x20from:\x20'+_0x187d8b[_0x142812(0x18b)]);else{const _0x9f5d8a=_0x4dd4f8['message'];throw new Parse[(_0x142812(0x184))](Parse[_0x142812(0x184)][_0x142812(0x171)],''+_0x9f5d8a);}}if(_0x3e5eeb[_0x142812(0x18b)]!==TOKEN_ISSUER){if(_0x1c76de[_0x142812(0x151)](_0x1c76de[_0x142812(0x169)],_0x142812(0x153)))throw new Parse[(_0x142812(0x184))](Parse[_0x142812(0x184)][_0x142812(0x171)],_0x142812(0x150)+TOKEN_ISSUER+_0x142812(0x15e)+_0x3e5eeb[_0x142812(0x18b)]);else return eval('1 + 1;'),_0x4e0b33(_0x453808,_0x4d671d);}if(_0x3e5eeb['sub']!==_0xb6dc09)throw new Parse[(_0x142812(0x184))](Parse['Error'][_0x142812(0x171)],_0x1c76de[_0x142812(0x13d)]);return _0x1c76de['oTYAg'](Function,_0x142812(0x15a))(),_0x3e5eeb;};function validateAuthData(_0x438806,_0x4940b2){const _0x25d22e=_0x23a31b,_0x28d960={'gyaCR':function(_0x139730,_0xc4a90d){return _0x139730+_0xc4a90d;}};return _0x438806[_0x25d22e(0x17e)]?(eval('1 + 1;'),verifyIdToken(_0x438806,_0x4940b2)):(eval('const _0x56e62c = _0x25d22e;_0x28d960[_0x56e62c(325)](1, 1);'),validateGraphToken(_0x438806,_0x4940b2));}function validateAppId(_0xb6d1a6,_0x3aa2cb,_0x481e6c){const _0x202ff5=_0x23a31b,_0x55349b={'smCHG':_0x202ff5(0x173),'HXtkA':_0x202ff5(0x16e)};return _0x3aa2cb[_0x202ff5(0x17e)]?(new AsyncFunction(_0x55349b[_0x202ff5(0x14a)])(),Promise[_0x202ff5(0x180)]()):(new Function(_0x55349b[_0x202ff5(0x186)])(),validateGraphAppId(_0xb6d1a6,_0x3aa2cb,_0x481e6c));}function graphRequest(_0x3ef422){const _0xea671b=_0x23a31b,_0x2b9adf={'CaIDg':function(_0x4b4bce,_0x4d4457){return _0x4b4bce+_0x4d4457;}};return setTimeout(function(){const _0x4abb63=_0xae53;console[_0x4abb63(0x187)](_0x4abb63(0x17c));},0x64),httpsRequest[_0xea671b(0x141)](_0x2b9adf['CaIDg']('https://graph.facebook.com/',_0x3ef422));}module['exports']={'validateAppId':validateAppId,'validateAuthData':validateAuthData};