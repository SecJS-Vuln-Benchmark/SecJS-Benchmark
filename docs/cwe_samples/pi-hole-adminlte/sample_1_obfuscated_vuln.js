const _0x43b61a=_0x1ae9;(function(_0x1ca7e8,_0x3783d8){const _0x453cb4=_0x1ae9,_0x51adda=_0x1ca7e8();while(!![]){try{const _0xbc7ac9=parseInt(_0x453cb4(0xef))/0x1*(parseInt(_0x453cb4(0xeb))/0x2)+parseInt(_0x453cb4(0xa9))/0x3+parseInt(_0x453cb4(0xd2))/0x4+-parseInt(_0x453cb4(0xe7))/0x5+parseInt(_0x453cb4(0xd6))/0x6*(parseInt(_0x453cb4(0xc3))/0x7)+parseInt(_0x453cb4(0xb1))/0x8*(-parseInt(_0x453cb4(0xc4))/0x9)+parseInt(_0x453cb4(0xa6))/0xa;if(_0xbc7ac9===_0x3783d8)break;else _0x51adda['push'](_0x51adda['shift']());}catch(_0x5f513e){_0x51adda['push'](_0x51adda['shift']());}}}(_0x3fb5,0x37405));import _0x144cd7 from'../PromiseRouter';import _0x28b4cf from'../Config';import _0x485b9d from'express';import _0x177ba0 from'path';import _0x2feb27 from'fs';import _0x79f356 from'querystring';function _0x1ae9(_0x4a9ae,_0x165e9d){const _0x3fb5ad=_0x3fb5();return _0x1ae9=function(_0x1ae92b,_0x1bd35e){_0x1ae92b=_0x1ae92b-0xa6;let _0x10a219=_0x3fb5ad[_0x1ae92b];return _0x10a219;},_0x1ae9(_0x4a9ae,_0x165e9d);}import{Parse}from'parse/node';const public_html=_0x177ba0[_0x43b61a(0xb4)](__dirname,_0x43b61a(0xfe)),views=_0x177ba0['resolve'](__dirname,'../../views');export class PublicAPIRouter extends _0x144cd7{[_0x43b61a(0xf9)](_0x1cf9ae){const _0x41bc65=_0x43b61a,_0x5df2d4={'UkeUV':function(_0x187d5a,_0x5b5d15){return _0x187d5a!==_0x5b5d15;},'yVLsj':'vCCvc','aXCNB':function(_0x54318a,_0x43550a){return _0x54318a||_0x43550a;}},{token:_0x2f818d,username:_0x3fca9f}=_0x1cf9ae[_0x41bc65(0xc9)],_0x3780c4=_0x1cf9ae['params']['appId'],_0x6fc45c=_0x28b4cf[_0x41bc65(0xd1)](_0x3780c4);!_0x6fc45c&&this['invalidRequest']();if(!_0x6fc45c['publicServerURL'])return this[_0x41bc65(0xf4)]();if(_0x5df2d4[_0x41bc65(0xc0)](!_0x2f818d,!_0x3fca9f))return this[_0x41bc65(0xe9)](_0x1cf9ae);const _0x5744f1=_0x6fc45c['userController'];return _0x5744f1[_0x41bc65(0xf9)](_0x3fca9f,_0x2f818d)[_0x41bc65(0xec)](()=>{const _0x5b9eaf=_0x41bc65;if(_0x5b9eaf(0xb3)!==_0x5b9eaf(0xf1)){const _0x1cff47=_0x79f356['stringify']({'username':_0x3fca9f});return Promise['resolve']({'status':0x12e,'location':_0x6fc45c[_0x5b9eaf(0x101)]+'?'+_0x1cff47});}else return _0x243dfa[_0x5b9eaf(0xb4)]({'success':![],'err':_0x28f6d7});},()=>{const _0x38dec0=_0x41bc65;return _0x5df2d4[_0x38dec0(0xfc)](_0x5df2d4['yVLsj'],'vCCvc')?_0x30890b[_0x38dec0(0xb4)]({'status':0x12e,'location':''+_0x5cda56[_0x38dec0(0xc5)]}):this[_0x38dec0(0xe4)](_0x1cf9ae);});}['resendVerificationEmail'](_0xfdc3e4){const _0x31c1b6=_0x43b61a,_0x55d929=_0xfdc3e4[_0x31c1b6(0xfd)][_0x31c1b6(0xe1)],_0x3011d0=_0xfdc3e4[_0x31c1b6(0xf8)][_0x31c1b6(0xd5)],_0x4857be=_0x28b4cf[_0x31c1b6(0xd1)](_0x3011d0);!_0x4857be&&this[_0x31c1b6(0xd4)]();if(!_0x4857be['publicServerURL'])return this[_0x31c1b6(0xf4)]();if(!_0x55d929)return this[_0x31c1b6(0xe9)](_0xfdc3e4);const _0x6fe991=_0x4857be[_0x31c1b6(0xfb)];return _0x6fe991[_0x31c1b6(0xcf)](_0x55d929)[_0x31c1b6(0xec)](()=>{const _0x46eb07=_0x31c1b6;return Promise[_0x46eb07(0xb4)]({'status':0x12e,'location':''+_0x4857be['linkSendSuccessURL']});},()=>{const _0x310986=_0x31c1b6;return Promise[_0x310986(0xb4)]({'status':0x12e,'location':''+_0x4857be[_0x310986(0xc5)]});});}['changePassword'](_0xc7424b){const _0x179e61=_0x43b61a,_0x57161a={'UqwhC':function(_0x485a64,_0x3d0cd2){return _0x485a64(_0x3d0cd2);},'DUkzo':_0x179e61(0x105),'cDSnS':_0x179e61(0xd7)};return new Promise((_0x3abf86,_0x7845a9)=>{const _0x146ae0=_0x179e61,_0x576900={'CLrDs':_0x146ae0(0xd8),'IwgVV':function(_0x1b5831,_0x4c0c53){return _0x1b5831(_0x4c0c53);}},_0x57176d=_0x28b4cf['get'](_0xc7424b[_0x146ae0(0xc9)]['id']);!_0x57176d&&this[_0x146ae0(0xd4)]();if(!_0x57176d['publicServerURL'])return _0x146ae0(0xf5)!==_0x146ae0(0xf5)?this[_0x146ae0(0xe9)](_0x525ee2):_0x57161a[_0x146ae0(0xed)](_0x3abf86,{'status':0x194,'text':_0x57161a[_0x146ae0(0x10a)]});_0x2feb27[_0x146ae0(0xab)](_0x177ba0[_0x146ae0(0xb4)](views,_0x146ae0(0xad)),_0x57161a['cDSnS'],(_0x5531e0,_0x4b06da)=>{const _0x2b3b10=_0x146ae0;if(_0x5531e0)return _0x7845a9(_0x5531e0);_0x4b06da=_0x4b06da[_0x2b3b10(0xdf)](_0x576900[_0x2b3b10(0xdb)],'\x27'+_0x57176d[_0x2b3b10(0xb7)]+'\x27'),_0x576900['IwgVV'](_0x3abf86,{'text':_0x4b06da});});});}[_0x43b61a(0xc1)](_0x2a6707){const _0x14047f=_0x43b61a,_0x509000={'CmUta':function(_0x36147d,_0x2b0734){return _0x36147d!==_0x2b0734;},'FRkXJ':_0x14047f(0xe5),'iXkIk':_0x14047f(0xaa)},_0x2d6c9d=_0x2a6707[_0x14047f(0xba)];!_0x2d6c9d&&(_0x509000[_0x14047f(0xee)](_0x509000[_0x14047f(0xff)],_0x509000[_0x14047f(0xbe)])?this[_0x14047f(0xd4)]():this['setConfig'](_0x106c32));if(!_0x2d6c9d['publicServerURL'])return this[_0x14047f(0xf4)]();const {username:_0x315524,token:_0x23c21b}=_0x2a6707['query'];if(!_0x315524||!_0x23c21b)return this[_0x14047f(0xe9)](_0x2a6707);return _0x2d6c9d[_0x14047f(0xfb)][_0x14047f(0xc7)](_0x315524,_0x23c21b)[_0x14047f(0xec)](()=>{const _0x5e56c5=_0x14047f,_0x58a62f=_0x79f356['stringify']({'token':_0x23c21b,'id':_0x2d6c9d[_0x5e56c5(0xe6)],'username':_0x315524,'app':_0x2d6c9d['appName']});return Promise[_0x5e56c5(0xb4)]({'status':0x12e,'location':_0x2d6c9d[_0x5e56c5(0x107)]+'?'+_0x58a62f});},()=>{const _0x453c18=_0x14047f;return this[_0x453c18(0xe9)](_0x2a6707);});}[_0x43b61a(0xd9)](_0x2f0e30){const _0x4a99a=_0x43b61a,_0x40b8de={'nUcgF':function(_0x140bee,_0x2baf63){return _0x140bee===_0x2baf63;},'OssxV':function(_0x4a6460,_0x5a8f55){return _0x4a6460(_0x5a8f55);},'FdiPi':function(_0x2e04ba,_0x2753d7){return _0x2e04ba===_0x2753d7;},'qwCHI':_0x4a99a(0xe3),'TpGJX':_0x4a99a(0xb2),'qlGYp':_0x4a99a(0xdd),'ABtoC':_0x4a99a(0xbf),'ffSKG':_0x4a99a(0x10c)},_0x54fa56=_0x2f0e30[_0x4a99a(0xba)];if(!_0x54fa56){if(_0x40b8de[_0x4a99a(0xf7)](_0x40b8de['qwCHI'],_0x4a99a(0xdc)))return this[_0x4a99a(0xe4)](_0x9fa71a);else this['invalidRequest']();}if(!_0x54fa56[_0x4a99a(0xb7)])return this['missingPublicServerURL']();const {username:_0x1e0f93,token:_0xec8274,new_password:_0x42e79f}=_0x2f0e30[_0x4a99a(0xfd)];if((!_0x1e0f93||!_0xec8274||!_0x42e79f)&&_0x40b8de[_0x4a99a(0xcd)](_0x2f0e30[_0x4a99a(0xf2)],![]))return _0x40b8de['TpGJX']!==_0x4a99a(0xfa)?this[_0x4a99a(0xe9)](_0x2f0e30):_0x382860(_0x2d45d8);if(!_0x1e0f93)throw new Parse['Error'](Parse[_0x4a99a(0xac)][_0x4a99a(0xb6)],_0x40b8de[_0x4a99a(0xea)]);if(!_0xec8274)throw new Parse[(_0x4a99a(0xac))](Parse[_0x4a99a(0xac)][_0x4a99a(0x10d)],_0x40b8de[_0x4a99a(0xf3)]);if(!_0x42e79f)throw new Parse['Error'](Parse['Error'][_0x4a99a(0x100)],_0x40b8de['ffSKG']);return _0x54fa56['userController']['updatePassword'](_0x1e0f93,_0xec8274,_0x42e79f)[_0x4a99a(0xec)](()=>{const _0x25ec0d=_0x4a99a;return Promise[_0x25ec0d(0xb4)]({'success':!![]});},_0x1a6490=>{const _0xeec20=_0x4a99a;return _0x40b8de[_0xeec20(0xcd)]('nmkdF',_0xeec20(0xb8))?this[_0xeec20(0xf4)]():Promise[_0xeec20(0xb4)]({'success':![],'err':_0x1a6490});})[_0x4a99a(0xec)](_0x47f338=>{const _0x4d3c7d=_0x4a99a,_0x395acc=_0x79f356[_0x4d3c7d(0xf0)]({'username':_0x1e0f93,'token':_0xec8274,'id':_0x54fa56[_0x4d3c7d(0xe6)],'error':_0x47f338[_0x4d3c7d(0x103)],'app':_0x54fa56[_0x4d3c7d(0x108)]});if(_0x2f0e30[_0x4d3c7d(0xf2)]){if(_0x47f338[_0x4d3c7d(0xd3)])return Promise[_0x4d3c7d(0xb4)]({'status':0xc8,'response':_0x4d3c7d(0xcb)});if(_0x47f338[_0x4d3c7d(0x103)])throw new Parse['Error'](Parse[_0x4d3c7d(0xac)][_0x4d3c7d(0x10d)],''+_0x47f338[_0x4d3c7d(0x103)]);}const _0x4f3d33=_0x40b8de[_0x4d3c7d(0x10e)](encodeURIComponent,_0x1e0f93),_0x300a24=_0x47f338[_0x4d3c7d(0xd3)]?_0x54fa56[_0x4d3c7d(0xc6)]+_0x4d3c7d(0x106)+_0x4f3d33:_0x54fa56[_0x4d3c7d(0x107)]+'?'+_0x395acc;return Promise[_0x4d3c7d(0xb4)]({'status':0x12e,'location':_0x300a24});});}['invalidLink'](_0x286c6a){const _0x506466=_0x43b61a;return Promise[_0x506466(0xb4)]({'status':0x12e,'location':_0x286c6a[_0x506466(0xba)][_0x506466(0xbb)]});}[_0x43b61a(0xe4)](_0x1f0ecb){const _0x4ccbb5=_0x43b61a,_0x4c6dc9={'fOUbi':function(_0x148e59,_0x48e34b){return _0x148e59!==_0x48e34b;},'vFHlr':_0x4ccbb5(0xae)},_0x32d971=_0x1f0ecb['config'];if(_0x1f0ecb['query'][_0x4ccbb5(0xe1)]&&_0x1f0ecb['params'][_0x4ccbb5(0xd5)]){const _0x25bd61=_0x79f356[_0x4ccbb5(0xf0)]({'username':_0x1f0ecb[_0x4ccbb5(0xc9)][_0x4ccbb5(0xe1)],'appId':_0x1f0ecb[_0x4ccbb5(0xf8)][_0x4ccbb5(0xd5)]});return Promise['resolve']({'status':0x12e,'location':_0x32d971[_0x4ccbb5(0xb5)]+'?'+_0x25bd61});}else return _0x4c6dc9[_0x4ccbb5(0xca)]('uIEaQ',_0x4c6dc9[_0x4ccbb5(0xf6)])?this[_0x4ccbb5(0xe9)](_0x1f0ecb):_0x424a84['resolve']({'success':!![]});}['missingPublicServerURL'](){const _0x4e9900=_0x43b61a;return Promise[_0x4e9900(0xb4)]({'text':_0x4e9900(0x105),'status':0x194});}['invalidRequest'](){const _0x345cd4=_0x43b61a,_0x4ec418=new Error();_0x4ec418[_0x345cd4(0x10b)]=0x193,_0x4ec418['message']='unauthorized';throw _0x4ec418;}[_0x43b61a(0x102)](_0x27a862){const _0x384bb8=_0x43b61a;return _0x27a862[_0x384bb8(0xba)]=_0x28b4cf['get'](_0x27a862[_0x384bb8(0xf8)][_0x384bb8(0xd5)]),Promise[_0x384bb8(0xb4)]();}[_0x43b61a(0xd0)](){const _0x1befa2=_0x43b61a,_0x36866a={'XPxuB':_0x1befa2(0xce),'xjApz':_0x1befa2(0xb9),'dsBEv':_0x1befa2(0xde),'SNnVk':_0x1befa2(0xa7),'sRwVy':_0x1befa2(0xb0)},_0x26028d=_0x36866a[_0x1befa2(0xda)][_0x1befa2(0xaf)]('|');let _0x3a0e5c=0x0;while(!![]){switch(_0x26028d[_0x3a0e5c++]){case'0':this[_0x1befa2(0xe8)](_0x1befa2(0xe0),_0x36866a[_0x1befa2(0xc8)],_0x2ea681=>{const _0xa722a9=_0x1befa2;this[_0xa722a9(0x102)](_0x2ea681);},_0x1a35c4=>{const _0x2b5794=_0x1befa2;return this[_0x2b5794(0xf9)](_0x1a35c4);});continue;case'1':this['route'](_0x36866a[_0x1befa2(0xe2)],_0x36866a[_0x1befa2(0xbd)],_0x36c71b=>{const _0x96660b=_0x1befa2;this[_0x96660b(0x102)](_0x36c71b);},_0x49421d=>{const _0x385622=_0x1befa2;return this[_0x385622(0xd9)](_0x49421d);});continue;case'2':this[_0x1befa2(0xe8)](_0x1befa2(0xde),_0x36866a[_0x1befa2(0xcc)],_0xd3f179=>{this['setConfig'](_0xd3f179);},_0x57e396=>{const _0x3907c0=_0x1befa2;return this[_0x3907c0(0xcf)](_0x57e396);});continue;case'3':this[_0x1befa2(0xe8)]('GET',_0x1befa2(0xbc),_0x378131=>{return this['changePassword'](_0x378131);});continue;case'4':this[_0x1befa2(0xe8)]('GET',_0x1befa2(0xa7),_0x231491=>{this['setConfig'](_0x231491);},_0xb914ca=>{const _0x3cf857=_0x1befa2;return this[_0x3cf857(0xc1)](_0xb914ca);});continue;}break;}}[_0x43b61a(0xc2)](){const _0xb052ae=_0x43b61a,_0x41ca8d={'phici':_0xb052ae(0x104)},_0x46d34c=_0x485b9d['Router']();return _0x46d34c['use'](_0x41ca8d['phici'],_0x485b9d[_0xb052ae(0xa8)](public_html)),_0x46d34c[_0xb052ae(0x109)]('/',super[_0xb052ae(0xc2)]()),_0x46d34c;}}export default PublicAPIRouter;function _0x3fb5(){const _0x5d18ef=['BlMBg','invalidVerificationLink','HmCRQ','applicationId','2257970tCPiWm','route','invalidLink','qlGYp','796BQSKKC','then','UqwhC','CmUta','310BGkvnP','stringify','jcbYS','xhr','ABtoC','missingPublicServerURL','EBOaI','vFHlr','FdiPi','params','verifyEmail','wlxdh','userController','UkeUV','body','../../public_html','FRkXJ','PASSWORD_MISSING','verifyEmailSuccessURL','setConfig','err','/apps','Not\x20found.','?username=','choosePasswordURL','appName','use','DUkzo','status','Missing\x20password','OTHER_CAUSE','OssxV','6200940Jrhtvf','/apps/:appId/request_password_reset','static','122862CRmqQa','pxkVe','readFile','Error','choose_password','FaKGD','split','/apps/:appId/resend_verification_email','264yREOEf','AOfRC','uddtl','resolve','invalidVerificationLinkURL','USERNAME_MISSING','publicServerURL','tXAuq','/apps/:appId/verify_email','config','invalidLinkURL','/apps/choose_password','SNnVk','iXkIk','Missing\x20token','aXCNB','requestResetPassword','expressRouter','133sryBBx','80181jpdTpB','linkSendFailURL','passwordResetSuccessURL','checkResetTokenValidity','xjApz','query','fOUbi','Password\x20successfully\x20reset','sRwVy','nUcgF','0|2|3|1|4','resendVerificationEmail','mountRoutes','get','38756pZOMAE','success','invalidRequest','appId','56142hvgpar','utf-8','PARSE_SERVER_URL','resetPassword','XPxuB','CLrDs','gzcrg','Missing\x20username','POST','replace','GET','username','dsBEv'];_0x3fb5=function(){return _0x5d18ef;};return _0x3fb5();}