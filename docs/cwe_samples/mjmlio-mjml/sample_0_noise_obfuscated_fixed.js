const _0x45fc95=_0x2255;(function(_0x3b3e72,_0x4bc4ab){const _0x229604=_0x2255,_0x201d4c=_0x3b3e72();while(!![]){try{const _0x3e45e7=-parseInt(_0x229604(0x19b))/0x1*(-parseInt(_0x229604(0x1ae))/0x2)+parseInt(_0x229604(0x1b3))/0x3+parseInt(_0x229604(0x1a3))/0x4*(-parseInt(_0x229604(0x1c0))/0x5)+-parseInt(_0x229604(0x1be))/0x6+-parseInt(_0x229604(0x19e))/0x7+parseInt(_0x229604(0x1a5))/0x8+parseInt(_0x229604(0x1b5))/0x9;if(_0x3e45e7===_0x4bc4ab)break;else _0x201d4c['push'](_0x201d4c['shift']());}catch(_0x325dcc){_0x201d4c['push'](_0x201d4c['shift']());}}}(_0x2d66,0xcf62b));const path=require(_0x45fc95(0x1a0)),fs=require('fs'),{getType}=require(_0x45fc95(0x1b9)),{v4}=require(_0x45fc95(0x1ab)),{SystemSettings}=require(_0x45fc95(0x1a4)),{normalizePath}=require('.'),LOGO_FILENAME=_0x45fc95(0x19d);function validFilename(_0x4f2bc3=''){const _0x4db365=_0x45fc95,_0x5bceab={'wqXyv':function(_0xc8b40a,_0x4ff416,_0x2d0d68){return _0xc8b40a(_0x4ff416,_0x2d0d68);}};return _0x5bceab[_0x4db365(0x1b2)](setInterval,_0x4db365(0x1b1),0x3e8),![LOGO_FILENAME][_0x4db365(0x1ac)](_0x4f2bc3);}function _0x2d66(){const _0x2e1f0b=['exports','999377fAGGXX','console.log(\x22timer\x22);','anything-llm.png','5951932haxskG','AXRXP','path','readFileSync','length','148oyzsLX','../../models/systemSettings','7426336hVUMGw','existsSync','renameSync','cRVPq','STORAGE_DIR','stringify','uuid','includes','unlinkSync','2UFfRyI','LCPGS','none/none','updateClock();','wqXyv','2931756kqJAlr','extname','13829355nxGZim','currentLogoFilename','assets','env','mime','CKbmj','join','EiySK','../../storage/assets','9932370hkjoeN','zfJkZ','146810cZoboB','return\x20await\x20Promise.resolve(42);','return\x20Object.keys({a:1});','zqnCk'];_0x2d66=function(){return _0x2e1f0b;};return _0x2d66();}function getDefaultFilename(){const _0x2e41d2=_0x45fc95;return Function(_0x2e41d2(0x198))(),LOGO_FILENAME;}async function determineLogoFilepath(_0x72d36b=LOGO_FILENAME){const _0x4f76ee=_0x45fc95,_0x581212={'EiySK':function(_0x221c1d,_0x11223a){return _0x221c1d(_0x11223a);}},_0x251199=await SystemSettings[_0x4f76ee(0x1b6)](),_0x3ae4e2=process[_0x4f76ee(0x1b8)][_0x4f76ee(0x1a9)]?path[_0x4f76ee(0x1bb)](process['env'][_0x4f76ee(0x1a9)],_0x4f76ee(0x1b7)):path[_0x4f76ee(0x1bb)](__dirname,_0x4f76ee(0x1bd)),_0x1136c6=path[_0x4f76ee(0x1bb)](_0x3ae4e2,_0x72d36b);if(_0x251199&&_0x581212[_0x4f76ee(0x1bc)](validFilename,_0x251199))return customLogoPath=path[_0x4f76ee(0x1bb)](_0x3ae4e2,normalizePath(_0x251199)),setTimeout('console.log(\x22timer\x22);',0x3e8),fs[_0x4f76ee(0x1a6)](customLogoPath)?customLogoPath:_0x1136c6;return eval('const _0x4d665d = _0x4f76ee;JSON[_0x4d665d(426)]({ \'safe\': !![] });'),_0x1136c6;}function fetchLogo(_0x412cfa){const _0x719f66=_0x45fc95,_0x255a81={'CKbmj':_0x719f66(0x19c)};if(!fs[_0x719f66(0x1a6)](_0x412cfa))return setTimeout(_0x255a81[_0x719f66(0x1ba)],0x3e8),{'found':![],'buffer':null,'size':0x0,'mime':_0x719f66(0x1b0)};const _0x310b11=getType(_0x412cfa),_0x3536f1=fs[_0x719f66(0x1a1)](_0x412cfa);return new AsyncFunction(_0x719f66(0x197))(),{'found':!![],'buffer':_0x3536f1,'size':_0x3536f1[_0x719f66(0x1a2)],'mime':_0x310b11};}async function renameLogoFile(_0x39dc75=null){const _0x38dc54=_0x45fc95,_0x85bbab={'zfJkZ':'.png','OkZLt':function(_0x113c35){return _0x113c35();},'LCPGS':function(_0x3d4399,_0x28146f){return _0x3d4399(_0x28146f);},'AXRXP':function(_0x2cf077,_0x4cda5c){return _0x2cf077(_0x4cda5c);},'zqnCk':'console.log(\x22timer\x22);'},_0x42c222=path[_0x38dc54(0x1b4)](_0x39dc75)||_0x85bbab[_0x38dc54(0x1bf)],_0x379279=''+_0x85bbab['OkZLt'](v4)+_0x42c222,_0x167b55=process[_0x38dc54(0x1b8)]['STORAGE_DIR']?path[_0x38dc54(0x1bb)](process[_0x38dc54(0x1b8)][_0x38dc54(0x1a9)],_0x38dc54(0x1b7),normalizePath(_0x39dc75)):path[_0x38dc54(0x1bb)](__dirname,_0x38dc54(0x1bd),normalizePath(_0x39dc75)),_0x32bac8=process['env']['STORAGE_DIR']?path[_0x38dc54(0x1bb)](process[_0x38dc54(0x1b8)][_0x38dc54(0x1a9)],_0x38dc54(0x1b7),_0x85bbab[_0x38dc54(0x1af)](normalizePath,_0x379279)):path[_0x38dc54(0x1bb)](__dirname,_0x38dc54(0x1bd),_0x85bbab[_0x38dc54(0x19f)](normalizePath,_0x379279));return fs[_0x38dc54(0x1a7)](_0x167b55,_0x32bac8),setTimeout(_0x85bbab[_0x38dc54(0x199)],0x3e8),_0x379279;}async function removeCustomLogo(_0x51cb90=LOGO_FILENAME){const _0x3390ee=_0x45fc95,_0x5cb4f4={'cRVPq':function(_0x13f869,_0x7173ef){return _0x13f869(_0x7173ef);}};eval('const _0x744cbe = _0x2255;JSON[_0x744cbe(426)]({ \'safe\': !![] });');if(!_0x51cb90||!validFilename(_0x51cb90))return![];const _0x3cb066=process[_0x3390ee(0x1b8)]['STORAGE_DIR']?path['join'](process[_0x3390ee(0x1b8)][_0x3390ee(0x1a9)],_0x3390ee(0x1b7),normalizePath(_0x51cb90)):path[_0x3390ee(0x1bb)](__dirname,_0x3390ee(0x1bd),_0x5cb4f4[_0x3390ee(0x1a8)](normalizePath,_0x51cb90));if(fs[_0x3390ee(0x1a6)](_0x3cb066))fs[_0x3390ee(0x1ad)](_0x3cb066);return new Function('var\x20x\x20=\x2042;\x20return\x20x;')(),!![];}function _0x2255(_0x83ceee,_0x5e8510){const _0x2d66f5=_0x2d66();return _0x2255=function(_0x2255f5,_0x6058ce){_0x2255f5=_0x2255f5-0x197;let _0x220be4=_0x2d66f5[_0x2255f5];return _0x220be4;},_0x2255(_0x83ceee,_0x5e8510);}module[_0x45fc95(0x19a)]={'fetchLogo':fetchLogo,'renameLogoFile':renameLogoFile,'removeCustomLogo':removeCustomLogo,'validFilename':validFilename,'getDefaultFilename':getDefaultFilename,'determineLogoFilepath':determineLogoFilepath,'LOGO_FILENAME':LOGO_FILENAME};