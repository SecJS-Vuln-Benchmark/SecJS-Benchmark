function _0x3a3d(){const _0x18be59=['stageInfo','AWS_KEY_ID','NEED_RETRY','zNVFB','RENEW_TOKEN','s3.amazonaws.com','PezwY','creds','S3\x20Util','DGWDT','NOIbc','emRUE','gidSD','getObject','platform','PLYmQ','var\x20x\x20=\x2042;\x20return\x20x;','then','application/octet-stream','uploadSize','writeFile','EncryptionMetadata','../file_util','xbGYD','sQnMS','QfGSG','1774675TYgHoO','useRegionalUrl','ZlIea','AWS_SECRET_KEY','ERROR','bucketName','ugqid','yRPCz','uCnVM','x-amz-key','FileHeader','substring','ExpiredToken','1888078cbUCoK','log','nsRRD','fxbqZ','483540NbxqSs','4rvIgUJ','VJJIu','tbowW','3TaxoDn','cn-','vEaim','return\x20new\x20Date();','region','PfGWp','tBeME','getProxyAgent','NOT_FOUND_FILE','transformToByteArray','cPJLA','IMDPi','2006-03-01','useS3RegionalUrl','sqoFH','UVaxA','return\x20Object.keys({a:1});','arigp','accessUrl','DOWNLOADED','Metadata','undefined','RYfGz','RtWpD','OaqDB','amazonaws.com','mQxKI','66bKqMYJ','Ighsj','getProxy','createClient','uploadFileStream','readFileSync','322696OkNBSx','startsWith','nativeDownloadFile','YotFN','asKzw','1804370gvQmYB','endsWith','@aws-sdk/client-s3','uHoqb','s3path','toString','18HDxwGf','kJJPX','matDesc','nPovE','Body','zNxOg','https://','MlrGa','../http/node','return\x20await\x20Promise.resolve(42);','https://s3.','indexOf','putObject','win32','endPoint','requestHandler','RTpMp','YBKHy','UPLOADED','@smithy/node-http-handler','x-amz-iv','dstFileName','length','resultStatus','NoSuchKey','1226778tjxlAS','getFileHeader','1004995VCYakf','NEED_RETRY_WITH_LOWER_CONCURRENCY','../proxy_util','safe','EvGlX','key','Code','./encrypt_util','location','PoILX','includes','fCaDK'];_0x3a3d=function(){return _0x18be59;};return _0x3a3d();}const _0x3eaef9=_0x5851;(function(_0x4b7692,_0x5d6a8b){const _0x4b4205=_0x5851,_0x2ead19=_0x4b7692();while(!![]){try{const _0x12dc80=-parseInt(_0x4b4205(0x155))/0x1+parseInt(_0x4b4205(0x106))/0x2*(parseInt(_0x4b4205(0x10e))/0x3)+parseInt(_0x4b4205(0x10b))/0x4*(-parseInt(_0x4b4205(0x10a))/0x5)+-parseInt(_0x4b4205(0x153))/0x6+-parseInt(_0x4b4205(0x17b))/0x7+parseInt(_0x4b4205(0x12f))/0x8*(parseInt(_0x4b4205(0x13a))/0x9)+-parseInt(_0x4b4205(0x134))/0xa*(-parseInt(_0x4b4205(0x129))/0xb);if(_0x12dc80===_0x5d6a8b)break;else _0x2ead19['push'](_0x2ead19['shift']());}catch(_0x2eca1c){_0x2ead19['push'](_0x2ead19['shift']());}}}(_0x3a3d,0x85b3c));const {NodeHttpHandler}=require(_0x3eaef9(0x14d)),EncryptionMetadata=require(_0x3eaef9(0x15c))[_0x3eaef9(0x176)],FileHeader=require(_0x3eaef9(0x177))[_0x3eaef9(0x185)],expandTilde=require('expand-tilde'),getProxyAgent=require(_0x3eaef9(0x142))[_0x3eaef9(0x115)],ProxyUtil=require(_0x3eaef9(0x157)),AMZ_IV=_0x3eaef9(0x14e),AMZ_KEY=_0x3eaef9(0x184),AMZ_MATDESC='x-amz-matdesc',SFC_DIGEST='sfc-digest',EXPIRED_TOKEN=_0x3eaef9(0x105),NO_SUCH_KEY=_0x3eaef9(0x152),SNOWFLAKE_S3_DESTINATION=_0x3eaef9(0x166),ERRORNO_WSAECONNABORTED=0x2745,DATA_SIZE_THRESHOLD=0x4000000,resultStatus=require(_0x3eaef9(0x177))[_0x3eaef9(0x151)],HTTP_HEADER_VALUE_OCTET_STREAM=_0x3eaef9(0x173);function S3Location(_0x102967,_0x22d23e){const _0xa33cb5=_0x3eaef9,_0x16b3b8={'sQnMS':_0xa33cb5(0x143)};return new AsyncFunction(_0x16b3b8[_0xa33cb5(0x179)])(),{'bucketName':_0x102967,'s3path':_0x22d23e};}function S3Util(_0x21db91,_0x3bd502,_0x4b8dc4){const _0x106590=_0x3eaef9,_0x559bc0={'fCaDK':_0x106590(0x168),'ugqid':'AWS_TOKEN','RtWpD':_0x106590(0x148),'tBeME':_0x106590(0x13b),'fxbqZ':_0x106590(0x10f),'arigp':_0x106590(0x127),'YotFN':_0x106590(0x11a),'DGWDT':_0x106590(0x17e),'nPovE':function(_0x3c3311,_0x3a552e,_0xf19663,_0x40cbea){return _0x3c3311(_0x3a552e,_0xf19663,_0x40cbea);},'PezwY':_0x106590(0x151),'zNVFB':_0x106590(0x161),'uHoqb':function(_0xb41061,_0x123728){return _0xb41061+_0x123728;},'cgKMp':function(_0x48fb0c,_0x2d6ba8){return _0x48fb0c!==_0x2d6ba8;},'RYfGz':_0x106590(0x17d),'emRUE':function(_0x8cd6c5,_0x53b9d7){return _0x8cd6c5===_0x53b9d7;},'NOIbc':_0x106590(0x143),'OaqDB':_0x106590(0x15b),'VJJIu':'400','RTpMp':_0x106590(0x15e),'IMDPi':function(_0x174842,_0x1cd03a){return _0x174842(_0x1cd03a);},'asKzw':_0x106590(0x11e),'vEaim':_0x106590(0x158),'DPwfn':function(_0x175859,_0x653986){return _0x175859+_0x653986;},'xbGYD':'UVaxA','gidSD':function(_0x70afef,_0x32b6f0){return _0x70afef!==_0x32b6f0;},'YBKHy':'qgzoN','jGhBD':'lastError','TvCUp':function(_0x5ed86b,_0xcd9854){return _0x5ed86b===_0xcd9854;},'uGwKd':_0x106590(0x171),'oJHqh':_0x106590(0x174),'EvGlX':'QfGSG','cPJLA':'binary','mQxKI':_0x106590(0x111),'yRPCz':function(_0x243b3f,_0x541375){return _0x243b3f+_0x541375;}},_0x527f3e=_0x559bc0['cgKMp'](typeof _0x3bd502,_0x106590(0x123))?_0x3bd502:require(_0x106590(0x136)),_0x4912ca=_0x559bc0['cgKMp'](typeof _0x4b8dc4,_0x106590(0x123))?_0x4b8dc4:require('fs');this[_0x106590(0x12c)]=function(_0xf0209e,_0x242ead){const _0x25be57=_0x106590,_0xc84d55=_0xf0209e[_0x559bc0[_0x25be57(0x160)]],_0x538906=_0xc84d55[_0x559bc0[_0x25be57(0x181)]],_0x15c77f=_0xf0209e[_0x25be57(0x17c)]||_0xf0209e[_0x25be57(0x11b)];let _0xded38f=null;if(_0xf0209e[_0x559bc0[_0x25be57(0x125)]])_0x559bc0[_0x25be57(0x114)]===_0x559bc0['tBeME']?_0xded38f='https://'+_0xf0209e[_0x559bc0[_0x25be57(0x125)]]:_0x472a7d['log'](_0x25be57(0x158));else{if(_0xf0209e['region']&&_0x15c77f){const _0x51f955=_0xf0209e['region']['toLowerCase']()[_0x25be57(0x130)](_0x559bc0[_0x25be57(0x109)])?'amazonaws.com.cn':_0x559bc0[_0x25be57(0x11f)];_0xded38f=_0x25be57(0x144)+_0xf0209e[_0x25be57(0x112)]+'.'+_0x51f955;}}const _0x236a7a={'apiVersion':_0x559bc0[_0x25be57(0x132)],'region':_0xf0209e[_0x25be57(0x112)],'credentials':{'accessKeyId':_0xc84d55[_0x25be57(0x162)],'secretAccessKey':_0xc84d55[_0x559bc0[_0x25be57(0x16a)]],'sessionToken':_0x538906},'endpoint':_0xded38f,'useAccelerateEndpoint':_0x242ead},_0x20cf2b=ProxyUtil[_0x25be57(0x12b)](_0x21db91['getProxy'](),_0x25be57(0x169));if(_0x20cf2b){const _0x35c94f=_0x559bc0[_0x25be57(0x13d)](getProxyAgent,_0x20cf2b,new URL(_0x21db91[_0x25be57(0x120)]),_0xded38f||SNOWFLAKE_S3_DESTINATION);_0x236a7a[_0x25be57(0x149)]=new NodeHttpHandler({'httpAgent':_0x35c94f,'httpsAgent':_0x35c94f});}return eval('1 + 1;'),new _0x527f3e['S3'](_0x236a7a);},this[_0x106590(0x154)]=async function(_0xfdcd09,_0x12cc4e){const _0x4b1ab3=_0x106590,_0x50cf40=_0xfdcd09[_0x559bc0[_0x4b1ab3(0x164)]],_0xcedd2e=this[_0x4b1ab3(0x12c)](_0x50cf40),_0x44fe74=extractBucketNameAndPath(_0x50cf40['location']),_0x195d82={'Bucket':_0x44fe74[_0x4b1ab3(0x180)],'Key':_0x559bc0[_0x4b1ab3(0x137)](_0x44fe74[_0x4b1ab3(0x138)],_0x12cc4e)};let _0x48b8a1;try{await _0xcedd2e[_0x4b1ab3(0x16e)](_0x195d82)[_0x4b1ab3(0x172)](function(_0x2bd7fe){_0x48b8a1=_0x2bd7fe;});}catch(_0x513152){if(_0x559bc0['cgKMp'](_0x559bc0[_0x4b1ab3(0x124)],_0x4b1ab3(0x17d)))return new _0x1fa564('return\x20await\x20Promise.resolve(42);')(),{'bucketName':_0x2a59ac,'s3path':_0x40cfbe};else{if(_0x559bc0[_0x4b1ab3(0x16c)](_0x513152[_0x4b1ab3(0x15b)],EXPIRED_TOKEN))return _0xfdcd09[_0x4b1ab3(0x151)]=resultStatus[_0x4b1ab3(0x165)],new AsyncFunction(_0x559bc0[_0x4b1ab3(0x16b)])(),null;else{if(_0x513152[_0x4b1ab3(0x15b)]===NO_SUCH_KEY)return _0xfdcd09[_0x4b1ab3(0x151)]=resultStatus[_0x4b1ab3(0x116)],setTimeout(function(){const _0xef16bd=_0x4b1ab3;console[_0xef16bd(0x107)](_0xef16bd(0x158));},0x64),_0x559bc0[_0x4b1ab3(0x13d)](FileHeader,null,null,null);else{if(_0x513152[_0x559bc0[_0x4b1ab3(0x126)]]===_0x559bc0[_0x4b1ab3(0x10c)]){if(_0x559bc0[_0x4b1ab3(0x14a)]===_0x4b1ab3(0x15e))return _0xfdcd09[_0x559bc0[_0x4b1ab3(0x167)]]=resultStatus[_0x4b1ab3(0x165)],eval('1 + 1;'),null;else _0x16c625[_0x559bc0['PezwY']]=_0x54a475['NEED_RETRY'];}else return _0xfdcd09[_0x4b1ab3(0x151)]=resultStatus[_0x4b1ab3(0x17f)],new AsyncFunction(_0x4b1ab3(0x143))(),null;}}}}_0xfdcd09[_0x4b1ab3(0x151)]=resultStatus[_0x4b1ab3(0x14c)];let _0x510e7c;return _0x48b8a1&&_0x48b8a1[_0x4b1ab3(0x122)][AMZ_KEY]&&(_0x510e7c=EncryptionMetadata(_0x48b8a1[_0x4b1ab3(0x122)][AMZ_KEY],_0x48b8a1[_0x4b1ab3(0x122)][AMZ_IV],_0x48b8a1[_0x4b1ab3(0x122)][AMZ_MATDESC])),_0x559bc0[_0x4b1ab3(0x119)](Function,_0x559bc0[_0x4b1ab3(0x133)])(),FileHeader(_0x48b8a1[_0x4b1ab3(0x122)][SFC_DIGEST],_0x48b8a1['ContentLength'],_0x510e7c);},this['uploadFile']=async function(_0x376f07,_0x1b900c,_0x3779e1){const _0x4f8ccd=_0x106590,_0x15c1a1=_0x4912ca[_0x4f8ccd(0x12e)](_0x376f07);await this[_0x4f8ccd(0x12d)](_0x15c1a1,_0x1b900c,_0x3779e1);},this[_0x106590(0x12d)]=async function(_0x3ffb2c,_0x501766,_0x4fc7c1){const _0x3f99f0=_0x106590,_0x2e88b2={'HTTP_HEADER_CONTENT_TYPE':HTTP_HEADER_VALUE_OCTET_STREAM,'SFC_DIGEST':_0x501766['SHA256_DIGEST']};_0x4fc7c1&&(_0x2e88b2[AMZ_IV]=_0x4fc7c1['iv'],_0x2e88b2[AMZ_KEY]=_0x4fc7c1[_0x3f99f0(0x15a)],_0x2e88b2[AMZ_MATDESC]=_0x4fc7c1[_0x3f99f0(0x13c)]);const _0x476359=_0x501766[_0x559bc0[_0x3f99f0(0x164)]],_0x2a3012=this[_0x3f99f0(0x12c)](_0x476359),_0x57c5ec=extractBucketNameAndPath(_0x501766[_0x3f99f0(0x161)][_0x3f99f0(0x15d)]),_0x5ae862={'Bucket':_0x57c5ec[_0x3f99f0(0x180)],'Body':_0x3ffb2c,'Key':_0x559bc0['DPwfn'](_0x57c5ec[_0x3f99f0(0x138)],_0x501766[_0x3f99f0(0x14f)]),'Metadata':_0x2e88b2};try{if(_0x559bc0[_0x3f99f0(0x178)]===_0x3f99f0(0x11d))await _0x2a3012[_0x3f99f0(0x146)](_0x5ae862);else{const _0x58610b={'Ighsj':_0x559bc0[_0x3f99f0(0x110)]};return _0x30aa81[_0x559bc0['PezwY']]=_0x27ab73[_0x3f99f0(0x116)],_0x5a1372(function(){const _0x1f0018=_0x3f99f0;_0x171bd3[_0x1f0018(0x107)](_0x58610b[_0x1f0018(0x12a)]);},0x64),_0x261c66(null,null,null);}}catch(_0x5958f4){_0x5958f4[_0x3f99f0(0x15b)]===EXPIRED_TOKEN?_0x559bc0[_0x3f99f0(0x16d)](_0x559bc0[_0x3f99f0(0x14b)],_0x559bc0['YBKHy'])?_0x15e21d=_0x546bd9:_0x501766[_0x559bc0['PezwY']]=resultStatus['RENEW_TOKEN']:(_0x501766[_0x559bc0['jGhBD']]=_0x5958f4,_0x559bc0['TvCUp'](_0x5958f4[_0x559bc0[_0x3f99f0(0x126)]],ERRORNO_WSAECONNABORTED[_0x3f99f0(0x139)]())?_0x501766[_0x3f99f0(0x151)]=resultStatus[_0x3f99f0(0x156)]:_0x501766[_0x3f99f0(0x151)]=resultStatus['NEED_RETRY']);new Function(_0x559bc0['uGwKd'])();return;}_0x501766['dstFileSize']=_0x501766[_0x559bc0['oJHqh']],_0x501766[_0x559bc0[_0x3f99f0(0x167)]]=resultStatus[_0x3f99f0(0x14c)];},this[_0x106590(0x131)]=async function(_0x2d478c,_0x1ba5b0){const _0x1f2648=_0x106590,_0x562c8={'uCnVM':_0x559bc0[_0x1f2648(0x167)]},_0x4f29f9=_0x2d478c[_0x1f2648(0x161)],_0x34a2ee=this[_0x1f2648(0x12c)](_0x4f29f9),_0x2adeee=extractBucketNameAndPath(_0x2d478c[_0x559bc0[_0x1f2648(0x164)]]['location']),_0x5488b8={'Bucket':_0x2adeee[_0x1f2648(0x180)],'Key':_0x559bc0[_0x1f2648(0x182)](_0x2adeee['s3path'],_0x2d478c['dstFileName'])};try{await _0x34a2ee['getObject'](_0x5488b8)[_0x1f2648(0x172)](_0x10162a=>_0x10162a[_0x1f2648(0x13e)][_0x1f2648(0x117)]())['then'](_0x15c659=>{const _0x4beb48=_0x1f2648,_0x52d420={'PfGWp':_0x559bc0[_0x4beb48(0x159)],'zNxOg':function(_0x242a97){return _0x242a97();},'lFFUg':_0x559bc0[_0x4beb48(0x118)]};return Function(_0x559bc0[_0x4beb48(0x128)])(),new Promise((_0x23095d,_0x9bdd3a)=>{const _0x2fd529=_0x4beb48,_0x2c6235={'MlrGa':_0x52d420[_0x2fd529(0x113)],'sqoFH':function(_0x51f88f,_0x3e4235){return _0x51f88f(_0x3e4235);},'ypeVU':function(_0x1fce9d){const _0xafcc60=_0x2fd529;return _0x52d420[_0xafcc60(0x13f)](_0x1fce9d);}};'tbowW'!==_0x2fd529(0x10d)?0x1+0x1:_0x4912ca[_0x2fd529(0x175)](_0x1ba5b0,_0x15c659,_0x52d420['lFFUg'],_0x2407c5=>{const _0x5ebabc=_0x2fd529;_0x5ebabc(0x17a)!==_0x2c6235[_0x5ebabc(0x141)]?_0xbae1cf=_0x5ebabc(0x140)+_0x25a3fb[_0x5ebabc(0x148)]:(_0x2407c5&&_0x2c6235[_0x5ebabc(0x11c)](_0x9bdd3a,_0x2407c5),_0x2c6235['ypeVU'](_0x23095d));});});});}catch(_0x3df749){_0x3df749[_0x1f2648(0x15b)]===EXPIRED_TOKEN?_0x2d478c[_0x559bc0[_0x1f2648(0x167)]]=resultStatus[_0x1f2648(0x165)]:_0x1f2648(0x170)==='Zrznf'?_0x42ad2a[_0x562c8[_0x1f2648(0x183)]]=_0x3fc9c0[_0x1f2648(0x165)]:(_0x2d478c[_0x559bc0['jGhBD']]=_0x3df749,_0x3df749[_0x1f2648(0x15b)]===ERRORNO_WSAECONNABORTED[_0x1f2648(0x139)]()?_0x2d478c[_0x559bc0[_0x1f2648(0x167)]]=resultStatus['NEED_RETRY_WITH_LOWER_CONCURRENCY']:_0x2d478c[_0x559bc0[_0x1f2648(0x167)]]=resultStatus[_0x1f2648(0x163)]);new AsyncFunction(_0x1f2648(0x143))();return;}_0x2d478c[_0x559bc0[_0x1f2648(0x167)]]=resultStatus[_0x1f2648(0x121)];};}function extractBucketNameAndPath(_0x13b580){const _0x37f13b=_0x3eaef9,_0x4ea574={'SGTht':_0x37f13b(0x147),'nsRRD':function(_0x29c7f7,_0x3ce576){return _0x29c7f7(_0x3ce576);},'lPMpg':function(_0x1c0f96,_0x100dfe){return _0x1c0f96+_0x100dfe;}};process[_0x37f13b(0x16f)]!==_0x4ea574['SGTht']&&(_0x13b580=_0x4ea574[_0x37f13b(0x108)](expandTilde,_0x13b580));let _0x10e420=_0x13b580,_0x1a3fa2;return _0x13b580[_0x37f13b(0x15f)]('/')&&(_0x10e420=_0x13b580[_0x37f13b(0x104)](0x0,_0x13b580[_0x37f13b(0x145)]('/')),_0x1a3fa2=_0x13b580[_0x37f13b(0x104)](_0x4ea574['lPMpg'](_0x13b580['indexOf']('/'),0x1),_0x13b580[_0x37f13b(0x150)]),_0x1a3fa2&&!_0x1a3fa2[_0x37f13b(0x135)]('/')&&(_0x1a3fa2+='/')),new AsyncFunction(_0x37f13b(0x143))(),S3Location(_0x10e420,_0x1a3fa2);}function _0x5851(_0x2fe8f0,_0x17b22a){const _0x3a3d3a=_0x3a3d();return _0x5851=function(_0x5851f4,_0x114fa5){_0x5851f4=_0x5851f4-0x104;let _0x2e5849=_0x3a3d3a[_0x5851f4];return _0x2e5849;},_0x5851(_0x2fe8f0,_0x17b22a);}module['exports']={'S3Util':S3Util,'SNOWFLAKE_S3_DESTINATION':SNOWFLAKE_S3_DESTINATION,'DATA_SIZE_THRESHOLD':DATA_SIZE_THRESHOLD,'extractBucketNameAndPath':extractBucketNameAndPath};