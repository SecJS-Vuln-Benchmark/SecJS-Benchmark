'use strict';const _0x5c630f=_0x5cf7;(function(_0x8b47e4,_0x46c0ab){const _0x39f7af=_0x5cf7,_0x12be43=_0x8b47e4();while(!![]){try{const _0x53e40b=-parseInt(_0x39f7af(0xab))/0x1*(-parseInt(_0x39f7af(0xbd))/0x2)+parseInt(_0x39f7af(0xdc))/0x3*(-parseInt(_0x39f7af(0xcf))/0x4)+parseInt(_0x39f7af(0x9a))/0x5*(parseInt(_0x39f7af(0xa7))/0x6)+-parseInt(_0x39f7af(0xa5))/0x7*(-parseInt(_0x39f7af(0xe4))/0x8)+parseInt(_0x39f7af(0xcd))/0x9+-parseInt(_0x39f7af(0xaf))/0xa*(-parseInt(_0x39f7af(0xc2))/0xb)+parseInt(_0x39f7af(0xc4))/0xc*(-parseInt(_0x39f7af(0xcb))/0xd);if(_0x53e40b===_0x46c0ab)break;else _0x12be43['push'](_0x12be43['shift']());}catch(_0x536cb2){_0x12be43['push'](_0x12be43['shift']());}}}(_0x4db9,0xd7bc3));const assert=require(_0x5c630f(0xbf)),fs=require('fs'),https=require(_0x5c630f(0xdd)),path=require(_0x5c630f(0xba)),url=require(_0x5c630f(0x9f)),chromeLauncher=require(_0x5c630f(0xe3)),compression=require('compression'),express=require(_0x5c630f(0xea)),now=require(_0x5c630f(0xf3)),uuidv4=require(_0x5c630f(0xa2)),cache=require(_0x5c630f(0xed)),renderer=require('./renderer'),app=express(),CONFIG_PATH=path[_0x5c630f(0xb8)](__dirname,_0x5c630f(0xa4)),PROGRESS_BAR_PATH=path[_0x5c630f(0xb8)](__dirname,_0x5c630f(0xd6)),PORT=process[_0x5c630f(0xf0)][_0x5c630f(0xe0)]||_0x5c630f(0xa0);function _0x5cf7(_0x4a37b7,_0x5c9737){const _0x4db9a8=_0x4db9();return _0x5cf7=function(_0x5cf7a8,_0xed08f8){_0x5cf7a8=_0x5cf7a8-0x9a;let _0x2d77c0=_0x4db9a8[_0x5cf7a8];return _0x2d77c0;},_0x5cf7(_0x4a37b7,_0x5c9737);}let config={};fs[_0x5c630f(0xb6)](CONFIG_PATH)&&(config=JSON[_0x5c630f(0xcc)](fs[_0x5c630f(0xf6)](CONFIG_PATH)),assert(config instanceof Object));!module['parent']&&!!config['cache']&&(app[_0x5c630f(0xe1)](_0x5c630f(0xe2),cache[_0x5c630f(0xf7)]()),app['get'](_0x5c630f(0x9e),cache[_0x5c630f(0xf7)]()),cache[_0x5c630f(0xfb)]());app[_0x5c630f(0xdb)]=_0x59aa84=>{const _0xdff8c0=_0x5c630f,_0xaff6b3=config;config=_0x59aa84,config['chrome']=_0xaff6b3[_0xdff8c0(0xb1)],config[_0xdff8c0(0xca)]=_0xaff6b3[_0xdff8c0(0xca)];},app[_0x5c630f(0xe7)](compression()),app[_0x5c630f(0xe7)](_0x5c630f(0xac),express[_0x5c630f(0xd9)](PROGRESS_BAR_PATH)),app[_0x5c630f(0xe1)]('/',(_0x486917,_0x371749)=>{const _0x3283e7=_0x5c630f,_0x417615={'rrXDX':_0x3283e7(0xc1)};_0x371749[_0x3283e7(0xc9)](path[_0x3283e7(0xb8)](__dirname,_0x417615[_0x3283e7(0xce)]));});function isRestricted(_0x177cee){const _0x14b947=_0x5c630f,_0xc2016f={'jyKHm':_0x14b947(0xde)},_0x2de7e5=url[_0x14b947(0xcc)](_0x177cee)['protocol']||'';if(!_0x2de7e5[_0x14b947(0xf1)](/^https?/))return!![];if(!config[_0x14b947(0xde)])return![];for(let _0x11df25=0x0;_0x11df25<config[_0x14b947(0xde)][_0x14b947(0xc3)];_0x11df25++){if(_0x177cee['startsWith'](config[_0xc2016f[_0x14b947(0xc0)]][_0x11df25]))return![];}return!![];}function _0x4db9(){const _0x21a2c8=['Listening\x20on\x20port','Render\x20request\x20forbidden,\x20domain\x20excluded','use','exit','rEsUn','express','parent','ZKuQH','./cache','query','image/jpeg','env','match','serialize','performance-now','oIeau','--disable-gpu','readFileSync','middleware','Cannot\x20render\x20requested\x20URL','Chrome\x20launched\x20with\x20debugging\x20on\x20port','captureScreenshot','clearCache','5WrZbYO','WnQLe','dWrGG','pzyNs','/screenshot/:url(*)','url','3000','catch','uuid/v4','yYFQR','../config.json','6716290mxHUmb','PIgMQ','10556202fAyRBf','&ev=','Iivvg','\x20errors,\x20shutting\x20instance\x20down','43143smTBvt','/progress-bar.html','MbmWk','stop','50YlSwCO','end','chrome','then','exports','params','error','existsSync','LYQXC','resolve','DLRXf','path','IbZSH','v=1&t=event&ec=render&ea=','60ZRRtYS','analyticsTrackingId','assert','jyKHm','index.html','584958lcdzGk','length','84IzXIdY','Uncaught\x20exception','status','unhandledRejection','bdJzQ','sendFile','port','7320157dfkYAG','parse','12826251xFcrZb','rrXDX','8sAqJrZ','--remote-debugging-address=0.0.0.0','LUKQX','--headless','kill','render','Detected\x20','../node_modules/progress-bar-element/progress-bar.html','log','send','static','FElNx','setConfig','1318323vjluRC','https','renderOnly','qXJUm','PORT','get','/render/:url(*)','chrome-launcher','8nvYvdL'];_0x4db9=function(){return _0x21a2c8;};return _0x4db9();}function track(_0xc8ec6c,_0x31c028){const _0xa89868=_0x5c630f,_0x4242f6={'PIgMQ':_0xa89868(0xbe),'rEsUn':function(_0x363178){return _0x363178();}};if(config[_0x4242f6['PIgMQ']]){const _0x3752e1={'host':'www.google-analytics.com','path':'/collect','method':'POST'},_0x5b8ca9=https['request'](_0x3752e1);_0x5b8ca9['write'](_0xa89868(0xbc)+_0xc8ec6c+_0xa89868(0xa8)+Math['round'](_0x31c028)+'&tid='+config[_0x4242f6[_0xa89868(0xa6)]]+'&cid='+_0x4242f6[_0xa89868(0xe9)](uuidv4)),_0x5b8ca9[_0xa89868(0xb0)]();}}app[_0x5c630f(0xe1)](_0x5c630f(0xe2),async(_0xe23f46,_0x347faa)=>{const _0x59ac80=_0x5c630f,_0x1b6c7d={'pzyNs':function(_0x2d4d9e,_0x3adfe5){return _0x2d4d9e(_0x3adfe5);},'FElNx':_0x59ac80(0xe6),'ZKuQH':function(_0x5c22ce,_0x5bedf0,_0x136047){return _0x5c22ce(_0x5bedf0,_0x136047);},'Iivvg':_0x59ac80(0xf8)};if(_0x1b6c7d[_0x59ac80(0x9d)](isRestricted,_0xe23f46[_0x59ac80(0xb4)][_0x59ac80(0x9f)])){_0x347faa[_0x59ac80(0xc6)](0x193)[_0x59ac80(0xd8)](_0x1b6c7d[_0x59ac80(0xda)]);return;}try{const _0x2987ab=now(),_0x45d192=await renderer[_0x59ac80(0xf2)](_0xe23f46[_0x59ac80(0xb4)][_0x59ac80(0x9f)],_0xe23f46[_0x59ac80(0xee)],config);_0x347faa[_0x59ac80(0xc6)](_0x45d192[_0x59ac80(0xc6)])[_0x59ac80(0xd8)](_0x45d192['body']),_0x1b6c7d[_0x59ac80(0xec)](track,_0x59ac80(0xd4),now()-_0x2987ab);}catch(_0x110815){_0x347faa[_0x59ac80(0xc6)](0x190)[_0x59ac80(0xd8)](_0x1b6c7d[_0x59ac80(0xa9)]),console[_0x59ac80(0xb5)](_0x110815);}}),app[_0x5c630f(0xe1)]('/screenshot/:url(*)',async(_0x44c17a,_0x32ffa1)=>{const _0x16d2b1=_0x5c630f,_0x25c662={'LUKQX':_0x16d2b1(0xe6),'LYQXC':function(_0x488c2a,_0x2cd7ac){return _0x488c2a!==_0x2cd7ac;},'yYFQR':'slKBE','dWrGG':_0x16d2b1(0x9b),'Gdybb':_0x16d2b1(0xef),'bdJzQ':function(_0x564e21,_0x2c4bbd,_0x55c794){return _0x564e21(_0x2c4bbd,_0x55c794);},'oIeau':'screenshot','DLRXf':function(_0x9ca971,_0xb2496e){return _0x9ca971-_0xb2496e;},'IbZSH':_0x16d2b1(0xf8)};if(isRestricted(_0x44c17a['params']['url'])){if(_0x25c662[_0x16d2b1(0xb7)](_0x25c662[_0x16d2b1(0xa3)],_0x25c662[_0x16d2b1(0x9c)])){_0x32ffa1[_0x16d2b1(0xc6)](0x193)[_0x16d2b1(0xd8)](_0x25c662[_0x16d2b1(0xd1)]);return;}else{_0x133fd1[_0x16d2b1(0xc6)](0x193)[_0x16d2b1(0xd8)](_0x25c662[_0x16d2b1(0xd1)]);return;}}try{const _0x2c1c24=now(),_0x3d7a9f=await renderer[_0x16d2b1(0xfa)](_0x44c17a['params'][_0x16d2b1(0x9f)],_0x44c17a['query'],config)[_0x16d2b1(0xa1)](_0x3d003e=>console['error'](_0x3d003e)),_0x46d0f6=new Buffer(_0x3d7a9f,'base64');_0x32ffa1['set']({'Content-Type':_0x25c662['Gdybb'],'Content-Length':_0x46d0f6['length']}),_0x32ffa1[_0x16d2b1(0xb0)](_0x46d0f6),_0x25c662[_0x16d2b1(0xc8)](track,_0x25c662[_0x16d2b1(0xf4)],_0x25c662[_0x16d2b1(0xb9)](now(),_0x2c1c24));}catch(_0x49cb37){_0x32ffa1['status'](0x190)[_0x16d2b1(0xd8)](_0x25c662[_0x16d2b1(0xbb)]),console[_0x16d2b1(0xb5)](_0x49cb37);}}),app[_0x5c630f(0xe1)]('/_ah/health',(_0x6eddc2,_0x2b51b6)=>_0x2b51b6[_0x5c630f(0xd8)]('OK')),app['stop']=async()=>{const _0x5dd47a=_0x5c630f;await config['chrome'][_0x5dd47a(0xd3)]();};const appPromise=chromeLauncher['launch']({'chromeFlags':[_0x5c630f(0xd2),_0x5c630f(0xf5),_0x5c630f(0xd0)],'port':0x0})[_0x5c630f(0xb2)](_0x3cd1cc=>{const _0x275424=_0x5c630f,_0xf656a5={'LItOj':_0x275424(0xe5),'qXJUm':_0x275424(0xf9)};return console[_0x275424(0xd7)](_0xf656a5[_0x275424(0xdf)],_0x3cd1cc[_0x275424(0xca)]),config['chrome']=_0x3cd1cc,config[_0x275424(0xca)]=_0x3cd1cc[_0x275424(0xca)],!module[_0x275424(0xeb)]&&app['listen'](PORT,function(){console['log'](_0xf656a5['LItOj'],PORT);}),app;})[_0x5c630f(0xa1)](_0x59f872=>{const _0x4fead4=_0x5c630f;console[_0x4fead4(0xb5)](_0x59f872),process[_0x4fead4(0xe8)](0x1);});let exceptionCount=0x0;async function logUncaughtError(_0x6a0233){const _0x2129ef=_0x5c630f,_0x52a4f8={'MbmWk':_0x2129ef(0xc5)};console[_0x2129ef(0xb5)](_0x52a4f8[_0x2129ef(0xad)]),console[_0x2129ef(0xb5)](_0x6a0233),exceptionCount++;if(exceptionCount>0x5){console[_0x2129ef(0xd7)](_0x2129ef(0xd5)+exceptionCount+_0x2129ef(0xaa));if(config&&config[_0x2129ef(0xb1)])await app[_0x2129ef(0xae)]();process[_0x2129ef(0xe8)](0x1);}}!module[_0x5c630f(0xeb)]&&(process['on']('uncaughtException',logUncaughtError),process['on'](_0x5c630f(0xc7),logUncaughtError));module[_0x5c630f(0xb3)]=appPromise;