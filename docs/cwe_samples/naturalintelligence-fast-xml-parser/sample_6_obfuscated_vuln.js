function _0x2f27(_0x1af245,_0xcca053){const _0x3522a0=_0x3522();return _0x2f27=function(_0x2f2784,_0x161e5c){_0x2f2784=_0x2f2784-0x1e2;let _0x5385e3=_0x3522a0[_0x2f2784];return _0x5385e3;},_0x2f27(_0x1af245,_0xcca053);}const _0x152fda=_0x2f27;function _0x3522(){const _0xe195da=['info','role','231824KMrIVV','create','body','login','95CHUHhR','split','expand','forgotPassword','BtJSJ','Zwgcn','DTKtM','getUserCount','exports','destroy','updateBySelector','getAccessToken','getPicture','freeze','session','user-agent','QZltq','1965300XjIIgB','email','user_selector',',\x20link\x20=\x20','9owBiiW','get','702224QXczZj','getById','refresh_token','dashboard:write','8102185gwEjZM','fields','../../utils/coreErrors','user','5718663FfFeqY','updatePassword','headers','2238058cRgAUB','query','revoke','json','DvIqn','password','origin','LqmDu','1asQxSz','qmjFM','You\x20cannot\x20delete\x20yourself','session_id','params','58682400PZHxLY','/reset-password?token=','ZQrMS','scope'];_0x3522=function(){return _0xe195da;};return _0x3522();}(function(_0x126715,_0x28d8cc){const _0x47e8b7=_0x2f27,_0x9ec846=_0x126715();while(!![]){try{const _0x36d6d9=parseInt(_0x47e8b7(0x1fe))/0x1*(-parseInt(_0x47e8b7(0x1f6))/0x2)+-parseInt(_0x47e8b7(0x1f3))/0x3+parseInt(_0x47e8b7(0x209))/0x4*(-parseInt(_0x47e8b7(0x20d))/0x5)+parseInt(_0x47e8b7(0x1e5))/0x6+-parseInt(_0x47e8b7(0x1ef))/0x7+-parseInt(_0x47e8b7(0x1eb))/0x8*(-parseInt(_0x47e8b7(0x1e9))/0x9)+parseInt(_0x47e8b7(0x203))/0xa;if(_0x36d6d9===_0x28d8cc)break;else _0x9ec846['push'](_0x9ec846['shift']());}catch(_0x4d8c81){_0x9ec846['push'](_0x9ec846['shift']());}}}(_0x3522,0xf4113));const asyncMiddleware=require('../middlewares/asyncMiddleware'),logger=require('../../utils/logger'),{BadParameters}=require(_0x152fda(0x1f1)),LOGIN_SESSION_VALIDITY_IN_SECONDS=0x16d*0x18*0x3c*0x3c;module[_0x152fda(0x215)]=function UserController(_0x1d95c6){const _0x473a3c=_0x152fda,_0x3a443f={'ZQrMS':_0x473a3c(0x1ee),'DTKtM':'dashboard:read','keSno':'user-agent','qmjFM':function(_0x2b5a5c,_0x3730f1){return _0x2b5a5c===_0x3730f1;},'QZltq':_0x473a3c(0x200),'BtJSJ':function(_0x316351,_0x19924d){return _0x316351>_0x19924d;},'Zwgcn':function(_0x443176,_0xb14374){return _0x443176(_0xb14374);},'LqmDu':function(_0x543fed,_0x15244b){return _0x543fed(_0x15244b);},'DvIqn':function(_0x1bfa18,_0x23be23){return _0x1bfa18(_0x23be23);},'nlMzx':function(_0x4dcb77,_0x4a26b3){return _0x4dcb77(_0x4a26b3);},'YzgEu':function(_0x3e5d3f,_0x1c8f69){return _0x3e5d3f(_0x1c8f69);},'FaeAO':function(_0x3ebe46,_0x1a2164){return _0x3ebe46(_0x1a2164);}};async function _0x2aa6d9(_0x5658bf,_0x37ed04,_0x449ecc){const _0xbe21fa=_0x473a3c,_0x4ea0fa=await _0x1d95c6[_0xbe21fa(0x1f2)][_0xbe21fa(0x20a)](_0x5658bf[_0xbe21fa(0x20b)]),_0x29adc1=_0x5658bf['body']['scope']||[_0x3a443f[_0xbe21fa(0x205)],_0x3a443f[_0xbe21fa(0x213)]],_0xf89318=await _0x1d95c6[_0xbe21fa(0x1e2)][_0xbe21fa(0x20a)](_0x4ea0fa['id'],_0x29adc1,LOGIN_SESSION_VALIDITY_IN_SECONDS,_0x5658bf['headers'][_0x3a443f['keSno']]),_0x5a0a25={..._0x4ea0fa,..._0xf89318};_0x37ed04['status'](0xc9)['json'](_0x5a0a25);}async function _0x5d1421(_0x888d36,_0x511772,_0x3af9a9){const _0x12d265=_0x473a3c,_0x56137d=await _0x1d95c6[_0x12d265(0x1f2)][_0x12d265(0x20c)](_0x888d36['body'][_0x12d265(0x1e6)],_0x888d36[_0x12d265(0x20b)][_0x12d265(0x1fb)]),_0xaa4455=_0x888d36[_0x12d265(0x20b)][_0x12d265(0x206)]||[_0x3a443f[_0x12d265(0x205)],_0x3a443f[_0x12d265(0x213)]],_0x197468=await _0x1d95c6['session'][_0x12d265(0x20a)](_0x56137d['id'],_0xaa4455,LOGIN_SESSION_VALIDITY_IN_SECONDS,_0x888d36[_0x12d265(0x1f5)][_0x12d265(0x1e3)]),_0x37815f={..._0x56137d,..._0x197468};_0x511772[_0x12d265(0x1f9)](_0x37815f);}async function _0x294d19(_0x1ec3db,_0x2d4da4,_0x5cbebb){const _0x36c2e4=_0x473a3c,_0x6240e2=_0x1ec3db[_0x36c2e4(0x1f7)];_0x6240e2[_0x36c2e4(0x1f0)]&&(_0x6240e2[_0x36c2e4(0x1f0)]=_0x6240e2[_0x36c2e4(0x1f0)][_0x36c2e4(0x20e)](','));_0x6240e2[_0x36c2e4(0x20f)]&&(_0x6240e2[_0x36c2e4(0x20f)]=_0x6240e2[_0x36c2e4(0x20f)]['split'](','));const _0x5ddcc9=await _0x1d95c6[_0x36c2e4(0x1f2)][_0x36c2e4(0x1ea)](_0x6240e2);_0x2d4da4[_0x36c2e4(0x1f9)](_0x5ddcc9);}async function _0x3bdef1(_0xb3a651,_0x5afa9b){const _0xc8c182=_0x473a3c,_0x39d4ca=await _0x1d95c6[_0xc8c182(0x1f2)]['getBySelector'](_0xb3a651[_0xc8c182(0x202)][_0xc8c182(0x1e7)]);_0x5afa9b['json'](_0x39d4ca);}async function _0x4c669d(_0xbb9734,_0x447256){const _0x15dbad=_0x473a3c,_0xf7df21=await _0x1d95c6[_0x15dbad(0x1f2)][_0x15dbad(0x217)](_0xbb9734[_0x15dbad(0x202)][_0x15dbad(0x1e7)],_0xbb9734[_0x15dbad(0x20b)]);_0x447256[_0x15dbad(0x1f9)](_0xf7df21);}async function _0x385680(_0x53bd8f,_0x2dfc87){const _0x583c94=_0x473a3c;if(_0x3a443f[_0x583c94(0x1ff)](_0x53bd8f['user']['selector'],_0x53bd8f[_0x583c94(0x202)][_0x583c94(0x1e7)]))throw new BadParameters(_0x3a443f[_0x583c94(0x1e4)]);await _0x1d95c6[_0x583c94(0x1f2)][_0x583c94(0x216)](_0x53bd8f[_0x583c94(0x202)][_0x583c94(0x1e7)]),_0x2dfc87[_0x583c94(0x1f9)]({'success':!![]});}async function _0x9168e9(_0x492f9f,_0x5d4986,_0x1f3ea7){const _0x1f88e6=_0x473a3c,_0x1a1f38=await _0x1d95c6[_0x1f88e6(0x1f2)][_0x1f88e6(0x1ec)](_0x492f9f['user']['id']);_0x5d4986['json'](_0x1a1f38);}async function _0x507171(_0x119a04,_0x5ea83a,_0x3c55ab){const _0x4d0ae9=_0x473a3c,_0x4b2564=await _0x1d95c6[_0x4d0ae9(0x1f2)][_0x4d0ae9(0x219)](_0x119a04[_0x4d0ae9(0x1f2)]['id']);_0x5ea83a['send'](_0x4b2564);}async function _0x3d544f(_0x519624,_0x271e97,_0x3107fe){const _0xc06819=_0x473a3c;delete _0x519624[_0xc06819(0x20b)][_0xc06819(0x208)];const _0x4a2850=await _0x1d95c6['user']['update'](_0x519624[_0xc06819(0x1f2)]['id'],_0x519624[_0xc06819(0x20b)]);_0x271e97[_0xc06819(0x1f9)](_0x4a2850);}async function _0x6e8d4d(_0x433f9b,_0x21dea7){const _0x2228c5=_0x473a3c,_0x31bb06=_0x433f9b[_0x2228c5(0x20b)][_0x2228c5(0x206)]||[_0x2228c5(0x1ee),_0x3a443f['DTKtM']],_0x5169e8=await _0x1d95c6[_0x2228c5(0x1e2)][_0x2228c5(0x218)](_0x433f9b[_0x2228c5(0x20b)][_0x2228c5(0x1ed)],_0x31bb06);_0x21dea7[_0x2228c5(0x1f9)](_0x5169e8);}async function _0x217af0(_0x43cba2,_0x10de5a){const _0x1b3aa5=_0x473a3c,_0x5b9e14=await _0x1d95c6[_0x1b3aa5(0x1f2)][_0x1b3aa5(0x210)](_0x43cba2[_0x1b3aa5(0x20b)][_0x1b3aa5(0x1e6)],_0x43cba2[_0x1b3aa5(0x1f5)][_0x1b3aa5(0x1e3)]),_0x30e30f=_0x43cba2[_0x1b3aa5(0x20b)][_0x1b3aa5(0x1fc)]+_0x1b3aa5(0x204)+_0x5b9e14['access_token'];logger[_0x1b3aa5(0x207)]('Forgot\x20password\x20initiated\x20for\x20user\x20'+_0x43cba2[_0x1b3aa5(0x20b)]['email']+_0x1b3aa5(0x1e8)+_0x30e30f),_0x10de5a[_0x1b3aa5(0x1f9)]({'success':!![]});}async function _0x511bca(_0x29cd5d,_0x4c6fde){const _0x5c4e58=_0x473a3c,_0x2b9d92=await _0x1d95c6[_0x5c4e58(0x1f2)][_0x5c4e58(0x1f4)](_0x29cd5d['user']['id'],_0x29cd5d['body']['password']);await _0x1d95c6['session'][_0x5c4e58(0x1f8)](_0x29cd5d[_0x5c4e58(0x1f2)]['id'],_0x29cd5d[_0x5c4e58(0x201)]),_0x4c6fde['json'](_0x2b9d92);}async function _0x4f3a28(_0x5c0182,_0x2ecace){const _0x322381=_0x473a3c,_0x2e3d6d=_0x1d95c6[_0x322381(0x1f2)][_0x322381(0x214)](),_0x57ad6a=_0x3a443f[_0x322381(0x211)](_0x2e3d6d,0x0);_0x2ecace[_0x322381(0x1f9)]({'account_configured':_0x57ad6a});}return Object[_0x473a3c(0x21a)]({'create':asyncMiddleware(_0x2aa6d9),'login':asyncMiddleware(_0x5d1421),'getMySelf':_0x3a443f[_0x473a3c(0x212)](asyncMiddleware,_0x9168e9),'getUsers':_0x3a443f[_0x473a3c(0x212)](asyncMiddleware,_0x294d19),'getUserBySelector':asyncMiddleware(_0x3bdef1),'update':_0x3a443f[_0x473a3c(0x1fd)](asyncMiddleware,_0x4c669d),'deleteUser':_0x3a443f[_0x473a3c(0x1fa)](asyncMiddleware,_0x385680),'getMyPicture':_0x3a443f['nlMzx'](asyncMiddleware,_0x507171),'updateMySelf':asyncMiddleware(_0x3d544f),'getAccessToken':_0x3a443f[_0x473a3c(0x1fa)](asyncMiddleware,_0x6e8d4d),'forgotPassword':_0x3a443f['YzgEu'](asyncMiddleware,_0x217af0),'resetPassword':_0x3a443f['FaeAO'](asyncMiddleware,_0x511bca),'getSetupState':asyncMiddleware(_0x4f3a28)});};