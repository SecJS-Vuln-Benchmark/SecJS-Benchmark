function _0xf5ab(){const _0x1ba523=['kNGIS','\x20-subject\x20-noout','upCAU','XvTgr','XUNuM','allowGraph','readdirSync','renewBeforeExpirationBy','pEYAO','5716088QKqzBB','oBvDu','gKROo','JRPey','Only\x20Let\x27sEncrypt\x20certificates\x20can\x20be\x20downloaded','Kufyx','dates','trim','toLowerCase','data','msg','LQnjn','\x20does\x20not\x20exists','uiTOo','sCqEe','LwQrJ','certificates:update','deleteLetsEncryptRequestConfig','qhuSG','qXczY','1085AFAOwn','QaAiG','fUKFe','Bzflh','error','permission_visibility','\x20--staging','ZLDWa','&bodytype=T&requestbody=&headername=User-Agent&headervalue=None&locationid=1&ch=false&cc=false','statusCode','proxy_host','omit','UWBea','pipe','meta','bSZKc','czsTb','Domains\x20must\x20be\x20an\x20array\x20of\x20strings','basename','TLwxQ','nmBko','--delete-after-revoke\x20','UANru','--email\x20\x22','CCkvq','kspRv','cgBLT','domain_names','npm-','getUserId','/fullchain.pem\x22\x20','tXRYu','\x20certonly\x20','kvsyz','KYLFr','GgDZD','renewed','OkFyo','Certificate\x20could\x20not\x20be\x20updated,\x20IDs\x20do\x20not\x20match:\x20','dKYAy','dead_host','forEach','proxy_hosts','bKole','create','dFkfc','cqITl','OiefW','REVyy','kJRty','path','wlBxM','--authenticator\x20','ZJYPa','/fullchain.pem','existsSync','propagation_seconds','close','cLfBN','jbzkm','GUrKW','YYYY-MM-DD\x20HH:mm:ss','salxU','message','eKxbn','ovuMq','Requesting\x20Let\x27sEncrypt\x20certificates\x20via\x20','nice_name','\x20-check\x20-noout\x202>&1\x20','length','byteLength','Command:','request','btEOd','coZNy','gDJRh','ljWRA','allowedSslFiles','undefined','route53','key\x20is\x20valid','redirection_host','nfqAB','LBGge','WlbUk','bulkGenerateConfigs','tnpwL','pVeTL','zyeEB','useLetsencryptStaging','QWmth','gAhij','write','Certificate\x20file\x20was\x20not\x20provided','dtgAr','VKgoc','getHostsWithDomains','HYLlv','FFGrF','zip','\x20because\x20error\x20was\x20returned:\x20','bxbry','GcAYa','RweKb','lZaDI','renew','VIffc','xpmlX','wddyP','InternalValidationError','andWhere','TFkxn','uPNDP','responsecode','ggBUw','DWEcr','enuTj','createWriteStream','Mozilla/5.0','AKFki','lEhvt','fyuuy','--logs-dir\x20\x22/tmp/letsencrypt-log\x22\x20','70878vwyhLG','amGvd','orderBy','PkFUa','sfkeO','owner_user_id','Jdinm','cXKJV','KWaIB','tLlPh','/etc/letsencrypt.ini','provider','TGLjs','PEnuu','MnXib','WetYc','push','dzMQr','dead_hosts','sxKdV','AWS_CONFIG_FILE=\x27','checkPrivateKey','add','emDNf','mMoDy','rm\x20-f\x20\x27','renewLetsEncryptSslWithDnsChallenge','bZQtP','hGczo','Result\x20Validation\x20Error:\x20Validation\x20timed\x20out.\x20This\x20could\x20be\x20due\x20to\x20the\x20key\x20being\x20passphrase-protected.','wrong-data','khZei','NNLhy','ROCcv','HBbHq','WmYvL','failed','certificate_key','YUSLD','MvqAy','vDAxn','zAOlG','patchAndFetchById','SRJAV','catch','endsWith','Revoking\x20Let\x27sEncrypt\x20certificates\x20for\x20Cert\x20#','Certificate\x20','fHSoy','EoBGR','mgbgT','QtwYn','Bjetq','https','MGruX','kDePM','tdsUk','OJZxi','vkNvd','Vvkau','vmuXX','GFgYp','sWJXl','wyFFg','--work-dir\x20\x22/tmp/letsencrypt-lib\x22\x20','xXLBf','XObhD','\x27\x20>\x20\x27','lngAQ','OrLVy','sUOoP','where','duckdns','--no-random-sleep-on-renew\x20','renewLetsEncryptSsl','NgZCD','Could\x20not\x20determine\x20issuer\x20from\x20certificate:\x20','application/x-www-form-urlencoded','YPyuQ','uByfJ','AVfFx','PCfxP','realpathSync','archiver','ryfHZ','id\x20as\x20count','FNQXG','EEJEH','aNCjx','--config\x20\x22','bBUAm','-propagation-seconds\x20','FsXbZ','openssl\x20x509\x20-in\x20','pymdr','split','LqFhX','AhjHm','aAVWI','hVKoK','enableInUseHosts','OjauV','LfwjX','query','\x20was\x20returned:\x20','BgAJA','\x20--dns-duckdns-no-txt-restore','\x20-dates\x20-noout','validate','dxwwD','notbefore','\x20because\x20HTTP\x20status\x20code\x20','AbLsu','generateLetsEncryptRequestConfig','\x20revoke\x20','BCNUk','rvtUj','token','PGZGH','vVzhW','success','gVCgU','FMVfA','zipFiles','Certificate\x20Key\x20is\x20not\x20valid\x20(','htmlresponse','lKYMy','ZZRrN','AXeRs','./host','vYQxX','Completed\x20SSL\x20cert\x20renew\x20process','uEWKf','toString','hzvyy','ahQyU','expand','mkdirSync','cleanMeta','xDnqc','QPZnM','aOqYo','files','OMvSY','format','mLWvM','aTJVw','rlilD','--staging','getCertificateInfoFromFile','/.well-known/acme-challenge/test-challenge','string','bulkDeleteConfigs','BsrIl','info','BYEbv','other','debug','exports','Result\x20Validation\x20Error:\x20','certificate','UxNBG','Wsmag','Requesting\x20Let\x27sEncrypt\x20certificates\x20for\x20Cert\x20#','lxueA','ssl','JmNFI','JWeQM','MDGmv','PyLDN','ScblB','dns_provider_credentials','xpvQJ','FDWJr','withGraphFetched','jmyLn','\x20was\x20returned','TfoeZ','BulCK','CeBQF','SjhbJ','MMM\x20DD\x20HH:mm:ss\x20YYYY\x20z','QzWrE','name','--cert-path\x20\x22/etc/letsencrypt/live/npm-','FZJZi','aKBsq','PTfNs','update','writeFileSync','eRVQD','Tzizv','\x20the\x20host\x20was\x20not\x20found','wuJyu','requestLetsEncryptSslWithDnsChallenge','.zip','mHUrx','kUmJe','RbXTR','29251310YvryAN','BNxXr','TqHkH','vgACs','uTDOm','crjNQ','join','ZlriM','ISQYW','insertAndFetch','QmMsz','oHsHZ','rNdZQ','sGkts','../models/token','VYdIl','klwEx','CnqLP','WsDfy','SbgrY','dns_challenge','hKzoT','cLqMS','then','yRBvz','ItemNotFoundError','XItIj','StxTX','../models/certificate','wdfwY','HTTP\x20challenge\x20test\x20failed\x20for\x20domain\x20','https://www.site24x7.com/tools/restapi-tester','vHcSF','cbzcd','.pem','404','\x20for\x20Cert\x20#','parse','Renewing\x20Let\x27sEncrypt\x20certificates\x20for\x20Cert\x20#','\x20because\x20code\x20404\x20was\x20returned','22yDNJRJ','certificates:list','map','gQwMv','\x20...','is_deleted','kfkhI','Writing\x20Custom\x20Certificate:','groupBy','writeFile','tKGMS','notafter','QnGTV','XkLAf','zyTpv','other:','HFMco','Success','GpVpA','issuer','/etc/letsencrypt/credentials/credentials-','getCertificateInfo','../lib/error','bwjnF','TLoEs','rPZrm','BguPT','cNdge','--preferred-challenges\x20\x22dns,http\x22\x20','CgyYq','rm\x20-f\x20\x27/etc/letsencrypt/credentials/credentials-','JAVeI','PefyM','mkdir\x20-p\x20/etc/letsencrypt/credentials\x202>\x20/dev/null;\x20echo\x20\x27','rhqKr','TOtca','RxHMI','oNUkS','UknhZ','replaceAll','NlBSH','/privkey.pem','get','tyqyu','Kvkbx','hVSoJ','scvZj','first','omitRows','QFHbR','mLnXL','XrJCo','bmyom','rNlwp','ccyUH','No\x20domains\x20provided','YZhOk','aTMsP','letsencrypt_email','includes','processExpiringHosts','SQboh','fuAAE','pGYlY','redirection_hosts','\x20renew\x20--force-renewal\x20','Cannot\x20upload\x20certificates\x20for\x20this\x20type\x20of\x20provider','zKycj','DbyQD','intermediate_certificate','certificates:get','/etc/letsencrypt/live/npm-','OIePv','FjsYu','jOqLJ','rFklf','lEIlq','[owner]','itSRJ','dwVoI','POST','TJdKx','intervalProcessing','UckIC','dSDnM','dyNBC','--domains\x20\x22','rnseh','sOtPr','BmAxa','can','fupna','Could\x20not\x20determine\x20dates\x20from\x20certificate:\x20','SrjVm','/data/letsencrypt-acme-challenge/.well-known/acme-challenge','fGFKs','GvZpU','/data/custom_ssl/npm-','qulPt','finalize','TNSog','wzYhk','days','-credentials\x20\x22','Only\x20Let\x27sEncrypt\x20certificates\x20can\x20be\x20renewed','created','Renewing\x20Let\x27sEncrypt\x20certificates\x20via\x20','\x20!==\x20','indexOf','reason','../global/certbot-dns-plugins.json','temp-write','pkYwk','751386ssODtW','WyHXo','expires_on','filter','warn','resolve','IUGwB','omitRow','fbrAQ','letsencrypt','hmXFk','../lib/certbot','\x20because\x20of\x20invalid\x20returned\x20data:','eGuFI','nFkWK','XCPzi','IspMg','IyacS','aMyxA','BCMfY','zip\x20completed\x20:\x20','xyblI','Certificate\x20is\x20not\x20valid\x20(','500155AjVIMv','32wbshfl','\x20&&\x20&&\x20','\x20-issuer\x20-noout','HWkRW','unlinkSync','--cert-name\x20\x22npm-','assign','nqmln','JGyFl','deleteById','KfBlY','end','../lib/config','\x27\x20||\x20true','JpZjs','DkBnA','JkCZh','ivoRP','clone','QgVWn','mjpbi','dqYEA','full_plugin_name','kcKQD','Failed\x20to\x20test\x20HTTP\x20challenge\x20for\x20domain\x20','/tmp','NkCxy','moment','updated','dns_provider','rjeld','XcxvJ','200','reload','yzQuN','suuIc','Zgshr','Could\x20not\x20determine\x20subject\x20from\x20certificate:\x20','AYTif','http://','--disable-hook-validation\x20','iKlBt','all','qyHtb','\x20because\x20response\x20failed\x20to\x20be\x20parsed:\x20','revokeLetsEncryptSsl','--agree-tos\x20','eMOSq','exec','POnEQ','count','Aszja','zxRBc','DjFuh','certbot','ValidationError','34052RmwqBa','aLUqh','WStjH','QRzDp','xrSwa','5906988sHgkIp','installPlugin'];_0xf5ab=function(){return _0x1ba523;};return _0xf5ab();}function _0x1a7a(_0xd0e96e,_0x19c9ab){const _0xf5ab70=_0xf5ab();return _0x1a7a=function(_0x1a7aac,_0x49d819){_0x1a7aac=_0x1a7aac-0x17c;let _0x3be796=_0xf5ab70[_0x1a7aac];return _0x3be796;},_0x1a7a(_0xd0e96e,_0x19c9ab);}const _0x3ad0c3=_0x1a7a;(function(_0x2e8270,_0x247666){const _0x9fb057=_0x1a7a,_0x248139=_0x2e8270();while(!![]){try{const _0x24cbeb=parseInt(_0x9fb057(0x212))/0x1*(-parseInt(_0x9fb057(0x2d3))/0x2)+parseInt(_0x9fb057(0x283))/0x3+parseInt(_0x9fb057(0x29b))/0x4*(parseInt(_0x9fb057(0x29a))/0x5)+-parseInt(_0x9fb057(0x372))/0x6*(-parseInt(_0x9fb057(0x2f7))/0x7)+parseInt(_0x9fb057(0x2e3))/0x8+parseInt(_0x9fb057(0x2d8))/0x9+-parseInt(_0x9fb057(0x1ea))/0xa;if(_0x24cbeb===_0x247666)break;else _0x248139['push'](_0x248139['shift']());}catch(_0xbefa50){_0x248139['push'](_0x248139['shift']());}}}(_0xf5ab,0xe8a21));const _=require('lodash'),fs=require('fs'),https=require(_0x3ad0c3(0x3a7)),tempWrite=require(_0x3ad0c3(0x281)),moment=require(_0x3ad0c3(0x2b6)),logger=require('../logger')[_0x3ad0c3(0x1c8)],config=require(_0x3ad0c3(0x2a7)),error=require(_0x3ad0c3(0x228)),utils=require('../lib/utils'),certificateModel=require(_0x3ad0c3(0x206)),tokenModel=require(_0x3ad0c3(0x1f8)),dnsPlugins=require(_0x3ad0c3(0x280)),internalAuditLog=require('./audit-log'),internalNginx=require('./nginx'),internalHost=require(_0x3ad0c3(0x1a4)),certbot=require(_0x3ad0c3(0x28e)),archiver=require(_0x3ad0c3(0x3c5)),path=require(_0x3ad0c3(0x329)),{isArray}=require('lodash'),letsencryptStaging=config[_0x3ad0c3(0x350)](),letsencryptConfig=_0x3ad0c3(0x37c),certbotCommand=_0x3ad0c3(0x2d1);function omissions(){const _0x2b6781=_0x3ad0c3;return[_0x2b6781(0x217)];}const internalCertificate={'allowedSslFiles':['certificate','certificate_key',_0x3ad0c3(0x257)],'intervalTimeout':0x3e8*0x3c*0x3c,'interval':null,'intervalProcessing':![],'renewBeforeExpirationBy':[0x1e,_0x3ad0c3(0x278)],'initTimer':()=>{const _0x20298a=_0x3ad0c3,_0x26473c={'JGyFl':'Let\x27s\x20Encrypt\x20Renewal\x20Timer\x20initialized','pVeTL':function(_0x69b09,_0x5ec482,_0x2d2fb4){return _0x69b09(_0x5ec482,_0x2d2fb4);}};logger[_0x20298a(0x1bd)](_0x26473c[_0x20298a(0x2a3)]),internalCertificate['interval']=_0x26473c[_0x20298a(0x34e)](setInterval,internalCertificate[_0x20298a(0x24e)],internalCertificate['intervalTimeout']),internalCertificate['processExpiringHosts']();},'processExpiringHosts':()=>{const _0x5d6902=_0x3ad0c3,_0x54861f={'aOqYo':_0x5d6902(0x1a6),'ZVsQW':function(_0x4d1f80,_0x6b4ff6){return _0x4d1f80(_0x6b4ff6);},'eGyaI':_0x5d6902(0x347),'THlYE':_0x5d6902(0x1c2),'ijbTf':function(_0x170ddf,_0x5ae132){return _0x170ddf(_0x5ae132);},'aNCjx':'WGshh','TqHkH':function(_0x30c5cd,_0x14511b){return _0x30c5cd+_0x14511b;},'GcAYa':function(_0x37411e,_0x37783e){return _0x37411e+_0x37783e;},'sCqEe':_0x5d6902(0x216),'bwjnF':function(_0x7897d6){return _0x7897d6();},'AXeRs':_0x5d6902(0x334),'MvqAy':'is_deleted','mahkx':_0x5d6902(0x28c),'nwznr':_0x5d6902(0x285)};if(!internalCertificate['intervalProcessing']){if(_0x54861f[_0x5d6902(0x3ca)]!==_0x5d6902(0x36f)){internalCertificate[_0x5d6902(0x264)]=!![],logger['info'](_0x54861f[_0x5d6902(0x1ec)](_0x54861f[_0x5d6902(0x35d)]('Renewing\x20SSL\x20certs\x20expiring\x20within\x20'+internalCertificate[_0x5d6902(0x2e1)][0x0],'\x20')+internalCertificate[_0x5d6902(0x2e1)][0x1],_0x54861f[_0x5d6902(0x2f1)]));const _0xe4150f=_0x54861f[_0x5d6902(0x229)](moment)[_0x5d6902(0x388)](internalCertificate[_0x5d6902(0x2e1)][0x0],internalCertificate[_0x5d6902(0x2e1)][0x1])[_0x5d6902(0x1b3)](_0x54861f[_0x5d6902(0x1a3)]);certificateModel[_0x5d6902(0x18a)]()[_0x5d6902(0x3b9)](_0x54861f[_0x5d6902(0x399)],0x0)[_0x5d6902(0x365)](_0x5d6902(0x37d),_0x54861f['mahkx'])[_0x5d6902(0x365)](_0x54861f['nwznr'],'<',_0xe4150f)[_0x5d6902(0x201)](_0x96ec32=>{const _0x3a5630=_0x5d6902;if(!_0x96ec32||!_0x96ec32['length'])return null;let _0x5dc428=Promise[_0x3a5630(0x288)]();return _0x96ec32[_0x3a5630(0x320)](function(_0x5456f5){const _0x16dd43=_0x3a5630;_0x5dc428=_0x5dc428[_0x16dd43(0x201)](()=>internalCertificate['renew']({'can':()=>Promise[_0x16dd43(0x288)]({'permission_visibility':_0x16dd43(0x2c5)}),'token':new tokenModel()},{'id':_0x5456f5['id']})[_0x16dd43(0x39e)](_0x30ec8d=>{const _0x184193=_0x16dd43;logger[_0x184193(0x2fb)](_0x30ec8d[_0x184193(0x336)]);}));}),_0x5dc428;})['then'](()=>{const _0x28f04d=_0x5d6902;logger['info'](_0x54861f[_0x28f04d(0x1b0)]),internalCertificate[_0x28f04d(0x264)]=![];})['catch'](_0x3b6f8f=>{const _0x5452a1=_0x5d6902;logger[_0x5452a1(0x2fb)](_0x3b6f8f),internalCertificate['intervalProcessing']=![];});}else _0x54861f['ZVsQW'](_0x458dbe,_0x45ef9d),!_0xf165d5[_0x5d6902(0x2eb)]()[_0x5d6902(0x24d)](_0x54861f['eGyaI'])&&_0x1226de(new _0x3dedb1[(_0x5d6902(0x2d2))](_0x54861f['THlYE']+_0x535a47)),_0x1ed41c[_0x5d6902(0x29f)](_0x171d5f),_0x54861f['ijbTf'](_0x263b41,!![]);}},'create':(_0x410952,_0xcee9e7)=>{const _0x293e21=_0x3ad0c3,_0xa0ed9d={'bxbry':function(_0x2dc107,_0x33298e){return _0x2dc107(_0x33298e);},'OMvSY':function(_0x29731c,_0x7e612f){return _0x29731c+_0x7e612f;},'TNSog':'Certificate\x20Key\x20is\x20not\x20valid\x20(','Bmmre':function(_0xb14651,_0x250096){return _0xb14651!==_0x250096;},'QBmpA':_0x293e21(0x328),'pEYAO':function(_0x18f6ac,_0x45f5d0){return _0x18f6ac===_0x45f5d0;},'lngAQ':_0x293e21(0x28c),'bKole':_0x293e21(0x259),'cbzcd':function(_0x1762bd,_0x190a53){return _0x1762bd+_0x190a53;},'Jdinm':_0x293e21(0x31d),'UvZNR':function(_0x11ef5d,_0x500e5d){return _0x11ef5d===_0x500e5d;},'QBECg':'certificates:create'};return _0x410952[_0x293e21(0x26c)](_0xa0ed9d['QBECg'],_0xcee9e7)['then'](()=>{const _0x198130=_0x293e21;if(_0xa0ed9d['Bmmre'](_0x198130(0x379),_0xa0ed9d['QBmpA']))return _0xcee9e7[_0x198130(0x377)]=_0x410952[_0x198130(0x198)][_0x198130(0x314)](0x1),_0xa0ed9d[_0x198130(0x2e2)](_0xcee9e7[_0x198130(0x37d)],_0xa0ed9d[_0x198130(0x3b6)])&&(_0xcee9e7[_0x198130(0x33a)]=_0xcee9e7[_0x198130(0x312)][_0x198130(0x1f0)](',\x20')),certificateModel[_0x198130(0x18a)]()[_0x198130(0x1f3)](_0xcee9e7)['then'](utils[_0x198130(0x28a)](omissions()));else _0xa0ed9d[_0x198130(0x35c)](_0x35740c,_0x22b541),_0x1f320e['unlinkSync'](_0x1e0780),_0xa0ed9d['bxbry'](_0x382b9a,new _0x21fcee[(_0x198130(0x2d2))](_0xa0ed9d[_0x198130(0x1b2)](_0xa0ed9d[_0x198130(0x1b2)](_0xa0ed9d[_0x198130(0x276)],_0x2493ef[_0x198130(0x336)]),')'),_0x421945));})[_0x293e21(0x201)](_0x390aba=>{const _0x26337c=_0x293e21,_0x4c8115={'aTMsP':function(_0x59af27,_0x1bcd1e){return _0x59af27(_0x1bcd1e);},'QmMsz':_0x26337c(0x20a),'QnGTV':_0x26337c(0x19c)};return _0xa0ed9d['UvZNR'](_0x390aba['provider'],_0x26337c(0x28c))?internalHost[_0x26337c(0x357)](_0x390aba[_0x26337c(0x312)])[_0x26337c(0x201)](_0x4f3ab3=>{const _0x465d1b=_0x26337c;return internalCertificate['disableInUseHosts'](_0x4f3ab3)[_0x465d1b(0x201)](()=>{return _0x4f3ab3;});})['then'](_0x54858c=>{const _0x25608d=_0x26337c,_0x2362c9={'CnqLP':function(_0x3e38eb,_0x48b6fb){const _0x46ae0e=_0x1a7a;return _0x4c8115[_0x46ae0e(0x24b)](_0x3e38eb,_0x48b6fb);},'iKlBt':function(_0x33c47e,_0x459d98){return _0x33c47e!==_0x459d98;}};if('vHcSF'===_0x4c8115[_0x25608d(0x1f4)])return _0x390aba[_0x25608d(0x305)][_0x25608d(0x1fe)]?internalNginx[_0x25608d(0x2bc)]()[_0x25608d(0x201)](()=>{const _0x35bc49=_0x25608d;return internalCertificate[_0x35bc49(0x1e5)](_0x390aba);})['then'](internalNginx[_0x25608d(0x2bc)])['then'](()=>{return internalCertificate['enableInUseHosts'](_0x54858c);})[_0x25608d(0x201)](()=>{return _0x390aba;})[_0x25608d(0x39e)](_0x2d586d=>{const _0x2b34ec=_0x25608d;return internalCertificate[_0x2b34ec(0x187)](_0x54858c)[_0x2b34ec(0x201)](internalNginx[_0x2b34ec(0x2bc)])[_0x2b34ec(0x201)](()=>{throw _0x2d586d;});}):internalNginx[_0x25608d(0x194)](_0x390aba)[_0x25608d(0x201)](internalNginx[_0x25608d(0x2bc)])[_0x25608d(0x201)](async()=>await new Promise(_0x4aeba9=>setTimeout(_0x4aeba9,0x1388)))[_0x25608d(0x201)](()=>{const _0x4d9647=_0x25608d,_0x5c32ec={'sUOoP':function(_0x6d8508,_0x372c2b){const _0x4e6e2c=_0x1a7a;return _0x2362c9[_0x4e6e2c(0x1fb)](_0x6d8508,_0x372c2b);}};if(_0x2362c9[_0x4d9647(0x2c4)](_0x4d9647(0x351),_0x4d9647(0x1fd)))return internalCertificate['requestLetsEncryptSsl'](_0x390aba);else _0x5c32ec[_0x4d9647(0x3b8)](_0x4ac1a7,_0x4ddc4d['getCertificateInfo'](_0x1bf5cd,!![]));})[_0x25608d(0x201)](()=>{return internalNginx['deleteLetsEncryptRequestConfig'](_0x390aba);})[_0x25608d(0x201)](internalNginx[_0x25608d(0x2bc)])[_0x25608d(0x201)](()=>{return internalCertificate['enableInUseHosts'](_0x54858c);})['then'](()=>{return _0x390aba;})[_0x25608d(0x39e)](_0x1e5b20=>{const _0x4fe415=_0x25608d;return internalNginx[_0x4fe415(0x2f4)](_0x390aba)[_0x4fe415(0x201)](()=>{const _0x188cc8=_0x4fe415;return internalCertificate[_0x188cc8(0x187)](_0x54858c);})[_0x4fe415(0x201)](internalNginx['reload'])[_0x4fe415(0x201)](()=>{throw _0x1e5b20;});});else _0x1ccaad[_0x25608d(0x33a)]=_0x6a9008[_0x25608d(0x312)][_0x25608d(0x1f0)](',\x20');})['then'](()=>{const _0x4faf07=_0x26337c;return internalCertificate[_0x4faf07(0x1b8)](_0xa0ed9d[_0x4faf07(0x1b2)](_0xa0ed9d[_0x4faf07(0x322)]+_0x390aba['id'],_0x4faf07(0x32d)))['then'](_0xca894a=>{const _0x19f7e0=_0x4faf07;if(_0x4c8115[_0x19f7e0(0x21e)]==='ggVAL'){_0x368144[_0x19f7e0(0x29f)](_0x55e6f2);throw _0x135aa8;}else return certificateModel[_0x19f7e0(0x18a)]()[_0x19f7e0(0x39c)](_0x390aba['id'],{'expires_on':moment(_0xca894a[_0x19f7e0(0x2e9)]['to'],'X')[_0x19f7e0(0x1b3)](_0x19f7e0(0x334))})[_0x19f7e0(0x201)](_0xd5a33=>{const _0x1bd139=_0x19f7e0;return _0xd5a33[_0x1bd139(0x305)]=_['assign']({},_0xd5a33[_0x1bd139(0x305)],{'letsencrypt_certificate':_0xca894a}),_0xd5a33;});});})['catch'](async _0x5d1ea7=>{const _0x5eef2a=_0x26337c,_0x961055={'LBGge':function(_0x5ee128,_0x40696d){const _0x2b81b7=_0x1a7a;return _0xa0ed9d[_0x2b81b7(0x20b)](_0x5ee128,_0x40696d);},'RxHMI':function(_0x3825a4,_0xb5d23d){return _0x3825a4+_0xb5d23d;},'hmXFk':_0xa0ed9d[_0x5eef2a(0x378)],'sfkeO':_0x5eef2a(0x27d)};if(_0xa0ed9d['UvZNR']('VjBzm',_0x5eef2a(0x1c7)))throw new _0x3f1474['InternalValidationError'](_0x961055[_0x5eef2a(0x34a)](_0x961055[_0x5eef2a(0x34a)](_0x961055[_0x5eef2a(0x236)](_0x961055[_0x5eef2a(0x28d)],_0x2af618['id']),_0x961055[_0x5eef2a(0x376)]),_0x298f28['id']));else{await certificateModel['query']()[_0x5eef2a(0x2a4)](_0x390aba['id']);throw _0x5d1ea7;}}):_0x390aba;})[_0x293e21(0x201)](_0x1eabf4=>{const _0x3d8b56=_0x293e21;return _0xcee9e7[_0x3d8b56(0x305)]=_[_0x3d8b56(0x2a1)]({},_0xcee9e7[_0x3d8b56(0x305)]||{},_0x1eabf4[_0x3d8b56(0x305)]),internalAuditLog['add'](_0x410952,{'action':_0x3d8b56(0x27b),'object_type':_0x3d8b56(0x1c3),'object_id':_0x1eabf4['id'],'meta':_0xcee9e7})['then'](()=>{return _0x1eabf4;});});},'update':(_0xa1e87d,_0xbb5e56)=>{const _0x2dfdb4=_0x3ad0c3,_0x56a831={'WyHXo':function(_0x473182,_0x4f5c89){return _0x473182===_0x4f5c89;},'tKGMS':_0x2dfdb4(0x1bf),'VIffc':_0x2dfdb4(0x285),'AVfFx':_0x2dfdb4(0x2f0),'YPyuQ':_0x2dfdb4(0x2d4),'DWEcr':function(_0x1d94a8,_0x168c5f){return _0x1d94a8!==_0x168c5f;},'HWkRW':function(_0x931da9,_0x325e87){return _0x931da9+_0x325e87;},'mHUrx':_0x2dfdb4(0x31d),'ivoRP':function(_0x5c7bc6){return _0x5c7bc6();}};return _0xa1e87d[_0x2dfdb4(0x26c)](_0x2dfdb4(0x2f3),_0xbb5e56['id'])[_0x2dfdb4(0x201)](()=>{const _0x15b556=_0x2dfdb4;return internalCertificate[_0x15b556(0x23c)](_0xa1e87d,{'id':_0xbb5e56['id']});})[_0x2dfdb4(0x201)](_0x5a501c=>{const _0x149726=_0x2dfdb4,_0x339d14={'ktuOa':function(_0xe9d499,_0x1b195f){return _0xe9d499!==_0x1b195f;},'yzQuN':_0x56a831[_0x149726(0x3c2)],'WlbUk':_0x56a831[_0x149726(0x3c0)]};if(_0x56a831[_0x149726(0x36a)](_0x5a501c['id'],_0xbb5e56['id']))throw new error['InternalValidationError'](_0x56a831[_0x149726(0x29e)](_0x56a831[_0x149726(0x1e7)],_0x5a501c['id'])+_0x149726(0x27d)+_0xbb5e56['id']);return certificateModel[_0x149726(0x18a)]()['patchAndFetchById'](_0x5a501c['id'],_0xbb5e56)[_0x149726(0x201)](utils[_0x149726(0x28a)](_0x56a831[_0x149726(0x2ac)](omissions)))[_0x149726(0x201)](_0xec33ac=>{const _0x3bfa9f=_0x149726;return _0xec33ac['meta']=internalCertificate[_0x3bfa9f(0x1ad)](_0xec33ac[_0x3bfa9f(0x305)]),_0xbb5e56[_0x3bfa9f(0x305)]=internalCertificate[_0x3bfa9f(0x1ad)](_0xbb5e56[_0x3bfa9f(0x305)]),_0x56a831[_0x3bfa9f(0x284)](_0xec33ac[_0x3bfa9f(0x37d)],_0x56a831[_0x3bfa9f(0x21c)])&&(_0xbb5e56[_0x3bfa9f(0x33a)]=_0xec33ac[_0x3bfa9f(0x33a)]),internalAuditLog[_0x3bfa9f(0x388)](_0xa1e87d,{'action':_0x3bfa9f(0x2b7),'object_type':_0x3bfa9f(0x1c3),'object_id':_0x5a501c['id'],'meta':_[_0x3bfa9f(0x302)](_0xbb5e56,[_0x56a831[_0x3bfa9f(0x361)]])})[_0x3bfa9f(0x201)](()=>{const _0x456e56=_0x3bfa9f;return _0x339d14['ktuOa'](_0x339d14[_0x456e56(0x2bd)],_0x339d14[_0x456e56(0x34b)])?_0xec33ac:!![];});});});},'get':(_0x540a02,_0x967b92)=>{const _0x500307=_0x3ad0c3,_0x5bf515={'BwAxW':_0x500307(0x25f),'NomsT':_0x500307(0x2c5),'iSUro':'DxLTv','rmDev':_0x500307(0x377),'qUqEG':function(_0x101012,_0xfd3175){return _0x101012!==_0xfd3175;},'REVyy':function(_0x567d08,_0x246a03){return _0x567d08+_0x246a03;},'WsDfy':function(_0xba6ca0,_0x153b49){return _0xba6ca0+_0x153b49;},'GpVpA':function(_0x5d90d3,_0x5baf95){return _0x5d90d3!==_0x5baf95;},'DxyLs':_0x500307(0x345)};return typeof _0x967b92===_0x5bf515['DxyLs']&&(_0x967b92={}),_0x540a02['can'](_0x500307(0x258),_0x967b92['id'])[_0x500307(0x201)](_0xc68cd8=>{const _0x5b3503=_0x500307;let _0x4cbc80=certificateModel[_0x5b3503(0x18a)]()['where'](_0x5b3503(0x217),0x0)[_0x5b3503(0x365)]('id',_0x967b92['id'])[_0x5b3503(0x2df)](_0x5bf515['BwAxW'])['first']();return _0xc68cd8['permission_visibility']!==_0x5bf515['NomsT']&&(_0x5b3503(0x3c6)!==_0x5bf515['iSUro']?_0x4cbc80[_0x5b3503(0x365)](_0x5bf515['rmDev'],_0x540a02['token']['getUserId'](0x1)):!_0x55c157['existsSync'](_0x134f00)&&_0x24f4bd[_0x5b3503(0x1ac)](_0x2488d6)),_0x5bf515['qUqEG'](typeof _0x967b92[_0x5b3503(0x1ab)],_0x5b3503(0x345))&&_0x967b92[_0x5b3503(0x1ab)]!==null&&_0x4cbc80[_0x5b3503(0x1d1)](_0x5bf515[_0x5b3503(0x327)](_0x5bf515[_0x5b3503(0x1fc)]('[',_0x967b92['expand'][_0x5b3503(0x1f0)](',\x20')),']')),_0x4cbc80[_0x5b3503(0x201)](utils[_0x5b3503(0x28a)](omissions()));})[_0x500307(0x201)](_0x43875a=>{const _0x3b7f1c=_0x500307;if(!_0x43875a)throw new error['ItemNotFoundError'](_0x967b92['id']);return _0x5bf515[_0x3b7f1c(0x224)](typeof _0x967b92['omit'],'undefined')&&_0x5bf515[_0x3b7f1c(0x224)](_0x967b92[_0x3b7f1c(0x302)],null)&&(_0x43875a=_[_0x3b7f1c(0x302)](_0x43875a,_0x967b92['omit'])),_0x43875a;});},'download':(_0x591506,_0xb88c6)=>{const _0x476b2e=_0x3ad0c3,_0x2ffa3b={'JAVeI':'zip\x20completed\x20:\x20','MnXib':function(_0x4008b6,_0x10328d){return _0x4008b6(_0x10328d);},'Tzizv':function(_0x5d0999,_0x3ef69f){return _0x5d0999===_0x3ef69f;},'czsTb':_0x476b2e(0x19d),'pItcr':'letsencrypt','nmBko':function(_0x30deee,_0x30208c){return _0x30deee!==_0x30208c;},'PEnuu':_0x476b2e(0x31e),'HFMco':function(_0x247398,_0x47259a){return _0x247398+_0x47259a;},'Bzflh':function(_0x53d642,_0x1220aa){return _0x53d642+_0x1220aa;},'JiuuU':function(_0x3a1665,_0x29989a){return _0x3a1665+_0x29989a;},'wkggd':'/tmp/','tdsUk':'certificates:get'};return new Promise((_0x4c6c9d,_0xc71102)=>{const _0x53b380=_0x476b2e;_0x591506[_0x53b380(0x26c)](_0x2ffa3b[_0x53b380(0x3aa)],_0xb88c6)[_0x53b380(0x201)](()=>{const _0x1760f9=_0x53b380;if(_0x1760f9(0x1e4)!==_0x1760f9(0x247))return internalCertificate[_0x1760f9(0x23c)](_0x591506,_0xb88c6);else{if(!_0x2df7c7||!_0x412c39[_0x1760f9(0x33c)])return null;let _0x10ebc1=_0x182b38['resolve']();return _0x2e7dd2[_0x1760f9(0x320)](function(_0x58680b){const _0x3fd4d7=_0x1760f9;_0x10ebc1=_0x10ebc1[_0x3fd4d7(0x201)](()=>_0xa33baf[_0x3fd4d7(0x360)]({'can':()=>_0x2f03[_0x3fd4d7(0x288)]({'permission_visibility':'all'}),'token':new _0x5460ae()},{'id':_0x58680b['id']})[_0x3fd4d7(0x39e)](_0x2a7ed9=>{const _0x38d744=_0x3fd4d7;_0x322406[_0x38d744(0x2fb)](_0x2a7ed9[_0x38d744(0x336)]);}));}),_0x10ebc1;}})[_0x53b380(0x201)](_0x41116b=>{const _0x2778d5=_0x53b380,_0x4ff053={'RbXTR':_0x2ffa3b[_0x2778d5(0x231)],'FZJZi':function(_0x4295b5,_0x38c7a9){const _0x292849=_0x2778d5;return _0x2ffa3b[_0x292849(0x380)](_0x4295b5,_0x38c7a9);},'XvTgr':function(_0x52c923,_0x20a53a){return _0x2ffa3b['Tzizv'](_0x52c923,_0x20a53a);}};if(_0x2ffa3b[_0x2778d5(0x1e2)](_0x2ffa3b[_0x2778d5(0x307)],_0x2778d5(0x19d))){if(_0x2ffa3b['Tzizv'](_0x41116b[_0x2778d5(0x37d)],_0x2ffa3b['pItcr'])){if(_0x2ffa3b[_0x2778d5(0x30b)](_0x2ffa3b[_0x2778d5(0x37f)],_0x2778d5(0x3b0))){const _0x5c9bbf=_0x2ffa3b[_0x2778d5(0x222)]('/etc/letsencrypt/live/npm-',_0xb88c6['id']);if(!fs[_0x2778d5(0x32e)](_0x5c9bbf))throw new error[(_0x2778d5(0x203))](_0x2ffa3b[_0x2778d5(0x2fa)](_0x2778d5(0x3a1),_0x41116b[_0x2778d5(0x33a)])+_0x2778d5(0x2ef));let _0x32966c=fs[_0x2778d5(0x2e0)](_0x5c9bbf)[_0x2778d5(0x286)](_0x2beb02=>_0x2beb02['endsWith']('.pem'))[_0x2778d5(0x214)](_0x293476=>fs[_0x2778d5(0x3c4)](path[_0x2778d5(0x1f0)](_0x5c9bbf,_0x293476)));const _0x4743fc=_0x2ffa3b[_0x2778d5(0x2fa)](_0x2ffa3b['JiuuU'](_0x2778d5(0x313),_0xb88c6['id']),'-')+(Date['now']()+_0x2778d5(0x1e6)),_0x23a56c=_0x2ffa3b['JiuuU'](_0x2ffa3b['wkggd'],_0x4743fc);internalCertificate[_0x2778d5(0x19e)](_0x32966c,_0x23a56c)[_0x2778d5(0x201)](()=>{const _0x5abeae=_0x2778d5;logger['debug'](_0x4ff053[_0x5abeae(0x1e9)],_0x23a56c);const _0x13fbce={'fileName':_0x23a56c};_0x4ff053[_0x5abeae(0x1dc)](_0x4c6c9d,_0x13fbce);})[_0x2778d5(0x39e)](_0x4e8090=>_0xc71102(_0x4e8090));}else _0x1d78ad['mkdirSync'](_0x4c73e5);}else throw new error['ValidationError'](_0x2778d5(0x2e7));}else{if(_0x4ff053[_0x2778d5(0x2dd)](_0x29bff6['provider'],_0x2778d5(0x28c)))return _0xdd88b0[_0x2778d5(0x2c8)](_0x1cb288);}})[_0x53b380(0x39e)](_0x32ab53=>_0xc71102(_0x32ab53));});},'zipFiles'(_0x374eeb,_0x34d0c4){const _0x182918=_0x3ad0c3,_0x357496={'RNPFU':'added\x20to\x20certificate\x20zip','XObhD':function(_0x1b3830,_0xc62269){return _0x1b3830!==_0xc62269;},'BYEbv':'dSQHi','CgyYq':_0x182918(0x352),'AskPs':'error','UJdTd':_0x182918(0x330),'hVKoK':function(_0x324415,_0x4224d8,_0x3bcbc9){return _0x324415(_0x4224d8,_0x3bcbc9);}},_0x1dbc67=_0x357496[_0x182918(0x186)](archiver,_0x182918(0x35a),{'zlib':{'level':0x9}}),_0x54daeb=fs[_0x182918(0x36c)](_0x34d0c4);return new Promise((_0x8088e4,_0x4b2278)=>{const _0xa0b227=_0x182918;if(_0x357496[_0xa0b227(0x3b4)](_0x357496[_0xa0b227(0x1be)],_0x357496[_0xa0b227(0x22f)]))_0x374eeb[_0xa0b227(0x214)](_0x36fa64=>{const _0x2b6906=_0xa0b227;let _0x9e992c=path[_0x2b6906(0x309)](_0x36fa64);logger[_0x2b6906(0x1c0)](_0x36fa64,_0x357496['RNPFU']),_0x1dbc67['file'](_0x36fa64,{'name':_0x9e992c});}),_0x1dbc67['on'](_0x357496['AskPs'],_0x28e6f4=>_0x4b2278(_0x28e6f4))[_0xa0b227(0x304)](_0x54daeb),_0x54daeb['on'](_0x357496['UJdTd'],()=>_0x8088e4()),_0x1dbc67[_0xa0b227(0x275)]();else return _0x4e6f6c[_0xa0b227(0x2f4)](_0xbc989e)[_0xa0b227(0x201)](()=>{const _0x3fb591=_0xa0b227;return _0x1dcd01[_0x3fb591(0x187)](_0x163f70);})[_0xa0b227(0x201)](_0x101c90[_0xa0b227(0x2bc)])[_0xa0b227(0x201)](()=>{throw _0xaf20b;});});},'delete':(_0x2d1133,_0x3dab20)=>{const _0xf9da02=_0x3ad0c3,_0x436484={'XkLAf':function(_0x1e9eb5,_0x4e8f13){return _0x1e9eb5!==_0x4e8f13;},'AhjHm':'AYNHX','WetYc':'deleted','rjeld':function(_0x155754){return _0x155754();},'aMyxA':_0xf9da02(0x28c),'uwthv':'certificates:delete'};return _0x2d1133[_0xf9da02(0x26c)](_0x436484['uwthv'],_0x3dab20['id'])[_0xf9da02(0x201)](()=>{const _0x5eaca3=_0xf9da02;return internalCertificate[_0x5eaca3(0x23c)](_0x2d1133,{'id':_0x3dab20['id']});})['then'](_0x307e19=>{const _0x58189b=_0xf9da02,_0xa615a1={'UxNBG':_0x436484[_0x58189b(0x295)]};if(!_0x307e19)throw new error[(_0x58189b(0x203))](_0x3dab20['id']);return certificateModel[_0x58189b(0x18a)]()[_0x58189b(0x3b9)]('id',_0x307e19['id'])['patch']({'is_deleted':0x1})[_0x58189b(0x201)](()=>{const _0x78e284=_0x58189b;if(_0x436484[_0x78e284(0x21f)](_0x78e284(0x23f),_0x436484[_0x78e284(0x184)]))return _0x307e19[_0x78e284(0x305)]=internalCertificate[_0x78e284(0x1ad)](_0x307e19[_0x78e284(0x305)]),internalAuditLog['add'](_0x2d1133,{'action':_0x436484[_0x78e284(0x381)],'object_type':_0x78e284(0x1c3),'object_id':_0x307e19['id'],'meta':_[_0x78e284(0x302)](_0x307e19,_0x436484[_0x78e284(0x2b9)](omissions))});else _0x4176f8[_0x1b5856]=_0x258690[_0x78e284(0x2ec)][_0x78e284(0x1a8)]();})['then'](()=>{const _0x3d8e5f=_0x58189b;if(_0x307e19[_0x3d8e5f(0x37d)]===_0xa615a1[_0x3d8e5f(0x1c4)])return internalCertificate[_0x3d8e5f(0x2c8)](_0x307e19);});})[_0xf9da02(0x201)](()=>{return!![];});},'getAll':(_0x2c76b0,_0x11e2ae,_0x194600)=>{const _0x430da3=_0x3ad0c3,_0x3ae48e={'khZei':_0x430da3(0x348),'lYbjE':function(_0x549635,_0x9c6c43){return _0x549635+_0x9c6c43;},'bBUAm':_0x430da3(0x2aa),'cqITl':'nice_name','QRzDp':'ASC','MDGmv':_0x430da3(0x377),'KWaIB':function(_0x2a3639,_0x5ef29f){return _0x2a3639!==_0x5ef29f;},'BmAxa':_0x430da3(0x345),'yBgoc':function(_0x4a2940){return _0x4a2940();}};return _0x2c76b0[_0x430da3(0x26c)](_0x430da3(0x213))['then'](_0xc3b700=>{const _0x3fbc93=_0x430da3,_0x5e64b6={'fbrAQ':_0x3ae48e[_0x3fbc93(0x391)],'LzuzK':'like','aAVWI':function(_0x3be684,_0x58d72b){return _0x3ae48e['lYbjE'](_0x3be684,_0x58d72b);}};if(_0x3ae48e[_0x3fbc93(0x17d)]!==_0x3fbc93(0x2aa))_0x594705['push'](_0x58be21[_0x3fbc93(0x34c)](_0x5e64b6[_0x3fbc93(0x28b)],_0x22f88f[_0x3fbc93(0x252)]));else{let _0x3ec249=certificateModel['query']()['where'](_0x3fbc93(0x217),0x0)[_0x3fbc93(0x21a)]('id')[_0x3fbc93(0x2df)]('[owner]')[_0x3fbc93(0x374)](_0x3ae48e[_0x3fbc93(0x325)],_0x3ae48e[_0x3fbc93(0x2d6)]);return _0xc3b700[_0x3fbc93(0x2fc)]!=='all'&&_0x3ec249[_0x3fbc93(0x365)](_0x3ae48e[_0x3fbc93(0x1cb)],_0x2c76b0[_0x3fbc93(0x198)]['getUserId'](0x1)),typeof _0x194600==='string'&&_0x3ec249[_0x3fbc93(0x3b9)](function(){const _0x4e5e90=_0x3fbc93;this[_0x4e5e90(0x3b9)](_0x4e5e90(0x33a),_0x5e64b6['LzuzK'],_0x5e64b6[_0x4e5e90(0x185)]('%'+_0x194600,'%'));}),_0x3ae48e[_0x3fbc93(0x37a)](typeof _0x11e2ae,_0x3ae48e[_0x3fbc93(0x26b)])&&_0x11e2ae!==null&&_0x3ec249[_0x3fbc93(0x1d1)]('['+_0x11e2ae[_0x3fbc93(0x1f0)](',\x20')+']'),_0x3ec249[_0x3fbc93(0x201)](utils[_0x3fbc93(0x242)](_0x3ae48e['yBgoc'](omissions)));}});},'getCount':(_0x224f69,_0x2b594b)=>{const _0xc4f1f5=_0x3ad0c3,_0x214890={'YOdxD':function(_0x52b330,_0xc35d92){return _0x52b330(_0xc35d92);},'HYLlv':function(_0x114df8,_0x1428e4){return _0x114df8!==_0x1428e4;}};let _0x2aaeb6=certificateModel[_0xc4f1f5(0x18a)]()['count'](_0xc4f1f5(0x3c7))[_0xc4f1f5(0x3b9)](_0xc4f1f5(0x217),0x0);return _0x214890[_0xc4f1f5(0x358)](_0x2b594b,_0xc4f1f5(0x2c5))&&(_0xc4f1f5(0x3c3)!=='PCfxP'?_0x214890['YOdxD'](_0x174411,new _0x7ae239['ValidationError'](_0xc4f1f5(0x38f))):_0x2aaeb6[_0xc4f1f5(0x365)](_0xc4f1f5(0x377),_0x224f69)),_0x2aaeb6['first']()[_0xc4f1f5(0x201)](_0x252ab9=>{return parseInt(_0x252ab9['count'],0xa);});},'writeCustomCert':_0x334c8a=>{const _0x4ac990=_0x3ad0c3,_0x501830={'hKzoT':function(_0x15f202,_0x3da903){return _0x15f202(_0x3da903);},'sxKdV':function(_0x1e21d5,_0x357746){return _0x1e21d5===_0x357746;},'salxU':_0x4ac990(0x28c),'HfQCG':_0x4ac990(0x345),'Kufyx':function(_0x16aa64,_0x41b48a){return _0x16aa64+_0x41b48a;},'ySLXu':'/fullchain.pem','vYQxX':function(_0x168084,_0x315850,_0x4d2d90){return _0x168084(_0x315850,_0x4d2d90);},'Vvkau':_0x4ac990(0x334),'tnpwL':function(_0x31e508,_0x4e49c9){return _0x31e508!==_0x4e49c9;},'peONI':_0x4ac990(0x2f8),'HBbHq':_0x4ac990(0x240),'UANru':function(_0x3c0bd8,_0x4df737){return _0x3c0bd8===_0x4df737;},'Zgshr':_0x4ac990(0x27a),'EEJEH':function(_0xb2e3ef,_0x7db623){return _0xb2e3ef===_0x7db623;},'NNLhy':_0x4ac990(0x204),'nqmln':_0x4ac990(0x219),'Wsmag':function(_0x178890,_0x18b2ff){return _0x178890+_0x18b2ff;},'FDWJr':_0x4ac990(0x273)};logger[_0x4ac990(0x1bd)](_0x501830[_0x4ac990(0x2a2)],_0x334c8a);const _0x568515=_0x501830[_0x4ac990(0x1c5)](_0x501830[_0x4ac990(0x1d0)],_0x334c8a['id']);return new Promise((_0x3e28bc,_0x5dc387)=>{const _0x9972a7=_0x4ac990;if(_0x501830[_0x9972a7(0x385)](_0x334c8a[_0x9972a7(0x37d)],_0x501830[_0x9972a7(0x335)])){_0x501830[_0x9972a7(0x1ff)](_0x5dc387,new Error('Refusing\x20to\x20write\x20letsencrypt\x20certs\x20here'));return;}let _0x5d785a=_0x334c8a[_0x9972a7(0x305)][_0x9972a7(0x1c3)];typeof _0x334c8a[_0x9972a7(0x305)][_0x9972a7(0x257)]!==_0x501830['HfQCG']&&(_0x5d785a=_0x501830[_0x9972a7(0x2e8)](_0x5d785a,'\x0a')+_0x334c8a['meta'][_0x9972a7(0x257)]);try{!fs['existsSync'](_0x568515)&&fs['mkdirSync'](_0x568515);}catch(_0x45cfc9){_0x501830[_0x9972a7(0x1ff)](_0x5dc387,_0x45cfc9);return;}fs['writeFile'](_0x568515+_0x501830['ySLXu'],_0x5d785a,function(_0x38736f){_0x38736f?_0x501830['hKzoT'](_0x5dc387,_0x38736f):_0x3e28bc();});})[_0x4ac990(0x201)](()=>{const _0xd037e6=_0x4ac990,_0x1748f1={'dFkfc':function(_0x1735da,_0xb74286,_0x822eef){const _0x5eca9d=_0x1a7a;return _0x501830[_0x5eca9d(0x1a5)](_0x1735da,_0xb74286,_0x822eef);},'nPiSC':_0x501830[_0xd037e6(0x3ad)],'fOvFo':function(_0x5b5017,_0x569175){const _0x1c6e1a=_0xd037e6;return _0x501830[_0x1c6e1a(0x34d)](_0x5b5017,_0x569175);},'LQnjn':_0x501830['peONI'],'LfwjX':function(_0x49c2b5,_0x1f501a){return _0x49c2b5(_0x1f501a);},'NBffS':_0x501830[_0xd037e6(0x394)],'AwZHb':function(_0x18505f){return _0x18505f();},'UckIC':_0xd037e6(0x3c7),'vgACs':function(_0x34f008,_0x13ee9d){const _0x328967=_0xd037e6;return _0x501830[_0x328967(0x30d)](_0x34f008,_0x13ee9d);},'rFklf':_0xd037e6(0x23b),'AYTif':_0x501830[_0xd037e6(0x2bf)]};if(_0x501830[_0xd037e6(0x3c9)](_0x501830[_0xd037e6(0x392)],_0x501830[_0xd037e6(0x392)]))return new Promise((_0x43ac9a,_0x44dd70)=>{const _0x231060=_0xd037e6,_0x3ecfc3={'tLlPh':_0x1748f1[_0x231060(0x265)],'fHSoy':_0x231060(0x377)};if(_0x1748f1[_0x231060(0x1ed)](_0x231060(0x39d),'SRJAV'))fs[_0x231060(0x21b)](_0x568515+_0x1748f1[_0x231060(0x25d)],_0x334c8a['meta'][_0x231060(0x397)],function(_0x257fca){const _0x309d18=_0x231060,_0x4929bd={'FFGrF':function(_0x40015b,_0x526c6a,_0x174a58){return _0x1748f1['dFkfc'](_0x40015b,_0x526c6a,_0x174a58);},'nFkWK':_0x1748f1['nPiSC'],'SjhbJ':function(_0x18c208,_0x528789){return _0x18c208+_0x528789;},'vDAxn':_0x309d18(0x32d),'dxwwD':function(_0x4375a6,_0x4835ca,_0x57fcdc){const _0x4de0a6=_0x309d18;return _0x1748f1[_0x4de0a6(0x324)](_0x4375a6,_0x4835ca,_0x57fcdc);}};if(_0x257fca){if(_0x1748f1['fOvFo']('QaAiG',_0x1748f1[_0x309d18(0x2ee)]))return _0xc55b97[_0x309d18(0x1b8)](_0x4929bd[_0x309d18(0x1d7)](_0x309d18(0x259),_0x184bec['id'])+_0x4929bd[_0x309d18(0x39a)])[_0x309d18(0x201)](_0x3a633d=>{const _0xf6e28e=_0x309d18;return _0x15cec5[_0xf6e28e(0x18a)]()['patchAndFetchById'](_0x301f13['id'],{'expires_on':_0x4929bd[_0xf6e28e(0x359)](_0x5020e7,_0x3a633d[_0xf6e28e(0x2e9)]['to'],'X')[_0xf6e28e(0x1b3)](_0x4929bd[_0xf6e28e(0x291)])})['then'](_0x5553f1=>{const _0x233833=_0xf6e28e;return _0x5553f1[_0x233833(0x305)]=_0xfe76c6[_0x233833(0x2a1)]({},_0x5553f1['meta'],{'letsencrypt_certificate':_0x3a633d}),_0x5553f1;});});else _0x1748f1[_0x309d18(0x189)](_0x44dd70,_0x257fca);}else{if(_0x1748f1['NBffS']!=='scvZj'){let _0x420594=_0x2b308e['query']()[_0x309d18(0x2cd)](_0x3ecfc3[_0x309d18(0x37b)])['where'](_0x309d18(0x217),0x0);return _0x4b9076!==_0x309d18(0x2c5)&&_0x420594[_0x309d18(0x365)](_0x3ecfc3[_0x309d18(0x3a2)],_0x386f6d),_0x420594[_0x309d18(0x241)]()[_0x309d18(0x201)](_0x34f6c0=>{const _0x5bf87e=_0x309d18;return _0x4929bd[_0x5bf87e(0x190)](_0x599a42,_0x34f6c0[_0x5bf87e(0x2cd)],0xa);});}else _0x1748f1['AwZHb'](_0x43ac9a);}});else return _0x47e0fd[_0x231060(0x23c)](_0x16b916,_0x1d5f0c);});else throw new _0x5b4848['ValidationError'](_0x1748f1[_0xd037e6(0x2c1)]);});},'createQuickCertificate':(_0x2416a9,_0x1f43b1)=>{const _0x4bfdf1=_0x3ad0c3;return internalCertificate[_0x4bfdf1(0x323)](_0x2416a9,{'provider':_0x4bfdf1(0x28c),'domain_names':_0x1f43b1[_0x4bfdf1(0x312)],'meta':_0x1f43b1[_0x4bfdf1(0x305)]});},'validate':_0x47935f=>{const _0x44b99d=_0x3ad0c3,_0x524cd7={'JpZjs':function(_0xf2a9f7,_0x1b89a4){return _0xf2a9f7!==_0x1b89a4;},'oHsHZ':function(_0x5b3a0f,_0x1b6deb){return _0x5b3a0f(_0x1b6deb);},'ljWRA':_0x44b99d(0x2ce),'VEIAR':'asEsU'};return new Promise(_0x1dfbfb=>{const _0x3b7f94=_0x44b99d,_0x2ed879={'GvZpU':function(_0x25283d,_0x3c265e){const _0x63b8c0=_0x1a7a;return _0x524cd7[_0x63b8c0(0x2a9)](_0x25283d,_0x3c265e);}};let _0x456d2b={};_[_0x3b7f94(0x214)](_0x47935f['files'],(_0x4fcb80,_0x29c172)=>{const _0x174891=_0x3b7f94;_0x2ed879[_0x174891(0x272)](internalCertificate[_0x174891(0x344)][_0x174891(0x27e)](_0x29c172),-0x1)&&(_0x456d2b[_0x29c172]=_0x4fcb80[_0x174891(0x2ec)][_0x174891(0x1a8)]());}),_0x524cd7[_0x3b7f94(0x1f5)](_0x1dfbfb,_0x456d2b);})[_0x44b99d(0x201)](_0x4d5ba2=>{const _0x939bf2=_0x44b99d,_0x13e504={'crjNQ':function(_0x4113cf,_0x2e6937){return _0x4113cf(_0x2e6937);},'XcxvJ':_0x524cd7[_0x939bf2(0x343)],'GgDZD':_0x524cd7['VEIAR']};let _0x108726=[];return _[_0x939bf2(0x214)](_0x4d5ba2,(_0x5be1ba,_0x3a1232)=>{const _0x37502c=_0x939bf2,_0x242950={'JmNFI':function(_0x481dc4,_0x5e8521){const _0x3c2062=_0x1a7a;return _0x13e504[_0x3c2062(0x1ef)](_0x481dc4,_0x5e8521);},'YZhOk':_0x13e504[_0x37502c(0x2ba)],'UEjjq':_0x13e504[_0x37502c(0x31a)]};_0x108726[_0x37502c(0x382)](new Promise(_0x1a0a27=>{const _0x377dab=_0x37502c;_0x3a1232===_0x377dab(0x397)?_0x1a0a27(internalCertificate[_0x377dab(0x387)](_0x5be1ba)):_0x242950[_0x377dab(0x1c9)](_0x1a0a27,internalCertificate[_0x377dab(0x227)](_0x5be1ba,!![]));})[_0x37502c(0x201)](_0x5d3d89=>{const _0x4c8f64=_0x37502c;return _0x242950[_0x4c8f64(0x24a)]!==_0x242950['UEjjq']?{[_0x3a1232]:_0x5d3d89}:(_0x2190d3[_0x4c8f64(0x1bd)](_0x4c8f64(0x208)+_0x3beab+_0x4c8f64(0x35b)+_0xfb78aa[_0x4c8f64(0x2fb)][_0x4c8f64(0x2ed)]),_0x4c8f64(0x221)+_0x3f8924[_0x4c8f64(0x2fb)][_0x4c8f64(0x2ed)]);}));}),Promise['all'](_0x108726)[_0x939bf2(0x201)](_0x1bdd1e=>{let _0x4a2ee3={};return _['each'](_0x1bdd1e,_0x5b35e7=>{const _0x47505a=_0x1a7a;_0x4a2ee3=_[_0x47505a(0x2a1)]({},_0x4a2ee3,_0x5b35e7);}),_0x4a2ee3;});});},'upload':(_0x515a75,_0x5d762e)=>{const _0xed6eef=_0x3ad0c3,_0x40f42c={'WStjH':function(_0xc184d3,_0x4df9c0){return _0xc184d3!==_0x4df9c0;},'YerWQ':_0xed6eef(0x2ae),'uPNDP':function(_0x31f808,_0x44155c){return _0x31f808===_0x44155c;},'rvtUj':_0xed6eef(0x2e5),'Bjetq':function(_0x480ca7,_0x1e5bdb,_0x172b21){return _0x480ca7(_0x1e5bdb,_0x172b21);},'ZlriM':_0xed6eef(0x334),'ggBUw':_0xed6eef(0x1bf)};return internalCertificate[_0xed6eef(0x23c)](_0x515a75,{'id':_0x5d762e['id']})['then'](_0x57adbf=>{const _0x37e196=_0xed6eef;if(_0x57adbf[_0x37e196(0x37d)]!==_0x40f42c[_0x37e196(0x369)])throw new error[(_0x37e196(0x2d2))](_0x37e196(0x254));return internalCertificate[_0x37e196(0x18f)](_0x5d762e)['then'](_0x3ca4f7=>{const _0x4e3c8c=_0x37e196,_0x312e52={'qyHtb':function(_0x2a7b80,_0x51b7f7){return _0x40f42c['WStjH'](_0x2a7b80,_0x51b7f7);}};if(_0x4e3c8c(0x1a7)!==_0x40f42c['YerWQ']){if(_0x40f42c[_0x4e3c8c(0x367)](typeof _0x3ca4f7[_0x4e3c8c(0x1c3)],_0x4e3c8c(0x345))){if(_0x40f42c[_0x4e3c8c(0x2d5)](_0x4e3c8c(0x1aa),_0x40f42c[_0x4e3c8c(0x197)]))throw new error[(_0x4e3c8c(0x2d2))](_0x4e3c8c(0x354));else _0x177105['push'](_0x9964e[_0x4e3c8c(0x34c)](_0x4e3c8c(0x301),_0x46929f['proxy_hosts']));}return _[_0x4e3c8c(0x214)](_0x5d762e[_0x4e3c8c(0x1b1)],(_0x2b0ca0,_0x50e260)=>{const _0x3b8f57=_0x4e3c8c;_0x312e52[_0x3b8f57(0x2c6)](internalCertificate[_0x3b8f57(0x344)][_0x3b8f57(0x27e)](_0x50e260),-0x1)&&(_0x57adbf['meta'][_0x50e260]=_0x2b0ca0[_0x3b8f57(0x2ec)][_0x3b8f57(0x1a8)]());}),internalCertificate[_0x4e3c8c(0x1df)](_0x515a75,{'id':_0x5d762e['id'],'expires_on':_0x40f42c[_0x4e3c8c(0x3a6)](moment,_0x3ca4f7['certificate'][_0x4e3c8c(0x2e9)]['to'],'X')[_0x4e3c8c(0x1b3)](_0x40f42c[_0x4e3c8c(0x1f1)]),'domain_names':[_0x3ca4f7[_0x4e3c8c(0x1c3)]['cn']],'meta':_[_0x4e3c8c(0x2ad)](_0x57adbf[_0x4e3c8c(0x305)])})['then'](_0x534c18=>{const _0x3281f0=_0x4e3c8c;return _0x534c18[_0x3281f0(0x305)]=_0x57adbf[_0x3281f0(0x305)],internalCertificate['writeCustomCert'](_0x534c18);});}else _0x21df5d=_0x3660b0[_0x4e3c8c(0x201)](()=>_0x41f88c[_0x4e3c8c(0x360)]({'can':()=>_0x445a18[_0x4e3c8c(0x288)]({'permission_visibility':_0x4e3c8c(0x2c5)}),'token':new _0x506a4e()},{'id':_0x348aba['id']})[_0x4e3c8c(0x39e)](_0x4dfa8f=>{const _0x2f52f9=_0x4e3c8c;_0x525d66[_0x2f52f9(0x2fb)](_0x4dfa8f[_0x2f52f9(0x336)]);}));})[_0x37e196(0x201)](()=>{const _0x3e795f=_0x37e196;return _['pick'](_0x57adbf[_0x3e795f(0x305)],internalCertificate['allowedSslFiles']);});});},'checkPrivateKey':_0x319c45=>{const _0x317f09=_0x3ad0c3,_0x486d5a={'StxTX':_0x317f09(0x274),'klwEx':function(_0x24b401,_0x30692b){return _0x24b401(_0x30692b);},'BCMfY':_0x317f09(0x1f6),'PkFUa':function(_0x13ce33,_0x38b75f,_0x56e571){return _0x13ce33(_0x38b75f,_0x56e571);},'fUKFe':function(_0xe217aa,_0xc9b13d){return _0xe217aa+_0xc9b13d;},'zxRBc':_0x317f09(0x33b),'zyeEB':function(_0x3ee228,_0xb55419){return _0x3ee228+_0xb55419;},'mOKBW':_0x317f09(0x19f),'KYLFr':_0x317f09(0x39b),'UknhZ':_0x317f09(0x2b4)};return _0x486d5a[_0x317f09(0x375)](tempWrite,_0x319c45,_0x486d5a[_0x317f09(0x238)])['then'](_0x1f43ce=>{const _0xe9c012=_0x317f09,_0x3b1aab={'fupna':function(_0x24d6e2,_0x4cc9fd){const _0x5816db=_0x1a7a;return _0x486d5a[_0x5816db(0x1fa)](_0x24d6e2,_0x4cc9fd);},'QQeuD':function(_0x3e598b,_0x3d6cd6){const _0x51408c=_0x1a7a;return _0x486d5a[_0x51408c(0x34f)](_0x3e598b,_0x3d6cd6);},'lEIlq':_0x486d5a['mOKBW']};if(_0x486d5a[_0xe9c012(0x319)]===_0x486d5a[_0xe9c012(0x319)])return new Promise((_0x1624b0,_0x4be53e)=>{const _0x7b3e0a=_0xe9c012,_0xc1737e={'EoBGR':_0x486d5a[_0x7b3e0a(0x205)],'JRPey':function(_0x294eba,_0x2be1c4){const _0x3d38b8=_0x7b3e0a;return _0x486d5a[_0x3d38b8(0x1fa)](_0x294eba,_0x2be1c4);}};if(_0x7b3e0a(0x341)===_0x486d5a[_0x7b3e0a(0x296)])delete _0xd85cf8[_0x1a0427];else{const _0x4d3c98=_0x486d5a[_0x7b3e0a(0x375)](setTimeout,()=>{const _0x2761b0=_0x7b3e0a;_0x4be53e(new error[(_0x2761b0(0x2d2))](_0x2761b0(0x38f)));},0x2710);utils['exec'](_0x486d5a[_0x7b3e0a(0x2f9)]('openssl\x20pkey\x20-in\x20',_0x1f43ce)+_0x486d5a[_0x7b3e0a(0x2cf)])[_0x7b3e0a(0x201)](_0x6403a6=>{const _0x1ed302=_0x7b3e0a;if(_0xc1737e['EoBGR']!==_0xc1737e[_0x1ed302(0x3a3)])return _0x489f1e;else _0xc1737e['JRPey'](clearTimeout,_0x4d3c98),!_0x6403a6[_0x1ed302(0x2eb)]()[_0x1ed302(0x24d)]('key\x20is\x20valid')&&_0xc1737e[_0x1ed302(0x2e6)](_0x4be53e,new error[(_0x1ed302(0x2d2))](_0x1ed302(0x1c2)+_0x6403a6)),fs[_0x1ed302(0x29f)](_0x1f43ce),_0xc1737e[_0x1ed302(0x2e6)](_0x1624b0,!![]);})[_0x7b3e0a(0x39e)](_0x59242d=>{const _0xdf5fef=_0x7b3e0a;_0x3b1aab[_0xdf5fef(0x26d)](clearTimeout,_0x4d3c98),fs[_0xdf5fef(0x29f)](_0x1f43ce),_0x3b1aab[_0xdf5fef(0x26d)](_0x4be53e,new error[(_0xdf5fef(0x2d2))](_0x3b1aab['QQeuD'](_0x3b1aab[_0xdf5fef(0x25e)],_0x59242d[_0xdf5fef(0x336)])+')',_0x59242d));});}});else _0xd681f3();});},'getCertificateInfo':(_0x16b226,_0x50ffdb)=>{const _0x28cc39=_0x3ad0c3,_0x13058d={'XCPzi':_0x28cc39(0x332),'oNUkS':function(_0x48653b,_0x40108e,_0x5c2760){return _0x48653b(_0x40108e,_0x5c2760);},'OIePv':_0x28cc39(0x2b4)};return _0x13058d[_0x28cc39(0x237)](tempWrite,_0x16b226,_0x13058d[_0x28cc39(0x25a)])['then'](_0x23197d=>{const _0x382422=_0x28cc39;return _0x382422(0x332)===_0x13058d[_0x382422(0x292)]?internalCertificate[_0x382422(0x1b8)](_0x23197d,_0x50ffdb)[_0x382422(0x201)](_0x414164=>{const _0x66a92=_0x382422;return fs[_0x66a92(0x29f)](_0x23197d),_0x414164;})[_0x382422(0x39e)](_0x2e301f=>{const _0x842778=_0x382422;fs[_0x842778(0x29f)](_0x23197d);throw _0x2e301f;}):_0xba74e8[_0x382422(0x288)]();});},'getCertificateInfoFromFile':(_0x563169,_0x386657)=>{const _0x5d3e50=_0x3ad0c3,_0x6a98={'vVzhW':function(_0x59781c,_0xa21fa1){return _0x59781c===_0xa21fa1;},'fGFKs':_0x5d3e50(0x345),'DjFuh':function(_0x38af2e,_0x29195d){return _0x38af2e+_0x29195d;},'eRVQD':function(_0x56cd51,_0x122379){return _0x56cd51+_0x122379;},'wyFFg':_0x5d3e50(0x180),'DbyQD':function(_0x393dfd,_0x2c5bf4){return _0x393dfd===_0x2c5bf4;},'nfqAB':_0x5d3e50(0x225),'wlBxM':_0x5d3e50(0x1a9),'Ldiyf':_0x5d3e50(0x2da),'TOtca':function(_0x5878be,_0x37d971){return _0x5878be+_0x37d971;},'TFkxn':function(_0x466787,_0x3d950f,_0x29e452){return _0x466787(_0x3d950f,_0x29e452);},'PTfNs':function(_0x2351b8,_0x1efc63){return _0x2351b8!==_0x1efc63;},'mLWvM':_0x5d3e50(0x1d8),'IyacS':function(_0x31bf3b,_0x5aee51){return _0x31bf3b===_0x5aee51;},'OiefW':_0x5d3e50(0x191),'LqFhX':function(_0x3f7e0c,_0x2cb91b){return _0x3f7e0c!==_0x2cb91b;},'CCkvq':_0x5d3e50(0x26e),'OJZxi':function(_0x5b20f7,_0x5bc8f2){return _0x5b20f7<_0x5bc8f2;},'vSRzc':function(_0x284401,_0x54c60d,_0x24cb1f){return _0x284401(_0x54c60d,_0x24cb1f);},'rlilD':function(_0x36937e){return _0x36937e();},'FjsYu':'EcKVq','QFHbR':_0x5d3e50(0x2e9),'KQtxh':_0x5d3e50(0x299)};let _0x217871={};return utils[_0x5d3e50(0x2cb)](_0x6a98[_0x5d3e50(0x3b1)]+_0x563169+_0x5d3e50(0x2db))['then'](_0xf94d18=>{const _0x17922d=_0x5d3e50,_0x36d680=/(?:subject=)?[^=]+=\s+(\S+)/gim,_0x25718a=_0x36d680[_0x17922d(0x2cb)](_0xf94d18);if(_0x6a98[_0x17922d(0x19a)](typeof _0x25718a[0x1],_0x6a98[_0x17922d(0x271)]))throw new error[(_0x17922d(0x2d2))](_0x6a98[_0x17922d(0x2d0)](_0x17922d(0x2c0),_0xf94d18));_0x217871['cn']=_0x25718a[0x1];})[_0x5d3e50(0x201)](()=>{const _0x227a64=_0x5d3e50;return utils[_0x227a64(0x2cb)](_0x6a98[_0x227a64(0x1e1)](_0x6a98['wyFFg'],_0x563169)+_0x227a64(0x29d));})[_0x5d3e50(0x201)](_0x3dd1bd=>{const _0x39ba34=_0x5d3e50,_0x3ded59=/^(?:issuer=)?(.*)$/gim,_0x2dfd1c=_0x3ded59[_0x39ba34(0x2cb)](_0x3dd1bd);if(_0x6a98['DbyQD'](typeof _0x2dfd1c[0x1],_0x6a98[_0x39ba34(0x271)]))throw new error[(_0x39ba34(0x2d2))](_0x6a98['eRVQD'](_0x39ba34(0x3be),_0x3dd1bd));_0x217871[_0x6a98[_0x39ba34(0x349)]]=_0x2dfd1c[0x1];})[_0x5d3e50(0x201)](()=>{const _0x373f90=_0x5d3e50;return _0x6a98[_0x373f90(0x32a)]===_0x6a98['Ldiyf']?(_0xa3ad75[_0x373f90(0x1bd)](_0x373f90(0x208)+_0x19448d+_0x373f90(0x211)),_0x373f90(0x20d)):utils[_0x373f90(0x2cb)](_0x6a98[_0x373f90(0x235)](_0x373f90(0x180),_0x563169)+_0x373f90(0x18e));})[_0x5d3e50(0x201)](_0x35fcb7=>{const _0x2bc189=_0x5d3e50;let _0x2f5c72=null,_0x3bcd6c=null;const _0x1766bd=_0x35fcb7[_0x2bc189(0x182)]('\x0a');_0x1766bd[_0x2bc189(0x214)](function(_0x332576){const _0x5752eb=_0x2bc189,_0x3d9b3f={'wzYhk':function(_0x13a1e1,_0x587707,_0x1af0d6){const _0x332acb=_0x1a7a;return _0x6a98[_0x332acb(0x366)](_0x13a1e1,_0x587707,_0x1af0d6);},'BsrIl':_0x5752eb(0x1d8),'ISQYW':function(_0x4c3e7d,_0x2d3142){return _0x4c3e7d===_0x2d3142;},'EHqCf':_0x5752eb(0x191),'WkuLq':_0x5752eb(0x21d)},_0x33880f=/^(\S+)=(.*)$/gim,_0xd5103d=_0x33880f[_0x5752eb(0x2cb)](_0x332576[_0x5752eb(0x2ea)]());if(_0xd5103d&&_0x6a98[_0x5752eb(0x1de)](typeof _0xd5103d[0x2],_0x5752eb(0x345))){const _0xb3e923=parseInt(_0x6a98[_0x5752eb(0x366)](moment,_0xd5103d[0x2],_0x6a98[_0x5752eb(0x1b4)])[_0x5752eb(0x1b3)]('X'),0xa);if(_0x6a98[_0x5752eb(0x294)](_0xd5103d[0x1]['toLowerCase'](),_0x6a98[_0x5752eb(0x326)])){if(_0x6a98[_0x5752eb(0x183)](_0x5752eb(0x2de),_0x5752eb(0x1f7)))_0x2f5c72=_0xb3e923;else{const _0x43bf00=_0x3d9b3f[_0x5752eb(0x277)](_0x26d96e,_0x2b7b4d(_0x56e744[0x2],_0x3d9b3f[_0x5752eb(0x1bc)])[_0x5752eb(0x1b3)]('X'),0xa);if(_0x3d9b3f[_0x5752eb(0x1f2)](_0x2a885f[0x1][_0x5752eb(0x2eb)](),_0x3d9b3f['EHqCf']))_0x1870df=_0x43bf00;else _0x3d9b3f[_0x5752eb(0x1f2)](_0x53e121[0x1]['toLowerCase'](),_0x3d9b3f['WkuLq'])&&(_0x12ecfb=_0x43bf00);}}else _0x6a98[_0x5752eb(0x256)](_0xd5103d[0x1][_0x5752eb(0x2eb)](),_0x5752eb(0x21d))&&(_0x3bcd6c=_0xb3e923);}});if(!_0x2f5c72||!_0x3bcd6c)throw new error[(_0x2bc189(0x2d2))](_0x6a98[_0x2bc189(0x30f)]+_0x35fcb7);if(_0x386657&&_0x6a98[_0x2bc189(0x3ab)](_0x3bcd6c,_0x6a98['vSRzc'](parseInt,_0x6a98[_0x2bc189(0x1b6)](moment)['format']('X'),0xa))){if(_0x6a98[_0x2bc189(0x25b)]===_0x6a98[_0x2bc189(0x25b)])throw new error['ValidationError']('Certificate\x20has\x20expired');else throw new _0x1aa3d2[(_0x2bc189(0x2d2))](_0x6a98['eRVQD'](_0x2bc189(0x299)+_0x578b6b['message'],')'),_0x469e2f);}return _0x217871[_0x6a98[_0x2bc189(0x243)]]={'from':_0x2f5c72,'to':_0x3bcd6c},_0x217871;})[_0x5d3e50(0x39e)](_0x2d3a8a=>{const _0x2c8d06=_0x5d3e50;throw new error[(_0x2c8d06(0x2d2))](_0x6a98[_0x2c8d06(0x1e1)](_0x6a98['KQtxh']+_0x2d3a8a[_0x2c8d06(0x336)],')'),_0x2d3a8a);});},'cleanMeta':function(_0x3bc902,_0x35045d){const _0x12301a=_0x3ad0c3,_0x4076c9={'pymdr':_0x12301a(0x345)};return internalCertificate['allowedSslFiles'][_0x12301a(0x214)](_0x5dce7b=>{const _0x277b3d=_0x12301a;if(typeof _0x3bc902[_0x5dce7b]!==_0x4076c9[_0x277b3d(0x181)]&&_0x3bc902[_0x5dce7b]){if(_0x35045d)delete _0x3bc902[_0x5dce7b];else{if(_0x277b3d(0x32c)===_0x277b3d(0x32c))_0x3bc902[_0x5dce7b]=!![];else return _0x3aa311['enableInUseHosts'](_0x967b33);}}}),_0x3bc902;},'requestLetsEncryptSsl':_0x1dcecb=>{const _0x3d82b2=_0x3ad0c3,_0x5e5699={'dwVoI':function(_0x239676,_0x4a646d){return _0x239676+_0x4a646d;},'mjpbi':_0x3d82b2(0x1c6),'mLnXL':function(_0x4f64c7,_0x127716){return _0x4f64c7+_0x127716;},'MGruX':function(_0x275e38,_0x432df1){return _0x275e38+_0x432df1;},'BulCK':function(_0x16a52d,_0x229ee8){return _0x16a52d+_0x229ee8;},'BgAJA':_0x3d82b2(0x317),'tyqyu':_0x3d82b2(0x17c),'dSDnM':'--work-dir\x20\x22/tmp/letsencrypt-lib\x22\x20','NlBSH':_0x3d82b2(0x371),'vkNvd':_0x3d82b2(0x2c9),'SrjVm':'--authenticator\x20webroot\x20','PyLDN':_0x3d82b2(0x30e),'qXczY':'--preferred-challenges\x20\x22dns,http\x22\x20','fyuuy':_0x3d82b2(0x1b7),'gSWsl':_0x3d82b2(0x33e)};logger[_0x3d82b2(0x1bd)](_0x5e5699['dwVoI'](_0x5e5699[_0x3d82b2(0x2af)],_0x1dcecb['id'])+':\x20'+_0x1dcecb['domain_names'][_0x3d82b2(0x1f0)](',\x20'));const _0x33bd7d=_0x5e5699['dwVoI'](_0x5e5699[_0x3d82b2(0x261)](_0x5e5699[_0x3d82b2(0x261)](_0x5e5699[_0x3d82b2(0x261)](_0x5e5699['mLnXL'](_0x5e5699[_0x3d82b2(0x261)](_0x5e5699[_0x3d82b2(0x3a8)](_0x5e5699[_0x3d82b2(0x1d5)](_0x5e5699[_0x3d82b2(0x244)](certbotCommand,_0x5e5699[_0x3d82b2(0x18c)])+_0x5e5699[_0x3d82b2(0x23d)]+letsencryptConfig+'\x22\x20'+_0x5e5699[_0x3d82b2(0x266)],_0x5e5699[_0x3d82b2(0x23a)])+_0x3d82b2(0x2a0),_0x1dcecb['id']),'\x22\x20'),_0x5e5699[_0x3d82b2(0x3ac)])+_0x5e5699[_0x3d82b2(0x26f)]+_0x5e5699[_0x3d82b2(0x1cc)],_0x1dcecb[_0x3d82b2(0x305)][_0x3d82b2(0x24c)])+'\x22\x20'+_0x5e5699[_0x3d82b2(0x2f6)],_0x3d82b2(0x268)),_0x1dcecb[_0x3d82b2(0x312)][_0x3d82b2(0x1f0)](','))+'\x22\x20',letsencryptStaging?_0x5e5699[_0x3d82b2(0x370)]:'');return logger[_0x3d82b2(0x1bd)](_0x5e5699['gSWsl'],_0x33bd7d),utils[_0x3d82b2(0x2cb)](_0x33bd7d)[_0x3d82b2(0x201)](_0x2705e4=>{const _0x8767ae=_0x3d82b2;return logger[_0x8767ae(0x19b)](_0x2705e4),_0x2705e4;});},'requestLetsEncryptSslWithDnsChallenge':async _0x139175=>{const _0x101247=_0x3ad0c3,_0x326c74={'IspMg':function(_0x8270de,_0x2c1b58){return _0x8270de+_0x2c1b58;},'NgZCD':function(_0x57dce5,_0x1122a0){return _0x57dce5+_0x1122a0;},'dtgAr':function(_0x5b5df3,_0x484abc){return _0x5b5df3+_0x484abc;},'lZaDI':function(_0x40bce2,_0xaba267){return _0x40bce2+_0xaba267;},'FNQXG':function(_0x1fda8a,_0x20e506){return _0x1fda8a+_0x20e506;},'eMOSq':_0x101247(0x17c),'kfkhI':_0x101247(0x2a0),'qFuVk':'--agree-tos\x20','xrSwa':_0x101247(0x268),'emDNf':_0x101247(0x32b),'gDJRh':_0x101247(0x279),'bZQtP':function(_0x322619,_0x2444e3){return _0x322619!==_0x2444e3;},'XrJCo':'\x20--','aKBsq':function(_0x17dba5,_0x4aaacf){return _0x17dba5===_0x4aaacf;},'TLoEs':'AWS_CONFIG_FILE=\x27','hLNfF':function(_0x38d7a4,_0x1d1041){return _0x38d7a4+_0x1d1041;},'AbLsu':_0x101247(0x33e)};await certbot[_0x101247(0x2d9)](_0x139175[_0x101247(0x305)][_0x101247(0x2b8)]);const _0x3be539=dnsPlugins[_0x139175[_0x101247(0x305)][_0x101247(0x2b8)]];logger['info'](_0x101247(0x339)+_0x3be539[_0x101247(0x1da)]+_0x101247(0x20e)+_0x139175['id']+':\x20'+_0x139175[_0x101247(0x312)][_0x101247(0x1f0)](',\x20'));const _0x79891f=_0x326c74[_0x101247(0x293)](_0x101247(0x226),_0x139175['id']),_0x2a7f49=_0x139175[_0x101247(0x305)][_0x101247(0x1ce)][_0x101247(0x239)]('\x27','\x5c\x27')[_0x101247(0x239)]('\x5c','\x5c\x5c'),_0x21abff=_0x326c74[_0x101247(0x3bd)](_0x326c74['dtgAr'](_0x101247(0x233),_0x2a7f49)+_0x101247(0x3b5),_0x79891f)+'\x27\x20&&\x20chmod\x20600\x20\x27'+_0x79891f+'\x27',_0x1ba963=_0x139175[_0x101247(0x305)][_0x101247(0x2b8)]!==_0x101247(0x346);let _0x562d2b=_0x326c74[_0x101247(0x3bd)](_0x326c74[_0x101247(0x3bd)](_0x326c74['dtgAr'](_0x326c74['NgZCD'](_0x326c74[_0x101247(0x293)](_0x326c74[_0x101247(0x35f)](_0x326c74[_0x101247(0x355)](_0x326c74[_0x101247(0x3bd)](_0x326c74['dtgAr'](_0x326c74[_0x101247(0x35f)](_0x326c74[_0x101247(0x3c8)](certbotCommand+_0x101247(0x317),_0x326c74[_0x101247(0x2ca)]),letsencryptConfig)+'\x22\x20','--work-dir\x20\x22/tmp/letsencrypt-lib\x22\x20')+_0x101247(0x371)+_0x326c74[_0x101247(0x218)],_0x139175['id']),'\x22\x20')+_0x326c74['qFuVk'],_0x101247(0x30e)),_0x139175[_0x101247(0x305)][_0x101247(0x24c)])+'\x22\x20',_0x326c74[_0x101247(0x2d7)])+_0x139175[_0x101247(0x312)][_0x101247(0x1f0)](','),'\x22\x20')+_0x326c74[_0x101247(0x389)],_0x3be539[_0x101247(0x2b1)]),'\x20')+(_0x1ba963?_0x326c74[_0x101247(0x355)]('--'+_0x3be539[_0x101247(0x2b1)]+_0x326c74[_0x101247(0x342)],_0x79891f)+'\x22':'')+(_0x326c74[_0x101247(0x38d)](_0x139175[_0x101247(0x305)][_0x101247(0x32f)],undefined)?_0x326c74[_0x101247(0x355)](_0x326c74[_0x101247(0x245)]+_0x3be539[_0x101247(0x2b1)],_0x101247(0x17e))+_0x139175[_0x101247(0x305)]['propagation_seconds']:'')+(letsencryptStaging?_0x101247(0x2fd):'');_0x326c74[_0x101247(0x1dd)](_0x139175['meta'][_0x101247(0x2b8)],_0x101247(0x346))&&(_0x562d2b=_0x326c74[_0x101247(0x22a)]+_0x79891f+'\x27\x20'+_0x562d2b);_0x326c74[_0x101247(0x1dd)](_0x139175[_0x101247(0x305)][_0x101247(0x2b8)],_0x101247(0x3ba))&&(_0x562d2b=_0x326c74['hLNfF'](_0x562d2b,_0x101247(0x18d)));logger[_0x101247(0x1bd)](_0x326c74[_0x101247(0x193)],_0x21abff+_0x101247(0x29c)+_0x562d2b);try{await utils[_0x101247(0x2cb)](_0x21abff);const _0x3a98d8=await utils[_0x101247(0x2cb)](_0x562d2b);return logger['info'](_0x3a98d8),_0x3a98d8;}catch(_0x212c12){const _0x39350b=_0x101247(0x38b)+_0x79891f+_0x101247(0x2a8);await utils[_0x101247(0x2cb)](_0x39350b);throw _0x212c12;}},'renew':(_0x4e193e,_0x56aa24)=>{const _0x652c21=_0x3ad0c3,_0x2cc1c7={'ATQch':'certificate','yRBvz':function(_0x47bb8e,_0x44b214){return _0x47bb8e===_0x44b214;},'hGczo':_0x652c21(0x28c),'Kvkbx':'Only\x20Let\x27sEncrypt\x20certificates\x20can\x20be\x20renewed','udnbq':_0x652c21(0x2f3)};return _0x4e193e['can'](_0x2cc1c7['udnbq'],_0x56aa24)[_0x652c21(0x201)](()=>{const _0x2849ab=_0x652c21;return internalCertificate[_0x2849ab(0x23c)](_0x4e193e,_0x56aa24);})['then'](_0x58fe13=>{const _0x4712d0=_0x652c21,_0x181fc9={'dyNBC':function(_0x350d7d,_0x267268){const _0x479811=_0x1a7a;return _0x2cc1c7[_0x479811(0x202)](_0x350d7d,_0x267268);}};if(_0x58fe13[_0x4712d0(0x37d)]===_0x2cc1c7[_0x4712d0(0x38e)]){const _0x496d01=_0x58fe13['meta']['dns_challenge']?internalCertificate[_0x4712d0(0x38c)]:internalCertificate[_0x4712d0(0x3bc)];return _0x496d01(_0x58fe13)[_0x4712d0(0x201)](()=>{const _0x288b10=_0x4712d0;return internalCertificate[_0x288b10(0x1b8)](_0x288b10(0x259)+_0x58fe13['id']+_0x288b10(0x32d));})[_0x4712d0(0x201)](_0x2a8dad=>{const _0x4b7cfa=_0x4712d0;return certificateModel[_0x4b7cfa(0x18a)]()['patchAndFetchById'](_0x58fe13['id'],{'expires_on':moment(_0x2a8dad[_0x4b7cfa(0x2e9)]['to'],'X')[_0x4b7cfa(0x1b3)](_0x4b7cfa(0x334))});})[_0x4712d0(0x201)](_0x2088fa=>{const _0x2af504=_0x4712d0;return internalAuditLog[_0x2af504(0x388)](_0x4e193e,{'action':_0x2af504(0x31b),'object_type':_0x2cc1c7['ATQch'],'object_id':_0x2088fa['id'],'meta':_0x2088fa})[_0x2af504(0x201)](()=>{const _0x4c54a1=_0x2af504;if(_0x181fc9[_0x4c54a1(0x267)](_0x4c54a1(0x215),_0x4c54a1(0x215)))return _0x2088fa;else{_0x2013de(_0x1599a4);return;}});});}else throw new error[(_0x4712d0(0x2d2))](_0x2cc1c7[_0x4712d0(0x23e)]);});},'renewLetsEncryptSsl':_0x193e35=>{const _0xa06c70=_0x3ad0c3,_0x23cc1b={'FLrAh':'AmNpQ','svKmZ':function(_0x4c795f,_0x53c1bf){return _0x4c795f+_0x53c1bf;},'FsXbZ':_0xa06c70(0x210),'OjauV':function(_0x3f55eb,_0x1eb49d){return _0x3f55eb+_0x1eb49d;},'Cqzsu':function(_0xfa283a,_0x5061c6){return _0xfa283a+_0x5061c6;},'nVewa':_0xa06c70(0x3b2),'mgbgT':_0xa06c70(0x371),'LwQrJ':_0xa06c70(0x2a0),'Yvjma':_0xa06c70(0x2c3),'CeBQF':'Command:'};logger[_0xa06c70(0x1bd)](_0x23cc1b['svKmZ'](_0x23cc1b['svKmZ'](_0x23cc1b[_0xa06c70(0x17f)],_0x193e35['id']),':\x20')+_0x193e35[_0xa06c70(0x312)]['join'](',\x20'));const _0xfc910b=_0x23cc1b[_0xa06c70(0x188)](_0x23cc1b['svKmZ'](_0x23cc1b[_0xa06c70(0x188)](_0x23cc1b[_0xa06c70(0x188)](_0x23cc1b[_0xa06c70(0x188)](_0x23cc1b['Cqzsu'](_0x23cc1b[_0xa06c70(0x188)](certbotCommand,_0xa06c70(0x253)),_0xa06c70(0x17c))+letsencryptConfig+'\x22\x20'+_0x23cc1b['nVewa'],_0x23cc1b[_0xa06c70(0x3a4)]),_0x23cc1b[_0xa06c70(0x2f2)])+_0x193e35['id']+'\x22\x20',_0xa06c70(0x22e)),_0xa06c70(0x3bb))+_0x23cc1b['Yvjma'],letsencryptStaging?_0xa06c70(0x1b7):'');return logger[_0xa06c70(0x1bd)](_0x23cc1b[_0xa06c70(0x1d6)],_0xfc910b),utils[_0xa06c70(0x2cb)](_0xfc910b)[_0xa06c70(0x201)](_0x515a0d=>{const _0x163c18=_0xa06c70;if(_0x163c18(0x248)===_0x23cc1b['FLrAh'])_0x290590[_0x163c18(0x2fb)](_0x4baf52[_0x163c18(0x336)]);else return logger[_0x163c18(0x1bd)](_0x515a0d),_0x515a0d;});},'renewLetsEncryptSslWithDnsChallenge':_0x2e47b2=>{const _0x346d0b=_0x3ad0c3,_0x2dfd91={'btEOd':function(_0x6b726c,_0x4458fb){return _0x6b726c+_0x4458fb;},'QPZnM':function(_0x135593,_0xbe7d4a){return _0x135593+_0xbe7d4a;},'YUSLD':function(_0x594283,_0x3c913c){return _0x594283+_0x3c913c;},'bSZKc':function(_0xdae46d,_0x3e7b37){return _0xdae46d+_0x3e7b37;},'JkCZh':'\x20renew\x20--force-renewal\x20','puWyM':_0x346d0b(0x3b2),'pkYwk':_0x346d0b(0x371),'lSvxa':_0x346d0b(0x2c3),'TGLjs':'fLuKZ','kvsyz':function(_0x5d28f7,_0x3f89eb){return _0x5d28f7+_0x3f89eb;},'BCNUk':_0x346d0b(0x226),'wdfwY':function(_0x3ddea7,_0x59c52e){return _0x3ddea7+_0x59c52e;},'GFgYp':_0x346d0b(0x386)},_0x3fba75=dnsPlugins[_0x2e47b2[_0x346d0b(0x305)][_0x346d0b(0x2b8)]];if(!_0x3fba75)throw Error('Unknown\x20DNS\x20provider\x20\x27'+_0x2e47b2['meta'][_0x346d0b(0x2b8)]+'\x27');logger[_0x346d0b(0x1bd)](_0x346d0b(0x27c)+_0x3fba75['name']+_0x346d0b(0x20e)+_0x2e47b2['id']+':\x20'+_0x2e47b2[_0x346d0b(0x312)][_0x346d0b(0x1f0)](',\x20'));let _0x5ede25=_0x2dfd91[_0x346d0b(0x340)](_0x2dfd91[_0x346d0b(0x1af)](_0x2dfd91[_0x346d0b(0x398)](_0x2dfd91[_0x346d0b(0x340)](_0x2dfd91[_0x346d0b(0x340)](_0x2dfd91[_0x346d0b(0x1af)](_0x2dfd91[_0x346d0b(0x340)](_0x2dfd91[_0x346d0b(0x306)](certbotCommand,_0x2dfd91[_0x346d0b(0x2ab)]),_0x346d0b(0x17c)),letsencryptConfig),'\x22\x20')+_0x2dfd91['puWyM'],_0x2dfd91[_0x346d0b(0x282)])+_0x346d0b(0x2a0)+_0x2e47b2['id'],'\x22\x20')+_0x2dfd91['lSvxa'],'--no-random-sleep-on-renew\x20'),letsencryptStaging?'\x20--staging':'');if(_0x2e47b2[_0x346d0b(0x305)]['dns_provider']===_0x346d0b(0x346)){if(_0x2dfd91[_0x346d0b(0x37e)]==='fLuKZ'){const _0x5a5183=_0x2dfd91[_0x346d0b(0x318)](_0x2dfd91[_0x346d0b(0x196)],_0x2e47b2['id']);_0x5ede25=_0x2dfd91[_0x346d0b(0x1af)](_0x2dfd91[_0x346d0b(0x207)](_0x2dfd91[_0x346d0b(0x3af)],_0x5a5183)+'\x27\x20',_0x5ede25);}else return _0x3bfc76[_0x346d0b(0x2f4)](_0xf5b8db);}return logger[_0x346d0b(0x1bd)](_0x346d0b(0x33e),_0x5ede25),utils[_0x346d0b(0x2cb)](_0x5ede25)[_0x346d0b(0x201)](async _0x1c04a2=>{return logger['info'](_0x1c04a2),_0x1c04a2;});},'revokeLetsEncryptSsl':(_0x540fb1,_0x42cc23)=>{const _0x11a59d=_0x3ad0c3,_0x20abec={'zONLz':function(_0x2020ea,_0x34bd04){return _0x2020ea===_0x34bd04;},'suuIc':'FOGUw','pGYlY':_0x11a59d(0x1a2),'KfBlY':_0x11a59d(0x3a0),'uTDOm':function(_0x2e9a22,_0x41df9c){return _0x2e9a22+_0x41df9c;},'bmyom':function(_0x5552d4,_0x2c92d8){return _0x5552d4+_0x2c92d8;},'SkzhA':function(_0x24a2bc,_0x33f679){return _0x24a2bc+_0x33f679;},'qhuSG':function(_0x2b0b5c,_0xdab019){return _0x2b0b5c+_0xdab019;},'jtYrX':function(_0x512adf,_0x1a7cf0){return _0x512adf+_0x1a7cf0;},'OrLVy':function(_0x19263b,_0x1b41ca){return _0x19263b+_0x1b41ca;},'OkFyo':_0x11a59d(0x195),'kspRv':'--work-dir\x20\x22/tmp/letsencrypt-lib\x22\x20','xDnqc':_0x11a59d(0x1db),'aTJVw':_0x11a59d(0x1b7)};logger[_0x11a59d(0x1bd)](_0x20abec[_0x11a59d(0x2a5)]+_0x540fb1['id']+':\x20'+_0x540fb1['domain_names'][_0x11a59d(0x1f0)](',\x20'));const _0x2844c0=_0x20abec[_0x11a59d(0x1ee)](_0x20abec[_0x11a59d(0x246)](_0x20abec[_0x11a59d(0x1ee)](_0x20abec['SkzhA'](_0x20abec[_0x11a59d(0x2f5)](_0x20abec['jtYrX'](_0x20abec[_0x11a59d(0x3b7)](certbotCommand,_0x20abec[_0x11a59d(0x31c)]),_0x11a59d(0x17c)),letsencryptConfig)+'\x22\x20'+_0x20abec[_0x11a59d(0x310)]+'--logs-dir\x20\x22/tmp/letsencrypt-log\x22\x20',_0x20abec[_0x11a59d(0x1ae)]),_0x540fb1['id']),_0x11a59d(0x315))+_0x11a59d(0x30c),letsencryptStaging?_0x20abec[_0x11a59d(0x1b5)]:''),_0x330cf7=_0x11a59d(0x230)+_0x540fb1['id']+_0x11a59d(0x2a8);return logger[_0x11a59d(0x1bd)]('Command:',_0x20abec['OrLVy'](_0x2844c0,';\x20')+_0x330cf7),utils[_0x11a59d(0x2cb)](_0x2844c0)[_0x11a59d(0x201)](async _0x417d00=>{const _0x2bd95e=_0x11a59d;return _0x20abec['zONLz']('uHvci',_0x20abec[_0x2bd95e(0x2be)])?_0x53bc03[_0x2bd95e(0x187)](_0x1916fb)['then'](_0x5ecd8a[_0x2bd95e(0x2bc)])['then'](()=>{throw _0x44d77e;}):(await utils['exec'](_0x330cf7),logger[_0x2bd95e(0x1bd)](_0x417d00),_0x417d00);})[_0x11a59d(0x39e)](_0x23e23a=>{const _0xb2ceb3=_0x11a59d,_0x3b01a3={'xXLBf':function(_0x4dce28,_0x29f9f7){return _0x4dce28+_0x29f9f7;}};logger[_0xb2ceb3(0x2fb)](_0x23e23a[_0xb2ceb3(0x336)]);if(_0x42cc23){if(_0xb2ceb3(0x393)!==_0x20abec[_0xb2ceb3(0x251)])throw _0x23e23a;else _0x11833e=_0x3b01a3[_0xb2ceb3(0x3b3)](_0x1070d7,'\x20--dns-duckdns-no-txt-restore');}});},'hasLetsEncryptSslCerts':_0xca6230=>{const _0x596b1a=_0x3ad0c3,_0x2f9a96={'GUrKW':function(_0x42924b,_0xd88427){return _0x42924b+_0xd88427;},'BguPT':_0x596b1a(0x32d),'xpmlX':_0x596b1a(0x23b)},_0x37ea61=_0x2f9a96[_0x596b1a(0x333)](_0x596b1a(0x259),_0xca6230['id']);return fs[_0x596b1a(0x32e)](_0x2f9a96[_0x596b1a(0x333)](_0x37ea61,_0x2f9a96[_0x596b1a(0x22c)]))&&fs[_0x596b1a(0x32e)](_0x2f9a96[_0x596b1a(0x333)](_0x37ea61,_0x2f9a96[_0x596b1a(0x362)]));},'disableInUseHosts':_0x2bc9b6=>{const _0x472d6a=_0x3ad0c3,_0x58a0fa={'eKxbn':function(_0x47b917){return _0x47b917();},'zKycj':function(_0x4b4b02,_0x344aea){return _0x4b4b02+_0x344aea;},'jvhct':function(_0x1855c7,_0x56cb57){return _0x1855c7===_0x56cb57;},'rhqKr':_0x472d6a(0x269),'SQboh':_0x472d6a(0x348),'lKYMy':_0x472d6a(0x31f)};if(_0x2bc9b6['total_count']){if(_0x58a0fa['jvhct']('rnseh',_0x58a0fa[_0x472d6a(0x234)])){let _0x25b1e7=[];return _0x2bc9b6['proxy_hosts'][_0x472d6a(0x33c)]&&_0x25b1e7['push'](internalNginx['bulkDeleteConfigs'](_0x472d6a(0x301),_0x2bc9b6['proxy_hosts'])),_0x2bc9b6['redirection_hosts'][_0x472d6a(0x33c)]&&_0x25b1e7[_0x472d6a(0x382)](internalNginx[_0x472d6a(0x1bb)](_0x58a0fa[_0x472d6a(0x24f)],_0x2bc9b6['redirection_hosts'])),_0x2bc9b6[_0x472d6a(0x384)][_0x472d6a(0x33c)]&&_0x25b1e7['push'](internalNginx[_0x472d6a(0x1bb)](_0x58a0fa[_0x472d6a(0x1a1)],_0x2bc9b6[_0x472d6a(0x384)])),Promise['all'](_0x25b1e7);}else _0x4a10b4['writeFile'](_0x58a0fa[_0x472d6a(0x255)](_0x4230bf,_0x472d6a(0x23b)),_0x4a11c8[_0x472d6a(0x305)][_0x472d6a(0x397)],function(_0x10c461){const _0x1b2baa=_0x472d6a;_0x10c461?_0x2d6e84(_0x10c461):_0x58a0fa[_0x1b2baa(0x337)](_0x41df2f);});}else return Promise['resolve']();},'enableInUseHosts':_0x34c742=>{const _0x46fde5=_0x3ad0c3,_0x1192d8={'cLqMS':function(_0x285dc1,_0x1518a6){return _0x285dc1===_0x1518a6;},'VKgoc':'FJWVG','jFUfA':_0x46fde5(0x301),'RweKb':_0x46fde5(0x338)};if(_0x34c742['total_count']){let _0x1577c6=[];if(_0x34c742[_0x46fde5(0x321)][_0x46fde5(0x33c)]){if(_0x1192d8[_0x46fde5(0x200)](_0x1192d8[_0x46fde5(0x356)],_0x46fde5(0x331)))return _0x46fde5(0x396);else _0x1577c6[_0x46fde5(0x382)](internalNginx[_0x46fde5(0x34c)](_0x1192d8['jFUfA'],_0x34c742[_0x46fde5(0x321)]));}_0x34c742[_0x46fde5(0x252)]['length']&&_0x1577c6['push'](internalNginx[_0x46fde5(0x34c)](_0x46fde5(0x348),_0x34c742[_0x46fde5(0x252)]));if(_0x34c742[_0x46fde5(0x384)][_0x46fde5(0x33c)]){if(_0x1192d8[_0x46fde5(0x35e)]===_0x1192d8[_0x46fde5(0x35e)])_0x1577c6['push'](internalNginx[_0x46fde5(0x34c)](_0x46fde5(0x31f),_0x34c742[_0x46fde5(0x384)]));else return _0x5b8d74['enableInUseHosts'](_0x20c94b);}return Promise['all'](_0x1577c6);}else return Promise[_0x46fde5(0x288)]();},'testHttpsChallenge':async(_0x314d4c,_0x3a6a13)=>{const _0x4132dc=_0x3ad0c3,_0x1fc818={'UWBea':function(_0x50dca7,_0x5cde5c){return _0x50dca7+_0x5cde5c;},'upCAU':_0x4132dc(0x2ef),'TLwxQ':_0x4132dc(0x313),'zyTpv':'/tmp/','qiriX':function(_0x34ef0d,_0xd5955a){return _0x34ef0d!==_0xd5955a;},'AKFki':function(_0x2e6519,_0xd17fbf){return _0x2e6519!==_0xd17fbf;},'enuTj':function(_0x1cf8a1,_0x59c20a){return _0x1cf8a1===_0x59c20a;},'WmYvL':_0x4132dc(0x383),'kUmJe':_0x4132dc(0x199),'vUNFg':_0x4132dc(0x290),'jOqLJ':_0x4132dc(0x2bb),'amGvd':function(_0x450a03,_0x2b9286){return _0x450a03===_0x2b9286;},'QzWrE':_0x4132dc(0x223),'uByfJ':_0x4132dc(0x363),'VYdIl':_0x4132dc(0x390),'kcKQD':_0x4132dc(0x20d),'sVNTL':_0x4132dc(0x1ba),'ZLDWa':_0x4132dc(0x213),'WbPPQ':_0x4132dc(0x38a),'KBoab':function(_0x591a92,_0x2558fd){return _0x591a92===_0x2558fd;},'LeYYt':'utf8','cNdge':_0x4132dc(0x22b),'TfoeZ':'DkOBA','ZYris':function(_0x48e8f2,_0x2c556f){return _0x48e8f2(_0x2c556f);}};await _0x314d4c[_0x4132dc(0x26c)](_0x1fc818[_0x4132dc(0x2fe)]);if(!isArray(_0x3a6a13)){if('pnDKE'!==_0x1fc818['WbPPQ'])throw new error[(_0x4132dc(0x364))](_0x4132dc(0x308));else _0x52c9f8=_0x4d26e0[_0x4132dc(0x2a1)]({},_0xf38014,_0x1e2a3e);}if(_0x1fc818['KBoab'](_0x3a6a13['length'],0x0))throw new error[(_0x4132dc(0x364))](_0x4132dc(0x249));const _0x59f406=_0x4132dc(0x270),_0x379d5d=_0x1fc818[_0x4132dc(0x303)](_0x59f406,'/test-challenge');fs['mkdirSync'](_0x59f406,{'recursive':!![]}),fs[_0x4132dc(0x1e0)](_0x379d5d,_0x1fc818[_0x4132dc(0x1d9)],{'encoding':_0x1fc818['LeYYt']});async function _0x37bf9b(_0x4055d1){const _0xbc5f8=_0x4132dc,_0x4c0bd3={'IUGwB':function(_0x1691f8,_0x305deb){const _0x3ddbae=_0x1a7a;return _0x1fc818[_0x3ddbae(0x303)](_0x1691f8,_0x305deb);},'bEPrU':_0x1fc818[_0xbc5f8(0x2dc)],'JWeQM':_0x1fc818[_0xbc5f8(0x30a)],'TlXan':_0x1fc818[_0xbc5f8(0x220)],'nfHmD':function(_0x1071e1,_0x123317){return _0x1071e1+_0x123317;},'PefyM':function(_0xcfed6e,_0x10b0a4){return _0x1fc818['qiriX'](_0xcfed6e,_0x10b0a4);},'lLaZe':_0xbc5f8(0x2b0),'jmyLn':_0xbc5f8(0x3ae),'oBvDu':function(_0x2a43a3,_0x4cfc3e){return _0x1fc818['AKFki'](_0x2a43a3,_0x4cfc3e);}};if(_0x1fc818[_0xbc5f8(0x36b)](_0x1fc818[_0xbc5f8(0x395)],_0x1fc818['WmYvL'])){logger[_0xbc5f8(0x1bd)]('Testing\x20http\x20challenge\x20for\x20'+_0x4055d1);const _0x12a538=_0xbc5f8(0x2c2)+_0x4055d1+_0xbc5f8(0x1b9),_0x5a10c7='method=G&url='+encodeURI(_0x12a538)+_0xbc5f8(0x2ff),_0xa537c6={'method':_0xbc5f8(0x262),'headers':{'User-Agent':_0xbc5f8(0x36d),'Content-Type':_0xbc5f8(0x3bf),'Content-Length':Buffer[_0xbc5f8(0x33d)](_0x5a10c7)}},_0x577cb1=await new Promise(_0x23ed1e=>{const _0x445fa8=_0xbc5f8,_0x406d3e={'xyblI':function(_0x3943b8,_0x56e112){return _0x3943b8+_0x56e112;},'BNxXr':function(_0x3d5280,_0x5922d3){return _0x3d5280!==_0x5922d3;},'TJdKx':function(_0xdabf2e,_0x5874dd){return _0xdabf2e(_0x5874dd);},'cgBLT':function(_0x5634c3,_0x35d7cc){return _0x4c0bd3['nfHmD'](_0x5634c3,_0x35d7cc);},'UJamd':function(_0x166870,_0x39de5a){return _0x166870===_0x39de5a;},'QtwYn':_0x445fa8(0x1cd),'tXRYu':function(_0x58c130,_0xd07ca3){return _0x58c130(_0xd07ca3);},'fuAAE':function(_0x391d90,_0x421b59){return _0x391d90(_0x421b59);},'OdINH':function(_0x2cb981,_0x360e46){const _0x2af1f0=_0x445fa8;return _0x4c0bd3[_0x2af1f0(0x232)](_0x2cb981,_0x360e46);},'POnEQ':_0x4c0bd3['lLaZe'],'sOtPr':'data'};if(_0x4c0bd3[_0x445fa8(0x1d2)]!==_0x4c0bd3['jmyLn']){const _0x2b09a0=_0x4c0bd3[_0x445fa8(0x289)](_0x445fa8(0x259),_0x349d83['id']);if(!_0x11c638[_0x445fa8(0x32e)](_0x2b09a0))throw new _0x215464['ItemNotFoundError'](_0x4c0bd3[_0x445fa8(0x289)](_0x445fa8(0x3a1),_0x13017b[_0x445fa8(0x33a)])+_0x4c0bd3['bEPrU']);let _0x55b920=_0x2356be['readdirSync'](_0x2b09a0)[_0x445fa8(0x286)](_0x3a8233=>_0x3a8233[_0x445fa8(0x39f)](_0x445fa8(0x20c)))[_0x445fa8(0x214)](_0x45dada=>_0x5d1c5c[_0x445fa8(0x3c4)](_0x3e9e7d['join'](_0x2b09a0,_0x45dada)));const _0x184c9f=_0x4c0bd3[_0x445fa8(0x289)](_0x4c0bd3[_0x445fa8(0x1ca)],_0x17083c['id'])+'-'+(_0x468bc0['now']()+_0x445fa8(0x1e6)),_0x3c5040=_0x4c0bd3[_0x445fa8(0x289)](_0x4c0bd3['TlXan'],_0x184c9f);_0x44b1fa['zipFiles'](_0x55b920,_0x3c5040)['then'](()=>{const _0x40b81a=_0x445fa8;_0x3161e6[_0x40b81a(0x1c0)](_0x40b81a(0x297),_0x3c5040);const _0xd26967={'fileName':_0x3c5040};_0x1bffc0(_0xd26967);})['catch'](_0x23d4e2=>_0x2083ef(_0x23d4e2));}else{const _0x494390=https[_0x445fa8(0x33f)](_0x445fa8(0x209),_0xa537c6,function(_0x2a4f27){const _0x2242ef=_0x445fa8;let _0x2368d1='';_0x2a4f27['on'](_0x406d3e[_0x2242ef(0x26a)],_0x296ed=>_0x2368d1=_0x2368d1+_0x296ed),_0x2a4f27['on']('end',function(){const _0x4daa0f=_0x2242ef,_0x30c5ad={'jwbah':function(_0xe7f8e5,_0x10b40a){const _0x5bde34=_0x1a7a;return _0x406d3e[_0x5bde34(0x298)](_0xe7f8e5,_0x10b40a);},'NkCxy':function(_0x2d0a20,_0x2dac47){const _0x198471=_0x1a7a;return _0x406d3e[_0x198471(0x1eb)](_0x2d0a20,_0x2dac47);},'kDePM':function(_0x40cb7c,_0x2e227a){const _0x451de2=_0x1a7a;return _0x406d3e[_0x451de2(0x263)](_0x40cb7c,_0x2e227a);}};try{const _0x2d6a4d=JSON['parse'](_0x406d3e[_0x4daa0f(0x311)](_0x2368d1,''));if(_0x406d3e['BNxXr'](_0x2a4f27[_0x4daa0f(0x300)],0xc8)){if(_0x406d3e['UJamd'](_0x406d3e[_0x4daa0f(0x3a5)],_0x4daa0f(0x1cd)))logger[_0x4daa0f(0x287)](_0x4daa0f(0x2b3)+_0x4055d1+_0x4daa0f(0x192)+_0x2a4f27[_0x4daa0f(0x300)]+_0x4daa0f(0x18b)+_0x2d6a4d[_0x4daa0f(0x336)]),_0x406d3e[_0x4daa0f(0x316)](_0x23ed1e,undefined);else{const _0x57a5e9=_0x23e311[_0x4daa0f(0x20f)](_0x30c5ad['jwbah'](_0x53b95b,''));_0x30c5ad[_0x4daa0f(0x2b5)](_0x1590f2[_0x4daa0f(0x300)],0xc8)?(_0x2a6980[_0x4daa0f(0x287)](_0x4daa0f(0x2b3)+_0x4ad6ae+_0x4daa0f(0x192)+_0x280a5d[_0x4daa0f(0x300)]+_0x4daa0f(0x18b)+_0x57a5e9[_0x4daa0f(0x336)]),_0x30c5ad[_0x4daa0f(0x3a9)](_0xf295f7,_0x91bd85)):_0x30c5ad[_0x4daa0f(0x3a9)](_0x98cd0c,_0x57a5e9);}}else _0x406d3e[_0x4daa0f(0x250)](_0x23ed1e,_0x2d6a4d);}catch(_0x2561ca){if(_0x406d3e['OdINH'](_0x2a4f27['statusCode'],0xc8))logger['warn'](_0x4daa0f(0x2b3)+_0x4055d1+_0x4daa0f(0x192)+_0x2a4f27[_0x4daa0f(0x300)]+_0x4daa0f(0x1d3));else{if(_0x406d3e[_0x4daa0f(0x2cc)]!==_0x4daa0f(0x260))logger['warn'](_0x4daa0f(0x2b3)+_0x4055d1+'\x20because\x20response\x20failed\x20to\x20be\x20parsed:\x20'+_0x2561ca[_0x4daa0f(0x336)]);else return _0x3606e8[_0x4daa0f(0x23c)](_0x492d6c,{'id':_0x442a8d['id']});}_0x23ed1e(undefined);}});});_0x494390[_0x445fa8(0x353)](_0x5a10c7),_0x494390[_0x445fa8(0x2a6)](),_0x494390['on'](_0x445fa8(0x2fb),function(_0x1a0074){const _0x63f9fe=_0x445fa8;logger['warn']('Failed\x20to\x20test\x20HTTP\x20challenge\x20for\x20domain\x20'+_0x4055d1,_0x1a0074),_0x406d3e[_0x63f9fe(0x263)](_0x23ed1e,undefined);});}});if(!_0x577cb1){if(_0x1fc818[_0xbc5f8(0x1e8)]!==_0x1fc818['vUNFg'])return _0xbc5f8(0x396);else{let _0x2915a2={};_0x257c7e[_0xbc5f8(0x214)](_0xdfc1b5[_0xbc5f8(0x1b1)],(_0x408716,_0x4ef1d0)=>{const _0x503284=_0xbc5f8;_0x4c0bd3[_0x503284(0x2e4)](_0x179c99[_0x503284(0x344)][_0x503284(0x27e)](_0x4ef1d0),-0x1)&&(_0x2915a2[_0x4ef1d0]=_0x408716[_0x503284(0x2ec)][_0x503284(0x1a8)]());}),_0x5f45f2(_0x2915a2);}}else{if(_0x577cb1['error'])return logger[_0xbc5f8(0x1bd)](_0xbc5f8(0x208)+_0x4055d1+'\x20because\x20error\x20was\x20returned:\x20'+_0x577cb1[_0xbc5f8(0x2fb)][_0xbc5f8(0x2ed)]),'other:'+_0x577cb1['error']['msg'];else{if(''+_0x577cb1[_0xbc5f8(0x368)]===_0x1fc818[_0xbc5f8(0x25c)]&&_0x1fc818[_0xbc5f8(0x373)](_0x577cb1[_0xbc5f8(0x1a0)],_0x1fc818[_0xbc5f8(0x1d9)])){if(_0xbc5f8(0x1cf)===_0x1fc818[_0xbc5f8(0x3c1)])_0x548bc0['warn'](_0xbc5f8(0x2b3)+_0x354f1e+_0xbc5f8(0x192)+_0x52532d[_0xbc5f8(0x300)]+_0xbc5f8(0x18b)+_0xc4c388[_0xbc5f8(0x336)]),_0x26d957(_0x6a9666);else return'ok';}else{if(''+_0x577cb1[_0xbc5f8(0x368)]===_0xbc5f8(0x2bb))return logger[_0xbc5f8(0x1bd)](_0xbc5f8(0x208)+_0x4055d1+_0xbc5f8(0x28f),_0x577cb1[_0xbc5f8(0x1a0)]),_0x1fc818[_0xbc5f8(0x1f9)];else{if(''+_0x577cb1[_0xbc5f8(0x368)]===_0x1fc818[_0xbc5f8(0x2b2)])return logger[_0xbc5f8(0x1bd)](_0xbc5f8(0x208)+_0x4055d1+_0xbc5f8(0x211)),'404';else return''+_0x577cb1[_0xbc5f8(0x368)]==='0'||typeof _0x577cb1[_0xbc5f8(0x27f)]===_0x1fc818['sVNTL']&&_0x1fc818[_0xbc5f8(0x36b)](_0x577cb1['reason']['toLowerCase'](),'host\x20unavailable')?(logger['info']('HTTP\x20challenge\x20test\x20failed\x20for\x20domain\x20'+_0x4055d1+_0xbc5f8(0x1e3)),'no-host'):(logger['info']('HTTP\x20challenge\x20test\x20failed\x20for\x20domain\x20'+_0x4055d1+'\x20because\x20code\x20'+_0x577cb1['responsecode']+'\x20was\x20returned'),_0xbc5f8(0x221)+_0x577cb1['responsecode']);}}}}}else{_0xaad80c[_0xbc5f8(0x1c0)]('zip\x20completed\x20:\x20',_0x5a5494);const _0x397b78={'fileName':_0x727bbf};_0x1ea99f(_0x397b78);}}const _0x391269={};for(const _0x359249 of _0x3a6a13){_0x1fc818[_0x4132dc(0x36e)](_0x1fc818[_0x4132dc(0x22d)],_0x1fc818[_0x4132dc(0x1d4)])?_0x391269[_0x359249]=await _0x1fc818['ZYris'](_0x37bf9b,_0x359249):_0xbbbfbb['warn'](_0x4132dc(0x2b3)+_0x5db661+_0x4132dc(0x2c7)+_0x87db7[_0x4132dc(0x336)]);}return fs['unlinkSync'](_0x379d5d),_0x391269;}};module[_0x3ad0c3(0x1c1)]=internalCertificate;