const _0x593cce=_0x2e20;function _0x2e20(_0x3eecd1,_0x4b1533){const _0x89dc36=_0x89dc();return _0x2e20=function(_0x2e2079,_0x5b6c1d){_0x2e2079=_0x2e2079-0x11a;let _0x5149e9=_0x89dc36[_0x2e2079];return _0x5149e9;},_0x2e20(_0x3eecd1,_0x4b1533);}(function(_0x44616c,_0x4a783d){const _0x24f5a2=_0x2e20,_0x42efd1=_0x44616c();while(!![]){try{const _0x199838=-parseInt(_0x24f5a2(0x144))/0x1*(-parseInt(_0x24f5a2(0x17a))/0x2)+parseInt(_0x24f5a2(0x14a))/0x3+parseInt(_0x24f5a2(0x163))/0x4*(-parseInt(_0x24f5a2(0x141))/0x5)+-parseInt(_0x24f5a2(0x16c))/0x6*(parseInt(_0x24f5a2(0x154))/0x7)+-parseInt(_0x24f5a2(0x151))/0x8+-parseInt(_0x24f5a2(0x134))/0x9+-parseInt(_0x24f5a2(0x157))/0xa*(-parseInt(_0x24f5a2(0x167))/0xb);if(_0x199838===_0x4a783d)break;else _0x42efd1['push'](_0x42efd1['shift']());}catch(_0x1e364a){_0x42efd1['push'](_0x42efd1['shift']());}}}(_0x89dc,0xe64e5));function _0x89dc(){const _0x746b70=['cacache','stream','HOME','rawSpec','args','Content\x20verified:\x20','ignoreImplicitWorkspace','Content\x20garbage-collected:\x20','As\x20of\x20npm@5,\x20the\x20npm\x20cache\x20self-heals\x20from\x20corruption\x20issues\x0a\x20\x20by\x20treating\x20integrity\x20mismatches\x20as\x20cache\x20misses.\x20\x20As\x20a\x20result,\x0a\x20\x20data\x20extracted\x20from\x20the\x20cache\x20is\x20guaranteed\x20to\x20be\x20valid.\x20\x20If\x20you\x0a\x20\x20want\x20to\x20make\x20sure\x20everything\x20is\x20consistent,\x20use\x20`npm\x20cache\x20verify`\x0a\x20\x20instead.\x20\x20Deleting\x20the\x20cache\x20can\x20only\x20make\x20npm\x20go\x20slower,\x20and\x20is\x0a\x20\x20not\x20likely\x20to\x20correct\x20any\x20problems\x20you\x20may\x20be\x20encountering!\x0a\x0a\x20\x20On\x20the\x20other\x20hand,\x20if\x20you\x27re\x20debugging\x20an\x20issue\x20with\x20the\x20installer,\x0a\x20\x20or\x20race\x20conditions\x20that\x20depend\x20on\x20the\x20timing\x20of\x20writing\x20to\x20an\x20empty\x0a\x20\x20cache,\x20you\x20can\x20use\x20`npm\x20install\x20--cache\x20/tmp/empty-cache`\x20to\x20use\x20a\x0a\x20\x20temporary\x20cache\x20instead\x20of\x20nuking\x20the\x20actual\x20one.\x0a\x0a\x20\x20If\x20you\x27re\x20sure\x20you\x20want\x20to\x20delete\x20the\x20entire\x20cache,\x20rerun\x20this\x20command\x0a\x20\x20with\x20--force.','missingContent','integrity','Deleted:\x20','env','spec','remain','length','badContentCount','5739318BjXXPC','add\x20<folder>','object','versions','add\x20<tarball\x20url>','@isaacs/string-locale-compare','keptSize','description','Corrupted\x20content\x20removed:\x20','eLgwJ','delete','shift','split','1913105CWyEEx','content','util','2393gxEPgX','completion','params','verifiedContent','path','make-fetch-happen:request-cache:','1233294crxFFp','jiKbr','dist','Finished\x20in\x20','warn','config','Manipulates\x20packages\x20cache','892488xuvDje','tag','join','43995yFPwYU','LAMtu','argv','3310RojTVY','cache\x20add','conf','total','test','silly','escapedName','map','../utils/log-shim','\x20bytes)','sCUbe','Cache\x20verified\x20and\x20compressed\x20(','12FpeOWJ','output','VJOeA','usageError','71819eWRooN','data','exports','Missing\x20content:\x20','DTyPp','1158rfhfNN','cache','totalEntries','check','btwzU','npm','_cacache','keys','noVgb','Not\x20Found:\x20','satisfies','tarball','add\x20<tarball\x20file>','add','1238vCniVZ','bAstP','clean\x20[<key>]','pop','resume','add\x20<name>@<version>','ACzfJ','reclaimedCount','npm-package-arg','zHtbG','usage','^make-fetch-happen:request-cache:.*(?<!/[@a-zA-Z]+)/','name','^make-fetch-happen:request-cache:.*/','sjDHI','slice','get','verify','indexOf','QYkTK','clean','sort','forEach','/-/(','type','flatOptions','First\x20argument\x20to\x20`add`\x20is\x20required','UIGRM'];_0x89dc=function(){return _0x746b70;};return _0x89dc();}const cacache=require(_0x593cce(0x123)),{promisify}=require(_0x593cce(0x143)),pacote=require('pacote'),path=require(_0x593cce(0x148)),rimraf=promisify(require('rimraf')),semver=require('semver'),BaseCommand=require('../base-command.js'),npa=require(_0x593cce(0x182)),jsonParse=require('json-parse-even-better-errors'),localeCompare=require(_0x593cce(0x139))('en'),log=require(_0x593cce(0x15f)),searchCachePackage=async(_0x25b25d,_0x3ab7c7,_0x5e9f46)=>{const _0xc38389=_0x593cce,_0x990659={'noVgb':function(_0x2a5cc2,_0x5728a2){return _0x2a5cc2!==_0x5728a2;},'zHtbG':function(_0x587a17,_0x1bc703){return _0x587a17===_0x1bc703;},'eLgwJ':_0xc38389(0x152),'ACzfJ':_0xc38389(0x136)},_0x28f7fa=npa(_0x3ab7c7);if(_0x990659['noVgb'](_0x28f7fa['rawSpec'],'')&&_0x990659[_0xc38389(0x183)](_0x28f7fa[_0xc38389(0x11f)],_0x990659[_0xc38389(0x13d)]))throw new Error('Cannot\x20list\x20cache\x20keys\x20for\x20a\x20tagged\x20package.');const _0x182d9d=new RegExp(_0xc38389(0x185)+_0x28f7fa[_0xc38389(0x186)]+_0xc38389(0x11e)+_0x28f7fa[_0xc38389(0x186)]+'[^/]+.tgz)$'),_0x3db391=new RegExp(_0xc38389(0x187)+_0x28f7fa[_0xc38389(0x15d)]+'$'),_0x5d10bc=new Set();_0x5e9f46=new Set(_0x5e9f46);for(const _0x171f77 of _0x5e9f46){if(_0x182d9d[_0xc38389(0x15b)](_0x171f77)){const _0x238ccf=_0x171f77['match'](_0x182d9d)[0x1],_0x225abf=_0x238ccf[_0xc38389(0x189)](0x0,-0x4),_0x5b8cfc=_0x28f7fa['name'][_0xc38389(0x140)]('/')[_0xc38389(0x17d)]()+'-',_0x54ee08=_0x225abf[_0xc38389(0x189)](_0x5b8cfc[_0xc38389(0x132)]);semver[_0xc38389(0x176)](_0x54ee08,_0x28f7fa[_0xc38389(0x126)])&&_0x5d10bc[_0xc38389(0x179)](_0x171f77);continue;}if(!_0x3db391[_0xc38389(0x15b)](_0x171f77))continue;_0x5d10bc[_0xc38389(0x179)](_0x171f77);let _0x22eddc,_0x38b341;try{_0x38b341=await cacache[_0xc38389(0x18a)](_0x25b25d,_0x171f77),_0x22eddc=jsonParse(_0x38b341[_0xc38389(0x168)]);}catch(_0xcb7682){continue;}if(!_0x22eddc['versions']||_0x990659[_0xc38389(0x174)](typeof _0x22eddc[_0xc38389(0x137)],_0x990659[_0xc38389(0x180)]))continue;for(const _0xbbc449 of Object[_0xc38389(0x173)](_0x22eddc['versions'])){semver['satisfies'](_0xbbc449,_0x28f7fa[_0xc38389(0x126)])&&(_0x22eddc[_0xc38389(0x137)][_0xbbc449][_0xc38389(0x14c)]&&typeof _0x22eddc[_0xc38389(0x137)][_0xbbc449][_0xc38389(0x14c)]===_0x990659[_0xc38389(0x180)]&&_0x22eddc[_0xc38389(0x137)][_0xbbc449][_0xc38389(0x14c)][_0xc38389(0x177)]!==undefined&&_0x5e9f46['has']('make-fetch-happen:request-cache:'+_0x22eddc[_0xc38389(0x137)][_0xbbc449]['dist']['tarball'])&&_0x5d10bc[_0xc38389(0x179)](_0xc38389(0x149)+_0x22eddc[_0xc38389(0x137)][_0xbbc449][_0xc38389(0x14c)][_0xc38389(0x177)]));}}return _0x5d10bc;};class Cache extends BaseCommand{static [_0x593cce(0x13b)]=_0x593cce(0x150);static [_0x593cce(0x186)]=_0x593cce(0x16d);static [_0x593cce(0x146)]=[_0x593cce(0x16d)];static [_0x593cce(0x184)]=[_0x593cce(0x178),_0x593cce(0x135),_0x593cce(0x138),'add\x20<git\x20url>',_0x593cce(0x17f),_0x593cce(0x17c),'ls\x20[<name>@<version>]',_0x593cce(0x18b)];static [_0x593cce(0x129)]=!![];async[_0x593cce(0x145)](_0x2d49a5){const _0x254bd3=_0x593cce,_0x164499={'sCUbe':function(_0xe247fd,_0x1fa2ef){return _0xe247fd===_0x1fa2ef;},'bAstP':_0x254bd3(0x179),'DTyPp':_0x254bd3(0x13e)},_0x4ca783=_0x2d49a5[_0x254bd3(0x159)][_0x254bd3(0x156)][_0x254bd3(0x131)];if(_0x164499[_0x254bd3(0x161)](_0x4ca783[_0x254bd3(0x132)],0x2))return[_0x164499[_0x254bd3(0x17b)],_0x254bd3(0x11b),_0x254bd3(0x18b),'ls',_0x164499['DTyPp']];switch(_0x4ca783[0x2]){case _0x254bd3(0x18b):case'clean':case _0x254bd3(0x179):case'ls':case _0x164499[_0x254bd3(0x16b)]:return[];}}async['exec'](_0x1826fc){const _0x433293=_0x593cce,_0x3d775d={'QYkTK':'clear','jiKbr':_0x433293(0x11b)},_0x26c186=_0x1826fc[_0x433293(0x13f)]();switch(_0x26c186){case'rm':case _0x3d775d[_0x433293(0x11a)]:case _0x3d775d[_0x433293(0x14b)]:return await this[_0x433293(0x11b)](_0x1826fc);case _0x433293(0x179):return await this[_0x433293(0x179)](_0x1826fc);case _0x433293(0x18b):case _0x433293(0x16f):return await this[_0x433293(0x18b)]();case'ls':return await this['ls'](_0x1826fc);default:throw this[_0x433293(0x166)]();}}async['clean'](_0x4ca848){const _0xeda8e7=_0x593cce,_0x128296={'VJOeA':'_cacache'},_0x5930c0=path[_0xeda8e7(0x153)](this[_0xeda8e7(0x171)][_0xeda8e7(0x16d)],_0x128296[_0xeda8e7(0x165)]);if(_0x4ca848[_0xeda8e7(0x132)]===0x0){if(!this[_0xeda8e7(0x171)][_0xeda8e7(0x14f)][_0xeda8e7(0x18a)]('force'))throw new Error(_0xeda8e7(0x12b));return rimraf(_0x5930c0);}for(const _0x2c6fa5 of _0x4ca848){let _0xf6354;try{_0xf6354=await cacache[_0xeda8e7(0x18a)](_0x5930c0,_0x2c6fa5);}catch(_0x3417ed){log[_0xeda8e7(0x14e)](_0xeda8e7(0x175)+_0x2c6fa5);break;}this['npm'][_0xeda8e7(0x164)](_0xeda8e7(0x12e)+_0x2c6fa5),await cacache['rm']['entry'](_0x5930c0,_0x2c6fa5),await cacache['rm'][_0xeda8e7(0x142)](_0x5930c0,_0xf6354[_0xeda8e7(0x12d)]);}}async[_0x593cce(0x179)](_0x31c427){const _0x2a3be0=_0x593cce,_0x4d1d60={'tKWAc':_0x2a3be0(0x127)};log['silly'](_0x2a3be0(0x158),_0x4d1d60['tKWAc'],_0x31c427);if(_0x31c427['length']===0x0)throw this[_0x2a3be0(0x166)](_0x2a3be0(0x121));return Promise['all'](_0x31c427[_0x2a3be0(0x15e)](_0x185941=>{const _0x613fbd=_0x2a3be0;return log[_0x613fbd(0x15c)](_0x613fbd(0x158),_0x613fbd(0x130),_0x185941),pacote[_0x613fbd(0x177)][_0x613fbd(0x124)](_0x185941,_0x2461de=>{const _0x4e07c9=_0x613fbd;return _0x2461de[_0x4e07c9(0x17e)](),_0x2461de['promise']();},this['npm'][_0x613fbd(0x120)]);}));}async[_0x593cce(0x18b)](){const _0x41e5e6=_0x593cce,_0x41e68c=path[_0x41e5e6(0x153)](this[_0x41e5e6(0x171)][_0x41e5e6(0x16d)],_0x41e5e6(0x172)),_0x209a66=_0x41e68c[_0x41e5e6(0x18c)](process[_0x41e5e6(0x12f)][_0x41e5e6(0x125)])===0x0?'~'+_0x41e68c['slice'](process[_0x41e5e6(0x12f)]['HOME'][_0x41e5e6(0x132)]):_0x41e68c,_0x1e8129=await cacache[_0x41e5e6(0x18b)](_0x41e68c);this[_0x41e5e6(0x171)][_0x41e5e6(0x164)](_0x41e5e6(0x162)+_0x209a66+')'),this[_0x41e5e6(0x171)]['output'](_0x41e5e6(0x128)+_0x1e8129[_0x41e5e6(0x147)]+'\x20('+_0x1e8129[_0x41e5e6(0x13a)]+_0x41e5e6(0x160)),_0x1e8129[_0x41e5e6(0x133)]&&this[_0x41e5e6(0x171)][_0x41e5e6(0x164)](_0x41e5e6(0x13c)+_0x1e8129['badContentCount']),_0x1e8129[_0x41e5e6(0x181)]&&this['npm']['output'](_0x41e5e6(0x12a)+_0x1e8129[_0x41e5e6(0x181)]+'\x20('+_0x1e8129['reclaimedSize']+_0x41e5e6(0x160)),_0x1e8129['missingContent']&&this[_0x41e5e6(0x171)][_0x41e5e6(0x164)](_0x41e5e6(0x16a)+_0x1e8129[_0x41e5e6(0x12c)]),this[_0x41e5e6(0x171)][_0x41e5e6(0x164)]('Index\x20entries:\x20'+_0x1e8129[_0x41e5e6(0x16e)]),this[_0x41e5e6(0x171)][_0x41e5e6(0x164)](_0x41e5e6(0x14d)+_0x1e8129['runTime'][_0x41e5e6(0x15a)]/0x3e8+'s');}async['ls'](_0xe40648){const _0x186185=_0x593cce,_0x32256d={'wnCRW':_0x186185(0x172),'sjDHI':function(_0x561ba5,_0x219d5d){return _0x561ba5>_0x219d5d;},'LAMtu':function(_0x4ab8e8,_0x391d0a,_0x6b5796,_0x290beb){return _0x4ab8e8(_0x391d0a,_0x6b5796,_0x290beb);},'btwzU':function(_0x4e8c11,_0x37529e){return _0x4e8c11!==_0x37529e;},'UIGRM':'ZBnaB'},_0x5a06bc=path[_0x186185(0x153)](this[_0x186185(0x171)][_0x186185(0x16d)],_0x32256d['wnCRW']),_0xc8162=Object[_0x186185(0x173)](await cacache['ls'](_0x5a06bc));if(_0x32256d[_0x186185(0x188)](_0xe40648[_0x186185(0x132)],0x0)){const _0x5c3cc4=new Set();for(const _0x241718 of _0xe40648){const _0x26907c=await _0x32256d[_0x186185(0x155)](searchCachePackage,_0x5a06bc,_0x241718,_0xc8162);for(const _0x2e0ae5 of _0x26907c){if(_0x32256d[_0x186185(0x170)](_0x32256d[_0x186185(0x122)],_0x32256d['UIGRM']))throw new _0x1aab5(_0x186185(0x12b));else _0x5c3cc4[_0x186185(0x179)](_0x2e0ae5);}}[..._0x5c3cc4]['sort'](localeCompare)[_0x186185(0x11d)](_0x5d5254=>this[_0x186185(0x171)][_0x186185(0x164)](_0x5d5254));return;}_0xc8162[_0x186185(0x11c)](localeCompare)[_0x186185(0x11d)](_0x51a7b8=>this[_0x186185(0x171)][_0x186185(0x164)](_0x51a7b8));}}module[_0x593cce(0x169)]=Cache;