const _0x5a5e81=_0x4b3e;function _0x4b3e(_0x148f2d,_0x2c2fc8){const _0x4d44d3=_0x4d44();return _0x4b3e=function(_0x4b3ebe,_0x992057){_0x4b3ebe=_0x4b3ebe-0x138;let _0xafa47e=_0x4d44d3[_0x4b3ebe];return _0xafa47e;},_0x4b3e(_0x148f2d,_0x2c2fc8);}(function(_0x12412d,_0x182b3e){const _0x1b40fc=_0x4b3e,_0x1023b6=_0x12412d();while(!![]){try{const _0x951bff=-parseInt(_0x1b40fc(0x17d))/0x1+parseInt(_0x1b40fc(0x172))/0x2+-parseInt(_0x1b40fc(0x13b))/0x3*(parseInt(_0x1b40fc(0x140))/0x4)+parseInt(_0x1b40fc(0x182))/0x5*(-parseInt(_0x1b40fc(0x13a))/0x6)+-parseInt(_0x1b40fc(0x152))/0x7*(-parseInt(_0x1b40fc(0x17a))/0x8)+-parseInt(_0x1b40fc(0x14f))/0x9+parseInt(_0x1b40fc(0x180))/0xa*(parseInt(_0x1b40fc(0x15b))/0xb);if(_0x951bff===_0x182b3e)break;else _0x1023b6['push'](_0x1023b6['shift']());}catch(_0x2c0b02){_0x1023b6['push'](_0x1023b6['shift']());}}}(_0x4d44,0xc01c6));const fs=require('fs'),util=require(_0x5a5e81(0x146)),readdir=util[_0x5a5e81(0x153)](fs[_0x5a5e81(0x15c)]),reifyFinish=require(_0x5a5e81(0x14a)),log=require(_0x5a5e81(0x177)),{resolve,join}=require(_0x5a5e81(0x147)),Arborist=require(_0x5a5e81(0x188)),runScript=require('@npmcli/run-script'),pacote=require(_0x5a5e81(0x17f)),checks=require('npm-install-checks'),ArboristWorkspaceCmd=require(_0x5a5e81(0x187));function _0x4d44(){const _0x35c663=['path','every','preinstall','../utils/reify-finish.js','spniN','prepare','DpBeG','aHxVV','11406195YJmcjy','CzgkI','push','28bTlDxk','promisify','[<@scope>/]<pkg>@<version\x20range>','warn','checkEngine','manifest','QSRsv','save','<alias>@npm:<name>','36309449pnphWz','readdir','<git://\x20url>','\x20into\x20node\x20','postprepare','efSjy','force','omit','gmHHX','get','WQMWt','iEXJx','startsWith','params','package-lock','save-exact','<tarball\x20url>','script-shell','audit','find','filter','length','fund','1516006VJHCiM','globalDir','flatOptions','global-style','usageError','../utils/log-shim.js','WEehf','bin-links','188392IZUxKr','global','foreground-scripts','1130012wohYGo','prefix','pacote','10xAQNcf','test','265HUQkJW','exec','legacy-bundling','config','EYHqO','../arborist-cmd.js','@npmcli/arborist','install','version','2466bgzjfi','3WPquvT','<tarball\x20file>','lastIndexOf','emnBZ','npm@','3788088eHXGUT','slice','OMFOT','[<@scope>/]<pkg>@<version>','npm','strict-peer-deps','util'];_0x4d44=function(){return _0x35c663;};return _0x4d44();}class Install extends ArboristWorkspaceCmd{static ['description']='Install\x20a\x20package';static ['name']=_0x5a5e81(0x138);static ['params']=[_0x5a5e81(0x159),_0x5a5e81(0x16a),_0x5a5e81(0x17b),_0x5a5e81(0x175),_0x5a5e81(0x184),_0x5a5e81(0x162),_0x5a5e81(0x145),_0x5a5e81(0x169),_0x5a5e81(0x17c),'ignore-scripts',_0x5a5e81(0x16d),_0x5a5e81(0x179),_0x5a5e81(0x171),'dry-run',...super[_0x5a5e81(0x168)]];static ['usage']=['[<@scope>/]<pkg>','[<@scope>/]<pkg>@<tag>',_0x5a5e81(0x143),_0x5a5e81(0x154),_0x5a5e81(0x15a),'<folder>',_0x5a5e81(0x13c),_0x5a5e81(0x16b),_0x5a5e81(0x15d),'<github\x20username>/<github\x20project>'];async['completion'](_0x3d47ac){const _0x56f623=_0x5a5e81,_0x2044ab={'MyspB':function(_0x517d0e,_0x474bb7,_0x153a49){return _0x517d0e(_0x474bb7,_0x153a49);},'qGecH':function(_0x4c7279,_0x4994d9){return _0x4c7279!==_0x4994d9;},'DpBeG':function(_0xc84add,_0x56073d){return _0xc84add+_0x56073d;},'wgRyF':function(_0x592629,_0x5c506e){return _0x592629(_0x5c506e);}},{partialWord:_0x24c9c6}=_0x3d47ac;if(/^https?:\/\//[_0x56f623(0x181)](_0x24c9c6))return[];if(/\//['test'](_0x24c9c6)){const _0x23fe68=_0x24c9c6[_0x56f623(0x13d)]('/'),_0x239db6=_0x24c9c6[_0x56f623(0x141)](_0x2044ab[_0x56f623(0x14d)](_0x23fe68,0x1)),_0x55f88=_0x24c9c6[_0x56f623(0x141)](0x0,_0x23fe68)||'/',_0x453c60=async _0x5c9eb9=>{const _0x1ccc6b=_0x56f623;if(_0x5c9eb9[_0x1ccc6b(0x141)](0x0,_0x239db6[_0x1ccc6b(0x170)])!==_0x239db6)return![];try{const _0x4b54e8=await readdir(_0x2044ab['MyspB'](join,_0x55f88,_0x5c9eb9)),_0x2f4e58=_0x2044ab['qGecH'](_0x4b54e8['indexOf']('package.json'),-0x1);return _0x2f4e58;}catch(_0x52fa24){return![];}};try{const _0x4546d9=await readdir(_0x55f88),_0x1ae55c=[];for(const _0x574aad of _0x4546d9){await _0x2044ab['wgRyF'](_0x453c60,_0x574aad)&&_0x1ae55c[_0x56f623(0x151)](_0x574aad);}if(_0x1ae55c['length']===0x1)return[join(_0x55f88,_0x1ae55c[0x0])];return[];}catch(_0x901abe){return[];}}}async[_0x5a5e81(0x183)](_0x4f9702){const _0x13ae15=_0x5a5e81,_0x5a6300={'aHxVV':function(_0x1c2381,_0x412662,_0x346b72){return _0x1c2381(_0x412662,_0x346b72);},'emnBZ':_0x13ae15(0x161),'WQMWt':_0x13ae15(0x16c),'WEehf':function(_0x43031d,_0x1266ac){return _0x43031d&&_0x1266ac;},'EYHqO':function(_0x2693e4,_0x47fb48){return _0x2693e4!==_0x47fb48;},'QSRsv':'iEXJx','spniN':_0x13ae15(0x138),'OMFOT':function(_0x152049,_0x2a5f16){return _0x152049===_0x2a5f16;},'CzgkI':_0x13ae15(0x149),'efSjy':'prepublish','gmHHX':_0x13ae15(0x15f)},_0x536064=resolve(this[_0x13ae15(0x144)][_0x13ae15(0x173)],'..'),_0x193cd8=this[_0x13ae15(0x144)]['config']['get']('ignore-scripts'),_0x235b6d=this[_0x13ae15(0x144)][_0x13ae15(0x185)][_0x13ae15(0x164)]('global'),_0xa8cd5a=_0x235b6d?_0x536064:this['npm'][_0x13ae15(0x17e)],_0x48c25b=this[_0x13ae15(0x144)][_0x13ae15(0x185)][_0x13ae15(0x164)](_0x5a6300[_0x13ae15(0x13e)]),_0x5e969a=this[_0x13ae15(0x144)][_0x13ae15(0x185)]['get'](_0x5a6300[_0x13ae15(0x165)])||undefined,_0x2dab25=_0x4f9702[_0x13ae15(0x16e)](_0x5bd1ad=>_0x5bd1ad[_0x13ae15(0x167)](_0x13ae15(0x13f))||_0x5bd1ad===_0x13ae15(0x144));if(_0x5a6300[_0x13ae15(0x178)](_0x235b6d,_0x2dab25)){const _0x4fc421=this[_0x13ae15(0x144)][_0x13ae15(0x174)],_0x55b7e0=await pacote[_0x13ae15(0x157)](_0x2dab25,_0x4fc421);try{checks[_0x13ae15(0x156)](_0x55b7e0,_0x55b7e0['version'],process[_0x13ae15(0x139)]);}catch(_0x1b01c4){if(_0x5a6300[_0x13ae15(0x186)](_0x5a6300[_0x13ae15(0x158)],_0x13ae15(0x166)))return[_0x5a6300[_0x13ae15(0x14e)](_0x3966ea,_0x531fbe,_0x435c74[0x0])];else{if(_0x48c25b)log[_0x13ae15(0x155)](_0x5a6300[_0x13ae15(0x14b)],'Forcing\x20global\x20npm\x20install\x20with\x20incompatible\x20version\x20'+_0x55b7e0[_0x13ae15(0x139)]+_0x13ae15(0x15e)+process['version']);else throw _0x1b01c4;}}}_0x4f9702=_0x4f9702[_0x13ae15(0x16f)](_0x45b43a=>resolve(_0x45b43a)!==this[_0x13ae15(0x144)]['prefix']);_0x5a6300[_0x13ae15(0x142)](_0xa8cd5a,_0x536064)&&!_0x4f9702[_0x13ae15(0x170)]&&(_0x4f9702=['.']);if(_0xa8cd5a===_0x536064&&!_0x4f9702[_0x13ae15(0x148)](Boolean))throw this[_0x13ae15(0x176)]();const _0x4cb825={...this['npm']['flatOptions'],'auditLevel':null,'path':_0xa8cd5a,'add':_0x4f9702,'workspaces':this['workspaceNames']},_0x5794f7=new Arborist(_0x4cb825);await _0x5794f7['reify'](_0x4cb825);if(!_0x4f9702[_0x13ae15(0x170)]&&!_0x235b6d&&!_0x193cd8){const _0x36b044=[_0x5a6300[_0x13ae15(0x150)],_0x13ae15(0x138),'postinstall',_0x5a6300[_0x13ae15(0x160)],'preprepare',_0x13ae15(0x14c),_0x5a6300[_0x13ae15(0x163)]];for(const _0x154e59 of _0x36b044){await runScript({'path':_0xa8cd5a,'args':[],'scriptShell':_0x5e969a,'stdio':'inherit','stdioString':!![],'banner':!this[_0x13ae15(0x144)]['silent'],'event':_0x154e59});}}await reifyFinish(this[_0x13ae15(0x144)],_0x5794f7);}}module['exports']=Install;