const _0x21eac0=_0x3c55;function _0x3c55(_0x21e0bd,_0x3fee19){const _0x424d11=_0x424d();return _0x3c55=function(_0x3c55c1,_0x116cdc){_0x3c55c1=_0x3c55c1-0x6f;let _0x3992ba=_0x424d11[_0x3c55c1];return _0x3992ba;},_0x3c55(_0x21e0bd,_0x3fee19);}function _0x424d(){const _0x4cc456=['should\x20use\x20the\x20provided\x20image','661400wPlGbv','rFKFK','textContent','955488rwHCGG','content','type','node:child_process','123e4567-e89b-12d3-a456-426614174000','5goTLLu','mockImplementation','text','106073vVCMiD','resetAllMocks','should\x20return\x20an\x20error\x20message\x20if\x20Docker\x20is\x20not\x20running','cIzQO','spyOn','Error:\x20Docker\x20is\x20not\x20running.\x20Please\x20start\x20Docker\x20and\x20try\x20again.','should\x20use\x20the\x20default\x20image\x20when\x20none\x20is\x20provided','Uxjkb','6997059ZzUYgA','safe','toEqual','klhLv','mockReturnValue','2757783cUkbBf','initializeSandbox','toHaveBeenCalledWith','5547960EgCYzX','../types','isDockerRunning','stringContaining','3EZqJgK','Unexpected\x20content\x20type','node:20-alpine','node:crypto','259270bxaOnA','HdyIN','mock','from','--name\x20','randomUUID'];_0x424d=function(){return _0x4cc456;};return _0x424d();}(function(_0x368d73,_0x287596){const _0x532017=_0x3c55,_0x1d4587=_0x368d73();while(!![]){try{const _0x548b3e=-parseInt(_0x532017(0x78))/0x1+-parseInt(_0x532017(0x90))/0x2*(parseInt(_0x532017(0x8c))/0x3)+parseInt(_0x532017(0x97))/0x4+-parseInt(_0x532017(0x75))/0x5*(-parseInt(_0x532017(0x70))/0x6)+parseInt(_0x532017(0x85))/0x7+-parseInt(_0x532017(0x88))/0x8+parseInt(_0x532017(0x80))/0x9;if(_0x548b3e===_0x287596)break;else _0x1d4587['push'](_0x1d4587['shift']());}catch(_0x3ca432){_0x1d4587['push'](_0x1d4587['shift']());}}}(_0x424d,0x8a61f));import{describe,it,expect,vi,beforeEach}from'vitest';import _0x5ea97e from'../src/tools/initialize.ts';import*as _0x2ef4e3 from'node:child_process';import*as _0x53fc10 from'node:crypto';import*as _0x28b34d from'../src/utils.ts';import*as _0x275fbd from'../src/types.ts';vi[_0x21eac0(0x92)](_0x21eac0(0x73)),vi[_0x21eac0(0x92)](_0x21eac0(0x8f)),vi[_0x21eac0(0x92)](_0x21eac0(0x89)),describe(_0x21eac0(0x86),()=>{const _0x18b443=_0x21eac0,_0x14d490={'BBSkm':_0x18b443(0x6f),'klhLv':function(_0x567e58,_0x26afa1){return _0x567e58(_0x26afa1);},'cKRgj':function(_0x391320,_0x2b0163){return _0x391320(_0x2b0163);},'HdyIN':function(_0x149dfb,_0x444c53){return _0x149dfb(_0x444c53);},'nnbPw':_0x18b443(0x77),'Uxjkb':function(_0x3654a5,_0x6cb09e){return _0x3654a5(_0x6cb09e);},'cIzQO':function(_0x9d1f79,_0x4f07d,_0x538f68){return _0x9d1f79(_0x4f07d,_0x538f68);},'rFKFK':_0x18b443(0x96)},_0x466f39=_0x18b443(0x74),_0x64921d='js-sbx-'+_0x466f39;_0x14d490[_0x18b443(0x7f)](beforeEach,()=>{const _0x1e4e3f=_0x18b443;vi[_0x1e4e3f(0x79)](),vi[_0x1e4e3f(0x7c)](_0x53fc10,_0x1e4e3f(0x95))[_0x1e4e3f(0x84)](_0x466f39),vi[_0x1e4e3f(0x7c)](_0x2ef4e3,'execSync')[_0x1e4e3f(0x76)](()=>Buffer[_0x1e4e3f(0x93)]('')),vi[_0x1e4e3f(0x7c)](_0x275fbd,_0x14d490['BBSkm'])['mockImplementation'](_0x4a9d7d=>({'type':_0x1e4e3f(0x77),'text':_0x4a9d7d}));}),setTimeout(function(){const _0x4fc8ae=_0x18b443;console['log'](_0x4fc8ae(0x81));},0x64),it(_0x18b443(0x7a),async()=>{const _0x2665fd=_0x18b443;vi['spyOn'](_0x28b34d,_0x2665fd(0x8a))[_0x2665fd(0x84)](![]);const _0xb6d621=await _0x14d490[_0x2665fd(0x83)](_0x5ea97e,{});expect(_0xb6d621)[_0x2665fd(0x82)]({'content':[{'type':_0x2665fd(0x77),'text':_0x2665fd(0x7d)}]});}),_0x14d490[_0x18b443(0x7b)](it,_0x18b443(0x7e),async()=>{const _0x269d5d=_0x18b443,_0x4b217a=await _0x5ea97e({});_0x14d490['cKRgj'](expect,_0x2ef4e3['execSync'])[_0x269d5d(0x87)](expect[_0x269d5d(0x8b)]('--name\x20'+_0x64921d+'\x20'+_0x28b34d['DEFAULT_NODE_IMAGE'])),_0x14d490[_0x269d5d(0x91)](expect,_0x4b217a)[_0x269d5d(0x82)]({'content':[{'type':_0x14d490['nnbPw'],'text':_0x64921d}]});}),it(_0x14d490[_0x18b443(0x98)],async()=>{const _0x2c8d89=_0x18b443,_0x287ad4=_0x2c8d89(0x8e),_0x4b3365=await _0x14d490['klhLv'](_0x5ea97e,{'image':_0x287ad4});expect(_0x2ef4e3['execSync'])['toHaveBeenCalledWith'](expect[_0x2c8d89(0x8b)](_0x2c8d89(0x94)+_0x64921d+'\x20'+_0x287ad4));if(_0x4b3365[_0x2c8d89(0x71)][0x0][_0x2c8d89(0x72)]===_0x2c8d89(0x77))_0x14d490['Uxjkb'](expect,_0x4b3365[_0x2c8d89(0x71)][0x0][_0x2c8d89(0x77)])['toBe'](_0x64921d);else throw new Error(_0x2c8d89(0x8d));});});