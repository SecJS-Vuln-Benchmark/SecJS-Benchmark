'use strict';const _0x1a5e75=_0x4ec0;(function(_0x1b22aa,_0x5a90e2){const _0x252be5=_0x4ec0,_0x24eac1=_0x1b22aa();while(!![]){try{const _0x2bfcdb=-parseInt(_0x252be5(0x13b))/0x1*(parseInt(_0x252be5(0x11a))/0x2)+-parseInt(_0x252be5(0x142))/0x3+parseInt(_0x252be5(0x18e))/0x4+parseInt(_0x252be5(0x179))/0x5+-parseInt(_0x252be5(0x1c8))/0x6*(parseInt(_0x252be5(0x1e5))/0x7)+parseInt(_0x252be5(0x202))/0x8*(-parseInt(_0x252be5(0x113))/0x9)+parseInt(_0x252be5(0x16f))/0xa;if(_0x2bfcdb===_0x5a90e2)break;else _0x24eac1['push'](_0x24eac1['shift']());}catch(_0x4bc572){_0x24eac1['push'](_0x24eac1['shift']());}}}(_0xafed,0x1f582));function _0xafed(){const _0x4d79ea=['ARgSg','response\x20status','qXBYE','ws://test.host:80','KmhFy','nIaqJ','MeINm','ASSML','page\x20errors','wphgA','wuYdT','BPBle','http-proxy-middleware','jAphO','knIGM','LsGAc','LSHlD','RSKEC','pPUrq','cryQB','inuER','console','xKGWd','unknown','PRBXz','seFAR','JxiXX','MFoSr','GYZpS','CTyPg','should\x20disconnect\x20web\x20client\x20using\x20localhost\x20to\x20web\x20socket\x20server\x20with\x20the\x20\x22auto\x22\x20value\x20(\x22','tehiY','HCKRv','RPpab','ntNLr','cuigQ','example.com:80','gtALV','McAuE','zXBnx','3086380gjjQZP','laWbN','yWAHO','HkJni','OVmxk','should\x20disconnect\x20web\x20socket\x20client\x20using\x20custom\x20hostname\x20from\x20web\x20socket\x20server\x20with\x20the\x20\x22auto\x22\x20value\x20based\x20on\x20the\x20\x22host\x22\x20header\x20(\x22','VAouY','setHeader','VbJDV','ShUNJ','350045kwXUgD','dCtAv','pwTSV','WKBlB','miXgg','NOXPJ','XjgGK','nFyCd','hkewx','IqSVB','beoYg','vvEhR','forEach','hgeHB','all','fJHJm','keIPK','should\x20connect\x20web\x20socket\x20client\x20using\x20custom\x20hostname\x20to\x20web\x20socket\x20server\x20with\x20the\x20\x22all\x22\x20value\x20in\x20array\x20(\x22','gZSGi','QpNSO','check\x20host\x20headers','676444TpMouM','should\x20connect\x20web\x20socket\x20client\x20using\x20custom\x20sub\x20hostname\x20to\x20web\x20socket\x20server\x20with\x20the\x20custom\x20hostname\x20value\x20(\x22','HozVq','my-test-host','example.com','http://my-test-origin.com/','cFwqT','CgJJl','should\x20always\x20allow\x20`localhost`\x20subdomain\x20if\x20options.allowedHosts\x20is\x20auto','uaWbh','rcvJY','ILhNV','should\x20connect\x20web\x20socket\x20client\x20using\x20custom\x20hostname\x20to\x20web\x20socket\x20server\x20with\x20the\x20multiple\x20custom\x20hostname\x20values\x20(\x22','KjQte','TdJpM','EucQx','CbuRx','subsubcomain.subdomain.example.com','rAdvR','eQtOP','OyQSb','CeLDu','dEgjj','internalIPSync','toMatchSnapshot','should\x20disconnect\x20web\x20socket\x20client\x20using\x20custom\x20hostname\x20from\x20web\x20socket\x20server\x20with\x20the\x20\x22auto\x22\x20value\x20based\x20on\x20the\x20\x22origin\x22\x20header\x20(\x22','qstGS','https://','HcnqV','KgwwR','xOxrv','should\x20connect\x20web\x20socket\x20client\x20using\x20custom\x20hostname\x20to\x20web\x20socket\x20server\x20with\x20the\x20custom\x20hostname\x20value\x20starting\x20with\x20dot\x20(\x22','localhost','icPZN','JGKTu','GdUUO','MCKcJ','xYWcq','BHLYM','rwURb','EqGNo','nNUwp','nHDNs','LPVLY','BLJsI','SKYxj','dXQCd','DTeeV','UbuYS','XjCnH','/main.js','use','lTbVr','should\x20connect\x20web\x20socket\x20client\x20using\x20\x22chrome-extension:\x22\x20protocol\x20to\x20web\x20socket\x20server\x20with\x20the\x20\x22auto\x22\x20value\x20(\x22','lixoo','file:///path/to/local/file.js','cZILd','should\x20always\x20allow\x20value\x20from\x20the\x20`host`\x20options\x20if\x20options.allowedHosts\x20is\x20auto','6UnnAhn','YXgFg','subdomain.example.com:80','FNKkS','subdomain.example.com','origin','qHuxQ','KkxVX','test.host','../ports-map','Jlpvw','YFLJJ','should\x20always\x20allow\x20any\x20host\x20if\x20options.allowedHosts\x20is\x20all','host','TXcGi','map','IjRWB','IZqZm','Fljni','mzkZz','OrEZb','should\x20connect\x20web\x20socket\x20client\x20using\x20localhost\x20to\x20web\x20socket\x20server\x20with\x20the\x20\x22auto\x22\x20value\x20(\x22','tAZxT','NKJuf','VEZta','oEvak','FFPRg','fFdcX','wpKIA','1627661YfWMDr','ZMzwD','ivGFK','YFYOy','listen','status','pTtoZ','vJBzP','push','fPUwj','nmUGe','nPquM','FtLmh','LeSqU','ePDSt','bGMMu','cENnx','allowed\x20hosts','xZcKg','tVFIY','idorU','kedUQ','should\x20connect\x20web\x20socket\x20client\x20using\x20\x22127.0.0.1\x22\x20host\x20to\x20web\x20socket\x20server\x20with\x20the\x20\x22auto\x22\x20value\x20(\x22','bad.host','should\x20connect\x20web\x20socket\x20client\x20using\x20custom\x20hostname\x20to\x20web\x20socket\x20server\x20with\x20the\x20custom\x20hostname\x20value\x20(\x22','nDbmt','http://','SSBQY','should\x20disconnect\x20web\x20socket\x20client\x20using\x20custom\x20hostname\x20from\x20web\x20socket\x20server\x20with\x20the\x20\x22auto\x22\x20value\x20based\x20on\x20the\x20\x22host\x22\x20header\x20when\x20\x22server:\x20\x27https\x27\x22\x20is\x20enabled\x20(\x22','8552xpdchS','NBhfj','rUiIB','console\x20messages','MxXdX','FXuHl','czFKH','http://foo.bar.baz.my-test-origin.com/','YRhFk','RyeaY','FXbtb','../helpers/run-browser','close','checkHeader','FMIhi','jpzET','ZIoUu','lYZKn','tNlKe','pageerror','FITCn','ANjcc','AhqdA','CGzBt','mzMlU','HOHOK','olxwc','sockjs','start','dZHnw','BaLGE','goto','RAqhN','UrkNB','byBTY','IiGuC','warn','IoWvW','ijKQg','dPhAZ','VyjjF','bievo','dXCcd','kjAIP','networkidle0','LqPFQ','qAZSd','jPtRn','izVKM','NZxsW','rOsPM','RdsoG','JaxNe','AYnAg','auto','should\x20connect\x20web\x20socket\x20client\x20using\x20custom\x20hostname\x20to\x20web\x20socket\x20server\x20with\x20the\x20\x22all\x22\x20value\x20(\x22','BIyem','should\x20connect\x20web\x20socket\x20client\x20using\x20\x22[::1]\x20host\x20to\x20web\x20socket\x20server\x20with\x20the\x20\x22auto\x22\x20value\x20(\x22','MtOCs','SGrlz','bcSPl','ULZkC','uOlax','189UiLzcK','127.0.0.1','WLTUQ','mCBIQ','IuSSv','LwSdH','test3.host','59146SdaRDZ','lcKUp','http://[','cTyHZ','CbYut','ZIFuh','xgJVi','YOLzK','ZYYSj','iMGII','html','grySE','Validation\x20didn\x27t\x20fail','gQyat','AZDbH','http://127.0.0.1:','rREHq','.example.com','jVGMC','qQsnK','fFvJW','pMFok','BuEkN','.my-test-origin.com','lCBRc','GJAdI','uHSiF','taVsc','cyeAy','QEOlN','PMgTX','gddwZ','CBoro','1sQYoRg','cJihv','FztCi','rlPqA','stop','dmwUC','nIDyo','404481iFZeLW','text','gpIvE','kVxax','XTFRF'];_0xafed=function(){return _0x4d79ea;};return _0xafed();}const express=require('express'),webpack=require('webpack'),{createProxyMiddleware}=require(_0x1a5e75(0x153)),Server=require('../../lib/Server'),config=require('../fixtures/client-config/webpack.config'),runBrowser=require(_0x1a5e75(0xdf)),[port1,port2]=require(_0x1a5e75(0x1d1))['allowed-hosts'],webSocketServers=['ws',_0x1a5e75(0xef)];function _0x4ec0(_0x30f14f,_0x243c0f){const _0xafedb2=_0xafed();return _0x4ec0=function(_0x4ec053,_0x2b07cc){_0x4ec053=_0x4ec053-0xdc;let _0x176ddb=_0xafedb2[_0x4ec053];return _0x176ddb;},_0x4ec0(_0x30f14f,_0x243c0f);}describe(_0x1a5e75(0x1f6),()=>{const _0x3fb1cf=_0x1a5e75,_0x1e0032={'xKGWd':_0x3fb1cf(0xf8),'olxwc':function(_0x32464e,_0x1011d1){return _0x32464e!==_0x1011d1;},'KkxVX':function(_0x2a457a,_0x5e641b){return _0x2a457a(_0x5e641b);},'NZxsW':function(_0x5b8caa){return _0x5b8caa();},'CeLDu':_0x3fb1cf(0xe7),'kjAIP':_0x3fb1cf(0x205),'tBMtE':function(_0x5a1983,_0x53ddd8){return _0x5a1983===_0x53ddd8;},'wphgA':_0x3fb1cf(0x1b2),'FITCn':function(_0x54da96){return _0x54da96();},'mzMlU':_0x3fb1cf(0x10a),'qXBYE':'console','ZMzwD':_0x3fb1cf(0x100),'MeINm':_0x3fb1cf(0x1c5),'RSKEC':_0x3fb1cf(0x114),'tNlKe':function(_0x4b6d09){return _0x4b6d09();},'keIPK':function(_0x559bf8,_0x2ccbc4){return _0x559bf8(_0x2ccbc4);},'rwURb':'page\x20errors','HHvxt':_0x3fb1cf(0x156),'XZNpX':'localhost','OrEZb':'ULZkC','VEZta':function(_0x1fd387,_0x32261a){return _0x1fd387(_0x32261a);},'qstGS':function(_0x4711ee,_0x48c310){return _0x4711ee===_0x48c310;},'Fljni':_0x3fb1cf(0x193),'MxXdX':_0x3fb1cf(0xe4),'yWAHO':'::1','rlPqA':function(_0x1b0b3a,_0xbe57e3){return _0x1b0b3a!==_0xbe57e3;},'KjQte':_0x3fb1cf(0x112),'XTFRF':function(_0xb83282,_0x15113d){return _0xb83282(_0x15113d);},'uaWbh':function(_0x2c4cdf,_0x117cc4){return _0x2c4cdf(_0x117cc4);},'AhqdA':function(_0x5acbbe){return _0x5acbbe();},'HkJni':_0x3fb1cf(0x1cd),'mzkZz':function(_0x365738){return _0x365738();},'lcKUp':function(_0x3bfa20,_0x1d0c75){return _0x3bfa20(_0x1d0c75);},'CiHVp':_0x3fb1cf(0x195),'YFLJJ':function(_0xa9ef3a,_0xd79edd){return _0xa9ef3a!==_0xd79edd;},'dZHnw':'Zwjjj','wWYTQ':'Ljpcr','pwTSV':_0x3fb1cf(0x1ab),'nFyCd':_0x3fb1cf(0x10e),'pMFok':_0x3fb1cf(0x187),'lYZKn':function(_0x31c624,_0x136ce8){return _0x31c624(_0x136ce8);},'TXcGi':function(_0x1b03fe,_0x65e8a0){return _0x1b03fe(_0x65e8a0);},'xOxrv':_0x3fb1cf(0x1f4),'tAZxT':_0x3fb1cf(0x161),'cENnx':function(_0xa714a5,_0x5547d9){return _0xa714a5(_0x5547d9);},'rUiIB':function(_0x33087a,_0x3f3c6d){return _0x33087a(_0x3f3c6d);},'BPBle':_0x3fb1cf(0x1b4),'fPUwj':_0x3fb1cf(0x107),'EucQx':function(_0x3694f7,_0x252e1e){return _0x3694f7(_0x252e1e);},'IoWvW':'host','eQtOP':function(_0xfc6720,_0x1be020){return _0xfc6720(_0x1be020);},'OVmxk':'my-test-origin.com','xZcKg':function(_0x192aec){return _0x192aec();},'cTyHZ':function(_0xd63db2,_0x38992c){return _0xd63db2===_0x38992c;},'qQsnK':function(_0x438a7e,_0x481223){return _0x438a7e(_0x481223);},'SKYxj':_0x3fb1cf(0x1a2),'jVGMC':function(_0x11ad93,_0x53ea47){return _0x11ad93(_0x53ea47);},'CbuRx':function(_0x287fa6,_0x1ba354){return _0x287fa6(_0x1ba354);},'QEQGM':function(_0x45d791,_0x3438dc){return _0x45d791!==_0x3438dc;},'nDwSJ':_0x3fb1cf(0x209),'rOsPM':function(_0x2c7ac6,_0x584b79){return _0x2c7ac6(_0x584b79);},'dCtAv':_0x3fb1cf(0x131),'QEOlN':_0x3fb1cf(0x10c),'gtALV':_0x3fb1cf(0x151),'RyeaY':function(_0x566d4f,_0x3d64c9){return _0x566d4f===_0x3d64c9;},'ARgSg':_0x3fb1cf(0x1ec),'IZqZm':_0x3fb1cf(0xdc),'gpIvE':function(_0x1b9e97,_0x370dc9){return _0x1b9e97(_0x370dc9);},'ZOdCx':function(_0x53bb4d,_0x4391f6){return _0x53bb4d(_0x4391f6);},'CtIDN':'unknown','CbYut':function(_0x590015){return _0x590015();},'ePDSt':_0x3fb1cf(0x15f),'rREHq':'LqPFQ','fFvJW':_0x3fb1cf(0x126),'QpNSO':function(_0x2f675a,_0x5212c8){return _0x2f675a(_0x5212c8);},'jpzET':'test.host','FXuHl':function(_0x4f3de1,_0x1a6573){return _0x4f3de1(_0x1a6573);},'LPVLY':function(_0x3991e2,_0x12213d){return _0x3991e2===_0x12213d;},'HcnqV':_0x3fb1cf(0x17f),'lCBRc':_0x3fb1cf(0x1fc),'xgJVi':_0x3fb1cf(0x148),'nPquM':'OmpCs','ijKQg':_0x3fb1cf(0x14b),'QwtHt':function(_0x7b3ba,_0x58ed02){return _0x7b3ba(_0x58ed02);},'CGzBt':_0x3fb1cf(0x12b),'ILhNV':'www.example.com','idorU':_0x3fb1cf(0x16b),'ivGFK':_0x3fb1cf(0x1ca),'JGKTu':function(_0x3bf16c,_0x2d69b9){return _0x3bf16c(_0x2d69b9);},'Jlpvw':function(_0x2e747a,_0x33b4c9){return _0x2e747a(_0x33b4c9);},'VAouY':function(_0x416ec4){return _0x416ec4();},'nmUGe':function(_0x54dbb0,_0x5c1fca){return _0x54dbb0(_0x5c1fca);},'UMvHe':function(_0x4b5ee5,_0x52ba32){return _0x4b5ee5(_0x52ba32);},'icPZN':function(_0x2ac49b,_0x414cb4,_0x38b193){return _0x2ac49b(_0x414cb4,_0x38b193);},'grySE':'should\x20always\x20allow\x20`localhost`\x20if\x20options.allowedHosts\x20is\x20auto','izVKM':function(_0x4f3e74,_0x48a389,_0x46d011){return _0x4f3e74(_0x48a389,_0x46d011);},'laWbN':function(_0x29a473,_0x4691f7,_0x413b7f){return _0x29a473(_0x4691f7,_0x413b7f);},'knIGM':function(_0x4bf91e,_0x2875e5,_0xe89e0b){return _0x4bf91e(_0x2875e5,_0xe89e0b);},'RPpab':'should\x20allow\x20hosts\x20in\x20allowedHosts','gZSGi':function(_0x5a40ca,_0xa6c82e,_0x513c9b){return _0x5a40ca(_0xa6c82e,_0x513c9b);},'NQvMD':'should\x20allow\x20hosts\x20that\x20pass\x20a\x20wildcard\x20in\x20allowedHosts','LeSqU':function(_0x21d47e,_0x1c98ee,_0x4531d8){return _0x21d47e(_0x1c98ee,_0x4531d8);},'snAsL':function(_0x22e4be,_0x1bbd98,_0x825a31){return _0x22e4be(_0x1bbd98,_0x825a31);},'FtLmh':function(_0x130f9d,_0x28aabf,_0x190581){return _0x130f9d(_0x28aabf,_0x190581);},'nIDyo':function(_0x3eccd1,_0x5ea2fd,_0x16e00d){return _0x3eccd1(_0x5ea2fd,_0x16e00d);},'TdJpM':_0x3fb1cf(0x18d)};for(const _0x3f6b6e of webSocketServers){it(_0x3fb1cf(0x174)+_0x3f6b6e+'\x22)',async()=>{const _0x55b5ea=_0x3fb1cf,_0x1bb220={'VbJDV':_0x55b5ea(0x1d5),'AsHaL':_0x55b5ea(0x191),'qHuxQ':'UrkNB','dPhAZ':function(_0x39b4ef,_0x26a31d){return _0x39b4ef(_0x26a31d);},'gQyat':_0x1e0032['xKGWd'],'cryQB':function(_0x2cb892,_0xfed36){return _0x1e0032['olxwc'](_0x2cb892,_0xfed36);},'YXgFg':function(_0x54a561,_0x462ad9){const _0x5e62d7=_0x55b5ea;return _0x1e0032[_0x5e62d7(0x1cf)](_0x54a561,_0x462ad9);},'bcSPl':function(_0x4b07c8,_0x34018e){return _0x4b07c8(_0x34018e);}},_0xd5fe00=_0x55b5ea(0x114),_0x29f0bb=port1,_0x394546=_0xd5fe00,_0x3eac1a=port2,_0x9e4f4b=webpack(config),_0x180b16={'client':{'webSocketURL':{'port':port2}},'webSocketServer':_0x3f6b6e,'port':_0x29f0bb,'host':_0xd5fe00,'allowedHosts':_0x55b5ea(0x10a)},_0x24c4b2=new Server(_0x180b16,_0x9e4f4b);await _0x24c4b2['start']();function _0x591972(_0xa1a352){const _0x1de57e=_0x55b5ea;if(_0x1bb220[_0x1de57e(0x1ce)]===_0x1de57e(0xf5)){const _0x3daf7b=express();return _0x3daf7b[_0x1de57e(0x1c1)]('/',_0x1bb220[_0x1de57e(0xfb)](createProxyMiddleware,{'onProxyReqWs':_0x4cb9a4=>{const _0x24efbb=_0x1de57e;_0x4cb9a4['setHeader'](_0x1bb220[_0x24efbb(0x177)],_0x1bb220['AsHaL']);},'target':_0x1de57e(0x1ff)+_0xd5fe00+':'+_0x29f0bb,'ws':!![],'changeOrigin':!![],'logLevel':_0x1bb220[_0x1de57e(0x127)]})),_0x3daf7b[_0x1de57e(0x1e9)](_0x3eac1a,_0x394546,_0xa1a352);}else throw new _0x1de6c7(_0x1de57e(0x126));}const _0x811531=await new Promise(_0x43621d=>{const _0x42cec1={'FMIhi':function(_0x40f1cd,_0x12fe96){const _0x303c21=_0x4ec0;return _0x1bb220[_0x303c21(0x15a)](_0x40f1cd,_0x12fe96);},'nNUwp':function(_0x326b5e,_0x51a6df){const _0x3e082f=_0x4ec0;return _0x1bb220[_0x3e082f(0xfb)](_0x326b5e,_0x51a6df);}},_0x577888=_0x1bb220['YXgFg'](_0x591972,()=>{const _0x2ad13f=_0x4ec0;_0x42cec1[_0x2ad13f(0xe2)](_0x2ad13f(0x208),_0x2ad13f(0x1bf))?_0x42cec1[_0x2ad13f(0x1b7)](_0x43621d,_0x577888):_0x331e0f['push'](_0x2070d9);});}),{page:_0x34f8c1,browser:_0x332d97}=await _0x1e0032[_0x55b5ea(0x105)](runBrowser);try{const _0x3b516a=[],_0x2a0904=[];_0x34f8c1['on'](_0x55b5ea(0x15c),_0x82cbb6=>{const _0x630784=_0x55b5ea;_0x2a0904[_0x630784(0x1ed)](_0x82cbb6);})['on'](_0x1e0032[_0x55b5ea(0x1a3)],_0xd6f018=>{const _0x266e82=_0x55b5ea;_0x3b516a[_0x266e82(0x1ed)](_0xd6f018);}),await _0x34f8c1[_0x55b5ea(0xf3)](_0x55b5ea(0x1ff)+_0x394546+':'+_0x3eac1a+'/',{'waitUntil':_0x55b5ea(0x100)}),expect(_0x2a0904[_0x55b5ea(0x1d7)](_0x1604ee=>_0x1604ee['text']()))[_0x55b5ea(0x1a6)](_0x1e0032[_0x55b5ea(0xff)]),_0x1e0032[_0x55b5ea(0x1cf)](expect,_0x3b516a)['toMatchSnapshot'](_0x55b5ea(0x14f));}catch(_0x25c6a8){if(_0x1e0032['tBMtE'](_0x1e0032[_0x55b5ea(0x150)],_0x55b5ea(0x181))){const _0x4a1950=_0x1bb220[_0x55b5ea(0x110)](_0x38277e,()=>{const _0x523f88=_0x55b5ea;_0x1bb220[_0x523f88(0x1c9)](_0x346004,_0x4a1950);});}else throw _0x25c6a8;}finally{_0x811531[_0x55b5ea(0xe0)](),await _0x332d97['close'](),await _0x24c4b2['stop']();}}),_0x1e0032[_0x3fb1cf(0x1f2)](it,_0x3fb1cf(0x201)+_0x3f6b6e+'\x22)',async()=>{const _0x48bb76=_0x3fb1cf,_0x1ee915={'ANjcc':function(_0x3b84d4){const _0x22c139=_0x4ec0;return _0x1e0032[_0x22c139(0xe8)](_0x3b84d4);},'beoYg':function(_0x20de47,_0x1fc2cb){const _0x18cb67=_0x4ec0;return _0x1e0032[_0x18cb67(0x1cf)](_0x20de47,_0x1fc2cb);}},_0x53f4fb='127.0.0.1',_0x58d0ea=port1,_0x410b62=_0x53f4fb,_0x382471=port2,_0x1e92c8=webpack(config),_0x4e1f01={'client':{'webSocketURL':{'port':port2,'protocol':'ws'}},'webSocketServer':_0x3f6b6e,'port':_0x58d0ea,'host':_0x53f4fb,'allowedHosts':_0x1e0032[_0x48bb76(0xec)],'server':'https'},_0x4675c0=new Server(_0x4e1f01,_0x1e92c8);await _0x4675c0[_0x48bb76(0xf0)]();function _0x13082a(_0x3b7fbc){const _0x4b1cee=_0x48bb76,_0x21d512={'BuEkN':_0x4b1cee(0x1d5)},_0x2bc4bd=_0x1ee915[_0x4b1cee(0xe9)](express);return _0x2bc4bd['use']('/',createProxyMiddleware({'onProxyReqWs':_0x3e5216=>{const _0x1db370=_0x4b1cee;_0x3e5216[_0x1db370(0x176)](_0x21d512[_0x1db370(0x130)],_0x1db370(0x191));},'target':_0x4b1cee(0x1a9)+_0x53f4fb+':'+_0x58d0ea,'secure':![],'ws':!![],'changeOrigin':!![],'logLevel':_0x4b1cee(0xf8)})),_0x2bc4bd[_0x4b1cee(0x1e9)](_0x382471,_0x410b62,_0x3b7fbc);}const _0x427881=await new Promise(_0x948b3c=>{const _0x4a587e=_0x13082a(()=>{const _0x196f7e=_0x4ec0;_0x1ee915[_0x196f7e(0x183)](_0x948b3c,_0x4a587e);});}),{page:_0x30dcfe,browser:_0x2d195b}=await runBrowser();try{const _0x17a474=[],_0xf450c3=[];_0x30dcfe['on'](_0x1e0032[_0x48bb76(0x149)],_0x1f061a=>{const _0x3765e4=_0x48bb76;_0xf450c3[_0x3765e4(0x1ed)](_0x1f061a);})['on']('pageerror',_0x129439=>{const _0x5b6a09=_0x48bb76;_0x17a474[_0x5b6a09(0x1ed)](_0x129439);}),await _0x30dcfe[_0x48bb76(0xf3)](_0x48bb76(0x1ff)+_0x410b62+':'+_0x382471+'/',{'waitUntil':_0x1e0032[_0x48bb76(0x1e6)]}),expect(_0xf450c3[_0x48bb76(0x1d7)](_0x313c77=>_0x313c77[_0x48bb76(0x143)]()))[_0x48bb76(0x1a6)](_0x1e0032['kjAIP']),_0x1e0032['KkxVX'](expect,_0x17a474)[_0x48bb76(0x1a6)](_0x48bb76(0x14f));}catch(_0xe7196d){throw _0xe7196d;}finally{_0x427881[_0x48bb76(0xe0)](),await _0x2d195b[_0x48bb76(0xe0)](),await _0x4675c0[_0x48bb76(0x13f)]();}}),_0x1e0032[_0x3fb1cf(0x155)](it,_0x3fb1cf(0x1a7)+_0x3f6b6e+'\x22)',async()=>{const _0x472165=_0x3fb1cf,_0x13c218={'CBoro':'origin','nDbmt':'http://my-test-origin.com/'},_0x5871dc=_0x1e0032[_0x472165(0x158)],_0x47159f=port1,_0x5f017d=_0x5871dc,_0x2d3d=port2,_0x271142=_0x1e0032[_0x472165(0x1cf)](webpack,config),_0x41ad78={'client':{'webSocketURL':{'port':port2}},'webSocketServer':_0x3f6b6e,'port':_0x47159f,'host':_0x5871dc,'allowedHosts':_0x1e0032['mzMlU']},_0x394aba=new Server(_0x41ad78,_0x271142);await _0x394aba[_0x472165(0xf0)]();function _0x3600f3(_0x199dd1){const _0x5e128c=_0x472165,_0x373fc7=express();return _0x373fc7[_0x5e128c(0x1c1)]('/',createProxyMiddleware({'onProxyReqWs':_0x4dda8f=>{const _0x21e2cc=_0x5e128c;_0x4dda8f[_0x21e2cc(0x176)](_0x13c218[_0x21e2cc(0x13a)],_0x13c218[_0x21e2cc(0x1fe)]);},'target':_0x5e128c(0x1ff)+_0x5871dc+':'+_0x47159f,'ws':!![],'changeOrigin':!![],'logLevel':_0x1e0032[_0x5e128c(0x15d)]})),_0x373fc7['listen'](_0x2d3d,_0x5f017d,_0x199dd1);}const _0x1dcdd6=await new Promise(_0x2fa441=>{const _0xfd22c8={'jAphO':function(_0x2e2030,_0x111457){return _0x2e2030(_0x111457);}},_0x393e1f=_0x3600f3(()=>{const _0x4dbb37=_0x4ec0;_0xfd22c8[_0x4dbb37(0x154)](_0x2fa441,_0x393e1f);});}),{page:_0x1b0a1b,browser:_0x120491}=await _0x1e0032[_0x472165(0xe6)](runBrowser);try{if(_0x1e0032['tBMtE'](_0x472165(0x1f8),_0x472165(0x16a)))_0x228b6c['setHeader'](_0x472165(0x1cd),_0x1e0032[_0x472165(0x14d)]);else{const _0x4a6401=[],_0xa00e53=[];_0x1b0a1b['on'](_0x1e0032['qXBYE'],_0x25bd60=>{const _0xd35fab=_0x472165;_0xa00e53[_0xd35fab(0x1ed)](_0x25bd60);})['on'](_0x1e0032[_0x472165(0x1a3)],_0xd5873=>{const _0x497cad=_0x472165;_0x4a6401[_0x497cad(0x1ed)](_0xd5873);}),await _0x1b0a1b[_0x472165(0xf3)](_0x472165(0x1ff)+_0x5f017d+':'+_0x2d3d+'/',{'waitUntil':_0x1e0032[_0x472165(0x1e6)]}),expect(_0xa00e53[_0x472165(0x1d7)](_0x837cfc=>_0x837cfc[_0x472165(0x143)]()))[_0x472165(0x1a6)](_0x472165(0x205)),_0x1e0032[_0x472165(0x189)](expect,_0x4a6401)[_0x472165(0x1a6)](_0x1e0032[_0x472165(0x1b5)]);}}catch(_0x4bf802){throw _0x4bf802;}finally{_0x1dcdd6[_0x472165(0xe0)](),await _0x120491[_0x472165(0xe0)](),await _0x394aba[_0x472165(0x13f)]();}}),it(_0x3fb1cf(0x1dd)+_0x3f6b6e+'\x22)',async()=>{const _0x3ab615=_0x3fb1cf,_0x26d22f={'dXQCd':function(_0x37e229,_0x169ddf){return _0x37e229(_0x169ddf);}},_0x1b861f=_0x1e0032['XZNpX'],_0x3a70e0=port1,_0x2c28ba=_0x1b861f,_0x10bb7f=port2,_0x2eddc7=webpack(config),_0x3bb8a1={'client':{'webSocketURL':{'port':port2}},'webSocketServer':_0x3f6b6e,'port':_0x3a70e0,'host':_0x1b861f,'allowedHosts':'auto'},_0x226679=new Server(_0x3bb8a1,_0x2eddc7);await _0x226679[_0x3ab615(0xf0)]();function _0x26058a(_0x4c08c4){const _0x111b81=_0x3ab615;if(_0x111b81(0x156)===_0x1e0032['HHvxt']){const _0x11e132=express();return _0x11e132[_0x111b81(0x1c1)]('/',_0x1e0032[_0x111b81(0x189)](createProxyMiddleware,{'target':_0x111b81(0x1ff)+_0x1b861f+':'+_0x3a70e0,'ws':!![],'changeOrigin':!![],'logLevel':_0x1e0032[_0x111b81(0x15d)]})),_0x11e132[_0x111b81(0x1e9)](_0x10bb7f,_0x2c28ba,_0x4c08c4);}else{const _0x4aeac5={'gBCAy':_0x111b81(0x1cd)},_0x5e337b=_0x68a78e();return _0x5e337b[_0x111b81(0x1c1)]('/',_0x26d22f[_0x111b81(0x1bc)](_0x328c13,{'onProxyReqWs':_0x30e41f=>{const _0x197067=_0x111b81;_0x30e41f['setHeader'](_0x4aeac5['gBCAy'],_0x197067(0x193));},'target':_0x111b81(0x1ff)+_0x429bbc+':'+_0x5211ee,'ws':!![],'changeOrigin':!![],'logLevel':'warn'})),_0x5e337b[_0x111b81(0x1e9)](_0x392625,_0x5a67cc,_0x4629bd);}}const _0xe8cde3=await new Promise(_0x2447ce=>{const _0x21697b={'hgeHB':function(_0x32d0c8,_0x22a0b1){return _0x32d0c8===_0x22a0b1;},'zkMOC':function(_0x50579a,_0x740161){const _0x32bafd=_0x4ec0;return _0x1e0032[_0x32bafd(0x1cf)](_0x50579a,_0x740161);}},_0x27d8b6=_0x26058a(()=>{const _0x282d8e=_0x4ec0;_0x21697b[_0x282d8e(0x186)](_0x282d8e(0x164),'WqNMt')?_0x58b711(_0x575eb0):_0x21697b['zkMOC'](_0x2447ce,_0x27d8b6);});}),{page:_0x21c056,browser:_0x606527}=await runBrowser();try{if(_0x3ab615(0x111)===_0x1e0032[_0x3ab615(0x1dc)]){const _0x25293e=[],_0x357071=[];_0x21c056['on'](_0x3ab615(0x15c),_0x1937e3=>{const _0x301a37=_0x3ab615;_0x357071[_0x301a37(0x1ed)](_0x1937e3);})['on']('pageerror',_0x305a8a=>{_0x25293e['push'](_0x305a8a);}),await _0x21c056[_0x3ab615(0xf3)](_0x3ab615(0x1ff)+_0x2c28ba+':'+_0x10bb7f+'/',{'waitUntil':'networkidle0'}),_0x1e0032['VEZta'](expect,_0x357071['map'](_0x30a8eb=>_0x30a8eb[_0x3ab615(0x143)]()))[_0x3ab615(0x1a6)](_0x1e0032[_0x3ab615(0xff)]),expect(_0x25293e)[_0x3ab615(0x1a6)](_0x1e0032[_0x3ab615(0x1b5)]);}else _0x2ca487(_0x4ce429);}catch(_0x3526f4){throw _0x3526f4;}finally{_0xe8cde3['close'](),await _0x606527[_0x3ab615(0xe0)](),await _0x226679['stop']();}}),it(_0x3fb1cf(0x1fb)+_0x3f6b6e+'\x22)',async()=>{const _0x3efbad=_0x3fb1cf,_0x173f16={'xiEeo':_0x1e0032[_0x3efbad(0x1da)],'HpmRj':_0x1e0032[_0x3efbad(0x206)]},_0x36eff6=_0x1e0032['RSKEC'],_0x13113f=port1,_0x4b3a0c=_0x36eff6,_0x4b6178=port2,_0x56aff6=webpack(config),_0x29e826={'client':{'webSocketURL':{'port':port2}},'webSocketServer':_0x3f6b6e,'port':_0x13113f,'host':_0x36eff6,'allowedHosts':_0x3efbad(0x10a)},_0x7da28f=new Server(_0x29e826,_0x56aff6);await _0x7da28f[_0x3efbad(0xf0)]();function _0x5df59b(_0x5470ab){const _0x543f02=_0x3efbad,_0x5baf63=express();return _0x5baf63[_0x543f02(0x1c1)]('/',_0x1e0032[_0x543f02(0x1e0)](createProxyMiddleware,{'target':'http://'+_0x36eff6+':'+_0x13113f,'ws':!![],'changeOrigin':!![],'logLevel':_0x543f02(0xf8)})),_0x5baf63[_0x543f02(0x1e9)](_0x4b6178,_0x4b3a0c,_0x5470ab);}const _0x4f22b5=await new Promise(_0x40925a=>{const _0x26688e=_0x3efbad,_0x4b5370={'HxZLa':_0x173f16['xiEeo'],'kVxax':_0x26688e(0xf4)};if('DoGlo'===_0x173f16['HpmRj'])_0xdbbf96[_0x26688e(0x1ed)](_0x18fa6f);else{const _0x1f0071=_0x5df59b(()=>{const _0x2c392b=_0x26688e;_0x4b5370[_0x2c392b(0x145)]===_0x4b5370[_0x2c392b(0x145)]?_0x40925a(_0x1f0071):_0x42f08f[_0x2c392b(0x176)](_0x2c392b(0x1cd),_0x4b5370['HxZLa']);});}}),{page:_0x1284ef,browser:_0x4af1cc}=await _0x1e0032[_0x3efbad(0x105)](runBrowser);try{const _0x6d225b=[],_0x40c346=[];_0x1284ef['on'](_0x1e0032[_0x3efbad(0x149)],_0x2f7522=>{const _0x223a9a=_0x3efbad;_0x40c346[_0x223a9a(0x1ed)](_0x2f7522);})['on'](_0x1e0032['CeLDu'],_0x292d0b=>{const _0x5c332c=_0x3efbad;if(_0x1e0032[_0x5c332c(0x1a8)]('iMWny',_0x5c332c(0x122))){const _0x143559={'lixoo':function(_0x42a53e,_0x4558e6){return _0x42a53e(_0x4558e6);}},_0x23f9ff=_0x3a5628(()=>{const _0x30365d=_0x5c332c;_0x143559[_0x30365d(0x1c4)](_0x45f7d7,_0x23f9ff);});}else _0x6d225b['push'](_0x292d0b);}),await _0x1284ef[_0x3efbad(0xf3)](_0x3efbad(0x1ff)+_0x4b3a0c+':'+_0x4b6178+'/',{'waitUntil':'networkidle0'}),expect(_0x40c346['map'](_0x1fb118=>_0x1fb118['text']()))[_0x3efbad(0x1a6)]('console\x20messages'),expect(_0x6d225b)[_0x3efbad(0x1a6)](_0x3efbad(0x14f));}catch(_0x3aa11f){throw _0x3aa11f;}finally{_0x4f22b5[_0x3efbad(0xe0)](),await _0x4af1cc[_0x3efbad(0xe0)](),await _0x7da28f[_0x3efbad(0x13f)]();}}),_0x1e0032[_0x3fb1cf(0x18b)](it,_0x3fb1cf(0x10d)+_0x3f6b6e+'\x22)',async()=>{const _0x236f4d=_0x3fb1cf,_0x1b320a={'DTeeV':function(_0x437c98,_0x3be793){return _0x437c98(_0x3be793);}},_0x471e06=_0x1e0032[_0x236f4d(0x171)],_0xcdd96e=port1,_0x47dcb0=_0x471e06,_0x4ffe5f=port2,_0x151ee6=webpack(config),_0x2b23d7={'client':{'webSocketURL':{'port':port2}},'webSocketServer':_0x3f6b6e,'port':_0xcdd96e,'host':_0x471e06,'allowedHosts':_0x236f4d(0x10a)},_0x7421c6=new Server(_0x2b23d7,_0x151ee6);await _0x7421c6[_0x236f4d(0xf0)]();function _0x4688dc(_0x4d3e46){const _0x4d0ae5=_0x236f4d,_0xe8c5ae=express();return _0xe8c5ae[_0x4d0ae5(0x1c1)]('/',createProxyMiddleware({'target':_0x4d0ae5(0x11c)+_0x471e06+']:'+_0xcdd96e,'ws':!![],'changeOrigin':!![],'logLevel':_0x4d0ae5(0xf8)})),_0xe8c5ae[_0x4d0ae5(0x1e9)](_0x4ffe5f,_0x47dcb0,_0x4d3e46);}const _0x8d130=await new Promise(_0x5331c9=>{const _0xf3de18=_0x4688dc(()=>{const _0x40eb92=_0x4ec0;_0x1b320a[_0x40eb92(0x1bd)](_0x5331c9,_0xf3de18);});}),{page:_0x2c5f7a,browser:_0x1be296}=await runBrowser();try{if(_0x1e0032[_0x236f4d(0x13e)](_0x1e0032[_0x236f4d(0x19b)],_0x1e0032['KjQte']))throw new _0x3e0c41(_0x236f4d(0x126));else{const _0x5a3767=[],_0x5403c2=[];_0x2c5f7a['on'](_0x1e0032[_0x236f4d(0x149)],_0x1fc79b=>{const _0x4ef5da=_0x236f4d;_0x5403c2[_0x4ef5da(0x1ed)](_0x1fc79b);})['on'](_0x236f4d(0xe7),_0x575252=>{const _0x2e7c50=_0x236f4d;_0x5a3767[_0x2e7c50(0x1ed)](_0x575252);}),await _0x2c5f7a[_0x236f4d(0xf3)](_0x236f4d(0x11c)+_0x47dcb0+']:'+_0x4ffe5f+'/',{'waitUntil':_0x1e0032['ZMzwD']}),_0x1e0032['keIPK'](expect,_0x5403c2[_0x236f4d(0x1d7)](_0x41fb44=>_0x41fb44[_0x236f4d(0x143)]()))[_0x236f4d(0x1a6)](_0x236f4d(0x205)),expect(_0x5a3767)['toMatchSnapshot']('page\x20errors');}}catch(_0x147ae2){throw _0x147ae2;}finally{_0x8d130[_0x236f4d(0xe0)](),await _0x1be296[_0x236f4d(0xe0)](),await _0x7421c6[_0x236f4d(0x13f)]();}}),it('should\x20connect\x20web\x20socket\x20client\x20using\x20\x22file:\x22\x20protocol\x20to\x20web\x20socket\x20server\x20with\x20the\x20\x22auto\x22\x20value\x20(\x22'+_0x3f6b6e+'\x22)',async()=>{const _0x57499c=_0x3fb1cf,_0x39459a={'WLTUQ':_0x57499c(0x1c5),'cZILd':function(_0x3693ea){const _0x7ecc86=_0x57499c;return _0x1e0032[_0x7ecc86(0xe8)](_0x3693ea);},'rAdvR':_0x57499c(0xf8),'pPUrq':function(_0xcafe0,_0x506a78){return _0xcafe0(_0x506a78);}},_0xa45823=_0x57499c(0x114),_0x2e260e=port1,_0x511b5d=_0xa45823,_0x458bd1=port2,_0x205a6f=_0x1e0032[_0x57499c(0x197)](webpack,config),_0x327d2b={'client':{'webSocketURL':{'port':port2}},'webSocketServer':_0x3f6b6e,'port':_0x2e260e,'host':_0xa45823,'allowedHosts':'auto'},_0x2ff700=new Server(_0x327d2b,_0x205a6f);await _0x2ff700['start']();function _0xe8e6b7(_0x1bea92){const _0x4468a1=_0x57499c,_0x31927d=_0x39459a[_0x4468a1(0x1c6)](express);return _0x31927d[_0x4468a1(0x1c1)]('/',createProxyMiddleware({'target':_0x4468a1(0x1ff)+_0xa45823+':'+_0x2e260e,'onProxyReqWs':_0x222012=>{const _0x3155f0=_0x4468a1;_0x222012[_0x3155f0(0x176)](_0x3155f0(0x1cd),_0x39459a[_0x3155f0(0x115)]);},'ws':!![],'changeOrigin':!![],'logLevel':_0x39459a[_0x4468a1(0x1a0)]})),_0x31927d['listen'](_0x458bd1,_0x511b5d,_0x1bea92);}const _0x23de7b=await new Promise(_0x1fcb63=>{const _0x335e86=_0x57499c,_0x33ecfa={'lTbVr':function(_0xd65d65,_0x239d65){return _0xd65d65(_0x239d65);}},_0x367a9c=_0x39459a[_0x335e86(0x159)](_0xe8e6b7,()=>{const _0x58e98e=_0x335e86;_0x33ecfa[_0x58e98e(0x1c2)](_0x1fcb63,_0x367a9c);});}),{page:_0x4af1c9,browser:_0x2112b9}=await _0x1e0032[_0x57499c(0xea)](runBrowser);try{const _0x4dadc4=[],_0x549dfe=[];_0x4af1c9['on'](_0x1e0032[_0x57499c(0x149)],_0x46ac7a=>{const _0x488039=_0x57499c;_0x549dfe[_0x488039(0x1ed)](_0x46ac7a);})['on']('pageerror',_0x49f3e6=>{const _0x7093b2=_0x57499c;_0x4dadc4[_0x7093b2(0x1ed)](_0x49f3e6);}),await _0x4af1c9['goto']('http://'+_0x511b5d+':'+_0x458bd1+'/',{'waitUntil':_0x57499c(0x100)}),expect(_0x549dfe[_0x57499c(0x1d7)](_0x15f888=>_0x15f888[_0x57499c(0x143)]()))['toMatchSnapshot'](_0x1e0032[_0x57499c(0xff)]),expect(_0x4dadc4)[_0x57499c(0x1a6)]('page\x20errors');}catch(_0x22c0e9){if(_0x1e0032[_0x57499c(0x13e)](_0x57499c(0xfd),_0x57499c(0x139)))throw _0x22c0e9;else{const _0x511d39=_0x5cf330();return _0x511d39[_0x57499c(0x1c1)]('/',_0x1e0032[_0x57499c(0x146)](_0x5d97af,{'onProxyReqWs':_0x3b7b11=>{const _0x40921f=_0x57499c;_0x3b7b11[_0x40921f(0x176)]('origin','http://my-test-origin.com/');},'target':_0x57499c(0x1ff)+_0x411bc6+':'+_0x97c899,'ws':!![],'changeOrigin':!![],'logLevel':_0x1e0032[_0x57499c(0x15d)]})),_0x511d39[_0x57499c(0x1e9)](_0x42997e,_0x3d65c2,_0x382043);}}finally{_0x23de7b[_0x57499c(0xe0)](),await _0x2112b9[_0x57499c(0xe0)](),await _0x2ff700[_0x57499c(0x13f)]();}}),_0x1e0032['laWbN'](it,_0x3fb1cf(0x1c3)+_0x3f6b6e+'\x22)',async()=>{const _0x5a4c23=_0x3fb1cf,_0x115f0a='127.0.0.1',_0x5476f9=port1,_0x4fd8da=_0x115f0a,_0x29a965=port2,_0x4f5bf8=webpack(config),_0x1dff7a={'client':{'webSocketURL':{'port':port2}},'webSocketServer':_0x3f6b6e,'port':_0x5476f9,'host':_0x115f0a,'allowedHosts':_0x1e0032['mzMlU']},_0xd1fbfa=new Server(_0x1dff7a,_0x4f5bf8);await _0xd1fbfa['start']();function _0x566a80(_0x15f76c){const _0x18f6b4=_0x4ec0,_0x45a61e={'byBTY':_0x1e0032['HkJni']},_0x118624=_0x1e0032[_0x18f6b4(0x1db)](express);return _0x118624[_0x18f6b4(0x1c1)]('/',_0x1e0032[_0x18f6b4(0x11b)](createProxyMiddleware,{'target':_0x18f6b4(0x1ff)+_0x115f0a+':'+_0x5476f9,'onProxyReqWs':_0x19d0a5=>{const _0x4e596d=_0x18f6b4;_0x19d0a5['setHeader'](_0x45a61e[_0x4e596d(0xf6)],'chrome-extension:///abcdef');},'ws':!![],'changeOrigin':!![],'logLevel':_0x1e0032['xKGWd']})),_0x118624[_0x18f6b4(0x1e9)](_0x29a965,_0x4fd8da,_0x15f76c);}const _0x27786e=await new Promise(_0x452e76=>{const _0x161f2d=_0x4ec0;if(_0x161f2d(0x135)===_0x1e0032['CiHVp']){const _0x41cb9e=_0x217aba();return _0x41cb9e[_0x161f2d(0x1c1)]('/',_0x109bef({'onProxyReqWs':_0xc4aa91=>{const _0x18a28a=_0x161f2d;_0xc4aa91['setHeader'](_0x18a28a(0x1cd),_0x18a28a(0x193));},'target':_0x161f2d(0x1ff)+_0x54321d+':'+_0x2ea5b3,'ws':!![],'changeOrigin':!![],'logLevel':'warn'})),_0x41cb9e['listen'](_0x47d310,_0x37abc8,_0x18ce33);}else{const _0x4c5ee7=_0x1e0032[_0x161f2d(0x146)](_0x566a80,()=>{_0x452e76(_0x4c5ee7);});}}),{page:_0x55888d,browser:_0x4740e9}=await runBrowser();try{const _0x4231d2=[],_0x3ef587=[];_0x55888d['on'](_0x1e0032['qXBYE'],_0x2eb4e4=>{const _0x473577=_0x4ec0;_0x1e0032[_0x473577(0x1d3)](_0x1e0032[_0x473577(0xf1)],_0x1e0032['wWYTQ'])?_0x3ef587[_0x473577(0x1ed)](_0x2eb4e4):_0x62156f['push'](_0x3ddc35);})['on'](_0x1e0032[_0x5a4c23(0x1a3)],_0x56cfaa=>{_0x4231d2['push'](_0x56cfaa);}),await _0x55888d[_0x5a4c23(0xf3)](_0x5a4c23(0x1ff)+_0x4fd8da+':'+_0x29a965+'/',{'waitUntil':_0x1e0032[_0x5a4c23(0x1e6)]}),expect(_0x3ef587[_0x5a4c23(0x1d7)](_0x4a5c4c=>_0x4a5c4c[_0x5a4c23(0x143)]()))['toMatchSnapshot'](_0x5a4c23(0x205)),expect(_0x4231d2)[_0x5a4c23(0x1a6)](_0x5a4c23(0x14f));}catch(_0x2a2ebb){throw _0x2a2ebb;}finally{_0x27786e[_0x5a4c23(0xe0)](),await _0x4740e9[_0x5a4c23(0xe0)](),await _0xd1fbfa[_0x5a4c23(0x13f)]();}}),_0x1e0032['snAsL'](it,_0x3fb1cf(0x10b)+_0x3f6b6e+'\x22)',async()=>{const _0x445fb1=_0x3fb1cf,_0x35a8b0={'wddzx':function(_0x1af310,_0x1ca7f3){return _0x1af310(_0x1ca7f3);},'WKBlB':_0x445fb1(0x1cd),'ShUNJ':_0x1e0032[_0x445fb1(0x1da)],'YOLzK':_0x1e0032[_0x445fb1(0x15d)],'inuER':function(_0x37010f,_0x148b5){return _0x37010f(_0x148b5);},'dmwUC':'IAWVG'};if(_0x1e0032[_0x445fb1(0x17b)]===_0x1e0032[_0x445fb1(0x180)]){const _0x342a60=_0x1273fd(()=>{_0x35a8b0['wddzx'](_0x1025ca,_0x342a60);});}else{const _0x2584a9=_0x1e0032[_0x445fb1(0x158)],_0x358cc3=port1,_0x41cec5=_0x2584a9,_0x25a140=port2,_0x51a65c=_0x1e0032[_0x445fb1(0x11b)](webpack,config),_0xfeff62={'client':{'webSocketURL':{'port':port2}},'webSocketServer':_0x3f6b6e,'port':_0x358cc3,'host':_0x2584a9,'allowedHosts':_0x1e0032[_0x445fb1(0x12f)]},_0xa466ee=new Server(_0xfeff62,_0x51a65c);await _0xa466ee[_0x445fb1(0xf0)]();function _0x3b7ddf(_0x45758b){const _0x296853=_0x445fb1,_0x230c9b=express();return _0x230c9b[_0x296853(0x1c1)]('/',createProxyMiddleware({'onProxyReqWs':_0x587e44=>{const _0x3349c8=_0x296853;_0x587e44[_0x3349c8(0x176)](_0x35a8b0[_0x3349c8(0x17c)],_0x35a8b0[_0x3349c8(0x178)]);},'target':_0x296853(0x1ff)+_0x2584a9+':'+_0x358cc3,'ws':!![],'changeOrigin':!![],'logLevel':_0x35a8b0[_0x296853(0x121)]})),_0x230c9b[_0x296853(0x1e9)](_0x25a140,_0x41cec5,_0x45758b);}const _0x2be919=await new Promise(_0xbc67a3=>{const _0x192863=_0x445fb1,_0x13fcae={'qAZSd':function(_0x419dbd,_0x26d4b0){const _0x3c0afc=_0x4ec0;return _0x35a8b0[_0x3c0afc(0x15b)](_0x419dbd,_0x26d4b0);}};if(_0x192863(0x136)!==_0x35a8b0[_0x192863(0x140)]){const _0x4c12f2=_0x35a8b0[_0x192863(0x15b)](_0x3b7ddf,()=>{const _0x2d0867=_0x192863;_0x13fcae[_0x2d0867(0x102)](_0xbc67a3,_0x4c12f2);});}else throw _0x37b9f9;}),{page:_0x224764,browser:_0x304a61}=await _0x1e0032[_0x445fb1(0x1db)](runBrowser);try{const _0x2918a5=[],_0x712c7b=[];_0x224764['on'](_0x445fb1(0x15c),_0x327515=>{const _0x3267ce=_0x445fb1;_0x712c7b[_0x3267ce(0x1ed)](_0x327515);})['on'](_0x1e0032['CeLDu'],_0x4ef293=>{const _0x2a4938=_0x445fb1;_0x2918a5[_0x2a4938(0x1ed)](_0x4ef293);}),await _0x224764[_0x445fb1(0xf3)]('http://'+_0x41cec5+':'+_0x25a140+'/',{'waitUntil':_0x445fb1(0x100)}),_0x1e0032[_0x445fb1(0xe5)](expect,_0x712c7b[_0x445fb1(0x1d7)](_0x2ca932=>_0x2ca932[_0x445fb1(0x143)]()))[_0x445fb1(0x1a6)](_0x445fb1(0x205)),_0x1e0032['TXcGi'](expect,_0x2918a5)['toMatchSnapshot'](_0x1e0032['rwURb']);}catch(_0x540892){if(_0x1e0032[_0x445fb1(0x1ac)]!==_0x1e0032[_0x445fb1(0x1de)])throw _0x540892;else _0x53a125[_0x445fb1(0x176)](_0x35a8b0[_0x445fb1(0x17c)],_0x445fb1(0x193));}finally{_0x2be919[_0x445fb1(0xe0)](),await _0x304a61['close'](),await _0xa466ee['stop']();}}}),_0x1e0032[_0x3fb1cf(0x1f1)](it,_0x3fb1cf(0x18a)+_0x3f6b6e+'\x22)',async()=>{const _0x3dfed8=_0x3fb1cf,_0x1abee8={'VyjjF':_0x1e0032[_0x3dfed8(0x172)],'EqGNo':function(_0x1f8e36,_0x560ef2){const _0x4d611c=_0x3dfed8;return _0x1e0032[_0x4d611c(0x1d6)](_0x1f8e36,_0x560ef2);}},_0x1f6c35=_0x1e0032[_0x3dfed8(0x158)],_0x5da790=port1,_0x47a31b=_0x1f6c35,_0x5d33eb=port2,_0x559dc5=_0x1e0032[_0x3dfed8(0x146)](webpack,config),_0x4076db={'client':{'webSocketURL':{'port':port2}},'webSocketServer':_0x3f6b6e,'port':_0x5da790,'host':_0x1f6c35,'allowedHosts':[_0x3dfed8(0x187)]},_0x36657b=new Server(_0x4076db,_0x559dc5);await _0x36657b[_0x3dfed8(0xf0)]();function _0x191190(_0x2f0586){const _0x1a9dc4=_0x3dfed8,_0x4a7bb3={'PMgTX':_0x1abee8[_0x1a9dc4(0xfc)]},_0x5d2a6d=express();return _0x5d2a6d[_0x1a9dc4(0x1c1)]('/',_0x1abee8[_0x1a9dc4(0x1b6)](createProxyMiddleware,{'onProxyReqWs':_0x15a2f9=>{const _0x5ad333=_0x1a9dc4;_0x15a2f9['setHeader'](_0x4a7bb3[_0x5ad333(0x138)],'http://my-test-origin.com/');},'target':_0x1a9dc4(0x1ff)+_0x1f6c35+':'+_0x5da790,'ws':!![],'changeOrigin':!![],'logLevel':'warn'})),_0x5d2a6d[_0x1a9dc4(0x1e9)](_0x5d33eb,_0x47a31b,_0x2f0586);}const _0x26be9f=await new Promise(_0x23c123=>{const _0x59f2ba=_0x3dfed8,_0x2c78dc=_0x1e0032[_0x59f2ba(0x1f5)](_0x191190,()=>{_0x23c123(_0x2c78dc);});}),{page:_0x50af73,browser:_0x47819a}=await runBrowser();try{const _0x5c2637=[],_0x13295d=[];_0x50af73['on'](_0x1e0032[_0x3dfed8(0x149)],_0x2f0383=>{const _0x5ec463=_0x3dfed8;_0x13295d[_0x5ec463(0x1ed)](_0x2f0383);})['on'](_0x3dfed8(0xe7),_0x15f026=>{const _0x4ed6c3=_0x3dfed8;_0x5c2637[_0x4ed6c3(0x1ed)](_0x15f026);}),await _0x50af73['goto'](_0x3dfed8(0x1ff)+_0x47a31b+':'+_0x5d33eb+'/',{'waitUntil':_0x1e0032[_0x3dfed8(0x1e6)]}),expect(_0x13295d[_0x3dfed8(0x1d7)](_0x5650eb=>_0x5650eb[_0x3dfed8(0x143)]()))[_0x3dfed8(0x1a6)](_0x1e0032['kjAIP']),expect(_0x5c2637)[_0x3dfed8(0x1a6)](_0x1e0032[_0x3dfed8(0x1b5)]);}catch(_0x21451e){throw _0x21451e;}finally{_0x26be9f[_0x3dfed8(0xe0)](),await _0x47819a[_0x3dfed8(0xe0)](),await _0x36657b[_0x3dfed8(0x13f)]();}}),it(_0x3fb1cf(0x1fd)+_0x3f6b6e+'\x22)',async()=>{const _0x2f53f3=_0x3fb1cf,_0xaff286={'BLJsI':'http://my-test-origin.com/','LSHlD':function(_0x571f5c,_0x187bde){const _0xd39238=_0x4ec0;return _0x1e0032[_0xd39238(0xee)](_0x571f5c,_0x187bde);},'FXbtb':_0x1e0032[_0x2f53f3(0x1ee)],'AZDbH':function(_0x3f5420,_0x5f5b4e){const _0x469dc4=_0x2f53f3;return _0x1e0032[_0x469dc4(0x19d)](_0x3f5420,_0x5f5b4e);},'xYWcq':_0x1e0032[_0x2f53f3(0xf9)]},_0x22479b=_0x2f53f3(0x114),_0x54bf88=port1,_0x2b4a14=_0x22479b,_0x1a73a3=port2,_0xf02e39=_0x1e0032[_0x2f53f3(0x1a1)](webpack,config),_0x13e8f9={'client':{'webSocketURL':{'port':port2}},'webSocketServer':_0x3f6b6e,'port':_0x54bf88,'host':_0x22479b,'allowedHosts':_0x1e0032[_0x2f53f3(0x173)]},_0x26930d=new Server(_0x13e8f9,_0xf02e39);await _0x26930d[_0x2f53f3(0xf0)]();function _0x3f5ab3(_0x110de3){const _0xc96cdc=_0x2f53f3,_0x563f66=express();return _0x563f66[_0xc96cdc(0x1c1)]('/',_0x1e0032[_0xc96cdc(0x204)](createProxyMiddleware,{'onProxyReqWs':_0xb4b367=>{const _0x2aac6f=_0xc96cdc;_0xb4b367[_0x2aac6f(0x176)](_0x2aac6f(0x1cd),_0xaff286[_0x2aac6f(0x1ba)]);},'target':'http://'+_0x22479b+':'+_0x54bf88,'ws':!![],'changeOrigin':!![],'logLevel':_0xc96cdc(0xf8)})),_0x563f66[_0xc96cdc(0x1e9)](_0x1a73a3,_0x2b4a14,_0x110de3);}const _0x52ea74=await new Promise(_0x45eb5a=>{const _0x32cc3f=_0x2f53f3;if(_0xaff286[_0x32cc3f(0x157)](_0xaff286['FXbtb'],_0xaff286[_0x32cc3f(0xde)]))_0x38b5a8[_0x32cc3f(0x1ed)](_0xde05ea);else{const _0x1e788d=_0xaff286[_0x32cc3f(0x128)](_0x3f5ab3,()=>{_0x45eb5a(_0x1e788d);});}}),{page:_0x7fb5cc,browser:_0x4452a3}=await _0x1e0032[_0x2f53f3(0x1f7)](runBrowser);try{if(_0x1e0032[_0x2f53f3(0x11d)](_0x2f53f3(0x116),_0x2f53f3(0x118)))throw _0x2f1275;else{const _0x412c6a=[],_0x28680e=[];_0x7fb5cc['on'](_0x2f53f3(0x15c),_0x565c58=>{const _0x52c70f=_0x2f53f3;_0x28680e[_0x52c70f(0x1ed)](_0x565c58);})['on'](_0x2f53f3(0xe7),_0x504a78=>{const _0x470ca1=_0x2f53f3;if(_0x1e0032[_0x470ca1(0x152)]===_0x1e0032[_0x470ca1(0x152)])_0x412c6a[_0x470ca1(0x1ed)](_0x504a78);else{const _0x3e9855={'host':_0x1c949c};if(!_0x353542[_0x470ca1(0xe1)](_0x3e9855,_0xaff286[_0x470ca1(0x1b3)]))throw new _0xe890ff(_0x470ca1(0x126));}}),await _0x7fb5cc[_0x2f53f3(0xf3)](_0x2f53f3(0x1ff)+_0x2b4a14+':'+_0x1a73a3+'/',{'waitUntil':_0x2f53f3(0x100)}),_0x1e0032[_0x2f53f3(0x12d)](expect,_0x28680e[_0x2f53f3(0x1d7)](_0x4bf963=>_0x4bf963['text']()))[_0x2f53f3(0x1a6)]('console\x20messages'),expect(_0x412c6a)[_0x2f53f3(0x1a6)]('page\x20errors');}}catch(_0x403018){throw _0x403018;}finally{_0x52ea74[_0x2f53f3(0xe0)](),await _0x4452a3['close'](),await _0x26930d[_0x2f53f3(0x13f)]();}}),it(_0x3fb1cf(0x1ad)+_0x3f6b6e+'\x22)',async()=>{const _0x50b957=_0x3fb1cf,_0x5b3a92={'fJHJm':_0x1e0032[_0x50b957(0x172)],'vvEhR':function(_0x234608){return _0x234608();},'uHSiF':function(_0x466fc1,_0x5eb6af){const _0x26376a=_0x50b957;return _0x1e0032[_0x26376a(0x19d)](_0x466fc1,_0x5eb6af);},'IjRWB':function(_0x310764,_0x1c7ea6){return _0x310764(_0x1c7ea6);},'UOTey':_0x1e0032[_0x50b957(0x1bb)],'NOXPJ':function(_0x3c2341,_0x3a76e8){return _0x3c2341(_0x3a76e8);},'HhmaQ':function(_0x3a4bf0,_0x5551be){const _0x1cf13e=_0x50b957;return _0x1e0032[_0x1cf13e(0x1d3)](_0x3a4bf0,_0x5551be);},'ZIFuh':_0x50b957(0x1a4)},_0x517777=_0x1e0032['RSKEC'],_0x5bca23=port1,_0xbb57ea=_0x517777,_0x4cd6cf=port2,_0x4d6f41=_0x1e0032[_0x50b957(0x12c)](webpack,config),_0x3cc304={'client':{'webSocketURL':{'port':port2}},'webSocketServer':_0x3f6b6e,'port':_0x5bca23,'host':_0x517777,'allowedHosts':_0x50b957(0x131)},_0xe2a96c=new Server(_0x3cc304,_0x4d6f41);await _0xe2a96c[_0x50b957(0xf0)]();function _0xc0ba61(_0x4460f2){const _0x3147f3=_0x50b957,_0x1a747a={'fZLWQ':_0x5b3a92[_0x3147f3(0x188)]},_0x38aec4=_0x5b3a92[_0x3147f3(0x184)](express);return _0x38aec4['use']('/',_0x5b3a92[_0x3147f3(0x134)](createProxyMiddleware,{'onProxyReqWs':_0x59d42c=>{const _0x1a43fd=_0x3147f3;_0x59d42c['setHeader'](_0x1a747a['fZLWQ'],_0x1a43fd(0x193));},'target':'http://'+_0x517777+':'+_0x5bca23,'ws':!![],'changeOrigin':!![],'logLevel':_0x3147f3(0xf8)})),_0x38aec4[_0x3147f3(0x1e9)](_0x4cd6cf,_0xbb57ea,_0x4460f2);}const _0x2f8f78=await new Promise(_0x36f364=>{const _0x22ee30=_0x50b957;if(_0x5b3a92['UOTey']!==_0x22ee30(0x1a2))_0x4fd78f(_0x240249);else{const _0x47dc57=_0x5b3a92[_0x22ee30(0x17e)](_0xc0ba61,()=>{const _0x2062b4=_0x22ee30;_0x5b3a92[_0x2062b4(0x1d8)](_0x36f364,_0x47dc57);});}}),{page:_0x999725,browser:_0x3156e9}=await _0x1e0032[_0x50b957(0x1db)](runBrowser);try{const _0x52f795=[],_0x2c4bc1=[];_0x999725['on'](_0x50b957(0x15c),_0x5d4776=>{const _0x767c5d=_0x50b957;_0x5b3a92['HhmaQ']('dEgjj',_0x5b3a92[_0x767c5d(0x11f)])?_0x5b3a92[_0x767c5d(0x134)](_0x230146,_0x4447c5):_0x2c4bc1[_0x767c5d(0x1ed)](_0x5d4776);})['on'](_0x1e0032[_0x50b957(0x1a3)],_0x3a042d=>{_0x52f795['push'](_0x3a042d);}),await _0x999725['goto'](_0x50b957(0x1ff)+_0xbb57ea+':'+_0x4cd6cf+'/',{'waitUntil':_0x50b957(0x100)}),_0x1e0032[_0x50b957(0x19e)](expect,_0x2c4bc1[_0x50b957(0x1d7)](_0x8492b=>_0x8492b[_0x50b957(0x143)]()))[_0x50b957(0x1a6)](_0x1e0032[_0x50b957(0xff)]),expect(_0x52f795)[_0x50b957(0x1a6)](_0x50b957(0x14f));}catch(_0x4321f2){if(_0x1e0032['QEQGM'](_0x50b957(0xfe),_0x50b957(0xfe)))_0x5bfbce[_0x50b957(0x1ed)](_0x1008d0);else throw _0x4321f2;}finally{_0x2f8f78['close'](),await _0x3156e9[_0x50b957(0xe0)](),await _0xe2a96c[_0x50b957(0x13f)]();}}),it(_0x3fb1cf(0x18f)+_0x3f6b6e+'\x22)',async()=>{const _0xdccdb6=_0x3fb1cf,_0x25fc07={'kedUQ':_0x1e0032['nDwSJ'],'rcvJY':function(_0x1a6024,_0x2dd26d){const _0x3c54d0=_0x4ec0;return _0x1e0032[_0x3c54d0(0x106)](_0x1a6024,_0x2dd26d);},'fFdcX':_0xdccdb6(0xf8)},_0x22d20d=_0xdccdb6(0x114),_0x19990a=port1,_0x569bb3=_0x22d20d,_0x139974=port2,_0x4f038e=webpack(config),_0x21c169={'client':{'webSocketURL':{'port':port2}},'webSocketServer':_0x3f6b6e,'port':_0x19990a,'host':_0x22d20d,'allowedHosts':_0x1e0032[_0xdccdb6(0x17a)]},_0x57906f=new Server(_0x21c169,_0x4f038e);await _0x57906f[_0xdccdb6(0xf0)]();function _0x2f5b75(_0x531892){const _0x377308=_0xdccdb6,_0xda0fda=express();return _0xda0fda[_0x377308(0x1c1)]('/',_0x25fc07[_0x377308(0x198)](createProxyMiddleware,{'onProxyReqWs':_0x1a441e=>{const _0x4f4282=_0x377308;_0x1a441e[_0x4f4282(0x176)](_0x4f4282(0x1cd),_0x25fc07[_0x4f4282(0x1fa)]);},'target':_0x377308(0x1ff)+_0x22d20d+':'+_0x19990a,'ws':!![],'changeOrigin':!![],'logLevel':_0x25fc07[_0x377308(0x1e3)]})),_0xda0fda['listen'](_0x139974,_0x569bb3,_0x531892);}const _0x3c625f=await new Promise(_0x25367a=>{const _0x3cc620=_0x2f5b75(()=>{_0x25367a(_0x3cc620);});}),{page:_0x3406d9,browser:_0xe0755d}=await _0x1e0032[_0xdccdb6(0xe8)](runBrowser);try{if(_0x1e0032[_0xdccdb6(0x137)]!==_0x1e0032['QEOlN'])_0x33d09b[_0xdccdb6(0x1ed)](_0x267166);else{const _0x4213ae=[],_0x26ac6f=[];_0x3406d9['on'](_0x1e0032['qXBYE'],_0x2d58a1=>{_0x26ac6f['push'](_0x2d58a1);})['on'](_0xdccdb6(0xe7),_0x26e06f=>{const _0x3fc366=_0xdccdb6;_0x4213ae[_0x3fc366(0x1ed)](_0x26e06f);}),await _0x3406d9[_0xdccdb6(0xf3)](_0xdccdb6(0x1ff)+_0x569bb3+':'+_0x139974+'/',{'waitUntil':_0xdccdb6(0x100)}),expect(_0x26ac6f[_0xdccdb6(0x1d7)](_0x4024a7=>_0x4024a7[_0xdccdb6(0x143)]()))[_0xdccdb6(0x1a6)]('console\x20messages'),_0x1e0032[_0xdccdb6(0x1e0)](expect,_0x4213ae)[_0xdccdb6(0x1a6)](_0x1e0032[_0xdccdb6(0x1b5)]);}}catch(_0x6cac94){throw _0x6cac94;}finally{_0xdccdb6(0x151)!==_0x1e0032[_0xdccdb6(0x16c)]?_0x4f5f7e[_0xdccdb6(0x1ed)](_0xfcea7b):(_0x3c625f[_0xdccdb6(0xe0)](),await _0xe0755d['close'](),await _0x57906f['stop']());}}),_0x1e0032[_0x3fb1cf(0x170)](it,_0x3fb1cf(0x19a)+_0x3f6b6e+'\x22)',async()=>{const _0x2cc907=_0x3fb1cf,_0x4adc5a={'GJAdI':function(_0x3b1bb6,_0x54da2e){const _0x348765=_0x4ec0;return _0x1e0032[_0x348765(0xdd)](_0x3b1bb6,_0x54da2e);},'sJOSB':function(_0x45670f,_0x4a8de6){return _0x45670f(_0x4a8de6);}},_0x11791d=_0x2cc907(0x114),_0x153188=port1,_0x529f81=_0x11791d,_0x162918=port2,_0x1869a5=webpack(config),_0x524ffe={'client':{'webSocketURL':{'port':port2}},'webSocketServer':_0x3f6b6e,'port':_0x153188,'host':_0x11791d,'allowedHosts':[_0x1e0032[_0x2cc907(0x173)]]},_0x4a570=new Server(_0x524ffe,_0x1869a5);await _0x4a570[_0x2cc907(0xf0)]();function _0x1fe73b(_0x409ce){const _0x261c78=_0x2cc907,_0x239f21=express();return _0x239f21['use']('/',createProxyMiddleware({'onProxyReqWs':_0x2d08c5=>{const _0x34c1a5=_0x4ec0;_0x2d08c5[_0x34c1a5(0x176)](_0x34c1a5(0x1cd),_0x34c1a5(0x193));},'target':_0x261c78(0x1ff)+_0x11791d+':'+_0x153188,'ws':!![],'changeOrigin':!![],'logLevel':_0x261c78(0xf8)})),_0x239f21[_0x261c78(0x1e9)](_0x162918,_0x529f81,_0x409ce);}const _0x49de1a=await new Promise(_0x16df98=>{const _0x3c7975=_0x2cc907,_0x40a92f={'HozVq':_0x3c7975(0x1d5),'fetHj':_0x3c7975(0x15e),'SGrlz':function(_0x4c5fb1,_0x32c0fc){const _0x28e98a=_0x3c7975;return _0x4adc5a[_0x28e98a(0x133)](_0x4c5fb1,_0x32c0fc);},'WEsmX':_0x3c7975(0x108)},_0x30081f=_0x4adc5a['sJOSB'](_0x1fe73b,()=>{const _0x473ef8=_0x3c7975;_0x40a92f[_0x473ef8(0x10f)](_0x40a92f['WEsmX'],_0x473ef8(0x108))?_0x16df98(_0x30081f):(_0x4710e4[_0x473ef8(0x176)](_0x40a92f[_0x473ef8(0x190)],_0x40a92f['fetHj']),_0x2440d1[_0x473ef8(0x176)](_0x473ef8(0x1d5),_0x371923));});}),{page:_0x39b856,browser:_0x5004af}=await runBrowser();try{if(_0x1e0032[_0x2cc907(0x147)]===_0x1e0032[_0x2cc907(0x1d9)]){const _0x16a161=_0x3972fc(()=>{_0x103a52(_0x16a161);});}else{const _0x96f573=[],_0x402543=[];_0x39b856['on'](_0x1e0032[_0x2cc907(0x149)],_0x242c1b=>{_0x402543['push'](_0x242c1b);})['on'](_0x2cc907(0xe7),_0x328a83=>{const _0x17d451=_0x2cc907;_0x96f573[_0x17d451(0x1ed)](_0x328a83);}),await _0x39b856['goto'](_0x2cc907(0x1ff)+_0x529f81+':'+_0x162918+'/',{'waitUntil':_0x2cc907(0x100)}),_0x1e0032[_0x2cc907(0x144)](expect,_0x402543[_0x2cc907(0x1d7)](_0x28f407=>_0x28f407[_0x2cc907(0x143)]()))['toMatchSnapshot'](_0x1e0032[_0x2cc907(0xff)]),expect(_0x96f573)[_0x2cc907(0x1a6)](_0x1e0032[_0x2cc907(0x1b5)]);}}catch(_0x28b846){throw _0x28b846;}finally{_0x49de1a['close'](),await _0x5004af[_0x2cc907(0xe0)](),await _0x4a570['stop']();}}),_0x1e0032['izVKM'](it,_0x3fb1cf(0x165)+_0x3f6b6e+'\x22)',async()=>{const _0x1948ff=_0x3fb1cf,_0xc9d6b5={'YFYOy':_0x1e0032['CtIDN'],'miXgg':function(_0x270d66,_0x4cd8dd){const _0x41d578=_0x4ec0;return _0x1e0032[_0x41d578(0x11b)](_0x270d66,_0x4cd8dd);}},_0x1fed59=_0x1e0032['RSKEC'],_0x37ceb7=port1,_0x4f9bac=_0x1fed59,_0x310682=port2,_0x55ec6e=webpack(config),_0xcf6d2={'client':{'webSocketURL':{'port':port2}},'webSocketServer':_0x3f6b6e,'port':_0x37ceb7,'host':_0x1fed59,'allowedHosts':_0x1948ff(0x10a)},_0x5cb639=new Server(_0xcf6d2,_0x55ec6e);await _0x5cb639[_0x1948ff(0xf0)]();function _0x2ddf91(_0x5f1ec9){const _0x7d7a69=_0x1948ff,_0x25dc36=express();return _0x25dc36[_0x7d7a69(0x1c1)]('/',_0x1e0032['ZOdCx'](createProxyMiddleware,{'onProxyReq':(_0x4eed75,_0x160f57,_0x5de723)=>{const _0x135f45=_0x7d7a69;_0x4eed75[_0x135f45(0x176)]('host',_0xc9d6b5[_0x135f45(0x1e8)]),_0x5de723[_0x135f45(0x176)](_0x135f45(0x1d5),_0x1fed59);},'target':_0x7d7a69(0x1ff)+_0x1fed59+':'+_0x37ceb7,'ws':!![],'changeOrigin':!![],'logLevel':_0x1e0032[_0x7d7a69(0x15d)]})),_0x25dc36[_0x7d7a69(0x1e9)](_0x310682,_0x4f9bac,_0x5f1ec9);}const _0x28d8e6=await new Promise(_0x25dd38=>{const _0x43cdbc=_0x2ddf91(()=>{_0xc9d6b5['miXgg'](_0x25dd38,_0x43cdbc);});}),{page:_0x3532f9,browser:_0x468d3f}=await _0x1e0032[_0x1948ff(0x11e)](runBrowser);try{const _0x25354c=[],_0x2615dc=[];_0x3532f9['on'](_0x1948ff(0x15c),_0x51f414=>{const _0x53e179=_0x1948ff;_0x2615dc[_0x53e179(0x1ed)](_0x51f414);})['on'](_0x1948ff(0xe7),_0x281206=>{const _0x16308a=_0x1948ff;_0x25354c[_0x16308a(0x1ed)](_0x281206);}),await _0x3532f9[_0x1948ff(0xf3)]('http://'+_0x4f9bac+':'+_0x310682+'/',{'waitUntil':_0x1e0032[_0x1948ff(0x1e6)]});const _0x5b5599=await _0x3532f9['content']();expect(_0x5b5599)['toMatchSnapshot'](_0x1948ff(0x124)),_0x1e0032['lYZKn'](expect,_0x2615dc['map'](_0x5a8fcb=>_0x5a8fcb[_0x1948ff(0x143)]()))['toMatchSnapshot'](_0x1e0032['kjAIP']),_0x1e0032[_0x1948ff(0xe5)](expect,_0x25354c)['toMatchSnapshot'](_0x1e0032['rwURb']);}catch(_0x11741f){if(_0x1e0032[_0x1948ff(0xee)](_0x1948ff(0x15f),_0x1e0032[_0x1948ff(0x1f3)]))_0xc9d6b5[_0x1948ff(0x17d)](_0x1c911a,_0x2fc268);else throw _0x11741f;}finally{_0x28d8e6[_0x1948ff(0xe0)](),await _0x468d3f[_0x1948ff(0xe0)](),await _0x5cb639[_0x1948ff(0x13f)]();}});}_0x1e0032[_0x3fb1cf(0x141)](describe,_0x1e0032[_0x3fb1cf(0x19c)],()=>{const _0x37ec69=_0x3fb1cf,_0x4270d7={'FztCi':_0x1e0032[_0x37ec69(0x172)],'WSLIh':function(_0x43b98b){const _0x430cec=_0x37ec69;return _0x1e0032[_0x430cec(0x175)](_0x43b98b);},'nIaqJ':_0x1e0032[_0x37ec69(0x1a3)],'wpKIA':function(_0x2ea071,_0xf607d8){return _0x2ea071===_0xf607d8;},'IuSSv':_0x1e0032[_0x37ec69(0x12e)],'FNKkS':function(_0x348f3b,_0x2ba037){return _0x1e0032['cENnx'](_0x348f3b,_0x2ba037);},'nHDNs':_0x1e0032[_0x37ec69(0xff)],'cFwqT':_0x1e0032[_0x37ec69(0x1b5)],'cJihv':function(_0x13628a,_0x24443d){return _0x13628a(_0x24443d);},'ntNLr':'MFoSr','SSBQY':'qVitW','AYnAg':_0x37ec69(0x16e),'CPDQs':_0x1e0032[_0x37ec69(0xec)],'HCKRv':function(_0x38a26a){return _0x38a26a();},'oEvak':_0x37ec69(0x1d5),'ASSML':'response\x20status','McAuE':function(_0x43e454,_0x9aedb6){const _0x93417=_0x37ec69;return _0x1e0032[_0x93417(0x1ef)](_0x43e454,_0x9aedb6);},'IiGuC':function(_0x42d430,_0x2279ae){return _0x42d430(_0x2279ae);},'GYZpS':_0x37ec69(0x1be)};let _0x28ad4b,_0x2951a6,_0x4129cc,_0x57570a,_0x589f17,_0x29c842;_0x1e0032['UMvHe'](beforeEach,()=>{const _0x56aae5=_0x37ec69,_0x485055={'NBhfj':function(_0x573c55,_0x28fdf3){return _0x573c55(_0x28fdf3);}};if(_0x56aae5(0xed)===_0x56aae5(0xed))_0x28ad4b=webpack(config),_0x589f17=[],_0x29c842=[];else{const _0x50f72e={'GdUUO':function(_0x428f25,_0x3081f7){const _0x36d403=_0x56aae5;return _0x485055[_0x36d403(0x203)](_0x428f25,_0x3081f7);}},_0x50f3b7=_0x1fc119(()=>{const _0x519334=_0x56aae5;_0x50f72e[_0x519334(0x1b1)](_0x1ce473,_0x50f3b7);});}}),afterEach(async()=>{const _0x1cca99=_0x37ec69;await _0x57570a[_0x1cca99(0xe0)](),await _0x2951a6[_0x1cca99(0x13f)]();}),_0x1e0032[_0x37ec69(0x1af)](it,_0x1e0032[_0x37ec69(0x125)],async()=>{const _0x5313cb=_0x37ec69,_0x321837={'allowedHosts':_0x5313cb(0x10a),'port':port1},_0xb69410={'host':_0x5313cb(0x1ae)};_0x2951a6=new Server(_0x321837,_0x28ad4b),await _0x2951a6['start'](),{page:_0x4129cc,browser:_0x57570a}=await _0x4270d7['WSLIh'](runBrowser),_0x4129cc['on'](_0x5313cb(0x15c),_0x359661=>{const _0x4b8078=_0x5313cb;_0x29c842[_0x4b8078(0x1ed)](_0x359661);})['on'](_0x4270d7[_0x5313cb(0x14c)],_0x5f5153=>{_0x589f17['push'](_0x5f5153);});const _0x176c51=await _0x4129cc[_0x5313cb(0xf3)](_0x5313cb(0x129)+port1+_0x5313cb(0x1c0),{'waitUntil':_0x5313cb(0x100)});if(!_0x2951a6[_0x5313cb(0xe1)](_0xb69410,'host')){if(_0x4270d7['wpKIA'](_0x5313cb(0x160),_0x5313cb(0x1e2)))_0xeca1ac[_0x5313cb(0x176)](_0x4270d7[_0x5313cb(0x13d)],_0x5313cb(0x193));else throw new Error(_0x4270d7[_0x5313cb(0x117)]);}expect(_0x176c51[_0x5313cb(0x1ea)]())[_0x5313cb(0x1a6)](_0x5313cb(0x148)),_0x4270d7[_0x5313cb(0x1cb)](expect,_0x29c842['map'](_0x1c0c64=>_0x1c0c64['text']()))[_0x5313cb(0x1a6)](_0x4270d7[_0x5313cb(0x1b8)]),_0x4270d7['FNKkS'](expect,_0x589f17)[_0x5313cb(0x1a6)](_0x4270d7[_0x5313cb(0x194)]);}),_0x1e0032[_0x37ec69(0x104)](it,_0x37ec69(0x196),async()=>{const _0x44528f=_0x37ec69,_0x3cb7d2={'allowedHosts':_0x1e0032[_0x44528f(0xec)],'port':port1},_0x518d28={'host':'app.localhost'};_0x2951a6=new Server(_0x3cb7d2,_0x28ad4b),await _0x2951a6['start'](),{page:_0x4129cc,browser:_0x57570a}=await runBrowser(),_0x4129cc['on'](_0x1e0032[_0x44528f(0x149)],_0x14bbc7=>{const _0x2ce1f6=_0x44528f;_0x29c842[_0x2ce1f6(0x1ed)](_0x14bbc7);})['on'](_0x1e0032[_0x44528f(0x1a3)],_0x16738d=>{_0x589f17['push'](_0x16738d);});const _0x24e5a7=await _0x4129cc[_0x44528f(0xf3)](_0x44528f(0x129)+port1+'/main.js',{'waitUntil':_0x1e0032[_0x44528f(0x1e6)]});if(!_0x2951a6[_0x44528f(0xe1)](_0x518d28,'host')){if(_0x44528f(0x101)===_0x1e0032[_0x44528f(0x12a)])throw new Error(_0x1e0032[_0x44528f(0x12e)]);else _0x321bd[_0x44528f(0x176)](_0x4270d7[_0x44528f(0x13d)],_0x44528f(0x209));}_0x1e0032[_0x44528f(0x144)](expect,_0x24e5a7['status']())[_0x44528f(0x1a6)](_0x44528f(0x148)),_0x1e0032[_0x44528f(0x18c)](expect,_0x29c842[_0x44528f(0x1d7)](_0x6516b6=>_0x6516b6[_0x44528f(0x143)]()))[_0x44528f(0x1a6)](_0x1e0032['kjAIP']),expect(_0x589f17)[_0x44528f(0x1a6)](_0x1e0032[_0x44528f(0x1b5)]);}),_0x1e0032[_0x37ec69(0x170)](it,_0x37ec69(0x1c7),async()=>{const _0x413bde=_0x37ec69;if(_0x4270d7[_0x413bde(0x109)]!==_0x413bde(0x123)){const _0x5b820e=Server[_0x413bde(0x1a5)]('v4'),_0x8720f0={'host':_0x5b820e,'allowedHosts':_0x4270d7['CPDQs'],'port':port1},_0x2a3fed={'host':_0x5b820e};_0x2951a6=new Server(_0x8720f0,_0x28ad4b),await _0x2951a6[_0x413bde(0xf0)](),{page:_0x4129cc,browser:_0x57570a}=await _0x4270d7[_0x413bde(0x167)](runBrowser),_0x4129cc['on']('console',_0x3ce7f2=>{const _0x328854=_0x413bde,_0x28bef7={'tehiY':function(_0x29bbd1,_0x3fd979){return _0x4270d7['cJihv'](_0x29bbd1,_0x3fd979);}};if(_0x328854(0x162)!==_0x4270d7[_0x328854(0x169)]){const _0x4e8f71={'IqSVB':function(_0x484602,_0x5e3ccc){const _0x29878e=_0x328854;return _0x28bef7[_0x29878e(0x166)](_0x484602,_0x5e3ccc);}},_0x3e0100=_0x28bef7[_0x328854(0x166)](_0xc93bc0,()=>{const _0x2f0c4e=_0x328854;_0x4e8f71[_0x2f0c4e(0x182)](_0x45c35c,_0x3e0100);});}else _0x29c842['push'](_0x3ce7f2);})['on'](_0x413bde(0xe7),_0x405dcc=>{const _0xede46f=_0x413bde;_0x4270d7[_0xede46f(0x200)]===_0xede46f(0x1df)?_0x45264c(_0x4fc377):_0x589f17['push'](_0x405dcc);});const _0x568d93=await _0x4129cc['goto'](_0x413bde(0x1ff)+_0x5b820e+':'+port1+'/main.js',{'waitUntil':'networkidle0'});if(!_0x2951a6[_0x413bde(0xe1)](_0x2a3fed,_0x4270d7[_0x413bde(0x1e1)]))throw new Error('Validation\x20didn\x27t\x20fail');_0x4270d7[_0x413bde(0x13c)](expect,_0x568d93[_0x413bde(0x1ea)]())[_0x413bde(0x1a6)](_0x4270d7[_0x413bde(0x14e)]),_0x4270d7[_0x413bde(0x16d)](expect,_0x29c842[_0x413bde(0x1d7)](_0x15ba3b=>_0x15ba3b[_0x413bde(0x143)]()))['toMatchSnapshot'](_0x4270d7[_0x413bde(0x1b8)]),_0x4270d7[_0x413bde(0xf7)](expect,_0x589f17)[_0x413bde(0x1a6)](_0x4270d7[_0x413bde(0x194)]);}else _0x229d45(_0x3800b1);}),_0x1e0032[_0x37ec69(0x155)](it,'should\x20always\x20allow\x20value\x20of\x20the\x20`host`\x20option\x20from\x20the\x20`client.webSocketURL`\x20option\x20if\x20options.allowedHosts\x20is\x20auto',async()=>{const _0x15ce87=_0x37ec69,_0x2e07b1={'allowedHosts':'auto','port':port1,'client':{'webSocketURL':_0x15ce87(0x14a)}},_0x130433={'host':_0x1e0032[_0x15ce87(0xe3)]};_0x2951a6=new Server(_0x2e07b1,_0x28ad4b),await _0x2951a6[_0x15ce87(0xf0)](),{page:_0x4129cc,browser:_0x57570a}=await _0x1e0032['AhqdA'](runBrowser),_0x4129cc['on'](_0x15ce87(0x15c),_0x344153=>{const _0x4ceb7e=_0x15ce87;_0x29c842[_0x4ceb7e(0x1ed)](_0x344153);})['on'](_0x15ce87(0xe7),_0x34d49a=>{const _0x435269=_0x15ce87;_0x589f17[_0x435269(0x1ed)](_0x34d49a);});const _0x417a4a=await _0x4129cc['goto'](_0x15ce87(0x129)+port1+_0x15ce87(0x1c0),{'waitUntil':_0x15ce87(0x100)});if(!_0x2951a6['checkHeader'](_0x130433,_0x1e0032['IoWvW']))throw new Error(_0x1e0032[_0x15ce87(0x12e)]);_0x1e0032[_0x15ce87(0x1a1)](expect,_0x417a4a[_0x15ce87(0x1ea)]())['toMatchSnapshot']('response\x20status'),expect(_0x29c842[_0x15ce87(0x1d7)](_0x5989a6=>_0x5989a6[_0x15ce87(0x143)]()))[_0x15ce87(0x1a6)](_0x15ce87(0x205)),_0x1e0032[_0x15ce87(0x207)](expect,_0x589f17)[_0x15ce87(0x1a6)](_0x1e0032['rwURb']);}),it(_0x37ec69(0x1d4),async()=>{const _0xc8bdac=_0x37ec69;if(_0x1e0032[_0xc8bdac(0x1b9)](_0x1e0032[_0xc8bdac(0x1aa)],_0xc8bdac(0x17f))){const _0x56d9a6={'allowedHosts':_0x1e0032[_0xc8bdac(0x12f)],'port':port1},_0x180471={'host':_0x1e0032[_0xc8bdac(0x132)]};_0x2951a6=new Server(_0x56d9a6,_0x28ad4b),await _0x2951a6['start'](),{page:_0x4129cc,browser:_0x57570a}=await runBrowser(),_0x4129cc['on'](_0xc8bdac(0x15c),_0x2c2483=>{_0x29c842['push'](_0x2c2483);})['on'](_0x1e0032['CeLDu'],_0x39b60=>{const _0x20d109=_0xc8bdac;_0x589f17[_0x20d109(0x1ed)](_0x39b60);});const _0xd89973=await _0x4129cc[_0xc8bdac(0xf3)](_0xc8bdac(0x129)+port1+_0xc8bdac(0x1c0),{'waitUntil':_0xc8bdac(0x100)});if(!_0x2951a6[_0xc8bdac(0xe1)](_0x180471,_0x1e0032[_0xc8bdac(0xf9)]))throw new Error(_0xc8bdac(0x126));_0x1e0032['rUiIB'](expect,_0xd89973[_0xc8bdac(0x1ea)]())[_0xc8bdac(0x1a6)](_0x1e0032[_0xc8bdac(0x120)]),_0x1e0032[_0xc8bdac(0x204)](expect,_0x29c842[_0xc8bdac(0x1d7)](_0x111154=>_0x111154['text']()))['toMatchSnapshot'](_0x1e0032[_0xc8bdac(0xff)]),expect(_0x589f17)[_0xc8bdac(0x1a6)](_0xc8bdac(0x14f));}else _0x560088[_0xc8bdac(0x1ed)](_0x35be53);}),it(_0x1e0032[_0x37ec69(0x168)],async()=>{const _0xd6d332=_0x37ec69,_0x5da395={'pTtoZ':_0x1e0032[_0xd6d332(0x12e)]};if(_0x1e0032[_0xd6d332(0x1f0)]!==_0x1e0032[_0xd6d332(0xfa)]){const _0x2c410f=[_0xd6d332(0x1d0),'test2.host',_0xd6d332(0x119)],_0x4c746b={'allowedHosts':_0x2c410f,'port':port1};_0x2951a6=new Server(_0x4c746b,_0x28ad4b),await _0x2951a6[_0xd6d332(0xf0)](),{page:_0x4129cc,browser:_0x57570a}=await runBrowser(),_0x4129cc['on']('console',_0x1af50d=>{const _0x50571d=_0xd6d332;_0x29c842[_0x50571d(0x1ed)](_0x1af50d);})['on'](_0xd6d332(0xe7),_0x268299=>{const _0x3ea302=_0xd6d332,_0x3f6c1a={'jPtRn':_0x4270d7[_0x3ea302(0x117)]};if(_0x4270d7[_0x3ea302(0x1e4)](_0x3ea302(0xf2),_0x4270d7[_0x3ea302(0x163)]))throw new _0x39449b(_0x3f6c1a[_0x3ea302(0x103)]);else _0x589f17['push'](_0x268299);});const _0x1bdf25=await _0x4129cc[_0xd6d332(0xf3)](_0xd6d332(0x129)+port1+_0xd6d332(0x1c0),{'waitUntil':_0xd6d332(0x100)});_0x2c410f[_0xd6d332(0x185)](_0x54fa52=>{const _0x391ab9=_0xd6d332,_0x23e46e={'host':_0x54fa52};if(!_0x2951a6['checkHeader'](_0x23e46e,_0x391ab9(0x1d5)))throw new Error(_0x5da395[_0x391ab9(0x1eb)]);}),_0x1e0032['QwtHt'](expect,_0x1bdf25[_0xd6d332(0x1ea)]())[_0xd6d332(0x1a6)](_0x1e0032[_0xd6d332(0x120)]),expect(_0x29c842[_0xd6d332(0x1d7)](_0x55e0f2=>_0x55e0f2[_0xd6d332(0x143)]()))['toMatchSnapshot'](_0x1e0032[_0xd6d332(0xff)]),expect(_0x589f17)[_0xd6d332(0x1a6)](_0x1e0032['rwURb']);}else _0x363fa5[_0xd6d332(0x1ed)](_0x242ec8);}),_0x1e0032[_0x37ec69(0x18b)](it,_0x1e0032['NQvMD'],async()=>{const _0x33894d=_0x37ec69,_0x47b7b7={'allowedHosts':[_0x1e0032[_0x33894d(0xeb)]],'port':port1};_0x2951a6=new Server(_0x47b7b7,_0x28ad4b),await _0x2951a6[_0x33894d(0xf0)](),{page:_0x4129cc,browser:_0x57570a}=await _0x1e0032['mzkZz'](runBrowser),_0x4129cc['on'](_0x33894d(0x15c),_0x4d346a=>{const _0x4e67a2=_0x33894d;_0x29c842[_0x4e67a2(0x1ed)](_0x4d346a);})['on'](_0x1e0032[_0x33894d(0x1a3)],_0x1a399f=>{const _0x4e5874=_0x33894d;_0x589f17[_0x4e5874(0x1ed)](_0x1a399f);});const _0x5ce874=await _0x4129cc['goto'](_0x33894d(0x129)+port1+'/main.js',{'waitUntil':_0x33894d(0x100)}),_0x3a1f07=[_0x1e0032[_0x33894d(0x199)],_0x33894d(0x1cc),_0x33894d(0x192),_0x33894d(0x19f),_0x1e0032[_0x33894d(0x1f9)],_0x1e0032[_0x33894d(0x1e7)]];_0x3a1f07[_0x33894d(0x185)](_0x1b6595=>{const _0xf65f44=_0x33894d,_0x4ae9f8={'host':_0x1b6595};if(!_0x2951a6[_0xf65f44(0xe1)](_0x4ae9f8,_0x4270d7[_0xf65f44(0x1e1)]))throw new Error(_0x4270d7[_0xf65f44(0x117)]);}),_0x1e0032[_0x33894d(0x1b0)](expect,_0x5ce874[_0x33894d(0x1ea)]())[_0x33894d(0x1a6)](_0x33894d(0x148)),expect(_0x29c842[_0x33894d(0x1d7)](_0x3ee7c7=>_0x3ee7c7[_0x33894d(0x143)]()))[_0x33894d(0x1a6)](_0x1e0032[_0x33894d(0xff)]),_0x1e0032[_0x33894d(0x1d2)](expect,_0x589f17)[_0x33894d(0x1a6)]('page\x20errors');});});});