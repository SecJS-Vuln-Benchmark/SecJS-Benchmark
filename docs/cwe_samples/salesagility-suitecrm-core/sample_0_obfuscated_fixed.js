const _0x13aba3=_0x5a1e;function _0x5a1e(_0x15184f,_0xc8fdd5){const _0x114031=_0x1140();return _0x5a1e=function(_0x5a1e1e,_0x20dd5c){_0x5a1e1e=_0x5a1e1e-0x1ec;let _0x2c11d0=_0x114031[_0x5a1e1e];return _0x2c11d0;},_0x5a1e(_0x15184f,_0xc8fdd5);}(function(_0x1d171a,_0x75825e){const _0x1f14d1=_0x5a1e,_0x1fa561=_0x1d171a();while(!![]){try{const _0x570a01=-parseInt(_0x1f14d1(0x251))/0x1+parseInt(_0x1f14d1(0x273))/0x2+-parseInt(_0x1f14d1(0x288))/0x3*(-parseInt(_0x1f14d1(0x293))/0x4)+-parseInt(_0x1f14d1(0x1f4))/0x5*(-parseInt(_0x1f14d1(0x279))/0x6)+parseInt(_0x1f14d1(0x1f8))/0x7*(-parseInt(_0x1f14d1(0x267))/0x8)+-parseInt(_0x1f14d1(0x211))/0x9+parseInt(_0x1f14d1(0x1f5))/0xa;if(_0x570a01===_0x75825e)break;else _0x1fa561['push'](_0x1fa561['shift']());}catch(_0x567224){_0x1fa561['push'](_0x1fa561['shift']());}}}(_0x1140,0xd0573));import _0x262d1a from'./reconnection_manager';function _0x1140(){const _0x152247=['BveVp','publisher','PNRequestMessageCountExceededCategory','ixxPh','_dedupingManager','bind','timeout','200DKUGjc','getHeartbeatChannelGroups','category','_channels','flkHN','_listenerManager','user','subscription','oIaiJ','subscribedChannel','FPiQl','errorData','2435398WXWiDC','announceNetworkUp','_region','split','_pendingChannelSubscriptions','GegNE','1488tkoKBf','dmBrn','currentTimetoken','operation','state','isDuplicate','announceSuccessfulHeartbeats','_config','autoNetworkDetection','_processSubscribeResponse','JNayR','_channelGroups','_heartbeatTimer','announceSignal','subscribe\x20key\x20missing;\x20aborting\x20subscribe','57555dARhPQ','_presenceChannels','stopPolling','VnFkd','_storedTimetoken','_pendingChannelGroupSubscriptions','tzIvV','_subscribeEndpoint','PNConnectedCategory','PNTimeoutCategory','publishTimetoken','12dFkJBt','AyByt','space','metadata','fDfTg','actionTimetoken','announceStatus','NZfta','channel','unsubscribeAll','_startSubscribeLoop','iOYhL','log','event','21095KjeVSf','6436660QoGxJk','function','_registerHeartbeatTimer','92813KRNQzm','actualChannel','forEach','PNBadRequestCategory','filterExpression','abort','adaptUnsubscribeChange','WzXeo','data','_heartbeatChannels','2|3|1|0|4','2|3|0|1|4','DRXDy','_lastTimetoken','region','lastIndexOf','hHFsU','updated','affectedChannelGroups','YaLOy','_renameEvent','_heartbeatChannelGroups','cJdFj','announceObjects','messages','3758220bmWIIy','bOkAM','length','_getFileUrl','_isOnline','payload','LcHHe','keys','_stopHeartbeatTimer','_presenceChannelGroups','VhHGr','announcePresence','RFFKQ','messageType','timestamp','_renameChannelField','spaceId','VFRkg','uuid','vxuXS','_currentTimetoken','VqriX','getSubscribedChannels','QwNfZ','name','tClDD','timetoken','_crypto','removed','error','issuingClientId','subscribedChannels','_leaveEndpoint','TOPVi','getHeartbeatChannels','_stopSubscribeLoop','_setStateEndpoint','_performHeartbeatLoop','membership','iPGTs','yLeiq','userMetadata','_subscribeCall','lastTimetoken','push','-pnpres','sCSIg','_reconnectionManager','announceMessageAction','leave','_heartbeatEndpoint','BNBRH','yLHIa','cipherKey','_autoNetworkDetection','Kipjv','LmpYT','decrypt','oDHrr','message','getHeartbeatInterval','announceFile','EDOLy','oBDyC','1362814WwBRbo','announceNetworkDown','_subscriptionStatusAnnounced','getSubscribedChannelGroups','FLcPq','type','subscribeKey','announceFailedHeartbeats','suppressLeaveEvents','join','reconnect','zKVBf','file','addEntry','affectedChannels'];_0x1140=function(){return _0x152247;};return _0x1140();}import _0x31ba55 from'./deduping_manager';import _0x4fc6bc from'../utils';import _0x2e742f from'../constants/categories';export default class{[_0x13aba3(0x22c)];[_0x13aba3(0x280)];['_listenerManager'];['_reconnectionManager'];['_leaveEndpoint'];[_0x13aba3(0x243)];['_setStateEndpoint'];['_subscribeEndpoint'];[_0x13aba3(0x214)];['_channels'];[_0x13aba3(0x289)];['_heartbeatChannels'];['_heartbeatChannelGroups'];[_0x13aba3(0x284)];[_0x13aba3(0x21a)];[_0x13aba3(0x225)];[_0x13aba3(0x205)];['_storedTimetoken'];[_0x13aba3(0x275)];[_0x13aba3(0x23b)];[_0x13aba3(0x285)];[_0x13aba3(0x253)];[_0x13aba3(0x247)];[_0x13aba3(0x215)];['_pendingChannelSubscriptions'];[_0x13aba3(0x28d)];['_dedupingManager'];constructor({subscribeEndpoint:_0x5af327,leaveEndpoint:_0x212753,heartbeatEndpoint:_0xa2158b,setStateEndpoint:_0x9812cb,timeEndpoint:_0x12fc86,getFileUrl:_0x4a3113,config:_0x39b6d3,crypto:_0x563f77,listenerManager:_0xee9a2a}){const _0x18799c=_0x13aba3;this['_listenerManager']=_0xee9a2a,this[_0x18799c(0x280)]=_0x39b6d3,this[_0x18799c(0x231)]=_0x212753,this[_0x18799c(0x243)]=_0xa2158b,this['_setStateEndpoint']=_0x9812cb,this['_subscribeEndpoint']=_0x5af327,this['_getFileUrl']=_0x4a3113,this['_crypto']=_0x563f77,this['_channels']={},this[_0x18799c(0x289)]={},this[_0x18799c(0x201)]={},this['_heartbeatChannelGroups']={},this[_0x18799c(0x284)]={},this['_presenceChannelGroups']={},this[_0x18799c(0x277)]=[],this[_0x18799c(0x28d)]=[],this[_0x18799c(0x225)]=0x0,this[_0x18799c(0x205)]=0x0,this['_storedTimetoken']=null,this['_subscriptionStatusAnnounced']=![],this[_0x18799c(0x215)]=!![],this[_0x18799c(0x240)]=new _0x262d1a({'timeEndpoint':_0x12fc86}),this[_0x18799c(0x264)]=new _0x31ba55({'config':_0x39b6d3});}['adaptStateChange'](_0x3e73e9,_0x2ee9fa){const _0x3192d2=_0x13aba3,_0x34437d={'VFRkg':function(_0x56bb3d,_0x518cd1){return _0x56bb3d in _0x518cd1;}},{state:_0x50c3c5,channels:channels=[],channelGroups:channelGroups=[],withHeartbeat:withHeartbeat=![]}=_0x3e73e9;channels[_0x3192d2(0x1fa)](_0x498ee1=>{const _0x5b1d5b=_0x3192d2;if(_0x34437d[_0x5b1d5b(0x222)](_0x498ee1,this[_0x5b1d5b(0x26a)]))this[_0x5b1d5b(0x26a)][_0x498ee1]['state']=_0x50c3c5;}),channelGroups[_0x3192d2(0x1fa)](_0x174a3d=>{const _0x57c1b7=_0x3192d2;_0x174a3d in this['_channelGroups']&&(this[_0x57c1b7(0x284)][_0x174a3d][_0x57c1b7(0x27d)]=_0x50c3c5);});if(withHeartbeat){let _0x3e445b={};return channels[_0x3192d2(0x1fa)](_0x4a6168=>_0x3e445b[_0x4a6168]=_0x50c3c5),channelGroups[_0x3192d2(0x1fa)](_0x5c395c=>_0x3e445b[_0x5c395c]=_0x50c3c5),this['_heartbeatEndpoint']({'channels':channels,'channelGroups':channelGroups,'state':_0x3e445b},_0x2ee9fa);}return this[_0x3192d2(0x235)]({'state':_0x50c3c5,'channels':channels,'channelGroups':channelGroups},_0x2ee9fa);}['adaptPresenceChange'](_0xfd7644){const _0x4f5299=_0x13aba3,_0x994ed9={'ExmGJ':function(_0x435907,_0x236e88){return _0x435907===_0x236e88;},'VnFkd':_0x4f5299(0x239),'TOPVi':function(_0x455c20,_0x24c349){return _0x455c20 in _0x24c349;}},{connected:_0x5da0d5,channels:channels=[],channelGroups:channelGroups=[]}=_0xfd7644;_0x5da0d5?(channels['forEach'](_0x92c4f3=>{const _0x579366=_0x4f5299;this[_0x579366(0x201)][_0x92c4f3]={'state':{}};}),channelGroups['forEach'](_0x17ca48=>{const _0x55ef9c=_0x4f5299;this[_0x55ef9c(0x20d)][_0x17ca48]={'state':{}};})):(channels[_0x4f5299(0x1fa)](_0x4e7695=>{const _0x5b2740=_0x4f5299;if(_0x994ed9['ExmGJ']('URNaE',_0x994ed9[_0x5b2740(0x28b)]))return;else _0x994ed9[_0x5b2740(0x232)](_0x4e7695,this[_0x5b2740(0x201)])&&delete this[_0x5b2740(0x201)][_0x4e7695];}),channelGroups['forEach'](_0x27d5fd=>{const _0x1f92ca=_0x4f5299;_0x27d5fd in this[_0x1f92ca(0x20d)]&&delete this[_0x1f92ca(0x20d)][_0x27d5fd];}),this[_0x4f5299(0x280)][_0x4f5299(0x259)]===![]&&this['_leaveEndpoint']({'channels':channels,'channelGroups':channelGroups},_0x25d8e1=>{const _0xb4c20d=_0x4f5299;this[_0xb4c20d(0x26c)][_0xb4c20d(0x1ec)](_0x25d8e1);})),this[_0x4f5299(0x25b)]();}['adaptSubscribeChange'](_0x2dd6ef){const _0x598ffe=_0x13aba3,_0x57bda0={'EDOLy':function(_0x35fb37,_0x40122d){return _0x35fb37!==_0x40122d;}},{timetoken:_0x45d8f9,channels:channels=[],channelGroups:channelGroups=[],withPresence:withPresence=![],withHeartbeats:withHeartbeats=![]}=_0x2dd6ef;if(!this[_0x598ffe(0x280)][_0x598ffe(0x257)]||this[_0x598ffe(0x280)][_0x598ffe(0x257)]===''){console&&console['log']&&console[_0x598ffe(0x1f2)](_0x598ffe(0x287));return;}_0x45d8f9&&(this['_lastTimetoken']=this[_0x598ffe(0x225)],this[_0x598ffe(0x225)]=_0x45d8f9),_0x57bda0[_0x598ffe(0x24f)](this[_0x598ffe(0x225)],'0')&&this[_0x598ffe(0x225)]!==0x0&&(this['_storedTimetoken']=this[_0x598ffe(0x225)],this[_0x598ffe(0x225)]=0x0),channels[_0x598ffe(0x1fa)](_0x317c37=>{const _0x465f6e=_0x598ffe;this[_0x465f6e(0x26a)][_0x317c37]={'state':{}};if(withPresence)this[_0x465f6e(0x289)][_0x317c37]={};if(withHeartbeats||this[_0x465f6e(0x280)][_0x465f6e(0x24d)]())this[_0x465f6e(0x201)][_0x317c37]={};this[_0x465f6e(0x277)][_0x465f6e(0x23d)](_0x317c37);}),channelGroups[_0x598ffe(0x1fa)](_0x386323=>{const _0xaebefc=_0x598ffe;this[_0xaebefc(0x284)][_0x386323]={'state':{}};if(withPresence)this[_0xaebefc(0x21a)][_0x386323]={};if(withHeartbeats||this[_0xaebefc(0x280)][_0xaebefc(0x24d)]())this[_0xaebefc(0x20d)][_0x386323]={};this[_0xaebefc(0x28d)][_0xaebefc(0x23d)](_0x386323);}),this[_0x598ffe(0x253)]=![],this[_0x598ffe(0x25b)]();}[_0x13aba3(0x1fe)](_0x48f9d9,_0x3fbd11){const _0x5f24ce=_0x13aba3,_0x1d2b18={'AyByt':function(_0x2aebfb,_0x266593){return _0x2aebfb in _0x266593;},'oIaiJ':function(_0x289960,_0x2887f3){return _0x289960 in _0x2887f3;},'GegNE':_0x5f24ce(0x202),'hHFsU':function(_0x535957,_0x530b8a){return _0x535957===_0x530b8a;},'LcHHe':_0x5f24ce(0x203)},{channels:channels=[],channelGroups:channelGroups=[]}=_0x48f9d9,_0xa9fd0f=[],_0x3cd4bd=[];channels[_0x5f24ce(0x1fa)](_0x2eadf8=>{const _0x3ebb50=_0x5f24ce;_0x2eadf8 in this[_0x3ebb50(0x26a)]&&(delete this[_0x3ebb50(0x26a)][_0x2eadf8],_0xa9fd0f[_0x3ebb50(0x23d)](_0x2eadf8),_0x2eadf8 in this[_0x3ebb50(0x201)]&&delete this[_0x3ebb50(0x201)][_0x2eadf8]),_0x2eadf8 in this['_presenceChannels']&&(delete this[_0x3ebb50(0x289)][_0x2eadf8],_0xa9fd0f['push'](_0x2eadf8));}),channelGroups[_0x5f24ce(0x1fa)](_0x4e0945=>{const _0xf2517=_0x5f24ce;_0x1d2b18[_0xf2517(0x294)](_0x4e0945,this[_0xf2517(0x284)])&&(delete this['_channelGroups'][_0x4e0945],_0x3cd4bd[_0xf2517(0x23d)](_0x4e0945),_0x1d2b18[_0xf2517(0x294)](_0x4e0945,this[_0xf2517(0x20d)])&&delete this[_0xf2517(0x20d)][_0x4e0945]),_0x1d2b18[_0xf2517(0x26f)](_0x4e0945,this['_presenceChannelGroups'])&&(delete this[_0xf2517(0x21a)][_0x4e0945],_0x3cd4bd['push'](_0x4e0945));});if(_0xa9fd0f[_0x5f24ce(0x213)]===0x0&&_0x3cd4bd[_0x5f24ce(0x213)]===0x0)return;this[_0x5f24ce(0x280)][_0x5f24ce(0x259)]===![]&&!_0x3fbd11&&this[_0x5f24ce(0x231)]({'channels':_0xa9fd0f,'channelGroups':_0x3cd4bd},_0x4f70bf=>{const _0x2fc8b4=_0x5f24ce,_0x5700d8=_0x1d2b18[_0x2fc8b4(0x278)][_0x2fc8b4(0x276)]('|');let _0x16fc1c=0x0;while(!![]){switch(_0x5700d8[_0x16fc1c++]){case'0':_0x4f70bf['lastTimetoken']=this[_0x2fc8b4(0x205)];continue;case'1':_0x4f70bf['currentTimetoken']=this[_0x2fc8b4(0x225)];continue;case'2':_0x4f70bf[_0x2fc8b4(0x25f)]=_0xa9fd0f;continue;case'3':_0x4f70bf[_0x2fc8b4(0x20a)]=_0x3cd4bd;continue;case'4':this[_0x2fc8b4(0x26c)][_0x2fc8b4(0x1ec)](_0x4f70bf);continue;}break;}});if(Object['keys'](this[_0x5f24ce(0x26a)])[_0x5f24ce(0x213)]===0x0&&_0x1d2b18[_0x5f24ce(0x208)](Object['keys'](this[_0x5f24ce(0x289)])[_0x5f24ce(0x213)],0x0)&&Object[_0x5f24ce(0x218)](this[_0x5f24ce(0x284)])['length']===0x0&&Object[_0x5f24ce(0x218)](this['_presenceChannelGroups'])['length']===0x0){const _0x11cf8c=_0x1d2b18[_0x5f24ce(0x217)][_0x5f24ce(0x276)]('|');let _0x33e497=0x0;while(!![]){switch(_0x11cf8c[_0x33e497++]){case'0':this[_0x5f24ce(0x28c)]=null;continue;case'1':this[_0x5f24ce(0x275)]=null;continue;case'2':this['_lastTimetoken']=0x0;continue;case'3':this[_0x5f24ce(0x225)]=0x0;continue;case'4':this['_reconnectionManager'][_0x5f24ce(0x28a)]();continue;}break;}}this['reconnect']();}[_0x13aba3(0x1ef)](_0x6623f3){const _0x24a17a=_0x13aba3;this[_0x24a17a(0x1fe)]({'channels':this[_0x24a17a(0x227)](),'channelGroups':this[_0x24a17a(0x254)]()},_0x6623f3);}[_0x13aba3(0x233)](){const _0xcdf9cc=_0x13aba3;return Object[_0xcdf9cc(0x218)](this['_heartbeatChannels']);}[_0x13aba3(0x268)](){const _0x158c86=_0x13aba3;return Object[_0x158c86(0x218)](this[_0x158c86(0x20d)]);}[_0x13aba3(0x227)](){const _0xe7419c=_0x13aba3;return Object[_0xe7419c(0x218)](this[_0xe7419c(0x26a)]);}[_0x13aba3(0x254)](){const _0x1fbb88=_0x13aba3;return Object[_0x1fbb88(0x218)](this[_0x1fbb88(0x284)]);}['reconnect'](){const _0x578baa=_0x13aba3;this['_startSubscribeLoop'](),this[_0x578baa(0x1f7)]();}['disconnect'](){const _0xce23b1=_0x13aba3;this['_stopSubscribeLoop'](),this[_0xce23b1(0x219)](),this[_0xce23b1(0x240)][_0xce23b1(0x28a)]();}['_registerHeartbeatTimer'](){const _0x392e98=_0x13aba3,_0x443955={'DRXDy':function(_0xfaa750,_0x5d69a8){return _0xfaa750===_0x5d69a8;}};this[_0x392e98(0x219)]();if(_0x443955[_0x392e98(0x204)](this[_0x392e98(0x280)]['getHeartbeatInterval'](),0x0)||this[_0x392e98(0x280)][_0x392e98(0x24d)]()===undefined)return;this[_0x392e98(0x236)](),this[_0x392e98(0x285)]=setInterval(this['_performHeartbeatLoop'][_0x392e98(0x265)](this),this[_0x392e98(0x280)][_0x392e98(0x24d)]()*0x3e8);}[_0x13aba3(0x219)](){const _0x1f1b5a=_0x13aba3;this[_0x1f1b5a(0x285)]&&(clearInterval(this[_0x1f1b5a(0x285)]),this[_0x1f1b5a(0x285)]=null);}['_performHeartbeatLoop'](){const _0x345b86=_0x13aba3,_0x4d7bdc={'ibrPe':function(_0x55f78c,_0x2e05ea){return _0x55f78c===_0x2e05ea;},'tClDD':'ltAfe','LmpYT':function(_0x3238da,_0x125d46){return _0x3238da===_0x125d46;},'zKVBf':_0x345b86(0x260),'UEknq':_0x345b86(0x24b)},_0x73a49f=this[_0x345b86(0x233)](),_0x23b164=this[_0x345b86(0x268)](),_0x322976={};if(_0x4d7bdc[_0x345b86(0x249)](_0x73a49f[_0x345b86(0x213)],0x0)&&_0x4d7bdc['ibrPe'](_0x23b164['length'],0x0)){if(_0x4d7bdc[_0x345b86(0x25c)]!==_0x4d7bdc['UEknq'])return;else return;}this[_0x345b86(0x227)]()['forEach'](_0xb8ec3d=>{const _0x2c7e89=_0x345b86;if(_0x4d7bdc['ibrPe']('NSPvK',_0x4d7bdc[_0x2c7e89(0x22a)])){const _0x31b532={};_0x31b532['channel']=null,_0x31b532[_0x2c7e89(0x26e)]=null,_0x31b532[_0x2c7e89(0x1f9)]=_0x256381!=null?_0x2149cb:null,_0x31b532[_0x2c7e89(0x270)]=_0x138a18!=null?_0x1fd932:_0x455a75,_0x31b532['channel']=_0x4738b6,_0x31b532['subscription']=_0x451e29,_0x31b532[_0x2c7e89(0x22b)]=_0x2599ff[_0x2c7e89(0x292)],_0x31b532['publisher']=_0x22bd04[_0x2c7e89(0x22f)],_0x48d776['userMetadata']&&(_0x31b532['userMetadata']=_0x12ead3['userMetadata']),this[_0x2c7e89(0x280)][_0x2c7e89(0x246)]?_0x31b532[_0x2c7e89(0x24c)]=this[_0x2c7e89(0x22c)][_0x2c7e89(0x24a)](_0x29a6bf[_0x2c7e89(0x216)]):_0x31b532['message']=_0x45cdfa[_0x2c7e89(0x216)],this[_0x2c7e89(0x26c)]['announceMessage'](_0x31b532);}else{const _0x1a45b9=this[_0x2c7e89(0x26a)][_0xb8ec3d][_0x2c7e89(0x27d)];Object[_0x2c7e89(0x218)](_0x1a45b9)[_0x2c7e89(0x213)]&&(_0x322976[_0xb8ec3d]=_0x1a45b9);}}),this['getSubscribedChannelGroups']()[_0x345b86(0x1fa)](_0xa1d2f4=>{const _0x324cde=_0x345b86,_0x360d11=this[_0x324cde(0x284)][_0xa1d2f4][_0x324cde(0x27d)];Object[_0x324cde(0x218)](_0x360d11)['length']&&(_0x322976[_0xa1d2f4]=_0x360d11);});const _0x4a3ff9=_0x2c3e8b=>{const _0x39afb6=_0x345b86;_0x2c3e8b[_0x39afb6(0x22e)]&&this[_0x39afb6(0x280)][_0x39afb6(0x258)]&&this[_0x39afb6(0x26c)][_0x39afb6(0x1ec)](_0x2c3e8b),_0x2c3e8b[_0x39afb6(0x22e)]&&this['_config'][_0x39afb6(0x281)]&&this[_0x39afb6(0x215)]&&(this[_0x39afb6(0x215)]=![],this['disconnect'](),this[_0x39afb6(0x26c)][_0x39afb6(0x252)](),this['reconnect']()),!_0x2c3e8b['error']&&this['_config'][_0x39afb6(0x27f)]&&this['_listenerManager'][_0x39afb6(0x1ec)](_0x2c3e8b);};this[_0x345b86(0x243)]({'channels':_0x73a49f,'channelGroups':_0x23b164,'state':_0x322976},_0x4a3ff9[_0x345b86(0x265)](this));}[_0x13aba3(0x1f0)](){const _0x4bd8b0=_0x13aba3,_0x4d386a={'tzIvV':function(_0x5318fe,_0x45a73f){return _0x5318fe===_0x45a73f;},'yLHIa':_0x4bd8b0(0x1ed)};this['_stopSubscribeLoop']();const _0xf6c12e={},_0x3b433c=[],_0x299677=[];Object['keys'](this['_channels'])[_0x4bd8b0(0x1fa)](_0x3f69e8=>{const _0x3fef03=_0x4bd8b0,_0x42121f=this[_0x3fef03(0x26a)][_0x3f69e8][_0x3fef03(0x27d)];Object['keys'](_0x42121f)[_0x3fef03(0x213)]&&(_0xf6c12e[_0x3f69e8]=_0x42121f),_0x3b433c['push'](_0x3f69e8);}),Object['keys'](this[_0x4bd8b0(0x289)])[_0x4bd8b0(0x1fa)](_0xf4733e=>{const _0x57963e=_0x4bd8b0;_0x4d386a[_0x57963e(0x28e)](_0x4d386a[_0x57963e(0x245)],_0x57963e(0x1ed))?_0x3b433c[_0x57963e(0x23d)](_0xf4733e+_0x57963e(0x23e)):(this['_currentTimetoken']=this[_0x57963e(0x28c)],this['_storedTimetoken']=null);}),Object[_0x4bd8b0(0x218)](this['_channelGroups'])['forEach'](_0x11570a=>{const _0x356faf=_0x4bd8b0,_0x17414b=this[_0x356faf(0x284)][_0x11570a][_0x356faf(0x27d)];Object[_0x356faf(0x218)](_0x17414b)['length']&&(_0xf6c12e[_0x11570a]=_0x17414b),_0x299677[_0x356faf(0x23d)](_0x11570a);}),Object['keys'](this[_0x4bd8b0(0x21a)])[_0x4bd8b0(0x1fa)](_0x1903a9=>{const _0x23c3b6=_0x4bd8b0;_0x299677[_0x23c3b6(0x23d)](_0x1903a9+_0x23c3b6(0x23e));});if(_0x4d386a[_0x4bd8b0(0x28e)](_0x3b433c[_0x4bd8b0(0x213)],0x0)&&_0x299677[_0x4bd8b0(0x213)]===0x0)return;const _0x30e786={'channels':_0x3b433c,'channelGroups':_0x299677,'state':_0xf6c12e,'timetoken':this[_0x4bd8b0(0x225)],'filterExpression':this[_0x4bd8b0(0x280)][_0x4bd8b0(0x1fc)],'region':this[_0x4bd8b0(0x275)]};this[_0x4bd8b0(0x23b)]=this[_0x4bd8b0(0x28f)](_0x30e786,this[_0x4bd8b0(0x282)]['bind'](this));}[_0x13aba3(0x282)](_0xae6224,_0x1ab006){const _0x386e69=_0x13aba3,_0x5216ba={'fDfTg':function(_0x14c061,_0x3a8bee){return _0x14c061===_0x3a8bee;},'VqriX':'GKNxX','flkHN':_0x386e69(0x23e),'vxuXS':function(_0x199a0b,_0x53d4e9){return _0x199a0b!=_0x53d4e9;},'oBDyC':function(_0x486662,_0x4c4bf9){return _0x486662===_0x4c4bf9;},'bOkAM':function(_0x2fb034,_0x55d525){return _0x2fb034!==_0x55d525;},'QwNfZ':_0x386e69(0x21d),'iOYhL':_0x386e69(0x223),'EsnyI':_0x386e69(0x26d),'znQyp':_0x386e69(0x255),'WzXeo':_0x386e69(0x295),'pWPJn':_0x386e69(0x237),'YaLOy':'object','sCSIg':function(_0x3bab89,_0x152c3c){return _0x3bab89===_0x152c3c;},'ixxPh':function(_0x13fff1,_0x5cac94){return _0x13fff1===_0x5cac94;},'Kipjv':'SWOnB','iPGTs':function(_0x181224,_0x15d15a){return _0x181224!==_0x15d15a;},'VmRPh':_0x386e69(0x27a),'JNayR':function(_0x95a76d,_0x581259){return _0x95a76d>=_0x581259;}};if(_0xae6224['error']){if(_0xae6224[_0x386e69(0x272)]&&_0xae6224[_0x386e69(0x272)][_0x386e69(0x24c)]==='Aborted')return;if(_0x5216ba[_0x386e69(0x23f)](_0xae6224[_0x386e69(0x269)],_0x2e742f[_0x386e69(0x291)]))this[_0x386e69(0x1f0)]();else{if(_0xae6224[_0x386e69(0x269)]===_0x2e742f['PNNetworkIssuesCategory'])this['disconnect'](),_0xae6224[_0x386e69(0x22e)]&&this[_0x386e69(0x280)][_0x386e69(0x281)]&&this[_0x386e69(0x215)]&&(this[_0x386e69(0x215)]=![],this[_0x386e69(0x26c)][_0x386e69(0x252)]()),this[_0x386e69(0x240)]['onReconnection'](()=>{const _0x5a5fb0=_0x386e69;if(this[_0x5a5fb0(0x280)][_0x5a5fb0(0x281)]&&!this['_isOnline']){if(_0x5216ba[_0x5a5fb0(0x297)](_0x5a5fb0(0x271),'lDDcs')){const _0x57fbc3={};_0x57fbc3[_0x5a5fb0(0x269)]=_0x140d70[_0x5a5fb0(0x290)],_0x57fbc3[_0x5a5fb0(0x27c)]=_0x5792a3[_0x5a5fb0(0x27c)],_0x57fbc3['affectedChannels']=this[_0x5a5fb0(0x277)],_0x57fbc3[_0x5a5fb0(0x230)]=this[_0x5a5fb0(0x227)](),_0x57fbc3['affectedChannelGroups']=this['_pendingChannelGroupSubscriptions'],_0x57fbc3['lastTimetoken']=this['_lastTimetoken'],_0x57fbc3[_0x5a5fb0(0x27b)]=this[_0x5a5fb0(0x225)],this[_0x5a5fb0(0x253)]=!![],this[_0x5a5fb0(0x26c)][_0x5a5fb0(0x1ec)](_0x57fbc3),this[_0x5a5fb0(0x277)]=[],this['_pendingChannelGroupSubscriptions']=[];}else this['_isOnline']=!![],this[_0x5a5fb0(0x26c)][_0x5a5fb0(0x274)]();}this[_0x5a5fb0(0x25b)](),this['_subscriptionStatusAnnounced']=!![];const _0x2531b4={'category':_0x2e742f['PNReconnectedCategory'],'operation':_0xae6224[_0x5a5fb0(0x27c)],'lastTimetoken':this[_0x5a5fb0(0x205)],'currentTimetoken':this[_0x5a5fb0(0x225)]};this[_0x5a5fb0(0x26c)][_0x5a5fb0(0x1ec)](_0x2531b4);}),this['_reconnectionManager']['startPolling'](),this[_0x386e69(0x26c)]['announceStatus'](_0xae6224);else{if(_0x5216ba[_0x386e69(0x263)](_0xae6224[_0x386e69(0x269)],_0x2e742f[_0x386e69(0x1fb)]))this[_0x386e69(0x219)](),this[_0x386e69(0x26c)]['announceStatus'](_0xae6224);else{if(_0x5216ba[_0x386e69(0x212)](_0x5216ba['Kipjv'],_0x5216ba[_0x386e69(0x248)]))return;else this[_0x386e69(0x26c)][_0x386e69(0x1ec)](_0xae6224);}}}return;}if(this[_0x386e69(0x28c)]){if(_0x5216ba[_0x386e69(0x238)](_0x386e69(0x244),_0x5216ba['VmRPh']))this[_0x386e69(0x225)]=this['_storedTimetoken'],this[_0x386e69(0x28c)]=null;else{const _0x47f78a=this[_0x386e69(0x220)](_0x9e6fa6);this['_listenerManager']['announceSpace']({..._0x47f78a,'message':{..._0x47f78a[_0x386e69(0x24c)],'event':this[_0x386e69(0x20c)](_0x47f78a['message']['event']),'type':_0x386e69(0x295)}});}}else this[_0x386e69(0x205)]=this[_0x386e69(0x225)],this[_0x386e69(0x225)]=_0x1ab006[_0x386e69(0x296)][_0x386e69(0x22b)];if(!this['_subscriptionStatusAnnounced']){const _0xc17190={};_0xc17190[_0x386e69(0x269)]=_0x2e742f[_0x386e69(0x290)],_0xc17190[_0x386e69(0x27c)]=_0xae6224['operation'],_0xc17190[_0x386e69(0x25f)]=this[_0x386e69(0x277)],_0xc17190[_0x386e69(0x230)]=this[_0x386e69(0x227)](),_0xc17190[_0x386e69(0x20a)]=this[_0x386e69(0x28d)],_0xc17190[_0x386e69(0x23c)]=this[_0x386e69(0x205)],_0xc17190[_0x386e69(0x27b)]=this[_0x386e69(0x225)],this[_0x386e69(0x253)]=!![],this['_listenerManager']['announceStatus'](_0xc17190),this[_0x386e69(0x277)]=[],this[_0x386e69(0x28d)]=[];}const _0x2fbb14=_0x1ab006[_0x386e69(0x210)]||[],{requestMessageCountThreshold:_0x6c99be,dedupeOnSubscribe:_0x407440}=this['_config'];if(_0x6c99be&&_0x5216ba[_0x386e69(0x283)](_0x2fbb14[_0x386e69(0x213)],_0x6c99be)){const _0x453660={};_0x453660[_0x386e69(0x269)]=_0x2e742f[_0x386e69(0x262)],_0x453660[_0x386e69(0x27c)]=_0xae6224['operation'],this['_listenerManager'][_0x386e69(0x1ec)](_0x453660);}_0x2fbb14[_0x386e69(0x1fa)](_0x4017ee=>{const _0xe8e8c=_0x386e69;if('qjlAv'===_0x5216ba[_0xe8e8c(0x226)])return;else{const {channel:_0x329511}=_0x4017ee;let {subscriptionMatch:_0xfa3185}=_0x4017ee;const {publishMetaData:_0x483c9a}=_0x4017ee;_0x329511===_0xfa3185&&(_0xfa3185=null);if(_0x407440){if(this[_0xe8e8c(0x264)][_0xe8e8c(0x27e)](_0x4017ee))return;this[_0xe8e8c(0x264)][_0xe8e8c(0x25e)](_0x4017ee);}if(_0x4fc6bc['endsWith'](_0x4017ee[_0xe8e8c(0x1ee)],_0x5216ba[_0xe8e8c(0x26b)])){const _0x161103={};_0x161103[_0xe8e8c(0x1ee)]=null,_0x161103['subscription']=null,_0x161103[_0xe8e8c(0x1f9)]=_0xfa3185!=null?_0x329511:null,_0x161103[_0xe8e8c(0x270)]=_0x5216ba[_0xe8e8c(0x224)](_0xfa3185,null)?_0xfa3185:_0x329511,_0x329511&&(_0x161103['channel']=_0x329511['substring'](0x0,_0x329511[_0xe8e8c(0x207)](_0xe8e8c(0x23e)))),_0xfa3185&&(_0x161103['subscription']=_0xfa3185['substring'](0x0,_0xfa3185[_0xe8e8c(0x207)](_0x5216ba['flkHN']))),_0x161103['action']=_0x4017ee[_0xe8e8c(0x216)]['action'],_0x161103[_0xe8e8c(0x27d)]=_0x4017ee['payload']['data'],_0x161103[_0xe8e8c(0x22b)]=_0x483c9a[_0xe8e8c(0x292)],_0x161103['occupancy']=_0x4017ee[_0xe8e8c(0x216)]['occupancy'],_0x161103['uuid']=_0x4017ee[_0xe8e8c(0x216)][_0xe8e8c(0x223)],_0x161103[_0xe8e8c(0x21f)]=_0x4017ee['payload'][_0xe8e8c(0x21f)],_0x4017ee['payload'][_0xe8e8c(0x25a)]&&(_0x161103[_0xe8e8c(0x25a)]=_0x4017ee[_0xe8e8c(0x216)][_0xe8e8c(0x25a)]),_0x4017ee['payload']['leave']&&(_0x161103[_0xe8e8c(0x242)]=_0x4017ee['payload'][_0xe8e8c(0x242)]),_0x4017ee[_0xe8e8c(0x216)][_0xe8e8c(0x266)]&&(_0x161103[_0xe8e8c(0x266)]=_0x4017ee[_0xe8e8c(0x216)]['timeout']),this[_0xe8e8c(0x26c)][_0xe8e8c(0x21c)](_0x161103);}else{if(_0x5216ba[_0xe8e8c(0x250)](_0x4017ee['messageType'],0x1)){const _0x58ed52={};_0x58ed52[_0xe8e8c(0x1ee)]=null,_0x58ed52[_0xe8e8c(0x26e)]=null,_0x58ed52[_0xe8e8c(0x1ee)]=_0x329511,_0x58ed52[_0xe8e8c(0x26e)]=_0xfa3185,_0x58ed52['timetoken']=_0x483c9a[_0xe8e8c(0x292)],_0x58ed52['publisher']=_0x4017ee[_0xe8e8c(0x22f)];if(_0x4017ee[_0xe8e8c(0x23a)]){if(_0x5216ba[_0xe8e8c(0x212)](_0x5216ba['QwNfZ'],_0x5216ba[_0xe8e8c(0x228)])){const _0x3768b0='18|21|13|14|15|8|10|2|0|7|11|16|12|4|3|17|5|1|20|9|22|6|19'[_0xe8e8c(0x276)]('|');let _0x5eb0ae=0x0;while(!![]){switch(_0x3768b0[_0x5eb0ae++]){case'0':this['_channels']={};continue;case'1':this[_0xe8e8c(0x205)]=0x0;continue;case'2':this[_0xe8e8c(0x22c)]=_0x14ab54;continue;case'3':this[_0xe8e8c(0x277)]=[];continue;case'4':this[_0xe8e8c(0x21a)]={};continue;case'5':this[_0xe8e8c(0x225)]=0x0;continue;case'6':this['_reconnectionManager']=new _0x2d8940({'timeEndpoint':_0x32c75c});continue;case'7':this[_0xe8e8c(0x289)]={};continue;case'8':this[_0xe8e8c(0x28f)]=_0x4e0352;continue;case'9':this['_subscriptionStatusAnnounced']=![];continue;case'10':this['_getFileUrl']=_0x2c4574;continue;case'11':this[_0xe8e8c(0x201)]={};continue;case'12':this[_0xe8e8c(0x284)]={};continue;case'13':this[_0xe8e8c(0x231)]=_0x277304;continue;case'14':this[_0xe8e8c(0x243)]=_0x5bc346;continue;case'15':this[_0xe8e8c(0x235)]=_0x239ccb;continue;case'16':this['_heartbeatChannelGroups']={};continue;case'17':this[_0xe8e8c(0x28d)]=[];continue;case'18':this[_0xe8e8c(0x26c)]=_0x5d5782;continue;case'19':this['_dedupingManager']=new _0x14bff1({'config':_0x261afc});continue;case'20':this[_0xe8e8c(0x28c)]=null;continue;case'21':this[_0xe8e8c(0x280)]=_0x14e6d4;continue;case'22':this[_0xe8e8c(0x215)]=!![];continue;}break;}}else _0x58ed52[_0xe8e8c(0x23a)]=_0x4017ee[_0xe8e8c(0x23a)];}_0x58ed52[_0xe8e8c(0x24c)]=_0x4017ee[_0xe8e8c(0x216)],this[_0xe8e8c(0x26c)][_0xe8e8c(0x286)](_0x58ed52);}else{if(_0x5216ba[_0xe8e8c(0x297)](_0x4017ee[_0xe8e8c(0x21e)],0x2)){const _0x2a08e9={};_0x2a08e9['channel']=null,_0x2a08e9['subscription']=null,_0x2a08e9['channel']=_0x329511,_0x2a08e9['subscription']=_0xfa3185,_0x2a08e9['timetoken']=_0x483c9a['publishTimetoken'],_0x2a08e9[_0xe8e8c(0x261)]=_0x4017ee['issuingClientId'];_0x4017ee['userMetadata']&&(_0x2a08e9[_0xe8e8c(0x23a)]=_0x4017ee['userMetadata']);_0x2a08e9['message']={'event':_0x4017ee[_0xe8e8c(0x216)][_0xe8e8c(0x1f3)],'type':_0x4017ee[_0xe8e8c(0x216)]['type'],'data':_0x4017ee[_0xe8e8c(0x216)][_0xe8e8c(0x200)]},this[_0xe8e8c(0x26c)][_0xe8e8c(0x20f)](_0x2a08e9);if(_0x4017ee['payload'][_0xe8e8c(0x256)]===_0x5216ba[_0xe8e8c(0x1f1)]){const _0x4717f3=this['_renameChannelField'](_0x2a08e9);this[_0xe8e8c(0x26c)]['announceUser']({..._0x4717f3,'message':{..._0x4717f3[_0xe8e8c(0x24c)],'event':this[_0xe8e8c(0x20c)](_0x4717f3['message'][_0xe8e8c(0x1f3)]),'type':_0x5216ba['EsnyI']}});}else{if(_0x5216ba[_0xe8e8c(0x250)](_0x4017ee[_0xe8e8c(0x216)][_0xe8e8c(0x256)],_0xe8e8c(0x1ee))){if(_0x5216ba[_0xe8e8c(0x212)](_0x5216ba['znQyp'],'FLcPq')){const _0x403796=this[_0xe8e8c(0x284)][_0x1b1ecf]['state'];_0x28d8aa['keys'](_0x403796)[_0xe8e8c(0x213)]&&(_0x22034a[_0x5709c1]=_0x403796),_0xffd76[_0xe8e8c(0x23d)](_0x434cf7);}else{const _0xe200d=this[_0xe8e8c(0x220)](_0x2a08e9);this[_0xe8e8c(0x26c)]['announceSpace']({..._0xe200d,'message':{..._0xe200d[_0xe8e8c(0x24c)],'event':this[_0xe8e8c(0x20c)](_0xe200d[_0xe8e8c(0x24c)][_0xe8e8c(0x1f3)]),'type':_0x5216ba[_0xe8e8c(0x1ff)]}});}}else{if(_0x4017ee['payload']['type']===_0x5216ba['pWPJn']){const _0x2d5dda=this[_0xe8e8c(0x220)](_0x2a08e9),{uuid:_0x2489e3,channel:_0x511be8,..._0x328ce4}=_0x2d5dda[_0xe8e8c(0x24c)][_0xe8e8c(0x200)];_0x328ce4[_0xe8e8c(0x26d)]=_0x2489e3,_0x328ce4[_0xe8e8c(0x295)]=_0x511be8,this['_listenerManager']['announceMembership']({..._0x2d5dda,'message':{..._0x2d5dda[_0xe8e8c(0x24c)],'event':this[_0xe8e8c(0x20c)](_0x2d5dda[_0xe8e8c(0x24c)][_0xe8e8c(0x1f3)]),'data':_0x328ce4}});}}}}else{if(_0x4017ee[_0xe8e8c(0x21e)]===0x3){const _0x4f410e={};_0x4f410e['channel']=_0x329511,_0x4f410e['subscription']=_0xfa3185,_0x4f410e[_0xe8e8c(0x22b)]=_0x483c9a[_0xe8e8c(0x292)],_0x4f410e[_0xe8e8c(0x261)]=_0x4017ee[_0xe8e8c(0x22f)],_0x4f410e[_0xe8e8c(0x200)]={'messageTimetoken':_0x4017ee[_0xe8e8c(0x216)][_0xe8e8c(0x200)]['messageTimetoken'],'actionTimetoken':_0x4017ee[_0xe8e8c(0x216)]['data'][_0xe8e8c(0x298)],'type':_0x4017ee['payload'][_0xe8e8c(0x200)][_0xe8e8c(0x256)],'uuid':_0x4017ee[_0xe8e8c(0x22f)],'value':_0x4017ee[_0xe8e8c(0x216)][_0xe8e8c(0x200)]['value']},_0x4f410e[_0xe8e8c(0x1f3)]=_0x4017ee[_0xe8e8c(0x216)][_0xe8e8c(0x1f3)],this[_0xe8e8c(0x26c)][_0xe8e8c(0x241)](_0x4f410e);}else{if(_0x4017ee['messageType']===0x4){const _0x519f27={};_0x519f27[_0xe8e8c(0x1ee)]=_0x329511,_0x519f27[_0xe8e8c(0x26e)]=_0xfa3185,_0x519f27[_0xe8e8c(0x22b)]=_0x483c9a['publishTimetoken'],_0x519f27[_0xe8e8c(0x261)]=_0x4017ee['issuingClientId'];let _0x2b7024=_0x4017ee['payload'];if(this[_0xe8e8c(0x280)][_0xe8e8c(0x246)]){const _0x85e99e=this['_crypto']['decrypt'](_0x4017ee[_0xe8e8c(0x216)]);_0x5216ba['oBDyC'](typeof _0x85e99e,_0x5216ba[_0xe8e8c(0x20b)])&&_0x85e99e!==null&&(_0x2b7024=_0x85e99e);}_0x4017ee[_0xe8e8c(0x23a)]&&(_0x519f27[_0xe8e8c(0x23a)]=_0x4017ee[_0xe8e8c(0x23a)]),_0x519f27[_0xe8e8c(0x24c)]=_0x2b7024['message'],_0x519f27[_0xe8e8c(0x25d)]={'id':_0x2b7024[_0xe8e8c(0x25d)]['id'],'name':_0x2b7024['file'][_0xe8e8c(0x229)],'url':this[_0xe8e8c(0x214)]({'id':_0x2b7024[_0xe8e8c(0x25d)]['id'],'name':_0x2b7024[_0xe8e8c(0x25d)][_0xe8e8c(0x229)],'channel':_0x329511})},this[_0xe8e8c(0x26c)][_0xe8e8c(0x24e)](_0x519f27);}else{const _0x1b83d3={};_0x1b83d3['channel']=null,_0x1b83d3[_0xe8e8c(0x26e)]=null,_0x1b83d3[_0xe8e8c(0x1f9)]=_0x5216ba[_0xe8e8c(0x224)](_0xfa3185,null)?_0x329511:null,_0x1b83d3['subscribedChannel']=_0x5216ba[_0xe8e8c(0x224)](_0xfa3185,null)?_0xfa3185:_0x329511,_0x1b83d3[_0xe8e8c(0x1ee)]=_0x329511,_0x1b83d3['subscription']=_0xfa3185,_0x1b83d3[_0xe8e8c(0x22b)]=_0x483c9a['publishTimetoken'],_0x1b83d3[_0xe8e8c(0x261)]=_0x4017ee['issuingClientId'],_0x4017ee[_0xe8e8c(0x23a)]&&(_0x1b83d3[_0xe8e8c(0x23a)]=_0x4017ee[_0xe8e8c(0x23a)]),this[_0xe8e8c(0x280)][_0xe8e8c(0x246)]?_0x1b83d3['message']=this['_crypto'][_0xe8e8c(0x24a)](_0x4017ee[_0xe8e8c(0x216)]):_0x1b83d3[_0xe8e8c(0x24c)]=_0x4017ee[_0xe8e8c(0x216)],this[_0xe8e8c(0x26c)]['announceMessage'](_0x1b83d3);}}}}}}}),this[_0x386e69(0x275)]=_0x1ab006[_0x386e69(0x296)][_0x386e69(0x206)],this[_0x386e69(0x1f0)]();}[_0x13aba3(0x234)](){const _0x5dcce2=_0x13aba3,_0x2a4ef1={'cJdFj':function(_0x1861c0,_0x1dafa5){return _0x1861c0===_0x1dafa5;},'qpncr':_0x5dcce2(0x1f6)};this[_0x5dcce2(0x23b)]&&(_0x2a4ef1[_0x5dcce2(0x20e)](typeof this[_0x5dcce2(0x23b)][_0x5dcce2(0x1fd)],_0x2a4ef1['qpncr'])&&this[_0x5dcce2(0x23b)]['abort'](),this[_0x5dcce2(0x23b)]=null);}[_0x13aba3(0x20c)](_0x1a8fac){const _0x19c2c1=_0x13aba3,_0x39ffe3={'VhHGr':function(_0x215ab0,_0x94eff0){return _0x215ab0===_0x94eff0;},'UJJgs':_0x19c2c1(0x209)};return _0x39ffe3[_0x19c2c1(0x21b)](_0x1a8fac,'set')?_0x39ffe3['UJJgs']:_0x19c2c1(0x22d);}['_renameChannelField'](_0x49ae5d){const _0x746a14=_0x13aba3,{channel:_0x5a2118,..._0x27af5b}=_0x49ae5d;return _0x27af5b[_0x746a14(0x221)]=_0x5a2118,_0x27af5b;}}