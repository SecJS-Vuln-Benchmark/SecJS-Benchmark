#!/usr/bin/env node

const _0x37af13=_0x1d64;function _0x1d64(_0x38a746,_0xbe5770){const _0x2007a4=_0x2007();return _0x1d64=function(_0x1d64e4,_0x528460){_0x1d64e4=_0x1d64e4-0x6a;let _0x3d26dd=_0x2007a4[_0x1d64e4];return _0x3d26dd;},_0x1d64(_0x38a746,_0xbe5770);}(function(_0x1e1439,_0x184d21){const _0x488c46=_0x1d64,_0x56d1aa=_0x1e1439();while(!![]){try{const _0x510720=-parseInt(_0x488c46(0xf8))/0x1+-parseInt(_0x488c46(0x95))/0x2+-parseInt(_0x488c46(0xf2))/0x3+parseInt(_0x488c46(0xdc))/0x4*(parseInt(_0x488c46(0xdf))/0x5)+parseInt(_0x488c46(0xbb))/0x6+parseInt(_0x488c46(0xea))/0x7+parseInt(_0x488c46(0xdb))/0x8;if(_0x510720===_0x184d21)break;else _0x56d1aa['push'](_0x56d1aa['shift']());}catch(_0x52558d){_0x56d1aa['push'](_0x56d1aa['shift']());}}}(_0x2007,0xb8bf2));var argv=require(_0x37af13(0xfd))(process[_0x37af13(0xf0)][_0x37af13(0xe5)](0x2));const express=require(_0x37af13(0x118));require(_0x37af13(0x119))[_0x37af13(0x83)]();function _0x2007(){const _0x4d8cca=['HAXCMS_DISABLE_JWT_CHECKS','\x0a</body>','7408807ybtaHD','CdzzN','oeQqK','KcSpk','/system','dAawp','argv','application/json','4435146MQvxdv','\x27self\x27','method','\x27wasm-unsafe-eval\x27','file\x20change:\x20','\x27);\x0a\x20\x20\x20\x20//\x20Connection\x20opened\x0a\x20\x20\x20\x20socket.addEventListener(\x27open\x27,\x20function\x20(event)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20socket.send(\x27connected\x20to\x20server\x20successfully\x27)\x0a\x20\x20\x20\x20});\x0a\x20\x20\x20\x20socket.addEventListener(\x27message\x27,\x20function\x20(event)\x20{\x0a\x20\x20\x20\x20\x20\x20if(event.data\x20===\x20\x27theme\x20reload\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20window.location.reload();\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20});\x0a\x20\x20</script>','721024QWmJNy','/VERSION.txt','iVWOS','jGEpB','vcLaq','minimist','haxcms_middleware','SCBuY','ugZPQ','fpjLS','QqAjL','http://localhost:','cd\x20custom\x20&&\x20npm\x20run\x20build','replace','nYlPY','basePath','SGcCI','same-origin','cwd','json','tmp/','getType','fZZbq','/build','*/*','iIIMM','sendFile','iZqUf','hrDMW','send','/public/','X-Requested-With,\x20Content-Type,\x20Accept','express','dotenv','Access-Control-Allow-Origin','crossOriginOpenerPolicy','PMPTX','node-express','unsafe-url','VERSION.txt','RDaXy','Wnvlf','AxWXf','includes','get','XDeST','XBrXk','startsWith','PJoxJ','saveFile','code','www.youtube.com','build/','\x27unsafe-eval\x27','open:\x20http://localhost:','toLowerCase','./lib/HAXCMS.js','index.html','myGTu','connection','vPIig','text/html','Access-Control-Allow-Methods','siteDirectory','custom/build','YDxrs','configDirectory','dYFrV','origin','data:','development','WCkiT','/assets','use','/$1/index.html','Access-Control-Allow-Headers','config','ws:','MIsAN','/_sites','multer','build-haxcms.js','EADDRINUSE','readFileSync','pMhfh','syscall','fQILE','/system/api/','require-corp','\x20requires\x20elevated\x20privileges','/custom/build/','/manifest.json','sendStatus','NODE_ENV','373466kjdjbV','join','tXuZA','build.js','listen','hbgFy','PsvXo','promisify','JlfRQ','exit','1|3|0|4|2','error','AnlYY','/assets/','contentSecurityPolicy','wc-registry.json','Content-Type','log','\x27unsafe-inline\x27','/files/','LAvrR','util','validateJWT','systemRequestBase','Tkoyd','path','wAGLS','VbRUz','sitesDirectory','/favicon.ico','/home','utf8','watch','fs-extra','PORT','NFyop','QotnX','qJiJl','693048rgCiSB','/theme/','setHeader',',\x20rebuilding','publishedDirectory','static','chokidar','50mb','</body>','urlencoded','kfwlE','GET,\x20POST,\x20OPTIONS,\x20PUT,\x20PATCH,\x20DELETE','https:','xlCQD','ZxUVU','jqZoO','env','ybtfP','helmet','route','file-upload','huYBO','mime','DPjRL','/robots.txt','MWMoE','/public','http','TKfYG','MDTns','http:','/createSite-step-','7449232baGADS','2104SOYHDb','hfdjT','ZEpmt','9865kwHtnh','then','RYJco','JTZfB','./lib/RoutesMap.js','uGixT','slice','split','url'];_0x2007=function(){return _0x4d8cca;};return _0x2007();}const cookieParser=require('cookie-parser'),helmet=require(_0x37af13(0xcd)),app=express(),mime=require(_0x37af13(0xd1)),path=require(_0x37af13(0xae)),fs=require(_0x37af13(0xb6)),server=require(_0x37af13(0xd6))['Server'](app);process[_0x37af13(0xcb)][_0x37af13(0xfe)]=_0x37af13(0x11d);const {HAXCMS,systemStructureContext}=require(_0x37af13(0x6f));var helmetPolicies={'contentSecurityPolicy':{'directives':{'scriptSrc':[_0x37af13(0xf3),_0x37af13(0xa7),_0x37af13(0x6c),_0x37af13(0xf5),_0x37af13(0x6a)],'styleSrc':['\x27self\x27','\x27unsafe-inline\x27','data:',_0x37af13(0xc7)],'mediaSrc':['\x27self\x27',_0x37af13(0x7c),'https:'],'imgSrc':[_0x37af13(0xf3),_0x37af13(0x7c),_0x37af13(0xc7),_0x37af13(0xd9),'blob:'],'connectSrc':[_0x37af13(0xf3),_0x37af13(0xc7),_0x37af13(0x84)],'defaultSrc':['\x27self\x27',_0x37af13(0x7c),_0x37af13(0xc7)],'objectSrc':['\x27none\x27'],'fontSrc':[_0x37af13(0xf3),'data:','fonts.gstatic.com'],'frameAncestors':[_0x37af13(0xf3)]}},'referrerPolicy':{'policy':[_0x37af13(0x7b),_0x37af13(0x11e)]}};if(process[_0x37af13(0xcb)][_0x37af13(0xe8)]||argv['_'][_0x37af13(0x123)]('HAXCMS_DISABLE_JWT_CHECKS')){const gdUZTF=_0x37af13(0x9f)[_0x37af13(0xe6)]('|');let ZVzttY=0x0;while(!![]){switch(gdUZTF[ZVzttY++]){case'0':helmetPolicies['crossOriginResourcePolicy']=![];continue;case'1':HAXCMS['HAXCMS_DISABLE_JWT_CHECKS']=!![];continue;case'2':helmetPolicies[_0x37af13(0x11b)]=_0x37af13(0x109);continue;case'3':helmetPolicies[_0x37af13(0xa3)]=![];continue;case'4':helmetPolicies['crossOriginEmbedderPolicy']=_0x37af13(0x8f);continue;}break;}}const {RoutesMap,OpenRoutes}=require(_0x37af13(0xe3)),multer=require(_0x37af13(0x87)),{crossOriginOpenerPolicy}=require('helmet'),upload=multer({'dest':path[_0x37af13(0x96)](HAXCMS[_0x37af13(0x79)],_0x37af13(0x10c))});let publicDir=path[_0x37af13(0x96)](__dirname,_0x37af13(0xd5));if(process[_0x37af13(0xcb)][_0x37af13(0x94)]==='development'){const child_process=require('child_process'),util=require(_0x37af13(0xaa)),exec=util[_0x37af13(0x9c)](child_process['exec']),ws=require('ws'),chokidar=require(_0x37af13(0xc1));console[_0x37af13(0xa6)](_0x37af13(0x7d));const wsServer=new ws['Server']({'server':server});wsServer['on'](_0x37af13(0x72),_0x59b8a2=>{const _0x1d80c5=_0x37af13,_0x50e5f9={'RDaXy':_0x1d80c5(0x104),'AxWXf':'theme\x20reload','VbRUz':'change'};chokidar[_0x1d80c5(0xb5)](process[_0x1d80c5(0x10a)]()+'/custom/src/')['on'](_0x50e5f9[_0x1d80c5(0xb0)],async(_0x292255,_0xe4b418)=>{const _0xaad26b=_0x1d80c5;_0x292255=_0x292255[_0xaad26b(0x105)](/.*(?=custom\/src)/,''),console[_0xaad26b(0xa6)](_0xaad26b(0xf6)+_0x292255+_0xaad26b(0xbe)),await exec(_0x50e5f9[_0xaad26b(0x120)]),_0x59b8a2['send'](_0x50e5f9[_0xaad26b(0x122)]);});});}app['use'](express[_0x37af13(0xc4)]({'limit':_0x37af13(0xc2),'extended':![],'parameterLimit':0xc350})),app[_0x37af13(0x80)](helmet(helmetPolicies)),app[_0x37af13(0x80)](cookieParser()),app['options']('*',function(_0x521bd8,_0x3cb252,_0x23812d){const _0x52bde3=_0x37af13;_0x3cb252[_0x52bde3(0x93)](0xc8);});const port=process['env'][_0x37af13(0xb7)]||0xbb8;systemStructureContext()[_0x37af13(0xe0)](_0xca5dc2=>{const _0x5eb51d=_0x37af13,_0x2bbc7f={'WCkiT':function(_0x8336e0){return _0x8336e0();},'xlCQD':'Access-Control-Allow-Methods','wAGLS':_0x5eb51d(0xc6),'fpjLS':_0x5eb51d(0x82),'nYlPY':_0x5eb51d(0x117),'iIIMM':_0x5eb51d(0xa5),'QotnX':_0x5eb51d(0x8e),'ZEpmt':function(_0x405d2f,_0x1c9315){return _0x405d2f!==_0x1c9315;},'dAawp':'sTMUd','MDTns':function(_0x3301c9){return _0x3301c9();},'PsvXo':_0x5eb51d(0x91),'huYBO':'/build/','Wnvlf':_0x5eb51d(0x98),'fZZbq':'build-haxcms.js','jGEpB':'wc-registry.json','TKfYG':_0x5eb51d(0xd5),'XDeST':_0x5eb51d(0x77),'vRjLn':_0x5eb51d(0xa2),'iZqUf':_0x5eb51d(0x92),'myGTu':'/robots.txt','qJiJl':_0x5eb51d(0xa8),'uGixT':'/site.json','tXuZA':function(_0x23c6c2,_0x5ab962){return _0x23c6c2===_0x5ab962;},'PMPTX':_0x5eb51d(0xb4),'hbgFy':_0x5eb51d(0xc3),'vcLaq':'build/','CdzzN':_0x5eb51d(0x11f),'KcSpk':_0x5eb51d(0xda),'PJoxJ':function(_0x44f1ff,_0x2aa738){return _0x44f1ff!==_0x2aa738;},'jqZoO':'LAvrR','ZxUVU':'CYDPR','hfdjT':_0x5eb51d(0xe1),'kfwlE':_0x5eb51d(0x74),'hrDMW':'/pages/','JTZfB':function(_0x46365c,_0x3fcc65){return _0x46365c+_0x3fcc65;},'ugZPQ':function(_0x8590cb,_0x38e102){return _0x8590cb!==_0x38e102;},'NFyop':'BggsX','AnlYY':_0x5eb51d(0x102),'iVWOS':function(_0x36417c,_0x138a32){return _0x36417c===_0x138a32;},'JlfRQ':_0x5eb51d(0x8d),'eNeTK':_0x5eb51d(0x10f),'oeQqK':_0x5eb51d(0x86),'YDxrs':_0x5eb51d(0x7f),'pMhfh':_0x5eb51d(0xb2),'dYFrV':_0x5eb51d(0x108),'Tkoyd':function(_0x3274d4){return _0x3274d4();},'vPIig':_0x5eb51d(0xd4),'mxUCQ':_0x5eb51d(0x110),'GvkiB':_0x5eb51d(0x129)};if(_0xca5dc2){publicDir=_0xca5dc2[_0x5eb51d(0x76)];if(_0x2bbc7f['tXuZA'](process[_0x5eb51d(0xcb)]['NODE_ENV'],_0x5eb51d(0x7d)))app[_0x5eb51d(0x80)](express[_0x5eb51d(0xc0)](publicDir,{'index':![]}));else{if('VleIO'===_0x2bbc7f[_0x5eb51d(0x73)]){const _0x2a1821=_0x2b72c2[_0x5eb51d(0xce)][_0x5eb51d(0xae)][_0x5eb51d(0x105)]('/'+_0x2f63a5[_0x5eb51d(0xb1)]+'/*'+_0x6658a2[_0x5eb51d(0x107)]+_0x25f559[_0x5eb51d(0xac)],''),_0x3bfdf6=_0x161795[_0x5eb51d(0xf4)][_0x5eb51d(0x6e)]();_0x235d4f['includes'](_0x2a1821)||_0x489196['validateJWT'](_0x5d4061,_0x1484c3)?_0xafe32[_0x3bfdf6][_0x2a1821](_0x3b05bb,_0x21a7db,_0x2c2f05):_0x3e5684[_0x5eb51d(0x93)](0x193);}else app[_0x5eb51d(0x80)](express[_0x5eb51d(0xc0)](publicDir));}app['use']('/',(_0xc6be5c,_0x22d1c3,_0x5cfe0e)=>{const _0x4cc661=_0x5eb51d;_0x22d1c3['setHeader']('Access-Control-Allow-Origin',_0x4cc661(0x103)+port),_0x22d1c3['setHeader'](_0x2bbc7f[_0x4cc661(0xc8)],_0x2bbc7f[_0x4cc661(0xaf)]),_0x22d1c3[_0x4cc661(0xbd)](_0x2bbc7f[_0x4cc661(0x101)],_0x2bbc7f[_0x4cc661(0x106)]),_0x22d1c3[_0x4cc661(0xbd)](_0x2bbc7f[_0x4cc661(0x111)],'application/json');if(_0xc6be5c[_0x4cc661(0xe7)]['includes'](_0x2bbc7f[_0x4cc661(0xb9)]))_0x2bbc7f[_0x4cc661(0xde)](_0x2bbc7f[_0x4cc661(0xef)],'sTMUd')?_0x2bbc7f[_0x4cc661(0x7e)](_0x34ba14):_0x2bbc7f[_0x4cc661(0xd8)](_0x5cfe0e);else{if(!_0xc6be5c['url'][_0x4cc661(0x123)](_0x2bbc7f[_0x4cc661(0x9b)])&&(_0xc6be5c[_0x4cc661(0xe7)][_0x4cc661(0x123)](_0x2bbc7f['huYBO'])||_0xc6be5c[_0x4cc661(0xe7)][_0x4cc661(0x123)](_0x4cc661(0xa4))||_0xc6be5c[_0x4cc661(0xe7)]['includes'](_0x2bbc7f[_0x4cc661(0x121)])||_0xc6be5c[_0x4cc661(0xe7)]['includes'](_0x2bbc7f[_0x4cc661(0x10e)])||_0xc6be5c[_0x4cc661(0xe7)][_0x4cc661(0x123)](_0x4cc661(0x11f)))){mime[_0x4cc661(0x10d)](_0xc6be5c[_0x4cc661(0xe7)][_0x4cc661(0xe6)]('?')[0x0])&&_0x22d1c3[_0x4cc661(0xbd)](_0x2bbc7f[_0x4cc661(0x111)],mime[_0x4cc661(0x10d)](_0xc6be5c['url']));let _0x1d3531=_0xc6be5c[_0x4cc661(0xe7)][_0x4cc661(0x105)](/\/(.*?)\/build\//g,_0x4cc661(0x6b))['replace'](/\/(.*?)\/wc-registry.json/g,_0x2bbc7f[_0x4cc661(0xfb)])[_0x4cc661(0x105)](/\/(.*?)\/build.js/g,_0x4cc661(0x98))[_0x4cc661(0x105)](/\/(.*?)\/build-haxcms.js/g,_0x4cc661(0x88))[_0x4cc661(0x105)](/\/(.*?)\/VERSION.txt/g,_0x4cc661(0x11f));_0x22d1c3[_0x4cc661(0x112)](_0x1d3531,{'root':path[_0x4cc661(0x96)](__dirname,_0x2bbc7f[_0x4cc661(0xd7)])});}else{if(_0xc6be5c[_0x4cc661(0xe7)][_0x4cc661(0x123)](_0x2bbc7f[_0x4cc661(0x125)])||_0xc6be5c[_0x4cc661(0xe7)]['includes'](_0x4cc661(0xbc))||_0xc6be5c['url'][_0x4cc661(0x123)](_0x2bbc7f['vRjLn'])||_0xc6be5c[_0x4cc661(0xe7)][_0x4cc661(0x123)](_0x2bbc7f['iZqUf'])||_0xc6be5c[_0x4cc661(0xe7)]['includes'](_0x2bbc7f[_0x4cc661(0x71)])||_0xc6be5c[_0x4cc661(0xe7)][_0x4cc661(0x123)](_0x2bbc7f[_0x4cc661(0xba)])||_0xc6be5c[_0x4cc661(0xe7)][_0x4cc661(0x123)]('/pages/')||_0xc6be5c[_0x4cc661(0xe7)][_0x4cc661(0x123)](_0x2bbc7f['uGixT']))mime['getType'](_0xc6be5c[_0x4cc661(0xe7)]['split']('?')[0x0])?_0x22d1c3[_0x4cc661(0xbd)](_0x4cc661(0xa5),mime['getType'](_0xc6be5c[_0x4cc661(0xe7)])):_0x22d1c3[_0x4cc661(0xbd)](_0x4cc661(0xa5),_0x4cc661(0x74)),_0x22d1c3[_0x4cc661(0x112)](_0xc6be5c[_0x4cc661(0xe7)][_0x4cc661(0xe6)]('?')[0x0],{'root':publicDir});else{mime['getType'](_0xc6be5c[_0x4cc661(0xe7)]['split']('?')[0x0])?_0x22d1c3['setHeader'](_0x4cc661(0xa5),mime[_0x4cc661(0x10d)](_0xc6be5c[_0x4cc661(0xe7)])):_0x22d1c3[_0x4cc661(0xbd)]('Content-Type',_0x4cc661(0x74));if(_0x2bbc7f[_0x4cc661(0x97)](process[_0x4cc661(0xcb)][_0x4cc661(0x94)],_0x4cc661(0x7d))){let _0x5ba959=fs[_0x4cc661(0x8a)](path['join'](publicDir,_0x4cc661(0x70)),_0x2bbc7f[_0x4cc661(0x11c)]);const _0x12cc8a='\x0a\x20\x20<script>\x0a\x20\x20\x20\x20const\x20socket\x20=\x20new\x20WebSocket(\x27ws://localhost:'+port+_0x4cc661(0xf7);_0x5ba959=_0x5ba959['replace'](_0x2bbc7f[_0x4cc661(0x9a)],_0x12cc8a+_0x4cc661(0xe9)),_0x22d1c3[_0x4cc661(0x115)](_0x5ba959);}else _0x22d1c3['sendFile'](_0x4cc661(0x70),{'root':publicDir});}}}});}else app[_0x5eb51d(0x80)](express[_0x5eb51d(0xc0)](publicDir)),app['use']('/',(_0x560886,_0x48e07f,_0x302753)=>{const _0x1b04bf=_0x5eb51d;_0x48e07f[_0x1b04bf(0xbd)](_0x1b04bf(0x11a),'http://localhost:'+port),_0x48e07f['setHeader'](_0x1b04bf(0x75),_0x1b04bf(0xc6)),_0x48e07f['setHeader'](_0x1b04bf(0x82),_0x2bbc7f[_0x1b04bf(0x106)]),_0x48e07f['setHeader'](_0x2bbc7f[_0x1b04bf(0x111)],_0x1b04bf(0xf1));if(!_0x560886['url'][_0x1b04bf(0x127)](_0x2bbc7f[_0x1b04bf(0xed)])&&_0x560886[_0x1b04bf(0xe7)]!==_0x1b04bf(0xb3))_0x2bbc7f[_0x1b04bf(0x128)](_0x1b04bf(0xa9),_0x2bbc7f[_0x1b04bf(0xca)])?(_0x2e2604['getType'](_0x1a733b[_0x1b04bf(0xe7)])?_0x3fdd8d[_0x1b04bf(0xbd)](_0x1b04bf(0xa5),_0x27404e[_0x1b04bf(0x10d)](_0x3ffc31[_0x1b04bf(0xe7)])):_0x37491f[_0x1b04bf(0xbd)](_0x1b04bf(0xa5),_0x1b04bf(0x74)),_0x4ea2b4[_0x1b04bf(0x112)](_0x565b3f[_0x1b04bf(0xe7)][_0x1b04bf(0x105)](/\/createSite-step-(.*)/,'/')['replace'](/\/home/,'/'),{'root':_0x3b2f18})):_0x302753();else{if('lvxAC'===_0x2bbc7f[_0x1b04bf(0xc9)])_0x4d83f8[_0x20fcae][_0x3d0b5a](_0x264c22,_0x5c4234,_0x36071e);else{if(mime['getType'](_0x560886['url']))_0x48e07f['setHeader'](_0x2bbc7f[_0x1b04bf(0x111)],mime[_0x1b04bf(0x10d)](_0x560886[_0x1b04bf(0xe7)]));else{if(_0x1b04bf(0xe1)!==_0x2bbc7f[_0x1b04bf(0xdd)]){_0x47d48d[_0x1b04bf(0x10d)](_0x43d5ce['url'][_0x1b04bf(0xe6)]('?')[0x0])&&_0x4853de[_0x1b04bf(0xbd)](_0x1b04bf(0xa5),_0x209555[_0x1b04bf(0x10d)](_0x1c1dbd[_0x1b04bf(0xe7)]));let _0x2a6877=_0x1e3735[_0x1b04bf(0xe7)][_0x1b04bf(0x105)](/\/(.*?)\/build\//g,_0x2bbc7f[_0x1b04bf(0xfc)])[_0x1b04bf(0x105)](/\/(.*?)\/wc-registry.json/g,'wc-registry.json')[_0x1b04bf(0x105)](/\/(.*?)\/build.js/g,_0x2bbc7f[_0x1b04bf(0x121)])[_0x1b04bf(0x105)](/\/(.*?)\/build-haxcms.js/g,_0x2bbc7f[_0x1b04bf(0x10e)])[_0x1b04bf(0x105)](/\/(.*?)\/VERSION.txt/g,_0x2bbc7f[_0x1b04bf(0xeb)]);_0x56aff2[_0x1b04bf(0x112)](_0x2a6877,{'root':_0x5a1b9e[_0x1b04bf(0x96)](_0x4d9bcd,_0x2bbc7f[_0x1b04bf(0xd7)])});}else _0x48e07f['setHeader'](_0x1b04bf(0xa5),_0x2bbc7f[_0x1b04bf(0xc5)]);}_0x48e07f[_0x1b04bf(0x112)](_0x560886[_0x1b04bf(0xe7)]['replace'](/\/createSite-step-(.*)/,'/')[_0x1b04bf(0x105)](/\/home/,'/'),{'root':publicDir});}}}),app[_0x5eb51d(0x80)]('/'+HAXCMS['sitesDirectory']+'/',(_0x4ee6b4,_0x24af94,_0x15fec4)=>{const _0x71d2e4=_0x5eb51d;if(_0x4ee6b4[_0x71d2e4(0xe7)][_0x71d2e4(0x123)](_0x2bbc7f[_0x71d2e4(0xb9)]))_0x71d2e4(0x85)===_0x71d2e4(0x85)?_0x2bbc7f['MDTns'](_0x15fec4):_0xe0979e[_0x71d2e4(0x93)](0xc8);else{if(!_0x4ee6b4[_0x71d2e4(0xe7)]['includes'](_0x71d2e4(0x91))&&(_0x4ee6b4[_0x71d2e4(0xe7)][_0x71d2e4(0x123)](_0x2bbc7f[_0x71d2e4(0xd0)])||_0x4ee6b4[_0x71d2e4(0xe7)][_0x71d2e4(0x123)](_0x71d2e4(0xa4))||_0x4ee6b4['url'][_0x71d2e4(0x123)](_0x2bbc7f[_0x71d2e4(0x121)])||_0x4ee6b4[_0x71d2e4(0xe7)][_0x71d2e4(0x123)](_0x2bbc7f[_0x71d2e4(0x10e)])||_0x4ee6b4['url'][_0x71d2e4(0x123)](_0x2bbc7f[_0x71d2e4(0xeb)]))){mime[_0x71d2e4(0x10d)](_0x4ee6b4[_0x71d2e4(0xe7)][_0x71d2e4(0xe6)]('?')[0x0])&&_0x24af94[_0x71d2e4(0xbd)](_0x2bbc7f[_0x71d2e4(0x111)],mime['getType'](_0x4ee6b4[_0x71d2e4(0xe7)]));let _0x2b8d4a=_0x4ee6b4[_0x71d2e4(0xe7)][_0x71d2e4(0x105)](/\/(.*?)\/build\//g,_0x2bbc7f[_0x71d2e4(0xfc)])[_0x71d2e4(0x105)](/\/(.*?)\/wc-registry.json/g,_0x71d2e4(0xa4))[_0x71d2e4(0x105)](/\/(.*?)\/build.js/g,_0x2bbc7f[_0x71d2e4(0x121)])[_0x71d2e4(0x105)](/\/(.*?)\/build-haxcms.js/g,_0x71d2e4(0x88))['replace'](/\/(.*?)\/VERSION.txt/g,_0x2bbc7f[_0x71d2e4(0xeb)]);_0x24af94[_0x71d2e4(0x112)](_0x2b8d4a,{'root':publicDir});}else _0x4ee6b4['url'][_0x71d2e4(0x123)](_0x71d2e4(0x77))||_0x4ee6b4[_0x71d2e4(0xe7)][_0x71d2e4(0x123)](_0x71d2e4(0xbc))||_0x4ee6b4[_0x71d2e4(0xe7)]['includes'](_0x71d2e4(0xa2))||_0x4ee6b4[_0x71d2e4(0xe7)]['includes'](_0x71d2e4(0x92))||_0x4ee6b4[_0x71d2e4(0xe7)][_0x71d2e4(0x123)](_0x71d2e4(0xd3))||_0x4ee6b4['url'][_0x71d2e4(0x123)](_0x2bbc7f[_0x71d2e4(0xba)])||_0x4ee6b4['url'][_0x71d2e4(0x123)](_0x2bbc7f[_0x71d2e4(0x114)])||_0x4ee6b4[_0x71d2e4(0xe7)][_0x71d2e4(0x123)](_0x2bbc7f[_0x71d2e4(0xe4)])?(mime[_0x71d2e4(0x10d)](_0x4ee6b4[_0x71d2e4(0xe7)][_0x71d2e4(0xe6)]('?')[0x0])?_0x24af94[_0x71d2e4(0xbd)](_0x71d2e4(0xa5),mime[_0x71d2e4(0x10d)](_0x4ee6b4[_0x71d2e4(0xe7)])):_0x24af94['setHeader'](_0x2bbc7f[_0x71d2e4(0x111)],_0x71d2e4(0x74)),_0x24af94[_0x71d2e4(0x112)](_0x4ee6b4['url'][_0x71d2e4(0xe6)]('?')[0x0],{'root':process[_0x71d2e4(0x10a)]()+('/'+HAXCMS[_0x71d2e4(0xb1)])})):(mime[_0x71d2e4(0x10d)](_0x4ee6b4[_0x71d2e4(0xe7)][_0x71d2e4(0xe6)]('?')[0x0])?_0x24af94[_0x71d2e4(0xbd)](_0x2bbc7f['iIIMM'],mime[_0x71d2e4(0x10d)](_0x4ee6b4['url'])):_0x24af94[_0x71d2e4(0xbd)](_0x2bbc7f[_0x71d2e4(0x111)],'text/html'),_0x24af94[_0x71d2e4(0x112)](_0x4ee6b4[_0x71d2e4(0xe7)][_0x71d2e4(0x105)](/\/(.*?)\/(.*)/,'/'+HAXCMS[_0x71d2e4(0xb1)]+_0x71d2e4(0x81)),{'root':process[_0x71d2e4(0x10a)]()}));}}),app[_0x5eb51d(0x80)]('/'+HAXCMS['publishedDirectory']+'/',(_0x498702,_0x58642d,_0x459eba)=>{const _0x1770b5=_0x5eb51d;mime[_0x1770b5(0x10d)](_0x498702[_0x1770b5(0xe7)])?_0x58642d['setHeader'](_0x2bbc7f[_0x1770b5(0x111)],mime['getType'](_0x498702[_0x1770b5(0xe7)])):_0x58642d[_0x1770b5(0xbd)](_0x1770b5(0xa5),_0x2bbc7f[_0x1770b5(0xc5)]),_0x58642d[_0x1770b5(0x112)](_0x498702[_0x1770b5(0xe7)],{'root':_0x2bbc7f[_0x1770b5(0xe2)](process['cwd'](),'/'+HAXCMS[_0x1770b5(0xbf)])});});for(var _0x2f4193 in RoutesMap){for(var _0x571a35 in RoutesMap[_0x2f4193]){let _0x539a47=express[_0x5eb51d(0x10b)]({'type':_0x2bbc7f['mxUCQ'],'limit':_0x5eb51d(0xc2)});_0x2bbc7f[_0x5eb51d(0xfa)](_0x571a35,_0x2bbc7f['GvkiB'])&&(_0x539a47=upload['single'](_0x5eb51d(0xcf))),app[_0x2f4193](''+HAXCMS['basePath']+HAXCMS[_0x5eb51d(0xac)]+_0x571a35,_0x539a47,(_0x1c2276,_0x5cabcc,_0x176079)=>{const _0x13027f=_0x5eb51d,_0x5a5d0f={'SCBuY':'Content-Type'},_0x48375e=_0x1c2276[_0x13027f(0xce)]['path']['replace'](''+HAXCMS['basePath']+HAXCMS[_0x13027f(0xac)],''),_0x396a43=_0x1c2276[_0x13027f(0xf4)][_0x13027f(0x6e)]();OpenRoutes[_0x13027f(0x123)](_0x48375e)||HAXCMS[_0x13027f(0xab)](_0x1c2276,_0x5cabcc)?RoutesMap[_0x396a43][_0x48375e](_0x1c2276,_0x5cabcc,_0x176079):_0x2bbc7f[_0x13027f(0x100)](_0x13027f(0xcc),'UkPQB')?_0x5cabcc[_0x13027f(0x93)](0x193):_0x50dfaa[_0x13027f(0xbd)](_0x5a5d0f[_0x13027f(0xff)],_0x4d9532[_0x13027f(0x10d)](_0x25c626['url']));}),app[_0x2f4193]('/'+HAXCMS[_0x5eb51d(0xb1)]+'/*'+HAXCMS['basePath']+HAXCMS['systemRequestBase']+_0x571a35,_0x539a47,(_0x831587,_0x29cb9f,_0x109409)=>{const _0x3bdea8=_0x5eb51d;if(_0x2bbc7f[_0x3bdea8(0xb8)]===_0x2bbc7f[_0x3bdea8(0xa1)])_0x443942[_0x3bdea8(0x112)]('/',{'root':_0x1b3396+_0x3bdea8(0x116)});else{const _0x23437a=_0x831587[_0x3bdea8(0xce)][_0x3bdea8(0xae)][_0x3bdea8(0x105)]('/'+HAXCMS['sitesDirectory']+'/*'+HAXCMS[_0x3bdea8(0x107)]+HAXCMS['systemRequestBase'],''),_0x10ffac=_0x831587[_0x3bdea8(0xf4)][_0x3bdea8(0x6e)]();OpenRoutes['includes'](_0x23437a)||HAXCMS[_0x3bdea8(0xab)](_0x831587,_0x29cb9f)?RoutesMap[_0x10ffac][_0x23437a](_0x831587,_0x29cb9f,_0x109409):_0x29cb9f[_0x3bdea8(0x93)](0x193);}});}}!_0xca5dc2&&app[_0x5eb51d(0x124)]('*',function(_0x3e0efc,_0x37f397,_0x3083a2){const _0x13626f=_0x5eb51d,_0x2a58da={'DPjRL':_0x2bbc7f[_0x13626f(0x111)],'odtOJ':'build-haxcms.js','YcJQk':_0x13626f(0x74)};if(_0x2bbc7f[_0x13626f(0xfa)](_0x13626f(0x8d),_0x2bbc7f[_0x13626f(0x9d)])){if(_0x2bbc7f[_0x13626f(0x100)](_0x3e0efc['url'],'/')&&!_0x3e0efc[_0x13626f(0xe7)][_0x13626f(0x127)](_0x2bbc7f['eNeTK'])&&!_0x3e0efc['url']['startsWith'](_0x2bbc7f[_0x13626f(0xe4)])&&!_0x3e0efc['url'][_0x13626f(0x127)](_0x13626f(0xee))&&!_0x3e0efc[_0x13626f(0xe7)][_0x13626f(0x127)](_0x2bbc7f[_0x13626f(0xec)])&&!_0x3e0efc['url'][_0x13626f(0x127)](_0x2bbc7f[_0x13626f(0x78)])&&!_0x3e0efc[_0x13626f(0xe7)]['startsWith']('/wc-registry.json')&&!_0x3e0efc[_0x13626f(0xe7)]['startsWith'](_0x2bbc7f[_0x13626f(0x8b)])&&!_0x3e0efc[_0x13626f(0xe7)]['startsWith'](_0x2bbc7f[_0x13626f(0x113)])&&!_0x3e0efc['url']['startsWith'](_0x2bbc7f[_0x13626f(0x71)])&&!_0x3e0efc[_0x13626f(0xe7)][_0x13626f(0x127)](_0x13626f(0xf9)))_0x37f397['sendFile']('/',{'root':__dirname+_0x13626f(0x116)});else{if(_0x13626f(0x108)===_0x2bbc7f[_0x13626f(0x7a)])_0x2bbc7f[_0x13626f(0xad)](_0x3083a2);else{_0xd959b0['getType'](_0x113606['url'][_0x13626f(0xe6)]('?')[0x0])&&_0x2025ce[_0x13626f(0xbd)](_0x2a58da[_0x13626f(0xd2)],_0x2384db[_0x13626f(0x10d)](_0x25e383[_0x13626f(0xe7)]));let _0x170d8d=_0x59f086[_0x13626f(0xe7)]['replace'](/\/(.*?)\/build\//g,_0x13626f(0x6b))[_0x13626f(0x105)](/\/(.*?)\/wc-registry.json/g,'wc-registry.json')[_0x13626f(0x105)](/\/(.*?)\/build.js/g,'build.js')[_0x13626f(0x105)](/\/(.*?)\/build-haxcms.js/g,_0x2a58da['odtOJ'])[_0x13626f(0x105)](/\/(.*?)\/VERSION.txt/g,_0x13626f(0x11f));_0x387008[_0x13626f(0x112)](_0x170d8d,{'root':_0x344d8b});}}}else _0x390901[_0x13626f(0xbd)](_0x2a58da[_0x13626f(0xd2)],_0x2a58da['YcJQk']);});}),server[_0x37af13(0x99)](port,async _0x30acce=>{const _0x2f2935=_0x37af13;if(_0x30acce)throw _0x30acce;console[_0x2f2935(0xa6)](_0x2f2935(0x6d)+port);});function handleServerError(_0x4db071){const _0x8978be=_0x37af13,_0x1b62f1={'XBrXk':_0x8978be(0x99)};if(_0x4db071[_0x8978be(0x8c)]!==_0x1b62f1[_0x8978be(0x126)])throw _0x4db071;switch(_0x4db071[_0x8978be(0x12a)]){case'EACCES':console[_0x8978be(0xa0)](port+_0x8978be(0x90)),process['exit'](0x1);break;case _0x8978be(0x89):console[_0x8978be(0xa0)](port+'\x20is\x20already\x20in\x20use'),process[_0x8978be(0x9e)](0x1);break;default:throw error;}}server['on']('error',handleServerError);