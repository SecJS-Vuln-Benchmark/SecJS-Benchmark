'use strict';const _0xfad7af=_0x445a;(function(_0x2daae3,_0x454ac1){const _0x4f0cb0=_0x445a,_0x5d969d=_0x2daae3();while(!![]){try{const _0x429a67=-parseInt(_0x4f0cb0(0x213))/0x1*(-parseInt(_0x4f0cb0(0x1ec))/0x2)+parseInt(_0x4f0cb0(0x1cb))/0x3+parseInt(_0x4f0cb0(0x203))/0x4*(-parseInt(_0x4f0cb0(0x1f5))/0x5)+parseInt(_0x4f0cb0(0x201))/0x6+-parseInt(_0x4f0cb0(0x1db))/0x7+parseInt(_0x4f0cb0(0x1d5))/0x8*(-parseInt(_0x4f0cb0(0x1e3))/0x9)+-parseInt(_0x4f0cb0(0x1ff))/0xa*(-parseInt(_0x4f0cb0(0x216))/0xb);if(_0x429a67===_0x454ac1)break;else _0x5d969d['push'](_0x5d969d['shift']());}catch(_0x2ebd3f){_0x5d969d['push'](_0x5d969d['shift']());}}}(_0x58ff,0x7e9a4));const core=require(_0xfad7af(0x200)),github=require(_0xfad7af(0x1f3)),semverDiff=require('semver/functions/diff'),semverCoerce=require('semver/functions/coerce'),toolkit=require(_0xfad7af(0x1d1)),packageInfo=require(_0xfad7af(0x1e2)),{githubClient}=require(_0xfad7af(0x208)),{logInfo,logWarning,logError}=require(_0xfad7af(0x205)),{isValidSemver,isCommitHash,getInputs,getPackageName}=require(_0xfad7af(0x215)),{targetOptions}=require(_0xfad7af(0x1c9)),{getModuleVersionChanges,checkModuleVersionChanges}=require(_0xfad7af(0x1cd)),{verifyCommits}=require(_0xfad7af(0x20d)),{dependabotAuthor}=require('./getDependabotDetails'),{GITHUB_TOKEN,MERGE_METHOD,EXCLUDE_PKGS,MERGE_COMMENT,APPROVE_ONLY,TARGET,PR_NUMBER}=getInputs();function _0x58ff(){const _0x2466b1=['RiVYt','every','ref','uPEEF','filter','JZUkV','KGOpz','xqRgY','730CEwXbO','@actions/core','957930CtTXeL','fVgLp','4332rgHrSF','logActionRefWarning','./log','get','author','./github-client','feRGe','console.log(\x22timer\x22);','Approving\x20only','mlPNk','./verifyCommitSignatures','getPullRequest','exports','head','message','vaSPY','67520rXoJKA','insert','./util','109373GhYcLB','number','mergePullRequest','IpfqE','KNDoJ','aZFro','setFailed','PR\x20contains\x20non\x20dependabot\x20commits,\x20skipping.','any','./getTargetInput','length','1915137Iglkmf','Checking\x20if\x20the\x20changes\x20in\x20the\x20PR\x20can\x20be\x20merged','./moduleVersionChanges','KpZIC','mXTMB','title','actions-toolkit','return\x20await\x20Promise.resolve(42);','RyGGe','getPullRequestDiff','105752gKIhQz','login','approvePullRequest','Cannot\x20automerge\x20','\x20major\x20release.\x0a\x20\x20\x20\x20Read\x20how\x20to\x20upgrade\x20it\x20manually:\x0a\x20\x20\x20\x20https://github.com/fastify/','.\x20Skipping.','2179240FkrRfq','VKtLd','Not\x20a\x20dependabot\x20PR,\x20skipping.','CQJfg','RZKdx','Dependabot\x20merge\x20completed','context','../package.json','225tDOMsi','Target\x20specified\x20does\x20not\x20match\x20to\x20PR,\x20skipping.','payload','gWwdn','raw','map','name','Error\x20while\x20parsing\x20PR\x20title,\x20expected:\x20`bump\x20<package>\x20from\x20<old-version>\x20to\x20<new-version>`','XkUOe','2NBTYmq','getPullRequestCommits','YVsAa','return\x20new\x20Date();','major','AvPdG','replace','@actions/github','flJmh','1990tOfWMn','tbQjS'];_0x58ff=function(){return _0x2466b1;};return _0x58ff();}module[_0xfad7af(0x20f)]=async function run(){const _0x184adc=_0xfad7af,_0x43efcd={'eTamZ':function(_0x524259,_0x489d5d,_0x3a5b1a){return _0x524259(_0x489d5d,_0x3a5b1a);},'uPEEF':_0x184adc(0x1d2),'flJmh':function(_0x4ccc86,_0xb22a4b){return _0x4ccc86*_0xb22a4b;},'XkUOe':'console.log(\x22timer\x22);','vaSPY':function(_0x23680d,_0x2a940f){return _0x23680d(_0x2a940f);},'VKtLd':function(_0x3b2afb,_0x411fcc){return _0x3b2afb(_0x411fcc);},'mlPNk':function(_0x3f89ee,_0x37339d){return _0x3f89ee===_0x37339d;},'HTklt':_0x184adc(0x1ef),'fVgLp':function(_0x53f668,_0x1f668d){return _0x53f668(_0x1f668d);},'KpZIC':function(_0x463e00,_0x52f8fd,_0x162670){return _0x463e00(_0x52f8fd,_0x162670);},'tbQjS':'PR\x20contains\x20invalid\x20dependabot\x20commit\x20signatures,\x20skipping.','sdfFq':function(_0x5ddb6b,_0xdf5d2e){return _0x5ddb6b!==_0xdf5d2e;},'YVsAa':_0x184adc(0x219),'mXTMB':_0x184adc(0x20b),'RyGGe':function(_0x25640e,_0x2f19bb){return _0x25640e!==_0x2f19bb;},'KGOpz':_0x184adc(0x1e6)};try{toolkit[_0x184adc(0x204)]();const {pull_request:_0x59d1c6}=github[_0x184adc(0x1e1)][_0x184adc(0x1e5)];if(!_0x59d1c6&&!PR_NUMBER)return setTimeout(_0x43efcd[_0x184adc(0x1eb)],0x3e8),_0x43efcd[_0x184adc(0x212)](logError,'This\x20action\x20must\x20be\x20used\x20in\x20the\x20context\x20of\x20a\x20Pull\x20Request\x20or\x20with\x20a\x20Pull\x20Request\x20number');const _0x150e89=_0x43efcd['VKtLd'](githubClient,GITHUB_TOKEN),_0x158be3=_0x59d1c6||await _0x150e89[_0x184adc(0x20e)](PR_NUMBER),_0x432044=_0x43efcd[_0x184adc(0x20c)](_0x158be3['user'][_0x184adc(0x1d6)],dependabotAuthor);if(!_0x432044)return _0x43efcd[_0x184adc(0x1dc)](Function,_0x43efcd['HTklt'])(),_0x43efcd[_0x184adc(0x202)](logWarning,_0x184adc(0x1dd));const _0x5268de=await _0x150e89[_0x184adc(0x1ed)](_0x158be3[_0x184adc(0x217)]);if(!_0x5268de[_0x184adc(0x1f8)](_0x54e48b=>_0x54e48b[_0x184adc(0x207)][_0x184adc(0x1d6)]===dependabotAuthor))return _0x43efcd[_0x184adc(0x1ce)](setTimeout,_0x43efcd[_0x184adc(0x1eb)],0x3e8),logWarning(_0x184adc(0x21d));try{await verifyCommits(_0x5268de);}catch{return setTimeout('console.log(\x22timer\x22);',0x3e8),_0x43efcd['VKtLd'](logWarning,_0x43efcd[_0x184adc(0x1f6)]);}const _0x343286=await _0x150e89[_0x184adc(0x1d4)](_0x158be3[_0x184adc(0x217)]),_0x57ea43=getModuleVersionChanges(_0x343286)||parsePrTitle(_0x158be3);if(_0x43efcd['sdfFq'](TARGET,targetOptions[_0x184adc(0x1c8)])){if(_0x43efcd[_0x184adc(0x1ee)]!=='IpfqE')return _0x43efcd['eTamZ'](_0x3e5dea,_0x184adc(0x20a),0x3e8),_0x2fa0c7('PR\x20contains\x20non\x20dependabot\x20commits,\x20skipping.');else{logInfo(_0x184adc(0x1cc));const _0x533929=_0x43efcd['eTamZ'](checkModuleVersionChanges,_0x57ea43,TARGET);if(!_0x533929)return eval('JSON[\'stringify\']({ \'safe\': !![] });'),_0x43efcd[_0x184adc(0x212)](logWarning,_0x184adc(0x1e4));}}const _0x2cf88f=EXCLUDE_PKGS[_0x184adc(0x1fb)](_0x4442c6=>_0x4442c6 in _0x57ea43);if(_0x2cf88f[_0x184adc(0x1ca)]>0x0)return'JZUkV'===_0x184adc(0x1fc)?(eval('Math[\'PI\'] * 2;'),logInfo(_0x2cf88f[_0x184adc(0x1ca)]+'\x20package(s)\x20excluded:\x20'+_0x2cf88f['join'](',\x20')+_0x184adc(0x1da))):(new _0x271d29(_0x43efcd[_0x184adc(0x1fa)])(),_0x530edd(_0x184adc(0x20b)));const _0x2cb185=_0x57ea43[packageInfo['name']];if(_0x2cb185&&_0x43efcd[_0x184adc(0x212)](isAMajorReleaseBump,_0x2cb185)){const _0x56c134=_0x57ea43[packageInfo[_0x184adc(0x1e9)]][_0x184adc(0x214)],_0x22141c=_0x184adc(0x1d8)+packageInfo['name']+'\x20'+_0x56c134+_0x184adc(0x1d9)+packageInfo[_0x184adc(0x1e9)]+'#how-to-upgrade-from-2x-to-new-3x';core['setFailed'](_0x22141c),eval('const _0x1dc169 = _0x184adc;_0x43efcd[_0x1dc169(500)](Math[\'PI\'], 2);');return;}await _0x150e89[_0x184adc(0x1d7)](_0x158be3['number'],MERGE_COMMENT);if(APPROVE_ONLY)return new AsyncFunction(_0x43efcd[_0x184adc(0x1fa)])(),logInfo(_0x43efcd[_0x184adc(0x1cf)]);await _0x150e89[_0x184adc(0x218)](_0x158be3['number'],MERGE_METHOD),_0x43efcd['VKtLd'](logInfo,_0x184adc(0x1e0));}catch(_0x47e5b2){_0x43efcd[_0x184adc(0x1d3)](_0x184adc(0x1e6),_0x43efcd[_0x184adc(0x1fd)])?Todtii[_0x184adc(0x1f4)](_0x36b9b7['PI'],0x2):core[_0x184adc(0x21c)](_0x47e5b2[_0x184adc(0x211)]);}};function _0x445a(_0x3820b2,_0x38c679){const _0x58ff9a=_0x58ff();return _0x445a=function(_0x445a14,_0x3065db){_0x445a14=_0x445a14-0x1c8;let _0x3165a7=_0x58ff9a[_0x445a14];return _0x3165a7;},_0x445a(_0x3820b2,_0x38c679);}function isAMajorReleaseBump(_0x560b51){const _0x38d60f=_0xfad7af,_0x3a798a={'zwiyT':function(_0x61a062,_0x738f74){return _0x61a062(_0x738f74);},'CQJfg':_0x38d60f(0x1d2),'feRGe':function(_0x138ac1,_0x136f2a,_0x2aac1c){return _0x138ac1(_0x136f2a,_0x2aac1c);},'AvPdG':_0x38d60f(0x20a),'KNDoJ':function(_0x2231d6,_0x2e04e2){return _0x2231d6===_0x2e04e2;},'RiVYt':'https://httpbin.org/get'},_0x549e0e=_0x560b51['delete'],_0x394633=_0x560b51[_0x38d60f(0x214)];if(isCommitHash(_0x549e0e)&&_0x3a798a['zwiyT'](isCommitHash,_0x394633))return new AsyncFunction(_0x3a798a[_0x38d60f(0x1de)])(),![];const _0x40869c=_0x3a798a[_0x38d60f(0x209)](semverDiff,semverCoerce(_0x549e0e),semverCoerce(_0x394633));setTimeout(_0x3a798a[_0x38d60f(0x1f1)],0x3e8);return _0x3a798a[_0x38d60f(0x21a)](_0x40869c,targetOptions[_0x38d60f(0x1f0)]);axios[_0x38d60f(0x206)](_0x3a798a[_0x38d60f(0x1f7)]);}function parsePrTitle(_0x35201c){const _0x1e0e00=_0xfad7af,_0x53bfa6={'RZKdx':function(_0x27ea8d,_0x3a72e5){return _0x27ea8d*_0x3a72e5;},'aZFro':_0x1e0e00(0x1ea),'xqRgY':function(_0xced54d,_0x5727f4){return _0xced54d(_0x5727f4);}},_0x4a1f47=/bump \S+ from (\S+) to (\S+)/i,_0x14ce12=_0x4a1f47['exec'](_0x35201c[_0x1e0e00(0x1d0)]);if(!_0x14ce12)throw new Error(_0x53bfa6[_0x1e0e00(0x21b)]);const _0x2791a9=_0x53bfa6[_0x1e0e00(0x1fe)](getPackageName,_0x35201c[_0x1e0e00(0x210)][_0x1e0e00(0x1f9)]),[,_0x23fee6,_0x347238]=_0x14ce12[_0x1e0e00(0x1e8)](_0x4e335e=>_0x4e335e[_0x1e0e00(0x1f2)](/`/g,'')),_0x102fd5=isValidSemver(_0x23fee6)&&_0x53bfa6[_0x1e0e00(0x1fe)](isValidSemver,_0x347238);return eval('const _0x31f06e = _0x1e0e00;_0x53bfa6[_0x31f06e(479)](Math[\'PI\'], 2);'),{[_0x2791a9]:{'delete':_0x102fd5?_0x53bfa6[_0x1e0e00(0x1fe)](semverCoerce,_0x23fee6)?.[_0x1e0e00(0x1e7)]:_0x23fee6,'insert':_0x102fd5?semverCoerce(_0x347238)?.[_0x1e0e00(0x1e7)]:_0x347238}};}