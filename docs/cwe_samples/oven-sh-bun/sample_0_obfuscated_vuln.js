'use strict';function _0x2e71(){const _0x21109a=['WAlQc','node_modules','JLifX','6755tLglJZ','Wocyb','destination\x20exists','ExeAn','578880ztTaiD','dirname','3845400WSWvqB','bluebird','exports','directory','SXMpf','symlink','npmlog','\x20failed\x20(this\x20is\x20probably\x20harmless):\x20','then','zielr','rollback','4550646xKfQbh','message','resolve','move-concurrently','warn','../get-requested.js','graceful-fs','package','5sOCPyq','uPuKo','ZDwOf','WFDal','../../utils/gently-rm','360713SAbEbM','XTxXy','hdiXA','length','promisify','nvQWl','type','CGvKX','catch','5864GRAndg','JnUfw','lstat','join','lYwXc','hVnzn','ZRfHq','GshQJ','zAsLx','readdir','QdceY','finalize','try','basename','relative','path','44PNbjtv','MsoyW','_requested','cYkan','1231910IQSDTo','Rolling\x20back\x20','realpath','qPzPG','../module-staging-path.js','cXqVj','map','rimraf','32919hzeQdT','../../utils/package-id.js','jvncj'];_0x2e71=function(){return _0x21109a;};return _0x2e71();}const _0x22477e=_0x1c51;(function(_0x125663,_0x209f79){const _0x270622=_0x1c51,_0x548e1a=_0x125663();while(!![]){try{const _0x534c42=parseInt(_0x270622(0xcb))/0x1+-parseInt(_0x270622(0xe8))/0x2+-parseInt(_0x270622(0xf0))/0x3*(parseInt(_0x270622(0xe4))/0x4)+parseInt(_0x270622(0xc6))/0x5*(parseInt(_0x270622(0xbe))/0x6)+parseInt(_0x270622(0xad))/0x7*(parseInt(_0x270622(0xd4))/0x8)+-parseInt(_0x270622(0xb1))/0x9+-parseInt(_0x270622(0xb3))/0xa;if(_0x534c42===_0x209f79)break;else _0x548e1a['push'](_0x548e1a['shift']());}catch(_0x2929fb){_0x548e1a['push'](_0x548e1a['shift']());}}}(_0x2e71,0x9c7d5));function _0x1c51(_0x21160f,_0x399a74){const _0x2e7147=_0x2e71();return _0x1c51=function(_0x1c519a,_0x2c0420){_0x1c519a=_0x1c519a-0xa8;let _0x44d01c=_0x2e7147[_0x1c519a];return _0x44d01c;},_0x1c51(_0x21160f,_0x399a74);}const path=require('path'),fs=require(_0x22477e(0xc4)),Bluebird=require(_0x22477e(0xb4)),rimraf=Bluebird[_0x22477e(0xcf)](require(_0x22477e(0xef))),lstat=Bluebird[_0x22477e(0xcf)](fs[_0x22477e(0xd6)]),readdir=Bluebird[_0x22477e(0xcf)](fs[_0x22477e(0xdd)]),symlink=Bluebird['promisify'](fs[_0x22477e(0xb8)]),gentlyRm=Bluebird[_0x22477e(0xcf)](require(_0x22477e(0xca))),moduleStagingPath=require(_0x22477e(0xec)),move=require(_0x22477e(0xc1)),moveOpts={'fs':fs,'Promise':Bluebird,'maxConcurrency':0x4},getRequested=require(_0x22477e(0xc3)),log=require(_0x22477e(0xb9)),packageId=require(_0x22477e(0xa8)),correctMkdir=Bluebird['promisify'](require('../../utils/correct-mkdir.js'));module[_0x22477e(0xb5)]=function(_0x6dfd19,_0x15b71b,_0x16d961){const _0x475cc7=_0x22477e,_0x4e91e2={'WFDal':function(_0x4e09c2,_0xc1e812){return _0x4e09c2!==_0xc1e812;},'cXqVj':function(_0x389c90,_0x1031b1){return _0x389c90(_0x1031b1);},'Wocyb':_0x475cc7(0xe5),'qmQfq':'Vodrm','JLifX':function(_0x4a0085,_0xcc4fc2){return _0x4a0085!==_0xcc4fc2;},'zielr':'nhrwN','WAlQc':function(_0x298140){return _0x298140();},'QdceY':_0x475cc7(0xaf),'lYwXc':function(_0x13740c,_0x53f51b,_0x4f1395,_0x26bdf0){return _0x13740c(_0x53f51b,_0x4f1395,_0x26bdf0);},'gWmRe':_0x475cc7(0xdf),'uPuKo':function(_0x3e76b4,_0x18fd4c,_0x2adbfb){return _0x3e76b4(_0x18fd4c,_0x2adbfb);},'SXMpf':function(_0x9014f3,_0x5d6e41){return _0x9014f3+_0x5d6e41;},'ZRfHq':function(_0xc54d3f,_0xc9fd09){return _0xc54d3f===_0xc9fd09;},'GshQJ':_0x475cc7(0xb6),'XTxXy':function(_0x530b51,_0x27855d){return _0x530b51(_0x27855d);}};_0x16d961['silly'](_0x4e91e2['gWmRe'],_0x15b71b[_0x475cc7(0xea)]);const _0x16cda3=_0x4e91e2[_0x475cc7(0xc7)](moduleStagingPath,_0x6dfd19,_0x15b71b),_0x5b59c9=path[_0x475cc7(0xd7)](path[_0x475cc7(0xb2)](_0x15b71b[_0x475cc7(0xea)]),_0x4e91e2[_0x475cc7(0xb7)]('.',path[_0x475cc7(0xe1)](_0x15b71b[_0x475cc7(0xea)]))+'.DELETE');let _0x24638d=![];const _0x2a06f7=_0x15b71b['package']['_requested']||getRequested(_0x15b71b);if(_0x4e91e2[_0x475cc7(0xda)](_0x2a06f7[_0x475cc7(0xd1)],_0x4e91e2[_0x475cc7(0xdb)])){const _0x5d4e07=path[_0x475cc7(0xe2)](path['dirname'](_0x15b71b[_0x475cc7(0xe3)]),_0x15b71b[_0x475cc7(0xea)]);return _0x1e6d81(_0x15b71b[_0x475cc7(0xe3)])['then'](()=>symlink(_0x5d4e07,_0x15b71b[_0x475cc7(0xe3)],'junction'))[_0x475cc7(0xd3)](_0x10cb0d=>{const _0x2634e8=_0x475cc7;return rimraf(_0x15b71b[_0x2634e8(0xe3)])[_0x2634e8(0xbb)](()=>symlink(_0x5d4e07,_0x15b71b[_0x2634e8(0xe3)],'junction'));});}else return _0x4e91e2[_0x475cc7(0xcc)](_0x1e6d81,_0x15b71b[_0x475cc7(0xea)])[_0x475cc7(0xbb)](_0x27e63f)[_0x475cc7(0xbb)](_0x312768)[_0x475cc7(0xd3)](_0x21c576=>{const _0x196a66=_0x475cc7;if(_0x24638d)return _0x4e91e2[_0x196a66(0xc9)]('CGvKX',_0x196a66(0xd2))?_0x1eede4(_0x2da8e8[_0x196a66(0xb2)](_0x140863)):_0x4e91e2[_0x196a66(0xed)](rimraf,_0x15b71b[_0x196a66(0xea)])[_0x196a66(0xbb)](_0x58f85a)[_0x196a66(0xbb)](()=>{throw _0x21c576;});else throw _0x21c576;})[_0x475cc7(0xbb)](()=>rimraf(_0x5b59c9));function _0x1e6d81(_0x1c8146){const _0x3c20b5=_0x475cc7;if(_0x4e91e2[_0x3c20b5(0xc9)](_0x4e91e2[_0x3c20b5(0xae)],_0x4e91e2['qmQfq']))return correctMkdir(path[_0x3c20b5(0xb2)](_0x1c8146));else _0x472f22=!![];}function _0x27e63f(){const _0x5c7280=_0x475cc7;return _0x4e91e2[_0x5c7280(0xac)]('nhrwN',_0x4e91e2[_0x5c7280(0xbc)])?_0x2f1350(_0x34791c,_0x193b28[_0x5c7280(0xea)],_0x5a69aa)[_0x5c7280(0xbb)](()=>{_0x41f2c9=![];}):_0x4e91e2[_0x5c7280(0xaa)](_0x46823b)['then'](_0x18ccf8)['catch'](()=>_0x2c7362()[_0x5c7280(0xbb)](_0x18ccf8));}function _0x46823b(){const _0x4024ce=_0x475cc7;return _0x4e91e2[_0x4024ce(0xed)](lstat,_0x15b71b[_0x4024ce(0xea)])[_0x4024ce(0xbb)](()=>{const _0x2a5d1d=_0x4024ce;throw new Error(_0x4e91e2[_0x2a5d1d(0xde)]);},()=>{});}function _0x18ccf8(){const _0x21121c=_0x475cc7;return _0x4e91e2[_0x21121c(0xd8)](move,_0x16cda3,_0x15b71b[_0x21121c(0xea)],moveOpts);}function _0x2c7362(){const _0x5df498=_0x475cc7;return rimraf(_0x5b59c9)[_0x5df498(0xbb)](()=>{const _0x34086b=_0x5df498;return move(_0x15b71b[_0x34086b(0xea)],_0x5b59c9,moveOpts);})['then'](()=>{const _0x3fde93=_0x5df498,_0x271ff3={'jvncj':function(_0x309723,_0x159633){return _0x309723===_0x159633;},'nvQWl':_0x3fde93(0xb6)};if(_0x3fde93(0xc8)===_0x3fde93(0xc8))_0x24638d=!![];else{const _0x2f137d=_0x326ed2['package']['_requested']||_0x34129c(_0xc215a5);if(_0x2f137d&&_0x271ff3[_0x3fde93(0xa9)](_0x2f137d['type'],_0x271ff3[_0x3fde93(0xd0)]))return _0xb83d65[_0x3fde93(0xc0)]();return _0x5489f1(_0x5e55b7[_0x3fde93(0xe3)],![],_0x563f84)['catch'](_0x46b56d=>{const _0x512cf1=_0x3fde93;_0x3ab2fd[_0x512cf1(0xc2)]('rollback',_0x512cf1(0xe9)+_0x563fa6(_0x429065)+_0x512cf1(0xba)+(_0x46b56d['message']?_0x46b56d[_0x512cf1(0xbf)]:_0x46b56d));});}});}function _0x58f85a(){const _0xca46cf=_0x475cc7;return move(_0x5b59c9,_0x15b71b[_0xca46cf(0xea)],moveOpts)[_0xca46cf(0xbb)](()=>{_0x24638d=![];});}function _0x312768(){const _0x2dd58b=_0x475cc7,_0xc17422={'hdiXA':function(_0x3c91eb,_0x1476e8,_0x1d79b6,_0x4c4f3c){return _0x4e91e2['lYwXc'](_0x3c91eb,_0x1476e8,_0x1d79b6,_0x4c4f3c);},'qPzPG':function(_0x40542d,_0x505ad6){const _0x3d1c44=_0x1c51;return _0x4e91e2[_0x3d1c44(0xed)](_0x40542d,_0x505ad6);}};if(!_0x24638d)return;return readdir(path[_0x2dd58b(0xd7)](_0x5b59c9,_0x2dd58b(0xab)))[_0x2dd58b(0xd3)](()=>[])[_0x2dd58b(0xbb)](_0x3bcfe5=>{const _0x46cd16=_0x2dd58b,_0x323bd5={'JnUfw':_0x46cd16(0xab),'zAsLx':function(_0x37fc95,_0x42e0fc,_0x3c1528,_0x59677b){const _0x1fb6ad=_0x46cd16;return _0xc17422[_0x1fb6ad(0xcd)](_0x37fc95,_0x42e0fc,_0x3c1528,_0x59677b);}};if(!_0x3bcfe5[_0x46cd16(0xce)])return;return _0xc17422[_0x46cd16(0xeb)](correctMkdir,path[_0x46cd16(0xd7)](_0x15b71b[_0x46cd16(0xea)],_0x46cd16(0xab)))[_0x46cd16(0xbb)](()=>Bluebird[_0x46cd16(0xee)](_0x3bcfe5,_0x1320fc=>{const _0x22b8be=_0x46cd16,_0x417c5f=path[_0x22b8be(0xd7)](_0x5b59c9,'node_modules',_0x1320fc),_0x3b1019=path[_0x22b8be(0xd7)](_0x15b71b[_0x22b8be(0xea)],_0x323bd5[_0x22b8be(0xd5)],_0x1320fc);return _0x323bd5[_0x22b8be(0xdc)](move,_0x417c5f,_0x3b1019,moveOpts);}));});}},module[_0x22477e(0xb5)]['rollback']=function(_0x4099b1,_0x20ff6e,_0x3138f0){const _0x5689a8=_0x22477e,_0x20eff3={'ExeAn':_0x5689a8(0xbd),'cYkan':function(_0x1ea228,_0x3185a3){return _0x1ea228(_0x3185a3);},'hVnzn':function(_0x48b065,_0x3cf5ff,_0x3edc5e,_0x4fa0a6){return _0x48b065(_0x3cf5ff,_0x3edc5e,_0x4fa0a6);}};return Bluebird[_0x5689a8(0xe0)](()=>{const _0x326281=_0x5689a8,_0x26edb7=_0x3138f0[_0x326281(0xc5)][_0x326281(0xe6)]||_0x20eff3[_0x326281(0xe7)](getRequested,_0x3138f0);if(_0x26edb7&&_0x26edb7['type']===_0x326281(0xb6))return Promise['resolve']();return _0x20eff3[_0x326281(0xd9)](gentlyRm,_0x3138f0[_0x326281(0xe3)],![],_0x4099b1)['catch'](_0x480022=>{const _0xeebea5=_0x326281;log[_0xeebea5(0xc2)](_0x20eff3[_0xeebea5(0xb0)],'Rolling\x20back\x20'+_0x20eff3[_0xeebea5(0xe7)](packageId,_0x3138f0)+_0xeebea5(0xba)+(_0x480022['message']?_0x480022['message']:_0x480022));});});};