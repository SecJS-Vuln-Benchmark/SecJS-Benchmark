'use strict';const _0x248532=_0x397f;(function(_0x50a313,_0x12578f){const _0x266242=_0x397f,_0x3348e2=_0x50a313();while(!![]){try{const _0x28faf8=parseInt(_0x266242(0x735))/0x1+parseInt(_0x266242(0x5a5))/0x2+-parseInt(_0x266242(0x5f4))/0x3*(-parseInt(_0x266242(0x18a))/0x4)+-parseInt(_0x266242(0x69b))/0x5+parseInt(_0x266242(0x15a))/0x6+parseInt(_0x266242(0x33f))/0x7*(-parseInt(_0x266242(0x131))/0x8)+-parseInt(_0x266242(0x21e))/0x9*(parseInt(_0x266242(0x26c))/0xa);if(_0x28faf8===_0x12578f)break;else _0x3348e2['push'](_0x3348e2['shift']());}catch(_0x56ef24){_0x3348e2['push'](_0x3348e2['shift']());}}}(_0x19f7,0x9da56));const assert=require(_0x248532(0x5a0)),crypto=require(_0x248532(0x698)),https=require(_0x248532(0x36e)),http=require('http'),path=require(_0x248532(0x45c)),net=require(_0x248532(0x192)),tls=require(_0x248532(0x377)),os=require('os'),fs=require('fs'),{getDefaultHighWaterMark}=require(_0x248532(0x683)),{URL}=require(_0x248532(0x40b)),Sender=require(_0x248532(0x18d)),WebSocket=require('..'),{CloseEvent,ErrorEvent,Event,MessageEvent}=require(_0x248532(0x260)),{EMPTY_BUFFER,GUID,kListener,NOOP}=require(_0x248532(0x581)),highWaterMark=getDefaultHighWaterMark?getDefaultHighWaterMark(![]):0x10*0x400;function _0x19f7(){const _0x47cc2c=['6|0|5|1|3|2|7|8|4','YZmLV','listeners','iHlxc','tTCYa','Attributes','fmDps','XrtZL','NccnL','OTPvt','SMCqg','qoroC','ws://','FDhFU','FkUAx','RSRWk','xRsVG','CHGvt','tbJXA','drObd','QwiwV','FuDDp','GhdFe','zgSyj','DnPhC','FkEZt','zRWZR','wvRhA','read','sBycy','TwVla','fjlbZ','HTTP/1.1\x20302\x20Found\x0d\x0aLocation:\x20bad-scheme://localhost\x0d\x0a\x0d\x0a','PtVRI','Nxegp','vJUyy','UVKFc','zPoOt','handleUpgrade','OenbG','KIqdD','SyEjd','Maximum\x20redirects\x20exceeded','iEinh','aCfaL','qQAki','Hgduo','xkUHc','GgaAj','jFLty','honors\x20the\x20`followRedirects`\x20option','frame','bar','tDWDY','detEP','FJVbv','HfsLX','VSxPn','gcwXE','JWTdM','mGySh','WJfrr','foo','QTyyh','eNtHO','write','brcaf','update','HTTP/1.1\x20502\x20','oScKo','does\x20nothing\x20if\x20`readyState`\x20is\x20`CONNECTING`\x20or\x20`CLOSED`','pgNih','545349MKeHag','cdLei','set','readable','qbFAq','Unexpected\x20server\x20response:\x20401','SHDbT','OJGxy','zNsKJ','xdZru','vdxpc','WOiQS','deYij','oQNrh','spjhi','wtRQl','OdTDh','BPCAe','error','jMEmp','bQDkk','zliZQ','xoIAI','xoDhf','connect','Sec-WebSocket-Accept:\x20','Qvdxa','nodebuffer','`bufferedAmount`','dyepw','emits\x20a\x20\x27ping\x27\x20event','Server\x20sent\x20a\x20Sec-WebSocket-Extensions\x20header\x20but\x20no\x20extension\x20','honors\x20the\x20`maxRedirects`\x20option','emits\x20a\x20\x27redirect\x27\x20event','xWXpw','`isPaused`','getHeader','2|1|0|4|3','UxAqC','evHOR','TkJOT','cslks','authorization','nRRTz','zSyUH','LZSdt','/\x0d\x0a\x0d\x0a','supports\x20the\x20`on{close,error,message,open}`\x20attributes','jhOtF','closes\x20the\x20connection\x20if\x20called\x20while\x20connecting\x20(2/3)','zgKcb','fDfHy','Rehgx','aMUSY','XmHsP','PvOKg','gHmHr','setHeader','XoStV','ymMBd','HvhbB','xOopM','32DOOmUB','eFmJx','yltNC','nkpVe','_maxPayload','is\x20called\x20automatically\x20when\x20a\x20ping\x20is\x20received','LRvLa','oLZfJ','VQMmy','Upgrade:\x20websocket\x0d\x0a','HKiid','UbCEB','WS_ERR_INVALID_OPCODE','kXJjo','honors\x20the\x20`generateMask`\x20option','BAeiV','ZLkXP','WzeOt','AcPhd','Host','HTTP/1.1\x20302\x20Found\x0d\x0aLocation:\x20/foo\x0d\x0a\x0d\x0a','gySUn','cYEuv','ziRxL','iDJBd','dfOaI','dFyDc','tpsGj','3|0|1|2|4|5','mSvSr','kDmxi','The\x20URL\x27s\x20protocol\x20must\x20be\x20one\x20of\x20\x22ws:\x22,\x20\x22wss:\x22,\x20','abort','vtuSH','The\x20socket\x20was\x20closed\x20while\x20data\x20was\x20being\x20compressed','vatAH','jfoOR','jQrQK','RkUYh','SxGDI','Connection:\x20Upgrade\x0d\x0a','2702568ONedjx','IlqHO','HAwnS','LJYEg','ws://localhost:80','vDTRo','cohPd','KMZgq','HLaTC','EeLSd','favors\x20the\x20url\x20userinfo\x20over\x20the\x20`auth`\x20option','LErSZ','ytbRP','tgNec','DDbUp','bEmhk','Server\x20sent\x20an\x20invalid\x20subprotocol','passes\x20binary\x20data\x20as\x20a\x20Node.js\x20`Buffer`\x20by\x20default','defaults\x20to\x20\x27nodebuffer\x27','rCLVe','cQqwL','a,b','type','drops\x20the\x20Authorization,\x20Cookie\x20and\x20Host\x20headers\x20(1/4)','VWdVQ','VpCMZ','QiXtu','nHLBY','hOMXk','cbXYf','jTlgk','wYsoa','oQkMZ','Lxwdv','throws\x20an\x20error\x20when\x20using\x20an\x20invalid\x20`protocolVersion`','IQrJx','wamPy','end','GDnGO','Kpixe','QdQoc','permessage-deflate;\x20client_max_window_bits=7\x0d\x0a','cWXKC','Bflkl','oPAbC','iTJMA','Folxa','LGZoa','4LZUFUg','platform','authorized','../lib/sender','jiSMt','closes\x20the\x20connection\x20if\x20called\x20while\x20connecting\x20(1/3)','tCKMw','FTVMP','net','HTTP/1.1\x20302\x20Found\x0d\x0aLocation:\x20/\x0d\x0a\x0d\x0a','prependListener','iAXJs','lsSxp','utaWB','AveLB','VETTh','snexq','lsmvc','skip','is\x20set\x20to\x20`OPEN`\x20once\x20connection\x20is\x20established','can\x20be\x20called\x20from\x20a\x20listener\x20of\x20the\x20\x27upgrade\x27\x20event','yKnxk','Zvkud','https://example.com:8000','ws://foo:bar@localhost:','tUIIg','VATyq','oHCXs','DraXQ','accepts\x20the\x20`maxPayload`\x20option','UKkuq','PnVhg','rcgjm','GfkfA','AwNBR','fails\x20if\x20an\x20unexpected\x20Sec-WebSocket-Extensions\x20header\x20is\x20received','nqzpQ','wss://websocket-echo.com#foo','oNQqA','origin','Uspdq','HOdJv','YGbAf','HcqNo','ncabs','qgSJL','QDAQr','juzMn','ILkvN','SowiJ','HLInz','xauxa','onopen','QEVdY','_idleTimeout','xScuo','calls\x20the\x20callback\x20w/\x20an\x20error\x20if\x20`readyState`\x20is\x202\x20or\x203','JtOFJ','can\x20send\x20a\x20big\x20binary\x20message','gUnEP','peYDD','wasClean','Location:\x20ws://baz:qux@localhost:','aiFnH','zDaiO','Invalid\x20Upgrade\x20header','once','xvYFc','aQGuz','forced','supports\x20the\x20`removeEventListener`\x20method','emits\x20an\x20error\x20if\x20the\x20redirect\x20URL\x20is\x20invalid\x20(2/2)','lFKPX','qux','pong','uDPWH','\x22http:\x22,\x20\x22https\x22,\x20or\x20\x22ws+unix:\x22','fragmentfragment','bAVdm','localhost:88','Zusct','reason','yyiJQ','sec-websocket-origin','Ejcmd','was\x20requested','#close','can\x20send\x20extension\x20parameters','kYjbO','pPzTG','terminate','Unexpected\x20server\x20response:\x20301','Request\x20headers','BYVfJ','twegQ','adds\x20the\x20authorization\x20header\x20if\x20the\x20url\x20has\x20userinfo','nOlMO','RiPuM','emit','SikBq','jXEVJ','wupzj','enumerable','can\x20send\x20and\x20receive\x20text\x20data','DoIUT','YaXuG','OofIE','WzLEe','RiCwC','MGZzE','xUKHs','nyCyS','KLnUv','split','wDblZ','JxCFp','fails\x20if\x20server\x20sends\x20an\x20invalid\x20subprotocol\x20(2/2)','dGrtB','MKIOJ','OEEFX','baz:qux','Bzbtl','DPuPm','bIBRq','lQLsh','fails\x20if\x20the\x20Sec-WebSocket-Accept\x20header\x20is\x20invalid','ZAAZj','xnbjR','aPyrJ','SSL','baz','SVvrS','WebSocket\x20is\x20not\x20open:\x20readyState\x203\x20(CLOSED)','_receiver','twfmx','VYaEE','servername','LlAHn','sec-websocket-extensions','LXWfh','DAcWy','port','#ping','vnDTO','czmOq','AGkJI','muayh','kaVxA','17374347YnbqYn','HTTP/1.1\x20101\x20Switching\x20Protocols\x0d\x0a','Knowj','EUwlC','FfBdc','Basic\x20','DrUyS','yrkSN','ElAbj','test/fixtures/key.pem','0|4|1|5|3|2','vAbnB','resume','irKQT','wSxVO','gJaOZ','OcOtO','sVnbV','pQGDc','hNsEO','CzDRn','JnJUK','pymiu','readFileSync','deepStrictEqual','pdkaa','BXHFW','onerror','c10100c10100c10100c10100','_req','configurable','2|5|1|6|0|4|3','todMx','aZWTe','Events','toString','.sock','weyjw','exposes\x20the\x20negotiated\x20extensions\x20names\x20(2/2)','HMCfV','xbKKR','YwlSS','AAAGV','SMmda','FBBxq','zHejw','vcJad','allows\x20the\x20https\x20scheme','Connection:\x20close\x0d\x0a','mOhXI','honors\x20the\x20`auth`\x20option','iodqp','PSpSf','vrpig','cofcP','VOfFp','PVLxg','vaSld','mvYwZ','LYgRR','ECONNRESET','kMGZx','tUqUn','wnjKn','7|3|2|0|8|4|1|6|5','bUFNQ','../lib/event-target','forEach','QlWGy','gWFjB','udvBE','Agent','sha1','bINDs','KxVaP','throws\x20an\x20error\x20if\x20a\x20subprotocol\x20is\x20invalid\x20or\x20duplicated','xTcLx','bad-scheme://websocket-echo.com','10CvYKah','digest','arraybuffer','dXRvO','GJJGk','consumes\x20all\x20received\x20data\x20when\x20connection\x20is\x20closed\x20(2/2)','FqPCs','ZxSXX','dTWcX','dlfQF','uGtBz','ws://localhost:88','defaults\x20to\x20`CONNECTING`','JUySN','VoAsN','MqQmY','JCYje','eppgV','fXwPd','DCuPt','EuClQ','can\x20send\x20text\x20data','CLOSED','doesn\x27t\x20add\x20the\x20origin\x20header\x20by\x20default','ftSrk','aCFsJ','gQAIu','ifBqt','does\x20not\x20override\x20the\x20`fin`\x20option','heVuj','tmpdir','ZFElH','cookie','JXBlN','jzOYl','eHLSk','UytSv','xTDNR','vXRFj','foobar','Sec-WebSocket-Extensions:\x20foo\x0d\x0a','Zjxrr','xqTND','cGuEy','eHyEP','phbSi','hjeWC','pvmgx','fragment','dpLBI','rGPog','HOgEn','keys','pAwJX','actfc','fiHYv','LXctH','QVwEs','SwpeG','oybse','QrROJ','WDBBT','wJjkG','MUpgE','icHlH','mUzEp','TFvDS','UamlS','_sender','mCsDk','MqWNa','axyVd','ecUah','HHflo','SPzPS','EHcyU','ppJFG','TkCGP','MinKH','lfUTF','WNOCP','ZETvb','code','UXwGR','ZSZet','dvHpC','VcRIZ','SficU','HbrMZ','xucvg','QspkZ','aalBJ','sec-websocket-protocol','gSzgY','createHash','OTLCv','gKBRY','IWOjk','HfYEp','pnLuN','DHOdO','bfmxH','options','VFZas','JDprP','nextTick','RlKPt','spDNn','OrpSM','lZHDm','does\x20not\x20follow\x20redirects\x20by\x20default','/foo\x0d\x0a\x0d\x0a','Kszkm','eLxfz','sec-websocket-key','wss://localhost:443','ZRLag','KotUB','In\x20a\x20listener\x20of\x20the\x20\x27redirect\x27\x20event','notStrictEqual','#pong','nRfjZ','YFKLg','XEMGv','vqBTj','TMjNm','CONNECTING','oZPzm','iVeqX','can\x20be\x20used\x20while\x20data\x20is\x20being\x20decompressed','qIrwj','wzIaq','XzcTf','imNmB','kLxEv','dvwyZ','lPyIa','Danzd','XmKsi','WKeFx','onclose','takes\x20into\x20account\x20the\x20data\x20in\x20the\x20sender\x20queue','emBPZ','pCWtW','AAhHi','YGluO','aTADK','bMFvq','Unexpected\x20\x27open\x27\x20event','SXGRx','8102','fails\x20if\x20server\x20sends\x20no\x20subprotocol','increases\x20`bufferedAmount`\x20if\x20`readyState`\x20is\x202\x20or\x203','cNAqq','CRBql','QxZie','QXUSi','VPYfN','Authorization','kjQmJ','prototype','EsqnZ','pbNUu','consumes\x20all\x20received\x20data\x20when\x20connection\x20is\x20closed\x20(1/2)','hDkxQ','jcNBP','handles\x20a\x20close\x20frame\x20received\x20while\x20compressing\x20data','ArrYz','WelAI','HPdyW','NBFGB','aiyLm','lRnZb','connects\x20to\x20secure\x20websocket\x20server','sIYDZ','modules','call','::1','yrgLY','Gpiwp','DivNX','PnZNV','uowoH','rTpvg','hzEzC','EigtM','WszFP','zVnpn','kACrv','honors\x20the\x20`mask`\x20option','xtXLo','xjRBz','wMSRI','mlGcV','can\x20send\x20a\x20`Buffer`','OkKBd','ovYZO','lgeet','vPqyr','evhNY','qLeba','dXBTz','nBEMO','ignores\x20the\x20`compress`\x20option\x20if\x20the\x20extension\x20is\x20disabled','honors\x20the\x20`finishRequest`\x20option','YFyQR','lwTbi','ws://google.com:22/foo','lfmSZ','bqwAD','HbXbh','661906YEcgKb','AqHMZ','aUjUN','QrSQp','XsgNi','XcaPF','WS_ERR_UNSUPPORTED_MESSAGE_LENGTH','jGfhZ','bcJOo','zeXkv','join','dhWxI','wPnIH','resumes\x20the\x20socket\x20when\x20the\x20close\x20frame\x20is\x20received','OBvGv','nZhHy','ceICJ','UjnnQ','aOsJI','Sec-WebSocket-Protocol:\x0d\x0a','GtQaS','ACCsg','TjmnU','ylQCU','hUnQn','nvJFG','lebQl','hFCxY','TINJg','can\x20be\x20called\x20from\x20a\x20listener\x20of\x20the\x20\x27redirect\x27\x20event','CANhp','huQsr','WebSocket\x20was\x20closed\x20before\x20the\x20connection\x20was\x20established','xBItz','DLeHm','nGbuc','BuDyh','bBAYl','permessage-deflate;\x20client_max_window_bits','qxFoA','ChFXk','WgdlJ','Omiuz','OJURd','WcjoQ','fewoY','HIIIZ','https','HDntU','OCwsM','CrMEv','conclude','AdMSp','concat','TIHax','UlGZs','tls','vmHNb','xCTYU','yNIgS','SfqBm','alloc','does\x20not\x20drop\x20any\x20headers\x20by\x20default','/foo','UQxTt','KLgOn','bdkvi','HxXnZ','iikkF','KZbPZ','urEeD','zOevX','NPRgM','slice','LdWUU','yHlON','iFULY','does\x20not\x20re-emit\x20`net.Socket`\x20errors','fails\x20if\x20the\x20Sec-WebSocket-Extensions\x20header\x20is\x20invalid\x20(1/2)','eAGgk','YuknZ','tztEO','tdDUH','can\x20send\x20a\x20pong\x20with\x20no\x20data','_redirects','socket\x20hang\x20up','dRnLb','pPrCx','bEkXd','can\x20send\x20an\x20`ArrayBuffer`','hJgyP','yofaj','NRJJX','bRBud','lGDsA','nOGNf','drkzo','FHLQQ','byteLength','tvBGw','taSFs','LfBAV','FqJWd','zOWEb','wss://127.0.0.1','yVpMn','clDxW','gUYRj','MCNTM','HPE_INVALID_CONSTANT','OUvMp','DgzIK','ws://baz:qux@localhost:','connection','RjwTA','uPMmV','DuzOz','JpvFK','EaPIg','Sstei','MlcUU','IRjwC','PTXVE','Yousv','send','lcqEa','WQRKN','wss://localhost:8443','AZSWd','SjjLf','can\x20be\x20disabled','JuLGZ','UCqJD','MDneN','KsUJF','works\x20around\x20a\x20double\x20\x27error\x27\x20event\x20bug\x20in\x20Node.js','FwYzh','CLOSING','hJYkc','ping','can\x20be\x20changed\x20to\x20\x27arraybuffer\x27\x20or\x20\x27fragments\x27','LfPTh','JcYAD','lnxrJ','Basic\x20Zm9vOmJhcg==','CaWBz','OybMz','SSbiN','soTCq','MrvmW','NIbyZ','eSjsK','TLSv1.2','JsexK','FWPCT','aanRZ','zZYTx','KoGMu','lLVvb','CqCGn','CykQd','wcwqT','OGRTR','NHljy','cfJiH','sets\x20`target`\x20and\x20`type`\x20on\x20events','aKgPL','icqWL','throws\x20an\x20error\x20if\x20the\x20data\x20size\x20is\x20greater\x20than\x20125\x20bytes','Connection\x20close','qMBzV','dcrLH','error\x20is\x20emitted\x20if\x20server\x20aborts\x20connection','jvKtO','ztYKz','headers','cSSmb','WCwBL','IBPcB','rEfad','is\x20set\x20to\x20`CLOSED`\x20once\x20connection\x20is\x20terminated','oAgPO','YeGnb','aMJow','nWgaI','JIsEB','pJUPZ','honors\x20the\x20`origin`\x20option\x20(1/2)','iEBXg','TldcF','WebSocket\x20is\x20not\x20open:\x20readyState\x202\x20(CLOSING)','permits\x20all\x20buffered\x20data\x20to\x20be\x20delivered','3|4|2|0|1','google.com','ALyfw','RaAFP','llfQj','tKNWB','FfVQI','XADWm','lBnMg','fails\x20if\x20server\x20sends\x20a\x20subprotocol\x20when\x20none\x20was\x20requested','AokSG','lPuMB','url','ws://localhost:','GVPaZ','zWdVm','eWgKA','iyfwc','HTTP/1.1\x20302\x20Found\x0d\x0aLocation:\x20ws+unix:','lGcIJ','fails\x20if\x20an\x20unexpected\x20extension\x20is\x20received\x20(1/2)','EZTHJ','AKRbN','haLdd','fNHVW','IsYGO','ZJAOU','NKtZU','\x0d\x0a\x0d\x0a','can\x20be\x20called\x20from\x20an\x20error\x20listener\x20while\x20connecting','bDbYs','fmJws','dPoSc','rCsij','QWzDc','yNklj','apMDc','jlSwg','MQmzF','closes\x20the\x20connection\x20if\x20called\x20while\x20connecting\x20(3/3)','myQar','KwamB','_state','mxkwH','upnhw','txEyD','ALkGS','zwyzW','wZnwo','PdoFM','WLDcw','throws','EixsP','FcDHx','hFjbe','TTcsm','fnwKE','DXkZR','\x20client_no_context_takeover;\x20server_max_window_bits=10;','KJxPn','pNAxs','osWcJ','oqaIU','CuYIR','xPwRu','wlBTg','VATtD','UjIHQ','allows\x20the\x20http\x20scheme','FiYrS','PUgAV','ViGYS','BPKdn','GFteW','emits\x20an\x20\x27upgrade\x27\x20event','llCcm','jxyoB','oZKrx','bLkzr','VQGwc','tOzui','rjBij','SEFxG','CETlK','HmlqB','hktAq','NRUOx','can\x20send\x20a\x20pong\x20with\x20data','defaults\x20to\x20zero\x20upon\x20\x22open\x22','AXecJ','readyState','BHOEl','iGffH','path','ZOHTf','pdwqy','can\x20be\x20used\x20while\x20data\x20is\x20being\x20compressed','pzsRY','BZand','can\x20send\x20numbers\x20as\x20ping\x20payload','QptXE','vaUlx','PRJvh','owwhs','Uuerp','close\x20event\x20is\x20raised\x20when\x20server\x20closes\x20connection','works\x20when\x20the\x20`data`\x20argument\x20is\x20falsy','PLuDx','When\x20the\x20redirect\x20host\x20is\x20different','pWMhr','OPEN','foo=bar','next','hGgnc','data','TmRLv','fails\x20if\x20an\x20unexpected\x20extension\x20is\x20received\x20(2/2)','message','GRceE','rFVvN','EXVNy','nCWfH','RxNsG','MCfzJ','rBqGc','NGxkx','HcUQP','zazbT','SZFDp','vTqId','QxKyd','tOiXc','AXPay','mkFET','`readyState`','DyGdM','kYTZg','MfSLl','HSHlz','Qlzva','oibct','protocol','throws\x20an\x20error\x20when\x20using\x20an\x20invalid\x20url','addRequest','ykgGW','nlcuE','ZFsrD','ineSD','Location:\x20ws://localhost:8080\x0d\x0a','zZMKQ','removeHeader','versions','drops\x20the\x20`auth`\x20option','permessage-deflate;\x20server_no_context_takeover;','base64','iHcrF','isPaused','oiKth','rFspT','KbpGh','NIoXb','CcuEf','IeGvd','foo\x0d\x0a','host','Ofgjm','get','WAwJy','YHzas','BSQkY','aPQbl','AsEKu','RUFWs','naHCQ','OqiqA','LQMpG','RaqZA','LhRFG','JCMDB','CCWSH','yBtgj','takes\x20into\x20account\x20the\x20data\x20in\x20the\x20socket\x20queue','wss','tKkrN','SsFSW','RsAHf','\x5c\x5c.\x5cpipe\x5cws-pipe-','zWZJJ','UanMg','YSbpz','TxEOB','jvPOw','mTuwO','adds\x20custom\x20headers','XbHqz','kAeUE','STWUE','djVXB','tKktK','IncomingMessage','CgvAf','upgrade','buffer','some\x20daft\x20reason','ybSQW','owMmc','accepts\x20`url.URL`\x20objects\x20as\x20url','QcLeC','OEfsn','cYeHI','hqZZD','bMxrn','TbMru','abhAm','qYjkk','AQzev','FeJLM','closes\x20cleanly\x20after\x20simultaneous\x20errors\x20(2/2)','nrYyN','subarray','sends\x20the\x20close\x20status\x20code\x20only\x20when\x20necessary','FEwwO','ruNkz','jxAcZ','LsGuH','wss://localhost:','CmYiQ','length','fragments','IRSyJ','https://localhost','hex','EMmeU','oMGnU','localhost:','nWadP','values','HaFpI','rlMjM','xDdWt','NuJyf','IihSg','Server\x20indicated\x20an\x20extension\x20that\x20was\x20not\x20requested','CSkmT','daTai','createServer','ws://[::1]','VwfZt','SMLcy','YUAGl','isVIL','cannot\x20connect\x20to\x20secure\x20websocket\x20server\x20via\x20ws://','rcWVK','socket','Sec-WebSocket-Accept:\x20CxYS6+NgJSBG74mdgLvGscRvpns=\x0d\x0a','user:pass','rUfrs','GaEda','hiwrv','pCyLO','test/fixtures/certificate.pem','Invalid\x20URL:\x20ws://','Invalid\x20WebSocket\x20frame:\x20invalid\x20opcode\x205','QAzZR','qXjfY','kMGVs','XLkNU','NqgPb','WeBgh','Server\x20sent\x20a\x20subprotocol\x20but\x20none\x20was\x20requested','nrXqu','isBuffer','rDikm','rOTyy','neYFX','VMyZs','strictEqual','ptvEi','WWtsi','RJrrQ','XEqLy','YNHUH','IPALn','obFic','cfMwt','pHjIb','xvwNZ','xBPIJ','zLAVZ','ZfpDg','close','allows\x20close\x20code\x201014','fGxFk','azGtV','TFFkM','aojiQ','QMxKR','ZsIeg','fpYrG','_extensions','uEBsg','lkWxd','_socket','tNfYc','1|0|4|3|2','XCtnq','LzNsU','mroXj','mjTYf','DYWzi','BYaJQ','DMUhl','REegb','gtOKF','rnogG','dVyZt','is\x20enumerable\x20property\x20of\x20prototype','zCXAN','does\x20nothing\x20if\x20`readyState`\x20is\x20`CLOSED`','wss://127.0.0.1:','koYQn','CpAnc','jtbzx','lCoVx','fppIk','liEBI','thCPp','gIQmj','Yuqqn','GWrgz','pUuXJ','qsHIk','JVcdv','Content-Length:\x20','KzDRH','soqkb','TfvgE','dWATQ','bLFMf','Sec-WebSocket-Extensions:\x20permessage-deflate,foo\x0d\x0a','DVoGX','ZtwzD','EEXBt','allows\x20to\x20remove\x20headers','JJoJq','removeListener','dLjlV','VdnTr','IWGPZ','RuFUX','removeEventListener','ZOhZE','VlJNI','BZusm','OuTas','dmZQr','emits\x20an\x20\x27error\x27\x20event\x20if\x20an\x20error\x20occurs','accepts\x20the\x20`options`\x20object\x20as\x203rd\x20argument','is\x20set\x20to\x20`CLOSED`\x20once\x20connection\x20is\x20closed','randomBytes','RdBAe','VYkoZ','jgYie','ilLvX','qaKkw','ihIhT','Unexpected\x20\x27error\x27\x20event','cIeBF','Sec-WebSocket-Extensions:\x20foo;=\x0d\x0a','ClientRequest','KXHtD','ZMMAD','eUryv','luYlM','TLSv1.1','QldOy','mxJiZ','rGeBv','jjZZY','LwRbq','WmSbx','byGEM','localhost','HZlns','Lkecu','UEcJa','../lib/constants','WcCpz','uCRed','ZXOQy','pPRBA','#terminate','kYEVJ','QtPry','Sec-WebSocket-Extensions:\x20','PqDdb','statusCode','fails\x20if\x20the\x20Sec-WebSocket-Extensions\x20header\x20is\x20invalid\x20(2/2)','vsiSC','can\x20send\x20a\x20ping\x20with\x20no\x20data','KFvrh','WebSocket','binaryType','://localhost/','mzTWB','OSCfK','Garor','tGElP','honors\x20the\x20`createConnection`\x20option','SgfQD','VDFjG','test/fixtures/client-key.pem','uZQan','aHHka','SLGIq','HdtpV','Sec-WebSocket-Protocol:\x20foo','assert','ISNgm','onmessage','wgVCo','idTwL','2451562dKWzeE','GnTNH','connects\x20to\x20secure\x20websocket\x20server\x20with\x20client\x20side\x20certificate','vdvxp','UFrqB','GSpNs','#send','SggCE','\x20client_max_window_bits','FYQeg','UOGxL','MnIsv','gStao','Upgrade:\x20foo\x0d\x0a','iLqcK','2|0|3|5|4|1','address','WmMdv','GQaSj','KVZcY','request\x20can\x20be\x20aborted\x20when\x20unexpected\x20response\x20is\x20sent\x20by\x20server','WvYDh','foo:bar','csfNf','QlLQq','peWPk','reKLC','LKSoF','HIECd','mPNRG','yCxpY','lejvF','GkabA','_deflating','TSxTJ','vmKLi','ShiVc','ws://localhost','fails\x20if\x20the\x20Upgrade\x20header\x20field\x20value\x20is\x20not\x20\x22websocket\x22','Vpktz','xqwBA','jvFAb','zXSzL','lKkYL','UUnMY','kVdRm','ykQDj','ndEbU','RDOZY','is\x20enumerable\x20and\x20configurable','hUgZX','tbtlf','FsGMf','gZbNe','LbXTf','qjTxk','defaults\x20to\x20zero','JGKfO','RBlaS','Hpdgt','Max\x20payload\x20size\x20exceeded','ttKLA','HfWiu','RaPXV','azxHG','tYDPo','AKpTY','iLZBH','closes\x20cleanly\x20after\x20simultaneous\x20errors\x20(1/2)','wnTHr','kgrUC','Server','fails\x20if\x20server\x20sends\x20an\x20invalid\x20subprotocol\x20(1/2)','LdQGK','HTTP/1.1\x20301\x20Moved\x20Permanently\x0d\x0a','HEdQp','RLPBK','win32','kcojP','2939925EcTzNp','throws\x20an\x20error\x20if\x20`readyState`\x20is\x20`CONNECTING`','VtsFR','poBNi','wIfzA','uqDfq','Content-type:\x20text/html\x0d\x0a','HTTP/1.1\x20401\x20','gRHSR','RtiNu','iiNxK','IuWiU','Jreoc','NbfGL','works\x20when\x20close\x20reason\x20is\x20specified','vrlIE','supports\x20the\x20`addEventListener`\x20method','FYogQ','OeoxD','aoTBO','Aeoii','ObBFd','YGDMb','target','rhjTu','aImAl','KJDRr','Content-Length:\x203\x0d\x0a','clients','0|1|2|4|3','CTeHD','NHZoc','VQqtA','doesn\x27t\x20return\x20listeners\x20added\x20with\x20`on`','GsCmN','xwlMz','receives\x20a\x20`CloseEvent`\x20when\x20server\x20closes\x20(1000)','scNGi','RZAaE','HTTP/1.1\x20302\x20Found\x0d\x0a','FmMZS','is\x20enabled\x20by\x20default','LbvYq','qcAiA','allows\x20to\x20disable\x20sending\x20the\x20SNI\x20extension','Afjcb','IYcsN','iURWC','uvFNR','jguxY','KkKCR','dZeFZ','ZyJeQ','WUklZ','DFQqS','EvbPo','xPmBM','Location:\x20ws+unix:','eonDu','zHjDF','nZpnw','vhJyu','vPyGi','YWtuc','0|3|1|2|4','ilzGm','wraps\x20text\x20data\x20in\x20a\x20`MessageEvent`','bufferedAmount','JdeVv','VJRsP','value','QfnKL','can\x20send\x20a\x20ping\x20with\x20data','KMmpw','WHATWG\x20API\x20emulation','closes\x20the\x20connection\x20if\x20called\x20while\x20connecting\x20(1/2)','bomiI','DIbkM','UFlEo','ALnvu','emits\x20a\x20\x27pong\x27\x20event','FSEYr','JZupM','getOwnPropertyDescriptor','Bgfsx','Cookie','dErya','ShFYC','wdVFJ','cKqzg','DbzlI','oTNPr','eaNHF','EESDY','jRmjx','OvnZG','ytgPx','CNqkl','yNqTE','fJErG','YVaMK','GQnsA','JkzsZ','ClMif','qBzFv','gHxvb','exposes\x20the\x20server\x20url','OoOVA','tYMiK','If\x20there\x20is\x20at\x20least\x20one\x20\x27redirect\x27\x20event\x20listener','quslK','equals','Zrwmm','CHHXr','pyaRt','WjRja','indicates\x20whether\x20the\x20websocket\x20is\x20paused','NxHJk','ndaqY','jwpYx','qoUZt','GsOpT','UUvdu','ogMFE','GhiKU','ifError','FKVDl','lSLKn','can\x20send\x20a\x20`TypedArray`','If\x20there\x20is\x20no\x20\x27redirect\x27\x20event\x20listener','STATUS_CODES','brkpj','VohFg','redirect','sKjQB','push','JzuZY','Ogeuq','SYcOT','hvgse','etnwF','hxUGe','Connection\x20establishing','stream','BolRf','FpkdG','ws-','3|1|0|4|2','USenq','`extensions`','closes\x20the\x20connection\x20if\x20called\x20while\x20connecting\x20(2/2)','zpuHP','Invalid\x20Sec-WebSocket-Accept\x20header','mlYyr','DxkGJ','eGVyd','gmWkI','ImfGk','pause','Invalid\x20Sec-WebSocket-Extensions\x20header','WMcxL','extensions','lsPtU','XuWwC','crypto','wNFJI','MxPdx','1235500SxpzEu','resumes\x20the\x20socket','LOShG','TSYqZ','srjTT','oQtvh','unexpected-response','kaBZj','VbQwy','oPGOS','honors\x20the\x20`autoPong`\x20option','ws+unix:','DmnGZ','resetAndDestroy','nQQRw','Pvfbp','dPAob','GkZkI','dzcMG','EiDGR','oQlKw','yaIYl','some\x20reason','from','fEBzF','AveVs','XVCTs','Bkmsq','listen','czcKo','UPrzw','DEGkj','PklvL','KOewb','Server\x20sent\x20no\x20subprotocol','KlhiI','ZhSPu','riOmP','Location:\x20ws://localhost:','test/fixtures/client-certificate.pem','permessage-deflate','LyzML','addEventListener','listenerCount','NmOYH','Unexpected\x20\x27pong\x27\x20event','QsrGh','zJbSN','byteOffset','UmBgM','JhHJK','awJKl','dpWbB','oKUuw','_writableState','IDtLV','WNSMo','xXDVc','vMXnn','_readableState','unshift','calls\x20the\x20callback\x20if\x20the\x20socket\x20is\x20closed\x20prematurely','ldkxL','WEWwX','MkmsY','yKYyj','VfJtH','Yqrxp','_closeTimer','KOpMb','open','gZGSy','KTSbr','CLKCg','GSQkn','AMZBs','hxYIq','UkLmb','allows\x20to\x20update\x20`binaryType`\x20on\x20the\x20fly','smFwM','LCNwX','QuNON'];_0x19f7=function(){return _0x47cc2c;};return _0x19f7();}class CustomAgent extends http[_0x248532(0x265)]{['addRequest'](){}}function _0x397f(_0x1bc2dd,_0x35cabb){const _0x19f783=_0x19f7();return _0x397f=function(_0x397fff,_0x57922f){_0x397fff=_0x397fff-0x116;let _0x26b238=_0x19f783[_0x397fff];return _0x26b238;},_0x397f(_0x1bc2dd,_0x35cabb);}describe(_0x248532(0x590),()=>{const _0x53100d=_0x248532,_0x389485={'RxNsG':_0x53100d(0x16f),'BXHFW':_0x53100d(0x4f5),'Jreoc':function(_0x1980d3,_0x2d819a){return _0x1980d3!==_0x2d819a;},'qZcJe':'vJfJI','pgNih':'ADeOs','ZsIeg':'http://localhost','eQAKA':_0x53100d(0x364),'RlKPt':function(_0x502af2,_0x5eba72,_0x21a01f){return _0x502af2(_0x5eba72,_0x21a01f);},'byGEM':_0x53100d(0x13f),'UanMg':function(_0x1a4722,_0xdaa80a,_0x16f82d){return _0x1a4722(_0xdaa80a,_0x16f82d);},'CTeHD':function(_0x5a8d90,_0x288e6d){return _0x5a8d90!==_0x288e6d;},'ElAbj':'https://localhost','mIVyq':_0x53100d(0x3a6),'AKpTY':_0x53100d(0x3ca),'QuNON':_0x53100d(0x6c8),'YFKLg':'pong','bomiI':function(_0x1dad88,_0xcce930,_0x59b6ae){return _0x1dad88(_0xcce930,_0x59b6ae);},'UEcJa':_0x53100d(0x4cd),'YGDMb':_0x53100d(0x443),'hxYIq':_0x53100d(0x24d),'ylQCU':_0x53100d(0x5d6),'HIIIZ':_0x53100d(0x5ca),'urEeD':_0x53100d(0x521),'WOiQS':_0x53100d(0x6e1),'QxKyd':_0x53100d(0x22f),'OqiqA':_0x53100d(0x19d),'dVyZt':function(_0x37aaa1,_0x2ed14c,_0x439504){return _0x37aaa1(_0x2ed14c,_0x439504);},'GsCmN':'binaryType','QlWGy':_0x53100d(0x4e3),'lgPkL':_0x53100d(0x3f2),'GDnGO':'connection','dWATQ':_0x53100d(0x5aa),'pNAxs':'nCWfH','rCsij':function(_0x18540d,_0x22274a){return _0x18540d===_0x22274a;},'yofaj':_0x53100d(0x4b4),'heVuj':_0x53100d(0x244),'gmWkI':_0x53100d(0x49b),'katJv':_0x53100d(0x36e),'EUwlC':_0x53100d(0x65e),'QrROJ':'`binaryType`','xXDVc':_0x53100d(0x751),'JCYje':_0x53100d(0x116),'cYeHI':'`protocol`','FJVbv':function(_0x276241,_0x4b1829){return _0x276241===_0x4b1829;},'vaUlx':_0x53100d(0x36b),'vqBTj':_0x53100d(0x505),'PnVhg':_0x53100d(0x747),'pvmgx':_0x53100d(0x4d4),'gHmHr':_0x53100d(0x499),'QTyyh':function(_0x26f77e,_0x39980a){return _0x26f77e+_0x39980a;},'cofcP':'HTTP/1.1\x20101\x20Switching\x20Protocols\x0d\x0a','IPALn':_0x53100d(0x56f),'pAwJX':'xDPVx','QfnKL':_0x53100d(0x38c),'llfQj':function(_0x39518d,_0x4968e8,_0x205de3){return _0x39518d(_0x4968e8,_0x205de3);},'twegQ':_0x53100d(0x449),'YFyQR':_0x53100d(0x753),'tCKMw':_0x53100d(0x644),'dFyDc':_0x53100d(0x756),'zHejw':function(_0x173c8d,_0x19488e){return _0x173c8d+_0x19488e;},'OTLCv':_0x53100d(0x159),'jvKtO':function(_0xee50e8,_0x90949a){return _0xee50e8+_0x90949a;},'gySUn':'Upgrade:\x20websocket\x0d\x0a','KLnUv':'Sec-WebSocket-Accept:\x20CxYS6+NgJSBG74mdgLvGscRvpns=\x0d\x0a','qsaxo':_0x53100d(0x3fb),'AwNBR':_0x53100d(0x4c8),'jMkRj':function(_0x30423e,_0x2d7e9d){return _0x30423e instanceof _0x2d7e9d;},'LsGuH':'unexpected-response','CrMEv':function(_0x505bbd,_0x27eea6){return _0x505bbd instanceof _0x27eea6;},'QVwEs':_0x53100d(0x72b),'mUzEp':_0x53100d(0x721),'JftrW':_0x53100d(0x200),'oMGnU':_0x53100d(0x37e),'RJrrQ':_0x53100d(0x3cf),'WcCpz':function(_0x346c44,_0x2c929d){return _0x346c44===_0x2c929d;},'oHCXs':_0x53100d(0x144),'gOGpT':_0x53100d(0x649),'Ogeuq':function(_0x4697f4,_0x479733,_0x53bfda){return _0x4697f4(_0x479733,_0x53bfda);},'hiwrv':_0x53100d(0x661),'nBEMO':_0x53100d(0x2c9),'yHlON':function(_0xa203ae,_0x5d3c46,_0x11e7b0){return _0xa203ae(_0x5d3c46,_0x11e7b0);},'tNfYc':'allows\x20to\x20abort\x20the\x20request\x20without\x20swallowing\x20errors','aOsJI':function(_0x209c85){return _0x209c85();},'mroXj':function(_0x410f34,_0x36b2b8){return _0x410f34!==_0x36b2b8;},'vmHNb':function(_0xd5ef4b,_0x18a763){return _0xd5ef4b+_0x18a763;},'DAcWy':_0x53100d(0x2de),'uzLiX':_0x53100d(0x533),'JXBlN':function(_0x129886,_0x57ac7b){return _0x129886+_0x57ac7b;},'iURWC':'Content-type:\x20text/html\x0d\x0a','dXBTz':'XMDRK','ctOrV':_0x53100d(0x754),'Zjxrr':function(_0x538d4e,_0x3c9eb7){return _0x538d4e instanceof _0x3c9eb7;},'GcMfr':_0x53100d(0x561),'AXecJ':_0x53100d(0x199),'jtbzx':_0x53100d(0x16a),'cWXKC':_0x53100d(0x493),'XLkNU':'HTTP/1.1\x20302\x20Found\x0d\x0aLocation:\x20/foo\x0d\x0a\x0d\x0a','JJdDw':_0x53100d(0x386),'oLZfJ':function(_0x20fffc,_0x580bb3){return _0x20fffc instanceof _0x580bb3;},'KXHtD':function(_0xb7efb6,_0x387592){return _0xb7efb6===_0x387592;},'vMXnn':_0x53100d(0x61b),'iZwCp':'does\x20not\x20drop\x20any\x20headers\x20by\x20default','QAzZR':_0x53100d(0x738),'DCuPt':'tYoEL','Folxa':_0x53100d(0x5bb),'bDbYs':'drops\x20the\x20Authorization,\x20Cookie\x20and\x20Host\x20headers\x20(4/4)','mTuwO':_0x53100d(0x43e),'ytbRP':function(_0x2c9ccc,_0x902b3){return _0x2c9ccc(_0x902b3);},'aMUSY':function(_0x3f26ce,_0x3067f7,_0x55b3f3){return _0x3f26ce(_0x3067f7,_0x55b3f3);},'DxkGJ':_0x53100d(0x5cb),'YeGnb':function(_0x4383a4,_0x372084,_0x58e3c6){return _0x4383a4(_0x372084,_0x58e3c6);},'Uvkbx':_0x53100d(0x207),'VQMmy':function(_0x4ad457,_0x19383e,_0xd26eac){return _0x4ad457(_0x19383e,_0xd26eac);},'NIoXb':_0x53100d(0x1ad),'huQsr':_0x53100d(0x408),'ArrYz':function(_0x5e7922,_0x164aea,_0x5079c6){return _0x5e7922(_0x164aea,_0x5079c6);},'xPwRu':_0x53100d(0x5ed),'UFlEo':_0x53100d(0x303),'yKYyj':function(_0x4710c7,_0x24ebd4,_0x53d854){return _0x4710c7(_0x24ebd4,_0x53d854);},'Zrwmm':_0x53100d(0x597),'HIECd':function(_0x2eba54,_0x1aa647,_0x59ef8d){return _0x2eba54(_0x1aa647,_0x59ef8d);},'SkGpK':_0x53100d(0x2da),'iHcrF':function(_0x268c99,_0x144630,_0x16471f){return _0x268c99(_0x144630,_0x16471f);},'pafXf':_0x53100d(0x71f),'HEdQp':function(_0x2b7d27,_0x2f982c,_0x27c1bd){return _0x2b7d27(_0x2f982c,_0x27c1bd);},'OrpSM':'emits\x20an\x20error\x20if\x20the\x20redirect\x20URL\x20is\x20invalid\x20(1/2)','Omiuz':_0x53100d(0x1d1),'AcTdD':'When\x20moving\x20away\x20from\x20a\x20secure\x20context','wzIaq':function(_0x2d5c1c,_0x40a7ef,_0x2d972e){return _0x2d5c1c(_0x40a7ef,_0x2d972e);},'UVKFc':_0x53100d(0x2e2),'Bgfsx':_0x53100d(0x30a),'yaIYl':'does\x20nothing\x20if\x20`readyState`\x20is\x20`CONNECTING`\x20or\x20`CLOSED`','VDFjG':_0x53100d(0x42b),'xwlMz':_0x53100d(0x6ed),'hfPNk':_0x53100d(0x160),'emGNr':_0x53100d(0x537),'KotUB':function(_0x15ff9f,_0x37e1b1){return _0x15ff9f===_0x37e1b1;},'zZYTx':'jyVrO','HMCfV':_0x53100d(0x58e),'xBItz':_0x53100d(0x63c),'iEinh':_0x53100d(0x462),'evhNY':function(_0x5d3830,_0x299a73){return _0x5d3830===_0x299a73;},'fXwPd':_0x53100d(0x62e),'qxFoA':_0x53100d(0x419),'LVKqW':'zynrn','Xigcb':_0x53100d(0x162),'nlcuE':function(_0xa2003c,_0x1c7dc9,_0x56ffe2){return _0xa2003c(_0x1c7dc9,_0x56ffe2);},'pNaCh':_0x53100d(0x5f5),'Bkmsq':function(_0x396537,_0x40848e,_0x490027){return _0x396537(_0x40848e,_0x490027);},'xqwBA':_0x53100d(0x304),'iVeqX':_0x53100d(0x456),'zazbT':'can\x20send\x20numbers\x20as\x20pong\x20payload','nOGNf':_0x53100d(0x136),'GSQkn':function(_0x3bf659,_0x28530c){return _0x3bf659-_0x28530c;},'ViGYS':function(_0x40ab23,_0x4ea1e5){return _0x40ab23-_0x4ea1e5;},'SHDbT':_0x53100d(0x74b),'LZSdt':'WebSocket\x20is\x20not\x20open:\x20readyState\x203\x20(CLOSED)','lcqEa':_0x53100d(0x331),'yrkSN':_0x53100d(0x474),'hHnyC':_0x53100d(0x3b7),'bEkXd':function(_0x18b1ec){return _0x18b1ec();},'dZeFZ':function(_0x5de805,_0x8d6925){return _0x5de805 instanceof _0x8d6925;},'wyBvB':_0x53100d(0x293),'aiyLm':_0x53100d(0x1c2),'lejvF':function(_0x42202a,_0x25f9aa,_0x20d32f){return _0x42202a(_0x25f9aa,_0x20d32f);},'VmkeM':_0x53100d(0x1c4),'TmRLv':function(_0x58aa5d,_0x1ac83c,_0x3e0d76){return _0x58aa5d(_0x1ac83c,_0x3e0d76);},'gWOFD':_0x53100d(0x288),'wYsoa':'sends\x20numbers\x20as\x20strings','OUvMp':function(_0x5cc4f3,_0x47feb8,_0x4a5cd2){return _0x5cc4f3(_0x47feb8,_0x4a5cd2);},'fppIk':_0x53100d(0x32e),'ebnYP':'calls\x20the\x20callback\x20when\x20data\x20is\x20written\x20out','BPCAe':function(_0x507d67,_0xe8b23,_0x343d15){return _0x507d67(_0xe8b23,_0x343d15);},'bqPZN':_0x53100d(0x17f),'NRJJX':_0x53100d(0x220),'DaCWU':_0x53100d(0x693),'ndEbU':'XDTRr','FHLQQ':_0x53100d(0x2a2),'sKjQB':function(_0x4694ee,_0x2266e8){return _0x4694ee+_0x2266e8;},'IihSg':_0x53100d(0x119),'SEFxG':_0x53100d(0x3ac),'oZPzm':'apKBZ','GhiKU':_0x53100d(0x540),'lPuMB':_0x53100d(0x6b1),'bMxrn':function(_0x106225,_0x4e6b63){return _0x106225!==_0x4e6b63;},'nWadP':_0x53100d(0x43c),'sCSKN':function(_0x22d818,_0x3dbc42,_0x501967){return _0x22d818(_0x3dbc42,_0x501967);},'yyiJQ':_0x53100d(0x18f),'IhdwX':_0x53100d(0x41c),'AGkJI':_0x53100d(0x35c),'LfBAV':_0x53100d(0x19e),'AZSWd':function(_0x3655cd,_0x3d42f7,_0x43fc87){return _0x3655cd(_0x3d42f7,_0x43fc87);},'bIBRq':_0x53100d(0x4db),'LXWfh':function(_0xc65659,_0xc50c72,_0x4274f4){return _0xc65659(_0xc50c72,_0x4274f4);},'QxZie':'works\x20when\x20close\x20reason\x20is\x20not\x20specified','Tznma':_0x53100d(0x602),'KLgOn':'allows\x20close\x20code\x201013','WLDcw':_0x53100d(0x522),'RcSkp':'does\x20nothing\x20if\x20`readyState`\x20is\x20`CLOSED`','qoroC':'sets\x20a\x20timer\x20for\x20the\x20closing\x20handshake\x20to\x20complete','GJJGk':_0x53100d(0x628),'seVTx':_0x53100d(0x4a2),'ijrce':function(_0x2fe491,_0x11acad){return _0x2fe491===_0x11acad;},'bcJOo':function(_0x463fad,_0x5d7ccc){return _0x463fad===_0x5d7ccc;},'dGrtB':_0x53100d(0x4bc),'wJjkG':function(_0x50b75f,_0x30334c,_0xa217b5){return _0x50b75f(_0x30334c,_0xa217b5);},'UytSv':_0x53100d(0x68a),'MQmzF':'onclose','zUnpx':_0x53100d(0x239),'KMZgq':function(_0x37d8fc,_0x4f61cf){return _0x37d8fc+_0x4f61cf;},'YHzas':function(_0x2a191a,_0x59d7cd){return _0x2a191a===_0x59d7cd;},'FEwwO':_0x53100d(0x757),'kcojP':_0x53100d(0x2b2),'EuClQ':function(_0x351a60,_0x489f38){return _0x351a60 instanceof _0x489f38;},'KlhiI':function(_0x3c3884,_0x1d8eb4){return _0x3c3884 instanceof _0x1d8eb4;},'lSLKn':_0x53100d(0x4ca),'WEWwX':function(_0x39eed9,_0x57aded){return _0x39eed9 instanceof _0x57aded;},'WsPis':_0x53100d(0x26e),'LyzML':function(_0x1c81ee,_0x4e2b20,_0x110d39){return _0x1c81ee(_0x4e2b20,_0x110d39);},'LUuwb':_0x53100d(0x122),'XaqvD':function(_0x463423,_0x23e9cf,_0x2b3000){return _0x463423(_0x23e9cf,_0x2b3000);},'czMBA':'doesn\x27t\x20remove\x20listeners\x20added\x20with\x20`on`','GkZkI':function(_0x48b5d6,_0x182395,_0x135e07){return _0x48b5d6(_0x182395,_0x135e07);},'MDneN':'doesn\x27t\x20return\x20listeners\x20added\x20with\x20`addEventListener`','oScKo':function(_0x1f1fcc,_0x41b46e,_0x405de2){return _0x1f1fcc(_0x41b46e,_0x405de2);},'pdwqy':_0x53100d(0x3e4),'yjamW':_0x53100d(0x16b),'TKmSI':_0x53100d(0x6e9),'VtsFR':_0x53100d(0x37b),'jzOYl':_0x53100d(0x503),'DMUhl':'test/fixtures/ca-certificate.pem','xqTND':'test/fixtures/key.pem','eppgV':function(_0x71ecc9,_0x24d6f2){return _0x71ecc9===_0x24d6f2;},'hgWSr':'PREeR','JVcdv':function(_0x2ace58,_0x1515a7){return _0x2ace58*_0x1515a7;},'bXVrG':function(_0x2fc189,_0x25c1e6){return _0x2fc189*_0x25c1e6;},'PSpSf':_0x53100d(0x142),'UXFfq':_0x53100d(0x69f),'FfBdc':_0x53100d(0x2dd),'imLfj':_0x53100d(0x688),'aVSWu':function(_0x3092ac,_0xb99f09){return _0x3092ac instanceof _0xb99f09;},'JtDtV':_0x53100d(0x319),'luYlM':_0x53100d(0x5a7),'dhWxI':_0x53100d(0x4fa),'HmlqB':function(_0xf7344e,_0xa79c33,_0x427c4a){return _0xf7344e(_0xa79c33,_0x427c4a);},'ZhgRq':_0x53100d(0x620),'SZFDp':_0x53100d(0x4fe),'VfJtH':_0x53100d(0x2df),'kjQmJ':_0x53100d(0x277),'zHDcJ':_0x53100d(0x1d9),'tvBGw':'localhost','oPAbC':'test:testpass','uowoH':_0x53100d(0x1b1),'fGxFk':_0x53100d(0x6ba),'zVnpn':_0x53100d(0x1dd),'hqZZD':_0x53100d(0x4fc),'xoDhf':_0x53100d(0x1e9),'MinKH':_0x53100d(0x4c0),'cQhsZ':_0x53100d(0x433),'JIsEB':_0x53100d(0x214),'LCNwX':_0x53100d(0x365),'OenbG':_0x53100d(0x5ad),'aPyrJ':_0x53100d(0x1d3),'aImAl':_0x53100d(0x5d2),'iLqcK':_0x53100d(0x243),'fDfHy':_0x53100d(0x153),'jRmjx':'AAhHi','XADWm':function(_0x3b24e5,_0x1bf820,_0x2e617c){return _0x3b24e5(_0x1bf820,_0x2e617c);},'GkabA':'baz','urYLl':_0x53100d(0x23a),'WzLEe':'sCqUp','eFmJx':function(_0x4632de,_0x563e65){return _0x4632de/_0x563e65;},'pymiu':function(_0x313d6f,_0x3f7abc){return _0x313d6f!==_0x3f7abc;},'OcYKn':'GHUqH','qYjkk':_0x53100d(0x6d8),'YQZgH':function(_0x3d924a,_0x1d59cc,_0x251df8){return _0x3d924a(_0x1d59cc,_0x251df8);},'ShFYC':_0x53100d(0x3c1),'JpvFK':_0x53100d(0x1e1),'SficU':function(_0x25d392,_0x1a77f8,_0x1be2a1){return _0x25d392(_0x1a77f8,_0x1be2a1);},'kgrUC':_0x53100d(0x312),'lsPtU':_0x53100d(0x5ab),'zWZJJ':_0x53100d(0x586),'IYcsN':function(_0xb55495,_0x1aff6d){return _0xb55495 instanceof _0x1aff6d;},'kXJjo':'RqEgZ','hTNvl':function(_0x1d00bd,_0x31202d){return _0x1d00bd===_0x31202d;},'HaFpI':_0x53100d(0x1c3),'tKktK':_0x53100d(0x710),'IQrJx':'Server\x20indicated\x20an\x20extension\x20that\x20was\x20not\x20requested','haLdd':_0x53100d(0x4d8),'NmOYH':'resumes\x20the\x20socket\x20when\x20an\x20error\x20occurs','rMYLP':_0x53100d(0x34c),'zgSyj':function(_0xc54615,_0x252f84,_0x219109){return _0xc54615(_0x252f84,_0x219109);},'vdvxp':_0x53100d(0x6f2),'Gpiwp':'#pause','aTADK':'#resume','OybMz':_0x53100d(0x1e0),'bMQDo':function(_0x261fc2,_0x1ceae3,_0xaf1e88){return _0x261fc2(_0x1ceae3,_0xaf1e88);},'xDdWt':_0x53100d(0x63e),'cUnZu':function(_0x5d3ed2,_0xe00780,_0x370a95){return _0x5d3ed2(_0xe00780,_0x370a95);},'VYkoZ':_0x53100d(0x1e6),'dErya':function(_0x543784,_0x208461,_0x549a95){return _0x543784(_0x208461,_0x549a95);},'zwyzW':_0x53100d(0x3e8)};describe('#ctor',()=>{const _0x581d17=_0x53100d,_0x2ba413={'KVZcY':'localhost','ihIhT':function(_0x4f9353){return _0x4f9353();},'bqwAD':function(_0x17640f,_0x55bcc8){const _0x3ded16=_0x397f;return _0x389485[_0x3ded16(0x612)](_0x17640f,_0x55bcc8);},'BAeiV':_0x389485[_0x581d17(0x226)],'LErSZ':_0x581d17(0x447),'BYaJQ':_0x581d17(0x5ca),'sIYDZ':_0x389485['mIVyq'],'QlFAa':'cJCxF','JGKfO':'connection','mvYwZ':'foo','YNHUH':_0x389485[_0x581d17(0x5e7)],'tUqUn':_0x389485[_0x581d17(0x6ec)],'djVXB':_0x581d17(0x24e),'NkXjf':function(_0x3e3341,_0x4c3ad5){return _0x3e3341!==_0x4c3ad5;},'mLlBu':_0x389485[_0x581d17(0x2e6)]};if(_0x389485[_0x581d17(0x612)](_0x581d17(0x367),_0x581d17(0x248)))_0x389485[_0x581d17(0x4bb)](it,_0x581d17(0x48d),()=>{const _0x317f36=_0x581d17,_0x21b1da={'brkAu':_0x317f36(0x150)};assert[_0x317f36(0x432)](()=>new WebSocket('foo'),/^SyntaxError: Invalid URL: foo$/),assert[_0x317f36(0x432)](()=>new WebSocket(_0x317f36(0x26b)),_0x5b13ee=>{return assert['strictEqual'](_0x5b13ee['message'],_0x21b1da['brkAu']+'\x22http:\x22,\x20\x22https\x22,\x20or\x20\x22ws+unix:\x22'),!![];}),assert[_0x317f36(0x432)](()=>new WebSocket(_0x317f36(0x6a6)),/^SyntaxError: The URL's pathname is empty$/),assert['throws'](()=>new WebSocket(_0x317f36(0x1af)),/^SyntaxError: The URL contains a fragment identifier$/);}),it(_0x581d17(0x269),()=>{const _0x3bc6c4=_0x581d17;for(const _0x31bf7b of[null,'',_0x389485[_0x3bc6c4(0x479)],['a','a']]){assert['throws'](()=>new WebSocket(_0x3bc6c4(0x5ca),_0x31bf7b),/^SyntaxError: An invalid or duplicated subprotocol was specified$/);}}),_0x389485['bomiI'](it,_0x389485[_0x581d17(0x580)],_0x1fda6d=>{const _0x3fbba2=_0x581d17,_0x298e18={'FsGMf':function(_0x597cf3){return _0x597cf3();}},_0x52541c=new http[(_0x3fbba2(0x265))]();_0x52541c[_0x3fbba2(0x48e)]=(_0x3141d0,_0x4e4e25)=>{const _0x5378dc=_0x3fbba2;assert[_0x5378dc(0x513)](_0x4e4e25[_0x5378dc(0x4a3)],_0x5378dc(0x31d)),assert[_0x5378dc(0x513)](_0x3141d0[_0x5378dc(0x45c)],'/'),_0x298e18[_0x5378dc(0x5d9)](_0x1fda6d);};const _0x1477b2=new WebSocket(new URL(_0x389485[_0x3fbba2(0x238)]),{'agent':_0x52541c});}),it(_0x389485[_0x581d17(0x60a)],_0x35ca1c=>{const _0x29efc6=_0x581d17;if(_0x389485['Jreoc'](_0x389485['qZcJe'],_0x389485[_0x29efc6(0x734)])){const _0x31959f=new CustomAgent();_0x31959f[_0x29efc6(0x48e)]=(_0x25410e,_0x5b474e)=>{const _0x350004=_0x29efc6;assert[_0x350004(0x513)](_0x5b474e['host'],_0x2ba413[_0x350004(0x5b8)]),assert['strictEqual'](_0x5b474e[_0x350004(0x217)],0x50),_0x2ba413['ihIhT'](_0x35ca1c);};const _0x1b7184=new WebSocket(_0x389485[_0x29efc6(0x528)],{'agent':_0x31959f});}else _0x4d4294[_0x29efc6(0x3bb)](),_0x49aa4f[_0x29efc6(0x521)]();}),_0x389485['bomiI'](it,_0x389485[_0x581d17(0x6e7)],_0x3031ad=>{const _0x1005ad=_0x581d17,_0x3bf934={'xbKKR':function(_0x1b14f3,_0x2b1b74){const _0x1458df=_0x397f;return _0x2ba413[_0x1458df(0x33d)](_0x1b14f3,_0x2b1b74);},'SjjLf':function(_0x554896){const _0x5be6cf=_0x397f;return _0x2ba413[_0x5be6cf(0x56c)](_0x554896);}},_0x2fdfe1=new https['Agent']();_0x2fdfe1['addRequest']=(_0x55019a,_0x218fff)=>{const _0x306426=_0x397f;_0x3bf934[_0x306426(0x246)](_0x306426(0x3c5),'yXUev')?(assert[_0x306426(0x513)](_0x218fff['host'],'localhost'),assert[_0x306426(0x513)](_0x218fff[_0x306426(0x217)],0x1bb),_0x3bf934[_0x306426(0x3c0)](_0x3031ad)):_0x4486d8['push'](_0x18d963);};const _0x1b03e4=new WebSocket(_0x2ba413[_0x1005ad(0x140)],{'agent':_0x2fdfe1});}),describe(_0x581d17(0x2d2),()=>{const _0x52460b=_0x581d17,_0x44220c={'qLeba':_0x52460b(0x6c3),'vmKLi':function(_0x48c181,_0x2d81f0){const _0x58010d=_0x52460b;return _0x389485[_0x58010d(0x600)](_0x48c181,_0x2d81f0);},'DbzlI':_0x389485['eQAKA'],'QEVdY':_0x52460b(0x6e1)};_0x389485['RlKPt'](it,_0x52460b(0x564),()=>{const _0x50a4ba=_0x52460b,_0x3fab1a={'fiHYv':_0x50a4ba(0x13d),'QptXE':function(_0x45f61a,_0x173a27){return _0x2ba413['bqwAD'](_0x45f61a,_0x173a27);},'jcNBP':_0x2ba413[_0x50a4ba(0x165)],'DDbUp':_0x50a4ba(0x2c8)},_0x53d809=new http[(_0x50a4ba(0x265))]();let _0x29989c=0x0,_0x2bf49b;_0x53d809['addRequest']=_0x3306ca=>{const _0x4bd32c=_0x50a4ba,_0x260930={'riOmP':_0x3fab1a[_0x4bd32c(0x2a3)]};_0x3fab1a[_0x4bd32c(0x463)](_0x3fab1a[_0x4bd32c(0x311)],'kSSoA')?(assert[_0x4bd32c(0x513)](_0x3306ca[_0x4bd32c(0x117)](_0x3fab1a[_0x4bd32c(0x168)]),undefined),_0x29989c++):_0x55996b['on'](_0x4bd32c(0x747),_0x5e45e1=>{const _0x21a60f=_0x4bd32c;_0x2d0508['ok'](_0x5e45e1 instanceof _0x273bda),_0x499c40['strictEqual'](_0x5e45e1[_0x21a60f(0x2be)],_0x260930[_0x21a60f(0x6c0)]),_0x39d660[_0x21a60f(0x513)](_0x5e45e1['message'],_0x21a60f(0x505)),_0xc0f380['on'](_0x21a60f(0x521),(_0xc391a4,_0x3ac5ec)=>{const _0x4be423=_0x21a60f;_0x4a1629['strictEqual'](_0xc391a4,0x3ee),_0x389530[_0x4be423(0x513)](_0x3ac5ec,_0x12308d),_0x110a62=!![];if(_0x5cb74f)_0x21b434[_0x4be423(0x521)](_0x17715c);});});},_0x2bf49b=new WebSocket(_0x2ba413['BYaJQ'],undefined,{'agent':_0x53d809}),_0x2bf49b=new WebSocket(_0x2ba413[_0x50a4ba(0x535)],[],{'agent':_0x53d809}),assert[_0x50a4ba(0x513)](_0x29989c,0x2);}),it(_0x52460b(0x1a7),_0x465d01=>{const _0x35ba45=_0x52460b,_0x516217={'EsaRj':_0x35ba45(0x6e1)};if(_0x2ba413[_0x35ba45(0x33d)](_0x2ba413[_0x35ba45(0x31a)],_0x2ba413['QlFAa'])){const _0x240b46=0x5000,_0xab0f70=new WebSocket[(_0x35ba45(0x5ec))]({'perMessageDeflate':!![],'port':0x0},()=>{const _0x1472ca=_0x35ba45,_0x2d78b3={'EHcyU':_0x44220c[_0x1472ca(0x334)]};if(_0x44220c[_0x1472ca(0x5c8)]('xVcFS',_0x44220c[_0x1472ca(0x64e)])){const _0x456a84=new WebSocket(_0x1472ca(0x40c)+_0xab0f70[_0x1472ca(0x5b5)]()[_0x1472ca(0x217)],{'perMessageDeflate':!![],'maxPayload':_0x240b46});_0x456a84['on'](_0x1472ca(0x6e1),()=>{const _0x14e22c=_0x1472ca;assert[_0x14e22c(0x513)](_0x456a84[_0x14e22c(0x20f)]['_maxPayload'],_0x240b46),assert[_0x14e22c(0x513)](_0x456a84[_0x14e22c(0x20f)][_0x14e22c(0x52a)][_0x2d78b3[_0x14e22c(0x2b7)]][_0x14e22c(0x135)],_0x240b46),_0xab0f70[_0x14e22c(0x521)](_0x465d01);});}else{const _0x5af7c3=new _0x453860(_0x1472ca(0x40c)+_0x4b4218['address']()['port']);_0x5af7c3['on'](_0x516217['EsaRj'],()=>{const _0x23c6cd=_0x1472ca;_0x5af7c3[_0x23c6cd(0x3ca)](_0x4cc687);}),_0x5af7c3['on'](_0x1472ca(0x1d4),_0x17a20c=>{const _0x199dcc=_0x1472ca;_0x1c8c83[_0x199dcc(0x236)](_0x17a20c,_0x3413b0),_0x56369b[_0x199dcc(0x521)](_0x55d1fa);});}});_0xab0f70['on'](_0x2ba413[_0x35ba45(0x5de)],_0x5e382d=>{_0x5e382d['close']();});}else _0x522237[_0x35ba45(0x513)](_0x3965c8['headers'][_0x35ba45(0x11d)],_0x361d2e),_0x596abd[_0x35ba45(0x521)]();}),it(_0x52460b(0x17c),()=>{const _0x58938b=_0x52460b;assert['throws'](()=>new WebSocket(_0x58938b(0x5ca),{'protocolVersion':0x3e8}),/^RangeError: Unsupported protocol version: 1000 \(supported versions: 8, 13\)$/);}),it(_0x389485[_0x52460b(0x57c)],_0x55c914=>{const _0x5429ac=_0x52460b,_0x53c8fe=Buffer['from'](_0x2ba413[_0x5429ac(0x258)]),_0xeefd84=new WebSocket['Server']({'port':0x0},()=>{const _0x58c98b=_0x5429ac,_0x2c53a3=new WebSocket('ws://localhost:'+_0xeefd84[_0x58c98b(0x5b5)]()[_0x58c98b(0x217)],{'generateMask'(){}});_0x2c53a3['on'](_0x44220c[_0x58c98b(0x1bf)],()=>{const _0x13ecd5=_0x58c98b;_0x2c53a3[_0x13ecd5(0x3bb)](_0x53c8fe);}),_0x2c53a3['on'](_0x58c98b(0x521),(_0x2259d2,_0x6437b)=>{const _0x505bd2=_0x58c98b;assert[_0x505bd2(0x513)](_0x2259d2,0x3ed),assert[_0x505bd2(0x236)](_0x6437b,EMPTY_BUFFER),_0xeefd84['close'](_0x55c914);});});_0xeefd84['on'](_0x2ba413['JGKfO'],_0xc9b442=>{const _0x5886df=_0x5429ac,_0x372e84=[];_0xc9b442[_0x5886df(0x52d)][_0x5886df(0x194)](_0x5886df(0x471),_0x2bdf3d=>{const _0x5e37f3=_0x5886df;_0x372e84[_0x5e37f3(0x67b)](_0x2bdf3d);}),_0xc9b442['on']('message',_0x21532a=>{const _0x35e071=_0x5886df;assert[_0x35e071(0x236)](_0x21532a,_0x53c8fe),assert['deepStrictEqual'](Buffer[_0x35e071(0x374)](_0x372e84)[_0x35e071(0x388)](0x2,0x6),Buffer[_0x35e071(0x37c)](0x4)),_0xc9b442['close']();});});}),_0x389485[_0x52460b(0x4bb)](it,_0x52460b(0x6a5),_0x53fe32=>{const _0x45eb1e=_0x52460b,_0x219bb6={'iLZBH':_0x2ba413[_0x45eb1e(0x518)],'EEXBt':_0x45eb1e(0x521),'nqzpQ':_0x45eb1e(0x6e1),'aTgMd':_0x2ba413[_0x45eb1e(0x25c)],'vsiSC':_0x2ba413[_0x45eb1e(0x4c4)],'SPcUo':function(_0x157f8c,_0x457085){return _0x2ba413['NkXjf'](_0x157f8c,_0x457085);},'JkzsZ':_0x45eb1e(0x11b),'MxPdx':_0x2ba413['mLlBu']},_0x3ee29f=new WebSocket[(_0x45eb1e(0x5ec))]({'port':0x0},()=>{const _0x2a917a=_0x45eb1e,_0x4dc653=new WebSocket(_0x2a917a(0x40c)+_0x3ee29f['address']()[_0x2a917a(0x217)],{'autoPong':![]});_0x4dc653['on'](_0x219bb6[_0x2a917a(0x5e8)],()=>{const _0x576713=_0x2a917a;_0x4dc653[_0x576713(0x521)]();}),_0x4dc653['on'](_0x219bb6[_0x2a917a(0x555)],()=>{const _0x2c43f6=_0x2a917a;_0x3ee29f[_0x2c43f6(0x521)](_0x53fe32);});});_0x3ee29f['on'](_0x45eb1e(0x3b0),_0x1710d=>{const _0x441159=_0x45eb1e,_0x799e2e={'nGbuc':_0x219bb6['aTgMd'],'vAbnB':_0x219bb6[_0x441159(0x58d)]};if(_0x219bb6['SPcUo'](_0x219bb6[_0x441159(0x65a)],_0x441159(0x4b0)))_0x1710d['on'](_0x219bb6[_0x441159(0x69a)],()=>{const _0x5e0fad=_0x441159;_0x53fe32(new Error(_0x799e2e[_0x5e0fad(0x362)]));}),_0x1710d[_0x441159(0x3ca)]();else{_0x167c4a['once']('upgrade',(_0x262725,_0x5d3f38)=>{const _0x42025c=_0x441159;_0x5d3f38['end'](_0x42025c(0x5fb)+_0x3cc77e['STATUS_CODES'][0x191]+'\x0d\x0a'+_0x799e2e[_0x42025c(0x229)]+_0x42025c(0x5fa)+('Content-Length:\x20'+_0x4897df['STATUS_CODES'][0x191][_0x42025c(0x4e2)]+'\x0d\x0a')+'\x0d\x0a');});const _0x2d8540=new _0x464148(_0x441159(0x40c)+_0x243444[_0x441159(0x5b5)]()['port']);_0x2d8540['on'](_0x219bb6[_0x441159(0x1ae)],()=>_0x32e281(new _0x2decd4(_0x441159(0x300)))),_0x2d8540['on']('error',_0x230058=>{const _0x15e36d=_0x441159;_0x318938['ok'](_0x230058 instanceof _0x13dc37),_0x3dfe80['strictEqual'](_0x230058[_0x15e36d(0x474)],_0x15e36d(0x73a)),_0xf41645();});}});});});else return _0x51ff1b[_0x581d17(0x513)](_0x26581f['message'],_0x581d17(0x150)+_0x581d17(0x1d6)),!![];}),describe('Constants',()=>{const _0x51af4e=_0x53100d,_0x52134c={'RDOZY':_0x51af4e(0x53b)},_0x52cc21={'CONNECTING':0x0,'OPEN':0x1,'CLOSING':0x2,'CLOSED':0x3};Object[_0x51af4e(0x2a0)](_0x52cc21)[_0x51af4e(0x261)](_0xbd9e7d=>{const _0x47b1b5=_0x51af4e,_0x565cec={'jGfhZ':function(_0x2d5719,_0x34afd2,_0x41ad63){return _0x2d5719(_0x34afd2,_0x41ad63);},'lGcIJ':_0x52134c[_0x47b1b5(0x5d5)]};describe('`'+_0xbd9e7d+'`',()=>{const _0xb7c06b=_0x47b1b5;_0x565cec[_0xb7c06b(0x346)](it,'is\x20enumerable\x20property\x20of\x20class',()=>{const _0x180f43=_0xb7c06b,_0xcdcaf6=Object[_0x180f43(0x647)](WebSocket,_0xbd9e7d);assert[_0x180f43(0x236)](_0xcdcaf6,{'configurable':![],'enumerable':!![],'value':_0x52cc21[_0xbd9e7d],'writable':![]});}),_0x565cec[_0xb7c06b(0x346)](it,_0x565cec[_0xb7c06b(0x412)],()=>{const _0x1bfc7d=_0xb7c06b,_0x59b39c=Object[_0x1bfc7d(0x647)](WebSocket['prototype'],_0xbd9e7d);assert[_0x1bfc7d(0x236)](_0x59b39c,{'configurable':![],'enumerable':!![],'value':_0x52cc21[_0xbd9e7d],'writable':![]});});});});}),_0x389485[_0x53100d(0x704)](describe,_0x389485[_0x53100d(0x5a8)],()=>{const _0x1b1c36=_0x53100d,_0x2dfcd6={'XVCTs':_0x1b1c36(0x5ca),'VsBIn':_0x389485[_0x1b1c36(0x616)],'snexq':function(_0x3ad9c7,_0x32cba6){const _0x6c409e=_0x1b1c36;return _0x389485[_0x6c409e(0x600)](_0x3ad9c7,_0x32cba6);},'XmKsi':_0x389485[_0x1b1c36(0x262)],'cfMwt':_0x1b1c36(0x750),'rOTyy':function(_0x11787a,_0x4155ec,_0x183c1b){return _0x11787a(_0x4155ec,_0x183c1b);},'YUAGl':_0x1b1c36(0x5d6),'ruNkz':_0x1b1c36(0x5ae),'fnNrG':_0x1b1c36(0x637),'tdDUH':_0x1b1c36(0x721),'rnogG':_0x389485['lgPkL'],'owwhs':_0x389485[_0x1b1c36(0x180)],'CcuEf':_0x389485[_0x1b1c36(0x385)],'Yuqqn':_0x389485[_0x1b1c36(0x550)],'UamlS':_0x389485[_0x1b1c36(0x43b)],'IWOjk':function(_0x5390ea,_0x4e22dc){return _0x5390ea>_0x4e22dc;},'CHGvt':function(_0x9f95c5,_0x314155){const _0x114761=_0x1b1c36;return _0x389485[_0x114761(0x420)](_0x9f95c5,_0x314155);},'TkCGP':'wcwqT','DmnGZ':function(_0x3f55f1,_0x17222c,_0x5630ef){return _0x3f55f1(_0x17222c,_0x5630ef);},'DHOdO':_0x389485[_0x1b1c36(0x39a)],'NMdzb':'open','zZMKQ':_0x389485[_0x1b1c36(0x289)],'BuDyh':_0x389485[_0x1b1c36(0x690)],'hJYkc':'Mnnus','lCoVx':function(_0x5768d4,_0x20b5fd){return _0x5768d4!==_0x20b5fd;},'EGYvk':_0x389485['katJv'],'thZrE':_0x389485[_0x1b1c36(0x221)]};describe(_0x389485[_0x1b1c36(0x2a8)],()=>{const _0x150d39=_0x1b1c36,_0x456f9a={'LYgRR':_0x2dfcd6['VsBIn'],'WySLH':function(_0x5c8ea6,_0x5e8120){return _0x2dfcd6['snexq'](_0x5c8ea6,_0x5e8120);},'lKkYL':_0x2dfcd6[_0x150d39(0x2f6)],'MkmsY':_0x2dfcd6[_0x150d39(0x51b)]};_0x2dfcd6[_0x150d39(0x510)](it,_0x2dfcd6[_0x150d39(0x4f8)],()=>{const _0x4d5357=_0x150d39,_0x22ae74=Object[_0x4d5357(0x647)](WebSocket[_0x4d5357(0x30c)],_0x456f9a[_0x4d5357(0x259)]);assert[_0x4d5357(0x513)](_0x22ae74[_0x4d5357(0x23c)],!![]),assert[_0x4d5357(0x513)](_0x22ae74[_0x4d5357(0x1f0)],!![]),assert['ok'](_0x22ae74[_0x4d5357(0x4a5)]!==undefined),assert['ok'](_0x456f9a['WySLH'](_0x22ae74[_0x4d5357(0x737)],undefined));}),it(_0x150d39(0x16c),()=>{const _0x303bba=_0x150d39,_0x9dbe94=new WebSocket(_0x2dfcd6[_0x303bba(0x6b5)],{'agent':new CustomAgent()});assert[_0x303bba(0x513)](_0x9dbe94[_0x303bba(0x591)],'nodebuffer');}),_0x2dfcd6[_0x150d39(0x510)](it,_0x150d39(0x3cb),()=>{const _0x2dd212=_0x150d39,_0x2051c9=new WebSocket(_0x2dd212(0x5ca),{'agent':new CustomAgent()});_0x2051c9[_0x2dd212(0x591)]=_0x2dd212(0x26e),assert[_0x2dd212(0x513)](_0x2051c9[_0x2dd212(0x591)],_0x2dd212(0x26e)),_0x2051c9[_0x2dd212(0x591)]=_0x2dd212(0x72b),assert['strictEqual'](_0x2051c9[_0x2dd212(0x591)],_0x2dd212(0x26e)),_0x2051c9['binaryType']=_0x2dd212(0x4e3),assert['strictEqual'](_0x2051c9[_0x2dd212(0x591)],_0x456f9a[_0x2dd212(0x5d0)]),_0x2051c9[_0x2dd212(0x591)]='',assert[_0x2dd212(0x513)](_0x2051c9[_0x2dd212(0x591)],_0x456f9a[_0x2dd212(0x5d0)]),_0x2051c9[_0x2dd212(0x591)]=_0x456f9a[_0x2dd212(0x6db)],assert['strictEqual'](_0x2051c9[_0x2dd212(0x591)],_0x2dd212(0x750));});}),describe(_0x389485[_0x1b1c36(0x6d4)],()=>{const _0x5f5662=_0x1b1c36,_0xc48e8b={'rjBij':_0x2dfcd6[_0x5f5662(0x4a0)],'CzDRn':_0x2dfcd6[_0x5f5662(0x547)],'Xfgth':_0x2dfcd6[_0x5f5662(0x466)],'QspkZ':_0x2dfcd6[_0x5f5662(0x2af)],'YwuwF':function(_0x12f513,_0x563393){const _0x31fb73=_0x5f5662;return _0x2dfcd6[_0x31fb73(0x2cd)](_0x12f513,_0x563393);}};_0x2dfcd6[_0x5f5662(0x6fe)](_0x5f5662(0x3e0),_0x2dfcd6[_0x5f5662(0x2b9)])?(it(_0x5f5662(0x5d6),()=>{const _0x575a33=_0x5f5662;if(_0x575a33(0x5ae)===_0x2dfcd6[_0x575a33(0x4dd)]){const _0x4f1a7b=Object[_0x575a33(0x647)](WebSocket[_0x575a33(0x30c)],_0x2dfcd6['fnNrG']);assert[_0x575a33(0x513)](_0x4f1a7b[_0x575a33(0x23c)],!![]),assert[_0x575a33(0x513)](_0x4f1a7b[_0x575a33(0x1f0)],!![]),assert['ok'](_0x2dfcd6[_0x575a33(0x19a)](_0x4f1a7b[_0x575a33(0x4a5)],undefined)),assert['ok'](_0x4f1a7b[_0x575a33(0x737)]===undefined);}else{const _0x33e056=new _0x1805da(_0x575a33(0x5ca),{'agent':new _0x305eaf()});_0x33e056['on'](_0xc48e8b[_0x575a33(0x450)],_0x598d0c),_0x33e056[_0x575a33(0x2f8)]=_0x4259ac;let _0x3f9db7=_0x33e056[_0x575a33(0x6ef)](_0x575a33(0x521));_0x2b99e1['strictEqual'](_0x3f9db7[_0x575a33(0x4e2)],0x2),_0x511b28['strictEqual'](_0x3f9db7[0x0],_0x2d98d2),_0x783919[_0x575a33(0x513)](_0x3f9db7[0x1][_0x119f07],_0x206c86),_0x33e056[_0x575a33(0x2f8)]=_0xab8830,_0x3f9db7=_0x33e056[_0x575a33(0x6ef)](_0xc48e8b[_0x575a33(0x450)]),_0x4f9164[_0x575a33(0x513)](_0x3f9db7[_0x575a33(0x4e2)],0x2),_0x5b464d[_0x575a33(0x513)](_0x3f9db7[0x0],_0x3d8f7d),_0x3bd1b0[_0x575a33(0x513)](_0x3f9db7[0x1][_0x4a8104],_0x3f05de);}}),_0x2dfcd6[_0x5f5662(0x6a7)](it,_0x5f5662(0x5dd),()=>{const _0x5903ec=_0x5f5662,_0x3c8406=new WebSocket('ws://localhost',{'agent':new CustomAgent()});assert['strictEqual'](_0x3c8406[_0x5903ec(0x637)],0x0);}),it(_0x5f5662(0x457),_0x3135f3=>{const _0x1fbe92=_0x5f5662,_0xe3cb71={'jxAcZ':_0xc48e8b[_0x1fbe92(0x232)]},_0x36b19d=new WebSocket[(_0x1fbe92(0x5ec))]({'port':0x0},()=>{const _0x577a63=_0x1fbe92;if(_0xe3cb71[_0x577a63(0x4de)]===_0xe3cb71['jxAcZ']){const _0x4ba6a8=new WebSocket(_0x577a63(0x40c)+_0x36b19d[_0x577a63(0x5b5)]()[_0x577a63(0x217)]);_0x4ba6a8[_0x577a63(0x1be)]=()=>{const _0xa8180d=_0x577a63;assert['strictEqual'](_0x4ba6a8['bufferedAmount'],0x0),_0x36b19d[_0xa8180d(0x521)](_0x3135f3);};}else{const _0x364493=new _0x250e14(_0x577a63(0x40c)+_0x4bde58[_0x577a63(0x5b5)]()[_0x577a63(0x217)]);}});_0x36b19d['on'](_0xc48e8b['Xfgth'],_0xa839f8=>{const _0x5a376b=_0x1fbe92;_0xa839f8[_0x5a376b(0x521)]();});}),it(_0x5f5662(0x2f9),_0xbb2d97=>{const _0x30dace=_0x5f5662,_0x3b368d={'WDBBT':_0x2dfcd6[_0x30dace(0x391)],'FTVMP':function(_0x41cc3a,_0xea2920){return _0x41cc3a===_0xea2920;},'yrgLY':_0x2dfcd6[_0x30dace(0x539)]},_0x49b885=new WebSocket[(_0x30dace(0x5ec))]({'perMessageDeflate':!![],'port':0x0},()=>{const _0x4f8dc6=_0x30dace,_0x56d799={'TfvgE':_0x4f8dc6(0x72b),'wtRQl':_0x3b368d[_0x4f8dc6(0x2a9)],'GaXOI':_0x4f8dc6(0x1d3),'WAwJy':function(_0x3dafb9,_0x449baf){const _0x2b7d17=_0x4f8dc6;return _0x3b368d[_0x2b7d17(0x191)](_0x3dafb9,_0x449baf);},'uPMmV':'ZQaUp','TwVla':_0x3b368d[_0x4f8dc6(0x31e)]},_0x2dca4b=new WebSocket(_0x4f8dc6(0x40c)+_0x49b885[_0x4f8dc6(0x5b5)]()[_0x4f8dc6(0x217)],{'perMessageDeflate':{'threshold':0x0}});_0x2dca4b['on'](_0x4f8dc6(0x6e1),()=>{const _0x2d258f=_0x4f8dc6;_0x56d799[_0x2d258f(0x4a6)](_0x56d799[_0x2d258f(0x3b2)],_0x56d799[_0x2d258f(0x70b)])?(_0x4184c4[_0x2d258f(0x236)](_0x2ea229,[_0x56d799[_0x2d258f(0x54f)],_0x56d799[_0x2d258f(0x744)],_0x2d258f(0x20c),_0x56d799['GaXOI']]),_0x77b703[_0x2d258f(0x513)](_0x4da163,0x3e8),_0x2ef184[_0x2d258f(0x236)](_0x51c085,_0x4539af),_0x2f891f['close'](_0x12de9c)):(_0x2dca4b['send'](_0x56d799['TfvgE']),assert[_0x2d258f(0x513)](_0x2dca4b[_0x2d258f(0x637)],0x3),_0x2dca4b[_0x2d258f(0x3bb)](_0x56d799[_0x2d258f(0x744)],_0x1674b2=>{const _0x21488d=_0x2d258f;assert[_0x21488d(0x671)](_0x1674b2),assert['strictEqual'](_0x2dca4b[_0x21488d(0x637)],0x0),_0x49b885[_0x21488d(0x521)](_0xbb2d97);}),assert['strictEqual'](_0x2dca4b[_0x2d258f(0x637)],0x6));});});_0x49b885['on'](_0x2dfcd6[_0x30dace(0x466)],_0x2962b9=>{const _0x27f1c3=_0x30dace;_0x2962b9[_0x27f1c3(0x521)]();});}),it(_0x2dfcd6[_0x5f5662(0x2d0)],_0x178b41=>{const _0x53c410=_0x5f5662,_0x38c44a={'jMEmp':function(_0x587dd1){return _0x587dd1();},'kYjbO':_0xc48e8b[_0x53c410(0x2c6)],'ekOxs':function(_0x25ebfa,_0x4a3246){return _0xc48e8b['YwuwF'](_0x25ebfa,_0x4a3246);},'pCyLO':_0x53c410(0x521)},_0x344377=new WebSocket[(_0x53c410(0x5ec))]({'port':0x0},()=>{const _0x20729f=_0x53c410;if('PhENG'===_0x20729f(0x5ac))_0x1c4da8[_0x20729f(0x513)](_0x46d30b,0x3ee),_0x38c44a[_0x20729f(0x748)](_0xa1f652);else{const _0x55c870=new WebSocket(_0x20729f(0x40c)+_0x344377[_0x20729f(0x5b5)]()[_0x20729f(0x217)]);}});_0x344377['on'](_0x53c410(0x3b0),_0x5a8f31=>{const _0x1948bf=_0x53c410,_0x5ca2fe=Buffer[_0x1948bf(0x37c)](0x400,0x3d);while(_0x5a8f31[_0x1948bf(0x637)]===0x0){_0x38c44a[_0x1948bf(0x1e2)]!==_0x1948bf(0x478)?(_0xba24f2['deepStrictEqual'](_0x2152ba[_0x1948bf(0x388)](0x0,0x2),_0x57c026[_0x1948bf(0x6b2)]([0x88,0x80])),_0x6243e[_0x1948bf(0x236)](_0x2494dc,_0x2d1ed8[_0x1948bf(0x6b2)]([0x88,0x0])),_0x4f6a9d['on'](_0x1948bf(0x521),(_0x3f8100,_0x38a417)=>{const _0x358b81=_0x1948bf;_0x1dae7a['strictEqual'](_0x3f8100,0x3ed),_0x1af019['strictEqual'](_0x38a417,_0x2f099b),_0x31b8d4[_0x358b81(0x521)](_0x1ab23b);})):_0x5a8f31[_0x1948bf(0x3bb)](_0x5ca2fe);}assert['ok'](_0x38c44a['ekOxs'](_0x5a8f31[_0x1948bf(0x637)],0x0)),assert[_0x1948bf(0x513)](_0x5a8f31[_0x1948bf(0x637)],_0x5a8f31[_0x1948bf(0x52d)][_0x1948bf(0x6d1)][_0x1948bf(0x4e2)]),_0x5a8f31['on'](_0x38c44a[_0x1948bf(0x502)],()=>_0x344377[_0x1948bf(0x521)](_0x178b41)),_0x5a8f31['close']();});})):(_0x134ae5['deepStrictEqual'](_0x45e48f,_0x27a672['from']('hi')),_0x31103c['ok'](!_0x350f37),_0x4c9164[_0x5f5662(0x521)](_0x3623da));}),_0x389485[_0x1b1c36(0x53a)](describe,_0x1b1c36(0x689),()=>{const _0x8d5ba7=_0x1b1c36,_0x4016b2={'FhEzS':_0x8d5ba7(0x6c3)};it(_0x2dfcd6['YUAGl'],()=>{const _0x2741c3=_0x8d5ba7,_0x323132=Object[_0x2741c3(0x647)](WebSocket[_0x2741c3(0x30c)],'bufferedAmount');assert[_0x2741c3(0x513)](_0x323132[_0x2741c3(0x23c)],!![]),assert[_0x2741c3(0x513)](_0x323132[_0x2741c3(0x1f0)],!![]),assert['ok'](_0x323132[_0x2741c3(0x4a5)]!==undefined),assert['ok'](_0x323132[_0x2741c3(0x737)]===undefined);}),it('exposes\x20the\x20negotiated\x20extensions\x20names\x20(1/2)',_0x19652d=>{const _0x6bfe08=_0x8d5ba7,_0x1e112c={'tBubL':_0x6bfe08(0x521)},_0x24b918=new WebSocket[(_0x6bfe08(0x5ec))]({'port':0x0},()=>{const _0x5d806f=_0x6bfe08,_0xfbc173=new WebSocket(_0x5d806f(0x40c)+_0x24b918[_0x5d806f(0x5b5)]()[_0x5d806f(0x217)]);assert[_0x5d806f(0x513)](_0xfbc173[_0x5d806f(0x695)],''),_0xfbc173['on'](_0x5d806f(0x6e1),()=>{const _0x3f2646=_0x5d806f;assert[_0x3f2646(0x513)](_0xfbc173[_0x3f2646(0x695)],''),_0xfbc173['on'](_0x1e112c['tBubL'],()=>_0x24b918['close'](_0x19652d));});});_0x24b918['on'](_0x6bfe08(0x3b0),_0x36dc06=>{const _0xd7caa7=_0x6bfe08;assert[_0xd7caa7(0x513)](_0x36dc06[_0xd7caa7(0x695)],''),_0x36dc06[_0xd7caa7(0x521)]();});}),_0x2dfcd6['DmnGZ'](it,_0x2dfcd6[_0x8d5ba7(0x494)],_0x273640=>{const _0x2260e6=_0x8d5ba7,_0x23c48e={'hvgse':_0x2260e6(0x6c3),'Uuerp':'close','CHHXr':_0x2dfcd6['NMdzb']},_0x15ac17=new WebSocket[(_0x2260e6(0x5ec))]({'perMessageDeflate':!![],'port':0x0},()=>{const _0x1985eb=_0x2260e6,_0x597d83=new WebSocket(_0x1985eb(0x40c)+_0x15ac17[_0x1985eb(0x5b5)]()[_0x1985eb(0x217)]);assert[_0x1985eb(0x513)](_0x597d83[_0x1985eb(0x695)],''),_0x597d83['on'](_0x23c48e[_0x1985eb(0x665)],()=>{const _0x415f6b=_0x1985eb;assert['strictEqual'](_0x597d83['extensions'],_0x23c48e[_0x415f6b(0x67f)]),_0x597d83['on'](_0x23c48e[_0x415f6b(0x467)],()=>_0x15ac17[_0x415f6b(0x521)](_0x273640));});});_0x15ac17['on'](_0x2dfcd6['owwhs'],_0x12b8db=>{const _0x4e805c=_0x2260e6;assert[_0x4e805c(0x513)](_0x12b8db[_0x4e805c(0x695)],_0x4016b2['FhEzS']),_0x12b8db['close']();});});}),describe(_0x389485[_0x1b1c36(0x27c)],()=>{const _0x5a9258=_0x1b1c36,_0xf504e7={'dTWcX':_0x2dfcd6[_0x5a9258(0x363)]};it(_0x2dfcd6[_0x5a9258(0x4f8)],()=>{const _0x202f44=_0x5a9258,_0x532695=Object[_0x202f44(0x647)](WebSocket[_0x202f44(0x30c)],_0xf504e7[_0x202f44(0x274)]);assert[_0x202f44(0x513)](_0x532695[_0x202f44(0x23c)],!![]),assert['strictEqual'](_0x532695['enumerable'],!![]),assert['ok'](_0x532695['get']!==undefined),assert['ok'](_0x532695[_0x202f44(0x737)]===undefined);}),_0x2dfcd6[_0x5a9258(0x6a7)](it,_0x5a9258(0x668),_0xc560b2=>{const _0x524443=_0x5a9258,_0x7d3ccd=new WebSocket[(_0x524443(0x5ec))]({'port':0x0},()=>{const _0x1ba40d=_0x524443,_0x177ad0=new WebSocket('ws://localhost:'+_0x7d3ccd[_0x1ba40d(0x5b5)]()[_0x1ba40d(0x217)]);_0x177ad0['on'](_0x1ba40d(0x6e1),()=>{const _0x1e13e7=_0x1ba40d;_0x177ad0['pause'](),assert['ok'](_0x177ad0[_0x1e13e7(0x49b)]),_0x177ad0['resume'](),assert['ok'](!_0x177ad0[_0x1e13e7(0x49b)]),_0x177ad0['close'](),_0x7d3ccd[_0x1e13e7(0x521)](_0xc560b2);}),assert['ok'](!_0x177ad0['isPaused']);});});}),describe(_0x389485[_0x1b1c36(0x4d0)],()=>{const _0x514d73=_0x1b1c36,_0x115b1d={'JhHJK':function(_0x11b7cb,_0x45cd0d){return _0x11b7cb!==_0x45cd0d;},'DFQqS':'authorization','lqWoZ':_0x514d73(0x72b)};it(_0x389485[_0x514d73(0x356)],()=>{const _0x75ab46=_0x514d73,_0x3247b0=Object[_0x75ab46(0x647)](WebSocket[_0x75ab46(0x30c)],_0x75ab46(0x48c));assert[_0x75ab46(0x513)](_0x3247b0[_0x75ab46(0x23c)],!![]),assert['strictEqual'](_0x3247b0[_0x75ab46(0x1f0)],!![]),assert['ok'](_0x115b1d[_0x75ab46(0x6cd)](_0x3247b0['get'],undefined)),assert['ok'](_0x3247b0['set']===undefined);}),_0x389485[_0x514d73(0x640)](it,'exposes\x20the\x20subprotocol\x20selected\x20by\x20the\x20server',_0x5cd47d=>{const _0x376efa=_0x514d73,_0x5437dd={'ImfGk':'foo','Lxwdv':_0x2dfcd6['CcuEf']},_0x4e344e=new WebSocket['Server']({'port':0x0},()=>{const _0x419fb5=_0x397f,_0x1eb773=_0x4e344e[_0x419fb5(0x5b5)]()[_0x419fb5(0x217)],_0x3ef032=new WebSocket(_0x419fb5(0x40c)+_0x1eb773,_0x419fb5(0x72b));assert[_0x419fb5(0x513)](_0x3ef032['extensions'],''),_0x3ef032['on'](_0x419fb5(0x6e1),()=>{const _0x165b04=_0x419fb5;assert[_0x165b04(0x513)](_0x3ef032[_0x165b04(0x48c)],_0x5437dd[_0x165b04(0x691)]),_0x3ef032['on'](_0x5437dd[_0x165b04(0x17b)],()=>_0x4e344e[_0x165b04(0x521)](_0x5cd47d));});});_0x4e344e['on'](_0x376efa(0x3b0),_0x21e921=>{const _0x57a49b=_0x376efa,_0x4805ee={'iDJBd':_0x115b1d[_0x57a49b(0x62a)]};_0x115b1d[_0x57a49b(0x6cd)](_0x57a49b(0x129),'nmoXm')?(assert[_0x57a49b(0x513)](_0x21e921[_0x57a49b(0x48c)],_0x115b1d['lqWoZ']),_0x21e921[_0x57a49b(0x521)]()):(_0x299db3['strictEqual'](_0x1e7cb0['getHeader'](_0x4805ee[_0x57a49b(0x149)]),_0x57a49b(0x223)+_0x52d76b['from'](_0x20b01a)[_0x57a49b(0x241)]('base64')),_0x1ed1bc());});});}),_0x389485[_0x1b1c36(0x4bb)](describe,_0x1b1c36(0x485),()=>{const _0x1550c3=_0x1b1c36,_0x9fa0ab={'GaEda':function(_0x49487e,_0x2d507d){return _0x49487e!==_0x2d507d;},'AqJWy':_0x389485[_0x1550c3(0x36d)],'gQAIu':_0x389485[_0x1550c3(0x385)],'GsOpT':_0x389485['WOiQS'],'jnkZS':_0x389485[_0x1550c3(0x481)]};it(_0x389485[_0x1550c3(0x356)],()=>{const _0x3b9d06=_0x1550c3,_0x57b8e6=Object[_0x3b9d06(0x647)](WebSocket[_0x3b9d06(0x30c)],_0x3b9d06(0x459));assert[_0x3b9d06(0x513)](_0x57b8e6[_0x3b9d06(0x23c)],!![]),assert['strictEqual'](_0x57b8e6['enumerable'],!![]),assert['ok'](_0x9fa0ab[_0x3b9d06(0x500)](_0x57b8e6[_0x3b9d06(0x4a5)],undefined)),assert['ok'](_0x57b8e6[_0x3b9d06(0x737)]===undefined);}),it(_0x1550c3(0x278),()=>{const _0x1d87a2=_0x1550c3,_0x59c804=new WebSocket(_0x9fa0ab['AqJWy'],{'agent':new CustomAgent()});assert[_0x1d87a2(0x513)](_0x59c804[_0x1d87a2(0x459)],WebSocket[_0x1d87a2(0x2ea)]);}),it(_0x389485[_0x1550c3(0x4ad)],_0x86931e=>{const _0x553b86=_0x1550c3,_0x33fa2c={'isVIL':_0x2dfcd6['CcuEf']};if('yIgDu'!==_0x2dfcd6[_0x553b86(0x3c9)]){const _0x2cbf8b=new WebSocket[(_0x553b86(0x5ec))]({'port':0x0},()=>{const _0x1287c1=_0x553b86,_0x117763=new WebSocket(_0x1287c1(0x40c)+_0x2cbf8b[_0x1287c1(0x5b5)]()[_0x1287c1(0x217)]);_0x117763['on'](_0x1287c1(0x6e1),()=>{const _0x2fb53d=_0x1287c1;assert['strictEqual'](_0x117763['readyState'],WebSocket[_0x2fb53d(0x46d)]),_0x117763[_0x2fb53d(0x521)]();}),_0x117763['on'](_0x33fa2c[_0x1287c1(0x4f9)],()=>_0x2cbf8b[_0x1287c1(0x521)](_0x86931e));});}else{const _0x34259c=new _0xae915e('ws://localhost:'+_0xaf14fd['address']()['port']);_0x34259c['on'](_0x553b86(0x521),_0x392fe3=>{const _0x481790=_0x553b86;_0x423730[_0x481790(0x513)](_0x392fe3,0x3f5),_0x3fa656[_0x481790(0x521)](_0x9133b3);});}}),it(_0x1550c3(0x565),_0x39462b=>{const _0x425cd6=_0x1550c3,_0x58442b={'GLDcL':_0x425cd6(0x23e),'NxHJk':_0x9fa0ab['jnkZS']},_0x2889ca=new WebSocket[(_0x425cd6(0x5ec))]({'port':0x0},()=>{const _0x1eceef=_0x425cd6,_0x2957fe={'HfWiu':function(_0x3d7cc9,_0x585bc3){return _0x3d7cc9+_0x585bc3;}},_0x4c9ee9=new WebSocket(_0x1eceef(0x40c)+_0x2889ca['address']()[_0x1eceef(0x217)]);_0x4c9ee9['on'](_0x9fa0ab[_0x1eceef(0x286)],()=>{const _0x2a3bbf=_0x1eceef;_0x58442b['GLDcL']===_0x58442b[_0x2a3bbf(0x669)]?(_0x55559d['ok'](_0x450000 instanceof _0x3981cf),_0x4d8cf4['strictEqual'](_0x4b088d['message'],_0x2957fe[_0x2a3bbf(0x5e3)]('The\x20URL\x27s\x20protocol\x20must\x20be\x20one\x20of\x20\x22ws:\x22,\x20\x22wss:\x22,\x20',_0x2a3bbf(0x1d6))),_0xecb610['strictEqual'](_0x4e39fc['_redirects'],0x1),_0x2c4daf['on']('close',()=>_0x3fb6a8())):(assert[_0x2a3bbf(0x513)](_0x4c9ee9[_0x2a3bbf(0x459)],WebSocket[_0x2a3bbf(0x282)]),_0x2889ca[_0x2a3bbf(0x521)](_0x39462b));}),_0x4c9ee9['on'](_0x9fa0ab[_0x1eceef(0x66d)],()=>_0x4c9ee9[_0x1eceef(0x521)](0x3e9));});}),_0x389485[_0x1550c3(0x53a)](it,_0x1550c3(0x3f3),_0x1005d4=>{const _0x329b64=_0x1550c3,_0x21bff1=new WebSocket[(_0x329b64(0x5ec))]({'port':0x0},()=>{const _0x16fa4d=_0x329b64,_0x3688c0=new WebSocket(_0x16fa4d(0x40c)+_0x21bff1[_0x16fa4d(0x5b5)]()[_0x16fa4d(0x217)]);_0x3688c0['on'](_0x16fa4d(0x521),()=>{const _0xb8f4f4=_0x16fa4d;assert[_0xb8f4f4(0x513)](_0x3688c0[_0xb8f4f4(0x459)],WebSocket[_0xb8f4f4(0x282)]),_0x21bff1[_0xb8f4f4(0x521)](_0x1005d4);}),_0x3688c0['on'](_0x16fa4d(0x6e1),()=>_0x3688c0[_0x16fa4d(0x1e4)]());});});}),describe('`url`',()=>{const _0x33392f=_0x1b1c36,_0x2088d4={'MTIzv':function(_0x345921,_0x21219b){const _0x4fd833=_0x397f;return _0x2dfcd6[_0x4fd833(0x542)](_0x345921,_0x21219b);},'HSHlz':function(_0x368cd4,_0xea22ba){return _0x368cd4===_0xea22ba;},'cKqzg':_0x33392f(0x4b5),'cdLei':_0x2dfcd6['EGYvk']};it(_0x2dfcd6[_0x33392f(0x4f8)],()=>{const _0x3beec0=_0x33392f,_0x952765=Object[_0x3beec0(0x647)](WebSocket['prototype'],_0x3beec0(0x40b));assert[_0x3beec0(0x513)](_0x952765[_0x3beec0(0x23c)],!![]),assert['strictEqual'](_0x952765['enumerable'],!![]),assert['ok'](_0x2088d4['MTIzv'](_0x952765[_0x3beec0(0x4a5)],undefined)),assert['ok'](_0x2088d4[_0x3beec0(0x489)](_0x952765[_0x3beec0(0x737)],undefined));}),_0x2dfcd6[_0x33392f(0x6a7)](it,_0x2dfcd6['thZrE'],()=>{const _0x141365=_0x33392f,_0x24527d=new Map([['ws','ws'],[_0x2088d4[_0x141365(0x64d)],'wss'],['http','ws'],[_0x2088d4[_0x141365(0x736)],_0x141365(0x4b5)]]);for(const [_0x4dd5fb,_0x1b2f82]of _0x24527d){const _0x4e4bfb=new WebSocket(_0x4dd5fb+_0x141365(0x592),{'lookup'(){}});assert[_0x141365(0x513)](_0x4e4bfb[_0x141365(0x40b)],_0x1b2f82+'://localhost/');}});});}),describe(_0x53100d(0x240),()=>{const _0x44c6dc=_0x53100d,_0x2b1c28={'LOShG':_0x44c6dc(0x2de),'OJGxy':_0x389485[_0x44c6dc(0x12b)],'BZusm':function(_0x38d8dc,_0x2cc2f4){const _0x4aeb8e=_0x44c6dc;return _0x389485[_0x4aeb8e(0x72c)](_0x38d8dc,_0x2cc2f4);},'oJLvl':_0x389485[_0x44c6dc(0x254)],'eUryv':_0x44c6dc(0x13a),'TTcsm':_0x389485[_0x44c6dc(0x519)],'gcwXE':_0x44c6dc(0x521),'PtVRI':function(_0xb10e69,_0x420835){return _0xb10e69<_0x420835;},'HGHet':function(_0x2a75d5,_0x1cad3f){return _0x2a75d5===_0x1cad3f;},'jiSMt':function(_0x487c64,_0x374ff4){return _0x487c64>_0x374ff4;},'SLGIq':'ping','JzuZY':function(_0x3d5b2e,_0x8d09d0){return _0x3d5b2e!==_0x8d09d0;},'UUvdu':_0x44c6dc(0x605),'xkUHc':_0x389485[_0x44c6dc(0x180)],'BDcsL':_0x389485[_0x44c6dc(0x2a1)],'sUAje':'/foo'};if(_0x389485[_0x44c6dc(0x600)](_0x44c6dc(0x24f),_0x44c6dc(0x24f))){const _0xee9af5=_0x59e584[_0x44c6dc(0x2ca)](_0x44c6dc(0x266))[_0x44c6dc(0x730)](_0xd2af55[_0x44c6dc(0x3ee)][_0x2b1c28[_0x44c6dc(0x69d)]]+_0xad98ae)[_0x44c6dc(0x26d)](_0x2b1c28[_0x44c6dc(0x73c)]);_0x4c5cb5[_0x44c6dc(0x17f)](_0x2b1c28[_0x44c6dc(0x560)](_0x2b1c28[_0x44c6dc(0x560)](_0x2b1c28[_0x44c6dc(0x560)](_0x2b1c28['oJLvl'],_0x2b1c28[_0x44c6dc(0x573)]),_0x44c6dc(0x159))+('Sec-WebSocket-Accept:\x20'+_0xee9af5+'\x0d\x0a'),_0x2b1c28[_0x44c6dc(0x436)])+'\x0d\x0a');}else _0x389485[_0x44c6dc(0x53a)](it,_0x44c6dc(0x563),_0x458a0a=>{const _0x72b8bb=_0x44c6dc,_0x44d04a={'NGxkx':function(_0x2f2c82,_0x5eb8b9){const _0x1f80b4=_0x397f;return _0x389485[_0x1f80b4(0x724)](_0x2f2c82,_0x5eb8b9);},'FJSZv':_0x389485[_0x72b8bb(0x464)],'tKeFi':_0x389485[_0x72b8bb(0x2e8)],'CSxiB':_0x389485[_0x72b8bb(0x1a9)],'SaWHE':_0x72b8bb(0x521)};let _0x5f097f=![],_0x59273f=![];const _0xd1215e=new WebSocket[(_0x72b8bb(0x5ec))]({'port':0x0},()=>{const _0xb8d02e=_0x72b8bb,_0x529426={'TxEOB':function(_0x2f7bbc,_0x165d0f){const _0x2c5921=_0x397f;return _0x44d04a[_0x2c5921(0x47c)](_0x2f7bbc,_0x165d0f);},'xauxa':_0x44d04a['FJSZv'],'tbtlf':_0x44d04a['tKeFi'],'bQDkk':'close'},_0x1cb969=new WebSocket(_0xb8d02e(0x40c)+_0xd1215e['address']()['port']);_0x1cb969['on'](_0x44d04a['CSxiB'],_0x38c08e=>{const _0xc26363=_0xb8d02e;assert['ok'](_0x38c08e instanceof RangeError),assert[_0xc26363(0x513)](_0x38c08e['code'],_0xc26363(0x13d)),assert[_0xc26363(0x513)](_0x38c08e[_0xc26363(0x474)],_0x529426[_0xc26363(0x5d8)]),_0x1cb969['on'](_0x529426[_0xc26363(0x749)],(_0x1d0783,_0x58d549)=>{const _0x55c8e0=_0xc26363;if(_0x529426[_0x55c8e0(0x4bd)](_0x55c8e0(0x36b),_0x529426[_0x55c8e0(0x1bd)])){assert[_0x55c8e0(0x513)](_0x1d0783,0x3ee),assert[_0x55c8e0(0x513)](_0x58d549,EMPTY_BUFFER),_0x5f097f=!![];if(_0x59273f)_0xd1215e['close'](_0x458a0a);}else _0x385130[_0x55c8e0(0x713)](_0x37d88b,_0x47dbf2,_0x3b09a8,(_0x3bf1f2,_0x1a17f4)=>{const _0x12a8e6=_0x55c8e0;_0x4292f5[_0x12a8e6(0x513)](_0x1a17f4[_0x12a8e6(0x3ee)][_0x12a8e6(0x11d)],_0x955cec),_0x3bf1f2[_0x12a8e6(0x521)]();});});});});_0xd1215e['on'](_0x389485[_0x72b8bb(0x180)],_0x4a6dcf=>{const _0x2d8e1e=_0x72b8bb;_0x4a6dcf['on'](_0x44d04a['SaWHE'],(_0x10d956,_0x481282)=>{const _0x53baba=_0x397f;assert[_0x53baba(0x513)](_0x10d956,0x3ea),assert['deepStrictEqual'](_0x481282,EMPTY_BUFFER),_0x59273f=!![];if(_0x5f097f)_0xd1215e[_0x53baba(0x521)](_0x458a0a);}),_0x4a6dcf[_0x2d8e1e(0x52d)][_0x2d8e1e(0x72e)](Buffer['from']([0x85,0x0]));});}),it(_0x389485[_0x44c6dc(0x63b)],function(_0x111a74){const _0x321db0=_0x44c6dc,_0x4edaf4={'MYNig':_0x321db0(0x747)};if(_0x2b1c28[_0x321db0(0x70e)](process[_0x321db0(0x496)][_0x321db0(0x31b)],0x5d))return this['skip']();const _0x2140ec=new WebSocket[(_0x321db0(0x5ec))]({'port':0x0},()=>{const _0x183ebc=_0x321db0,_0x5bb3da={'tGElP':_0x2b1c28[_0x183ebc(0x727)]},_0x29591b=new WebSocket(_0x183ebc(0x40c)+_0x2140ec['address']()[_0x183ebc(0x217)]);_0x29591b['on'](_0x183ebc(0x6e1),()=>{const _0x1cad0a=_0x183ebc;_0x29591b['_socket']['on'](_0x4edaf4['MYNig'],_0x45ca21=>{const _0x5ccb3d=_0x397f;assert['ok'](_0x45ca21 instanceof Error),assert['strictEqual'](_0x45ca21[_0x5ccb3d(0x2be)],_0x5ccb3d(0x25a)),_0x29591b['on'](_0x5bb3da[_0x5ccb3d(0x596)],(_0x9e77c5,_0x4176a4)=>{const _0x4ec9b9=_0x5ccb3d;assert['strictEqual'](_0x9e77c5,0x3ee),assert[_0x4ec9b9(0x513)](_0x4176a4,EMPTY_BUFFER),_0x2140ec[_0x4ec9b9(0x521)](_0x111a74);});}),_0x2140ec[_0x1cad0a(0x610)]['values']()[_0x1cad0a(0x46f)]()[_0x1cad0a(0x63a)][_0x1cad0a(0x52d)][_0x1cad0a(0x6a8)]();});});}),_0x389485[_0x44c6dc(0x403)](it,_0x389485[_0x44c6dc(0x1e8)],_0x4edf67=>{const _0x4e59a6=_0x44c6dc,_0x48ccca={'cfJiH':function(_0x4523db,_0x1a67e4){return _0x4523db instanceof _0x1a67e4;}};if('JJXWt'!==_0x389485[_0x4e59a6(0x29b)]){const _0x30d2b4=new WebSocket[(_0x4e59a6(0x5ec))]({'port':0x0},()=>{const _0x2b0a52=_0x4e59a6,_0x2d8308=new WebSocket('ws://localhost:'+_0x30d2b4[_0x2b0a52(0x5b5)]()[_0x2b0a52(0x217)]);_0x2d8308['on'](_0x2b0a52(0x4c8),_0x5c72cc=>{const _0x14c5ce=_0x2b0a52;assert['ok'](_0x48ccca[_0x14c5ce(0x3e3)](_0x5c72cc,http[_0x14c5ce(0x4c6)])),_0x30d2b4[_0x14c5ce(0x521)](_0x4edf67);});});_0x30d2b4['on'](_0x389485['GDnGO'],_0x5a163f=>{const _0x2895b9=_0x4e59a6;_0x5a163f[_0x2895b9(0x521)]();});}else{const _0x26aea3=_0x3cf212[_0x4e59a6(0x37c)](0x400,0x3d);while(_0x2b1c28['HGHet'](_0xf1b517[_0x4e59a6(0x637)],0x0)){_0x313673[_0x4e59a6(0x3bb)](_0x26aea3);}_0x14080b['ok'](_0x2b1c28[_0x4e59a6(0x18e)](_0x2645ca['bufferedAmount'],0x0)),_0x12b479[_0x4e59a6(0x513)](_0x27fc06['bufferedAmount'],_0x4c4277['_socket'][_0x4e59a6(0x6d1)][_0x4e59a6(0x4e2)]),_0x568556['on'](_0x2b1c28['gcwXE'],()=>_0x62e000[_0x4e59a6(0x521)](_0x2abfda)),_0x23ee29['close']();}}),it(_0x389485[_0x44c6dc(0x339)],_0x3b9a58=>{const _0x338a5a=_0x44c6dc;if(_0x2b1c28[_0x338a5a(0x67c)](_0x2b1c28[_0x338a5a(0x66e)],'fgCug')){const _0x1efb16=new WebSocket[(_0x338a5a(0x5ec))]({'port':0x0},()=>{const _0x5683e9=_0x338a5a,_0x11ce2d=new WebSocket(_0x5683e9(0x40c)+_0x1efb16[_0x5683e9(0x5b5)]()[_0x5683e9(0x217)]);_0x11ce2d['on'](_0x2b1c28[_0x5683e9(0x59d)],()=>_0x1efb16['close'](_0x3b9a58));});_0x1efb16['on'](_0x2b1c28[_0x338a5a(0x71c)],_0x5d3e46=>{const _0x3c983b=_0x338a5a;_0x5d3e46[_0x3c983b(0x3ca)](),_0x5d3e46[_0x3c983b(0x521)]();});}else _0x31eb89['send'](_0x593a4b,{'binary':_0x151f69});}),it(_0x389485[_0x44c6dc(0x190)],_0x34a2fc=>{const _0x29c96b=_0x44c6dc,_0x26ced5=new WebSocket[(_0x29c96b(0x5ec))]({'port':0x0},()=>{const _0x491047=_0x29c96b,_0x1dab16=new WebSocket('ws://localhost:'+_0x26ced5[_0x491047(0x5b5)]()[_0x491047(0x217)]);_0x1dab16['on'](_0x491047(0x1d4),()=>_0x26ced5['close'](_0x34a2fc));});_0x26ced5['on'](_0x389485[_0x29c96b(0x180)],_0x58da11=>{const _0x1ffcbe=_0x29c96b;_0x58da11[_0x1ffcbe(0x1d4)](),_0x58da11['close']();});}),it(_0x389485[_0x44c6dc(0x14b)],_0x125960=>{const _0x374b8b=_0x44c6dc,_0x57750b={'pUuXJ':_0x2b1c28['BDcsL'],'tIAxE':_0x374b8b(0x145)},_0x36b3a6=http[_0x374b8b(0x4f4)](),_0x3f5ad3=new WebSocket['Server']({'noServer':!![],'path':_0x2b1c28['sUAje']});_0x36b3a6[_0x374b8b(0x1cc)](_0x374b8b(0x4c8),(_0x179a18,_0x3a7ec0)=>{const _0x143147=_0x374b8b;_0x57750b[_0x143147(0x549)]===_0x143147(0x62f)?(_0x235642['ping']('hi',!![]),_0x3273c2['close']()):(_0x3a7ec0[_0x143147(0x17f)](_0x57750b['tIAxE']),_0x36b3a6[_0x143147(0x1cc)](_0x143147(0x4c8),(_0x1a5237,_0x3f26de,_0x37ebdf)=>{const _0x2a90d5=_0x143147;_0x3f5ad3[_0x2a90d5(0x713)](_0x1a5237,_0x3f26de,_0x37ebdf,_0x2cb832=>{const _0x2e2778=_0x2a90d5;_0x2cb832[_0x2e2778(0x521)]();});}));}),_0x36b3a6[_0x374b8b(0x6b7)](()=>{const _0x56af5c=_0x374b8b,_0x348bc6=_0x36b3a6[_0x56af5c(0x5b5)]()[_0x56af5c(0x217)],_0x576ea6=new WebSocket(_0x56af5c(0x40c)+_0x348bc6,{'followRedirects':!![]});_0x576ea6['on']('redirect',(_0x45acc0,_0x3ac19a)=>{const _0x4b67cd=_0x56af5c;assert[_0x4b67cd(0x513)](_0x576ea6[_0x4b67cd(0x393)],0x1),assert['strictEqual'](_0x45acc0,_0x4b67cd(0x40c)+_0x348bc6+_0x4b67cd(0x37e)),assert['ok'](_0x3ac19a instanceof http[_0x4b67cd(0x570)]),_0x576ea6['on']('close',_0x88ee35=>{assert['strictEqual'](_0x88ee35,0x3ed),_0x36b3a6['close'](_0x125960);});});});});}),describe(_0x53100d(0x682),()=>{const _0x78594d=_0x53100d,_0x1884b5={'KikAL':function(_0x1d3251){const _0x433811=_0x397f;return _0x389485[_0x433811(0x351)](_0x1d3251);},'qXjfY':function(_0x118f5b,_0x215c0c){return _0x389485['mroXj'](_0x118f5b,_0x215c0c);},'rcgjm':_0x78594d(0x343),'iHlxc':function(_0x42c16c,_0x3d84e8){const _0x50810c=_0x78594d;return _0x389485[_0x50810c(0x378)](_0x42c16c,_0x3d84e8);},'yNIgS':_0x389485[_0x78594d(0x216)],'aMJow':_0x78594d(0x499),'aKgPL':function(_0x40417e,_0x416aea){const _0x110895=_0x78594d;return _0x389485[_0x110895(0x24b)](_0x40417e,_0x416aea);},'etnwF':_0x78594d(0x13a),'Aeoii':_0x389485[_0x78594d(0x2cb)],'OSCfK':_0x389485[_0x78594d(0x1ac)],'rcWVK':_0x389485['urEeD'],'lsSxp':_0x78594d(0x6e1),'hOMXk':_0x389485['uzLiX'],'TSYqZ':function(_0x8beeb5,_0x4f7a16){const _0x2599af=_0x78594d;return _0x389485[_0x2599af(0x28d)](_0x8beeb5,_0x4f7a16);},'SYcOT':_0x389485[_0x78594d(0x623)],'AMZBs':_0x389485[_0x78594d(0x1a9)],'naHCQ':function(_0x3f1a36,_0x2c99a2){return _0x3f1a36 instanceof _0x2c99a2;},'SXGRx':function(_0x2be796,_0x30a09b){const _0x2dc561=_0x78594d;return _0x389485[_0x2dc561(0x582)](_0x2be796,_0x30a09b);},'KoGMu':_0x389485[_0x78594d(0x335)],'gJaOZ':_0x389485['ctOrV'],'DgzIK':_0x78594d(0x266),'PVLxg':_0x389485[_0x78594d(0x254)],'ZLkXP':function(_0x488fa1,_0x486102){return _0x488fa1+_0x486102;},'AQzev':function(_0x47d694,_0x32630c){const _0x3570eb=_0x78594d;return _0x389485[_0x3570eb(0x295)](_0x47d694,_0x32630c);},'pWMhr':_0x389485['GcMfr'],'zSyUH':_0x78594d(0x1b6),'ffkit':function(_0x19d7d1,_0x5c93cd){const _0x11b1a4=_0x78594d;return _0x389485[_0x11b1a4(0x378)](_0x19d7d1,_0x5c93cd);},'NuJyf':'Server\x20indicated\x20an\x20extension\x20that\x20was\x20not\x20requested','SgfQD':_0x389485[_0x78594d(0x458)],'Vpktz':function(_0x1ae261,_0x517c55){return _0x1ae261 instanceof _0x517c55;},'FDhFU':_0x389485[_0x78594d(0x541)],'jguxY':_0x389485[_0x78594d(0x2a5)],'rCLVe':function(_0x3ef793,_0x32d36e){return _0x3ef793+_0x32d36e;},'ZSZet':_0x78594d(0x36a),'SxGDI':'google.com:22','STWUE':_0x389485[_0x78594d(0x184)],'QcLeC':_0x78594d(0x247),'emBPZ':_0x389485[_0x78594d(0x509)],'lfUTF':_0x389485['JJdDw'],'eAGgk':function(_0x258bb3,_0x167ae0){const _0x9d8f9b=_0x78594d;return _0x389485[_0x9d8f9b(0x138)](_0x258bb3,_0x167ae0);},'WKeFx':_0x78594d(0x6d3),'bdkvi':function(_0x4afe7e,_0x10cbea){const _0x1fcb49=_0x78594d;return _0x389485[_0x1fcb49(0x571)](_0x4afe7e,_0x10cbea);},'gejUI':'ddMnO','GfkfA':_0x78594d(0x150),'nkpVe':_0x78594d(0x1d6),'HZlns':'Basic\x20Zm9vOmJhcg==','AdMSp':_0x78594d(0x30a),'xPmBM':_0x389485['oHCXs'],'IWGPZ':function(_0x40461c,_0x347875){return _0x40461c+_0x347875;},'spjhi':_0x389485[_0x78594d(0x6d5)],'wZnwo':_0x389485['iZwCp'],'RsAHf':_0x389485[_0x78594d(0x506)],'DqDyT':_0x389485[_0x78594d(0x27f)],'drObd':_0x389485[_0x78594d(0x180)],'JJoJq':_0x78594d(0x503),'JwYsW':'drops\x20the\x20Authorization\x20and\x20Cookie\x20headers','CETlK':function(_0x308e8b,_0x548003){const _0xfd3c1=_0x78594d;return _0x389485[_0xfd3c1(0x3ec)](_0x308e8b,_0x548003);},'ZFElH':_0x389485['Folxa'],'qzgsG':function(_0x5bc865,_0x8bc43f){return _0x389485['rCsij'](_0x5bc865,_0x8bc43f);},'iGffH':_0x78594d(0x4e6),'KwamB':'Cookie','AveLB':'drops\x20the\x20Authorization,\x20Cookie\x20and\x20Host\x20headers\x20(3/4)','mQxKu':_0x389485[_0x78594d(0x41d)],'uqDfq':_0x389485[_0x78594d(0x4bf)]},_0x41d626=http[_0x78594d(0x4f4)]();beforeEach(_0x4628c6=>_0x41d626[_0x78594d(0x6b7)](0x0,_0x4628c6)),_0x389485[_0x78594d(0x166)](afterEach,_0x5c554e=>_0x41d626[_0x78594d(0x521)](_0x5c554e)),_0x389485[_0x78594d(0x128)](it,_0x389485[_0x78594d(0x68e)],_0x10dfed=>{const _0x31fa8a=_0x78594d,_0x140cf0={'vrpig':function(_0x16eb7a,_0x54b503){const _0x5cccff=_0x397f;return _0x389485[_0x5cccff(0x24b)](_0x16eb7a,_0x54b503);},'tKkrN':_0x389485[_0x31fa8a(0x2cb)]};_0x41d626[_0x31fa8a(0x1cc)]('upgrade',(_0x3cd04a,_0x441907)=>{const _0x3d8c14=_0x31fa8a;_0x441907['on'](_0x3d8c14(0x17f),_0x441907[_0x3d8c14(0x17f)]),_0x441907['write'](_0x140cf0[_0x3d8c14(0x253)](_0x3d8c14(0x21f),_0x140cf0[_0x3d8c14(0x4b6)])+_0x3d8c14(0x5b2)+'\x0d\x0a');});const _0x4fba96=new WebSocket('ws://localhost:'+_0x41d626[_0x31fa8a(0x5b5)]()[_0x31fa8a(0x217)]);_0x4fba96['on'](_0x31fa8a(0x747),_0x283fe1=>{const _0x36d1b7=_0x31fa8a;assert['ok'](_0x283fe1 instanceof Error),assert['strictEqual'](_0x283fe1['message'],_0x36d1b7(0x1cb)),_0x10dfed();});}),_0x389485[_0x78594d(0x3f5)](it,_0x389485['Uvkbx'],_0x4fcdb8=>{const _0x236fe3=_0x78594d,_0x53823b={'lnxrJ':function(_0x4f1756,_0x1ba0fb){return _0x4f1756===_0x1ba0fb;},'DPuPm':function(_0x3cc772,_0x57fe26){return _0x389485['jvKtO'](_0x3cc772,_0x57fe26);},'BPfnx':_0x389485['gySUn'],'xnbjR':_0x389485[_0x236fe3(0x1fa)]};if(_0x389485['qsaxo']==='Jcubl'){const _0x12cd96=_0x1e8cb0[_0x236fe3(0x647)](_0x318898[_0x236fe3(0x30c)],'bufferedAmount');_0x318ff0[_0x236fe3(0x513)](_0x12cd96['configurable'],!![]),_0x1be2d5['strictEqual'](_0x12cd96['enumerable'],!![]),_0xca797e['ok'](_0x12cd96[_0x236fe3(0x4a5)]!==_0xc37f06),_0x3ae554['ok'](_0x53823b[_0x236fe3(0x3ce)](_0x12cd96[_0x236fe3(0x737)],_0x2cdb77));}else{_0x41d626[_0x236fe3(0x1cc)](_0x389485['AwNBR'],(_0x18e580,_0x3b513b)=>{const _0x43f5c2=_0x236fe3,_0x632835={'EESDY':_0x43f5c2(0x1d7)};_0x53823b[_0x43f5c2(0x3ce)](_0x43f5c2(0x2b4),'ecUah')?(_0x3b513b['on'](_0x43f5c2(0x17f),_0x3b513b['end']),_0x3b513b[_0x43f5c2(0x72e)](_0x53823b[_0x43f5c2(0x204)]('HTTP/1.1\x20101\x20Switching\x20Protocols\x0d\x0a'+_0x53823b['BPfnx']+_0x43f5c2(0x159),_0x53823b[_0x43f5c2(0x209)])+'\x0d\x0a')):(_0x48fd11[_0x43f5c2(0x236)](_0x39ae33,_0x3ae900[_0x43f5c2(0x6b2)](_0x632835[_0x43f5c2(0x651)])),_0x4e020c['ok'](!_0x3f5d7c),_0x10054b[_0x43f5c2(0x521)](_0x35b1a7));});const _0x17967e=new WebSocket(_0x236fe3(0x40c)+_0x41d626['address']()['port']);_0x17967e['on'](_0x389485[_0x236fe3(0x1a9)],_0x29054c=>{const _0x578afb=_0x236fe3;assert['ok'](_0x29054c instanceof Error),assert['strictEqual'](_0x29054c[_0x578afb(0x474)],_0x578afb(0x68c)),_0x1884b5['KikAL'](_0x4fcdb8);});}}),_0x389485[_0x78594d(0x139)](it,_0x78594d(0x468),_0x554987=>{const _0x259d95=_0x78594d,_0x57f9a0={'rGzZd':_0x259d95(0x721)};_0x41d626[_0x259d95(0x1cc)](_0x1884b5['OSCfK'],(_0x57c28c,_0x1df2b8)=>{const _0x4eb936=_0x259d95;if(_0x1884b5[_0x4eb936(0x507)](_0x4eb936(0x389),_0x1884b5[_0x4eb936(0x1aa)])){const _0x19bbf1=crypto[_0x4eb936(0x2ca)](_0x4eb936(0x266))['update'](_0x1884b5[_0x4eb936(0x6f0)](_0x57c28c[_0x4eb936(0x3ee)][_0x1884b5['yNIgS']],GUID))[_0x4eb936(0x26d)](_0x1884b5[_0x4eb936(0x3f6)]);_0x1df2b8[_0x4eb936(0x17f)](_0x1884b5[_0x4eb936(0x6f0)](_0x1884b5[_0x4eb936(0x6f0)](_0x1884b5[_0x4eb936(0x3e5)](_0x4eb936(0x21f)+_0x1884b5[_0x4eb936(0x680)],_0x1884b5['Aeoii']),_0x4eb936(0x74e)+_0x19bbf1+'\x0d\x0a'),'\x0d\x0a'));}else _0x5e8789[_0x4eb936(0x3bb)](_0x4eb936(0x72b)),_0x2a5fbc['strictEqual'](_0x295726['bufferedAmount'],0x3),_0xfd2415[_0x4eb936(0x3bb)](_0x57f9a0['rGzZd'],_0x4c6d09=>{const _0x1cb456=_0x4eb936;_0x5de257['ifError'](_0x4c6d09),_0x54d977[_0x1cb456(0x513)](_0x24d856[_0x1cb456(0x637)],0x0),_0x59f8a9['close'](_0xf0858d);}),_0x32c390[_0x4eb936(0x513)](_0x218101['bufferedAmount'],0x6);});const _0x42da57=new WebSocket('ws://localhost:'+_0x41d626[_0x259d95(0x5b5)]()[_0x259d95(0x217)]);_0x42da57['on'](_0x1884b5[_0x259d95(0x4fb)],(_0x5ea74e,_0x3b601c)=>{const _0x2cd35c=_0x259d95;assert[_0x2cd35c(0x513)](_0x5ea74e,0x3ee),assert[_0x2cd35c(0x513)](_0x3b601c,EMPTY_BUFFER),_0x554987();});}),it(_0x78594d(0x3eb),_0x35f04e=>{const _0x11e97a=_0x78594d,_0x738e74={'WWtsi':_0x11e97a(0x147),'kACrv':function(_0x515eda,_0x3150b7){return _0x515eda+_0x3150b7;},'hzEzC':_0x11e97a(0x5fa)};_0x41d626[_0x11e97a(0x1cc)](_0x11e97a(0x4c8),(_0x1d0ac6,_0x466a88)=>{const _0x1834ff=_0x11e97a,_0x4b3351={'bINDs':_0x1834ff(0x3b0)};if(_0x738e74['WWtsi']!==_0x738e74[_0x1834ff(0x515)]){const _0x4299be=0x5000,_0x4c7643=new _0x4779d6['Server']({'perMessageDeflate':!![],'port':0x0},()=>{const _0x167e2c=_0x1834ff,_0x1745d9=new _0x388b9e(_0x167e2c(0x40c)+_0x4c7643[_0x167e2c(0x5b5)]()['port'],{'perMessageDeflate':!![],'maxPayload':_0x4299be});_0x1745d9['on'](_0x167e2c(0x6e1),()=>{const _0x3d4eeb=_0x167e2c;_0x459f0f[_0x3d4eeb(0x513)](_0x1745d9[_0x3d4eeb(0x20f)]['_maxPayload'],_0x4299be),_0x3417c3[_0x3d4eeb(0x513)](_0x1745d9['_receiver']['_extensions']['permessage-deflate'][_0x3d4eeb(0x135)],_0x4299be),_0x4c7643[_0x3d4eeb(0x521)](_0x1de9ab);});});_0x4c7643['on'](_0x4b3351[_0x1834ff(0x267)],_0x19ca88=>{const _0x2fc7a8=_0x1834ff;_0x19ca88[_0x2fc7a8(0x521)]();});}else _0x466a88[_0x1834ff(0x17f)](_0x738e74['kACrv'](_0x738e74[_0x1834ff(0x328)](_0x1834ff(0x5fb)+http[_0x1834ff(0x676)][0x191]+'\x0d\x0a','Connection:\x20close\x0d\x0a')+_0x738e74[_0x1834ff(0x324)],_0x1834ff(0x54c)+http[_0x1834ff(0x676)][0x191][_0x1834ff(0x4e2)]+'\x0d\x0a')+'\x0d\x0a');});const _0x3d64df=new WebSocket(_0x11e97a(0x40c)+_0x41d626[_0x11e97a(0x5b5)]()[_0x11e97a(0x217)]);_0x3d64df['on'](_0x1884b5['lsSxp'],()=>_0x35f04e(new Error('Unexpected\x20\x27open\x27\x20event'))),_0x3d64df['on'](_0x11e97a(0x747),_0x11d445=>{const _0x32ca3d=_0x11e97a;assert['ok'](_0x11d445 instanceof Error),assert[_0x32ca3d(0x513)](_0x11d445[_0x32ca3d(0x474)],_0x32ca3d(0x73a)),_0x35f04e();});}),_0x389485['aMUSY'](it,'unexpected\x20response\x20can\x20be\x20read\x20when\x20sent\x20by\x20server',_0xe3ae18=>{const _0x45fd74=_0x78594d,_0x308775={'kLxEv':function(_0x515877,_0x536d3f){return _0x389485['jMkRj'](_0x515877,_0x536d3f);},'szZHr':_0x389485[_0x45fd74(0x740)],'kjMoz':function(_0xb743de,_0x4dd76a){const _0x293be2=_0x45fd74;return _0x389485[_0x293be2(0x724)](_0xb743de,_0x4dd76a);},'SMmda':function(_0x5888ba,_0x108efd){return _0x5888ba+_0x108efd;},'VohFg':_0x45fd74(0x60f),'EZTHJ':_0x45fd74(0x72b)};_0x41d626[_0x45fd74(0x1cc)]('upgrade',(_0xb01bbe,_0x567822)=>{const _0x21e0f0=_0x45fd74;_0x308775['kjMoz'](_0x21e0f0(0x174),_0x21e0f0(0x174))?_0x567822[_0x21e0f0(0x17f)](_0x308775[_0x21e0f0(0x249)]('HTTP/1.1\x20401\x20'+http[_0x21e0f0(0x676)][0x191]+'\x0d\x0a'+_0x21e0f0(0x24e),'Content-type:\x20text/html\x0d\x0a')+_0x308775[_0x21e0f0(0x678)]+'\x0d\x0a'+_0x308775[_0x21e0f0(0x414)]):(_0x50b421['ok'](_0x308775[_0x21e0f0(0x2f2)](_0x252be7,_0x259bb2)),_0x5ad91f[_0x21e0f0(0x513)](_0x4baa41[_0x21e0f0(0x170)],_0x308775['szZHr']),_0x43f05b[_0x21e0f0(0x513)](_0x44160c['target'],_0xba7acf));});const _0x2623a6=new WebSocket('ws://localhost:'+_0x41d626[_0x45fd74(0x5b5)]()['port']);_0x2623a6['on'](_0x389485['WOiQS'],()=>_0xe3ae18(new Error(_0x45fd74(0x300)))),_0x2623a6['on'](_0x45fd74(0x747),()=>_0xe3ae18(new Error(_0x45fd74(0x56d)))),_0x2623a6['on'](_0x389485['LsGuH'],(_0x27fe07,_0x3378e9)=>{const _0xb1ca62=_0x45fd74;assert[_0xb1ca62(0x513)](_0x3378e9[_0xb1ca62(0x58b)],0x191);let _0x21f61a='';_0x3378e9['on'](_0xb1ca62(0x471),_0x2aea24=>{_0x21f61a+=_0x2aea24;}),_0x3378e9['on'](_0xb1ca62(0x17f),()=>{const _0x5d0d7e=_0xb1ca62;assert[_0x5d0d7e(0x513)](_0x21f61a,_0x308775['EZTHJ']),_0xe3ae18();});});}),_0x389485[_0x78594d(0x640)](it,_0x78594d(0x5b9),_0xf08a63=>{const _0xbc1948=_0x78594d;_0x41d626[_0xbc1948(0x1cc)](_0x1884b5[_0xbc1948(0x594)],(_0x17ae25,_0x2bcaeb)=>{const _0x2b0d67=_0xbc1948;_0x1884b5[_0x2b0d67(0x176)]!==_0x1884b5[_0x2b0d67(0x176)]?(_0x1bbb9c[_0x2b0d67(0x513)](_0x51cf9b[_0x2b0d67(0x637)],0x0),_0xe356bf[_0x2b0d67(0x521)](_0x187b0a)):_0x2bcaeb['end'](_0x1884b5[_0x2b0d67(0x6f0)](_0x1884b5[_0x2b0d67(0x69e)](_0x2b0d67(0x5fb)+http[_0x2b0d67(0x676)][0x191]+'\x0d\x0a'+_0x2b0d67(0x24e),_0x1884b5[_0x2b0d67(0x67e)])+'Content-Length:\x203\x0d\x0a'+'\x0d\x0a','foo'));});const _0x2fdb4a=new WebSocket(_0xbc1948(0x40c)+_0x41d626['address']()['port']);_0x2fdb4a['on'](_0xbc1948(0x6e1),()=>_0xf08a63(new Error(_0xbc1948(0x300)))),_0x2fdb4a['on'](_0x1884b5[_0xbc1948(0x6e6)],()=>_0xf08a63(new Error(_0xbc1948(0x56d)))),_0x2fdb4a['on'](_0xbc1948(0x6a1),(_0x4cedb0,_0x58a266)=>{const _0x513570=_0xbc1948;assert[_0x513570(0x513)](_0x58a266['statusCode'],0x191),_0x58a266['on']('end',_0xf08a63),_0x4cedb0[_0x513570(0x151)]();});}),it('fails\x20if\x20the\x20opening\x20handshake\x20timeout\x20expires',_0x31d2fb=>{const _0x142079=_0x78594d;_0x41d626[_0x142079(0x1cc)](_0x389485['AwNBR'],(_0x122fe2,_0x389a6f)=>_0x389a6f['on'](_0x142079(0x17f),_0x389a6f[_0x142079(0x17f)]));const _0x44f691=_0x41d626[_0x142079(0x5b5)]()[_0x142079(0x217)],_0x1be6fe=new WebSocket(_0x142079(0x40c)+_0x44f691,{'handshakeTimeout':0x64});_0x1be6fe['on'](_0x389485['WOiQS'],()=>_0x31d2fb(new Error(_0x142079(0x300)))),_0x1be6fe['on'](_0x389485[_0x142079(0x1a9)],_0x5ecd03=>{const _0x4019d6=_0x142079;assert['ok'](_0x1884b5[_0x4019d6(0x4ac)](_0x5ecd03,Error)),assert['strictEqual'](_0x5ecd03[_0x4019d6(0x474)],'Opening\x20handshake\x20has\x20timed\x20out'),_0x31d2fb();});}),it(_0x389485[_0x78594d(0x49f)],_0x5a692a=>{const _0x92cadf=_0x78594d,_0x595720={'FfVQI':'sha1','LbXTf':_0x92cadf(0x499),'KJiwv':function(_0x322fb4,_0x1fde10){return _0x322fb4+_0x1fde10;},'bfmxH':function(_0x325eb7,_0x5404ad){return _0x325eb7+_0x5404ad;},'HfYEp':function(_0x531e50,_0x3bc4fe){return _0x531e50+_0x3bc4fe;},'GljSB':_0x92cadf(0x13a)};if('BseQM'===_0x92cadf(0x33c)){const _0x511e50=new _0x1682dd(_0x92cadf(0x40c)+_0x3b26dd['address']()[_0x92cadf(0x217)]);_0x2e7074[_0x92cadf(0x513)](_0x511e50[_0x92cadf(0x459)],_0x3ba2d9[_0x92cadf(0x2ea)]),_0x4f6fe5['ok'](!_0x511e50[_0x92cadf(0x49b)]),_0x511e50[_0x92cadf(0x22a)](),_0x511e50['on'](_0x1884b5[_0x92cadf(0x196)],()=>{const _0x287895=_0x92cadf;_0x511e50[_0x287895(0x692)](),_0x4c012f['ok'](_0x511e50['isPaused']),_0x511e50['on'](_0x287895(0x521),()=>{const _0x53e042=_0x287895;_0x1f0056[_0x53e042(0x513)](_0x511e50['readyState'],_0x37bf60[_0x53e042(0x282)]),_0x511e50['resume'](),_0x2b8316['ok'](_0x511e50['isPaused']),_0x150bb8[_0x53e042(0x521)](_0xaf8016);}),_0x511e50['terminate']();});}else{_0x41d626['once'](_0x92cadf(0x4c8),(_0x4bf024,_0x39e38c)=>{const _0x5eff3f=_0x92cadf,_0x21da94=crypto[_0x5eff3f(0x2ca)](_0x595720[_0x5eff3f(0x405)])['update'](_0x4bf024['headers']['sec-websocket-key']+GUID)['digest'](_0x595720[_0x5eff3f(0x5db)]);_0x39e38c[_0x5eff3f(0x17f)](_0x595720['KJiwv'](_0x595720[_0x5eff3f(0x2d1)](_0x595720[_0x5eff3f(0x2ce)](_0x5eff3f(0x21f),_0x595720['GljSB'])+_0x5eff3f(0x159)+(_0x5eff3f(0x74e)+_0x21da94+'\x0d\x0a'),_0x5eff3f(0x294)),'\x0d\x0a'));});const _0x9c734d=new WebSocket(_0x92cadf(0x40c)+_0x41d626['address']()['port'],{'perMessageDeflate':![]});_0x9c734d['on'](_0x92cadf(0x6e1),()=>_0x5a692a(new Error(_0x92cadf(0x300)))),_0x9c734d['on'](_0x1884b5[_0x92cadf(0x6e6)],_0x25cdc3=>{const _0x317cd8=_0x92cadf,_0x41ff3d={'vrlIE':_0x317cd8(0x3b0)};if(_0x1884b5[_0x317cd8(0x301)](_0x1884b5[_0x317cd8(0x3dc)],'XMDRK'))assert['ok'](_0x1884b5['naHCQ'](_0x25cdc3,Error)),assert[_0x317cd8(0x513)](_0x25cdc3[_0x317cd8(0x474)],_0x1884b5['aKgPL'](_0x1884b5[_0x317cd8(0x22d)],_0x317cd8(0x1df))),_0x9c734d['on']('close',()=>_0x5a692a());else{const _0x22004d=new _0x2b117c[(_0x317cd8(0x5ec))]({'port':0x0},()=>{const _0x359148=_0x317cd8,_0x5e03c4=new _0x3a2bf6(_0x359148(0x40c)+_0x22004d[_0x359148(0x5b5)]()['port']);_0x5e03c4['onmessage']=_0xd0857c=>{const _0xef5a2d=_0x359148;_0x2ae036['ok'](_0x35b8df[_0xef5a2d(0x50e)](_0xd0857c['data'])),_0x22004d[_0xef5a2d(0x521)](_0x78c1f);};});_0x22004d['on'](_0x41ff3d[_0x317cd8(0x603)],_0x314ca4=>{const _0xaa3f05=_0x317cd8;_0x314ca4['send'](new _0x238858(0x1000)),_0x314ca4[_0xaa3f05(0x521)]();});}});}}),it(_0x78594d(0x38d),_0x5bf17f=>{const _0x3261a2=_0x78594d;_0x41d626[_0x3261a2(0x1cc)](_0x3261a2(0x4c8),(_0x356409,_0x3922d3)=>{const _0x47e720=_0x3261a2,_0x2f4670=crypto['createHash'](_0x1884b5[_0x47e720(0x3ae)])['update'](_0x356409[_0x47e720(0x3ee)][_0x1884b5[_0x47e720(0x37a)]]+GUID)[_0x47e720(0x26d)](_0x47e720(0x499));_0x3922d3[_0x47e720(0x17f)](_0x1884b5[_0x47e720(0x256)]+_0x47e720(0x13a)+_0x47e720(0x159)+(_0x47e720(0x74e)+_0x2f4670+'\x0d\x0a')+_0x47e720(0x56f)+'\x0d\x0a');});const _0x4bf90a=new WebSocket('ws://localhost:'+_0x41d626[_0x3261a2(0x5b5)]()[_0x3261a2(0x217)]);_0x4bf90a['on'](_0x389485[_0x3261a2(0x740)],()=>_0x5bf17f(new Error(_0x3261a2(0x300)))),_0x4bf90a['on'](_0x389485[_0x3261a2(0x1a9)],_0x1f9d9b=>{const _0xf1d0e4=_0x3261a2;assert['ok'](_0x1884b5[_0xf1d0e4(0x4ac)](_0x1f9d9b,Error)),assert['strictEqual'](_0x1f9d9b['message'],_0xf1d0e4(0x693)),_0x4bf90a['on'](_0xf1d0e4(0x521),()=>_0x5bf17f());});}),it(_0x78594d(0x58c),_0xfd9f0c=>{const _0x46d554=_0x78594d,_0x5a9281={'ECXEP':'Invalid\x20Sec-WebSocket-Extensions\x20header','HKiid':_0x1884b5[_0x46d554(0x4fb)]};if(_0x1884b5[_0x46d554(0x301)](_0x46d554(0x4c2),_0x46d554(0x4c2))){_0x41d626[_0x46d554(0x1cc)](_0x1884b5[_0x46d554(0x594)],(_0xeef64f,_0x4b6138)=>{const _0x1934f9=_0x46d554,_0x84e10=crypto[_0x1934f9(0x2ca)](_0x1884b5[_0x1934f9(0x3ae)])['update'](_0xeef64f[_0x1934f9(0x3ee)][_0x1884b5[_0x1934f9(0x37a)]]+GUID)[_0x1934f9(0x26d)](_0x1934f9(0x499));_0x4b6138[_0x1934f9(0x17f)](_0x1884b5[_0x1934f9(0x141)](_0x1884b5[_0x1934f9(0x3e5)](_0x1884b5['ZLkXP'](_0x1934f9(0x21f)+_0x1884b5['etnwF']+_0x1884b5['Aeoii']+(_0x1934f9(0x74e)+_0x84e10+'\x0d\x0a'),_0x1934f9(0x589)),_0x1934f9(0x183)),'\x0d\x0a'));});const _0x1a54b1=new WebSocket(_0x46d554(0x40c)+_0x41d626[_0x46d554(0x5b5)]()[_0x46d554(0x217)]);_0x1a54b1['on'](_0x1884b5['lsSxp'],()=>_0xfd9f0c(new Error('Unexpected\x20\x27open\x27\x20event'))),_0x1a54b1['on'](_0x1884b5['AMZBs'],_0x2b855d=>{const _0x5580b7=_0x46d554;assert['ok'](_0x2b855d instanceof Error),assert[_0x5580b7(0x513)](_0x2b855d['message'],_0x5a9281['ECXEP']),_0x1a54b1['on'](_0x5580b7(0x521),()=>_0xfd9f0c());});}else _0x166621['on'](_0x5a9281[_0x46d554(0x13b)],(_0x152efe,_0x241d94)=>{const _0x5e670f=_0x46d554;_0x363acb[_0x5e670f(0x513)](_0x152efe,0x3ea),_0x2d80dc[_0x5e670f(0x236)](_0x241d94,_0xba06ee),_0x3169a0=!![];if(_0x34d11d)_0x403635[_0x5e670f(0x521)](_0x495975);}),_0x524192[_0x46d554(0x52d)][_0x46d554(0x72e)](_0x4f40ca[_0x46d554(0x6b2)]([0x85,0x0]));}),_0x389485[_0x78594d(0x128)](it,_0x78594d(0x413),_0x45f5c2=>{const _0x245e0a=_0x78594d;if(_0x1884b5[_0x245e0a(0x46c)]!==_0x1884b5[_0x245e0a(0x11f)]){_0x41d626[_0x245e0a(0x1cc)](_0x1884b5['OSCfK'],(_0x2cfbb4,_0x2577aa)=>{const _0x2330e9=_0x245e0a,_0x3875b4=crypto[_0x2330e9(0x2ca)](_0x2330e9(0x266))['update'](_0x1884b5[_0x2330e9(0x6f0)](_0x2cfbb4['headers'][_0x1884b5[_0x2330e9(0x37a)]],GUID))[_0x2330e9(0x26d)](_0x1884b5[_0x2330e9(0x3f6)]);_0x2577aa[_0x2330e9(0x17f)](_0x1884b5[_0x2330e9(0x69e)](_0x1884b5[_0x2330e9(0x69e)](_0x1884b5['aKgPL']('HTTP/1.1\x20101\x20Switching\x20Protocols\x0d\x0a',_0x1884b5[_0x2330e9(0x680)])+_0x1884b5[_0x2330e9(0x608)]+(_0x2330e9(0x74e)+_0x3875b4+'\x0d\x0a'),_0x2330e9(0x294)),'\x0d\x0a'));});const _0x4e264c=new WebSocket(_0x245e0a(0x40c)+_0x41d626[_0x245e0a(0x5b5)]()['port']);_0x4e264c['on'](_0x245e0a(0x6e1),()=>_0x45f5c2(new Error(_0x245e0a(0x300)))),_0x4e264c['on']('error',_0x1b488b=>{const _0x4571d0=_0x245e0a;assert['ok'](_0x1884b5[_0x4571d0(0x4d6)](_0x1b488b,Error)),assert[_0x4571d0(0x513)](_0x1b488b['message'],_0x4571d0(0x4f1)),_0x4e264c['on'](_0x1884b5[_0x4571d0(0x4fb)],()=>_0x45f5c2());});}else _0x506fcb['on']('message',(_0x28be50,_0xfee0ed)=>{const _0x1a0d2d=_0x245e0a;_0x59783d[_0x1a0d2d(0x3bb)](_0x28be50,{'binary':_0xfee0ed}),_0x197160[_0x1a0d2d(0x521)]();});}),it(_0x78594d(0x473),_0x1744c1=>{const _0x35ce54=_0x78594d;_0x41d626[_0x35ce54(0x1cc)](_0x1884b5[_0x35ce54(0x594)],(_0x3fcaf2,_0xc5f93e)=>{const _0x3eac10=_0x35ce54,_0xbeeccb=crypto['createHash'](_0x3eac10(0x266))[_0x3eac10(0x730)](_0x3fcaf2[_0x3eac10(0x3ee)][_0x1884b5[_0x3eac10(0x37a)]]+GUID)[_0x3eac10(0x26d)](_0x1884b5['aMJow']);_0xc5f93e[_0x3eac10(0x17f)](_0x1884b5[_0x3eac10(0x6f0)](_0x1884b5['ffkit'](_0x3eac10(0x21f)+_0x3eac10(0x13a),_0x1884b5['Aeoii']),'Sec-WebSocket-Accept:\x20'+_0xbeeccb+'\x0d\x0a')+_0x3eac10(0x552)+'\x0d\x0a');});const _0x260472=new WebSocket(_0x35ce54(0x40c)+_0x41d626['address']()[_0x35ce54(0x217)]);_0x260472['on'](_0x1884b5[_0x35ce54(0x196)],()=>_0x1744c1(new Error(_0x35ce54(0x300)))),_0x260472['on'](_0x35ce54(0x747),_0x510761=>{const _0x2920f6=_0x35ce54;assert['ok'](_0x1884b5[_0x2920f6(0x4ac)](_0x510761,Error)),assert['strictEqual'](_0x510761['message'],_0x1884b5[_0x2920f6(0x4ef)]),_0x260472['on'](_0x2920f6(0x521),()=>_0x1744c1());});}),it(_0x389485[_0x78594d(0x35e)],_0x3a2f03=>{const _0x56a2e7=_0x78594d;if(_0x1884b5[_0x56a2e7(0x598)]!==_0x1884b5[_0x56a2e7(0x598)])_0x87b56a[_0x56a2e7(0x521)](_0x1816c4),_0x250aff[_0x56a2e7(0x521)]();else{const _0x100272=new WebSocket[(_0x56a2e7(0x5ec))]({'server':_0x41d626});_0x100272['on'](_0x56a2e7(0x3ee),_0x2f514e=>{const _0x4d928c=_0x56a2e7;_0x2f514e[_0x4d928c(0x67b)](_0x4d928c(0x59f));});const _0x473e5f=new WebSocket(_0x56a2e7(0x40c)+_0x41d626[_0x56a2e7(0x5b5)]()[_0x56a2e7(0x217)]);_0x473e5f['on'](_0x56a2e7(0x6e1),()=>_0x3a2f03(new Error(_0x56a2e7(0x300)))),_0x473e5f['on'](_0x1884b5[_0x56a2e7(0x6e6)],_0x89b2c9=>{const _0x255ff2=_0x56a2e7;assert['ok'](_0x89b2c9 instanceof Error),assert[_0x255ff2(0x513)](_0x89b2c9['message'],_0x255ff2(0x50c)),_0x473e5f['on'](_0x1884b5[_0x255ff2(0x4fb)],()=>_0x100272[_0x255ff2(0x521)](_0x3a2f03));});}}),_0x389485[_0x78594d(0x313)](it,_0x389485[_0x78594d(0x43f)],_0x15e7c9=>{const _0x5c63c7=_0x78594d,_0x3e649b=new WebSocket[(_0x5c63c7(0x5ec))]({'handleProtocols':()=>_0x5c63c7(0x20c),'server':_0x41d626}),_0x5abe78=new WebSocket('ws://localhost:'+_0x41d626[_0x5c63c7(0x5b5)]()[_0x5c63c7(0x217)],[_0x1884b5[_0x5c63c7(0x625)],_0x5c63c7(0x721)]);_0x5abe78['on'](_0x1884b5[_0x5c63c7(0x196)],()=>_0x15e7c9(new Error(_0x5c63c7(0x300)))),_0x5abe78['on'](_0x1884b5[_0x5c63c7(0x6e6)],_0x139875=>{const _0x180cee=_0x5c63c7;assert['ok'](_0x1884b5[_0x180cee(0x5cc)](_0x139875,Error)),assert['strictEqual'](_0x139875[_0x180cee(0x474)],_0x1884b5[_0x180cee(0x6fa)]),_0x5abe78['on'](_0x1884b5[_0x180cee(0x4fb)],()=>_0x3e649b['close'](_0x15e7c9));});}),it(_0x78594d(0x1fe),_0x344ad9=>{const _0x55b448=_0x78594d,_0x23a0fc={'FkEZt':_0x55b448(0x28c),'RiCwC':_0x55b448(0x5ca),'WNzmQ':_0x1884b5['DgzIK'],'iFULY':_0x1884b5[_0x55b448(0x37a)],'detEP':function(_0x101726,_0x331ad7){const _0x309932=_0x55b448;return _0x1884b5[_0x309932(0x69e)](_0x101726,_0x331ad7);},'NccnL':function(_0xf62985,_0x291661){return _0xf62985+_0x291661;},'WmSbx':function(_0x45cae8,_0x20dc09){const _0x8d0c60=_0x55b448;return _0x1884b5[_0x8d0c60(0x16d)](_0x45cae8,_0x20dc09);},'SMCqg':_0x1884b5[_0x55b448(0x256)],'Kpixe':_0x55b448(0x13a),'wNFJI':_0x1884b5[_0x55b448(0x608)],'eDKkG':_0x1884b5['FDhFU'],'Sstei':_0x1884b5[_0x55b448(0x4fb)]};if(_0x1884b5[_0x55b448(0x301)](_0x55b448(0x154),_0x55b448(0x4e4))){const _0x143a75=new _0x50d887[(_0x55b448(0x265))]();_0x143a75[_0x55b448(0x48e)]=_0x20f08a=>{const _0x413e99=_0x55b448;_0x1e997b[_0x413e99(0x513)](_0x20f08a[_0x413e99(0x117)](_0x23a0fc[_0x413e99(0x706)]),_0x413e99(0x46e)),_0x254ee5();};const _0x4b89ad=new _0x9e5a7a(_0x23a0fc[_0x55b448(0x1f6)],{'headers':{'Cookie':'foo=bar'},'agent':_0x143a75});}else{_0x41d626[_0x55b448(0x1cc)](_0x55b448(0x4c8),(_0x13c56c,_0x4455ed)=>{const _0x4ee472=_0x55b448,_0x148cf1=crypto[_0x4ee472(0x2ca)](_0x23a0fc['WNzmQ'])[_0x4ee472(0x730)](_0x13c56c[_0x4ee472(0x3ee)][_0x23a0fc[_0x4ee472(0x38b)]]+GUID)[_0x4ee472(0x26d)](_0x4ee472(0x499));_0x4455ed[_0x4ee472(0x17f)](_0x23a0fc[_0x4ee472(0x723)](_0x23a0fc[_0x4ee472(0x6f5)](_0x23a0fc[_0x4ee472(0x57b)](_0x23a0fc[_0x4ee472(0x6f7)],_0x23a0fc[_0x4ee472(0x181)])+_0x23a0fc[_0x4ee472(0x699)],_0x4ee472(0x74e)+_0x148cf1+'\x0d\x0a')+_0x4ee472(0x352),'\x0d\x0a'));});const _0x4662fe=new WebSocket(_0x55b448(0x40c)+_0x41d626['address']()[_0x55b448(0x217)],[_0x55b448(0x72b),_0x55b448(0x721)]);_0x4662fe['on'](_0x1884b5[_0x55b448(0x196)],()=>_0x344ad9(new Error(_0x55b448(0x300)))),_0x4662fe['on'](_0x1884b5[_0x55b448(0x6e6)],_0x493fc2=>{const _0x2cf726=_0x55b448;assert['ok'](_0x493fc2 instanceof Error),assert['strictEqual'](_0x493fc2[_0x2cf726(0x474)],_0x23a0fc['eDKkG']),_0x4662fe['on'](_0x23a0fc[_0x2cf726(0x3b6)],()=>_0x344ad9());});}}),it(_0x389485[_0x78594d(0x642)],_0x5dc0b2=>{const _0x33fd05=_0x78594d,_0x223c08={'HHflo':function(_0x59dda9,_0x6d4747){const _0x1f8ee4=_0x397f;return _0x389485[_0x1f8ee4(0x371)](_0x59dda9,_0x6d4747);}},_0x16d665=new WebSocket[(_0x33fd05(0x5ec))]({'handleProtocols'(){},'server':_0x41d626}),_0x1fab83=new WebSocket(_0x33fd05(0x40c)+_0x41d626[_0x33fd05(0x5b5)]()[_0x33fd05(0x217)],[_0x389485[_0x33fd05(0x2a5)],_0x389485[_0x33fd05(0x2ad)]]);_0x1fab83['on'](_0x389485[_0x33fd05(0x740)],()=>_0x5dc0b2(new Error(_0x33fd05(0x300)))),_0x1fab83['on'](_0x33fd05(0x747),_0x5b3ebe=>{const _0x10a26a=_0x33fd05;assert['ok'](_0x223c08[_0x10a26a(0x2b5)](_0x5b3ebe,Error)),assert[_0x10a26a(0x513)](_0x5b3ebe['message'],_0x10a26a(0x6bd)),_0x1fab83['on'](_0x10a26a(0x521),()=>_0x16d665[_0x10a26a(0x521)](_0x5dc0b2));});}),_0x389485[_0x78594d(0x6dc)](it,_0x389485[_0x78594d(0x664)],_0x5e496c=>{const _0x751132=_0x78594d,_0x13252c={'EvbPo':function(_0x5d938a,_0x4cebff){const _0x10cb8d=_0x397f;return _0x389485[_0x10cb8d(0x600)](_0x5d938a,_0x4cebff);},'gStao':_0x389485['JftrW'],'LQMpG':_0x751132(0x595)},_0x2c9826=new WebSocket[(_0x751132(0x5ec))]({'noServer':!![],'path':_0x389485[_0x751132(0x4e8)]});_0x41d626[_0x751132(0x1cc)]('upgrade',(_0x52b59f,_0x57c84d,_0x117335)=>{const _0x4605c3=_0x751132;_0x1884b5[_0x4605c3(0x507)](_0x1884b5['ZSZet'],_0x1884b5[_0x4605c3(0x2c0)])?_0x1e7383[_0x4605c3(0x432)](()=>new _0x5c174d(_0x4605c3(0x5ca),{'protocolVersion':0x3e8}),/^RangeError: Unsupported protocol version: 1000 \(supported versions: 8, 13\)$/):(assert[_0x4605c3(0x513)](_0x52b59f[_0x4605c3(0x3ee)][_0x4605c3(0x4a3)],_0x1884b5[_0x4605c3(0x158)]),_0x2c9826[_0x4605c3(0x713)](_0x52b59f,_0x57c84d,_0x117335,NOOP));});const _0xb34bdf=new WebSocket(_0x751132(0x33b),{'createConnection':_0x45c9f4=>{const _0x1d3a0e=_0x751132;if(_0x13252c[_0x1d3a0e(0x62b)](_0x13252c[_0x1d3a0e(0x5b1)],_0x13252c[_0x1d3a0e(0x4ae)]))return assert[_0x1d3a0e(0x513)](_0x45c9f4[_0x1d3a0e(0x4a3)],_0x1d3a0e(0x400)),assert['strictEqual'](_0x45c9f4[_0x1d3a0e(0x217)],'22'),net['createConnection']({'host':_0x1d3a0e(0x57d),'port':_0x41d626['address']()['port']});else _0x4bab91[_0x1d3a0e(0x432)](()=>new _0x23c33f(_0x1d3a0e(0x5ca),_0x29ba78),/^SyntaxError: An invalid or duplicated subprotocol was specified$/);}});_0xb34bdf['on'](_0x389485[_0x751132(0x740)],()=>{const _0x2a81f0=_0x751132;assert[_0x2a81f0(0x513)](_0xb34bdf[_0x2a81f0(0x40b)],_0x2a81f0(0x33b)),_0xb34bdf['on']('close',()=>_0x5e496c()),_0xb34bdf['close']();});}),_0x389485[_0x78594d(0x5c1)](it,_0x389485['SkGpK'],_0xd58ec0=>{const _0x1eac8f=_0x78594d,_0x3f851a={'MCNJk':_0x1884b5[_0x1eac8f(0x4fb)]};_0x41d626[_0x1eac8f(0x1cc)](_0x1eac8f(0x4c8),(_0x515f95,_0x28a57c)=>{const _0x25a254=_0x1eac8f;_0x28a57c[_0x25a254(0x17f)](_0x1884b5[_0x25a254(0x6f0)](_0x1884b5['rCLVe']('HTTP/1.1\x20301\x20Moved\x20Permanently\x0d\x0a',_0x1884b5[_0x25a254(0x4c3)]),'\x0d\x0a'));});const _0x4add37=new WebSocket(_0x1eac8f(0x40c)+_0x41d626[_0x1eac8f(0x5b5)]()['port']);_0x4add37['on'](_0x1884b5[_0x1eac8f(0x196)],()=>_0xd58ec0(new Error(_0x1eac8f(0x300)))),_0x4add37['on'](_0x1eac8f(0x747),_0x5081f3=>{const _0xf82ec3=_0x1eac8f;assert['ok'](_0x5081f3 instanceof Error),assert[_0xf82ec3(0x513)](_0x5081f3[_0xf82ec3(0x474)],_0xf82ec3(0x1e5)),assert['strictEqual'](_0x4add37[_0xf82ec3(0x393)],0x0),_0x4add37['on'](_0x3f851a['MCNJk'],()=>_0xd58ec0());});}),_0x389485[_0x78594d(0x49a)](it,_0x389485['pafXf'],_0x57d8a9=>{const _0x360053=_0x78594d;if(_0x1884b5[_0x360053(0x2bb)]!==_0x1884b5[_0x360053(0x2bb)])_0x1f219e[_0x360053(0x513)](_0x3de230[_0x360053(0x459)],_0x58baed[_0x360053(0x282)]),_0x5bea15[_0x360053(0x521)](_0x3858a3);else{const _0x1c3238=new WebSocket[(_0x360053(0x5ec))]({'noServer':!![],'path':_0x360053(0x37e)});_0x41d626['once']('upgrade',(_0x4bb0fc,_0x1fd779)=>{const _0x187a83=_0x360053,_0x36d744={'TbMru':function(_0xdf554f,_0x283de0){return _0xdf554f instanceof _0x283de0;},'gWFjB':_0x187a83(0x521)};_0x1884b5[_0x187a83(0x4ce)]!=='YwlSS'?(_0x4ee8d9['ok'](_0x36d744[_0x187a83(0x4d3)](_0x2c0ece,_0x28b181)),_0x32dfe2[_0x187a83(0x513)](_0x6a797b['message'],_0x187a83(0x717)),_0x4e63e0['strictEqual'](_0x40938a[_0x187a83(0x393)],0x2),_0xb826bf[_0x187a83(0x558)]('upgrade',_0x743670),_0xea6817['on'](_0x36d744[_0x187a83(0x263)],()=>_0xf962dd())):(_0x1fd779[_0x187a83(0x17f)](_0x1884b5[_0x187a83(0x2fa)]),_0x41d626[_0x187a83(0x1cc)](_0x187a83(0x4c8),(_0x15331b,_0x24e070,_0x385c4e)=>{const _0x20163e=_0x187a83;_0x1c3238[_0x20163e(0x713)](_0x15331b,_0x24e070,_0x385c4e,NOOP);}));});const _0x546426=_0x41d626[_0x360053(0x5b5)]()[_0x360053(0x217)],_0x25b04f=new WebSocket(_0x360053(0x40c)+_0x546426,{'followRedirects':!![]});_0x25b04f['on'](_0x360053(0x6e1),()=>{const _0x3a3e30=_0x360053;assert['strictEqual'](_0x25b04f[_0x3a3e30(0x40b)],_0x3a3e30(0x40c)+_0x546426+_0x3a3e30(0x37e)),assert['strictEqual'](_0x25b04f[_0x3a3e30(0x393)],0x1),_0x25b04f['on'](_0x3a3e30(0x521),()=>_0x57d8a9()),_0x25b04f[_0x3a3e30(0x521)]();});}}),it(_0x78594d(0x755),_0x617f76=>{const _0x29a5d4=_0x78594d,_0x499f4d=(_0x21467c,_0x53b5e2)=>{const _0x56b1bd=_0x397f;_0x53b5e2['end'](_0x56b1bd(0x193));};_0x41d626['on'](_0x389485[_0x29a5d4(0x1ac)],_0x499f4d);const _0x2d3d90=new WebSocket(_0x29a5d4(0x40c)+_0x41d626[_0x29a5d4(0x5b5)]()['port'],{'followRedirects':!![],'maxRedirects':0x1});_0x2d3d90['on'](_0x389485['WOiQS'],()=>_0x617f76(new Error('Unexpected\x20\x27open\x27\x20event'))),_0x2d3d90['on'](_0x389485['PnVhg'],_0x679ef=>{const _0x4987cc=_0x29a5d4,_0x403023=_0x4987cc(0x52f)[_0x4987cc(0x1fb)]('|');let _0x3091f1=0x0;while(!![]){switch(_0x403023[_0x3091f1++]){case'0':assert[_0x4987cc(0x513)](_0x679ef[_0x4987cc(0x474)],_0x4987cc(0x717));continue;case'1':assert['ok'](_0x1884b5[_0x4987cc(0x38e)](_0x679ef,Error));continue;case'2':_0x2d3d90['on'](_0x1884b5[_0x4987cc(0x4fb)],()=>_0x617f76());continue;case'3':_0x41d626[_0x4987cc(0x558)](_0x1884b5['OSCfK'],_0x499f4d);continue;case'4':assert['strictEqual'](_0x2d3d90['_redirects'],0x2);continue;}break;}});}),_0x389485['HEdQp'](it,_0x389485[_0x78594d(0x2d8)],_0x25253b=>{const _0x4077cb=_0x78594d,_0x1293d6={'LGZoa':function(_0x4a0596,_0xc2910c){return _0x4a0596 instanceof _0xc2910c;},'yNqTE':_0x4077cb(0x504)};_0x41d626[_0x4077cb(0x1cc)](_0x389485[_0x4077cb(0x1ac)],(_0x2bace6,_0x2f474d)=>{const _0x1d17de=_0x4077cb;_0x1d17de(0x65c)!==_0x1884b5[_0x1d17de(0x2f7)]?_0x2f474d[_0x1d17de(0x17f)]('HTTP/1.1\x20302\x20Found\x0d\x0aLocation:\x20ws://\x0d\x0a\x0d\x0a'):(_0x1dc614[_0x1d17de(0x236)](_0x4802fa,_0x1c0320[_0x1d17de(0x6b2)]('0')),_0x36539e['ok'](!_0x3fd4ea),_0xc79ef1['close'](_0x1a52d5));});const _0x3d8d30=new WebSocket(_0x4077cb(0x40c)+_0x41d626[_0x4077cb(0x5b5)]()[_0x4077cb(0x217)],{'followRedirects':!![]});_0x3d8d30['on'](_0x4077cb(0x6e1),()=>_0x25253b(new Error('Unexpected\x20\x27open\x27\x20event'))),_0x3d8d30['on'](_0x4077cb(0x747),_0x1aff43=>{const _0x181082=_0x4077cb;assert['ok'](_0x1293d6[_0x181082(0x189)](_0x1aff43,SyntaxError)),assert[_0x181082(0x513)](_0x1aff43[_0x181082(0x474)],_0x1293d6[_0x181082(0x656)]),assert[_0x181082(0x513)](_0x3d8d30[_0x181082(0x393)],0x1),_0x3d8d30['on'](_0x181082(0x521),()=>_0x25253b());});}),it(_0x389485[_0x78594d(0x369)],_0x3c2bdf=>{const _0x1d669f=_0x78594d,_0x446250={'aiFnH':_0x1884b5[_0x1d669f(0x57e)],'DrUyS':_0x1d669f(0x46e),'HPdyW':_0x1884b5[_0x1d669f(0x373)],'LGqsE':_0x1884b5[_0x1d669f(0x62c)],'jgYie':'close','utaWB':function(_0x27e147,_0x14b4c0){return _0x1884b5['qXjfY'](_0x27e147,_0x14b4c0);},'zoPvM':_0x1d669f(0x6a9)};_0x41d626[_0x1d669f(0x1cc)](_0x1884b5[_0x1d669f(0x594)],(_0x1c643d,_0x203670)=>{const _0x2fe981=_0x1d669f;if(_0x446250[_0x2fe981(0x197)](_0x446250['zoPvM'],'FZoKj'))_0x203670['end'](_0x2fe981(0x70d));else{const _0x3256a0=_0x838616[_0x2fe981(0x5b5)]()[_0x2fe981(0x217)];_0x28863a[_0x2fe981(0x1cc)](_0x2fe981(0x4c8),(_0x53c291,_0x371265)=>{const _0x10c417=_0x2fe981;_0x371265[_0x10c417(0x17f)]('HTTP/1.1\x20302\x20Found\x0d\x0a'+(_0x10c417(0x6c1)+_0x3256a0+'/\x0d\x0a\x0d\x0a'));});const _0x121b54={'authorization':_0x446250[_0x2fe981(0x1c9)],'cookie':_0x446250[_0x2fe981(0x224)],'host':'foo'},_0x55303c=new _0x1eb931(_0x2fe981(0x40c)+_0xeada0b[_0x2fe981(0x5b5)]()[_0x2fe981(0x217)],{'followRedirects':!![],'headers':_0x121b54}),_0x190f9c=_0x55303c[_0x2fe981(0x23b)];_0x2f7824['strictEqual'](_0x190f9c[_0x2fe981(0x117)](_0x446250[_0x2fe981(0x315)]),_0x121b54['authorization']),_0x52a5d5['strictEqual'](_0x190f9c[_0x2fe981(0x117)](_0x2fe981(0x649)),_0x121b54[_0x2fe981(0x28c)]),_0x563121[_0x2fe981(0x513)](_0x190f9c['getHeader'](_0x446250['LGqsE']),_0x121b54['host']),_0x55303c['on'](_0x446250[_0x2fe981(0x569)],_0x498c83=>{const _0x4f36c8=_0x2fe981;_0x57ecb2[_0x4f36c8(0x513)](_0x498c83,0x3ed),_0x4b600c[_0x4f36c8(0x513)](_0x55303c['url'],_0x4f36c8(0x40c)+_0x3256a0+'/'),_0x372db9['strictEqual'](_0x55303c[_0x4f36c8(0x393)],0x1),_0x212595[_0x4f36c8(0x521)](_0x5864dd);});}});const _0x4f0b17=new WebSocket(_0x1d669f(0x40c)+_0x41d626['address']()[_0x1d669f(0x217)],{'followRedirects':!![]});_0x4f0b17['on']('open',()=>_0x3c2bdf(new Error('Unexpected\x20\x27open\x27\x20event'))),_0x4f0b17['on'](_0x1884b5[_0x1d669f(0x6e6)],_0x545f55=>{const _0x4613f9=_0x1d669f,_0x512ad4={'rBqGc':_0x1884b5[_0x4613f9(0x4fb)]};_0x1884b5[_0x4613f9(0x381)](_0x1884b5['gejUI'],_0x4613f9(0x567))?(_0x4677c9['ok'](_0x26e579 instanceof _0x574548),_0x96d9f2[_0x4613f9(0x513)](_0x189094[_0x4613f9(0x2be)],_0x4613f9(0x13d)),_0xd1f341[_0x4613f9(0x513)](_0x29176d[_0x4613f9(0x474)],_0x4613f9(0x505)),_0x3d7b22['on'](_0x512ad4[_0x4613f9(0x47b)],(_0xe5ae82,_0x31bae0)=>{const _0x557ed8=_0x4613f9;_0x3624b7['strictEqual'](_0xe5ae82,0x3ee),_0x34e53d[_0x557ed8(0x513)](_0x31bae0,_0x20d08d),_0x4a5b32=!![];if(_0x1c1242)_0x40cb0b['close'](_0x4dd917);})):(assert['ok'](_0x545f55 instanceof SyntaxError),assert[_0x4613f9(0x513)](_0x545f55['message'],_0x1884b5[_0x4613f9(0x141)](_0x1884b5[_0x4613f9(0x1ab)],_0x1884b5[_0x4613f9(0x134)])),assert[_0x4613f9(0x513)](_0x4f0b17[_0x4613f9(0x393)],0x1),_0x4f0b17['on']('close',()=>_0x3c2bdf()));});}),it('uses\x20the\x20first\x20url\x20userinfo\x20when\x20following\x20redirects',_0x4649be=>{const _0x1703f0=_0x78594d,_0x141cc7=new WebSocket['Server']({'noServer':!![],'path':_0x389485[_0x1703f0(0x4e8)]}),_0x558ab7=_0x389485[_0x1703f0(0x516)];_0x41d626['once'](_0x1703f0(0x4c8),(_0x404a50,_0x13b10a)=>{const _0xfcbcd3=_0x1703f0;_0x13b10a[_0xfcbcd3(0x17f)](_0x1884b5[_0xfcbcd3(0x55b)](_0x1884b5[_0xfcbcd3(0x743)],_0xfcbcd3(0x1c8)+_0xe59947+_0xfcbcd3(0x2db))),_0x41d626['once'](_0x1884b5[_0xfcbcd3(0x594)],(_0x4b18dd,_0x2dbc22,_0xf2381)=>{const _0x88cfc0=_0xfcbcd3;_0x141cc7[_0x88cfc0(0x713)](_0x4b18dd,_0x2dbc22,_0xf2381,(_0x44a7fc,_0x1563a4)=>{const _0xb3e241=_0x88cfc0;assert[_0xb3e241(0x513)](_0x1563a4[_0xb3e241(0x3ee)][_0xb3e241(0x11d)],_0x558ab7),_0x44a7fc['close']();});});});const _0xe59947=_0x41d626[_0x1703f0(0x5b5)]()[_0x1703f0(0x217)],_0x34038e=new WebSocket(_0x1703f0(0x1a2)+_0xe59947,{'followRedirects':!![]});assert[_0x1703f0(0x513)](_0x34038e[_0x1703f0(0x23b)][_0x1703f0(0x117)](_0x1703f0(0x30a)),_0x558ab7),_0x34038e['on'](_0x389485['urEeD'],_0x410011=>{const _0x4df7bc=_0x1703f0;assert[_0x4df7bc(0x513)](_0x410011,0x3ed),assert[_0x4df7bc(0x513)](_0x34038e[_0x4df7bc(0x40b)],_0x4df7bc(0x3af)+_0xe59947+'/foo'),assert[_0x4df7bc(0x513)](_0x34038e[_0x4df7bc(0x393)],0x1),_0x141cc7[_0x4df7bc(0x521)](_0x4649be);});}),_0x389485[_0x78594d(0x2d6)](describe,_0x389485['AcTdD'],()=>{const _0x1f9d18=_0x78594d,_0xca32ee={'xRXgl':_0x1884b5[_0x1f9d18(0x4b8)],'lGDsA':function(_0x230327,_0x2f8e10){const _0x1ff4de=_0x1f9d18;return _0x1884b5[_0x1ff4de(0x5cc)](_0x230327,_0x2f8e10);},'lZHDm':function(_0x516162,_0x2b21e9){return _0x516162===_0x2b21e9;},'tOzui':_0x1884b5['DqDyT'],'eNtHO':_0x1884b5[_0x1f9d18(0x700)],'JDprP':_0x1f9d18(0x1f4),'oqaIU':_0x1884b5[_0x1f9d18(0x557)],'kDmxi':'test/fixtures/key.pem','LJYEg':function(_0x52459a,_0x351195,_0x1429c3){return _0x52459a(_0x351195,_0x1429c3);},'uCRed':function(_0x1c0485,_0x435db7){return _0x1c0485+_0x435db7;},'mvtJF':'drops\x20the\x20`auth`\x20option','jxyoB':_0x1884b5['JwYsW'],'JcYAD':_0x1f9d18(0x46e),'puZBl':function(_0x5753c4,_0x2a3339,_0x24cead){return _0x5753c4(_0x2a3339,_0x24cead);}};function _0x4421c5(_0x3ad816,_0x8141dd){const _0x406468=_0x1f9d18,_0x418adb={'TSxTJ':function(_0x21dc4a,_0x22de66){const _0x217009=_0x397f;return _0xca32ee[_0x217009(0x39d)](_0x21dc4a,_0x22de66);},'gUnEP':_0x406468(0x521)};if(_0xca32ee[_0x406468(0x2d9)](_0xca32ee[_0x406468(0x44f)],'tYoEL')){const _0x1761b4=net[_0x406468(0x4f4)]({'allowHalfOpen':!![]});return _0x1761b4['on'](_0xca32ee[_0x406468(0x72d)],_0xba7dc4=>{const _0x188875=_0x406468,_0x2c0564={'fpYrG':_0xca32ee['xRXgl']};_0xba7dc4['on'](_0x188875(0x738),function _0x3719c3(){const _0x5e2706=_0x188875;_0xba7dc4[_0x5e2706(0x558)](_0x2c0564[_0x5e2706(0x529)],_0x3719c3);const _0x198e09=_0xba7dc4[_0x5e2706(0x709)](0x1),_0x107383=_0x198e09[0x0]===0x16?_0x8141dd:_0x3ad816;_0xba7dc4[_0x5e2706(0x6d7)](_0x198e09),_0x107383['emit'](_0x5e2706(0x3b0),_0xba7dc4);});}),_0x1761b4;}else _0x1376e4['ok'](_0x418adb[_0x406468(0x5c7)](_0x335174,_0x47c837)),_0x9a1ff7['strictEqual'](_0xd3a324['message'],_0x406468(0x35f)),_0x305e79['on'](_0x418adb[_0x406468(0x1c5)],()=>_0x5d98[_0x406468(0x521)](_0x524774));}describe(_0x1f9d18(0x675),()=>{const _0x11fcbf=_0x1f9d18,_0x213d25={'ogMFE':_0x11fcbf(0x20c),'dfOaI':_0x11fcbf(0x4c8),'tDWDY':'connection','nUQuK':_0x11fcbf(0x5bb),'RuFUX':'Basic\x20Zm9vOmJhcg==','lkWxd':function(_0x3ccfca,_0x382cf7){const _0xa55b3f=_0x11fcbf;return _0xca32ee[_0xa55b3f(0x583)](_0x3ccfca,_0x382cf7);},'OkKBd':_0x11fcbf(0x649),'DLeHm':_0xca32ee['oqaIU']};_0xca32ee[_0x11fcbf(0x15d)](it,_0xca32ee['mvtJF'],_0x517cce=>{const _0x5c6719=_0x11fcbf,_0x280d7a={'RtiNu':_0xca32ee[_0x5c6719(0x2d4)],'vaSld':function(_0x5b4c64,_0x1482ee){return _0x5b4c64+_0x1482ee;}},_0x120963=http[_0x5c6719(0x4f4)](),_0x4f65bb=https['createServer']({'cert':fs['readFileSync'](_0xca32ee[_0x5c6719(0x43d)]),'key':fs['readFileSync'](_0xca32ee[_0x5c6719(0x14f)])}),_0x25ba9b=_0xca32ee[_0x5c6719(0x15d)](_0x4421c5,_0x120963,_0x4f65bb);_0x25ba9b[_0x5c6719(0x6b7)](()=>{const _0x472613=_0x5c6719,_0x3a77e2={'fmDps':_0x472613(0x72b),'YZmLV':_0x472613(0x721),'YpuJJ':_0x213d25[_0x472613(0x66f)]};if('LXctH'!==_0x472613(0x2a4))_0x264d51[_0x472613(0x513)](_0x31744d,0x3ed),_0x56d040[_0x472613(0x236)](_0x288ecf,[_0x3a77e2[_0x472613(0x6f3)],_0x3a77e2[_0x472613(0x6ee)],_0x3a77e2['YpuJJ']]),_0x4600c4['close'](_0x163ecc);else{const _0x4ced50=_0x25ba9b['address']()[_0x472613(0x217)];_0x4f65bb['on'](_0x213d25[_0x472613(0x14a)],(_0x49a246,_0x50c760)=>{const _0x43fae5=_0x472613,_0x299e46={'wIfzA':'end'};_0x280d7a[_0x43fae5(0x5fd)]===_0x280d7a[_0x43fae5(0x5fd)]?(_0x50c760['on'](_0x43fae5(0x747),NOOP),_0x50c760[_0x43fae5(0x17f)](_0x280d7a[_0x43fae5(0x257)](_0x43fae5(0x61b),_0x43fae5(0x6c1)+_0x4ced50+_0x43fae5(0x121)))):(_0x28ecd9[_0x43fae5(0x513)](_0x91e87d[_0x43fae5(0x58b)],0x191),_0x742916['on'](_0x299e46[_0x43fae5(0x5f8)],_0x125837),_0xedc243[_0x43fae5(0x151)]());});const _0x208089=new WebSocket[(_0x472613(0x5ec))]({'server':_0x120963});_0x208089['on'](_0x213d25[_0x472613(0x722)],(_0x4e820c,_0x5bec40)=>{const _0x243792=_0x472613;assert[_0x243792(0x513)](_0x5bec40[_0x243792(0x3ee)][_0x243792(0x11d)],undefined),_0x4e820c[_0x243792(0x521)]();});const _0x3a387f=new WebSocket(_0x472613(0x4e0)+_0x4ced50,{'auth':_0x213d25['nUQuK'],'followRedirects':!![],'rejectUnauthorized':![]});assert['strictEqual'](_0x3a387f[_0x472613(0x23b)]['getHeader']('Authorization'),_0x213d25[_0x472613(0x55c)]),_0x3a387f['on'](_0x472613(0x521),_0x18b87e=>{const _0x203bc1=_0x472613;assert[_0x203bc1(0x513)](_0x18b87e,0x3ed),assert[_0x203bc1(0x513)](_0x3a387f[_0x203bc1(0x40b)],_0x203bc1(0x40c)+_0x4ced50+'/'),assert[_0x203bc1(0x513)](_0x3a387f[_0x203bc1(0x393)],0x1),_0x25ba9b[_0x203bc1(0x521)](_0x517cce);});}});}),it(_0xca32ee[_0x11fcbf(0x44b)],_0x3f5079=>{const _0x478e45=_0x11fcbf,_0x49c543={'nHLBY':function(_0x21f894,_0x18b621){const _0x3ce7a9=_0x397f;return _0x213d25[_0x3ce7a9(0x52c)](_0x21f894,_0x18b621);},'KIqdD':'upgrade','wvRhA':_0x213d25[_0x478e45(0x55c)],'GFteW':_0x478e45(0x72b),'vPqyr':_0x213d25[_0x478e45(0x32f)],'ImVQa':_0x478e45(0x144)},_0x232362=http[_0x478e45(0x4f4)](),_0x5ef6a2=https[_0x478e45(0x4f4)]({'cert':fs['readFileSync'](_0x213d25[_0x478e45(0x361)]),'key':fs[_0x478e45(0x235)](_0x478e45(0x227))}),_0xfa419e=_0x4421c5(_0x232362,_0x5ef6a2);_0xfa419e[_0x478e45(0x6b7)](()=>{const _0x5d9d16=_0x478e45,_0x4bfbfc={'VOfFp':function(_0x372c12,_0x4ce603){const _0x122059=_0x397f;return _0x49c543[_0x122059(0x175)](_0x372c12,_0x4ce603);},'gRHSR':_0x5d9d16(0x61b)},_0x3927f8=_0xfa419e[_0x5d9d16(0x5b5)]()[_0x5d9d16(0x217)];_0x5ef6a2['on'](_0x49c543[_0x5d9d16(0x715)],(_0x40585b,_0x85b5a1)=>{const _0x4fa9ee=_0x5d9d16;_0x85b5a1['on'](_0x4fa9ee(0x747),NOOP),_0x85b5a1[_0x4fa9ee(0x17f)](_0x4bfbfc[_0x4fa9ee(0x255)](_0x4bfbfc[_0x4fa9ee(0x5fc)],_0x4fa9ee(0x6c1)+_0x3927f8+'/\x0d\x0a\x0d\x0a'));});const _0x5537ed={'authorization':_0x49c543[_0x5d9d16(0x708)],'cookie':_0x5d9d16(0x46e),'host':_0x49c543[_0x5d9d16(0x448)]},_0x527cea=new WebSocket[(_0x5d9d16(0x5ec))]({'server':_0x232362});_0x527cea['on'](_0x5d9d16(0x3b0),(_0x238bc4,_0x5c4def)=>{const _0x3fce83=_0x5d9d16;assert[_0x3fce83(0x513)](_0x5c4def['headers'][_0x3fce83(0x11d)],undefined),assert[_0x3fce83(0x513)](_0x5c4def['headers']['cookie'],undefined),assert[_0x3fce83(0x513)](_0x5c4def[_0x3fce83(0x3ee)]['host'],_0x5537ed[_0x3fce83(0x4a3)]),_0x238bc4['close']();});const _0x3ca32e=new WebSocket(_0x5d9d16(0x4e0)+_0x3927f8,{'followRedirects':!![],'headers':_0x5537ed,'rejectUnauthorized':![]}),_0x129399=_0x3ca32e[_0x5d9d16(0x23b)];assert[_0x5d9d16(0x513)](_0x129399['getHeader'](_0x5d9d16(0x30a)),_0x5537ed[_0x5d9d16(0x11d)]),assert[_0x5d9d16(0x513)](_0x129399[_0x5d9d16(0x117)](_0x49c543[_0x5d9d16(0x332)]),_0x5537ed[_0x5d9d16(0x28c)]),assert[_0x5d9d16(0x513)](_0x129399[_0x5d9d16(0x117)](_0x49c543['ImVQa']),_0x5537ed[_0x5d9d16(0x4a3)]),_0x3ca32e['on'](_0x5d9d16(0x521),_0x10a685=>{const _0x276424=_0x5d9d16;assert['strictEqual'](_0x10a685,0x3ed),assert['strictEqual'](_0x3ca32e[_0x276424(0x40b)],_0x276424(0x40c)+_0x3927f8+'/'),assert['strictEqual'](_0x3ca32e[_0x276424(0x393)],0x1),_0xfa419e[_0x276424(0x521)](_0x3f5079);});});});}),describe(_0x1f9d18(0x661),()=>{const _0x49ccfb=_0x1f9d18;it(_0x1884b5[_0x49ccfb(0x42f)],_0x4d2f7e=>{const _0x56f82d=_0x49ccfb,_0x58e909={'WUklZ':function(_0x2e722c,_0x5798b2){return _0x2e722c!==_0x5798b2;},'VATyq':_0x56f82d(0x30a),'yYHTt':_0x56f82d(0x521),'qoUZt':_0xca32ee[_0x56f82d(0x3cd)],'JdeVv':_0xca32ee['eNtHO'],'nyCyS':_0x56f82d(0x649)},_0x2b2b48=http['createServer'](),_0x5dd0a0=https['createServer']({'cert':fs['readFileSync'](_0x56f82d(0x503)),'key':fs[_0x56f82d(0x235)](_0x56f82d(0x227))}),_0x162351=_0xca32ee['puZBl'](_0x4421c5,_0x2b2b48,_0x5dd0a0);_0x162351[_0x56f82d(0x6b7)](()=>{const _0x26b631=_0x56f82d,_0x27ace4={'KZbPZ':'sec-websocket-origin','Krgqp':function(_0x48fabf,_0x2bd0e9){const _0x5bf81f=_0x397f;return _0x58e909[_0x5bf81f(0x629)](_0x48fabf,_0x2bd0e9);},'GQnsA':function(_0x105640,_0x1ba0a4){return _0x105640===_0x1ba0a4;},'CCWSH':_0x26b631(0x370),'UEiUN':_0x58e909[_0x26b631(0x1a4)],'BuLWp':_0x58e909['yYHTt']},_0x2d2cb3=_0x162351[_0x26b631(0x5b5)]()[_0x26b631(0x217)];_0x5dd0a0['on'](_0x26b631(0x4c8),(_0x14f644,_0xe0c14b)=>{const _0x37ca4a=_0x26b631;_0xe0c14b['on']('error',NOOP),_0xe0c14b['end'](_0x37ca4a(0x61b)+('Location:\x20ws://localhost:'+_0x2d2cb3+_0x37ca4a(0x121)));});const _0xcbfad5={'authorization':'Basic\x20Zm9vOmJhcg==','cookie':_0x58e909[_0x26b631(0x66c)],'host':_0x26b631(0x72b)},_0x414b86=new WebSocket[(_0x26b631(0x5ec))]({'server':_0x2b2b48});_0x414b86['on'](_0x58e909[_0x26b631(0x638)],(_0x1d0759,_0x15fc3f)=>{const _0x402f2d=_0x26b631,_0xc2d245={'uDPWH':_0x27ace4[_0x402f2d(0x384)],'JHfHh':function(_0xf2fc23){return _0xf2fc23();}};if(_0x27ace4['Krgqp'](_0x402f2d(0x409),'AokSG')){const _0x162243=new _0x2e7ba6[(_0x402f2d(0x265))]();_0x162243[_0x402f2d(0x48e)]=_0x552e28=>{const _0x3e986a=_0x402f2d;_0x1d6592[_0x3e986a(0x513)](_0x552e28['getHeader'](_0xc2d245[_0x3e986a(0x1d5)]),_0x3e986a(0x1a1)),_0xc2d245['JHfHh'](_0x1caace);};const _0xf9390a=new _0x390c81(_0x402f2d(0x5ca),{'origin':'https://example.com:8000','protocolVersion':0x8,'agent':_0x162243});}else assert['strictEqual'](_0x15fc3f[_0x402f2d(0x3ee)][_0x402f2d(0x11d)],_0xcbfad5[_0x402f2d(0x11d)]),assert[_0x402f2d(0x513)](_0x15fc3f['headers'][_0x402f2d(0x28c)],_0xcbfad5[_0x402f2d(0x28c)]),assert[_0x402f2d(0x513)](_0x15fc3f[_0x402f2d(0x3ee)]['host'],_0xcbfad5[_0x402f2d(0x4a3)]),_0x1d0759[_0x402f2d(0x521)]();});const _0x1518ad=new WebSocket(_0x26b631(0x4e0)+_0x2d2cb3,{'followRedirects':!![],'headers':_0xcbfad5,'rejectUnauthorized':![]}),_0x3780e3=_0x1518ad[_0x26b631(0x23b)];assert[_0x26b631(0x513)](_0x3780e3[_0x26b631(0x117)](_0x58e909['VATyq']),_0xcbfad5[_0x26b631(0x11d)]),assert[_0x26b631(0x513)](_0x3780e3[_0x26b631(0x117)](_0x58e909[_0x26b631(0x1f9)]),_0xcbfad5[_0x26b631(0x28c)]),assert[_0x26b631(0x513)](_0x3780e3[_0x26b631(0x117)](_0x26b631(0x144)),_0xcbfad5['host']),_0x1518ad['on']('redirect',(_0x38da47,_0x1c013b)=>{const _0x52a7d3=_0x26b631;assert['strictEqual'](_0x1518ad[_0x52a7d3(0x393)],0x1),assert[_0x52a7d3(0x513)](_0x38da47,'ws://localhost:'+_0x2d2cb3+'/'),assert[_0x52a7d3(0x2e3)](_0x3780e3,_0x1c013b),assert[_0x52a7d3(0x513)](_0x1c013b[_0x52a7d3(0x117)](_0x27ace4['UEiUN']),_0xcbfad5[_0x52a7d3(0x11d)]),assert['strictEqual'](_0x1c013b[_0x52a7d3(0x117)](_0x52a7d3(0x649)),_0xcbfad5[_0x52a7d3(0x28c)]),assert[_0x52a7d3(0x513)](_0x1c013b[_0x52a7d3(0x117)](_0x52a7d3(0x144)),_0xcbfad5['host']),_0x1518ad['on'](_0x27ace4['BuLWp'],_0x2af120=>{const _0x7fe5bd=_0x52a7d3,_0x255379={'apMAo':_0x7fe5bd(0x20e)};_0x27ace4[_0x7fe5bd(0x659)](_0x27ace4[_0x7fe5bd(0x4b2)],_0x7fe5bd(0x370))?(assert[_0x7fe5bd(0x513)](_0x2af120,0x3ed),_0x162351[_0x7fe5bd(0x521)](_0x4d2f7e)):_0x23cb16[_0x7fe5bd(0x3ca)](_0x4e88a3=>{const _0x6636ba=_0x7fe5bd;_0x50926b['ok'](_0x4e88a3 instanceof _0x5244d9),_0x3f4f15[_0x6636ba(0x513)](_0x4e88a3['message'],_0x255379['apMAo']),_0x2f0795[_0x6636ba(0x513)](_0xa1c2f9['bufferedAmount'],0x2),_0x14fc15[_0x6636ba(0x521)](_0x18f6c1);});});});});});});}),_0x389485[_0x78594d(0x2ef)](describe,_0x78594d(0x46b),()=>{const _0x444cd3=_0x78594d,_0x4c69cd={'gtOKF':'connection','JCMDB':_0x444cd3(0x4e6),'kYEVJ':function(_0x4d492f,_0x4b9d49){return _0x389485['WcCpz'](_0x4d492f,_0x4b9d49);},'Gxhoq':_0x444cd3(0x5f2),'egDia':_0x389485[_0x444cd3(0x1a5)],'ziRxL':_0x389485['gOGpT'],'lwTbi':_0x389485[_0x444cd3(0x2a5)],'mlYyr':_0x444cd3(0x37d)};_0x389485[_0x444cd3(0x67d)](describe,_0x444cd3(0x675),()=>{const _0x4f53a0=_0x444cd3,_0x3fd6c8={'UjIHQ':function(_0x254e51,_0x1d51e2){const _0x29df41=_0x397f;return _0x1884b5[_0x29df41(0x452)](_0x254e51,_0x1d51e2);},'hJgyP':_0x4f53a0(0x61b),'WrEbf':_0x1884b5[_0x4f53a0(0x28b)],'PTXVE':_0x4f53a0(0x30a),'vXRFj':_0x4f53a0(0x3cf),'LbvYq':_0x1884b5['rcWVK'],'LOVVA':function(_0x443407,_0x16bbc7){return _0x1884b5['qzgsG'](_0x443407,_0x16bbc7);},'uvFNR':'hDdMv','szvkj':_0x1884b5['xPmBM'],'mySwW':_0x1884b5[_0x4f53a0(0x45b)],'ZAAZj':_0x1884b5['drObd'],'ISNgm':_0x4f53a0(0x57d),'UCqJD':_0x4f53a0(0x72b),'ObBFd':_0x1884b5[_0x4f53a0(0x428)],'TFvDS':_0x1884b5[_0x4f53a0(0x594)],'peWPk':_0x4f53a0(0x46e)};it(_0x4f53a0(0x497),_0x106686=>{const _0x20a000=_0x4f53a0,_0x436863=new WebSocket['Server']({'port':0x0},()=>{const _0x41dc98=_0x397f,_0x306fa7={'RLPBK':function(_0xc77bfc,_0x1009d2){const _0x4b096e=_0x397f;return _0x3fd6c8[_0x4b096e(0x442)](_0xc77bfc,_0x1009d2);},'VbQwy':_0x3fd6c8[_0x41dc98(0x399)]},_0x37bdf1=_0x436863['address']()[_0x41dc98(0x217)];_0x41d626['once'](_0x41dc98(0x4c8),(_0x347edc,_0x1f174d)=>{const _0x5851eb=_0x41dc98;_0x1f174d[_0x5851eb(0x17f)](_0x306fa7[_0x5851eb(0x5f1)](_0x306fa7[_0x5851eb(0x6a3)],_0x5851eb(0x6c1)+_0x37bdf1+_0x5851eb(0x121)));});const _0x26c30c=new WebSocket(_0x41dc98(0x40c)+_0x41d626[_0x41dc98(0x5b5)]()[_0x41dc98(0x217)],{'auth':_0x3fd6c8['WrEbf'],'followRedirects':!![]});assert[_0x41dc98(0x513)](_0x26c30c[_0x41dc98(0x23b)]['getHeader'](_0x3fd6c8[_0x41dc98(0x3b9)]),_0x3fd6c8[_0x41dc98(0x292)]),_0x26c30c['on'](_0x3fd6c8[_0x41dc98(0x61e)],_0x217031=>{const _0x5c6c84=_0x41dc98;assert['strictEqual'](_0x217031,0x3ed),assert[_0x5c6c84(0x513)](_0x26c30c[_0x5c6c84(0x40b)],_0x5c6c84(0x40c)+_0x37bdf1+'/'),assert['strictEqual'](_0x26c30c[_0x5c6c84(0x393)],0x1),_0x436863[_0x5c6c84(0x521)](_0x106686);});});_0x436863['on'](_0x4c69cd[_0x20a000(0x538)],(_0x55b993,_0x2282d6)=>{const _0x53a409=_0x20a000;assert[_0x53a409(0x513)](_0x2282d6[_0x53a409(0x3ee)][_0x53a409(0x11d)],undefined),_0x55b993[_0x53a409(0x521)]();});}),it(_0x4f53a0(0x171),_0x3d0d19=>{const _0x122460=_0x4f53a0,_0x507d81={'QrSQp':_0x122460(0x3cf),'aUjUN':_0x122460(0x46e),'NKtZU':_0x122460(0x649)},_0x24371a=new WebSocket['Server']({'port':0x0},()=>{const _0x14d06b=_0x122460,_0x58fbb2={'FkUAx':function(_0x275c28,_0x423b87){return _0x275c28+_0x423b87;},'dRnLb':_0x14d06b(0x572)},_0xfff889=_0x24371a[_0x14d06b(0x5b5)]()['port'];_0x41d626[_0x14d06b(0x1cc)](_0x14d06b(0x4c8),(_0x1b170b,_0x50a5a2)=>{const _0x137141=_0x14d06b;_0x50a5a2['end'](_0x58fbb2[_0x137141(0x6fb)]('HTTP/1.1\x20302\x20Found\x0d\x0a','Location:\x20ws://localhost:'+_0xfff889+'/\x0d\x0a\x0d\x0a'));});const _0x5a5e25={'authorization':_0x507d81[_0x14d06b(0x342)],'cookie':_0x507d81[_0x14d06b(0x341)],'host':'foo'},_0x476147=new WebSocket('ws://localhost:'+_0x41d626['address']()[_0x14d06b(0x217)],{'followRedirects':!![],'headers':_0x5a5e25}),_0x46c647=_0x476147[_0x14d06b(0x23b)];assert[_0x14d06b(0x513)](_0x46c647['getHeader'](_0x14d06b(0x30a)),_0x5a5e25[_0x14d06b(0x11d)]),assert[_0x14d06b(0x513)](_0x46c647['getHeader'](_0x507d81[_0x14d06b(0x41a)]),_0x5a5e25[_0x14d06b(0x28c)]),assert[_0x14d06b(0x513)](_0x46c647[_0x14d06b(0x117)](_0x14d06b(0x144)),_0x5a5e25[_0x14d06b(0x4a3)]),_0x476147['on'](_0x14d06b(0x521),_0x1e7e1b=>{const _0x5970eb=_0x14d06b;_0x58fbb2[_0x5970eb(0x395)]===_0x5970eb(0x641)?_0x38ec53['end'](_0x5970eb(0x61b)+(_0x5970eb(0x6c1)+_0x3dc1b7+_0x5970eb(0x121))):(assert[_0x5970eb(0x513)](_0x1e7e1b,0x3ed),assert['strictEqual'](_0x476147['url'],_0x5970eb(0x40c)+_0xfff889+'/'),assert[_0x5970eb(0x513)](_0x476147['_redirects'],0x1),_0x24371a[_0x5970eb(0x521)](_0x3d0d19));});});_0x24371a['on'](_0x122460(0x3b0),(_0x2dfe9f,_0x717d83)=>{const _0x584b8a=_0x122460;if(_0x584b8a(0x2f5)==='Danzd')assert['strictEqual'](_0x717d83[_0x584b8a(0x3ee)][_0x584b8a(0x11d)],undefined),assert[_0x584b8a(0x513)](_0x717d83[_0x584b8a(0x3ee)][_0x584b8a(0x28c)],undefined),assert[_0x584b8a(0x513)](_0x717d83[_0x584b8a(0x3ee)][_0x584b8a(0x4a3)],_0x584b8a(0x4e9)+_0x24371a[_0x584b8a(0x5b5)]()[_0x584b8a(0x217)]),_0x2dfe9f[_0x584b8a(0x521)]();else{_0x811c8c['ok'](!_0x2609c8);if(_0x58af6b['push'](_0x2ff5be[_0x584b8a(0x241)]())>0x1)return;_0x20bfed(()=>{const _0x5b1405=_0x584b8a;_0x23fdf2[_0x5b1405(0x2d5)](()=>{const _0x45c896=_0x5b1405;_0x4994bc[_0x45c896(0x513)](_0x5d1415['_receiver'][_0x45c896(0x429)],0x5),_0x22ceb2[_0x45c896(0x1e4)]();});});}});}),it('drops\x20the\x20Authorization,\x20Cookie\x20and\x20Host\x20headers\x20(2/4)',_0x529e1a=>{const _0x3d6e8b=_0x4f53a0,_0x276f3a={'fNHVW':_0x3d6e8b(0x57d)},_0x31045d=crypto['randomBytes'](0x10)[_0x3d6e8b(0x241)](_0x3fd6c8['mySwW']),_0xc09974=process[_0x3d6e8b(0x18b)]===_0x3d6e8b(0x5f2)?_0x3d6e8b(0x4b9)+_0x31045d:path[_0x3d6e8b(0x349)](os[_0x3d6e8b(0x28a)](),'ws-'+_0x31045d+_0x3d6e8b(0x242));_0x41d626[_0x3d6e8b(0x1cc)]('upgrade',(_0x597ea7,_0x5d1b33)=>{const _0x2c2c49=_0x3d6e8b;_0x3fd6c8['LOVVA']('hDdMv',_0x3fd6c8[_0x2c2c49(0x624)])?_0x5d1b33['end'](_0x2c2c49(0x411)+_0xc09974+_0x2c2c49(0x41b)):(_0x30f052[_0x2c2c49(0x513)](_0x1781e8[_0x2c2c49(0x471)],_0x2c2c49(0x72b)),_0x1c3ae5[_0x2c2c49(0x2f8)]=_0x2614ec=>{const _0x36c917=_0x2c2c49;_0x33801c['strictEqual'](_0x2614ec[_0x36c917(0x1c7)],!![]),_0x418aca[_0x36c917(0x513)](_0x2614ec[_0x36c917(0x2be)],0x3ed),_0xa8f94c['strictEqual'](_0x2614ec[_0x36c917(0x1db)],''),_0x5b7e3f[_0x36c917(0x521)](_0x110172);},_0x4fb5db[_0x2c2c49(0x521)]());});const _0x5f2e12=http[_0x3d6e8b(0x4f4)](),_0x1255f8=new WebSocket[(_0x3d6e8b(0x5ec))]({'server':_0x5f2e12});_0x1255f8['on'](_0x3fd6c8[_0x3d6e8b(0x208)],(_0x1e0404,_0x568d6e)=>{const _0x4c6ff3=_0x3d6e8b;assert[_0x4c6ff3(0x513)](_0x568d6e[_0x4c6ff3(0x3ee)][_0x4c6ff3(0x11d)],undefined),assert[_0x4c6ff3(0x513)](_0x568d6e[_0x4c6ff3(0x3ee)][_0x4c6ff3(0x28c)],undefined),assert[_0x4c6ff3(0x513)](_0x568d6e[_0x4c6ff3(0x3ee)][_0x4c6ff3(0x4a3)],_0x276f3a[_0x4c6ff3(0x417)]),_0x1e0404[_0x4c6ff3(0x521)]();}),_0x5f2e12[_0x3d6e8b(0x6b7)](_0xc09974,()=>{const _0x5409a3=_0x3d6e8b,_0x9cbd3c={'authorization':_0x3fd6c8['vXRFj'],'cookie':_0x5409a3(0x46e),'host':_0x5409a3(0x72b)},_0x358475=new WebSocket(_0x5409a3(0x40c)+_0x41d626[_0x5409a3(0x5b5)]()[_0x5409a3(0x217)],{'followRedirects':!![],'headers':_0x9cbd3c}),_0x197959=_0x358475[_0x5409a3(0x23b)];assert['strictEqual'](_0x197959[_0x5409a3(0x117)](_0x3fd6c8[_0x5409a3(0x3b9)]),_0x9cbd3c[_0x5409a3(0x11d)]),assert[_0x5409a3(0x513)](_0x197959['getHeader']('Cookie'),_0x9cbd3c[_0x5409a3(0x28c)]),assert[_0x5409a3(0x513)](_0x197959[_0x5409a3(0x117)](_0x3fd6c8['szvkj']),_0x9cbd3c[_0x5409a3(0x4a3)]),_0x358475['on'](_0x5409a3(0x521),_0x8cf57d=>{const _0x4e2ca2=_0x5409a3;assert[_0x4e2ca2(0x513)](_0x8cf57d,0x3ed),assert['strictEqual'](_0x358475[_0x4e2ca2(0x40b)],_0x4e2ca2(0x6a6)+_0xc09974),assert[_0x4e2ca2(0x513)](_0x358475['_redirects'],0x1),_0x5f2e12[_0x4e2ca2(0x521)](_0x529e1a);});});}),it(_0x1884b5[_0x4f53a0(0x198)],_0x1bf62c=>{const _0x473424=_0x4f53a0,_0x133a03=crypto[_0x473424(0x566)](0x10)[_0x473424(0x241)](_0x4c69cd[_0x473424(0x4b1)]),_0x30896a=crypto[_0x473424(0x566)](0x10)[_0x473424(0x241)](_0x4c69cd[_0x473424(0x4b1)]);let _0x394b43,_0x53e15f;_0x4c69cd[_0x473424(0x587)](process[_0x473424(0x18b)],_0x4c69cd['Gxhoq'])?(_0x394b43=_0x473424(0x4b9)+_0x133a03,_0x53e15f=_0x473424(0x4b9)+_0x30896a):(_0x394b43=path[_0x473424(0x349)](os['tmpdir'](),'ws-'+_0x133a03+_0x473424(0x242)),_0x53e15f=path['join'](os[_0x473424(0x28a)](),'ws-'+_0x30896a+'.sock'));const _0x38000e=http[_0x473424(0x4f4)]();_0x38000e['on'](_0x473424(0x4c8),(_0x284975,_0x115009)=>{const _0x76fd0c=_0x473424;_0x115009[_0x76fd0c(0x17f)](_0x76fd0c(0x61b)+(_0x76fd0c(0x62d)+_0x53e15f+_0x76fd0c(0x41b)));});const _0xa32ba3=http[_0x473424(0x4f4)](),_0xbe3292=new WebSocket['Server']({'server':_0xa32ba3});_0xbe3292['on'](_0x4c69cd['gtOKF'],(_0x4576c3,_0x470e69)=>{const _0x161351=_0x473424;assert[_0x161351(0x513)](_0x470e69[_0x161351(0x3ee)][_0x161351(0x11d)],undefined),assert['strictEqual'](_0x470e69[_0x161351(0x3ee)]['cookie'],undefined),assert['strictEqual'](_0x470e69[_0x161351(0x3ee)]['host'],_0x3fd6c8[_0x161351(0x5a1)]),_0x4576c3[_0x161351(0x521)]();}),_0x38000e[_0x473424(0x6b7)](_0x394b43,_0x5321cf),_0xa32ba3['listen'](_0x53e15f,_0x5321cf);let _0x226644=0x0;function _0x5321cf(){const _0x1a6b14=_0x473424;if(++_0x226644!==0x2)return;const _0x54c69d={'authorization':_0x1a6b14(0x3cf),'cookie':_0x1a6b14(0x46e),'host':_0x3fd6c8[_0x1a6b14(0x3c3)]},_0x57a743=new WebSocket(_0x1a6b14(0x6a6)+_0x394b43,{'followRedirects':!![],'headers':_0x54c69d}),_0x208396=_0x57a743[_0x1a6b14(0x23b)];assert[_0x1a6b14(0x513)](_0x208396[_0x1a6b14(0x117)](_0x3fd6c8[_0x1a6b14(0x3b9)]),_0x54c69d[_0x1a6b14(0x11d)]),assert[_0x1a6b14(0x513)](_0x208396[_0x1a6b14(0x117)](_0x3fd6c8[_0x1a6b14(0x609)]),_0x54c69d[_0x1a6b14(0x28c)]),assert['strictEqual'](_0x208396[_0x1a6b14(0x117)](_0x1a6b14(0x144)),_0x54c69d[_0x1a6b14(0x4a3)]),_0x57a743['on'](_0x1a6b14(0x521),_0x4a5f4e=>{const _0x3d9558=_0x1a6b14;assert[_0x3d9558(0x513)](_0x4a5f4e,0x3ed),assert[_0x3d9558(0x513)](_0x57a743[_0x3d9558(0x40b)],'ws+unix:'+_0x53e15f),assert[_0x3d9558(0x513)](_0x57a743['_redirects'],0x1),_0x38000e[_0x3d9558(0x521)](),_0xa32ba3[_0x3d9558(0x521)](_0x1bf62c);});}}),it(_0x1884b5['mQxKu'],_0x500cfd=>{const _0x3b5057=_0x4f53a0,_0x469adf=http[_0x3b5057(0x4f4)](),_0x2fc52a=http['createServer'](),_0x3f72b5=new WebSocket[(_0x3b5057(0x5ec))]({'server':_0x2fc52a});_0x3f72b5['on']('connection',(_0x3b1649,_0x3d88a1)=>{const _0x1f7df7=_0x3b5057;assert[_0x1f7df7(0x513)](_0x3d88a1[_0x1f7df7(0x3ee)][_0x1f7df7(0x11d)],undefined),assert[_0x1f7df7(0x513)](_0x3d88a1[_0x1f7df7(0x3ee)][_0x1f7df7(0x28c)],undefined),assert[_0x1f7df7(0x513)](_0x3d88a1[_0x1f7df7(0x3ee)][_0x1f7df7(0x4a3)],'localhost:'+_0x2fc52a[_0x1f7df7(0x5b5)]()[_0x1f7df7(0x217)]),_0x3b1649[_0x1f7df7(0x521)]();});const _0x423161=crypto['randomBytes'](0x10)[_0x3b5057(0x241)](_0x4c69cd[_0x3b5057(0x4b1)]),_0x30312f=_0x4c69cd[_0x3b5057(0x587)](process[_0x3b5057(0x18b)],_0x3b5057(0x5f2))?_0x3b5057(0x4b9)+_0x423161:path['join'](os[_0x3b5057(0x28a)](),_0x3b5057(0x686)+_0x423161+_0x3b5057(0x242));_0x469adf['listen'](_0x30312f,_0x21d40a),_0x2fc52a[_0x3b5057(0x6b7)](0x0,_0x21d40a);let _0x188830=0x0;function _0x21d40a(){const _0x48dd03=_0x3b5057;if(++_0x188830!==0x2)return;const _0x2c5585=_0x2fc52a['address']()[_0x48dd03(0x217)];_0x469adf['on'](_0x3fd6c8[_0x48dd03(0x2ae)],(_0x173870,_0xe17f7)=>{const _0x4092f0=_0x48dd03;_0xe17f7[_0x4092f0(0x17f)]('HTTP/1.1\x20302\x20Found\x0d\x0aLocation:\x20ws://localhost:'+_0x2c5585+'\x0d\x0a\x0d\x0a');});const _0x74c5a5={'authorization':_0x3fd6c8[_0x48dd03(0x292)],'cookie':_0x3fd6c8[_0x48dd03(0x5be)],'host':_0x48dd03(0x72b)},_0x1ff60f=new WebSocket(_0x48dd03(0x6a6)+_0x30312f,{'followRedirects':!![],'headers':_0x74c5a5}),_0x25dbdf=_0x1ff60f[_0x48dd03(0x23b)];assert['strictEqual'](_0x25dbdf[_0x48dd03(0x117)](_0x48dd03(0x30a)),_0x74c5a5[_0x48dd03(0x11d)]),assert['strictEqual'](_0x25dbdf[_0x48dd03(0x117)](_0x3fd6c8[_0x48dd03(0x609)]),_0x74c5a5[_0x48dd03(0x28c)]),assert[_0x48dd03(0x513)](_0x25dbdf[_0x48dd03(0x117)](_0x48dd03(0x144)),_0x74c5a5['host']),_0x1ff60f['on'](_0x3fd6c8['LbvYq'],_0x2d8011=>{const _0x1f8db0=_0x48dd03,_0x223664=_0x1f8db0(0x611)[_0x1f8db0(0x1fb)]('|');let _0xcdeba3=0x0;while(!![]){switch(_0x223664[_0xcdeba3++]){case'0':assert['strictEqual'](_0x2d8011,0x3ed);continue;case'1':assert[_0x1f8db0(0x513)](_0x1ff60f[_0x1f8db0(0x40b)],'ws://localhost:'+_0x2c5585+'/');continue;case'2':assert[_0x1f8db0(0x513)](_0x1ff60f['_redirects'],0x1);continue;case'3':_0x2fc52a[_0x1f8db0(0x521)](_0x500cfd);continue;case'4':_0x469adf[_0x1f8db0(0x521)]();continue;}break;}});}});}),describe(_0x389485[_0x444cd3(0x501)],()=>{const _0x23ba2d=_0x444cd3,_0x519739={'jfoOR':_0x4c69cd['egDia'],'YbUMH':'Authorization','ykQDj':_0x4c69cd[_0x23ba2d(0x148)],'kMGZx':'foo=bar','QlLQq':_0x4c69cd[_0x23ba2d(0x33a)]};it(_0x4c69cd[_0x23ba2d(0x68d)],_0x52f252=>{const _0xe876b4=_0x23ba2d,_0x41df68={'xmCMe':_0xe876b4(0x521),'ZJvKj':_0x519739[_0xe876b4(0x155)],'UOGxL':_0x519739['YbUMH'],'dcrLH':_0x519739[_0xe876b4(0x5d3)]},_0xb94c0c={'authorization':_0xe876b4(0x3cf),'cookie':_0x519739[_0xe876b4(0x25b)],'host':_0x519739[_0xe876b4(0x5bd)]},_0x1f70ae=new WebSocket[(_0xe876b4(0x5ec))]({'port':0x0},()=>{const _0x387535=_0xe876b4,_0x1ce806={'fzFGS':function(_0x4e9b17,_0x1f57ec){return _0x4e9b17+_0x1f57ec;},'WFrBU':'Cookie','icHlH':_0x41df68['xmCMe'],'UmBgM':_0x41df68['ZJvKj']},_0x1f7f6b=_0x1f70ae[_0x387535(0x5b5)]()['port'];_0x41d626['once'](_0x387535(0x4c8),(_0x26d887,_0x186ada)=>{const _0x4163ae=_0x387535;_0x186ada['end'](_0x1ce806['fzFGS']('HTTP/1.1\x20302\x20Found\x0d\x0a',_0x4163ae(0x6c1)+_0x1f7f6b+'/\x0d\x0a\x0d\x0a'));});const _0x25767a=new WebSocket(_0x387535(0x40c)+_0x41d626[_0x387535(0x5b5)]()[_0x387535(0x217)],{'followRedirects':!![],'headers':_0xb94c0c}),_0x55f306=_0x25767a['_req'];assert[_0x387535(0x513)](_0x55f306[_0x387535(0x117)](_0x41df68[_0x387535(0x5af)]),_0xb94c0c[_0x387535(0x11d)]),assert[_0x387535(0x513)](_0x55f306[_0x387535(0x117)](_0x41df68[_0x387535(0x3ea)]),_0xb94c0c[_0x387535(0x28c)]),assert['strictEqual'](_0x55f306['getHeader']('Host'),_0xb94c0c[_0x387535(0x4a3)]),_0x25767a['on'](_0x387535(0x679),(_0x2eba3c,_0x29e1de)=>{const _0x2a6b82=_0x387535,_0x13934a=_0x2a6b82(0x23d)[_0x2a6b82(0x1fb)]('|');let _0x49466e=0x0;while(!![]){switch(_0x13934a[_0x49466e++]){case'0':assert[_0x2a6b82(0x513)](_0x29e1de[_0x2a6b82(0x117)](_0x1ce806['WFrBU']),_0xb94c0c[_0x2a6b82(0x28c)]);continue;case'1':assert['notStrictEqual'](_0x55f306,_0x29e1de);continue;case'2':assert['strictEqual'](_0x25767a[_0x2a6b82(0x393)],0x1);continue;case'3':_0x25767a['on'](_0x1ce806[_0x2a6b82(0x2ac)],_0x4526c9=>{const _0x4a74d0=_0x2a6b82;assert[_0x4a74d0(0x513)](_0x4526c9,0x3ed),_0x1f70ae[_0x4a74d0(0x521)](_0x52f252);});continue;case'4':assert[_0x2a6b82(0x513)](_0x29e1de[_0x2a6b82(0x117)](_0x1ce806[_0x2a6b82(0x6cc)]),_0xb94c0c[_0x2a6b82(0x4a3)]);continue;case'5':assert[_0x2a6b82(0x513)](_0x2eba3c,_0x2a6b82(0x40c)+_0x1f7f6b+'/');continue;case'6':assert[_0x2a6b82(0x513)](_0x29e1de['getHeader'](_0x2a6b82(0x30a)),_0xb94c0c[_0x2a6b82(0x11d)]);continue;}break;}});});_0x1f70ae['on'](_0xe876b4(0x3b0),(_0x3d0b60,_0x13e963)=>{const _0x5e8d5e=_0xe876b4;assert[_0x5e8d5e(0x513)](_0x13e963[_0x5e8d5e(0x3ee)]['authorization'],_0xb94c0c[_0x5e8d5e(0x11d)]),assert[_0x5e8d5e(0x513)](_0x13e963[_0x5e8d5e(0x3ee)][_0x5e8d5e(0x28c)],_0xb94c0c[_0x5e8d5e(0x28c)]),assert['strictEqual'](_0x13e963[_0x5e8d5e(0x3ee)][_0x5e8d5e(0x4a3)],_0xb94c0c[_0x5e8d5e(0x4a3)]),_0x3d0b60[_0x5e8d5e(0x521)]();});});});}),describe(_0x389485[_0x78594d(0x711)],()=>{const _0x57d887=_0x78594d,_0x3f8624={'LjrIj':_0x389485[_0x57d887(0x36d)],'oPGOS':_0x389485[_0x57d887(0x336)],'KzczY':'socket','CqCGn':'dzcMG'};_0x389485[_0x57d887(0x38a)](it,_0x389485[_0x57d887(0x52e)],_0x53586a=>{const _0x3a14b9=_0x57d887,_0x143d5c={'SNUtm':function(_0x3761ef,_0xf8f34d){return _0x3761ef===_0xf8f34d;}};if(_0x1884b5[_0x3a14b9(0x5f9)]!==_0x1884b5['uqDfq']){const _0x4e300f=new _0x59d610(_0x3f8624['LjrIj'],{'agent':new _0x1b3dfd()});_0x41ecc1[_0x3a14b9(0x513)](_0x4e300f[_0x3a14b9(0x637)],0x0);}else{_0x41d626[_0x3a14b9(0x1cc)](_0x3a14b9(0x4c8),(_0x1d4f2f,_0x3d923e)=>{const _0x2c1b51=_0x3a14b9;_0x3d923e[_0x2c1b51(0x17f)](_0x2c1b51(0x145));});const _0x26b835=_0x41d626[_0x3a14b9(0x5b5)]()['port'],_0x476d7f=new WebSocket(_0x3a14b9(0x40c)+_0x26b835,{'followRedirects':!![]});_0x476d7f['on'](_0x3a14b9(0x679),(_0x1ff529,_0x5aeb21)=>{const _0x24ca68=_0x3a14b9,_0x1c7f2d={'UPrzw':_0x3f8624[_0x24ca68(0x6a4)]};assert[_0x24ca68(0x513)](_0x476d7f[_0x24ca68(0x393)],0x1),assert[_0x24ca68(0x513)](_0x1ff529,'ws://localhost:'+_0x26b835+_0x24ca68(0x37e)),_0x5aeb21['on'](_0x3f8624['KzczY'],()=>{const _0x4aa320=_0x24ca68;if(_0x143d5c['SNUtm'](_0x4aa320(0x231),'rqBwl')){const _0x2dce5=new _0x3b6c53('ws://localhost:'+_0x52f9a0[_0x4aa320(0x5b5)]()[_0x4aa320(0x217)]);_0x2dce5['on']('upgrade',_0x3ac957=>{const _0x1c0eb3=_0x4aa320;_0x350db0['ok'](_0x3ac957 instanceof _0x183bcc[_0x1c0eb3(0x4c6)]),_0xf93d8b[_0x1c0eb3(0x521)](_0x43cdbd);});}else _0x5aeb21[_0x4aa320(0x151)]();}),_0x476d7f['on'](_0x24ca68(0x747),_0x5a2042=>{const _0x480a4d=_0x24ca68;assert['ok'](_0x5a2042 instanceof Error),assert[_0x480a4d(0x513)](_0x5a2042[_0x480a4d(0x474)],_0x480a4d(0x394)),_0x476d7f['on'](_0x480a4d(0x521),_0x52d8a0=>{const _0xc155f3=_0x480a4d,_0x5ac6a1={'gUYRj':'message'};'vCsLO'!==_0x1c7f2d[_0xc155f3(0x6b9)]?(assert['strictEqual'](_0x52d8a0,0x3ee),_0x53586a()):(_0x8a4b7a['ok'](_0x3afbc1 instanceof _0x1fed8f),_0x520391[_0xc155f3(0x513)](_0x517be7['type'],_0x5ac6a1[_0xc155f3(0x3aa)]),_0x5cdc37[_0xc155f3(0x513)](_0x292474[_0xc155f3(0x60b)],_0x1d2cf7),_0x567a31['close']());});});});}}),it(_0x57d887(0x556),_0x59b2de=>{const _0x109270=_0x57d887,_0x2ecb76={'RSRWk':function(_0x28cd77,_0x841bca){return _0x28cd77===_0x841bca;},'DuzOz':_0x109270(0x30a),'zeXkv':_0x109270(0x521),'ufJER':_0x3f8624[_0x109270(0x3de)],'reKLC':_0x109270(0x3cf),'qQAki':'redirect'},_0x318dd1=new WebSocket['Server']({'port':0x0},()=>{const _0x558337=_0x109270,_0xef2206={'SXMaS':_0x2ecb76[_0x558337(0x3b3)],'iiNxK':_0x558337(0x11d),'Zvkud':_0x2ecb76[_0x558337(0x348)]};if(_0x2ecb76['ufJER']===_0x558337(0x6ad)){const _0x37ecc5=_0x318dd1[_0x558337(0x5b5)]()['port'];_0x41d626[_0x558337(0x1cc)](_0x558337(0x4c8),(_0x1f3997,_0x222639)=>{const _0x4ef0fa=_0x558337;_0x2ecb76[_0x4ef0fa(0x6fc)](_0x4ef0fa(0x71b),_0x4ef0fa(0x71b))?_0x222639[_0x4ef0fa(0x17f)](_0x4ef0fa(0x61b)+(_0x4ef0fa(0x6c1)+_0x37ecc5+_0x4ef0fa(0x121))):(_0x45b5f4[_0x4ef0fa(0x513)](_0x4df182,0x3ed),_0x16263c['deepStrictEqual'](_0x3a7bdd,_0x28f52a),_0x34992e[_0x4ef0fa(0x521)](_0x4184ed));});const _0x3d6b3e={'authorization':_0x2ecb76[_0x558337(0x5bf)],'cookie':_0x558337(0x46e)},_0x156591=new WebSocket(_0x558337(0x40c)+_0x41d626[_0x558337(0x5b5)]()['port'],{'followRedirects':!![],'headers':_0x3d6b3e});_0x156591['on'](_0x2ecb76[_0x558337(0x71a)],(_0x4e8b63,_0x2d1f9e)=>{const _0x1e8134=_0x558337;assert[_0x1e8134(0x513)](_0x156591['_redirects'],0x1),assert[_0x1e8134(0x513)](_0x4e8b63,_0x1e8134(0x40c)+_0x37ecc5+'/'),assert[_0x1e8134(0x513)](_0x2d1f9e['getHeader'](_0xef2206['SXMaS']),_0x3d6b3e['authorization']),assert[_0x1e8134(0x513)](_0x2d1f9e[_0x1e8134(0x117)]('Cookie'),_0x3d6b3e[_0x1e8134(0x28c)]),_0x2d1f9e[_0x1e8134(0x495)](_0xef2206[_0x1e8134(0x5fe)]),_0x2d1f9e[_0x1e8134(0x495)](_0x1e8134(0x28c)),_0x156591['on'](_0xef2206[_0x1e8134(0x1a0)],_0x109498=>{const _0x550726=_0x1e8134;assert[_0x550726(0x513)](_0x109498,0x3ed),_0x318dd1[_0x550726(0x521)](_0x59b2de);});});}else _0x221ff3[_0x558337(0x513)](_0x58c774,0x3e8),_0x6bb486['deepStrictEqual'](_0x2c9a6d,_0x834441[_0x558337(0x6b2)](_0x558337(0x6b1))),_0x145a8c['close'](_0xa9c850);});_0x318dd1['on']('connection',(_0xf9a422,_0x560a74)=>{const _0x2e8e59=_0x109270;assert[_0x2e8e59(0x513)](_0x560a74[_0x2e8e59(0x3ee)]['authorization'],undefined),assert[_0x2e8e59(0x513)](_0x560a74['headers']['cookie'],undefined),_0xf9a422[_0x2e8e59(0x521)]();});});});}),_0x389485[_0x53100d(0x732)](describe,_0x389485[_0x53100d(0x31f)],()=>{const _0x4d1165=_0x53100d,_0x3cbaad={'dvHpC':_0x389485[_0x4d1165(0x1ac)],'IBPcB':_0x389485[_0x4d1165(0x648)],'sBycy':_0x389485[_0x4d1165(0x516)]};_0x389485[_0x4d1165(0x640)](it,_0x389485[_0x4d1165(0x6b0)],_0xb4ceb=>{const _0x39a453=_0x4d1165,_0x4c0b9e={'HbrMZ':_0x389485[_0x39a453(0x6d5)]};if(_0x39a453(0x619)==='scNGi'){const _0x9e1165=new WebSocket['Server']({'port':0x0},()=>{const _0x472b8d=_0x39a453,_0x48066c=new WebSocket(_0x472b8d(0x40c)+_0x9e1165[_0x472b8d(0x5b5)]()['port']);assert[_0x472b8d(0x513)](_0x48066c[_0x472b8d(0x459)],WebSocket['CONNECTING']),assert['ok'](!_0x48066c['isPaused']),_0x48066c[_0x472b8d(0x692)](),assert['ok'](!_0x48066c['isPaused']),_0x48066c['on']('open',()=>{const _0x3f6f5c=_0x472b8d;_0x48066c['on'](_0x3f6f5c(0x521),()=>{const _0x3bedba=_0x3f6f5c;assert[_0x3bedba(0x513)](_0x48066c[_0x3bedba(0x459)],WebSocket[_0x3bedba(0x282)]),_0x48066c[_0x3bedba(0x692)](),assert['ok'](!_0x48066c[_0x3bedba(0x49b)]),_0x9e1165[_0x3bedba(0x521)](_0xb4ceb);}),_0x48066c[_0x3f6f5c(0x521)]();});});}else{const _0x4a16a1=_0x24b1c8[_0x39a453(0x5b5)]()[_0x39a453(0x217)];_0x579b40[_0x39a453(0x1cc)](_0x3cbaad[_0x39a453(0x2c1)],(_0x124f30,_0x19f49c)=>{const _0x338b98=_0x39a453;_0x19f49c[_0x338b98(0x17f)](_0x4c0b9e[_0x338b98(0x2c4)]+('Location:\x20ws://localhost:'+_0x4a16a1+_0x338b98(0x121)));});const _0x2a0f03=new _0x33bc41(_0x39a453(0x40c)+_0x177a8c[_0x39a453(0x5b5)]()['port'],{'auth':_0x39a453(0x5bb),'followRedirects':!![]});_0x1c51b6['strictEqual'](_0x2a0f03['_req']['getHeader'](_0x3cbaad[_0x39a453(0x3f1)]),_0x3cbaad[_0x39a453(0x70a)]),_0x2a0f03['on'](_0x39a453(0x521),_0x30a615=>{const _0x178ab2=_0x39a453;_0xc02d98[_0x178ab2(0x513)](_0x30a615,0x3ed),_0x199d34[_0x178ab2(0x513)](_0x2a0f03[_0x178ab2(0x40b)],_0x178ab2(0x40c)+_0x4a16a1+'/'),_0x307e84[_0x178ab2(0x513)](_0x2a0f03[_0x178ab2(0x393)],0x1),_0x1fcd1b['close'](_0x6a4cbb);});}}),it('pauses\x20the\x20socket',_0x5d0683=>{const _0x57c967=new WebSocket['Server']({'port':0x0},()=>{const _0x221374=_0x397f,_0x418dbe=new WebSocket(_0x221374(0x40c)+_0x57c967[_0x221374(0x5b5)]()[_0x221374(0x217)]);});_0x57c967['on']('connection',_0x253d12=>{const _0x5e189a=_0x397f;assert['ok'](!_0x253d12['isPaused']),assert['ok'](!_0x253d12[_0x5e189a(0x52d)][_0x5e189a(0x49b)]()),_0x253d12[_0x5e189a(0x692)](),assert['ok'](_0x253d12[_0x5e189a(0x49b)]),assert['ok'](_0x253d12[_0x5e189a(0x52d)]['isPaused']()),_0x253d12['terminate'](),_0x57c967['close'](_0x5d0683);});});}),describe(_0x53100d(0x218),()=>{const _0x2d84b1=_0x53100d,_0x26e916={'drkzo':_0x2d84b1(0x521),'jWXOn':'ws://localhost','dlfQF':_0x389485[_0x2d84b1(0x599)],'pCWtW':_0x389485[_0x2d84b1(0x617)],'phbSi':_0x389485['hfPNk'],'ibddy':function(_0x271b69,_0x219df0){return _0x389485['oLZfJ'](_0x271b69,_0x219df0);},'UQxTt':_0x2d84b1(0x48b),'hPyMQ':_0x389485['emGNr'],'IeGvd':function(_0xc92caa,_0x30f101){const _0x139ef6=_0x2d84b1;return _0x389485[_0x139ef6(0x2e1)](_0xc92caa,_0x30f101);},'RiPuM':_0x389485[_0x2d84b1(0x5e7)],'GVPaZ':_0x2d84b1(0x747),'MfSLl':_0x389485[_0x2d84b1(0x3db)],'ZFsrD':'JhCKY'};it(_0x2d84b1(0x5f5),()=>{const _0x47ad2b=_0x2d84b1;if(_0x47ad2b(0x441)==='VATtD'){const _0x3666d1=new WebSocket(_0x26e916['jWXOn'],{'lookup'(){}});assert['throws'](()=>_0x3666d1[_0x47ad2b(0x3ca)](),/^Error: WebSocket is not open: readyState 0 \(CONNECTING\)$/),assert['throws'](()=>_0x3666d1[_0x47ad2b(0x3ca)](NOOP),/^Error: WebSocket is not open: readyState 0 \(CONNECTING\)$/);}else{const _0x566f3f={'fin':!![],'mask':!![],'readOnly':![]},_0x2cfe78=[..._0x29dd36[_0x47ad2b(0x720)](_0x4325db[_0x47ad2b(0x37c)](0x10*0x400),{'opcode':0x2,..._0x566f3f}),..._0x4e0d83[_0x47ad2b(0x720)](_0x4566cb,{'opcode':0x8,..._0x566f3f})];_0x6532a0['on'](_0x26e916[_0x47ad2b(0x39f)],(_0x36b550,_0x704d4a)=>{const _0x4691c0=_0x47ad2b;_0x1cf1fe[_0x4691c0(0x513)](_0x36b550,0x3ed),_0x7ba2dc[_0x4691c0(0x513)](_0x704d4a,_0x55ab0d),_0x28dbb2[_0x4691c0(0x521)](_0x5a7c76);}),_0x4c9df6[_0x47ad2b(0x52d)]['push'](_0x284410[_0x47ad2b(0x374)](_0x2cfe78));}}),it('increases\x20`bufferedAmount`\x20if\x20`readyState`\x20is\x202\x20or\x203',_0x8ff9d6=>{const _0xa25ae=_0x2d84b1,_0x4dc74f=new WebSocket(_0xa25ae(0x5ca),{'lookup'(){}});_0x4dc74f['on'](_0x389485[_0xa25ae(0x1a9)],_0x5e07bc=>{const _0x3e85eb=_0xa25ae;if(_0x3e85eb(0x22e)===_0x26e916[_0x3e85eb(0x275)])_0x5e7098['close'](_0x160099);else{const _0x4f00f7=_0x26e916[_0x3e85eb(0x2fb)][_0x3e85eb(0x1fb)]('|');let _0x52352f=0x0;while(!![]){switch(_0x4f00f7[_0x52352f++]){case'0':assert['strictEqual'](_0x5e07bc[_0x3e85eb(0x474)],_0x3e85eb(0x35f));continue;case'1':assert['strictEqual'](_0x4dc74f['bufferedAmount'],0x0);continue;case'2':assert[_0x3e85eb(0x513)](_0x4dc74f['bufferedAmount'],0x2);continue;case'3':_0x4dc74f['ping']('hi');continue;case'4':_0x4dc74f['on'](_0x3e85eb(0x521),()=>{const _0x3fff63=_0x3e85eb;assert[_0x3fff63(0x513)](_0x4dc74f['readyState'],WebSocket[_0x3fff63(0x282)]),_0x4dc74f['ping']('hi'),assert['strictEqual'](_0x4dc74f[_0x3fff63(0x637)],0x4),_0x4dc74f[_0x3fff63(0x3ca)](),assert[_0x3fff63(0x513)](_0x4dc74f['bufferedAmount'],0x4),_0x8ff9d6();});continue;case'5':assert[_0x3e85eb(0x513)](_0x4dc74f['readyState'],WebSocket['CLOSING']);continue;case'6':assert['ok'](_0x5e07bc instanceof Error);continue;case'7':_0x4dc74f[_0x3e85eb(0x3ca)]();continue;case'8':assert[_0x3e85eb(0x513)](_0x4dc74f['bufferedAmount'],0x2);continue;}break;}}}),_0x4dc74f['close']();}),it(_0x2d84b1(0x1c2),_0x50015f=>{const _0x3de8cf=_0x2d84b1,_0x4fff20=new WebSocket['Server']({'port':0x0},()=>{const _0x4adb40=_0x397f,_0x394e7e=new WebSocket(_0x4adb40(0x40c)+_0x4fff20[_0x4adb40(0x5b5)]()[_0x4adb40(0x217)]);});_0x4fff20['on'](_0x3de8cf(0x3b0),_0x2b2f7d=>{const _0x1891cb=_0x3de8cf,_0x5833aa={'RZAaE':_0x26e916[_0x1891cb(0x299)],'KTSbr':function(_0x3c5258,_0x37bafb){return _0x26e916['ibddy'](_0x3c5258,_0x37bafb);},'gFsKn':function(_0x2ecac5,_0x4cbfd1){return _0x26e916['ibddy'](_0x2ecac5,_0x4cbfd1);}};_0x2b2f7d[_0x1891cb(0x521)](),assert[_0x1891cb(0x513)](_0x2b2f7d[_0x1891cb(0x637)],0x0),_0x2b2f7d[_0x1891cb(0x3ca)]('hi',_0x242de6=>{const _0x44d69f=_0x1891cb,_0x254ccc={'PvOKg':function(_0x8748f5,_0x3b9077){return _0x8748f5===_0x3b9077;},'dLjlV':_0x5833aa[_0x44d69f(0x61a)],'BHOEl':function(_0x42fc23,_0x283bdb){const _0x23a212=_0x44d69f;return _0x5833aa[_0x23a212(0x6e3)](_0x42fc23,_0x283bdb);},'PLuDx':_0x44d69f(0x521),'EvNhi':'SWijJ'};assert['ok'](_0x5833aa['gFsKn'](_0x242de6,Error)),assert['strictEqual'](_0x242de6['message'],_0x44d69f(0x3fd)),assert[_0x44d69f(0x513)](_0x2b2f7d['bufferedAmount'],0x2),_0x2b2f7d['on'](_0x44d69f(0x521),()=>{const _0x1868e8=_0x44d69f;if(_0x254ccc['EvNhi']!=='DhOPq')_0x2b2f7d[_0x1868e8(0x3ca)](_0xf53d7d=>{const _0x374b94=_0x1868e8,_0x2dc6da={'LuKSF':_0x374b94(0x474)};_0x254ccc[_0x374b94(0x12a)](_0x254ccc[_0x374b94(0x559)],_0x254ccc[_0x374b94(0x559)])?(assert['ok'](_0x254ccc[_0x374b94(0x45a)](_0xf53d7d,Error)),assert[_0x374b94(0x513)](_0xf53d7d['message'],_0x374b94(0x20e)),assert[_0x374b94(0x513)](_0x2b2f7d['bufferedAmount'],0x2),_0x4fff20['close'](_0x50015f)):_0x3d9863['on'](_0x2dc6da['LuKSF'],(_0xaa1e1c,_0x562a1b)=>{const _0x3b79bc=_0x374b94;_0x43a57f[_0x3b79bc(0x236)](_0xaa1e1c,_0xbabea5[_0x3b79bc(0x6b2)]('fragmentfragment')),_0x4e8b51['ok'](!_0x562a1b),_0x1f7e82[_0x3b79bc(0x521)](_0x5165ce);});});else{const _0x913585={'Zxokj':function(_0x199d30){return _0x199d30();}};_0x182e98['ok'](_0x21261b instanceof _0x36f5e2),_0x1937c0[_0x1868e8(0x513)](_0x25ba38[_0x1868e8(0x474)],_0x1868e8(0x35f)),_0x4c1d4a[_0x1868e8(0x513)](_0x3b187b[_0x1868e8(0x459)],_0xe0de2d[_0x1868e8(0x3c8)]),_0x4b3444[_0x1868e8(0x513)](_0x5d6a77[_0x1868e8(0x637)],0x0),_0xe8b54d[_0x1868e8(0x3bb)]('hi'),_0x14502b[_0x1868e8(0x513)](_0x1e8276[_0x1868e8(0x637)],0x2),_0xf64955[_0x1868e8(0x3bb)](),_0x284ddf['strictEqual'](_0x182d82['bufferedAmount'],0x2),_0x308595['on'](_0x254ccc[_0x1868e8(0x46a)],()=>{const _0x43a3d1=_0x1868e8;_0x5bc3c8[_0x43a3d1(0x513)](_0x2a313a[_0x43a3d1(0x459)],_0x52af2c[_0x43a3d1(0x282)]),_0x501e4a[_0x43a3d1(0x3bb)]('hi'),_0x376985[_0x43a3d1(0x513)](_0x299bda['bufferedAmount'],0x4),_0x582675[_0x43a3d1(0x3bb)](),_0x4efb19[_0x43a3d1(0x513)](_0x4b6014[_0x43a3d1(0x637)],0x4),_0x913585['Zxokj'](_0x55c522);});}});});});}),_0x389485[_0x2d84b1(0x139)](it,_0x389485[_0x2d84b1(0x245)],_0x2f3368=>{const _0x4cea2b=_0x2d84b1,_0x1f0ae9=new WebSocket['Server']({'port':0x0},()=>{const _0x2da834=_0x397f;if(_0x26e916[_0x2da834(0x37f)]!==_0x26e916['hPyMQ']){const _0x38e34d=new WebSocket(_0x2da834(0x40c)+_0x1f0ae9['address']()[_0x2da834(0x217)]);_0x38e34d['on'](_0x2da834(0x6e1),()=>{const _0x3e5041=_0x2da834;_0x38e34d[_0x3e5041(0x3ca)](()=>{const _0x24aca5=_0x3e5041;_0x38e34d[_0x24aca5(0x3ca)](),_0x38e34d[_0x24aca5(0x521)]();});});}else _0x3fbb05['on'](_0x2da834(0x474),(_0x318b5f,_0x4b9ba9)=>{_0x4099ee['send'](_0x318b5f,{'binary':_0x4b9ba9});});});_0x1f0ae9['on'](_0x389485[_0x4cea2b(0x180)],_0x2eeedd=>{const _0x4d3fd5=_0x4cea2b,_0x43dd9c={'kMGVs':function(_0x414848,_0x2d267e){const _0x429ba8=_0x397f;return _0x26e916[_0x429ba8(0x4a1)](_0x414848,_0x2d267e);}};let _0x21a19f=0x0;_0x2eeedd['on'](_0x26e916[_0x4d3fd5(0x1eb)],_0x2265d9=>{const _0x5b4ca5=_0x4d3fd5;assert['ok'](Buffer['isBuffer'](_0x2265d9)),assert[_0x5b4ca5(0x513)](_0x2265d9[_0x5b4ca5(0x4e2)],0x0);if(_0x43dd9c[_0x5b4ca5(0x508)](++_0x21a19f,0x2))_0x1f0ae9[_0x5b4ca5(0x521)](_0x2f3368);});});}),_0x389485[_0x2d84b1(0x67d)](it,_0x389485[_0x2d84b1(0x360)],_0x35b030=>{const _0x3d4d27=_0x2d84b1,_0x516834={'WMcxL':_0x3d4d27(0x6e1)},_0x121131=new WebSocket[(_0x3d4d27(0x5ec))]({'port':0x0},()=>{const _0x211d19=_0x3d4d27,_0x20e42e=new WebSocket(_0x211d19(0x40c)+_0x121131[_0x211d19(0x5b5)]()[_0x211d19(0x217)]);_0x20e42e['on'](_0x516834[_0x211d19(0x694)],()=>{_0x20e42e['ping']('hi',()=>{const _0x522aa0=_0x397f;_0x20e42e[_0x522aa0(0x3ca)]('hi',!![]),_0x20e42e[_0x522aa0(0x521)]();});});});_0x121131['on']('connection',_0x44a5b4=>{const _0x33c150=_0x3d4d27;let _0x5bd69d=0x0;_0x44a5b4['on'](_0x26e916[_0x33c150(0x1eb)],_0x3343a3=>{const _0x172974=_0x33c150;assert[_0x172974(0x513)](_0x3343a3[_0x172974(0x241)](),'hi');if(++_0x5bd69d===0x2)_0x121131[_0x172974(0x521)](_0x35b030);});});}),it(_0x389485[_0x2d84b1(0x718)],_0x303c8e=>{const _0xfea8db=_0x2d84b1,_0x3bf8e9={'TINJg':_0xfea8db(0x6e1),'CaWBz':'ping'};if(_0xfea8db(0x5df)!==_0xfea8db(0x382)){const _0xcb4fd9=new WebSocket[(_0xfea8db(0x5ec))]({'port':0x0},()=>{const _0x1ff639=_0xfea8db,_0x7e6680=new WebSocket(_0x1ff639(0x40c)+_0xcb4fd9['address']()[_0x1ff639(0x217)]);_0x7e6680['on'](_0x3bf8e9[_0x1ff639(0x35b)],()=>{const _0x25369c=_0x1ff639;_0x7e6680[_0x25369c(0x3ca)](0x0),_0x7e6680['close']();});});_0xcb4fd9['on']('connection',_0x21e2d9=>{const _0x167922=_0xfea8db;_0x21e2d9['on'](_0x3bf8e9[_0x167922(0x3d0)],_0x7e999d=>{const _0x38fa1b=_0x167922;assert[_0x38fa1b(0x513)](_0x7e999d[_0x38fa1b(0x241)](),'0'),_0xcb4fd9[_0x38fa1b(0x521)](_0x303c8e);});});}else _0x5870df['strictEqual'](_0x2f3b08,0x3ee),_0x59d523[_0xfea8db(0x513)](_0x43c082,_0x456173),_0x56cfd5[_0xfea8db(0x521)](_0x168865);}),it(_0x2d84b1(0x3e7),_0x2745f3=>{const _0x4c0342=_0x2d84b1;if(_0x26e916['ZFsrD']!==_0x26e916[_0x4c0342(0x491)]){const _0x5147ad=new _0x46ef97(_0x4c0342(0x40c)+_0xf6a4e2[_0x4c0342(0x5b5)]()['port']);_0x5147ad['on']('open',()=>{const _0x51df6b=_0x4c0342;_0x479ac5['throws'](()=>_0x5147ad['ping'](_0x30e355[_0x51df6b(0x37c)](0x7e)),/^RangeError: The data size must not be greater than 125 bytes$/),_0x487a20['close'](_0x2d3db7);});}else{const _0x4bf7d6=new WebSocket[(_0x4c0342(0x5ec))]({'port':0x0},()=>{const _0xc78a6a=_0x4c0342,_0x4a1baa=new WebSocket(_0xc78a6a(0x40c)+_0x4bf7d6[_0xc78a6a(0x5b5)]()[_0xc78a6a(0x217)]);_0x4a1baa['on'](_0xc78a6a(0x6e1),()=>{const _0xd1216b=_0xc78a6a;assert[_0xd1216b(0x432)](()=>_0x4a1baa[_0xd1216b(0x3ca)](Buffer[_0xd1216b(0x37c)](0x7e)),/^RangeError: The data size must not be greater than 125 bytes$/),_0x4bf7d6['close'](_0x2745f3);});});_0x4bf7d6['on'](_0x4c0342(0x3b0),_0x3a857b=>{const _0x4ecdf7=_0x4c0342,_0x36b417={'UkLmb':function(_0x5406e3,_0x2e158e){return _0x5406e3 instanceof _0x2e158e;},'RjwTA':_0x26e916[_0x4ecdf7(0x40d)]};if(_0x26e916[_0x4ecdf7(0x488)]===_0x26e916[_0x4ecdf7(0x488)])_0x3a857b['close']();else{const _0x50259c={'NbfGL':_0x4ecdf7(0x25e),'hktAq':_0x4ecdf7(0x521),'deYij':function(_0x350dfa,_0x2f1d39){const _0x405a8b=_0x4ecdf7;return _0x36b417[_0x405a8b(0x6e8)](_0x350dfa,_0x2f1d39);}},_0x5465b4=new _0x5ae540(_0x4ecdf7(0x5ca),{'lookup'(){}});_0x5465b4['on'](_0x36b417[_0x4ecdf7(0x3b1)],_0x8e6d08=>{const _0x8d27e6=_0x4ecdf7,_0x3bb824=_0x50259c[_0x8d27e6(0x601)][_0x8d27e6(0x1fb)]('|');let _0x590bdb=0x0;while(!![]){switch(_0x3bb824[_0x590bdb++]){case'0':_0x427309[_0x8d27e6(0x513)](_0x5465b4['bufferedAmount'],0x0);continue;case'1':_0x5465b4[_0x8d27e6(0x1d4)]();continue;case'2':_0x198c66[_0x8d27e6(0x513)](_0x5465b4[_0x8d27e6(0x459)],_0x57d228['CLOSING']);continue;case'3':_0x573aa9[_0x8d27e6(0x513)](_0x8e6d08[_0x8d27e6(0x474)],_0x8d27e6(0x35f));continue;case'4':_0x3d2396[_0x8d27e6(0x513)](_0x5465b4[_0x8d27e6(0x637)],0x2);continue;case'5':_0x5465b4['on'](_0x50259c[_0x8d27e6(0x454)],()=>{const _0x45b9c7=_0x8d27e6;_0x4c755c['strictEqual'](_0x5465b4[_0x45b9c7(0x459)],_0x5a4678[_0x45b9c7(0x282)]),_0x5465b4[_0x45b9c7(0x1d4)]('hi'),_0x511428[_0x45b9c7(0x513)](_0x5465b4[_0x45b9c7(0x637)],0x4),_0x5465b4[_0x45b9c7(0x1d4)](),_0x54fc56[_0x45b9c7(0x513)](_0x5465b4[_0x45b9c7(0x637)],0x4),_0x18911a();});continue;case'6':_0x3fd030['strictEqual'](_0x5465b4[_0x8d27e6(0x637)],0x2);continue;case'7':_0x5a35d3['ok'](_0x50259c[_0x8d27e6(0x741)](_0x8e6d08,_0x4d75df));continue;case'8':_0x5465b4['pong']('hi');continue;}break;}}),_0x5465b4['close']();}});}});}),describe(_0x53100d(0x2e4),()=>{const _0x510566=_0x53100d,_0x1534f8={'bUFNQ':_0x510566(0x5ca),'aoTBO':function(_0x566b1a,_0x34afcd){return _0x566b1a instanceof _0x34afcd;},'rruqU':_0x510566(0x35f),'uXujD':'error','JWTdM':function(_0x11cb3b,_0x48385c){return _0x11cb3b instanceof _0x48385c;},'cNAqq':_0x389485['urEeD'],'YuknZ':_0x510566(0x72b),'oQkMZ':_0x389485[_0x510566(0x180)],'JsexK':_0x389485[_0x510566(0x740)],'KFvrh':_0x389485['LVKqW'],'xvYFc':'pong','juzMn':_0x389485['Xigcb']};_0x389485[_0x510566(0x490)](it,_0x389485['pNaCh'],()=>{const _0x51b102=_0x510566,_0x5d5675=new WebSocket(_0x1534f8[_0x51b102(0x25f)],{'lookup'(){}});assert['throws'](()=>_0x5d5675[_0x51b102(0x1d4)](),/^Error: WebSocket is not open: readyState 0 \(CONNECTING\)$/),assert[_0x51b102(0x432)](()=>_0x5d5675[_0x51b102(0x1d4)](NOOP),/^Error: WebSocket is not open: readyState 0 \(CONNECTING\)$/);}),_0x389485[_0x510566(0x6b6)](it,_0x389485[_0x510566(0x5cd)],_0x1535b2=>{const _0x21b248=_0x510566,_0x2dc254={'HgRrw':function(_0x2712cc,_0x3b54a1){const _0x59a63a=_0x397f;return _0x1534f8[_0x59a63a(0x607)](_0x2712cc,_0x3b54a1);},'XuWwC':_0x1534f8['rruqU']},_0x26050f=new WebSocket(_0x1534f8[_0x21b248(0x25f)],{'lookup'(){}});_0x26050f['on'](_0x1534f8['uXujD'],_0x447888=>{const _0x4dbeb0=_0x21b248,_0x48a241={'vcJad':function(_0x4c18ef){return _0x4c18ef();}};assert['ok'](_0x2dc254['HgRrw'](_0x447888,Error)),assert[_0x4dbeb0(0x513)](_0x447888[_0x4dbeb0(0x474)],_0x2dc254[_0x4dbeb0(0x697)]),assert[_0x4dbeb0(0x513)](_0x26050f[_0x4dbeb0(0x459)],WebSocket[_0x4dbeb0(0x3c8)]),assert[_0x4dbeb0(0x513)](_0x26050f[_0x4dbeb0(0x637)],0x0),_0x26050f[_0x4dbeb0(0x1d4)]('hi'),assert[_0x4dbeb0(0x513)](_0x26050f[_0x4dbeb0(0x637)],0x2),_0x26050f[_0x4dbeb0(0x1d4)](),assert[_0x4dbeb0(0x513)](_0x26050f[_0x4dbeb0(0x637)],0x2),_0x26050f['on']('close',()=>{const _0x32c409=_0x4dbeb0,_0x501baa=_0x32c409(0x228)[_0x32c409(0x1fb)]('|');let _0x4dcbdc=0x0;while(!![]){switch(_0x501baa[_0x4dcbdc++]){case'0':assert['strictEqual'](_0x26050f[_0x32c409(0x459)],WebSocket[_0x32c409(0x282)]);continue;case'1':assert['strictEqual'](_0x26050f[_0x32c409(0x637)],0x4);continue;case'2':_0x48a241[_0x32c409(0x24c)](_0x1535b2);continue;case'3':assert[_0x32c409(0x513)](_0x26050f[_0x32c409(0x637)],0x4);continue;case'4':_0x26050f[_0x32c409(0x1d4)]('hi');continue;case'5':_0x26050f[_0x32c409(0x1d4)]();continue;}break;}});}),_0x26050f[_0x21b248(0x521)]();}),it(_0x510566(0x1c2),_0x23e73a=>{const _0x12f6ef=_0x510566,_0x32ed8a={'Jvvoh':_0x1534f8[_0x12f6ef(0x38f)]},_0x33756f=new WebSocket[(_0x12f6ef(0x5ec))]({'port':0x0},()=>{const _0x3ff88c=_0x12f6ef,_0x45c647={'UlGZs':_0x3ff88c(0x634),'czmOq':_0x3ff88c(0x721),'OWqXu':_0x3ff88c(0x20c),'YaXuG':_0x32ed8a['Jvvoh'],'spDNn':_0x3ff88c(0x1d3)};if(_0x3ff88c(0x284)===_0x3ff88c(0x284)){const _0x5935e6=new WebSocket(_0x3ff88c(0x40c)+_0x33756f[_0x3ff88c(0x5b5)]()[_0x3ff88c(0x217)]);}else{const _0x16d121=_0x45c647[_0x3ff88c(0x376)]['split']('|');let _0x1e6f00=0x0;while(!![]){switch(_0x16d121[_0x1e6f00++]){case'0':_0x188825[_0x3ff88c(0x20f)]['on'](_0x3ff88c(0x372),()=>{const _0x1e1276=_0x3ff88c;_0x3ff819['ok'](_0x22b30a[_0x1e1276(0x2b0)][_0x1e1276(0x5c6)]);});continue;case'1':_0x43ef28[_0x3ff88c(0x3bb)](_0x45c647[_0x3ff88c(0x21a)]);continue;case'2':_0x19516a['send'](_0x45c647['OWqXu']);continue;case'3':_0x2d90fc[_0x3ff88c(0x3bb)](_0x45c647[_0x3ff88c(0x1f3)]);continue;case'4':_0x1ed2ad[_0x3ff88c(0x3bb)](_0x45c647[_0x3ff88c(0x2d7)]);continue;}break;}}});_0x33756f['on'](_0x1534f8['oQkMZ'],_0x496060=>{const _0x1b384a=_0x12f6ef,_0x383acd={'NQUge':function(_0x2a22cb,_0xe47f4){const _0xe85444=_0x397f;return _0x1534f8[_0xe85444(0x728)](_0x2a22cb,_0xe47f4);},'VdnTr':_0x1534f8[_0x1b384a(0x305)]};_0x496060[_0x1b384a(0x521)](),assert[_0x1b384a(0x513)](_0x496060[_0x1b384a(0x637)],0x0),_0x496060[_0x1b384a(0x1d4)]('hi',_0x570e16=>{const _0x45e90c=_0x1b384a;assert['ok'](_0x383acd['NQUge'](_0x570e16,Error)),assert['strictEqual'](_0x570e16[_0x45e90c(0x474)],_0x45e90c(0x3fd)),assert[_0x45e90c(0x513)](_0x496060['bufferedAmount'],0x2),_0x496060['on'](_0x383acd[_0x45e90c(0x55a)],()=>{const _0x37e406=_0x45e90c;_0x496060[_0x37e406(0x1d4)](_0x26dc2c=>{const _0x4c1b0c=_0x37e406;assert['ok'](_0x26dc2c instanceof Error),assert['strictEqual'](_0x26dc2c[_0x4c1b0c(0x474)],_0x4c1b0c(0x20e)),assert[_0x4c1b0c(0x513)](_0x496060[_0x4c1b0c(0x637)],0x2),_0x33756f[_0x4c1b0c(0x521)](_0x23e73a);});});});});}),it(_0x510566(0x392),_0x231ee9=>{const _0x50a7f5=_0x510566,_0xb7cd48={'SWBeM':_0x1534f8[_0x50a7f5(0x3d8)],'OnuMo':_0x1534f8[_0x50a7f5(0x58f)],'FqPCs':_0x1534f8[_0x50a7f5(0x1cd)]},_0x1064b8=new WebSocket[(_0x50a7f5(0x5ec))]({'port':0x0},()=>{const _0x4a82a8=_0x50a7f5,_0x41fb38={'iodqp':_0x4a82a8(0x177),'HOdJv':_0x4a82a8(0x32b)},_0x34df84=new WebSocket(_0x4a82a8(0x40c)+_0x1064b8[_0x4a82a8(0x5b5)]()[_0x4a82a8(0x217)]);_0x34df84['on'](_0xb7cd48['SWBeM'],()=>{const _0x5cc5e8=_0x4a82a8;_0x34df84[_0x5cc5e8(0x1d4)](()=>{const _0x28a789=_0x5cc5e8;if(_0x41fb38[_0x28a789(0x251)]===_0x41fb38[_0x28a789(0x1b3)]){const _0x243389=new _0x35b726(_0x28a789(0x40c)+_0x408424[_0x28a789(0x5b5)]()[_0x28a789(0x217)]);}else _0x34df84[_0x28a789(0x1d4)](),_0x34df84[_0x28a789(0x521)]();});});});_0x1064b8['on']('connection',_0x2273e4=>{const _0x1092ef=_0x50a7f5,_0x2da55e={'hjeWC':function(_0x122c62,_0x4bdf7){return _0x122c62===_0x4bdf7;}};if(_0xb7cd48['OnuMo']===_0x1092ef(0x4ab))_0x1bffdf['on'](_0x1092ef(0x474),(_0x3055a4,_0x5cf77e)=>{const _0x2fe8c9=_0x1092ef;_0x54c44a['ok'](_0x5cf77e),_0x5983a7['send'](_0x3055a4),_0x4ec77f[_0x2fe8c9(0x521)]();});else{let _0x5bfac4=0x0;_0x2273e4['on'](_0xb7cd48[_0x1092ef(0x272)],_0xd35183=>{const _0x2f0c59=_0x1092ef;assert['ok'](Buffer['isBuffer'](_0xd35183)),assert['strictEqual'](_0xd35183[_0x2f0c59(0x4e2)],0x0);if(_0x2da55e[_0x2f0c59(0x29a)](++_0x5bfac4,0x2))_0x1064b8['close'](_0x231ee9);});}});}),it(_0x389485[_0x510566(0x2ec)],_0x24f05c=>{const _0x3e91ad=_0x510566,_0x68feb7={'WJfrr':function(_0x4f3a29,_0x5da5f6){return _0x4f3a29 instanceof _0x5da5f6;},'udvBE':function(_0x1ca294,_0x16210e){return _0x389485['mroXj'](_0x1ca294,_0x16210e);},'VcRIZ':_0x389485[_0x3e91ad(0x1a5)],'WNOCP':_0x3e91ad(0x521),'lLRmO':_0x3e91ad(0x1d4)};if(_0x389485[_0x3e91ad(0x333)](_0x3e91ad(0x15c),_0x389485[_0x3e91ad(0x27e)]))_0x45a7f8['ok'](_0x68feb7[_0x3e91ad(0x72a)](_0xb95407,_0x2edf1c)),_0x4fb4df[_0x3e91ad(0x513)](_0x48e81b[_0x3e91ad(0x474)],_0x3e91ad(0x16a)),_0x103149['on'](_0x3e91ad(0x521),()=>_0x166133[_0x3e91ad(0x521)](_0x1921cd));else{const _0x1e481c=new WebSocket['Server']({'port':0x0},()=>{const _0x452d42=_0x3e91ad,_0x1a8006=new WebSocket('ws://localhost:'+_0x1e481c[_0x452d42(0x5b5)]()[_0x452d42(0x217)]);_0x1a8006['on'](_0x452d42(0x6e1),()=>{_0x1a8006['pong']('hi',()=>{const _0x4e2249=_0x397f;_0x1a8006[_0x4e2249(0x1d4)]('hi',!![]),_0x1a8006[_0x4e2249(0x521)]();});});});_0x1e481c['on'](_0x389485[_0x3e91ad(0x180)],_0x39e5df=>{const _0x3c57f8=_0x3e91ad,_0x171178={'wDtuc':_0x3c57f8(0x118),'GnTNH':function(_0x58c7b2,_0x4434a2){const _0x5cc147=_0x3c57f8;return _0x68feb7[_0x5cc147(0x264)](_0x58c7b2,_0x4434a2);},'smFwM':'foo','ttKLA':_0x68feb7[_0x3c57f8(0x2c2)],'vtuSH':_0x68feb7[_0x3c57f8(0x2bc)],'WmMdv':_0x3c57f8(0x14e)};let _0x218784=0x0;_0x39e5df['on'](_0x68feb7['lLRmO'],_0x1ee95f=>{const _0x16d6bd=_0x3c57f8,_0x4efff6={'NBFGB':_0x171178['wDtuc'],'KOewb':function(_0x2d3d18,_0xcde257){const _0x572bb0=_0x397f;return _0x171178[_0x572bb0(0x5a6)](_0x2d3d18,_0xcde257);},'aXgEI':_0x16d6bd(0x3cf),'yNklj':_0x171178[_0x16d6bd(0x6ea)],'qkXIF':_0x171178[_0x16d6bd(0x5e2)],'soTCq':_0x171178[_0x16d6bd(0x152)]};if(_0x16d6bd(0x14e)===_0x171178[_0x16d6bd(0x5b6)]){assert['strictEqual'](_0x1ee95f[_0x16d6bd(0x241)](),'hi');if(++_0x218784===0x2)_0x1e481c[_0x16d6bd(0x521)](_0x24f05c);}else{if(_0x4efff6[_0x16d6bd(0x6bc)](++_0x4f467b,0x2))return;const _0x5f78f={'authorization':_0x4efff6['aXgEI'],'cookie':_0x16d6bd(0x46e),'host':_0x4efff6[_0x16d6bd(0x422)]},_0x486db0=new _0x92fd2f(_0x16d6bd(0x6a6)+_0x8816e4,{'followRedirects':!![],'headers':_0x5f78f}),_0x48915f=_0x486db0[_0x16d6bd(0x23b)];_0x55c1c8[_0x16d6bd(0x513)](_0x48915f[_0x16d6bd(0x117)](_0x16d6bd(0x30a)),_0x5f78f[_0x16d6bd(0x11d)]),_0x4ec1ba[_0x16d6bd(0x513)](_0x48915f[_0x16d6bd(0x117)](_0x16d6bd(0x649)),_0x5f78f[_0x16d6bd(0x28c)]),_0x133125['strictEqual'](_0x48915f[_0x16d6bd(0x117)](_0x4efff6['qkXIF']),_0x5f78f[_0x16d6bd(0x4a3)]),_0x486db0['on'](_0x4efff6[_0x16d6bd(0x3d3)],_0x551c09=>{const _0x1d0ee8=_0x16d6bd,_0x586472=_0x4efff6[_0x1d0ee8(0x316)][_0x1d0ee8(0x1fb)]('|');let _0x3ed3a0=0x0;while(!![]){switch(_0x586472[_0x3ed3a0++]){case'0':_0x29fa1b[_0x1d0ee8(0x513)](_0x486db0[_0x1d0ee8(0x393)],0x1);continue;case'1':_0x5a8f6b[_0x1d0ee8(0x513)](_0x486db0[_0x1d0ee8(0x40b)],'ws+unix:'+_0x347c38);continue;case'2':_0x234e5a[_0x1d0ee8(0x513)](_0x551c09,0x3ed);continue;case'3':_0x3e1030[_0x1d0ee8(0x521)](_0x28f59c);continue;case'4':_0xfbf56['close']();continue;}break;}});}});});}}),it(_0x389485[_0x510566(0x47e)],_0x52ae61=>{const _0x2eb77b=_0x510566;if(_0x1534f8[_0x2eb77b(0x1b9)]===_0x2eb77b(0x358))_0x1007cd[_0x2eb77b(0x1d4)]('hi',()=>{const _0x51767e=_0x2eb77b;_0x4ff60f[_0x51767e(0x1d4)]('hi',!![]),_0x4eb5af[_0x51767e(0x521)]();});else{const _0x3706b7=new WebSocket[(_0x2eb77b(0x5ec))]({'port':0x0},()=>{const _0x47982b=_0x2eb77b,_0x1d04a2=new WebSocket('ws://localhost:'+_0x3706b7[_0x47982b(0x5b5)]()[_0x47982b(0x217)]);_0x1d04a2['on'](_0x47982b(0x6e1),()=>{const _0x49ceb=_0x47982b;_0x1d04a2[_0x49ceb(0x1d4)](0x0),_0x1d04a2[_0x49ceb(0x521)]();});});_0x3706b7['on'](_0x1534f8[_0x2eb77b(0x17a)],_0x28da9c=>{const _0x1b23b3=_0x2eb77b;_0x28da9c['on'](_0x1534f8[_0x1b23b3(0x1cd)],_0x27df5e=>{const _0x34338c=_0x1b23b3;assert[_0x34338c(0x513)](_0x27df5e['toString'](),'0'),_0x3706b7[_0x34338c(0x521)](_0x52ae61);});});}}),it(_0x510566(0x3e7),_0x9fd74d=>{const _0x14b491=_0x510566,_0x174e6a=new WebSocket[(_0x14b491(0x5ec))]({'port':0x0},()=>{const _0x3b874b=_0x14b491,_0x288578=new WebSocket(_0x3b874b(0x40c)+_0x174e6a[_0x3b874b(0x5b5)]()[_0x3b874b(0x217)]);_0x288578['on'](_0x1534f8[_0x3b874b(0x3d8)],()=>{const _0x5e9cd6=_0x3b874b;assert[_0x5e9cd6(0x432)](()=>_0x288578[_0x5e9cd6(0x1d4)](Buffer[_0x5e9cd6(0x37c)](0x7e)),/^RangeError: The data size must not be greater than 125 bytes$/),_0x174e6a[_0x5e9cd6(0x521)](_0x9fd74d);});});_0x174e6a['on'](_0x1534f8[_0x14b491(0x17a)],_0x2db06e=>{_0x2db06e['close']();});}),it(_0x389485[_0x510566(0x39e)],_0x300e9d=>{const _0x35f8b3=_0x510566,_0x10407f={'SowiJ':_0x389485[_0x35f8b3(0x740)],'ceICJ':_0x389485['YFKLg']};if(_0x35f8b3(0x2b3)!==_0x389485[_0x35f8b3(0x366)]){const _0x311ee=Buffer[_0x35f8b3(0x6b2)]('hi'),_0x305de9=new WebSocket['Server']({'port':0x0},()=>{const _0x5a932b=_0x35f8b3,_0x1a5d37=new WebSocket('ws://localhost:'+_0x305de9[_0x5a932b(0x5b5)]()[_0x5a932b(0x217)]);_0x1a5d37['on'](_0x10407f[_0x5a932b(0x1bb)],()=>{_0x1a5d37['ping'](_0x311ee);}),_0x1a5d37['on'](_0x10407f[_0x5a932b(0x34f)],_0x709fc6=>{assert['deepStrictEqual'](_0x709fc6,_0x311ee),_0x305de9['close'](_0x300e9d);});});_0x305de9['on'](_0x389485[_0x35f8b3(0x180)],_0x48db3a=>{const _0x2d8adb=_0x35f8b3;_0x48db3a['on'](_0x2d8adb(0x3ca),_0x1f9310=>{const _0x157035=_0x2d8adb;assert[_0x157035(0x236)](_0x1f9310,_0x311ee),_0x48db3a[_0x157035(0x521)]();});});}else _0x10b238[_0x35f8b3(0x513)](_0x306718,0x3f6),_0x35f26f[_0x35f8b3(0x521)](_0x30be51);});}),_0x389485['LXWfh'](describe,_0x389485[_0x53100d(0x2fe)],()=>{const _0x339781=_0x53100d;_0x389485[_0x339781(0x73b)]==='xoIAI'?(it(_0x339781(0x733),_0x31fa1f=>{const _0x13a765=_0x339781,_0xcee18b=new WebSocket[(_0x13a765(0x5ec))]({'port':0x0},()=>{const _0xb82e3b=_0x13a765,_0x389f74={'EMmeU':_0xb82e3b(0x521)},_0x399671=new WebSocket('ws://localhost:'+_0xcee18b[_0xb82e3b(0x5b5)]()[_0xb82e3b(0x217)]);assert[_0xb82e3b(0x513)](_0x399671['readyState'],WebSocket[_0xb82e3b(0x2ea)]),assert['ok'](!_0x399671[_0xb82e3b(0x49b)]),_0x399671[_0xb82e3b(0x22a)](),_0x399671['on'](_0xb82e3b(0x6e1),()=>{const _0x50eaf6=_0xb82e3b;_0x399671[_0x50eaf6(0x692)](),assert['ok'](_0x399671['isPaused']),_0x399671['on'](_0x389f74[_0x50eaf6(0x4e7)],()=>{const _0x28760d=_0x50eaf6;assert[_0x28760d(0x513)](_0x399671[_0x28760d(0x459)],WebSocket[_0x28760d(0x282)]),_0x399671[_0x28760d(0x22a)](),assert['ok'](_0x399671[_0x28760d(0x49b)]),_0xcee18b[_0x28760d(0x521)](_0x31fa1f);}),_0x399671[_0x50eaf6(0x1e4)]();});});}),_0x389485[_0x339781(0x53a)](it,_0x339781(0x69c),_0x208fc2=>{const _0x6a40a7=_0x339781,_0x1cec4c=new WebSocket[(_0x6a40a7(0x5ec))]({'port':0x0},()=>{const _0x2dca3c=_0x6a40a7,_0x12e9ce=new WebSocket(_0x2dca3c(0x40c)+_0x1cec4c[_0x2dca3c(0x5b5)]()[_0x2dca3c(0x217)]);});_0x1cec4c['on'](_0x6a40a7(0x3b0),_0x74b658=>{const _0x4ab327=_0x6a40a7;assert['ok'](!_0x74b658[_0x4ab327(0x49b)]),assert['ok'](!_0x74b658[_0x4ab327(0x52d)]['isPaused']()),_0x74b658[_0x4ab327(0x692)](),assert['ok'](_0x74b658[_0x4ab327(0x49b)]),assert['ok'](_0x74b658[_0x4ab327(0x52d)][_0x4ab327(0x49b)]()),_0x74b658[_0x4ab327(0x22a)](),assert['ok'](!_0x74b658['isPaused']),assert['ok'](!_0x74b658['_socket'][_0x4ab327(0x49b)]()),_0x74b658[_0x4ab327(0x521)](),_0x1cec4c['close'](_0x208fc2);});})):(_0x297706['strictEqual'](_0x5c6ecc,0x3ee),_0x550f66[_0x339781(0x513)](_0x40c410[_0x339781(0x4e2)],0x157),_0x2f934a[_0x339781(0x513)](_0x48308e[0x0],_0x389485[_0x339781(0x6e5)](_0x5ad58d,0x400)),_0x388893[_0x339781(0x513)](_0x270fed[_0x389485[_0x339781(0x446)](_0x3995e2[_0x339781(0x4e2)],0x1)],0x1),_0x59e54b['close'](_0x190613));}),describe(_0x53100d(0x5ab),()=>{const _0x55d2d9=_0x53100d,_0x418aa8={'fJErG':_0x55d2d9(0x72b),'WeBgh':_0x389485[_0x55d2d9(0x4df)],'bMFvq':_0x389485[_0x55d2d9(0x36d)],'UQZXU':function(_0x13631d){const _0x17e8dc=_0x55d2d9;return _0x389485[_0x17e8dc(0x397)](_0x13631d);},'qgSJL':function(_0x1c55f7,_0x1b32b4){const _0x193920=_0x55d2d9;return _0x389485[_0x193920(0x627)](_0x1c55f7,_0x1b32b4);},'daCsa':'WebSocket\x20was\x20closed\x20before\x20the\x20connection\x20was\x20established','wPnIH':_0x389485[_0x55d2d9(0x740)],'eHLSk':_0x55d2d9(0x474),'bRBud':_0x55d2d9(0x29c),'HcqNo':_0x389485[_0x55d2d9(0x180)],'aCFsJ':_0x55d2d9(0x1d4),'OvnZG':function(_0x34c97c,_0x42e8f1){const _0x22f7a7=_0x55d2d9;return _0x389485[_0x22f7a7(0x2e1)](_0x34c97c,_0x42e8f1);},'UKkuq':function(_0x5aebde,_0x43eb0d){return _0x5aebde!==_0x43eb0d;},'EiDGR':_0x55d2d9(0x524),'MrvmW':_0x389485['wyBvB'],'mcMhQ':_0x55d2d9(0x521),'VpCMZ':'kqLLC','TjmnU':_0x55d2d9(0x747)};if(_0x55d2d9(0x172)!=='VWdVQ'){const _0x3ff118={'uZQan':function(_0x37f1b4,_0x33cba4){return _0x37f1b4+_0x33cba4;},'zNsKJ':_0x418aa8[_0x55d2d9(0x657)]};_0x5b58dc[_0x55d2d9(0x1cc)](_0x55d2d9(0x4c8),(_0x45f3d6,_0x4185d4)=>{const _0x3e8d5d=_0x55d2d9;_0x4185d4['end'](_0x3ff118[_0x3e8d5d(0x59b)](_0x3ff118[_0x3e8d5d(0x59b)](_0x3e8d5d(0x5fb)+_0x30082d['STATUS_CODES'][0x191]+'\x0d\x0a'+'Connection:\x20close\x0d\x0a'+'Content-type:\x20text/html\x0d\x0a',_0x3e8d5d(0x60f)),'\x0d\x0a')+_0x3ff118[_0x3e8d5d(0x73d)]);});const _0x187f94=new _0x3b2737(_0x55d2d9(0x40c)+_0x3353ee[_0x55d2d9(0x5b5)]()[_0x55d2d9(0x217)]);_0x187f94['on'](_0x55d2d9(0x6e1),()=>_0x2e3a02(new _0xd4ca97(_0x55d2d9(0x300)))),_0x187f94['on'](_0x55d2d9(0x747),()=>_0x57bbf9(new _0x31e34d(_0x55d2d9(0x56d)))),_0x187f94['on'](_0x418aa8[_0x55d2d9(0x50b)],(_0x29da7a,_0xf6c225)=>{_0x4d748f['strictEqual'](_0xf6c225['statusCode'],0x191),_0xf6c225['on']('end',_0x3d0967),_0x29da7a['abort']();});}else it(_0x55d2d9(0x5f5),()=>{const _0x234a97=_0x55d2d9,_0x1e8bf8=new WebSocket(_0x418aa8[_0x234a97(0x2ff)],{'lookup'(){}});assert[_0x234a97(0x432)](()=>_0x1e8bf8[_0x234a97(0x3bb)]('hi'),/^Error: WebSocket is not open: readyState 0 \(CONNECTING\)$/),assert[_0x234a97(0x432)](()=>_0x1e8bf8['send']('hi',NOOP),/^Error: WebSocket is not open: readyState 0 \(CONNECTING\)$/);}),it(_0x389485[_0x55d2d9(0x5cd)],_0x3e912c=>{const _0x4a0d44=_0x55d2d9,_0x3f5c8b=new WebSocket(_0x4a0d44(0x5ca),{'lookup'(){}});_0x3f5c8b['on'](_0x389485['PnVhg'],_0x387fcd=>{const _0x1a2b83=_0x4a0d44,_0x2629df={'EsqnZ':function(_0x57b4d9){return _0x418aa8['UQZXU'](_0x57b4d9);}};assert['ok'](_0x418aa8[_0x1a2b83(0x1b7)](_0x387fcd,Error)),assert[_0x1a2b83(0x513)](_0x387fcd['message'],_0x418aa8['daCsa']),assert[_0x1a2b83(0x513)](_0x3f5c8b[_0x1a2b83(0x459)],WebSocket['CLOSING']),assert['strictEqual'](_0x3f5c8b[_0x1a2b83(0x637)],0x0),_0x3f5c8b['send']('hi'),assert[_0x1a2b83(0x513)](_0x3f5c8b[_0x1a2b83(0x637)],0x2),_0x3f5c8b[_0x1a2b83(0x3bb)](),assert[_0x1a2b83(0x513)](_0x3f5c8b[_0x1a2b83(0x637)],0x2),_0x3f5c8b['on'](_0x1a2b83(0x521),()=>{const _0x4cc94d=_0x1a2b83,_0x31159c=_0x4cc94d(0x5b4)[_0x4cc94d(0x1fb)]('|');let _0xfbea1c=0x0;while(!![]){switch(_0x31159c[_0xfbea1c++]){case'0':_0x3f5c8b[_0x4cc94d(0x3bb)]('hi');continue;case'1':_0x2629df[_0x4cc94d(0x30d)](_0x3e912c);continue;case'2':assert['strictEqual'](_0x3f5c8b[_0x4cc94d(0x459)],WebSocket[_0x4cc94d(0x282)]);continue;case'3':assert[_0x4cc94d(0x513)](_0x3f5c8b[_0x4cc94d(0x637)],0x4);continue;case'4':assert[_0x4cc94d(0x513)](_0x3f5c8b['bufferedAmount'],0x4);continue;case'5':_0x3f5c8b['send']();continue;}break;}});}),_0x3f5c8b[_0x4a0d44(0x521)]();}),it(_0x389485[_0x55d2d9(0x317)],_0x5e4d2d=>{const _0x32c419=_0x55d2d9,_0x57a749={'xUKHs':_0x389485[_0x32c419(0x120)],'txEyD':_0x32c419(0x521),'MCNTM':_0x389485[_0x32c419(0x3bc)]},_0x261c51=new WebSocket[(_0x32c419(0x5ec))]({'port':0x0},()=>{const _0x1f7547=_0x32c419,_0x1e0688=new WebSocket(_0x1f7547(0x40c)+_0x261c51['address']()[_0x1f7547(0x217)]);});_0x261c51['on'](_0x389485[_0x32c419(0x180)],_0x453669=>{const _0x1c4c93=_0x32c419,_0x2bdf25={'FcDHx':_0x57a749[_0x1c4c93(0x1f8)],'rFspT':function(_0x1c111b,_0x3c15ea){return _0x1c111b instanceof _0x3c15ea;},'uPBmI':_0x57a749[_0x1c4c93(0x42c)]};_0x57a749[_0x1c4c93(0x3ab)]==='lgeet'?(_0x453669[_0x1c4c93(0x521)](),assert['strictEqual'](_0x453669[_0x1c4c93(0x637)],0x0),_0x453669['send']('hi',_0xd26f83=>{const _0xdb7df1=_0x1c4c93;assert['ok'](_0x2bdf25[_0xdb7df1(0x49d)](_0xd26f83,Error)),assert['strictEqual'](_0xd26f83['message'],_0xdb7df1(0x3fd)),assert[_0xdb7df1(0x513)](_0x453669[_0xdb7df1(0x637)],0x2),_0x453669['on'](_0x2bdf25['uPBmI'],()=>{const _0x26c301=_0xdb7df1,_0x29c636={'ruLvP':function(_0x5ac7eb,_0x4d2fbd){return _0x5ac7eb instanceof _0x4d2fbd;},'QtPry':_0x2bdf25[_0x26c301(0x434)]};_0x453669['send']('hi',_0x86767d=>{const _0x1fa162=_0x26c301;assert['ok'](_0x29c636['ruLvP'](_0x86767d,Error)),assert[_0x1fa162(0x513)](_0x86767d[_0x1fa162(0x474)],_0x29c636[_0x1fa162(0x588)]),assert[_0x1fa162(0x513)](_0x453669['bufferedAmount'],0x4),_0x261c51[_0x1fa162(0x521)](_0x5e4d2d);});});})):_0x29085f[_0x1c4c93(0x67b)]('Sec-WebSocket-Protocol:\x20foo');});}),_0x389485[_0x55d2d9(0x5c4)](it,_0x389485['VmkeM'],_0x5e477d=>{const _0xd8511e=_0x55d2d9,_0x5b4e11=new WebSocket[(_0xd8511e(0x5ec))]({'port':0x0},()=>{const _0x3884d6=_0xd8511e,_0x5e4ac3=new Float32Array(0x400*0x400);for(let _0x448ad8=0x0;_0x448ad8<_0x5e4ac3[_0x3884d6(0x4e2)];_0x448ad8++){_0x5e4ac3[_0x448ad8]=_0x448ad8/0x5;}const _0x25f044=new WebSocket(_0x3884d6(0x40c)+_0x5b4e11[_0x3884d6(0x5b5)]()['port']);_0x25f044['on'](_0x3884d6(0x6e1),()=>_0x25f044[_0x3884d6(0x3bb)](_0x5e4ac3)),_0x25f044['on'](_0x3884d6(0x474),(_0x11b22e,_0x12e660)=>{const _0x2ecb79=_0x3884d6;assert[_0x2ecb79(0x236)](_0x11b22e,Buffer[_0x2ecb79(0x6b2)](_0x5e4ac3[_0x2ecb79(0x4c9)])),assert['ok'](_0x12e660),_0x5b4e11[_0x2ecb79(0x521)](_0x5e477d);});});_0x5b4e11['on'](_0x389485[_0xd8511e(0x180)],_0x45f985=>{const _0x51f883=_0xd8511e;_0x45f985['on'](_0x51f883(0x474),(_0x153353,_0x47fc7e)=>{const _0x2637d0=_0x51f883;assert['ok'](_0x47fc7e),_0x45f985[_0x2637d0(0x3bb)](_0x153353),_0x45f985[_0x2637d0(0x521)]();});});}),it(_0x55d2d9(0x281),_0x4ffd38=>{const _0xa1aa17=_0x55d2d9,_0x57b6ca={'QhVwo':_0x389485[_0xa1aa17(0x225)]},_0x4e6efb=new WebSocket[(_0xa1aa17(0x5ec))]({'port':0x0},()=>{const _0x5093a8=_0xa1aa17,_0x4784b0=new WebSocket('ws://localhost:'+_0x4e6efb[_0x5093a8(0x5b5)]()[_0x5093a8(0x217)]);_0x4784b0['on'](_0x418aa8[_0x5093a8(0x34b)],()=>_0x4784b0['send']('hi')),_0x4784b0['on'](_0x418aa8[_0x5093a8(0x28f)],(_0x2aa9db,_0x596a38)=>{const _0xd4338=_0x5093a8;assert[_0xd4338(0x236)](_0x2aa9db,Buffer[_0xd4338(0x6b2)]('hi')),assert['ok'](!_0x596a38),_0x4e6efb['close'](_0x4ffd38);});});_0x4e6efb['on'](_0x389485[_0xa1aa17(0x180)],_0xbe1d28=>{_0xbe1d28['on'](_0x57b6ca['QhVwo'],(_0x2185f0,_0x1162fe)=>{const _0x2c979e=_0x397f;_0xbe1d28[_0x2c979e(0x3bb)](_0x2185f0,{'binary':_0x1162fe}),_0xbe1d28['close']();});});}),_0x389485[_0x55d2d9(0x472)](it,_0x389485['gWOFD'],_0x190d09=>{const _0x547be5=_0x55d2d9,_0x12892b=new WebSocket[(_0x547be5(0x5ec))]({'port':0x0},()=>{const _0x5e5919=_0x547be5,_0x797e8={'QMxKR':_0x418aa8[_0x5e5919(0x39c)]},_0x5ef0d7=new WebSocket(_0x5e5919(0x40c)+_0x12892b[_0x5e5919(0x5b5)]()[_0x5e5919(0x217)]);_0x5ef0d7['on'](_0x418aa8[_0x5e5919(0x34b)],()=>{const _0x36451e=_0x5e5919;_0x5ef0d7[_0x36451e(0x3bb)](_0x797e8[_0x36451e(0x527)],{'fin':![]}),_0x5ef0d7[_0x36451e(0x3bb)](_0x36451e(0x29c),{'fin':!![]}),_0x5ef0d7[_0x36451e(0x521)]();});});_0x12892b['on'](_0x418aa8[_0x547be5(0x1b5)],_0x4e7cb=>{const _0x3fe96c=_0x547be5;_0x4e7cb['on'](_0x3fe96c(0x474),(_0x509f61,_0x4eaf6a)=>{const _0x2b6cdd=_0x3fe96c;_0x2b6cdd(0x56b)!==_0x2b6cdd(0x56b)?(_0x35236b[_0x2b6cdd(0x513)](_0x326d56[_0x2b6cdd(0x241)](),'0'),_0x4709d5[_0x2b6cdd(0x521)](_0x570614)):(assert['deepStrictEqual'](_0x509f61,Buffer[_0x2b6cdd(0x6b2)](_0x2b6cdd(0x1d7))),assert['ok'](!_0x4eaf6a),_0x12892b[_0x2b6cdd(0x521)](_0x190d09));});});}),it(_0x389485[_0x55d2d9(0x179)],_0x1ea4c7=>{const _0x36f92f=_0x55d2d9,_0x38b073={'ihsqe':_0x418aa8[_0x36f92f(0x28f)]},_0x59ecba=new WebSocket['Server']({'port':0x0},()=>{const _0x36b7ee=_0x36f92f,_0x366029=new WebSocket('ws://localhost:'+_0x59ecba[_0x36b7ee(0x5b5)]()['port']);_0x366029['on'](_0x36b7ee(0x6e1),()=>{const _0x259187=_0x36b7ee;_0x366029[_0x259187(0x3bb)](0x0),_0x366029[_0x259187(0x521)]();});});_0x59ecba['on'](_0x418aa8['HcqNo'],_0x26e2ba=>{_0x26e2ba['on'](_0x38b073['ihsqe'],(_0x1291f6,_0x5aa13f)=>{const _0x4504ac=_0x397f;assert[_0x4504ac(0x236)](_0x1291f6,Buffer['from']('0')),assert['ok'](!_0x5aa13f),_0x59ecba[_0x4504ac(0x521)](_0x1ea4c7);});});}),_0x389485[_0x55d2d9(0x3ad)](it,_0x55d2d9(0x674),_0x2321b8=>{const _0x1a3bb0=_0x55d2d9,_0x2c7c9d={'EaPIg':function(_0x5cc28e,_0x5f5fd0){return _0x5cc28e<_0x5f5fd0;},'WCwBL':function(_0x50d7e4,_0x14225d){return _0x50d7e4/_0x14225d;},'hFjbe':_0x418aa8[_0x1a3bb0(0x285)],'FpkdG':function(_0x5de58f,_0x5aff33){const _0x423c59=_0x1a3bb0;return _0x418aa8[_0x423c59(0x653)](_0x5de58f,_0x5aff33);},'DraXQ':function(_0xed46c6,_0xd77be6){const _0x2675e1=_0x1a3bb0;return _0x418aa8[_0x2675e1(0x1a8)](_0xed46c6,_0xd77be6);},'nOlMO':_0x418aa8[_0x1a3bb0(0x6ae)]};if(_0x1a3bb0(0x2f4)!==_0x1a3bb0(0x42a)){const _0x459b2d=new WebSocket[(_0x1a3bb0(0x5ec))]({'port':0x0},()=>{const _0x15cac6=_0x1a3bb0,_0x1932b8=new Float32Array(0x6);for(let _0x74a66d=0x0;_0x2c7c9d[_0x15cac6(0x3b5)](_0x74a66d,_0x1932b8[_0x15cac6(0x4e2)]);++_0x74a66d){_0x1932b8[_0x74a66d]=_0x2c7c9d[_0x15cac6(0x3f0)](_0x74a66d,0x2);}const _0x4247de=_0x1932b8[_0x15cac6(0x4da)](0x2,0x5),_0x1a5703=Buffer[_0x15cac6(0x6b2)](_0x4247de[_0x15cac6(0x4c9)],_0x4247de[_0x15cac6(0x6cb)],_0x4247de[_0x15cac6(0x3a1)]),_0x26d123=new WebSocket('ws://localhost:'+_0x459b2d[_0x15cac6(0x5b5)]()[_0x15cac6(0x217)]);_0x26d123['on'](_0x15cac6(0x6e1),()=>{const _0x5b5c21=_0x15cac6;_0x26d123[_0x5b5c21(0x3bb)](_0x4247de),_0x26d123[_0x5b5c21(0x521)]();}),_0x26d123['on']('message',(_0xb5691d,_0x409bcc)=>{const _0x31e21b=_0x15cac6;assert[_0x31e21b(0x236)](_0xb5691d,_0x1a5703),assert['ok'](_0x409bcc),_0x459b2d[_0x31e21b(0x521)](_0x2321b8);});});_0x459b2d['on'](_0x418aa8[_0x1a3bb0(0x1b5)],_0xcb387=>{const _0x3d4561=_0x1a3bb0,_0x334b33={'YCZKH':function(_0x143f0e,_0x543b59){const _0xb31701=_0x397f;return _0x2c7c9d[_0xb31701(0x685)](_0x143f0e,_0x543b59);}};if(_0x2c7c9d[_0x3d4561(0x1a6)]('azGtV',_0x2c7c9d[_0x3d4561(0x1ea)])){let _0x26c7af=0x0;_0x55320a['on'](_0x2c7c9d[_0x3d4561(0x435)],_0x521771=>{const _0x5b021f=_0x3d4561;_0xfea91d['ok'](_0x1403a5[_0x5b021f(0x50e)](_0x521771)),_0x15319e['strictEqual'](_0x521771[_0x5b021f(0x4e2)],0x0);if(_0x334b33['YCZKH'](++_0x26c7af,0x2))_0x156341[_0x5b021f(0x521)](_0x4f2059);});}else _0xcb387['on'](_0x3d4561(0x474),(_0x528ba9,_0x142273)=>{const _0x2a9dd7=_0x3d4561;assert['ok'](_0x142273),_0xcb387[_0x2a9dd7(0x3bb)](_0x528ba9);});});}else _0x42a38d[_0x3789b9]=_0x4d4f60/0x2;}),it(_0x55d2d9(0x398),_0x4d8179=>{const _0x14df7b=_0x55d2d9,_0x165d58={'OJGHK':_0x389485[_0x14df7b(0x740)],'Ejcmd':_0x14df7b(0x1d3),'rTpvg':_0x14df7b(0x20c),'ALkGS':function(_0x493d2a,_0x1895b1){return _0x493d2a!==_0x1895b1;},'MqQmY':_0x389485['hHnyC'],'icqWL':_0x389485[_0x14df7b(0x225)]},_0x1c8844=new WebSocket[(_0x14df7b(0x5ec))]({'port':0x0},()=>{const _0x96a806=_0x14df7b,_0x185a5f=new Float32Array(0x5);for(let _0x44f01b=0x0;_0x44f01b<_0x185a5f[_0x96a806(0x4e2)];++_0x44f01b){_0x185a5f[_0x44f01b]=_0x44f01b/0x2;}const _0x20fde1=new WebSocket('ws://localhost:'+_0x1c8844[_0x96a806(0x5b5)]()[_0x96a806(0x217)]);_0x20fde1['on'](_0x96a806(0x6e1),()=>{const _0xe34a45=_0x96a806;_0x20fde1[_0xe34a45(0x3bb)](_0x185a5f[_0xe34a45(0x4c9)]),_0x20fde1['close']();}),_0x20fde1[_0x96a806(0x5a2)]=_0x118846=>{const _0x29e2f9=_0x96a806;assert['ok'](_0x118846[_0x29e2f9(0x471)][_0x29e2f9(0x663)](Buffer[_0x29e2f9(0x6b2)](_0x185a5f[_0x29e2f9(0x4c9)]))),_0x1c8844['close'](_0x4d8179);};});_0x1c8844['on'](_0x389485[_0x14df7b(0x180)],_0x47c10a=>{const _0x27208a=_0x14df7b,_0x5b5dab={'yCwXX':_0x27208a(0x687),'kaVxA':_0x27208a(0x721),'igLmI':_0x165d58[_0x27208a(0x1de)],'OTPvt':'conclude','aCggM':_0x165d58[_0x27208a(0x323)]};if(_0x165d58[_0x27208a(0x42d)](_0x165d58[_0x27208a(0x27b)],_0x27208a(0x3b7))){const _0x5cd371=new _0x53bb0e('ws://localhost:'+_0x16e7ee[_0x27208a(0x5b5)]()[_0x27208a(0x217)],{'perMessageDeflate':{'threshold':0x0}});_0x5cd371['on'](_0x165d58['OJGHK'],()=>{const _0x21a363=_0x27208a,_0x4c2cc2=_0x5b5dab['yCwXX'][_0x21a363(0x1fb)]('|');let _0x32a018=0x0;while(!![]){switch(_0x4c2cc2[_0x32a018++]){case'0':_0x5cd371['send'](_0x5b5dab[_0x21a363(0x21d)]);continue;case'1':_0x5cd371[_0x21a363(0x3bb)](_0x21a363(0x72b));continue;case'2':_0x5cd371[_0x21a363(0x3bb)](_0x5b5dab['igLmI']);continue;case'3':_0x5cd371['_receiver']['on'](_0x5b5dab[_0x21a363(0x6f6)],()=>{const _0x89e7c=_0x21a363;_0x1de2f0['ok'](_0x5cd371[_0x89e7c(0x2b0)][_0x89e7c(0x5c6)]);});continue;case'4':_0x5cd371[_0x21a363(0x3bb)](_0x5b5dab['aCggM']);continue;}break;}});}else _0x47c10a['on'](_0x165d58[_0x27208a(0x3e6)],(_0xf3a83f,_0x1f2296)=>{const _0x475f08=_0x27208a;assert['ok'](_0x1f2296),_0x47c10a[_0x475f08(0x3bb)](_0xf3a83f);});});}),_0x389485[_0x55d2d9(0x6dc)](it,_0x389485[_0x55d2d9(0x543)],_0x59d86e=>{const _0x3319f0=_0x55d2d9,_0x1f7121={'NIbyZ':_0x418aa8[_0x3319f0(0x3d4)]},_0x33666d=new WebSocket[(_0x3319f0(0x5ec))]({'port':0x0},()=>{const _0x1509aa=_0x3319f0,_0x2219ef=Buffer[_0x1509aa(0x6b2)](_0x1f7121[_0x1509aa(0x3d5)]),_0x220d25=new WebSocket('ws://localhost:'+_0x33666d['address']()[_0x1509aa(0x217)]);_0x220d25['on'](_0x1509aa(0x6e1),()=>{const _0xdbbab5=_0x1509aa;_0x220d25['send'](_0x2219ef),_0x220d25[_0xdbbab5(0x521)]();}),_0x220d25[_0x1509aa(0x5a2)]=_0xd90ca0=>{const _0x30c653=_0x1509aa;assert[_0x30c653(0x236)](_0xd90ca0[_0x30c653(0x471)],_0x2219ef),_0x33666d[_0x30c653(0x521)](_0x59d86e);};});_0x33666d['on'](_0x3319f0(0x3b0),_0x17e3c0=>{_0x17e3c0['on']('message',(_0x331baf,_0x4dd88a)=>{const _0x7bd1a0=_0x397f;assert['ok'](_0x4dd88a),_0x17e3c0[_0x7bd1a0(0x3bb)](_0x331baf);});});}),_0x389485[_0x55d2d9(0x472)](it,_0x389485['ebnYP'],_0x3f4116=>{const _0x12b9a8=_0x55d2d9,_0x520aba={'gtqgX':_0x389485[_0x12b9a8(0x740)]},_0x29f67f=new WebSocket[(_0x12b9a8(0x5ec))]({'port':0x0},()=>{const _0x21142b=_0x12b9a8,_0x2b5945=new WebSocket('ws://localhost:'+_0x29f67f[_0x21142b(0x5b5)]()[_0x21142b(0x217)]);_0x2b5945['on'](_0x520aba['gtqgX'],()=>{const _0x335a7c=_0x21142b;_0x2b5945[_0x335a7c(0x3bb)]('hi',_0x1d829a=>{const _0x1b4273=_0x335a7c;assert[_0x1b4273(0x671)](_0x1d829a),_0x29f67f[_0x1b4273(0x521)](_0x3f4116);});});});_0x29f67f['on'](_0x389485[_0x12b9a8(0x180)],_0x3c1f0f=>{const _0x2ef0fd=_0x12b9a8;_0x3c1f0f[_0x2ef0fd(0x521)]();});}),it(_0x55d2d9(0x469),_0x5e8be7=>{const _0x2316cc=_0x55d2d9,_0x4ae433={'LzNsU':_0x2316cc(0x474)},_0x2608f8=new WebSocket['Server']({'port':0x0},()=>{const _0x336dab=_0x2316cc,_0x337674=new WebSocket('ws://localhost:'+_0x2608f8['address']()['port']);_0x337674['on'](_0x336dab(0x6e1),()=>{const _0x434dc6=_0x336dab;_0x434dc6(0x368)!==_0x434dc6(0x2e7)?(_0x337674['send'](),_0x337674[_0x434dc6(0x521)]()):(_0x2ee40f['ok'](_0x399fbc[_0x434dc6(0x50e)](_0x4e793f['data'])),_0x52c868['ok'](_0xad968c[_0x434dc6(0x471)][_0x434dc6(0x663)](_0x12b3d2)));});});_0x2608f8['on'](_0x2316cc(0x3b0),_0x403e59=>{const _0x3b1468=_0x2316cc;_0x403e59['on'](_0x4ae433[_0x3b1468(0x531)],(_0x631c74,_0xb20a27)=>{const _0x434ea9=_0x3b1468;assert[_0x434ea9(0x513)](_0x631c74,EMPTY_BUFFER),assert['ok'](_0xb20a27),_0x2608f8[_0x434ea9(0x521)](_0x5e8be7);});});}),_0x389485[_0x55d2d9(0x746)](it,_0x55d2d9(0x329),_0x5273db=>{const _0x347aad=_0x55d2d9,_0x2bef3a={'KJDRr':'Invalid\x20WebSocket\x20frame:\x20MASK\x20must\x20be\x20set','Bzbtl':_0x347aad(0x4e6),'yKnxk':'close'};let _0x2f138f=![],_0x108218=![];const _0x17f5bd=new WebSocket[(_0x347aad(0x5ec))]({'port':0x0},()=>{const _0x28881f=_0x347aad,_0x3474be=new WebSocket('ws://localhost:'+_0x17f5bd[_0x28881f(0x5b5)]()['port']);_0x3474be['on'](_0x28881f(0x6e1),()=>_0x3474be[_0x28881f(0x3bb)]('hi',{'mask':![]})),_0x3474be['on'](_0x418aa8['mcMhQ'],(_0x107ed0,_0x17b8c1)=>{const _0x2487fa=_0x28881f;assert[_0x2487fa(0x513)](_0x107ed0,0x3ea),assert[_0x2487fa(0x236)](_0x17b8c1,EMPTY_BUFFER),_0x2f138f=!![];if(_0x108218)_0x17f5bd[_0x2487fa(0x521)](_0x5273db);});});_0x17f5bd['on'](_0x347aad(0x3b0),_0x1a17bc=>{const _0x6468fe=_0x347aad;if(_0x418aa8[_0x6468fe(0x173)]!==_0x6468fe(0x6b3)){const _0x28ca83=[];_0x1a17bc[_0x6468fe(0x52d)][_0x6468fe(0x194)]('data',_0x2a9228=>{const _0x3678e2=_0x6468fe;_0x28ca83[_0x3678e2(0x67b)](_0x2a9228);}),_0x1a17bc['on'](_0x418aa8[_0x6468fe(0x355)],_0x47a5bc=>{const _0x15c30c=_0x6468fe;assert['ok'](_0x47a5bc instanceof RangeError),assert[_0x15c30c(0x513)](_0x47a5bc[_0x15c30c(0x474)],_0x2bef3a[_0x15c30c(0x60e)]),assert['ok'](Buffer['concat'](_0x28ca83)[_0x15c30c(0x388)](0x0,0x2)[_0x15c30c(0x663)](Buffer[_0x15c30c(0x6b2)](_0x15c30c(0x302),_0x2bef3a[_0x15c30c(0x203)]))),_0x1a17bc['on'](_0x2bef3a[_0x15c30c(0x19f)],(_0x5a6b39,_0x4bec44)=>{const _0x20cdfb=_0x15c30c;assert[_0x20cdfb(0x513)](_0x5a6b39,0x3ee),assert[_0x20cdfb(0x513)](_0x4bec44,EMPTY_BUFFER),_0x108218=!![];if(_0x2f138f)_0x17f5bd['close'](_0x5273db);});});}else _0xf59d8d[_0x6468fe(0x52d)]['push']=_0xcfdd49,_0x516da0['_socket'][_0x6468fe(0x67b)](_0xdee998),_0x30ae9e[_0x6468fe(0x1e4)]();});});}),describe(_0x389485[_0x53100d(0x3d1)],()=>{const _0x339d4b=_0x53100d,_0x2db54f={'VJRsP':_0x339d4b(0x474),'AKRbN':function(_0x5d051d,_0x16d013){return _0x5d051d instanceof _0x16d013;},'UXwGR':function(_0x3a538c,_0x25055d){return _0x3a538c===_0x25055d;},'ldkxL':_0x339d4b(0x747),'vTqId':function(_0x1c09dc,_0x590657){const _0x1ca03f=_0x339d4b;return _0x389485[_0x1ca03f(0x67a)](_0x1c09dc,_0x590657);},'oiKth':_0x389485[_0x339d4b(0x254)],'ymMBd':function(_0x400414,_0x2aeb73){const _0x25d5ec=_0x339d4b;return _0x389485[_0x25d5ec(0x582)](_0x400414,_0x2aeb73);},'NHljy':_0x339d4b(0x578),'zXSzL':_0x389485[_0x339d4b(0x385)],'PqDdb':_0x339d4b(0x606),'jvFAb':_0x339d4b(0x6a1),'taSFs':_0x389485[_0x339d4b(0x4f0)],'QwiwV':'end','SmSDe':_0x389485[_0x339d4b(0x451)],'MgOyk':'WebSocket\x20was\x20closed\x20before\x20the\x20connection\x20was\x20established','kNGUr':'bCfOH','hGgnc':'kqJFp','jlSwg':_0x389485['WOiQS'],'Rehgx':_0x339d4b(0x471),'snWhZ':_0x389485[_0x339d4b(0x2eb)],'GhdFe':_0x389485['mUzEp'],'jjZZY':_0x339d4b(0x20c),'ZXOQy':_0x389485[_0x339d4b(0x670)],'QsrGh':_0x339d4b(0x185),'CLKCg':_0x389485[_0x339d4b(0x180)],'hmNts':_0x389485[_0x339d4b(0x40a)],'yVpMn':function(_0x14e8f5,_0x46e31e){const _0x28018c=_0x339d4b;return _0x389485[_0x28018c(0x4d2)](_0x14e8f5,_0x46e31e);},'lFKPX':_0x389485[_0x339d4b(0x4ea)]};_0x389485['sCSKN'](it,_0x389485[_0x339d4b(0x1dc)],_0x1387ac=>{const _0x345d4d=_0x339d4b,_0x37ab27={'VwfZt':_0x2db54f['VJRsP'],'tgNec':function(_0x217ff5,_0xa7de6f){const _0x6015a1=_0x397f;return _0x2db54f[_0x6015a1(0x415)](_0x217ff5,_0xa7de6f);},'zMsru':_0x345d4d(0x521),'AXPay':function(_0x223eb1,_0x3f4fdb){const _0x35bb5c=_0x345d4d;return _0x2db54f[_0x35bb5c(0x2bf)](_0x223eb1,_0x3f4fdb);},'ALyfw':_0x345d4d(0x2cc),'jwpYx':_0x345d4d(0x747)},_0x12c1f4=new WebSocket[(_0x345d4d(0x5ec))]({'port':0x0},()=>{const _0x55bb87=_0x345d4d;if(_0x37ab27[_0x55bb87(0x483)](_0x37ab27[_0x55bb87(0x401)],_0x55bb87(0x666)))_0x11451a['on'](_0x37ab27[_0x55bb87(0x4f6)],(_0x2a819e,_0x1a40f0)=>{_0x4dbd3b['ok'](_0x1a40f0),_0x3082db['send'](_0x2a819e);});else{const _0x176b35=new WebSocket('ws://localhost:'+_0x12c1f4[_0x55bb87(0x5b5)]()['port']);_0x176b35['on'](_0x55bb87(0x6e1),()=>_0x1387ac(new Error(_0x55bb87(0x300)))),_0x176b35['on'](_0x37ab27[_0x55bb87(0x66b)],_0x3df7a5=>{const _0x577196=_0x55bb87;assert['ok'](_0x37ab27[_0x577196(0x167)](_0x3df7a5,Error)),assert[_0x577196(0x513)](_0x3df7a5[_0x577196(0x474)],_0x577196(0x35f)),_0x176b35['on'](_0x37ab27['zMsru'],()=>_0x12c1f4[_0x577196(0x521)](_0x1387ac));}),_0x176b35['close'](0x3e9);}});}),it(_0x339d4b(0x124),_0xcac7f1=>{const _0x235dbc=_0x339d4b,_0xfd0e6a={'oAgPO':_0x235dbc(0x521),'uclTl':'sha1','SMLcy':_0x235dbc(0x2de),'PsXoR':function(_0x279412,_0x1c7afb){return _0x279412+_0x1c7afb;},'dXRvO':function(_0x2f3824,_0x4df78f){const _0x567214=_0x235dbc;return _0x2db54f[_0x567214(0x480)](_0x2f3824,_0x4df78f);},'qROMX':_0x2db54f[_0x235dbc(0x49c)]};if(_0x2db54f['ymMBd'](_0x2db54f[_0x235dbc(0x3e2)],_0x2db54f[_0x235dbc(0x3e2)])){const _0x3c1afe=new WebSocket[(_0x235dbc(0x5ec))]({'verifyClient':(_0x3ee6d2,_0x1eddc3)=>setTimeout(_0x1eddc3,0x12c,!![]),'port':0x0},()=>{const _0x53258b=_0x235dbc,_0x3dc858=new WebSocket(_0x53258b(0x40c)+_0x3c1afe[_0x53258b(0x5b5)]()[_0x53258b(0x217)]);_0x3dc858['on'](_0x53258b(0x6e1),()=>_0xcac7f1(new Error('Unexpected\x20\x27open\x27\x20event'))),_0x3dc858['on'](_0x2db54f[_0x53258b(0x6d9)],_0x6c5a18=>{const _0x55198b=_0x53258b;assert['ok'](_0x6c5a18 instanceof Error),assert[_0x55198b(0x513)](_0x6c5a18['message'],_0x55198b(0x35f)),_0x3dc858['on'](_0xfd0e6a[_0x55198b(0x3f4)],()=>_0x3c1afe[_0x55198b(0x521)](_0xcac7f1));}),setTimeout(()=>_0x3dc858[_0x53258b(0x521)](0x3e9),0x96);});}else{const _0x22e5a6=_0x1aca97['createHash'](_0xfd0e6a['uclTl'])[_0x235dbc(0x730)](_0xe68f8c['headers'][_0xfd0e6a[_0x235dbc(0x4f7)]]+_0x416006)[_0x235dbc(0x26d)](_0x235dbc(0x499));_0x2f3df5[_0x235dbc(0x17f)](_0xfd0e6a['PsXoR'](_0xfd0e6a[_0x235dbc(0x26f)](_0xfd0e6a['PsXoR'](_0xfd0e6a['qROMX']+_0x235dbc(0x13a),_0x235dbc(0x159))+(_0x235dbc(0x74e)+_0x22e5a6+'\x0d\x0a'),'Sec-WebSocket-Extensions:\x20permessage-deflate,foo\x0d\x0a'),'\x0d\x0a'));}}),_0x389485[_0x339d4b(0x38a)](it,_0x339d4b(0x426),_0x1afd8b=>{const _0x966ecb=_0x339d4b,_0x27a591={'jhOtF':_0x389485[_0x966ecb(0x2a5)],'Yqrxp':_0x389485['bqPZN'],'nZhHy':function(_0x5dfd88,_0x4ce293){const _0x2b0115=_0x966ecb;return _0x389485[_0x2b0115(0x378)](_0x5dfd88,_0x4ce293);},'aCeEo':_0x389485[_0x966ecb(0x623)],'koYQn':'Content-Length:\x203\x0d\x0a'},_0x323e59=http[_0x966ecb(0x4f4)]();_0x323e59[_0x966ecb(0x6b7)](0x0,()=>{const _0x3a5c31=_0x966ecb,_0x19c27a={'XlicZ':function(_0x25485d,_0x1eba15){return _0x25485d!==_0x1eba15;},'gIQmj':_0x3a5c31(0x5bc),'dovxG':_0x3a5c31(0x1e7),'hxUGe':_0x2db54f['zXSzL']};if(_0x2db54f[_0x3a5c31(0x58a)]!==_0x3a5c31(0x5ba)){const _0x1132b1=new WebSocket(_0x3a5c31(0x40c)+_0x323e59['address']()['port']);_0x1132b1['on']('open',()=>_0x1afd8b(new Error(_0x3a5c31(0x300)))),_0x1132b1['on'](_0x3a5c31(0x747),_0x386b57=>{const _0x1bb4d8=_0x3a5c31,_0x60a8b9={'Plunh':_0x1bb4d8(0x3b0),'vtjoE':_0x1bb4d8(0x738)};if(_0x19c27a['XlicZ'](_0x19c27a[_0x1bb4d8(0x546)],_0x19c27a['dovxG']))assert['ok'](_0x386b57 instanceof Error),assert['strictEqual'](_0x386b57[_0x1bb4d8(0x474)],_0x1bb4d8(0x35f)),_0x1132b1['on'](_0x19c27a[_0x1bb4d8(0x681)],()=>{const _0x9c1de8=_0x1bb4d8;_0x323e59[_0x9c1de8(0x521)](_0x1afd8b);});else{const _0x3d4eb3={'imNmB':_0x60a8b9['Plunh']};_0x2d50d8['on'](_0x60a8b9['vtjoE'],function _0x57831d(){const _0xb15b8f=_0x1bb4d8;_0x1fe776[_0xb15b8f(0x558)]('readable',_0x57831d);const _0x582e51=_0x2ec2f6[_0xb15b8f(0x709)](0x1),_0x152b22=_0x582e51[0x0]===0x16?_0x124141:_0x3b6383;_0xb89821[_0xb15b8f(0x6d7)](_0x582e51),_0x152b22[_0xb15b8f(0x1ec)](_0x3d4eb3[_0xb15b8f(0x2f1)],_0xad1539);});}}),_0x1132b1['on'](_0x2db54f[_0x3a5c31(0x5ce)],(_0x4f0a9b,_0x577c8c)=>{const _0x47e4ab=_0x3a5c31,_0x32934e={'LdQGK':_0x27a591[_0x47e4ab(0x123)]};assert['strictEqual'](_0x577c8c[_0x47e4ab(0x58b)],0x1f6);const _0x154d92=[];_0x577c8c['on']('data',_0x16d058=>{const _0x63537f=_0x47e4ab;_0x154d92[_0x63537f(0x67b)](_0x16d058);}),_0x577c8c['on'](_0x27a591[_0x47e4ab(0x6de)],()=>{const _0x46a08f=_0x47e4ab;assert[_0x46a08f(0x513)](Buffer[_0x46a08f(0x374)](_0x154d92)[_0x46a08f(0x241)](),_0x32934e[_0x46a08f(0x5ee)]),_0x1132b1[_0x46a08f(0x521)]();});});}else _0x51d41b[_0x3a5c31(0x17f)](_0x3a5c31(0x145));}),_0x323e59['on'](_0x389485[_0x966ecb(0x1ac)],(_0xdd0d35,_0x2b5348)=>{const _0xd94354=_0x966ecb;_0x2b5348['on'](_0x27a591[_0xd94354(0x6de)],_0x2b5348['end']),_0x2b5348[_0xd94354(0x72e)](_0x27a591[_0xd94354(0x34e)](_0xd94354(0x731)+http['STATUS_CODES'][0x1f6]+'\x0d\x0a','Connection:\x20keep-alive\x0d\x0a')+_0x27a591['aCeEo']+_0x27a591[_0xd94354(0x53f)]+'\x0d\x0a'+_0xd94354(0x72b));});}),_0x389485[_0x339d4b(0x4bb)](it,_0x389485['IhdwX'],_0x213201=>{const _0x4764be=_0x339d4b,_0xdd4e51=net[_0x4764be(0x4f4)]();_0xdd4e51['on']('connection',_0x521256=>{const _0x10c4d5=_0x4764be,_0x213b22={'tbJXA':_0x10c4d5(0x57d)};_0x2db54f[_0x10c4d5(0x3a3)]===_0x10c4d5(0x707)?(_0x2f709a[_0x10c4d5(0x513)](_0x18bf46[_0x10c4d5(0x4a3)],_0x213b22[_0x10c4d5(0x6ff)]),_0x541bab['strictEqual'](_0x2db28d[_0x10c4d5(0x217)],0x50),_0x107a75()):(_0x521256['on'](_0x2db54f[_0x10c4d5(0x701)],_0x521256[_0x10c4d5(0x17f)]),_0x521256[_0x10c4d5(0x22a)](),_0x521256[_0x10c4d5(0x72e)](Buffer['from'](_0x10c4d5(0x4a2))));}),_0xdd4e51['listen'](0x0,()=>{const _0x45d1e0=_0x4764be,_0x289a13={'UbCEB':_0x2db54f['SmSDe'],'jITzS':_0x2db54f[_0x45d1e0(0x5cf)]};if(_0x45d1e0(0x430)===_0x45d1e0(0x430)){const _0x1e5998=new WebSocket(_0x45d1e0(0x40c)+_0xdd4e51[_0x45d1e0(0x5b5)]()[_0x45d1e0(0x217)]);_0x1e5998['on'](_0x45d1e0(0x6e1),()=>_0x213201(new Error(_0x45d1e0(0x300)))),_0x1e5998['on'](_0x45d1e0(0x747),_0x2aae30=>{const _0x3128da=_0x45d1e0;assert['ok'](_0x2aae30 instanceof Error),assert[_0x3128da(0x513)](_0x2aae30['code'],_0x289a13[_0x3128da(0x13c)]),_0x1e5998[_0x3128da(0x521)](),_0x1e5998['on'](_0x289a13['jITzS'],()=>{_0xdd4e51['close'](_0x213201);});});}else _0x2a6ddf[_0x45d1e0(0x513)](_0x22e344,0x3ed),_0x54a50a['close'](_0x3d2cf5);});}),it(_0x389485[_0x339d4b(0x21b)],_0x5b28e0=>{const _0x19b9ed=_0x339d4b,_0x365972={'mPNRG':_0x389485[_0x19b9ed(0x509)]},_0xce850=http['createServer']();_0xce850[_0x19b9ed(0x1cc)](_0x19b9ed(0x4c8),(_0x1c8e60,_0x1144a4)=>{const _0x5c387a=_0x19b9ed;_0x1144a4[_0x5c387a(0x17f)](_0x365972[_0x5c387a(0x5c2)]);}),_0xce850['listen'](()=>{const _0x1a1af8=_0x19b9ed,_0x3157d4={'wamPy':function(_0x3d1914,_0x26b0dd){return _0x3d1914(_0x26b0dd);},'dPoSc':function(_0x25fe61,_0x4bc915){return _0x25fe61 instanceof _0x4bc915;},'zOlGd':_0x2db54f['MgOyk']},_0x3733fe=_0xce850['address']()['port'],_0x599d65=new WebSocket('ws://localhost:'+_0x3733fe,{'followRedirects':!![]});_0x599d65['on']('open',()=>{const _0x383253=_0x397f;_0x3157d4[_0x383253(0x17e)](_0x5b28e0,new Error(_0x383253(0x300)));}),_0x599d65['on'](_0x2db54f[_0x1a1af8(0x6d9)],_0x1935c0=>{const _0x129eec=_0x1a1af8,_0x2ab626={'yWVse':_0x129eec(0x562)};assert['ok'](_0x3157d4[_0x129eec(0x41f)](_0x1935c0,Error)),assert[_0x129eec(0x513)](_0x1935c0[_0x129eec(0x474)],_0x3157d4['zOlGd']),_0x599d65['on'](_0x129eec(0x521),_0x5054e5=>{const _0x4e201a=_0x129eec,_0x56cd2f={'aHHka':'url','ClMif':function(_0x42ffe8,_0x31f4d6){return _0x42ffe8===_0x31f4d6;}};if(_0x4e201a(0x562)===_0x2ab626['yWVse'])assert[_0x4e201a(0x513)](_0x5054e5,0x3ee),_0xce850[_0x4e201a(0x521)](_0x5b28e0);else{const _0x513307=_0x378a3a[_0x4e201a(0x647)](_0x12d665[_0x4e201a(0x30c)],_0x56cd2f[_0x4e201a(0x59c)]);_0x5d6599[_0x4e201a(0x513)](_0x513307['configurable'],!![]),_0x457608[_0x4e201a(0x513)](_0x513307[_0x4e201a(0x1f0)],!![]),_0x45bac2['ok'](_0x513307[_0x4e201a(0x4a5)]!==_0x4ec246),_0x1375b7['ok'](_0x56cd2f[_0x4e201a(0x65b)](_0x513307[_0x4e201a(0x737)],_0x5eabb8));}});}),_0x599d65['on']('redirect',()=>{const _0x5a9b84=_0x1a1af8;_0x599d65[_0x5a9b84(0x521)]();});});}),it(_0x389485[_0x339d4b(0x3a4)],_0x237ea3=>{const _0x57afe5=_0x339d4b,_0x49ed43={'AqHMZ':_0x57afe5(0x4cf),'FwYzh':_0x57afe5(0x6e1),'PlJfn':_0x57afe5(0x4c8)};if(_0x2db54f['kNGUr']===_0x2db54f[_0x57afe5(0x470)])_0x18acd4[_0x57afe5(0x3ca)]('hi',()=>{_0x4bbc3a['ping']('hi',!![]),_0x3f768f['close']();});else{const _0x19855e=new WebSocket[(_0x57afe5(0x5ec))]({'port':0x0},()=>{const _0x355013=_0x57afe5,_0x35e4dc=new WebSocket(_0x355013(0x40c)+_0x19855e[_0x355013(0x5b5)]()[_0x355013(0x217)]);_0x35e4dc['on'](_0x49ed43[_0x355013(0x3c7)],()=>_0x237ea3(new Error(_0x355013(0x300)))),_0x35e4dc['on'](_0x355013(0x747),_0x1b52de=>{const _0x39d7e2=_0x355013;if(_0x49ed43[_0x39d7e2(0x340)]!==_0x39d7e2(0x645))assert['ok'](_0x1b52de instanceof Error),assert[_0x39d7e2(0x513)](_0x1b52de[_0x39d7e2(0x474)],_0x39d7e2(0x35f)),_0x35e4dc['on'](_0x39d7e2(0x521),()=>_0x19855e[_0x39d7e2(0x521)](_0x237ea3));else{const _0x246dea=new _0x4672c8(_0x39d7e2(0x40c)+_0x2b2f88[_0x39d7e2(0x5b5)]()[_0x39d7e2(0x217)]);_0x246dea['on']('open',()=>{const _0x40fbe3=_0x39d7e2;_0x246dea[_0x40fbe3(0x3ca)](()=>{const _0x54da62=_0x40fbe3;_0x246dea[_0x54da62(0x3ca)](),_0x246dea[_0x54da62(0x521)]();});});}}),_0x35e4dc['on'](_0x49ed43['PlJfn'],()=>_0x35e4dc[_0x355013(0x521)]());});}}),_0x389485[_0x339d4b(0x3bf)](it,_0x389485[_0x339d4b(0x205)],_0x207bbc=>{const _0x59f2d7=_0x339d4b;let _0x588010;const _0x38048d=new WebSocket[(_0x59f2d7(0x5ec))]({'port':0x0},()=>{const _0x5304fd=_0x59f2d7,_0x31e024=new WebSocket('ws://localhost:'+_0x38048d[_0x5304fd(0x5b5)]()[_0x5304fd(0x217)]);_0x31e024['on'](_0x2db54f[_0x5304fd(0x424)],()=>{const _0x42807d=_0x5304fd;_0x31e024[_0x42807d(0x52d)][_0x42807d(0x1cc)](_0x42807d(0x471),_0x223491=>{_0x588010=_0x223491;});});});_0x38048d['on'](_0x389485['GDnGO'],_0x5b10ea=>{const _0x162b7d=_0x59f2d7;_0x5b10ea[_0x162b7d(0x52d)]['once'](_0x2db54f[_0x162b7d(0x127)],_0x4cdb68=>{const _0x14e312=_0x162b7d;assert[_0x14e312(0x236)](_0x4cdb68[_0x14e312(0x388)](0x0,0x2),Buffer[_0x14e312(0x6b2)]([0x88,0x80])),assert[_0x14e312(0x236)](_0x588010,Buffer['from']([0x88,0x0])),_0x5b10ea['on']('close',(_0x411311,_0x5a0b50)=>{const _0x1d93ca=_0x14e312;assert['strictEqual'](_0x411311,0x3ed),assert[_0x1d93ca(0x513)](_0x5a0b50,EMPTY_BUFFER),_0x38048d['close'](_0x207bbc);});}),_0x5b10ea['close']();});}),_0x389485[_0x339d4b(0x215)](it,_0x389485[_0x339d4b(0x307)],_0x53a4fb=>{const _0x316444=_0x339d4b,_0x146f9c={'hfUHT':_0x316444(0x474),'wIAWg':function(_0x21adc5,_0x4ae66d){const _0x1e9cbc=_0x316444;return _0x389485[_0x1e9cbc(0x333)](_0x21adc5,_0x4ae66d);},'SSbiN':_0x389485[_0x316444(0x39b)],'MqxHW':_0x316444(0x440)},_0x2f5e3d=new WebSocket[(_0x316444(0x5ec))]({'port':0x0},()=>{const _0x318952=_0x316444;if(_0x146f9c['wIAWg'](_0x146f9c[_0x318952(0x3d2)],_0x146f9c['MqxHW'])){const _0x1e11cf=new _0x107cae(_0x318952(0x40c)+_0x2dd62c[_0x318952(0x5b5)]()[_0x318952(0x217)],{'perMessageDeflate':{'threshold':0x0}});_0x1e11cf['on'](_0x318952(0x6e1),()=>{const _0x2f8c06=_0x318952;_0x1e11cf['send']('hi',{'compress':!![]}),_0x1e11cf[_0x2f8c06(0x521)]();}),_0x1e11cf['on'](_0x146f9c['hfUHT'],(_0x5856da,_0x5e5c56)=>{const _0x135f08=_0x318952;_0x3de0f4[_0x135f08(0x236)](_0x5856da,_0x3a9fe3[_0x135f08(0x6b2)]('hi')),_0x57464b['ok'](!_0x5e5c56),_0x44dbb3['close'](_0x33f5c0);});}else{const _0x1109d6=new WebSocket(_0x318952(0x40c)+_0x2f5e3d[_0x318952(0x5b5)]()['port']);_0x1109d6['on'](_0x318952(0x6e1),()=>_0x1109d6[_0x318952(0x521)](0x3e8));}});_0x2f5e3d['on'](_0x389485[_0x316444(0x180)],_0x5a59e0=>{_0x5a59e0['on'](_0x2db54f['zXSzL'],(_0x440710,_0x24fcd2)=>{assert['strictEqual'](_0x440710,0x3e8),assert['deepStrictEqual'](_0x24fcd2,EMPTY_BUFFER),_0x2f5e3d['close'](_0x53a4fb);});});}),_0x389485[_0x339d4b(0x128)](it,_0x389485['Tznma'],_0x33ddda=>{const _0x48c667=new WebSocket['Server']({'port':0x0},()=>{const _0xb9232e=_0x397f,_0x1983f5=new WebSocket(_0xb9232e(0x40c)+_0x48c667[_0xb9232e(0x5b5)]()[_0xb9232e(0x217)]);_0x1983f5['on'](_0xb9232e(0x6e1),()=>_0x1983f5['close'](0x3e8,_0xb9232e(0x6b1)));});_0x48c667['on'](_0x389485['GDnGO'],_0xac7184=>{const _0xd9c2d9=_0x397f,_0x688d85={'Yigrk':_0x2db54f[_0xd9c2d9(0x639)],'GWrgz':function(_0x37cf37,_0x2d7f74){const _0x320563=_0xd9c2d9;return _0x2db54f[_0x320563(0x12e)](_0x37cf37,_0x2d7f74);},'FuDDp':_0x2db54f['snWhZ']};_0xac7184['on'](_0xd9c2d9(0x521),(_0x2b522a,_0x3a6da8)=>{const _0x3afbd8=_0xd9c2d9;if(_0x688d85[_0x3afbd8(0x548)](_0x688d85[_0x3afbd8(0x702)],_0x688d85['FuDDp']))assert['strictEqual'](_0x2b522a,0x3e8),assert[_0x3afbd8(0x236)](_0x3a6da8,Buffer[_0x3afbd8(0x6b2)](_0x3afbd8(0x6b1))),_0x48c667[_0x3afbd8(0x521)](_0x33ddda);else{const _0x328c91=new _0x5af3f6(_0x3afbd8(0x40c)+_0x250996[_0x3afbd8(0x5b5)]()['port'],{'perMessageDeflate':![]});_0x328c91['on'](_0x3afbd8(0x6e1),()=>{const _0x53125f=_0x3afbd8;_0x328c91['send']('hi',{'compress':!![]}),_0x328c91[_0x53125f(0x521)]();}),_0x328c91['on'](_0x688d85['Yigrk'],(_0x42513d,_0x4b0b43)=>{const _0x18bd9b=_0x3afbd8;_0x33aa0e[_0x18bd9b(0x236)](_0x42513d,_0x29806a[_0x18bd9b(0x6b2)]('hi')),_0x39129b['ok'](!_0x4b0b43),_0x23d563[_0x18bd9b(0x521)](_0x3e081b);});}});});}),_0x389485['yHlON'](it,_0x339d4b(0x3fe),_0x4777b3=>{const _0x29aa9d=_0x339d4b,_0x13157b={'IRjwC':_0x2db54f[_0x29aa9d(0x584)],'ahHsv':'foo','PnilC':_0x29aa9d(0x20c)};if('Bflkl'!==_0x2db54f[_0x29aa9d(0x6c9)])_0x21a478[_0x29aa9d(0x67b)](_0x1a4027);else{const _0x22f545=new WebSocket[(_0x29aa9d(0x5ec))]({'perMessageDeflate':{'threshold':0x0},'port':0x0},()=>{const _0x2ed690=_0x29aa9d,_0x31ea7d={'XrtZL':_0x2ed690(0x3f9)},_0x171caf=new WebSocket(_0x2ed690(0x40c)+_0x22f545[_0x2ed690(0x5b5)]()[_0x2ed690(0x217)]),_0x382ed7=[];_0x171caf['on'](_0x2ed690(0x474),(_0x1015ef,_0xb92c2e)=>{const _0x5a187e=_0x2ed690;_0x31ea7d[_0x5a187e(0x6f4)]!==_0x5a187e(0x3f9)?(_0x4d437c['strictEqual'](_0x2325d2[_0x5a187e(0x212)],''),_0x5d07c2[_0x5a187e(0x74d)]=_0x3f2b62,_0x4a5e8b()):(assert['ok'](!_0xb92c2e),_0x382ed7[_0x5a187e(0x67b)](_0x1015ef[_0x5a187e(0x241)]()));}),_0x171caf['on'](_0x2db54f[_0x2ed690(0x5cf)],_0x431f2f=>{const _0x49fc02=_0x2ed690;if(_0x13157b[_0x49fc02(0x3b8)]===_0x49fc02(0x2fd)){const _0x2767e1=[];_0x28f23d[_0x49fc02(0x52d)][_0x49fc02(0x194)](_0x49fc02(0x471),_0x387cd0=>{const _0x3538ee=_0x49fc02;_0x2767e1[_0x3538ee(0x67b)](_0x387cd0);}),_0x384656['on']('message',_0x5b3e6b=>{const _0x1e59d5=_0x49fc02;_0x2068e5[_0x1e59d5(0x236)](_0x5b3e6b,_0x3bad4c),_0x2b4c12[_0x1e59d5(0x236)](_0x141309[_0x1e59d5(0x374)](_0x2767e1)['slice'](0x2,0x6),_0x5eb131['alloc'](0x4)),_0x10be8a[_0x1e59d5(0x521)]();});}else assert[_0x49fc02(0x513)](_0x431f2f,0x3ed),assert[_0x49fc02(0x236)](_0x382ed7,[_0x13157b['ahHsv'],_0x49fc02(0x721),_0x13157b['PnilC']]),_0x22f545[_0x49fc02(0x521)](_0x4777b3);});});_0x22f545['on'](_0x2db54f[_0x29aa9d(0x6e4)],_0xf01559=>{const _0xd77016=_0x29aa9d,_0x57f2d4=_0x2b865c=>assert[_0xd77016(0x671)](_0x2b865c);_0xf01559[_0xd77016(0x3bb)]('foo',_0x57f2d4),_0xf01559[_0xd77016(0x3bb)](_0x2db54f[_0xd77016(0x703)],_0x57f2d4),_0xf01559[_0xd77016(0x3bb)](_0x2db54f[_0xd77016(0x579)],_0x57f2d4),_0xf01559[_0xd77016(0x521)](),_0xf01559['close']();});}}),it(_0x389485[_0x339d4b(0x380)],_0x4906ab=>{const _0xc0d895=_0x339d4b,_0x585c99=new WebSocket[(_0xc0d895(0x5ec))]({'port':0x0},()=>{const _0x3b8dd9=_0xc0d895,_0x33e42b=new WebSocket(_0x3b8dd9(0x40c)+_0x585c99[_0x3b8dd9(0x5b5)]()['port']);_0x33e42b['on'](_0x3b8dd9(0x521),_0x1dde6e=>{const _0x4b4dde=_0x3b8dd9;if(_0x4b4dde(0x72f)!=='rucQm')assert[_0x4b4dde(0x513)](_0x1dde6e,0x3f5),_0x585c99['close'](_0x4906ab);else{const _0x3a43f6={'bAVdm':_0x4b4dde(0x3fd)};_0x52c766[_0x4b4dde(0x521)](),_0x3c34e7[_0x4b4dde(0x513)](_0x1bd5c0[_0x4b4dde(0x637)],0x0),_0x21c8e1['send']('hi',_0x122078=>{const _0x4f6506=_0x4b4dde,_0x3113c0={'VGXcB':'WebSocket\x20is\x20not\x20open:\x20readyState\x203\x20(CLOSED)'};_0x46dac5['ok'](_0x122078 instanceof _0x2385e3),_0x1bf2d4['strictEqual'](_0x122078[_0x4f6506(0x474)],_0x3a43f6[_0x4f6506(0x1d8)]),_0x29e0ed[_0x4f6506(0x513)](_0x331ff3[_0x4f6506(0x637)],0x2),_0x229015['on']('close',()=>{const _0x47bd63=_0x4f6506;_0x436bf3[_0x47bd63(0x3bb)]('hi',_0x328727=>{const _0x53885c=_0x47bd63;_0x1feac0['ok'](_0x328727 instanceof _0x122de0),_0x11d8aa[_0x53885c(0x513)](_0x328727[_0x53885c(0x474)],_0x3113c0['VGXcB']),_0x44c79c[_0x53885c(0x513)](_0x8e4578[_0x53885c(0x637)],0x4),_0x461121[_0x53885c(0x521)](_0x4b85d5);});});});}});});_0x585c99['on'](_0x2db54f[_0xc0d895(0x6e4)],_0x21d679=>_0x21d679[_0xc0d895(0x521)](0x3f5));}),it(_0x389485[_0x339d4b(0x431)],_0xd1d5cf=>{const _0xf782f8=_0x339d4b,_0x39f064=new WebSocket[(_0xf782f8(0x5ec))]({'port':0x0},()=>{const _0xe0c0c=_0xf782f8,_0x596f21=new WebSocket(_0xe0c0c(0x40c)+_0x39f064[_0xe0c0c(0x5b5)]()[_0xe0c0c(0x217)]);_0x596f21['on'](_0xe0c0c(0x521),_0x171b8e=>{const _0x343cbb=_0xe0c0c;assert[_0x343cbb(0x513)](_0x171b8e,0x3f6),_0x39f064['close'](_0xd1d5cf);});});_0x39f064['on'](_0x2db54f['CLKCg'],_0x53c5da=>_0x53c5da['close'](0x3f6));}),_0x389485['bomiI'](it,_0x389485['RcSkp'],_0x55b02d=>{const _0x9f62c1=_0x339d4b,_0x39e964={'nRfjZ':_0x389485['DaCWU'],'CCQig':_0x9f62c1(0x487),'orART':_0x9f62c1(0x2a7),'mxJiZ':_0x9f62c1(0x521)},_0x4ff49b=new WebSocket[(_0x9f62c1(0x5ec))]({'port':0x0},()=>{const _0x55f869=_0x9f62c1,_0x51f3c2={'zibZA':_0x39e964[_0x55f869(0x2e5)],'ZhSPu':_0x55f869(0x521),'wSxVO':_0x39e964['CCQig'],'gZGSy':_0x55f869(0x26e)};if(_0x39e964['orART']!=='GrdjP'){const _0x2e9aa4=new WebSocket(_0x55f869(0x40c)+_0x4ff49b[_0x55f869(0x5b5)]()[_0x55f869(0x217)]);_0x2e9aa4['on'](_0x39e964[_0x55f869(0x577)],_0x486519=>{const _0x4b252a=_0x55f869,_0x36941d={'gZbNe':_0x51f3c2['zibZA'],'LwRbq':_0x51f3c2[_0x4b252a(0x6bf)]};_0x4b252a(0x658)===_0x51f3c2[_0x4b252a(0x22c)]?(_0x2d3a99['ok'](_0x111c28 instanceof _0x1e101d),_0x393bab[_0x4b252a(0x513)](_0x50ae7c[_0x4b252a(0x474)],_0x36941d[_0x4b252a(0x5da)]),_0x66f39e['on'](_0x36941d[_0x4b252a(0x57a)],()=>_0x10b5da())):(assert[_0x4b252a(0x513)](_0x486519,0x3ed),assert['strictEqual'](_0x2e9aa4['readyState'],WebSocket['CLOSED']),_0x2e9aa4['close'](),_0x4ff49b[_0x4b252a(0x521)](_0x55b02d));});}else{const _0x5e2d99={'ydAOj':_0x51f3c2[_0x55f869(0x6e2)]},_0x1e5282=new _0x2f6be5[(_0x55f869(0x5ec))]({'port':0x0},()=>{const _0x52252f=_0x55f869,_0x695ea2=new _0x4880ec('ws://localhost:'+_0x1e5282[_0x52252f(0x5b5)]()[_0x52252f(0x217)]);_0x695ea2[_0x52252f(0x591)]=_0x5e2d99['ydAOj'],_0x695ea2[_0x52252f(0x5a2)]=_0x1b13ba=>{const _0x13a092=_0x52252f;_0x2f461b[_0x13a092(0x513)](_0x1b13ba[_0x13a092(0x471)],_0x13a092(0x72b)),_0x1e5282[_0x13a092(0x521)](_0x8f4ea8);};});_0x1e5282['on'](_0x55f869(0x3b0),_0x500ab4=>{const _0x3109c3=_0x55f869;_0x500ab4[_0x3109c3(0x3bb)](_0x3109c3(0x72b)),_0x500ab4[_0x3109c3(0x521)]();});}});_0x4ff49b['on'](_0x389485[_0x9f62c1(0x180)],_0x15af68=>_0x15af68[_0x9f62c1(0x521)]());}),it(_0x389485[_0x339d4b(0x6f8)],_0x492e35=>{const _0x313769=_0x339d4b;if(_0x389485[_0x313769(0x532)](_0x389485[_0x313769(0x5d4)],_0x389485[_0x313769(0x3a0)])){const _0x5eb96d=new WebSocket[(_0x313769(0x5ec))]({'port':0x0},()=>{const _0x21409b=_0x313769,_0x91c185={'zgKcb':_0x2db54f['hmNts'],'CNqkl':function(_0x2b7232,_0x312783){return _0x2b7232 instanceof _0x312783;}};if(_0x2db54f[_0x21409b(0x3a8)](_0x2db54f[_0x21409b(0x1d2)],_0x21409b(0x551))){const _0x46e9b8=new WebSocket(_0x21409b(0x40c)+_0x5eb96d[_0x21409b(0x5b5)]()[_0x21409b(0x217)]);_0x46e9b8['on'](_0x21409b(0x521),(_0x2351b0,_0x476ada)=>{const _0x2f019b=_0x21409b;assert['strictEqual'](_0x2351b0,0x3e8),assert[_0x2f019b(0x236)](_0x476ada,Buffer[_0x2f019b(0x6b2)](_0x2f019b(0x6b1))),_0x5eb96d[_0x2f019b(0x521)](_0x492e35);}),_0x46e9b8['on']('open',()=>{const _0x3c1cf8=_0x21409b;let _0x5a0398=![];assert['strictEqual'](_0x46e9b8[_0x3c1cf8(0x6df)],null),_0x46e9b8[_0x3c1cf8(0x3bb)](_0x3c1cf8(0x72b),()=>{_0x5a0398=!![];}),_0x46e9b8[_0x3c1cf8(0x521)](0x3e8,_0x91c185[_0x3c1cf8(0x125)]),assert[_0x3c1cf8(0x513)](_0x5a0398,![]),assert[_0x3c1cf8(0x513)](_0x46e9b8[_0x3c1cf8(0x6df)][_0x3c1cf8(0x1c0)],0x7530);});}else{const _0x2a4ea7=new _0x1224f8('ws://localhost:'+_0x4a565f[_0x21409b(0x5b5)]()[_0x21409b(0x217)]);_0x2a4ea7[_0x21409b(0x6c5)](_0x21409b(0x6e1),()=>{const _0x33dde1=_0x21409b;_0x2a4ea7[_0x33dde1(0x3bb)]('hi'),_0x2a4ea7[_0x33dde1(0x521)]();}),_0x2a4ea7[_0x21409b(0x6c5)](_0x21409b(0x474),_0x275b3c=>{const _0x13ac71=_0x21409b;_0x25d0b8['ok'](_0x91c185[_0x13ac71(0x655)](_0x275b3c,_0x532804)),_0x272238[_0x13ac71(0x513)](_0x275b3c['data'],'hi'),_0x162aac[_0x13ac71(0x521)](_0x26bda9);});}});}else _0x5405ef['send'](_0x58fed2);});}),_0x389485['bMQDo'](describe,'#terminate',()=>{const _0xfb9e5f=_0x53100d,_0x369bde={'KbpGh':_0xfb9e5f(0x3b0),'cSSmb':_0xfb9e5f(0x35f),'dpWbB':_0x389485[_0xfb9e5f(0x1a9)],'XzcTf':function(_0x505acd,_0x400e59,_0x3a302b){return _0x505acd(_0x400e59,_0x3a302b);},'YWtuc':_0x389485['seVTx'],'AcPhd':_0xfb9e5f(0x6e1),'VMyZs':function(_0x2873bb,_0x15d8ff){return _0x2873bb instanceof _0x15d8ff;},'mlGcV':function(_0x3e3486,_0xd41a66){return _0x3e3486!==_0xd41a66;},'RaAFP':'redirect','tUIIg':function(_0x33aa98,_0x5ee844){return _0x389485['ijrce'](_0x33aa98,_0x5ee844);},'ztYKz':'MlPmM'};_0x389485[_0xfb9e5f(0x347)](_0x389485[_0xfb9e5f(0x1ff)],_0xfb9e5f(0x4bc))?(_0x389485[_0xfb9e5f(0x2aa)](it,_0xfb9e5f(0x63f),_0x5e99c9=>{const _0xc67401=_0xfb9e5f,_0x1f859b={'KJxPn':function(_0x25ebf4,_0x48162e){return _0x25ebf4 instanceof _0x48162e;},'UFrqB':_0xc67401(0x35f),'CzUKX':_0xc67401(0x747)};if(_0x389485[_0xc67401(0x420)]('pDhyi',_0x389485[_0xc67401(0x270)])){const _0x16a94e=new _0x3b9fe2[(_0xc67401(0x5ec))]({'port':0x0},()=>{const _0x55f687=_0xc67401,_0x42d8ca=new _0x56c406(_0x55f687(0x40c)+_0x16a94e[_0x55f687(0x5b5)]()['port']);_0x42d8ca['on']('open',()=>{const _0x2813c8=_0x55f687;_0x3bfa3b[_0x2813c8(0x432)](()=>_0x42d8ca[_0x2813c8(0x1d4)](_0x2027e0['alloc'](0x7e)),/^RangeError: The data size must not be greater than 125 bytes$/),_0x16a94e[_0x2813c8(0x521)](_0x133b47);});});_0x16a94e['on'](_0x369bde[_0xc67401(0x49e)],_0x371fd8=>{const _0x3a8f6b=_0xc67401;_0x371fd8[_0x3a8f6b(0x521)]();});}else{const _0x1fa0cd=new WebSocket[(_0xc67401(0x5ec))]({'port':0x0},()=>{const _0x2fda44=_0xc67401,_0x25575f=new WebSocket(_0x2fda44(0x40c)+_0x1fa0cd[_0x2fda44(0x5b5)]()['port']);_0x25575f['on']('open',()=>_0x5e99c9(new Error(_0x2fda44(0x300)))),_0x25575f['on'](_0x1f859b['CzUKX'],_0x511e8c=>{const _0x150cc2=_0x2fda44;assert['ok'](_0x1f859b[_0x150cc2(0x43a)](_0x511e8c,Error)),assert['strictEqual'](_0x511e8c['message'],_0x1f859b[_0x150cc2(0x5a9)]),_0x25575f['on']('close',()=>_0x1fa0cd[_0x150cc2(0x521)](_0x5e99c9));}),_0x25575f[_0x2fda44(0x1e4)]();});}}),it(_0x389485[_0xfb9e5f(0x290)],_0x29291f=>{const _0x440e75=_0xfb9e5f,_0x4ca34e={'eYNoZ':_0x369bde[_0x440e75(0x3ef)],'ALnvu':_0x369bde['dpWbB'],'EeLSd':function(_0x4f2a97,_0x4d21ac,_0x38ae3a){const _0x494d0e=_0x440e75;return _0x369bde[_0x494d0e(0x2f0)](_0x4f2a97,_0x4d21ac,_0x38ae3a);}},_0x30f4f4=new WebSocket[(_0x440e75(0x5ec))]({'verifyClient':(_0x53d649,_0x533680)=>setTimeout(_0x533680,0x12c,!![]),'port':0x0},()=>{const _0x5450b7=_0x440e75,_0xa908e4=new WebSocket(_0x5450b7(0x40c)+_0x30f4f4[_0x5450b7(0x5b5)]()[_0x5450b7(0x217)]);_0xa908e4['on'](_0x5450b7(0x6e1),()=>_0x29291f(new Error(_0x5450b7(0x300)))),_0xa908e4['on'](_0x4ca34e[_0x5450b7(0x643)],_0x4f612b=>{const _0x23e1ec=_0x5450b7;assert['ok'](_0x4f612b instanceof Error),assert['strictEqual'](_0x4f612b[_0x23e1ec(0x474)],_0x4ca34e['eYNoZ']),_0xa908e4['on'](_0x23e1ec(0x521),()=>_0x30f4f4[_0x23e1ec(0x521)](_0x29291f));}),_0x4ca34e[_0x5450b7(0x163)](setTimeout,()=>_0xa908e4[_0x5450b7(0x1e4)](),0x96);});}),it('can\x20be\x20called\x20from\x20an\x20error\x20listener\x20while\x20connecting',_0x40e4a1=>{const _0x493a4c=_0xfb9e5f,_0x285b39={'aQGuz':_0x389485[_0x493a4c(0x451)],'aojiQ':_0x493a4c(0x521)},_0x1c7a7e=net[_0x493a4c(0x4f4)]();_0x1c7a7e['on'](_0x493a4c(0x3b0),_0x581bb6=>{const _0x5df44e=_0x493a4c;_0x581bb6['on'](_0x5df44e(0x17f),_0x581bb6[_0x5df44e(0x17f)]),_0x581bb6[_0x5df44e(0x22a)](),_0x581bb6[_0x5df44e(0x72e)](Buffer[_0x5df44e(0x6b2)](_0x369bde[_0x5df44e(0x633)]));}),_0x1c7a7e[_0x493a4c(0x6b7)](0x0,()=>{const _0x35145c=_0x493a4c,_0x502aa9=new WebSocket(_0x35145c(0x40c)+_0x1c7a7e['address']()[_0x35145c(0x217)]);_0x502aa9['on'](_0x369bde[_0x35145c(0x143)],()=>_0x40e4a1(new Error(_0x35145c(0x300)))),_0x502aa9['on'](_0x35145c(0x747),_0x333622=>{const _0x505c50=_0x35145c;assert['ok'](_0x333622 instanceof Error),assert[_0x505c50(0x513)](_0x333622[_0x505c50(0x2be)],_0x285b39[_0x505c50(0x1ce)]),_0x502aa9[_0x505c50(0x1e4)](),_0x502aa9['on'](_0x285b39[_0x505c50(0x526)],()=>{const _0x55d5f7=_0x505c50;_0x1c7a7e[_0x55d5f7(0x521)](_0x40e4a1);});});});}),it(_0xfb9e5f(0x35c),_0xeac1c6=>{const _0x2f43c8=_0xfb9e5f,_0x3a6ee5={'BZand':_0x2f43c8(0x300)},_0x19ca5d=http[_0x2f43c8(0x4f4)]();_0x19ca5d[_0x2f43c8(0x1cc)](_0x2f43c8(0x4c8),(_0x2a0a77,_0x100f63)=>{const _0x8921fa=_0x2f43c8;_0x100f63[_0x8921fa(0x17f)](_0x8921fa(0x145));}),_0x19ca5d[_0x2f43c8(0x6b7)](()=>{const _0xedd34=_0x2f43c8,_0x5bc76f={'iyfwc':function(_0x2cfa82,_0x3bb2b2){const _0x3a9e33=_0x397f;return _0x369bde[_0x3a9e33(0x512)](_0x2cfa82,_0x3bb2b2);},'GQaSj':_0xedd34(0x35f),'wnjKn':_0xedd34(0x521),'ilLvX':function(_0x4f6e0f,_0x3726c5){const _0x51cad3=_0xedd34;return _0x369bde[_0x51cad3(0x32d)](_0x4f6e0f,_0x3726c5);},'vhJyu':'jlZyL'},_0x11932f=_0x19ca5d[_0xedd34(0x5b5)]()[_0xedd34(0x217)],_0x19d132=new WebSocket(_0xedd34(0x40c)+_0x11932f,{'followRedirects':!![]});_0x19d132['on'](_0x369bde[_0xedd34(0x143)],()=>{const _0x314356=_0xedd34;_0xeac1c6(new Error(_0x3a6ee5[_0x314356(0x461)]));}),_0x19d132['on'](_0x369bde[_0xedd34(0x6cf)],_0x4c8988=>{const _0x5808bd=_0xedd34,_0x34dca0={'Yousv':function(_0x930d35,_0x47ff50){return _0x930d35 instanceof _0x47ff50;},'fjlbZ':_0x5808bd(0x521),'wDblZ':function(_0x2281b9,_0xc6b905){return _0x2281b9!==_0xc6b905;},'DRJgX':_0x5808bd(0x2dc)};_0x5bc76f[_0x5808bd(0x56a)]('jlZyL',_0x5bc76f[_0x5808bd(0x631)])?(_0x436fa6['ok'](_0x5bc76f[_0x5808bd(0x410)](_0x1d2771,_0x1d23da)),_0x59559f[_0x5808bd(0x513)](_0x42ef09['message'],_0x5bc76f[_0x5808bd(0x5b7)]),_0x2cd83e['on'](_0x5bc76f['wnjKn'],()=>_0x120072['close'](_0x9ac10))):(assert['ok'](_0x4c8988 instanceof Error),assert[_0x5808bd(0x513)](_0x4c8988[_0x5808bd(0x474)],'WebSocket\x20was\x20closed\x20before\x20the\x20connection\x20was\x20established'),_0x19d132['on'](_0x5bc76f[_0x5808bd(0x25d)],_0x820a45=>{const _0x546f29=_0x5808bd,_0x179b74={'YBgqR':function(_0x1faff4,_0x520be9){const _0x3f78c0=_0x397f;return _0x34dca0[_0x3f78c0(0x3ba)](_0x1faff4,_0x520be9);},'thCPp':_0x546f29(0x35f),'HDntU':_0x34dca0[_0x546f29(0x70c)],'QdQoc':_0x546f29(0x6e1),'jLJlO':_0x546f29(0x747),'TFFkM':_0x546f29(0x4c8)};if(_0x34dca0[_0x546f29(0x1fc)](_0x34dca0['DRJgX'],_0x546f29(0x2dc))){const _0x5b4f35=new _0x200bb4('ws://localhost:'+_0x1c3abf['address']()['port']);_0x5b4f35['on'](_0x179b74[_0x546f29(0x182)],()=>_0x3a5b97(new _0x556ca7(_0x546f29(0x300)))),_0x5b4f35['on'](_0x179b74['jLJlO'],_0x29fc8c=>{const _0x9b6e5c=_0x546f29;_0x314ab7['ok'](_0x179b74['YBgqR'](_0x29fc8c,_0xa508a8)),_0x282887[_0x9b6e5c(0x513)](_0x29fc8c['message'],_0x179b74[_0x9b6e5c(0x545)]),_0x5b4f35['on'](_0x179b74[_0x9b6e5c(0x36f)],()=>_0x3c2864[_0x9b6e5c(0x521)](_0x2465de));}),_0x5b4f35['on'](_0x179b74[_0x546f29(0x525)],()=>_0x5b4f35['terminate']());}else assert[_0x546f29(0x513)](_0x820a45,0x3ee),_0x19ca5d[_0x546f29(0x521)](_0xeac1c6);}));}),_0x19d132['on'](_0x369bde[_0xedd34(0x402)],()=>{const _0x409ad4=_0xedd34;_0x19d132[_0x409ad4(0x1e4)]();});});}),_0x389485[_0xfb9e5f(0x2d6)](it,'can\x20be\x20called\x20from\x20a\x20listener\x20of\x20the\x20\x27upgrade\x27\x20event',_0x1ea183=>{const _0x1e75af=_0xfb9e5f,_0xbbeddd={'xTDNR':_0x389485['WOiQS'],'DtdFc':_0x389485[_0x1e75af(0x1a9)],'ZRLag':'upgrade'},_0x353566=new WebSocket[(_0x1e75af(0x5ec))]({'port':0x0},()=>{const _0x53d786=_0x1e75af,_0x59c6ad=new WebSocket('ws://localhost:'+_0x353566[_0x53d786(0x5b5)]()['port']);_0x59c6ad['on'](_0xbbeddd[_0x53d786(0x291)],()=>_0x1ea183(new Error(_0x53d786(0x300)))),_0x59c6ad['on'](_0xbbeddd['DtdFc'],_0x1516ce=>{const _0x301d70=_0x53d786;assert['ok'](_0x1516ce instanceof Error),assert[_0x301d70(0x513)](_0x1516ce['message'],_0x301d70(0x35f)),_0x59c6ad['on'](_0x301d70(0x521),()=>_0x353566[_0x301d70(0x521)](_0x1ea183));}),_0x59c6ad['on'](_0xbbeddd[_0x53d786(0x2e0)],()=>_0x59c6ad[_0x53d786(0x1e4)]());});}),it(_0xfb9e5f(0x53d),_0x619c8e=>{const _0x42d2f3=_0xfb9e5f,_0x540871=new WebSocket[(_0x42d2f3(0x5ec))]({'port':0x0},()=>{const _0x1dcb80=_0x42d2f3,_0x568bf4={'DXkZR':_0x1dcb80(0x521),'DoIUT':function(_0x175f8d,_0x2dda27){const _0x310d63=_0x1dcb80;return _0x369bde[_0x310d63(0x1a3)](_0x175f8d,_0x2dda27);},'oZKrx':_0x369bde[_0x1dcb80(0x3ed)]},_0x1a7127=new WebSocket('ws://localhost:'+_0x540871['address']()[_0x1dcb80(0x217)]);_0x1a7127['on'](_0x1dcb80(0x521),_0x2e4e3b=>{const _0x3dfd40=_0x1dcb80,_0x131012={'FQaUC':_0x568bf4[_0x3dfd40(0x438)]};if(_0x568bf4[_0x3dfd40(0x1f2)](_0x3dfd40(0x2a6),_0x568bf4[_0x3dfd40(0x44c)])){const _0x17dac1=new _0x2c321e(_0x3dfd40(0x40c)+_0x394f09[_0x3dfd40(0x5b5)]()[_0x3dfd40(0x217)]);_0x17dac1['on'](_0x131012['FQaUC'],()=>{const _0x28cd5a=_0x3dfd40;_0x52fb0b['strictEqual'](_0x17dac1['readyState'],_0x919018[_0x28cd5a(0x282)]),_0x25e9bd['close'](_0x3781bd);}),_0x17dac1['on'](_0x3dfd40(0x6e1),()=>_0x17dac1['close'](0x3e9));}else assert[_0x3dfd40(0x513)](_0x2e4e3b,0x3ee),assert['strictEqual'](_0x1a7127['readyState'],WebSocket[_0x3dfd40(0x282)]),_0x1a7127[_0x3dfd40(0x1e4)](),_0x540871['close'](_0x619c8e);});});_0x540871['on'](_0x389485[_0x42d2f3(0x180)],_0x1e8d9b=>_0x1e8d9b[_0x42d2f3(0x1e4)]());})):(_0x57c5ce[_0xfb9e5f(0x513)](_0x346496[_0xfb9e5f(0x1c7)],!![]),_0x341ea5[_0xfb9e5f(0x513)](_0xe1402[_0xfb9e5f(0x2be)],0x3ed),_0x1bcdf3[_0xfb9e5f(0x513)](_0x242006[_0xfb9e5f(0x1db)],''),_0x1cd7bc['close'](_0x2f1da4));}),describe(_0x389485[_0x53100d(0x4ee)],()=>{const _0x4125fe=_0x53100d,_0x34fe25={'CmYiQ':_0x4125fe(0x474),'jXEVJ':_0x4125fe(0x5ca),'zJbSN':_0x389485[_0x4125fe(0x740)],'QDAQr':_0x4125fe(0x521),'IDtLV':_0x389485[_0x4125fe(0x1a9)],'GgaAj':_0x4125fe(0x660),'GtFyI':_0x4125fe(0x4c1),'wrgqB':function(_0x4669d3,_0x5248fd){const _0x207413=_0x4125fe;return _0x389485[_0x207413(0x6be)](_0x4669d3,_0x5248fd);},'ovYZO':_0x389485[_0x4125fe(0x673)],'aPQbl':function(_0x43465e,_0xd52194){const _0x3f1322=_0x4125fe;return _0x389485[_0x3f1322(0x6da)](_0x43465e,_0xd52194);},'VPYfN':_0x4125fe(0x4b3),'ZtwzD':_0x389485[_0x4125fe(0x180)],'WszFP':'HTTP/1.1\x20101\x20Switching\x20Protocols\x0d\x0a','lAzEi':_0x4125fe(0x750),'qjTxk':_0x389485['WsPis'],'KkKCR':function(_0x376ab7,_0x4388c4){return _0x376ab7!==_0x4388c4;},'cIeBF':function(_0x20fb54,_0x251b94,_0x69b870){const _0x2d7dc9=_0x4125fe;return _0x389485[_0x2d7dc9(0x6c4)](_0x20fb54,_0x251b94,_0x69b870);}};_0x389485[_0x4125fe(0x3f5)](it,_0x389485['LUuwb'],()=>{const _0x47811f=_0x4125fe;for(const _0x3859a7 of[_0x389485[_0x47811f(0x425)],_0x389485['zUnpx'],_0x47811f(0x5a2),_0x47811f(0x1be)]){const _0x4a8769=Object[_0x47811f(0x647)](WebSocket[_0x47811f(0x30c)],_0x3859a7);assert[_0x47811f(0x513)](_0x4a8769[_0x47811f(0x23c)],!![]),assert[_0x47811f(0x513)](_0x4a8769[_0x47811f(0x1f0)],!![]),assert['ok'](_0x389485['mroXj'](_0x4a8769[_0x47811f(0x4a5)],undefined)),assert['ok'](_0x4a8769[_0x47811f(0x737)]!==undefined);}const _0x416c44=new WebSocket('ws://localhost',{'agent':new CustomAgent()});assert[_0x47811f(0x513)](_0x416c44[_0x47811f(0x5a2)],null),assert[_0x47811f(0x513)](_0x416c44['onclose'],null),assert[_0x47811f(0x513)](_0x416c44[_0x47811f(0x239)],null),assert[_0x47811f(0x513)](_0x416c44[_0x47811f(0x1be)],null),_0x416c44['onmessage']=NOOP,_0x416c44['onerror']=NOOP,_0x416c44[_0x47811f(0x2f8)]=NOOP,_0x416c44[_0x47811f(0x1be)]=NOOP,assert[_0x47811f(0x513)](_0x416c44[_0x47811f(0x5a2)],NOOP),assert[_0x47811f(0x513)](_0x416c44[_0x47811f(0x2f8)],NOOP),assert[_0x47811f(0x513)](_0x416c44[_0x47811f(0x239)],NOOP),assert[_0x47811f(0x513)](_0x416c44[_0x47811f(0x1be)],NOOP),_0x416c44['onmessage']=_0x389485[_0x47811f(0x2a5)],assert[_0x47811f(0x513)](_0x416c44[_0x47811f(0x5a2)],null),assert[_0x47811f(0x513)](_0x416c44[_0x47811f(0x6c6)](_0x389485[_0x47811f(0x225)]),0x0);}),it('works\x20like\x20the\x20`EventEmitter`\x20interface',_0x412aaa=>{const _0x1cc23c=_0x4125fe,_0x384450={'UUnMY':_0x1cc23c(0x6b1),'ytgPx':'close','Ofgjm':function(_0x13ea85,_0x20fab3){return _0x13ea85===_0x20fab3;},'NVgbU':_0x1cc23c(0x44e),'pzsRY':function(_0x313e78,_0x324fbb){return _0x389485['KMZgq'](_0x313e78,_0x324fbb);},'YJBwM':function(_0x44f733,_0x3b5b7e){return _0x44f733+_0x3b5b7e;},'lQLsh':_0x1cc23c(0x5ef)};if(_0x389485[_0x1cc23c(0x4a7)](_0x389485[_0x1cc23c(0x4dc)],_0x389485['FEwwO'])){const _0x456e3e=new WebSocket['Server']({'port':0x0},()=>{const _0x3e05b3=_0x1cc23c,_0x38f951={'pHjIb':_0x3e05b3(0x72b)};if(_0x384450[_0x3e05b3(0x4a4)]('VQGwc',_0x384450['NVgbU'])){const _0x3b413b=new WebSocket(_0x3e05b3(0x40c)+_0x456e3e[_0x3e05b3(0x5b5)]()[_0x3e05b3(0x217)]);_0x3b413b[_0x3e05b3(0x5a2)]=_0x43a530=>{const _0x77652f=_0x3e05b3;assert['strictEqual'](_0x43a530[_0x77652f(0x471)],'foo'),_0x3b413b[_0x77652f(0x2f8)]=_0x3cfe55=>{const _0x5e02fd=_0x77652f;assert['strictEqual'](_0x3cfe55[_0x5e02fd(0x1c7)],!![]),assert[_0x5e02fd(0x513)](_0x3cfe55['code'],0x3ed),assert[_0x5e02fd(0x513)](_0x3cfe55[_0x5e02fd(0x1db)],''),_0x456e3e[_0x5e02fd(0x521)](_0x412aaa);},_0x3b413b[_0x77652f(0x521)]();},_0x3b413b['onopen']=()=>_0x3b413b[_0x3e05b3(0x3bb)](_0x3e05b3(0x72b));}else{const _0x5304e7={'ndaqY':_0x384450[_0x3e05b3(0x5d1)]},_0x3ba474=new _0x3df232(_0x3e05b3(0x40c)+_0x336175[_0x3e05b3(0x5b5)]()[_0x3e05b3(0x217)]);_0x3ba474['on'](_0x384450[_0x3e05b3(0x654)],(_0x52fd3c,_0x31a71a)=>{const _0x1fc56c=_0x3e05b3;_0x15d931[_0x1fc56c(0x513)](_0x52fd3c,0x3e8),_0x157d32['deepStrictEqual'](_0x31a71a,_0x561d52['from'](_0x5304e7[_0x1fc56c(0x66a)])),_0x548642[_0x1fc56c(0x521)](_0xefaa89);}),_0x3ba474['on'](_0x3e05b3(0x6e1),()=>{const _0x5a5a5b=_0x3e05b3;let _0x3d6f23=![];_0x5bf936[_0x5a5a5b(0x513)](_0x3ba474[_0x5a5a5b(0x6df)],null),_0x3ba474['send'](_0x38f951[_0x5a5a5b(0x51c)],()=>{_0x3d6f23=!![];}),_0x3ba474[_0x5a5a5b(0x521)](0x3e8,'some\x20reason'),_0x4227e8[_0x5a5a5b(0x513)](_0x3d6f23,![]),_0x4b8d9a['strictEqual'](_0x3ba474['_closeTimer']['_idleTimeout'],0x7530);});}});_0x456e3e['on'](_0x1cc23c(0x3b0),_0x482a1d=>{const _0x1fe5c1=_0x1cc23c;_0x482a1d['on'](_0x34fe25[_0x1fe5c1(0x4e1)],(_0x1c7663,_0x3f1cd6)=>{_0x482a1d['send'](_0x1c7663,{'binary':_0x3f1cd6});});});}else{const _0x381c59={'SPzPS':_0x1cc23c(0x1e5)};_0x496de6[_0x1cc23c(0x1cc)]('upgrade',(_0x21434c,_0x1bf80b)=>{const _0x39ee2e=_0x1cc23c;_0x1bf80b['end'](_0x384450[_0x39ee2e(0x460)](_0x384450['YJBwM'](_0x384450[_0x39ee2e(0x206)],'Location:\x20ws://localhost:8080\x0d\x0a'),'\x0d\x0a'));});const _0x1a3271=new _0x47a205(_0x1cc23c(0x40c)+_0x405197[_0x1cc23c(0x5b5)]()[_0x1cc23c(0x217)]);_0x1a3271['on'](_0x1cc23c(0x6e1),()=>_0x5c9899(new _0xc16474(_0x1cc23c(0x300)))),_0x1a3271['on']('error',_0x205d06=>{const _0x4497b9=_0x1cc23c;_0xbdb7fd['ok'](_0x205d06 instanceof _0x4408f2),_0x1744ff['strictEqual'](_0x205d06[_0x4497b9(0x474)],_0x381c59[_0x4497b9(0x2b6)]),_0x3e6b84['strictEqual'](_0x1a3271[_0x4497b9(0x393)],0x0),_0x1a3271['on'](_0x4497b9(0x521),()=>_0x4724fb());});}}),it(_0x4125fe(0x615),()=>{const _0x5cbb62=_0x4125fe,_0x4b8456=new WebSocket(_0x34fe25[_0x5cbb62(0x1ee)],{'agent':new CustomAgent()});_0x4b8456['on'](_0x5cbb62(0x6e1),NOOP),assert['deepStrictEqual'](_0x4b8456[_0x5cbb62(0x6ef)](_0x34fe25['zJbSN']),[NOOP]),assert[_0x5cbb62(0x513)](_0x4b8456[_0x5cbb62(0x1be)],null);}),_0x389485['XaqvD'](it,_0x389485['czMBA'],()=>{const _0x200a37=_0x4125fe,_0x3e2dd7=new WebSocket(_0x200a37(0x5ca),{'agent':new CustomAgent()});_0x3e2dd7['on'](_0x389485[_0x200a37(0x385)],NOOP),_0x3e2dd7['onclose']=NOOP;let _0x3bdd84=_0x3e2dd7['listeners'](_0x389485['urEeD']);assert[_0x200a37(0x513)](_0x3bdd84[_0x200a37(0x4e2)],0x2),assert[_0x200a37(0x513)](_0x3bdd84[0x0],NOOP),assert['strictEqual'](_0x3bdd84[0x1][kListener],NOOP),_0x3e2dd7[_0x200a37(0x2f8)]=NOOP,_0x3bdd84=_0x3e2dd7['listeners'](_0x200a37(0x521)),assert[_0x200a37(0x513)](_0x3bdd84['length'],0x2),assert['strictEqual'](_0x3bdd84[0x0],NOOP),assert['strictEqual'](_0x3bdd84[0x1][kListener],NOOP);}),it(_0x4125fe(0x604),()=>{const _0x252323=_0x4125fe,_0x1a3a0b={'zLAVZ':_0x252323(0x6e1)},_0x43188c=[],_0x3e96d1=new WebSocket(_0x34fe25['jXEVJ'],{'agent':new CustomAgent()});_0x3e96d1[_0x252323(0x6c5)](_0x252323(0x72b),()=>{}),assert[_0x252323(0x513)](_0x3e96d1[_0x252323(0x6c6)](_0x252323(0x72b)),0x0);function _0x422874(){const _0x1f6505=_0x252323;_0x43188c['push'](_0x1a3a0b[_0x1f6505(0x51f)]),assert[_0x1f6505(0x513)](_0x3e96d1['listenerCount'](_0x1a3a0b['zLAVZ']),0x1);}_0x3e96d1['addEventListener'](_0x34fe25['zJbSN'],_0x422874),_0x3e96d1['addEventListener'](_0x34fe25[_0x252323(0x6ca)],_0x422874),assert['strictEqual'](_0x3e96d1[_0x252323(0x6c6)](_0x252323(0x6e1)),0x1);const _0x5d8fff={'handleEvent'(){const _0x2ada65=_0x252323;_0x43188c[_0x2ada65(0x67b)](_0x34fe25[_0x2ada65(0x4e1)]),assert[_0x2ada65(0x513)](this,_0x5d8fff),assert[_0x2ada65(0x513)](_0x3e96d1[_0x2ada65(0x6c6)](_0x2ada65(0x474)),0x0);}};_0x3e96d1['addEventListener']('message',_0x5d8fff,{'once':!![]}),_0x3e96d1[_0x252323(0x6c5)](_0x34fe25[_0x252323(0x4e1)],_0x5d8fff),assert['strictEqual'](_0x3e96d1[_0x252323(0x6c6)](_0x34fe25[_0x252323(0x4e1)]),0x1),_0x3e96d1[_0x252323(0x6c5)](_0x34fe25[_0x252323(0x1b8)],NOOP),_0x3e96d1[_0x252323(0x2f8)]=NOOP;let _0x312fa7=_0x3e96d1[_0x252323(0x6ef)](_0x252323(0x521));assert['strictEqual'](_0x312fa7['length'],0x2),assert[_0x252323(0x513)](_0x312fa7[0x0][kListener],NOOP),assert[_0x252323(0x513)](_0x312fa7[0x1][kListener],NOOP),_0x3e96d1[_0x252323(0x239)]=NOOP,_0x3e96d1['addEventListener'](_0x34fe25[_0x252323(0x6d2)],NOOP),_0x312fa7=_0x3e96d1[_0x252323(0x6ef)](_0x252323(0x747)),assert['strictEqual'](_0x312fa7[_0x252323(0x4e2)],0x2),assert['strictEqual'](_0x312fa7[0x0][kListener],NOOP),assert['strictEqual'](_0x312fa7[0x1][kListener],NOOP),_0x3e96d1['emit'](_0x252323(0x6e1)),_0x3e96d1['emit'](_0x34fe25[_0x252323(0x4e1)],EMPTY_BUFFER,![]),assert[_0x252323(0x236)](_0x43188c,[_0x34fe25['zJbSN'],_0x34fe25['CmYiQ']]);}),_0x389485[_0x4125fe(0x6ac)](it,_0x389485[_0x4125fe(0x3c4)],()=>{const _0x57fce1=_0x4125fe,_0x254731=new WebSocket(_0x57fce1(0x5ca),{'agent':new CustomAgent()});_0x254731[_0x57fce1(0x6c5)](_0x57fce1(0x6e1),NOOP);const _0x38cc64=_0x254731[_0x57fce1(0x6ef)](_0x389485[_0x57fce1(0x740)]);assert[_0x57fce1(0x513)](_0x38cc64[_0x57fce1(0x4e2)],0x1),assert[_0x57fce1(0x513)](_0x38cc64[0x0][kListener],NOOP),assert[_0x57fce1(0x513)](_0x254731['onopen'],null);}),it('doesn\x27t\x20remove\x20listeners\x20added\x20with\x20`addEventListener`',()=>{const _0x426f88=_0x4125fe;if(_0x34fe25[_0x426f88(0x71d)]!==_0x34fe25['GtFyI']){const _0x26a6d9=new WebSocket(_0x34fe25[_0x426f88(0x1ee)],{'agent':new CustomAgent()});_0x26a6d9[_0x426f88(0x6c5)](_0x426f88(0x521),NOOP),_0x26a6d9[_0x426f88(0x2f8)]=NOOP;let _0x51501c=_0x26a6d9[_0x426f88(0x6ef)](_0x34fe25[_0x426f88(0x1b8)]);assert[_0x426f88(0x513)](_0x51501c[_0x426f88(0x4e2)],0x2),assert['strictEqual'](_0x51501c[0x0][kListener],NOOP),assert[_0x426f88(0x513)](_0x51501c[0x1][kListener],NOOP),_0x26a6d9[_0x426f88(0x2f8)]=NOOP,_0x51501c=_0x26a6d9[_0x426f88(0x6ef)](_0x34fe25[_0x426f88(0x1b8)]),assert[_0x426f88(0x513)](_0x51501c[_0x426f88(0x4e2)],0x2),assert[_0x426f88(0x513)](_0x51501c[0x0][kListener],NOOP),assert['strictEqual'](_0x51501c[0x1][kListener],NOOP);}else{const _0x5ad048=new _0x56b9e0(_0x426f88(0x40c)+_0x21a651['address']()['port']);_0x5ad048['on'](_0x426f88(0x521),_0x31d547=>{const _0x3057dc=_0x426f88;_0x41209e[_0x3057dc(0x513)](_0x31d547,0x3f6),_0x3a6deb[_0x3057dc(0x521)](_0x73abbd);});}}),it(_0x4125fe(0x1d0),()=>{const _0xe7a1c3=_0x4125fe,_0x143910=new WebSocket(_0xe7a1c3(0x5ca),{'agent':new CustomAgent()}),_0x7c0848={'handleEvent'(){}};_0x143910[_0xe7a1c3(0x6c5)]('message',_0x7c0848),_0x143910[_0xe7a1c3(0x6c5)](_0xe7a1c3(0x6e1),NOOP),assert['strictEqual'](_0x143910[_0xe7a1c3(0x6ef)](_0xe7a1c3(0x474))[0x0][kListener],_0x7c0848),assert[_0xe7a1c3(0x513)](_0x143910['listeners'](_0xe7a1c3(0x6e1))[0x0][kListener],NOOP),_0x143910[_0xe7a1c3(0x55d)]('message',()=>{}),assert[_0xe7a1c3(0x513)](_0x143910[_0xe7a1c3(0x6ef)](_0x389485[_0xe7a1c3(0x225)])[0x0][kListener],_0x7c0848),_0x143910[_0xe7a1c3(0x55d)](_0x389485[_0xe7a1c3(0x225)],_0x7c0848),_0x143910[_0xe7a1c3(0x55d)](_0x389485['WOiQS'],NOOP),assert['strictEqual'](_0x143910[_0xe7a1c3(0x6c6)](_0x389485[_0xe7a1c3(0x225)]),0x0),assert['strictEqual'](_0x143910[_0xe7a1c3(0x6c6)](_0x389485['WOiQS']),0x0),_0x143910['addEventListener'](_0x389485[_0xe7a1c3(0x225)],NOOP,{'once':!![]}),_0x143910[_0xe7a1c3(0x6c5)](_0xe7a1c3(0x6e1),NOOP,{'once':!![]}),assert[_0xe7a1c3(0x513)](_0x143910[_0xe7a1c3(0x6ef)]('message')[0x0][kListener],NOOP),assert[_0xe7a1c3(0x513)](_0x143910[_0xe7a1c3(0x6ef)](_0x389485['WOiQS'])[0x0][kListener],NOOP),_0x143910['removeEventListener'](_0x389485[_0xe7a1c3(0x225)],()=>{}),assert[_0xe7a1c3(0x513)](_0x143910['listeners'](_0x389485[_0xe7a1c3(0x225)])[0x0][kListener],NOOP),_0x143910['removeEventListener'](_0x389485['yrkSN'],NOOP),_0x143910[_0xe7a1c3(0x55d)](_0x389485['WOiQS'],NOOP),assert[_0xe7a1c3(0x513)](_0x143910['listenerCount'](_0xe7a1c3(0x474)),0x0),assert[_0xe7a1c3(0x513)](_0x143910[_0xe7a1c3(0x6c6)](_0xe7a1c3(0x6e1)),0x0),_0x143910['on'](_0x389485['yrkSN'],NOOP),assert[_0xe7a1c3(0x236)](_0x143910[_0xe7a1c3(0x6ef)](_0xe7a1c3(0x474)),[NOOP]),_0x143910['removeEventListener']('message',NOOP),assert[_0xe7a1c3(0x236)](_0x143910['listeners']('message'),[NOOP]),_0x143910['onclose']=NOOP,assert[_0xe7a1c3(0x513)](_0x143910[_0xe7a1c3(0x6ef)](_0x389485[_0xe7a1c3(0x385)])[0x0][kListener],NOOP),_0x143910[_0xe7a1c3(0x55d)](_0x389485[_0xe7a1c3(0x385)],NOOP),assert[_0xe7a1c3(0x513)](_0x143910[_0xe7a1c3(0x6ef)](_0x389485[_0xe7a1c3(0x385)])[0x0][kListener],NOOP);}),it(_0x4125fe(0x636),_0xf0e138=>{const _0x6510e2=_0x4125fe,_0x3ff2f3={'Pvfbp':_0x6510e2(0x474)},_0x54c7f0=new WebSocket[(_0x6510e2(0x5ec))]({'port':0x0},()=>{const _0x32195a=_0x6510e2,_0x459461={'Uspdq':function(_0x1105a4,_0x3c7a67){return _0x1105a4 instanceof _0x3c7a67;}},_0x516adf=new WebSocket(_0x32195a(0x40c)+_0x54c7f0[_0x32195a(0x5b5)]()[_0x32195a(0x217)]);_0x516adf[_0x32195a(0x6c5)](_0x32195a(0x6e1),()=>{const _0x4dbafb=_0x32195a;_0x516adf[_0x4dbafb(0x3bb)]('hi'),_0x516adf[_0x4dbafb(0x521)]();}),_0x516adf[_0x32195a(0x6c5)](_0x3ff2f3[_0x32195a(0x6aa)],_0x2aa93e=>{const _0x2731dc=_0x32195a;assert['ok'](_0x459461[_0x2731dc(0x1b2)](_0x2aa93e,MessageEvent)),assert[_0x2731dc(0x513)](_0x2aa93e[_0x2731dc(0x471)],'hi'),_0x54c7f0[_0x2731dc(0x521)](_0xf0e138);});});_0x54c7f0['on'](_0x389485['GDnGO'],_0x481a95=>{const _0x14d645=_0x6510e2,_0x491c90={'WQRKN':function(_0x5e3807,_0xdb0b73){return _0x34fe25['wrgqB'](_0x5e3807,_0xdb0b73);},'aBVkR':_0x34fe25[_0x14d645(0x1b8)]};_0x481a95['on'](_0x34fe25[_0x14d645(0x4e1)],(_0x3bf885,_0x16ed00)=>{const _0x57a98c=_0x14d645;_0x57a98c(0x1ef)!==_0x57a98c(0x387)?_0x481a95[_0x57a98c(0x3bb)](_0x3bf885,{'binary':_0x16ed00}):(_0x337ff7['ok'](_0x491c90[_0x57a98c(0x3bd)](_0x57841b,_0xce2d2e)),_0xb639f4[_0x57a98c(0x513)](_0x1176bd[_0x57a98c(0x474)],_0x57a98c(0x3fd)),_0x1519d8[_0x57a98c(0x513)](_0x28a4c1[_0x57a98c(0x637)],0x2),_0x3e0b19['on'](_0x491c90['aBVkR'],()=>{const _0x27ac6d=_0x57a98c,_0x5b6be3={'tKNWB':_0x27ac6d(0x20e)};_0x3a487c[_0x27ac6d(0x3ca)](_0xd72504=>{const _0x44a1b8=_0x27ac6d;_0x42a626['ok'](_0xd72504 instanceof _0x58c652),_0x4a2983['strictEqual'](_0xd72504[_0x44a1b8(0x474)],_0x5b6be3[_0x44a1b8(0x404)]),_0x1986b8[_0x44a1b8(0x513)](_0x20a22e[_0x44a1b8(0x637)],0x2),_0x39e7b8[_0x44a1b8(0x521)](_0x20b605);});}));});});}),it(_0x4125fe(0x618),_0x284780=>{const _0x192978=_0x4125fe,_0x5ff701={'brkpj':_0x389485[_0x192978(0x385)]};if(_0x389485[_0x192978(0x333)](_0x389485[_0x192978(0x5f3)],_0x389485[_0x192978(0x5f3)])){const _0x55625b=new WebSocket['Server']({'port':0x0},()=>{const _0x26ad4c=_0x192978,_0x176b28=new WebSocket('ws://localhost:'+_0x55625b['address']()[_0x26ad4c(0x217)]);_0x176b28[_0x26ad4c(0x6c5)]('close',_0x38d33a=>{const _0x3c892d=_0x26ad4c;assert['ok'](_0x38d33a instanceof CloseEvent),assert['ok'](_0x38d33a[_0x3c892d(0x1c7)]),assert['strictEqual'](_0x38d33a[_0x3c892d(0x1db)],''),assert['strictEqual'](_0x38d33a['code'],0x3e8),_0x55625b[_0x3c892d(0x521)](_0x284780);});});_0x55625b['on']('connection',_0x377ca4=>_0x377ca4[_0x192978(0x521)](0x3e8));}else _0x4c4f24['ok'](_0x37cf0e instanceof _0x1dc7ea),_0x2dbe41[_0x192978(0x513)](_0x2a3baa['message'],_0x192978(0x35f)),_0x4ba545['on'](_0x5ff701[_0x192978(0x677)],()=>_0x3a9b61[_0x192978(0x521)](_0x312a7d));}),_0x389485[_0x4125fe(0x732)](it,'receives\x20a\x20`CloseEvent`\x20when\x20server\x20closes\x20(4000)',_0x5153a8=>{const _0x7cefe=_0x4125fe,_0x33b8a9=new WebSocket['Server']({'port':0x0},()=>{const _0x14527c=_0x397f,_0x50a86f={'xvwNZ':function(_0x40810e,_0x3aa3db){return _0x40810e instanceof _0x3aa3db;},'FqJWd':_0x34fe25[_0x14527c(0x330)]},_0x579a8e=new WebSocket(_0x14527c(0x40c)+_0x33b8a9[_0x14527c(0x5b5)]()['port']);_0x579a8e[_0x14527c(0x6c5)](_0x14527c(0x521),_0x246a62=>{const _0x358351=_0x14527c;assert['ok'](_0x50a86f[_0x358351(0x51d)](_0x246a62,CloseEvent)),assert['ok'](_0x246a62[_0x358351(0x1c7)]),assert[_0x358351(0x513)](_0x246a62['reason'],_0x50a86f[_0x358351(0x3a5)]),assert[_0x358351(0x513)](_0x246a62[_0x358351(0x2be)],0xfa0),_0x33b8a9[_0x358351(0x521)](_0x5153a8);});});_0x33b8a9['on'](_0x7cefe(0x3b0),_0x3f3edd=>_0x3f3edd[_0x7cefe(0x521)](0xfa0,'some\x20daft\x20reason'));}),it(_0x389485[_0x4125fe(0x45e)],_0x52386f=>{const _0x4d0ba0=_0x4125fe,_0x2570e7={'XcaPF':function(_0x467866,_0x4047d0){return _0x467866 instanceof _0x4047d0;},'oTNPr':'forced','soqkb':_0x4d0ba0(0x747),'MnIsv':function(_0x45c2dc,_0x472ed5){const _0x154b85=_0x4d0ba0;return _0x389485[_0x154b85(0x280)](_0x45c2dc,_0x472ed5);}};if('neYFX'===_0x4d0ba0(0x511)){const _0x158c1a=new WebSocket['Server']({'port':0x0},()=>{const _0x2468e4=_0x4d0ba0,_0x24ae8b={'MUpgE':function(_0x38cdf7,_0x30c99f){const _0x5c9db0=_0x397f;return _0x34fe25[_0x5c9db0(0x4a9)](_0x38cdf7,_0x30c99f);},'tztEO':_0x34fe25[_0x2468e4(0x1b8)],'jFLty':'error'},_0x2eb23a=new Error(_0x2468e4(0x1cf)),_0x47c3a8=new WebSocket(_0x2468e4(0x40c)+_0x158c1a[_0x2468e4(0x5b5)]()[_0x2468e4(0x217)]);_0x47c3a8['addEventListener'](_0x34fe25[_0x2468e4(0x6ca)],_0x392c75=>{const _0x50b2df=_0x2468e4;assert['ok'](_0x2570e7[_0x50b2df(0x344)](_0x392c75,Event)),assert[_0x50b2df(0x513)](_0x392c75[_0x50b2df(0x170)],_0x50b2df(0x6e1)),assert[_0x50b2df(0x513)](_0x392c75[_0x50b2df(0x60b)],_0x47c3a8);}),_0x47c3a8[_0x2468e4(0x6c5)](_0x34fe25[_0x2468e4(0x4e1)],_0x3713ed=>{const _0x592ac6=_0x2468e4;assert['ok'](_0x2570e7[_0x592ac6(0x344)](_0x3713ed,MessageEvent)),assert[_0x592ac6(0x513)](_0x3713ed['type'],_0x592ac6(0x474)),assert[_0x592ac6(0x513)](_0x3713ed['target'],_0x47c3a8),_0x47c3a8[_0x592ac6(0x521)]();}),_0x47c3a8[_0x2468e4(0x6c5)](_0x34fe25[_0x2468e4(0x1b8)],_0x4415ad=>{const _0xf3487f=_0x2468e4;assert['ok'](_0x24ae8b[_0xf3487f(0x2ab)](_0x4415ad,CloseEvent)),assert['strictEqual'](_0x4415ad[_0xf3487f(0x170)],_0x24ae8b[_0xf3487f(0x390)]),assert[_0xf3487f(0x513)](_0x4415ad['target'],_0x47c3a8),_0x47c3a8[_0xf3487f(0x1ec)](_0x24ae8b[_0xf3487f(0x71e)],_0x2eb23a);}),_0x47c3a8['addEventListener'](_0x2468e4(0x747),_0x34619e=>{const _0x4a858b=_0x2468e4,_0x556aaa=_0x4a858b(0x14d)[_0x4a858b(0x1fb)]('|');let _0x16f6a6=0x0;while(!![]){switch(_0x556aaa[_0x16f6a6++]){case'0':assert[_0x4a858b(0x513)](_0x34619e[_0x4a858b(0x474)],_0x2570e7[_0x4a858b(0x64f)]);continue;case'1':assert[_0x4a858b(0x513)](_0x34619e[_0x4a858b(0x170)],_0x2570e7[_0x4a858b(0x54e)]);continue;case'2':assert['strictEqual'](_0x34619e[_0x4a858b(0x60b)],_0x47c3a8);continue;case'3':assert['ok'](_0x2570e7[_0x4a858b(0x5b0)](_0x34619e,ErrorEvent));continue;case'4':assert[_0x4a858b(0x513)](_0x34619e[_0x4a858b(0x747)],_0x2eb23a);continue;case'5':_0x158c1a[_0x4a858b(0x521)](_0x52386f);continue;}break;}});});_0x158c1a['on'](_0x4d0ba0(0x3b0),_0x2d1573=>_0x2d1573[_0x4d0ba0(0x3bb)]('hi'));}else _0x4e99d7['handleUpgrade'](_0x3e79b5,_0x1f3823,_0x3879a9,_0x29515c);}),_0x389485[_0x4125fe(0x640)](it,_0x389485['yjamW'],_0x1c4063=>{const _0x314051=_0x4125fe,_0x1136a1={'OEEFX':_0x314051(0x3da)},_0x351da5=new WebSocket[(_0x314051(0x5ec))]({'port':0x0},()=>{const _0xffd155=_0x314051,_0x528448={'aZWTe':_0xffd155(0x35f),'NRUOx':function(_0x3be7c9,_0x2b598a){return _0x3be7c9===_0x2b598a;},'liEBI':_0x34fe25[_0xffd155(0x309)]},_0xcf4f08=new WebSocket(_0xffd155(0x40c)+_0x351da5[_0xffd155(0x5b5)]()[_0xffd155(0x217)]);_0xcf4f08[_0xffd155(0x5a2)]=_0xf38bac=>{const _0x5d0c23=_0xffd155;_0x528448[_0x5d0c23(0x455)]('yBtgj',_0x528448[_0x5d0c23(0x544)])?(assert['ok'](Buffer['isBuffer'](_0xf38bac[_0x5d0c23(0x471)])),_0x351da5['close'](_0x1c4063)):(_0x4c60a2['ok'](_0x55dfd3 instanceof _0x76c24e),_0x17ff71['strictEqual'](_0x471143[_0x5d0c23(0x474)],_0x528448[_0x5d0c23(0x23f)]),_0x1bed9d['on'](_0x5d0c23(0x521),_0xe03c50=>{const _0x44cb7a=_0x5d0c23;_0x4f2abc[_0x44cb7a(0x513)](_0xe03c50,0x3ee),_0x4f8d64['close'](_0x2e4208);}));};});_0x351da5['on'](_0x314051(0x3b0),_0xc1f240=>{const _0x40b209=_0x314051;'ocYeU'!==_0x1136a1[_0x40b209(0x201)]?(_0xc1f240['send'](new Uint8Array(0x1000)),_0xc1f240['close']()):_0x17094a['on']('message',(_0x43e3bd,_0x138501)=>{_0x325d5c['ok'](_0x138501),_0x2d5d46['send'](_0x43e3bd);});});}),it('ignores\x20`binaryType`\x20for\x20text\x20messages',_0x281ef5=>{const _0x4ffa0c=_0x4125fe,_0x563070=new WebSocket[(_0x4ffa0c(0x5ec))]({'port':0x0},()=>{const _0x2b651=_0x4ffa0c,_0x21b5fd=new WebSocket('ws://localhost:'+_0x563070['address']()[_0x2b651(0x217)]);_0x21b5fd['binaryType']=_0x2b651(0x26e),_0x21b5fd[_0x2b651(0x5a2)]=_0x4f84cb=>{const _0x453c5b=_0x2b651;assert['strictEqual'](_0x4f84cb[_0x453c5b(0x471)],_0x453c5b(0x72b)),_0x563070[_0x453c5b(0x521)](_0x281ef5);};});_0x563070['on'](_0x34fe25[_0x4ffa0c(0x554)],_0x3a5209=>{const _0x94ef65=_0x4ffa0c;_0x3a5209[_0x94ef65(0x3bb)](_0x94ef65(0x72b)),_0x3a5209[_0x94ef65(0x521)]();});}),_0x389485[_0x4125fe(0x128)](it,_0x389485['TKmSI'],_0xdc221=>{const _0x397515=_0x4125fe,_0x752237={'wnTHr':function(_0x1c57ed,_0x65c911){return _0x1c57ed===_0x65c911;}},_0x403e66=new WebSocket[(_0x397515(0x5ec))]({'port':0x0},()=>{const _0x372664=_0x397515,_0x3225db={'MGZzE':'end','IuWiU':function(_0x569f23,_0x5a7008){return _0x569f23+_0x5a7008;},'dpLBI':_0x34fe25[_0x372664(0x326)],'nrYyN':function(_0x3474f4){return _0x3474f4();},'eaNHF':_0x34fe25[_0x372664(0x6d2)],'HvhbB':_0x34fe25['lAzEi'],'vnDTO':_0x34fe25[_0x372664(0x5dc)],'VoAsN':function(_0x39336e,_0x30b254){const _0x480ac3=_0x372664;return _0x34fe25[_0x480ac3(0x626)](_0x39336e,_0x30b254);},'eGVyd':_0x372664(0x4e3),'pQGDc':function(_0x243683,_0x5393ac,_0x22193b){return _0x243683(_0x5393ac,_0x22193b);}};if(_0x372664(0x40e)===_0x372664(0x26a)){const _0x4bca05={'rFVvN':function(_0x11524d,_0xbc39a){return _0x11524d instanceof _0xbc39a;},'VFZas':_0x372664(0x1cb),'SVvrS':function(_0x5b44bf){return _0x3225db['nrYyN'](_0x5b44bf);}};_0x17a762[_0x372664(0x1cc)](_0x372664(0x4c8),(_0x297b6f,_0x371cea)=>{const _0x31b6ba=_0x372664;_0x371cea['on'](_0x3225db[_0x31b6ba(0x1f7)],_0x371cea['end']),_0x371cea[_0x31b6ba(0x72e)](_0x3225db[_0x31b6ba(0x5ff)](_0x3225db[_0x31b6ba(0x29d)],'Connection:\x20Upgrade\x0d\x0a')+_0x31b6ba(0x5b2)+'\x0d\x0a');});const _0x27b1bd=new _0x3a5eed(_0x372664(0x40c)+_0x3e8537[_0x372664(0x5b5)]()[_0x372664(0x217)]);_0x27b1bd['on'](_0x3225db[_0x372664(0x650)],_0x5dadd6=>{const _0x8c59c4=_0x372664;_0x32a151['ok'](_0x4bca05[_0x8c59c4(0x476)](_0x5dadd6,_0x3099a9)),_0x116507[_0x8c59c4(0x513)](_0x5dadd6['message'],_0x4bca05[_0x8c59c4(0x2d3)]),_0x4bca05[_0x8c59c4(0x20d)](_0x55a3fc);});}else{const _0x209f4f=new WebSocket(_0x372664(0x40c)+_0x403e66[_0x372664(0x5b5)]()[_0x372664(0x217)]);function _0x364e4b(_0x41d905,_0x3b2055){const _0x35e05f=_0x372664,_0x3d8195={'XFiwi':_0x35e05f(0x6e1)},_0x518da7=Buffer[_0x35e05f(0x6b2)](_0x41d905);_0x209f4f[_0x35e05f(0x591)]=_0x41d905,_0x209f4f['onmessage']=_0x1cd8f5=>{const _0x510d1d=_0x35e05f;if(_0x41d905===_0x3225db[_0x510d1d(0x12f)])assert['ok'](Buffer[_0x510d1d(0x50e)](_0x1cd8f5[_0x510d1d(0x471)])),assert['ok'](_0x1cd8f5[_0x510d1d(0x471)][_0x510d1d(0x663)](_0x518da7));else{if(_0x41d905===_0x3225db[_0x510d1d(0x219)])assert['ok'](_0x1cd8f5[_0x510d1d(0x471)]instanceof ArrayBuffer),assert['ok'](Buffer[_0x510d1d(0x6b2)](_0x1cd8f5[_0x510d1d(0x471)])['equals'](_0x518da7));else{if(_0x41d905===_0x510d1d(0x4e3)){if(_0x3225db[_0x510d1d(0x27a)]('ezOuE',_0x510d1d(0x3cc)))assert[_0x510d1d(0x236)](_0x1cd8f5[_0x510d1d(0x471)],[_0x518da7]);else{const _0x35597b=new _0x5a53fe(_0x510d1d(0x40c)+_0x11f62[_0x510d1d(0x5b5)]()[_0x510d1d(0x217)]);_0x35597b['on'](_0x3d8195['XFiwi'],()=>{const _0x362e50=_0x510d1d;_0x35597b[_0x362e50(0x692)](),_0x2b794a['ok'](_0x35597b[_0x362e50(0x49b)]),_0x35597b['resume'](),_0x50bcbd['ok'](!_0x35597b[_0x362e50(0x49b)]),_0x35597b['close'](),_0x2788f8[_0x362e50(0x521)](_0x3549ed);}),_0x2c870b['ok'](!_0x35597b[_0x510d1d(0x49b)]);}}}}_0x3225db[_0x510d1d(0x4d9)](_0x3b2055);},_0x209f4f[_0x35e05f(0x3bb)](_0x518da7);}_0x209f4f[_0x372664(0x1be)]=()=>{const _0xfcf78=_0x372664,_0x314cd1={'tcZEz':_0x3225db[_0xfcf78(0x68f)],'xOopM':_0xfcf78(0x754),'zpuHP':_0xfcf78(0x521),'CRBql':function(_0x2ca239,_0x8e5f3){return _0x2ca239+_0x8e5f3;},'VQqtA':function(_0x522a88,_0x4829b3){return _0x522a88===_0x4829b3;},'zCXAN':_0xfcf78(0x1c6)};_0x3225db[_0xfcf78(0x230)](_0x364e4b,_0xfcf78(0x750),()=>{const _0x5b1017=_0xfcf78,_0x26a906={'FmMZS':_0x314cd1[_0x5b1017(0x130)],'IsYGO':_0x314cd1[_0x5b1017(0x68b)],'lJTkQ':function(_0x3caaa2,_0x3bf99f){const _0x43babd=_0x5b1017;return _0x314cd1[_0x43babd(0x306)](_0x3caaa2,_0x3bf99f);},'cslks':_0x5b1017(0x6e1)};if(_0x314cd1[_0x5b1017(0x614)](_0x314cd1[_0x5b1017(0x53c)],_0x314cd1[_0x5b1017(0x53c)]))_0x364e4b(_0x5b1017(0x26e),()=>{_0x364e4b(_0x314cd1['tcZEz'],()=>{const _0x2679c4=_0x397f;_0x209f4f['close'](),_0x403e66[_0x2679c4(0x521)](_0xdc221);});});else{const _0x26f1f7={'NHZoc':function(_0x455de6,_0x53a7d4){return _0x26a906['lJTkQ'](_0x455de6,_0x53a7d4);},'myQar':_0x5b1017(0x21f)};_0x276584['once'](_0x5b1017(0x4c8),(_0x13c4e6,_0x41a0a5)=>{const _0x505394=_0x5b1017,_0x381cf1=_0x2d7d8d[_0x505394(0x2ca)](_0x505394(0x266))[_0x505394(0x730)](_0x26f1f7['NHZoc'](_0x13c4e6[_0x505394(0x3ee)]['sec-websocket-key'],_0x46b12e))['digest'](_0x505394(0x499));_0x41a0a5[_0x505394(0x17f)](_0x26f1f7[_0x505394(0x613)](_0x26f1f7[_0x505394(0x427)]+'Upgrade:\x20websocket\x0d\x0a'+_0x505394(0x159)+(_0x505394(0x74e)+_0x381cf1+'\x0d\x0a')+_0x505394(0x294),'\x0d\x0a'));});const _0x261bed=new _0x355c68(_0x5b1017(0x40c)+_0x256691[_0x5b1017(0x5b5)]()[_0x5b1017(0x217)],{'perMessageDeflate':![]});_0x261bed['on'](_0x26a906[_0x5b1017(0x11c)],()=>_0x3453b4(new _0x4d4437('Unexpected\x20\x27open\x27\x20event'))),_0x261bed['on'](_0x5b1017(0x747),_0x4ae268=>{const _0x18f788=_0x5b1017;_0x34092f['ok'](_0x4ae268 instanceof _0x11fbf0),_0x2d7b64[_0x18f788(0x513)](_0x4ae268['message'],_0x26a906[_0x18f788(0x61c)]+'was\x20requested'),_0x261bed['on'](_0x26a906[_0x18f788(0x418)],()=>_0xfbead9());});}});};}});_0x403e66['on'](_0x34fe25[_0x397515(0x554)],_0x265a25=>{const _0x53783b=_0x397515,_0x102026={'wdVFJ':function(_0x302a5d,_0x4eb598,_0x3ff457){const _0x2f55af=_0x397f;return _0x34fe25[_0x2f55af(0x56e)](_0x302a5d,_0x4eb598,_0x3ff457);},'vDTRo':_0x34fe25[_0x53783b(0x5dc)]};_0x265a25['on'](_0x53783b(0x474),(_0x545307,_0x47a4cc)=>{const _0x59bf22=_0x53783b;_0x752237[_0x59bf22(0x5ea)](_0x59bf22(0x276),'uGtBz')?(assert['ok'](_0x47a4cc),_0x265a25[_0x59bf22(0x3bb)](_0x545307)):_0x102026[_0x59bf22(0x64c)](_0x3a9de5,_0x102026[_0x59bf22(0x15f)],()=>{const _0x10c0a0=_0x59bf22;_0x4753a2(_0x10c0a0(0x4e3),()=>{const _0x27eeb0=_0x10c0a0;_0x3ecf37[_0x27eeb0(0x521)](),_0x2ece3d['close'](_0x5ea714);});});});});});}),describe(_0x53100d(0x20b),()=>{const _0x590a4b=_0x53100d,_0x3e15b9={'quslK':_0x389485[_0x590a4b(0x222)],'rDikm':function(_0xe92c36,_0x3c7ead){const _0x218cec=_0x590a4b;return _0x389485[_0x218cec(0x600)](_0xe92c36,_0x3c7ead);},'pnLuN':_0x389485['imLfj'],'czcKo':_0x590a4b(0x30a),'ZOhZE':'Cookie','xCTYU':_0x590a4b(0x521),'LlAHn':function(_0x258ce7,_0x53495e){return _0x258ce7===_0x53495e;},'YGbAf':_0x590a4b(0x6d0),'jTlgk':_0x590a4b(0x293),'Afjcb':_0x590a4b(0x6e1),'XaJyu':_0x590a4b(0x3b0),'CykQd':_0x590a4b(0x5e4),'IlqHO':function(_0x4eedeb){return _0x4eedeb();},'MVZhZ':function(_0x41d082,_0x66caff){return _0x389485['aVSWu'](_0x41d082,_0x66caff);},'ZOHTf':_0x590a4b(0x21f),'LKSoF':_0x389485[_0x590a4b(0x146)]};it(_0x389485['JtDtV'],_0x1feaec=>{const _0x1e9546=_0x590a4b,_0x5d0025=https['createServer']({'cert':fs[_0x1e9546(0x235)](_0x1e9546(0x503)),'key':fs[_0x1e9546(0x235)]('test/fixtures/key.pem')}),_0x4ce7fe=new WebSocket[(_0x1e9546(0x5ec))]({'server':_0x5d0025});_0x4ce7fe['on'](_0x1e9546(0x3b0),()=>{const _0x1ed891=_0x1e9546;_0x5d0025[_0x1ed891(0x521)](_0x1feaec);}),_0x5d0025[_0x1e9546(0x6b7)](0x0,()=>{const _0xe9e0b0=_0x1e9546,_0x14cb32=new WebSocket(_0xe9e0b0(0x53e)+_0x5d0025[_0xe9e0b0(0x5b5)]()[_0xe9e0b0(0x217)],{'rejectUnauthorized':![]});_0x14cb32['on'](_0xe9e0b0(0x6e1),_0x14cb32['close']);});}),it(_0x389485[_0x590a4b(0x574)],_0x3886ce=>{const _0x537d2d=_0x590a4b,_0xea916d={'xtXLo':_0x537d2d(0x6c2),'HfsLX':_0x537d2d(0x59a),'eSjsK':_0x389485['WOiQS']};if(_0x389485[_0x537d2d(0x532)](_0x537d2d(0x37b),_0x389485[_0x537d2d(0x5f6)])){const _0x38f637=new _0x5bba42(_0x2c95c2+_0x537d2d(0x592),{'lookup'(){}});_0x5c89e5['strictEqual'](_0x38f637[_0x537d2d(0x40b)],_0x2e764b+_0x537d2d(0x592));}else{const _0x5c3946=https['createServer']({'cert':fs[_0x537d2d(0x235)](_0x389485[_0x537d2d(0x28e)]),'ca':[fs[_0x537d2d(0x235)](_0x389485[_0x537d2d(0x536)])],'key':fs[_0x537d2d(0x235)](_0x389485[_0x537d2d(0x296)]),'requestCert':!![]}),_0x496007=new WebSocket[(_0x537d2d(0x5ec))]({'noServer':!![]});_0x5c3946['on'](_0x389485['AwNBR'],(_0x14fa27,_0x27d083,_0x3ba9b7)=>{const _0x1ad240=_0x537d2d,_0x240d9d={'EBlwq':_0x3e15b9[_0x1ad240(0x662)]};_0x3e15b9[_0x1ad240(0x50f)](_0x3e15b9[_0x1ad240(0x2cf)],'ScDwl')?(assert['ok'](_0x27d083[_0x1ad240(0x18c)]),_0x496007['handleUpgrade'](_0x14fa27,_0x27d083,_0x3ba9b7,_0x25bf66=>{const _0xf1ca3b=_0x1ad240;_0x25bf66['on'](_0xf1ca3b(0x521),_0x5d84c4=>{const _0x16b58c=_0xf1ca3b;if(_0x240d9d['EBlwq']!==_0x16b58c(0x2dd)){const _0x5c97b3=new _0x232625(_0x16b58c(0x40c)+_0x29a74d[_0x16b58c(0x5b5)]()[_0x16b58c(0x217)]);_0x5c97b3['on']('open',()=>{_0x5c97b3['send']('hi',_0x4a21f8=>{const _0x431e00=_0x397f;_0x19d8f4[_0x431e00(0x671)](_0x4a21f8),_0x3e593c[_0x431e00(0x521)](_0x32bc1c);});});}else assert[_0x16b58c(0x513)](_0x5d84c4,0x3ed),_0x5c3946['close'](_0x3886ce);});})):(_0x4f728b[_0x1ad240(0x236)](_0xbd8cde,_0x24893a),_0x34e352['close'](_0x30f5fb));}),_0x5c3946[_0x537d2d(0x6b7)](0x0,()=>{const _0x430a5d=_0x537d2d,_0x277a73=new WebSocket(_0x430a5d(0x4e0)+_0x5c3946[_0x430a5d(0x5b5)]()['port'],{'cert':fs[_0x430a5d(0x235)](_0xea916d[_0x430a5d(0x32a)]),'key':fs[_0x430a5d(0x235)](_0xea916d[_0x430a5d(0x725)]),'rejectUnauthorized':![]});_0x277a73['on'](_0xea916d[_0x430a5d(0x3d6)],_0x277a73[_0x430a5d(0x521)]);});}}),it(_0x389485[_0x590a4b(0x34a)],_0x3529fd=>{const _0x33a899=_0x590a4b,_0x28cbe4={'KxVaP':_0x389485['PnVhg']},_0x2c4245=https['createServer']({'cert':fs[_0x33a899(0x235)]('test/fixtures/certificate.pem'),'key':fs['readFileSync'](_0x389485[_0x33a899(0x296)])}),_0x42b6be=new WebSocket['Server']({'server':_0x2c4245});_0x2c4245[_0x33a899(0x6b7)](0x0,()=>{const _0x3b58b8=_0x33a899,_0x3f2034=new WebSocket(_0x3b58b8(0x40c)+_0x2c4245[_0x3b58b8(0x5b5)]()['port'],{'rejectUnauthorized':![]});_0x3f2034['on'](_0x28cbe4[_0x3b58b8(0x268)],()=>{const _0x278f30=_0x3b58b8;_0x2c4245['close'](_0x3529fd),_0x42b6be[_0x278f30(0x521)]();});});}),_0x389485[_0x590a4b(0x5f0)](it,_0x590a4b(0x1f1),_0x2624d0=>{const _0x4b6fec=_0x590a4b,_0x20df21=https[_0x4b6fec(0x4f4)]({'cert':fs[_0x4b6fec(0x235)]('test/fixtures/certificate.pem'),'key':fs[_0x4b6fec(0x235)](_0x4b6fec(0x227))}),_0x44f69b=new WebSocket[(_0x4b6fec(0x5ec))]({'server':_0x20df21});_0x44f69b['on'](_0x3e15b9['XaJyu'],_0x2c690d=>{const _0xfd31be=_0x4b6fec;_0x2c690d['on'](_0xfd31be(0x474),(_0x23cc06,_0xf6eb1)=>{const _0x581ea1=_0xfd31be;assert[_0x581ea1(0x236)](_0x23cc06,Buffer[_0x581ea1(0x6b2)](_0x581ea1(0x293))),assert['ok'](!_0xf6eb1),_0x20df21['close'](_0x2624d0);});}),_0x20df21[_0x4b6fec(0x6b7)](0x0,()=>{const _0x2a76de=_0x4b6fec,_0xb5b7c9={'uwcRB':_0x2a76de(0x3cf),'TMjNm':_0x2a76de(0x46e),'WJyKh':_0x3e15b9[_0x2a76de(0x6b8)],'mzTWB':_0x3e15b9[_0x2a76de(0x55e)],'WAorZ':_0x3e15b9[_0x2a76de(0x379)],'QldOy':function(_0x584eda,_0x14851a){const _0x2f9fed=_0x2a76de;return _0x3e15b9[_0x2f9fed(0x213)](_0x584eda,_0x14851a);},'hDkxQ':_0x3e15b9[_0x2a76de(0x1b4)],'Zusct':_0x3e15b9[_0x2a76de(0x178)]},_0x3cfdfa=new WebSocket(_0x2a76de(0x4e0)+_0x20df21[_0x2a76de(0x5b5)]()['port'],{'rejectUnauthorized':![]});_0x3cfdfa['on'](_0x3e15b9[_0x2a76de(0x621)],()=>{const _0x1a01af=_0x2a76de;if(_0xb5b7c9[_0x1a01af(0x576)](_0xb5b7c9[_0x1a01af(0x310)],_0x1a01af(0x6d0)))_0x3cfdfa[_0x1a01af(0x3bb)](_0xb5b7c9[_0x1a01af(0x1da)]),_0x3cfdfa[_0x1a01af(0x521)]();else{const _0x1043da={'authorization':_0xb5b7c9['uwcRB'],'cookie':_0xb5b7c9[_0x1a01af(0x2e9)],'host':'foo'},_0x270de9=new _0x25087c(_0x1a01af(0x40c)+_0x6312a6[_0x1a01af(0x5b5)]()[_0x1a01af(0x217)],{'followRedirects':!![],'headers':_0x1043da}),_0x5357aa=_0x270de9[_0x1a01af(0x23b)];_0xc20750[_0x1a01af(0x513)](_0x5357aa['getHeader'](_0xb5b7c9['WJyKh']),_0x1043da[_0x1a01af(0x11d)]),_0x58a20c[_0x1a01af(0x513)](_0x5357aa[_0x1a01af(0x117)](_0xb5b7c9[_0x1a01af(0x593)]),_0x1043da['cookie']),_0x1ffc68[_0x1a01af(0x513)](_0x5357aa[_0x1a01af(0x117)](_0x1a01af(0x144)),_0x1043da['host']),_0x270de9['on'](_0xb5b7c9['WAorZ'],_0x1d98ce=>{const _0x5a158a=_0x1a01af;_0x158021[_0x5a158a(0x513)](_0x1d98ce,0x3ed),_0x56ec49[_0x5a158a(0x513)](_0x270de9[_0x5a158a(0x40b)],'ws+unix:'+_0xd859f5),_0x159ace[_0x5a158a(0x513)](_0x270de9[_0x5a158a(0x393)],0x1),_0x1e23f6[_0x5a158a(0x521)](_0x49c95c);});}});});}),it(_0x590a4b(0x1c4),_0x45952a=>{const _0x182d8f=_0x590a4b,_0x1ba4af={'SyEjd':_0x389485[_0x182d8f(0x516)],'VlJNI':_0x389485[_0x182d8f(0x180)],'CgvAf':_0x182d8f(0x521),'htRgE':function(_0x22860d,_0x4ee342){const _0x1e5fd7=_0x182d8f;return _0x389485[_0x1e5fd7(0x27d)](_0x22860d,_0x4ee342);},'PxPYo':_0x389485['hgWSr'],'OoOVA':_0x182d8f(0x396)},_0x2f4a06=crypto[_0x182d8f(0x566)](_0x389485[_0x182d8f(0x54b)](_0x389485['bXVrG'](0x5,0x400),0x400)),_0x573f1a=https[_0x182d8f(0x4f4)]({'cert':fs[_0x182d8f(0x235)](_0x182d8f(0x503)),'key':fs['readFileSync']('test/fixtures/key.pem')}),_0x11e5ed=new WebSocket['Server']({'server':_0x573f1a});_0x11e5ed['on'](_0x182d8f(0x3b0),_0x23d9d1=>{const _0x3948d5=_0x182d8f,_0x58b73e={'BolRf':_0x3948d5(0x747),'WjRja':function(_0x3eb835,_0x45f2da){return _0x3eb835+_0x45f2da;}};if(_0x1ba4af['htRgE'](_0x1ba4af['PxPYo'],_0x1ba4af[_0x3948d5(0x65f)])){const _0x17f90e=_0x272785[_0x3948d5(0x5b5)]()[_0x3948d5(0x217)];_0x18bdfe['on'](_0x3948d5(0x4c8),(_0x2e0678,_0x5e6030)=>{const _0xbad8e=_0x3948d5;_0x5e6030['on'](_0x58b73e[_0xbad8e(0x684)],_0x57a975),_0x5e6030[_0xbad8e(0x17f)](_0x58b73e[_0xbad8e(0x667)](_0xbad8e(0x61b),_0xbad8e(0x6c1)+_0x17f90e+_0xbad8e(0x121)));});const _0x144d14={'authorization':_0x1ba4af[_0x3948d5(0x716)],'cookie':'foo=bar','host':_0x3948d5(0x72b)},_0x57c684=new _0x339786[(_0x3948d5(0x5ec))]({'server':_0x117655});_0x57c684['on'](_0x1ba4af[_0x3948d5(0x55f)],(_0x392fe9,_0x59a3c6)=>{const _0xb57b27=_0x3948d5;_0x4975e3['strictEqual'](_0x59a3c6['headers'][_0xb57b27(0x11d)],_0x1209f0),_0x355784['strictEqual'](_0x59a3c6[_0xb57b27(0x3ee)]['cookie'],_0x2f1639),_0x568c57[_0xb57b27(0x513)](_0x59a3c6[_0xb57b27(0x3ee)]['host'],_0x144d14['host']),_0x392fe9[_0xb57b27(0x521)]();});const _0x4c84a7=new _0x5854f6(_0x3948d5(0x4e0)+_0x17f90e,{'followRedirects':!![],'headers':_0x144d14,'rejectUnauthorized':![]}),_0x139a84=_0x4c84a7[_0x3948d5(0x23b)];_0xc66034[_0x3948d5(0x513)](_0x139a84[_0x3948d5(0x117)](_0x3948d5(0x30a)),_0x144d14[_0x3948d5(0x11d)]),_0x237568['strictEqual'](_0x139a84[_0x3948d5(0x117)](_0x3948d5(0x649)),_0x144d14[_0x3948d5(0x28c)]),_0x47be18['strictEqual'](_0x139a84[_0x3948d5(0x117)](_0x3948d5(0x144)),_0x144d14[_0x3948d5(0x4a3)]),_0x4c84a7['on'](_0x1ba4af[_0x3948d5(0x4c7)],_0x53f281=>{const _0x1fa7a7=_0x3948d5;_0x1a08d1['strictEqual'](_0x53f281,0x3ed),_0x58bfc4[_0x1fa7a7(0x513)](_0x4c84a7['url'],_0x1fa7a7(0x40c)+_0x17f90e+'/'),_0x413820[_0x1fa7a7(0x513)](_0x4c84a7[_0x1fa7a7(0x393)],0x1),_0x1c901c['close'](_0x5ad5f3);});}else _0x23d9d1['on']('message',(_0x5d9820,_0x284dfb)=>{const _0x33b88f=_0x3948d5;assert['ok'](_0x284dfb),_0x23d9d1[_0x33b88f(0x3bb)](_0x5d9820),_0x23d9d1[_0x33b88f(0x521)]();});}),_0x573f1a[_0x182d8f(0x6b7)](0x0,()=>{const _0x572c79=_0x182d8f,_0x42d490=new WebSocket(_0x572c79(0x4e0)+_0x573f1a[_0x572c79(0x5b5)]()[_0x572c79(0x217)],{'rejectUnauthorized':![]});_0x42d490['on'](_0x3e15b9[_0x572c79(0x621)],()=>_0x42d490['send'](_0x2f4a06)),_0x42d490['on'](_0x572c79(0x474),(_0x76f654,_0x375a81)=>{const _0x4c1793=_0x572c79;assert[_0x4c1793(0x236)](_0x76f654,_0x2f4a06),assert['ok'](_0x375a81),_0x573f1a[_0x4c1793(0x521)](_0x45952a);});});})['timeout'](0xfa0),_0x389485[_0x590a4b(0x453)](it,_0x389485['ZhgRq'],_0x33c81b=>{const _0x5d9c31=_0x590a4b,_0x48a627=tls['connect'];tls[_0x5d9c31(0x74d)]=_0x55fe58=>{const _0x1e5753=_0x5d9c31;_0x1e5753(0x5e4)!==_0x3e15b9[_0x1e5753(0x3df)]?(_0x36d352['ok'](!_0x5422d2),_0x47d262[_0x1e5753(0x67b)](_0x5d05fd[_0x1e5753(0x241)]())):(assert[_0x1e5753(0x513)](_0x55fe58[_0x1e5753(0x212)],''),tls[_0x1e5753(0x74d)]=_0x48a627,_0x3e15b9[_0x1e5753(0x15b)](_0x33c81b));};const _0x2b93dc=new WebSocket(_0x5d9c31(0x3a7),{'servername':''});}),it(_0x590a4b(0x3c6),function(_0x4c6126){const _0xfe2cf9=_0x590a4b;if(_0x389485[_0xfe2cf9(0x252)]!==_0x389485['UXFfq']){if(process[_0xfe2cf9(0x496)][_0xfe2cf9(0x31b)]<0x40)return this[_0xfe2cf9(0x19c)]();const _0x4da99c=https[_0xfe2cf9(0x4f4)]({'cert':fs[_0xfe2cf9(0x235)]('test/fixtures/certificate.pem'),'key':fs[_0xfe2cf9(0x235)](_0x389485[_0xfe2cf9(0x296)]),'minVersion':_0xfe2cf9(0x3d7)}),_0x34e499=new WebSocket[(_0xfe2cf9(0x5ec))]({'server':_0x4da99c});_0x4da99c[_0xfe2cf9(0x6b7)](0x0,()=>{const _0x4e1b03=_0xfe2cf9,_0x5b8c80={'DVoGX':function(_0x5e0e8f,_0x3731bf){return _0x3e15b9['MVZhZ'](_0x5e0e8f,_0x3731bf);}},_0x322de1=new WebSocket(_0x4e1b03(0x4e0)+_0x4da99c[_0x4e1b03(0x5b5)]()[_0x4e1b03(0x217)],{'maxVersion':_0x4e1b03(0x575),'rejectUnauthorized':![]});_0x322de1['on']('error',_0x5b2522=>{const _0x46cedc=_0x4e1b03;assert['ok'](_0x5b8c80[_0x46cedc(0x553)](_0x5b2522,Error)),_0x4da99c['close'](_0x4c6126),_0x34e499[_0x46cedc(0x521)]();});});}else{const _0x1432f2={'nrXqu':function(_0x1d5149,_0x3f6ecf){return _0x1d5149+_0x3f6ecf;},'NqgPb':_0x3e15b9[_0xfe2cf9(0x45d)],'oQlKw':_0x3e15b9[_0xfe2cf9(0x5c0)],'zliZQ':'Connection:\x20Upgrade\x0d\x0a','Mxqit':_0xfe2cf9(0x4fd)};_0x5d1d51[_0xfe2cf9(0x1cc)]('upgrade',(_0x47f426,_0x531823)=>{const _0x35765a=_0xfe2cf9;_0x531823['on'](_0x35765a(0x17f),_0x531823[_0x35765a(0x17f)]),_0x531823[_0x35765a(0x72e)](_0x1432f2['nrXqu'](_0x1432f2[_0x35765a(0x50d)](_0x1432f2[_0x35765a(0x50a)],_0x1432f2[_0x35765a(0x6af)])+_0x1432f2[_0x35765a(0x74a)]+_0x1432f2['Mxqit'],'\x0d\x0a'));});const _0x20968a=new _0x34f892(_0xfe2cf9(0x40c)+_0x26b92d[_0xfe2cf9(0x5b5)]()[_0xfe2cf9(0x217)]);_0x20968a['on'](_0xfe2cf9(0x747),_0x18d678=>{const _0x589730=_0xfe2cf9;_0x3038fb['ok'](_0x18d678 instanceof _0x8c04ce),_0x50fca7['strictEqual'](_0x18d678[_0x589730(0x474)],_0x589730(0x68c)),_0x2b0ad8();});}});}),_0x389485['cUnZu'](describe,_0x389485[_0x53100d(0x568)],()=>{const _0x196552=_0x53100d,_0x56b7ac={'rlMjM':'authorization','xBPIJ':_0x389485['gHmHr'],'KwHeF':_0x389485[_0x196552(0x186)],'xucvg':function(_0x5a0439){return _0x5a0439();},'hUnQn':_0x389485[_0x196552(0x188)],'aTttR':_0x196552(0x46e),'pPRBA':function(_0x51a4be){return _0x51a4be();},'poBNi':'ws://localhost','awJKl':function(_0x172c69,_0x8f09db){return _0x172c69===_0x8f09db;},'EigtM':_0x389485[_0x196552(0x322)],'qMBzV':_0x196552(0x3ac),'UjnnQ':_0x389485[_0x196552(0x385)],'ppJFG':_0x389485[_0x196552(0x523)],'DYWzi':_0x196552(0x1a1),'SsFSW':_0x389485[_0x196552(0x327)],'nWgaI':_0x389485[_0x196552(0x4d1)]};it(_0x389485[_0x196552(0x74c)],_0x5ef0a1=>{const _0x5f3098=_0x196552,_0x55eb3d={'IlfTz':_0x56b7ac[_0x5f3098(0x4ed)],'ILkvN':_0x56b7ac[_0x5f3098(0x51e)],'dyepw':function(_0x44a93b){return _0x44a93b();}},_0x540987=new http[(_0x5f3098(0x265))](),_0x253e11=_0x56b7ac['KwHeF'];_0x540987[_0x5f3098(0x48e)]=_0x1a6630=>{const _0x485e49=_0x5f3098;assert[_0x485e49(0x513)](_0x1a6630[_0x485e49(0x117)](_0x55eb3d['IlfTz']),_0x485e49(0x223)+Buffer['from'](_0x253e11)[_0x485e49(0x241)](_0x55eb3d[_0x485e49(0x1ba)])),_0x55eb3d[_0x485e49(0x752)](_0x5ef0a1);};const _0x386b3d=new WebSocket(_0x5f3098(0x6f9)+_0x253e11+'@localhost',{'agent':_0x540987});}),_0x389485['wzIaq'](it,_0x196552(0x250),_0x240f91=>{const _0x14a19e=_0x196552,_0x45f9a3=new http[(_0x14a19e(0x265))](),_0x1da964=_0x389485[_0x14a19e(0x47f)];_0x45f9a3[_0x14a19e(0x48e)]=_0x45ffc9=>{const _0x27bfb8=_0x14a19e;assert[_0x27bfb8(0x513)](_0x45ffc9[_0x27bfb8(0x117)](_0x56b7ac[_0x27bfb8(0x4ed)]),_0x27bfb8(0x223)+Buffer[_0x27bfb8(0x6b2)](_0x1da964)['toString'](_0x56b7ac['xBPIJ'])),_0x56b7ac[_0x27bfb8(0x2c5)](_0x240f91);};const _0x18efe6=new WebSocket(_0x14a19e(0x5ca),{'agent':_0x45f9a3,'auth':_0x1da964});}),_0x389485[_0x196552(0x4bb)](it,_0x196552(0x164),_0x52c9e7=>{const _0x5209c9=_0x196552,_0x493e9f={'Qvdxa':_0x5209c9(0x11d),'eEYyz':function(_0x4ee674){return _0x4ee674();}},_0x4412f0=new http[(_0x5209c9(0x265))](),_0x5895e5=_0x56b7ac[_0x5209c9(0x357)],_0x23d63e=_0x5209c9(0x202);_0x4412f0[_0x5209c9(0x48e)]=_0x269e43=>{const _0x3438b6=_0x5209c9;assert[_0x3438b6(0x513)](_0x269e43[_0x3438b6(0x117)](_0x493e9f[_0x3438b6(0x74f)]),_0x3438b6(0x223)+Buffer[_0x3438b6(0x6b2)](_0x23d63e)[_0x3438b6(0x241)](_0x3438b6(0x499))),_0x493e9f['eEYyz'](_0x52c9e7);};const _0x709e76=new WebSocket(_0x5209c9(0x6f9)+_0x23d63e+'@localhost',{'agent':_0x4412f0,'auth':_0x5895e5});}),it(_0x389485[_0x196552(0x2ba)],_0x58ecc4=>{const _0x2ca8f5=_0x196552,_0x1b4b8e=new http[(_0x2ca8f5(0x265))]();_0x1b4b8e[_0x2ca8f5(0x48e)]=_0x30acd9=>{const _0x531260=_0x2ca8f5;assert[_0x531260(0x513)](_0x30acd9[_0x531260(0x117)](_0x531260(0x28c)),_0x56b7ac['aTttR']),_0x56b7ac[_0x531260(0x585)](_0x58ecc4);};const _0x243ed4=new WebSocket(_0x56b7ac[_0x2ca8f5(0x5f7)],{'headers':{'Cookie':_0x2ca8f5(0x46e)},'agent':_0x1b4b8e});}),_0x389485['yKYyj'](it,'excludes\x20default\x20ports\x20from\x20host\x20header',()=>{const _0x1de4c9=_0x196552,_0x161e45={'lookup'(){}},_0x204934=[[_0x1de4c9(0x3be),'localhost:8443'],[_0x389485[_0x1de4c9(0x6dd)],_0x1de4c9(0x57d)],[_0x389485[_0x1de4c9(0x30b)],_0x389485['zHDcJ']],[_0x1de4c9(0x15e),_0x389485[_0x1de4c9(0x3a2)]]];for(const [_0x3eb555,_0x5ebfff]of _0x204934){const _0x531b39=new WebSocket(_0x3eb555,_0x161e45);assert['strictEqual'](_0x531b39[_0x1de4c9(0x23b)][_0x1de4c9(0x117)](_0x1de4c9(0x4a3)),_0x5ebfff);}}),_0x389485[_0x196552(0x53a)](it,_0x196552(0x283),_0xcae95a=>{const _0x2106b8=_0x196552,_0xbe2355={'XJdNm':function(_0x3aa0ad,_0x10d172){const _0x11bafc=_0x397f;return _0x56b7ac[_0x11bafc(0x6ce)](_0x3aa0ad,_0x10d172);},'tpsGj':'KVloO'},_0x51a704=new http['Agent']();_0x51a704[_0x2106b8(0x48e)]=_0x2774af=>{const _0x705b8b=_0x2106b8;if(_0xbe2355['XJdNm'](_0xbe2355[_0x705b8b(0x14c)],_0x705b8b(0x407))){const _0x229240=new _0x540fbf(_0x705b8b(0x40c)+_0x14eb0d[_0x705b8b(0x5b5)]()[_0x705b8b(0x217)]);_0x37544a['strictEqual'](_0x229240[_0x705b8b(0x695)],''),_0x229240['on'](_0x705b8b(0x6e1),()=>{const _0x2494fe=_0x705b8b;_0x16f1d9[_0x2494fe(0x513)](_0x229240['extensions'],_0x2494fe(0x6c3)),_0x229240['on']('close',()=>_0x2b15c1[_0x2494fe(0x521)](_0x47df87));});}else assert[_0x705b8b(0x513)](_0x2774af[_0x705b8b(0x117)](_0x705b8b(0x1b1)),undefined),_0xcae95a();};const _0xcd87e2=new WebSocket(_0x56b7ac['poBNi'],{'agent':_0x51a704});}),it(_0x196552(0x3fa),_0x35c0e4=>{const _0x6e9cd1=_0x196552,_0x537125={'YEKhQ':function(_0x2c3165,_0x42400d){return _0x2c3165 instanceof _0x42400d;},'FWPCT':_0x56b7ac[_0x6e9cd1(0x3e9)],'ZxSXX':_0x56b7ac[_0x6e9cd1(0x350)]};if(_0x56b7ac[_0x6e9cd1(0x2b8)]!==_0x56b7ac[_0x6e9cd1(0x2b8)])_0x1d55c1['ok'](_0x537125['YEKhQ'](_0x5ae8df,_0x456f7d)),_0x42e818['strictEqual'](_0x36258f[_0x6e9cd1(0x2be)],_0x537125[_0x6e9cd1(0x3d9)]),_0x5541c0[_0x6e9cd1(0x1e4)](),_0x1d97bb['on'](_0x537125[_0x6e9cd1(0x273)],()=>{const _0x2c5888=_0x6e9cd1;_0x39d416[_0x2c5888(0x521)](_0x29d108);});else{const _0x3ca02d=new http[(_0x6e9cd1(0x265))]();_0x3ca02d['addRequest']=_0x56dea4=>{const _0xb5e819=_0x6e9cd1;assert[_0xb5e819(0x513)](_0x56dea4[_0xb5e819(0x117)](_0x56b7ac[_0xb5e819(0x325)]),_0xb5e819(0x1a1)),_0x35c0e4();};const _0x4da03=new WebSocket(_0x56b7ac['poBNi'],{'origin':_0x56b7ac[_0x6e9cd1(0x534)],'agent':_0x3ca02d});}}),it('honors\x20the\x20`origin`\x20option\x20(2/2)',_0x4d69fc=>{const _0x50f47d=_0x196552,_0x253392=new http['Agent']();_0x253392[_0x50f47d(0x48e)]=_0x56a56a=>{const _0x414196=_0x50f47d;assert[_0x414196(0x513)](_0x56a56a['getHeader'](_0x56b7ac[_0x414196(0x4b7)]),_0x56b7ac['DYWzi']),_0x4d69fc();};const _0x133895=new WebSocket(_0x56b7ac[_0x50f47d(0x5f7)],{'origin':'https://example.com:8000','protocolVersion':0x8,'agent':_0x253392});}),it(_0x196552(0x338),_0x3a530a=>{const _0x23fe37=_0x196552,_0x5067a2={'oQNrh':_0x56b7ac[_0x23fe37(0x3f7)]},_0x3d18bd=new WebSocket[(_0x23fe37(0x5ec))]({'port':0x0},()=>{const _0x855953=_0x23fe37,_0x26c2c6='localhost:'+_0x3d18bd[_0x855953(0x5b5)]()[_0x855953(0x217)],_0x41d9f0=new WebSocket(_0x855953(0x6f9)+_0x26c2c6,{'finishRequest'(_0x296942,_0x466e28){const _0x2b64f7=_0x855953,_0x251c00={'xScuo':_0x2b64f7(0x46e)};assert['ok'](_0x296942 instanceof http['ClientRequest']),assert[_0x2b64f7(0x513)](_0x296942[_0x2b64f7(0x117)](_0x2b64f7(0x4a3)),_0x26c2c6),assert['ok'](_0x466e28 instanceof WebSocket),assert[_0x2b64f7(0x513)](_0x296942,_0x466e28[_0x2b64f7(0x23b)]),_0x296942['on'](_0x5067a2[_0x2b64f7(0x742)],_0x42b5b0=>{const _0x147a01=_0x2b64f7;_0x42b5b0['on'](_0x147a01(0x74d),()=>{const _0x1ba56f=_0x147a01;_0x296942[_0x1ba56f(0x12c)](_0x1ba56f(0x649),_0x251c00[_0x1ba56f(0x1c1)]),_0x296942['end']();});});}});_0x41d9f0['on'](_0x56b7ac['UjnnQ'],_0x367047=>{const _0x53bba9=_0x855953;assert[_0x53bba9(0x513)](_0x367047,0x3ed),_0x3d18bd[_0x53bba9(0x521)](_0x3a530a);});});_0x3d18bd['on'](_0x23fe37(0x3b0),(_0x4211e2,_0x2bbf3f)=>{const _0x5a00b9=_0x23fe37;assert[_0x5a00b9(0x513)](_0x2bbf3f['headers']['cookie'],_0x5a00b9(0x46e)),_0x4211e2['close']();});});}),_0x389485[_0x53100d(0x64a)](describe,_0x53100d(0x6c3),()=>{const _0xbc1e9d=_0x53100d,_0x2aeda9={'KzDRH':function(_0x4252e7,_0x5db2cc){return _0x4252e7-_0x5db2cc;},'jvPOw':_0xbc1e9d(0x6e1),'KMmpw':_0x389485[_0xbc1e9d(0x225)],'XoStV':function(_0x3e2d1d,_0x37004d){return _0x3e2d1d-_0x37004d;},'WBqCE':_0xbc1e9d(0x72b),'DyGdM':_0x389485[_0xbc1e9d(0x5c5)],'Lkecu':_0x389485[_0xbc1e9d(0x385)],'eXCMy':function(_0x3ad99e,_0x1ff296){const _0x43c668=_0xbc1e9d;return _0x389485[_0x43c668(0x4d2)](_0x3ad99e,_0x1ff296);},'uEBsg':_0x389485['urYLl'],'FeJLM':_0x389485[_0xbc1e9d(0x1f5)],'VSxPn':function(_0x591e9c){const _0x16f670=_0xbc1e9d;return _0x389485[_0x16f670(0x397)](_0x591e9c);},'FKVDl':_0xbc1e9d(0x5e5),'ineSD':function(_0x596469,_0x270b65){const _0x235b9c=_0xbc1e9d;return _0x389485[_0x235b9c(0x132)](_0x596469,_0x270b65);},'JnJUK':_0xbc1e9d(0x3b0),'CSkmT':function(_0x51c3f0,_0x390be6){const _0x4bb07d=_0xbc1e9d;return _0x389485[_0x4bb07d(0x234)](_0x51c3f0,_0x390be6);},'fewoY':'VafJR','tYDPo':_0xbc1e9d(0x11e),'iikkF':_0x389485['OcYKn'],'mGySh':function(_0x2702b7,_0x5c2429,_0x2a7428){return _0x2702b7(_0x5c2429,_0x2a7428);},'Hpdgt':_0xbc1e9d(0x281),'lebQl':function(_0x384f24,_0x1dcf38,_0x1c4ba7){return _0x384f24(_0x1dcf38,_0x1c4ba7);},'fnwKE':_0xbc1e9d(0x337),'mCsDk':_0x389485[_0xbc1e9d(0x4d5)]};_0x389485['YQZgH'](it,_0xbc1e9d(0x61d),_0x17cfe1=>{const _0x121e0b=_0xbc1e9d,_0x4c32eb={'rhjTu':_0x389485['cQhsZ'],'obFic':_0x389485[_0x121e0b(0x3f8)],'mkWTb':_0x389485[_0x121e0b(0x6eb)]},_0x10aa67=new http['Agent']();_0x10aa67[_0x121e0b(0x48e)]=_0x37eda0=>{const _0x296e4a=_0x121e0b;if(_0x4c32eb[_0x296e4a(0x60c)]!==_0x4c32eb[_0x296e4a(0x60c)]){let _0xd84350=0x0;_0x1ef8a3['on'](_0x296e4a(0x3ca),_0x3999be=>{const _0x4f7203=_0x296e4a;_0x1ac130['ok'](_0x44fe52[_0x4f7203(0x50e)](_0x3999be)),_0x3c8ebb[_0x4f7203(0x513)](_0x3999be[_0x4f7203(0x4e2)],0x0);if(++_0xd84350===0x2)_0x54a1fa['close'](_0x1bc355);});}else assert['strictEqual'](_0x37eda0[_0x296e4a(0x117)](_0x4c32eb[_0x296e4a(0x51a)]),_0x4c32eb['mkWTb']),_0x17cfe1();};const _0x855e2e=new WebSocket('ws://localhost',{'agent':_0x10aa67});}),it(_0x389485[_0xbc1e9d(0x64b)],_0xdc196e=>{const _0x2fb002=_0xbc1e9d,_0x372352={'zPoOt':function(_0x5435c1){return _0x5435c1();}},_0x5edfe2=new http[(_0x2fb002(0x265))]();_0x5edfe2['addRequest']=_0x6076ba=>{const _0x2500e9=_0x2fb002;assert[_0x2500e9(0x513)](_0x6076ba[_0x2500e9(0x117)](_0x2500e9(0x214)),undefined),_0x372352[_0x2500e9(0x712)](_0xdc196e);};const _0x470ff4=new WebSocket(_0x389485['HIIIZ'],{'perMessageDeflate':![],'agent':_0x5edfe2});}),_0x389485[_0xbc1e9d(0x472)](it,_0x389485[_0xbc1e9d(0x3b4)],_0x76e5bb=>{const _0x405042=_0xbc1e9d,_0x1a7915=new http[(_0x405042(0x265))](),_0x1e589a=_0x389485[_0x405042(0x161)](_0x405042(0x498),_0x405042(0x439))+_0x389485[_0x405042(0x714)];_0x1a7915[_0x405042(0x48e)]=_0x2be897=>{const _0x1ba7a4=_0x405042;assert[_0x1ba7a4(0x513)](_0x2be897['getHeader'](_0x1ba7a4(0x214)),_0x1e589a),_0x76e5bb();};const _0x126f2b=new WebSocket(_0x389485[_0x405042(0x36d)],{'perMessageDeflate':{'clientNoContextTakeover':!![],'serverNoContextTakeover':!![],'clientMaxWindowBits':!![],'serverMaxWindowBits':0xa},'agent':_0x1a7915});}),_0x389485[_0xbc1e9d(0x2c3)](it,_0xbc1e9d(0x30f),_0x5cdb55=>{const _0x1b7115=_0xbc1e9d,_0x2725df={'muayh':_0x1b7115(0x521),'FiYrS':_0x389485[_0x1b7115(0x2ad)],'xRsVG':_0x1b7115(0x20c),'QWzDc':_0x389485[_0x1b7115(0x20a)],'CbxEL':_0x389485['WOiQS'],'apMDc':_0x389485[_0x1b7115(0x2a5)]};if(_0x389485[_0x1b7115(0x420)](_0x389485[_0x1b7115(0x60d)],_0x389485[_0x1b7115(0x5b3)])){const _0x68cf00=new _0x3a6986[(_0x1b7115(0x5ec))]({'port':0x0},()=>{const _0x53c18f=_0x1b7115,_0x336518=new _0x3067cd(_0x53c18f(0x40c)+_0x68cf00[_0x53c18f(0x5b5)]()[_0x53c18f(0x217)]);_0x336518['on'](_0x53c18f(0x521),()=>{const _0x58549d=_0x53c18f;_0x355bf0['strictEqual'](_0x336518[_0x58549d(0x459)],_0x3e80fe[_0x58549d(0x282)]),_0x68cf00['close'](_0x5dbfc8);}),_0x336518['on'](_0x53c18f(0x6e1),()=>_0x336518[_0x53c18f(0x1e4)]());});}else{const _0x487139=new WebSocket[(_0x1b7115(0x5ec))]({'perMessageDeflate':{'threshold':0x0},'port':0x0},()=>{const _0x3effb5=_0x1b7115,_0x3b7199=[],_0x2d7c06=new WebSocket(_0x3effb5(0x40c)+_0x487139['address']()['port']);_0x2d7c06['on'](_0x2725df['CbxEL'],()=>{const _0x144172=_0x3effb5;_0x2d7c06[_0x144172(0x52d)]['on'](_0x2725df[_0x144172(0x21c)],()=>{const _0x5be208=_0x144172;assert[_0x5be208(0x513)](_0x2d7c06['_receiver'][_0x5be208(0x429)],0x5);});}),_0x2d7c06['on']('message',(_0x4c719a,_0x5446a2)=>{const _0x520aaf=_0x3effb5;assert['ok'](!_0x5446a2),_0x3b7199[_0x520aaf(0x67b)](_0x4c719a[_0x520aaf(0x241)]());}),_0x2d7c06['on'](_0x3effb5(0x521),_0x2e3d96=>{const _0x3ccdf6=_0x3effb5;assert[_0x3ccdf6(0x513)](_0x2e3d96,0x3ee),assert[_0x3ccdf6(0x236)](_0x3b7199,[_0x3ccdf6(0x72b),_0x2725df[_0x3ccdf6(0x444)],_0x2725df[_0x3ccdf6(0x6fd)],_0x2725df[_0x3ccdf6(0x421)]]),_0x487139['close'](_0x5cdb55);});});_0x487139['on'](_0x1b7115(0x3b0),_0x5777bc=>{const _0x16af8f=_0x1b7115;_0x5777bc[_0x16af8f(0x3bb)](_0x2725df[_0x16af8f(0x423)]),_0x5777bc[_0x16af8f(0x3bb)](_0x2725df[_0x16af8f(0x444)]),_0x5777bc[_0x16af8f(0x3bb)](_0x2725df[_0x16af8f(0x6fd)]),_0x5777bc[_0x16af8f(0x3bb)](_0x16af8f(0x1d3),()=>_0x5777bc[_0x16af8f(0x52d)]['end']());});}}),_0x389485['GkZkI'](it,_0xbc1e9d(0x271),_0xd98a18=>{const _0x27e703=_0xbc1e9d,_0x50a7ba={'DnPhC':'2|1|0|3|4','iAXJs':function(_0x27aa52,_0x70e23d){const _0x35c613=_0x397f;return _0x2aeda9[_0x35c613(0x12d)](_0x27aa52,_0x70e23d);}},_0x18beab=new WebSocket[(_0x27e703(0x5ec))]({'perMessageDeflate':!![],'port':0x0},()=>{const _0x4a100b=_0x27e703,_0x20731b={'Gbptq':function(_0xb3afa,_0x3b7cc9){return _0xb3afa-_0x3b7cc9;},'RaqZA':function(_0x50d1c2,_0x5d46b3){const _0x544917=_0x397f;return _0x2aeda9[_0x544917(0x54d)](_0x50d1c2,_0x5d46b3);}},_0x731322=[],_0x35c8d4=new WebSocket(_0x4a100b(0x40c)+_0x18beab[_0x4a100b(0x5b5)]()[_0x4a100b(0x217)]);_0x35c8d4['on'](_0x2aeda9[_0x4a100b(0x4be)],()=>{const _0x568276=_0x4a100b;_0x35c8d4[_0x568276(0x52d)]['prependListener'](_0x568276(0x521),()=>{const _0x4919ae=_0x568276;assert['strictEqual'](_0x35c8d4['_receiver'][_0x4919ae(0x429)],0x5),assert[_0x4919ae(0x513)](_0x35c8d4[_0x4919ae(0x52d)][_0x4919ae(0x6d6)][_0x4919ae(0x4e2)],0x3);});const _0x54884f=_0x35c8d4['_socket'][_0x568276(0x67b)];_0x35c8d4[_0x568276(0x52d)][_0x568276(0x67b)]=_0x135e4f=>{const _0x3592bf=_0x568276;_0x35c8d4[_0x3592bf(0x52d)][_0x3592bf(0x67b)]=_0x54884f,_0x35c8d4[_0x3592bf(0x52d)]['push'](_0x135e4f),_0x35c8d4['terminate']();};const _0x2710f9=Buffer[_0x568276(0x37c)](highWaterMark-0x400),_0x28bc28=Buffer[_0x568276(0x37c)](0x1),_0x21fbae={'fin':!![],'opcode':0x2,'mask':![],'readOnly':![]},_0x1118bb=[...Sender['frame'](_0x2710f9,{'rsv1':![],..._0x21fbae}),...Sender['frame'](_0x28bc28,{'rsv1':!![],..._0x21fbae})];for(let _0x49974e=0x0;_0x49974e<0x154;_0x49974e++){_0x1118bb[_0x568276(0x67b)](_0x1118bb[_0x20731b['Gbptq'](_0x1118bb[_0x568276(0x4e2)],0x2)],_0x1118bb[_0x20731b[_0x568276(0x4af)](_0x1118bb[_0x568276(0x4e2)],0x1)]);}const _0x36e4ff=Buffer[_0x568276(0x374)](_0x1118bb);assert['ok'](_0x36e4ff['length']>highWaterMark),_0x54884f[_0x568276(0x31c)](_0x35c8d4[_0x568276(0x52d)],_0x36e4ff),_0x18beab[_0x568276(0x610)][_0x568276(0x4eb)]()[_0x568276(0x46f)]()['value']['send'](_0x28bc28,{'compress':![]});}),_0x35c8d4['on'](_0x2aeda9['KMmpw'],(_0x5e152b,_0x552281)=>{assert['ok'](_0x552281),_0x731322['push'](_0x5e152b['length']);}),_0x35c8d4['on']('close',_0x999e88=>{const _0x2455ed=_0x4a100b,_0x1fb8e7=_0x50a7ba[_0x2455ed(0x705)][_0x2455ed(0x1fb)]('|');let _0x56005e=0x0;while(!![]){switch(_0x1fb8e7[_0x56005e++]){case'0':assert[_0x2455ed(0x513)](_0x731322[0x0],_0x50a7ba[_0x2455ed(0x195)](highWaterMark,0x400));continue;case'1':assert['strictEqual'](_0x731322['length'],0x157);continue;case'2':assert[_0x2455ed(0x513)](_0x999e88,0x3ee);continue;case'3':assert['strictEqual'](_0x731322[_0x50a7ba['iAXJs'](_0x731322['length'],0x1)],0x1);continue;case'4':_0x18beab['close'](_0xd98a18);continue;}break;}});});}),_0x389485[_0xbc1e9d(0x406)](it,_0x389485[_0xbc1e9d(0x5eb)],_0x55aafc=>{const _0x91d6cb=_0xbc1e9d,_0x3b72ba=new WebSocket[(_0x91d6cb(0x5ec))]({'perMessageDeflate':!![],'port':0x0},()=>{const _0x4a4e5f=_0x91d6cb,_0x5d3e38={'iTJMA':_0x4a4e5f(0x3ff),'OBvGv':_0x2aeda9['WBqCE']},_0x229b5c=new WebSocket('ws://localhost:'+_0x3b72ba['address']()['port'],{'perMessageDeflate':{'threshold':0x0}});_0x229b5c['on'](_0x2aeda9['jvPOw'],()=>{const _0x569014=_0x4a4e5f,_0x2b8f88=_0x5d3e38[_0x569014(0x187)][_0x569014(0x1fb)]('|');let _0x53dca1=0x0;while(!![]){switch(_0x2b8f88[_0x53dca1++]){case'0':_0x229b5c['send'](_0x569014(0x20c));continue;case'1':_0x229b5c[_0x569014(0x3bb)](_0x569014(0x1d3));continue;case'2':_0x229b5c[_0x569014(0x3bb)](_0x569014(0x721));continue;case'3':_0x229b5c[_0x569014(0x20f)]['on'](_0x569014(0x372),()=>{const _0x310348=_0x569014;assert['ok'](_0x229b5c[_0x310348(0x2b0)][_0x310348(0x5c6)]);});continue;case'4':_0x229b5c[_0x569014(0x3bb)](_0x5d3e38[_0x569014(0x34d)]);continue;}break;}});});_0x3b72ba['on'](_0x389485['GDnGO'],_0x1c6801=>{const _0x534f0f=_0x91d6cb,_0x19bb64={'rGPog':_0x534f0f(0x721),'vPyGi':_0x2aeda9[_0x534f0f(0x486)],'kdnST':_0x534f0f(0x1d3)},_0x4d916f=[];_0x1c6801['on'](_0x2aeda9[_0x534f0f(0x63d)],(_0x5dfd08,_0x16cb4d)=>{const _0x504214=_0x534f0f;assert['ok'](!_0x16cb4d),_0x4d916f[_0x504214(0x67b)](_0x5dfd08[_0x504214(0x241)]());}),_0x1c6801['on'](_0x2aeda9[_0x534f0f(0x57f)],(_0x5db836,_0xafc8d4)=>{const _0x225d85=_0x534f0f;assert[_0x225d85(0x236)](_0x4d916f,[_0x225d85(0x72b),_0x19bb64[_0x225d85(0x29e)],_0x19bb64[_0x225d85(0x632)],_0x19bb64['kdnST']]),assert[_0x225d85(0x513)](_0x5db836,0x3e8),assert[_0x225d85(0x236)](_0xafc8d4,EMPTY_BUFFER),_0x3b72ba[_0x225d85(0x521)](_0x55aafc);}),_0x1c6801[_0x534f0f(0x521)](0x3e8);});}),describe(_0xbc1e9d(0x1e0),()=>{const _0x2247c0=_0xbc1e9d;_0x2aeda9[_0x2247c0(0x4d7)]!=='sCqUp'?(_0x2d00d4[_0x2247c0(0x17f)](_0x2247c0(0x61b)+(_0x2247c0(0x1c8)+_0x3a8584+_0x2247c0(0x2db))),_0x40a746['once']('upgrade',(_0x50174e,_0x45cb7e,_0x56d90d)=>{const _0x19acbe=_0x2247c0;_0x5e5ee6[_0x19acbe(0x713)](_0x50174e,_0x45cb7e,_0x56d90d,(_0x4739b1,_0x4005c8)=>{const _0x5652a2=_0x19acbe;_0x2095c3[_0x5652a2(0x513)](_0x4005c8[_0x5652a2(0x3ee)][_0x5652a2(0x11d)],_0x19a9d8),_0x4739b1[_0x5652a2(0x521)]();});})):it(_0x2247c0(0x2ed),_0x539396=>{const _0x4bf28e=_0x2247c0,_0x5d3521={'LRvLa':_0x2aeda9[_0x4bf28e(0x4be)],'ADAGG':function(_0x3c9563,_0x332ada){return _0x3c9563!==_0x332ada;},'ilzGm':_0x4bf28e(0x474),'ZETvb':_0x4bf28e(0x521),'vdxpc':function(_0x396043,_0x5d7c8d){return _0x2aeda9['eXCMy'](_0x396043,_0x5d7c8d);},'VYaEE':'ydNkf','ULWKa':_0x2aeda9[_0x4bf28e(0x52b)]},_0x24eb18=new WebSocket['Server']({'perMessageDeflate':!![],'port':0x0},()=>{const _0x22e0e0=_0x4bf28e,_0x1b3b90=[],_0x57abb2=new WebSocket('ws://localhost:'+_0x24eb18['address']()['port']);_0x57abb2['on'](_0x5d3521[_0x22e0e0(0x635)],(_0x355467,_0x14850a)=>{const _0xa5846=_0x22e0e0,_0x4910d2={'FhZjs':function(_0x5af4bc,_0x2f033c){return _0x5af4bc===_0x2f033c;},'QXUSi':'UnMls'};assert['ok'](!_0x14850a);if(_0x1b3b90[_0xa5846(0x67b)](_0x355467[_0xa5846(0x241)]())>0x1)return;setImmediate(()=>{const _0x208489=_0xa5846,_0x225021={'GlXdg':function(_0xd26390,_0x292be5){return _0x4910d2['FhZjs'](_0xd26390,_0x292be5);},'PRJvh':_0x4910d2[_0x208489(0x308)]};process[_0x208489(0x2d5)](()=>{const _0x53814b=_0x208489;_0x225021['GlXdg'](_0x53814b(0x6ab),_0x225021[_0x53814b(0x465)])?(_0x150d2c[_0x53814b(0x236)](_0x2743e8,_0x45cbae['from'](_0x33ac34[_0x53814b(0x4c9)])),_0x21dab5['ok'](_0xfbcc29),_0x4e64b1['close'](_0x120052)):(assert[_0x53814b(0x513)](_0x57abb2[_0x53814b(0x20f)][_0x53814b(0x429)],0x5),_0x57abb2[_0x53814b(0x521)](0x3e8));});});}),_0x57abb2['on'](_0x5d3521[_0x22e0e0(0x2bd)],(_0x4f2eaf,_0x5b2d52)=>{const _0x43991f=_0x22e0e0,_0x14e46d={'lsmvc':_0x43991f(0x29c),'irKQT':_0x5d3521[_0x43991f(0x137)]};if(_0x5d3521['ADAGG']('aLNsp','TBNgU'))assert[_0x43991f(0x236)](_0x1b3b90,['','','','']),assert['strictEqual'](_0x4f2eaf,0x3e8),assert['deepStrictEqual'](_0x5b2d52,EMPTY_BUFFER),_0x24eb18[_0x43991f(0x521)](_0x539396);else{const _0x5bfead=new _0x1ae10f(_0x43991f(0x40c)+_0x3c4e24[_0x43991f(0x5b5)]()['port']);_0x5bfead['on'](_0x14e46d[_0x43991f(0x22b)],()=>{const _0xfec513=_0x43991f;_0x5bfead[_0xfec513(0x3bb)]('fragment',{'fin':![]}),_0x5bfead[_0xfec513(0x3bb)](_0x14e46d[_0xfec513(0x19b)],{'fin':!![]}),_0x5bfead[_0xfec513(0x521)]();});}});});_0x24eb18['on']('connection',_0x6647d5=>{const _0x297c2e=_0x4bf28e;if(_0x5d3521[_0x297c2e(0x73f)](_0x5d3521[_0x297c2e(0x211)],'ydNkf'))_0x484a10['ok'](_0x1f0e27 instanceof _0x26d4bc),_0x9df426[_0x297c2e(0x513)](_0x44c500[_0x297c2e(0x474)],_0x297c2e(0x35f)),_0x381380['on'](_0x5d3521['ZETvb'],()=>_0x3f14cb['close'](_0x521b06));else{const _0x15a348=Buffer[_0x297c2e(0x6b2)](_0x5d3521['ULWKa'],_0x297c2e(0x4e6));_0x6647d5[_0x297c2e(0x52d)][_0x297c2e(0x72e)](_0x15a348);}});});}),_0x389485[_0xbc1e9d(0x2c3)](describe,_0x389485[_0xbc1e9d(0x696)],()=>{const _0x487f71=_0xbc1e9d,_0x543c2f={'xdZru':function(_0x32510b,_0x15a6ed){const _0x5a7b44=_0x397f;return _0x2aeda9[_0x5a7b44(0x4f2)](_0x32510b,_0x15a6ed);},'HOgEn':_0x2aeda9[_0x487f71(0x233)],'ShiVc':_0x2aeda9[_0x487f71(0x63d)],'tTCYa':_0x487f71(0x153),'WXRml':_0x487f71(0x6e1),'ptvEi':_0x2aeda9[_0x487f71(0x383)],'HcUQP':function(_0x283cca,_0x5f188e){return _0x283cca instanceof _0x5f188e;}};_0x2aeda9[_0x487f71(0x729)](it,_0x2aeda9[_0x487f71(0x5e0)],_0x36acd3=>{const _0x16f13b=_0x487f71,_0x2614ca={'idTwL':_0x16f13b(0x1fd),'qcAiA':_0x16f13b(0x44d),'PklvL':function(_0xfd30bf,_0x3034d0){const _0x1a97a4=_0x16f13b;return _0x543c2f[_0x1a97a4(0x73e)](_0xfd30bf,_0x3034d0);},'QfYEG':'yltNC'},_0x22ec9f=new WebSocket[(_0x16f13b(0x5ec))]({'perMessageDeflate':{'threshold':0x0},'port':0x0},()=>{const _0xf669ed=_0x16f13b;if(_0x2614ca[_0xf669ed(0x5a4)]!==_0x2614ca[_0xf669ed(0x61f)]){const _0x2dff3f=new WebSocket(_0xf669ed(0x40c)+_0x22ec9f['address']()[_0xf669ed(0x217)],{'perMessageDeflate':{'threshold':0x0}});_0x2dff3f['on'](_0xf669ed(0x6e1),()=>{const _0x3937a7=_0xf669ed;_0x2dff3f[_0x3937a7(0x3bb)]('hi',{'compress':!![]}),_0x2dff3f[_0x3937a7(0x521)]();}),_0x2dff3f['on']('message',(_0x260efb,_0x400991)=>{const _0xc09fc2=_0xf669ed;assert['deepStrictEqual'](_0x260efb,Buffer[_0xc09fc2(0x6b2)]('hi')),assert['ok'](!_0x400991),_0x22ec9f[_0xc09fc2(0x521)](_0x36acd3);});}else _0x4263c9['on']('close',_0x4f5514=>{const _0x2593ec=_0xf669ed;_0x30e635[_0x2593ec(0x513)](_0x4f5514,0x3ed),_0x33cc90[_0x2593ec(0x521)](_0x1bff03);});});_0x22ec9f['on'](_0x543c2f[_0x16f13b(0x29f)],_0x166bad=>{const _0x19add8=_0x16f13b;_0x2614ca[_0x19add8(0x6bb)](_0x19add8(0x133),_0x2614ca['QfYEG'])?(_0x582268[_0x19add8(0x432)](()=>_0x35e319[_0x19add8(0x1d4)](_0x54d39e[_0x19add8(0x37c)](0x7e)),/^RangeError: The data size must not be greater than 125 bytes$/),_0x5524de[_0x19add8(0x521)](_0x348056)):_0x166bad['on'](_0x19add8(0x474),(_0x3075f8,_0x4a8155)=>{_0x166bad['send'](_0x3075f8,{'binary':_0x4a8155,'compress':!![]});});});}),_0x2aeda9[_0x487f71(0x729)](it,_0x487f71(0x674),_0x55f9c2=>{const _0x5487db=_0x487f71,_0x87a591={'aUTOP':function(_0x5427ba){const _0x5ee163=_0x397f;return _0x2aeda9[_0x5ee163(0x726)](_0x5427ba);},'HdtpV':_0x2aeda9[_0x5487db(0x672)],'SikBq':_0x2aeda9['KMmpw']},_0x3480ea=new Float32Array(0x5);for(let _0x3ab133=0x0;_0x3ab133<_0x3480ea['length'];_0x3ab133++){_0x3480ea[_0x3ab133]=_0x2aeda9[_0x5487db(0x492)](_0x3ab133,0x2);}const _0x50e0e9=new WebSocket[(_0x5487db(0x5ec))]({'perMessageDeflate':{'threshold':0x0},'port':0x0},()=>{const _0x3da7c6=_0x5487db,_0x98e786={'mUyhX':'socket\x20hang\x20up','JUySN':_0x3da7c6(0x521)},_0xff3ee1=new WebSocket(_0x3da7c6(0x40c)+_0x50e0e9[_0x3da7c6(0x5b5)]()[_0x3da7c6(0x217)],{'perMessageDeflate':{'threshold':0x0}});_0xff3ee1['on']('open',()=>{const _0x3c2a47=_0x3da7c6,_0x4b5693={'wgVCo':function(_0x424b0c){return _0x87a591['aUTOP'](_0x424b0c);}};_0x3c2a47(0x48a)!==_0x87a591[_0x3c2a47(0x59e)]?(_0xff3ee1['send'](_0x3480ea,{'compress':!![]}),_0xff3ee1['close']()):(_0x4a71d8['ok'](_0x333d63 instanceof _0x5a023c),_0x162ffe[_0x3c2a47(0x513)](_0x2dcae1[_0x3c2a47(0x474)],_0x98e786['mUyhX']),_0x8791e0['on'](_0x98e786[_0x3c2a47(0x279)],_0x1e7421=>{const _0x4c94da=_0x3c2a47;_0x5dc8b7[_0x4c94da(0x513)](_0x1e7421,0x3ee),_0x4b5693[_0x4c94da(0x5a3)](_0x170832);}));}),_0xff3ee1['on'](_0x543c2f[_0x3da7c6(0x5c9)],(_0x52206c,_0x40bbda)=>{const _0x176bf8=_0x3da7c6;assert['deepStrictEqual'](_0x52206c,Buffer[_0x176bf8(0x6b2)](_0x3480ea[_0x176bf8(0x4c9)])),assert['ok'](_0x40bbda),_0x50e0e9[_0x176bf8(0x521)](_0x55f9c2);});});_0x50e0e9['on'](_0x2aeda9['JnJUK'],_0x1bb53c=>{const _0xd56c1e=_0x5487db;_0x1bb53c['on'](_0x87a591[_0xd56c1e(0x1ed)],(_0x1fbd45,_0x1160ae)=>{const _0x2bec31=_0xd56c1e;assert['ok'](_0x1160ae),_0x1bb53c[_0x2bec31(0x3bb)](_0x1fbd45,{'compress':!![]});});});}),it(_0x487f71(0x398),_0x4b080e=>{const _0x18488d=_0x487f71,_0x2ee7ec={'owMmc':function(_0x219d27,_0x37652d){return _0x219d27 instanceof _0x37652d;}};if(_0x2aeda9['CSkmT'](_0x2aeda9[_0x18488d(0x36c)],_0x2aeda9[_0x18488d(0x36c)])){const _0x3ef2ec={'cQqwL':'foobar'};_0x35d5b2['on'](_0x18488d(0x474),(_0x30f302,_0x571ad9)=>{const _0x53404b=_0x18488d;_0x2d3a54[_0x53404b(0x236)](_0x30f302,_0x4deba7[_0x53404b(0x6b2)](_0x3ef2ec[_0x53404b(0x16e)])),_0x456aee['ok'](!_0x571ad9),_0x2b1e73[_0x53404b(0x521)](_0x365266);});}else{const _0x3258ac=new Float32Array(0x5);for(let _0x1585c4=0x0;_0x1585c4<_0x3258ac['length'];_0x1585c4++){_0x2aeda9[_0x18488d(0x5e6)]!==_0x18488d(0x11e)?(_0x128b67['ok'](_0x2ee7ec[_0x18488d(0x4cc)](_0x5144ce,_0x31a94a)),_0x43c666[_0x18488d(0x513)](_0x228a5f[_0x18488d(0x170)],_0x18488d(0x521)),_0x17768e[_0x18488d(0x513)](_0x111f1a[_0x18488d(0x60b)],_0xe89143),_0x2a2346[_0x18488d(0x1ec)](_0x18488d(0x747),_0x3be59a)):_0x3258ac[_0x1585c4]=_0x1585c4/0x2;}const _0x279595=new WebSocket['Server']({'perMessageDeflate':{'threshold':0x0},'port':0x0},()=>{const _0x372f56=_0x18488d,_0x29fc90=new WebSocket(_0x372f56(0x40c)+_0x279595[_0x372f56(0x5b5)]()[_0x372f56(0x217)],{'perMessageDeflate':{'threshold':0x0}});_0x29fc90['on']('open',()=>{const _0x38ce0f=_0x372f56;_0x29fc90[_0x38ce0f(0x3bb)](_0x3258ac[_0x38ce0f(0x4c9)],{'compress':!![]}),_0x29fc90['close']();}),_0x29fc90['on'](_0x372f56(0x474),(_0xf8b175,_0x297145)=>{const _0x46bc2a=_0x372f56;assert[_0x46bc2a(0x236)](_0xf8b175,Buffer[_0x46bc2a(0x6b2)](_0x3258ac['buffer'])),assert['ok'](_0x297145),_0x279595[_0x46bc2a(0x521)](_0x4b080e);});});_0x279595['on']('connection',_0x1fa372=>{const _0x4da8ba=_0x18488d;_0x1fa372['on'](_0x4da8ba(0x474),(_0x2b8ef2,_0x4c567e)=>{assert['ok'](_0x4c567e),_0x1fa372['send'](_0x2b8ef2,{'compress':!![]});});});}}),_0x2aeda9[_0x487f71(0x359)](it,_0x2aeda9[_0x487f71(0x437)],_0x42add0=>{const _0x21cbc1=_0x487f71,_0x4aea9c={'kqOSR':_0x2aeda9[_0x21cbc1(0x4be)],'JcjUE':function(_0x46b03a,_0x35550f){return _0x46b03a!==_0x35550f;},'dvwyZ':_0x21cbc1(0x11a)},_0x1dd8be=new WebSocket[(_0x21cbc1(0x5ec))]({'port':0x0},()=>{const _0x500885=_0x21cbc1,_0x2973dd=new WebSocket('ws://localhost:'+_0x1dd8be[_0x500885(0x5b5)]()[_0x500885(0x217)],{'perMessageDeflate':![]});_0x2973dd['on'](_0x4aea9c['kqOSR'],()=>{const _0x20f322=_0x500885;_0x2973dd[_0x20f322(0x3bb)]('hi',{'compress':!![]}),_0x2973dd[_0x20f322(0x521)]();}),_0x2973dd['on']('message',(_0x35e511,_0x169c47)=>{const _0x4f7f3f=_0x500885;assert[_0x4f7f3f(0x236)](_0x35e511,Buffer[_0x4f7f3f(0x6b2)]('hi')),assert['ok'](!_0x169c47),_0x1dd8be['close'](_0x42add0);});});_0x1dd8be['on'](_0x21cbc1(0x3b0),_0x2a4837=>{_0x2a4837['on'](_0x543c2f['ShiVc'],(_0x17defb,_0x49adb7)=>{const _0x4168c4=_0x397f,_0x3a6d71={'tOiXc':_0x4168c4(0x72b)};_0x4aea9c['JcjUE'](_0x4168c4(0x11a),_0x4aea9c[_0x4168c4(0x2f3)])?(_0x3237c3['strictEqual'](_0x1aa3b8[_0x4168c4(0x48c)],_0x3a6d71[_0x4168c4(0x482)]),_0xd75a23[_0x4168c4(0x521)]()):_0x2a4837[_0x4168c4(0x3bb)](_0x17defb,{'binary':_0x49adb7,'compress':!![]});});});}),it(_0x2aeda9[_0x487f71(0x2b1)],_0x3cbb1f=>{const _0x37da27=_0x487f71,_0x3972a8={'eWgKA':function(_0x354b6d,_0x32035d){const _0x1911ad=_0x397f;return _0x543c2f[_0x1911ad(0x47d)](_0x354b6d,_0x32035d);},'hFCxY':_0x37da27(0x1d3)},_0x3e5e48=[],_0x2998fb=new WebSocket['Server']({'perMessageDeflate':!![],'port':0x0},()=>{const _0x29cc37=_0x37da27,_0x109abb={'TIHax':function(_0x4f717c,_0x145c66){return _0x4f717c instanceof _0x145c66;},'pPzTG':_0x543c2f[_0x29cc37(0x6f1)]},_0x29af58=new WebSocket('ws://localhost:'+_0x2998fb[_0x29cc37(0x5b5)]()['port'],{'perMessageDeflate':{'threshold':0x0}});_0x29af58['on'](_0x543c2f['WXRml'],()=>{const _0x449439=_0x29cc37,_0x31dcf6={'ykgGW':function(_0x3a5db3,_0x166ba6){const _0x5441de=_0x397f;return _0x3972a8[_0x5441de(0x40f)](_0x3a5db3,_0x166ba6);},'hGDdm':'The\x20socket\x20was\x20closed\x20while\x20data\x20was\x20being\x20compressed'};_0x29af58[_0x449439(0x3bb)](_0x449439(0x72b)),_0x29af58[_0x449439(0x3bb)](_0x449439(0x721),_0x3b7470=>{const _0x225964=_0x449439;_0x3e5e48[_0x225964(0x67b)](0x1),assert[_0x225964(0x513)](_0x29af58[_0x225964(0x459)],WebSocket[_0x225964(0x3c8)]),assert['ok'](_0x109abb[_0x225964(0x375)](_0x3b7470,Error)),assert[_0x225964(0x513)](_0x3b7470[_0x225964(0x474)],_0x109abb[_0x225964(0x1e3)]);}),_0x29af58[_0x449439(0x3bb)](_0x449439(0x20c)),_0x29af58['send'](_0x3972a8[_0x449439(0x35a)],_0x400f88=>{const _0x499aaa=_0x449439;_0x3e5e48['push'](0x2),assert[_0x499aaa(0x513)](_0x29af58[_0x499aaa(0x459)],WebSocket[_0x499aaa(0x3c8)]),assert['ok'](_0x31dcf6[_0x499aaa(0x48f)](_0x400f88,Error)),assert[_0x499aaa(0x513)](_0x400f88['message'],_0x31dcf6['hGDdm']);}),_0x29af58[_0x449439(0x521)]();});});_0x2998fb['on'](_0x37da27(0x3b0),_0x152778=>{const _0x4c4564=_0x37da27,_0x3fd54d={'PnZNV':_0x4c4564(0x145),'LWTYJ':'upgrade','RpuWc':_0x4c4564(0x6e1)};if(_0x543c2f[_0x4c4564(0x514)]!==_0x4c4564(0x530))_0x152778['on'](_0x4c4564(0x521),()=>{const _0x22fecb=_0x4c4564;assert['deepStrictEqual'](_0x3e5e48,[0x1,0x2]),_0x2998fb[_0x22fecb(0x521)](_0x3cbb1f);}),_0x152778[_0x4c4564(0x52d)][_0x4c4564(0x17f)]();else{const _0x43d94c={'GRceE':_0x4c4564(0x521)},_0x388bbd=new _0x5d55d1[(_0x4c4564(0x5ec))]({'noServer':!![],'path':_0x4c4564(0x37e)});_0x396308[_0x4c4564(0x1cc)](_0x4c4564(0x4c8),(_0x5e6279,_0x57caaf)=>{const _0x5de62a=_0x4c4564;_0x57caaf[_0x5de62a(0x17f)](_0x3fd54d[_0x5de62a(0x321)]),_0x42d92d[_0x5de62a(0x1cc)](_0x3fd54d['LWTYJ'],(_0x1be2a2,_0x2bb2fa,_0x371974)=>{const _0x3193d8=_0x5de62a;_0x388bbd[_0x3193d8(0x713)](_0x1be2a2,_0x2bb2fa,_0x371974,_0x45bad1);});});const _0x1460ca=_0x4bda3e[_0x4c4564(0x5b5)]()[_0x4c4564(0x217)],_0x36d47d=new _0x3b947d(_0x4c4564(0x40c)+_0x1460ca,{'followRedirects':!![]});_0x36d47d['on'](_0x3fd54d['RpuWc'],()=>{const _0x4953ef=_0x4c4564;_0x54600a[_0x4953ef(0x513)](_0x36d47d[_0x4953ef(0x40b)],_0x4953ef(0x40c)+_0x1460ca+'/foo'),_0x38ea8d[_0x4953ef(0x513)](_0x36d47d[_0x4953ef(0x393)],0x1),_0x36d47d['on'](_0x43d94c[_0x4953ef(0x475)],()=>_0x4f5485()),_0x36d47d[_0x4953ef(0x521)]();});}});});}),describe(_0x389485[_0xbc1e9d(0x4ba)],()=>{const _0xb7e557=_0xbc1e9d,_0x352791={'PUgAV':function(_0x3abf80,_0x1652a9){return _0x3abf80 instanceof _0x1652a9;},'GtQaS':_0x389485[_0xb7e557(0x126)],'fsCbt':_0xb7e557(0x6e1),'tejvx':_0xb7e557(0x23a),'qsHIk':_0x389485[_0xb7e557(0x652)]};it(_0xb7e557(0x45f),_0x311b76=>{const _0xdb80b4=_0xb7e557,_0x1c4e05={'TldcF':_0xdb80b4(0x1ca)};if(_0xdb80b4(0x1b0)!==_0xdb80b4(0x1b0))_0x5078db[_0xdb80b4(0x3bb)](_0x356327,{'binary':_0x135925,'compress':!![]});else{const _0x3d91d2=new WebSocket['Server']({'perMessageDeflate':{'threshold':0x0},'port':0x0},()=>{const _0x34584=_0xdb80b4,_0x818c4a={'cGuEy':function(_0x5bd9a0,_0xaa69fc){const _0x1e59a3=_0x397f;return _0x352791[_0x1e59a3(0x445)](_0x5bd9a0,_0xaa69fc);},'oQtvh':_0x352791[_0x34584(0x353)],'FBBxq':_0x34584(0x521)},_0xa594dc=new WebSocket('ws://localhost:'+_0x3d91d2['address']()['port'],{'perMessageDeflate':{'threshold':0x0}});_0xa594dc['on'](_0x352791['fsCbt'],()=>{const _0x4406bc=_0x34584,_0x5c6fab={'HLInz':function(_0x1e541c){return _0x1e541c();},'RkUYh':_0x4406bc(0x521),'wMSRI':function(_0x5afd5a,_0x2007f4){return _0x5afd5a!==_0x2007f4;},'llCcm':_0x1c4e05[_0x4406bc(0x3fc)]};_0xa594dc['send']('hi',_0x2fc8e6=>{const _0x513158=_0x4406bc;assert[_0x513158(0x513)](_0xa594dc[_0x513158(0x459)],WebSocket['CLOSING']),assert['ok'](_0x818c4a[_0x513158(0x297)](_0x2fc8e6,Error)),assert[_0x513158(0x513)](_0x2fc8e6[_0x513158(0x474)],_0x818c4a[_0x513158(0x6a0)]),_0xa594dc['on'](_0x818c4a[_0x513158(0x24a)],()=>{const _0x5db388=_0x513158,_0x417795={'hUgZX':function(_0x57a4f9){const _0x5e402f=_0x397f;return _0x5c6fab[_0x5e402f(0x1bc)](_0x57a4f9);},'TrExu':function(_0x5c5607,_0x4b5942){return _0x5c5607 instanceof _0x4b5942;},'BSQkY':'WebSocket\x20was\x20closed\x20before\x20the\x20connection\x20was\x20established','qbFAq':_0x5c6fab[_0x5db388(0x157)]};_0x5c6fab[_0x5db388(0x32c)]('Rxiol',_0x5c6fab[_0x5db388(0x44a)])?_0x3d91d2[_0x5db388(0x521)](_0x311b76):(_0x2769f7['ok'](_0x417795['TrExu'](_0x1bad03,_0x257e7c)),_0x246831[_0x5db388(0x513)](_0x1f48c3[_0x5db388(0x474)],_0x417795[_0x5db388(0x4a8)]),_0x460ebf[_0x5db388(0x513)](_0x434404['readyState'],_0x2848d7[_0x5db388(0x3c8)]),_0x2d1b1c[_0x5db388(0x513)](_0x4ce52a[_0x5db388(0x637)],0x0),_0x1b5b8f[_0x5db388(0x1d4)]('hi'),_0x129128[_0x5db388(0x513)](_0x40a261[_0x5db388(0x637)],0x2),_0x19a731['pong'](),_0x1a9b39[_0x5db388(0x513)](_0xaf8fbc[_0x5db388(0x637)],0x2),_0x20690b['on'](_0x417795[_0x5db388(0x739)],()=>{const _0x3d67be=_0x5db388;_0x5d0ed2['strictEqual'](_0x4e72e4[_0x3d67be(0x459)],_0x1ad2b8[_0x3d67be(0x282)]),_0x5c707c[_0x3d67be(0x1d4)]('hi'),_0x43860f[_0x3d67be(0x513)](_0x3813d5['bufferedAmount'],0x4),_0xa41282[_0x3d67be(0x1d4)](),_0x3a0df1[_0x3d67be(0x513)](_0x16be23[_0x3d67be(0x637)],0x4),_0x417795[_0x3d67be(0x5d7)](_0x54db4c);}));});}),_0xa594dc[_0x4406bc(0x1e4)]();});});}}),_0x389485[_0xb7e557(0x406)](it,'can\x20be\x20used\x20while\x20data\x20is\x20being\x20decompressed',_0x3b6e04=>{const _0x4925f0=_0xb7e557;if(_0x352791[_0x4925f0(0x54a)]===_0x4925f0(0x2fc)){const _0x12f4f9=new WebSocket[(_0x4925f0(0x5ec))]({'perMessageDeflate':!![],'port':0x0},()=>{const _0x2df602=_0x4925f0,_0xad98e9={'nFxzA':function(_0x3bb313,_0x1d4691){return _0x3bb313!==_0x1d4691;},'lRnZb':_0x2df602(0x3a9),'pdkaa':function(_0x41cb43,_0x23c1ae){return _0x41cb43>_0x23c1ae;},'ZfpDg':function(_0x3ab9a2,_0xd1e473){return _0x3ab9a2(_0xd1e473);}},_0x183735=new WebSocket(_0x2df602(0x40c)+_0x12f4f9[_0x2df602(0x5b5)]()['port']),_0x4f3b86=[];_0x183735['on']('message',(_0x11f05c,_0x1f6204)=>{const _0x33d9ce=_0x2df602;if(_0xad98e9['nFxzA'](_0xad98e9[_0x33d9ce(0x318)],_0x33d9ce(0x3a9))){_0x140a5e[_0x33d9ce(0x513)](_0x243d00,0x3ee),_0xb1384e[_0x33d9ce(0x513)](_0x59bde1,_0xee981e),_0xbafafa=!![];if(_0x2d3731)_0x5980c1[_0x33d9ce(0x521)](_0x16fda5);}else{assert['ok'](!_0x1f6204);if(_0xad98e9[_0x33d9ce(0x237)](_0x4f3b86[_0x33d9ce(0x67b)](_0x11f05c['toString']()),0x1))return;_0xad98e9[_0x33d9ce(0x520)](setImmediate,()=>{const _0x29a96e=_0x33d9ce;process[_0x29a96e(0x2d5)](()=>{const _0x5c6d32=_0x29a96e;assert['strictEqual'](_0x183735[_0x5c6d32(0x20f)]['_state'],0x5),_0x183735[_0x5c6d32(0x1e4)]();});});}}),_0x183735['on'](_0x2df602(0x521),(_0x5ddd76,_0x2ff82d)=>{const _0x32598e=_0x2df602;assert[_0x32598e(0x236)](_0x4f3b86,['','','','']),assert[_0x32598e(0x513)](_0x5ddd76,0x3ee),assert['strictEqual'](_0x2ff82d,EMPTY_BUFFER),_0x12f4f9['close'](_0x3b6e04);});});_0x12f4f9['on'](_0x4925f0(0x3b0),_0x512b4f=>{const _0x64d3a4=_0x4925f0,_0x4e3248=Buffer[_0x64d3a4(0x6b2)](_0x352791['tejvx'],_0x64d3a4(0x4e6));_0x512b4f['_socket'][_0x64d3a4(0x72e)](_0x4e3248);});}else{const _0x4b1a62=new _0xac1be9(_0x4925f0(0x5ca),{'lookup'(){}});_0x9250dc[_0x4925f0(0x432)](()=>_0x4b1a62[_0x4925f0(0x1d4)](),/^Error: WebSocket is not open: readyState 0 \(CONNECTING\)$/),_0xa9243d[_0x4925f0(0x432)](()=>_0x4b1a62[_0x4925f0(0x1d4)](_0x429641),/^Error: WebSocket is not open: readyState 0 \(CONNECTING\)$/);}});});}),describe(_0x389485[_0x53100d(0x42e)],()=>{const _0x2d495e=_0x53100d,_0x2e4088={'qIrwj':_0x2d495e(0x747),'HbXbh':'close','ifBqt':function(_0x5463c3,_0x4bd55b){return _0x389485['hTNvl'](_0x5463c3,_0x4bd55b);},'lLVvb':_0x389485[_0x2d495e(0x4ec)],'zXjSS':_0x389485[_0x2d495e(0x4c5)],'nZpnw':function(_0x5a6f25,_0x166972){return _0x389485['jvKtO'](_0x5a6f25,_0x166972);},'kaBZj':_0x389485[_0x2d495e(0x36d)],'eHyEP':_0x389485[_0x2d495e(0x17d)],'pbNUu':_0x2d495e(0x5c3),'DivNX':function(_0x3dca6c,_0xf85847){return _0x3dca6c*_0xf85847;},'gHxvb':function(_0x11f9a8,_0x405c7e){return _0x11f9a8===_0x405c7e;},'AsEKu':'DmuqN','EXVNy':_0x389485[_0x2d495e(0x180)]};it(_0x2d495e(0x5e9),_0x551cec=>{const _0x717058=_0x2d495e,_0x295c66={'aCfaL':function(_0x379f40,_0x52c5e8){const _0x2916ad=_0x397f;return _0x389485[_0x2916ad(0x622)](_0x379f40,_0x52c5e8);},'OdTDh':'WS_ERR_INVALID_OPCODE','bEmhk':_0x389485[_0x717058(0x2e8)],'ybSQW':_0x717058(0x6e1)};let _0x1e7861=![],_0x18e289=![];const _0x2e0198=new WebSocket[(_0x717058(0x5ec))]({'port':0x0},()=>{const _0x2e0b8f=_0x717058,_0x6b7f2f=new WebSocket(_0x2e0b8f(0x40c)+_0x2e0198[_0x2e0b8f(0x5b5)]()[_0x2e0b8f(0x217)]);_0x6b7f2f['on'](_0x2e0b8f(0x747),_0x194910=>{const _0x36f30c=_0x2e0b8f;assert['ok'](_0x295c66[_0x36f30c(0x719)](_0x194910,RangeError)),assert[_0x36f30c(0x513)](_0x194910[_0x36f30c(0x2be)],_0x295c66[_0x36f30c(0x745)]),assert[_0x36f30c(0x513)](_0x194910['message'],_0x295c66[_0x36f30c(0x169)]),_0x6b7f2f['on'](_0x36f30c(0x521),(_0x1e21dd,_0x434b25)=>{const _0xb6a6ee=_0x36f30c;assert[_0xb6a6ee(0x513)](_0x1e21dd,0x3ee),assert[_0xb6a6ee(0x513)](_0x434b25,EMPTY_BUFFER),_0x1e7861=!![];if(_0x18e289)_0x2e0198['close'](_0x551cec);});}),_0x6b7f2f['on'](_0x295c66[_0x2e0b8f(0x4cb)],()=>{const _0xf1968e=_0x2e0b8f,_0x513c96=Buffer[_0xf1968e(0x6b2)]([0x85,0x0]);_0x2e0198[_0xf1968e(0x610)]['values']()[_0xf1968e(0x46f)]()['value'][_0xf1968e(0x52d)][_0xf1968e(0x72e)](_0x513c96),_0x6b7f2f[_0xf1968e(0x52d)][_0xf1968e(0x72e)](_0x513c96);});});_0x2e0198['on'](_0x717058(0x3b0),_0x222341=>{_0x222341['on']('error',_0x5767fc=>{const _0x51675d=_0x397f;assert['ok'](_0x295c66[_0x51675d(0x719)](_0x5767fc,RangeError)),assert['strictEqual'](_0x5767fc[_0x51675d(0x2be)],_0x51675d(0x13d)),assert['strictEqual'](_0x5767fc['message'],_0x295c66['bEmhk']),_0x222341['on'](_0x51675d(0x521),(_0x86e5f7,_0xa33bd3)=>{const _0x5e21e1=_0x51675d;assert['strictEqual'](_0x86e5f7,0x3ee),assert['strictEqual'](_0xa33bd3,EMPTY_BUFFER),_0x18e289=!![];if(_0x1e7861)_0x2e0198[_0x5e21e1(0x521)](_0x551cec);});});});}),_0x389485[_0x2d495e(0x746)](it,_0x389485[_0x2d495e(0x416)],_0x3d3626=>{const _0xc54217=_0x2d495e,_0x2fd947={'KPIMa':_0xc54217(0x57d),'fmJws':_0xc54217(0x4f3),'MCfzJ':_0xc54217(0x505),'TwqZw':_0x2e4088[_0xc54217(0x33e)],'RyBcL':_0xc54217(0x4e5),'NSoyU':'open'};if(_0x2e4088[_0xc54217(0x287)](_0xc54217(0x1c3),_0x2e4088[_0xc54217(0x3dd)])){let _0x3307e3=![],_0x5c6664=![];const _0x2cecc0=new WebSocket['Server']({'port':0x0},()=>{const _0x13fb37=_0xc54217,_0x4e389e={'mkFET':_0x13fb37(0x13d),'jQrQK':_0x2fd947[_0x13fb37(0x47a)],'XEqLy':_0x2fd947['TwqZw'],'JuLGZ':_0x2fd947['RyBcL']},_0x44bcf2=new WebSocket('ws://localhost:'+_0x2cecc0['address']()[_0x13fb37(0x217)]);_0x44bcf2['on']('error',_0xfe322e=>{const _0x141813=_0x13fb37;assert['ok'](_0xfe322e instanceof RangeError),assert[_0x141813(0x513)](_0xfe322e['code'],_0x4e389e[_0x141813(0x484)]),assert[_0x141813(0x513)](_0xfe322e[_0x141813(0x474)],_0x4e389e[_0x141813(0x156)]),_0x44bcf2['on'](_0x4e389e[_0x141813(0x517)],(_0x130fd5,_0x55be9d)=>{const _0x48c871=_0x141813;assert[_0x48c871(0x513)](_0x130fd5,0x3ee),assert['strictEqual'](_0x55be9d,EMPTY_BUFFER),_0x3307e3=!![];if(_0x5c6664)_0x2cecc0[_0x48c871(0x521)](_0x3d3626);});}),_0x44bcf2['on'](_0x2fd947['NSoyU'],()=>{const _0x3d0d12=_0x13fb37,_0x301fa5={'pQOXC':_0x2fd947['KPIMa']};if(_0x3d0d12(0x354)!==_0x2fd947[_0x3d0d12(0x41e)]){const _0x394fb8=Buffer[_0x3d0d12(0x6b2)]([0x85,0x0]),_0x36a2e6=_0x2cecc0[_0x3d0d12(0x610)][_0x3d0d12(0x4eb)]()[_0x3d0d12(0x46f)]()[_0x3d0d12(0x63a)];_0x36a2e6['_socket'][_0x3d0d12(0x72e)](_0x394fb8),_0x36a2e6[_0x3d0d12(0x521)](),_0x44bcf2['_socket']['write'](_0x394fb8),_0x44bcf2[_0x3d0d12(0x521)]();}else{const _0x3aad27=new _0x566ffb[(_0x3d0d12(0x265))]();_0x3aad27['addRequest']=(_0x3d7ff7,_0xfea6e8)=>{const _0x4229fc=_0x3d0d12;_0x1c4092['strictEqual'](_0xfea6e8[_0x4229fc(0x4a3)],_0x301fa5['pQOXC']),_0x561b47[_0x4229fc(0x513)](_0xfea6e8[_0x4229fc(0x217)],0x1bb),_0x124e18();};const _0x4c81ae=new _0x4c16ae(_0x4e389e[_0x3d0d12(0x3c2)],{'agent':_0x3aad27});}});});_0x2cecc0['on']('connection',_0x2ef0c2=>{const _0x1fae09=_0xc54217,_0x4fcb40={'WelAI':function(_0xec2c93,_0x503e00){return _0xec2c93 instanceof _0x503e00;}};_0x2ef0c2['on'](_0x2e4088[_0x1fae09(0x2ee)],_0x4cdbfa=>{const _0x3aab30=_0x1fae09;assert['ok'](_0x4fcb40[_0x3aab30(0x314)](_0x4cdbfa,RangeError)),assert['strictEqual'](_0x4cdbfa[_0x3aab30(0x2be)],'WS_ERR_INVALID_OPCODE'),assert[_0x3aab30(0x513)](_0x4cdbfa['message'],'Invalid\x20WebSocket\x20frame:\x20invalid\x20opcode\x205'),_0x2ef0c2['on']('close',(_0x2473de,_0x56f581)=>{const _0x5e2e4d=_0x3aab30;assert[_0x5e2e4d(0x513)](_0x2473de,0x3ee),assert['strictEqual'](_0x56f581,EMPTY_BUFFER),_0x5c6664=!![];if(_0x3307e3)_0x2cecc0['close'](_0x3d3626);});});});}else _0x5ab361['strictEqual'](_0x5430f8,0x3ed),_0x9fbf['strictEqual'](_0x17ddd4[_0xc54217(0x40b)],_0xc54217(0x40c)+_0x30a6d2+'/'),_0x15483d[_0xc54217(0x513)](_0x517a62[_0xc54217(0x393)],0x1),_0x5a79ed['close'](),_0x376f3c['close'](_0x307d20);}),it(_0x389485[_0x2d495e(0x6c7)],_0x28b1af=>{const _0x46dc5b=_0x2d495e;if(_0x389485[_0x46dc5b(0x571)](_0x389485[_0x46dc5b(0x13e)],_0x389485['kXJjo'])){const _0x22f3b0=0x10*0x400,_0xd081e8=new WebSocket[(_0x46dc5b(0x5ec))]({'maxPayload':_0x22f3b0,'port':0x0},()=>{const _0x210850=_0x46dc5b,_0x31756c=new WebSocket(_0x210850(0x40c)+_0xd081e8[_0x210850(0x5b5)]()[_0x210850(0x217)]);});_0xd081e8['on'](_0x46dc5b(0x3b0),_0x41d2cb=>{const _0x291033=_0x46dc5b;if(_0x2e4088['zXjSS']!==_0x291033(0x710))_0x10597e['ok'](_0x55d5dd[_0x291033(0x50e)](_0x126f4f['data'])),_0x40c23e[_0x291033(0x521)](_0x1d4af3);else{const _0x27c610=[...Sender[_0x291033(0x720)](Buffer[_0x291033(0x37c)](_0x2e4088[_0x291033(0x630)](_0x22f3b0,0x1)),{'fin':!![],'opcode':0x2,'mask':!![],'readOnly':![]})];_0x41d2cb['on'](_0x2e4088[_0x291033(0x2ee)],_0xe9c6be=>{const _0x4d2cf7=_0x291033;assert['ok'](_0xe9c6be instanceof RangeError),assert[_0x4d2cf7(0x513)](_0xe9c6be[_0x4d2cf7(0x2be)],_0x4d2cf7(0x345)),assert[_0x4d2cf7(0x513)](_0xe9c6be['message'],_0x4d2cf7(0x5e1)),_0x41d2cb['on'](_0x4d2cf7(0x521),(_0x56b799,_0x583eda)=>{const _0x1cbd51=_0x4d2cf7;assert[_0x1cbd51(0x513)](_0x56b799,0x3ee),assert[_0x1cbd51(0x513)](_0x583eda,EMPTY_BUFFER),_0xd081e8[_0x1cbd51(0x521)](_0x28b1af);});}),_0x41d2cb[_0x291033(0x52d)][_0x291033(0x67b)](Buffer['concat'](_0x27c610));}});}else{const _0x59f9f0=new _0x31839c(_0x2e4088[_0x46dc5b(0x6a2)],{'agent':new _0x38941c()});_0x2e8d27['strictEqual'](_0x59f9f0['binaryType'],'nodebuffer');}}),it(_0x389485['rMYLP'],_0x38280a=>{const _0x4f5631=_0x2d495e,_0x4f1e47={'KOpMb':function(_0x52a4e8,_0x51d157){return _0x52a4e8 instanceof _0x51d157;},'rUfrs':function(_0x4c2ee0,_0x423ebf){return _0x4c2ee0===_0x423ebf;},'OGRTR':'xiKqr'};if(_0x2e4088[_0x4f5631(0x65d)](_0x4f5631(0x35d),_0x2e4088[_0x4f5631(0x4aa)]))_0x31fe54['end'](_0x4f5631(0x145));else{const _0x3f64d9=new WebSocket[(_0x4f5631(0x5ec))]({'port':0x0},()=>{const _0x430a54=_0x4f5631,_0x17d8a2=new WebSocket(_0x430a54(0x40c)+_0x3f64d9[_0x430a54(0x5b5)]()[_0x430a54(0x217)]);});_0x3f64d9['on'](_0x2e4088[_0x4f5631(0x477)],_0x106177=>{const _0x37c5d0=_0x4f5631,_0x4a02d9={'JZupM':function(_0x22b58d,_0x4ad38a){return _0x22b58d instanceof _0x4ad38a;},'uZAdQ':_0x2e4088[_0x37c5d0(0x298)],'Nxegp':_0x2e4088[_0x37c5d0(0x33e)]};if(_0x2e4088[_0x37c5d0(0x30e)]===_0x2e4088['pbNUu']){const _0x4ebcea={'fin':!![],'mask':!![],'readOnly':![]},_0x5b757f=[...Sender[_0x37c5d0(0x720)](Buffer[_0x37c5d0(0x37c)](_0x2e4088[_0x37c5d0(0x320)](0x10,0x400)),{'opcode':0x2,..._0x4ebcea}),...Sender[_0x37c5d0(0x720)](EMPTY_BUFFER,{'opcode':0x8,..._0x4ebcea})];_0x106177['on'](_0x37c5d0(0x521),(_0x1f2885,_0x2a1bec)=>{const _0x449fc6=_0x37c5d0,_0x1eb9ab={'twfmx':function(_0x102f3c,_0x12cfcc){const _0x2ca326=_0x397f;return _0x4f1e47[_0x2ca326(0x6e0)](_0x102f3c,_0x12cfcc);},'AveVs':_0x449fc6(0x3fd)};_0x4f1e47[_0x449fc6(0x4ff)](_0x4f1e47[_0x449fc6(0x3e1)],_0x449fc6(0x2c7))?(_0x5ba4e0['ok'](_0x1eb9ab[_0x449fc6(0x210)](_0x12bd95,_0x58a852)),_0x820d6a[_0x449fc6(0x513)](_0x400a3b['message'],_0x1eb9ab[_0x449fc6(0x6b4)]),_0x596ccf[_0x449fc6(0x513)](_0x44ac5a[_0x449fc6(0x637)],0x2),_0xc9d390['on']('close',()=>{const _0x146e74=_0x449fc6;_0x161149[_0x146e74(0x3bb)]('hi',_0x32e2df=>{const _0x2f13e1=_0x146e74;_0x62a81e['ok'](_0x32e2df instanceof _0x5a0611),_0xbb3260[_0x2f13e1(0x513)](_0x32e2df['message'],_0x2f13e1(0x20e)),_0x256b02[_0x2f13e1(0x513)](_0x2e88e1['bufferedAmount'],0x4),_0x126cb9[_0x2f13e1(0x521)](_0x6bc996);});})):(assert[_0x449fc6(0x513)](_0x1f2885,0x3ed),assert[_0x449fc6(0x513)](_0x2a1bec,EMPTY_BUFFER),_0x3f64d9['close'](_0x38280a));}),_0x106177['_socket'][_0x37c5d0(0x67b)](Buffer[_0x37c5d0(0x374)](_0x5b757f));}else _0x24863c['ok'](_0x4a02d9[_0x37c5d0(0x646)](_0xc77c8c,_0xa030b9)),_0x1a6ffb[_0x37c5d0(0x513)](_0x400b05[_0x37c5d0(0x474)],_0x4a02d9['uZAdQ']),_0x2e2ff7['on'](_0x4a02d9[_0x37c5d0(0x70f)],()=>_0x56630a());});}});});});