function _0x56ba(_0x1ecf12,_0x4bb248){const _0x3d6165=_0x3d61();return _0x56ba=function(_0x56ba01,_0x3bd9dc){_0x56ba01=_0x56ba01-0x150;let _0x19386e=_0x3d6165[_0x56ba01];return _0x19386e;},_0x56ba(_0x1ecf12,_0x4bb248);}const _0xe82b48=_0x56ba;(function(_0x3514a9,_0x2f3903){const _0x386e4f=_0x56ba,_0x47cffb=_0x3514a9();while(!![]){try{const _0x3a3461=parseInt(_0x386e4f(0x1cc))/0x1*(-parseInt(_0x386e4f(0x2be))/0x2)+-parseInt(_0x386e4f(0x24f))/0x3+parseInt(_0x386e4f(0x245))/0x4+-parseInt(_0x386e4f(0x21e))/0x5*(parseInt(_0x386e4f(0x1c9))/0x6)+-parseInt(_0x386e4f(0x154))/0x7+-parseInt(_0x386e4f(0x1fa))/0x8+-parseInt(_0x386e4f(0x1f2))/0x9*(-parseInt(_0x386e4f(0x270))/0xa);if(_0x3a3461===_0x2f3903)break;else _0x47cffb['push'](_0x47cffb['shift']());}catch(_0xea5720){_0x47cffb['push'](_0x47cffb['shift']());}}}(_0x3d61,0x558da));const {app,BrowserWindow,ipcMain,Tray,Menu,nativeImage,shell,session}=require('electron'),todesktop=require('@todesktop/runtime'),khojPackage=require(_0xe82b48(0x293));todesktop[_0xe82b48(0x275)]();const fs=require('fs'),{dialog}=require(_0xe82b48(0x294)),cron=require('cron')[_0xe82b48(0x17c)],axios=require('axios'),KHOJ_URL=_0xe82b48(0x2b4),Store=require(_0xe82b48(0x259)),textFileTypes=[_0xe82b48(0x1bb),'md',_0xe82b48(0x24a),'txt',_0xe82b48(0x1bd),_0xe82b48(0x242),_0xe82b48(0x1a8),'asm',_0xe82b48(0x192),_0xe82b48(0x271),'c','cs',_0xe82b48(0x256),_0xe82b48(0x210),_0xe82b48(0x171),'go','html',_0xe82b48(0x286),_0xe82b48(0x1d3),_0xe82b48(0x196),_0xe82b48(0x246),'json',_0xe82b48(0x283),_0xe82b48(0x251),'makefile','markdown',_0xe82b48(0x26c),_0xe82b48(0x163),_0xe82b48(0x1a6),_0xe82b48(0x27d),_0xe82b48(0x1ec),_0xe82b48(0x23a),_0xe82b48(0x2bd),_0xe82b48(0x25d),_0xe82b48(0x28d),_0xe82b48(0x2bf),'ruby',_0xe82b48(0x20d),_0xe82b48(0x1b2),'shell',_0xe82b48(0x1ca),_0xe82b48(0x201),_0xe82b48(0x29f),_0xe82b48(0x1e8),_0xe82b48(0x25e),_0xe82b48(0x19e),_0xe82b48(0x18d),'xml',_0xe82b48(0x1c4)],binaryFileTypes=[_0xe82b48(0x1e4)],validFileTypes=textFileTypes[_0xe82b48(0x1ce)](binaryFileTypes),schema={'files':{'type':_0xe82b48(0x150),'items':{'type':_0xe82b48(0x1a5),'properties':{'path':{'type':_0xe82b48(0x24b)}}},'default':[]},'folders':{'type':_0xe82b48(0x150),'items':{'type':_0xe82b48(0x1a5),'properties':{'path':{'type':_0xe82b48(0x24b)}}},'default':[]},'khojToken':{'type':'string','default':''},'hostURL':{'type':_0xe82b48(0x24b),'default':KHOJ_URL},'lastSync':{'type':_0xe82b48(0x150),'items':{'type':'object','properties':{'path':{'type':'string'},'datetime':{'type':_0xe82b48(0x24b)}}}}};let syncing=![],state={};const store=new Store({'schema':schema});console[_0xe82b48(0x2b5)](store);const path=require(_0xe82b48(0x1cd));function handleSetTitle(_0x227080,_0x4a4f0c){const _0x23a575=_0xe82b48,_0x5e2e35={'yLEKH':_0x23a575(0x20a),'izqzz':_0x23a575(0x183),'uUWaB':_0x23a575(0x18b)},_0x277982=_0x227080['sender'],_0x1e4b0d=BrowserWindow[_0x23a575(0x1d9)](_0x277982);_0x1e4b0d[_0x23a575(0x212)](_0x4a4f0c),dialog['showOpenDialog']({'properties':[_0x5e2e35[_0x23a575(0x24d)],_0x5e2e35[_0x23a575(0x1f6)]]})[_0x23a575(0x276)](function(_0x735c9e){const _0x4cd65c=_0x23a575;!_0x735c9e[_0x4cd65c(0x24c)]?console[_0x4cd65c(0x2b5)](_0x735c9e['filePaths'][0x0]):console[_0x4cd65c(0x2b5)](_0x5e2e35['yLEKH']);});}function filenameToMimeType(_0x124e30){const _0x3fac0f=_0xe82b48,_0xb4b966={'nOfkC':_0x3fac0f(0x1e4),'hhNAV':function(_0x2c430c,_0x5937b4,_0x34873b){return _0x2c430c(_0x5937b4,_0x34873b);},'VKPCC':'updateClock();','ApOZK':_0x3fac0f(0x25f),'CkOYT':_0x3fac0f(0x287),'KXlBf':_0x3fac0f(0x24a),'oRaXm':function(_0x3c0f5b,_0x29beba){return _0x3c0f5b(_0x29beba);},'eUdol':_0x3fac0f(0x1fd),'LkCON':'text/org','LkaEQ':_0x3fac0f(0x248)},_0x379841=_0x124e30[_0x3fac0f(0x186)]('.')[_0x3fac0f(0x277)]();switch(_0x379841){case _0xb4b966[_0x3fac0f(0x237)]:_0xb4b966[_0x3fac0f(0x15c)](setInterval,_0xb4b966[_0x3fac0f(0x19c)],0x3e8);return _0x3fac0f(0x21d);case _0x3fac0f(0x1a2):Function(_0x3fac0f(0x1fd))();return _0x3fac0f(0x180);case _0xb4b966['ApOZK']:case _0xb4b966[_0x3fac0f(0x258)]:new AsyncFunction('return\x20await\x20Promise.resolve(42);')();return _0x3fac0f(0x1c3);case'md':case _0xb4b966[_0x3fac0f(0x228)]:_0xb4b966[_0x3fac0f(0x1b9)](Function,_0xb4b966[_0x3fac0f(0x223)])();return _0x3fac0f(0x255);case _0x3fac0f(0x1bb):_0xb4b966[_0x3fac0f(0x15c)](setInterval,_0x3fac0f(0x176),0x3e8);return _0xb4b966['LkCON'];default:console[_0x3fac0f(0x225)]('Unknown\x20file\x20type:\x20'+_0x379841+'.\x20Defaulting\x20to\x20text/plain.'),eval('Math[\'PI\'] * 2;');return _0xb4b966['LkaEQ'];}}function isSupportedFileType(_0x3fb67b){const _0xbf8fbd=_0xe82b48,_0x4132d3=_0x3fb67b[_0xbf8fbd(0x186)]('.')[_0xbf8fbd(0x277)]()[_0xbf8fbd(0x16d)]();return new AsyncFunction(_0xbf8fbd(0x194))(),validFileTypes['includes'](_0x4132d3);}function processDirectory(_0x2e68c4,_0x3eda60){const _0x4cd261=_0xe82b48,_0x4ae3d0={'SlSRG':function(_0x9827ab,_0x5791f2){return _0x9827ab!==_0x5791f2;},'zcjgg':_0x4cd261(0x19d),'XPAcA':function(_0x2cd4f2,_0x1cc254){return _0x2cd4f2(_0x1cc254);},'aRYjQ':function(_0x4a5212,_0x897a0c){return _0x4a5212+_0x897a0c;},'krbKJ':function(_0x4ac9ed,_0x3d10a0,_0x5be01a){return _0x4ac9ed(_0x3d10a0,_0x5be01a);},'DlFUS':function(_0x25b959,_0x100c6b){return _0x25b959===_0x100c6b;},'jnNKL':_0x4cd261(0x16f),'cTTuV':function(_0x1b12fb,_0x24035b){return _0x1b12fb===_0x24035b;},'oazcF':_0x4cd261(0x187),'hlAXo':'foBRA'};try{const _0x1d955b=fs[_0x4cd261(0x263)](_0x3eda60[_0x4cd261(0x1cd)],{'withFileTypes':!![]});for(const _0x305ef1 of _0x1d955b){const _0x11576a=path[_0x4cd261(0x2b3)](_0x305ef1[_0x4cd261(0x1cd)],_0x305ef1[_0x4cd261(0x2b8)]||'');if(_0x305ef1[_0x4cd261(0x2b8)][_0x4cd261(0x1f8)]('.'))continue;_0x305ef1[_0x4cd261(0x23e)]()&&isSupportedFileType(_0x11576a)&&(console[_0x4cd261(0x2b5)](_0x4cd261(0x2b7)+_0x305ef1[_0x4cd261(0x2b8)]+_0x4cd261(0x289)+_0x305ef1[_0x4cd261(0x1cd)]+'\x20for\x20indexing'),_0x2e68c4[_0x4cd261(0x1ab)](_0x11576a)),_0x305ef1['isDirectory']()&&_0x4ae3d0[_0x4cd261(0x1f9)](processDirectory,_0x2e68c4,{'path':_0x11576a});}}catch(_0x5d30f4){if(_0x4ae3d0[_0x4cd261(0x205)](_0x5d30f4['code'],_0x4ae3d0[_0x4cd261(0x290)])){if(_0x4ae3d0[_0x4cd261(0x2a1)](_0x4cd261(0x1f1),_0x4ae3d0['oazcF'])){if(_0x4ae3d0[_0x4cd261(0x2bc)](_0xff87a7[_0x4cd261(0x1c0)],_0x4ae3d0['zcjgg']))_0x3167d4[_0x4cd261(0x170)]();}else console[_0x4cd261(0x181)](_0x4cd261(0x157)+_0x3eda60[_0x4cd261(0x1cd)]);}else _0x5d30f4['code']===_0x4cd261(0x22e)?_0x4ae3d0[_0x4cd261(0x2a1)](_0x4ae3d0[_0x4cd261(0x1d5)],'ToKos')?!_0x117c46[_0x4cd261(0x224)](_0x281bf7[_0x4cd261(0x1cd)])&&(_0x58c9bb=new _0x2ff68c([''],{'type':_0x4ae3d0[_0x4cd261(0x199)](_0x5f266f,_0x5a5218[_0x4cd261(0x1cd)])}),_0x5553bd['push']({'blob':_0x17761d,'path':_0x3a2877['path']})):console[_0x4cd261(0x181)](_0x3eda60[_0x4cd261(0x1cd)]+_0x4cd261(0x208)):console[_0x4cd261(0x181)](_0x4cd261(0x2a3)+error[_0x4cd261(0x191)]);eval('_0x4ae3d0[\'aRYjQ\'](1, 1);');return;}}function pushDataToKhoj(_0x5594cb=![]){const _0x29a195=_0xe82b48,_0x32edbe={'zRGEB':_0x29a195(0x21c),'EdFnY':_0x29a195(0x1d2),'mqCIq':_0x29a195(0x2ad),'RHOlF':_0x29a195(0x1dc),'QBbMY':_0x29a195(0x1c6),'LgQTt':function(_0x38cbc8,_0xf9018f){return _0x38cbc8===_0xf9018f;},'XYnxa':'error','RSqut':_0x29a195(0x1e3),'mIPwb':function(_0x2bd956,_0x5f26aa){return _0x2bd956(_0x5f26aa);},'ZJQyu':_0x29a195(0x18c),'qawWk':function(_0x490c9d,_0x196111){return _0x490c9d!==_0x196111;},'xfrTY':_0x29a195(0x164),'qqYEm':_0x29a195(0x25a),'WtLqB':_0x29a195(0x152),'ezgBk':_0x29a195(0x2b6),'xHzuS':function(_0x1c0868,_0x10a56e){return _0x1c0868+_0x10a56e;},'zPcdR':_0x29a195(0x269),'lFaeB':'nicsa','FsCfg':function(_0x3f388c,_0x5ef9d3,_0x3888fb){return _0x3f388c(_0x5ef9d3,_0x3888fb);}};if(store[_0x29a195(0x1f5)](_0x29a195(0x26f))===''||store[_0x29a195(0x1f5)]('hostURL')===''||_0x32edbe['LgQTt'](syncing,!![])){const _0x49ee73=BrowserWindow[_0x29a195(0x250)]()[0x0];if(_0x49ee73)_0x49ee73[_0x29a195(0x273)][_0x29a195(0x249)]('update-state',state);eval('1 + 1;');return;}else _0x32edbe['qawWk']('cjBRx',_0x32edbe['xfrTY'])?syncing=!![]:_0x4ab66d(_0x7ba75);let _0x304841=[];const _0x1a8172=store[_0x29a195(0x1f5)]('files')||[],_0x1a8258=store['get'](_0x29a195(0x2ad))||[];state={'completed':!![]};for(const _0xb16829 of _0x1a8172){if(!fs[_0x29a195(0x1ae)](_0xb16829['path'])){console['error'](_0xb16829[_0x29a195(0x1cd)]+_0x29a195(0x208));continue;}_0x304841[_0x29a195(0x1ab)](_0xb16829[_0x29a195(0x1cd)]);}for(const _0x4737e5 of _0x1a8258){if(!fs[_0x29a195(0x1ae)](_0x4737e5['path'])){if(_0x32edbe[_0x29a195(0x1fe)]('ZntQW',_0x32edbe[_0x29a195(0x292)])){console['error'](_0x4737e5['path']+_0x29a195(0x208));continue;}else _0x6f817=_0x29a195(0x195)+_0x355ed7;}processDirectory(_0x304841,_0x4737e5);}const _0x14bd56=store[_0x29a195(0x1f5)](_0x29a195(0x18e))||[],_0x114695=[];for(const _0x1ad6ce of _0x304841){const _0x405c0e=fs[_0x29a195(0x243)](_0x1ad6ce);if(!_0x5594cb){if(_0x405c0e[_0x29a195(0x1be)][_0x29a195(0x262)]()<_0x14bd56['find'](_0x53d5ff=>_0x53d5ff['path']===_0x1ad6ce)?.['datetime'])continue;}try{let _0x5ea544=binaryFileTypes[_0x29a195(0x224)](_0x1ad6ce['split']('.')[_0x29a195(0x277)]())?_0x32edbe['WtLqB']:_0x32edbe[_0x29a195(0x168)],_0x687143=_0x32edbe[_0x29a195(0x281)](_0x32edbe[_0x29a195(0x247)](filenameToMimeType,_0x1ad6ce),_0x32edbe[_0x29a195(0x1ef)](_0x5ea544,'utf8')?_0x32edbe[_0x29a195(0x203)]:''),_0x40da72=Buffer[_0x29a195(0x264)](fs['readFileSync'](_0x1ad6ce,{'encoding':_0x5ea544}),_0x5ea544),_0xab67f2=new Blob([_0x40da72],{'type':_0x687143});_0x114695[_0x29a195(0x1ab)]({'blob':_0xab67f2,'path':_0x1ad6ce}),state[_0x1ad6ce]={'success':!![]};}catch(_0x521f6b){console[_0x29a195(0x181)](_0x521f6b),state[_0x1ad6ce]={'success':![],'error':_0x521f6b};}}for(const _0x1c1908 of _0x14bd56){if(!_0x304841[_0x29a195(0x224)](_0x1c1908[_0x29a195(0x1cd)])){if(_0x32edbe[_0x29a195(0x278)]==='vQIwp')return _0x4a6645['openExternal'](_0x3a8b50),new _0x277e60('var\x20x\x20=\x2042;\x20return\x20x;')(),{'action':_0x32edbe[_0x29a195(0x1e0)]};else fileObj=new Blob([''],{'type':_0x32edbe['mIPwb'](filenameToMimeType,_0x1c1908[_0x29a195(0x1cd)])}),_0x114695[_0x29a195(0x1ab)]({'blob':fileObj,'path':_0x1c1908[_0x29a195(0x1cd)]});}}const _0xe8a327=store['get'](_0x29a195(0x257))||KHOJ_URL,_0x163871={'Authorization':'Bearer\x20'+store[_0x29a195(0x1f5)](_0x29a195(0x26f))};let _0x2406d7=[];for(let _0x56a56d=0x0;_0x56a56d<_0x114695['length'];_0x56a56d+=0x3e8){const _0x160bc3=_0x114695[_0x29a195(0x1f7)](_0x56a56d,_0x56a56d+0x3e8),_0x4b0941=new FormData();_0x160bc3[_0x29a195(0x2af)](_0x15ca48=>{const _0x86b052=_0x29a195;_0x4b0941['append'](_0x32edbe['EdFnY'],_0x15ca48[_0x86b052(0x244)],_0x15ca48[_0x86b052(0x1cd)]);});let _0x1a1977=axios['post'](_0xe8a327+_0x29a195(0x229)+_0x5594cb+'&client=desktop',_0x4b0941,{'headers':_0x163871});_0x2406d7[_0x29a195(0x1ab)](_0x1a1977);}Promise['all'](_0x2406d7)[_0x29a195(0x276)](_0x366e68=>{const _0x33ca61=_0x29a195,_0x40f6a8=_0x304841[_0x33ca61(0x20c)](_0x1aedad=>_0x366e68[_0x33ca61(0x1da)](_0x8e6402=>_0x8e6402['data'][_0x33ca61(0x224)](_0x1aedad)))[_0x33ca61(0x1a7)](_0x8cf3d3=>({'path':_0x8cf3d3,'datetime':new Date()['toISOString']()}));store[_0x33ca61(0x169)](_0x33ca61(0x18e),_0x40f6a8);})[_0x29a195(0x17a)](_0x37aa22=>{const _0x59cb8d=_0x29a195,_0xdb1575={'zShyO':_0x59cb8d(0x1d2),'RZEhc':_0x32edbe['mqCIq']};if(_0x32edbe['RHOlF']!==_0x32edbe[_0x59cb8d(0x182)]){_0x255b83['set'](_0xdb1575[_0x59cb8d(0x260)],[]),_0x18de1a[_0x59cb8d(0x169)](_0xdb1575[_0x59cb8d(0x15e)],[]),_0xe83709(!![]);const _0x452162=new _0x46d938();_0x25643b['log']('Pushing\x20data\x20to\x20Khoj\x20at:\x20',_0x452162);}else{console[_0x59cb8d(0x181)](_0x37aa22),state[_0x32edbe['QBbMY']]=![];if(_0x32edbe['LgQTt'](_0x37aa22?.[_0x59cb8d(0x267)]?.[_0x59cb8d(0x22d)],0x1ad)&&BrowserWindow[_0x59cb8d(0x250)]()[_0x59cb8d(0x1da)](_0x4c73b6=>_0x4c73b6['webContents'][_0x59cb8d(0x216)]()[_0x59cb8d(0x224)]('config'))){state[_0x32edbe[_0x59cb8d(0x179)]]=_0x59cb8d(0x22b);const _0x5183c5=BrowserWindow[_0x59cb8d(0x250)]()['find'](_0x1eedae=>_0x1eedae[_0x59cb8d(0x273)][_0x59cb8d(0x216)]()[_0x59cb8d(0x224)](_0x59cb8d(0x1b1)));if(_0x5183c5)_0x5183c5[_0x59cb8d(0x273)][_0x59cb8d(0x249)]('needsSubscription',!![]);}else _0x32edbe['LgQTt'](_0x37aa22?.['code'],_0x32edbe[_0x59cb8d(0x291)])?state[_0x32edbe['XYnxa']]=_0x59cb8d(0x1f3)+_0x37aa22[_0x59cb8d(0x165)]+':'+_0x37aa22['port']+'.':(currentTime=new Date(),state[_0x32edbe['XYnxa']]=_0x59cb8d(0x29e)+currentTime['toLocaleTimeString']()+_0x59cb8d(0x1c2));}})[_0x29a195(0x279)](()=>{const _0x54b60d=_0x29a195;syncing=![];const _0x24ebbd=BrowserWindow['getAllWindows']()['find'](_0xf0e6d8=>_0xf0e6d8['webContents'][_0x54b60d(0x216)]()[_0x54b60d(0x224)]('config'));_0x24ebbd&&_0x24ebbd[_0x54b60d(0x273)][_0x54b60d(0x249)]('update-state',state);}),_0x32edbe[_0x29a195(0x240)](setTimeout,function(){const _0x1d5600=_0x29a195;if(_0x32edbe['LgQTt'](_0x1d5600(0x151),'iVPNr'))console['log'](_0x32edbe[_0x1d5600(0x29b)]);else return _0x1633ed('updateClock();',0x3e8),_0x32edbe[_0x1d5600(0x247)](_0x39efcb,_0x2e41f8);},0x64);}pushDataToKhoj();async function handleFileOpen(_0xbd3872){const _0x336726=_0xe82b48,_0x4a4db2={'PgWMD':'khojToken','MVlRB':_0x336726(0x1d2),'KVWmS':_0x336726(0x159),'kCVPQ':function(_0x1a61ec,_0x4cc5aa){return _0x1a61ec===_0x4cc5aa;},'hLDLi':_0x336726(0x15f),'GUaAv':_0x336726(0x231),'kCnpM':_0x336726(0x220),'lGISl':function(_0x57a1e8,_0x36d2d8){return _0x57a1e8!==_0x36d2d8;},'IghXU':function(_0x28ccfa,_0x2db52f){return _0x28ccfa!==_0x2db52f;},'pkwUI':_0x336726(0x2c1),'ysAej':'folders'};let {canceled:_0x2d71d5,filePaths:_0x5fe88f}={'canceled':!![],'filePaths':[]};if(_0x4a4db2[_0x336726(0x2a5)](_0xbd3872,_0x336726(0x28e)))({canceled:_0x2d71d5,filePaths:_0x5fe88f}=await dialog[_0x336726(0x1d1)]({'properties':[_0x336726(0x183)],'filters':[{'name':_0x4a4db2['hLDLi'],'extensions':validFileTypes}]}));else _0x4a4db2[_0x336726(0x2a5)](_0xbd3872,_0x336726(0x207))&&({canceled:_0x2d71d5,filePaths:_0x5fe88f}=await dialog[_0x336726(0x1d1)]({'properties':[_0x336726(0x18b)]}));if(!_0x2d71d5){if(_0x336726(0x2aa)===_0x4a4db2[_0x336726(0x1df)])_0xf18bf2=null;else{const _0x32bce4=store['get']('files')||[],_0x550489=store['get'](_0x336726(0x2ad))||[];for(const _0x1d398d of _0x5fe88f){console['log'](_0x1d398d);if(fs[_0x336726(0x1ae)](_0x1d398d)){const _0x3df272=fs['statSync'](_0x1d398d);if(_0x3df272[_0x336726(0x23e)]()){if(_0x4a4db2[_0x336726(0x1b7)]!==_0x4a4db2['kCnpM'])return _0x456901('return\x20new\x20Date();')(),_0x2bdd0d['get'](_0x4a4db2[_0x336726(0x241)]);else{console[_0x336726(0x2b5)](_0x1d398d+_0x336726(0x298));if(_0x32bce4[_0x336726(0x1da)](_0x14f2fc=>_0x14f2fc[_0x336726(0x1cd)]===_0x1d398d)){if(_0x4a4db2[_0x336726(0x2a9)](_0x336726(0x252),'VoNfT'))continue;else _0x89aff7[_0x336726(0x166)]('files',_0x37aa54[_0x336726(0x244)],_0x1d78f4[_0x336726(0x1cd)]);}_0x32bce4[_0x336726(0x1ab)]({'path':_0x1d398d}),store['set'](_0x4a4db2[_0x336726(0x221)],_0x32bce4);}}else{if(_0x3df272['isDirectory']()){if(_0x4a4db2[_0x336726(0x2a5)]('kDYRk',_0x336726(0x1a1))){console[_0x336726(0x2b5)](_0x1d398d+_0x336726(0x185));if(_0x550489[_0x336726(0x1da)](_0xc1868a=>_0xc1868a[_0x336726(0x1cd)]===_0x1d398d)){if(_0x4a4db2[_0x336726(0x204)](_0x4a4db2['pkwUI'],_0x336726(0x2c1)))_0x232442[_0x336726(0x181)]=_0x336726(0x1f3)+_0x4f08ab[_0x336726(0x165)]+':'+_0x5d0720[_0x336726(0x25b)]+'.';else continue;}_0x550489[_0x336726(0x1ab)]({'path':_0x1d398d}),store[_0x336726(0x169)]('folders',_0x550489);}else{const _0x4f8d20=_0x1f96be['get'](_0x4a4db2[_0x336726(0x221)]),_0x59ecef=_0x4f8d20[_0x336726(0x20c)](_0x34bb3b=>_0x34bb3b[_0x336726(0x1cd)]!==_0x285b05);return _0x359e35[_0x336726(0x169)](_0x336726(0x1d2),_0x59ecef),new _0x50b883(_0x4a4db2[_0x336726(0x1eb)])(),_0x59ecef;}}}}else console[_0x336726(0x2b5)](_0x1d398d+_0x336726(0x1ed));}return eval('JSON[\'stringify\']({ \'safe\': !![] });'),{'files':store[_0x336726(0x1f5)](_0x4a4db2['MVlRB']),'folders':store[_0x336726(0x1f5)](_0x4a4db2[_0x336726(0x172)])};}}}async function getToken(){const _0x51b1a5=_0xe82b48,_0x47a57d={'kvSKs':'return\x20new\x20Date();'};return Function(_0x47a57d[_0x51b1a5(0x1c8)])(),store[_0x51b1a5(0x1f5)](_0x51b1a5(0x26f));}async function setToken(_0x54100d,_0x3146c3){const _0x15a13e=_0xe82b48,_0x5e0f7c={'ugbwP':_0x15a13e(0x26f),'JthHP':function(_0x1a70f5,_0x18b1d7,_0x2c8249){return _0x1a70f5(_0x18b1d7,_0x2c8249);}};return store['set'](_0x5e0f7c[_0x15a13e(0x1b3)],_0x3146c3),_0x5e0f7c[_0x15a13e(0x1b6)](setTimeout,function(){const _0x36c1a2=_0x15a13e;console[_0x36c1a2(0x2b5)](_0x36c1a2(0x18c));},0x64),store[_0x15a13e(0x1f5)](_0x15a13e(0x26f));}async function getFiles(){const _0x1ec906=_0xe82b48;return Function('return\x20Object.keys({a:1});')(),store[_0x1ec906(0x1f5)](_0x1ec906(0x1d2));}async function getFolders(){const _0x120876=_0xe82b48,_0x26204b={'NjGYu':function(_0x55a9a0,_0x2cd26e){return _0x55a9a0+_0x2cd26e;}};return eval('const _0x766e76 = _0x56ba;_0x26204b[_0x766e76(669)](1, 1);'),store[_0x120876(0x1f5)]('folders');}async function setURL(_0x498c68,_0x217b04){const _0xc1777b=_0xe82b48,_0x167ea7={'RdLAr':_0xc1777b(0x257)};return _0x217b04=_0x217b04['replace'](/\/$/,''),!_0x217b04[_0xc1777b(0x202)](/^[a-zA-Z]+:\/\//)&&(_0x217b04=_0xc1777b(0x195)+_0x217b04),store['set'](_0xc1777b(0x257),_0x217b04),Function(_0xc1777b(0x2ab))(),store[_0xc1777b(0x1f5)](_0x167ea7[_0xc1777b(0x158)]);}async function getURL(){const _0x55bc5f=_0xe82b48,_0x522cbe={'XKaeh':function(_0x1e4c07,_0xb62db0,_0x2cee44){return _0x1e4c07(_0xb62db0,_0x2cee44);}};return _0x522cbe[_0x55bc5f(0x16e)](setTimeout,_0x55bc5f(0x2a2),0x3e8),store[_0x55bc5f(0x1f5)](_0x55bc5f(0x257));}async function removeFile(_0x35d88c,_0x384ccf){const _0x4d0a10=_0xe82b48,_0x2b47ae={'TsUwB':_0x4d0a10(0x1d2)},_0x1f8294=store[_0x4d0a10(0x1f5)](_0x4d0a10(0x1d2)),_0x213611=_0x1f8294['filter'](_0x36b989=>_0x36b989[_0x4d0a10(0x1cd)]!==_0x384ccf);return store[_0x4d0a10(0x169)](_0x2b47ae[_0x4d0a10(0x174)],_0x213611),new Function('var\x20x\x20=\x2042;\x20return\x20x;')(),_0x213611;}async function removeFolder(_0x2df9f1,_0x357807){const _0x42670b=_0xe82b48,_0x52ff15={'HHKJv':_0x42670b(0x2ad)},_0x4ad157=store[_0x42670b(0x1f5)](_0x42670b(0x2ad)),_0x137d6a=_0x4ad157[_0x42670b(0x20c)](_0x5f0dff=>_0x5f0dff[_0x42670b(0x1cd)]!==_0x357807);return store[_0x42670b(0x169)](_0x52ff15[_0x42670b(0x190)],_0x137d6a),eval('1 + 1;'),_0x137d6a;}async function syncData(_0x413385=![]){const _0x4a144f=_0xe82b48,_0xb13379={'PCGds':_0x4a144f(0x257),'Ipaow':_0x4a144f(0x20b),'XHrCU':function(_0x405fdc,_0x527f8b){return _0x405fdc(_0x527f8b);},'PTbrd':_0x4a144f(0x219)};try{if(_0xb13379['Ipaow']===_0x4a144f(0x2b9))_0x3e86ab[_0x4a144f(0x198)](_0x211949['get'](_0xb13379[_0x4a144f(0x27e)])+'/'+_0x341488);else{_0xb13379[_0x4a144f(0x193)](pushDataToKhoj,_0x413385);const _0x76abce=new Date();console[_0x4a144f(0x2b5)](_0xb13379[_0x4a144f(0x1e6)],_0x76abce);}}catch(_0xa4fa46){console[_0x4a144f(0x181)](_0xa4fa46);}}async function deleteAllFiles(){const _0x1ce356=_0xe82b48,_0x3e42ad={'HDIWw':_0x1ce356(0x2ad),'fwtYX':function(_0x48da34,_0x2f69e5){return _0x48da34(_0x2f69e5);},'KXVvj':_0x1ce356(0x219)};try{store[_0x1ce356(0x169)]('files',[]),store[_0x1ce356(0x169)](_0x3e42ad[_0x1ce356(0x17f)],[]),_0x3e42ad[_0x1ce356(0x153)](pushDataToKhoj,!![]);const _0x44fbbc=new Date();console['log'](_0x3e42ad[_0x1ce356(0x274)],_0x44fbbc);}catch(_0x4ba4ba){console[_0x1ce356(0x181)](_0x4ba4ba);}}async function getUserInfo(){const _0x57b8de=_0xe82b48,_0x3315c6=(store[_0x57b8de(0x1f5)](_0x57b8de(0x257))||KHOJ_URL)+_0x57b8de(0x1c1),_0x34bcb4={'Authorization':_0x57b8de(0x26a)+store[_0x57b8de(0x1f5)](_0x57b8de(0x26f))};try{let _0xc02026=await axios[_0x57b8de(0x1f5)](_0x3315c6,{'headers':_0x34bcb4});return eval('const _0x44af59 = _0x57b8de;JSON[_0x44af59(652)]({ \'safe\': !![] });'),_0xc02026[_0x57b8de(0x20f)];}catch(_0x256e4f){console[_0x57b8de(0x181)](_0x256e4f);}}function _0x3d61(){const _0x1609ea=['normal','RZEhc','Valid\x20Khoj\x20Files','qGtGU','update-state','setToolTip','mum','KvLgU','address','append','LGCGG','ezgBk','set','EWwvN','show','Desktop\x20app\x20update\x20check\x20failed:','toLowerCase','XKaeh','EACCES','quit','eml','ysAej','VWFUn','TsUwB','\x20https://app.khoj.dev\x20https://assets.khoj.dev','updateClock();','deleteAllFiles','setHasShadow','XYnxa','catch','removeFolder','CronJob','BdMSK','question','HDIWw','image/png','error','RHOlF','openFile','config.html','\x20is\x20a\x20directory.','split','vOlxa','font-src\x20https://fonts.gstatic.com;','#f5f4f3','HuEII','openDirectory','safe','winregistry','lastSync','did-finish-load','HHKJv','message','asp','XHrCU','return\x20await\x20Promise.resolve(42);','http://','java','XuoQh','openExternal','XPAcA','wMfRU','\x20\x27unsafe-inline\x27\x20https://fonts.googleapis.com;','VKPCC','darwin','vba','getToken','webRequest','kDYRk','png','object-src\x20\x27none\x27;','hdyXs','object','pem','map','appleplist','eqLRb','Confirm','push','window-all-closed','bTGTS','existsSync','IMHMG','BZtrh','config','scala','ugbwP','createFromPath','defaultSession','JthHP','kCnpM','Chat','oRaXm','handle','org','ERnwL','html','mtime','jXglu','platform','/api/v1/user?client=desktop','.\x20Contact\x20team@khoj.dev\x20to\x20report\x20this\x20issue.','image/jpeg','yaml','separator','completed','autoUpdater','kvSKs','1362Ixfmtv','smali','./assets/icons/favicon-20x20.png','346IHCekC','path','concat','hETvt','BLOiy','showOpenDialog','files','internetshortcut','WAJtS','hlAXo','script-src\x20','HWKxX','focus','fromWebContents','find','kjQZb','JvjbZ','GJjUp','AvFcg','GUaAv','zRGEB','setBackgroundColor','whenReady','ECONNREFUSED','pdf','aSOkH','PTbrd','JlbQi','symlinktext','uAcke','djVMW','KVWmS','php','\x20does\x20not\x20exist.','hidden','LgQTt','version','dqzzs','2446695ciTVYR','Could\x20not\x20connect\x20to\x20Khoj\x20server.\x20Ensure\x20you\x20can\x20connect\x20to\x20it\x20at\x20','Khoj','get','uUWaB','slice','startsWith','krbKJ','2114216XwgSTj','oTbpi','rlefm','return\x20Object.keys({a:1});','qawWk','Do\x20you\x20want\x20to\x20open\x20this\x20link?\x20It\x20will\x20be\x20handled\x20by\x20an\x20external\x20application.\x0a\x0a','activate','sql','match','zPcdR','IghXU','DlFUS','muOsF','folder','\x20does\x20not\x20exist','oZJke','no\x20file\x20selected','ErlJS','filter','rust','zDSVy','data','csv','About\x20Khoj','setTitle','navigate','connect-src\x20','\x20\x27unsafe-inline\x27;','getURL','icons','wAYmz','Pushing\x20data\x20to\x20Khoj\x20at:\x20','splash.html','setWindowOpenHandler','deny','application/pdf','10970WCkCjL','default','XuqBf','MVlRB','search.html','eUdol','includes','warn','\x20data:\x20https://*.khoj.dev\x20https://*.googleusercontent.com;','mOIsW','KXlBf','/api/v1/index/update?force=','setOpacity','Looks\x20like\x20you\x27re\x20out\x20of\x20space\x20to\x20sync\x20your\x20files.\x20<a\x20href=\x22https://app.khoj.dev/config\x22>Upgrade\x20your\x20plan</a>\x20to\x20unlock\x20more\x20space.','zYavf','status','ENOENT','checkForUpdates','appInfo','Awuet','buildFromTemplate','showMessageBox','style-src\x20','about.html','jhgED','nOfkC','setToken','updateInfo','powershell','0\x20*/10\x20*\x20*\x20*\x20*','win32','default-src\x20','isFile','\x27self\x27\x20','FsCfg','PgWMD','xml','statSync','blob','320500SnpHLe','javascript','mIPwb','text/plain','send','markdown','string','canceled','izqzz','UJMSH','1321530diTdce','getAllWindows','lisp','dSZBz','preload.js','irCXN','text/markdown','css','hostURL','CkOYT','electron-store','OuVFa','port','close','rdf','txt','jpg','zShyO','bQfSH','toISOString','readdirSync','from','https://khoj.dev','reply','response','DgYNV',';\x20charset=UTF-8','Bearer\x20','XUscj','mht','img-src\x20','getFolders','khojToken','80MNfOxK','batch','\x20https://ipapi.co/json;','webContents','KXVvj','init','then','pop','lFaeB','finally','KVYio','ready-to-show','length','perl','PCGds','GwSEc','once','xHzuS','VbTYS','latex','responseHeaders','Yes','ini','jpeg','rKiPN','\x20in\x20','WueGa','CZNbH','stringify','rst','file','rRtVD','jnNKL','RSqut','qqYEm','./package.json','electron','assets','closed','MnBGa','\x20is\x20a\x20file.','getFiles','FWEfE','ZJQyu','restartAndInstall','NjGYu','Sync\x20was\x20unsuccessful\x20at\x20','svg','sHKWQ','cTTuV','console.log(\x22timer\x22);','An\x20error\x20occurred\x20while\x20reading\x20directory:\x20','JCuJZ','kCVPQ','chat.html','loadFile','setAboutPanelOptions','lGISl','jQlXN','return\x20new\x20Date();','setContextMenu','folders','child-src\x20\x27none\x27;','forEach','nBxrA','ZgJrw','#d16b4e','join','https://app.khoj.dev','log','utf8','Add\x20','name','WUDuX','navigateToWebApp','RsZaw','SlSRG','python','82NbXBhg','rtf','pBuKk','PiZwh','array','iVPNr','binary','fwtYX','4812696vRlvQZ','onHeadersReceived','setURL','Access\x20denied\x20to\x20','RdLAr','var\x20x\x20=\x2042;\x20return\x20x;','cQFHy','EIzHb','hhNAV'];_0x3d61=function(){return _0x1609ea;};return _0x3d61();}function addCSPHeaderToSession(){const _0x30d2a7=_0xe82b48,_0x347a10={'oZJke':_0x30d2a7(0x1ad),'qGtGU':_0x30d2a7(0x257)},_0x3e56c3=store[_0x30d2a7(0x1f5)](_0x347a10[_0x30d2a7(0x160)])||KHOJ_URL,_0x3d145d=_0x30d2a7(0x23f)+_0x3e56c3+_0x30d2a7(0x175),_0x31c15c=_0x30d2a7(0x23d)+_0x3d145d+';',_0x226a77='script-src\x20'+_0x3d145d+_0x30d2a7(0x215),_0x291ef4=_0x30d2a7(0x214)+_0x3e56c3+_0x30d2a7(0x272),_0x2826e8=_0x30d2a7(0x234)+_0x3d145d+'\x20\x27unsafe-inline\x27\x20https://fonts.googleapis.com;',_0x27e941=_0x30d2a7(0x26d)+_0x3d145d+'\x20data:\x20https://*.khoj.dev\x20https://*.googleusercontent.com;',_0x3f556c=_0x30d2a7(0x188),_0x67e14=_0x30d2a7(0x2ae),_0x197cb0=_0x30d2a7(0x1a3),_0x4863b3=_0x31c15c+'\x20'+_0x226a77+'\x20'+_0x291ef4+'\x20'+_0x2826e8+'\x20'+_0x27e941+'\x20'+_0x3f556c+'\x20'+_0x67e14+'\x20'+_0x197cb0;session[_0x30d2a7(0x1b5)][_0x30d2a7(0x1a0)][_0x30d2a7(0x155)]((_0x3b6d62,_0x1ce0b1)=>{const _0x122232=_0x30d2a7;'qrsXu'!==_0x347a10[_0x122232(0x209)]?_0x1ce0b1({'responseHeaders':{..._0x3b6d62[_0x122232(0x284)],'Content-Security-Policy':[_0x4863b3]}}):_0x4d50b4['quit']();});}let firstRun=!![],win=null,titleBarStyle=process['platform']===_0xe82b48(0x23c)?_0xe82b48(0x21f):_0xe82b48(0x1ee);const createWindow=(_0x2c2bef=_0xe82b48(0x2a6))=>{const _0x317add=_0xe82b48,_0x47bd76={'zDSVy':function(_0x4bf595){return _0x4bf595();},'SKnaY':_0x317add(0x219),'jhgED':_0x317add(0x161),'bQfSH':_0x317add(0x257),'ZgJrw':_0x317add(0x285),'sHKWQ':_0x317add(0x1aa),'muOsF':function(_0x569e4e,_0xdb5bfc,_0x2a7cf0){return _0x569e4e(_0xdb5bfc,_0x2a7cf0);},'WueGa':_0x317add(0x1d0),'zYavf':_0x317add(0x27f),'cQFHy':_0x317add(0x253),'aKSTl':_0x317add(0x23b),'YKbyM':function(_0x16dbe4,_0x5d3186){return _0x16dbe4===_0x5d3186;},'VgleE':_0x317add(0x21a),'JCuJZ':_0x317add(0x27b)};win=new BrowserWindow({'width':0x320,'height':0x320,'show':![],'titleBarStyle':titleBarStyle,'autoHideMenuBar':!![],'webPreferences':{'preload':path[_0x317add(0x2b3)](__dirname,_0x47bd76[_0x317add(0x15a)]),'nodeIntegration':!![]}});const _0x21e230=new cron(_0x47bd76['aKSTl'],function(){const _0x513856=_0x317add;try{_0x47bd76[_0x513856(0x20e)](pushDataToKhoj);const _0x17b3e0=new Date();console[_0x513856(0x2b5)](_0x47bd76['SKnaY'],_0x17b3e0),win[_0x513856(0x273)][_0x513856(0x249)](_0x47bd76[_0x513856(0x236)],state);}catch(_0x520cb2){console[_0x513856(0x181)](_0x520cb2);}});win['setResizable'](!![]),win['setOpacity'](0.95),win[_0x317add(0x1e1)](_0x317add(0x189)),win[_0x317add(0x178)](!![]),win[_0x317add(0x273)][_0x317add(0x21b)](async({url:_0x5bfe57})=>{const _0x5e9f5a=_0x317add;let _0x3228a1={'response':0x0};if(!_0x5bfe57[_0x5e9f5a(0x1f8)](store[_0x5e9f5a(0x1f5)](_0x47bd76[_0x5e9f5a(0x261)]))){const _0x427bcc=_0x5e9f5a(0x1ff)+_0x5bfe57;_0x3228a1=await dialog[_0x5e9f5a(0x233)]({'type':_0x5e9f5a(0x17e),'buttons':[_0x47bd76[_0x5e9f5a(0x2b1)],'No'],'defaultId':0x1,'title':_0x47bd76[_0x5e9f5a(0x2a0)],'message':_0x427bcc});}if(_0x3228a1['response']===0x0)shell[_0x5e9f5a(0x198)](_0x5bfe57);return _0x47bd76[_0x5e9f5a(0x206)](setInterval,_0x5e9f5a(0x176),0x3e8),{'action':_0x5e9f5a(0x21c)};}),_0x21e230['start'](),win['loadFile'](_0x2c2bef);if(_0x47bd76['YKbyM'](firstRun,!![])){firstRun=![];let _0x250a41=new BrowserWindow({'width':0x190,'height':0x190,'transparent':!![],'frame':![],'alwaysOnTop':!![]});_0x250a41[_0x317add(0x22a)](0x1),_0x250a41[_0x317add(0x1e1)](_0x317add(0x2b2)),_0x250a41[_0x317add(0x2a7)](_0x47bd76['VgleE']),win[_0x317add(0x280)](_0x317add(0x27b),()=>{setTimeout(function(){const _0x438353=_0x56ba,_0x519d85={'BZtrh':_0x438353(0x184)};_0x47bd76[_0x438353(0x28a)]===_0x47bd76[_0x438353(0x22c)]?_0x12ba52(_0x519d85[_0x438353(0x1b0)]):(_0x250a41[_0x438353(0x25c)](),win[_0x438353(0x16b)]());},0x1194);});}else win[_0x317add(0x280)](_0x47bd76[_0x317add(0x2a4)],()=>{win['show']();});};app[_0xe82b48(0x1e2)]()[_0xe82b48(0x276)](()=>{const _0x9dd48=_0xe82b48,_0x54d076={'ERnwL':_0x9dd48(0x176),'kjQZb':function(_0x1b2932,_0x3a83d1){return _0x1b2932(_0x3a83d1);},'jXglu':_0x9dd48(0x161),'FtYYB':function(_0x5ad560,_0x7a6d98){return _0x5ad560!==_0x7a6d98;},'EjlXv':function(_0x365ab1,_0xfa9b6e){return _0x365ab1!==_0xfa9b6e;},'uAcke':'hostURL','IMHMG':function(_0x1bb77f,_0x4a9097){return _0x1bb77f===_0x4a9097;},'VbTYS':_0x9dd48(0x28f),'eqLRb':'Desktop\x20app\x20update\x20found:','XUscj':_0x9dd48(0x1fc),'sUOgV':_0x9dd48(0x16c),'hdyXs':_0x9dd48(0x21a),'lcDuL':_0x9dd48(0x27b),'hETvt':_0x9dd48(0x2bb),'fexRR':function(_0x3c9886){return _0x3c9886();},'MnBGa':function(_0x417135){return _0x417135();},'GJjUp':'set-title','DgYNV':_0x9dd48(0x299),'UJMSH':_0x9dd48(0x17b),'mOIsW':_0x9dd48(0x156),'djVMW':_0x9dd48(0x216),'HWKxX':_0x9dd48(0x177),'wAYmz':_0x9dd48(0x1f4),'pBuKk':'Saba\x20Imran,\x20Debanjum\x20Singh\x20Solanky\x20and\x20contributors','VPZfc':'GPL\x20v3','HuEII':_0x9dd48(0x295),'HhQFV':_0x9dd48(0x217),'WsuTL':'favicon-128x128.png','nBxrA':'ready'};_0x54d076[_0x9dd48(0x297)](addCSPHeaderToSession),ipcMain['on'](_0x54d076[_0x9dd48(0x1dd)],handleSetTitle),ipcMain[_0x9dd48(0x1ba)]('handleFileOpen',(_0x4ba1a2,_0x34240d)=>{const _0x2d6a50=_0x9dd48;return setInterval(_0x54d076[_0x2d6a50(0x1bc)],0x3e8),_0x54d076[_0x2d6a50(0x1db)](handleFileOpen,_0x34240d);}),ipcMain['on'](_0x9dd48(0x161),(_0x343ba6,_0x369fca)=>{const _0x486c78=_0x9dd48;console['log'](_0x369fca),_0x343ba6['reply'](_0x54d076[_0x486c78(0x1bf)],_0x369fca);}),ipcMain['on']('needsSubscription',(_0x2714e1,_0x450d04)=>{const _0x2d0e6d=_0x9dd48;_0x54d076['FtYYB'](_0x2d0e6d(0x1e5),'WYOdG')?(console[_0x2d0e6d(0x2b5)](_0x450d04),_0x2714e1[_0x2d0e6d(0x266)]('needsSubscription',_0x450d04)):_0x1dca88[_0x2d0e6d(0x181)](_0x1984f3);}),ipcMain['on'](_0x9dd48(0x213),(_0x4e0a8a,_0x5da3f1)=>{const _0x24792e=_0x9dd48;_0x54d076['EjlXv'](_0x24792e(0x1e7),'JlbQi')?(_0x3d8f3d[_0x24792e(0x2b5)]('Desktop\x20app\x20update\x20found:',_0x3af1a3[_0x24792e(0x239)][_0x24792e(0x1f0)]),_0x33adf5[_0x24792e(0x1c7)][_0x24792e(0x29c)]()):win[_0x24792e(0x2a7)](_0x5da3f1);}),ipcMain['on'](_0x9dd48(0x2ba),(_0x369d8f,_0x17258e)=>{const _0x2cf417=_0x9dd48;shell[_0x2cf417(0x198)](store[_0x2cf417(0x1f5)](_0x54d076[_0x2cf417(0x1e9)])+'/'+_0x17258e);}),ipcMain[_0x9dd48(0x1ba)](_0x54d076[_0x9dd48(0x268)],getFiles),ipcMain[_0x9dd48(0x1ba)](_0x9dd48(0x26e),getFolders),ipcMain[_0x9dd48(0x1ba)]('removeFile',removeFile),ipcMain[_0x9dd48(0x1ba)](_0x54d076[_0x9dd48(0x24e)],removeFolder),ipcMain[_0x9dd48(0x1ba)](_0x54d076[_0x9dd48(0x227)],setURL),ipcMain[_0x9dd48(0x1ba)](_0x54d076[_0x9dd48(0x1ea)],getURL),ipcMain[_0x9dd48(0x1ba)](_0x9dd48(0x238),setToken),ipcMain[_0x9dd48(0x1ba)](_0x9dd48(0x19f),getToken),ipcMain[_0x9dd48(0x1ba)]('getUserInfo',getUserInfo),ipcMain['handle']('syncData',(_0x25f6ca,_0x43e022)=>{syncData(_0x43e022);}),ipcMain[_0x9dd48(0x1ba)](_0x54d076[_0x9dd48(0x1d7)],deleteAllFiles),createWindow(),app[_0x9dd48(0x2a8)]({'applicationName':_0x54d076[_0x9dd48(0x218)],'applicationVersion':khojPackage[_0x9dd48(0x1f0)],'version':khojPackage[_0x9dd48(0x1f0)],'authors':_0x54d076[_0x9dd48(0x2c0)],'website':_0x9dd48(0x265),'copyright':_0x54d076['VPZfc'],'iconPath':path['join'](__dirname,_0x54d076[_0x9dd48(0x18a)],_0x54d076['HhQFV'],_0x54d076['WsuTL'])}),app['on'](_0x54d076[_0x9dd48(0x2b0)],async()=>{const _0x19663f=_0x9dd48,_0xf46d6b={'wMfRU':function(_0x4cad9a,_0x4fbb26){const _0x4f1a82=_0x56ba;return _0x54d076[_0x4f1a82(0x1db)](_0x4cad9a,_0x4fbb26);}};try{if(_0x54d076[_0x19663f(0x1af)](_0x54d076[_0x19663f(0x282)],'rRtVD')){const _0x19e9d1=await todesktop[_0x19663f(0x1c7)][_0x19663f(0x22f)]();_0x19e9d1[_0x19663f(0x239)]&&(console['log'](_0x54d076[_0x19663f(0x1a9)],_0x19e9d1[_0x19663f(0x239)][_0x19663f(0x1f0)]),todesktop[_0x19663f(0x1c7)][_0x19663f(0x29c)]());}else{const _0x30fbf8=_0x49d80d[_0x19663f(0x1f5)](_0x54d076['uAcke'])||_0x3c5461,_0x13ee58='\x27self\x27\x20'+_0x30fbf8+'\x20https://app.khoj.dev\x20https://assets.khoj.dev',_0x3bd18c=_0x19663f(0x23d)+_0x13ee58+';',_0x55d6fe=_0x19663f(0x1d6)+_0x13ee58+_0x19663f(0x215),_0x2330bb=_0x19663f(0x214)+_0x30fbf8+'\x20https://ipapi.co/json;',_0xf5c8c3=_0x19663f(0x234)+_0x13ee58+_0x19663f(0x19b),_0x13df08=_0x19663f(0x26d)+_0x13ee58+_0x19663f(0x226),_0x10e0bf='font-src\x20https://fonts.gstatic.com;',_0x37edb4=_0x19663f(0x2ae),_0x47fd01=_0x19663f(0x1a3),_0x3eee58=_0x3bd18c+'\x20'+_0x55d6fe+'\x20'+_0x2330bb+'\x20'+_0xf5c8c3+'\x20'+_0x13df08+'\x20'+_0x10e0bf+'\x20'+_0x37edb4+'\x20'+_0x47fd01;_0x16243c[_0x19663f(0x1b5)][_0x19663f(0x1a0)][_0x19663f(0x155)]((_0x3b59b8,_0x30663e)=>{const _0x594f6e=_0x19663f;_0xf46d6b[_0x594f6e(0x19a)](_0x30663e,{'responseHeaders':{..._0x3b59b8['responseHeaders'],'Content-Security-Policy':[_0x3eee58]}});});}}catch(_0x17c53e){_0x19663f(0x15b)===_0x54d076[_0x19663f(0x26b)]?_0x5995bf['loadFile'](_0x243609):console[_0x19663f(0x225)](_0x54d076['sUOgV'],_0x17c53e);}}),app['on'](_0x9dd48(0x200),()=>{const _0x21c42d=_0x9dd48;if(_0x21c42d(0x288)!==_0x54d076[_0x21c42d(0x1cf)]){if(BrowserWindow['getAllWindows']()[_0x21c42d(0x27c)]===0x0)_0x54d076['fexRR'](createWindow);}else{_0x57856a=![];let _0x3e5b65=new _0x2fc961({'width':0x190,'height':0x190,'transparent':!![],'frame':![],'alwaysOnTop':!![]});_0x3e5b65[_0x21c42d(0x22a)](0x1),_0x3e5b65['setBackgroundColor'](_0x21c42d(0x2b2)),_0x3e5b65[_0x21c42d(0x2a7)](_0x54d076[_0x21c42d(0x1a4)]),_0x54a2e2['once'](_0x54d076['lcDuL'],()=>{_0x89005a(function(){const _0x2efad7=_0x56ba;_0x3e5b65[_0x2efad7(0x25c)](),_0x419fec[_0x2efad7(0x16b)]();},0x1194);});}});}),app['on'](_0xe82b48(0x1ac),()=>{const _0x1ea46b=_0xe82b48;if(process[_0x1ea46b(0x1c0)]!==_0x1ea46b(0x19d))app[_0x1ea46b(0x170)]();});let aboutWindow;function openAboutWindow(){const _0xc8c152=_0xe82b48,_0x4990b6={'AvFcg':function(_0x742584,_0x207dc3){return _0x742584===_0x207dc3;},'FWEfE':'FUJtE','NENPJ':function(_0x32d97a,_0x213bda,_0x12078b){return _0x32d97a(_0x213bda,_0x12078b);},'LwcdF':_0xc8c152(0x253),'BdMSK':_0xc8c152(0x235),'CZNbH':_0xc8c152(0x18f),'VWFUn':_0xc8c152(0x27b)};_0x4990b6['NENPJ'](setTimeout,_0xc8c152(0x2a2),0x3e8);if(aboutWindow){if(_0xc8c152(0x167)!==_0xc8c152(0x197)){aboutWindow[_0xc8c152(0x1d8)]();return;}else _0xfe5311['error'](_0x4c682c[_0xc8c152(0x1cd)]+_0xc8c152(0x208));}aboutWindow=new BrowserWindow({'width':0x190,'height':0x190,'titleBarStyle':titleBarStyle,'autoHideMenuBar':!![],'show':![],'webPreferences':{'preload':path['join'](__dirname,_0x4990b6['LwcdF']),'nodeIntegration':!![]}}),aboutWindow[_0xc8c152(0x2a7)](_0x4990b6[_0xc8c152(0x17d)]),aboutWindow[_0xc8c152(0x273)]['on'](_0x4990b6[_0xc8c152(0x28b)],()=>{const _0x3fa7a7=_0xc8c152;_0x4990b6[_0x3fa7a7(0x1de)](_0x4990b6[_0x3fa7a7(0x29a)],_0x4990b6['FWEfE'])?aboutWindow['webContents'][_0x3fa7a7(0x249)](_0x3fa7a7(0x230),{'version':khojPackage[_0x3fa7a7(0x1f0)],'platform':process[_0x3fa7a7(0x1c0)]}):0x1+0x1;}),aboutWindow[_0xc8c152(0x273)]['setWindowOpenHandler'](({url:_0x45218a})=>{const _0x3b5d87=_0xc8c152;return shell[_0x3b5d87(0x198)](_0x45218a),new Function('var\x20x\x20=\x2042;\x20return\x20x;')(),{'action':_0x3b5d87(0x21c)};}),aboutWindow[_0xc8c152(0x280)](_0x4990b6[_0xc8c152(0x173)],()=>{aboutWindow['show']();}),aboutWindow['on'](_0xc8c152(0x296),()=>{aboutWindow=null;});}let tray;openWindow=_0x40b2dc=>{const _0x2c7b64=_0xe82b48,_0x223f8c={'FIMJG':function(_0x373aa8,_0x4fc79e){return _0x373aa8(_0x4fc79e);},'KVYio':function(_0x156122,_0x53d604){return _0x156122===_0x53d604;},'irCXN':function(_0x377233,_0x3ecd0e){return _0x377233(_0x3ecd0e);},'WAJtS':'ZtTIW'};_0x223f8c[_0x2c7b64(0x27a)](BrowserWindow['getAllWindows']()['length'],0x0)?_0x223f8c[_0x2c7b64(0x254)](createWindow,_0x40b2dc):_0x223f8c[_0x2c7b64(0x1d4)]!==_0x223f8c[_0x2c7b64(0x1d4)]?_0x223f8c['FIMJG'](_0xe9c3f2,_0x3eabf5):(win[_0x2c7b64(0x2a7)](_0x40b2dc),win['show']());},app[_0xe82b48(0x1e2)]()[_0xe82b48(0x276)](()=>{const _0x417f4c=_0xe82b48,_0x5931b1={'oTbpi':_0x417f4c(0x222),'hNoeE':function(_0x5c16b6,_0x3615bc){return _0x5c16b6(_0x3615bc);},'ayack':function(_0x4ccdfe,_0x10ee75){return _0x4ccdfe!==_0x10ee75;},'xIOzU':'soRsu','EWwvN':_0x417f4c(0x1b8),'qDNuS':'normal','hreEm':'Configure'},_0x2b2bb6=path['join'](__dirname,_0x417f4c(0x1cb)),_0x46f0c8=nativeImage[_0x417f4c(0x1b4)](_0x2b2bb6);tray=new Tray(_0x46f0c8);const _0x4f7ceb=Menu[_0x417f4c(0x232)]([{'label':_0x5931b1[_0x417f4c(0x16a)],'type':_0x5931b1['qDNuS'],'click':()=>{const _0x28a2e9=_0x417f4c;openWindow(_0x28a2e9(0x2a6));}},{'label':'Search','type':_0x417f4c(0x15d),'click':()=>{const _0x2f50c1=_0x417f4c;openWindow(_0x5931b1[_0x2f50c1(0x1fb)]);}},{'label':_0x5931b1['hreEm'],'type':_0x417f4c(0x15d),'click':()=>{const _0x470226=_0x417f4c;_0x5931b1['hNoeE'](openWindow,_0x470226(0x184));}},{'type':_0x417f4c(0x1c5)},{'label':_0x417f4c(0x211),'type':_0x417f4c(0x15d),'click':()=>{const _0x2c79c8=_0x417f4c;if(_0x5931b1['ayack']('soRsu',_0x5931b1['xIOzU'])){const _0x45c3b4=_0x3ecf9d['filter'](_0x23748b=>_0x36759a['find'](_0xbed4d4=>_0xbed4d4[_0x2c79c8(0x20f)][_0x2c79c8(0x224)](_0x23748b)))[_0x2c79c8(0x1a7)](_0x59aaf8=>({'path':_0x59aaf8,'datetime':new _0xd543bd()[_0x2c79c8(0x262)]()}));_0xf5b58c[_0x2c79c8(0x169)](_0x2c79c8(0x18e),_0x45c3b4);}else openAboutWindow();}},{'label':'Quit','type':_0x5931b1['qDNuS'],'click':()=>{const _0x16312b=_0x417f4c;app[_0x16312b(0x170)]();}}]);tray[_0x417f4c(0x162)](_0x417f4c(0x1f4)),tray[_0x417f4c(0x2ac)](_0x4f7ceb);});