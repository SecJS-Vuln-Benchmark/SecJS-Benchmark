const _0x2eb9a5=_0x5af2;(function(_0x12f41f,_0x212054){const _0x16eeb3=_0x5af2,_0xa310c6=_0x12f41f();while(!![]){try{const _0x432ba3=parseInt(_0x16eeb3(0x18b))/0x1*(-parseInt(_0x16eeb3(0x1b5))/0x2)+parseInt(_0x16eeb3(0x16e))/0x3+-parseInt(_0x16eeb3(0x175))/0x4*(parseInt(_0x16eeb3(0x19d))/0x5)+-parseInt(_0x16eeb3(0x18f))/0x6*(-parseInt(_0x16eeb3(0x1af))/0x7)+-parseInt(_0x16eeb3(0x16d))/0x8*(parseInt(_0x16eeb3(0x187))/0x9)+parseInt(_0x16eeb3(0x184))/0xa+parseInt(_0x16eeb3(0x1a0))/0xb*(parseInt(_0x16eeb3(0x173))/0xc);if(_0x432ba3===_0x212054)break;else _0xa310c6['push'](_0xa310c6['shift']());}catch(_0x32fb48){_0xa310c6['push'](_0xa310c6['shift']());}}}(_0x361d,0x7947e));import{FindState}from'./pdf_find_controller.js';function _0x5af2(_0x381118,_0x649049){const _0x361d45=_0x361d();return _0x5af2=function(_0x5af23e,_0x289429){_0x5af23e=_0x5af23e-0x15d;let _0x3ffc80=_0x361d45[_0x5af23e];return _0x3ffc80;},_0x5af2(_0x381118,_0x649049);}import{toggleExpandedBtn}from'./ui_utils.js';const MATCHES_COUNT_LIMIT=0x3e8;class PDFFindBar{#mainContainer;#resizeObserver=new ResizeObserver(this.#resizeObserverCallback[_0x2eb9a5(0x1b3)](this));constructor(_0x5dcb2b,_0x226c6a,_0x1aa47d){const _0x49379c=_0x2eb9a5,_0xcc4cba={'gslEb':'b3-button--outline','bfCdu':function(_0x25b6f9,_0x2394cc){return _0x25b6f9===_0x2394cc;},'dMQEw':'again','LLHAs':_0x49379c(0x15d),'KgSbS':_0x49379c(0x1a2),'AUOBo':'casesensitivitychange','ZuYnl':_0x49379c(0x190),'rYYyM':function(_0x5546ff,_0x4369a0){return _0x5546ff!==_0x4369a0;},'yXeir':_0x49379c(0x1b4),'CulpB':_0x49379c(0x1b0),'gjSCn':_0x49379c(0x16c),'FgnjW':_0x49379c(0x177),'VxJRR':_0x49379c(0x1c4)};this[_0x49379c(0x1c7)]=![],this['bar']=_0x5dcb2b[_0x49379c(0x193)],this['toggleButton']=_0x5dcb2b[_0x49379c(0x1ad)],this[_0x49379c(0x198)]=_0x5dcb2b[_0x49379c(0x198)],this[_0x49379c(0x191)]=_0x5dcb2b[_0x49379c(0x1b9)],this[_0x49379c(0x17f)]=_0x5dcb2b[_0x49379c(0x189)],this['matchDiacritics']=_0x5dcb2b[_0x49379c(0x1c3)],this[_0x49379c(0x167)]=_0x5dcb2b['entireWordCheckbox'],this['findMsg']=_0x5dcb2b['findMsg'],this['findResultsCount']=_0x5dcb2b['findResultsCount'],this['findPreviousButton']=_0x5dcb2b[_0x49379c(0x168)],this['findNextButton']=_0x5dcb2b['findNextButton'],this[_0x49379c(0x15f)]=_0x1aa47d,this.#mainContainer=_0x226c6a,this[_0x49379c(0x1ad)][_0x49379c(0x1b2)](_0x49379c(0x1c4),()=>{const _0x41d8e6=_0x49379c;_0x41d8e6(0x16f)!=='PJNuo'?this[_0x41d8e6(0x191)][_0x41d8e6(0x171)][_0x41d8e6(0x170)][_0x41d8e6(0x1c8)](_0xcc4cba[_0x41d8e6(0x18a)]):this[_0x41d8e6(0x180)]();}),this[_0x49379c(0x198)][_0x49379c(0x1b2)](_0xcc4cba['gjSCn'],()=>{this['dispatchEvent']('');}),this['bar'][_0x49379c(0x1b2)](_0xcc4cba[_0x49379c(0x1c9)],_0x59be3b=>{const _0x33f051=_0x49379c;switch(_0x59be3b['keyCode']){case 0xd:_0xcc4cba[_0x33f051(0x17b)](_0x59be3b[_0x33f051(0x172)],this['findField'])&&this[_0x33f051(0x1ae)](_0x33f051(0x182),_0x59be3b[_0x33f051(0x1a6)]);break;case 0x1b:this[_0x33f051(0x19a)]();break;}}),this[_0x49379c(0x168)][_0x49379c(0x1b2)](_0xcc4cba['VxJRR'],()=>{const _0x2c3954=_0x49379c;this[_0x2c3954(0x1ae)](_0xcc4cba['dMQEw'],!![]);}),this[_0x49379c(0x197)][_0x49379c(0x1b2)](_0xcc4cba[_0x49379c(0x1bd)],()=>{const _0x3ed023=_0x49379c;this[_0x3ed023(0x1ae)](_0xcc4cba['dMQEw'],![]);}),this['highlightAll'][_0x49379c(0x1b2)](_0x49379c(0x1c4),()=>{const _0x2f27cb=_0x49379c;'LHERS'!==_0xcc4cba[_0x2f27cb(0x19c)]?this['dispatchEvent'](_0x2f27cb(0x182),_0x4f5c4c[_0x2f27cb(0x1a6)]):(this[_0x2f27cb(0x1ae)](_0xcc4cba[_0x2f27cb(0x16a)]),this['highlightAll'][_0x2f27cb(0x194)]?this[_0x2f27cb(0x191)]['parentElement']['classList'][_0x2f27cb(0x1c8)](_0xcc4cba[_0x2f27cb(0x18a)]):this[_0x2f27cb(0x191)][_0x2f27cb(0x171)][_0x2f27cb(0x170)]['add'](_0xcc4cba[_0x2f27cb(0x18a)]));}),this[_0x49379c(0x17f)][_0x49379c(0x1b2)](_0xcc4cba[_0x49379c(0x1bd)],()=>{const _0x3cfdb0=_0x49379c;this[_0x3cfdb0(0x1ae)](_0xcc4cba['AUOBo']),this[_0x3cfdb0(0x17f)]['checked']?this[_0x3cfdb0(0x17f)][_0x3cfdb0(0x171)][_0x3cfdb0(0x170)][_0x3cfdb0(0x1c8)](_0xcc4cba[_0x3cfdb0(0x18a)]):this[_0x3cfdb0(0x17f)]['parentElement'][_0x3cfdb0(0x170)][_0x3cfdb0(0x178)](_0xcc4cba[_0x3cfdb0(0x18a)]);}),this[_0x49379c(0x167)]['addEventListener'](_0xcc4cba[_0x49379c(0x1bd)],()=>{const _0x4922ab=_0x49379c;if(_0xcc4cba['rYYyM'](_0x4922ab(0x185),_0x4922ab(0x185))){const _0x371129=_0x1aaa09;_0x2874c8['textContent']=_0x2d7c38>_0x371129?_0x43c834[_0x4922ab(0x16b)][_0x4922ab(0x1c2)][_0x4922ab(0x1c5)][_0x4922ab(0x163)]('{{limit}}',_0x371129):_0x16ec87[_0x4922ab(0x16b)]['languages']['find_match_count'][_0x4922ab(0x163)](_0xcc4cba['ZuYnl'],_0x597b8d)[_0x4922ab(0x163)](_0x4922ab(0x188),_0x4d0da8);}else this[_0x4922ab(0x1ae)](_0x4922ab(0x1a9)),this[_0x4922ab(0x167)][_0x4922ab(0x194)]?_0xcc4cba['rYYyM'](_0xcc4cba[_0x4922ab(0x174)],_0xcc4cba['yXeir'])?_0x4f33e1[_0x4922ab(0x1b8)]=_0x499728:this[_0x4922ab(0x167)][_0x4922ab(0x171)][_0x4922ab(0x170)]['remove'](_0xcc4cba['gslEb']):this[_0x4922ab(0x167)][_0x4922ab(0x171)][_0x4922ab(0x170)][_0x4922ab(0x178)]('b3-button--outline');}),this[_0x49379c(0x183)][_0x49379c(0x1b2)]('click',()=>{const _0x1e0456=_0x49379c;this[_0x1e0456(0x1ae)](_0xcc4cba[_0x1e0456(0x1ba)]),this[_0x1e0456(0x183)]['checked']?this[_0x1e0456(0x183)][_0x1e0456(0x171)][_0x1e0456(0x170)][_0x1e0456(0x1c8)](_0xcc4cba[_0x1e0456(0x18a)]):this[_0x1e0456(0x183)]['parentElement'][_0x1e0456(0x170)][_0x1e0456(0x178)](_0xcc4cba[_0x1e0456(0x18a)]);});}[_0x2eb9a5(0x196)](){const _0x115b48=_0x2eb9a5;this[_0x115b48(0x161)]();}[_0x2eb9a5(0x1ae)](_0xc5ad27,_0x47b280=![]){const _0x53f427=_0x2eb9a5;this[_0x53f427(0x15f)]['dispatch'](_0x53f427(0x165),{'source':this,'type':_0xc5ad27,'query':this[_0x53f427(0x198)]['value'],'caseSensitive':this['caseSensitive'][_0x53f427(0x194)],'entireWord':this[_0x53f427(0x167)][_0x53f427(0x194)],'highlightAll':this['highlightAll'][_0x53f427(0x194)],'findPrevious':_0x47b280,'matchDiacritics':this[_0x53f427(0x183)][_0x53f427(0x194)]});}[_0x2eb9a5(0x161)](_0x3c79d9,_0x3792da,_0x1a8524){const _0x2db069=_0x2eb9a5,_0xd44b11={'mXvnv':'pending','yPhdj':_0x2db069(0x1be),'ncqAN':_0x2db069(0x1b6),'Gmmaw':_0x2db069(0x17e),'OTYpl':function(_0x424ac1,_0x18ba06){return _0x424ac1===_0x18ba06;},'uVkLr':_0x2db069(0x19f)},{findField:_0x1d8f21,findMsg:_0x19510d}=this;let _0x19a049='',_0x51161e='';switch(_0x3c79d9){case FindState[_0x2db069(0x162)]:break;case FindState[_0x2db069(0x1bc)]:_0x51161e=_0xd44b11[_0x2db069(0x164)];break;case FindState[_0x2db069(0x1ac)]:_0x19a049=window['siyuan'][_0x2db069(0x1c2)][_0x2db069(0x179)],_0x51161e=_0xd44b11[_0x2db069(0x18d)];break;case FindState[_0x2db069(0x1c1)]:_0x19a049=window[_0x2db069(0x16b)][_0x2db069(0x1c2)][_0x2db069(0x179)]['find_reached_'+(_0x3792da?_0xd44b11[_0x2db069(0x18e)]:_0xd44b11['Gmmaw'])];break;}_0x1d8f21[_0x2db069(0x1a5)](_0x2db069(0x1a1),_0x51161e),_0x1d8f21['setAttribute'](_0x2db069(0x1bb),_0xd44b11[_0x2db069(0x17a)](_0x3c79d9,FindState[_0x2db069(0x1ac)])),_0x19510d['setAttribute']('data-status',_0x51161e),_0x19a049?_0x19510d[_0x2db069(0x1b8)]=_0x19a049:(_0x19510d[_0x2db069(0x17c)](_0xd44b11[_0x2db069(0x1a4)]),_0x19510d['textContent']=''),this[_0x2db069(0x181)](_0x1a8524);}[_0x2eb9a5(0x181)]({current:current=0x0,total:total=0x0}={}){const _0x14df93=_0x2eb9a5,_0x662ecf={'WaYWy':function(_0x217371,_0x24ecb7){return _0x217371>_0x24ecb7;},'cbsPt':_0x14df93(0x190),'WMQky':_0x14df93(0x19f)},{findResultsCount:_0x2bc397}=this;if(_0x662ecf[_0x14df93(0x1c0)](total,0x0)){const _0x2e41b0=MATCHES_COUNT_LIMIT;_0x2bc397[_0x14df93(0x1b8)]=total>_0x2e41b0?window[_0x14df93(0x16b)][_0x14df93(0x1c2)][_0x14df93(0x1c5)][_0x14df93(0x163)](_0x14df93(0x1b1),_0x2e41b0):window[_0x14df93(0x16b)][_0x14df93(0x1c2)][_0x14df93(0x17d)][_0x14df93(0x163)](_0x662ecf[_0x14df93(0x1ab)],current)[_0x14df93(0x163)]('{{total}}',total);}else _0x2bc397[_0x14df93(0x17c)](_0x662ecf[_0x14df93(0x1a8)]),_0x2bc397['textContent']='';}[_0x2eb9a5(0x18c)](){const _0x5ad730=_0x2eb9a5,_0x415a72={'FYSxE':function(_0xcba201,_0xba1cb0,_0x199feb,_0x39ae41){return _0xcba201(_0xba1cb0,_0x199feb,_0x39ae41);}};!this[_0x5ad730(0x1c7)]&&(this.#resizeObserver['observe'](this.#mainContainer),this.#resizeObserver[_0x5ad730(0x1a3)](this[_0x5ad730(0x193)]),this['opened']=!![],_0x415a72[_0x5ad730(0x192)](toggleExpandedBtn,this[_0x5ad730(0x1ad)],!![],this[_0x5ad730(0x193)])),this[_0x5ad730(0x198)][_0x5ad730(0x186)](),this[_0x5ad730(0x198)]['focus']();}['close'](){const _0x36bfc3=_0x2eb9a5;if(!this[_0x36bfc3(0x1c7)]){eval('const _0x280a24 = _0x36bfc3;JSON[_0x280a24(439)]({ \'safe\': !![] });');return;}this.#resizeObserver[_0x36bfc3(0x15e)](),this['opened']=![],toggleExpandedBtn(this['toggleButton'],![],this[_0x36bfc3(0x193)]),this[_0x36bfc3(0x15f)][_0x36bfc3(0x199)](_0x36bfc3(0x19b),{'source':this});}['toggle'](){const _0x43daa4=_0x2eb9a5,_0x22dc30={'QCnGq':function(_0x7df185,_0x4fa821){return _0x7df185!==_0x4fa821;},'NpQYw':_0x43daa4(0x195),'ONgQP':'YNZbP'};this['opened']?this[_0x43daa4(0x19a)]():_0x22dc30[_0x43daa4(0x1c6)](_0x22dc30[_0x43daa4(0x1bf)],_0x22dc30[_0x43daa4(0x1a7)])?this[_0x43daa4(0x18c)]():this[_0x43daa4(0x167)][_0x43daa4(0x171)]['classList'][_0x43daa4(0x178)](_0x43daa4(0x176));}#resizeObserverCallback(){const _0x135c7d=_0x2eb9a5,_0x4ace49={'NJPSL':_0x135c7d(0x176),'WzIya':'wrapContainers'},{bar:_0x2dfaa5}=this;_0x2dfaa5[_0x135c7d(0x170)][_0x135c7d(0x1c8)](_0x4ace49[_0x135c7d(0x169)]);const _0x1d2ff7=_0x2dfaa5['clientHeight'],_0x39e8f2=_0x2dfaa5[_0x135c7d(0x1aa)]['clientHeight'];_0x1d2ff7>_0x39e8f2&&(_0x135c7d(0x166)==='SjiHF'?_0x2dfaa5[_0x135c7d(0x170)][_0x135c7d(0x178)](_0x135c7d(0x19e)):this[_0x135c7d(0x17f)][_0x135c7d(0x171)]['classList'][_0x135c7d(0x178)](_0x4ace49[_0x135c7d(0x160)]));}}function _0x361d(){const _0x54075=['find_match_count','bottom','caseSensitive','toggle','updateResultsCount','again','matchDiacritics','5972730zHEuml','ICoCp','select','81zgdvMp','{{total}}','caseSensitiveCheckbox','gslEb','970607TQzIan','open','yPhdj','ncqAN','487212uVbfyb','{{current}}','highlightAll','FYSxE','bar','checked','wQAWR','reset','findNextButton','findField','dispatch','close','findbarclose','LLHAs','1218755qZWqUy','wrapContainers','data-l10n-id','8481913tHaSkY','data-status','highlightallchange','observe','uVkLr','setAttribute','shiftKey','ONgQP','WMQky','entirewordchange','firstElementChild','cbsPt','NOT_FOUND','toggleButton','dispatchEvent','63ydfbqx','diacriticmatchingchange','{{limit}}','addEventListener','bind','XCCPF','2crbZAI','top','stringify','textContent','highlightAllCheckbox','CulpB','aria-invalid','PENDING','VxJRR','notFound','NpQYw','WaYWy','WRAPPED','languages','matchDiacriticsCheckbox','click','find_match_count_limit','QCnGq','opened','remove','FgnjW','LHERS','disconnect','eventBus','NJPSL','updateUIState','FOUND','replace','mXvnv','find','SjiHF','entireWord','findPreviousButton','WzIya','KgSbS','siyuan','input','505848qBvfFB','543087EvEaPC','PJNuo','classList','parentElement','target','12gHADuk','yXeir','4tOlMSo','b3-button--outline','keydown','add','find_not_found','OTYpl','bfCdu','removeAttribute'];_0x361d=function(){return _0x54075;};return _0x361d();}export{PDFFindBar};