const _0x1cd9a1=_0x2295;(function(_0x898d17,_0x27f926){const _0x1cdb92=_0x2295,_0x1b5aa5=_0x898d17();while(!![]){try{const _0x33af64=parseInt(_0x1cdb92(0x1db))/0x1*(-parseInt(_0x1cdb92(0x1b4))/0x2)+parseInt(_0x1cdb92(0x1bb))/0x3*(-parseInt(_0x1cdb92(0x1d1))/0x4)+-parseInt(_0x1cdb92(0x1c7))/0x5+parseInt(_0x1cdb92(0x1e3))/0x6*(parseInt(_0x1cdb92(0x1ee))/0x7)+-parseInt(_0x1cdb92(0x1e1))/0x8+parseInt(_0x1cdb92(0x1c0))/0x9+-parseInt(_0x1cdb92(0x1d4))/0xa*(-parseInt(_0x1cdb92(0x1c6))/0xb);if(_0x33af64===_0x27f926)break;else _0x1b5aa5['push'](_0x1b5aa5['shift']());}catch(_0x3b5349){_0x1b5aa5['push'](_0x1b5aa5['shift']());}}}(_0x522a,0xe54b3));const asyncMiddleware=require(_0x1cd9a1(0x1eb)),logger=require(_0x1cd9a1(0x1d3)),{BadParameters}=require('../../utils/coreErrors'),LOGIN_SESSION_VALIDITY_IN_SECONDS=0x16d*0x18*0x3c*0x3c;function _0x2295(_0x5ec284,_0x5a07d2){const _0x522a4c=_0x522a();return _0x2295=function(_0x229502,_0x3ca67e){_0x229502=_0x229502-0x1ac;let _0x39dc48=_0x522a4c[_0x229502];return _0x39dc48;},_0x2295(_0x5ec284,_0x5a07d2);}function _0x522a(){const _0x2ed1ee=['You\x20cannot\x20delete\x20yourself','2190080eyrItj','aoypX','5017314FMdNXD','session','izRJw','exports','expand','hCNXl',',\x20link\x20=\x20','getById','../middlewares/asyncMiddleware','split','freeze','14sVYcpi','selector','user-agent','origin','create','getPicture','/reset-password?token=','access_token','FyYFP','json','2gIuLFw','ZBhpP','dashboard:read','swSts','axRBZ','getAccessToken','headers','2227539jhgGxE','NRNXa','getUserCount','doOCz','getBySelector','4514733EnidTy','refresh_token','fields','fJZsR','update','zoilL','835142JcXOEV','7139330CYAQfs','uUEsy','email','session_id','send','body','params','status','user_selector','GnGfg','4kcLxXn','revoke','../../utils/logger','190TfCezA','login','user','password','EDEjs','hIVeJ','dashboard:write','233267ftbrJX','eOfeM','forgotPassword','scope','query'];_0x522a=function(){return _0x2ed1ee;};return _0x522a();}module[_0x1cd9a1(0x1e6)]=function UserController(_0x34b1d5){const _0x2eb5bb=_0x1cd9a1,_0x287918={'doOCz':_0x2eb5bb(0x1e0),'SXdVF':_0x2eb5bb(0x1e8),'hIVeJ':_0x2eb5bb(0x1d8),'NRNXa':_0x2eb5bb(0x1da),'ZBhpP':_0x2eb5bb(0x1ac),'uUEsy':_0x2eb5bb(0x1b6),'izRJw':_0x2eb5bb(0x1b8),'zoilL':_0x2eb5bb(0x1c3),'swSts':function(_0x62a84b,_0x2b6135){return _0x62a84b===_0x2b6135;},'aoypX':function(_0x3f4c38,_0x4f0ffe){return _0x3f4c38>_0x4f0ffe;},'FyYFP':function(_0x50786d,_0x30085f){return _0x50786d(_0x30085f);},'eOfeM':function(_0x1ae2d2,_0x5e9841){return _0x1ae2d2(_0x5e9841);}};async function _0xb6ae48(_0x1f8f72,_0x3c460f,_0x2e75c4){const _0x1e3bab=_0x2eb5bb;if(_0x287918['SXdVF']!==_0x287918[_0x1e3bab(0x1d9)]){const _0x3ccb45=await _0x34b1d5[_0x1e3bab(0x1d6)][_0x1e3bab(0x1ae)](_0x1f8f72[_0x1e3bab(0x1cc)]),_0x49f935=_0x1f8f72[_0x1e3bab(0x1cc)][_0x1e3bab(0x1de)]||[_0x287918[_0x1e3bab(0x1bc)],'dashboard:read'],_0x5574b0=await _0x34b1d5[_0x1e3bab(0x1e4)]['create'](_0x3ccb45['id'],_0x49f935,LOGIN_SESSION_VALIDITY_IN_SECONDS,_0x1f8f72[_0x1e3bab(0x1ba)][_0x287918[_0x1e3bab(0x1b5)]]),_0x299a3d={..._0x3ccb45,..._0x5574b0};_0x3c460f[_0x1e3bab(0x1ce)](0xc9)[_0x1e3bab(0x1b3)](_0x299a3d);}else throw new _0x198ab3(_0x287918[_0x1e3bab(0x1be)]);}async function _0xd0a3a4(_0x28e99a,_0x540c65,_0x4fb264){const _0x514dd3=_0x2eb5bb,_0x1b0981=await _0x34b1d5[_0x514dd3(0x1d6)][_0x514dd3(0x1d5)](_0x28e99a['body'][_0x514dd3(0x1c9)],_0x28e99a['body'][_0x514dd3(0x1d7)]),_0x25b687=_0x28e99a['body']['scope']||[_0x287918[_0x514dd3(0x1bc)],_0x287918[_0x514dd3(0x1c8)]],_0xf4fc38=await _0x34b1d5[_0x514dd3(0x1e4)][_0x514dd3(0x1ae)](_0x1b0981['id'],_0x25b687,LOGIN_SESSION_VALIDITY_IN_SECONDS,_0x28e99a[_0x514dd3(0x1ba)][_0x287918[_0x514dd3(0x1b5)]]),_0x23ffb4={..._0x1b0981,..._0xf4fc38};_0x540c65[_0x514dd3(0x1b3)](_0x23ffb4);}async function _0x35d17d(_0x55b30e,_0x53897a,_0x140fb8){const _0x56417f=_0x2eb5bb,_0x4cbb34=_0x55b30e[_0x56417f(0x1df)];_0x4cbb34[_0x56417f(0x1c2)]&&(_0x4cbb34[_0x56417f(0x1c2)]=_0x4cbb34['fields'][_0x56417f(0x1ec)](','));_0x4cbb34[_0x56417f(0x1e7)]&&(_0x4cbb34[_0x56417f(0x1e7)]=_0x4cbb34[_0x56417f(0x1e7)]['split'](','));const _0x17656c=await _0x34b1d5[_0x56417f(0x1d6)]['get'](_0x4cbb34);_0x53897a[_0x56417f(0x1b3)](_0x17656c);}async function _0x203e70(_0x403cc2,_0x237085){const _0x414e7c=_0x2eb5bb,_0x10e541=await _0x34b1d5[_0x414e7c(0x1d6)][_0x414e7c(0x1bf)](_0x403cc2[_0x414e7c(0x1cd)][_0x414e7c(0x1cf)]);_0x237085[_0x414e7c(0x1b3)](_0x10e541);}async function _0x5015be(_0x2322ab,_0xc3b739){const _0x2998f3=_0x2eb5bb,_0x383a05=await _0x34b1d5[_0x2998f3(0x1d6)]['updateBySelector'](_0x2322ab[_0x2998f3(0x1cd)][_0x2998f3(0x1cf)],_0x2322ab[_0x2998f3(0x1cc)]);_0xc3b739['json'](_0x383a05);}async function _0x3b6179(_0x49206f,_0x170372){const _0xdd9667=_0x2eb5bb;if(_0x49206f[_0xdd9667(0x1d6)][_0xdd9667(0x1ef)]===_0x49206f[_0xdd9667(0x1cd)][_0xdd9667(0x1cf)])throw new BadParameters(_0xdd9667(0x1e0));await _0x34b1d5[_0xdd9667(0x1d6)]['destroy'](_0x49206f[_0xdd9667(0x1cd)][_0xdd9667(0x1cf)]),_0x170372[_0xdd9667(0x1b3)]({'success':!![]});}async function _0x374f6d(_0x3124c0,_0x3925e8,_0x2553d2){const _0xb1c965=_0x2eb5bb;if(_0x287918[_0xb1c965(0x1e5)]===_0x287918[_0xb1c965(0x1c5)])0x1+0x1;else{const _0x42f612=await _0x34b1d5['user'][_0xb1c965(0x1ea)](_0x3124c0[_0xb1c965(0x1d6)]['id']);_0x3925e8[_0xb1c965(0x1b3)](_0x42f612);}}async function _0xa2fb8b(_0x39dd4c,_0x53dd21,_0x4d9650){const _0x3103e5=_0x2eb5bb,_0x49f3ed=await _0x34b1d5[_0x3103e5(0x1d6)][_0x3103e5(0x1af)](_0x39dd4c[_0x3103e5(0x1d6)]['id']);_0x53dd21[_0x3103e5(0x1cb)](_0x49f3ed);}async function _0x148c79(_0xd04a9e,_0x3501d4,_0x2adaeb){const _0x2db088=_0x2eb5bb;delete _0xd04a9e[_0x2db088(0x1cc)]['role'];const _0x903359=await _0x34b1d5['user'][_0x2db088(0x1c4)](_0xd04a9e[_0x2db088(0x1d6)]['id'],_0xd04a9e[_0x2db088(0x1cc)]);_0x3501d4[_0x2db088(0x1b3)](_0x903359);}async function _0xdeef4(_0x5268b7,_0x1b5d55){const _0x4f3350=_0x2eb5bb,_0x161032=_0x5268b7[_0x4f3350(0x1cc)][_0x4f3350(0x1de)]||[_0x287918[_0x4f3350(0x1bc)],_0x4f3350(0x1b6)],_0x592b30=await _0x34b1d5[_0x4f3350(0x1e4)][_0x4f3350(0x1b9)](_0x5268b7['body'][_0x4f3350(0x1c1)],_0x161032);_0x1b5d55[_0x4f3350(0x1b3)](_0x592b30);}async function _0x189b7c(_0x36a37e,_0x53f46b){const _0x21a7ad=_0x2eb5bb;if(_0x287918[_0x21a7ad(0x1b7)](_0x21a7ad(0x1d0),_0x21a7ad(0x1d0))){const _0x12fd2b=await _0x34b1d5[_0x21a7ad(0x1d6)][_0x21a7ad(0x1dd)](_0x36a37e[_0x21a7ad(0x1cc)][_0x21a7ad(0x1c9)],_0x36a37e[_0x21a7ad(0x1ba)][_0x287918[_0x21a7ad(0x1b5)]]),_0x437a6b=_0x36a37e['body'][_0x21a7ad(0x1ad)]+_0x21a7ad(0x1b0)+_0x12fd2b[_0x21a7ad(0x1b1)];logger['info']('Forgot\x20password\x20initiated\x20for\x20user\x20'+_0x36a37e[_0x21a7ad(0x1cc)][_0x21a7ad(0x1c9)]+_0x21a7ad(0x1e9)+_0x437a6b),_0x53f46b[_0x21a7ad(0x1b3)]({'success':!![]});}else _0x454478[_0x21a7ad(0x1c2)]=_0x2ee61e[_0x21a7ad(0x1c2)][_0x21a7ad(0x1ec)](',');}async function _0x52f9d1(_0x1d6d0e,_0x3ff7f3){const _0x2621e9=_0x2eb5bb,_0xa53b75=await _0x34b1d5[_0x2621e9(0x1d6)]['updatePassword'](_0x1d6d0e[_0x2621e9(0x1d6)]['id'],_0x1d6d0e[_0x2621e9(0x1cc)][_0x2621e9(0x1d7)]);await _0x34b1d5['session'][_0x2621e9(0x1d2)](_0x1d6d0e['user']['id'],_0x1d6d0e[_0x2621e9(0x1ca)]),_0x3ff7f3['json'](_0xa53b75);}async function _0x357cd1(_0x5bbd19,_0x318b0c){const _0x4ba327=_0x2eb5bb,_0x31e6a8=_0x34b1d5[_0x4ba327(0x1d6)][_0x4ba327(0x1bd)](),_0x31a132=_0x287918[_0x4ba327(0x1e2)](_0x31e6a8,0x0);_0x318b0c['json']({'account_configured':_0x31a132});}return eval('1 + 1;'),Object[_0x2eb5bb(0x1ed)]({'create':_0x287918[_0x2eb5bb(0x1b2)](asyncMiddleware,_0xb6ae48),'login':asyncMiddleware(_0xd0a3a4),'getMySelf':asyncMiddleware(_0x374f6d),'getUsers':_0x287918[_0x2eb5bb(0x1dc)](asyncMiddleware,_0x35d17d),'getUserBySelector':asyncMiddleware(_0x203e70),'update':asyncMiddleware(_0x5015be),'deleteUser':asyncMiddleware(_0x3b6179),'getMyPicture':asyncMiddleware(_0xa2fb8b),'updateMySelf':_0x287918[_0x2eb5bb(0x1b2)](asyncMiddleware,_0x148c79),'getAccessToken':asyncMiddleware(_0xdeef4),'forgotPassword':asyncMiddleware(_0x189b7c),'resetPassword':asyncMiddleware(_0x52f9d1),'getSetupState':asyncMiddleware(_0x357cd1)});};