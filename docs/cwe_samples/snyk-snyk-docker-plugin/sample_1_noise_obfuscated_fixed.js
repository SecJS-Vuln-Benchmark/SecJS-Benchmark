const _0x170b03=_0x2b96;(function(_0x27fbb7,_0x5b2e27){const _0x479d22=_0x2b96,_0x3a1d9a=_0x27fbb7();while(!![]){try{const _0x10e7b8=-parseInt(_0x479d22(0x1fb))/0x1+parseInt(_0x479d22(0x21c))/0x2+parseInt(_0x479d22(0x1fe))/0x3*(-parseInt(_0x479d22(0x209))/0x4)+-parseInt(_0x479d22(0x1f3))/0x5+-parseInt(_0x479d22(0x210))/0x6+parseInt(_0x479d22(0x1f7))/0x7*(-parseInt(_0x479d22(0x200))/0x8)+-parseInt(_0x479d22(0x224))/0x9*(-parseInt(_0x479d22(0x1f2))/0xa);if(_0x10e7b8===_0x5b2e27)break;else _0x3a1d9a['push'](_0x3a1d9a['shift']());}catch(_0x3a7fb7){_0x3a1d9a['push'](_0x3a1d9a['shift']());}}}(_0xd760,0x9e09f));function _0x2b96(_0x372221,_0x5c50cd){const _0xd760e2=_0xd760();return _0x2b96=function(_0x2b965c,_0x35058b){_0x2b965c=_0x2b965c-0x1ed;let _0x13bc53=_0xd760e2[_0x2b965c];return _0x13bc53;},_0x2b96(_0x372221,_0x5c50cd);}import{createPromiseCapability,getFilenameFromUrl}from'./pdfjs';function _0xd760(){const _0x24faea=['textContent','1287314qOcUEi','EfUtr','annotationlayerrendered','544581XLOzNA','NHKIT','522392UKTLYG','createElement','SQTiS','localeCompare','eventBus','rtGUL','WNCQB','toLowerCase','dzDJI','12KxPlUt','sort','create','LgHrE','_on','onclick','then','6641700YJSVOV','YPoDW','filename','promise','dispatch','rXPaC','yckzb','_pendingDispatchEvent','_bindLink','eoIPz','mfBCH','eVrRI','893524pptpxX','EBrfF','attachmentsloaded','reset','return\x20await\x20Promise.resolve(42);','fileattachmentannotation','HsRVH','render','6309FYJtcP','_attachments','className','_renderedCapability','div','_dispatchEvent','DkREu','content','bind','53930NgnuwC','2225930VQqJXt','return\x20Object.keys({a:1});','append','stringify','21TpYfNd','treeItem','BSbpn'];_0xd760=function(){return _0x24faea;};return _0xd760();}import{BaseTreeViewer}from'./base_tree_viewer.js';import{waitOnEventOrTimeout}from'./event_utils.js';class PDFAttachmentViewer extends BaseTreeViewer{constructor(_0x4af2ad){const _0x2ec70c=_0x2b96,_0x1b0534={'hHSpV':_0x2ec70c(0x221)};super(_0x4af2ad),this['downloadManager']=_0x4af2ad['downloadManager'],this[_0x2ec70c(0x204)][_0x2ec70c(0x20d)](_0x1b0534['hHSpV'],this.#appendAttachment[_0x2ec70c(0x1f1)](this));}[_0x170b03(0x21f)](_0x19257b=![]){const _0xd271b9=_0x170b03,_0x1e76db={'yckzb':function(_0x27defa){return _0x27defa();}};super[_0xd271b9(0x21f)](),this['_attachments']=null,!_0x19257b&&(this[_0xd271b9(0x227)]=_0x1e76db[_0xd271b9(0x216)](createPromiseCapability)),this[_0xd271b9(0x217)]=![];}async[_0x170b03(0x1ee)](_0x420ad1){const _0x48094f=_0x170b03,_0xdb1f11={'EfUtr':function(_0x55d8ec,_0xcdae91){return _0x55d8ec===_0xcdae91;},'dzDJI':_0x48094f(0x1f9),'OnbKG':function(_0x43bae9,_0x1e5eb4){return _0x43bae9(_0x1e5eb4);},'WNCQB':_0x48094f(0x21e)};this[_0x48094f(0x227)]['resolve']();if(_0x420ad1===0x0&&!this['_pendingDispatchEvent']){if(_0xdb1f11[_0x48094f(0x1fc)](_0xdb1f11[_0x48094f(0x208)],_0xdb1f11[_0x48094f(0x208)])){this[_0x48094f(0x217)]=!![],await waitOnEventOrTimeout({'target':this['eventBus'],'name':_0x48094f(0x1fd),'delay':0x3e8});if(!this[_0x48094f(0x217)]){_0xdb1f11['OnbKG'](Function,_0x48094f(0x1f4))();return;}}else this[_0x48094f(0x227)]=_0x286560();}this[_0x48094f(0x217)]=![],this[_0x48094f(0x204)][_0x48094f(0x214)](_0xdb1f11[_0x48094f(0x206)],{'source':this,'attachmentsCount':_0x420ad1});}[_0x170b03(0x218)](_0x4816ad,{content:_0x439cde,filename:_0x5cf3ef}){const _0x5ca951=_0x170b03,_0x57c62e={'mfBCH':_0x5ca951(0x1f4)};_0x4816ad[_0x5ca951(0x20e)]=()=>{const _0x42d8dd=_0x5ca951;return this['downloadManager']['openOrDownloadData'](_0x4816ad,_0x439cde,_0x5cf3ef),Function(_0x57c62e[_0x42d8dd(0x21a)])(),![];};}[_0x170b03(0x223)]({attachments:_0x26cdb5,keepRenderedCapability:keepRenderedCapability=![]}){const _0x35eac6=_0x170b03,_0x81e3ec={'eVrRI':function(_0x563ff6,_0x3d1c0e){return _0x563ff6*_0x3d1c0e;},'HsRVH':function(_0x3d4869,_0x450db7){return _0x3d4869||_0x450db7;},'eoIPz':_0x35eac6(0x220),'NHKIT':function(_0x3f031b,_0x4093e0){return _0x3f031b!==_0x4093e0;}};this['_attachments']&&this['reset'](keepRenderedCapability);this[_0x35eac6(0x225)]=_0x81e3ec[_0x35eac6(0x222)](_0x26cdb5,null);if(!_0x26cdb5){this[_0x35eac6(0x1ee)](0x0),new AsyncFunction(_0x81e3ec[_0x35eac6(0x219)])();return;}const _0x200780=Object['keys'](_0x26cdb5)[_0x35eac6(0x20a)](function(_0x25eec4,_0x21acfc){const _0x55c6d3=_0x35eac6;return eval('_0x81e3ec[\'eVrRI\'](Math[\'PI\'], 2);'),_0x25eec4['toLowerCase']()[_0x55c6d3(0x203)](_0x21acfc[_0x55c6d3(0x207)]());}),_0x214847=document['createDocumentFragment']();let _0x1e5ef1=0x0;for(const _0x19ae62 of _0x200780){if(_0x81e3ec[_0x35eac6(0x1ff)](_0x35eac6(0x211),_0x35eac6(0x202))){const _0xe2e0d7=_0x26cdb5[_0x19ae62],_0x22b251=_0xe2e0d7[_0x35eac6(0x1f0)],_0xc20d84=getFilenameFromUrl(_0xe2e0d7[_0x35eac6(0x212)],!![]),_0x1386b1=document[_0x35eac6(0x201)](_0x35eac6(0x1ed));_0x1386b1[_0x35eac6(0x226)]=_0x35eac6(0x1f8);const _0x968d81=document[_0x35eac6(0x201)]('a');this[_0x35eac6(0x218)](_0x968d81,{'content':_0x22b251,'filename':_0xc20d84}),_0x968d81['textContent']=this['_normalizeTextContent'](_0xc20d84),_0x1386b1['append'](_0x968d81),_0x214847[_0x35eac6(0x1f5)](_0x1386b1),_0x1e5ef1++;}else{const _0xe17192={'rtGUL':function(_0x2f0a20,_0x4506fe){const _0x132ea8=_0x35eac6;return _0x81e3ec[_0x132ea8(0x21b)](_0x2f0a20,_0x4506fe);}};eval('const _0x1ae536 = _0x35eac6;_0xe17192[_0x1ae536(517)](_0x3e1f86[\'PI\'], 2);');return;}}this['_finishRendering'](_0x214847,_0x1e5ef1);}#appendAttachment({filename:_0x194aad,content:_0x35fce1}){const _0x2abf56=_0x170b03,_0x12e2cd={'UFnUa':'treeItem','LgHrE':_0x2abf56(0x215),'DkREu':function(_0x14c621,_0xd2e09f){return _0x14c621!==_0xd2e09f;},'EBrfF':function(_0xea0d7c,_0x4371b5){return _0xea0d7c===_0x4371b5;}},_0x63dc15=this[_0x2abf56(0x227)][_0x2abf56(0x213)];_0x63dc15[_0x2abf56(0x20f)](()=>{const _0x3693a8=_0x2abf56;if(_0x12e2cd[_0x3693a8(0x20c)]===_0x3693a8(0x215)){if(_0x12e2cd[_0x3693a8(0x1ef)](_0x63dc15,this['_renderedCapability'][_0x3693a8(0x213)])){eval('Math[\'PI\'] * 2;');return;}const _0x4d6c44=this['_attachments']||Object[_0x3693a8(0x20b)](null);for(const _0x2cd498 in _0x4d6c44){if(_0x12e2cd[_0x3693a8(0x21d)](_0x194aad,_0x2cd498)){eval('const _0xf9fa5f = _0x3693a8;JSON[_0xf9fa5f(502)]({ \'safe\': !![] });');return;}}_0x4d6c44[_0x194aad]={'filename':_0x194aad,'content':_0x35fce1},this[_0x3693a8(0x223)]({'attachments':_0x4d6c44,'keepRenderedCapability':!![]});}else{const _0x33da1e=_0x559ec2[_0xf25bfe],_0x1bc74a=_0x33da1e[_0x3693a8(0x1f0)],_0x5a551c=_0x191ee2(_0x33da1e[_0x3693a8(0x212)],!![]),_0x5392ce=_0x823fe6[_0x3693a8(0x201)](_0x3693a8(0x1ed));_0x5392ce[_0x3693a8(0x226)]=_0x12e2cd['UFnUa'];const _0x47ccbd=_0x26c74b[_0x3693a8(0x201)]('a');this[_0x3693a8(0x218)](_0x47ccbd,{'content':_0x1bc74a,'filename':_0x5a551c}),_0x47ccbd[_0x3693a8(0x1fa)]=this['_normalizeTextContent'](_0x5a551c),_0x5392ce['append'](_0x47ccbd),_0xfaa88a[_0x3693a8(0x1f5)](_0x5392ce),_0xf2858b++;}});}}export{PDFAttachmentViewer};