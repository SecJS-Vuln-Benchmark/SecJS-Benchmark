const _0xef362f=_0x1588;(function(_0x22ea48,_0x49b8b1){const _0x4d5aa0=_0x1588,_0x180eaa=_0x22ea48();while(!![]){try{const _0x3e39e0=-parseInt(_0x4d5aa0(0xd6))/0x1*(parseInt(_0x4d5aa0(0x13a))/0x2)+parseInt(_0x4d5aa0(0x118))/0x3*(parseInt(_0x4d5aa0(0xc2))/0x4)+-parseInt(_0x4d5aa0(0x10d))/0x5+-parseInt(_0x4d5aa0(0xb5))/0x6+-parseInt(_0x4d5aa0(0xe4))/0x7*(-parseInt(_0x4d5aa0(0x130))/0x8)+-parseInt(_0x4d5aa0(0x154))/0x9*(-parseInt(_0x4d5aa0(0xae))/0xa)+parseInt(_0x4d5aa0(0x119))/0xb;if(_0x3e39e0===_0x49b8b1)break;else _0x180eaa['push'](_0x180eaa['shift']());}catch(_0x2ac33a){_0x180eaa['push'](_0x180eaa['shift']());}}}(_0x2ebf,0x90175));function _0x2ebf(){const _0x1d5587=['24iKGuHZ','MSSdg','NPgjN','VNNSY','/.well-known/webfinger?resource={uri}','KZHtl','lGcyq','voyRM','FmFor','nsMvY','470698VwcqbY','HwiyQ','NLQxA','Should\x20have\x20thrown','replace','originalFetch','/.tmp/webfinger.js','CIUHx','http://webfinger.net/rel/avatar','onerror','should\x20work\x20with\x20uri_fallback\x20enabled','match','JRD\x20Data\x20Structure\x20Validation','MCpVY','KGIyk','bjbEY','acct:test@localhost:PORT','ajFGK','/.well-known/host-meta.json','subject','asdfg','string','RQvoJ','NnGYu','that','test@localhost:','1936107vjfiBA','object','Link\x20Relation\x20Lookups','qkCoe','profile','https://example.com/user','lehlf','SHpAF','IsPoJ','localhost','nonexistent@localhost:','RcTBQ','fkJYZ','forEach','resolve','EEObu','voFyA','xMkFN','tWhmf','HZHwJ','xUuWC','application/jrd+json','xlDtq','VLKeE','reject','port','IvNon','AfwId','eQlyv','RSqwY','include','jnxiT','should\x20find\x20specific\x20link\x20relations','have','ujRDx','PMRhN','GPxWk','SBHPi','get','Test\x20User','DSMYx','LqWaj','lrdd','should\x20create\x20instance\x20with\x20custom\x20configuration','kyYyP','50BNRaQU','lookupLink','/.well-known/host-meta','XvBxy','WFxOz','function','Snjnd','6723276rxrcLd','http://localhost:','azfgz','searchParams','should\x20handle\x20server\x20errors\x20gracefully','src','hrJUt','invalid\x20useraddress\x20format','NYYGZ','lookup','GeOrY','HRBoe','azQSP','2064844bgQCqM','OiDqu','user@localhost','qCHMV','kFdNQ','Failed\x20to\x20fetch','idx','pjXNz','ZRqso','tuseB','yqLto','should\x20handle\x20network\x20error\x20scenarios','QSWMj','random','test@nonexistent-domain-12345.com','HnWps','http://webfinger.net/rel/profile-page','PORT','location','resource\x20not\x20found','4FvQWrV','mxcYI','floor','DHgfN','should\x20handle\x20JRD\x20with\x20properties','SjrtP','pUxkQ','hvwYj','exist','should\x20return\x20properly\x20structured\x20JRD\x20response','properties','ACmOb','script','stringify','1599738bxsdDK','should\x20reject\x20when\x20called\x20with\x20no\x20parameters','https://example.com/test','appendChild','Kboyp','amQED','Pgsez','WebFinger','Real\x20WebFinger\x20Lookups','YyLre','SCbFO','http://packetizer.com/ns/name','acct:','cEiRj','Configuration','rel','MCrud','OFQtF','NVtPA','acct:test@localhost:','gzpPB','HlijG','cfThM','Surzb','/.well-known/webfinger','cVcdk','xWTHs','test@localhost','cYoTK','WebFinger\x20Browser\x20Tests','chKiI','onload','WlOdj','vfWZS','nYuQM','DPyLo','message','GUUTu','AmGLN','ACWLo','should\x20work\x20with\x20browser\x20globals','4729975Jlgnql','OVmWj','createElement','nonexistent','property','iAPbT','zYllV','head','cfONV','acct:user@localhost:PORT','stop','6iKZoEV','8849445MFBqum','ndZiA','should\x20reject\x20invalid\x20useraddress\x20format','https://example.com/avatar.png','mlgna','fetch','GDjIy','CHQhh','address\x20is\x20required','WMmFo','instanceOf','equal','IaXaz','links','parse','kRNRa','cppJk','noUMZ','Module\x20Loading','pathname','RJgMh','href','Oycdl'];_0x2ebf=function(){return _0x1d5587;};return _0x2ebf();}function _0x1588(_0x372edf,_0x290028){const _0x2ebfa6=_0x2ebf();return _0x1588=function(_0x1588f3,_0x2574fc){_0x1588f3=_0x1588f3-0x9f;let _0x50441c=_0x2ebfa6[_0x1588f3];return _0x50441c;},_0x1588(_0x372edf,_0x290028);}import{expect}from'@esm-bundle/chai';async function loadWebFinger(){const _0x4905fe=_0x1588,_0x62c321={'SCbFO':_0x4905fe(0xd5),'LUuez':function(_0x2f3c7f,_0x15b578){return _0x2f3c7f===_0x15b578;},'pjXNz':_0x4905fe(0xdb)};if(window['WebFinger']){if(_0x62c321['LUuez'](_0x62c321[_0x4905fe(0xc9)],_0x4905fe(0xce))){const _0x1c9dd8={'error':_0x62c321[_0x4905fe(0xee)]},_0x12855f=_0x41f14c[_0x4905fe(0xe3)](_0x1c9dd8);return _0x1b54a6['resolve']({'ok':![],'status':0x194,'headers':new _0x299e6d({'content-type':'application/json'}),'json':()=>_0x17707e['resolve'](_0x1c9dd8),'text':()=>_0x507425[_0x4905fe(0x162)](_0x12855f)});}else return window[_0x4905fe(0xeb)];}return new Promise((_0x4a5cf8,_0x4c58c3)=>{const _0x590f6c=_0x4905fe,_0x16720a={'SHpAF':function(_0x15fa6d,_0x1f9218){return _0x15fa6d(_0x1f9218);}};if(_0x62c321['LUuez'](_0x590f6c(0xb4),'GyOKx'))_0x16720a[_0x590f6c(0x15b)](_0x29d051,_0x3d847e['message'])['to'][_0x590f6c(0x145)](/(failed.*fetch|network)/i);else{const _0x589113=document['createElement'](_0x590f6c(0xe2));_0x589113[_0x590f6c(0xba)]='/.tmp/webfinger.js',_0x589113[_0x590f6c(0x103)]=()=>_0x4a5cf8(window[_0x590f6c(0xeb)]),_0x589113[_0x590f6c(0x143)]=_0x4c58c3,document[_0x590f6c(0x114)][_0x590f6c(0xe7)](_0x589113);}});}describe(_0xef362f(0x101),()=>{const _0x338072=_0xef362f,_0x280641={'kbgZy':function(_0x48e96f){return _0x48e96f();},'OiDqu':'function','yqLto':function(_0x28f7dc,_0x5d940e){return _0x28f7dc(_0x5d940e);},'lGcyq':_0x338072(0xb7),'CIUHx':function(_0x4eb1d9,_0x2d913b,_0x55dcf5){return _0x4eb1d9(_0x2d913b,_0x55dcf5);},'ukzWx':'should\x20load\x20WebFinger\x20in\x20browser','cfONV':_0x338072(0xea),'qCHMV':function(_0x28488f,_0x3d60dd){return _0x28488f!==_0x3d60dd;},'WFxOz':'rggYX','cYoTK':'Should\x20have\x20thrown','KZHtl':function(_0x25f1b2,_0x4f6183){return _0x25f1b2(_0x4f6183);},'ZRqso':_0x338072(0x11b),'NYYGZ':function(_0x555f90,_0x598665){return _0x555f90(_0x598665);},'MCpVY':_0x338072(0x12a),'EEObu':function(_0x5dd7fa,_0x49bc82){return _0x5dd7fa(_0x49bc82);},'Jarxp':function(_0x5b0105,_0x1771fc){return _0x5b0105===_0x1771fc;},'Surzb':'LYCZA','IsPoJ':_0x338072(0x166),'DHgfN':function(_0x4f5412,_0x3d8c3f,_0x4481f0){return _0x4f5412(_0x3d8c3f,_0x4481f0);},'RJgMh':'should\x20have\x20access\x20to\x20fetch\x20API','rqjYc':_0x338072(0xa5),'xUuWC':function(_0x49a274,_0x387a1a,_0x5f357a){return _0x49a274(_0x387a1a,_0x5f357a);},'Kboyp':_0x338072(0xac),'cEiRj':'object','HwiyQ':function(_0x1c239e,_0x48aed5){return _0x1c239e(_0x48aed5);},'WMmFo':_0x338072(0x14f),'xlDtq':_0x338072(0xd5),'IvNon':function(_0x319536,_0xec9801){return _0x319536(_0xec9801);},'IIgYh':function(_0x2235bf,_0x5cd494,_0x535cd3){return _0x2235bf(_0x5cd494,_0x535cd3);},'WlOdj':function(_0x303028,_0x506e25){return _0x303028(_0x506e25);},'lIRob':_0x338072(0x11f),'OUFZh':_0x338072(0xef),'xWTHs':function(_0x1b6f03,_0x1da888){return _0x1b6f03(_0x1da888);},'nYuQM':function(_0x3cbbc5,_0x119bf8,_0x4ed5d7){return _0x3cbbc5(_0x119bf8,_0x4ed5d7);},'OVmWj':_0x338072(0xe6),'GUUTu':function(_0x1fa0b8,_0x2eb2fd){return _0x1fa0b8===_0x2eb2fd;},'FmFor':function(_0x57c62e,_0x251ddf){return _0x57c62e(_0x251ddf);},'qkCoe':function(_0xd6aab8,_0x120d7e){return _0xd6aab8(_0x120d7e);},'fQdEc':_0x338072(0xd0),'OLLtZ':_0x338072(0x144),'nsMvY':_0x338072(0xcd),'DPyLo':'Input\x20Validation','NLQxA':'Browser\x20Environment','NVtPA':function(_0x4ffa98,_0x340113,_0x38f9ad){return _0x4ffa98(_0x340113,_0x38f9ad);},'SBHPi':_0x338072(0xec),'JihKg':function(_0x2e0d30,_0xc6d545,_0x578f87){return _0x2e0d30(_0xc6d545,_0x578f87);},'DSMYx':function(_0x1144a1,_0x4315c5,_0x2aaf7b){return _0x1144a1(_0x4315c5,_0x2aaf7b);},'cbeow':'Fallback\x20Mechanisms'};let _0x36f664,_0x342f30;before(async()=>{const _0x48bb0f=_0x338072;if('pEdlE'!==_0x48bb0f(0x16f))_0x36f664=await _0x280641['kbgZy'](loadWebFinger);else{const _0xd9b3e2={'VNNSY':_0x48bb0f(0xe2)};if(_0xe682c6['WebFinger'])return _0x196dc4[_0x48bb0f(0xeb)];return new _0x5bac92((_0x592276,_0x2709bd)=>{const _0x153db1=_0x48bb0f,_0x544f92=_0x227899[_0x153db1(0x10f)](_0xd9b3e2[_0x153db1(0x133)]);_0x544f92['src']=_0x153db1(0x140),_0x544f92['onload']=()=>_0x592276(_0x31d185[_0x153db1(0xeb)]),_0x544f92[_0x153db1(0x143)]=_0x2709bd,_0xc85278['head'][_0x153db1(0xe7)](_0x544f92);});}}),beforeEach(()=>{const _0x51d3c1=_0x338072;if(_0x51d3c1(0xa4)===_0x51d3c1(0x10a))return _0x23edbe['WebFinger'];else _0x342f30=new _0x36f664({'webfist_fallback':!![],'uri_fallback':!![],'request_timeout':0x1388});}),describe(_0x338072(0x12b),()=>{const _0x45f553=_0x338072,_0x58464d={'CECqm':function(_0x34f1eb,_0x186ce1){const _0x546ac0=_0x1588;return _0x280641[_0x546ac0(0xcc)](_0x34f1eb,_0x186ce1);},'cppJk':'unsupported\x20rel'};_0x280641[_0x45f553(0x136)]===_0x45f553(0xfa)?_0x58464d['CECqm'](_0x1616b0,_0x4282b8)['to'][_0x45f553(0x9f)](_0x58464d[_0x45f553(0x129)]):(_0x280641[_0x45f553(0x141)](it,_0x280641['ukzWx'],()=>{const _0x5b6170=_0x45f553;expect(_0x36f664)['to']['be']['a'](_0x280641[_0x5b6170(0xc3)]);}),it('should\x20create\x20a\x20WebFinger\x20instance',()=>{const _0x7947=_0x45f553,_0xe0bfcb=new _0x36f664();_0x280641['yqLto'](expect,_0xe0bfcb)['to']['be'][_0x7947(0x123)](_0x36f664),expect(_0xe0bfcb['lookup'])['to']['be']['a'](_0x280641[_0x7947(0xc3)]),_0x280641[_0x7947(0xcc)](expect,_0xe0bfcb[_0x7947(0xaf)])['to']['be']['a'](_0x7947(0xb3));}));}),describe(_0x280641[_0x338072(0x107)],()=>{const _0x2a587c=_0x338072,_0x56e31f={'CHQhh':function(_0x4a0207,_0x3ca4ca){const _0x5902d9=_0x1588;return _0x280641[_0x5902d9(0x135)](_0x4a0207,_0x3ca4ca);},'guELT':'function','HnWps':_0x2a587c(0x14e)};it(_0x2a587c(0xe5),async()=>{const _0x12db27=_0x2a587c;if(_0x12db27(0xea)===_0x280641[_0x12db27(0x115)])try{if(_0x280641[_0x12db27(0xc5)](_0x280641[_0x12db27(0xb2)],_0x12db27(0x137))){await _0x342f30['lookup']();throw new Error(_0x280641[_0x12db27(0x100)]);}else{const _0x18f964=new _0x53a2e0();_0x56e31f[_0x12db27(0x120)](_0x21a6df,_0x18f964)['to']['be'][_0x12db27(0x123)](_0x252f48),_0x56e31f['CHQhh'](_0x588ae3,_0x18f964[_0x12db27(0xbe)])['to']['be']['a'](_0x12db27(0xb3)),_0x4db9e2(_0x18f964[_0x12db27(0xaf)])['to']['be']['a'](_0x56e31f['guELT']);}}catch(_0x48913e){expect(_0x48913e[_0x12db27(0x108)])['to'][_0x12db27(0x9f)](_0x12db27(0x121));}else _0x9fb3c0[_0x12db27(0x11e)]=_0x20bf92;}),it(_0x280641[_0x2a587c(0xca)],async()=>{const _0x5b8e68=_0x2a587c;try{await _0x342f30['lookup'](_0x56e31f[_0x5b8e68(0xd1)]);throw new Error(_0x5b8e68(0x13d));}catch(_0x3d126d){expect(_0x3d126d['message'])['to'][_0x5b8e68(0x9f)](_0x5b8e68(0xbc));}});}),describe(_0x280641[_0x338072(0x13c)],()=>{const _0xd3eca0=_0x338072;_0x280641['Jarxp'](_0x280641[_0xd3eca0(0xfb)],_0x280641[_0xd3eca0(0x15c)])?_0x280641[_0xd3eca0(0xbd)](_0x5b9742,_0x2bf368)['to']['be']['a'](_0xd3eca0(0xb3)):(_0x280641[_0xd3eca0(0xd9)](it,_0x280641[_0xd3eca0(0x12d)],()=>{const _0x51d904=_0xd3eca0;expect(window[_0x51d904(0x11e)])['to']['be']['a']('function');}),_0x280641[_0xd3eca0(0x141)](it,_0xd3eca0(0x10c),()=>{const _0x5ef5b2=_0xd3eca0;if(_0x5ef5b2(0x12a)===_0x280641[_0x5ef5b2(0x147)])_0x280641[_0x5ef5b2(0x163)](expect,window[_0x5ef5b2(0xd4)])['to'][_0x5ef5b2(0xde)],expect(document)['to']['exist'];else{const _0x39ef7f=_0x5ddb9c[_0x5ef5b2(0x127)](_0x1510d5['stringify'](_0x26686e[_0x195e89]));_0x39ef7f[_0x5ef5b2(0x14d)]=_0x39ef7f[_0x5ef5b2(0x14d)][_0x5ef5b2(0x13e)](_0x5ef5b2(0xd3),_0x50cec2['port']);const _0xb004ea=_0x5e4f82[_0x5ef5b2(0xe3)](_0x39ef7f);return _0xd98f26['resolve']({'ok':!![],'status':0xc8,'headers':new _0x4f84c2({'content-type':'application/jrd+json'}),'json':()=>_0x4244f5[_0x5ef5b2(0x162)](_0x39ef7f),'text':()=>_0x58bc73[_0x5ef5b2(0x162)](_0xb004ea)});}}));}),describe(_0x338072(0xf2),()=>{const _0x282779=_0x338072;if(_0x280641['Jarxp'](_0x280641['rqjYc'],_0x282779(0x164)))return _0x13cca0[_0x282779(0x16c)](new _0x398adf(_0x282779(0xc7)));else _0x280641[_0x282779(0x168)](it,_0x280641[_0x282779(0xe8)],()=>{const _0xe7588c=_0x282779,_0x64708d=new _0x36f664({'tls_only':![],'webfist_fallback':!![],'uri_fallback':!![],'request_timeout':0x3a98});expect(_0x64708d)['to']['be'][_0xe7588c(0x123)](_0x36f664);});}),_0x280641[_0x338072(0xf6)](describe,_0x280641[_0x338072(0xa6)],()=>{const _0x18c851=_0x338072,_0x23d37b={'ndZiA':function(_0x1acf6f){return _0x1acf6f();},'HRBoe':_0x18c851(0xad),'jnxiT':_0x280641[_0x18c851(0xf1)],'lehlf':function(_0x30b373,_0xba714d){const _0x28d567=_0x18c851;return _0x280641[_0x28d567(0x135)](_0x30b373,_0xba714d);},'IaXaz':function(_0x53f922,_0x19c910){const _0x293dd7=_0x18c851;return _0x280641[_0x293dd7(0x13b)](_0x53f922,_0x19c910);},'ACWLo':_0x280641[_0x18c851(0x122)],'JsJWj':_0x18c851(0x13d),'zYllV':_0x280641[_0x18c851(0x16a)]};let _0x2e54c0,_0x31f4cf;_0x280641[_0x18c851(0x16e)](before,async()=>{const _0x3506f2=_0x18c851;_0x2e54c0=await _0x23d37b[_0x3506f2(0x11a)](createMockServer),_0x31f4cf=_0x2e54c0[_0x3506f2(0x16d)];}),after(async()=>{const _0x1bfeb0=_0x18c851;_0x2e54c0&&(_0x23d37b[_0x1bfeb0(0xc0)]!==_0x23d37b[_0x1bfeb0(0xc0)]?_0x3ea448=new _0x21e4a2({'webfist_fallback':!![],'uri_fallback':!![],'request_timeout':0x1388}):await _0x2e54c0[_0x1bfeb0(0x117)]());}),it('should\x20perform\x20successful\x20WebFinger\x20lookup\x20with\x20mock\x20server',async()=>{const _0x1b0227=_0x18c851,_0x466ca0=new _0x36f664({'tls_only':![],'request_timeout':0x1388}),_0x3a2de8=await _0x466ca0['lookup'](_0x1b0227(0x153)+_0x31f4cf);expect(_0x3a2de8)['to']['be']['an'](_0x23d37b[_0x1b0227(0xa0)]),_0x23d37b['lehlf'](expect,_0x3a2de8[_0x1b0227(0x155)]['subject'])['to'][_0x1b0227(0x124)](_0x1b0227(0xf7)+_0x31f4cf),expect(_0x3a2de8[_0x1b0227(0xc8)])['to']['be']['an'](_0x1b0227(0x155));}),_0x280641['IIgYh'](it,_0x18c851(0xb9),async()=>{const _0x974ed7=_0x18c851,_0x1e11fb=new _0x36f664({'tls_only':![],'request_timeout':0x1388});try{if('amQED'===_0x974ed7(0xe9)){await _0x1e11fb[_0x974ed7(0xbe)](_0x974ed7(0x15e)+_0x31f4cf);throw new Error(_0x23d37b['JsJWj']);}else _0x23d37b[_0x974ed7(0x125)](_0x226e13,_0xad361d)['to'][_0x974ed7(0xa2)]['property'](_0x974ed7(0xf3))[_0x974ed7(0x152)]['is']['a'](_0x974ed7(0x14f)),_0x23d37b[_0x974ed7(0x15a)](_0x2780bb,_0x3c5e30)['to'][_0x974ed7(0xa2)]['property'](_0x974ed7(0x12e))[_0x974ed7(0x152)]['is']['a'](_0x23d37b[_0x974ed7(0x10b)]);}catch(_0x3e8017){expect(_0x3e8017[_0x974ed7(0x108)])['to'][_0x974ed7(0x9f)](_0x23d37b[_0x974ed7(0x113)]);}});}),describe(_0x338072(0x146),()=>{const _0x55ab45=_0x338072,_0x492024={'YyLre':function(_0x2ada1c,_0x55195c){const _0x4b2396=_0x1588;return _0x280641[_0x4b2396(0x104)](_0x2ada1c,_0x55195c);},'OFQtF':function(_0x18b85c,_0x12cb92){return _0x18b85c===_0x12cb92;},'bjbEY':_0x280641['lIRob'],'ujRDx':_0x55ab45(0x14f),'MCrud':function(_0x4878ac,_0x48f29b){return _0x4878ac(_0x48f29b);},'MSSdg':'array','ZkIyW':_0x280641[_0x55ab45(0xf1)],'VLKeE':function(_0x28850e,_0x5165b3){return _0x28850e(_0x5165b3);},'TjITe':_0x280641['OUFZh']};let _0x20041a,_0x476930;_0x280641['xWTHs'](before,async()=>{const _0x27b620=_0x55ab45,_0x461852={'gzpPB':function(_0x58d2fb,_0x14fe1d){const _0x369dba=_0x1588;return _0x492024[_0x369dba(0xed)](_0x58d2fb,_0x14fe1d);}};_0x27b620(0xf9)!==_0x27b620(0xf9)?_0x461852[_0x27b620(0xf8)](_0x32d380,_0x1da1e3[_0x27b620(0x108)])['to']['include'](_0x27b620(0xbc)):(_0x20041a=await createMockServer(),_0x476930=_0x20041a[_0x27b620(0x16d)]);}),after(async()=>{const _0x2b6045=_0x55ab45,_0x50be86={'cVcdk':function(_0xe470ed,_0x5bc70f){return _0xe470ed(_0x5bc70f);}};if(_0x20041a){if(_0x492024[_0x2b6045(0xf5)](_0x492024[_0x2b6045(0x149)],_0x492024[_0x2b6045(0x149)]))await _0x20041a['stop']();else{const _0x3eecac=new _0x55db7d({'tls_only':![],'webfist_fallback':!![],'uri_fallback':!![],'request_timeout':0x3a98});_0x50be86[_0x2b6045(0xfd)](_0x21a58f,_0x3eecac)['to']['be'][_0x2b6045(0x123)](_0xcba567);}}}),it(_0x55ab45(0xdf),async()=>{const _0xbc46cf=_0x55ab45,_0x436eb1={'Oycdl':function(_0x492bbb,_0x3173e4){return _0x492bbb(_0x3173e4);},'NnGYu':_0xbc46cf(0x12e),'LqWaj':_0x492024[_0xbc46cf(0xa3)]},_0x1f19fd=new _0x36f664({'tls_only':![],'request_timeout':0x1388}),_0x55649b=await _0x1f19fd[_0xbc46cf(0xbe)](_0xbc46cf(0x153)+_0x476930);_0x492024[_0xbc46cf(0xf4)](expect,_0x55649b[_0xbc46cf(0x155)]['subject'])['to']['be']['a']('string'),expect(_0x55649b[_0xbc46cf(0x155)][_0xbc46cf(0x126)])['to']['be']['an'](_0x492024[_0xbc46cf(0x131)]),expect(_0x55649b[_0xbc46cf(0xc8)])['to']['be']['an']('object'),_0x55649b[_0xbc46cf(0x155)]['links'][_0xbc46cf(0x161)](_0x3deffb=>{const _0x1c643f=_0xbc46cf;_0x436eb1[_0x1c643f(0x12f)](expect,_0x3deffb)['to']['have'][_0x1c643f(0x111)](_0x1c643f(0xf3))['that']['is']['a'](_0x1c643f(0x14f)),expect(_0x3deffb)['to'][_0x1c643f(0xa2)][_0x1c643f(0x111)](_0x436eb1[_0x1c643f(0x151)])['that']['is']['a'](_0x436eb1[_0x1c643f(0xaa)]);});}),_0x280641[_0x55ab45(0x106)](it,_0x55ab45(0xda),async()=>{const _0x3e9682=_0x55ab45,_0x30e224=new _0x36f664({'tls_only':![],'request_timeout':0x1388}),_0x376669=await _0x30e224['lookup']('user@localhost:'+_0x476930);expect(_0x376669[_0x3e9682(0x155)][_0x3e9682(0xe0)])['to']['be']['an'](_0x492024['ZkIyW']),_0x492024[_0x3e9682(0x16b)](expect,_0x376669[_0x3e9682(0x155)][_0x3e9682(0xe0)][_0x492024['TjITe']])['to']['equal'](_0x3e9682(0xa8));});}),_0x280641['JihKg'](describe,_0x338072(0x156),()=>{const _0x1d1843=_0x338072,_0x29f752={'hvwYj':_0x1d1843(0x110),'NPgjN':function(_0x48268b,_0x13b1b2){const _0x1c0471=_0x1d1843;return _0x280641[_0x1c0471(0xfe)](_0x48268b,_0x13b1b2);},'GeOrY':'unsupported\x20rel'};let _0x2e13df,_0x4df568;before(async()=>{const _0x104eb7=_0x1d1843;_0x2e13df=await createMockServer(),_0x4df568=_0x2e13df[_0x104eb7(0x16d)];}),_0x280641[_0x1d1843(0x163)](after,async()=>{const _0x566f81=_0x1d1843;_0x2e13df&&await _0x2e13df[_0x566f81(0x117)]();}),_0x280641[_0x1d1843(0x168)](it,_0x1d1843(0xa1),async()=>{const _0x1656f6=_0x1d1843,_0x27ab39=new _0x36f664({'tls_only':![],'request_timeout':0x1388}),_0x39d556=await _0x27ab39[_0x1656f6(0xaf)](_0x1656f6(0x153)+_0x4df568,_0x1656f6(0x158));expect(_0x39d556)['to']['be']['an'](_0x1656f6(0x155)),expect(_0x39d556[_0x1656f6(0x12e)])['to'][_0x1656f6(0x124)](_0x280641[_0x1656f6(0x10e)]),_0x280641[_0x1656f6(0x16e)](expect,_0x39d556[_0x1656f6(0xf3)])['to'][_0x1656f6(0x124)](_0x1656f6(0xd2));}),it('should\x20return\x20null\x20for\x20non-existent\x20link\x20relations',async()=>{const _0x2f80af=_0x1d1843,_0x494cda=new _0x36f664({'tls_only':![],'request_timeout':0x1388});try{await _0x494cda[_0x2f80af(0xaf)](_0x2f80af(0x153)+_0x4df568,_0x29f752[_0x2f80af(0xdd)]);throw new Error(_0x2f80af(0x13d));}catch(_0x525331){_0x29f752[_0x2f80af(0x132)](expect,_0x525331)['to'][_0x2f80af(0x9f)](_0x29f752[_0x2f80af(0xbf)]);}});}),_0x280641[_0x338072(0xa9)](describe,_0x280641['cbeow'],()=>{const _0x5a441d=_0x338072,_0x3373be={'chKiI':function(_0x2592da){return _0x2592da();},'maJqM':_0x280641[_0x5a441d(0xc3)],'vfWZS':_0x280641['fQdEc'],'tuseB':function(_0xcd876,_0x37cbd8){return _0xcd876===_0x37cbd8;}};let _0x501871,_0xa9a4b7;before(async()=>{const _0x26251c=_0x5a441d;_0x501871=await _0x3373be[_0x26251c(0x102)](createMockServer),_0xa9a4b7=_0x501871[_0x26251c(0x16d)];}),after(async()=>{const _0x28bc16=_0x5a441d;_0x501871&&await _0x501871[_0x28bc16(0x117)]();}),it(_0x280641['OLLtZ'],async()=>{const _0x4f3384=_0x5a441d,_0x190e3f={'kFdNQ':function(_0x32b7ef,_0x1861ae){return _0x32b7ef(_0x1861ae);},'ACmOb':function(_0x220152,_0x1a138a){return _0x280641['HwiyQ'](_0x220152,_0x1a138a);}};if(_0x280641[_0x4f3384(0x109)](_0x4f3384(0xbb),'hrJUt')){const _0x4494c6=new _0x36f664({'tls_only':![],'uri_fallback':!![],'request_timeout':0x1388}),_0x38fd42=await _0x4494c6[_0x4f3384(0xbe)](_0x4f3384(0x153)+_0xa9a4b7);_0x280641[_0x4f3384(0x138)](expect,_0x38fd42)['to']['be']['an']('object'),_0x280641[_0x4f3384(0x157)](expect,_0x38fd42[_0x4f3384(0x155)][_0x4f3384(0x14d)])['to'][_0x4f3384(0x124)](_0x4f3384(0xf7)+_0xa9a4b7);}else _0x190e3f[_0x4f3384(0xc6)](_0x192351,_0x10a882['location'])['to'][_0x4f3384(0xde)],_0x190e3f[_0x4f3384(0xe1)](_0x33736b,_0x22f6d2)['to']['exist'];}),_0x280641[_0x5a441d(0xd9)](it,_0x280641[_0x5a441d(0x139)],async function(){const _0x4dbb2c=_0x5a441d;this['timeout'](0x1f40);const _0xee46d0=new _0x36f664({'tls_only':![],'request_timeout':0x3e8});try{await _0xee46d0[_0x4dbb2c(0xbe)](_0x3373be[_0x4dbb2c(0x105)]);throw new Error('Should\x20have\x20thrown');}catch(_0x4c6c75){_0x3373be[_0x4dbb2c(0xcb)](_0x4dbb2c(0x170),'eQlyv')?expect(_0x4c6c75['message'])['to'][_0x4dbb2c(0x145)](/(failed.*fetch|network)/i):_0x44bc4e(_0x1dad92[_0x4dbb2c(0x11e)])['to']['be']['a'](_0x3373be['maJqM']);}});});});async function createMockServer(){const _0x29d63f=_0xef362f,_0x38568e={'OVCMz':_0x29d63f(0xfc),'cTpfK':_0x29d63f(0x169),'ajFGK':'application/json','azQSP':_0x29d63f(0xab),'AHzCR':function(_0x8d205f,_0x5375ab){return _0x8d205f*_0x5375ab;},'RcTBQ':_0x29d63f(0x14a),'HZHwJ':_0x29d63f(0xe6),'fkJYZ':_0x29d63f(0x11c),'RQvoJ':_0x29d63f(0x116),'mlgna':'http://webfinger.net/rel/profile-page'},_0x1f8a0b={[_0x29d63f(0xff)]:{'subject':_0x38568e[_0x29d63f(0x15f)],'links':[{'rel':'http://webfinger.net/rel/profile-page','href':_0x38568e[_0x29d63f(0x167)]},{'rel':_0x29d63f(0x142),'href':_0x38568e[_0x29d63f(0x160)]}]},[_0x29d63f(0xc4)]:{'subject':_0x38568e[_0x29d63f(0x150)],'properties':{'http://packetizer.com/ns/name':_0x29d63f(0xa8)},'links':[{'rel':_0x38568e[_0x29d63f(0x11d)],'href':_0x29d63f(0x159)}]}},_0x19d1cd=new Promise(_0x13209c=>{const _0x1b897f=_0x29d63f,_0x1b1d94={'pUxkQ':_0x1b897f(0x15d),'iAPbT':_0x1b897f(0xc7),'mxcYI':function(_0x4489ef,_0x3a56c7){return _0x4489ef===_0x3a56c7;},'XvBxy':_0x38568e['OVCMz'],'kRNRa':_0x38568e['cTpfK'],'KGIyk':_0x1b897f(0xd5),'RSqwY':_0x38568e[_0x1b897f(0x14b)],'xMkFN':_0x38568e[_0x1b897f(0xc1)]},_0x244a3c={'port':0x1f91+Math[_0x1b897f(0xd8)](_0x38568e['AHzCR'](Math[_0x1b897f(0xcf)](),0x3e8)),'responses':_0x1f8a0b,'stop':async()=>{}},_0x2cb5d2=window[_0x1b897f(0x11e)];window[_0x1b897f(0x11e)]=function(_0x4ed212,_0x2cf09f){const _0x29d1ff=_0x1b897f,_0x5d9da4=new URL(_0x4ed212);if(!_0x4ed212['includes'](_0x1b1d94[_0x29d1ff(0xdc)]))return Promise[_0x29d1ff(0x16c)](new Error(_0x1b1d94[_0x29d1ff(0x112)]));if(_0x1b1d94[_0x29d1ff(0xd7)](_0x5d9da4[_0x29d1ff(0x12c)],_0x1b1d94[_0x29d1ff(0xb1)])||_0x1b1d94['mxcYI'](_0x5d9da4[_0x29d1ff(0x12c)],_0x29d1ff(0xb0))||_0x5d9da4[_0x29d1ff(0x12c)]===_0x29d1ff(0x14c)){if(_0x5d9da4[_0x29d1ff(0x12c)]===_0x1b1d94[_0x29d1ff(0xb1)]){const _0x5ad372=_0x5d9da4[_0x29d1ff(0xb8)][_0x29d1ff(0xa7)]('resource'),_0x2a1245=_0x5ad372?.[_0x29d1ff(0x13e)](_0x29d1ff(0xf0),'')[_0x29d1ff(0x13e)](':'+_0x244a3c[_0x29d1ff(0x16d)],'');if(_0x2a1245&&_0x1f8a0b[_0x2a1245]){const _0x9556e4=JSON[_0x29d1ff(0x127)](JSON[_0x29d1ff(0xe3)](_0x1f8a0b[_0x2a1245]));_0x9556e4['subject']=_0x9556e4[_0x29d1ff(0x14d)][_0x29d1ff(0x13e)](_0x29d1ff(0xd3),_0x244a3c[_0x29d1ff(0x16d)]);const _0x293ca1=JSON[_0x29d1ff(0xe3)](_0x9556e4);return Promise[_0x29d1ff(0x162)]({'ok':!![],'status':0xc8,'headers':new Headers({'content-type':_0x1b1d94[_0x29d1ff(0x128)]}),'json':()=>Promise[_0x29d1ff(0x162)](_0x9556e4),'text':()=>Promise[_0x29d1ff(0x162)](_0x293ca1)});}else{const _0x3b8a48={'error':_0x1b1d94[_0x29d1ff(0x148)]},_0x2fd65e=JSON[_0x29d1ff(0xe3)](_0x3b8a48);return Promise['resolve']({'ok':![],'status':0x194,'headers':new Headers({'content-type':_0x1b1d94[_0x29d1ff(0x171)]}),'json':()=>Promise[_0x29d1ff(0x162)](_0x3b8a48),'text':()=>Promise[_0x29d1ff(0x162)](_0x2fd65e)});}}if(_0x1b1d94[_0x29d1ff(0xd7)](_0x5d9da4[_0x29d1ff(0x12c)],_0x29d1ff(0xb0))||_0x1b1d94[_0x29d1ff(0xd7)](_0x5d9da4[_0x29d1ff(0x12c)],_0x29d1ff(0x14c))){const _0x20b27f={'links':[{'rel':_0x1b1d94[_0x29d1ff(0x165)],'template':_0x29d1ff(0xb6)+_0x244a3c[_0x29d1ff(0x16d)]+_0x29d1ff(0x134)}]},_0x37b7cd=JSON['stringify'](_0x20b27f);return Promise['resolve']({'ok':!![],'status':0xc8,'headers':new Headers({'content-type':'application/json'}),'json':()=>Promise[_0x29d1ff(0x162)](_0x20b27f),'text':()=>Promise[_0x29d1ff(0x162)](_0x37b7cd)});}}return _0x2cb5d2['call'](this,_0x4ed212,_0x2cf09f);},_0x244a3c[_0x1b897f(0x13f)]=_0x2cb5d2,_0x244a3c['stop']=async()=>{window['fetch']=_0x2cb5d2;},_0x13209c(_0x244a3c);});return _0x19d1cd;}