'use strict';const _0x2c09a6=_0x1a8c;(function(_0x2b7e1e,_0x92ce61){const _0x5560a9=_0x1a8c,_0x461824=_0x2b7e1e();while(!![]){try{const _0x110b1f=parseInt(_0x5560a9(0x26b))/0x1*(parseInt(_0x5560a9(0xd0))/0x2)+parseInt(_0x5560a9(0x2d0))/0x3+-parseInt(_0x5560a9(0x10c))/0x4+-parseInt(_0x5560a9(0x1d4))/0x5*(-parseInt(_0x5560a9(0x135))/0x6)+parseInt(_0x5560a9(0x3d2))/0x7*(-parseInt(_0x5560a9(0x1b6))/0x8)+parseInt(_0x5560a9(0x91))/0x9+-parseInt(_0x5560a9(0x3af))/0xa*(parseInt(_0x5560a9(0x105))/0xb);if(_0x110b1f===_0x92ce61)break;else _0x461824['push'](_0x461824['shift']());}catch(_0x435a4a){_0x461824['push'](_0x461824['shift']());}}}(_0x1f93,0x651d7));function _0x1a8c(_0xfa6c85,_0x3e95f1){const _0x1f933d=_0x1f93();return _0x1a8c=function(_0x1a8c8b,_0x175219){_0x1a8c8b=_0x1a8c8b-0x74;let _0x47c64d=_0x1f933d[_0x1a8c8b];return _0x47c64d;},_0x1a8c(_0xfa6c85,_0x3e95f1);}const assert=require(_0x2c09a6(0x2ef)),async=require(_0x2c09a6(0x3ba)),request=require(_0x2c09a6(0x272)),nconf=require(_0x2c09a6(0x1c7)),crypto=require(_0x2c09a6(0x159)),fs=require('fs'),path=require(_0x2c09a6(0x2c6)),db=require('./mocks/databasemock'),topics=require(_0x2c09a6(0x1d9)),posts=require(_0x2c09a6(0x76)),categories=require(_0x2c09a6(0x34c)),privileges=require(_0x2c09a6(0x2ce)),user=require('../src/user'),groups=require('../src/groups'),socketPosts=require(_0x2c09a6(0x2cc)),socketTopics=require(_0x2c09a6(0x3e1)),meta=require(_0x2c09a6(0x1d1)),helpers=require(_0x2c09a6(0x267));describe(_0x2c09a6(0x1e6),()=>{const _0x1bb613=_0x2c09a6,_0x1f1b1e={'sqWsL':'[[error:no-user]]','DsPUs':function(_0x5d651a){return _0x5d651a();},'jMgSn':_0x1bb613(0x2c8),'OPvul':'upvotee','MAcSu':_0x1bb613(0x164),'Rqruw':_0x1bb613(0xf5),'QMZdn':_0x1bb613(0x277),'CAEWY':function(_0x11e411,_0x2db0fb){return _0x11e411(_0x2db0fb);},'TOrqP':'Global\x20Moderators','RdxXn':_0x1bb613(0xda),'HogUM':_0x1bb613(0x20d),'sLZMx':function(_0x287996,_0x4837f9,_0x4105b8,_0x1b7661){return _0x287996(_0x4837f9,_0x4105b8,_0x1b7661);},'qRUgO':_0x1bb613(0x25f),'PYrls':'123456789','ePSMB':_0x1bb613(0x2bd),'EYFYv':'olduser','CZzSv':_0x1bb613(0x206),'awVuV':_0x1bb613(0x142),'CMEUY':_0x1bb613(0x189),'tnzoE':_0x1bb613(0x28c),'fDwRh':_0x1bb613(0x107),'miwEN':_0x1bb613(0x1db),'ypJBs':_0x1bb613(0x2fb),'bejCo':function(_0x3b547a,_0x9a7273){return _0x3b547a!==_0x9a7273;},'YKtRS':'ORAYY','LxbLZ':_0x1bb613(0x2e3),'VaZcF':_0x1bb613(0x14e),'nkDAs':_0x1bb613(0x40f),'CsONa':function(_0x1da034){return _0x1da034();},'VWbUL':function(_0x5ef8e2,_0x3e2b6c){return _0x5ef8e2!==_0x3e2b6c;},'PuUUq':_0x1bb613(0x3c7),'CaIPq':_0x1bb613(0x81),'CZdgw':function(_0x55a498,_0x56bbd9){return _0x55a498!==_0x56bbd9;},'Nwrms':_0x1bb613(0x24e),'TLPfV':function(_0x9e2fa5,_0x3b7976){return _0x9e2fa5===_0x3b7976;},'IGChJ':_0x1bb613(0xbf),'YJayf':_0x1bb613(0x34e),'qcEQR':_0x1bb613(0x311),'aBzDY':function(_0x2b42fc,_0x3dbf02,_0x56a5d1){return _0x2b42fc(_0x3dbf02,_0x56a5d1);},'WLRiJ':'should\x20get\x20upvoters','FCGTK':_0x1bb613(0x13b),'tpfeZ':_0x1bb613(0x268),'vIeRG':_0x1bb613(0x2a3),'XhqNi':function(_0x365e2c,_0x3ba78c){return _0x365e2c===_0x3ba78c;},'WbGfK':'deldT','ZquiJ':function(_0x2bccdb){return _0x2bccdb();},'kcuox':function(_0x5eb955){return _0x5eb955();},'AUAtr':_0x1bb613(0x298),'ftMWR':'A\x20post\x20to\x20delete/restore/purge','yjOkO':'[[error:invalid-data]]','MmyAX':_0x1bb613(0x262),'VpYRI':'TkzYw','fzXBX':'deleted','fCMsr':function(_0x3c2c95,_0x229922){return _0x3c2c95!==_0x229922;},'wkIaj':_0x1bb613(0x2ea),'mLuuc':'should\x20not\x20see\x20post\x20content\x20if\x20global\x20mod\x20does\x20not\x20have\x20posts:view_deleted\x20privilege','CgBxD':function(_0x36b335,_0x1a00ac,_0x3dc1fc){return _0x36b335(_0x1a00ac,_0x3dc1fc);},'QVFTN':function(_0x4d3787,_0x2435a8,_0x1151b8){return _0x4d3787(_0x2435a8,_0x1151b8);},'XREnV':_0x1bb613(0x347),'HqOYS':'topic\x20to\x20edit','QistL':_0x1bb613(0x274),'Qaajy':function(_0x1b427a,_0x553d2a){return _0x1b427a+_0x553d2a;},'URFyU':_0x1bb613(0x125),'KtzuW':_0x1bb613(0x324),'yKGGG':'qZQJg','YDQhB':_0x1bb613(0x11d),'GSXBZ':'edited\x20title','VNtyH':'edited','cXyRz':_0x1bb613(0x141),'SaNAy':function(_0x335763,_0x14500d){return _0x335763!==_0x14500d;},'BsgGD':_0x1bb613(0x126),'otRRA':function(_0x2c5136,_0x1b4f3c){return _0x2c5136(_0x1b4f3c);},'QOmOL':_0x1bb613(0x1bc),'BonWP':_0x1bb613(0x322),'yTOfg':'should\x20error\x20with\x20too\x20few\x20tags','DbcOI':function(_0x20d548,_0x177336,_0x1a8cd1){return _0x20d548(_0x177336,_0x1a8cd1);},'ZOqkI':_0x1bb613(0x20c),'FLgZb':_0x1bb613(0x2ca),'vERcR':_0x1bb613(0x178),'jDApe':_0x1bb613(0x36d),'FlHhs':function(_0x5a8834,_0x557e8a,_0x2ac5f6){return _0x5a8834(_0x557e8a,_0x2ac5f6);},'kJVfB':_0x1bb613(0xd4),'Llgtv':function(_0x2bbe70,_0x1ce6e3,_0x33013d){return _0x2bbe70(_0x1ce6e3,_0x33013d);},'gYvFc':function(_0x128d0a,_0x5d4e3f,_0x439e7a){return _0x128d0a(_0x5d4e3f,_0x439e7a);},'gqcmq':'should\x20allow\x20registered-users\x20group\x20to\x20view\x20diffs','uDZuX':'should\x20delete\x20a\x20post\x20diff','NoOGw':_0x1bb613(0x15d),'FqYja':function(_0x9cc1ad){return _0x9cc1ad();},'kpgQk':function(_0x1a836a,_0x2a2a8e,_0xcb6b78){return _0x1a836a(_0x2a2a8e,_0xcb6b78);},'WEohY':_0x1bb613(0x2ee),'dliRQ':_0x1bb613(0x21d),'ytwZP':_0x1bb613(0x16b),'JOTCs':_0x1bb613(0x1ff),'bhyHi':'modofcat1','wmdck':'should\x20error\x20if\x20data\x20is\x20invalid','kFGoz':_0x1bb613(0x26f),'UtzNm':_0x1bb613(0x15c),'BOAiD':'ifhqb','uJoxg':_0x1bb613(0x15e),'uLNqY':function(_0x1f260f){return _0x1f260f();},'myfmL':function(_0x4455ab){return _0x4455ab();},'FPOlg':function(_0x254857,_0x1765b6,_0x239d20){return _0x254857(_0x1765b6,_0x239d20);},'PLpJZ':_0x1bb613(0x1dc),'bEmin':'should\x20get\x20post\x20summaries','HCDQs':_0x1bb613(0x37b),'TOYNb':_0x1bb613(0x1c7),'nnVpL':_0x1bb613(0x19b),'zsknD':function(_0x292cf8){return _0x292cf8();},'vSLRG':function(_0x475dbf){return _0x475dbf();},'LWrfK':_0x1bb613(0x32d),'mCfmt':_0x1bb613(0x148),'AfIaY':_0x1bb613(0x283),'CnaZZ':'should\x20turn\x20relative\x20links\x20in\x20post\x20body\x20to\x20absolute\x20urls','XioRT':function(_0x5d6754,_0x25d409,_0x3a8991){return _0x5d6754(_0x25d409,_0x3a8991);},'VOXtX':_0x1bb613(0xc0),'uPzCL':function(_0x457f24){return _0x457f24();},'StFpI':_0x1bb613(0x16a),'IkDhG':function(_0x424b90,_0x444f25){return _0x424b90(_0x444f25);},'sNWaI':_0x1bb613(0x182),'WxBOi':function(_0x42749f,_0x4209da,_0x531af4){return _0x42749f(_0x4209da,_0x531af4);},'vrygc':_0x1bb613(0x340),'wKrNU':_0x1bb613(0x100),'RiDbW':_0x1bb613(0x236),'IvwVm':_0x1bb613(0x15a),'moTzR':'should\x20get\x20post\x20category','JQhua':'should\x20get\x20pid\x20index\x20in\x20reverse','ikMXB':_0x1bb613(0x2ff),'cyllX':'should\x20filter\x20pids\x20by\x20multiple\x20cids','cRQbC':function(_0x89d7f6,_0x23d50b,_0x4ebbe2){return _0x89d7f6(_0x23d50b,_0x4ebbe2);},'YmCBX':'should\x20be\x20queued','emmwt':_0x1bb613(0x2b4),'lGxBM':'topic','jBADb':'kkuJj','MBPfk':function(_0xf7bc6){return _0xf7bc6();},'zRmmS':_0x1bb613(0x1a9),'jSoxQ':_0x1bb613(0xa7),'gLvxH':_0x1bb613(0x2df),'ycTnS':_0x1bb613(0x291),'isXYM':_0x1bb613(0x21b),'XEdYR':_0x1bb613(0x3cc),'ZVRLd':_0x1bb613(0x319),'HaSAl':_0x1bb613(0x1b9),'AfXaq':_0x1bb613(0x3e9),'PnjJr':'url','OoKEH':_0x1bb613(0x264),'PcFAd':_0x1bb613(0x32c),'fNzRz':_0x1bb613(0x1ad),'GLEab':_0x1bb613(0x307),'tkXPj':_0x1bb613(0x26d),'oJtXA':_0x1bb613(0x3b4),'qWbqb':_0x1bb613(0x2d9),'keFPM':'should\x20prevent\x20regular\x20users\x20from\x20approving\x20non\x20existing\x20posts','YkBFO':_0x1bb613(0x3c2),'YEQlf':_0x1bb613(0xb3),'CVjaa':'should\x20update\x20queued\x20post\x27s\x20topic\x20if\x20target\x20topic\x20is\x20merged','ayhqK':_0x1bb613(0xfc),'QgYyW':_0x1bb613(0x333),'PPAcs':_0x1bb613(0x14a),'EscBz':function(_0x598567,_0x38365b,_0x212a7b){return _0x598567(_0x38365b,_0x212a7b);},'SyKHo':_0x1bb613(0x3ed),'AGzcf':'abracadabra.png','HqMzL':_0x1bb613(0x102),'anFxR':_0x1bb613(0x373),'yHBRg':'SyuJy','QdNEQ':_0x1bb613(0x79),'oXLQc':_0x1bb613(0x2a1),'pOuWP':'HFxuT','HwLGd':_0x1bb613(0xa5),'Kalef':_0x1bb613(0x286),'HJIfl':'Dissociation\x20on\x20purge','SfVZO':_0x1bb613(0x1da),'vUWBV':function(_0xb4525b,_0x262aaf){return _0xb4525b===_0x262aaf;},'mLiyI':_0x1bb613(0x226),'WXoId':function(_0xfbbb6e){return _0xfbbb6e();},'XKuAl':function(_0x163955,_0x13f586){return _0x163955(_0x13f586);},'wsuku':_0x1bb613(0xd3),'molYm':function(_0x3d5e88,_0x3f5f26,_0x2bed21){return _0x3d5e88(_0x3f5f26,_0x2bed21);},'MUufK':function(_0x1d4985,_0x37cc34){return _0x1d4985(_0x37cc34);},'aswEN':_0x1bb613(0x82),'KhhIa':'DeMjv','GceaH':_0x1bb613(0x296),'OnOFv':_0x1bb613(0x94),'uJSnZ':_0x1bb613(0x22c),'hKKcl':_0x1bb613(0x3b9),'UVOVA':'should\x20update\x20category\x20teaser\x20properly','QlrXC':function(_0x3ca4b1,_0x4cbe38,_0x4eea10){return _0x3ca4b1(_0x4cbe38,_0x4eea10);},'hUDBn':'should\x20change\x20owner\x20of\x20post\x20and\x20topic\x20properly','LZrkr':function(_0x1f8382,_0x1568c8,_0x56f650){return _0x1f8382(_0x1568c8,_0x56f650);},'ArZLo':function(_0x3aaaad,_0x572f62,_0x2c5e5e){return _0x3aaaad(_0x572f62,_0x2c5e5e);},'Utudr':_0x1bb613(0xb0),'IQdpd':function(_0xae5058,_0x240b85,_0x531f4c){return _0xae5058(_0x240b85,_0x531f4c);},'VCVWN':_0x1bb613(0xcc),'KIOqR':_0x1bb613(0x3d3),'LYZft':function(_0x1e6b59,_0x5b9089,_0x390326){return _0x1e6b59(_0x5b9089,_0x390326);},'JfgCQ':'move','iMKzk':function(_0x2d1da0,_0x51ef30,_0x1120e1){return _0x2d1da0(_0x51ef30,_0x1120e1);},'DCKBn':_0x1bb613(0x3e0),'tCfzo':_0x1bb613(0x8c),'PAnup':_0x1bb613(0x30e),'xiBSq':'post\x20uploads\x20management'};let _0x14aac8,_0x389ea4,_0x5be7a8,_0x523fca,_0x538c80,_0x507c08;_0x1f1b1e[_0x1bb613(0x270)](before,_0x2d0092=>{const _0x29c431=_0x1bb613,_0x3c697b={'yMjXF':_0x1f1b1e[_0x29c431(0x1c4)],'xdIVO':function(_0x33137e){return _0x1f1b1e['DsPUs'](_0x33137e);},'MiwqU':function(_0x545806,_0x5a2433){return _0x545806!==_0x5a2433;},'WEcEL':_0x1f1b1e[_0x29c431(0x114)],'MKlZn':_0x1f1b1e[_0x29c431(0x253)],'ioWUh':_0x1f1b1e[_0x29c431(0x376)],'OcsCR':_0x1f1b1e['Rqruw'],'YQsKm':_0x1f1b1e[_0x29c431(0x154)],'csrsx':function(_0x4b8a02,_0x132ed2){const _0x45607d=_0x29c431;return _0x1f1b1e[_0x45607d(0x2f7)](_0x4b8a02,_0x132ed2);},'ycbnd':_0x1f1b1e['TOrqP'],'Apzyr':_0x1f1b1e['RdxXn'],'TUIno':_0x1f1b1e[_0x29c431(0x132)]};async[_0x29c431(0x366)]({'voterUid':function(_0x1cfd6a){const _0x316ad6=_0x29c431;user[_0x316ad6(0x1b8)]({'username':_0x316ad6(0xbf)},_0x1cfd6a);},'voteeUid':function(_0x255179){const _0x5e551f=_0x29c431,_0xc0d175={'QARTD':_0x3c697b[_0x5e551f(0xdc)],'hGQAE':function(_0x4d859a){const _0x56e3f2=_0x5e551f;return _0x3c697b[_0x56e3f2(0x1c3)](_0x4d859a);}};_0x3c697b['MiwqU'](_0x3c697b[_0x5e551f(0x38d)],_0x3c697b[_0x5e551f(0x38d)])?(_0x3d7659[_0x5e551f(0xea)](_0x98d79d['message'],_0xc0d175[_0x5e551f(0x342)]),_0xc0d175[_0x5e551f(0x252)](_0x3c05bb)):user[_0x5e551f(0x1b8)]({'username':_0x3c697b[_0x5e551f(0x412)]},_0x255179);},'globalModUid':function(_0x432673){const _0x2ec3db=_0x29c431;user['create']({'username':_0x3c697b[_0x2ec3db(0x26c)],'password':_0x2ec3db(0xf0)},_0x432673);},'category':function(_0x2c3950){const _0x3734e8=_0x29c431;categories[_0x3734e8(0x1b8)]({'name':_0x3c697b[_0x3734e8(0xd8)],'description':_0x3c697b[_0x3734e8(0x3b0)]},_0x2c3950);}},(_0x20a616,_0x2398c3)=>{const _0x3ddb5f=_0x29c431,_0x18e38c=_0x3c697b[_0x3ddb5f(0x1b3)]['split']('|');let _0x4e0f34=0x0;while(!![]){switch(_0x18e38c[_0x4e0f34++]){case'0':_0x5be7a8=_0x2398c3[_0x3ddb5f(0xf3)];continue;case'1':_0x507c08=_0x2398c3[_0x3ddb5f(0x374)][_0x3ddb5f(0x2c7)];continue;case'2':_0x389ea4=_0x2398c3['voteeUid'];continue;case'3':topics[_0x3ddb5f(0xbb)]({'uid':_0x2398c3['voteeUid'],'cid':_0x2398c3['category'][_0x3ddb5f(0x2c7)],'title':_0x3ddb5f(0x2ec),'content':_0x3c697b[_0x3ddb5f(0x187)]},(_0x2802a2,_0x577953)=>{const _0xdf087d=_0x3ddb5f;if(_0x2802a2)return _0x3c697b[_0xdf087d(0x3a7)](_0x2d0092,_0x2802a2);_0x523fca=_0x577953[_0xdf087d(0x168)],_0x538c80=_0x577953[_0xdf087d(0x197)],groups[_0xdf087d(0x171)](_0x3c697b[_0xdf087d(0x278)],_0x5be7a8,_0x2d0092);});continue;case'4':if(_0x20a616)return _0x2d0092(_0x20a616);continue;case'5':_0x14aac8=_0x2398c3['voterUid'];continue;}break;}});}),it(_0x1f1b1e[_0x1bb613(0x157)],async()=>{const _0x5c7c2f=_0x1bb613,_0xe399d6={'PorrA':function(_0x4c7720,_0x529369,_0x915d79){return _0x4c7720(_0x529369,_0x915d79);},'JMTYE':function(_0x56f289,_0x3e9ae3,_0x154880,_0x4d132c){return _0x1f1b1e['sLZMx'](_0x56f289,_0x3e9ae3,_0x154880,_0x4d132c);}},_0x4470b5=_0x1f1b1e[_0x5c7c2f(0x2f7)](require,_0x5c7c2f(0x21f)),_0x865938=_0x4470b5[_0x5c7c2f(0x7c)](async _0x37ab39=>{const _0x1d3310=_0x5c7c2f,_0x31bbea={'dYZhH':function(_0x344b78,_0xf23c69,_0x5bc58f){const _0x220f0b=_0x1a8c;return _0xe399d6[_0x220f0b(0x2c0)](_0x344b78,_0xf23c69,_0x5bc58f);}};_0xe399d6[_0x1d3310(0xad)](request,nconf[_0x1d3310(0xf9)](_0x1d3310(0x3c0))+_0x1d3310(0x1ed),{'json':!![]},(_0x507e11,_0x6a21e6,_0x262eb4)=>{const _0x463679=_0x1d3310;_0x31bbea[_0x463679(0xff)](_0x37ab39,_0x507e11,_0x262eb4);});}),_0x120e7d=await topics[_0x5c7c2f(0xbb)]({'uid':_0x5be7a8,'cid':_0x507c08,'title':_0x1f1b1e[_0x5c7c2f(0x3cd)],'content':_0x1f1b1e[_0x5c7c2f(0x3e3)]});let _0x4334b4=await _0x1f1b1e[_0x5c7c2f(0x26e)](_0x865938);assert[_0x5c7c2f(0xea)](_0x4334b4[_0x5c7c2f(0x3ae)][0x0][_0x5c7c2f(0x32b)][_0x5c7c2f(0x119)],_0x120e7d['postData'][_0x5c7c2f(0x119)]),assert[_0x5c7c2f(0xea)](_0x4334b4['categories'][0x0][_0x5c7c2f(0x1a1)][0x0]['content'],_0x1f1b1e['PYrls']),assert['equal'](_0x4334b4[_0x5c7c2f(0x3ae)][0x0]['posts'][0x0][_0x5c7c2f(0x119)],_0x120e7d[_0x5c7c2f(0x168)]['pid']);const _0x5ec826=await user[_0x5c7c2f(0x1b8)]({'username':_0x5c7c2f(0x20e)}),_0x26d84b=await topics['post']({'uid':_0x5ec826,'cid':_0x507c08,'title':_0x1f1b1e[_0x5c7c2f(0x3cd)],'content':_0x1f1b1e[_0x5c7c2f(0xfd)]});_0x4334b4=await _0x865938(),assert[_0x5c7c2f(0xea)](_0x4334b4[_0x5c7c2f(0x3ae)][0x0][_0x5c7c2f(0x32b)][_0x5c7c2f(0x119)],_0x26d84b['postData'][_0x5c7c2f(0x119)]),assert[_0x5c7c2f(0xea)](_0x4334b4[_0x5c7c2f(0x3ae)][0x0][_0x5c7c2f(0x1a1)][0x0][_0x5c7c2f(0x27c)],_0x1f1b1e[_0x5c7c2f(0xfd)]),assert['equal'](_0x4334b4[_0x5c7c2f(0x3ae)][0x0][_0x5c7c2f(0x1a1)][0x0][_0x5c7c2f(0x119)],_0x26d84b[_0x5c7c2f(0x168)][_0x5c7c2f(0x119)]),await user[_0x5c7c2f(0x3f5)](0x1,_0x5ec826),_0x4334b4=await _0x865938(),assert['equal'](_0x4334b4[_0x5c7c2f(0x3ae)][0x0]['teaser']['pid'],_0x120e7d[_0x5c7c2f(0x168)]['pid']),assert[_0x5c7c2f(0xea)](_0x4334b4[_0x5c7c2f(0x3ae)][0x0]['posts'][0x0]['content'],_0x5c7c2f(0x2fd)),assert[_0x5c7c2f(0xea)](_0x4334b4['categories'][0x0][_0x5c7c2f(0x1a1)][0x0][_0x5c7c2f(0x119)],_0x120e7d[_0x5c7c2f(0x168)][_0x5c7c2f(0x119)]);}),_0x1f1b1e[_0x1bb613(0x3a1)](it,_0x1f1b1e['hUDBn'],async()=>{const _0x2ee9c7=_0x1bb613,_0x401943=await user['create']({'username':_0x1f1b1e['EYFYv']}),_0x58684d=await user[_0x2ee9c7(0x1b8)]({'username':_0x2ee9c7(0x3be)}),_0x231d60=await topics[_0x2ee9c7(0xbb)]({'uid':_0x401943,'cid':_0x507c08,'title':'change\x20owner','content':_0x2ee9c7(0x410)}),_0x59c0f7=await topics[_0x2ee9c7(0x37d)]({'uid':_0x401943,'tid':_0x231d60[_0x2ee9c7(0x197)][_0x2ee9c7(0x2fb)],'content':_0x1f1b1e[_0x2ee9c7(0x1ec)]}),_0x396b6a=_0x231d60[_0x2ee9c7(0x168)][_0x2ee9c7(0x119)],_0x2045df=_0x59c0f7[_0x2ee9c7(0x119)];assert[_0x2ee9c7(0x203)](await db[_0x2ee9c7(0xdd)]('tid:'+_0x231d60[_0x2ee9c7(0x197)][_0x2ee9c7(0x2fb)]+_0x2ee9c7(0x24f),[_0x401943,_0x58684d]),[0x2,null]),await posts[_0x2ee9c7(0x19a)]([_0x396b6a,_0x2045df],_0x58684d),assert[_0x2ee9c7(0x203)](await db[_0x2ee9c7(0xdd)]('tid:'+_0x231d60['topicData']['tid']+_0x2ee9c7(0x24f),[_0x401943,_0x58684d]),[0x0,0x2]),assert[_0x2ee9c7(0x203)](await posts[_0x2ee9c7(0x18a)]([_0x396b6a,_0x2045df],_0x401943),[![],![]]),assert['deepStrictEqual'](await posts['isOwner']([_0x396b6a,_0x2045df],_0x58684d),[!![],!![]]),assert[_0x2ee9c7(0x1c6)](await user[_0x2ee9c7(0x3cf)](_0x401943,_0x2ee9c7(0x36a)),0x0),assert[_0x2ee9c7(0x1c6)](await user[_0x2ee9c7(0x3cf)](_0x58684d,'postcount'),0x2),assert[_0x2ee9c7(0x1c6)](await user[_0x2ee9c7(0x3cf)](_0x401943,_0x2ee9c7(0x142)),0x0),assert[_0x2ee9c7(0x1c6)](await user[_0x2ee9c7(0x3cf)](_0x58684d,_0x1f1b1e['awVuV']),0x1),assert[_0x2ee9c7(0x1c6)](await db['sortedSetScore'](_0x1f1b1e[_0x2ee9c7(0x165)],_0x401943),0x0),assert[_0x2ee9c7(0x1c6)](await db[_0x2ee9c7(0x16e)](_0x2ee9c7(0x189),_0x58684d),0x2),assert[_0x2ee9c7(0x1c6)](await topics['isOwner'](_0x231d60['topicData'][_0x2ee9c7(0x2fb)],_0x401943),![]),assert[_0x2ee9c7(0x1c6)](await topics[_0x2ee9c7(0x18a)](_0x231d60[_0x2ee9c7(0x197)][_0x2ee9c7(0x2fb)],_0x58684d),!![]);}),_0x1f1b1e['LZrkr'](it,_0x1bb613(0xc6),async()=>{const _0x4bbf78=_0x1bb613,_0x34090b={'LtGpk':_0x4bbf78(0x1db),'uAzsE':function(_0x1682db){return _0x1682db();},'fULzT':_0x4bbf78(0x291)};try{await posts[_0x4bbf78(0x19a)]([0x1],_0x1f1b1e[_0x4bbf78(0xdb)]);}catch(_0x48a63b){_0x1f1b1e['fDwRh']===_0x4bbf78(0x107)?assert[_0x4bbf78(0x1c6)](_0x48a63b[_0x4bbf78(0x19c)],_0x4bbf78(0x229)):_0x4666d2[_0x4bbf78(0x355)]({'uid':_0x2258aa},{'id':_0x34090b[_0x4bbf78(0x389)]},_0x373547=>{const _0x5e3f6b=_0x4bbf78;_0x2ef7be[_0x5e3f6b(0xea)](_0x373547[_0x5e3f6b(0x19c)],_0x34090b[_0x5e3f6b(0x350)]),_0x34090b[_0x5e3f6b(0x7d)](_0x43a3da);});}}),_0x1f1b1e[_0x1bb613(0x80)](it,_0x1bb613(0x1e1),async()=>{const _0x1ccdfd=_0x1bb613;try{await socketPosts[_0x1ccdfd(0x19a)]({'uid':_0x14aac8},{'pids':[0x1,0x2],'toUid':_0x14aac8});}catch(_0x5bbffa){assert[_0x1ccdfd(0x1c6)](_0x5bbffa[_0x1ccdfd(0x19c)],_0x1f1b1e[_0x1ccdfd(0x193)]);}}),it(_0x1f1b1e['Utudr'],_0x31d414=>{const _0x16f943=_0x1bb613,_0x5169aa={'YLyIZ':function(_0x4ef15f){return _0x4ef15f();},'JLMPg':function(_0x1c97e3,_0x3cea55,_0x10fee2){return _0x1c97e3(_0x3cea55,_0x10fee2);},'iNLIg':_0x1f1b1e[_0x16f943(0x163)]};if(_0x1f1b1e[_0x16f943(0x116)](_0x1f1b1e[_0x16f943(0xa4)],_0x16f943(0x1cf)))posts['getPostData'](0x270f,(_0x511406,_0x5d28b7)=>{const _0xc642cf=_0x16f943;assert[_0xc642cf(0x3e6)](_0x511406),assert[_0xc642cf(0xea)](_0x5d28b7,null),_0x5169aa[_0xc642cf(0x275)](_0x31d414);});else{const _0x2aae14={'XfVfI':function(_0x58e643,_0x50447f,_0x22c80a){const _0x4d9424=_0x16f943;return _0x5169aa[_0x4d9424(0x22b)](_0x58e643,_0x50447f,_0x22c80a);}};_0x11ac48[_0x16f943(0x3e6)](_0x182789),_0x5e9fac[_0x16f943(0xb2)](_0x5eddc1,_0x5169aa[_0x16f943(0x390)],(_0x31e41c,_0x292be5)=>{const _0x1a26f0=_0x16f943;_0x44a73c[_0x1a26f0(0x3e6)](_0x31e41c),_0x2aae14[_0x1a26f0(0x11c)](_0x5c3c33,_0x292be5,_0x5a5654),_0x25d06a();});}}),describe('voting',()=>{const _0x61c1db=_0x1bb613,_0x49e2f7={'ikFTc':function(_0xd5f483,_0x2431d){const _0x87dae1=_0x1a8c;return _0x1f1b1e[_0x87dae1(0x191)](_0xd5f483,_0x2431d);},'lHOLv':_0x1f1b1e[_0x61c1db(0x2c2)],'DsXsH':_0x1f1b1e[_0x61c1db(0xf6)],'PjmWk':_0x1f1b1e[_0x61c1db(0x193)],'nfBIv':_0x61c1db(0x3ac),'vnVKO':function(_0x3a3fdc){const _0x166b65=_0x61c1db;return _0x1f1b1e[_0x166b65(0x2d7)](_0x3a3fdc);},'kqbKs':function(_0x2fb0b7,_0x3bf496){const _0x11611e=_0x61c1db;return _0x1f1b1e[_0x11611e(0x216)](_0x2fb0b7,_0x3bf496);},'VWMrS':_0x61c1db(0x2eb),'JIlQM':_0x1f1b1e[_0x61c1db(0x351)],'mPPQG':function(_0x15ebaf){return _0x15ebaf();},'FUgyb':_0x1f1b1e[_0x61c1db(0x174)],'SKYBo':'[[error:too-many-downvotes-today-user,\x201]]'};it(_0x61c1db(0x249),_0x255520=>{const _0x159ee6=_0x61c1db,_0x4e3759={'cwWiN':_0x49e2f7[_0x159ee6(0x23a)],'hLGiq':_0x49e2f7['DsXsH']};privileges[_0x159ee6(0x3ae)]['rescind'](['groups:posts:upvote',_0x49e2f7[_0x159ee6(0x89)]],_0x507c08,_0x159ee6(0x1b0),_0x5bb0cd=>{const _0x16c213=_0x159ee6,_0x569aea={'dTbRA':_0x16c213(0x3ac)};_0x49e2f7[_0x16c213(0x308)](_0x49e2f7['lHOLv'],_0x16c213(0x284))?(assert['ifError'](_0x5bb0cd),socketPosts[_0x16c213(0xa9)]({'uid':_0x14aac8},{'pid':_0x523fca['pid'],'room_id':_0x49e2f7['DsXsH']},_0x447c1f=>{const _0x27732d=_0x16c213;assert[_0x27732d(0xea)](_0x447c1f[_0x27732d(0x19c)],_0x4e3759[_0x27732d(0x24d)]),socketPosts[_0x27732d(0x17a)]({'uid':_0x14aac8},{'pid':_0x523fca[_0x27732d(0x119)],'room_id':_0x4e3759['hLGiq']},_0x239239=>{const _0x5011fe=_0x27732d;_0x5011fe(0x14f)!==_0x5011fe(0x93)?(assert[_0x5011fe(0xea)](_0x239239[_0x5011fe(0x19c)],_0x5011fe(0x1db)),privileges['categories']['give']([_0x5011fe(0x2f8),_0x569aea[_0x5011fe(0x144)]],_0x507c08,_0x5011fe(0x1b0),_0x15e1ad=>{const _0x3ff549=_0x5011fe;assert[_0x3ff549(0x3e6)](_0x15e1ad),_0x255520();})):(_0x5036ab['ifError'](_0x16c7f8),_0x4b5898[_0x5011fe(0x160)]([_0x427274[_0x5011fe(0x119)]],_0x1a5e49),_0x5178ba());});})):_0x4c8b7f[_0x16c213(0x3d1)](_0x5e1d6e,_0x16c213(0x3aa),0x0,_0x274091=>{const _0x4274f6=_0x16c213,_0x557fbf={'HCgsA':function(_0x5c755f){return _0x5c755f();}};_0x59a312[_0x4274f6(0x3e6)](_0x274091),_0x364de9[_0x4274f6(0x27d)]({'uid':_0x311b06},_0x10e165,(_0x4afced,_0xebf5cb)=>{const _0x30d19a=_0x4274f6;_0x3de838[_0x30d19a(0x3e6)](_0x4afced),_0x3d4460[_0x30d19a(0xea)](_0xebf5cb,_0x30d19a(0x34e)),_0x557fbf[_0x30d19a(0x192)](_0x2afaeb);});});});}),it(_0x1f1b1e[_0x61c1db(0xf8)],_0x5306fe=>{const _0x4a94a1=_0x61c1db,_0x4064d1={'TGnKY':function(_0x475de8,_0x10b291){const _0x4a5bcc=_0x1a8c;return _0x1f1b1e[_0x4a5bcc(0x116)](_0x475de8,_0x10b291);},'rcAfm':_0x1f1b1e[_0x4a94a1(0x202)],'CLFFS':_0x1f1b1e[_0x4a94a1(0x3a0)]};socketPosts['upvote']({'uid':_0x14aac8},{'pid':_0x523fca[_0x4a94a1(0x119)],'room_id':_0x1f1b1e['nkDAs']},(_0x5334a2,_0x2380ff)=>{const _0x40a173=_0x4a94a1,_0x1e8de6={'PrNgE':'Test\x20Category','uFGNT':function(_0x323c03){return _0x323c03();}};if(_0x4064d1[_0x40a173(0x230)](_0x40a173(0x2e3),_0x4064d1[_0x40a173(0x1b2)]))_0x54a525[_0x40a173(0x1b8)]({'name':_0x1e8de6[_0x40a173(0x234)],'description':_0x40a173(0x277)},_0x1adf6e);else{const _0x2d18a6=_0x4064d1['CLFFS']['split']('|');let _0x176d70=0x0;while(!![]){switch(_0x2d18a6[_0x176d70++]){case'0':assert['equal'](_0x2380ff['post'][_0x40a173(0x3e4)],0x0);continue;case'1':assert[_0x40a173(0x3e6)](_0x5334a2);continue;case'2':assert[_0x40a173(0xea)](_0x2380ff[_0x40a173(0x24a)][_0x40a173(0xc5)],0x1);continue;case'3':posts['hasVoted'](_0x523fca['pid'],_0x14aac8,(_0x33fd41,_0x3b202d)=>{const _0x1e7e71=_0x40a173;assert[_0x1e7e71(0x3e6)](_0x33fd41),assert[_0x1e7e71(0xea)](_0x3b202d['upvoted'],!![]),assert['equal'](_0x3b202d['downvoted'],![]),_0x1e8de6[_0x1e7e71(0x33c)](_0x5306fe);});continue;case'4':assert[_0x40a173(0xea)](_0x2380ff[_0x40a173(0xbb)]['upvotes'],0x1);continue;case'5':assert[_0x40a173(0xea)](_0x2380ff[_0x40a173(0xbb)][_0x40a173(0xd2)],0x1);continue;}break;}}});}),_0x1f1b1e['aBzDY'](it,_0x61c1db(0x395),_0x36b593=>{const _0x3f11b8=_0x61c1db;socketPosts['getVoters']({'uid':_0x5be7a8},{'pid':_0x523fca[_0x3f11b8(0x119)],'cid':_0x507c08},(_0x25ef1b,_0xd6a0eb)=>{const _0x17538f=_0x3f11b8,_0x49797d={'BsWMK':function(_0x457a34){const _0x4e0b76=_0x1a8c;return _0x49e2f7[_0x4e0b76(0x383)](_0x457a34);}};_0x49e2f7[_0x17538f(0x293)](_0x17538f(0x2eb),_0x49e2f7[_0x17538f(0xaf)])?(assert[_0x17538f(0x3e6)](_0x25ef1b),assert[_0x17538f(0xea)](_0xd6a0eb[_0x17538f(0x367)],0x1),assert[_0x17538f(0xea)](_0xd6a0eb[_0x17538f(0x3b6)],0x0),assert(Array[_0x17538f(0x2b2)](_0xd6a0eb['upvoters'])),assert['equal'](_0xd6a0eb[_0x17538f(0x297)][0x0]['username'],_0x49e2f7[_0x17538f(0x16d)]),_0x49e2f7[_0x17538f(0x3d9)](_0x36b593)):_0x2a38b3[_0x17538f(0x241)]({'uid':_0x24114b},{'pid':_0x1e2037,'tid':_0x44c4e9},_0x3be1b5=>{const _0x549848=_0x17538f,_0x39286b={'sURQv':function(_0x328917){const _0x4d1452=_0x1a8c;return _0x49797d[_0x4d1452(0x12b)](_0x328917);}};_0x2b14ca[_0x549848(0x3e6)](_0x3be1b5),_0x31ba65[_0x549848(0xb2)](_0x13ef7f,'deleted',(_0x1257bb,_0x504a12)=>{const _0x11f448=_0x549848;_0x190427[_0x11f448(0x3e6)](_0x1257bb),_0x3877ae[_0x11f448(0x1c6)](_0x504a12,0x0),_0x39286b['sURQv'](_0x53e1e4);});});});}),_0x1f1b1e[_0x61c1db(0x282)](it,_0x1f1b1e[_0x61c1db(0x315)],_0x487a1b=>{const _0x54b84e=_0x61c1db,_0x58a33a={'FUJjR':_0x49e2f7[_0x54b84e(0x16d)]};socketPosts[_0x54b84e(0x290)]({'uid':_0x5be7a8},[_0x523fca['pid']],(_0x4dd4d0,_0x29ad74)=>{const _0x1fd4a1=_0x54b84e;assert[_0x1fd4a1(0x3e6)](_0x4dd4d0),assert[_0x1fd4a1(0xea)](_0x29ad74[0x0][_0x1fd4a1(0x345)],0x0),assert['equal'](_0x29ad74[0x0][_0x1fd4a1(0x2dc)],_0x58a33a[_0x1fd4a1(0x184)]),_0x487a1b();});}),it(_0x1f1b1e['FCGTK'],_0x4f382e=>{const _0x19e5b2=_0x61c1db,_0x5f0a3b={'sBrRy':function(_0x200a1d){const _0x1b54c8=_0x1a8c;return _0x49e2f7[_0x1b54c8(0x3d9)](_0x200a1d);}};socketPosts['unvote']({'uid':_0x14aac8},{'pid':_0x523fca['pid'],'room_id':_0x19e5b2(0x40f)},(_0x277687,_0x29069a)=>{const _0x3b228d=_0x19e5b2;assert[_0x3b228d(0x3e6)](_0x277687),assert['equal'](_0x29069a[_0x3b228d(0xbb)]['upvotes'],0x0),assert[_0x3b228d(0xea)](_0x29069a[_0x3b228d(0xbb)][_0x3b228d(0x3e4)],0x0),assert[_0x3b228d(0xea)](_0x29069a[_0x3b228d(0xbb)][_0x3b228d(0xd2)],0x0),assert['equal'](_0x29069a[_0x3b228d(0x24a)][_0x3b228d(0xc5)],0x0),posts['hasVoted'](_0x523fca[_0x3b228d(0x119)],_0x14aac8,(_0x3fbe8d,_0x5b1d44)=>{const _0x22c9fa=_0x3b228d;assert[_0x22c9fa(0x3e6)](_0x3fbe8d),assert['equal'](_0x5b1d44['upvoted'],![]),assert[_0x22c9fa(0xea)](_0x5b1d44[_0x22c9fa(0x313)],![]),_0x5f0a3b[_0x22c9fa(0x1a7)](_0x4f382e);});});}),_0x1f1b1e[_0x61c1db(0x282)](it,_0x61c1db(0xe2),_0x46176a=>{const _0x524766=_0x61c1db,_0x2454d7={'eOxPm':function(_0x42404c){const _0x3048dd=_0x1a8c;return _0x1f1b1e[_0x3048dd(0x2d7)](_0x42404c);},'tgBNZ':_0x524766(0xdf)};socketPosts[_0x524766(0x17a)]({'uid':_0x14aac8},{'pid':_0x523fca[_0x524766(0x119)],'room_id':_0x524766(0x40f)},(_0x59095c,_0xeaf570)=>{const _0x462816=_0x524766,_0x4b3803=_0x2454d7[_0x462816(0x10b)][_0x462816(0x20a)]('|');let _0x5a1cc5=0x0;while(!![]){switch(_0x4b3803[_0x5a1cc5++]){case'0':assert['ifError'](_0x59095c);continue;case'1':posts[_0x462816(0x14c)](_0x523fca['pid'],_0x14aac8,(_0x135f2f,_0x3b4a6f)=>{const _0x204d23=_0x462816;assert[_0x204d23(0x3e6)](_0x135f2f),assert[_0x204d23(0xea)](_0x3b4a6f[_0x204d23(0x2f2)],![]),assert[_0x204d23(0xea)](_0x3b4a6f['downvoted'],!![]),_0x2454d7[_0x204d23(0xd5)](_0x46176a);});continue;case'2':assert[_0x462816(0xea)](_0xeaf570['post'][_0x462816(0x3e4)],0x1);continue;case'3':assert[_0x462816(0xea)](_0xeaf570[_0x462816(0xbb)][_0x462816(0x3e2)],0x0);continue;case'4':assert[_0x462816(0xea)](_0xeaf570['post'][_0x462816(0xd2)],-0x1);continue;case'5':assert['equal'](_0xeaf570[_0x462816(0x24a)][_0x462816(0xc5)],-0x1);continue;}break;}});}),it(_0x61c1db(0x339),async()=>{const _0x5b1753=_0x61c1db,_0x23b381={'cLqxE':function(_0x330c55){return _0x1f1b1e['CsONa'](_0x330c55);}};if(_0x1f1b1e[_0x5b1753(0x23e)](_0x1f1b1e[_0x5b1753(0x3b3)],_0x1f1b1e['CaIPq'])){const _0x2f1709=meta[_0x5b1753(0x3bf)][_0x5b1753(0x77)];meta['config'][_0x5b1753(0x77)]=0x1;let _0x2af617;const _0x5e2528=await topics[_0x5b1753(0x37d)]({'uid':_0x389ea4,'tid':_0x538c80['tid'],'content':_0x5b1753(0x34e)});try{await socketPosts[_0x5b1753(0x17a)]({'uid':_0x14aac8},{'pid':_0x5e2528[_0x5b1753(0x119)],'room_id':_0x5b1753(0x40f)});}catch(_0x2b0cc5){_0x2af617=_0x2b0cc5;}assert[_0x5b1753(0xea)](_0x2af617['message'],_0x5b1753(0x233)),meta['config'][_0x5b1753(0x77)]=_0x2f1709;}else _0x4bc95c[_0x5b1753(0x3e6)](_0x5a7837),_0x441999[_0x5b1753(0xea)](_0x569e51,!![]),_0x23b381[_0x5b1753(0x246)](_0x496320);}),_0x1f1b1e['aBzDY'](it,_0x61c1db(0x261),async()=>{const _0x1ab3d1=_0x61c1db,_0x57ef4f=meta['config']['downvotesPerUserPerDay'];meta['config']['downvotesPerUserPerDay']=0x1;let _0x5230df;const _0x688b48=await topics[_0x1ab3d1(0x37d)]({'uid':_0x389ea4,'tid':_0x538c80[_0x1ab3d1(0x2fb)],'content':_0x49e2f7[_0x1ab3d1(0x225)]});try{await socketPosts['downvote']({'uid':_0x14aac8},{'pid':_0x688b48['pid'],'room_id':_0x1ab3d1(0x40f)});}catch(_0x404bba){_0x5230df=_0x404bba;}assert[_0x1ab3d1(0xea)](_0x5230df[_0x1ab3d1(0x19c)],_0x49e2f7['SKYBo']),meta[_0x1ab3d1(0x3bf)][_0x1ab3d1(0xcb)]=_0x57ef4f;});}),_0x1f1b1e[_0x1bb613(0x39b)](describe,_0x1f1b1e[_0x1bb613(0x136)],()=>{const _0x11a7ba=_0x1bb613,_0x5c711e={'tsiYL':function(_0x2fdeb9,_0xa01cbe){const _0x3b151a=_0x1a8c;return _0x1f1b1e[_0x3b151a(0x216)](_0x2fdeb9,_0xa01cbe);},'RAwlt':_0x11a7ba(0x3eb),'ZQWAf':_0x1f1b1e[_0x11a7ba(0x2db)]};_0x1f1b1e[_0x11a7ba(0x282)](it,_0x1f1b1e[_0x11a7ba(0x269)],_0x509f2e=>{const _0x4fd02a=_0x11a7ba;socketPosts['bookmark']({'uid':_0x14aac8},{'pid':_0x523fca[_0x4fd02a(0x119)],'room_id':_0x4fd02a(0x1c5)+_0x523fca[_0x4fd02a(0x2fb)]},(_0x196d4c,_0x38eee2)=>{const _0x593df0=_0x4fd02a,_0x35d46b={'wAtFT':function(_0x2d0c33){return _0x2d0c33();}};_0x5c711e[_0x593df0(0x310)](_0x5c711e[_0x593df0(0x2e6)],_0x5c711e[_0x593df0(0x227)])?_0x3f3e62=_0x215acf:(assert['ifError'](_0x196d4c),assert['equal'](_0x38eee2[_0x593df0(0x243)],!![]),posts[_0x593df0(0x139)](_0x523fca['pid'],_0x14aac8,(_0x10e105,_0x4069d5)=>{const _0xf3375b=_0x593df0;assert[_0xf3375b(0x3e6)](_0x10e105),assert[_0xf3375b(0xea)](_0x4069d5,!![]),_0x35d46b[_0xf3375b(0x3c4)](_0x509f2e);}));});}),it(_0x11a7ba(0x1fe),_0x457a18=>{const _0x52e431=_0x11a7ba;socketPosts['unbookmark']({'uid':_0x14aac8},{'pid':_0x523fca[_0x52e431(0x119)],'room_id':_0x52e431(0x1c5)+_0x523fca[_0x52e431(0x2fb)]},(_0x4f1d40,_0x1686da)=>{const _0x352278=_0x52e431;assert[_0x352278(0x3e6)](_0x4f1d40),assert['equal'](_0x1686da[_0x352278(0x243)],![]),posts['hasBookmarked']([_0x523fca[_0x352278(0x119)]],_0x14aac8,(_0x33553c,_0x47a072)=>{const _0x1e6985=_0x352278;assert[_0x1e6985(0x3e6)](_0x33553c),assert[_0x1e6985(0xea)](_0x47a072[0x0],![]),_0x457a18();});});});}),_0x1f1b1e[_0x1bb613(0x7f)](describe,_0x1f1b1e[_0x1bb613(0x335)],()=>{const _0x5b0d6f=_0x1bb613,_0x45a222={'pljQL':function(_0x1242e3,_0xea68c4){return _0x1242e3(_0xea68c4);},'VyNRx':function(_0x123821){const _0x5a52dd=_0x1a8c;return _0x1f1b1e[_0x5a52dd(0x34b)](_0x123821);}};it(_0x5b0d6f(0x244),_0x107b7f=>{const _0x14952d=_0x5b0d6f,_0x51aad8={'IJTSr':'guests','KOShl':_0x14952d(0x381)};if(_0x1f1b1e[_0x14952d(0x25b)](_0x14952d(0x3f2),_0x1f1b1e[_0x14952d(0x186)])){const _0x39e09a={'SOvaf':_0x51aad8[_0x14952d(0x155)]};_0x596b5a[_0x14952d(0x37d)]({'uid':_0xf5f582,'tid':_0x11a008['tid'],'timestamp':_0x4e2cda[_0x14952d(0x360)](),'content':_0x14952d(0x34e)},(_0x4f95f4,_0x25d785)=>{const _0x4f5524=_0x14952d;_0x3eca1e['ifError'](_0x4f95f4),_0x5e6e0c=_0x25d785[_0x4f5524(0x119)],_0x401001[_0x4f5524(0x3ae)][_0x4f5524(0x11f)]([_0x4f5524(0x1eb)],_0x1980b0,_0x39e09a[_0x4f5524(0x134)],_0x310e89);});}else socketPosts[_0x14952d(0x1d2)]({'uid':_0x5be7a8},null,_0x3e1da6=>{const _0x1c9ba7=_0x14952d;assert[_0x1c9ba7(0xea)](_0x3e1da6['message'],_0x51aad8[_0x1c9ba7(0x19f)]),_0x107b7f();});}),_0x1f1b1e['aBzDY'](it,_0x5b0d6f(0x9b),_0x4913f7=>{const _0x104a28=_0x5b0d6f,_0x14f5a7={'EHYcQ':function(_0x166339,_0x33ade5){const _0x1a1a4d=_0x1a8c;return _0x45a222[_0x1a1a4d(0x1be)](_0x166339,_0x33ade5);},'yJoYW':function(_0x5279ef,_0x3532a8){return _0x5279ef(_0x3532a8);},'coIdA':function(_0x5ea129){const _0x292984=_0x1a8c;return _0x45a222[_0x292984(0x3db)](_0x5ea129);}};socketPosts[_0x104a28(0x1d2)]({'uid':_0x5be7a8},{'pid':_0x523fca[_0x104a28(0x119)],'cid':_0x507c08},(_0x487942,_0x4dd320)=>{const _0x1e777e=_0x104a28;assert['ifError'](_0x487942),assert(_0x4dd320[_0x1e777e(0x1a1)][_0x1e777e(0x123)]),assert(_0x4dd320[_0x1e777e(0x1a1)]['display_delete_tools']),_0x14f5a7['EHYcQ'](assert,_0x4dd320['posts']['display_moderator_tools']),_0x14f5a7['yJoYW'](assert,_0x4dd320['posts']['display_move_tools']),_0x14f5a7[_0x1e777e(0x300)](_0x4913f7);});});}),_0x1f1b1e[_0x1bb613(0x1ca)](describe,_0x1bb613(0x88),()=>{const _0x1f4de0=_0x1bb613,_0x18276d={'moROt':_0x1f4de0(0x3ca),'MBCKJ':_0x1f4de0(0x348),'ecnBK':_0x1f1b1e[_0x1f4de0(0xfe)],'mUMjX':function(_0x466b2e,_0x365fc6){return _0x466b2e(_0x365fc6);},'YppqR':_0x1f1b1e[_0x1f4de0(0x23b)],'AMkjl':_0x1f4de0(0x11b),'jacud':function(_0x3922b5,_0x2fea96){return _0x3922b5===_0x2fea96;},'kOLte':'groups:posts:view_deleted','SpLSA':'Global\x20Moderators','IjSUm':function(_0x43dfa9,_0x1f3f4c){const _0x446923=_0x1f4de0;return _0x1f1b1e[_0x446923(0x40b)](_0x43dfa9,_0x1f3f4c);},'slrTm':_0x1f4de0(0x2d3)};function _0x48ae25(_0x184e11){const _0x2cca01=_0x1f4de0,_0x555944={'VyllP':function(_0x1ef11e){return _0x1f1b1e['kcuox'](_0x1ef11e);},'oEtvW':function(_0x306503,_0x3c490a,_0x30bd25){return _0x306503(_0x3c490a,_0x30bd25);},'JtDJq':function(_0x553210,_0x5be562){const _0x2bacb9=_0x1a8c;return _0x1f1b1e[_0x2bacb9(0x23e)](_0x553210,_0x5be562);},'rkLLw':_0x2cca01(0x22f),'YkRwn':_0x1f1b1e[_0x2cca01(0x29d)]};topics[_0x2cca01(0xbb)]({'uid':_0x14aac8,'cid':_0x507c08,'title':_0x2cca01(0x292),'content':_0x1f1b1e['ftMWR']},(_0x287faa,_0x36a912)=>{const _0x3f7dfe=_0x2cca01,_0x459e46={'NmAlf':function(_0x500047,_0x4bde66,_0x22a2a9){return _0x500047(_0x4bde66,_0x22a2a9);},'RJXWi':function(_0x42f381){return _0x555944['VyllP'](_0x42f381);},'UyGPl':function(_0x18aae4,_0x4b54e4,_0x3e32d5){const _0x46be23=_0x1a8c;return _0x555944[_0x46be23(0x209)](_0x18aae4,_0x4b54e4,_0x3e32d5);}};if(_0x555944['JtDJq'](_0x555944[_0x3f7dfe(0x406)],_0x555944[_0x3f7dfe(0x406)])){const _0xea950e={'pmblo':_0x3f7dfe(0xac),'fZvml':function(_0x146342,_0x1fac2f,_0x4efe91){const _0x4d9c9d=_0x3f7dfe;return _0x459e46[_0x4d9c9d(0x130)](_0x146342,_0x1fac2f,_0x4efe91);},'rbiHv':function(_0x4a0791){const _0x2bf053=_0x3f7dfe;return _0x459e46[_0x2bf053(0x1e4)](_0x4a0791);},'bNtCH':function(_0x51e9e1,_0x2454f8){return _0x51e9e1(_0x2454f8);}};_0x3e4f6d[_0x3f7dfe(0x2b7)][_0x3f7dfe(0xf9)](_0x2710b7,0x0,(_0x4dac68,_0xc6280e)=>{const _0x576567=_0x3f7dfe,_0x89ec84=_0xea950e['pmblo'][_0x576567(0x20a)]('|');let _0x1fefc7=0x0;while(!![]){switch(_0x89ec84[_0x1fefc7++]){case'0':_0xea950e['fZvml'](_0x3c1032,_0xc6280e[0x0][_0x576567(0x119)],_0x263d96);continue;case'1':_0xea950e[_0x576567(0xc8)](_0x291179);continue;case'2':_0x2148f5[_0x576567(0x3e6)](_0x4dac68);continue;case'3':_0x27f7ce(_0x4daf9b[_0x576567(0x2b2)](_0xc6280e));continue;case'4':_0xea950e[_0x576567(0x3d0)](_0x19e5b7,_0xc6280e[0x0][_0x576567(0x3ec)]);continue;}break;}});}else assert[_0x3f7dfe(0x3e6)](_0x287faa),topics['reply']({'uid':_0x14aac8,'tid':_0x36a912[_0x3f7dfe(0x197)]['tid'],'timestamp':Date[_0x3f7dfe(0x360)](),'content':_0x555944[_0x3f7dfe(0x2c9)]},(_0x471319,_0x37c833)=>{const _0x4aa437=_0x3f7dfe;assert[_0x4aa437(0x3e6)](_0x471319),_0x459e46[_0x4aa437(0x368)](_0x184e11,_0x36a912,_0x37c833);});});}let _0x4fa5ab,_0xc88fa3,_0x40f93f;before(_0x57774a=>{const _0x49bd9a=_0x1f4de0,_0x39f5a7={'Jlqzo':_0x18276d[_0x49bd9a(0xa6)]};_0x18276d['MBCKJ']===_0x18276d[_0x49bd9a(0x2aa)]?_0x482623['accept']({'uid':_0x5a3ecc},{'id':_0x191666[0x1]},_0x2724ae):_0x18276d['mUMjX'](_0x48ae25,(_0x5859b9,_0x497216)=>{const _0xaa0105=_0x49bd9a;_0x4fa5ab=_0x5859b9[_0xaa0105(0x197)][_0xaa0105(0x2fb)],_0xc88fa3=_0x5859b9[_0xaa0105(0x168)][_0xaa0105(0x119)],_0x40f93f=_0x497216['pid'],privileges[_0xaa0105(0x3ae)][_0xaa0105(0x2c5)]([_0x39f5a7[_0xaa0105(0x404)]],_0x507c08,_0xaa0105(0x1b0),_0x57774a);});}),it('should\x20error\x20with\x20invalid\x20data',_0x2eedc2=>{const _0x329d74=_0x1f4de0,_0x262c59={'felQi':_0x1f1b1e[_0x329d74(0x2a5)],'XXNCW':function(_0x26361c){return _0x26361c();}};_0x329d74(0x262)!==_0x1f1b1e[_0x329d74(0x40a)]?(_0x2edc83[_0x329d74(0x3e6)](_0xa882b7),_0x28bc5f(_0xe030ae,_0x1945c7),_0x489bb4()):socketPosts[_0x329d74(0x3f5)]({'uid':_0x14aac8},null,_0xc6651d=>{const _0x3e5c2d=_0x329d74;assert[_0x3e5c2d(0xea)](_0xc6651d[_0x3e5c2d(0x19c)],_0x262c59['felQi']),_0x262c59[_0x3e5c2d(0x3fe)](_0x2eedc2);});}),_0x1f1b1e[_0x1f4de0(0x282)](it,_0x1f1b1e[_0x1f4de0(0x8b)],_0x354b34=>{const _0x2dfcf0=_0x1f4de0;socketPosts[_0x2dfcf0(0x3f5)]({'uid':_0x14aac8},{'pid':_0x40f93f,'tid':_0x4fa5ab},_0x29e51b=>{const _0x5253a5=_0x2dfcf0;assert['ifError'](_0x29e51b),posts[_0x5253a5(0xb2)](_0x40f93f,_0x18276d[_0x5253a5(0x312)],(_0x21dfe2,_0x2ba65a)=>{const _0x36e272=_0x5253a5;assert[_0x36e272(0x3e6)](_0x21dfe2),assert['strictEqual'](_0x2ba65a,0x1),_0x354b34();});});}),it(_0x1f1b1e[_0x1f4de0(0x398)],_0x4471d2=>{async['waterfall']([function(_0x4a5694){const _0x2b9f78=_0x1a8c;user['create']({'username':_0x2b9f78(0x279),'password':_0x18276d[_0x2b9f78(0x38f)]},_0x4a5694);},function(_0x40854f,_0x4cde60){const _0x2450d0=_0x1a8c;groups[_0x2450d0(0x171)](_0x2450d0(0x357),_0x40854f,_0x4cde60);},function(_0xa751b){const _0x222034=_0x1a8c;_0x18276d[_0x222034(0xa2)](_0x222034(0x7e),_0x222034(0xfa))?(_0xf8dece[_0x222034(0x3e6)](_0x1e27d5),_0x4a88f6[_0x222034(0x1c6)](0x4,_0x5866dc['length']),_0x5e6ae4[_0x222034(0x1c6)](![],_0x48770b[_0x222034(0x3f8)]('whoa.gif')),_0x1f42ff()):privileges[_0x222034(0x3ae)]['rescind']([_0x18276d['kOLte']],_0x507c08,_0x18276d[_0x222034(0x3ef)],_0xa751b);},function(_0x52e67c){const _0x1fa25e=_0x1a8c,_0x560432={'XXADu':_0x1fa25e(0x183),'oBqca':_0x1fa25e(0x370)};helpers[_0x1fa25e(0x372)](_0x1fa25e(0x279),_0x1fa25e(0x11b),(_0x465d90,_0x5d4b13)=>{const _0x53dcb2=_0x1fa25e,_0x3ee6e5={'dyqRl':_0x560432[_0x53dcb2(0x28a)],'TWKUS':_0x560432[_0x53dcb2(0x384)],'Vhvpa':_0x53dcb2(0x357)};if('gLtIq'!==_0x53dcb2(0x375))_0xad1f3b[_0x53dcb2(0x3e6)](_0x115acf),_0x191657();else{assert[_0x53dcb2(0x3e6)](_0x465d90);const _0x20890a=_0x5d4b13;request(nconf[_0x53dcb2(0xf9)]('url')+_0x53dcb2(0xaa)+_0x4fa5ab,{'jar':_0x20890a,'json':!![]},(_0x169079,_0x11936c,_0x5920be)=>{const _0x432649=_0x53dcb2;assert[_0x432649(0x3e6)](_0x169079),assert['equal'](_0x5920be[_0x432649(0x1a1)][0x1][_0x432649(0x27c)],_0x3ee6e5[_0x432649(0x33b)]),privileges[_0x432649(0x3ae)]['give']([_0x3ee6e5['TWKUS']],_0x507c08,_0x3ee6e5[_0x432649(0x306)],_0x52e67c);});}});}],_0x4471d2);}),_0x1f1b1e[_0x1f4de0(0x1c8)](it,_0x1f4de0(0x1dd),_0x2b6542=>{socketPosts['restore']({'uid':_0x14aac8},{'pid':_0x40f93f,'tid':_0x4fa5ab},_0x12ece2=>{const _0x4606d7=_0x1a8c;assert['ifError'](_0x12ece2),posts[_0x4606d7(0xb2)](_0x40f93f,'deleted',(_0x3f1309,_0x7c475b)=>{const _0x23180d=_0x4606d7;assert[_0x23180d(0x3e6)](_0x3f1309),assert['strictEqual'](_0x7c475b,0x0),_0x2b6542();});});}),_0x1f1b1e[_0x1f4de0(0x282)](it,_0x1f4de0(0x2e8),_0x1812f4=>{const _0x1a91e8=_0x1f4de0,_0x3ce0d7={'UTXvF':function(_0x36259c,_0xa415a0){const _0x409f3e=_0x1a8c;return _0x18276d[_0x409f3e(0x37a)](_0x36259c,_0xa415a0);}};socketPosts[_0x1a91e8(0x1cb)]({'uid':_0x5be7a8},{'pids':[_0x40f93f,_0xc88fa3]},_0x158c5c=>{const _0x48881c=_0x1a91e8,_0x4762d6={'WSdhN':function(_0x1e66fb){return _0x1e66fb();}};if(_0x3ce0d7[_0x48881c(0x353)](_0x48881c(0x254),_0x48881c(0x254))){const _0x1fdd32={'LpLvc':function(_0x3e9d5d){return _0x3e9d5d();}};_0x80b227['movePost']({'uid':_0xb6a642},{},_0x25df36=>{const _0x198e9e=_0x48881c;_0x3dde0b[_0x198e9e(0xea)](_0x25df36['message'],_0x198e9e(0x381)),_0x1fdd32['LpLvc'](_0x3b589e);});}else assert['ifError'](_0x158c5c),posts['getPostField'](_0x40f93f,_0x48881c(0x3aa),(_0x2b924f,_0x113789)=>{const _0x3546c9=_0x48881c;assert[_0x3546c9(0x3e6)](_0x2b924f),assert['strictEqual'](_0x113789,0x1),posts[_0x3546c9(0xb2)](_0xc88fa3,_0x3546c9(0x3aa),(_0x32731d,_0x1994e0)=>{const _0x411d17=_0x3546c9;_0x411d17(0x103)!==_0x411d17(0x288)?(assert[_0x411d17(0x3e6)](_0x32731d),assert['strictEqual'](_0x1994e0,0x1),_0x4762d6[_0x411d17(0x411)](_0x1812f4)):_0x43aca6[_0x411d17(0x23d)]({'uid':_0x213214},null,_0x3fb1e7=>{const _0x49fa9b=_0x411d17;_0x55bbab[_0x49fa9b(0xea)](_0x3fb1e7[_0x49fa9b(0x19c)],_0x49fa9b(0x381)),_0x1075f6();});});});});}),_0x1f1b1e[_0x1f4de0(0x212)](it,_0x1f4de0(0x365),_0x11f421=>{const _0xdb77d6=_0x1f4de0,_0x4a58d2={'WRodF':_0x18276d['YppqR']};topics[_0xdb77d6(0xbb)]({'uid':_0x14aac8,'cid':_0x507c08,'title':_0x18276d[_0xdb77d6(0x228)],'content':_0x18276d[_0xdb77d6(0x228)]},(_0xb7bce3,_0xe32873)=>{const _0xe933d1=_0xdb77d6;assert[_0xe933d1(0x3e6)](_0xb7bce3),socketPosts[_0xe933d1(0x1cb)]({'uid':_0x5be7a8},{'pids':[_0xe32873[_0xe933d1(0x168)][_0xe933d1(0x119)]]},_0x394488=>{const _0x37cb77=_0xe933d1;assert[_0x37cb77(0x3e6)](_0x394488),topics[_0x37cb77(0xbe)](_0xe32873[_0x37cb77(0x197)][_0x37cb77(0x2fb)],_0x4a58d2[_0x37cb77(0x205)],(_0x185e33,_0x1267de)=>{const _0x455057=_0x37cb77;assert[_0x455057(0x3e6)](_0x185e33),assert[_0x455057(0x1c6)](_0x1267de,0x1),_0x11f421();});});});}),_0x1f1b1e[_0x1f4de0(0x212)](it,_0x1f1b1e[_0x1f4de0(0x28b)],_0x11add9=>{const _0x47b143=_0x1f4de0;_0x18276d[_0x47b143(0x28e)](_0x48ae25,(_0x386cc3,_0x3829e4)=>{const _0x5c1493=_0x47b143;socketPosts['purgePosts']({'uid':_0x14aac8},{'pids':[_0x3829e4['pid'],_0x386cc3[_0x5c1493(0x168)][_0x5c1493(0x119)]],'tid':_0x386cc3[_0x5c1493(0x197)]['tid']},_0x396d8f=>{const _0x3dc843=_0x5c1493;assert[_0x3dc843(0x3e6)](_0x396d8f),posts[_0x3dc843(0x127)](_0x3dc843(0x8a)+_0x3829e4[_0x3dc843(0x119)],(_0x2e5edd,_0x122be7)=>{const _0x330310=_0x3dc843;assert['ifError'](_0x2e5edd),assert[_0x330310(0xea)](_0x122be7,![]),topics[_0x330310(0x127)](_0x386cc3[_0x330310(0x197)][_0x330310(0x2fb)],(_0x1723dc,_0x37c699)=>{assert['ifError'](_0x1723dc),assert(!_0x37c699),_0x11add9();});});});});});}),describe(_0x1bb613(0x332),()=>{const _0x562e46=_0x1bb613,_0x228f9c={'rndOY':_0x562e46(0x385),'XWfPC':function(_0x44e6ae){return _0x1f1b1e['DsPUs'](_0x44e6ae);},'gQHZr':function(_0x5423f3,_0x3ee5db){return _0x5423f3!==_0x3ee5db;},'alfvP':_0x1f1b1e[_0x562e46(0x400)],'RkNZt':_0x562e46(0x173),'CKfYI':function(_0x47d466,_0x19d4b4){return _0x47d466<_0x19d4b4;},'ruSGk':function(_0x11c8b3,_0x48de67){const _0x4e9f41=_0x562e46;return _0x1f1b1e[_0x4e9f41(0x1e8)](_0x11c8b3,_0x48de67);},'YXdug':_0x1f1b1e['GSXBZ'],'VNmLh':_0x1f1b1e[_0x562e46(0x15f)],'mRITm':'bookmarks','vACfG':'edited\x20deleted\x20content','WfCxz':_0x562e46(0x28d),'qljbk':_0x562e46(0x1e7),'UDonr':function(_0x812047){return _0x812047();},'WVooR':function(_0x3af88f,_0x4fd521){return _0x3af88f===_0x4fd521;},'YMSZx':_0x562e46(0x2c4),'sseJO':_0x562e46(0x17d),'ltTtZ':_0x562e46(0x177),'wppaf':function(_0x446a68){return _0x446a68();},'IjoTy':_0x1f1b1e[_0x562e46(0x27f)],'DPzBz':_0x562e46(0x354),'RSqrC':_0x562e46(0x118)};if(_0x1f1b1e['SaNAy'](_0x562e46(0x126),_0x1f1b1e[_0x562e46(0x2fe)]))_0x4da25b['ifError'](_0x535083),_0x2c85c4[_0x562e46(0x127)](_0x562e46(0x8a)+_0x53df0b['pid'],(_0x569093,_0x1798a0)=>{const _0x107387=_0x562e46,_0x4f0b61={'tBqQG':function(_0x132f54,_0x3b0b71){return _0x132f54(_0x3b0b71);}};_0x14edf7[_0x107387(0x3e6)](_0x569093),_0x3d9822[_0x107387(0xea)](_0x1798a0,![]),_0x38abb6[_0x107387(0x127)](_0x24b5b9[_0x107387(0x197)][_0x107387(0x2fb)],(_0x3d456f,_0x5b8c2c)=>{const _0x4a0f21=_0x107387;_0x28466f[_0x4a0f21(0x3e6)](_0x3d456f),_0x4f0b61['tBqQG'](_0x50a36,!_0x5b8c2c),_0x5a1a0a();});});else{let _0x18769a,_0x4ef2c0,_0x2777c0;_0x1f1b1e[_0x562e46(0x12e)](before,_0x25144b=>{const _0x8fd59f=_0x562e46;topics[_0x8fd59f(0xbb)]({'uid':_0x14aac8,'cid':_0x507c08,'title':_0x1f1b1e['HqOYS'],'content':_0x1f1b1e[_0x8fd59f(0xe1)]},(_0x44c0e2,_0x193496)=>{const _0x513d98=_0x8fd59f;assert[_0x513d98(0x3e6)](_0x44c0e2),_0x18769a=_0x193496[_0x513d98(0x168)][_0x513d98(0x119)],_0x2777c0=_0x193496[_0x513d98(0x197)][_0x513d98(0x2fb)],topics[_0x513d98(0x37d)]({'uid':_0x14aac8,'tid':_0x2777c0,'timestamp':Date[_0x513d98(0x360)](),'content':_0x228f9c['rndOY']},(_0xb23cb6,_0x31b6cc)=>{const _0x3cc86f=_0x513d98;_0x3cc86f(0x29e)!==_0x3cc86f(0x33a)?(assert[_0x3cc86f(0x3e6)](_0xb23cb6),_0x4ef2c0=_0x31b6cc['pid'],privileges[_0x3cc86f(0x3ae)][_0x3cc86f(0x2c5)]([_0x3cc86f(0x304)],_0x507c08,_0x3cc86f(0x1b0),_0x25144b)):_0x3ce860[_0x3cc86f(0x171)](_0x3cc86f(0x357),_0x361572,_0x37046e);});});}),it(_0x1f1b1e['QOmOL'],_0x525dfc=>{const _0x3429e8=_0x562e46,_0x24bb06={'hkJst':_0x3429e8(0xd3),'qCwyg':function(_0x50d5ff){return _0x50d5ff();}};socketPosts[_0x3429e8(0x332)]({'uid':0x0},{},_0x13b012=>{const _0x3f3953=_0x3429e8;assert['equal'](_0x13b012[_0x3f3953(0x19c)],_0x24bb06[_0x3f3953(0xc3)]),_0x24bb06[_0x3f3953(0x9f)](_0x525dfc);});}),it(_0x562e46(0x13f),_0x484c44=>{const _0x2af764=_0x562e46,_0x48a206={'qlYlJ':function(_0x1b0ad2){const _0x2c15b1=_0x1a8c;return _0x228f9c[_0x2c15b1(0x1d7)](_0x1b0ad2);}};_0x228f9c[_0x2af764(0x33e)](_0x2af764(0x11d),_0x228f9c[_0x2af764(0x2cf)])?_0x599b30['getRawPost']({'uid':0x0},_0x3c087a,_0x1ed0b7=>{const _0x107b95=_0x2af764;_0x333dc5[_0x107b95(0xea)](_0x1ed0b7[_0x107b95(0x19c)],_0x107b95(0x1db)),_0x48a206[_0x107b95(0x3f7)](_0xe82741);}):socketPosts['edit']({'uid':_0x14aac8},{},_0x34e05f=>{const _0x33e078=_0x2af764;assert[_0x33e078(0xea)](_0x34e05f['message'],_0x33e078(0x381)),_0x484c44();});}),it(_0x1f1b1e[_0x562e46(0x2e5)],_0x38c88d=>{const _0x3927af=_0x562e46;socketPosts[_0x3927af(0x332)]({'uid':_0x14aac8},{'pid':_0x18769a,'content':_0x228f9c[_0x3927af(0xe3)],'title':'a'},_0x4da94f=>{const _0x59e72b=_0x3927af;assert['equal'](_0x4da94f['message'],_0x59e72b(0x22d)+meta['config'][_0x59e72b(0x3f9)]+']]'),_0x38c88d();});}),_0x1f1b1e[_0x562e46(0x1c8)](it,_0x562e46(0x122),_0x1298c9=>{const _0x52a9e9=_0x562e46,_0x13d5de=new Array(_0x1f1b1e['Qaajy'](meta[_0x52a9e9(0x3bf)][_0x52a9e9(0x199)],0x2))['join']('a');socketPosts['edit']({'uid':_0x14aac8},{'pid':_0x18769a,'content':'edited\x20post\x20content','title':_0x13d5de},_0x2a5fab=>{const _0x6d03=_0x52a9e9;assert[_0x6d03(0xea)](_0x2a5fab[_0x6d03(0x19c)],_0x6d03(0x336)+meta[_0x6d03(0x3bf)][_0x6d03(0x199)]+']]'),_0x1298c9();});}),it(_0x1f1b1e['yTOfg'],_0x120f17=>{const _0x5a5259=_0x562e46,_0x541db0=meta[_0x5a5259(0x3bf)][_0x5a5259(0x13a)];meta[_0x5a5259(0x3bf)][_0x5a5259(0x13a)]=0x1,socketPosts[_0x5a5259(0x332)]({'uid':_0x14aac8},{'pid':_0x18769a,'content':_0x228f9c[_0x5a5259(0xe3)],'tags':[]},_0x274bf7=>{const _0x158e69=_0x5a5259;assert[_0x158e69(0xea)](_0x274bf7['message'],_0x158e69(0x287)+meta['config']['minimumTagsPerTopic']+']]'),meta[_0x158e69(0x3bf)][_0x158e69(0x13a)]=_0x541db0,_0x228f9c[_0x158e69(0x1d7)](_0x120f17);});}),_0x1f1b1e[_0x562e46(0x152)](it,'should\x20error\x20with\x20too\x20many\x20tags',_0x2eed38=>{const _0x46e7c6=_0x562e46,_0x5abe16=[];for(let _0x2f5eb2=0x0;_0x228f9c[_0x46e7c6(0x1a3)](_0x2f5eb2,_0x228f9c[_0x46e7c6(0x3c6)](meta['config'][_0x46e7c6(0x273)],0x1));_0x2f5eb2+=0x1){_0x5abe16['push']('tag'+_0x2f5eb2);}socketPosts[_0x46e7c6(0x332)]({'uid':_0x14aac8},{'pid':_0x18769a,'content':_0x46e7c6(0x173),'tags':_0x5abe16},_0x286d30=>{const _0x1c4878=_0x46e7c6;assert['equal'](_0x286d30['message'],_0x1c4878(0x32f)+meta['config']['maximumTagsPerTopic']+']]'),_0x2eed38();});}),_0x1f1b1e[_0x562e46(0x152)](it,_0x1f1b1e[_0x562e46(0x359)],_0x42f7ed=>{const _0x267ea9=_0x562e46;socketPosts[_0x267ea9(0x332)]({'uid':_0x14aac8},{'pid':_0x18769a,'content':'e'},_0x3c66e3=>{const _0x30d44b=_0x267ea9;assert[_0x30d44b(0xea)](_0x3c66e3[_0x30d44b(0x19c)],'[[error:content-too-short,\x20'+meta['config'][_0x30d44b(0x18b)]+']]'),_0x42f7ed();});}),it(_0x1f1b1e['FLgZb'],_0x38b9a0=>{const _0x39445b=_0x562e46,_0x157826=new Array(meta[_0x39445b(0x3bf)][_0x39445b(0x30d)]+0x2)['join']('a');socketPosts['edit']({'uid':_0x14aac8},{'pid':_0x18769a,'content':_0x157826},_0x41fd8e=>{const _0x2c1b68=_0x39445b;assert[_0x2c1b68(0xea)](_0x41fd8e[_0x2c1b68(0x19c)],_0x2c1b68(0x3e5)+meta[_0x2c1b68(0x3bf)][_0x2c1b68(0x30d)]+']]'),_0x38b9a0();});}),_0x1f1b1e[_0x562e46(0x152)](it,_0x1f1b1e[_0x562e46(0x10f)],async()=>{const _0x4cda0a=_0x562e46,_0x858c8=await socketPosts['edit']({'uid':_0x14aac8},{'pid':_0x18769a,'content':_0x228f9c['RkNZt'],'title':_0x228f9c[_0x4cda0a(0x280)],'tags':['edited']});assert[_0x4cda0a(0x1c6)](_0x858c8[_0x4cda0a(0x27c)],_0x228f9c[_0x4cda0a(0xe3)]),assert[_0x4cda0a(0x1c6)](_0x858c8[_0x4cda0a(0x2e2)],_0x14aac8),assert[_0x4cda0a(0x1c6)](_0x858c8[_0x4cda0a(0x181)][_0x4cda0a(0x200)],_0x228f9c['YXdug']),assert[_0x4cda0a(0x1c6)](_0x858c8[_0x4cda0a(0x181)][_0x4cda0a(0x3a5)][0x0]['value'],_0x228f9c[_0x4cda0a(0x2be)]);const _0xcddbc8=await db[_0x4cda0a(0x7a)]('post:'+_0x18769a);assert(!_0xcddbc8['hasOwnProperty'](_0x228f9c['mRITm']));}),_0x1f1b1e[_0x562e46(0x282)](it,_0x1f1b1e['jDApe'],_0x4dc3ec=>{const _0x21c2e3=_0x562e46,_0xef98d={'uVOcb':function(_0x2bc89a){return _0x2bc89a();},'RGsLS':_0x21c2e3(0x31c)};meta[_0x21c2e3(0x3bf)]['newbiePostEditDuration']=0x1,_0x1f1b1e['CgBxD'](setTimeout,()=>{const _0x385dd3=_0x21c2e3,_0x3ea87f={'DPTNw':_0x385dd3(0x1a9),'YjrdI':function(_0x3584da){const _0x1f28c0=_0x385dd3;return _0xef98d[_0x1f28c0(0x38e)](_0x3584da);}};socketPosts['edit']({'uid':_0x14aac8},{'pid':_0x18769a,'content':_0x385dd3(0x79),'title':_0x385dd3(0x198),'tags':[_0xef98d['RGsLS']]},(_0x5380cb,_0x5a605c)=>{const _0x4fc967=_0x385dd3;assert[_0x4fc967(0xea)](_0x5380cb[_0x4fc967(0x19c)],_0x3ea87f[_0x4fc967(0x98)]),meta[_0x4fc967(0x3bf)]['newbiePostEditDuration']=0xe10,_0x3ea87f[_0x4fc967(0x31f)](_0x4dc3ec);});},0x3e8);}),_0x1f1b1e[_0x562e46(0x238)](it,_0x562e46(0x180),_0x34db7a=>{const _0xa3743c=_0x562e46;if(_0x1f1b1e[_0xa3743c(0x25b)](_0x1f1b1e['URFyU'],'dEumi')){const _0x5b032d='2|1|5|0|3|4'[_0xa3743c(0x20a)]('|');let _0xa841a=0x0;while(!![]){switch(_0x5b032d[_0xa841a++]){case'0':_0x2b0f59[_0xa3743c(0xea)](_0x966960[_0xa3743c(0xbb)][_0xa3743c(0xd2)],-0x1);continue;case'1':_0x5fc0fe['equal'](_0xb3c882['post'][_0xa3743c(0x3e2)],0x0);continue;case'2':_0x203a31[_0xa3743c(0x3e6)](_0x3e908b);continue;case'3':_0xc850e2[_0xa3743c(0xea)](_0x63e9a4[_0xa3743c(0x24a)][_0xa3743c(0xc5)],-0x1);continue;case'4':_0x34437e[_0xa3743c(0x14c)](_0xd51af4['pid'],_0x5382c5,(_0x2fb104,_0x4cd02d)=>{const _0x47590b=_0xa3743c;_0x12207b['ifError'](_0x2fb104),_0x3393d9[_0x47590b(0xea)](_0x4cd02d[_0x47590b(0x2f2)],![]),_0x2e80d8[_0x47590b(0xea)](_0x4cd02d[_0x47590b(0x313)],!![]),_0xd7cba5();});continue;case'5':_0x503399[_0xa3743c(0xea)](_0x4ad519[_0xa3743c(0xbb)][_0xa3743c(0x3e4)],0x1);continue;}break;}}else socketPosts[_0xa3743c(0x3f5)]({'uid':_0x14aac8},{'pid':_0x18769a,'tid':_0x2777c0},_0x53ea90=>{const _0x12ebf3=_0xa3743c,_0x25234f={'SGoFH':_0x12ebf3(0x392),'YsbqS':_0x12ebf3(0x182)};assert[_0x12ebf3(0x3e6)](_0x53ea90),socketPosts[_0x12ebf3(0x332)]({'uid':_0x14aac8},{'pid':_0x18769a,'content':_0x228f9c['vACfG'],'title':_0x228f9c[_0x12ebf3(0x13e)],'tags':[_0x12ebf3(0x3aa)]},(_0x2518ea,_0x66279b)=>{const _0x14692b=_0x12ebf3,_0x3e88da={'CCKox':_0x14692b(0x10e),'vKgHT':_0x14692b(0x32d)};if(_0x25234f[_0x14692b(0x188)]===_0x14692b(0x392)){const _0x1bb7ce=_0x14692b(0x263)[_0x14692b(0x20a)]('|');let _0x258323=0x0;while(!![]){switch(_0x1bb7ce[_0x258323++]){case'0':assert[_0x14692b(0xea)](_0x66279b[_0x14692b(0x2e2)],_0x14aac8);continue;case'1':assert[_0x14692b(0x3e6)](_0x2518ea);continue;case'2':_0x34db7a();continue;case'3':assert[_0x14692b(0xea)](_0x66279b[_0x14692b(0x27c)],_0x25234f[_0x14692b(0x364)]);continue;case'4':assert['equal'](_0x66279b['topic'][_0x14692b(0x3a5)][0x0][_0x14692b(0x349)],'deleted');continue;case'5':assert['equal'](_0x66279b[_0x14692b(0x181)][_0x14692b(0x200)],'edited\x20deleted\x20title');continue;}break;}}else{const _0x387856=_0x4e76ab[_0x14692b(0x2f1)];_0x42f3aa[_0x14692b(0x2f1)]=_0x3e88da['CCKox'];const _0xd5760a={'pid':0x270f,'content':_0x3e88da['vKgHT']};_0xef438c[_0x14692b(0xce)](_0xd5760a,_0x36cc27=>{const _0xad3f20=_0x14692b;_0x844acb[_0xad3f20(0x3e6)](_0x36cc27),_0x2ff80f[_0xad3f20(0xce)](_0xd5760a,_0x394ce9=>{const _0x3ec1a2=_0xad3f20;_0x115eba['ifError'](_0x394ce9),_0x22974c[_0x3ec1a2(0x2f1)]=_0x387856,_0x41b859();});});}});});}),it(_0x1f1b1e[_0x562e46(0x314)],_0x39abe1=>{const _0x8fb4d5=_0x562e46,_0x2024a3={'dxpjd':_0x8fb4d5(0x39c)};socketPosts[_0x8fb4d5(0x332)]({'uid':_0x14aac8},{'pid':_0x4ef2c0,'content':_0x8fb4d5(0x39c)},(_0x3e488d,_0x5bfc40)=>{const _0x3625ee=_0x8fb4d5,_0x2e41ef='4|3|5|2|1|0'[_0x3625ee(0x20a)]('|');let _0x1b521b=0x0;while(!![]){switch(_0x2e41ef[_0x1b521b++]){case'0':_0x39abe1();continue;case'1':assert[_0x3625ee(0xea)](_0x5bfc40[_0x3625ee(0x181)][_0x3625ee(0x3d7)],![]);continue;case'2':assert[_0x3625ee(0xea)](_0x5bfc40['topic'][_0x3625ee(0x161)],![]);continue;case'3':assert[_0x3625ee(0xea)](_0x5bfc40[_0x3625ee(0x27c)],_0x2024a3[_0x3625ee(0x3c8)]);continue;case'4':assert['ifError'](_0x3e488d);continue;case'5':assert[_0x3625ee(0xea)](_0x5bfc40[_0x3625ee(0x2e2)],_0x14aac8);continue;}break;}});}),_0x1f1b1e[_0x562e46(0x10d)](it,_0x562e46(0x146),_0x3ecced=>{const _0x3132c0=_0x562e46;posts[_0x3132c0(0x2b7)][_0x3132c0(0xf9)](_0x4ef2c0,0x0,(_0x24ff4c,_0x3781e4)=>{const _0x3f329f=_0x3132c0;assert[_0x3f329f(0x3e6)](_0x24ff4c),assert(Array[_0x3f329f(0x2b2)](_0x3781e4)),assert(_0x3781e4[0x0][_0x3f329f(0x119)],_0x4ef2c0),assert(_0x3781e4[0x0]['patch']),_0x3ecced();});}),it(_0x562e46(0x35d),_0x2ccd71=>{const _0x134523=_0x562e46,_0x4944dc={'vMLIg':_0x1f1b1e[_0x134523(0xbc)],'NENQR':function(_0x56dc48,_0x2dd663){return _0x56dc48!==_0x2dd663;},'GhZtb':_0x1f1b1e['yKGGG'],'CAVkt':_0x134523(0x385)};posts[_0x134523(0x2b7)][_0x134523(0x207)](_0x4ef2c0,0x0,_0x14aac8,(_0x17c102,_0x408d6c)=>{const _0x5ea791=_0x134523;_0x4944dc[_0x5ea791(0x2f6)](_0x4944dc[_0x5ea791(0x294)],_0x4944dc[_0x5ea791(0x294)])?_0x4debeb[_0x5ea791(0x331)](_0x5ea791(0x3f0)+_0x347b93(_0x4944dc[_0x5ea791(0x22a)])+':pids',0x0,-0x1,_0x12fc56):(assert[_0x5ea791(0x3e6)](_0x17c102),assert[_0x5ea791(0xea)](_0x408d6c[_0x5ea791(0x27c)],_0x4944dc['CAVkt']),_0x2ccd71());});}),_0x1f1b1e[_0x562e46(0x7f)](it,_0x562e46(0x1b1),_0x27adff=>{const _0x1a5cd2=_0x562e46;socketPosts[_0x1a5cd2(0x34d)]({'uid':0x0},{'pid':0x1},_0x50f1d3=>{const _0x144e6e=_0x1a5cd2;assert[_0x144e6e(0xea)](_0x50f1d3[_0x144e6e(0x19c)],_0x144e6e(0x1db)),_0x27adff();});}),_0x1f1b1e[_0x562e46(0x10d)](it,_0x1f1b1e[_0x562e46(0x1a4)],_0x3bed51=>{const _0x397767=_0x562e46,_0x5ee763={'rafCW':'boolean','MKmEg':_0x228f9c[_0x397767(0x133)],'cwukQ':function(_0x5441ef){const _0x5cdf5b=_0x397767;return _0x228f9c[_0x5cdf5b(0x30c)](_0x5441ef);}};_0x228f9c[_0x397767(0x214)]('ivboK',_0x228f9c[_0x397767(0x18e)])?_0x214070[_0x397767(0x3f5)]({'uid':_0x49533e},null,_0xb25169=>{const _0x5daef5=_0x397767;_0x51680a[_0x5daef5(0xea)](_0xb25169[_0x5daef5(0x19c)],'[[error:invalid-data]]'),_0x4d16d1();}):socketPosts[_0x397767(0x34d)]({'uid':0x1},{'pid':0x1},(_0x1e709d,_0x3fcbeb)=>{const _0x303de5=_0x397767;assert[_0x303de5(0x3e6)](_0x1e709d),assert[_0x303de5(0x1c6)](_0x5ee763[_0x303de5(0x2ab)],typeof _0x3fcbeb[_0x303de5(0x153)]),assert[_0x303de5(0x1c6)](![],_0x3fcbeb[_0x303de5(0x153)]),assert[_0x303de5(0xea)](!![],Array[_0x303de5(0x2b2)](_0x3fcbeb[_0x303de5(0x32a)])),assert[_0x303de5(0x1c6)](0x1,_0x3fcbeb[_0x303de5(0x32a)][_0x303de5(0x19e)]),assert[_0x303de5(0xea)](!![],Array[_0x303de5(0x2b2)](_0x3fcbeb['revisions'])),assert[_0x303de5(0x1c6)](_0x3fcbeb[_0x303de5(0x32a)][_0x303de5(0x19e)],_0x3fcbeb[_0x303de5(0x346)]['length']),[_0x303de5(0x1df),_0x5ee763[_0x303de5(0x413)]][_0x303de5(0x338)](_0x8d5056=>Object['keys'](_0x3fcbeb[_0x303de5(0x346)][0x0])['includes'](_0x8d5056)),_0x5ee763[_0x303de5(0x3d4)](_0x3bed51);});}),it('should\x20not\x20delete\x20first\x20diff\x20of\x20a\x20post',async()=>{const _0x49aee7=_0x562e46,_0x14a42f=await posts[_0x49aee7(0x2b7)][_0x49aee7(0x29a)](_0x4ef2c0);await assert['rejects'](async()=>{const _0x4ba781=_0x49aee7;await posts[_0x4ba781(0x2b7)]['delete'](_0x4ef2c0,_0x14a42f[0x0],_0x14aac8);},{'message':_0x49aee7(0x381)});}),_0x1f1b1e['QVFTN'](it,_0x1f1b1e['uDZuX'],async()=>{const _0x43d51b=_0x562e46;if(_0x228f9c[_0x43d51b(0x214)](_0x43d51b(0xef),_0x43d51b(0x257)))_0x5b1643[_0x43d51b(0xea)](_0x6af7ca[_0x43d51b(0x19c)],_0x43d51b(0x1db)),_0x1ce4de();else{await socketPosts['edit']({'uid':_0x14aac8},{'pid':_0x4ef2c0,'content':_0x43d51b(0xa1)}),await socketPosts[_0x43d51b(0x332)]({'uid':_0x14aac8},{'pid':_0x4ef2c0,'content':_0x228f9c[_0x43d51b(0x215)]});const _0x4afba5=(await posts[_0x43d51b(0x2b7)]['list'](_0x4ef2c0))[_0x43d51b(0x3f4)]();await posts[_0x43d51b(0x2b7)][_0x43d51b(0x3f5)](_0x4ef2c0,_0x4afba5,_0x14aac8);const _0x218ca9=(await posts[_0x43d51b(0x2b7)][_0x43d51b(0x29a)](_0x4ef2c0))[_0x43d51b(0x3f4)]();assert[_0x43d51b(0x106)](_0x4afba5,_0x218ca9);}}),_0x1f1b1e['gYvFc'](it,_0x1f1b1e[_0x562e46(0x204)],async()=>{const _0x2f2769=_0x562e46;if(_0x228f9c[_0x2f2769(0x38c)]===_0x228f9c['RSqrC']){const _0x3ce10f={'vkvYo':_0x228f9c[_0x2f2769(0x2f0)],'aZTgj':'amazeballs.jpg','zwfhf':function(_0x12218e){const _0x22e5c1=_0x2f2769;return _0x228f9c[_0x22e5c1(0x39f)](_0x12218e);},'rmejJ':_0x228f9c[_0x2f2769(0x369)]};_0x3fb823[_0x2f2769(0xb6)]([_0x10dc15[_0x2f2769(0x3a4)](_0x187fc4[_0x2f2769(0x327)][_0x2f2769(0x169)],_0x2e7157,['amazeballs.jpg',_0x228f9c['IjoTy']]),_0x5447b8['apply'](_0x3d656a[_0x2f2769(0x327)][_0x2f2769(0x29a)],_0x2e9f3e)],(_0x3f8907,_0x1cf109)=>{const _0x51d31f=_0x2f2769,_0x43f14a=_0x3ce10f[_0x51d31f(0x394)][_0x51d31f(0x20a)]('|');let _0x2c3e8f=0x0;while(!![]){switch(_0x43f14a[_0x2c3e8f++]){case'0':_0x9f4621[_0x51d31f(0x1c6)](![],_0x1cf109[_0x51d31f(0x3f8)](_0x3ce10f[_0x51d31f(0x25e)]));continue;case'1':_0x5b5af5[_0x51d31f(0x1c6)](0x2,_0x1cf109[_0x51d31f(0x19e)]);continue;case'2':_0x1d8545[_0x51d31f(0x3e6)](_0x3f8907);continue;case'3':_0x3ce10f[_0x51d31f(0x166)](_0x7710b4);continue;case'4':_0x3cb6cc[_0x51d31f(0x1c6)](![],_0x1cf109[_0x51d31f(0x3f8)](_0x3ce10f['rmejJ']));continue;}break;}});}else{const _0xb89d97=await posts['diffs'][_0x2f2769(0x207)](_0x4ef2c0,0x0,_0x14aac8);assert[_0x2f2769(0x1c6)](_0xb89d97['content'],_0x228f9c[_0x2f2769(0x3bd)]);}});}}),_0x1f1b1e[_0x1bb613(0x3c9)](describe,_0x1f1b1e[_0x1bb613(0x2f5)],()=>{const _0x50e4ba=_0x1bb613,_0x560ec9={'FvsKM':_0x50e4ba(0xf4),'kABNi':'some\x20content','PXDCb':function(_0x272267,_0x377613){return _0x272267(_0x377613);},'JkfKM':_0x1f1b1e[_0x50e4ba(0x167)],'mCxLU':function(_0x5a0ac4){return _0x5a0ac4();},'eLRfP':_0x50e4ba(0x78),'kBsHw':_0x1f1b1e[_0x50e4ba(0x1ac)],'nrOYH':function(_0x107f0a,_0x2f685e){const _0x33564d=_0x50e4ba;return _0x1f1b1e[_0x33564d(0x25b)](_0x107f0a,_0x2f685e);},'lYhNt':_0x50e4ba(0x277),'dlgWR':'target\x20topic','eLlZR':_0x1f1b1e[_0x50e4ba(0x36e)],'YmbFh':_0x50e4ba(0x1db)};let _0x41bf89,_0x1640fe,_0x4f5535;_0x1f1b1e['CAEWY'](before,_0x5ddb19=>{const _0x3991f5=_0x50e4ba,_0x23d24d={'VedCG':function(_0x59d452,_0x3b7ee8){return _0x560ec9['PXDCb'](_0x59d452,_0x3b7ee8);},'WxLIh':_0x560ec9[_0x3991f5(0x29f)],'qpckF':_0x3991f5(0x299),'ghGXh':_0x3991f5(0x36b)};async[_0x3991f5(0xb6)]([function(_0x263587){const _0x36f38b=_0x3991f5;topics[_0x36f38b(0xbb)]({'uid':_0x14aac8,'cid':_0x507c08,'title':_0x560ec9['FvsKM'],'content':_0x560ec9[_0x36f38b(0xb8)]},_0x263587);},function(_0x811da3,_0x1ac923){const _0x378dc7=_0x3991f5;_0x378dc7(0x16b)===_0x23d24d['WxLIh']?(_0x1640fe=_0x811da3[_0x378dc7(0x197)]['tid'],topics[_0x378dc7(0xbb)]({'uid':_0x14aac8,'cid':_0x507c08,'title':_0x23d24d['qpckF'],'content':_0x378dc7(0x37b)},_0x1ac923)):(_0x583083['ifError'](_0x597395),_0x23d24d[_0x378dc7(0x12f)](_0x48c881,_0x129bc8[_0x378dc7(0x2b2)](_0x10cb81)),_0x16f4ff[_0x378dc7(0xea)](_0xc80c5b[_0x378dc7(0x19e)],0x2),_0x455109[_0x378dc7(0xea)](_0x52039f[0x0],_0x2b0ed8),_0x36fee8());},function(_0x46ecae,_0x33498f){const _0x252b07=_0x3991f5,_0x4ba577={'VXTQw':function(_0x4c2ede,_0x407eed){return _0x4c2ede!==_0x407eed;},'MOOfT':_0x252b07(0x1d3),'UNZsK':function(_0x3e14e1){return _0x3e14e1();}};_0x4f5535=_0x46ecae[_0x252b07(0x197)][_0x252b07(0x2fb)],topics[_0x252b07(0x37d)]({'uid':_0x14aac8,'tid':_0x1640fe,'timestamp':Date['now'](),'content':_0x23d24d[_0x252b07(0x409)]},(_0x623888,_0x4d2a80)=>{const _0x45c274=_0x252b07;_0x4ba577[_0x45c274(0xd6)](_0x4ba577[_0x45c274(0x1ba)],_0x4ba577['MOOfT'])?(_0x56ba96['equal'](_0x525da3[_0x45c274(0x19c)],_0x45c274(0x381)),_0x27a6f8()):(assert[_0x45c274(0x3e6)](_0x623888),_0x41bf89=_0x4d2a80[_0x45c274(0x119)],_0x4ba577['UNZsK'](_0x33498f));});}],_0x5ddb19);}),it(_0x50e4ba(0x382),_0x1b92a0=>{const _0x552949=_0x50e4ba,_0x30c045={'qlVka':_0x552949(0xd3)};socketPosts[_0x552949(0x210)]({'uid':0x0},{},_0x1dd7a7=>{const _0x3fc264=_0x552949;assert['equal'](_0x1dd7a7[_0x3fc264(0x19c)],_0x30c045['qlVka']),_0x1b92a0();});}),it(_0x1f1b1e[_0x50e4ba(0x1ae)],_0x469f9d=>{const _0x2e7bf8=_0x50e4ba;if(_0x2e7bf8(0x39a)!==_0x560ec9['kBsHw'])socketPosts[_0x2e7bf8(0x210)]({'uid':_0x5be7a8},{},_0x3076a5=>{const _0x62ba28=_0x2e7bf8;assert['equal'](_0x3076a5[_0x62ba28(0x19c)],_0x62ba28(0x381)),_0x469f9d();});else{const _0x3d2ab5={'TbcsX':function(_0x368c8b){return _0x560ec9['mCxLU'](_0x368c8b);}};_0x29155b[_0x2e7bf8(0x3e6)](_0x15dcdc),_0x2dc9f5[_0x2e7bf8(0x37d)]({'uid':0x1,'tid':_0x3ddb31[_0x2e7bf8(0x197)][_0x2e7bf8(0x2fb)],'timestamp':_0xe982c2[_0x2e7bf8(0x360)](),'content':_0x560ec9[_0x2e7bf8(0x2c1)]},(_0x4bf5a7,_0x5746e9)=>{const _0x160d40=_0x2e7bf8;_0x2d094f[_0x160d40(0x3e6)](_0x4bf5a7),_0x899683=_0x5c85ba,_0x6c19c=_0x5746e9,_0x3d2ab5[_0x160d40(0x3d8)](_0x3c1547);});}}),_0x1f1b1e[_0x50e4ba(0x1c8)](it,_0x1f1b1e[_0x50e4ba(0x1e2)],_0x55a722=>{const _0x4228da=_0x50e4ba,_0xe0fbd0={'HTQkO':function(_0x511eb1){const _0x2d21fc=_0x1a8c;return _0x1f1b1e[_0x2d21fc(0x3b8)](_0x511eb1);},'cyQCm':_0x4228da(0x172),'TFGeU':_0x1f1b1e[_0x4228da(0x193)]};socketPosts['movePost']({'uid':_0x14aac8},{'pid':_0x41bf89,'tid':_0x4f5535},_0x3592f7=>{const _0x4133b4=_0x4228da,_0x52340d={'fsxMd':function(_0x355309){const _0x1f3837=_0x1a8c;return _0xe0fbd0[_0x1f3837(0xb4)](_0x355309);}};_0xe0fbd0['cyQCm']==='YeCFW'?_0xa5ae15[_0x4133b4(0x210)]({'uid':_0x55e794},{'pid':_0x465e7c,'tid':_0x18c8c2},_0x5a8b0a=>{const _0x45a1d8=_0x4133b4;_0x20c188[_0x45a1d8(0xea)](_0x5a8b0a[_0x45a1d8(0x19c)],_0x45a1d8(0x1db)),_0x52340d[_0x45a1d8(0x1fb)](_0x2a9222);}):(assert[_0x4133b4(0xea)](_0x3592f7['message'],_0xe0fbd0[_0x4133b4(0x1f5)]),_0xe0fbd0[_0x4133b4(0xb4)](_0x55a722));});}),_0x1f1b1e[_0x50e4ba(0x7f)](it,_0x50e4ba(0x112),_0x46c1ca=>{const _0xdce2ec=_0x50e4ba,_0x487826={'binPg':function(_0x4876ab,_0x18ce5a,_0x5a547a){const _0x3ffd21=_0x1a8c;return _0x1f1b1e[_0x3ffd21(0x2a7)](_0x4876ab,_0x18ce5a,_0x5a547a);},'HfApo':function(_0x14b62a){return _0x14b62a();},'KgaEY':_0x1f1b1e[_0xdce2ec(0x208)],'JNuzt':_0xdce2ec(0x2fb)};_0x1f1b1e['XhqNi'](_0x1f1b1e[_0xdce2ec(0x30b)],_0xdce2ec(0x344))?_0x20b8f7=_0x202048:socketPosts['movePost']({'uid':_0x5be7a8},{'pid':_0x41bf89,'tid':_0x4f5535},_0x594510=>{const _0x3b9bef=_0xdce2ec;_0x487826[_0x3b9bef(0x2f3)]==='YjpvO'?(assert[_0x3b9bef(0x3e6)](_0x594510),posts[_0x3b9bef(0xb2)](_0x41bf89,_0x487826['JNuzt'],(_0x423a91,_0x28caa2)=>{const _0x3e8bb1=_0x3b9bef;assert[_0x3e8bb1(0x3e6)](_0x423a91),_0x487826['binPg'](assert,_0x28caa2,_0x4f5535),_0x487826['HfApo'](_0x46c1ca);})):(_0x3c57b3['ifError'](_0x30d05d),_0x3dba1d[_0x3b9bef(0xea)](_0xf52d10['upvoted'],![]),_0x750105[_0x3b9bef(0xea)](_0x47898b[_0x3b9bef(0x313)],![]),_0xbb2b0d());});}),it('should\x20fail\x20to\x20move\x20post\x20if\x20not\x20moderator\x20of\x20target\x20category',async()=>{const _0x466de=_0x50e4ba;if(_0x560ec9[_0x466de(0x34a)](_0x466de(0x3fc),_0x466de(0x218)))_0x793843[_0x466de(0x2bc)]([],0x0,{},(_0x137f69,_0x4f0ca1)=>{const _0x44b59e=_0x466de;_0x2c320c['ifError'](_0x137f69),_0x47be89[_0x44b59e(0xea)](_0x4f0ca1[_0x44b59e(0x19e)],0x0),_0x41625e();});else{const _0x3ee781=await categories['create']({'name':'Test\x20Category','description':_0x560ec9[_0x466de(0xab)]}),_0x3adfc9=await categories[_0x466de(0x1b8)]({'name':_0x466de(0xf5),'description':_0x466de(0x277)}),_0xcd2665=await socketTopics['post']({'uid':_0x5be7a8},{'title':_0x560ec9[_0x466de(0x9d)],'content':_0x466de(0x3bc),'cid':_0x3adfc9[_0x466de(0x2c7)]}),_0x447bfb=await user[_0x466de(0x1b8)]({'username':_0x560ec9[_0x466de(0x393)]});await privileges[_0x466de(0x3ae)]['give'](privileges[_0x466de(0x3ae)][_0x466de(0x1f9)],_0x3ee781['cid'],_0x447bfb);let _0x1bcd4d;try{await socketPosts[_0x466de(0x210)]({'uid':_0x447bfb},{'pid':_0x41bf89,'tid':_0xcd2665[_0x466de(0x2fb)]});}catch(_0x93f4b3){_0x1bcd4d=_0x93f4b3;}assert[_0x466de(0x1c6)](_0x1bcd4d[_0x466de(0x19c)],_0x560ec9[_0x466de(0x35f)]);}});}),describe(_0x1bb613(0x2bc),()=>{const _0xf74e41=_0x1bb613,_0xfefae2={'dzZkJ':function(_0x26dd58,_0x59a173){const _0x1533a6=_0x1a8c;return _0x1f1b1e[_0x1533a6(0x12e)](_0x26dd58,_0x59a173);},'PGgEu':function(_0xd6aac,_0x1c62b3){const _0x40a59e=_0x1a8c;return _0x1f1b1e[_0x40a59e(0x2f7)](_0xd6aac,_0x1c62b3);},'pwXpA':function(_0x3f9332){const _0x4016c0=_0x1a8c;return _0x1f1b1e[_0x4016c0(0x343)](_0x3f9332);},'sQBom':function(_0x4ca88c,_0x1a759c){return _0x4ca88c(_0x1a759c);}};_0x1f1b1e[_0xf74e41(0x305)](it,_0x1f1b1e['PLpJZ'],_0x22cb29=>{const _0x178087=_0xf74e41,_0x2a4b7f={'DMtNP':_0x1f1b1e[_0x178087(0x407)],'lsYZv':function(_0x5463bd){return _0x5463bd();},'uwknZ':_0x178087(0x148),'CoENC':function(_0x423281,_0x1c5ac9){return _0x423281===_0x1c5ac9;},'FoGQW':_0x1f1b1e[_0x178087(0x1e0)],'eIbey':_0x1f1b1e[_0x178087(0x99)],'qNuBM':function(_0x28c2e4){const _0x320ff8=_0x178087;return _0x1f1b1e[_0x320ff8(0x399)](_0x28c2e4);}};posts[_0x178087(0x2bc)]([],0x0,{},(_0x5b8291,_0xf10b03)=>{const _0x45a701=_0x178087;if(_0x2a4b7f['CoENC'](_0x2a4b7f['FoGQW'],_0x2a4b7f[_0x45a701(0x190)])){const _0x58a4bd={'EwHvT':_0x2a4b7f[_0x45a701(0x3ce)],'gugCT':function(_0x1a9705){const _0x5c129b=_0x45a701;return _0x2a4b7f[_0x5c129b(0x22e)](_0x1a9705);}};_0x3ecba2[_0x45a701(0x3bf)][_0x45a701(0x15c)]=0x1,_0x493ac5[_0x45a701(0x3bf)][_0x45a701(0x2a9)]=0x1;const _0x1531a0={'signature':_0x2a4b7f['uwknZ']};_0x178a43['parseSignature'](_0x1531a0,0x1,(_0x29c1c1,_0x536bd8)=>{const _0x10897f=_0x45a701,_0x4b190a=_0x10897f(0x1c0)[_0x10897f(0x20a)]('|');let _0x471876=0x0;while(!![]){switch(_0x4b190a[_0x471876++]){case'0':_0x58b080[_0x10897f(0x3e6)](_0x29c1c1);continue;case'1':_0x594052[_0x10897f(0x3bf)][_0x10897f(0x2a9)]=0x0;continue;case'2':_0x581fad['config'][_0x58a4bd['EwHvT']]=0x0;continue;case'3':_0x58a4bd['gugCT'](_0x39abe8);continue;case'4':_0x3a39e1[_0x10897f(0xea)](_0x536bd8['userData'][_0x10897f(0x1f6)],_0x10897f(0x3fb));continue;}break;}});}else assert[_0x45a701(0x3e6)](_0x5b8291),assert[_0x45a701(0xea)](_0xf10b03[_0x45a701(0x19e)],0x0),_0x2a4b7f[_0x45a701(0x16c)](_0x22cb29);});}),it(_0x1f1b1e[_0xf74e41(0x30f)],_0x26be19=>{const _0x27c447=_0xf74e41;posts[_0x27c447(0x2bc)]([_0x523fca[_0x27c447(0x119)]],0x0,{},(_0x47c5a5,_0x18e6ba)=>{const _0x527f26=_0x27c447,_0xec5c11=_0x527f26(0x377)[_0x527f26(0x20a)]('|');let _0x2bd95e=0x0;while(!![]){switch(_0xec5c11[_0x2bd95e++]){case'0':_0xfefae2[_0x527f26(0x96)](assert,_0x18e6ba[0x0]['category']);continue;case'1':_0xfefae2['PGgEu'](assert,_0x18e6ba[0x0][_0x527f26(0x24a)]);continue;case'2':_0xfefae2['pwXpA'](_0x26be19);continue;case'3':assert[_0x527f26(0x3e6)](_0x47c5a5);continue;case'4':_0xfefae2[_0x527f26(0x2a0)](assert,_0x18e6ba[0x0][_0x527f26(0x181)]);continue;}break;}});});}),_0x1f1b1e[_0x1bb613(0x39b)](it,'should\x20get\x20recent\x20poster\x20uids',_0x4e0ecf=>{const _0x4d5f22=_0x1bb613;topics['reply']({'uid':_0x14aac8,'tid':_0x538c80['tid'],'timestamp':Date[_0x4d5f22(0x360)](),'content':_0x1f1b1e[_0x4d5f22(0x196)]},_0x1fe1d2=>{const _0x4ee6fa=_0x4d5f22,_0x424e2c={'Tizlj':_0x4ee6fa(0x8e)};assert['ifError'](_0x1fe1d2),posts[_0x4ee6fa(0x301)](0x0,0x1,(_0x4af3a9,_0x154b7b)=>{const _0x5be935=_0x4ee6fa;if(_0x424e2c[_0x5be935(0x237)]===_0x424e2c[_0x5be935(0x237)]){const _0x533eee=_0x5be935(0x1c0)[_0x5be935(0x20a)]('|');let _0x47e0f3=0x0;while(!![]){switch(_0x533eee[_0x47e0f3++]){case'0':assert['ifError'](_0x4af3a9);continue;case'1':assert[_0x5be935(0xea)](_0x154b7b[0x0],_0x14aac8);continue;case'2':assert[_0x5be935(0xea)](_0x154b7b[_0x5be935(0x19e)],0x2);continue;case'3':_0x4e0ecf();continue;case'4':assert(Array['isArray'](_0x154b7b));continue;}break;}}else{const _0x2d983f=_0x5be935(0x35e)[_0x5be935(0x20a)]('|');let _0x1efe34=0x0;while(!![]){switch(_0x2d983f[_0x1efe34++]){case'0':_0x35cbba[_0x5be935(0x3e6)](_0x4f13a2);continue;case'1':_0x2cc543=_0x559e3b['id'];continue;case'2':_0x3ef768[_0x5be935(0x1c6)](_0x5a07dc[_0x5be935(0xca)],!![]);continue;case'3':_0x2ee4b5();continue;case'4':_0x1931ad[_0x5be935(0xea)](_0x4bdc9c[_0x5be935(0x19c)],_0x5be935(0x97));continue;}break;}}});});}),describe('parse',()=>{const _0xf5b606=_0x1bb613,_0x116f1e={'vvBzw':function(_0x17c660){return _0x1f1b1e['vSLRG'](_0x17c660);},'JvPCF':_0xf5b606(0x10e),'WnjId':_0x1f1b1e['LWrfK'],'Mviai':_0xf5b606(0x3fb),'AFYph':_0x1f1b1e['UtzNm'],'vQIMm':_0x1f1b1e[_0xf5b606(0x3a2)]};it(_0x1f1b1e[_0xf5b606(0x32e)],_0x5bb5dd=>{posts['parsePost'](null,(_0x1b7550,_0x591601)=>{const _0x57e090=_0x1a8c;assert[_0x57e090(0x3e6)](_0x1b7550),assert[_0x57e090(0x1c6)](_0x591601,null),_0x5bb5dd();});}),_0x1f1b1e[_0xf5b606(0x212)](it,_0xf5b606(0xe5),_0x1fd339=>{const _0x2e1636=_0xf5b606,_0x6a3f92=global[_0x2e1636(0x2f1)];global[_0x2e1636(0x2f1)]=_0x116f1e[_0x2e1636(0x18c)];const _0x2e9669={'pid':0x270f,'content':_0x116f1e[_0x2e1636(0x1f7)]};posts[_0x2e1636(0xce)](_0x2e9669,_0x1ce394=>{const _0x79d653=_0x2e1636,_0x3b9ea8={'ilyAv':function(_0x1917ae){const _0x3f0600=_0x1a8c;return _0x116f1e[_0x3f0600(0x201)](_0x1917ae);}};assert[_0x79d653(0x3e6)](_0x1ce394),posts[_0x79d653(0xce)](_0x2e9669,_0x4864bd=>{const _0x1d9585=_0x79d653;assert[_0x1d9585(0x3e6)](_0x4864bd),global[_0x1d9585(0x2f1)]=_0x6a3f92,_0x3b9ea8[_0x1d9585(0xb9)](_0x1fd339);});});}),_0x1f1b1e[_0xf5b606(0x282)](it,_0xf5b606(0x8d),_0x4c59f9=>{const _0x3b35dd=_0xf5b606,_0x25195f={'SOtMS':_0x3b35dd(0x17f),'tVrXv':_0x116f1e['Mviai'],'WCNSP':_0x3b35dd(0x2a9)};meta[_0x3b35dd(0x3bf)][_0x116f1e[_0x3b35dd(0x2b6)]]=0x1,meta[_0x3b35dd(0x3bf)]['signatures:disableImages']=0x1;const _0x5e1ad4={'signature':_0x116f1e[_0x3b35dd(0x21c)]};posts[_0x3b35dd(0x235)](_0x5e1ad4,0x1,(_0x375545,_0x4a8961)=>{const _0x3212dd=_0x3b35dd,_0x20aaea=_0x25195f[_0x3212dd(0x2ac)][_0x3212dd(0x20a)]('|');let _0x2e42bd=0x0;while(!![]){switch(_0x20aaea[_0x2e42bd++]){case'0':assert['ifError'](_0x375545);continue;case'1':meta[_0x3212dd(0x3bf)][_0x3212dd(0x15c)]=0x0;continue;case'2':assert[_0x3212dd(0xea)](_0x4a8961[_0x3212dd(0x1f8)][_0x3212dd(0x1f6)],_0x25195f[_0x3212dd(0x195)]);continue;case'3':_0x4c59f9();continue;case'4':meta['config'][_0x25195f[_0x3212dd(0x110)]]=0x0;continue;}break;}});}),it(_0x1f1b1e[_0xf5b606(0x7b)],_0x250b9d=>{const _0x481af4=_0xf5b606,_0x216f36=require(_0x1f1b1e['TOYNb']),_0x418e5a=_0x481af4(0x2b1),_0x3a2429=posts[_0x481af4(0xec)](_0x418e5a,posts[_0x481af4(0x83)]);assert[_0x481af4(0xea)](_0x3a2429,_0x481af4(0x25d)+_0x216f36[_0x481af4(0xf9)](_0x1f1b1e['nnVpL'])+_0x481af4(0x361)),_0x1f1b1e['DsPUs'](_0x250b9d);}),_0x1f1b1e['XioRT'](it,_0xf5b606(0x90),_0x59ebf8=>{const _0x3e7ddd=_0xf5b606,_0x3d99a4=require(_0x3e7ddd(0x1c7)),_0x129735=_0x3e7ddd(0x138);let _0x441f50=posts[_0x3e7ddd(0xec)](_0x129735,posts[_0x3e7ddd(0x83)]);_0x441f50=posts[_0x3e7ddd(0xec)](_0x441f50,posts['imgRegex']),assert[_0x3e7ddd(0xea)](_0x441f50,_0x3e7ddd(0x25d)+_0x3d99a4[_0x3e7ddd(0xf9)](_0x1f1b1e['nnVpL'])+_0x3e7ddd(0x14d)+_0x3d99a4[_0x3e7ddd(0xf9)]('base_url')+_0x3e7ddd(0x221)),_0x1f1b1e[_0x3e7ddd(0x240)](_0x59ebf8);});}),describe(_0x1bb613(0x330),()=>{const _0x96dbc3=_0x1bb613,_0x3850dd={'TTZzB':function(_0x1f1ae7,_0x186458){return _0x1f1ae7!==_0x186458;},'OtBOU':_0x96dbc3(0x381),'ATeUo':function(_0x500c60){return _0x1f1b1e['uLNqY'](_0x500c60);},'hfypP':_0x96dbc3(0x371),'PGNQh':_0x1f1b1e[_0x96dbc3(0x193)],'FVKtV':function(_0x3d7bb3){return _0x3d7bb3();},'rMxgQ':_0x1f1b1e[_0x96dbc3(0x2dd)],'Ulvri':function(_0x31ae03,_0x2401fa){return _0x31ae03!==_0x2401fa;},'MgTIF':_0x96dbc3(0x1de),'zbtQK':function(_0x327c64){return _0x327c64();},'wvuyS':'wut.txt','UnbRE':_0x1f1b1e['YJayf']};let _0x2ae337;before(_0xbc3d22=>{const _0x251be5=_0x96dbc3,_0x475885={'PnFWS':_0x251be5(0x1db)};_0x3850dd[_0x251be5(0x16f)](_0x251be5(0x3f6),'icGce')?(_0x474c4d[_0x251be5(0xea)](_0x3af6e7['message'],_0x475885[_0x251be5(0xbd)]),_0x13d837()):topics[_0x251be5(0x37d)]({'uid':_0x14aac8,'tid':_0x538c80[_0x251be5(0x2fb)],'timestamp':Date['now'](),'content':'raw\x20content'},(_0x1c2cbd,_0x18c003)=>{const _0x1e2c96=_0x251be5;assert[_0x1e2c96(0x3e6)](_0x1c2cbd),_0x2ae337=_0x18c003[_0x1e2c96(0x119)],privileges[_0x1e2c96(0x3ae)][_0x1e2c96(0x11f)](['groups:topics:read'],_0x507c08,_0x1e2c96(0x158),_0xbc3d22);});}),_0x1f1b1e[_0x96dbc3(0x152)](it,_0x96dbc3(0x84),_0x555a97=>{const _0x1a33d1=_0x96dbc3,_0x403814={'Nysss':_0x1a33d1(0x381)};socketPosts[_0x1a33d1(0x37d)]({'uid':0x0},null,_0xeffe83=>{const _0x54b4c1=_0x1a33d1;assert[_0x54b4c1(0xea)](_0xeffe83['message'],_0x403814[_0x54b4c1(0x316)]),_0x555a97();});}),_0x1f1b1e[_0x96dbc3(0x3c9)](it,_0x1f1b1e[_0x96dbc3(0x75)],_0x4924c1=>{const _0xbf0563=_0x96dbc3,_0x138160={'cDHAJ':_0x3850dd[_0xbf0563(0x17b)],'RDVqe':function(_0x3848ac){const _0x21f43f=_0xbf0563;return _0x3850dd[_0x21f43f(0x3b2)](_0x3848ac);}};_0xbf0563(0x3c5)!==_0x3850dd[_0xbf0563(0x329)]?socketPosts['reply']({'uid':0x0},{'tid':0x0,'content':_0xbf0563(0xae)},_0x3e5d71=>{const _0x210480=_0xbf0563;assert[_0x210480(0xea)](_0x3e5d71[_0x210480(0x19c)],_0x138160[_0x210480(0x31d)]),_0x4924c1();}):(_0xcc2fa['equal'](_0x2e6ccd['message'],_0xbf0563(0xd3)),_0x138160[_0xbf0563(0x250)](_0x3086f5));}),_0x1f1b1e[_0x96dbc3(0x282)](it,_0x1f1b1e[_0x96dbc3(0x33f)],_0x3e9233=>{const _0x51b5b9=_0x96dbc3;socketPosts[_0x51b5b9(0x27d)]({'uid':0x0},_0x2ae337,_0x3d6111=>{const _0x3505b7=_0x51b5b9;assert[_0x3505b7(0xea)](_0x3d6111[_0x3505b7(0x19c)],_0x3850dd['PGNQh']),_0x3850dd['FVKtV'](_0x3e9233);});}),it(_0x96dbc3(0x281),_0x34f272=>{const _0x387637=_0x96dbc3,_0x457398={'svtCO':_0x1f1b1e['VOXtX'],'XUNtp':function(_0x34361a){return _0x34361a();},'PxmwP':function(_0x477d8a,_0xa6b81a){const _0x263e75=_0x1a8c;return _0x1f1b1e[_0x263e75(0x23e)](_0x477d8a,_0xa6b81a);}};posts[_0x387637(0x3d1)](_0x2ae337,_0x387637(0x3aa),0x1,_0x34647d=>{const _0x54eecc=_0x387637,_0x39042d={'mBBxr':_0x54eecc(0x1db),'vuIfW':function(_0x1d3583){const _0x4864f4=_0x54eecc;return _0x457398[_0x4864f4(0x259)](_0x1d3583);}};_0x457398[_0x54eecc(0x387)]('KgtZA',_0x54eecc(0x2ba))?(assert[_0x54eecc(0x3e6)](_0x34647d),socketPosts[_0x54eecc(0x27d)]({'uid':_0x14aac8},_0x2ae337,_0x30de7d=>{const _0x45edcf=_0x54eecc;assert['equal'](_0x30de7d['message'],_0x457398[_0x45edcf(0x1fa)]),_0x34f272();})):_0x349077[_0x54eecc(0x3e8)]({'uid':_0x5ba190},{'id':0x1e0f3},_0x46cf62=>{const _0x3312cb=_0x54eecc;_0x5ea9f7[_0x3312cb(0xea)](_0x46cf62[_0x3312cb(0x19c)],_0x39042d['mBBxr']),_0x39042d[_0x3312cb(0x3bb)](_0x4490a4);});});}),it(_0x1f1b1e[_0x96dbc3(0x2e0)],_0x1d8fa0=>{const _0x401012=_0x96dbc3,_0x21efb3={'Sutsu':function(_0x65865b){return _0x1f1b1e['ZquiJ'](_0x65865b);},'wSOgU':_0x401012(0x363),'kydmv':function(_0x3d89eb){const _0x2c743e=_0x401012;return _0x1f1b1e[_0x2c743e(0x271)](_0x3d89eb);}};if(_0x1f1b1e[_0x401012(0x401)]===_0x1f1b1e[_0x401012(0x401)])posts['setPostField'](_0x2ae337,_0x401012(0x3aa),0x0,_0x43c99a=>{const _0x1ab4d5=_0x401012;assert['ifError'](_0x43c99a),socketPosts[_0x1ab4d5(0x27d)]({'uid':_0x14aac8},_0x2ae337,(_0x514148,_0x54a6f9)=>{const _0xabe4cc=_0x1ab4d5;assert[_0xabe4cc(0x3e6)](_0x514148),assert[_0xabe4cc(0xea)](_0x54a6f9,_0xabe4cc(0x34e)),_0x21efb3[_0xabe4cc(0x2b9)](_0x1d8fa0);});});else{const _0x3ec6ce=_0x21efb3['wSOgU'][_0x401012(0x20a)]('|');let _0x5eae2f=0x0;while(!![]){switch(_0x3ec6ce[_0x5eae2f++]){case'0':_0x21efb3[_0x401012(0x334)](_0x2e13b1);continue;case'1':_0x183278['config']['signatures:disableImages']=0x0;continue;case'2':_0x5d9c61['ifError'](_0x2b65e7);continue;case'3':_0x22e00e['equal'](_0x296d97['userData'][_0x401012(0x1f6)],_0x401012(0x3fb));continue;case'4':_0x5644b8['config'][_0x401012(0x15c)]=0x0;continue;}break;}}}),it(_0x1f1b1e['IvwVm'],_0x1098e0=>{const _0x2124c7=_0x96dbc3,_0x3572bf={'fMosQ':function(_0x521777,_0x403e3e){const _0x5c61a5=_0x1a8c;return _0x1f1b1e[_0x5c61a5(0x270)](_0x521777,_0x403e3e);},'vJdpw':function(_0x3282e7){return _0x3282e7();}};socketPosts[_0x2124c7(0x179)]({'uid':_0x14aac8},_0x2ae337,(_0x15322e,_0x572c89)=>{const _0xbcd047=_0x2124c7;assert[_0xbcd047(0x3e6)](_0x15322e),_0x3572bf['fMosQ'](assert,_0x572c89),_0x3572bf[_0xbcd047(0x24c)](_0x1098e0);});}),_0x1f1b1e[_0x96dbc3(0x152)](it,_0x1f1b1e[_0x96dbc3(0x3de)],_0x270471=>{const _0x2e73f9=_0x96dbc3;socketPosts[_0x2e73f9(0x403)]({'uid':_0x14aac8},_0x2ae337,(_0x2398d0,_0x474647)=>{const _0x671b1=_0x2e73f9,_0x6c9976={'sztVC':_0x3850dd[_0x671b1(0x302)],'wzUmh':_0x671b1(0x28d)};_0x3850dd['Ulvri'](_0x671b1(0x3ea),_0x3850dd[_0x671b1(0xa0)])?(assert[_0x671b1(0x3e6)](_0x2398d0),assert[_0x671b1(0xea)](_0x507c08,_0x474647),_0x3850dd['FVKtV'](_0x270471)):(_0x3dd6c5['ifError'](_0x3f8558),_0x4f1c79[_0x671b1(0xea)](_0x4b3323[_0x671b1(0x27c)],_0x6c9976[_0x671b1(0x124)]),_0x1ce520['equal'](_0xf5e7b0[_0x671b1(0x2e2)],_0xfa5dec),_0x47c1aa[_0x671b1(0xea)](_0x120d87[_0x671b1(0x181)][_0x671b1(0x200)],_0x6c9976[_0x671b1(0x232)]),_0x23d3de[_0x671b1(0xea)](_0x258367[_0x671b1(0x181)][_0x671b1(0x3a5)][0x0][_0x671b1(0x349)],_0x671b1(0x3aa)),_0x130157());});}),it('should\x20error\x20with\x20invalid\x20data',_0x4f9160=>{const _0x44b36b=_0x96dbc3;socketPosts[_0x44b36b(0x23d)]({'uid':_0x14aac8},null,_0x2b196a=>{const _0x104d1f=_0x44b36b;assert['equal'](_0x2b196a['message'],_0x104d1f(0x381)),_0x4f9160();});}),it('should\x20get\x20pid\x20index',_0x455e54=>{const _0xc30fda=_0x96dbc3;if(_0xc30fda(0x1a6)===_0xc30fda(0x1a6))socketPosts['getPidIndex']({'uid':_0x14aac8},{'pid':_0x2ae337,'tid':_0x538c80[_0xc30fda(0x2fb)],'topicPostSort':_0xc30fda(0x3a3)},(_0x35e673,_0x46a004)=>{const _0x29ed38=_0xc30fda;assert[_0x29ed38(0x3e6)](_0x35e673),assert[_0x29ed38(0xea)](_0x46a004,0x4),_0x455e54();});else{const _0x5c1f9c=_0xc30fda(0x38a)['split']('|');let _0x5c017f=0x0;while(!![]){switch(_0x5c1f9c[_0x5c017f++]){case'0':_0x166432['ifError'](_0x190d1d);continue;case'1':_0x3850dd['zbtQK'](_0x1f9c9a);continue;case'2':_0x210d0c['strictEqual'](!![],_0x1b0e4e['includes'](_0xc30fda(0x102)));continue;case'3':_0x372845[_0xc30fda(0x1c6)](!![],_0x343ca5[_0xc30fda(0x3f8)](_0x3850dd[_0xc30fda(0xb5)]));continue;case'4':_0x1e2c6f[_0xc30fda(0x1c6)](0x4,_0x481e0c['length']);continue;}break;}}}),it(_0x1f1b1e[_0x96dbc3(0x33d)],_0x319710=>{const _0x4bf772=_0x96dbc3,_0x2bfaeb={'HccwP':_0x4bf772(0x323)};topics[_0x4bf772(0x37d)]({'uid':_0x14aac8,'tid':_0x538c80[_0x4bf772(0x2fb)],'content':_0x3850dd[_0x4bf772(0x402)]},(_0x5e9885,_0x1a3395)=>{const _0x152e7d=_0x4bf772;assert['ifError'](_0x5e9885),socketPosts[_0x152e7d(0x23d)]({'uid':_0x14aac8},{'pid':_0x1a3395[_0x152e7d(0x119)],'tid':_0x538c80['tid'],'topicPostSort':_0x2bfaeb[_0x152e7d(0x128)]},(_0x24dac2,_0x386fd3)=>{const _0x31314a=_0x152e7d;assert[_0x31314a(0x3e6)](_0x24dac2),assert[_0x31314a(0xea)](_0x386fd3,0x1),_0x319710();});});});}),_0x1f1b1e[_0x1bb613(0x8f)](describe,_0x1f1b1e['DCKBn'],()=>{const _0x5d05b1=_0x1bb613,_0x2eb013={'qqBGA':function(_0x43ece8){const _0x48cad1=_0x1a8c;return _0x1f1b1e[_0x48cad1(0x271)](_0x43ece8);},'mTtmP':function(_0x10f7f6){return _0x10f7f6();}};_0x1f1b1e[_0x5d05b1(0x3c9)](it,_0x1f1b1e['ikMXB'],_0x575654=>{const _0x5c1751=_0x5d05b1;posts[_0x5c1751(0x3e0)]([0x1,0x2,0x3],null,(_0x283eba,_0x38bca2)=>{const _0x63c1df=_0x5c1751;assert[_0x63c1df(0x3e6)](_0x283eba),assert[_0x63c1df(0x160)]([0x1,0x2,0x3],_0x38bca2),_0x575654();});}),it(_0x5d05b1(0x85),_0x39594f=>{const _0x228caf=_0x5d05b1;posts[_0x228caf(0x3e0)]([_0x523fca[_0x228caf(0x119)],0x64,0x65],_0x507c08,(_0x6f78ee,_0x494f57)=>{const _0x56c472=_0x228caf;assert['ifError'](_0x6f78ee),assert[_0x56c472(0x160)]([_0x523fca['pid']],_0x494f57),_0x39594f();});}),_0x1f1b1e['FlHhs'](it,_0x1f1b1e[_0x5d05b1(0x29b)],_0x56a47d=>{const _0x102b26=_0x5d05b1;posts[_0x102b26(0x3e0)]([_0x523fca[_0x102b26(0x119)],0x64,0x65],[_0x507c08,0x2,0x3],(_0x10e117,_0x1e85db)=>{const _0x421c57=_0x102b26;assert[_0x421c57(0x3e6)](_0x10e117),assert['deepEqual']([_0x523fca[_0x421c57(0x119)]],_0x1e85db),_0x2eb013[_0x421c57(0x39d)](_0x56a47d);});}),_0x1f1b1e['cRQbC'](it,_0x5d05b1(0x223),_0x42172b=>{const _0x3ae333=_0x5d05b1;posts[_0x3ae333(0x3e0)]([_0x523fca[_0x3ae333(0x119)],0x64,0x65],[_0x507c08],(_0x43d9a0,_0xd29da1)=>{const _0x3b1f09=_0x3ae333;assert[_0x3b1f09(0x3e6)](_0x43d9a0),assert[_0x3b1f09(0x160)]([_0x523fca[_0x3b1f09(0x119)]],_0xd29da1),_0x2eb013['mTtmP'](_0x42172b);});});}),_0x1f1b1e['EscBz'](it,_0x1f1b1e[_0x1bb613(0x1af)],_0x454769=>{const _0x133aa8=_0x1bb613,_0xfe07a2={'jzYXX':_0x1f1b1e[_0x133aa8(0x1c4)],'bATgg':function(_0x1d0eb0){return _0x1f1b1e['uLNqY'](_0x1d0eb0);}};user[_0x133aa8(0x2a4)](0x1425033,0x1,_0x1b2d73=>{const _0x33d743=_0x133aa8;assert[_0x33d743(0xea)](_0x1b2d73['message'],_0xfe07a2[_0x33d743(0x18d)]),_0xfe07a2[_0x33d743(0xee)](_0x454769);});}),_0x1f1b1e[_0x1bb613(0x2e9)](describe,_0x1bb613(0x362),()=>{const _0x7b66d=_0x1bb613,_0x1be141={'jvBwP':function(_0x364541){const _0x595508=_0x1a8c;return _0x1f1b1e[_0x595508(0x3b8)](_0x364541);},'YNmJC':'IHVgH','lNpCx':function(_0x4b1892){const _0x124c45=_0x1a8c;return _0x1f1b1e[_0x124c45(0x1f1)](_0x4b1892);},'EFtTD':function(_0x566483){return _0x566483();},'CGvXh':_0x1f1b1e[_0x7b66d(0x3dc)],'EDiuR':_0x1f1b1e[_0x7b66d(0xd9)],'bphvD':function(_0x117866){return _0x117866();},'NeUvh':function(_0x58cb2e,_0x4c9f23,_0x4628ff,_0x1221f6){return _0x58cb2e(_0x4c9f23,_0x4628ff,_0x1221f6);},'XVGaS':_0x1f1b1e[_0x7b66d(0x11e)],'MtjQK':_0x1f1b1e['fNzRz'],'SPYaf':_0x1f1b1e[_0x7b66d(0xd1)]};let _0x21a2d7,_0x5245d3,_0x52b435,_0x479288;_0x1f1b1e[_0x7b66d(0x270)](before,_0x11fb4c=>{const _0x4ff0c8=_0x7b66d,_0x12d417={'kXxaT':'[[error:invalid-data]]'};_0x1be141[_0x4ff0c8(0xcf)]==='IwVPJ'?(_0x39d9b0[_0x4ff0c8(0xea)](_0x2c28c8[_0x4ff0c8(0x19c)],_0x12d417[_0x4ff0c8(0x222)]),_0x333772()):(meta[_0x4ff0c8(0x3bf)][_0x4ff0c8(0x10a)]=0x1,user[_0x4ff0c8(0x1b8)]({'username':_0x4ff0c8(0x3be)},(_0x2e33e6,_0x5544d7)=>{const _0x4be350=_0x4ff0c8;assert[_0x4be350(0x3e6)](_0x2e33e6),_0x21a2d7=_0x5544d7,_0x1be141[_0x4be350(0x1ee)](_0x11fb4c);}));}),after(_0x13ea5b=>{const _0x53316a=_0x7b66d;meta[_0x53316a(0x3bf)][_0x53316a(0x10a)]=0x0,meta[_0x53316a(0x3bf)][_0x53316a(0x2a6)]=[],_0x1f1b1e[_0x53316a(0x356)](_0x13ea5b);}),_0x1f1b1e[_0x7b66d(0x282)](it,_0x7b66d(0xde),_0x21fe21=>{const _0x3237cc=_0x7b66d;socketTopics[_0x3237cc(0xbb)]({'uid':_0x21a2d7},{'title':_0x1f1b1e['YmCBX'],'content':'queued\x20topic\x20content','cid':_0x507c08},(_0x2feda1,_0x359b3b)=>{const _0x429c37=_0x3237cc;assert['ifError'](_0x2feda1),assert['strictEqual'](_0x359b3b[_0x429c37(0xca)],!![]),assert[_0x429c37(0xea)](_0x359b3b[_0x429c37(0x19c)],'[[success:post-queued]]'),_0x52b435=_0x359b3b['id'],_0x1be141['lNpCx'](_0x21fe21);});}),it('should\x20add\x20reply\x20to\x20post\x20queue',_0x5d7530=>{const _0x5321ce=_0x7b66d;socketPosts['reply']({'uid':_0x21a2d7},{'content':_0x1f1b1e['emmwt'],'tid':_0x538c80[_0x5321ce(0x2fb)]},(_0x229bb5,_0x27df91)=>{const _0x41f4ac=_0x5321ce;assert[_0x41f4ac(0x3e6)](_0x229bb5),assert[_0x41f4ac(0x1c6)](_0x27df91[_0x41f4ac(0xca)],!![]),assert[_0x41f4ac(0xea)](_0x27df91[_0x41f4ac(0x19c)],_0x41f4ac(0x97)),_0x5245d3=_0x27df91['id'],_0x1be141[_0x41f4ac(0x1ee)](_0x5d7530);});}),_0x1f1b1e[_0x7b66d(0x212)](it,_0x1f1b1e[_0x7b66d(0x303)],_0x2b07d6=>{const _0x43642b=_0x7b66d,_0x75e5e1={'qNZLO':_0x1f1b1e[_0x43642b(0x2fc)],'Osxgh':_0x43642b(0xe7),'pDQwU':function(_0x134c01){return _0x134c01();},'AMEFt':function(_0x438e26,_0x32f3fa,_0x127c64,_0x115598){return _0x438e26(_0x32f3fa,_0x127c64,_0x115598);}};helpers[_0x43642b(0x372)]('globalmod',_0x43642b(0xf0),(_0x1662e7,_0x361212)=>{const _0x45eae7=_0x43642b;_0x479288=_0x361212,assert[_0x45eae7(0x3e6)](_0x1662e7),_0x75e5e1[_0x45eae7(0x35b)](request,nconf[_0x45eae7(0xf9)](_0x45eae7(0x3c0))+_0x45eae7(0x321),{'jar':_0x479288,'json':!![]},(_0x28976f,_0x360b8c,_0x11189c)=>{const _0x50fbcc=_0x45eae7,_0x523507=_0x50fbcc(0x28f)[_0x50fbcc(0x20a)]('|');let _0x4f53ee=0x0;while(!![]){switch(_0x523507[_0x4f53ee++]){case'0':assert[_0x50fbcc(0xea)](_0x11189c[_0x50fbcc(0x1a1)][0x1]['type'],_0x50fbcc(0x37d));continue;case'1':assert[_0x50fbcc(0xea)](_0x11189c['posts'][0x0]['type'],_0x75e5e1['qNZLO']);continue;case'2':assert[_0x50fbcc(0xea)](_0x11189c[_0x50fbcc(0x1a1)][0x0]['data'][_0x50fbcc(0x27c)],_0x75e5e1['Osxgh']);continue;case'3':_0x75e5e1[_0x50fbcc(0x1ea)](_0x2b07d6);continue;case'4':assert[_0x50fbcc(0x3e6)](_0x28976f);continue;case'5':assert['equal'](_0x11189c[_0x50fbcc(0x1a1)][0x1][_0x50fbcc(0xe9)]['content'],_0x50fbcc(0x2b4));continue;}break;}});});}),it(_0x7b66d(0x244),_0x1b7900=>{const _0x3aac17=_0x7b66d;socketPosts[_0x3aac17(0x185)]({'uid':_0x5be7a8},null,_0x3b37d8=>{const _0x47110f=_0x3aac17;assert['equal'](_0x3b37d8[_0x47110f(0x19c)],_0x47110f(0x381)),_0x1be141[_0x47110f(0x25a)](_0x1b7900);});}),it(_0x1f1b1e[_0x7b66d(0x3f3)],_0x383e58=>{const _0x519698=_0x7b66d,_0x133910={'Cqgyu':_0x1be141[_0x519698(0x255)]};socketPosts[_0x519698(0x185)]({'uid':_0x5be7a8},{'id':_0x5245d3,'content':_0x1be141[_0x519698(0x108)]},_0x298628=>{const _0x1ebbf7=_0x519698,_0x1e1260={'BEedD':function(_0x2eec5b){return _0x2eec5b();}};assert[_0x1ebbf7(0x3e6)](_0x298628),request(nconf[_0x1ebbf7(0xf9)](_0x133910[_0x1ebbf7(0x256)])+_0x1ebbf7(0x321),{'jar':_0x479288,'json':!![]},(_0x231d65,_0x3dffee,_0x49627f)=>{const _0x532d5c=_0x1ebbf7;assert[_0x532d5c(0x3e6)](_0x231d65),assert[_0x532d5c(0xea)](_0x49627f[_0x532d5c(0x1a1)][0x1][_0x532d5c(0x285)],_0x532d5c(0x37d)),assert[_0x532d5c(0xea)](_0x49627f[_0x532d5c(0x1a1)][0x1][_0x532d5c(0xe9)]['content'],'newContent'),_0x1e1260[_0x532d5c(0x3ad)](_0x383e58);});});}),it('should\x20edit\x20topic\x20title\x20in\x20queue',_0x2a6522=>{const _0x502f9a=_0x7b66d,_0x50bcf0={'cozdQ':function(_0x46b3cf){return _0x46b3cf();}};socketPosts[_0x502f9a(0x185)]({'uid':_0x5be7a8},{'id':_0x52b435,'title':_0x502f9a(0x17c)},_0x183dbd=>{const _0x3a6019=_0x502f9a;assert[_0x3a6019(0x3e6)](_0x183dbd),request(nconf[_0x3a6019(0xf9)](_0x3a6019(0x3c0))+_0x3a6019(0x321),{'jar':_0x479288,'json':!![]},(_0x402025,_0x1e7892,_0x3e796f)=>{const _0x5e4b69=_0x3a6019;assert[_0x5e4b69(0x3e6)](_0x402025),assert['equal'](_0x3e796f[_0x5e4b69(0x1a1)][0x0][_0x5e4b69(0x285)],'topic'),assert[_0x5e4b69(0xea)](_0x3e796f[_0x5e4b69(0x1a1)][0x0][_0x5e4b69(0xe9)]['title'],_0x5e4b69(0x17c)),_0x50bcf0[_0x5e4b69(0x120)](_0x2a6522);});});}),it(_0x7b66d(0x1b4),_0x5190eb=>{const _0x2a1e39=_0x7b66d,_0x41c221={'uTZEE':function(_0x126e10){return _0x126e10();}};_0x1f1b1e['jBADb']!==_0x2a1e39(0x245)?_0x137322[_0x2a1e39(0x403)]({'uid':_0x47c938},_0x45837a,(_0x3212cf,_0x1a89f2)=>{const _0x4e4749=_0x2a1e39;_0x1a9cbd[_0x4e4749(0x3e6)](_0x3212cf),_0x79e616[_0x4e4749(0xea)](_0x2600dc,_0x1a89f2),_0x41c221['uTZEE'](_0x56eb89);}):socketPosts[_0x2a1e39(0x185)]({'uid':_0x5be7a8},{'id':_0x52b435,'cid':0x2},_0xae2bad=>{const _0x1edfef=_0x2a1e39,_0x21fa71={'ueaEI':function(_0x50902e){return _0x1be141['bphvD'](_0x50902e);}};assert[_0x1edfef(0x3e6)](_0xae2bad),_0x1be141[_0x1edfef(0x391)](request,nconf[_0x1edfef(0xf9)]('url')+_0x1edfef(0x321),{'jar':_0x479288,'json':!![]},(_0xc55d81,_0x492053,_0x4382b2)=>{const _0x246183=_0x1edfef;assert[_0x246183(0x3e6)](_0xc55d81),assert['equal'](_0x4382b2[_0x246183(0x1a1)][0x0][_0x246183(0x285)],_0x246183(0x181)),assert[_0x246183(0xea)](_0x4382b2[_0x246183(0x1a1)][0x0][_0x246183(0xe9)][_0x246183(0x2c7)],0x2),socketPosts[_0x246183(0x185)]({'uid':_0x5be7a8},{'id':_0x52b435,'cid':_0x507c08},_0x1bf6dd=>{const _0x341984=_0x246183;assert[_0x341984(0x3e6)](_0x1bf6dd),_0x21fa71[_0x341984(0x2e7)](_0x5190eb);});});});}),_0x1f1b1e['CgBxD'](it,_0x1f1b1e[_0x7b66d(0x3ab)],_0x3dd310=>{socketPosts['accept']({'uid':_0x21a2d7},{'id':_0x5245d3},_0x1f49fc=>{const _0x397583=_0x1a8c;assert[_0x397583(0xea)](_0x1f49fc['message'],_0x397583(0x1db)),_0x3dd310();});}),it(_0x1f1b1e['keFPM'],_0x5a3394=>{const _0x2e172d=_0x7b66d,_0x108084={'IVdZw':_0x1f1b1e['miwEN'],'AxODg':function(_0x375402){const _0x14dabc=_0x1a8c;return _0x1f1b1e[_0x14dabc(0x1c9)](_0x375402);}};socketPosts[_0x2e172d(0x3e8)]({'uid':_0x21a2d7},{'id':0x1e0f3},_0x2be91a=>{const _0x4175ee=_0x2e172d;assert['equal'](_0x2be91a['message'],_0x108084[_0x4175ee(0x149)]),_0x108084['AxODg'](_0x5a3394);});}),it(_0x1f1b1e[_0x7b66d(0x87)],_0x331220=>{const _0x531170=_0x7b66d,_0x4810e2={'ITiWk':_0x1be141[_0x531170(0x219)]};let _0x10571f;async[_0x531170(0xb6)]([function(_0x3179ec){const _0x1a7a95=_0x531170,_0x18e12b={'MZDqt':'[[error:no-post]]','deSNe':function(_0x6e27a8){return _0x6e27a8();}};_0x4810e2['ITiWk']===_0x4810e2['ITiWk']?db[_0x1a7a95(0x331)](_0x1a7a95(0x18f),0x0,-0x1,_0x3179ec):(_0x3e8158[_0x1a7a95(0x3e6)](_0xde6336),_0x306086[_0x1a7a95(0x27d)]({'uid':_0x45af33},_0x25f2b1,_0x49c587=>{const _0x453a9c=_0x1a7a95;_0x133c28[_0x453a9c(0xea)](_0x49c587[_0x453a9c(0x19c)],_0x18e12b['MZDqt']),_0x18e12b[_0x453a9c(0x1cc)](_0x2e03ea);}));},function(_0x370a8e,_0x121207){_0x10571f=_0x370a8e,socketPosts['accept']({'uid':_0x5be7a8},{'id':_0x10571f[0x0]},_0x121207);},function(_0x5b01da){const _0x80e4b2=_0x531170;socketPosts[_0x80e4b2(0x3e8)]({'uid':_0x5be7a8},{'id':_0x10571f[0x1]},_0x5b01da);}],_0x331220);}),it('should\x20not\x20crash\x20if\x20id\x20does\x20not\x20exist',_0x473bed=>{const _0x11e7f9=_0x7b66d,_0x1a38d5={'sGIdA':_0x1f1b1e[_0x11e7f9(0x13c)],'hKPNt':function(_0x3c4dcf){return _0x3c4dcf();}};_0x1f1b1e[_0x11e7f9(0x25b)](_0x1f1b1e['jSoxQ'],_0x1f1b1e[_0x11e7f9(0x1a2)])?(_0xe1442b[_0x11e7f9(0xea)](_0x5141ee[_0x11e7f9(0x19c)],_0x1a38d5[_0x11e7f9(0x1fd)]),_0x3d93c4['config']['newbiePostEditDuration']=0xe10,_0x4250e8()):socketPosts['reject']({'uid':_0x5be7a8},{'id':_0x1f1b1e['ycTnS']},_0x569a00=>{const _0x312bbc=_0x11e7f9;assert[_0x312bbc(0xea)](_0x569a00[_0x312bbc(0x19c)],_0x312bbc(0x1db)),_0x1a38d5[_0x312bbc(0x2f4)](_0x473bed);});}),_0x1f1b1e[_0x7b66d(0x282)](it,_0x1f1b1e[_0x7b66d(0x2a8)],async()=>{const _0x5db9eb=_0x7b66d,_0x7c7986=meta[_0x5db9eb(0x3bf)][_0x5db9eb(0x2a6)];meta[_0x5db9eb(0x3bf)][_0x5db9eb(0x2a6)]=[_0x5db9eb(0x1b0)];const _0x2ed6da=await user[_0x5db9eb(0x1b8)]({'username':_0x1be141['MtjQK']}),_0x18d71d=await socketTopics[_0x5db9eb(0xbb)]({'uid':_0x2ed6da,'emit':()=>{}},{'title':_0x5db9eb(0x1bd),'content':_0x1be141[_0x5db9eb(0x27b)],'cid':_0x507c08});assert[_0x5db9eb(0x1c6)](_0x18d71d[_0x5db9eb(0x200)],_0x5db9eb(0x1bd)),meta[_0x5db9eb(0x3bf)][_0x5db9eb(0x2a6)]=_0x7c7986;}),_0x1f1b1e[_0x7b66d(0x238)](it,_0x1f1b1e[_0x7b66d(0x113)],async()=>{const _0x1da29e=_0x7b66d,_0x339aa8=await user[_0x1da29e(0x1b8)]({'username':_0x1f1b1e[_0x1da29e(0x14b)]}),_0x459416=await socketTopics[_0x1da29e(0xbb)]({'uid':_0x5be7a8},{'title':_0x1f1b1e[_0x1da29e(0x3c3)],'content':_0x1f1b1e[_0x1da29e(0xcd)],'cid':_0x507c08}),_0x20251f=await socketTopics[_0x1da29e(0xbb)]({'uid':_0x5be7a8},{'title':_0x1f1b1e[_0x1da29e(0x2a2)],'content':_0x1da29e(0x1f4),'cid':_0x507c08}),_0x14705e=await socketPosts[_0x1da29e(0x37d)]({'uid':_0x339aa8},{'content':_0x1f1b1e[_0x1da29e(0x3da)],'tid':_0x459416[_0x1da29e(0x2fb)]});await topics['merge']([_0x459416['tid'],_0x20251f['tid']],_0x5be7a8,{'mainTid':_0x20251f[_0x1da29e(0x2fb)]});let _0x41b380=await posts['getQueuedPosts']();_0x41b380=_0x41b380[_0x1da29e(0x1a0)](_0x29d81c=>parseInt(_0x29d81c[_0x1da29e(0xe9)]['tid'],0xa)===parseInt(_0x20251f['tid'],0xa)),assert[_0x1da29e(0x1c6)](_0x41b380['length'],0x1),assert['strictEqual'](_0x41b380[0x0][_0x1da29e(0xe9)][_0x1da29e(0x27c)],_0x1da29e(0x3e9)),assert[_0x1da29e(0x1c6)](_0x41b380[0x0][_0x1da29e(0xe9)]['tid'],_0x20251f[_0x1da29e(0x2fb)]);});}),_0x1f1b1e[_0x1bb613(0x3c9)](describe,_0x1f1b1e['PAnup'],()=>{const _0x5cfbf9=_0x1bb613,_0x59d480={'ngOhn':_0x1f1b1e['AGzcf'],'dMzgJ':_0x1f1b1e[_0x5cfbf9(0x1ce)],'zDRDT':_0x1f1b1e[_0x5cfbf9(0x27f)],'fjwHY':function(_0x2b9a74,_0x52688d){return _0x1f1b1e['CZdgw'](_0x2b9a74,_0x52688d);},'PGNGB':'NOfpu','zGfmn':_0x5cfbf9(0x397),'lrRCO':function(_0x4e8772,_0x29aaa3,_0x34b717){const _0x5aea09=_0x5cfbf9;return _0x1f1b1e[_0x5aea09(0x305)](_0x4e8772,_0x29aaa3,_0x34b717);},'xAlnv':function(_0x3c9a2e){return _0x3c9a2e();},'bGInS':_0x5cfbf9(0x2c3),'baggU':_0x1f1b1e['anFxR'],'GXSSO':function(_0x577456,_0x580301,_0x3f0b7f){return _0x577456(_0x580301,_0x3f0b7f);},'NahzS':function(_0x395a10,_0xbc41b1){const _0x50d4ea=_0x5cfbf9;return _0x1f1b1e[_0x50d4ea(0x23e)](_0x395a10,_0xbc41b1);},'MMYms':_0x5cfbf9(0x40c),'rBizY':_0x1f1b1e['yHBRg'],'yggaJ':function(_0x61b2a3,_0x36603e,_0x304734){return _0x61b2a3(_0x36603e,_0x304734);},'wPKOa':_0x5cfbf9(0x1a9),'qmsLi':function(_0x5031f){return _0x5031f();},'zqNYj':_0x1f1b1e[_0x5cfbf9(0x2d8)],'lBtan':function(_0xd7398f,_0xf43b7e){const _0x4a1e98=_0x5cfbf9;return _0x1f1b1e[_0x4a1e98(0x116)](_0xd7398f,_0xf43b7e);},'HOygX':_0x1f1b1e[_0x5cfbf9(0x379)],'QrPBf':function(_0x2de538,_0x4b607f){return _0x2de538===_0x4b607f;},'jcLrN':_0x5cfbf9(0x380),'WoZmY':_0x5cfbf9(0x1ab),'mAqVB':_0x5cfbf9(0xfc),'EATvV':_0x5cfbf9(0x304),'fQiMF':'registered-users','TllmR':_0x5cfbf9(0xe0),'ymzLW':_0x1f1b1e['pOuWP']};let _0x23cfe6,_0x353105;before(async()=>{const _0x55e1ee=_0x5cfbf9;[_0x59d480[_0x55e1ee(0x170)],_0x55e1ee(0x217),_0x55e1ee(0xfc),_0x59d480[_0x55e1ee(0x176)],_0x59d480[_0x55e1ee(0x266)],'test.bmp'][_0x55e1ee(0x260)](_0x1ef8f5=>fs[_0x55e1ee(0x1fc)](fs[_0x55e1ee(0x101)](path[_0x55e1ee(0x171)](nconf['get'](_0x55e1ee(0x1d6)),_0x55e1ee(0x92),_0x1ef8f5),'w')));const _0x35963f=await topics[_0x55e1ee(0xbb)]({'uid':0x1,'cid':0x1,'title':_0x55e1ee(0x143),'content':_0x55e1ee(0x242)});_0x23cfe6=_0x35963f['postData']['pid'];const _0x12cb36=await topics[_0x55e1ee(0xbb)]({'uid':0x1,'cid':0x1,'title':_0x55e1ee(0x19d),'content':_0x55e1ee(0x11a)});_0x353105=_0x12cb36['postData']['pid'];}),describe(_0x1f1b1e['HwLGd'],()=>{const _0x5cf2d8=_0x5cfbf9,_0x51652f={'eHSGd':function(_0x1ac3b9,_0x1c9d78,_0x2e5235){const _0xd9e2af=_0x1a8c;return _0x59d480[_0xd9e2af(0x37c)](_0x1ac3b9,_0x1c9d78,_0x2e5235);},'pinvc':function(_0x4bea73){const _0xb62d1a=_0x1a8c;return _0x59d480[_0xb62d1a(0x9e)](_0x4bea73);},'vjaMA':_0x59d480[_0x5cf2d8(0x2f9)]};_0x59d480[_0x5cf2d8(0x150)]!==_0x59d480[_0x5cf2d8(0x150)]?(_0x4b4150['ifError'](_0x2f2d9a),_0x51652f['eHSGd'](_0x5ae9cf,_0x4d962b,_0x2d0234)):(it(_0x5cf2d8(0x2b0),_0x348cb8=>{const _0x388ee6=_0x5cf2d8;_0x59d480['fjwHY'](_0x59d480['PGNGB'],_0x388ee6(0x24b))?posts['uploads'][_0x388ee6(0x21a)](_0x23cfe6,_0x538103=>{const _0x36c03c=_0x388ee6,_0xe9a384={'shfUc':function(_0x4435f9){return _0x4435f9();}};assert[_0x36c03c(0x3e6)](_0x538103),db[_0x36c03c(0x12d)](_0x36c03c(0x8a)+_0x23cfe6+_0x36c03c(0x337),(_0x52b989,_0x53ce13)=>{const _0x25750c=_0x36c03c;assert[_0x25750c(0x3e6)](_0x52b989),assert[_0x25750c(0x1c6)](_0x53ce13,0x2),_0xe9a384[_0x25750c(0x1d0)](_0x348cb8);});}):(_0x53a995[_0x388ee6(0x3e6)](_0x5e79ae),_0xe3d0b0[_0x388ee6(0x1c6)](_0xc61524,0x1),_0x44bf10());}),_0x59d480[_0x5cf2d8(0x326)](it,'should\x20remove\x20an\x20image\x20if\x20it\x20is\x20edited\x20out\x20of\x20the\x20post',_0x14ac5a=>{const _0x32ef4d=_0x5cf2d8,_0x3e420b={'uiBTm':_0x32ef4d(0x40f),'RuhcS':_0x59d480[_0x32ef4d(0x35a)],'atmfJ':function(_0x22e12f){return _0x22e12f();}};async[_0x32ef4d(0x366)]([function(_0x4e3ecf){const _0x464f4e=_0x32ef4d,_0x21111a={'vpzrT':function(_0x444f49){const _0x5cff92=_0x1a8c;return _0x51652f[_0x5cff92(0x211)](_0x444f49);}};_0x464f4e(0x3a9)!==_0x464f4e(0x131)?posts[_0x464f4e(0x332)]({'pid':_0x23cfe6,'uid':0x1,'content':_0x51652f[_0x464f4e(0x2cd)]},_0x4e3ecf):_0x5b3c1d[_0x464f4e(0xb6)]([_0x19cb77[_0x464f4e(0x3a4)](_0xfb8de[_0x464f4e(0x327)][_0x464f4e(0x3e7)],_0x316a2a,[_0x464f4e(0x1ab)]),_0x327d41[_0x464f4e(0x3a4)](_0xe61b0c[_0x464f4e(0x327)][_0x464f4e(0x29a)],_0x30c60b)],(_0x3b46eb,_0x71f37d)=>{const _0x12de3c=_0x464f4e;_0xc90941[_0x12de3c(0x3e6)](_0x3b46eb),_0x58c7b0[_0x12de3c(0x1c6)](_0x71f37d[_0x12de3c(0x19e)],0x5),_0x232726['strictEqual'](![],_0x71f37d[_0x12de3c(0x3f8)](_0x12de3c(0x1ab))),_0x21111a[_0x12de3c(0x2b8)](_0x5d34cc);});},async['apply'](posts['uploads']['sync'],_0x23cfe6)],_0x1a6718=>{const _0x2b0c1e=_0x32ef4d,_0x1540ca={'HXuBR':_0x3e420b[_0x2b0c1e(0x2b5)],'favdr':_0x3e420b[_0x2b0c1e(0x2ed)],'dEPnR':function(_0x5e0e88){const _0x48da12=_0x2b0c1e;return _0x3e420b[_0x48da12(0x239)](_0x5e0e88);}};assert[_0x2b0c1e(0x3e6)](_0x1a6718),db[_0x2b0c1e(0x12d)]('post:'+_0x23cfe6+_0x2b0c1e(0x337),(_0x30e551,_0x3b9726)=>{const _0x6320cc=_0x2b0c1e;_0x1540ca[_0x6320cc(0x20b)]!==_0x1540ca[_0x6320cc(0x20b)]?_0x433ae7[_0x6320cc(0x17a)]({'uid':_0x161dc3},{'pid':_0x2ce27b[_0x6320cc(0x119)],'room_id':_0x1540ca[_0x6320cc(0x1e5)]},(_0x243696,_0x4200db)=>{const _0x564cae=_0x6320cc;_0x4527c6[_0x564cae(0x3e6)](_0x243696),_0xd7adf9['equal'](_0x4200db['post']['upvotes'],0x0),_0x14ed7a[_0x564cae(0xea)](_0x4200db[_0x564cae(0xbb)]['downvotes'],0x1),_0x1aeef8[_0x564cae(0xea)](_0x4200db[_0x564cae(0xbb)][_0x564cae(0xd2)],-0x1),_0x361ad0['equal'](_0x4200db[_0x564cae(0x24a)]['reputation'],-0x1),_0x5ef45c[_0x564cae(0x14c)](_0x4ab705[_0x564cae(0x119)],_0xe3c7c7,(_0x33c076,_0x5789b2)=>{const _0x3e4d69=_0x564cae;_0x2ecb67[_0x3e4d69(0x3e6)](_0x33c076),_0x118a32['equal'](_0x5789b2[_0x3e4d69(0x2f2)],![]),_0x215b17['equal'](_0x5789b2['downvoted'],!![]),_0x7a53b1();});}):(assert[_0x6320cc(0x3e6)](_0x30e551),assert[_0x6320cc(0x1c6)](0x1,_0x3b9726),_0x1540ca[_0x6320cc(0x12c)](_0x14ac5a));});});}));}),describe(_0x5cfbf9(0x23f),()=>{const _0x567adf=_0x5cfbf9,_0x3a5f47={'LvBtA':function(_0x48ca99){return _0x48ca99();}};_0x59d480[_0x567adf(0x248)](it,_0x567adf(0x27a),_0x1ee91d=>{const _0x3f683a=_0x567adf;_0x59d480[_0x3f683a(0x258)](_0x59d480[_0x3f683a(0x95)],_0x59d480[_0x3f683a(0x2e4)])?posts[_0x3f683a(0x327)][_0x3f683a(0x29a)](_0x23cfe6,(_0x20d921,_0x304d85)=>{const _0x920de1=_0x3f683a,_0x514f84=_0x920de1(0x1ef)[_0x920de1(0x20a)]('|');let _0x161451=0x0;while(!![]){switch(_0x514f84[_0x161451++]){case'0':assert[_0x920de1(0x1c6)](0x1,_0x304d85[_0x920de1(0x19e)]);continue;case'1':assert[_0x920de1(0x3e6)](_0x20d921);continue;case'2':assert[_0x920de1(0xea)](!![],Array[_0x920de1(0x2b2)](_0x304d85));continue;case'3':assert[_0x920de1(0xea)](_0x920de1(0x3b5),typeof _0x304d85[0x0]);continue;case'4':_0x3a5f47[_0x920de1(0x38b)](_0x1ee91d);continue;}break;}}):_0x370c52[_0x3f683a(0x210)]({'uid':_0x47dc64},{'pid':_0x4844a8,'tid':_0x46586c},_0x62951d=>{const _0x24a5a9=_0x3f683a;_0xebd542[_0x24a5a9(0x3e6)](_0x62951d),_0x1a23b8[_0x24a5a9(0xb2)](_0x2ab5a1,_0x24a5a9(0x2fb),(_0x126716,_0x4e311a)=>{const _0x4d03d7=_0x24a5a9;_0x4215c7[_0x4d03d7(0x3e6)](_0x126716),_0x585b73(_0x4e311a,_0xda4fa9),_0x192920();});});});}),_0x1f1b1e[_0x5cfbf9(0x152)](describe,_0x5cfbf9(0x156),()=>{const _0x2084fb=_0x5cfbf9,_0x2a602c={'vqQOz':function(_0x46fd29){return _0x46fd29();}};_0x59d480['yggaJ'](it,_0x59d480['HOygX'],_0x56de0d=>{const _0x58649b=_0x1a8c,_0x23f2d8={'AaFuQ':_0x59d480[_0x58649b(0x9c)],'jhtuH':function(_0x507ed6){const _0x5f4f06=_0x58649b;return _0x59d480[_0x5f4f06(0x247)](_0x507ed6);},'BVtpx':_0x59d480[_0x58649b(0x3ff)],'VYKVV':function(_0x23fcfb,_0x239ca2){const _0x5d1187=_0x58649b;return _0x59d480[_0x5d1187(0x194)](_0x23fcfb,_0x239ca2);},'pZTdW':_0x58649b(0x2da)};posts[_0x58649b(0x327)][_0x58649b(0xc2)](_0x59d480[_0x58649b(0x170)],(_0x59f5ae,_0x446374)=>{const _0x3651a4=_0x58649b,_0x29df77={'jFVBw':_0x23f2d8[_0x3651a4(0x2e1)],'FETMn':function(_0x511c83){const _0x564c9e=_0x3651a4;return _0x23f2d8[_0x564c9e(0x1cd)](_0x511c83);},'xSrbq':_0x23f2d8['BVtpx']};_0x23f2d8[_0x3651a4(0x318)](_0x23f2d8[_0x3651a4(0x140)],_0x3651a4(0x27e))?(assert[_0x3651a4(0x3e6)](_0x59f5ae),assert[_0x3651a4(0xea)](![],_0x446374),_0x56de0d()):_0x497edd[_0x3651a4(0x332)]({'uid':_0x1dd00f},{'pid':_0x50bfd0,'content':_0x29df77[_0x3651a4(0x1bb)],'title':_0x3651a4(0x198),'tags':[_0x3651a4(0x31c)]},(_0x12b87e,_0x3b80e5)=>{const _0x37d1ee=_0x3651a4;_0x1cbdd2[_0x37d1ee(0xea)](_0x12b87e['message'],_0x29df77[_0x37d1ee(0x37f)]),_0x23a929[_0x37d1ee(0x3bf)][_0x37d1ee(0x29c)]=0xe10,_0x29df77[_0x37d1ee(0x3a6)](_0xae4be);});});}),it(_0x2084fb(0xf1),_0x49950a=>{const _0x431a25=_0x2084fb;posts[_0x431a25(0x327)][_0x431a25(0xc2)](_0x431a25(0x217),(_0x530796,_0x4cf3bc)=>{const _0x4b29d7=_0x431a25;assert[_0x4b29d7(0x3e6)](_0x530796),assert[_0x4b29d7(0xea)](!![],_0x4cf3bc),_0x2a602c[_0x4b29d7(0xc7)](_0x49950a);});});}),describe(_0x5cfbf9(0x34f),()=>{const _0x3d7ca7=_0x5cfbf9,_0x529fa6={'mjhsd':_0x1f1b1e[_0x3d7ca7(0x3a8)],'cHYiL':_0x1f1b1e[_0x3d7ca7(0xbc)]};it(_0x1f1b1e['QgYyW'],_0xf31e63=>{const _0x5e42cc=_0x3d7ca7;async['waterfall']([async[_0x5e42cc(0x3a4)](posts[_0x5e42cc(0x327)][_0x5e42cc(0x3e7)],_0x23cfe6,_0x529fa6['mjhsd']),async[_0x5e42cc(0x3a4)](posts['uploads'][_0x5e42cc(0x29a)],_0x23cfe6)],(_0x560861,_0x33bead)=>{const _0x44df97=_0x5e42cc;assert[_0x44df97(0x3e6)](_0x560861),assert[_0x44df97(0x1c6)](0x2,_0x33bead[_0x44df97(0x19e)]),assert['strictEqual'](!![],_0x33bead[_0x44df97(0x3f8)](_0x44df97(0xfc))),_0xf31e63();});}),it('should\x20allow\x20arrays\x20to\x20be\x20passed\x20in',_0xfef89d=>{const _0x5d5192=_0x3d7ca7,_0x387c66={'cDnaE':_0x59d480[_0x5d5192(0x176)],'yPiQk':_0x5d5192(0x381),'Bopyu':function(_0xbf5e07){const _0x297af2=_0x5d5192;return _0x59d480[_0x297af2(0x247)](_0xbf5e07);}};_0x59d480['QrPBf'](_0x59d480[_0x5d5192(0x3f1)],_0x5d5192(0x380))?async[_0x5d5192(0xb6)]([async[_0x5d5192(0x3a4)](posts[_0x5d5192(0x327)][_0x5d5192(0x3e7)],_0x23cfe6,[_0x59d480[_0x5d5192(0x176)],_0x59d480[_0x5d5192(0x266)]]),async[_0x5d5192(0x3a4)](posts['uploads'][_0x5d5192(0x29a)],_0x23cfe6)],(_0x17f38d,_0x46eb38)=>{const _0x2f0314=_0x5d5192,_0x20a3ec=_0x2f0314(0x3d5)['split']('|');let _0x391049=0x0;while(!![]){switch(_0x20a3ec[_0x391049++]){case'0':assert[_0x2f0314(0x1c6)](!![],_0x46eb38[_0x2f0314(0x3f8)]('wut.txt'));continue;case'1':assert[_0x2f0314(0x1c6)](!![],_0x46eb38[_0x2f0314(0x3f8)](_0x387c66[_0x2f0314(0x251)]));continue;case'2':assert[_0x2f0314(0x1c6)](0x4,_0x46eb38['length']);continue;case'3':assert['ifError'](_0x17f38d);continue;case'4':_0xfef89d();continue;}break;}}):(_0x4de003[_0x5d5192(0xea)](_0x41c887[_0x5d5192(0x19c)],_0x387c66[_0x5d5192(0x3dd)]),_0x387c66[_0x5d5192(0x40d)](_0x57d7dc));}),it(_0x3d7ca7(0xba),_0x88ef89=>{const _0x942cf8=_0x3d7ca7,_0x68e1af=_0x2c1f73=>crypto[_0x942cf8(0x213)](_0x942cf8(0xa3))[_0x942cf8(0x9a)](_0x2c1f73)['digest']('hex');async[_0x942cf8(0xb6)]([async[_0x942cf8(0x3a4)](posts[_0x942cf8(0x327)]['associate'],_0x23cfe6,[_0x529fa6[_0x942cf8(0x26a)]]),function(_0x36c703){const _0x2b6ca1=_0x942cf8;db[_0x2b6ca1(0x331)](_0x2b6ca1(0x3f0)+_0x68e1af('test.bmp')+_0x2b6ca1(0xf7),0x0,-0x1,_0x36c703);}],(_0x5929f3,_0x402400)=>{const _0x57b99a=_0x942cf8;assert[_0x57b99a(0x3e6)](_0x5929f3),assert[_0x57b99a(0x1c6)](!![],Array['isArray'](_0x402400)),assert[_0x57b99a(0x1c6)](!![],_0x402400[_0x57b99a(0x19e)]>0x0),assert[_0x57b99a(0xea)](_0x23cfe6,_0x402400[0x0]),_0x88ef89();});}),_0x1f1b1e[_0x3d7ca7(0x3ee)](it,_0x1f1b1e[_0x3d7ca7(0x3b7)],_0x5342ef=>{const _0x4c3a79=_0x3d7ca7,_0x62da3={'CFJVe':function(_0x290576){return _0x290576();}};async['waterfall']([async[_0x4c3a79(0x3a4)](posts[_0x4c3a79(0x327)][_0x4c3a79(0x3e7)],_0x23cfe6,[_0x59d480[_0x4c3a79(0x2d5)]]),async['apply'](posts[_0x4c3a79(0x327)]['list'],_0x23cfe6)],(_0x5af509,_0x23211a)=>{const _0xd22f51=_0x4c3a79;assert['ifError'](_0x5af509),assert[_0xd22f51(0x1c6)](_0x23211a[_0xd22f51(0x19e)],0x5),assert[_0xd22f51(0x1c6)](![],_0x23211a['includes']('nonexistant.xls')),_0x62da3[_0xd22f51(0x20f)](_0x5342ef);});});}),describe(_0x1f1b1e[_0x5cfbf9(0x352)],()=>{const _0x1c365f=_0x5cfbf9,_0x44fe29={'zHPzZ':_0x1c365f(0xfc)};_0x1f1b1e[_0x1c365f(0x7f)](it,_0x1c365f(0x317),_0x25dd07=>{const _0x28b02f=_0x1c365f,_0x2e7606={'HrxiX':function(_0x412791){return _0x412791();}};async[_0x28b02f(0xb6)]([async['apply'](posts['uploads'][_0x28b02f(0x169)],_0x23cfe6,_0x44fe29['zHPzZ']),async[_0x28b02f(0x3a4)](posts[_0x28b02f(0x327)][_0x28b02f(0x29a)],_0x23cfe6)],(_0x587f02,_0x5519ac)=>{const _0x5b8748=_0x28b02f;assert[_0x5b8748(0x3e6)](_0x587f02),assert['strictEqual'](0x4,_0x5519ac[_0x5b8748(0x19e)]),assert[_0x5b8748(0x1c6)](![],_0x5519ac[_0x5b8748(0x3f8)](_0x5b8748(0xfc))),_0x2e7606[_0x5b8748(0x3cb)](_0x25dd07);});}),_0x1f1b1e[_0x1c365f(0x21e)](it,_0x1f1b1e[_0x1c365f(0x17e)],_0x56aa51=>{const _0x4c7202=_0x1c365f,_0x3dc621={'nNhEp':_0x4c7202(0x141),'vMzRc':function(_0x11d37d){return _0x11d37d();}};async['waterfall']([async[_0x4c7202(0x3a4)](posts[_0x4c7202(0x327)][_0x4c7202(0x169)],_0x23cfe6,['amazeballs.jpg','wut.txt']),async[_0x4c7202(0x3a4)](posts[_0x4c7202(0x327)][_0x4c7202(0x29a)],_0x23cfe6)],(_0x28e9ee,_0x27a754)=>{const _0x9c05d8=_0x4c7202;assert[_0x9c05d8(0x3e6)](_0x28e9ee),assert['strictEqual'](0x2,_0x27a754[_0x9c05d8(0x19e)]),assert[_0x9c05d8(0x1c6)](![],_0x27a754[_0x9c05d8(0x3f8)](_0x9c05d8(0x102))),assert['strictEqual'](![],_0x27a754[_0x9c05d8(0x3f8)](_0x3dc621[_0x9c05d8(0x1b7)])),_0x3dc621[_0x9c05d8(0x15b)](_0x56aa51);});});}),describe(_0x5cfbf9(0x12a),()=>{const _0x65330c=_0x5cfbf9,_0x4c9b5a={'XXpJC':_0x59d480[_0x65330c(0x40e)],'PXnVn':function(_0x765ef6){const _0xb3dff=_0x65330c;return _0x59d480[_0xb3dff(0x9e)](_0x765ef6);},'uLYAu':function(_0xe91681,_0x360ba6){return _0xe91681!==_0x360ba6;}};it(_0x65330c(0x23c),async()=>{const _0x596a67=_0x65330c,_0x30fe73={'bXWOr':_0x4c9b5a[_0x596a67(0x162)],'KXpPm':function(_0x14052a){const _0x309b37=_0x596a67;return _0x4c9b5a[_0x309b37(0xe4)](_0x14052a);}};if(_0x4c9b5a[_0x596a67(0xf2)]('rsDIc','rsDIc'))_0x257b96[_0x596a67(0xb6)]([_0x212e85[_0x596a67(0x3a4)](_0x26d041[_0x596a67(0x327)]['associate'],_0x4919ab,_0x30fe73[_0x596a67(0xfb)]),_0x3518f1[_0x596a67(0x3a4)](_0x16cd96[_0x596a67(0x327)][_0x596a67(0x29a)],_0x2991ab)],(_0x4c61e3,_0x44b036)=>{const _0xd2ec54=_0x596a67;_0x43acfc[_0xd2ec54(0x3e6)](_0x4c61e3),_0x2875cc[_0xd2ec54(0x1c6)](0x2,_0x44b036[_0xd2ec54(0x19e)]),_0x185bed[_0xd2ec54(0x1c6)](!![],_0x44b036['includes'](_0x30fe73[_0xd2ec54(0xfb)])),_0x30fe73[_0xd2ec54(0xeb)](_0x31c26b);});else{await posts['uploads'][_0x596a67(0x2bb)](_0x23cfe6);const _0x3383c6=await posts['uploads'][_0x596a67(0x29a)](_0x23cfe6);assert[_0x596a67(0xea)](_0x3383c6[_0x596a67(0x19e)],0x0);}});}),describe(_0x1f1b1e[_0x5cfbf9(0xc4)],()=>{const _0x6a3454=_0x5cfbf9,_0x3e7ce7={'dYsoq':_0x59d480[_0x6a3454(0x358)],'oRuVY':_0x59d480[_0x6a3454(0x175)]};_0x59d480[_0x6a3454(0x25c)]===_0x59d480[_0x6a3454(0x145)]?(_0xf97f57[_0x6a3454(0x3e6)](_0x5f5770),_0xa8b43e=_0x4a2135[_0x6a3454(0x119)],_0x202904[_0x6a3454(0x3ae)][_0x6a3454(0x2c5)]([_0x3e7ce7['dYsoq']],_0x2c5b8d,_0x3e7ce7[_0x6a3454(0x1d8)],_0x30b8c3)):(it(_0x6a3454(0x3c1),async()=>{const _0x4fcf00=_0x6a3454;await posts[_0x4fcf00(0x3f5)](_0x353105,0x1);const _0x40967c=await posts[_0x4fcf00(0x327)][_0x4fcf00(0x29a)](_0x353105);assert['equal'](_0x40967c[_0x4fcf00(0x19e)],0x2);}),it(_0x6a3454(0x408),async()=>{const _0x491ad0=_0x6a3454;await posts[_0x491ad0(0xc9)](_0x353105,0x1);const _0x3a0509=await posts[_0x491ad0(0x327)]['list'](_0x353105);assert[_0x491ad0(0xea)](_0x3a0509[_0x491ad0(0x19e)],0x0);}));});}),describe(_0x1f1b1e[_0x1bb613(0x1f3)],()=>{const _0x26744d=_0x1bb613,_0x1ab3f0={'CNMaR':function(_0x4a83bc){return _0x4a83bc();},'xHoFA':'newuser'};let _0x5705a1,_0x18e8b1;before(_0x4b19b0=>{const _0x4d2dc1=_0x1a8c;topics[_0x4d2dc1(0xbb)]({'uid':0x1,'cid':_0x507c08,'title':_0x4d2dc1(0x378),'content':_0x4d2dc1(0x1e3)},(_0x6b8f,_0x579ae4)=>{const _0x5ba6a8=_0x4d2dc1,_0x170835={'mdKnu':function(_0x333a0f){return _0x333a0f();}};assert[_0x5ba6a8(0x3e6)](_0x6b8f),topics[_0x5ba6a8(0x37d)]({'uid':0x1,'tid':_0x579ae4['topicData'][_0x5ba6a8(0x2fb)],'timestamp':Date[_0x5ba6a8(0x360)](),'content':_0x5ba6a8(0x78)},(_0x4c201b,_0xd74991)=>{const _0x26e2d1=_0x5ba6a8;assert[_0x26e2d1(0x3e6)](_0x4c201b),_0x5705a1=_0x579ae4,_0x18e8b1=_0xd74991,_0x170835[_0x26e2d1(0x74)](_0x4b19b0);});});}),it(_0x26744d(0x2b3),_0xa8dcf9=>{const _0x21570b=_0x26744d,_0xc8fbfe={'Axeka':_0x21570b(0x1aa)};if(_0x21570b(0x1da)===_0x1f1b1e['SfVZO'])db[_0x21570b(0xb7)]([_0x21570b(0x8a)+_0x5705a1[_0x21570b(0x197)][_0x21570b(0x224)]+_0x21570b(0x337),'post:'+_0x18e8b1[_0x21570b(0x119)]+_0x21570b(0x337)],(_0x58f81e,_0x39dc85)=>{const _0xe0407d=_0x21570b;assert[_0xe0407d(0x3e6)](_0x58f81e),assert['strictEqual'](0x1,_0x39dc85[0x0]),assert['strictEqual'](0x1,_0x39dc85[0x1]),_0x1ab3f0['CNMaR'](_0xa8dcf9);});else{const _0x46f31b=_0xc8fbfe[_0x21570b(0x1d5)]['split']('|');let _0x31c4c6=0x0;while(!![]){switch(_0x46f31b[_0x31c4c6++]){case'0':_0x57d2b3['strictEqual'](0x2,_0x2e44f4[_0x21570b(0x19e)]);continue;case'1':_0x2d7823['strictEqual'](![],_0x33de1c[_0x21570b(0x3f8)](_0x21570b(0x141)));continue;case'2':_0x3633a3[_0x21570b(0x3e6)](_0x3af874);continue;case'3':_0x4b6b31['strictEqual'](![],_0x338211[_0x21570b(0x3f8)](_0x21570b(0x102)));continue;case'4':_0x45898c();continue;}break;}}}),it(_0x26744d(0x1f0),_0x1a0541=>{const _0x30099c=_0x26744d,_0x4f83b1={'gsbzn':function(_0x5760eb){return _0x5760eb();}};_0x1f1b1e[_0x30099c(0x2af)](_0x30099c(0xa8),_0x30099c(0x1a8))?(_0x1d558c['config'][_0x30099c(0x10a)]=0x1,_0x410a68['create']({'username':_0x1ab3f0[_0x30099c(0x341)]},(_0xbfdf62,_0x3e9a13)=>{const _0x3d133b=_0x30099c;_0x134ada[_0x3d133b(0x3e6)](_0xbfdf62),_0x3b7e11=_0x3e9a13,_0x4f83b1[_0x3d133b(0x2ad)](_0x4feea4);})):async[_0x30099c(0xb6)]([async[_0x30099c(0x3a4)](posts[_0x30099c(0x332)],{'pid':_0x18e8b1[_0x30099c(0x119)],'uid':0x1,'content':_0x1f1b1e[_0x30099c(0x37e)]}),function(_0x16e31b,_0x47637d){const _0x1eba33=_0x30099c;posts[_0x1eba33(0x327)][_0x1eba33(0x29a)](_0x18e8b1[_0x1eba33(0x119)],_0x47637d);}],(_0x5dc9fc,_0x3a7f63)=>{const _0x4649d4=_0x30099c;assert['ifError'](_0x5dc9fc),assert[_0x4649d4(0x1c6)](!![],Array[_0x4649d4(0x2b2)](_0x3a7f63)),assert['strictEqual'](0x0,_0x3a7f63[_0x4649d4(0x19e)]),_0x1a0541();});});}),describe('Topic\x20Backlinks',()=>{const _0x130471=_0x1bb613,_0x6a8d5a={'JZnip':function(_0x42b444,_0x37a68c){return _0x42b444(_0x37a68c);},'HsstT':_0x1f1b1e['yjOkO'],'yZibc':_0x130471(0x115),'DiyYQ':function(_0x3eca32){return _0x1f1b1e['WXoId'](_0x3eca32);},'mtLEF':'pid:2:backlinks','KWzWz':function(_0x1bafee,_0x2e0a3a){return _0x1f1b1e['IkDhG'](_0x1bafee,_0x2e0a3a);},'hcNKq':function(_0x3872d0,_0x58269e){const _0x41635a=_0x130471;return _0x1f1b1e[_0x41635a(0xe8)](_0x3872d0,_0x58269e);},'uJqBV':_0x1f1b1e[_0x130471(0x31b)],'PyVoh':_0x130471(0x289),'SPBlK':function(_0x59bf1c,_0x2b2e61,_0x502a71){const _0x46ed38=_0x130471;return _0x1f1b1e[_0x46ed38(0x231)](_0x59bf1c,_0x2b2e61,_0x502a71);},'Vtozf':_0x130471(0x1f2),'dPGpe':function(_0x49a1b1,_0x30ae42,_0x1c04d7){return _0x49a1b1(_0x30ae42,_0x1c04d7);},'ziJHT':_0x130471(0x3fa),'aPuUf':_0x130471(0x111),'KfxDe':function(_0x1f4c8b,_0x5cccf7,_0x3a4b4e){return _0x1f4c8b(_0x5cccf7,_0x3a4b4e);},'SQAXr':_0x1f1b1e[_0x130471(0xd9)],'aTfTP':function(_0x98a87,_0x186dbe){return _0x1f1b1e['MUufK'](_0x98a87,_0x186dbe);},'rPyFh':_0x130471(0x17c),'TjIew':_0x130471(0x3c0),'TszAc':function(_0x5b7942,_0x41e6d2){return _0x5b7942!==_0x41e6d2;},'cFnKC':_0x1f1b1e[_0x130471(0x151)],'fVVqA':function(_0x2a355b,_0x46869b){return _0x2a355b(_0x46869b);},'SdsUu':function(_0x3f58f2,_0x207ddf){return _0x3f58f2===_0x207ddf;},'Ogvmr':_0x1f1b1e['KhhIa'],'VOXPQ':_0x1f1b1e[_0x130471(0x325)],'kPLZP':_0x1f1b1e['OnOFv']};let _0x540455;before(async()=>{const _0x3b2bdf=_0x130471;_0x540455=await topics[_0x3b2bdf(0xbb)]({'uid':0x1,'cid':_0x507c08,'title':_0x3b2bdf(0x396),'content':_0x3b2bdf(0x109)}),_0x540455=_0x540455[_0x3b2bdf(0x197)][_0x3b2bdf(0x2fb)];}),describe(_0x1f1b1e[_0x130471(0x2d2)],()=>{const _0x2fc682=_0x130471,_0x4e7f07={'ETWAo':function(_0xb503ef){return _0x6a8d5a['DiyYQ'](_0xb503ef);},'GbUMp':_0x6a8d5a[_0x2fc682(0x328)],'BghTg':function(_0x7a7bf5,_0x5e45c6){const _0x198a88=_0x2fc682;return _0x6a8d5a[_0x198a88(0x3b1)](_0x7a7bf5,_0x5e45c6);},'cfHaU':function(_0x3907f8,_0x4f6f16){const _0x3c0ef3=_0x2fc682;return _0x6a8d5a[_0x3c0ef3(0x35c)](_0x3907f8,_0x4f6f16);},'REUUw':_0x6a8d5a['uJqBV']};_0x6a8d5a[_0x2fc682(0x1e9)]===_0x2fc682(0x289)?(_0x6a8d5a[_0x2fc682(0x1c1)](it,_0x6a8d5a['Vtozf'],async()=>{const _0x2f7905=_0x2fc682;try{await topics[_0x2f7905(0x137)]();}catch(_0x464103){_0x6a8d5a[_0x2f7905(0x2d4)](assert,_0x464103),assert[_0x2f7905(0x1c6)](_0x464103[_0x2f7905(0x19c)],_0x6a8d5a[_0x2f7905(0x117)]);}}),_0x6a8d5a['dPGpe'](it,_0x6a8d5a[_0x2fc682(0x3df)],async()=>{const _0xae967a=_0x2fc682,_0xf88cb8=await topics[_0xae967a(0x137)]({'content':'This\x20is\x20a\x20post\x27s\x20content'});assert[_0xae967a(0x1c6)](_0xf88cb8,0x0);}),it(_0x6a8d5a[_0x2fc682(0x31e)],async()=>{const _0x43fff=_0x2fc682,_0x412426={'rbCcS':function(_0x217a2){const _0x246a49=_0x1a8c;return _0x4e7f07[_0x246a49(0x309)](_0x217a2);}};if('VbufN'===_0x43fff(0x2bf)){const _0x1ae0ce=await topics[_0x43fff(0x137)]({'pid':0x2,'content':_0x43fff(0x405)+nconf[_0x43fff(0xf9)]('url')+_0x43fff(0x1c2)}),_0x11e692=await topics[_0x43fff(0x2d6)][_0x43fff(0xf9)](0x1,0x1),_0x52c996=await db[_0x43fff(0x104)](_0x4e7f07[_0x43fff(0x386)]);assert[_0x43fff(0x1c6)](_0x1ae0ce,0x1),_0x4e7f07['BghTg'](assert,_0x11e692),assert[_0x43fff(0x1c6)](_0x11e692['length'],0x1),assert(_0x52c996),_0x4e7f07[_0x43fff(0x13d)](assert,_0x52c996[_0x43fff(0x3f8)]('1'));}else _0xb210e4['post']({'uid':_0x522f19},{'title':_0x43fff(0xb1),'content':_0x43fff(0xe7),'cid':_0x5edaca},(_0x40dab5,_0x4a9573)=>{const _0x5caa51=_0x43fff,_0x27376e='2|1|4|3|0'[_0x5caa51(0x20a)]('|');let _0x2ff5a7=0x0;while(!![]){switch(_0x27376e[_0x2ff5a7++]){case'0':_0x412426[_0x5caa51(0x36c)](_0x4ed177);continue;case'1':_0x2f7d0c[_0x5caa51(0x1c6)](_0x4a9573['queued'],!![]);continue;case'2':_0x3703fe[_0x5caa51(0x3e6)](_0x40dab5);continue;case'3':_0x30b328=_0x4a9573['id'];continue;case'4':_0x4f1bae[_0x5caa51(0xea)](_0x4a9573[_0x5caa51(0x19c)],_0x5caa51(0x97));continue;}break;}});}),_0x6a8d5a[_0x2fc682(0x39e)](it,_0x2fc682(0x320),async()=>{const _0x4c3e30=_0x2fc682,_0x58a90f=await topics[_0x4c3e30(0x137)]({'pid':0x2,'content':_0x6a8d5a[_0x4c3e30(0x3fd)]}),_0x5cd735=await topics[_0x4c3e30(0x2d6)][_0x4c3e30(0xf9)](0x1,0x1),_0x435a1a=await db[_0x4c3e30(0x104)](_0x4c3e30(0x1b5));assert[_0x4c3e30(0x1c6)](_0x58a90f,0x0),_0x6a8d5a['JZnip'](assert,_0x5cd735),assert['strictEqual'](_0x5cd735[_0x4c3e30(0x19e)],0x1),assert(_0x435a1a),assert[_0x4c3e30(0x1c6)](_0x435a1a[_0x4c3e30(0x19e)],0x0);})):_0x58d40b[_0x2fc682(0x332)]({'uid':0x0},{},_0x46fc10=>{const _0x146c72=_0x2fc682;_0x2bebf8[_0x146c72(0xea)](_0x46fc10[_0x146c72(0x19c)],_0x4e7f07[_0x146c72(0x121)]),_0x4e7f07[_0x146c72(0x309)](_0x2930dc);});}),describe(_0x1f1b1e[_0x130471(0x36f)],()=>{const _0xdc3a78=_0x130471;_0x6a8d5a[_0xdc3a78(0x2fa)](_0x6a8d5a[_0xdc3a78(0x129)],_0x6a8d5a[_0xdc3a78(0x265)])?(_0x5e637f['ifError'](_0x32d997),_0x5ff350[_0xdc3a78(0xea)](_0x42342c[_0xdc3a78(0x1a1)][0x1][_0xdc3a78(0x285)],'reply'),_0x1d8fac[_0xdc3a78(0xea)](_0x7c3605[_0xdc3a78(0x1a1)][0x1][_0xdc3a78(0xe9)][_0xdc3a78(0x27c)],_0x6a8d5a[_0xdc3a78(0x295)]),_0x978065()):(_0x6a8d5a[_0xdc3a78(0x1c1)](it,_0xdc3a78(0x2d1),async()=>{const _0x137db9=_0xdc3a78,_0x1bffc7=await topics['post']({'uid':0x1,'cid':_0x507c08,'title':_0x137db9(0x2de),'content':_0x137db9(0x2cb)+nconf[_0x137db9(0xf9)]('url')+'/topic/'+_0x540455}),_0x194a5b=await topics[_0x137db9(0x2d6)]['get'](_0x540455,0x1);_0x6a8d5a[_0x137db9(0x31a)](assert,_0x194a5b),assert[_0x137db9(0x1c6)](_0x194a5b[_0x137db9(0x19e)],0x1),assert[_0x137db9(0x1c6)](_0x194a5b[0x0][_0x137db9(0x285)],_0x137db9(0x30a)),assert[_0x137db9(0x1c6)](_0x6a8d5a[_0x137db9(0xe6)](parseInt,_0x194a5b[0x0]['uid'],0xa),0x1),assert[_0x137db9(0x1c6)](_0x194a5b[0x0][_0x137db9(0x1bf)],_0x137db9(0x2ae)+_0x1bffc7[_0x137db9(0x168)][_0x137db9(0x119)]);}),_0x6a8d5a['dPGpe'](it,_0x6a8d5a[_0xdc3a78(0xed)],async()=>{const _0x1d9d83=_0xdc3a78,_0x2ddc15={'XMuJk':_0x1d9d83(0x181),'OeEAH':_0x6a8d5a['rPyFh'],'TSAVD':_0x6a8d5a['TjIew']};if(_0x6a8d5a[_0x1d9d83(0x3d6)](_0x6a8d5a['cFnKC'],_0x6a8d5a[_0x1d9d83(0x276)])){const _0x5f3ca5={'Ooffg':_0x2ddc15[_0x1d9d83(0x1a5)],'TmLgd':_0x2ddc15[_0x1d9d83(0xd7)]};_0x109c96[_0x1d9d83(0x3e6)](_0x2ba6bf),_0x249fa5(_0x2c871e['get'](_0x2ddc15[_0x1d9d83(0x388)])+_0x1d9d83(0x321),{'jar':_0x392d45,'json':!![]},(_0x5e1d04,_0x337fea,_0x5c16ce)=>{const _0x37f97c=_0x1d9d83;_0x57619e[_0x37f97c(0x3e6)](_0x5e1d04),_0x34e91c['equal'](_0x5c16ce[_0x37f97c(0x1a1)][0x0]['type'],_0x5f3ca5['Ooffg']),_0x44f541[_0x37f97c(0xea)](_0x5c16ce[_0x37f97c(0x1a1)][0x0][_0x37f97c(0xe9)][_0x37f97c(0x200)],_0x5f3ca5['TmLgd']),_0x5e5512();});}else{await topics[_0x1d9d83(0x37d)]({'uid':0x1,'tid':_0x540455,'content':'Referencing\x20itself\x20&ndash;\x20'+nconf[_0x1d9d83(0xf9)](_0x1d9d83(0x3c0))+_0x1d9d83(0x86)+_0x540455});const _0x551b13=await topics[_0x1d9d83(0x2d6)][_0x1d9d83(0xf9)](_0x540455,0x1);_0x6a8d5a['fVVqA'](assert,_0x551b13),assert['strictEqual'](_0x551b13['length'],0x1);}}),_0x6a8d5a['SPBlK'](it,_0xdc3a78(0x147),async()=>{const _0x110116=_0xdc3a78;meta[_0x110116(0x3bf)][_0x110116(0x220)]=0x0,await topics[_0x110116(0xbb)]({'uid':0x1,'cid':_0x507c08,'title':_0x110116(0xc1),'content':_0x110116(0x2cb)+nconf[_0x110116(0xf9)](_0x110116(0x3c0))+_0x110116(0x86)+_0x540455});const _0x4e16f1=await topics['events'][_0x110116(0xf9)](_0x540455,0x1);assert(_0x4e16f1),assert['strictEqual'](_0x4e16f1[_0x110116(0x19e)],0x0);}));});});});function _0x1f93(){const _0x2da720=['JQhua','gQHZr','wKrNU','should\x20error\x20with\x20invalid\x20tid','xHoFA','QARTD','myfmL','rQceU','otherCount','revisions','should\x20purge\x20posts\x20and\x20purge\x20topic','ppVUa','value','nrOYH','ZquiJ','../src/categories','getDiffs','raw\x20content','.associate()','LtGpk','IGChJ','Kalef','UTXvF','abKfG','reject','vSLRG','Global\x20Moderators','EATvV','ZOqkI','zGfmn','AMEFt','hcNKq','should\x20load\x20diffs\x20and\x20reconstruct\x20post','0|2|4|1|3','YmbFh','now','/users\x22>test</a>\x20<a\x20href=\x22//youtube.com\x22>youtube</a>','post\x20queue','2|3|4|1|0','YsbqS','should\x20delete\x20topic\x20if\x20last\x20main\x20post\x20is\x20deleted','series','upvoteCount','UyGPl','IjoTy','postcount','A\x20reply\x20to\x20move','rbCcS','should\x20disallow\x20post\x20editing\x20for\x20new\x20users\x20if\x20post\x20was\x20made\x20past\x20the\x20threshold\x20for\x20editing','bhyHi','hKKcl','groups:posts:view_deleted','bnJKQ','loginUser','VBCYN','category','gLtIq','MAcSu','3|1|4|0|2','topic\x20to\x20test\x20uploads\x20with','oXLQc','IjSUm','some\x20content','lrRCO','reply','mLiyI','jFVBw','rwIdK','[[error:invalid-data]]','should\x20error\x20if\x20uid\x20is\x20not\x20logged\x20in','vnVKO','oBqca','A\x20reply\x20to\x20edit','GbUMp','PxmwP','TSAVD','fULzT','0|4|2|3|1','LvBtA','DPzBz','WEcEL','uVOcb','AMkjl','iNLIg','NeUvh','JfNez','eLlZR','vkvYo','should\x20get\x20voters','Topic\x20backlink\x20testing\x20-\x20topic\x201','nVuLa','mLuuc','uLNqY','EzgRE','IQdpd','edited\x20reply','qqBGA','KfxDe','wppaf','VaZcF','QlrXC','mCfmt','oldest_to_newest','apply','tags','FETMn','csrsx','ayhqK','fUKgn','deleted','qWbqb','groups:posts:downvote','BEedD','categories','40VlSHZA','YQsKm','KWzWz','ATeUo','PuUUq','should\x20edit\x20post\x20in\x20queue','string','downvoteCount','PPAcs','FqYja','integration\x20tests','async','vuIfW','queued\x20topic','rndOY','newuser','config','url','should\x20not\x20dissociate\x20images\x20on\x20post\x20deletion','should\x20accept\x20queued\x20posts\x20and\x20submit','XEdYR','wAtFT','QScRz','ruSGk','ZkPtj','dxpjd','WxBOi','groups:purge','HrxiX','topic\x20A','qRUgO','DMtNP','getUserField','bNtCH','setPostField','91SIcSyX','post\x20tools','cwukQ','3|2|1|0|4','TszAc','renamed','TbcsX','mPPQG','AfXaq','VyNRx','PnjJr','yPiQk','moTzR','ziJHT','filterPidsByCid','../src/socket.io/topics','upvotes','PYrls','downvotes','[[error:content-too-long,\x20','ifError','associate','accept','the\x20moved\x20queued\x20post','NMJqT','DKMFa','patch','should\x20allow\x20arrays\x20to\x20be\x20passed\x20in','cRQbC','SpLSA','upload:','jcLrN','qVNdE','oJtXA','pop','delete','icGce','qlYlJ','includes','minimumTitleLength','should\x20do\x20nothing\x20if\x20the\x20post\x20does\x20not\x20contain\x20a\x20link\x20to\x20a\x20topic','test\x20derp','BpywI','yZibc','XXNCW','zqNYj','YDQhB','StFpI','UnbRE','getCategory','Jlqzo','This\x20is\x20a\x20link\x20to\x20[topic\x201](','rkLLw','UtzNm','should\x20dissociate\x20images\x20on\x20post\x20purge','ghGXh','MmyAX','fCMsr','gjOPV','Bopyu','mAqVB','topic_1','original\x20post','WSdhN','MKlZn','MKmEg','mdKnu','vrygc','../src/posts','downvotesPerDay','[abcdef](/assets/uploads/files/shazam.jpg)','edited\x20post\x20content\x20again','getObject','CnaZZ','promisify','uAzsE','UQbld','gYvFc','ArZLo','TbyCF','qutmy','urlRegex','should\x20error\x20with\x20invalid\x20data','should\x20filter\x20pids\x20by\x20single\x20cid','/topic/','YkBFO','delete/restore/purge','nfBIv','post:','wkIaj','should\x20error\x20if\x20user\x20does\x20not\x20exist','should\x20parse\x20signature\x20and\x20remove\x20links\x20and\x20images','ZCzxu','iMKzk','should\x20turn\x20relative\x20links\x20in\x20post\x20body\x20to\x20absolute\x20urls','2849859pLTDLt','files','oUazW','should\x20not\x20create\x20a\x20topic\x20event\x20if\x20referenced\x20topic\x20is\x20the\x20same\x20as\x20current\x20topic','MMYms','dzZkJ','[[success:post-queued]]','DPTNw','uJoxg','update','should\x20load\x20post\x20tools','wPKOa','dlgWR','xAlnv','qCwyg','MgTIF','another\x20edit\x20has\x20been\x20made','jacud','md5','YKtRS','.sync()','moROt','hvkzu','WRffe','upvote','/api/topic/','lYhNt','2|3|0|4|1','JMTYE','derp','VWMrS','should\x20return\x20falsy\x20if\x20post\x20does\x20not\x20exist','should\x20be\x20queued','getPostField','should\x20bypass\x20post\x20queue\x20if\x20user\x20is\x20in\x20exempt\x20group','HTQkO','wvuyS','waterfall','sortedSetsCard','kABNi','ilyAv','should\x20save\x20a\x20reverse\x20association\x20of\x20md5sum\x20to\x20pid','post','KtzuW','PnFWS','getTopicField','upvoter','[[error:no-post]]','Topic\x20backlink\x20testing\x20-\x20topic\x203','isOrphan','hkJst','HJIfl','reputation','should\x20fail\x20to\x20change\x20owner\x20if\x20new\x20owner\x20does\x20not\x20exist','vqQOz','rbiHv','purge','queued','downvotesPerUserPerDay','bookmarking','ZVRLd','parsePost','YNmJC','2uNwOSp','GLEab','votes','[[error:not-logged-in]]','should\x20edit\x20a\x20reply\x20post','eOxPm','VXTQw','OeEAH','OcsCR','OoKEH','4|5|2|0|1|3','tnzoE','yMjXF','sortedSetScores','should\x20add\x20topic\x20to\x20post\x20queue','0|3|2|4|5|1','gRbRh','QistL','should\x20downvote\x20a\x20post','RkNZt','PXnVn','should\x20store\x20post\x20content\x20in\x20cache','dPGpe','queued\x20topic\x20content','XKuAl','data','equal','KXpPm','relativeToAbsolute','kPLZP','bATgg','nQABB','globalmodpwd','should\x20return\x20true\x20if\x20upload\x20is\x20an\x20orphan','uLYAu','globalModUid','topic\x201','Test\x20Category','nkDAs',':pids','qcEQR','get','xdtlt','bXWOr','whoa.gif','ePSMB','VpYRI','dYZhH','should\x20fail\x20to\x20get\x20raw\x20post\x20because\x20of\x20privilege','openSync','amazeballs.jpg','vaTMi','getSortedSetMembers','1629001sZcYgi','notStrictEqual','IxtIt','EDiuR','Some\x20text\x20here\x20for\x20the\x20OP','postQueue','tgBNZ','1321184qOqZAb','Llgtv','production','vERcR','WCNSP','should\x20create\x20a\x20backlink\x20if\x20it\x20detects\x20a\x20topic\x20link\x20in\x20a\x20post','should\x20move\x20a\x20post','CVjaa','jMgSn','This\x20is\x20a\x20link\x20to\x20[nothing](http://example.org)','bejCo','HsstT','GbJKd','pid','here\x20is\x20an\x20image\x20[alt\x20text](/assets/uploads/files/whoa.gif)\x20and\x20another\x20[alt\x20text](/assets/uploads/files/amazeballs.jpg)','123456','XfVfI','AyRhQ','PcFAd','rescind','cozdQ','REUUw','should\x20error\x20if\x20title\x20is\x20too\x20long','display_edit_tools','sztVC','BYCKn','Whloa','exists','HccwP','Ogvmr','.dissociateAll()','BsWMK','dEPnR','sortedSetCard','otRRA','VedCG','NmAlf','UEJYr','HogUM','qljbk','SOvaf','170256mZsQRr','VCVWN','syncBacklinks','<a\x20href=\x22/users\x22>test</a>\x20<a\x20href=\x22youtube.com\x22>youtube</a>\x20some\x20test\x20<img\x20src=\x22/path/to/img\x22/>','hasBookmarked','minimumTagsPerTopic','should\x20unvote\x20a\x20post','zRmmS','cfHaU','WfCxz','should\x20error\x20if\x20data\x20is\x20invalid\x20or\x20missing','pZTdW','wut.txt','topiccount','topic\x20with\x20some\x20images','dTbRA','ymzLW','should\x20return\x20diffs','should\x20not\x20show\x20backlink\x20events\x20if\x20the\x20feature\x20is\x20disabled','<img\x20src=\x22boop\x22/><a\x20href=\x22link\x22>test</a>\x20derp','IVdZw','should\x20not\x20associate\x20a\x20file\x20that\x20does\x20not\x20exist\x20on\x20the\x20local\x20disk','isXYM','hasVoted','/users\x22>test</a>\x20<a\x20href=\x22//youtube.com\x22>youtube</a>\x20some\x20test\x20<img\x20src=\x22','1|4|0|5|2|3','wbCdm','baggU','aswEN','DbcOI','editable','QMZdn','IJTSr','.isOrphan()','UVOVA','guests','crypto','should\x20get\x20post','vMzRc','signatures:disableLinks','should\x20load\x20(oldest)\x20diff\x20and\x20reconstruct\x20post\x20correctly\x20after\x20a\x20diff\x20deletion','kFDQq','VNtyH','deepEqual','isMainPost','XXpJC','ypJBs','globalmod','CMEUY','zwfhf','ytwZP','postData','dissociate','BRoBL','LnlDE','qNuBM','JIlQM','sortedSetScore','TTZzB','ngOhn','join','sDgRf','edited\x20post\x20content','YJayf','fQiMF','dMzgJ','2|1|0|4|3','should\x20edit\x20post','getPost','downvote','OtBOU','new\x20topic\x20title','most\x20recent\x20edit','SyKHo','0|2|1|4|3','should\x20edit\x20a\x20deleted\x20post','topic','edited\x20deleted\x20content','[[topic:post_is_deleted]]','FUJjR','editQueuedContent','WbGfK','TUIno','SGoFH','users:postcount','isOwner','minimumPostLength','JvPCF','jzYXX','YMSZx','post:queue','eIbey','CZdgw','HCgsA','miwEN','lBtan','tVrXv','HCDQs','topicData','edited\x20title\x20again','maximumTitleLength','changeOwner','base_url','message','topic\x20with\x20some\x20images,\x20to\x20be\x20purged','length','KOShl','filter','posts','gLvxH','CKfYI','gqcmq','XMuJk','TmAbd','sBrRy','shqJk','[[error:post-edit-duration-expired,\x201]]','2|0|3|1|4','nonexistant.xls','JOTCs','mergeexemptuser','wmdck','tCfzo','registered-users','should\x20not\x20allow\x20guests\x20to\x20view\x20diffs','rcAfm','Apzyr','should\x20edit\x20topic\x20category\x20in\x20queue','pid:2:backlinks','19792mrQPBq','nNhEp','create','topic\x20B','MOOfT','xSrbq','should\x20error\x20if\x20user\x20is\x20not\x20logged\x20in','should\x20not\x20be\x20queued','pljQL','href','0|4|2|1|3','SPBlK','/topic/1/abcdef)','xdIVO','sqWsL','topic_','strictEqual','nconf','CgBxD','MBPfk','LYZft','deletePosts','deSNe','jhtuH','HqMzL','KCCSB','shfUc','../src/meta','loadPostTools','VNqdr','75toEUEn','Axeka','upload_path','XWfPC','oRuVY','../src/topics','OEaeX','[[error:no-privileges]]','should\x20return\x20empty\x20array\x20for\x20empty\x20pids','should\x20restore\x20a\x20post','VThfX','timestamp','BOAiD','should\x20fail\x20to\x20change\x20owner\x20if\x20user\x20is\x20not\x20authorized','kFGoz','[abcdef](/assets/uploads/files/abracadabra.png)','RJXWi','HXuBR','Post\x27s','username','Qaajy','PyVoh','pDQwU','groups:topics:read','CZzSv','/api/categories','jvBwP','1|2|0|3|4','should\x20automatically\x20sync\x20uploads\x20on\x20post\x20edit','kcuox','should\x20error\x20on\x20invalid\x20data','xiBSq','topic\x20B\x20content','TFGeU','signature','WnjId','userData','userPrivilegeList','svtCO','fsxMd','closeSync','sGIdA','should\x20unbookmark\x20a\x20post','HSrLL','title','vvBzw','LxbLZ','deepStrictEqual','NoOGw','WRodF','firstReply','load','WEohY','oEtvW','split','favdr','should\x20error\x20if\x20content\x20is\x20too\x20short','The\x20content\x20of\x20test\x20topic','teaserdelete','CFJVe','movePost','pinvc','QVFTN','createHash','WVooR','sseJO','TLPfV','shazam.jpg','QWroa','XVGaS','sync','mergetestsuser','vQIMm','VgafL','EscBz','util','topicBacklinks','/path/to/img\x22/>','kXxaT','should\x20filter\x20pids\x20by\x20multiple\x20cids','mainPid','FUgyb','no\x20uploads','ZQWAf','slrTm','[[error:no-user]]','vMLIg','JLMPg','.syncBacklinks()','[[error:title-too-short,\x20','lsYZv','BPSVH','TGnKY','molYm','wzUmh','[[error:too-many-downvotes-today,\x201]]','PrNgE','parseSignature','should\x20get\x20raw\x20post\x20content','Tizlj','FlHhs','atmfJ','PjmWk','fzXBX','should\x20remove\x20all\x20images\x20from\x20a\x20post\x27s\x20maintained\x20list\x20of\x20uploads','getPidIndex','VWbUL','.list()','zsknD','restore','here\x20is\x20an\x20image\x20[alt\x20text](/assets/uploads/files/abracadabra.png)\x20and\x20another\x20[alt\x20text](/assets/uploads/files/shazam.jpg)','isBookmarked','should\x20error\x20if\x20data\x20is\x20invalid','kkuJj','cLqxE','qmsLi','yggaJ','should\x20fail\x20to\x20upvote\x20post\x20if\x20group\x20does\x20not\x20have\x20upvote\x20permission','user','MqPvq','vJdpw','cwWiN','QDuhP',':posters','RDVqe','cDnaE','hGQAE','OPvul','VYMBJ','CGvXh','Cqgyu','lfBLO','NahzS','XUNtp','EFtTD','XhqNi','TllmR','<a\x20href=\x22','aZTgj','topic\x20title','forEach','should\x20prevent\x20downvoting\x20target\x20user\x20more\x20than\x20total\x20daily\x20limit','kKcPV','1|3|0|5|4|2','newContent','VOXPQ','zDRDT','./helpers','NRizJ','vIeRG','cHYiL','138951fGGbur','ioWUh','should\x20load\x20queued\x20posts','DsPUs','should\x20error\x20if\x20user\x20does\x20not\x20have\x20move\x20privilege','IkDhG','uPzCL','request','maximumTagsPerTopic','A\x20post\x20to\x20edit','YLyIZ','cFnKC','Test\x20category\x20created\x20by\x20testing\x20script','ycbnd','global\x20mod','should\x20display\x20the\x20uploaded\x20files\x20for\x20a\x20specific\x20post','SPYaf','content','getRawPost','NRmOG','cXyRz','YXdug','should\x20fail\x20to\x20get\x20raw\x20post\x20because\x20post\x20is\x20deleted','aBzDY','should\x20not\x20crash\x20and\x20return\x20falsy\x20if\x20post\x20data\x20is\x20falsy','rWlhv','type','.dissociate()','[[error:not-enough-tags,\x20','gaJhA','fffGR','XXADu','XREnV','9999999','edited\x20deleted\x20title','mUMjX','4|1|2|0|5|3','getUpvoters','123123123','topic\x20to\x20delete/restore/purge','kqbKs','GhZtb','SQAXr','LCtll','upvoters','A\x20post\x20to\x20delete/restore\x20and\x20purge','topic\x202','list','cyllX','newbiePostEditDuration','AUAtr','qJGJV','JkfKM','sQBom','should\x20return\x20false\x20if\x20upload\x20is\x20not\x20an\x20orphan','HaSAl','should\x20bookmark\x20a\x20post','isReadyToPost','yjOkO','groupsExemptFromPostQueue','kpgQk','YEQlf','signatures:disableImages','ecnBK','rafCW','SOtMS','gsbzn','/post/','vUWBV','should\x20properly\x20add\x20new\x20images\x20to\x20the\x20post\x27s\x20zset','<a\x20href=\x22/users\x22>test</a>\x20<a\x20href=\x22youtube.com\x22>youtube</a>','isArray','should\x20automatically\x20sync\x20uploads\x20on\x20topic\x20create\x20and\x20reply','this\x20is\x20a\x20queued\x20reply','uiBTm','AFYph','diffs','vpzrT','Sutsu','txpAi','dissociateAll','getPostSummaryByPids','xxxxxxxx','VNmLh','VbufN','PorrA','eLRfP','Nwrms','here\x20is\x20an\x20image\x20[alt\x20text](/assets/uploads/files/abracadabra.png)...\x20AND\x20NO\x20MORE!','xsPmL','give','path','cid','LFWcQ','YkRwn','should\x20error\x20if\x20content\x20is\x20too\x20long','Some\x20text\x20here\x20for\x20the\x20OP\x20&ndash;\x20','../src/socket.io/posts','vjaMA','../src/privileges','alfvP','1463241yFRkoK','should\x20create\x20a\x20topic\x20event\x20in\x20the\x20referenced\x20topic','uJSnZ','test\x20topic','JZnip','WoZmY','events','CsONa','QdNEQ','should\x20prevent\x20regular\x20users\x20from\x20approving\x20posts','AXUsV','tpfeZ','usernames','sNWaI','Topic\x20backlink\x20testing\x20-\x20topic\x202','AyRKJ','RiDbW','AaFuQ','editor','xeSqZ','rBizY','BonWP','RAwlt','ueaEI','should\x20delete\x20posts','LZrkr','should\x20delete\x20a\x20post','LzKRh','Test\x20Topic\x20Title','RuhcS','YjpvO','assert','ltTtZ','env','upvoted','KgaEY','hKPNt','JfgCQ','NENQR','CAEWY','groups:posts:upvote','bGInS','SdsUu','tid','lGxBM','123456789','BsgGD','should\x20return\x20pids\x20as\x20is\x20if\x20cid\x20is\x20falsy','coIdA','getRecentPosterUids','rMxgQ','tkXPj','groups:posts:edit','FPOlg','Vhvpa','topic\x20content','ikFTc','ETWAo','backlink','dliRQ','UDonr','maximumPostLength','upload\x20methods','bEmin','tsiYL','should\x20upvote\x20a\x20post','YppqR','downvoted','kJVfB','WLRiJ','Nysss','should\x20remove\x20an\x20image\x20from\x20the\x20post\x27s\x20maintained\x20list\x20of\x20uploads','VYKVV','topic\x20A\x20content','aTfTP','wsuku','edited-twice','cDHAJ','aPuUf','YjrdI','should\x20remove\x20the\x20backlink\x20(but\x20keep\x20the\x20event)\x20if\x20the\x20post\x20no\x20longer\x20contains\x20a\x20link\x20to\x20a\x20topic','/api/post-queue','should\x20error\x20if\x20title\x20is\x20too\x20short','newest_to_oldest','test.bmp','GceaH','GXSSO','uploads','mtLEF','hfypP','timestamps','teaser','kyObV','some\x20post\x20content','AfIaY','[[error:too-many-tags,\x20','socket\x20methods','getSortedSetRange','edit','should\x20add\x20an\x20image\x20to\x20the\x20post\x27s\x20maintained\x20list\x20of\x20uploads','kydmv','KIOqR','[[error:title-too-long,\x20',':uploads','every','should\x20prevent\x20downvoting\x20more\x20than\x20total\x20daily\x20limit','DCqqS','dyqRl','uFGNT'];_0x1f93=function(){return _0x2da720;};return _0x1f93();}