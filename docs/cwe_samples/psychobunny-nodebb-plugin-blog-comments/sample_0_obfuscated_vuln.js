function _0x2fb1(_0x5efd49,_0x22f2ff){const _0x12e9cb=_0x12e9();return _0x2fb1=function(_0x2fb148,_0x11862e){_0x2fb148=_0x2fb148-0xeb;let _0x567899=_0x12e9cb[_0x2fb148];return _0x567899;},_0x2fb1(_0x5efd49,_0x22f2ff);}const _0x5b074b=_0x2fb1;function _0x12e9(){const _0x51ab26=['should\x20upgrade\x20legacy\x20session\x20token','llKqr','60qeuqQT','applicationId','3631716OZeRZE','toBe','rvyAC','toBeUndefined','../lib/request','NgIzH','1234567890','code','should\x20not\x20crash\x20without\x20session\x20token\x20#2720','Object','toEqual','OfAda','BsRWx','1304476WQGcEW','qvSfl','XeosW','adapter','fromJSON','not','rest','gTelV','qtfKC','should\x20not\x20be\x20able\x20to\x20upgrade\x20a\x20bad\x20token','create','15918ovQLQw','lDACC','invalid\x20session','CGDBb','should\x20not\x20upgrade\x20bad\x20legacy\x20session\x20token','then','error','iHeip','wlBhV','JCkKZ','legacySessionToken','MzGEG','jgWyP','mNSEv','269214uheOgw','length','OBJECT_NOT_FOUND','INVALID_SESSION_TOKEN','ghfZh','Abdtt','pass','1865226bNBCkS','database','fphop','data','AJUYZ','revocable\x20sessions','kgoaz','1380PgtsaB','jUjgq','wvrAP','vIPwj','get','2xgZWRM','gezKA','User','become','getSessionToken','axRlS','IGKpc','indexOf','fgXUh','_upgradeToRevocableSession','UXorb','/upgradeToRevocableSession','tQbfo','15ZBvsWM','EGcwV','VwfAL','loadSchema','status','CXoTg','serverURL','BiMiY','vrioc','aMLDP','hello','FJQLW','_User','hwSnR','DnOzm','JQuoF','sessionToken','parse/node','Error','vnHmR','badSessionToken','getOneSchema','MiUjS','5791912VRlSlZ','WbxTt','4363722kxaBiF'];_0x12e9=function(){return _0x51ab26;};return _0x12e9();}(function(_0x4ce789,_0xba7aa8){const _0x2991c9=_0x2fb1,_0x176ea5=_0x4ce789();while(!![]){try{const _0x49ba15=-parseInt(_0x2991c9(0xf2))/0x1*(parseInt(_0x2991c9(0x105))/0x2)+parseInt(_0x2991c9(0xf9))/0x3+parseInt(_0x2991c9(0x13d))/0x4*(-parseInt(_0x2991c9(0x112))/0x5)+parseInt(_0x2991c9(0x100))/0x6*(-parseInt(_0x2991c9(0x148))/0x7)+-parseInt(_0x2991c9(0x129))/0x8+parseInt(_0x2991c9(0x130))/0x9+-parseInt(_0x2991c9(0x12e))/0xa*(-parseInt(_0x2991c9(0x12b))/0xb);if(_0x49ba15===_0xba7aa8)break;else _0x176ea5['push'](_0x176ea5['shift']());}catch(_0x4646e2){_0x176ea5['push'](_0x176ea5['shift']());}}}(_0x12e9,0xde632));const Config=require('../lib/Config'),sessionToken=_0x5b074b(0xee),request=require(_0x5b074b(0x134)),Parse=require(_0x5b074b(0x123));function createUser(){const _0x3821b0=_0x5b074b,_0x6b4d37={'wvrAP':_0x3821b0(0x11c)},_0x529f67=Config[_0x3821b0(0x104)](Parse[_0x3821b0(0x12f)]),_0x107e23={'objectId':_0x3821b0(0x136),'username':_0x6b4d37[_0x3821b0(0x102)],'password':_0x3821b0(0xf8),'_session_token':sessionToken};return _0x529f67[_0x3821b0(0xfa)][_0x3821b0(0x147)](_0x3821b0(0x11e),_0x107e23);}describe_only_db('mongo')(_0x5b074b(0xfe),()=>{const _0x3cdace=_0x5b074b,_0xb1bb5d={'MiUjS':function(_0x272876){return _0x272876();},'NgIzH':function(_0x54dc6f,_0x49109c){return _0x54dc6f(_0x49109c);},'FJQLW':_0x3cdace(0x146),'VwfAL':_0x3cdace(0xf7),'BsRWx':'_User','rvyAC':function(_0x210c5b,_0x4e003a){return _0x210c5b===_0x4e003a;},'lDACC':_0x3cdace(0xf0),'tQbfo':function(_0x5d39f5,_0x57bc5c){return _0x5d39f5(_0x57bc5c);},'gcuLm':function(_0x1568e0,_0x585d39){return _0x1568e0===_0x585d39;},'AJUYZ':_0x3cdace(0x101),'CGDBb':'POST','vrioc':_0x3cdace(0x110),'JCkKZ':_0x3cdace(0x143),'JQuoF':_0x3cdace(0x126),'SZTMS':_0x3cdace(0x14a),'DnOzm':function(_0xf96554,_0x2392db){return _0xf96554(_0x2392db);},'vnHmR':_0x3cdace(0x12c),'IGKpc':function(_0x2ab8b8,_0x16cdf5,_0x547195){return _0x2ab8b8(_0x16cdf5,_0x547195);}};_0xb1bb5d[_0x3cdace(0x120)](beforeEach,async()=>{const _0x1aa408=_0x3cdace;await _0xb1bb5d[_0x1aa408(0x128)](createUser);}),it(_0xb1bb5d[_0x3cdace(0x125)],_0x339ec8=>{const _0x4e2280=_0x3cdace,_0x1641dc={'qvSfl':function(_0x17bb08){return _0x17bb08();},'iPBpS':_0xb1bb5d[_0x4e2280(0x11d)],'EGcwV':_0xb1bb5d[_0x4e2280(0x114)],'ghfZh':_0xb1bb5d[_0x4e2280(0x13c)],'mNSEv':function(_0x14a9f1){return _0x14a9f1();},'qtfKC':function(_0x517380,_0x157bb6){const _0x2a2435=_0x4e2280;return _0xb1bb5d[_0x2a2435(0x132)](_0x517380,_0x157bb6);},'WbxTt':'gTelV'};if(_0xb1bb5d['lDACC']!==_0xb1bb5d[_0x4e2280(0x149)])_0x1641dc[_0x4e2280(0x13e)](_0x5532d6);else{const _0x2ed40b=Parse[_0x4e2280(0x139)][_0x4e2280(0x141)]({'className':_0x4e2280(0x11e),'objectId':_0x4e2280(0x136),'sessionToken':sessionToken});_0x2ed40b[_0x4e2280(0x10e)]()[_0x4e2280(0x14d)](_0x40f0f0=>{const _0x33505d=_0x4e2280,_0x14cf82={'MIFAx':'1234567890','fphop':function(_0x544da3,_0x3763a9){return _0x544da3(_0x3763a9);}};_0xb1bb5d[_0x33505d(0x135)](expect,_0x40f0f0[_0x33505d(0x109)]()[_0x33505d(0x10c)]('r:'))[_0x33505d(0x131)](0x0);const _0x386b32=Config[_0x33505d(0x104)](Parse[_0x33505d(0x12f)]);return _0x386b32[_0x33505d(0xfa)][_0x33505d(0x115)]()[_0x33505d(0x14d)](_0xe95fa9=>{const _0x1d515b=_0x33505d,_0x5063e4={'XeosW':function(_0x1f0a29,_0x43d70a){return _0x1f0a29(_0x43d70a);},'llKqr':_0x1641dc['iPBpS']};if(_0x1641dc[_0x1d515b(0x113)]===_0x1d515b(0x11f))_0x5063e4[_0x1d515b(0x13f)](_0x3b24f4,_0x5063e4[_0x1d515b(0x12d)]);else return _0xe95fa9[_0x1d515b(0x127)](_0x1641dc[_0x1d515b(0xf6)],!![]);})['then'](_0x1d7927=>{const _0x1c6e72=_0x33505d;return _0x386b32[_0x1c6e72(0xfa)][_0x1c6e72(0x140)]['find'](_0x1c6e72(0x11e),_0x1d7927,{'objectId':_0x14cf82['MIFAx']},{});})[_0x33505d(0x14d)](_0x486d4d=>{const _0x7b485b=_0x33505d;_0x14cf82[_0x7b485b(0xfb)](expect,_0x486d4d[_0x7b485b(0xf3)])[_0x7b485b(0x131)](0x1),expect(_0x486d4d[0x0][_0x7b485b(0x122)])[_0x7b485b(0x133)]();});})[_0x4e2280(0x14d)](()=>{const _0x419abb=_0x4e2280;_0x1641dc[_0x419abb(0x13e)](_0x339ec8);},_0x52960d=>{const _0x132173=_0x4e2280,_0x81c044={'UXorb':function(_0x28c306){const _0x59da25=_0x2fb1;return _0x1641dc[_0x59da25(0xf1)](_0x28c306);}};_0x1641dc[_0x132173(0x145)](_0x1641dc[_0x132173(0x12a)],_0x132173(0x144))?(jfail(_0x52960d),_0x339ec8()):_0x81c044[_0x132173(0x10f)](_0x5b37fd);});}}),it('should\x20be\x20able\x20to\x20become\x20with\x20revocable\x20session\x20token',_0x5705fc=>{const _0x127163=_0x3cdace,_0x13a100={'MzGEG':function(_0x58436f,_0x552fb2){const _0xfee712=_0x2fb1;return _0xb1bb5d[_0xfee712(0x111)](_0x58436f,_0x552fb2);},'vjRzh':function(_0x120e04,_0x22e87c){return _0xb1bb5d['gcuLm'](_0x120e04,_0x22e87c);},'BiMiY':_0xb1bb5d[_0x127163(0xfd)]},_0x47a744=Parse[_0x127163(0x139)][_0x127163(0x141)]({'className':_0x127163(0x11e),'objectId':_0x127163(0x136),'sessionToken':sessionToken});_0x47a744[_0x127163(0x10e)]()[_0x127163(0x14d)](_0x57c094=>{const _0x934c5d=_0x127163;return expect(_0x57c094[_0x934c5d(0x109)]()[_0x934c5d(0x10c)]('r:'))['toBe'](0x0),Parse[_0x934c5d(0x107)]['logOut']()['then'](()=>{const _0x1264bf=_0x934c5d,_0x238a46={'OfAda':function(_0x4fa6e5,_0x4a3ff3){const _0x17295f=_0x2fb1;return _0x13a100[_0x17295f(0xef)](_0x4fa6e5,_0x4a3ff3);}};if(_0x13a100['vjRzh'](_0x13a100[_0x1264bf(0x119)],'zPGcb'))_0x4caec9(_0x5a949f['status'])[_0x1264bf(0x131)](0x194),_0x1d5da1(_0x593156['data'])['not'][_0x1264bf(0x133)](),_0x238a46['OfAda'](_0x3bf465,_0x4469c4[_0x1264bf(0xfc)][_0x1264bf(0x137)])['toBe'](_0x36653b[_0x1264bf(0x124)]['OBJECT_NOT_FOUND']),_0x238a46[_0x1264bf(0x13b)](_0x5e6cbf,_0x291647['data'][_0x1264bf(0x14e)])[_0x1264bf(0x13a)](_0x1264bf(0x14a));else return Parse['User'][_0x1264bf(0x108)](_0x57c094[_0x1264bf(0x109)]());})[_0x934c5d(0x14d)](_0x2ec21c=>{const _0x585682=_0x934c5d;expect(_0x2ec21c['id'])[_0x585682(0x13a)]('1234567890');});})[_0x127163(0x14d)](()=>{_0x5705fc();},_0x3bd796=>{jfail(_0x3bd796),_0x5705fc();});}),_0xb1bb5d[_0x3cdace(0x10b)](it,_0x3cdace(0x14c),_0x130c46=>{const _0x388e6b=_0x3cdace,_0x3d796f={'SqmAQ':function(_0x3f20fa,_0x4194c7){return _0x3f20fa(_0x4194c7);},'fgXUh':function(_0xbda64a,_0x1be8a5){return _0xbda64a(_0x1be8a5);},'vIPwj':'invalid\x20legacy\x20session\x20token','LJaga':'aMLDP'};_0xb1bb5d[_0x388e6b(0x111)](request,{'method':_0xb1bb5d[_0x388e6b(0x14b)],'url':Parse[_0x388e6b(0x118)]+_0xb1bb5d[_0x388e6b(0x11a)],'headers':{'X-Parse-Application-Id':Parse[_0x388e6b(0x12f)],'X-Parse-Rest-API-Key':_0xb1bb5d[_0x388e6b(0xed)],'X-Parse-Session-Token':_0xb1bb5d[_0x388e6b(0x121)]}})['then'](()=>{const _0x2b7b5a=_0x388e6b;_0xb1bb5d[_0x2b7b5a(0x111)](fail,_0xb1bb5d[_0x2b7b5a(0x11d)]);},_0x551630=>{const _0x5c7c4d=_0x388e6b;_0x3d796f['SqmAQ'](expect,_0x551630[_0x5c7c4d(0x116)])[_0x5c7c4d(0x131)](0x190),_0x3d796f[_0x5c7c4d(0x10d)](expect,_0x551630[_0x5c7c4d(0xfc)])[_0x5c7c4d(0x142)][_0x5c7c4d(0x133)](),expect(_0x551630[_0x5c7c4d(0xfc)][_0x5c7c4d(0x137)])[_0x5c7c4d(0x131)](Parse[_0x5c7c4d(0x124)][_0x5c7c4d(0xf5)]),expect(_0x551630['data'][_0x5c7c4d(0x14e)])[_0x5c7c4d(0x13a)](_0x3d796f[_0x5c7c4d(0x103)]);})[_0x388e6b(0x14d)](()=>{const _0x42e1e0=_0x388e6b,_0x5b3ecb={'axRlS':function(_0x142ece,_0x4f9e30){return _0x3d796f['fgXUh'](_0x142ece,_0x4f9e30);}};_0x42e1e0(0x11b)===_0x3d796f['LJaga']?_0x130c46():_0x5b3ecb[_0x42e1e0(0x10a)](_0xfa31d5,_0x4fcf6b['id'])[_0x42e1e0(0x13a)](_0x42e1e0(0x136));});}),it(_0x3cdace(0x138),_0x436540=>{const _0x499db9=_0x3cdace,_0x46563d={'CXoTg':function(_0x42ef9e,_0x42cd7c){return _0x42ef9e(_0x42cd7c);},'mLxTm':_0xb1bb5d[_0x499db9(0x11d)],'gezKA':function(_0x79921d){return _0x79921d();},'wlBhV':_0x499db9(0xff)};request({'method':_0xb1bb5d[_0x499db9(0x14b)],'url':Parse['serverURL']+'/upgradeToRevocableSession','headers':{'X-Parse-Application-Id':Parse[_0x499db9(0x12f)],'X-Parse-Rest-API-Key':_0x499db9(0x143)}})[_0x499db9(0x14d)](()=>{const _0x16e41c=_0x499db9;_0x46563d[_0x16e41c(0x117)](fail,_0x46563d['mLxTm']);},_0x45587d=>{const _0x10b4e7=_0x499db9;expect(_0x45587d[_0x10b4e7(0x116)])[_0x10b4e7(0x131)](0x194),expect(_0x45587d['data'])[_0x10b4e7(0x142)][_0x10b4e7(0x133)](),expect(_0x45587d[_0x10b4e7(0xfc)][_0x10b4e7(0x137)])[_0x10b4e7(0x131)](Parse[_0x10b4e7(0x124)][_0x10b4e7(0xf4)]),expect(_0x45587d['data'][_0x10b4e7(0x14e)])[_0x10b4e7(0x13a)](_0xb1bb5d['SZTMS']);})['then'](()=>{const _0x1390a2=_0x499db9;_0x1390a2(0xeb)!==_0x46563d[_0x1390a2(0xec)]?_0x436540():_0x46563d[_0x1390a2(0x106)](_0x16c11c);});});});