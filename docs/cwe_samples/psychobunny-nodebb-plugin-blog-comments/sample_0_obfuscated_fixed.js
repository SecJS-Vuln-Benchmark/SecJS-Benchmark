const _0x10f09a=_0x5a57;function _0x5a57(_0x4c45c0,_0x262eb2){const _0x568e96=_0x568e();return _0x5a57=function(_0x5a5758,_0x37f187){_0x5a5758=_0x5a5758-0xd8;let _0x45bc3b=_0x568e96[_0x5a5758];return _0x45bc3b;},_0x5a57(_0x4c45c0,_0x262eb2);}function _0x568e(){const _0x41c6b0=['6KIsCfw','djbjm','gDMtr','TaGCg','zUkkr','305AjORTJ','setPassword','toEqual','FhxNu','297vwLUxL','FTquf','zqmWH','find','pnJsv','cjKph','9313016rnvVCQ','PeyuT','http://www.example.com','toBeDefined','970431zGqgST','qjWtv','9682463czytTV','signUp','get','toBe','xsDqZ','setUsername','sendVerificationEmail','WMoBf','1128240ztvTqV','http://www.example.com/apps/test/verify_email?token=','parseFrameURL\x20not\x20provided','test','70504okHyOV','verification@example.com','VxbYt','setEmail','UserController','MRfiv','username','link','http://someother.example.com/handle-parse-iframe','pass','5763294wkSIll','database','XXQTp','uHKvX','_email_verify_token','User','../lib/Auth','Frwdb','826845kMBPck','61338330-eca7-4c33-8816-7ff05966f43b','http://someother.example.com/handle-parse-iframe?link=%2Fapps%2Ftest%2Fverify_email&token=','./support/MockEmailAdapter','_User','uses\x20publicServerURL'];_0x568e=function(){return _0x41c6b0;};return _0x568e();}(function(_0xec7133,_0x4806d3){const _0x41e7c2=_0x5a57,_0x2eadec=_0xec7133();while(!![]){try{const _0x11cfdd=parseInt(_0x41e7c2(0xdf))/0x1+parseInt(_0x41e7c2(0xe5))/0x2*(-parseInt(_0x41e7c2(0xf8))/0x3)+-parseInt(_0x41e7c2(0x106))/0x4*(-parseInt(_0x41e7c2(0xea))/0x5)+parseInt(_0x41e7c2(0x110))/0x6+parseInt(_0x41e7c2(0xfa))/0x7+parseInt(_0x41e7c2(0xf4))/0x8+parseInt(_0x41e7c2(0xee))/0x9*(-parseInt(_0x41e7c2(0x102))/0xa);if(_0x11cfdd===_0x4806d3)break;else _0x2eadec['push'](_0x2eadec['shift']());}catch(_0x2392b1){_0x2eadec['push'](_0x2eadec['shift']());}}}(_0x568e,0xaee05));const emailAdapter=require(_0x10f09a(0xe2)),Config=require('../lib/Config'),Auth=require(_0x10f09a(0xdd));describe(_0x10f09a(0x10a),()=>{const _0x455b62=_0x10f09a,_0x570daa={'ilTHr':function(_0xbed8f5,_0x4cd35d){return _0xbed8f5(_0x4cd35d);},'qjWtv':_0x455b62(0xf6),'zqmWH':_0x455b62(0xe3),'djbjm':function(_0x445920,_0x2f4c22){return _0x445920(_0x2f4c22);},'WMoBf':_0x455b62(0xe0),'OBDiY':_0x455b62(0x105),'pnJsv':function(_0x2da1d7,_0x3665b1,_0x2d1fb9){return _0x2da1d7(_0x3665b1,_0x2d1fb9);}};describe(_0x455b62(0x100),()=>{const _0x3a9428=_0x455b62,_0x87b489={'cjKph':_0x3a9428(0x10e),'gDMtr':_0x570daa['OBDiY'],'TaGCg':_0x570daa[_0x3a9428(0xf0)],'FhxNu':'673c2bb1-049e-4dda-b6be-88c866260036'};_0x570daa[_0x3a9428(0xf2)](describe,_0x3a9428(0x104),()=>{const _0x1c8944=_0x3a9428,_0x45d986={'xsDqZ':function(_0x276a42,_0x42f70e){return _0x570daa['ilTHr'](_0x276a42,_0x42f70e);},'FTquf':_0x570daa[_0x1c8944(0xf9)],'gWBml':'verificationUser','RvJAl':_0x1c8944(0x10f),'Frwdb':_0x570daa[_0x1c8944(0xf0)]};_0x570daa[_0x1c8944(0xe6)](it_id,_0x570daa[_0x1c8944(0x101)])(it)(_0x1c8944(0xe4),async()=>{const _0x3b1321=_0x1c8944;await _0x45d986['xsDqZ'](reconfigureServer,{'publicServerURL':_0x45d986[_0x3b1321(0xef)],'customPages':{'parseFrameURL':undefined},'verifyUserEmails':!![],'emailAdapter':emailAdapter,'appName':'test'});let _0x581330;emailAdapter['sendVerificationEmail']=_0x2b1d90=>{_0x581330=_0x2b1d90;};const _0x15dda0=_0x45d986['gWBml'],_0x594e83=new Parse['User']();_0x594e83[_0x3b1321(0xff)](_0x15dda0),_0x594e83[_0x3b1321(0xeb)](_0x45d986['RvJAl']),_0x594e83[_0x3b1321(0x109)]('verification@example.com'),await _0x594e83[_0x3b1321(0xfb)]();const _0x5ef933=Config[_0x3b1321(0xfc)](_0x3b1321(0x105)),_0x35ac90=await _0x5ef933[_0x3b1321(0xd8)][_0x3b1321(0xf1)](_0x45d986[_0x3b1321(0xde)],{'username':_0x15dda0},{},Auth['maintenance'](_0x5ef933)),_0x22162b=_0x35ac90[0x0][_0x3b1321(0x10c)],_0x3c93a3=_0x35ac90[0x0]['_email_verify_token'];_0x45d986[_0x3b1321(0xfe)](expect,_0x3c93a3)[_0x3b1321(0xf7)](),_0x45d986[_0x3b1321(0xfe)](expect,_0x22162b)[_0x3b1321(0xfd)](_0x15dda0),expect(_0x581330['link'])[_0x3b1321(0xec)](_0x3b1321(0x103)+_0x3c93a3);});}),_0x570daa[_0x3a9428(0xf2)](describe,'parseFrameURL\x20provided',()=>{const _0x1b3bf8=_0x3a9428,_0x5aef0a={'VxbYt':function(_0x230af2,_0x1b332b){return _0x230af2(_0x1b332b);},'zUkkr':'http://www.example.com','rAnCp':_0x87b489[_0x1b3bf8(0xf3)],'uHKvX':_0x87b489[_0x1b3bf8(0xe7)],'kJuWG':'verificationUser','XXQTp':_0x1b3bf8(0x10f),'MRfiv':_0x87b489[_0x1b3bf8(0xe8)],'PeyuT':function(_0xc7a366,_0x64c441){return _0xc7a366(_0x64c441);}};it_id(_0x87b489[_0x1b3bf8(0xed)])(it)('uses\x20parseFrameURL\x20and\x20includes\x20the\x20destination\x20in\x20the\x20link\x20parameter',async()=>{const _0x258580=_0x1b3bf8;await _0x5aef0a[_0x258580(0x108)](reconfigureServer,{'publicServerURL':_0x5aef0a[_0x258580(0xe9)],'customPages':{'parseFrameURL':_0x5aef0a['rAnCp']},'verifyUserEmails':!![],'emailAdapter':emailAdapter,'appName':_0x5aef0a[_0x258580(0xda)]});let _0x7c22d9;emailAdapter[_0x258580(0x100)]=_0x354e01=>{_0x7c22d9=_0x354e01;};const _0x1160d6=_0x5aef0a['kJuWG'],_0x1b33ed=new Parse[(_0x258580(0xdc))]();_0x1b33ed['setUsername'](_0x1160d6),_0x1b33ed[_0x258580(0xeb)](_0x5aef0a[_0x258580(0xd9)]),_0x1b33ed[_0x258580(0x109)](_0x258580(0x107)),await _0x1b33ed[_0x258580(0xfb)]();const _0x43ad37=Config[_0x258580(0xfc)](_0x5aef0a[_0x258580(0xda)]),_0x215668=await _0x43ad37[_0x258580(0xd8)][_0x258580(0xf1)](_0x5aef0a[_0x258580(0x10b)],{'username':_0x1160d6},{},Auth['maintenance'](_0x43ad37)),_0x16e845=_0x215668[0x0][_0x258580(0x10c)],_0x597dab=_0x215668[0x0][_0x258580(0xdb)];_0x5aef0a[_0x258580(0x108)](expect,_0x597dab)['toBeDefined'](),expect(_0x16e845)[_0x258580(0xfd)](_0x1160d6),_0x5aef0a[_0x258580(0xf5)](expect,_0x7c22d9[_0x258580(0x10d)])[_0x258580(0xec)](_0x258580(0xe1)+_0x597dab);});});});});