(function(_0x2e8f4e,_0x557e20){const _0xb72b23=_0x5486,_0x111c41=_0x2e8f4e();while(!![]){try{const _0x3974fe=-parseInt(_0xb72b23(0x187))/0x1*(-parseInt(_0xb72b23(0x18b))/0x2)+parseInt(_0xb72b23(0x191))/0x3+-parseInt(_0xb72b23(0x195))/0x4*(parseInt(_0xb72b23(0x188))/0x5)+parseInt(_0xb72b23(0x183))/0x6+-parseInt(_0xb72b23(0x18c))/0x7+parseInt(_0xb72b23(0x185))/0x8+-parseInt(_0xb72b23(0x184))/0x9*(parseInt(_0xb72b23(0x18f))/0xa);if(_0x3974fe===_0x557e20)break;else _0x111c41['push'](_0x111c41['shift']());}catch(_0x37b80d){_0x111c41['push'](_0x111c41['shift']());}}}(_0x9c4f,0xc128c));function _0x5486(_0x2d40ca,_0x2f3829){const _0x9c4f44=_0x9c4f();return _0x5486=function(_0x5486ce,_0x221660){_0x5486ce=_0x5486ce-0x181;let _0x8d86f2=_0x9c4f44[_0x5486ce];return _0x8d86f2;},_0x5486(_0x2d40ca,_0x2f3829);}import{fileURLToPath}from'node:url';import{getAstroConfigSetup,processStaticFiles}from'./core.mjs';const getAstroBuildDone=_0x395f2e=>async({dir:_0xf41c0b,logger:_0x4aa79d})=>await processStaticFiles(_0x4aa79d,{'distDir':fileURLToPath(_0xf41c0b),'sri':_0x395f2e}),logWarn=_0x2f2811=>console['warn']('\x0aWARNING\x20(@kindspells/astro-shield):\x0a\x09'+_0x2f2811+'\x0a');function _0x9c4f(){const _0x31123c=['20ycYLrZ','7469406FnaxlO','`sriHashesModule`\x20is\x20deprecated,\x20use\x20`sri.hashesModule`\x20instead','all','2340dNHENx','@kindspells/astro-shield','279417EinawV','allowInlineStyles','sUTos','enableStatic','16AheqQy','PwYFy','stylesAllowListUrls','JrCas','NImKX','hashesModule','8935512aqmlRe','20862ameOyN','4108264xQHdzD','ntHoq','43461jefBDT','162355pzWrbt','DIHyC','`sriHashesModule`\x20is\x20ignored\x20when\x20`enableStatic_SRI`\x20is\x20`false`'];_0x9c4f=function(){return _0x31123c;};return _0x9c4f();}export const shield=({enableMiddleware_SRI:_0x52be6e,enableStatic_SRI:_0x2924b8,sriHashesModule:_0x5b379f,securityHeaders:_0x4b8e70,sri:_0x3e744a})=>{const _0x1c4759=_0x5486,_0x191de8={'JrCas':function(_0x1d6a40,_0x384203){return _0x1d6a40(_0x384203);},'DIHyC':function(_0x28bea8,_0x427d97){return _0x28bea8(_0x427d97);},'ntHoq':'`enableStatic_SRI`\x20is\x20deprecated,\x20use\x20`sri.enableStatic`\x20instead','NImKX':function(_0x33fbdb,_0x4167b7){return _0x33fbdb!==_0x4167b7;},'bGGiS':function(_0x1023fb,_0x2f7371){return _0x1023fb(_0x2f7371);},'dzkYJ':_0x1c4759(0x18e),'PwYFy':function(_0x35a90a,_0x26dda1){return _0x35a90a(_0x26dda1);},'sUTos':_0x1c4759(0x190)};_0x52be6e!==undefined&&_0x191de8[_0x1c4759(0x198)](logWarn,'`enableMiddleware_SRI`\x20is\x20deprecated,\x20use\x20`sri.enableMiddleware`\x20instead');_0x2924b8!==undefined&&_0x191de8[_0x1c4759(0x189)](logWarn,_0x191de8[_0x1c4759(0x186)]);_0x191de8[_0x1c4759(0x181)](_0x5b379f,undefined)&&_0x191de8['bGGiS'](logWarn,_0x1c4759(0x18d));const _0x5ba92b={'enableMiddleware':_0x3e744a?.['enableMiddleware']??_0x52be6e??![],'enableStatic':_0x3e744a?.['enableStatic']??_0x2924b8??!![],'hashesModule':_0x3e744a?.[_0x1c4759(0x182)]??_0x5b379f,'allowInlineScripts':_0x3e744a?.['allowInlineScripts']??_0x191de8['dzkYJ'],'allowInlineStyles':_0x3e744a?.[_0x1c4759(0x192)]??_0x1c4759(0x18e),'scriptsAllowListUrls':_0x3e744a?.['scriptsAllowListUrls']??[],'stylesAllowListUrls':_0x3e744a?.[_0x1c4759(0x197)]??[]};return _0x5ba92b[_0x1c4759(0x182)]&&_0x5ba92b['enableStatic']===![]&&_0x191de8[_0x1c4759(0x196)](logWarn,_0x1c4759(0x18a)),{'name':_0x191de8[_0x1c4759(0x193)],'hooks':{..._0x5ba92b[_0x1c4759(0x194)]===!![]?{'astro:build:done':getAstroBuildDone(_0x5ba92b)}:undefined,..._0x5ba92b['enableMiddleware']===!![]?{'astro:config:setup':getAstroConfigSetup(_0x5ba92b,_0x4b8e70)}:undefined}};};export default shield;