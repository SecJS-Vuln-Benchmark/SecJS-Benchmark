'use strict';function _0x4edf(){const _0x292132=['login','bind','reloadRoutes','710350kWjHnX','checkState','HkQaF','warn','state','../plugins','onSuccessfulLogin','applyBlacklist','ssoState','error','564270GLDUne','session','exports','locals','206283ZffKZG','registerAbort','FHzIF','xswbq','Strategy','setAuthVars','seDrV','authenticate','804udPQOp','veayr','3618rCreOD','middleware','getLoginStrategies','winston','iGrxR','logout','safe','XLnfr','lRRTw','strategy','bkiGZ','riOMu','/logout','72qFqaHE','2ODBqof','return\x20Object.keys({a:1});','../controllers/helpers','BTHZs','get','registration','successUrl','loggedIn','waterfall','/login','rgiqe','apply','serializeUser','sVUij','url','register','filter:auth.options','ZFjpi','fTNNm','callbackURL','/register/complete','xzPaA','connect-multiparty','name','use','hooks','callbackMethod','uid','664017iNXZEd','Ipxdv','app','passport-http-bearer','rMURT','reduce','urlMethod','token','core.api','failureUrl','TpYVa','YQpQs','wXuWH','[[error:csrf-invalid]]','settings','stack','5WRFoen','fire','log','query','../meta','Tdjhd','QcYLf','ByTTr','verifyToken','EKEpU','passport-local','Dzcgj','fnEXz','return\x20new\x20Date();','GsVHr','authentication','length','initialize','redirect','iwfxV','applyCSRF','IWrrZ','prompt','398100ySSVpM','/register/abort','isSpider','returnTo','deserializeUser','user','/register','forEach','async','csrfToken','ApSVB','validateAuth','action:auth.overrideLogin','627221uQvWJt','HATcC','19450ayjFNz','lciIY','post','[authentication]\x20Login\x20override\x20detected,\x20skipping\x20local\x20login\x20strategy.'];_0x4edf=function(){return _0x292132;};return _0x4edf();}const _0x2b9649=_0xcd6c;(function(_0x41aed7,_0x3c9661){const _0x45dfa1=_0xcd6c,_0x5105c4=_0x41aed7();while(!![]){try{const _0x30d5e5=-parseInt(_0x45dfa1(0x180))/0x1*(parseInt(_0x45dfa1(0x1d9))/0x2)+parseInt(_0x45dfa1(0x19c))/0x3+parseInt(_0x45dfa1(0x1c3))/0x4*(-parseInt(_0x45dfa1(0x1ac))/0x5)+-parseInt(_0x45dfa1(0x1e3))/0x6+-parseInt(_0x45dfa1(0x1d0))/0x7*(-parseInt(_0x45dfa1(0x17f))/0x8)+parseInt(_0x45dfa1(0x172))/0x9*(-parseInt(_0x45dfa1(0x1d2))/0xa)+parseInt(_0x45dfa1(0x1e7))/0xb*(parseInt(_0x45dfa1(0x170))/0xc);if(_0x30d5e5===_0x3c9661)break;else _0x5105c4['push'](_0x5105c4['shift']());}catch(_0x1afc8f){_0x5105c4['push'](_0x5105c4['shift']());}}}(_0x4edf,0x92187));const async=require(_0x2b9649(0x1cb)),passport=require('passport'),passportLocal=require(_0x2b9649(0x1b6))[_0x2b9649(0x16c)],BearerStrategy=require(_0x2b9649(0x19f))[_0x2b9649(0x16c)],winston=require(_0x2b9649(0x175)),meta=require(_0x2b9649(0x1b0)),controllers=require('../controllers'),helpers=require(_0x2b9649(0x182)),plugins=require(_0x2b9649(0x1de));function _0xcd6c(_0x193d7c,_0x2937b5){const _0x4edfc1=_0x4edf();return _0xcd6c=function(_0xcd6c90,_0x44e4b7){_0xcd6c90=_0xcd6c90-0x16a;let _0x244f48=_0x4edfc1[_0xcd6c90];return _0x244f48;},_0xcd6c(_0x193d7c,_0x2937b5);}let loginStrategies=[];const Auth=module[_0x2b9649(0x1e5)];Auth[_0x2b9649(0x1bd)]=function(_0x39ccfe,_0x19e383){const _0x5d416c=_0x2b9649,_0x39ca47={'rMURT':function(_0x35e03b,_0x494732,_0xdabbb7,_0x2272b0){return _0x35e03b(_0x494732,_0xdabbb7,_0x2272b0);}},_0x22dd28=passport[_0x5d416c(0x1bd)]();_0x39ccfe[_0x5d416c(0x198)]((_0x252d43,_0x35c6e5,_0x417197)=>{const _0x11c418=_0x5d416c;_0x39ca47[_0x11c418(0x1a0)](_0x22dd28,_0x252d43,_0x35c6e5,_0x417197);});const _0x1cf4b1=passport[_0x5d416c(0x1e4)]();_0x39ccfe['use']((_0x15f075,_0x34af63,_0x1f2b4e)=>{_0x1cf4b1(_0x15f075,_0x34af63,_0x1f2b4e);}),_0x39ccfe[_0x5d416c(0x198)]((_0x4d3e1f,_0x369b8d,_0x3a2203)=>{const _0x154f8f=_0x5d416c;Auth[_0x154f8f(0x16d)](_0x4d3e1f,_0x369b8d),_0x3a2203();}),Auth[_0x5d416c(0x19e)]=_0x39ccfe,Auth['middleware']=_0x19e383;},Auth[_0x2b9649(0x16d)]=function setAuthVars(_0x4bd51c){const _0x59b180=_0x2b9649,_0x7b6bea={'veayr':function(_0xb12b4f,_0x350803,_0x4dfe0f){return _0xb12b4f(_0x350803,_0x4dfe0f);}},_0xcf9f5c=_0x4bd51c[_0x59b180(0x1c5)]();_0x4bd51c[_0x59b180(0x187)]=!_0xcf9f5c&&!!_0x4bd51c[_0x59b180(0x1c8)];if(_0x4bd51c[_0x59b180(0x1c8)])_0x4bd51c['uid']=_0x7b6bea[_0x59b180(0x171)](parseInt,_0x4bd51c[_0x59b180(0x1c8)][_0x59b180(0x19b)],0xa);else _0xcf9f5c?_0x4bd51c['uid']=-0x1:_0x4bd51c[_0x59b180(0x19b)]=0x0;},Auth[_0x2b9649(0x174)]=function(){const _0xc08c4=_0x2b9649,_0x58fd56={'iwfxV':function(_0x59b3e8,_0x4d7c68,_0x47808c){return _0x59b3e8(_0x4d7c68,_0x47808c);}};return _0x58fd56[_0xc08c4(0x1bf)](setInterval,'updateClock();',0x3e8),loginStrategies;},Auth[_0x2b9649(0x1b4)]=async function(_0x298bc8,_0x119f3f){const _0x324bdf=_0x2b9649,_0x41e880={'NUxVy':function(_0x871c7c,_0x4ebec5){return _0x871c7c===_0x4ebec5;},'HkQaF':'rgiqe','TpYVa':function(_0x1ac33c,_0x482210){return _0x1ac33c(_0x482210);},'iGrxR':'return\x20new\x20Date();','EKEpU':function(_0x3a4607,_0x2313ce){return _0x3a4607!==_0x2313ce;},'FHzIF':_0x324bdf(0x1ba)};let {tokens:tokens=[]}=await meta[_0x324bdf(0x1aa)][_0x324bdf(0x184)](_0x324bdf(0x1a4));tokens=tokens[_0x324bdf(0x1a1)]((_0x5d35e6,_0x34dc37)=>{const _0x4a8605=_0x324bdf;if(_0x41e880['NUxVy'](_0x41e880[_0x4a8605(0x1db)],_0x4a8605(0x18a)))return _0x5d35e6[_0x34dc37[_0x4a8605(0x1a3)]]=_0x34dc37[_0x4a8605(0x19b)],_0x41e880[_0x4a8605(0x1a6)](Function,_0x41e880[_0x4a8605(0x176)])(),_0x5d35e6;else delete _0x4bc27[_0x4a8605(0x1e4)][_0x4a8605(0x185)];},{});const _0x210f90=tokens[_0x298bc8];_0x41e880[_0x324bdf(0x1b5)](_0x210f90,undefined)?_0x324bdf(0x19d)!==_0x324bdf(0x19d)?_0x80842a(_0xb2f516,_0x517f5,_0x1ee8e6):parseInt(_0x210f90,0xa)>0x0?_0x119f3f(null,{'uid':_0x210f90}):_0x324bdf(0x1ba)===_0x41e880[_0x324bdf(0x16a)]?_0x119f3f(null,{'master':!![]}):(_0x3e6cdb[_0x324bdf(0x16d)](_0x3d2c8e,_0x1ac6dd),_0x235c14()):_0x119f3f(![]);},Auth[_0x2b9649(0x1d8)]=async function(_0x2c96c6){const _0x264cc6=_0x2b9649,_0x54211d={'ZJvtr':function(_0x57fbb7,_0x2b5e25){return _0x57fbb7===_0x2b5e25;},'BTHZs':function(_0x7e03,_0x27bb07){return _0x7e03(_0x27bb07);},'wjQkP':function(_0x32f9ec){return _0x32f9ec();},'Tdjhd':function(_0x6ef9d4,_0x10ee6e){return _0x6ef9d4!==_0x10ee6e;},'dBhRU':_0x264cc6(0x1a9),'XLnfr':_0x264cc6(0x1d3),'xswbq':'get','fnEXz':_0x264cc6(0x1cf),'IWrrZ':_0x264cc6(0x1d5),'UbaMN':function(_0x407238,_0x1a3a7d){return _0x407238===_0x1a3a7d;},'Fonsh':_0x264cc6(0x195),'RJrLu':_0x264cc6(0x196),'YQpQs':_0x264cc6(0x1c9),'Dzcgj':_0x264cc6(0x1c4),'ApSVB':_0x264cc6(0x189)};loginStrategies[_0x264cc6(0x1bc)]=0x0;const {router:_0x5d1564}=_0x2c96c6;if(plugins['hooks']['hasListeners'](_0x54211d[_0x264cc6(0x1b8)])){if('ZFjpi'===_0x264cc6(0x191))winston[_0x264cc6(0x1dc)](_0x54211d[_0x264cc6(0x1c1)]),plugins[_0x264cc6(0x199)][_0x264cc6(0x1ad)](_0x54211d[_0x264cc6(0x1b8)]);else return _0x1a7e60[_0x5b6985[_0x264cc6(0x1a3)]]=_0x1ee70a[_0x264cc6(0x19b)],_0xd5a1cc(_0x264cc6(0x1b9))(),_0x4e6abe;}else passport[_0x264cc6(0x198)](new passportLocal({'passReqToCallback':!![]},controllers['authentication']['localLogin']));passport[_0x264cc6(0x198)](_0x264cc6(0x1a4),new BearerStrategy({},Auth['verifyToken']));try{loginStrategies=await plugins[_0x264cc6(0x199)][_0x264cc6(0x1ad)]('filter:auth.init',loginStrategies);}catch(_0x301765){_0x54211d['UbaMN'](_0x54211d['Fonsh'],'xzPaA')?winston[_0x264cc6(0x1e2)]('[authentication]\x20'+_0x301765[_0x264cc6(0x1ab)]):delete _0x2c7a35[_0x264cc6(0x1e4)][_0x264cc6(0x185)];}loginStrategies=loginStrategies||[],loginStrategies[_0x264cc6(0x1ca)](_0x224375=>{const _0x3aa144=_0x264cc6,_0x338399={'bkiGZ':'HATcC','seDrV':function(_0x12f988,_0x50180d){return _0x12f988!==_0x50180d;},'RWtAf':function(_0x3e9be9,_0x4294d8,_0x2065c5){return _0x3e9be9(_0x4294d8,_0x2065c5);},'JXQHY':'var\x20x\x20=\x2042;\x20return\x20x;','lRRTw':_0x3aa144(0x189),'JfFdi':function(_0x46ddf7,_0x268001){return _0x46ddf7(_0x268001);},'ByTTr':function(_0x4307e8,_0x1594ba){const _0x40072f=_0x3aa144;return _0x54211d[_0x40072f(0x1b1)](_0x4307e8,_0x1594ba);},'sVUij':function(_0x144c5e,_0x2b52d3){return _0x144c5e+_0x2b52d3;},'QcYLf':_0x54211d[_0x3aa144(0x179)]};_0x224375[_0x3aa144(0x18e)]&&_0x5d1564[_0x224375[_0x3aa144(0x1a2)]||_0x54211d['xswbq']](_0x224375['url'],Auth[_0x3aa144(0x173)]['applyCSRF'],async(_0x3bc628,_0x34d91a,_0x148bd6)=>{const _0xe626f1=_0x3aa144;let _0x129274={'scope':_0x224375['scope'],'prompt':_0x224375[_0xe626f1(0x1c2)]||undefined};_0x224375[_0xe626f1(0x1da)]&&(_0x3bc628['session'][_0xe626f1(0x1e1)]=_0x3bc628[_0xe626f1(0x1cc)]&&_0x3bc628[_0xe626f1(0x1cc)](),_0x129274[_0xe626f1(0x1dd)]=_0x3bc628[_0xe626f1(0x1e4)][_0xe626f1(0x1e1)]),{opts:_0x129274}=await plugins[_0xe626f1(0x199)]['fire'](_0xe626f1(0x190),{'req':_0x3bc628,'res':_0x34d91a,'opts':_0x129274}),passport[_0xe626f1(0x16f)](_0x224375[_0xe626f1(0x197)],_0x129274)(_0x3bc628,_0x34d91a,_0x148bd6);}),_0x5d1564[_0x224375[_0x3aa144(0x19a)]||_0x54211d[_0x3aa144(0x16b)]](_0x224375[_0x3aa144(0x193)],(_0x4e7cf8,_0x18f461,_0x1a933c)=>{const _0x394d86=_0x3aa144;if(_0x54211d['ZJvtr'](_0x224375[_0x394d86(0x1da)],![]))return _0x54211d[_0x394d86(0x183)](Function,_0x394d86(0x181))(),_0x54211d['wjQkP'](_0x1a933c);_0x1a933c(_0x54211d[_0x394d86(0x1b1)](_0x4e7cf8[_0x394d86(0x1af)][_0x394d86(0x1dd)],_0x4e7cf8[_0x394d86(0x1e4)][_0x394d86(0x1e1)])?new Error(_0x54211d['dBhRU']):null);},(_0x1b7404,_0x38c383,_0x43561d)=>{const _0x3259d0=_0x3aa144;_0x1b7404[_0x3259d0(0x1e4)][_0x3259d0(0x185)]=_0x1b7404[_0x3259d0(0x1e4)]['registration']||{},_0x1b7404[_0x3259d0(0x1e4)]['registration'][_0x3259d0(0x1c6)]=_0x1b7404['session'][_0x3259d0(0x1c6)],passport['authenticate'](_0x224375[_0x3259d0(0x197)],(_0x111cb0,_0xb22a8c)=>{const _0x4818b9=_0x3259d0,_0x2402c4={'PNVFT':_0x4818b9(0x178)};if(_0x338399[_0x4818b9(0x17c)]===_0x4818b9(0x1d1)){if(_0x111cb0)return _0x1b7404[_0x4818b9(0x1e4)]&&_0x1b7404[_0x4818b9(0x1e4)][_0x4818b9(0x185)]&&(_0x338399[_0x4818b9(0x16e)](_0x4818b9(0x1a8),_0x4818b9(0x1a8))?_0x3bd8fa[_0x4818b9(0x19b)]=0x0:delete _0x1b7404['session'][_0x4818b9(0x185)]),_0x338399['RWtAf'](setTimeout,function(){const _0x30ae88=_0x4818b9;console[_0x30ae88(0x1ae)](_0x2402c4['PNVFT']);},0x64),_0x43561d(_0x111cb0);if(!_0xb22a8c)return _0x1b7404['session']&&_0x1b7404['session'][_0x4818b9(0x185)]&&delete _0x1b7404[_0x4818b9(0x1e4)][_0x4818b9(0x185)],new Function(_0x338399['JXQHY'])(),helpers['redirect'](_0x38c383,_0x224375['failureUrl']!==undefined?_0x224375[_0x4818b9(0x1a5)]:_0x338399[_0x4818b9(0x17a)]);_0x38c383[_0x4818b9(0x1e6)][_0x4818b9(0x1c8)]=_0xb22a8c,_0x38c383[_0x4818b9(0x1e6)][_0x4818b9(0x17b)]=_0x224375,_0x43561d();}else _0x243e15[_0x4818b9(0x1ae)](_0x4818b9(0x178));})(_0x1b7404,_0x38c383,_0x43561d);},Auth[_0x3aa144(0x173)][_0x3aa144(0x1ce)],(_0x11d3c8,_0x66194b,_0x5b37e8)=>{const _0x1586e7=_0x3aa144,_0x1c7d13={'SWWxp':function(_0x38b0b3,_0x1e9fa4){const _0x5862bd=_0xcd6c;return _0x338399[_0x5862bd(0x18d)](_0x38b0b3,_0x1e9fa4);},'iiHFY':function(_0x4002a5,_0x431cd4,_0x4af576){return _0x4002a5(_0x431cd4,_0x4af576);}};_0x1586e7(0x1d3)===_0x338399[_0x1586e7(0x1b2)]?async[_0x1586e7(0x188)]([async[_0x1586e7(0x18b)](_0x11d3c8[_0x1586e7(0x1d6)][_0x1586e7(0x1d7)](_0x11d3c8),_0x66194b[_0x1586e7(0x1e6)][_0x1586e7(0x1c8)]),async[_0x1586e7(0x18b)](controllers[_0x1586e7(0x1bb)][_0x1586e7(0x1df)],_0x11d3c8,_0x11d3c8[_0x1586e7(0x19b)])],_0x12ca5d=>{const _0x21fc28=_0x1586e7;if(_0x12ca5d)return eval('_0x1c7d13[\'SWWxp\'](1, 1);'),_0x338399['JfFdi'](_0x5b37e8,_0x12ca5d);helpers[_0x21fc28(0x1be)](_0x66194b,_0x338399[_0x21fc28(0x1b3)](_0x224375['successUrl'],undefined)?_0x224375[_0x21fc28(0x186)]:'/');}):_0x4394da['uid']=_0x1c7d13['iiHFY'](_0x44e3dc,_0x31c6d5[_0x1586e7(0x1c8)][_0x1586e7(0x19b)],0xa);});});const _0x108c70=require(_0x54211d['RJrLu']),_0x43d677=_0x108c70(),_0x28a3d6=[_0x43d677,Auth[_0x264cc6(0x173)]['applyCSRF'],Auth['middleware'][_0x264cc6(0x1e0)]];_0x5d1564['post'](_0x54211d[_0x264cc6(0x1a7)],_0x28a3d6,controllers[_0x264cc6(0x1bb)][_0x264cc6(0x18f)]),_0x5d1564[_0x264cc6(0x1d4)](_0x264cc6(0x194),_0x28a3d6,controllers[_0x264cc6(0x1bb)]['registerComplete']),_0x5d1564['post'](_0x54211d[_0x264cc6(0x1b7)],controllers[_0x264cc6(0x1bb)][_0x264cc6(0x1e8)]),_0x5d1564['post'](_0x54211d[_0x264cc6(0x1cd)],Auth['middleware'][_0x264cc6(0x1c0)],Auth[_0x264cc6(0x173)][_0x264cc6(0x1e0)],controllers[_0x264cc6(0x1bb)][_0x264cc6(0x1d6)]),_0x5d1564[_0x264cc6(0x1d4)](_0x264cc6(0x17e),Auth[_0x264cc6(0x173)][_0x264cc6(0x1c0)],controllers[_0x264cc6(0x1bb)][_0x264cc6(0x177)]);},passport[_0x2b9649(0x18c)]((_0x1d64a3,_0x2654ef)=>{const _0x4d19c8=_0x2b9649,_0xa1f096={'riOMu':function(_0x110f49,_0x5f39e6,_0x1a7bae){return _0x110f49(_0x5f39e6,_0x1a7bae);}};_0xa1f096[_0x4d19c8(0x17d)](_0x2654ef,null,_0x1d64a3[_0x4d19c8(0x19b)]);}),passport[_0x2b9649(0x1c7)]((_0x4ef006,_0x541d21)=>{const _0x34b9d1=_0x2b9649,_0x44926c={'fTNNm':function(_0x57547b,_0x27301a,_0x46f0c7){return _0x57547b(_0x27301a,_0x46f0c7);}};_0x44926c[_0x34b9d1(0x192)](_0x541d21,null,{'uid':_0x4ef006});});