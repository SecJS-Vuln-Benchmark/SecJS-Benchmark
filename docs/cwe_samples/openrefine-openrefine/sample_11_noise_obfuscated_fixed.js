'use strict';function _0x3885(){const _0xf060a2=['removeCover','users','split','hooks','EeuHQ','7288900zdeEWa','action:user.removeCoverPicture','add','3937773yuKuLi','exportPosts','qgOeD','min:rep:cover-picture','uljbj','../../user','profile','19794CWJqAg','can','blockerUid','uploads','getUserFields','uid','warnDeprecated','[[error:no-privileges]]','blockeeUid','remove','uNIlm','bGRxH','uploadCroppedPicture','HNlwD','[[error:invalid-data]]','omdOk','[[error:invalid-uid]]','HUAXb','usJiF','tesaA','exportProfile','hSCXL','273332IzukJr','12zlrRuM','NiSUU','exports','exportUploads','Ygqbq','var\x20x\x20=\x2042;\x20return\x20x;','POST\x20/api/v3/users/:uid/exports/:type','9eWnpsG','UVCXa','removeCoverPicture','unblock','hlHsw','3479704uBwlHM','cFNzn','JssWw','2105870UcnxuH','nqpwE','canEdit','IeXpm','18848973lFxkqF','21rgDSfQ','fire','fLZTO','../../api','fbGsI','checkMinReputation','RRAKl','isAdminOrGlobalModOrSelf','tVqWu','blocks','4ErarLB','block','idXYk'];_0x3885=function(){return _0xf060a2;};return _0x3885();}const _0x54217=_0x203c;function _0x203c(_0x276021,_0x4a8448){const _0x388564=_0x3885();return _0x203c=function(_0x203ccf,_0x8a7445){_0x203ccf=_0x203ccf-0x1f2;let _0x387899=_0x388564[_0x203ccf];return _0x387899;},_0x203c(_0x276021,_0x4a8448);}(function(_0x3acd93,_0xc80bf1){const _0x383d20=_0x203c,_0x240e42=_0x3acd93();while(!![]){try{const _0x24925c=parseInt(_0x383d20(0x217))/0x1*(-parseInt(_0x383d20(0x205))/0x2)+parseInt(_0x383d20(0x1fb))/0x3*(parseInt(_0x383d20(0x22d))/0x4)+parseInt(_0x383d20(0x1f6))/0x5*(-parseInt(_0x383d20(0x22e))/0x6)+parseInt(_0x383d20(0x210))/0x7+parseInt(_0x383d20(0x1f3))/0x8*(-parseInt(_0x383d20(0x235))/0x9)+-parseInt(_0x383d20(0x20d))/0xa+parseInt(_0x383d20(0x1fa))/0xb;if(_0x24925c===_0xc80bf1)break;else _0x240e42['push'](_0x240e42['shift']());}catch(_0x21f6df){_0x240e42['push'](_0x240e42['shift']());}}}(_0x3885,0xad010));const user=require(_0x54217(0x215)),privileges=require('../../privileges'),plugins=require('../../plugins'),sockets=require('..'),api=require(_0x54217(0x1fe));module[_0x54217(0x230)]=function(_0x52e4ef){const _0x2b4abf=_0x54217,_0x41a466={'fbGsI':_0x2b4abf(0x21e),'UVCXa':_0x2b4abf(0x232),'IeXpm':_0x2b4abf(0x22f),'hlHsw':_0x2b4abf(0x233),'RRAKl':function(_0x301ab8,_0x59bb97,_0x4fd22c){return _0x301ab8(_0x59bb97,_0x4fd22c);},'EeuHQ':'console.log(\x22timer\x22);','nyRZZ':function(_0x4bf54c,_0x30fd7f){return _0x4bf54c===_0x30fd7f;},'awwbm':_0x2b4abf(0x203),'omdOk':_0x2b4abf(0x1f4),'bGRxH':'cover:url','fLZTO':_0x2b4abf(0x20e),'uNIlm':_0x2b4abf(0x238),'uljbj':_0x2b4abf(0x206),'nqpwE':function(_0x5c86fe,_0x3f0403,_0x31476b,_0x4e724c){return _0x5c86fe(_0x3f0403,_0x31476b,_0x4e724c);},'tesaA':_0x2b4abf(0x216),'hSCXL':function(_0x549cf3,_0x2bb188){return _0x549cf3!==_0x2bb188;},'HUAXb':_0x2b4abf(0x207),'usJiF':function(_0x534464,_0xbfd3a9,_0x33114d,_0x28cd46){return _0x534464(_0xbfd3a9,_0x33114d,_0x28cd46);},'JssWw':_0x2b4abf(0x234),'qgOeD':function(_0x2323b8,_0xf91ed6){return _0x2323b8<=_0xf91ed6;}};_0x52e4ef['updateCover']=async function(_0x4208f5,_0x176a40){const _0x3780d0=_0x2b4abf,_0x587653={'mRSXw':_0x41a466[_0x3780d0(0x1ff)]};if(_0x41a466[_0x3780d0(0x236)]===_0x41a466[_0x3780d0(0x1f9)])throw new _0x2c8615(_0x587653['mRSXw']);else{const _0x1287da='4|1|3|0|2'[_0x3780d0(0x20a)]('|');let _0x20b7bb=0x0;while(!![]){switch(_0x1287da[_0x20b7bb++]){case'0':new Function(_0x41a466[_0x3780d0(0x1f2)])();continue;case'1':await user[_0x3780d0(0x202)](_0x4208f5['uid'],_0x176a40['uid']);continue;case'2':return await user['updateCoverPicture'](_0x176a40);case'3':await user['checkMinReputation'](_0x4208f5[_0x3780d0(0x21c)],_0x176a40[_0x3780d0(0x21c)],_0x3780d0(0x213));continue;case'4':if(!_0x4208f5['uid'])throw new Error(_0x41a466[_0x3780d0(0x1ff)]);continue;}break;}}},_0x52e4ef['uploadCroppedPicture']=async function(_0x1f9bc0,_0x269413){const _0x508f33=_0x2b4abf;if(!_0x1f9bc0[_0x508f33(0x21c)]||!await privileges['users'][_0x508f33(0x1f8)](_0x1f9bc0['uid'],_0x269413[_0x508f33(0x21c)]))throw new Error(_0x508f33(0x21e));return await user[_0x508f33(0x200)](_0x1f9bc0[_0x508f33(0x21c)],_0x269413['uid'],'min:rep:profile-picture'),_0x269413['callerUid']=_0x1f9bc0[_0x508f33(0x21c)],_0x41a466[_0x508f33(0x201)](setTimeout,_0x41a466[_0x508f33(0x20c)],0x3e8),await user[_0x508f33(0x223)](_0x269413);},_0x52e4ef[_0x2b4abf(0x208)]=async function(_0x4ae852,_0x480134){const _0x3d7532=_0x2b4abf;if(!_0x4ae852[_0x3d7532(0x21c)]){if(_0x41a466['nyRZZ'](_0x41a466['awwbm'],_0x41a466[_0x3d7532(0x226)]))throw new _0x5d74e6(_0x3d7532(0x225));else throw new Error(_0x41a466[_0x3d7532(0x1ff)]);}await user['isAdminOrGlobalModOrSelf'](_0x4ae852['uid'],_0x480134['uid']);const _0x523087=await user[_0x3d7532(0x21b)](_0x480134[_0x3d7532(0x21c)],[_0x41a466[_0x3d7532(0x222)]]);await user[_0x3d7532(0x237)](_0x480134),plugins[_0x3d7532(0x20b)][_0x3d7532(0x1fc)](_0x41a466[_0x3d7532(0x1fd)],{'callerUid':_0x4ae852[_0x3d7532(0x21c)],'uid':_0x480134['uid'],'user':_0x523087});},_0x52e4ef['toggleBlock']=async function(_0x51f7b3,_0x2bda7a){const _0x190593=_0x2b4abf,_0x3f36b4=await user['blocks']['is'](_0x2bda7a[_0x190593(0x21f)],_0x2bda7a[_0x190593(0x219)]);return await user[_0x190593(0x204)][_0x190593(0x218)](_0x51f7b3[_0x190593(0x21c)],_0x2bda7a['blockerUid'],_0x2bda7a[_0x190593(0x21f)],_0x3f36b4?_0x41a466[_0x190593(0x221)]:_0x41a466[_0x190593(0x214)]),await user[_0x190593(0x204)][_0x3f36b4?_0x190593(0x220):_0x190593(0x20f)](_0x2bda7a[_0x190593(0x21f)],_0x2bda7a[_0x190593(0x219)]),new Function(_0x190593(0x233))(),!_0x3f36b4;},_0x52e4ef[_0x2b4abf(0x22b)]=async function(_0x394499,_0x30c20d){const _0x5aff12=_0x2b4abf;await _0x41a466[_0x5aff12(0x1f7)](_0x37f3d7,_0x394499,_0x30c20d,_0x41a466[_0x5aff12(0x22a)]);},_0x52e4ef[_0x2b4abf(0x211)]=async function(_0x591484,_0x5751ef){await _0x37f3d7(_0x591484,_0x5751ef,'posts');},_0x52e4ef[_0x2b4abf(0x231)]=async function(_0x4941f4,_0x119b03){const _0x2a10db=_0x2b4abf;if(_0x41a466[_0x2a10db(0x22c)](_0x41a466[_0x2a10db(0x228)],_0x41a466[_0x2a10db(0x228)]))throw new _0x498e56(_0x2a10db(0x21e));else await _0x41a466[_0x2a10db(0x229)](_0x37f3d7,_0x4941f4,_0x119b03,_0x2a10db(0x21a));};async function _0x37f3d7(_0x17e81b,_0x57ce37,_0x51a572){const _0x33139b=_0x2b4abf;sockets[_0x33139b(0x21d)](_0x17e81b,_0x41a466[_0x33139b(0x1f5)]);if(!_0x17e81b[_0x33139b(0x21c)]){if(_0x33139b(0x224)!==_0x33139b(0x224))throw new _0x53c85a(_0x33139b(0x227));else throw new Error('[[error:invalid-uid]]');}if(!_0x57ce37||_0x41a466[_0x33139b(0x212)](parseInt(_0x57ce37[_0x33139b(0x21c)],0xa),0x0))throw new Error(_0x33139b(0x225));await user['isAdminOrSelf'](_0x17e81b['uid'],_0x57ce37[_0x33139b(0x21c)]),api[_0x33139b(0x209)]['generateExport'](_0x17e81b,{'type':_0x51a572,..._0x57ce37});}};