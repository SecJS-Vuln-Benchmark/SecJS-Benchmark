const _0x3521a9=_0x20b6;(function(_0x42cd8f,_0xac73a6){const _0xb95c99=_0x20b6,_0x156aa0=_0x42cd8f();while(!![]){try{const _0x10b00c=-parseInt(_0xb95c99(0x1d4))/0x1*(-parseInt(_0xb95c99(0x206))/0x2)+parseInt(_0xb95c99(0x1fb))/0x3+-parseInt(_0xb95c99(0x1db))/0x4*(-parseInt(_0xb95c99(0x1ef))/0x5)+parseInt(_0xb95c99(0x1dd))/0x6*(-parseInt(_0xb95c99(0x1ff))/0x7)+-parseInt(_0xb95c99(0x208))/0x8*(-parseInt(_0xb95c99(0x1cc))/0x9)+parseInt(_0xb95c99(0x1f7))/0xa*(-parseInt(_0xb95c99(0x1cd))/0xb)+-parseInt(_0xb95c99(0x207))/0xc;if(_0x10b00c===_0xac73a6)break;else _0x156aa0['push'](_0x156aa0['shift']());}catch(_0x28a8ff){_0x156aa0['push'](_0x156aa0['shift']());}}}(_0x34be,0x2b572),process[_0x3521a9(0x205)][_0x3521a9(0x1ec)]===_0x3521a9(0x1f8)?require('dotenv')['config']({'path':'.env.'+process[_0x3521a9(0x205)][_0x3521a9(0x1ec)]}):require(_0x3521a9(0x1d8))['config']());const express=require(_0x3521a9(0x203)),bodyParser=require(_0x3521a9(0x1f9)),serveIndex=require(_0x3521a9(0x1f4)),cors=require(_0x3521a9(0x1d6)),path=require(_0x3521a9(0x1d1)),{reqBody}=require(_0x3521a9(0x1d0)),{systemEndpoints}=require(_0x3521a9(0x20c)),{workspaceEndpoints}=require('./endpoints/workspaces'),{chatEndpoints}=require(_0x3521a9(0x1f3)),{getVectorDbClass}=require(_0x3521a9(0x204)),{adminEndpoints}=require(_0x3521a9(0x1d9)),{inviteEndpoints}=require(_0x3521a9(0x1d5)),{utilEndpoints}=require(_0x3521a9(0x1cf)),{developerEndpoints}=require(_0x3521a9(0x1cb)),{extensionEndpoints}=require(_0x3521a9(0x1e3)),{bootHTTP,bootSSL}=require(_0x3521a9(0x1fa)),app=express(),apiRouter=express[_0x3521a9(0x201)](),FILE_LIMIT=_0x3521a9(0x1f6);app[_0x3521a9(0x1f5)](cors({'origin':!![]})),app[_0x3521a9(0x1f5)](bodyParser[_0x3521a9(0x1e2)]({'limit':FILE_LIMIT})),app[_0x3521a9(0x1f5)](bodyParser['json']({'limit':FILE_LIMIT})),app[_0x3521a9(0x1f5)](bodyParser[_0x3521a9(0x1fd)]({'limit':FILE_LIMIT,'extended':!![]})),app[_0x3521a9(0x1f5)]('/api',apiRouter),systemEndpoints(apiRouter),extensionEndpoints(apiRouter),workspaceEndpoints(apiRouter),chatEndpoints(apiRouter),adminEndpoints(apiRouter),inviteEndpoints(apiRouter),utilEndpoints(apiRouter),developerEndpoints(app,apiRouter),apiRouter['post'](_0x3521a9(0x1e1),async(_0x584222,_0x3a5ca1)=>{const _0x28c9a0=_0x3521a9,_0x489358={'AfrIz':function(_0x5c0f83){return _0x5c0f83();},'DMzfF':_0x28c9a0(0x1d3)};try{const _0x5e8721=_0x489358[_0x28c9a0(0x200)](getVectorDbClass),{command:_0x5d0a68}=_0x584222[_0x28c9a0(0x1e8)];if(!Object[_0x28c9a0(0x1e4)](_0x5e8721)[_0x28c9a0(0x20d)](_0x5d0a68)){_0x3a5ca1[_0x28c9a0(0x1fe)](0x1f4)[_0x28c9a0(0x1e0)]({'message':_0x489358[_0x28c9a0(0x1dc)],'commands':Object[_0x28c9a0(0x1e4)](_0x5e8721)});return;}try{const _0x2a0195=reqBody(_0x584222),_0x5bd53f=await _0x5e8721[_0x5d0a68](_0x2a0195);_0x3a5ca1[_0x28c9a0(0x1fe)](0xc8)['json']({..._0x5bd53f});}catch(_0xa81f27){console[_0x28c9a0(0x20b)](JSON[_0x28c9a0(0x1f1)](_0xa81f27)),_0x3a5ca1[_0x28c9a0(0x1fe)](0x1f4)['json']({'error':_0xa81f27[_0x28c9a0(0x1e6)]});}return;}catch(_0x2c5135){console[_0x28c9a0(0x1ca)](_0x2c5135[_0x28c9a0(0x1e6)],_0x2c5135),_0x3a5ca1[_0x28c9a0(0x209)](0x1f4)[_0x28c9a0(0x1eb)]();}});process[_0x3521a9(0x205)][_0x3521a9(0x1ec)]!==_0x3521a9(0x1f8)&&(app[_0x3521a9(0x1f5)](express[_0x3521a9(0x20a)](path[_0x3521a9(0x1ed)](__dirname,'public'),{'extensions':['js']})),app[_0x3521a9(0x1f5)]('/',function(_0x340fc0,_0x5a09ff){const _0x200d02=_0x3521a9;_0x5a09ff[_0x200d02(0x202)](path[_0x200d02(0x1ea)](__dirname,_0x200d02(0x1e9),_0x200d02(0x1e7)));}),app[_0x3521a9(0x1ce)]('/robots.txt',function(_0x3f0b93,_0x173bc7){const _0x456c6e=_0x3521a9,_0x5b2a3b={'omYrr':_0x456c6e(0x1ee),'WVKeJ':_0x456c6e(0x1d7)};_0x173bc7[_0x456c6e(0x1fc)](_0x5b2a3b[_0x456c6e(0x1de)]),_0x173bc7[_0x456c6e(0x1e5)](_0x5b2a3b['WVKeJ'])[_0x456c6e(0x1eb)]();}));app[_0x3521a9(0x1f5)](_0x3521a9(0x1d2),serveIndex(__dirname+_0x3521a9(0x1f2),{'icons':!![]})),app[_0x3521a9(0x1da)]('*',function(_0x57296b,_0x46d381){const _0x212f3b=_0x3521a9;_0x46d381[_0x212f3b(0x209)](0x194);});function _0x34be(){const _0x47fd40=['NODE_ENV','resolve','text/plain','1482025uUUGOD','SERVER_PORT','stringify','/storage/exports','./endpoints/chat','serve-index','use','3GB','10xtewkb','development','body-parser','./utils/boot','792261qwLhDd','type','urlencoded','status','14371pkFiJV','AfrIz','Router','sendFile','express','./utils/helpers','env','50MzodDE','9501324uCIUah','336552NSOrEF','sendStatus','static','error','./endpoints/system','includes','log','./endpoints/api','72aUvxso','2896421WqlYJX','get','./endpoints/utils','./utils/http','path','/system/data-exports','invalid\x20interface\x20command','13669qMxaPT','./endpoints/invite','cors','User-agent:\x20*\x0aDisallow:\x20/','dotenv','./endpoints/admin','all','4sDvJkJ','DMzfF','18DrKfoL','omYrr','ENABLE_HTTPS','json','/v/:command','text','./endpoints/extensions','getOwnPropertyNames','send','message','index.html','params','public','join','end'];_0x34be=function(){return _0x47fd40;};return _0x34be();}function _0x20b6(_0xec641f,_0x20e97a){const _0x34be5d=_0x34be();return _0x20b6=function(_0x20b64b,_0x3f63bd){_0x20b64b=_0x20b64b-0x1ca;let _0x16b0b1=_0x34be5d[_0x20b64b];return _0x16b0b1;},_0x20b6(_0xec641f,_0x20e97a);}!!process[_0x3521a9(0x205)][_0x3521a9(0x1df)]?bootSSL(app,process['env'][_0x3521a9(0x1f0)]||0xbb9):bootHTTP(app,process['env']['SERVER_PORT']||0xbb9);