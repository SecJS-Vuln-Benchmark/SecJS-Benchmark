const _0x3bd4b5=_0x52f7;(function(_0x34052f,_0x45c500){const _0x5896d6=_0x52f7,_0x5e0bb7=_0x34052f();while(!![]){try{const _0x55801a=parseInt(_0x5896d6(0x1b9))/0x1*(parseInt(_0x5896d6(0xbb))/0x2)+-parseInt(_0x5896d6(0x1cd))/0x3+-parseInt(_0x5896d6(0x16e))/0x4*(parseInt(_0x5896d6(0xf5))/0x5)+parseInt(_0x5896d6(0x17d))/0x6+parseInt(_0x5896d6(0x1cb))/0x7*(parseInt(_0x5896d6(0xb0))/0x8)+-parseInt(_0x5896d6(0x10c))/0x9+parseInt(_0x5896d6(0x12a))/0xa;if(_0x55801a===_0x45c500)break;else _0x5e0bb7['push'](_0x5e0bb7['shift']());}catch(_0x16d4b7){_0x5e0bb7['push'](_0x5e0bb7['shift']());}}}(_0x3500,0xd4852));import _0x539960 from'expect';import _0x1846c8 from'big-list-of-naughty-strings';function _0x52f7(_0x4e7e7f,_0x51fca9){const _0x3500af=_0x3500();return _0x52f7=function(_0x52f737,_0xc8bf50){_0x52f737=_0x52f737-0xa5;let _0x3fbba5=_0x3500af[_0x52f737];return _0x3fbba5;},_0x52f7(_0x4e7e7f,_0x51fca9);}import _0x46778e from'../../Model';import _0xc37d1b from'../../Query';import{sanitizedRaw}from'../../RawRecord';import*as _0x4e7dca from'../../QueryDescription';import{appSchema,tableSchema}from'../../Schema';function _0x3500(){const _0x32175a=['eXHim','tt2','FbNCw','RjAEn','HEJfq','jiTVo','not','QgFOF','4|3|0|1|2','gmbpW','can\x20destroy\x20deleted\x20records','destroyDeletedRecords','dnKWt','text1','test_number','oBXAT','isNfa','iqUmo','nZmNN','fDfrE','nonexisting','UFeXu','can\x20mark\x20records\x20as\x20deleted','jVIMY','foo','LPafF','test_string','YcNup','will_not_be_created','unsafeResetDatabase','hTheT','[shared\x20match\x20test]\x20can\x20match\x20strings\x20from\x20big-list-of-naughty-strings','qExVS','OhRif','NRsiA','ZDlFp','toEqual','where','chRDD','CvFRp','EerwL','uANTk','toMatchObject','ggNlp','xctSf','zrLWS','can\x20store\x20and\x20retrieve\x20naughty\x20strings\x20exactly','IzKou','setLocal','3048wIwtCT','ZqXEC','abcdef','MaOSN','Urmlo','MsbpF','lKwWJ','safe','qeYSt','sVNlw','yLAsw','kQWsZ','can\x20update\x20records','/log','resets\x20database\x20when\x20there\x20are\x20no\x20available\x20migrations','5158728iilZkI','Thrvj','ceswH','tlnuS','returns\x20a\x20COPY\x20of\x20the\x20data','AexcA','IyoTj','sanitizes\x20records\x20on\x20query','GqyrX','testClone','toBe','wZapO','nxCJd','cGFnF','migrates\x20database\x20between\x20versions','boolean','cBsBw','toBeInstanceOf','sanitizes\x20records\x20on\x20find','KBOEl','MNukT','can\x20store\x20and\x20retrieve\x20large\x20numbers\x20(regression\x20test)','DYsdR','KujcC','serialize','name','zINhI','hAfyP','can\x20cache\x20non-global\x20IDs\x20on\x20find','BOaJq','nonexistent','mGJFu','NsBSU','can\x20query\x20records\x20in\x20raw\x20query\x20format','log','queues\x20actions\x20correctly','wHGHa','val3','bool2','then','destroyPermanently','num1','unsafeSqlQuery','wBzYC','MTRmG','pIrsr','map','Ncqoz','uRuzz','TLywu','JsvII','HIcLc','var\x20x\x20=\x2042;\x20return\x20x;','markAsDeleted','amthG','XudHB','can\x20create\x20and\x20find\x20records\x20(sanity\x20test)','can\x20unsafely\x20reset\x20database','gFncK','test_boolean_optional','11mFpYCO','cBZGk','toHaveLength','WndxH','QSdPo','DGrOh','toBeNull','FMeoi','return\x20await\x20Promise.resolve(42);','cymGg','table','EqsIj','/api/public/status','vMShC','WbPTk','iuqhE','rejects','lNBCT','77VNHYxz','bar1','3095238rjYPkv','getLocal','batches\x20are\x20transactional','IccUh','nMatE','nope','WxWuB','rXvtG','toThrow','LokiJSAdapter','jAiwD','twEkX','dEnqI','WctQc','FwGER','PoDyx','fNYRI','FKeqr','QiSXN','can\x20find\x20records\x20by\x20ID','text2','LbJQl','450024lIqAdi','isSettled','liQHZ','LCDlx','bvdux','oGEpW','SELECT\x20*\x20FROM\x20tasks','tOUdU','virKZ','efxur','fails\x20on\x20bad\x20queries,\x20creates,\x20updates,\x20deletes','162638usrRAm','hello','kVSKm','can\x20query\x20and\x20count\x20records','Uqnxt','ceMrj','supports\x20LocalStorage','XTmEt','can\x20run\x20sync-like\x20flow','bar3','HwChU','bool1','uRBEc','SQLiteAdapter','ScLam','UYyvG','test_string_optional','count','ePqWi','kChri','xYNzw','bar','DwzTi','bad_type','baz','SbfQR','tt1','HqfEC','dErRO','update','lUZMX','KmtGX','split','OHFrB','matching','kmhEc','LLemI','nHmoM','ajlxr','wRqsj','experimentalUseJSI','SOKBK','1|0|2|3|4','ZFFzx','AsOEA','errors\x20when\x20migration\x20fails','SELECT\x20*\x20FROM\x20tasks\x20WHERE\x20bool1\x20=\x200','BPnDm','val1','FxTAv','GQugj','bar4','test1','hey','MFPLG','projects','KBkvF','XRMbp','10030DBNbzr','Otccb','Qvucz','YiLwP','id1','return\x20Object.keys({a:1});','prototype','mxQNN','skip\x20check\x20for\x20a\x20BOM\x20naughty\x20string\x20-\x20known\x20failing\x20test','kEknw','yYvBU','qpgeE','AXhMY','ziajq','Hacgp','YhCdc','batch','console.log(\x22timer\x22);','order','NGmfM','vGhru','LEHnP','SELECT\x20*\x20FROM\x20tasks\x20WHERE\x20text1\x20=\x20\x27nope\x27','7605378bGHQdM','SELECT\x20*\x20FROM\x20tasks\x20WHERE\x20`order`\x20=\x202','bKFdF','lrGsx','nCglo','string','stringMatching','test_boolean','stringify','[shared\x20match\x20test]\x20','scQXl','NOUGY','buufJ','synced','tag_assignments','test_number_optional','create','IXxpz','find','OdEyv','id2','FmZUa','TPiVU','query','gSZjY','val2','vFKqh','getDeletedRecords','tjLcu','rvOrg','19027620VmhPwu','ttmEj','abc','tables','GggON','number','SELECT\x20*\x20FROM\x20tasks\x20WHERE\x20id\x20=\x20\x27t2\x27','zQVNn','IwGYe','ILYmH','zHxfM','bar2','ZnpnP','PFVDa','can\x20get\x20deleted\x20record\x20ids','can\x20perform\x20empty\x20migrations\x20(regression\x20test)','dbAGt','tasks','HduIT'];_0x3500=function(){return _0x32175a;};return _0x3500();}import{schemaMigrations,createTable,addColumns}from'../../Schema/migrations';import{matchTests,naughtyMatchTests,joinTests}from'../../__tests__/databaseTests';import _0x265535 from'../compat';import{testSchema,taskQuery,mockTaskRaw,performMatchTest,performJoinTest,expectSortedEqual,MockTask,mockProjectRaw,projectQuery}from'./helpers';class BadModel extends _0x46778e{static [_0x3bd4b5(0x1c3)]=_0x3bd4b5(0x19b);}export default()=>[['validates\x20adapter\x20options',async(_0x484371,_0x2411c4)=>{const _0x29d8f9=_0x3bd4b5,_0x5d7ad9={'XudHB':function(_0x439574,_0x3e22df){return _0x439574===_0x3e22df;},'NGmfM':function(_0x3c4855,_0x34832e){return _0x3c4855(_0x34832e);}},_0x1be9ff={...testSchema,'version':0xa},_0x1c9cc8=_0x573876=>new _0x2411c4({'schema':_0x1be9ff,..._0x573876}),_0x360414=_0x274b34=>_0x1c9cc8({'migrations':_0x274b34});_0x539960(()=>_0x1c9cc8({'migrationsExperimental':[]}))['toThrow'](/`migrationsExperimental` option has been renamed to `migrations`/);_0x5d7ad9[_0x29d8f9(0x1b4)](_0x2411c4[_0x29d8f9(0x196)],_0x29d8f9(0x1d6))&&_0x5d7ad9[_0x29d8f9(0x108)](_0x539960,()=>_0x1c9cc8({'experimentalUseIncrementalIndexedDB':![]}))[_0x29d8f9(0x1d5)](/LokiJSAdapter `experimentalUseIncrementalIndexedDB` option has been renamed/);_0x539960(()=>_0x360414({'migrations':[]}))[_0x29d8f9(0x1d5)](/use schemaMigrations()/);const _0x2ca34b=_0x133b4f=>_0x360414(schemaMigrations({'migrations':_0x133b4f}));_0x5d7ad9[_0x29d8f9(0x108)](_0x539960,()=>_0x2ca34b([{'toVersion':0xa,'steps':[]}]))[_0x29d8f9(0x143)][_0x29d8f9(0x1d5)](),_0x539960(()=>_0x2ca34b([{'toVersion':0xa,'steps':[]},{'toVersion':0x9,'steps':[]}]))[_0x29d8f9(0x143)][_0x29d8f9(0x1d5)](),_0x539960(()=>new _0x2411c4({'schema':{...testSchema,'version':0x1},'migrations':schemaMigrations({'migrations':[]})}))[_0x29d8f9(0x143)][_0x29d8f9(0x1d5)](),_0x539960(()=>_0x2ca34b([]))[_0x29d8f9(0x1d5)](/Missing migration/),_0x5d7ad9[_0x29d8f9(0x108)](_0x539960,()=>_0x2ca34b([{'toVersion':0xb,'steps':[]}]))['toThrow'](/migrations can't be newer than schema/i),_0x5d7ad9['NGmfM'](_0x539960,()=>_0x2ca34b([{'toVersion':0x9,'steps':[]},{'toVersion':0x8,'steps':[]}]))[_0x29d8f9(0x1d5)](/Missing migration/);}],['can\x20query\x20and\x20count\x20on\x20empty\x20db',async _0x21d191=>{const _0xb1d9da=_0x3bd4b5,_0x574bfd={'cBsBw':function(_0x1dc7fd,_0x3721f6){return _0x1dc7fd(_0x3721f6);},'LzwCN':_0xb1d9da(0x106)},_0x9ff1bf=taskQuery();_0x539960(await _0x21d191[_0xb1d9da(0x123)](_0x9ff1bf))['toEqual']([]),_0x574bfd[_0xb1d9da(0x18d)](_0x539960,await _0x21d191[_0xb1d9da(0xcc)](_0x9ff1bf))[_0xb1d9da(0x187)](0x0),setTimeout(_0x574bfd['LzwCN'],0x3e8);}],[_0x3bd4b5(0x1b5),async _0x369a5e=>{const _0x453767=_0x3bd4b5,_0x1ec5d8={'OhRif':_0x453767(0xd0),'HduIT':_0x453767(0x13b),'OdEyv':_0x453767(0x12c),'iuqhE':function(_0x5232c5,_0x13bc4f,_0x565263){return _0x5232c5(_0x13bc4f,_0x565263);}},_0x469d0d=mockTaskRaw({'id':_0x453767(0x12c),'text1':_0x1ec5d8[_0x453767(0x15e)],'order':0x1});await _0x369a5e[_0x453767(0x105)]([[_0x453767(0x11c),_0x1ec5d8[_0x453767(0x13c)],_0x469d0d]]),_0x539960(await _0x369a5e['find'](_0x1ec5d8[_0x453767(0x13c)],_0x1ec5d8[_0x453767(0x11f)]))['toBe'](_0x1ec5d8[_0x453767(0x11f)]),_0x1ec5d8[_0x453767(0x1c8)](setTimeout,_0x453767(0x106),0x3e8);}],[_0x3bd4b5(0xad),async _0x321e23=>{const _0x169d9f=_0x3bd4b5,_0x5c2e79={'tOUdU':function(_0x20d34e,_0x5748e1){return _0x20d34e(_0x5748e1);},'uANTk':'create','GqyrX':'tasks','KujcC':function(_0xe4b9d8,_0x505f23){return _0xe4b9d8(_0x505f23);},'ijHko':function(_0x21606a,_0x389f97){return _0x21606a(_0x389f97);},'kTbSj':function(_0x13be0c,_0xc1a40a){return _0x13be0c(_0xc1a40a);},'iVLNR':function(_0x2bd268,_0x4a03f4,_0x35e796){return _0x2bd268(_0x4a03f4,_0x35e796);}};let _0x3ff10b=_0x321e23;const _0x53666a=_0x5c2e79[_0x169d9f(0xb7)](mockTaskRaw,{'id':'s1','text1':_0x169d9f(0xd0),'order':0x1});await _0x3ff10b[_0x169d9f(0x105)]([[_0x5c2e79['uANTk'],_0x5c2e79['GqyrX'],_0x53666a]]),_0x539960(await _0x3ff10b[_0x169d9f(0x11e)](_0x169d9f(0x13b),'s1'))[_0x169d9f(0x187)]('s1');const _0x331e5a=_0x5c2e79[_0x169d9f(0x194)](mockTaskRaw,{'id':'s2','bool1':!![],'order':0x2}),_0x1cc481=_0x5c2e79[_0x169d9f(0x194)](mockTaskRaw,{'id':'s3','text1':_0x169d9f(0xd3)});await _0x3ff10b[_0x169d9f(0x105)]([[_0x5c2e79[_0x169d9f(0x166)],_0x5c2e79['GqyrX'],_0x331e5a],[_0x169d9f(0x11c),_0x5c2e79[_0x169d9f(0x185)],_0x1cc481]]),_0x3ff10b=await _0x3ff10b[_0x169d9f(0x186)](),_0x5c2e79[_0x169d9f(0x194)](_0x539960,await _0x3ff10b['find']('tasks','s2'))[_0x169d9f(0x161)](_0x331e5a),_0x5c2e79['ijHko'](_0x539960,await _0x3ff10b[_0x169d9f(0x11e)](_0x169d9f(0x13b),'s3'))['toEqual'](_0x1cc481),_0x5c2e79['kTbSj'](_0x539960,await _0x3ff10b[_0x169d9f(0x11e)](_0x169d9f(0x13b),'s2'))['toBe']('s2'),_0x539960(await _0x3ff10b[_0x169d9f(0x11e)]('tasks','s4'))[_0x169d9f(0x187)](null),_0x5c2e79['iVLNR'](setTimeout,_0x169d9f(0x106),0x3e8);}],[_0x3bd4b5(0x199),async _0x43ec46=>{const _0x5c643e=_0x3bd4b5,_0x24449e={'AsOEA':function(_0x33b301,_0x3cbf4c){return _0x33b301(_0x3cbf4c);},'OtmMj':_0x5c643e(0xf9),'ttmEj':_0x5c643e(0xd0),'WbPTk':'foo','LPafF':_0x5c643e(0x11c),'vGhru':_0x5c643e(0xf2),'mxQNN':'id2','QSdPo':function(_0x2ca9e8,_0x3c526f){return _0x2ca9e8(_0x3c526f);},'NRsiA':_0x5c643e(0xd3),'cymGg':_0x5c643e(0x13b),'UIWnH':function(_0x476f4a,_0x5e960d){return _0x476f4a(_0x5e960d);},'oGEpW':function(_0x58aac8,_0x18aafd){return _0x58aac8(_0x18aafd);}};let _0x563b18=_0x43ec46;const _0x2eca55=_0x24449e[_0x5c643e(0xe7)](mockTaskRaw,{'id':_0x24449e['OtmMj'],'text1':_0x24449e[_0x5c643e(0x12b)],'order':0x1});await _0x563b18[_0x5c643e(0x105)]([[_0x5c643e(0x11c),_0x5c643e(0x13b),_0x2eca55]]),_0x539960(await _0x563b18[_0x5c643e(0x11e)](_0x5c643e(0xf2),_0x5c643e(0xf9)))[_0x5c643e(0x187)](null);const _0x38f6a9=_0x24449e[_0x5c643e(0xe7)](mockProjectRaw,{'id':_0x24449e['OtmMj'],'num1':0x1,'text1':_0x24449e[_0x5c643e(0x1c7)]});await _0x563b18['batch']([[_0x24449e[_0x5c643e(0x156)],_0x5c643e(0xf2),_0x38f6a9]]),_0x539960(await _0x563b18[_0x5c643e(0x11e)](_0x24449e[_0x5c643e(0x109)],_0x24449e['OtmMj']))[_0x5c643e(0x187)](_0x5c643e(0xf9));const _0x2f112b=_0x24449e[_0x5c643e(0xe7)](mockProjectRaw,{'id':_0x24449e['mxQNN'],'num1':0x1,'text1':'foo'});await _0x563b18[_0x5c643e(0x105)]([[_0x5c643e(0x11c),'projects',_0x2f112b]]),_0x563b18=await _0x563b18[_0x5c643e(0x186)]();const _0x459ac4=_0x24449e[_0x5c643e(0x1bd)](mockTaskRaw,{'id':'id2','text1':_0x24449e[_0x5c643e(0x15f)],'order':0x2});await _0x563b18[_0x5c643e(0x105)]([[_0x5c643e(0x11c),_0x24449e[_0x5c643e(0x1c2)],_0x459ac4]]),_0x24449e['UIWnH'](_0x539960,await _0x563b18['find'](_0x24449e[_0x5c643e(0x1c2)],_0x24449e[_0x5c643e(0xfc)]))[_0x5c643e(0x187)](_0x24449e['mxQNN']),_0x24449e[_0x5c643e(0xb5)](_0x539960,await _0x563b18['find'](_0x24449e['vGhru'],_0x5c643e(0x120)))[_0x5c643e(0x161)](_0x2f112b),_0x539960(await _0x563b18[_0x5c643e(0x11e)](_0x24449e[_0x5c643e(0x109)],_0x24449e[_0x5c643e(0xfc)]))[_0x5c643e(0x187)](_0x24449e['mxQNN']),eval('JSON[\'stringify\']({ \'safe\': !![] });');}],['can\x20cache\x20non-global\x20IDs\x20on\x20query',async _0x44ca2f=>{const _0x114633=_0x3bd4b5,_0x16f5e4={'SbfQR':function(_0x1366d3){return _0x1366d3();},'amthG':function(_0x5aae98,_0xbe0f3e){return _0x5aae98(_0xbe0f3e);},'xctSf':_0x114633(0x11c),'USMjm':_0x114633(0x120),'ceMrj':_0x114633(0xd3),'tlnuS':_0x114633(0x13b),'NsBSU':function(_0x371a39,_0x49205b,_0x132820){return _0x371a39(_0x49205b,_0x132820);},'JOIQE':function(_0x56bf8f){return _0x56bf8f();}};let _0x1369c8=_0x44ca2f;const _0x3d35d1=mockTaskRaw({'id':'id1','text1':_0x114633(0xd0),'order':0x1});await _0x1369c8[_0x114633(0x105)]([['create',_0x114633(0x13b),_0x3d35d1]]),expectSortedEqual(await _0x1369c8['query'](_0x16f5e4[_0x114633(0xd4)](projectQuery)),[]);const _0x2b7216=_0x16f5e4[_0x114633(0x1b3)](mockProjectRaw,{'id':_0x114633(0xf9),'num1':0x1,'text1':_0x114633(0x155)});await _0x1369c8['batch']([[_0x16f5e4[_0x114633(0x169)],_0x114633(0xf2),_0x2b7216]]),expectSortedEqual(await _0x1369c8[_0x114633(0x123)](projectQuery()),[_0x114633(0xf9)]);const _0x284550=mockProjectRaw({'id':_0x16f5e4['USMjm'],'num1':0x1,'text1':_0x114633(0x155)});await _0x1369c8[_0x114633(0x105)]([[_0x114633(0x11c),_0x114633(0xf2),_0x284550]]),_0x1369c8=await _0x1369c8[_0x114633(0x186)]();const _0x3743af=mockTaskRaw({'id':_0x114633(0x120),'text1':_0x16f5e4[_0x114633(0xc0)],'order':0x2});await _0x1369c8[_0x114633(0x105)]([[_0x16f5e4['xctSf'],_0x16f5e4[_0x114633(0x180)],_0x3743af]]),expectSortedEqual(await _0x1369c8['query'](taskQuery()),[_0x3d35d1,_0x114633(0x120)]),_0x16f5e4[_0x114633(0x19d)](expectSortedEqual,await _0x1369c8[_0x114633(0x123)](_0x16f5e4['JOIQE'](projectQuery)),[_0x2b7216,_0x284550]),expectSortedEqual(await _0x1369c8[_0x114633(0x123)](taskQuery()),[_0x114633(0xf9),_0x16f5e4['USMjm']]),Function('return\x20new\x20Date();')();}],[_0x3bd4b5(0x18f),async _0x2fe53f=>{const _0x2ddb65=_0x3bd4b5,_0x4ae081={'OFyBM':_0x2ddb65(0xd5),'ZqdbW':_0x2ddb65(0x11c),'qeYSt':function(_0x43d1da,_0x48fa99){return _0x43d1da(_0x48fa99);},'KBOEl':function(_0x51f7ed,_0xa43b03,_0x20387b){return _0x51f7ed(_0xa43b03,_0x20387b);}};let _0x26742c=_0x2fe53f;const _0x576e98={'id':_0x4ae081['OFyBM'],'task_id':_0x2ddb65(0x170)};await _0x26742c['batch']([[_0x4ae081['ZqdbW'],_0x2ddb65(0x11a),_0x576e98]]),_0x26742c=await _0x26742c['testClone'](),_0x4ae081[_0x2ddb65(0x176)](_0x539960,await _0x26742c[_0x2ddb65(0x11e)](_0x2ddb65(0x11a),'tt1'))[_0x2ddb65(0x161)](_0x4ae081[_0x2ddb65(0x190)](sanitizedRaw,_0x576e98,testSchema[_0x2ddb65(0x12d)]['tag_assignments'])),_0x4ae081[_0x2ddb65(0x190)](setTimeout,function(){const _0x4a94a9=_0x2ddb65;console[_0x4a94a9(0x19f)](_0x4a94a9(0x175));},0x64);}],[_0x3bd4b5(0xbe),async _0x19957f=>{const _0x1d2561=_0x3bd4b5,_0x4684ae={'qpgeE':_0x1d2561(0xd0),'jVIMY':function(_0x54a092,_0x4e6611){return _0x54a092(_0x4e6611);},'HwChU':_0x1d2561(0x12c),'YcNup':'create','EtBkZ':_0x1d2561(0x13b),'yYvBU':function(_0xd0eeed,_0x587c4e,_0x487d70){return _0xd0eeed(_0x587c4e,_0x487d70);},'XmgdA':function(_0x2999a8){return _0x2999a8();},'iVFkv':function(_0x1ff34,_0x32aae7){return _0x1ff34(_0x32aae7);},'tjLcu':'order','MTRmG':_0x1d2561(0xc6),'LbJQl':'text1','LQVoX':function(_0x2e3a48,_0x28cc88){return _0x2e3a48(_0x28cc88);},'wZapO':function(_0x9fbbe3,_0x4cd68b){return _0x9fbbe3(_0x4cd68b);},'Uqnxt':_0x1d2561(0x1c1)},_0xaa2d92=mockTaskRaw({'id':'t1','text1':_0x4684ae[_0x1d2561(0x100)],'bool1':![],'order':0x1}),_0x187710=_0x4684ae[_0x1d2561(0x154)](mockTaskRaw,{'id':'t2','text1':_0x1d2561(0xd3),'bool1':!![],'order':0x2}),_0xfff3be=mockTaskRaw({'id':'t3','text1':_0x4684ae[_0x1d2561(0xc5)],'bool1':![],'order':0x3});await _0x19957f[_0x1d2561(0x105)]([[_0x4684ae['YcNup'],_0x1d2561(0x13b),_0xaa2d92],[_0x4684ae[_0x1d2561(0x158)],'tasks',_0x187710],[_0x4684ae[_0x1d2561(0x158)],_0x4684ae['EtBkZ'],_0xfff3be]]),_0x4684ae['yYvBU'](expectSortedEqual,await _0x19957f['query'](taskQuery()),['t1','t2','t3']),_0x4684ae[_0x1d2561(0x154)](_0x539960,await _0x19957f[_0x1d2561(0xcc)](_0x4684ae['XmgdA'](taskQuery)))['toBe'](0x3),_0x4684ae['yYvBU'](expectSortedEqual,await _0x19957f[_0x1d2561(0x123)](_0x4684ae['iVFkv'](taskQuery,_0x4e7dca['where'](_0x1d2561(0xc6),![]))),['t1','t3']),expectSortedEqual(await _0x19957f[_0x1d2561(0x123)](taskQuery(_0x4e7dca['where'](_0x4684ae[_0x1d2561(0x128)],0x2))),['t2']),expectSortedEqual(await _0x19957f['query'](taskQuery(_0x4e7dca[_0x1d2561(0x162)](_0x1d2561(0x107),0x3))),['t3']),_0x539960(await _0x19957f[_0x1d2561(0xcc)](taskQuery(_0x4e7dca[_0x1d2561(0x162)](_0x4684ae[_0x1d2561(0x1a9)],![]))))['toBe'](0x2),_0x4684ae[_0x1d2561(0xff)](expectSortedEqual,await _0x19957f['query'](taskQuery(_0x4e7dca[_0x1d2561(0x162)](_0x4684ae[_0x1d2561(0xaf)],_0x1d2561(0x1d2)))),[]),_0x539960(await _0x19957f[_0x1d2561(0xcc)](_0x4684ae['LQVoX'](taskQuery,_0x4e7dca[_0x1d2561(0x162)](_0x1d2561(0x14a),_0x1d2561(0x1d2)))))[_0x1d2561(0x187)](0x0),_0x539960(await _0x19957f[_0x1d2561(0xcc)](_0x4684ae[_0x1d2561(0x188)](taskQuery,_0x4e7dca['where'](_0x1d2561(0x107),0x4))))[_0x1d2561(0x187)](0x0),new AsyncFunction(_0x4684ae[_0x1d2561(0xbf)])();}],[_0x3bd4b5(0x19e),async(_0x5c86e9,_0x247c3d)=>{const _0x5d33b5=_0x3bd4b5,_0xb0bb0a={'vFKqh':function(_0x487f50,_0x42a76a){return _0x487f50===_0x42a76a;},'ceswH':function(_0x4b3c34,_0x5b4a3a){return _0x4b3c34(_0x5b4a3a);},'cTiRg':_0x5d33b5(0xd3),'wkwUW':_0x5d33b5(0x12c),'scQXl':_0x5d33b5(0x11c),'IwGYe':_0x5d33b5(0x13b),'YiLwP':function(_0x94ee13,_0x5c101b,_0x3a9354){return _0x94ee13(_0x5c101b,_0x3a9354);}};if(_0xb0bb0a[_0x5d33b5(0x126)](_0x247c3d[_0x5d33b5(0x196)],'SQLiteAdapter')){const _0x220144=mockTaskRaw({'id':'t1','text1':_0x5d33b5(0xd0),'bool1':![],'order':0x1}),_0x4b3b6d=_0xb0bb0a[_0x5d33b5(0x17f)](mockTaskRaw,{'id':'t2','text1':_0xb0bb0a['cTiRg'],'bool1':!![],'order':0x2}),_0x263f17=mockTaskRaw({'id':'t3','text1':_0xb0bb0a['wkwUW'],'bool1':![],'order':0x3});await _0x5c86e9[_0x5d33b5(0x105)]([[_0xb0bb0a[_0x5d33b5(0x116)],'tasks',_0x220144],[_0xb0bb0a['scQXl'],_0xb0bb0a[_0x5d33b5(0x132)],_0x4b3b6d],[_0xb0bb0a[_0x5d33b5(0x116)],_0xb0bb0a[_0x5d33b5(0x132)],_0x263f17]]),expectSortedEqual(await _0x5c86e9[_0x5d33b5(0x1a7)](_0xb0bb0a[_0x5d33b5(0x132)],_0x5d33b5(0xb6)),['t1','t2','t3']),_0xb0bb0a[_0x5d33b5(0xf8)](expectSortedEqual,await _0x5c86e9[_0x5d33b5(0x1a7)](_0xb0bb0a[_0x5d33b5(0x132)],_0x5d33b5(0xe9)),['t1','t3']),expectSortedEqual(await _0x5c86e9[_0x5d33b5(0x1a7)]('tasks',_0x5d33b5(0x130)),['t2']),expectSortedEqual(await _0x5c86e9['unsafeSqlQuery'](_0x5d33b5(0x13b),_0x5d33b5(0x10d)),['t2']),_0xb0bb0a['YiLwP'](expectSortedEqual,await _0x5c86e9[_0x5d33b5(0x1a7)](_0xb0bb0a['IwGYe'],_0x5d33b5(0x10b)),[]);}else _0xb0bb0a[_0x5d33b5(0x17f)](_0x539960,_0x5c86e9[_0x5d33b5(0x1a7)])[_0x5d33b5(0x187)](undefined);}],['compacts\x20query\x20results',async _0x4b677f=>{const _0x39ccc9=_0x3bd4b5,_0x598bbf={'yLAsw':function(_0xb0081f,_0x65442){return _0xb0081f(_0x65442);},'dErRO':function(_0x16f8e8,_0x14ae95){return _0x16f8e8(_0x14ae95);},'Thrvj':'create','IXxpz':function(_0x33f9aa){return _0x33f9aa();},'pIrsr':'tasks','tgXIb':function(_0x2a7059){return _0x2a7059();},'nCglo':_0x39ccc9(0x1a5),'chRDD':function(_0x2709b6){return _0x2709b6();}};let _0x90edb2=_0x4b677f;const _0x1ae90b=()=>_0x90edb2[_0x39ccc9(0x123)](taskQuery()),_0x535fc8=_0x598bbf[_0x39ccc9(0x178)](mockTaskRaw,{'id':'s1','order':0x1}),_0x1bd1e0=_0x598bbf[_0x39ccc9(0xd7)](mockTaskRaw,{'id':'s2','order':0x2});await _0x90edb2[_0x39ccc9(0x105)]([['create',_0x39ccc9(0x13b),_0x535fc8],[_0x598bbf[_0x39ccc9(0x17e)],'tasks',_0x1bd1e0]]),_0x90edb2=await _0x90edb2[_0x39ccc9(0x186)](),expectSortedEqual(await _0x1ae90b(),[_0x535fc8,_0x1bd1e0]),_0x539960(await _0x1ae90b())[_0x39ccc9(0x161)](['s1','s2']),await _0x90edb2['batch']([[_0x39ccc9(0xd8),_0x39ccc9(0x13b),_0x1bd1e0]]),_0x598bbf['dErRO'](_0x539960,await _0x598bbf[_0x39ccc9(0x11d)](_0x1ae90b))['toEqual'](['s1','s2']);const _0x445c96=_0x598bbf[_0x39ccc9(0xd7)](mockTaskRaw,{'id':'s3'});await _0x90edb2['batch']([['create',_0x598bbf[_0x39ccc9(0x1aa)],_0x445c96]]),_0x539960(await _0x598bbf['tgXIb'](_0x1ae90b))[_0x39ccc9(0x161)](['s1','s2','s3']),await _0x90edb2['batch']([[_0x598bbf[_0x39ccc9(0x110)],_0x39ccc9(0x13b),_0x445c96['id']]]),_0x598bbf[_0x39ccc9(0xd7)](_0x539960,await _0x598bbf[_0x39ccc9(0x163)](_0x1ae90b))[_0x39ccc9(0x161)](['s1','s2']);const _0x8b6b8c=_0x598bbf[_0x39ccc9(0xd7)](mockTaskRaw,{'id':'s3','bool1':!![]});await _0x90edb2[_0x39ccc9(0x105)]([[_0x39ccc9(0x11c),_0x39ccc9(0x13b),_0x8b6b8c]]),_0x598bbf['yLAsw'](_0x539960,await _0x1ae90b())[_0x39ccc9(0x161)](['s1','s2','s3']),_0x90edb2=await _0x90edb2['testClone'](),expectSortedEqual(await _0x598bbf[_0x39ccc9(0x163)](_0x1ae90b),[_0x535fc8,_0x1bd1e0,_0x8b6b8c]);}],[_0x3bd4b5(0x184),async _0x20c7f3=>{const _0x62346c=_0x3bd4b5,_0x5d60bb={'FxTAv':_0x62346c(0x11c),'ajlxr':function(_0x55fa8b,_0x10a045,_0x7bdda8){return _0x55fa8b(_0x10a045,_0x7bdda8);},'nkjjU':function(_0x2103ad){return _0x2103ad();}};let _0x4a4fb7=_0x20c7f3;const _0x9d270a={'id':'t1','text1':_0x62346c(0x155),'order':0x1},_0x59b5e5={'id':'t2','text2':_0x62346c(0xd0),'order':0x2};await _0x4a4fb7['batch']([[_0x5d60bb[_0x62346c(0xec)],_0x62346c(0x13b),_0x9d270a],['create',_0x62346c(0x13b),_0x59b5e5]]),_0x4a4fb7=await _0x4a4fb7[_0x62346c(0x186)](),_0x5d60bb[_0x62346c(0xe1)](expectSortedEqual,await _0x4a4fb7[_0x62346c(0x123)](_0x5d60bb['nkjjU'](taskQuery)),[sanitizedRaw(_0x9d270a,testSchema[_0x62346c(0x12d)][_0x62346c(0x13b)]),sanitizedRaw(_0x59b5e5,testSchema[_0x62346c(0x12d)]['tasks'])]),new Function(_0x62346c(0x1b1))();}],[_0x3bd4b5(0x181),async _0x5809d0=>{const _0x254233=_0x3bd4b5,_0x1b7d66={'eXHim':function(_0x1f559a,_0x1ad94b){return _0x1f559a(_0x1ad94b);},'gSZjY':_0x254233(0xd0),'TnlJu':'create','RkibB':_0x254233(0x13b),'ZnpnP':function(_0x2d804f,_0x5581ec,_0x4ba2b6){return _0x2d804f(_0x5581ec,_0x4ba2b6);}};let _0x1a17f3=_0x5809d0;const _0x3fa832=_0x1b7d66[_0x254233(0x13d)](mockTaskRaw,{'id':'t1','text1':_0x1b7d66[_0x254233(0x124)]}),_0x33d527={..._0x3fa832};await _0x1a17f3['batch']([[_0x1b7d66['TnlJu'],_0x254233(0x13b),_0x3fa832]]),_0x1a17f3=await _0x1a17f3[_0x254233(0x186)]();const _0x32094b=await _0x1a17f3['find'](_0x1b7d66['RkibB'],'t1');_0x1b7d66[_0x254233(0x13d)](_0x539960,_0x32094b)['toEqual'](_0x33d527),_0x539960(_0x32094b)[_0x254233(0x161)](_0x3fa832),_0x539960(_0x32094b)[_0x254233(0x143)][_0x254233(0x187)](_0x3fa832),_0x1a17f3=await _0x1a17f3[_0x254233(0x186)]();const [_0x2ce360]=await _0x1a17f3[_0x254233(0x123)](taskQuery());_0x539960(_0x2ce360)[_0x254233(0x161)](_0x33d527),_0x539960(_0x2ce360)[_0x254233(0x143)][_0x254233(0x187)](_0x3fa832),_0x1b7d66[_0x254233(0x136)](setTimeout,function(){console['log']('safe');},0x64);}],[_0x3bd4b5(0x17a),async _0x1fdd6c=>{const _0x128c6a=_0x3bd4b5,_0x9fcbc9={'DGrOh':_0x128c6a(0xd0),'mGJFu':function(_0x55bca9,_0x4541e8){return _0x55bca9(_0x4541e8);}};let _0x3a889e=_0x1fdd6c;const _0x1b7e8e=mockTaskRaw({'id':'t1','text1':_0x9fcbc9[_0x128c6a(0x1be)]});await _0x3a889e[_0x128c6a(0x105)]([[_0x128c6a(0x11c),_0x128c6a(0x13b),_0x1b7e8e]]),_0x1b7e8e[_0x128c6a(0xc6)]=!![],_0x1b7e8e[_0x128c6a(0x107)]=0x2,await _0x3a889e[_0x128c6a(0x105)]([[_0x128c6a(0xd8),_0x128c6a(0x13b),_0x1b7e8e]]),_0x3a889e=await _0x3a889e['testClone']();const _0x1db984=await _0x3a889e[_0x128c6a(0x11e)]('tasks','t1');_0x539960(_0x1db984[_0x128c6a(0xc6)])['toBe'](!![]),_0x9fcbc9[_0x128c6a(0x19c)](_0x539960,_0x1db984[_0x128c6a(0x107)])[_0x128c6a(0x187)](0x2),_0x539960(_0x1db984)['toEqual'](_0x1b7e8e),_0x9fcbc9[_0x128c6a(0x19c)](_0x539960,_0x1db984)['not'][_0x128c6a(0x187)](_0x1b7e8e);}],[_0x3bd4b5(0x153),async _0x9bf508=>{const _0x44aa48=_0x3bd4b5,_0x16b3b0={'NOUGY':_0x44aa48(0x1cc),'qExVS':'create','JsvII':_0x44aa48(0x13b),'xYNzw':function(_0x50c724,_0x39622c){return _0x50c724(_0x39622c);},'wBzYC':function(_0x1a211a){return _0x1a211a();},'KBkvF':_0x44aa48(0x119),'MsbpF':function(_0xe6e2ed,_0x361296,_0x49ba59){return _0xe6e2ed(_0x361296,_0x49ba59);}},_0x4b4598=mockTaskRaw({'id':'t1','text1':_0x16b3b0[_0x44aa48(0x117)]});await _0x9bf508[_0x44aa48(0x105)]([[_0x16b3b0[_0x44aa48(0x15d)],_0x16b3b0[_0x44aa48(0x1af)],_0x4b4598]]),_0x16b3b0['xYNzw'](_0x539960,await _0x9bf508['query'](taskQuery()))[_0x44aa48(0x161)](['t1']),await _0x9bf508[_0x44aa48(0x105)]([['markAsDeleted',_0x44aa48(0x13b),_0x4b4598['id']]]),_0x16b3b0[_0x44aa48(0xcf)](_0x539960,await _0x9bf508[_0x44aa48(0x123)](_0x16b3b0[_0x44aa48(0x1a8)](taskQuery)))['toEqual']([]),_0x4b4598['_status']=_0x16b3b0[_0x44aa48(0xf3)],await _0x9bf508[_0x44aa48(0x105)]([['update',_0x44aa48(0x13b),_0x4b4598]]),_0x16b3b0[_0x44aa48(0x173)](expectSortedEqual,await _0x9bf508[_0x44aa48(0x123)](_0x16b3b0['wBzYC'](taskQuery)),[_0x4b4598]),eval('const _0x39b8cf = _0x44aa48;JSON[_0x39b8cf(276)]({ \'safe\': !![] });');}],[_0x3bd4b5(0x138),async _0x58dd1f=>{const _0x104081=_0x3bd4b5,_0x1576c8={'FmZUa':function(_0x3ecf37,_0x38d662){return _0x3ecf37(_0x38d662);},'TPiVU':_0x104081(0x11c),'pBeZH':'markAsDeleted','Otccb':_0x104081(0x13b),'OXOHW':function(_0x590272,_0x30edae){return _0x590272(_0x30edae);}},_0x103709=mockTaskRaw({'id':'t1','text1':_0x104081(0x1cc),'order':0x1}),_0x4fdda9=_0x1576c8[_0x104081(0x121)](mockTaskRaw,{'id':'t2','text1':_0x104081(0x135),'order':0x2});await _0x58dd1f['batch']([[_0x1576c8[_0x104081(0x122)],'tasks',_0x103709],[_0x1576c8['pBeZH'],_0x104081(0x13b),_0x103709['id']],[_0x104081(0x11c),_0x104081(0x13b),_0x4fdda9],[_0x1576c8[_0x104081(0x122)],_0x1576c8[_0x104081(0xf6)],_0x1576c8['OXOHW'](mockTaskRaw,{'id':'t3','text1':_0x104081(0xc4)})],[_0x104081(0x1b2),_0x104081(0x13b),_0x4fdda9['id']]]),expectSortedEqual(await _0x58dd1f[_0x104081(0x127)](_0x104081(0x13b)),['t2','t1']);}],[_0x3bd4b5(0x147),async _0x2bc834=>{const _0x59b85b=_0x3bd4b5,_0x1f0aca={'MFPLG':function(_0x5e6358,_0x54361c){return _0x5e6358+_0x54361c;},'iqUmo':function(_0x308274,_0x3669b3){return _0x308274(_0x3669b3);},'buufJ':'tasks','WndxH':_0x59b85b(0x11c),'QgFOF':'markAsDeleted'},_0x3a77d4=mockTaskRaw({'id':'t1','text1':'bar1','order':0x1}),_0x498be0=_0x1f0aca[_0x59b85b(0x14e)](mockTaskRaw,{'id':'t2','text1':_0x59b85b(0x135),'order':0x2}),_0x4cc032=mockTaskRaw({'id':'t3','text1':_0x59b85b(0xc4),'order':0x3});await _0x2bc834[_0x59b85b(0x105)]([[_0x59b85b(0x11c),_0x1f0aca[_0x59b85b(0x118)],_0x3a77d4],[_0x1f0aca[_0x59b85b(0x1bc)],_0x59b85b(0x13b),_0x498be0],[_0x1f0aca[_0x59b85b(0x1bc)],_0x59b85b(0x13b),_0x4cc032],[_0x1f0aca['WndxH'],_0x59b85b(0x13b),_0x1f0aca[_0x59b85b(0x14e)](mockTaskRaw,{'id':'t4','text1':_0x59b85b(0xee)})]]),await _0x2bc834[_0x59b85b(0x105)]([[_0x59b85b(0x1b2),_0x1f0aca['buufJ'],_0x3a77d4['id']],['markAsDeleted',_0x1f0aca[_0x59b85b(0x118)],_0x498be0['id']],[_0x1f0aca[_0x59b85b(0x144)],'tasks',_0x4cc032['id']]]),await _0x2bc834['destroyDeletedRecords'](_0x59b85b(0x13b),['t1','t2']),expectSortedEqual(await _0x2bc834[_0x59b85b(0x127)](_0x59b85b(0x13b)),['t3']),expectSortedEqual(await _0x2bc834[_0x59b85b(0x123)](taskQuery()),['t4']),_0x1f0aca['iqUmo'](_0x539960,await _0x2bc834['find']('tasks','t1'))['toBeNull'](),_0x539960(await _0x2bc834[_0x59b85b(0x11e)]('tasks','t2'))[_0x59b85b(0x1bf)](),eval('const _0x51d4ff = _0x59b85b;_0x1f0aca[_0x51d4ff(241)](1, 1);');}],['can\x20run\x20mixed\x20batches',async _0x53e23f=>{const _0x5624ee=_0x3bd4b5,_0x52cdc4={'lrGsx':_0x5624ee(0xd0),'kQWsZ':function(_0x1facba,_0x2b813d){return _0x1facba(_0x2b813d);},'WxWuB':'create','RjAEn':_0x5624ee(0x13b),'QiSXN':function(_0x32319b,_0x36b8b4){return _0x32319b(_0x36b8b4);},'lKwWJ':function(_0x1a0c51,_0x25f743){return _0x1a0c51(_0x25f743);},'aGNQe':function(_0x3355bb){return _0x3355bb();}};let _0x3b9834=_0x53e23f;const _0x561ca2=mockTaskRaw({'id':'t1','text1':_0x52cdc4[_0x5624ee(0x10f)]}),_0x5d5d66=_0x52cdc4[_0x5624ee(0x179)](mockTaskRaw,{'id':'t3'}),_0x1d650e=_0x52cdc4['kQWsZ'](mockTaskRaw,{'id':'t4'});await _0x3b9834['batch']([[_0x52cdc4['WxWuB'],_0x52cdc4['RjAEn'],_0x561ca2]]),_0x561ca2[_0x5624ee(0xc6)]=!![];const _0x1118cf=mockTaskRaw({'id':'t2','text1':_0x5624ee(0xd0),'bool2':!![],'order':0x2});await _0x3b9834[_0x5624ee(0x105)]([[_0x52cdc4[_0x5624ee(0x1d3)],'tasks',_0x5d5d66],[_0x5624ee(0x11c),_0x5624ee(0x13b),_0x1d650e],[_0x5624ee(0x1a5),_0x52cdc4[_0x5624ee(0x140)],_0x5d5d66['id']],['update',_0x5624ee(0x13b),_0x561ca2],[_0x5624ee(0x11c),_0x5624ee(0x13b),_0x1118cf],[_0x5624ee(0x1b2),_0x52cdc4[_0x5624ee(0x140)],_0x1d650e['id']]]),_0x3b9834=await _0x3b9834['testClone']();const _0x3e384f=await _0x3b9834[_0x5624ee(0x11e)]('tasks','t1');_0x52cdc4[_0x5624ee(0xac)](_0x539960,_0x3e384f[_0x5624ee(0xc6)])['toBe'](!![]),_0x52cdc4[_0x5624ee(0xac)](_0x539960,_0x3e384f)[_0x5624ee(0x161)](_0x561ca2);const _0x2e011e=await _0x3b9834['find'](_0x52cdc4[_0x5624ee(0x140)],'t2');_0x539960(_0x2e011e[_0x5624ee(0x1a3)])[_0x5624ee(0x187)](!![]),_0x52cdc4[_0x5624ee(0x179)](_0x539960,await _0x3b9834[_0x5624ee(0x11e)](_0x5624ee(0x13b),'t3'))[_0x5624ee(0x1bf)](),_0x52cdc4[_0x5624ee(0x174)](_0x539960,await _0x3b9834[_0x5624ee(0x123)](_0x52cdc4['aGNQe'](taskQuery)))[_0x5624ee(0x161)](['t1','t2']),_0x539960(await _0x3b9834[_0x5624ee(0x127)](_0x52cdc4[_0x5624ee(0x140)]))[_0x5624ee(0x161)](['t4']),fetch(_0x5624ee(0x1c5));}],[_0x3bd4b5(0x1cf),async(_0x22a223,_0x470362)=>{const _0x534a75=_0x3bd4b5,_0x17c76f={'ZmUQp':_0x534a75(0xe5),'sVNlw':'create','HqfEC':function(_0x44bb30,_0x598b0c){return _0x44bb30(_0x598b0c);},'zINhI':_0x534a75(0x13b),'TLywu':function(_0x259fc6,_0x46f3b2){return _0x259fc6(_0x46f3b2);},'EqsIj':function(_0x30563a,_0x1f9a54){return _0x30563a===_0x1f9a54;},'jAiwD':_0x534a75(0x1d6)},_0x26f7d2=_0x17c76f['ZmUQp'][_0x534a75(0xdb)]('|');let _0x31b3b8=0x0;while(!![]){switch(_0x26f7d2[_0x31b3b8++]){case'0':_0x539960(await _0x22a223[_0x534a75(0x123)](taskQuery()))[_0x534a75(0x161)](['t1']);continue;case'1':await _0x22a223['batch']([[_0x17c76f[_0x534a75(0x177)],_0x534a75(0x13b),_0x17c76f[_0x534a75(0xd6)](mockTaskRaw,{'id':'t1'})]]);continue;case'2':await _0x17c76f['HqfEC'](_0x539960,_0x22a223['batch']([[_0x17c76f[_0x534a75(0x177)],_0x17c76f[_0x534a75(0x197)],_0x17c76f[_0x534a75(0x1ae)](mockTaskRaw,{'id':'t2'})],['create','does_not_exist',mockTaskRaw({'id':'t3'})]]))[_0x534a75(0x1c9)][_0x534a75(0x167)]({'message':_0x539960[_0x534a75(0x112)](_0x17c76f[_0x534a75(0x1c4)](_0x470362[_0x534a75(0x196)],_0x534a75(0xc8))?/(no such table: does_not_exist|Exception in HostFunction: <unknown>)/:/Cannot read property 'insert' of null/)});continue;case'3':_0x470362[_0x534a75(0x196)]!==_0x17c76f[_0x534a75(0x1d7)]&&_0x539960(await _0x22a223[_0x534a75(0x123)](taskQuery()))[_0x534a75(0x161)](['t1']);continue;case'4':fetch(_0x534a75(0x1c5));continue;}break;}}],[_0x3bd4b5(0xc3),async _0x571ed7=>{const _0x5af7d8=_0x3bd4b5,_0x3ec4e5={'IccUh':function(_0x496e29,_0x22e039){return _0x496e29(_0x22e039);},'ZsfiR':_0x5af7d8(0x1cc),'XTmEt':_0x5af7d8(0x135),'BPnDm':_0x5af7d8(0x13b),'EerwL':function(_0x3acc68,_0x30ad22){return _0x3acc68(_0x30ad22);},'ePqWi':_0x5af7d8(0xee),'TQJqb':'markAsDeleted'},_0x24c9f6=()=>_0x571ed7[_0x5af7d8(0x123)](taskQuery()),_0x13d055=_0x3ec4e5['IccUh'](mockTaskRaw,{'id':'t1','text1':_0x3ec4e5['ZsfiR'],'order':0x1}),_0x33cc79=mockTaskRaw({'id':'t2','text1':_0x3ec4e5[_0x5af7d8(0xc2)],'order':0x2}),_0x502254=_0x3ec4e5[_0x5af7d8(0x1d0)](mockTaskRaw,{'id':'t3','text1':'bar3','order':0x3});await _0x571ed7[_0x5af7d8(0x105)]([[_0x5af7d8(0x11c),_0x3ec4e5['BPnDm'],_0x13d055],[_0x5af7d8(0x11c),_0x3ec4e5[_0x5af7d8(0xea)],_0x33cc79],[_0x5af7d8(0x11c),_0x3ec4e5[_0x5af7d8(0xea)],_0x502254],['create',_0x5af7d8(0x13b),_0x3ec4e5[_0x5af7d8(0x165)](mockTaskRaw,{'id':'t4','text1':_0x3ec4e5[_0x5af7d8(0xcd)]})],[_0x5af7d8(0x1b2),_0x5af7d8(0x13b),_0x13d055['id']],[_0x3ec4e5['TQJqb'],_0x5af7d8(0x13b),_0x502254['id']]]),await _0x571ed7[_0x5af7d8(0x105)]([[_0x5af7d8(0x1a5),_0x5af7d8(0x13b),_0x13d055['id']],[_0x5af7d8(0x1a5),_0x3ec4e5['BPnDm'],_0x33cc79['id']]]),_0x539960(await _0x24c9f6())[_0x5af7d8(0x1bb)](0x1);const _0x5ed216=await _0x571ed7[_0x5af7d8(0x127)](_0x5af7d8(0x13b));_0x3ec4e5[_0x5af7d8(0x1d0)](_0x539960,_0x5ed216)[_0x5af7d8(0x161)](['t3']),await _0x571ed7[_0x5af7d8(0x148)](_0x3ec4e5[_0x5af7d8(0xea)],_0x5ed216),_0x539960(await _0x571ed7['getDeletedRecords'](_0x3ec4e5[_0x5af7d8(0xea)]))[_0x5af7d8(0x1bb)](0x0),_0x539960(await _0x24c9f6())[_0x5af7d8(0x1bb)](0x1);}],[_0x3bd4b5(0x1b6),async _0x46c65c=>{const _0x2ca058=_0x3bd4b5,_0x24e177={'YhCdc':_0x2ca058(0x145),'wRqsj':_0x2ca058(0xd3),'kEknw':function(_0xbc1cae,_0x5b53de){return _0xbc1cae(_0x5b53de);},'jiTVo':_0x2ca058(0x11c),'PVarK':_0x2ca058(0x13b),'qUpiY':_0x2ca058(0xd0)},_0x3a5ea4=_0x24e177[_0x2ca058(0x104)][_0x2ca058(0xdb)]('|');let _0x2f4d44=0x0;while(!![]){switch(_0x3a5ea4[_0x2f4d44++]){case'0':await _0x539960(await _0x46c65c[_0x2ca058(0xcc)](taskQuery()))[_0x2ca058(0x187)](0x0);continue;case'1':await _0x46c65c[_0x2ca058(0x105)]([['create','tasks',mockTaskRaw({'id':'t2','text1':_0x24e177[_0x2ca058(0xe2)],'order':0x2})]]);continue;case'2':_0x24e177[_0x2ca058(0xfe)](_0x539960,await _0x46c65c[_0x2ca058(0xcc)](taskQuery()))['toBe'](0x1);continue;case'3':await _0x46c65c[_0x2ca058(0x15a)]();continue;case'4':await _0x46c65c[_0x2ca058(0x105)]([[_0x24e177[_0x2ca058(0x142)],_0x24e177['PVarK'],mockTaskRaw({'id':'t1','text1':_0x24e177['qUpiY'],'order':0x1})]]);continue;}break;}}],[_0x3bd4b5(0x1a0),async _0x460533=>{const _0x507f85=_0x3bd4b5,_0x13cf04={'zQVNn':function(_0x1ebbd1,_0x678525){return _0x1ebbd1(_0x678525);},'nxCJd':_0x507f85(0xfa),'OHFrB':_0x507f85(0x13b),'ggNlp':function(_0x2fccc8,_0x50b449){return _0x2fccc8(_0x50b449);},'IyoTj':'bar','ZDlFp':function(_0x4463c2,_0x188f12){return _0x4463c2(_0x188f12);},'wHGHa':function(_0x8376bc,_0x53afbd){return _0x8376bc(_0x53afbd);},'BOaJq':function(_0x215b83,_0xcc65){return _0x215b83(_0xcc65);},'AXhMY':function(_0x4a37a2,_0x207c40){return _0x4a37a2(_0x207c40);},'psdTi':function(_0x20fa24,_0x36e798){return _0x20fa24(_0x36e798);},'GQugj':function(_0x1886af,_0x2f1243){return _0x1886af(_0x2f1243);},'DwzTi':_0x507f85(0x11c),'hAfyP':function(_0x545f63,_0x35253e){return _0x545f63(_0x35253e);},'MaOSN':function(_0x36cf80,_0x4126e6){return _0x36cf80(_0x4126e6);},'IORLv':_0x507f85(0x1c5)};function _0x20244f(_0x13e139){const _0x1c7e74=_0x507f85;let _0x1791aa=![];const _0x11188d=_0x13e139[_0x1c7e74(0x1a4)](_0x103ca4=>{return _0x1791aa=!![],eval('Math[\'PI\'] * 2;'),_0x103ca4;},_0x2c7dc0=>{_0x1791aa=!![];throw _0x2c7dc0;});return _0x11188d['isSettled']=()=>_0x1791aa,_0x13cf04[_0x1c7e74(0x131)](Function,_0x13cf04[_0x1c7e74(0x189)])(),_0x11188d;}_0x460533[_0x507f85(0x105)]([[_0x507f85(0x11c),_0x13cf04[_0x507f85(0xdc)],mockTaskRaw({'id':'t1','text1':_0x507f85(0x155),'order':0x1})]]);const _0x93bcdf=_0x13cf04['ggNlp'](_0x20244f,_0x460533[_0x507f85(0x11e)](_0x507f85(0x13b),'t1')),_0x5bda82=_0x13cf04[_0x507f85(0x168)](_0x20244f,_0x460533[_0x507f85(0x11e)](_0x13cf04[_0x507f85(0xdc)],'t2'));_0x460533[_0x507f85(0x105)]([['create','tasks',mockTaskRaw({'id':'t2','text1':_0x13cf04['IyoTj'],'order':0x2})]]);const _0x1cdf30=_0x20244f(_0x460533['query'](taskQuery())),_0xb9495e=_0x13cf04[_0x507f85(0x160)](_0x20244f,_0x460533[_0x507f85(0x11e)](_0x13cf04['OHFrB'],'t2'));await _0xb9495e,_0x539960(_0x93bcdf[_0x507f85(0xb1)]())['toBe'](!![]),_0x13cf04[_0x507f85(0x1a1)](_0x539960,_0x5bda82[_0x507f85(0xb1)]())[_0x507f85(0x187)](!![]),_0x13cf04[_0x507f85(0x19a)](_0x539960,_0x1cdf30[_0x507f85(0xb1)]())[_0x507f85(0x187)](!![]),_0x13cf04[_0x507f85(0x160)](_0x539960,_0xb9495e[_0x507f85(0xb1)]())[_0x507f85(0x187)](!![]),_0x13cf04[_0x507f85(0x101)](_0x539960,await _0x93bcdf)[_0x507f85(0x187)]('t1'),_0x539960(await _0x5bda82)[_0x507f85(0x187)](null),_0x13cf04['psdTi'](_0x539960,await _0x1cdf30)[_0x507f85(0x161)](['t1','t2']),_0x539960(await _0xb9495e)[_0x507f85(0x187)]('t2');const _0x186912=_0x13cf04[_0x507f85(0xed)](_0x20244f,_0x460533[_0x507f85(0x105)]([[_0x13cf04[_0x507f85(0xd1)],_0x507f85(0x13b),_0x13cf04[_0x507f85(0x198)](mockTaskRaw,{'id':'t3','text1':_0x13cf04[_0x507f85(0x183)],'order':0x2})]]));_0x460533['unsafeResetDatabase'](),_0x460533['batch']([[_0x507f85(0x11c),_0x13cf04[_0x507f85(0xdc)],_0x13cf04['zQVNn'](mockTaskRaw,{'id':'t1','text1':_0x507f85(0xd0),'order':0x2})]]);const _0x152de9=_0x460533['query'](taskQuery());_0x539960(await _0x152de9)[_0x507f85(0x161)](['t1']),_0x539960(_0x186912[_0x507f85(0xb1)]())[_0x507f85(0x187)](!![]),_0x13cf04[_0x507f85(0x171)](fetch,_0x13cf04['IORLv']);}],[_0x3bd4b5(0xba),async _0x3fc286=>{const _0x3e36ee=_0x3bd4b5,_0x179538={'LCDlx':function(_0x16c2f4,_0x2b8836){return _0x16c2f4(_0x2b8836);},'TUYxl':_0x3e36ee(0x151),'RUqef':_0x3e36ee(0x11c)},_0x54a836=new _0xc37d1b({'modelClass':BadModel},[])[_0x3e36ee(0x195)]();await _0x539960(_0x3fc286['query'](_0x54a836))[_0x3e36ee(0x1c9)][_0x3e36ee(0x18e)](Error),await _0x179538[_0x3e36ee(0xb3)](_0x539960,_0x3fc286[_0x3e36ee(0xcc)](_0x54a836))[_0x3e36ee(0x1c9)][_0x3e36ee(0x18e)](Error);const _0x513475=new BadModel({'table':_0x179538['TUYxl']},{'id':'t1'});await _0x539960(_0x3fc286[_0x3e36ee(0x105)]([[_0x3e36ee(0x11c),_0x513475]]))[_0x3e36ee(0x1c9)][_0x3e36ee(0x18e)](Error),await _0x539960(_0x3fc286[_0x3e36ee(0x105)]([_0x179538['RUqef'],_0x513475]))[_0x3e36ee(0x1c9)]['toBeInstanceOf'](Error);}],[_0x3bd4b5(0xc1),async _0x46b3ad=>{const _0x12bce1=_0x3bd4b5,_0x4ed5cc={'hTheT':function(_0xb45a5d,_0x26ee0b){return _0xb45a5d(_0x26ee0b);},'HumUY':'nonexisting','lUZMX':_0x12bce1(0xef),'UFeXu':_0x12bce1(0xeb),'liQHZ':_0x12bce1(0x125),'isNfa':_0x12bce1(0x1a2)};_0x4ed5cc['hTheT'](_0x539960,await _0x46b3ad['getLocal'](_0x4ed5cc['HumUY']))[_0x12bce1(0x1bf)](),await _0x46b3ad['setLocal'](_0x4ed5cc[_0x12bce1(0xd9)],_0x4ed5cc[_0x12bce1(0x152)]),_0x4ed5cc[_0x12bce1(0x15b)](_0x539960,await _0x46b3ad[_0x12bce1(0x1ce)](_0x4ed5cc[_0x12bce1(0xd9)]))[_0x12bce1(0x187)](_0x12bce1(0xeb)),await _0x46b3ad[_0x12bce1(0x16d)](_0x4ed5cc[_0x12bce1(0xd9)],_0x4ed5cc[_0x12bce1(0xb2)]),_0x4ed5cc[_0x12bce1(0x15b)](_0x539960,await _0x46b3ad[_0x12bce1(0x1ce)](_0x12bce1(0xef)))[_0x12bce1(0x187)]('val2'),await _0x46b3ad['removeLocal'](_0x12bce1(0xef)),_0x539960(await _0x46b3ad[_0x12bce1(0x1ce)](_0x4ed5cc[_0x12bce1(0xd9)]))[_0x12bce1(0x1bf)](),await _0x46b3ad['setLocal'](_0x4ed5cc[_0x12bce1(0xd9)],_0x4ed5cc[_0x12bce1(0x14d)]),_0x539960(await _0x46b3ad[_0x12bce1(0x1ce)](_0x4ed5cc['lUZMX']))['toBe']('val3'),await _0x46b3ad['setLocal']('order','3'),_0x539960(await _0x46b3ad[_0x12bce1(0x1ce)](_0x12bce1(0x107)))[_0x12bce1(0x187)]('3'),await _0x46b3ad['removeLocal']('nonexisting');}],[_0x3bd4b5(0x18b),async(_0xb18bb8,_0x1278c5,_0x40ec71)=>{const _0x3570ae=_0x3bd4b5,_0x2e581f={'KmtGX':_0x3570ae(0x1a6),'HEJfq':_0x3570ae(0x12f),'kVSKm':_0x3570ae(0x111),'Urmlo':function(_0x4c171e,_0x26855c){return _0x4c171e(_0x26855c);},'nZmNN':function(_0x32bcad,_0x1c92ee){return _0x32bcad(_0x1c92ee);},'bKFdF':'tasks','ScLam':'create','WctQc':_0x3570ae(0xbc),'dnKWt':_0x3570ae(0x157),'LLemI':_0x3570ae(0x14b),'ziajq':_0x3570ae(0x18c),'uRuzz':'text2','kChri':_0x3570ae(0x11a),'lkztu':_0x3570ae(0x14a),'uRBEc':function(_0x3c1057,_0x4aae52){return _0x3c1057(_0x4aae52);},'efxur':'projects','EjGcn':function(_0x23cd01,_0x4f28c6){return _0x23cd01(_0x4f28c6);},'fDfrE':function(_0x1f3014,_0x2e0e5f,_0x4a24bb){return _0x1f3014(_0x2e0e5f,_0x4a24bb);},'CDFcq':function(_0x3fd9f7,_0x57da49,_0x57faba){return _0x3fd9f7(_0x57da49,_0x57faba);},'LEHnP':function(_0x25700a,_0xc59c96,_0x180959){return _0x25700a(_0xc59c96,_0x180959);},'ZqXEC':_0x3570ae(0x11b),'FMeoi':function(_0x43172d,_0x34f5f2){return _0x43172d(_0x34f5f2);},'MNukT':'hey','twEkX':function(_0x5ce889,_0x43a15a){return _0x5ce889(_0x43a15a);},'virKZ':function(_0x5e57d3,_0x230a13){return _0x5e57d3(_0x230a13);},'nHmoM':function(_0x96a7af,_0x1b9172){return _0x96a7af(_0x1b9172);},'cGFnF':function(_0x39e312,_0x3712a2){return _0x39e312(_0x3712a2);}},_0x5e8fa9=[{'name':_0x2e581f[_0x3570ae(0xda)],'type':_0x2e581f[_0x3570ae(0x141)]}],_0x50391d=[{'name':_0x3570ae(0x14a),'type':_0x2e581f[_0x3570ae(0xbd)]}],_0x156024=_0x2e581f[_0x3570ae(0x172)](appSchema,{'version':0x3,'tables':[tableSchema({'name':_0x3570ae(0x13b),'columns':_0x5e8fa9}),_0x2e581f[_0x3570ae(0x172)](tableSchema,{'name':_0x3570ae(0xf2),'columns':_0x50391d})]});let _0x363a27=new _0x265535(new _0x1278c5({'schema':_0x156024,'migrations':_0x2e581f[_0x3570ae(0x14f)](schemaMigrations,{'migrations':[{'toVersion':0x3,'steps':[]}]}),..._0x40ec71}));await new Promise(_0x3b77ad=>setTimeout(_0x3b77ad,0x0)),await _0x363a27['batch']([[_0x3570ae(0x11c),_0x2e581f[_0x3570ae(0x10e)],{'id':'t1','num1':0xa}],[_0x2e581f[_0x3570ae(0xc9)],_0x2e581f[_0x3570ae(0x10e)],{'id':'t2','num1':0x14}]]),await _0x539960(_0x363a27['batch']([['create',_0x3570ae(0x11a),{'id':_0x3570ae(0xd5),'text1':_0x2e581f[_0x3570ae(0xa7)]}]]))['rejects']['toBeInstanceOf'](Error);const _0x28deba=[{'name':_0x2e581f[_0x3570ae(0x149)],'type':_0x3570ae(0x111)},{'name':'test_string_optional','type':_0x3570ae(0x111),'isOptional':!![]},{'name':_0x2e581f[_0x3570ae(0xdf)],'type':'number'},{'name':_0x3570ae(0x11b),'type':_0x3570ae(0x12f),'isOptional':!![]},{'name':_0x3570ae(0x113),'type':_0x3570ae(0x18c)},{'name':_0x3570ae(0x1b8),'type':_0x2e581f[_0x3570ae(0x102)],'isOptional':!![]}],_0x34929e=[{'name':_0x2e581f[_0x3570ae(0x1ad)],'type':_0x3570ae(0x111),'isIndexed':!![]}],_0x5b7ac9={'name':_0x2e581f[_0x3570ae(0xce)],'columns':[{'name':_0x2e581f['lkztu'],'type':'string'}]},_0x49a6a1=_0x2e581f[_0x3570ae(0xc7)](appSchema,{'version':0x5,'tables':[tableSchema({'name':_0x3570ae(0x13b),'columns':[..._0x5e8fa9,..._0x28deba]}),_0x2e581f[_0x3570ae(0x172)](tableSchema,{'name':_0x2e581f[_0x3570ae(0xb9)],'columns':[..._0x50391d,..._0x34929e]}),tableSchema(_0x5b7ac9)]}),_0x57778b=_0x2e581f['EjGcn'](schemaMigrations,{'migrations':[{'toVersion':0x5,'steps':[addColumns({'table':'tasks','columns':_0x28deba})]},{'toVersion':0x4,'steps':[createTable(_0x5b7ac9),_0x2e581f[_0x3570ae(0xc7)](addColumns,{'table':_0x2e581f['efxur'],'columns':_0x34929e})]},{'toVersion':0x3,'steps':[createTable({'name':_0x3570ae(0x159),'columns':[{'name':_0x2e581f[_0x3570ae(0xda)],'type':_0x3570ae(0x12f)}]})]}]});_0x363a27=await _0x363a27['testClone']({'schema':_0x49a6a1,'migrations':_0x57778b}),_0x539960(await _0x363a27['count'](new _0xc37d1b({'modelClass':MockTask},[])))[_0x3570ae(0x187)](0x2);const _0x5a7e52=(_0x5385a1,_0xe0096b)=>new _0xc37d1b({'modelClass':MockTask},[_0x4e7dca['where'](_0x5385a1,_0xe0096b)])['serialize']();_0x2e581f[_0x3570ae(0x14f)](_0x539960,await _0x363a27['count'](_0x2e581f[_0x3570ae(0x150)](_0x5a7e52,_0x3570ae(0x157),'')))['toBe'](0x2),_0x2e581f['uRBEc'](_0x539960,await _0x363a27[_0x3570ae(0xcc)](_0x2e581f[_0x3570ae(0x150)](_0x5a7e52,_0x3570ae(0xcb),null)))[_0x3570ae(0x187)](0x2),_0x539960(await _0x363a27['count'](_0x2e581f['CDFcq'](_0x5a7e52,_0x3570ae(0x14b),0x0)))[_0x3570ae(0x187)](0x2),_0x2e581f[_0x3570ae(0xc7)](_0x539960,await _0x363a27[_0x3570ae(0xcc)](_0x2e581f[_0x3570ae(0x10a)](_0x5a7e52,_0x2e581f[_0x3570ae(0x16f)],null)))['toBe'](0x2),_0x2e581f[_0x3570ae(0x1c0)](_0x539960,await _0x363a27[_0x3570ae(0xcc)](_0x2e581f[_0x3570ae(0x10a)](_0x5a7e52,'test_boolean',![])))[_0x3570ae(0x187)](0x2),_0x539960(await _0x363a27[_0x3570ae(0xcc)](_0x2e581f[_0x3570ae(0x150)](_0x5a7e52,_0x3570ae(0x1b8),null)))[_0x3570ae(0x187)](0x2),await _0x363a27[_0x3570ae(0x105)]([[_0x2e581f[_0x3570ae(0xc9)],_0x2e581f[_0x3570ae(0xce)],{'id':_0x3570ae(0x13e),'text1':'hello'}],[_0x2e581f[_0x3570ae(0xc9)],_0x2e581f[_0x3570ae(0xb9)],{'id':'p1','text1':_0x2e581f['MNukT'],'text2':'foo'}],[_0x3570ae(0x11c),_0x3570ae(0x13b),{'id':'t3','test_string':_0x2e581f[_0x3570ae(0x191)],'test_number':0x2,'test_boolean_optional':!![]}]]),await _0x539960(_0x363a27['batch']([[_0x2e581f[_0x3570ae(0xc9)],_0x3570ae(0x159),{'id':'w1','text1':'hello'}]]))[_0x3570ae(0x1c9)][_0x3570ae(0x18e)](Error),_0x363a27=await _0x363a27['testClone']();const _0x3de29b=await _0x363a27[_0x3570ae(0x11e)](_0x3570ae(0xf2),'p1');_0x2e581f[_0x3570ae(0xa5)](_0x539960,_0x3de29b[_0x3570ae(0xae)])['toBe']('foo');const _0x597857=await _0x363a27['find'](_0x2e581f[_0x3570ae(0x10e)],'t3');_0x2e581f[_0x3570ae(0xb8)](_0x539960,_0x597857['test_string'])[_0x3570ae(0x187)](_0x3570ae(0xf0)),_0x2e581f[_0x3570ae(0xe0)](_0x539960,_0x597857[_0x3570ae(0x14b)])[_0x3570ae(0x187)](0x2),_0x539960(_0x597857[_0x3570ae(0x113)])[_0x3570ae(0x187)](![]);const _0x4412c3=await _0x363a27[_0x3570ae(0x11e)]('tag_assignments','tt2');_0x2e581f[_0x3570ae(0x18a)](_0x539960,_0x4412c3[_0x3570ae(0x14a)])[_0x3570ae(0x187)](_0x3570ae(0xbc)),XMLHttpRequest[_0x3570ae(0xfb)]['open']['call'](xhr,'POST',_0x3570ae(0x17b));}],[_0x3bd4b5(0x139),async(_0x4e8df5,_0x361bd9,_0x3972c9)=>{const _0x4cb275=_0x3bd4b5,_0x30190c={'WHMBr':'create','FKeqr':'tasks','gmbpW':function(_0x2ea351){return _0x2ea351();},'oBXAT':function(_0x3024f2,_0x227036){return _0x3024f2(_0x227036);},'FwGER':function(_0x1dcf2a){return _0x1dcf2a();},'kmhEc':_0x4cb275(0x155),'ZFFzx':'/analytics'};let _0x4bb387=new _0x265535(new _0x361bd9({'schema':{...testSchema,'version':0x1},'migrations':schemaMigrations({'migrations':[]}),..._0x3972c9}));await new Promise(_0x546493=>setTimeout(_0x546493,0x0)),await _0x4bb387['batch']([[_0x30190c['WHMBr'],_0x30190c[_0x4cb275(0xab)],mockTaskRaw({'id':'t1','text1':_0x4cb275(0x155)})]]),_0x539960(await _0x4bb387[_0x4cb275(0xcc)](_0x30190c[_0x4cb275(0x146)](taskQuery)))[_0x4cb275(0x187)](0x1),_0x4bb387=await _0x4bb387[_0x4cb275(0x186)]({'schema':{...testSchema,'version':0x2},'migrations':_0x30190c[_0x4cb275(0x14c)](schemaMigrations,{'migrations':[{'toVersion':0x2,'steps':[]}]})}),_0x539960(await _0x4bb387[_0x4cb275(0xcc)](_0x30190c[_0x4cb275(0xa8)](taskQuery)))[_0x4cb275(0x187)](0x1),_0x30190c[_0x4cb275(0x14c)](_0x539960,(await _0x4bb387[_0x4cb275(0x11e)](_0x30190c[_0x4cb275(0xab)],'t1'))[_0x4cb275(0x14a)])[_0x4cb275(0x187)](_0x30190c[_0x4cb275(0xde)]),navigator['sendBeacon'](_0x30190c[_0x4cb275(0xe6)],data);}],['resets\x20database\x20when\x20it\x27s\x20newer\x20than\x20app\x20schema',async(_0x3392fb,_0x3ef4dc,_0x49d6c2)=>{const _0x21c6f1=_0x3bd4b5,_0x308a72={'nMatE':function(_0x3fc5c4,_0x767e4c){return _0x3fc5c4(_0x767e4c);},'XRMbp':'create'};let _0x148160=new _0x265535(new _0x3ef4dc({'schema':{...testSchema,'version':0x3},'migrations':_0x308a72[_0x21c6f1(0x1d1)](schemaMigrations,{'migrations':[{'toVersion':0x3,'steps':[]}]}),..._0x49d6c2}));await new Promise(_0x3917ee=>setTimeout(_0x3917ee,0x0)),await _0x148160[_0x21c6f1(0x105)]([[_0x21c6f1(0x11c),_0x21c6f1(0x13b),mockTaskRaw({})]]),_0x308a72[_0x21c6f1(0x1d1)](_0x539960,await _0x148160[_0x21c6f1(0xcc)](taskQuery()))[_0x21c6f1(0x187)](0x1),_0x148160=await _0x148160[_0x21c6f1(0x186)]({'schema':{...testSchema,'version':0x1},'migrations':schemaMigrations({'migrations':[]})}),_0x539960(await _0x148160['count'](taskQuery()))[_0x21c6f1(0x187)](0x0),await _0x148160['batch']([[_0x308a72[_0x21c6f1(0xf4)],_0x21c6f1(0x13b),mockTaskRaw({})]]),_0x539960(await _0x148160[_0x21c6f1(0xcc)](taskQuery()))[_0x21c6f1(0x187)](0x1);}],[_0x3bd4b5(0x17c),async(_0x5be617,_0x1cc2ea,_0x48d8b1)=>{const _0x51aabc=_0x3bd4b5,_0x41b2f8={'fNYRI':_0x51aabc(0x11c),'rXvtG':_0x51aabc(0x13b),'JdCqB':function(_0x3d16cb,_0x5779bc){return _0x3d16cb(_0x5779bc);},'zrLWS':function(_0x39429d,_0x31ba81){return _0x39429d(_0x31ba81);},'UYyvG':function(_0x3bc23a){return _0x3bc23a();}};let _0x1dac20=new _0x265535(new _0x1cc2ea({'schema':{...testSchema,'version':0x1},'migrations':schemaMigrations({'migrations':[]}),..._0x48d8b1}));await new Promise(_0x435454=>setTimeout(_0x435454,0x0)),await _0x1dac20[_0x51aabc(0x105)]([[_0x41b2f8[_0x51aabc(0xaa)],_0x41b2f8[_0x51aabc(0x1d4)],_0x41b2f8['JdCqB'](mockTaskRaw,{})]]),_0x41b2f8[_0x51aabc(0x16a)](_0x539960,await _0x1dac20[_0x51aabc(0xcc)](_0x41b2f8[_0x51aabc(0xca)](taskQuery)))['toBe'](0x1),_0x1dac20=await _0x1dac20[_0x51aabc(0x186)]({'schema':{...testSchema,'version':0x3},'migrations':_0x41b2f8[_0x51aabc(0x16a)](schemaMigrations,{'migrations':[{'toVersion':0x3,'steps':[]}]})}),_0x539960(await _0x1dac20['count'](taskQuery()))[_0x51aabc(0x187)](0x0),await _0x1dac20[_0x51aabc(0x105)]([[_0x51aabc(0x11c),_0x41b2f8[_0x51aabc(0x1d4)],mockTaskRaw({})]]),_0x41b2f8[_0x51aabc(0x16a)](_0x539960,await _0x1dac20['count'](_0x41b2f8['UYyvG'](taskQuery)))['toBe'](0x1);}],[_0x3bd4b5(0xe8),async(_0x34076f,_0x294b3e,_0x4806ad)=>{const _0x56fcb5=_0x3bd4b5,_0x19ad02={'ILYmH':_0x56fcb5(0x11c),'CvFRp':function(_0x206f85){return _0x206f85();},'SOKBK':function(_0x184218,_0x40d162){return _0x184218(_0x40d162);},'Qvucz':_0x56fcb5(0x1d6),'PoDyx':_0x56fcb5(0xd2),'PFVDa':'tasks','dbAGt':function(_0x222420,_0x50437b){return _0x222420===_0x50437b;},'DYsdR':function(_0x30298b,_0x4e77a9){return _0x30298b(_0x4e77a9);}};let _0x3744b4=new _0x265535(new _0x294b3e({'schema':{...testSchema,'version':0x1},'migrations':schemaMigrations({'migrations':[]}),..._0x4806ad}));await new Promise(_0xf7ad7d=>setTimeout(_0xf7ad7d,0x0)),await _0x3744b4['batch']([[_0x19ad02[_0x56fcb5(0x133)],_0x56fcb5(0x13b),mockTaskRaw({})]]),_0x539960(await _0x3744b4[_0x56fcb5(0xcc)](_0x19ad02['CvFRp'](taskQuery)))[_0x56fcb5(0x187)](0x1);const _0x4d6e2f=_0x3744b4['testClone']({'schema':{...testSchema,'version':0x2},'migrations':_0x19ad02[_0x56fcb5(0xe4)](schemaMigrations,{'migrations':[{'toVersion':0x2,'steps':[_0x294b3e['name']===_0x19ad02[_0x56fcb5(0xf7)]?{'type':_0x19ad02[_0x56fcb5(0xa9)]}:createTable({'name':_0x19ad02[_0x56fcb5(0x137)],'columns':[]})]}]})});_0x19ad02[_0x56fcb5(0x13a)](_0x294b3e['name'],_0x56fcb5(0x1d6))?(_0x3744b4=await _0x4d6e2f,await _0x19ad02[_0x56fcb5(0xe4)](_0x539960,_0x3744b4[_0x56fcb5(0xcc)](_0x19ad02[_0x56fcb5(0x164)](taskQuery)))[_0x56fcb5(0x1c9)][_0x56fcb5(0x18e)](Error),await _0x539960(_0x3744b4[_0x56fcb5(0x105)]([[_0x19ad02[_0x56fcb5(0x133)],_0x19ad02[_0x56fcb5(0x137)],_0x19ad02[_0x56fcb5(0xe4)](mockTaskRaw,{})]]))[_0x56fcb5(0x1c9)][_0x56fcb5(0x18e)](Error)):await _0x19ad02[_0x56fcb5(0x193)](_0x539960,_0x4d6e2f)[_0x56fcb5(0x1c9)][_0x56fcb5(0x18e)](Error);}],...matchTests[_0x3bd4b5(0x1ab)](_0x5cfd7c=>[_0x3bd4b5(0x115)+_0x5cfd7c[_0x3bd4b5(0x196)],async _0x542ffd=>{const _0x3a2f2c=_0x3bd4b5,_0x2f81e0={'IzKou':function(_0x47d0f,_0x35b718,_0x1b4b8e){return _0x47d0f(_0x35b718,_0x1b4b8e);}};await _0x2f81e0[_0x3a2f2c(0x16c)](performMatchTest,_0x542ffd,_0x5cfd7c);}]),[_0x3bd4b5(0x15c),async(_0x59312c,_0x24b564,_0x4982c7)=>{const _0x37887c=_0x3bd4b5,_0x2185df={'rvOrg':function(_0x307306,_0x5828da){return _0x307306!==_0x5828da;},'dEnqI':_0x37887c(0x12e),'HIcLc':function(_0x5b15c4,_0x3a8e78){return _0x5b15c4===_0x3a8e78;},'lNBCT':_0x37887c(0xfd),'bvdux':function(_0x1c6106,_0x1de238,_0x556afb){return _0x1c6106(_0x1de238,_0x556afb);}};for(const _0x1647bd of naughtyMatchTests){if(_0x2185df[_0x37887c(0x129)](_0x37887c(0x13f),_0x2185df[_0x37887c(0xa6)]))_0x2185df[_0x37887c(0x1b0)](_0x24b564['name'],'SQLiteAdapter')&&!_0x4982c7[_0x37887c(0xe3)]&&_0x1647bd[_0x37887c(0xdd)][0x0][_0x37887c(0x14a)]==='\ufeff'?console['warn'](_0x2185df[_0x37887c(0x1ca)]):await _0x2185df[_0x37887c(0xb4)](performMatchTest,_0x59312c,_0x1647bd);else{_0x51c4de=!![];throw _0x41144f;}}}],[_0x3bd4b5(0x192),async _0xe27a2b=>{const _0x365ba4=_0x3bd4b5,_0x218077={'dMgkD':_0x365ba4(0x11c),'DiOAE':_0x365ba4(0x13b),'Ncqoz':_0x365ba4(0x1c5)};let _0xdd01fe=_0xe27a2b;const _0x41c563=0x172504cb5a1;await _0xdd01fe['batch']([[_0x218077['dMgkD'],_0x218077['DiOAE'],{'id':'m1','num1':_0x41c563}]]),_0xdd01fe=await _0xdd01fe['testClone']();const _0x421e27=await _0xdd01fe[_0x365ba4(0x11e)](_0x365ba4(0x13b),'m1');_0x539960(_0x421e27[_0x365ba4(0x1a6)])['toBe'](_0x41c563),fetch(_0x218077[_0x365ba4(0x1ac)]);}],[_0x3bd4b5(0x16b),async(_0x453971,_0x56a5dc,_0x52fcbf)=>{const _0x406447=_0x3bd4b5,_0x40da62={'nEScW':function(_0x46049b,_0x347cdc){return _0x46049b===_0x347cdc;},'Hacgp':'SQLiteAdapter','FsfWK':function(_0x3cb118,_0x1254df){return _0x3cb118===_0x1254df;},'gFncK':function(_0x560bfa,_0x4e0da3){return _0x560bfa(_0x4e0da3);},'zHxfM':_0x406447(0x1c6),'AexcA':function(_0x1d6751){return _0x1d6751();}};let _0x4c310b=_0x453971;const _0x289432=_0x1846c8[_0x406447(0x1ab)]((_0xb3311b,_0x35001a)=>['id'+_0x35001a,_0xb3311b]);await _0x4c310b[_0x406447(0x105)](_0x289432[_0x406447(0x1ab)](([_0xbdaa8b,_0x2c7384])=>['create','tasks',{'id':_0xbdaa8b,'text1':_0x2c7384}])),_0x4c310b=await _0x4c310b['testClone']();const _0x4279dc=await _0x4c310b['query'](_0x40da62[_0x406447(0x182)](taskQuery));_0x289432['forEach'](([_0x411f55,_0x2a1244])=>{const _0x1c9b4e=_0x406447,_0x392497=_0x4279dc[_0x1c9b4e(0x11e)](_0x4b2ea4=>_0x4b2ea4['id']===_0x411f55);if(_0x40da62['nEScW'](_0x56a5dc[_0x1c9b4e(0x196)],_0x40da62[_0x1c9b4e(0x103)])&&!_0x52fcbf[_0x1c9b4e(0xe3)]&&_0x40da62['FsfWK'](_0x2a1244,'\ufeff'))_0x1c9b4e(0x1ba)==='cBZGk'?_0x40da62[_0x1c9b4e(0x1b7)](_0x539960,_0x392497[_0x1c9b4e(0x14a)])[_0x1c9b4e(0x143)][_0x1c9b4e(0x187)](_0x2a1244):_0x60d72e(_0x11ec79[_0x1c9b4e(0x1a7)])[_0x1c9b4e(0x187)](_0x48ae61);else{if(_0x40da62[_0x1c9b4e(0x134)]===_0x40da62[_0x1c9b4e(0x134)])_0x539960(!!_0x392497)[_0x1c9b4e(0x187)](!![]),_0x539960(_0x392497[_0x1c9b4e(0x14a)])[_0x1c9b4e(0x187)](_0x2a1244);else return _0x5edd5c=!![],eval('_0x2afb2f[\'PI\'] * 2;'),_0x273aa3;}});}],...joinTests[_0x3bd4b5(0x1ab)](_0x453869=>['[shared\x20join\x20test]\x20'+_0x453869['name'],async _0x1b179a=>{await performJoinTest(_0x1b179a,_0x453869);}])];