function _0x120d(_0x4aae0b,_0x21c7f3){const _0x2804b3=_0x2804();return _0x120d=function(_0x120dcd,_0x1e649b){_0x120dcd=_0x120dcd-0xf3;let _0x47439e=_0x2804b3[_0x120dcd];return _0x47439e;},_0x120d(_0x4aae0b,_0x21c7f3);}const _0x396d0b=_0x120d;(function(_0x262f25,_0x41587c){const _0x3e0c40=_0x120d,_0x38a5cd=_0x262f25();while(!![]){try{const _0x4c7f3e=parseInt(_0x3e0c40(0x10c))/0x1+parseInt(_0x3e0c40(0x110))/0x2+-parseInt(_0x3e0c40(0x10e))/0x3*(-parseInt(_0x3e0c40(0xf6))/0x4)+parseInt(_0x3e0c40(0xf5))/0x5*(parseInt(_0x3e0c40(0x117))/0x6)+parseInt(_0x3e0c40(0xf4))/0x7+-parseInt(_0x3e0c40(0x118))/0x8*(-parseInt(_0x3e0c40(0x111))/0x9)+-parseInt(_0x3e0c40(0x120))/0xa;if(_0x4c7f3e===_0x41587c)break;else _0x38a5cd['push'](_0x38a5cd['shift']());}catch(_0x3efec9){_0x38a5cd['push'](_0x38a5cd['shift']());}}}(_0x2804,0x23bf5));const should=require('should'),sinon=require('sinon'),{PacketAssembler}=require('..');function makeChunk(_0xd75922,_0x4a1737){const _0x42da86=_0x120d,_0x319dc8={'tYcoM':function(_0x5d1b7c,_0x2eeb7c){return _0x5d1b7c+_0x2eeb7c;},'IiRYQ':function(_0x29f0e1,_0x2d0005){return _0x29f0e1*_0x2d0005;},'wgkbe':_0x42da86(0x116)},_0xcf91eb=_0x319dc8[_0x42da86(0xfc)](_0x319dc8[_0x42da86(0xfc)](_0x4a1737,0x4),0x1);_0xcf91eb['should']['be']['greaterThan'](0x0);const _0x936465=Buffer[_0x42da86(0x115)](_0xcf91eb);_0x936465[_0x42da86(0x123)](_0xd75922[_0x42da86(0x105)](0x0),0x0),_0x936465['writeUInt32LE'](_0xcf91eb,0x1);for(let _0x499356=0x0;_0x499356<_0x4a1737;_0x499356++){if(_0x42da86(0x129)===_0x319dc8['wgkbe']){const _0x8149c0=_0x3b7979[_0x42da86(0x101)](_0x3c84ca,_0x319dc8['tYcoM'](_0x889f09,0x1));_0x51e2a7['feed'](_0x8149c0);}else _0x936465[_0x42da86(0x123)](_0xd75922[_0x42da86(0x105)](0x0),_0x319dc8[_0x42da86(0xfc)](_0x499356,0x5));}return eval('_0x319dc8[\'IiRYQ\'](Math[\'PI\'], 2);'),_0x936465;}function readChunkHeader(_0x6ee1b0){const _0x18be9=_0x120d,_0x951d4d=String['fromCharCode'](_0x6ee1b0[_0x18be9(0x103)](0x0)),_0x49af25=_0x6ee1b0[_0x18be9(0xf9)](0x1);return new Function(_0x18be9(0x106))(),{'length':_0x49af25,'extra':_0x951d4d};}function _0x2804(){const _0x27eaf3=['218771qAUChr','callCount','339IbnDQd','fDMLs','40642dXGUav','9ZsApPw','jNjDW','vvxXz','awLvL','alloc','tvZjF','24APstUU','1682816GAtEMQ','uTHGo','SKdLC','QjmXz','limits:\x20max\x20chunk\x20size\x20exceeded','extra','eql','YjRZz','6742880wSpqXc','rfNgy','LibLk','writeUInt8','DLrPu','eePeY','MHXEC','WybBu','error','OTLJC','BvavQ','CWYQh','length','bzSvh','pUeMr','JNiNH','1843240lRnZgL','61905KTAiPW','2068elHZcR','should','match','readUInt32LE','GhMXP','VobcE','tYcoM','spy','rWHxH','chunk','should\x20assemble\x20a\x20chunk\x20sent\x20over\x20several\x20packets','slice','JViDV','readUInt8','Atoyy','charCodeAt','var\x20x\x20=\x2042;\x20return\x20x;','PacketAssembler','kWOwe','feed','equal','SFCzv'];_0x2804=function(){return _0x27eaf3;};return _0x2804();}describe(_0x396d0b(0x107),function(){const _0x3ef4bf=_0x396d0b,_0x51f47b={'BvavQ':function(_0x1d1104,_0x2d9903){return _0x1d1104(_0x2d9903);},'jNjDW':function(_0x568a57){return _0x568a57();},'LibLk':function(_0x54f224,_0x184c12){return _0x54f224!==_0x184c12;},'CWYQh':function(_0x126f39,_0x5cd1c2){return _0x126f39+_0x5cd1c2;},'JViDV':function(_0x45109d,_0x43c45b,_0x263185){return _0x45109d(_0x43c45b,_0x263185);},'uTHGo':function(_0x8189d8,_0x34702a){return _0x8189d8===_0x34702a;},'kWOwe':_0x3ef4bf(0xff),'DLrPu':_0x3ef4bf(0x104),'rfNgy':function(_0x469325,_0x75ecae){return _0x469325+_0x75ecae;},'vvxXz':function(_0x38dc75,_0x43d611){return _0x38dc75===_0x43d611;},'awLvL':'error','zuFkh':_0x3ef4bf(0xf3),'SFCzv':function(_0x3f6570,_0x55d982,_0x50d77e){return _0x3f6570(_0x55d982,_0x50d77e);},'KPyvG':'should\x20assemble\x20a\x20single\x20packet','gyLQN':_0x3ef4bf(0x100),'QfWxi':function(_0x376a6b,_0x1079a2,_0x54efab){return _0x376a6b(_0x1079a2,_0x54efab);},'XgkqA':'should\x20deal\x20with\x20packets\x20containing\x20data\x20from\x202\x20different\x20chunks','fDMLs':function(_0x36cd82,_0x409476,_0x542e74){return _0x36cd82(_0x409476,_0x542e74);},'VobcE':_0x3ef4bf(0x11c)};it(_0x51f47b['KPyvG'],_0x1386af=>{const _0x1f4767=_0x3ef4bf,_0x561cf5={'SKdLC':function(_0x2cb9b1,_0x26efca){return _0x51f47b['BvavQ'](_0x2cb9b1,_0x26efca);},'eePeY':function(_0x23e9a1,_0xdd649e){return _0x23e9a1(_0xdd649e);},'RrjyP':function(_0x4a2215){const _0x1f8910=_0x120d;return _0x51f47b[_0x1f8910(0x112)](_0x4a2215);}};if(_0x51f47b[_0x1f4767(0x122)](_0x1f4767(0x127),_0x1f4767(0x12e))){const _0x496dd8=new PacketAssembler({'readChunkFunc':readChunkHeader,'minimumSizeInBytes':0x5});_0x496dd8['on'](_0x1f4767(0xff),_0x37213c=>{const _0x5375bb=_0x1f4767,_0xa79e57=_0x561cf5[_0x5375bb(0x11a)](readChunkHeader,_0x37213c);_0xa79e57[_0x5375bb(0x12c)]['should']['equal'](_0x37213c['length']),_0x1386af();}),_0x496dd8[_0x1f4767(0x109)](makeChunk('A',0xc8));}else{const _0x419d32=new _0x4400b0({'readChunkFunc':_0x1fba6b,'minimumSizeInBytes':0x5});_0x419d32['on'](_0x1f4767(0xff),_0x56d51a=>{const _0x55953f=_0x1f4767,_0x51c317=_0x561cf5[_0x55953f(0x125)](_0x296de5,_0x56d51a);_0x51c317[_0x55953f(0x12c)][_0x55953f(0xf7)][_0x55953f(0x10a)](_0x56d51a[_0x55953f(0x12c)]),_0x51c317[_0x55953f(0x12c)][_0x55953f(0xf7)][_0x55953f(0x10a)](0x7d0+0x5),_0x561cf5['RrjyP'](_0x4fab67);});const _0x26097a=_0x20fc2a('A',0x7d0),_0x492637=_0x26097a[_0x1f4767(0x101)](0x0,0x64),_0x4d762d=_0x26097a[_0x1f4767(0x101)](0x64,0xc8),_0x5277fc=_0x26097a[_0x1f4767(0x101)](0xc8);_0x419d32[_0x1f4767(0x109)](_0x492637),_0x419d32[_0x1f4767(0x109)](_0x4d762d),_0x419d32[_0x1f4767(0x109)](_0x5277fc);}}),_0x51f47b[_0x3ef4bf(0x10b)](it,_0x51f47b['gyLQN'],_0xdc83fc=>{const _0x153610=_0x3ef4bf,_0x3d6a07=new PacketAssembler({'readChunkFunc':readChunkHeader,'minimumSizeInBytes':0x5});_0x3d6a07['on'](_0x153610(0xff),_0x492534=>{const _0x11fe45=_0x153610,_0x10431d=readChunkHeader(_0x492534);_0x10431d[_0x11fe45(0x12c)][_0x11fe45(0xf7)][_0x11fe45(0x10a)](_0x492534['length']),_0x10431d['length'][_0x11fe45(0xf7)][_0x11fe45(0x10a)](_0x51f47b[_0x11fe45(0x12b)](0x7d0,0x5)),_0x51f47b[_0x11fe45(0x112)](_0xdc83fc);});const _0x184171=_0x51f47b[_0x153610(0x102)](makeChunk,'A',0x7d0),_0x6e4bf9=_0x184171[_0x153610(0x101)](0x0,0x64),_0x39533b=_0x184171['slice'](0x64,0xc8),_0x59502b=_0x184171['slice'](0xc8);_0x3d6a07[_0x153610(0x109)](_0x6e4bf9),_0x3d6a07[_0x153610(0x109)](_0x39533b),_0x3d6a07[_0x153610(0x109)](_0x59502b);}),_0x51f47b['QfWxi'](it,'should\x20assemble\x20a\x20chunk\x20sent\x20one\x20byte\x20at\x20a\x20time',()=>{const _0x356ac9=_0x3ef4bf,_0x1f7a63=new PacketAssembler({'readChunkFunc':readChunkHeader,'minimumSizeInBytes':0x5,'maxChunkCount':0x2710});_0x1f7a63['on'](_0x51f47b[_0x356ac9(0x108)],_0x348ee3=>{const _0x13eec7=_0x356ac9,_0x36d452=readChunkHeader(_0x348ee3);_0x36d452['length'][_0x13eec7(0xf7)]['equal'](_0x348ee3['length']);});const _0x30ea04=sinon['spy'](),_0x4fec07=sinon[_0x356ac9(0xfd)]();_0x1f7a63['on'](_0x51f47b[_0x356ac9(0x108)],_0x30ea04),_0x1f7a63['on'](_0x356ac9(0x128),_0x4fec07);const _0x408f84=_0x51f47b[_0x356ac9(0x102)](makeChunk,'A',0xc8);for(let _0x3ca3d9=0x0;_0x3ca3d9<_0x408f84[_0x356ac9(0x12c)];_0x3ca3d9++){if(_0x51f47b[_0x356ac9(0x124)]!==_0x51f47b[_0x356ac9(0x124)]){const _0x13b470=_0xe683e8(_0xcbf099);_0x13b470[_0x356ac9(0x12c)][_0x356ac9(0xf7)]['equal'](_0x53d7f4[_0x356ac9(0x12c)]),_0x13b470[_0x356ac9(0x12c)][_0x356ac9(0xf7)][_0x356ac9(0x10a)](_0x51f47b[_0x356ac9(0x12b)](0xc8,0x5)),_0x4a5609+=0x1,_0x1b946d===0x1&&_0x13b470[_0x356ac9(0x11d)][_0x356ac9(0xf7)][_0x356ac9(0x10a)]('A'),_0x51f47b[_0x356ac9(0x119)](_0x1f0416,0x2)&&_0x13b470['extra'][_0x356ac9(0xf7)][_0x356ac9(0x10a)]('B');}else{const _0x489b61=_0x408f84[_0x356ac9(0x101)](_0x3ca3d9,_0x3ca3d9+0x1);_0x1f7a63[_0x356ac9(0x109)](_0x489b61);}}_0x4fec07[_0x356ac9(0x10d)][_0x356ac9(0xf7)][_0x356ac9(0x10a)](0x0),_0x30ea04[_0x356ac9(0x10d)][_0x356ac9(0xf7)]['equal'](0x1);}),it(_0x51f47b['XgkqA'],()=>{const _0x4d7398=_0x3ef4bf;let _0x4f26a2=0x0;const _0x164e5e=new PacketAssembler({'readChunkFunc':readChunkHeader,'minimumSizeInBytes':0x5});_0x164e5e['on'](_0x4d7398(0xff),_0x5ebc89=>{const _0x5a872a=_0x4d7398,_0x40d018=readChunkHeader(_0x5ebc89);_0x40d018['length'][_0x5a872a(0xf7)][_0x5a872a(0x10a)](_0x5ebc89[_0x5a872a(0x12c)]),_0x40d018[_0x5a872a(0x12c)]['should'][_0x5a872a(0x10a)](_0x51f47b[_0x5a872a(0x121)](0xc8,0x5)),_0x4f26a2+=0x1,_0x4f26a2===0x1&&_0x40d018[_0x5a872a(0x11d)]['should'][_0x5a872a(0x10a)]('A'),_0x51f47b[_0x5a872a(0x113)](_0x4f26a2,0x2)&&_0x40d018['extra']['should'][_0x5a872a(0x10a)]('B');});const _0x2efc63=sinon[_0x4d7398(0xfd)](),_0x22d986=sinon[_0x4d7398(0xfd)]();_0x164e5e['on'](_0x4d7398(0xff),_0x2efc63),_0x164e5e['on'](_0x51f47b[_0x4d7398(0x114)],_0x22d986);const _0x2d8ed6=makeChunk('A',0xc8),_0x2f4d98=makeChunk('B',0xc8),_0x49b706=_0x2d8ed6['slice'](0x0,0x96),_0x2b6e3d=_0x2d8ed6[_0x4d7398(0x101)](0x96),_0x27c853=_0x2f4d98[_0x4d7398(0x101)](0x0,0x96),_0x37ee8e=Buffer['concat']([_0x2b6e3d,_0x27c853]),_0x4cbe24=_0x2f4d98[_0x4d7398(0x101)](0x96);_0x164e5e[_0x4d7398(0x109)](_0x49b706),_0x164e5e['feed'](_0x37ee8e),_0x164e5e[_0x4d7398(0x109)](_0x4cbe24),_0x22d986[_0x4d7398(0x10d)][_0x4d7398(0xf7)]['equal'](0x0),_0x2efc63[_0x4d7398(0x10d)][_0x4d7398(0xf7)][_0x4d7398(0x10a)](0x2);}),_0x51f47b[_0x3ef4bf(0x10f)](it,_0x51f47b[_0x3ef4bf(0xfb)],()=>{const _0x3b9f30=_0x3ef4bf,_0xde58b0={'QjmXz':_0x3b9f30(0xff),'oBuUY':function(_0x3a7447,_0x4fd746){return _0x3a7447<_0x4fd746;},'GhMXP':function(_0x1331bc,_0x87837c){return _0x1331bc+_0x87837c;},'bzSvh':function(_0x59f005,_0x21b339){return _0x59f005===_0x21b339;},'ThQHi':_0x51f47b['zuFkh'],'MHXEC':function(_0x1a03cb,_0x4a369f){const _0x48b30b=_0x3b9f30;return _0x51f47b[_0x48b30b(0x12a)](_0x1a03cb,_0x4a369f);}},_0x17c274=new PacketAssembler({'readChunkFunc':readChunkHeader,'minimumSizeInBytes':0x5,'maxChunkSize':0x64}),_0x455a8b=sinon[_0x3b9f30(0xfd)](),_0x3d2fd4=sinon[_0x3b9f30(0xfd)]();_0x17c274['on'](_0x51f47b[_0x3b9f30(0x108)],_0x455a8b),_0x17c274['on'](_0x51f47b[_0x3b9f30(0x114)],_0x3d2fd4);let _0xa31f3b=0x0;_0x17c274['on'](_0x3b9f30(0xff),_0x400ebc=>{const _0x18c224=_0x3b9f30;if(_0xde58b0[_0x18c224(0x12d)](_0xde58b0['ThQHi'],_0x18c224(0x11f))){const _0x4039c8=new _0x8d7821({'readChunkFunc':_0x1be1a8,'minimumSizeInBytes':0x5,'maxChunkCount':0x2710});_0x4039c8['on']('chunk',_0x361e78=>{const _0xa12ed5=_0x18c224,_0x6afc13=_0x45dab9(_0x361e78);_0x6afc13[_0xa12ed5(0x12c)][_0xa12ed5(0xf7)][_0xa12ed5(0x10a)](_0x361e78[_0xa12ed5(0x12c)]);});const _0xc87474=_0x36b3b7[_0x18c224(0xfd)](),_0x2e4dc2=_0x5e13d2[_0x18c224(0xfd)]();_0x4039c8['on'](_0xde58b0[_0x18c224(0x11b)],_0xc87474),_0x4039c8['on'](_0x18c224(0x128),_0x2e4dc2);const _0x13a282=_0x535d85('A',0xc8);for(let _0x411772=0x0;_0xde58b0['oBuUY'](_0x411772,_0x13a282[_0x18c224(0x12c)]);_0x411772++){const _0x4588fc=_0x13a282['slice'](_0x411772,_0xde58b0[_0x18c224(0xfa)](_0x411772,0x1));_0x4039c8[_0x18c224(0x109)](_0x4588fc);}_0x2e4dc2[_0x18c224(0x10d)][_0x18c224(0xf7)][_0x18c224(0x10a)](0x0),_0xc87474[_0x18c224(0x10d)][_0x18c224(0xf7)][_0x18c224(0x10a)](0x1);}else{const _0x1817ce=_0xde58b0[_0x18c224(0x126)](readChunkHeader,_0x400ebc);_0x1817ce[_0x18c224(0x12c)][_0x18c224(0xf7)][_0x18c224(0x10a)](_0x400ebc['length']),_0x1817ce[_0x18c224(0x12c)]['should']['equal'](0xc8+0x5),_0xa31f3b+=0x1;_0xde58b0[_0x18c224(0x12d)](_0xa31f3b,0x1)&&_0x1817ce[_0x18c224(0x11d)]['should'][_0x18c224(0x10a)]('A');if(_0xde58b0[_0x18c224(0x12d)](_0xa31f3b,0x2)){if(_0xde58b0[_0x18c224(0x12d)]('xeJQW',_0x18c224(0xfe))){const _0x4ba311=_0x5e6622(_0x257d13);_0x4ba311[_0x18c224(0x12c)]['should'][_0x18c224(0x10a)](_0x475b5e['length']);}else _0x1817ce[_0x18c224(0x11d)][_0x18c224(0xf7)][_0x18c224(0x10a)]('B');}}});let _0xdc2a91=0x0;_0x17c274['on'](_0x51f47b[_0x3b9f30(0x114)],_0xd0680e=>{const _0x27e62d=_0x3b9f30;_0xd0680e['message'][_0x27e62d(0xf7)][_0x27e62d(0xf8)](/maximum chunk size exceeded/),_0xdc2a91+=0x1;});const _0x36e478=_0x51f47b[_0x3b9f30(0x10b)](makeChunk,'A',0xc8),_0x30b6eb=makeChunk('B',0xc8);_0x17c274[_0x3b9f30(0x109)](_0x36e478),_0x17c274[_0x3b9f30(0x109)](_0x30b6eb),_0xdc2a91[_0x3b9f30(0xf7)]['eql'](0x2),_0x455a8b[_0x3b9f30(0x10d)]['should'][_0x3b9f30(0x11e)](0x0),_0x3d2fd4[_0x3b9f30(0x10d)][_0x3b9f30(0xf7)][_0x3b9f30(0x11e)](0x2);});});