'use strict';function _0x5c25(_0x4322a5,_0x80bccd){const _0x156aec=_0x156a();return _0x5c25=function(_0x5c25cc,_0x4aec24){_0x5c25cc=_0x5c25cc-0x13b;let _0x5619b4=_0x156aec[_0x5c25cc];return _0x5619b4;},_0x5c25(_0x4322a5,_0x80bccd);}const _0x1185fd=_0x5c25;(function(_0x295e32,_0x55b9c7){const _0x388894=_0x5c25,_0x4566b3=_0x295e32();while(!![]){try{const _0x128152=parseInt(_0x388894(0x14e))/0x1*(parseInt(_0x388894(0x154))/0x2)+-parseInt(_0x388894(0x17e))/0x3*(parseInt(_0x388894(0x170))/0x4)+parseInt(_0x388894(0x147))/0x5*(-parseInt(_0x388894(0x164))/0x6)+-parseInt(_0x388894(0x145))/0x7*(-parseInt(_0x388894(0x165))/0x8)+-parseInt(_0x388894(0x177))/0x9+-parseInt(_0x388894(0x159))/0xa*(-parseInt(_0x388894(0x13d))/0xb)+-parseInt(_0x388894(0x163))/0xc*(-parseInt(_0x388894(0x15a))/0xd);if(_0x128152===_0x55b9c7)break;else _0x4566b3['push'](_0x4566b3['shift']());}catch(_0x99e902){_0x4566b3['push'](_0x4566b3['shift']());}}}(_0x156a,0x460c1));const util=require(_0x1185fd(0x149)),should=require(_0x1185fd(0x175)),async=require(_0x1185fd(0x140)),secure_channel=require(_0x1185fd(0x15c)),CloseSecureChannelResponse=secure_channel[_0x1185fd(0x167)],{encode_decode_round_trip_test}=require(_0x1185fd(0x14b)),{compare_buffers}=require('node-opcua-utils'),{clone_buffer}=require(_0x1185fd(0x151)),{hexDump}=require(_0x1185fd(0x14d)),debugLog=require('node-opcua-debug')[_0x1185fd(0x160)](__filename),{MessageBuilder,MessageChunker}=require('..');describe(_0x1185fd(0x13e),function(){const _0xc25fe7=_0x1185fd,_0x3dd30b={'mpFiY':function(_0x48f228,_0xf23895,_0xe53bc8,_0x103420){return _0x48f228(_0xf23895,_0xe53bc8,_0x103420);},'qOKzL':function(_0x29a68f,_0x350d97){return _0x29a68f/_0x350d97;},'knrZb':_0xc25fe7(0x168),'VODcl':_0xc25fe7(0x169),'JorDd':_0xc25fe7(0x153),'zzucr':function(_0x4280e5,_0x11639){return _0x4280e5-_0x11639;},'BeiEV':function(_0x393a39){return _0x393a39();},'mAADF':_0xc25fe7(0x15b),'XisgU':_0xc25fe7(0x13c),'JZvQD':function(_0x8b6941,_0x10d2a5,_0x5693db){return _0x8b6941(_0x10d2a5,_0x5693db);},'RmxOx':function(_0x141092,_0x2ffafd){return _0x141092(_0x2ffafd);},'Zwajh':_0xc25fe7(0x14d),'rkyQW':'should\x20reconstruct\x20a\x20valid\x20message\x20when\x20message\x20is\x20received\x20in\x20multiple\x20chunks','ovZyL':function(_0x543d90,_0xbb4e64,_0x5a5e20){return _0x543d90(_0xbb4e64,_0x5a5e20);},'BMEIT':_0xc25fe7(0x17f)};it(_0x3dd30b[_0xc25fe7(0x180)],function(_0x456920){const _0x1b8d96=_0xc25fe7,_0xc90e0f={'aJugp':function(_0x5ad7bf,_0x41581a){return _0x5ad7bf(_0x41581a);},'jxBHi':_0x3dd30b[_0x1b8d96(0x172)],'zMwMz':_0x1b8d96(0x142),'ziewd':function(_0x57f790,_0x52ccc1){const _0x56c2b7=_0x1b8d96;return _0x3dd30b[_0x56c2b7(0x13f)](_0x57f790,_0x52ccc1);},'LrhmD':function(_0x2cebc1){return _0x3dd30b['BeiEV'](_0x2cebc1);},'BnJzU':function(_0x49dc69,_0x2cdd28){return _0x49dc69+_0x2cdd28;}},_0x1302c4=require(_0x3dd30b[_0x1b8d96(0x187)])[_0x1b8d96(0x158)],_0x26170b=0x1000,_0x4a7900=[];let _0x1a56cd=null;async[_0x1b8d96(0x156)]([function(_0x4626c5){const _0x2bedb0=_0x1b8d96,_0x1bdcad={'RamAD':function(_0xc07c65,_0x5af485){return _0xc07c65(_0x5af485);},'CLomN':function(_0x9364a7,_0x408fcb){const _0x20fe37=_0x5c25;return _0xc90e0f[_0x20fe37(0x152)](_0x9364a7,_0x408fcb);},'FjunV':function(_0x2be0d9,_0x55b27d){return _0x2be0d9===_0x55b27d;},'RuImh':_0xc90e0f[_0x2bedb0(0x161)]},_0x28f2cd={'requestId':_0x26170b,'tokenId':0x1};_0x1302c4[_0x2bedb0(0x185)]['requestHandle']=_0x26170b;const _0x5012c5=new MessageChunker();_0x5012c5[_0x2bedb0(0x16e)](_0x2bedb0(0x150),_0x28f2cd,_0x1302c4,function(_0xf76ef7){const _0x311387=_0x2bedb0;if(_0xf76ef7)_0x4a7900[_0x311387(0x162)](_0x1bdcad[_0x311387(0x141)](clone_buffer,_0xf76ef7));else{if(_0x1bdcad['FjunV'](_0x311387(0x153),_0x1bdcad['RuImh']))_0x1a56cd=_0x1bdcad[_0x311387(0x141)](clone_buffer,_0x5012c5[_0x311387(0x17c)][_0x311387(0x17d)]),_0x4626c5();else{const _0x2d362c=new _0x1fd4ea({});_0x1bdcad[_0x311387(0x155)](_0x28040c,_0x2d362c);}}});},function(_0x3318ce){const _0x29fcb5=_0x1b8d96;_0x4a7900[_0x29fcb5(0x143)][_0x29fcb5(0x175)]['be'][_0x29fcb5(0x15d)](0x0);for(let _0x2eb884=0x0;_0x2eb884<_0x4a7900['length']-0x1;_0x2eb884++){_0x29fcb5(0x173)!==_0xc90e0f[_0x29fcb5(0x14a)]?String[_0x29fcb5(0x16d)](_0x4a7900[_0x2eb884][_0x29fcb5(0x16c)](0x3))[_0x29fcb5(0x175)][_0x29fcb5(0x182)]('C'):_0x4bdf2c[_0x29fcb5(0x16d)](_0x15778b[_0x36908b][_0x29fcb5(0x16c)](0x3))[_0x29fcb5(0x175)]['equal']('C');}String[_0x29fcb5(0x16d)](_0x4a7900[_0xc90e0f['ziewd'](_0x4a7900[_0x29fcb5(0x143)],0x1)][_0x29fcb5(0x16c)](0x3))[_0x29fcb5(0x175)][_0x29fcb5(0x182)]('F'),_0xc90e0f[_0x29fcb5(0x178)](_0x3318ce);},function(_0x63e14){const _0x5a9c26=_0x1b8d96,_0x39c1ef={'XQliy':function(_0x4e885e,_0x36c1a8,_0x2e398c,_0x8911bf){const _0x13f158=_0x5c25;return _0x3dd30b[_0x13f158(0x15f)](_0x4e885e,_0x36c1a8,_0x2e398c,_0x8911bf);},'DiGpb':function(_0x10daa2,_0x5af798){return _0x3dd30b['qOKzL'](_0x10daa2,_0x5af798);}};_0x4a7900['length'][_0x5a9c26(0x175)]['be']['greaterThan'](0x0);const _0x3c1253=new MessageBuilder();_0x3c1253['on'](_0x3dd30b[_0x5a9c26(0x148)],function(_0x578a50){const _0x27b71b=_0x5a9c26;_0x39c1ef[_0x27b71b(0x15e)](compare_buffers,_0x1a56cd,_0x578a50,0x28);})['on']('message',_0x15eaf2=>{const _0xf8d414=_0x5a9c26;_0x15eaf2[_0xf8d414(0x166)]()[_0xf8d414(0x175)][_0xf8d414(0x174)](_0x1302c4[_0xf8d414(0x166)]()),_0xc90e0f[_0xf8d414(0x178)](_0x63e14);})['on'](_0x3dd30b[_0x5a9c26(0x16f)],function(_0x223186){const _0x54f8e7=_0x5a9c26;_0x63e14(new Error(_0xc90e0f[_0x54f8e7(0x184)](_0x54f8e7(0x157),_0x223186[_0x54f8e7(0x166)](0x10))));}),_0x4a7900[_0x5a9c26(0x171)](function(_0x49cc2d){const _0x466c20=_0x5a9c26,_0x3872fe=Math[_0x466c20(0x14f)](_0x39c1ef[_0x466c20(0x183)](_0x49cc2d[_0x466c20(0x143)],0x3)),_0x31ae7b=_0x49cc2d['slice'](0x0,_0x3872fe),_0x19c300=_0x49cc2d[_0x466c20(0x16b)](_0x3872fe);_0x3c1253[_0x466c20(0x13b)](_0x31ae7b),_0x3c1253[_0x466c20(0x13b)](_0x19c300);});}],_0x456920);}),_0x3dd30b[_0xc25fe7(0x179)](it,_0xc25fe7(0x144),function(_0x3d1679){const _0xc7a84b=_0xc25fe7,_0x5268a4={'NMaIX':function(_0x2d4466,_0x3b2e59,_0x2ed3a1){return _0x2d4466(_0x3b2e59,_0x2ed3a1);}},_0x3ce4cb=new MessageBuilder();_0x3ce4cb['on'](_0xc7a84b(0x168),function(_0x507d7e){const _0x29f419=_0xc7a84b;debugLog(_0x3dd30b[_0x29f419(0x16a)]),debugLog(hexDump(_0x507d7e));})['on'](_0xc7a84b(0x17b),_0x381f76=>{const _0x529a80=_0xc7a84b;_0x3dd30b['JZvQD'](debugLog,_0x529a80(0x181),_0x381f76),_0x381f76[_0x529a80(0x185)][_0x529a80(0x146)]['value'][_0x529a80(0x175)][_0x529a80(0x174)](0x80820000),_0x3d1679();})['on'](_0xc7a84b(0x169),function(_0x4a4ad4){const _0x4ee39f=_0xc7a84b;_0x5268a4[_0x4ee39f(0x17a)](debugLog,_0x4ee39f(0x186),_0x4a4ad4),should['fail'](),_0x3d1679(new Error('Unexpected\x20error\x20event\x20received'));});const _0x34327e=_0x3dd30b[_0xc7a84b(0x14c)](require,_0x3dd30b['Zwajh'])[_0xc7a84b(0x176)],_0x4ec68a=_0x3dd30b[_0xc7a84b(0x14c)](_0x34327e,function(){});_0x3ce4cb[_0xc7a84b(0x13b)](_0x4ec68a);}),it(_0x3dd30b['BMEIT'],function(){const _0x35e15b=new CloseSecureChannelResponse({});encode_decode_round_trip_test(_0x35e15b);});});function _0x156a(){const _0x2769c0=['forEach','JorDd','wfWFQ','eql','should','makeBufferFromTrace','2392578FilFaG','LrhmD','ovZyL','NMaIX','message','_stream','buffer','406902nVaEKA','should\x20test\x20CloseSecureChannelResponse','rkyQW','\x20message\x20','equal','DiGpb','BnJzU','responseHeader','\x20errCode\x20','mAADF','feed','\x20On\x20raw\x20Buffer\x20\x0a','44mKinzr','SecureMessageChunkManager','zzucr','async','CLomN','SdNkG','length','should\x20receive\x20and\x20handle\x20an\x20ERR\x20message','7GiDPnA','serviceResult','772435RfQXmx','knrZb','util','zMwMz','node-opcua-packet-analyzer/dist/test_helpers','RmxOx','node-opcua-debug','144332XqrSEu','round','MSG','node-opcua-buffer-utils','aJugp','QSlcC','2JNFMTg','RamAD','series','Error\x20:\x20code\x200x','fixture2','230530kAnSKp','1050088LnAsry','../test_fixtures/fixture_GetEndPointResponse','node-opcua-service-secure-channel','greaterThan','XQliy','mpFiY','make_debugLog','jxBHi','push','84gDPvwv','6VkUqXR','1412272gKszDC','toString','CloseSecureChannelResponse','full_message_body','error','XisgU','slice','readUInt8','fromCharCode','chunkSecureMessage','VODcl','8cYbWBG'];_0x156a=function(){return _0x2769c0;};return _0x156a();}