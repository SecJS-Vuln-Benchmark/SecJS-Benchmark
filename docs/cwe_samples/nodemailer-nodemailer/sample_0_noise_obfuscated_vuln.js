'use strict';const _0x549ef6=_0x5373;(function(_0x215cac,_0x3d4ba7){const _0x53b285=_0x5373,_0x574a16=_0x215cac();while(!![]){try{const _0x398646=parseInt(_0x53b285(0x104))/0x1+-parseInt(_0x53b285(0x13b))/0x2*(-parseInt(_0x53b285(0x161))/0x3)+-parseInt(_0x53b285(0x106))/0x4+parseInt(_0x53b285(0x19a))/0x5+parseInt(_0x53b285(0x109))/0x6+-parseInt(_0x53b285(0xff))/0x7+-parseInt(_0x53b285(0x118))/0x8*(parseInt(_0x53b285(0x14f))/0x9);if(_0x398646===_0x3d4ba7)break;else _0x574a16['push'](_0x574a16['shift']());}catch(_0x3d8b42){_0x574a16['push'](_0x574a16['shift']());}}}(_0x48c8,0x63b6f));const should=require(_0x549ef6(0x176)),sinon=require(_0x549ef6(0x1b4)),{StatusCodes}=require(_0x549ef6(0x1a8)),{AttributeIds}=require(_0x549ef6(0x1b5)),{SessionContext}=require(_0x549ef6(0xf1)),{DataValue}=require(_0x549ef6(0x14d)),{TimestampsToReturn}=require(_0x549ef6(0x1e8)),{DataType}=require(_0x549ef6(0x115)),{MonitoredItemCreateRequest,DataChangeNotification,MonitoringMode,PublishRequest}=require(_0x549ef6(0x1c0)),{get_mini_nodeset_filename}=require(_0x549ef6(0x142)),{Subscription,SubscriptionState,MonitoredItem,ServerEngine,ServerSidePublishEngine,installSubscriptionMonitoring}=require('..'),add_mock_monitored_item=require(_0x549ef6(0x1ad))[_0x549ef6(0x1af)],{getFakePublishEngine}=require(_0x549ef6(0x14b)),mini_nodeset_filename=get_mini_nodeset_filename();let fake_publish_engine={};const fakeNotificationData=[new DataChangeNotification()];function _0x5373(_0x143bb3,_0x1a9ddc){const _0x48c88f=_0x48c8();return _0x5373=function(_0x537300,_0x120b9e){_0x537300=_0x537300-0xf0;let _0x211cd8=_0x48c88f[_0x537300];return _0x211cd8;},_0x5373(_0x143bb3,_0x1a9ddc);}function reconstruct_fake_publish_engine(){fake_publish_engine=getFakePublishEngine();}const describe=require(_0x549ef6(0x101))[_0x549ef6(0x12c)];describe(_0x549ef6(0x124),function(){const _0x2e5c50=_0x549ef6,_0x157369={'oNtCZ':function(_0x5b0ffb,_0x281a7c){return _0x5b0ffb(_0x281a7c);},'DAVGm':function(_0x21a7a1,_0x59db04){return _0x21a7a1===_0x59db04;},'uBbAW':_0x2e5c50(0x134),'zYoua':function(_0x4e0a87,_0x5be9cc){return _0x4e0a87*_0x5be9cc;},'zUlsD':function(_0x580ae2,_0x1ae8df){return _0x580ae2!==_0x1ae8df;},'JXRJi':_0x2e5c50(0x1e6),'mieKc':_0x2e5c50(0x199),'TYHRf':_0x2e5c50(0xf5),'MkeYH':'\x20the\x20initial\x20max\x20Keep\x20alive\x20','UzIhQ':function(_0x473e73,_0x58a2f0){return _0x473e73*_0x58a2f0;},'fyCRM':_0x2e5c50(0x168),'cyfRR':function(_0x4de1d7,_0xd13186){return _0x4de1d7*_0xd13186;},'jjLBV':function(_0x190d79,_0x17b15b){return _0x190d79*_0x17b15b;},'EJcoI':function(_0x395348,_0x1318e8){return _0x395348-_0x1318e8;},'HOaJE':function(_0x25a372,_0x11760f){return _0x25a372+_0x11760f;},'uMkYJ':_0x2e5c50(0x136),'alVbj':function(_0xe4921a,_0x206f46){return _0xe4921a/_0x206f46;},'DSOFe':_0x2e5c50(0x155),'tRyAO':function(_0x39cc03,_0xc8f0b4){return _0x39cc03*_0xc8f0b4;},'lreMj':function(_0x88d7d,_0x284e75){return _0x88d7d(_0x284e75);},'XEcYU':function(_0x16fe1f,_0x6a3afc){return _0x16fe1f!==_0x6a3afc;},'ZZOop':_0x2e5c50(0x1ba),'CDfbf':_0x2e5c50(0x16a),'yeOQj':_0x2e5c50(0x19b),'LalVZ':_0x2e5c50(0x187),'zhurP':function(_0x3bbf58,_0x2262e9,_0x33897c){return _0x3bbf58(_0x2262e9,_0x33897c);},'gQJiN':'\x20-\x20case\x204\x20(with\x20monitoredItem\x20-\x203x\x20value\x20writes)\x20-\x20publish\x20Request\x20arrives\x20late\x20(after\x20first\x20publishInterval\x20is\x20over)','GXgdp':function(_0x43215c,_0x47cad3){return _0x43215c(_0x47cad3);},'dfGVQ':_0x2e5c50(0x11c),'XJVLA':function(_0x4fddf3,_0x4ed6cd){return _0x4fddf3*_0x4ed6cd;},'Obizy':_0x2e5c50(0x17e),'ICKzf':function(_0x1a8462,_0x1410fb){return _0x1a8462(_0x1410fb);},'vOMOt':'TDtXB','wzziq':function(_0x2ef13a,_0x14aaef,_0x32f4db){return _0x2ef13a(_0x14aaef,_0x32f4db);},'wThmh':function(_0x1d9e86,_0x5cd860,_0x35a319){return _0x1d9e86(_0x5cd860,_0x35a319);},'ucUab':function(_0x4833ac,_0x3ea341,_0x4470c3){return _0x4833ac(_0x3ea341,_0x4470c3);},'XRCYS':'T12-3\x20-\x201.02\x20the\x20server\x20shall\x20retain\x20a\x20maximum\x20number\x20of\x20un-acknowledged\x20NotificationMessage\x20until\x20they\x20are\x20acknowledged','ZpjFW':_0x2e5c50(0xfd),'gvonR':function(_0x37c1fd,_0x106729){return _0x37c1fd*_0x106729;},'FwhPS':_0x2e5c50(0x19f),'EBNMy':function(_0x5761ad,_0x5a6a59){return _0x5761ad*_0x5a6a59;},'cNmyW':function(_0x57ac0d,_0x426f9d,_0x216843){return _0x57ac0d(_0x426f9d,_0x216843);},'zwCSC':function(_0x57d8a8,_0x270546,_0x5dcaac){return _0x57d8a8(_0x270546,_0x5dcaac);},'MoWRD':_0x2e5c50(0x150),'TpAUQ':function(_0xa62487,_0x5aed6f,_0x12efbf){return _0xa62487(_0x5aed6f,_0x12efbf);},'HxodE':_0x2e5c50(0x1df),'xhvQz':function(_0x587075,_0x166158,_0x21a5ca){return _0x587075(_0x166158,_0x21a5ca);},'PIOPa':'T5\x20-\x20a\x20subscription\x20that\x20have\x20only\x20some\x20notification\x20ready\x20before\x20max_keepalive_count\x20expired\x20shall\x20send\x20notifications\x20and\x20no\x20keepalive','QHHwH':function(_0x49b18a,_0x593d99,_0x7d94d4){return _0x49b18a(_0x593d99,_0x7d94d4);},'Hsyyk':_0x2e5c50(0x1db),'dkuVT':function(_0x20e4cb,_0x4d29e2,_0x9e387b){return _0x20e4cb(_0x4d29e2,_0x9e387b);},'hOpPs':_0x2e5c50(0x17a),'JyEvT':function(_0xb89b89,_0x466223,_0xee0e15){return _0xb89b89(_0x466223,_0xee0e15);},'hcSMT':'T11\x20-\x20a\x20subscription\x20shall\x20maintain\x20a\x20retransmission\x20queue\x20of\x20sent\x20NotificationMessages.','qzdaD':'closing\x20a\x20Subscription\x20causes\x20its\x20MonitoredItems\x20to\x20be\x20deleted.\x20'},_0x1155ed=this;_0x157369[_0x2e5c50(0x1cd)](beforeEach,function(){const _0xc496d8=_0x2e5c50;if(_0x157369['DAVGm'](_0x157369[_0xc496d8(0x119)],_0x157369[_0xc496d8(0x119)]))_0x1155ed[_0xc496d8(0x11e)]=sinon['useFakeTimers'](),reconstruct_fake_publish_engine();else{const _0x183f41=new _0x24b7eb({'id':0x4d2,'publishingInterval':0x3e8,'lifeTimeCount':0x3e8,'maxKeepAliveCount':0x14,'publishEngine':_0x13d764,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}});_0x44663a[_0xc496d8(0x1c6)]=0xa;const _0x4b587b=_0x157369[_0xc496d8(0x127)](_0x3d392d,_0x183f41);_0x183f41[_0xc496d8(0x177)][_0xc496d8(0x176)][_0xc496d8(0x11b)](0x0),_0x183f41[_0xc496d8(0x1d7)]['should'][_0xc496d8(0x11b)](0x0),_0x4b587b[_0xc496d8(0x122)](),_0xae06b3[_0xc496d8(0x11e)][_0xc496d8(0x1d9)](_0x183f41[_0xc496d8(0x1ce)]),_0x183f41['pendingNotificationsCount'][_0xc496d8(0x176)][_0xc496d8(0x11b)](0x0),_0x183f41['sentNotificationMessageCount'][_0xc496d8(0x176)][_0xc496d8(0x11b)](0x1),_0x4b587b['simulateMonitoredItemAddingNotification'](),_0x235c97[_0xc496d8(0x11e)][_0xc496d8(0x1d9)](_0x183f41[_0xc496d8(0x1ce)]),_0x183f41['pendingNotificationsCount']['should']['equal'](0x0),_0x183f41[_0xc496d8(0x1d7)][_0xc496d8(0x176)][_0xc496d8(0x11b)](0x2),_0x183f41[_0xc496d8(0x11c)](),_0x183f41[_0xc496d8(0x140)]();}}),_0x157369['oNtCZ'](afterEach,function(){const _0x247d67=_0x2e5c50,_0x4521d5={'yOKCB':'expired','mDlRa':'terminate','zyLwW':function(_0x4f9ab5,_0x36dcdd){return _0x4f9ab5-_0x36dcdd;},'qKiYv':function(_0x31c8cc,_0x4e4186){return _0x157369['zYoua'](_0x31c8cc,_0x4e4186);}};if(_0x157369[_0x247d67(0x100)](_0x157369[_0x247d67(0x14e)],_0x157369[_0x247d67(0x14e)])){const _0x5502ee=new _0xadd6ba({'publishingInterval':0xfa,'maxKeepAliveCount':0x3,'lifeTimeCount':0x1e,'publishEngine':_0x499e74,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}});![]&&_0x10b818(_0x5502ee),_0x5502ee[_0x247d67(0x1ce)][_0x247d67(0x176)][_0x247d67(0x1be)](0xfa),_0x5502ee[_0x247d67(0x123)][_0x247d67(0x176)]['eql'](0x3),_0x5502ee[_0x247d67(0x13c)]['should']['eql'](0x1e);const _0x5d0018=_0x382131[_0x247d67(0x1a0)]();_0x5502ee['on'](_0x4521d5[_0x247d67(0x12b)],_0x5d0018);const _0x4f67a9=_0x100d6b[_0x247d67(0x1a0)](_0x5502ee,_0x4521d5[_0x247d67(0x113)]);_0x5502ee[_0x247d67(0x1d6)][_0x247d67(0x176)][_0x247d67(0x1be)](_0x436a1e[_0x247d67(0x135)]),_0x5502ee['currentLifetimeCount']['should']['eql'](0x0),_0x2c6048['clock']['tick'](_0x5502ee['publishingInterval']*_0x4521d5[_0x247d67(0x1a6)](_0x5502ee[_0x247d67(0x13c)],0x3)),_0x5502ee['state'][_0x247d67(0x176)]['eql'](_0x129b1e[_0x247d67(0x13a)]),_0x4f67a9['callCount'][_0x247d67(0x176)]['equal'](0x0),_0x5d0018['callCount'][_0x247d67(0x176)]['equal'](0x0),_0x409c59[_0x247d67(0x11e)][_0x247d67(0x1d9)](_0x4521d5[_0x247d67(0x1d3)](_0x5502ee[_0x247d67(0x1ce)],0x3)),_0x52d902[_0x247d67(0x11e)][_0x247d67(0x1d9)](_0x5502ee[_0x247d67(0x1ce)]*_0x5502ee[_0x247d67(0x123)]),_0x4f67a9[_0x247d67(0x1c5)][_0x247d67(0x176)]['equal'](0x1),_0x5d0018['callCount'][_0x247d67(0x176)][_0x247d67(0x11b)](0x1),_0x5502ee[_0x247d67(0x1d6)]['should'][_0x247d67(0x1be)](_0x2bce60[_0x247d67(0x175)]),_0x5502ee['terminate'](),_0x5502ee[_0x247d67(0x140)]();}else _0x1155ed[_0x247d67(0x11e)]['restore']();}),_0x157369[_0x2e5c50(0xfc)](it,'T1\x20-\x20a\x20subscription\x20will\x20make\x20sure\x20that\x20lifeTimeCount\x20is\x20at\x20least\x203\x20times\x20maxKeepAliveCount',function(){const _0x53832e=_0x2e5c50;{const _0x4149f4=new Subscription({'publishingInterval':0x3e8,'maxKeepAliveCount':0x14,'lifeTimeCount':0x3c,'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}});_0x4149f4[_0x53832e(0x123)][_0x53832e(0x176)][_0x53832e(0x1be)](0x14),_0x4149f4[_0x53832e(0x13c)]['should'][_0x53832e(0x1be)](0x3c,_0x53832e(0x1cf)),_0x4149f4['terminate'](),_0x4149f4[_0x53832e(0x140)]();}{const _0x4ded18=new Subscription({'publishingInterval':0x3e8,'maxKeepAliveCount':0x14,'lifeTimeCount':0x1,'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}});_0x4ded18['maxKeepAliveCount'][_0x53832e(0x176)][_0x53832e(0x1be)](0x14),_0x4ded18[_0x53832e(0x13c)][_0x53832e(0x176)]['eql'](0x3c,_0x157369[_0x53832e(0x138)]),_0x4ded18[_0x53832e(0x11c)](),_0x4ded18[_0x53832e(0x140)]();}}),_0x157369['zwCSC'](it,_0x157369[_0x2e5c50(0x1ab)],function(){const _0x349dd0=_0x2e5c50,_0x296e59=new Subscription({'publishingInterval':0x3e8,'maxKeepAliveCount':0x14,'lifeTimeCount':0x3c,'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}});fake_publish_engine['pendingPublishRequestCount']=0xa,_0x296e59[_0x349dd0(0x123)][_0x349dd0(0x176)][_0x349dd0(0x1be)](0x14);const _0x32d516=sinon[_0x349dd0(0x1a0)](),_0x29c765=sinon[_0x349dd0(0x1a0)]();_0x296e59['on'](_0x349dd0(0x168),_0x32d516),_0x296e59['on'](_0x157369[_0x349dd0(0x114)],_0x29c765),_0x296e59[_0x349dd0(0x1d6)][_0x349dd0(0x176)][_0x349dd0(0x1be)](SubscriptionState[_0x349dd0(0x135)]),_0x1155ed[_0x349dd0(0x11e)]['tick'](_0x157369['zYoua'](_0x296e59[_0x349dd0(0x1ce)],_0x296e59['maxKeepAliveCount'])),_0x32d516['callCount'][_0x349dd0(0x176)]['be']['equal'](0x0),_0x29c765[_0x349dd0(0x1c5)][_0x349dd0(0x176)][_0x349dd0(0x11b)](0x1,_0x157369['MkeYH']),_0x296e59[_0x349dd0(0x1d6)][_0x349dd0(0x176)][_0x349dd0(0x1be)](SubscriptionState[_0x349dd0(0x157)]),_0x296e59['_keep_alive_counter'][_0x349dd0(0x176)]['eql'](0x0),_0x1155ed[_0x349dd0(0x11e)][_0x349dd0(0x1d9)](_0x296e59[_0x349dd0(0x1ce)]),_0x32d516['callCount'][_0x349dd0(0x176)]['be'][_0x349dd0(0x11b)](0x0),_0x29c765[_0x349dd0(0x1c5)][_0x349dd0(0x176)][_0x349dd0(0x11b)](0x1,_0x157369[_0x349dd0(0x10d)]),_0x296e59[_0x349dd0(0x1d6)]['should'][_0x349dd0(0x1be)](SubscriptionState[_0x349dd0(0x157)]),_0x296e59[_0x349dd0(0x15e)]['should']['eql'](0x1),_0x1155ed['clock']['tick'](_0x296e59[_0x349dd0(0x1ce)]),_0x296e59[_0x349dd0(0x15e)][_0x349dd0(0x176)][_0x349dd0(0x1be)](0x2),_0x1155ed[_0x349dd0(0x11e)]['tick'](_0x296e59[_0x349dd0(0x1ce)]*0x16),_0x32d516[_0x349dd0(0x1c5)][_0x349dd0(0x176)]['be'][_0x349dd0(0x11b)](0x0),_0x29c765['callCount']['should'][_0x349dd0(0x11b)](0x2),_0x296e59[_0x349dd0(0x1d6)][_0x349dd0(0x176)]['eql'](SubscriptionState[_0x349dd0(0x157)]),_0x1155ed[_0x349dd0(0x11e)][_0x349dd0(0x1d9)](_0x157369[_0x349dd0(0x1dd)](_0x296e59[_0x349dd0(0x1ce)],0x16)),_0x32d516[_0x349dd0(0x1c5)][_0x349dd0(0x176)]['be'][_0x349dd0(0x11b)](0x0),_0x29c765[_0x349dd0(0x1c5)][_0x349dd0(0x176)][_0x349dd0(0x11b)](0x3),_0x296e59[_0x349dd0(0x1d6)]['should'][_0x349dd0(0x1be)](SubscriptionState[_0x349dd0(0x157)]),_0x296e59['terminate'](),_0x296e59[_0x349dd0(0x140)]();}),it(_0x2e5c50(0x1a1),function(){const _0x3f0f47=_0x2e5c50,_0x27ccca=new Subscription({'id':0x3e8,'publishingInterval':0x3e8,'maxKeepAliveCount':0x14,'lifeTimeCount':0x3c,'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}});_0x27ccca[_0x3f0f47(0x123)][_0x3f0f47(0x176)]['eql'](0x14),fake_publish_engine[_0x3f0f47(0x1c6)]=0x0;const _0x1b949b=sinon['spy'](),_0xdee8e2=sinon[_0x3f0f47(0x1a0)]();_0x27ccca['on'](_0x157369[_0x3f0f47(0x149)],_0x1b949b),_0x27ccca['on'](_0x157369['TYHRf'],_0xdee8e2),_0x27ccca[_0x3f0f47(0x1d6)][_0x3f0f47(0x176)]['eql'](SubscriptionState[_0x3f0f47(0x135)]),_0x1155ed[_0x3f0f47(0x11e)][_0x3f0f47(0x1d9)](_0x27ccca[_0x3f0f47(0x1ce)]),_0x1b949b[_0x3f0f47(0x1c5)]['should']['be']['equal'](0x0),_0xdee8e2['callCount'][_0x3f0f47(0x176)]['equal'](0x0),_0x27ccca[_0x3f0f47(0x1d6)]['should']['eql'](SubscriptionState[_0x3f0f47(0x135)]),_0x1155ed['clock'][_0x3f0f47(0x1d9)](_0x157369['cyfRR'](_0x27ccca[_0x3f0f47(0x1ce)],_0x27ccca['maxKeepAliveCount'])),_0x1b949b[_0x3f0f47(0x1c5)][_0x3f0f47(0x176)]['be'][_0x3f0f47(0x11b)](0x0),_0xdee8e2[_0x3f0f47(0x1c5)]['should'][_0x3f0f47(0x11b)](0x0),_0x27ccca[_0x3f0f47(0x1d6)]['should'][_0x3f0f47(0x1be)](SubscriptionState[_0x3f0f47(0x13a)]),fake_publish_engine[_0x3f0f47(0x1c6)]=0xa,_0x1155ed[_0x3f0f47(0x11e)][_0x3f0f47(0x1d9)](0xa),_0x27ccca['process_subscription'](),_0x27ccca[_0x3f0f47(0x1d6)][_0x3f0f47(0x176)][_0x3f0f47(0x1be)](SubscriptionState[_0x3f0f47(0x157)]),_0x1b949b[_0x3f0f47(0x1c5)][_0x3f0f47(0x176)]['be']['equal'](0x0),_0xdee8e2[_0x3f0f47(0x1c5)][_0x3f0f47(0x176)][_0x3f0f47(0x11b)](0x1),_0x1155ed[_0x3f0f47(0x11e)][_0x3f0f47(0x1d9)](_0x27ccca[_0x3f0f47(0x1ce)]*_0x27ccca[_0x3f0f47(0x123)]),_0x1155ed[_0x3f0f47(0x11e)][_0x3f0f47(0x1d9)](_0x27ccca[_0x3f0f47(0x1ce)]),_0x1155ed[_0x3f0f47(0x11e)]['tick'](_0x27ccca[_0x3f0f47(0x1ce)]),_0x1155ed[_0x3f0f47(0x11e)]['tick'](_0x27ccca[_0x3f0f47(0x1ce)]),_0x1155ed[_0x3f0f47(0x11e)][_0x3f0f47(0x1d9)](_0x27ccca['publishingInterval']),_0x1b949b[_0x3f0f47(0x1c5)][_0x3f0f47(0x176)]['be'][_0x3f0f47(0x11b)](0x0),_0xdee8e2['callCount']['should'][_0x3f0f47(0x11b)](0x2),_0x27ccca[_0x3f0f47(0x1d6)][_0x3f0f47(0x176)][_0x3f0f47(0x1be)](SubscriptionState['KEEPALIVE']),_0x27ccca[_0x3f0f47(0x11c)](),_0x27ccca[_0x3f0f47(0x140)]();}),_0x157369[_0x2e5c50(0x1e0)](it,_0x157369[_0x2e5c50(0x158)],function(){const _0x41db34=_0x2e5c50,_0x40bebe=new Subscription({'id':0x3e8,'publishingInterval':0x3e8,'maxKeepAliveCount':0x14,'lifeTimeCount':0x3c,'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}});fake_publish_engine[_0x41db34(0x1c6)]=0xa,_0x40bebe[_0x41db34(0x123)][_0x41db34(0x176)][_0x41db34(0x1be)](0x14);const _0x38575f=sinon[_0x41db34(0x1a0)](),_0x37fe0f=sinon[_0x41db34(0x1a0)]();_0x40bebe['on'](_0x41db34(0x168),_0x38575f),_0x40bebe['on'](_0x41db34(0xf5),_0x37fe0f);const _0x47dd2c=_0x157369['oNtCZ'](add_mock_monitored_item,_0x40bebe);_0x47dd2c[_0x41db34(0x122)](),_0x1155ed[_0x41db34(0x11e)][_0x41db34(0x1d9)](_0x40bebe['publishingInterval']),_0x47dd2c[_0x41db34(0x122)](),_0x1155ed[_0x41db34(0x11e)][_0x41db34(0x1d9)](_0x40bebe[_0x41db34(0x1ce)]),_0x47dd2c['simulateMonitoredItemAddingNotification'](),_0x1155ed[_0x41db34(0x11e)][_0x41db34(0x1d9)](_0x40bebe['publishingInterval']),_0x47dd2c[_0x41db34(0x122)](),_0x1155ed[_0x41db34(0x11e)][_0x41db34(0x1d9)](_0x157369[_0x41db34(0x1b3)](_0x40bebe[_0x41db34(0x1ce)],_0x157369['EJcoI'](_0x40bebe[_0x41db34(0x123)],0x1))),_0x38575f['callCount'][_0x41db34(0x176)]['be'][_0x41db34(0x153)](0x2),_0x37fe0f['callCount'][_0x41db34(0x176)][_0x41db34(0x11b)](0x0),_0x40bebe['state'][_0x41db34(0x176)][_0x41db34(0x1be)](SubscriptionState['NORMAL']),_0x1155ed['clock']['tick'](_0x157369['zYoua'](_0x40bebe[_0x41db34(0x1ce)],_0x157369[_0x41db34(0x1aa)](_0x40bebe[_0x41db34(0x123)],0x1))),_0x37fe0f[_0x41db34(0x1c5)][_0x41db34(0x176)]['equal'](0x1),_0x40bebe[_0x41db34(0x1d6)][_0x41db34(0x176)][_0x41db34(0x1be)](SubscriptionState[_0x41db34(0x157)]),_0x40bebe[_0x41db34(0x11c)](),_0x40bebe['dispose']();}),_0x157369[_0x2e5c50(0x179)](it,_0x157369['PIOPa'],function(){const _0x313a11=_0x2e5c50;fake_publish_engine['pendingPublishRequestCount'][_0x313a11(0x176)][_0x313a11(0x1be)](0x0),fake_publish_engine['pendingPublishRequestCount']=0xa;const _0x592c54=new Subscription({'publishingInterval':0x3e8,'lifeTimeCount':0x186a0,'maxKeepAliveCount':0x4,'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}});_0x592c54[_0x313a11(0x1d6)]['should'][_0x313a11(0x1be)](SubscriptionState[_0x313a11(0x135)]);const _0x1d4e00=add_mock_monitored_item(_0x592c54),_0x54f82a=sinon[_0x313a11(0x1a0)](),_0x516ed7=sinon['spy'](),_0x159776=sinon[_0x313a11(0x1a0)]();_0x592c54['on'](_0x157369[_0x313a11(0x149)],_0x54f82a),_0x592c54['on'](_0x313a11(0xf5),_0x516ed7),_0x592c54['on'](_0x157369[_0x313a11(0x1d0)],_0x159776),_0x1155ed['clock']['tick'](_0x592c54[_0x313a11(0x1ce)]),_0x1155ed[_0x313a11(0x11e)][_0x313a11(0x1d9)](_0x592c54['publishingInterval']),_0x1155ed[_0x313a11(0x11e)][_0x313a11(0x1d9)](_0x592c54[_0x313a11(0x1ce)]),_0x1155ed['clock'][_0x313a11(0x1d9)](_0x592c54['publishingInterval']),_0x1155ed[_0x313a11(0x11e)]['tick'](_0x592c54[_0x313a11(0x1ce)]),_0x1155ed[_0x313a11(0x11e)][_0x313a11(0x1d9)](_0x592c54[_0x313a11(0x1ce)]),_0x54f82a[_0x313a11(0x1c5)][_0x313a11(0x176)][_0x313a11(0x11b)](0x1),_0x516ed7['callCount'][_0x313a11(0x176)][_0x313a11(0x11b)](0x1),_0x159776[_0x313a11(0x1c5)][_0x313a11(0x176)]['equal'](0x0),_0x592c54[_0x313a11(0x1d6)]['should'][_0x313a11(0x1be)](SubscriptionState[_0x313a11(0x157)]),_0x1d4e00['simulateMonitoredItemAddingNotification'](),_0x1155ed[_0x313a11(0x11e)]['tick'](_0x592c54['publishingInterval']),_0x54f82a[_0x313a11(0x1c5)][_0x313a11(0x176)][_0x313a11(0x11b)](0x2),_0x592c54[_0x313a11(0x1d6)]['should'][_0x313a11(0x1be)](SubscriptionState[_0x313a11(0xf2)]),_0x1155ed[_0x313a11(0x11e)][_0x313a11(0x1d9)](_0x592c54[_0x313a11(0x1ce)]),_0x1155ed[_0x313a11(0x11e)][_0x313a11(0x1d9)](_0x592c54[_0x313a11(0x1ce)]),_0x1155ed[_0x313a11(0x11e)][_0x313a11(0x1d9)](_0x592c54[_0x313a11(0x1ce)]),_0x1155ed['clock']['tick'](_0x592c54['publishingInterval']),_0x54f82a[_0x313a11(0x1c5)][_0x313a11(0x176)]['equal'](0x2),_0x516ed7[_0x313a11(0x1c5)][_0x313a11(0x176)][_0x313a11(0x11b)](0x2),_0x159776['callCount'][_0x313a11(0x176)][_0x313a11(0x11b)](0x0),_0x592c54[_0x313a11(0x1d6)][_0x313a11(0x176)][_0x313a11(0x1be)](SubscriptionState[_0x313a11(0x157)]),_0x1d4e00[_0x313a11(0x122)](),_0x1155ed[_0x313a11(0x11e)][_0x313a11(0x1d9)](_0x592c54[_0x313a11(0x1ce)]),_0x54f82a[_0x313a11(0x1c5)][_0x313a11(0x176)][_0x313a11(0x11b)](0x3),_0x516ed7[_0x313a11(0x1c5)][_0x313a11(0x176)]['equal'](0x2),_0x159776[_0x313a11(0x1c5)][_0x313a11(0x176)]['equal'](0x0),_0x592c54[_0x313a11(0x1d6)][_0x313a11(0x176)][_0x313a11(0x1be)](SubscriptionState[_0x313a11(0xf2)]),_0x1155ed[_0x313a11(0x11e)][_0x313a11(0x1d9)](_0x592c54[_0x313a11(0x1ce)]),_0x54f82a['callCount'][_0x313a11(0x176)][_0x313a11(0x11b)](0x3),_0x516ed7[_0x313a11(0x1c5)][_0x313a11(0x176)]['equal'](0x2),_0x159776[_0x313a11(0x1c5)][_0x313a11(0x176)][_0x313a11(0x11b)](0x0),_0x592c54['state'][_0x313a11(0x176)][_0x313a11(0x1be)](SubscriptionState['NORMAL']),_0x1155ed[_0x313a11(0x11e)][_0x313a11(0x1d9)](_0x592c54[_0x313a11(0x1ce)]),_0x54f82a[_0x313a11(0x1c5)][_0x313a11(0x176)][_0x313a11(0x11b)](0x3),_0x516ed7[_0x313a11(0x1c5)][_0x313a11(0x176)]['equal'](0x2),_0x159776[_0x313a11(0x1c5)][_0x313a11(0x176)][_0x313a11(0x11b)](0x0),_0x592c54[_0x313a11(0x1d6)]['should']['eql'](SubscriptionState['NORMAL']),_0x1155ed[_0x313a11(0x11e)][_0x313a11(0x1d9)](_0x592c54[_0x313a11(0x1ce)]),_0x54f82a[_0x313a11(0x1c5)][_0x313a11(0x176)][_0x313a11(0x11b)](0x3),_0x516ed7[_0x313a11(0x1c5)]['should'][_0x313a11(0x11b)](0x2),_0x159776[_0x313a11(0x1c5)][_0x313a11(0x176)][_0x313a11(0x11b)](0x0),_0x592c54[_0x313a11(0x1d6)][_0x313a11(0x176)]['eql'](SubscriptionState[_0x313a11(0xf2)]),_0x1155ed['clock'][_0x313a11(0x1d9)](_0x592c54[_0x313a11(0x1ce)]),_0x54f82a['callCount'][_0x313a11(0x176)][_0x313a11(0x11b)](0x3),_0x516ed7['callCount'][_0x313a11(0x176)]['equal'](0x3),_0x159776[_0x313a11(0x1c5)][_0x313a11(0x176)][_0x313a11(0x11b)](0x0),_0x592c54[_0x313a11(0x1d6)][_0x313a11(0x176)][_0x313a11(0x1be)](SubscriptionState['KEEPALIVE']),_0x592c54[_0x313a11(0x11c)](),_0x592c54[_0x313a11(0x140)]();}),_0x157369['QHHwH'](describe,_0x157369[_0x2e5c50(0x133)],function(){const _0x1d5b45=_0x2e5c50,_0x432862={'IOopK':function(_0x3f094f,_0x39c541){return _0x157369['XEcYU'](_0x3f094f,_0x39c541);},'zLpch':_0x1d5b45(0x10b),'VSElb':_0x157369['ZZOop'],'GoxVN':_0x157369[_0x1d5b45(0x1c2)],'ZHKaH':_0x157369[_0x1d5b45(0x1cb)],'isCzj':_0x1d5b45(0x168),'IaHqR':_0x1d5b45(0xf5),'CLzSk':_0x1d5b45(0x136),'EyYUu':function(_0x5ac63a,_0x49b6ed,_0x34892f){return _0x5ac63a(_0x49b6ed,_0x34892f);}};let _0x152e56,_0x48033d,_0x1e0361,_0x518b99;function _0x18c29d(_0x3c0dba,_0x26d42b){const _0x228579=_0x1d5b45;if(_0x432862[_0x228579(0x182)](_0x228579(0x10b),_0x432862[_0x228579(0x14c)]))_0x112d6a();else{const _0x46dd27=new MonitoredItemCreateRequest({'itemToMonitor':{'nodeId':_0x26d42b},'monitoringMode':MonitoringMode[_0x228579(0x15b)],'requestedParameters':{'clientHandle':0x7b,'queueSize':0xa,'samplingInterval':0xc8}}),_0x92ca5b=_0x3c0dba[_0x228579(0x1d4)](_0x152e56,TimestampsToReturn[_0x228579(0x125)],_0x46dd27),_0x1914e1=_0x3c0dba[_0x228579(0x17f)](_0x92ca5b[_0x228579(0x103)]);return Function(_0x432862[_0x228579(0x132)])(),_0x1914e1;}}before(function(_0x22e79e){const _0x3d2e1e=_0x1d5b45,_0x3e49ab={'skwyN':_0x432862['GoxVN'],'PtmAU':_0x3d2e1e(0x195),'aiIlz':_0x432862[_0x3d2e1e(0x178)]};_0x518b99=new ServerEngine(),_0x518b99[_0x3d2e1e(0x1b9)]({'nodeset_filename':mini_nodeset_filename},function(){const _0x40186f=_0x3d2e1e;_0x152e56=_0x518b99[_0x40186f(0x17b)],_0x48033d=_0x152e56[_0x40186f(0x1a5)]();const _0x1623b3=_0x48033d[_0x40186f(0x1bc)]({'componentOf':_0x3e49ab[_0x40186f(0x111)],'browseName':_0x3e49ab[_0x40186f(0x116)],'dataType':_0x3e49ab[_0x40186f(0xf0)],'value':{'dataType':DataType['UInt32'],'value':0x0}});_0x1e0361=_0x1623b3[_0x40186f(0x10e)],_0x22e79e();});}),after(async()=>{const _0x18fdbc=_0x1d5b45;await _0x518b99[_0x18fdbc(0x151)](),_0x518b99=null;});let _0x53041d;function _0x9e996f(_0x4433ac,_0x58e4d6){const _0x5185e3=_0x1d5b45,_0x775744=new PublishRequest({});_0x4433ac['_on_PublishRequest'](_0x775744,_0x58e4d6),_0x1155ed[_0x5185e3(0x11e)][_0x5185e3(0x1d9)](0x0);}let _0x5566df,_0x52fb31,_0x4a7936,_0x4a0607;beforeEach(function(){const _0x1b021a=_0x1d5b45;_0x53041d=new ServerSidePublishEngine(),_0x5566df=new Subscription({'id':0x3e8,'publishingInterval':0x64,'maxKeepAliveCount':0xa,'lifeTimeCount':0x1e,'publishingEnabled':!![],'publishEngine':_0x53041d,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}}),_0x53041d['add_subscription'](_0x5566df),_0x52fb31=sinon[_0x1b021a(0x1a0)](),_0x4a7936=sinon[_0x1b021a(0x1a0)](),_0x4a0607=sinon['spy'](),_0x5566df['on'](_0x432862[_0x1b021a(0x1c3)],_0x52fb31),_0x5566df['on'](_0x432862[_0x1b021a(0x181)],_0x4a7936),_0x5566df['on'](_0x432862[_0x1b021a(0x192)],_0x4a0607),_0x5566df['on'](_0x1b021a(0x10f),function(_0x1c4e8e){_0x1c4e8e['samplingFunc']=function(){};});}),afterEach(function(_0x41e69c){const _0x11988e=_0x1d5b45;_0x157369['zUlsD']('nitec',_0x11988e(0x130))?(_0x5566df['on']('terminated',function(){_0x41e69c();}),_0x5566df[_0x11988e(0x11c)](),_0x5566df[_0x11988e(0x140)](),_0x5566df=null,_0x53041d['shutdown'](),_0x53041d['dispose']()):_0x5ef7f0=_0x834129();}),it(_0x1d5b45(0x108),async()=>{const _0x362bc1=_0x1d5b45,_0x11197d='5|0|6|7|4|11|13|12|8|3|14|10|9|1|2'['split']('|');let _0x4dc640=0x0;while(!![]){switch(_0x11197d[_0x4dc640++]){case'0':_0x5566df[_0x362bc1(0x1d6)]['should'][_0x362bc1(0x1be)](SubscriptionState[_0x362bc1(0x135)]);continue;case'1':_0x1155ed[_0x362bc1(0x11e)][_0x362bc1(0x1d9)](_0x157369[_0x362bc1(0x1b2)](_0x157369[_0x362bc1(0x1b3)](_0x5566df[_0x362bc1(0x1ce)],_0x5566df[_0x362bc1(0x123)]),0x2));continue;case'2':_0x5566df[_0x362bc1(0x1d6)][_0x362bc1(0x176)][_0x362bc1(0x1be)](SubscriptionState[_0x362bc1(0x13a)]);continue;case'3':_0x4a7936['callCount'][_0x362bc1(0x176)]['eql'](0x1);continue;case'4':_0x4a7936[_0x362bc1(0x1c5)][_0x362bc1(0x176)][_0x362bc1(0x1be)](0x0);continue;case'5':_0x9e996f(_0x5566df['publishEngine']);continue;case'6':_0x1155ed['clock']['tick'](_0x5566df[_0x362bc1(0x1ce)]);continue;case'7':_0x5566df['state'][_0x362bc1(0x176)][_0x362bc1(0x1be)](SubscriptionState[_0x362bc1(0x135)]);continue;case'8':_0x1155ed[_0x362bc1(0x11e)][_0x362bc1(0x1d9)](_0x157369[_0x362bc1(0x14a)](_0x5566df[_0x362bc1(0x1ce)],_0x5566df[_0x362bc1(0x123)])/0x2);continue;case'9':_0x4a7936[_0x362bc1(0x1c5)][_0x362bc1(0x176)][_0x362bc1(0x1be)](0x1);continue;case'10':_0x1155ed['clock']['tick'](_0x5566df['publishingInterval']);continue;case'11':_0x1155ed[_0x362bc1(0x11e)][_0x362bc1(0x1d9)](_0x157369[_0x362bc1(0x1b3)](_0x5566df[_0x362bc1(0x1ce)],_0x5566df[_0x362bc1(0x123)]-0x1));continue;case'12':_0x4a7936[_0x362bc1(0x1c5)][_0x362bc1(0x176)][_0x362bc1(0x1be)](0x1);continue;case'13':_0x5566df[_0x362bc1(0x1d6)]['should']['eql'](SubscriptionState['KEEPALIVE']);continue;case'14':_0x5566df['state'][_0x362bc1(0x176)][_0x362bc1(0x1be)](SubscriptionState[_0x362bc1(0x157)]);continue;}break;}}),it(_0x1d5b45(0x1ac),async()=>{const _0x229c17=_0x1d5b45,_0x446e5a=_0x157369[_0x229c17(0x145)][_0x229c17(0x143)]('|');let _0x45dd7e=0x0;while(!![]){switch(_0x446e5a[_0x45dd7e++]){case'0':_0x1155ed[_0x229c17(0x11e)][_0x229c17(0x1d9)](_0x157369['alVbj'](_0x157369[_0x229c17(0x1b3)](_0x5566df[_0x229c17(0x1ce)],_0x5566df['maxKeepAliveCount']),0x2));continue;case'1':_0x5566df[_0x229c17(0x1d6)]['should'][_0x229c17(0x1be)](SubscriptionState['CREATING']);continue;case'2':_0x1155ed['clock'][_0x229c17(0x1d9)](_0x157369[_0x229c17(0x166)](_0x5566df[_0x229c17(0x1ce)],_0x5566df[_0x229c17(0x123)]));continue;case'3':_0x5566df[_0x229c17(0x1d6)][_0x229c17(0x176)]['eql'](SubscriptionState['CREATING']);continue;case'4':_0x4a7936[_0x229c17(0x1c5)]['should']['eql'](0x0);continue;case'5':_0x5566df[_0x229c17(0x1d6)]['should'][_0x229c17(0x1be)](SubscriptionState[_0x229c17(0x157)]);continue;case'6':_0x4a7936[_0x229c17(0x1c5)][_0x229c17(0x176)][_0x229c17(0x1be)](0x1);continue;case'7':_0x157369['lreMj'](_0x9e996f,_0x5566df[_0x229c17(0x12d)]);continue;case'8':_0x1155ed[_0x229c17(0x11e)]['tick'](_0x5566df[_0x229c17(0x1ce)]);continue;case'9':_0x4a7936[_0x229c17(0x1c5)][_0x229c17(0x176)]['eql'](0x1);continue;case'10':_0x4a7936[_0x229c17(0x1c5)]['should'][_0x229c17(0x1be)](0x0);continue;}break;}}),it(_0x157369['LalVZ'],function(){const _0x53e803=_0x1d5b45,_0x3b4428=_0x18c29d(_0x5566df,_0x1e0361);_0x1155ed['clock'][_0x53e803(0x1d9)](_0x5566df['publishingInterval']),_0x4a7936[_0x53e803(0x1c5)][_0x53e803(0x176)][_0x53e803(0x1be)](0x0),_0x5566df[_0x53e803(0x1d6)][_0x53e803(0x176)]['eql'](SubscriptionState[_0x53e803(0x135)]),_0x3b4428[_0x53e803(0x15c)](new DataValue({'value':{'dataType':DataType[_0x53e803(0x19b)],'value':0x3e8}})),_0x52fb31[_0x53e803(0x1c5)][_0x53e803(0x176)][_0x53e803(0x1be)](0x0),_0x9e996f(_0x5566df[_0x53e803(0x12d)]),_0x5566df[_0x53e803(0x1d6)][_0x53e803(0x176)]['eql'](SubscriptionState[_0x53e803(0xf2)]),_0x52fb31[_0x53e803(0x1c5)]['should']['eql'](0x1),_0x1155ed[_0x53e803(0x11e)][_0x53e803(0x1d9)](_0x5566df[_0x53e803(0x1ce)]),_0x52fb31[_0x53e803(0x1c5)][_0x53e803(0x176)][_0x53e803(0x1be)](0x1),_0x5566df['state'][_0x53e803(0x176)][_0x53e803(0x1be)](SubscriptionState['NORMAL']),_0x4a7936[_0x53e803(0x1c5)][_0x53e803(0x176)]['eql'](0x0),_0x1155ed[_0x53e803(0x11e)][_0x53e803(0x1d9)](_0x5566df[_0x53e803(0x1ce)]),_0x4a7936[_0x53e803(0x1c5)]['should']['eql'](0x0);}),it(_0x1d5b45(0x19e),function(){const _0x18b3d0=_0x1d5b45,_0x2b2bc7=_0x18c29d(_0x5566df,_0x1e0361);_0x1155ed[_0x18b3d0(0x11e)][_0x18b3d0(0x1d9)](_0x5566df[_0x18b3d0(0x1ce)]),_0x4a7936[_0x18b3d0(0x1c5)][_0x18b3d0(0x176)][_0x18b3d0(0x1be)](0x0),_0x5566df['state'][_0x18b3d0(0x176)][_0x18b3d0(0x1be)](SubscriptionState[_0x18b3d0(0x135)]),_0x2b2bc7[_0x18b3d0(0x15c)](new DataValue({'value':{'dataType':DataType[_0x18b3d0(0x19b)],'value':0x3e8}})),_0x52fb31['callCount'][_0x18b3d0(0x176)][_0x18b3d0(0x1be)](0x0),_0x9e996f(_0x5566df[_0x18b3d0(0x12d)]),_0x5566df['state'][_0x18b3d0(0x176)][_0x18b3d0(0x1be)](SubscriptionState[_0x18b3d0(0xf2)]),_0x52fb31[_0x18b3d0(0x1c5)][_0x18b3d0(0x176)][_0x18b3d0(0x1be)](0x1),_0x1155ed[_0x18b3d0(0x11e)][_0x18b3d0(0x1d9)](_0x5566df[_0x18b3d0(0x1ce)]),_0x52fb31['callCount'][_0x18b3d0(0x176)][_0x18b3d0(0x1be)](0x1),_0x5566df[_0x18b3d0(0x1d6)]['should']['eql'](SubscriptionState[_0x18b3d0(0xf2)]),_0x4a7936[_0x18b3d0(0x1c5)][_0x18b3d0(0x176)][_0x18b3d0(0x1be)](0x0),_0x1155ed[_0x18b3d0(0x11e)][_0x18b3d0(0x1d9)](_0x5566df[_0x18b3d0(0x1ce)]),_0x4a7936[_0x18b3d0(0x1c5)][_0x18b3d0(0x176)][_0x18b3d0(0x1be)](0x0);}),_0x157369[_0x1d5b45(0x12f)](it,_0x157369[_0x1d5b45(0x1e5)],function(){const _0x55fde5=_0x1d5b45,_0x5911e9=_0x432862[_0x55fde5(0x11f)](_0x18c29d,_0x5566df,_0x1e0361);_0x1155ed[_0x55fde5(0x11e)][_0x55fde5(0x1d9)](_0x5566df[_0x55fde5(0x1ce)]),_0x4a7936[_0x55fde5(0x1c5)][_0x55fde5(0x176)][_0x55fde5(0x1be)](0x0),_0x5566df['state']['should'][_0x55fde5(0x1be)](SubscriptionState[_0x55fde5(0x135)]),_0x5911e9[_0x55fde5(0x15c)](new DataValue({'value':{'dataType':DataType[_0x55fde5(0x19b)],'value':0x3e8}})),_0x52fb31[_0x55fde5(0x1c5)][_0x55fde5(0x176)][_0x55fde5(0x1be)](0x0),_0x9e996f(_0x5566df[_0x55fde5(0x12d)]),_0x52fb31[_0x55fde5(0x1c5)][_0x55fde5(0x176)][_0x55fde5(0x1be)](0x1),_0x5566df[_0x55fde5(0x1d6)][_0x55fde5(0x176)][_0x55fde5(0x1be)](SubscriptionState['NORMAL']),_0x1155ed[_0x55fde5(0x11e)][_0x55fde5(0x1d9)](_0x5566df[_0x55fde5(0x1ce)]),_0x5566df['state']['should'][_0x55fde5(0x1be)](SubscriptionState['NORMAL']),_0x5911e9[_0x55fde5(0x15c)](new DataValue({'value':{'dataType':DataType['UInt32'],'value':0x3e9}})),_0x5566df[_0x55fde5(0x1d6)][_0x55fde5(0x176)][_0x55fde5(0x1be)](SubscriptionState[_0x55fde5(0xf2)]),_0x1155ed[_0x55fde5(0x11e)][_0x55fde5(0x1d9)](_0x5566df[_0x55fde5(0x1ce)]),_0x5566df[_0x55fde5(0x1d6)][_0x55fde5(0x176)]['eql'](SubscriptionState[_0x55fde5(0x13a)]),_0x9e996f(_0x5566df[_0x55fde5(0x12d)]),_0x1155ed[_0x55fde5(0x11e)][_0x55fde5(0x1d9)](_0x5566df[_0x55fde5(0x1ce)]),_0x52fb31[_0x55fde5(0x1c5)][_0x55fde5(0x176)][_0x55fde5(0x1be)](0x2),_0x5566df[_0x55fde5(0x15a)][_0x55fde5(0x176)]['eql'](![]),_0x5566df[_0x55fde5(0x1ca)]['should'][_0x55fde5(0x1be)](![]),_0x5566df[_0x55fde5(0x1d6)][_0x55fde5(0x176)][_0x55fde5(0x1be)](SubscriptionState[_0x55fde5(0xf2)]),_0x1155ed['clock'][_0x55fde5(0x1d9)](_0x5566df['publishingInterval']),_0x5566df[_0x55fde5(0x1d6)]['should'][_0x55fde5(0x1be)](SubscriptionState[_0x55fde5(0xf2)]),_0x5911e9[_0x55fde5(0x15c)](new DataValue({'value':{'dataType':DataType[_0x55fde5(0x19b)],'value':0x3ea}})),_0x5566df[_0x55fde5(0x1d6)][_0x55fde5(0x176)]['eql'](SubscriptionState['NORMAL']),_0x1155ed['clock'][_0x55fde5(0x1d9)](_0x5566df['publishingInterval']),_0x9e996f(_0x5566df[_0x55fde5(0x12d)]),_0x1155ed['clock'][_0x55fde5(0x1d9)](_0x5566df[_0x55fde5(0x1ce)]),_0x52fb31[_0x55fde5(0x1c5)][_0x55fde5(0x176)][_0x55fde5(0x1be)](0x3),_0x5566df[_0x55fde5(0x1d6)][_0x55fde5(0x176)]['eql'](SubscriptionState['NORMAL']),_0x4a7936[_0x55fde5(0x1c5)][_0x55fde5(0x176)][_0x55fde5(0x1be)](0x0),_0x1155ed[_0x55fde5(0x11e)][_0x55fde5(0x1d9)](_0x5566df[_0x55fde5(0x1ce)]),_0x4a7936[_0x55fde5(0x1c5)]['should']['eql'](0x0);});}),it(_0x2e5c50(0x11d),function(){const _0x22ced6=_0x2e5c50,_0x58f35f=new Subscription({'publishingInterval':0xfa,'maxKeepAliveCount':0x3,'lifeTimeCount':0x1e,'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}});![]&&_0x157369[_0x22ced6(0x16f)](installSubscriptionMonitoring,_0x58f35f),_0x58f35f[_0x22ced6(0x1ce)][_0x22ced6(0x176)]['eql'](0xfa),_0x58f35f['maxKeepAliveCount'][_0x22ced6(0x176)][_0x22ced6(0x1be)](0x3),_0x58f35f[_0x22ced6(0x13c)][_0x22ced6(0x176)][_0x22ced6(0x1be)](0x1e);const _0x1c913b=sinon[_0x22ced6(0x1a0)]();_0x58f35f['on'](_0x157369[_0x22ced6(0x1d0)],_0x1c913b);const _0x38e5b1=sinon['spy'](_0x58f35f,_0x157369[_0x22ced6(0x1b0)]);_0x58f35f[_0x22ced6(0x1d6)]['should']['eql'](SubscriptionState['CREATING']),_0x58f35f['currentLifetimeCount'][_0x22ced6(0x176)][_0x22ced6(0x1be)](0x0),_0x1155ed[_0x22ced6(0x11e)][_0x22ced6(0x1d9)](_0x157369['XJVLA'](_0x58f35f[_0x22ced6(0x1ce)],_0x157369['EJcoI'](_0x58f35f[_0x22ced6(0x13c)],0x3))),_0x58f35f['state'][_0x22ced6(0x176)][_0x22ced6(0x1be)](SubscriptionState[_0x22ced6(0x13a)]),_0x38e5b1[_0x22ced6(0x1c5)]['should'][_0x22ced6(0x11b)](0x0),_0x1c913b['callCount'][_0x22ced6(0x176)][_0x22ced6(0x11b)](0x0),_0x1155ed[_0x22ced6(0x11e)][_0x22ced6(0x1d9)](_0x58f35f['publishingInterval']*0x3),_0x1155ed[_0x22ced6(0x11e)][_0x22ced6(0x1d9)](_0x157369['XJVLA'](_0x58f35f[_0x22ced6(0x1ce)],_0x58f35f[_0x22ced6(0x123)])),_0x38e5b1[_0x22ced6(0x1c5)][_0x22ced6(0x176)][_0x22ced6(0x11b)](0x1),_0x1c913b[_0x22ced6(0x1c5)][_0x22ced6(0x176)][_0x22ced6(0x11b)](0x1),_0x58f35f[_0x22ced6(0x1d6)][_0x22ced6(0x176)]['eql'](SubscriptionState['CLOSED']),_0x58f35f[_0x22ced6(0x11c)](),_0x58f35f[_0x22ced6(0x140)]();}),_0x157369[_0x2e5c50(0x12e)](it,_0x157369[_0x2e5c50(0x147)],function(){const _0x3fd55d=_0x2e5c50;if(_0x157369[_0x3fd55d(0x11a)]===_0x3fd55d(0x17e)){const _0x256e6d=new Subscription({'publishingInterval':0x3e8,'maxKeepAliveCount':0x14,'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}}),_0x561376=sinon['spy']();_0x256e6d['on'](_0x3fd55d(0x136),_0x561376);const _0x4998a4=sinon['spy'](_0x256e6d,'terminate');_0x1155ed[_0x3fd55d(0x11e)][_0x3fd55d(0x1d9)](_0x256e6d[_0x3fd55d(0x1ce)]*_0x157369[_0x3fd55d(0x146)](_0x256e6d[_0x3fd55d(0x13c)],0x2)),_0x4998a4[_0x3fd55d(0x1c5)][_0x3fd55d(0x176)][_0x3fd55d(0x11b)](0x0),_0x561376[_0x3fd55d(0x1c5)][_0x3fd55d(0x176)][_0x3fd55d(0x11b)](0x0),_0x256e6d[_0x3fd55d(0x172)](),_0x1155ed[_0x3fd55d(0x11e)]['tick'](_0x157369[_0x3fd55d(0x1dd)](_0x256e6d[_0x3fd55d(0x1ce)],0x4)),_0x4998a4[_0x3fd55d(0x1c5)][_0x3fd55d(0x176)][_0x3fd55d(0x11b)](0x0),_0x561376[_0x3fd55d(0x1c5)]['should'][_0x3fd55d(0x11b)](0x0),_0x1155ed[_0x3fd55d(0x11e)][_0x3fd55d(0x1d9)](_0x157369['zYoua'](_0x256e6d[_0x3fd55d(0x1ce)],_0x256e6d[_0x3fd55d(0x13c)]+0x2)),_0x4998a4[_0x3fd55d(0x1c5)][_0x3fd55d(0x176)][_0x3fd55d(0x11b)](0x1),_0x561376[_0x3fd55d(0x1c5)]['should'][_0x3fd55d(0x11b)](0x1),_0x256e6d[_0x3fd55d(0x11c)](),_0x256e6d[_0x3fd55d(0x140)]();}else _0x19079d[_0x3fd55d(0x11e)]['restore']();}),_0x157369[_0x2e5c50(0x12f)](it,'T9\x20-\x20a\x20subscription\x20that\x20has\x20no\x20notification\x20within\x20maxKeepAliveCount\x20shall\x20send\x20a\x20keepalive\x20signal\x20',function(){const _0x27b237=_0x2e5c50;fake_publish_engine[_0x27b237(0x1c6)]=0x3e8;const _0x3efa28=new Subscription({'publishingInterval':0x3e8,'lifeTimeCount':0x186a0,'maxKeepAliveCount':0x14,'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}}),_0x5a7585=sinon['spy'](),_0x208626=sinon[_0x27b237(0x1a0)](),_0x3fee7e=sinon[_0x27b237(0x1a0)]();_0x3efa28['on'](_0x157369['uMkYJ'],_0x5a7585),_0x3efa28['on']('notification',_0x208626),_0x3efa28['on'](_0x157369['TYHRf'],_0x3fee7e);const _0x6b0d73=sinon[_0x27b237(0x1a0)](_0x3efa28,_0x157369[_0x27b237(0x1b0)]);_0x1155ed[_0x27b237(0x11e)][_0x27b237(0x1d9)](_0x157369['XJVLA'](_0x3efa28[_0x27b237(0x1ce)],_0x157369[_0x27b237(0x146)](_0x3efa28[_0x27b237(0x123)],0x5))),_0x6b0d73[_0x27b237(0x1c5)]['should'][_0x27b237(0x11b)](0x0),_0x5a7585[_0x27b237(0x1c5)][_0x27b237(0x176)][_0x27b237(0x11b)](0x0),_0x208626['callCount'][_0x27b237(0x176)][_0x27b237(0x11b)](0x0),_0x3fee7e['callCount']['should'][_0x27b237(0x11b)](0x0),_0x1155ed[_0x27b237(0x11e)]['tick'](_0x3efa28[_0x27b237(0x1ce)]*(_0x3efa28['maxKeepAliveCount']+0x5)),_0x6b0d73[_0x27b237(0x1c5)][_0x27b237(0x176)][_0x27b237(0x11b)](0x0),_0x5a7585[_0x27b237(0x1c5)][_0x27b237(0x176)][_0x27b237(0x11b)](0x0),_0x208626[_0x27b237(0x1c5)]['should'][_0x27b237(0x11b)](0x0),_0x3fee7e['callCount'][_0x27b237(0x176)]['equal'](0x2),_0x1155ed[_0x27b237(0x11e)]['tick'](_0x3efa28[_0x27b237(0x1ce)]*_0x157369[_0x27b237(0x1aa)](_0x3efa28[_0x27b237(0x123)],0x3)),_0x6b0d73[_0x27b237(0x1c5)][_0x27b237(0x176)][_0x27b237(0x11b)](0x0),_0x5a7585['callCount'][_0x27b237(0x176)][_0x27b237(0x11b)](0x0),_0x208626[_0x27b237(0x1c5)][_0x27b237(0x176)][_0x27b237(0x11b)](0x0),_0x3fee7e[_0x27b237(0x1c5)]['should']['equal'](0x3),_0x3efa28[_0x27b237(0x11c)](),_0x3efa28[_0x27b237(0x140)]();}),_0x157369['xhvQz'](it,_0x2e5c50(0x1e1),function(){const _0x2e4220=_0x2e5c50,_0x1ef177=new Subscription({'id':0x4d2,'publishingInterval':0x3e8,'lifeTimeCount':0x3e8,'maxKeepAliveCount':0x14,'publishEngine':fake_publish_engine,'maxNotificationsPerPublish':0x2,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}});_0x1ef177[_0x2e4220(0x102)][_0x2e4220(0x176)][_0x2e4220(0x1be)](0x2);const _0x343c9b=add_mock_monitored_item(_0x1ef177);_0x343c9b[_0x2e4220(0x122)](),_0x343c9b[_0x2e4220(0x122)](),_0x343c9b[_0x2e4220(0x122)](),_0x343c9b[_0x2e4220(0x122)](),_0x343c9b[_0x2e4220(0x122)](),_0x343c9b['simulateMonitoredItemAddingNotification'](),_0x343c9b['simulateMonitoredItemAddingNotification'](),_0x343c9b[_0x2e4220(0x122)](),_0x1ef177[_0x2e4220(0x177)][_0x2e4220(0x176)][_0x2e4220(0x11b)](0x0),_0x1155ed['clock'][_0x2e4220(0x1d9)](_0x1ef177[_0x2e4220(0x1ce)]),_0x1ef177[_0x2e4220(0x1d6)]['should']['eql'](SubscriptionState[_0x2e4220(0x13a)]),fake_publish_engine[_0x2e4220(0x1c6)]=0x4,_0x1155ed[_0x2e4220(0x11e)][_0x2e4220(0x1d9)](_0x1ef177[_0x2e4220(0x1ce)]),_0x1ef177[_0x2e4220(0x1d7)][_0x2e4220(0x176)][_0x2e4220(0x11b)](0x1),_0x1ef177[_0x2e4220(0x177)][_0x2e4220(0x176)][_0x2e4220(0x11b)](0x7),_0x1ef177['terminate'](),_0x1ef177[_0x2e4220(0x140)]();}),_0x157369[_0x2e5c50(0x188)](it,_0x157369[_0x2e5c50(0x1c1)],function(){const _0x464138=_0x2e5c50,_0x5736dd=new Subscription({'id':0x4d2,'publishingInterval':0x3e8,'lifeTimeCount':0x3e8,'maxKeepAliveCount':0x14,'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}});fake_publish_engine[_0x464138(0x1c6)]=0xa;const _0x12f740=add_mock_monitored_item(_0x5736dd);_0x5736dd[_0x464138(0x177)]['should'][_0x464138(0x11b)](0x0),_0x5736dd['sentNotificationMessageCount']['should'][_0x464138(0x11b)](0x0),_0x12f740[_0x464138(0x122)](),_0x1155ed[_0x464138(0x11e)][_0x464138(0x1d9)](_0x5736dd[_0x464138(0x1ce)]),_0x5736dd['pendingNotificationsCount'][_0x464138(0x176)]['equal'](0x0),_0x5736dd[_0x464138(0x1d7)][_0x464138(0x176)][_0x464138(0x11b)](0x1),_0x12f740[_0x464138(0x122)](),_0x1155ed['clock']['tick'](_0x5736dd[_0x464138(0x1ce)]),_0x5736dd[_0x464138(0x177)]['should'][_0x464138(0x11b)](0x0),_0x5736dd['sentNotificationMessageCount']['should']['equal'](0x2),_0x5736dd[_0x464138(0x11c)](),_0x5736dd[_0x464138(0x140)]();}),_0x157369[_0x2e5c50(0x179)](describe,_0x2e5c50(0x1e4),function(){const _0x23d712=_0x2e5c50,_0xf18f9={'eBgde':'_send_response','cOyGC':function(_0x1e5aae,_0x25e7ee){const _0x148110=_0x5373;return _0x157369[_0x148110(0x1cd)](_0x1e5aae,_0x25e7ee);},'oAUIk':_0x157369[_0x23d712(0x148)],'aClcR':function(_0x2358e5,_0x5b4a18){return _0x2358e5*_0x5b4a18;}};_0x157369[_0x23d712(0x117)](it,_0x23d712(0x186),function(){const _0x5b3463=_0x23d712,_0x329a13=new Subscription({'id':0x4d2,'publishingInterval':0x3e8,'lifeTimeCount':0x3e8,'maxKeepAliveCount':0x14,'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}}),_0x354e0d=sinon[_0x5b3463(0x1a0)](fake_publish_engine,_0x5b3463(0xfb)),_0x487258=add_mock_monitored_item(_0x329a13);_0x487258['simulateMonitoredItemAddingNotification'](),_0x487258[_0x5b3463(0x122)](),_0x329a13[_0x5b3463(0x1d7)][_0x5b3463(0x176)][_0x5b3463(0x11b)](0x0),fake_publish_engine[_0x5b3463(0x1c6)]=0xa,_0x1155ed[_0x5b3463(0x11e)][_0x5b3463(0x1d9)](_0x329a13[_0x5b3463(0x1ce)]),_0x329a13[_0x5b3463(0x1d7)][_0x5b3463(0x176)]['equal'](0x1),fake_publish_engine[_0x5b3463(0x1c6)]['should'][_0x5b3463(0x1be)](0x9),_0x354e0d[_0x5b3463(0x1c5)][_0x5b3463(0x176)][_0x5b3463(0x11b)](0x1),_0x487258[_0x5b3463(0x122)](),_0x1155ed['clock'][_0x5b3463(0x1d9)](_0x329a13[_0x5b3463(0x1ce)]),_0x329a13[_0x5b3463(0x1d7)][_0x5b3463(0x176)][_0x5b3463(0x11b)](0x2);const _0x4ff66d=_0x354e0d['getCall'](0x0)[_0x5b3463(0x1a3)][0x1][_0x5b3463(0x126)];_0x4ff66d[_0x5b3463(0x1cc)][_0x5b3463(0x176)]['eql'](0x1);const _0xecb3d=_0x354e0d[_0x5b3463(0x154)](0x1)[_0x5b3463(0x1a3)][0x1][_0x5b3463(0x126)];_0xecb3d[_0x5b3463(0x1cc)][_0x5b3463(0x176)][_0x5b3463(0x1be)](0x2),_0x329a13[_0x5b3463(0x17c)](_0xecb3d[_0x5b3463(0x1cc)]),_0x329a13[_0x5b3463(0x1d7)][_0x5b3463(0x176)]['equal'](0x1),_0x329a13[_0x5b3463(0x17c)](_0x4ff66d['sequenceNumber']),_0x329a13[_0x5b3463(0x1d7)]['should'][_0x5b3463(0x11b)](0x0),_0x329a13[_0x5b3463(0x11c)](),_0x329a13['dispose']();}),_0x157369[_0x23d712(0x12a)](it,_0x23d712(0x1b7),function(){const _0x4c2e88=_0x23d712;fake_publish_engine['pendingPublishRequestCount']=0xa;const _0x3d69f8=sinon[_0x4c2e88(0x1a0)](fake_publish_engine,_0xf18f9[_0x4c2e88(0x10c)]),_0x57611d=new Subscription({'id':0x4d2,'publishingInterval':0x3e8,'lifeTimeCount':0x3e8,'maxKeepAliveCount':0x14,'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}}),_0x5404a5=_0xf18f9[_0x4c2e88(0x1d8)](add_mock_monitored_item,_0x57611d);_0xf18f9['cOyGC'](should,_0x57611d[_0x4c2e88(0x160)](0x23))[_0x4c2e88(0x1be)](null),_0x5404a5['simulateMonitoredItemAddingNotification'](),_0x5404a5['simulateMonitoredItemAddingNotification'](),_0x57611d[_0x4c2e88(0x1d7)][_0x4c2e88(0x176)][_0x4c2e88(0x11b)](0x0),_0x1155ed[_0x4c2e88(0x11e)][_0x4c2e88(0x1d9)](_0x57611d[_0x4c2e88(0x1ce)]),_0x57611d[_0x4c2e88(0x1d7)][_0x4c2e88(0x176)][_0x4c2e88(0x11b)](0x1);const _0x383393=_0x3d69f8[_0x4c2e88(0x154)](0x0)['args'][0x1][_0x4c2e88(0x126)];_0x383393[_0x4c2e88(0x1cc)][_0x4c2e88(0x176)][_0x4c2e88(0x1be)](0x1);const _0x1e73fe=_0x383393[_0x4c2e88(0x1cc)],_0x59d032=_0x57611d[_0x4c2e88(0x160)](_0x1e73fe);_0x59d032[_0x4c2e88(0x1cc)][_0x4c2e88(0x176)]['eql'](_0x1e73fe),_0x57611d[_0x4c2e88(0x11c)](),_0x57611d['dispose']();}),_0x157369[_0x23d712(0xfe)](it,_0x157369[_0x23d712(0x1b8)],function(){}),xit(_0x157369[_0x23d712(0x13e)],function(){const _0x179bbf=_0x23d712;if(_0xf18f9[_0x179bbf(0x197)]===_0xf18f9['oAUIk']){const _0x13cd23=new Subscription({'id':0x4d2,'publishingInterval':0x3e8,'lifeTimeCount':0x3e8,'maxKeepAliveCount':0x14,'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}});_0x13cd23[_0x179bbf(0x18c)](fakeNotificationData),_0x13cd23[_0x179bbf(0x1d2)](),_0x13cd23['sentNotificationMessageCount'][_0x179bbf(0x176)][_0x179bbf(0x11b)](0x1),_0x1155ed[_0x179bbf(0x11e)][_0x179bbf(0x1d9)](_0xf18f9[_0x179bbf(0x128)](0x3e8,0x5)),_0x13cd23[_0x179bbf(0x18c)](fakeNotificationData),_0x13cd23[_0x179bbf(0x1d2)](),_0x13cd23[_0x179bbf(0x1d7)][_0x179bbf(0x176)]['equal'](0x2),_0x1155ed['clock'][_0x179bbf(0x1d9)](0x3e8*0x14),_0x13cd23['sentNotificationMessageCount'][_0x179bbf(0x176)][_0x179bbf(0x11b)](0x1),_0x1155ed[_0x179bbf(0x11e)][_0x179bbf(0x1d9)](_0xf18f9[_0x179bbf(0x128)](0x3e8,0x64)),_0x13cd23[_0x179bbf(0x1d7)][_0x179bbf(0x176)][_0x179bbf(0x11b)](0x0),_0x13cd23[_0x179bbf(0x11c)](),_0x13cd23[_0x179bbf(0x140)]();}else _0x4d6bfc[_0x179bbf(0x122)]();});}),it(_0x2e5c50(0x1e7),function(){const _0x52194f=_0x2e5c50;fake_publish_engine[_0x52194f(0x1c6)]=0x3e8;const _0x48549c=new Subscription({'publishingInterval':0x64,'maxKeepAliveCount':0x14,'lifeTimeCount':0xa,'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}}),_0x31ecd4=sinon[_0x52194f(0x1a0)](),_0x25095e=sinon[_0x52194f(0x1a0)](),_0x3d4f2b=sinon['spy']();_0x48549c['on'](_0x157369[_0x52194f(0x149)],_0x31ecd4),_0x48549c['on'](_0x52194f(0xf5),_0x25095e),_0x48549c['on'](_0x157369[_0x52194f(0x1d0)],_0x3d4f2b),_0x48549c[_0x52194f(0x123)]['should']['eql'](0x14),_0x48549c[_0x52194f(0x1ce)][_0x52194f(0x176)][_0x52194f(0x1be)](0x64),_0x1155ed[_0x52194f(0x11e)][_0x52194f(0x1d9)](_0x157369[_0x52194f(0x163)](0x6,_0x48549c['publishingInterval'])*_0x48549c[_0x52194f(0x123)]),_0x48549c[_0x52194f(0x18a)][_0x52194f(0x176)][_0x52194f(0x11b)](0x78,_0x157369['FwhPS']),_0x3d4f2b[_0x52194f(0x1c5)][_0x52194f(0x176)][_0x52194f(0x11b)](0x0),_0x25095e[_0x52194f(0x1c5)]['should'][_0x52194f(0x11b)](0x6),_0x31ecd4[_0x52194f(0x1c5)][_0x52194f(0x176)]['equal'](0x0),_0x1155ed[_0x52194f(0x11e)][_0x52194f(0x1d9)](_0x157369[_0x52194f(0x121)](_0x157369[_0x52194f(0x189)](0x6,_0x48549c[_0x52194f(0x1ce)]),_0x48549c[_0x52194f(0x123)])),_0x3d4f2b[_0x52194f(0x1c5)]['should'][_0x52194f(0x11b)](0x0),_0x25095e[_0x52194f(0x1c5)][_0x52194f(0x176)]['equal'](0xc),_0x31ecd4[_0x52194f(0x1c5)][_0x52194f(0x176)]['equal'](0x0),_0x1155ed['clock']['tick'](0x6*_0x48549c[_0x52194f(0x1ce)]*_0x48549c[_0x52194f(0x123)]),_0x3d4f2b[_0x52194f(0x1c5)]['should']['equal'](0x0),_0x25095e['callCount'][_0x52194f(0x176)][_0x52194f(0x11b)](0x12),_0x31ecd4[_0x52194f(0x1c5)][_0x52194f(0x176)][_0x52194f(0x11b)](0x0),_0x48549c[_0x52194f(0x11c)](),_0x48549c[_0x52194f(0x140)]();}),_0x157369[_0x2e5c50(0xfe)](it,_0x2e5c50(0x171),function(){const _0x1044fb=_0x2e5c50;fake_publish_engine[_0x1044fb(0x1c6)]=0x3e8;const _0xf8c575=new Subscription({'publishingInterval':0x3e8,'maxKeepAliveCount':0x14,'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}}),_0xe0ce86=add_mock_monitored_item(_0xf8c575);_0xe0ce86[_0x1044fb(0x122)]();const _0x58d049=sinon[_0x1044fb(0x1a0)](),_0x1bb2a5=sinon[_0x1044fb(0x1a0)](),_0x2f4fb7=sinon[_0x1044fb(0x1a0)]();_0xf8c575['on'](_0x157369[_0x1044fb(0x149)],_0x58d049),_0xf8c575['on'](_0x157369[_0x1044fb(0x114)],_0x1bb2a5),_0xf8c575['on'](_0x1044fb(0x136),_0x2f4fb7),_0x1155ed[_0x1044fb(0x11e)]['tick'](0xc8),_0x1bb2a5['callCount'][_0x1044fb(0x176)][_0x1044fb(0x11b)](0x0),_0x58d049['callCount'][_0x1044fb(0x176)][_0x1044fb(0x1be)](0x0),_0x1155ed[_0x1044fb(0x11e)]['tick'](0x3e8),_0x1bb2a5[_0x1044fb(0x1c5)]['should'][_0x1044fb(0x11b)](0x0),_0x58d049[_0x1044fb(0x1c5)][_0x1044fb(0x176)][_0x1044fb(0x1be)](0x1),_0x1155ed['clock'][_0x1044fb(0x1d9)](0x3e8),_0x1bb2a5['callCount'][_0x1044fb(0x176)][_0x1044fb(0x11b)](0x0),_0x58d049[_0x1044fb(0x1c5)][_0x1044fb(0x176)][_0x1044fb(0x1be)](0x1),_0x1155ed[_0x1044fb(0x11e)][_0x1044fb(0x1d9)](0x7530),_0x1bb2a5[_0x1044fb(0x1c5)][_0x1044fb(0x176)][_0x1044fb(0x11b)](0x1),_0x58d049[_0x1044fb(0x1c5)][_0x1044fb(0x176)][_0x1044fb(0x1be)](0x1),_0xf8c575[_0x1044fb(0x11c)](),_0xf8c575[_0x1044fb(0x140)]();}),it(_0x2e5c50(0x193),function(){const _0x1548f7=_0x2e5c50,_0x30baeb=new Subscription({'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}});_0x30baeb[_0x1548f7(0x16b)]()[_0x1548f7(0x176)][_0x1548f7(0x11b)](0x1),_0x30baeb[_0x1548f7(0x1c7)]()[_0x1548f7(0x176)][_0x1548f7(0x11b)](0x1),_0x30baeb[_0x1548f7(0x1c7)]()['should'][_0x1548f7(0x11b)](0x2),_0x30baeb[_0x1548f7(0x1c7)]()[_0x1548f7(0x176)][_0x1548f7(0x11b)](0x3),_0x30baeb[_0x1548f7(0x16b)]()[_0x1548f7(0x176)][_0x1548f7(0x11b)](0x4),_0x30baeb[_0x1548f7(0x11c)](),_0x30baeb[_0x1548f7(0x140)]();}),eval('1 + 1;'),it(_0x2e5c50(0x156),function(){const _0xa7de7c=_0x2e5c50,_0x3fcebf=new Subscription({'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}});_0x3fcebf[_0xa7de7c(0x144)](0x1a)[_0xa7de7c(0x176)][_0xa7de7c(0x1be)](StatusCodes[_0xa7de7c(0x112)]),_0x3fcebf[_0xa7de7c(0x11c)](),_0x3fcebf[_0xa7de7c(0x140)]();}),xit(_0x157369[_0x2e5c50(0x131)],function(){});}),describe(_0x549ef6(0x1bb),function(){const _0x36edf0=_0x549ef6,_0x31cbc5={'hKHPA':function(_0x44e442){return _0x44e442();},'IsLWm':function(_0x1f6bd3,_0x5b65dc){return _0x1f6bd3(_0x5b65dc);},'LqIfb':'notification','rcGfd':_0x36edf0(0x136),'jXpdr':function(_0x46e3ed,_0x13e0fe){return _0x46e3ed*_0x13e0fe;},'GfFsd':function(_0x4d0d48,_0x3647d9){return _0x4d0d48!==_0x3647d9;},'GNUDV':'uOKWh','Uhbcx':function(_0x526148,_0x133888){return _0x526148*_0x133888;},'VIvPe':function(_0x4e058f){return _0x4e058f();},'igtES':function(_0x47a2db,_0x83928a){return _0x47a2db===_0x83928a;},'xITdC':_0x36edf0(0xf6),'VYeAx':function(_0x4fee21,_0x4b7b2d){return _0x4fee21(_0x4b7b2d);},'RJVWu':function(_0x4822df,_0x3e92f9,_0xa08503){return _0x4822df(_0x3e92f9,_0xa08503);},'gWQKZ':function(_0x580d1a,_0x556c88){return _0x580d1a(_0x556c88);},'eWhZM':function(_0x109a2a,_0x450769){return _0x109a2a*_0x450769;},'QzGAR':function(_0x227223,_0x2eecbf,_0x340135){return _0x227223(_0x2eecbf,_0x340135);},'BWhkY':_0x36edf0(0x190),'Cjzmp':function(_0xf8ae39,_0x198f62,_0x3e2b99){return _0xf8ae39(_0x198f62,_0x3e2b99);}},_0x28af29=this;beforeEach(function(){const _0x3fb1bb=_0x36edf0;_0x28af29[_0x3fb1bb(0x11e)]=sinon[_0x3fb1bb(0xf7)](),_0x31cbc5[_0x3fb1bb(0x16e)](reconstruct_fake_publish_engine);}),afterEach(function(){const _0x50c320=_0x36edf0;_0x28af29[_0x50c320(0x11e)][_0x50c320(0x1b1)]();}),_0x31cbc5[_0x36edf0(0x141)](it,'W1\x20-\x20a\x20subscription\x20created\x20with\x20publishingEnabled=true\x20shall\x20emit\x20notification',function(_0x8f937b){const _0x29bea9=_0x36edf0;fake_publish_engine[_0x29bea9(0x1c6)]=0x3e8;const _0x46ce37=new Subscription({'publishingInterval':0x64,'maxKeepAliveCount':0x5,'lifeTimeCount':0xa,'publishingEnabled':!![],'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}}),_0xe0dec1=_0x31cbc5[_0x29bea9(0x1e2)](add_mock_monitored_item,_0x46ce37);_0xe0dec1[_0x29bea9(0x122)](),_0xe0dec1['simulateMonitoredItemAddingNotification'](),_0xe0dec1[_0x29bea9(0x122)](),_0xe0dec1[_0x29bea9(0x122)](),_0xe0dec1[_0x29bea9(0x122)]();const _0x265fc0=sinon[_0x29bea9(0x1a0)](),_0x1be3e7=sinon['spy'](),_0x1ac523=sinon[_0x29bea9(0x1a0)]();_0x46ce37['on'](_0x31cbc5[_0x29bea9(0x1bf)],_0x265fc0),_0x46ce37['on'](_0x29bea9(0xf5),_0x1be3e7),_0x46ce37['on'](_0x31cbc5[_0x29bea9(0xfa)],_0x1ac523),_0x28af29[_0x29bea9(0x11e)]['tick'](_0x46ce37[_0x29bea9(0x1ce)]*0x4),_0x1be3e7[_0x29bea9(0x1c5)][_0x29bea9(0x176)][_0x29bea9(0x11b)](0x0),_0x265fc0[_0x29bea9(0x1c5)][_0x29bea9(0x176)][_0x29bea9(0x1be)](0x1),_0xe0dec1[_0x29bea9(0x122)](),_0x28af29[_0x29bea9(0x11e)][_0x29bea9(0x1d9)](_0x46ce37[_0x29bea9(0x1ce)]),_0xe0dec1['simulateMonitoredItemAddingNotification'](),_0x28af29[_0x29bea9(0x11e)][_0x29bea9(0x1d9)](_0x46ce37['publishingInterval']),_0xe0dec1[_0x29bea9(0x122)](),_0x28af29[_0x29bea9(0x11e)]['tick'](_0x46ce37[_0x29bea9(0x1ce)]),_0xe0dec1[_0x29bea9(0x122)](),_0x28af29[_0x29bea9(0x11e)][_0x29bea9(0x1d9)](_0x46ce37[_0x29bea9(0x1ce)]),_0x265fc0[_0x29bea9(0x1c5)][_0x29bea9(0x176)]['be'][_0x29bea9(0x153)](0x4),_0x46ce37[_0x29bea9(0x11c)](),_0x46ce37[_0x29bea9(0x140)](),_0x8f937b();}),_0x31cbc5[_0x36edf0(0x129)](it,_0x31cbc5['BWhkY'],function(_0x1354da){const _0x22bc48=_0x36edf0,_0x2d47cd={'tmCfm':'keepalive','FRpte':_0x31cbc5['rcGfd'],'gGQxE':function(_0x5a8a75,_0xd9f103){const _0x74f8ea=_0x5373;return _0x31cbc5[_0x74f8ea(0x165)](_0x5a8a75,_0xd9f103);}};if(_0x31cbc5[_0x22bc48(0x1da)](_0x22bc48(0x198),_0x31cbc5['GNUDV'])){_0x468a8d['pendingPublishRequestCount']=0x3e8;const _0x3c51f6=new _0x13ff11({'publishingInterval':0x64,'maxKeepAliveCount':0x5,'lifeTimeCount':0xa,'publishingEnabled':![],'publishEngine':_0x5c4606,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}}),_0x30c548=_0x183c75[_0x22bc48(0x1a0)](),_0x493007=_0x486af2['spy'](),_0x1abda6=_0x5716e8[_0x22bc48(0x1a0)]();_0x3c51f6['on'](_0x22bc48(0x168),_0x30c548),_0x3c51f6['on'](_0x2d47cd[_0x22bc48(0x167)],_0x493007),_0x3c51f6['on'](_0x2d47cd[_0x22bc48(0x1a2)],_0x1abda6);const _0x3d0064=_0x3cd17c(_0x3c51f6);_0x3d0064[_0x22bc48(0x122)](),_0x1e0473[_0x22bc48(0x11e)][_0x22bc48(0x1d9)](_0x3c51f6[_0x22bc48(0x1ce)]),_0x3d0064['simulateMonitoredItemAddingNotification'](),_0x14ee55[_0x22bc48(0x11e)]['tick'](_0x3c51f6['publishingInterval']),_0x3d0064['simulateMonitoredItemAddingNotification'](),_0x2db7a1['clock'][_0x22bc48(0x1d9)](_0x3c51f6['publishingInterval']),_0x3d0064['simulateMonitoredItemAddingNotification'](),_0x168ffc[_0x22bc48(0x11e)][_0x22bc48(0x1d9)](_0x3c51f6[_0x22bc48(0x1ce)]),_0x3d0064[_0x22bc48(0x122)](),_0x2e2932[_0x22bc48(0x11e)]['tick'](_0x3c51f6[_0x22bc48(0x1ce)]),_0xdcee28['clock']['tick'](_0x2d47cd[_0x22bc48(0x1a4)](0x4,_0x3c51f6['publishingInterval'])*_0x3c51f6[_0x22bc48(0x123)]),_0x493007[_0x22bc48(0x1c5)][_0x22bc48(0x176)][_0x22bc48(0x11b)](0x5),_0x30c548[_0x22bc48(0x1c5)][_0x22bc48(0x176)][_0x22bc48(0x1be)](0x0),_0x3c51f6[_0x22bc48(0x11c)](),_0x3c51f6[_0x22bc48(0x140)](),_0x507426();}else{fake_publish_engine[_0x22bc48(0x1c6)]=0x3e8;const _0x429856=new Subscription({'publishingInterval':0x64,'maxKeepAliveCount':0x5,'lifeTimeCount':0xa,'publishingEnabled':![],'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}}),_0x38b98c=sinon['spy'](),_0x208a40=sinon[_0x22bc48(0x1a0)](),_0x303ec3=sinon[_0x22bc48(0x1a0)]();_0x429856['on'](_0x31cbc5[_0x22bc48(0x1bf)],_0x38b98c),_0x429856['on'](_0x22bc48(0xf5),_0x208a40),_0x429856['on'](_0x22bc48(0x136),_0x303ec3);const _0x308cd1=add_mock_monitored_item(_0x429856);_0x308cd1[_0x22bc48(0x122)](),_0x28af29['clock'][_0x22bc48(0x1d9)](_0x429856[_0x22bc48(0x1ce)]),_0x308cd1[_0x22bc48(0x122)](),_0x28af29['clock']['tick'](_0x429856[_0x22bc48(0x1ce)]),_0x308cd1[_0x22bc48(0x122)](),_0x28af29[_0x22bc48(0x11e)][_0x22bc48(0x1d9)](_0x429856[_0x22bc48(0x1ce)]),_0x308cd1[_0x22bc48(0x122)](),_0x28af29['clock'][_0x22bc48(0x1d9)](_0x429856[_0x22bc48(0x1ce)]),_0x308cd1[_0x22bc48(0x122)](),_0x28af29['clock'][_0x22bc48(0x1d9)](_0x429856[_0x22bc48(0x1ce)]),_0x28af29[_0x22bc48(0x11e)]['tick'](_0x31cbc5[_0x22bc48(0x137)](0x4*_0x429856[_0x22bc48(0x1ce)],_0x429856[_0x22bc48(0x123)])),_0x208a40[_0x22bc48(0x1c5)]['should']['equal'](0x5),_0x38b98c[_0x22bc48(0x1c5)][_0x22bc48(0x176)][_0x22bc48(0x1be)](0x0),_0x429856[_0x22bc48(0x11c)](),_0x429856[_0x22bc48(0x140)](),_0x31cbc5[_0x22bc48(0x16d)](_0x1354da);}}),_0x31cbc5['Cjzmp'](it,'W3\x20-\x20a\x20publishing\x20subscription\x20can\x20be\x20disabled\x20and\x20re-enabled',function(_0x4a2673){const _0x138ef8=_0x36edf0,_0x94877d={'ELhoi':_0x31cbc5[_0x138ef8(0x1bf)],'nMsml':function(_0x1b62ca,_0x47fd6e){return _0x1b62ca-_0x47fd6e;},'ZUQjE':function(_0x2dfb12,_0x44a1df){return _0x2dfb12*_0x44a1df;},'TaMwA':function(_0x2be5ca,_0x396fed){return _0x2be5ca!==_0x396fed;},'xuzNq':'KzYvP'};if(_0x31cbc5[_0x138ef8(0x1de)](_0x31cbc5[_0x138ef8(0x107)],_0x138ef8(0x13f)))_0x355bc2[_0x138ef8(0x1b6)][_0x138ef8(0x176)]['be'][_0x138ef8(0x153)](0x4);else{fake_publish_engine[_0x138ef8(0x1c6)]=0x3e8;const _0x367381=new Subscription({'publishingInterval':0x64,'maxKeepAliveCount':0x5,'lifeTimeCount':0xa,'publishingEnabled':!![],'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}}),_0x592fc3=_0x31cbc5[_0x138ef8(0x183)](add_mock_monitored_item,_0x367381);function _0x11b853(){const _0x34fa8e=_0x138ef8;if(_0x94877d['TaMwA']('toJKd',_0x94877d[_0x34fa8e(0x1bd)]))_0x592fc3[_0x34fa8e(0x122)]();else{const _0x5327c7=new _0x117a79({'id':0x3e8,'publishingInterval':0x3e8,'maxKeepAliveCount':0x14,'lifeTimeCount':0x3c,'publishEngine':_0xe4317f,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}});_0x935b76[_0x34fa8e(0x1c6)]=0xa,_0x5327c7[_0x34fa8e(0x123)]['should'][_0x34fa8e(0x1be)](0x14);const _0x7f4819=_0x50fd76[_0x34fa8e(0x1a0)](),_0x53e170=_0x2c60f4['spy']();_0x5327c7['on'](_0x94877d['ELhoi'],_0x7f4819),_0x5327c7['on']('keepalive',_0x53e170);const _0x4b4968=_0x2d055c(_0x5327c7);_0x4b4968['simulateMonitoredItemAddingNotification'](),_0x276e77[_0x34fa8e(0x11e)][_0x34fa8e(0x1d9)](_0x5327c7[_0x34fa8e(0x1ce)]),_0x4b4968[_0x34fa8e(0x122)](),_0x20630a[_0x34fa8e(0x11e)]['tick'](_0x5327c7[_0x34fa8e(0x1ce)]),_0x4b4968[_0x34fa8e(0x122)](),_0x5d592e[_0x34fa8e(0x11e)][_0x34fa8e(0x1d9)](_0x5327c7[_0x34fa8e(0x1ce)]),_0x4b4968[_0x34fa8e(0x122)](),_0x21e309['clock'][_0x34fa8e(0x1d9)](_0x5327c7['publishingInterval']*_0x94877d[_0x34fa8e(0x196)](_0x5327c7['maxKeepAliveCount'],0x1)),_0x7f4819[_0x34fa8e(0x1c5)][_0x34fa8e(0x176)]['be'][_0x34fa8e(0x153)](0x2),_0x53e170['callCount'][_0x34fa8e(0x176)][_0x34fa8e(0x11b)](0x0),_0x5327c7['state'][_0x34fa8e(0x176)]['eql'](_0x1412b2['NORMAL']),_0x228c45[_0x34fa8e(0x11e)]['tick'](_0x94877d[_0x34fa8e(0x1c9)](_0x5327c7['publishingInterval'],_0x5327c7[_0x34fa8e(0x123)]+0x1)),_0x53e170[_0x34fa8e(0x1c5)][_0x34fa8e(0x176)][_0x34fa8e(0x11b)](0x1),_0x5327c7[_0x34fa8e(0x1d6)][_0x34fa8e(0x176)][_0x34fa8e(0x1be)](_0x36f35b['KEEPALIVE']),_0x5327c7[_0x34fa8e(0x11c)](),_0x5327c7[_0x34fa8e(0x140)]();}}const _0x1e5567=_0x31cbc5[_0x138ef8(0x141)](setInterval,_0x11b853,0x32),_0x4b8f64=sinon[_0x138ef8(0x1a0)](),_0x274154=sinon[_0x138ef8(0x1a0)](),_0x5b59a7=sinon['spy']();_0x367381['on'](_0x138ef8(0x168),_0x4b8f64),_0x367381['on']('keepalive',_0x274154),_0x367381['on'](_0x31cbc5['rcGfd'],_0x5b59a7),_0x28af29[_0x138ef8(0x11e)][_0x138ef8(0x1d9)](_0x31cbc5['jXpdr'](_0x367381[_0x138ef8(0x1ce)],0x16)),_0x274154[_0x138ef8(0x1c5)][_0x138ef8(0x176)]['equal'](0x0),_0x4b8f64['callCount'][_0x138ef8(0x176)]['be'][_0x138ef8(0x153)](0x14),_0x367381['setPublishingMode'](![]),_0x28af29[_0x138ef8(0x11e)][_0x138ef8(0x1d9)](_0x31cbc5[_0x138ef8(0x137)](0x4*_0x367381['publishingInterval'],_0x367381[_0x138ef8(0x123)])),_0x274154[_0x138ef8(0x1c5)][_0x138ef8(0x176)]['equal'](0x4),_0x4b8f64[_0x138ef8(0x1c5)][_0x138ef8(0x176)]['be'][_0x138ef8(0x153)](0x14),_0x367381[_0x138ef8(0x105)](!![]),_0x28af29[_0x138ef8(0x11e)][_0x138ef8(0x1d9)](0x4*_0x367381[_0x138ef8(0x1ce)]*_0x367381['maxKeepAliveCount']),_0x274154[_0x138ef8(0x1c5)][_0x138ef8(0x176)][_0x138ef8(0x11b)](0x4),_0x4b8f64['callCount'][_0x138ef8(0x176)]['be'][_0x138ef8(0x153)](0x28),clearInterval(_0x1e5567),_0x367381['terminate'](),_0x367381['dispose'](),_0x4a2673();}}),it('W4\x20-\x20a\x20disabled\x20subscription\x20shall\x20continue\x20to\x20send\x20keep-alive\x20notifications',function(_0x2d8bf1){const _0x3cb5cf=_0x36edf0;fake_publish_engine[_0x3cb5cf(0x1c6)]=0x3e8;const _0x448b42=new Subscription({'publishingInterval':0x64,'maxKeepAliveCount':0x5,'lifeTimeCount':0xa,'publishingEnabled':![],'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}}),_0x33031a=_0x31cbc5[_0x3cb5cf(0x1dc)](add_mock_monitored_item,_0x448b42);function _0x1c2ca5(){const _0xd54f8d=_0x3cb5cf;_0x33031a[_0xd54f8d(0x122)]();}const _0x3f7937=setInterval(_0x1c2ca5,0x32),_0x2ea6e3=sinon[_0x3cb5cf(0x1a0)](),_0x451eaf=sinon['spy'](),_0x196bee=sinon[_0x3cb5cf(0x1a0)]();_0x448b42['on'](_0x31cbc5['LqIfb'],_0x2ea6e3),_0x448b42['on'](_0x3cb5cf(0xf5),_0x451eaf),_0x448b42['on'](_0x31cbc5[_0x3cb5cf(0xfa)],_0x196bee),_0x28af29['clock']['tick'](0x4*_0x448b42[_0x3cb5cf(0x1ce)]*_0x448b42[_0x3cb5cf(0x123)]),_0x451eaf[_0x3cb5cf(0x1c5)][_0x3cb5cf(0x176)][_0x3cb5cf(0x11b)](0x4),_0x2ea6e3[_0x3cb5cf(0x1c5)]['should']['be'][_0x3cb5cf(0x11b)](0x0),_0x448b42[_0x3cb5cf(0x105)](!![]),_0x28af29['clock'][_0x3cb5cf(0x1d9)](_0x31cbc5[_0x3cb5cf(0xf4)](0x4*_0x448b42[_0x3cb5cf(0x1ce)],_0x448b42[_0x3cb5cf(0x123)])),_0x451eaf[_0x3cb5cf(0x1c5)][_0x3cb5cf(0x176)]['equal'](0x4),_0x2ea6e3[_0x3cb5cf(0x1c5)][_0x3cb5cf(0x176)]['be'][_0x3cb5cf(0x153)](0x13);const _0x5407b6=_0x2ea6e3['callCount'];_0x448b42[_0x3cb5cf(0x105)](![]),_0x28af29[_0x3cb5cf(0x11e)][_0x3cb5cf(0x1d9)](_0x31cbc5[_0x3cb5cf(0xf4)](0x4*_0x448b42['publishingInterval'],_0x448b42['maxKeepAliveCount'])),_0x451eaf[_0x3cb5cf(0x1c5)][_0x3cb5cf(0x176)][_0x3cb5cf(0x11b)](0x8),_0x2ea6e3['callCount'][_0x3cb5cf(0x176)]['be']['equal'](_0x5407b6),clearInterval(_0x3f7937),_0x448b42['terminate'](),_0x448b42[_0x3cb5cf(0x140)](),_0x2d8bf1();});}),describe(_0x549ef6(0x184),function(){const _0x3b229b=_0x549ef6,_0x50a80d={'edFHt':_0x3b229b(0x168),'MGVPy':_0x3b229b(0x10f),'ckYvj':function(_0x481bee,_0x3bddac){return _0x481bee===_0x3bddac;},'mLlII':_0x3b229b(0x19c),'AEjLj':function(_0x219fd2,_0x269c3c){return _0x219fd2===_0x269c3c;},'cVAGX':'JHtXi','EDBPA':function(_0x21f7c7,_0x462583){return _0x21f7c7/_0x462583;},'iQBEH':_0x3b229b(0x16c),'VTCdB':'should\x20have\x20a\x20minimum\x20sampling\x20interval,\x20with\x20a\x20strictly\x20positive\x20value\x20(\x20which\x20is\x20the\x20fastest\x20possible\x20rate)','nzkGV':function(_0x43f7cb,_0x53d3f0,_0x5f7643){return _0x43f7cb(_0x53d3f0,_0x5f7643);},'FlBjc':function(_0x11be86,_0x329998,_0x3f0e60){return _0x11be86(_0x329998,_0x3f0e60);},'gAwwH':function(_0x576329,_0x1f1535,_0x17b3a8){return _0x576329(_0x1f1535,_0x17b3a8);},'iVSBV':_0x3b229b(0xf3),'migrC':_0x3b229b(0x173),'ywHNg':'should\x20adjust\x20sampling\x20interval\x20to\x20minimum\x20when\x20requested\x20sampling\x20interval\x20===\x201','Fvcuq':function(_0xde9e9d,_0x262afd,_0x647c84){return _0xde9e9d(_0x262afd,_0x647c84);},'mfMoj':_0x3b229b(0x162),'YfVDe':function(_0x468650,_0x5a809c,_0x333b90){return _0x468650(_0x5a809c,_0x333b90);},'nZAJr':function(_0x95fa00,_0x43ecf2,_0x308162){return _0x95fa00(_0x43ecf2,_0x308162);},'UXPWP':'should\x20adjust\x20sampling\x20interval\x20the\x20minimumSamplingInterval\x20when\x20requested\x20sampling\x20is\x20too\x20low'};beforeEach(function(){const _0x103e57=_0x3b229b,_0x20c4b3={'gopyM':_0x50a80d[_0x103e57(0x17d)],'leXxX':_0x103e57(0xf5),'XmKNW':_0x103e57(0x136),'ptWpH':_0x50a80d['MGVPy']};_0x50a80d[_0x103e57(0x180)](_0x50a80d[_0x103e57(0x185)],_0x103e57(0x19c))?reconstruct_fake_publish_engine():(_0x4a8071=new _0x2aa8f7(),_0x1f2b82=new _0x2edf2f({'id':0x3e8,'publishingInterval':0x64,'maxKeepAliveCount':0xa,'lifeTimeCount':0x1e,'publishingEnabled':!![],'publishEngine':_0x4fe879,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}}),_0x36b707[_0x103e57(0x18f)](_0x58954b),_0x4cef98=_0x55f5ea[_0x103e57(0x1a0)](),_0x20fc6e=_0x495252[_0x103e57(0x1a0)](),_0x4106b0=_0x5b5f86[_0x103e57(0x1a0)](),_0x27263b['on'](_0x20c4b3[_0x103e57(0x18d)],_0x44f9bb),_0xbe87f1['on'](_0x20c4b3[_0x103e57(0x194)],_0x325f9a),_0x307e12['on'](_0x20c4b3[_0x103e57(0x1ae)],_0x53d77e),_0x58bcb5['on'](_0x20c4b3[_0x103e57(0x1d1)],function(_0x2215db){_0x2215db['samplingFunc']=function(){};}));}),it(_0x50a80d[_0x3b229b(0x169)],function(){const _0x36b1c0=_0x3b229b;MonitoredItem[_0x36b1c0(0x1b6)][_0x36b1c0(0x176)]['be'][_0x36b1c0(0x153)](0x4);}),_0x50a80d['nzkGV'](it,'should\x20have\x20a\x20default\x20sampling\x20interval,\x20greater\x20than\x20minimumSamplingInterval\x20',function(){const _0x1dc692=_0x3b229b;if(_0x50a80d['AEjLj'](_0x50a80d[_0x1dc692(0x191)],_0x1dc692(0x15d))){const _0x49c568=new _0x49f30a({'itemToMonitor':{'nodeId':_0x507fd3},'monitoringMode':_0x1c6ff8['Reporting'],'requestedParameters':{'clientHandle':0x7b,'queueSize':0xa,'samplingInterval':0xc8}}),_0x59bed6=_0x3fd4b9[_0x1dc692(0x1d4)](_0x1ea8c2,_0x4a5b4f[_0x1dc692(0x125)],_0x49c568),_0x1603af=_0x5cfadf[_0x1dc692(0x17f)](_0x59bed6[_0x1dc692(0x103)]);return _0x53de35(_0x1dc692(0x1ba))(),_0x1603af;}else MonitoredItem[_0x1dc692(0xf9)][_0x1dc692(0x176)]['be']['greaterThan'](MonitoredItem['minimumSamplingInterval']);}),it('should\x20have\x20a\x20maximum\x20sampling\x20interval,\x20greater\x20than\x20defaultSamplingInterval\x20',function(){const _0x3f59f2=_0x3b229b;MonitoredItem['maximumSamplingInterval'][_0x3f59f2(0x176)]['be'][_0x3f59f2(0x153)](MonitoredItem[_0x3f59f2(0xf9)]);}),_0x50a80d[_0x3b229b(0x120)](it,_0x3b229b(0x152),function(){const _0x1500f9=_0x3b229b,_0x2e7223=new Subscription({'publishingInterval':0x4d2,'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}});_0x2e7223[_0x1500f9(0x18b)](-0x1)['should'][_0x1500f9(0x1be)](_0x2e7223['publishingInterval']),_0x2e7223['terminate'](),_0x2e7223[_0x1500f9(0x140)]();});const _0x1c2e98={'readAttribute':function(_0x18368a,_0x188b20){const _0x1de366=_0x3b229b;return _0x18368a[_0x1de366(0x176)]['be'][_0x1de366(0x1e3)](SessionContext),_0x188b20[_0x1de366(0x176)]['eql'](AttributeIds[_0x1de366(0x110)]),eval('const _0x42bfcf = _0x1de366;JSON[_0x42bfcf(368)]({ \'safe\': !![] });'),new DataValue({'value':{'dataType':DataType[_0x1de366(0x1a9)],'value':0x0}});}};_0x50a80d[_0x3b229b(0x1d5)](it,_0x50a80d[_0x3b229b(0x1c4)],function(){const _0x56f7dc=_0x3b229b,_0x182369=new Subscription({'publishingInterval':0x4d2,'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}});_0x182369['adjustSamplingInterval'](-0x2,_0x1c2e98)[_0x56f7dc(0x176)][_0x56f7dc(0x1be)](_0x182369[_0x56f7dc(0x1ce)]),_0x182369['adjustSamplingInterval'](-0.02,_0x1c2e98)[_0x56f7dc(0x176)]['eql'](_0x182369[_0x56f7dc(0x1ce)]),_0x182369[_0x56f7dc(0x11c)](),_0x182369[_0x56f7dc(0x140)]();}),it(_0x50a80d[_0x3b229b(0x10a)],function(){const _0x595286=_0x3b229b,_0x5d27e1=new Subscription({'publishingInterval':0x4d2,'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}});_0x5d27e1[_0x595286(0x18b)](0x0,_0x1c2e98)[_0x595286(0x176)][_0x595286(0x1be)](0x0),_0x5d27e1[_0x595286(0x11c)](),_0x5d27e1[_0x595286(0x140)]();}),it(_0x50a80d[_0x3b229b(0x139)],function(){const _0x15474f=_0x3b229b,_0x22b4f7=new Subscription({'publishingInterval':0x4d2,'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}});_0x22b4f7[_0x15474f(0x18b)](0x1,_0x1c2e98)[_0x15474f(0x176)]['eql'](MonitoredItem[_0x15474f(0x1b6)]),_0x22b4f7[_0x15474f(0x11c)](),_0x22b4f7['dispose']();}),it(_0x3b229b(0x18e),function(){const _0x313396=_0x3b229b,_0x566bf9=new Subscription({'publishingInterval':0x4d2,'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}});_0x566bf9[_0x313396(0x18b)](0x2540be400,_0x1c2e98)[_0x313396(0x176)][_0x313396(0x1be)](MonitoredItem[_0x313396(0x13d)]),_0x566bf9[_0x313396(0x11c)](),_0x566bf9['dispose']();}),_0x50a80d[_0x3b229b(0x15f)](setInterval,_0x50a80d[_0x3b229b(0x1a7)],0x3e8),_0x50a80d[_0x3b229b(0x1c8)](it,_0x3b229b(0x174),function(){const _0x388f04=_0x3b229b,_0x37c0e2=new Subscription({'publishingInterval':0x4d2,'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}}),_0x411a1a=_0x50a80d[_0x388f04(0xf8)](MonitoredItem[_0x388f04(0x13d)]+MonitoredItem['minimumSamplingInterval'],0x2);_0x37c0e2[_0x388f04(0x18b)](_0x411a1a,_0x1c2e98)[_0x388f04(0x176)][_0x388f04(0x1be)](_0x411a1a),_0x37c0e2[_0x388f04(0x11c)](),_0x37c0e2[_0x388f04(0x140)]();}),_0x50a80d['nZAJr'](it,_0x50a80d[_0x3b229b(0x159)],function(){const _0x3810b7=_0x3b229b;if(_0x50a80d[_0x3810b7(0x180)](_0x50a80d[_0x3810b7(0x164)],_0x3810b7(0x19d)))_0x1f5e8f['simulateMonitoredItemAddingNotification']();else{const _0x1ead17=new Subscription({'publishingInterval':0x4d2,'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}}),_0x342aff=0x1;_0x1ead17[_0x3810b7(0x18b)](_0x342aff,_0x1c2e98)[_0x3810b7(0x176)][_0x3810b7(0x1be)](MonitoredItem[_0x3810b7(0x1b6)]),_0x1ead17[_0x3810b7(0x11c)](),_0x1ead17['dispose']();}});});function _0x48c8(){const _0x31fef2=['qzdaD','VSElb','Hsyyk','QJqie','CREATING','expired','Uhbcx','mieKc','ywHNg','LATE','61406qJnhGI','lifeTimeCount','maximumSamplingInterval','ZpjFW','KqNpP','dispose','RJVWu','node-opcua-address-space/testHelpers','split','removeMonitoredItem','DSOFe','EJcoI','hOpPs','vOMOt','fyCRM','cyfRR','./helper_fake_publish_engine','zLpch','node-opcua-data-value','JXRJi','27126nkFLEh','T2\x20-\x20when\x20a\x20Subscription\x20is\x20created,\x20the\x20first\x20Message\x20is\x20sent\x20at\x20the\x20end\x20of\x20the\x20first\x20publishing\x20cycle\x20to\x20inform\x20the\x20Client\x20that\x20the\x20Subscription\x20is\x20operational.\x20-\x20Case\x201\x20:\x20PublishRequest\x20in\x20Queue\x20&\x20\x20no\x20notification\x20available','shutdown','should\x20adjust\x20sampling\x20interval\x20to\x20subscription\x20publish\x20interval\x20when\x20requested\x20sampling\x20interval\x20===\x20-1','greaterThan','getCall','0|1|4|7|10|3|2|5|6|8|9','T16\x20-\x20should\x20return\x20BadMonitorItemInvalid\x20when\x20trying\x20to\x20remove\x20a\x20monitored\x20item\x20that\x20doesn\x27t\x20exist','KEEPALIVE','HxodE','UXPWP','hasPendingNotifications','Reporting','recordValue','ZnWOV','_keep_alive_counter','Fvcuq','getMessageForSequenceNumber','75QqxLRI','updateClock();','gvonR','iQBEH','jXpdr','tRyAO','tmCfm','notification','VTCdB','RootFolder','_get_future_sequence_number','fERaC','VIvPe','hKHPA','GXgdp','stringify','T14\x20-\x20a\x20subscription\x20send\x20a\x20first\x20message\x20at\x20the\x20end\x20of\x20the\x20first\x20publishing\x20cycle\x20without\x20waiting\x20for\x20the\x20maximum\x20\x20count\x20to\x20be\x20reached','resetLifeTimeAndKeepAliveCounters','should\x20leave\x20sampling\x20interval\x20to\x200\x20when\x20requested\x20sampling\x20interval\x20===\x200\x20(\x200\x20means\x20Event\x20Based\x20mode)','should\x20return\x20an\x20unmodified\x20sampling\x20interval\x20when\x20requested\x20sampling\x20is\x20in\x20valid\x20range','CLOSED','should','pendingNotificationsCount','ZHKaH','xhvQz','T8\x20-\x20a\x20subscription\x20that\x20has\x20been\x20pinged\x20by\x20client\x20before\x20the\x20lifetime\x20expiration\x20shall\x20not\x20terminate','addressSpace','acknowledgeNotification','edFHt','cbZCR','getMonitoredItem','ckYvj','IaHqR','IOopK','VYeAx','Subscription#adjustSamplingInterval','mLlII','T12-1\x20a\x20NotificationMessage\x20is\x20retained\x20in\x20this\x20queue\x20until\x20it\x20is\x20acknowledged','\x20-\x20case\x203\x20-\x20publish\x20Request\x20arrives\x20late\x20(after\x20first\x20publishInterval\x20is\x20over)','JyEvT','XJVLA','publishIntervalCount','adjustSamplingInterval','addNotificationMessage','gopyM','should\x20adjust\x20sampling\x20interval\x20to\x20maximum\x20when\x20requested\x20sampling\x20interval\x20is\x20too\x20high','add_subscription','W2\x20-\x20a\x20subscription\x20created\x20with\x20publishingEnabled=false\x20shall\x20not\x20emit\x20notification\x20(but\x20keepalive)','cVAGX','CLzSk','T15\x20-\x20the\x20first\x20Notification\x20Message\x20sent\x20on\x20a\x20Subscription\x20has\x20a\x20sequence\x20number\x20of\x201.','leXxX','SomeVariable','nMsml','oAUIk','uOKWh','lifeTimeCount\x20must\x20be\x20adjusted\x20to\x20be\x20at\x20least\x203\x20times\x20maxKeepAliveCount','1914435SQXgaw','UInt32','vFpXi','LObkh','\x20-\x20case\x204\x20-\x20publish\x20Request\x20arrives\x20late\x20(after\x20first\x20publishInterval\x20is\x20over)','\x203000\x20ms\x20with\x20a\x20publishingInterval:\x20100\x20ms\x20means\x20publishIntervalCount\x20=\x2030','spy','T3\x20-\x20when\x20a\x20Subscription\x20is\x20created,\x20the\x20first\x20Message\x20is\x20sent\x20at\x20the\x20end\x20of\x20the\x20first\x20publishing\x20cycle\x20to\x20inform\x20the\x20Client\x20that\x20the\x20Subscription\x20is\x20operational.\x20-\x20Case\x202\x20:\x20NoPublishRequest\x20in\x20Queue\x20&\x20\x20no\x20notification\x20available','FRpte','args','gGQxE','getOwnNamespace','zyLwW','mfMoj','node-opcua-status-code','Double','HOaJE','MoWRD','\x20-\x20case\x202\x20-\x20publish\x20Request\x20arrives\x20late\x20(after\x20first\x20publishInterval\x20is\x20over)','./helper','XmKNW','add_mock_monitored_item','dfGVQ','restore','alVbj','jjLBV','sinon','node-opcua-data-model','minimumSamplingInterval','T12-2\x20A\x20notificationMessage\x20that\x20hasn\x27t\x20been\x20acknowledge\x20should\x20be\x20accessiblef\x20for\x20republish','XRCYS','initialize','return\x20Object.keys({a:1});','Subscription#setPublishingMode','addVariable','xuzNq','eql','LqIfb','node-opcua-service-subscription','hcSMT','CDfbf','isCzj','iVSBV','callCount','pendingPublishRequestCount','_get_next_sequence_number','YfVDe','ZUQjE','hasUncollectedMonitoredItemNotifications','yeOQj','sequenceNumber','ICKzf','publishingInterval','lifeTimeCount\x20shall\x20be\x20unchanged\x20because\x20it\x20is\x20at\x20least\x203\x20times\x20maxKeepAliveCount','uMkYJ','ptWpH','_popNotificationToSend','qKiYv','createMonitoredItem','gAwwH','state','sentNotificationMessageCount','cOyGC','tick','GfFsd','T6\x20-\x20a\x20subscription\x20shall\x20send\x20its\x20first\x20notification\x20as\x20soon\x20as\x20the\x20publish\x20request\x20is\x20available','gWQKZ','UzIhQ','igtES','T4\x20-\x20a\x20subscription\x20that\x20have\x20a\x20new\x20notification\x20ready\x20at\x20the\x20end\x20of\x20the\x20\x20publishingInterval\x20shall\x20send\x20notifications\x20and\x20no\x20keepalive','TpAUQ','T10\x20-\x20a\x20subscription\x20shall\x20maintain\x20a\x20retransmission\x20queue\x20of\x20pending\x20NotificationMessages.','IsLWm','instanceOf','T12\x20-\x20NotificationMessages\x20are\x20retained\x20in\x20this\x20queue\x20until\x20they\x20are\x20acknowledged\x20or\x20until\x20they\x20have\x20been\x20in\x20the\x20queue\x20for\x20a\x20minimum\x20of\x20one\x20keep-alive\x20interval.','gQJiN','ddIiN','T13\x20-\x20a\x20subscription\x20that\x20have\x20no\x20monitored\x20items\x20shall\x20not\x20terminate\x20if\x20client\x20has\x20sent\x20enough\x20PublishRequest','node-opcua-service-read','aiIlz','node-opcua-address-space','NORMAL','should\x20adjust\x20sampling\x20interval\x20to\x20subscription\x20publish\x20interval\x20when\x20requested\x20sampling\x20interval\x20is\x20a\x20negative\x20value\x20!==\x20-1','eWhZM','keepalive','rDRHV','useFakeTimers','EDBPA','defaultSamplingInterval','rcGfd','_send_response','cNmyW','T12-4\x20-\x201.01\x20a\x20NotificationMessage\x20is\x20retained\x20until\x20it\x20has\x20been\x20in\x20the\x20queue\x20for\x20a\x20minimum\x20of\x20one\x20keep-alive\x20interval.','ucUab','3138674tjCNOA','zUlsD','node-opcua-leak-detector','maxNotificationsPerPublish','monitoredItemId','575765NnYQck','setPublishingMode','365932GLyTtL','xITdC','\x20-\x20case\x201\x20-\x20publish\x20Request\x20arrives\x20before\x20first\x20publishInterval\x20is\x20over\x20','3271290XWNOMy','migrC','dVvBl','eBgde','MkeYH','nodeId','monitoredItem','MinimumSamplingInterval','skwyN','BadMonitoredItemIdInvalid','mDlRa','TYHRf','node-opcua-variant','PtmAU','wzziq','3512AsZgPW','uBbAW','Obizy','equal','terminate','T7\x20-\x20a\x20subscription\x20that\x20hasn\x27t\x20been\x20pinged\x20by\x20client\x20within\x20the\x20lifetime\x20interval\x20shall\x20terminate','clock','EyYUu','FlBjc','EBNMy','simulateMonitoredItemAddingNotification','maxKeepAliveCount','Subscriptions','Both','notificationMessage','oNtCZ','aClcR','QzGAR','wThmh','yOKCB','describeWithLeakDetector','publishEngine','dkuVT','zhurP','TMABf'];_0x48c8=function(){return _0x31fef2;};return _0x48c8();}