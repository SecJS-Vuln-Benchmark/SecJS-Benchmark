'use strict';const _0x1e4fe6=_0x35d4;(function(_0x123e34,_0x4501cf){const _0x64a0c0=_0x35d4,_0x45db49=_0x123e34();while(!![]){try{const _0x574da8=-parseInt(_0x64a0c0(0x182))/0x1*(parseInt(_0x64a0c0(0x16f))/0x2)+-parseInt(_0x64a0c0(0x1cc))/0x3*(-parseInt(_0x64a0c0(0x142))/0x4)+parseInt(_0x64a0c0(0x18d))/0x5*(parseInt(_0x64a0c0(0x183))/0x6)+-parseInt(_0x64a0c0(0x11d))/0x7*(-parseInt(_0x64a0c0(0x19f))/0x8)+parseInt(_0x64a0c0(0x12c))/0x9+parseInt(_0x64a0c0(0xf5))/0xa+-parseInt(_0x64a0c0(0x150))/0xb*(parseInt(_0x64a0c0(0x114))/0xc);if(_0x574da8===_0x4501cf)break;else _0x45db49['push'](_0x45db49['shift']());}catch(_0x1c87c5){_0x45db49['push'](_0x45db49['shift']());}}}(_0x33f1,0x4dc22));function _0x33f1(){const _0x34a5a4=['instanceOf','pTCCs','wVZug','dWijp','getMessageForSequenceNumber','add_subscription','nodeId','SDlkt','HEbNM','T13\x20-\x20a\x20subscription\x20that\x20have\x20no\x20monitored\x20items\x20shall\x20not\x20terminate\x20if\x20client\x20has\x20sent\x20enough\x20PublishRequest','\x20the\x20initial\x20max\x20Keep\x20alive\x20','EsnSR','682856GbumFr','xYiWA','ePHDj','rHBWl','PuuhL','tcvef','_get_next_sequence_number','pendingPublishRequestCount','node-opcua-service-subscription','Double','cxfMU','equal','YTEiX','uSLzo','2159817OfVcWn','IOHIg','SomeVariable','notification','T9\x20-\x20a\x20subscription\x20that\x20has\x20no\x20notification\x20within\x20maxKeepAliveCount\x20shall\x20send\x20a\x20keepalive\x20signal\x20','Lrlsh','Wxcac','jRkgF','flUuj','iYEjk','KoGjk','HzhoH','FcGGU','maxKeepAliveCount','RaHOr','_popNotificationToSend','node-opcua-status-code','recordValue','_get_future_sequence_number','T15\x20-\x20the\x20first\x20Notification\x20Message\x20sent\x20on\x20a\x20Subscription\x20has\x20a\x20sequence\x20number\x20of\x201.','wlqsK','yMxdw','qvjML','shutdown','Reporting','YWnIR','uJBkH','safe','return\x20await\x20Promise.resolve(42);','terminate','Subscription#adjustSamplingInterval','2CQDbLb','wWZSF','T12-3\x20-\x201.02\x20the\x20server\x20shall\x20retain\x20a\x20maximum\x20number\x20of\x20un-acknowledged\x20NotificationMessage\x20until\x20they\x20are\x20acknowledged','simulateMonitoredItemAddingNotification','node-opcua-data-value','CQgRc','node-opcua-address-space','useFakeTimers','PGAFy','RorHv','split','FlHFD','TcNRp','./helper_fake_publish_engine','removeMonitoredItem','hKvjF','clock','\x20-\x20case\x202\x20-\x20publish\x20Request\x20arrives\x20late\x20(after\x20first\x20publishInterval\x20is\x20over)','should\x20adjust\x20sampling\x20interval\x20the\x20minimumSamplingInterval\x20when\x20requested\x20sampling\x20is\x20too\x20low','15857YswpFg','690tvhpdH','DVLyy','_on_PublishRequest','T11\x20-\x20a\x20subscription\x20shall\x20maintain\x20a\x20retransmission\x20queue\x20of\x20sent\x20NotificationMessages.','should\x20adjust\x20sampling\x20interval\x20to\x20subscription\x20publish\x20interval\x20when\x20requested\x20sampling\x20interval\x20===\x20-1','SMBlC','should\x20leave\x20sampling\x20interval\x20to\x200\x20when\x20requested\x20sampling\x20interval\x20===\x200\x20(\x200\x20means\x20Event\x20Based\x20mode)','T10\x20-\x20a\x20subscription\x20shall\x20maintain\x20a\x20retransmission\x20queue\x20of\x20pending\x20NotificationMessages.','QGfuo','rohaX','21295wXnsbw','T2\x20-\x20when\x20a\x20Subscription\x20is\x20created,\x20the\x20first\x20Message\x20is\x20sent\x20at\x20the\x20end\x20of\x20the\x20first\x20publishing\x20cycle\x20to\x20inform\x20the\x20Client\x20that\x20the\x20Subscription\x20is\x20operational.\x20-\x20Case\x201\x20:\x20PublishRequest\x20in\x20Queue\x20&\x20\x20no\x20notification\x20available','iyXLB','yhWno','BEQhY','QInCp','dispose','should\x20have\x20a\x20default\x20sampling\x20interval,\x20greater\x20than\x20minimumSamplingInterval\x20','keepalive','unHNQ','describeWithLeakDetector','SnzOq','LIsCk','ctseQ','restore','yaxlP','LATE','YPKYX','785816onlxaY','T12\x20-\x20NotificationMessages\x20are\x20retained\x20in\x20this\x20queue\x20until\x20they\x20are\x20acknowledged\x20or\x20until\x20they\x20have\x20been\x20in\x20the\x20queue\x20for\x20a\x20minimum\x20of\x20one\x20keep-alive\x20interval.','vDLxl','\x203000\x20ms\x20with\x20a\x20publishingInterval:\x20100\x20ms\x20means\x20publishIntervalCount\x20=\x2030','node-opcua-variant','Jaifs','3|2|0|1|4|5','T12-1\x20a\x20NotificationMessage\x20is\x20retained\x20in\x20this\x20queue\x20until\x20it\x20is\x20acknowledged','kByKq','rhlbR','callCount','VroOr','T3\x20-\x20when\x20a\x20Subscription\x20is\x20created,\x20the\x20first\x20Message\x20is\x20sent\x20at\x20the\x20end\x20of\x20the\x20first\x20publishing\x20cycle\x20to\x20inform\x20the\x20Client\x20that\x20the\x20Subscription\x20is\x20operational.\x20-\x20Case\x202\x20:\x20NoPublishRequest\x20in\x20Queue\x20&\x20\x20no\x20notification\x20available','rpeHe','YhuBV','JxFMl','should\x20return\x20an\x20unmodified\x20sampling\x20interval\x20when\x20requested\x20sampling\x20is\x20in\x20valid\x20range','addNotificationMessage','spy','log','W4\x20-\x20a\x20disabled\x20subscription\x20shall\x20continue\x20to\x20send\x20keep-alive\x20notifications','lnhHM','should','VuSLY','AMTzU','qQtxu','_send_response','NORMAL','pendingNotificationsCount','tick','egBdn','should\x20adjust\x20sampling\x20interval\x20to\x20minimum\x20when\x20requested\x20sampling\x20interval\x20===\x201','createMonitoredItem','SeIPz','ZnSIJ','Subscriptions','should\x20have\x20a\x20minimum\x20sampling\x20interval,\x20with\x20a\x20strictly\x20positive\x20value\x20(\x20which\x20is\x20the\x20fastest\x20possible\x20rate)','evXni','should\x20have\x20a\x20maximum\x20sampling\x20interval,\x20greater\x20than\x20defaultSamplingInterval\x20','_keep_alive_counter','OOPOK','lifeTimeCount','hkFUm','hasUncollectedMonitoredItemNotifications','hMrRE','6nfcXCe','VROrL','acknowledgeNotification','W1\x20-\x20a\x20subscription\x20created\x20with\x20publishingEnabled=true\x20shall\x20emit\x20notification','pmfPN','hasPendingNotifications','iFTUy','closing\x20a\x20Subscription\x20causes\x20its\x20MonitoredItems\x20to\x20be\x20deleted.\x20','T7\x20-\x20a\x20subscription\x20that\x20hasn\x27t\x20been\x20pinged\x20by\x20client\x20within\x20the\x20lifetime\x20interval\x20shall\x20terminate','lLhJr','iwwiK','pNKdB','LFMPQ','CEmEC','T16\x20-\x20should\x20return\x20BadMonitorItemInvalid\x20when\x20trying\x20to\x20remove\x20a\x20monitored\x20item\x20that\x20doesn\x27t\x20exist','MFtNH','qFxgm','MUrXB','mJJwd','getMonitoredItem','publishEngine','resetLifeTimeAndKeepAliveCounters','UrnhT','SXVFY','currentLifetimeCount','minimumSamplingInterval','kpAEM','plbil','eaitv','monitoredItemId','expired','HmBLJ','initialize','OWHbE','T12-2\x20A\x20notificationMessage\x20that\x20hasn\x27t\x20been\x20acknowledge\x20should\x20be\x20accessiblef\x20for\x20republish','kEWvV','samplingFunc','kfwgu','IOymk','T12-4\x20-\x201.01\x20a\x20NotificationMessage\x20is\x20retained\x20until\x20it\x20has\x20been\x20in\x20the\x20queue\x20for\x20a\x20minimum\x20of\x20one\x20keep-alive\x20interval.','JoBpn','yNOIf','Subscription#setPublishingMode','CrKJb','CREATING','./helper','lbhqb','notificationMessage','2073730vWPUxO','eql','sequenceNumber','otcwC','\x20-\x20case\x204\x20-\x20publish\x20Request\x20arrives\x20late\x20(after\x20first\x20publishInterval\x20is\x20over)','setPublishingMode','node-opcua-address-space/testHelpers','BadMonitoredItemIdInvalid','publishingInterval','sentNotificationMessageCount','ijNOV','adjustSamplingInterval','ONqJB','pwiZF','UInt32','\x20-\x20case\x204\x20(with\x20monitoredItem\x20-\x203x\x20value\x20writes)\x20-\x20publish\x20Request\x20arrives\x20late\x20(after\x20first\x20publishInterval\x20is\x20over)','VDqWx','wQRlu','JOyYy','TLekM','pvoZX','YTHeH','Ehapy','irjWc','getCall','DQSWM','tVOdK','should\x20adjust\x20sampling\x20interval\x20to\x20maximum\x20when\x20requested\x20sampling\x20interval\x20is\x20too\x20high','kbApM','\x20-\x20case\x201\x20-\x20publish\x20Request\x20arrives\x20before\x20first\x20publishInterval\x20is\x20over\x20','lHKDL','96jOEwqz','add_mock_monitored_item','lifeTimeCount\x20must\x20be\x20adjusted\x20to\x20be\x20at\x20least\x203\x20times\x20maxKeepAliveCount','TevGp','state','UNAgk','beUbg','UTSsw','CLOSED','42LquSSI','publishIntervalCount','maximumSamplingInterval','maxNotificationsPerPublish','mLlcv','xSQgY','Memcr','args','defaultSamplingInterval','HqCrK','nHwFN','T17\x20-\x20should\x20be\x20possible\x20to\x20\x20modify\x20subscription\x20publishing\x20interval','W3\x20-\x20a\x20publishing\x20subscription\x20can\x20be\x20disabled\x20and\x20re-enabled','MinimumSamplingInterval','hMTvA','2494647pBBCxD','node-opcua-leak-detector','stringify','KEEPALIVE','greaterThan','cdvfD','sdjtU','rWwuz','IMxFk','iECZk'];_0x33f1=function(){return _0x34a5a4;};return _0x33f1();}const should=require(_0x1e4fe6(0x1b5)),sinon=require('sinon'),{StatusCodes}=require(_0x1e4fe6(0x160)),{AttributeIds}=require('node-opcua-data-model'),{SessionContext}=require(_0x1e4fe6(0x175)),{DataValue}=require(_0x1e4fe6(0x173)),{TimestampsToReturn}=require('node-opcua-service-read'),{DataType}=require(_0x1e4fe6(0x1a3)),{MonitoredItemCreateRequest,DataChangeNotification,MonitoringMode,PublishRequest}=require(_0x1e4fe6(0x14a)),{get_mini_nodeset_filename}=require(_0x1e4fe6(0xfb)),{Subscription,SubscriptionState,MonitoredItem,ServerEngine,ServerSidePublishEngine,installSubscriptionMonitoring}=require('..'),add_mock_monitored_item=require(_0x1e4fe6(0xf2))[_0x1e4fe6(0x115)],{getFakePublishEngine}=require(_0x1e4fe6(0x17c)),mini_nodeset_filename=get_mini_nodeset_filename();let fake_publish_engine={};function _0x35d4(_0x41c923,_0x4fed68){const _0x33f1a6=_0x33f1();return _0x35d4=function(_0x35d4f9,_0x2bfa10){_0x35d4f9=_0x35d4f9-0xeb;let _0x1f1dff=_0x33f1a6[_0x35d4f9];return _0x1f1dff;},_0x35d4(_0x41c923,_0x4fed68);}const fakeNotificationData=[new DataChangeNotification()];function reconstruct_fake_publish_engine(){const _0x3acb8a=_0x1e4fe6,_0x167e14={'JxFMl':function(_0x15155d){return _0x15155d();}};fake_publish_engine=_0x167e14[_0x3acb8a(0x1ae)](getFakePublishEngine);}const describe=require(_0x1e4fe6(0x12d))[_0x1e4fe6(0x197)];describe(_0x1e4fe6(0x1c2),function(){const _0x5674ea=_0x1e4fe6,_0x4cf6e8={'BEQhY':function(_0x3c747a){return _0x3c747a();},'wWZSF':_0x5674ea(0x153),'hMTvA':function(_0x204c8a,_0x11ec4f){return _0x204c8a*_0x11ec4f;},'YWnIR':_0x5674ea(0x140),'MUrXB':function(_0x3d1ae4,_0x4b63ca){return _0x3d1ae4*_0x4b63ca;},'CrKJb':_0x5674ea(0x1a2),'xYiWA':function(_0xe297a6,_0x2ea678){return _0xe297a6*_0x2ea678;},'hkFUm':_0x5674ea(0x15e),'wlqsK':_0x5674ea(0x195),'hKvjF':function(_0x3e913b,_0x3fde97){return _0x3e913b*_0x3fde97;},'JoBpn':function(_0x5ed1db,_0x5b45e6){return _0x5ed1db*_0x5b45e6;},'uSLzo':function(_0x4cbcbe,_0x2d0ebb){return _0x4cbcbe-_0x2d0ebb;},'yNOIf':function(_0x2eec6c,_0x5f7698){return _0x2eec6c+_0x5f7698;},'HmBLJ':'expired','IWcpm':_0x5674ea(0x152),'gEzYa':_0x5674ea(0x103),'IOymk':_0x5674ea(0x1a5),'cdvfD':'terminated','YhuBV':'5|7|10|6|3|1|4|8|2|0|9','yaxlP':function(_0x1e876b,_0x82d30a){return _0x1e876b/_0x82d30a;},'iwwiK':function(_0x303a6a,_0x520201){return _0x303a6a(_0x520201);},'VDqWx':function(_0x26d1b1,_0x4b55bb,_0x1309bc){return _0x26d1b1(_0x4b55bb,_0x1309bc);},'evXni':function(_0x563c25,_0x1dfc44){return _0x563c25!==_0x1dfc44;},'vLaTh':_0x5674ea(0x1cd),'kByKq':'SDlkt','AMTzU':'monitoredItem','SluDF':function(_0x6bd5d7,_0x307e3a){return _0x6bd5d7*_0x307e3a;},'IMxFk':function(_0xdc045,_0x1fab46){return _0xdc045(_0x1fab46);},'TLekM':function(_0x3fd901,_0xf8548d,_0xd4ee97){return _0x3fd901(_0xf8548d,_0xd4ee97);},'yhWno':_0x5674ea(0x180),'IOHIg':function(_0x3d5480,_0x31e496,_0x107e68){return _0x3d5480(_0x31e496,_0x107e68);},'unHNQ':_0x5674ea(0x104),'pmfPN':function(_0x45cb6e,_0x967c4c){return _0x45cb6e*_0x967c4c;},'LFMPQ':_0x5674ea(0x16d),'hMrRE':function(_0x3ef47f,_0x2b7d1b){return _0x3ef47f*_0x2b7d1b;},'kfwgu':function(_0x2401c6,_0xd10716){return _0x2401c6*_0xd10716;},'VroOr':function(_0x502491,_0x20331c){return _0x502491+_0x20331c;},'rpeHe':function(_0x3f4b10,_0x517b2e){return _0x3f4b10-_0x517b2e;},'HIbwm':_0x5674ea(0x18b),'XgeWz':function(_0xb40828,_0x2baace){return _0xb40828*_0x2baace;},'RorHv':_0x5674ea(0x1b9),'xSQgY':function(_0x3a294f,_0x5d808c,_0x1cf9aa){return _0x3a294f(_0x5d808c,_0x1cf9aa);},'mFXvF':_0x5674ea(0x1ee),'wQRlu':_0x5674ea(0x171),'yMxdw':function(_0x29ce7c,_0x4135d5,_0x16ae18){return _0x29ce7c(_0x4135d5,_0x16ae18);},'YFoud':_0x5674ea(0xec),'Ehapy':function(_0x3c385d,_0x21f39d){return _0x3c385d*_0x21f39d;},'KoGjk':function(_0x3a1b8f,_0x3dd2e4){return _0x3a1b8f*_0x3dd2e4;},'lLhJr':function(_0x3b588f,_0x2762a6){return _0x3b588f===_0x2762a6;},'qFxgm':_0x5674ea(0x138),'iECZk':function(_0xecd460,_0x1b3e71){return _0xecd460(_0x1b3e71);},'pwiZF':function(_0x1ce053,_0x50f11d,_0x340d9f){return _0x1ce053(_0x50f11d,_0x340d9f);},'uJBkH':_0x5674ea(0x18e),'YPKYX':_0x5674ea(0x1ab),'OWHbE':'T5\x20-\x20a\x20subscription\x20that\x20have\x20only\x20some\x20notification\x20ready\x20before\x20max_keepalive_count\x20expired\x20shall\x20send\x20notifications\x20and\x20no\x20keepalive','gSqYr':'T6\x20-\x20a\x20subscription\x20shall\x20send\x20its\x20first\x20notification\x20as\x20soon\x20as\x20the\x20publish\x20request\x20is\x20available','FcGGU':function(_0x5ba032,_0x35181b,_0x4bdb99){return _0x5ba032(_0x35181b,_0x4bdb99);},'lnhHM':function(_0x9653b8,_0x552277,_0x5de16f){return _0x9653b8(_0x552277,_0x5de16f);},'rVtug':'T8\x20-\x20a\x20subscription\x20that\x20has\x20been\x20pinged\x20by\x20client\x20before\x20the\x20lifetime\x20expiration\x20shall\x20not\x20terminate','LIsCk':_0x5674ea(0x154),'YTEiX':function(_0x225a9b,_0x52fe39,_0x59c6c1){return _0x225a9b(_0x52fe39,_0x59c6c1);},'Jaifs':function(_0xf53e30,_0x1eedaa,_0x365f10){return _0xf53e30(_0x1eedaa,_0x365f10);},'kpAEM':_0x5674ea(0x1a0),'rHBWl':function(_0xe6fe8e,_0x41b3f8,_0x1de63f){return _0xe6fe8e(_0x41b3f8,_0x1de63f);},'Bfhet':_0x5674ea(0x13f),'tcvef':function(_0x246652,_0x48442a,_0x5380cd){return _0x246652(_0x48442a,_0x5380cd);},'qvjML':'T14\x20-\x20a\x20subscription\x20send\x20a\x20first\x20message\x20at\x20the\x20end\x20of\x20the\x20first\x20publishing\x20cycle\x20without\x20waiting\x20for\x20the\x20maximum\x20\x20count\x20to\x20be\x20reached','DQSWM':_0x5674ea(0x163),'kEWvV':_0x5674ea(0x1da),'vDLxl':_0x5674ea(0x1d3)},_0x11a951=this;_0x4cf6e8[_0x5674ea(0x1d6)](beforeEach,function(){const _0x1b9933=_0x5674ea;_0x11a951[_0x1b9933(0x17f)]=sinon[_0x1b9933(0x176)](),_0x4cf6e8[_0x1b9933(0x191)](reconstruct_fake_publish_engine);}),afterEach(function(){const _0x5208eb=_0x5674ea;_0x11a951[_0x5208eb(0x17f)]['restore']();}),_0x4cf6e8[_0x5674ea(0x102)](it,'T1\x20-\x20a\x20subscription\x20will\x20make\x20sure\x20that\x20lifeTimeCount\x20is\x20at\x20least\x203\x20times\x20maxKeepAliveCount',function(){const _0x39566e=_0x5674ea;{const _0x3b8c97=new Subscription({'publishingInterval':0x3e8,'maxKeepAliveCount':0x14,'lifeTimeCount':0x3c,'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}});_0x3b8c97['maxKeepAliveCount'][_0x39566e(0x1b5)][_0x39566e(0xf6)](0x14),_0x3b8c97[_0x39566e(0x1c8)]['should']['eql'](0x3c,'lifeTimeCount\x20shall\x20be\x20unchanged\x20because\x20it\x20is\x20at\x20least\x203\x20times\x20maxKeepAliveCount'),_0x3b8c97[_0x39566e(0x16d)](),_0x3b8c97[_0x39566e(0x193)]();}{const _0x2f0316=new Subscription({'publishingInterval':0x3e8,'maxKeepAliveCount':0x14,'lifeTimeCount':0x1,'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}});_0x2f0316[_0x39566e(0x15d)][_0x39566e(0x1b5)][_0x39566e(0xf6)](0x14),_0x2f0316[_0x39566e(0x1c8)]['should'][_0x39566e(0xf6)](0x3c,_0x39566e(0x116)),_0x2f0316[_0x39566e(0x16d)](),_0x2f0316['dispose']();}}),it(_0x4cf6e8[_0x5674ea(0x16a)],function(){const _0x38270e=_0x5674ea,_0x2ee90b=new Subscription({'publishingInterval':0x3e8,'maxKeepAliveCount':0x14,'lifeTimeCount':0x3c,'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}});fake_publish_engine['pendingPublishRequestCount']=0xa,_0x2ee90b[_0x38270e(0x15d)][_0x38270e(0x1b5)][_0x38270e(0xf6)](0x14);const _0x592d12=sinon['spy'](),_0x1033fd=sinon[_0x38270e(0x1b1)]();_0x2ee90b['on'](_0x4cf6e8[_0x38270e(0x170)],_0x592d12),_0x2ee90b['on']('keepalive',_0x1033fd),_0x2ee90b['state'][_0x38270e(0x1b5)][_0x38270e(0xf6)](SubscriptionState['CREATING']),_0x11a951[_0x38270e(0x17f)][_0x38270e(0x1bc)](_0x4cf6e8[_0x38270e(0x12b)](_0x2ee90b['publishingInterval'],_0x2ee90b['maxKeepAliveCount'])),_0x592d12[_0x38270e(0x1a9)][_0x38270e(0x1b5)]['be'][_0x38270e(0x14d)](0x0),_0x1033fd[_0x38270e(0x1a9)][_0x38270e(0x1b5)][_0x38270e(0x14d)](0x1,_0x4cf6e8['YWnIR']),_0x2ee90b[_0x38270e(0x118)][_0x38270e(0x1b5)][_0x38270e(0xf6)](SubscriptionState[_0x38270e(0x12f)]),_0x2ee90b[_0x38270e(0x1c6)][_0x38270e(0x1b5)][_0x38270e(0xf6)](0x0),_0x11a951[_0x38270e(0x17f)][_0x38270e(0x1bc)](_0x2ee90b[_0x38270e(0xfd)]),_0x592d12[_0x38270e(0x1a9)][_0x38270e(0x1b5)]['be'][_0x38270e(0x14d)](0x0),_0x1033fd['callCount']['should'][_0x38270e(0x14d)](0x1,_0x4cf6e8[_0x38270e(0x169)]),_0x2ee90b[_0x38270e(0x118)][_0x38270e(0x1b5)]['eql'](SubscriptionState['KEEPALIVE']),_0x2ee90b[_0x38270e(0x1c6)]['should'][_0x38270e(0xf6)](0x1),_0x11a951[_0x38270e(0x17f)][_0x38270e(0x1bc)](_0x2ee90b[_0x38270e(0xfd)]),_0x2ee90b['_keep_alive_counter'][_0x38270e(0x1b5)][_0x38270e(0xf6)](0x2),_0x11a951[_0x38270e(0x17f)][_0x38270e(0x1bc)](_0x4cf6e8[_0x38270e(0x12b)](_0x2ee90b['publishingInterval'],0x16)),_0x592d12[_0x38270e(0x1a9)][_0x38270e(0x1b5)]['be'][_0x38270e(0x14d)](0x0),_0x1033fd[_0x38270e(0x1a9)]['should'][_0x38270e(0x14d)](0x2),_0x2ee90b['state'][_0x38270e(0x1b5)][_0x38270e(0xf6)](SubscriptionState['KEEPALIVE']),_0x11a951[_0x38270e(0x17f)][_0x38270e(0x1bc)](_0x4cf6e8[_0x38270e(0x1dd)](_0x2ee90b[_0x38270e(0xfd)],0x16)),_0x592d12[_0x38270e(0x1a9)][_0x38270e(0x1b5)]['be'][_0x38270e(0x14d)](0x0),_0x1033fd[_0x38270e(0x1a9)]['should'][_0x38270e(0x14d)](0x3),_0x2ee90b[_0x38270e(0x118)][_0x38270e(0x1b5)][_0x38270e(0xf6)](SubscriptionState[_0x38270e(0x12f)]),_0x2ee90b[_0x38270e(0x16d)](),_0x2ee90b[_0x38270e(0x193)]();}),it(_0x4cf6e8[_0x5674ea(0x19e)],function(){const _0x353915=_0x5674ea;if(_0x4cf6e8[_0x353915(0x1c9)]===_0x4cf6e8['hkFUm']){const _0x49ad2b=new Subscription({'id':0x3e8,'publishingInterval':0x3e8,'maxKeepAliveCount':0x14,'lifeTimeCount':0x3c,'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}});_0x49ad2b[_0x353915(0x15d)][_0x353915(0x1b5)][_0x353915(0xf6)](0x14),fake_publish_engine['pendingPublishRequestCount']=0x0;const _0x59d762=sinon['spy'](),_0x5ccb18=sinon[_0x353915(0x1b1)]();_0x49ad2b['on'](_0x4cf6e8['wWZSF'],_0x59d762),_0x49ad2b['on'](_0x4cf6e8[_0x353915(0x164)],_0x5ccb18),_0x49ad2b[_0x353915(0x118)][_0x353915(0x1b5)][_0x353915(0xf6)](SubscriptionState[_0x353915(0xf1)]),_0x11a951[_0x353915(0x17f)][_0x353915(0x1bc)](_0x49ad2b['publishingInterval']),_0x59d762[_0x353915(0x1a9)]['should']['be'][_0x353915(0x14d)](0x0),_0x5ccb18[_0x353915(0x1a9)]['should'][_0x353915(0x14d)](0x0),_0x49ad2b[_0x353915(0x118)]['should'][_0x353915(0xf6)](SubscriptionState['CREATING']),_0x11a951[_0x353915(0x17f)]['tick'](_0x49ad2b['publishingInterval']*_0x49ad2b[_0x353915(0x15d)]),_0x59d762[_0x353915(0x1a9)]['should']['be'][_0x353915(0x14d)](0x0),_0x5ccb18[_0x353915(0x1a9)][_0x353915(0x1b5)]['equal'](0x0),_0x49ad2b[_0x353915(0x118)]['should']['eql'](SubscriptionState[_0x353915(0x19d)]),fake_publish_engine[_0x353915(0x149)]=0xa,_0x11a951['clock'][_0x353915(0x1bc)](0xa),_0x49ad2b['process_subscription'](),_0x49ad2b['state'][_0x353915(0x1b5)][_0x353915(0xf6)](SubscriptionState[_0x353915(0x12f)]),_0x59d762[_0x353915(0x1a9)][_0x353915(0x1b5)]['be'][_0x353915(0x14d)](0x0),_0x5ccb18[_0x353915(0x1a9)][_0x353915(0x1b5)][_0x353915(0x14d)](0x1),_0x11a951[_0x353915(0x17f)]['tick'](_0x4cf6e8[_0x353915(0x17e)](_0x49ad2b[_0x353915(0xfd)],_0x49ad2b[_0x353915(0x15d)])),_0x11a951[_0x353915(0x17f)][_0x353915(0x1bc)](_0x49ad2b[_0x353915(0xfd)]),_0x11a951['clock'][_0x353915(0x1bc)](_0x49ad2b['publishingInterval']),_0x11a951[_0x353915(0x17f)]['tick'](_0x49ad2b['publishingInterval']),_0x11a951['clock'][_0x353915(0x1bc)](_0x49ad2b['publishingInterval']),_0x59d762[_0x353915(0x1a9)][_0x353915(0x1b5)]['be'][_0x353915(0x14d)](0x0),_0x5ccb18[_0x353915(0x1a9)][_0x353915(0x1b5)][_0x353915(0x14d)](0x2),_0x49ad2b[_0x353915(0x118)][_0x353915(0x1b5)]['eql'](SubscriptionState[_0x353915(0x12f)]),_0x49ad2b['terminate'](),_0x49ad2b[_0x353915(0x193)]();}else{_0xd51aac[_0x353915(0x149)]=0x3e8;const _0x202de6=new _0xe5b3e2({'publishingInterval':0x64,'maxKeepAliveCount':0x14,'lifeTimeCount':0xa,'publishEngine':_0x2ead6c,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}}),_0x5f58c9=_0x379d88[_0x353915(0x1b1)](),_0x3254e2=_0x5f2c7c['spy'](),_0x45e075=_0x1fa2d2[_0x353915(0x1b1)]();_0x202de6['on']('notification',_0x5f58c9),_0x202de6['on']('keepalive',_0x3254e2),_0x202de6['on']('expired',_0x45e075),_0x202de6[_0x353915(0x15d)]['should'][_0x353915(0xf6)](0x14),_0x202de6['publishingInterval']['should']['eql'](0x64),_0x4d781b['clock'][_0x353915(0x1bc)](0x6*_0x202de6['publishingInterval']*_0x202de6[_0x353915(0x15d)]),_0x202de6[_0x353915(0x11e)][_0x353915(0x1b5)][_0x353915(0x14d)](0x78,_0x4cf6e8[_0x353915(0xf0)]),_0x45e075[_0x353915(0x1a9)][_0x353915(0x1b5)][_0x353915(0x14d)](0x0),_0x3254e2[_0x353915(0x1a9)][_0x353915(0x1b5)]['equal'](0x6),_0x5f58c9[_0x353915(0x1a9)]['should']['equal'](0x0),_0x466b07['clock'][_0x353915(0x1bc)](_0x4cf6e8[_0x353915(0x143)](_0x4cf6e8[_0x353915(0x143)](0x6,_0x202de6[_0x353915(0xfd)]),_0x202de6['maxKeepAliveCount'])),_0x45e075['callCount']['should'][_0x353915(0x14d)](0x0),_0x3254e2[_0x353915(0x1a9)][_0x353915(0x1b5)]['equal'](0xc),_0x5f58c9[_0x353915(0x1a9)][_0x353915(0x1b5)][_0x353915(0x14d)](0x0),_0x201129[_0x353915(0x17f)][_0x353915(0x1bc)](0x6*_0x202de6['publishingInterval']*_0x202de6[_0x353915(0x15d)]),_0x45e075[_0x353915(0x1a9)][_0x353915(0x1b5)][_0x353915(0x14d)](0x0),_0x3254e2[_0x353915(0x1a9)][_0x353915(0x1b5)]['equal'](0x12),_0x5f58c9['callCount'][_0x353915(0x1b5)][_0x353915(0x14d)](0x0),_0x202de6[_0x353915(0x16d)](),_0x202de6[_0x353915(0x193)]();}}),it('T4\x20-\x20a\x20subscription\x20that\x20have\x20a\x20new\x20notification\x20ready\x20at\x20the\x20end\x20of\x20the\x20\x20publishingInterval\x20shall\x20send\x20notifications\x20and\x20no\x20keepalive',function(){const _0x2b0093=_0x5674ea,_0x34a8ce=new Subscription({'id':0x3e8,'publishingInterval':0x3e8,'maxKeepAliveCount':0x14,'lifeTimeCount':0x3c,'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}});fake_publish_engine[_0x2b0093(0x149)]=0xa,_0x34a8ce[_0x2b0093(0x15d)][_0x2b0093(0x1b5)][_0x2b0093(0xf6)](0x14);const _0x5195ec=sinon[_0x2b0093(0x1b1)](),_0x92f39b=sinon[_0x2b0093(0x1b1)]();_0x34a8ce['on'](_0x4cf6e8['wWZSF'],_0x5195ec),_0x34a8ce['on']('keepalive',_0x92f39b);const _0x13e0ed=add_mock_monitored_item(_0x34a8ce);_0x13e0ed[_0x2b0093(0x172)](),_0x11a951[_0x2b0093(0x17f)]['tick'](_0x34a8ce['publishingInterval']),_0x13e0ed[_0x2b0093(0x172)](),_0x11a951[_0x2b0093(0x17f)]['tick'](_0x34a8ce[_0x2b0093(0xfd)]),_0x13e0ed[_0x2b0093(0x172)](),_0x11a951[_0x2b0093(0x17f)]['tick'](_0x34a8ce[_0x2b0093(0xfd)]),_0x13e0ed['simulateMonitoredItemAddingNotification'](),_0x11a951['clock'][_0x2b0093(0x1bc)](_0x4cf6e8[_0x2b0093(0xed)](_0x34a8ce[_0x2b0093(0xfd)],_0x4cf6e8['uSLzo'](_0x34a8ce[_0x2b0093(0x15d)],0x1))),_0x5195ec[_0x2b0093(0x1a9)][_0x2b0093(0x1b5)]['be'][_0x2b0093(0x130)](0x2),_0x92f39b[_0x2b0093(0x1a9)][_0x2b0093(0x1b5)]['equal'](0x0),_0x34a8ce[_0x2b0093(0x118)][_0x2b0093(0x1b5)][_0x2b0093(0xf6)](SubscriptionState[_0x2b0093(0x1ba)]),_0x11a951[_0x2b0093(0x17f)][_0x2b0093(0x1bc)](_0x34a8ce[_0x2b0093(0xfd)]*_0x4cf6e8[_0x2b0093(0xee)](_0x34a8ce[_0x2b0093(0x15d)],0x1)),_0x92f39b[_0x2b0093(0x1a9)][_0x2b0093(0x1b5)][_0x2b0093(0x14d)](0x1),_0x34a8ce[_0x2b0093(0x118)][_0x2b0093(0x1b5)][_0x2b0093(0xf6)](SubscriptionState[_0x2b0093(0x12f)]),_0x34a8ce[_0x2b0093(0x16d)](),_0x34a8ce[_0x2b0093(0x193)]();}),it(_0x4cf6e8[_0x5674ea(0x1ed)],function(){const _0x15e3da=_0x5674ea;fake_publish_engine[_0x15e3da(0x149)]['should'][_0x15e3da(0xf6)](0x0),fake_publish_engine[_0x15e3da(0x149)]=0xa;const _0x13a10b=new Subscription({'publishingInterval':0x3e8,'lifeTimeCount':0x186a0,'maxKeepAliveCount':0x4,'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}});_0x13a10b[_0x15e3da(0x118)]['should']['eql'](SubscriptionState[_0x15e3da(0xf1)]);const _0x3c5069=add_mock_monitored_item(_0x13a10b),_0x252cd8=sinon[_0x15e3da(0x1b1)](),_0x508d1d=sinon[_0x15e3da(0x1b1)](),_0x58b0cd=sinon[_0x15e3da(0x1b1)]();_0x13a10b['on'](_0x15e3da(0x153),_0x252cd8),_0x13a10b['on'](_0x4cf6e8[_0x15e3da(0x164)],_0x508d1d),_0x13a10b['on'](_0x4cf6e8[_0x15e3da(0x1eb)],_0x58b0cd),_0x11a951['clock'][_0x15e3da(0x1bc)](_0x13a10b[_0x15e3da(0xfd)]),_0x11a951['clock']['tick'](_0x13a10b[_0x15e3da(0xfd)]),_0x11a951[_0x15e3da(0x17f)][_0x15e3da(0x1bc)](_0x13a10b['publishingInterval']),_0x11a951['clock'][_0x15e3da(0x1bc)](_0x13a10b['publishingInterval']),_0x11a951[_0x15e3da(0x17f)][_0x15e3da(0x1bc)](_0x13a10b[_0x15e3da(0xfd)]),_0x11a951[_0x15e3da(0x17f)]['tick'](_0x13a10b[_0x15e3da(0xfd)]),_0x252cd8[_0x15e3da(0x1a9)][_0x15e3da(0x1b5)][_0x15e3da(0x14d)](0x1),_0x508d1d['callCount'][_0x15e3da(0x1b5)][_0x15e3da(0x14d)](0x1),_0x58b0cd['callCount'][_0x15e3da(0x1b5)]['equal'](0x0),_0x13a10b['state'][_0x15e3da(0x1b5)]['eql'](SubscriptionState[_0x15e3da(0x12f)]),_0x3c5069['simulateMonitoredItemAddingNotification'](),_0x11a951['clock'][_0x15e3da(0x1bc)](_0x13a10b[_0x15e3da(0xfd)]),_0x252cd8[_0x15e3da(0x1a9)][_0x15e3da(0x1b5)][_0x15e3da(0x14d)](0x2),_0x13a10b[_0x15e3da(0x118)]['should']['eql'](SubscriptionState['NORMAL']),_0x11a951[_0x15e3da(0x17f)][_0x15e3da(0x1bc)](_0x13a10b[_0x15e3da(0xfd)]),_0x11a951['clock'][_0x15e3da(0x1bc)](_0x13a10b['publishingInterval']),_0x11a951['clock'][_0x15e3da(0x1bc)](_0x13a10b['publishingInterval']),_0x11a951[_0x15e3da(0x17f)]['tick'](_0x13a10b[_0x15e3da(0xfd)]),_0x252cd8[_0x15e3da(0x1a9)][_0x15e3da(0x1b5)][_0x15e3da(0x14d)](0x2),_0x508d1d[_0x15e3da(0x1a9)][_0x15e3da(0x1b5)][_0x15e3da(0x14d)](0x2),_0x58b0cd[_0x15e3da(0x1a9)][_0x15e3da(0x1b5)][_0x15e3da(0x14d)](0x0),_0x13a10b[_0x15e3da(0x118)]['should'][_0x15e3da(0xf6)](SubscriptionState[_0x15e3da(0x12f)]),_0x3c5069[_0x15e3da(0x172)](),_0x11a951[_0x15e3da(0x17f)][_0x15e3da(0x1bc)](_0x13a10b['publishingInterval']),_0x252cd8[_0x15e3da(0x1a9)][_0x15e3da(0x1b5)]['equal'](0x3),_0x508d1d[_0x15e3da(0x1a9)]['should'][_0x15e3da(0x14d)](0x2),_0x58b0cd[_0x15e3da(0x1a9)][_0x15e3da(0x1b5)][_0x15e3da(0x14d)](0x0),_0x13a10b[_0x15e3da(0x118)][_0x15e3da(0x1b5)]['eql'](SubscriptionState[_0x15e3da(0x1ba)]),_0x11a951[_0x15e3da(0x17f)]['tick'](_0x13a10b[_0x15e3da(0xfd)]),_0x252cd8['callCount'][_0x15e3da(0x1b5)][_0x15e3da(0x14d)](0x3),_0x508d1d[_0x15e3da(0x1a9)][_0x15e3da(0x1b5)][_0x15e3da(0x14d)](0x2),_0x58b0cd[_0x15e3da(0x1a9)][_0x15e3da(0x1b5)]['equal'](0x0),_0x13a10b[_0x15e3da(0x118)]['should'][_0x15e3da(0xf6)](SubscriptionState[_0x15e3da(0x1ba)]),_0x11a951[_0x15e3da(0x17f)]['tick'](_0x13a10b[_0x15e3da(0xfd)]),_0x252cd8[_0x15e3da(0x1a9)][_0x15e3da(0x1b5)][_0x15e3da(0x14d)](0x3),_0x508d1d[_0x15e3da(0x1a9)]['should'][_0x15e3da(0x14d)](0x2),_0x58b0cd[_0x15e3da(0x1a9)]['should'][_0x15e3da(0x14d)](0x0),_0x13a10b[_0x15e3da(0x118)][_0x15e3da(0x1b5)][_0x15e3da(0xf6)](SubscriptionState[_0x15e3da(0x1ba)]),_0x11a951[_0x15e3da(0x17f)][_0x15e3da(0x1bc)](_0x13a10b[_0x15e3da(0xfd)]),_0x252cd8[_0x15e3da(0x1a9)]['should'][_0x15e3da(0x14d)](0x3),_0x508d1d[_0x15e3da(0x1a9)][_0x15e3da(0x1b5)][_0x15e3da(0x14d)](0x2),_0x58b0cd[_0x15e3da(0x1a9)][_0x15e3da(0x1b5)][_0x15e3da(0x14d)](0x0),_0x13a10b[_0x15e3da(0x118)][_0x15e3da(0x1b5)][_0x15e3da(0xf6)](SubscriptionState[_0x15e3da(0x1ba)]),_0x11a951[_0x15e3da(0x17f)][_0x15e3da(0x1bc)](_0x13a10b[_0x15e3da(0xfd)]),_0x252cd8[_0x15e3da(0x1a9)][_0x15e3da(0x1b5)][_0x15e3da(0x14d)](0x3),_0x508d1d[_0x15e3da(0x1a9)][_0x15e3da(0x1b5)][_0x15e3da(0x14d)](0x3),_0x58b0cd[_0x15e3da(0x1a9)][_0x15e3da(0x1b5)][_0x15e3da(0x14d)](0x0),_0x13a10b[_0x15e3da(0x118)][_0x15e3da(0x1b5)]['eql'](SubscriptionState[_0x15e3da(0x12f)]),_0x13a10b[_0x15e3da(0x16d)](),_0x13a10b['dispose']();}),describe(_0x4cf6e8['gSqYr'],function(){const _0x3ad856=_0x5674ea,_0x22223b={'egBdn':function(_0x401b7a){return _0x401b7a();},'CQgRc':function(_0xfe39d6,_0x9af054){const _0x3b431b=_0x35d4;return _0x4cf6e8[_0x3b431b(0x1c4)](_0xfe39d6,_0x9af054);},'TcNRp':_0x4cf6e8['vLaTh'],'pNKdB':_0x3ad856(0x10c),'hKbLM':_0x4cf6e8[_0x3ad856(0x1a7)],'dWijp':_0x4cf6e8['wWZSF'],'CiZVO':'keepalive','plbil':_0x4cf6e8[_0x3ad856(0x1b7)],'Wxcac':_0x3ad856(0x15b),'vLDkf':function(_0x148a18,_0x2a5e9d){const _0xb9c28b=_0x3ad856;return _0x4cf6e8[_0xb9c28b(0x14f)](_0x148a18,_0x2a5e9d);},'UrnhT':function(_0x1bc289,_0x516cb3){return _0x4cf6e8['SluDF'](_0x1bc289,_0x516cb3);},'SeIPz':function(_0x2e4af6,_0x43957b){return _0x2e4af6/_0x43957b;},'nHwFN':function(_0x336d91,_0x9ca3e6){const _0x28e89d=_0x3ad856;return _0x4cf6e8[_0x28e89d(0x134)](_0x336d91,_0x9ca3e6);}};let _0x4fa22f,_0x5a8496,_0x427a73,_0x2cfe9f;function _0x2277d0(_0x5ca65c,_0x41464e){const _0x1c27a6=_0x3ad856;if(_0x22223b[_0x1c27a6(0x174)](_0x22223b[_0x1c27a6(0x17b)],_0x22223b[_0x1c27a6(0x1d7)])){const _0x41523f=new MonitoredItemCreateRequest({'itemToMonitor':{'nodeId':_0x41464e},'monitoringMode':MonitoringMode['Reporting'],'requestedParameters':{'clientHandle':0x7b,'queueSize':0xa,'samplingInterval':0xc8}}),_0x57a363=_0x5ca65c[_0x1c27a6(0x1bf)](_0x4fa22f,TimestampsToReturn['Both'],_0x41523f),_0x8b0c64=_0x5ca65c[_0x1c27a6(0x1df)](_0x57a363[_0x1c27a6(0x1e9)]);return eval('const _0x4da6c0 = _0x1c27a6;JSON[_0x4da6c0(302)]({ \'safe\': !![] });'),_0x8b0c64;}else _0x22223b[_0x1c27a6(0x1bd)](_0x474bad);}_0x4cf6e8[_0x3ad856(0x134)](before,function(_0x325c54){const _0x3f0e60=_0x3ad856,_0x1ca279={'qQtxu':_0x4cf6e8['IWcpm'],'wGGTe':_0x4cf6e8['gEzYa']};_0x2cfe9f=new ServerEngine(),_0x2cfe9f[_0x3f0e60(0x1ec)]({'nodeset_filename':mini_nodeset_filename},function(){const _0x583988=_0x3f0e60;_0x4fa22f=_0x2cfe9f['addressSpace'],_0x5a8496=_0x4fa22f['getOwnNamespace']();const _0xc7ccbb=_0x5a8496['addVariable']({'componentOf':'RootFolder','browseName':_0x1ca279[_0x583988(0x1b8)],'dataType':_0x1ca279['wGGTe'],'value':{'dataType':DataType['UInt32'],'value':0x0}});_0x427a73=_0xc7ccbb[_0x583988(0x13c)],_0x325c54();});}),after(async()=>{const _0xea919d=_0x3ad856;await _0x2cfe9f[_0xea919d(0x167)](),_0x2cfe9f=null;});let _0x3b36b;function _0x4abafc(_0x79692a,_0xa07317){const _0x50467b=_0x3ad856,_0x582a27=new PublishRequest({});_0x79692a[_0x50467b(0x185)](_0x582a27,_0xa07317),_0x11a951[_0x50467b(0x17f)][_0x50467b(0x1bc)](0x0);}let _0x196c09,_0x16a4f7,_0x1b7138,_0x2998ca;beforeEach(function(){const _0xc91342=_0x3ad856;if(_0x22223b[_0xc91342(0x174)](_0x22223b['hKbLM'],_0xc91342(0x13d))){const _0x1084bc=new _0x35cee9({'publishingInterval':0x4d2,'publishEngine':_0x3d034e,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}});_0x1084bc[_0xc91342(0x100)](0x0,_0x23800c)[_0xc91342(0x1b5)]['eql'](0x0),_0x1084bc[_0xc91342(0x16d)](),_0x1084bc['dispose']();}else _0x3b36b=new ServerSidePublishEngine(),_0x196c09=new Subscription({'id':0x3e8,'publishingInterval':0x64,'maxKeepAliveCount':0xa,'lifeTimeCount':0x1e,'publishingEnabled':!![],'publishEngine':_0x3b36b,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}}),_0x3b36b[_0xc91342(0x13b)](_0x196c09),_0x16a4f7=sinon['spy'](),_0x1b7138=sinon[_0xc91342(0x1b1)](),_0x2998ca=sinon[_0xc91342(0x1b1)](),_0x196c09['on'](_0x22223b[_0xc91342(0x139)],_0x16a4f7),_0x196c09['on'](_0x22223b['CiZVO'],_0x1b7138),_0x196c09['on']('expired',_0x2998ca),_0x196c09['on'](_0x22223b[_0xc91342(0x1e7)],function(_0x5ddbc0){const _0x12b224=_0xc91342;_0x5ddbc0[_0x12b224(0x1f0)]=function(){};});}),afterEach(function(_0x320397){const _0x1fca64=_0x3ad856,_0x5d61ee=_0x4cf6e8[_0x1fca64(0xeb)][_0x1fca64(0x179)]('|');let _0x528659=0x0;while(!![]){switch(_0x5d61ee[_0x528659++]){case'0':_0x196c09[_0x1fca64(0x193)]();continue;case'1':_0x196c09=null;continue;case'2':_0x196c09[_0x1fca64(0x16d)]();continue;case'3':_0x196c09['on'](_0x4cf6e8[_0x1fca64(0x131)],function(){_0x320397();});continue;case'4':_0x3b36b[_0x1fca64(0x167)]();continue;case'5':_0x3b36b['dispose']();continue;}break;}}),it(_0x3ad856(0x112),async()=>{const _0x479c82=_0x3ad856;if(_0x479c82(0x15b)===_0x22223b[_0x479c82(0x156)])_0x4abafc(_0x196c09[_0x479c82(0x1e0)]),_0x196c09[_0x479c82(0x118)][_0x479c82(0x1b5)][_0x479c82(0xf6)](SubscriptionState[_0x479c82(0xf1)]),_0x11a951[_0x479c82(0x17f)][_0x479c82(0x1bc)](_0x196c09[_0x479c82(0xfd)]),_0x196c09[_0x479c82(0x118)][_0x479c82(0x1b5)][_0x479c82(0xf6)](SubscriptionState['CREATING']),_0x1b7138[_0x479c82(0x1a9)]['should']['eql'](0x0),_0x11a951[_0x479c82(0x17f)][_0x479c82(0x1bc)](_0x196c09[_0x479c82(0xfd)]*_0x22223b['vLDkf'](_0x196c09[_0x479c82(0x15d)],0x1)),_0x196c09['state'][_0x479c82(0x1b5)][_0x479c82(0xf6)](SubscriptionState[_0x479c82(0x12f)]),_0x1b7138[_0x479c82(0x1a9)][_0x479c82(0x1b5)]['eql'](0x1),_0x11a951[_0x479c82(0x17f)][_0x479c82(0x1bc)](_0x22223b[_0x479c82(0x1e2)](_0x196c09['publishingInterval'],_0x196c09[_0x479c82(0x15d)])/0x2),_0x1b7138[_0x479c82(0x1a9)][_0x479c82(0x1b5)][_0x479c82(0xf6)](0x1),_0x196c09[_0x479c82(0x118)][_0x479c82(0x1b5)][_0x479c82(0xf6)](SubscriptionState['KEEPALIVE']),_0x11a951[_0x479c82(0x17f)]['tick'](_0x196c09['publishingInterval']),_0x1b7138[_0x479c82(0x1a9)][_0x479c82(0x1b5)][_0x479c82(0xf6)](0x1),_0x11a951[_0x479c82(0x17f)]['tick'](_0x22223b[_0x479c82(0x1c0)](_0x196c09['publishingInterval']*_0x196c09[_0x479c82(0x15d)],0x2)),_0x196c09[_0x479c82(0x118)][_0x479c82(0x1b5)][_0x479c82(0xf6)](SubscriptionState[_0x479c82(0x19d)]);else{const _0x16eb04=new _0x2116fa({'publishingInterval':0x4d2,'publishEngine':_0x5400f0,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}});_0x16eb04[_0x479c82(0x100)](0x1,_0x5b5965)[_0x479c82(0x1b5)]['eql'](_0x42ba26[_0x479c82(0x1e5)]),_0x16eb04['terminate'](),_0x16eb04['dispose']();}}),_0x4cf6e8[_0x3ad856(0x108)](it,_0x4cf6e8[_0x3ad856(0x190)],async()=>{const _0x5a3a3a=_0x3ad856,_0x57a52b=_0x4cf6e8[_0x5a3a3a(0x1ad)][_0x5a3a3a(0x179)]('|');let _0x10d269=0x0;while(!![]){switch(_0x57a52b[_0x10d269++]){case'0':_0x11a951[_0x5a3a3a(0x17f)]['tick'](_0x196c09['publishingInterval']);continue;case'1':_0x196c09[_0x5a3a3a(0x118)][_0x5a3a3a(0x1b5)]['eql'](SubscriptionState['CREATING']);continue;case'2':_0x1b7138[_0x5a3a3a(0x1a9)][_0x5a3a3a(0x1b5)][_0x5a3a3a(0xf6)](0x1);continue;case'3':_0x1b7138[_0x5a3a3a(0x1a9)]['should']['eql'](0x0);continue;case'4':_0x11a951[_0x5a3a3a(0x17f)][_0x5a3a3a(0x1bc)](_0x196c09[_0x5a3a3a(0xfd)]*_0x196c09[_0x5a3a3a(0x15d)]);continue;case'5':_0x11a951['clock'][_0x5a3a3a(0x1bc)](_0x4cf6e8[_0x5a3a3a(0x19c)](_0x196c09[_0x5a3a3a(0xfd)]*_0x196c09[_0x5a3a3a(0x15d)],0x2));continue;case'6':_0x4cf6e8[_0x5a3a3a(0x1d6)](_0x4abafc,_0x196c09[_0x5a3a3a(0x1e0)]);continue;case'7':_0x196c09['state'][_0x5a3a3a(0x1b5)][_0x5a3a3a(0xf6)](SubscriptionState['CREATING']);continue;case'8':_0x196c09[_0x5a3a3a(0x118)][_0x5a3a3a(0x1b5)]['eql'](SubscriptionState[_0x5a3a3a(0x12f)]);continue;case'9':_0x1b7138[_0x5a3a3a(0x1a9)][_0x5a3a3a(0x1b5)][_0x5a3a3a(0xf6)](0x1);continue;case'10':_0x1b7138[_0x5a3a3a(0x1a9)][_0x5a3a3a(0x1b5)][_0x5a3a3a(0xf6)](0x0);continue;}break;}}),it('\x20-\x20case\x203\x20-\x20publish\x20Request\x20arrives\x20late\x20(after\x20first\x20publishInterval\x20is\x20over)',function(){const _0x3b975a=_0x3ad856,_0x2de36d=_0x4cf6e8[_0x3b975a(0x105)](_0x2277d0,_0x196c09,_0x427a73);_0x11a951['clock'][_0x3b975a(0x1bc)](_0x196c09[_0x3b975a(0xfd)]),_0x1b7138[_0x3b975a(0x1a9)][_0x3b975a(0x1b5)][_0x3b975a(0xf6)](0x0),_0x196c09['state'][_0x3b975a(0x1b5)][_0x3b975a(0xf6)](SubscriptionState[_0x3b975a(0xf1)]),_0x2de36d[_0x3b975a(0x161)](new DataValue({'value':{'dataType':DataType['UInt32'],'value':0x3e8}})),_0x16a4f7['callCount'][_0x3b975a(0x1b5)]['eql'](0x0),_0x4cf6e8[_0x3b975a(0x1d6)](_0x4abafc,_0x196c09[_0x3b975a(0x1e0)]),_0x196c09['state']['should'][_0x3b975a(0xf6)](SubscriptionState[_0x3b975a(0x1ba)]),_0x16a4f7[_0x3b975a(0x1a9)][_0x3b975a(0x1b5)][_0x3b975a(0xf6)](0x1),_0x11a951[_0x3b975a(0x17f)][_0x3b975a(0x1bc)](_0x196c09[_0x3b975a(0xfd)]),_0x16a4f7['callCount']['should'][_0x3b975a(0xf6)](0x1),_0x196c09['state']['should'][_0x3b975a(0xf6)](SubscriptionState[_0x3b975a(0x1ba)]),_0x1b7138[_0x3b975a(0x1a9)][_0x3b975a(0x1b5)][_0x3b975a(0xf6)](0x0),_0x11a951[_0x3b975a(0x17f)][_0x3b975a(0x1bc)](_0x196c09['publishingInterval']),_0x1b7138['callCount'][_0x3b975a(0x1b5)][_0x3b975a(0xf6)](0x0);}),it(_0x3ad856(0xf9),function(){const _0x3595ca=_0x3ad856,_0x533222=_0x2277d0(_0x196c09,_0x427a73);_0x11a951[_0x3595ca(0x17f)][_0x3595ca(0x1bc)](_0x196c09['publishingInterval']),_0x1b7138[_0x3595ca(0x1a9)][_0x3595ca(0x1b5)][_0x3595ca(0xf6)](0x0),_0x196c09[_0x3595ca(0x118)][_0x3595ca(0x1b5)][_0x3595ca(0xf6)](SubscriptionState[_0x3595ca(0xf1)]),_0x533222[_0x3595ca(0x161)](new DataValue({'value':{'dataType':DataType[_0x3595ca(0x103)],'value':0x3e8}})),_0x16a4f7[_0x3595ca(0x1a9)]['should'][_0x3595ca(0xf6)](0x0),_0x4abafc(_0x196c09[_0x3595ca(0x1e0)]),_0x196c09[_0x3595ca(0x118)][_0x3595ca(0x1b5)][_0x3595ca(0xf6)](SubscriptionState['NORMAL']),_0x16a4f7[_0x3595ca(0x1a9)]['should'][_0x3595ca(0xf6)](0x1),_0x11a951['clock'][_0x3595ca(0x1bc)](_0x196c09[_0x3595ca(0xfd)]),_0x16a4f7[_0x3595ca(0x1a9)]['should'][_0x3595ca(0xf6)](0x1),_0x196c09[_0x3595ca(0x118)][_0x3595ca(0x1b5)][_0x3595ca(0xf6)](SubscriptionState[_0x3595ca(0x1ba)]),_0x1b7138[_0x3595ca(0x1a9)]['should']['eql'](0x0),_0x11a951[_0x3595ca(0x17f)][_0x3595ca(0x1bc)](_0x196c09[_0x3595ca(0xfd)]),_0x1b7138[_0x3595ca(0x1a9)][_0x3595ca(0x1b5)][_0x3595ca(0xf6)](0x0);}),_0x4cf6e8[_0x3ad856(0x151)](it,_0x4cf6e8[_0x3ad856(0x196)],function(){const _0x518596=_0x3ad856,_0x19cd75=_0x2277d0(_0x196c09,_0x427a73);_0x11a951['clock'][_0x518596(0x1bc)](_0x196c09[_0x518596(0xfd)]),_0x1b7138[_0x518596(0x1a9)][_0x518596(0x1b5)]['eql'](0x0),_0x196c09[_0x518596(0x118)]['should']['eql'](SubscriptionState[_0x518596(0xf1)]),_0x19cd75['recordValue'](new DataValue({'value':{'dataType':DataType['UInt32'],'value':0x3e8}})),_0x16a4f7[_0x518596(0x1a9)][_0x518596(0x1b5)][_0x518596(0xf6)](0x0),_0x22223b[_0x518596(0x127)](_0x4abafc,_0x196c09[_0x518596(0x1e0)]),_0x16a4f7[_0x518596(0x1a9)][_0x518596(0x1b5)][_0x518596(0xf6)](0x1),_0x196c09[_0x518596(0x118)][_0x518596(0x1b5)][_0x518596(0xf6)](SubscriptionState[_0x518596(0x1ba)]),_0x11a951[_0x518596(0x17f)][_0x518596(0x1bc)](_0x196c09['publishingInterval']),_0x196c09[_0x518596(0x118)][_0x518596(0x1b5)][_0x518596(0xf6)](SubscriptionState[_0x518596(0x1ba)]),_0x19cd75['recordValue'](new DataValue({'value':{'dataType':DataType[_0x518596(0x103)],'value':0x3e9}})),_0x196c09[_0x518596(0x118)][_0x518596(0x1b5)][_0x518596(0xf6)](SubscriptionState['NORMAL']),_0x11a951[_0x518596(0x17f)][_0x518596(0x1bc)](_0x196c09[_0x518596(0xfd)]),_0x196c09['state']['should'][_0x518596(0xf6)](SubscriptionState['LATE']),_0x4abafc(_0x196c09[_0x518596(0x1e0)]),_0x11a951[_0x518596(0x17f)][_0x518596(0x1bc)](_0x196c09['publishingInterval']),_0x16a4f7[_0x518596(0x1a9)][_0x518596(0x1b5)][_0x518596(0xf6)](0x2),_0x196c09[_0x518596(0x1d1)][_0x518596(0x1b5)]['eql'](![]),_0x196c09[_0x518596(0x1ca)]['should'][_0x518596(0xf6)](![]),_0x196c09[_0x518596(0x118)][_0x518596(0x1b5)][_0x518596(0xf6)](SubscriptionState['NORMAL']),_0x11a951[_0x518596(0x17f)]['tick'](_0x196c09[_0x518596(0xfd)]),_0x196c09[_0x518596(0x118)]['should']['eql'](SubscriptionState[_0x518596(0x1ba)]),_0x19cd75[_0x518596(0x161)](new DataValue({'value':{'dataType':DataType['UInt32'],'value':0x3ea}})),_0x196c09[_0x518596(0x118)][_0x518596(0x1b5)][_0x518596(0xf6)](SubscriptionState['NORMAL']),_0x11a951[_0x518596(0x17f)][_0x518596(0x1bc)](_0x196c09[_0x518596(0xfd)]),_0x4abafc(_0x196c09['publishEngine']),_0x11a951[_0x518596(0x17f)][_0x518596(0x1bc)](_0x196c09[_0x518596(0xfd)]),_0x16a4f7[_0x518596(0x1a9)]['should']['eql'](0x3),_0x196c09[_0x518596(0x118)]['should']['eql'](SubscriptionState[_0x518596(0x1ba)]),_0x1b7138[_0x518596(0x1a9)][_0x518596(0x1b5)][_0x518596(0xf6)](0x0),_0x11a951[_0x518596(0x17f)][_0x518596(0x1bc)](_0x196c09['publishingInterval']),_0x1b7138[_0x518596(0x1a9)][_0x518596(0x1b5)][_0x518596(0xf6)](0x0);});}),_0x4cf6e8[_0x5674ea(0x15c)](it,_0x5674ea(0x1d4),function(){const _0x58aba4=_0x5674ea,_0x595859=new Subscription({'publishingInterval':0xfa,'maxKeepAliveCount':0x3,'lifeTimeCount':0x1e,'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}});![]&&installSubscriptionMonitoring(_0x595859),_0x595859['publishingInterval'][_0x58aba4(0x1b5)][_0x58aba4(0xf6)](0xfa),_0x595859[_0x58aba4(0x15d)]['should']['eql'](0x3),_0x595859[_0x58aba4(0x1c8)][_0x58aba4(0x1b5)]['eql'](0x1e);const _0x90e24f=sinon[_0x58aba4(0x1b1)]();_0x595859['on'](_0x4cf6e8[_0x58aba4(0x1eb)],_0x90e24f);const _0x188ea9=sinon[_0x58aba4(0x1b1)](_0x595859,'terminate');_0x595859[_0x58aba4(0x118)][_0x58aba4(0x1b5)][_0x58aba4(0xf6)](SubscriptionState['CREATING']),_0x595859[_0x58aba4(0x1e4)][_0x58aba4(0x1b5)][_0x58aba4(0xf6)](0x0),_0x11a951[_0x58aba4(0x17f)][_0x58aba4(0x1bc)](_0x595859[_0x58aba4(0xfd)]*(_0x595859[_0x58aba4(0x1c8)]-0x3)),_0x595859[_0x58aba4(0x118)][_0x58aba4(0x1b5)][_0x58aba4(0xf6)](SubscriptionState[_0x58aba4(0x19d)]),_0x188ea9[_0x58aba4(0x1a9)][_0x58aba4(0x1b5)]['equal'](0x0),_0x90e24f['callCount'][_0x58aba4(0x1b5)]['equal'](0x0),_0x11a951['clock'][_0x58aba4(0x1bc)](_0x4cf6e8[_0x58aba4(0x17e)](_0x595859[_0x58aba4(0xfd)],0x3)),_0x11a951[_0x58aba4(0x17f)][_0x58aba4(0x1bc)](_0x4cf6e8['pmfPN'](_0x595859[_0x58aba4(0xfd)],_0x595859[_0x58aba4(0x15d)])),_0x188ea9[_0x58aba4(0x1a9)][_0x58aba4(0x1b5)][_0x58aba4(0x14d)](0x1),_0x90e24f['callCount'][_0x58aba4(0x1b5)][_0x58aba4(0x14d)](0x1),_0x595859['state'][_0x58aba4(0x1b5)][_0x58aba4(0xf6)](SubscriptionState[_0x58aba4(0x11c)]),_0x595859[_0x58aba4(0x16d)](),_0x595859[_0x58aba4(0x193)]();}),_0x4cf6e8[_0x5674ea(0x1b4)](it,_0x4cf6e8['rVtug'],function(){const _0x1b00e6=_0x5674ea,_0x3acd9b=new Subscription({'publishingInterval':0x3e8,'maxKeepAliveCount':0x14,'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}}),_0xdf0389=sinon[_0x1b00e6(0x1b1)]();_0x3acd9b['on'](_0x1b00e6(0x1ea),_0xdf0389);const _0x482fa9=sinon[_0x1b00e6(0x1b1)](_0x3acd9b,_0x4cf6e8[_0x1b00e6(0x1d8)]);_0x11a951[_0x1b00e6(0x17f)][_0x1b00e6(0x1bc)](_0x3acd9b[_0x1b00e6(0xfd)]*(_0x3acd9b['lifeTimeCount']-0x2)),_0x482fa9['callCount'][_0x1b00e6(0x1b5)][_0x1b00e6(0x14d)](0x0),_0xdf0389['callCount'][_0x1b00e6(0x1b5)]['equal'](0x0),_0x3acd9b[_0x1b00e6(0x1e1)](),_0x11a951[_0x1b00e6(0x17f)][_0x1b00e6(0x1bc)](_0x4cf6e8[_0x1b00e6(0x1cb)](_0x3acd9b[_0x1b00e6(0xfd)],0x4)),_0x482fa9[_0x1b00e6(0x1a9)]['should'][_0x1b00e6(0x14d)](0x0),_0xdf0389[_0x1b00e6(0x1a9)]['should']['equal'](0x0),_0x11a951['clock']['tick'](_0x4cf6e8[_0x1b00e6(0x1f1)](_0x3acd9b[_0x1b00e6(0xfd)],_0x4cf6e8[_0x1b00e6(0x1aa)](_0x3acd9b[_0x1b00e6(0x1c8)],0x2))),_0x482fa9['callCount'][_0x1b00e6(0x1b5)][_0x1b00e6(0x14d)](0x1),_0xdf0389['callCount'][_0x1b00e6(0x1b5)][_0x1b00e6(0x14d)](0x1),_0x3acd9b[_0x1b00e6(0x16d)](),_0x3acd9b[_0x1b00e6(0x193)]();}),_0x4cf6e8[_0x5674ea(0x165)](it,_0x4cf6e8[_0x5674ea(0x199)],function(){const _0x5c718a=_0x5674ea;fake_publish_engine[_0x5c718a(0x149)]=0x3e8;const _0x1282b0=new Subscription({'publishingInterval':0x3e8,'lifeTimeCount':0x186a0,'maxKeepAliveCount':0x14,'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}}),_0x1c4bd2=sinon[_0x5c718a(0x1b1)](),_0x1abe12=sinon[_0x5c718a(0x1b1)](),_0x512b29=sinon['spy']();_0x1282b0['on'](_0x4cf6e8['HmBLJ'],_0x1c4bd2),_0x1282b0['on'](_0x4cf6e8[_0x5c718a(0x170)],_0x1abe12),_0x1282b0['on'](_0x4cf6e8[_0x5c718a(0x164)],_0x512b29);const _0x47dbfc=sinon['spy'](_0x1282b0,_0x5c718a(0x16d));_0x11a951[_0x5c718a(0x17f)][_0x5c718a(0x1bc)](_0x4cf6e8[_0x5c718a(0x143)](_0x1282b0[_0x5c718a(0xfd)],_0x4cf6e8[_0x5c718a(0x1ac)](_0x1282b0['maxKeepAliveCount'],0x5))),_0x47dbfc[_0x5c718a(0x1a9)][_0x5c718a(0x1b5)][_0x5c718a(0x14d)](0x0),_0x1c4bd2['callCount'][_0x5c718a(0x1b5)][_0x5c718a(0x14d)](0x0),_0x1abe12['callCount'][_0x5c718a(0x1b5)][_0x5c718a(0x14d)](0x0),_0x512b29[_0x5c718a(0x1a9)]['should'][_0x5c718a(0x14d)](0x0),_0x11a951['clock'][_0x5c718a(0x1bc)](_0x1282b0[_0x5c718a(0xfd)]*(_0x1282b0[_0x5c718a(0x15d)]+0x5)),_0x47dbfc['callCount'][_0x5c718a(0x1b5)][_0x5c718a(0x14d)](0x0),_0x1c4bd2['callCount'][_0x5c718a(0x1b5)][_0x5c718a(0x14d)](0x0),_0x1abe12[_0x5c718a(0x1a9)][_0x5c718a(0x1b5)][_0x5c718a(0x14d)](0x0),_0x512b29[_0x5c718a(0x1a9)][_0x5c718a(0x1b5)][_0x5c718a(0x14d)](0x2),_0x11a951['clock']['tick'](_0x1282b0[_0x5c718a(0xfd)]*(_0x1282b0['maxKeepAliveCount']+0x3)),_0x47dbfc[_0x5c718a(0x1a9)][_0x5c718a(0x1b5)][_0x5c718a(0x14d)](0x0),_0x1c4bd2[_0x5c718a(0x1a9)][_0x5c718a(0x1b5)][_0x5c718a(0x14d)](0x0),_0x1abe12[_0x5c718a(0x1a9)][_0x5c718a(0x1b5)][_0x5c718a(0x14d)](0x0),_0x512b29['callCount']['should'][_0x5c718a(0x14d)](0x3),_0x1282b0[_0x5c718a(0x16d)](),_0x1282b0[_0x5c718a(0x193)]();}),_0x4cf6e8[_0x5674ea(0x14e)](it,_0x5674ea(0x18a),function(){const _0x242c7f=_0x5674ea;if(_0x4cf6e8['HIbwm']===_0x242c7f(0x18b)){const _0x57eb68=new Subscription({'id':0x4d2,'publishingInterval':0x3e8,'lifeTimeCount':0x3e8,'maxKeepAliveCount':0x14,'publishEngine':fake_publish_engine,'maxNotificationsPerPublish':0x2,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}});_0x57eb68[_0x242c7f(0x120)]['should']['eql'](0x2);const _0x1b0c45=add_mock_monitored_item(_0x57eb68);_0x1b0c45[_0x242c7f(0x172)](),_0x1b0c45[_0x242c7f(0x172)](),_0x1b0c45[_0x242c7f(0x172)](),_0x1b0c45[_0x242c7f(0x172)](),_0x1b0c45[_0x242c7f(0x172)](),_0x1b0c45['simulateMonitoredItemAddingNotification'](),_0x1b0c45[_0x242c7f(0x172)](),_0x1b0c45[_0x242c7f(0x172)](),_0x57eb68[_0x242c7f(0x1bb)][_0x242c7f(0x1b5)][_0x242c7f(0x14d)](0x0),_0x11a951['clock'][_0x242c7f(0x1bc)](_0x57eb68[_0x242c7f(0xfd)]),_0x57eb68[_0x242c7f(0x118)]['should']['eql'](SubscriptionState['LATE']),fake_publish_engine[_0x242c7f(0x149)]=0x4,_0x11a951[_0x242c7f(0x17f)]['tick'](_0x57eb68[_0x242c7f(0xfd)]),_0x57eb68['sentNotificationMessageCount'][_0x242c7f(0x1b5)][_0x242c7f(0x14d)](0x1),_0x57eb68['pendingNotificationsCount'][_0x242c7f(0x1b5)][_0x242c7f(0x14d)](0x7),_0x57eb68[_0x242c7f(0x16d)](),_0x57eb68[_0x242c7f(0x193)]();}else{_0xb908af['pendingPublishRequestCount']=0x3e8;const _0x135bff=new _0x1f0e2e({'publishingInterval':0x64,'maxKeepAliveCount':0x5,'lifeTimeCount':0xa,'publishingEnabled':![],'publishEngine':_0x129966,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}}),_0xfddc6f=_0x5e617d[_0x242c7f(0x1b1)](),_0x201cfe=_0x5df1f8[_0x242c7f(0x1b1)](),_0x5082d6=_0x484f15['spy']();_0x135bff['on'](_0x4cf6e8[_0x242c7f(0x170)],_0xfddc6f),_0x135bff['on'](_0x242c7f(0x195),_0x201cfe),_0x135bff['on'](_0x4cf6e8['HmBLJ'],_0x5082d6);const _0x473920=_0x4cf6e8[_0x242c7f(0x1d6)](_0x45be37,_0x135bff);_0x473920[_0x242c7f(0x172)](),_0x3e56f6[_0x242c7f(0x17f)][_0x242c7f(0x1bc)](_0x135bff[_0x242c7f(0xfd)]),_0x473920[_0x242c7f(0x172)](),_0x1b196f[_0x242c7f(0x17f)][_0x242c7f(0x1bc)](_0x135bff[_0x242c7f(0xfd)]),_0x473920[_0x242c7f(0x172)](),_0x43b39a[_0x242c7f(0x17f)]['tick'](_0x135bff[_0x242c7f(0xfd)]),_0x473920[_0x242c7f(0x172)](),_0x52986c[_0x242c7f(0x17f)][_0x242c7f(0x1bc)](_0x135bff[_0x242c7f(0xfd)]),_0x473920[_0x242c7f(0x172)](),_0xf3e809['clock'][_0x242c7f(0x1bc)](_0x135bff[_0x242c7f(0xfd)]),_0x1c907e['clock']['tick'](_0x4cf6e8[_0x242c7f(0x143)](0x4,_0x135bff[_0x242c7f(0xfd)])*_0x135bff[_0x242c7f(0x15d)]),_0x201cfe['callCount']['should'][_0x242c7f(0x14d)](0x5),_0xfddc6f[_0x242c7f(0x1a9)][_0x242c7f(0x1b5)][_0x242c7f(0xf6)](0x0),_0x135bff[_0x242c7f(0x16d)](),_0x135bff[_0x242c7f(0x193)](),_0x4cf6e8[_0x242c7f(0x191)](_0x4c9564);}}),_0x4cf6e8[_0x5674ea(0x1a4)](it,_0x5674ea(0x186),function(){const _0x5542e6=_0x5674ea,_0x4aa9c5=new Subscription({'id':0x4d2,'publishingInterval':0x3e8,'lifeTimeCount':0x3e8,'maxKeepAliveCount':0x14,'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}});fake_publish_engine[_0x5542e6(0x149)]=0xa;const _0x1e05ca=add_mock_monitored_item(_0x4aa9c5);_0x4aa9c5[_0x5542e6(0x1bb)][_0x5542e6(0x1b5)][_0x5542e6(0x14d)](0x0),_0x4aa9c5[_0x5542e6(0xfe)]['should'][_0x5542e6(0x14d)](0x0),_0x1e05ca[_0x5542e6(0x172)](),_0x11a951[_0x5542e6(0x17f)][_0x5542e6(0x1bc)](_0x4aa9c5[_0x5542e6(0xfd)]),_0x4aa9c5[_0x5542e6(0x1bb)][_0x5542e6(0x1b5)][_0x5542e6(0x14d)](0x0),_0x4aa9c5[_0x5542e6(0xfe)]['should'][_0x5542e6(0x14d)](0x1),_0x1e05ca['simulateMonitoredItemAddingNotification'](),_0x11a951[_0x5542e6(0x17f)][_0x5542e6(0x1bc)](_0x4aa9c5[_0x5542e6(0xfd)]),_0x4aa9c5['pendingNotificationsCount'][_0x5542e6(0x1b5)][_0x5542e6(0x14d)](0x0),_0x4aa9c5[_0x5542e6(0xfe)]['should'][_0x5542e6(0x14d)](0x2),_0x4aa9c5[_0x5542e6(0x16d)](),_0x4aa9c5[_0x5542e6(0x193)]();}),describe(_0x4cf6e8[_0x5674ea(0x1e6)],function(){const _0x245605=_0x5674ea,_0x44a756={'uLEJO':_0x4cf6e8[_0x245605(0x178)],'otcwC':function(_0x3bf171,_0x2802f0){return _0x3bf171(_0x2802f0);}};_0x4cf6e8[_0x245605(0x108)](it,_0x245605(0x1a6),function(){const _0x10c89b=_0x245605,_0x4c4a52=new Subscription({'id':0x4d2,'publishingInterval':0x3e8,'lifeTimeCount':0x3e8,'maxKeepAliveCount':0x14,'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}}),_0xddbced=sinon[_0x10c89b(0x1b1)](fake_publish_engine,_0x44a756['uLEJO']),_0x554459=_0x44a756[_0x10c89b(0xf8)](add_mock_monitored_item,_0x4c4a52);_0x554459[_0x10c89b(0x172)](),_0x554459[_0x10c89b(0x172)](),_0x4c4a52[_0x10c89b(0xfe)][_0x10c89b(0x1b5)][_0x10c89b(0x14d)](0x0),fake_publish_engine[_0x10c89b(0x149)]=0xa,_0x11a951[_0x10c89b(0x17f)][_0x10c89b(0x1bc)](_0x4c4a52[_0x10c89b(0xfd)]),_0x4c4a52[_0x10c89b(0xfe)][_0x10c89b(0x1b5)]['equal'](0x1),fake_publish_engine[_0x10c89b(0x149)][_0x10c89b(0x1b5)][_0x10c89b(0xf6)](0x9),_0xddbced['callCount'][_0x10c89b(0x1b5)]['equal'](0x1),_0x554459[_0x10c89b(0x172)](),_0x11a951[_0x10c89b(0x17f)][_0x10c89b(0x1bc)](_0x4c4a52[_0x10c89b(0xfd)]),_0x4c4a52[_0x10c89b(0xfe)][_0x10c89b(0x1b5)][_0x10c89b(0x14d)](0x2);const _0x2e58dc=_0xddbced[_0x10c89b(0x10d)](0x0)[_0x10c89b(0x124)][0x1][_0x10c89b(0xf4)];_0x2e58dc['sequenceNumber']['should'][_0x10c89b(0xf6)](0x1);const _0x2e2efc=_0xddbced[_0x10c89b(0x10d)](0x1)[_0x10c89b(0x124)][0x1][_0x10c89b(0xf4)];_0x2e2efc[_0x10c89b(0xf7)][_0x10c89b(0x1b5)][_0x10c89b(0xf6)](0x2),_0x4c4a52[_0x10c89b(0x1ce)](_0x2e2efc[_0x10c89b(0xf7)]),_0x4c4a52[_0x10c89b(0xfe)][_0x10c89b(0x1b5)]['equal'](0x1),_0x4c4a52['acknowledgeNotification'](_0x2e58dc[_0x10c89b(0xf7)]),_0x4c4a52[_0x10c89b(0xfe)][_0x10c89b(0x1b5)]['equal'](0x0),_0x4c4a52[_0x10c89b(0x16d)](),_0x4c4a52[_0x10c89b(0x193)]();}),_0x4cf6e8[_0x245605(0x122)](it,_0x4cf6e8['mFXvF'],function(){const _0xd80a98=_0x245605;fake_publish_engine[_0xd80a98(0x149)]=0xa;const _0x4aafc8=sinon[_0xd80a98(0x1b1)](fake_publish_engine,_0xd80a98(0x1b9)),_0x3ef1c4=new Subscription({'id':0x4d2,'publishingInterval':0x3e8,'lifeTimeCount':0x3e8,'maxKeepAliveCount':0x14,'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}}),_0x4bb176=add_mock_monitored_item(_0x3ef1c4);should(_0x3ef1c4[_0xd80a98(0x13a)](0x23))[_0xd80a98(0xf6)](null),_0x4bb176['simulateMonitoredItemAddingNotification'](),_0x4bb176[_0xd80a98(0x172)](),_0x3ef1c4[_0xd80a98(0xfe)][_0xd80a98(0x1b5)][_0xd80a98(0x14d)](0x0),_0x11a951['clock'][_0xd80a98(0x1bc)](_0x3ef1c4['publishingInterval']),_0x3ef1c4[_0xd80a98(0xfe)][_0xd80a98(0x1b5)][_0xd80a98(0x14d)](0x1);const _0xe659c6=_0x4aafc8[_0xd80a98(0x10d)](0x0)[_0xd80a98(0x124)][0x1]['notificationMessage'];_0xe659c6['sequenceNumber']['should'][_0xd80a98(0xf6)](0x1);const _0x2ec775=_0xe659c6[_0xd80a98(0xf7)],_0x235ebf=_0x3ef1c4[_0xd80a98(0x13a)](_0x2ec775);_0x235ebf[_0xd80a98(0xf7)]['should']['eql'](_0x2ec775),_0x3ef1c4[_0xd80a98(0x16d)](),_0x3ef1c4['dispose']();}),it(_0x4cf6e8[_0x245605(0x106)],function(){}),_0x4cf6e8['yMxdw'](xit,_0x4cf6e8['YFoud'],function(){const _0x4448fa=_0x245605,_0x1d9cae=new Subscription({'id':0x4d2,'publishingInterval':0x3e8,'lifeTimeCount':0x3e8,'maxKeepAliveCount':0x14,'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}});_0x1d9cae[_0x4448fa(0x1b0)](fakeNotificationData),_0x1d9cae[_0x4448fa(0x15f)](),_0x1d9cae[_0x4448fa(0xfe)][_0x4448fa(0x1b5)]['equal'](0x1),_0x11a951['clock'][_0x4448fa(0x1bc)](_0x4cf6e8['XgeWz'](0x3e8,0x5)),_0x1d9cae[_0x4448fa(0x1b0)](fakeNotificationData),_0x1d9cae[_0x4448fa(0x15f)](),_0x1d9cae[_0x4448fa(0xfe)][_0x4448fa(0x1b5)][_0x4448fa(0x14d)](0x2),_0x11a951[_0x4448fa(0x17f)][_0x4448fa(0x1bc)](0x3e8*0x14),_0x1d9cae[_0x4448fa(0xfe)][_0x4448fa(0x1b5)][_0x4448fa(0x14d)](0x1),_0x11a951['clock']['tick'](_0x4cf6e8[_0x4448fa(0x1d0)](0x3e8,0x64)),_0x1d9cae[_0x4448fa(0xfe)][_0x4448fa(0x1b5)][_0x4448fa(0x14d)](0x0),_0x1d9cae[_0x4448fa(0x16d)](),_0x1d9cae[_0x4448fa(0x193)]();});}),_0x4cf6e8[_0x5674ea(0x145)](it,_0x4cf6e8['Bfhet'],function(){const _0x19aa35=_0x5674ea;fake_publish_engine[_0x19aa35(0x149)]=0x3e8;const _0x16c110=new Subscription({'publishingInterval':0x64,'maxKeepAliveCount':0x14,'lifeTimeCount':0xa,'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}}),_0x11df2f=sinon[_0x19aa35(0x1b1)](),_0xfec730=sinon[_0x19aa35(0x1b1)](),_0x3e45da=sinon[_0x19aa35(0x1b1)]();_0x16c110['on'](_0x19aa35(0x153),_0x11df2f),_0x16c110['on'](_0x19aa35(0x195),_0xfec730),_0x16c110['on'](_0x19aa35(0x1ea),_0x3e45da),_0x16c110['maxKeepAliveCount']['should'][_0x19aa35(0xf6)](0x14),_0x16c110[_0x19aa35(0xfd)][_0x19aa35(0x1b5)][_0x19aa35(0xf6)](0x64),_0x11a951[_0x19aa35(0x17f)][_0x19aa35(0x1bc)](_0x4cf6e8[_0x19aa35(0x1dd)](0x6,_0x16c110[_0x19aa35(0xfd)])*_0x16c110[_0x19aa35(0x15d)]),_0x16c110[_0x19aa35(0x11e)][_0x19aa35(0x1b5)]['equal'](0x78,_0x19aa35(0x1a2)),_0x3e45da[_0x19aa35(0x1a9)]['should'][_0x19aa35(0x14d)](0x0),_0xfec730[_0x19aa35(0x1a9)][_0x19aa35(0x1b5)]['equal'](0x6),_0x11df2f[_0x19aa35(0x1a9)][_0x19aa35(0x1b5)][_0x19aa35(0x14d)](0x0),_0x11a951[_0x19aa35(0x17f)][_0x19aa35(0x1bc)](_0x4cf6e8[_0x19aa35(0x10b)](0x6,_0x16c110[_0x19aa35(0xfd)])*_0x16c110[_0x19aa35(0x15d)]),_0x3e45da[_0x19aa35(0x1a9)][_0x19aa35(0x1b5)]['equal'](0x0),_0xfec730[_0x19aa35(0x1a9)][_0x19aa35(0x1b5)]['equal'](0xc),_0x11df2f[_0x19aa35(0x1a9)][_0x19aa35(0x1b5)][_0x19aa35(0x14d)](0x0),_0x11a951['clock'][_0x19aa35(0x1bc)](_0x4cf6e8[_0x19aa35(0x15a)](_0x4cf6e8[_0x19aa35(0x1cb)](0x6,_0x16c110[_0x19aa35(0xfd)]),_0x16c110['maxKeepAliveCount'])),_0x3e45da['callCount'][_0x19aa35(0x1b5)][_0x19aa35(0x14d)](0x0),_0xfec730['callCount'][_0x19aa35(0x1b5)][_0x19aa35(0x14d)](0x12),_0x11df2f[_0x19aa35(0x1a9)][_0x19aa35(0x1b5)][_0x19aa35(0x14d)](0x0),_0x16c110[_0x19aa35(0x16d)](),_0x16c110[_0x19aa35(0x193)]();}),_0x4cf6e8[_0x5674ea(0x147)](it,_0x4cf6e8[_0x5674ea(0x166)],function(){const _0x18336a=_0x5674ea,_0x1316d6={'YHjYO':_0x4cf6e8['RorHv'],'irDkd':function(_0x104925,_0x1ed522){return _0x104925(_0x1ed522);}};if(_0x4cf6e8[_0x18336a(0x1d5)](_0x4cf6e8[_0x18336a(0x1dc)],_0x18336a(0x123))){_0x1764df[_0x18336a(0x149)]=0xa;const _0x4bdf1e=_0x2c05e7[_0x18336a(0x1b1)](_0x4757fd,_0x1316d6['YHjYO']),_0x1497fe=new _0x4ba8a8({'id':0x4d2,'publishingInterval':0x3e8,'lifeTimeCount':0x3e8,'maxKeepAliveCount':0x14,'publishEngine':_0x3da91e,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}}),_0x68a4ca=_0x15bf7b(_0x1497fe);_0x1316d6['irDkd'](_0x36a6ab,_0x1497fe['getMessageForSequenceNumber'](0x23))[_0x18336a(0xf6)](null),_0x68a4ca[_0x18336a(0x172)](),_0x68a4ca[_0x18336a(0x172)](),_0x1497fe[_0x18336a(0xfe)][_0x18336a(0x1b5)][_0x18336a(0x14d)](0x0),_0x2d9927['clock'][_0x18336a(0x1bc)](_0x1497fe['publishingInterval']),_0x1497fe['sentNotificationMessageCount']['should']['equal'](0x1);const _0x37251b=_0x4bdf1e[_0x18336a(0x10d)](0x0)[_0x18336a(0x124)][0x1]['notificationMessage'];_0x37251b[_0x18336a(0xf7)][_0x18336a(0x1b5)]['eql'](0x1);const _0x34a85b=_0x37251b[_0x18336a(0xf7)],_0x4476b9=_0x1497fe[_0x18336a(0x13a)](_0x34a85b);_0x4476b9[_0x18336a(0xf7)][_0x18336a(0x1b5)][_0x18336a(0xf6)](_0x34a85b),_0x1497fe[_0x18336a(0x16d)](),_0x1497fe['dispose']();}else{fake_publish_engine[_0x18336a(0x149)]=0x3e8;const _0x47b6ca=new Subscription({'publishingInterval':0x3e8,'maxKeepAliveCount':0x14,'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}}),_0x36a067=add_mock_monitored_item(_0x47b6ca);_0x36a067[_0x18336a(0x172)]();const _0x53c352=sinon[_0x18336a(0x1b1)](),_0x11dda5=sinon[_0x18336a(0x1b1)](),_0x50f920=sinon['spy']();_0x47b6ca['on'](_0x18336a(0x153),_0x53c352),_0x47b6ca['on'](_0x18336a(0x195),_0x11dda5),_0x47b6ca['on'](_0x4cf6e8[_0x18336a(0x1eb)],_0x50f920),_0x11a951['clock'][_0x18336a(0x1bc)](0xc8),_0x11dda5['callCount'][_0x18336a(0x1b5)][_0x18336a(0x14d)](0x0),_0x53c352['callCount'][_0x18336a(0x1b5)][_0x18336a(0xf6)](0x0),_0x11a951[_0x18336a(0x17f)]['tick'](0x3e8),_0x11dda5[_0x18336a(0x1a9)][_0x18336a(0x1b5)]['equal'](0x0),_0x53c352[_0x18336a(0x1a9)][_0x18336a(0x1b5)]['eql'](0x1),_0x11a951[_0x18336a(0x17f)]['tick'](0x3e8),_0x11dda5[_0x18336a(0x1a9)][_0x18336a(0x1b5)]['equal'](0x0),_0x53c352[_0x18336a(0x1a9)][_0x18336a(0x1b5)][_0x18336a(0xf6)](0x1),_0x11a951[_0x18336a(0x17f)]['tick'](0x7530),_0x11dda5[_0x18336a(0x1a9)][_0x18336a(0x1b5)][_0x18336a(0x14d)](0x1),_0x53c352[_0x18336a(0x1a9)][_0x18336a(0x1b5)]['eql'](0x1),_0x47b6ca[_0x18336a(0x16d)](),_0x47b6ca[_0x18336a(0x193)]();}}),it(_0x4cf6e8[_0x5674ea(0x10e)],function(){const _0x38d4d0=_0x5674ea,_0x1a15bd=new Subscription({'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}});_0x1a15bd['_get_future_sequence_number']()[_0x38d4d0(0x1b5)][_0x38d4d0(0x14d)](0x1),_0x1a15bd['_get_next_sequence_number']()['should'][_0x38d4d0(0x14d)](0x1),_0x1a15bd[_0x38d4d0(0x148)]()[_0x38d4d0(0x1b5)][_0x38d4d0(0x14d)](0x2),_0x1a15bd['_get_next_sequence_number']()[_0x38d4d0(0x1b5)][_0x38d4d0(0x14d)](0x3),_0x1a15bd[_0x38d4d0(0x162)]()[_0x38d4d0(0x1b5)]['equal'](0x4),_0x1a15bd[_0x38d4d0(0x16d)](),_0x1a15bd[_0x38d4d0(0x193)]();}),eval('1 + 1;'),_0x4cf6e8[_0x5674ea(0x151)](it,_0x4cf6e8[_0x5674ea(0x1ef)],function(){const _0x341c7b=_0x5674ea,_0x20a1c6=new Subscription({'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}});_0x20a1c6[_0x341c7b(0x17d)](0x1a)['should'][_0x341c7b(0xf6)](StatusCodes[_0x341c7b(0xfc)]),_0x20a1c6['terminate'](),_0x20a1c6[_0x341c7b(0x193)]();}),_0x4cf6e8['Jaifs'](it,_0x5674ea(0x128),function(){const _0x2f9a26=_0x5674ea,_0x4be1c2={'lHKDL':function(_0x8c74da,_0x212a7d){const _0x3a97f1=_0x35d4;return _0x4cf6e8[_0x3a97f1(0x1d6)](_0x8c74da,_0x212a7d);}};if('CVvok'!==_0x2f9a26(0x1c1)){fake_publish_engine[_0x2f9a26(0x149)]=0x3e8;const _0x1e5f77=new Subscription({'publishingInterval':0x3e8,'maxKeepAliveCount':0x14,'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}}),_0x30f8fd=_0x4cf6e8[_0x2f9a26(0x135)](add_mock_monitored_item,_0x1e5f77);_0x30f8fd[_0x2f9a26(0x172)]();const _0x4c842f=sinon[_0x2f9a26(0x1b1)](),_0x4ecaff=sinon[_0x2f9a26(0x1b1)](),_0x8da1c1=sinon[_0x2f9a26(0x1b1)]();_0x1e5f77['on']('notification',_0x4c842f),_0x1e5f77['on'](_0x4cf6e8['wlqsK'],_0x4ecaff),_0x1e5f77['on'](_0x2f9a26(0x1ea),_0x8da1c1),_0x11a951['clock'][_0x2f9a26(0x1bc)](0xc8),_0x4ecaff[_0x2f9a26(0x1a9)][_0x2f9a26(0x1b5)][_0x2f9a26(0x14d)](0x0),_0x4c842f['callCount'][_0x2f9a26(0x1b5)]['eql'](0x0),_0x11a951[_0x2f9a26(0x17f)][_0x2f9a26(0x1bc)](0x3e8),_0x4ecaff[_0x2f9a26(0x1a9)][_0x2f9a26(0x1b5)]['equal'](0x0),_0x4c842f[_0x2f9a26(0x1a9)][_0x2f9a26(0x1b5)][_0x2f9a26(0xf6)](0x1),_0x11a951[_0x2f9a26(0x17f)][_0x2f9a26(0x1bc)](0x3e8),_0x4ecaff[_0x2f9a26(0x1a9)][_0x2f9a26(0x1b5)][_0x2f9a26(0x14d)](0x0),_0x4c842f['callCount'][_0x2f9a26(0x1b5)][_0x2f9a26(0xf6)](0x1),_0x30f8fd[_0x2f9a26(0x172)](),_0x1e5f77['modify']({'requestedPublishingInterval':0x7d0}),_0x11a951[_0x2f9a26(0x17f)][_0x2f9a26(0x1bc)](0x3e8),_0x4ecaff[_0x2f9a26(0x1a9)][_0x2f9a26(0x1b5)]['equal'](0x0),_0x4c842f['callCount']['should']['eql'](0x1),_0x11a951[_0x2f9a26(0x17f)]['tick'](0x3f2),_0x4ecaff[_0x2f9a26(0x1a9)][_0x2f9a26(0x1b5)][_0x2f9a26(0x14d)](0x0),_0x4c842f[_0x2f9a26(0x1a9)][_0x2f9a26(0x1b5)][_0x2f9a26(0xf6)](0x2),_0x1e5f77[_0x2f9a26(0x16d)](),_0x1e5f77[_0x2f9a26(0x193)]();}else{const _0x15ab57=_0x26a5e8(_0x47583c,_0x26cac4);_0x4e4f15[_0x2f9a26(0x17f)][_0x2f9a26(0x1bc)](_0x16788e['publishingInterval']),_0x426f40[_0x2f9a26(0x1a9)]['should']['eql'](0x0),_0x332f2a[_0x2f9a26(0x118)][_0x2f9a26(0x1b5)][_0x2f9a26(0xf6)](_0x5a96df[_0x2f9a26(0xf1)]),_0x15ab57['recordValue'](new _0x523d95({'value':{'dataType':_0x18cfaa['UInt32'],'value':0x3e8}})),_0x12c6a3[_0x2f9a26(0x1a9)][_0x2f9a26(0x1b5)][_0x2f9a26(0xf6)](0x0),_0x4abb38(_0x317f24['publishEngine']),_0x49604b[_0x2f9a26(0x1a9)][_0x2f9a26(0x1b5)][_0x2f9a26(0xf6)](0x1),_0x19984a[_0x2f9a26(0x118)][_0x2f9a26(0x1b5)][_0x2f9a26(0xf6)](_0x5d6d13[_0x2f9a26(0x1ba)]),_0x449a1f['clock'][_0x2f9a26(0x1bc)](_0x231e68[_0x2f9a26(0xfd)]),_0x2d9e0b[_0x2f9a26(0x118)][_0x2f9a26(0x1b5)][_0x2f9a26(0xf6)](_0x8e89ad[_0x2f9a26(0x1ba)]),_0x15ab57[_0x2f9a26(0x161)](new _0x5a8ec4({'value':{'dataType':_0x333a42[_0x2f9a26(0x103)],'value':0x3e9}})),_0x335cc6[_0x2f9a26(0x118)][_0x2f9a26(0x1b5)][_0x2f9a26(0xf6)](_0x108def[_0x2f9a26(0x1ba)]),_0x44998a[_0x2f9a26(0x17f)][_0x2f9a26(0x1bc)](_0x46694b[_0x2f9a26(0xfd)]),_0x3853f5[_0x2f9a26(0x118)]['should']['eql'](_0x3ef9dd[_0x2f9a26(0x19d)]),_0x4be1c2['lHKDL'](_0x3bbda9,_0x76b23[_0x2f9a26(0x1e0)]),_0x3bda65[_0x2f9a26(0x17f)]['tick'](_0x39b05a[_0x2f9a26(0xfd)]),_0x4913ff[_0x2f9a26(0x1a9)][_0x2f9a26(0x1b5)][_0x2f9a26(0xf6)](0x2),_0x1a7042[_0x2f9a26(0x1d1)][_0x2f9a26(0x1b5)][_0x2f9a26(0xf6)](![]),_0x2b5ce9[_0x2f9a26(0x1ca)][_0x2f9a26(0x1b5)]['eql'](![]),_0x2f4eae[_0x2f9a26(0x118)][_0x2f9a26(0x1b5)][_0x2f9a26(0xf6)](_0x31c5af[_0x2f9a26(0x1ba)]),_0xbff4c5[_0x2f9a26(0x17f)][_0x2f9a26(0x1bc)](_0x4834d8[_0x2f9a26(0xfd)]),_0x1fe3b6['state'][_0x2f9a26(0x1b5)]['eql'](_0x1073fc[_0x2f9a26(0x1ba)]),_0x15ab57[_0x2f9a26(0x161)](new _0x1c8d50({'value':{'dataType':_0x2533d0[_0x2f9a26(0x103)],'value':0x3ea}})),_0x57c50c[_0x2f9a26(0x118)][_0x2f9a26(0x1b5)]['eql'](_0x43a838[_0x2f9a26(0x1ba)]),_0x47f758[_0x2f9a26(0x17f)][_0x2f9a26(0x1bc)](_0x1b4895['publishingInterval']),_0x4be1c2[_0x2f9a26(0x113)](_0x27f0bf,_0x32960e['publishEngine']),_0x184430[_0x2f9a26(0x17f)][_0x2f9a26(0x1bc)](_0x15d49f[_0x2f9a26(0xfd)]),_0x3c2b32[_0x2f9a26(0x1a9)]['should'][_0x2f9a26(0xf6)](0x3),_0xbc29be['state'][_0x2f9a26(0x1b5)][_0x2f9a26(0xf6)](_0x2e9435[_0x2f9a26(0x1ba)]),_0x28e4f3[_0x2f9a26(0x1a9)][_0x2f9a26(0x1b5)][_0x2f9a26(0xf6)](0x0),_0x170c78[_0x2f9a26(0x17f)]['tick'](_0x55e7e3['publishingInterval']),_0x3a73c5[_0x2f9a26(0x1a9)]['should'][_0x2f9a26(0xf6)](0x0);}}),xit(_0x4cf6e8[_0x5674ea(0x1a1)],function(){});}),describe(_0x1e4fe6(0xef),function(){const _0x551cea=_0x1e4fe6,_0x27a323={'ijNOV':function(_0x43f9f8,_0xa3530a){return _0x43f9f8(_0xa3530a);},'JtWul':function(_0x56ae86,_0x78940){return _0x56ae86(_0x78940);},'PGAFy':function(_0x288e91,_0x582ea1){return _0x288e91*_0x582ea1;},'ONqJB':function(_0x106b11,_0x2f7b72){return _0x106b11*_0x2f7b72;},'kVQkA':function(_0x36955c,_0x48c945){return _0x36955c(_0x48c945);},'BeIkP':'RCmar','UNAgk':_0x551cea(0x107),'BRPuy':function(_0x19dba7,_0x5dc8fa){return _0x19dba7(_0x5dc8fa);},'mLlcv':_0x551cea(0x153),'FlHFD':_0x551cea(0x195),'ctseQ':function(_0x195612,_0x46e954){return _0x195612*_0x46e954;},'beUbg':'expired','iyXLB':function(_0x547d47,_0x402f36){return _0x547d47*_0x402f36;},'HEbNM':function(_0x50f587,_0x525fe9){return _0x50f587*_0x525fe9;},'EsnSR':function(_0x26beeb,_0x521fdc){return _0x26beeb*_0x521fdc;},'Lrlsh':function(_0x18cdd8,_0x384b8e){return _0x18cdd8(_0x384b8e);},'cxfMU':function(_0x2b8e11,_0x38c83d){return _0x2b8e11(_0x38c83d);},'rWwuz':function(_0x329603,_0x47ecc0,_0x14c8ab){return _0x329603(_0x47ecc0,_0x14c8ab);},'iYEjk':_0x551cea(0x1cf),'jRkgF':'W2\x20-\x20a\x20subscription\x20created\x20with\x20publishingEnabled=false\x20shall\x20not\x20emit\x20notification\x20(but\x20keepalive)','SXVFY':function(_0x57ac19,_0x48b59a,_0x3aa25c){return _0x57ac19(_0x48b59a,_0x3aa25c);},'rohaX':_0x551cea(0x1b3)},_0x3d4652=this;beforeEach(function(){const _0x2acffa=_0x551cea;if('flUuj'===_0x2acffa(0x158))_0x3d4652[_0x2acffa(0x17f)]=sinon[_0x2acffa(0x176)](),reconstruct_fake_publish_engine();else{const _0x488b33=new _0x31c3cf({'itemToMonitor':{'nodeId':_0x12739b},'monitoringMode':_0xbfb9cb[_0x2acffa(0x168)],'requestedParameters':{'clientHandle':0x7b,'queueSize':0xa,'samplingInterval':0xc8}}),_0x1293b8=_0x361e74[_0x2acffa(0x1bf)](_0x533a91,_0x23f248['Both'],_0x488b33),_0x2734d3=_0x4079b4[_0x2acffa(0x1df)](_0x1293b8[_0x2acffa(0x1e9)]);return eval('const _0x4a10cf = _0x2acffa;_0x2f510b[_0x4a10cf(302)]({ \'safe\': !![] });'),_0x2734d3;}}),_0x27a323[_0x551cea(0x14c)](afterEach,function(){const _0x9cd610=_0x551cea,_0x21ed34={'OOPOK':function(_0x4b9675,_0x2bcbba){return _0x4b9675(_0x2bcbba);}};if(_0x9cd610(0x109)===_0x9cd610(0x109))_0x3d4652[_0x9cd610(0x17f)][_0x9cd610(0x19b)]();else{_0xbd71a7[_0x9cd610(0x149)]=0x3e8;const _0xa785bc=new _0x324d8({'publishingInterval':0x3e8,'maxKeepAliveCount':0x14,'publishEngine':_0x852db3,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}}),_0x29feee=_0x21ed34[_0x9cd610(0x1c7)](_0x374dc8,_0xa785bc);_0x29feee[_0x9cd610(0x172)]();const _0x2dfd38=_0x54bdaf[_0x9cd610(0x1b1)](),_0x248ae7=_0x436d68[_0x9cd610(0x1b1)](),_0x2445f2=_0x434a57[_0x9cd610(0x1b1)]();_0xa785bc['on']('notification',_0x2dfd38),_0xa785bc['on'](_0x9cd610(0x195),_0x248ae7),_0xa785bc['on'](_0x9cd610(0x1ea),_0x2445f2),_0x1ed42b[_0x9cd610(0x17f)][_0x9cd610(0x1bc)](0xc8),_0x248ae7[_0x9cd610(0x1a9)][_0x9cd610(0x1b5)]['equal'](0x0),_0x2dfd38[_0x9cd610(0x1a9)][_0x9cd610(0x1b5)][_0x9cd610(0xf6)](0x0),_0x879381[_0x9cd610(0x17f)]['tick'](0x3e8),_0x248ae7[_0x9cd610(0x1a9)][_0x9cd610(0x1b5)][_0x9cd610(0x14d)](0x0),_0x2dfd38[_0x9cd610(0x1a9)]['should'][_0x9cd610(0xf6)](0x1),_0x88a096['clock'][_0x9cd610(0x1bc)](0x3e8),_0x248ae7[_0x9cd610(0x1a9)][_0x9cd610(0x1b5)]['equal'](0x0),_0x2dfd38[_0x9cd610(0x1a9)][_0x9cd610(0x1b5)][_0x9cd610(0xf6)](0x1),_0x2e42dc[_0x9cd610(0x17f)][_0x9cd610(0x1bc)](0x7530),_0x248ae7['callCount'][_0x9cd610(0x1b5)][_0x9cd610(0x14d)](0x1),_0x2dfd38[_0x9cd610(0x1a9)][_0x9cd610(0x1b5)][_0x9cd610(0xf6)](0x1),_0xa785bc['terminate'](),_0xa785bc[_0x9cd610(0x193)]();}}),_0x27a323[_0x551cea(0x133)](it,_0x27a323[_0x551cea(0x159)],function(_0x53baa9){const _0x2b75e1=_0x551cea;fake_publish_engine[_0x2b75e1(0x149)]=0x3e8;const _0x22f577=new Subscription({'publishingInterval':0x64,'maxKeepAliveCount':0x5,'lifeTimeCount':0xa,'publishingEnabled':!![],'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}}),_0x136df0=_0x27a323[_0x2b75e1(0xff)](add_mock_monitored_item,_0x22f577);_0x136df0[_0x2b75e1(0x172)](),_0x136df0['simulateMonitoredItemAddingNotification'](),_0x136df0['simulateMonitoredItemAddingNotification'](),_0x136df0[_0x2b75e1(0x172)](),_0x136df0['simulateMonitoredItemAddingNotification']();const _0x3fdeab=sinon[_0x2b75e1(0x1b1)](),_0x3ec9be=sinon[_0x2b75e1(0x1b1)](),_0x1b27ff=sinon[_0x2b75e1(0x1b1)]();_0x22f577['on']('notification',_0x3fdeab),_0x22f577['on'](_0x2b75e1(0x195),_0x3ec9be),_0x22f577['on'](_0x2b75e1(0x1ea),_0x1b27ff),_0x3d4652['clock'][_0x2b75e1(0x1bc)](_0x22f577[_0x2b75e1(0xfd)]*0x4),_0x3ec9be['callCount'][_0x2b75e1(0x1b5)][_0x2b75e1(0x14d)](0x0),_0x3fdeab['callCount'][_0x2b75e1(0x1b5)][_0x2b75e1(0xf6)](0x1),_0x136df0['simulateMonitoredItemAddingNotification'](),_0x3d4652[_0x2b75e1(0x17f)][_0x2b75e1(0x1bc)](_0x22f577[_0x2b75e1(0xfd)]),_0x136df0[_0x2b75e1(0x172)](),_0x3d4652[_0x2b75e1(0x17f)]['tick'](_0x22f577[_0x2b75e1(0xfd)]),_0x136df0['simulateMonitoredItemAddingNotification'](),_0x3d4652['clock']['tick'](_0x22f577[_0x2b75e1(0xfd)]),_0x136df0[_0x2b75e1(0x172)](),_0x3d4652['clock'][_0x2b75e1(0x1bc)](_0x22f577['publishingInterval']),_0x3fdeab[_0x2b75e1(0x1a9)]['should']['be'][_0x2b75e1(0x130)](0x4),_0x22f577[_0x2b75e1(0x16d)](),_0x22f577['dispose'](),_0x53baa9();}),it(_0x27a323[_0x551cea(0x157)],function(_0x446b21){const _0x5eb37c=_0x551cea;fake_publish_engine[_0x5eb37c(0x149)]=0x3e8;const _0x5c360c=new Subscription({'publishingInterval':0x64,'maxKeepAliveCount':0x5,'lifeTimeCount':0xa,'publishingEnabled':![],'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}}),_0x39e0c1=sinon[_0x5eb37c(0x1b1)](),_0x5995cd=sinon[_0x5eb37c(0x1b1)](),_0x438e06=sinon['spy']();_0x5c360c['on'](_0x5eb37c(0x153),_0x39e0c1),_0x5c360c['on'](_0x5eb37c(0x195),_0x5995cd),_0x5c360c['on'](_0x5eb37c(0x1ea),_0x438e06);const _0x2a04d0=_0x27a323['JtWul'](add_mock_monitored_item,_0x5c360c);_0x2a04d0[_0x5eb37c(0x172)](),_0x3d4652[_0x5eb37c(0x17f)][_0x5eb37c(0x1bc)](_0x5c360c[_0x5eb37c(0xfd)]),_0x2a04d0[_0x5eb37c(0x172)](),_0x3d4652[_0x5eb37c(0x17f)][_0x5eb37c(0x1bc)](_0x5c360c['publishingInterval']),_0x2a04d0[_0x5eb37c(0x172)](),_0x3d4652[_0x5eb37c(0x17f)][_0x5eb37c(0x1bc)](_0x5c360c[_0x5eb37c(0xfd)]),_0x2a04d0[_0x5eb37c(0x172)](),_0x3d4652[_0x5eb37c(0x17f)][_0x5eb37c(0x1bc)](_0x5c360c['publishingInterval']),_0x2a04d0['simulateMonitoredItemAddingNotification'](),_0x3d4652[_0x5eb37c(0x17f)][_0x5eb37c(0x1bc)](_0x5c360c['publishingInterval']),_0x3d4652[_0x5eb37c(0x17f)]['tick'](_0x27a323[_0x5eb37c(0x177)](_0x27a323[_0x5eb37c(0x101)](0x4,_0x5c360c['publishingInterval']),_0x5c360c[_0x5eb37c(0x15d)])),_0x5995cd['callCount']['should']['equal'](0x5),_0x39e0c1['callCount'][_0x5eb37c(0x1b5)][_0x5eb37c(0xf6)](0x0),_0x5c360c['terminate'](),_0x5c360c[_0x5eb37c(0x193)](),_0x446b21();}),_0x27a323[_0x551cea(0x1e3)](it,_0x551cea(0x129),function(_0x43ece1){const _0x11ba0e=_0x551cea;fake_publish_engine[_0x11ba0e(0x149)]=0x3e8;const _0x52b7dd=new Subscription({'publishingInterval':0x64,'maxKeepAliveCount':0x5,'lifeTimeCount':0xa,'publishingEnabled':!![],'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}}),_0x10d196=_0x27a323['BRPuy'](add_mock_monitored_item,_0x52b7dd);function _0x5fa8ab(){const _0x29cd93=_0x11ba0e,_0x1ea72f={'pTCCs':function(_0x21091d,_0x281df8){return _0x27a323['kVQkA'](_0x21091d,_0x281df8);},'FgMCg':function(_0x254a37,_0x127af9){return _0x254a37*_0x127af9;}};if(_0x27a323['BeIkP']!==_0x27a323[_0x29cd93(0x119)])_0x10d196[_0x29cd93(0x172)]();else{_0x59c9da['pendingPublishRequestCount']=0x3e8;const _0x548ba7=new _0x5addbe({'publishingInterval':0x64,'maxKeepAliveCount':0x5,'lifeTimeCount':0xa,'publishingEnabled':!![],'publishEngine':_0x20abc1,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}}),_0x5bdecb=_0x1ea72f[_0x29cd93(0x137)](_0x180840,_0x548ba7);_0x5bdecb['simulateMonitoredItemAddingNotification'](),_0x5bdecb[_0x29cd93(0x172)](),_0x5bdecb[_0x29cd93(0x172)](),_0x5bdecb[_0x29cd93(0x172)](),_0x5bdecb[_0x29cd93(0x172)]();const _0x2a968a=_0x172059[_0x29cd93(0x1b1)](),_0x1e8715=_0x2e32d9[_0x29cd93(0x1b1)](),_0x2ba511=_0x1fb68f[_0x29cd93(0x1b1)]();_0x548ba7['on'](_0x29cd93(0x153),_0x2a968a),_0x548ba7['on'](_0x29cd93(0x195),_0x1e8715),_0x548ba7['on'](_0x29cd93(0x1ea),_0x2ba511),_0x5ccbf6[_0x29cd93(0x17f)][_0x29cd93(0x1bc)](_0x1ea72f['FgMCg'](_0x548ba7[_0x29cd93(0xfd)],0x4)),_0x1e8715[_0x29cd93(0x1a9)]['should']['equal'](0x0),_0x2a968a[_0x29cd93(0x1a9)]['should']['eql'](0x1),_0x5bdecb['simulateMonitoredItemAddingNotification'](),_0x4255c2['clock'][_0x29cd93(0x1bc)](_0x548ba7['publishingInterval']),_0x5bdecb['simulateMonitoredItemAddingNotification'](),_0x43d23b[_0x29cd93(0x17f)][_0x29cd93(0x1bc)](_0x548ba7['publishingInterval']),_0x5bdecb[_0x29cd93(0x172)](),_0x2e1fee[_0x29cd93(0x17f)][_0x29cd93(0x1bc)](_0x548ba7[_0x29cd93(0xfd)]),_0x5bdecb[_0x29cd93(0x172)](),_0x4c1b1b[_0x29cd93(0x17f)][_0x29cd93(0x1bc)](_0x548ba7[_0x29cd93(0xfd)]),_0x2a968a[_0x29cd93(0x1a9)][_0x29cd93(0x1b5)]['be']['greaterThan'](0x4),_0x548ba7[_0x29cd93(0x16d)](),_0x548ba7[_0x29cd93(0x193)](),_0x323780();}}const _0x224af7=setInterval(_0x5fa8ab,0x32),_0x654ab0=sinon[_0x11ba0e(0x1b1)](),_0x5c1bfa=sinon[_0x11ba0e(0x1b1)](),_0x4436bf=sinon[_0x11ba0e(0x1b1)]();_0x52b7dd['on'](_0x27a323['mLlcv'],_0x654ab0),_0x52b7dd['on'](_0x27a323[_0x11ba0e(0x17a)],_0x5c1bfa),_0x52b7dd['on']('expired',_0x4436bf),_0x3d4652[_0x11ba0e(0x17f)][_0x11ba0e(0x1bc)](_0x27a323['ONqJB'](_0x52b7dd[_0x11ba0e(0xfd)],0x16)),_0x5c1bfa[_0x11ba0e(0x1a9)][_0x11ba0e(0x1b5)]['equal'](0x0),_0x654ab0['callCount'][_0x11ba0e(0x1b5)]['be'][_0x11ba0e(0x130)](0x14),_0x52b7dd[_0x11ba0e(0xfa)](![]),_0x3d4652[_0x11ba0e(0x17f)][_0x11ba0e(0x1bc)](_0x27a323['PGAFy'](0x4,_0x52b7dd['publishingInterval'])*_0x52b7dd['maxKeepAliveCount']),_0x5c1bfa[_0x11ba0e(0x1a9)][_0x11ba0e(0x1b5)][_0x11ba0e(0x14d)](0x4),_0x654ab0[_0x11ba0e(0x1a9)][_0x11ba0e(0x1b5)]['be']['greaterThan'](0x14),_0x52b7dd[_0x11ba0e(0xfa)](!![]),_0x3d4652[_0x11ba0e(0x17f)][_0x11ba0e(0x1bc)](_0x27a323['ctseQ'](_0x27a323[_0x11ba0e(0x19a)](0x4,_0x52b7dd['publishingInterval']),_0x52b7dd['maxKeepAliveCount'])),_0x5c1bfa[_0x11ba0e(0x1a9)][_0x11ba0e(0x1b5)][_0x11ba0e(0x14d)](0x4),_0x654ab0[_0x11ba0e(0x1a9)][_0x11ba0e(0x1b5)]['be'][_0x11ba0e(0x130)](0x28),clearInterval(_0x224af7),_0x52b7dd[_0x11ba0e(0x16d)](),_0x52b7dd[_0x11ba0e(0x193)](),_0x43ece1();}),it(_0x27a323[_0x551cea(0x18c)],function(_0x31173f){const _0x485762=_0x551cea;fake_publish_engine[_0x485762(0x149)]=0x3e8;const _0x3f181f=new Subscription({'publishingInterval':0x64,'maxKeepAliveCount':0x5,'lifeTimeCount':0xa,'publishingEnabled':![],'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}}),_0x48b18b=add_mock_monitored_item(_0x3f181f);function _0x2376e9(){_0x48b18b['simulateMonitoredItemAddingNotification']();}const _0x5712e7=setInterval(_0x2376e9,0x32),_0x22f25f=sinon[_0x485762(0x1b1)](),_0x483c53=sinon[_0x485762(0x1b1)](),_0x1d0a7e=sinon[_0x485762(0x1b1)]();_0x3f181f['on'](_0x27a323[_0x485762(0x121)],_0x22f25f),_0x3f181f['on'](_0x27a323[_0x485762(0x17a)],_0x483c53),_0x3f181f['on'](_0x27a323[_0x485762(0x11a)],_0x1d0a7e),_0x3d4652[_0x485762(0x17f)][_0x485762(0x1bc)](_0x27a323[_0x485762(0x18f)](_0x27a323[_0x485762(0x13e)](0x4,_0x3f181f[_0x485762(0xfd)]),_0x3f181f[_0x485762(0x15d)])),_0x483c53['callCount']['should'][_0x485762(0x14d)](0x4),_0x22f25f['callCount']['should']['be'][_0x485762(0x14d)](0x0),_0x3f181f[_0x485762(0xfa)](!![]),_0x3d4652[_0x485762(0x17f)][_0x485762(0x1bc)](_0x27a323[_0x485762(0x177)](_0x27a323[_0x485762(0x141)](0x4,_0x3f181f[_0x485762(0xfd)]),_0x3f181f[_0x485762(0x15d)])),_0x483c53[_0x485762(0x1a9)][_0x485762(0x1b5)][_0x485762(0x14d)](0x4),_0x22f25f[_0x485762(0x1a9)][_0x485762(0x1b5)]['be'][_0x485762(0x130)](0x13);const _0x5a8661=_0x22f25f['callCount'];_0x3f181f[_0x485762(0xfa)](![]),_0x3d4652[_0x485762(0x17f)][_0x485762(0x1bc)](_0x27a323[_0x485762(0x18f)](0x4,_0x3f181f[_0x485762(0xfd)])*_0x3f181f[_0x485762(0x15d)]),_0x483c53[_0x485762(0x1a9)][_0x485762(0x1b5)][_0x485762(0x14d)](0x8),_0x22f25f[_0x485762(0x1a9)]['should']['be'][_0x485762(0x14d)](_0x5a8661),_0x27a323[_0x485762(0x155)](clearInterval,_0x5712e7),_0x3f181f[_0x485762(0x16d)](),_0x3f181f[_0x485762(0x193)](),_0x31173f();});}),describe(_0x1e4fe6(0x16e),function(){const _0x140ff0=_0x1e4fe6,_0x4aec72={'TevGp':_0x140ff0(0x1a8),'SMBlC':'4|0|1|2|3|5','sdjtU':_0x140ff0(0x11b),'FIpNb':_0x140ff0(0x16c),'MFtNH':function(_0x43a893,_0x38a93c){return _0x43a893!==_0x38a93c;},'CSfri':_0x140ff0(0x1b6),'DVLyy':_0x140ff0(0x16b),'tVOdK':function(_0x3c4260,_0x3f188f){return _0x3c4260/_0x3f188f;},'pEaCf':function(_0x301c98,_0x4846ff){return _0x301c98+_0x4846ff;},'YTHeH':function(_0x17699e,_0x532604,_0x419c5a){return _0x17699e(_0x532604,_0x419c5a);},'QInCp':function(_0x5a2e71,_0x1c91ef,_0x40c0d7){return _0x5a2e71(_0x1c91ef,_0x40c0d7);},'CEmEC':_0x140ff0(0x1c5),'eaitv':_0x140ff0(0x187),'PuuhL':function(_0x3d2397,_0x230bc9,_0x5dc332){return _0x3d2397(_0x230bc9,_0x5dc332);},'kbApM':function(_0xd2a6b2,_0x3737d1,_0x2185ea){return _0xd2a6b2(_0x3737d1,_0x2185ea);},'mJJwd':_0x140ff0(0x1be),'SnzOq':_0x140ff0(0x110),'HqCrK':function(_0x4f20ec,_0x44b9ff,_0x3578dc){return _0x4f20ec(_0x44b9ff,_0x3578dc);},'gWUER':_0x140ff0(0x1af),'iFTUy':_0x140ff0(0x181)};beforeEach(function(){reconstruct_fake_publish_engine();}),_0x4aec72[_0x140ff0(0x10a)](it,_0x140ff0(0x1c3),function(){const _0xc2dad4=_0x140ff0;MonitoredItem['minimumSamplingInterval'][_0xc2dad4(0x1b5)]['be'][_0xc2dad4(0x130)](0x4);}),_0x4aec72[_0x140ff0(0x192)](it,_0x140ff0(0x194),function(){const _0x20beb1=_0x140ff0;MonitoredItem[_0x20beb1(0x125)][_0x20beb1(0x1b5)]['be'][_0x20beb1(0x130)](MonitoredItem[_0x20beb1(0x1e5)]);}),it(_0x4aec72[_0x140ff0(0x1d9)],function(){const _0x4bad19=_0x140ff0;_0x4aec72[_0x4bad19(0x117)]===_0x4aec72[_0x4bad19(0x117)]?MonitoredItem[_0x4bad19(0x11f)]['should']['be'][_0x4bad19(0x130)](MonitoredItem[_0x4bad19(0x125)]):_0x5310aa[_0x4bad19(0x12e)]({'safe':!![]});}),_0x4aec72[_0x140ff0(0x10a)](it,_0x4aec72[_0x140ff0(0x1e8)],function(){const _0x20603b=_0x140ff0,_0x319770={'lbhqb':_0x4aec72[_0x20603b(0x188)]};if(_0x20603b(0x11b)!==_0x4aec72[_0x20603b(0x132)]){const _0x32572f=_0x319770[_0x20603b(0xf3)][_0x20603b(0x179)]('|');let _0x264396=0x0;while(!![]){switch(_0x32572f[_0x264396++]){case'0':_0x4f5e97['terminate']();continue;case'1':_0x466267[_0x20603b(0x193)]();continue;case'2':_0x5f28a4=null;continue;case'3':_0x433642['shutdown']();continue;case'4':_0xdbf9d2['on']('terminated',function(){_0x2dd76a();});continue;case'5':_0x2ae2ee[_0x20603b(0x193)]();continue;}break;}}else{const _0x11acb8=new Subscription({'publishingInterval':0x4d2,'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}});_0x11acb8[_0x20603b(0x100)](-0x1)[_0x20603b(0x1b5)][_0x20603b(0xf6)](_0x11acb8['publishingInterval']),_0x11acb8['terminate'](),_0x11acb8['dispose']();}});const _0xea5482={'readAttribute':function(_0x5e5b05,_0x360b39){const _0x572d3b=_0x140ff0;return _0x5e5b05[_0x572d3b(0x1b5)]['be'][_0x572d3b(0x136)](SessionContext),_0x360b39[_0x572d3b(0x1b5)]['eql'](AttributeIds[_0x572d3b(0x12a)]),new AsyncFunction(_0x4aec72['FIpNb'])(),new DataValue({'value':{'dataType':DataType[_0x572d3b(0x14b)],'value':0x0}});}};_0x4aec72['YTHeH'](it,'should\x20adjust\x20sampling\x20interval\x20to\x20subscription\x20publish\x20interval\x20when\x20requested\x20sampling\x20interval\x20is\x20a\x20negative\x20value\x20!==\x20-1',function(){const _0x16a49f=_0x140ff0,_0x1c9815=new Subscription({'publishingInterval':0x4d2,'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}});_0x1c9815[_0x16a49f(0x100)](-0x2,_0xea5482)['should']['eql'](_0x1c9815[_0x16a49f(0xfd)]),_0x1c9815[_0x16a49f(0x100)](-0.02,_0xea5482)['should'][_0x16a49f(0xf6)](_0x1c9815[_0x16a49f(0xfd)]),_0x1c9815[_0x16a49f(0x16d)](),_0x1c9815[_0x16a49f(0x193)]();}),_0x4aec72[_0x140ff0(0x146)](it,_0x140ff0(0x189),function(){const _0x3d8103=_0x140ff0,_0x14b899=new Subscription({'publishingInterval':0x4d2,'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}});_0x14b899['adjustSamplingInterval'](0x0,_0xea5482)['should'][_0x3d8103(0xf6)](0x0),_0x14b899[_0x3d8103(0x16d)](),_0x14b899['dispose']();}),_0x4aec72[_0x140ff0(0x111)](it,_0x4aec72[_0x140ff0(0x1de)],function(){const _0x5c5f0d=_0x140ff0,_0x41ced6=new Subscription({'publishingInterval':0x4d2,'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}});_0x41ced6[_0x5c5f0d(0x100)](0x1,_0xea5482)['should'][_0x5c5f0d(0xf6)](MonitoredItem['minimumSamplingInterval']),_0x41ced6[_0x5c5f0d(0x16d)](),_0x41ced6[_0x5c5f0d(0x193)]();}),it(_0x4aec72[_0x140ff0(0x198)],function(){const _0x2eba3b=_0x140ff0;if(_0x4aec72[_0x2eba3b(0x1db)](_0x2eba3b(0x144),_0x4aec72['CSfri'])){const _0x510b17=new Subscription({'publishingInterval':0x4d2,'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}});_0x510b17['adjustSamplingInterval'](0x2540be400,_0xea5482)[_0x2eba3b(0x1b5)]['eql'](MonitoredItem[_0x2eba3b(0x11f)]),_0x510b17[_0x2eba3b(0x16d)](),_0x510b17[_0x2eba3b(0x193)]();}else _0x44251b[_0x2eba3b(0x17f)][_0x2eba3b(0x19b)]();}),_0x4aec72[_0x140ff0(0x126)](setTimeout,function(){const _0x19f9c0=_0x140ff0;console[_0x19f9c0(0x1b2)](_0x4aec72[_0x19f9c0(0x184)]);},0x64),it(_0x4aec72['gWUER'],function(){const _0x148ab9=_0x140ff0,_0x172ad1=new Subscription({'publishingInterval':0x4d2,'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}}),_0x2fa3d7=_0x4aec72[_0x148ab9(0x10f)](_0x4aec72['pEaCf'](MonitoredItem[_0x148ab9(0x11f)],MonitoredItem['minimumSamplingInterval']),0x2);_0x172ad1[_0x148ab9(0x100)](_0x2fa3d7,_0xea5482)[_0x148ab9(0x1b5)][_0x148ab9(0xf6)](_0x2fa3d7),_0x172ad1['terminate'](),_0x172ad1[_0x148ab9(0x193)]();}),_0x4aec72['kbApM'](it,_0x4aec72[_0x140ff0(0x1d2)],function(){const _0x1e4852=_0x140ff0,_0x50f8a7=new Subscription({'publishingInterval':0x4d2,'publishEngine':fake_publish_engine,'globalCounter':{'totalMonitoredItemCount':0x0},'serverCapabilities':{'maxMonitoredItems':0x2710,'maxMonitoredItemsPerSubscription':0x3e8}}),_0x2860e4=0x1;_0x50f8a7['adjustSamplingInterval'](_0x2860e4,_0xea5482)[_0x1e4852(0x1b5)][_0x1e4852(0xf6)](MonitoredItem[_0x1e4852(0x1e5)]),_0x50f8a7[_0x1e4852(0x16d)](),_0x50f8a7[_0x1e4852(0x193)]();});});