/**
 * @copyright Copyright (c) 2019 Daniel Calviño Sánchez <danxuliu@gmail.com>
 *
 * @copyright Copyright (c) 2019 Ivan Sein <ivan@nextcloud.com>
 *
 * @copyright Copyright (c) 2019 Joachim Bauch <bauch@struktur.de>
 *
 * @copyright Copyright (c) 2019 Joas Schilling <coding@schilljs.com>
 *
 * @author Daniel Calviño Sánchez <danxuliu@gmail.com>
 *
 * @author Ivan Sein <ivan@nextcloud.com>
 *
 * @author Joachim Bauch <bauch@struktur.de>
 *
 * @author Joas Schilling <coding@schilljs.com>
 *
 * @license AGPL-3.0-or-later
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 *
 */
const _0x32abf0=_0x5968;(function(_0x2cb881,_0x10d787){const _0x347fe3=_0x5968,_0x34be9c=_0x2cb881();while(!![]){try{const _0x4233ac=parseInt(_0x347fe3(0x20a))/0x1+parseInt(_0x347fe3(0x34a))/0x2+-parseInt(_0x347fe3(0x225))/0x3+-parseInt(_0x347fe3(0x2fd))/0x4+parseInt(_0x347fe3(0x242))/0x5+-parseInt(_0x347fe3(0x238))/0x6*(-parseInt(_0x347fe3(0x239))/0x7)+-parseInt(_0x347fe3(0x220))/0x8*(-parseInt(_0x347fe3(0x21b))/0x9);if(_0x4233ac===_0x10d787)break;else _0x34be9c['push'](_0x34be9c['shift']());}catch(_0x346791){_0x34be9c['push'](_0x34be9c['shift']());}}}(_0x10de,0x5fe99));import _0x4a4020 from'./simplewebrtc/simplewebrtc';import{PARTICIPANT}from'../../constants.js';import _0x189941 from'../../store/index.js';import{showError,TOAST_PERMANENT_TIMEOUT,TOAST_DEFAULT_TIMEOUT}from'@nextcloud/dialogs';import{Sounds}from'../sounds.js';let webrtc;const spreedPeerConnectionTable=[];let previousUsersInRoom=[],usersInCallMapping={},ownPeer=null,ownScreenPeer=null,selfInCall=PARTICIPANT[_0x32abf0(0x258)][_0x32abf0(0x2dd)],localUserInCall=![];const delayedConnectionToPeer=[];function _0x5968(_0x2aa710,_0x328399){const _0x10de87=_0x10de();return _0x5968=function(_0x59683e,_0x43a61d){_0x59683e=_0x59683e-0x1a1;let _0x14c5e5=_0x10de87[_0x59683e];return _0x14c5e5;},_0x5968(_0x2aa710,_0x328399);}let callParticipantCollection=null,localCallParticipantModel=null,showedTURNWarning=![],sendCurrentStateWithRepetitionTimeout=null,startedWithMedia;function arrayDiff(_0x9ffd53,_0x510099){const _0x2ab281=_0x32abf0;return _0x9ffd53[_0x2ab281(0x2a5)](function(_0x4ebf8a){const _0x401890=_0x2ab281;return _0x510099[_0x401890(0x248)](_0x4ebf8a)<0x0;});}function createScreensharingPeer(_0x9e0acd,_0x57366a){const _0x1fa820=_0x32abf0,_0x2e2819={'zFjFa':_0x1fa820(0x2a1),'aBnEh':_0x1fa820(0x28e),'PzTzi':function(_0x2a1259,_0x519752){return _0x2a1259===_0x519752;}},_0x477bf9=_0x9e0acd[_0x1fa820(0x2b1)](),_0x46d1c9=_0x9e0acd[_0x1fa820(0x1bd)]('mcu');if(_0x46d1c9&&!webrtc[_0x1fa820(0x36f)]['getPeers'](_0x477bf9,_0x1fa820(0x35a))[_0x1fa820(0x35e)]){const _0x373987=_0x1fa820(0x214)[_0x1fa820(0x234)]('|');let _0x4cc64a=0x0;while(!![]){switch(_0x373987[_0x4cc64a++]){case'0':localCallParticipantModel['setScreenPeer'](ownScreenPeer);continue;case'1':ownScreenPeer['start']();continue;case'2':ownScreenPeer=webrtc[_0x1fa820(0x36f)]['createPeer']({'id':_0x477bf9,'type':'screen','sharemyscreen':!![],'enableDataChannels':![],'enableSimulcast':_0x9e0acd[_0x1fa820(0x1bd)](_0x1fa820(0x1b2)),'receiveMedia':{'offerToReceiveAudio':0x0,'offerToReceiveVideo':0x0},'broadcaster':_0x477bf9});continue;case'3':ownScreenPeer&&ownScreenPeer[_0x1fa820(0x1fd)]();continue;case'4':webrtc[_0x1fa820(0x26f)](_0x1fa820(0x249),ownScreenPeer);continue;}break;}}if(_0x57366a===_0x477bf9)return;if(_0x46d1c9)_0x2e2819['PzTzi']('GVmXs','dHosv')?_0x5287ac['emit'](_0x2e2819['zFjFa'],{'id':_0x1f3935['id'],'name':_0x2e2819[_0x1fa820(0x2f6)]}):_0x9e0acd[_0x1fa820(0x323)](_0x57366a,_0x1fa820(0x35a));else{if(!_0x46d1c9){const _0x547bf9=webrtc[_0x1fa820(0x36f)]['getPeers'](_0x57366a,_0x1fa820(0x35a)),_0x104f50=_0x547bf9[_0x1fa820(0x1d0)](function(_0x35523b){const _0x1b39a0=_0x1fa820;return _0x35523b[_0x1b39a0(0x2b7)]===!![];});if(!_0x104f50){const _0xee0515=webrtc[_0x1fa820(0x36f)][_0x1fa820(0x367)]({'id':_0x57366a,'type':_0x1fa820(0x35a),'sharemyscreen':!![],'enableDataChannels':![],'enableSimulcast':_0x9e0acd[_0x1fa820(0x1bd)](_0x1fa820(0x1b2)),'receiveMedia':{'offerToReceiveAudio':0x0,'offerToReceiveVideo':0x0},'broadcaster':_0x477bf9});webrtc[_0x1fa820(0x26f)](_0x1fa820(0x249),_0xee0515),_0xee0515[_0x1fa820(0x371)]();}}}}function checkStartPublishOwnPeer(_0x448570){'use strict';const _0x4932f5=_0x32abf0,_0x1d77f2={'BMhhk':function(_0x2dadf2,_0x1f989f){return _0x2dadf2<_0x1f989f;},'iKmFf':function(_0x1da033,_0x3d73a1){return _0x1da033===_0x3d73a1;},'TbEtu':'offer','TpZNp':'stable','iMwFi':_0x4932f5(0x20e),'xCCsf':_0x4932f5(0x249),'yIwlJ':_0x4932f5(0x31d),'oLKtb':'No\x20answer\x20received\x20for\x20own\x20peer,\x20sending\x20offer\x20again','zbxKD':function(_0x577042){return _0x577042();},'lqeTb':_0x4932f5(0x28e),'fyIGv':function(_0x3e2972,_0x278bbd,_0x245652){return _0x3e2972(_0x278bbd,_0x245652);}};const _0x1dd69a=_0x448570['getSessionId']();if(!webrtc[_0x4932f5(0x36f)][_0x4932f5(0x222)]['length']||webrtc[_0x4932f5(0x36f)][_0x4932f5(0x2fb)](_0x1dd69a,_0x1d77f2['lqeTb'])['length'])return;ownPeer&&(delayedConnectionToPeer[ownPeer['id']]&&(clearInterval(delayedConnectionToPeer[ownPeer['id']]),delete delayedConnectionToPeer[ownPeer['id']]),ownPeer[_0x4932f5(0x1fd)]());const _0x42a326=function(){const _0x4c145e=_0x4932f5;_0x4c145e(0x2bf)!==_0x1d77f2[_0x4c145e(0x270)]?(ownPeer=webrtc[_0x4c145e(0x36f)][_0x4c145e(0x367)]({'id':_0x1dd69a,'type':'video','enableDataChannels':!![],'enableSimulcast':_0x448570['hasFeature'](_0x4c145e(0x1b2)),'receiveMedia':{'offerToReceiveAudio':0x0,'offerToReceiveVideo':0x0},'sendVideoIfAvailable':_0x448570[_0x4c145e(0x36d)]()}),webrtc[_0x4c145e(0x26f)](_0x1d77f2[_0x4c145e(0x29d)],ownPeer),ownPeer[_0x4c145e(0x371)](),localCallParticipantModel['setPeer'](ownPeer)):_0x1d77f2[_0x4c145e(0x299)](_0x15cd70[_0x3d51a7['id']],0x5)&&(_0x1d77f2['iKmFf'](_0x11ccbd['pc'][_0x4c145e(0x2d8)][_0x4c145e(0x31c)],_0x1d77f2[_0x4c145e(0x297)])&&_0x1d77f2[_0x4c145e(0x250)](_0x46bc67['pc']['signalingState'],_0x1d77f2[_0x4c145e(0x276)])&&(_0x26d6a2[_0x45a43c['id']]++,_0x29d258['debug'](_0x4c145e(0x32d),_0x743933),_0x340401['icerestart']()));};_0x42a326(),delayedConnectionToPeer[ownPeer['id']]=_0x1d77f2['fyIGv'](setInterval,function(){const _0x500943=_0x4932f5;ownPeer&&ownPeer['end']();if(_0x1dd69a!==_0x448570[_0x500943(0x2b1)]()){console[_0x500943(0x307)](_0x1d77f2[_0x500943(0x1b1)]),clearInterval(delayedConnectionToPeer[_0x1dd69a]),delete delayedConnectionToPeer[_0x1dd69a];return;}console[_0x500943(0x307)](_0x1d77f2[_0x500943(0x1f5)]),_0x1d77f2[_0x500943(0x349)](_0x42a326);},0x2710);}function sendCurrentMediaState(){const _0x13e636=_0x32abf0,_0x93662d={'Rioqt':function(_0x580df9,_0x3b8445,_0x3d8780){return _0x580df9(_0x3b8445,_0x3d8780);},'OzPJZ':_0x13e636(0x20d),'tAWQv':'videoOff','qpRny':function(_0x37447a,_0xabcdb5){return _0x37447a!==_0xabcdb5;},'pTOQQ':_0x13e636(0x1d8),'mfljH':'audioOff'};if(!webrtc[_0x13e636(0x36f)]['isVideoEnabled']())_0x93662d[_0x13e636(0x2c3)](_0x93662d['pTOQQ'],_0x13e636(0x1d8))?_0x93662d['Rioqt'](_0x8edcc8,_0x93662d[_0x13e636(0x2fa)],_0x93662d[_0x13e636(0x224)]):webrtc[_0x13e636(0x36f)][_0x13e636(0x26f)](_0x93662d[_0x13e636(0x224)]);else{if(_0x13e636(0x244)!==_0x13e636(0x244)){const _0x3473a8={'KNPLi':function(_0x2f9181,_0x367b3e){return _0x2f9181(_0x367b3e);}};_0x68ca9f(_0x1c4a8a,_0x7c7129,_0x13e636(0x28e))[_0x13e636(0x337)](function(){const _0x177c5b=_0x13e636;_0x3473a8[_0x177c5b(0x273)](_0x81464a,_0xe7e993);})['catch'](()=>{});}else webrtc['webrtc'][_0x13e636(0x26f)](_0x13e636(0x30c));}!webrtc[_0x13e636(0x36f)][_0x13e636(0x25e)]()?webrtc[_0x13e636(0x36f)]['emit'](_0x93662d[_0x13e636(0x201)]):webrtc[_0x13e636(0x36f)][_0x13e636(0x26f)](_0x13e636(0x285));}function sendCurrentNick(){const _0x5f00bc=_0x32abf0;webrtc[_0x5f00bc(0x36f)][_0x5f00bc(0x26f)](_0x5f00bc(0x21c),_0x189941['getters'][_0x5f00bc(0x23b)]());}function sendCurrentStateWithRepetition(_0x2cf2b0){const _0x112db3=_0x32abf0,_0x5ba50a={'iITwX':_0x112db3(0x370),'HFRYP':function(_0x4c2adc){return _0x4c2adc();},'QxrvU':function(_0x345831,_0x861076){return _0x345831>_0x861076;},'dRmRS':function(_0xd70722,_0x2f1d00){return _0xd70722===_0x2f1d00;},'CWgQy':_0x112db3(0x2a8),'XrmZf':function(_0x5c7d5c,_0x137fae){return _0x5c7d5c(_0x137fae);},'YDoKf':function(_0x454434,_0x5c4f62,_0x12d24f){return _0x454434(_0x5c4f62,_0x12d24f);}};!_0x2cf2b0&&(_0x2cf2b0=0x0,clearTimeout(sendCurrentStateWithRepetitionTimeout)),sendCurrentStateWithRepetitionTimeout=_0x5ba50a[_0x112db3(0x317)](setTimeout,function(){const _0xb931aa=_0x112db3,_0x1a415f={'cGEfq':_0x5ba50a[_0xb931aa(0x2c1)]};_0x5ba50a[_0xb931aa(0x2e7)](sendCurrentMediaState),sendCurrentNick();!_0x2cf2b0?_0x2cf2b0=0x3e8:_0x2cf2b0*=0x2;if(_0x5ba50a[_0xb931aa(0x2a3)](_0x2cf2b0,0x3e80)){if(_0x5ba50a[_0xb931aa(0x376)](_0x5ba50a[_0xb931aa(0x1f2)],_0xb931aa(0x2a8))){sendCurrentStateWithRepetitionTimeout=null;return;}else _0x185c4e[_0xb931aa(0x30e)](_0xb931aa(0x1f0),_0x39d29e),_0x15ade4[_0xb931aa(0x26f)](_0x1a415f['cGEfq'],'failed-no-restart');}_0x5ba50a[_0xb931aa(0x348)](sendCurrentStateWithRepetition,_0x2cf2b0);},_0x2cf2b0);}function _0x10de(){const _0x12a44f=['failed-no-restart','TxJrv','Error\x20while\x20accessing\x20microphone\x20&\x20camera','stopLocalVideo','sendOffer','No\x20bytes\x20received','kind','setPeerNeeded','wnMvh','feJpJ','WlTcf','sendDirectly','Remove\x20disconnected\x20peer','call','ICE\x20restart\x20after\x20disconnect.','turnservers','CyXva','DZTnK','icerestart','currentRoomToken','KbaVh','add','localScreenStopped','Connection\x20failed\x20(own\x20peer).','then','VFwUZ','QREhx','Unknown\x20message\x20type\x20%s\x20from\x20%s\x20datachannel','KXUNj','DQMDl','VqVrE','QFrkd','rbebs','startLocalVideo','CzLoy','zpSuz','xTvvZ','Kibqu','nBpvq','userId','MEKJi','XrmZf','zbxKD','490152EApNdf','prototype','SRUlX','connectionstatechange','NOdzZ','GJhmC','push','fpVvs','vLkKb','FPLLS','SCLWd','kFnwT','CUvQD','zmUcc','usersChanged','WsFmk','screen','WABPC','LyTkt','sMrSq','length','AQHgN','Xltia','crcTQ','videoOff','nick','waxYb','yfUaT','connected','createPeer','<a\x20\x20target=\x22_blank\x22\x20rel=\x22noreferrer\x20nofollow\x22\x20class=\x22external\x22\x20href=\x22https://nextcloud-talk.readthedocs.io/en/latest/TURN/\x22>','iimiM','nXKby','PggQo','IOFib','getSendVideoIfAvailable','bxuYd','webrtc','extendedIceConnectionStateChange','start','info','Talk','userid','VSACU','dRmRS','gSifv','eNJJi','CqfpG','DEDDX','keys','warn','No\x20offer\x20nor\x20answer\x20received,\x20sending\x20offer\x20again','vRUmA','OiwPP','EUkxJ','cysSy','get','smEqx','wUpIf','peerStreamAdded','No\x20offer\x20received,\x20request\x20offer\x20again','Only\x20secure\x20origins','ssKuq','pullMessagesStoppedOnFail','WITH_AUDIO','RMSvi','Offer\x20received\x20when\x20not\x20in\x20the\x20call,\x20ignore','ZjqHs','kRtKw','HEcbC','audio','bnOmy','playLeave','nextcloudsessionid','yIwlJ','simulcast','audioAvailable','{linkend}','BJKMM','tmfIC','RNyWi','updateCurrentCallFlags','Access\x20to\x20microphone\x20&\x20camera\x20was\x20denied','offer-to-ignore','OxEkc','getParticipantIdentifier','hasFeature','connectionState','QJYLy','xoDAK','IN_CALL','KsAQT','PUBLISH_VIDEO','bTtBS','CuJQP','bytesReceived','check_video_interval','tAIHU','zOAiT','CwTJg','ABstv','getAudioTracks','iceconnectionstatechange','LADSb','label','find','LxVWk','MICLz','maVdj','ZDATS','off','Starting\x20call\x20with','VjZhg','CoQgX','lgamy','participantFlagsChanged','CwHxK','sKPLg','HgliY','internal','0|1|4|3|2','localMediaStarted','ipVgn','isLocalMediaActive','disconnected-long','pgkpt','sRlLt','NYqSD','iNLUX','remove','jUaTK','hasOwnProperty','rXwtO','hideToast','audioOff','VZrJZ','OCA','ICE\x20failed\x20after\x205\x20tries.','ekxls','CWgQy','rZcNg','BfTRR','oLKtb','QuFYb','osSAs','MfamQ','hYWQS','Error\x20while\x20accessing\x20microphone\x20&\x20camera:\x20','ISYyk','dYjzC','end','ghwZX','setSendVideoIfAvailable','uqKxx','mfljH','failed','Connection\x20established.','HgVQw','ZhVXJ','checking','forEach','NbHTQ','pAuEV','201558AWgFuQ','signalingstatechange','getStats','status','utrQn','leaveCall','mhJVQ','speaking','UHhVP','NohEO','3|2|4|1|0','startMedia','URTCM','OPqBn','beforeJoinCall','dnYjZ','addEventListener','1378521TBoDKq','nickChanged','HWSRV','itpCW','cIUYx','56TFdWhE','CSHTN','localStreams','Zgnkq','tAWQv','2343348zUuIgE','CycIu','support','supportRTCPeerConnection','NcYpM','oRBpA','Unknown\x20message\x20from\x20%s\x20datachannel','RupDu','roomType','zAlPR','Access\x20to\x20microphone\x20&\x20camera\x20failed','MhYCR','stoppedSpeaking','UYxNs','sessionid','split','setScreenPeer','set','kuBCB','654iefBSb','9310wYScts','dispatch','getDisplayName','VNWbi','usersLeft','wEUSE','wLBmy','SFZAW','sid','749085iHeMnB','iceConnectionState','RbKCj','sendDirectlyToAll','AWtkA','flags','indexOf','createdPeer','Bluuh','cBGGR','YVxmq','nXymA','{linkstart}','rBTps','iKmFf','trackDisabled','now','usersInRoom','User\x20has\x20no\x20streams,\x20not\x20sending\x20another\x20offer','fkETy','answer','jHNIF','CALL_FLAG','%s\x20datachannel\x20is\x20open','DikEB','PAZzr','channelOpen','NjmIt','isAudioEnabled','stable','gZhDk','FcsjL','getters','jeYNO','spreed','mediaType','PERMISSIONS','uuMdn','XzJCK','ZSJJz','localMediaError','localTrackReplaced','name','XwLjC','Please\x20move\x20your\x20setup\x20to\x20HTTPS','emit','iMwFi','Access\x20to\x20microphone\x20&\x20camera\x20is\x20only\x20possible\x20with\x20HTTPS','closed','KNPLi','axrOx','wHMMk','TpZNp','wEwvw','requestOffer','bPuem','PSQvL','rCBtT','sessionId','WVVpJ','new','MJNqp','qpbiu','MEGrO','jtbKi','replace','yHZHY','audioOn','setNextcloudSessionId','WITH_VIDEO','track','peers','UuyHS','IKQjS','getSenders','qytcN','video','SPEAKING','prXbw','IqMBk','XFOGH','rFqBV','Connecting\x20to\x20peer...','amCqC','catch','TbEtu','RlgEq','BMhhk','getCurrentCallFlags','ahEWB','unmute','xCCsf','IGmQA','nbpaF','from','mute','WpxZp','QxrvU','playJoin','filter','Jgbua','SJXkF','EnmBQ','ZuzXu','setPeer','completed','Disconnected\x20(own\x20peer).','umLwP','vpQLx','NotAllowedError','NEEPs','getSessionId','FBHhI','RjIZu','TypeError','XSgqK','fFMHZ','sharemyscreen','This\x20is\x20taking\x20longer\x20than\x20expected.\x20Are\x20the\x20media\x20permissions\x20already\x20granted\x20(or\x20rejected)?\x20If\x20yes\x20please\x20restart\x20your\x20browser,\x20as\x20audio\x20and\x20video\x20are\x20failing','XErup','cGAWm','efHqA','EWSGa','RPlrg','qTkSV','OEtvr','kSkvG','iITwX','check_audio_interval','qpRny','EXtNf','channelMessage','sendToAll','nbQQq','WebRTC\x20is\x20not\x20supported\x20in\x20your\x20browser','jMLoF','cwFai','dPXum','wPnYU','aUyuC','Aqzfz','FAdXv','zizAy','participantPermissions','stream','fHYtd','Connection\x20failed.','vSpLI','UmWhr','wftSY','localDescription','Connection\x20established\x20(own\x20peer).','BJtPu','NotSupportedError','RDXzI','DISCONNECTED','Force\x20leaving\x20the\x20call\x20for\x20current\x20participant','CxQfk','dsQFu','HCKbA','oIuhx','payload','ZohGi','SIP_FLAG','zuBZE','HFRYP','dLunt','signalingState','teOnn','pXCHj','Request\x20offer\x20again','ICE\x20restart\x20after\x20failure.','zvNnP','NZnQK','oUfRf','IHavB','mcu','JIfam','cWMUk','pSJFe','aBnEh','signalingStateChange','Iyoti','inCall','OzPJZ','getPeers','hZCqi','2558524fxRemA','aAOwj','knLtx','CdECq','RAISE_HAND','forceReconnect','Qeuix','akhyW','getVideoTracks','\x20↗</a>','debug','settings','getDataChannel','mdrbu','YEwau','videoOn','PUBLISH_AUDIO','error','vBqOF','setUserId','JanusDataChannel','YoWQw','mgUmk','dhwkO','fcCte','FFbcd','YDoKf','message','eBAnx','CtbGv','ektlw','type','No\x20answer\x20received\x20for\x20own\x20peer\x20but\x20current\x20session\x20id\x20changed,\x20not\x20sending\x20offer\x20again','VHnVk'];_0x10de=function(){return _0x12a44f;};return _0x10de();}function userHasStreams(_0x5c0067){const _0x4cda38=_0x32abf0;let _0x4710cb=_0x5c0067;Object[_0x4cda38(0x34b)][_0x4cda38(0x1ea)][_0x4cda38(0x32c)](_0x4710cb,_0x4cda38(0x2f9))&&(_0x4710cb=_0x4710cb[_0x4cda38(0x2f9)]);_0x4710cb=_0x4710cb||PARTICIPANT[_0x4cda38(0x258)][_0x4cda38(0x2dd)];const _0x30ab47=PARTICIPANT['CALL_FLAG']['WITH_AUDIO']|PARTICIPANT[_0x4cda38(0x258)][_0x4cda38(0x287)];return(_0x4710cb&_0x30ab47)!==0x0;}function usersChanged(_0x352245,_0x52c8bc,_0x3b1762){'use strict';const _0x4962e1=_0x32abf0,_0x4cea2b={'NEEPs':function(_0x15f538,_0x3ed3a4){return _0x15f538(_0x3ed3a4);},'efHqA':_0x4962e1(0x28e),'WpxZp':_0x4962e1(0x37d),'vBqOF':function(_0x2ec0ac,_0x40d481){return _0x2ec0ac===_0x40d481;},'prXbw':_0x4962e1(0x27d),'osSAs':_0x4962e1(0x29f),'WABPC':'kxQtX','HgliY':'internal','NOdzZ':function(_0x29a226,_0x18e136){return _0x29a226(_0x18e136);},'WsFmk':function(_0x54cb8b,_0xf80ce0){return _0x54cb8b(_0xf80ce0);},'DZTnK':function(_0x46cc81){return _0x46cc81();},'OrAMh':function(_0x484a57){return _0x484a57();},'cWMUk':function(_0x11de07,_0x571f00,_0x3b1456){return _0x11de07(_0x571f00,_0x3b1456);},'ZuzXu':'kSkvG','YEwau':function(_0x451f75){return _0x451f75();},'knLtx':function(_0x49a19c,_0x420e7a){return _0x49a19c>_0x420e7a;},'DikEB':_0x4962e1(0x254),'yfUaT':_0x4962e1(0x32b),'Qeuix':function(_0x4ca204,_0x2ecc2a,_0x6a4131){return _0x4ca204(_0x2ecc2a,_0x6a4131);},'QREhx':_0x4962e1(0x285),'CSHTN':_0x4962e1(0x2f2),'vpQLx':_0x4962e1(0x37a)};const _0xb20616=_0x352245[_0x4962e1(0x2b1)](),_0x3c40ca=_0x352245[_0x4962e1(0x1bd)](_0x4cea2b[_0x4962e1(0x221)]);let _0x51a725=![],_0x5d43d6=![];_0x52c8bc['forEach'](function(_0x152ed4){const _0x3658d2=_0x4962e1;if(!_0x152ed4[_0x3658d2(0x2f9)])return;const _0x18e5a5=_0x152ed4[_0x3658d2(0x27c)]||_0x152ed4[_0x3658d2(0x233)];if(!_0x18e5a5||_0x4cea2b[_0x3658d2(0x30f)](_0x18e5a5,_0xb20616)||previousUsersInRoom[_0x3658d2(0x248)](_0x18e5a5)!==-0x1){_0x18e5a5===_0xb20616&&previousUsersInRoom[_0x3658d2(0x248)](_0x18e5a5)!==-0x1&&Sounds[_0x3658d2(0x2a4)](!![],_0x4cea2b[_0x3658d2(0x30f)](_0x52c8bc['length'],0x1));return;}previousUsersInRoom['push'](_0x18e5a5);const _0x16f6b2=_0x152ed4['userId']||_0x152ed4[_0x3658d2(0x374)]||null,_0xf1af1=_0x152ed4['nextcloudSessionId']||_0x152ed4[_0x3658d2(0x1b0)]||_0x18e5a5;let _0x55ada4=callParticipantCollection[_0x3658d2(0x382)](_0x18e5a5);if(!_0x55ada4){if(_0x4cea2b[_0x3658d2(0x290)]!==_0x3658d2(0x27d))return;else _0x55ada4=callParticipantCollection[_0x3658d2(0x334)]({'peerId':_0x18e5a5,'webRtc':webrtc});}_0x55ada4[_0x3658d2(0x310)](_0x16f6b2),_0x55ada4[_0x3658d2(0x286)](_0xf1af1);_0x152ed4[_0x3658d2(0x1de)]&&(_0x4cea2b[_0x3658d2(0x1f7)]!==_0x4cea2b[_0x3658d2(0x35b)]?_0x55ada4[_0x3658d2(0x236)](_0x4cea2b[_0x3658d2(0x1dd)],!![]):(_0x2de2e6[_0x46bb1b['id']]&&(_0x4cea2b[_0x3658d2(0x2b0)](_0xae1d21,_0x155e5e[_0x3e0372['id']]),delete _0xe5bbe2[_0xbf95e2['id']]),_0x49ee3a[_0x3658d2(0x1fd)]()));(_0x352245['hasFeature'](_0x3658d2(0x2f2))&&_0x152ed4&&!_0x4cea2b[_0x3658d2(0x34e)](userHasStreams,_0x152ed4)||!_0x352245[_0x3658d2(0x1bd)](_0x3658d2(0x2f2))&&_0x152ed4&&!_0x4cea2b[_0x3658d2(0x359)](userHasStreams,_0x152ed4)&&!webrtc[_0x3658d2(0x36f)]['localStreams']['length'])&&(_0x55ada4['setPeer'](null),_0x352245['hasFeature'](_0x3658d2(0x2f2))?_0x4cea2b[_0x3658d2(0x330)](sendCurrentStateWithRepetition):_0x4cea2b['OrAMh'](sendCurrentNick));_0x51a725=!![];const _0x1772c0=function(){const _0xcb53a4=_0x3658d2,_0x35a259=webrtc['webrtc']['createPeer']({'id':_0x18e5a5,'type':_0xcb53a4(0x28e),'enableDataChannels':!![],'enableSimulcast':_0x352245[_0xcb53a4(0x1bd)](_0xcb53a4(0x1b2)),'receiveMedia':{'offerToReceiveAudio':0x1,'offerToReceiveVideo':0x1},'sendVideoIfAvailable':_0x352245[_0xcb53a4(0x36d)]()});webrtc[_0xcb53a4(0x26f)](_0xcb53a4(0x249),_0x35a259),_0x35a259['start']();};if(!webrtc[_0x3658d2(0x36f)][_0x3658d2(0x2fb)](_0x18e5a5,_0x4cea2b[_0x3658d2(0x2bb)])[_0x3658d2(0x35e)]){if(_0x3c40ca&&_0x4cea2b[_0x3658d2(0x359)](userHasStreams,_0x152ed4))_0x352245[_0x3658d2(0x278)](_0x152ed4,_0x4cea2b['efHqA']),delayedConnectionToPeer[_0x152ed4[_0x3658d2(0x27c)]]=_0x4cea2b[_0x3658d2(0x2f4)](setInterval,function(){const _0x3ede18=_0x3658d2;console['debug']('No\x20offer\x20received\x20for\x20new\x20peer,\x20request\x20offer\x20again'),_0x352245[_0x3ede18(0x278)](_0x152ed4,_0x3ede18(0x28e));},0x2710);else{if(!_0x3c40ca&&userHasStreams(selfInCall)&&(!userHasStreams(_0x152ed4)||_0x18e5a5<_0xb20616))_0x3658d2(0x2c0)===_0x4cea2b[_0x3658d2(0x2a9)]?(console['debug'](_0x3658d2(0x1d6),_0x152ed4),_0x4cea2b[_0x3658d2(0x30b)](_0x1772c0)):(_0x4b9001['audio']&&(_0x26f2d5|=_0x3bdf95[_0x3658d2(0x258)][_0x3658d2(0x1a7)]),_0x2ca527[_0x3658d2(0x28e)]&&_0x5c4ef7['getSendVideoIfAvailable']()&&(_0x419673|=_0xd75791[_0x3658d2(0x258)][_0x3658d2(0x287)]));else!_0x3c40ca&&userHasStreams(selfInCall)&&userHasStreams(_0x152ed4)&&_0x4cea2b[_0x3658d2(0x2ff)](_0x18e5a5,_0xb20616)?delayedConnectionToPeer[_0x18e5a5]=_0x4cea2b[_0x3658d2(0x2f4)](setInterval,function(){const _0x4bc82e=_0x3658d2;_0x4bc82e(0x1e5)===_0x4bc82e(0x1e9)?_0x2d190['broadcaster']=_0x1f62af[_0x4bc82e(0x2a0)]:(webrtc[_0x4bc82e(0x36f)][_0x4bc82e(0x2fb)](_0x18e5a5,_0x4cea2b[_0x4bc82e(0x2bb)])[_0x4bc82e(0x207)](function(_0x2d7587){_0x2d7587['end']();}),console[_0x4bc82e(0x307)](_0x4cea2b[_0x4bc82e(0x2a2)]),_0x1772c0());},0x2710):console[_0x3658d2(0x307)](_0x4cea2b[_0x3658d2(0x25a)]);}}webrtc['getLocalScreen']()&&createScreensharingPeer(_0x352245,_0x18e5a5);}),_0x3b1762[_0x4962e1(0x207)](function(_0x7cf61b){const _0x233073=_0x4962e1;console[_0x233073(0x307)](_0x4cea2b[_0x233073(0x365)],_0x7cf61b),webrtc['removePeers'](_0x7cf61b),callParticipantCollection[_0x233073(0x1e8)](_0x7cf61b)&&(_0x5d43d6=!![]),delayedConnectionToPeer[_0x7cf61b]&&(_0x4cea2b[_0x233073(0x34e)](clearInterval,delayedConnectionToPeer[_0x7cf61b]),delete delayedConnectionToPeer[_0x7cf61b],_0x5d43d6=!![]);}),previousUsersInRoom=_0x4cea2b[_0x4962e1(0x2f4)](arrayDiff,previousUsersInRoom,_0x3b1762);if(selfInCall!==PARTICIPANT[_0x4962e1(0x258)][_0x4962e1(0x2dd)]){if(_0x4cea2b['vBqOF']('rZYSa',_0x4cea2b[_0x4962e1(0x2ae)]))_0x4cea2b[_0x4962e1(0x303)](_0x1d4c70,_0x4962e1(0x20d),_0x4cea2b[_0x4962e1(0x339)]);else{if(_0x51a725)Sounds[_0x4962e1(0x2a4)]();else _0x5d43d6&&Sounds[_0x4962e1(0x1af)](![],_0x4cea2b[_0x4962e1(0x30f)](previousUsersInRoom[_0x4962e1(0x35e)],0x0));}}}function usersInCallChanged(_0xfcbc5,_0xee8d74){const _0x1b9016=_0x32abf0,_0x3abac8={'jMLoF':function(_0x525c8a){return _0x525c8a();},'Iyoti':function(_0x4d7aab){return _0x4d7aab();},'Jchnk':function(_0x12f194,_0x49fd38){return _0x12f194!==_0x49fd38;},'XwLjC':_0x1b9016(0x2dc),'zOAiT':_0x1b9016(0x2f2),'FbYMA':function(_0xec88e3,_0x30e718){return _0xec88e3>_0x30e718;},'rCBtT':function(_0x5becb3,_0x5f4ca6){return _0x5becb3!==_0x5f4ca6;},'SkVEo':function(_0x8a5c4a,_0x4a3239){return _0x8a5c4a!==_0x4a3239;},'ISYyk':function(_0x37890c,_0xf1cb76){return _0x37890c!==_0xf1cb76;},'AQHgN':function(_0x458fc9,_0x3b656b){return _0x458fc9===_0x3b656b;},'zizAy':_0x1b9016(0x2de),'JIfam':function(_0x263afe,_0x521ec4,_0x1a6fe3,_0x58029c){return _0x263afe(_0x521ec4,_0x1a6fe3,_0x58029c);},'EvAoL':'wUtDE'},_0x119d97=selfInCall,_0x20231d=_0xfcbc5['getSessionId'](),_0x1d217e=[],_0x4de8cc={};selfInCall=PARTICIPANT[_0x1b9016(0x258)]['DISCONNECTED'];let _0x5d2d32;for(_0x5d2d32 in _0xee8d74){if(!Object['prototype'][_0x1b9016(0x1ea)][_0x1b9016(0x32c)](_0xee8d74,_0x5d2d32))continue;const _0x4855d4=_0xee8d74[_0x5d2d32];if(!_0x4855d4[_0x1b9016(0x2f9)])continue;if(_0x5d2d32===_0x20231d){selfInCall=_0x4855d4[_0x1b9016(0x2f9)];continue;}_0x1d217e[_0x1b9016(0x350)](_0x5d2d32),_0x4de8cc[_0x5d2d32]=_0x4855d4;}_0xfcbc5[_0x1b9016(0x1bd)](_0x3abac8[_0x1b9016(0x1c9)])&&(ownPeer||_0x3abac8['FbYMA'](_0x1d217e[_0x1b9016(0x35e)],0x0)&&webrtc[_0x1b9016(0x36f)]['localStreams']['length'])?(checkStartPublishOwnPeer(_0xfcbc5),localCallParticipantModel[_0x1b9016(0x326)](!![])):localCallParticipantModel[_0x1b9016(0x326)](![]);if(_0x119d97===PARTICIPANT[_0x1b9016(0x258)]['DISCONNECTED']&&_0x3abac8[_0x1b9016(0x27b)](selfInCall,PARTICIPANT[_0x1b9016(0x258)][_0x1b9016(0x2dd)]))Sounds[_0x1b9016(0x2a4)](!![],Object[_0x1b9016(0x37b)](_0x4de8cc)['length']===0x0);else _0x3abac8['SkVEo'](_0x119d97,PARTICIPANT['CALL_FLAG'][_0x1b9016(0x2dd)])&&selfInCall===PARTICIPANT[_0x1b9016(0x258)][_0x1b9016(0x2dd)]&&Sounds[_0x1b9016(0x1af)](!![]);_0x3abac8[_0x1b9016(0x1fb)](_0x119d97,PARTICIPANT[_0x1b9016(0x258)][_0x1b9016(0x2dd)])&&_0x3abac8[_0x1b9016(0x35f)](selfInCall,PARTICIPANT[_0x1b9016(0x258)][_0x1b9016(0x2dd)])&&localUserInCall&&(console['info'](_0x3abac8[_0x1b9016(0x2d0)]),_0x189941[_0x1b9016(0x23a)](_0x1b9016(0x20f),{'token':_0x189941[_0x1b9016(0x262)]['getToken'](),'participantIdentifier':_0x189941['getters'][_0x1b9016(0x1bc)]()}));if(selfInCall===PARTICIPANT[_0x1b9016(0x258)][_0x1b9016(0x2dd)]){_0x3abac8[_0x1b9016(0x2f3)](usersChanged,_0xfcbc5,[],previousUsersInRoom);return;}const _0x4e480b=arrayDiff(_0x1d217e,previousUsersInRoom),_0x2f5513=arrayDiff(previousUsersInRoom,_0x1d217e),_0x492c51=[];_0x4e480b['forEach'](function(_0x8a14f8){const _0x502acd=_0x1b9016;_0x3abac8['Jchnk'](_0x3abac8[_0x502acd(0x26d)],_0x502acd(0x36c))?_0x492c51[_0x502acd(0x350)](_0x4de8cc[_0x8a14f8]):(_0x3abac8[_0x502acd(0x2c9)](_0x4e7e21),_0x3abac8[_0x502acd(0x2f8)](_0x24fa59));});if(_0x492c51[_0x1b9016(0x35e)]||_0x2f5513[_0x1b9016(0x35e)]){if(_0x1b9016(0x1b7)!==_0x3abac8['EvAoL'])usersChanged(_0xfcbc5,_0x492c51,_0x2f5513);else return;}}export default function initWebRtc(_0x3257b1,_0x4ab07b,_0x4970c1){const _0x11fe4e=_0x32abf0,_0x53052c={'MICLz':function(_0xe82585,_0x5592cf){return _0xe82585!==_0x5592cf;},'IKQjS':function(_0xbc61a6,_0x59aa5b){return _0xbc61a6===_0x59aa5b;},'NbHTQ':_0x11fe4e(0x1f9),'TxJrv':function(_0x3dcc05,_0xf0bab0){return _0x3dcc05&_0xf0bab0;},'KsAQT':_0x11fe4e(0x1b3),'zpSuz':_0x11fe4e(0x2a6),'PggQo':function(_0x18d859,_0x116626,_0x469b7e){return _0x18d859(_0x116626,_0x469b7e);},'NjmIt':'0|1|2|4|3','Flypz':function(_0xcdb81c){return _0xcdb81c();},'AWtkA':function(_0x29a830,_0x3b9fb0){return _0x29a830===_0x3b9fb0;},'zvNnP':_0x11fe4e(0x2c7),'FAdXv':_0x11fe4e(0x256),'rZcNg':function(_0x35ec37,_0x1f7380){return _0x35ec37===_0x1f7380;},'aUyuC':'offer','fcCte':function(_0x2ffcb3,_0x287134){return _0x2ffcb3===_0x287134;},'dPXum':function(_0x55015b,_0x3a267d){return _0x55015b(_0x3a267d);},'XzJCK':_0x11fe4e(0x1a9),'XmKVz':_0x11fe4e(0x35a),'XSgqK':_0x11fe4e(0x212),'ZjqHs':function(_0x4b8bb5,_0x45af7a,_0x403d53){return _0x4b8bb5(_0x45af7a,_0x403d53);},'QJYLy':function(_0x1ef5db){return _0x1ef5db();},'zuBZE':function(_0x517570,_0x22f182){return _0x517570!==_0x22f182;},'URTCM':'xwtfY','lgamy':_0x11fe4e(0x281),'DQMDl':_0x11fe4e(0x2f2),'FcsjL':_0x11fe4e(0x2e4),'mdrbu':'disconnected','ABstv':_0x11fe4e(0x370),'fpVvs':'disconnected-long','tAIHU':_0x11fe4e(0x25f),'umLwP':_0x11fe4e(0x2f0),'pgkpt':function(_0x1406f8,_0x328863,_0x3bf182){return _0x1406f8(_0x328863,_0x3bf182);},'NcYpM':function(_0x3bc9c2,_0x505455){return _0x3bc9c2!==_0x505455;},'IGmQA':_0x11fe4e(0x2eb),'mhJVQ':_0x11fe4e(0x1a3),'ssKuq':'spreed','gUgcb':'Could\x20not\x20establish\x20a\x20connection\x20with\x20at\x20least\x20one\x20participant.\x20A\x20TURN\x20server\x20might\x20be\x20needed\x20for\x20your\x20scenario.\x20Please\x20ask\x20your\x20administrator\x20to\x20set\x20one\x20up\x20following\x20{linkstart}this\x20documentation{linkend}.','VFwUZ':_0x11fe4e(0x24e),'nXymA':_0x11fe4e(0x1b4),'VqVrE':function(_0x26dbac,_0x47be44){return _0x26dbac===_0x47be44;},'kFnwT':_0x11fe4e(0x2ed),'bTtBS':_0x11fe4e(0x1f0),'fFMHZ':_0x11fe4e(0x31f),'jYdFw':_0x11fe4e(0x24c),'OmoxV':_0x11fe4e(0x2ec),'Aqzfz':_0x11fe4e(0x294),'cOygL':_0x11fe4e(0x203),'uuMdn':function(_0x16542b,_0x5dacb7){return _0x16542b(_0x5dacb7);},'YoWQw':'Disconnected.','waxYb':_0x11fe4e(0x1cd),'cysSy':_0x11fe4e(0x202),'ekxls':'Error\x20while\x20accessing\x20microphone\x20&\x20camera','gZhDk':_0x11fe4e(0x1fa),'iimiM':function(_0x3e456d,_0x1d691e){return _0x3e456d===_0x1d691e;},'CwTJg':_0x11fe4e(0x2f7),'RjIZu':_0x11fe4e(0x347),'CHzHM':_0x11fe4e(0x20b),'swrqU':_0x11fe4e(0x1df),'CycIu':_0x11fe4e(0x27e),'xTvvZ':'checking','KbaVh':_0x11fe4e(0x255),'FPLLS':function(_0x7c87ad,_0x299082){return _0x7c87ad(_0x299082);},'PSQvL':function(_0x348c8a,_0x235629){return _0x348c8a===_0x235629;},'sMrSq':function(_0x129b5e,_0x30afeb){return _0x129b5e&_0x30afeb;},'XErup':function(_0x3de9ff,_0xaeccb){return _0x3de9ff&_0xaeccb;},'APOBz':_0x11fe4e(0x254),'bxuYd':_0x11fe4e(0x1dc),'CwHxK':function(_0x24e886,_0x3418a2){return _0x24e886(_0x3418a2);},'jHNIF':_0x11fe4e(0x28e),'UmWhr':_0x11fe4e(0x2c4),'ZSJJz':function(_0x472a2d,_0x501abf){return _0x472a2d(_0x501abf);},'CUvQD':_0x11fe4e(0x37f),'wnMvh':_0x11fe4e(0x324),'ipVgn':function(_0x5520d2,_0x5373f0){return _0x5520d2(_0x5373f0);},'hZCqi':_0x11fe4e(0x1ad),'SJXkF':function(_0x127491,_0x43ede4){return _0x127491(_0x43ede4);},'cIUYx':function(_0x5230af,_0x2e1dc6,_0x1cf4b4){return _0x5230af(_0x2e1dc6,_0x1cf4b4);},'twJWe':function(_0x33a6cc,_0x2bf768){return _0x33a6cc!==_0x2bf768;},'VHnVk':_0x11fe4e(0x31a),'dsQFu':function(_0x5bb31c,_0x12d018,_0x2cb8b5){return _0x5bb31c(_0x12d018,_0x2cb8b5);},'fHYtd':_0x11fe4e(0x29c),'WlTcf':_0x11fe4e(0x1eb),'EvLZN':function(_0xb602e6,_0x9a1c07,_0x2e61a6){return _0xb602e6(_0x9a1c07,_0x2e61a6);},'wEUSE':function(_0x339e40){return _0x339e40();},'DeJlZ':function(_0x2e0ecb,_0x121d0b){return _0x2e0ecb&_0x121d0b;},'vRUmA':'CuJQP','tmGdF':function(_0x391b7a,_0x31bb53){return _0x391b7a!==_0x31bb53;},'NohEO':'OiGaz','MJNqp':function(_0x3ba5e9,_0x2aa16f){return _0x3ba5e9|_0x2aa16f;},'maVdj':function(_0x2cf881,_0x434774){return _0x2cf881===_0x434774;},'cvtOp':'AlMmp','UuyHS':function(_0x50f7e1,_0x32b988,_0x52f4ff){return _0x50f7e1(_0x32b988,_0x52f4ff);},'CzLoy':_0x11fe4e(0x1e0),'wnzEP':_0x11fe4e(0x22f),'NYqSD':function(_0x156816,_0x163123){return _0x156816===_0x163123;},'ciUjd':function(_0x1a9b08,_0x548e50){return _0x1a9b08!==_0x548e50;},'CDCUH':_0x11fe4e(0x271),'Kibqu':function(_0xd972f2,_0x2163eb){return _0xd972f2+_0x2163eb;},'SXgHX':_0x11fe4e(0x2af),'duPCB':'WebRTC\x20not\x20supported','jSraA':_0x11fe4e(0x2c8),'zAlPR':function(_0x2d0dfe,_0x1cb9bf){return _0x2d0dfe+_0x1cb9bf;},'UBWbs':'Please\x20use\x20a\x20different\x20browser\x20like\x20Firefox\x20or\x20Chrome','crcTQ':function(_0x48c04d,_0x12fb50,_0xa31273){return _0x48c04d(_0x12fb50,_0xa31273);},'ahEWB':function(_0x43e2c1,_0x516dcd,_0x224db6){return _0x43e2c1(_0x516dcd,_0x224db6);},'hRWrg':_0x11fe4e(0x259),'CSGNl':function(_0x448c7a,_0x257bcc,_0x19036e,_0x51c79c){return _0x448c7a(_0x257bcc,_0x19036e,_0x51c79c);},'CxQfk':_0x11fe4e(0x20d),'vYPkS':_0x11fe4e(0x311),'HWSRV':_0x11fe4e(0x285),'jeYNO':function(_0x463370,_0x3cec53){return _0x463370===_0x3cec53;},'FFbcd':_0x11fe4e(0x30c),'BfTRR':_0x11fe4e(0x362),'WtIzb':'nickChanged','rrQPh':'string','vSpLI':_0x11fe4e(0x363),'CyXva':function(_0x46cb7e,_0x110df4){return _0x46cb7e===_0x110df4;},'qytcN':_0x11fe4e(0x211),'bPuem':_0x11fe4e(0x231),'ZDATS':function(_0x32d1c8,_0x1d1ffd){return _0x32d1c8===_0x1d1ffd;},'xoDAK':function(_0x58ba50,_0x45d1ec){return _0x58ba50&_0x45d1ec;},'EWSGa':'message','DMGnw':_0x11fe4e(0x35c),'wUpIf':function(_0x23c642,_0x506a68){return _0x23c642===_0x506a68;},'LxVWk':_0x11fe4e(0x1ac),'skWXg':function(_0x3b7296,_0x26e3c2,_0x57a569){return _0x3b7296(_0x26e3c2,_0x57a569);},'oIuhx':'ergVT','hzzZN':function(_0x34bf3b,_0x1fd636){return _0x34bf3b===_0x1fd636;},'VSACU':_0x11fe4e(0x217),'jtbKi':function(_0xe49df,_0x11d5dc,_0x11329f){return _0xe49df(_0x11d5dc,_0x11329f);},'oRBpA':_0x11fe4e(0x358),'NZnQK':_0x11fe4e(0x253),'feJpJ':_0x11fe4e(0x218),'kuBCB':_0x11fe4e(0x20f),'vLkKb':_0x11fe4e(0x1b2),'amCqC':'peerEnded','ushmB':'localStreamRequested','uqKxx':_0x11fe4e(0x26b),'wPnYU':_0x11fe4e(0x26a),'CqfpG':_0x11fe4e(0x2c6),'DwDVg':_0x11fe4e(0x1ed),'HCKbA':'localScreenAdded','Xltia':_0x11fe4e(0x335)};callParticipantCollection=_0x4ab07b,localCallParticipantModel=_0x4970c1,_0x3257b1['on'](_0x11fe4e(0x23d),function(_0x5b0cd5){const _0x406e3d=_0x11fe4e;if(_0x53052c[_0x406e3d(0x1d2)](_0x406e3d(0x2be),_0x406e3d(0x2be)))return;else _0x5b0cd5['forEach'](function(_0x787dca){delete usersInCallMapping[_0x787dca];}),usersChanged(_0x3257b1,[],_0x5b0cd5);}),_0x3257b1['on'](_0x53052c[_0x11fe4e(0x22a)],function(_0x23fef4){const _0x2d8b89=_0x11fe4e;_0x53052c[_0x2d8b89(0x28b)](_0x53052c[_0x2d8b89(0x208)],_0x2d8b89(0x2f5))?_0x5bd9c7(_0x457381,_0x1cc191[_0x2d8b89(0x258)][_0x2d8b89(0x1c1)]):(_0x23fef4['forEach'](function(_0x53b322){const _0xff053=_0x2d8b89,_0x2f3400=_0x53b322[_0xff053(0x27c)]||_0x53b322['sessionid'];usersInCallMapping[_0x2f3400]=_0x53b322;}),usersInCallChanged(_0x3257b1,usersInCallMapping));}),_0x3257b1['on'](_0x11fe4e(0x1da),function(_0x121ceb){const _0x1f1841=_0x11fe4e,_0x544cad=callParticipantCollection[_0x1f1841(0x382)](_0x121ceb['sessionid']);_0x544cad&&(_0x544cad['set'](_0x1f1841(0x211),_0x53052c['TxJrv'](_0x121ceb[_0x1f1841(0x247)],PARTICIPANT[_0x1f1841(0x2e5)][_0x1f1841(0x28f)])>0x0),_0x544cad['set'](_0x53052c[_0x1f1841(0x1c2)],(_0x121ceb[_0x1f1841(0x247)]&PARTICIPANT['SIP_FLAG']['MUTE_MICROPHONE'])===0x0),_0x544cad[_0x1f1841(0x236)]('raisedHand',{'state':_0x53052c['MICLz'](_0x121ceb[_0x1f1841(0x247)]&PARTICIPANT[_0x1f1841(0x2e5)][_0x1f1841(0x301)],0x0),'timestamp':Date[_0x1f1841(0x252)]()}));}),_0x3257b1['on'](_0x53052c[_0x11fe4e(0x2ef)],function(_0x195962){const _0x28a86d=_0x11fe4e,_0x29c831={'akhyW':_0x53052c[_0x28a86d(0x342)],'GJhmC':_0x28a86d(0x291)};usersInCallMapping={},_0x195962[_0x28a86d(0x207)](function(_0x41add2){const _0x26bf6b=_0x28a86d;if(_0x29c831[_0x26bf6b(0x304)]!==_0x29c831[_0x26bf6b(0x34f)]){const _0x442a5f=_0x41add2[_0x26bf6b(0x27c)]||_0x41add2[_0x26bf6b(0x233)];usersInCallMapping[_0x442a5f]=_0x41add2;}else return;}),_0x53052c['PggQo'](usersInCallChanged,_0x3257b1,usersInCallMapping);}),_0x3257b1['on'](_0x53052c[_0x11fe4e(0x328)],function(_0xa97420,_0x25f06a){localUserInCall=!![];}),_0x3257b1['on']('beforeLeaveCall',function(_0x51b60c,_0x538bf8){localUserInCall=![];}),_0x3257b1['on'](_0x53052c[_0x11fe4e(0x237)],function(_0x32d7e5,_0x75b026){const _0x44f26f=_0x11fe4e,_0x37e5f6=_0x53052c[_0x44f26f(0x25d)][_0x44f26f(0x234)]('|');let _0x22638c=0x0;while(!![]){switch(_0x37e5f6[_0x22638c++]){case'0':if(_0x75b026)return;continue;case'1':_0x53052c['Flypz'](_0x11061f);continue;case'2':Sounds[_0x44f26f(0x1af)](!![]);continue;case'3':webrtc['leaveCall']();continue;case'4':ownPeer&&delayedConnectionToPeer[ownPeer['id']]&&(clearInterval(delayedConnectionToPeer[ownPeer['id']]),delete delayedConnectionToPeer[ownPeer['id']]);continue;}break;}}),_0x3257b1['on'](_0x53052c[_0x11fe4e(0x2bc)],function(_0x53f613){const _0x3e0253=_0x11fe4e;if(_0x53052c[_0x3e0253(0x246)](_0x3e0253(0x2c7),_0x53052c[_0x3e0253(0x2ee)])){if(_0x53052c['IKQjS'](_0x53f613[_0x3e0253(0x31c)],_0x53052c[_0x3e0253(0x2cf)])&&_0x53052c[_0x3e0253(0x1f3)](_0x53f613[_0x3e0253(0x22d)],_0x3e0253(0x28e))&&delayedConnectionToPeer[_0x53f613[_0x3e0253(0x2a0)]]){clearInterval(delayedConnectionToPeer[_0x53f613[_0x3e0253(0x2a0)]]),delete delayedConnectionToPeer[_0x53f613[_0x3e0253(0x2a0)]];return;}if(_0x53f613['type']!==_0x53052c['aUyuC'])return;const _0xa288ee=webrtc[_0x3e0253(0x36f)][_0x3e0253(0x289)],_0x4a721b=_0xa288ee[_0x3e0253(0x1d0)](function(_0x3c1563){const _0x8a2d82=_0x3e0253;if(_0x3c1563[_0x8a2d82(0x2b7)])return![];return _0x53052c[_0x8a2d82(0x28b)](_0x3c1563['id'],_0x53f613['from'])&&_0x3c1563[_0x8a2d82(0x31c)]===_0x53f613[_0x8a2d82(0x22d)]&&_0x3c1563[_0x8a2d82(0x241)]!==_0x53f613['sid'];});_0x4a721b&&_0x4a721b[_0x3e0253(0x1fd)](),_0x53052c[_0x3e0253(0x315)](_0x53f613[_0x3e0253(0x22d)],_0x3e0253(0x28e))&&delayedConnectionToPeer[_0x53f613[_0x3e0253(0x2a0)]]&&(_0x53052c['dPXum'](clearInterval,delayedConnectionToPeer[_0x53f613[_0x3e0253(0x2a0)]]),delete delayedConnectionToPeer[_0x53f613[_0x3e0253(0x2a0)]]),!selfInCall&&(console[_0x3e0253(0x307)](_0x53052c[_0x3e0253(0x268)]),_0x53f613[_0x3e0253(0x31c)]=_0x3e0253(0x1ba)),_0x3257b1[_0x3e0253(0x1bd)](_0x3e0253(0x2f2))&&_0x53052c[_0x3e0253(0x246)](_0x53f613[_0x3e0253(0x22d)],_0x53052c['XmKVz'])&&(_0x53f613['broadcaster']=_0x53f613[_0x3e0253(0x2a0)]);}else _0x122912[_0x3e0253(0x36f)][_0x3e0253(0x26f)](_0x3e0253(0x362));}),webrtc=new _0x4a4020({'autoRequestMedia':!![],'debug':![],'autoAdjustMic':![],'audioFallback':!![],'connection':_0x3257b1,'enableDataChannels':!![],'enableSimulcast':_0x3257b1[_0x11fe4e(0x1bd)](_0x53052c[_0x11fe4e(0x352)]),'nick':_0x189941[_0x11fe4e(0x262)][_0x11fe4e(0x23b)]()});!window[_0x11fe4e(0x1ef)][_0x11fe4e(0x373)]&&(window[_0x11fe4e(0x1ef)]['Talk']={});window[_0x11fe4e(0x1ef)][_0x11fe4e(0x373)]['SimpleWebRTC']=webrtc,_0x3257b1['on'](_0x11fe4e(0x1a6),function(){const _0x51bb58=_0x11fe4e;_0x53052c[_0x51bb58(0x1d2)](_0x53052c[_0x51bb58(0x2b5)],_0x51bb58(0x2da))?webrtc['leaveCall']():(_0x1cd380[_0x20b520['id']]&&(_0xa68b4a(_0x627e2d[_0x5c1467['id']]),delete _0x548e6f[_0x1c2dd8['id']]),_0x498608[_0x51bb58(0x1fd)]());}),webrtc[_0x11fe4e(0x215)]=function(_0x888c74,_0x57a7ef){const _0xcb10a6=_0x11fe4e;startedWithMedia=undefined;const _0x5bb4e0={'audio':!_0x57a7ef||!!_0x53052c[_0xcb10a6(0x320)](_0x57a7ef,PARTICIPANT['CALL_FLAG'][_0xcb10a6(0x1a7)]),'video':!_0x57a7ef||!!(_0x57a7ef&PARTICIPANT['CALL_FLAG'][_0xcb10a6(0x287)])};webrtc['joinCall'](_0x888c74,_0x5bb4e0);};const _0xd952fa=function(_0x1fb984,_0x39005c,_0x568685){const _0x58e645=_0x11fe4e,_0x3faa0a={'zJgQl':function(_0x339381){const _0x3b23de=_0x5968;return _0x53052c[_0x3b23de(0x1bf)](_0x339381);}};if(_0x53052c[_0x58e645(0x2e6)](_0x58e645(0x230),_0x58e645(0x2ea))){if(ownPeer&&_0x3257b1[_0x58e645(0x1bd)]&&_0x3257b1[_0x58e645(0x1bd)](_0x58e645(0x2f2))){if(_0x53052c[_0x58e645(0x216)]!==_0x58e645(0x1fe)){ownPeer[_0x58e645(0x32a)](_0x1fb984,_0x39005c,_0x568685);return;}else _0x4fb413=_0x53052c['ZjqHs'](_0x3aea74,_0x296f17(_0x58e645(0x264),_0x58e645(0x2b8)),{'timeout':_0x1f8f5f});}webrtc[_0x58e645(0x245)](_0x1fb984,_0x39005c,_0x568685);}else _0x3faa0a['zJgQl'](_0x801e87);};function _0x2b3d12(_0x1ee0d8){const _0x2a568e=_0x11fe4e;_0x53052c[_0x2a568e(0x1d9)]===_0x53052c[_0x2a568e(0x1d9)]?(!_0x3257b1[_0x2a568e(0x1bd)](_0x53052c[_0x2a568e(0x33c)])?_0x53052c[_0x2a568e(0x1bf)](sendCurrentMediaState):_0x53052c[_0x2a568e(0x1bf)](sendCurrentStateWithRepetition),spreedPeerConnectionTable[_0x1ee0d8['id']]>0x0&&(spreedPeerConnectionTable[_0x1ee0d8['id']]=0x0)):_0x50e11f[_0x2a568e(0x1fd)]();}function _0x3e7caa(_0x49ebe8){const _0xf93bf6=_0x11fe4e;_0x53052c[_0xf93bf6(0x2ad)]==='bUlCe'?_0x1449ae[_0x42e058['id']]=0x0:_0x53052c[_0xf93bf6(0x1e4)](setTimeout,function(){const _0x14fc81=_0xf93bf6;if(_0x53052c[_0x14fc81(0x261)]!==_0x14fc81(0x204)){if(_0x49ebe8['pc'][_0x14fc81(0x243)]!==_0x53052c[_0x14fc81(0x30a)])return;_0x49ebe8[_0x14fc81(0x26f)](_0x53052c[_0x14fc81(0x1cb)],_0x53052c[_0x14fc81(0x351)]),!_0x3257b1[_0x14fc81(0x1bd)]('mcu')&&(_0x53052c[_0x14fc81(0x1f3)]('xJCiT','eRQUj')?(_0x4faad1(_0x24d553[_0x14fc81(0x1c7)]),_0x3f30ce[_0x14fc81(0x1c7)]=null):spreedPeerConnectionTable[_0x49ebe8['id']]<0x5&&(_0x49ebe8['pc']['localDescription'][_0x14fc81(0x31c)]===_0x53052c[_0x14fc81(0x2cd)]&&_0x49ebe8['pc']['signalingState']===_0x53052c[_0x14fc81(0x1c8)]&&(spreedPeerConnectionTable[_0x49ebe8['id']]++,console['debug'](_0x14fc81(0x32d),_0x49ebe8),_0x49ebe8[_0x14fc81(0x331)]())));}else return _0x218e3e[_0x14fc81(0x2a5)](function(_0x39df8e){const _0x2b9e29=_0x14fc81;return _0x2d6192[_0x2b9e29(0x248)](_0x39df8e)<0x0;});},0x1388);}function _0x2b3a4d(_0x54c7fd){const _0x26d791=_0x11fe4e,_0x11e3fb={'ZhVXJ':'unmute','dLunt':_0x26d791(0x28e)};!showedTURNWarning&&!_0x3257b1[_0x26d791(0x308)][_0x26d791(0x32e)][_0x26d791(0x35e)]&&(showError(t(_0x53052c['ssKuq'],_0x53052c['gUgcb'])[_0x26d791(0x283)](_0x53052c[_0x26d791(0x338)],_0x26d791(0x368))[_0x26d791(0x283)](_0x53052c[_0x26d791(0x24d)],_0x26d791(0x306)),{'timeout':TOAST_PERMANENT_TIMEOUT,'isHTML':!![]}),showedTURNWarning=!![]);if(!_0x3257b1[_0x26d791(0x1bd)](_0x53052c['DQMDl']))spreedPeerConnectionTable[_0x54c7fd['id']]<0x5?_0x53052c['AWtkA'](_0x54c7fd['pc'][_0x26d791(0x2d8)][_0x26d791(0x31c)],'offer')&&_0x53052c[_0x26d791(0x33d)](_0x54c7fd['pc'][_0x26d791(0x2e9)],_0x53052c[_0x26d791(0x1c8)])&&(spreedPeerConnectionTable[_0x54c7fd['id']]++,console[_0x26d791(0x307)](_0x53052c[_0x26d791(0x355)],_0x54c7fd),_0x54c7fd['icerestart']()):(console[_0x26d791(0x30e)](_0x53052c[_0x26d791(0x1c4)],_0x54c7fd),_0x54c7fd[_0x26d791(0x26f)](_0x53052c[_0x26d791(0x1cb)],_0x53052c[_0x26d791(0x2b6)]));else{if(_0x53052c['jYdFw']!==_0x26d791(0x2f1))console['debug'](_0x53052c['OmoxV'],_0x54c7fd),_0x3257b1['requestOffer'](_0x54c7fd['id'],'video'),delayedConnectionToPeer[_0x54c7fd['id']]=setInterval(function(){const _0x5c5a67=_0x26d791;_0x53052c[_0x5c5a67(0x229)](_0x5c5a67(0x2eb),_0x53052c[_0x5c5a67(0x29e)])?_0xba0660['emit'](_0x11e3fb[_0x5c5a67(0x205)],{'id':_0x4dd5a0['id'],'name':_0x11e3fb[_0x5c5a67(0x2e8)]}):(console[_0x5c5a67(0x307)](_0x53052c[_0x5c5a67(0x210)],_0x54c7fd),_0x3257b1[_0x5c5a67(0x278)](_0x54c7fd['id'],_0x5c5a67(0x28e)));},0x2710);else return;}}function _0x2d64d2(_0x7ab85a){const _0x1ddbb2=_0x11fe4e,_0x231b33={'qpbiu':_0x1ddbb2(0x206),'awTKn':_0x53052c[_0x1ddbb2(0x2ce)],'nBpvq':_0x1ddbb2(0x366),'VZrJZ':_0x53052c['cOygL'],'aAOwj':function(_0x31e420,_0x49e1b1){const _0x264e06=_0x1ddbb2;return _0x53052c[_0x264e06(0x267)](_0x31e420,_0x49e1b1);},'OxEkc':_0x53052c['mdrbu'],'QuFYb':_0x53052c[_0x1ddbb2(0x312)],'wEwvw':_0x1ddbb2(0x272)};spreedPeerConnectionTable[_0x7ab85a['id']]=0x0,_0x7ab85a['pc']['addEventListener'](_0x53052c[_0x1ddbb2(0x364)],function(){const _0x1ccdc2=_0x1ddbb2;_0x7ab85a['emit'](_0x1ccdc2(0x370),_0x7ab85a['pc'][_0x1ccdc2(0x243)]);switch(_0x7ab85a['pc'][_0x1ccdc2(0x243)]){case _0x231b33[_0x1ccdc2(0x280)]:console[_0x1ccdc2(0x307)](_0x231b33['awTKn'],_0x7ab85a);break;case _0x231b33[_0x1ccdc2(0x345)]:case _0x1ccdc2(0x2ab):console['debug'](_0x231b33[_0x1ccdc2(0x1ee)],_0x7ab85a),_0x231b33[_0x1ccdc2(0x2fe)](_0x2b3d12,_0x7ab85a);break;case _0x231b33[_0x1ccdc2(0x1bb)]:console[_0x1ccdc2(0x307)](_0x231b33[_0x1ccdc2(0x1f6)],_0x7ab85a),_0x231b33[_0x1ccdc2(0x2fe)](_0x3e7caa,_0x7ab85a);break;case _0x1ccdc2(0x202):console[_0x1ccdc2(0x307)](_0x1ccdc2(0x2d4),_0x7ab85a),_0x2b3a4d(_0x7ab85a);break;case _0x231b33[_0x1ccdc2(0x277)]:console[_0x1ccdc2(0x307)]('Connection\x20closed.',_0x7ab85a);break;}});}function _0xc2fe82(_0x20394c){const _0x3fa9c1=_0x11fe4e,_0x3a90a6={'cGAWm':function(_0x8819f4,_0x40a069){const _0x402d6e=_0x5968;return _0x53052c[_0x402d6e(0x229)](_0x8819f4,_0x40a069);},'pAuEV':_0x53052c[_0x3fa9c1(0x381)]};_0x20394c['pc'][_0x3fa9c1(0x21a)](_0x3fa9c1(0x34d),function(){const _0x1e3c46=_0x3fa9c1;if(_0x3a90a6[_0x1e3c46(0x2ba)](_0x20394c['pc'][_0x1e3c46(0x1be)],_0x1e3c46(0x202)))return;if(_0x20394c['pc']['iceConnectionState']===_0x3a90a6[_0x1e3c46(0x209)])return;_0x20394c['emit'](_0x1e3c46(0x370),_0x20394c['pc'][_0x1e3c46(0x1be)]),_0x2b3a4d(_0x20394c);});}function _0x2fcc3b(_0x41d0b5){const _0x2eb7dc=_0x11fe4e,_0x466040={'wHMMk':function(_0x2b8874,_0x55cacf){return _0x53052c['iimiM'](_0x2b8874,_0x55cacf);},'zmUcc':_0x2eb7dc(0x383),'VjZhg':_0x53052c[_0x2eb7dc(0x1ca)]};_0x53052c[_0x2eb7dc(0x2b3)]===_0x2eb7dc(0x232)?(_0x798c3=_0x1c22e2(_0x2eb7dc(0x264),_0x53052c[_0x2eb7dc(0x1f1)]),_0x5ef519[_0x2eb7dc(0x30e)](_0x53052c[_0x2eb7dc(0x260)],_0x2d1585[_0x2eb7dc(0x318)],_0x2d402f[_0x2eb7dc(0x26c)])):_0x41d0b5['pc']['addEventListener'](_0x53052c['CHzHM'],function(){const _0x2d3f11=_0x2eb7dc;_0x466040[_0x2d3f11(0x275)](_0x466040[_0x2d3f11(0x357)],_0x466040['zmUcc'])?_0x41d0b5[_0x2d3f11(0x26f)](_0x466040[_0x2d3f11(0x1d7)],_0x41d0b5['pc'][_0x2d3f11(0x2e9)]):_0x175456['end']();});}function _0x36027d(_0x410338){const _0x31475e=_0x11fe4e,_0x3517eb={'rBTps':_0x53052c[_0x31475e(0x30a)],'BJKMM':_0x53052c[_0x31475e(0x1cb)],'cpNNZ':_0x31475e(0x206),'RupDu':'Connecting\x20own\x20peer...','zBJYD':_0x31475e(0x2d9),'eBAnx':function(_0x16a4e1,_0x402299,_0x5e25e4){const _0x2444aa=_0x31475e;return _0x53052c[_0x2444aa(0x1aa)](_0x16a4e1,_0x402299,_0x5e25e4);},'EUkxJ':'failed','vxtuj':_0x31475e(0x272)};_0x410338['pc'][_0x31475e(0x21a)]('iceconnectionstatechange',function(){const _0x273eff=_0x31475e,_0x405e50={'rbebs':_0x273eff(0x2f2),'TbTTv':_0x3517eb[_0x273eff(0x24f)],'LADSb':function(_0x198411,_0x5b8b27){return _0x198411===_0x5b8b27;},'MfamQ':_0x273eff(0x2ca),'dhwkO':_0x273eff(0x1e3)};_0x410338[_0x273eff(0x26f)](_0x3517eb[_0x273eff(0x1b5)],_0x410338['pc'][_0x273eff(0x243)]);switch(_0x410338['pc'][_0x273eff(0x243)]){case _0x3517eb['cpNNZ']:console[_0x273eff(0x307)](_0x3517eb[_0x273eff(0x22c)],_0x410338);break;case'connected':case'completed':console[_0x273eff(0x307)](_0x3517eb['zBJYD'],_0x410338);break;case _0x3517eb['rBTps']:console[_0x273eff(0x307)](_0x273eff(0x2ac),_0x410338),_0x3517eb[_0x273eff(0x319)](setTimeout,function(){const _0x4c7b88=_0x273eff;if(_0x410338['pc']['iceConnectionState']!==_0x405e50['TbTTv']){if(_0x405e50[_0x4c7b88(0x1ce)](_0x405e50[_0x4c7b88(0x1f8)],_0x4c7b88(0x23f))){_0x419044=_0x725c30,_0x3e11c8[_0x4c7b88(0x322)]();(!_0x39ff30[_0x4c7b88(0x1bd)](_0x405e50[_0x4c7b88(0x33f)])||_0x4d695a)&&_0x962d75(_0x5e3a49,_0x15acd4[_0x4c7b88(0x258)][_0x4c7b88(0x1c1)]);return;}else return;}_0x410338[_0x4c7b88(0x26f)]('extendedIceConnectionStateChange',_0x405e50[_0x4c7b88(0x314)]);},0x1388);break;case _0x3517eb[_0x273eff(0x380)]:console[_0x273eff(0x307)](_0x273eff(0x336),_0x410338);break;case _0x3517eb['vxtuj']:console['debug']('Connection\x20closed\x20(own\x20peer).',_0x410338);break;}});}const _0x367667=function(_0x375e0d,_0xda1fd4){const _0x3f844f=_0x11fe4e,_0x2a2e86=_0x53052c['swrqU'][_0x3f844f(0x234)]('|');let _0x37eca7=0x0;while(!![]){switch(_0x2a2e86[_0x37eca7++]){case'0':ownPeer&&(delayedConnectionToPeer[ownPeer['id']]&&(_0x53052c[_0x3f844f(0x267)](clearInterval,delayedConnectionToPeer[ownPeer['id']]),delete delayedConnectionToPeer[ownPeer['id']]),ownPeer[_0x3f844f(0x1fd)]());continue;case'1':usersChanged(_0x375e0d,[],previousUsersInRoom);continue;case'2':_0x375e0d[_0x3f844f(0x302)](!![],_0xda1fd4);continue;case'3':previousUsersInRoom=[];continue;case'4':usersInCallMapping={};continue;}break;}};function _0x49151e(_0x5ef0a6){const _0x5131a5=_0x11fe4e,_0x1c528e={'eNJJi':function(_0x5bd4c9,_0x2a3d0c){const _0x4e5c36=_0x5968;return _0x53052c[_0x4e5c36(0x353)](_0x5bd4c9,_0x2a3d0c);}};_0x5ef0a6['pc'][_0x5131a5(0x21a)]('negotiationneeded',function(){const _0x20b307=_0x5131a5;if(_0x5ef0a6['pc'][_0x20b307(0x243)]!==_0x53052c[_0x20b307(0x226)]&&_0x53052c[_0x20b307(0x2e6)](_0x5ef0a6['pc'][_0x20b307(0x243)],_0x53052c[_0x20b307(0x343)])){const _0x4267a2=_0x5ef0a6['pc'][_0x20b307(0x28c)]()[_0x20b307(0x1d0)](_0x2dbba9=>_0x2dbba9[_0x20b307(0x288)]&&_0x2dbba9[_0x20b307(0x288)][_0x20b307(0x325)]==='audio'||_0x2dbba9[_0x20b307(0x251)]&&_0x2dbba9['trackDisabled'][_0x20b307(0x325)]===_0x20b307(0x1ad)),_0x258052=_0x5ef0a6['pc']['getSenders']()[_0x20b307(0x1d0)](_0x3b8257=>_0x3b8257['track']&&_0x3b8257[_0x20b307(0x288)]['kind']===_0x20b307(0x28e)||_0x3b8257['trackDisabled']&&_0x3b8257[_0x20b307(0x251)][_0x20b307(0x325)]===_0x20b307(0x28e));let _0x28e8a1=_0x3257b1[_0x20b307(0x29a)]();_0x4267a2?_0x28e8a1|=PARTICIPANT[_0x20b307(0x258)][_0x20b307(0x1a7)]:_0x28e8a1&=~PARTICIPANT[_0x20b307(0x258)][_0x20b307(0x1a7)],_0x258052?_0x28e8a1|=PARTICIPANT['CALL_FLAG']['WITH_VIDEO']:_0x53052c[_0x20b307(0x333)]!==_0x20b307(0x255)?(_0x5c3d70(_0x128b05),_0x1c528e[_0x20b307(0x378)](_0x52495a,_0x12a6ad),_0x23e6ed(_0x2c22f3)):_0x28e8a1&=~PARTICIPANT[_0x20b307(0x258)][_0x20b307(0x287)],_0x367667(_0x3257b1,_0x28e8a1);}});}const _0xc4a16e=_0xe72b4c=>{const _0x5f34b3=_0x11fe4e,_0x186b46={'kRtKw':function(_0x671eb8,_0x3fe1bd){return _0x671eb8===_0x3fe1bd;}},_0x378c15=_0xe72b4c[_0x5f34b3(0x1d0)](_0x4dd96f=>{const _0x4c042c=_0x5f34b3,_0x416dd1=_0x4dd96f[_0x4c042c(0x27c)]||_0x4dd96f[_0x4c042c(0x233)];return _0x186b46[_0x4c042c(0x1ab)](_0x416dd1,_0x3257b1[_0x4c042c(0x2b1)]());});if(!_0x378c15)return;if(!_0x378c15[_0x5f34b3(0x2f9)])return;if(_0x53052c[_0x5f34b3(0x27a)](_0x378c15[_0x5f34b3(0x2d1)],undefined))return;if(_0x378c15[_0x5f34b3(0x2d1)]&PARTICIPANT['PERMISSIONS'][_0x5f34b3(0x30d)]&&_0x378c15[_0x5f34b3(0x2d1)]&PARTICIPANT['PERMISSIONS'][_0x5f34b3(0x1c3)]&&webrtc['webrtc'][_0x5f34b3(0x1e2)]())return;if(!(_0x378c15[_0x5f34b3(0x2d1)]&PARTICIPANT[_0x5f34b3(0x266)][_0x5f34b3(0x30d)])&&!_0x53052c[_0x5f34b3(0x35d)](_0x378c15[_0x5f34b3(0x2d1)],PARTICIPANT[_0x5f34b3(0x266)][_0x5f34b3(0x1c3)])&&!webrtc['webrtc']['isLocalMediaActive']())return;if(!_0x53052c[_0x5f34b3(0x2b9)](_0x378c15[_0x5f34b3(0x2d1)],PARTICIPANT[_0x5f34b3(0x266)]['PUBLISH_AUDIO'])&&!(_0x378c15[_0x5f34b3(0x2d1)]&PARTICIPANT['PERMISSIONS']['PUBLISH_VIDEO'])){startedWithMedia=undefined,webrtc['stopLocalVideo']();(!_0x3257b1[_0x5f34b3(0x1bd)](_0x53052c[_0x5f34b3(0x33c)])||ownPeer)&&_0x53052c[_0x5f34b3(0x36b)](_0x367667,_0x3257b1,PARTICIPANT['CALL_FLAG'][_0x5f34b3(0x1c1)]);return;}const _0x146147=_0x3b0fdb=>{const _0x7586fa=_0x5f34b3;webrtc[_0x7586fa(0x1d5)](_0x7586fa(0x1e0),_0x146147),webrtc[_0x7586fa(0x1d5)]('localMediaError',_0xfbe2c0),startedWithMedia=!![];let _0xa7a164=PARTICIPANT[_0x7586fa(0x258)]['IN_CALL'];_0x3b0fdb&&(_0x3b0fdb[_0x7586fa(0x1ad)]&&(_0xa7a164|=PARTICIPANT['CALL_FLAG'][_0x7586fa(0x1a7)]),_0x3b0fdb[_0x7586fa(0x28e)]&&_0x3257b1[_0x7586fa(0x36d)]()&&(_0xa7a164|=PARTICIPANT[_0x7586fa(0x258)]['WITH_VIDEO'])),_0x367667(_0x3257b1,_0xa7a164);},_0xfbe2c0=()=>{const _0x2a74b2=_0x5f34b3;webrtc[_0x2a74b2(0x1d5)](_0x2a74b2(0x1e0),_0x146147),webrtc[_0x2a74b2(0x1d5)](_0x2a74b2(0x26a),_0xfbe2c0),startedWithMedia=![];};webrtc['on'](_0x5f34b3(0x1e0),_0x146147),webrtc['on']('localMediaError',_0xfbe2c0),startedWithMedia=undefined,webrtc[_0x5f34b3(0x340)]();};_0x3257b1['on'](_0x53052c[_0x11fe4e(0x2ef)],function(_0xc722f6){const _0x58add5=_0x11fe4e,_0x4645b5={'SzHFy':_0x53052c['APOBz']};_0x53052c[_0x58add5(0x2e6)](_0x53052c[_0x58add5(0x36e)],_0x53052c[_0x58add5(0x36e)])?_0x3f9187[_0x58add5(0x307)](_0x4645b5['SzHFy']):_0x53052c[_0x58add5(0x2cb)](_0xc4a16e,_0xc722f6);}),_0x3257b1['on'](_0x53052c[_0x11fe4e(0x22a)],function(_0x5b84a4){const _0x27d826=_0x11fe4e;_0x53052c[_0x27d826(0x267)](_0xc4a16e,_0x5b84a4);}),webrtc['on']('createdPeer',function(_0x16a60c){const _0x76b8c2=_0x11fe4e,_0xc938b4={'IgojZ':function(_0x505cba,_0x3fbc93){const _0x3e2e07=_0x5968;return _0x53052c[_0x3e2e07(0x1db)](_0x505cba,_0x3fbc93);}};console[_0x76b8c2(0x307)]('Peer\x20created',_0x16a60c);if(_0x53052c[_0x76b8c2(0x229)](_0x16a60c['id'],_0x3257b1[_0x76b8c2(0x2b1)]())&&!_0x16a60c[_0x76b8c2(0x2b7)]){let _0x39601=callParticipantCollection[_0x76b8c2(0x382)](_0x16a60c['id']);!_0x39601&&(_0x39601=callParticipantCollection[_0x76b8c2(0x334)]({'peerId':_0x16a60c['id'],'webRtc':webrtc})),_0x16a60c['type']===_0x76b8c2(0x28e)?_0x39601[_0x76b8c2(0x2aa)](_0x16a60c):_0x39601[_0x76b8c2(0x235)](_0x16a60c);}_0x16a60c[_0x76b8c2(0x31c)]===_0x53052c['jHNIF']&&(_0x16a60c['id']===_0x3257b1[_0x76b8c2(0x2b1)]()?_0x53052c[_0x76b8c2(0x2d6)]!==_0x76b8c2(0x292)?_0x36027d(_0x16a60c):_0xc938b4['IgojZ'](_0x1d915d,_0xf856ba):(_0x2d64d2(_0x16a60c),_0x53052c[_0x76b8c2(0x1db)](_0xc2fe82,_0x16a60c),_0x53052c[_0x76b8c2(0x269)](_0x2fcc3b,_0x16a60c)),_0x53052c[_0x76b8c2(0x353)](_0x49151e,_0x16a60c),_0x16a60c[_0x76b8c2(0x309)](_0x76b8c2(0x20d)));});function _0x16cf14(_0x44b220,_0x1835ba,_0x3713c2){const _0x2e451e=_0x11fe4e,_0x559988={'Zgnkq':function(_0x2570a8,_0x3015fe){return _0x2570a8===_0x3015fe;},'suWLM':_0x2e451e(0x28e),'tmfIC':function(_0xefa121,_0x20ab8a){return _0xefa121!==_0x20ab8a;},'QFrkd':_0x2e451e(0x1e7),'wEspm':_0x53052c[_0x2e451e(0x356)],'axrOx':function(_0x1a5db9){return _0x1a5db9();},'EqBcD':function(_0x3fb65a,_0x4d28af){return _0x3fb65a(_0x4d28af);},'VNWbi':_0x53052c[_0x2e451e(0x327)]};return new Promise((_0x345b4f,_0xe147f5)=>{const _0x4ccfdc=_0x2e451e;_0x44b220['pc'][_0x4ccfdc(0x20c)](_0x1835ba)[_0x4ccfdc(0x337)](function(_0x3ebb2a){const _0x463dcf=_0x4ccfdc,_0xb292bf={'gcBpd':_0x463dcf(0x1c6),'cBGGR':_0x463dcf(0x24a),'mgUmk':function(_0x30174c,_0x22a2de){const _0x4dfecd=_0x463dcf;return _0x559988[_0x4dfecd(0x223)](_0x30174c,_0x22a2de);},'gSifv':_0x559988['suWLM'],'ektlw':function(_0x509478,_0x446a88){return _0x509478<_0x446a88;}};let _0x4afe8f=![];_0x3ebb2a['forEach'](function(_0x2456e4){const _0x290c87=_0x463dcf;if(_0x4afe8f||_0x2456e4[_0x290c87(0x265)]!==_0x3713c2||!Object[_0x290c87(0x34b)]['hasOwnProperty'][_0x290c87(0x32c)](_0x2456e4,_0xb292bf['gcBpd'])){if(_0xb292bf[_0x290c87(0x24b)]==='Bluuh')return;else _0x52cf7b();}if(_0x2456e4['bytesReceived']>0x0){if(_0xb292bf[_0x290c87(0x313)](_0x3713c2,_0xb292bf[_0x290c87(0x377)])&&_0xb292bf[_0x290c87(0x31b)](_0x2456e4[_0x290c87(0x1c6)],0x7d0)){_0x4afe8f=!![];return;}webrtc[_0x290c87(0x26f)](_0x290c87(0x29c),{'id':_0x44b220['id'],'name':_0x3713c2}),_0x4afe8f=!![];}}),_0x4afe8f?_0x559988[_0x463dcf(0x1b6)](_0x559988[_0x463dcf(0x33e)],_0x559988['wEspm'])?_0x559988[_0x463dcf(0x274)](_0x345b4f):_0x52356b|=_0x56ad1a[_0x463dcf(0x258)][_0x463dcf(0x287)]:_0x559988['EqBcD'](_0xe147f5,new Error(_0x559988[_0x463dcf(0x23c)]));});});}function _0x4bea78(_0x264a50){const _0x221eb7=_0x11fe4e;clearInterval(_0x264a50[_0x221eb7(0x2c2)]),_0x264a50[_0x221eb7(0x2c2)]=null;}function _0x564792(_0x12ccb5){const _0x1b9a35=_0x11fe4e;_0x53052c['ipVgn'](clearInterval,_0x12ccb5[_0x1b9a35(0x1c7)]),_0x12ccb5[_0x1b9a35(0x1c7)]=null;}function _0x49972a(_0x24de7a,_0x3bd047){const _0x4427c9=_0x11fe4e,_0x451f35=webrtc[_0x4427c9(0x2fb)](_0x24de7a,_0x53052c[_0x4427c9(0x257)]);_0x451f35[_0x4427c9(0x207)](function(_0x30b33e){const _0x2f6d9a=_0x4427c9;if(_0x53052c[_0x2f6d9a(0x27a)](_0x3bd047,_0x53052c[_0x2f6d9a(0x2fc)]))_0x53052c[_0x2f6d9a(0x2a7)](_0x4bea78,_0x30b33e);else _0x53052c['iimiM'](_0x3bd047,_0x2f6d9a(0x28e))&&_0x564792(_0x30b33e);});}_0x3257b1[_0x11fe4e(0x1bd)](_0x53052c[_0x11fe4e(0x33c)])&&(webrtc['on']('mute',function(_0x30111f){const _0x3f0d57=_0x11fe4e;_0x53052c[_0x3f0d57(0x36b)](_0x49972a,_0x30111f['id'],_0x30111f[_0x3f0d57(0x26c)]);}),webrtc['on'](_0x53052c['fHYtd'],function(_0x353b1d){const _0x389aba=_0x11fe4e;_0x53052c[_0x389aba(0x21f)](_0x49972a,_0x353b1d['id'],_0x353b1d[_0x389aba(0x26c)]);}));function _0x37476b(_0x2d00e3){const _0x5df814=_0x11fe4e;_0x5df814(0x284)!=='SCOyl'?(_0x53052c[_0x5df814(0x1e1)](_0x4bea78,_0x2d00e3),_0x53052c['ZSJJz'](_0x564792,_0x2d00e3)):_0x134bee['pc']['localDescription'][_0x5df814(0x31c)]===_0x53052c[_0x5df814(0x2cd)]&&_0x484f97['pc'][_0x5df814(0x2e9)]===_0x53052c['tAIHU']&&(_0x204672[_0xe12987['id']]++,_0x1ae796[_0x5df814(0x307)](_0x53052c[_0x5df814(0x355)],_0x406d80),_0x3f601e[_0x5df814(0x331)]());}function _0x3cdb52(_0x436f1e,_0x573820){const _0x2ede3d=_0x11fe4e,_0x45dabd={'ufALH':_0x53052c[_0x2ede3d(0x257)]};_0x53052c['twJWe'](_0x53052c[_0x2ede3d(0x31e)],_0x53052c[_0x2ede3d(0x31e)])?delete _0xf5b1c0[_0x12dc75]:(_0x53052c[_0x2ede3d(0x353)](_0x37476b,_0x436f1e),_0x436f1e['check_video_interval']=setInterval(function(){const _0x5c0263=_0x2ede3d;_0x573820[_0x5c0263(0x305)]()[_0x5c0263(0x207)](function(_0x4a4157){const _0x2ac695=_0x5c0263,_0x36236c={'RMSvi':function(_0x3d0bc5,_0x1a4271){return _0x3d0bc5(_0x1a4271);}};_0x16cf14(_0x436f1e,_0x4a4157,_0x45dabd['ufALH'])[_0x2ac695(0x337)](function(){const _0x3577c5=_0x2ac695;_0x36236c[_0x3577c5(0x1a8)](_0x564792,_0x436f1e);})[_0x2ac695(0x296)](()=>{});});},0x3e8),_0x436f1e[_0x2ede3d(0x2c2)]=_0x53052c[_0x2ede3d(0x2e0)](setInterval,function(){const _0x8bf700=_0x2ede3d,_0x5c7594={'PswTt':function(_0x5effac,_0x48545f,_0x3dab93,_0x5b75ff){return _0x5effac(_0x48545f,_0x3dab93,_0x5b75ff);}};_0x573820[_0x8bf700(0x1cc)]()[_0x8bf700(0x207)](function(_0x4e5d45){const _0x1bc886=_0x8bf700;_0x5c7594['PswTt'](_0x16cf14,_0x436f1e,_0x4e5d45,'audio')[_0x1bc886(0x337)](function(){_0x4bea78(_0x436f1e);})['catch'](()=>{});});},0x3e8));}webrtc['on'](_0x11fe4e(0x1a2),function(_0x30f71d){const _0xbc9d90=_0x11fe4e;if(!_0x3257b1[_0xbc9d90(0x1bd)](_0x53052c[_0xbc9d90(0x33c)]))return;if(_0x30f71d[_0xbc9d90(0x31c)]===_0xbc9d90(0x35a)){if(_0x53052c[_0xbc9d90(0x329)]===_0xbc9d90(0x1eb))return;else _0x46a56f[_0xbc9d90(0x26f)](_0x53052c['fHYtd'],{'id':_0x283162['id'],'name':_0x53052c[_0xbc9d90(0x2fc)]});}_0x3cdb52(_0x30f71d,_0x30f71d[_0xbc9d90(0x2d2)]);}),webrtc['on']('peerStreamRemoved',function(_0x3aa08a){const _0x3426f1=_0x11fe4e;_0x53052c[_0x3426f1(0x2a7)](_0x37476b,_0x3aa08a);}),webrtc['on'](_0x53052c[_0x11fe4e(0x295)],function(_0x16ab07){const _0x4ba9e3=_0x11fe4e;ownPeer===_0x16ab07&&(ownPeer=null,localCallParticipantModel[_0x4ba9e3(0x2aa)](ownPeer)),ownScreenPeer===_0x16ab07&&(ownScreenPeer=null,localCallParticipantModel[_0x4ba9e3(0x235)](ownScreenPeer));}),webrtc[_0x11fe4e(0x36f)]['on'](_0x11fe4e(0x30c),function(){const _0x4bd197=_0x11fe4e;if(_0x3257b1[_0x4bd197(0x36d)]())return;_0x3257b1[_0x4bd197(0x1ff)](!![]),startedWithMedia=!![];let _0x55918b=_0x3257b1[_0x4bd197(0x29a)]();_0x55918b|=PARTICIPANT[_0x4bd197(0x258)][_0x4bd197(0x287)],_0x53052c[_0x4bd197(0x1aa)](_0x367667,_0x3257b1,_0x55918b);}),webrtc[_0x11fe4e(0x36f)]['on']('iceFailed',function(){const _0x3a4c19=_0x11fe4e;if(!_0x3257b1['hasFeature'](_0x53052c[_0x3a4c19(0x33c)]))return;_0x367667(_0x3257b1);});let _0x355a52=null,_0x585d5=null,_0x5c35ef=null;const _0x3ca14f=function(){const _0x315b4b=_0x11fe4e;_0x53052c[_0x315b4b(0x246)]('RlgEq',_0x315b4b(0x298))?(clearTimeout(_0x355a52),_0x355a52=null,_0x585d5&&(_0x585d5['hideToast'](),_0x585d5=null)):_0x4b9d38[_0x315b4b(0x36f)]['emit'](_0x315b4b(0x30c));},_0x11061f=function(){const _0x5eb377=_0x11fe4e;_0x5c35ef&&(_0x5c35ef[_0x5eb377(0x1ec)](),_0x5c35ef=null);};return webrtc['on'](_0x53052c['ushmB'],function(){_0x3ca14f(),_0x355a52=_0x53052c['EvLZN'](setTimeout,function(){const _0x172321=_0x5968;_0x585d5=showError(_0x53052c[_0x172321(0x1e4)](t,_0x53052c[_0x172321(0x1a5)],_0x172321(0x2b8)),{'timeout':TOAST_PERMANENT_TIMEOUT});},0x2710);}),_0x3257b1['on']('leaveRoom',function(_0x7faaa8){const _0x2aec47=_0x11fe4e;_0x3257b1[_0x2aec47(0x332)]===_0x7faaa8&&(_0x53052c[_0x2aec47(0x23e)](_0x3ca14f),_0x11061f());}),webrtc['on'](_0x53052c[_0x11fe4e(0x200)],function(_0x568e57,_0x439648){const _0x3d0141=_0x11fe4e;if(!_0x568e57){if(_0x439648&&_0x439648[_0x3d0141(0x325)]===_0x3d0141(0x1ad))_0x3257b1[_0x3d0141(0x1b8)](_0x53052c['DeJlZ'](_0x3257b1[_0x3d0141(0x29a)](),~PARTICIPANT[_0x3d0141(0x258)][_0x3d0141(0x1a7)]));else _0x439648&&_0x439648[_0x3d0141(0x325)]===_0x53052c[_0x3d0141(0x257)]&&(_0x53052c[_0x3d0141(0x33d)](_0x53052c[_0x3d0141(0x37e)],_0x3d0141(0x1c5))?_0x3257b1[_0x3d0141(0x1b8)](_0x3257b1['getCurrentCallFlags']()&~PARTICIPANT['CALL_FLAG'][_0x3d0141(0x287)]):_0x2e539b['updateCurrentCallFlags'](_0x4ce449[_0x3d0141(0x29a)]()|_0x31ba74[_0x3d0141(0x258)][_0x3d0141(0x1a7)]));return;}if(startedWithMedia){if(_0x53052c['tmGdF'](_0x53052c[_0x3d0141(0x213)],_0x3d0141(0x354))){if(_0x568e57['kind']===_0x3d0141(0x1ad)&&!_0x439648)_0x3257b1[_0x3d0141(0x1b8)](_0x53052c[_0x3d0141(0x27f)](_0x3257b1['getCurrentCallFlags'](),PARTICIPANT[_0x3d0141(0x258)][_0x3d0141(0x1a7)]));else _0x568e57['kind']===_0x53052c['jHNIF']&&!_0x439648&&_0x3257b1[_0x3d0141(0x1b8)](_0x3257b1['getCurrentCallFlags']()|PARTICIPANT[_0x3d0141(0x258)][_0x3d0141(0x287)]);return;}else _0x4023b0[_0x3d0141(0x1d5)](_0x3d0141(0x1e0),_0x1dfa1f),_0x33f7c4[_0x3d0141(0x1d5)](_0x3d0141(0x26a),_0x45969b),_0x2fbb41=![];}if(_0x53052c[_0x3d0141(0x28b)](startedWithMedia,undefined))return;startedWithMedia=!![];let _0x420084=_0x3257b1['getCurrentCallFlags']();if(_0x53052c[_0x3d0141(0x1d3)](_0x568e57[_0x3d0141(0x325)],_0x53052c['hZCqi'])){if(_0x3d0141(0x2bd)===_0x53052c['cvtOp'])return![];else _0x420084|=PARTICIPANT['CALL_FLAG'][_0x3d0141(0x1a7)];}else _0x568e57[_0x3d0141(0x325)]===_0x53052c[_0x3d0141(0x257)]&&(_0x420084|=PARTICIPANT[_0x3d0141(0x258)][_0x3d0141(0x287)]);_0x53052c['UuyHS'](_0x367667,_0x3257b1,_0x420084);}),webrtc['on'](_0x53052c[_0x11fe4e(0x341)],function(){const _0x285c82=_0x11fe4e;console[_0x285c82(0x372)](_0x53052c[_0x285c82(0x341)]),startedWithMedia=!![],_0x3ca14f(),_0x3257b1[_0x285c82(0x1bd)](_0x53052c[_0x285c82(0x33c)])&&_0x53052c[_0x285c82(0x1db)](checkStartPublishOwnPeer,_0x3257b1);}),webrtc['on'](_0x53052c[_0x11fe4e(0x2cc)],function(_0x45ee45){const _0x3738d7=_0x11fe4e;console[_0x3738d7(0x37c)](_0x53052c['wnzEP'],_0x45ee45),startedWithMedia=![],_0x53052c[_0x3738d7(0x1bf)](_0x3ca14f);if(_0x45ee45[_0x3738d7(0x26c)]===_0x3738d7(0x2b4))return;let _0x4ea559,_0x431ac5=TOAST_PERMANENT_TIMEOUT;if(_0x53052c[_0x3738d7(0x1e6)](_0x45ee45[_0x3738d7(0x26c)],_0x3738d7(0x2db))&&webrtc['capabilities'][_0x3738d7(0x228)]||_0x45ee45['name']===_0x3738d7(0x2af)&&_0x45ee45[_0x3738d7(0x318)]&&_0x53052c['ciUjd'](_0x45ee45[_0x3738d7(0x318)]['indexOf'](_0x3738d7(0x1a4)),-0x1))'KTKNQ'==='KTKNQ'?(_0x4ea559=t(_0x3738d7(0x264),_0x53052c['CDCUH']),_0x4ea559+=_0x53052c[_0x3738d7(0x344)](':\x20',t(_0x53052c[_0x3738d7(0x1a5)],_0x3738d7(0x26e)))):_0x1021a5*=0x2;else{if(_0x45ee45[_0x3738d7(0x26c)]===_0x53052c['SXgHX'])_0x4ea559=t(_0x3738d7(0x264),_0x3738d7(0x1b9)),_0x431ac5=TOAST_DEFAULT_TIMEOUT;else!webrtc['capabilities'][_0x3738d7(0x227)]?(console[_0x3738d7(0x30e)](_0x53052c['duPCB']),_0x4ea559=t(_0x3738d7(0x264),_0x53052c['jSraA']),_0x4ea559+=_0x53052c[_0x3738d7(0x22e)](':\x20',t(_0x53052c[_0x3738d7(0x1a5)],_0x53052c['UBWbs']))):(_0x4ea559=_0x53052c[_0x3738d7(0x361)](t,'spreed',_0x3738d7(0x321)),console[_0x3738d7(0x30e)](_0x3738d7(0x1fa),_0x45ee45[_0x3738d7(0x318)],_0x45ee45[_0x3738d7(0x26c)]));}_0x5c35ef=_0x53052c['ahEWB'](showError,_0x4ea559,{'timeout':_0x431ac5});}),webrtc['on'](_0x11fe4e(0x25c),function(_0x4629e3){const _0x375bb3=_0x11fe4e;console[_0x375bb3(0x307)](_0x53052c['hRWrg'],_0x4629e3[_0x375bb3(0x1cf)]);}),webrtc['on'](_0x11fe4e(0x2c5),function(_0x358f44,_0x4f728a,_0x5a4536){const _0x33ab5c=_0x11fe4e;if(_0x4f728a===_0x53052c['CxQfk']||_0x4f728a===_0x53052c['vYPkS']){if(_0x53052c[_0x33ab5c(0x369)](_0x5a4536[_0x33ab5c(0x31c)],_0x53052c[_0x33ab5c(0x21d)])){if('Kdlrg'==='swDil'){const _0x802982={'wftSY':function(_0x509825,_0x47240d){return _0x509825(_0x47240d);}};_0x53052c['CSGNl'](_0x53f3c8,_0x58d38e,_0x56a1d1,'audio')[_0x33ab5c(0x337)](function(){const _0x92d303=_0x33ab5c;_0x802982[_0x92d303(0x2d7)](_0x5b8a08,_0x76661d);})['catch'](()=>{});}else webrtc[_0x33ab5c(0x26f)](_0x53052c[_0x33ab5c(0x2d3)],{'id':_0x358f44['id'],'name':_0x53052c[_0x33ab5c(0x2fc)]});}else{if(_0x5a4536['type']===_0x33ab5c(0x1ed))webrtc[_0x33ab5c(0x26f)]('mute',{'id':_0x358f44['id'],'name':_0x53052c[_0x33ab5c(0x2fc)]});else{if(_0x53052c['jeYNO'](_0x5a4536[_0x33ab5c(0x31c)],_0x53052c[_0x33ab5c(0x316)]))webrtc['emit']('unmute',{'id':_0x358f44['id'],'name':_0x33ab5c(0x28e)});else{if(_0x53052c['NYqSD'](_0x5a4536[_0x33ab5c(0x31c)],_0x53052c[_0x33ab5c(0x1f4)]))_0x33ab5c(0x33b)===_0x33ab5c(0x33b)?webrtc[_0x33ab5c(0x26f)](_0x33ab5c(0x2a1),{'id':_0x358f44['id'],'name':_0x33ab5c(0x28e)}):_0xe3fc6e['updateCurrentCallFlags'](_0x205711['getCurrentCallFlags']()&~_0x59973a[_0x33ab5c(0x258)][_0x33ab5c(0x1a7)]);else{if(_0x5a4536[_0x33ab5c(0x31c)]===_0x53052c['WtIzb']){const _0x3ac0dd=typeof _0x5a4536['payload']===_0x53052c['rrQPh']?_0x5a4536[_0x33ab5c(0x2e3)]:_0x5a4536[_0x33ab5c(0x2e3)][_0x33ab5c(0x26c)];webrtc[_0x33ab5c(0x26f)](_0x53052c[_0x33ab5c(0x2d5)],{'id':_0x358f44['id'],'name':_0x3ac0dd});}else{if(_0x53052c[_0x33ab5c(0x32f)](_0x5a4536['type'],_0x53052c[_0x33ab5c(0x28d)])||_0x53052c[_0x33ab5c(0x263)](_0x5a4536[_0x33ab5c(0x31c)],_0x53052c[_0x33ab5c(0x279)])){}else console[_0x33ab5c(0x307)](_0x33ab5c(0x33a),_0x5a4536[_0x33ab5c(0x31c)],_0x4f728a,_0x5a4536);}}}}}}else console[_0x33ab5c(0x307)](_0x33ab5c(0x22b),_0x4f728a,_0x5a4536);}),webrtc['on'](_0x53052c[_0x11fe4e(0x379)],function(_0x2b148d,_0x45d5db){const _0x5d91f9=_0x11fe4e,_0x4a90d5={'itpCW':_0x53052c[_0x5d91f9(0x2fc)],'SRUlX':function(_0x53fc6f,_0x21b4f6){return _0x53fc6f&_0x21b4f6;},'rFqBV':function(_0x2c1d4d,_0x5cd22b){const _0x8ef54b=_0x5d91f9;return _0x53052c[_0x8ef54b(0x1d4)](_0x2c1d4d,_0x5cd22b);},'FBHhI':function(_0x23e756,_0x51acb1){const _0x23c60a=_0x5d91f9;return _0x53052c[_0x23c60a(0x1c0)](_0x23e756,_0x51acb1);}};if(_0x53052c[_0x5d91f9(0x1e6)](_0x5d91f9(0x1fc),_0x5d91f9(0x25b))){if(_0x33a401&&_0x46881f['kind']===_0x4a90d5[_0x5d91f9(0x21e)])_0x58cf9b[_0x5d91f9(0x1b8)](_0x4a90d5[_0x5d91f9(0x34c)](_0x1cbd90[_0x5d91f9(0x29a)](),~_0x3d0b67['CALL_FLAG'][_0x5d91f9(0x1a7)]));else _0x42cc19&&_0x4a90d5[_0x5d91f9(0x293)](_0x5e492f[_0x5d91f9(0x325)],_0x5d91f9(0x28e))&&_0x32b6a0[_0x5d91f9(0x1b8)](_0x4a90d5[_0x5d91f9(0x2b2)](_0x58dd9e[_0x5d91f9(0x29a)](),~_0x4ffc18['CALL_FLAG'][_0x5d91f9(0x287)]));return;}else{const _0x180d66={};webrtc[_0x5d91f9(0x36f)]['peers'][_0x5d91f9(0x207)](_0x4b4684=>{_0x180d66[_0x4b4684['id']]=_0x4b4684;});for(const _0x29b1d6 in usersInCallMapping){if(_0x180d66[_0x29b1d6])continue;else{if(!usersInCallMapping[_0x29b1d6][_0x5d91f9(0x2f9)])continue;else{if(_0x29b1d6===_0x3257b1[_0x5d91f9(0x2b1)]())continue;}}const _0x88bcb4={'to':_0x29b1d6,'roomType':_0x53052c[_0x5d91f9(0x257)],'type':_0x2b148d,'payload':_0x45d5db};_0x3257b1[_0x5d91f9(0x26f)](_0x53052c[_0x5d91f9(0x2bc)],_0x88bcb4);}}}),webrtc['on'](_0x11fe4e(0x211),function(){const _0x2f71df=_0x11fe4e;if(_0x53052c[_0x2f71df(0x2e6)](_0x53052c['DMGnw'],_0x2f71df(0x35c))){const _0x16e873=_0x50c4e3['sessionId']||_0xc0e42e['sessionid'];_0x24b053[_0x16e873]=_0xdfa647;}else _0x53052c[_0x2f71df(0x28a)](_0xd952fa,_0x53052c[_0x2f71df(0x2df)],_0x53052c['qytcN']);}),webrtc['on'](_0x53052c[_0x11fe4e(0x279)],function(){const _0x5e5e50=_0x11fe4e;_0xd952fa(_0x5e5e50(0x20d),_0x5e5e50(0x231));}),webrtc['on'](_0x11fe4e(0x285),function(){const _0x33cbcf=_0x11fe4e;if(_0x53052c[_0x33cbcf(0x1a1)](_0x33cbcf(0x219),_0x53052c[_0x33cbcf(0x1d1)]))return;else _0x53052c[_0x33cbcf(0x29b)](_0xd952fa,_0x53052c[_0x33cbcf(0x2df)],'audioOn');}),webrtc['on'](_0x53052c['DwDVg'],function(){const _0x29f2dd=_0x11fe4e;_0xd952fa(_0x53052c[_0x29f2dd(0x2df)],_0x29f2dd(0x1ed));}),webrtc['on'](_0x53052c[_0x11fe4e(0x316)],function(){const _0x49349c=_0x11fe4e;_0x53052c['skWXg'](_0xd952fa,_0x49349c(0x20d),_0x49349c(0x30c));}),webrtc['on'](_0x11fe4e(0x362),function(){const _0x260e0e=_0x11fe4e;_0xd952fa(_0x53052c[_0x260e0e(0x2df)],_0x260e0e(0x362));}),webrtc['on']('nickChanged',function(_0x141574){const _0x3570da=_0x11fe4e;let _0x2e5c7d;if(_0x53052c[_0x3570da(0x1d4)](_0x3257b1[_0x3570da(0x308)][_0x3570da(0x346)],null)){if(_0x53052c[_0x3570da(0x2e6)]('ergVT',_0x53052c[_0x3570da(0x2e2)])){const _0x46ca32=_0x2173f9[_0x3570da(0x27c)]||_0x150da1[_0x3570da(0x233)];_0x4eca6a[_0x46ca32]=_0x4e66b7;}else _0x2e5c7d=_0x141574;}else _0x2e5c7d={'name':_0x141574,'userid':_0x3257b1[_0x3570da(0x308)][_0x3570da(0x346)]};_0xd952fa(_0x3570da(0x20d),_0x3570da(0x21c),_0x2e5c7d),webrtc[_0x3570da(0x2c6)](_0x3570da(0x21c),{'name':_0x141574});}),webrtc['on'](_0x53052c[_0x11fe4e(0x2e1)],function(){const _0x43ba8d=_0x11fe4e,_0x2dd915={'CdECq':function(_0xc43e80){return _0xc43e80();}},_0x396444=_0x3257b1[_0x43ba8d(0x2b1)]();for(const _0x358950 in usersInCallMapping){if(_0x53052c['hzzZN'](_0x53052c[_0x43ba8d(0x375)],_0x43ba8d(0x1ae)))return;else{if(!Object[_0x43ba8d(0x34b)][_0x43ba8d(0x1ea)]['call'](usersInCallMapping,_0x358950)){if(_0x53052c['NcYpM'](_0x43ba8d(0x36a),_0x43ba8d(0x240)))continue;else _0x4b80a6[_0x43ba8d(0x332)]===_0x3dc9db&&(_0x2dd915[_0x43ba8d(0x300)](_0x550339),_0x2dd915[_0x43ba8d(0x300)](_0x32214c));}else{if(!usersInCallMapping[_0x358950][_0x43ba8d(0x2f9)])continue;else{if(_0x358950===_0x396444)continue;}}_0x53052c[_0x43ba8d(0x282)](createScreensharingPeer,_0x3257b1,_0x358950);}}}),webrtc['on'](_0x53052c[_0x11fe4e(0x360)],function(){const _0x13ab9b=_0x11fe4e;if(!_0x3257b1[_0x13ab9b(0x1bd)]('mcu'))return;_0x3257b1['sendRoomMessage']({'roomType':_0x53052c['XmKVz'],'type':'unshareScreen'});}),webrtc['on']('disconnected',function(){const _0x2e832b=_0x11fe4e;ownPeer&&(delayedConnectionToPeer[ownPeer['id']]&&(_0x53052c[_0x2e832b(0x1db)](clearInterval,delayedConnectionToPeer[ownPeer['id']]),delete delayedConnectionToPeer[ownPeer['id']]),ownPeer[_0x2e832b(0x1fd)]()),ownScreenPeer&&ownScreenPeer[_0x2e832b(0x1fd)](),selfInCall=PARTICIPANT['CALL_FLAG'][_0x2e832b(0x2dd)],usersChanged(_0x3257b1,[],previousUsersInRoom),usersInCallMapping={},previousUsersInRoom=[];}),webrtc;}