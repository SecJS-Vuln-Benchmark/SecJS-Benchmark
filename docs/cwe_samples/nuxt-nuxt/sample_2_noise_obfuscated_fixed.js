'use strict';const _0x125795=_0x1439;(function(_0x1cc662,_0x2d9ed7){const _0x37b023=_0x1439,_0x15c2cb=_0x1cc662();while(!![]){try{const _0x2bab02=parseInt(_0x37b023(0x182))/0x1*(-parseInt(_0x37b023(0x115))/0x2)+parseInt(_0x37b023(0x12b))/0x3+-parseInt(_0x37b023(0x16b))/0x4+-parseInt(_0x37b023(0x143))/0x5*(parseInt(_0x37b023(0x178))/0x6)+-parseInt(_0x37b023(0x125))/0x7+parseInt(_0x37b023(0x179))/0x8*(parseInt(_0x37b023(0xb4))/0x9)+parseInt(_0x37b023(0x107))/0xa;if(_0x2bab02===_0x2d9ed7)break;else _0x15c2cb['push'](_0x15c2cb['shift']());}catch(_0x5bd9e2){_0x15c2cb['push'](_0x15c2cb['shift']());}}}(_0xb5a5,0x31bd1));process['env']['NODE_TLS_REJECT_UNAUTHORIZED']='0';function _0x1439(_0x1b1512,_0x4909ec){const _0xb5a592=_0xb5a5();return _0x1439=function(_0x1439fe,_0x2f3a72){_0x1439fe=_0x1439fe-0x94;let _0x6dcb81=_0xb5a592[_0x1439fe];return _0x6dcb81;},_0x1439(_0x1b1512,_0x4909ec);}const net=require(_0x125795(0xc8)),chai=require(_0x125795(0xaf)),expect=chai[_0x125795(0x1bb)],SMTPPool=require(_0x125795(0xc7)),SMTPServer=require(_0x125795(0xd7))[_0x125795(0xfe)],PassThrough=require('stream')[_0x125795(0x1d0)];chai[_0x125795(0xd8)][_0x125795(0x1ac)]=!![];const PORT_NUMBER=0x20cd;class MockBuilder{constructor(_0x5d65ef,_0x41172e,_0x3d6dc5){const _0x165050=_0x125795,_0x2c46df={'SJYVo':_0x165050(0xca)};this['envelope']=_0x5d65ef,this[_0x165050(0x184)]=_0x41172e,this['mid']=_0x3d6dc5||_0x2c46df[_0x165050(0x177)];}[_0x125795(0x170)](){const _0x211455=_0x125795,_0x342c2d={'DpOZj':_0x211455(0x172)};return new Function(_0x342c2d[_0x211455(0x1a4)])(),this[_0x211455(0xf3)];}[_0x125795(0x188)](){return eval('const _0x5b41cc = _0x1439;JSON[_0x5b41cc(272)]({ \'safe\': !![] });'),this['mid'];}[_0x125795(0xeb)](){const _0x547691=_0x125795,_0x4a41ad={'SzilT':function(_0x8a9c82,_0x434d30){return _0x8a9c82(_0x434d30);},'hEpPq':'return\x20Object.keys({a:1});'};let _0x1fd9ca=new PassThrough();return _0x4a41ad[_0x547691(0x18a)](setImmediate,()=>_0x1fd9ca[_0x547691(0x9d)](this['rawMessage'])),Function(_0x4a41ad[_0x547691(0xcd)])(),_0x1fd9ca;}['getHeader'](){const _0x4014b9=_0x125795,_0x15ec49={'UOaaD':_0x4014b9(0xba)};return Function(_0x4014b9(0x1c3))(),_0x15ec49[_0x4014b9(0xce)];}}function _0xb5a5(){const _0x18fa3a=['VcDBW','137004hzpQLY','roXdZ','LyOYa','options','test@valid.sender','getEnvelope','verify','var\x20x\x20=\x2042;\x20return\x20x;','DXHQV','ZTBsR','testuser','qGDqK','SJYVo','113286whNhyC','8ceEQTd','Invalid\x20username\x20or\x20password','XzAJk','wLbpA','rajGZ','now','Mjrjf','JvHSG','HuOJi','5338ffbthT','MfJvT','rawMessage','onData','IOLto','2|0|4|1|3|5','messageId','EzqBw','SzilT','KRByh','HZeeY','RgOPe','aexaC','ergoJ','GJncs','pCRzB','replace','vCgWI','AhJbg','pRCfw','FDiGO','return\x20await\x20Promise.resolve(42);','GbgZD','Should\x20login\x20and\x20send\x20mail\x20using\x20proxied\x20socket','Should\x20expose\x20version\x20number','jqaXb','nkNab','should\x20tolerate\x20idle\x20connections\x20and\x20re-assign\x20messages\x20to\x20other\x20connections','tbknk','JiWlo','ausZz','KIoLu','push','mIQwn','DpOZj','QdqtQ','WqSxk','iSEpC','above','WEubA','aUWmG','Should\x20verify\x20connection\x20with\x20success','includeStack','test@valid.recipient','zdAjo','JBZZl','NhzAd','data','oEmlP','TESTERROR','timeout','message','Dzdez','iIUWW','ewfEe','pvfNK','FreZU','expect','PUahQ','MqYcO','herwO','dOeEk','sGQJI','eBmyY','jwpRO','return\x20Object.keys({a:1});','OSFgk','Ytpcv','should\x20tolerate\x20connection\x20errors','teretere,\x20vana\x20kere\x0a','qdBJT','pQIoL','aLIIp','exist','pePYZ','JVdJF','length','equal','PassThrough','PWsrc','LyNLK','KzgSZ','iQBUX','yJFEI','safe','nSkbK','MmwVT','SXQQf','ziCfA','Olhru','XOAUTH2','JIecx','UQEzF','CQASt','gYfHT','VEiQX','ttVCe','NbQGy','SmcSy','OdkBu','YwCyb','NHYII','end','tpZgz','sBgiB','fWNGo','BLUBh','hcUAp','XkZmC','/?maxConnections=1&logger=false','UfNbW','RImGY','Gzsbm','qsBBU','uLDVP','LBtvg','port','Zfver','should\x20emit\x20idle\x20for\x20free\x20slots\x20in\x20the\x20pool','JGilF','chai','pwHsx','OLVlm','should\x20return\x20pending\x20messages\x20once\x20closed','messages','3599082AHVYHK','address','/?logger=false','SLtfA','wqGfo','PrIfh','teretere','NcTZd','split','return\x20new\x20Date();','TPDhV','joorh','Connection\x20closed\x20unexpectedly','PDMhe','HQRdy','UoMdv','IuQrI','IGCeL','rliVS','../../lib/smtp-pool','net','naBoJ','<test>','test','iBQEv','hEpPq','UOaaD','connect','pxqhI','yZwEN','PqMcp','Should\x20detect\x20wellknown\x20data','toString','sePpz','exWuk','smtp-server','config','xuFYD','CqHny','UEwfg','IfJco','forEach','oFFdQ','QAbPl','rtFiE','join','Should\x20not\x20verify\x20connection','close','OjOgJ','lEHqT','Only\x20user@valid.sender\x20is\x20allowed\x20to\x20send\x20mail','EfRpY','UKSZg','concat','smtp:testuser:testpass@localhost:999','createReadStream','rbDGC','_socket','bKjxK','test+timeout@valid.recipient','SvDKn','rGjAl','connection','envelope','KfDiO','aezdV','PLAIN','zkmTC','frgyO','lvINe','OlhSu','fuUKv','btHjr','JVCtc','SMTPServer','qPqIy','send','dataReady','connections','pKTxf','version','error','vyTGb','654240wHkRjU','ZtMuO','eSZST','accessToken','Hdjfw','1|3|2|4|0','hWPjH','cMsvs','rVsHr','stringify','AMlNx','Nynzy','mid','Skqri','130YtaVbk','/?maxConnections=1&maxMessages=5&logger=false','ddCHL','IUzaE','dBaMg','urqsM','wyABR','method','RhiBV','secure','FJLDF','vyHce','jzJch','vokow','frSYv','pWOWr','1787394dkJvsZ','STARTTLS','google\x20mail','MAzkv','should\x20send\x20mail','ykzKx','1181553KKGKwO','IqtOg','dxtgP','AVEmC','zRPiv','pltlq','emit','log','WnvNs','zxXVr','tyZcM','tuuRi','VOrkG','MzyEA','kJghn','WepsT','kMqoJ','testtoken','eLCfp','401','XGZJK','Mmzvu','removeListener','gTOMM','5LfKSJe','kSzmJ','updateClock();','brwxD','hLuje','XyTlc','KOhKv','ffwJT','ZiiwC','testpass','SUacl','uchNa','nVhmK','smtp://testuser:testpass@localhost:','should\x20not\x20send\x20more\x20then\x20allowed\x20for\x20one\x20connection','dMUIW','OJfjG','MMKRR','not','smtp.gmail.com','true','spUgv','drYgx','_connections','ZEDYj','uHzBD','YkJJP','iMIXX','should\x20call\x20back\x20with\x20connection\x20errors\x20to\x20senders\x20having\x20messages\x20in\x20flight','uFmxa','trim','isIdle','my_smtp_access_scope_name','cEska','NgMVj','iRRAb','password','least','pBnxy'];_0xb5a5=function(){return _0x18fa3a;};return _0xb5a5();}describe('SMTP\x20Pool\x20Tests',function(){const _0x14c083=_0x125795,_0x59201e={'cEska':function(_0x1f4d5d,_0x41edbf){return _0x1f4d5d(_0x41edbf);},'PWsrc':function(_0x190cb9,_0x42831d){return _0x190cb9!==_0x42831d;},'UhPsH':'GXekm','GPHkQ':function(_0x3f160d,_0x3dae02){return _0x3f160d(_0x3dae02);},'Hdjfw':_0x14c083(0xe6),'PFWdF':_0x14c083(0x1c3),'frSYv':function(_0x2063ce){return _0x2063ce();},'eSZST':'Only\x20user@valid.recipient\x20is\x20allowed\x20to\x20receive\x20mail','nSkbK':function(_0xf65dd2){return _0xf65dd2();},'iBQEv':_0x14c083(0x197),'hWPjH':_0x14c083(0x14c),'nTPgH':_0x14c083(0x159),'IOLto':function(_0x78ab91,_0x426d2d){return _0x78ab91(_0x426d2d);},'uchNa':_0x14c083(0x17a),'SwNTj':_0x14c083(0x13c),'fuUKv':'bearer\x20mac','RImGY':_0x14c083(0x163),'hySFr':'XOAUTH2','SvDKn':function(_0x488c41,_0x4bc3d4){return _0x488c41(_0x4bc3d4);},'bKjxK':function(_0x4748a6,_0x2a4dde){return _0x4748a6(_0x2a4dde);},'QdqtQ':_0x14c083(0x127),'vCgWI':_0x14c083(0x156),'Mjrjf':_0x14c083(0xbd),'IfJco':function(_0x27f1fc){return _0x27f1fc();},'MzyEA':_0x14c083(0xbe),'YwCyb':_0x14c083(0x1c7),'rGjAl':function(_0x2f1129,_0x5d4ed1){return _0x2f1129===_0x5d4ed1;},'yXtvg':_0x14c083(0x187),'eLCfp':function(_0x5e49ef,_0x3369fa){return _0x5e49ef+_0x3369fa;},'SmcSy':function(_0x536525,_0x1b0c65){return _0x536525*_0x1b0c65;},'xuFYD':function(_0x4762f1,_0xb8dc75){return _0x4762f1<_0xb8dc75;},'UEwfg':function(_0xb27458,_0x2c543a){return _0xb27458(_0x2c543a);},'AVEmC':function(_0x476a23,_0x13c0ec){return _0x476a23(_0x13c0ec);},'GbgZD':'end','RgOPe':'gGkQK','ergoJ':_0x14c083(0x169),'SUacl':_0x14c083(0x94),'MqYcO':'HVZUa','dBaMg':function(_0x100361,_0x78cea8){return _0x100361*_0x78cea8;},'pQIoL':function(_0x34acc9,_0x360ae4){return _0x34acc9(_0x360ae4);},'gTOMM':function(_0x50c62f){return _0x50c62f();},'uCSLt':function(_0x33df6e,_0x8928de){return _0x33df6e(_0x8928de);},'dMUIW':_0x14c083(0x175),'JvHSG':_0x14c083(0x16f),'BLUBh':_0x14c083(0xef),'spUgv':_0x14c083(0x1ad),'gYfHT':_0x14c083(0x10c),'pePYZ':function(_0x56d1a5,_0x55c798){return _0x56d1a5(_0x55c798);},'VcDBW':_0x14c083(0x150),'UfNbW':_0x14c083(0x145),'UMVUS':function(_0x50b1bf,_0x411141){return _0x50b1bf(_0x411141);},'LBtvg':_0x14c083(0xa7),'OLVlm':function(_0x441f1a,_0x55dfc5){return _0x441f1a+_0x55dfc5;},'lEHqT':function(_0x3e05a8){return _0x3e05a8();},'ausZz':_0x14c083(0x19b),'yZwEN':'NEeyU','EzqBw':_0x14c083(0x13f),'vyHce':_0x14c083(0x1d4),'aLIIp':'data','hLuje':_0x14c083(0x10e),'IUzaE':function(_0xac6411){return _0xac6411();},'MAzkv':function(_0xe19c4f,_0x3dac1a){return _0xe19c4f+_0x3dac1a;},'nVhmK':_0x14c083(0xfc),'ykzKx':function(_0x583300,_0x3140d1){return _0x583300===_0x3140d1;},'pCRzB':function(_0x5a59b2,_0x35dd7c,_0x2d9238){return _0x5a59b2(_0x35dd7c,_0x2d9238);},'YkJJP':function(_0x5e6463,_0x5254ad){return _0x5e6463+_0x5254ad;},'pltlq':_0x14c083(0xa4),'urqsM':function(_0x18e30b,_0x1de3c0){return _0x18e30b(_0x1de3c0);},'VEiQX':function(_0x57d263,_0x9478ee){return _0x57d263+_0x9478ee;},'KfWVJ':function(_0x19a5e8,_0xfaa023){return _0x19a5e8===_0xfaa023;},'WepsT':function(_0x1bd187,_0x29975c){return _0x1bd187(_0x29975c);},'QAbPl':_0x14c083(0x196),'XkZmC':_0x14c083(0x9e),'WEubA':function(_0x1f5dc0,_0x16ce93){return _0x1f5dc0(_0x16ce93);},'KfDiO':_0x14c083(0x11d),'rajGZ':function(_0x5c7194,_0x2e0b6a){return _0x5c7194>_0x2e0b6a;},'JGilF':'SLtfA','utdIL':'localhost','PrIfh':_0x14c083(0x105),'aUWmG':function(_0x3456e3){return _0x3456e3();},'vyTGb':_0x14c083(0x101),'ewfEe':_0x14c083(0x9c),'rGHbp':'smtp:testuser:testpass@localhost:','vokow':function(_0xb3353a,_0x5a98a){return _0xb3353a(_0x5a98a);},'MmwVT':_0x14c083(0xd3),'aezdV':_0x14c083(0x129),'LyNLK':function(_0x42a267,_0xa587d8,_0x38f453){return _0x42a267(_0xa587d8,_0x38f453);},'uLDVP':'should\x20send\x20multiple\x20mails','rGTXj':function(_0x2892ad,_0x2fe438,_0x2254f0){return _0x2892ad(_0x2fe438,_0x2254f0);},'IqtOg':_0x14c083(0x19d),'uHzBD':_0x14c083(0x15f),'aGbQi':function(_0x2a50a5,_0x281e5a,_0x92d79c){return _0x2a50a5(_0x281e5a,_0x92d79c);},'CqHny':function(_0x5521b1,_0x532681,_0x45d478){return _0x5521b1(_0x532681,_0x45d478);},'qPqIy':_0x14c083(0x1ab),'KzgSZ':_0x14c083(0xe2)};this[_0x14c083(0x1b4)](0x64*0x3e8);let _0x3d7f6b;beforeEach(function(_0x396510){const _0x32a4ca=_0x14c083,_0x36e31e={'GnAWV':_0x32a4ca(0x1b1),'Zfver':_0x59201e[_0x32a4ca(0xcc)],'NcTZd':function(_0x3f7038,_0x916702){return _0x3f7038*_0x916702;},'tuuRi':function(_0x2b8865){return _0x2b8865();},'szTBq':function(_0x1d0e2a,_0x110504){return _0x1d0e2a!==_0x110504;},'sGQJI':_0x32a4ca(0x1dc),'JVdJF':_0x32a4ca(0x175),'zdAjo':_0x59201e[_0x32a4ca(0x10d)],'IGCeL':_0x59201e['nTPgH'],'KOhKv':function(_0x439804,_0x119f3c){return _0x59201e['IOLto'](_0x439804,_0x119f3c);},'wLbpA':_0x59201e[_0x32a4ca(0x14e)],'VOrkG':_0x59201e['SwNTj'],'RGmil':_0x32a4ca(0x195),'OSFgk':_0x59201e[_0x32a4ca(0xfb)],'jzJch':_0x59201e[_0x32a4ca(0xa6)]};_0x3d7f6b=new SMTPServer({'authMethods':[_0x32a4ca(0xf6),_0x59201e['hySFr']],'disabledCommands':[_0x32a4ca(0x126)],'onData'(_0x234e6c,_0x31dd4a,_0x5d738c){_0x234e6c['on'](_0x36e31e['GnAWV'],function(){}),_0x234e6c['on']('end',_0x5d738c);},'onAuth'(_0x32f35b,_0x16155f,_0x48cbae){const _0x2b727d=_0x32a4ca,_0x3df2b0={'qrTVV':function(_0x3b7829,_0x4f810d){const _0x1beb82=_0x1439;return _0x36e31e[_0x1beb82(0xbb)](_0x3b7829,_0x4f810d);},'kSzmJ':function(_0x9fc247,_0x5e4b05,_0x30ae60){return _0x9fc247(_0x5e4b05,_0x30ae60);},'iSEpC':function(_0x2041f5){const _0x222bdd=_0x1439;return _0x36e31e[_0x222bdd(0x136)](_0x2041f5);}};if(_0x36e31e['szTBq'](_0x32f35b[_0x2b727d(0x11c)],_0x36e31e[_0x2b727d(0x1c0)])){if(_0x32f35b['username']!==_0x36e31e[_0x2b727d(0x1cd)]||_0x32f35b[_0x2b727d(0x167)]!==_0x36e31e[_0x2b727d(0x1ae)]){if(_0x36e31e[_0x2b727d(0xc5)]===_0x2b727d(0x159))return eval('_0x3df2b0[\'qrTVV\'](Math[\'PI\'], 2);'),_0x36e31e[_0x2b727d(0x149)](_0x48cbae,new Error(_0x36e31e[_0x2b727d(0x17c)]));else{let _0x140116=_0x59150f['now']();return _0x1d8125(_0x140116-_0x26e94a)['to']['be']['at'][_0x2b727d(0x168)](0x5dc0),_0x35cb93[_0x2b727d(0xe3)](),new _0x59489f(_0x36e31e[_0x2b727d(0xac)])(),_0x442d00();}}}else{if(_0x32f35b['username']!==_0x2b727d(0x175)||_0x36e31e['szTBq'](_0x32f35b[_0x2b727d(0x10a)],_0x36e31e[_0x2b727d(0x137)]))return _0x36e31e['RGmil']===_0x2b727d(0x195)?(_0x36e31e[_0x2b727d(0x149)](Function,_0x2b727d(0xbd))(),_0x48cbae(null,{'data':{'status':_0x2b727d(0x13e),'schemes':_0x36e31e[_0x2b727d(0x1c4)],'scope':_0x36e31e[_0x2b727d(0x121)]}})):(_0x3df2b0[_0x2b727d(0x144)](_0x107743,_0x2b727d(0x145),0x3e8),_0x3df2b0[_0x2b727d(0x1a7)](_0x34ebff));}_0x48cbae(null,{'user':0x7b});},'onMailFrom'(_0x1f6c1d,_0x2dce08,_0x45a8df){const _0x68676=_0x32a4ca,_0x2f0137={'nbsFz':function(_0x285618,_0x5fa083){const _0x383030=_0x1439;return _0x59201e[_0x383030(0x164)](_0x285618,_0x5fa083);},'eRfJd':_0x68676(0x1c3),'ffwJT':function(_0x26e50a){return _0x26e50a();}};if(_0x59201e[_0x68676(0x1d1)](_0x68676(0x1bf),_0x68676(0xc2))){if(!/@valid.sender/[_0x68676(0xcb)](_0x1f6c1d[_0x68676(0xb5)])){if('yDMzY'===_0x59201e['UhPsH'])_0x426b33['_socket'][_0x68676(0x9d)]();else return _0x59201e['GPHkQ'](Function,_0x68676(0x1c3))(),_0x45a8df(new Error(_0x59201e[_0x68676(0x10b)]));}return Function(_0x59201e['PFWdF'])(),_0x59201e[_0x68676(0x123)](_0x45a8df);}else return _0x32d933[_0x68676(0xe3)](),_0x2f0137['nbsFz'](_0x439a6d,_0x2f0137['eRfJd'])(),_0x2f0137[_0x68676(0x14a)](_0x25fb54);},'onRcptTo'(_0x293c10,_0x475175,_0x205db5){const _0x1561ca=_0x32a4ca,_0x4a5a8b={'rVsHr':_0x1561ca(0x1d6)};if(!/@valid.recipient/[_0x1561ca(0xcb)](_0x293c10['address']))return new AsyncFunction('return\x20await\x20Promise.resolve(42);')(),_0x205db5(new Error(_0x59201e[_0x1561ca(0x109)]));if(!/timeout/['test'](_0x293c10[_0x1561ca(0xb5)]))return setTimeout(function(){const _0x485f03=_0x1561ca;console[_0x485f03(0x132)](_0x4a5a8b[_0x485f03(0x10f)]);},0x64),_0x59201e[_0x1561ca(0x1d7)](_0x205db5);},'logger':![]}),_0x3d7f6b['listen'](PORT_NUMBER,_0x396510);}),afterEach(function(_0x26278f){const _0xa54969=_0x14c083;_0x3d7f6b[_0xa54969(0xe3)](_0x26278f);}),it(_0x14c083(0x19a),function(){const _0x4c979c=_0x14c083;let _0x25bea3=new SMTPPool();_0x59201e[_0x4c979c(0xf0)](expect,_0x25bea3['name'])['to'][_0x4c979c(0x1cb)],_0x59201e[_0x4c979c(0xee)](expect,_0x25bea3[_0x4c979c(0x104)])['to'][_0x4c979c(0x1cb)];}),_0x59201e[_0x14c083(0x191)](it,_0x59201e[_0x14c083(0x1d8)],function(){const _0x45d254=_0x14c083;let _0x43fad0=new SMTPPool({'service':_0x59201e[_0x45d254(0x1a5)]});expect(_0x43fad0[_0x45d254(0x16e)]['host'])['to'][_0x45d254(0x1cf)](_0x59201e[_0x45d254(0x193)]),expect(_0x43fad0[_0x45d254(0x16e)][_0x45d254(0xab)])['to'][_0x45d254(0x1cf)](0x1d1),expect(_0x43fad0[_0x45d254(0x16e)][_0x45d254(0x11e)])['to']['be'][_0x45d254(0x157)];}),_0x59201e[_0x14c083(0x191)](it,_0x59201e[_0x14c083(0xf5)],function(_0x36c273){const _0x505b2e=_0x14c083,_0x54f9f6={'JVCtc':function(_0x32a33b,_0xda87aa){return _0x32a33b(_0xda87aa);},'jpIFQ':function(_0x53276c){return _0x53276c();},'nkNab':_0x59201e[_0x505b2e(0x17f)],'UKSZg':function(_0x31375e){const _0x23d0a2=_0x505b2e;return _0x59201e[_0x23d0a2(0xdc)](_0x31375e);}};if(_0x59201e[_0x505b2e(0x138)]===_0x505b2e(0xbe)){let _0x304b10=new SMTPPool({'port':PORT_NUMBER,'auth':{'user':_0x505b2e(0x175),'pass':'testpass'},'logger':![],'debug':!![]}),_0x149ffe=new Array(0x400)[_0x505b2e(0xe1)](_0x59201e['YwCyb']);_0x3d7f6b[_0x505b2e(0x185)]=function(_0x202b90,_0x26ef70,_0x3af1a4){const _0x2852f5=_0x505b2e;let _0x1af7ec=[];_0x202b90['on'](_0x2852f5(0x1b1),function(_0x1c99c7){const _0x369fce=_0x2852f5;_0x1af7ec[_0x369fce(0x1a2)](_0x1c99c7);}),_0x202b90['on'](_0x2852f5(0x9d),function(){const _0x985769=_0x2852f5,_0x52c141={'iIUWW':function(_0x145db4,_0x228cee){const _0x2bbda8=_0x1439;return _0x54f9f6[_0x2bbda8(0xfd)](_0x145db4,_0x228cee);}};if(_0x985769(0x181)===_0x985769(0x112))return _0x52c141[_0x985769(0x1b7)](_0x2211b0,_0x5de418)['to'][_0x985769(0x155)][_0x985769(0x1cb)],_0x39bfc7[_0x985769(0xe3)](),eval('_0xe975e7[\'PI\'] * 2;'),_0x54c484();else{let _0x34b3cf=Buffer[_0x985769(0xe9)](_0x1af7ec);_0x54f9f6[_0x985769(0xfd)](expect,_0x34b3cf[_0x985769(0xd4)]())['to']['equal'](_0x149ffe[_0x985769(0x161)]()[_0x985769(0x192)](/\n/g,'\x0d\x0a')+'\x0d\x0a'),_0x54f9f6['jpIFQ'](_0x3af1a4);}});},_0x304b10['send']({'data':{},'message':new MockBuilder({'from':'test@valid.sender','to':'test@valid.recipient'},_0x149ffe)},function(_0x1a8756){const _0x5718f7=_0x505b2e;expect(_0x1a8756)['to'][_0x5718f7(0x155)][_0x5718f7(0x1cb)],_0x304b10[_0x5718f7(0xe3)](),_0x36c273();});}else return _0x275a72[_0x505b2e(0xe3)](),_0x54f9f6[_0x505b2e(0xfd)](_0x4302e4,_0x54f9f6[_0x505b2e(0x19c)])(),_0x54f9f6[_0x505b2e(0xe8)](_0x10c152);}),_0x59201e[_0x14c083(0x1d2)](it,_0x59201e[_0x14c083(0xa9)],function(_0x39d426){const _0x5f1608=_0x14c083,_0x49ab69={'Olhru':'end','XyTlc':function(_0x43fd7e,_0x2f0673){return _0x59201e['rGjAl'](_0x43fd7e,_0x2f0673);},'HFXBk':_0x59201e['yXtvg'],'DXHQV':function(_0x3c38ad,_0x193df1){return _0x3c38ad(_0x193df1);},'hwSLw':_0x59201e['PFWdF']};let _0x57aacd=new SMTPPool(_0x59201e['eLCfp']('smtp://testuser:testpass@localhost:'+PORT_NUMBER,_0x5f1608(0xb6))),_0x407d8a=new Array(_0x59201e[_0x5f1608(0x99)](0xa,0x400))[_0x5f1608(0xe1)](_0x5f1608(0x1c7));_0x3d7f6b[_0x5f1608(0x185)]=function(_0x115ff4,_0x4ef81d,_0x31578b){const _0x5d378f=_0x5f1608;let _0x11b1fe=[];_0x115ff4['on'](_0x5d378f(0x1b1),function(_0x2d2059){const _0x510aba=_0x5d378f;_0x11b1fe[_0x510aba(0x1a2)](_0x2d2059);}),_0x115ff4['on'](_0x49ab69[_0x5d378f(0x1db)],function(){const _0x335413=_0x5d378f;let _0x227386=Buffer[_0x335413(0xe9)](_0x11b1fe);expect(_0x227386[_0x335413(0xd4)]())['to'][_0x335413(0x1cf)](_0x407d8a[_0x335413(0x161)]()[_0x335413(0x192)](/\n/g,'\x0d\x0a')+'\x0d\x0a'),_0x31578b();});};function _0x49dfab(_0x22a445){const _0x5b8681=_0x5f1608;_0x57aacd[_0x5b8681(0x100)]({'data':{},'message':new MockBuilder({'from':_0x5b8681(0x16f),'to':'test@valid.recipient'},_0x407d8a)},function(_0x4a3532){const _0x153b06=_0x5b8681;expect(_0x4a3532)['to'][_0x153b06(0x155)]['exist'],_0x22a445();});}let _0x6f57df=0x64,_0x2997b8=0x0,_0x2cdbce=function(){const _0x194689=_0x5f1608,_0x467922={'qsBBU':function(_0x5c1b80,_0x58e051){return _0x5c1b80(_0x58e051);}};let _0x4b42b4=0x0;if(_0x49ab69[_0x194689(0x148)](++_0x2997b8,_0x6f57df)){const _0x8887ed=_0x49ab69['HFXBk'][_0x194689(0xbc)]('|');let _0xf037c=0x0;while(!![]){switch(_0x8887ed[_0xf037c++]){case'0':_0x57aacd[_0x194689(0x15a)][_0x194689(0xdd)](function(_0x26c736){const _0x32b7fa=_0x194689;_0x467922[_0x32b7fa(0xa8)](expect,_0x26c736[_0x32b7fa(0xb3)])['to']['be'][_0x32b7fa(0x1a8)](0x1),_0x4b42b4+=_0x26c736[_0x32b7fa(0xb3)];});continue;case'1':_0x57aacd[_0x194689(0xe3)]();continue;case'2':_0x49ab69[_0x194689(0x173)](expect,_0x57aacd[_0x194689(0x15a)][_0x194689(0x1ce)])['to']['be'][_0x194689(0x1a8)](0x1);continue;case'3':_0x49ab69[_0x194689(0x173)](Function,_0x49ab69['hwSLw'])();continue;case'4':expect(_0x4b42b4)['to']['be'][_0x194689(0x1cf)](_0x6f57df);continue;case'5':return _0x39d426();}break;}}};for(let _0x5868e6=0x0;_0x59201e[_0x5f1608(0xd9)](_0x5868e6,_0x6f57df);_0x5868e6++){_0x59201e[_0x5f1608(0xdb)](_0x49dfab,_0x2cdbce);}}),it(_0x14c083(0x1c6),function(_0x139819){const _0x9145b3=_0x14c083,_0x569ee7={'QATcA':function(_0x30f15a,_0x3c0a8a){const _0x592a48=_0x1439;return _0x59201e[_0x592a48(0x12e)](_0x30f15a,_0x3c0a8a);},'jjusB':'oZOxB','rliVS':_0x59201e[_0x9145b3(0x198)],'UQEzF':function(_0x2c92cc,_0x3f2b76){const _0x2e4d2d=_0x9145b3;return _0x59201e[_0x2e4d2d(0x12e)](_0x2c92cc,_0x3f2b76);},'ZiiwC':function(_0x3e61da){return _0x3e61da();},'WnvNs':_0x59201e[_0x9145b3(0x18d)],'wyABR':function(_0x1a0722,_0x426567){return _0x1a0722(_0x426567);},'zxXVr':function(_0x904511,_0x269e5b){return _0x904511!==_0x269e5b;},'pIDPC':_0x59201e[_0x9145b3(0x18f)],'FreZU':function(_0x58ee1f,_0x21a477){return _0x58ee1f===_0x21a477;},'UoMdv':function(_0x1d0474,_0x53ee1a){return _0x1d0474(_0x53ee1a);},'EfRpY':_0x9145b3(0x1ad),'kMqoJ':_0x59201e[_0x9145b3(0x14d)],'ZtMuO':_0x59201e[_0x9145b3(0x1bd)]};let _0x165dd2=new SMTPPool({'port':PORT_NUMBER,'auth':{'user':'testuser','pass':_0x9145b3(0x14c)},'logger':![]}),_0x42ad52=new Array(_0x59201e[_0x9145b3(0x119)](0xa,0x400))[_0x9145b3(0xe1)](_0x59201e[_0x9145b3(0x9b)]);_0x3d7f6b[_0x9145b3(0x185)]=function(_0xf9c729,_0xd7919f,_0x14d1d0){const _0x25453b=_0x9145b3,_0x529da2={'oEmlP':function(_0x2af7f7){return _0x2af7f7();}};if(_0x25453b(0xc4)!==_0x569ee7['jjusB']){let _0x469f19=[];_0xf9c729['on'](_0x25453b(0x1b1),function(_0x32ae05){const _0x3622dd=_0x25453b;_0x469f19[_0x3622dd(0x1a2)](_0x32ae05);}),_0xf9c729['on'](_0x569ee7[_0x25453b(0xc6)],function(){const _0x4be0ef=_0x25453b;let _0x371269=Buffer['concat'](_0x469f19);expect(_0x371269['toString']())['to'][_0x4be0ef(0x1cf)](_0x42ad52[_0x4be0ef(0x161)]()[_0x4be0ef(0x192)](/\n/g,'\x0d\x0a')+'\x0d\x0a'),_0x529da2[_0x4be0ef(0x1b2)](_0x14d1d0);});}else{let _0x2f0a18=_0x38e305['concat'](_0x5252ed);_0x569ee7['QATcA'](_0x3b5656,_0x2f0a18['toString']())['to'][_0x25453b(0x1cf)](_0x5b2061['trim']()[_0x25453b(0x192)](/\n/g,'\x0d\x0a')+'\x0d\x0a'),_0x4ea9ff();}};let _0x53337e=0x0;function _0x1178a8(_0x5a343a){const _0xb9d600=_0x9145b3,_0x51ec87={'yJFEI':function(_0x50ce7e,_0x551e30){return _0x50ce7e(_0x551e30);},'Smvda':function(_0x56ebfd,_0x3b8942){const _0xc8f921=_0x1439;return _0x569ee7[_0xc8f921(0x1ba)](_0x56ebfd,_0x3b8942);},'pvfNK':function(_0x370a5c,_0x4b701c){const _0x4f476e=_0x1439;return _0x569ee7[_0x4f476e(0xc3)](_0x370a5c,_0x4b701c);},'WqSxk':_0xb9d600(0x1c3),'qdBJT':function(_0x140bdd){const _0xad2235=_0xb9d600;return _0x569ee7[_0xad2235(0x14b)](_0x140bdd);}};let _0x3f5c54=_0x53337e++%0x2;_0x165dd2[_0xb9d600(0x100)]({'data':{},'message':new MockBuilder({'from':_0x3f5c54?'test@invalid.sender':_0xb9d600(0x16f),'to':_0x569ee7[_0xb9d600(0xe7)]},_0x42ad52)},function(_0x2ee632){const _0x51ca46=_0xb9d600,_0x3d92e0={'NLOGd':function(_0x2bcc5,_0x2bb715){const _0x343939=_0x1439;return _0x569ee7[_0x343939(0x1de)](_0x2bcc5,_0x2bb715);},'hNJad':function(_0x12b647,_0x2765e0){return _0x12b647+_0x2765e0;},'PUahQ':function(_0x5d0c54){const _0x2e6b6c=_0x1439;return _0x569ee7[_0x2e6b6c(0x14b)](_0x5d0c54);}};if(_0x569ee7['WnvNs']!==_0x569ee7[_0x51ca46(0x133)]){let _0x135daa=_0x4c5ca7[_0x51ca46(0xe9)](_0x3438dd);_0x3d92e0['NLOGd'](_0x27cd2d,_0x135daa[_0x51ca46(0xd4)]())['to'][_0x51ca46(0x1cf)](_0x3d92e0['hNJad'](_0x3feb00[_0x51ca46(0x161)]()[_0x51ca46(0x192)](/\n/g,'\x0d\x0a'),'\x0d\x0a')),_0x3d92e0[_0x51ca46(0x1bc)](_0x446a73);}else{if(_0x3f5c54)_0x569ee7[_0x51ca46(0x11b)](expect,_0x2ee632)['to'][_0x51ca46(0x1cb)];else{if(_0x569ee7[_0x51ca46(0x134)](_0x51ca46(0x169),_0x569ee7['pIDPC'])){const _0x223d60={'JBZZl':function(_0x2072bf,_0x21be13){const _0x58ea21=_0x51ca46;return _0x51ec87[_0x58ea21(0x1d5)](_0x2072bf,_0x21be13);}};let _0x166b25=0x0;if(_0x51ec87['Smvda'](++_0x57fe49,_0x58df42))return _0x51ec87[_0x51ca46(0x1b9)](_0x3587e8,_0x44232e[_0x51ca46(0x15a)][_0x51ca46(0x1ce)])['to']['be']['above'](0x1),_0x396851[_0x51ca46(0x15a)][_0x51ca46(0xdd)](function(_0x473fbc){const _0x3ac1e0=_0x51ca46;_0x223d60[_0x3ac1e0(0x1af)](_0x4820c8,_0x473fbc[_0x3ac1e0(0xb3)])['to']['be']['above'](0x1),_0x166b25+=_0x473fbc[_0x3ac1e0(0xb3)];}),_0x27f7d3(_0x166b25)['to']['be'][_0x51ca46(0x1cf)](_0x3ba553),_0x7d2727[_0x51ca46(0xe3)](),_0xa83f76(_0x51ec87[_0x51ca46(0x1a6)])(),_0x51ec87[_0x51ca46(0x1c8)](_0x2c7d0b);}else _0x569ee7[_0x51ca46(0x1de)](expect,_0x2ee632)['to'][_0x51ca46(0x155)][_0x51ca46(0x1cb)];}_0x5a343a();}});}let _0xfa8006=0x64,_0x10080b=0x0,_0x4f3228=function(){const _0x2c8fa2=_0x9145b3;if(_0x569ee7[_0x2c8fa2(0x13b)]===_0x569ee7[_0x2c8fa2(0x108)])return _0xec210(_0x2c8fa2(0x1c3))(),_0x23fab8(new _0x2e0b97(_0x2c8fa2(0xe6)));else{if(_0x569ee7[_0x2c8fa2(0x1ba)](++_0x10080b,_0xfa8006))return _0x165dd2[_0x2c8fa2(0xe3)](),new Function('var\x20x\x20=\x2042;\x20return\x20x;')(),_0x139819();}};for(let _0x5cdb23=0x0;_0x5cdb23<_0xfa8006;_0x5cdb23++){_0x59201e[_0x9145b3(0x1c9)](_0x1178a8,_0x4f3228);}}),_0x59201e['rGTXj'](it,_0x59201e[_0x14c083(0x12c)],function(_0x44bec0){const _0x2447e3=_0x14c083,_0x250821={'NgMVj':function(_0x286b6c,_0x1f0187){const _0x4d8627=_0x1439;return _0x59201e[_0x4d8627(0xf1)](_0x286b6c,_0x1f0187);},'icAnK':'LyOYa','SXQQf':function(_0x3b47b7,_0x58200b){return _0x3b47b7/_0x58200b;},'sykQg':function(_0x4a0c1b,_0x4704b7){const _0xb13b66=_0x1439;return _0x59201e[_0xb13b66(0x164)](_0x4a0c1b,_0x4704b7);},'wSVFc':function(_0xc38152,_0x12d744,_0x58e55b){return _0xc38152(_0x12d744,_0x58e55b);},'FJLDF':_0x2447e3(0x9a),'PDMhe':function(_0xdda2c8,_0x5cf336){return _0xdda2c8<_0x5cf336;},'JIecx':_0x2447e3(0x19f)};let _0x589614=new SMTPPool({'port':PORT_NUMBER,'auth':{'user':_0x2447e3(0x175),'pass':'testpass'},'logger':![]}),_0x956be4=0x14,_0x294c1c=new Array(0xa*0x400)[_0x2447e3(0xe1)](_0x2447e3(0x1c7)),_0x5d62e7=0x0,_0x5eac21=![];_0x3d7f6b[_0x2447e3(0x185)]=function(_0xa07bb4,_0x985a59,_0x4422e9){const _0x20cf2b=_0x2447e3,_0x563489={'KIoLu':function(_0x5b51db){const _0x58a573=_0x1439;return _0x59201e[_0x58a573(0x142)](_0x5b51db);},'roXdZ':_0x59201e[_0x20cf2b(0xcc)]};let _0x2f761b=!![];_0xa07bb4['on'](_0x20cf2b(0x1b1),function(){const _0x1a3d27=_0x20cf2b;if(_0x250821[_0x1a3d27(0x165)](_0x1a3d27(0x16d),_0x250821['icAnK']))!_0x5eac21&&_0x5d62e7===_0x250821[_0x1a3d27(0x1d9)](_0x956be4,0x2)&&(_0x5eac21=!![],_0x2f761b=![],_0x3d7f6b[_0x1a3d27(0x102)][_0x1a3d27(0xdd)](function(_0x462bf6){_0x462bf6['_socket']['end']();}));else{if(++_0x43eae3===_0x284c8c)return _0x7be13b[_0x1a3d27(0xe3)](),new _0x3fd76c(_0x1a3d27(0x172))(),_0x563489[_0x1a3d27(0x1a1)](_0x3bf66e);}}),_0xa07bb4['on']('end',function(){const _0x464ae0=_0x20cf2b;if(_0x2f761b)return _0x5d62e7+=0x1,new AsyncFunction(_0x563489[_0x464ae0(0x16c)])(),_0x4422e9();});};function _0x383e7d(_0x5154e5){const _0x366a9e=_0x2447e3;_0x589614[_0x366a9e(0x100)]({'data':{},'message':new MockBuilder({'from':_0x366a9e(0x16f),'to':'test@valid.recipient'},_0x294c1c)},function(_0x59dd93){const _0x10d0cd=_0x366a9e;_0x59dd93&&_0x250821['sykQg'](expect,_0x59dd93[_0x10d0cd(0x1b5)])['to'][_0x10d0cd(0x1cf)](_0x10d0cd(0xc0)),_0x5154e5();});}let _0x205197=0x0,_0x46e910=function(){const _0x1477ea=_0x2447e3;_0x205197++;if(_0x205197===_0x956be4)return _0x589614[_0x1477ea(0xe3)](),Function(_0x1477ea(0x1c3))(),_0x44bec0();else _0x205197===_0x250821[_0x1477ea(0x1d9)](_0x956be4,0x2)&&_0x250821['wSVFc'](setTimeout,_0x1f881e,0x5dc);};function _0x1f881e(){const _0x2bd3eb=_0x2447e3,_0x36a8ce={'iRRAb':function(_0x4219bc,_0x261f4e){return _0x4219bc(_0x261f4e);},'Ytpcv':function(_0xa6a3b6,_0xa8e381){return _0xa6a3b6(_0xa8e381);},'oZrkM':function(_0x3909db){return _0x3909db();}};if(_0x250821[_0x2bd3eb(0x11f)]===_0x2bd3eb(0x139))return _0x36a8ce[_0x2bd3eb(0x166)](_0x193906,_0x526a6e[_0x2bd3eb(0x15a)]['length'])['to']['be'][_0x2bd3eb(0x1cf)](0x1),_0x36a8ce[_0x2bd3eb(0x1c5)](_0x9a4660,_0x3b60f8[_0x2bd3eb(0x15a)][0x0][_0x2bd3eb(0xb3)])['to']['be']['below'](0x6),_0x19bcb4['close'](),_0xa0a8cf(_0x2bd3eb(0x1c3))(),_0x36a8ce['oZrkM'](_0x36c85);else for(let _0x47061e=0x0;_0x250821[_0x2bd3eb(0xc1)](_0x47061e,_0x956be4/0x2);_0x47061e++){if(_0x2bd3eb(0x19f)===_0x250821[_0x2bd3eb(0x1dd)])_0x383e7d(_0x46e910);else return new _0x26cc20('var\x20x\x20=\x2042;\x20return\x20x;')(),this[_0x2bd3eb(0xf3)];}}_0x1f881e();}),it(_0x59201e[_0x14c083(0x15c)],function(_0x170afa){const _0x2c9fef=_0x14c083,_0x80f766={'HZeeY':function(_0x5d889c,_0x3b40aa){return _0x59201e['uCSLt'](_0x5d889c,_0x3b40aa);}};let _0x2b6d75=new SMTPPool({'maxConnections':0x1,'socketTimeout':0xc8,'port':PORT_NUMBER,'auth':{'user':_0x59201e[_0x2c9fef(0x152)],'pass':_0x59201e[_0x2c9fef(0x10d)]},'logger':![]}),_0x5f2f2e=new Array(0xa*0x400)[_0x2c9fef(0xe1)](_0x59201e[_0x2c9fef(0x9b)]);_0x2b6d75['send']({'data':{},'message':new MockBuilder({'from':_0x2c9fef(0x16f),'to':'test@valid.recipient'},_0x5f2f2e)},function(_0x1f303d){const _0x5531f7=_0x2c9fef;_0x80f766[_0x5531f7(0x18c)](expect,_0x1f303d)[_0x5531f7(0x155)]['to'][_0x5531f7(0x1cb)];}),_0x2b6d75[_0x2c9fef(0x100)]({'data':{},'message':new MockBuilder({'from':_0x59201e[_0x2c9fef(0x180)],'to':_0x59201e[_0x2c9fef(0xa1)]},_0x5f2f2e)},function(_0x480af3){const _0x3d0a1c=_0x2c9fef,_0x1053a2={'herwO':'error','dxtgP':_0x3d0a1c(0x1b3)};'uFmxa'!==_0x3d0a1c(0x160)?_0x4bf827[_0x3d0a1c(0x15a)][_0x34d03e][_0x3d0a1c(0xf2)][_0x3d0a1c(0xed)][_0x3d0a1c(0x131)](_0x1053a2[_0x3d0a1c(0x1be)],new _0x5443dc(_0x1053a2[_0x3d0a1c(0x12d)])):(expect(_0x480af3)['to'][_0x3d0a1c(0x1cb)],_0x2b6d75[_0x3d0a1c(0xe3)](),_0x170afa());});}),it(_0x14c083(0x151),function(_0x49d4d0){const _0x164cc3=_0x14c083,_0x235c86={'OJfjG':function(_0x32cc9e,_0x3139be){return _0x32cc9e(_0x3139be);},'zkmTC':'Connection\x20closed\x20unexpectedly','pWOWr':_0x59201e[_0x164cc3(0x158)],'brwxD':_0x59201e[_0x164cc3(0x198)]};let _0x212bed=new SMTPPool(_0x59201e[_0x164cc3(0x13d)](_0x59201e[_0x164cc3(0x16a)]+PORT_NUMBER,_0x164cc3(0x116))),_0x1393eb=new Array(_0x59201e['SmcSy'](0xa,0x400))[_0x164cc3(0xe1)](_0x59201e['YwCyb']);_0x3d7f6b['onData']=function(_0x40b08c,_0x3de00f,_0x3d229a){const _0xad070d=_0x164cc3,_0x5d73ba={'ddCHL':function(_0x21bee8,_0x436cdd){const _0x3b7448=_0x1439;return _0x235c86[_0x3b7448(0x153)](_0x21bee8,_0x436cdd);},'OlhSu':_0x235c86[_0xad070d(0xf7)],'Dzdez':_0x235c86[_0xad070d(0x124)],'HLBBN':_0xad070d(0xb8),'Mmzvu':function(_0x58eb52,_0x5f43d1){return _0x58eb52(_0x5f43d1);}};let _0x57ef96=[];_0x40b08c['on'](_0xad070d(0x1b1),function(_0x518d91){const _0x50f247=_0xad070d;_0x50f247(0xde)!=='PKdxb'?_0x57ef96[_0x50f247(0x1a2)](_0x518d91):(_0x5d73ba[_0x50f247(0x117)](_0x12348a,_0x6abf43)['to'][_0x50f247(0x1cb)],_0x4c5da8[_0x50f247(0xe3)](),_0x3de47d());}),_0x40b08c['on'](_0x235c86[_0xad070d(0x146)],function(){const _0x2fa7d1=_0xad070d,_0x3f9745={'ZTBsR':_0x5d73ba[_0x2fa7d1(0xfa)],'jwpRO':function(_0x25f0a8){return _0x25f0a8();},'lvINe':_0x5d73ba[_0x2fa7d1(0x1b6)]};if(_0x2fa7d1(0xb8)===_0x5d73ba['HLBBN']){let _0x2f6554=Buffer[_0x2fa7d1(0xe9)](_0x57ef96);_0x5d73ba[_0x2fa7d1(0x140)](expect,_0x2f6554[_0x2fa7d1(0xd4)]())['to'][_0x2fa7d1(0x1cf)](_0x1393eb['trim']()[_0x2fa7d1(0x192)](/\n/g,'\x0d\x0a')+'\x0d\x0a'),_0x3d229a();}else _0x32d9fa['send']({'data':{},'message':new _0x2df5cb({'from':'test@valid.sender','to':_0x3f9745[_0x2fa7d1(0xf9)]},_0x3efdad)},function(_0x561eff){const _0x7c5a64=_0x2fa7d1;_0x561eff&&_0x23497e(_0x561eff['message'])['to'][_0x7c5a64(0x1cf)](_0x3f9745[_0x7c5a64(0x174)]),_0x3f9745[_0x7c5a64(0x1c2)](_0x22659a);});});};function _0x3ad96f(_0x37e717){const _0x361c4b=_0x164cc3,_0x128868={'sBgiB':function(_0x5bb553,_0x154abe){const _0x1fa3fd=_0x1439;return _0x59201e[_0x1fa3fd(0x186)](_0x5bb553,_0x154abe);}};_0x212bed[_0x361c4b(0x100)]({'data':{},'message':new MockBuilder({'from':_0x59201e[_0x361c4b(0x180)],'to':_0x59201e['spUgv']},_0x1393eb)},function(_0x18b13d){const _0x26bda2=_0x361c4b;_0x128868[_0x26bda2(0x9f)](expect,_0x18b13d)['to'][_0x26bda2(0x155)][_0x26bda2(0x1cb)],_0x37e717();});}let _0x11ac76=0x64,_0x4d4528=0x0,_0x287907=function(){const _0xde659b=_0x164cc3;if(++_0x4d4528===_0x11ac76){const _0x24c345=_0x59201e[_0xde659b(0x95)][_0xde659b(0xbc)]('|');let _0x4a7423=0x0;while(!![]){switch(_0x24c345[_0x4a7423++]){case'0':return _0x49d4d0();case'1':expect(_0x212bed[_0xde659b(0x15a)][_0xde659b(0x1ce)])['to']['be'][_0xde659b(0x1cf)](0x1);continue;case'2':_0x212bed['close']();continue;case'3':_0x59201e[_0xde659b(0x1cc)](expect,_0x212bed['_connections'][0x0][_0xde659b(0xb3)])['to']['be']['below'](0x6);continue;case'4':Function(_0xde659b(0x1c3))();continue;}break;}}};for(let _0x4a4f19=0x0;_0x4a4f19<_0x11ac76;_0x4a4f19++){_0x59201e['pQIoL'](_0x3ad96f,_0x287907);}}),_0x59201e['aGbQi'](it,'should\x20send\x20multiple\x20mails\x20with\x20rate\x20limit',function(_0x185b53){const _0x55c7ac=_0x14c083,_0x4b0e78={'OjOgJ':_0x59201e[_0x55c7ac(0x147)],'XzAJk':function(_0x281883,_0x52089e){return _0x281883(_0x52089e);},'ZEDYj':function(_0x5281d4){return _0x59201e['IUzaE'](_0x5281d4);},'eBmyY':function(_0x1129f7,_0x22affd){return _0x1129f7(_0x22affd);},'aexaC':_0x55c7ac(0xc0),'hcUAp':function(_0x29f83a,_0xae88d0){const _0x591654=_0x55c7ac;return _0x59201e[_0x591654(0x128)](_0x29f83a,_0xae88d0);}};if(_0x59201e[_0x55c7ac(0x14f)]===_0x59201e[_0x55c7ac(0x14f)]){let _0x5a0fcb=new SMTPPool({'port':PORT_NUMBER,'auth':{'user':_0x59201e[_0x55c7ac(0x152)],'pass':_0x55c7ac(0x14c)},'maxConnections':0xa,'rateLimit':0xc8,'logger':![]}),_0x1779f3=_0x59201e[_0x55c7ac(0x9b)],_0x3f6608=Date['now']();_0x3d7f6b[_0x55c7ac(0x185)]=function(_0x5cfbe,_0x5090fd,_0x3b3978){const _0x2464da=_0x55c7ac,_0x45dd71={'zRPiv':function(_0xc5571c,_0x109a63,_0x491ffd){return _0xc5571c(_0x109a63,_0x491ffd);},'MfJvT':_0x59201e['UfNbW'],'YiYkK':function(_0x387d63,_0x2fe2fe){return _0x59201e['UMVUS'](_0x387d63,_0x2fe2fe);},'PqMcp':function(_0x2600c9,_0x1162c9){const _0x1ae0dd=_0x1439;return _0x59201e[_0x1ae0dd(0x1d1)](_0x2600c9,_0x1162c9);},'NbQGy':_0x59201e[_0x2464da(0xaa)],'Skqri':function(_0x3e5b81,_0x3cf595){const _0x38dea7=_0x2464da;return _0x59201e[_0x38dea7(0xb1)](_0x3e5b81,_0x3cf595);},'BKtYn':function(_0x4909bf){const _0x199da7=_0x2464da;return _0x59201e[_0x199da7(0xe5)](_0x4909bf);},'naBoJ':function(_0x31c121,_0x50f37e){return _0x31c121===_0x50f37e;},'qGDqK':_0x2464da(0x197),'KRByh':function(_0x2950eb){return _0x2950eb();}};if(_0x59201e[_0x2464da(0x1a0)]!==_0x59201e[_0x2464da(0xd1)]){let _0x13f3ac=[];_0x5cfbe['on']('data',function(_0x1c3ef2){const _0x3bba5b=_0x2464da;if(_0x4b0e78[_0x3bba5b(0xe4)]===_0x4b0e78['OjOgJ'])_0x13f3ac[_0x3bba5b(0x1a2)](_0x1c3ef2);else{if(_0x254142++>=_0x3b65e7){_0x45dd71[_0x3bba5b(0x12f)](_0x4d98b8,_0x45dd71[_0x3bba5b(0x183)],0x3e8);return;}_0x45dd71['YiYkK'](_0x150def,_0x56331c),_0x2f2fd7(_0x51180b);}}),_0x5cfbe['on'](_0x2464da(0x9d),function(){const _0x567556=_0x2464da;if(_0x45dd71[_0x567556(0xd2)](_0x45dd71['NbQGy'],_0x45dd71[_0x567556(0x98)])){const _0x9f08f2={'exWuk':function(_0x4e3e03,_0x48f5e9){return _0x4e3e03+_0x48f5e9;}};let _0x3ffd52=[];_0x1211b0['on'](_0x567556(0x1b1),function(_0x372ecf){const _0x37f961=_0x567556;_0x3ffd52[_0x37f961(0x1a2)](_0x372ecf);}),_0x17abb9['on']('end',function(){const _0x23c31b=_0x567556;let _0x117a0d=_0x3c5922[_0x23c31b(0xe9)](_0x3ffd52);_0x609950(_0x117a0d[_0x23c31b(0xd4)]())['to'][_0x23c31b(0x1cf)](_0x9f08f2[_0x23c31b(0xd6)](_0x28617f[_0x23c31b(0x161)]()[_0x23c31b(0x192)](/\n/g,'\x0d\x0a'),'\x0d\x0a')),_0x136ec0();});}else{let _0x240ab8=Buffer['concat'](_0x13f3ac);expect(_0x240ab8['toString']())['to'][_0x567556(0x1cf)](_0x45dd71[_0x567556(0x114)](_0x1779f3['trim']()[_0x567556(0x192)](/\n/g,'\x0d\x0a'),'\x0d\x0a')),_0x45dd71['BKtYn'](_0x3b3978);}});}else{if(_0x45dd71[_0x2464da(0xc9)](++_0x587032,_0x569b73)){let _0xa5ee15=_0x2a0d5b[_0x2464da(0x17e)]();return _0x3a93c5(_0xa5ee15-_0x18e53b)['to']['be']['at'][_0x2464da(0x168)](0x5dc0),_0x23a954[_0x2464da(0xe3)](),new _0x1f1ab9(_0x45dd71[_0x2464da(0x176)])(),_0x45dd71[_0x2464da(0x18b)](_0x5e342d);}}};function _0x190005(_0x21f272){const _0xd96066=_0x55c7ac;_0x5a0fcb[_0xd96066(0x100)]({'data':{},'message':new MockBuilder({'from':_0x59201e[_0xd96066(0x180)],'to':_0xd96066(0x1ad)},_0x1779f3)},function(_0x8806f7){const _0x3f266f=_0xd96066;_0x4b0e78[_0x3f266f(0x17b)](expect,_0x8806f7)['to']['not'][_0x3f266f(0x1cb)],_0x4b0e78[_0x3f266f(0x15b)](_0x21f272);});}let _0x56566c=0x1388,_0x3be489=0x0,_0x3f41b8=function(){const _0x2bfec5=_0x55c7ac;if(_0x59201e[_0x2bfec5(0x1d1)](_0x59201e[_0x2bfec5(0x189)],_0x59201e[_0x2bfec5(0x120)])){if(++_0x3be489===_0x56566c){let _0x2ffc02=Date[_0x2bfec5(0x17e)]();return expect(_0x2ffc02-_0x3f6608)['to']['be']['at'][_0x2bfec5(0x168)](0x5dc0),_0x5a0fcb['close'](),new AsyncFunction(_0x59201e[_0x2bfec5(0xcc)])(),_0x185b53();}}else _0x19cc15&&_0x4b0e78[_0x2bfec5(0x1c1)](_0x2f0aaa,_0x5e8a03[_0x2bfec5(0x1b5)])['to'][_0x2bfec5(0x1cf)](_0x4b0e78[_0x2bfec5(0x18e)]),_0x4b0e78[_0x2bfec5(0x15b)](_0x3be169);},_0x1b7df0=0x0,_0x5c4b8e=function(){const _0x27b47f=_0x55c7ac;if(_0x1b7df0++>=_0x56566c){setInterval(_0x27b47f(0x145),0x3e8);return;}_0x190005(_0x3f41b8),_0x4b0e78[_0x27b47f(0x1c1)](setImmediate,_0x5c4b8e);};_0x5c4b8e();}else{let _0x2192ef=[];_0x5e4822['on'](_0x59201e[_0x55c7ac(0x1ca)],function(_0x34582f){const _0xd3bf59=_0x55c7ac;_0x2192ef[_0xd3bf59(0x1a2)](_0x34582f);}),_0x5449ac['on'](_0x59201e[_0x55c7ac(0x198)],function(){const _0x15ab6b=_0x55c7ac;let _0x2cf261=_0x544a7f['concat'](_0x2192ef);_0x332d7c(_0x2cf261[_0x15ab6b(0xd4)]())['to'][_0x15ab6b(0x1cf)](_0x4b0e78[_0x15ab6b(0xa2)](_0x53e753[_0x15ab6b(0x161)]()[_0x15ab6b(0x192)](/\n/g,'\x0d\x0a'),'\x0d\x0a')),_0x4b0e78[_0x15ab6b(0x15b)](_0x48b34a);});}}),eval('const _0x4f84fa = _0x14c083;JSON[_0x4f84fa(272)]({ \'safe\': !![] });'),it(_0x14c083(0xb2),function(_0x12bc50){const _0x13d7c9=_0x14c083,_0x5746e1={'mIQwn':_0x13d7c9(0x1b1),'MMKRR':function(_0x4dd512,_0x3a9d5a){return _0x4dd512(_0x3a9d5a);},'tyZcM':function(_0x59e385){return _0x59e385();},'AMlNx':function(_0x5d44d6,_0x2fe102){const _0x51191e=_0x13d7c9;return _0x59201e[_0x51191e(0x12a)](_0x5d44d6,_0x2fe102);},'ukabT':function(_0x9ce43c,_0x134be8,_0x53261e){const _0x2946d5=_0x13d7c9;return _0x59201e[_0x2946d5(0x191)](_0x9ce43c,_0x134be8,_0x53261e);},'fWNGo':_0x13d7c9(0x145)};let _0x3ff0db=new SMTPPool(_0x59201e[_0x13d7c9(0x15d)](_0x59201e[_0x13d7c9(0x16a)],PORT_NUMBER)+_0x59201e[_0x13d7c9(0x130)]),_0x3823db=new Array(_0x59201e[_0x13d7c9(0x99)](0xa,0x400))[_0x13d7c9(0xe1)](_0x13d7c9(0x1c7));_0x3d7f6b[_0x13d7c9(0x185)]=function(_0x5b6838,_0x1e319e,_0x86c076){const _0x1157c7=_0x13d7c9,_0x43909b={'rbDGC':function(_0xd9a492){return _0xd9a492();}};let _0x455f6e=[];_0x5b6838['on'](_0x5746e1[_0x1157c7(0x1a3)],function(_0x18e0ab){_0x455f6e['push'](_0x18e0ab);}),_0x5b6838['on']('end',function(){const _0x557922=_0x1157c7;let _0x43eee2=Buffer[_0x557922(0xe9)](_0x455f6e);expect(_0x43eee2['toString']())['to'][_0x557922(0x1cf)](_0x3823db[_0x557922(0x161)]()[_0x557922(0x192)](/\n/g,'\x0d\x0a')+'\x0d\x0a'),_0x43909b[_0x557922(0xec)](_0x86c076);});};function _0xdf6171(_0x4eb75c){const _0x28d83d=_0x13d7c9;_0x3ff0db[_0x28d83d(0x100)]({'data':{},'message':new MockBuilder({'from':_0x28d83d(0x16f),'to':'test@valid.recipient'},_0x3823db)},function(_0x57c535){const _0x52386e=_0x28d83d;_0x5746e1[_0x52386e(0x154)](expect,_0x57c535)['to'][_0x52386e(0x1cb)],_0x5746e1[_0x52386e(0x135)](_0x4eb75c);});}let _0x201a75=0x64,_0x14f4ed=0x0,_0x47a550=function(){const _0x548ed8=_0x13d7c9;if(_0x5746e1[_0x548ed8(0x111)](++_0x14f4ed,_0x201a75))return _0x5746e1['ukabT'](setInterval,_0x5746e1[_0x548ed8(0xa0)],0x3e8),_0x12bc50();};for(let _0x3a3423=0x0;_0x59201e[_0x13d7c9(0xd9)](_0x3a3423,_0x201a75);_0x3a3423++){_0xdf6171(_0x47a550);}_0x3ff0db[_0x13d7c9(0xe3)]();}),it(_0x14c083(0xad),function(_0x577087){const _0x4ec5ce=_0x14c083,_0x4adea8={'GJncs':_0x59201e[_0x4ec5ce(0xa3)],'wkLQE':_0x4ec5ce(0x16f),'tbknk':_0x59201e[_0x4ec5ce(0x158)],'AhJbg':_0x59201e[_0x4ec5ce(0xa5)],'NhzAd':function(_0x2caa63,_0x5f26c3){const _0x502955=_0x4ec5ce;return _0x59201e[_0x502955(0x1a9)](_0x2caa63,_0x5f26c3);},'pwHsx':_0x59201e[_0x4ec5ce(0xf4)],'iMIXX':function(_0x3e4c24,_0x459585){const _0x5938d0=_0x4ec5ce;return _0x59201e[_0x5938d0(0x17d)](_0x3e4c24,_0x459585);},'MQdhk':_0x59201e[_0x4ec5ce(0xae)]};let _0x4e5837=new SMTPPool(_0x59201e['OLVlm'](_0x4ec5ce(0x150)+PORT_NUMBER,_0x4ec5ce(0xb6))),_0x2d12f1=new Array(_0x59201e['SmcSy'](0xa,0x400))['join'](_0x59201e[_0x4ec5ce(0x9b)]);_0x3d7f6b[_0x4ec5ce(0x185)]=function(_0x56be68,_0x16efe5,_0x14f6e7){const _0x45ccf7=_0x4ec5ce,_0x1cf2df={'sePpz':_0x45ccf7(0xca),'frgyO':function(_0x17e127,_0x168aad){const _0x5737bc=_0x45ccf7;return _0x59201e[_0x5737bc(0x11a)](_0x17e127,_0x168aad);},'pKTxf':function(_0x5f47e7,_0x337888){const _0x2ad441=_0x45ccf7;return _0x59201e[_0x2ad441(0x96)](_0x5f47e7,_0x337888);}};let _0x329581=[];_0x56be68['on'](_0x45ccf7(0x1b1),function(_0x3e24ee){const _0x142a91=_0x45ccf7;_0x4adea8[_0x142a91(0x190)]!==_0x4adea8['GJncs']?(this['envelope']=_0x16829f,this[_0x142a91(0x184)]=_0x56405b,this[_0x142a91(0x113)]=_0x433f26||_0x1cf2df[_0x142a91(0xd5)]):_0x329581['push'](_0x3e24ee);}),_0x56be68['on'](_0x59201e[_0x45ccf7(0x198)],function(){const _0x4ef636=_0x45ccf7;let _0x1a3327=Buffer[_0x4ef636(0xe9)](_0x329581);_0x1cf2df[_0x4ef636(0xf8)](expect,_0x1a3327['toString']())['to'][_0x4ef636(0x1cf)](_0x1cf2df[_0x4ef636(0x103)](_0x2d12f1[_0x4ef636(0x161)]()[_0x4ef636(0x192)](/\n/g,'\x0d\x0a'),'\x0d\x0a')),_0x14f6e7();});};function _0x442877(_0x4f20b1){const _0x198e46=_0x4ec5ce;_0x4e5837[_0x198e46(0x100)]({'data':{},'message':new MockBuilder({'from':_0x4adea8['wkLQE'],'to':_0x4adea8[_0x198e46(0x19e)]},_0x2d12f1)},_0x4f20b1);}let _0x53cddf=0x64,_0x5973b4=0x0,_0x3f6884=function(){const _0x121f13=_0x4ec5ce;if(_0x59201e['KfWVJ'](++_0x5973b4,_0x53cddf))return _0x4e5837['close'](),_0x59201e[_0x121f13(0x13a)](Function,_0x59201e['Mjrjf'])(),_0x59201e[_0x121f13(0x118)](_0x577087);},_0x1e63f7=0x0;_0x4e5837['on']('idle',function(){const _0x28dac2=_0x4ec5ce;if(_0x59201e[_0x28dac2(0x1d1)](_0x59201e[_0x28dac2(0xdf)],_0x59201e[_0x28dac2(0xdf)])){_0x41d662(_0x4adea8[_0x28dac2(0x194)],0x3e8);return;}else setTimeout(function(){const _0x494fc0=_0x28dac2,_0xce4c19={'rtFiE':function(_0x197f82,_0x7460a5){const _0x1eb787=_0x1439;return _0x4adea8[_0x1eb787(0x1b0)](_0x197f82,_0x7460a5);},'pxqhI':function(_0x1164f6){return _0x1164f6();}};if('wfTHU'!==_0x4adea8[_0x494fc0(0xb0)]){while(_0x1e63f7<_0x53cddf&&_0x4e5837[_0x494fc0(0x162)]()){_0x1e63f7++,_0x442877(_0x3f6884);}_0x4adea8[_0x494fc0(0x15e)](_0x1e63f7,0x32)&&(_0x494fc0(0xb7)!==_0x4adea8['MQdhk']?_0xce4c19['rtFiE'](_0x4cf489,_0x27ce73):setImmediate(function(){const _0x1c0778=_0x494fc0;for(let _0x20e438=0x5-0x1;_0x20e438>=0x0;_0x20e438--){_0x4e5837['_connections'][_0x20e438]&&_0x4e5837[_0x1c0778(0x15a)][_0x20e438]['connection']&&_0x4e5837['_connections'][_0x20e438]['connection'][_0x1c0778(0xed)][_0x1c0778(0x131)](_0x1c0778(0x105),new Error(_0x1c0778(0x1b3)));}}));}else _0xce4c19[_0x494fc0(0xe0)](_0x1e1711,_0x370ccf)['to'][_0x494fc0(0x1cb)],_0x117c90[_0x494fc0(0xe3)](),_0xce4c19[_0x494fc0(0xd0)](_0x201636);},0x3e8);});}),it(_0x14c083(0x199),function(_0x266ad5){const _0x29a317=_0x14c083;let _0x2be88c=new SMTPPool({'url':'smtp:testuser:testpass@www.example.com:1234','logger':![],'getSocket'(_0x3e223e,_0x25c739){const _0x402815=_0x1439,_0x280254={'ttVCe':'error','TduAh':function(_0x3541f8,_0x4ab700,_0x46f723){return _0x3541f8(_0x4ab700,_0x46f723);}};let _0x17f5a7=net[_0x402815(0xcf)](PORT_NUMBER,_0x59201e['utdIL']),_0x59f5cf=function(_0x457f20){_0x25c739(_0x457f20);};_0x17f5a7['on'](_0x59201e[_0x402815(0xb9)],_0x59f5cf),_0x17f5a7['on'](_0x402815(0xcf),function(){const _0x398db9=_0x402815;_0x17f5a7['removeListener'](_0x280254[_0x398db9(0x97)],_0x59f5cf),_0x280254['TduAh'](_0x25c739,null,{'connection':_0x17f5a7});});}}),_0x4d7edb=[],_0xecca7d=new Array(0x400)['join'](_0x29a317(0x1c7));_0x3d7f6b['on'](_0x59201e[_0x29a317(0x1ca)],function(_0x4938ef,_0x49911c){_0x4d7edb['push'](_0x49911c);}),_0x3d7f6b['on'](_0x59201e[_0x29a317(0x106)],function(_0x151c59,_0x5b82d8){const _0x4fe944=_0x29a317;let _0x58ed92=Buffer[_0x4fe944(0xe9)](_0x4d7edb);expect(_0x58ed92[_0x4fe944(0xd4)]())['to'][_0x4fe944(0x1cf)](_0xecca7d[_0x4fe944(0x161)]()[_0x4fe944(0x192)](/\n/g,'\x0d\x0a')+'\x0d\x0a'),_0x5b82d8(null,!![]);}),_0x2be88c[_0x29a317(0x100)]({'data':{},'message':new MockBuilder({'from':_0x59201e[_0x29a317(0x180)],'to':_0x59201e[_0x29a317(0x158)]},_0xecca7d)},function(_0x5f2e54){const _0x1a5474=_0x29a317;if(_0x1a5474(0xbf)!=='YHuwU')return expect(_0x5f2e54)['to'][_0x1a5474(0x155)]['exist'],_0x2be88c[_0x1a5474(0xe3)](),eval('Math[\'PI\'] * 2;'),_0x59201e[_0x1a5474(0x1aa)](_0x266ad5);else _0x330c9b(_0x182043)['to'][_0x1a5474(0x155)][_0x1a5474(0x1cb)],_0x1c9972();});}),_0x59201e[_0x14c083(0xda)](it,_0x59201e[_0x14c083(0xff)],function(_0x3c0334){const _0x33c87c=_0x14c083,_0x341eb1={'ziCfA':function(_0x1460cf,_0x320a26){return _0x1460cf!==_0x320a26;},'QaJUH':_0x59201e[_0x33c87c(0x1b8)],'AxHWp':function(_0x1c24f1,_0x1cefe6){return _0x1c24f1(_0x1cefe6);}};let _0x4db21e=new SMTPPool({'url':_0x59201e[_0x33c87c(0xb1)](_0x59201e['rGHbp'],PORT_NUMBER),'logger':![]});_0x4db21e[_0x33c87c(0x171)](function(_0xe62784,_0x4fc74f){const _0x578353=_0x33c87c;_0x341eb1[_0x578353(0x1da)](_0x341eb1['QaJUH'],_0x578353(0x9c))?(_0x56085c[_0x578353(0x141)](_0x578353(0x105),_0x462b4c),_0x418dc7(null,{'connection':_0x16fc12})):(expect(_0xe62784)['to'][_0x578353(0x155)][_0x578353(0x1cb)],_0x341eb1['AxHWp'](expect,_0x4fc74f)['to']['be'][_0x578353(0x157)],_0x4db21e[_0x578353(0xe3)](),_0x3c0334());});}),it(_0x59201e[_0x14c083(0x1d3)],function(_0x4dbcf4){const _0x142124=_0x14c083;let _0x3ac1f9=new SMTPPool({'url':_0x59201e['OLVlm'](_0x142124(0xea),PORT_NUMBER),'logger':![]});_0x3ac1f9['verify'](function(_0x291cc5){const _0x5a2aae=_0x142124;_0x59201e[_0x5a2aae(0x122)](expect,_0x291cc5)['to'][_0x5a2aae(0x1cb)],_0x3ac1f9['close'](),_0x4dbcf4();});});});