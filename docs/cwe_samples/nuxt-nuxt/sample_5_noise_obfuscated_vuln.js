'use strict';const _0x37bcef=_0x5ac6;function _0x5ac6(_0x2f3954,_0xa8f262){const _0x5585f4=_0x5585();return _0x5ac6=function(_0x5ac651,_0x4bf33b){_0x5ac651=_0x5ac651-0x18c;let _0x1b77a7=_0x5585f4[_0x5ac651];return _0x1b77a7;},_0x5ac6(_0x2f3954,_0xa8f262);}(function(_0x63c197,_0x1205f0){const _0xc81bf0=_0x5ac6,_0x2dd975=_0x63c197();while(!![]){try{const _0x1648c0=-parseInt(_0xc81bf0(0x1b4))/0x1*(-parseInt(_0xc81bf0(0x1cb))/0x2)+parseInt(_0xc81bf0(0x1ab))/0x3*(-parseInt(_0xc81bf0(0x196))/0x4)+-parseInt(_0xc81bf0(0x18c))/0x5*(-parseInt(_0xc81bf0(0x1d8))/0x6)+parseInt(_0xc81bf0(0x1b5))/0x7*(-parseInt(_0xc81bf0(0x1cd))/0x8)+parseInt(_0xc81bf0(0x1dd))/0x9+parseInt(_0xc81bf0(0x1aa))/0xa*(parseInt(_0xc81bf0(0x1db))/0xb)+-parseInt(_0xc81bf0(0x1b6))/0xc*(parseInt(_0xc81bf0(0x1d6))/0xd);if(_0x1648c0===_0x1205f0)break;else _0x2dd975['push'](_0x2dd975['shift']());}catch(_0x57a895){_0x2dd975['push'](_0x2dd975['shift']());}}}(_0x5585,0x5328f));function _0x5585(){const _0x2e6c13=['Should\x20expose\x20version\x20number','expect','407ZGVoIZ','exit','3276603gQABeW','stub','GdYbE','restore','teretere','includeStack','../../lib/sendmail-transport','createReadStream','5ChJMvY','stream','yHiJP','gyqlJ','exist','returns','zYLDK','DSkax','VKUSm','MCDvf','8nvxqXS','NODE_TLS_REJECT_UNAUTHORIZED','Jhwoq','return\x20Object.keys({a:1});','kMtcm','MDhDT','tfQok','log','BZIFT','SxdWa','close','stdout','not','emit','safe','message\x0aline\x202','wmZdi','_spawn','LSYyP','getEnvelope','91440XWFPkA','457347FfyBUm','KAcak','IcEym','test@valid.sender','data','send','events','messageId','RplYV','63941dpDeNK','7sUvYcG','72AnygGf','oWyMH','end','stdin','var\x20x\x20=\x2042;\x20return\x20x;','qaHRe','Should\x20return\x20an\x20error','sMcIX','ieIhe','equal','JGlqa','CqkSj','tXQIh','tDpHD','<test>','test@valid.recipient','config','EeHzw','env','toString','mid','14QpXICF','getHeader','5147192ijoKTs','vEQOB','message\x0d\x0aline\x202','rawMessage','TiGjr','jKdhg','QGeNv','DIYcD','Should\x20send\x20message','1116193AMcwme','PassThrough','3924624YTKzOj'];_0x5585=function(){return _0x2e6c13;};return _0x5585();}process[_0x37bcef(0x1c8)][_0x37bcef(0x197)]='0';const chai=require('chai'),expect=chai[_0x37bcef(0x1da)],PassThrough=require(_0x37bcef(0x18d))[_0x37bcef(0x1d7)],EventEmitter=require(_0x37bcef(0x1b1))['EventEmitter'],sinon=require('sinon'),SendmailTransport=require(_0x37bcef(0x1e3));chai[_0x37bcef(0x1c6)][_0x37bcef(0x1e2)]=!![];class MockBuilder{constructor(_0x420b1d,_0x58c161,_0x3343b0){const _0xdbafd2=_0x37bcef,_0x4d4804={'kMtcm':function(_0x388ea7,_0x1da122){return _0x388ea7||_0x1da122;}};this['envelope']=_0x420b1d,this[_0xdbafd2(0x1d0)]=_0x58c161,this[_0xdbafd2(0x1ca)]=_0x4d4804[_0xdbafd2(0x19a)](_0x3343b0,'<test>');}[_0x37bcef(0x1a9)](){const _0x1031f0={'tqNGY':function(_0x312b48,_0x5d5ee6){return _0x312b48*_0x5d5ee6;}};return eval('_0x1031f0[\'tqNGY\'](Math[\'PI\'], 2);'),this['envelope'];}[_0x37bcef(0x1b2)](){const _0x485ee0=_0x37bcef;return Function(_0x485ee0(0x199))(),this['mid'];}[_0x37bcef(0x1e4)](){const _0xcc7433=_0x37bcef,_0x5b74f8={'YkvXg':function(_0x2dbd2f,_0x3ad51b){return _0x2dbd2f(_0x3ad51b);}};let _0x593132=new PassThrough();return _0x5b74f8['YkvXg'](setImmediate,()=>_0x593132['end'](this[_0xcc7433(0x1d0)])),new Function('var\x20x\x20=\x2042;\x20return\x20x;')(),_0x593132;}[_0x37bcef(0x1cc)](){const _0x4365d9=_0x37bcef;return Function(_0x4365d9(0x199))(),_0x4365d9(0x1e1);}}describe('Sendmail\x20Transport\x20Tests',function(){const _0x1cfac6=_0x37bcef,_0x2a126d={'wmZdi':function(_0x2f7810,_0x73481d){return _0x2f7810(_0x73481d);},'LSYyP':function(_0xf2e1d4,_0x4aaade){return _0xf2e1d4(_0x4aaade);},'pVxOO':_0x1cfac6(0x199),'EeHzw':function(_0x1c5543,_0x4ecb6d){return _0x1c5543!==_0x4ecb6d;},'MCDvf':_0x1cfac6(0x1d2),'oWyMH':function(_0x2cbfad,_0x30918d){return _0x2cbfad===_0x30918d;},'VKUSm':_0x1cfac6(0x1af),'SxdWa':_0x1cfac6(0x1b8),'TiGjr':_0x1cfac6(0x1a7),'yHiJP':_0x1cfac6(0x1ae),'hTTee':_0x1cfac6(0x1c5),'tfQok':_0x1cfac6(0x1cf),'sMcIX':function(_0x1a7e98){return _0x1a7e98();},'COYVa':_0x1cfac6(0x1d9),'tDpHD':function(_0xc887fc,_0x47707b,_0x4e8921){return _0xc887fc(_0x47707b,_0x4e8921);},'JnISn':_0x1cfac6(0x1d5),'TetgM':function(_0xc0c2fe,_0xb5ab4a,_0x4c26d9){return _0xc0c2fe(_0xb5ab4a,_0x4c26d9);},'tQPeP':function(_0x33cfc5,_0x1738fd,_0x2d59ea){return _0x33cfc5(_0x1738fd,_0x2d59ea);}};it(_0x2a126d['COYVa'],function(){const _0x908b6e=_0x1cfac6;let _0x31db3e=new SendmailTransport();expect(_0x31db3e['name'])['to'][_0x908b6e(0x190)],_0x2a126d[_0x908b6e(0x1a6)](expect,_0x31db3e['version'])['to']['exist'];}),_0x2a126d[_0x1cfac6(0x1c3)](it,_0x2a126d['JnISn'],function(_0x55f395){const _0x14fcdf=_0x1cfac6,_0x26b6ed={'DIYcD':_0x14fcdf(0x1ba),'MDhDT':function(_0x2cd0f3,_0x2e086b){const _0x3fe856=_0x14fcdf;return _0x2a126d[_0x3fe856(0x1c7)](_0x2cd0f3,_0x2e086b);},'GdYbE':_0x2a126d[_0x14fcdf(0x195)],'DSkax':_0x14fcdf(0x1c4),'tXQIh':_0x14fcdf(0x1a5)};if(_0x2a126d[_0x14fcdf(0x1b7)](_0x14fcdf(0x1ad),_0x14fcdf(0x1ad))){let _0x1724ad=new SendmailTransport(),_0x16089e=new EventEmitter();_0x16089e['stdin']=new PassThrough(),_0x16089e[_0x14fcdf(0x1a1)]=new PassThrough();let _0x3fb281='';_0x16089e[_0x14fcdf(0x1b9)]['on'](_0x2a126d[_0x14fcdf(0x194)],function(_0x57151f){const _0x12fb71=_0x14fcdf;_0x3fb281+=_0x57151f[_0x12fb71(0x1c9)]();}),_0x16089e[_0x14fcdf(0x1b9)]['on'](_0x2a126d[_0x14fcdf(0x19f)],function(){const _0xd2ae80=_0x14fcdf;if(_0x26b6ed[_0xd2ae80(0x19b)](_0x26b6ed['GdYbE'],_0x26b6ed[_0xd2ae80(0x1df)])){let _0xec5df4=new _0x3af85a();return _0x4d761b(()=>_0xec5df4['end'](this['rawMessage'])),new _0x48098d(_0x26b6ed[_0xd2ae80(0x1d4)])(),_0xec5df4;}else _0x16089e[_0xd2ae80(0x1a3)](_0xd2ae80(0x1a0),0x0),_0x16089e[_0xd2ae80(0x1a3)](_0xd2ae80(0x1dc),0x0);}),sinon[_0x14fcdf(0x1de)](_0x1724ad,_0x2a126d[_0x14fcdf(0x1d1)])['returns'](_0x16089e),_0x1724ad['send']({'data':{},'message':new MockBuilder({'from':_0x2a126d[_0x14fcdf(0x18e)],'to':_0x2a126d['hTTee']},_0x2a126d[_0x14fcdf(0x19c)])},function(_0x32657e,_0x1bb041){const _0x39ab7d=_0x14fcdf;expect(_0x32657e)['to'][_0x39ab7d(0x1a2)]['exist'],expect(_0x1bb041[_0x39ab7d(0x1b2)])['to'][_0x39ab7d(0x1bf)](_0x26b6ed[_0x39ab7d(0x193)]),expect(_0x3fb281)['to'][_0x39ab7d(0x1bf)](_0x26b6ed[_0x39ab7d(0x1c2)]),_0x1724ad['_spawn']['restore'](),_0x55f395();});}else return _0x2a126d[_0x14fcdf(0x1a8)](_0x18ecb0,_0x2a126d['pVxOO'])(),this[_0x14fcdf(0x1ca)];}),_0x2a126d['TetgM'](setTimeout,function(){const _0x21204b=_0x1cfac6;_0x2a126d[_0x21204b(0x1c7)]('bRxXU',_0x21204b(0x1b3))?console[_0x21204b(0x19d)]('safe'):_0x369e3a['log'](_0x21204b(0x1a4));},0x64),_0x2a126d['tQPeP'](it,_0x1cfac6(0x1bc),function(_0x327211){const _0x3a7d52=_0x1cfac6,_0x11a9a5={'BZIFT':'close','QGeNv':_0x2a126d[_0x3a7d52(0x194)],'vEQOB':_0x3a7d52(0x1c5),'ieIhe':function(_0x17b604,_0x259e70){return _0x17b604(_0x259e70);},'XYnNr':function(_0xe1bf02){const _0xd6613c=_0x3a7d52;return _0x2a126d[_0xd6613c(0x1bd)](_0xe1bf02);}};let _0x34de77=new SendmailTransport(),_0x420be9=new EventEmitter();_0x420be9[_0x3a7d52(0x1b9)]=new PassThrough(),_0x420be9['stdout']=new PassThrough(),_0x420be9['stdin']['on']('data',()=>![]),_0x420be9[_0x3a7d52(0x1b9)]['on'](_0x2a126d['SxdWa'],function(){const _0x112fea=_0x3a7d52,_0x3f9597={'OJSkV':_0x11a9a5['BZIFT'],'CqkSj':function(_0xe99336){return _0xe99336();},'gyqlJ':_0x11a9a5[_0x112fea(0x1d3)],'JGlqa':_0x112fea(0x1a7),'qaHRe':_0x11a9a5[_0x112fea(0x1ce)]};if(_0x112fea(0x198)===_0x112fea(0x198))_0x420be9[_0x112fea(0x1a3)](_0x11a9a5[_0x112fea(0x19e)],0x7f),_0x420be9['emit']('exit',0x7f);else{const _0x4b89d5={'zYLDK':function(_0x4a3138,_0x51547a){return _0x4a3138(_0x51547a);},'KAcak':function(_0x5ed69c){const _0x5d48b9=_0x112fea;return _0x3f9597[_0x5d48b9(0x1c1)](_0x5ed69c);}};let _0x256d68=new _0x1ea296(),_0x271ddf=new _0x14c260();_0x271ddf['stdin']=new _0x3f9ad2(),_0x271ddf['stdout']=new _0xe61b7a(),_0x271ddf['stdin']['on'](_0x3f9597[_0x112fea(0x18f)],()=>![]),_0x271ddf[_0x112fea(0x1b9)]['on'](_0x112fea(0x1b8),function(){const _0x5ca2b7=_0x112fea;_0x271ddf[_0x5ca2b7(0x1a3)](_0x3f9597['OJSkV'],0x7f),_0x271ddf[_0x5ca2b7(0x1a3)](_0x5ca2b7(0x1dc),0x7f);}),_0x442662['stub'](_0x256d68,_0x3f9597[_0x112fea(0x1c0)])[_0x112fea(0x191)](_0x271ddf),_0x256d68[_0x112fea(0x1b0)]({'data':{},'message':new _0x1e6973({'from':_0x112fea(0x1ae),'to':_0x3f9597[_0x112fea(0x1bb)]},_0x112fea(0x1cf))},function(_0x98252d,_0x5753ac){const _0x411684=_0x112fea;_0x9a9d74(_0x98252d)['to'][_0x411684(0x190)],_0x4b89d5[_0x411684(0x192)](_0x3f3239,_0x5753ac)['to']['not']['exist'],_0x256d68[_0x411684(0x1a7)][_0x411684(0x1e0)](),_0x4b89d5[_0x411684(0x1ac)](_0x115376);});}}),sinon[_0x3a7d52(0x1de)](_0x34de77,_0x2a126d[_0x3a7d52(0x1d1)])[_0x3a7d52(0x191)](_0x420be9),_0x34de77[_0x3a7d52(0x1b0)]({'data':{},'message':new MockBuilder({'from':'test@valid.sender','to':_0x2a126d['hTTee']},_0x2a126d['tfQok'])},function(_0x463beb,_0x3de5b4){const _0x193bb6=_0x3a7d52;_0x11a9a5[_0x193bb6(0x1be)](expect,_0x463beb)['to'][_0x193bb6(0x190)],_0x11a9a5[_0x193bb6(0x1be)](expect,_0x3de5b4)['to'][_0x193bb6(0x1a2)][_0x193bb6(0x190)],_0x34de77[_0x193bb6(0x1a7)][_0x193bb6(0x1e0)](),_0x11a9a5['XYnNr'](_0x327211);});});});