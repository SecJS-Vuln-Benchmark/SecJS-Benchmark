'use strict';const _0x1bee32=_0x50b9;(function(_0x3fdaaa,_0x3a1a7e){const _0x2858b1=_0x50b9,_0x19f1bc=_0x3fdaaa();while(!![]){try{const _0x5b71db=-parseInt(_0x2858b1(0x16a))/0x1*(-parseInt(_0x2858b1(0x130))/0x2)+-parseInt(_0x2858b1(0x13b))/0x3+parseInt(_0x2858b1(0x128))/0x4*(parseInt(_0x2858b1(0x10c))/0x5)+parseInt(_0x2858b1(0x156))/0x6*(-parseInt(_0x2858b1(0x14e))/0x7)+parseInt(_0x2858b1(0x10d))/0x8+-parseInt(_0x2858b1(0x118))/0x9+parseInt(_0x2858b1(0x15f))/0xa;if(_0x5b71db===_0x3a1a7e)break;else _0x19f1bc['push'](_0x19f1bc['shift']());}catch(_0x144b57){_0x19f1bc['push'](_0x19f1bc['shift']());}}}(_0x36fa,0x25a28));function _0x50b9(_0x562bf7,_0x56e825){const _0x36fa93=_0x36fa();return _0x50b9=function(_0x50b9bf,_0x19fa60){_0x50b9bf=_0x50b9bf-0x10b;let _0x3256f4=_0x36fa93[_0x50b9bf];return _0x3256f4;},_0x50b9(_0x562bf7,_0x56e825);}const chai=require(_0x1bee32(0x10f)),expect=chai[_0x1bee32(0x154)],PassThrough=require(_0x1bee32(0x13e))[_0x1bee32(0x12d)],StreamTransport=require(_0x1bee32(0x139));chai['config']['includeStack']=!![];class MockBuilder{constructor(_0x2d4a9b,_0x1869df,_0x2445d0){const _0x33cb50=_0x1bee32,_0x35a6ad={'TznVX':'<test>'};this['envelope']=_0x2d4a9b,this[_0x33cb50(0x135)]=_0x1869df,this[_0x33cb50(0x117)]=_0x2445d0||_0x35a6ad[_0x33cb50(0x124)];}[_0x1bee32(0x11a)](){const _0x25ff90=_0x1bee32,_0x22e9da={'bkAhN':_0x25ff90(0x112)};return Function(_0x22e9da['bkAhN'])(),this['envelope'];}[_0x1bee32(0x167)](){const _0x51a203=_0x1bee32,_0x1a785f={'ZWmdg':function(_0x341d33,_0x1b0d6b){return _0x341d33(_0x1b0d6b);},'qrHLH':_0x51a203(0x119)};return _0x1a785f[_0x51a203(0x162)](Function,_0x1a785f['qrHLH'])(),this[_0x51a203(0x117)];}[_0x1bee32(0x160)](){const _0x49c29b=_0x1bee32;let _0x4c8617=new PassThrough();return setImmediate(()=>_0x4c8617[_0x49c29b(0x13d)](this[_0x49c29b(0x135)])),Function(_0x49c29b(0x119))(),_0x4c8617;}[_0x1bee32(0x114)](){const _0x33253a=_0x1bee32;return Function('return\x20new\x20Date();')(),_0x33253a(0x15a);}}function _0x36fa(){const _0x41481f=['teretere\x0avana\x20kere\x0a','teretere','uUGWm','HOHYX','toString','xveQX','2303490slqQOD','createReadStream','wGZRg','ZWmdg','not','uaEFC','deep','GhfVt','messageId','FhpGZ','wXZKC','1mMWkme','XUvIr','DjXnl','test@valid.sender','ichLr','125yIQWJy','286584cEwUUI','jBRMx','chai','TxHEG','hEuYZ','return\x20Object.keys({a:1});','ybTGs','getHeader','aUtks','FkXxZ','mid','1945800uOmGpc','return\x20new\x20Date();','getEnvelope','equal','rozNs','Should\x20send\x20mail\x20using\x20windows\x20newlines','join','ziiNv','hzaXM','VvqPN','fNiAa','xQsoq','TznVX','data','TMRPM','UIhYm','21468RvSYQt','message','exist','zUuzh','envelope','PassThrough','kvYnf','JMCAs','269996IkPAnA','replace','timeout','push','concat','rawMessage','fajGm','KsKcu','mEvpq','../../lib/stream-transport','ttjfy','407994bYpHVk','HdhOG','end','stream','vduEN','<test>','Should\x20send\x20mail\x20using\x20unix\x20newlines','bwGAG','Stream\x20Transport\x20Tests','Should\x20expose\x20version\x20number','gCblY','name','Send\x20as\x20stream','WrGNT','send','IBBBu','teretere\x0d\x0avana\x20kere\x0d\x0a','pRavh','VCXcI','13531orXrnQ','icXwU','test@valid.recipient','FRXEl','windows','LKpJB','expect','yTrhw','90eywDhu','GOgkX','version'];_0x36fa=function(){return _0x41481f;};return _0x36fa();}describe(_0x1bee32(0x143),function(){const _0x627d5a=_0x1bee32,_0x472ef5={'jBRMx':function(_0x33a0b9,_0x3dbe41){return _0x33a0b9(_0x3dbe41);},'GhfVt':'windows','bwGAG':'teretere\x0avana\x20kere\x0a','hzaXM':_0x627d5a(0x16d),'DjXnl':'test@valid.recipient','ttjfy':function(_0x103ca7,_0x2f3c38){return _0x103ca7!==_0x2f3c38;},'KsKcu':function(_0x2cc58c){return _0x2cc58c();},'ichLr':_0x627d5a(0x11f),'uUGWm':_0x627d5a(0x157),'WrGNT':_0x627d5a(0x13d),'wXZKC':function(_0xaf06c0,_0x426937,_0x23b2f2){return _0xaf06c0(_0x426937,_0x23b2f2);},'LKpJB':'Should\x20send\x20mail\x20using\x20unix\x20newlines','NkYnq':function(_0x5904b3,_0x18fa02,_0x5df794){return _0x5904b3(_0x18fa02,_0x5df794);},'rozNs':_0x627d5a(0x11d),'YoBHN':_0x627d5a(0x14b),'VvqPN':'eCoYq','FhpGZ':'dppAE','FRXEl':function(_0x25b09c,_0x4802c8,_0x43455d){return _0x25b09c(_0x4802c8,_0x43455d);},'ayzOQ':_0x627d5a(0x144),'fNiAa':_0x627d5a(0x147),'gCblY':'Send\x20as\x20buffer'};this[_0x627d5a(0x132)](0x2710),it(_0x472ef5['ayzOQ'],function(){const _0xe6fab2=_0x627d5a;let _0x1b784a=new StreamTransport();_0x472ef5[_0xe6fab2(0x10e)](expect,_0x1b784a[_0xe6fab2(0x146)])['to'][_0xe6fab2(0x12a)],expect(_0x1b784a[_0xe6fab2(0x158)])['to']['exist'];}),describe(_0x472ef5[_0x627d5a(0x122)],function(){const _0x201670=_0x627d5a,_0xcc9aef={'bDNzR':function(_0x5e401e,_0xe58487){const _0x568bb3=_0x50b9;return _0x472ef5[_0x568bb3(0x13a)](_0x5e401e,_0xe58487);},'ybTGs':function(_0xf658ed){const _0x8ae4d1=_0x50b9;return _0x472ef5[_0x8ae4d1(0x137)](_0xf658ed);},'zgKHg':_0x472ef5[_0x201670(0x166)],'Wjatq':_0x201670(0x159),'zUuzh':_0x472ef5[_0x201670(0x10b)],'Lvvms':_0x472ef5['hzaXM'],'aRTyd':_0x201670(0x140),'hEuYZ':'test@valid.recipient','kvYnf':function(_0x59c238,_0xaf1d2e){return _0x59c238===_0xaf1d2e;},'xQsoq':_0x472ef5[_0x201670(0x15b)],'pVfJQ':function(_0x219528){return _0x219528();},'pRavh':_0x201670(0x125),'uaEFC':_0x472ef5[_0x201670(0x148)]};_0x472ef5[_0x201670(0x169)](it,_0x472ef5[_0x201670(0x153)],function(_0x44f794){const _0x47ae42=_0x201670,_0x5248eb={'TxHEG':function(_0x54f724,_0x159ab9){return _0xcc9aef['bDNzR'](_0x54f724,_0x159ab9);},'FkXxZ':function(_0x36c800,_0x1074cb){return _0x36c800(_0x1074cb);},'ktoDc':function(_0x21ed78){const _0x5e9ba8=_0x50b9;return _0xcc9aef[_0x5e9ba8(0x113)](_0x21ed78);},'Gncvu':_0xcc9aef['zgKHg'],'TMRPM':_0xcc9aef['Wjatq'],'mEvpq':_0xcc9aef[_0x47ae42(0x12b)],'VCXcI':_0x47ae42(0x14f),'xKYbf':_0xcc9aef['Lvvms'],'yTrhw':_0xcc9aef['aRTyd']};let _0x110c96=new StreamTransport(),_0x25e71e=[],_0x4ddbe1=new Array(0x64)[_0x47ae42(0x11e)](_0x47ae42(0x14b));_0x110c96['send']({'data':{},'message':new MockBuilder({'from':_0x47ae42(0x16d),'to':_0xcc9aef[_0x47ae42(0x111)]},_0x4ddbe1)},function(_0x28c751,_0x50ee47){const _0xb674b5=_0x47ae42,_0x3c8b9b={'IBBBu':function(_0x1b2896,_0x461f58){return _0x1b2896||_0x461f58;},'fajGm':function(_0x45ba17){return _0x45ba17();},'MDofb':_0x5248eb['Gncvu'],'jscnp':_0x5248eb[_0xb674b5(0x126)]};if(_0x5248eb[_0xb674b5(0x138)]!==_0x5248eb[_0xb674b5(0x14d)])expect(_0x28c751)['to'][_0xb674b5(0x163)][_0xb674b5(0x12a)],expect(_0x50ee47[_0xb674b5(0x12c)])['to'][_0xb674b5(0x165)]['equal']({'from':_0x5248eb['xKYbf'],'to':'test@valid.recipient'}),expect(_0x50ee47[_0xb674b5(0x167)])['to']['equal'](_0x5248eb[_0xb674b5(0x155)]),_0x50ee47[_0xb674b5(0x129)]['on'](_0xb674b5(0x125),function(_0x58e3f2){const _0x58a269=_0xb674b5;_0x5248eb[_0x58a269(0x110)](_0x58a269(0x127),_0x58a269(0x127))?(this[_0x58a269(0x12c)]=_0x1f56df,this[_0x58a269(0x135)]=_0x521c44,this['mid']=_0x3c8b9b[_0x58a269(0x14a)](_0x3d25c4,'<test>')):_0x25e71e['push'](_0x58e3f2);}),_0x50ee47['message']['on'](_0xb674b5(0x13d),function(){const _0x15ad62=_0xb674b5;let _0x5a48cf=Buffer[_0x15ad62(0x134)](_0x25e71e);_0x5248eb[_0x15ad62(0x116)](expect,_0x5a48cf[_0x15ad62(0x15d)]())['to'][_0x15ad62(0x11b)](_0x4ddbe1['replace'](/\r\n/g,'\x0a')),_0x5248eb['ktoDc'](_0x44f794);});else{const _0x4c7af3={'XUvIr':function(_0x478b83){const _0x1e9b78=_0xb674b5;return _0x3c8b9b[_0x1e9b78(0x136)](_0x478b83);}};let _0x3cbf3d=new _0x1e2aa2({'newline':_0x3c8b9b['MDofb'],'buffer':!![]}),_0x1df8fa=new _0x4f97a4(0x64)['join'](_0x3c8b9b['jscnp']);_0x3cbf3d[_0xb674b5(0x149)]({'data':{},'message':new _0x123a54({'from':_0xb674b5(0x16d),'to':_0xb674b5(0x150)},_0x1df8fa)},function(_0x1b9747,_0x496dc5){const _0x31c2c2=_0xb674b5;_0x57fc4a(_0x1b9747)['to']['not'][_0x31c2c2(0x12a)],_0x5582e3(_0x496dc5['message']['toString']())['to'][_0x31c2c2(0x11b)](_0x1df8fa['replace'](/\n/g,'\x0d\x0a')),_0x4c7af3[_0x31c2c2(0x16b)](_0x49252a);});}});}),_0x472ef5['NkYnq'](it,_0x472ef5['rozNs'],function(_0x466d8c){const _0x92e21d=_0x201670;let _0x4236f2=new StreamTransport({'newline':_0x472ef5[_0x92e21d(0x166)]}),_0x1acc36=[],_0x2fb9fd=new Array(0x64)[_0x92e21d(0x11e)](_0x472ef5[_0x92e21d(0x142)]);_0x4236f2[_0x92e21d(0x149)]({'data':{},'message':new MockBuilder({'from':_0x472ef5[_0x92e21d(0x120)],'to':_0x472ef5[_0x92e21d(0x16c)]},_0x2fb9fd)},function(_0x56813c,_0x20c599){const _0x37e357=_0x92e21d,_0x32bb75={'HOHYX':function(_0xf40472,_0x296e42){return _0xf40472(_0x296e42);},'mxgku':function(_0x3f82ae,_0x457d3){const _0x5e1d20=_0x50b9;return _0xcc9aef[_0x5e1d20(0x12e)](_0x3f82ae,_0x457d3);},'wGZRg':_0xcc9aef[_0x37e357(0x123)],'aUtks':function(_0x43764d){return _0xcc9aef['pVfJQ'](_0x43764d);}};expect(_0x56813c)['to'][_0x37e357(0x163)][_0x37e357(0x12a)],_0x20c599[_0x37e357(0x129)]['on'](_0xcc9aef[_0x37e357(0x14c)],function(_0x189014){const _0xa32a47=_0x37e357,_0x865f05={'xveQX':function(_0x52aea4,_0x4501b8){const _0x40ddb3=_0x50b9;return _0x32bb75[_0x40ddb3(0x15c)](_0x52aea4,_0x4501b8);}};_0x32bb75['mxgku'](_0xa32a47(0x13f),_0x32bb75[_0xa32a47(0x161)])?(_0x591f6f(_0x5cd9d7)['to'][_0xa32a47(0x163)][_0xa32a47(0x12a)],_0x865f05[_0xa32a47(0x15e)](_0x2957a1,_0x580c0e[_0xa32a47(0x129)][_0xa32a47(0x15d)]())['to'][_0xa32a47(0x11b)](_0x4461ce['replace'](/\r\n/g,'\x0a')),_0x215e96()):_0x1acc36[_0xa32a47(0x133)](_0x189014);}),_0x20c599['message']['on'](_0xcc9aef[_0x37e357(0x164)],function(){const _0x350ce3=_0x37e357;let _0x529513=Buffer['concat'](_0x1acc36);expect(_0x529513[_0x350ce3(0x15d)]())['to'][_0x350ce3(0x11b)](_0x2fb9fd['replace'](/\n/g,'\x0d\x0a')),_0x32bb75[_0x350ce3(0x115)](_0x466d8c);});});});}),describe(_0x472ef5[_0x627d5a(0x145)],function(){const _0xeeda4b=_0x627d5a,_0x94bc10={'JMCAs':function(_0x42bca1,_0x5b1413){return _0x42bca1(_0x5b1413);},'HdhOG':_0x472ef5[_0xeeda4b(0x120)]};it(_0xeeda4b(0x141),function(_0x234e6c){const _0x162a08=_0xeeda4b;let _0x40c6a3=new StreamTransport({'buffer':!![]}),_0x469461=new Array(0x64)['join'](_0x472ef5['YoBHN']);_0x40c6a3['send']({'data':{},'message':new MockBuilder({'from':_0x162a08(0x16d),'to':_0x472ef5[_0x162a08(0x16c)]},_0x469461)},function(_0x1d7f1c,_0xf70048){const _0x3ab52f=_0x162a08;expect(_0x1d7f1c)['to'][_0x3ab52f(0x163)]['exist'],_0x94bc10[_0x3ab52f(0x12f)](expect,_0xf70048[_0x3ab52f(0x129)][_0x3ab52f(0x15d)]())['to'][_0x3ab52f(0x11b)](_0x469461[_0x3ab52f(0x131)](/\r\n/g,'\x0a')),_0x234e6c();});}),_0x472ef5[_0xeeda4b(0x151)](it,_0x472ef5[_0xeeda4b(0x11c)],function(_0x3f0f0c){const _0x3ed3ef=_0xeeda4b,_0x1e9690={'niGgh':function(_0x5206af,_0x461815){const _0x4afe4a=_0x50b9;return _0x472ef5[_0x4afe4a(0x10e)](_0x5206af,_0x461815);}};if(_0x472ef5[_0x3ed3ef(0x13a)](_0x472ef5[_0x3ed3ef(0x121)],_0x472ef5[_0x3ed3ef(0x168)])){let _0xd29ade=new StreamTransport({'newline':_0x3ed3ef(0x152),'buffer':!![]}),_0x512129=new Array(0x64)['join'](_0x3ed3ef(0x159));_0xd29ade[_0x3ed3ef(0x149)]({'data':{},'message':new MockBuilder({'from':_0x3ed3ef(0x16d),'to':_0x472ef5[_0x3ed3ef(0x16c)]},_0x512129)},function(_0x180c7c,_0xe65ad5){const _0x1a46c7=_0x3ed3ef;expect(_0x180c7c)['to']['not']['exist'],expect(_0xe65ad5['message']['toString']())['to']['equal'](_0x512129[_0x1a46c7(0x131)](/\n/g,'\x0d\x0a')),_0x3f0f0c();});}else{let _0x17a096=new _0x441c63({'buffer':!![]}),_0x54d360=new _0x1f1efb(0x64)['join'](_0x3ed3ef(0x14b));_0x17a096['send']({'data':{},'message':new _0x1655d2({'from':_0x94bc10[_0x3ed3ef(0x13c)],'to':_0x3ed3ef(0x150)},_0x54d360)},function(_0x411eb9,_0x24da4d){const _0x322729=_0x3ed3ef;_0x41219e(_0x411eb9)['to'][_0x322729(0x163)][_0x322729(0x12a)],_0x1e9690['niGgh'](_0x8a474a,_0x24da4d[_0x322729(0x129)][_0x322729(0x15d)]())['to'][_0x322729(0x11b)](_0x54d360['replace'](/\r\n/g,'\x0a')),_0x3f5632();});}});});});