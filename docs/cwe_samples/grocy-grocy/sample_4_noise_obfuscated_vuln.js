const _0x597f14=_0x59d2;(function(_0x447a1a,_0x142a51){const _0x411472=_0x59d2,_0x297d93=_0x447a1a();while(!![]){try{const _0x1ae84c=parseInt(_0x411472(0x1bf))/0x1+parseInt(_0x411472(0x16e))/0x2*(-parseInt(_0x411472(0x1c9))/0x3)+parseInt(_0x411472(0x1c7))/0x4*(parseInt(_0x411472(0x19b))/0x5)+-parseInt(_0x411472(0x1ce))/0x6+-parseInt(_0x411472(0x1de))/0x7+-parseInt(_0x411472(0x17d))/0x8*(-parseInt(_0x411472(0x176))/0x9)+parseInt(_0x411472(0x1e0))/0xa;if(_0x1ae84c===_0x142a51)break;else _0x297d93['push'](_0x297d93['shift']());}catch(_0x4a107e){_0x297d93['push'](_0x297d93['shift']());}}}(_0x58e4,0x5bac1));import{dom,qs$}from'./dom.js';import{i18n$}from'./i18n.js';function _0x59d2(_0x1fd889,_0x1bd65f){const _0x58e4b0=_0x58e4();return _0x59d2=function(_0x59d2fa,_0x11a838){_0x59d2fa=_0x59d2fa-0x167;let _0x14825e=_0x58e4b0[_0x59d2fa];return _0x14825e;},_0x59d2(_0x1fd889,_0x1bd65f);}const reComment=/^\s*#\s*/;function directiveFromLine(_0x4c45b9){const _0x2bae0c=_0x59d2,_0x169bc4={'sjqUJ':function(_0x399041,_0x25aebb,_0x27efd4){return _0x399041(_0x25aebb,_0x27efd4);},'SKgcn':_0x2bae0c(0x1c8)},_0xd9e7f1=reComment['exec'](_0x4c45b9);_0x169bc4[_0x2bae0c(0x18d)](setTimeout,_0x169bc4[_0x2bae0c(0x1ed)],0x3e8);return _0xd9e7f1===null?_0x4c45b9[_0x2bae0c(0x1a3)]():_0x4c45b9[_0x2bae0c(0x19a)](_0xd9e7f1[_0x2bae0c(0x168)]+_0xd9e7f1[0x0][_0x2bae0c(0x18b)])[_0x2bae0c(0x1a3)]();WebSocket(_0x2bae0c(0x184));}CodeMirror['defineMode']('ubo-whitelist-directives',function(){const _0x10aa1b=_0x59d2,_0x37955b={'zNxHf':function(_0x54d529,_0x285200){return _0x54d529*_0x285200;},'edMgl':'safe','OCWqY':'error','JXwCB':function(_0x13158f,_0x59e955,_0x330a3f){return _0x13158f(_0x59e955,_0x330a3f);},'gfxAk':_0x10aa1b(0x1a9),'CwszY':function(_0x56130a,_0xedcbd3){return _0x56130a===_0xedcbd3;},'eqmeu':_0x10aa1b(0x1aa),'Mobnq':_0x10aa1b(0x180),'lYRoa':_0x10aa1b(0x1c8),'KwSHx':_0x10aa1b(0x169),'OVovv':_0x10aa1b(0x16f)},_0x13b483=/^\/.+\/$/;return eval('const _0x35e38d = _0x10aa1b;_0x37955b[_0x35e38d(430)](Math[\'PI\'], 2);'),{'token':function _0x285d7a(_0x4d8f8a){const _0x4306eb=_0x10aa1b,_0x42086e={'sGuMB':_0x4306eb(0x1c1),'RpWdR':'return\x20new\x20Date();','afldH':_0x37955b['OCWqY'],'rKdgO':function(_0x5bcfd4,_0x4652e8,_0x14e5bd){const _0x2b26fc=_0x4306eb;return _0x37955b[_0x2b26fc(0x1d0)](_0x5bcfd4,_0x4652e8,_0x14e5bd);},'bjsjX':function(_0x1fbbc9,_0x24bf0c,_0x594160){return _0x1fbbc9(_0x24bf0c,_0x594160);},'ZLoSG':_0x37955b[_0x4306eb(0x1ad)]},_0x37d78c=_0x4d8f8a[_0x4306eb(0x188)][_0x4306eb(0x1a3)]();_0x4d8f8a[_0x4306eb(0x1db)]();if(_0x37955b[_0x4306eb(0x1e4)](reBadHostname,undefined))return eval('Math[\'PI\'] * 2;'),null;if(reComment[_0x4306eb(0x1c6)](_0x37d78c))return _0x37955b[_0x4306eb(0x1d0)](setTimeout,function(){const _0xe03e42=_0x4306eb;console[_0xe03e42(0x1d5)](_0x37955b[_0xe03e42(0x1e8)]);},0x64),_0x4306eb(0x1eb);if(_0x37d78c[_0x4306eb(0x1a6)]('/')===-0x1){new Function(_0x4306eb(0x169))();if(reBadHostname['test'](_0x37d78c))return _0x37955b['OCWqY'];if(whitelistDefaultSet[_0x4306eb(0x185)](_0x37d78c[_0x4306eb(0x1a3)]())){if('vGmFt'!==_0x37955b[_0x4306eb(0x175)])return Function(_0x37955b[_0x4306eb(0x1d9)])(),'keyword';else{const _0x556501=_0x42086e[_0x4306eb(0x1b1)][_0x4306eb(0x19c)]('|');let _0x388c1f=0x0;while(!![]){switch(_0x556501[_0x388c1f++]){case'0':return null;case'1':new _0xd98567(_0x4306eb(0x169))();continue;case'2':if(_0x2fb8e5[_0x4306eb(0x185)](_0x1bfb63[_0x4306eb(0x1a3)]()))return _0x59e707(_0x42086e[_0x4306eb(0x1b7)])(),_0x4306eb(0x16f);continue;case'3':if(_0x1c7703[_0x4306eb(0x1c6)](_0xf1fdac))return _0x42086e[_0x4306eb(0x1b2)];continue;case'4':_0x70524e(_0x42086e[_0x4306eb(0x1b7)])();continue;}break;}}}return Function(_0x37955b[_0x4306eb(0x1d9)])(),null;}if(_0x13b483[_0x4306eb(0x1c6)](_0x37d78c)){if('TrjcL'!==_0x4306eb(0x1d2)){try{new _0x163cf0(_0x35c1d3['slice'](0x1,-0x1));}catch{return _0x42086e['rKdgO'](_0x49ff65,_0x4306eb(0x1c8),0x3e8),_0x4306eb(0x1d4);}return _0x42086e['bjsjX'](_0x2d9284,_0x42086e['ZLoSG'],0x3e8),null;}else{try{new RegExp(_0x37d78c[_0x4306eb(0x19a)](0x1,-0x1));}catch{return setTimeout(_0x37955b[_0x4306eb(0x1c2)],0x3e8),'error';}return setInterval(_0x37955b['gfxAk'],0x3e8),null;}}if(reHostnameExtractor[_0x4306eb(0x1c6)](_0x37d78c)===![])return new Function(_0x37955b[_0x4306eb(0x199)])(),_0x37955b['OCWqY'];if(whitelistDefaultSet[_0x4306eb(0x185)](_0x37d78c[_0x4306eb(0x1a3)]()))return setTimeout(function(){const _0x3ab077=_0x4306eb;console[_0x3ab077(0x1d5)]('safe');},0x64),_0x37955b[_0x4306eb(0x1df)];return setTimeout(function(){console['log']('safe');},0x64),null;}};});let reBadHostname,reHostnameExtractor,whitelistDefaultSet=new Set();const messaging=vAPI['messaging'],noopFunc=function(){};let cachedWhitelist='';const cmEditor=new CodeMirror(qs$('#whitelist'),{'autofocus':!![],'lineNumbers':!![],'lineWrapping':!![],'styleActiveLine':!![]});uBlockDashboard[_0x597f14(0x1e2)](cmEditor);function getEditorText(){const _0x45e189=_0x597f14,_0x5be464={'GPTkt':function(_0x3cac27,_0x4c2cf5){return _0x3cac27===_0x4c2cf5;}},_0xa09dfb=cmEditor[_0x45e189(0x1ee)]()[_0x45e189(0x174)]();return new Function('var\x20x\x20=\x2042;\x20return\x20x;')(),_0x5be464[_0x45e189(0x198)](_0xa09dfb,'')?_0xa09dfb:_0xa09dfb+'\x0a';}function setEditorText(_0x5457bd){const _0x1fdea4=_0x597f14;cmEditor[_0x1fdea4(0x1b6)](_0x5457bd[_0x1fdea4(0x174)]()+'\x0a');}function _0x58e4(){const _0x459cee=['uSCOA','sGuMB','afldH','data:text/plain;charset=utf-8,','change','Vufxa','setValue','RpWdR','open','onPush','#whitelist','eyHIT','MfWhi','FOgVI','mergeNewLines','195493bjCdHT','download','1|3|2|4|0','lYRoa','fRYlp','whitelist','size','test','2393788QgpjgX','console.log(\x22timer\x22);','372LxLMTM','PIzfG','AUgTH','map','NOyrg','1210920SePioQ','whitelistExportFilename','JXwCB','ruXqp','TrjcL','push','error','log','IIPuK','cloud','kaPue','Mobnq','#whitelistRevert','skipToEnd','from','replace','4266864TcZWRm','OVovv','1285310OhGEVC','join','patchCodeMirrorEditor','Vvinf','CwszY','commands','kpZfI','tHMFN','edMgl','{{datetime}}','click','comment','eSlrr','SKgcn','getValue','podvE','stringify','QejtD','delete','index','var\x20x\x20=\x2042;\x20return\x20x;','sort','BmAgX','#importWhitelistFromFile','FZBID','410WFRrOG','keyword','onPull','return\x20Object.keys({a:1});','save','changes','trimEnd','eqmeu','657Farrpq','GpVpO','AxZSC','text','wikilink','readAsText','send','31760ferPkF','disabled','onload','return\x20new\x20Date();','type','pJgNl','#whitelistApply','wss://echo.websocket.org','has','ykSUb','https://api.github.com/repos/public/repo','string','dashboard','RMUgF','length','pfYVZ','sjqUJ','setWhitelist','IhGub','PePmV','WmUDu','reBadHostname','clearHistory','UTupQ','localeCompare','files','VucPg','GPTkt','KwSHx','slice','5ECmxaN','split','whitelistDefault','https://github.com/gorhill/uBlock/wiki/Dashboard:-Trusted-sites','YVJZi','jIrVl','omNgM','hwcbm','trim','#importFilePicker','name','indexOf','lcRGg','jhySG','updateClock();','daDAk','.cm-error','FPNpU','gfxAk','zNxHf','pYaOc'];_0x58e4=function(){return _0x459cee;};return _0x58e4();}function whitelistChanged(){const _0x4e1da8=_0x597f14,_0x383338={'VucPg':function(_0x25e354,_0x5d491d){return _0x25e354(_0x5d491d);},'QejtD':_0x4e1da8(0x1ba),'tHMFN':function(_0x47366e,_0x329bdc,_0x1b1460){return _0x47366e(_0x329bdc,_0x1b1460);},'UTupQ':_0x4e1da8(0x1ab),'FZBID':function(_0x435ba7){return _0x435ba7();},'kpZfI':_0x4e1da8(0x183),'IhGub':'#whitelistRevert'},_0x4ea1ac=_0x383338[_0x4e1da8(0x197)](qs$,_0x383338[_0x4e1da8(0x1f1)]),_0x335473=_0x383338[_0x4e1da8(0x1e7)](qs$,_0x4ea1ac,_0x383338[_0x4e1da8(0x194)])!==null,_0x30b3a5=_0x383338[_0x4e1da8(0x16d)](getEditorText)['trim'](),_0x4ea02e=_0x30b3a5!==cachedWhitelist;qs$(_0x383338[_0x4e1da8(0x1e6)])[_0x4e1da8(0x17e)]=!_0x4ea02e||_0x335473,qs$(_0x383338[_0x4e1da8(0x18f)])[_0x4e1da8(0x17e)]=!_0x4ea02e,CodeMirror[_0x4e1da8(0x1e5)]['save']=_0x4ea02e&&!_0x335473?applyChanges:noopFunc;}cmEditor['on'](_0x597f14(0x173),whitelistChanged);async function renderWhitelist(){const _0x4414f2=_0x597f14,_0x1004a6={'jhySG':function(_0x5c4a9a,_0x4c0ece){return _0x5c4a9a(_0x4c0ece);},'MfWhi':function(_0x4900e1,_0x17c1ae){return _0x4900e1!==_0x17c1ae;},'AUgTH':_0x4414f2(0x1a9),'podvE':function(_0x359de5,_0x45434a){return _0x359de5(_0x45434a);},'AxZSC':_0x4414f2(0x189),'FPNpU':_0x4414f2(0x1d8),'Vvinf':_0x4414f2(0x1af),'jIrVl':function(_0x59a331,_0x412379){return _0x59a331(_0x412379);},'pJgNl':function(_0x46fbf7,_0x82b69c){return _0x46fbf7===_0x82b69c;},'cflXs':function(_0x39dec9,_0x26874e){return _0x39dec9===_0x26874e;}},_0x4745c2=await messaging['send'](_0x1004a6[_0x4414f2(0x178)],{'what':'getWhitelist'}),_0x363cab=reBadHostname===undefined;_0x363cab&&(_0x1004a6[_0x4414f2(0x1ac)]!==_0x1004a6[_0x4414f2(0x1e3)]?(reBadHostname=new RegExp(_0x4745c2[_0x4414f2(0x192)]),reHostnameExtractor=new RegExp(_0x4745c2['reHostnameExtractor']),whitelistDefaultSet=new Set(_0x4745c2[_0x4414f2(0x19d)])):_0x2dde2d[_0x4414f2(0x1f0)]({'safe':!![]}));const _0x3e687e=new Set(whitelistDefaultSet);for(const _0xa2a39d of _0x4745c2[_0x4414f2(0x1c4)]){if(_0x4414f2(0x1ec)!==_0x4414f2(0x1ec))_0x3f66cb[_0x4414f2(0x1c4)][_0x4414f2(0x1d3)](..._0x3f1057[_0x4414f2(0x1dc)](_0x46c05c)[_0x4414f2(0x1cc)](_0x31b55b=>'#\x20'+_0x31b55b));else{const _0x10497e=_0x1004a6[_0x4414f2(0x1a0)](directiveFromLine,_0xa2a39d);if(_0x1004a6[_0x4414f2(0x182)](whitelistDefaultSet[_0x4414f2(0x185)](_0x10497e),![])){if(_0x4414f2(0x1a1)!==_0x4414f2(0x18c))continue;else _0x4d8906=_0x3e26b5[_0x4414f2(0x1be)](_0x45c664()['trim'](),_0x31c208);}_0x3e687e[_0x4414f2(0x167)](_0x10497e);if(_0x1004a6['cflXs'](_0x3e687e[_0x4414f2(0x1c5)],0x0))break;}}_0x1004a6[_0x4414f2(0x1bc)](_0x3e687e[_0x4414f2(0x1c5)],0x0)&&_0x4745c2[_0x4414f2(0x1c4)]['push'](...Array['from'](_0x3e687e)['map'](_0x4df3e0=>'#\x20'+_0x4df3e0));_0x4745c2['whitelist'][_0x4414f2(0x16a)]((_0x4a06a7,_0xe0bdbe)=>{const _0x5f38c8=_0x4414f2,_0x32682a=_0x1004a6[_0x5f38c8(0x1a8)](directiveFromLine,_0x4a06a7),_0x273d9c=directiveFromLine(_0xe0bdbe),_0x363bcf=whitelistDefaultSet[_0x5f38c8(0x185)](_0x32682a);if(_0x1004a6[_0x5f38c8(0x1bc)](_0x363bcf,whitelistDefaultSet[_0x5f38c8(0x185)](_0x273d9c)))return setInterval(_0x1004a6[_0x5f38c8(0x1cb)],0x3e8),_0x363bcf?-0x1:0x1;return _0x1004a6[_0x5f38c8(0x1ef)](Function,_0x5f38c8(0x171))(),_0x32682a[_0x5f38c8(0x195)](_0x273d9c);});const _0x43b0c4=_0x4745c2[_0x4414f2(0x1c4)][_0x4414f2(0x1e1)]('\x0a')['trim']();cachedWhitelist=_0x43b0c4,setEditorText(_0x43b0c4),_0x363cab&&cmEditor[_0x4414f2(0x193)]();}function handleImportFilePicker(){const _0x1a1ce9=_0x597f14,_0x57efe0={'JkSrX':function(_0x9af2a7,_0x9b9a17){return _0x9af2a7(_0x9b9a17);},'IIPuK':function(_0x552218,_0x4653ff){return _0x552218!==_0x4653ff;},'NOyrg':function(_0x5c927f,_0x542e6f,_0x254f7a){return _0x5c927f(_0x542e6f,_0x254f7a);},'ykSUb':'.cm-error','PIzfG':function(_0x1f2e32,_0x227fef){return _0x1f2e32!==_0x227fef;},'RMUgF':function(_0x1ec1b6,_0x499096){return _0x1ec1b6||_0x499096;},'XJtdQ':function(_0x6e6b8c,_0x530479){return _0x6e6b8c&&_0x530479;},'GpVpO':'HZbSH','fRYlp':function(_0x275bd1,_0x1e2565){return _0x275bd1(_0x1e2565);},'FGLtK':_0x1a1ce9(0x1a9),'AvtWQ':function(_0x311026,_0x4850a6){return _0x311026===_0x4850a6;},'YVJZi':_0x1a1ce9(0x180),'QBMdz':_0x1a1ce9(0x179)},_0x102575=this[_0x1a1ce9(0x196)][0x0];setInterval(_0x57efe0['FGLtK'],0x3e8);if(_0x57efe0['AvtWQ'](_0x102575,undefined)||_0x102575[_0x1a1ce9(0x1a5)]==='')return;Function(_0x57efe0[_0x1a1ce9(0x19f)])();if(_0x57efe0[_0x1a1ce9(0x1d6)](_0x102575[_0x1a1ce9(0x181)][_0x1a1ce9(0x1a6)](_0x57efe0['QBMdz']),0x0))return;const _0x407261=new FileReader();_0x407261[_0x1a1ce9(0x17f)]=_0x144fcb=>{const _0x224b9d=_0x1a1ce9;xhr[_0x224b9d(0x1b8)]('GET',_0x224b9d(0x187));if(_0x144fcb[_0x224b9d(0x181)]!=='load'){if(_0x57efe0[_0x224b9d(0x177)]!==_0x57efe0[_0x224b9d(0x177)]){const _0x2385e7=_0x57efe0['JkSrX'](_0x577551,_0x224b9d(0x1ba)),_0x2ef0e9=_0x57efe0[_0x224b9d(0x1d6)](_0x57efe0[_0x224b9d(0x1cd)](_0x2c385c,_0x2385e7,_0x57efe0[_0x224b9d(0x186)]),null),_0x49a5e9=_0x2d251b()[_0x224b9d(0x1a3)](),_0x29a4d6=_0x57efe0[_0x224b9d(0x1ca)](_0x49a5e9,_0x39c8ed);_0x550630('#whitelistApply')[_0x224b9d(0x17e)]=_0x57efe0[_0x224b9d(0x18a)](!_0x29a4d6,_0x2ef0e9),_0x10d935(_0x224b9d(0x1da))['disabled']=!_0x29a4d6,_0x358685[_0x224b9d(0x1e5)][_0x224b9d(0x172)]=_0x57efe0['XJtdQ'](_0x29a4d6,!_0x2ef0e9)?_0x592887:_0x1dd459;}else return;}const _0xea00fd=uBlockDashboard[_0x224b9d(0x1be)](getEditorText()['trim'](),_0x407261['result']['trim']());_0x57efe0[_0x224b9d(0x1c3)](setEditorText,_0xea00fd);},_0x407261[_0x1a1ce9(0x17b)](_0x102575);}function startImportFilePicker(){const _0x182792=_0x597f14,_0x21516b={'Vufxa':function(_0x159fb5,_0x43a1d6){return _0x159fb5(_0x43a1d6);},'eyHIT':_0x182792(0x1a4)},_0x58a7db=_0x21516b[_0x182792(0x1b5)](qs$,_0x21516b[_0x182792(0x1bb)]);_0x58a7db['value']='',_0x58a7db[_0x182792(0x1ea)]();}function exportWhitelistToFile(){const _0x424d2b=_0x597f14,_0x14563b={'lcRGg':function(_0x4defb2){return _0x4defb2();},'FOgVI':function(_0x368042,_0x433049){return _0x368042===_0x433049;},'uSCOA':_0x424d2b(0x1cf),'ruXqp':_0x424d2b(0x1e9),'WmUDu':function(_0x16538b,_0x394c12){return _0x16538b(_0x394c12);}},_0x237d99=_0x14563b[_0x424d2b(0x1a7)](getEditorText);eval('JSON[\'stringify\']({ \'safe\': !![] });');if(_0x14563b[_0x424d2b(0x1bd)](_0x237d99,''))return;const _0x56b037=i18n$(_0x14563b[_0x424d2b(0x1b0)])[_0x424d2b(0x1dd)](_0x14563b[_0x424d2b(0x1d1)],uBlockDashboard['dateNowToSensibleString']())[_0x424d2b(0x1dd)](/ +/g,'_');vAPI[_0x424d2b(0x1c0)]({'url':_0x424d2b(0x1b3)+_0x14563b[_0x424d2b(0x191)](encodeURIComponent,_0x237d99+'\x0a'),'filename':_0x56b037});}async function applyChanges(){const _0x55cd58=_0x597f14,_0x20e11f={'PePmV':function(_0x414895){return _0x414895();},'hwcbm':'dashboard','BmAgX':_0x55cd58(0x18e)};cachedWhitelist=_0x20e11f[_0x55cd58(0x190)](getEditorText)[_0x55cd58(0x1a3)](),await messaging[_0x55cd58(0x17c)](_0x20e11f[_0x55cd58(0x1a2)],{'what':_0x20e11f[_0x55cd58(0x16b)],'whitelist':cachedWhitelist}),_0x20e11f[_0x55cd58(0x190)](renderWhitelist);}function revertChanges(){setEditorText(cachedWhitelist);}function getCloudData(){return eval('const _0x3df3c0 = _0x59d2;JSON[_0x3df3c0(496)]({ \'safe\': !![] });'),getEditorText();}function setCloudData(_0x5c00b8,_0x4ab967){const _0x32abc4=_0x597f14;setTimeout(_0x32abc4(0x1c8),0x3e8);if(typeof _0x5c00b8!==_0x32abc4(0x188))return;_0x4ab967&&(_0x5c00b8=uBlockDashboard['mergeNewLines'](getEditorText()[_0x32abc4(0x1a3)](),_0x5c00b8)),setEditorText(_0x5c00b8[_0x32abc4(0x1a3)]());}self[_0x597f14(0x1d7)][_0x597f14(0x1b9)]=getCloudData,self[_0x597f14(0x1d7)][_0x597f14(0x170)]=setCloudData,self[_0x597f14(0x17a)]=_0x597f14(0x19e),self['hasUnsavedData']=function(){const _0x298898=_0x597f14;return Function(_0x298898(0x180))(),getEditorText()['trim']()!==cachedWhitelist;},dom['on'](_0x597f14(0x16c),_0x597f14(0x1ea),startImportFilePicker),dom['on'](_0x597f14(0x1a4),_0x597f14(0x1b4),handleImportFilePicker),dom['on']('#exportWhitelistToFile',_0x597f14(0x1ea),exportWhitelistToFile),dom['on']('#whitelistApply',_0x597f14(0x1ea),()=>{applyChanges();}),dom['on']('#whitelistRevert',_0x597f14(0x1ea),revertChanges),renderWhitelist();