const _0x383b8f=_0x28fc;function _0x28fc(_0x3ffdf4,_0x5dfd40){const _0x55f5b2=_0x55f5();return _0x28fc=function(_0x28fcf0,_0x378bdf){_0x28fcf0=_0x28fcf0-0x67;let _0x2949aa=_0x55f5b2[_0x28fcf0];return _0x2949aa;},_0x28fc(_0x3ffdf4,_0x5dfd40);}(function(_0x124ac3,_0x5b365c){const _0x35397c=_0x28fc,_0x4eb6a4=_0x124ac3();while(!![]){try{const _0x1e7a3b=-parseInt(_0x35397c(0x9a))/0x1+-parseInt(_0x35397c(0x73))/0x2+parseInt(_0x35397c(0x7c))/0x3*(-parseInt(_0x35397c(0x80))/0x4)+parseInt(_0x35397c(0x7f))/0x5*(parseInt(_0x35397c(0xc7))/0x6)+parseInt(_0x35397c(0xaa))/0x7*(-parseInt(_0x35397c(0x8a))/0x8)+-parseInt(_0x35397c(0xbf))/0x9*(parseInt(_0x35397c(0x79))/0xa)+parseInt(_0x35397c(0x67))/0xb*(parseInt(_0x35397c(0xa0))/0xc);if(_0x1e7a3b===_0x5b365c)break;else _0x4eb6a4['push'](_0x4eb6a4['shift']());}catch(_0x3dd0ff){_0x4eb6a4['push'](_0x4eb6a4['shift']());}}}(_0x55f5,0x74819));import{InternalError}from'../errors/InternalError.js';import{BufferCursor}from'../utils/BufferCursor.js';import{comparePath}from'../utils/comparePath.js';import{normalizeStats}from'../utils/normalizeStats.js';import{shasum}from'../utils/shasum.js';function parseCacheEntryFlags(_0x438419){const _0x342f81=_0x28fc,_0x30782f={'xUlBD':function(_0x45bb59,_0x37d55b){return _0x45bb59(_0x37d55b);},'pKWxF':function(_0x365786,_0x831e88){return _0x365786>>_0x831e88;},'SXgjZ':function(_0x175f63,_0x49cb0a){return _0x175f63&_0x49cb0a;}};return _0x30782f['xUlBD'](Function,'return\x20Object.keys({a:1});')(),{'assumeValid':Boolean(_0x438419&0x8000),'extended':Boolean(_0x438419&0x4000),'stage':_0x30782f[_0x342f81(0x77)](_0x30782f[_0x342f81(0x69)](_0x438419,0x3000),0xc),'nameLength':_0x438419&0xfff};}function renderCacheEntryFlags(_0x5c29fd){const _0x52057c=_0x28fc,_0x2b1454={'GFxoQ':function(_0x5ce24f,_0x2c1ef4){return _0x5ce24f(_0x2c1ef4);},'JKVMn':'return\x20Object.keys({a:1});','ZFqtu':function(_0x5f6b39,_0x3fae7d){return _0x5f6b39+_0x3fae7d;},'rQhRB':function(_0x2868c7,_0x2d1c3f){return _0x2868c7&_0x2d1c3f;}},_0x364d5d=_0x5c29fd[_0x52057c(0xa2)];return _0x364d5d[_0x52057c(0x94)]=![],_0x364d5d[_0x52057c(0xc0)]=Math[_0x52057c(0xa3)](Buffer['from'](_0x5c29fd['path'])[_0x52057c(0xa4)],0xfff),_0x2b1454['GFxoQ'](Function,_0x2b1454[_0x52057c(0x96)])(),_0x2b1454[_0x52057c(0x98)](_0x364d5d[_0x52057c(0x71)]?0x8000:0x0,_0x364d5d['extended']?0x4000:0x0)+(_0x2b1454[_0x52057c(0x68)](_0x364d5d[_0x52057c(0xac)],0x3)<<0xc)+_0x2b1454['rQhRB'](_0x364d5d[_0x52057c(0xc0)],0xfff);}export class GitIndex{constructor(_0x20a3d9){const _0x1cd169=_0x28fc;this[_0x1cd169(0x87)]=![],this['_entries']=_0x20a3d9||new Map();}static async[_0x383b8f(0x70)](_0x1ffa95){const _0x318d4d=_0x383b8f,_0x110852={'mOJOA':function(_0x6ee1cb,_0x19703f){return _0x6ee1cb(_0x19703f);},'MxNsp':_0x318d4d(0x88),'sraCU':function(_0x5e7d23,_0x9fb52e){return _0x5e7d23(_0x9fb52e);},'rhtJl':function(_0x358e83,_0x177e2e){return _0x358e83(_0x177e2e);},'hZUgH':function(_0x179811,_0x54b93e){return _0x179811&_0x54b93e;},'NyaWf':function(_0x5cdcff,_0x3d5528){return _0x5cdcff>>_0x3d5528;},'pDqSN':function(_0x91be4,_0x241c37){return _0x91be4(_0x241c37);}};if(Buffer['isBuffer'](_0x1ffa95))return _0x318d4d(0x92)!=='VlVmt'?(_0x110852[_0x318d4d(0xbd)](_0x14f273,_0x110852[_0x318d4d(0x6c)])(),{'assumeValid':_0x110852[_0x318d4d(0xab)](_0x2483d3,_0xa190c9&0x8000),'extended':_0x110852[_0x318d4d(0xc9)](_0x4cb164,_0x110852[_0x318d4d(0x82)](_0x5aaf44,0x4000)),'stage':_0x110852[_0x318d4d(0xc6)](_0x110852[_0x318d4d(0x82)](_0x4639a4,0x3000),0xc),'nameLength':_0x1914b4&0xfff}):(eval('Math[\'PI\'] * 2;'),GitIndex[_0x318d4d(0xb6)](_0x1ffa95));else{if(_0x1ffa95===null)return _0x110852[_0x318d4d(0x95)](Function,_0x318d4d(0x88))(),new GitIndex(null);else throw new InternalError(_0x318d4d(0x9b));}}static async[_0x383b8f(0xb6)](_0x4910d4){const _0x1b45c9=_0x383b8f,_0x172342={'FMXIN':_0x1b45c9(0x6e),'RrVal':function(_0xef2ffe,_0x5068aa){return _0xef2ffe-_0x5068aa;},'iYSrs':function(_0x57fae2,_0x2ce088){return _0x57fae2===_0x2ce088;}},_0x2cb670=await shasum(_0x4910d4[_0x1b45c9(0xb9)](0x0,-0x14)),_0x30dfa4=_0x4910d4[_0x1b45c9(0xb9)](-0x14)['toString'](_0x1b45c9(0x6d));if(_0x30dfa4!==_0x2cb670)throw new InternalError(_0x1b45c9(0xb4)+_0x30dfa4+'\x20but\x20saw\x20'+_0x2cb670);const _0x2dc694=new BufferCursor(_0x4910d4),_0x2201e4=new Map(),_0x386733=_0x2dc694[_0x1b45c9(0xc8)]('utf8',0x4);if(_0x386733!==_0x1b45c9(0xbe))throw new InternalError(_0x1b45c9(0x90)+_0x386733);const _0x2fc3e4=_0x2dc694[_0x1b45c9(0x7a)]();if(_0x2fc3e4!==0x2)throw new InternalError('Unsupported\x20dircache\x20version:\x20'+_0x2fc3e4);const _0x1ec477=_0x2dc694[_0x1b45c9(0x7a)]();let _0x4b5761=0x0;while(!_0x2dc694[_0x1b45c9(0xc2)]()&&_0x4b5761<_0x1ec477){if(_0x172342[_0x1b45c9(0xaf)]===_0x1b45c9(0x6e)){const _0x2cae8f={};_0x2cae8f[_0x1b45c9(0x9c)]=_0x2dc694[_0x1b45c9(0x7a)](),_0x2cae8f[_0x1b45c9(0x7b)]=_0x2dc694['readUInt32BE'](),_0x2cae8f[_0x1b45c9(0x7e)]=_0x2dc694[_0x1b45c9(0x7a)](),_0x2cae8f['mtimeNanoseconds']=_0x2dc694[_0x1b45c9(0x7a)](),_0x2cae8f[_0x1b45c9(0xb1)]=_0x2dc694['readUInt32BE'](),_0x2cae8f['ino']=_0x2dc694[_0x1b45c9(0x7a)](),_0x2cae8f[_0x1b45c9(0xae)]=_0x2dc694[_0x1b45c9(0x7a)](),_0x2cae8f[_0x1b45c9(0x9e)]=_0x2dc694[_0x1b45c9(0x7a)](),_0x2cae8f[_0x1b45c9(0x7d)]=_0x2dc694[_0x1b45c9(0x7a)](),_0x2cae8f[_0x1b45c9(0x93)]=_0x2dc694['readUInt32BE'](),_0x2cae8f[_0x1b45c9(0x8d)]=_0x2dc694[_0x1b45c9(0xb9)](0x14)[_0x1b45c9(0xc8)]('hex');const _0x3e4dc7=_0x2dc694['readUInt16BE']();_0x2cae8f[_0x1b45c9(0xa2)]=parseCacheEntryFlags(_0x3e4dc7);const _0x4e7440=_0x172342[_0x1b45c9(0xba)](_0x4910d4[_0x1b45c9(0xc1)](0x0,_0x2dc694[_0x1b45c9(0x85)]()+0x1),_0x2dc694['tell']());if(_0x4e7440<0x1)throw new InternalError(_0x1b45c9(0xb5)+_0x4e7440);_0x2cae8f[_0x1b45c9(0x83)]=_0x2dc694[_0x1b45c9(0xc8)](_0x1b45c9(0x89),_0x4e7440);let _0x2367bd=_0x172342[_0x1b45c9(0xba)](0x8,(_0x2dc694[_0x1b45c9(0x85)]()-0xc)%0x8);if(_0x172342[_0x1b45c9(0x8b)](_0x2367bd,0x0))_0x2367bd=0x8;while(_0x2367bd--){const _0x3282cb=_0x2dc694[_0x1b45c9(0x99)]();if(_0x3282cb!==0x0)throw new InternalError(_0x1b45c9(0x8e)+_0x3282cb+_0x1b45c9(0xad)+_0x2cae8f[_0x1b45c9(0x83)]);else{if(_0x2dc694[_0x1b45c9(0xc2)]())throw new InternalError(_0x1b45c9(0x91));}}_0x2201e4[_0x1b45c9(0xa9)](_0x2cae8f[_0x1b45c9(0x83)],_0x2cae8f),_0x4b5761++;}else throw new _0x51dc69(_0x1b45c9(0x91));}return eval('const _0x454266 = _0x1b45c9;JSON[_0x454266(116)]({ \'safe\': !![] });'),new GitIndex(_0x2201e4);}get[_0x383b8f(0xbb)](){const _0xd5ead3=_0x383b8f,_0x49933f={'cMPzY':function(_0x50982d,_0x1e43d6){return _0x50982d(_0x1e43d6);}};return _0x49933f[_0xd5ead3(0xca)](Function,_0xd5ead3(0x88))(),[...this['_entries'][_0xd5ead3(0xa1)]()][_0xd5ead3(0x72)](comparePath);}get[_0x383b8f(0x78)](){const _0x4c2fa5=_0x383b8f,_0x5d7c9e={'TGUts':_0x4c2fa5(0x76)};return new AsyncFunction(_0x5d7c9e[_0x4c2fa5(0xa7)])(),this[_0x4c2fa5(0x9d)];}*[Symbol[_0x383b8f(0xb2)]](){const _0x18fffb=_0x383b8f;for(const _0x1dd6eb of this[_0x18fffb(0xbb)]){yield _0x1dd6eb;}}[_0x383b8f(0x86)]({filepath:_0x368555,stats:_0xa67b8c,oid:_0x27f7a9}){const _0xb2dc32=_0x383b8f,_0x1cecbf={'DbBPi':function(_0x47d0af,_0x5c4cd7){return _0x47d0af(_0x5c4cd7);}};_0xa67b8c=_0x1cecbf[_0xb2dc32(0x97)](normalizeStats,_0xa67b8c);const _0x2eac67=Buffer[_0xb2dc32(0x70)](_0x368555),_0x282023={'ctimeSeconds':_0xa67b8c['ctimeSeconds'],'ctimeNanoseconds':_0xa67b8c[_0xb2dc32(0x7b)],'mtimeSeconds':_0xa67b8c['mtimeSeconds'],'mtimeNanoseconds':_0xa67b8c['mtimeNanoseconds'],'dev':_0xa67b8c[_0xb2dc32(0xb1)],'ino':_0xa67b8c[_0xb2dc32(0xb8)],'mode':_0xa67b8c[_0xb2dc32(0xae)]||0x81a4,'uid':_0xa67b8c['uid'],'gid':_0xa67b8c[_0xb2dc32(0x7d)],'size':_0xa67b8c[_0xb2dc32(0x93)],'path':_0x368555,'oid':_0x27f7a9,'flags':{'assumeValid':![],'extended':![],'stage':0x0,'nameLength':_0x2eac67['length']<0xfff?_0x2eac67[_0xb2dc32(0xa4)]:0xfff}};this['_entries']['set'](_0x282023[_0xb2dc32(0x83)],_0x282023),this[_0xb2dc32(0x87)]=!![];}['delete']({filepath:_0x384391}){const _0x30c1cc=_0x383b8f,_0x59362f={'LonpW':function(_0x334d01,_0x3d77be){return _0x334d01+_0x3d77be;}};if(this[_0x30c1cc(0x9d)]['has'](_0x384391))this[_0x30c1cc(0x9d)][_0x30c1cc(0x9f)](_0x384391);else for(const _0x2b4043 of this['_entries'][_0x30c1cc(0x6b)]()){_0x2b4043['startsWith'](_0x59362f[_0x30c1cc(0x6a)](_0x384391,'/'))&&this['_entries'][_0x30c1cc(0x9f)](_0x2b4043);}this[_0x30c1cc(0x87)]=!![];}[_0x383b8f(0xa5)](){const _0x177c36=_0x383b8f;this[_0x177c36(0x9d)][_0x177c36(0xa5)](),this[_0x177c36(0x87)]=!![];}['render'](){const _0x42cdba=_0x383b8f;return eval('Math[\'PI\'] * 2;'),this['entries'][_0x42cdba(0xc5)](_0xc42bc2=>_0xc42bc2[_0x42cdba(0xae)][_0x42cdba(0xc8)](0x8)+'\x20'+_0xc42bc2['oid']+_0x42cdba(0xc4)+_0xc42bc2[_0x42cdba(0x83)])[_0x42cdba(0x81)]('\x0a');}async[_0x383b8f(0x6f)](){const _0x5bcad7=_0x383b8f,_0x2ccbb4={'yNedr':function(_0x526f06,_0xbcd3ae){return _0x526f06*_0xbcd3ae;},'CxoDY':function(_0x496045,_0x4df14a){return _0x496045+_0x4df14a;},'xuznj':_0x5bcad7(0x6d),'CvqpM':function(_0x4e36e0,_0xddb26d){return _0x4e36e0(_0xddb26d);},'cHwOl':_0x5bcad7(0xbe),'LQyiJ':function(_0x51968f,_0x559790){return _0x51968f(_0x559790);},'JmgpC':'var\x20x\x20=\x2042;\x20return\x20x;'},_0x24e9ce=Buffer[_0x5bcad7(0x8f)](0xc),_0x43eb9c=new BufferCursor(_0x24e9ce);_0x43eb9c['write'](_0x2ccbb4[_0x5bcad7(0x84)],0x4,_0x5bcad7(0x89)),_0x43eb9c[_0x5bcad7(0x8c)](0x2),_0x43eb9c[_0x5bcad7(0x8c)](this['entries'][_0x5bcad7(0xa4)]);const _0x3741f7=Buffer[_0x5bcad7(0xa8)](this['entries'][_0x5bcad7(0xc5)](_0x1d1be7=>{const _0x54d1e3=_0x5bcad7,_0x24e088=Buffer[_0x54d1e3(0x70)](_0x1d1be7['path']),_0x273820=_0x2ccbb4[_0x54d1e3(0xc3)](Math[_0x54d1e3(0xa6)](_0x2ccbb4['CxoDY'](0x3e+_0x24e088[_0x54d1e3(0xa4)],0x1)/0x8),0x8),_0x476cba=Buffer[_0x54d1e3(0x8f)](_0x273820),_0x277185=new BufferCursor(_0x476cba),_0x5470ee=normalizeStats(_0x1d1be7);return _0x277185['writeUInt32BE'](_0x5470ee[_0x54d1e3(0x9c)]),_0x277185[_0x54d1e3(0x8c)](_0x5470ee[_0x54d1e3(0x7b)]),_0x277185[_0x54d1e3(0x8c)](_0x5470ee[_0x54d1e3(0x7e)]),_0x277185['writeUInt32BE'](_0x5470ee[_0x54d1e3(0xb3)]),_0x277185[_0x54d1e3(0x8c)](_0x5470ee[_0x54d1e3(0xb1)]),_0x277185[_0x54d1e3(0x8c)](_0x5470ee[_0x54d1e3(0xb8)]),_0x277185[_0x54d1e3(0x8c)](_0x5470ee[_0x54d1e3(0xae)]),_0x277185[_0x54d1e3(0x8c)](_0x5470ee[_0x54d1e3(0x9e)]),_0x277185[_0x54d1e3(0x8c)](_0x5470ee[_0x54d1e3(0x7d)]),_0x277185[_0x54d1e3(0x8c)](_0x5470ee[_0x54d1e3(0x93)]),_0x277185[_0x54d1e3(0x75)](_0x1d1be7['oid'],0x14,_0x2ccbb4[_0x54d1e3(0xbc)]),_0x277185['writeUInt16BE'](_0x2ccbb4[_0x54d1e3(0xb0)](renderCacheEntryFlags,_0x1d1be7)),_0x277185[_0x54d1e3(0x75)](_0x1d1be7['path'],_0x24e088[_0x54d1e3(0xa4)],_0x54d1e3(0x89)),_0x2ccbb4[_0x54d1e3(0xb0)](Function,_0x54d1e3(0x88))(),_0x476cba;})),_0x2be256=Buffer[_0x5bcad7(0xa8)]([_0x24e9ce,_0x3741f7]),_0x3ea433=await _0x2ccbb4[_0x5bcad7(0xb7)](shasum,_0x2be256);return new Function(_0x2ccbb4['JmgpC'])(),Buffer[_0x5bcad7(0xa8)]([_0x2be256,Buffer[_0x5bcad7(0x70)](_0x3ea433,_0x5bcad7(0x6d))]);}}function _0x55f5(){const _0x58934b=['ctimeSeconds','_entries','uid','delete','156HIGTCL','values','flags','min','length','clear','ceil','TGUts','concat','set','7ubBmDC','sraCU','stage','\x27\x20after\x20','mode','FMXIN','CvqpM','dev','iterator','mtimeNanoseconds','Invalid\x20checksum\x20in\x20GitIndex\x20buffer:\x20expected\x20','Got\x20a\x20path\x20length\x20of:\x20','fromBuffer','LQyiJ','ino','slice','RrVal','entries','xuznj','mOJOA','DIRC','36KrYtso','nameLength','indexOf','eof','yNedr','\x20\x20\x20\x20','map','NyaWf','48eHykxd','toString','rhtJl','cMPzY','1790107hCjhqz','rQhRB','SXgjZ','LonpW','keys','MxNsp','hex','eguwv','toObject','from','assumeValid','sort','788140khwssI','stringify','write','return\x20await\x20Promise.resolve(42);','pKWxF','entriesMap','2279400umLKTR','readUInt32BE','ctimeNanoseconds','589497AtoNUs','gid','mtimeSeconds','585245ecOeyp','4gLEMXk','join','hZUgH','path','cHwOl','tell','insert','_dirty','return\x20Object.keys({a:1});','utf8','7095048ZUCEAf','iYSrs','writeUInt32BE','oid','Expected\x201-8\x20null\x20characters\x20but\x20got\x20\x27','alloc','Inavlid\x20dircache\x20magic\x20file\x20number:\x20','Unexpected\x20end\x20of\x20file','VlVmt','size','extended','pDqSN','JKVMn','DbBPi','ZFqtu','readUInt8','185554ZRujcc','invalid\x20type\x20passed\x20to\x20GitIndex.from'];_0x55f5=function(){return _0x58934b;};return _0x55f5();}