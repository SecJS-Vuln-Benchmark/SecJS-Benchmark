'use strict';var _0x2d8950=_0x5e84;(function(_0x957280,_0x23a47a){var _0x242bcb=_0x5e84,_0x4a29b7=_0x957280();while(!![]){try{var _0x4fed0f=-parseInt(_0x242bcb(0x22f))/0x1*(-parseInt(_0x242bcb(0x205))/0x2)+-parseInt(_0x242bcb(0x26a))/0x3+parseInt(_0x242bcb(0x19c))/0x4+parseInt(_0x242bcb(0x251))/0x5*(parseInt(_0x242bcb(0x172))/0x6)+-parseInt(_0x242bcb(0x249))/0x7+parseInt(_0x242bcb(0x1f1))/0x8*(parseInt(_0x242bcb(0x221))/0x9)+-parseInt(_0x242bcb(0x26b))/0xa;if(_0x4fed0f===_0x23a47a)break;else _0x4a29b7['push'](_0x4a29b7['shift']());}catch(_0x37dae0){_0x4a29b7['push'](_0x4a29b7['shift']());}}}(_0x475d,0xa11bb));var mqtt=require('..'),should=require('should'),fork=require('child_process')['fork'],path=require(_0x2d8950(0x216)),abstractClientTests=require('./abstract_client'),net=require('net'),eos=require(_0x2d8950(0x26e)),mqttPacket=require(_0x2d8950(0x187)),Buffer=require(_0x2d8950(0x1bf))[_0x2d8950(0x22a)],Duplex=require(_0x2d8950(0x272))['Duplex'],Connection=require('mqtt-connection'),Server=require(_0x2d8950(0x1f6)),port=0x2694,server;function _0x5e84(_0x511f76,_0xc511c6){var _0x475d8e=_0x475d();return _0x5e84=function(_0x5e8406,_0x305f67){_0x5e8406=_0x5e8406-0x171;var _0x4ce54e=_0x475d8e[_0x5e8406];return _0x4ce54e;},_0x5e84(_0x511f76,_0xc511c6);}function _0x475d(){var _0x194152=['fCHXW','yYQsP','cbGTf','timeout','pCfrQ','4105308xUBsWi','bwuWU','bALUA','podGh','kAIjF','hZBbu','helpers','FiMQw','once','wOtNi','BjJXr','eTpNt','listening','WvNjl','map','oJrFj','pingreq','KfTIY','queue','tStRD','QXWEj','kill','Berbb','join','awVRb','pubrec','should\x20increment\x20the\x20message\x20id','EnAyM','fovQW','oOkET','SIGINT','kBQbY','VaJws','Pdtfr','break','safe-buffer','invalid','4|3|2|1|0','vPIWW','should\x20allow\x20instantiation\x20of\x20MqttClient\x20without\x20the\x20\x27new\x27\x20operator','aYcgB','creating','0|2|1|6|3|5|4','mcAwq','KsuYq','kgsPI','subscribe','BRuXk','xNvtG','from','Tloyx','UyATi','hXiuS','qWBWi','xCyNn','should\x20return\x201\x20once\x20the\x20interal\x20counter\x20reached\x20limit','duyhz','pubcomp','OWfSB','tHqlt','GHJMY','dvtOX','suback','nextId','exist','ShmiP','message','AcRRT','xPlsu','aHZUG','gRCaA','hello','MGNmY','ppelU','should\x20not\x20fill\x20the\x20queue\x20of\x20subscribes\x20if\x20it\x20cannot\x20connect','nYtGh','iCCCh','5|1|0|4|2|6|3','uVqAQ','generate','KfSAV','PmGOw','nESOU','qCnoh','parse','8OMreeF','floor','world','eGOKQ','_nextId','./server','data','XLcRc','srGPs','nTTCX','EaWbn','QutnK','emit','DfOfk','ebIWC','stream','UKLUG','DClyx','emfoM','pYzBB','16138UjWkGA','length','zfVom','UcxQs','Multiple\x20duplicate\x20acked\x20subscriptions\x20received\x20for\x20messageId\x20','vrUxm','should\x20reconnect\x20if\x20a\x20connack\x20is\x20not\x20received\x20in\x20an\x20interval','unsubscribe','FKIZd','PjPaX','removeListener','cmd','YbSjG','random','topic','nlNAx','should\x20not\x20send\x20the\x20same\x20publish\x20multiple\x20times\x20on\x20a\x20flaky\x20connection','path','rmNwz','end','VJuPm','wWngg','concat','should\x20not\x20throw\x20an\x20error\x20if\x20packet\x27s\x20messageId\x20is\x20not\x20found\x20when\x20receiving\x20a\x20pubrel\x20packet','shoud\x20not\x20keep\x20requeueing\x20the\x20first\x20message\x20when\x20offline','ntyJv','FJNOm','clientId','6392889ptBnIf','BZedl','kXrju','vOWHw','pubrel','reLpk','JodZT','YeVwx','split','Buffer','reconnect','bJcTf','zmUuV','oyAik','11gFnBKl','CUgPn','vhBwg','QLFjj','ABLDs','ZcwRm','NwIjS','connection','destroy','jfNhV','wKZys','publish','getLastMessageId','listen','tfAcg','qMyqk','packet','iakHx','KxfPi','IGItm','jVGJY','LwKwe','push','YCiOo','BDHUw','DJInV','1165220CalnVZ','gcayq','IHIXE','zxVMS','should','bGcfU','createServer','FifBl','190gMKwSL','qos','YsxNX','KZpyu','mJezn','jEoLU','WDRNR','XrYEz','LmznU','MqttClient','SdkEY','connect','Ludpe','YjYZn','message\x20ids','reconnectTimer','PbaQs','giLbr','packetsend','CxBrM','KDQLd','gZpnj','DGRFe','qfovF','WDBjB','2023068udMCWJ','12465720vGuPbf','not','tliWh','end-of-stream','messageId','ErdMk','throw','readable-stream','localhost','FYKVj','NGfqx','reconnecting','gJklu','error','145560aPFiQR','elgkw','rzMBl','HvONW','shoud\x20not\x20be\x20cleared\x20by\x20the\x20connack\x20timer','ueLfP','Pkunk','pingresp','zyWbg','server_process.js','BhJDv','EYFMu','FtbwE','connack','should\x20not\x20go\x20overflow\x20if\x20the\x20TCP\x20frame\x20contains\x20a\x20lot\x20of\x20PUBLISH\x20packets','DlfDl','nMtFy','client','ozmfs','WZPpQ','close','mqtt-packet','LHIre','oWZNo','gDYLj','subscriptions','parser','KAZFp','should\x20reconnect\x20to\x20multiple\x20host-ports\x20combination\x20if\x20servers\x20is\x20passed','cbhCL','FGbme','JlnAL','faMEO','equal','eYmRa','ajrOq','nlSCc'];_0x475d=function(){return _0x194152;};return _0x475d();}function buildServer(){var _0x5ecabd=_0x2d8950,_0x500a19={'DClyx':function(_0x5abfaf){return _0x5abfaf();},'eGOKQ':function(_0x2df2fb,_0x4da9ab){return _0x2df2fb!==_0x4da9ab;},'PmGOw':_0x5ecabd(0x18d),'dhBWZ':_0x5ecabd(0x196),'bioWk':'YeVwx','gRCaA':function(_0xb9cab0,_0x539a34){return _0xb9cab0(_0x539a34);},'tliWh':_0x5ecabd(0x1c0),'EDIUW':function(_0xffc39f,_0x161f81){return _0xffc39f===_0x161f81;},'fGaAB':_0x5ecabd(0x1bb),'cbGTf':function(_0x337d12,_0x1b3735){return _0x337d12/_0x1b3735;},'heDKb':_0x5ecabd(0x23a),'YNltp':_0x5ecabd(0x1d5),'WDRNR':_0x5ecabd(0x1ca),'ajrOq':_0x5ecabd(0x20c)};return new Server(function(_0x392da4){var _0x968163=_0x5ecabd,_0x1b6c2a={'iakHx':function(_0x2fd809,_0x592a87){var _0x255da2=_0x5e84;return _0x500a19[_0x255da2(0x1e2)](_0x2fd809,_0x592a87);},'wKZys':_0x500a19[_0x968163(0x26d)],'DgGoq':function(_0x194b8c,_0x4e5fa4){return _0x500a19['EDIUW'](_0x194b8c,_0x4e5fa4);},'PjPaX':_0x500a19['fGaAB'],'FtbwE':function(_0x5763b2,_0x3eddbd){var _0x222f8a=_0x968163;return _0x500a19[_0x222f8a(0x199)](_0x5763b2,_0x3eddbd);},'uTujW':_0x968163(0x22b),'MGNmY':function(_0x36f752){return _0x36f752();},'ozmfs':function(_0x435d62,_0x347c5d){return _0x435d62===_0x347c5d;},'BRuXk':_0x968163(0x1cf),'uVqAQ':'brMuY'};_0x392da4['on'](_0x968163(0x25c),function(_0x1c91db){var _0x442bd8=_0x968163,_0x30854c={'WYswn':function(_0x350110,_0xae4b27){var _0x4fa7d9=_0x5e84;return _0x1b6c2a[_0x4fa7d9(0x240)](_0x350110,_0xae4b27);}};_0x1c91db[_0x442bd8(0x220)]===_0x1b6c2a[_0x442bd8(0x239)]?_0x442bd8(0x1c7)!==_0x442bd8(0x19e)?_0x392da4[_0x442bd8(0x17f)]({'returnCode':0x2}):_0x565252[_0x442bd8(0x17f)]({'returnCode':0x2}):_0x1b6c2a['DgGoq'](_0x1b6c2a[_0x442bd8(0x20e)],_0x1b6c2a[_0x442bd8(0x20e)])?_0x392da4['connack']({'returnCode':0x0}):(_0x260746=_0x5400bc[_0x442bd8(0x25a)](function(){throw _0x30854c['WYswn'](_0x5c78c3,'break');},{}),_0x13e2c3[_0x442bd8(0x218)]());}),_0x392da4['on'](_0x500a19['heDKb'],function(_0x18465){setImmediate(function(){var _0x5a02ce=_0x5e84;switch(_0x18465['qos']){case 0x0:break;case 0x1:_0x392da4['puback'](_0x18465);break;case 0x2:_0x392da4[_0x5a02ce(0x1b5)](_0x18465);break;}});}),_0x392da4['on'](_0x968163(0x225),function(_0x52bc8c){var _0x1ab13f=_0x968163,_0x4c6d5c={'gZpnj':function(_0x55d4fa,_0x5703a7){var _0x17ba3c=_0x5e84;return _0x1b6c2a[_0x17ba3c(0x17e)](_0x55d4fa,_0x5703a7);},'zfVom':_0x1b6c2a['uTujW'],'qfovF':function(_0x51f3f4){var _0x33da15=_0x5e84;return _0x1b6c2a[_0x33da15(0x1e4)](_0x51f3f4);}};if(_0x1b6c2a[_0x1ab13f(0x184)](_0x1b6c2a[_0x1ab13f(0x1cb)],_0x1b6c2a[_0x1ab13f(0x1ea)])){var _0x27ae78=_0x1ab13f(0x1e9)['split']('|'),_0x3a7029=0x0;while(!![]){switch(_0x27ae78[_0x3a7029++]){case'0':var _0x2aa62d=0x3e8;continue;case'1':var _0x461c6a=0x0;continue;case'2':var _0x5f18c9=_0x470eb4[_0x1ab13f(0x1f2)](_0x4c6d5c[_0x1ab13f(0x266)](_0x2aa62d,_0x407e98));continue;case'3':_0x2e495a['on'](_0x4c6d5c[_0x1ab13f(0x207)],function(){var _0x3581ec=_0x1ab13f;_0x461c6a++,_0x2b46c3[_0x3581ec(0x192)](_0x461c6a,_0x5f18c9)&&(_0x2e495a[_0x3581ec(0x218)](),_0x2b46c3[_0x3581ec(0x174)](_0x3fa612));});continue;case'4':var _0x407e98=0x64;continue;case'5':var _0x2b46c3={'faMEO':function(_0x10db41,_0x572ee8){return _0x10db41>=_0x572ee8;},'rzMBl':function(_0x24f925){var _0x31dc14=_0x1ab13f;return _0x4c6d5c[_0x31dc14(0x268)](_0x24f925);}};continue;case'6':var _0x2e495a=_0x1cfa3d[_0x1ab13f(0x25c)]({'port':_0x3fff43+0x2c,'host':_0x1ab13f(0x273),'connectTimeout':_0x2aa62d,'reconnectPeriod':_0x407e98});continue;}break;}}else _0x392da4['pubcomp'](_0x52bc8c);}),_0x392da4['on'](_0x968163(0x1b5),function(_0xb7c4d1){var _0x539af7=_0x968163,_0x4f80d9={'UcxQs':function(_0x5b6af3){var _0x5a7b23=_0x5e84;return _0x500a19[_0x5a7b23(0x202)](_0x5b6af3);}};_0x500a19[_0x539af7(0x1f4)](_0x500a19[_0x539af7(0x1ed)],_0x500a19['PmGOw'])?(_0x4f80d9[_0x539af7(0x208)](_0x17f0d7),_0x1d3d06[_0x539af7(0x218)](!![]),_0x4673da[_0x539af7(0x237)](),_0x3b58c2[_0x539af7(0x237)]()):_0x392da4['pubrel'](_0xb7c4d1);}),_0x392da4['on'](_0x500a19['YNltp'],function(){}),_0x392da4['on'](_0x500a19[_0x968163(0x257)],function(_0x495886){var _0x336680=_0x968163,_0x56464c={'VaJws':_0x500a19['dhBWZ']};_0x392da4[_0x336680(0x1da)]({'messageId':_0x495886[_0x336680(0x26f)],'granted':_0x495886['subscriptions'][_0x336680(0x1aa)](function(_0x32984a){var _0x5ad2c3=_0x336680,_0x21dd76={'zmUuV':_0x5ad2c3(0x25c)};if(_0x56464c[_0x5ad2c3(0x1bc)]===_0x56464c['VaJws'])return _0x32984a[_0x5ad2c3(0x252)];else{var _0x21c800={'LMcHm':function(_0x24b1ee,_0x316838){return _0x24b1ee+_0x316838;}};_0x2d4999['on'](_0x21dd76[_0x5ad2c3(0x22d)],function(_0x2f4123){var _0x2a3c29=_0x5ad2c3;_0x185af6[_0x2a3c29(0x17f)]({'returnCode':0x0}),_0x50f693[_0x2a3c29(0x225)]({'messageId':_0x21c800['LMcHm'](_0x5685a7[_0x2a3c29(0x1f2)](_0x1a9892[_0x2a3c29(0x212)]()*0x2328),0x3e8)});});}})});}),_0x392da4['on'](_0x500a19[_0x968163(0x195)],function(_0x37bce4){_0x392da4['unsuback'](_0x37bce4);}),_0x392da4['on'](_0x968163(0x1ac),function(){var _0x5bf418=_0x968163,_0x161b88={'adiRN':function(_0x28a69c){var _0xd8d7c0=_0x5e84;return _0x500a19[_0xd8d7c0(0x202)](_0x28a69c);}};_0x500a19[_0x5bf418(0x1f4)](_0x5bf418(0x228),_0x500a19['bioWk'])?(_0x1e3a7a[_0x5bf418(0x1f0)](_0xce3541),_0x161b88['adiRN'](_0x5a0a53)):_0x392da4[_0x5bf418(0x179)]();});});}server=buildServer()[_0x2d8950(0x23c)](port),describe('MqttClient',function(){var _0x35716d=_0x2d8950,_0x59bcab={'ntyJv':function(_0x44cd32,_0x52c6b7){return _0x44cd32!==_0x52c6b7;},'awVRb':'Object\x20#<Object>\x20has\x20no\x20method\x20\x27_setupStream\x27','LwKwe':function(_0x286d56,_0x57af6c,_0x272bf1){return _0x286d56(_0x57af6c,_0x272bf1);},'HvONW':_0x35716d(0x1c3),'FYKVj':_0x35716d(0x1c6),'BDHUw':function(_0x35f67d,_0x37594d){return _0x35f67d+_0x37594d;},'XrYEz':'message','DJInV':_0x35716d(0x1b6),'ABLDs':function(_0x4bdb0b,_0x1e0c48,_0x581e42){return _0x4bdb0b(_0x1e0c48,_0x581e42);},'gJklu':_0x35716d(0x1d3),'ebIWC':'should\x20return\x2065535\x20for\x20last\x20message\x20id\x20once\x20the\x20interal\x20counter\x20reached\x20limit','CUgPn':function(_0x3f9b19,_0x2e83e,_0x4f39c6){return _0x3f9b19(_0x2e83e,_0x4f39c6);},'XhZnx':_0x35716d(0x180),'Pkunk':function(_0x11bfce,_0x3acec0){return _0x11bfce(_0x3acec0);},'ErdMk':_0x35716d(0x273),'AcRRT':_0x35716d(0x25c),'FGbme':function(_0x7b84b){return _0x7b84b();},'giLbr':function(_0x20867a,_0xaa5301){return _0x20867a+_0xaa5301;},'oJrFj':_0x35716d(0x25e),'cbhCL':_0x35716d(0x1d6),'tStRD':_0x35716d(0x275),'emfoM':_0x35716d(0x183),'nESOU':function(_0x1c71e3,_0x1774cd){return _0x1c71e3+_0x1774cd;},'npias':function(_0x2ad696,_0x26d1c2){return _0x2ad696!==_0x26d1c2;},'nTTCX':function(_0xdf1824){return _0xdf1824();},'nMtFy':_0x35716d(0x236),'Berbb':'listening','jUUiF':'close','LKycM':_0x35716d(0x242),'eTpNt':'PvnFN','pCfrQ':function(_0x44586a,_0x506e45){return _0x44586a<_0x506e45;},'zrTmN':_0x35716d(0x194),'KfSAV':function(_0x4e6bd3,_0x20fd0e){return _0x4e6bd3===_0x20fd0e;},'PbaQs':_0x35716d(0x1ef),'EnAyM':_0x35716d(0x177),'podGh':_0x35716d(0x18e),'aHZUG':_0x35716d(0x21d),'xNvtG':function(_0x42749e,_0x4c3cc3,_0x457953){return _0x42749e(_0x4c3cc3,_0x457953);},'BOJTe':'should\x20not\x20send\x20the\x20same\x20subcribe\x20multiple\x20times\x20on\x20a\x20flaky\x20connection','QNnCt':_0x35716d(0x1e6),'NwIjS':function(_0x3a5d70,_0x2b0f71,_0x3a39ab){return _0x3a5d70(_0x2b0f71,_0x3a39ab);},'BhJDv':_0x35716d(0x215),'Iddvd':function(_0x1d8cff,_0x307482,_0x58ea57){return _0x1d8cff(_0x307482,_0x58ea57);},'nlNAx':_0x35716d(0x1c5),'fCvbW':'mqtt','BjJXr':function(_0x1c88dd,_0x103269,_0x586eca){return _0x1c88dd(_0x103269,_0x586eca);}};_0x59bcab['Iddvd'](describe,_0x59bcab[_0x35716d(0x214)],function(){var _0x4de94c=_0x35716d,_0x51cb97={'ZcwRm':function(_0x5683da,_0x4eb733){var _0x2a279b=_0x5e84;return _0x59bcab[_0x2a279b(0x21e)](_0x5683da,_0x4eb733);},'AjxfK':_0x59bcab[_0x4de94c(0x1b4)]};_0x59bcab[_0x4de94c(0x244)](it,_0x59bcab[_0x4de94c(0x175)],function(_0x2ee741){var _0x107d3a=_0x4de94c,_0xe9cc99={'EYFMu':function(_0x48c4c7,_0x47e1f7){return _0x48c4c7(_0x47e1f7);},'yYQsP':function(_0x267e87,_0x379412){var _0x458c42=_0x5e84;return _0x51cb97[_0x458c42(0x234)](_0x267e87,_0x379412);},'QLFjj':function(_0x285fab){return _0x285fab();}};should(function(){var _0x43caa7=_0x5e84,_0x1cf99b={'fKXem':function(_0x5e3f9f,_0x2f36ba){var _0x1967a9=_0x5e84;return _0xe9cc99[_0x1967a9(0x17d)](_0x5e3f9f,_0x2f36ba);}},_0x296db9;try{_0x296db9=mqtt[_0x43caa7(0x25a)](function(){var _0x4968c5=_0x43caa7;throw _0x1cf99b['fKXem'](Error,_0x4968c5(0x1be));},{}),_0x296db9['end']();}catch(_0x19db21){if(_0xe9cc99[_0x43caa7(0x198)](_0x19db21[_0x43caa7(0x1de)],_0x43caa7(0x1be)))throw _0x19db21;_0xe9cc99[_0x43caa7(0x232)](_0x2ee741);}})[_0x107d3a(0x26c)][_0x107d3a(0x271)](_0x51cb97['AjxfK']);});});var _0x118b3d={'protocol':_0x59bcab['fCvbW'],'port':port};_0x59bcab[_0x35716d(0x233)](abstractClientTests,server,_0x118b3d),describe(_0x35716d(0x25f),function(){var _0x4e732a=_0x35716d,_0x5dc431={'vOWHw':_0x4e732a(0x1a5),'DfOfk':function(_0x23e6be,_0xf34e8){return _0x23e6be!==_0xf34e8;},'oOkET':function(_0x4fc483,_0x1eb015){return _0x4fc483!==_0x1eb015;},'jEoLU':_0x59bcab[_0x4e732a(0x258)]};_0x59bcab[_0x4e732a(0x244)](it,_0x59bcab[_0x4e732a(0x248)],function(){var _0x5e15da=_0x4e732a,_0x35dcc3=mqtt['connect'](_0x118b3d),_0x4139d3=_0x35dcc3[_0x5e15da(0x1f5)]();_0x35dcc3[_0x5e15da(0x1f5)]()[_0x5e15da(0x24d)]['equal'](_0x4139d3+0x1),_0x35dcc3[_0x5e15da(0x218)]();}),_0x59bcab[_0x4e732a(0x233)](it,_0x59bcab[_0x4e732a(0x277)],function(){var _0x76f352=_0x4e732a,_0x4188c0=_0x76f352(0x1c1)[_0x76f352(0x229)]('|'),_0x34c1a4=0x0;while(!![]){switch(_0x4188c0[_0x34c1a4++]){case'0':_0x34224f[_0x76f352(0x218)]();continue;case'1':_0x34224f[_0x76f352(0x1f5)]()['should']['equal'](0x1);continue;case'2':_0x34224f[_0x76f352(0x1f5)]()['should'][_0x76f352(0x193)](0xffff);continue;case'3':_0x34224f[_0x76f352(0x1db)]=0xffff;continue;case'4':var _0x34224f=mqtt['connect'](_0x118b3d);continue;}break;}}),it(_0x59bcab[_0x4e732a(0x1ff)],function(){var _0x46c155=_0x4e732a,_0x2f2941=_0x59bcab[_0x46c155(0x274)][_0x46c155(0x229)]('|'),_0xd193ac=0x0;while(!![]){switch(_0x2f2941[_0xd193ac++]){case'0':var _0x3413a5=mqtt[_0x46c155(0x25c)](_0x118b3d);continue;case'1':_0x3413a5[_0x46c155(0x1f5)]()[_0x46c155(0x24d)]['equal'](0xffff);continue;case'2':_0x3413a5['nextId']=0xffff;continue;case'3':_0x3413a5[_0x46c155(0x1f5)]()[_0x46c155(0x24d)][_0x46c155(0x193)](0x1);continue;case'4':_0x3413a5[_0x46c155(0x218)]();continue;case'5':_0x3413a5[_0x46c155(0x23b)]()[_0x46c155(0x24d)][_0x46c155(0x193)](0x1);continue;case'6':_0x3413a5[_0x46c155(0x23b)]()[_0x46c155(0x24d)][_0x46c155(0x193)](0xffff);continue;}break;}}),it(_0x4e732a(0x21c),function(_0x183167){var _0x27ce08=_0x4e732a,_0x5142e6={'kPTlV':function(_0x26ff20,_0xd010a4){return _0x26ff20===_0xd010a4;},'TaECU':function(_0x240a31){return _0x240a31();},'elgkw':_0x27ce08(0x263)},_0x20dcab=new Server(function(_0x5b4923){var _0xe9410d=_0x27ce08;_0x5dc431[_0xe9410d(0x224)]===_0xe9410d(0x227)?(_0xe59b17++,_0x158d0e['destroy']()):_0x5b4923['on'](_0xe9410d(0x25c),function(_0x2adaf4){var _0x1220b9=_0xe9410d;_0x5b4923[_0x1220b9(0x17f)]({'returnCode':0x0}),_0x5b4923['pubrel']({'messageId':Math[_0x1220b9(0x1f2)](Math[_0x1220b9(0x212)]()*0x2328)+0x3e8});});});_0x20dcab[_0x27ce08(0x23c)](_0x59bcab[_0x27ce08(0x247)](port,0x31),function(){var _0x4d9d5b=_0x27ce08,_0x2694a6=mqtt[_0x4d9d5b(0x25c)]({'port':port+0x31,'host':_0x4d9d5b(0x273)});_0x2694a6['on'](_0x5142e6[_0x4d9d5b(0x173)],function(_0x14666f){var _0x38582b=_0x4d9d5b;_0x5142e6['kPTlV'](_0x14666f[_0x38582b(0x210)],_0x38582b(0x1d5))&&(_0x2694a6[_0x38582b(0x218)](),_0x20dcab[_0x38582b(0x186)](),_0x5142e6['TaECU'](_0x183167));});});}),_0x59bcab[_0x4e732a(0x230)](it,_0x59bcab['XhZnx'],function(_0x280ec6){var _0x1c0056=_0x4e732a,_0x156921={'hXiuS':function(_0x2d259d,_0x571633){var _0x359cfa=_0x5e84;return _0x5dc431[_0x359cfa(0x1b9)](_0x2d259d,_0x571633);},'Ludpe':_0x1c0056(0x21f),'KDQLd':_0x1c0056(0x17f),'tfAcg':function(_0x548282,_0x5219c4){return _0x548282<_0x5219c4;},'BZedl':_0x1c0056(0x1f3),'GHJMY':function(_0x441028,_0x3f4b24){return _0x441028+_0x3f4b24;}},_0x2b26ae=mqttPacket[_0x1c0056(0x18c)](),_0x48ac42=0x0,_0x92ade=0x3e8,_0xd455b9=new Duplex({'read':function(_0x2ad694){},'write':function(_0x3d36a4,_0x52985c,_0x2effbb){var _0x41d219=_0x1c0056;_0x2b26ae[_0x41d219(0x1f0)](_0x3d36a4),_0x2effbb();}}),_0x37d656=new mqtt[(_0x1c0056(0x25a))](function(){var _0xcc0a9a=_0x1c0056;return _0x5dc431[_0xcc0a9a(0x1fe)](_0xcc0a9a(0x253),_0xcc0a9a(0x24b))?_0xd455b9:_0x156465[_0xcc0a9a(0x252)];},{});_0x37d656['on'](_0x5dc431[_0x1c0056(0x256)],function(_0x4a660c,_0x3022ec,_0x54c709){++_0x48ac42===_0x92ade&&_0x280ec6();}),_0x2b26ae['on'](_0x1c0056(0x23f),function(_0x50c9c4){var _0x40d5f5=_0x1c0056,_0x11448b=[];if(_0x50c9c4[_0x40d5f5(0x210)]===_0x40d5f5(0x25c)){if(_0x156921[_0x40d5f5(0x1d0)]('FJNOm',_0x156921[_0x40d5f5(0x25d)])){var _0x402440=new _0x53a447(_0x3a64be);_0x402440['on'](_0x40d5f5(0x171),function(){}),_0x402440['on'](_0x40d5f5(0x25c),function(_0x1b5b78){_0x402440['connack']({'returnCode':0x0}),_0x402440['destroy']();});}else{_0xd455b9['push'](mqttPacket[_0x40d5f5(0x1eb)]({'cmd':_0x156921[_0x40d5f5(0x265)],'sessionPresent':![],'returnCode':0x0}));for(var _0x1ace28=0x0;_0x156921[_0x40d5f5(0x23d)](_0x1ace28,_0x92ade);_0x1ace28++){_0x11448b[_0x40d5f5(0x245)](mqttPacket[_0x40d5f5(0x1eb)]({'cmd':_0x40d5f5(0x23a),'topic':Buffer[_0x40d5f5(0x1cd)](_0x40d5f5(0x1e3)),'payload':Buffer['from'](_0x156921[_0x40d5f5(0x222)]),'retain':![],'dup':![],'messageId':_0x156921[_0x40d5f5(0x1d8)](_0x1ace28,0x1),'qos':0x1}));}_0xd455b9[_0x40d5f5(0x245)](Buffer[_0x40d5f5(0x21b)](_0x11448b));}}});});}),_0x59bcab[_0x35716d(0x1a6)](describe,_0x35716d(0x276),function(){var _0x51ded2=_0x35716d,_0x3d56d6={'UHKda':_0x59bcab['jUUiF'],'fCHXW':function(_0x54b649,_0x44f000){var _0x18f85f=_0x5e84;return _0x59bcab[_0x18f85f(0x1ee)](_0x54b649,_0x44f000);},'XLcRc':_0x59bcab['ErdMk'],'xPlsu':_0x59bcab[_0x51ded2(0x203)],'DlfDl':_0x59bcab['LKycM'],'xCyNn':_0x51ded2(0x1e3),'Pdtfr':function(_0x2578da){return _0x2578da();},'srGPs':'packetsend','ogCov':function(_0x3798b3,_0x42761e){return _0x3798b3!==_0x42761e;},'WvNjl':_0x59bcab[_0x51ded2(0x1a7)],'JlnAL':_0x51ded2(0x171),'buBbn':_0x59bcab['AcRRT'],'iCCCh':_0x51ded2(0x213),'DGRFe':function(_0x3b89da,_0x592634){var _0x38d936=_0x51ded2;return _0x59bcab[_0x38d936(0x19b)](_0x3b89da,_0x592634);},'oyAik':function(_0x17b135,_0x199cf7){var _0x1d5d72=_0x51ded2;return _0x59bcab[_0x1d5d72(0x21e)](_0x17b135,_0x199cf7);},'bwuWU':_0x59bcab['zrTmN'],'Tloyx':function(_0x3907e3,_0x28873f){return _0x3907e3+_0x28873f;},'QXWEj':function(_0x1cf6cb,_0x3faf7b){return _0x59bcab['KfSAV'](_0x1cf6cb,_0x3faf7b);},'duyhz':_0x59bcab[_0x51ded2(0x261)],'EaWbn':function(_0x440e20,_0x34a174,_0x1aee8e){return _0x440e20(_0x34a174,_0x1aee8e);},'QutnK':function(_0xc03b9b,_0x4a84c6){return _0xc03b9b+_0x4a84c6;},'csKdR':_0x59bcab[_0x51ded2(0x1b7)],'Jvhcy':'Multiple\x20duplicate\x20acked\x20publishes\x20received\x20for\x20messageId\x20','aYcgB':_0x51ded2(0x1f7),'KZpyu':function(_0x3f5eb2,_0x1ca50f){var _0x17e23c=_0x51ded2;return _0x59bcab[_0x17e23c(0x1ec)](_0x3f5eb2,_0x1ca50f);}};it('should\x20attempt\x20to\x20reconnect\x20once\x20server\x20is\x20down',function(_0x4a1b29){var _0x50e31a=_0x51ded2,_0x56a639={'bnlSC':function(_0x3ba9e1,_0x1b31ec){return _0x3ba9e1!==_0x1b31ec;},'YCiOo':_0x50e31a(0x24e)};this['timeout'](0x3a98);var _0x29a899=_0x59bcab[_0x50e31a(0x178)](fork,path[_0x50e31a(0x1b3)](__dirname,_0x50e31a(0x1a2),_0x50e31a(0x17b))),_0x30aac9=mqtt['connect']({'port':0xbb8,'host':_0x59bcab[_0x50e31a(0x270)],'keepalive':0x1});_0x30aac9['once'](_0x59bcab[_0x50e31a(0x1df)],function(){var _0xa143b3=_0x50e31a;_0x29a899[_0xa143b3(0x1b1)](_0xa143b3(0x1ba)),_0x30aac9[_0xa143b3(0x1a4)](_0x3d56d6['UHKda'],function(){var _0x9d39d2=_0xa143b3;_0x56a639['bnlSC'](_0x56a639[_0x9d39d2(0x246)],_0x56a639[_0x9d39d2(0x246)])?(_0x174664[_0x9d39d2(0x218)](),_0xca3d3()):(should[_0x9d39d2(0x1dc)](_0x30aac9[_0x9d39d2(0x260)]),_0x30aac9[_0x9d39d2(0x218)](),_0x4a1b29());});});}),it(_0x59bcab[_0x51ded2(0x19f)],function(_0x4de314){var _0x1c11d6=_0x51ded2;this[_0x1c11d6(0x19a)](0x3a98);var _0x29ce71=_0x59bcab[_0x1c11d6(0x190)](buildServer)[_0x1c11d6(0x23c)](_0x59bcab[_0x1c11d6(0x262)](port,0x2a));_0x29ce71['on'](_0x1c11d6(0x183),function(_0x25dce3){var _0x5f1e33=_0x1c11d6;_0x25dce3[_0x5f1e33(0x200)][_0x5f1e33(0x237)](),_0x29ce71[_0x5f1e33(0x186)]();}),_0x29ce71['on'](_0x1c11d6(0x1a8),function(){var _0x3abb8c=_0x1c11d6,_0x61f4f9=mqtt[_0x3abb8c(0x25c)]({'servers':[{'port':_0x3d56d6[_0x3abb8c(0x197)](port,0x2a),'host':_0x3d56d6[_0x3abb8c(0x1f8)]},{'port':port,'host':_0x3abb8c(0x273)}],'keepalive':0x32});server[_0x3abb8c(0x1a4)](_0x3d56d6[_0x3abb8c(0x1e0)],function(){var _0x48f6c2=_0x3abb8c;_0x61f4f9[_0x48f6c2(0x218)](),_0x4de314();}),_0x61f4f9['once'](_0x3abb8c(0x25c),function(){var _0x27d1d1=_0x3abb8c;_0x61f4f9[_0x27d1d1(0x200)]['destroy']();});});}),it(_0x51ded2(0x20b),function(_0x85bac6){var _0x1391cb=_0x51ded2,_0x201c4b={'wWngg':function(_0x34c55c,_0x6b2f96){return _0x34c55c===_0x6b2f96;},'BemEs':_0x59bcab[_0x1391cb(0x1ab)],'lmXIv':_0x59bcab[_0x1391cb(0x18f)],'KxfPi':function(_0xa890a4,_0x40260f,_0x3618e0){return _0xa890a4(_0x40260f,_0x3618e0);},'udUfv':_0x59bcab[_0x1391cb(0x1af)],'FiMQw':'localhost_fake','FKIZd':_0x59bcab[_0x1391cb(0x203)]};this[_0x1391cb(0x19a)](0x7d0);var _0x572526=net[_0x1391cb(0x24f)]()[_0x1391cb(0x23c)](_0x59bcab[_0x1391cb(0x1ee)](port,0x2b));_0x572526['on'](_0x1391cb(0x236),function(_0x460fbd){var _0x25ace9=_0x1391cb;_0x201c4b[_0x25ace9(0x21a)](_0x201c4b['BemEs'],_0x201c4b['lmXIv'])?_0xc41533[_0x25ace9(0x17f)]({'returnCode':0x2}):_0x201c4b[_0x25ace9(0x241)](eos,_0x460fbd,function(){var _0x1558b0=_0x25ace9;_0x572526[_0x1558b0(0x186)]();});}),_0x572526['on'](_0x1391cb(0x1a8),function(){var _0x453d7=_0x1391cb,_0x278634={'rmNwz':function(_0x512839,_0x5aacbb){return _0x512839!==_0x5aacbb;},'zxVMS':_0x201c4b['udUfv']},_0x1c747f=mqtt[_0x453d7(0x25c)]({'servers':[{'port':port+0x2b,'host':_0x201c4b[_0x453d7(0x1a3)]},{'port':port,'host':_0x453d7(0x273)}],'connectTimeout':0x1f4});server[_0x453d7(0x1a4)](_0x201c4b[_0x453d7(0x20d)],function(){var _0xc8497=_0x453d7;_0x278634[_0xc8497(0x217)](_0xc8497(0x275),_0x278634[_0xc8497(0x24c)])?(_0x33f0f0[_0xc8497(0x1ae)]['length'][_0xc8497(0x24d)][_0xc8497(0x193)](0x1),_0x281377['end'](),_0x382263()):(_0x1c747f[_0xc8497(0x218)](),_0x85bac6());}),_0x1c747f[_0x453d7(0x1a4)](_0x453d7(0x25c),function(){var _0x1ae2ef=_0x453d7;_0x1c747f[_0x1ae2ef(0x200)]['destroy']();});});}),_0x59bcab[_0x51ded2(0x244)](it,_0x51ded2(0x176),function(_0x108c07){var _0x229292=_0x51ded2,_0x1aa560={'mJezn':function(_0x5d9a44,_0x44c950){return _0x59bcab['npias'](_0x5d9a44,_0x44c950);},'FifBl':function(_0x3c0846){var _0x2b2957=_0x5e84;return _0x59bcab[_0x2b2957(0x1fa)](_0x3c0846);},'UuZMX':function(_0x331306,_0x10bde){return _0x331306/_0x10bde;},'UaGga':function(_0xe61f53,_0x1991a3){return _0xe61f53+_0x1991a3;},'NoRPr':_0x229292(0x273)};this['timeout'](0xfa0);var _0x5ed8d5=net[_0x229292(0x24f)]()[_0x229292(0x23c)](port+0x2c);_0x5ed8d5['on'](_0x59bcab[_0x229292(0x182)],function(_0x198a9b){var _0x1995a6=_0x229292;_0x3d56d6[_0x1995a6(0x181)]===_0x3d56d6['DlfDl']?_0x198a9b['destroy']():(_0xe73d40++,_0x545f99[_0x1995a6(0x237)](),_0x378cbe[_0x1995a6(0x20f)]('publish',_0x11ad35));}),_0x5ed8d5[_0x229292(0x1a4)](_0x59bcab[_0x229292(0x1b2)],function(){var _0x4ad9a4=_0x229292,_0x22600f={'kAIjF':function(_0x35d28a,_0x31ce5b){var _0x39891b=_0x5e84;return _0x1aa560[_0x39891b(0x255)](_0x35d28a,_0x31ce5b);},'KFOCg':_0x4ad9a4(0x1dd),'fovQW':_0x4ad9a4(0x223),'uBPiH':function(_0xba39,_0x5cdd65){return _0xba39>=_0x5cdd65;},'KIebJ':function(_0x32d73e){var _0x4a8e26=_0x4ad9a4;return _0x1aa560[_0x4a8e26(0x250)](_0x32d73e);}},_0x188954=0x0,_0x40ceb5=0x3e8,_0x41f942=0x64,_0x56f6a6=Math[_0x4ad9a4(0x1f2)](_0x1aa560['UuZMX'](_0x40ceb5,_0x41f942)),_0x2e33be=mqtt[_0x4ad9a4(0x25c)]({'port':_0x1aa560['UaGga'](port,0x2c),'host':_0x1aa560['NoRPr'],'connectTimeout':_0x40ceb5,'reconnectPeriod':_0x41f942});_0x2e33be['on'](_0x4ad9a4(0x22b),function(){var _0x1f68b4=_0x4ad9a4,_0x2e8cc4={'dvtOX':'world'};_0x22600f[_0x1f68b4(0x1a0)](_0x22600f['KFOCg'],_0x22600f[_0x1f68b4(0x1b8)])?(_0x188954++,_0x22600f['uBPiH'](_0x188954,_0x56f6a6)&&(_0x2e33be[_0x1f68b4(0x218)](),_0x22600f['KIebJ'](_0x108c07))):(_0x2aa56f[_0x1f68b4(0x237)](),_0x5da1b9[_0x1f68b4(0x186)](),_0x1b08c2[_0x1f68b4(0x23a)](_0x1f68b4(0x1e3),_0x2e8cc4[_0x1f68b4(0x1d9)],{'qos':0x1}));});});}),it(_0x59bcab[_0x51ded2(0x1e1)],function(_0x4c51ff){var _0x57b6cf=_0x51ded2,_0x2bac60={'UKLUG':function(_0x2c0c5c,_0x4fba64){return _0x2c0c5c===_0x4fba64;},'xgnAt':function(_0x32fece){var _0x1842f0=_0x5e84;return _0x3d56d6[_0x1842f0(0x1bd)](_0x32fece);},'qMyqk':function(_0x37a2bb,_0x1075f2){return _0x37a2bb+_0x1075f2;},'WdNLl':_0x3d56d6[_0x57b6cf(0x1f8)],'GPXqH':_0x3d56d6[_0x57b6cf(0x1f9)]};if(_0x57b6cf(0x18a)==='gDYLj'){var _0x21d8b7='2|4|1|3|0'[_0x57b6cf(0x229)]('|'),_0x2a41d7=0x0;while(!![]){switch(_0x21d8b7[_0x2a41d7++]){case'0':setTimeout(function(){var _0x240e38=_0x57b6cf;_0x2bac60[_0x240e38(0x201)](_0x507a53[_0x240e38(0x1ae)]['length'],0x0)?(_0x507a53[_0x240e38(0x218)](!![]),_0x4c51ff()):_0x507a53[_0x240e38(0x218)](!![]);},0x7d0);continue;case'1':var _0x507a53=mqtt['connect']({'port':port+0x2d,'host':_0x3d56d6[_0x57b6cf(0x1f8)],'connectTimeout':0x15e,'reconnectPeriod':0x12c});continue;case'2':this['timeout'](0x9c4);continue;case'3':_0x64ecbf['on'](_0x3d56d6['xPlsu'],function(_0x978f5d){var _0x53c055=_0x57b6cf;_0x507a53['publish'](_0x3d56d6[_0x53c055(0x1d2)],'world',{'qos':0x1},function(){var _0x401b3e=_0x53c055;_0x978f5d[_0x401b3e(0x237)](),_0x64ecbf[_0x401b3e(0x186)](),_0x507a53[_0x401b3e(0x23a)](_0x401b3e(0x1e3),_0x401b3e(0x1f3),{'qos':0x1});});});continue;case'4':var _0x64ecbf=buildServer()[_0x57b6cf(0x23c)](_0x3d56d6['fCHXW'](port,0x2d));continue;}break;}}else{var _0x49cfb3=_0x52f701[_0x57b6cf(0x25c)]({'port':_0x2bac60[_0x57b6cf(0x23e)](_0x3e6136,0x31),'host':_0x2bac60['WdNLl']});_0x49cfb3['on'](_0x2bac60['GPXqH'],function(_0x301f35){var _0x4f0ff4=_0x57b6cf;_0x2bac60['UKLUG'](_0x301f35[_0x4f0ff4(0x210)],_0x4f0ff4(0x1d5))&&(_0x49cfb3[_0x4f0ff4(0x218)](),_0x1fa726[_0x4f0ff4(0x186)](),_0x2bac60['xgnAt'](_0x4bc286));});}}),_0x59bcab[_0x51ded2(0x1cc)](it,_0x59bcab['BOJTe'],function(_0x4a473f){var _0x300459=_0x51ded2,_0x5c9bd6={'hZBbu':_0x300459(0x1c0),'jfNhV':function(_0x2e93a7){return _0x2e93a7();},'vrUxm':function(_0x137fda,_0x4f57c8){var _0x3a9877=_0x300459;return _0x3d56d6[_0x3a9877(0x267)](_0x137fda,_0x4f57c8);},'vhBwg':_0x300459(0x259),'oWZNo':function(_0x11c0a9,_0x1aab58){var _0x3b6e90=_0x300459;return _0x3d56d6[_0x3b6e90(0x22e)](_0x11c0a9,_0x1aab58);},'pYzBB':_0x3d56d6[_0x300459(0x19d)],'tHqlt':function(_0x501902,_0x48a060){return _0x501902(_0x48a060);},'KsuYq':function(_0x371990,_0x5afcc4){return _0x371990+_0x5afcc4;},'WZPpQ':_0x300459(0x209)};this['timeout'](0xdac);var _0x2a3167=0x4,_0x114dce=0x0,_0x4e0f95={},_0x3cd137=mqtt[_0x300459(0x25c)]({'port':port+0x2e,'host':_0x3d56d6[_0x300459(0x1f8)],'connectTimeout':0x15e,'reconnectPeriod':0x12c}),_0x124523=new Server(function(_0x5ec11a){var _0x4a2910=_0x300459;_0x3d56d6['ogCov'](_0x3d56d6[_0x4a2910(0x1a9)],_0x4a2910(0x1e7))?(_0x5ec11a['on'](_0x3d56d6[_0x4a2910(0x191)],function(){}),_0x5ec11a['on'](_0x3d56d6['buBbn'],function(_0x1eb0c5){var _0x387232=_0x4a2910;_0x1eb0c5['clientId']===_0x5c9bd6[_0x387232(0x1a1)]?_0x5ec11a[_0x387232(0x17f)]({'returnCode':0x2}):_0x5ec11a[_0x387232(0x17f)]({'returnCode':0x0});})):_0x5332c3[_0x4a2910(0x1da)]({'messageId':_0xeb33ca[_0x4a2910(0x26f)],'granted':_0x3aaf78[_0x4a2910(0x18b)][_0x4a2910(0x1aa)](function(_0x29a887){var _0x1456a2=_0x4a2910;return _0x29a887[_0x1456a2(0x252)];})});})[_0x300459(0x23c)](_0x3d56d6[_0x300459(0x1ce)](port,0x2e));_0x124523['on'](_0x300459(0x183),function(_0x130380){var _0x5344ea=_0x300459;_0x3cd137[_0x5344ea(0x1ca)](_0x3d56d6[_0x5344ea(0x1e8)],function(){var _0x486a08=_0x5344ea;_0x5c9bd6[_0x486a08(0x238)](_0x4a473f),_0x3cd137[_0x486a08(0x218)](!![]),_0x130380[_0x486a08(0x237)](),_0x124523[_0x486a08(0x186)]();}),_0x130380['on'](_0x5344ea(0x1ca),function(_0x20d74f){var _0x900606=_0x5344ea,_0x19bcf1={'WDBjB':function(_0x24502b,_0x2ff708){return _0x24502b(_0x2ff708);},'kgsPI':function(_0x391151,_0x452508){return _0x391151===_0x452508;},'ppelU':_0x900606(0x17a)};_0x5c9bd6[_0x900606(0x20a)](_0x114dce,_0x2a3167)?(_0x114dce++,_0x130380[_0x900606(0x237)]()):_0x5c9bd6[_0x900606(0x231)]!==_0x5c9bd6[_0x900606(0x231)]?(_0x58870b[_0x900606(0x200)][_0x900606(0x237)](),_0x37e4b9['close']()):(!_0x4e0f95[_0x20d74f['messageId']]&&(_0x4e0f95[_0x20d74f[_0x900606(0x26f)]]=0x0),_0x4e0f95[_0x20d74f[_0x900606(0x26f)]]++,_0x4e0f95[_0x20d74f['messageId']]>0x1&&(_0x5c9bd6[_0x900606(0x189)](_0x5c9bd6[_0x900606(0x204)],_0x900606(0x194))?(_0x19bcf1[_0x900606(0x269)](_0xeaff5f,new _0x2b8ecb('Multiple\x20duplicate\x20acked\x20publishes\x20received\x20for\x20messageId\x20'+_0x36ad15[_0x900606(0x26f)])),_0x599bcd[_0x900606(0x218)](!![]),_0x2fc0eb['destroy'](),_0x2c6dfa[_0x900606(0x237)]()):(_0x5c9bd6[_0x900606(0x1d7)](_0x4a473f,new Error(_0x5c9bd6[_0x900606(0x1c8)](_0x5c9bd6[_0x900606(0x185)],_0x20d74f['messageId']))),_0x3cd137['end'](!![]),_0x130380['destroy'](),_0x124523['destroy']())),_0x130380[_0x900606(0x1da)]({'messageId':_0x20d74f['messageId'],'granted':_0x20d74f[_0x900606(0x18b)][_0x900606(0x1aa)](function(_0x54edf5){var _0x226d9f=_0x900606;if(_0x19bcf1['kgsPI'](_0x19bcf1[_0x226d9f(0x1e5)],_0x19bcf1['ppelU']))return _0x54edf5[_0x226d9f(0x252)];else _0x19bcf1[_0x226d9f(0x1c9)](++_0x1d0b90,_0x3ca2d1)&&_0x31f8d6();})}));});});}),_0x59bcab[_0x51ded2(0x233)](it,_0x59bcab['QNnCt'],function(_0x5abf34){var _0x5a9d27=_0x51ded2,_0x247dbe={'LHIre':function(_0x80b558){return _0x80b558();},'SdkEY':function(_0x55144f,_0x4af64d){var _0x164612=_0x5e84;return _0x3d56d6[_0x164612(0x1b0)](_0x55144f,_0x4af64d);},'KfTIY':'pZkvm','YbSjG':_0x3d56d6[_0x5a9d27(0x1d4)],'CxBrM':_0x3d56d6[_0x5a9d27(0x1d2)],'vGkbR':function(_0x3e2f54,_0x1731a7,_0x4635c3){var _0x1bc6ff=_0x5a9d27;return _0x3d56d6[_0x1bc6ff(0x1fb)](_0x3e2f54,_0x1731a7,_0x4635c3);}};this[_0x5a9d27(0x19a)](0x9c4);var _0x4f9a92=_0x3d56d6[_0x5a9d27(0x1fc)](port,0x30),_0x342531=net['createServer'](function(_0x4aab25){var _0x2ba0d3=_0x5a9d27,_0x189421=new Connection(_0x4aab25);_0x189421['on']('error',function(){}),_0x189421['on'](_0x2ba0d3(0x25c),function(_0x5d04e8){var _0x3762c8=_0x2ba0d3,_0x1ca07a={'qWBWi':function(_0x28d0fa){var _0x313d79=_0x5e84;return _0x247dbe[_0x313d79(0x188)](_0x28d0fa);}};_0x247dbe[_0x3762c8(0x25b)](_0x247dbe[_0x3762c8(0x1ad)],_0x247dbe[_0x3762c8(0x211)])?(_0xe18482[_0x3762c8(0x1b1)](_0x3762c8(0x1ba)),_0x338ce2[_0x3762c8(0x1a4)](_0x3762c8(0x186),function(){var _0x7766c3=_0x3762c8;_0x4322c1['exist'](_0x4d3e56[_0x7766c3(0x260)]),_0x52bbae[_0x7766c3(0x218)](),_0x1ca07a[_0x7766c3(0x1d1)](_0x54d837);})):(_0x189421[_0x3762c8(0x17f)]({'returnCode':0x0}),_0x189421[_0x3762c8(0x237)]());});});_0x342531[_0x5a9d27(0x23c)](_0x4f9a92,function(){var _0x1ab498=_0x5a9d27,_0x3f3db2={'VJuPm':'hPpOP','jVGJY':function(_0x1e7343){return _0x1e7343();}},_0x3e1d7e=mqtt[_0x1ab498(0x25c)]({'port':_0x4f9a92,'host':'localhost','connectTimeout':0x15e,'reconnectPeriod':0x12c});_0x3e1d7e[_0x1ab498(0x1ca)](_0x247dbe[_0x1ab498(0x264)]),_0x247dbe['vGkbR'](setTimeout,function(){var _0x54b611=_0x1ab498;_0x3f3db2[_0x54b611(0x219)]==='hTHfz'?_0x226173[_0x54b611(0x1d5)](_0x260276):(_0x3e1d7e[_0x54b611(0x1ae)][_0x54b611(0x206)][_0x54b611(0x24d)][_0x54b611(0x193)](0x1),_0x3e1d7e[_0x54b611(0x218)](),_0x3f3db2[_0x54b611(0x243)](_0x5abf34));},0x3e8);});}),_0x59bcab[_0x51ded2(0x235)](it,_0x59bcab[_0x51ded2(0x17c)],function(_0xa6e663){var _0x4dc2f7=_0x51ded2,_0x5edf77={'vPIWW':function(_0x2606b2,_0x36a311){var _0x4d6f8c=_0x5e84;return _0x3d56d6[_0x4d6f8c(0x254)](_0x2606b2,_0x36a311);},'gcayq':_0x3d56d6[_0x4dc2f7(0x1e0)]};this[_0x4dc2f7(0x19a)](0xdac);var _0x179181=0x4,_0x3742f4=0x0,_0x992fee={},_0x17d4cf=mqtt[_0x4dc2f7(0x25c)]({'port':_0x3d56d6['QutnK'](port,0x2f),'host':_0x3d56d6[_0x4dc2f7(0x1f8)],'connectTimeout':0x15e,'reconnectPeriod':0x12c}),_0x28d97a=net[_0x4dc2f7(0x24f)](function(_0x3fb01f){var _0x254e40=_0x4dc2f7,_0x57048f=new Connection(_0x3fb01f);_0x57048f['on'](_0x254e40(0x171),function(){}),_0x57048f['on'](_0x254e40(0x25c),function(_0x49f81a){var _0x12d504=_0x254e40;_0x5edf77[_0x12d504(0x1c2)](_0x49f81a[_0x12d504(0x220)],_0x12d504(0x1c0))?_0x57048f[_0x12d504(0x17f)]({'returnCode':0x2}):_0x57048f['connack']({'returnCode':0x0});}),this[_0x254e40(0x1fd)](_0x5edf77[_0x254e40(0x24a)],_0x57048f);})['listen'](port+0x2f);_0x28d97a['on'](_0x3d56d6['xPlsu'],function(_0x2c86ee){var _0x8847de=_0x4dc2f7,_0xa873cb={'bJcTf':_0x3d56d6['csKdR'],'reLpk':_0x3d56d6['Jvhcy']};_0x17d4cf['publish'](_0x8847de(0x213),_0x3d56d6[_0x8847de(0x1c4)],{'qos':0x1},function(){var _0x759648=_0x8847de;_0xa6e663(),_0x17d4cf['end'](!![]),_0x2c86ee[_0x759648(0x237)](),_0x28d97a[_0x759648(0x237)]();}),_0x2c86ee['on']('publish',function _0x5402f0(_0x256fbe){var _0x235a3b=_0x8847de;_0x3742f4<_0x179181?'Bplhy'===_0xa873cb[_0x235a3b(0x22c)]?_0x57e791['pubrel'](_0x441e7d):(_0x3742f4++,_0x2c86ee[_0x235a3b(0x237)](),_0x2c86ee[_0x235a3b(0x20f)]('publish',_0x5402f0)):(!_0x992fee[_0x256fbe[_0x235a3b(0x26f)]]&&(_0x992fee[_0x256fbe['messageId']]=0x0),_0x992fee[_0x256fbe[_0x235a3b(0x26f)]]++,_0x992fee[_0x256fbe[_0x235a3b(0x26f)]]>0x1&&(_0xa6e663(new Error(_0xa873cb[_0x235a3b(0x226)]+_0x256fbe[_0x235a3b(0x26f)])),_0x17d4cf[_0x235a3b(0x218)](!![]),_0x2c86ee['destroy'](),_0x28d97a['destroy']()),_0x2c86ee['puback'](_0x256fbe));});});});});});