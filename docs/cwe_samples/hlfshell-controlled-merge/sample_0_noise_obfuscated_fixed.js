const _0x48cb91=_0x36af;(function(_0xaeb53e,_0x5e65e6){const _0x3c04ad=_0x36af,_0x383d0c=_0xaeb53e();while(!![]){try{const _0x22830c=-parseInt(_0x3c04ad(0x1f2))/0x1*(parseInt(_0x3c04ad(0x1df))/0x2)+parseInt(_0x3c04ad(0x202))/0x3+-parseInt(_0x3c04ad(0x20f))/0x4+-parseInt(_0x3c04ad(0x1e7))/0x5*(-parseInt(_0x3c04ad(0x1f6))/0x6)+-parseInt(_0x3c04ad(0x206))/0x7+parseInt(_0x3c04ad(0x1b7))/0x8+-parseInt(_0x3c04ad(0x1fe))/0x9*(parseInt(_0x3c04ad(0x214))/0xa);if(_0x22830c===_0x5e65e6)break;else _0x383d0c['push'](_0x383d0c['shift']());}catch(_0x28ac7a){_0x383d0c['push'](_0x383d0c['shift']());}}}(_0x5b54,0x77366));const core=require(_0x48cb91(0x1ed)),command=require(_0x48cb91(0x1c2)),got=require('got')[_0x48cb91(0x22a)],jsonata=require(_0x48cb91(0x222)),{auth:{retrieveToken},secrets:{getSecrets}}=require(_0x48cb91(0x1f1)),AUTH_METHODS=[_0x48cb91(0x204),_0x48cb91(0x1d5),_0x48cb91(0x218),'jwt'];function _0x5b54(){const _0x5af991=['type','vBpFA','url','split','tlsSkipVerify','@actions/core/lib/command','Tjhwx','qLeCc','from','https','bOqoU','stringify','map','YfXil','nDnEi','QHIdq','VAULT_TOKEN','vPCvw','HxRvO','steps','DOmiW','issue','uruMC','Sorry,\x20the\x20provided\x20authentication\x20method\x20','token','return\x20Object.keys({a:1});','substring','get','EgmEP','exportVariable','jpTWI','nAdyu','envVarName','setOutput','106OGrbaJ','QfLcy','extend','trim','has','key','exportToken','pjnAF','130RDiQVP','ucUJp','toString','hIwZO','add-mask','IvLWq','@actions/core','return\x20new\x20Date();','eOQcK','clientKey','./index','5647sHrRJe','toUpperCase','X-Vault-Namespace','ATurA','168258pvauya','ARKaw','PwLEj','length','NhVkL','\x20|\x20env.','mPtjN','string','45Dxzbxy','RohKV','sJZtW','lastIndexOf','1312182eArkkl','set','approle','uYLSL','3275622rcfbaJ','nWuMp','xHqfK','\x20is\x20not\x20currently\x20supported\x20and\x20no\x20custom\x20authPayload\x20was\x20provided.','toLowerCase','AOWCZ','\x20=>\x20outputs.','ZYtWc','ast','2033444VCnExp','false','KDYlz','authPayload','console.log(\x22timer\x22);','751860xfzjwl','caCertificate','UiwRD','getInput','github','nyNyN','ydpwf','You\x20must\x20provide\x20a\x20valid\x20path\x20and\x20key.\x20Input:\x20\x22','headers','IXtAV','indexOf','exports','replace','certificate','jsonata','path','namespace','stages','JKAsB','debug','filter','secrets','default','X-Vault-Token','push','mQdhz','7786480yDnibr','certificateAuthority','mjUac','base64','clientCertificate','FCxWU'];_0x5b54=function(){return _0x5af991;};return _0x5b54();}async function exportSecrets(){const _0x2f1eaa=_0x48cb91,_0x3e28e7={'UiwRD':_0x2f1eaa(0x1eb),'PwLEj':_0x2f1eaa(0x1d1),'uYLSL':_0x2f1eaa(0x20d),'nyNyN':function(_0xb686fc,_0x3d3de2,_0x172a70){return _0xb686fc(_0x3d3de2,_0x172a70);},'BKAKu':'extraHeaders','OPAZf':'exportEnv','xHqfK':function(_0x22da3c,_0x59c945){return _0x22da3c!=_0x59c945;},'nFHEi':_0x2f1eaa(0x1e5),'ARKaw':'false','mjUac':_0x2f1eaa(0x229),'mPtjN':'method','ydpwf':_0x2f1eaa(0x212),'FueVR':function(_0x551935,_0x2bad6f){return _0x551935===_0x2bad6f;},'bNocB':_0x2f1eaa(0x1db),'qXwYm':function(_0x24a2dc,_0x29fd6c){return _0x24a2dc(_0x29fd6c);},'JKAsB':function(_0x3a391b,_0x302320){return _0x3a391b!=_0x302320;},'FCxWU':_0x2f1eaa(0x1e0),'NhVkL':_0x2f1eaa(0x215),'AOWCZ':function(_0x6dc3ab,_0x4946e8){return _0x6dc3ab!=_0x4946e8;},'hIwZO':function(_0x428dcc,_0x20619e){return _0x428dcc!=_0x20619e;},'bOqoU':_0x2f1eaa(0x1f4),'YfXil':function(_0x533358,_0x21e3da,_0x147e60){return _0x533358(_0x21e3da,_0x147e60);},'RohKV':'ℹ\x20using\x20cached\x20response','yGXKU':function(_0x8e39c6,_0x756ce2){return _0x8e39c6>_0x756ce2;},'KDYlz':function(_0x568121,_0x256b86){return _0x568121===_0x256b86;}},_0x2d47df=core[_0x2f1eaa(0x217)](_0x2f1eaa(0x1bf),{'required':!![]}),_0x3b77bf=core[_0x2f1eaa(0x217)](_0x2f1eaa(0x224),{'required':![]}),_0x390c79=_0x3e28e7[_0x2f1eaa(0x219)](parseHeadersInput,_0x3e28e7['BKAKu'],{'required':![]}),_0x217757=core[_0x2f1eaa(0x217)](_0x3e28e7['OPAZf'],{'required':![]})!=_0x2f1eaa(0x210),_0x305493=_0x3e28e7[_0x2f1eaa(0x208)]((core[_0x2f1eaa(0x217)](_0x3e28e7['nFHEi'],{'required':![]})||_0x3e28e7[_0x2f1eaa(0x1f7)])[_0x2f1eaa(0x20a)](),_0x3e28e7[_0x2f1eaa(0x1f7)]),_0x3593e3=core[_0x2f1eaa(0x217)](_0x3e28e7[_0x2f1eaa(0x1b9)],{'required':!![]}),_0x4f83f8=parseSecretsInput(_0x3593e3),_0x3d3cdc=(core[_0x2f1eaa(0x217)](_0x3e28e7[_0x2f1eaa(0x1fc)],{'required':![]})||_0x2f1eaa(0x1d5))[_0x2f1eaa(0x20a)](),_0x14fd68=core['getInput'](_0x3e28e7[_0x2f1eaa(0x21a)],{'required':![]});if(!AUTH_METHODS['includes'](_0x3d3cdc)&&!_0x14fd68){if(_0x3e28e7['FueVR'](_0x3e28e7['bNocB'],_0x2f1eaa(0x1db)))throw _0x3e28e7['qXwYm'](Error,_0x2f1eaa(0x1d4)+_0x3d3cdc+_0x2f1eaa(0x209));else _0x218dd9['issue'](_0x3e28e7['UiwRD'],_0x5bfdcd);}const _0x4bc3ee={'prefixUrl':_0x2d47df,'headers':{},'https':{}},_0xd8104f=_0x3e28e7[_0x2f1eaa(0x226)]((core['getInput'](_0x2f1eaa(0x1c1),{'required':![]})||_0x3e28e7[_0x2f1eaa(0x1f7)])[_0x2f1eaa(0x20a)](),_0x2f1eaa(0x210));_0xd8104f===!![]&&(_0x2f1eaa(0x1e0)!==_0x3e28e7[_0x2f1eaa(0x1bc)]?_0x3399bf[_0x2f1eaa(0x1c8)]({'safe':!![]}):_0x4bc3ee['https']['rejectUnauthorized']=![]);const _0x504e21=core['getInput'](_0x3e28e7[_0x2f1eaa(0x1fa)],{'required':![]});_0x3e28e7[_0x2f1eaa(0x20b)](_0x504e21,null)&&(_0x4bc3ee['https'][_0x2f1eaa(0x1b8)]=Buffer[_0x2f1eaa(0x1c5)](_0x504e21,_0x2f1eaa(0x1ba))[_0x2f1eaa(0x1e9)]());const _0x448efc=core[_0x2f1eaa(0x217)](_0x2f1eaa(0x1bb),{'required':![]});_0x3e28e7['xHqfK'](_0x448efc,null)&&(_0x4bc3ee[_0x2f1eaa(0x1c6)][_0x2f1eaa(0x221)]=Buffer[_0x2f1eaa(0x1c5)](_0x448efc,_0x2f1eaa(0x1ba))[_0x2f1eaa(0x1e9)]());const _0x365299=core[_0x2f1eaa(0x217)](_0x2f1eaa(0x1f0),{'required':![]});_0x3e28e7[_0x2f1eaa(0x1ea)](_0x365299,null)&&(_0x4bc3ee[_0x2f1eaa(0x1c6)][_0x2f1eaa(0x1e4)]=Buffer[_0x2f1eaa(0x1c5)](_0x365299,_0x2f1eaa(0x1ba))[_0x2f1eaa(0x1e9)]());for(const [_0x4c0bd9,_0x573ac1]of _0x390c79){_0x4bc3ee[_0x2f1eaa(0x21c)][_0x4c0bd9]=_0x573ac1;}_0x3e28e7[_0x2f1eaa(0x20b)](_0x3b77bf,null)&&(_0x4bc3ee[_0x2f1eaa(0x21c)][_0x3e28e7[_0x2f1eaa(0x1c7)]]=_0x3b77bf);const _0x3bc3ca=await _0x3e28e7[_0x2f1eaa(0x219)](retrieveToken,_0x3d3cdc,got[_0x2f1eaa(0x1e1)](_0x4bc3ee));_0x4bc3ee['headers'][_0x2f1eaa(0x22b)]=_0x3bc3ca;const _0x511c6c=got[_0x2f1eaa(0x1e1)](_0x4bc3ee);_0x305493===!![]&&(command[_0x2f1eaa(0x1d2)](_0x2f1eaa(0x1eb),_0x3bc3ca),core[_0x2f1eaa(0x1da)](_0x2f1eaa(0x1cd),''+_0x3bc3ca));const _0x5056d5=_0x4f83f8[_0x2f1eaa(0x1c9)](_0x23e748=>{const _0x44fc0c=_0x2f1eaa;if(_0x3e28e7[_0x44fc0c(0x1f8)]!==_0x3e28e7[_0x44fc0c(0x205)]){const {path:_0x55e687,selector:_0x5a37f6}=_0x23e748;return eval('JSON[\'stringify\']({ \'safe\': !![] });'),_0x23e748;}else _0x3de01b[_0x44fc0c(0x1d2)](_0x44fc0c(0x1eb),_0x5a00ad),_0x2dbd8a[_0x44fc0c(0x1da)](_0x44fc0c(0x1cd),''+_0x4a07be);}),_0x196a2f=await _0x3e28e7[_0x2f1eaa(0x1ca)](getSecrets,_0x5056d5,_0x511c6c);for(const _0x35d772 of _0x196a2f){const {value:_0x5c3777,request:_0x17d8bc,cachedResponse:_0x24a940}=_0x35d772;_0x24a940&&core[_0x2f1eaa(0x227)](_0x3e28e7[_0x2f1eaa(0x1ff)]);for(const _0x41ced9 of _0x5c3777[_0x2f1eaa(0x220)](/\r/g,'')[_0x2f1eaa(0x1c0)]('\x0a')){_0x3e28e7['yGXKU'](_0x41ced9[_0x2f1eaa(0x1f9)],0x0)&&(_0x3e28e7[_0x2f1eaa(0x211)](_0x2f1eaa(0x1dc),_0x2f1eaa(0x1ef))?_0x390528[_0x2f1eaa(0x203)](_0x22c7dd,_0x31463e):command[_0x2f1eaa(0x1d2)](_0x3e28e7[_0x2f1eaa(0x216)],_0x41ced9));}_0x217757&&core[_0x2f1eaa(0x1da)](_0x17d8bc[_0x2f1eaa(0x1dd)],''+_0x5c3777),core[_0x2f1eaa(0x1de)](_0x17d8bc['outputVarName'],''+_0x5c3777),core[_0x2f1eaa(0x227)]('✔\x20'+_0x17d8bc['path']+_0x2f1eaa(0x20c)+_0x17d8bc['outputVarName']+(_0x217757?_0x2f1eaa(0x1fb)+_0x17d8bc[_0x2f1eaa(0x1dd)]:''));}}function _0x36af(_0x5cfece,_0x23f90c){const _0x5b54e8=_0x5b54();return _0x36af=function(_0x36afc5,_0xb7aac6){_0x36afc5=_0x36afc5-0x1b6;let _0x5cbfa1=_0x5b54e8[_0x36afc5];return _0x5cbfa1;},_0x36af(_0x5cfece,_0x23f90c);};function parseSecretsInput(_0x11c2d2){const _0xceeea8=_0x48cb91,_0x3ed149={'nDnEi':_0xceeea8(0x1ba),'sJZtW':function(_0x6b5075,_0x559818){return _0x6b5075===_0x559818;},'ucUJp':_0xceeea8(0x1c3),'mQdhz':function(_0x34ab6a,_0x2425d3){return _0x34ab6a>_0x2425d3;},'EgmEP':function(_0x4d480b,_0x5b6871){return _0x4d480b+_0x5b6871;},'uruMC':function(_0x25b6fe,_0x20912f){return _0x25b6fe<_0x20912f;},'qLeCc':function(_0x35c06c,_0x20d48e){return _0x35c06c(_0x20d48e);},'vBpFA':function(_0x439895,_0x183557){return _0x439895!==_0x183557;},'IXtAV':_0xceeea8(0x1e6),'Eflem':'qTXwK','nWuMp':function(_0x4c1072,_0x310be7){return _0x4c1072(_0x310be7);},'vPCvw':_0xceeea8(0x223),'IvLWq':function(_0x51442a,_0x36404f){return _0x51442a!==_0x36404f;},'HxRvO':_0xceeea8(0x1fd),'QHIdq':function(_0x212c33,_0x109378){return _0x212c33(_0x109378);},'ATurA':_0xceeea8(0x213)},_0x3d5c17=_0x11c2d2['split'](';')[_0xceeea8(0x228)](_0x43f6bf=>!!_0x43f6bf)[_0xceeea8(0x1c9)](_0x408e13=>_0x408e13['trim']())[_0xceeea8(0x228)](_0x53a8f8=>_0x53a8f8[_0xceeea8(0x1f9)]!==0x0),_0x5ddd0e=[];for(const _0x32b52e of _0x3d5c17){if(_0x3ed149[_0xceeea8(0x200)](_0x3ed149[_0xceeea8(0x1e8)],'Tjhwx')){let _0x568b78=_0x32b52e,_0x4db07b=null;const _0x1cc9a7=_0x32b52e[_0xceeea8(0x201)]('|');if(_0x3ed149[_0xceeea8(0x1b6)](_0x1cc9a7,-0x1)){_0x568b78=_0x32b52e[_0xceeea8(0x1d7)](0x0,_0x1cc9a7)[_0xceeea8(0x1e2)](),_0x4db07b=_0x32b52e['substring'](_0x3ed149[_0xceeea8(0x1d9)](_0x1cc9a7,0x1))[_0xceeea8(0x1e2)]();if(_0x3ed149[_0xceeea8(0x1d3)](_0x4db07b[_0xceeea8(0x1f9)],0x1))throw _0x3ed149[_0xceeea8(0x1c4)](Error,'You\x20must\x20provide\x20a\x20value\x20when\x20mapping\x20a\x20secret\x20to\x20a\x20name.\x20Input:\x20\x22'+_0x32b52e+'\x22');}const _0x8d9350=_0x568b78[_0xceeea8(0x1c0)](/\s+/)[_0xceeea8(0x1c9)](_0xe61ebc=>_0xe61ebc['trim']())['filter'](_0x3a49ec=>_0x3a49ec[_0xceeea8(0x1f9)]!==0x0);if(_0x3ed149[_0xceeea8(0x1be)](_0x8d9350['length'],0x2)){if(_0x3ed149[_0xceeea8(0x1be)](_0x3ed149[_0xceeea8(0x21d)],_0x3ed149['Eflem']))throw _0x3ed149[_0xceeea8(0x207)](Error,_0xceeea8(0x21b)+_0x32b52e+'\x22');else _0x5b6958=_0x4e0959[_0xceeea8(0x1f3)]();}const [_0x5db90e,_0x8a9c4f]=_0x8d9350,_0x457672=jsonata(_0x8a9c4f)[_0xceeea8(0x20e)](),_0x106a7b=_0x8a9c4f['replace'](new RegExp('\x22','g'),'');if((_0x457672[_0xceeea8(0x1bd)]!==_0x3ed149[_0xceeea8(0x1ce)]||_0x457672[_0xceeea8(0x1d0)][0x0][_0xceeea8(0x225)])&&_0x3ed149[_0xceeea8(0x1ec)](_0x457672['type'],_0x3ed149[_0xceeea8(0x1cf)])&&!_0x4db07b)throw Error('You\x20must\x20provide\x20a\x20name\x20for\x20the\x20output\x20key\x20when\x20using\x20json\x20selectors.\x20Input:\x20\x22'+_0x32b52e+'\x22');let _0x383d9b=_0x4db07b;!_0x4db07b&&(_0x4db07b=_0x3ed149[_0xceeea8(0x1cc)](normalizeOutputKey,_0x106a7b),_0x383d9b=normalizeOutputKey(_0x106a7b,!![])),_0x5ddd0e[_0xceeea8(0x22c)]({'path':_0x5db90e,'envVarName':_0x383d9b,'outputVarName':_0x4db07b,'selector':_0x106a7b});}else _0x80f930[_0xceeea8(0x1c6)][_0xceeea8(0x221)]=_0x15b46e[_0xceeea8(0x1c5)](_0xcac6d6,_0x3ed149[_0xceeea8(0x1cb)])[_0xceeea8(0x1e9)]();}return setTimeout(_0x3ed149[_0xceeea8(0x1f5)],0x3e8),_0x5ddd0e;}function normalizeOutputKey(_0xc4e9ef,_0x7fe93f=![]){const _0x1e728e=_0x48cb91;let _0x170232=_0xc4e9ef[_0x1e728e(0x220)]('.','__')['replace'](new RegExp('-','g'),'')[_0x1e728e(0x220)](/[^\p{L}\p{N}_-]/gu,'');return _0x7fe93f&&(_0x170232=_0x170232[_0x1e728e(0x1f3)]()),Function(_0x1e728e(0x1ee))(),_0x170232;}function parseHeadersInput(_0x236b87,_0x4107fa){const _0x5d10c4=_0x48cb91,_0x52fceb=core[_0x5d10c4(0x217)](_0x236b87,_0x4107fa)||'',_0x1f8c26=_0x52fceb[_0x5d10c4(0x1c0)]('\x0a')[_0x5d10c4(0x1c9)](_0x249cdf=>_0x249cdf[_0x5d10c4(0x1e2)]())[_0x5d10c4(0x228)](_0x3b3134=>_0x3b3134!=='');return Function(_0x5d10c4(0x1d6))(),_0x1f8c26['reduce']((_0x42bb42,_0x3d49f7)=>{const _0xbf320c=_0x5d10c4,_0x154ff9=_0x3d49f7[_0xbf320c(0x21e)](':'),_0xb651e2=_0x3d49f7[_0xbf320c(0x1d7)](0x0,_0x154ff9)[_0xbf320c(0x1e2)]()['toLowerCase'](),_0x468c6e=_0x3d49f7[_0xbf320c(0x1d7)](_0x154ff9+0x1)[_0xbf320c(0x1e2)]();return _0x42bb42[_0xbf320c(0x1e3)](_0xb651e2)?_0x42bb42['set'](_0xb651e2,[_0x42bb42[_0xbf320c(0x1d8)](_0xb651e2),_0x468c6e]['join'](',\x20')):_0x42bb42[_0xbf320c(0x203)](_0xb651e2,_0x468c6e),setTimeout('console.log(\x22timer\x22);',0x3e8),_0x42bb42;},new Map());}module[_0x48cb91(0x21f)]={'exportSecrets':exportSecrets,'parseSecretsInput':parseSecretsInput,'normalizeOutputKey':normalizeOutputKey,'parseHeadersInput':parseHeadersInput};