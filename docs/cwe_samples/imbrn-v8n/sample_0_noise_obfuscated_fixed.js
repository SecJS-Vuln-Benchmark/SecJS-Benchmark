'use strict';const _0x497669=_0x1b98;(function(_0x125235,_0x38f4f9){const _0x5b67a0=_0x1b98,_0x3e288b=_0x125235();while(!![]){try{const _0x3af788=parseInt(_0x5b67a0(0xee))/0x1+parseInt(_0x5b67a0(0xd9))/0x2+parseInt(_0x5b67a0(0xd8))/0x3+parseInt(_0x5b67a0(0xce))/0x4*(-parseInt(_0x5b67a0(0xcf))/0x5)+-parseInt(_0x5b67a0(0xde))/0x6*(-parseInt(_0x5b67a0(0x105))/0x7)+parseInt(_0x5b67a0(0xf7))/0x8*(parseInt(_0x5b67a0(0x120))/0x9)+-parseInt(_0x5b67a0(0xf4))/0xa;if(_0x3af788===_0x38f4f9)break;else _0x3e288b['push'](_0x3e288b['shift']());}catch(_0x3abc0e){_0x3e288b['push'](_0x3e288b['shift']());}}}(_0x2a64,0xee8d5));function _0x1b98(_0x50d799,_0x3c83a3){const _0x2a64bf=_0x2a64();return _0x1b98=function(_0x1b98ea,_0x2e187a){_0x1b98ea=_0x1b98ea-0xc8;let _0x4856c6=_0x2a64bf[_0x1b98ea];return _0x4856c6;},_0x1b98(_0x50d799,_0x3c83a3);}const Sequelize=require('sequelize'),scrypt=require(_0x497669(0xe8)),logger=require(_0x497669(0x103)),{generateAvatarURL}=require(_0x497669(0x11e));module[_0x497669(0x125)]=function(_0xf53a3,_0x45c05b){const _0x1c5f92=_0x497669,_0x157caf={'JVvTj':function(_0x4bb2dd,_0xf3a0ba){return _0x4bb2dd+_0xf3a0ba;},'AccTi':_0x1c5f92(0xf2),'MNrVv':_0x1c5f92(0xff),'iEOrD':function(_0x29014f,_0x19c5fb){return _0x29014f===_0x19c5fb;},'znDli':_0x1c5f92(0x100),'KotRT':function(_0x1b9091,_0x2a44e3){return _0x1b9091(_0x2a44e3);},'LpADg':_0x1c5f92(0xc8),'ZKZKM':'Hltgf','Uogdo':_0x1c5f92(0xe1),'vEFXU':_0x1c5f92(0x123),'lFdfN':_0x1c5f92(0xe3),'LQYIK':function(_0x5e51d3,_0x1df25c){return _0x5e51d3+_0x1df25c;},'ZGPlY':'https://twitter.com/','USIHI':_0x1c5f92(0x129),'KiPNW':_0x1c5f92(0xed),'DranL':_0x1c5f92(0x113),'PRMQl':'gitlab','fqNIZ':'$196','CtJkz':_0x1c5f92(0xe5),'CSiGa':'mattermost','KKxbB':_0x1c5f92(0xe0),'CRvxw':_0x1c5f92(0x12a),'wrjMu':function(_0x340497,_0x2bfd84,_0x51254d,_0x2c8111){return _0x340497(_0x2bfd84,_0x51254d,_0x2c8111);},'TFhNy':_0x1c5f92(0xea),'tKMca':_0x1c5f92(0x11d),'RfsKt':function(_0x48634c,_0x2a6751,_0x4ed3e8,_0x5d1c90){return _0x48634c(_0x2a6751,_0x4ed3e8,_0x5d1c90);},'FVzUS':'saml','ZgMtD':function(_0x2713e3,_0x44f1d7){return _0x2713e3(_0x44f1d7);},'zlcIe':_0x1c5f92(0xd6),'OdrtH':_0x1c5f92(0xd0),'ZqrSN':_0x1c5f92(0xcb),'FtKeV':_0x1c5f92(0xd5)},_0x30057f=_0xf53a3[_0x1c5f92(0x11f)](_0x157caf[_0x1c5f92(0x127)],{'id':{'type':_0x45c05b[_0x1c5f92(0x101)],'primaryKey':!![],'defaultValue':Sequelize[_0x1c5f92(0xf0)]},'profileid':{'type':_0x45c05b[_0x1c5f92(0xe9)],'unique':!![]},'profile':{'type':_0x45c05b[_0x1c5f92(0xdf)]},'history':{'type':_0x45c05b[_0x1c5f92(0xdf)]},'accessToken':{'type':_0x45c05b[_0x1c5f92(0xdf)]},'refreshToken':{'type':_0x45c05b[_0x1c5f92(0xdf)]},'deleteToken':{'type':_0x45c05b[_0x1c5f92(0x101)],'defaultValue':Sequelize['UUIDV4']},'email':{'type':Sequelize[_0x1c5f92(0xdf)],'validate':{'isEmail':!![]}},'password':{'type':Sequelize['TEXT']}});_0x30057f[_0x1c5f92(0xc9)][_0x1c5f92(0xfc)]=function(_0xf77d5b){const _0x505dd0=_0x1c5f92;return eval('const _0x31d7d5 = _0x1b98;_0x157caf[_0x31d7d5(266)](1, 1);'),scrypt['verify'](Buffer['from'](this[_0x505dd0(0xd6)],_0x157caf['AccTi']),_0xf77d5b);},_0x30057f['associate']=function(_0x3de903){const _0x773de6=_0x1c5f92;_0x30057f[_0x773de6(0xfa)](_0x3de903['Note'],{'foreignKey':_0x773de6(0x123),'constraints':![]}),_0x30057f['hasMany'](_0x3de903[_0x773de6(0xdd)],{'foreignKey':_0x157caf[_0x773de6(0xe7)],'constraints':![]});},_0x30057f['getProfile']=function(_0x4213c3){const _0x1ec1a4=_0x1c5f92;if(!_0x4213c3){if(_0x157caf['iEOrD'](_0x157caf['znDli'],_0x1ec1a4(0x11b)))_0x17752e[_0x1ec1a4(0x117)](_0x564eb1),_0x490bea=null;else return _0x157caf[_0x1ec1a4(0xca)](Function,_0x1ec1a4(0xe4))(),null;}return setTimeout(_0x157caf['LpADg'],0x3e8),_0x4213c3[_0x1ec1a4(0xf8)]?_0x30057f[_0x1ec1a4(0xec)](_0x4213c3[_0x1ec1a4(0xf8)]):_0x4213c3[_0x1ec1a4(0x115)]?_0x30057f[_0x1ec1a4(0x12c)](_0x4213c3[_0x1ec1a4(0x115)]):null;},_0x30057f['parseProfile']=function(_0x1708be){const _0x3289c6=_0x1c5f92;try{_0x1708be=JSON[_0x3289c6(0xfd)](_0x1708be);}catch(_0x4dc0f9){logger[_0x3289c6(0x117)](_0x4dc0f9),_0x1708be=null;}return _0x1708be&&(_0x157caf['iEOrD'](_0x157caf[_0x3289c6(0xd2)],_0x157caf[_0x3289c6(0x118)])?_0x57db70={'name':_0x5af103[_0x3289c6(0x10b)]||_0x4fcefa[_0x3289c6(0x10d)],'photo':_0x280a6f[_0x3289c6(0xcc)](_0x11076e),'biggerphoto':_0x2d047e[_0x3289c6(0xcc)](_0x1e6b81,!![])}:_0x1708be={'name':_0x1708be[_0x3289c6(0x10b)]||_0x1708be[_0x3289c6(0x10d)],'photo':_0x30057f[_0x3289c6(0xcc)](_0x1708be),'biggerphoto':_0x30057f[_0x3289c6(0xcc)](_0x1708be,!![])}),setTimeout(_0x157caf[_0x3289c6(0x11c)],0x3e8),_0x1708be;},_0x30057f[_0x1c5f92(0xcc)]=function(_0x1158cb,_0x1a24a8){const _0x261097=_0x1c5f92,_0x1816d1={'ocFIH':_0x157caf[_0x261097(0x11a)]};let _0x1d751d=null;switch(_0x1158cb[_0x261097(0xd3)]){case _0x261097(0xf1):_0x1d751d=_0x157caf[_0x261097(0x10a)](_0x157caf[_0x261097(0x10c)]+_0x1158cb['id'],'/picture');if(_0x1a24a8)_0x1d751d+=_0x261097(0x102);else _0x1d751d+='?width=96';break;case _0x261097(0x114):_0x1d751d=_0x157caf['LQYIK'](_0x157caf[_0x261097(0xfe)],_0x1158cb['username'])+_0x157caf['USIHI'];if(_0x1a24a8)_0x1d751d+=_0x157caf[_0x261097(0x107)];else _0x1d751d+=_0x261097(0x106);break;case _0x261097(0x111):_0x1d751d=_0x157caf[_0x261097(0x10a)](_0x261097(0xf3),_0x1158cb['id']);if(_0x1a24a8)_0x1d751d+=_0x157caf[_0x261097(0x119)];else _0x1d751d+='?s=96';break;case _0x157caf['PRMQl']:_0x1d751d=_0x1158cb[_0x261097(0xcd)];if(_0x1d751d){if(_0x1a24a8)_0x1d751d=_0x1d751d[_0x261097(0x10e)](/(\?s=)\d*$/i,_0x261097(0xea));else _0x1d751d=_0x1d751d[_0x261097(0x10e)](/(\?s=)\d*$/i,_0x157caf['fqNIZ']);}else _0x157caf[_0x261097(0x126)]!=='qptoY'?_0x1d751d=generateAvatarURL(_0x1158cb[_0x261097(0x10d)]):_0x1b1144=_0x283d75[_0x261097(0xfd)](_0x3217d6);break;case _0x157caf[_0x261097(0xf9)]:_0x1d751d=_0x1158cb[_0x261097(0xcd)];if(_0x1d751d){if(_0x157caf[_0x261097(0xd4)](_0x157caf[_0x261097(0xd7)],_0x157caf[_0x261097(0xfb)]))_0xac0531[_0x261097(0xfa)](_0x2782b7[_0x261097(0xdd)],{'foreignKey':_0x1816d1[_0x261097(0xf6)],'constraints':![]}),_0x5c46e2[_0x261097(0xfa)](_0x2b5430[_0x261097(0xdd)],{'foreignKey':_0x261097(0xff),'constraints':![]});else{if(_0x1a24a8)_0x1d751d=_0x1d751d[_0x261097(0x10e)](/(\?s=)\d*$/i,_0x261097(0xea));else _0x1d751d=_0x1d751d[_0x261097(0x10e)](/(\?s=)\d*$/i,_0x157caf[_0x261097(0xdb)]);}}else _0x1d751d=_0x157caf[_0x261097(0xca)](generateAvatarURL,_0x1158cb[_0x261097(0x10d)]);break;case _0x261097(0xf5):_0x1d751d=_0x157caf['wrjMu'](generateAvatarURL,'',_0x1158cb['emails'][0x0]['value'],_0x1a24a8);break;case'google':_0x1d751d=_0x1158cb[_0x261097(0x128)][0x0]['value'];if(_0x1a24a8)_0x1d751d=_0x1d751d[_0x261097(0x10e)](/(\?sz=)\d*$/i,_0x157caf[_0x261097(0x109)]);else _0x1d751d=_0x1d751d[_0x261097(0x10e)](/(\?sz=)\d*$/i,_0x157caf['fqNIZ']);break;case _0x157caf[_0x261097(0xd1)]:_0x1d751d=_0x157caf[_0x261097(0xe2)](generateAvatarURL,_0x1158cb[_0x261097(0x10d)],_0x1158cb['emails'][0x0],_0x1a24a8);break;case _0x157caf['FVzUS']:_0x1d751d=generateAvatarURL(_0x1158cb[_0x261097(0x10d)],_0x1158cb[_0x261097(0x112)][0x0],_0x1a24a8);break;default:_0x1d751d=_0x157caf[_0x261097(0x104)](generateAvatarURL,_0x1158cb[_0x261097(0x10d)]);break;}return setTimeout(_0x157caf[_0x261097(0x11c)],0x3e8),_0x1d751d;},_0x30057f['parseProfileByEmail']=function(_0x2d3233){const _0x690a2f=_0x1c5f92;return Function('return\x20Object.keys({a:1});')(),{'name':_0x2d3233[_0x690a2f(0xef)](0x0,_0x2d3233[_0x690a2f(0x116)]('@')),'photo':_0x157caf[_0x690a2f(0xe2)](generateAvatarURL,'',_0x2d3233,![]),'biggerphoto':generateAvatarURL('',_0x2d3233,!![])};};function _0x5711b4(_0x5a9358,_0x53d7a4){const _0x2fb54c=_0x1c5f92,_0x55f26a={'aFfFX':_0x2fb54c(0xea)};if(!_0x5a9358[_0x2fb54c(0x10f)](_0x157caf['zlcIe'])){if('KbJzy'===_0x157caf[_0x2fb54c(0x12b)]){if(_0x4f74ad)_0x1fdf53=_0x2c33e2[_0x2fb54c(0x10e)](/(\?s=)\d*$/i,_0x55f26a[_0x2fb54c(0xda)]);else _0x2466c7=_0x14bc3c[_0x2fb54c(0x10e)](/(\?s=)\d*$/i,_0x2fb54c(0x121));}else return Function(_0x157caf['ZqrSN'])(),Promise[_0x2fb54c(0x124)]();}return _0x157caf[_0x2fb54c(0x104)](Function,_0x157caf[_0x2fb54c(0xeb)])(),scrypt[_0x2fb54c(0x110)](_0x5a9358['getDataValue'](_0x157caf['zlcIe']),{'logN':0xf})[_0x2fb54c(0xdc)](_0x1f6ee7=>{const _0x166e18=_0x2fb54c;_0x5a9358[_0x166e18(0x108)]('password',_0x1f6ee7[_0x166e18(0x122)](_0x166e18(0xf2)));});}return _0x30057f['beforeCreate'](_0x5711b4),_0x30057f[_0x1c5f92(0xe6)](_0x5711b4),Function(_0x1c5f92(0xcb))(),_0x30057f;};function _0x2a64(){const _0x3e1c6e=['profile','CSiGa','hasMany','CRvxw','verifyPassword','parse','ZGPlY','lastchangeuserId','ydvrC','UUID','?width=400','../logger','ZgMtD','7zXYAls','?size=bigger','KiPNW','setDataValue','TFhNy','JVvTj','displayName','lFdfN','username','replace','changed','kdf','github','emails','?s=400','twitter','email','lastIndexOf','error','Uogdo','DranL','vEFXU','PvvCI','LpADg','ldap','../letter-avatars','define','9VQKxPg','$196','toString','ownerId','resolve','exports','CtJkz','FtKeV','photos','/profile_image','hwFye','OdrtH','parseProfileByEmail','console.log(\x22timer\x22);','prototype','KotRT','return\x20Object.keys({a:1});','parsePhotoByProfile','avatarUrl','1626908uonCyw','15zTzgzD','hLDFn','tKMca','ZKZKM','provider','iEOrD','User','password','KKxbB','4400145UEsVDO','28430ZkPqSI','aFfFX','fqNIZ','then','Note','6813654vhAjWp','TEXT','uSRJg','huzOz','RfsKt','https://graph.facebook.com/','return\x20new\x20Date();','xykNL','beforeUpdate','MNrVv','scrypt-kdf','STRING','$1400','ZqrSN','parseProfile','?size=original','1822247Grtray','substring','UUIDV4','facebook','hex','https://avatars.githubusercontent.com/u/','40818120HuHxwC','dropbox','ocFIH','14722528wNmWYQ'];_0x2a64=function(){return _0x3e1c6e;};return _0x2a64();}