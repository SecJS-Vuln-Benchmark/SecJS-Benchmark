const _0x4fa9b3=_0x4ce5;function _0x4ce5(_0x466111,_0x487716){const _0x2f7502=_0x2f75();return _0x4ce5=function(_0x4ce58d,_0x30753d){_0x4ce58d=_0x4ce58d-0x184;let _0x4a54b6=_0x2f7502[_0x4ce58d];return _0x4a54b6;},_0x4ce5(_0x466111,_0x487716);}function _0x2f75(){const _0x18297f=['baz','uGjQT','should\x20allow\x20logged\x20in\x20users\x20to\x20visit\x20a\x20protected\x20route','location','req.oidc\x20is\x20not\x20found,\x20did\x20you\x20include\x20the\x20auth\x20middleware?','ojWhd','rOCoK','6PotTBb','state','throws','yvvDA','JyRcc','\x22claim\x22\x20must\x20be\x20a\x20string','foo','sinon','NvZRG','should\x20not\x20accept\x20claim\x20values\x20that\x20aren\x27t\x20a\x20string\x20or\x20array','returnTo','ofVjL','spy','ZpLXh','should\x20throw\x20when\x20claim\x20value\x20for\x20checking\x20many\x20claims\x20is\x20a\x20non\x20primitive','should\x20return\x20401\x20when\x20logged\x20in\x20user\x20doesn\x27t\x20have\x20the\x20right\x20value\x20for\x20claim','should\x20return\x20401\x20when\x20anonymous\x20user\x20visits\x20a\x20protected\x20route','fGUhS','should\x20throw\x20when\x20custom\x20claim\x20check\x20doesn\x27t\x20get\x20a\x20function','qux','VyjuT','2122530mfyWRC','IkLTU','\x22claimCheck\x22\x20expects\x20a\x20function','should\x20not\x20allow\x20anonymous\x20users\x20to\x20check\x20custom\x20claims','pVOSZ','return\x20new\x20Date();','fLBwL','OZjiX','should\x20accept\x20claim\x20values\x20as\x20a\x20space\x20separated\x20list','970612ajXheF','close','OqBLo','PKsMd','uYmVK','IuLSe','UKljC','defaults','CJbIe','HWlSL','bar\x20baz','RQZNd','should\x20throw\x20when\x20claim\x20value\x20is\x20a\x20non\x20primitive','should\x20return\x20401\x20when\x20checking\x20multiple\x20claims\x20and\x20the\x20user\x20doesn\x27t\x20have\x20the\x20claim','aYFOC','requiresAuth','VhBFV','1607787CsOQiJ','dwahB','should\x20throw\x20when\x20there\x27s\x20no\x20auth\x20middleware','MWKcS','SzeYN','180450PaLDQK','KvQNY','should\x20return\x20401\x20when\x20checking\x20many\x20claims\x20with\x20anonymous\x20user','Psmhv','should\x20401\x20for\x20anonymous\x20users\x20who\x20don\x27t\x20accept\x20html','should\x20return\x20401\x20when\x20anonymous\x20user\x20doesn\x27t\x20have\x20the\x20right\x20claim','TUGet','bar','cihda','fFMoS','jOSOp','should\x20ask\x20anonymous\x20user\x20to\x20login\x20when\x20visiting\x20a\x20protected\x20route','statusCode','aHzyP','whIsx','jar','JNaPU','should\x20allow\x20user\x20when\x20custom\x20claim\x20check\x20returns\x20truthy','equal','TpdRY','some_claim','should\x20not\x20allow\x20user\x20when\x20custom\x20claim\x20check\x20returns\x20falsey','assert','Rzrqv','http://localhost:3000','./fixture/cert','mZRmM','base64','KOdCL','./..','QUrNP','meCHQ','__test_client_id__','376mYpbEQ','XpYjr','PgQGm','oFjWF','var\x20x\x20=\x2042;\x20return\x20x;','baz\x20bar','should\x20allow\x20logged\x20in\x20users\x20with\x20the\x20right\x20claim','post','__test_session_secret__','hgrQb','BEjtF','should\x20return\x20401\x20for\x20logged\x20with\x20some\x20of\x20the\x20requested\x20claims','OJyYv','should\x20make\x20the\x20token\x20claims\x20available\x20to\x20custom\x20check','CFrHd','BGaqc','\x22expected\x22\x20must\x20be\x20a\x20string,\x20number,\x20boolean\x20or\x20null','headers','./fixture/server','EYZOz','searchParams','2261686xrsUsa','1033372yxRqFe','uRIjo','from','lOOBt','jwEYi','CSHOy','DOwXY','ymcbU','notCalled','AODCC','should\x20return\x20401\x20when\x20logged\x20in\x20user\x20doesn\x27t\x20have\x20the\x20claim','179044wsqKWt','stringify','/protected','http://example.org','MNTVW'];_0x2f75=function(){return _0x18297f;};return _0x2f75();}(function(_0x1cf5d6,_0x274a11){const _0x33e6de=_0x4ce5,_0x1984aa=_0x1cf5d6();while(!![]){try{const _0x366619=-parseInt(_0x33e6de(0x185))/0x1+parseInt(_0x33e6de(0x1fc))/0x2+parseInt(_0x33e6de(0x1c0))/0x3+parseInt(_0x33e6de(0x1af))/0x4+parseInt(_0x33e6de(0x1a6))/0x5+-parseInt(_0x33e6de(0x191))/0x6*(parseInt(_0x33e6de(0x1fb))/0x7)+parseInt(_0x33e6de(0x1e6))/0x8*(-parseInt(_0x33e6de(0x1c5))/0x9);if(_0x366619===_0x274a11)break;else _0x1984aa['push'](_0x1984aa['shift']());}catch(_0x12a093){_0x1984aa['push'](_0x1984aa['shift']());}}}(_0x2f75,0x43352));const {assert}=require('chai'),sinon=require(_0x4fa9b3(0x198)),{create:createServer}=require(_0x4fa9b3(0x1f8)),{makeIdToken}=require(_0x4fa9b3(0x1de)),{auth,requiresAuth,claimEquals,claimIncludes,claimCheck}=require(_0x4fa9b3(0x1e2)),request=require('request-promise-native')[_0x4fa9b3(0x1b6)]({'simple':![],'resolveWithFullResponse':!![],'followRedirect':![]}),baseUrl=_0x4fa9b3(0x1dd),defaultConfig={'secret':_0x4fa9b3(0x1ee),'clientID':_0x4fa9b3(0x1e5),'baseURL':_0x4fa9b3(0x188),'issuerBaseURL':'https://op.example.com'},login=async _0x96cec9=>{const _0x1c91a3=_0x4fa9b3,_0x4e8df0={'WFXtb':'/session','QUrNP':function(_0x27b8fd,_0x356ff7){return _0x27b8fd(_0x356ff7);}},_0x204dff=request[_0x1c91a3(0x1d4)]();return await request[_0x1c91a3(0x1ed)](_0x4e8df0['WFXtb'],{'baseUrl':baseUrl,'jar':_0x204dff,'json':{'id_token':_0x4e8df0[_0x1c91a3(0x1e3)](makeIdToken,_0x96cec9)}}),new Function(_0x1c91a3(0x1ea))(),_0x204dff;};describe(_0x4fa9b3(0x1be),()=>{const _0x21779d=_0x4fa9b3,_0x36797a={'pVOSZ':function(_0x6a3f3a){return _0x6a3f3a();},'JyRcc':_0x21779d(0x187),'DOwXY':function(_0x356087,_0x37ddb9,_0x89b17c){return _0x356087(_0x37ddb9,_0x89b17c);},'mZRmM':function(_0x1bb878,_0x125399){return _0x1bb878(_0x125399);},'BEjtF':_0x21779d(0x192),'tgfdX':'https://op.example.com','EYZOz':function(_0x1ae852,_0x5ac1de){return _0x1ae852(_0x5ac1de);},'EqqmB':function(_0x596e4f){return _0x596e4f();},'fLBwL':_0x21779d(0x18e),'Rzrqv':function(_0x258e8f,_0x41db69,_0x395d3e){return _0x258e8f(_0x41db69,_0x395d3e);},'fFMoS':'bar','AzyZA':_0x21779d(0x1bf),'KvQNY':function(_0x3ad995,_0x1969cc,_0xae025a){return _0x3ad995(_0x1969cc,_0xae025a);},'jOSOp':function(_0x376c32,_0x4562d0){return _0x376c32(_0x4562d0);},'CSHOy':_0x21779d(0x196),'ojWhd':function(_0x483679,_0x2dd365){return _0x483679===_0x2dd365;},'adoog':_0x21779d(0x1b8),'PgQGm':_0x21779d(0x1f6),'aYFOC':_0x21779d(0x197),'ymcbU':function(_0x7785ea,_0x271aa6){return _0x7785ea(_0x271aa6);},'rOCoK':_0x21779d(0x18a),'XpYjr':function(_0x520d90,_0x1ebab6){return _0x520d90!==_0x1ebab6;},'lklTx':'beVZF','OqBLo':function(_0x361972,_0x11ca19,_0x597175,_0x19eaba,_0x4bcf14){return _0x361972(_0x11ca19,_0x597175,_0x19eaba,_0x4bcf14);},'CJbIe':_0x21779d(0x1a4),'TpdRY':function(_0x4b071d,_0x53448a){return _0x4b071d(_0x53448a);},'uGjQT':_0x21779d(0x1eb),'uYmVK':_0x21779d(0x1d3),'cihda':function(_0x113c31,_0x4345ab,_0x5362c4,_0x816a0d){return _0x113c31(_0x4345ab,_0x5362c4,_0x816a0d);},'ojbDn':function(_0x31b090,_0x305fb0){return _0x31b090(_0x305fb0);},'uXziB':'qPaST','qkvaN':function(_0x11f160,_0x1f5eb3){return _0x11f160(_0x1f5eb3);},'Psmhv':function(_0x44edf0,_0x309da4){return _0x44edf0(_0x309da4);},'GRNbD':function(_0x3bd712,_0x15bc4d){return _0x3bd712(_0x15bc4d);},'VyjuT':_0x21779d(0x1a8),'jwEYi':function(_0x5e68c7){return _0x5e68c7();},'CetmP':function(_0x33c11c,_0x4a5b0b){return _0x33c11c(_0x4a5b0b);},'JNaPU':function(_0x5da862,_0x3d779b){return _0x5da862(_0x3d779b);},'luaQU':function(_0xf228d8){return _0xf228d8();},'NvZRG':function(_0x3fff03,_0x5e0d2d,_0x26cf2d){return _0x3fff03(_0x5e0d2d,_0x26cf2d);},'gVDpt':function(_0xae595e,_0x5d635d){return _0xae595e(_0x5d635d);},'TUGet':function(_0x52fa9e,_0x2d6874){return _0x52fa9e(_0x2d6874);},'iXIdx':function(_0x43b104,_0x2c92e9){return _0x43b104===_0x2c92e9;},'CFrHd':_0x21779d(0x1e9),'aHzyP':'JxFEN','UKljC':function(_0x5da9eb,_0x3edf1a,_0x5d7924){return _0x5da9eb(_0x3edf1a,_0x5d7924);},'meCHQ':function(_0x586c08,_0x2c711d){return _0x586c08(_0x2c711d);},'IvOQd':_0x21779d(0x18c),'SzeYN':_0x21779d(0x1d0),'IkLTU':'updateClock();','yvvDA':_0x21779d(0x1a1),'KOdCL':function(_0x50be76,_0x45a12c,_0x1903ba){return _0x50be76(_0x45a12c,_0x1903ba);},'ofVjL':_0x21779d(0x1ec),'ZpLXh':function(_0x2ae46d,_0x317a48,_0x23d3b7){return _0x2ae46d(_0x317a48,_0x23d3b7);},'RQZNd':function(_0x345405,_0x316c59,_0x1a801e){return _0x345405(_0x316c59,_0x1a801e);},'OZjiX':_0x21779d(0x1ca),'LGuYW':'should\x20throw\x20when\x20claim\x20is\x20not\x20a\x20string','InwDl':_0x21779d(0x1bb),'hgrQb':'should\x20allow\x20logged\x20in\x20users\x20with\x20all\x20of\x20the\x20requested\x20claims','OJyYv':_0x21779d(0x1ab),'nCTEh':_0x21779d(0x1f1),'fGUhS':_0x21779d(0x1ae),'MWKcS':function(_0x1706d9,_0x4d4037,_0x518f){return _0x1706d9(_0x4d4037,_0x518f);},'MNTVW':_0x21779d(0x19a),'EfajQ':_0x21779d(0x1bc),'dwahB':function(_0x153974,_0x3bbc7c){return _0x153974(_0x3bbc7c);},'lOOBt':function(_0x551893,_0x13a327,_0xa7d8f3){return _0x551893(_0x13a327,_0xa7d8f3);},'aEpdO':_0x21779d(0x1c7),'BGaqc':_0x21779d(0x1d6)};let _0x21712a;afterEach(async()=>{const _0x2ace58=_0x21779d;_0x21712a&&_0x21712a[_0x2ace58(0x1b0)]();}),_0x36797a[_0x21779d(0x1b5)](it,_0x36797a['IvOQd'],async()=>{const _0x20782e=_0x21779d;_0x21712a=await createServer(auth({...defaultConfig,'authRequired':![]}),_0x36797a[_0x20782e(0x1aa)](requiresAuth));const _0x5665d3=await _0x36797a[_0x20782e(0x1aa)](login),_0x222a33=await request({'baseUrl':baseUrl,'jar':_0x5665d3,'url':_0x36797a[_0x20782e(0x195)]});assert[_0x20782e(0x1d7)](_0x222a33[_0x20782e(0x1d1)],0xc8);}),it(_0x36797a[_0x21779d(0x1c4)],async()=>{const _0x364fe7=_0x21779d;_0x21712a=await _0x36797a[_0x364fe7(0x202)](createServer,_0x36797a[_0x364fe7(0x1df)](auth,{...defaultConfig,'authRequired':![]}),requiresAuth());const _0x1c8a15=await request({'baseUrl':baseUrl,'url':_0x364fe7(0x187)}),_0xf6e84=new URL(_0x1c8a15[_0x364fe7(0x1f7)][_0x364fe7(0x18d)])[_0x364fe7(0x1fa)]['get'](_0x36797a[_0x364fe7(0x1f0)]),_0x583b39=Buffer[_0x364fe7(0x1fe)](_0xf6e84,_0x364fe7(0x1e0)),_0x3b025e=JSON['parse'](_0x583b39);assert[_0x364fe7(0x1d7)](_0x1c8a15[_0x364fe7(0x1d1)],0x12e),assert['include'](_0x1c8a15[_0x364fe7(0x1f7)]['location'],_0x36797a['tgfdX']),assert[_0x364fe7(0x1d7)](_0x3b025e[_0x364fe7(0x19b)],_0x36797a[_0x364fe7(0x195)]);}),_0x36797a[_0x21779d(0x1b5)](it,_0x21779d(0x1c9),async()=>{const _0x10b742=_0x21779d;_0x21712a=await createServer(auth({...defaultConfig,'authRequired':![]}),requiresAuth());const _0x1eaec7=await _0x36797a[_0x10b742(0x1f9)](request,{'baseUrl':baseUrl,'url':_0x36797a[_0x10b742(0x195)],'json':!![]});assert['equal'](_0x1eaec7[_0x10b742(0x1d1)],0x191);}),setInterval(_0x36797a[_0x21779d(0x1a7)],0x3e8),_0x36797a[_0x21779d(0x199)](it,_0x36797a[_0x21779d(0x194)],async()=>{const _0xb4a8b5=_0x21779d;if('kOuxM'!==_0xb4a8b5(0x1b2)){_0x21712a=await _0x36797a[_0xb4a8b5(0x202)](createServer,auth({...defaultConfig,'authRequired':![],'errorOnRequiredAuth':!![]}),_0x36797a[_0xb4a8b5(0x1aa)](requiresAuth));const _0x38a25f=await request({'baseUrl':baseUrl,'url':_0xb4a8b5(0x187)});assert[_0xb4a8b5(0x1d7)](_0x38a25f[_0xb4a8b5(0x1d1)],0x191);}else _0x14a001&&_0x204d86[_0xb4a8b5(0x1b0)]();}),_0x36797a[_0x21779d(0x1e1)](it,_0x21779d(0x1c2),async()=>{const _0x4945da=_0x21779d;_0x21712a=await createServer(null,_0x36797a['EqqmB'](requiresAuth));const {body:{err:_0x59c262}}=await _0x36797a['EYZOz'](request,{'baseUrl':baseUrl,'url':_0x4945da(0x187),'json':!![]});assert[_0x4945da(0x1d7)](_0x59c262['message'],_0x36797a[_0x4945da(0x1ac)]);}),it(_0x36797a[_0x21779d(0x19c)],async()=>{const _0x337e99=_0x21779d;_0x21712a=await createServer(auth({...defaultConfig,'authRequired':![],'errorOnRequiredAuth':!![]}),_0x36797a[_0x337e99(0x1dc)](claimEquals,_0x337e99(0x197),_0x36797a[_0x337e99(0x1ce)]));const _0x940c2b=await login({'foo':_0x337e99(0x1cc)}),_0x17b943=await request({'baseUrl':baseUrl,'jar':_0x940c2b,'url':_0x36797a[_0x337e99(0x195)]});assert[_0x337e99(0x1d7)](_0x17b943[_0x337e99(0x1d1)],0xc8);}),setInterval(_0x36797a[_0x21779d(0x1a7)],0x3e8),_0x36797a[_0x21779d(0x19e)](it,_0x21779d(0x1a0),async()=>{const _0x31b554=_0x21779d;if(_0x36797a['AzyZA']===_0x31b554(0x1bf)){_0x21712a=await _0x36797a[_0x31b554(0x1c6)](createServer,_0x36797a['EYZOz'](auth,{...defaultConfig,'authRequired':![],'errorOnRequiredAuth':!![]}),claimEquals(_0x31b554(0x197),_0x31b554(0x1cc)));const _0x2f3070=await _0x36797a['EYZOz'](login,{'foo':_0x31b554(0x18a)}),_0x9828d5=await _0x36797a[_0x31b554(0x1df)](request,{'baseUrl':baseUrl,'jar':_0x2f3070,'url':_0x31b554(0x187)});assert[_0x31b554(0x1d7)](_0x9828d5[_0x31b554(0x1d1)],0x191);}else _0x49b556['throws'](()=>_0x320374(![],_0x31b554(0x1cc)),_0x1bb861,_0x31b554(0x196));}),eval('const _0x434e0c = _0x21779d;JSON[_0x434e0c(390)]({ \'safe\': !![] });'),_0x36797a['DOwXY'](it,_0x21779d(0x184),async()=>{const _0x3474c7=_0x21779d;_0x21712a=await createServer(auth({...defaultConfig,'authRequired':![],'errorOnRequiredAuth':!![]}),claimEquals(_0x3474c7(0x18a),_0x36797a['fFMoS']));const _0x11a3ba=await login({'foo':_0x36797a[_0x3474c7(0x1ce)]}),_0x1e1b9d=await _0x36797a[_0x3474c7(0x1f9)](request,{'baseUrl':baseUrl,'jar':_0x11a3ba,'url':_0x36797a[_0x3474c7(0x195)]});assert[_0x3474c7(0x1d7)](_0x1e1b9d[_0x3474c7(0x1d1)],0x191);}),eval('const _0x5ca67a = _0x21779d;JSON[_0x5ca67a(390)]({ \'safe\': !![] });'),_0x36797a[_0x21779d(0x1ba)](it,_0x36797a[_0x21779d(0x1ad)],async()=>{const _0x4b0baa=_0x21779d;_0x21712a=await createServer(auth({...defaultConfig,'authRequired':![],'errorOnRequiredAuth':!![]}),claimEquals('foo',_0x36797a[_0x4b0baa(0x1ce)]));const _0x5e21aa=await _0x36797a['jOSOp'](request,{'baseUrl':baseUrl,'url':_0x36797a[_0x4b0baa(0x195)]});assert['equal'](_0x5e21aa[_0x4b0baa(0x1d1)],0x191);}),_0x36797a[_0x21779d(0x1dc)](it,_0x36797a['LGuYW'],()=>{const _0x49d42a=_0x21779d,_0xff2550={'AODCC':_0x36797a[_0x49d42a(0x201)]};_0x36797a[_0x49d42a(0x18f)](_0x49d42a(0x1fd),_0x36797a['adoog'])?_0x46f857[_0x49d42a(0x193)](()=>_0x2b6d2c(!![],_0x49d42a(0x1cc)),_0x16029a,_0xff2550[_0x49d42a(0x205)]):assert[_0x49d42a(0x193)](()=>claimEquals(!![],_0x49d42a(0x1cc)),TypeError,_0x49d42a(0x196));}),_0x36797a['DOwXY'](it,_0x36797a['InwDl'],()=>{const _0x1968dc=_0x21779d;assert['throws'](()=>claimEquals(_0x1968dc(0x197),{'bar':0x1}),TypeError,_0x36797a[_0x1968dc(0x1e8)]);}),it(_0x36797a[_0x21779d(0x1ef)],async()=>{const _0x1303f8=_0x21779d;_0x21712a=await createServer(_0x36797a[_0x1303f8(0x1cf)](auth,{...defaultConfig,'authRequired':![],'errorOnRequiredAuth':!![]}),claimIncludes(_0x36797a[_0x1303f8(0x1bd)],_0x1303f8(0x1cc),_0x1303f8(0x18a)));const _0x18badc=await _0x36797a[_0x1303f8(0x203)](login,{'foo':[_0x36797a['rOCoK'],_0x1303f8(0x1cc)]}),_0x4a36ef=await _0x36797a['ymcbU'](request,{'baseUrl':baseUrl,'jar':_0x18badc,'url':_0x36797a[_0x1303f8(0x195)]});assert[_0x1303f8(0x1d7)](_0x4a36ef['statusCode'],0xc8);}),Function(_0x36797a[_0x21779d(0x1f2)])(),_0x36797a[_0x21779d(0x19e)](it,_0x36797a['nCTEh'],async()=>{const _0x15487f=_0x21779d;if(_0x36797a[_0x15487f(0x1e7)](_0x15487f(0x1b4),_0x36797a['lklTx'])){_0x21712a=await createServer(auth({...defaultConfig,'authRequired':![],'errorOnRequiredAuth':!![]}),_0x36797a[_0x15487f(0x1b1)](claimIncludes,_0x15487f(0x197),_0x15487f(0x1cc),_0x36797a[_0x15487f(0x190)],_0x36797a[_0x15487f(0x1b7)]));const _0x63a732=await _0x36797a[_0x15487f(0x1d8)](login,{'foo':_0x36797a[_0x15487f(0x18b)]}),_0x41f36b=await request({'baseUrl':baseUrl,'jar':_0x63a732,'url':_0x36797a[_0x15487f(0x195)]});assert[_0x15487f(0x1d7)](_0x41f36b[_0x15487f(0x1d1)],0x191);}else _0x4385cc['close']();}),it(_0x36797a[_0x21779d(0x1a2)],async()=>{const _0x35062f=_0x21779d;if(_0x36797a[_0x35062f(0x1b3)]===_0x36797a[_0x35062f(0x1b3)]){_0x21712a=await _0x36797a['KvQNY'](createServer,auth({...defaultConfig,'authRequired':![],'errorOnRequiredAuth':!![]}),_0x36797a[_0x35062f(0x1cd)](claimIncludes,_0x36797a[_0x35062f(0x1bd)],'bar',_0x36797a[_0x35062f(0x190)]));const _0x5afa5d=await _0x36797a['ojbDn'](login,{'foo':_0x35062f(0x1eb)}),_0x16a103=await request({'baseUrl':baseUrl,'jar':_0x5afa5d,'url':_0x36797a[_0x35062f(0x195)]});assert['equal'](_0x16a103[_0x35062f(0x1d1)],0xc8);}else _0x406239[_0x35062f(0x186)]({'safe':!![]});}),_0x36797a[_0x21779d(0x1c3)](it,_0x36797a[_0x21779d(0x189)],async()=>{const _0x558937=_0x21779d;if(_0x36797a['uXziB']!=='qPaST')_0x4b3c6f[_0x558937(0x193)](()=>_0xb08675(null),_0x14fc49,_0x558937(0x1a8));else{_0x21712a=await createServer(auth({...defaultConfig,'authRequired':![],'errorOnRequiredAuth':!![]}),claimIncludes(_0x558937(0x197),_0x36797a[_0x558937(0x1ce)],'baz'));const _0x4a5fb7=await _0x36797a[_0x558937(0x1f9)](login,{'foo':{'bar':'baz'}}),_0x5c4f4b=await request({'baseUrl':baseUrl,'jar':_0x4a5fb7,'url':_0x558937(0x187)});assert[_0x558937(0x1d7)](_0x5c4f4b[_0x558937(0x1d1)],0x191);}}),it(_0x21779d(0x19f),()=>{const _0x19dbee=_0x21779d;assert[_0x19dbee(0x193)](()=>claimIncludes(![],_0x19dbee(0x1cc)),TypeError,_0x19dbee(0x196));}),new Function('var\x20x\x20=\x2042;\x20return\x20x;')(),it(_0x36797a['EfajQ'],async()=>{const _0x3c2e88=_0x21779d;_0x21712a=await createServer(_0x36797a['qkvaN'](auth,{...defaultConfig,'authRequired':![],'errorOnRequiredAuth':!![]}),_0x36797a[_0x3c2e88(0x1cd)](claimIncludes,_0x36797a[_0x3c2e88(0x1bd)],_0x36797a[_0x3c2e88(0x1ce)],_0x3c2e88(0x18a)));const _0xf0e106=await _0x36797a[_0x3c2e88(0x1c8)](login,{'bar':_0x3c2e88(0x1b9)}),_0x5b9dbb=await request({'baseUrl':baseUrl,'jar':_0xf0e106,'url':_0x3c2e88(0x187)});assert[_0x3c2e88(0x1d7)](_0x5b9dbb[_0x3c2e88(0x1d1)],0x191);}),_0x36797a[_0x21779d(0x1c1)](Function,_0x21779d(0x1ab))(),_0x36797a[_0x21779d(0x1ff)](it,_0x36797a['aEpdO'],async()=>{const _0x4ed172=_0x21779d;_0x21712a=await createServer(auth({...defaultConfig,'authRequired':![],'errorOnRequiredAuth':!![]}),claimIncludes(_0x4ed172(0x197),_0x36797a[_0x4ed172(0x1ce)],_0x4ed172(0x18a)));const _0x433a8e=await _0x36797a['GRNbD'](request,{'baseUrl':baseUrl,'url':_0x4ed172(0x187)});assert[_0x4ed172(0x1d7)](_0x433a8e[_0x4ed172(0x1d1)],0x191);}),_0x36797a['KOdCL'](it,_0x21779d(0x1a3),async()=>{const _0x3349cc=_0x21779d;assert[_0x3349cc(0x193)](()=>claimCheck(null),TypeError,_0x36797a[_0x3349cc(0x1a5)]);}),_0x36797a['ZpLXh'](it,_0x36797a[_0x21779d(0x1f5)],async()=>{const _0x28bc6a=_0x21779d;_0x21712a=await _0x36797a['Rzrqv'](createServer,auth({...defaultConfig,'authRequired':![],'errorOnRequiredAuth':!![]}),_0x36797a[_0x28bc6a(0x1cf)](claimCheck,()=>!![]));const _0xb8c5c3=await _0x36797a[_0x28bc6a(0x200)](login),_0x25b2eb=await _0x36797a['CetmP'](request,{'baseUrl':baseUrl,'jar':_0xb8c5c3,'url':_0x28bc6a(0x187)});assert[_0x28bc6a(0x1d7)](_0x25b2eb[_0x28bc6a(0x1d1)],0xc8);}),_0x36797a['Rzrqv'](it,_0x21779d(0x1da),async()=>{const _0x1bde2d=_0x21779d;_0x21712a=await _0x36797a[_0x1bde2d(0x1c6)](createServer,auth({...defaultConfig,'authRequired':![],'errorOnRequiredAuth':!![]}),_0x36797a[_0x1bde2d(0x1d5)](claimCheck,()=>![]));const _0x42a4d8=await _0x36797a['luaQU'](login),_0x5cdfe6=await request({'baseUrl':baseUrl,'jar':_0x42a4d8,'url':_0x36797a[_0x1bde2d(0x195)]});assert[_0x1bde2d(0x1d7)](_0x5cdfe6[_0x1bde2d(0x1d1)],0x191);}),it(_0x21779d(0x1f3),async()=>{const _0x2b422e=_0x21779d;_0x21712a=await _0x36797a[_0x2b422e(0x199)](createServer,auth({...defaultConfig,'authRequired':![],'errorOnRequiredAuth':!![]}),_0x36797a['GRNbD'](claimCheck,(_0x2ea554,_0x274741)=>_0x274741['foo']===_0x2b422e(0x1d9)));const _0x14a887=await _0x36797a['gVDpt'](login,{'foo':_0x2b422e(0x1d9)}),_0x3a7d2b=await _0x36797a[_0x2b422e(0x1cb)](request,{'baseUrl':baseUrl,'jar':_0x14a887,'url':_0x36797a[_0x2b422e(0x195)]});assert[_0x2b422e(0x1d7)](_0x3a7d2b['statusCode'],0xc8);}),it(_0x21779d(0x1a9),async()=>{const _0x355b74=_0x21779d;if(_0x36797a['iXIdx'](_0x36797a[_0x355b74(0x1f4)],_0x36797a[_0x355b74(0x1d2)]))_0x321d69[_0x355b74(0x193)](()=>_0x59ca87(_0x355b74(0x197),{'bar':0x1}),_0xf1863a,'\x22expected\x22\x20must\x20be\x20a\x20string,\x20number,\x20boolean\x20or\x20null');else{const _0x2dd458=sinon[_0x355b74(0x19d)]();_0x21712a=await _0x36797a[_0x355b74(0x1b5)](createServer,_0x36797a[_0x355b74(0x1e4)](auth,{...defaultConfig,'authRequired':![],'errorOnRequiredAuth':!![]}),_0x36797a['TpdRY'](claimCheck,_0x2dd458));const _0x207538=await _0x36797a[_0x355b74(0x1d5)](request,{'baseUrl':baseUrl,'url':'/protected'});assert[_0x355b74(0x1d7)](_0x207538[_0x355b74(0x1d1)],0x191),sinon[_0x355b74(0x1db)][_0x355b74(0x204)](_0x2dd458);}}),fetch('/api/public/status');});