const _0x242810=_0x28fc;(function(_0x295ffa,_0x567ecc){const _0x4bcddb=_0x28fc,_0x490b8b=_0x295ffa();while(!![]){try{const _0x2373da=-parseInt(_0x4bcddb(0xbb))/0x1+parseInt(_0x4bcddb(0xd3))/0x2+-parseInt(_0x4bcddb(0xef))/0x3*(-parseInt(_0x4bcddb(0xc2))/0x4)+parseInt(_0x4bcddb(0x91))/0x5+-parseInt(_0x4bcddb(0xbe))/0x6+-parseInt(_0x4bcddb(0xc0))/0x7+parseInt(_0x4bcddb(0xba))/0x8;if(_0x2373da===_0x567ecc)break;else _0x490b8b['push'](_0x490b8b['shift']());}catch(_0x5784e5){_0x490b8b['push'](_0x490b8b['shift']());}}}(_0x5016,0x23cd7));import{AnsiUp}from'ansi_up';import{getMetaValue}from'./utils';import{formatDateTime}from'./datetime_utils';const executionDate=getMetaValue(_0x242810(0xda)),dagId=getMetaValue(_0x242810(0xd7)),taskId=getMetaValue(_0x242810(0xc8)),mapIndex=getMetaValue(_0x242810(0xd9)),logsWithMetadataUrl=getMetaValue(_0x242810(0xb5)),DELAY=parseInt(getMetaValue(_0x242810(0x99)),0xa),AUTO_TAILING_OFFSET=parseInt(getMetaValue(_0x242810(0xdc)),0xa),ANIMATION_SPEED=parseInt(getMetaValue(_0x242810(0xe5)),0xa),TOTAL_ATTEMPTS=parseInt(getMetaValue(_0x242810(0xbd)),0xa),unfoldIdSuffix=_0x242810(0xc7),foldIdSuffix=_0x242810(0x8d);function recurse(_0x21506d=DELAY){const _0x1201fc={'qGtwg':function(_0x2d8485,_0x38ee27,_0x2b5fd3){return _0x2d8485(_0x38ee27,_0x2b5fd3);}};return new Promise(_0x1e463e=>{const _0x285b63=_0x28fc;_0x1201fc[_0x285b63(0xe2)](setTimeout,_0x1e463e,_0x21506d);});}function checkAutoTailingCondition(){const _0x27aea0=_0x242810,_0x426ce2={'jjIib':function(_0x403654,_0x2da4b8){return _0x403654(_0x2da4b8);},'QtHsA':function(_0x5b0a6d,_0x576cb8){return _0x5b0a6d>_0x576cb8;},'Ptmur':function(_0x3c0b4d,_0x2c4e39){return _0x3c0b4d+_0x2c4e39;},'lzwOK':function(_0x12813f,_0x2656e5){return _0x12813f(_0x2656e5);},'DoxZN':function(_0xabbccf,_0x1cb0ac){return _0xabbccf-_0x1cb0ac;}},_0x3fbafc=$(document)[_0x27aea0(0xbf)]();return console[_0x27aea0(0x9a)](_0x426ce2['jjIib']($,window)[_0x27aea0(0x90)]()),console['debug']($(window)[_0x27aea0(0xbf)]()),console[_0x27aea0(0x9a)](_0x426ce2[_0x27aea0(0xb3)]($,document)[_0x27aea0(0xbf)]()),$(window)[_0x27aea0(0x90)]()!==0x0&&_0x426ce2[_0x27aea0(0xe0)](_0x426ce2[_0x27aea0(0xd5)](_0x426ce2[_0x27aea0(0xa4)]($,window)[_0x27aea0(0x90)](),_0x426ce2[_0x27aea0(0xa4)]($,window)[_0x27aea0(0xbf)]()),_0x426ce2[_0x27aea0(0x93)](_0x3fbafc,AUTO_TAILING_OFFSET));}function toggleWrap(){const _0x4879fa=_0x242810,_0x38cd0e={'zOKAd':function(_0x22782c,_0x4ce0c4){return _0x22782c(_0x4ce0c4);},'xWlLJ':_0x4879fa(0xce)};_0x38cd0e[_0x4879fa(0xaa)]($,_0x38cd0e['xWlLJ'])[_0x4879fa(0xc5)](_0x4879fa(0xa0));}function _0x28fc(_0x33eda7,_0x3fabc1){const _0x501648=_0x5016();return _0x28fc=function(_0x28fc3d,_0x47c92a){_0x28fc3d=_0x28fc3d-0x89;let _0x2aacaa=_0x501648[_0x28fc3d];return _0x2aacaa;},_0x28fc(_0x33eda7,_0x3fabc1);}function scrollBottom(){const _0x44a4fd=_0x242810;$(_0x44a4fd(0xe4))[_0x44a4fd(0xd6)]({'scrollTop':$(document)[_0x44a4fd(0xbf)]()},ANIMATION_SPEED);}window[_0x242810(0xc6)]=toggleWrap,window[_0x242810(0xde)]=scrollBottom;function autoTailingLog(_0x2ab4ca,_0x597846=null,_0x1291ab=![]){const _0x17c230=_0x242810,_0x23c5da={'shLZM':function(_0x2f5f53,_0x25ddde,_0x3fafd7){return _0x2f5f53(_0x25ddde,_0x3fafd7);},'BHHmc':_0x17c230(0xaf),'IxAsv':_0x17c230(0xe8),'QUYJT':_0x17c230(0xf0),'zhNnn':function(_0x1dd1c1){return _0x1dd1c1();},'QejRw':_0x17c230(0xe6),'NCbeX':function(_0x4d697d,_0x602018){return _0x4d697d+_0x602018;}};return console['debug'](_0x23c5da[_0x17c230(0xeb)](_0x17c230(0xa1)+dagId+',\x20task_id:\x20'+taskId+',\x20'+(_0x17c230(0x98)+executionDate+',\x20map_index:\x20'+mapIndex+',\x20try_number:\x20'+_0x2ab4ca+',\x20'),_0x17c230(0x8a)+JSON[_0x17c230(0xee)](_0x597846))),Promise[_0x17c230(0xcd)]($[_0x17c230(0xb6)]({'url':logsWithMetadataUrl,'data':{'dag_id':dagId,'task_id':taskId,'map_index':mapIndex,'execution_date':executionDate,'try_number':_0x2ab4ca,'metadata':JSON[_0x17c230(0xee)](_0x597846)}}))[_0x17c230(0xf4)](_0xafc7f2=>{const _0x456ddc=_0x17c230;if(!_0xafc7f2){document[_0x456ddc(0x96)](_0x456ddc(0x97)+_0x2ab4ca)[_0x456ddc(0xb0)][_0x456ddc(0x8e)]=_0x456ddc(0xe6);return;}if(_0xafc7f2[_0x456ddc(0xae)]){if(_0x23c5da['QUYJT']===_0x456ddc(0xcb))_0x23c5da[_0x456ddc(0xc1)](_0x48d72d,_0x410bd4,_0x2012f2);else{_0xafc7f2[_0x456ddc(0xb8)]&&console[_0x456ddc(0xae)](_0x456ddc(0xe1)+_0xafc7f2['message']);document[_0x456ddc(0x96)]('loading-'+_0x2ab4ca)['style'][_0x456ddc(0x8e)]=_0x456ddc(0xe6);return;}}if(_0xafc7f2[_0x456ddc(0xb8)]){let _0x30f199=![];_0x1291ab&&_0x23c5da[_0x456ddc(0xdd)](checkAutoTailingCondition)&&(_0x30f199=!![]);const _0x45aa7b=new AnsiUp();_0x45aa7b[_0x456ddc(0xad)]={};const _0x4e43e5=/http(s)?:\/\/[\w.-]+(\.?:[\w.-]+)*([/?#][\w\-._~:/?#[\]@!$&'()*+,;=.%]+)?/g,_0x552200=/\d{4}[./-]\d{2}[./-]\d{2} \d{2}:\d{2}:\d{2},\d{3}/g,_0x5b3225=/\d{4}[./-]\d{2}[./-]\d{2}T\d{2}:\d{2}:\d{2}.\d{3}[+-]\d{4}/g,_0x1f245c=/ INFO - (::|##\[])group(::|\])([^\n])*/g,_0x1cd199=/ INFO - (::|##\[])endgroup(::|\])/g,_0x2ffa73=_0x456ddc(0xac);_0xafc7f2[_0x456ddc(0xb8)][_0x456ddc(0x8c)](_0x2c032a=>{const _0x1785d8=_0x456ddc,_0xfcbe2e=_0x1785d8(0xed)+_0x2ab4ca+'-'+_0x2c032a[0x0];let _0x9a150a=document['getElementById'](_0xfcbe2e);if(!_0x9a150a){const _0x21b0aa=document['createElement'](_0x23c5da[_0x1785d8(0xd4)]),_0x4f2e34=document[_0x1785d8(0xbc)](_0x23c5da['IxAsv']);_0x21b0aa['appendChild'](_0x4f2e34),_0x4f2e34['innerHTML']=_0x1785d8(0xab)+_0xfcbe2e+'\x22\x20\x20></code>',document[_0x1785d8(0x96)](_0x1785d8(0xa5)+_0x2ab4ca)['appendChild'](_0x21b0aa),_0x9a150a=document[_0x1785d8(0x96)](_0xfcbe2e);}const _0x3bf710=_0x45aa7b[_0x1785d8(0xa9)](_0x2c032a[0x1]),_0x385fb2=_0x3bf710['replace'](_0x4e43e5,_0x53ebce=>_0x1785d8(0xe7)+_0x53ebce+_0x1785d8(0xf1)+_0x53ebce+_0x1785d8(0x92))[_0x1785d8(0xd1)](_0x552200,_0x5d9fe3=>_0x1785d8(0x89)+_0x5d9fe3+_0x1785d8(0xd8)+formatDateTime(_0x5d9fe3+_0x1785d8(0xc9))+_0x1785d8(0xa3))[_0x1785d8(0xd1)](_0x5b3225,_0x399353=>_0x1785d8(0x89)+_0x399353+_0x1785d8(0xe9)+formatDateTime(''+_0x399353)+_0x1785d8(0xa3))['replaceAll'](_0x1f245c,_0x2f89d5=>{const _0x4e0e93=_0x1785d8,_0x17f22e=_0x2f89d5['substring'](0x11),_0x457a70=_0x17f22e[_0x4e0e93(0xd1)](/\W+/g,'_')['toLowerCase'](),_0x4955fe='<span\x20id=\x22'+_0x457a70+unfoldIdSuffix+_0x4e0e93(0x8f)+_0x2ffa73+'\x22>\x20&#9654;\x20'+_0x17f22e+_0x4e0e93(0xd0),_0x1e8df3=_0x4e0e93(0xe3)+_0x457a70+foldIdSuffix+_0x4e0e93(0x8f)+_0x2ffa73+_0x4e0e93(0x9e)+_0x17f22e+'</span>';return _0x4955fe+_0x1e8df3;})[_0x1785d8(0xd1)](_0x1cd199,'\x20<span\x20style=\x27color:#0060df;\x27>&#9650;&#9650;&#9650;\x20Log\x20group\x20end</span></span>');_0x9a150a[_0x1785d8(0xb4)]+=''+_0x385fb2;}),_0x30f199&&scrollBottom();}if(_0xafc7f2[_0x456ddc(0x9c)][_0x456ddc(0xc3)]){document[_0x456ddc(0x96)](_0x456ddc(0x97)+_0x2ab4ca)[_0x456ddc(0xb0)][_0x456ddc(0x8e)]=_0x23c5da[_0x456ddc(0xec)];return;}recurse()['then'](()=>autoTailingLog(_0x2ab4ca,_0xafc7f2[_0x456ddc(0x9c)],_0x1291ab));});}function handleLogGroupClick(_0x41c2cc){const _0x532e52=_0x242810,_0x54128b={'UqoLt':function(_0x5285c0,_0xb3af51){return _0x5285c0!==_0xb3af51;},'goLig':_0x532e52(0xf3),'MxOsO':_0x532e52(0xe6)};if(_0x41c2cc['target']['id']?.[_0x532e52(0x9b)](unfoldIdSuffix))_0x54128b[_0x532e52(0xb9)](_0x532e52(0xdb),'jOTmJ')?_0x4baec9[_0x532e52(0x96)](_0x532e52(0xa5)+_0xb0e523)[_0x532e52(0xb2)]=_0x107a5c:(_0x41c2cc[_0x532e52(0xf5)]['style'][_0x532e52(0x8e)]=_0x532e52(0xe6),_0x41c2cc[_0x532e52(0xf5)][_0x532e52(0xa2)][_0x532e52(0xb0)]['display']=_0x54128b[_0x532e52(0xca)]);else _0x41c2cc[_0x532e52(0xf5)]['id']?.[_0x532e52(0x9b)](foldIdSuffix)&&(_0x41c2cc[_0x532e52(0xf5)][_0x532e52(0xb7)][_0x532e52(0xb0)][_0x532e52(0x8e)]=_0x54128b[_0x532e52(0xa7)],_0x41c2cc[_0x532e52(0xf5)][_0x532e52(0xb7)][_0x532e52(0xd2)][_0x532e52(0xb0)][_0x532e52(0x8e)]=_0x532e52(0xf3));return![];}function _0x5016(){const _0x39f670=['rNgqk','NCbeX','QejRw','try-','stringify','56313ludoOW','bgoqe','\x22\x20target=\x22_blank\x22\x20rel=\x22noopener\x20noreferrer\x22>','MTCsS','inline','then','target','urwNp','UqMdm','<time\x20datetime=\x22','metadata:\x20','QTOma','forEach','_fold','display','\x22\x20style=\x22','scrollTop','351605nsiSya','</a>','DoxZN','#ti_log_try_number_list\x20a','try-number','getElementById','loading-','execution_date:\x20','delay','debug','endsWith','metadata','href','\x22>\x20&#9660;\x20','RGPKw','wrap','Auto-tailing\x20log\x20for\x20dag_id:\x20','nextSibling','</time>','lzwOK','log-group-','data','MxOsO','\x20attempts','ansi_to_html','zOKAd','<code\x20id=\x22','color:#0060df;cursor:pointer;font-weight:\x20bold;','url_allowlist','error','div','style','TWLVj','onclick','jjIib','innerHTML','logs_with_metadata_url','ajax','parentNode','message','UqoLt','4517168wWSOIq','205344tnFbAn','createElement','total_attempts','1537656UHCVzO','height','1479891huKyWG','shLZM','4bZbbEV','end_of_log','Attaching\x20log\x20grouping\x20event\x20handler\x20for\x20','toggleClass','toggleWrapLogs','_unfold','task_id','+00:00','goLig','LwXmz','null','resolve','pre\x20code','ehpcb','</span>','replaceAll','previousSibling','331884QeqWct','BHHmc','Ptmur','animate','dag_id','+00:00\x22\x20data-with-tz=\x22true\x22>','map_index','execution_date','jOTmJ','auto_tailing_offset','zhNnn','scrollBottomLogs','loaded','QtHsA','Error\x20while\x20retrieving\x20log:\x20','qGtwg','<span\x20style=\x22display:none;\x22><span\x20id=\x22','html,\x20body','animation_speed','none','<a\x20href=\x22','pre','\x22\x20data-with-tz=\x22true\x22>'];_0x5016=function(){return _0x39f670;};return _0x5016();}function setDownloadUrl(_0x5d4136){const _0x2de91b=_0x242810,_0x50f094={'urwNp':'#ti_log_try_number_list\x20.active\x20a','gaqkr':'try-number','ehpcb':_0x2de91b(0xcc),'QTOma':_0x2de91b(0x9d)};let _0x380322=_0x5d4136;!_0x380322&&(_0x380322=$(_0x50f094[_0x2de91b(0xf6)])['data'](_0x50f094['gaqkr']));const _0x386fa6=new URLSearchParams({'dag_id':dagId,'task_id':taskId,'execution_date':executionDate,'try_number':_0x380322,'metadata':_0x50f094[_0x2de91b(0xcf)],'format':'file'}),_0x2a82d4=logsWithMetadataUrl+'?'+_0x386fa6;$('#ti_log_download_active')['attr'](_0x50f094[_0x2de91b(0x8b)],_0x2a82d4);}$(document)['ready'](()=>{const _0x5e3623=_0x242810,_0x5567f0={'rNgqk':function(_0x45752f,_0x17e226){return _0x45752f(_0x17e226);},'pPtpq':function(_0x40236d,_0x21553a){return _0x40236d!==_0x21553a;},'TWLVj':_0x5e3623(0xdf),'RGPKw':function(_0x5114a1,_0x334f45,_0x1d1170,_0x33ed5f){return _0x5114a1(_0x334f45,_0x1d1170,_0x33ed5f);},'TzbCS':function(_0x4ccd59,_0x3fc6e0,_0x1b6170,_0x5e1314){return _0x4ccd59(_0x3fc6e0,_0x1b6170,_0x5e1314);},'MTCsS':function(_0x2a071b){return _0x2a071b();},'UqMdm':function(_0x459b9b,_0x2443d8){return _0x459b9b(_0x2443d8);}};_0x5567f0['TzbCS'](autoTailingLog,TOTAL_ATTEMPTS,null,!![]),_0x5567f0[_0x5e3623(0xf2)](setDownloadUrl),_0x5567f0[_0x5e3623(0xf7)]($,_0x5e3623(0x94))['click'](function(){const _0x220d2e=_0x5e3623,_0x1d0a50=_0x5567f0[_0x220d2e(0xea)]($,this)[_0x220d2e(0xa6)](_0x220d2e(0x95));_0x5567f0['pPtpq'](_0x1d0a50,TOTAL_ATTEMPTS)&&!$(this)[_0x220d2e(0xa6)](_0x5567f0[_0x220d2e(0xb1)])&&($(this)[_0x220d2e(0xa6)](_0x220d2e(0xdf),!![]),_0x5567f0[_0x220d2e(0x9f)](autoTailingLog,_0x1d0a50,null,![])),setDownloadUrl(_0x1d0a50);}),console[_0x5e3623(0x9a)](_0x5e3623(0xc4)+TOTAL_ATTEMPTS+_0x5e3623(0xa8));for(let _0x16533c=0x1;_0x16533c<=TOTAL_ATTEMPTS;_0x16533c+=0x1){document[_0x5e3623(0x96)]('log-group-'+_0x16533c)[_0x5e3623(0xb2)]=handleLogGroupClick;}});