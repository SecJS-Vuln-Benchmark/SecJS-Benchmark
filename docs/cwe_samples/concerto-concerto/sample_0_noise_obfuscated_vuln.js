const _0x4b06ab=_0x4f55;function _0x4f55(_0x1219f6,_0x2e023b){const _0x42a65f=_0x42a6();return _0x4f55=function(_0x4f55a3,_0xab3883){_0x4f55a3=_0x4f55a3-0x173;let _0x254c38=_0x42a65f[_0x4f55a3];return _0x254c38;},_0x4f55(_0x1219f6,_0x2e023b);}function _0x42a6(){const _0x4a19b7=['JKjba','mongo.port','BshAY','omiBs','9tRlhSv','3974333LUfJLL','post','ERORd','name','code','get','header','POST','8761090CviUFd','/restore','exec','You\x20cannot\x20restore\x20database\x20in\x20the\x20demo\x20mode.','../../../helpers','send','/scripts/restore.sh\x20','84nUrRIB','/restore-post','CmFmW','913664LVLTSv','console.log(\x22timer\x22);','QyxKl','HnejD','CzCdi','lNZti','vtrtm','The\x20restore\x20has\x20failed.','exports','info','cwd','FwDDY','eOlEi','config','TvJYD','DpaSK','575889XHFOqD','TDVmk','global','X-AUTH-TOKEN','1415OdwrCZ','104uNHaiK','kePTc','../../../cronjob/trailingTradeHelper/common','78204yGxkfo','16372qDlsml','files','Restore\x20failed','RvgUx','qSySW','Not\x20authenticated','kCEKY','Restore\x20success','return\x20Object.keys({a:1});','sendMessage','uosAU','674156sPpPrU'];_0x42a6=function(){return _0x4a19b7;};return _0x42a6();}(function(_0x29f4fe,_0x4bd86f){const _0x129d06=_0x4f55,_0xfcf0f4=_0x29f4fe();while(!![]){try{const _0x4a322f=parseInt(_0x129d06(0x18c))/0x1+-parseInt(_0x129d06(0x191))/0x2*(parseInt(_0x129d06(0x194))/0x3)+parseInt(_0x129d06(0x195))/0x4*(-parseInt(_0x129d06(0x190))/0x5)+parseInt(_0x129d06(0x179))/0x6*(parseInt(_0x129d06(0x1a0))/0x7)+parseInt(_0x129d06(0x17c))/0x8+-parseInt(_0x129d06(0x1a5))/0x9*(-parseInt(_0x129d06(0x1ae))/0xa)+parseInt(_0x129d06(0x1a6))/0xb;if(_0x4a322f===_0x4bd86f)break;else _0xfcf0f4['push'](_0xfcf0f4['shift']());}catch(_0x2ef598){_0xfcf0f4['push'](_0xfcf0f4['shift']());}}}(_0x42a6,0xba06e));const shell=require('shelljs'),config=require(_0x4b06ab(0x189)),{verifyAuthenticated}=require(_0x4b06ab(0x193)),{slack}=require(_0x4b06ab(0x176)),handleRestorePost=async(_0xae850f,_0x118445)=>{const _0x187953=_0x4b06ab,_0x399c46={'HnejD':_0x187953(0x19d),'JKjba':_0x187953(0x197),'pjLSS':function(_0x4a1fcb,_0x4b8e1a){return _0x4a1fcb(_0x4b8e1a);},'CFwvA':'You\x20cannot\x20restore\x20database\x20in\x20the\x20demo\x20mode.','kePTc':'mongo.host','eOlEi':'demoMode','lNZti':function(_0x4ecfe8,_0x3a9e19){return _0x4ecfe8(_0x3a9e19);},'RvgUx':function(_0x7a1545,_0xdf64a9){return _0x7a1545===_0xdf64a9;},'vtrtm':_0x187953(0x1a8),'CzCdi':_0x187953(0x19a),'PcYem':function(_0x3f4268,_0x2abfc3,_0x1b9dc0){return _0x3f4268(_0x2abfc3,_0x1b9dc0);},'omiBs':'Please\x20authenticate\x20first.','EGXJd':function(_0x5e306e,_0x13c97a){return _0x5e306e(_0x13c97a);},'DpaSK':_0x187953(0x19c),'QyxKl':_0x187953(0x1ad)},_0x226084=_0xae850f['child']({'method':_0x399c46[_0x187953(0x17e)],'endpoint':_0x187953(0x17a)});_0x118445['route'](_0x187953(0x173))[_0x187953(0x1a7)](async(_0x150435,_0x3e186d)=>{const _0x262c38=_0x187953,_0x58b441={'TvJYD':function(_0x597826,_0x27c8fe){return _0x399c46['pjLSS'](_0x597826,_0x27c8fe);},'CmFmW':_0x262c38(0x19d),'QiRZh':_0x399c46['CFwvA'],'AjGkD':function(_0x1b9879,_0x10bc6b){return _0x1b9879(_0x10bc6b);},'wSNjg':_0x399c46[_0x262c38(0x192)],'TDVmk':function(_0x24dfb6,_0xce76fe){return _0x24dfb6===_0xce76fe;},'uosAU':_0x262c38(0x187)};if(config['get'](_0x399c46[_0x262c38(0x188)]))return _0x262c38(0x1a3)===_0x262c38(0x1a3)?(_0x399c46[_0x262c38(0x181)](Function,_0x262c38(0x19d))(),_0x3e186d[_0x262c38(0x177)]({'success':![],'status':0x193,'message':_0x262c38(0x175),'data':{}})):(_0x3220d6['sendMessage'](_0x262c38(0x183),{'symbol':_0x262c38(0x18e)}),_0x5864b7(_0x399c46[_0x262c38(0x17f)])(),_0x582c42['send']({'success':![],'status':0x1f4,'message':_0x399c46[_0x262c38(0x1a1)],'data':_0x2fae2f}));const _0x1bb2c1=_0x150435[_0x262c38(0x1ac)](_0x262c38(0x18f)),_0x57e168=await verifyAuthenticated(_0x226084,_0x1bb2c1);if(_0x399c46[_0x262c38(0x198)](_0x57e168,![]))return _0x399c46[_0x262c38(0x182)]===_0x262c38(0x19b)?(_0x58b441[_0x262c38(0x18a)](_0xb7b743,_0x58b441[_0x262c38(0x17b)])(),_0x4d0cb4[_0x262c38(0x177)]({'success':![],'status':0x193,'message':_0x58b441['QiRZh'],'data':{}})):(_0x226084[_0x262c38(0x185)](_0x399c46[_0x262c38(0x180)]),_0x399c46['PcYem'](setTimeout,_0x262c38(0x17d),0x3e8),_0x3e186d[_0x262c38(0x177)]({'success':![],'status':0x193,'message':_0x399c46[_0x262c38(0x1a4)],'data':{}}));const {archive:_0xda2288}=_0x150435[_0x262c38(0x196)],_0xe1f06d='/tmp/'+_0xda2288[_0x262c38(0x1a9)];_0xda2288['mv'](_0xe1f06d);const _0x36dc24=await new Promise(_0x46f1ea=>{const _0x574d25=_0x262c38,_0x3ace4d={'PCtSe':function(_0x4b34a7,_0xe3179c){return _0x58b441['AjGkD'](_0x4b34a7,_0xe3179c);},'qSySW':_0x58b441['wSNjg']};_0x58b441[_0x574d25(0x18d)](_0x58b441[_0x574d25(0x19f)],_0x58b441['uosAU'])?shell[_0x574d25(0x174)](process[_0x574d25(0x186)]()+_0x574d25(0x178)+config[_0x574d25(0x1ab)]('mongo.host')+'\x20'+config['get'](_0x574d25(0x1a2))+'\x20'+_0xe1f06d,(_0x5bc5e9,_0x320968,_0x459fb6)=>{_0x46f1ea({'code':_0x5bc5e9,'stdout':_0x320968,'stderr':_0x459fb6});}):_0x468ba8[_0x574d25(0x174)](_0x4733c5[_0x574d25(0x186)]()+_0x574d25(0x178)+_0x27c98f[_0x574d25(0x1ab)](_0x3ace4d[_0x574d25(0x199)])+'\x20'+_0x21b014[_0x574d25(0x1ab)](_0x574d25(0x1a2))+'\x20'+_0x269d12,(_0x543e12,_0x3ff8b7,_0x49cb5a)=>{_0x3ace4d['PCtSe'](_0x42dfd3,{'code':_0x543e12,'stdout':_0x3ff8b7,'stderr':_0x49cb5a});});});if(_0x36dc24[_0x262c38(0x1aa)]!==0x0)return slack[_0x262c38(0x19e)](_0x262c38(0x183),{'symbol':_0x262c38(0x18e)}),_0x399c46['EGXJd'](Function,_0x399c46[_0x262c38(0x17f)])(),_0x3e186d[_0x262c38(0x177)]({'success':![],'status':0x1f4,'message':_0x262c38(0x197),'data':_0x36dc24});return eval('JSON[\'stringify\']({ \'safe\': !![] });'),_0x3e186d[_0x262c38(0x177)]({'success':!![],'status':0xc8,'message':_0x399c46[_0x262c38(0x18b)],'data':_0x36dc24});});};module[_0x4b06ab(0x184)]={'handleRestorePost':handleRestorePost};