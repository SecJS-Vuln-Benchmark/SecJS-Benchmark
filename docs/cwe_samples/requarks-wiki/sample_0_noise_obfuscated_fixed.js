var _0x104531=_0x43a5;(function(_0x38a58b,_0x28d085){var _0x299c78=_0x43a5,_0x13007f=_0x38a58b();while(!![]){try{var _0x2cdd16=-parseInt(_0x299c78(0x1f9))/0x1+parseInt(_0x299c78(0x28b))/0x2*(-parseInt(_0x299c78(0x22b))/0x3)+-parseInt(_0x299c78(0x22d))/0x4*(-parseInt(_0x299c78(0x258))/0x5)+parseInt(_0x299c78(0x2e7))/0x6*(-parseInt(_0x299c78(0x26a))/0x7)+-parseInt(_0x299c78(0x1fa))/0x8+-parseInt(_0x299c78(0x1e1))/0x9*(parseInt(_0x299c78(0x2fa))/0xa)+parseInt(_0x299c78(0x1cf))/0xb;if(_0x2cdd16===_0x28d085)break;else _0x13007f['push'](_0x13007f['shift']());}catch(_0x32bbab){_0x13007f['push'](_0x13007f['shift']());}}}(_0x3414,0x84822));function _0x43a5(_0x3fb285,_0x3df5e6){var _0x34149b=_0x3414();return _0x43a5=function(_0x43a554,_0x6d1d7f){_0x43a554=_0x43a554-0x1ba;var _0x2004fd=_0x34149b[_0x43a554];return _0x2004fd;},_0x43a5(_0x3fb285,_0x3df5e6);}var assert=require(_0x104531(0x329));function _0x3414(){var _0x599bc9=['LpoTA','<a\x20href=\x22test.html\x22>test</a>','should\x20accept\x20a\x20custom\x20list\x20of\x20allowed\x20tags','cwNSg','WjzhN','<a\x20href=\x22javaï¿½script:alert(\x27foo\x27)\x22>Hax</a>','nzKkv','bBjFs','<p\x20style=\x22text-align:\x20center;\x22>Text</p>','<ol\x20foo=\x22foo\x22\x20bar=\x22bar\x22\x20baz=\x22baz\x22><li>Hello\x20world</li></ol>','HaggI','should\x20dump\x20comments','MMfww','gWnaS','3231lMgbvr','should\x20not\x20unescape\x20escapes\x20found\x20inside\x20script\x20tags','Blah\x20blah\x20blah<p>Whee!</p>','qQfuy','VenZU','BcDLA','XbijM','bEWOM','should\x20preserve\x20entities\x20as\x20such','KrNss','target','MovHt','MotSn','NBPur','strictEqual','should\x20correctly\x20maintain\x20escaping\x20when\x20allowing\x20a\x20nonTextTags\x20tag\x20other\x20than\x20script\x20or\x20style','vfKWB','<a\x20href=\x22JAVASCRIPT:alert(\x27foo\x27)\x22>Hax</a>','ltGsi','defaults','FTVGs','wtVLd','rKnYS','MneJN','869890KzmCmM','559976gcrGFu','<p\x20class=\x22\x22>whee</p>','<a\x20href=\x22http://somelink\x22>some_text_need&quot;to&lt;be&gt;filtered</a>','QxQJY','DMcCQ','fiqrI','HwKkZ','LzTnP','<ul\x20class=\x22foo\x22><li>Hello\x20world</li></ul>','<ul\x20foo=\x22foo\x22\x20bar=\x22bar\x22\x20class=\x22foo\x22><li>Hello\x20world</li></ul>','<img\x20src=\x22data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\x22\x20/><a\x20href=\x22https://www.example.com\x22></a>','bjyYP','oYQWJ','<a\x20href=\x22java\x00&#14;\x09\x0d\x0a\x20script:alert(\x27foo\x27)\x22>Hax</a>','iznRR','lqKVS','AAMfz','aoSgm','hWNfu','MDsWU','oAodd','<p><a\x20href=\x22http://www.linux.org\x22><br/></a></p>','wwrDA','hMlUo','<a\x20href=\x22http://google.com\x22>google</a><a\x20href=\x22https://google.com\x22>https\x20google</a><a\x20href=\x22ftp://example.com\x22>ftp</a><a\x20href=\x22mailto:test@test.com\x22>mailto</a><a\x20href=\x22/relative.html\x22>relative</a><a>javascript</a>','should\x20allow\x20transform\x20on\x20all\x20tags\x20using\x20\x27*\x27','should\x20replace\x20text\x20and\x20attributes\x20when\x20they\x20are\x20changed\x20by\x20transforming\x20function\x20and\x20textFilter\x20is\x20set','UOvBU','should\x20retain\x20allowed\x20tags\x20within\x20a\x20fibble\x20element\x20if\x20fibble\x20is\x20not\x20specified\x20for\x20nonTextTags','JWJbo','xgSAN','KceVi','Ni<em>f</em>ty<p>Paragraph</p>','HqzKg','data-*','vUvvF','style','HPNMA','ZXXtR','aNpSk','<p>124</p>','p,\x20a,\x20br','<a\x20name=\x22&lt;silly&gt;\x22>&lt;Kapow!&gt;</a>','stringify','ypnCW','qKIHx','vvccX','<ul\x20class=\x22foo\x22\x20bar=\x22bar\x22><li>Hello\x20world</li></ul>','UxOKh','597DXlqPc','BpALB','900136SBhFvM','njZxC','should\x20still\x20like\x20nice\x20relative\x20URLs','eSFuj','yPSwE','<a\x20href=\x22java<!--\x20-->script:alert(\x27foo\x27)\x22>Hax</a>','should\x20not\x20act\x20weird\x20when\x20the\x20class\x20attribute\x20is\x20empty','qNPTF','dBHOu','nJTug','Mzbpu','Dehap','&lt;img\x20src=&quot;javascript:evil&quot;/&gt;','<textarea>Nifty</textarea><p>Paragraph</p>','MxtTT','SrXmG','MykSJ','script','<a\x20href=\x22java&#0000000script:alert(\x27foo\x27)\x22>Hax</a>','ECqKl','should\x20drop\x20the\x20content\x20of\x20style\x20elements','tufZp','qiRgr','DWheF','HuVir','ZLLLV','<a\x20href=\x22foo.html\x22>foo</a>','Llnth','<a\x20href=\x22http://google.com\x22>google</a><a\x20href=\x22https://google.com\x22>https\x20google</a><a\x20href=\x22ftp://example.com\x22>ftp</a><a\x20href=\x22mailto:test@test.com\x22>mailto</a><a\x20href=\x22/relative.html\x22>relative</a><a\x20href=\x22javascript:alert(0)\x22>javascript</a>','../index.js','blah','OZKTI','SQRQz','oomGl','should\x20not\x20crash\x20on\x20bad\x20markup','should\x20drop\x20the\x20content\x20of\x20textarea\x20elements\x20but\x20keep\x20the\x20closing\x20parent\x20tag,\x20when\x20nested','<<img\x20src=\x22javascript:evil\x22/>img\x20src=\x22javascript:evil\x22/>','KENld','dPxSX','<p>Paragraph<textarea>Nifty</textarea></p>','tpNaK','JuVcz','<p\x20class=\x22nifty\x22>whee</p>','5hqvKaV','CrtJc','replace','IZONR','eUErD','eduFq','&quot;normal\x20text&quot;','<p\x20class=\x22nifty\x20simple\x20dippy\x22>whee</p>','img','nsNDI','return\x20new\x20Date();','should\x20discard\x20the\x20content\x20of\x20fibble\x20elements\x20if\x20specified\x20for\x20nonTextTags','YUucM','simpleTransform','http','TqOPu','should\x20filter\x20if\x20exclusive\x20filter\x20does\x20match\x20after\x20transforming\x20tags','QjQvX','18039PcVARk','Rtrdr','iTWUN','<div><p>Hello\x20<b>there</b></p></div>','RZPwQ','should\x20disallow\x20data\x20URLs\x20with\x20default\x20allowedSchemes','updateClock();','should\x20clean\x20up\x20unclosed\x20img\x20tags\x20and\x20p\x20tags','IuiOV','oTttN','pKBYm','log','PxvNA','uTjuO','should\x20dump\x20a\x20javascript\x20URL\x20with\x20a\x20comment\x20in\x20the\x20middle\x20(probably\x20only\x20respected\x20by\x20browsers\x20in\x20XML\x20data\x20islands,\x20but\x20just\x20in\x20case\x20someone\x20enables\x20those)','data-*-foo','fibble','hGEvP','kFQBb','SKCrP','should\x20skip\x20an\x20empty\x20link','BQTuD','<blue><green>Cheese</green></blue>','aOtSc','cSmpO','wmwtL','ljJHZ','<p>This\x20is\x20<a\x20href=\x22http://www.linux.org\x22></a><br/>Linux</p>','TGAca','QRLnl','<p>Paragraph</p>','fTwtc','&quot;normal\x20text&quot;<style>body\x20{\x20background-image:\x20url(\x22image.test\x22);\x20}</style>','8518LUSFbY','cEHtC','MLSTI','ClBOw','gkLMR','WXGJU','some\x20text\x20need\x22to<be>filtered','<div><wiggly\x20worms=\x22ewww\x22>hello</wiggly></div>','text','concat','<a\x20href=\x22awesome.html#this:stuff\x22>Hi</a>','YudVP','var\x20x\x20=\x2042;\x20return\x20x;','<a\x20href=\x22hello.html\x22>Hi</a>','<<a\x20href=\x22javascript:evil\x22/>a\x20href=\x22javascript:evil\x22/>','<script>alert(\x22&quot;This\x20is\x20cool\x20but\x20just\x20ironically\x20so\x20I\x20quoted\x20it&quot;\x22)</script>','AjPAl','<ol><li>Hello\x20world</li></ol>','mtlTO','whizbang','nifty','<p><!--\x20Blah\x20blah\x20-->Whee</p>','wviog','I\x20love\x20<a\x20href=\x22www.linux.org\x22\x20target=\x22_hplink\x22>Linux</a>\x20OS','lQmEa','KrMbv','<a\x20href=\x22http://google.com/\x22>Hi</a>','qXSdd','fQzXn','MAVLi','console.log(\x22timer\x22);','<p>whee</p>','124','MfbdH','dwsQy','AcvGv','XyRmx','safe','should\x20accept\x20a\x20custom\x20list\x20of\x20allowed\x20attributes\x20per\x20element','EHcXe','gZagN','src','should\x20replace\x20ol\x20to\x20ul\x20and\x20replace\x20all\x20attributes\x20to\x20class\x20attribute\x20with\x20foo\x20value','should\x20dump\x20character\x20codes\x201-32\x20before\x20testing\x20scheme','NBrvj','<a\x20href=\x22http://google.com\x22>google</a><a\x20href=\x22HTTPS://google.com\x22>https\x20google</a><a\x20href=\x22ftp://example.com\x22>ftp</a><a\x20href=\x22mailto:test@test.com\x22>mailto</a><a\x20href=\x22/relative.html\x22>relative</a><a>javascript</a>','<a\x20data-target=\x22#test\x22\x20data-my-foo=\x22hello\x22>click\x20me</a>','data','FkFCV','should\x20not\x20crash\x20due\x20to\x20tag\x20names\x20that\x20are\x20properties\x20of\x20the\x20universal\x20Object\x20prototype','FfVWx','tag','VDtTS','aKqZm','BJCFk','should\x20discard\x20allowed\x20tags\x20within\x20a\x20fibble\x20element\x20if\x20fibble\x20is\x20specified\x20for\x20nonTextTags','blue','NqbCF','should\x20reject\x20attributes\x20not\x20whitelisted','PjGTx','oaRKW','Yvwix','xBpzi','should\x20not\x20allow\x20a\x20naked\x20=\x20sign\x20followed\x20by\x20an\x20unrelated\x20attribute\x20to\x20result\x20in\x20one\x20merged\x20attribute\x20with\x20unescaped\x20double\x20quote\x20marks','should\x20not\x20mess\x20up\x20a\x20hashcode\x20with\x20a\x20:\x20in\x20it','pLEGO','foTwz','FzlwE','avBJV','RDPKC','text-align:\x20center;','zzlMl','<archer><sterling>I\x20am</sterling></archer>','sanitizeHtml','<a\x20href=\x22http://somelink\x22>some\x20text</a>','tPhWV','<img\x20src=\x22data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\x22\x20/>','VwSDE','<fibble>Ni<em>f</em>ty</fibble><p>Paragraph</p>','<A\x20HREF=\x22http://google.com\x22>google</a><a\x20href=\x22HTTPS://google.com\x22>https\x20google</a><a\x20href=\x22ftp://example.com\x22>ftp</a><a\x20href=\x22mailto:test@test.com\x22>mailto</a><a\x20href=\x22/relative.html\x22>relative</a><a\x20href=\x22javascript:alert(0)\x22>javascript</a>','&lt;<a>a\x20href=&quot;javascript:evil&quot;/&gt;</a>','should\x20reject\x20markup\x20not\x20whitelisted\x20without\x20destroying\x20its\x20text','bSqSU','<fibble>Nifty</fibble><p>Paragraph</p>','CKntk','nzhaJ','igHBe','Fmsbz','xnEQy','Should\x20expose\x20a\x20node\x27s\x20inner\x20text\x20and\x20inner\x20HTML\x20to\x20the\x20filter','cDzwz','should\x20allow\x20data\x20URLs\x20with\x20custom\x20allowedSchemes','678McYGpX','should\x20process\x20text\x20nodes\x20with\x20provided\x20function','<a\x20data-target=\x22#test\x22\x20data-foo=\x22hello\x22>click\x20me</a>','esnDt','dnOVj','should\x20replace\x20ol\x20to\x20ul\x20and\x20add\x20attribute\x20class\x20with\x20foo\x20value\x20and\x20attribute\x20bar\x20with\x20bar\x20value','sMxFl','TNNdE','should\x20allow\x20attributes\x20to\x20be\x20specified\x20as\x20globs','<div>\x22normal\x20text\x22</div><style>body\x20{\x20background-image:\x20url(\x22image.test\x22);\x20}</style>','xXbeW','SqMLr','should\x20quote\x20regex\x20chars\x20in\x20attributes\x20specified\x20as\x20globs','allowedTags','RhMjC','trim','should\x20be\x20successfully\x20initialized','FKeHs','LWiIz','19090StcUxq','JrKkQ','Mxlcw','<a>Hax</a>','rfvwc','<a\x20data-my-foo=\x22hello\x22>click\x20me</a>','<a\x20href=\x22&#106;&#97;&#118;&#97;&#115;&#99;&#114;&#105;&#112;&#116;&#58;&#97;&#108;&#101;&#114;&#116;&#40;&#39;&#88;&#83;&#83;&#39;&#41;\x22>Hax</a>','ziFoR','EWZUN','green','BoySf','<a\x20href=\x22foo.html\x22\x20whizbang=\x22whangle\x22>foo</a>','XlfEl','mbEuC','VUMgN','jMZyl','should\x20not\x20filter\x20if\x20exclusive\x20filter\x20does\x20not\x20match\x20after\x20transforming\x20tags','eqUVQ','should\x20replace\x20ol\x20to\x20ul\x20and\x20add\x20class\x20attribute\x20with\x20foo\x20value','class','<ul><li>Hello\x20world</li></ul>','WLHNj','<a\x20target=\x22_blank\x22\x20href=\x22test.html\x22>test</a>','JpqPi','hxmoi','<img\x20/><a\x20href=\x22https://www.example.com\x22></a>','KhNfZ','<p>Whee</p>','mXiJf','should\x20replace\x20text\x20and\x20attributes\x20when\x20they\x20are\x20changed\x20by\x20transforming\x20function','qdEwv','<a\x20href=\x22java&#0000001script:alert(\x27foo\x27)\x22>Hax</a>','IjuAV','return\x20await\x20Promise.resolve(42);','BJqtD','XkuAw','<style>.foo\x20{\x20color:\x20blue;\x20}</style><p>Paragraph</p>','should\x20pass\x20through\x20simple\x20well-formed\x20whitelisted\x20markup','<p>Text</p>','EesXF','dsHce','VcutY','!<textarea>&lt;/textarea&gt;&lt;svg/onload=prompt`xs`&gt;</textarea>!','miUgj','qQYDN','UMuAA','Omrfa','assert','YeNZD','QVlbj','JjoCs','hodCL','jPIxr','should\x20still\x20like\x20nice\x20schemes','href','equal','ZAiBR','\x22normal\x20text\x20this\x20should\x20be\x20removed\x22','bgcolor','<a\x20href=\x22test.html\x22>blah</a>','hzMZe','dFPCa','qRBXp','NwTjX','Xltnf','cVDyw','should\x20dump\x20character\x20codes\x201-32\x20even\x20when\x20escaped\x20with\x20padding\x20rather\x20than\x20trailing\x20;','bar','dguZA','should\x20retain\x20the\x20content\x20of\x20fibble\x20elements\x20by\x20default','fyqon','should\x20dump\x20a\x20sneaky\x20encoded\x20javascript\x20url','<img\x20src=\x22foo.jpg\x22><p>Whee<p>Again<p>Wow<b>cool</b>','foo','pUNyb','dIBfb','https','DiwGv','<a\x20data-b.c=\x22#test\x22\x20data-bcc=\x22remove\x20this\x22>click\x20me</a>','OTdRm','_blank','should\x20allow\x20only\x20whitelisted\x20attributes,\x20but\x20to\x20any\x20tags,\x20if\x20tag\x20is\x20declared\x20as\x20\x20\x22*\x22','align','33898480SoOSym','rTFbC','textarea','<a\x20href=\x22http://somelink\x22></a>'];_0x3414=function(){return _0x599bc9;};return _0x3414();}describe(_0x104531(0x2d4),function(){var _0x257a70=_0x104531,_0x10a369={'lqKVS':function(_0x108f82,_0x4a68bf){return _0x108f82(_0x4a68bf);},'bSqSU':_0x257a70(0x26d),'RDPKC':_0x257a70(0x292),'hzMZe':_0x257a70(0x31b),'JpqPi':'return\x20Object.keys({a:1});','mbEuC':function(_0x342ed2,_0x1d8883){return _0x342ed2===_0x1d8883;},'hWNfu':'<a\x20target=\x22_blank\x22\x20href=\x22test.html\x22>test</a>','cwNSg':function(_0x5ee08c,_0x42d160){return _0x5ee08c!==_0x42d160;},'MxtTT':_0x257a70(0x27f),'wwrDA':function(_0x2b44c0,_0x549039){return _0x2b44c0(_0x549039);},'qXSdd':_0x257a70(0x2c3),'BpALB':_0x257a70(0x303),'KrMbv':_0x257a70(0x305),'mtlTO':function(_0x5beb59,_0x5974a8,_0x3af674){return _0x5beb59(_0x5974a8,_0x3af674);},'wviog':function(_0x4a29e1,_0x448ed2,_0x1a2863){return _0x4a29e1(_0x448ed2,_0x1a2863);},'UOvBU':_0x257a70(0x1c4),'Mzbpu':_0x257a70(0x260),'ElJkO':_0x257a70(0x2b8),'dwsQy':function(_0x9d8575,_0x1f31a6){return _0x9d8575(_0x1f31a6);},'TNNdE':'<p>Paragraph</p>','QRLnl':_0x257a70(0x23a),'igHBe':_0x257a70(0x1e8),'DiwGv':_0x257a70(0x254),'SRpXL':_0x257a70(0x21a),'BoySf':function(_0x230627,_0x55b19e,_0x50bad2){return _0x230627(_0x55b19e,_0x50bad2);},'nJTug':_0x257a70(0x27a),'MAVLi':function(_0x2aa097,_0x4944b1,_0x1507d5){return _0x2aa097(_0x4944b1,_0x1507d5);},'LzTnP':function(_0x312b54,_0x2ce5a6){return _0x312b54===_0x2ce5a6;},'NBPur':_0x257a70(0x220),'WLHNj':'textarea','VwSDE':function(_0x99c554,_0x6c1e72){return _0x99c554(_0x6c1e72);},'mXiJf':_0x257a70(0x224),'QjQvX':function(_0x2f089d,_0x5b5b02){return _0x2f089d(_0x5b5b02);},'XlfEl':_0x257a70(0x300),'WjzhN':function(_0x2b8783,_0x35b124,_0x47f136){return _0x2b8783(_0x35b124,_0x47f136);},'MneJN':_0x257a70(0x2eb),'iznRR':'xzunq','Mxlcw':_0x257a70(0x232),'gBtsx':'<a>Hax</a>','YzMdz':_0x257a70(0x295),'HqzKg':_0x257a70(0x1dc),'rKnYS':_0x257a70(0x1c5),'XyRmx':_0x257a70(0x203),'rfvwc':function(_0x99fe58,_0x145467){return _0x99fe58!==_0x145467;},'fiqrI':_0x257a70(0x283),'hxmoi':_0x257a70(0x207),'xXbeW':_0x257a70(0x21c),'gZagN':function(_0x3b474f,_0x5c5281,_0x2207e9){return _0x3b474f(_0x5c5281,_0x2207e9);},'aNpSk':_0x257a70(0x279),'MMfww':_0x257a70(0x238),'GFFqs':_0x257a70(0x319),'UMuAA':function(_0x53c08f,_0x220243){return _0x53c08f(_0x220243);},'vfKWB':_0x257a70(0x23f),'dPxSX':_0x257a70(0x1d8),'SrXmG':_0x257a70(0x2a5),'qdEwv':'<a\x20href=\x22hello.html\x22>Hi</a>','IjuAV':_0x257a70(0x29c),'Hnbxi':_0x257a70(0x30d),'FKeHs':function(_0x39e7e3,_0x5679a5,_0x525af6){return _0x39e7e3(_0x5679a5,_0x525af6);},'HuVir':function(_0x493ffe,_0x149a2c){return _0x493ffe(_0x149a2c);},'gWDNG':_0x257a70(0x315),'Fmsbz':_0x257a70(0x2a9),'UxOKh':function(_0x5810b7,_0x160585){return _0x5810b7!==_0x160585;},'qRBXp':_0x257a70(0x27d),'kFQBb':function(_0x5e40f9,_0x62d079,_0x1bd915){return _0x5e40f9(_0x62d079,_0x1bd915);},'WXGJU':_0x257a70(0x229),'IVwii':_0x257a70(0x297),'JWJbo':function(_0x2e05e9,_0x2f1ff3,_0x5d3777){return _0x2e05e9(_0x2f1ff3,_0x5d3777);},'XbijM':_0x257a70(0x1d2),'bSdSn':function(_0x1a8a04,_0x1d1510){return _0x1a8a04(_0x1d1510);},'MDsWU':_0x257a70(0x262),'qKIHx':_0x257a70(0x1fc),'pKBYm':_0x257a70(0x285),'uzkTR':'<p>This\x20is\x20<br\x20/>Linux</p>','LeQXx':_0x257a70(0x32e),'fyqon':_0x257a70(0x2ab),'xgSAN':'<p>12<a\x20href=\x22http://www.linux.org\x22><br/>3<br></a><span>4</span></p>','JwTJo':_0x257a70(0x222),'AMaLA':function(_0x493293,_0x5dd779){return _0x493293===_0x5dd779;},'RZPwQ':_0x257a70(0x2d7),'oAodd':'<img\x20/>','eUErD':'<script>alert(\x22&quot;This\x20is\x20cool\x20but\x20just\x20ironically\x20so\x20I\x20quoted\x20it&quot;\x22)</script>','oaRKW':_0x257a70(0x23e),'qiRgr':_0x257a70(0x28f),'FzlwE':_0x257a70(0x266),'aKqZm':_0x257a70(0x1c8),'RhMjC':_0x257a70(0x313),'KceVi':'nifty','avBJV':'<p\x20a','nzKkv':'<IMG\x20SRC=\x20onmouseover=\x22alert(\x27XSS\x27);\x22>','ZLLLV':_0x257a70(0x2b4),'qQYDN':_0x257a70(0x2d9),'tufZp':function(_0x11be34,_0x474e7f){return _0x11be34!==_0x474e7f;},'EesXF':'nkODb','IZONR':'<table\x20bgcolor=\x221\x22\x20align=\x22left\x22\x20notlisted=\x220\x22><img\x20src=\x221.gif\x22\x20align=\x22center\x22\x20alt=\x22not\x20listed\x20too\x22/></table>','hGEvP':'table','fQzXn':_0x257a70(0x334),'OZKTI':_0x257a70(0x1ce),'eSFuj':'<table\x20bgcolor=\x221\x22\x20align=\x22left\x22><img\x20src=\x221.gif\x22\x20align=\x22center\x22\x20/></table>','yPSwE':_0x257a70(0x1cc),'aOtSc':_0x257a70(0x1d4),'vvccX':_0x257a70(0x330),'xnEQy':function(_0xbb9c7a,_0x2c16a6,_0x57b25e){return _0xbb9c7a(_0x2c16a6,_0x57b25e);},'lQmEa':function(_0x2c75eb,_0x3e3d37){return _0x2c75eb===_0x3e3d37;},'ljJHZ':function(_0x15d5ff,_0x21ed81){return _0x15d5ff==_0x21ed81;},'JsMtC':_0x257a70(0x1ea),'JuVcz':_0x257a70(0x335),'VenZU':_0x257a70(0x1eb),'oomGl':_0x257a70(0x2b2),'qNPTF':function(_0x42abc7,_0x3db13e,_0x17a689){return _0x42abc7(_0x3db13e,_0x17a689);},'NqbCF':_0x257a70(0x21e),'ypnCW':_0x257a70(0x1db),'ltGsi':_0x257a70(0x251),'DLLve':_0x257a70(0x299),'ziFoR':_0x257a70(0x2db),'XkuAw':_0x257a70(0x2e9),'CrtJc':_0x257a70(0x2b9),'miUgj':_0x257a70(0x1ca),'aoSgm':'data-b.*','IuiOV':'<a\x20data-b.c=\x22#test\x22>click\x20me</a>','EWZUN':function(_0x2536d3,_0x5dc9ca,_0x363627){return _0x2536d3(_0x5dc9ca,_0x363627);},'oYQWJ':'<div>\x22normal\x20text\x22</div><script>\x22this\x20is\x20code\x22</script>','bjyYP':_0x257a70(0x2de),'ZAiBR':_0x257a70(0x1ed),'FUzbJ':'\x20this\x20should\x20be\x20removed','PTSdS':_0x257a70(0x23d),'cSmpO':function(_0x5327c5,_0x4cf16c,_0x1b6a82){return _0x5327c5(_0x4cf16c,_0x1b6a82);},'qQfuy':'<Archer><Sterling>I\x20am</Sterling></Archer>','CKntk':function(_0x33e0dc,_0x11995f,_0x52710b){return _0x33e0dc(_0x11995f,_0x52710b);},'nsNDI':function(_0x3b4051,_0x260965,_0x3dc8af){return _0x3b4051(_0x260965,_0x3dc8af);},'AjPAl':function(_0x1ca9f6,_0x2bbfdb,_0x4974bf){return _0x1ca9f6(_0x2bbfdb,_0x4974bf);},'iTWUN':'should\x20respect\x20text\x20nodes\x20at\x20top\x20level','iQFna':_0x257a70(0x1d5),'cDzwz':function(_0x6fda3b,_0x3acaad,_0x465b87){return _0x6fda3b(_0x3acaad,_0x465b87);},'dsHce':_0x257a70(0x2b1),'nzhaJ':_0x257a70(0x271),'dBHOu':'should\x20drop\x20the\x20content\x20of\x20script\x20elements','Xltnf':'should\x20drop\x20the\x20content\x20of\x20textarea\x20elements','sMxFl':function(_0x36b905,_0x25de92,_0x2fcb1f){return _0x36b905(_0x25de92,_0x2fcb1f);},'HPNMA':function(_0x265afc,_0x479708,_0x2a109a){return _0x265afc(_0x479708,_0x2a109a);},'rTFbC':_0x257a70(0x263),'uTjuO':function(_0x4286c1,_0x4a42d6,_0x8724d){return _0x4286c1(_0x4a42d6,_0x8724d);},'YudVP':_0x257a70(0x216),'eqUVQ':_0x257a70(0x2c2),'VDtTS':function(_0x30fcb9,_0x355309,_0x108bd0){return _0x30fcb9(_0x355309,_0x108bd0);},'Omrfa':_0x257a70(0x1de),'FfVWx':function(_0x43c13b,_0x8bac42,_0x2488c0){return _0x43c13b(_0x8bac42,_0x2488c0);},'YVYhF':'should\x20dump\x20an\x20uppercase\x20javascript\x20url','OTdRm':function(_0x2aec77,_0x4a5c54,_0x489ef6){return _0x2aec77(_0x4a5c54,_0x489ef6);},'RBMSk':_0x257a70(0x2b6),'BcDLA':function(_0x3d0219,_0x4da295,_0x47f2f4){return _0x3d0219(_0x4da295,_0x47f2f4);},'TqOPu':'should\x20replace\x20ol\x20to\x20ul','IWLPH':_0x257a70(0x2b5),'eVnnn':_0x257a70(0x2ec),'BJCFk':function(_0xa4b80b,_0x3f4382,_0x124e3c){return _0xa4b80b(_0x3f4382,_0x124e3c);},'QIJqA':_0x257a70(0x214),'ClBOw':_0x257a70(0x2e4),'qrJyz':'Should\x20collapse\x20nested\x20empty\x20elements','wtVLd':function(_0x52f26c,_0x40e7f2,_0x1e0bdf){return _0x52f26c(_0x40e7f2,_0x1e0bdf);},'ejemh':'Exclusive\x20filter\x20should\x20not\x20affect\x20elements\x20which\x20do\x20not\x20match\x20the\x20filter\x20condition','cVDyw':function(_0x2a0cbc,_0x1bec3b,_0x50f272){return _0x2a0cbc(_0x1bec3b,_0x50f272);},'fTwtc':_0x257a70(0x2e6),'SJHly':function(_0x25e05d,_0x507b77,_0x4de2ba){return _0x25e05d(_0x507b77,_0x4de2ba);},'GPaGK':function(_0x20c5ca,_0x3b22ae,_0x250a50){return _0x20c5ca(_0x3b22ae,_0x250a50);},'YjeLv':_0x257a70(0x24f),'MLSTI':_0x257a70(0x2ca),'cuUzg':function(_0x159169,_0x815594,_0x1c1a72){return _0x159169(_0x815594,_0x1c1a72);},'LpoTA':_0x257a70(0x1cd),'dguZA':function(_0x21ee7a,_0xe2b12f,_0x54dd14){return _0x21ee7a(_0xe2b12f,_0x54dd14);},'oTttN':_0x257a70(0x268),'ZZqKl':function(_0x4d0837,_0x30b789,_0x435582){return _0x4d0837(_0x30b789,_0x435582);},'Rtrdr':_0x257a70(0x213),'eduFq':function(_0x289a0d,_0x4ad433,_0x4b328f){return _0x289a0d(_0x4ad433,_0x4b328f);},'NBrvj':'should\x20not\x20be\x20faked\x20out\x20by\x20double\x20<','MovHt':_0x257a70(0x2ef),'YeNZD':function(_0x521a44,_0x2def21,_0xd15871){return _0x521a44(_0x2def21,_0xd15871);},'jMZyl':_0x257a70(0x2f3),'dIBfb':'should\x20not\x20escape\x20inner\x20content\x20of\x20script\x20and\x20style\x20tags\x20(when\x20allowed)','JjoCs':_0x257a70(0x1e2),'bkyWi':_0x257a70(0x2e8),'JrKkQ':'should\x20respect\x20htmlparser2\x20options\x20when\x20passed\x20in','gWnaS':function(_0x5a6d46,_0x4660cd,_0x1a044c){return _0x5a6d46(_0x4660cd,_0x1a044c);},'bBjFs':_0x257a70(0x1f0)},_0x5a8bdc;_0x10a369[_0x257a70(0x261)](it,_0x257a70(0x2f7),function(){var _0x2c64f1=_0x257a70;_0x5a8bdc=_0x10a369[_0x2c64f1(0x209)](require,_0x2c64f1(0x24a));}),it(_0x257a70(0x31f),function(){var _0x14de43=_0x257a70;assert[_0x14de43(0x331)](_0x10a369[_0x14de43(0x209)](_0x5a8bdc,'<div><p>Hello\x20<b>there</b></p></div>'),_0x10a369[_0x14de43(0x2dd)]);}),_0x10a369[_0x257a70(0x2f8)](it,'should\x20pass\x20through\x20all\x20markup\x20if\x20allowedTags\x20and\x20allowedAttributes\x20are\x20set\x20to\x20false',function(){var _0x2a2afe=_0x257a70;assert[_0x2a2afe(0x331)](_0x5a8bdc('<div><wiggly\x20worms=\x22ewww\x22>hello</wiggly></div>',{'allowedTags':![],'allowedAttributes':![]}),_0x10a369[_0x2a2afe(0x2d0)]);}),_0x10a369[_0x257a70(0x29b)](it,_0x10a369[_0x257a70(0x26c)],function(){var _0x2144c5=_0x257a70;assert[_0x2144c5(0x331)](_0x5a8bdc(_0x2144c5(0x1e3)),_0x2144c5(0x1e3));}),it(_0x257a70(0x2dc),function(){var _0x443075=_0x257a70,_0x753d78={'SqMLr':_0x10a369['hzMZe'],'pLEGO':function(_0x2edfeb,_0x47c584){return _0x2edfeb(_0x47c584);},'tpNaK':_0x10a369[_0x443075(0x311)],'LWiIz':function(_0x473d80,_0x6f3e19){var _0x45e271=_0x443075;return _0x10a369[_0x45e271(0x307)](_0x473d80,_0x6f3e19);},'AcvGv':function(_0x23ccf6,_0x32da5b,_0x2b904f){return _0x23ccf6(_0x32da5b,_0x2b904f);},'esnDt':_0x10a369[_0x443075(0x20c)]};if(_0x10a369[_0x443075(0x1d6)](_0x10a369[_0x443075(0x23b)],_0x10a369['MxtTT'])){var _0xcd4370={'Llnth':function(_0x2ac746,_0x1671b9){var _0x566280=_0x443075;return _0x753d78[_0x566280(0x2cc)](_0x2ac746,_0x1671b9);},'qmXoy':_0x753d78[_0x443075(0x255)],'PxvNA':function(_0x4de9ae,_0x82c0c){var _0x4d47b9=_0x443075;return _0x753d78[_0x4d47b9(0x2f9)](_0x4de9ae,_0x82c0c);},'AAMfz':_0x443075(0x24b)};_0x2b765d[_0x443075(0x331)](_0x753d78[_0x443075(0x2ae)](_0x4d2b56,_0x443075(0x1d4),{'allowedTags':['a'],'allowedAttributes':{'a':[_0x443075(0x330),_0x443075(0x1eb)]},'transformTags':{'a':function(_0x35e7e7,_0x3f348c){var _0x5ce9b7=_0x443075;if(!_0x3f348c['href'])eval('1 + 1;');return![];new _0x26820d(_0x753d78[_0x5ce9b7(0x2f2)])();return{'tagName':_0x35e7e7,'attribs':{'target':_0x5ce9b7(0x1cc),'href':_0x3f348c['href']}};}},'exclusiveFilter':function(_0x102c88){var _0x44b447=_0x443075;return _0xcd4370[_0x44b447(0x248)](_0x3a2f39,_0xcd4370['qmXoy'])(),_0xcd4370[_0x44b447(0x276)](_0x102c88[_0x44b447(0x2be)],'a')&&_0x102c88[_0x44b447(0x293)][_0x44b447(0x2f6)]()==_0xcd4370[_0x44b447(0x20a)];}}),_0x753d78[_0x443075(0x2ea)]);}else assert[_0x443075(0x331)](_0x10a369[_0x443075(0x210)](_0x5a8bdc,'<div><wiggly>Hello</wiggly></div>'),'<div>Hello</div>');}),it(_0x10a369['iQFna'],function(){var _0x48be69=_0x257a70;assert[_0x48be69(0x331)](_0x5a8bdc('<blue><red><green>Cheese</green></red></blue>',{'allowedTags':[_0x10a369[_0x48be69(0x2a6)],_0x10a369[_0x48be69(0x22c)]]}),_0x48be69(0x280));}),_0x10a369[_0x257a70(0x2e5)](it,_0x257a70(0x2c5),function(){var _0x2ee151=_0x257a70;assert[_0x2ee151(0x331)](_0x5a8bdc(_0x10a369[_0x2ee151(0x2a4)]),_0x2ee151(0x247));}),_0x10a369['FKeHs'](it,_0x10a369[_0x257a70(0x322)],function(){var _0x57ae5d=_0x257a70;assert[_0x57ae5d(0x331)](_0x10a369[_0x57ae5d(0x29d)](_0x5a8bdc,_0x57ae5d(0x305),{'allowedAttributes':{'a':['href',_0x57ae5d(0x29e)]}}),'<a\x20href=\x22foo.html\x22\x20whizbang=\x22whangle\x22>foo</a>');}),it(_0x10a369[_0x257a70(0x2e0)],function(){var _0x1a83bc=_0x257a70;assert['equal'](_0x10a369[_0x1a83bc(0x2a1)](_0x5a8bdc,_0x10a369[_0x1a83bc(0x215)],{'allowedTags':_0x5a8bdc[_0x1a83bc(0x1f4)][_0x1a83bc(0x2f4)][_0x1a83bc(0x294)]([_0x10a369[_0x1a83bc(0x237)]])}),'<img\x20src=\x22foo.jpg\x22\x20/><p>Whee</p><p>Again</p><p>Wow<b>cool</b></p>');}),it('should\x20reject\x20hrefs\x20that\x20are\x20not\x20relative,\x20ftp,\x20http,\x20https\x20or\x20mailto',function(){var _0x28adf7=_0x257a70;assert[_0x28adf7(0x331)](_0x5a8bdc(_0x28adf7(0x249)),_0x28adf7(0x212));}),it('should\x20cope\x20identically\x20with\x20capitalized\x20attributes\x20and\x20tags\x20and\x20should\x20tolerate\x20capitalized\x20schemes',function(){var _0x210afc=_0x257a70;assert['equal'](_0x5a8bdc(_0x210afc(0x2da)),_0x10a369['ElJkO']);}),it(_0x10a369[_0x257a70(0x235)],function(){var _0x2f3bc6=_0x257a70;assert[_0x2f3bc6(0x331)](_0x10a369['dwsQy'](_0x5a8bdc,'<script>alert(\x22ruhroh!\x22);</script><p>Paragraph</p>'),_0x10a369['TNNdE']);}),_0x10a369[_0x257a70(0x304)](it,_0x257a70(0x241),function(){var _0x3ea525=_0x257a70;assert['equal'](_0x10a369[_0x3ea525(0x209)](_0x5a8bdc,_0x3ea525(0x31e)),'<p>Paragraph</p>');}),it(_0x10a369[_0x257a70(0x1bc)],function(){var _0x15aa6e=_0x257a70;_0x10a369[_0x15aa6e(0x2e1)]===_0x15aa6e(0x286)?_0x37cd88[_0x15aa6e(0x331)](_0x10a369[_0x15aa6e(0x2ad)](_0x491b46,_0x10a369[_0x15aa6e(0x287)]),'<p>Paragraph</p>'):assert[_0x15aa6e(0x331)](_0x5a8bdc(_0x15aa6e(0x23a)),_0x15aa6e(0x288));}),_0x10a369[_0x257a70(0x2ed)](it,_0x257a70(0x250),function(){var _0x203acd=_0x257a70;assert['equal'](_0x5a8bdc(_0x10a369[_0x203acd(0x1c9)]),_0x10a369[_0x203acd(0x2ee)]);}),_0x10a369[_0x257a70(0x2ed)](it,_0x257a70(0x1c1),function(){var _0x314a44=_0x257a70;assert[_0x314a44(0x331)](_0x5a8bdc('<fibble>Nifty</fibble><p>Paragraph</p>'),'Nifty<p>Paragraph</p>');}),_0x10a369[_0x257a70(0x21f)](it,_0x10a369[_0x257a70(0x1d0)],function(){var _0x3d01d6=_0x257a70;assert[_0x3d01d6(0x331)](_0x5a8bdc(_0x3d01d6(0x2de),{'nonTextTags':['fibble']}),'<p>Paragraph</p>');}),_0x10a369[_0x257a70(0x277)](it,_0x10a369[_0x257a70(0x296)],function(){var _0x5a4c35=_0x257a70;assert[_0x5a4c35(0x331)](_0x5a8bdc(_0x5a4c35(0x2d9),{}),_0x10a369['SRpXL']);}),it(_0x10a369[_0x257a70(0x30b)],function(){var _0x2ef257=_0x257a70;assert['equal'](_0x10a369['BoySf'](_0x5a8bdc,'<fibble>Ni<em>f</em>ty</fibble><p>Paragraph</p>',{'nonTextTags':[_0x10a369[_0x2ef257(0x236)]]}),_0x10a369[_0x2ef257(0x2ee)]);}),it('should\x20preserve\x20textarea\x20content\x20if\x20textareas\x20are\x20allowed',function(){var _0x26f8e8=_0x257a70,_0x133562={'MfbdH':function(_0x483d16,_0x5d3361,_0x395851){var _0x509837=_0x43a5;return _0x10a369[_0x509837(0x2a8)](_0x483d16,_0x5d3361,_0x395851);},'foTwz':_0x26f8e8(0x1fb),'zoneZ':_0x26f8e8(0x29f),'QVlbj':_0x26f8e8(0x2aa)};_0x10a369[_0x26f8e8(0x201)](_0x10a369['NBPur'],_0x10a369[_0x26f8e8(0x1ee)])?assert[_0x26f8e8(0x331)](_0x10a369[_0x26f8e8(0x2a1)](_0x5a8bdc,_0x26f8e8(0x23a),{'allowedTags':[_0x10a369[_0x26f8e8(0x30f)],'p']}),_0x10a369[_0x26f8e8(0x287)]):_0x348caf['equal'](_0x133562[_0x26f8e8(0x2ac)](_0x272989,_0x133562[_0x26f8e8(0x2cd)],{'allowedTags':['p'],'allowedClasses':{'p':[_0x133562['zoneZ']]}}),_0x133562[_0x26f8e8(0x32b)]);}),_0x10a369[_0x257a70(0x2bf)](it,_0x257a70(0x1e9),function(){var _0x520e06=_0x257a70;assert[_0x520e06(0x331)](_0x10a369[_0x520e06(0x2d8)](_0x5a8bdc,'<a\x20name=\x22&lt;silly&gt;\x22>&lt;Kapow!&gt;</a>'),_0x10a369[_0x520e06(0x316)]);}),it(_0x10a369[_0x257a70(0x328)],function(){var _0x80d0a7=_0x257a70;assert[_0x80d0a7(0x331)](_0x5a8bdc(_0x80d0a7(0x2a0)),_0x80d0a7(0x315));}),_0x10a369['sMxFl'](it,_0x257a70(0x1c3),function(){var _0x5cd0f4=_0x257a70;assert['equal'](_0x10a369[_0x5cd0f4(0x269)](_0x5a8bdc,_0x10a369[_0x5cd0f4(0x306)]),_0x5cd0f4(0x2fd));}),_0x10a369[_0x257a70(0x2bd)](it,_0x10a369['YVYhF'],function(){var _0x65bce6=_0x257a70,_0x22b3a6={'VUMgN':function(_0x515e90,_0x54a191,_0x1529a1){var _0x5aaaa8=_0x43a5;return _0x10a369[_0x5aaaa8(0x1d7)](_0x515e90,_0x54a191,_0x1529a1);},'VcutY':_0x65bce6(0x30e)};_0x10a369[_0x65bce6(0x1f8)]===_0x10a369[_0x65bce6(0x208)]?_0x58407c[_0x65bce6(0x331)](_0x22b3a6[_0x65bce6(0x308)](_0x5c22ad,'<ol><li>Hello\x20world</li></ol>',{'transformTags':{'ol':'ul'}}),_0x22b3a6[_0x65bce6(0x323)]):assert['equal'](_0x10a369[_0x65bce6(0x210)](_0x5a8bdc,_0x65bce6(0x1f2)),_0x65bce6(0x2fd));}),it(_0x257a70(0x278),function(){var _0x36b4d2=_0x257a70;assert[_0x36b4d2(0x331)](_0x10a369[_0x36b4d2(0x269)](_0x5a8bdc,_0x10a369[_0x36b4d2(0x2fc)]),_0x10a369['gBtsx']);}),_0x10a369['kFQBb'](it,_0x257a70(0x2cb),function(){var _0x54232e=_0x257a70;assert[_0x54232e(0x331)](_0x10a369[_0x54232e(0x210)](_0x5a8bdc,_0x10a369['YzMdz']),_0x54232e(0x295));}),_0x10a369[_0x257a70(0x1cb)](it,_0x10a369['RBMSk'],function(){var _0x3de18c=_0x257a70,_0x4f71d2={'QxQJY':_0x10a369[_0x3de18c(0x21b)],'zzlMl':_0x10a369[_0x3de18c(0x1f7)],'DMcCQ':'class','cEHtC':_0x10a369['XyRmx']};_0x10a369[_0x3de18c(0x2fe)](_0x10a369[_0x3de18c(0x1ff)],_0x3de18c(0x283))?_0x51f622[_0x3de18c(0x331)](_0x36bc89(_0x4f71d2[_0x3de18c(0x1fd)],{'transformTags':{'ol':_0x45a5ba['simpleTransform']('ul',{'class':_0x3de18c(0x1c5)})},'allowedAttributes':{'ul':[_0x4f71d2[_0x3de18c(0x2d2)],_0x3de18c(0x1bf),_0x4f71d2[_0x3de18c(0x1fe)]]}}),_0x4f71d2[_0x3de18c(0x28c)]):assert['equal'](_0x5a8bdc(_0x10a369[_0x3de18c(0x312)]),_0x10a369['gBtsx']);}),it(_0x257a70(0x1be),function(){var _0x5765a3=_0x257a70,_0x589357={'FkFCV':'<a\x20data-target=\x22#test\x22\x20data-foo=\x22hello\x22>click\x20me</a>','XbYks':_0x10a369[_0x5765a3(0x2f1)],'FTVGs':function(_0xd7e7bd,_0x14670a,_0x5842e5){var _0xfb1c87=_0x5765a3;return _0x10a369[_0xfb1c87(0x2b3)](_0xd7e7bd,_0x14670a,_0x5842e5);},'tmWfE':_0x10a369['aNpSk']};_0x10a369[_0x5765a3(0x1d6)](_0x5765a3(0x238),_0x10a369[_0x5765a3(0x1df)])?(_0x46fc19[_0x5765a3(0x331)](_0x579d34(_0x589357[_0x5765a3(0x2bb)],{'allowedTags':['a'],'allowedAttributes':{'a':[_0x589357['XbYks']]}}),_0x589357[_0x5765a3(0x2bb)]),_0x487bda['equal'](_0x589357[_0x5765a3(0x1f5)](_0x4f886c,_0x5765a3(0x2b9),{'allowedTags':['a'],'allowedAttributes':{'a':[_0x589357['tmWfE']]}}),'<a\x20data-my-foo=\x22hello\x22>click\x20me</a>')):(assert[_0x5765a3(0x331)](_0x5a8bdc(_0x10a369['GFFqs']),_0x5765a3(0x2fd)),assert['equal'](_0x10a369[_0x5765a3(0x327)](_0x5a8bdc,_0x10a369[_0x5765a3(0x1f1)]),_0x10a369[_0x5765a3(0x253)]));}),it(_0x257a70(0x32f),function(){var _0x51f386=_0x257a70;assert[_0x51f386(0x331)](_0x5a8bdc('<a\x20href=\x22http://google.com/\x22>Hi</a>'),_0x10a369[_0x51f386(0x23c)]);}),_0x10a369[_0x257a70(0x1e6)](it,_0x257a70(0x22f),function(){var _0x2e6625=_0x257a70;assert[_0x2e6625(0x331)](_0x5a8bdc(_0x10a369[_0x2e6625(0x318)]),_0x2e6625(0x298));}),_0x10a369[_0x257a70(0x29b)](it,_0x10a369[_0x257a70(0x267)],function(){var _0x104d77=_0x257a70;assert[_0x104d77(0x331)](_0x10a369['gZagN'](_0x5a8bdc,_0x10a369['IjuAV'],{'transformTags':{'ol':'ul'}}),_0x104d77(0x30e));}),it(_0x257a70(0x30c),function(){var _0x28bfd0=_0x257a70;assert['equal'](_0x10a369['WjzhN'](_0x5a8bdc,_0x10a369[_0x28bfd0(0x31a)],{'transformTags':{'ol':_0x5a8bdc[_0x28bfd0(0x265)]('ul',{'class':_0x10a369[_0x28bfd0(0x1f7)]})},'allowedAttributes':{'ul':[_0x10a369['Hnbxi']]}}),_0x28bfd0(0x202));}),it('should\x20replace\x20ol\x20to\x20ul,\x20left\x20attributes\x20foo\x20and\x20bar\x20untouched,\x20remove\x20baz\x20attribute\x20and\x20add\x20class\x20attributte\x20with\x20foo\x20value',function(){var _0x53fdef=_0x257a70;assert[_0x53fdef(0x331)](_0x10a369[_0x53fdef(0x2b3)](_0x5a8bdc,_0x53fdef(0x1dc),{'transformTags':{'ol':_0x5a8bdc[_0x53fdef(0x265)]('ul',{'class':_0x53fdef(0x1c5)})},'allowedAttributes':{'ul':['foo','bar',_0x53fdef(0x30d)]}}),_0x10a369[_0x53fdef(0x2af)]);}),it(_0x10a369['IWLPH'],function(){var _0x2c8bf0=_0x257a70;assert['equal'](_0x10a369[_0x2c8bf0(0x2f8)](_0x5a8bdc,'<ol\x20foo=\x22foo\x22\x20bar=\x22bar\x22\x20baz=\x22baz\x22><li>Hello\x20world</li></ol>',{'transformTags':{'ol':_0x5a8bdc['simpleTransform']('ul',{'class':_0x10a369['rKnYS']},![])},'allowedAttributes':{'ul':[_0x10a369[_0x2c8bf0(0x1f7)],_0x2c8bf0(0x1bf),_0x2c8bf0(0x30d)]}}),'<ul\x20class=\x22foo\x22><li>Hello\x20world</li></ul>');}),_0x10a369[_0x257a70(0x1e6)](it,_0x10a369['eVnnn'],function(){var _0x2aa633=_0x257a70,_0x22a8dd={'KhNfZ':function(_0x3a70b8,_0x453d22){var _0x58b1ad=_0x43a5;return _0x10a369[_0x58b1ad(0x245)](_0x3a70b8,_0x453d22);},'pUNyb':_0x10a369['gWDNG'],'Yvwix':_0x10a369['rKnYS'],'hMlUo':_0x10a369[_0x2aa633(0x2e2)]};_0x10a369[_0x2aa633(0x22a)](_0x10a369[_0x2aa633(0x1ba)],_0x10a369['qRBXp'])?_0x57dd6a['equal'](_0x22a8dd[_0x2aa633(0x314)](_0x50b0e5,_0x2aa633(0x2a0)),_0x22a8dd[_0x2aa633(0x1c6)]):assert[_0x2aa633(0x331)](_0x10a369[_0x2aa633(0x27c)](_0x5a8bdc,_0x2aa633(0x29c),{'transformTags':{'ol':function(_0x1839c7,_0x388250){var _0x4ceab0=_0x2aa633;return _0x388250[_0x4ceab0(0x30d)]=_0x22a8dd[_0x4ceab0(0x2c8)],_0x388250[_0x4ceab0(0x1bf)]=_0x4ceab0(0x1bf),setTimeout(_0x22a8dd[_0x4ceab0(0x211)],0x3e8),{'tagName':'ul','attribs':_0x388250};}},'allowedAttributes':{'ul':['bar',_0x2aa633(0x30d)]}}),_0x10a369[_0x2aa633(0x290)]);}),_0x10a369[_0x257a70(0x2c1)](it,_0x257a70(0x317),function(){var _0xea3364=_0x257a70,_0x370999={'PNkYA':_0x10a369['IVwii']};assert[_0xea3364(0x331)](_0x10a369[_0xea3364(0x217)](_0x5a8bdc,_0xea3364(0x2d5),{'transformTags':{'a':function(_0x58a351,_0x51536f){return new Function(_0x370999['PNkYA'])(),{'tagName':_0x58a351,'attribs':_0x51536f,'text':''};}}}),_0x10a369[_0xea3364(0x1e7)]);}),it(_0x10a369['QIJqA'],function(){var _0x1d08e8=_0x257a70,_0xed045e={'xBpzi':function(_0x3b830f,_0x46a6c0){return _0x3b830f*_0x46a6c0;}};assert['equal'](_0x5a8bdc(_0x1d08e8(0x2d5),{'transformTags':{'a':function(_0xace368,_0x288145){var _0x174e22=_0x1d08e8,_0x4a21d5={'jdFUY':function(_0x24da1d,_0x333667){var _0x32c39f=_0x43a5;return _0xed045e[_0x32c39f(0x2c9)](_0x24da1d,_0x333667);}};return eval('_0x4a21d5[\'jdFUY\'](Math[\'PI\'], 2);'),{'tagName':_0xace368,'attribs':_0x288145,'text':_0x174e22(0x291)};}},'textFilter':function(_0x5ed8b){var _0x2d9c95=_0x1d08e8;if(_0x10a369[_0x2d9c95(0x2fe)](_0x2d9c95(0x1bb),_0x2d9c95(0x1bb)))_0xc5f866['PI']*0x2;else return _0x10a369['bSdSn'](Function,_0x10a369[_0x2d9c95(0x20d)])(),_0x5ed8b[_0x2d9c95(0x25a)](/\s/g,'_');}}),_0x10a369[_0x1d08e8(0x227)]);}),it(_0x257a70(0x27e),function(){var _0x563641=_0x257a70;assert[_0x563641(0x1ef)](_0x5a8bdc(_0x10a369[_0x563641(0x274)],{'exclusiveFilter':function(_0x44d2b0){var _0x5f0499=_0x563641;return new AsyncFunction(_0x10a369[_0x5f0499(0x336)])(),_0x44d2b0[_0x5f0499(0x2be)]==='a'&&!_0x44d2b0[_0x5f0499(0x293)]['trim']();}}),_0x10a369['uzkTR']);}),it(_0x10a369[_0x257a70(0x28e)],function(){var _0x44e46e=_0x257a70;assert['strictEqual'](_0x10a369[_0x44e46e(0x2b3)](_0x5a8bdc,_0x10a369[_0x44e46e(0x218)],{'exclusiveFilter':function(_0x3bee97){var _0x1e09f7=_0x44e46e;if(_0x10a369[_0x1e09f7(0x1d6)](_0x10a369['LeQXx'],_0x1e09f7(0x32e)))_0x49005b[_0x1e09f7(0x225)]({'safe':!![]});else{if(_0x10a369[_0x1e09f7(0x201)](_0x3bee97['tag'],'p'))assert['strictEqual'](_0x3bee97[_0x1e09f7(0x293)],_0x10a369[_0x1e09f7(0x1c2)]);else{if(_0x3bee97[_0x1e09f7(0x2be)]==='a')return assert[_0x1e09f7(0x1ef)](_0x3bee97[_0x1e09f7(0x293)],'3'),setTimeout(function(){var _0x482fe4=_0x1e09f7;console[_0x482fe4(0x275)](_0x482fe4(0x2b0));},0x64),!![];else _0x3bee97[_0x1e09f7(0x2be)]==='br'?assert[_0x1e09f7(0x1ef)](_0x3bee97[_0x1e09f7(0x293)],''):assert['fail'](_0x1e09f7(0x223),_0x3bee97[_0x1e09f7(0x2be)]);}return _0x10a369[_0x1e09f7(0x29d)](setInterval,_0x1e09f7(0x270),0x3e8),![];}}}),_0x10a369['JwTJo']);}),it(_0x10a369['qrJyz'],function(){var _0x64a2b3=_0x257a70,_0x172d9f={'YUucM':function(_0x31eeb7,_0x1fb588){return _0x10a369['AMaLA'](_0x31eeb7,_0x1fb588);}};assert[_0x64a2b3(0x1ef)](_0x10a369[_0x64a2b3(0x29d)](_0x5a8bdc,_0x64a2b3(0x20f),{'exclusiveFilter':function(_0xbe9dd3){var _0x39d928=_0x64a2b3;return eval('var _0x24473c = _0x43a5;JSON[_0x24473c(549)]({ \'safe\': !![] });'),(_0x172d9f[_0x39d928(0x264)](_0xbe9dd3['tag'],'a')||_0xbe9dd3[_0x39d928(0x2be)]==='p')&&!_0xbe9dd3[_0x39d928(0x293)][_0x39d928(0x2f6)]();}}),'');}),_0x10a369[_0x257a70(0x1f6)](it,_0x10a369['ejemh'],function(){var _0x28e16e=_0x257a70,_0x26f5ca={'KSKxE':function(_0x3d9915,_0x19932e){return _0x3d9915*_0x19932e;}};assert[_0x28e16e(0x1ef)](_0x5a8bdc(_0x28e16e(0x2a2),{'exclusiveFilter':function(_0x14e87a){var _0x1327f2=_0x28e16e;return eval('_0x26f5ca[\'KSKxE\'](Math[\'PI\'], 2);'),_0x14e87a['tag']==='a'&&!_0x14e87a['text'][_0x1327f2(0x2f6)]();}}),_0x28e16e(0x2a2));}),it(_0x257a70(0x26f),function(){var _0x481608=_0x257a70;assert[_0x481608(0x331)](_0x5a8bdc(_0x10a369['RZPwQ'],{'allowedTags':[_0x481608(0x260)]}),_0x10a369[_0x481608(0x20e)]);}),_0x10a369[_0x257a70(0x1bd)](it,_0x10a369[_0x257a70(0x289)],function(){var _0x252b81=_0x257a70;_0x252b81(0x252)!==_0x10a369[_0x252b81(0x243)]?assert['equal'](_0x5a8bdc(_0x10a369['RZPwQ'],{'allowedTags':[_0x10a369[_0x252b81(0x237)],'p'],'allowedSchemes':[_0x252b81(0x2ba),_0x252b81(0x266)]}),_0x10a369[_0x252b81(0x26e)]):_0x1a086a[_0x252b81(0x331)](_0x33a579(_0x10a369[_0x252b81(0x25c)],{'allowedTags':[_0x10a369[_0x252b81(0x2c7)]]}),_0x252b81(0x29a));}),_0x10a369['SJHly'](it,'should\x20allow\x20specific\x20classes\x20when\x20whitelisted\x20with\x20allowedClasses',function(){var _0xbd2890=_0x257a70;assert[_0xbd2890(0x331)](_0x10a369[_0xbd2890(0x2a8)](_0x5a8bdc,_0xbd2890(0x25f),{'allowedTags':['p'],'allowedClasses':{'p':[_0xbd2890(0x29f)]}}),_0xbd2890(0x257));}),it('should\x20allow\x20defining\x20schemes\x20on\x20a\x20per-tag\x20basis',function(){var _0x3b64e7=_0x257a70;assert[_0x3b64e7(0x331)](_0x5a8bdc(_0x3b64e7(0x204),{'allowedTags':[_0x10a369[_0x3b64e7(0x237)],'a'],'allowedSchemes':[_0x10a369[_0x3b64e7(0x2ce)]],'allowedSchemesByTag':{'img':[_0x3b64e7(0x2ba)],'a':[_0x10a369[_0x3b64e7(0x2c0)]]}}),_0x3b64e7(0x204)),assert['equal'](_0x5a8bdc(_0x3b64e7(0x204),{'allowedTags':[_0x3b64e7(0x260),'a'],'allowedSchemes':['http'],'allowedSchemesByTag':{'img':[],'a':[_0x10a369[_0x3b64e7(0x2c0)]]}}),_0x10a369[_0x3b64e7(0x2f5)]);}),it(_0x257a70(0x233),function(){var _0x2a5a8d=_0x257a70;assert[_0x2a5a8d(0x331)](_0x5a8bdc(_0x2a5a8d(0x1fb),{'allowedTags':['p'],'allowedClasses':{'p':[_0x10a369[_0x2a5a8d(0x219)]]}}),_0x2a5a8d(0x2aa));}),_0x10a369['GPaGK'](it,_0x10a369['YjeLv'],function(){var _0x19e89b=_0x257a70;assert[_0x19e89b(0x331)](_0x5a8bdc(_0x10a369[_0x19e89b(0x2cf)]),'');}),it(_0x10a369[_0x257a70(0x28d)],function(){var _0x18f67c=_0x257a70;assert[_0x18f67c(0x331)](_0x10a369[_0x18f67c(0x2f8)](_0x5a8bdc,_0x10a369[_0x18f67c(0x1d9)],{'allowedTags':['img'],'allowedAttributes':{'img':[_0x10a369[_0x18f67c(0x246)]]}}),'<img\x20src=\x22onmouseover=&quot;alert(\x27XSS\x27);&quot;\x22\x20/>');}),_0x10a369['cuUzg'](it,_0x10a369[_0x257a70(0x1d3)],function(){var _0x68f0a9=_0x257a70;_0x10a369[_0x68f0a9(0x242)](_0x10a369[_0x68f0a9(0x321)],_0x10a369['EesXF'])?_0x4b8e30['equal'](_0x10a369[_0x68f0a9(0x2b3)](_0x32ecaa,_0x10a369[_0x68f0a9(0x326)],{'nonTextTags':[_0x68f0a9(0x27a)]}),_0x10a369['TNNdE']):assert[_0x68f0a9(0x331)](_0x5a8bdc(_0x10a369[_0x68f0a9(0x25b)],{'allowedTags':[_0x10a369[_0x68f0a9(0x27b)],_0x10a369['Mzbpu']],'allowedAttributes':{'*':[_0x10a369[_0x68f0a9(0x2a7)],_0x10a369[_0x68f0a9(0x24c)],_0x10a369[_0x68f0a9(0x246)]]}}),_0x10a369[_0x68f0a9(0x230)]);}),it(_0x257a70(0x30a),function(){var _0x2a1115=_0x257a70,_0x4f5c9f={'vUvvF':_0x10a369[_0x2a1115(0x231)],'SQRQz':function(_0x99adc5,_0x1a45fc){return _0x10a369['lqKVS'](_0x99adc5,_0x1a45fc);},'HwKkZ':'return\x20Object.keys({a:1});','tPhWV':_0x2a1115(0x24b)};assert[_0x2a1115(0x331)](_0x5a8bdc(_0x10a369[_0x2a1115(0x281)],{'allowedTags':['a'],'allowedAttributes':{'a':[_0x10a369[_0x2a1115(0x228)],_0x2a1115(0x1eb)]},'transformTags':{'a':function(_0x8cd72,_0x179d01){var _0x3ac050=_0x2a1115;if(!_0x179d01['href'])eval('1 + 1;');return![];new AsyncFunction(_0x3ac050(0x31b))();return{'tagName':_0x8cd72,'attribs':{'target':_0x4f5c9f[_0x3ac050(0x21d)],'href':_0x179d01[_0x3ac050(0x330)]}};}},'exclusiveFilter':function(_0x1cdcaf){var _0x4e69ae=_0x2a1115;return _0x4f5c9f[_0x4e69ae(0x24d)](Function,_0x4f5c9f[_0x4e69ae(0x200)])(),_0x1cdcaf['tag']==='a'&&_0x1cdcaf['text'][_0x4e69ae(0x2f6)]()==_0x4f5c9f[_0x4e69ae(0x2d6)];}}),_0x2a1115(0x310));}),_0x10a369[_0x257a70(0x1c0)](it,_0x10a369[_0x257a70(0x273)],function(){var _0x11eaa2=_0x257a70,_0x94d69c={'DWheF':_0x11eaa2(0x240),'PjGTx':_0x10a369['JsMtC'],'BJqtD':function(_0x329ad5,_0x3264de,_0x79ddc6){var _0x312150=_0x11eaa2;return _0x10a369[_0x312150(0x2a1)](_0x329ad5,_0x3264de,_0x79ddc6);},'hodCL':_0x10a369[_0x11eaa2(0x2e2)],'dFPCa':_0x10a369[_0x11eaa2(0x231)]};assert[_0x11eaa2(0x331)](_0x10a369[_0x11eaa2(0x2f8)](_0x5a8bdc,_0x10a369[_0x11eaa2(0x256)],{'allowedTags':['a'],'allowedAttributes':{'a':[_0x10a369[_0x11eaa2(0x228)],_0x10a369[_0x11eaa2(0x1e5)]]},'transformTags':{'a':function(_0x37c49a,_0x304026){var _0x1f77b0=_0x11eaa2,_0x2f8e8d={'njZxC':_0x1f77b0(0x2b0)};if(_0x94d69c[_0x1f77b0(0x244)]!==_0x94d69c[_0x1f77b0(0x2c6)]){if(!_0x304026[_0x1f77b0(0x330)])_0x94d69c[_0x1f77b0(0x31c)](setTimeout,_0x94d69c[_0x1f77b0(0x32d)],0x3e8);return![];setInterval(_0x1f77b0(0x270),0x3e8);return{'tagName':_0x37c49a,'attribs':{'target':_0x94d69c[_0x1f77b0(0x337)],'href':_0x304026['href']}};}else _0x21e18f[_0x1f77b0(0x275)](_0x2f8e8d[_0x1f77b0(0x22e)]);}},'exclusiveFilter':function(_0x107a18){var _0x46b305=_0x11eaa2;return _0x10a369[_0x46b305(0x2e3)](setTimeout,'console.log(\x22timer\x22);',0x3e8),_0x10a369[_0x46b305(0x2a3)](_0x107a18[_0x46b305(0x2be)],'a')&&_0x10a369[_0x46b305(0x284)](_0x107a18[_0x46b305(0x293)][_0x46b305(0x2f6)](),_0x46b305(0x24b));}}),'');}),_0x10a369['ZZqKl'](it,_0x10a369[_0x257a70(0x26b)],function(){var _0x3ac12c=_0x257a70,_0x3bf536={'HaggI':_0x3ac12c(0x24a)};assert[_0x3ac12c(0x331)](_0x10a369[_0x3ac12c(0x234)](_0x5a8bdc,_0x3ac12c(0x320),{'allowedTags':['p'],'allowedAttributes':{'p':[_0x10a369['NqbCF']]},'transformTags':{'*':function(_0x2e7e9d,_0x3bf675){var _0x654166=_0x3ac12c;if(_0x10a369[_0x654166(0x2fe)](_0x10a369[_0x654166(0x24e)],_0x10a369[_0x654166(0x24e)]))_0x2cea56=_0x6034e(_0x3bf536[_0x654166(0x1dd)]);else return eval('1 + 1;'),{'tagName':_0x2e7e9d,'attribs':{'style':_0x654166(0x2d1)}};}}}),_0x10a369[_0x3ac12c(0x226)]);}),_0x10a369[_0x257a70(0x25d)](it,_0x10a369[_0x257a70(0x2b7)],function(){var _0x39104c=_0x257a70;assert['equal'](_0x5a8bdc(_0x10a369[_0x39104c(0x1f3)]),_0x39104c(0x239)),assert[_0x39104c(0x331)](_0x5a8bdc(_0x10a369['DLLve']),_0x10a369[_0x39104c(0x301)]);}),it(_0x10a369[_0x257a70(0x1ec)],function(){var _0x2cbb5f=_0x257a70;assert[_0x2cbb5f(0x331)](_0x10a369[_0x2cbb5f(0x234)](_0x5a8bdc,_0x2cbb5f(0x2e9),{'allowedTags':['a'],'allowedAttributes':{'a':[_0x10a369[_0x2cbb5f(0x2f1)]]}}),_0x10a369[_0x2cbb5f(0x31d)]),assert[_0x2cbb5f(0x331)](_0x5a8bdc(_0x10a369[_0x2cbb5f(0x259)],{'allowedTags':['a'],'allowedAttributes':{'a':[_0x10a369[_0x2cbb5f(0x221)]]}}),_0x2cbb5f(0x2ff));}),_0x10a369[_0x257a70(0x32a)](it,_0x10a369[_0x257a70(0x309)],function(){var _0x364782=_0x257a70;assert[_0x364782(0x331)](_0x10a369['kFQBb'](_0x5a8bdc,_0x10a369[_0x364782(0x325)],{'allowedTags':['a'],'allowedAttributes':{'a':[_0x10a369[_0x364782(0x20b)]]}}),_0x10a369[_0x364782(0x272)]);}),_0x10a369[_0x257a70(0x1f6)](it,_0x10a369[_0x257a70(0x1c7)],function(){var _0x291d3f=_0x257a70;assert[_0x291d3f(0x331)](_0x10a369[_0x291d3f(0x302)](_0x5a8bdc,_0x10a369[_0x291d3f(0x206)],{'allowedTags':['script']}),'&quot;normal\x20text&quot;<script>\x22this\x20is\x20code\x22</script>'),assert[_0x291d3f(0x331)](_0x5a8bdc(_0x291d3f(0x2f0),{'allowedTags':[_0x10a369[_0x291d3f(0x2c4)]]}),_0x291d3f(0x28a));}),it(_0x10a369[_0x257a70(0x32c)],function(){var _0x466982=_0x257a70,_0x125d0d={'uGWbC':_0x10a369[_0x466982(0x205)]};_0x10a369[_0x466982(0x332)]==='peCGm'?_0x1b950c[_0x466982(0x331)](_0x2ac90a(_0x125d0d['uGWbC']),'Nifty<p>Paragraph</p>'):assert[_0x466982(0x331)](_0x5a8bdc(_0x10a369[_0x466982(0x25c)],{'allowedTags':[_0x10a369[_0x466982(0x2c7)]]}),'<script>alert(\x22&quot;This\x20is\x20cool\x20but\x20just\x20ironically\x20so\x20I\x20quoted\x20it&quot;\x22)</script>');}),it(_0x10a369['bkyWi'],function(){var _0x4f6656=_0x257a70,_0x158bb9={'OlBPk':_0x10a369['FUzbJ']};_0x10a369[_0x4f6656(0x1d6)](_0x4f6656(0x23d),_0x10a369['PTSdS'])?_0x2a6008[_0x4f6656(0x331)](_0x43b46f(_0x4f6656(0x295)),_0x4f6656(0x295)):assert['equal'](_0x10a369[_0x4f6656(0x282)](_0x5a8bdc,_0x4f6656(0x333),{'textFilter':function(_0x2b69da){var _0x38ba63=_0x4f6656;return Function(_0x38ba63(0x262))(),_0x2b69da[_0x38ba63(0x25a)](_0x158bb9['OlBPk'],'');}}),_0x4f6656(0x25e));}),it(_0x10a369[_0x257a70(0x2fb)],function(){var _0x5730d6=_0x257a70;assert[_0x5730d6(0x331)](_0x10a369[_0x5730d6(0x282)](_0x5a8bdc,_0x10a369[_0x5730d6(0x1e4)],{'allowedTags':![],'allowedAttributes':![]}),_0x5730d6(0x2d3)),assert['equal'](_0x10a369[_0x5730d6(0x2df)](_0x5a8bdc,'<Archer><Sterling>I\x20am</Sterling></Archer>',{'allowedTags':![],'allowedAttributes':![],'parser':{'lowerCaseTags':![]}}),_0x10a369['qQfuy']);}),it(_0x257a70(0x2bc),function(){var _0x585be9=_0x257a70;assert[_0x585be9(0x331)](_0x10a369[_0x585be9(0x2d8)](_0x5a8bdc,'!<__proto__>!'),'!!');}),_0x10a369[_0x257a70(0x1e0)](it,_0x10a369[_0x257a70(0x1da)],function(){var _0x21dcde=_0x257a70;assert['equal'](_0x5a8bdc(_0x21dcde(0x324),{'allowedTags':[_0x21dcde(0x1d1)]}),_0x21dcde(0x324));});});