function _0x29e3(_0x528f23,_0x1a6c80){var _0x346e9b=_0x346e();return _0x29e3=function(_0x29e3bf,_0x27e2ee){_0x29e3bf=_0x29e3bf-0x1af;var _0x57274c=_0x346e9b[_0x29e3bf];return _0x57274c;},_0x29e3(_0x528f23,_0x1a6c80);}var _0x23defa=_0x29e3;(function(_0x589eb1,_0x1e7a21){var _0x4c5403=_0x29e3,_0x1712c7=_0x589eb1();while(!![]){try{var _0x4bda71=-parseInt(_0x4c5403(0x2c8))/0x1+-parseInt(_0x4c5403(0x1fe))/0x2+parseInt(_0x4c5403(0x22c))/0x3*(-parseInt(_0x4c5403(0x1cf))/0x4)+-parseInt(_0x4c5403(0x2e4))/0x5*(parseInt(_0x4c5403(0x1d9))/0x6)+parseInt(_0x4c5403(0x286))/0x7*(parseInt(_0x4c5403(0x2e8))/0x8)+-parseInt(_0x4c5403(0x2bb))/0x9*(parseInt(_0x4c5403(0x1c5))/0xa)+parseInt(_0x4c5403(0x311))/0xb;if(_0x4bda71===_0x1e7a21)break;else _0x1712c7['push'](_0x1712c7['shift']());}catch(_0x5d79a1){_0x1712c7['push'](_0x1712c7['shift']());}}}(_0x346e,0x29a01));var assert=require(_0x23defa(0x1cc));describe(_0x23defa(0x246),function(){var _0x3058f=_0x23defa,_0x16c294={'gjIdh':function(_0x5745db,_0x3aaf29){return _0x5745db(_0x3aaf29);},'KfcDS':'../index.js','hLvFb':_0x3058f(0x233),'nGnWD':'Blah\x20blah\x20blah<p>Whee!</p>','yRRlZ':_0x3058f(0x1eb),'zngXk':'<div>Hello</div>','PJMfV':_0x3058f(0x29b),'NNQRo':_0x3058f(0x2d0),'YeUKx':_0x3058f(0x241),'QZHNw':function(_0x3ede4e,_0x2c6f0c,_0x45a34f){return _0x3ede4e(_0x2c6f0c,_0x45a34f);},'JjELG':_0x3058f(0x214),'DjLIq':_0x3058f(0x20a),'wZfeW':_0x3058f(0x289),'uomPn':'<img\x20src=\x22foo.jpg\x22><p>Whee<p>Again<p>Wow<b>cool</b>','dNEEW':_0x3058f(0x305),'OuWDG':_0x3058f(0x25c),'SIfJJ':_0x3058f(0x29c),'hRcpS':'nifty','MteRE':_0x3058f(0x314),'udQfY':function(_0x3f0bfa,_0xc6cec3){return _0x3f0bfa!==_0xc6cec3;},'cDRGe':'oqRLS','jvfZf':_0x3058f(0x20e),'JxRUN':function(_0x24138c,_0x459deb){return _0x24138c(_0x459deb);},'UDFwn':_0x3058f(0x218),'WHebF':_0x3058f(0x240),'RgTgr':'gLhHP','kbswY':_0x3058f(0x2e6),'tzjBO':_0x3058f(0x217),'cLwIc':_0x3058f(0x253),'QDIXd':_0x3058f(0x1f3),'mRCBm':_0x3058f(0x1b4),'SMnSc':_0x3058f(0x1e8),'pmJNE':'<a\x20name=\x22&lt;silly&gt;\x22>&lt;Kapow!&gt;</a>','JKhVU':_0x3058f(0x29e),'OEkwE':_0x3058f(0x2cd),'bhXsx':'<a>Hax</a>','fHPUK':_0x3058f(0x1ba),'jbhSy':'<a\x20href=\x22awesome.html#this:stuff\x22>Hi</a>','yaFfN':_0x3058f(0x1f6),'XuzRP':function(_0x5c3fca,_0x4e9fbb){return _0x5c3fca(_0x4e9fbb);},'UDpax':_0x3058f(0x1c9),'iTfjd':function(_0x5b97e0,_0xfe7674){return _0x5b97e0(_0xfe7674);},'bKiYU':_0x3058f(0x222),'pvsRU':_0x3058f(0x249),'iLFjv':_0x3058f(0x2d4),'XDhmf':'&quot;normal\x20text&quot;<script>\x22this\x20is\x20code\x22</script>','fFMrf':_0x3058f(0x1bb),'zoKdv':'<ol><li>Hello\x20world</li></ol>','CLmGK':_0x3058f(0x278),'uzmXf':function(_0x30ad18,_0x3b8025,_0x55331d){return _0x30ad18(_0x3b8025,_0x55331d);},'gEJTC':'foo','ZUpii':'class','iOvHy':_0x3058f(0x200),'GzyPd':function(_0x2ac47b,_0x3d5ccf){return _0x2ac47b===_0x3d5ccf;},'IqQLS':'KycZf','SkvcL':_0x3058f(0x1c8),'ZoMJw':'<ol\x20foo=\x22foo\x22\x20bar=\x22bar\x22\x20baz=\x22baz\x22><li>Hello\x20world</li></ol>','xEVzX':_0x3058f(0x2ce),'FiUZF':function(_0x3ccc13,_0x398218){return _0x3ccc13+_0x398218;},'ngbID':_0x3058f(0x29a),'iVVuI':_0x3058f(0x1b1),'oyLHZ':_0x3058f(0x276),'SZLFA':_0x3058f(0x2ef),'jdeDX':function(_0x2c755a,_0x563763,_0x54077e){return _0x2c755a(_0x563763,_0x54077e);},'lPXTo':_0x3058f(0x2fb),'jkVci':_0x3058f(0x315),'fSPKj':_0x3058f(0x310),'Rpxyi':_0x3058f(0x22d),'jvTcS':function(_0xc61629,_0x18c48b,_0x190eb4){return _0xc61629(_0x18c48b,_0x190eb4);},'FBKhq':_0x3058f(0x293),'GdiVa':_0x3058f(0x30c),'UjAaR':_0x3058f(0x30f),'WwwVu':_0x3058f(0x31b),'iHIFX':_0x3058f(0x22e),'oIvIA':'updateClock();','FBURB':function(_0x5beb3b,_0xb72c24){return _0x5beb3b===_0xb72c24;},'KloEo':_0x3058f(0x226),'vZzKb':'<p>This\x20is\x20<br\x20/>Linux</p>','DwOPx':function(_0xed7cee,_0x1bd419,_0x1acaca){return _0xed7cee(_0x1bd419,_0x1acaca);},'YZyer':_0x3058f(0x1ce),'GEyNO':function(_0x22c24e,_0x2bc36e,_0x3a8327){return _0x22c24e(_0x2bc36e,_0x3a8327);},'WVBtg':function(_0x4c361c,_0x4239a5){return _0x4c361c(_0x4239a5);},'FILAS':function(_0x375945,_0x564ac0){return _0x375945!==_0x564ac0;},'bkrvZ':_0x3058f(0x1c0),'NpjGR':'<a\x20href=\x22http://google.com\x22>google</a><a\x20href=\x22HTTPS://google.com\x22>https\x20google</a><a\x20href=\x22ftp://example.com\x22>ftp</a><a\x20href=\x22mailto:test@test.com\x22>mailto</a><a\x20href=\x22/relative.html\x22>relative</a><a>javascript</a>','OBIJR':'kmtYl','dFyuB':_0x3058f(0x211),'yOnqO':_0x3058f(0x1f5),'epVAq':_0x3058f(0x236),'aVHAR':_0x3058f(0x2b6),'OSCZm':_0x3058f(0x288),'IzIsA':_0x3058f(0x1ea),'zMxdG':function(_0x47365b,_0x2ffb9f,_0x1a1a11){return _0x47365b(_0x2ffb9f,_0x1a1a11);},'CqUKP':_0x3058f(0x1e9),'FMxaB':_0x3058f(0x313),'VzLVg':_0x3058f(0x316),'KUagL':_0x3058f(0x20d),'ilOiu':_0x3058f(0x272),'UHRxA':'<table\x20bgcolor=\x221\x22\x20align=\x22left\x22><img\x20src=\x221.gif\x22\x20align=\x22center\x22\x20/></table>','QulVq':function(_0x477d05,_0x4a554){return _0x477d05+_0x4a554;},'vFHro':function(_0x64fef8,_0x3c4580){return _0x64fef8(_0x3c4580);},'qqjZz':_0x3058f(0x2f6),'KayAK':'_blank','RzjBG':'blah','xlpJq':'target','EfDew':_0x3058f(0x205),'dqUMd':function(_0x34b68e,_0x4e90ac,_0xdb52b){return _0x34b68e(_0x4e90ac,_0xdb52b);},'ZdFax':_0x3058f(0x2fc),'YdLAi':_0x3058f(0x2f0),'GrBFw':_0x3058f(0x2c2),'cfihL':_0x3058f(0x27d),'KKZXs':'data-*','gTguR':_0x3058f(0x24c),'KkaGN':_0x3058f(0x1e6),'qHDwH':_0x3058f(0x2b2),'squSd':_0x3058f(0x1db),'HVTuW':_0x3058f(0x24f),'uZvRM':function(_0x18aeba,_0x15cb96,_0x35ce54){return _0x18aeba(_0x15cb96,_0x35ce54);},'mxRhA':_0x3058f(0x227),'KDyaI':_0x3058f(0x1e1),'CwAyf':'dQQyt','RKaql':_0x3058f(0x1e7),'CKNzG':'<div>\x22normal\x20text\x22</div><style>body\x20{\x20background-image:\x20url(\x22image.test\x22);\x20}</style>','OqrtX':'style','mozpv':_0x3058f(0x304),'MhQuR':'&quot;normal\x20text&quot;','zxjre':_0x3058f(0x1f7),'CCTsc':_0x3058f(0x29f),'KODKL':function(_0x212776,_0x4faf6c,_0x5bd8aa){return _0x212776(_0x4faf6c,_0x5bd8aa);},'kqoij':'should\x20be\x20successfully\x20initialized','QHGaV':function(_0x21a4e6,_0x2e3e09,_0x5009f0){return _0x21a4e6(_0x2e3e09,_0x5009f0);},'OrcyN':'should\x20reject\x20attributes\x20not\x20whitelisted','zgmgN':_0x3058f(0x2ae),'MITkK':_0x3058f(0x219),'swVDC':function(_0x6740c9,_0x2fd38e,_0x49a3fc){return _0x6740c9(_0x2fd38e,_0x49a3fc);},'YhboQ':_0x3058f(0x1f4),'fxQMR':function(_0x29a27d,_0x2b6b6d,_0x33c78d){return _0x29a27d(_0x2b6b6d,_0x33c78d);},'PjCef':_0x3058f(0x2ee),'WfKfp':function(_0x3a7e93,_0x175cf5,_0x995b9c){return _0x3a7e93(_0x175cf5,_0x995b9c);},'wyEqQ':_0x3058f(0x250),'sBRVs':_0x3058f(0x292),'xDZUg':function(_0x1f23bf,_0x42f82e,_0x5518ce){return _0x1f23bf(_0x42f82e,_0x5518ce);},'eQnTq':function(_0x4d5d86,_0x36aeea,_0x40cad3){return _0x4d5d86(_0x36aeea,_0x40cad3);},'zQZkp':_0x3058f(0x228),'HBeuA':_0x3058f(0x2e9),'OLdDt':_0x3058f(0x319),'jFMKa':function(_0x464846,_0x1a58c4,_0x54c0a3){return _0x464846(_0x1a58c4,_0x54c0a3);},'bpGMw':'should\x20dump\x20character\x20codes\x201-32\x20before\x20testing\x20scheme','DkfOg':_0x3058f(0x274),'DuJDD':function(_0x4dcfd5,_0x3722ad,_0x2e0459){return _0x4dcfd5(_0x3722ad,_0x2e0459);},'oqySA':'should\x20replace\x20ol\x20to\x20ul','vbzij':function(_0x4f7704,_0x5e227d,_0x4922f3){return _0x4f7704(_0x5e227d,_0x4922f3);},'YTRvc':function(_0x192e14,_0xba7bd9,_0x176f30){return _0x192e14(_0xba7bd9,_0x176f30);},'GWkWv':_0x3058f(0x1b0),'PvqbC':function(_0x491ea5,_0x5114a3,_0x231865){return _0x491ea5(_0x5114a3,_0x231865);},'TUuVL':_0x3058f(0x2a4),'gzLdJ':function(_0x5f26ff,_0x4d3e7a,_0x21a904){return _0x5f26ff(_0x4d3e7a,_0x21a904);},'CZWIS':_0x3058f(0x1af),'RaUbK':function(_0x40e86e,_0x55781b,_0x4f5cdc){return _0x40e86e(_0x55781b,_0x4f5cdc);},'uTvMw':_0x3058f(0x1dc),'bYIJv':_0x3058f(0x2bf),'JkQLx':function(_0x266109,_0x4f3901,_0x1e7584){return _0x266109(_0x4f3901,_0x1e7584);},'WdkDv':_0x3058f(0x1e4),'Oahgy':'should\x20not\x20crash\x20on\x20bad\x20markup','RLCje':function(_0x1d68ee,_0x108c24,_0x1a54cb){return _0x1d68ee(_0x108c24,_0x1a54cb);},'QqKAN':_0x3058f(0x1bc),'fghrj':'should\x20allow\x20attributes\x20to\x20be\x20specified\x20as\x20globs','dhTZF':_0x3058f(0x2b4),'PAaNt':_0x3058f(0x294),'TaacY':_0x3058f(0x231)},_0x1f2f2c;it(_0x16c294[_0x3058f(0x24a)],function(){var _0x586de1=_0x3058f;_0x1f2f2c=_0x16c294[_0x586de1(0x244)](require,_0x16c294[_0x586de1(0x26b)]);}),it('should\x20pass\x20through\x20simple\x20well-formed\x20whitelisted\x20markup',function(){var _0x23cf72=_0x3058f;assert[_0x23cf72(0x2aa)](_0x16c294['gjIdh'](_0x1f2f2c,_0x23cf72(0x201)),'<div><p>Hello\x20<b>there</b></p></div>');}),_0x16c294[_0x3058f(0x1d0)](it,_0x3058f(0x2a7),function(){var _0x1efa10=_0x3058f;assert[_0x1efa10(0x2aa)](_0x1f2f2c(_0x1efa10(0x233),{'allowedTags':![],'allowedAttributes':![]}),_0x16c294['hLvFb']);}),_0x16c294['zMxdG'](it,_0x3058f(0x260),function(){var _0x540857=_0x3058f;assert[_0x540857(0x2aa)](_0x1f2f2c(_0x16c294[_0x540857(0x1f0)]),_0x540857(0x281));}),_0x16c294[_0x3058f(0x1d0)](it,_0x3058f(0x30a),function(){var _0x35a02e=_0x3058f;assert[_0x35a02e(0x2aa)](_0x1f2f2c(_0x16c294['yRRlZ']),_0x16c294[_0x35a02e(0x297)]);}),it(_0x3058f(0x2da),function(){var _0x2c15e9=_0x3058f;assert[_0x2c15e9(0x2aa)](_0x1f2f2c(_0x2c15e9(0x2fb),{'allowedTags':[_0x2c15e9(0x315),_0x16c294['PJMfV']]}),_0x16c294[_0x2c15e9(0x2dd)]);}),_0x16c294[_0x3058f(0x2af)](it,_0x16c294[_0x3058f(0x2fe)],function(){var _0x3de8c6=_0x3058f;assert[_0x3de8c6(0x2aa)](_0x1f2f2c(_0x3de8c6(0x214)),_0x16c294[_0x3de8c6(0x2f3)]);}),it(_0x16c294[_0x3058f(0x1b7)],function(){var _0x549399=_0x3058f;assert[_0x549399(0x2aa)](_0x16c294[_0x549399(0x1c3)](_0x1f2f2c,_0x16c294[_0x549399(0x1e5)],{'allowedAttributes':{'a':[_0x16c294[_0x549399(0x312)],_0x549399(0x1e0)]}}),_0x549399(0x214));}),it(_0x16c294[_0x3058f(0x2b1)],function(){var _0x4d5366=_0x3058f,_0x49c49e={'CHUkz':function(_0x1a3ae6,_0x2669c2){var _0x29343d=_0x29e3;return _0x16c294[_0x29343d(0x244)](_0x1a3ae6,_0x2669c2);},'bYaGB':'<a\x20href=\x22awesome.html#this:stuff\x22>Hi</a>'};_0x16c294['wZfeW']!==_0x16c294[_0x4d5366(0x206)]?_0x447388['equal'](_0x49c49e[_0x4d5366(0x2b5)](_0x22ce32,_0x4d5366(0x239)),_0x49c49e['bYaGB']):assert[_0x4d5366(0x2aa)](_0x1f2f2c(_0x16c294['uomPn'],{'allowedTags':_0x1f2f2c[_0x4d5366(0x216)][_0x4d5366(0x1d6)]['concat']([_0x16c294[_0x4d5366(0x1ef)]])}),'<img\x20src=\x22foo.jpg\x22\x20/><p>Whee</p><p>Again</p><p>Wow<b>cool</b></p>');}),_0x16c294[_0x3058f(0x302)](it,_0x3058f(0x2be),function(){var _0x205d8f=_0x3058f;assert[_0x205d8f(0x2aa)](_0x1f2f2c(_0x205d8f(0x284)),_0x16c294['OuWDG']);}),_0x16c294[_0x3058f(0x2de)](it,_0x16c294[_0x3058f(0x2c1)],function(){var _0x5be43a=_0x3058f;assert[_0x5be43a(0x2aa)](_0x16c294[_0x5be43a(0x244)](_0x1f2f2c,_0x5be43a(0x208)),_0x5be43a(0x321));}),_0x16c294['fxQMR'](it,_0x16c294[_0x3058f(0x1f8)],function(){var _0x186c74=_0x3058f;assert[_0x186c74(0x2aa)](_0x1f2f2c(_0x186c74(0x2cb)),_0x186c74(0x218));}),_0x16c294[_0x3058f(0x1b2)](it,_0x3058f(0x1bf),function(){var _0x59803b=_0x3058f;_0x16c294[_0x59803b(0x1e2)](_0x16c294[_0x59803b(0x317)],_0x16c294[_0x59803b(0x2b8)])?assert[_0x59803b(0x2aa)](_0x16c294[_0x59803b(0x2d2)](_0x1f2f2c,_0x59803b(0x263)),_0x16c294[_0x59803b(0x25b)]):_0x2544fe[_0x59803b(0x2aa)](_0x14d4be(_0x16c294['SIfJJ'],{'allowedTags':['p'],'allowedClasses':{'p':[_0x16c294[_0x59803b(0x2fa)]]}}),_0x16c294['MteRE']);}),it(_0x16c294[_0x3058f(0x264)],function(){var _0x5bb4a5=_0x3058f;assert[_0x5bb4a5(0x2aa)](_0x1f2f2c('<textarea>Nifty</textarea><p>Paragraph</p>'),_0x16c294[_0x5bb4a5(0x25b)]);}),it(_0x3058f(0x1d3),function(){var _0x57320e=_0x3058f,_0x286923={'ZkNSG':'text-align:\x20center;','ciugF':_0x16c294[_0x57320e(0x22f)],'mjXpg':_0x57320e(0x30e)};'gLhHP'!==_0x16c294[_0x57320e(0x1fa)]?_0x124215[_0x57320e(0x2aa)](_0x513c56(_0x286923[_0x57320e(0x1fb)],{'allowedTags':['p'],'allowedAttributes':{'p':[_0x286923[_0x57320e(0x25d)]]},'transformTags':{'*':function(_0x3dd62b,_0xa32f46){return eval('var _0x25f7ca = _0x29e3;_0x4ec5f0[_0x25f7ca(774)]({ \'safe\': !![] });'),{'tagName':_0x3dd62b,'attribs':{'style':_0x286923['ZkNSG']}};}}}),_0x57320e(0x2fc)):assert['equal'](_0x16c294[_0x57320e(0x244)](_0x1f2f2c,_0x57320e(0x1b5)),_0x16c294[_0x57320e(0x25b)]);}),_0x16c294[_0x3058f(0x302)](it,_0x3058f(0x21b),function(){var _0x46a264=_0x3058f;assert[_0x46a264(0x2aa)](_0x16c294[_0x46a264(0x244)](_0x1f2f2c,_0x16c294['kbswY']),_0x16c294[_0x46a264(0x2d8)]);}),it(_0x16c294[_0x3058f(0x203)],function(){var _0x3f19f8=_0x3058f;assert[_0x3f19f8(0x2aa)](_0x16c294[_0x3f19f8(0x1c3)](_0x1f2f2c,_0x16c294[_0x3f19f8(0x303)],{'nonTextTags':[_0x16c294[_0x3f19f8(0x270)]]}),_0x16c294[_0x3f19f8(0x25b)]);}),_0x16c294[_0x3058f(0x30b)](it,_0x3058f(0x2f8),function(){var _0x1e0eb4=_0x3058f;assert[_0x1e0eb4(0x2aa)](_0x16c294[_0x1e0eb4(0x1c3)](_0x1f2f2c,_0x1e0eb4(0x25f),{}),_0x16c294[_0x1e0eb4(0x2a1)]);}),_0x16c294[_0x3058f(0x23d)](it,_0x3058f(0x261),function(){var _0x246724=_0x3058f;assert[_0x246724(0x2aa)](_0x1f2f2c('<fibble>Ni<em>f</em>ty</fibble><p>Paragraph</p>',{'nonTextTags':[_0x16c294[_0x246724(0x270)]]}),_0x246724(0x218));}),_0x16c294['QHGaV'](it,_0x3058f(0x279),function(){var _0x5c1c9e=_0x3058f;assert[_0x5c1c9e(0x2aa)](_0x1f2f2c(_0x16c294['mRCBm'],{'allowedTags':[_0x16c294[_0x5c1c9e(0x2b3)],'p']}),_0x16c294[_0x5c1c9e(0x202)]);}),_0x16c294[_0x3058f(0x266)](it,'should\x20preserve\x20entities\x20as\x20such',function(){var _0x2af805=_0x3058f;assert[_0x2af805(0x2aa)](_0x1f2f2c(_0x16c294['pmJNE']),_0x2af805(0x2df));}),_0x16c294[_0x3058f(0x30b)](it,_0x3058f(0x1f9),function(){var _0x1eac39=_0x3058f;_0x1eac39(0x2b9)!==_0x16c294[_0x1eac39(0x23b)]?assert[_0x1eac39(0x2aa)](_0x1f2f2c(_0x1eac39(0x2e0)),_0x16c294[_0x1eac39(0x1ca)]):_0x389924=_0x16c294[_0x1eac39(0x2d2)](_0x5baf10,_0x1eac39(0x2a0));}),it(_0x16c294[_0x3058f(0x31e)],function(){var _0x3ae592=_0x3058f;assert[_0x3ae592(0x2aa)](_0x16c294[_0x3ae592(0x244)](_0x1f2f2c,_0x3ae592(0x1ec)),_0x16c294['bhXsx']);}),it('should\x20dump\x20an\x20uppercase\x20javascript\x20url',function(){var _0x457f6b=_0x3058f,_0x41f5b6={'yoARt':function(_0x2ee06a,_0x285931){return _0x2ee06a(_0x285931);},'juVnE':_0x457f6b(0x2cb),'wuvpn':_0x457f6b(0x218)};_0x16c294[_0x457f6b(0x230)]===_0x16c294['fHPUK']?assert[_0x457f6b(0x2aa)](_0x16c294[_0x457f6b(0x244)](_0x1f2f2c,'<a\x20href=\x22JAVASCRIPT:alert(\x27foo\x27)\x22>Hax</a>'),_0x457f6b(0x2eb)):_0x2f056b[_0x457f6b(0x2aa)](_0x41f5b6[_0x457f6b(0x296)](_0x2a04a3,_0x41f5b6[_0x457f6b(0x2e2)]),_0x41f5b6[_0x457f6b(0x2bc)]);}),it(_0x16c294[_0x3058f(0x1cb)],function(){var _0x6f1f6d=_0x3058f;assert['equal'](_0x16c294[_0x6f1f6d(0x244)](_0x1f2f2c,_0x6f1f6d(0x21f)),_0x6f1f6d(0x2eb));}),it(_0x16c294[_0x3058f(0x247)],function(){var _0x481c27=_0x3058f;assert[_0x481c27(0x2aa)](_0x16c294[_0x481c27(0x2d2)](_0x1f2f2c,_0x16c294['jbhSy']),_0x481c27(0x239));}),_0x16c294['jFMKa'](it,_0x16c294[_0x3058f(0x23a)],function(){var _0x40aff0=_0x3058f;assert[_0x40aff0(0x2aa)](_0x16c294[_0x40aff0(0x244)](_0x1f2f2c,_0x16c294[_0x40aff0(0x308)]),_0x40aff0(0x2eb));}),it(_0x16c294['DkfOg'],function(){var _0x4277aa=_0x3058f;assert['equal'](_0x16c294['XuzRP'](_0x1f2f2c,_0x16c294[_0x4277aa(0x243)]),_0x4277aa(0x2eb)),assert[_0x4277aa(0x2aa)](_0x16c294[_0x4277aa(0x2bd)](_0x1f2f2c,_0x16c294[_0x4277aa(0x2f5)]),_0x16c294[_0x4277aa(0x2e7)]);}),_0x16c294[_0x3058f(0x2c7)](it,_0x3058f(0x2d5),function(){var _0x3f8950=_0x3058f;assert[_0x3f8950(0x2aa)](_0x16c294[_0x3f8950(0x2bd)](_0x1f2f2c,_0x16c294[_0x3f8950(0x1b6)]),_0x16c294[_0x3f8950(0x1b6)]);}),it(_0x3058f(0x2ea),function(){var _0xa7a9cd=_0x3058f,_0x3d616d={'KjzoE':_0xa7a9cd(0x20f),'bthZY':_0x16c294[_0xa7a9cd(0x2ff)],'OMUaS':function(_0x5b4c96,_0x50d820,_0x17d9c7){var _0x561efa=_0xa7a9cd;return _0x16c294[_0x561efa(0x1c3)](_0x5b4c96,_0x50d820,_0x17d9c7);},'Usxgg':'style'};_0x16c294[_0xa7a9cd(0x1c2)]!==_0xa7a9cd(0x2ed)?assert[_0xa7a9cd(0x2aa)](_0x1f2f2c(_0xa7a9cd(0x26a)),_0xa7a9cd(0x26a)):(_0x3283bc[_0xa7a9cd(0x2aa)](_0x22ee1b(_0x3d616d['KjzoE'],{'allowedTags':[_0xa7a9cd(0x1e7)]}),_0x3d616d['bthZY']),_0x3f75aa[_0xa7a9cd(0x2aa)](_0x3d616d[_0xa7a9cd(0x290)](_0x2c4a70,_0xa7a9cd(0x26f),{'allowedTags':[_0x3d616d[_0xa7a9cd(0x21e)]]}),_0xa7a9cd(0x291)));}),_0x16c294[_0x3058f(0x1b2)](it,_0x16c294['oqySA'],function(){var _0x4f8bc8=_0x3058f;assert[_0x4f8bc8(0x2aa)](_0x1f2f2c(_0x16c294[_0x4f8bc8(0x252)],{'transformTags':{'ol':'ul'}}),_0x16c294[_0x4f8bc8(0x204)]);}),_0x16c294[_0x3058f(0x280)](it,'should\x20replace\x20ol\x20to\x20ul\x20and\x20add\x20class\x20attribute\x20with\x20foo\x20value',function(){var _0x3e7f40=_0x3058f;assert[_0x3e7f40(0x2aa)](_0x16c294['uzmXf'](_0x1f2f2c,_0x16c294[_0x3e7f40(0x252)],{'transformTags':{'ol':_0x1f2f2c[_0x3e7f40(0x24e)]('ul',{'class':_0x16c294[_0x3e7f40(0x23c)]})},'allowedAttributes':{'ul':[_0x16c294[_0x3e7f40(0x1d1)]]}}),_0x16c294[_0x3e7f40(0x2e5)]);}),_0x16c294[_0x3058f(0x224)](it,_0x3058f(0x23f),function(){var _0x460a0c=_0x3058f,_0x588683={'Ahggg':'img','BWllf':_0x460a0c(0x248)};_0x16c294['GzyPd'](_0x16c294[_0x460a0c(0x251)],_0x16c294['SkvcL'])?_0xcc8b20[_0x460a0c(0x2aa)](_0x458f74(_0x460a0c(0x287),{'allowedTags':[_0x588683[_0x460a0c(0x1cd)]],'allowedAttributes':{'img':[_0x460a0c(0x313)]}}),_0x588683['BWllf']):assert[_0x460a0c(0x2aa)](_0x1f2f2c(_0x16c294[_0x460a0c(0x31c)],{'transformTags':{'ol':_0x1f2f2c[_0x460a0c(0x24e)]('ul',{'class':_0x16c294['gEJTC']})},'allowedAttributes':{'ul':['foo',_0x460a0c(0x1b1),'class']}}),_0x16c294[_0x460a0c(0x257)]);}),it(_0x16c294[_0x3058f(0x210)],function(){var _0x3efb02=_0x3058f;_0x16c294[_0x3efb02(0x2d9)]!==_0x16c294[_0x3efb02(0x2d9)]?AICrdN[_0x3efb02(0x221)](0x1,0x1):assert[_0x3efb02(0x2aa)](_0x1f2f2c(_0x16c294[_0x3efb02(0x31c)],{'transformTags':{'ol':_0x1f2f2c[_0x3efb02(0x24e)]('ul',{'class':_0x3efb02(0x300)},![])},'allowedAttributes':{'ul':[_0x3efb02(0x300),_0x16c294[_0x3efb02(0x262)],_0x16c294['ZUpii']]}}),_0x16c294['iOvHy']);}),_0x16c294[_0x3058f(0x29d)](it,_0x3058f(0x2a8),function(){var _0x2e4efc=_0x3058f;assert[_0x2e4efc(0x2aa)](_0x1f2f2c(_0x2e4efc(0x27e),{'transformTags':{'ol':function(_0x1ae19b,_0x47bba7){var _0x2ba9ba=_0x2e4efc;return _0x47bba7[_0x2ba9ba(0x1d4)]=_0x2ba9ba(0x300),_0x47bba7[_0x2ba9ba(0x1b1)]=_0x16c294[_0x2ba9ba(0x262)],eval('1 + 1;'),{'tagName':'ul','attribs':_0x47bba7};}},'allowedAttributes':{'ul':['bar','class']}}),_0x16c294[_0x2e4efc(0x28f)]);}),it(_0x16c294[_0x3058f(0x2e3)],function(){var _0x4f1b1e=_0x3058f,_0x4a7c9c={'ymOqh':function(_0x557687,_0x44ec17,_0x4f1bd2){var _0x389a96=_0x29e3;return _0x16c294[_0x389a96(0x269)](_0x557687,_0x44ec17,_0x4f1bd2);},'DguJW':_0x16c294[_0x4f1b1e(0x245)],'CCUGw':_0x16c294[_0x4f1b1e(0x2d3)],'NNQZA':_0x16c294['PJMfV']};_0x16c294[_0x4f1b1e(0x318)]===_0x16c294[_0x4f1b1e(0x27c)]?_0x111fed['equal'](_0x4a7c9c[_0x4f1b1e(0x2b0)](_0x423918,_0x4a7c9c[_0x4f1b1e(0x282)],{'allowedTags':[_0x4a7c9c[_0x4f1b1e(0x2c4)],_0x4a7c9c['NNQZA']]}),_0x4f1b1e(0x2d0)):assert['equal'](_0x16c294[_0x4f1b1e(0x309)](_0x1f2f2c,_0x16c294['FBKhq'],{'transformTags':{'a':function(_0x432882,_0x5a5581){var _0x2e2d45=_0x4f1b1e;return Function(_0x16c294[_0x2e2d45(0x1ed)])(),{'tagName':_0x432882,'attribs':_0x5a5581,'text':''};}}}),_0x4f1b1e(0x322));}),_0x16c294[_0x3058f(0x27a)](it,'should\x20replace\x20text\x20and\x20attributes\x20when\x20they\x20are\x20changed\x20by\x20transforming\x20function\x20and\x20textFilter\x20is\x20set',function(){var _0x2ea403=_0x3058f,_0x2bb11f={'AOHFp':function(_0x2d9c25,_0x253302){return _0x2d9c25!==_0x253302;},'fPzuq':_0x16c294[_0x2ea403(0x275)]};assert[_0x2ea403(0x2aa)](_0x16c294[_0x2ea403(0x309)](_0x1f2f2c,'<a\x20href=\x22http://somelink\x22>some\x20text</a>',{'transformTags':{'a':function(_0x4dda2f,_0x68d979){var _0x419ef0=_0x2ea403;return Function(_0x16c294[_0x419ef0(0x320)])(),{'tagName':_0x4dda2f,'attribs':_0x68d979,'text':_0x16c294[_0x419ef0(0x242)]};}},'textFilter':function(_0x128e4c){var _0x54cc0b=_0x2ea403;if(_0x2bb11f[_0x54cc0b(0x220)](_0x54cc0b(0x31b),_0x2bb11f[_0x54cc0b(0x1f2)])){if(!_0x14dc8e['href'])_0x21a863(_0x54cc0b(0x2ef))();return![];eval('1 + 1;');return{'tagName':_0x19d5fb,'attribs':{'target':_0x54cc0b(0x2ab),'href':_0x3f4229[_0x54cc0b(0x20a)]}};}else return eval('1 + 1;'),_0x128e4c[_0x54cc0b(0x22a)](/\s/g,'_');}}),_0x16c294[_0x2ea403(0x277)]);}),_0x16c294[_0x3058f(0x271)](it,_0x3058f(0x20b),function(){var _0xbc9b85=_0x3058f,_0x1cc571={'LBnsY':function(_0xa4220d,_0x3da37a,_0x58d5a){return _0xa4220d(_0x3da37a,_0x58d5a);},'YraGL':_0x16c294[_0xbc9b85(0x23e)],'nZDDc':function(_0x676b2e,_0x9b9c47){return _0x16c294['FBURB'](_0x676b2e,_0x9b9c47);}};assert[_0xbc9b85(0x1c4)](_0x1f2f2c(_0x16c294[_0xbc9b85(0x256)],{'exclusiveFilter':function(_0x2e9c79){var _0x538ce7=_0xbc9b85;return _0x1cc571[_0x538ce7(0x2f9)](setInterval,_0x1cc571[_0x538ce7(0x267)],0x3e8),_0x1cc571['nZDDc'](_0x2e9c79['tag'],'a')&&!_0x2e9c79[_0x538ce7(0x235)]['trim']();}}),_0x16c294[_0xbc9b85(0x1be)]);}),_0x16c294['WfKfp'](it,_0x3058f(0x1b3),function(){var _0x34b706=_0x3058f,_0x794aee={'OufCn':function(_0x548e49,_0x21b21e){var _0x591132=_0x29e3;return _0x16c294[_0x591132(0x298)](_0x548e49,_0x21b21e);},'uzZce':'XJpKL','SyLBo':_0x34b706(0x2ad),'XnySM':function(_0x5de0b7,_0x4b978a,_0xcee6fa){return _0x5de0b7(_0x4b978a,_0xcee6fa);}};assert[_0x34b706(0x1c4)](_0x16c294[_0x34b706(0x28b)](_0x1f2f2c,_0x34b706(0x2d7),{'exclusiveFilter':function(_0x4cd62f){var _0x3c7978=_0x34b706,_0x33cf4e={'heCdX':function(_0x22345a,_0x16b791){return _0x22345a(_0x16b791);}};if(_0x794aee['OufCn'](_0x4cd62f[_0x3c7978(0x2b7)],'p'))assert[_0x3c7978(0x1c4)](_0x4cd62f[_0x3c7978(0x235)],'124');else{if(_0x794aee['OufCn'](_0x4cd62f[_0x3c7978(0x2b7)],'a'))return assert[_0x3c7978(0x1c4)](_0x4cd62f[_0x3c7978(0x235)],'3'),setInterval(_0x3c7978(0x223),0x3e8),!![];else _0x794aee[_0x3c7978(0x1fd)](_0x4cd62f['tag'],'br')?_0x794aee['uzZce']!=='XJpKL'?_0x43d500[_0x3c7978(0x2aa)](_0x33cf4e[_0x3c7978(0x28a)](_0x4768fa,_0x3c7978(0x21f)),'<a>Hax</a>'):assert[_0x3c7978(0x1c4)](_0x4cd62f['text'],''):assert[_0x3c7978(0x2f7)](_0x794aee['SyLBo'],_0x4cd62f['tag']);}return _0x794aee[_0x3c7978(0x1b8)](setInterval,_0x3c7978(0x223),0x3e8),![];}}),_0x16c294[_0x34b706(0x307)]);}),_0x16c294[_0x3058f(0x1c1)](it,_0x16c294['CZWIS'],function(){var _0x2c7444=_0x3058f;assert[_0x2c7444(0x1c4)](_0x16c294[_0x2c7444(0x266)](_0x1f2f2c,_0x2c7444(0x2a9),{'exclusiveFilter':function(_0x2ae4e0){var _0xf98c2b=_0x2c7444;return eval('1 + 1;'),(_0x16c294[_0xf98c2b(0x1df)](_0x2ae4e0['tag'],'a')||_0x2ae4e0[_0xf98c2b(0x2b7)]==='p')&&!_0x2ae4e0[_0xf98c2b(0x235)][_0xf98c2b(0x259)]();}}),'');}),_0x16c294[_0x3058f(0x273)](it,_0x16c294[_0x3058f(0x258)],function(){var _0x878537=_0x3058f,_0x223a0b={'hRnVB':function(_0x476945,_0x2357b1){var _0x2d7e84=_0x29e3;return _0x16c294[_0x2d7e84(0x1ff)](_0x476945,_0x2357b1);}};_0x16c294[_0x878537(0x237)](_0x878537(0x1c0),_0x16c294[_0x878537(0x207)])?_0x9d0991[_0x878537(0x2aa)](_0x12e4a5(_0x878537(0x215),{'allowedTags':['a'],'allowedAttributes':{'a':[_0x878537(0x20a),_0x878537(0x20c)]},'transformTags':{'a':function(_0xd9fa61,_0x45bd85){var _0x2e1977=_0x878537;if(!_0x45bd85[_0x2e1977(0x20a)])_0x149bb8(_0x2e1977(0x30c))();return![];_0x223a0b[_0x2e1977(0x2ec)](_0x5257fb,'return\x20Object.keys({a:1});')();return{'tagName':_0xd9fa61,'attribs':{'target':_0x2e1977(0x2ab),'href':_0x45bd85['href']}};}},'exclusiveFilter':function(_0xc26fc6){var _0x4c5e82=_0x878537;return new _0x2ac482(_0x4c5e82(0x285))(),_0xc26fc6['tag']==='a'&&_0xc26fc6[_0x4c5e82(0x235)]['trim']()==_0x4c5e82(0x21d);}}),''):assert[_0x878537(0x1c4)](_0x1f2f2c(_0x878537(0x21c),{'exclusiveFilter':function(_0x367353){var _0x2d4eca=_0x878537;return new AsyncFunction(_0x2d4eca(0x1d2))(),_0x367353[_0x2d4eca(0x2b7)]==='a'&&!_0x367353['text'][_0x2d4eca(0x259)]();}}),_0x878537(0x21c));}),it(_0x3058f(0x25a),function(){var _0x1fa1b5=_0x3058f,_0x328693={'RgqBM':function(_0x1a12d6,_0x484241){return _0x1a12d6(_0x484241);},'nQyZF':_0x1fa1b5(0x208),'Duoau':_0x16c294[_0x1fa1b5(0x2ca)]};_0x16c294[_0x1fa1b5(0x298)](_0x16c294['OBIJR'],_0x1fa1b5(0x268))?assert[_0x1fa1b5(0x2aa)](_0x1f2f2c(_0x16c294[_0x1fa1b5(0x209)],{'allowedTags':[_0x16c294['dNEEW']]}),_0x16c294[_0x1fa1b5(0x2c6)]):_0x2b69bd[_0x1fa1b5(0x2aa)](_0x328693[_0x1fa1b5(0x254)](_0x27246b,_0x328693['nQyZF']),_0x328693['Duoau']);}),it(_0x16c294[_0x3058f(0x2d1)],function(){var _0x4cd614=_0x3058f;assert[_0x4cd614(0x2aa)](_0x1f2f2c(_0x16c294[_0x4cd614(0x209)],{'allowedTags':['img','p'],'allowedSchemes':['data',_0x16c294[_0x4cd614(0x234)]]}),_0x16c294[_0x4cd614(0x209)]);}),_0x16c294['JkQLx'](it,_0x16c294[_0x3058f(0x212)],function(){var _0x2e199c=_0x3058f;assert[_0x2e199c(0x2aa)](_0x1f2f2c(_0x16c294[_0x2e199c(0x1f1)],{'allowedTags':['p'],'allowedClasses':{'p':[_0x16c294[_0x2e199c(0x2fa)]]}}),_0x16c294['OSCZm']);}),it(_0x3058f(0x2fd),function(){var _0x588a94=_0x3058f;assert['equal'](_0x1f2f2c(_0x588a94(0x28e),{'allowedTags':[_0x16c294[_0x588a94(0x1ef)],'a'],'allowedSchemes':[_0x588a94(0x236)],'allowedSchemesByTag':{'img':[_0x588a94(0x232)],'a':[_0x588a94(0x1ee)]}}),'<img\x20src=\x22data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\x22\x20/><a\x20href=\x22https://www.example.com\x22></a>'),assert['equal'](_0x1f2f2c(_0x588a94(0x28e),{'allowedTags':[_0x588a94(0x305),'a'],'allowedSchemes':[_0x588a94(0x236)],'allowedSchemesByTag':{'img':[],'a':[_0x588a94(0x1ee)]}}),_0x16c294['IzIsA']);}),it(_0x3058f(0x1b9),function(){var _0x3bc108=_0x3058f;_0x3bc108(0x28c)!=='rGIEL'?_0x3f9b0f['equal'](_0x16c294[_0x3bc108(0x2f1)](_0x42a3db,'<ol><li>Hello\x20world</li></ol>',{'transformTags':{'ol':_0x75c46e[_0x3bc108(0x24e)]('ul',{'class':_0x16c294['gEJTC']})},'allowedAttributes':{'ul':[_0x3bc108(0x1d4)]}}),_0x16c294[_0x3bc108(0x2e5)]):assert[_0x3bc108(0x2aa)](_0x1f2f2c(_0x16c294['SIfJJ'],{'allowedTags':['p'],'allowedClasses':{'p':[_0x3bc108(0x299)]}}),_0x3bc108(0x314));}),it(_0x16c294[_0x3058f(0x26d)],function(){var _0x4aade0=_0x3058f;assert[_0x4aade0(0x2aa)](_0x1f2f2c(_0x16c294[_0x4aade0(0x2d6)]),'');}),it(_0x3058f(0x2f4),function(){var _0x6ed6d6=_0x3058f;assert[_0x6ed6d6(0x2aa)](_0x16c294[_0x6ed6d6(0x1c3)](_0x1f2f2c,_0x6ed6d6(0x287),{'allowedTags':[_0x6ed6d6(0x305)],'allowedAttributes':{'img':[_0x16c294[_0x6ed6d6(0x2f2)]]}}),_0x6ed6d6(0x248));}),_0x16c294['uZvRM'](it,_0x3058f(0x2dc),function(){var _0x43981f=_0x3058f;assert[_0x43981f(0x2aa)](_0x1f2f2c(_0x16c294['VzLVg'],{'allowedTags':[_0x16c294[_0x43981f(0x1fc)],_0x16c294[_0x43981f(0x1ef)]],'allowedAttributes':{'*':[_0x16c294[_0x43981f(0x28d)],_0x43981f(0x238),_0x16c294[_0x43981f(0x2f2)]]}}),_0x16c294['UHRxA']);}),_0x16c294[_0x3058f(0x309)](it,_0x3058f(0x2db),function(){var _0x1946b4=_0x3058f,_0x5c89ce={'ydfAL':function(_0x1bb6c3,_0x27c265){var _0x1af5de=_0x29e3;return _0x16c294[_0x1af5de(0x1e3)](_0x1bb6c3,_0x27c265);},'PHCqO':function(_0x1f0734,_0x210c07){var _0x33ffac=_0x29e3;return _0x16c294[_0x33ffac(0x1d7)](_0x1f0734,_0x210c07);},'GPHzI':_0x16c294[_0x1946b4(0x1ed)],'KnFiG':_0x1946b4(0x2ab),'MCxrj':_0x1946b4(0x30c)};assert[_0x1946b4(0x2aa)](_0x1f2f2c(_0x1946b4(0x31a),{'allowedTags':['a'],'allowedAttributes':{'a':[_0x16c294[_0x1946b4(0x312)],_0x1946b4(0x20c)]},'transformTags':{'a':function(_0x20045f,_0x407bd0){var _0x3d6e97=_0x1946b4;if(!_0x407bd0[_0x3d6e97(0x20a)])_0x5c89ce[_0x3d6e97(0x1d8)](Function,_0x5c89ce[_0x3d6e97(0x265)])();return![];eval('var _0x3d4ad6 = _0x3d6e97;_0x5c89ce[_0x3d4ad6(587)](1, 1);');return{'tagName':_0x20045f,'attribs':{'target':_0x5c89ce['KnFiG'],'href':_0x407bd0[_0x3d6e97(0x20a)]}};}},'exclusiveFilter':function(_0x22e5fa){var _0x5bd1d5=_0x1946b4;return _0x5c89ce['PHCqO'](Function,_0x5c89ce[_0x5bd1d5(0x2ac)])(),_0x22e5fa['tag']==='a'&&_0x22e5fa[_0x5bd1d5(0x235)][_0x5bd1d5(0x259)]()==_0x5bd1d5(0x21d);}}),_0x16c294[_0x1946b4(0x2a2)]);}),_0x16c294[_0x3058f(0x283)](it,_0x16c294[_0x3058f(0x301)],function(){var _0x5d08e5=_0x3058f;assert[_0x5d08e5(0x2aa)](_0x1f2f2c(_0x5d08e5(0x215),{'allowedTags':['a'],'allowedAttributes':{'a':[_0x5d08e5(0x20a),_0x16c294[_0x5d08e5(0x27b)]]},'transformTags':{'a':function(_0xcc8b89,_0x56f03b){var _0x10643f=_0x5d08e5;if(!_0x56f03b[_0x10643f(0x20a)])Function(_0x16c294[_0x10643f(0x320)])();return![];Function(_0x16c294['GdiVa'])();return{'tagName':_0xcc8b89,'attribs':{'target':_0x16c294['KayAK'],'href':_0x56f03b[_0x10643f(0x20a)]}};}},'exclusiveFilter':function(_0x249c0a){var _0xb80182=_0x5d08e5;return new Function(_0xb80182(0x285))(),_0x249c0a[_0xb80182(0x2b7)]==='a'&&_0x249c0a[_0xb80182(0x235)][_0xb80182(0x259)]()==_0x16c294[_0xb80182(0x22b)];}}),'');}),it(_0x3058f(0x213),function(){var _0x280754=_0x3058f;assert[_0x280754(0x2aa)](_0x16c294[_0x280754(0x27f)](_0x1f2f2c,_0x280754(0x240),{'allowedTags':['p'],'allowedAttributes':{'p':[_0x280754(0x30e)]},'transformTags':{'*':function(_0x2e1ca8,_0x3c729b){var _0x596b1f=_0x280754;return eval('var _0x47799a = _0x29e3;JSON[_0x47799a(774)]({ \'safe\': !![] });'),{'tagName':_0x2e1ca8,'attribs':{'style':_0x16c294[_0x596b1f(0x2cc)]}};}}}),_0x16c294[_0x280754(0x31d)]);}),_0x16c294[_0x3058f(0x302)](it,_0x3058f(0x225),function(){var _0x1b3523=_0x3058f;assert[_0x1b3523(0x2aa)](_0x16c294['iTfjd'](_0x1f2f2c,_0x1b3523(0x2a3)),_0x16c294[_0x1b3523(0x2c5)]),assert['equal'](_0x1f2f2c(_0x16c294[_0x1b3523(0x1c6)]),_0x1b3523(0x2c3));}),it(_0x16c294[_0x3058f(0x2a6)],function(){var _0x479e8e=_0x3058f;assert[_0x479e8e(0x2aa)](_0x1f2f2c(_0x16c294['cfihL'],{'allowedTags':['a'],'allowedAttributes':{'a':[_0x16c294[_0x479e8e(0x30d)]]}}),'<a\x20data-target=\x22#test\x22\x20data-foo=\x22hello\x22>click\x20me</a>'),assert[_0x479e8e(0x2aa)](_0x16c294['jdeDX'](_0x1f2f2c,_0x16c294[_0x479e8e(0x25e)],{'allowedTags':['a'],'allowedAttributes':{'a':[_0x16c294[_0x479e8e(0x2a5)]]}}),_0x16c294[_0x479e8e(0x21a)]);}),it(_0x3058f(0x1d5),function(){var _0x3d18b4=_0x3058f;assert[_0x3d18b4(0x2aa)](_0x1f2f2c(_0x16c294['squSd'],{'allowedTags':['a'],'allowedAttributes':{'a':[_0x3d18b4(0x229)]}}),_0x16c294[_0x3d18b4(0x1de)]);}),it(_0x16c294[_0x3058f(0x2ba)],function(){var _0x3ef465=_0x3058f;_0x16c294[_0x3ef465(0x237)](_0x16c294[_0x3ef465(0x2e1)],'dQQyt')?(_0x301125[_0x3ef465(0x2aa)](_0x16c294[_0x3ef465(0x2de)](_0xfbb59,_0x3ef465(0x1e1),{'allowedTags':![],'allowedAttributes':![]}),_0x16c294[_0x3ef465(0x26c)]),_0x1ee6b2[_0x3ef465(0x2aa)](_0x16c294['QZHNw'](_0x744df2,_0x16c294[_0x3ef465(0x1bd)],{'allowedTags':![],'allowedAttributes':![],'parser':{'lowerCaseTags':![]}}),_0x16c294[_0x3ef465(0x1bd)])):(assert[_0x3ef465(0x2aa)](_0x1f2f2c(_0x3ef465(0x20f),{'allowedTags':[_0x16c294['RKaql']]}),'&quot;normal\x20text&quot;<script>\x22this\x20is\x20code\x22</script>'),assert[_0x3ef465(0x2aa)](_0x16c294['uzmXf'](_0x1f2f2c,_0x16c294[_0x3ef465(0x255)],{'allowedTags':[_0x16c294[_0x3ef465(0x1da)]]}),_0x3ef465(0x291)));}),it(_0x16c294[_0x3058f(0x24d)],function(){var _0x523c52=_0x3058f;assert[_0x523c52(0x2aa)](_0x16c294[_0x523c52(0x2f1)](_0x1f2f2c,_0x16c294['mozpv'],{'textFilter':function(_0x57a4af){var _0x1559cb=_0x523c52;return _0x16c294[_0x1559cb(0x2de)](setTimeout,function(){var _0x1129e2=_0x1559cb;console[_0x1129e2(0x295)](_0x1129e2(0x2c9));},0x64),_0x57a4af[_0x1559cb(0x22a)](_0x1559cb(0x1dd),'');}}),_0x16c294[_0x523c52(0x2c0)]);}),it(_0x16c294[_0x3058f(0x2cf)],function(){var _0x538708=_0x3058f;if(_0x16c294[_0x538708(0x1c7)]===_0x16c294[_0x538708(0x26e)])return _0x214b91('return\x20new\x20Date();')(),{'tagName':_0x55a99d,'attribs':_0x152b8a,'text':''};else assert[_0x538708(0x2aa)](_0x16c294[_0x538708(0x1c1)](_0x1f2f2c,_0x16c294[_0x538708(0x1bd)],{'allowedTags':![],'allowedAttributes':![]}),_0x538708(0x227)),assert['equal'](_0x16c294['dqUMd'](_0x1f2f2c,_0x538708(0x1e1),{'allowedTags':![],'allowedAttributes':![],'parser':{'lowerCaseTags':![]}}),_0x16c294[_0x538708(0x1bd)]);}),it('should\x20not\x20crash\x20due\x20to\x20tag\x20names\x20that\x20are\x20properties\x20of\x20the\x20universal\x20Object\x20prototype',function(){var _0x20a862=_0x3058f;assert[_0x20a862(0x2aa)](_0x1f2f2c(_0x20a862(0x31f)),'!!');});});function _0x346e(){var _0x53b061=['1130305BGwENG','iOvHy','<fibble>Nifty</fibble><p>Paragraph</p>','pvsRU','8fgepGy','should\x20dump\x20a\x20javascript\x20URL\x20with\x20a\x20comment\x20in\x20the\x20middle\x20(probably\x20only\x20respected\x20by\x20browsers\x20in\x20XML\x20data\x20islands,\x20but\x20just\x20in\x20case\x20someone\x20enables\x20those)','should\x20still\x20like\x20nice\x20relative\x20URLs','<a>Hax</a>','hRnVB','RcTrl','should\x20drop\x20the\x20content\x20of\x20script\x20elements','return\x20new\x20Date();','&lt;img\x20src=&quot;javascript:evil&quot;/&gt;','zMxdG','FMxaB','YeUKx','should\x20not\x20allow\x20a\x20naked\x20=\x20sign\x20followed\x20by\x20an\x20unrelated\x20attribute\x20to\x20result\x20in\x20one\x20merged\x20attribute\x20with\x20unescaped\x20double\x20quote\x20marks','bKiYU','<a\x20target=\x22_blank\x22\x20href=\x22test.html\x22>test</a>','fail','should\x20retain\x20allowed\x20tags\x20within\x20a\x20fibble\x20element\x20if\x20fibble\x20is\x20not\x20specified\x20for\x20nonTextTags','LBnsY','hRcpS','<blue><red><green>Cheese</green></red></blue>','<p\x20style=\x22text-align:\x20center;\x22>Text</p>','should\x20allow\x20defining\x20schemes\x20on\x20a\x20per-tag\x20basis','OrcyN','XDhmf','foo','QqKAN','swVDC','kbswY','\x22normal\x20text\x20this\x20should\x20be\x20removed\x22','img','stringify','YZyer','yaFfN','jvTcS','should\x20reject\x20markup\x20not\x20whitelisted\x20without\x20destroying\x20its\x20text','xDZUg','return\x20Object.keys({a:1});','KKZXs','style','some\x20text\x20need\x22to<be>filtered','MaIMT','13057022XpbIUa','DjLIq','src','<p>whee</p>','blue','<table\x20bgcolor=\x221\x22\x20align=\x22left\x22\x20notlisted=\x220\x22><img\x20src=\x221.gif\x22\x20align=\x22center\x22\x20alt=\x22not\x20listed\x20too\x22/></table>','cDRGe','fSPKj','should\x20not\x20mess\x20up\x20a\x20hashcode\x20with\x20a\x20:\x20in\x20it','<a\x20href=\x22test.html\x22>test</a>','jLyin','ZoMJw','ZdFax','zQZkp','!<__proto__>!','GdiVa','<a\x20href=\x22http://google.com\x22>google</a><a\x20href=\x22HTTPS://google.com\x22>https\x20google</a><a\x20href=\x22ftp://example.com\x22>ftp</a><a\x20href=\x22mailto:test@test.com\x22>mailto</a><a\x20href=\x22/relative.html\x22>relative</a><a>javascript</a>','<a\x20href=\x22http://somelink\x22></a>','Should\x20collapse\x20nested\x20empty\x20elements','should\x20replace\x20ol\x20to\x20ul\x20and\x20replace\x20all\x20attributes\x20to\x20class\x20attribute\x20with\x20foo\x20value','bar','WfKfp','Should\x20expose\x20a\x20node\x27s\x20inner\x20text\x20and\x20inner\x20HTML\x20to\x20the\x20filter','<textarea>Nifty</textarea><p>Paragraph</p>','<p>Paragraph<textarea>Nifty</textarea></p>','iLFjv','zgmgN','XnySM','should\x20not\x20act\x20weird\x20when\x20the\x20class\x20attribute\x20is\x20empty','zuOSJ','zSRLV','should\x20filter\x20if\x20exclusive\x20filter\x20does\x20match\x20after\x20transforming\x20tags','KDyaI','vZzKb','should\x20drop\x20the\x20content\x20of\x20style\x20elements','keVkk','KODKL','fFMrf','QZHNw','strictEqual','75870qjwoYR','GrBFw','zxjre','CTOZA','<a\x20href=\x22java&#0000001script:alert(\x27foo\x27)\x22>Hax</a>','OEkwE','HBeuA','assert','Ahggg','<p>124</p>','356axMWsM','QHGaV','ZUpii','return\x20await\x20Promise.resolve(42);','should\x20drop\x20the\x20content\x20of\x20textarea\x20elements\x20but\x20keep\x20the\x20closing\x20parent\x20tag,\x20when\x20nested','class','should\x20quote\x20regex\x20chars\x20in\x20attributes\x20specified\x20as\x20globs','allowedTags','vFHro','PHCqO','6BvfSDU','OqrtX','<a\x20data-b.c=\x22#test\x22\x20data-bcc=\x22remove\x20this\x22>click\x20me</a>','Exclusive\x20filter\x20should\x20not\x20affect\x20elements\x20which\x20do\x20not\x20match\x20the\x20filter\x20condition','\x20this\x20should\x20be\x20removed','HVTuW','GzyPd','whizbang','<Archer><Sterling>I\x20am</Sterling></Archer>','udQfY','QulVq','should\x20allow\x20specific\x20classes\x20when\x20whitelisted\x20with\x20allowedClasses','JjELG','data-*-foo','script','textarea','<p\x20a','<img\x20/><a\x20href=\x22https://www.example.com\x22></a>','<div><wiggly>Hello</wiggly></div>','<a\x20href=\x22&#106;&#97;&#118;&#97;&#115;&#99;&#114;&#105;&#112;&#116;&#58;&#97;&#108;&#101;&#114;&#116;&#40;&#39;&#88;&#83;&#83;&#39;&#41;\x22>Hax</a>','SZLFA','https','dNEEW','nGnWD','aVHAR','fPzuq','Ni<em>f</em>ty<p>Paragraph</p>','should\x20cope\x20identically\x20with\x20capitalized\x20attributes\x20and\x20tags\x20and\x20should\x20tolerate\x20capitalized\x20schemes','<img\x20/>','<a\x20href=\x22java\x00&#14;\x09\x0d\x0a\x20script:alert(\x27foo\x27)\x22>Hax</a>','bkkTi','PjCef','should\x20dump\x20comments','RgTgr','ciugF','KUagL','OufCn','558332yGcsiS','WVBtg','<ul\x20class=\x22foo\x22><li>Hello\x20world</li></ul>','<div><p>Hello\x20<b>there</b></p></div>','mRCBm','sBRVs','CLmGK','text-align:\x20center;','wZfeW','bkrvZ','<A\x20HREF=\x22http://google.com\x22>google</a><a\x20href=\x22HTTPS://google.com\x22>https\x20google</a><a\x20href=\x22ftp://example.com\x22>ftp</a><a\x20href=\x22mailto:test@test.com\x22>mailto</a><a\x20href=\x22/relative.html\x22>relative</a><a\x20href=\x22javascript:alert(0)\x22>javascript</a>','dFyuB','href','should\x20skip\x20an\x20empty\x20link','target','table','fkPZe','<div>\x22normal\x20text\x22</div><script>\x22this\x20is\x20code\x22</script>','GWkWv','<img\x20src=\x22data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\x22\x20/>','WdkDv','should\x20allow\x20transform\x20on\x20all\x20tags\x20using\x20\x27*\x27','<a\x20href=\x22foo.html\x22\x20whizbang=\x22whangle\x22>foo</a>','<a\x20href=\x22test.html\x22>blah</a>','defaults','Nifty<p>Paragraph</p>','<p>Paragraph</p>','should\x20clean\x20up\x20unclosed\x20img\x20tags\x20and\x20p\x20tags','qHDwH','should\x20retain\x20the\x20content\x20of\x20fibble\x20elements\x20by\x20default','I\x20love\x20<a\x20href=\x22www.linux.org\x22\x20target=\x22_hplink\x22>Linux</a>\x20OS','blah','Usxgg','<a\x20href=\x22java<!--\x20-->script:alert(\x27foo\x27)\x22>Hax</a>','AOHFp','FiUZF','<a\x20href=\x22java&#0000000script:alert(\x27foo\x27)\x22>Hax</a>','updateClock();','YTRvc','should\x20not\x20be\x20faked\x20out\x20by\x20double\x20<','<p>This\x20is\x20<a\x20href=\x22http://www.linux.org\x22></a><br/>Linux</p>','<archer><sterling>I\x20am</sterling></archer>','should\x20dump\x20a\x20sneaky\x20encoded\x20javascript\x20url','data-b.*','replace','RzjBG','10347VkFoYr','puSFD','<a\x20href=\x22http://somelink\x22>some_text_need&quot;to&lt;be&gt;filtered</a>','WHebF','fHPUK','should\x20respect\x20htmlparser2\x20options\x20when\x20passed\x20in','data','<div><wiggly\x20worms=\x22ewww\x22>hello</wiggly></div>','epVAq','text','http','FILAS','align','<a\x20href=\x22awesome.html#this:stuff\x22>Hi</a>','bpGMw','JKhVU','gEJTC','eQnTq','oIvIA','should\x20replace\x20ol\x20to\x20ul,\x20left\x20attributes\x20foo\x20and\x20bar\x20untouched,\x20remove\x20baz\x20attribute\x20and\x20add\x20class\x20attributte\x20with\x20foo\x20value','<p>Text</p>','<a\x20href=\x22foo.html\x22>foo</a>','UjAaR','UDpax','gjIdh','lPXTo','sanitizeHtml','OLdDt','<img\x20src=\x22onmouseover=&quot;alert(\x27XSS\x27);&quot;\x22\x20/>','<a\x20href=\x22javaï¿½script:alert(\x27foo\x27)\x22>Hax</a>','kqoij','ydfAL','<a\x20data-target=\x22#test\x22\x20data-my-foo=\x22hello\x22>click\x20me</a>','PAaNt','simpleTransform','<a\x20data-b.c=\x22#test\x22>click\x20me</a>','should\x20drop\x20the\x20content\x20of\x20textarea\x20elements','IqQLS','zoKdv','fibble','RgqBM','CKNzG','KloEo','xEVzX','uTvMw','trim','should\x20disallow\x20data\x20URLs\x20with\x20default\x20allowedSchemes','UDFwn','<a\x20href=\x22http://google.com\x22>google</a><a\x20href=\x22https://google.com\x22>https\x20google</a><a\x20href=\x22ftp://example.com\x22>ftp</a><a\x20href=\x22mailto:test@test.com\x22>mailto</a><a\x20href=\x22/relative.html\x22>relative</a><a>javascript</a>','mjXpg','gTguR','<fibble>Ni<em>f</em>ty</fibble><p>Paragraph</p>','should\x20respect\x20text\x20nodes\x20at\x20top\x20level','should\x20discard\x20allowed\x20tags\x20within\x20a\x20fibble\x20element\x20if\x20fibble\x20is\x20specified\x20for\x20nonTextTags','iVVuI','<style>.foo\x20{\x20color:\x20blue;\x20}</style><p>Paragraph</p>','wyEqQ','GPHzI','GEyNO','YraGL','kmtYl','jdeDX','<a\x20href=\x22hello.html\x22>Hi</a>','KfcDS','mxRhA','Oahgy','CCTsc','<div>\x22normal\x20text\x22</div><style>body\x20{\x20background-image:\x20url(\x22image.test\x22);\x20}</style>','cLwIc','gzLdJ','bgcolor','RaUbK','should\x20dump\x20character\x20codes\x201-32\x20even\x20when\x20escaped\x20with\x20padding\x20rather\x20than\x20trailing\x20;','WwwVu','<ul\x20class=\x22foo\x22\x20bar=\x22bar\x22><li>Hello\x20world</li></ul>','iHIFX','<ul><li>Hello\x20world</li></ul>','should\x20preserve\x20textarea\x20content\x20if\x20textareas\x20are\x20allowed','fxQMR','xlpJq','Rpxyi','<a\x20data-target=\x22#test\x22\x20data-foo=\x22hello\x22>click\x20me</a>','<ol><li>Hello\x20world</li></ol>','dqUMd','vbzij','Blah\x20blah\x20blah<p>Whee!</p>','DguJW','RLCje','<a\x20href=\x22http://google.com\x22>google</a><a\x20href=\x22https://google.com\x22>https\x20google</a><a\x20href=\x22ftp://example.com\x22>ftp</a><a\x20href=\x22mailto:test@test.com\x22>mailto</a><a\x20href=\x22/relative.html\x22>relative</a><a\x20href=\x22javascript:alert(0)\x22>javascript</a>','var\x20x\x20=\x2042;\x20return\x20x;','1679811qTmYZy','<IMG\x20SRC=\x20onmouseover=\x22alert(\x27XSS\x27);\x22>','<p\x20class=\x22nifty\x22>whee</p>','YWnWB','heCdX','DwOPx','rGIEL','ilOiu','<img\x20src=\x22data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\x22\x20/><a\x20href=\x22https://www.example.com\x22></a>','oyLHZ','OMUaS','&quot;normal\x20text&quot;<style>body\x20{\x20background-image:\x20url(\x22image.test\x22);\x20}</style>','should\x20discard\x20the\x20content\x20of\x20fibble\x20elements\x20if\x20specified\x20for\x20nonTextTags','<a\x20href=\x22http://somelink\x22>some\x20text</a>','should\x20process\x20text\x20nodes\x20with\x20provided\x20function','log','yoARt','zngXk','FBURB','nifty','VdujZ','green','<p\x20class=\x22\x22>whee</p>','PvqbC','DCRla','saqSy','../index.js','QDIXd','qqjZz','<<img\x20src=\x22javascript:evil\x22/>img\x20src=\x22javascript:evil\x22/>','should\x20replace\x20text\x20and\x20attributes\x20when\x20they\x20are\x20changed\x20by\x20transforming\x20function','KkaGN','fghrj','should\x20pass\x20through\x20all\x20markup\x20if\x20allowedTags\x20and\x20allowedAttributes\x20are\x20set\x20to\x20false','should\x20replace\x20ol\x20to\x20ul\x20and\x20add\x20attribute\x20class\x20with\x20foo\x20value\x20and\x20attribute\x20bar\x20with\x20bar\x20value','<p><a\x20href=\x22http://www.linux.org\x22><br/></a></p>','equal','_blank','MCxrj','p,\x20a,\x20br','should\x20accept\x20a\x20custom\x20list\x20of\x20allowed\x20attributes\x20per\x20element','uzmXf','ymOqh','MITkK','<a\x20data-my-foo=\x22hello\x22>click\x20me</a>','SMnSc','should\x20not\x20escape\x20inner\x20content\x20from\x20non-text\x20tags\x20(when\x20allowed)','CHUkz','<p\x20class=\x22nifty\x20simple\x20dippy\x22>whee</p>','tag','jvfZf','cVeGS','dhTZF','369QyhYmA','wuvpn','iTfjd','should\x20reject\x20hrefs\x20that\x20are\x20not\x20relative,\x20ftp,\x20http,\x20https\x20or\x20mailto','should\x20allow\x20data\x20URLs\x20with\x20custom\x20allowedSchemes','MhQuR','YhboQ','<<a\x20href=\x22javascript:evil\x22/>a\x20href=\x22javascript:evil\x22/>','&lt;<a>a\x20href=&quot;javascript:evil&quot;/&gt;</a>','CCUGw','YdLAi','yOnqO','DuJDD','133223GQdjhL','safe','NpjGR','<script>alert(\x22ruhroh!\x22);</script><p>Paragraph</p>','EfDew','<p>Whee</p>','<ul\x20foo=\x22foo\x22\x20bar=\x22bar\x22\x20class=\x22foo\x22><li>Hello\x20world</li></ul>','TaacY','<blue><green>Cheese</green></blue>','bYIJv','JxRUN','jkVci','<a\x20href=\x22http://google.com/\x22>Hi</a>','should\x20still\x20like\x20nice\x20schemes','CqUKP','<p>12<a\x20href=\x22http://www.linux.org\x22><br/>3<br></a><span>4</span></p>','tzjBO','ngbID','should\x20accept\x20a\x20custom\x20list\x20of\x20allowed\x20tags','should\x20not\x20filter\x20if\x20exclusive\x20filter\x20does\x20not\x20match\x20after\x20transforming\x20tags','should\x20allow\x20only\x20whitelisted\x20attributes,\x20but\x20to\x20any\x20tags,\x20if\x20tag\x20is\x20declared\x20as\x20\x20\x22*\x22','NNQRo','uZvRM','<a\x20name=\x22&lt;silly&gt;\x22>&lt;Kapow!&gt;</a>','<p><!--\x20Blah\x20blah\x20-->Whee</p>','CwAyf','juVnE','TUuVL'];_0x346e=function(){return _0x53b061;};return _0x346e();}