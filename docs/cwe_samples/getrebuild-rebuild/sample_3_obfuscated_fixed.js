function _0x507b(_0x2337f5,_0x5af6e0){const _0x43a5fb=_0x43a5();return _0x507b=function(_0x507b8f,_0x2ae271){_0x507b8f=_0x507b8f-0x114;let _0x2224ce=_0x43a5fb[_0x507b8f];return _0x2224ce;},_0x507b(_0x2337f5,_0x5af6e0);}(function(_0x4229b8,_0x48b6c8){const _0x43523b=_0x507b,_0x428884=_0x4229b8();while(!![]){try{const _0x235354=parseInt(_0x43523b(0x173))/0x1*(-parseInt(_0x43523b(0x1cd))/0x2)+-parseInt(_0x43523b(0x1ad))/0x3+parseInt(_0x43523b(0x132))/0x4+parseInt(_0x43523b(0x17c))/0x5*(parseInt(_0x43523b(0x165))/0x6)+-parseInt(_0x43523b(0x198))/0x7*(parseInt(_0x43523b(0x1aa))/0x8)+parseInt(_0x43523b(0x175))/0x9+parseInt(_0x43523b(0x19f))/0xa;if(_0x235354===_0x48b6c8)break;else _0x428884['push'](_0x428884['shift']());}catch(_0x504e3a){_0x428884['push'](_0x428884['shift']());}}}(_0x43a5,0x3e519));import'../utils/errors';import'../utils/i18nHtml';import{fromByteArray}from'base64-js';import _0x85bc49 from'bootstrap/js/src/modal';import _0x341faa from'bootstrap/js/src/toast';import _0x2bf1c0 from'bootstrap5-tags/tags';import*as _0x13905e from'dompurify';import{EVENT_LOCALIZATION_READY,obtainManifest,obtainProfileList,obtainSiteList,obtainUrls,PREF_DEFAULT_PROFILE_TEMPLATE,sanitizeString,setPopupSize}from'../utils';import{getMessage}from'../utils/i18n';function _0x43a5(){const _0x52bd86=['click','new-profile-description','NODE_ENV','query','8LAhynN','profile','IXpui','870957QndFMs','web-app-icon-url','buttonWebAppInstallDefault','sXQea','data','target','getOrCreateInstance','BBWNr','VPEXx','mXYYY','createElement','.form-select-tags','getPlatformInfo','webAppValidationProfileLimit','ProfileCreated','selectedOptions','new-profile-cancel1','openbsd','OsiAi','ImJYI','buttonCreateDefault','keywords','web-app-profile-warn-issue','innerText','MiVxJ','KHktF','Jbbhp','KHZsS','qEtgH','type','setPopup','new-profile-modal','2rAftlV','pxsEp','icons','web-app-form','setAttribute','IILgN','local','some','close','manifest','input','oysFe','XTGsT','append','AoFiK','SNUNI','onclick','KDZpy','stopPropagation','add','UDeto','error-text','nhkoS','installPageContentScriptError','installPageCreateProfile','aIUXG','oNJfk','rGKuT','toString','web-app-icon-url-invalid','startsWith','firefox.com','GQJwB','EPBOC','setTitle','new-profile-template','web-app-use-manifest-box','hide','DzKbt','origin','awvSu','scope','web-app-description','encode','web-app-categories','config','wbbOn','getMessage','kuuaQ','stringify','buttonWebAppInstallProcessing','web-app-launch-now','hNKaM','replaceChildren','checkValidity','HSCka','querySelectorAll','ulid','linux','239836UScWWZ','change','description','tqaEC','CkFeX','href','qRWhF','validity','web-app-profile','storage','getAttribute','cvNfA','RgZQj','classList','name','d-none','Error','categories','JrBEH','get','addEventListener','yYmqS','create-new-profile','oxxFM','url','PkiDF','HOPPf','iucgJ','GMvII','uIlDq','show','new-profile-create','filter','tabs','setIcon','web-app-keywords','installPageContentScriptErrorRestricted','web-app-submit','#322','error','XIjRA','hixit','dZWqt','gVJXb','Wbtgc','web-app-start-url-invalid','YAedf','QFuVv','sendNativeMessage','OULTL','getElementById','488718dPhPsj','webAppValidationNameReuse','XwYoq','placeholder','mozilla.net','typeMismatch','runtime','#81','SiteInstalled','FHmtI','validationMessage','map','new-profile-cancel2','host','434591uhvpBt','/sites/launch.html','1480734VWpihR','mozilla.org','mac','InstallSite','length','web-app-start-url','setCustomValidity','20iwblyZ','firefoxpwa','new-profile-name','Ytpcv','error-toast','pathname','tagsInstance','xpfIq','HRaqn','static','kkvPh','/images/page-action-launch.svg','checked','manifest_url','tEvVc','bzEYT','LdsyU','AkXEt','installPageAutoCreateProfile','auto-create-new-profile','web-app-name','web-app-profile-invalid','buttonWebAppInstallFinished','web-app-use-manifest','disabled','webAppValidationStartURLInvalid','values','pageAction','2593185mjisTy','includes','short_name','ySDDK','addItem','xTJyv','value','8003250bGtPse','start_url','preventDefault','uUyXb','web-app-name-invalid','CreateProfile','call'];_0x43a5=function(){return _0x52bd86;};return _0x43a5();}import{knownCategories}from'./categories';function displayProfileWarning(_0x5c73b0){const _0x5a70dd=_0x507b,_0x3c82bb={'kuuaQ':_0x5a70dd(0x131),'cvNfA':_0x5a70dd(0x177),'kkvPh':function(_0x5d7370,_0x5d180c){return _0x5d7370===_0x5d180c;},'dZWqt':_0x5a70dd(0x1be),'hixit':_0x5a70dd(0x1c3),'HSCka':'https://github.com/filips123/PWAsForFirefox/issues/322','OXYiT':'https://github.com/filips123/PWAsForFirefox/issues/81'};if(_0x5c73b0['os']===_0x3c82bb[_0x5a70dd(0x127)]||_0x5c73b0['os']===_0x3c82bb[_0x5a70dd(0x13d)]||_0x3c82bb[_0x5a70dd(0x186)](_0x5c73b0['os'],_0x3c82bb[_0x5a70dd(0x15c)])){const _0x1b4c76=document[_0x5a70dd(0x164)](_0x3c82bb[_0x5a70dd(0x15b)]);switch(_0x5c73b0['os']){case _0x3c82bb['kuuaQ']:case _0x3c82bb[_0x5a70dd(0x15c)]:_0x1b4c76['href']=_0x3c82bb[_0x5a70dd(0x12e)],_0x1b4c76[_0x5a70dd(0x1c4)]=_0x5a70dd(0x158);break;case _0x3c82bb['cvNfA']:_0x1b4c76[_0x5a70dd(0x137)]=_0x3c82bb['OXYiT'],_0x1b4c76['innerText']=_0x5a70dd(0x16c);}document['getElementById']('web-app-profile-warn-box')[_0x5a70dd(0x13f)]['remove'](_0x5a70dd(0x141));}}async function initializeForm(){const _0x222729=_0x507b,_0x578397={'YAedf':function(_0x362f61,_0x17e652){return _0x362f61||_0x17e652;},'PkiDF':_0x222729(0x190),'tEvVc':_0x222729(0x168),'pxsEp':'data:application/manifest+json;base64,','FHmtI':function(_0x73264a,_0x4cd0ff){return _0x73264a(_0x4cd0ff);},'XTGsT':_0x222729(0x17e),'CkFeX':_0x222729(0x1a7),'GQJwB':_0x222729(0x151),'XwYoq':_0x222729(0x1c1),'hNKaM':_0x222729(0x11a),'uIlDq':_0x222729(0x185),'DzKbt':function(_0x2845b4,_0xf9bf79){return _0x2845b4!==_0xf9bf79;},'UDeto':_0x222729(0x1cc),'jRIxM':_0x222729(0x15f),'IILgN':_0x222729(0x195),'tqaEC':function(_0x1fdaef,_0x443f1d){return _0x1fdaef!==_0x443f1d;},'VPEXx':function(_0x35a3c2,_0x197051){return _0x35a3c2===_0x197051;},'DWAPz':'webAppValidationStartURLScope','oysFe':'webAppValidationIconURLInvalid','uBbtb':_0x222729(0x191),'JrBEH':_0x222729(0x1ba),'sQpKO':_0x222729(0x193),'yYmqS':_0x222729(0x17a),'iucgJ':_0x222729(0x1ae),'HOPPf':_0x222729(0x121),'bzEYT':_0x222729(0x155),'ySDDK':_0x222729(0x18f),'kktNW':function(_0x336e2b,_0x1bf5d5){return _0x336e2b||_0x1bf5d5;},'bVfkN':_0x222729(0x142),'sXQea':function(_0x101b32,_0x1f6b30){return _0x101b32!==_0x1f6b30;},'sHOcr':_0x222729(0x178),'rGKuT':function(_0x3bb61b,_0x56e8d0){return _0x3bb61b!==_0x56e8d0;},'BBWNr':_0x222729(0x16d),'YWAPM':_0x222729(0x192),'RgZQj':'actionLaunchSite','IXpui':_0x222729(0x174),'qRWhF':function(_0x51b83b,_0x286786,_0x5662b1){return _0x51b83b(_0x286786,_0x5662b1);},'OsiAi':_0x222729(0x1d0),'KDZpy':_0x222729(0x157),'QFuVv':'web-app-categories','OULTL':function(_0x2ca4e8,_0x1ba94b){return _0x2ca4e8===_0x1ba94b;},'Jbbhp':_0x222729(0x15a),'DuVZR':_0x222729(0x1e2),'gVJXb':function(_0x320744,_0xdbe07c){return _0x320744(_0xdbe07c);},'Wbtgc':_0x222729(0x1e4),'KHZsS':_0x222729(0x116),'wbbOn':'mozilla.com','aIUXG':_0x222729(0x169),'SNUNI':_0x222729(0x176),'KHktF':_0x222729(0x1b2),'MiVxJ':_0x222729(0x1c9),'AkXEt':function(_0x2eb061){return _0x2eb061();},'Ytpcv':_0x222729(0x13a),'oxxFM':_0x222729(0x1e5),'EPBOC':function(_0x1c4c02,_0x1d7266){return _0x1c4c02===_0x1d7266;},'HRaqn':_0x222729(0x131),'ImJYI':'mac','awvSu':function(_0x502e51,_0x4dc0ac){return _0x502e51(_0x4dc0ac);},'GMvII':_0x222729(0x18e),'xTJyv':_0x222729(0x133),'xpfIq':_0x222729(0x171),'oNJfk':_0x222729(0x1a6),'AoFiK':_0x222729(0x1d7)},_0x499ef8=document['getElementById'](_0x578397[_0x222729(0x1bf)]),_0x1c94da=document['getElementById'](_0x578397[_0x222729(0x1de)]);{const _0x500670=document[_0x222729(0x164)](_0x578397[_0x222729(0x161)]);for(const _0x1a807b of knownCategories)_0x500670[_0x222729(0x1e0)](new Option(_0x1a807b,_0x1a807b));}for(const _0x2c96da of document[_0x222729(0x12f)](_0x222729(0x1b8))){_0x2c96da['tagsInstance']=new _0x2bf1c0(_0x2c96da);}const _0x363ac4=await browser[_0x222729(0x16b)][_0x222729(0x1b9)]();document[_0x222729(0x146)](EVENT_LOCALIZATION_READY,displayProfileWarning['bind'](null,_0x363ac4));let _0x4f2ed9,_0x28720a,_0x118d82;try{({manifestUrl:_0x4f2ed9,documentUrl:_0x28720a,pageInfo:_0x118d82}=await obtainUrls());}catch(_0x4cebd8){if(_0x578397[_0x222729(0x163)](_0x578397[_0x222729(0x1c7)],_0x222729(0x15a))){console[_0x222729(0x159)](_0x4cebd8);const _0x387aef=document['getElementById'](_0x578397['DuVZR']);_0x387aef[_0x222729(0x12c)]();const _0x310a9b=document[_0x222729(0x1b7)]('p');_0x310a9b[_0x222729(0x1c4)]=await _0x578397[_0x222729(0x15d)](getMessage,_0x578397[_0x222729(0x15e)]),_0x387aef[_0x222729(0x1da)](_0x310a9b);if(process['env'][_0x222729(0x1a8)]==='development'){const _0x45392f=document[_0x222729(0x1b7)]('p');_0x45392f[_0x222729(0x1c4)]=await getMessage('installPageContentScriptErrorDevelopment'),_0x387aef['append'](_0x45392f);}const _0xf09249=(await browser[_0x222729(0x153)][_0x222729(0x1a9)]({'active':!![],'currentWindow':!![]}))[0x0];if(_0xf09249[_0x222729(0x14a)]&&[_0x578397[_0x222729(0x1c8)],_0x578397[_0x222729(0x125)],_0x578397[_0x222729(0x1e6)],_0x578397[_0x222729(0x1dc)]][_0x222729(0x1d4)](_0x3ceb38=>_0xf09249[_0x222729(0x14a)][_0x222729(0x199)](_0x3ceb38))){if(_0x222729(0x1e3)!==_0x222729(0x1b6)){const _0x420120=document[_0x222729(0x1b7)]('p');_0x420120[_0x222729(0x12c)](_0x13905e['sanitize'](await _0x578397[_0x222729(0x16e)](getMessage,_0x222729(0x156)),{'RETURN_DOM_FRAGMENT':!![],'ALLOWED_TAGS':['a'],'ADD_ATTR':[_0x578397[_0x222729(0x1c6)]]})),_0x387aef[_0x222729(0x1da)](_0x420120);}else _0x311022={'start_url':_0x578397[_0x222729(0x160)](_0x418f05,_0x5ee1b2),'name':_0x1ab231['getElementById'](_0x578397[_0x222729(0x14b)])[_0x222729(0x13c)](_0x578397['tEvVc'])||_0x4e4628[_0x222729(0x140)],'description':_0x47356b[_0x222729(0x164)](_0x222729(0x121))['getAttribute'](_0x222729(0x168))||_0x1b1fa7[_0x222729(0x134)],'icons':_0x349d86[_0x222729(0x1cf)]},_0x52ad75=_0x578397[_0x222729(0x1ce)],_0x25fbb3+=_0x578397['FHmtI'](_0x23c44a,new _0x5ea339()['encode'](_0x4c869d[_0x222729(0x128)](_0x5c604f)));}_0x341faa['getOrCreateInstance'](document['getElementById'](_0x222729(0x180)))[_0x222729(0x150)]();return;}else{this[_0x222729(0x17b)]('');return;}}let _0x5e735b,_0x1faa06;if(_0x4f2ed9)try{_0x1faa06=await obtainManifest(_0x4f2ed9,_0x28720a),_0x5e735b=!![];}catch(_0x1d87b3){_0x578397[_0x222729(0x1b0)](_0x578397[_0x222729(0x1c5)],_0x222729(0x1c9))?_0x452bb4[_0x222729(0x1d5)]():(console['log'](_0x1d87b3),_0x5e735b=![]);}else _0x5e735b=![];if(!_0x5e735b)document[_0x222729(0x164)](_0x222729(0x11b))[_0x222729(0x13f)]['add'](_0x222729(0x141));const _0x18201b=await obtainSiteList(),_0x29556a=await _0x578397[_0x222729(0x18d)](obtainProfileList);let _0x3baac0,_0x1fb450;_0x5e735b?(_0x3baac0=_0x1faa06['name']||_0x1faa06[_0x222729(0x19a)]||new URL(_0x1faa06[_0x222729(0x120)])[_0x222729(0x172)],_0x1fb450=_0x1faa06[_0x222729(0x134)]||''):(_0x3baac0=_0x118d82['name']||new URL(_0x28720a)[_0x222729(0x172)],_0x1fb450=_0x118d82[_0x222729(0x134)]||'');document[_0x222729(0x164)](_0x222729(0x190))[_0x222729(0x1d1)](_0x578397[_0x222729(0x18a)],_0x3baac0),document[_0x222729(0x164)](_0x578397['HOPPf'])['setAttribute'](_0x578397[_0x222729(0x18a)],_0x1fb450),document[_0x222729(0x164)](_0x578397[_0x222729(0x147)])['setAttribute'](_0x578397['tEvVc'],_0x1faa06?.[_0x222729(0x1a0)]||_0x28720a);const _0x4009b3=document[_0x222729(0x164)](_0x578397[_0x222729(0x161)]),_0x3f4ecd=_0x1faa06?.[_0x222729(0x143)]?.[_0x222729(0x170)](_0x55257c=>sanitizeString(_0x55257c))[_0x222729(0x152)](_0x3219cd=>_0x3219cd)||[];for(const _0x5709bc of _0x3f4ecd)_0x4009b3['tagsInstance'][_0x222729(0x19c)](_0x5709bc,_0x5709bc);const _0x26e89e=document['getElementById'](_0x578397[_0x222729(0x18b)]),_0x2e525a=_0x1faa06?.[_0x222729(0x1c2)]?.[_0x222729(0x170)](_0x494aa9=>sanitizeString(_0x494aa9))[_0x222729(0x152)](_0x2d763c=>_0x2d763c)||[];for(const _0x10e138 of _0x2e525a)_0x26e89e[_0x222729(0x182)][_0x222729(0x19c)](_0x10e138,_0x10e138);const _0x5a5a53=document[_0x222729(0x164)](_0x578397[_0x222729(0x17f)]);for(const _0x575c64 of Object[_0x222729(0x196)](_0x29556a))_0x5a5a53[_0x222729(0x1e0)](new Option(_0x575c64[_0x222729(0x140)]||_0x575c64['ulid'],_0x575c64[_0x222729(0x130)]));_0x5a5a53[_0x222729(0x1e0)](new Option(await _0x578397[_0x222729(0x16e)](getMessage,_0x578397[_0x222729(0x149)]),_0x222729(0x148)));const _0x450e71=_0x578397[_0x222729(0x118)](_0x363ac4['os'],_0x578397[_0x222729(0x184)])||_0x578397[_0x222729(0x118)](_0x363ac4['os'],_0x578397[_0x222729(0x1c0)])||_0x578397[_0x222729(0x118)](_0x363ac4['os'],_0x222729(0x1be));_0x5a5a53[_0x222729(0x1e0)](new Option(await _0x578397[_0x222729(0x11f)](getMessage,_0x578397[_0x222729(0x14e)]),_0x222729(0x18f),_0x450e71,_0x450e71));let _0x523d14=_0x5a5a53[_0x222729(0x19e)];_0x5a5a53[_0x222729(0x146)](_0x578397[_0x222729(0x19d)],async function(_0x1ab5ce){const _0x69295b=_0x222729;if(this[_0x69295b(0x19e)]!==_0x69295b(0x148)){_0x523d14=this['value'];return;}document[_0x69295b(0x164)](_0x578397[_0x69295b(0x1d9)])['value']='',document[_0x69295b(0x164)](_0x578397[_0x69295b(0x136)])[_0x69295b(0x19e)]='';const _0x548de4=document['getElementById'](_0x578397[_0x69295b(0x117)]);_0x548de4[_0x69295b(0x194)]=![],_0x548de4['innerText']=await getMessage(_0x578397[_0x69295b(0x167)]);const _0x376901=(await browser[_0x69295b(0x13b)][_0x69295b(0x1d3)][_0x69295b(0x145)]([PREF_DEFAULT_PROFILE_TEMPLATE]))[PREF_DEFAULT_PROFILE_TEMPLATE];document[_0x69295b(0x164)](_0x578397[_0x69295b(0x12b)])[_0x69295b(0x19e)]=_0x376901||null,_0x85bc49[_0x69295b(0x1b3)](document[_0x69295b(0x164)]('new-profile-modal'),{'backdrop':_0x578397[_0x69295b(0x14f)],'keyboard':![]})['show'](),_0x1ab5ce[_0x69295b(0x1a1)]();});const _0x579391=function(){const _0xf0e9f3=_0x222729;_0x5a5a53[_0xf0e9f3(0x19e)]=_0x523d14;};document[_0x222729(0x164)](_0x222729(0x1bd))[_0x222729(0x146)]('click',_0x579391),document[_0x222729(0x164)](_0x578397[_0x222729(0x183)])[_0x222729(0x146)](_0x578397[_0x222729(0x1e7)],_0x579391),document[_0x222729(0x164)](_0x222729(0x151))[_0x222729(0x146)](_0x578397[_0x222729(0x1e7)],async function(){const _0x395289=_0x222729,_0x424c64=document[_0x395289(0x164)](_0x578397[_0x395289(0x1d9)])[_0x395289(0x19e)]||null,_0x5a5976=document['getElementById'](_0x578397['CkFeX'])[_0x395289(0x19e)]||null,_0x57761f=document[_0x395289(0x164)](_0x395289(0x11a))['value']||null;this[_0x395289(0x194)]=!![],this[_0x395289(0x1c4)]=await _0x578397['FHmtI'](getMessage,'buttonCreateProcessing');const _0x4a7c0b=await browser[_0x395289(0x16b)][_0x395289(0x162)](_0x395289(0x17d),{'cmd':'CreateProfile','params':{'name':_0x424c64,'description':_0x5a5976,'template':_0x57761f}});if(_0x4a7c0b['type']===_0x395289(0x142))throw new Error(_0x4a7c0b['data']);if(_0x578397[_0x395289(0x11d)](_0x4a7c0b[_0x395289(0x1ca)],'ProfileCreated'))throw new Error('Received\x20invalid\x20response\x20type:\x20'+_0x4a7c0b[_0x395289(0x1ca)]);_0x341faa['getOrCreateInstance'](document[_0x395289(0x164)](_0x395289(0x180)))[_0x395289(0x11c)]();const _0x60fcf2=_0x4a7c0b[_0x395289(0x1b1)];_0x5a5a53['add'](new Option(_0x424c64??_0x60fcf2,_0x60fcf2,!![],!![]),_0x5a5a53[_0x395289(0x179)]-0x2),_0x5a5a53[_0x395289(0x19e)]=_0x60fcf2,_0x523d14=_0x60fcf2,_0x85bc49[_0x395289(0x1b3)](document[_0x395289(0x164)](_0x578397[_0x395289(0x1e1)]),{'backdrop':_0x395289(0x185),'keyboard':![]})[_0x395289(0x11c)]();}),_0x499ef8['classList'][_0x222729(0x1e0)]('was-validated'),_0x1c94da[_0x222729(0x194)]=![],_0x1c94da[_0x222729(0x1c4)]=await getMessage(_0x222729(0x1af));const _0x2e768d=async function(){const _0x5a1a57=_0x222729,_0x43cb24=document[_0x5a1a57(0x164)](_0x5a1a57(0x1a3)),_0x1695e9=this[_0x5a1a57(0x19e)]||this[_0x5a1a57(0x13c)](_0x5a1a57(0x168)),_0x44f9bd=Object['values'](_0x18201b)['map'](_0xd95e3=>_0xd95e3['config']['name']||_0xd95e3['manifest'][_0x5a1a57(0x140)]||_0xd95e3[_0x5a1a57(0x1d6)][_0x5a1a57(0x19a)]||new URL(_0xd95e3[_0x5a1a57(0x1d6)][_0x5a1a57(0x120)])[_0x5a1a57(0x172)]);if(_0x44f9bd['includes'](_0x1695e9)){this['setCustomValidity'](await getMessage(_0x5a1a57(0x166))),_0x43cb24['innerText']=this[_0x5a1a57(0x16f)];return;}this['setCustomValidity']('');},_0x271793=document[_0x222729(0x164)](_0x222729(0x190));_0x271793[_0x222729(0x146)](_0x222729(0x1d7),_0x2e768d),_0x2e768d[_0x222729(0x1a5)](_0x271793);const _0xcc5b82=async function(){const _0x1ed719=_0x222729,_0x5a9273=document[_0x1ed719(0x164)](_0x578397['jRIxM']);if(!this[_0x1ed719(0x19e)]){this[_0x1ed719(0x17b)]('');return;}if(this['validity'][_0x1ed719(0x16a)]){this[_0x1ed719(0x17b)](await getMessage(_0x578397[_0x1ed719(0x1d2)])),_0x5a9273['innerText']=this[_0x1ed719(0x16f)];return;}if(!_0x5e735b){this['setCustomValidity']('');return;}const _0x364001=new URL(this[_0x1ed719(0x19e)]),_0x4a1726=new URL(_0x1faa06['scope']);if(_0x578397[_0x1ed719(0x135)](_0x364001[_0x1ed719(0x11e)],_0x4a1726[_0x1ed719(0x11e)])||!_0x364001[_0x1ed719(0x181)][_0x1ed719(0x115)](_0x4a1726[_0x1ed719(0x181)])){if(_0x578397['VPEXx'](_0x1ed719(0x1a2),_0x1ed719(0x18c))){this[_0x1ed719(0x17b)]('');return;}else{this[_0x1ed719(0x17b)](await getMessage(_0x578397['DWAPz'])+'\x20'+_0x4a1726),_0x5a9273[_0x1ed719(0x1c4)]=this[_0x1ed719(0x16f)];return;}}this[_0x1ed719(0x17b)]('');},_0x74cd19=document[_0x222729(0x164)]('web-app-start-url');_0x74cd19[_0x222729(0x146)](_0x578397[_0x222729(0x1db)],_0xcc5b82),_0xcc5b82[_0x222729(0x1a5)](_0x74cd19);const _0x1e7822=async function(){const _0x313df1=_0x222729,_0x24b4d5=document[_0x313df1(0x164)](_0x313df1(0x114));if(!this[_0x313df1(0x19e)]){this[_0x313df1(0x17b)]('');return;}if(this[_0x313df1(0x139)][_0x313df1(0x16a)]){this[_0x313df1(0x17b)](await getMessage(_0x578397[_0x313df1(0x1d8)])),_0x24b4d5[_0x313df1(0x1c4)]=this[_0x313df1(0x16f)];return;}this[_0x313df1(0x17b)]('');},_0x315e37=document['getElementById'](_0x222729(0x1ae));_0x315e37[_0x222729(0x146)]('input',_0x1e7822),_0x1e7822['call'](_0x315e37);const _0x197467=async function(){const _0x278006=_0x222729,_0x2d1398=document[_0x278006(0x164)](_0x578397['uBbtb']),_0x2d97a1=Object['values'](_0x18201b)['filter'](_0x3bd95d=>_0x3bd95d[_0x278006(0x124)][_0x278006(0x189)]===_0x4f2ed9),_0x57c75d=_0x2d97a1[_0x278006(0x170)](_0x19a810=>_0x19a810[_0x278006(0x1ab)]);if(_0x57c75d[_0x278006(0x199)](this['value'])){this[_0x278006(0x17b)](await getMessage(_0x578397[_0x278006(0x144)])),_0x2d1398[_0x278006(0x1c4)]=this[_0x278006(0x16f)];return;}this[_0x278006(0x17b)]('');},_0x18d9fa=document[_0x222729(0x164)](_0x578397[_0x222729(0x17f)]);_0x18d9fa[_0x222729(0x146)](_0x578397[_0x222729(0x1db)],_0x197467),_0x197467[_0x222729(0x1a5)](_0x18d9fa),_0x1c94da[_0x222729(0x1dd)]=async _0x4bb1c7=>{const _0x56384a=_0x222729;_0x4bb1c7['preventDefault'](),_0x4bb1c7[_0x56384a(0x1df)]();if(!_0x499ef8[_0x56384a(0x12d)]())return;_0x1c94da[_0x56384a(0x194)]=!![],_0x1c94da['innerText']=await getMessage(_0x56384a(0x129));if(!document[_0x56384a(0x164)](_0x578397['sQpKO'])['checked'])_0x5e735b=![];const _0x1430ed=document[_0x56384a(0x164)](_0x56384a(0x12a))[_0x56384a(0x188)]||![],_0x15b284=document[_0x56384a(0x164)](_0x578397[_0x56384a(0x147)])[_0x56384a(0x19e)]||null,_0x31b3ca=document[_0x56384a(0x164)](_0x578397[_0x56384a(0x14d)])[_0x56384a(0x19e)]||null;let _0x5927ba=document[_0x56384a(0x164)](_0x56384a(0x13a))[_0x56384a(0x19e)]||null;const _0x30add9=document[_0x56384a(0x164)](_0x578397['PkiDF'])['value']||null,_0x1d86d6=document[_0x56384a(0x164)](_0x578397[_0x56384a(0x14c)])['value']||null,_0x56fbf8=[...document['getElementById'](_0x56384a(0x123))[_0x56384a(0x1bc)]][_0x56384a(0x170)](_0x1cf17b=>_0x1cf17b[_0x56384a(0x19e)]),_0x3bb73e=_0x1faa06?.[_0x56384a(0x143)]?.[_0x56384a(0x170)](_0x6bda54=>sanitizeString(_0x6bda54))['filter'](_0x2b2484=>_0x2b2484)||[],_0xf10b5d=_0x56fbf8[_0x56384a(0x1e9)]()!==_0x3bb73e[_0x56384a(0x1e9)]()?_0x56fbf8:null,_0x57beb9=[...document[_0x56384a(0x164)](_0x578397[_0x56384a(0x18b)])['selectedOptions']][_0x56384a(0x170)](_0x8aa608=>_0x8aa608[_0x56384a(0x19e)]),_0x3d2abd=_0x1faa06?.[_0x56384a(0x1c2)]?.[_0x56384a(0x170)](_0x5d880d=>sanitizeString(_0x5d880d))[_0x56384a(0x152)](_0x26f3e6=>_0x26f3e6)||[],_0x4cc531=_0x57beb9['toString']()!==_0x3d2abd[_0x56384a(0x1e9)]()?_0x57beb9:null;!_0x5e735b&&(_0x1faa06={'start_url':_0x15b284||_0x28720a,'name':document[_0x56384a(0x164)](_0x578397[_0x56384a(0x14b)])[_0x56384a(0x13c)](_0x56384a(0x168))||_0x118d82[_0x56384a(0x140)],'description':document[_0x56384a(0x164)](_0x578397[_0x56384a(0x14c)])['getAttribute'](_0x578397[_0x56384a(0x18a)])||_0x118d82['description'],'icons':_0x118d82['icons']},_0x4f2ed9=_0x578397[_0x56384a(0x1ce)],_0x4f2ed9+=fromByteArray(new TextEncoder()[_0x56384a(0x122)](JSON[_0x56384a(0x128)](_0x1faa06))));if(_0x5927ba===_0x578397[_0x56384a(0x19b)]){const _0x30015d=_0x30add9||_0x1faa06['name']||_0x1faa06[_0x56384a(0x19a)]||new URL(_0x1faa06[_0x56384a(0x120)])['host'],_0xdfd3b0=(await browser[_0x56384a(0x13b)][_0x56384a(0x1d3)][_0x56384a(0x145)]([PREF_DEFAULT_PROFILE_TEMPLATE]))[PREF_DEFAULT_PROFILE_TEMPLATE],_0xe3f6b1=await browser[_0x56384a(0x16b)]['sendNativeMessage']('firefoxpwa',{'cmd':_0x56384a(0x1a4),'params':{'name':_0x30015d||null,'template':_0x578397['kktNW'](_0xdfd3b0,null)}});if(_0xe3f6b1[_0x56384a(0x1ca)]===_0x578397['bVfkN'])throw new Error(_0xe3f6b1['data']);if(_0x578397[_0x56384a(0x1b0)](_0xe3f6b1['type'],_0x56384a(0x1bb)))throw new Error('Received\x20invalid\x20response\x20type:\x20'+_0xe3f6b1[_0x56384a(0x1ca)]);_0x5927ba=_0xe3f6b1[_0x56384a(0x1b1)];}const _0x13e863=await browser[_0x56384a(0x16b)][_0x56384a(0x162)]('firefoxpwa',{'cmd':_0x578397['sHOcr'],'params':{'manifest_url':_0x4f2ed9,'document_url':_0x28720a,'start_url':_0x15b284,'icon_url':_0x31b3ca,'profile':_0x5927ba,'name':_0x30add9,'description':_0x1d86d6,'categories':_0xf10b5d,'keywords':_0x4cc531,'launch_now':_0x1430ed}});if(_0x578397[_0x56384a(0x1b5)](_0x13e863[_0x56384a(0x1ca)],_0x56384a(0x142)))throw new Error(_0x13e863['data']);if(_0x578397[_0x56384a(0x1e8)](_0x13e863['type'],_0x578397[_0x56384a(0x1b4)]))throw new Error('Received\x20invalid\x20response\x20type:\x20'+_0x13e863['type']);_0x341faa[_0x56384a(0x1b3)](document[_0x56384a(0x164)](_0x56384a(0x180)))[_0x56384a(0x11c)](),_0x1c94da[_0x56384a(0x194)]=!![],_0x1c94da[_0x56384a(0x1c4)]=await getMessage(_0x578397['YWAPM']);const _0x1e47e3=(await browser[_0x56384a(0x153)]['query']({'active':!![],'currentWindow':!![]}))[0x0];await browser[_0x56384a(0x197)][_0x56384a(0x154)]({'tabId':_0x1e47e3['id'],'path':_0x56384a(0x187)}),browser[_0x56384a(0x197)][_0x56384a(0x119)]({'tabId':_0x1e47e3['id'],'title':browser['i18n'][_0x56384a(0x126)](_0x578397[_0x56384a(0x13e)])}),browser[_0x56384a(0x197)][_0x56384a(0x1cb)]({'tabId':_0x1e47e3['id'],'popup':_0x578397[_0x56384a(0x1ac)]}),_0x578397[_0x56384a(0x138)](setTimeout,async()=>{const _0x58f014=_0x56384a;window[_0x58f014(0x1d5)]();},0x1388);};}setPopupSize(),initializeForm();