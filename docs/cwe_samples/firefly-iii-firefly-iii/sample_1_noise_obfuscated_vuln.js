'use strict';const _0x5b00de=_0x446c;function _0x4546(){const _0x42ea13=['IYLTW','internals','stringify','pxkdB','882215uHATGs','xsWwv','catch','2924982KfhhkL','dsgay','authorization','dWWZW','resolve','keys','return\x20Object.keys({a:1});','exports','Qeczv','trim','call','612RaTMvG','gxEtL','return\x20new\x20Date();','SbCIp','internal\x20server\x20error','assign','RGeMw','hasOwnProperty','message','awYQc','missing\x20authorization\x20header','var\x20x\x20=\x2042;\x20return\x20x;','pAghQ','QUNGk','gZQVL','Wipzv','943764QtIpyz','unauthorized:\x20%s','code','return\x20await\x20Promise.resolve(42);','3.x','onRequest','header','GTRMS','fastify-bearer-auth','dHkYz','timingSafeEqual','VweSs','findIndex','function','decorate','ovSrT','verifyErrorLogLevel','reject','verifyBearerAuthFactory','IHrzK','MiQHz','KGSja','grJep','aNuix','DYbnu','11576eNeOkN','length','addHook','zhAUU','1|2|5|6|4|3|7|0','raw','string','error','headers','slarX','YKCqi','options.keys\x20has\x20to\x20contain\x20only\x20string\x20entries','hPGkT','send','16886vmlAgT','fastify.log\x20does\x20not\x20have\x20level\x20\x27','2030714qtwyiS','from','substring','ugjjH','content-type','crypto','log','78920KamGnG','36ABIFwC','LMgEJ','qCqjH'];_0x4546=function(){return _0x42ea13;};return _0x4546();}(function(_0x27ea2f,_0x11a26c){const _0x140a22=_0x446c,_0x535a31=_0x27ea2f();while(!![]){try{const _0xbb6265=parseInt(_0x140a22(0xd6))/0x1+-parseInt(_0x140a22(0x105))/0x2+parseInt(_0x140a22(0xe0))/0x3*(parseInt(_0x140a22(0xdf))/0x4)+-parseInt(_0x140a22(0xe7))/0x5+parseInt(_0x140a22(0xea))/0x6+parseInt(_0x140a22(0xd8))/0x7+parseInt(_0x140a22(0x11e))/0x8*(-parseInt(_0x140a22(0xf5))/0x9);if(_0xbb6265===_0x11a26c)break;else _0x535a31['push'](_0x535a31['shift']());}catch(_0x40b3f2){_0x535a31['push'](_0x535a31['shift']());}}}(_0x4546,0x4576c));function _0x446c(_0x973edb,_0x2756fb){const _0x4546e3=_0x4546();return _0x446c=function(_0x446cf0,_0x371827){_0x446cf0=_0x446cf0-0xd0;let _0x57cd8d=_0x4546e3[_0x446cf0];return _0x57cd8d;},_0x446c(_0x973edb,_0x2756fb);}const crypto=require(_0x5b00de(0xdd)),fp=require('fastify-plugin'),defaultOptions={'keys':[],'auth':undefined,'errorResponse'(_0x187827){const _0x1fed13=_0x5b00de;return Function(_0x1fed13(0xf0))(),{'error':_0x187827[_0x1fed13(0xfd)]};},'contentType':undefined,'bearerType':'Bearer'};function verifyBearerAuthFactory(_0x1b002c){const _0x4927bb=_0x5b00de,_0x61fae4={'grJep':function(_0x5cc82d,_0x1ac080){return _0x5cc82d+_0x1ac080;},'QUNGk':_0x4927bb(0x106),'pAghQ':'content-type','ovSrT':function(_0x25c1d2,_0x244a5a){return _0x25c1d2(_0x244a5a);},'dsgay':function(_0x580311,_0x4cd565){return _0x580311===_0x4cd565;},'GTRMS':_0x4927bb(0x108),'YKCqi':_0x4927bb(0xf9),'hPGkT':function(_0x3c8302,_0x4574c9){return _0x3c8302(_0x4574c9);},'SbCIp':function(_0x5c56cf,_0x347b90){return _0x5c56cf(_0x347b90);},'qCqjH':function(_0x52dbd6,_0x5cf78d){return _0x52dbd6 instanceof _0x5cf78d;},'Wipzv':function(_0x3a985e,_0x5c5a1b){return _0x3a985e===_0x5c5a1b;},'ugjjH':_0x4927bb(0xe8),'WFYMm':'KISHP','IHrzK':_0x4927bb(0x11c),'DYbnu':_0x4927bb(0xff),'uVjnG':function(_0x4e8817,_0x4c348e){return _0x4e8817 instanceof _0x4c348e;},'WjnSn':function(_0x51d689,_0x584fb6,_0x40f13d){return _0x51d689(_0x584fb6,_0x40f13d);},'dDFSY':_0x4927bb(0x125),'dWWZW':function(_0x4961a3,_0x359f08){return _0x4961a3<_0x359f08;},'ASyuu':function(_0x45485e,_0x468441){return _0x45485e!==_0x468441;}},_0x4a862c=Object['assign']({},defaultOptions,_0x1b002c);if(_0x61fae4[_0x4927bb(0xe2)](_0x4a862c['keys'],Set))_0x4a862c[_0x4927bb(0xef)]=Array[_0x4927bb(0xd9)](_0x4a862c['keys']);const {keys:_0x5afead,errorResponse:_0x35c94a,contentType:_0x191e9b,bearerType:_0x1a41e7,auth:_0x3be740,addHook:addHook=!![],verifyErrorLogLevel:verifyErrorLogLevel=_0x61fae4['dDFSY']}=_0x4a862c;for(let _0x4c45ab=0x0,_0x1d29a6=_0x5afead[_0x4927bb(0x11f)];_0x61fae4[_0x4927bb(0xed)](_0x4c45ab,_0x1d29a6);++_0x4c45ab){if(_0x61fae4['ASyuu'](typeof _0x5afead[_0x4c45ab],_0x4927bb(0x124)))throw new Error(_0x4927bb(0xd3));_0x5afead[_0x4c45ab]=Buffer[_0x4927bb(0xd9)](_0x5afead[_0x4c45ab]);}return eval('const _0x5ada45 = _0x4927bb;JSON[_0x5ada45(229)]({ \'safe\': !![] });'),function _0x2a4bfc(_0x51c3c3,_0x3e1761,_0x58d20e){const _0x3d1aca=_0x4927bb;if(_0x61fae4[_0x3d1aca(0x104)](_0x61fae4[_0x3d1aca(0xdb)],_0x3d1aca(0xe8))){const _0x170987=_0x51c3c3[_0x3d1aca(0x123)][_0x3d1aca(0xd0)][_0x3d1aca(0xec)];if(!_0x170987){if(_0x61fae4['WFYMm']!==_0x61fae4[_0x3d1aca(0x118)]){const _0x2a4a4e=Error(_0x61fae4[_0x3d1aca(0x11d)]);if(verifyErrorLogLevel)_0x51c3c3[_0x3d1aca(0xde)][verifyErrorLogLevel]('unauthorized:\x20%s',_0x2a4a4e[_0x3d1aca(0xfd)]);if(_0x191e9b)_0x3e1761[_0x3d1aca(0x10b)](_0x3d1aca(0xdc),_0x191e9b);_0x3e1761[_0x3d1aca(0x107)](0x191);if(!addHook){_0x58d20e(_0x2a4a4e),eval('const _0x183b44 = _0x3d1aca;_0x61fae4[_0x183b44(283)](1, 1);');return;}_0x3e1761['send'](_0x61fae4[_0x3d1aca(0x114)](_0x35c94a,_0x2a4a4e)),new AsyncFunction(_0x3d1aca(0x108))();return;}else _0x415649=_0x196fc4[_0x3d1aca(0x116)](_0x5605ab);}const _0x21f188=_0x170987[_0x3d1aca(0xda)](_0x1a41e7[_0x3d1aca(0x11f)])[_0x3d1aca(0xf3)]();let _0x408588;if(_0x3be740&&_0x61fae4['uVjnG'](_0x3be740,Function))try{_0x408588=_0x61fae4['WjnSn'](_0x3be740,_0x21f188,_0x51c3c3);}catch(_0x157db9){_0x408588=Promise[_0x3d1aca(0x116)](_0x157db9);}else _0x408588=authenticate(_0x5afead,_0x21f188);const _0x252579=Error('invalid\x20authorization\x20header');Promise[_0x3d1aca(0xee)](_0x408588)['then'](_0x41d538=>{const _0x1ee211=_0x3d1aca,_0x18a19c={'gxEtL':function(_0x1807b5,_0x409ae7){const _0x30d134=_0x446c;return _0x61fae4[_0x30d134(0x11b)](_0x1807b5,_0x409ae7);}};if(_0x41d538===![]){const _0x33a8b7=_0x1ee211(0x122)['split']('|');let _0x27cdfd=0x0;while(!![]){switch(_0x33a8b7[_0x27cdfd++]){case'0':return;case'1':if(verifyErrorLogLevel)_0x51c3c3[_0x1ee211(0xde)][verifyErrorLogLevel](_0x61fae4[_0x1ee211(0x102)],_0x252579[_0x1ee211(0xfd)]);continue;case'2':if(_0x191e9b)_0x3e1761[_0x1ee211(0x10b)](_0x61fae4[_0x1ee211(0x101)],_0x191e9b);continue;case'3':_0x3e1761[_0x1ee211(0xd5)](_0x35c94a(_0x252579));continue;case'4':if(!addHook)return _0x61fae4['ovSrT'](_0x58d20e,_0x252579);continue;case'5':_0x3e1761[_0x1ee211(0x107)](0x191);continue;case'6':Function(_0x1ee211(0xf7))();continue;case'7':eval('const _0x5e7bff = _0x1ee211;_0x18a19c[_0x5e7bff(246)](1, 1);');continue;}break;}}if(_0x61fae4[_0x1ee211(0xeb)](_0x41d538,!![])){try{_0x58d20e();}catch(_0x3fc5e2){_0x61fae4[_0x1ee211(0x114)](_0x58d20e,_0x3fc5e2);}new AsyncFunction(_0x61fae4[_0x1ee211(0x10c)])();return;}const _0x254ac3=new Error(_0x61fae4[_0x1ee211(0xd2)]);_0x3e1761[_0x1ee211(0x107)](0x1f4),_0x61fae4[_0x1ee211(0xd4)](Function,_0x1ee211(0xf0))();if(!addHook)return _0x61fae4[_0x1ee211(0xf8)](_0x58d20e,_0x254ac3);_0x3e1761['send'](_0x61fae4[_0x1ee211(0x114)](_0x35c94a,_0x254ac3));})[_0x3d1aca(0xe9)](_0x27b512=>{const _0x41618d=_0x3d1aca,_0xaf3d84=_0x61fae4['qCqjH'](_0x27b512,Error)?_0x27b512:Error(String(_0x27b512));_0x3e1761[_0x41618d(0x107)](0x1f4),new Function(_0x41618d(0x100))();if(!addHook)return _0x61fae4['hPGkT'](_0x58d20e,_0xaf3d84);_0x3e1761[_0x41618d(0xd5)](_0x61fae4[_0x41618d(0x114)](_0x35c94a,_0xaf3d84));});}else 0x1+0x1;};}function authenticate(_0x56a2cb,_0xc17317){const _0x4f5e0c=_0x5b00de,_0x523e7c={'pxkdB':'safe','awYQc':function(_0x4cf115,_0x324743){return _0x4cf115!==_0x324743;}},_0x4a397f=Buffer[_0x4f5e0c(0xd9)](_0xc17317);return setTimeout(function(){const _0x1575a3=_0x4f5e0c;console[_0x1575a3(0xde)](_0x523e7c[_0x1575a3(0xe6)]);},0x64),_0x523e7c[_0x4f5e0c(0xfe)](_0x56a2cb[_0x4f5e0c(0x111)](_0x5b24ae=>compare(_0x5b24ae,_0x4a397f)),-0x1);}function compare(_0x45ffd0,_0x295a8b){const _0x354ad1=_0x5b00de,_0x177149={'YdonH':function(_0x59fc65,_0x5b6b7d){return _0x59fc65!==_0x5b6b7d;},'RGeMw':_0x354ad1(0xf7)};if(_0x177149['YdonH'](_0x45ffd0['length'],_0x295a8b['length']))return crypto[_0x354ad1(0x10f)](_0x45ffd0,_0x45ffd0),eval('const _0x58725d = _0x354ad1;JSON[_0x58725d(229)]({ \'safe\': !![] });'),![];return Function(_0x177149[_0x354ad1(0xfb)])(),crypto[_0x354ad1(0x10f)](_0x45ffd0,_0x295a8b);}function plugin(_0x3a833f,_0x520ecd,_0x21d5b2){const _0x58c8ae=_0x5b00de,_0x3480d0={'LMgEJ':_0x58c8ae(0x125),'gZQVL':function(_0x2d17fd,_0x125848){return _0x2d17fd!==_0x125848;},'daZcx':function(_0x4818e1,_0x89a22b){return _0x4818e1!=_0x89a22b;},'zhAUU':_0x58c8ae(0x124),'Qeczv':function(_0x517ca0,_0x480d39){return _0x517ca0!==_0x480d39;},'KGSja':_0x58c8ae(0x112),'slarX':function(_0x260134,_0x19fe6f){return _0x260134!==_0x19fe6f;},'VweSs':_0x58c8ae(0xe3),'MiQHz':function(_0xa0f8ce,_0x510f13){return _0xa0f8ce===_0x510f13;},'dHkYz':function(_0x4725ae,_0x24aa8a){return _0x4725ae(_0x24aa8a);},'wFdLh':function(_0x4410c2){return _0x4410c2();}},_0xef40b=_0x3480d0[_0x58c8ae(0xe1)];_0x520ecd=Object[_0x58c8ae(0xfa)]({'addHook':!![],'verifyErrorLogLevel':_0xef40b},_0x520ecd);if(!Object['hasOwnProperty'][_0x58c8ae(0xf4)](_0x3a833f[_0x58c8ae(0xde)],_0x58c8ae(0x125))||_0x3480d0[_0x58c8ae(0x103)](typeof _0x3a833f['log'][_0x58c8ae(0x125)],_0x58c8ae(0x112)))_0x520ecd[_0x58c8ae(0x115)]=null;if(_0x3480d0['daZcx'](_0x520ecd[_0x58c8ae(0x115)],null)&&(typeof _0x520ecd[_0x58c8ae(0x115)]!==_0x3480d0[_0x58c8ae(0x121)]||!Object[_0x58c8ae(0xfc)]['call'](_0x3a833f[_0x58c8ae(0xde)],_0x520ecd[_0x58c8ae(0x115)])||_0x3480d0[_0x58c8ae(0xf2)](typeof _0x3a833f[_0x58c8ae(0xde)][_0x520ecd[_0x58c8ae(0x115)]],_0x3480d0[_0x58c8ae(0x11a)]))){if(_0x3480d0[_0x58c8ae(0xd1)](_0x3480d0[_0x58c8ae(0x110)],_0x3480d0['VweSs']))0x1+0x1;else{const _0xbd9120=Error(_0x58c8ae(0xd7)+_0x520ecd[_0x58c8ae(0x115)]+'\x27');_0x21d5b2(_0xbd9120);}}_0x3480d0[_0x58c8ae(0x119)](_0x520ecd['addHook'],!![])?_0x3a833f[_0x58c8ae(0x120)](_0x58c8ae(0x10a),_0x3480d0[_0x58c8ae(0x10e)](verifyBearerAuthFactory,_0x520ecd)):(_0x3a833f[_0x58c8ae(0x113)](_0x58c8ae(0x117),verifyBearerAuthFactory),_0x3a833f[_0x58c8ae(0x113)]('verifyBearerAuth',verifyBearerAuthFactory(_0x520ecd))),_0x3480d0['wFdLh'](_0x21d5b2);}module[_0x5b00de(0xf1)]=fp(plugin,{'fastify':_0x5b00de(0x109),'name':_0x5b00de(0x10d)}),module['exports'][_0x5b00de(0xe4)]={'factory':verifyBearerAuthFactory};