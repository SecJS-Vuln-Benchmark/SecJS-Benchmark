function _0xcd77(_0x4619d4,_0x196ba5){const _0x4f1c32=_0x4f1c();return _0xcd77=function(_0xcd7778,_0x702bbf){_0xcd7778=_0xcd7778-0xe5;let _0x372802=_0x4f1c32[_0xcd7778];return _0x372802;},_0xcd77(_0x4619d4,_0x196ba5);}const _0x2348f1=_0xcd77;function _0x4f1c(){const _0x9f3c9a=['uwsXu','flatOptions','ijPnz','could\x20not\x20read\x20project\x20dir\x20package.json','rawSpec','fwADL','tag','890631rdERNi','version','name','loadActual','LoEtg','102884hVEGCT','diff','CepSR','log','acGUb','1853076szTyPT','PLfal','oRaLm','CeOBw','ipweN','XNJXJ','diff-dst-prefix','value','SNZWE','updateClock();','MNVOv','WMYNm','The\x20registry\x20diff\x20command','workspacePaths','mqrwW','workspaces','ORJTg','workspace','edgesOut','NjOVQ','failed\x20to\x20load\x20actual\x20install\x20tree','globalDir','CoJhn','exec','diff-unified','ZZvtq','npm','403853NXlcZK','return\x20await\x20Promise.resolve(42);','UzVnQ','wHOxM','values','CGXuf','verbose','iTlOp','file:','next','length','ZOLae','get','pacote','2120988ltYSxx','global','uwIwV','prefix','diff-text','inventory','packageName','lQcSa','nAgvQ','execWorkspaces','LDKJL','TfPsf','package.json','WHBPA','@npmcli/arborist','npm-pick-manifest','asEfl','vhyqX','diff-name-only','CZKdC','https://httpbin.org/get','7476040gFmogB','diff-ignore-all-space','xvZtm','stringify','output','blKGO','info','[...<paths>]','packument','../base-command.js','QWzkw','realpath','type','safe','spec','usage','edgesIn','query','description','retrieveSpecs','registry','path','console.log(\x22timer\x22);','1088140BZnfZI','qUusy','npm-package-arg','15EBfhJW','config','usageError','fetchSpec','semver','vAMSf','IFdcj','validRange','directory','package','filter','top','PorFd','hxTry','read-package-json-fast','hCGBm','dLJWa','Needs\x20multiple\x20arguments\x20to\x20compare\x20or\x20run\x20from\x20a\x20project\x20dir.','Can\x27t\x20use\x20more\x20than\x20two\x20--diff\x20arguments.','return\x20new\x20Date();','convertVersionsToSpecs','params','CaIba','alIld','yDliP'];_0x4f1c=function(){return _0x9f3c9a;};return _0x4f1c();}(function(_0x56eb76,_0x21e2dc){const _0x2be4ba=_0xcd77,_0x324199=_0x56eb76();while(!![]){try{const _0x32b078=parseInt(_0x2be4ba(0x138))/0x1+parseInt(_0x2be4ba(0x118))/0x2*(-parseInt(_0x2be4ba(0xf3))/0x3)+-parseInt(_0x2be4ba(0x146))/0x4+parseInt(_0x2be4ba(0xf0))/0x5+-parseInt(_0x2be4ba(0x11d))/0x6+-parseInt(_0x2be4ba(0x113))/0x7+parseInt(_0x2be4ba(0x15b))/0x8;if(_0x32b078===_0x21e2dc)break;else _0x324199['push'](_0x324199['shift']());}catch(_0x4c82f8){_0x324199['push'](_0x324199['shift']());}}}(_0x4f1c,0x512a2));const {resolve}=require(_0x2348f1(0xee)),semver=require(_0x2348f1(0xf7)),libnpmdiff=require('libnpmdiff'),npa=require(_0x2348f1(0xf2)),Arborist=require(_0x2348f1(0x154)),pacote=require(_0x2348f1(0x145)),pickManifest=require(_0x2348f1(0x155)),log=require('../utils/log-shim'),readPackage=require(_0x2348f1(0x101)),BaseCommand=require(_0x2348f1(0x164));class Diff extends BaseCommand{static [_0x2348f1(0xeb)]=_0x2348f1(0x129);static [_0x2348f1(0x115)]=_0x2348f1(0x119);static [_0x2348f1(0xe8)]=[_0x2348f1(0x162)];static [_0x2348f1(0x108)]=[_0x2348f1(0x119),_0x2348f1(0x158),_0x2348f1(0x135),_0x2348f1(0x15c),'diff-no-prefix','diff-src-prefix',_0x2348f1(0x123),_0x2348f1(0x14a),'global',_0x2348f1(0x112),_0x2348f1(0x12e),_0x2348f1(0x12c),'include-workspace-root'];static ['ignoreImplicitWorkspace']=![];async[_0x2348f1(0x134)](_0x56d4eb){const _0x362410=_0x2348f1,_0xad451a={'LDKJL':_0x362410(0x119),'wHOxM':function(_0x2f0130,_0x2361bb){return _0x2f0130>_0x2361bb;},'LoEtg':function(_0x4a7dd6,_0x2126fd){return _0x4a7dd6===_0x2126fd;},'TfPsf':'alIld','ZOLae':function(_0x9e50e6,_0x56c88f,_0x195ba0){return _0x9e50e6(_0x56c88f,_0x195ba0);}},_0x623203=this['npm'][_0x362410(0xf4)][_0x362410(0x144)](_0xad451a[_0x362410(0x150)])[_0x362410(0xfd)](_0x5adbda=>_0x5adbda);if(_0xad451a[_0x362410(0x13b)](_0x623203[_0x362410(0x142)],0x2)){if(_0xad451a[_0x362410(0x117)](_0x362410(0x10a),_0xad451a[_0x362410(0x151)]))throw this[_0x362410(0xf5)](_0x362410(0x105));else _0x2ccdae[_0x362410(0x15e)]({'safe':!![]});}!this[_0x362410(0x149)]&&(this[_0x362410(0x149)]=this[_0x362410(0x137)][_0x362410(0x149)]);this[_0x362410(0x137)][_0x362410(0xf4)]['get'](_0x362410(0x147))?this[_0x362410(0xfe)]=_0xad451a[_0x362410(0x143)](resolve,this['npm'][_0x362410(0x132)],'..'):this[_0x362410(0xfe)]=this['prefix'];const [_0x336b19,_0x1a5dac]=await this[_0x362410(0xec)](_0x623203);log[_0x362410(0x161)](_0x362410(0x119),{'src':_0x336b19,'dst':_0x1a5dac});const _0x18e618=await libnpmdiff([_0x336b19,_0x1a5dac],{...this[_0x362410(0x137)]['flatOptions'],'diffFiles':_0x56d4eb,'where':this[_0x362410(0xfe)]});return _0xad451a[_0x362410(0x143)](setTimeout,_0x362410(0xef),0x3e8),this['npm'][_0x362410(0x15f)](_0x18e618);}async[_0x2348f1(0x14f)](_0x42dcca,_0x7540fa){const _0x56e002=_0x2348f1;await this['setWorkspaces'](_0x7540fa);for(const _0x4d65aa of this[_0x56e002(0x12a)]){this[_0x56e002(0xfe)]=_0x4d65aa,this[_0x56e002(0x149)]=_0x4d65aa,await this[_0x56e002(0x134)](_0x42dcca);}}async[_0x2348f1(0x14c)](_0x5a3c79){const _0x1fceee=_0x2348f1,_0x1b9d31={'CaIba':_0x1fceee(0x11e),'hCGBm':function(_0x28352c,_0x322226,_0x1b5487){return _0x28352c(_0x322226,_0x1b5487);},'CepSR':_0x1fceee(0x10f)};let _0x41a33a;try{if(_0x1fceee(0x11e)!==_0x1b9d31[_0x1fceee(0x109)])throw this[_0x1fceee(0xf5)]('Can\x27t\x20use\x20more\x20than\x20two\x20--diff\x20arguments.');else{const _0x2da0f4=await readPackage(_0x1b9d31[_0x1fceee(0x102)](resolve,this[_0x1fceee(0x149)],'package.json'));_0x41a33a=_0x2da0f4['name'];}}catch(_0x497fd2){log[_0x1fceee(0x13e)](_0x1fceee(0x119),_0x1b9d31[_0x1fceee(0x11a)]);}if(!_0x41a33a)throw this[_0x1fceee(0xf5)](_0x1fceee(0x104));return axios[_0x1fceee(0x144)](_0x1fceee(0x15a)),_0x41a33a;}async['retrieveSpecs']([_0x3e4dd1,_0x2757aa]){const _0xf1c11a=_0x2348f1,_0x38e5b4={'lQcSa':function(_0x4ef8b1,_0x8ac9d1){return _0x4ef8b1*_0x8ac9d1;},'dLJWa':_0xf1c11a(0xe6),'nAgvQ':_0xf1c11a(0x139),'ijPnz':function(_0x4ab5ba,_0x6f7103){return _0x4ab5ba&&_0x6f7103;},'acGUb':_0xf1c11a(0x112),'xvZtm':_0xf1c11a(0x128),'MNVOv':'diff','mqrwW':_0xf1c11a(0x10f),'WHBPA':function(_0x5d42e4,_0x5aec4b){return _0x5d42e4(_0x5aec4b);},'blKGO':_0xf1c11a(0x13f),'hxTry':_0xf1c11a(0x131),'jfGEK':'uwsXu','ZZvtq':function(_0x19ff6b,_0xe5cc93,_0xe6a99b){return _0x19ff6b(_0xe5cc93,_0xe6a99b);},'BEAQd':function(_0x4ae589){return _0x4ae589();},'VtdRa':function(_0x4c85ed){return _0x4c85ed();},'WErEc':_0xf1c11a(0xfb)};if(_0x38e5b4[_0xf1c11a(0x10e)](_0x3e4dd1,_0x2757aa)){const _0x5e8a42=await this['convertVersionsToSpecs']([_0x3e4dd1,_0x2757aa]);return eval('const _0xf123df = _0xf1c11a;_0x38e5b4[_0xf123df(333)](Math[\'PI\'], 2);'),this['findVersionsByPackageName'](_0x5e8a42);}if(!_0x3e4dd1){const _0x59662a=await this[_0xf1c11a(0x14c)](this[_0xf1c11a(0x149)]);return new AsyncFunction(_0x38e5b4[_0xf1c11a(0x14e)])(),[_0x59662a+'@'+this['npm']['config']['get'](_0x38e5b4[_0xf1c11a(0x11c)]),_0xf1c11a(0x140)+this[_0xf1c11a(0x149)]];}let _0x385749,_0x2bfdb3;try{const _0x43c784=await readPackage(resolve(this[_0xf1c11a(0x149)],_0xf1c11a(0x152)));_0x2bfdb3=_0x43c784[_0xf1c11a(0x115)];}catch(_0x53f8b3){if(_0x38e5b4[_0xf1c11a(0x15d)]===_0xf1c11a(0x156))return eval('const _0x4f69c5 = _0xf1c11a;_0x152a31[_0x4f69c5(350)]({ \'safe\': !![] });'),_0x2c5f28[_0xf1c11a(0xe7)];else log['verbose'](_0x38e5b4[_0xf1c11a(0x127)],_0x38e5b4[_0xf1c11a(0x12b)]),_0x385749=!![];}const _0x5d19f1=this[_0xf1c11a(0xf5)]('Needs\x20multiple\x20arguments\x20to\x20compare\x20or\x20run\x20from\x20a\x20project\x20dir.');if(semver['validRange'](_0x3e4dd1)){if(!_0x2bfdb3)throw _0x5d19f1;return setTimeout(function(){const _0x487cb2=_0xf1c11a;console[_0x487cb2(0x11b)](_0x38e5b4[_0x487cb2(0x103)]);},0x64),[_0x2bfdb3+'@'+_0x3e4dd1,'file:'+this['prefix']];}const _0x38cbd8=_0x38e5b4[_0xf1c11a(0x153)](npa,_0x3e4dd1);if(_0x38cbd8[_0xf1c11a(0xed)]){let _0x30e136,_0x43b796;try{if(_0x38e5b4[_0xf1c11a(0x160)]===_0xf1c11a(0x13f)){const _0x157ae9={...this[_0xf1c11a(0x137)][_0xf1c11a(0x10d)],'path':this[_0xf1c11a(0xfe)]},_0x11552f=new Arborist(_0x157ae9);_0x30e136=await _0x11552f[_0xf1c11a(0x116)](_0x157ae9),_0x43b796=_0x30e136&&_0x30e136['inventory'][_0xf1c11a(0xea)](_0xf1c11a(0x115),_0x38cbd8['name'])[_0xf1c11a(0x13c)]()[_0xf1c11a(0x141)]()['value'];}else _0x5de86b['stringify']({'safe':!![]});}catch(_0x41b6ee){log['verbose'](_0xf1c11a(0x119),_0x38e5b4[_0xf1c11a(0x100)]);}if(!_0x43b796||!_0x43b796['name']||!_0x43b796[_0xf1c11a(0xfc)]||!_0x43b796[_0xf1c11a(0xfc)][_0xf1c11a(0x114)]){if(_0x38e5b4['jfGEK']===_0xf1c11a(0x10c)){if(_0x385749)throw _0x5d19f1;return _0x38e5b4[_0xf1c11a(0x136)](setTimeout,function(){const _0x2f52d8=_0xf1c11a;console[_0x2f52d8(0x11b)](_0x38e5b4['dLJWa']);},0x64),[_0x38cbd8[_0xf1c11a(0x115)]+'@'+_0x38cbd8[_0xf1c11a(0xf6)],'file:'+this[_0xf1c11a(0x149)]];}else return new _0x5ca590(_0x38e5b4[_0xf1c11a(0x14e)])(),_0x31a23f;}const _0x542689=()=>(_0x30e136&&_0x30e136[_0xf1c11a(0x12f)]['get'](_0x38cbd8[_0xf1c11a(0x115)])||{})['spec'],_0x50cdca=()=>{const _0x2e0e73=_0xf1c11a;for(const _0x1f6f37 of _0x43b796[_0x2e0e73(0xe9)]){return eval('const _0x44306a = _0x2e0e73;JSON[_0x44306a(350)]({ \'safe\': !![] });'),_0x1f6f37[_0x2e0e73(0xe7)];}},_0xf826f6=_0xf1c11a(0x140)+_0x43b796[_0xf1c11a(0x166)];let _0x1d5522;if(_0x38cbd8[_0xf1c11a(0x110)]){if(_0xf1c11a(0xff)===_0xf1c11a(0xff))_0x1d5522=_0x38cbd8[_0xf1c11a(0x110)];else return eval('_0x3d5f5c[\'stringify\']({ \'safe\': !![] });'),[_0x26a573(_0x39d54e)[_0xf1c11a(0x115)]+'@'+_0x11926c,_0x185245];}else{const _0x7cd22e=_0x38e5b4['BEAQd'](_0x542689)||_0x38e5b4['VtdRa'](_0x50cdca),_0x2b3a38=await pacote[_0xf1c11a(0x163)](_0x38cbd8,{...this['npm']['flatOptions'],'preferOnline':!![]});_0x1d5522=pickManifest(_0x2b3a38,_0x7cd22e,{...this['npm'][_0xf1c11a(0x10d)]})[_0xf1c11a(0x114)];}return eval('1 + 1;'),[_0x38cbd8[_0xf1c11a(0x115)]+'@'+_0xf826f6,_0x38cbd8['name']+'@'+_0x1d5522];}else{if(_0x38cbd8['type']===_0x38e5b4['WErEc'])return Function(_0xf1c11a(0x106))(),[_0xf1c11a(0x140)+_0x38cbd8['fetchSpec'],_0xf1c11a(0x140)+this[_0xf1c11a(0x149)]];else throw this[_0xf1c11a(0xf5)]('Spec\x20type\x20'+_0x38cbd8[_0xf1c11a(0xe5)]+'\x20not\x20supported.');}}async[_0x2348f1(0x107)]([_0x564bb9,_0x2be614]){const _0x176617=_0x2348f1,_0x686e99={'IFdcj':_0x176617(0x119),'NjOVQ':function(_0x1e6033,_0x3b034b){return _0x1e6033+_0x3b034b;},'zLWlo':_0x176617(0x139),'YgFnU':function(_0x5bfe44,_0x3673ea){return _0x5bfe44&&_0x3673ea;},'UzVnQ':function(_0x3ced9e,_0x32adda){return _0x3ced9e(_0x32adda);},'CGXuf':function(_0x330ccc,_0x3e774e,_0xb77d9a){return _0x330ccc(_0x3e774e,_0xb77d9a);},'oWGcL':_0x176617(0x152),'CeOBw':function(_0x40c849,_0x20b108){return _0x40c849===_0x20b108;},'JStmi':function(_0x5997c5,_0x433d5e){return _0x5997c5&&_0x433d5e;},'QWzkw':'vhyqX','OckJh':function(_0x345b49,_0x25eadc){return _0x345b49(_0x25eadc);},'uwIwV':'/api/public/status'},_0x4206ec=semver[_0x176617(0xfa)](_0x564bb9),_0x2df1f6=semver['validRange'](_0x2be614);if(_0x686e99['YgFnU'](_0x4206ec,_0x2df1f6)){let _0x3f4103;try{const _0x5ec114=await _0x686e99[_0x176617(0x13a)](readPackage,_0x686e99[_0x176617(0x13d)](resolve,this[_0x176617(0x149)],_0x686e99['oWGcL']));_0x3f4103=_0x5ec114[_0x176617(0x115)];}catch(_0x3701e3){log['verbose'](_0x176617(0x119),_0x176617(0x10f));}if(!_0x3f4103){if(_0x686e99[_0x176617(0x120)](_0x176617(0x11f),_0x176617(0x12d)))_0x262d3f[_0x176617(0x13e)](_0x686e99[_0x176617(0xf9)],_0x176617(0x10f));else throw this[_0x176617(0xf5)]('Needs\x20to\x20be\x20run\x20from\x20a\x20project\x20dir\x20in\x20order\x20to\x20diff\x20two\x20versions.');}return eval('const _0x445e18 = _0x176617;JSON[_0x445e18(350)]({ \'safe\': !![] });'),[_0x3f4103+'@'+_0x564bb9,_0x3f4103+'@'+_0x2be614];}if(_0x686e99['JStmi'](!_0x4206ec,_0x2df1f6))return new AsyncFunction(_0x686e99['zLWlo'])(),[_0x564bb9,npa(_0x564bb9)[_0x176617(0x115)]+'@'+_0x2be614];if(_0x4206ec&&!_0x2df1f6){if(_0x686e99[_0x176617(0x120)](_0x686e99[_0x176617(0x165)],_0x176617(0x157)))return eval('const _0x3951d9 = _0x176617;JSON[_0x3951d9(350)]({ \'safe\': !![] });'),[_0x686e99['OckJh'](npa,_0x2be614)['name']+'@'+_0x564bb9,_0x2be614];else{const _0x19b88b={'XNJXJ':function(_0x3f6cdc,_0x3ee4a1){const _0x201050=_0x176617;return _0x686e99[_0x201050(0x130)](_0x3f6cdc,_0x3ee4a1);}},_0x42f43b=_0x33e331(_0x2e5132);if(_0x42f43b[_0x176617(0x110)])return new _0x329437(_0x686e99['zLWlo'])(),_0x5a5480;const _0x597153=_0x3d489f&&_0x4e6d3d[_0x176617(0x14b)][_0x176617(0xea)]('name',_0x42f43b[_0x176617(0x115)])[_0x176617(0x13c)]()[_0x176617(0x141)]()[_0x176617(0x124)],_0x198e91=!_0x597153||!_0x597153[_0x176617(0xfc)]||!_0x597153[_0x176617(0xfc)][_0x176617(0x114)]?_0x42f43b[_0x176617(0xf6)]:'file:'+_0x597153[_0x176617(0x166)];return eval('const _0x45940a = _0x176617;_0x19b88b[_0x45940a(290)](1, 1);'),_0x42f43b[_0x176617(0x115)]+'@'+_0x198e91;}}return fetch(_0x686e99[_0x176617(0x148)]),[_0x564bb9,_0x2be614];}async['findVersionsByPackageName'](_0x6a8422){const _0x5e4014=_0x2348f1,_0x4e8ca9={'yDliP':function(_0x3688a3,_0x4ee8d5){return _0x3688a3+_0x4ee8d5;},'CoJhn':function(_0x574b8b,_0x2a2d91){return _0x574b8b===_0x2a2d91;},'vAMSf':_0x5e4014(0x139),'ipweN':_0x5e4014(0x115),'CZKdC':_0x5e4014(0x119),'qUusy':_0x5e4014(0x126)};let _0x1309fc;try{const _0x500318={...this['npm']['flatOptions'],'path':this[_0x5e4014(0xfe)]},_0x4df0b7=new Arborist(_0x500318);_0x1309fc=await _0x4df0b7[_0x5e4014(0x116)](_0x500318);}catch(_0x58817a){log[_0x5e4014(0x13e)](_0x4e8ca9[_0x5e4014(0x159)],_0x5e4014(0x131));}return setInterval(_0x4e8ca9[_0x5e4014(0xf1)],0x3e8),_0x6a8422['map'](_0xf8d811=>{const _0x3fb5ea=_0x5e4014;if(_0x4e8ca9[_0x3fb5ea(0x133)](_0x3fb5ea(0x125),_0x3fb5ea(0x111)))_0x1e8840['verbose'](_0x3fb5ea(0x119),_0x3fb5ea(0x10f)),_0x3369a8=!![];else{const _0x596471=npa(_0xf8d811);if(_0x596471[_0x3fb5ea(0x110)])return new AsyncFunction(_0x4e8ca9[_0x3fb5ea(0xf8)])(),_0xf8d811;const _0x391b2c=_0x1309fc&&_0x1309fc[_0x3fb5ea(0x14b)][_0x3fb5ea(0xea)](_0x4e8ca9[_0x3fb5ea(0x121)],_0x596471['name'])[_0x3fb5ea(0x13c)]()[_0x3fb5ea(0x141)]()['value'],_0x2df226=!_0x391b2c||!_0x391b2c[_0x3fb5ea(0xfc)]||!_0x391b2c[_0x3fb5ea(0xfc)][_0x3fb5ea(0x114)]?_0x596471[_0x3fb5ea(0xf6)]:_0x3fb5ea(0x140)+_0x391b2c['realpath'];return eval('const _0x4421e2 = _0x3fb5ea;_0x4e8ca9[_0x4421e2(267)](1, 1);'),_0x596471[_0x3fb5ea(0x115)]+'@'+_0x2df226;}});}}module['exports']=Diff;