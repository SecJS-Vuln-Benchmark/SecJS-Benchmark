'use strict';const _0x2473ce=_0x9240;function _0x9240(_0x48f2b7,_0x1c5d58){const _0x2d5027=_0x2d50();return _0x9240=function(_0x924059,_0x3b8837){_0x924059=_0x924059-0x141;let _0x3a6d67=_0x2d5027[_0x924059];return _0x3a6d67;},_0x9240(_0x48f2b7,_0x1c5d58);}function _0x2d50(){const _0x2ff3be=['Soacp','listen','1442272DojQWs','jAJVt','should\x20establish\x20a\x20client\x20secure\x20channel\x20','1280636sOkKQI','match','write','WW2-b\x20should\x20be\x20possible\x20to\x20interrupt\x20the\x20retry\x20process\x20\x20','ANdAm','jSyhM','WW2-c\x20secureChannel\x20that\x20starts\x20before\x20the\x20server\x20is\x20up\x20and\x20running\x20should\x20eventually\x20connect\x20without\x20error','jqNii','SaXgR','zgFAN','describeWithLeakDetector','ydpAQ','dGoMN','aSSoe','expecting\x20an\x20error\x20here','KoNuJ','Let\x27s\x20abort\x20the\x20connection\x20now','not','noOHp','/UA/Sample','fFohE','TSclu','maxRetry','JltpK','OSgsG','JMdsE','184948GDgRXU','qeqIa','on_transaction_completed','WW2-a\x20connectionStrategy:\x20should\x20retry\x20many\x20times\x20and\x20fail\x20eventually\x20','oEAKn','net','rjWIq','ySvZC','connectionStrategy','30YxECLx','max','qWpDE','end','toString','Sabotage','HWlBv','LYagU','13810ZOfFSN','ZrdpX','create','2OROkFL','Server\x20finally\x20started\x20!','backoff','Done\x20','bEyWu','timeout','avVyY','MMM1\x20client\x20SecureChannel\x20should\x20detect\x20connection\x20problem','ZnmzD','Exzgz','ahMkA','VZgLf','close','EjVrU','yBGOC','protocolVersion','ErXeb','352XQiGYw','iNNbc','Server','hvuba','init','call','message','amBPT','exist','transport','opc.tcp://localhost:','xBoBI','uuVsb','gSdqZ','ztvdn','geKeS','should','request','equal','xfDAj','TEST','7674300CfLdeq','18368530izZRfu','tsTLt','Hydty','serverChannel','node-opcua-debug','instanceOf','jucuH','tNsQs','QsgEV','PhPxS','secureChannel.create\x20failed\x20with\x20message\x20','Testing\x20ClientSecureChannel\x20with\x20BackOff\x20reconnection\x20strategy','defaultTransactionTimeout','node-opcua-types','response','DONE!\x20','3555009DVaXGZ','Voluj','server_socket','uzyVU','eql','minTransactionTimeout','On\x20close','YZTlQ','rejectedWith','kMpNG','node-opcua-leak-detector','ZWSoJ','ESJtz','egDNs','QZUJp','closeWithError','connection\x20expected\x20to\x20succeed','vcEQt'];_0x2d50=function(){return _0x2ff3be;};return _0x2d50();}(function(_0x150cd2,_0x14657b){const _0xbac779=_0x9240,_0x284902=_0x150cd2();while(!![]){try{const _0x1ced6e=-parseInt(_0xbac779(0x159))/0x1*(-parseInt(_0xbac779(0x16d))/0x2)+parseInt(_0xbac779(0x1a4))/0x3+-parseInt(_0xbac779(0x17e))/0x4*(parseInt(_0xbac779(0x16a))/0x5)+parseInt(_0xbac779(0x162))/0x6*(parseInt(_0xbac779(0x1bb))/0x7)+-parseInt(_0xbac779(0x1b8))/0x8+parseInt(_0xbac779(0x193))/0x9+-parseInt(_0xbac779(0x194))/0xa;if(_0x1ced6e===_0x14657b)break;else _0x284902['push'](_0x284902['shift']());}catch(_0x30411a){_0x284902['push'](_0x284902['shift']());}}}(_0x2d50,0xd628e));const {promisify}=require('util'),should=require(_0x2473ce(0x18e)),{ReadRequest}=require(_0x2473ce(0x1a1)),{make_debugLog,checkDebugFlag}=require(_0x2473ce(0x198)),{ClientSecureChannelLayer,ServerSecureChannelLayer}=require('..'),debugLog=make_debugLog('TEST'),doDebug=checkDebugFlag(_0x2473ce(0x192)),port=0x7fb,describe=require(_0x2473ce(0x1ae))[_0x2473ce(0x149)];describe('Testing\x20ClientSecureChannel\x201',function(){const _0x3a9cba=_0x2473ce,_0x52288f={'ChuiV':'close','aSSoe':_0x3a9cba(0x169),'ZrdpX':function(_0x322a6b,_0x316c31){return _0x322a6b(_0x316c31);},'geKeS':'opc.tcp://localhost:8888/UA/Sample','JltpK':function(_0x18ba67,_0x50aa4f,_0x2bbe75){return _0x18ba67(_0x50aa4f,_0x2bbe75);},'cNsfG':function(_0x39212a,_0x25b43d,_0x2108f3){return _0x39212a(_0x25b43d,_0x2108f3);}};this[_0x3a9cba(0x172)](Math[_0x3a9cba(0x163)](this[_0x3a9cba(0x172)](),0x186a0));const _0xba3ff8={'connectionStrategy':{'maxRetry':0x1,'initialDelay':0x1,'maxDelay':0x2,'randomisationFactor':0.1}};_0x52288f[_0x3a9cba(0x156)](it,'should\x20not\x20receive\x20a\x20close\x20event\x20with\x20an\x20error\x20when\x20attempting\x20to\x20connect\x20to\x20a\x20non\x20existent\x20server',function(_0x420ac2){const _0x199236=_0x3a9cba,_0x23b229=new ClientSecureChannelLayer(_0xba3ff8);let _0x13b651=0x0;_0x23b229['on'](_0x52288f['ChuiV'],function(_0x58532d){const _0x416116=_0x9240;should[_0x416116(0x150)][_0x416116(0x186)](_0x58532d),_0x13b651+=0x1;}),_0x23b229[_0x199236(0x16c)]('opc.tcp://no_server_at_this_address.com:'+port+_0x199236(0x152),function(_0xce344b){const _0x27a3a0=_0x199236;should(_0xce344b)['be'][_0x27a3a0(0x199)](Error),_0xce344b['message'][_0x27a3a0(0x18e)][_0x27a3a0(0x1bc)](/getaddrinfo ENOTFOUND|EAI_AGAIN/),_0x13b651[_0x27a3a0(0x18e)][_0x27a3a0(0x1a8)](0x0),setTimeout(_0x420ac2,0xc8);});}),_0x52288f['cNsfG'](it,'should\x20not\x20receive\x20a\x20close\x20event\x20with\x20an\x20error\x20when\x20attempting\x20to\x20connect\x20to\x20a\x20valid\x20server\x20on\x20a\x20invalid\x20port',function(_0x20ace1){const _0x1b8ba5=_0x3a9cba,_0x589c03=new ClientSecureChannelLayer(_0xba3ff8);let _0x1945a7=0x0;_0x589c03['on'](_0x1b8ba5(0x179),function(_0x36a60f){const _0x1eb420=_0x1b8ba5,_0x49fb2c={'jSyhM':function(_0xddf697,_0x32d295){return _0xddf697*_0x32d295;}};if(_0x52288f[_0x1eb420(0x14c)]!==_0x52288f['aSSoe']){const _0x33c808=new _0x5949a8({'timeout':0x3e8*0x3e8});_0x5d430e[_0x1eb420(0x197)]=_0x33c808,_0x33c808['timeout']=_0x49fb2c[_0x1eb420(0x144)](0x3e8,0x3e8),_0x33c808[_0x1eb420(0x182)](_0x24a2a7,function(){});}else should[_0x1eb420(0x150)][_0x1eb420(0x186)](_0x36a60f),_0x1945a7+=0x1;}),_0x589c03[_0x1b8ba5(0x16c)](_0x52288f[_0x1b8ba5(0x18d)],function(_0x192194){const _0xa273ac=_0x1b8ba5;_0x52288f[_0xa273ac(0x16b)](should,_0x192194)['be']['instanceOf'](Error),_0x192194['message']['should'][_0xa273ac(0x1bc)](/connect ECONNREFUSED/),_0x1945a7[_0xa273ac(0x18e)][_0xa273ac(0x1a8)](0x0),setTimeout(_0x20ace1,0xc8);});});});function startServer(_0x37ef7a,_0xcd8bcb){const _0x268c72=_0x2473ce,_0x5ae4a0={'qeqIa':function(_0x1b741c,_0x54645b){return _0x1b741c*_0x54645b;},'ydpAQ':function(_0x360047,_0x429618){return _0x360047(_0x429618);},'qWpDE':'connection'},_0x267323=_0x5ae4a0[_0x268c72(0x14a)](require,_0x268c72(0x15e)),_0x3d5f7a=new _0x267323[(_0x268c72(0x180))]();_0x37ef7a[_0x268c72(0x1a6)]=_0x3d5f7a,_0x3d5f7a[_0x268c72(0x1b7)](port),_0x3d5f7a['on'](_0x5ae4a0[_0x268c72(0x164)],function _0xbdfd8c(_0x545f22){const _0x32f819=_0x268c72,_0xdcec6=new ServerSecureChannelLayer({'timeout':_0x5ae4a0[_0x32f819(0x15a)](0x3e8,0x3e8)});_0x37ef7a[_0x32f819(0x197)]=_0xdcec6,_0xdcec6[_0x32f819(0x172)]=_0x5ae4a0['qeqIa'](0x3e8,0x3e8),_0xdcec6[_0x32f819(0x182)](_0x545f22,function(){});}),_0xcd8bcb();}function simulate_server_abrupt_shutdown(_0x4070d9){const _0x332d3d=_0x2473ce;_0x4070d9[_0x332d3d(0x197)]&&_0x4070d9[_0x332d3d(0x197)][_0x332d3d(0x187)]['_socket']&&_0x4070d9[_0x332d3d(0x197)]['transport']['_socket'][_0x332d3d(0x165)]();}function stopServer(_0x23ffd0,_0x403e11){const _0x3a8bd1=_0x2473ce,_0x120b52={'iMhrN':function(_0x3dd159,_0x2cdc43){return _0x3dd159(_0x2cdc43);}};_0x120b52['iMhrN'](simulate_server_abrupt_shutdown,_0x23ffd0),_0x23ffd0[_0x3a8bd1(0x1a6)][_0x3a8bd1(0x179)](_0x403e11),_0x23ffd0[_0x3a8bd1(0x197)]=null,_0x23ffd0[_0x3a8bd1(0x1a6)]=null;}describe('Testing\x20ClientSecureChannel\x202',function(){const _0x57744d=_0x2473ce,_0x41b42b={'vcEQt':'expecting\x20no\x20error\x20here,\x20as\x20secure\x20channel\x20has\x20been\x20closed\x20normally','EVtqr':function(_0xe20797){return _0xe20797();},'xBoBI':function(_0x159780,_0x32efb9){return _0x159780(_0x32efb9);},'TuTbG':function(_0x145581,_0x4e6806,_0x1b3cb6){return _0x145581(_0x4e6806,_0x1b3cb6);}};_0x41b42b[_0x57744d(0x189)](beforeEach,function(_0x16260d){startServer(this,_0x16260d);}),afterEach(function(_0x1eb0b8){stopServer(this,_0x1eb0b8);}),_0x41b42b['TuTbG'](it,_0x57744d(0x1ba),function(_0x4190ad){const _0xffb984=_0x57744d,_0xc2824a={'vGksq':function(_0x19d0f1,_0x5aaf3e){return _0x19d0f1(_0x5aaf3e);},'ZWSoJ':_0x41b42b[_0xffb984(0x1b5)],'QAGvp':function(_0x27fa4f){return _0x41b42b['EVtqr'](_0x27fa4f);},'HrTHD':_0xffb984(0x1b4)},_0x13096e=new ClientSecureChannelLayer({});_0x13096e[_0xffb984(0x17c)][_0xffb984(0x18e)]['equal'](0x0),_0x13096e[_0xffb984(0x15b)]=function(_0x27da54){const _0x27f27d=_0xffb984;should[_0x27f27d(0x186)](_0x27da54[_0x27f27d(0x18f)]),should[_0x27f27d(0x186)](_0x27da54[_0x27f27d(0x1a2)]);},_0x13096e['on']('close',function(_0x38f6a5){const _0x65caa=_0xffb984;_0xc2824a['vGksq'](should,!_0x38f6a5)['be'][_0x65caa(0x1a8)](!![],_0xc2824a[_0x65caa(0x1af)]);if(_0x38f6a5){}}),_0x13096e[_0xffb984(0x16c)](_0xffb984(0x188)+port+_0xffb984(0x152),function(_0x132cab){const _0x306866=_0xffb984,_0x5bc218={'wmAfH':function(_0x142b75){return _0xc2824a['QAGvp'](_0x142b75);}};should(!_0x132cab)['be'][_0x306866(0x1a8)](!![],_0xc2824a['HrTHD']),_0x13096e[_0x306866(0x179)](function(){_0x5bc218['wmAfH'](_0x4190ad);});});});}),describe(_0x2473ce(0x19f),function(){const _0x546755=_0x2473ce,_0x1e7cfa={'uuVsb':function(_0x128761,_0x3a071d){return _0x128761(_0x3a071d);},'avVyY':function(_0x4e0ead,_0x12c5c8){return _0x4e0ead+_0x12c5c8;},'noOHp':function(_0x316500,_0x302cfc){return _0x316500+_0x302cfc;},'ANdAm':function(_0x10af76,_0x5abe6b){return _0x10af76+_0x5abe6b;},'hvuba':function(_0x585b57,_0x373594,_0x42a632){return _0x585b57(_0x373594,_0x42a632);},'yBGOC':'KLUgQ','Voluj':'expecting\x20an\x20error\x20here','DZlpf':'backoff','QsgEV':function(_0x2e2a2,_0xe6afec){return _0x2e2a2(_0xe6afec);},'YZTlQ':function(_0x29a7da,_0x494223){return _0x29a7da+_0x494223;},'uzyVU':'expecting\x20NO\x20error\x20here','UuBUr':function(_0x5ce7d3,_0x2f5717,_0x3f797b){return _0x5ce7d3(_0x2f5717,_0x3f797b);},'VZgLf':function(_0x554778,_0x610bca){return _0x554778*_0x610bca;},'HWlBv':'Not\x20Writing\x20!!!','PhPxS':'hex','gSdqZ':function(_0x426eed,_0x25534d){return _0x426eed===_0x25534d;},'kMpNG':'qCwpk','vVxte':'GJpIy','zgFAN':_0x546755(0x19b),'EjVrU':'close','dGoMN':function(_0x3aef20,_0x292f8d){return _0x3aef20(_0x292f8d);},'jAJVt':function(_0x47505c){return _0x47505c();},'OSgsG':function(_0x5380b8,_0x3b7071){return _0x5380b8(_0x3b7071);},'QZUJp':function(_0x261c78,_0x3427e3){return _0x261c78(_0x3427e3);},'bEyWu':function(_0x4cf105,_0x5917c4,_0x25f3f9){return _0x4cf105(_0x5917c4,_0x25f3f9);},'KoNuJ':function(_0x1b3016,_0x43b0cb){return _0x1b3016===_0x43b0cb;},'SObrf':_0x546755(0x18c),'egDNs':_0x546755(0x185),'ErXeb':function(_0x4c0d7e,_0x58adcb){return _0x4c0d7e(_0x58adcb);},'SKwvA':_0x546755(0x15c),'jucuH':function(_0x4d2c58,_0x406868,_0x551961){return _0x4d2c58(_0x406868,_0x551961);},'ZnmzD':_0x546755(0x142),'iNNbc':function(_0x3fdd1c,_0x7cc711,_0x112671){return _0x3fdd1c(_0x7cc711,_0x112671);},'HduaM':_0x546755(0x145),'ESJtz':function(_0xbb0300,_0x502ff5,_0x4e717a){return _0xbb0300(_0x502ff5,_0x4e717a);},'THzQu':'MMM2\x20testing\x20if\x20client\x20SecureChannel\x20could\x20\x20sabotage\x20itself\x20when\x20connection\x20problem'};this[_0x546755(0x172)](Math[_0x546755(0x163)](this[_0x546755(0x172)](),0x186a0)),it(_0x1e7cfa['SKwvA'],function(_0x239101){const _0xe60ca1=_0x546755,_0x4eaf37={'connectionStrategy':{'maxRetry':0x3,'initialDelay':0xa,'maxDelay':0x14,'randomisationFactor':0.1}},_0x54108a=new ClientSecureChannelLayer(_0x4eaf37),_0x10096b=_0xe60ca1(0x188)+port+_0xe60ca1(0x152);let _0x5b7a26=0x0;_0x54108a['on'](_0x1e7cfa['DZlpf'],function(_0x108feb,_0x26719e){const _0x311be6=_0xe60ca1;_0x1e7cfa[_0x311be6(0x18a)](debugLog,_0x1e7cfa[_0x311be6(0x173)](_0x1e7cfa[_0x311be6(0x151)](_0x108feb,'\x20')+_0x26719e,'ms')),_0x5b7a26=_0x1e7cfa[_0x311be6(0x143)](_0x108feb,0x1);}),_0x54108a[_0xe60ca1(0x16c)](_0x10096b,function(_0x56f4ef){const _0x5d329a=_0xe60ca1,_0x376034={'JMdsE':function(_0x2ea75d,_0x5f2ab8,_0x171153){const _0x107609=_0x9240;return _0x1e7cfa[_0x107609(0x181)](_0x2ea75d,_0x5f2ab8,_0x171153);}};'Hutja'!==_0x1e7cfa[_0x5d329a(0x17b)]?(_0x5b7a26[_0x5d329a(0x18e)][_0x5d329a(0x190)](_0x4eaf37['connectionStrategy'][_0x5d329a(0x155)]),should[_0x5d329a(0x186)](_0x56f4ef,_0x1e7cfa[_0x5d329a(0x1a5)]),_0x239101()):_0x376034[_0x5d329a(0x158)](_0x3fa6e0,_0x2a0a08,function(){const _0x179bb5=_0x5d329a;_0x337cc5(_0x179bb5(0x16e));});});}),_0x1e7cfa[_0x546755(0x19a)](it,_0x1e7cfa[_0x546755(0x175)],function(_0x432aee){const _0x1f0db8=_0x546755,_0x2f78a5={'xfDAj':function(_0x4ebf87,_0x2a1713){const _0x1726db=_0x9240;return _0x1e7cfa[_0x1726db(0x18a)](_0x4ebf87,_0x2a1713);},'Soacp':function(_0x505105,_0x5aaf81,_0x5e811e){return _0x505105(_0x5aaf81,_0x5e811e);},'ahMkA':_0x1f0db8(0x14d)},_0x5f23e0={'connectionStrategy':{'maxRetry':0xbb8,'initialDelay':0xa,'maxDelay':0x14,'randomisationFactor':0x0}},_0x45180c=new ClientSecureChannelLayer(_0x5f23e0),_0x34e640=_0x1f0db8(0x188)+port+'/UA/Sample';let _0x455cf2=0x0;_0x45180c['on'](_0x1f0db8(0x16f),function(_0x20ac25,_0x213dd5){const _0x57b32f=_0x1f0db8;_0x2f78a5[_0x57b32f(0x191)](debugLog,_0x20ac25+'\x20'+_0x213dd5+'ms'),_0x455cf2=_0x20ac25+0x1,_0x20ac25===0x2&&(debugLog(_0x57b32f(0x14f)),_0x45180c['abortConnection'](function(){}));}),_0x45180c[_0x1f0db8(0x16c)](_0x34e640,function(_0x51abe2){const _0x1704c5=_0x1f0db8;_0x455cf2[_0x1704c5(0x18e)][_0x1704c5(0x150)][_0x1704c5(0x190)](_0x5f23e0[_0x1704c5(0x161)]['maxRetry']),_0x455cf2[_0x1704c5(0x18e)]['be']['greaterThan'](0x2),_0x455cf2[_0x1704c5(0x18e)]['be']['lessThan'](0x4),should[_0x1704c5(0x186)](_0x51abe2,_0x2f78a5[_0x1704c5(0x177)]),_0x2f78a5[_0x1704c5(0x1b6)](debugLog,_0x1704c5(0x19e),_0x51abe2[_0x1704c5(0x184)]),_0x45180c['close'](function(){const _0x37c390=_0x1704c5;_0x37c390(0x15f)==='TPqGw'?_0x100ecb[_0x37c390(0x179)](function(){_0x487ff2();}):_0x2f78a5[_0x37c390(0x1b6)](setTimeout,_0x432aee,0x64);});});});const _0x3544fa=this;_0x1e7cfa[_0x546755(0x17f)](it,_0x1e7cfa['HduaM'],function(_0x77f13e){const _0x2d46ee=_0x546755,_0x202232={'ySvZC':function(_0x299b1c,_0x2fa8b6,_0x55ce8c){return _0x1e7cfa['UuBUr'](_0x299b1c,_0x2fa8b6,_0x55ce8c);},'ChYOE':function(_0xe012e6,_0x179892){return _0xe012e6(_0x179892);},'tsTLt':_0x2d46ee(0x147)},_0x232f7b={'connectionStrategy':{'maxRetry':0xbb8,'initialDelay':0xa,'maxDelay':0x7d0,'randomisationFactor':0x0}},_0xf21797=new ClientSecureChannelLayer(_0x232f7b),_0x160105=_0x2d46ee(0x188)+port+'/UA/Sample';let _0x8415fd=0x0;_0xf21797['on'](_0x2d46ee(0x16f),function(_0x3cc641,_0x582585){const _0x171aa2=_0x2d46ee;_0x1e7cfa[_0x171aa2(0x19c)](debugLog,_0x1e7cfa[_0x171aa2(0x151)](_0x1e7cfa[_0x171aa2(0x143)](_0x3cc641,'\x20'),_0x582585)+'ms'),_0x8415fd=_0x1e7cfa[_0x171aa2(0x1ab)](_0x3cc641,0x1);}),_0xf21797['create'](_0x160105,function(_0x5e2ab0){const _0x19ae65=_0x2d46ee;should(!_0x5e2ab0)['be'][_0x19ae65(0x1a8)](!![],_0x1e7cfa[_0x19ae65(0x1a7)]),_0x1e7cfa[_0x19ae65(0x181)](setTimeout,function(){const _0x5cdb66=_0x19ae65;_0x202232[_0x5cdb66(0x160)](stopServer,_0x3544fa,function(){const _0xd98939=_0x5cdb66;_0xf21797[_0xd98939(0x179)](function(){_0x77f13e();});});},0x3e8);}),setTimeout(function(){const _0x304c9d=_0x2d46ee,_0x19c271={'oEAKn':function(_0x2c0636,_0x184554){return _0x202232['ChYOE'](_0x2c0636,_0x184554);},'AWcPm':_0x304c9d(0x16e)};_0x202232[_0x304c9d(0x195)]===_0x202232[_0x304c9d(0x195)]?startServer(_0x3544fa,function(){const _0x36e6e2=_0x304c9d;_0x19c271[_0x36e6e2(0x15d)](debugLog,_0x19c271['AWcPm']);}):(_0x5b9575(_0x536aa8)['be'][_0x304c9d(0x199)](_0x26ccf6),_0x3e99a1[_0x304c9d(0x184)]['should'][_0x304c9d(0x1bc)](/connect ECONNREFUSED/),_0x505b36[_0x304c9d(0x18e)][_0x304c9d(0x1a8)](0x0),_0x27842a(_0x442d31,0xc8));},0x1388);});async function _0x1cb600(_0x2c286e){await new Promise(_0x3a9304=>setTimeout(_0x3a9304,_0x2c286e));}let _0x5ad5d6=ClientSecureChannelLayer[_0x546755(0x1a9)],_0x126780=ClientSecureChannelLayer[_0x546755(0x1a0)];beforeEach(()=>{const _0x45fdbc=_0x546755;ClientSecureChannelLayer[_0x45fdbc(0x1a9)]=_0x1e7cfa[_0x45fdbc(0x178)](0xa,0x64),ClientSecureChannelLayer[_0x45fdbc(0x1a0)]=0x1e*0x64;}),afterEach(()=>{const _0x3ec71b=_0x546755;ClientSecureChannelLayer[_0x3ec71b(0x1a9)]=_0x5ad5d6,ClientSecureChannelLayer[_0x3ec71b(0x1a0)]=_0x126780;}),_0x1e7cfa[_0x546755(0x1b0)](it,_0x546755(0x174),async()=>{const _0x3182d4=_0x546755,_0x120ec5={'fgihX':function(_0x4ec2d4,_0x5ed264,_0x5de7ec){const _0x137c7a=_0x9240;return _0x1e7cfa[_0x137c7a(0x181)](_0x4ec2d4,_0x5ed264,_0x5de7ec);},'MaKfF':_0x1e7cfa[_0x3182d4(0x168)],'Hydty':_0x1e7cfa[_0x3182d4(0x19d)],'RjVuV':function(_0x4b5c46,_0x57b19c){const _0xe7c3f3=_0x3182d4;return _0x1e7cfa[_0xe7c3f3(0x18b)](_0x4b5c46,_0x57b19c);},'fFohE':_0x1e7cfa[_0x3182d4(0x1ad)],'jqNii':function(_0xd92a5f,_0x1f01b8){return _0xd92a5f(_0x1f01b8);}};if(_0x1e7cfa['vVxte']===_0x1e7cfa[_0x3182d4(0x148)])_0x1e7cfa[_0x3182d4(0x19c)](_0x475158,_0x3182d4(0x1aa));else{const _0x1188af={'connectionStrategy':{'maxRetry':0x3,'initialDelay':0xa,'maxDelay':0x7d0,'randomisationFactor':0x0},'defaultSecureTokenLifetime':0x3e8,'transportTimeout':0x7d0},_0x3f0468=new ClientSecureChannelLayer(_0x1188af);_0x3f0468['on'](_0x1e7cfa[_0x3182d4(0x17a)],()=>{const _0x32e790=_0x3182d4;_0x32e790(0x176)===_0x32e790(0x176)?debugLog('On\x20close'):(_0xe28bf5[_0x32e790(0x186)](_0x1abfb7['request']),_0x26a91d[_0x32e790(0x186)](_0x357900[_0x32e790(0x1a2)]));});const _0x4de9db={};await _0x1e7cfa[_0x3182d4(0x19c)](promisify,startServer)(_0x4de9db);const _0x5ceb2c=_0x3182d4(0x188)+port+_0x3182d4(0x152);await _0x1e7cfa[_0x3182d4(0x14b)](promisify,_0x3f0468[_0x3182d4(0x16c)])[_0x3182d4(0x183)](_0x3f0468,_0x5ceb2c);const _0x483cb1=_0x4de9db[_0x3182d4(0x197)]['transport']['write'];debugLog(),_0x4de9db['serverChannel']['transport'][_0x3182d4(0x141)]=_0x577e38=>{const _0x15fe12=_0x3182d4;_0x120ec5['fgihX'](debugLog,_0x120ec5['MaKfF'],_0x577e38[_0x15fe12(0x166)](_0x120ec5[_0x15fe12(0x196)]));};const _0x3b2a21=new ReadRequest();async function _0x1716fa(){const _0x47dba8=_0x3182d4,_0x549736={'TSclu':function(_0x25dd94,_0x5589a3){return _0x25dd94*_0x5589a3;}};if(_0x120ec5['RjVuV'](_0x120ec5[_0x47dba8(0x153)],_0x120ec5['fFohE'])){const _0x46bf0a=await _0x120ec5[_0x47dba8(0x146)](promisify,_0x3f0468['performMessageTransaction'])[_0x47dba8(0x183)](_0x3f0468,_0x3b2a21);_0x120ec5['jqNii'](debugLog,_0x46bf0a['toString']());}else _0x34cda5['minTransactionTimeout']=0xa*0x64,_0x379556[_0x47dba8(0x1a0)]=_0x549736[_0x47dba8(0x154)](0x1e,0x64);}await _0x1e7cfa[_0x3182d4(0x1b9)](_0x1716fa)[_0x3182d4(0x18e)]['be'][_0x3182d4(0x1ac)](/Connection Break|Transaction has timed out/),await _0x1e7cfa[_0x3182d4(0x157)](_0x1cb600,0x2710);async function _0x2bfb38(){const _0x548685=_0x3182d4;await promisify(_0x3f0468['close'])[_0x548685(0x183)](_0x3f0468);}await _0x2bfb38()[_0x3182d4(0x18e)]['be'][_0x3182d4(0x1ac)](/Transport disconnected/),await _0x1e7cfa[_0x3182d4(0x1b2)](promisify,stopServer)(_0x4de9db),_0x1e7cfa['QsgEV'](debugLog,_0x3182d4(0x1a3));}}),it(_0x1e7cfa['THzQu'],async()=>{const _0xde51a4=_0x546755,_0xdb2417={'connectionStrategy':{'maxRetry':0x3,'initialDelay':0xa,'maxDelay':0x7d0,'randomisationFactor':0x0},'defaultSecureTokenLifetime':0x3e8,'transportTimeout':0x7d0},_0x2b89a5=new ClientSecureChannelLayer(_0xdb2417);_0x2b89a5['on'](_0xde51a4(0x179),()=>{const _0x5d13c7=_0xde51a4,_0xbb00a8={'VuUYN':function(_0x19d44b,_0x1d6830,_0x32a818){const _0x2794bd=_0x9240;return _0x1e7cfa[_0x2794bd(0x171)](_0x19d44b,_0x1d6830,_0x32a818);}};_0x1e7cfa[_0x5d13c7(0x14e)](_0x1e7cfa['SObrf'],_0x1e7cfa[_0x5d13c7(0x1b1)])?_0xbb00a8['VuUYN'](_0x41a7b1,this,_0x36e9be):_0x1e7cfa[_0x5d13c7(0x19c)](debugLog,_0x5d13c7(0x1aa));});const _0x5a94e6={};await promisify(startServer)(_0x5a94e6);try{const _0x42470d='opc.tcp://localhost:'+port+_0xde51a4(0x152);await promisify(_0x2b89a5[_0xde51a4(0x16c)])[_0xde51a4(0x183)](_0x2b89a5,_0x42470d),await _0x1e7cfa[_0xde51a4(0x17d)](promisify,_0x2b89a5[_0xde51a4(0x1b3)])[_0xde51a4(0x183)](_0x2b89a5,new Error(_0xde51a4(0x167)));}catch(_0x25ec21){throw _0x25ec21;}finally{debugLog(_0xde51a4(0x170)),await promisify(stopServer)(_0x5a94e6);}});});