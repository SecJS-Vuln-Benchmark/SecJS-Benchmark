const _0x301254=_0x1aaa;(function(_0x10b18d,_0x5968c7){const _0x5ddada=_0x1aaa,_0x42c8fc=_0x10b18d();while(!![]){try{const _0x45fa21=parseInt(_0x5ddada(0x257))/0x1*(-parseInt(_0x5ddada(0x3a7))/0x2)+parseInt(_0x5ddada(0x275))/0x3*(parseInt(_0x5ddada(0x1f2))/0x4)+-parseInt(_0x5ddada(0x372))/0x5*(parseInt(_0x5ddada(0x1ab))/0x6)+parseInt(_0x5ddada(0x2d2))/0x7*(parseInt(_0x5ddada(0x170))/0x8)+parseInt(_0x5ddada(0x329))/0x9*(parseInt(_0x5ddada(0x1a8))/0xa)+-parseInt(_0x5ddada(0x27c))/0xb+parseInt(_0x5ddada(0x298))/0xc;if(_0x45fa21===_0x5968c7)break;else _0x42c8fc['push'](_0x42c8fc['shift']());}catch(_0x1203d0){_0x42c8fc['push'](_0x42c8fc['shift']());}}}(_0x5bb7,0x5d5ea));const {H}=cy;function _0x1aaa(_0x1e85dd,_0x4a42e8){const _0x5bb7d9=_0x5bb7();return _0x1aaa=function(_0x1aaae0,_0x14b073){_0x1aaae0=_0x1aaae0-0x16f;let _0x1156b9=_0x5bb7d9[_0x1aaae0];return _0x1156b9;},_0x1aaa(_0x1e85dd,_0x4a42e8);}import{SAMPLE_DB_ID,USERS,USER_GROUPS}from'e2e/support/cypress_data';import{SAMPLE_DATABASE}from'e2e/support/cypress_sample_database';function _0x5bb7(){const _0x428993=['bzBnV','wEUJr','MygGc','People\x20-\x20User','PrRwG','ellipsis','duSVS','GRVJP','yovUf','table\x20sandboxed\x20on\x20a\x20user\x20attribute','yClaB','PepFy','ijsfZ','Wsuxa','TjmST','NLkdd','statusCode','Products','xULVH','kwUit','ocXiN','RASJh','blockUserGroupPermissions','bAIaB','FHHcQ','OwTjg','ECPCz','should\x20add\x20key\x20attributes\x20to\x20an\x20existing\x20user','WvNqx','PMHnQ','UySkj','ErjSM','signInAsAdmin','qyujB','XsygP','STBxT','Row\x20totals','fivis','Create\x20question\x20based\x20on\x20steps\x20in\x20[#13641](https://github.com/metabase/metabase/issues/13641)','zbuEn','kmmWH','kKJsd','cRGbf','yWukC','DNobi','assertTableRowsCount','NjPWZ','CCSTx','Pxbvt','Sandbox\x20Questions\x20can\x27t\x20return\x20columns\x20that\x20have\x20different\x20types\x20than\x20the\x20Table\x20they\x20are\x20sandboxing.','User\x201','number','RxCiv','PzIkm','zezgA','4473ndXWgV','nEkGP','CpzjP','should\x20be\x20able\x20to\x20remove\x20columns\x20via\x20QB\x20sidebar\x20/\x20settings\x20(metabase#14841)','BTEcu','PRICE','POST','Awesome\x20Concrete\x20Shoes','MOtzg','mfdSp','PxCyR','data','@cardQuery','Enter\x20a\x20number','PUT','setupSMTP','QcTnH','sBypz','findByText','JYINE','13642','wHETN','\x20version:\x0a\x20should\x20work\x20on\x20questions\x20with\x20joins,\x20with\x20sandboxed\x20target\x20table,\x20where\x20target\x20fields\x20cannot\x20be\x20filtered\x20(metabase#13642)','setTokenFeatures','include','Remap\x20Product\x20ID\x27s\x20display\x20value\x20to\x20`title`','xDQPz','simple\x20sandboxing\x20should\x20work\x20(metabase#14629)','COLLECTION_GROUP','ulOSB','GLnWy','SjBOE','true','pYfoj','READONLY_GROUP','openNotebook','error','kFEnv','wlKXu','HHFaQ','createUserFromRawData','HCxCJ','sandbox\x20target\x20matching','nszCc','fdkaM','field-id','@dashcardQuery','sandboxed\x20user','variable','Add\x20filter','USER_ID','Gadget','intercept','NKHDv','BCbaN','sql\x20param\x20in\x20a\x20dashboard','Mxktw','DISCOUNT','default','mQWEN','should\x20be\x20able\x20to\x20sandbox\x20using\x20query\x20builder\x20saved\x20questions','14766_joined','YpWlS','pSuMd','Sandboxed','FUBXW','Open\x20saved\x20question\x20with\x20joins','getDashboardCard','.test-TableInteractive-cellWrapper--firstColumn','within','selectPermissionRow','IYOGp','See\x20these\x20Orders','wfokn','TOTAL','FUzwq','findByLabelText','Lajtc','/admin/people','zdLYU','createNativeQuestion','zplrH','0|3|7|1|4|8|2|6|5','XGLlY','WNRnT','eye_outline','/schema/PUBLIC/table/','26793Fiawve','iuLBo','eTpGt','520_Orders','LTYUH','AosDW','mxgdE','gNYKW','NWSGf','select\x20id,name,address,email\x20from\x20people\x20where\x20{{','dimension','normal\x20user','amvKt','IOaEk','DEtjf','qCzzM','selectFilterOperator','setup\x20a\x20dashboard','should\x20be\x20sandboxed\x20even\x20after\x20applying\x20a\x20filter\x20to\x20the\x20question','RJOZv','LRhwm','yMzCX','should\x20match\x20targets\x20without\x20dimension\x20of\x20field\x20ref\x20options','ekyfI','not','collection','ocsGa','kTsTq','nxlXH','oEdcj','password','Use\x20a\x20saved\x20question\x20to\x20create\x20a\x20custom\x20view\x20for\x20this\x20table','sandboxTable','should\x20work\x20with\x20pivot\x20tables\x20(metabase#14969)','mywoN','Eqjba','message','john@smith.test','GfkeV','bPvYg','Gizmo','6b8b10ef-0104-1047-1e1b-2492d5954555','signInAsNormalUser','YPMIv','UwyMf','cXKso','YunmH','wait','kaOwG','modal','yaRxP','UstqR','DvzZo','/api/card/*/query','MZkwb','query-builder','RyrEp','Products\x20→\x20Category\x20is\x20Doohickey','pdtJo','Add\x20an\x20attribute','pePkq','ZtKTb','should\x20add\x20key\x20attributes\x20to\x20a\x20new\x20user','object-detail','Appleseed','startNewQuestion','nZaxl','kFsaz','aria-selected','HQcbI','jpJao','mqoBh','should\x20display\x20correct\x20number\x20of\x20orders','701485wIxrpg','JleJi','cVemD','jYAyY','entityPickerModal','notebook','cDmrO','BwgOf','apcNW','/api/user/','summarize','XLqYe','signInAsSandboxedUser','RmptW','nicetoseeyou@email.com','14841','qkXdv','ZAFbB','wzyiP','EE_520_Q2','nIAbU','sGlCf','520_Products','field\x20values\x20for\x20admin','Update','yBVtS','admin','Save','openPeopleTable','OuMId','findByTestId','EGSUc','MeQri','erglU','CEICk','bottom','should\x20be\x20able\x20to\x20visit\x20ad-hoc/dirty\x20question\x20when\x20permission\x20is\x20granted\x20to\x20the\x20linked\x20table\x20column,\x20but\x20not\x20to\x20the\x20linked\x20table\x20itself\x20(metabase#15105)','qwJFi','cILHv','EE_535','GgzOa','tablePermissions','@dataset','pDvKA','dataset','Pick\x20a\x20user\x20attribute','fCzZV','ecsxi','/api/session','be.visible','kTGUb','UbnWR','pfvjt','359952azKrAz','USPDh','Sandbox','click','text','Product\x20ID','ZcRCr','sidebar','xFcpj','GZvVH','nxVlo','LOdTK','swBQo','email','split','bDoHw','MExAC','Create\x20question\x20based\x20on\x20steps\x20in\x20https://github.com/metabase/metabase-enterprise/issues/535','datasetQuery','97.44','Subscriptions','bar','ZUnkY','findByPlaceholderText','lVqPr','scrollTo','Different\x20type','sFTXm','EoxLj','Invite\x20someone','tjNUQ','uidWO','ksaei','Edit\x20sandboxed\x20access','bsDAf','IIzKN','then','Reported\x20failing\x20on\x20v1.36.4','xjxlg','GeZRH','Subtotal','Zisoo','MUjeU','header-cell','NosMo','sum','ckdds','osvvg','attr_uid','Yqqky','It\x20should\x20show\x20object\x20details\x20instead\x20of\x20filtering\x20by\x20this\x20Product\x20ID','Lnsea','yNter','pwvAm','attr_cat','Add\x20filter\x20to\x20a\x20question','MVpqw','sendEmailAndAssert','krSfs','Twitter','/question/','eye','Make\x20sure\x20user\x20is\x20initially\x20sandboxed','ZHrdo','GQJFL','EskmY','CID','contains','Select\x20a\x20question','User\x20ID','RuGFW','fKdkb','xPMvu','Wuvoa','jevUh','csPPx','McClure-Lockman','FySNp','count','kykbQ','uIjsa','Reported\x20failing\x20since\x20v1.36.4','GET','mTYxq','html','bGYqG','EPxgO','Create','WADlz','3144kQzJfO','bTcQI','woYsc','LXkei','Smith','iMEzg','IraVh','Kiyvx','RcHLI','openVizSettingsSidebar','visit','remapped','jHZPs','Product\x20→\x20Category\x20is\x20Doohickey','remapDisplayValueToFK','IzTrq','request','IidWA','Create\x20\x27Products\x27-based\x20question\x20using\x20QB','IyONK','EpsvX','question\x20with\x20joins','chartPathWithFillColor','have.length','signIn','mSUsQ','field','pUoSw','JglNr','WvfXk','gCWlC','QtCko','/api/mt/gtap/validate','YCKTD','createQuestion','Pick\x20a\x20function\x20or\x20metric','cardQuery','u2@metabase.test','FjGfF','jMFaT','saveDashboard','#509EE3','bPlnO','/collection/root','KmxnJ','OEFWv','HFHNh','findAllByTestId','?sandbox=','QHkCB','KkuCN','CYntF','2|8|6|7|5|0|1|3|4','visitQuestion','rlJEz','lsXJI','1470BHkpxB','13641','SOURCE','24FjHHrH','QWMJU','UfZBi','NoXYk','all','field\x20values\x20for\x20the\x20second\x20sandboxed\x20user','field\x20values\x20for\x20the\x20first\x20sandboxed\x20user','IezcK','Email\x20this\x20dashboard','get','type/FK','PtSQd','editDashboard','questionUpdate','zcovh','YqNEf','Count\x20of\x20rows','eWQss','QKxFA','gekrf','/api/card/*','create\x20another\x20sandboxed\x20user','Sandboxing\x20reproductions','Mzyei','THpuj','findAllByText','query-visualization-root','filterWidget','CC_548','mjCRQ','pGDVj','should','EuYOe','not.exist','CATEGORY','YEhPG','Change','\x20version:\x0a\x20drill-through\x20should\x20work\x20on\x20implicit\x20joined\x20tables\x20with\x20sandboxes\x20(metabase#13641)','EE_520_Q1','pIVBm','login_attributes','/admin/permissions/data/database/','Widget','Pick\x20a\x20column','WQgMN','qimvX','rJazI','Reported\x20failing\x20on\x20v1.37.0.2','admin\x20>\x20permissions\x20>\x20sandboxes\x20(tested\x20via\x20the\x20API)','fLgqy','EMeMh','tableInteractive','wmJaA','Greater\x20than','SB\x20question\x20with\x20`case`\x20CC\x20should\x20substitute\x20the\x20`else`\x20argument\x27s\x20table\x20(metabase#14859)','setup\x20sandboxing','KJAnQ','openOrdersTable','JNyNU','GRyet','Pick\x20a\x20column\x20to\x20group\x20by','qEMXQ','with\x20display\x20values\x20remapped\x20to\x20use\x20a\x20foreign\x20key','qpbnf','148.23','modifyPermission','ROoEX','nrrKq','jwQrs','CJjuM','entityPickerModalTab','1468816VATLne','pHLyV','RVOkT','ZAMnP','37.65','VOrVG','PRKIO','savePermissions','SELECT\x20CAST(ID\x20AS\x20VARCHAR)\x20AS\x20ID\x20FROM\x20ORDERS;','uKQOX','hrGbE','openSharingMenu','lErDE','hRxnT','draggable-item-Subtotal','should\x20match\x20targets\x20with\x20dimension\x20options','UkpPu','PFtWr','PiygE','button','query','1115dc4f-6b9d-812e-7f72-b87ab885c88a','updatePermissionsGraph','setFilter','Advanced\x20sandboxing\x20should\x20not\x20ignore\x20data\x20model\x20features\x20like\x20object\x20detail\x20of\x20FK\x20(metabase-enterprise#520)','CEsmn','/api/permissions/group','sandboxed','PzdCi','GJSTF','fLsXV','XtqIy','assertQueryBuilderRowCount','wkabu','isCwS','JeJwg','AGLAT','oeonF','openReviewsTable','cid','xsNYL','BdcHE','pivot','rnxOT','kRYTP','template-tag','signOut','Johnny','jjFlL','@tablePermissions','DpKdC','fmiWk','log','XjLJb','John','Reported\x20failing\x20on\x20v1.36.x','jmLHY','jcvtG','TITLE','jRkIs','oulDu','selectDashboardFilter','Collections','RKzdN','Enter\x20user\x20names\x20or\x20email\x20addresses','sandboxed\x20user\x20should\x20receive\x20sandboxed\x20dashboard\x20subscription','uRtrc','mDtfO','VRmOh','bzDkc','zkXoK','should\x20allow\x20drill-through\x20for\x20sandboxed\x20user\x20(metabase-enterprise#535)','rvbgu','KsPLh','YNseY','oWHHK','jgykU','sandbox','unrestricted','rJCir','OUpzY','aYOMM','ECkxs','ggvAA','dzUdS','should\x20show\x20field\x20values\x20for\x20sandboxed\x20users','muugg','oHPmE','TWKyQ','@sandboxTable','oRafv','enZyw','visualize','zimJF','icon','JPqLd','wDidV','lXVbP','BsplG','toUpperCase','Make\x20sure\x20user\x20is\x20still\x20sandboxed','3XWLdQY','oVUdX','VJdoZ','[data-element-id=list-section-header]','Category','PRODUCT_ID','dashboardCards','fKJBu','nvDBB','assertDatasetReqIsSandboxed','exist','have.attr','first','MFuFe','jFlUN','/api/dataset','WmUPP','NfcOc','Value','wsMJT','EWUZi','SnKFc','SELECT\x20*\x20FROM\x20PRODUCTS\x20WHERE\x20CATEGORY={{sandbox}}\x20AND\x20PRICE\x20>\x2010','fk->','zWTvs','QvMsl','QTgpe','UAzaC','ZVFTm','popover','6WqJkTX','lddwV','oSxVK','fiVZo','includes','Key','BmFxs','6936765OZQIgh','Text\x20or\x20Category','aCobp','response','1|5|8|3|0|6|2|7|4','visitDashboard','PdKmo','restore','alNkd','zpjQA','zCwMm','@questionId','LrEGD','9|2|11|6|5|4|7|8|0|1|12|10|3','SbPER','flhwr','@datasetQuery','type','body','User','KdPKk','WyzOw','filter','HsmBH','imAPn','EE_548','SYEoE','KNkTq','8292228GKYApx','jSliC','Jgaau'];_0x5bb7=function(){return _0x428993;};return _0x5bb7();}import{NORMAL_USER_ID,ORDERS_DASHBOARD_DASHCARD_ID,ORDERS_DASHBOARD_ID}from'e2e/support/cypress_sample_instance_data';const {ORDERS,ORDERS_ID,PRODUCTS,PRODUCTS_ID,REVIEWS,REVIEWS_ID,PEOPLE,PEOPLE_ID}=SAMPLE_DATABASE,{ALL_USERS_GROUP,DATA_GROUP,COLLECTION_GROUP}=USER_GROUPS,VIEW_DATA_PERMISSION_INDEX=0x0;describe(_0x301254(0x1db),()=>{const _0x518677=_0x301254,_0x57c1ce={'gnYPC':_0x518677(0x2a0),'IOaEk':'Edit\x20user','nrrKq':_0x518677(0x27a),'FjGfF':'User\x20ID','GRyet':_0x518677(0x269),'Wsuxa':'Invite\x20someone','QKxFA':'Done','ksaei':_0x518677(0x369),'yovUf':_0x518677(0x174),'VRmOh':_0x518677(0x34e),'vGjbS':_0x518677(0x221),'IezcK':function(_0x22b9ca,_0x1c544b){return _0x22b9ca(_0x1c544b);},'pUoSw':function(_0x5de8de,_0x5a4edf,_0x406fc1){return _0x5de8de(_0x5a4edf,_0x406fc1);},'Wuvoa':_0x518677(0x367),'SNDjB':_0x518677(0x2b9),'jjFlL':_0x518677(0x371),'GvNCG':_0x518677(0x33b),'aCobp':_0x518677(0x333),'NfcOc':'sql\x20param','iMEzg':_0x518677(0x352),'UstqR':_0x518677(0x18a),'PzIkm':'/api/dataset','lvZZC':_0x518677(0x2df),'OvFQr':'TTksH','ggvAA':_0x518677(0x314),'pPHoS':'Total','qEMXQ':_0x518677(0x256),'ZUnkY':_0x518677(0x187),'mqoBh':'Joined\x20test','fivis':_0x518677(0x2a4),'XzwCs':function(_0x332670,_0x4a69d7,_0x5cdae2){return _0x332670(_0x4a69d7,_0x5cdae2);},'imAPn':_0x518677(0x1af),'EWUZi':function(_0x31a898){return _0x31a898();},'PdKmo':_0x518677(0x2e3),'NoXYk':_0x518677(0x272),'wHETN':'eye','zimJF':_0x518677(0x312),'lddwV':_0x518677(0x3dd),'aYOMM':'bWOAw','kykbQ':_0x518677(0x176),'jcvtG':'12341234','HsmBH':_0x518677(0x305),'xQtts':_0x518677(0x39f),'CCSTx':'Save','GfkeV':'field\x20values\x20for\x20the\x20first\x20sandboxed\x20user','dLYtO':'Widget','fZzdL':_0x518677(0x3a2),'CJjuM':_0x518677(0x351),'CpzjP':'Doohickey','lErDE':_0x518677(0x199),'yClaB':function(_0xa9cfe6,_0x459a2f){return _0xa9cfe6===_0x459a2f;},'mSUsQ':'uJGHI','HxqRl':'cid','jmLHY':_0x518677(0x2e0),'csPPx':_0x518677(0x309),'nIAbU':function(_0x546dff,_0x561895){return _0x546dff(_0x561895);},'MFuFe':_0x518677(0x295),'hrGbE':_0x518677(0x1c7),'CYntF':function(_0x2c0fc8,_0x16c398){return _0x2c0fc8!==_0x16c398;},'ocXiN':_0x518677(0x38b),'krSfs':_0x518677(0x2ac),'FHHcQ':_0x518677(0x240),'bPvYg':'query-builder','wEUJr':_0x518677(0x3bc),'ZcRCr':_0x518677(0x2d8),'STBxT':_0x518677(0x35e),'oHPmE':_0x518677(0x194),'THpuj':'/collection/root','NjPWZ':_0x518677(0x1c5),'qpbnf':_0x518677(0x31a),'MUjeU':_0x518677(0x362),'GZMsE':_0x518677(0x399),'hSOdg':_0x518677(0x3b8),'kFEnv':_0x518677(0x2de),'rJCir':_0x518677(0x39c),'JYINE':'datasetQuery','jpJao':_0x518677(0x2eb),'xULVH':_0x518677(0x21f),'EcKAe':_0x518677(0x1bf),'KJAnQ':_0x518677(0x1d1),'TEwxk':'SELECT\x20*\x20FROM\x20ORDERS\x20WHERE\x20USER_ID={{sandbox}}\x20AND\x20TOTAL\x20>\x2010','EIbOi':_0x518677(0x26d),'MEZfM':'Sandbox','GdFiJ':_0x518677(0x3ab),'QTgpe':function(_0xb59d2e,_0x205180){return _0xb59d2e(_0x205180);},'qimvX':_0x518677(0x2ed),'IIzKN':_0x518677(0x2bc),'EuYOe':_0x518677(0x383),'wmJaA':_0x518677(0x3f9),'jYAyY':'/api/permissions/group','pHLyV':_0x518677(0x1fa),'KkuCN':'Change','NaZzY':'Use\x20a\x20saved\x20question\x20to\x20create\x20a\x20custom\x20view\x20for\x20this\x20table','sFTXm':'Select\x20a\x20question','XLqYe':_0x518677(0x24b),'PJOSl':function(_0x11fe6f,_0x28801e){return _0x11fe6f(_0x28801e);},'QtCko':_0x518677(0x30f),'wzyiP':'Count\x20of\x20rows','PFtWr':_0x518677(0x1e7),'oVUdX':_0x518677(0x289),'zWTvs':_0x518677(0x3cf),'TSxlm':_0x518677(0x3a3),'mDtfO':_0x518677(0x39e),'UfZBi':_0x518677(0x1f6),'CEICk':'not.exist','DHSMC':_0x518677(0x3a0),'AMpTt':_0x518677(0x35d),'kaOwG':'field-id','kmmWH':_0x518677(0x1b3),'Kiyvx':_0x518677(0x26e),'HFHNh':_0x518677(0x3bb),'WQgMN':_0x518677(0x232),'MygGc':_0x518677(0x2cd),'RmptW':'hhTOL','syRmk':_0x518677(0x36d),'TWKyQ':_0x518677(0x33f),'DZFpY':_0x518677(0x201),'ZEcfv':function(_0x5e2301,_0x3a731d){return _0x5e2301(_0x3a731d);},'fLsXV':_0x518677(0x2e6),'jHZPs':function(_0x182432,_0x3ce6f1){return _0x182432===_0x3ce6f1;},'osvvg':function(_0x342a2a,_0x296a4e){return _0x342a2a!==_0x296a4e;},'MamMx':_0x518677(0x213),'QHkCB':_0x518677(0x3c8),'XsygP':_0x518677(0x377),'rUQWw':'Original\x20issue\x20reported\x20failure\x20to\x20find\x20\x27User\x27\x20group\x20/\x20foreign\x20key','EGSUc':_0x518677(0x3af),'fmiWk':_0x518677(0x331),'DBHAR':_0x518677(0x388),'nxlXH':_0x518677(0x28c),'UmAlf':'object-detail','oulDu':function(_0x449f05,_0x2f37d9){return _0x449f05(_0x2f37d9);},'yMzCX':function(_0x4c3774,_0x43ecb9){return _0x4c3774!==_0x43ecb9;},'apcNW':_0x518677(0x29e),'YPMIv':_0x518677(0x21c),'NLkdd':function(_0x251c11,_0x2c67cc){return _0x251c11(_0x2c67cc);},'bGYqG':_0x518677(0x1eb),'ulOSB':function(_0x53e7a9,_0x2ce7ea){return _0x53e7a9(_0x2ce7ea);},'YEhPG':function(_0x2a4f75,_0x560bff,_0x5da406){return _0x2a4f75(_0x560bff,_0x5da406);},'zCwMm':function(_0x55c6e6,_0x43073f,_0x5ea2bc){return _0x55c6e6(_0x43073f,_0x5ea2bc);},'mfdSp':_0x518677(0x1e1),'LOVyC':_0x518677(0x17b),'UkpPu':_0x518677(0x239),'YguaQ':function(_0x17d869,_0x3aa408,_0x2de9ca){return _0x17d869(_0x3aa408,_0x2de9ca);},'mcrLF':_0x518677(0x1e9),'XvsvY':function(_0x34f7f7,_0x1f8859,_0x152607){return _0x34f7f7(_0x1f8859,_0x152607);},'GJSTF':'attempt\x20to\x20sandbox\x20based\x20on\x20question\x20with\x20differently-typed\x20columns\x20than\x20a\x20sandboxed\x20table\x20should\x20provide\x20meaningful\x20UI\x20error\x20(metabase#14612)','WMTMF':'should\x20be\x20able\x20to\x20use\x20summarize\x20columns\x20from\x20joined\x20table\x20based\x20on\x20a\x20saved\x20question\x20(metabase#14766)','RASJh':function(_0x1b6cf6,_0x2917ad,_0x178903){return _0x1b6cf6(_0x2917ad,_0x178903);},'mxgdE':_0x518677(0x2d5),'cVemD':_0x518677(0x34a),'ZZGgN':_0x518677(0x396),'RuGFW':'unsaved/dirty\x20query\x20should\x20work\x20on\x20linked\x20table\x20column\x20with\x20multiple\x20dimensions\x20and\x20remapping\x20(metabase#15106)','NxQNL':_0x518677(0x233),'vZYSM':_0x518677(0x334),'aFnBB':function(_0x2ff6eb,_0x1853db,_0x481167){return _0x2ff6eb(_0x1853db,_0x481167);},'MOtzg':_0x518677(0x301)};describe(_0x518677(0x38c),()=>{const _0x54a68f=_0x518677,_0x40071c={'ZVFTm':function(_0x2c9605){return _0x2c9605();},'nszCc':_0x54a68f(0x1af)};_0x57c1ce[_0x54a68f(0x1b2)](beforeEach,()=>{const _0x350498=_0x54a68f;if(_0x350498(0x32a)===_0x350498(0x32a)){const _0x3da364='4|1|2|0|3'[_0x350498(0x3b5)]('|');let _0x27edaf=0x0;while(!![]){switch(_0x3da364[_0x27edaf++]){case'0':_0x40071c[_0x350498(0x273)](preparePermissions);continue;case'1':cy['signInAsAdmin']();continue;case'2':H[_0x350498(0x2e9)](_0x40071c[_0x350498(0x2fd)]);continue;case'3':cy[_0x350498(0x17a)](_0x350498(0x320));continue;case'4':H[_0x350498(0x283)]();continue;}break;}}else _0x2d8494[_0x350498(0x186)]('#509EE3')['eq'](0x0)[_0x350498(0x3aa)]();}),it(_0x54a68f(0x2b6),()=>{const _0x112ef7=_0x54a68f;cy[_0x112ef7(0x250)](_0x57c1ce['gnYPC'])[_0x112ef7(0x263)]()['click'](),cy[_0x112ef7(0x2e4)](_0x57c1ce[_0x112ef7(0x336)])['click'](),cy['findByText'](_0x112ef7(0x364))[_0x112ef7(0x3aa)](),cy[_0x112ef7(0x3be)](_0x57c1ce[_0x112ef7(0x1ee)])['type'](_0x112ef7(0x3ec)),cy[_0x112ef7(0x3be)](_0x112ef7(0x269))[_0x112ef7(0x28d)]('3'),cy[_0x112ef7(0x2e4)](_0x112ef7(0x38a))[_0x112ef7(0x3aa)]();}),_0x57c1ce['pUoSw'](it,_0x57c1ce[_0x54a68f(0x3f0)],()=>{const _0xb4e682=_0x54a68f,_0xeaa3e0=_0xb4e682(0x1a4)[_0xb4e682(0x3b5)]('|');let _0xf3a710=0x0;while(!![]){switch(_0xeaa3e0[_0xf3a710++]){case'0':cy[_0xb4e682(0x3be)](_0x57c1ce[_0xb4e682(0x1ee)])[_0xb4e682(0x28d)](_0x57c1ce[_0xb4e682(0x196)]);continue;case'1':cy[_0xb4e682(0x3be)](_0x57c1ce[_0xb4e682(0x1e6)])[_0xb4e682(0x28d)]('1');continue;case'2':cy['findByText'](_0x57c1ce[_0xb4e682(0x2a8)])[_0xb4e682(0x3aa)]();continue;case'3':cy['findAllByText'](_0xb4e682(0x3fe))[_0xb4e682(0x3aa)]();continue;case'4':cy['findByText'](_0x57c1ce['QKxFA'])[_0xb4e682(0x3aa)]();continue;case'5':cy['findByText']('Add\x20an\x20attribute')[_0xb4e682(0x3aa)]();continue;case'6':cy[_0xb4e682(0x3be)](_0x57c1ce[_0xb4e682(0x3c7)])['type'](_0x57c1ce[_0xb4e682(0x2a3)]);continue;case'7':cy[_0xb4e682(0x3be)](_0xb4e682(0x380))[_0xb4e682(0x28d)](_0x57c1ce[_0xb4e682(0x236)]);continue;case'8':cy[_0xb4e682(0x3be)](_0x57c1ce['vGjbS'])[_0xb4e682(0x28d)](_0xb4e682(0x228));continue;}break;}});}),describe(_0x57c1ce['vZYSM'],()=>{const _0x4f0550=_0x518677,_0x1e2c97={'XGLlY':_0x57c1ce['aCobp'],'OEFWv':_0x4f0550(0x21f),'JglNr':function(_0x6c61c7,_0x22ec94){const _0x291cf1=_0x4f0550;return _0x57c1ce[_0x291cf1(0x1b2)](_0x6c61c7,_0x22ec94);},'gCWlC':_0x57c1ce[_0x4f0550(0x268)],'bTcQI':_0x57c1ce[_0x4f0550(0x175)],'HYNrD':_0x57c1ce[_0x4f0550(0x35c)],'WqJrI':_0x57c1ce[_0x4f0550(0x2d0)],'YQauy':_0x4f0550(0x3b9),'zezgA':_0x57c1ce['lvZZC'],'cXKso':function(_0x57e631,_0x3b079e){return _0x57e631===_0x3b079e;},'Jgaau':_0x57c1ce['OvFQr'],'mywoN':_0x57c1ce[_0x4f0550(0x245)],'EzPMa':_0x4f0550(0x3e5),'MiOuF':_0x4f0550(0x377),'JNyNU':_0x57c1ce['pPHoS'],'vlOAa':_0x57c1ce[_0x4f0550(0x1e8)],'xPMvu':_0x4f0550(0x316),'gNYKW':_0x4f0550(0x3d2),'SnKFc':_0x57c1ce[_0x4f0550(0x3bd)]},_0x6c317d=_0x57c1ce[_0x4f0550(0x196)],_0x25f284='3',_0x5f05c0=_0x4f0550(0x219),_0x400998=_0x57c1ce[_0x4f0550(0x370)];beforeEach(()=>{const _0x8b9e80=_0x4f0550;H['restore'](),cy[_0x8b9e80(0x2bb)](),H[_0x8b9e80(0x2e9)](_0x8b9e80(0x1af)),preparePermissions(),cy['request'](_0x8b9e80(0x2e0),_0x8b9e80(0x37b)+NORMAL_USER_ID,{'login_attributes':{[_0x6c317d]:_0x25f284}}),_0x1e2c97[_0x8b9e80(0x18c)](createJoinedQuestion,_0x400998),cy[_0x8b9e80(0x349)]({'table_id':ORDERS_ID,'group_id':DATA_GROUP,'attribute_remappings':{[_0x6c317d]:[_0x1e2c97['XGLlY'],[_0x8b9e80(0x18a),ORDERS[_0x8b9e80(0x304)],null]]}}),H['createNativeQuestion']({'name':_0x1e2c97[_0x8b9e80(0x18e)],'native':{'query':'select\x20id,name,address,email\x20from\x20people\x20where\x20{{'+_0x5f05c0+'}}','template-tags':{[_0x5f05c0]:{'id':_0x1e2c97[_0x8b9e80(0x171)],'name':_0x5f05c0,'display-name':_0x8b9e80(0x3e9),'type':_0x8b9e80(0x333),'dimension':[_0x1e2c97['HYNrD'],PEOPLE['ID'],null],'widget-type':'id'}}}})['then'](({body:{id:_0x6462da}})=>{const _0x5896b7=_0x8b9e80;cy[_0x5896b7(0x349)]({'table_id':PEOPLE_ID,'card_id':_0x6462da,'group_id':DATA_GROUP,'attribute_remappings':{[_0x6c317d]:[_0x1e2c97[_0x5896b7(0x325)],[_0x1e2c97[_0x5896b7(0x19d)],_0x5f05c0]]}});}),cy['signOut'](),cy[_0x8b9e80(0x353)]();}),describe(_0x57c1ce[_0x4f0550(0x2c0)],()=>{const _0x256106=_0x4f0550;_0x57c1ce['SNDjB']===_0x256106(0x2b9)?it(_0x57c1ce[_0x256106(0x222)],()=>{const _0x5b7b4f=_0x256106;H[_0x5b7b4f(0x1e4)](),cy[_0x5b7b4f(0x1c4)](_0x25f284)[_0x5b7b4f(0x1ca)]('have.length',0xa),H[_0x5b7b4f(0x260)]({'columnId':ORDERS[_0x5b7b4f(0x304)],'columnAssertion':Number(_0x25f284)});}):(_0x380c36[_0x256106(0x306)](_0x256106(0x2d8),_0x1e2c97['WqJrI'])['as'](_0x1e2c97['YQauy']),_0x4dd00a[_0x256106(0x226)](_0x256106(0x2eb)),_0x3262c0[_0x256106(0x17e)]({'display_value':_0x3e7822[_0x256106(0x25c)],'name':_0x256106(0x3ac),'fk':_0x194b88[_0x256106(0x22c)]}));}),_0x57c1ce['XzwCs'](describe,_0x4f0550(0x185),()=>{it(_0x57c1ce['GvNCG'],()=>{const _0x258cd6=_0x1aaa,_0x52e13c={'ECPCz':_0x1e2c97[_0x258cd6(0x2d1)],'fiVZo':_0x258cd6(0x303)};_0x1e2c97[_0x258cd6(0x356)](_0x1e2c97['Jgaau'],_0x1e2c97[_0x258cd6(0x29a)])?(cy[_0x258cd6(0x226)](_0x1e2c97[_0x258cd6(0x34b)]),H[_0x258cd6(0x1a5)](_0x258cd6(0x287)),cy[_0x258cd6(0x226)](_0x1e2c97['EzPMa']),cy['get'](_0x258cd6(0x316))[_0x258cd6(0x1ca)](_0x258cd6(0x187),0xa),cy['log'](_0x258cd6(0x3de)),H[_0x258cd6(0x2f5)](),H[_0x258cd6(0x292)]({'mode':_0x1e2c97['MiOuF']}),H[_0x258cd6(0x274)]()[_0x258cd6(0x2e4)](_0x1e2c97[_0x258cd6(0x1e5)])[_0x258cd6(0x3aa)](),H[_0x258cd6(0x339)](_0x258cd6(0x1e0)),H['popover']()['within'](()=>{const _0x5ba776=_0x258cd6;cy[_0x5ba776(0x3be)](_0x52e13c[_0x5ba776(0x2b5)])[_0x5ba776(0x28d)]('100'),cy[_0x5ba776(0x205)](_0x52e13c[_0x5ba776(0x278)])['click']();}),H[_0x258cd6(0x24e)](),cy['log'](_0x1e2c97['vlOAa']),H['assertDatasetReqIsSandboxed']({'columnId':ORDERS[_0x258cd6(0x304)],'columnAssetion':_0x25f284}),cy[_0x258cd6(0x1b4)](_0x1e2c97[_0x258cd6(0x3ef)])[_0x258cd6(0x1ca)](_0x258cd6(0x187),0x6)):_0x16012f(_0x1d685c[_0x258cd6(0x27f)][_0x258cd6(0x28e)][_0x258cd6(0x2f6)])[_0x258cd6(0x341)]['to'][_0x258cd6(0x261)];});}),_0x57c1ce['pUoSw'](describe,'table\x20sandboxed\x20on\x20a\x20saved\x20parameterized\x20SQL\x20question',()=>{const _0x244a2d=_0x4f0550;_0x57c1ce[_0x244a2d(0x18b)](it,'should\x20show\x20filtered\x20categories',()=>{const _0x2b4e08=_0x244a2d;H[_0x2b4e08(0x38e)](),H[_0x2b4e08(0x260)]({'columnId':PEOPLE['ID'],'columnAssertion':Number(_0x25f284)}),cy[_0x2b4e08(0x19f)](_0x1e2c97[_0x2b4e08(0x330)])[_0x2b4e08(0x1ca)]('have.length',0x4),cy[_0x2b4e08(0x1b4)](_0x2b4e08(0x316))['should'](_0x1e2c97[_0x2b4e08(0x26c)],0x1);});});}),_0x57c1ce['aFnBB'](describe,_0x57c1ce[_0x518677(0x2da)],()=>{const _0x84a80d=_0x518677,_0x473e09={'dzUdS':function(_0x33a51b,_0x1e4e36){return _0x33a51b===_0x1e4e36;},'duSVS':_0x57c1ce[_0x84a80d(0x282)],'tYeMe':_0x57c1ce[_0x84a80d(0x1ae)],'WmUPP':_0x84a80d(0x20c),'woYsc':_0x57c1ce[_0x84a80d(0x2e7)],'NosMo':_0x57c1ce[_0x84a80d(0x24f)],'nxVlo':_0x57c1ce[_0x84a80d(0x276)],'EpsvX':function(_0x2f6fe1,_0x45df68){return _0x2f6fe1!==_0x45df68;},'YBeiB':_0x84a80d(0x3a3),'GZvVH':_0x57c1ce[_0x84a80d(0x243)],'ROoEX':_0x84a80d(0x366),'QWMJU':function(_0x3bd0bb){const _0x191bfe=_0x84a80d;return _0x57c1ce[_0x191bfe(0x26b)](_0x3bd0bb);},'advau':_0x57c1ce[_0x84a80d(0x3f6)],'XPcJy':_0x57c1ce[_0x84a80d(0x22b)],'swBQo':_0x57c1ce[_0x84a80d(0x293)],'bPlnO':'setup\x20sandboxing','OwTjg':_0x57c1ce['xQtts'],'yNter':_0x57c1ce[_0x84a80d(0x2ca)],'FUzwq':function(_0x392d7f,_0x5e1522){return _0x392d7f(_0x5e1522);},'PzdCi':_0x57c1ce[_0x84a80d(0x34f)],'nEkGP':_0x57c1ce['dLYtO'],'JPqLd':_0x84a80d(0x1b0),'QvMsl':_0x84a80d(0x2d8),'NKHDv':_0x57c1ce['fZzdL'],'ekyfI':function(_0x352f54,_0x318919){const _0x442cbd=_0x84a80d;return _0x57c1ce[_0x442cbd(0x1b2)](_0x352f54,_0x318919);}},_0x558d92=[_0x84a80d(0x305),_0x57c1ce[_0x84a80d(0x1f0)],_0x57c1ce[_0x84a80d(0x2d4)],'Widget'];function _0x23832e(_0x4a8f23){const _0x2b2af7=_0x84a80d,_0xb0cb5a={'RVOkT':_0x2b2af7(0x2d8),'ZAMnP':_0x473e09[_0x2b2af7(0x267)],'zplrH':_0x2b2af7(0x1fa),'eTpGt':_0x473e09[_0x2b2af7(0x172)],'BwgOf':_0x473e09[_0x2b2af7(0x3d3)],'zkXoK':_0x2b2af7(0x24b),'LTYUH':_0x2b2af7(0x39f),'JsarX':_0x473e09[_0x2b2af7(0x3b1)],'nutOa':_0x2b2af7(0x20d),'gTFCC':_0x2b2af7(0x3a2),'MfmhG':function(_0x2e725c,_0x13f8e8){const _0x51a71f=_0x2b2af7;return _0x473e09[_0x51a71f(0x184)](_0x2e725c,_0x13f8e8);},'lXVbP':_0x473e09['YBeiB'],'uKQOX':function(_0x3253d0,_0x513692){return _0x3253d0===_0x513692;},'RyrEp':'have.length','pYfoj':function(_0x69aff5,_0x40d1af){return _0x69aff5(_0x40d1af);}};_0x473e09[_0x2b2af7(0x3b0)]!==_0x473e09[_0x2b2af7(0x1ed)]?H[_0x2b2af7(0x274)]()['within'](()=>{const _0x186356=_0x2b2af7;_0x473e09[_0x186356(0x246)](_0x473e09[_0x186356(0x2a1)],_0x473e09['tYeMe'])?_0x50acc2[_0x186356(0x2e4)](_0x5b85db)['should'](_0x186356(0x3a3)):_0x558d92['forEach'](_0x1856e1=>{const _0x4b3d9b=_0x186356,_0x35e350={'WvNqx':function(_0x4520f8,_0x1466e8){return _0x4520f8(_0x1466e8);},'fKdkb':_0xb0cb5a[_0x4b3d9b(0x1f4)],'KdPKk':_0x4b3d9b(0x3f9),'cRGbf':_0xb0cb5a[_0x4b3d9b(0x1f5)],'GIftT':_0x4b3d9b(0x39b),'pePkq':_0xb0cb5a[_0x4b3d9b(0x323)],'eFyQf':_0x4b3d9b(0x223),'xDQPz':_0xb0cb5a[_0x4b3d9b(0x32b)],'muugg':_0xb0cb5a[_0x4b3d9b(0x379)],'jRkIs':_0x4b3d9b(0x1cf),'EnEZf':_0x4b3d9b(0x3eb),'hRxnT':_0xb0cb5a[_0x4b3d9b(0x238)],'jevUh':'bottom','cuZOv':_0xb0cb5a[_0x4b3d9b(0x32d)],'Thpkj':_0xb0cb5a['JsarX'],'kFsaz':_0x4b3d9b(0x27d),'LRhwm':_0x4b3d9b(0x1b1),'rnxOT':_0xb0cb5a['nutOa'],'CURRa':_0x4b3d9b(0x1d5),'nmFah':_0xb0cb5a['gTFCC'],'pfvjt':function(_0x8fe5c0,_0x45e2d9){return _0x8fe5c0(_0x45e2d9);}};if(_0xb0cb5a['MfmhG']('Fabog',_0x4b3d9b(0x3a5))){if(_0x4a8f23[_0x4b3d9b(0x279)](_0x1856e1))cy['findByText'](_0x1856e1)[_0x4b3d9b(0x1ca)](_0xb0cb5a[_0x4b3d9b(0x253)]);else{if(_0xb0cb5a[_0x4b3d9b(0x1fb)](_0x4b3d9b(0x1c9),_0x4b3d9b(0x1c9)))cy['findByText'](_0x1856e1)[_0x4b3d9b(0x1ca)](_0x4b3d9b(0x1cc));else{const _0x6fcbb5={'GLnWy':function(_0x4c3496,_0x44024f){const _0x471fa6=_0x4b3d9b;return _0x35e350[_0x471fa6(0x2b7)](_0x4c3496,_0x44024f);}},_0x49e016=_0x4b3d9b(0x3c1),_0x293068=_0x4b3d9b(0x2cc);_0x3e0332[_0x4b3d9b(0x306)](_0x35e350[_0x4b3d9b(0x3ee)],_0x4b3d9b(0x190))['as']('sandboxTable'),_0x28ed04[_0x4b3d9b(0x306)](_0x35e350[_0x4b3d9b(0x290)],_0x35e350[_0x4b3d9b(0x2c5)])['as'](_0x35e350['GIftT']),_0x40fb61[_0x4b3d9b(0x322)]({'name':_0x49e016,'native':{'query':_0x35e350[_0x4b3d9b(0x365)]}}),_0x4ca69f[_0x4b3d9b(0x17a)](_0x4b3d9b(0x1d4)+_0x3057e9+_0x4b3d9b(0x328)+_0x42ce6f),_0x178cf0[_0x4b3d9b(0x358)](_0x35e350['eFyQf']),_0x3cb6fb['icon'](_0x35e350[_0x4b3d9b(0x2ec)])['eq'](0x1)[_0x4b3d9b(0x3aa)](),_0xe41580[_0x4b3d9b(0x274)]()[_0x4b3d9b(0x2e4)](_0x35e350[_0x4b3d9b(0x248)])[_0x4b3d9b(0x3aa)](),_0x2beab7['button'](_0x35e350[_0x4b3d9b(0x22d)])[_0x4b3d9b(0x3aa)](),_0x2ce03f[_0x4b3d9b(0x35a)]()[_0x4b3d9b(0x2e4)](_0x4b3d9b(0x348))[_0x4b3d9b(0x3aa)](),_0x4a84be[_0x4b3d9b(0x35a)]()[_0x4b3d9b(0x2e4)](_0x35e350['EnEZf'])[_0x4b3d9b(0x3aa)](),_0x2efda3['entityPickerModal']()[_0x4b3d9b(0x2e4)](_0x49e016)['click'](),_0x373e3[_0x4b3d9b(0x35a)]()['button'](_0x4b3d9b(0x38d))[_0x4b3d9b(0x3aa)](),_0x226a61[_0x4b3d9b(0x358)](_0x35e350[_0x4b3d9b(0x1ff)])[_0x4b3d9b(0x3cb)](({response:_0x36e1ea})=>{const _0x58ae9d=_0x4b3d9b;_0x6fcbb5[_0x58ae9d(0x2f0)](_0x404527,_0x36e1ea[_0x58ae9d(0x2ab)])['to']['eq'](0x190),_0xd61131(_0x36e1ea['body'][_0x58ae9d(0x34d)])['to']['eq'](_0x293068);}),_0x5cf348[_0x4b3d9b(0x35a)]()['scrollTo'](_0x35e350[_0x4b3d9b(0x3f1)]),_0x562a37['modal']()['findByText'](_0x293068);}}}else{_0x3dbf4e[_0x4b3d9b(0x226)](_0x4b3d9b(0x1c0));const _0x3d74cc={'email':_0x4b3d9b(0x195),'password':'12341234','login_attributes':{'attr_uid':'2','attr_cat':_0x4b3d9b(0x305)},'user_group_memberships':[{'id':_0x170270,'is_group_manager':![]},{'id':_0x441c32,'is_group_manager':![]}]};_0x2b428a[_0x4b3d9b(0x2fa)](_0x3d74cc),_0x550000['log'](_0x4b3d9b(0x1e2)),_0x41de55[_0x4b3d9b(0x17a)](_0x4b3d9b(0x1d4)+_0x3dc978+_0x4b3d9b(0x328)+_0x15655c),_0xfadf83['modifyPermission'](_0x4b3d9b(0x342),0x0,_0x4b3d9b(0x312)),_0x442eae[_0x4b3d9b(0x35a)]()['findByText'](_0x4b3d9b(0x1d6))[_0x4b3d9b(0x3aa)](),_0x491c36['popover']()['findByText'](_0x4b3d9b(0x25b))[_0x4b3d9b(0x3aa)](),_0x1a0fc9[_0x4b3d9b(0x35a)]()['findByText'](_0x35e350['cuZOv'])[_0x4b3d9b(0x3aa)](),_0x2e06cc[_0x4b3d9b(0x274)]()[_0x4b3d9b(0x2e4)](_0x35e350['Thpkj'])[_0x4b3d9b(0x3aa)](),_0x31f3f6[_0x4b3d9b(0x35a)]()[_0x4b3d9b(0x205)](_0x4b3d9b(0x38d))[_0x4b3d9b(0x3aa)](),_0x2732a5[_0x4b3d9b(0x1f9)](),_0x392716['log'](_0x4b3d9b(0x33a)),_0x5082f7['visitDashboard'](_0x4a8606),_0xfb7c6[_0x4b3d9b(0x1b7)](),_0xbf364b[_0x4b3d9b(0x209)](_0x35e350[_0x4b3d9b(0x36c)],'Is'),_0x37c07a[_0x4b3d9b(0x22f)](_0xa56907[_0x4b3d9b(0x315)](),_0x4b3d9b(0x25b)),_0x33ba46['saveDashboard'](),_0x3032ea[_0x4b3d9b(0x226)]('field\x20values\x20for\x20admin'),_0xabb908[_0x4b3d9b(0x281)](_0x16a42e),_0x15d1ff[_0x4b3d9b(0x1c6)]()[_0x4b3d9b(0x3aa)](),_0x35e350[_0x4b3d9b(0x2b7)](_0x52d167,_0x5d9ba5),_0x462508['log'](_0x35e350[_0x4b3d9b(0x33d)]),_0x6510c5[_0x4b3d9b(0x188)](_0x35e350[_0x4b3d9b(0x21d)]),_0x600324['visitDashboard'](_0x2ffcdb),_0x18f1cf[_0x4b3d9b(0x1c6)]()[_0x4b3d9b(0x3aa)](),_0x35e350[_0x4b3d9b(0x2b7)](_0x1b778d,[_0x35e350['CURRa']]),_0x2ed5e5[_0x4b3d9b(0x226)](_0x4b3d9b(0x1b0)),_0x4daca7[_0x4b3d9b(0x180)](_0x4b3d9b(0x2d8),_0x35e350['nmFah'],{'username':_0x3d74cc[_0x4b3d9b(0x3b4)],'password':_0x3d74cc[_0x4b3d9b(0x347)]}),_0x43e524[_0x4b3d9b(0x281)](_0x4f88f8),_0x20a036[_0x4b3d9b(0x1c6)]()[_0x4b3d9b(0x3aa)](),_0x35e350[_0x4b3d9b(0x3a6)](_0x539216,['Gadget']);}});}):(_0x5344d8[_0x2b2af7(0x1e4)](),_0x47085a['findAllByText'](_0x5b420f)['should'](_0xb0cb5a[_0x2b2af7(0x361)],0xa),_0xf7a12b[_0x2b2af7(0x260)]({'columnId':_0x205174[_0x2b2af7(0x304)],'columnAssertion':_0xb0cb5a[_0x2b2af7(0x2f3)](_0xa6ee2e,_0x2529f9)}));}_0x57c1ce[_0x84a80d(0x1b2)](beforeEach,()=>{const _0xa2d657=_0x84a80d;H[_0xa2d657(0x283)](),cy[_0xa2d657(0x2bb)](),H[_0xa2d657(0x2e9)](_0x57c1ce['imAPn']),_0x57c1ce['EWUZi'](preparePermissions);}),it(_0x84a80d(0x247),()=>{const _0x254612=_0x84a80d;if(_0x473e09[_0x254612(0x246)](_0x473e09['advau'],_0x254612(0x1b9)))_0x5b21bf['restore'](),_0x38c5c6[_0x254612(0x2bb)](),_0x2427e4[_0x254612(0x2e9)](_0x254612(0x1af)),_0x473e09[_0x254612(0x1ac)](_0x549c4a);else{cy[_0x254612(0x226)]('create\x20another\x20sandboxed\x20user');const _0x14d8fe={'email':_0x254612(0x195),'password':_0x473e09['XPcJy'],'login_attributes':{'attr_uid':'2','attr_cat':_0x473e09[_0x254612(0x3b3)]},'user_group_memberships':[{'id':ALL_USERS_GROUP,'is_group_manager':![]},{'id':COLLECTION_GROUP,'is_group_manager':![]}]};cy[_0x254612(0x2fa)](_0x14d8fe),cy['log'](_0x473e09[_0x254612(0x19a)]),cy[_0x254612(0x17a)]('/admin/permissions/data/database/'+SAMPLE_DB_ID+_0x254612(0x328)+PRODUCTS_ID),H[_0x254612(0x1ec)](_0x254612(0x342),0x0,'Sandboxed'),H['modal']()[_0x254612(0x2e4)]('Pick\x20a\x20column')['click'](),H['popover']()['findByText'](_0x254612(0x25b))[_0x254612(0x3aa)](),H[_0x254612(0x35a)]()[_0x254612(0x2e4)](_0x473e09[_0x254612(0x2b4)])[_0x254612(0x3aa)](),H[_0x254612(0x274)]()['findByText'](_0x473e09[_0x254612(0x3b1)])[_0x254612(0x3aa)](),H['modal']()[_0x254612(0x205)](_0x473e09[_0x254612(0x3db)])[_0x254612(0x3aa)](),H[_0x254612(0x1f9)](),cy['log']('setup\x20a\x20dashboard'),H[_0x254612(0x281)](ORDERS_DASHBOARD_ID),H[_0x254612(0x1b7)](),H['setFilter']('Text\x20or\x20Category','Is'),H['selectDashboardFilter'](H[_0x254612(0x315)](),_0x254612(0x25b)),H[_0x254612(0x198)](),cy[_0x254612(0x226)](_0x254612(0x389)),H[_0x254612(0x281)](ORDERS_DASHBOARD_ID),H[_0x254612(0x1c6)]()[_0x254612(0x3aa)](),_0x473e09['FUzwq'](_0x23832e,_0x558d92),cy[_0x254612(0x226)](_0x473e09[_0x254612(0x20e)]),cy[_0x254612(0x188)](_0x254612(0x20d)),H[_0x254612(0x281)](ORDERS_DASHBOARD_ID),H['filterWidget']()['click'](),_0x473e09[_0x254612(0x31d)](_0x23832e,[_0x473e09[_0x254612(0x2d3)]]),cy[_0x254612(0x226)](_0x473e09[_0x254612(0x251)]),cy['request'](_0x473e09[_0x254612(0x270)],_0x473e09[_0x254612(0x307)],{'username':_0x14d8fe[_0x254612(0x3b4)],'password':_0x14d8fe[_0x254612(0x347)]}),H[_0x254612(0x281)](ORDERS_DASHBOARD_ID),H[_0x254612(0x1c6)]()['click'](),_0x473e09[_0x254612(0x340)](_0x23832e,[_0x473e09['swBQo']]);}});}),describe(_0x518677(0x1c1),()=>{const _0x412f5a=_0x518677,_0x52398f={'EMeMh':function(_0x59c6d9,_0x517114){return _0x57c1ce['ZEcfv'](_0x59c6d9,_0x517114);},'lsXJI':_0x57c1ce[_0x412f5a(0x210)],'WvfXk':function(_0x3df0b0,_0x2d0564){const _0x14bbf6=_0x412f5a;return _0x57c1ce[_0x14bbf6(0x17c)](_0x3df0b0,_0x2d0564);},'HQcbI':_0x412f5a(0x17b),'pSuMd':_0x412f5a(0x3ac),'mQWEN':_0x412f5a(0x333),'oSxVK':_0x57c1ce['UstqR'],'FUBXW':_0x412f5a(0x3bc),'SjBOE':_0x57c1ce['ZcRCr'],'FQEmj':_0x412f5a(0x194),'alNkd':_0x57c1ce[_0x412f5a(0x2d0)],'iWHxV':'dataset','fdkaM':_0x57c1ce[_0x412f5a(0x1c3)],'wlKXu':_0x412f5a(0x2de),'YunmH':_0x57c1ce[_0x412f5a(0x1ea)],'IYOGp':_0x57c1ce['rJCir'],'jwQrs':_0x412f5a(0x1f6),'zpjQA':function(_0x278e28,_0x5aecff){const _0x3a173c=_0x412f5a;return _0x57c1ce[_0x3a173c(0x3d6)](_0x278e28,_0x5aecff);},'ibaHf':_0x57c1ce[_0x412f5a(0x2ad)],'jrkky':_0x57c1ce['MamMx'],'RKzdN':_0x412f5a(0x25a),'erglU':_0x412f5a(0x28f),'gekrf':'[data-element-id=list-item]','MVpqw':_0x57c1ce[_0x412f5a(0x1a1)],'MExAC':_0x57c1ce[_0x412f5a(0x2bd)],'PxCyR':_0x412f5a(0x1bb),'rvbgu':_0x57c1ce['PFtWr'],'RJOZv':_0x57c1ce['rUQWw'],'uidWO':_0x57c1ce[_0x412f5a(0x36f)],'PepFy':_0x412f5a(0x3f5),'Lnsea':_0x412f5a(0x35e),'kTsTq':_0x412f5a(0x3ba),'SbPER':function(_0x52c39b,_0x251bae){return _0x52c39b(_0x251bae);},'qJKRn':_0x412f5a(0x3d9),'fKJBu':_0x412f5a(0x3f3),'VNYCk':_0x412f5a(0x199),'Mzyei':_0x57c1ce['kaOwG'],'aGyXv':_0x57c1ce[_0x412f5a(0x391)],'EoxLj':_0x57c1ce[_0x412f5a(0x225)],'UERQd':'Create\x20\x27Orders\x27-based\x20question\x20using\x20QB','Ookgj':_0x412f5a(0x32c),'cILHv':_0x412f5a(0x182),'HhuGm':_0x57c1ce['DBHAR'],'IidWA':_0x57c1ce[_0x412f5a(0x345)],'lxoNU':_0x57c1ce['UmAlf'],'YpWlS':function(_0x359c13,_0x10af04){const _0x47e0e6=_0x412f5a;return _0x57c1ce[_0x47e0e6(0x22e)](_0x359c13,_0x10af04);},'oeonF':function(_0x545d41,_0x1cca2e){const _0xf40a07=_0x412f5a;return _0x57c1ce[_0xf40a07(0x2a5)](_0x545d41,_0x1cca2e);},'LXkei':_0x412f5a(0x326),'zdLYU':_0x57c1ce[_0x412f5a(0x222)],'pKEZq':function(_0x12a944,_0x263141){return _0x12a944===_0x263141;},'oEdcj':function(_0x108684,_0x99f5b6,_0x48fd8f){return _0x108684(_0x99f5b6,_0x48fd8f);},'KsPLh':'header-cell','FySNp':'Collections','RcHLI':_0x412f5a(0x2c1),'BdcHE':function(_0x5e3561,_0xf2a4ed){const _0x1bd411=_0x412f5a;return _0x57c1ce[_0x1bd411(0x33e)](_0x5e3561,_0xf2a4ed);},'DpKdC':_0x412f5a(0x1af),'mjCRQ':'joined-field','YNseY':_0x57c1ce[_0x412f5a(0x37a)],'khhuh':_0x412f5a(0x3d4),'TPcCq':_0x57c1ce[_0x412f5a(0x177)],'IyONK':_0x57c1ce[_0x412f5a(0x354)],'dayBp':'Orders\x20in\x20a\x20dashboard','YqNEf':function(_0xf187d4,_0x140888){return _0xf187d4(_0x140888);},'HHFaQ':function(_0x4fdbf5,_0x5a1223){const _0xfd7786=_0x412f5a;return _0x57c1ce[_0xfd7786(0x2aa)](_0x4fdbf5,_0x5a1223);},'RxCiv':_0x57c1ce[_0x412f5a(0x3fc)]};_0x57c1ce[_0x412f5a(0x2ef)](beforeEach,()=>{const _0x57a48f=_0x412f5a,_0x427d2a={'JleJi':_0x57c1ce[_0x57a48f(0x1fe)]};if(_0x57c1ce[_0x57a48f(0x2a5)](_0x57a48f(0x197),_0x57c1ce[_0x57a48f(0x189)])){const _0x63d3e1={'BCbaN':function(_0x57b73a,_0x142dec){const _0x3ab637=_0x57a48f;return _0x52398f[_0x3ab637(0x1dd)](_0x57b73a,_0x142dec);}},_0x3e4962=_0x52398f[_0x57a48f(0x1a7)],_0x19041a='Products';_0x52398f[_0x57a48f(0x18d)](_0x39bb47,_0x52398f[_0x57a48f(0x36e)])&&(_0x381d16[_0x57a48f(0x226)]('Remap\x20Product\x20ID\x27s\x20display\x20value\x20to\x20`title`'),_0x2dfca8[_0x57a48f(0x17e)]({'display_value':_0x1fbbc3[_0x57a48f(0x25c)],'name':_0x52398f[_0x57a48f(0x311)],'fk':_0x2cfdc5[_0x57a48f(0x22c)]})),_0x16675b[_0x57a48f(0x349)]({'table_id':_0x3e6d5f,'attribute_remappings':{'attr_uid':[_0x52398f[_0x57a48f(0x30d)],[_0x57a48f(0x18a),_0x9976f0[_0x57a48f(0x304)],null]]}}),_0x29a537['sandboxTable']({'table_id':_0x166852,'attribute_remappings':{'attr_cat':[_0x57a48f(0x333),[_0x52398f['oSxVK'],_0x5ded1b[_0x57a48f(0x1cd)],null]]}}),_0x4ada15[_0x57a48f(0x192)]({'name':_0x3e4962,'query':{'aggregation':[['count']],'breakout':[[_0x57a48f(0x18a),_0x216d4b[_0x57a48f(0x1cd)],{'join-alias':_0x19041a}]],'joins':[{'fields':_0x57a48f(0x1af),'source-table':_0x2ba8dd,'condition':['=',[_0x57a48f(0x18a),_0x217ae3[_0x57a48f(0x25c)],null],[_0x57a48f(0x18a),_0x1e662a['ID'],{'join-alias':_0x19041a}]],'alias':_0x19041a}],'source-table':_0x396e2d},'display':_0x52398f[_0x57a48f(0x313)]}),_0x1a5e2b[_0x57a48f(0x220)](),_0x10fb9a[_0x57a48f(0x37e)](),_0x389ce5[_0x57a48f(0x306)](_0x52398f['SjBOE'],_0x57a48f(0x35e))['as'](_0x52398f['FQEmj']),_0x12da5e['intercept'](_0x57a48f(0x2d8),_0x52398f['alNkd'])['as'](_0x52398f['iWHxV']),_0x1f0c12[_0x57a48f(0x17a)](_0x52398f['fdkaM']),_0xbb9168['findByText'](_0x3e4962)[_0x57a48f(0x3aa)](),_0x31438c['wait'](_0x52398f[_0x57a48f(0x2f8)]),_0x13a7b3[_0x57a48f(0x212)](0x2),_0x3f4783[_0x57a48f(0x260)]({'requestAlias':_0x57a48f(0x2de)}),_0x4d6f68[_0x57a48f(0x390)]('query-visualization-root')[_0x57a48f(0x317)](()=>{const _0x2e9dcb=_0x57a48f;_0x40f05a['chartPathWithFillColor'](_0x427d2a[_0x2e9dcb(0x373)])['eq'](0x1)[_0x2e9dcb(0x3aa)]();}),_0x4b95bc[_0x57a48f(0x2e4)](_0x52398f[_0x57a48f(0x357)])[_0x57a48f(0x3aa)](),_0x4868a8[_0x57a48f(0x358)](_0x52398f['IYOGp'])[_0x57a48f(0x3cb)](_0x1ebbae=>{const _0x1c4c6b=_0x57a48f;_0x63d3e1[_0x1c4c6b(0x308)](_0x174008,_0x1ebbae['response'][_0x1c4c6b(0x28e)]['error'])[_0x1c4c6b(0x341)]['to']['exist'];}),_0x411065['contains'](_0x52398f['jwQrs']),_0x445cba[_0x57a48f(0x212)](0x6),_0x5a70fb[_0x57a48f(0x260)]({'requestAlias':_0x52398f[_0x57a48f(0x319)]});}else H['restore'](),cy[_0x57a48f(0x2bb)](),H[_0x57a48f(0x2e9)](_0x57c1ce[_0x57a48f(0x294)]),_0x57c1ce['EWUZi'](preparePermissions);}),_0x57c1ce[_0x412f5a(0x1ce)](it,'should\x20allow\x20using\x20a\x20dashboard\x20question\x20as\x20a\x20sandbox\x20source',()=>{const _0x2217c6=_0x412f5a,_0x1c1dc8=_0x2217c6(0x3ec),_0x48f655='3',_0x6f52df=_0x57c1ce['HxqRl'],_0x2fc7f7=_0x57c1ce[_0x2217c6(0x370)];cy['request'](_0x57c1ce[_0x2217c6(0x22a)],_0x2217c6(0x37b)+NORMAL_USER_ID,{'login_attributes':{[_0x1c1dc8]:_0x48f655}}),createJoinedQuestion(_0x2fc7f7),cy[_0x2217c6(0x349)]({'table_id':ORDERS_ID,'group_id':DATA_GROUP,'attribute_remappings':{[_0x1c1dc8]:[_0x57c1ce['aCobp'],['field',ORDERS[_0x2217c6(0x304)],null]]}}),H[_0x2217c6(0x322)]({'name':_0x57c1ce[_0x2217c6(0x3f2)],'dashboard_id':ORDERS_DASHBOARD_ID,'native':{'query':_0x2217c6(0x332)+_0x6f52df+'}}','template-tags':{[_0x6f52df]:{'id':_0x2217c6(0x352),'name':_0x6f52df,'display-name':_0x2217c6(0x3e9),'type':'dimension','dimension':[_0x2217c6(0x18a),PEOPLE['ID'],null],'widget-type':'id'}}}})['then'](({body:{id:_0x76e71f}})=>{const _0x4758b4=_0x2217c6,_0x293a32={'GNMny':_0x4758b4(0x200),'GQJFL':_0x4758b4(0x327)};_0x52398f[_0x4758b4(0x285)]('UIXNb','QRIBn')?cy['sandboxTable']({'table_id':PEOPLE_ID,'card_id':_0x76e71f,'group_id':DATA_GROUP,'attribute_remappings':{[_0x1c1dc8]:[_0x52398f[_0x4758b4(0x30d)],[_0x52398f['ibaHf'],_0x6f52df]]}}):_0xbd8d66[_0x4758b4(0x390)](_0x293a32['GNMny'])[_0x4758b4(0x250)](_0x293a32[_0x4758b4(0x3e7)])[_0x4758b4(0x3aa)]({'force':!![]});}),cy[_0x2217c6(0x220)](),cy['signInAsNormalUser'](),H[_0x2217c6(0x281)](ORDERS_DASHBOARD_ID),H[_0x2217c6(0x25d)]()['findByText'](_0x2217c6(0x309))[_0x2217c6(0x1ca)]('exist'),H[_0x2217c6(0x38e)](),cy['findAllByText'](_0x48f655)[_0x2217c6(0x1ca)](_0x2217c6(0x187),0x1),H[_0x2217c6(0x260)]({'columnId':PEOPLE[_0x2217c6(0x304)],'columnAssertion':_0x57c1ce['nIAbU'](Number,_0x48f655)});}),_0x57c1ce[_0x412f5a(0x286)](it,'should\x20allow\x20joins\x20to\x20the\x20sandboxed\x20table\x20(metabase-enterprise#154)',()=>{const _0x3599ac=_0x412f5a,_0x226a8={'ErjSM':_0x52398f[_0x3599ac(0x3df)],'EPxgO':'select-button','ZZZhF':_0x3599ac(0x262),'SYEoE':_0x3599ac(0x36d)};cy['updatePermissionsGraph']({[COLLECTION_GROUP]:{[SAMPLE_DB_ID]:{'view-data':_0x3599ac(0x240),'create-queries':{'PUBLIC':{[ORDERS_ID]:_0x3599ac(0x360),[PRODUCTS_ID]:_0x3599ac(0x360),[REVIEWS_ID]:_0x3599ac(0x360)}}}}}),cy[_0x3599ac(0x349)]({'table_id':PEOPLE_ID,'attribute_remappings':{'attr_uid':[_0x52398f['mQWEN'],[_0x52398f[_0x3599ac(0x277)],PEOPLE['ID'],null]]}}),cy[_0x3599ac(0x220)](),cy['signInAsSandboxedUser'](),H[_0x3599ac(0x1e4)]({'mode':_0x3599ac(0x377)}),H[_0x3599ac(0x37c)]({'mode':_0x52398f[_0x3599ac(0x3b7)]}),cy['findByText'](_0x52398f[_0x3599ac(0x2dc)])[_0x3599ac(0x3aa)](),cy[_0x3599ac(0x2e4)](_0x52398f[_0x3599ac(0x23a)])[_0x3599ac(0x3aa)](),cy[_0x3599ac(0x226)](_0x52398f[_0x3599ac(0x33c)]),H[_0x3599ac(0x274)]()['within'](()=>{const _0x345141=_0x3599ac;_0x345141(0x213)===_0x52398f['jrkky']?(cy[_0x345141(0x1b4)](_0x345141(0x25a))[_0x345141(0x3ea)](/Orders?/)[_0x345141(0x3aa)](),cy['get'](_0x52398f[_0x345141(0x231)])[_0x345141(0x3ea)](_0x52398f[_0x345141(0x393)])[_0x345141(0x3aa)](),cy[_0x345141(0x1b4)](_0x52398f[_0x345141(0x1be)])['contains']('ID')[_0x345141(0x3aa)]()):(_0x52a9ec[_0x345141(0x349)]({'table_id':_0x2e42dc,'group_id':_0x5103c6,'attribute_remappings':{'attr_cat':_0x4a2a4e}}),_0x1b12c0[_0x345141(0x17a)](_0x345141(0x1d4)+_0x1df40e+_0x345141(0x328)+_0x138d7a),_0x30f28d[_0x345141(0x318)](_0x345141(0x2dd),_0x5e80d3),_0x31945c[_0x345141(0x274)]()[_0x345141(0x2e4)](_0x226a8[_0x345141(0x2ba)])[_0x345141(0x3aa)](),_0x499cc2[_0x345141(0x35a)]()[_0x345141(0x19f)](_0x226a8[_0x345141(0x3fd)])['contains'](_0x345141(0x25b))[_0x345141(0x3aa)](),_0x2924dd[_0x345141(0x274)]()['findByLabelText'](_0x345141(0x25b))[_0x345141(0x1ca)](_0x226a8['ZZZhF'],_0x226a8[_0x345141(0x296)],_0x345141(0x2f2)));}),H[_0x3599ac(0x24e)](),cy[_0x3599ac(0x2e4)]('Count\x20by\x20User\x20→\x20ID'),cy[_0x3599ac(0x2e4)]('11'),H['assertQueryBuilderRowCount'](0x2),H[_0x3599ac(0x260)]();}),it(_0x57c1ce[_0x412f5a(0x2db)],()=>{const _0x18c914=_0x412f5a,_0x3d6b82={'uetie':function(_0x30928f,_0x1ad1fd){return _0x57c1ce['IezcK'](_0x30928f,_0x1ad1fd);}},_0x1dcd22=_0x57c1ce[_0x18c914(0x264)],_0x18eebc=_0x57c1ce[_0x18c914(0x1fc)];cy[_0x18c914(0x349)]({'table_id':ORDERS_ID,'attribute_remappings':{'attr_uid':[_0x18c914(0x333),[_0x18c914(0x18a),ORDERS['USER_ID'],null]]}}),H[_0x18c914(0x192)]({'name':_0x1dcd22,'query':{'expressions':{[_0x18eebc]:['case',[[['>',[_0x57c1ce['UstqR'],ORDERS['DISCOUNT'],null],0x0],[_0x57c1ce[_0x18c914(0x35c)],ORDERS[_0x18c914(0x30b)]],null]],{'default':['field',ORDERS[_0x18c914(0x31c)],null]}]},'source-table':ORDERS_ID}})[_0x18c914(0x3cb)](({body:{id:_0x39844f}})=>{const _0x585aa1=_0x18c914;'MZkwb'!==_0x585aa1(0x35f)?_0xd8646c(_0x4ada07[_0x585aa1(0x27f)][_0x585aa1(0x28e)][_0x585aa1(0x2f6)])['not']['to'][_0x585aa1(0x261)]:(cy[_0x585aa1(0x220)](),cy[_0x585aa1(0x37e)](),H['visitQuestion'](_0x39844f),cy[_0x585aa1(0x2e4)](_0x1dcd22),cy[_0x585aa1(0x226)](_0x585aa1(0x3f8)),cy['contains'](_0x18eebc),H[_0x585aa1(0x212)](0xb),H[_0x585aa1(0x260)]({'columnId':ORDERS[_0x585aa1(0x304)],'columnAssertion':_0x3d6b82['uetie'](Number,USERS[_0x585aa1(0x20d)]['login_attributes'][_0x585aa1(0x3d7)]),'requestAlias':_0x585aa1(0x2de)+_0x39844f}));});}),[_0x57c1ce['LOVyC'],_0x412f5a(0x30c)]['forEach'](_0x124c84=>{const _0x4946e4=_0x412f5a,_0x5c355a={'xjxlg':_0x4946e4(0x269),'pWOjT':_0x4946e4(0x228),'sGlCf':_0x57c1ce['QKxFA'],'PtSQd':_0x4946e4(0x3fe),'AGLAT':_0x57c1ce[_0x4946e4(0x2a3)],'wDidV':_0x57c1ce[_0x4946e4(0x1ee)],'uRtrc':_0x4946e4(0x254)};it(_0x124c84[_0x4946e4(0x255)]()+_0x4946e4(0x1d0),()=>{const _0x311d43=_0x4946e4,_0x4cacc3='13641';_0x52398f['WvfXk'](_0x124c84,_0x52398f[_0x311d43(0x36e)])&&(cy[_0x311d43(0x226)](_0x52398f[_0x311d43(0x3c6)]),H[_0x311d43(0x17e)]({'display_value':ORDERS[_0x311d43(0x25c)],'name':_0x311d43(0x3ac),'fk':PRODUCTS[_0x311d43(0x22c)]})),cy['updatePermissionsGraph']({[COLLECTION_GROUP]:{[SAMPLE_DB_ID]:{'view-data':{'PUBLIC':{[PRODUCTS_ID]:_0x311d43(0x240)}},'create-queries':{'PUBLIC':{[PRODUCTS_ID]:_0x311d43(0x360)}}}}}),cy[_0x311d43(0x349)]({'table_id':ORDERS_ID,'attribute_remappings':{'attr_uid':[_0x52398f['mQWEN'],[_0x311d43(0x18a),ORDERS[_0x311d43(0x304)],null]]}}),cy[_0x311d43(0x226)](_0x311d43(0x2c1)),H['createQuestion']({'name':_0x4cacc3,'query':{'aggregation':[[_0x52398f[_0x311d43(0x2a6)]]],'breakout':[['field',PRODUCTS[_0x311d43(0x1cd)],{'source-field':ORDERS['PRODUCT_ID']}]],'source-table':ORDERS_ID},'display':'bar'}),cy[_0x311d43(0x220)](),cy[_0x311d43(0x37e)](),cy['intercept'](_0x52398f[_0x311d43(0x2f1)],_0x52398f[_0x311d43(0x3da)])['as'](_0x311d43(0x194)),cy[_0x311d43(0x306)]('POST',_0x52398f[_0x311d43(0x284)])['as'](_0x52398f['iWHxV']),cy[_0x311d43(0x17a)](_0x52398f[_0x311d43(0x2fe)]),cy[_0x311d43(0x2e4)](_0x4cacc3)[_0x311d43(0x3aa)](),cy[_0x311d43(0x358)]('@cardQuery'),cy['findByTestId']('query-visualization-root')[_0x311d43(0x317)](()=>{const _0x57d9e9=_0x311d43,_0x106523={'Mxktw':_0x5c355a[_0x57d9e9(0x3cd)],'XtqIy':_0x5c355a['pWOjT'],'tjNUQ':_0x5c355a[_0x57d9e9(0x387)],'WADlz':_0x5c355a[_0x57d9e9(0x1b6)],'KNkTq':_0x5c355a[_0x57d9e9(0x216)],'pDvKA':_0x5c355a[_0x57d9e9(0x252)]};if(_0x5c355a[_0x57d9e9(0x234)]!==_0x5c355a[_0x57d9e9(0x234)]){const _0x29f1b8=_0x57d9e9(0x324)[_0x57d9e9(0x3b5)]('|');let _0x2b8f92=0x0;while(!![]){switch(_0x29f1b8[_0x2b8f92++]){case'0':_0x2c1f24[_0x57d9e9(0x2e4)](_0x57d9e9(0x3c4))[_0x57d9e9(0x3aa)]();continue;case'1':_0x388514[_0x57d9e9(0x3be)](_0x57d9e9(0x380))[_0x57d9e9(0x28d)](_0x57d9e9(0x34e));continue;case'2':_0xd431fb[_0x57d9e9(0x3be)](_0x106523[_0x57d9e9(0x30a)])['type']('1');continue;case'3':_0x2872a8[_0x57d9e9(0x3be)]('Johnny')[_0x57d9e9(0x28d)](_0x106523[_0x57d9e9(0x211)]);continue;case'4':_0x322a57[_0x57d9e9(0x2e4)]('Add\x20an\x20attribute')[_0x57d9e9(0x3aa)]();continue;case'5':_0x511687[_0x57d9e9(0x2e4)](_0x106523[_0x57d9e9(0x3c5)])['click']();continue;case'6':_0x13c410[_0x57d9e9(0x1c4)](_0x106523[_0x57d9e9(0x16f)])['click']();continue;case'7':_0xc223e5[_0x57d9e9(0x3be)](_0x57d9e9(0x369))['type'](_0x106523[_0x57d9e9(0x297)]);continue;case'8':_0x25f5fd[_0x57d9e9(0x3be)](_0x106523[_0x57d9e9(0x39d)])[_0x57d9e9(0x28d)](_0x57d9e9(0x3ec));continue;}break;}}else H[_0x57d9e9(0x186)]('#509EE3')['eq'](0x0)['click']();}),cy[_0x311d43(0x2e4)](_0x52398f[_0x311d43(0x357)])[_0x311d43(0x3aa)](),cy['log'](_0x311d43(0x1da)),cy[_0x311d43(0x358)](_0x52398f[_0x311d43(0x319)])[_0x311d43(0x3cb)](_0x2bf1b1=>{const _0x28c042=_0x311d43;expect(_0x2bf1b1['response'][_0x28c042(0x28e)][_0x28c042(0x2f6)])[_0x28c042(0x341)]['to'][_0x28c042(0x261)];}),cy[_0x311d43(0x2e4)](_0x311d43(0x17d)),cy['findByText'](_0x52398f[_0x311d43(0x344)]),H['assertQueryBuilderRowCount'](0x2),H[_0x311d43(0x260)]({'columnId':ORDERS[_0x311d43(0x304)],'columnAssertion':_0x52398f['SbPER'](Number,USERS[_0x311d43(0x20d)][_0x311d43(0x1d3)][_0x311d43(0x3d7)])});});}),it(_0x57c1ce[_0x412f5a(0x202)],()=>{const _0x508151=_0x412f5a,_0x3f739b={'enZyw':_0x57c1ce[_0x508151(0x35c)]};if(_0x57c1ce['CYntF'](_0x508151(0x38b),_0x57c1ce[_0x508151(0x2af)])){const _0x162c7c={'OIpMD':_0x508151(0x333)};_0x3bdfdf[_0x508151(0x226)]('Create\x20\x27Orders\x27-based\x20question\x20using\x20QB'),_0x5438eb['createQuestion']({'name':_0x508151(0x32c),'query':{'source-table':_0x39bf89,'filter':['>',['field',_0x3d6037['TOTAL'],null],0xa]}})[_0x508151(0x3cb)](({body:{id:_0x3141f5}})=>{_0x3d9287['sandboxTable']({'table_id':_0x303616,'card_id':_0x3141f5,'attribute_remappings':{'attr_uid':[_0x162c7c['OIpMD'],['field',_0xa12812['USER_ID'],null]]}});}),_0x5b721d[_0x508151(0x226)](_0x508151(0x182)),_0x3dd9e5[_0x508151(0x192)]({'name':_0x508151(0x388),'query':{'source-table':_0x251782,'filter':['>',[_0x52398f[_0x508151(0x277)],_0x56ba6c[_0x508151(0x2d7)],null],0xa]}})['then'](({body:{id:_0x1fd17c}})=>{const _0x53502e=_0x508151;_0x4d5d0f[_0x53502e(0x349)]({'table_id':_0x1b7d2d,'card_id':_0x1fd17c,'attribute_remappings':{'attr_cat':[_0x53502e(0x333),[_0x3f739b[_0x53502e(0x24d)],_0x5dcb1f[_0x53502e(0x1cd)],null]]}});}),_0xfd55f2['signOut'](),_0x5f452d[_0x508151(0x37e)](),_0x1d589e[_0x508151(0x1e4)]({'callback':_0x4d4743=>_0x304992(_0x4d4743['response'][_0x508151(0x28e)][_0x508151(0x2f6)])[_0x508151(0x341)]['to']['exist']}),_0x5dc04d[_0x508151(0x358)](_0x508151(0x28c)),_0x5d3dbe[_0x508151(0x212)](0xb),_0x6ada50[_0x508151(0x260)]({'requestAlias':_0x508151(0x28c),'columnId':_0x582715[_0x508151(0x304)],'columnAssertion':_0x52398f[_0x508151(0x28a)](_0x3636a7,_0x59d5b2[_0x508151(0x20d)]['login_attributes']['attr_uid'])}),_0x4b4554[_0x508151(0x1de)]()['findByText'](_0x508151(0x2d9))[_0x508151(0x3aa)](),_0x155b0c['popover']()[_0x508151(0x2e4)](/View details/i)[_0x508151(0x3aa)](),_0x334c6a['log'](_0x52398f['qJKRn']),_0x4f63ce[_0x508151(0x390)]('object-detail'),_0x4e214f[_0x508151(0x1c4)](_0x52398f[_0x508151(0x25e)]);}else{const _0x50636f=_0x57c1ce[_0x508151(0x3e1)],_0x466406='EE_535';cy[_0x508151(0x208)]({[COLLECTION_GROUP]:{[SAMPLE_DB_ID]:{'view-data':_0x57c1ce[_0x508151(0x2b3)],'create-queries':{'PUBLIC':{[PRODUCTS_ID]:_0x57c1ce[_0x508151(0x350)]}}}}}),cy[_0x508151(0x349)]({'table_id':ORDERS_ID,'attribute_remappings':{'attr_uid':['dimension',[_0x508151(0x18a),ORDERS[_0x508151(0x304)],null]]}}),cy['log'](_0x508151(0x3b8)),H[_0x508151(0x192)]({'name':_0x466406,'query':{'aggregation':[['count']],'breakout':[[_0x57c1ce[_0x508151(0x35c)],PRODUCTS[_0x508151(0x1cd)],{'join-alias':_0x50636f}]],'joins':[{'alias':_0x50636f,'condition':['=',[_0x57c1ce[_0x508151(0x35c)],ORDERS[_0x508151(0x25c)],null],[_0x508151(0x18a),PRODUCTS['ID'],{'join-alias':_0x50636f}]],'fields':_0x508151(0x1af),'source-table':PRODUCTS_ID}],'source-table':ORDERS_ID},'display':_0x57c1ce[_0x508151(0x29c)]}),cy[_0x508151(0x220)](),cy[_0x508151(0x37e)](),cy[_0x508151(0x306)](_0x57c1ce[_0x508151(0x3ad)],_0x57c1ce[_0x508151(0x2be)])['as'](_0x57c1ce['oHPmE']),cy[_0x508151(0x306)](_0x57c1ce[_0x508151(0x3ad)],_0x57c1ce['PzIkm'])['as'](_0x508151(0x39e)),cy[_0x508151(0x17a)](_0x57c1ce[_0x508151(0x1c3)]),cy[_0x508151(0x2e4)](_0x466406)[_0x508151(0x3aa)](),cy[_0x508151(0x358)](_0x508151(0x2de)),cy['findByTestId'](_0x57c1ce[_0x508151(0x2c9)])['within'](()=>{const _0x191e59=_0x508151;H['chartPathWithFillColor'](_0x191e59(0x199))['eq'](0x0)['click']();}),cy[_0x508151(0x2e4)](_0x57c1ce['qpbnf'])[_0x508151(0x3aa)](),cy[_0x508151(0x358)](_0x508151(0x39c)),cy[_0x508151(0x226)](_0x508151(0x3cc)),cy[_0x508151(0x2e4)](_0x57c1ce[_0x508151(0x3d1)]),cy[_0x508151(0x2e4)](_0x508151(0x3ba)),H[_0x508151(0x212)](0x2),H['assertDatasetReqIsSandboxed']({'columnId':ORDERS[_0x508151(0x304)],'columnAssertion':_0x57c1ce['IezcK'](Number,USERS[_0x508151(0x20d)]['login_attributes'][_0x508151(0x3d7)])});}}),_0x57c1ce['YguaQ'](describe,_0x57c1ce['mcrLF'],()=>{const _0x4f514d=_0x412f5a,_0x4f54c0={'bzBnV':_0x57c1ce[_0x4f514d(0x1fe)],'wsMJT':_0x57c1ce['GZMsE'],'eWQss':_0x57c1ce[_0x4f514d(0x2b3)],'yWukC':_0x4f514d(0x360),'EskmY':_0x57c1ce[_0x4f514d(0x35c)],'ckdds':_0x57c1ce['hSOdg'],'rlJEz':_0x57c1ce[_0x4f514d(0x29c)],'Eqjba':_0x57c1ce[_0x4f514d(0x3ad)],'UwyMf':_0x57c1ce[_0x4f514d(0x2be)],'YCKTD':_0x57c1ce[_0x4f514d(0x2f7)],'iyDaY':_0x4f514d(0x31a),'rJazI':_0x57c1ce[_0x4f514d(0x241)],'VOrVG':_0x4f514d(0x362),'GeZRH':function(_0x4845d7,_0x10d092){const _0xa5b3dc=_0x4f514d;return _0x57c1ce[_0xa5b3dc(0x386)](_0x4845d7,_0x10d092);},'Pxbvt':_0x57c1ce[_0x4f514d(0x2d0)],'CEsmn':_0x57c1ce[_0x4f514d(0x2e5)],'BmFxs':_0x57c1ce[_0x4f514d(0x36f)],'DNobi':_0x57c1ce['xULVH'],'agCMe':_0x57c1ce[_0x4f514d(0x249)],'lVqPr':_0x57c1ce[_0x4f514d(0x22a)],'PRKIO':_0x57c1ce['EcKAe'],'fnrtp':_0x57c1ce[_0x4f514d(0x1e3)],'DEtjf':_0x57c1ce['TEwxk'],'isCwS':_0x4f514d(0x385),'kwUit':_0x57c1ce['EIbOi'],'IMxiL':_0x57c1ce['MEZfM'],'eedRy':'3d69ba99-7076-2252-30bd-0bb8810ba895','rUOMn':_0x57c1ce['GdFiJ'],'bzDkc':'[data-testid=cell-data]','PiygE':_0x4f514d(0x2d9),'KnneU':'McClure-Lockman','pdtJo':_0x57c1ce['aCobp']};_0x57c1ce['QTgpe'](beforeEach,()=>{const _0x47990f=_0x4f514d;if(_0x47990f(0x378)===_0x47990f(0x378))cy[_0x47990f(0x306)](_0x47990f(0x2d8),_0x4f54c0[_0x47990f(0x2cb)])['as'](_0x4f54c0[_0x47990f(0x20b)]),cy['log'](_0x4f54c0[_0x47990f(0x27b)]),H['remapDisplayValueToFK']({'display_value':ORDERS[_0x47990f(0x25c)],'name':_0x47990f(0x3ac),'fk':PRODUCTS[_0x47990f(0x22c)]});else{const _0x2ee050={'WlvCr':_0x4f54c0[_0x47990f(0x29b)]},_0x50dbe2=_0x47990f(0x2ac),_0x527911=_0x4f54c0[_0x47990f(0x26a)];_0x1655bd[_0x47990f(0x208)]({[_0x5f30cf]:{[_0x4a1e85]:{'view-data':_0x4f54c0[_0x47990f(0x1bc)],'create-queries':{'PUBLIC':{[_0x384c0c]:_0x4f54c0[_0x47990f(0x2c6)]}}}}}),_0x501483[_0x47990f(0x349)]({'table_id':_0x3f1066,'attribute_remappings':{'attr_uid':['dimension',[_0x4f54c0['EskmY'],_0x448dce[_0x47990f(0x304)],null]]}}),_0x34fc85[_0x47990f(0x226)](_0x4f54c0[_0x47990f(0x3d5)]),_0x27d6f9['createQuestion']({'name':_0x527911,'query':{'aggregation':[[_0x47990f(0x3f5)]],'breakout':[[_0x47990f(0x18a),_0x5e4e43[_0x47990f(0x1cd)],{'join-alias':_0x50dbe2}]],'joins':[{'alias':_0x50dbe2,'condition':['=',['field',_0x21f355['PRODUCT_ID'],null],[_0x4f54c0[_0x47990f(0x3e8)],_0x275b1b['ID'],{'join-alias':_0x50dbe2}]],'fields':_0x47990f(0x1af),'source-table':_0xfd2a3f}],'source-table':_0x409ac2},'display':_0x4f54c0[_0x47990f(0x1a6)]}),_0x287914['signOut'](),_0x1dc404[_0x47990f(0x37e)](),_0x511d19['intercept'](_0x4f54c0[_0x47990f(0x34c)],_0x4f54c0[_0x47990f(0x355)])['as'](_0x47990f(0x194)),_0x17f1da[_0x47990f(0x306)](_0x47990f(0x2d8),_0x47990f(0x266))['as']('dataset'),_0xf0ab35[_0x47990f(0x17a)](_0x47990f(0x19b)),_0x45024c[_0x47990f(0x2e4)](_0x527911)[_0x47990f(0x3aa)](),_0x439f6c[_0x47990f(0x358)](_0x4f54c0[_0x47990f(0x191)]),_0x4b3c23['findByTestId']('query-visualization-root')[_0x47990f(0x317)](()=>{const _0x4c7b07=_0x47990f;_0x212374[_0x4c7b07(0x186)](_0x2ee050['WlvCr'])['eq'](0x0)[_0x4c7b07(0x3aa)]();}),_0x36f86e['findByText'](_0x4f54c0['iyDaY'])[_0x47990f(0x3aa)](),_0x508fe4[_0x47990f(0x358)](_0x4f54c0[_0x47990f(0x1d9)]),_0x17bdcd['log'](_0x47990f(0x3cc)),_0x1cca4b[_0x47990f(0x2e4)](_0x4f54c0[_0x47990f(0x1f7)]),_0x5caa55['findByText'](_0x47990f(0x3ba)),_0x2d1184[_0x47990f(0x212)](0x2),_0x26e0d7[_0x47990f(0x260)]({'columnId':_0x49233d[_0x47990f(0x304)],'columnAssertion':_0x4f54c0[_0x47990f(0x3ce)](_0x2b4d46,_0x39993b[_0x47990f(0x20d)][_0x47990f(0x1d3)]['attr_uid'])});}}),it(_0x4f514d(0x30e),()=>{const _0x21891e=_0x4f514d,_0x4d5c40={'extKH':_0x52398f['VNYCk'],'ECkxs':_0x52398f[_0x21891e(0x30d)],'zbuEn':_0x52398f[_0x21891e(0x1c2)],'GgzOa':_0x21891e(0x1f6),'qkXdv':_0x52398f['aGyXv']};_0x52398f[_0x21891e(0x3c3)]===_0x21891e(0x227)?_0x5ace4c['chartPathWithFillColor'](_0x4d5c40['extKH'])['eq'](0x0)[_0x21891e(0x3aa)]():(cy['log'](_0x52398f['UERQd']),H[_0x21891e(0x192)]({'name':_0x52398f['Ookgj'],'query':{'source-table':ORDERS_ID,'filter':['>',[_0x52398f[_0x21891e(0x277)],ORDERS['TOTAL'],null],0xa]}})['then'](({body:{id:_0x52bed3}})=>{const _0x1c64d4=_0x21891e;cy[_0x1c64d4(0x349)]({'table_id':ORDERS_ID,'card_id':_0x52bed3,'attribute_remappings':{'attr_uid':[_0x4d5c40[_0x1c64d4(0x244)],['field',ORDERS[_0x1c64d4(0x304)],null]]}});}),cy['log'](_0x52398f[_0x21891e(0x398)]),H[_0x21891e(0x192)]({'name':_0x52398f['HhuGm'],'query':{'source-table':PRODUCTS_ID,'filter':['>',[_0x21891e(0x18a),PRODUCTS[_0x21891e(0x2d7)],null],0xa]}})[_0x21891e(0x3cb)](({body:{id:_0x11c48a}})=>{const _0x2bc7b7=_0x21891e;_0x4d5c40[_0x2bc7b7(0x382)]===_0x4d5c40[_0x2bc7b7(0x382)]?cy[_0x2bc7b7(0x349)]({'table_id':PRODUCTS_ID,'card_id':_0x11c48a,'attribute_remappings':{'attr_cat':[_0x4d5c40['ECkxs'],[_0x2bc7b7(0x18a),PRODUCTS[_0x2bc7b7(0x1cd)],null]]}}):(_0x1abadf['sandboxTable']({'table_id':_0x5aa7eb,'attribute_remappings':{'attr_uid':[_0x4d5c40['ECkxs'],[_0x2bc7b7(0x26e),[_0x2bc7b7(0x2ff),_0x1d24a5[_0x2bc7b7(0x304)]],[_0x4d5c40[_0x2bc7b7(0x2c2)],_0x6f0d7e['ID']]]]}}),_0x5bf72f[_0x2bc7b7(0x220)](),_0x55f1a9[_0x2bc7b7(0x37e)](),_0x1be6b0[_0x2bc7b7(0x1e4)]({'callback':_0x319284=>_0x25c905(_0x319284[_0x2bc7b7(0x27f)]['body'][_0x2bc7b7(0x2f6)])[_0x2bc7b7(0x341)]['to'][_0x2bc7b7(0x261)]}),_0x5b74ee[_0x2bc7b7(0x3ea)](_0x4d5c40[_0x2bc7b7(0x39a)]));}),cy[_0x21891e(0x220)](),cy[_0x21891e(0x37e)](),H[_0x21891e(0x1e4)]({'callback':_0x1f5a95=>expect(_0x1f5a95['response']['body'][_0x21891e(0x2f6)])['not']['to']['exist']}),cy[_0x21891e(0x358)](_0x52398f[_0x21891e(0x181)]),H[_0x21891e(0x212)](0xb),H[_0x21891e(0x260)]({'requestAlias':_0x21891e(0x28c),'columnId':ORDERS['USER_ID'],'columnAssertion':Number(USERS[_0x21891e(0x20d)][_0x21891e(0x1d3)][_0x21891e(0x3d7)])}),H[_0x21891e(0x1de)]()['findByText'](_0x21891e(0x2d9))[_0x21891e(0x3aa)](),H['popover']()['findByText'](/View details/i)[_0x21891e(0x3aa)](),cy[_0x21891e(0x226)](_0x52398f['qJKRn']),cy[_0x21891e(0x390)](_0x52398f['lxoNU']),cy[_0x21891e(0x1c4)](_0x52398f[_0x21891e(0x25e)]));}),it(_0x4f514d(0x20a),()=>{const _0x55b03c=_0x4f514d,_0x43f74c={'LOdTK':_0x55b03c(0x302),'yaRxP':_0x4f54c0[_0x55b03c(0x2c7)],'Dyyyc':function(_0xf26d13,_0xae4b21){const _0x6790b1=_0x55b03c;return _0x4f54c0[_0x6790b1(0x3ce)](_0xf26d13,_0xae4b21);},'oQGyp':_0x4f54c0[_0x55b03c(0x191)]};cy[_0x55b03c(0x306)](_0x55b03c(0x2d8),_0x55b03c(0x35e))['as'](_0x4f54c0['agCMe']),cy[_0x55b03c(0x306)](_0x4f54c0[_0x55b03c(0x3bf)],_0x4f54c0[_0x55b03c(0x1f8)])['as'](_0x55b03c(0x1b8)),H['createNativeQuestion']({'name':_0x4f54c0['fnrtp'],'native':{'query':_0x4f54c0[_0x55b03c(0x337)],'template-tags':{'sandbox':{'display-name':_0x55b03c(0x3a9),'id':_0x55b03c(0x207),'name':_0x55b03c(0x23f),'type':_0x55b03c(0x2ce)}}}})[_0x55b03c(0x3cb)](({body:{id:_0x225e42}})=>{const _0x27bbb6=_0x55b03c;_0x2fd10a({'question':_0x225e42,'sandboxValue':'1'}),cy[_0x27bbb6(0x349)]({'table_id':ORDERS_ID,'card_id':_0x225e42,'attribute_remappings':{'attr_uid':[_0x43f74c[_0x27bbb6(0x3b2)],[_0x43f74c[_0x27bbb6(0x35b)],_0x27bbb6(0x23f)]]}});}),H[_0x55b03c(0x322)]({'name':_0x4f54c0[_0x55b03c(0x214)],'native':{'query':_0x4f54c0[_0x55b03c(0x2ae)],'template-tags':{'sandbox':{'display-name':_0x4f54c0['IMxiL'],'id':_0x4f54c0['eedRy'],'name':_0x55b03c(0x23f),'type':_0x4f54c0['rUOMn']}}}})[_0x55b03c(0x3cb)](({body:{id:_0xb372b3}})=>{const _0x1df7bd=_0x55b03c;_0x1df7bd(0x3a1)!==_0x1df7bd(0x3a1)?_0x12f0f5[_0x1df7bd(0x2c8)](0xb):(_0x43f74c['Dyyyc'](_0x2fd10a,{'question':_0xb372b3,'sandboxValue':_0x1df7bd(0x1d5)}),cy[_0x1df7bd(0x349)]({'table_id':PRODUCTS_ID,'card_id':_0xb372b3,'attribute_remappings':{'attr_cat':[_0x1df7bd(0x302),[_0x43f74c[_0x1df7bd(0x35b)],_0x1df7bd(0x23f)]]}}));}),cy['signOut'](),cy[_0x55b03c(0x37e)](),H[_0x55b03c(0x1e4)](),cy[_0x55b03c(0x226)](_0x55b03c(0x229)),cy[_0x55b03c(0x226)]('It\x20should\x20show\x20remapped\x20Display\x20Values\x20instead\x20of\x20Product\x20ID'),cy[_0x55b03c(0x1b4)](_0x4f54c0[_0x55b03c(0x237)])[_0x55b03c(0x3ea)](_0x4f54c0[_0x55b03c(0x204)])[_0x55b03c(0x3aa)](),cy['findByText'](/View details/i)[_0x55b03c(0x3aa)](),cy[_0x55b03c(0x226)](_0x55b03c(0x3d9)),cy[_0x55b03c(0x390)](_0x55b03c(0x368)),cy[_0x55b03c(0x1c4)](_0x4f54c0['KnneU']);function _0x2fd10a({question:_0x45352c,sandboxValue:_0x113ed2}={}){const _0x2fd247=_0x55b03c;cy[_0x2fd247(0x17a)](_0x2fd247(0x3e3)+_0x45352c+_0x2fd247(0x1a0)+_0x113ed2),cy[_0x2fd247(0x358)](_0x43f74c['oQGyp']);}}),it(_0x57c1ce[_0x4f514d(0x1d8)],()=>{const _0x2335b3=_0x4f514d;cy[_0x2335b3(0x208)]({[COLLECTION_GROUP]:{[SAMPLE_DB_ID]:{'view-data':{'PUBLIC':{[PRODUCTS_ID]:_0x2335b3(0x240)}}}}}),cy[_0x2335b3(0x349)]({'table_id':ORDERS_ID,'attribute_remappings':{'attr_uid':[_0x4f54c0[_0x2335b3(0x363)],[_0x4f54c0[_0x2335b3(0x3e8)],ORDERS[_0x2335b3(0x304)],null]]}}),cy[_0x2335b3(0x220)](),cy[_0x2335b3(0x37e)](),H[_0x2335b3(0x1e4)]({'callback':_0x2fe5be=>expect(_0x2fe5be['response'][_0x2335b3(0x28e)][_0x2335b3(0x2f6)])[_0x2335b3(0x341)]['to'][_0x2335b3(0x261)]}),H[_0x2335b3(0x212)](0xb),H['assertDatasetReqIsSandboxed']({'columnId':ORDERS[_0x2335b3(0x304)],'columnAssertion':_0x4f54c0[_0x2335b3(0x3ce)](Number,USERS[_0x2335b3(0x20d)]['login_attributes']['attr_uid'])}),cy[_0x2335b3(0x2e4)](_0x4f54c0[_0x2335b3(0x204)]),cy[_0x2335b3(0x220)](),cy[_0x2335b3(0x2bb)](),cy[_0x2335b3(0x17a)]('/admin/permissions/data/group/3/database/1/schema/PUBLIC/5/segmented');});}),[_0x412f5a(0x17b),_0x412f5a(0x30c)]['forEach'](_0x4cbbf4=>{const _0x4a0a94=_0x412f5a,_0x48ae22={'bAIaB':function(_0x58eb7b,_0x2b0288){const _0x46d476=_0x1aaa;return _0x52398f[_0x46d476(0x310)](_0x58eb7b,_0x2b0288);},'wfokn':_0x4a0a94(0x2ac),'flhwr':_0x4a0a94(0x17b),'bDoHw':function(_0x81b131,_0x5320b0){const _0x353870=_0x4a0a94;return _0x52398f[_0x353870(0x217)](_0x81b131,_0x5320b0);},'oWHHK':_0x52398f[_0x4a0a94(0x173)],'FPLjk':_0x52398f[_0x4a0a94(0x311)],'AosDW':_0x52398f[_0x4a0a94(0x277)],'IzTrq':_0x52398f[_0x4a0a94(0x30d)],'Lajtc':_0x52398f[_0x4a0a94(0x2a6)],'kaFlG':'/api/card/*/query','TjmST':_0x4a0a94(0x194),'jpZBJ':_0x4a0a94(0x2d8),'fLgqy':_0x52398f[_0x4a0a94(0x284)],'QVueP':_0x52398f[_0x4a0a94(0x2fe)],'pcOyy':_0x52398f[_0x4a0a94(0x2f8)],'iFFXk':_0x4a0a94(0x1c5),'pIVBm':_0x4a0a94(0x39c),'uIjsa':'have.length','pwvAm':_0x52398f[_0x4a0a94(0x321)]};if(_0x52398f['pKEZq']('nZaxl',_0x4a0a94(0x36b)))_0x52398f[_0x4a0a94(0x346)](it,_0x4cbbf4['toUpperCase']()+_0x4a0a94(0x2e8),()=>{const _0x15ff7c=_0x4a0a94,_0x192edf=_0x15ff7c(0x2e6),_0x2b3a2b=_0x48ae22[_0x15ff7c(0x31b)];_0x4cbbf4===_0x48ae22[_0x15ff7c(0x28b)]&&(_0x48ae22[_0x15ff7c(0x3b6)](_0x48ae22[_0x15ff7c(0x23d)],_0x15ff7c(0x299))?(_0xa3244f(_0x301270['statusCode'])['to']['eq'](0x190),_0x48ae22[_0x15ff7c(0x2b2)](_0x2be2d4,_0x480c34[_0x15ff7c(0x28e)]['message'])['to']['eq'](_0x481e44)):(cy[_0x15ff7c(0x226)](_0x15ff7c(0x2eb)),H[_0x15ff7c(0x17e)]({'display_value':ORDERS[_0x15ff7c(0x25c)],'name':_0x48ae22['FPLjk'],'fk':PRODUCTS[_0x15ff7c(0x22c)]}))),cy[_0x15ff7c(0x349)]({'table_id':ORDERS_ID,'attribute_remappings':{'attr_uid':[_0x15ff7c(0x333),[_0x48ae22[_0x15ff7c(0x32e)],ORDERS[_0x15ff7c(0x304)],null]]}}),cy[_0x15ff7c(0x349)]({'table_id':PRODUCTS_ID,'attribute_remappings':{'attr_cat':[_0x48ae22[_0x15ff7c(0x17f)],[_0x48ae22[_0x15ff7c(0x32e)],PRODUCTS[_0x15ff7c(0x1cd)],null]]}}),H['createQuestion']({'name':_0x192edf,'query':{'aggregation':[[_0x48ae22[_0x15ff7c(0x31f)]]],'breakout':[[_0x48ae22[_0x15ff7c(0x32e)],PRODUCTS[_0x15ff7c(0x1cd)],{'join-alias':_0x2b3a2b}]],'joins':[{'fields':'all','source-table':PRODUCTS_ID,'condition':['=',[_0x15ff7c(0x18a),ORDERS[_0x15ff7c(0x25c)],null],['field',PRODUCTS['ID'],{'join-alias':_0x2b3a2b}]],'alias':_0x2b3a2b}],'source-table':ORDERS_ID},'display':_0x15ff7c(0x3bc)}),cy[_0x15ff7c(0x220)](),cy[_0x15ff7c(0x37e)](),cy[_0x15ff7c(0x306)](_0x15ff7c(0x2d8),_0x48ae22['kaFlG'])['as'](_0x48ae22[_0x15ff7c(0x2a9)]),cy[_0x15ff7c(0x306)](_0x48ae22['jpZBJ'],_0x48ae22[_0x15ff7c(0x1dc)])['as']('dataset'),cy[_0x15ff7c(0x17a)](_0x48ae22['QVueP']),cy['findByText'](_0x192edf)[_0x15ff7c(0x3aa)](),cy['wait'](_0x48ae22['pcOyy']),H[_0x15ff7c(0x212)](0x2),H['assertDatasetReqIsSandboxed']({'requestAlias':'@cardQuery'}),cy['findByTestId'](_0x48ae22['iFFXk'])['within'](()=>{const _0x1219a0=_0x15ff7c;H[_0x1219a0(0x186)](_0x1219a0(0x199))['eq'](0x1)[_0x1219a0(0x3aa)]();}),cy[_0x15ff7c(0x2e4)](_0x15ff7c(0x31a))[_0x15ff7c(0x3aa)](),cy[_0x15ff7c(0x358)](_0x48ae22[_0x15ff7c(0x1d2)])['then'](_0x17ba68=>{const _0x7bfc60=_0x15ff7c;expect(_0x17ba68['response'][_0x7bfc60(0x28e)]['error'])[_0x7bfc60(0x341)]['to'][_0x7bfc60(0x261)];}),cy[_0x15ff7c(0x3ea)](_0x15ff7c(0x1f6)),H[_0x15ff7c(0x212)](0x6),H['assertDatasetReqIsSandboxed']({'requestAlias':_0x48ae22[_0x15ff7c(0x1d2)]});});else{const _0x372e9d={'jFlUN':_0x48ae22[_0x4a0a94(0x3f7)],'jgykU':function(_0x700fc9,_0x33f248){return _0x48ae22['bAIaB'](_0x700fc9,_0x33f248);}};_0x497d0b(_0x48ae22[_0x4a0a94(0x3dc)],()=>{const _0x433eb8=_0x4a0a94;_0x16cbb3['openOrdersTable'](),_0x4580da[_0x433eb8(0x1c4)](_0x19f3e0)['should'](_0x372e9d[_0x433eb8(0x265)],0xa),_0x5a08d8[_0x433eb8(0x260)]({'columnId':_0x6e2ac6[_0x433eb8(0x304)],'columnAssertion':_0x372e9d[_0x433eb8(0x23e)](_0x5c9e56,_0x230e6b)});});}}),_0x57c1ce['XvsvY'](it,_0x57c1ce[_0x412f5a(0x20f)],()=>{const _0x51fbd1=_0x412f5a;if(_0x57c1ce[_0x51fbd1(0x3ca)]!==_0x57c1ce[_0x51fbd1(0x1cb)]){const _0x68ab6a=_0x51fbd1(0x3c1),_0x30fd9f='Sandbox\x20Questions\x20can\x27t\x20return\x20columns\x20that\x20have\x20different\x20types\x20than\x20the\x20Table\x20they\x20are\x20sandboxing.';cy[_0x51fbd1(0x306)](_0x51fbd1(0x2d8),_0x51fbd1(0x190))['as'](_0x51fbd1(0x349)),cy[_0x51fbd1(0x306)](_0x57c1ce[_0x51fbd1(0x1df)],_0x57c1ce[_0x51fbd1(0x375)])['as']('tablePermissions'),H['createNativeQuestion']({'name':_0x68ab6a,'native':{'query':_0x57c1ce[_0x51fbd1(0x1f3)]}}),cy[_0x51fbd1(0x17a)](_0x51fbd1(0x1d4)+SAMPLE_DB_ID+_0x51fbd1(0x328)+ORDERS_ID),cy[_0x51fbd1(0x358)](_0x51fbd1(0x223)),cy[_0x51fbd1(0x250)](_0x51fbd1(0x3e4))['eq'](0x1)[_0x51fbd1(0x3aa)](),H[_0x51fbd1(0x274)]()[_0x51fbd1(0x2e4)](_0x57c1ce[_0x51fbd1(0x24f)])[_0x51fbd1(0x3aa)](),cy[_0x51fbd1(0x205)](_0x57c1ce[_0x51fbd1(0x1a2)])[_0x51fbd1(0x3aa)](),H['modal']()['findByText'](_0x57c1ce['NaZzY'])[_0x51fbd1(0x3aa)](),H[_0x51fbd1(0x35a)]()[_0x51fbd1(0x2e4)](_0x57c1ce[_0x51fbd1(0x3c2)])[_0x51fbd1(0x3aa)](),H[_0x51fbd1(0x376)]()[_0x51fbd1(0x2e4)](_0x68ab6a)[_0x51fbd1(0x3aa)](),H['modal']()[_0x51fbd1(0x205)](_0x51fbd1(0x38d))['click'](),cy[_0x51fbd1(0x358)](_0x57c1ce[_0x51fbd1(0x37d)])['then'](({response:_0xc3ce44})=>{const _0x3765dc=_0x51fbd1;expect(_0xc3ce44['statusCode'])['to']['eq'](0x190),_0x52398f[_0x3765dc(0x310)](expect,_0xc3ce44[_0x3765dc(0x28e)][_0x3765dc(0x34d)])['to']['eq'](_0x30fd9f);}),H['modal']()[_0x51fbd1(0x3c0)](_0x51fbd1(0x395)),H[_0x51fbd1(0x35a)]()[_0x51fbd1(0x2e4)](_0x30fd9f);}else _0x51ae81[_0x51fbd1(0x38e)](),_0x539c7d[_0x51fbd1(0x260)]({'columnId':_0x392ee5['ID'],'columnAssertion':_0x21c48c(_0x1c5962)}),_0xcc3045[_0x51fbd1(0x19f)](_0x52398f[_0x51fbd1(0x23b)])[_0x51fbd1(0x1ca)](_0x51fbd1(0x187),0x4),_0x4379f0[_0x51fbd1(0x1b4)](_0x51fbd1(0x316))[_0x51fbd1(0x1ca)](_0x51fbd1(0x187),0x1);}),it(_0x57c1ce['WMTMF'],()=>{const _0x115225=_0x412f5a,_0xa01cb5='0|3|4|7|1|2|5|6|8'['split']('|');let _0x344590=0x0;while(!![]){switch(_0xa01cb5[_0x344590++]){case'0':_0x57c1ce['PJOSl'](createJoinedQuestion,_0x57c1ce[_0x115225(0x18f)]);continue;case'1':cy[_0x115225(0x2e4)](_0x57c1ce[_0x115225(0x384)])[_0x115225(0x3aa)]();continue;case'2':cy[_0x115225(0x2e4)](_0x57c1ce[_0x115225(0x203)])['click']();continue;case'3':H[_0x115225(0x36a)]();continue;case'4':H[_0x115225(0x376)]()['within'](()=>{const _0x19cd14=_0x115225;H[_0x19cd14(0x1f1)](_0x52398f[_0x19cd14(0x3f4)])[_0x19cd14(0x3aa)](),cy[_0x19cd14(0x2e4)](_0x19cd14(0x30f))[_0x19cd14(0x3aa)]();});continue;case'5':cy[_0x115225(0x2e4)](/Products? → ID/)['click']();continue;case'6':H[_0x115225(0x24e)](_0xf7f5c1=>{const _0x4f5b3d=_0x115225;expect(_0xf7f5c1[_0x4f5b3d(0x28e)][_0x4f5b3d(0x2f6)])['to']['not'][_0x4f5b3d(0x261)];});continue;case'7':cy[_0x115225(0x2e4)]('Pick\x20a\x20function\x20or\x20metric')[_0x115225(0x3aa)]();continue;case'8':cy[_0x115225(0x1c4)]('93');continue;}break;}}),_0x57c1ce[_0x412f5a(0x2b0)](it,_0x57c1ce[_0x412f5a(0x32f)],()=>{const _0x4fbeae=_0x412f5a,_0x58b067=_0x57c1ce[_0x4fbeae(0x258)][_0x4fbeae(0x3b5)]('|');let _0x3f35e6=0x0;while(!![]){switch(_0x58b067[_0x3f35e6++]){case'0':cy[_0x4fbeae(0x205)](_0x57c1ce[_0x4fbeae(0x1bd)])[_0x4fbeae(0x3aa)]();continue;case'1':cy['contains'](_0x57c1ce[_0x4fbeae(0x26f)])[_0x4fbeae(0x1ca)](_0x4fbeae(0x1cc));continue;case'2':cy['sandboxTable']({'table_id':ORDERS_ID,'attribute_remappings':{'attr_uid':[_0x4fbeae(0x333),['field-id',ORDERS[_0x4fbeae(0x304)]]]}});continue;case'3':H[_0x4fbeae(0x260)]({'requestAlias':'@cardQuery','columnId':ORDERS[_0x4fbeae(0x304)],'columnAssertion':_0x57c1ce['nIAbU'](Number,USERS[_0x4fbeae(0x20d)][_0x4fbeae(0x1d3)]['attr_uid'])});continue;case'4':createJoinedQuestion(_0x4fbeae(0x381),{'visitQuestion':!![]});continue;case'5':cy[_0x4fbeae(0x37e)]();continue;case'6':cy[_0x4fbeae(0x220)]();continue;case'7':H[_0x4fbeae(0x179)]();continue;case'8':cy[_0x4fbeae(0x390)]('sidebar-left')[_0x4fbeae(0x1ca)](_0x57c1ce['TSxlm'])[_0x4fbeae(0x317)](()=>{const _0xba5187=_0x4fbeae;cy[_0xba5187(0x390)](_0xba5187(0x200))['icon']('eye_outline')['click']({'force':!![]});});continue;case'9':cy[_0x4fbeae(0x306)](_0x4fbeae(0x2d8),_0x57c1ce['PzIkm'])['as'](_0x57c1ce[_0x4fbeae(0x235)]);continue;case'10':H[_0x4fbeae(0x212)](0xb);continue;case'11':cy['sandboxTable']({'table_id':PRODUCTS_ID,'attribute_remappings':{'attr_cat':[_0x57c1ce[_0x4fbeae(0x27e)],[_0x4fbeae(0x18a),PRODUCTS[_0x4fbeae(0x1cd)],null]]}});continue;case'12':cy[_0x4fbeae(0x3ea)](_0x57c1ce['UfZBi'])[_0x4fbeae(0x1ca)](_0x57c1ce[_0x4fbeae(0x394)]);continue;}break;}}),_0x57c1ce[_0x412f5a(0x2b0)](it,_0x57c1ce[_0x412f5a(0x374)],()=>{const _0x41d3a5=_0x412f5a,_0x417fbe={'NJriq':_0x52398f[_0x41d3a5(0x178)],'qIyNj':_0x41d3a5(0x3f5),'qwJFi':_0x52398f[_0x41d3a5(0x277)],'XwKuo':'POST','nvDBB':_0x41d3a5(0x194),'ojHTT':_0x52398f[_0x41d3a5(0x2fe)],'MeQri':_0x41d3a5(0x2de),'amvKt':_0x41d3a5(0x1c5),'PMHnQ':_0x41d3a5(0x17d),'xsNYL':function(_0x348e72,_0x216691){return _0x348e72(_0x216691);},'bsDAf':function(_0x30e90d,_0x100e91){const _0x28b971=_0x41d3a5;return _0x52398f[_0x28b971(0x21b)](_0x30e90d,_0x100e91);}};cy['sandboxTable']({'table_id':ORDERS_ID,'attribute_remappings':{'attr_uid':[_0x52398f[_0x41d3a5(0x30d)],[_0x52398f[_0x41d3a5(0x1c2)],ORDERS[_0x41d3a5(0x304)]]]}}),cy['sandboxTable']({'table_id':PEOPLE_ID,'attribute_remappings':{'attr_uid':[_0x41d3a5(0x333),['field-id',PEOPLE['ID']]]}}),cy[_0x41d3a5(0x349)]({'table_id':PRODUCTS_ID,'attribute_remappings':{'attr_cat':[_0x41d3a5(0x333),[_0x41d3a5(0x2ff),PRODUCTS[_0x41d3a5(0x1cd)]]]}}),cy[_0x41d3a5(0x180)](_0x41d3a5(0x2d8),'/api/card/',{'name':'14969','dataset_query':{'type':_0x41d3a5(0x206),'query':{'source-table':ORDERS_ID,'joins':[{'fields':_0x52398f[_0x41d3a5(0x224)],'source-table':PEOPLE_ID,'condition':['=',[_0x52398f[_0x41d3a5(0x1c2)],ORDERS[_0x41d3a5(0x304)]],[_0x52398f[_0x41d3a5(0x1c8)],_0x52398f[_0x41d3a5(0x23c)],[_0x41d3a5(0x2ff),PEOPLE['ID']]]],'alias':_0x52398f[_0x41d3a5(0x23c)]}],'aggregation':[[_0x52398f['khhuh'],[_0x52398f[_0x41d3a5(0x1c2)],ORDERS[_0x41d3a5(0x31c)]]]],'breakout':[['joined-field',_0x41d3a5(0x29e),[_0x52398f[_0x41d3a5(0x1c2)],PEOPLE[_0x41d3a5(0x1aa)]]],[_0x52398f['TPcCq'],[_0x41d3a5(0x2ff),ORDERS['PRODUCT_ID']],[_0x52398f['Mzyei'],PRODUCTS[_0x41d3a5(0x1cd)]]]]},'database':SAMPLE_DB_ID},'display':_0x52398f[_0x41d3a5(0x183)],'visualization_settings':{}})[_0x41d3a5(0x3cb)](({body:{id:_0x5529aa}})=>{const _0x2c5541=_0x41d3a5;if(_0x417fbe[_0x2c5541(0x3c9)](_0x2c5541(0x38f),_0x2c5541(0x38f))){const _0x6f8991=_0x2c5541(0x1a9);_0xa9e0fa===_0x2c5541(0x17b)&&(_0x310f41['log'](_0x2c5541(0x2eb)),_0x57cfed[_0x2c5541(0x17e)]({'display_value':_0x22d121[_0x2c5541(0x25c)],'name':_0x2c5541(0x3ac),'fk':_0xe61480[_0x2c5541(0x22c)]})),_0x3b90df['updatePermissionsGraph']({[_0x47b14a]:{[_0xcaa2a0]:{'view-data':{'PUBLIC':{[_0x5781a6]:_0x2c5541(0x240)}},'create-queries':{'PUBLIC':{[_0x2d1833]:'query-builder'}}}}}),_0x272ee0['sandboxTable']({'table_id':_0xff80ec,'attribute_remappings':{'attr_uid':[_0x2c5541(0x333),[_0x2c5541(0x18a),_0x5def54[_0x2c5541(0x304)],null]]}}),_0x4f137b[_0x2c5541(0x226)](_0x417fbe['NJriq']),_0x5674cb[_0x2c5541(0x192)]({'name':_0x6f8991,'query':{'aggregation':[[_0x417fbe['qIyNj']]],'breakout':[[_0x417fbe[_0x2c5541(0x397)],_0x1021f0['CATEGORY'],{'source-field':_0x4097a7['PRODUCT_ID']}]],'source-table':_0x261d07},'display':_0x2c5541(0x3bc)}),_0x360867[_0x2c5541(0x220)](),_0x26572b[_0x2c5541(0x37e)](),_0x3107fe['intercept'](_0x417fbe['XwKuo'],_0x2c5541(0x35e))['as'](_0x417fbe[_0x2c5541(0x25f)]),_0x1a0d16[_0x2c5541(0x306)](_0x417fbe['XwKuo'],_0x2c5541(0x266))['as'](_0x2c5541(0x39e)),_0x55d860[_0x2c5541(0x17a)](_0x417fbe['ojHTT']),_0x272817[_0x2c5541(0x2e4)](_0x6f8991)[_0x2c5541(0x3aa)](),_0x13c81c[_0x2c5541(0x358)](_0x417fbe[_0x2c5541(0x392)]),_0x546a92[_0x2c5541(0x390)](_0x417fbe[_0x2c5541(0x335)])[_0x2c5541(0x317)](()=>{const _0x52ee89=_0x2c5541;_0x370de0[_0x52ee89(0x186)](_0x52ee89(0x199))['eq'](0x0)['click']();}),_0x4061c0['findByText'](_0x2c5541(0x31a))[_0x2c5541(0x3aa)](),_0x4246c6[_0x2c5541(0x226)](_0x2c5541(0x1da)),_0x21511e[_0x2c5541(0x358)](_0x2c5541(0x39c))[_0x2c5541(0x3cb)](_0x22cf23=>{const _0x41a87a=_0x2c5541;_0x58c35d(_0x22cf23[_0x41a87a(0x27f)]['body'][_0x41a87a(0x2f6)])[_0x41a87a(0x341)]['to']['exist'];}),_0x240319[_0x2c5541(0x2e4)](_0x417fbe[_0x2c5541(0x2b8)]),_0xf13582[_0x2c5541(0x2e4)]('97.44'),_0x1a9167[_0x2c5541(0x212)](0x2),_0x130f93['assertDatasetReqIsSandboxed']({'columnId':_0x37a039[_0x2c5541(0x304)],'columnAssertion':_0x417fbe[_0x2c5541(0x21a)](_0x2b316b,_0x2cf95e['sandboxed'][_0x2c5541(0x1d3)][_0x2c5541(0x3d7)])});}else cy[_0x2c5541(0x220)](),cy[_0x2c5541(0x37e)](),H[_0x2c5541(0x1a5)](_0x5529aa),H[_0x2c5541(0x260)]({'requestAlias':_0x2c5541(0x2de)+_0x5529aa});}),cy[_0x41d3a5(0x2e4)](_0x41d3a5(0x3e2)),cy[_0x41d3a5(0x2e4)](_0x41d3a5(0x2bf)),H[_0x41d3a5(0x212)](0x6);}),it('should\x20show\x20dashboard\x20subscriptions\x20for\x20sandboxed\x20user\x20(metabase#14990)',()=>{const _0x2d549d=_0x412f5a,_0x21927c={'GRVJP':function(_0x788bac,_0x3f3494){const _0x2a01bc=_0x1aaa;return _0x57c1ce[_0x2a01bc(0x1a3)](_0x788bac,_0x3f3494);},'JoQRb':_0x57c1ce['DHSMC'],'BTEcu':_0x57c1ce['AMpTt']};H['setupSMTP'](),cy[_0x2d549d(0x349)]({'table_id':ORDERS_ID,'attribute_remappings':{'attr_uid':[_0x57c1ce[_0x2d549d(0x27e)],[_0x57c1ce[_0x2d549d(0x359)],ORDERS[_0x2d549d(0x304)]]]}}),cy[_0x2d549d(0x37e)](),H[_0x2d549d(0x281)](ORDERS_DASHBOARD_ID),H[_0x2d549d(0x1fd)](_0x2d549d(0x3bb)),H['sidebar']()[_0x2d549d(0x2e4)](_0x57c1ce[_0x2d549d(0x2c3)])['should'](_0x2d549d(0x261)),H[_0x2d549d(0x315)]()[_0x2d549d(0x317)](()=>{const _0x16d4ef=_0x2d549d;_0x21927c[_0x16d4ef(0x2a2)](_0x21927c['JoQRb'],_0x21927c[_0x16d4ef(0x2d6)])?H[_0x16d4ef(0x2c8)](0xb):_0x209cff([_0x16d4ef(0x333),['field',_0x1ab32c[_0x16d4ef(0x1cd)],null]]);}),H[_0x2d549d(0x260)]({'requestAlias':_0x2d549d(0x300)+ORDERS_DASHBOARD_DASHCARD_ID,'columnId':ORDERS['USER_ID'],'columnAssertion':Number(USERS['sandboxed'][_0x2d549d(0x1d3)][_0x2d549d(0x3d7)])});}),it(_0x57c1ce['ZZGgN'],()=>{const _0x4ab3ff=_0x412f5a;cy[_0x4ab3ff(0x349)]({'table_id':ORDERS_ID,'attribute_remappings':{'attr_uid':[_0x57c1ce[_0x4ab3ff(0x27e)],[_0x57c1ce['Kiyvx'],['field-id',ORDERS[_0x4ab3ff(0x304)]],[_0x57c1ce[_0x4ab3ff(0x359)],PEOPLE['ID']]]]}}),cy['signOut'](),cy[_0x4ab3ff(0x37e)](),H['openOrdersTable']({'callback':_0x1c23fa=>expect(_0x1c23fa[_0x4ab3ff(0x27f)][_0x4ab3ff(0x28e)][_0x4ab3ff(0x2f6)])[_0x4ab3ff(0x341)]['to'][_0x4ab3ff(0x261)]}),cy[_0x4ab3ff(0x3ea)](_0x57c1ce[_0x4ab3ff(0x1ad)]);}),it(_0x57c1ce[_0x412f5a(0x3ed)],()=>{const _0x4bd902=_0x412f5a;H[_0x4bd902(0x17e)]({'display_value':ORDERS[_0x4bd902(0x304)],'name':_0x57c1ce['FjGfF'],'fk':PEOPLE['NAME']}),cy[_0x4bd902(0x180)]('PUT','/api/field/'+REVIEWS['PRODUCT_ID'],{'table_id':REVIEWS_ID,'special_type':_0x4bd902(0x1b5),'name':_0x4bd902(0x25c),'fk_target_field_id':ORDERS['ID'],'display_name':_0x4bd902(0x3ac)}),cy[_0x4bd902(0x349)]({'table_id':ORDERS_ID,'attribute_remappings':{'attr_uid':[_0x57c1ce[_0x4bd902(0x27e)],[_0x57c1ce[_0x4bd902(0x359)],ORDERS[_0x4bd902(0x304)]]]}}),cy[_0x4bd902(0x349)]({'table_id':PEOPLE_ID,'attribute_remappings':{'attr_uid':[_0x57c1ce[_0x4bd902(0x27e)],[_0x57c1ce[_0x4bd902(0x359)],PEOPLE['ID']]]}}),cy['sandboxTable']({'table_id':REVIEWS_ID,'attribute_remappings':{'attr_uid':[_0x4bd902(0x333),[_0x4bd902(0x26e),[_0x4bd902(0x2ff),REVIEWS[_0x4bd902(0x25c)]],[_0x57c1ce[_0x4bd902(0x359)],ORDERS[_0x4bd902(0x304)]]]]}}),cy['signOut'](),cy['signInAsSandboxedUser'](),H[_0x4bd902(0x218)]({'callback':_0xbe085e=>expect(_0xbe085e['response'][_0x4bd902(0x28e)][_0x4bd902(0x2f6)])['not']['to']['exist']}),H['assertQueryBuilderRowCount'](0x39),H[_0x4bd902(0x260)]();}),it(_0x57c1ce['NxQNL'],{'tags':'@external'},()=>{const _0x5adb6b=_0x412f5a;H[_0x5adb6b(0x2e1)](),cy[_0x5adb6b(0x349)]({'table_id':ORDERS_ID,'attribute_remappings':{'attr_uid':['dimension',[_0x57c1ce[_0x5adb6b(0x35c)],ORDERS[_0x5adb6b(0x304)],null]]}}),cy[_0x5adb6b(0x220)](),cy[_0x5adb6b(0x37e)](),H[_0x5adb6b(0x281)](ORDERS_DASHBOARD_ID),H['getDashboardCard']()[_0x5adb6b(0x317)](()=>{const _0x4bddaf=_0x5adb6b;H[_0x4bddaf(0x2c8)](0xb);}),H[_0x5adb6b(0x260)]({'requestAlias':_0x5adb6b(0x300)+ORDERS_DASHBOARD_DASHCARD_ID,'columnId':ORDERS['USER_ID'],'columnAssertion':Number(USERS[_0x5adb6b(0x20d)][_0x5adb6b(0x1d3)][_0x5adb6b(0x3d7)])}),H[_0x5adb6b(0x1fd)](_0x57c1ce[_0x5adb6b(0x19e)]),H[_0x5adb6b(0x3ae)]()[_0x5adb6b(0x3be)](_0x57c1ce[_0x5adb6b(0x1d7)])[_0x5adb6b(0x3aa)](),H[_0x5adb6b(0x274)]()[_0x5adb6b(0x2e4)](_0x57c1ce[_0x5adb6b(0x29d)])['click'](),H[_0x5adb6b(0x3e0)](_0x1fb36f=>{const _0x300286=_0x5adb6b;expect(_0x1fb36f['html'])['to'][_0x300286(0x2ea)](_0x52398f['dayBp']),_0x52398f[_0x300286(0x1ba)](expect,_0x1fb36f[_0x300286(0x3fb)])['to']['include'](_0x52398f[_0x300286(0x1ef)]),_0x52398f[_0x300286(0x2f9)](expect,_0x1fb36f[_0x300286(0x3fb)])[_0x300286(0x341)]['to'][_0x300286(0x2ea)](_0x52398f[_0x300286(0x2cf)]);});}),describe(_0x412f5a(0x2fc),()=>{const _0x2e264a=_0x412f5a,_0x4d5f80={'pdQyT':_0x57c1ce[_0x2e264a(0x294)],'kTGUb':_0x57c1ce[_0x2e264a(0x3e1)],'kKJsd':function(_0x35e1db,_0x159789){return _0x35e1db!==_0x159789;},'MBblI':_0x57c1ce[_0x2e264a(0x37f)],'WyzOw':_0x2e264a(0x21e),'OUpzY':_0x2e264a(0x2dd),'bNiBK':_0x2e264a(0x25b),'GyULr':_0x57c1ce['syRmk'],'KmxnJ':'true','JeJwg':function(_0xd5bad7,_0x1825df){return _0xd5bad7(_0x1825df);},'mTYxq':_0x2e264a(0x29f),'LrEGD':function(_0x3043d9,_0x3ddc87){const _0x1d3e8c=_0x2e264a;return _0x57c1ce[_0x1d3e8c(0x271)](_0x3043d9,_0x3ddc87);},'qCzzM':_0x57c1ce[_0x2e264a(0x27e)],'ocsGa':_0x57c1ce[_0x2e264a(0x35c)],'ZHrdo':'type/Text'};function _0x3c839f(_0x5ad0d9){const _0x25a9d5=_0x2e264a,_0x2fea02={'oRafv':_0x4d5f80['pdQyT'],'xceNE':_0x4d5f80[_0x25a9d5(0x3a4)]};if(_0x4d5f80[_0x25a9d5(0x2c4)](_0x4d5f80['MBblI'],_0x4d5f80[_0x25a9d5(0x291)]))cy[_0x25a9d5(0x349)]({'table_id':PRODUCTS_ID,'group_id':DATA_GROUP,'attribute_remappings':{'attr_cat':_0x5ad0d9}}),cy['visit']('/admin/permissions/data/database/'+SAMPLE_DB_ID+_0x25a9d5(0x328)+PRODUCTS_ID),H[_0x25a9d5(0x318)](_0x4d5f80[_0x25a9d5(0x242)],VIEW_DATA_PERMISSION_INDEX),H[_0x25a9d5(0x274)]()['findByText'](_0x25a9d5(0x3c8))[_0x25a9d5(0x3aa)](),H[_0x25a9d5(0x35a)]()[_0x25a9d5(0x19f)]('select-button')[_0x25a9d5(0x3ea)](_0x4d5f80['bNiBK'])[_0x25a9d5(0x3aa)](),H[_0x25a9d5(0x274)]()[_0x25a9d5(0x31e)](_0x25a9d5(0x25b))[_0x25a9d5(0x1ca)](_0x25a9d5(0x262),_0x4d5f80['GyULr'],_0x4d5f80[_0x25a9d5(0x19c)]);else return _0x26d878[_0x25a9d5(0x192)]({'name':_0x4cc6d7,'query':{'source-table':_0x587fe8,'joins':[{'fields':_0x2fea02[_0x25a9d5(0x24c)],'source-table':_0xcd8465,'condition':['=',[_0x25a9d5(0x18a),_0x5afa14['PRODUCT_ID'],null],[_0x25a9d5(0x18a),_0x167faa['ID'],{'join-alias':_0x25a9d5(0x2ac)}]],'alias':_0x2fea02['xceNE']}]}},{'wrapId':!![],'visitQuestion':_0x1432a7});}it(_0x57c1ce[_0x2e264a(0x24a)],()=>{const _0x76e6ae=_0x2e264a,_0x5023eb={'Yqqky':_0x76e6ae(0x1bb),'USPDh':function(_0x422aae,_0x21d848){const _0x30d932=_0x76e6ae;return _0x4d5f80[_0x30d932(0x215)](_0x422aae,_0x21d848);},'YKJlS':'14766_joined'};if(_0x4d5f80['kKJsd'](_0x4d5f80[_0x76e6ae(0x3fa)],_0x76e6ae(0x29f))){const _0x4a642e=_0x76e6ae(0x280)[_0x76e6ae(0x3b5)]('|');let _0xd6de2c=0x0;while(!![]){switch(_0x4a642e[_0xd6de2c++]){case'0':_0x50bc23[_0x76e6ae(0x2e4)](_0x5023eb[_0x76e6ae(0x3d8)])[_0x76e6ae(0x3aa)]();continue;case'1':_0x5023eb[_0x76e6ae(0x3a8)](_0x397f48,_0x5023eb['YKJlS']);continue;case'2':_0x46e36d['findByText'](/Products? → ID/)[_0x76e6ae(0x3aa)]();continue;case'3':_0x4e2385[_0x76e6ae(0x2e4)](_0x76e6ae(0x193))[_0x76e6ae(0x3aa)]();continue;case'4':_0x250ab1[_0x76e6ae(0x1c4)]('93');continue;case'5':_0x33774a[_0x76e6ae(0x36a)]();continue;case'6':_0x2e7f32[_0x76e6ae(0x2e4)](_0x76e6ae(0x1e7))[_0x76e6ae(0x3aa)]();continue;case'7':_0x187fc8['visualize'](_0x5da5dc=>{const _0x201a3d=_0x76e6ae;_0x75bd70(_0x5da5dc[_0x201a3d(0x28e)][_0x201a3d(0x2f6)])['to'][_0x201a3d(0x341)]['exist'];});continue;case'8':_0x2030cc[_0x76e6ae(0x376)]()[_0x76e6ae(0x317)](()=>{const _0x2b25e9=_0x76e6ae;_0x59de29[_0x2b25e9(0x1f1)](_0x2b25e9(0x230))[_0x2b25e9(0x3aa)](),_0x1eaa1d['findByText'](_0x2b25e9(0x30f))[_0x2b25e9(0x3aa)]();});continue;}break;}}else _0x4d5f80[_0x76e6ae(0x288)](_0x3c839f,[_0x4d5f80[_0x76e6ae(0x338)],[_0x76e6ae(0x18a),PRODUCTS[_0x76e6ae(0x1cd)],null]]);}),it(_0x57c1ce['DZFpY'],()=>{const _0x4533a6=_0x2e264a,_0x484d6f={'QcTnH':'dimension','ijsfZ':_0x4d5f80[_0x4533a6(0x343)]};_0x4533a6(0x259)==='eESlK'?_0x4d7dbb['sandboxTable']({'table_id':_0x5344ec,'card_id':_0x39181e,'attribute_remappings':{'attr_uid':[_0x484d6f[_0x4533a6(0x2e2)],[_0x484d6f[_0x4533a6(0x2a7)],_0x1881b3[_0x4533a6(0x304)],null]]}}):_0x3c839f([_0x4533a6(0x333),[_0x4533a6(0x18a),PRODUCTS[_0x4533a6(0x1cd)],null],{'stage-number':0x0}]);}),it('should\x20match\x20targets\x20with\x20field\x20ref\x20options',()=>{const _0x701dfa=_0x2e264a;_0x3c839f([_0x4d5f80[_0x701dfa(0x338)],[_0x4d5f80[_0x701dfa(0x343)],PRODUCTS[_0x701dfa(0x1cd)],{'base-type':_0x4d5f80[_0x701dfa(0x3e6)]}],{'stage-number':0x0}]);});});});});function createJoinedQuestion(_0x390df0,{visitQuestion:visitQuestion=![]}={}){const _0x3b6004=_0x301254,_0x27011c={'zpOhE':'all','HCxCJ':_0x3b6004(0x18a),'Zisoo':_0x3b6004(0x2ac)};return H[_0x3b6004(0x192)]({'name':_0x390df0,'query':{'source-table':ORDERS_ID,'joins':[{'fields':_0x27011c['zpOhE'],'source-table':PRODUCTS_ID,'condition':['=',[_0x3b6004(0x18a),ORDERS[_0x3b6004(0x25c)],null],[_0x27011c[_0x3b6004(0x2fb)],PRODUCTS['ID'],{'join-alias':_0x27011c[_0x3b6004(0x3d0)]}]],'alias':_0x3b6004(0x2ac)}]}},{'wrapId':!![],'visitQuestion':visitQuestion});}function preparePermissions(){const _0x112022=_0x301254;H['blockUserGroupPermissions'](USER_GROUPS['ALL_USERS_GROUP']),H['blockUserGroupPermissions'](USER_GROUPS[_0x112022(0x2ee)]),H[_0x112022(0x2b1)](USER_GROUPS[_0x112022(0x2f4)]);}