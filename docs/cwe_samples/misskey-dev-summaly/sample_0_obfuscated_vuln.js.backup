function _0x3bd7(){const _0x4e3f1f=['SmFss','revert','Showing\x2042\x20rows','10,','EdOTJ','Showing\x2051\x20rows','restore','cmWdT','category','getSaveQueryButton','nzplL','People','11790304hxcBiF','Rustic\x20Paper\x20Wallet','type','variable','11LduEqD','dzFgt','XWECF','be.disabled','FbUBV','when\x20there\x27s\x20a\x20default\x20value,\x20enabling\x20required\x20sets\x20it\x20as\x20a\x20parameter\x20value','ESfwI','rSOiY','String','button','LDYqr','log','run-button','Field\x20Filter','Category','mWmjp','within','Address','2610oozJvo','hTfac','table','should\x20let\x20you\x20change\x20the\x20field\x20filter\x20type\x20to\x20something\x20else\x20and\x20restore\x20the\x20filter\x20widget\x20(metabase#13825)','TiTPL','yFiHx','WyFWH','query-visualization-root','fieldValuesCombobox','3066eMcGbg','removeFieldValuesValue','parent','efVJF','Hudson\x20Borer','bNlRS','filterWidget','Enter\x20a\x20default\x20value…','createNativeQuestion','Doohickey','should\x20be\x20runnable\x20with\x20the\x20None\x20filter\x20being\x20ignored\x20(metabase#20643)','click','ooUcX','Longitude','first','Gizmo','should','12puUNuV','icon','Add\x20filter','AhacY','addWidgetStringFilter','uMVhR','getRunQueryButton','rYbnK','runQuery','IhzKI','qb-header','WBneY','setWidgetType','does\x20not\x20need\x20a\x20default\x20value\x20to\x20run\x20and\x20save\x20the\x20query','should\x20work\x20when\x20set\x20initially\x20as\x20default\x20value\x20and\x20then\x20through\x20the\x20filter\x20widget','have.text','None','findByText','dcWQd','VFnFb','AOBer','HzWMW','clearFilterWidget','not.have.attr','dbNQR','popover','chooseType','find','wSAGs','FPAgZ','@dataset','split','Products','NBRti','disabled','addDefaultStringFilter','YJqen','1105DGyuXn','qIEei','ezurC','findByTestId','api/dataset','filter-widget-type-select','mapTo','ptOrZ','GGgtK','jhYdW','openTypePickerFromDefaultFilterType','field-set-content','select\x20*\x20from\x20products\x20where\x20{{category}}','Small\x20Marble\x20Shoes','have.value','abc123','scenarios\x20>\x20filters\x20>\x20sql\x20filters\x20>\x20field\x20filter','gNHwK','should\x20work\x20despite\x20it\x20not\x20showing\x20up\x20in\x20the\x20widget\x20type\x20list','openEntryForm','findAllByTestId','Open\x20Editor','VJELb','zbPhW','toggleRequired','signInAsAdmin','PzRhJ','the\x20default\x20value\x20should\x20not\x20apply\x20when\x20the\x20value\x20is\x20cleared','3|6|0|5|4|2|1','rCjxT','Exbon','NdCxN','enterParameterizedQuery','POST','not.be.disabled','String\x20contains','startNewNativeQuestion','GYqoc','32316552qLbMCa','1564036PPPuXj','423yEuGbX','qUBWf','SELECT\x20*\x20FROM\x20people\x20WHERE\x20{{filter}}','3|2|4|1|0|5','Filter\x20widget\x20type','hwFgI','Ozxmg','qiwRH','Mhtmd','cBonG','1962veelww','dimension','OmxNK','13594042yINuOe','2810jbBBar','0|4|5|6|3|1|2','when\x20there\x27s\x20a\x20default\x20value\x20and\x20template\x20tag\x20is\x20required,\x20can\x20reset\x20it\x20back','dataset','Update\x20filter','HGGcl','sidebar-content','XOGHz'];_0x3bd7=function(){return _0x4e3f1f;};return _0x3bd7();}const _0x299a60=_0x5234;(function(_0x279916,_0x242bb7){const _0x4fdeae=_0x5234,_0x371afe=_0x279916();while(!![]){try{const _0x4f7ed5=-parseInt(_0x4fdeae(0xc7))/0x1*(parseInt(_0x4fdeae(0xff))/0x2)+parseInt(_0x4fdeae(0x7a))/0x3*(-parseInt(_0x4fdeae(0xc6))/0x4)+-parseInt(_0x4fdeae(0x9f))/0x5*(parseInt(_0x4fdeae(0x108))/0x6)+parseInt(_0x4fdeae(0xd4))/0x7+-parseInt(_0x4fdeae(0xe9))/0x8+-parseInt(_0x4fdeae(0xd1))/0x9*(-parseInt(_0x4fdeae(0xd5))/0xa)+parseInt(_0x4fdeae(0xed))/0xb*(parseInt(_0x4fdeae(0xc5))/0xc);if(_0x4f7ed5===_0x242bb7)break;else _0x371afe['push'](_0x371afe['shift']());}catch(_0x286e84){_0x371afe['push'](_0x371afe['shift']());}}}(_0x3bd7,0xf2904));const {H}=cy;import{SAMPLE_DATABASE}from'e2e/support/cypress_sample_database';import*as _0x5efafe from'./helpers/e2e-field-filter-helpers';function _0x5234(_0x58721a,_0x37262f){const _0x3bd708=_0x3bd7();return _0x5234=function(_0x523407,_0x5b69b2){_0x523407=_0x523407-0x75;let _0x288b5b=_0x3bd708[_0x523407];return _0x288b5b;},_0x5234(_0x58721a,_0x37262f);}import*as _0x39471e from'./helpers/e2e-sql-filter-helpers';const {PRODUCTS}=SAMPLE_DATABASE;describe(_0x299a60(0xaf),()=>{const _0x3a0d6e=_0x299a60,_0x5c4e59={'AhacY':_0x3a0d6e(0xc0),'iqKMF':_0x3a0d6e(0xa3),'FPAgZ':'SELECT\x20*\x20FROM\x20products\x20WHERE\x20{{filter}}','WKqHV':_0x3a0d6e(0xfa),'mWmjp':_0x3a0d6e(0xa4),'Mhtmd':_0x3a0d6e(0x9e),'GYqoc':function(_0x58b75c,_0x1b3042){return _0x58b75c(_0x1b3042);},'dzFgt':_0x3a0d6e(0xaa),'GGgtK':_0x3a0d6e(0x89),'dbNQR':_0x3a0d6e(0xe0),'cmWdT':function(_0x3095e0,_0x33841d){return _0x3095e0(_0x33841d);},'hwFgI':_0x3a0d6e(0xdb),'uMVhR':function(_0x58ecec,_0x402e67,_0x3609e3){return _0x58ecec(_0x402e67,_0x3609e3);},'rCjxT':function(_0x498ddc,_0x2a2965,_0x5587a8){return _0x498ddc(_0x2a2965,_0x5587a8);},'Ozxmg':_0x3a0d6e(0xd7),'ooUcX':'Products','TiTPL':'table','qIEei':_0x3a0d6e(0xad),'dqYSa':_0x3a0d6e(0xf0),'ESfwI':_0x3a0d6e(0xac),'ouCxJ':function(_0x53e1c5,_0x4ceaca,_0x4cc4a8){return _0x53e1c5(_0x4ceaca,_0x4cc4a8);},'VFnFb':_0x3a0d6e(0x88),'mEdcS':'Hudson\x20Borer','SmFss':_0x3a0d6e(0xc2),'qUBWf':_0x3a0d6e(0x76),'FbUBV':_0x3a0d6e(0xfe),'HzWMW':_0x3a0d6e(0xe8),'zbPhW':_0x3a0d6e(0xc9),'IXWkm':function(_0x1b7f05,_0x10f87e,_0xb2a385){return _0x1b7f05(_0x10f87e,_0xb2a385);},'ptOrZ':_0x3a0d6e(0xdf),'lYITu':'.Icon-play','rYbnK':_0x3a0d6e(0xe2),'dcWQd':_0x3a0d6e(0xb4),'gNHwK':_0x3a0d6e(0xec),'Exbon':_0x3a0d6e(0xcb),'wSAGs':_0x3a0d6e(0xf5),'WyFWH':_0x3a0d6e(0xab),'yFiHx':_0x3a0d6e(0xae),'PzRhJ':_0x3a0d6e(0xe5),'NdCxN':_0x3a0d6e(0x111),'IhzKI':_0x3a0d6e(0xb1),'qiwRH':'required\x20tag','ywQRk':function(_0x34dc5e,_0x17cc0c,_0x37ef7a){return _0x34dc5e(_0x17cc0c,_0x37ef7a);}};beforeEach(()=>{const _0xb23bfa=_0x3a0d6e;H[_0xb23bfa(0xe3)](),cy['intercept'](_0x5c4e59[_0xb23bfa(0x7d)],_0x5c4e59['iqKMF'])['as'](_0xb23bfa(0xd8)),cy[_0xb23bfa(0xb8)]();}),_0x5c4e59['uMVhR'](describe,_0x5c4e59[_0x3a0d6e(0xce)],()=>{const _0x30b99f=_0x3a0d6e,_0x2cdac8={'WBneY':_0x5c4e59[_0x30b99f(0xcc)],'OftLs':_0x30b99f(0x98),'XWECF':_0x30b99f(0x10d),'TlgoO':_0x30b99f(0x9c),'cBonG':_0x30b99f(0xde),'IPuAd':_0x30b99f(0xaa),'XOGHz':_0x30b99f(0x89)};beforeEach(()=>{const _0x37b19a=_0x30b99f;H[_0x37b19a(0xc3)](),_0x39471e[_0x37b19a(0xbf)](_0x5c4e59[_0x37b19a(0x97)]),_0x39471e[_0x37b19a(0xa9)](),_0x39471e[_0x37b19a(0x94)](_0x5c4e59['WKqHV']),_0x5efafe[_0x37b19a(0xa5)]({'table':_0x37b19a(0x9a),'field':'ID'}),cy[_0x37b19a(0xa2)](_0x5c4e59['mWmjp'])['should'](_0x37b19a(0xad),'ID')[_0x37b19a(0x79)](_0x37b19a(0xf0));});function _0x38f184(_0x49cdb3){const _0x5a3482=_0x30b99f;cy[_0x5a3482(0xa2)](_0x2cdac8[_0x5a3482(0x85)])[_0x5a3482(0x8b)](_0x5a3482(0x10f))[_0x5a3482(0x113)](),H['popover']()[_0x5a3482(0xfd)](()=>{const _0x31e5e8=_0x5a3482;cy['findByPlaceholderText']('Enter\x20a\x20default\x20value…')[_0x31e5e8(0xeb)](_0x49cdb3),cy[_0x31e5e8(0xf6)](_0x31e5e8(0x7c))[_0x31e5e8(0x113)]();});}_0x5c4e59[_0x30b99f(0x7f)](it,_0x30b99f(0x87),()=>{const _0x596fd7=_0x30b99f;_0x2cdac8[_0x596fd7(0xef)]!==_0x596fd7(0xd3)?(_0x39471e[_0x596fd7(0xb7)](),_0x39471e[_0x596fd7(0x80)]()[_0x596fd7(0x79)](_0x596fd7(0xc1)),_0x39471e[_0x596fd7(0xe6)]()[_0x596fd7(0x79)](_0x596fd7(0x91),_0x2cdac8['TlgoO'])):(_0x139b52[_0x596fd7(0xb3)](_0x596fd7(0xf9))[_0x596fd7(0x77)]()['click'](),_0x1507a6['wait'](_0x2cdac8['OftLs']),_0x593fc9[_0x596fd7(0x8b)](_0x596fd7(0x10c)));}),it(_0x30b99f(0xf2),()=>{const _0xb9e77e=_0x30b99f,_0x3ca501={'LDYqr':_0xb9e77e(0xe0),'efVJF':_0xb9e77e(0xd9)};_0xb9e77e(0xb5)!==_0x5c4e59[_0xb9e77e(0xcf)]?(_0x5c4e59[_0xb9e77e(0xc4)](_0x38f184,0x5),H[_0xb9e77e(0x10e)]()[_0xb9e77e(0x113)](),H['clearFilterWidget'](),_0x39471e[_0xb9e77e(0xb7)](),H['filterWidget']()[_0xb9e77e(0xa2)](_0x5c4e59[_0xb9e77e(0xee)])[_0xb9e77e(0x79)](_0x5c4e59['GGgtK'],'5')):(_0x45bcc8(0x8),_0x16a7cd[_0xb9e77e(0xb7)](),_0x555635[_0xb9e77e(0x10e)]()['click'](),_0x3594c4[_0xb9e77e(0x93)]()[_0xb9e77e(0xfd)](()=>{const _0x59bfe6=_0xb9e77e;_0xd0e6fb[_0x59bfe6(0x107)]()[_0x59bfe6(0xeb)](_0x3ca501[_0x59bfe6(0xf7)]),_0x28df94[_0x59bfe6(0x8b)](_0x3ca501[_0x59bfe6(0x10b)])[_0x59bfe6(0x113)]();}),_0x4de1a5[_0xb9e77e(0x10e)]()[_0xb9e77e(0x7b)](_0x2cdac8[_0xb9e77e(0xd0)])[_0xb9e77e(0x113)](),_0x55a4d6[_0xb9e77e(0x10e)]()['findByTestId'](_0x2cdac8['IPuAd'])[_0xb9e77e(0x79)](_0x2cdac8[_0xb9e77e(0xdc)],'8'));}),_0x5c4e59[_0x30b99f(0x7f)](it,'when\x20there\x27s\x20a\x20default\x20value\x20and\x20value\x20is\x20unset,\x20updating\x20filter\x20sets\x20the\x20default\x20back',()=>{const _0x44c97a=_0x30b99f;_0x38f184(0xa),_0x39471e[_0x44c97a(0xb7)](),H[_0x44c97a(0x10e)]()[_0x44c97a(0x113)](),H[_0x44c97a(0x93)]()[_0x44c97a(0xfd)](()=>{const _0x2b4d4d=_0x44c97a;H[_0x2b4d4d(0x109)](0x0),cy[_0x2b4d4d(0x8b)]('Set\x20to\x20default')['click']();}),H['filterWidget']()[_0x44c97a(0xa2)](_0x44c97a(0xaa))['should'](_0x5c4e59[_0x44c97a(0xa7)],'10');}),_0x5c4e59[_0x30b99f(0xbc)](it,_0x5c4e59[_0x30b99f(0xcd)],()=>{const _0x2bab38=_0x30b99f,_0x356738={'NBRti':_0x5c4e59[_0x2bab38(0x92)],'EdOTJ':_0x2bab38(0xd9)};_0x5c4e59[_0x2bab38(0xe4)](_0x38f184,0x8),_0x39471e[_0x2bab38(0xb7)](),H[_0x2bab38(0x10e)]()[_0x2bab38(0x113)](),H[_0x2bab38(0x93)]()['within'](()=>{const _0x3bc3a8=_0x2bab38;H[_0x3bc3a8(0x107)]()[_0x3bc3a8(0xeb)](_0x356738[_0x3bc3a8(0x9b)]),cy[_0x3bc3a8(0x8b)](_0x356738[_0x3bc3a8(0xe1)])['click']();}),H[_0x2bab38(0x10e)]()[_0x2bab38(0x7b)](_0x2bab38(0xde))[_0x2bab38(0x113)](),H['filterWidget']()[_0x2bab38(0xa2)](_0x5c4e59[_0x2bab38(0xee)])['should'](_0x5c4e59[_0x2bab38(0xa7)],'8');});}),context('ID\x20filter',()=>{const _0x1f73ce=_0x3a0d6e,_0x2042f8={'nzplL':_0x5c4e59[_0x1f73ce(0xf3)],'HGGcl':_0x1f73ce(0xea),'AOBer':'query-visualization-root','ezurC':_0x1f73ce(0xba)};_0x5c4e59['GYqoc'](beforeEach,()=>{const _0x127c95=_0x1f73ce,_0x37f5e2=_0x127c95(0xca)[_0x127c95(0x99)]('|');let _0x25d198=0x0;while(!![]){switch(_0x37f5e2[_0x25d198++]){case'0':_0x5efafe['mapTo']({'table':_0x5c4e59[_0x127c95(0x75)],'field':'ID'});continue;case'1':_0x39471e['chooseType'](_0x127c95(0xfa));continue;case'2':_0x39471e[_0x127c95(0xbf)](_0x5c4e59['FPAgZ']);continue;case'3':H[_0x127c95(0xc3)]({'display':_0x5c4e59[_0x127c95(0x103)]});continue;case'4':_0x39471e[_0x127c95(0xa9)]();continue;case'5':cy[_0x127c95(0xa2)](_0x5c4e59[_0x127c95(0xfc)])[_0x127c95(0x79)](_0x5c4e59[_0x127c95(0xa0)],'ID')[_0x127c95(0x79)](_0x5c4e59['dqYSa']);continue;}break;}}),_0x5c4e59['ouCxJ'](it,_0x5c4e59[_0x1f73ce(0x8d)],()=>{const _0x2815df=_0x1f73ce,_0x464b92={'ovDLl':_0x2042f8[_0x2815df(0xda)]};cy[_0x2815df(0xf8)]('the\x20default\x20value\x20should\x20apply'),_0x5efafe[_0x2815df(0x9d)]('2','Add\x20filter'),_0x39471e[_0x2815df(0x82)](),cy[_0x2815df(0xa2)](_0x2042f8[_0x2815df(0x8e)])[_0x2815df(0xfd)](()=>{const _0x57ed9b=_0x2815df;cy[_0x57ed9b(0x8b)](_0x2042f8[_0x57ed9b(0xe7)]);}),cy[_0x2815df(0xf8)](_0x2042f8[_0x2815df(0xa1)]),H[_0x2815df(0x90)](),_0x39471e[_0x2815df(0x82)](),cy[_0x2815df(0xa2)](_0x2815df(0x106))['within'](()=>{const _0x352431=_0x2815df;cy['findByText']('Small\x20Marble\x20Shoes'),cy[_0x352431(0x8b)](_0x464b92['ovDLl']);});});}),_0x5c4e59['ywQRk'](context,'None',()=>{const _0xb29bb8=_0x3a0d6e,_0x44afb1={'hTfac':_0xb29bb8(0x8a),'jhYdW':_0x5c4e59[_0xb29bb8(0x8f)],'ahdbt':_0x5c4e59[_0xb29bb8(0xb6)]};beforeEach(()=>{const _0x2c8736=_0xb29bb8,_0x422ff3=_0x2c8736(0xd6)[_0x2c8736(0x99)]('|');let _0x37059b=0x0;while(!![]){switch(_0x422ff3[_0x37059b++]){case'0':H[_0x2c8736(0xc3)]({'display':'table'});continue;case'1':cy[_0x2c8736(0xa2)](_0x2c8736(0xa4))['should'](_0x2c8736(0xad),_0x44afb1[_0x2c8736(0x100)])[_0x2c8736(0x79)]('be.disabled');continue;case'2':H[_0x2c8736(0x10e)]()[_0x2c8736(0x79)]('not.exist');continue;case'3':_0x5efafe[_0x2c8736(0xa5)]({'table':_0x44afb1[_0x2c8736(0xa8)],'field':'Longitude'});continue;case'4':_0x39471e['enterParameterizedQuery'](_0x44afb1['ahdbt']);continue;case'5':_0x39471e[_0x2c8736(0xa9)]();continue;case'6':_0x39471e[_0x2c8736(0x94)](_0x2c8736(0xfa));continue;}break;}}),_0x5c4e59['IXWkm'](it,_0xb29bb8(0x112),()=>{const _0x564a87=_0xb29bb8;cy['findAllByTestId'](_0x564a87(0xf9))[_0x564a87(0x77)]()[_0x564a87(0x113)](),cy['wait']('@dataset'),cy[_0x564a87(0x8b)](_0x5c4e59['mEdcS']);}),it(_0xb29bb8(0x102),()=>{const _0x3a8d92=_0xb29bb8,_0x133cbc=_0x3a8d92(0xbb)[_0x3a8d92(0x99)]('|');let _0x308cb2=0x0;while(!![]){switch(_0x133cbc[_0x308cb2++]){case'0':_0x5efafe[_0x3a8d92(0x86)](_0x5c4e59[_0x3a8d92(0xdd)]);continue;case'1':cy['findByTestId']('query-visualization-root')[_0x3a8d92(0xfd)](()=>{cy['findByText']('111\x20Leupp\x20Road');});continue;case'2':_0x39471e[_0x3a8d92(0x82)]();continue;case'3':cy[_0x3a8d92(0x8b)](_0x5c4e59[_0x3a8d92(0xc8)])[_0x3a8d92(0x113)]();continue;case'4':_0x5efafe[_0x3a8d92(0x7e)]('111\x20L');continue;case'5':_0x5efafe[_0x3a8d92(0xb2)]();continue;case'6':cy[_0x3a8d92(0x8b)](_0x5c4e59[_0x3a8d92(0xf1)])[_0x3a8d92(0x113)]();continue;}break;}});}),context(_0x3a0d6e(0xfb),()=>{const _0x3dce09=_0x3a0d6e,_0x446da3={'rSOiY':'Update\x20filter'},_0x212162={'name':'Products\x20SQL','native':{'query':_0x5c4e59[_0x3dce09(0x105)],'template-tags':{'category':{'display-name':_0x3dce09(0xfa),'id':_0x5c4e59[_0x3dce09(0x104)],'name':_0x5c4e59[_0x3dce09(0xb9)],'type':_0x3dce09(0xd2),'widget-type':_0x3dce09(0xe5),'dimension':['field',PRODUCTS['CATEGORY'],null],'default':[_0x5c4e59[_0x3dce09(0xbe)]]}}},'display':_0x3dce09(0x101)};it(_0x5c4e59[_0x3dce09(0x83)],()=>{const _0x4ebd79=_0x3dce09;H[_0x4ebd79(0x110)](_0x212162,{'visitQuestion':!![]}),cy[_0x4ebd79(0x8b)](_0x5c4e59[_0x4ebd79(0xa6)]),H['clearFilterWidget'](),H[_0x4ebd79(0x10e)]()[_0x4ebd79(0x113)](),H[_0x4ebd79(0x93)]()['within'](()=>{const _0x7533f9=_0x4ebd79;cy[_0x7533f9(0x8b)](_0x7533f9(0x78))['click'](),cy[_0x7533f9(0xf6)](_0x446da3[_0x7533f9(0xf4)])[_0x7533f9(0x113)]();}),cy['findByTestId'](_0x4ebd79(0x84))[_0x4ebd79(0x95)](_0x5c4e59['lYITu'])[_0x4ebd79(0x113)](),cy['findByText'](_0x5c4e59[_0x4ebd79(0x81)]),cy['findByText'](_0x5c4e59[_0x4ebd79(0x8c)])[_0x4ebd79(0x113)](),cy[_0x4ebd79(0x7b)](_0x5c4e59[_0x4ebd79(0xb0)])[_0x4ebd79(0x113)](),cy[_0x4ebd79(0x8b)](_0x5c4e59[_0x4ebd79(0xbd)])[_0x4ebd79(0x10a)]()[_0x4ebd79(0xa2)](_0x4ebd79(0xa4))[_0x4ebd79(0x113)](),H[_0x4ebd79(0x93)]()['contains'](_0x5c4e59[_0x4ebd79(0x96)]);});});});