const _0x10062a=_0x7d20;(function(_0x94972b,_0x2ec577){const _0x5bc69c=_0x7d20,_0x503d2f=_0x94972b();while(!![]){try{const _0xe89d8e=parseInt(_0x5bc69c(0x167))/0x1*(parseInt(_0x5bc69c(0x17c))/0x2)+-parseInt(_0x5bc69c(0x1b4))/0x3+-parseInt(_0x5bc69c(0x174))/0x4+parseInt(_0x5bc69c(0x17f))/0x5+-parseInt(_0x5bc69c(0x18b))/0x6+-parseInt(_0x5bc69c(0x1bb))/0x7*(parseInt(_0x5bc69c(0x177))/0x8)+-parseInt(_0x5bc69c(0x178))/0x9*(-parseInt(_0x5bc69c(0x19c))/0xa);if(_0xe89d8e===_0x2ec577)break;else _0x503d2f['push'](_0x503d2f['shift']());}catch(_0x3640a4){_0x503d2f['push'](_0x503d2f['shift']());}}}(_0x4a5c,0xa69e6));function _0x4a5c(){const _0x9e1c42=['aCwSU','someemail@somedomain.com','NEdYs','Invalid\x20session\x20token','somepassword','AsAgn','test','objectId','/requestPasswordReset','cCNcf','toEqual','location','get','uNymc','160kADgNY','should\x20work\x20with\x20plain\x20token','then','should\x20not\x20work','error','hsUto','User','FUhOm','on\x20session\x20token','code','92bbb86d-bcda-49fa-8d79-aa0501078044','arETZ','application/json','stringify','Error','MCsTM','toMatch','message','/users/me','yUWyr','spXig','bmkvF','yucbF','test2','1803843UPpkWz','gdPVq','Regex\x20Vulnerabilities','data','KEWif','../lib/request','http://localhost:8378/1','49455slpFQm','YuFrG','resolve','Vqknk','headers','eNxVQ','logIn','1325719uJFsiK','http://localhost:8378/1/classes/_User/','/apps/test/verify_email?username=someemail@somedomain.com&token[$regex]=','zBOtw','OEFFp','newpassword','Qdive','xBBUW','wUOQU','fetch','MkaUD','Qvnvs','\x5c/invalid\x5c_link\x5c.html','4897336KcUbew','GET','slice','48Lgadgd','828081byBbkl','OBJECT_NOT_FOUND','agivp','rvMQn','2EeUqPV','iOelB','jQiYU','4971625OGcndE','/apps/test/request_password_reset?username=someemail@somedomain.com&token=','sessionToken','should\x20not\x20work\x20with\x20regex','emailVerified','KasQt','/users','/apps/test/request_password_reset','on\x20verify\x20e-mail','status','Invalid\x20username/password.','POST','7450278IlsfVW','/apps/test/request_password_reset?username=someemail@somedomain.com&token[$regex]=','on\x20password\x20reset'];_0x4a5c=function(){return _0x9e1c42;};return _0x4a5c();}const request=require(_0x10062a(0x1b9)),serverURL=_0x10062a(0x1ba),headers={'Content-Type':_0x10062a(0x1a8)},keys={'_ApplicationId':_0x10062a(0x194),'_JavaScriptKey':_0x10062a(0x194)},emailAdapter={'sendVerificationEmail':()=>Promise[_0x10062a(0x1bd)](),'sendPasswordResetEmail':()=>Promise[_0x10062a(0x1bd)](),'sendMail':()=>{}},appName=_0x10062a(0x194),publicServerURL=_0x10062a(0x1ba);function _0x7d20(_0x8e1b63,_0x2db330){const _0x4a5c44=_0x4a5c();return _0x7d20=function(_0x7d20af,_0x5b81ac){_0x7d20af=_0x7d20af-0x163;let _0xeb5c46=_0x4a5c44[_0x7d20af];return _0xeb5c46;},_0x7d20(_0x8e1b63,_0x2db330);}describe(_0x10062a(0x1b6),()=>{const _0x406705=_0x10062a,_0x4bd3bb={'sNNwr':function(_0x1b30f6,_0x4fcb45){return _0x1b30f6(_0x4fcb45);},'zBOtw':_0x406705(0x1b3),'MkaUD':function(_0x21ddb3,_0x5d3e96){return _0x21ddb3(_0x5d3e96);},'agivp':_0x406705(0x18f),'Qvnvs':_0x406705(0x192),'cCNcf':_0x406705(0x19f),'spXig':function(_0x2a38bd,_0xfba4c9){return _0x2a38bd(_0xfba4c9);},'yUWyr':function(_0x4eef42,_0x494fff,_0x11a3fb){return _0x4eef42(_0x494fff,_0x11a3fb);},'gdPVq':'should\x20work\x20with\x20plain\x20token','Vqknk':function(_0xf62158,_0x4a494c){return _0xf62158(_0x4a494c);},'hsUto':_0x406705(0x183),'arETZ':_0x406705(0x175),'KasQt':'application/json','xBBUW':function(_0x529453,_0x1e9d04){return _0x529453(_0x1e9d04);},'eNxVQ':_0x406705(0x182),'LwVhw':function(_0x3e001f,_0x1ed18e){return _0x3e001f(_0x1ed18e);},'UDbLk':_0x406705(0x1a6),'yucbF':function(_0x20b8e3,_0x436266){return _0x20b8e3(_0x436266);},'uNymc':function(_0x1986a6,_0x2c0b0a,_0x5a42fc){return _0x1986a6(_0x2c0b0a,_0x5a42fc);},'jQiYU':_0x406705(0x187)};let _0x273b84,_0x1e29ee,_0x311a78,_0x22c0c5;_0x4bd3bb['sNNwr'](beforeEach,async()=>{const _0x138125=_0x406705;await _0x4bd3bb['sNNwr'](reconfigureServer,{'maintenanceKey':_0x4bd3bb['zBOtw'],'verifyUserEmails':!![],'emailAdapter':emailAdapter,'appName':appName,'publicServerURL':publicServerURL});const _0x2b0f2a=await _0x4bd3bb[_0x138125(0x171)](request,{'url':serverURL+_0x138125(0x185),'method':_0x138125(0x18a),'headers':headers,'body':JSON[_0x138125(0x1a9)]({...keys,'_method':'POST','username':_0x4bd3bb['agivp'],'password':_0x4bd3bb[_0x138125(0x172)],'email':_0x4bd3bb[_0x138125(0x17a)]})});_0x273b84=_0x2b0f2a[_0x138125(0x1b7)]['objectId'],_0x1e29ee=_0x2b0f2a['data'][_0x138125(0x181)],_0x311a78=_0x1e29ee[_0x138125(0x176)](0x0,0x3);}),describe(_0x406705(0x1a4),()=>{const _0xaa0ab3=_0x406705,_0x5bf146={'NEdYs':function(_0x27bf70,_0x36e6fd){const _0x49b99f=_0x7d20;return _0x4bd3bb[_0x49b99f(0x1b0)](_0x27bf70,_0x36e6fd);},'bmkvF':'POST','KEWif':_0xaa0ab3(0x175)};_0x4bd3bb[_0xaa0ab3(0x1af)](it,_0xaa0ab3(0x182),async()=>{const _0x402596=_0xaa0ab3;try{await _0x4bd3bb[_0x402596(0x171)](request,{'url':serverURL+'/users/me','method':_0x402596(0x18a),'headers':headers,'body':JSON[_0x402596(0x1a9)]({...keys,'_SessionToken':{'$regex':_0x311a78},'_method':_0x402596(0x175)})}),fail(_0x4bd3bb[_0x402596(0x197)]);}catch(_0x4b3968){expect(_0x4b3968['data'][_0x402596(0x1a5)])[_0x402596(0x198)](0xd1),expect(_0x4b3968['data'][_0x402596(0x1a0)])[_0x402596(0x198)](_0x402596(0x191));}}),it(_0x4bd3bb[_0xaa0ab3(0x1b5)],async()=>{const _0x3cf223=_0xaa0ab3,_0x32d10a=await _0x5bf146[_0x3cf223(0x190)](request,{'url':serverURL+_0x3cf223(0x1ae),'method':_0x5bf146[_0x3cf223(0x1b1)],'headers':headers,'body':JSON[_0x3cf223(0x1a9)]({...keys,'_SessionToken':_0x1e29ee,'_method':_0x5bf146[_0x3cf223(0x1b8)]})});_0x5bf146[_0x3cf223(0x190)](expect,_0x32d10a[_0x3cf223(0x1b7)][_0x3cf223(0x195)])[_0x3cf223(0x198)](_0x273b84),expect(_0x32d10a[_0x3cf223(0x1b7)][_0x3cf223(0x181)])[_0x3cf223(0x198)](_0x1e29ee);});}),describe(_0x4bd3bb[_0x406705(0x17e)],()=>{const _0x57b8c3=_0x406705;_0x4bd3bb[_0x57b8c3(0x171)](beforeEach,async function(){const _0x578159=_0x57b8c3,_0x174869=new Parse['Query'](Parse['User']);_0x22c0c5=await _0x174869[_0x578159(0x19a)](_0x273b84,{'useMasterKey':!![]});}),it(_0x4bd3bb[_0x57b8c3(0x165)],async()=>{const _0x5673a0=_0x57b8c3;expect(_0x22c0c5[_0x5673a0(0x19a)](_0x5673a0(0x183)))[_0x5673a0(0x198)](![]),await request({'url':serverURL+_0x5673a0(0x169),'method':_0x5673a0(0x175)}),await _0x22c0c5[_0x5673a0(0x170)]({'useMasterKey':!![]}),_0x4bd3bb[_0x5673a0(0x1b0)](expect,_0x22c0c5[_0x5673a0(0x19a)](_0x5673a0(0x183)))['toEqual'](![]);}),_0x4bd3bb['LwVhw'](it_id,_0x4bd3bb['UDbLk'])(it)(_0x57b8c3(0x19d),async()=>{const _0x142d6f=_0x57b8c3;_0x4bd3bb[_0x142d6f(0x163)](expect,_0x22c0c5[_0x142d6f(0x19a)](_0x4bd3bb[_0x142d6f(0x1a1)]))[_0x142d6f(0x198)](![]);const _0xd531e5=await request({'method':_0x4bd3bb[_0x142d6f(0x1a7)],'url':_0x142d6f(0x168)+_0x22c0c5['id'],'json':!![],'headers':{'X-Parse-Application-Id':_0x142d6f(0x194),'X-Parse-Rest-API-Key':_0x142d6f(0x194),'X-Parse-Maintenance-Key':_0x4bd3bb[_0x142d6f(0x16a)],'Content-Type':_0x4bd3bb[_0x142d6f(0x184)]}})[_0x142d6f(0x19e)](_0x47ca9a=>_0x47ca9a['data']);await _0x4bd3bb[_0x142d6f(0x16e)](request,{'url':serverURL+'/apps/test/verify_email?username=someemail@somedomain.com&token='+_0xd531e5['_email_verify_token'],'method':_0x142d6f(0x175)}),await _0x22c0c5['fetch']({'useMasterKey':!![]}),expect(_0x22c0c5['get'](_0x4bd3bb[_0x142d6f(0x1a1)]))['toEqual'](!![]);});}),_0x4bd3bb['uNymc'](describe,_0x406705(0x18d),()=>{const _0x591013=_0x406705,_0x59e735={'Qdive':function(_0x21a99a,_0x5c5f20){return _0x4bd3bb['xBBUW'](_0x21a99a,_0x5c5f20);},'MCsTM':function(_0x1477fa,_0x4def45){return _0x1477fa(_0x4def45);},'OEFFp':function(_0x43987a,_0x558898){return _0x43987a(_0x558898);},'wUOQU':_0x591013(0x18a),'FUhOm':_0x591013(0x18f),'aCwSU':_0x591013(0x16c),'iOelB':_0x591013(0x189),'kXFyd':function(_0x241ce1,_0x2679f2){return _0x241ce1(_0x2679f2);},'YuFrG':_0x591013(0x194),'rvMQn':_0x591013(0x1b3),'qhSwU':_0x591013(0x1a8),'DuFOJ':function(_0x401910,_0x32916d){return _0x4bd3bb['yucbF'](_0x401910,_0x32916d);},'AsAgn':function(_0x30d8c3,_0x12a4db){const _0x4692bd=_0x591013;return _0x4bd3bb[_0x4692bd(0x1b2)](_0x30d8c3,_0x12a4db);}};beforeEach(async()=>{const _0x517a19=_0x591013;_0x22c0c5=await Parse[_0x517a19(0x1a2)][_0x517a19(0x166)]('someemail@somedomain.com',_0x517a19(0x192));}),it(_0x4bd3bb[_0x591013(0x165)],async()=>{const _0x59bc95=_0x591013;_0x59e735[_0x59bc95(0x16d)](expect,_0x22c0c5['id'])[_0x59bc95(0x198)](_0x273b84),await request({'url':serverURL+_0x59bc95(0x196),'method':_0x59bc95(0x18a),'headers':headers,'body':JSON[_0x59bc95(0x1a9)]({...keys,'_method':'POST','email':'someemail@somedomain.com'})}),await _0x22c0c5[_0x59bc95(0x170)]({'useMasterKey':!![]});const _0x291ac3=await _0x59e735[_0x59bc95(0x16d)](request,{'url':serverURL+_0x59bc95(0x18c),'method':'GET'});_0x59e735['MCsTM'](expect,_0x291ac3[_0x59bc95(0x188)])['toEqual'](0x12e),_0x59e735[_0x59bc95(0x16b)](expect,_0x291ac3[_0x59bc95(0x164)][_0x59bc95(0x199)])[_0x59bc95(0x1ac)](_0x59bc95(0x173)),await request({'url':serverURL+_0x59bc95(0x186),'method':_0x59e735[_0x59bc95(0x16f)],'body':{'token':{'$regex':''},'username':_0x59e735[_0x59bc95(0x1a3)],'new_password':_0x59bc95(0x16c)}});try{await Parse['User'][_0x59bc95(0x166)]('someemail@somedomain.com',_0x59e735[_0x59bc95(0x18e)]),_0x59e735[_0x59bc95(0x1ab)](fail,_0x59bc95(0x19f));}catch(_0x21a64b){expect(_0x21a64b['code'])[_0x59bc95(0x198)](Parse[_0x59bc95(0x1aa)][_0x59bc95(0x179)]),expect(_0x21a64b[_0x59bc95(0x1ad)])[_0x59bc95(0x198)](_0x59e735[_0x59bc95(0x17d)]);}}),_0x4bd3bb[_0x591013(0x19b)](it,_0x4bd3bb[_0x591013(0x1b5)],async()=>{const _0x4e5c60=_0x591013;_0x59e735['MCsTM'](expect,_0x22c0c5['id'])['toEqual'](_0x273b84),await _0x59e735['kXFyd'](request,{'url':serverURL+_0x4e5c60(0x196),'method':_0x59e735['wUOQU'],'headers':headers,'body':JSON[_0x4e5c60(0x1a9)]({...keys,'_method':_0x4e5c60(0x18a),'email':'someemail@somedomain.com'})});const _0x1dcb07=await request({'method':_0x4e5c60(0x175),'url':_0x4e5c60(0x168)+_0x22c0c5['id'],'json':!![],'headers':{'X-Parse-Application-Id':_0x59e735[_0x4e5c60(0x1bc)],'X-Parse-Rest-API-Key':_0x59e735[_0x4e5c60(0x1bc)],'X-Parse-Maintenance-Key':_0x59e735[_0x4e5c60(0x17b)],'Content-Type':_0x59e735['qhSwU']}})[_0x4e5c60(0x19e)](_0x1dfdcb=>_0x1dfdcb['data']),_0x1492f9=_0x1dcb07['_perishable_token'],_0x82df61=await request({'url':serverURL+_0x4e5c60(0x180)+_0x1492f9,'method':_0x4e5c60(0x175)});_0x59e735['DuFOJ'](expect,_0x82df61[_0x4e5c60(0x188)])[_0x4e5c60(0x198)](0x12e),_0x59e735[_0x4e5c60(0x193)](expect,_0x82df61[_0x4e5c60(0x164)][_0x4e5c60(0x199)])['toMatch']('\x5c/choose\x5c_password\x5c?token\x5c='+_0x1492f9+'\x5c&'),await request({'url':serverURL+'/apps/test/request_password_reset','method':_0x59e735[_0x4e5c60(0x16f)],'body':{'token':_0x1492f9,'username':_0x59e735[_0x4e5c60(0x1a3)],'new_password':_0x4e5c60(0x16c)}});const _0x51720d=await Parse['User'][_0x4e5c60(0x166)](_0x59e735[_0x4e5c60(0x1a3)],_0x59e735[_0x4e5c60(0x18e)]);expect(_0x51720d['id'])[_0x4e5c60(0x198)](_0x273b84);});});});