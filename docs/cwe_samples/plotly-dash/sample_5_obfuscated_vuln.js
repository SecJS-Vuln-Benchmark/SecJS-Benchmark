function _0x1eaa(_0x5886bf,_0xf9da57){const _0x1196e0=_0x1196();return _0x1eaa=function(_0x1eaaa0,_0x5a5f19){_0x1eaaa0=_0x1eaaa0-0x185;let _0xb152b2=_0x1196e0[_0x1eaaa0];return _0xb152b2;},_0x1eaa(_0x5886bf,_0xf9da57);}const _0x5a9769=_0x1eaa;(function(_0x21c29f,_0x1a98b0){const _0x3286a9=_0x1eaa,_0x4ec0ac=_0x21c29f();while(!![]){try{const _0x12658e=-parseInt(_0x3286a9(0x18e))/0x1+-parseInt(_0x3286a9(0x1e0))/0x2*(-parseInt(_0x3286a9(0x1b9))/0x3)+-parseInt(_0x3286a9(0x196))/0x4+-parseInt(_0x3286a9(0x1b7))/0x5+parseInt(_0x3286a9(0x197))/0x6*(parseInt(_0x3286a9(0x1cd))/0x7)+parseInt(_0x3286a9(0x185))/0x8*(parseInt(_0x3286a9(0x193))/0x9)+-parseInt(_0x3286a9(0x1af))/0xa*(-parseInt(_0x3286a9(0x195))/0xb);if(_0x12658e===_0x1a98b0)break;else _0x4ec0ac['push'](_0x4ec0ac['shift']());}catch(_0x24a19c){_0x4ec0ac['push'](_0x4ec0ac['shift']());}}}(_0x1196,0x445d8));const Config=require(_0x5a9769(0x19c)),sessionToken=_0x5a9769(0x1d0),request=require(_0x5a9769(0x189)),Parse=require('parse/node');function createUser(){const _0x301bb4=_0x5a9769,_0x194eb3={'iKzss':_0x301bb4(0x1be),'uVcsl':_0x301bb4(0x1b3),'oLftu':_0x301bb4(0x1ba)},_0x9d1372=Config[_0x301bb4(0x1c7)](Parse[_0x301bb4(0x188)]),_0x1b59aa={'objectId':_0x194eb3['iKzss'],'username':'hello','password':_0x194eb3[_0x301bb4(0x192)],'_session_token':sessionToken};return _0x9d1372[_0x301bb4(0x1c3)][_0x301bb4(0x1c1)](_0x194eb3['oLftu'],_0x1b59aa);}function _0x1196(){const _0x4fdf63=['status','288VXJqPA','aEspF','User','applicationId','../lib/request','iNihJ','toEqual','invalid\x20session','should\x20be\x20able\x20to\x20become\x20with\x20revocable\x20session\x20token','530967CtFQmE','eiJoP','INVALID_SESSION_TOKEN','iQylR','uVcsl','118710cCNwqz','find','1210814myQCFN','1998272DjSkWu','138cbxQbE','DiyGE','oRCGb','AxOFH','GFZRo','../lib/Config','fjZHy','rKWdJ','should\x20not\x20crash\x20without\x20session\x20token\x20#2720','Error','yqpEm','dBDwV','Uqrmc','IkxBU','pAklQ','hello','JFSBm','data','vymKd','length','LHwUQ','ceTsf','oyadP','OBJECT_NOT_FOUND','90JVZBoj','serverURL','uEoIw','Object','pass','_upgradeToRevocableSession','jdxCY','qnlaB','2724950HsylWJ','should\x20not\x20be\x20able\x20to\x20upgrade\x20a\x20bad\x20token','239577uwMHDt','_User','sessionToken','getSessionToken','logOut','1234567890','indexOf','kcvJu','create','error','database','vYnfX','UgVOX','adapter','get','code','SrGwI','ebDRu','rDqxD','should\x20upgrade\x20legacy\x20session\x20token','45794ZRWpZP','toBe','toBeUndefined','legacySessionToken','/upgradeToRevocableSession','LQeIs','loadSchema','getOneSchema','ytECS','rest','fromJSON','qfxWT','Rsgyc','zYVeU','revocable\x20sessions','not','POST','then','rronp','6VBpnXN'];_0x1196=function(){return _0x4fdf63;};return _0x1196();}describe_only_db('mongo')(_0x5a9769(0x1db),()=>{const _0x1cce8f=_0x5a9769,_0x25d429={'AxOFH':function(_0x66b8c7){return _0x66b8c7();},'rKWdJ':function(_0x26fb5d){return _0x26fb5d();},'LQeIs':_0x1cce8f(0x1b5),'oRCGb':function(_0x5ce023,_0x3c4da6){return _0x5ce023(_0x3c4da6);},'qfxWT':_0x1cce8f(0x1be),'GFZRo':'yYQMy','ebDRu':_0x1cce8f(0x1b8),'rronp':function(_0x550f86,_0x915d69){return _0x550f86(_0x915d69);},'UgVOX':_0x1cce8f(0x1ba),'cRpuH':function(_0x52a60f,_0x336925){return _0x52a60f===_0x336925;},'iNihJ':function(_0x490fda,_0x110d0f){return _0x490fda===_0x110d0f;},'adOkT':'oRdwH','fjZHy':'badSessionToken','XPywS':_0x1cce8f(0x18c),'oyadP':_0x1cce8f(0x1d1),'vymKd':_0x1cce8f(0x1d6),'ZCZWv':_0x1cce8f(0x1cc),'uEoIw':_0x1cce8f(0x18d)};beforeEach(_0x33b976=>{const _0x3d956b=_0x1cce8f;_0x25d429[_0x3d956b(0x19a)](createUser)[_0x3d956b(0x1de)](_0x33b976);}),it(_0x25d429['ZCZWv'],_0xa99d11=>{const _0x1efac1=_0x1cce8f,_0x4f19fa={'Rsgyc':_0x1efac1(0x1be),'yqpEm':function(_0x235acd){const _0x248123=_0x1efac1;return _0x25d429[_0x248123(0x19e)](_0x235acd);},'dBDwV':'JrFqc','zkDNk':function(_0x2ac3f5,_0x1a4186){return _0x2ac3f5!==_0x1a4186;},'SrGwI':_0x25d429[_0x1efac1(0x1d2)],'ZeCqi':function(_0x1bbf60,_0x16bad2){return _0x25d429['oRCGb'](_0x1bbf60,_0x16bad2);},'pAklQ':function(_0x2ec3a2){return _0x2ec3a2();}},_0x5a6c67=Parse[_0x1efac1(0x1b2)][_0x1efac1(0x1d7)]({'className':_0x1efac1(0x1ba),'objectId':_0x1efac1(0x1be),'sessionToken':sessionToken});_0x5a6c67[_0x1efac1(0x1b4)]()[_0x1efac1(0x1de)](_0x2c6e62=>{const _0x14ed46=_0x1efac1,_0x58de53={'iQylR':function(_0xa5d30,_0x38e064){return _0xa5d30(_0x38e064);},'LHwUQ':function(_0x50ef0e){const _0x480c59=_0x1eaa;return _0x4f19fa[_0x480c59(0x1a1)](_0x50ef0e);},'kREXE':_0x4f19fa[_0x14ed46(0x1a2)]};if(_0x14ed46(0x1a7)!==_0x14ed46(0x1a7))_0x339a01();else{expect(_0x2c6e62['getSessionToken']()[_0x14ed46(0x1bf)]('r:'))[_0x14ed46(0x1ce)](0x0);const _0x3de0d7=Config['get'](Parse['applicationId']);return _0x3de0d7[_0x14ed46(0x1c3)][_0x14ed46(0x1d3)]()[_0x14ed46(0x1de)](_0x1da019=>{return _0x1da019['getOneSchema']('_User',!![]);})[_0x14ed46(0x1de)](_0x9161b2=>{const _0x152594=_0x14ed46;return _0x3de0d7[_0x152594(0x1c3)][_0x152594(0x1c6)][_0x152594(0x194)]('_User',_0x9161b2,{'objectId':_0x4f19fa[_0x152594(0x1d9)]},{});})['then'](_0x5a7fcd=>{const _0x1574d7=_0x14ed46;_0x58de53['kREXE']!==_0x58de53['kREXE']?(_0x58de53[_0x1574d7(0x191)](_0x35f94f,_0x1bfcad),_0x58de53[_0x1574d7(0x1ab)](_0xe01a69)):(expect(_0x5a7fcd[_0x1574d7(0x1aa)])['toBe'](0x1),expect(_0x5a7fcd[0x0][_0x1574d7(0x1bb)])[_0x1574d7(0x1cf)]());});}})[_0x1efac1(0x1de)](()=>{const _0x1b9e7d=_0x1efac1;_0x25d429[_0x1b9e7d(0x19e)](_0xa99d11);},_0x229d05=>{const _0x28b5f0=_0x1efac1,_0x63bcba={'qnlaB':function(_0x4cdd76,_0x1d832c){return _0x4cdd76(_0x1d832c);},'DiyGE':_0x28b5f0(0x18c)};_0x4f19fa['zkDNk'](_0x4f19fa[_0x28b5f0(0x1c9)],_0x4f19fa[_0x28b5f0(0x1c9)])?(_0x13acc9(_0x4f58b7[_0x28b5f0(0x1e1)])['toBe'](0x194),_0x2174bb(_0x59fb18['data'])[_0x28b5f0(0x1dc)][_0x28b5f0(0x1cf)](),_0x63bcba[_0x28b5f0(0x1b6)](_0x5777f1,_0x523b41[_0x28b5f0(0x1a8)][_0x28b5f0(0x1c8)])['toBe'](_0x21ce5f[_0x28b5f0(0x1a0)][_0x28b5f0(0x1ae)]),_0x53a1f7(_0x4db93e[_0x28b5f0(0x1a8)][_0x28b5f0(0x1c2)])[_0x28b5f0(0x18b)](_0x63bcba[_0x28b5f0(0x198)])):(_0x4f19fa['ZeCqi'](jfail,_0x229d05),_0x4f19fa[_0x28b5f0(0x1a5)](_0xa99d11));});}),it(_0x25d429[_0x1cce8f(0x1b1)],_0x406967=>{const _0x36910d=_0x1cce8f,_0x5ef81b={'ceTsf':function(_0x51fbb8,_0xc5c0c0){return _0x51fbb8(_0xc5c0c0);},'IkxBU':_0x25d429['qfxWT'],'HyBcg':_0x25d429[_0x36910d(0x19b)],'rDqxD':function(_0x2a579c,_0x5e5510){return _0x2a579c(_0x5e5510);},'Uqrmc':function(_0x1f97cf){return _0x1f97cf();}},_0x598d55=Parse['Object'][_0x36910d(0x1d7)]({'className':_0x36910d(0x1ba),'objectId':_0x25d429[_0x36910d(0x1d8)],'sessionToken':sessionToken});_0x598d55['_upgradeToRevocableSession']()[_0x36910d(0x1de)](_0x36542c=>{const _0x5ae82a=_0x36910d,_0x4b97e3={'ytECS':function(_0xaa7552,_0x5e8277){return _0x5ef81b['ceTsf'](_0xaa7552,_0x5e8277);},'QmPlf':_0x5ef81b['HyBcg']};return _0x5ef81b[_0x5ae82a(0x1cb)](expect,_0x36542c['getSessionToken']()[_0x5ae82a(0x1bf)]('r:'))[_0x5ae82a(0x1ce)](0x0),Parse[_0x5ae82a(0x187)][_0x5ae82a(0x1bd)]()['then'](()=>{const _0x29e5b2=_0x5ae82a;if(_0x29e5b2(0x1c0)===_0x4b97e3['QmPlf'])_0x4b97e3[_0x29e5b2(0x1d5)](_0x3cdef5,_0x3d6bf6),_0x45c079();else return Parse['User']['become'](_0x36542c[_0x29e5b2(0x1bc)]());})[_0x5ae82a(0x1de)](_0x34229d=>{const _0x521d7f=_0x5ae82a;_0x5ef81b[_0x521d7f(0x1ac)](expect,_0x34229d['id'])['toEqual'](_0x5ef81b[_0x521d7f(0x1a4)]);});})[_0x36910d(0x1de)](()=>{_0x406967();},_0x17744a=>{const _0x50cf15=_0x36910d;_0x5ef81b[_0x50cf15(0x1cb)](jfail,_0x17744a),_0x5ef81b[_0x50cf15(0x1a3)](_0x406967);});}),it('should\x20not\x20upgrade\x20bad\x20legacy\x20session\x20token',_0x14acc2=>{const _0x33a182=_0x1cce8f;if(_0x25d429[_0x33a182(0x18a)]('oRdwH',_0x25d429['adOkT']))_0x25d429['oRCGb'](request,{'method':_0x33a182(0x1dd),'url':Parse[_0x33a182(0x1b0)]+_0x33a182(0x1d1),'headers':{'X-Parse-Application-Id':Parse[_0x33a182(0x188)],'X-Parse-Rest-API-Key':_0x33a182(0x1d6),'X-Parse-Session-Token':_0x25d429[_0x33a182(0x19d)]}})['then'](()=>{const _0x5e2a10=_0x33a182;_0x25d429[_0x5e2a10(0x199)](fail,_0x25d429[_0x5e2a10(0x1ca)]);},_0x1e98f2=>{const _0x4289f3=_0x33a182;expect(_0x1e98f2[_0x4289f3(0x1e1)])['toBe'](0x190),_0x25d429[_0x4289f3(0x199)](expect,_0x1e98f2[_0x4289f3(0x1a8)])[_0x4289f3(0x1dc)][_0x4289f3(0x1cf)](),_0x25d429[_0x4289f3(0x1df)](expect,_0x1e98f2[_0x4289f3(0x1a8)][_0x4289f3(0x1c8)])[_0x4289f3(0x1ce)](Parse[_0x4289f3(0x1a0)][_0x4289f3(0x190)]),expect(_0x1e98f2['data'][_0x4289f3(0x1c2)])[_0x4289f3(0x18b)]('invalid\x20legacy\x20session\x20token');})[_0x33a182(0x1de)](()=>{const _0x51dac4=_0x33a182,_0x22e7c5={'eiJoP':_0x25d429[_0x51dac4(0x1c5)],'aEspF':function(_0x254c8a,_0x225b74){return _0x254c8a(_0x225b74);}};if(_0x25d429['cRpuH'](_0x51dac4(0x1da),'aywUT')){const _0x184cf0={'vYnfX':function(_0x27e4dc,_0x52094d){return _0x27e4dc(_0x52094d);}};_0x22e7c5[_0x51dac4(0x186)](_0xbcdb5a,_0x393d18[_0x51dac4(0x1bc)]()[_0x51dac4(0x1bf)]('r:'))['toBe'](0x0);const _0x3c13f0=_0x509be5[_0x51dac4(0x1c7)](_0x55df2e['applicationId']);return _0x3c13f0[_0x51dac4(0x1c3)]['loadSchema']()['then'](_0x3fb4b8=>{const _0x9b048=_0x51dac4;return _0x3fb4b8[_0x9b048(0x1d4)](_0x22e7c5[_0x9b048(0x18f)],!![]);})[_0x51dac4(0x1de)](_0x16107f=>{const _0x587d6d=_0x51dac4;return _0x3c13f0['database'][_0x587d6d(0x1c6)][_0x587d6d(0x194)](_0x22e7c5['eiJoP'],_0x16107f,{'objectId':_0x587d6d(0x1be)},{});})[_0x51dac4(0x1de)](_0x5ba0bc=>{const _0x250934=_0x51dac4;_0x20c1b4(_0x5ba0bc['length'])[_0x250934(0x1ce)](0x1),_0x184cf0[_0x250934(0x1c4)](_0x5cf289,_0x5ba0bc[0x0][_0x250934(0x1bb)])[_0x250934(0x1cf)]();});}else _0x25d429['AxOFH'](_0x14acc2);});else{const _0x18e162=_0x237c9c['get'](_0x208aae[_0x33a182(0x188)]),_0x1d7d57={'objectId':_0x33a182(0x1be),'username':_0x33a182(0x1a6),'password':_0x33a182(0x1b3),'_session_token':_0xac73d1};return _0x18e162[_0x33a182(0x1c3)][_0x33a182(0x1c1)](_0x33a182(0x1ba),_0x1d7d57);}}),it(_0x1cce8f(0x19f),_0x34cdf1=>{const _0x31564d=_0x1cce8f;_0x25d429[_0x31564d(0x199)](request,{'method':_0x31564d(0x1dd),'url':Parse[_0x31564d(0x1b0)]+_0x25d429[_0x31564d(0x1ad)],'headers':{'X-Parse-Application-Id':Parse[_0x31564d(0x188)],'X-Parse-Rest-API-Key':_0x25d429[_0x31564d(0x1a9)]}})[_0x31564d(0x1de)](()=>{_0x25d429['oRCGb'](fail,'should\x20not\x20be\x20able\x20to\x20upgrade\x20a\x20bad\x20token');},_0x3b6e0b=>{const _0x4a3758=_0x31564d;expect(_0x3b6e0b['status'])['toBe'](0x194),_0x25d429[_0x4a3758(0x1df)](expect,_0x3b6e0b[_0x4a3758(0x1a8)])[_0x4a3758(0x1dc)][_0x4a3758(0x1cf)](),expect(_0x3b6e0b[_0x4a3758(0x1a8)]['code'])['toBe'](Parse[_0x4a3758(0x1a0)][_0x4a3758(0x1ae)]),expect(_0x3b6e0b[_0x4a3758(0x1a8)][_0x4a3758(0x1c2)])['toEqual'](_0x25d429['XPywS']);})[_0x31564d(0x1de)](()=>{_0x34cdf1();});});});