const _0x4cb35b=_0x1147;(function(_0x59c185,_0x44b2bf){const _0x1dba01=_0x1147,_0x566467=_0x59c185();while(!![]){try{const _0x5948b7=-parseInt(_0x1dba01(0x79))/0x1*(parseInt(_0x1dba01(0x8f))/0x2)+-parseInt(_0x1dba01(0xc8))/0x3*(-parseInt(_0x1dba01(0xa2))/0x4)+-parseInt(_0x1dba01(0xa1))/0x5+-parseInt(_0x1dba01(0xcf))/0x6*(parseInt(_0x1dba01(0xa6))/0x7)+parseInt(_0x1dba01(0x75))/0x8*(parseInt(_0x1dba01(0x85))/0x9)+-parseInt(_0x1dba01(0x7e))/0xa+parseInt(_0x1dba01(0xb5))/0xb;if(_0x5948b7===_0x44b2bf)break;else _0x566467['push'](_0x566467['shift']());}catch(_0x5ca1ea){_0x566467['push'](_0x566467['shift']());}}}(_0x19ff,0xb251f));import _0x3cf53c from'escape-html';import _0x529089 from'../../../components/cardbuilder/cardBuilder';import _0x579995 from'../../../components/loading/loading';import _0x1e279c from'../../../scripts/dom';import _0x1693a2 from'../../../scripts/globalize';import _0x306cf2 from'../../../scripts/imagehelper';import{formatDistanceToNow}from'date-fns';import{getLocaleWithSuffix}from'../../../scripts/dfnshelper';import'../../../elements/emby-button/emby-button';import'../../../elements/emby-itemscontainer/emby-itemscontainer';import'../../../components/cardbuilder/card.scss';import _0xefe509 from'../../../scripts/clientUtils';import _0x1ce79c from'../../../components/confirm/confirm';let deviceIds=[];function canDelete(_0x326737){const _0x41b50d=_0x1147;return _0x326737!==ApiClient[_0x41b50d(0xca)]();}function deleteAllDevices(_0xeb4a07){const _0x346169=_0x1147,_0x566b06={'wwTJg':function(_0x5ab365,_0x40e8d9){return _0x5ab365(_0x40e8d9);}},_0x77b5d=_0x1693a2['translate']('DeleteDevicesConfirmation');_0x1ce79c({'text':_0x77b5d,'title':_0x1693a2[_0x346169(0x87)](_0x346169(0x90)),'confirmText':_0x1693a2[_0x346169(0x87)](_0x346169(0x78)),'primary':'delete'})[_0x346169(0x8d)](async()=>{const _0x16ad2b=_0x346169;_0x579995[_0x16ad2b(0xb9)](),await Promise[_0x16ad2b(0x86)](deviceIds[_0x16ad2b(0x9f)](canDelete)[_0x16ad2b(0xc0)](_0x2b0238=>ApiClient[_0x16ad2b(0x96)](_0x2b0238))),_0x566b06[_0x16ad2b(0x7c)](loadData,_0xeb4a07);});}function _0x1147(_0x2f370e,_0x3cdff6){const _0x19ff89=_0x19ff();return _0x1147=function(_0x11477b,_0x5247a5){_0x11477b=_0x11477b-0x74;let _0x391d9e=_0x19ff89[_0x11477b];return _0x391d9e;},_0x1147(_0x2f370e,_0x3cdff6);}function deleteDevice(_0x5423c8,_0x2e4037){const _0x3650b4=_0x1147,_0x519c9c={'ZxMNO':function(_0x2e8af1,_0x1d1870){return _0x2e8af1(_0x1d1870);},'KedkQ':_0x3650b4(0x98),'GyUoN':_0x3650b4(0x78)},_0x6520aa=_0x1693a2['translate'](_0x3650b4(0xb8));_0x519c9c[_0x3650b4(0x84)](_0x1ce79c,{'text':_0x6520aa,'title':_0x1693a2[_0x3650b4(0x87)](_0x519c9c[_0x3650b4(0x97)]),'confirmText':_0x1693a2[_0x3650b4(0x87)](_0x519c9c[_0x3650b4(0x80)]),'primary':_0x3650b4(0xa4)})[_0x3650b4(0x8d)](async()=>{const _0xcae0db=_0x3650b4;_0x579995[_0xcae0db(0xb9)](),await ApiClient[_0xcae0db(0x96)](_0x2e4037),_0x519c9c['ZxMNO'](loadData,_0x5423c8);});}function showDeviceMenu(_0x18026e,_0xabb7d9,_0x1cd9c5){const _0x16d40e=_0x1147,_0x22dc27={'gRhwc':'open','CVcBa':function(_0x45cd4e,_0x576fc2){return _0x45cd4e+_0x576fc2;},'ASlSz':_0x16d40e(0x91),'VmXET':function(_0x2b7845,_0x496a23,_0x32a8c3){return _0x2b7845(_0x496a23,_0x32a8c3);},'DGrCM':_0x16d40e(0x7b),'PeOrX':function(_0x2ddc56,_0x50cad5){return _0x2ddc56(_0x50cad5);},'HkvKg':'delete','wpVes':_0x16d40e(0xa9)},_0x47ccb4=[];canEdit&&_0x47ccb4['push']({'name':_0x1693a2['translate'](_0x16d40e(0xbe)),'id':_0x22dc27[_0x16d40e(0x83)],'icon':_0x22dc27['DGrCM']}),_0x22dc27[_0x16d40e(0xc2)](canDelete,_0x1cd9c5)&&_0x47ccb4[_0x16d40e(0x81)]({'name':_0x1693a2[_0x16d40e(0x87)]('Delete'),'id':_0x22dc27['HkvKg'],'icon':_0x22dc27[_0x16d40e(0xbd)]}),import(_0x22dc27[_0x16d40e(0xc7)])[_0x16d40e(0x8d)](({default:_0x34892e})=>{const _0x302ae8=_0x16d40e;_0x34892e[_0x302ae8(0xb9)]({'items':_0x47ccb4,'positionTo':_0xabb7d9,'callback':function(_0x1cd663){const _0x5f454c=_0x302ae8;switch(_0x1cd663){case _0x22dc27['gRhwc']:_0xefe509['navigate'](_0x22dc27[_0x5f454c(0xb1)](_0x22dc27[_0x5f454c(0xbc)],_0x1cd9c5));break;case _0x5f454c(0xa4):_0x22dc27['VmXET'](deleteDevice,_0x18026e,_0x1cd9c5);}}});});}function load(_0x543619,_0x21f59c){const _0x18f72a=_0x1147,_0x442dad={'lGJnh':function(_0x56f6f1,_0x429fcc){return _0x56f6f1+_0x429fcc;},'XhyrP':function(_0xc0a4d9,_0x30e621){return _0xc0a4d9+_0x30e621;},'sqsuZ':_0x18f72a(0x7d),'UvHFO':_0x18f72a(0xce),'HkvXD':_0x18f72a(0xa5),'aQpyJ':_0x18f72a(0xc5),'qQUfD':'<span\x20class=\x22cardImageIcon\x20material-icons\x20tablet_android\x22\x20aria-hidden=\x22true\x22></span>','UrShB':_0x18f72a(0xaa),'DGsKz':function(_0x14ecaf,_0x380d7e){return _0x14ecaf(_0x380d7e);},'LgNap':'<div\x20style=\x22text-align:right;\x20float:right;padding-top:5px;\x22>','Ztvqp':'\x22\x20title=\x22','kCbQB':_0x18f72a(0xc6),'VLmUF':function(_0x226ea8,_0x30150f){return _0x226ea8(_0x30150f);},'TEtqo':_0x18f72a(0xbf),'ssZlI':function(_0x13c16e,_0x414455,_0x8372e1){return _0x13c16e(_0x414455,_0x8372e1);},'pGtHM':function(_0x5daf83){return _0x5daf83();}},_0x18a1be=_0x442dad['pGtHM'](getLocaleWithSuffix);let _0x2325f3='';_0x2325f3+=_0x21f59c[_0x18f72a(0xc0)](function(_0x40ca6b){const _0x298e93=_0x18f72a;let _0x2c68db='';_0x2c68db+=_0x442dad['lGJnh'](_0x442dad['XhyrP'](_0x298e93(0xb3),_0x40ca6b['Id']),_0x442dad['sqsuZ']),_0x2c68db+='<div\x20class=\x22cardBox\x20visualCardBox\x22>',_0x2c68db+='<div\x20class=\x22cardScalable\x22>',_0x2c68db+=_0x442dad[_0x298e93(0x92)],_0x2c68db+=_0x298e93(0xcc)+(canEdit?_0x442dad[_0x298e93(0x7a)](_0x442dad[_0x298e93(0x99)],_0x40ca6b['Id']):'#')+_0x298e93(0x7f)+_0x529089['getDefaultBackgroundClass']()+'\x22>';const _0x162bf6=_0x306cf2[_0x298e93(0x8a)](_0x40ca6b);return _0x162bf6?(_0x2c68db+=_0x442dad[_0x298e93(0x7a)](_0x298e93(0xb0),_0x162bf6)+_0x298e93(0x76),_0x2c68db+=_0x442dad['aQpyJ']):_0x2c68db+=_0x442dad[_0x298e93(0xb2)],_0x2c68db+=_0x298e93(0xaf),_0x2c68db+=_0x298e93(0xc5),_0x2c68db+=_0x442dad[_0x298e93(0xa3)],(canEdit||_0x442dad[_0x298e93(0xcd)](canDelete,_0x40ca6b['Id']))&&(_0x2c68db+=_0x442dad[_0x298e93(0x9c)],_0x2c68db+=_0x442dad[_0x298e93(0xcb)]('<button\x20type=\x22button\x22\x20is=\x22paper-icon-button-light\x22\x20data-id=\x22'+_0x40ca6b['Id']+_0x442dad[_0x298e93(0xa8)]+_0x1693a2[_0x298e93(0x87)](_0x298e93(0xb4)),_0x298e93(0xad)),_0x2c68db+=_0x298e93(0xc5)),_0x2c68db+=_0x442dad[_0x298e93(0xc4)],_0x2c68db+=_0x442dad['VLmUF'](_0x3cf53c,_0x40ca6b[_0x298e93(0x9e)]),_0x2c68db+=_0x442dad[_0x298e93(0xa7)],_0x2c68db+=_0x298e93(0xbf),_0x2c68db+=_0x3cf53c(_0x40ca6b[_0x298e93(0x8e)]+'\x20'+_0x40ca6b['AppVersion']),_0x2c68db+=_0x442dad[_0x298e93(0xa7)],_0x2c68db+=_0x442dad[_0x298e93(0x94)],_0x40ca6b['LastUserName']&&(_0x2c68db+=_0x442dad[_0x298e93(0xcd)](_0x3cf53c,_0x40ca6b['LastUserName']),_0x2c68db+=',\x20'+_0x442dad[_0x298e93(0x88)](formatDistanceToNow,Date[_0x298e93(0x95)](_0x40ca6b[_0x298e93(0x9b)]),_0x18a1be)),_0x2c68db+=_0x298e93(0xc3),_0x2c68db+=_0x298e93(0xc5),_0x2c68db+=_0x298e93(0xc5),_0x2c68db+=_0x298e93(0xc5),_0x2c68db+=_0x298e93(0xc5),_0x2c68db;})[_0x18f72a(0x89)](''),_0x543619['querySelector'](_0x18f72a(0xac))[_0x18f72a(0xb7)]=_0x2325f3;}function loadData(_0x252ffe){const _0x1e125b=_0x1147,_0x15681c={'ZMmPo':_0x1e125b(0x9a)};_0x579995[_0x1e125b(0xb9)](),ApiClient['getJSON'](ApiClient['getUrl'](_0x15681c['ZMmPo']))[_0x1e125b(0x8d)](function(_0x1d83c9){const _0x16cd91=_0x1e125b;load(_0x252ffe,_0x1d83c9['Items']),deviceIds=_0x1d83c9[_0x16cd91(0xab)][_0x16cd91(0xc0)](_0x245419=>_0x245419['Id']),_0x579995['hide']();});}function _0x19ff(){const _0x30845b=['Items','.devicesList','\x22\x20class=\x22btnDeviceMenu\x22><span\x20class=\x22material-icons\x20more_vert\x22\x20aria-hidden=\x22true\x22></span></button>','#deviceDeleteAll','</a>','<div\x20class=\x22cardImage\x22\x20style=\x22background-image:url(\x27','CVcBa','qQUfD','<div\x20data-id=\x27','Menu','18681157tlrQaX','click','innerHTML','DeleteDeviceConfirmation','show','getAttribute','dajPr','ASlSz','HkvKg','Edit','<div\x20class=\x27cardText\x20cardText-secondary\x27>','map','isMinServerVersion','PeOrX','&nbsp;','kCbQB','</div>','<div\x20class=\x27cardText\x27>','wpVes','2684436PRcMih','target','deviceId','lGJnh','<a\x20is=\x22emby-linkbutton\x22\x20href=\x22','DGsKz','<div\x20class=\x22cardPadder\x20cardPadder-backdrop\x22></div>','1278474mWdOoy','3.4.1.31','23096xNxITt','\x27);background-size:\x20auto\x2064%;background-position:center\x20center;\x22>','btnDeviceMenu','Delete','774wnqqMN','XhyrP','mode_edit','wwTJg','\x27\x20class=\x27card\x20backdropCard\x27>','9940400tuDYzX','\x22\x20class=\x22cardContent\x20cardImageContainer\x20','GyUoN','push','ChfFZ','gRhwc','ZxMNO','1539uHXAIX','all','translate','ssZlI','join','getDeviceIcon','addEventListener','querySelector','then','AppName','74sYkkXS','HeaderDeleteDevices','device.html?id=','UvHFO','QzWGt','TEtqo','parse','deleteDevice','KedkQ','HeaderDeleteDevice','HkvXD','Devices','DateLastActivity','LgNap','viewshow','Name','filter','data-id','3472310DXauoU','4shwRBS','UrShB','delete','#!/device.html?id=','21dYkekx','aQpyJ','Ztvqp','../../../components/actionSheet/actionSheet','<div\x20class=\x22cardFooter\x22>'];_0x19ff=function(){return _0x30845b;};return _0x19ff();}const canEdit=ApiClient[_0x4cb35b(0xc1)](_0x4cb35b(0x74));export default function (view){const _0x1f7127=_0x4cb35b,TxqKdN={'QzWGt':_0x1f7127(0x77),'dajPr':_0x1f7127(0xa0),'ChfFZ':function(callee,param1){return callee(param1);}};view[_0x1f7127(0x8c)](_0x1f7127(0xac))[_0x1f7127(0x8b)](_0x1f7127(0xb6),function(e){const _0x16cdd0=_0x1f7127,btnDeviceMenu=_0x1e279c['parentWithClass'](e[_0x16cdd0(0xc9)],TxqKdN[_0x16cdd0(0x93)]);btnDeviceMenu&&showDeviceMenu(view,btnDeviceMenu,btnDeviceMenu[_0x16cdd0(0xba)](TxqKdN[_0x16cdd0(0xbb)]));}),view[_0x1f7127(0x8b)](_0x1f7127(0x9d),function(){const _0xc0d556=_0x1f7127;TxqKdN[_0xc0d556(0x82)](loadData,this);}),view['querySelector'](_0x1f7127(0xae))['addEventListener']('click',function(){deleteAllDevices(view);});}