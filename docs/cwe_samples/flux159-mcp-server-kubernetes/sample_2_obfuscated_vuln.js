const _0x254c47=_0x3b33;function _0x2226(){const _0x4bf082=['getOrgUUID','BMpNB','QiIrG','/user-updated-requestor-user-username-changed/','rYsaO','ENoEP','xCBDR','../../../src/constants','XugyR','Positive\x20Tests','UDWWA','DOFoF','Testing\x20the\x20PUT\x20/org/:shortname/user/:username\x20endpoint\x20in\x20Org\x20Controller','?active=true','888176BDvkIM','suffix','NWljL','../../../src/controller/org.controller/error','16PhcXYs','VYBBt','sOJUy','umQTw','User\x20is\x20not\x20updated\x20because\x20the\x20new\x20shortname\x20does\x20not\x20exist','cHHvH','372188nbodLd','json','vNlWH','FwWZb','aggregate','splice','expect','set','OfzJY','numHW','secretariatHeader','aBwXn','UhWVR','PRwum','rsSFW','name','/user-updated-requestor-user-username-changed/:shortname/:username','request','WpOKp','jTtOf','fzHFY','getUserUUID','YUjjw','bzzyb','TnXml','equal','KcoVh','TPQbR','user','orgDne','FaMsj','brgBg','DVEIN','nDXGh','/user-updated-adding-role-1/:shortname/:username','chai','NAniU','SEJNS','TVxJG','llMxJ','existentOrg','mDaye','IZYxt','findOneByUserNameAndOrgUUID','updateByUserNameAndOrgUUID','fkxff','148310RhBTxP','put','stringify','ZhlJi','updated','XVEhr','vqhsQ','sxEiI','PHgjG','niatN','VFPIB','RvRQv','FrMNZ','KAxab','sdLvT','CGnug','and','isSecretariat','HKgrZ','NVppx','cJesT','psrwh','/user-not-updated-doesnt-exist/','iQvmt','vuqgi','YeoWm','QCqHq','lCfBW','iTUzp','556590GIMOex','KUarr','Ucoxc','DLyPI','pfVmH','../../../src/middleware/middleware','nonExistentOrg','JGUxQ','userD','getUser','hEfJN','14jECzXU','userDHeader','?active_roles.add=','JjwOt','yrAow','tshSU','ADMIN','/user-updated-adding-role-2/:shortname/:username','body','parsePostParams','/user-updated-requestor-admin-deactivate-user/','LQCTm','35548DQmPHc','PKRwI','rAjZr','rviNv','vYDdB','use','?new_username=TESTER','HWlFc','RDbbd','iqrHw','lengthOf','orgDneParam','RpbfZ','short_name','gKzAz','/user-not-updated-requestor-not-admin-secretariat-user/','IMhRk','KHBCm','notOrgAdminOrSecretariat','oeJOy','WCKrv','XvxgN','first','5|0|13|11|9|3|4|7|1|10|14|2|8|12|6|15','LPTWp','brdzt','iAHUL','XHZEG','createCtxAndReqUUID','PnFfF','wAtkk','username','testRes1','User\x20is\x20not\x20updated\x20because\x20requestor\x20is\x20Org\x20Admin\x20of\x20different\x20organization','BtGLw','existentUserDummy','BwAaE','EecAo','8998kfAbSh','Negative\x20Tests','rkFsT','ErvGP','MvKcd','object','/user-not-updated-admin-changing-org/','TESTER','surname','status','USER_ROLE_ENUM','Mvqnf','CIgDn','parse','nonExistentUser','vKEQR','qBDMc','27GCgkll','isAdmin','urlencoded','gcBPt','UGxQI','existentUser','User\x20is\x20updated:\x20Deactivating\x20User\x20as\x20Admin','error','/user-not-updated-doesnt-exist/:shortname/:username','nxHeu','aFEMZ','xeRjE','xEvjN','SyRuL','User\x20is\x20unchanged:\x20No\x20query\x20parameters\x20are\x20provided','ELcFu','eEIEi','iQaBT','RBKYq','CgAeJ','User\x20is\x20updated:\x20Removing\x20a\x20user\x20role','13|0|4|11|9|7|3|14|1|12|5|8|15|6|16|10|2','owningOrgHeader','bokrJ','AMkRI','assign','notAllowedToChangeOrganization','end','User\x20is\x20unchanged:\x20Removing\x20a\x20user\x20role\x20that\x20the\x20user\x20does\x20not\x20have','secret','split','RrmAI','wuhlT','User\x20is\x20not\x20updated\x20because\x20Org\x20Admin\x20is\x20trying\x20to\x20change\x20organization','ierdP','iSNFn','message','./mockObjects.user','TJaVn','/user-not-updated-requestor-different-admin/:shortname/:username','last','/user-updated-removing-role-2/:shortname/:username','active_roles','/user-not-updated-cant-update-active-field/','kXWnn','authority','bfnTC','have','ohNla','3|4|1|0|2|5','userA','hpsEG','uNkVu','NfHpi','OwJhh','IraCX','VHXqK','User\x20is\x20updated:\x20Adding\x20a\x20user\x20role','vuBwY','userAHeader','/user-not-updated-org-doesnt-exist/:shortname/:username','SYutS','UHzfQ','nGCbP','DDWXU','aFzvu','../../../src/controller/org.controller/org.controller','fQaGh','iChwA','?active_roles.remove=','/user-not-updated-user-doesnt-exist/','/user-updated-removing-role-1/:shortname/:username','SaZnb','&active_roles.add=','aOyFj','/user-not-updated-no-parameters/','User\x20is\x20not\x20updated\x20because\x20org\x20does\x20not\x20exist','replace','6924CLFWOD','15ckSbZo','RckeQ','UUID','kykPQ','GvpoE','CVE-API-USER','bPFIz','org_UUID','&active_roles.remove=','gGoBO','/user-not-updated-requestor-different-admin/','tlulo','ikaiD','hDFmf','Anlkd','neaSE','RuMuW','osQWW','HQFKs','User\x20is\x20updated:\x20Username\x20changed\x20as\x20user','notSameUserOrSecretariat','yfowU','push','Wcwsp','USER_UPDATE_SINGLE','uLwYF','yCMhg','existentOrgDummy','FRENM','../../../src/controller/org.controller/org.middleware','JhOdU','fgRzI','XQimF','wMDFs','?org_shortname=','mOPXz','EdfcQ','/user-updated-requestor-admin-deactivate-user/:shortname/:username','PcwRG','express','/user-not-updated-admin-changing-org/:shortname/:username','ctx','256923WMKmgB','route','dtUTi','owningOrg','smyHR','repositories','OYNZS','kelOs','HgIbL','middle','jFgWR','MuXMe','sCSkR','lLnMC','property','ElqQw','chai-http','active','qMQBc','IXPIm','PHHWx','qWmgn'];_0x2226=function(){return _0x4bf082;};return _0x2226();}(function(_0x3c2d58,_0x13663e){const _0x2db8cd=_0x3b33,_0x1b8b3b=_0x3c2d58();while(!![]){try{const _0xd55485=parseInt(_0x2db8cd(0x11f))/0x1*(parseInt(_0x2db8cd(0x187))/0x2)+parseInt(_0x2db8cd(0xf7))/0x3+-parseInt(_0x2db8cd(0x125))/0x4*(-parseInt(_0x2db8cd(0xcd))/0x5)+-parseInt(_0x2db8cd(0x170))/0x6*(parseInt(_0x2db8cd(0x17b))/0x7)+parseInt(_0x2db8cd(0x11b))/0x8+-parseInt(_0x2db8cd(0x7e))/0x9*(-parseInt(_0x2db8cd(0x153))/0xa)+-parseInt(_0x2db8cd(0x6d))/0xb*(parseInt(_0x2db8cd(0xcc))/0xc);if(_0xd55485===_0x13663e)break;else _0x1b8b3b['push'](_0x1b8b3b['shift']());}catch(_0x366129){_0x1b8b3b['push'](_0x1b8b3b['shift']());}}}(_0x2226,0x23edd));const express=require(_0x254c47(0xf4)),app=express(),chai=require(_0x254c47(0x148)),expect=chai[_0x254c47(0x12b)];chai[_0x254c47(0x18c)](require(_0x254c47(0x107))),app[_0x254c47(0x18c)](express[_0x254c47(0x126)]()),app[_0x254c47(0x18c)](express[_0x254c47(0x80)]({'extended':![]}));const middleware=require(_0x254c47(0x175));app[_0x254c47(0x18c)](middleware[_0x254c47(0x1a3)]);function _0x3b33(_0x241b4d,_0x3d0dc2){const _0x2226d3=_0x2226();return _0x3b33=function(_0x3b3358,_0x34b7ec){_0x3b3358=_0x3b3358-0x65;let _0x39fc25=_0x2226d3[_0x3b3358];return _0x39fc25;},_0x3b33(_0x241b4d,_0x3d0dc2);}const CONSTANTS=require(_0x254c47(0x114)),errors=require(_0x254c47(0x11e)),error=new errors['OrgControllerError'](),userFixtures=require(_0x254c47(0xa3)),orgController=require(_0x254c47(0xc0)),orgParams=require(_0x254c47(0xea));class OrgUserNotUpdatedOrgQueryDoesntExist{async[_0x254c47(0x10d)](_0x5662a7){const _0x253727=_0x254c47;if(_0x5662a7===userFixtures[_0x253727(0x14d)][_0x253727(0x194)])return userFixtures[_0x253727(0x14d)]['UUID'];return null;}async['isSecretariat'](){return!![];}}class OrgUserUpdatedAddingRole{async['getOrgUUID'](){const _0x4fe328=_0x254c47;return userFixtures['owningOrg'][_0x4fe328(0xcf)];}async[_0x254c47(0x164)](){return!![];}}class UserUpdatedAddingRole{constructor(){const _0x588bb7=_0x254c47;this['user']={'org_UUID':userFixtures[_0x588bb7(0x6a)][_0x588bb7(0xd4)],'username':userFixtures['existentUserDummy'][_0x588bb7(0x66)],'UUID':userFixtures[_0x588bb7(0x6a)][_0x588bb7(0xcf)],'active':userFixtures[_0x588bb7(0x6a)]['active'],'name':userFixtures['existentUserDummy'][_0x588bb7(0x134)],'authority':{'active_roles':[]},'secret':userFixtures['existentUserDummy']['secret']},this[_0x588bb7(0x67)]=JSON[_0x588bb7(0x7a)](JSON[_0x588bb7(0x155)](userFixtures[_0x588bb7(0x6a)])),this[_0x588bb7(0x67)]['authority'][_0x588bb7(0xa8)]=[CONSTANTS[_0x588bb7(0x77)][_0x588bb7(0x181)]];}[_0x254c47(0x179)](){const _0x188b6b=_0x254c47;return this[_0x188b6b(0x141)][_0x188b6b(0xab)][_0x188b6b(0xa8)][_0x188b6b(0xe3)](CONSTANTS['USER_ROLE_ENUM']['ADMIN']),this['user'];}async[_0x254c47(0x150)](){return this['user'];}async['updateByUserNameAndOrgUUID'](){return{'n':0x1,'nModified':0x1,'ok':0x1};}async[_0x254c47(0x13a)](){const _0x27a0ff=_0x254c47;return this[_0x27a0ff(0x141)][_0x27a0ff(0xcf)];}async['isAdmin'](){return!![];}async['aggregate'](){return[this['testRes1']];}}describe(_0x254c47(0x119),()=>{const _0x55ea75=_0x254c47,_0x32bb03={'RccuX':function(_0x58c7a4,_0x224275){return _0x58c7a4(_0x224275);},'fCYYN':function(_0x2ecdc7,_0x119c89){return _0x2ecdc7!==_0x119c89;},'bDlEn':function(_0x110d88,_0x2a28cd){return _0x110d88(_0x2a28cd);},'vqhsQ':_0x55ea75(0x72),'gGoBO':function(_0x1a6610,_0x440db5){return _0x1a6610(_0x440db5);},'vuqgi':'qWmgn','HWlFc':function(_0x4e6804,_0x67f01e){return _0x4e6804!==_0x67f01e;},'iTUzp':_0x55ea75(0x183),'xeRjE':'/user-not-updated-user-doesnt-exist/:shortname/:username','WCKrv':function(_0x422d38,_0x173457){return _0x422d38===_0x173457;},'DDWXU':_0x55ea75(0xa5),'mVBrj':'mDaye','wAtkk':_0x55ea75(0xd2),'iotil':function(_0x1bf6db){return _0x1bf6db();},'SaZnb':'/user-not-updated-cant-update-active-field/:shortname/:username','iChwA':'/user-not-updated-requestor-not-admin-secretariat-user/:shortname/:username','PnFfF':function(_0x47dc3f,_0x4df0ae){return _0x47dc3f(_0x4df0ae);},'qzkin':_0x55ea75(0xb6),'tMChY':'User\x20is\x20not\x20updated\x20because\x20user\x20does\x20not\x20exist','kelOs':_0x55ea75(0x123),'UGxQI':function(_0x59cd2a,_0x5f5c53,_0x17cc34){return _0x59cd2a(_0x5f5c53,_0x17cc34);},'XvxgN':_0x55ea75(0x9f),'IMhRk':function(_0x51d1b5,_0x2d77e3,_0x34f2f4){return _0x51d1b5(_0x2d77e3,_0x34f2f4);},'BwAaE':_0x55ea75(0x68),'NAniU':'User\x20is\x20not\x20updated\x20because\x20user\x20can\x27t\x20update\x20their\x20own\x20active\x20field','NVppx':'KAEXQ','RrmAI':_0x55ea75(0xa0),'NqvyC':_0x55ea75(0x17e),'dPLmT':_0x55ea75(0x147),'KxCFb':function(_0x50bd14,_0xfe9b3d){return _0x50bd14(_0xfe9b3d);},'rHTSO':function(_0x404c4b,_0x1277ab){return _0x404c4b(_0x1277ab);},'osQWW':function(_0x2f56e2,_0x517f59){return _0x2f56e2!==_0x517f59;},'xCBDR':_0x55ea75(0x190),'SEJNS':'seXbz','PbrCT':function(_0x4e3cad){return _0x4e3cad();},'GvpoE':_0x55ea75(0x8e),'OwJhh':function(_0x1891ad){return _0x1891ad();},'LPTWp':function(_0x59e7be,_0x6b1f33){return _0x59e7be(_0x6b1f33);},'CGnug':function(_0x4bdcb0,_0x319e7b){return _0x4bdcb0(_0x319e7b);},'rAjZr':function(_0x423ae7,_0x32284c){return _0x423ae7(_0x32284c);},'SVFKL':function(_0x436494,_0x24a9c6){return _0x436494(_0x24a9c6);},'euhwA':function(_0x2d01e8,_0x488b02){return _0x2d01e8(_0x488b02);},'iQvmt':function(_0x34bf08,_0x15daf0){return _0x34bf08(_0x15daf0);},'hDFmf':function(_0x4a02d1,_0x554827){return _0x4a02d1(_0x554827);},'BXzbD':function(_0x22a29b,_0x42c0bc){return _0x22a29b(_0x42c0bc);},'KHBCm':_0x55ea75(0x93),'zidlw':_0x55ea75(0xb8),'YeoWm':function(_0x269541,_0x567aa4){return _0x269541(_0x567aa4);},'NfHpi':_0x55ea75(0xa7),'osxZS':_0x55ea75(0x79),'lLnMC':function(_0x2859d4,_0x27fb28){return _0x2859d4(_0x27fb28);},'iSNFn':function(_0x16d313,_0x432257,_0x58bca6){return _0x16d313(_0x432257,_0x58bca6);},'DLyPI':_0x55ea75(0xb7),'ZUVqB':_0x55ea75(0x9a),'FFoRO':_0x55ea75(0xe0),'pfVmH':_0x55ea75(0x8c),'gcBPt':_0x55ea75(0x6e),'aFzvu':_0x55ea75(0x116)};context(_0x32bb03[_0x55ea75(0x81)],()=>{const _0x28f90b=_0x55ea75,_0x4c7550={'TMvsH':_0x28f90b(0x156),'aOyFj':function(_0x2530af,_0x969207){const _0x31051d=_0x28f90b;return _0x32bb03[_0x31051d(0xd6)](_0x2530af,_0x969207);},'wMDFs':function(_0x40d290,_0x329f4e){return _0x40d290(_0x329f4e);},'RvRQv':_0x32bb03[_0x28f90b(0x16f)],'uNkVu':function(_0x428fe0){return _0x428fe0();},'TnXml':function(_0x446054,_0x10a590){return _0x446054(_0x10a590);},'bPFIz':_0x28f90b(0x72),'dtUTi':function(_0x27abd3){return _0x27abd3();},'IXPIm':function(_0x4ab0e9,_0x32cf5b){const _0x2a8a12=_0x28f90b;return _0x32bb03[_0x2a8a12(0x19b)](_0x4ab0e9,_0x32cf5b);},'sCSkR':'ElqQw','SyRuL':function(_0xb201b9,_0x116270){return _0xb201b9!==_0x116270;},'vtKuV':function(_0x294f09,_0x52ba1e){return _0x294f09(_0x52ba1e);},'PcwRG':function(_0x2ddc61,_0x2caf2e){return _0x2ddc61(_0x2caf2e);},'sdLvT':function(_0x342667){return _0x342667();},'aBwXn':_0x32bb03[_0x28f90b(0xc2)],'vKEQR':function(_0x47b7bc,_0x43a81c){return _0x47b7bc!==_0x43a81c;},'MuXMe':_0x28f90b(0xe6),'MvKcd':function(_0x545184,_0x280bcf){return _0x545184(_0x280bcf);},'NWljL':function(_0x183422,_0x108756){const _0x12c412=_0x28f90b;return _0x32bb03[_0x12c412(0x1a4)](_0x183422,_0x108756);},'jTtOf':_0x28f90b(0xd9),'SzZiA':_0x32bb03['qzkin'],'ypCuZ':_0x28f90b(0xd2)};it(_0x28f90b(0xca),_0x445132=>{const _0x5507c6=_0x28f90b,_0xd18525={'VCCzq':function(_0x4a592f,_0x36ebed){return _0x32bb03['RccuX'](_0x4a592f,_0x36ebed);},'wMDSG':function(_0x469209,_0xbfb46d){return _0x32bb03['fCYYN'](_0x469209,_0xbfb46d);},'tlulo':'mqFty','Mvqnf':function(_0x2dc83f,_0x4489bb){return _0x32bb03['bDlEn'](_0x2dc83f,_0x4489bb);},'RYZbD':'body','UDWWA':_0x32bb03[_0x5507c6(0x159)],'BfJyP':function(_0x588e79,_0x4b5b4e){const _0x133735=_0x5507c6;return _0x32bb03[_0x133735(0xd6)](_0x588e79,_0x4b5b4e);},'ENoEP':function(_0x6f8d11){return _0x6f8d11();}};class _0x307939{async[_0x5507c6(0x10d)](){const _0x1fdd87=_0x5507c6,_0x18415b={'brdzt':function(_0x6d8305,_0x53336a){return _0xd18525['VCCzq'](_0x6d8305,_0x53336a);}};if(_0xd18525['wMDSG'](_0xd18525[_0x1fdd87(0xd8)],_0xd18525['tlulo']))_0x18415b[_0x1fdd87(0x1a0)](_0x1972a0,_0x40d4a5);else return null;}async[_0x5507c6(0x164)](){return!![];}}class _0x39c5ef{async[_0x5507c6(0x13a)](){return _0x4c7550['TMvsH']==='ZhlJi'?null:this['user'];}async[_0x5507c6(0x150)](){return null;}async[_0x5507c6(0x7f)](){return null;}}app[_0x5507c6(0xf8)](_0x5507c6(0xba))['put']((_0x2f62f5,_0x48c622,_0x566f1f)=>{const _0x110f8e={'getOrgRepository':()=>{return new _0x307939();},'getUserRepository':()=>{return new _0x39c5ef();}};_0x2f62f5['ctx']['repositories']=_0x110f8e,_0x566f1f();},orgParams[_0x5507c6(0x184)],orgController[_0x5507c6(0xe5)]);const _0x470f41=userFixtures[_0x5507c6(0x176)][_0x5507c6(0x194)][_0x5507c6(0xcb)](/\s/g,''),_0x1503ad=userFixtures[_0x5507c6(0x83)][_0x5507c6(0x66)]['replace'](/\s/g,'');chai[_0x5507c6(0x136)](app)[_0x5507c6(0x154)]('/user-not-updated-org-doesnt-exist/'+_0x470f41+'/'+_0x1503ad)[_0x5507c6(0x12c)](userFixtures['secretariatHeader'])['end']((_0x8e1eb5,_0x28f0b4)=>{const _0x3d17ae=_0x5507c6;_0x8e1eb5&&_0xd18525[_0x3d17ae(0x78)](_0x445132,_0x8e1eb5);expect(_0x28f0b4)['to'][_0x3d17ae(0xad)][_0x3d17ae(0x76)](0x194),expect(_0x28f0b4)['to']['have']['property'](_0xd18525['RYZbD'])[_0x3d17ae(0x163)]['to']['be']['a'](_0xd18525[_0x3d17ae(0x117)]);const _0x5d046a=error[_0x3d17ae(0x192)](userFixtures[_0x3d17ae(0x176)]['short_name']);_0xd18525['BfJyP'](expect,_0x28f0b4['body']['error'])['to']['equal'](_0x5d046a['error']),expect(_0x28f0b4[_0x3d17ae(0x183)][_0x3d17ae(0xa2)])['to']['equal'](_0x5d046a[_0x3d17ae(0xa2)]),_0xd18525[_0x3d17ae(0x112)](_0x445132);});}),it(_0x32bb03['tMChY'],_0x46c3c5=>{const _0x16163f=_0x28f90b,_0x2a83fc={'rkFsT':function(_0x102127,_0x239591){const _0x368ca4=_0x3b33;return _0x4c7550[_0x368ca4(0x13d)](_0x102127,_0x239591);},'gKzAz':_0x16163f(0x183),'smyHR':_0x4c7550[_0x16163f(0xd3)],'FwWZb':function(_0x5355ff,_0x327153){return _0x5355ff(_0x327153);},'AsIJN':_0x16163f(0x14c),'BwIhL':function(_0x464e8e){const _0x267e05=_0x16163f;return _0x4c7550[_0x267e05(0xf9)](_0x464e8e);}};class _0x175e72{async['getOrgUUID'](){const _0x597065=_0x16163f;return userFixtures[_0x597065(0x14d)];}async[_0x16163f(0x164)](){return!![];}}class _0x3ac97b{async[_0x16163f(0x150)](){return null;}async[_0x16163f(0x7f)](){return null;}}app[_0x16163f(0xf8)](_0x16163f(0x86))[_0x16163f(0x154)]((_0x1db82f,_0x4f3ede,_0x2f209b)=>{const _0xca7787=_0x16163f;if(_0x2a83fc['AsIJN']==='Nagsd')_0x5a389b&&_0x46ccfc(_0x48868a),_0x3e4d63(_0x112ee0)['to']['have'][_0xca7787(0x76)](0xc8),_0x2a83fc[_0xca7787(0x6f)](_0xc3c8c2,_0x12585a)['to'][_0xca7787(0xad)][_0xca7787(0x105)](_0x2a83fc[_0xca7787(0x195)])[_0xca7787(0x163)]['to']['be']['a'](_0x2a83fc[_0xca7787(0xfb)]),_0x2db8cb(_0x1f135f[_0xca7787(0x183)])['to']['have'][_0xca7787(0x105)](_0xca7787(0x157))[_0xca7787(0x163)]['to']['be']['a'](_0xca7787(0x72)),_0x614754(_0x13573d[_0xca7787(0x183)]['updated'][_0xca7787(0xab)][_0xca7787(0xa8)])['to']['have'][_0xca7787(0x191)](0x0),_0x15294f(_0xc5cc60[_0xca7787(0x183)][_0xca7787(0x157)]['org_UUID'])['to'][_0xca7787(0x13e)](_0x936dc1[_0xca7787(0x6a)][_0xca7787(0xd4)]),_0x243398(_0x589cf3[_0xca7787(0x183)][_0xca7787(0x157)][_0xca7787(0x66)])['to'][_0xca7787(0x13e)](_0x14c5d8['existentUserDummy']['username']),_0x2a83fc['FwWZb'](_0x1dbe27,_0x5b7546[_0xca7787(0x183)]['updated'][_0xca7787(0xcf)])['to'][_0xca7787(0x13e)](_0x3f1283[_0xca7787(0x6a)][_0xca7787(0xcf)]),_0x450f8a(_0x5d9c6e[_0xca7787(0x183)][_0xca7787(0x157)][_0xca7787(0x9b)])['to'][_0xca7787(0x13e)](_0x25e6bc['existentUserDummy']['secret']),_0x2dd498(_0x1dbffa[_0xca7787(0x183)]['updated'][_0xca7787(0x108)])['to'][_0xca7787(0x13e)](_0x1606a1[_0xca7787(0x6a)][_0xca7787(0x108)]),_0x197058(_0x5f0a02[_0xca7787(0x183)]['updated'][_0xca7787(0x134)][_0xca7787(0x19d)])['to'][_0xca7787(0x13e)](_0x50c70f[_0xca7787(0x6a)][_0xca7787(0x134)][_0xca7787(0x19d)]),_0xa35b1e(_0x42c1d7[_0xca7787(0x183)][_0xca7787(0x157)]['name'][_0xca7787(0xa6)])['to'][_0xca7787(0x13e)](_0x2a682b[_0xca7787(0x6a)][_0xca7787(0x134)][_0xca7787(0xa6)]),_0x1882a1(_0x4a5c87[_0xca7787(0x183)]['updated'][_0xca7787(0x134)][_0xca7787(0x100)])['to'][_0xca7787(0x13e)](_0x3c796e[_0xca7787(0x6a)][_0xca7787(0x134)]['middle']),_0x2a83fc[_0xca7787(0x128)](_0x32349d,_0x1d4de0[_0xca7787(0x183)][_0xca7787(0x157)][_0xca7787(0x134)][_0xca7787(0x11c)])['to'][_0xca7787(0x13e)](_0x4421a0[_0xca7787(0x6a)][_0xca7787(0x134)][_0xca7787(0x11c)]),_0x590e4d(_0x1938a7[_0xca7787(0x183)]['updated'][_0xca7787(0x134)][_0xca7787(0x75)])['to']['equal'](_0x33d877[_0xca7787(0x6a)]['name'][_0xca7787(0x75)]),_0x1a4c8d();else{const _0x226560={'getOrgRepository':()=>{return new _0x175e72();},'getUserRepository':()=>{return new _0x3ac97b();}};_0x1db82f['ctx'][_0xca7787(0xfc)]=_0x226560,_0x2a83fc['BwIhL'](_0x2f209b);}},orgParams[_0x16163f(0x184)],orgController['USER_UPDATE_SINGLE']);const _0x1a2f84=userFixtures[_0x16163f(0x14d)]['short_name'][_0x16163f(0xcb)](/\s/g,''),_0x2e29e9=userFixtures['nonExistentUser'][_0x16163f(0x66)][_0x16163f(0xcb)](/\s/g,'');chai[_0x16163f(0x136)](app)[_0x16163f(0x154)](_0x16163f(0x169)+_0x1a2f84+'/'+_0x2e29e9)[_0x16163f(0x12c)](userFixtures['secretariatHeader'])['end']((_0x37e2f5,_0x46c216)=>{const _0xcd85a3=_0x16163f;_0x37e2f5&&_0x4c7550[_0xcd85a3(0xc8)](_0x46c3c5,_0x37e2f5);_0x4c7550[_0xcd85a3(0xee)](expect,_0x46c216)['to'][_0xcd85a3(0xad)][_0xcd85a3(0x76)](0x194),expect(_0x46c216)['to']['have']['property'](_0x4c7550['RvRQv'])[_0xcd85a3(0x163)]['to']['be']['a']('object');const _0x89c135=error['userDne'](userFixtures[_0xcd85a3(0x7b)][_0xcd85a3(0x66)]);expect(_0x46c216['body'][_0xcd85a3(0x85)])['to']['equal'](_0x89c135[_0xcd85a3(0x85)]),expect(_0x46c216['body'][_0xcd85a3(0xa2)])['to'][_0xcd85a3(0x13e)](_0x89c135['message']),_0x4c7550[_0xcd85a3(0xb2)](_0x46c3c5);});}),it(_0x32bb03[_0x28f90b(0xfe)],_0x58985d=>{const _0x4fbbe6=_0x28f90b,_0x5cbd4f={'RpbfZ':_0x32bb03[_0x4fbbe6(0x16b)],'jlkfz':function(_0x40fa75,_0x1ae3d2){const _0x26d0d1=_0x4fbbe6;return _0x32bb03[_0x26d0d1(0x18e)](_0x40fa75,_0x1ae3d2);},'OfzJY':function(_0x3d1985,_0x2e9e38){return _0x3d1985(_0x2e9e38);},'KUarr':_0x32bb03[_0x4fbbe6(0x16f)],'ErvGP':function(_0x10b6aa){return _0x10b6aa();}};class _0x1c52d1{async[_0x4fbbe6(0x150)](){const _0x431d48=_0x4fbbe6;return userFixtures[_0x431d48(0x83)];}async['isAdmin'](){const _0x38b5ee=_0x4fbbe6;return _0x4c7550[_0x38b5ee(0x10a)](_0x38b5ee(0x106),_0x4c7550[_0x38b5ee(0x103)])?null:![];}}app[_0x4fbbe6(0xf8)](_0x32bb03[_0x4fbbe6(0x89)])['put']((_0xbd47fb,_0x1b57f3,_0x54c104)=>{const _0x25230e=_0x4fbbe6,_0x3b47ed={'getOrgRepository':()=>{const _0xf15be=_0x3b33;return _0x5cbd4f[_0xf15be(0x193)]!==_0xf15be(0x10c)?![]:new OrgUserNotUpdatedOrgQueryDoesntExist();},'getUserRepository':()=>{const _0x5d8657=_0x3b33;if(_0x5cbd4f['jlkfz']('gntkT','gntkT'))this[_0x5d8657(0x141)]={'org_UUID':_0x40bb35['existentUserDummy'][_0x5d8657(0xd4)],'username':_0x1f34f0[_0x5d8657(0x6a)][_0x5d8657(0x66)],'UUID':_0x5e2d24[_0x5d8657(0x6a)][_0x5d8657(0xcf)],'active':_0x1eadac[_0x5d8657(0x6a)]['active'],'name':_0x5bc76d['existentUserDummy'][_0x5d8657(0x134)],'authority':_0x290cdf['existentUserDummy']['authority'],'secret':_0x46c9c6['existentUserDummy'][_0x5d8657(0x9b)]};else return new _0x1c52d1();}};_0xbd47fb['ctx'][_0x25230e(0xfc)]=_0x3b47ed,_0x54c104();},orgParams[_0x4fbbe6(0x184)],orgController['USER_UPDATE_SINGLE']),chai[_0x4fbbe6(0x136)](app)[_0x4fbbe6(0x154)](_0x4fbbe6(0xc4)+userFixtures[_0x4fbbe6(0x14d)]['short_name']+'/'+userFixtures[_0x4fbbe6(0x83)][_0x4fbbe6(0x66)]+_0x4fbbe6(0xef)+userFixtures[_0x4fbbe6(0x176)][_0x4fbbe6(0x194)])['set'](userFixtures[_0x4fbbe6(0x12f)])[_0x4fbbe6(0x99)]((_0x32b9b1,_0x53e35a)=>{const _0x54e2f7=_0x4fbbe6;_0x32b9b1&&_0x5cbd4f[_0x54e2f7(0x12d)](_0x58985d,_0x32b9b1);expect(_0x53e35a)['to'][_0x54e2f7(0xad)][_0x54e2f7(0x76)](0x194),expect(_0x53e35a)['to'][_0x54e2f7(0xad)][_0x54e2f7(0x105)](_0x5cbd4f[_0x54e2f7(0x171)])[_0x54e2f7(0x163)]['to']['be']['a'](_0x54e2f7(0x72));const _0x3a1b2f=error[_0x54e2f7(0x142)](userFixtures[_0x54e2f7(0x176)]['short_name']);expect(_0x53e35a[_0x54e2f7(0x183)][_0x54e2f7(0x85)])['to'][_0x54e2f7(0x13e)](_0x3a1b2f[_0x54e2f7(0x85)]),expect(_0x53e35a[_0x54e2f7(0x183)][_0x54e2f7(0xa2)])['to'][_0x54e2f7(0x13e)](_0x3a1b2f[_0x54e2f7(0xa2)]),_0x5cbd4f[_0x54e2f7(0x70)](_0x58985d);});}),it('User\x20is\x20not\x20updated\x20because\x20requestor\x20is\x20not\x20Org\x20Admin,\x20Secretariat,\x20or\x20user',_0x21cb88=>{const _0x5c27fc=_0x28f90b,_0x191f8c={'DVEIN':function(_0x2840a8){const _0x320b81=_0x3b33;return _0x4c7550[_0x320b81(0x161)](_0x2840a8);}};class _0x2d275c{async[_0x5c27fc(0x10d)](){const _0x3dec4d=_0x5c27fc;return _0x4c7550[_0x3dec4d(0x8b)](_0x3dec4d(0x167),_0x3dec4d(0x13f))?userFixtures[_0x3dec4d(0x14d)][_0x3dec4d(0xcf)]:[this[_0x3dec4d(0x67)]];}async['isSecretariat'](){return![];}}class _0x53d6b2{async[_0x5c27fc(0x150)](){return userFixtures['existentUser'];}async[_0x5c27fc(0x7f)](){return![];}}app[_0x5c27fc(0xf8)](_0x4c7550[_0x5c27fc(0x130)])[_0x5c27fc(0x154)]((_0x31dd8e,_0x4fecc0,_0x8c85f7)=>{const _0x2ed355=_0x5c27fc,_0x233c50={'getOrgRepository':()=>{return new _0x2d275c();},'getUserRepository':()=>{return new _0x53d6b2();}};_0x31dd8e['ctx'][_0x2ed355(0xfc)]=_0x233c50,_0x191f8c[_0x2ed355(0x145)](_0x8c85f7);},orgParams[_0x5c27fc(0x184)],orgController[_0x5c27fc(0xe5)]),chai[_0x5c27fc(0x136)](app)['put'](_0x5c27fc(0x196)+userFixtures['existentOrg'][_0x5c27fc(0x194)]+'/'+userFixtures[_0x5c27fc(0x83)][_0x5c27fc(0x66)]+'?org_shortname='+userFixtures[_0x5c27fc(0x14d)]['short_name'])[_0x5c27fc(0x12c)](userFixtures[_0x5c27fc(0x94)])['end']((_0x14222e,_0x29097b)=>{const _0x2c045f=_0x5c27fc;_0x14222e&&_0x21cb88(_0x14222e);_0x4c7550['vtKuV'](expect,_0x29097b)['to'][_0x2c045f(0xad)]['status'](0x193),_0x4c7550[_0x2c045f(0xc8)](expect,_0x29097b)['to'][_0x2c045f(0xad)][_0x2c045f(0x105)](_0x2c045f(0x183))['and']['to']['be']['a'](_0x4c7550['bPFIz']);const _0x1afdb5=error[_0x2c045f(0xe1)]();expect(_0x29097b[_0x2c045f(0x183)][_0x2c045f(0x85)])['to'][_0x2c045f(0x13e)](_0x1afdb5['error']),_0x4c7550[_0x2c045f(0xf3)](expect,_0x29097b[_0x2c045f(0x183)][_0x2c045f(0xa2)])['to'][_0x2c045f(0x13e)](_0x1afdb5[_0x2c045f(0xa2)]),_0x4c7550[_0x2c045f(0xb2)](_0x21cb88);});}),_0x32bb03['UGxQI'](it,_0x32bb03[_0x28f90b(0x19c)],_0x32457b=>{const _0x5cc552=_0x28f90b,_0x7c2d0d={'AMkRI':_0x4c7550[_0x5cc552(0x138)],'RuNJu':function(_0x371dd3,_0x2875ef){return _0x371dd3!==_0x2875ef;}};if(_0x4c7550[_0x5cc552(0x8b)](_0x4c7550['SzZiA'],_0x5cc552(0xb5))){class _0x719eb6{async['getOrgUUID'](){const _0x3844dd=_0x5cc552;return userFixtures[_0x3844dd(0x14d)][_0x3844dd(0xcf)];}async[_0x5cc552(0x164)](){return![];}}class _0x29edb1{async['findOneByUserNameAndOrgUUID'](){const _0x325cd0=_0x5cc552;return userFixtures[_0x325cd0(0x83)];}async[_0x5cc552(0x7f)](){const _0x88660c=_0x5cc552;if(_0x4c7550[_0x88660c(0x8b)](_0x88660c(0x7d),_0x88660c(0x13b)))return!![];else{const _0x4a3b82={'getOrgRepository':()=>{return new _0x246360();},'getUserRepository':()=>{return new _0x11fa0e();}};_0x5a27fb[_0x88660c(0xf6)]['repositories']=_0x4a3b82,_0x3ddaa6();}}}app['route'](_0x5cc552(0xf5))[_0x5cc552(0x154)]((_0x273385,_0x4876da,_0x893f0e)=>{const _0x5544f1=_0x5cc552,_0x4e5d5a={'getOrgRepository':()=>{const _0x3a13fe=_0x3b33;return _0x3a13fe(0xd9)===_0x7c2d0d[_0x3a13fe(0x96)]?new _0x719eb6():_0xc8b124['existentUser'];},'getUserRepository':()=>{const _0x16746c=_0x3b33;return _0x7c2d0d['RuNJu'](_0x16746c(0xbc),_0x16746c(0xbc))?new _0x1e6d8f():new _0x29edb1();}};_0x273385['ctx'][_0x5544f1(0xfc)]=_0x4e5d5a,_0x893f0e();},orgParams[_0x5cc552(0x184)],orgController['USER_UPDATE_SINGLE']),chai['request'](app)[_0x5cc552(0x154)](_0x5cc552(0x73)+userFixtures[_0x5cc552(0xe8)][_0x5cc552(0x194)]+'/'+userFixtures['userA'][_0x5cc552(0x66)]+_0x5cc552(0xef)+userFixtures[_0x5cc552(0xe8)][_0x5cc552(0x194)])[_0x5cc552(0x12c)](userFixtures[_0x5cc552(0x17c)])[_0x5cc552(0x99)]((_0x2419ff,_0x1b13e4)=>{const _0x3a423a=_0x5cc552;if(_0x4c7550[_0x3a423a(0x7c)](_0x3a423a(0x115),_0x3a423a(0x115)))return null;else{if(_0x2419ff){if(_0x3a423a(0x1a1)!==_0x4c7550[_0x3a423a(0x102)])_0x4c7550[_0x3a423a(0x71)](_0x32457b,_0x2419ff);else return this[_0x3a423a(0x141)];}_0x4c7550[_0x3a423a(0x11d)](expect,_0x1b13e4)['to'][_0x3a423a(0xad)][_0x3a423a(0x76)](0x193),expect(_0x1b13e4)['to']['have'][_0x3a423a(0x105)](_0x4c7550[_0x3a423a(0x15e)])[_0x3a423a(0x163)]['to']['be']['a']('object');const _0x19c84b=error[_0x3a423a(0x98)]();expect(_0x1b13e4['body'][_0x3a423a(0x85)])['to'][_0x3a423a(0x13e)](_0x19c84b['error']),expect(_0x1b13e4[_0x3a423a(0x183)][_0x3a423a(0xa2)])['to'][_0x3a423a(0x13e)](_0x19c84b[_0x3a423a(0xa2)]),_0x4c7550[_0x3a423a(0x161)](_0x32457b);}});}else return _0x244fb0['userA'];}),_0x32bb03[_0x28f90b(0x197)](it,_0x32bb03[_0x28f90b(0x6b)],_0x343e65=>{const _0x1565ed=_0x28f90b,_0x296e5f={'Wcwsp':function(_0x4cc5b9){return _0x4cc5b9();},'rsSFW':function(_0x5dd54b,_0x58fda8){const _0x306f5e=_0x3b33;return _0x32bb03[_0x306f5e(0x19b)](_0x5dd54b,_0x58fda8);},'KAxab':_0x1565ed(0x144),'YGzyi':_0x1565ed(0xf1),'uNjZI':'vsMit','booJp':function(_0x4d48de,_0x2a86b9){return _0x4d48de(_0x2a86b9);},'YYxFp':_0x1565ed(0x183),'WpOKp':_0x1565ed(0x72)};class _0x10cc06{async[_0x1565ed(0x10d)](){const _0x3f618c=_0x1565ed;return userFixtures[_0x3f618c(0x14d)][_0x3f618c(0xcf)];}async[_0x1565ed(0x164)](){return![];}}class _0x2d308c{async[_0x1565ed(0x150)](){const _0x43e2b2=_0x1565ed;return userFixtures[_0x43e2b2(0x83)];}async[_0x1565ed(0x7f)](_0x32f320,_0x1a2b58){const _0x48b31c=_0x1565ed;return expect(_0x32f320)['to']['equal'](userFixtures[_0x48b31c(0x17c)][_0x4c7550['ypCuZ']]),_0x4c7550['NWljL'](expect,_0x1a2b58)['to'][_0x48b31c(0x13e)](userFixtures['existentOrgDummy'][_0x48b31c(0x194)]),!![];}}app['route'](_0x32bb03[_0x1565ed(0xbe)])[_0x1565ed(0x154)]((_0x210042,_0x306c4b,_0x217296)=>{const _0x5b74f9=_0x1565ed,_0x44a0c0={'getOrgRepository':()=>{return new _0x10cc06();},'getUserRepository':()=>{return new _0x2d308c();}};_0x210042[_0x5b74f9(0xf6)][_0x5b74f9(0xfc)]=_0x44a0c0,_0x4c7550[_0x5b74f9(0x161)](_0x217296);},orgParams[_0x1565ed(0x184)],orgController[_0x1565ed(0xe5)]),chai[_0x1565ed(0x136)](app)[_0x1565ed(0x154)](_0x1565ed(0xd7)+userFixtures['existentOrg'][_0x1565ed(0x194)]+'/'+userFixtures['existentUser'][_0x1565ed(0x66)]+'?org_shortname='+userFixtures['existentOrg'][_0x1565ed(0x194)])['set'](userFixtures['userDHeader'])['end']((_0x529715,_0x2e7380)=>{const _0x83428f=_0x1565ed;if(_0x296e5f[_0x83428f(0x133)](_0x83428f(0xc1),_0x296e5f[_0x83428f(0x160)])){const _0x3d624f={'getOrgRepository':()=>{return new _0x4b6e72();},'getUserRepository':()=>{return new _0x1989df();}};_0x406522[_0x83428f(0xf6)][_0x83428f(0xfc)]=_0x3d624f,_0x296e5f[_0x83428f(0xe4)](_0x30161b);}else{if(_0x529715){if(_0x296e5f['YGzyi']===_0x296e5f['uNjZI'])return null;else _0x343e65(_0x529715);}expect(_0x2e7380)['to'][_0x83428f(0xad)][_0x83428f(0x76)](0x193),_0x296e5f['booJp'](expect,_0x2e7380)['to'][_0x83428f(0xad)][_0x83428f(0x105)](_0x296e5f['YYxFp'])[_0x83428f(0x163)]['to']['be']['a'](_0x296e5f[_0x83428f(0x137)]);const _0x1550f1=error[_0x83428f(0xe1)]();expect(_0x2e7380[_0x83428f(0x183)][_0x83428f(0x85)])['to'][_0x83428f(0x13e)](_0x1550f1[_0x83428f(0x85)]),expect(_0x2e7380[_0x83428f(0x183)][_0x83428f(0xa2)])['to'][_0x83428f(0x13e)](_0x1550f1[_0x83428f(0xa2)]),_0x343e65();}});}),_0x32bb03[_0x28f90b(0x197)](it,_0x32bb03[_0x28f90b(0x149)],_0x5b955e=>{const _0x493fee=_0x28f90b,_0x5860e2={'HKgrZ':_0x32bb03['mVBrj'],'jFgWR':_0x32bb03[_0x493fee(0x65)],'oeJOy':function(_0x193811,_0x40d8e7){return _0x32bb03['gGoBO'](_0x193811,_0x40d8e7);},'IVqIk':function(_0x2828fb,_0x1d1d51){return _0x2828fb(_0x1d1d51);},'hIoVr':function(_0x2ec64f){return _0x32bb03['iotil'](_0x2ec64f);}};class _0x358a04{async[_0x493fee(0x10d)](){const _0x589de2=_0x493fee;return userFixtures[_0x589de2(0xe8)][_0x589de2(0xcf)];}async[_0x493fee(0x164)](){return![];}}class _0x275c6d{async[_0x493fee(0x150)](){const _0x4bf4fa=_0x493fee;return userFixtures[_0x4bf4fa(0xb0)];}async[_0x493fee(0x7f)](_0x1d34a8,_0x5790fc){const _0x354dea=_0x493fee;return _0x5860e2[_0x354dea(0x165)]!==_0x354dea(0x14e)?{'n':0x1}:(expect(_0x1d34a8)['to'][_0x354dea(0x13e)](userFixtures[_0x354dea(0xb9)][_0x5860e2[_0x354dea(0x101)]]),_0x5860e2[_0x354dea(0x19a)](expect,_0x5790fc)['to'][_0x354dea(0x13e)](userFixtures[_0x354dea(0xe8)][_0x354dea(0x194)]),![]);}}app['route'](_0x32bb03[_0x493fee(0xc6)])['put']((_0x499d8d,_0x1dc190,_0x1f300a)=>{const _0x4692a0=_0x493fee,_0x41f885={'getOrgRepository':()=>{return new _0x358a04();},'getUserRepository':()=>{return new _0x275c6d();}};_0x499d8d['ctx'][_0x4692a0(0xfc)]=_0x41f885,_0x1f300a();},orgParams['parsePostParams'],orgController[_0x493fee(0xe5)]),chai[_0x493fee(0x136)](app)[_0x493fee(0x154)](_0x493fee(0xa9)+userFixtures[_0x493fee(0xe8)]['short_name']+'/'+userFixtures[_0x493fee(0xb0)][_0x493fee(0x66)]+_0x493fee(0x11a))[_0x493fee(0x12c)](userFixtures[_0x493fee(0xb9)])[_0x493fee(0x99)]((_0x22473e,_0xe55c)=>{const _0x496cbc=_0x493fee;_0x22473e&&_0x5860e2['oeJOy'](_0x5b955e,_0x22473e);expect(_0xe55c)['to'][_0x496cbc(0xad)][_0x496cbc(0x76)](0x193),expect(_0xe55c)['to'][_0x496cbc(0xad)][_0x496cbc(0x105)]('body')[_0x496cbc(0x163)]['to']['be']['a']('object');const _0x4e075e=error[_0x496cbc(0x199)]();expect(_0xe55c[_0x496cbc(0x183)]['error'])['to'][_0x496cbc(0x13e)](_0x4e075e[_0x496cbc(0x85)]),_0x5860e2['IVqIk'](expect,_0xe55c[_0x496cbc(0x183)]['message'])['to'][_0x496cbc(0x13e)](_0x4e075e[_0x496cbc(0xa2)]),_0x5860e2['hIoVr'](_0x5b955e);});});}),context(_0x32bb03[_0x55ea75(0xbf)],()=>{const _0x5dff5b=_0x55ea75,_0x412edf={'QCqHq':_0x32bb03['vqhsQ'],'iQaBT':function(_0x34fae3,_0x51dfb6){return _0x32bb03['BXzbD'](_0x34fae3,_0x51dfb6);},'tshSU':function(_0x5caa75,_0x44ad08){return _0x5caa75(_0x44ad08);},'DOFoF':function(_0x16fc54,_0xc9b375){return _0x16fc54(_0xc9b375);},'lCfBW':function(_0x579984,_0x107e07){return _0x579984(_0x107e07);},'UhWVR':function(_0x4489d8,_0x2547b0){const _0x137451=_0x3b33;return _0x32bb03[_0x137451(0x16a)](_0x4489d8,_0x2547b0);},'QiIrG':function(_0x575fc8){return _0x575fc8();},'VFPIB':_0x32bb03[_0x5dff5b(0x198)],'yfowU':function(_0x50dca4){return _0x32bb03['PbrCT'](_0x50dca4);},'JhOdU':_0x5dff5b(0x183),'thQVq':function(_0x479dad,_0xde1d8d){return _0x479dad(_0xde1d8d);},'nxHeu':function(_0x8c40d0,_0xc37753){return _0x32bb03['RccuX'](_0x8c40d0,_0xc37753);},'HgIbL':function(_0x254b17,_0x2676af){return _0x254b17(_0x2676af);},'VpnRV':'bfnTC','kykPQ':_0x5dff5b(0x18f),'mOPXz':_0x32bb03['zidlw'],'TJaVn':function(_0x75d213,_0x1dc1e6){return _0x75d213(_0x1dc1e6);},'wuhlT':function(_0x39fdc3,_0x733311){return _0x39fdc3(_0x733311);},'FrMNZ':function(_0x406b00,_0x4fa074){return _0x406b00(_0x4fa074);},'PRwum':function(_0x53021e,_0x37aeb7){const _0x22d99d=_0x5dff5b;return _0x32bb03[_0x22d99d(0x16c)](_0x53021e,_0x37aeb7);},'DSeLb':function(_0x253f99){return _0x253f99();},'TPQbR':function(_0x19532a,_0x2a978c){const _0x5b6c72=_0x5dff5b;return _0x32bb03[_0x5b6c72(0x19b)](_0x19532a,_0x2a978c);},'umQTw':_0x32bb03[_0x5dff5b(0xb3)],'RckeQ':_0x32bb03['osxZS'],'RuMuW':_0x5dff5b(0xf2),'psrwh':_0x5dff5b(0x15b),'cHHvH':function(_0x5ba862,_0x59499c){const _0x27440b=_0x5dff5b;return _0x32bb03[_0x27440b(0x104)](_0x5ba862,_0x59499c);},'OsbYQ':'updated'};_0x32bb03[_0x5dff5b(0xa1)](it,_0x32bb03[_0x5dff5b(0x173)],_0x4187c8=>{const _0x5d20c3=_0x5dff5b,_0x2abda2={'qsdYp':function(_0x5218eb,_0x7ac9f1){const _0x20442c=_0x3b33;return _0x32bb03[_0x20442c(0x19b)](_0x5218eb,_0x7ac9f1);},'XHZEG':_0x32bb03[_0x5d20c3(0x166)],'PKRwI':_0x32bb03[_0x5d20c3(0x9d)]};if(_0x32bb03['NqvyC']===_0x5d20c3(0xdf))return new _0x63fb7c();else{app[_0x5d20c3(0xf8)](_0x32bb03['dPLmT'])['put']((_0x213ddd,_0x164d72,_0xa22be5)=>{const _0x4cc837=_0x5d20c3,_0xd25564={'CgAeJ':function(_0x2a8e87,_0x32cf08){return _0x2abda2['qsdYp'](_0x2a8e87,_0x32cf08);},'xEvjN':_0x2abda2[_0x4cc837(0x1a2)],'BtGLw':_0x2abda2[_0x4cc837(0x188)]},_0xfef4d9={'getOrgRepository':()=>{const _0x5e962b=_0x4cc837;if(_0xd25564[_0x5e962b(0x91)](_0xd25564[_0x5e962b(0x8a)],_0xd25564[_0x5e962b(0x69)]))_0x4c5f8d(_0x8cbaa5);else return new OrgUserUpdatedAddingRole();},'getUserRepository':()=>{return new UserUpdatedAddingRole();}};_0x213ddd['ctx']['repositories']=_0xfef4d9,_0xa22be5();},orgParams[_0x5d20c3(0x184)],orgController[_0x5d20c3(0xe5)]);const _0x129f00=Object[_0x5d20c3(0x97)]({},userFixtures[_0x5d20c3(0x6a)]);_0x129f00[_0x5d20c3(0xab)]={'active_roles':[CONSTANTS[_0x5d20c3(0x77)][_0x5d20c3(0x181)]]},chai[_0x5d20c3(0x136)](app)[_0x5d20c3(0x154)]('/user-updated-adding-role-1/'+userFixtures['owningOrg'][_0x5d20c3(0x194)]+'/'+_0x129f00['username']+_0x5d20c3(0x17d)+CONSTANTS['USER_ROLE_ENUM']['ADMIN']+'&active_roles.add='+CONSTANTS[_0x5d20c3(0x77)][_0x5d20c3(0x181)])['set'](userFixtures[_0x5d20c3(0x12f)])[_0x5d20c3(0x99)]((_0x10b765,_0x1601c4)=>{const _0x3648ee=_0x5d20c3;if(_0x10b765){if('SZsRc'!=='NkRPp')_0x4187c8(_0x10b765);else return[];}expect(_0x1601c4)['to'][_0x3648ee(0xad)][_0x3648ee(0x76)](0xc8),expect(_0x1601c4)['to'][_0x3648ee(0xad)][_0x3648ee(0x105)](_0x3648ee(0x183))['and']['to']['be']['a'](_0x412edf[_0x3648ee(0x16d)]),expect(_0x1601c4[_0x3648ee(0x183)])['to'][_0x3648ee(0xad)][_0x3648ee(0x105)](_0x3648ee(0x157))['and']['to']['be']['a']('object'),_0x412edf[_0x3648ee(0x8f)](expect,_0x1601c4[_0x3648ee(0x183)][_0x3648ee(0x157)][_0x3648ee(0xab)][_0x3648ee(0xa8)])['to'][_0x3648ee(0xad)][_0x3648ee(0x191)](0x1),_0x412edf['tshSU'](expect,_0x1601c4['body'][_0x3648ee(0x157)][_0x3648ee(0xab)][_0x3648ee(0xa8)][0x0])['to'][_0x3648ee(0x13e)](_0x129f00[_0x3648ee(0xab)][_0x3648ee(0xa8)][0x0]),_0x412edf[_0x3648ee(0x118)](expect,_0x1601c4[_0x3648ee(0x183)][_0x3648ee(0x157)]['org_UUID'])['to'][_0x3648ee(0x13e)](_0x129f00[_0x3648ee(0xd4)]),expect(_0x1601c4[_0x3648ee(0x183)]['updated'][_0x3648ee(0x66)])['to'][_0x3648ee(0x13e)](_0x129f00[_0x3648ee(0x66)]),_0x412edf[_0x3648ee(0x16e)](expect,_0x1601c4[_0x3648ee(0x183)][_0x3648ee(0x157)][_0x3648ee(0xcf)])['to'][_0x3648ee(0x13e)](_0x129f00[_0x3648ee(0xcf)]),_0x412edf[_0x3648ee(0x118)](expect,_0x1601c4[_0x3648ee(0x183)]['updated']['secret'])['to'][_0x3648ee(0x13e)](_0x129f00[_0x3648ee(0x9b)]),expect(_0x1601c4[_0x3648ee(0x183)][_0x3648ee(0x157)][_0x3648ee(0x108)])['to'][_0x3648ee(0x13e)](_0x129f00[_0x3648ee(0x108)]),expect(_0x1601c4[_0x3648ee(0x183)][_0x3648ee(0x157)][_0x3648ee(0x134)][_0x3648ee(0x19d)])['to'][_0x3648ee(0x13e)](_0x129f00[_0x3648ee(0x134)]['first']),expect(_0x1601c4[_0x3648ee(0x183)][_0x3648ee(0x157)][_0x3648ee(0x134)][_0x3648ee(0xa6)])['to'][_0x3648ee(0x13e)](_0x129f00['name'][_0x3648ee(0xa6)]),expect(_0x1601c4[_0x3648ee(0x183)]['updated'][_0x3648ee(0x134)][_0x3648ee(0x100)])['to'][_0x3648ee(0x13e)](_0x129f00['name']['middle']),expect(_0x1601c4[_0x3648ee(0x183)]['updated'][_0x3648ee(0x134)][_0x3648ee(0x11c)])['to'][_0x3648ee(0x13e)](_0x129f00[_0x3648ee(0x134)][_0x3648ee(0x11c)]),_0x412edf[_0x3648ee(0x131)](expect,_0x1601c4[_0x3648ee(0x183)][_0x3648ee(0x157)]['name'][_0x3648ee(0x75)])['to'][_0x3648ee(0x13e)](_0x129f00['name'][_0x3648ee(0x75)]),_0x412edf[_0x3648ee(0x10f)](_0x4187c8);});}}),_0x32bb03[_0x5dff5b(0x82)](it,'User\x20is\x20unchanged:\x20Adding\x20a\x20user\x20role\x20that\x20the\x20user\x20already\x20have',_0x31885c=>{const _0x51c177=_0x5dff5b,_0x22e5cb={'XVEhr':function(_0x1a491e,_0x40b28c){return _0x32bb03['KxCFb'](_0x1a491e,_0x40b28c);},'TVxJG':function(_0x17ae58,_0x40ec52){return _0x32bb03['rHTSO'](_0x17ae58,_0x40ec52);},'qMQBc':function(_0x54f56a,_0x12bb98){const _0x490db3=_0x3b33;return _0x32bb03[_0x490db3(0x19b)](_0x54f56a,_0x12bb98);}};if(_0x32bb03[_0x51c177(0xde)](_0x32bb03[_0x51c177(0x113)],_0x32bb03[_0x51c177(0x113)]))return _0x22e5cb[_0x51c177(0x158)](_0x3d1c51,_0x15a5ff)['to'][_0x51c177(0x13e)](_0x19c16f[_0x51c177(0x17c)][_0x51c177(0xd2)]),_0x22e5cb[_0x51c177(0x14b)](_0x3163ca,_0x2a2a41)['to'][_0x51c177(0x13e)](_0x219003['existentOrgDummy'][_0x51c177(0x194)]),!![];else{class _0x4e2060{constructor(){const _0x496615=_0x51c177;this[_0x496615(0x141)]={'org_UUID':userFixtures[_0x496615(0x6a)][_0x496615(0xd4)],'username':userFixtures['existentUserDummy'][_0x496615(0x66)],'UUID':userFixtures['existentUserDummy'][_0x496615(0xcf)],'active':userFixtures[_0x496615(0x6a)]['active'],'name':userFixtures[_0x496615(0x6a)]['name'],'authority':{'active_roles':[CONSTANTS['USER_ROLE_ENUM'][_0x496615(0x181)]]},'secret':userFixtures[_0x496615(0x6a)][_0x496615(0x9b)]},this[_0x496615(0x67)]=JSON[_0x496615(0x7a)](JSON[_0x496615(0x155)](userFixtures[_0x496615(0x6a)])),this[_0x496615(0x67)][_0x496615(0xab)][_0x496615(0xa8)]=[CONSTANTS[_0x496615(0x77)][_0x496615(0x181)]];}['getUser'](){const _0xed993=_0x51c177;return this[_0xed993(0x141)];}async[_0x51c177(0x150)](){const _0x101ef6=_0x51c177;return this[_0x101ef6(0x141)];}async['updateByUserNameAndOrgUUID'](){const _0x88ea4b=_0x51c177;return _0x22e5cb[_0x88ea4b(0x109)](_0x88ea4b(0x10e),_0x88ea4b(0x8d))?new _0x54b5ae():{'n':0x1,'nModified':0x1,'ok':0x1};}async['getUserUUID'](){const _0x12f46f=_0x51c177;return this['user'][_0x12f46f(0xcf)];}async[_0x51c177(0x7f)](){return![];}async[_0x51c177(0x129)](){const _0x2640a1=_0x51c177;return[this[_0x2640a1(0x67)]];}}app['route'](_0x51c177(0x182))['put']((_0x58d8ef,_0x2601b8,_0x10a7e3)=>{const _0xa49804=_0x51c177,_0x1eedad={'getOrgRepository':()=>{return new OrgUserUpdatedAddingRole();},'getUserRepository':()=>{return new _0x4e2060();}};_0x58d8ef['ctx'][_0xa49804(0xfc)]=_0x1eedad,_0x10a7e3();},orgParams[_0x51c177(0x184)],orgController[_0x51c177(0xe5)]);const _0x1d0a10=Object[_0x51c177(0x97)]({},userFixtures[_0x51c177(0x6a)]);_0x1d0a10[_0x51c177(0xab)]={'active_roles':[CONSTANTS['USER_ROLE_ENUM'][_0x51c177(0x181)]]},chai['request'](app)[_0x51c177(0x154)]('/user-updated-adding-role-2/'+userFixtures[_0x51c177(0xfa)]['short_name']+'/'+_0x1d0a10[_0x51c177(0x66)]+_0x51c177(0x17d)+CONSTANTS[_0x51c177(0x77)][_0x51c177(0x181)]+_0x51c177(0xc7)+CONSTANTS[_0x51c177(0x77)][_0x51c177(0x181)])[_0x51c177(0x12c)](userFixtures['secretariatHeader'])[_0x51c177(0x99)]((_0x4dd67f,_0x344876)=>{const _0x4a84db=_0x51c177,_0x4f317e=_0x412edf[_0x4a84db(0x15d)]['split']('|');let _0x165ad1=0x0;while(!![]){switch(_0x4f317e[_0x165ad1++]){case'0':_0x412edf[_0x4a84db(0x118)](expect,_0x344876)['to'][_0x4a84db(0xad)][_0x4a84db(0x76)](0xc8);continue;case'1':expect(_0x344876[_0x4a84db(0x183)][_0x4a84db(0x157)][_0x4a84db(0xcf)])['to'][_0x4a84db(0x13e)](_0x1d0a10[_0x4a84db(0xcf)]);continue;case'2':_0x412edf['yfowU'](_0x31885c);continue;case'3':expect(_0x344876[_0x4a84db(0x183)][_0x4a84db(0x157)]['org_UUID'])['to'][_0x4a84db(0x13e)](_0x1d0a10[_0x4a84db(0xd4)]);continue;case'4':expect(_0x344876)['to']['have'][_0x4a84db(0x105)](_0x412edf[_0x4a84db(0xeb)])[_0x4a84db(0x163)]['to']['be']['a'](_0x4a84db(0x72));continue;case'5':expect(_0x344876[_0x4a84db(0x183)][_0x4a84db(0x157)][_0x4a84db(0x108)])['to'][_0x4a84db(0x13e)](_0x1d0a10[_0x4a84db(0x108)]);continue;case'6':expect(_0x344876[_0x4a84db(0x183)][_0x4a84db(0x157)][_0x4a84db(0x134)]['middle'])['to'][_0x4a84db(0x13e)](_0x1d0a10[_0x4a84db(0x134)][_0x4a84db(0x100)]);continue;case'7':expect(_0x344876[_0x4a84db(0x183)][_0x4a84db(0x157)][_0x4a84db(0xab)][_0x4a84db(0xa8)][0x0])['to']['equal'](_0x1d0a10['authority']['active_roles'][0x0]);continue;case'8':_0x412edf['UhWVR'](expect,_0x344876[_0x4a84db(0x183)]['updated'][_0x4a84db(0x134)][_0x4a84db(0x19d)])['to'][_0x4a84db(0x13e)](_0x1d0a10[_0x4a84db(0x134)][_0x4a84db(0x19d)]);continue;case'9':_0x412edf[_0x4a84db(0x180)](expect,_0x344876['body'][_0x4a84db(0x157)]['authority'][_0x4a84db(0xa8)])['to'][_0x4a84db(0xad)][_0x4a84db(0x191)](0x1);continue;case'10':_0x412edf['thQVq'](expect,_0x344876[_0x4a84db(0x183)][_0x4a84db(0x157)][_0x4a84db(0x134)][_0x4a84db(0x75)])['to'][_0x4a84db(0x13e)](_0x1d0a10[_0x4a84db(0x134)][_0x4a84db(0x75)]);continue;case'11':_0x412edf[_0x4a84db(0x131)](expect,_0x344876[_0x4a84db(0x183)])['to'][_0x4a84db(0xad)][_0x4a84db(0x105)](_0x4a84db(0x157))[_0x4a84db(0x163)]['to']['be']['a'](_0x412edf[_0x4a84db(0x16d)]);continue;case'12':expect(_0x344876[_0x4a84db(0x183)][_0x4a84db(0x157)]['secret'])['to'][_0x4a84db(0x13e)](_0x1d0a10[_0x4a84db(0x9b)]);continue;case'13':_0x4dd67f&&_0x31885c(_0x4dd67f);continue;case'14':_0x412edf[_0x4a84db(0x8f)](expect,_0x344876['body'][_0x4a84db(0x157)][_0x4a84db(0x66)])['to'][_0x4a84db(0x13e)](_0x1d0a10['username']);continue;case'15':_0x412edf[_0x4a84db(0x87)](expect,_0x344876[_0x4a84db(0x183)][_0x4a84db(0x157)][_0x4a84db(0x134)][_0x4a84db(0xa6)])['to'][_0x4a84db(0x13e)](_0x1d0a10[_0x4a84db(0x134)][_0x4a84db(0xa6)]);continue;case'16':_0x412edf[_0x4a84db(0xff)](expect,_0x344876[_0x4a84db(0x183)]['updated']['name'][_0x4a84db(0x11c)])['to'][_0x4a84db(0x13e)](_0x1d0a10['name'][_0x4a84db(0x11c)]);continue;}break;}});}}),_0x32bb03[_0x5dff5b(0xa1)](it,_0x5dff5b(0x92),_0x196fee=>{const _0x48c5ef=_0x5dff5b,_0x15e915={'hEfJN':function(_0xb05d8d,_0x384416){return _0x32bb03['WCKrv'](_0xb05d8d,_0x384416);},'rYsaO':_0x32bb03[_0x48c5ef(0x14a)],'PHHWx':function(_0x4cd09e,_0x1b9f95){return _0x4cd09e(_0x1b9f95);},'NtFtT':function(_0x599926,_0xa9363a){return _0x32bb03['WCKrv'](_0x599926,_0xa9363a);},'vYDdB':_0x48c5ef(0xbd),'sxEiI':function(_0x41d4bd){return _0x32bb03['PbrCT'](_0x41d4bd);},'zgFbb':_0x32bb03[_0x48c5ef(0xd1)],'vNlWH':function(_0x42738d){const _0x28eecd=_0x48c5ef;return _0x32bb03[_0x28eecd(0xb4)](_0x42738d);},'mFKpw':_0x48c5ef(0x19e),'SYutS':function(_0x731a16,_0x2d5f3c){return _0x731a16(_0x2d5f3c);},'aFEMZ':function(_0x43db9e,_0x5f5b81){return _0x43db9e(_0x5f5b81);},'fgRzI':function(_0x3e9005,_0xb80969){return _0x3e9005(_0xb80969);},'fzHFY':function(_0x192b97,_0x59ece6){return _0x32bb03['PnFfF'](_0x192b97,_0x59ece6);},'numHW':_0x48c5ef(0x157),'neaSE':function(_0x64656d,_0xa6334c){return _0x64656d(_0xa6334c);},'rviNv':_0x32bb03[_0x48c5ef(0x159)]};class _0x37711e{constructor(){const _0x1e93a7=_0x48c5ef;if(_0x15e915[_0x1e93a7(0x17a)]('seXbz',_0x15e915[_0x1e93a7(0x111)]))this[_0x1e93a7(0x141)]={'org_UUID':userFixtures['existentUserDummy'][_0x1e93a7(0xd4)],'username':userFixtures['existentUserDummy']['username'],'UUID':userFixtures[_0x1e93a7(0x6a)]['UUID'],'active':userFixtures[_0x1e93a7(0x6a)]['active'],'name':userFixtures[_0x1e93a7(0x6a)][_0x1e93a7(0x134)],'authority':{'active_roles':[CONSTANTS[_0x1e93a7(0x77)][_0x1e93a7(0x181)]]},'secret':userFixtures['existentUserDummy'][_0x1e93a7(0x9b)]},this[_0x1e93a7(0x67)]=JSON['parse'](JSON[_0x1e93a7(0x155)](userFixtures[_0x1e93a7(0x6a)])),this[_0x1e93a7(0x67)][_0x1e93a7(0xab)]['active_roles']=[];else return _0x4cb4b3[_0x1e93a7(0x14d)][_0x1e93a7(0xcf)];}['getUser'](){const _0x26853d=_0x48c5ef;return _0x26853d(0xac)!==_0x412edf['VpnRV']?{'n':0x1,'nModified':0x1,'ok':0x1}:(this[_0x26853d(0x141)][_0x26853d(0xab)]['active_roles'][_0x26853d(0x12a)](0x0,0x1),this[_0x26853d(0x141)]);}async[_0x48c5ef(0x150)](){const _0x1cbd4a=_0x48c5ef;return _0x1cbd4a(0xed)==='WMGsB'?_0x4683de[_0x1cbd4a(0xe8)][_0x1cbd4a(0xcf)]:this[_0x1cbd4a(0x141)];}async['updateByUserNameAndOrgUUID'](){return{'n':0x1,'nModified':0x1,'ok':0x1};}async[_0x48c5ef(0x13a)](){const _0x30fc40=_0x48c5ef;if(_0x15e915['NtFtT'](_0x15e915[_0x30fc40(0x18b)],'nGCbP'))return this[_0x30fc40(0x141)]['UUID'];else _0x15e915['PHHWx'](_0x2d1b46,_0x37ae13);}async[_0x48c5ef(0x7f)](){const _0x3c1cac=_0x48c5ef;if(_0x3c1cac(0x18f)===_0x412edf[_0x3c1cac(0xd0)])return![];else{const _0x265afe={'getOrgRepository':()=>{return new _0x54744c();},'getUserRepository':()=>{return new _0x4199af();}};_0x5ba1b1[_0x3c1cac(0xf6)][_0x3c1cac(0xfc)]=_0x265afe,_0x15e915['sxEiI'](_0x4a4a46);}}async[_0x48c5ef(0x129)](){const _0x1015f7=_0x48c5ef;if(_0x15e915['zgFbb']!==_0x1015f7(0x95))return[this[_0x1015f7(0x67)]];else _0x1857f7(_0x53aa07);}}app[_0x48c5ef(0xf8)](_0x48c5ef(0xc5))[_0x48c5ef(0x154)]((_0x165d04,_0x5085b4,_0x90bc54)=>{const _0x1e916a=_0x48c5ef,_0x3d7c96={'getOrgRepository':()=>{return new OrgUserUpdatedAddingRole();},'getUserRepository':()=>{const _0x3615d8=_0x3b33;return _0x3615d8(0x13c)===_0x3615d8(0x186)?new _0xc43215():new _0x37711e();}};_0x165d04[_0x1e916a(0xf6)]['repositories']=_0x3d7c96,_0x15e915[_0x1e916a(0x127)](_0x90bc54);},orgParams[_0x48c5ef(0x184)],orgController[_0x48c5ef(0xe5)]);const _0x3c1ce1=Object[_0x48c5ef(0x97)]({},userFixtures['existentUserDummy']);_0x3c1ce1[_0x48c5ef(0xab)]={'active_roles':[CONSTANTS[_0x48c5ef(0x77)]['ADMIN']]},chai[_0x48c5ef(0x136)](app)['put']('/user-updated-removing-role-1/'+userFixtures[_0x48c5ef(0xfa)][_0x48c5ef(0x194)]+'/'+_0x3c1ce1[_0x48c5ef(0x66)]+_0x48c5ef(0xc3)+CONSTANTS['USER_ROLE_ENUM'][_0x48c5ef(0x181)]+_0x48c5ef(0xd5)+CONSTANTS['USER_ROLE_ENUM'][_0x48c5ef(0x181)])[_0x48c5ef(0x12c)](userFixtures[_0x48c5ef(0x12f)])['end']((_0x20ef6c,_0x197b67)=>{const _0x2c2dd6=_0x48c5ef,_0x5edc13=_0x15e915['mFKpw'][_0x2c2dd6(0x9c)]('|');let _0x1d4ae2=0x0;while(!![]){switch(_0x5edc13[_0x1d4ae2++]){case'0':expect(_0x197b67)['to']['have'][_0x2c2dd6(0x76)](0xc8);continue;case'1':_0x15e915[_0x2c2dd6(0xbb)](expect,_0x197b67[_0x2c2dd6(0x183)][_0x2c2dd6(0x157)][_0x2c2dd6(0x9b)])['to'][_0x2c2dd6(0x13e)](_0x3c1ce1[_0x2c2dd6(0x9b)]);continue;case'2':_0x15e915['SYutS'](expect,_0x197b67[_0x2c2dd6(0x183)]['updated'][_0x2c2dd6(0x134)][_0x2c2dd6(0xa6)])['to'][_0x2c2dd6(0x13e)](_0x3c1ce1[_0x2c2dd6(0x134)]['last']);continue;case'3':expect(_0x197b67[_0x2c2dd6(0x183)][_0x2c2dd6(0x157)][_0x2c2dd6(0xd4)])['to'][_0x2c2dd6(0x13e)](_0x3c1ce1[_0x2c2dd6(0xd4)]);continue;case'4':expect(_0x197b67[_0x2c2dd6(0x183)][_0x2c2dd6(0x157)]['username'])['to']['equal'](_0x3c1ce1[_0x2c2dd6(0x66)]);continue;case'5':_0x20ef6c&&_0x196fee(_0x20ef6c);continue;case'6':expect(_0x197b67['body']['updated']['name'][_0x2c2dd6(0x75)])['to'][_0x2c2dd6(0x13e)](_0x3c1ce1[_0x2c2dd6(0x134)][_0x2c2dd6(0x75)]);continue;case'7':_0x15e915[_0x2c2dd6(0x88)](expect,_0x197b67[_0x2c2dd6(0x183)][_0x2c2dd6(0x157)]['UUID'])['to'][_0x2c2dd6(0x13e)](_0x3c1ce1[_0x2c2dd6(0xcf)]);continue;case'8':_0x15e915[_0x2c2dd6(0x10b)](expect,_0x197b67['body']['updated'][_0x2c2dd6(0x134)][_0x2c2dd6(0x100)])['to'][_0x2c2dd6(0x13e)](_0x3c1ce1[_0x2c2dd6(0x134)][_0x2c2dd6(0x100)]);continue;case'9':_0x15e915[_0x2c2dd6(0xec)](expect,_0x197b67[_0x2c2dd6(0x183)]['updated']['authority'][_0x2c2dd6(0xa8)])['to']['have']['lengthOf'](0x0);continue;case'10':_0x15e915[_0x2c2dd6(0x139)](expect,_0x197b67[_0x2c2dd6(0x183)][_0x2c2dd6(0x157)][_0x2c2dd6(0x108)])['to'][_0x2c2dd6(0x13e)](_0x3c1ce1['active']);continue;case'11':expect(_0x197b67['body'])['to'][_0x2c2dd6(0xad)][_0x2c2dd6(0x105)](_0x15e915[_0x2c2dd6(0x12e)])[_0x2c2dd6(0x163)]['to']['be']['a'](_0x2c2dd6(0x72));continue;case'12':_0x15e915[_0x2c2dd6(0xdc)](expect,_0x197b67[_0x2c2dd6(0x183)][_0x2c2dd6(0x157)][_0x2c2dd6(0x134)][_0x2c2dd6(0x11c)])['to']['equal'](_0x3c1ce1[_0x2c2dd6(0x134)][_0x2c2dd6(0x11c)]);continue;case'13':_0x15e915['aFEMZ'](expect,_0x197b67)['to'][_0x2c2dd6(0xad)][_0x2c2dd6(0x105)](_0x2c2dd6(0x183))[_0x2c2dd6(0x163)]['to']['be']['a'](_0x15e915[_0x2c2dd6(0x18a)]);continue;case'14':expect(_0x197b67[_0x2c2dd6(0x183)][_0x2c2dd6(0x157)][_0x2c2dd6(0x134)][_0x2c2dd6(0x19d)])['to'][_0x2c2dd6(0x13e)](_0x3c1ce1[_0x2c2dd6(0x134)][_0x2c2dd6(0x19d)]);continue;case'15':_0x15e915[_0x2c2dd6(0x15a)](_0x196fee);continue;}break;}});}),it(_0x32bb03['ZUVqB'],_0x4186a9=>{const _0x1f5dfc=_0x5dff5b,_0x539fa0={'nDXGh':function(_0x6f26a9,_0x29ddcd){const _0xa92b39=_0x3b33;return _0x412edf[_0xa92b39(0x140)](_0x6f26a9,_0x29ddcd);}};class _0x17d032{constructor(){const _0x12f81d=_0x3b33;if(_0x539fa0[_0x12f81d(0x146)]('psTHX','psTHX'))this[_0x12f81d(0x141)]={'org_UUID':userFixtures[_0x12f81d(0x6a)][_0x12f81d(0xd4)],'username':userFixtures[_0x12f81d(0x6a)][_0x12f81d(0x66)],'UUID':userFixtures[_0x12f81d(0x6a)][_0x12f81d(0xcf)],'active':userFixtures[_0x12f81d(0x6a)][_0x12f81d(0x108)],'name':userFixtures[_0x12f81d(0x6a)][_0x12f81d(0x134)],'authority':userFixtures['existentUserDummy'][_0x12f81d(0xab)],'secret':userFixtures[_0x12f81d(0x6a)]['secret']};else return!![];}['getUser'](){const _0x5a76a6=_0x3b33;return this[_0x5a76a6(0x141)];}async[_0x1f5dfc(0x150)](){const _0x1958f9=_0x1f5dfc;return this[_0x1958f9(0x141)];}async['updateByUserNameAndOrgUUID'](){return{'n':0x1,'nModified':0x1,'ok':0x1};}async[_0x1f5dfc(0x13a)](){const _0x1517c6=_0x1f5dfc;return this[_0x1517c6(0x141)]['UUID'];}async[_0x1f5dfc(0x7f)](){return![];}async['aggregate'](){const _0x2a190a=_0x1f5dfc;return[this[_0x2a190a(0x141)]];}}app[_0x1f5dfc(0xf8)](_0x412edf[_0x1f5dfc(0x122)])[_0x1f5dfc(0x154)]((_0x9a54ee,_0x2a193b,_0x39cd58)=>{const _0x3fae75=_0x1f5dfc,_0x531ce7={'getOrgRepository':()=>{return new OrgUserUpdatedAddingRole();},'getUserRepository':()=>{return new _0x17d032();}};_0x9a54ee[_0x3fae75(0xf6)]['repositories']=_0x531ce7,_0x412edf['yfowU'](_0x39cd58);},orgParams[_0x1f5dfc(0x184)],orgController[_0x1f5dfc(0xe5)]),chai[_0x1f5dfc(0x136)](app)['put']('/user-updated-removing-role-2/'+userFixtures[_0x1f5dfc(0xfa)][_0x1f5dfc(0x194)]+'/'+userFixtures[_0x1f5dfc(0x6a)]['username']+'?active_roles.remove='+CONSTANTS['USER_ROLE_ENUM'][_0x1f5dfc(0x181)]+'&active_roles.remove='+CONSTANTS[_0x1f5dfc(0x77)][_0x1f5dfc(0x181)])[_0x1f5dfc(0x12c)](userFixtures[_0x1f5dfc(0x12f)])[_0x1f5dfc(0x99)]((_0x48fce0,_0x35f48b)=>{const _0x16b33b=_0x1f5dfc;if(_0x48fce0){if(_0x412edf[_0x16b33b(0xf0)]===_0x16b33b(0xb8))_0x4186a9(_0x48fce0);else return new _0x3de973();}expect(_0x35f48b)['to'][_0x16b33b(0xad)][_0x16b33b(0x76)](0xc8),expect(_0x35f48b)['to'][_0x16b33b(0xad)][_0x16b33b(0x105)]('body')[_0x16b33b(0x163)]['to']['be']['a'](_0x16b33b(0x72)),_0x412edf['nxHeu'](expect,_0x35f48b[_0x16b33b(0x183)])['to'][_0x16b33b(0xad)][_0x16b33b(0x105)](_0x16b33b(0x157))[_0x16b33b(0x163)]['to']['be']['a']('object'),expect(_0x35f48b[_0x16b33b(0x183)][_0x16b33b(0x157)][_0x16b33b(0xab)][_0x16b33b(0xa8)])['to'][_0x16b33b(0xad)]['lengthOf'](0x0),_0x412edf[_0x16b33b(0xa4)](expect,_0x35f48b[_0x16b33b(0x183)][_0x16b33b(0x157)][_0x16b33b(0xd4)])['to'][_0x16b33b(0x13e)](userFixtures[_0x16b33b(0x6a)][_0x16b33b(0xd4)]),_0x412edf[_0x16b33b(0x9e)](expect,_0x35f48b[_0x16b33b(0x183)][_0x16b33b(0x157)][_0x16b33b(0x66)])['to']['equal'](userFixtures[_0x16b33b(0x6a)]['username']),expect(_0x35f48b[_0x16b33b(0x183)]['updated'][_0x16b33b(0xcf)])['to'][_0x16b33b(0x13e)](userFixtures[_0x16b33b(0x6a)][_0x16b33b(0xcf)]),_0x412edf[_0x16b33b(0x15f)](expect,_0x35f48b[_0x16b33b(0x183)][_0x16b33b(0x157)][_0x16b33b(0x9b)])['to'][_0x16b33b(0x13e)](userFixtures[_0x16b33b(0x6a)][_0x16b33b(0x9b)]),expect(_0x35f48b[_0x16b33b(0x183)][_0x16b33b(0x157)][_0x16b33b(0x108)])['to']['equal'](userFixtures[_0x16b33b(0x6a)][_0x16b33b(0x108)]),_0x412edf[_0x16b33b(0x132)](expect,_0x35f48b['body'][_0x16b33b(0x157)][_0x16b33b(0x134)][_0x16b33b(0x19d)])['to'][_0x16b33b(0x13e)](userFixtures[_0x16b33b(0x6a)][_0x16b33b(0x134)][_0x16b33b(0x19d)]),expect(_0x35f48b['body']['updated'][_0x16b33b(0x134)]['last'])['to'][_0x16b33b(0x13e)](userFixtures[_0x16b33b(0x6a)][_0x16b33b(0x134)]['last']),_0x412edf[_0x16b33b(0x9e)](expect,_0x35f48b['body'][_0x16b33b(0x157)][_0x16b33b(0x134)][_0x16b33b(0x100)])['to']['equal'](userFixtures[_0x16b33b(0x6a)]['name']['middle']),expect(_0x35f48b['body'][_0x16b33b(0x157)][_0x16b33b(0x134)][_0x16b33b(0x11c)])['to'][_0x16b33b(0x13e)](userFixtures[_0x16b33b(0x6a)]['name']['suffix']),expect(_0x35f48b[_0x16b33b(0x183)][_0x16b33b(0x157)][_0x16b33b(0x134)][_0x16b33b(0x75)])['to'][_0x16b33b(0x13e)](userFixtures[_0x16b33b(0x6a)][_0x16b33b(0x134)]['surname']),_0x412edf['DSeLb'](_0x4186a9);});}),it(_0x5dff5b(0x84),_0xe0b429=>{const _0x54a453=_0x5dff5b,_0x26c4d3={'RBKYq':function(_0x20f9b9,_0x90267b){const _0x9729a3=_0x3b33;return _0x412edf[_0x9729a3(0x8f)](_0x20f9b9,_0x90267b);},'EecAo':function(_0x45a4c9,_0x1b3687){return _0x45a4c9!==_0x1b3687;},'FaMsj':_0x412edf[_0x54a453(0xce)],'niatN':function(_0x598b1d,_0x1e3ec5){return _0x412edf['UhWVR'](_0x598b1d,_0x1e3ec5);},'IZYxt':function(_0x2af29a,_0x2fd1ba){const _0x15e65c=_0x54a453;return _0x412edf[_0x15e65c(0x16e)](_0x2af29a,_0x2fd1ba);},'ohNla':_0x54a453(0xaf),'OYNZS':_0x54a453(0x72),'sOJUy':_0x412edf[_0x54a453(0xeb)]};class _0x15637a{async[_0x54a453(0x10d)](){const _0x198810=_0x54a453;return userFixtures[_0x198810(0xe8)][_0x198810(0xcf)];}async['isSecretariat'](){return![];}}class _0x4aa2cd{constructor(){const _0x28ec06=_0x54a453;this[_0x28ec06(0x67)]=JSON['parse'](JSON[_0x28ec06(0x155)](userFixtures[_0x28ec06(0xb0)])),this[_0x28ec06(0x67)]['active']=![];}async['findOneByUserNameAndOrgUUID'](){const _0x37ed4d=_0x54a453;return userFixtures[_0x37ed4d(0xb0)];}async[_0x54a453(0x7f)](_0x3a3c8d,_0x59532e){const _0x1499d0=_0x54a453,_0x3c42a6={'jgKDJ':function(_0x4449c3,_0x522518){const _0xec54d6=_0x3b33;return _0x26c4d3[_0xec54d6(0x90)](_0x4449c3,_0x522518);}};if(_0x26c4d3[_0x1499d0(0x6c)](_0x26c4d3['FaMsj'],_0x26c4d3[_0x1499d0(0x143)]))_0x3c42a6['jgKDJ'](_0x46c7e5,_0x1186fb);else return _0x26c4d3[_0x1499d0(0x15c)](expect,_0x3a3c8d)['to'][_0x1499d0(0x13e)](userFixtures[_0x1499d0(0x17c)][_0x1499d0(0xd2)]),expect(_0x59532e)['to']['equal'](userFixtures[_0x1499d0(0xe8)]['short_name']),!![];}async['updateByUserNameAndOrgUUID'](){return{'n':0x1};}async[_0x54a453(0x13a)](){const _0x1ba897=_0x54a453;return userFixtures[_0x1ba897(0x178)][_0x1ba897(0xcf)];}async[_0x54a453(0x129)](){const _0x4acdce=_0x54a453;return _0x4acdce(0x172)!=='Ucoxc'?(_0x26c4d3[_0x4acdce(0x14f)](_0x1d1f20,_0x179d17)['to'][_0x4acdce(0x13e)](_0x261710[_0x4acdce(0xb9)][_0x4acdce(0xd2)]),_0xc2a725(_0x367b56)['to'][_0x4acdce(0x13e)](_0x4d0755[_0x4acdce(0xe8)][_0x4acdce(0x194)]),![]):[this[_0x4acdce(0x67)]];}}app[_0x54a453(0xf8)](_0x412edf[_0x54a453(0xdd)])[_0x54a453(0x154)]((_0x2ccef7,_0x3e4b3f,_0x23dffe)=>{const _0x1daabf=_0x54a453,_0x828571={'getOrgRepository':()=>{return new _0x15637a();},'getUserRepository':()=>{return new _0x4aa2cd();}};_0x2ccef7[_0x1daabf(0xf6)]['repositories']=_0x828571,_0x23dffe();},orgParams['parsePostParams'],orgController[_0x54a453(0xe5)]),chai['request'](app)[_0x54a453(0x154)](_0x54a453(0x185)+userFixtures[_0x54a453(0xe8)][_0x54a453(0x194)]+'/'+userFixtures[_0x54a453(0xb0)][_0x54a453(0x66)]+'?active=false')[_0x54a453(0x12c)](userFixtures[_0x54a453(0x17c)])[_0x54a453(0x99)]((_0x56b16c,_0x410557)=>{const _0x5d0568=_0x54a453,_0x200c49=_0x26c4d3[_0x5d0568(0xae)]['split']('|');let _0x3246c9=0x0;while(!![]){switch(_0x200c49[_0x3246c9++]){case'0':expect(_0x410557[_0x5d0568(0x183)])['to'][_0x5d0568(0xad)][_0x5d0568(0x105)]('updated')[_0x5d0568(0x163)]['to']['be']['a'](_0x26c4d3[_0x5d0568(0xfd)]);continue;case'1':expect(_0x410557)['to'][_0x5d0568(0xad)][_0x5d0568(0x105)](_0x26c4d3[_0x5d0568(0x121)])['and']['to']['be']['a'](_0x26c4d3[_0x5d0568(0xfd)]);continue;case'2':_0x26c4d3[_0x5d0568(0x90)](expect,_0x410557[_0x5d0568(0x183)][_0x5d0568(0x157)][_0x5d0568(0x108)])['to']['equal'](![]);continue;case'3':_0x56b16c&&_0xe0b429(_0x56b16c);continue;case'4':_0x26c4d3[_0x5d0568(0x15c)](expect,_0x410557)['to'][_0x5d0568(0xad)][_0x5d0568(0x76)](0xc8);continue;case'5':_0xe0b429();continue;}break;}});}),it(_0x32bb03['FFoRO'],_0x2ab5e0=>{const _0x598e8c=_0x5dff5b,_0x1e2487={'hpsEG':_0x598e8c(0xaa),'yrAow':_0x412edf[_0x598e8c(0x168)],'FSOMu':function(_0x207452){return _0x207452();},'FRENM':function(_0x500321,_0x37c403){return _0x500321(_0x37c403);},'yCMhg':function(_0x43e55f,_0x1e92a9){const _0x528959=_0x598e8c;return _0x412edf[_0x528959(0x124)](_0x43e55f,_0x1e92a9);},'VYBBt':_0x598e8c(0x72),'fkxff':_0x412edf['OsbYQ'],'ZVxwi':function(_0x58e888){const _0x3bbe31=_0x598e8c;return _0x412edf[_0x3bbe31(0xe2)](_0x58e888);}};class _0x109d8f{async['getOrgUUID'](){const _0x520e68=_0x598e8c;return userFixtures[_0x520e68(0xe8)]['UUID'];}async[_0x598e8c(0x164)](){return![];}}class _0x1aebfc{constructor(){const _0x23643c=_0x598e8c;this[_0x23643c(0x67)]=JSON[_0x23643c(0x7a)](JSON[_0x23643c(0x155)](userFixtures[_0x23643c(0xb0)])),this['testRes1'][_0x23643c(0x66)]='TESTER';}async[_0x598e8c(0x150)](){return userFixtures['userA'];}async['isAdmin'](_0x518c6b,_0x110f0b){const _0x4b5de1=_0x598e8c;return expect(_0x518c6b)['to'][_0x4b5de1(0x13e)](userFixtures[_0x4b5de1(0xb9)][_0x4b5de1(0xd2)]),expect(_0x110f0b)['to'][_0x4b5de1(0x13e)](userFixtures[_0x4b5de1(0xe8)][_0x4b5de1(0x194)]),![];}async[_0x598e8c(0x151)](){return{'n':0x1};}async[_0x598e8c(0x13a)](){const _0x5583c0=_0x598e8c;return _0x1e2487[_0x5583c0(0xb1)]===_0x1e2487[_0x5583c0(0x17f)]?{'n':0x1,'nModified':0x1,'ok':0x1}:userFixtures['userA']['UUID'];}async['find'](){return[];}async['aggregate'](){const _0x42230b=_0x598e8c;if(_0x42230b(0x177)!==_0x42230b(0xdb))return[this[_0x42230b(0x67)]];else{const _0x50b748={'getOrgRepository':()=>{return new _0x27b63e();},'getUserRepository':()=>{return new _0xe17760();}};_0x3e9ff9[_0x42230b(0xf6)][_0x42230b(0xfc)]=_0x50b748,_0x1e2487['FSOMu'](_0x24da43);}}}app[_0x598e8c(0xf8)](_0x598e8c(0x135))[_0x598e8c(0x154)]((_0x27e808,_0x3b4353,_0x21df19)=>{const _0x305742=_0x598e8c,_0x338f05={'getOrgRepository':()=>{return new _0x109d8f();},'getUserRepository':()=>{return new _0x1aebfc();}};_0x27e808[_0x305742(0xf6)][_0x305742(0xfc)]=_0x338f05,_0x21df19();},orgParams[_0x598e8c(0x184)],orgController['USER_UPDATE_SINGLE']),chai[_0x598e8c(0x136)](app)[_0x598e8c(0x154)](_0x598e8c(0x110)+userFixtures[_0x598e8c(0xe8)]['short_name']+'/'+userFixtures[_0x598e8c(0xb0)]['username']+_0x598e8c(0x18d))[_0x598e8c(0x12c)](userFixtures[_0x598e8c(0xb9)])[_0x598e8c(0x99)]((_0x3129a4,_0x103000)=>{const _0x46d3ec=_0x598e8c;_0x3129a4&&_0x1e2487[_0x46d3ec(0xe9)](_0x2ab5e0,_0x3129a4),expect(_0x103000)['to']['have'][_0x46d3ec(0x76)](0xc8),_0x1e2487[_0x46d3ec(0xe7)](expect,_0x103000)['to']['have'][_0x46d3ec(0x105)](_0x46d3ec(0x183))['and']['to']['be']['a'](_0x1e2487['VYBBt']),expect(_0x103000[_0x46d3ec(0x183)])['to'][_0x46d3ec(0xad)][_0x46d3ec(0x105)](_0x1e2487[_0x46d3ec(0x152)])['and']['to']['be']['a'](_0x1e2487[_0x46d3ec(0x120)]),expect(_0x103000[_0x46d3ec(0x183)][_0x46d3ec(0x157)]['username'])['to'][_0x46d3ec(0x13e)](_0x46d3ec(0x74)),_0x1e2487['ZVxwi'](_0x2ab5e0);});}),it(_0x32bb03[_0x5dff5b(0x174)],async()=>{const _0x4d0b55=_0x5dff5b;class _0x2bff07{async[_0x4d0b55(0x150)](){return userFixtures['existentUser'];}async[_0x4d0b55(0x151)](){return{'n':0x1,'nModified':0x1,'ok':0x1};}async['getUserUUID'](){const _0x3eb89a=_0x4d0b55;return userFixtures[_0x3eb89a(0x83)][_0x3eb89a(0xcf)];}async['isAdmin'](){return![];}async[_0x4d0b55(0x129)](){const _0x509947=_0x4d0b55;return[userFixtures[_0x509947(0x83)]];}}app[_0x4d0b55(0xf8)]('/user-not-updated-no-parameters/:shortname/:username')[_0x4d0b55(0x154)]((_0x47fd4e,_0x2320fe,_0x4c4f9a)=>{const _0x1c16f6=_0x4d0b55,_0x2bbd3e={'getOrgRepository':()=>{return new OrgUserNotUpdatedOrgQueryDoesntExist();},'getUserRepository':()=>{return new _0x2bff07();}};_0x47fd4e['ctx'][_0x1c16f6(0xfc)]=_0x2bbd3e,_0x412edf['QiIrG'](_0x4c4f9a);},orgParams['parsePostParams'],orgController[_0x4d0b55(0xe5)]);const _0x5f13b5=await chai[_0x4d0b55(0x136)](app)['put'](_0x4d0b55(0xc9)+userFixtures[_0x4d0b55(0x14d)][_0x4d0b55(0x194)]+'/'+userFixtures[_0x4d0b55(0x83)][_0x4d0b55(0x66)])[_0x4d0b55(0x12c)](userFixtures[_0x4d0b55(0x12f)]);_0x32bb03[_0x4d0b55(0x19f)](expect,_0x5f13b5)['to'][_0x4d0b55(0xad)][_0x4d0b55(0x76)](0xc8),expect(_0x5f13b5)['to'][_0x4d0b55(0xad)][_0x4d0b55(0x105)](_0x32bb03['iTUzp'])[_0x4d0b55(0x163)]['to']['be']['a'](_0x32bb03[_0x4d0b55(0x159)]),expect(_0x5f13b5[_0x4d0b55(0x183)])['to'][_0x4d0b55(0xad)][_0x4d0b55(0x105)]('updated')['and']['to']['be']['a'](_0x32bb03['vqhsQ']),expect(_0x5f13b5['body'][_0x4d0b55(0x157)]['authority'][_0x4d0b55(0xa8)][0x0])['to'][_0x4d0b55(0x13e)](userFixtures['existentUser'][_0x4d0b55(0xab)]['active_roles'][0x0]),_0x32bb03[_0x4d0b55(0x162)](expect,_0x5f13b5[_0x4d0b55(0x183)][_0x4d0b55(0x157)]['org_UUID'])['to'][_0x4d0b55(0x13e)](userFixtures[_0x4d0b55(0x83)][_0x4d0b55(0xd4)]),_0x32bb03[_0x4d0b55(0x189)](expect,_0x5f13b5['body'][_0x4d0b55(0x157)][_0x4d0b55(0x66)])['to'][_0x4d0b55(0x13e)](userFixtures[_0x4d0b55(0x83)]['username']),expect(_0x5f13b5[_0x4d0b55(0x183)][_0x4d0b55(0x157)][_0x4d0b55(0xcf)])['to']['equal'](userFixtures[_0x4d0b55(0x83)][_0x4d0b55(0xcf)]),expect(_0x5f13b5[_0x4d0b55(0x183)][_0x4d0b55(0x157)]['secret'])['to'][_0x4d0b55(0x13e)](userFixtures[_0x4d0b55(0x83)][_0x4d0b55(0x9b)]),expect(_0x5f13b5[_0x4d0b55(0x183)][_0x4d0b55(0x157)]['active'])['to'][_0x4d0b55(0x13e)](userFixtures[_0x4d0b55(0x83)][_0x4d0b55(0x108)]),_0x32bb03['SVFKL'](expect,_0x5f13b5[_0x4d0b55(0x183)]['updated'][_0x4d0b55(0x134)][_0x4d0b55(0x19d)])['to']['equal'](userFixtures[_0x4d0b55(0x83)][_0x4d0b55(0x134)][_0x4d0b55(0x19d)]),expect(_0x5f13b5[_0x4d0b55(0x183)][_0x4d0b55(0x157)][_0x4d0b55(0x134)]['last'])['to'][_0x4d0b55(0x13e)](userFixtures[_0x4d0b55(0x83)]['name'][_0x4d0b55(0xa6)]),_0x32bb03['euhwA'](expect,_0x5f13b5[_0x4d0b55(0x183)][_0x4d0b55(0x157)][_0x4d0b55(0x134)][_0x4d0b55(0x100)])['to'][_0x4d0b55(0x13e)](userFixtures[_0x4d0b55(0x83)][_0x4d0b55(0x134)][_0x4d0b55(0x100)]),_0x32bb03['iQvmt'](expect,_0x5f13b5['body'][_0x4d0b55(0x157)][_0x4d0b55(0x134)][_0x4d0b55(0x11c)])['to'][_0x4d0b55(0x13e)](userFixtures[_0x4d0b55(0x83)][_0x4d0b55(0x134)][_0x4d0b55(0x11c)]),_0x32bb03[_0x4d0b55(0xda)](expect,_0x5f13b5[_0x4d0b55(0x183)]['updated'][_0x4d0b55(0x134)]['surname'])['to'][_0x4d0b55(0x13e)](userFixtures['existentUser']['name'][_0x4d0b55(0x75)]);});});});