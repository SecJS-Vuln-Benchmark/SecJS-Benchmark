const _0x3a35d4=_0x556a;function _0x556a(_0x3b20e1,_0x50e2a7){const _0x161ae9=_0x161a();return _0x556a=function(_0x556ace,_0x3233cb){_0x556ace=_0x556ace-0xc7;let _0x5833dc=_0x161ae9[_0x556ace];return _0x5833dc;},_0x556a(_0x3b20e1,_0x50e2a7);}(function(_0x157fac,_0x33a415){const _0x318984=_0x556a,_0x1c8a5e=_0x157fac();while(!![]){try{const _0x529888=parseInt(_0x318984(0x11b))/0x1+-parseInt(_0x318984(0xff))/0x2+-parseInt(_0x318984(0xde))/0x3*(-parseInt(_0x318984(0xd3))/0x4)+parseInt(_0x318984(0xcd))/0x5+parseInt(_0x318984(0x118))/0x6*(-parseInt(_0x318984(0x11a))/0x7)+-parseInt(_0x318984(0x117))/0x8*(parseInt(_0x318984(0xf5))/0x9)+parseInt(_0x318984(0x11f))/0xa;if(_0x529888===_0x33a415)break;else _0x1c8a5e['push'](_0x1c8a5e['shift']());}catch(_0x162a33){_0x1c8a5e['push'](_0x1c8a5e['shift']());}}}(_0x161a,0x59c58));import _0xbb431a from'discourse/lib/load-script';import{apiInitializer}from'discourse/lib/api';import _0x331bc3 from'discourse-common/lib/debounce';async function applyMermaid(_0xefa95b,_0x2aae81='composer'){const _0x47dd4b=_0x556a,_0x4e4924={'ZAsSS':'oQEqD','XaNXc':'composer','ZskyT':function(_0x21d83f,_0x1ecd8f,_0x35882d){return _0x21d83f(_0x1ecd8f,_0x35882d);},'BGPee':function(_0x33a96f,_0x3f81a6){return _0x33a96f===_0x3f81a6;},'uGZoS':'QqATB','LlSwj':function(_0x40c8e8,_0x1a239a){return _0x40c8e8===_0x1a239a;},'VrlAo':function(_0x2c727e,_0x342a10,_0x3af9ac,_0x55d191,_0x26d29d){return _0x2c727e(_0x342a10,_0x3af9ac,_0x55d191,_0x26d29d);},'tBSDC':function(_0x14a554,_0x13b7c3){return _0x14a554(_0x13b7c3);},'VqRdT':_0x47dd4b(0x10d),'aKMzi':_0x47dd4b(0xd6)},_0x1c9d14=_0xefa95b[_0x47dd4b(0x123)](_0x47dd4b(0x11e));if(!_0x1c9d14['length']){setTimeout(_0x47dd4b(0xe3),0x3e8);return;}await _0x4e4924['tBSDC'](_0xbb431a,settings[_0x47dd4b(0xf3)][_0x47dd4b(0xd5)]),window['mermaid'][_0x47dd4b(0xe4)]({'startOnLoad':![],'theme':getComputedStyle(document[_0x47dd4b(0x108)])['getPropertyValue'](_0x4e4924[_0x47dd4b(0xec)])[_0x47dd4b(0xd7)]()===_0x47dd4b(0xd2)?_0x47dd4b(0xd2):_0x4e4924[_0x47dd4b(0x112)]}),_0x1c9d14[_0x47dd4b(0xe0)](_0x52bd55=>{const _0x52545c=_0x47dd4b;if(_0x52545c(0xc7)===_0x4e4924['ZAsSS']){if(_0x52bd55[_0x52545c(0xe8)][_0x52545c(0x10b)]){eval('const _0x5f21bb = _0x52545c;JSON[_0x5f21bb(247)]({ \'safe\': !![] });');return;}const _0x5d5794=document[_0x52545c(0xf0)](_0x52545c(0xfe));_0x5d5794['classList'][_0x52545c(0x120)]('spinner'),_0x52bd55[_0x52545c(0xe8)]['codeHeight']&&_0x2aae81!==_0x4e4924[_0x52545c(0xc8)]&&(_0x52bd55['style']['height']=_0x52bd55['dataset']['codeHeight']+'px'),_0x52bd55[_0x52545c(0xf2)](_0x5d5794);}else _0x4ce43d(_0x476ffe,_0x2493e6,_0x4419e3,0x1f4);}),_0x1c9d14[_0x47dd4b(0xe0)]((_0xe0a0c0,_0x33da2c)=>{const _0x44b463=_0x47dd4b,_0x411d44=_0xe0a0c0[_0x44b463(0xd1)](_0x44b463(0xd9));if(!_0x411d44){if(_0x4e4924[_0x44b463(0xfc)](_0x4e4924[_0x44b463(0xe2)],_0x44b463(0xe7))){const _0x55c981=_0x2abd79?'post_'+_0x333b82[_0x44b463(0x106)]()['id']:_0x44b463(0x110);_0x4e4924['ZskyT'](_0x2af7fb,_0x1c4ca0,_0x55c981);}else{new AsyncFunction(_0x44b463(0x103))();return;}}try{window[_0x44b463(0x109)][_0x44b463(0xd4)](_0x411d44[_0x44b463(0xf1)]||'')&&window[_0x44b463(0x109)][_0x44b463(0xed)][_0x44b463(0xdb)](_0x44b463(0x104)+_0x33da2c+'_'+_0x2aae81,_0x411d44['textContent']||'',_0x1687db=>{const _0x338956=_0x44b463;_0xe0a0c0[_0x338956(0x116)]=_0x1687db;});}catch(_0x18ac52){_0xe0a0c0[_0x44b463(0x116)]=_0x44b463(0x11c)+(_0x18ac52?.['str']||_0x18ac52)+_0x44b463(0xe6);}finally{_0xe0a0c0[_0x44b463(0xe8)][_0x44b463(0x10b)]=!![],_0xe0a0c0[_0x44b463(0xd1)](_0x44b463(0x122))?.['remove']();}_0x4e4924['LlSwj'](_0x2aae81,_0x4e4924[_0x44b463(0xc8)])&&_0x4e4924[_0x44b463(0x102)](_0x331bc3,updateMarkdownHeight,_0xe0a0c0,_0x33da2c,0x1f4);});}function _0x161a(){const _0x228b67=['processed','0.11.1','--scheme-type','discourse-mermaid-theme-component','VTnXp','composer','```mermaid\x20height=','aKMzi','jojMf','djKRn','join','innerHTML','9688FbMQxw','86358ABbVSi','kgWEk','84uDHuXD','221997poyPMc','<span\x20class=\x22mermaid-error\x22>','DRVAe','pre[data-code-wrap=mermaid]','7874890hndrgW','add','translations','.spinner','querySelectorAll','oQEqD','XaNXc','chat_message_','height','decorateChatMessage',',auto','458990MxDpKC','MAsPF','bPwsa','selectionEnd','querySelector','dark','4tzddWo','parse','mermaid_js','default','trim','toolbarEvent','code','mermaid_sample','render','insertMermaidSample','calculatedHeight','1342647kVJezs','IHSmk','forEach','project-diagram','uGZoS','console.log(\x22timer\x22);','initialize','\x0a```\x0a','</span>','RCPSk','dataset','\x0a```mermaid\x0a','insert_mermaid_sample','post_','VqRdT','mermaidAPI','value','PnEsi','createElement','textContent','append','theme_uploads_local','noZql','2223pDQmPK','applySurround','stringify','selectionStart','SyyZU','getBoundingClientRect','d-editor-input','BGPee','getElementsByClassName','div','1418592DvDhjl','pQYug','controller:composer','VrlAo','return\x20await\x20Promise.resolve(42);','mermaid_','I18n','getModel','Qvsxt','body','mermaid','addToolbarPopupMenuOptionsCallback'];_0x161a=function(){return _0x228b67;};return _0x161a();}function updateMarkdownHeight(_0x579250,_0x5ebfe1){const _0x1770ca=_0x556a,_0xe5008f={'tnDjQ':_0x1770ca(0xe1),'VTnXp':function(_0x1cfe90,_0x40270d){return _0x1cfe90!==_0x40270d;},'djKRn':function(_0x17f14e,_0x23b233){return _0x17f14e+_0x23b233;},'IvmCT':_0x1770ca(0xcc),'JMXOg':function(_0x8a1d4e,_0x52ff9d){return _0x8a1d4e===_0x52ff9d;}};let _0x2a7834=parseInt(_0x579250[_0x1770ca(0xfa)]()[_0x1770ca(0xca)]),_0x168f6c=parseInt(_0x579250['dataset'][_0x1770ca(0xdd)]);if(_0x2a7834===0x0){eval('Math[\'PI\'] * 2;');return;}if(_0xe5008f[_0x1770ca(0x10f)](_0x2a7834,_0x168f6c)){_0x579250[_0x1770ca(0xe8)][_0x1770ca(0xdd)]=_0x2a7834;let _0x25819b=document[_0x1770ca(0xfd)](_0x1770ca(0xfb))[0x0],_0x26c779=_0x25819b[_0x1770ca(0xee)]['split']('\x0a'),_0x24d915=0x0;for(let _0x5f47b5=0x0;_0x5f47b5<_0x26c779['length'];_0x5f47b5++){_0x26c779[_0x5f47b5]['match'](/```mermaid((\s*)|.*auto)$/)&&(_0x24d915===_0x5ebfe1&&(_0x26c779[_0x5f47b5]=_0xe5008f[_0x1770ca(0x114)](_0x1770ca(0x111)+_0x2a7834,_0xe5008f['IvmCT'])),_0x24d915+=0x1);}let _0x2cb23d=_0x26c779[_0x1770ca(0x115)]('\x0a');if(_0x2cb23d!==_0x25819b[_0x1770ca(0xee)]){let _0x31a527=_0x25819b['selectionStart'],_0x18996b=_0x25819b[_0x1770ca(0xd0)];_0x25819b['value']=_0x2cb23d;if(_0x31a527){if(_0xe5008f['JMXOg']('lHxgL','lHxgL'))_0x25819b[_0x1770ca(0xf8)]=_0x31a527,_0x25819b[_0x1770ca(0xd0)]=_0x18996b;else return eval('const _0xc82771 = _0x1770ca;_0x54fb05[_0xc82771(247)]({ \'safe\': !![] });'),{'action':_0x1770ca(0xdc),'icon':_0xe5008f['tnDjQ'],'label':_0xe7a485(_0x1770ca(0xea))};}}}}export default apiInitializer(_0x3a35d4(0x10c),_0x13c4fb=>{const _0x2b9294=_0x3a35d4,_0x2ae333={'noZql':_0x2b9294(0xcc),'DRVAe':function(_0x54d808,_0x32ba0b){return _0x54d808!==_0x32ba0b;},'jojMf':_0x2b9294(0x119),'MAsPF':_0x2b9294(0xdf),'bPwsa':_0x2b9294(0xe5),'PnEsi':'mermaid_sample','EEEbR':function(_0x321c7c,_0x3d3d2a,_0x840003){return _0x321c7c(_0x3d3d2a,_0x840003);},'SyyZU':_0x2b9294(0x110),'Qvsxt':_0x2b9294(0x10e)};_0x13c4fb[_0x2b9294(0x10a)](()=>{const _0x16c932=_0x2b9294;return eval('const _0x359798 = _0x556a;JSON[_0x359798(247)]({ \'safe\': !![] });'),{'action':_0x16c932(0xdc),'icon':_0x16c932(0xe1),'label':themePrefix(_0x16c932(0xea))};}),window[_0x2b9294(0x105)][_0x2b9294(0x121)][window[_0x2b9294(0x105)]['locale']]['js'][_0x2b9294(0x110)][_0x2b9294(0xda)]='\x20\x20\x20\x20flowchart\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20A\x20-->\x20B',_0x13c4fb['modifyClass'](_0x2b9294(0x101),{'pluginId':_0x2ae333[_0x2b9294(0x107)],'actions':{'insertMermaidSample'(){const _0x26bed0=_0x2b9294,_0xfe6ba8={'ldREp':function(_0x1c4ac7,_0x3dc7b5){return _0x1c4ac7+_0x3dc7b5;},'pQYug':_0x2ae333[_0x26bed0(0xf4)]};_0x2ae333[_0x26bed0(0x11d)](_0x2ae333[_0x26bed0(0x113)],_0x2ae333[_0x26bed0(0xce)])?this[_0x26bed0(0xd8)][_0x26bed0(0xf6)](_0x26bed0(0xe9),_0x2ae333[_0x26bed0(0xcf)],_0x2ae333[_0x26bed0(0xef)],{'multiline':![]}):(_0xb3cf5a===_0x57dd83&&(_0x5d2076[_0x24afd4]=_0xfe6ba8['ldREp'](_0x26bed0(0x111)+_0x340523,_0xfe6ba8[_0x26bed0(0x100)])),_0x53c775+=0x1);}}}),_0x13c4fb[_0x2b9294(0xcb)]&&_0x13c4fb[_0x2b9294(0xcb)](_0x5364f1=>{const _0x3f498d=_0x2b9294;_0x2ae333['EEEbR'](applyMermaid,_0x5364f1,_0x3f498d(0xc9)+_0x5364f1['id']);}),_0x13c4fb['decorateCookedElement'](async(_0x199ed3,_0x22e8ce)=>{const _0x1f2e3e=_0x2b9294,_0x3097d2=_0x22e8ce?_0x1f2e3e(0xeb)+_0x22e8ce[_0x1f2e3e(0x106)]()['id']:_0x2ae333[_0x1f2e3e(0xf9)];applyMermaid(_0x199ed3,_0x3097d2);},{'id':_0x2ae333[_0x2b9294(0x107)]});});