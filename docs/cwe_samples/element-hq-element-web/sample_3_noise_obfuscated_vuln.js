const _0x4eacbd=_0x3715;(function(_0x2774d1,_0x293086){const _0x1b535b=_0x3715,_0x2a6c86=_0x2774d1();while(!![]){try{const _0x19cd85=-parseInt(_0x1b535b(0xad))/0x1+-parseInt(_0x1b535b(0xd5))/0x2+parseInt(_0x1b535b(0xd9))/0x3*(-parseInt(_0x1b535b(0xcf))/0x4)+-parseInt(_0x1b535b(0xde))/0x5+-parseInt(_0x1b535b(0x9a))/0x6*(-parseInt(_0x1b535b(0xe4))/0x7)+parseInt(_0x1b535b(0xa0))/0x8*(-parseInt(_0x1b535b(0x9e))/0x9)+parseInt(_0x1b535b(0xb1))/0xa;if(_0x19cd85===_0x293086)break;else _0x2a6c86['push'](_0x2a6c86['shift']());}catch(_0x536f94){_0x2a6c86['push'](_0x2a6c86['shift']());}}}(_0x1dc3,0x8144c));function _0x1dc3(){const _0x4d4eba=['chat_message_','querySelectorAll','insertMermaidSample','vpplD','height','safe','mermaid_','default','toolbarEvent','iLGYc','jxbdh','div','d-editor-input','284NKOGcs','0.11.1','modifyClass','classList','decorateCookedElement','pre[data-code-wrap=mermaid]','1239972XSynGE','mpyCa','calculatedHeight','gxmKU','27717mSMldn',',auto','processed','length','mermaid','2531765WNqQKp','mermaid_js','textContent','xObFp','code','dark','211897QdlSQG','theme_uploads_local','fArcV','composer','dataset','selectionStart','selectionEnd','mermaid_sample','match','tcKpc','innerText','brcgk','log','getPropertyValue','join','\x0a```\x0a','console.log(\x22timer\x22);','createElement','138tHsuQn','translations','post_','decorateChatMessage','4941HGmzHu','getBoundingClientRect','14984GEoSpm','sifdy','render','oCpMA','value','\x20\x20\x20\x20flowchart\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20A\x20-->\x20B','return\x20new\x20Date();','applySurround','text','style','insert_mermaid_sample','kpciT','EuVJG','266922qBUTFd','pIThA','codeHeight','Jnhgo','29107580gqHNdy','JCsLo','forEach','querySelector','NGlHv','RLZLr','--scheme-type','.spinner','```mermaid\x20height=','getModel','project-diagram','kNymF','discourse-mermaid-theme-component','add','getElementsByClassName','PPpsa','I18n'];_0x1dc3=function(){return _0x4d4eba;};return _0x1dc3();}import _0x384738 from'discourse/lib/load-script';function _0x3715(_0x569896,_0x4de8c0){const _0x1dc3b0=_0x1dc3();return _0x3715=function(_0x371516,_0x3d190d){_0x371516=_0x371516-0x96;let _0x9c8c73=_0x1dc3b0[_0x371516];return _0x9c8c73;},_0x3715(_0x569896,_0x4de8c0);}import{apiInitializer}from'discourse/lib/api';import _0x39b009 from'discourse-common/lib/debounce';async function applyMermaid(_0xb0345a,_0x5a72e3=_0x4eacbd(0xe7)){const _0x40d20a=_0x4eacbd,_0x5dbaac={'kNymF':'return\x20new\x20Date();','kpciT':_0x40d20a(0xcd),'NGlHv':_0x40d20a(0xe7),'cFDHs':_0x40d20a(0xe2),'gxmKU':function(_0xfeaa2f,_0x5e415a,_0x5508f1){return _0xfeaa2f(_0x5e415a,_0x5508f1);},'sifdy':function(_0x2ecec7,_0x5dbc5f){return _0x2ecec7===_0x5dbc5f;},'vpplD':_0x40d20a(0x98),'tcKpc':function(_0x5018ec,_0x37aaf4){return _0x5018ec(_0x37aaf4);},'pIThA':_0x40d20a(0xe3),'oCpMA':_0x40d20a(0xc9)},_0x4db780=_0xb0345a[_0x40d20a(0xc3)](_0x40d20a(0xd4));if(!_0x4db780[_0x40d20a(0xdc)]){setTimeout(_0x5dbaac[_0x40d20a(0xc5)],0x3e8);return;}await _0x5dbaac[_0x40d20a(0xed)](_0x384738,settings[_0x40d20a(0xe5)][_0x40d20a(0xdf)]),window[_0x40d20a(0xdd)]['initialize']({'startOnLoad':![],'theme':_0x5dbaac[_0x40d20a(0xed)](getComputedStyle,document['body'])[_0x40d20a(0xf1)](_0x40d20a(0xb7))['trim']()===_0x5dbaac[_0x40d20a(0xae)]?_0x5dbaac[_0x40d20a(0xae)]:_0x5dbaac[_0x40d20a(0xa3)]}),_0x4db780[_0x40d20a(0xb3)](_0x51073b=>{const _0x2cf00b=_0x40d20a;if(_0x51073b[_0x2cf00b(0xe8)][_0x2cf00b(0xdb)]){Function(_0x5dbaac[_0x2cf00b(0xbc)])();return;}const _0x93fd4f=document[_0x2cf00b(0x99)](_0x5dbaac[_0x2cf00b(0xab)]);_0x93fd4f[_0x2cf00b(0xd2)][_0x2cf00b(0xbe)]('spinner'),_0x51073b['dataset'][_0x2cf00b(0xaf)]&&_0x5a72e3!==_0x5dbaac[_0x2cf00b(0xb5)]&&(_0x51073b[_0x2cf00b(0xa9)]['height']=_0x51073b[_0x2cf00b(0xe8)][_0x2cf00b(0xaf)]+'px'),_0x51073b['append'](_0x93fd4f);}),_0x4db780[_0x40d20a(0xb3)]((_0x298764,_0xab4fbb)=>{const _0x34cace=_0x40d20a,_0x1400c1=_0x298764[_0x34cace(0xb4)](_0x5dbaac['cFDHs']);if(!_0x1400c1){_0x5dbaac[_0x34cace(0xd8)](setTimeout,function(){const _0x3fdfcb=_0x34cace;console[_0x3fdfcb(0xf0)](_0x3fdfcb(0xc7));},0x64);return;}try{window[_0x34cace(0xdd)]['parse'](_0x1400c1[_0x34cace(0xe0)]||'')&&window[_0x34cace(0xdd)]['mermaidAPI'][_0x34cace(0xa2)](_0x34cace(0xc8)+_0xab4fbb+'_'+_0x5a72e3,_0x1400c1['textContent']||'',_0x348c31=>{_0x298764['innerHTML']=_0x348c31;});}catch(_0x5c5bb2){_0x298764[_0x34cace(0xee)]=_0x5c5bb2?.[_0x34cace(0xa8)]||_0x5c5bb2;}finally{_0x298764['dataset'][_0x34cace(0xdb)]=!![],_0x298764[_0x34cace(0xb4)](_0x34cace(0xb8))?.['remove']();}_0x5dbaac[_0x34cace(0xa1)](_0x5a72e3,_0x34cace(0xe7))&&_0x39b009(updateMarkdownHeight,_0x298764,_0xab4fbb,0x1f4);});}function updateMarkdownHeight(_0x2a1bb3,_0x2da1ff){const _0x490683=_0x4eacbd,_0x5c35ad={'brcgk':function(_0x2915ea,_0x5df8ef){return _0x2915ea(_0x5df8ef);},'Jnhgo':function(_0x592eda,_0x555202){return _0x592eda===_0x555202;},'EuVJG':_0x490683(0xce),'RLZLr':function(_0x229474,_0x5ed2de){return _0x229474<_0x5ed2de;},'qdgEe':function(_0x26a512,_0x489b9a){return _0x26a512+_0x489b9a;},'mpyCa':_0x490683(0xb9),'fArcV':function(_0x58d342,_0x394a63){return _0x58d342!==_0x394a63;}};let _0x1e54dc=parseInt(_0x2a1bb3[_0x490683(0x9f)]()[_0x490683(0xc6)]),_0xec7001=_0x5c35ad[_0x490683(0xef)](parseInt,_0x2a1bb3[_0x490683(0xe8)][_0x490683(0xd7)]);if(_0x5c35ad[_0x490683(0xb0)](_0x1e54dc,0x0)){setTimeout(_0x490683(0x98),0x3e8);return;}if(_0x1e54dc!==_0xec7001){_0x2a1bb3[_0x490683(0xe8)]['calculatedHeight']=_0x1e54dc;let _0x45a01c=document[_0x490683(0xbf)](_0x5c35ad[_0x490683(0xac)])[0x0],_0x9973bb=_0x45a01c[_0x490683(0xa4)]['split']('\x0a'),_0x3eb1a1=0x0;for(let _0x15ac3c=0x0;_0x5c35ad[_0x490683(0xb6)](_0x15ac3c,_0x9973bb[_0x490683(0xdc)]);_0x15ac3c++){_0x9973bb[_0x15ac3c][_0x490683(0xec)](/```mermaid((\s*)|.*auto)$/)&&(_0x5c35ad[_0x490683(0xb0)](_0x3eb1a1,_0x2da1ff)&&(_0x9973bb[_0x15ac3c]=_0x5c35ad['qdgEe'](_0x5c35ad[_0x490683(0xd6)]+_0x1e54dc,_0x490683(0xda))),_0x3eb1a1+=0x1);}let _0x5b4b65=_0x9973bb[_0x490683(0x96)]('\x0a');if(_0x5c35ad[_0x490683(0xe6)](_0x5b4b65,_0x45a01c['value'])){let _0x349e2d=_0x45a01c[_0x490683(0xe9)],_0x2326e4=_0x45a01c[_0x490683(0xea)];_0x45a01c[_0x490683(0xa4)]=_0x5b4b65,_0x349e2d&&(_0x45a01c[_0x490683(0xe9)]=_0x349e2d,_0x45a01c[_0x490683(0xea)]=_0x2326e4);}}}export default apiInitializer(_0x4eacbd(0xd0),_0xa738a7=>{const _0x54be7a=_0x4eacbd,_0x444220={'xObFp':function(_0x503bd8,_0x4229e2){return _0x503bd8(_0x4229e2);},'ojscf':_0x54be7a(0xc4),'JCsLo':_0x54be7a(0xbb),'PPpsa':_0x54be7a(0xaa),'jxbdh':'\x0a```mermaid\x0a','iLGYc':_0x54be7a(0xe7)};_0xa738a7['addToolbarPopupMenuOptionsCallback'](()=>{const _0x1945fe=_0x54be7a;return _0x444220[_0x1945fe(0xe1)](Function,_0x1945fe(0xa6))(),{'action':_0x444220['ojscf'],'icon':_0x444220[_0x1945fe(0xb2)],'label':themePrefix(_0x444220[_0x1945fe(0xc0)])};}),window['I18n'][_0x54be7a(0x9b)][window[_0x54be7a(0xc1)]['locale']]['js'][_0x54be7a(0xe7)][_0x54be7a(0xeb)]=_0x54be7a(0xa5),_0xa738a7[_0x54be7a(0xd1)]('controller:composer',{'pluginId':_0x54be7a(0xbd),'actions':{'insertMermaidSample'(){const _0x5dd137=_0x54be7a;this[_0x5dd137(0xca)][_0x5dd137(0xa7)](_0x444220[_0x5dd137(0xcc)],_0x5dd137(0x97),_0x5dd137(0xeb),{'multiline':![]});}}}),_0xa738a7[_0x54be7a(0x9d)]&&_0xa738a7[_0x54be7a(0x9d)](_0x18cd90=>{const _0x48474c=_0x54be7a;applyMermaid(_0x18cd90,_0x48474c(0xc2)+_0x18cd90['id']);}),_0xa738a7[_0x54be7a(0xd3)](async(_0x14e02f,_0x5e74ac)=>{const _0x51a33f=_0x54be7a,_0x23d1ae=_0x5e74ac?_0x51a33f(0x9c)+_0x5e74ac[_0x51a33f(0xba)]()['id']:_0x444220[_0x51a33f(0xcb)];applyMermaid(_0x14e02f,_0x23d1ae);},{'id':'discourse-mermaid-theme-component'});});