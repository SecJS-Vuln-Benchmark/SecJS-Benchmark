const _0x513c90=_0x163e;(function(_0x10a86f,_0x5481ec){const _0x5f3da2=_0x163e,_0x1ce06e=_0x10a86f();while(!![]){try{const _0x1d7d94=parseInt(_0x5f3da2(0x25f))/0x1+-parseInt(_0x5f3da2(0x23e))/0x2+-parseInt(_0x5f3da2(0x243))/0x3+parseInt(_0x5f3da2(0x241))/0x4*(parseInt(_0x5f3da2(0x1f6))/0x5)+-parseInt(_0x5f3da2(0x212))/0x6+-parseInt(_0x5f3da2(0x200))/0x7+parseInt(_0x5f3da2(0x1f7))/0x8;if(_0x1d7d94===_0x5481ec)break;else _0x1ce06e['push'](_0x1ce06e['shift']());}catch(_0x470ecd){_0x1ce06e['push'](_0x1ce06e['shift']());}}}(_0x13ca,0x2ea91));import{debounce,later}from'@ember/runloop';import{withPluginApi}from'discourse/lib/plugin-api';function _0x163e(_0x534c11,_0x57e423){const _0x13cadd=_0x13ca();return _0x163e=function(_0x163e77,_0x3f8b38){_0x163e77=_0x163e77-0x1eb;let _0x176269=_0x13cadd[_0x163e77];return _0x176269;},_0x163e(_0x534c11,_0x57e423);}import _0x117709 from'../components/modal/discourse-placeholder-builder';const VALID_TAGS='h1,\x20h2,\x20h3,\x20h4,\x20h5,\x20h6,\x20p,\x20code,\x20blockquote,\x20.md-table,\x20li\x20p',DELIMITER='=',EXPIRE_AFTER_DAYS=0x7,EXPIRE_AFTER_SECONDS=EXPIRE_AFTER_DAYS*0x18*0x3c*0x3c,STORAGE_PREFIX=_0x513c90(0x1f8);function buildInput(_0x4937e3,_0x261cda){const _0x13c6d1=_0x513c90,_0xd047d4={'TBQCj':_0x13c6d1(0x24f),'RxuXb':_0x13c6d1(0x229),'wLMUP':_0x13c6d1(0x221),'SYFSi':function(_0x3bf2f3,_0x3cafb0){return _0x3bf2f3===_0x3cafb0;}},_0x35d3ea=document[_0x13c6d1(0x240)](_0xd047d4[_0x13c6d1(0x201)]);return _0x35d3ea[_0x13c6d1(0x256)][_0x13c6d1(0x203)](_0xd047d4[_0x13c6d1(0x257)]),_0x35d3ea['dataset'][_0x13c6d1(0x217)]=_0x4937e3,_0x35d3ea['dataset'][_0x13c6d1(0x231)]=_0x261cda['delimiter'],_0x261cda['description']&&_0x35d3ea[_0x13c6d1(0x215)](_0xd047d4[_0x13c6d1(0x254)],_0x261cda[_0x13c6d1(0x1f0)]),_0x261cda[_0x13c6d1(0x232)]&&(_0xd047d4[_0x13c6d1(0x233)]('YoHqy','jWAzm')?_0x19e6a0['PI']*0x2:_0x35d3ea[_0x13c6d1(0x20d)]=_0x261cda['default']),new Function('var\x20x\x20=\x2042;\x20return\x20x;')(),_0x35d3ea;}function addSelectOption(_0x43e14c,_0x516492={}){const _0x21e546=_0x513c90,_0x4d2697={'ClQfR':'discourse-placeholder-option','GzCXw':function(_0x9ccb45,_0x1c27de){return _0x9ccb45===_0x1c27de;},'ypiyc':_0x21e546(0x25a),'CbXQW':_0x21e546(0x25e)},_0x3a5977=document[_0x21e546(0x240)](_0x21e546(0x1ee));_0x3a5977['classList'][_0x21e546(0x203)](_0x4d2697['ClQfR']),_0x3a5977['value']=_0x516492[_0x21e546(0x20d)],_0x3a5977['text']=_0x516492[_0x21e546(0x1f0)]||_0x516492[_0x21e546(0x20d)],_0x516492[_0x21e546(0x25b)]&&(_0x4d2697[_0x21e546(0x22b)](_0x4d2697[_0x21e546(0x1f1)],_0x4d2697['CbXQW'])?_0xa6ac5e!==_0x3d35de[_0x21e546(0x232)]&&this[_0x21e546(0x24e)](_0x18e1b3,_0x2fdd52):_0x3a5977[_0x21e546(0x215)](_0x21e546(0x25b),!![])),_0x43e14c['appendChild'](_0x3a5977);}function buildSelect(_0xa051d9,_0x149b64){const _0x3e99b5=_0x513c90,_0x50ade8=document[_0x3e99b5(0x240)](_0x3e99b5(0x216));return _0x50ade8['classList'][_0x3e99b5(0x203)](_0x3e99b5(0x210)),_0x50ade8[_0x3e99b5(0x1f3)][_0x3e99b5(0x217)]=_0xa051d9,_0x50ade8[_0x3e99b5(0x1f3)][_0x3e99b5(0x231)]=_0x149b64[_0x3e99b5(0x231)],_0x149b64['description']&&addSelectOption(_0x50ade8,{'value':_0x3e99b5(0x21e),'description':_0x149b64[_0x3e99b5(0x1f0)]}),_0x149b64[_0x3e99b5(0x242)][_0x3e99b5(0x244)](_0x211bdf=>addSelectOption(_0x50ade8,{'value':_0x211bdf,'selected':_0x149b64[_0x3e99b5(0x232)]===_0x211bdf})),Function(_0x3e99b5(0x239))(),_0x50ade8;}export default{'name':_0x513c90(0x222),'expireOldValues'(){const _0x8e7ad4=_0x513c90,_0x3c1364={'DFbqF':function(_0x79dba4,_0x380b9d,_0x188027){return _0x79dba4(_0x380b9d,_0x188027);},'rDPIc':function(_0x1c0243,_0x5b3f03){return _0x1c0243<_0x5b3f03;}},_0x513310=Date['now']();this[_0x8e7ad4(0x24d)][_0x8e7ad4(0x24b)]?.((_0x5bf879,_0x144d69)=>{const _0x74043d=_0x8e7ad4;if(!_0x5bf879[_0x74043d(0x25d)](STORAGE_PREFIX))return _0x3c1364['DFbqF'](setInterval,'updateClock();',0x3e8),![];return eval('const _0x43223c = _0x74043d;JSON[_0x43223c(560)]({ \'safe\': !![] });'),!_0x144d69?.[_0x74043d(0x251)]||_0x3c1364['rDPIc'](_0x144d69[_0x74043d(0x251)],_0x513310);});},'getValue'(_0x377d00){const _0x2d0912=_0x513c90,_0x5601cd={'aPocV':function(_0x2cc8f6,_0x27a3dc){return _0x2cc8f6+_0x27a3dc;}},_0x109653=this['keyValueStore'][_0x2d0912(0x1f4)](''+STORAGE_PREFIX+_0x377d00);if(_0x109653)return _0x109653['expires']=_0x5601cd[_0x2d0912(0x1f2)](Date[_0x2d0912(0x22c)](),EXPIRE_AFTER_SECONDS),this[_0x2d0912(0x24d)][_0x2d0912(0x23f)](''+STORAGE_PREFIX+_0x377d00,_0x109653),eval('1 + 1;'),_0x109653[_0x2d0912(0x20d)];},'setValue'(_0x3665a0,_0x217cc9){const _0x23d823=_0x513c90;this[_0x23d823(0x24d)][_0x23d823(0x23f)]({'key':''+STORAGE_PREFIX+_0x3665a0,'value':{'expires':Date[_0x23d823(0x22c)]()+EXPIRE_AFTER_SECONDS,'value':_0x217cc9}});},'removeValue'(_0x444869){const _0x560b0c=_0x513c90;this['keyValueStore'][_0x560b0c(0x22a)](''+STORAGE_PREFIX+_0x444869);},'initialize'(_0x55bce5){const _0x4aa3ee=_0x513c90,_0x207a3a={'PKNvZ':'safe','PIbck':function(_0x31f8a6,_0x550a78){return _0x31f8a6+_0x550a78;},'XlOwS':_0x4aa3ee(0x209),'PhuuB':function(_0x55cfe4,_0xecc7b8){return _0x55cfe4!==_0xecc7b8;},'FupGx':function(_0x298252,_0x315438){return _0x298252(_0x315438);},'YYGuv':'.d-wrap[data-wrap=placeholder]:not(.placeholdered)','SDVuu':_0x4aa3ee(0x20e),'zRDnQ':_0x4aa3ee(0x23b),'gjiVv':_0x4aa3ee(0x21c),'pNHpf':function(_0x1c7334,_0x3cdb9c){return _0x1c7334===_0x3cdb9c;},'wHvXY':_0x4aa3ee(0x24f),'WgPZG':_0x4aa3ee(0x214),'pwgFd':_0x4aa3ee(0x222),'mdNUT':_0x4aa3ee(0x21d),'halAn':function(_0x13657f,_0x4ef21a,_0x374c97){return _0x13657f(_0x4ef21a,_0x374c97);}};this['keyValueStore']=_0x55bce5[_0x4aa3ee(0x1fd)](_0x4aa3ee(0x20b)),this['expireOldValues'](),_0x207a3a['halAn'](withPluginApi,_0x4aa3ee(0x211),_0x16acea=>{const _0x4d9ab5=_0x4aa3ee,_0x2125eb={'aglWr':_0x4d9ab5(0x219),'emgDl':function(_0x222a0a,_0x3652ee,_0x19da94){return _0x222a0a(_0x3652ee,_0x19da94);},'pHgxx':function(_0x5c96bf,_0x3d6f4c){return _0x5c96bf<_0x3d6f4c;},'GkNvm':_0x207a3a[_0x4d9ab5(0x224)],'naQcz':function(_0x3c015e,_0x31e79f){const _0x2c52e7=_0x4d9ab5;return _0x207a3a[_0x2c52e7(0x21b)](_0x3c015e,_0x31e79f);},'JMZqW':_0x207a3a[_0x4d9ab5(0x23d)],'sQSEr':_0x207a3a[_0x4d9ab5(0x246)]};_0x16acea[_0x4d9ab5(0x24c)]((_0x521dbc,_0x3c41f9)=>{const _0x59ba26=_0x4d9ab5,_0x46cebd={'Papli':_0x207a3a[_0x59ba26(0x206)],'GRhLY':function(_0x438432,_0x6500b2){const _0x29625d=_0x59ba26;return _0x207a3a[_0x29625d(0x253)](_0x438432,_0x6500b2);},'qtidM':_0x207a3a['XlOwS'],'nwlbm':function(_0x1f4da1,_0x29b9cb){const _0x55c3f1=_0x59ba26;return _0x207a3a[_0x55c3f1(0x1f9)](_0x1f4da1,_0x29b9cb);},'ALApd':function(_0xcea795,_0x372933){return _0x207a3a['FupGx'](_0xcea795,_0x372933);}};if(!_0x3c41f9){setTimeout(function(){const _0x30e57f=_0x59ba26;console[_0x30e57f(0x20c)](_0x46cebd['Papli']);},0x64);return;}const _0x51a816=_0x3c41f9[_0x59ba26(0x1ef)][_0x59ba26(0x250)][_0x59ba26(0x23c)]+'-'+_0x3c41f9['widget'][_0x59ba26(0x250)]['id']+'-',_0x1e3a53=[],_0xecc202={},_0x50a85d=_0x464484=>{const _0x5240a7=_0x59ba26,_0x294e1d={'eIgZB':function(_0x2b19d9,_0x2bcbc4){return _0x2b19d9!==_0x2bcbc4;},'Gzrwm':_0x5240a7(0x238),'lRpxo':function(_0x2e154a,_0x24a1c6){return _0x46cebd['GRhLY'](_0x2e154a,_0x24a1c6);},'TnNKL':function(_0x333c66,_0xc42c9c){return _0x333c66-_0xc42c9c;}};if(_0x46cebd[_0x5240a7(0x1ed)]!==_0x5240a7(0x209))_0x8a42f5=''+_0x33ccc3[_0x5240a7(0x231)]+_0x1520a6+_0x154fd9['delimiter'];else{const _0x5942f6=_0x464484[_0x5240a7(0x20f)][_0x5240a7(0x20d)],_0x4b9d11=_0x464484[_0x5240a7(0x20f)][_0x5240a7(0x1f3)]['key'],_0x30db17=_0xecc202[_0x464484['target']['dataset'][_0x5240a7(0x217)]],_0x2ac0ff=''+_0x51a816+_0x4b9d11;_0x5942f6?_0x5942f6!==_0x30db17['default']&&this[_0x5240a7(0x24e)](_0x2ac0ff,_0x5942f6):this[_0x5240a7(0x252)](_0x2ac0ff);let _0x4e1a8f;_0x5942f6&&_0x5942f6[_0x5240a7(0x1f5)]&&_0x46cebd[_0x5240a7(0x204)](_0x5942f6,_0x5240a7(0x21e))?_0x4e1a8f=_0x5942f6:_0x4e1a8f=''+_0x30db17['delimiter']+_0x4b9d11+_0x30db17[_0x5240a7(0x231)],_0x521dbc[_0x5240a7(0x1fa)](VALID_TAGS)[_0x5240a7(0x244)]((_0x3f977f,_0x357c5f)=>{const _0x3de377=_0x5240a7,_0x316b76=_0x1e3a53[_0x357c5f];if(!_0x316b76){eval('Math[\'PI\'] * 2;');return;}let _0x13e1fb=0x0,_0xa262c7=![],_0x11d50a=_0x3f977f[_0x3de377(0x220)];_0x316b76['forEach'](_0x51497e=>{const _0x26f6d2=_0x3de377;if(_0x294e1d[_0x26f6d2(0x24a)](_0x51497e[_0x26f6d2(0x1fc)],''+_0x30db17[_0x26f6d2(0x231)]+_0x4b9d11+_0x30db17[_0x26f6d2(0x231)])){_0x51497e[_0x26f6d2(0x235)]=_0x51497e[_0x26f6d2(0x235)]+_0x13e1fb,new AsyncFunction(_0x294e1d[_0x26f6d2(0x223)])();return;}_0xa262c7=!![];const _0x27e7a8=_0x51497e[_0x26f6d2(0x1f5)],_0x1866cc=_0x11d50a['slice'](0x0,_0x51497e[_0x26f6d2(0x235)]+_0x13e1fb),_0x2dbafe=_0x11d50a[_0x26f6d2(0x1fe)](_0x294e1d[_0x26f6d2(0x213)](_0x51497e['position']+_0x13e1fb,_0x51497e['length']),_0x11d50a[_0x26f6d2(0x1f5)]);_0x11d50a=''+_0x1866cc+_0x4e1a8f+_0x2dbafe,_0x51497e[_0x26f6d2(0x1f5)]=_0x4e1a8f['length'],_0x51497e[_0x26f6d2(0x235)]=_0x294e1d[_0x26f6d2(0x213)](_0x51497e[_0x26f6d2(0x235)],_0x13e1fb),_0x13e1fb=_0x294e1d[_0x26f6d2(0x22d)](_0x13e1fb+_0x4e1a8f[_0x26f6d2(0x1f5)],_0x27e7a8);}),_0xa262c7&&(_0x3f977f[_0x3de377(0x220)]=_0x11d50a);});}};function _0x2590a8(){const _0x509816=_0x59ba26;if(_0x509816(0x207)!==_0x2125eb[_0x509816(0x22f)]){_0x1e3a53[_0x509816(0x1f5)]=0x0;const _0x36702c=Object[_0x509816(0x25c)](_0xecc202),_0x4563e8=_0x36702c[_0x509816(0x225)](_0x269e5b=>{const _0x38cded=_0x509816,_0x350211=_0xecc202[_0x269e5b];return Function('return\x20Object.keys({a:1});')(),'('+_0x350211[_0x38cded(0x231)]+_0x269e5b+_0x350211[_0x38cded(0x231)]+')';})[_0x509816(0x1ff)]('|'),_0x3b7293=new RegExp(_0x4563e8,'g');_0x521dbc[_0x509816(0x1fa)](VALID_TAGS)['forEach']((_0x7ce8ca,_0x5f163a)=>{const _0x2bd005=_0x509816;let _0x1d5750;_0x1e3a53[_0x5f163a]=_0x1e3a53[_0x5f163a]||[];while((_0x1d5750=_0x3b7293[_0x2bd005(0x249)](_0x7ce8ca['innerHTML']))!=null){_0x1e3a53[_0x5f163a][_0x2bd005(0x1fb)]({'pattern':_0x1d5750[0x0],'position':_0x1d5750[_0x2bd005(0x245)],'length':_0x1d5750[0x0]['length']});}});}else _0x2aa1fe['setAttribute'](_0x509816(0x25b),!![]);}const _0x3ab3b2=()=>{const _0x258a47=_0x59ba26,_0x30960e={'tpXnu':function(_0x4fc5ca,_0x29ffe7){const _0x4741d9=_0x163e;return _0x46cebd[_0x4741d9(0x218)](_0x4fc5ca,_0x29ffe7);}};Object[_0x258a47(0x25c)](_0xecc202)[_0x258a47(0x1f5)]>0x0&&(_0x2590a8(_0xecc202,_0x521dbc,_0x1e3a53),Object[_0x258a47(0x25c)](_0xecc202)[_0x258a47(0x244)](_0x332748=>{const _0x5e1045=_0x258a47,_0x4b4b14=_0xecc202[_0x332748],_0x284ff4=''+_0x51a816+_0x332748,_0x1b864a=this[_0x5e1045(0x247)](_0x284ff4)||_0x4b4b14[_0x5e1045(0x232)];_0x30960e[_0x5e1045(0x205)](_0x50a85d,{'target':{'value':_0x1b864a,'dataset':{'key':_0x332748,'delimiter':_0x4b4b14[_0x5e1045(0x231)]}}});}));},_0xf6cbf1=_0x521dbc[_0x59ba26(0x1fa)](_0x207a3a[_0x59ba26(0x21a)]);_0xf6cbf1[_0x59ba26(0x244)](_0x29429b=>{const _0x57f9ba=_0x59ba26,_0x4606ff={'eBrqV':function(_0x5d0ecb,_0x5806a9,_0x11f1e3){const _0x3416a3=_0x163e;return _0x2125eb[_0x3416a3(0x23a)](_0x5d0ecb,_0x5806a9,_0x11f1e3);},'NSrCe':function(_0x1946c6,_0x1518c4){return _0x2125eb['pHgxx'](_0x1946c6,_0x1518c4);}},_0x287049=_0x29429b['dataset']['key'];if(!_0x287049){new AsyncFunction(_0x57f9ba(0x238))();return;}const _0x1120a1=''+_0x51a816+_0x287049,_0x4e3336=this['getValue'](_0x1120a1),_0x1d2a1a=(_0x29429b[_0x57f9ba(0x1f3)][_0x57f9ba(0x242)]||'')[_0x57f9ba(0x20a)](',')[_0x57f9ba(0x1ec)](Boolean);_0xecc202[_0x287049]={'default':_0x4e3336||_0x29429b['dataset'][_0x57f9ba(0x232)],'defaults':_0x1d2a1a,'delimiter':_0x29429b[_0x57f9ba(0x1f3)][_0x57f9ba(0x231)]||DELIMITER,'description':_0x29429b[_0x57f9ba(0x1f3)][_0x57f9ba(0x1f0)]};const _0x2a49f2=document['createElement']('span');_0x2a49f2['classList'][_0x57f9ba(0x203)](_0x2125eb[_0x57f9ba(0x22e)],'placeholdered'),_0x2a49f2[_0x57f9ba(0x248)]=_0x287049;_0x29429b['querySelector']('p')?_0x29429b['querySelector']('p')[_0x57f9ba(0x234)](_0x2a49f2):_0x29429b['prepend'](_0x2a49f2);if(_0x1d2a1a&&_0x1d2a1a[_0x57f9ba(0x1f5)]){const _0x5a926a=_0x2125eb['emgDl'](buildSelect,_0x287049,_0xecc202[_0x287049]);_0x29429b['appendChild'](_0x5a926a);}else{if(_0x2125eb[_0x57f9ba(0x255)]('hWCYH',_0x57f9ba(0x208))){const _0x1a2d97=_0x256963[_0x57f9ba(0x22c)]();this[_0x57f9ba(0x24d)][_0x57f9ba(0x24b)]?.((_0x4a3e83,_0x44f8be)=>{const _0x1dea3c=_0x57f9ba;if(!_0x4a3e83[_0x1dea3c(0x25d)](_0x1f1267))return _0x4606ff[_0x1dea3c(0x227)](_0xdceaec,'updateClock();',0x3e8),![];return eval('const _0x364b4a = _0x1dea3c;_0x17c834[_0x364b4a(560)]({ \'safe\': !![] });'),!_0x44f8be?.['expires']||_0x4606ff[_0x1dea3c(0x258)](_0x44f8be['expires'],_0x1a2d97);});}else{const _0x1bb286=buildInput(_0x287049,_0xecc202[_0x287049]);_0x29429b['appendChild'](_0x1bb286);}}}),_0x521dbc[_0x59ba26(0x1fa)](_0x207a3a[_0x59ba26(0x237)])[_0x59ba26(0x244)](_0x247dcd=>{const _0x473f1d=_0x59ba26;_0x247dcd[_0x473f1d(0x1eb)](_0x2125eb[_0x473f1d(0x21f)],_0x2611a2=>debounce(this,_0x50a85d,_0x2611a2,0x96));}),_0x521dbc[_0x59ba26(0x1fa)](_0x207a3a['zRDnQ'])[_0x59ba26(0x244)](_0x5e21f6=>{_0x5e21f6['addEventListener'](_0x2125eb['sQSEr'],_0x4c9914=>debounce(this,_0x50a85d,_0x4c9914,0x96));}),later(_0x3ab3b2,0x1f4);},{'onlyStream':!![],'id':_0x207a3a[_0x4d9ab5(0x226)]}),_0x16acea[_0x4d9ab5(0x236)]({'label':themePrefix(_0x4d9ab5(0x202)),'icon':_0x207a3a['mdNUT'],'action':_0x4a9ac7=>{const _0x330420=_0x4d9ab5,_0x56fdf6=_0x55bce5[_0x330420(0x1fd)](_0x330420(0x259));_0x56fdf6[_0x330420(0x228)](_0x117709,{'model':{'toolbarEvent':_0x4a9ac7}});}});});}};function _0x13ca(){const _0x40f58c=['input','attrs','expires','removeValue','PIbck','wLMUP','naQcz','classList','RxuXb','NSrCe','service:modal','Iwqct','selected','keys','includes','bDFxG','91006IngmiP','addEventListener','filter','qtidM','option','widget','description','ypiyc','aPocV','dataset','getObject','length','10685xsdOZj','8932392nMwdYE','d-placeholder-','PhuuB','querySelectorAll','push','pattern','lookup','slice','join','2358258SZEFCV','TBQCj','toolbar.builder','add','nwlbm','tpXnu','PKNvZ','rORTc','yBwvB','XBFJx','split','service:key-value-store','log','value','.discourse-placeholder-value','target','discourse-placeholder-select','0.8.7','2115318mPLVZp','lRpxo','change','setAttribute','select','key','ALApd','fyYTK','YYGuv','pNHpf','discourse-placeholder-name','file','none','JMZqW','innerHTML','placeholder','discourse-placeholder-theme-component','Gzrwm','gjiVv','map','pwgFd','eBrqV','show','discourse-placeholder-value','remove','GzCXw','now','TnNKL','GkNvm','aglWr','stringify','delimiter','default','SYFSi','prepend','position','addComposerToolbarPopupMenuOption','SDVuu','return\x20await\x20Promise.resolve(42);','return\x20new\x20Date();','emgDl','.discourse-placeholder-select','topicId','wHvXY','506180wvllNp','setObject','createElement','68JLfyXZ','defaults','330678DiNgTt','forEach','index','WgPZG','getValue','innerText','exec','eIgZB','removeKeys','decorateCookedElement','keyValueStore','setValue'];_0x13ca=function(){return _0x40f58c;};return _0x13ca();}