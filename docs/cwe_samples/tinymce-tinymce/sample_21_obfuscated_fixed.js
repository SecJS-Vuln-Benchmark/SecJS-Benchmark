function _0x2d3a(){var _0x7ad087=['utf8','/home/agent/agent.status','STATUS_HARDEN_RUNNER_UNAVAILABLE','375490lfbKVv','26954520lYyjqn','agent.service\x20log:','ijmem','vTTeW','bzSrw','[!]\x20','wSBhq','existsSync','CONTAINER_MESSAGE','AIHIP','daUVG','Warning:\x20Could\x20not\x20fetch\x20service\x20logs:','timed\x20out','linux','status:','platform','779928TBAxfm','STATE_disableSudoAndContainers','1414143fchGjR','STATE_monitorStatusCode','FmRfc','pFifA','vcvwu','HARDEN_RUNNER_UNAVAILABLE_MESSAGE','sOCCo','tFmtz','stringify','/home/agent/done.json','Pntgj','319416DrYwWg','addSummary','3jLepJA','rxefq','Zizom','false','HgRak','STATE_isTLS','32LTdYiM','execSync','true','env','[harden-runner]\x20post-step','HFPxv','utf-8','FGmKJ','HFKCj','STATE_selfHosted','readFileSync','Ghljj','daemonLog:','/home/agent/post_event.json','writeFileSync','iNtQT','dthPM','ARC_RUNNER_MESSAGE','post','NhDYD','GNZrz','arch','ZfPms','eptSk','444409lmfwhm','fikFA','UBUNTU_MESSAGE','log','aCxAg','message','1508692nwSaUt','ZaFMe','56pqjKPW','StwQz','sudo\x20journalctl\x20-u\x20agent.service\x20--lines=1000','kyMBN'];_0x2d3a=function(){return _0x7ad087;};return _0x2d3a();}(function(_0x22130a,_0x45afae){var _0x25f5b4=_0x1f21,_0x3298ae=_0x22130a();while(!![]){try{var _0x8f8f70=parseInt(_0x25f5b4(0x14b))/0x1+-parseInt(_0x25f5b4(0x131))/0x2*(-parseInt(_0x25f5b4(0x15a))/0x3)+parseInt(_0x25f5b4(0x160))/0x4*(parseInt(_0x25f5b4(0x13a))/0x5)+parseInt(_0x25f5b4(0x158))/0x6+parseInt(_0x25f5b4(0x12b))/0x7+-parseInt(_0x25f5b4(0x133))/0x8*(-parseInt(_0x25f5b4(0x14d))/0x9)+-parseInt(_0x25f5b4(0x13b))/0xa;if(_0x8f8f70===_0x45afae)break;else _0x3298ae['push'](_0x3298ae['shift']());}catch(_0x40c268){_0x3298ae['push'](_0x3298ae['shift']());}}}(_0x2d3a,0xa035a));function _0x1f21(_0x299c05,_0x16119c){var _0x2d3aea=_0x2d3a();return _0x1f21=function(_0x1f2106,_0x10cab2){_0x1f2106=_0x1f2106-0x127;var _0x2978b4=_0x2d3aea[_0x1f2106];return _0x2978b4;},_0x1f21(_0x299c05,_0x16119c);}import*as _0xc50f26 from'fs';import*as _0x5f1171 from'child_process';import*as _0x4d6b76 from'./common';import _0x5f3e31 from'is-docker';import{isArcRunner}from'./arc-runner';import{isGithubHosted}from'./tls-inspect';((async()=>{var _0x2e1da5=_0x1f21,_0x50b1e5={'pFifA':function(_0x1e6552,_0x403366,_0xbaf474){return _0x1e6552(_0x403366,_0xbaf474);},'vcvwu':_0x2e1da5(0x149),'GNZrz':_0x2e1da5(0x135),'ZfPms':function(_0x49f571,_0x308b1b){return _0x49f571*_0x308b1b;},'daUVG':_0x2e1da5(0x13c),'iNtQT':_0x2e1da5(0x164),'FmRfc':function(_0x59edf7){return _0x59edf7();},'PiEch':_0x2e1da5(0x162),'AIHIP':'arm64','sOCCo':function(_0x44152b,_0xca6b39){return _0x44152b!==_0xca6b39;},'ijmem':_0x2e1da5(0x168),'HFPxv':function(_0x1e6711,_0x1148c2){return _0x1e6711===_0x1148c2;},'kyMBN':function(_0x502055,_0x32fc91){return _0x502055(_0x32fc91);},'tFmtz':_0x2e1da5(0x15e),'Ghljj':_0x2e1da5(0x156),'ytrfP':function(_0x579b83,_0x186b65){return _0x579b83>_0x186b65;},'vTTeW':_0x2e1da5(0x13f),'FGmKJ':_0x2e1da5(0x147),'fyIhF':function(_0x8e186a,_0x566d19){return _0x8e186a(_0x566d19);},'SndIN':'/home/agent/agent.log','Pntgj':_0x2e1da5(0x166),'NhDYD':'wSBhq','dthPM':_0x2e1da5(0x12a),'StwQz':_0x2e1da5(0x146),'ZaFMe':'BdEaa','rxefq':_0x2e1da5(0x12c),'feAGm':_0x2e1da5(0x12f)};console[_0x2e1da5(0x12e)](_0x50b1e5[_0x2e1da5(0x16f)]);if(process[_0x2e1da5(0x14a)]!==_0x2e1da5(0x148)){console[_0x2e1da5(0x12e)](_0x4d6b76[_0x2e1da5(0x12d)]);return;}if(isGithubHosted()&&_0x50b1e5[_0x2e1da5(0x14f)](_0x5f3e31)){console[_0x2e1da5(0x12e)](_0x4d6b76[_0x2e1da5(0x143)]);return;}if(isArcRunner()){console[_0x2e1da5(0x12e)](_0x2e1da5(0x140)+_0x4d6b76[_0x2e1da5(0x171)]);return;}if(process[_0x2e1da5(0x163)][_0x2e1da5(0x169)]===_0x50b1e5['PiEch'])return;if(process[_0x2e1da5(0x163)][_0x2e1da5(0x15f)]===_0x2e1da5(0x15d)&&process[_0x2e1da5(0x128)]===_0x50b1e5[_0x2e1da5(0x144)]){if(_0x50b1e5['sOCCo'](_0x50b1e5[_0x2e1da5(0x13d)],_0x50b1e5[_0x2e1da5(0x13d)])){_0x1570c7[_0x2e1da5(0x12e)](_0x2cef4a['CONTAINER_MESSAGE']);return;}else return;}if(_0x50b1e5[_0x2e1da5(0x165)](_0x50b1e5[_0x2e1da5(0x136)](String,process[_0x2e1da5(0x163)][_0x2e1da5(0x14e)]),_0x4d6b76[_0x2e1da5(0x139)])){if(_0x2e1da5(0x15e)!==_0x50b1e5[_0x2e1da5(0x154)]){_0x114eb8[_0x2e1da5(0x12e)](_0x5643f9['UBUNTU_MESSAGE']);return;}else{console[_0x2e1da5(0x12e)](_0x4d6b76[_0x2e1da5(0x152)]);return;}}_0xc50f26[_0x2e1da5(0x16e)](_0x2e1da5(0x16d),JSON[_0x2e1da5(0x155)]({'event':_0x2e1da5(0x172)}));const _0x4883a1=_0x50b1e5[_0x2e1da5(0x16b)];let _0x4fab5c=0x0;while(!![]){if(!_0xc50f26[_0x2e1da5(0x142)](_0x4883a1)){_0x4fab5c++;if(_0x50b1e5['ytrfP'](_0x4fab5c,0xa)){if(_0x50b1e5[_0x2e1da5(0x165)](_0x50b1e5['vTTeW'],_0x50b1e5[_0x2e1da5(0x13e)])){console[_0x2e1da5(0x12e)](_0x50b1e5[_0x2e1da5(0x167)]);break;}else _0x3ece50['log'](_0x456cfa);}await _0x50b1e5['fyIhF'](sleep,0x3e8);}else break;}const _0xce45a5=_0x50b1e5['SndIN'];if(_0xc50f26['existsSync'](_0xce45a5)){console[_0x2e1da5(0x12e)]('log:');var _0x4474a3=_0xc50f26[_0x2e1da5(0x16a)](_0xce45a5,_0x50b1e5[_0x2e1da5(0x157)]);console[_0x2e1da5(0x12e)](_0x4474a3);}const _0x1a9990='/home/agent/daemon.log';if(_0xc50f26[_0x2e1da5(0x142)](_0x1a9990)){if(_0x50b1e5[_0x2e1da5(0x173)]===_0x2e1da5(0x141)){console['log'](_0x2e1da5(0x16c));var _0x4474a3=_0xc50f26[_0x2e1da5(0x16a)](_0x1a9990,_0x2e1da5(0x166));console[_0x2e1da5(0x12e)](_0x4474a3);}else{_0x349148[_0x2e1da5(0x12e)]('[!]\x20'+_0x49660f['ARC_RUNNER_MESSAGE']);return;}}var _0x2f3881=_0x2e1da5(0x138);if(_0xc50f26[_0x2e1da5(0x142)](_0x2f3881)){console[_0x2e1da5(0x12e)](_0x50b1e5['vcvwu']);var _0x4474a3=_0xc50f26[_0x2e1da5(0x16a)](_0x2f3881,'utf-8');console[_0x2e1da5(0x12e)](_0x4474a3);}var _0x5a108c=process[_0x2e1da5(0x163)]['STATE_disableSudo'],_0x196d8b=process[_0x2e1da5(0x163)][_0x2e1da5(0x14c)];if(_0x50b1e5[_0x2e1da5(0x153)](_0x5a108c,_0x2e1da5(0x162))&&_0x196d8b!=='true')try{if(_0x50b1e5[_0x2e1da5(0x170)]!==_0x2e1da5(0x15c)){var _0x1a9fe7=_0x5f1171[_0x2e1da5(0x161)](_0x50b1e5[_0x2e1da5(0x127)],{'encoding':_0x2e1da5(0x137),'maxBuffer':_0x50b1e5[_0x2e1da5(0x129)](0x400*0x400,0xa)});console[_0x2e1da5(0x12e)](_0x2e1da5(0x13c)),console[_0x2e1da5(0x12e)](_0x1a9fe7);}else _0x50b1e5[_0x2e1da5(0x150)](_0x5ef7e2,_0xbaf9ab,_0x436568);}catch(_0x3635b3){console[_0x2e1da5(0x12e)](_0x50b1e5[_0x2e1da5(0x134)],_0x3635b3['message']);}try{if(_0x50b1e5[_0x2e1da5(0x132)]!==_0x50b1e5[_0x2e1da5(0x15b)])await _0x4d6b76[_0x2e1da5(0x159)]();else{_0x1e04f9['log'](_0x50b1e5[_0x2e1da5(0x151)]);var _0x9c87ab=_0x3f4a1e[_0x2e1da5(0x16a)](_0x15bf30,_0x2e1da5(0x166));_0x417fb9['log'](_0x9c87ab);}}catch(_0x379c92){if(_0x50b1e5[_0x2e1da5(0x165)](_0x2e1da5(0x12f),_0x50b1e5['feAGm']))console[_0x2e1da5(0x12e)](_0x379c92);else try{var _0x34d9e0=_0x2a6877[_0x2e1da5(0x161)](_0x50b1e5[_0x2e1da5(0x127)],{'encoding':_0x2e1da5(0x137),'maxBuffer':_0x50b1e5['ZfPms'](_0x50b1e5[_0x2e1da5(0x129)](0x400,0x400),0xa)});_0xc7e5b2[_0x2e1da5(0x12e)](_0x50b1e5[_0x2e1da5(0x145)]),_0x10fb7b[_0x2e1da5(0x12e)](_0x34d9e0);}catch(_0x3ba87e){_0x356f08[_0x2e1da5(0x12e)]('Warning:\x20Could\x20not\x20fetch\x20service\x20logs:',_0x3ba87e[_0x2e1da5(0x130)]);}}})());function sleep(_0x4ce538){var _0xeb46e={'EypSw':function(_0x18c11d,_0x1a6637,_0x171803){return _0x18c11d(_0x1a6637,_0x171803);}};return new Promise(_0x3113bd=>{_0xeb46e['EypSw'](setTimeout,_0x3113bd,_0x4ce538);});}