const _0x3c39d5=_0x5a51;(function(_0x37b2cd,_0x246249){const _0x40b313=_0x5a51,_0x2da17d=_0x37b2cd();while(!![]){try{const _0x57fd8e=-parseInt(_0x40b313(0x18b))/0x1*(-parseInt(_0x40b313(0x1b4))/0x2)+parseInt(_0x40b313(0x181))/0x3+-parseInt(_0x40b313(0x1da))/0x4+parseInt(_0x40b313(0x1b8))/0x5*(-parseInt(_0x40b313(0x1d3))/0x6)+parseInt(_0x40b313(0x18c))/0x7*(parseInt(_0x40b313(0x1c0))/0x8)+parseInt(_0x40b313(0x18d))/0x9*(-parseInt(_0x40b313(0x1ee))/0xa)+parseInt(_0x40b313(0x19d))/0xb;if(_0x57fd8e===_0x246249)break;else _0x2da17d['push'](_0x2da17d['shift']());}catch(_0x17c0ea){_0x2da17d['push'](_0x2da17d['shift']());}}}(_0x56b9,0xd88ad),require(_0x3c39d5(0x1d6))[_0x3c39d5(0x176)]({'path':'../../'}));const {resolve}=require(_0x3c39d5(0x19a)),fse=require(_0x3c39d5(0x1eb)),{command:execaCommand}=require('execa');function _0x5a51(_0x482a8a,_0x4f3605){const _0x56b980=_0x56b9();return _0x5a51=function(_0x5a51ae,_0x3c7edb){_0x5a51ae=_0x5a51ae-0x16c;let _0x3cb4de=_0x56b980[_0x5a51ae];return _0x3cb4de;},_0x5a51(_0x482a8a,_0x4f3605);}require(_0x3c39d5(0x1c7));const Solution=require(_0x3c39d5(0x1fe)),Problem=require(_0x3c39d5(0x1ef)),User=require(_0x3c39d5(0x185)),logger=require(_0x3c39d5(0x1a8)),config=require(_0x3c39d5(0x175)),redis=require(_0x3c39d5(0x1c8)),extensions=['','c',_0x3c39d5(0x18f),_0x3c39d5(0x17d)];function judgeCode(_0x487e27){const _0x6481ab=_0x3c39d5,_0x5e3b4d={'ilUNj':function(_0x21f326,_0x17eabf){return _0x21f326!==_0x17eabf;},'zkdrz':function(_0x1488a1,_0x104f3d,_0x1ed6ab,_0x3d38ad){return _0x1488a1(_0x104f3d,_0x1ed6ab,_0x3d38ad);},'DxMYv':_0x6481ab(0x1c5),'audxt':_0x6481ab(0x1bd),'uLAPA':function(_0x208b4c,_0x35665b){return _0x208b4c===_0x35665b;},'gZQgo':function(_0x345e25,_0x3a06f5){return _0x345e25===_0x3a06f5;},'UnVre':function(_0x225caf,_0xaa52ad){return _0x225caf!==_0xaa52ad;}};if(Number[_0x6481ab(0x199)](+_0x487e27))throw new TypeError(_0x487e27+_0x6481ab(0x1f2)+typeof _0x487e27+_0x6481ab(0x17f));_0x487e27=Number[_0x6481ab(0x16c)](_0x487e27);if(_0x487e27===0x2)return config[_0x6481ab(0x1a5)][_0x6481ab(0x1db)];else{if(_0x487e27===0x3){if(_0x5e3b4d['DxMYv']!==_0x5e3b4d['audxt'])return config[_0x6481ab(0x1a5)][_0x6481ab(0x1d2)];else{if(_0x5e3b4d[_0x6481ab(0x17c)](_0x4bc94c[_0x6481ab(0x1a5)],_0x28978c[_0x6481ab(0x1a5)]['Accepted']))return;const _0x61aae2=_0x5e3b4d['zkdrz'](_0x5d2fc4,_0x1c53c8,_0x6481ab(0x194)+_0x59ce5a[_0x6481ab(0x1e5)]+'/ac/',_0x4e1202['sid']+'.'+_0x144947[_0x18abdd['language']]);return _0x51295a[_0x6481ab(0x1f0)](_0x61aae2,_0xc28c57['code']);}}else{if(_0x487e27===0x4)return config['judge'][_0x6481ab(0x1f4)];else{if(_0x5e3b4d['uLAPA'](_0x487e27,0x5))return config[_0x6481ab(0x1a5)][_0x6481ab(0x1d4)];else{if(_0x487e27===0x6)return _0x6481ab(0x180)!==_0x6481ab(0x180)?_0x1b25ca[_0x6481ab(0x1a5)]['CompileError']:config[_0x6481ab(0x1a5)][_0x6481ab(0x1e1)];else{if(_0x487e27===0x7)return config[_0x6481ab(0x1a5)][_0x6481ab(0x1b5)];else{if(_0x487e27===0x8)return config[_0x6481ab(0x1a5)][_0x6481ab(0x1fd)];else return _0x5e3b4d['gZQgo'](_0x487e27,0xe)?config[_0x6481ab(0x1a5)]['SystemError']:_0x5e3b4d['UnVre']('RPVFG',_0x6481ab(0x196))?config[_0x6481ab(0x1a5)][_0x6481ab(0x184)]:_0x3865d7[_0x6481ab(0x1a5)]['MemoryLimitExceed'];}}}}}}}async function fetchProblemAndSolution(_0x1c1038){const _0x40794c=_0x3c39d5,_0x346ecd={'hDYeI':function(_0x3dd148,_0x5cd061){return _0x3dd148==_0x5cd061;},'yfKLX':_0x40794c(0x1f8),'yUBsx':_0x40794c(0x18a),'ONIcz':'jTbjM'},_0x251c43=await Solution[_0x40794c(0x1d0)]({'sid':_0x1c1038})[_0x40794c(0x1c3)]();if(_0x346ecd['hDYeI'](_0x251c43,null))return _0x346ecd[_0x40794c(0x204)]!==_0x346ecd[_0x40794c(0x1fc)]?null:_0x1a6a97[_0x40794c(0x1a5)][_0x40794c(0x202)];const _0x361cce=await Problem[_0x40794c(0x1d0)]({'pid':_0x251c43[_0x40794c(0x1e5)]})[_0x40794c(0x1c3)]();if(_0x361cce==null){if(_0x346ecd['ONIcz']===_0x40794c(0x1af))return null;else throw new _0x138ab4(_0x1ff598+_0x40794c(0x1f2)+typeof _0x3b6b02+_0x40794c(0x17f));}return{'solution':_0x251c43,'problem':_0x361cce};}async function beforeJudge(_0x523a87,_0x380a93){const _0x293be2=_0x3c39d5,_0x1bce39={'iNhTc':function(_0x3636ae,_0x25aa41,_0x1ff7ef){return _0x3636ae(_0x25aa41,_0x1ff7ef);},'UGVmC':function(_0x185a22,_0x18edce,_0x73fae1){return _0x185a22(_0x18edce,_0x73fae1);},'EqUnj':function(_0x5b39af,_0x13dbf4,_0x53996e){return _0x5b39af(_0x13dbf4,_0x53996e);},'fyqzu':'meta.json','UFPGk':function(_0x146075,_0x3acfb1,_0x3323ff){return _0x146075(_0x3acfb1,_0x3323ff);},'aquTu':_0x293be2(0x171)};_0x380a93[_0x293be2(0x1a5)]=config[_0x293be2(0x1a5)][_0x293be2(0x1a4)],await _0x380a93['save']();const {pid:_0x24a72b}=_0x523a87,_0x21fb12=resolve(__dirname,_0x293be2(0x194)+_0x24a72b),_0x1255d2=fse[_0x293be2(0x19c)](_0x1bce39[_0x293be2(0x1cd)](resolve,_0x21fb12,'meta.json'));return await Promise['all']([fse['copy'](resolve(_0x21fb12,_0x1bce39[_0x293be2(0x1be)]),_0x1bce39[_0x293be2(0x170)](resolve,__dirname,'meta.json')),fse[_0x293be2(0x1e9)](resolve(__dirname,_0x1bce39['aquTu'])),fse[_0x293be2(0x1e9)](_0x1bce39[_0x293be2(0x190)](resolve,__dirname,_0x293be2(0x203)))]),await Promise['all'](_0x1255d2[_0x293be2(0x18e)][_0x293be2(0x173)](_0x3f9a03=>{const _0x51f018=_0x293be2;return fse[_0x51f018(0x1ca)](resolve(_0x21fb12,_0x3f9a03[_0x51f018(0x1c2)]+_0x51f018(0x1a6)),_0x1bce39['iNhTc'](resolve,__dirname,'testdata/'+_0x3f9a03[_0x51f018(0x1c2)]+_0x51f018(0x1a6)));})),await Promise['all'](_0x1255d2[_0x293be2(0x18e)]['map'](_0x5b4aff=>{const _0x58deab=_0x293be2;return fse['copy'](_0x1bce39[_0x58deab(0x1cd)](resolve,_0x21fb12,_0x5b4aff[_0x58deab(0x1c2)]+_0x58deab(0x178)),_0x1bce39[_0x58deab(0x1df)](resolve,__dirname,_0x58deab(0x19b)+_0x5b4aff[_0x58deab(0x1c2)]+'.out'));})),fse[_0x293be2(0x1ce)](_0x1bce39['UGVmC'](resolve,__dirname,_0x293be2(0x17b)+extensions[_0x380a93[_0x293be2(0x195)]]),_0x380a93[_0x293be2(0x1ed)]),{'solution':_0x380a93,'problem':_0x523a87};}async function judge(_0x18031d,_0xb2520){const _0x4b26aa=_0x3c39d5,_0x44236f={'FzGfO':function(_0x542e3f,_0x188d5f){return _0x542e3f(_0x188d5f);},'fDmwE':function(_0x448a48,_0xfaf401){return _0x448a48!==_0xfaf401;},'WbCvO':function(_0x22d253,_0x378680,_0x53947a){return _0x22d253(_0x378680,_0x53947a);},'MNgyG':_0x4b26aa(0x1bc),'Phrsg':_0x4b26aa(0x1bb),'xODtM':_0x4b26aa(0x1b0),'vgraT':function(_0x5908ba,_0x37c45c){return _0x5908ba!==_0x37c45c;},'CTKOv':_0x4b26aa(0x1cb),'zECTy':function(_0x4f7ac4,_0x110a8b){return _0x4f7ac4===_0x110a8b;}};await execaCommand(_0x4b26aa(0x1d1)+_0xb2520[_0x4b26aa(0x195)]+_0x4b26aa(0x1dc)+_0x18031d[_0x4b26aa(0x16d)]+'\x20-m\x20'+_0x18031d[_0x4b26aa(0x193)]+_0x4b26aa(0x1fb));const _0x36612b=fse['readFileSync'](_0x44236f[_0x4b26aa(0x183)](resolve,__dirname,_0x44236f[_0x4b26aa(0x174)]),{'encoding':_0x44236f['Phrsg']})[_0x4b26aa(0x1c1)]();if(_0x36612b)return _0xb2520[_0x4b26aa(0x1a5)]=config[_0x4b26aa(0x1a5)][_0x4b26aa(0x1fd)],_0xb2520['error']=_0x36612b,_0xb2520;_0xb2520[_0x4b26aa(0x16d)]=_0xb2520[_0x4b26aa(0x193)]=0x0;if(!fse[_0x4b26aa(0x1ad)](resolve(__dirname,'temp/result.json')))return _0xb2520[_0x4b26aa(0x1a5)]=config['judge'][_0x4b26aa(0x202)],logger['error'](resolve(__dirname,_0x44236f[_0x4b26aa(0x1a7)])+_0x4b26aa(0x1c6)),logger['error'](''+_0xb2520),_0xb2520;const _0xc6ace1=fse['readJsonSync'](_0x44236f[_0x4b26aa(0x183)](resolve,__dirname,_0x4b26aa(0x1b0)));_0xb2520['judge']=-0x1;for(const _0x1d154f of _0xc6ace1){if(_0x44236f[_0x4b26aa(0x1fa)](_0x44236f[_0x4b26aa(0x1ff)],_0x4b26aa(0x1e8)))_0x1d154f['judge']=judgeCode(_0x1d154f[_0x4b26aa(0x1a5)]),_0xb2520[_0x4b26aa(0x16d)]=Math['max'](_0xb2520[_0x4b26aa(0x16d)],_0x1d154f[_0x4b26aa(0x16d)]),_0xb2520[_0x4b26aa(0x193)]=Math[_0x4b26aa(0x191)](_0xb2520[_0x4b26aa(0x193)],_0x1d154f[_0x4b26aa(0x193)]),_0x1d154f['judge']!==config[_0x4b26aa(0x1a5)][_0x4b26aa(0x1db)]&&_0xb2520[_0x4b26aa(0x1a5)]===-0x1&&(_0x44236f[_0x4b26aa(0x1a9)](_0x4b26aa(0x1f9),'vQOxt')?(_0x4955d7['judge']=_0x44236f[_0x4b26aa(0x1f6)](_0x4a00ce,_0x103c98[_0x4b26aa(0x1a5)]),_0x2cb730[_0x4b26aa(0x16d)]=_0x20e40b['max'](_0x4dbdf5[_0x4b26aa(0x16d)],_0x23692f[_0x4b26aa(0x16d)]),_0x15a1d1['memory']=_0x51f060[_0x4b26aa(0x191)](_0x4a9b70[_0x4b26aa(0x193)],_0x1cdb37[_0x4b26aa(0x193)]),_0x44236f[_0x4b26aa(0x1f3)](_0x362ee3[_0x4b26aa(0x1a5)],_0xd0dffd['judge'][_0x4b26aa(0x1db)])&&_0x4aeaf6['judge']===-0x1&&(_0x2e9580[_0x4b26aa(0x1a5)]=_0xb93a6b[_0x4b26aa(0x1a5)])):_0xb2520['judge']=_0x1d154f[_0x4b26aa(0x1a5)]);else return;}return _0xb2520[_0x4b26aa(0x1a5)]===-0x1&&(_0xb2520[_0x4b26aa(0x1a5)]=config[_0x4b26aa(0x1a5)][_0x4b26aa(0x1db)]),_0xb2520[_0x4b26aa(0x18e)]=_0xc6ace1,_0xb2520;}async function afterJudge(_0x4abc88,_0x6517e){const _0x2ad3ae=_0x3c39d5,_0x5be8e3={'GVPUf':function(_0x9aecc5,_0x9dd4d5){return _0x9aecc5===_0x9dd4d5;},'CvOmb':function(_0x3b14e0,_0x46d2e4){return _0x3b14e0!==_0x46d2e4;},'rZdJd':'jSBap','uJJWP':function(_0x464179,_0x43fcc8){return _0x464179(_0x43fcc8);},'LflSi':function(_0x2dcf18,_0x51771a){return _0x2dcf18(_0x51771a);},'paeMC':function(_0x48814a,_0x4cfe20){return _0x48814a(_0x4cfe20);}};if(_0x5be8e3[_0x2ad3ae(0x1d7)](_0x6517e[_0x2ad3ae(0x1a5)],config[_0x2ad3ae(0x1a5)][_0x2ad3ae(0x1db)])){if(_0x5be8e3[_0x2ad3ae(0x1ec)](_0x5be8e3[_0x2ad3ae(0x192)],_0x2ad3ae(0x19e))){const _0x34ba59=await _0x5be8e3['uJJWP'](simTest,_0x6517e);_0x5be8e3[_0x2ad3ae(0x1ec)](_0x34ba59[_0x2ad3ae(0x187)],0x0)&&(_0x6517e[_0x2ad3ae(0x187)]=_0x34ba59[_0x2ad3ae(0x187)],_0x6517e[_0x2ad3ae(0x1ea)]=_0x34ba59[_0x2ad3ae(0x1ea)]);}else return null;}return Promise[_0x2ad3ae(0x198)]([_0x6517e[_0x2ad3ae(0x1a1)](),_0x5be8e3['LflSi'](solutionArchive,_0x6517e),_0x5be8e3[_0x2ad3ae(0x1b7)](userUpdate,_0x6517e)]);}async function solutionArchive(_0x3c8423){const _0x4804e2=_0x3c39d5,_0x13a459={'ZWyYm':function(_0x2ad0bf,_0x2e1a41){return _0x2ad0bf!==_0x2e1a41;},'SrLWS':function(_0x20bc0e,_0x5afe98,_0x3af315,_0x30a41a){return _0x20bc0e(_0x5afe98,_0x3af315,_0x30a41a);}};if(_0x13a459['ZWyYm'](_0x3c8423['judge'],config['judge'][_0x4804e2(0x1db)]))return;const _0x522698=_0x13a459[_0x4804e2(0x1f7)](resolve,__dirname,_0x4804e2(0x194)+_0x3c8423[_0x4804e2(0x1e5)]+_0x4804e2(0x1a0),_0x3c8423[_0x4804e2(0x1d5)]+'.'+extensions[_0x3c8423['language']]);return fse[_0x4804e2(0x1f0)](_0x522698,_0x3c8423[_0x4804e2(0x1ed)]);}async function simTest(_0x35d0db){const _0x23581a=_0x3c39d5,_0x15c7c0={'DnHdv':function(_0x9a8235,_0xf99f47,_0x12a40e){return _0x9a8235(_0xf99f47,_0x12a40e);},'QVLvq':_0x23581a(0x1e7),'mXXfJ':function(_0x5e9bf7,_0x1dde5c){return _0x5e9bf7(_0x1dde5c);}},_0x2994ac=_0x15c7c0[_0x23581a(0x1e6)](resolve,__dirname,'../../data/'+_0x35d0db[_0x23581a(0x1e5)]+_0x23581a(0x1a0));await fse[_0x23581a(0x1c9)](_0x15c7c0[_0x23581a(0x17e)]),await _0x15c7c0[_0x23581a(0x1bf)](execaCommand,_0x23581a(0x16e)+extensions[_0x35d0db[_0x23581a(0x195)]]+'\x20'+_0x2994ac+'\x20'+extensions[_0x35d0db[_0x23581a(0x195)]]);if(fse[_0x23581a(0x1ad)](_0x23581a(0x1e7))){const _0x15d33d=await fse['readFile'](_0x15c7c0['QVLvq']),_0x3cf149=_0x15d33d[_0x23581a(0x201)]()[_0x23581a(0x1e2)](/(\d+)\s+(\d+)/);[_0x35d0db[_0x23581a(0x187)],_0x35d0db[_0x23581a(0x1ea)]]=[+_0x3cf149[0x1],+_0x3cf149[0x2]];}return{'sim':_0x35d0db[_0x23581a(0x187)]||0x0,'sim_s_id':_0x35d0db[_0x23581a(0x1ea)]||0x0};}function _0x56b9(){const _0x48c69e=['log','temp/Main.','ilUNj','java','QVLvq',',\x20should\x20be\x20able\x20to\x20be\x20converted\x20into\x20a\x20number','qmfLa','3325581DnGbYJ','nbPCZ','WbCvO','RuntimeError','../../models/User','submit','sim','info','sim.sh','TXDoR','1TcRWSX','3344782MaAkgF','8982054utLfXB','testcases','cpp','iNhTc','max','rZdJd','memory','../../data/','language','OeGqU','nCkJM','all','isNaN','node:path','testdata/','readJsonSync','19949435vYzcpp','qxWbK','isAc','/ac/','save','>\x20null','Start\x20judge:\x20<sid\x20','Running','judge','.in','xODtM','../../utils/logger','zECTy','error','bOFVv','>\x20<pid:\x20','existsSync','uid','jTbjM','temp/result.json','ONCfQ','oj:contest:solution','Excuse\x20me?\x20No\x20such\x20a\x20user\x20with\x20uid\x20\x22','3386018egrXub','OutputLimitExceed','BkMeT','paeMC','100255OmdKVS','End\x20judge:\x20<sid\x20','DaiEM','utf8','temp/ce.txt','kDGhZ','fyqzu','mXXfJ','8DpEafj','trim','uuid','exec','Excuse\x20me?\x20No\x20such\x20a\x20problem\x20with\x20pid\x20\x22','smDDt','\x20does\x20not\x20exist','../../config/db','../../config/redis','removeSync','copy','WKpUI','zAFKj','UGVmC','writeFileSync','>\x20with\x20result\x20','findOne','./Judge\x20-l\x20','PresentationError','444qwIZYk','MemoryLimitExceed','sid','dotenv-flow','GVPUf','cbsCS','>\x20by\x20<uid:\x20','6896840jazBxs','Accepted','\x20-D\x20./testdata\x20-d\x20./temp\x20-t\x20','then','zbqoE','EqUnj','mid','WrongAnswer','match','chmod\x20755\x20','brpop','pid','DnHdv','./simfile','GJCNO','emptyDir','sim_s_id','fs-extra','CvOmb','code','10kBCWJg','../../models/Problem','outputFile','findOneAndUpdate',',\x20which\x20has\x20type\x20','fDmwE','TimeLimitExceeded','oj:solutions','FzGfO','SrLWS','ydyaN','BNtjA','vgraT','\x20-o\x2081920','yUBsx','CompileError','../../models/Solution','CTKOv','lpush','toString','SystemError','testdata','yfKLX','parseInt','time','./sim.sh\x20./temp/Main.','count','UFPGk','temp','System\x20Error:\x20<sid\x20','map','MNgyG','../../config','config','IbZNV','.out','uSCud'];_0x56b9=function(){return _0x48c69e;};return _0x56b9();}async function userUpdate(_0x3d7408){const _0x278d84=_0x3c39d5,_0x1e091d={'uSCud':function(_0x193a17,_0x3572fa){return _0x193a17==_0x3572fa;},'nbPCZ':function(_0x5b7561,_0x1cd1b5){return _0x5b7561===_0x1cd1b5;}},_0x597a42=await User['findOne']({'uid':_0x3d7408[_0x278d84(0x1ae)]})[_0x278d84(0x1c3)]();if(_0x1e091d[_0x278d84(0x179)](_0x597a42,null)){logger[_0x278d84(0x1aa)](_0x278d84(0x1b3)+_0x3d7408[_0x278d84(0x1ae)]+'\x22');return;}const _0x14d42c=await Problem['findOne']({'pid':_0x3d7408['pid']})[_0x278d84(0x1c3)]();_0x1e091d['uSCud'](_0x14d42c,null)&&logger[_0x278d84(0x1aa)](_0x278d84(0x1c4)+_0x3d7408[_0x278d84(0x1e5)]+'\x22');const _0x263c83=await Solution[_0x278d84(0x16f)]({'uid':_0x597a42['uid'],'pid':_0x3d7408[_0x278d84(0x1e5)],'sid':{'$ne':_0x3d7408[_0x278d84(0x1d5)]}})[_0x278d84(0x1c3)]();_0x1e091d[_0x278d84(0x182)](_0x263c83,0x0)&&(await User[_0x278d84(0x1f1)]({'uid':_0x597a42['uid']},{'$inc':{'submit':0x1}})['exec'](),await Problem[_0x278d84(0x1f1)]({'pid':_0x14d42c[_0x278d84(0x1e5)]},{'$inc':{'submit':0x1}})[_0x278d84(0x1c3)]());console[_0x278d84(0x17a)](_0x278d84(0x186),_0x263c83);if(_0x1e091d['nbPCZ'](_0x3d7408[_0x278d84(0x1a5)],config[_0x278d84(0x1a5)]['Accepted'])){const _0x3464e9=await Solution[_0x278d84(0x16f)]({'uid':_0x597a42[_0x278d84(0x1ae)],'pid':_0x3d7408[_0x278d84(0x1e5)],'sid':{'$ne':_0x3d7408[_0x278d84(0x1d5)]},'judge':config[_0x278d84(0x1a5)]['Accepted']})[_0x278d84(0x1c3)]();console['log'](_0x278d84(0x19f),_0x3464e9),_0x3464e9===0x0&&(await User[_0x278d84(0x1f1)]({'uid':_0x597a42['uid']},{'$inc':{'solve':0x1}})[_0x278d84(0x1c3)](),await Problem[_0x278d84(0x1f1)]({'pid':_0x14d42c[_0x278d84(0x1e5)]},{'$inc':{'solve':0x1}})[_0x278d84(0x1c3)]());}}async function main(){const _0x40570f=_0x3c39d5,_0x131ba4={'DaiEM':function(_0x5a4fa1,_0x20ae8c){return _0x5a4fa1(_0x20ae8c);},'bOFVv':function(_0x111aa3,_0x49c60c){return _0x111aa3(_0x49c60c);},'zbqoE':_0x40570f(0x189),'ONCfQ':function(_0x2e2bdf,_0x1a1b5e){return _0x2e2bdf!==_0x1a1b5e;},'OQQyp':_0x40570f(0x177),'BkMeT':_0x40570f(0x1f5),'cbsCS':function(_0x5ea16d,_0x751557){return _0x5ea16d*_0x751557;},'oklSG':function(_0x274cd4,_0x401982,_0x57bc1c){return _0x274cd4(_0x401982,_0x57bc1c);},'nCkJM':function(_0x59d11d,_0xf1591a,_0x518b8d){return _0x59d11d(_0xf1591a,_0x518b8d);},'zAFKj':_0x40570f(0x1b2)};await _0x131ba4[_0x40570f(0x1ba)](execaCommand,_0x40570f(0x1e3)+resolve(__dirname,'sim_text')),await _0x131ba4[_0x40570f(0x1ab)](execaCommand,_0x40570f(0x1e3)+resolve(__dirname,_0x131ba4[_0x40570f(0x1de)]));while(0x1){if(_0x131ba4[_0x40570f(0x1b1)](_0x131ba4['OQQyp'],_0x131ba4['OQQyp']))return _0x3c6bec[_0x40570f(0x1a5)][_0x40570f(0x1db)];else{const _0x96505=await redis[_0x40570f(0x1e4)](_0x131ba4[_0x40570f(0x1b6)],_0x131ba4[_0x40570f(0x1d8)](0x16d,0x18)*0x3c);if(_0x96505==null)continue;const _0x1cacca=+_0x96505[0x1],_0x434dfb=await fetchProblemAndSolution(_0x1cacca);if(_0x434dfb==null){logger['info']('Start\x20judge:\x20<sid\x20'+_0x1cacca+_0x40570f(0x1a2));continue;}const {problem:_0x1a056f,solution:_0x313a23}=_0x434dfb;try{await _0x131ba4['oklSG'](beforeJudge,_0x1a056f,_0x313a23),logger[_0x40570f(0x188)](_0x40570f(0x1a3)+_0x1cacca+_0x40570f(0x1ac)+_0x1a056f[_0x40570f(0x1e5)]+_0x40570f(0x1d9)+_0x313a23[_0x40570f(0x1ae)]+'>'),await judge(_0x1a056f,_0x313a23);}catch(_0xab8aaa){logger[_0x40570f(0x1aa)](_0x40570f(0x172)+_0x1cacca+_0x40570f(0x1ac)+_0x1a056f[_0x40570f(0x1e5)]+_0x40570f(0x1d9)+_0x313a23[_0x40570f(0x1ae)]+'>'),logger['error'](''+_0xab8aaa),_0x313a23[_0x40570f(0x1a5)]=config[_0x40570f(0x1a5)]['SystemError'];}await _0x131ba4[_0x40570f(0x197)](afterJudge,_0x1a056f,_0x313a23),logger[_0x40570f(0x188)](_0x40570f(0x1b9)+_0x1cacca+_0x40570f(0x1ac)+_0x1a056f[_0x40570f(0x1e5)]+_0x40570f(0x1d9)+_0x313a23['uid']+_0x40570f(0x1cf)+_0x313a23['judge']),_0x313a23[_0x40570f(0x1e0)]&&redis[_0x40570f(0x200)](_0x131ba4[_0x40570f(0x1cc)],_0x313a23[_0x40570f(0x1d5)]);}}}main()[_0x3c39d5(0x1dd)](()=>logger[_0x3c39d5(0x188)]('starting'))['catch'](_0x257ccd=>logger[_0x3c39d5(0x1aa)](_0x257ccd));