(function(_0x3e2341,_0x20739d){const _0x397105=_0x3457,_0x9cefd0=_0x3e2341();while(!![]){try{const _0x38b64c=-parseInt(_0x397105(0x101))/0x1*(-parseInt(_0x397105(0x102))/0x2)+parseInt(_0x397105(0xd9))/0x3*(-parseInt(_0x397105(0xf1))/0x4)+parseInt(_0x397105(0xde))/0x5*(-parseInt(_0x397105(0x110))/0x6)+parseInt(_0x397105(0xbf))/0x7*(-parseInt(_0x397105(0xce))/0x8)+parseInt(_0x397105(0xe2))/0x9*(parseInt(_0x397105(0xc6))/0xa)+-parseInt(_0x397105(0xfd))/0xb+parseInt(_0x397105(0xe9))/0xc;if(_0x38b64c===_0x20739d)break;else _0x9cefd0['push'](_0x9cefd0['shift']());}catch(_0x262f1f){_0x9cefd0['push'](_0x9cefd0['shift']());}}}(_0x5014,0x6f018));import _0x32abef from'codendi';import{post}from'@tuleap/tlp-fetch';import{buildTQLEditor,buildParserDefinition,insertAllowedFieldInCodeMirror,TQL_autocomplete_keywords}from'@tuleap/plugin-tracker-tql-codemirror';let query_rich_editor=null;function _0x5014(){const _0x13a91b=['QbLua','urTPi','getElementById','7724629RxXXXp','report','updateClock();','wqnwL','9OjfIow','61148TQCfDC','parse','ayNnO','YUzcQ','TwnHi','jmpoE','qkPSg','console.log(\x22timer\x22);','fLDta','remove','dom','allowedFields','allowed-fields','state','105948LlTAbg','THBhA','tracker','contains','41909bAadnc','addEventListener','submit','set','insertAdjacentElement','lggIT','phOQI','111970GFbHid','ILmrV','KMsdX','VUEyF','vEPjP','sUHZX','add','pFQog','536CBMAKv','sWVSf','querySelector','tracker-report-expert-query','KJYBK','tracker-report-expert-query-textarea','setHasChanged','aNXhM','get','placeholder','ikbGs','123ykmMRq','tracker-report-normal-query-button','form','tracker-report-normal-query','tracker-report-query-undisplayed','25qZpJhf','challenge','classList','pBeeo','657JWareh','xqmAS','tracker-report-expert-query-button','DIkuO','zianX','KAnQj','button[name=\x22tracker_expert_query_submit\x22]','10051116UNqcbk','value','FNBYE','WbyHQ','hxtGk','func','DnQMC','doc','27688RthGRf','WpUPv','HPZvS','lEEsj','return\x20new\x20Date();','click','return\x20await\x20Promise.resolve(42);','sqxdF','afterend'];_0x5014=function(){return _0x13a91b;};return _0x5014();}export function init(){const _0x1883fa=_0x3457,_0x565c1d={'lEEsj':function(_0x153949){return _0x153949();}};initializeTrackerReportQuery(),initializeTrackerReportAllowedFields(),_0x565c1d[_0x1883fa(0xf4)](initializeCodeMirror);}function initializeTrackerReportQuery(){const _0x46f401=_0x3457,_0x2e70b9={'WbyHQ':_0x46f401(0xdd),'ikbGs':function(_0x5c83af,_0x1a7841,_0x581a3e){return _0x5c83af(_0x1a7841,_0x581a3e);},'ayNnO':'store-expert-mode','THBhA':function(_0x198800,_0x35a9cc){return _0x198800(_0x35a9cc);},'phOQI':_0x46f401(0xd1),'sqxdF':_0x46f401(0xdc),'VUEyF':'click'},_0xedc49b=document['getElementById']('tracker-report-expert-query-button'),_0x4b9bbd=document[_0x46f401(0xfc)](_0x46f401(0xda)),_0x3684be=document[_0x46f401(0xfc)](_0x2e70b9[_0x46f401(0xc5)]),_0x178225=document[_0x46f401(0xfc)](_0x2e70b9[_0x46f401(0xf8)]);if(!_0xedc49b||!_0x4b9bbd||!_0x3684be||!_0x178225){setTimeout(_0x46f401(0x109),0x3e8);return;}_0xedc49b[_0x46f401(0xc0)](_0x2e70b9['VUEyF'],()=>{const _0x36600c=_0x46f401;_0x178225[_0x36600c(0xe0)][_0x36600c(0xcc)]('tracker-report-query-undisplayed'),_0x3684be['classList'][_0x36600c(0x10b)](_0x2e70b9[_0x36600c(0xec)]),codeMirrorifyQueryArea(),_0x2e70b9[_0x36600c(0xd8)](sendRequestNewMode,_0x2e70b9[_0x36600c(0x104)],_0x2e70b9[_0x36600c(0x111)](getFormChallengeAssociatedWithButton,_0xedc49b));}),_0x4b9bbd[_0x46f401(0xc0)](_0x2e70b9[_0x46f401(0xc9)],()=>{const _0x190734=_0x46f401;_0x178225['classList'][_0x190734(0x10b)](_0x2e70b9['WbyHQ']),_0x3684be[_0x190734(0xe0)][_0x190734(0xcc)]('tracker-report-query-undisplayed'),_0x2e70b9['ikbGs'](sendRequestNewMode,'store-normal-mode',_0x2e70b9['THBhA'](getFormChallengeAssociatedWithButton,_0x4b9bbd));});}function getFormChallengeAssociatedWithButton(_0x544a7a){const _0x85e649=_0x3457,_0x2204b4={'TwnHi':function(_0x4e9bc1,_0xe0d0de){return _0x4e9bc1(_0xe0d0de);},'DnQMC':'challenge'};if(!(_0x544a7a instanceof HTMLButtonElement))return new AsyncFunction(_0x85e649(0xf7))(),'';const _0x10147c=new FormData(_0x544a7a[_0x85e649(0xdb)]);return _0x2204b4[_0x85e649(0x106)](Function,_0x85e649(0xf5))(),_0x10147c[_0x85e649(0xd6)](_0x2204b4[_0x85e649(0xef)]);}function _0x3457(_0x2a0642,_0x296736){const _0x5014f4=_0x5014();return _0x3457=function(_0x3457a6,_0x1a413c){_0x3457a6=_0x3457a6-0xbf;let _0x3be7ee=_0x5014f4[_0x3457a6];return _0x3be7ee;},_0x3457(_0x2a0642,_0x296736);}function initializeTrackerReportAllowedFields(){const _0x468a38=_0x3457,_0xda878c={'KAnQj':_0x468a38(0xff)},_0x3ea8e6=document[_0x468a38(0xfc)](_0x468a38(0x10e));if(!_0x3ea8e6){setInterval(_0xda878c[_0x468a38(0xe7)],0x3e8);return;}_0x3ea8e6[_0x468a38(0xc0)](_0x468a38(0xf6),_0x581f79=>insertAllowedFieldInCodeMirror(_0x581f79,query_rich_editor));}async function sendRequestNewMode(_0x1a1178,_0xcce854){const _0x1bc42d=_0x3457,_0x4fccba=new FormData();_0x4fccba['set'](_0x1bc42d(0xdf),_0xcce854),_0x4fccba[_0x1bc42d(0xc2)](_0x1bc42d(0xee),_0x1a1178),await post(location['href'],{'body':_0x4fccba}),_0x32abef[_0x1bc42d(0x112)][_0x1bc42d(0xfe)][_0x1bc42d(0xd4)]();}function initializeCodeMirror(){const _0xfe407=_0x3457,_0x2ecedc={'qkPSg':_0xfe407(0xdd),'KMsdX':_0xfe407(0xd1),'zianX':_0xfe407(0xeb),'hxtGk':_0xfe407(0xf5),'bOKjL':function(_0x1066f3){return _0x1066f3();}},_0x30f4fd=document[_0xfe407(0xfc)](_0x2ecedc[_0xfe407(0xc8)]);if(!_0x30f4fd){if(_0x2ecedc[_0xfe407(0xe6)]!=='xCuVE'){Function(_0x2ecedc[_0xfe407(0xed)])();return;}else{const _0x1c4193=_0x9f693d[_0xfe407(0xfc)](_0xfe407(0xd1));if(!_0x1c4193){_0x2a68d6(_0xfe407(0xf5))();return;}!_0x1c4193[_0xfe407(0xe0)][_0xfe407(0x113)](_0x2ecedc[_0xfe407(0x108)])&&_0x2e5aad();}}!_0x30f4fd['classList'][_0xfe407(0x113)](_0x2ecedc['qkPSg'])&&_0x2ecedc['bOKjL'](codeMirrorifyQueryArea);}function codeMirrorifyQueryArea(){const _0xbed4aa=_0x3457,_0x89628={'pBeeo':'oNRPx','WJDKc':'safe','sUHZX':function(_0x4dea42,_0x345215,_0x15441d){return _0x4dea42(_0x345215,_0x15441d);},'KJYBK':_0xbed4aa(0xda),'QbLua':'console.log(\x22timer\x22);','ILmrV':_0xbed4aa(0xf6),'wqnwL':function(_0x3fb7a3,_0x4b8a43){return _0x3fb7a3(_0x4b8a43);},'WpUPv':_0xbed4aa(0x10a),'lggIT':function(_0x5915a8,_0x331f36){return _0x5915a8!==_0x331f36;},'YUzcQ':function(_0x710935,_0x4ebb62){return _0x710935===_0x4ebb62;},'sWVSf':'gxBTX','xqmAS':'@comments','aNXhM':_0xbed4aa(0xf9),'HPZvS':_0xbed4aa(0xc1)};if(_0x89628[_0xbed4aa(0xc4)](query_rich_editor,null)){if(_0x89628[_0xbed4aa(0x105)](_0x89628[_0xbed4aa(0xcf)],_0x89628[_0xbed4aa(0xcf)])){_0x89628[_0xbed4aa(0xcb)](setTimeout,function(){const _0xf2dfa5=_0xbed4aa;_0xf2dfa5(0xe5)===_0x89628[_0xf2dfa5(0xe1)]?_0x3a1237[_0xf2dfa5(0xd0)](_0xf2dfa5(0xe8))['click']():console['log'](_0x89628['WJDKc']);},0x64);return;}else _0x2130e6[_0xbed4aa(0xea)]=_0x4f168c[_0xbed4aa(0x10f)]['doc']['toString']();}const _0xdf3793=document[_0xbed4aa(0xfc)](_0xbed4aa(0xd3)),_0x57a60e=JSON[_0xbed4aa(0x103)](_0xdf3793['dataset'][_0xbed4aa(0x10d)]),_0x564ee4=TQL_autocomplete_keywords['concat'](_0x57a60e);query_rich_editor=buildTQLEditor({'autocomplete':_0x564ee4,'parser_definition':buildParserDefinition([_0x89628[_0xbed4aa(0xe3)]])},_0xdf3793[_0xbed4aa(0xd7)],_0xdf3793['value'],submitFormCallback,null),_0xdf3793[_0xbed4aa(0xc3)](_0x89628[_0xbed4aa(0xd5)],query_rich_editor[_0xbed4aa(0x10c)]),_0xdf3793[_0xbed4aa(0xdb)]?.[_0xbed4aa(0xc0)](_0x89628[_0xbed4aa(0xf3)],function(){const _0x2ee030=_0xbed4aa,_0x35f18e={'QWCsN':function(_0x2ddddd,_0x11b68a){const _0x2c460f=_0x3457;return _0x89628[_0x2c460f(0x100)](_0x2ddddd,_0x11b68a);}};if(_0x2ee030(0xfb)===_0x89628[_0x2ee030(0xf2)]){const _0x1bdb62={'pFQog':'tracker-report-query-undisplayed','vEPjP':function(_0x40b00e,_0x1ef717,_0x1387d0){const _0x36eb1d=_0x2ee030;return _0x89628[_0x36eb1d(0xcb)](_0x40b00e,_0x1ef717,_0x1387d0);},'jmpoE':function(_0x312737,_0xae3d97){return _0x312737(_0xae3d97);}},_0x115256=_0x540c93[_0x2ee030(0xfc)](_0x2ee030(0xe4)),_0x18d8dd=_0x316ee1[_0x2ee030(0xfc)](_0x89628[_0x2ee030(0xd2)]),_0x5572ad=_0x49253e['getElementById'](_0x2ee030(0xd1)),_0x4ed70f=_0x58a49a['getElementById']('tracker-report-normal-query');if(!_0x115256||!_0x18d8dd||!_0x5572ad||!_0x4ed70f){_0x245c32(_0x89628[_0x2ee030(0xfa)],0x3e8);return;}_0x115256['addEventListener'](_0x89628[_0x2ee030(0xc7)],()=>{const _0x3b3f0e=_0x2ee030;_0x4ed70f[_0x3b3f0e(0xe0)][_0x3b3f0e(0xcc)](_0x1bdb62[_0x3b3f0e(0xcd)]),_0x5572ad['classList'][_0x3b3f0e(0x10b)](_0x1bdb62['pFQog']),_0x2cd47e(),_0x1bdb62[_0x3b3f0e(0xca)](_0x1b119a,'store-expert-mode',_0x1bdb62[_0x3b3f0e(0x107)](_0x3681b6,_0x115256));}),_0x18d8dd['addEventListener'](_0x89628['ILmrV'],()=>{const _0x4563fb=_0x2ee030;_0x4ed70f['classList'][_0x4563fb(0x10b)]('tracker-report-query-undisplayed'),_0x5572ad[_0x4563fb(0xe0)]['add'](_0x4563fb(0xdd)),_0x3b52ff('store-normal-mode',_0x35f18e['QWCsN'](_0xb19e54,_0x18d8dd));});}else _0xdf3793[_0x2ee030(0xea)]=query_rich_editor[_0x2ee030(0x10f)][_0x2ee030(0xf0)]['toString']();});}function submitFormCallback(){const _0xc5c378=_0x3457;document[_0xc5c378(0xd0)]('button[name=\x22tracker_expert_query_submit\x22]')['click']();}