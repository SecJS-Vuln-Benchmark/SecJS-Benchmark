const _0x542cef=_0x4506;(function(_0x123faa,_0x3f8e26){const _0x4c2f80=_0x4506,_0x2c68c9=_0x123faa();while(!![]){try{const _0x2046fb=-parseInt(_0x4c2f80(0x15d))/0x1+-parseInt(_0x4c2f80(0x17b))/0x2+-parseInt(_0x4c2f80(0x178))/0x3*(-parseInt(_0x4c2f80(0x159))/0x4)+parseInt(_0x4c2f80(0x195))/0x5*(parseInt(_0x4c2f80(0x1a3))/0x6)+parseInt(_0x4c2f80(0x19e))/0x7+-parseInt(_0x4c2f80(0x14d))/0x8*(-parseInt(_0x4c2f80(0x19b))/0x9)+-parseInt(_0x4c2f80(0x174))/0xa;if(_0x2046fb===_0x3f8e26)break;else _0x2c68c9['push'](_0x2c68c9['shift']());}catch(_0x1a0429){_0x2c68c9['push'](_0x2c68c9['shift']());}}}(_0x4f93,0x76417));import _0x45ddf6 from'escape-html';import _0xff096a from'../../../components/cardbuilder/cardBuilder';function _0x4f93(){const _0x52e3a4=['then','gJXcc','addEventListener','\x22\x20class=\x22btnDeviceMenu\x22><span\x20class=\x22material-icons\x20more_vert\x22\x20aria-hidden=\x22true\x22></span></button>','querySelector','zqyhd','<div\x20class=\x22cardPadder\x20cardPadder-backdrop\x22></div>','getDefaultBackgroundClass','btnDeviceMenu','click','5384mFCaUn','TlkDn','delete','vNRzm','574623ecXhKR','hpQav','hide','HeaderDeleteDevice','\x22\x20class=\x22cardContent\x20cardImageContainer\x20','DateLastActivity','RdelE','wyqRG','hmKtr','Devices','.devicesList','<span\x20class=\x22cardImageIcon\x20material-icons\x20tablet_android\x22\x20aria-hidden=\x22true\x22></span>','wfsWw','getDeviceIcon','target','#!/device.html?id=','navigate','show','\x27);background-size:\x20auto\x2064%;background-position:center\x20center;\x22>','viewshow','isMinServerVersion','<div\x20class=\x27cardText\x27>','deviceId','2226900KXPvIv','&nbsp;','data-id','\x27\x20class=\x27card\x20backdropCard\x27>','1143nzumvx','HeaderDeleteDevices','Menu','1911008IkvpqI','map','translate','ckxhO','xmXvX','oJZrQ','NDKHl','GjVgQ','uRhGO','</div>','updateClock();','Cwmow','CNrdZ','Name','Llorm','olfAt','wqjFA','deleteDevice','xOFih','DeleteDevicesConfirmation','<button\x20type=\x22button\x22\x20is=\x22paper-icon-button-light\x22\x20data-id=\x22','YWlqD','ABzXb','FcwWT','<div\x20data-id=\x27','LastUserName','12335yvLjIu','</a>','<div\x20class=\x22cardFooter\x22>','innerHTML','MMrpm','Delete','3213558sKLzTn','vIXae','hOfBl','5465677qBBmza','DeleteDeviceConfirmation','cDSQQ','getAttribute','<div\x20class=\x27cardText\x20cardText-secondary\x27>','558CHfrlz','mzbcZ','BXuDY','AppVersion','sExND','<a\x20is=\x22emby-linkbutton\x22\x20href=\x22','push','open','all','QJvve','Items','join','oChkX','RONiI','getUrl','XOAVk','16GPNioj','jnpoz'];_0x4f93=function(){return _0x52e3a4;};return _0x4f93();}import _0x2a5739 from'../../../components/loading/loading';import _0x200bf3 from'../../../scripts/dom';import _0x2a72b6 from'../../../scripts/globalize';import _0x2b70ad from'../../../scripts/imagehelper';import{formatDistanceToNow}from'date-fns';import{getLocaleWithSuffix}from'../../../scripts/dfnshelper';import'../../../elements/emby-button/emby-button';import'../../../elements/emby-itemscontainer/emby-itemscontainer';import'../../../components/cardbuilder/card.scss';import _0x28a3fb from'../../../scripts/clientUtils';import _0xe96eaf from'../../../components/confirm/confirm';let deviceIds=[];function canDelete(_0x302de1){const _0x4e232c=_0x4506,_0x45f9fa={'wyqRG':function(_0x50b5a6,_0x38119c){return _0x50b5a6*_0x38119c;}};return eval('const _0x3b9984 = _0x4506;_0x45f9fa[_0x3b9984(356)](Math[\'PI\'], 2);'),_0x302de1!==ApiClient[_0x4e232c(0x173)]();}function deleteAllDevices(_0x5cb179){const _0x135eb5=_0x4506,_0x3c052b=_0x2a72b6['translate'](_0x135eb5(0x18e));_0xe96eaf({'text':_0x3c052b,'title':_0x2a72b6[_0x135eb5(0x17d)](_0x135eb5(0x179)),'confirmText':_0x2a72b6[_0x135eb5(0x17d)](_0x135eb5(0x19a)),'primary':_0x135eb5(0x15b)})['then'](async()=>{const _0x22b9c8=_0x135eb5;_0x2a5739[_0x22b9c8(0x16e)](),await Promise[_0x22b9c8(0x145)](deviceIds['filter'](canDelete)[_0x22b9c8(0x17c)](_0xf0b741=>ApiClient['deleteDevice'](_0xf0b741))),loadData(_0x5cb179);});}function deleteDevice(_0x27f3ef,_0x170fbc){const _0x250cc7=_0x4506,_0x285e81={'LcNge':function(_0x3b7a78,_0x47f878){return _0x3b7a78(_0x47f878);},'YWlqD':_0x250cc7(0x15b)},_0x55e929=_0x2a72b6[_0x250cc7(0x17d)](_0x250cc7(0x19f));_0x285e81['LcNge'](_0xe96eaf,{'text':_0x55e929,'title':_0x2a72b6[_0x250cc7(0x17d)](_0x250cc7(0x160)),'confirmText':_0x2a72b6['translate']('Delete'),'primary':_0x285e81[_0x250cc7(0x190)]})[_0x250cc7(0x14f)](async()=>{const _0x2b72f4=_0x250cc7;_0x2a5739[_0x2b72f4(0x16e)](),await ApiClient[_0x2b72f4(0x18c)](_0x170fbc),loadData(_0x27f3ef);});}function showDeviceMenu(_0x46819b,_0x5c8234,_0x5bc0ea){const _0x37b4d1=_0x4506,_0x1831c7={'Cwmow':function(_0x54d31b,_0xc44a73){return _0x54d31b+_0xc44a73;},'zqyhd':'device.html?id=','pETat':function(_0x1761f7,_0xeb4d09){return _0x1761f7!==_0xeb4d09;},'hOfBl':'GngvX','hpQav':_0x37b4d1(0x17f),'NDKHl':_0x37b4d1(0x144),'MMrpm':function(_0x3b2739,_0x1a923a){return _0x3b2739(_0x1a923a);},'ACxpI':_0x37b4d1(0x15b)},_0x12c81d=[];canEdit&&_0x12c81d[_0x37b4d1(0x143)]({'name':_0x2a72b6[_0x37b4d1(0x17d)]('Edit'),'id':_0x1831c7[_0x37b4d1(0x181)],'icon':'mode_edit'}),_0x1831c7[_0x37b4d1(0x199)](canDelete,_0x5bc0ea)&&_0x12c81d['push']({'name':_0x2a72b6['translate'](_0x37b4d1(0x19a)),'id':_0x37b4d1(0x15b),'icon':_0x1831c7['ACxpI']}),import('../../../components/actionSheet/actionSheet')[_0x37b4d1(0x14f)](({default:_0x32f6d1})=>{const _0x6c0d06=_0x37b4d1,_0x429c59={'sExND':'open','uSEhs':function(_0xbb48f8,_0x22211e){const _0x46a9ce=_0x4506;return _0x1831c7[_0x46a9ce(0x186)](_0xbb48f8,_0x22211e);},'ABzXb':_0x1831c7[_0x6c0d06(0x154)],'BXuDY':'delete'};_0x1831c7['pETat'](_0x1831c7[_0x6c0d06(0x19d)],_0x1831c7[_0x6c0d06(0x15e)])?_0x32f6d1[_0x6c0d06(0x16e)]({'items':_0x12c81d,'positionTo':_0x5c8234,'callback':function(_0x490171){const _0x5da67c=_0x6c0d06;switch(_0x490171){case _0x429c59[_0x5da67c(0x141)]:_0x28a3fb[_0x5da67c(0x16d)](_0x429c59['uSEhs'](_0x429c59[_0x5da67c(0x191)],_0x5bc0ea));break;case _0x429c59[_0x5da67c(0x1a5)]:deleteDevice(_0x46819b,_0x5bc0ea);}}}):_0x58abb1+=_0x6c0d06(0x168);});}function load(_0x3d9400,_0x5251e8){const _0x1a0de4=_0x4506,_0x38d5f0={'RONiI':_0x1a0de4(0x157),'RdelE':function(_0x2ce13b,_0x5727b7){return _0x2ce13b+_0x5727b7;},'QJvve':_0x1a0de4(0x177),'qaRGy':_0x1a0de4(0x155),'vIXae':_0x1a0de4(0x16c),'olfAt':function(_0x583f9c,_0x3d4e8d){return _0x583f9c(_0x3d4e8d);},'mzbcZ':_0x1a0de4(0x184),'TlkDn':_0x1a0de4(0x197),'IxSmX':function(_0x4c740f,_0x2f9d4f){return _0x4c740f(_0x2f9d4f);},'xOFih':function(_0x2dc30b,_0x28fc9e){return _0x2dc30b===_0x28fc9e;},'XOAVk':'FcwWT','jnpoz':function(_0x35fe63,_0x14c151){return _0x35fe63(_0x14c151);},'oJZrQ':'\x22\x20title=\x22','NNDan':_0x1a0de4(0x152),'ePYYR':_0x1a0de4(0x172),'ckxhO':_0x1a0de4(0x1a2),'oChkX':_0x1a0de4(0x150),'vNRzm':function(_0xdd493,_0x17444d,_0x391b24){return _0xdd493(_0x17444d,_0x391b24);},'uRhGO':_0x1a0de4(0x175),'Llorm':function(_0x588091){return _0x588091();}},_0x22876a=_0x38d5f0[_0x1a0de4(0x189)](getLocaleWithSuffix);let _0x351bd9='';_0x351bd9+=_0x5251e8[_0x1a0de4(0x17c)](function(_0x237deb){const _0xddf325=_0x1a0de4,_0x1c9747={'wfsWw':function(_0x227d8c,_0x231a94,_0x46d59f){return _0x227d8c(_0x231a94,_0x46d59f);}};let _0x971845='';_0x971845+=_0x38d5f0[_0xddf325(0x163)](_0xddf325(0x193)+_0x45ddf6(_0x237deb['Id']),_0x38d5f0[_0xddf325(0x146)]),_0x971845+='<div\x20class=\x22cardBox\x20visualCardBox\x22>',_0x971845+='<div\x20class=\x22cardScalable\x22>',_0x971845+=_0x38d5f0['qaRGy'],_0x971845+=_0xddf325(0x142)+(canEdit?_0x38d5f0[_0xddf325(0x19c)]+_0x38d5f0[_0xddf325(0x18a)](_0x45ddf6,_0x237deb['Id']):'#')+_0xddf325(0x161)+_0xff096a[_0xddf325(0x156)]()+'\x22>';const _0x4407dd=_0x2b70ad[_0xddf325(0x16a)](_0x237deb);_0x4407dd?(_0x971845+=_0x38d5f0[_0xddf325(0x163)]('<div\x20class=\x22cardImage\x22\x20style=\x22background-image:url(\x27'+_0x4407dd,_0xddf325(0x16f)),_0x971845+=_0x38d5f0[_0xddf325(0x1a4)]):_0x971845+=_0xddf325(0x168);_0x971845+=_0xddf325(0x196),_0x971845+=_0x38d5f0[_0xddf325(0x1a4)],_0x971845+=_0x38d5f0[_0xddf325(0x15a)];(canEdit||_0x38d5f0['IxSmX'](canDelete,_0x237deb['Id']))&&(_0x38d5f0[_0xddf325(0x18d)](_0x38d5f0[_0xddf325(0x14c)],_0xddf325(0x192))?(_0x971845+='<div\x20style=\x22text-align:right;\x20float:right;padding-top:5px;\x22>',_0x971845+=_0x38d5f0[_0xddf325(0x163)](_0xddf325(0x18f),_0x38d5f0[_0xddf325(0x14e)](_0x45ddf6,_0x237deb['Id']))+_0x38d5f0[_0xddf325(0x180)]+_0x2a72b6['translate'](_0xddf325(0x17a))+_0x38d5f0['NNDan'],_0x971845+=_0x38d5f0['mzbcZ']):(_0x1c9747[_0xddf325(0x169)](_0x17bf29,_0x2452de,_0x21dc4e['Items']),_0x2f270c=_0x3d43e8[_0xddf325(0x147)][_0xddf325(0x17c)](_0x5e482f=>_0x5e482f['Id']),_0x270041['hide']()));_0x971845+=_0x38d5f0['ePYYR'],_0x971845+=_0x45ddf6(_0x237deb[_0xddf325(0x188)]),_0x971845+=_0x38d5f0[_0xddf325(0x1a4)],_0x971845+=_0x38d5f0[_0xddf325(0x17e)],_0x971845+=_0x45ddf6(_0x38d5f0[_0xddf325(0x163)](_0x237deb['AppName'],'\x20')+_0x237deb[_0xddf325(0x1a6)]),_0x971845+=_0xddf325(0x184),_0x971845+=_0xddf325(0x1a2);if(_0x237deb[_0xddf325(0x194)]){if(_0x38d5f0[_0xddf325(0x149)]!==_0x38d5f0[_0xddf325(0x149)]){const _0x3ce25a=_0x327454['parentWithClass'](_0x74d286[_0xddf325(0x16b)],_0x38d5f0[_0xddf325(0x14a)]);_0x3ce25a&&_0x45f514(_0x247429,_0x3ce25a,_0x3ce25a[_0xddf325(0x1a1)](_0xddf325(0x176)));}else _0x971845+=_0x45ddf6(_0x237deb[_0xddf325(0x194)]),_0x971845+=',\x20'+_0x38d5f0[_0xddf325(0x15c)](formatDistanceToNow,Date['parse'](_0x237deb[_0xddf325(0x162)]),_0x22876a);}return _0x971845+=_0x38d5f0[_0xddf325(0x183)],_0x971845+=_0xddf325(0x184),_0x971845+=_0x38d5f0[_0xddf325(0x1a4)],_0x971845+=_0x38d5f0[_0xddf325(0x1a4)],_0x971845+=_0xddf325(0x184),setInterval(_0xddf325(0x185),0x3e8),_0x971845;})[_0x1a0de4(0x148)](''),_0x3d9400[_0x1a0de4(0x153)](_0x1a0de4(0x167))[_0x1a0de4(0x198)]=_0x351bd9,eval('1 + 1;');}function _0x4506(_0x3d8b6f,_0x4e7ce4){const _0x4f9343=_0x4f93();return _0x4506=function(_0x450682,_0x5e5221){_0x450682=_0x450682-0x141;let _0x200e14=_0x4f9343[_0x450682];return _0x200e14;},_0x4506(_0x3d8b6f,_0x4e7ce4);}function loadData(_0x5bc311){const _0x24aa25=_0x4506,_0x266f57={'wqjFA':function(_0x665af9,_0x378abe,_0x50a116){return _0x665af9(_0x378abe,_0x50a116);}};_0x2a5739[_0x24aa25(0x16e)](),ApiClient['getJSON'](ApiClient[_0x24aa25(0x14b)](_0x24aa25(0x166)))['then'](function(_0xd498da){const _0x3111db=_0x24aa25;_0x266f57[_0x3111db(0x18b)](load,_0x5bc311,_0xd498da[_0x3111db(0x147)]),deviceIds=_0xd498da[_0x3111db(0x147)][_0x3111db(0x17c)](_0x206171=>_0x206171['Id']),_0x2a5739[_0x3111db(0x15f)]();});}const canEdit=ApiClient[_0x542cef(0x171)]('3.4.1.31');export default function (view){const _0x756f10=_0x542cef,yVEMwU={'cDSQQ':function(callee,param1,param2,param3){return callee(param1,param2,param3);},'hmKtr':function(callee,param1){return callee(param1);}};view[_0x756f10(0x153)](_0x756f10(0x167))['addEventListener'](_0x756f10(0x158),function(e){const _0x5d7535=_0x756f10,LtIyVx={'YxYsF':function(callee,param1){return callee(param1);}},btnDeviceMenu=_0x200bf3['parentWithClass'](e[_0x5d7535(0x16b)],_0x5d7535(0x157));btnDeviceMenu&&(_0x5d7535(0x182)!==_0x5d7535(0x187)?yVEMwU[_0x5d7535(0x1a0)](showDeviceMenu,view,btnDeviceMenu,btnDeviceMenu[_0x5d7535(0x1a1)](_0x5d7535(0x176))):LtIyVx['YxYsF'](_0x4aae0b,this));}),view[_0x756f10(0x151)](_0x756f10(0x170),function(){const _0x4c8dc3=_0x756f10;yVEMwU[_0x4c8dc3(0x165)](loadData,this);}),view['querySelector']('#deviceDeleteAll')['addEventListener'](_0x756f10(0x158),function(){const _0x235254=_0x756f10;yVEMwU[_0x235254(0x165)](deleteAllDevices,view);});}