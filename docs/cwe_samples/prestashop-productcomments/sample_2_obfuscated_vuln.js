'use strict';const _0x439a63=_0x40bb;function _0x42f5(){const _0x201eca=['blocks','exportUploads','removeCoverPicture','updateCover','35qSVbQW','fire','1984194fCzxnB','GDZsv','blockerUid','hooks','../../api','../../user','blockeeUid','uBUcG','posts','can','toggleBlock','cnNun','wAxBv','CRODZ','../../plugins','add','callerUid','exportProfile','fCUvL','remove','warnDeprecated','isAdminOrSelf','iTUkJ','178kLlvkg','33121xYTSnj','99741qfrumb','[[error:no-privileges]]','getUserFields','uid','POST\x20/api/v3/users/:uid/exports/:type','7962iYRUBD','KNYFD','5SnhyZn','Ccvvg','profile','152nKwyZn','14937831rGSxWz','JaGNk','2650xkJebF','unblock','isAdminOrGlobalModOrSelf','AQJDr','[[error:invalid-data]]','HBkBK','QpMxT','generateExport','485272aGIWCh','users','6276240eDmBHn','exports','checkMinReputation','uploadCroppedPicture','gHlBp','updateCoverPicture','block'];_0x42f5=function(){return _0x201eca;};return _0x42f5();}function _0x40bb(_0x5205f0,_0x5ee01b){const _0x42f50a=_0x42f5();return _0x40bb=function(_0x40bbea,_0x2cb827){_0x40bbea=_0x40bbea-0x17c;let _0x17be6b=_0x42f50a[_0x40bbea];return _0x17be6b;},_0x40bb(_0x5205f0,_0x5ee01b);}(function(_0x43762a,_0x5929ce){const _0x449a6c=_0x40bb,_0x344645=_0x43762a();while(!![]){try{const _0x3738ac=-parseInt(_0x449a6c(0x191))/0x1*(parseInt(_0x449a6c(0x198))/0x2)+parseInt(_0x449a6c(0x193))/0x3*(parseInt(_0x449a6c(0x19d))/0x4)+-parseInt(_0x449a6c(0x19a))/0x5*(-parseInt(_0x449a6c(0x1b7))/0x6)+-parseInt(_0x449a6c(0x1b5))/0x7*(-parseInt(_0x449a6c(0x1a8))/0x8)+-parseInt(_0x449a6c(0x19e))/0x9+parseInt(_0x449a6c(0x1a0))/0xa*(parseInt(_0x449a6c(0x192))/0xb)+parseInt(_0x449a6c(0x1aa))/0xc;if(_0x3738ac===_0x5929ce)break;else _0x344645['push'](_0x344645['shift']());}catch(_0x394b6f){_0x344645['push'](_0x344645['shift']());}}}(_0x42f5,0xcf812));const user=require(_0x439a63(0x17f)),privileges=require('../../privileges'),plugins=require(_0x439a63(0x188)),sockets=require('..'),api=require(_0x439a63(0x17e));module[_0x439a63(0x1ab)]=function(_0x21acaf){const _0x542aac=_0x439a63,_0x5c7835={'fCUvL':_0x542aac(0x194),'wAxBv':'min:rep:cover-picture','KNYFD':'cover:url','iTUkJ':_0x542aac(0x1a5),'GDZsv':_0x542aac(0x1a1),'sRcxc':_0x542aac(0x1b0),'gHlBp':_0x542aac(0x18d),'uBUcG':_0x542aac(0x19c),'cnNun':_0x542aac(0x182),'CRODZ':'uploads','QpMxT':'[[error:invalid-uid]]','JaGNk':function(_0x28b7a9,_0x4214c5,_0x5793d2){return _0x28b7a9(_0x4214c5,_0x5793d2);}};_0x21acaf[_0x542aac(0x1b4)]=async function(_0x5ee812,_0x17b9f7){const _0xb70dff=_0x542aac;if(!_0x5ee812[_0xb70dff(0x196)])throw new Error(_0x5c7835[_0xb70dff(0x18c)]);return await user[_0xb70dff(0x1a2)](_0x5ee812[_0xb70dff(0x196)],_0x17b9f7['uid']),await user[_0xb70dff(0x1ac)](_0x5ee812['uid'],_0x17b9f7[_0xb70dff(0x196)],_0x5c7835[_0xb70dff(0x186)]),await user[_0xb70dff(0x1af)](_0x17b9f7);},_0x21acaf[_0x542aac(0x1ad)]=async function(_0x2b018f,_0x3a5ef7){const _0x2aa2c2=_0x542aac;if(!_0x2b018f[_0x2aa2c2(0x196)]||!await privileges[_0x2aa2c2(0x1a9)]['canEdit'](_0x2b018f[_0x2aa2c2(0x196)],_0x3a5ef7[_0x2aa2c2(0x196)]))throw new Error(_0x2aa2c2(0x194));return await user[_0x2aa2c2(0x1ac)](_0x2b018f[_0x2aa2c2(0x196)],_0x3a5ef7[_0x2aa2c2(0x196)],'min:rep:profile-picture'),_0x3a5ef7[_0x2aa2c2(0x18a)]=_0x2b018f[_0x2aa2c2(0x196)],await user[_0x2aa2c2(0x1ad)](_0x3a5ef7);},_0x21acaf['removeCover']=async function(_0x1c3a02,_0x53867c){const _0x18303a=_0x542aac;if(!_0x1c3a02['uid'])throw new Error(_0x5c7835[_0x18303a(0x18c)]);await user['isAdminOrGlobalModOrSelf'](_0x1c3a02[_0x18303a(0x196)],_0x53867c[_0x18303a(0x196)]);const _0x4c6fe4=await user[_0x18303a(0x195)](_0x53867c[_0x18303a(0x196)],[_0x5c7835[_0x18303a(0x199)]]);await user[_0x18303a(0x1b3)](_0x53867c),plugins[_0x18303a(0x17d)][_0x18303a(0x1b6)]('action:user.removeCoverPicture',{'callerUid':_0x1c3a02['uid'],'uid':_0x53867c['uid'],'user':_0x4c6fe4});},_0x21acaf[_0x542aac(0x184)]=async function(_0x22eb4f,_0x153a14){const _0x115ed1=_0x542aac;if(_0x115ed1(0x1a3)!==_0x5c7835[_0x115ed1(0x190)]){const _0x2e164f=await user['blocks']['is'](_0x153a14[_0x115ed1(0x180)],_0x153a14[_0x115ed1(0x17c)]);return await user[_0x115ed1(0x1b1)][_0x115ed1(0x183)](_0x22eb4f[_0x115ed1(0x196)],_0x153a14['blockerUid'],_0x153a14[_0x115ed1(0x180)],_0x2e164f?_0x5c7835[_0x115ed1(0x1b8)]:_0x5c7835['sRcxc']),await user[_0x115ed1(0x1b1)][_0x2e164f?_0x5c7835[_0x115ed1(0x1ae)]:_0x115ed1(0x189)](_0x153a14[_0x115ed1(0x180)],_0x153a14[_0x115ed1(0x17c)]),!_0x2e164f;}else throw new _0x4d23ff(_0x115ed1(0x194));},_0x21acaf[_0x542aac(0x18b)]=async function(_0x2d6a18,_0x58a855){const _0x48239b=_0x542aac;await _0x5ba29c(_0x2d6a18,_0x58a855,_0x5c7835[_0x48239b(0x181)]);},_0x21acaf['exportPosts']=async function(_0x32e741,_0x5b267b){const _0xff1fc0=_0x542aac;await _0x5ba29c(_0x32e741,_0x5b267b,_0x5c7835[_0xff1fc0(0x185)]);},_0x21acaf[_0x542aac(0x1b2)]=async function(_0x4ef0c1,_0x561ed9){const _0x59d05a=_0x542aac;await _0x5ba29c(_0x4ef0c1,_0x561ed9,_0x5c7835[_0x59d05a(0x187)]);};async function _0x5ba29c(_0x2b6674,_0x18cfe6,_0xe17ce4){const _0x52031c=_0x542aac;sockets[_0x52031c(0x18e)](_0x2b6674,_0x52031c(0x197));if(!_0x2b6674[_0x52031c(0x196)])throw new Error(_0x5c7835[_0x52031c(0x1a6)]);if(!_0x18cfe6||_0x5c7835[_0x52031c(0x19f)](parseInt,_0x18cfe6[_0x52031c(0x196)],0xa)<=0x0){if(_0x52031c(0x19b)!=='xTYWZ')throw new Error(_0x52031c(0x1a4));else throw new _0x192b9b('[[error:no-privileges]]');}await user[_0x52031c(0x18f)](_0x2b6674[_0x52031c(0x196)],_0x18cfe6[_0x52031c(0x196)]),api[_0x52031c(0x1a9)][_0x52031c(0x1a7)](_0x2b6674,{'type':_0xe17ce4,..._0x18cfe6});}};