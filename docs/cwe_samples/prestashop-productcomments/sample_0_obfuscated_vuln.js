const _0x2977b2=_0x568e;(function(_0x58afd8,_0xebc484){const _0x2674e3=_0x568e,_0x5ace34=_0x58afd8();while(!![]){try{const _0x184e32=-parseInt(_0x2674e3(0x1a4))/0x1*(parseInt(_0x2674e3(0x19f))/0x2)+-parseInt(_0x2674e3(0x1bd))/0x3+-parseInt(_0x2674e3(0x15a))/0x4+-parseInt(_0x2674e3(0x1ff))/0x5+parseInt(_0x2674e3(0xf4))/0x6+parseInt(_0x2674e3(0xe3))/0x7*(-parseInt(_0x2674e3(0x172))/0x8)+-parseInt(_0x2674e3(0xdb))/0x9*(-parseInt(_0x2674e3(0xba))/0xa);if(_0x184e32===_0xebc484)break;else _0x5ace34['push'](_0x5ace34['shift']());}catch(_0x2f2eb0){_0x5ace34['push'](_0x5ace34['shift']());}}}(_0x341d,0xe580f));function _0x341d(){const _0x2b5f82=['catch','Could\x20not\x20determine\x20dates\x20from\x20certificate:\x20','TGTEY','each','statusCode','kZtWn','UnfeY','pqbdq','nkYDj','http://','10VJbJSB','Requesting\x20Let\x27sEncrypt\x20certificates\x20for\x20Cert\x20#','ELJzd','Only\x20Let\x27sEncrypt\x20certificates\x20can\x20be\x20downloaded','PZoxf','KCXOF','gfVlb','\x20--','NzlBy','count','dSuQY','id\x20as\x20count','PMwNk','BiCMx','EsqlZ','reload','SQnnf','string','CVPoh','QmUHt','realpathSync','fIcXV','jnfoR','hxQnx','vMntJ','LDeaG','/data/custom_ssl/npm-','length','YDAWR','is_deleted','notbefore','filter','cXGxT','37577070iXCFPU','Cannot\x20upload\x20certificates\x20for\x20this\x20type\x20of\x20provider','SimuJ','orderBy','htmlresponse','rmxEK','nXnLA','weQOe','5047XjuEno','PKIKT','\x27\x20||\x20true','sLqLq','files','--disable-hook-validation\x20','toLowerCase','HBEAb','gEgOK','UtDfg','gBUbl','xjpod','letsencrypt','IHlFS','xDOHD','UOlTZ','msg','3432990nishZc','GJtNl','yvJYm','processExpiringHosts','wNucd','certificates:get','IJaHm','certificates:list','./nginx','aKGMX','proxy_host','.pem','UEmXe','NZNrL','tTjCe','cFSAN','vyWTs','dns_challenge','Glypd','gJZUY','utaFD','renewLetsEncryptSslWithDnsChallenge','SjTaZ','qwxHm','TuKht','requestLetsEncryptSslWithDnsChallenge','wrong-data','XzGdZ','UbRHv','../global/certbot-dns-plugins.json','add','Certificate\x20has\x20expired','HTTP\x20challenge\x20test\x20failed\x20for\x20domain\x20','../lib/utils','zipFiles','--domains\x20\x22','AnvBy','eJyWP','query','CiFDL','update','psjBQ','LHAIw','KRzGk','TPQRN','jxPhB','bulkGenerateConfigs','renewBeforeExpirationBy','iCsmf','oyuUo','days','\x20because\x20error\x20was\x20returned:\x20','validate','lGUCS','split','mjUWT','Bebor','renewed','clone','vuCzL','REZvP','allowGraph','Result\x20Validation\x20Error:\x20','getUserId','--delete-after-revoke\x20','aydZY','debug','ETeUw','QJQVk','QqBtX','ynhWG','VViCt','Refusing\x20to\x20write\x20letsencrypt\x20certs\x20here','mahRT','MskzV','hnxXI','token','xCebZ','verGf','\x20for\x20Cert\x20#','qOtIQ','Nebpz','\x20...','JwjOi','lEWEV','total_count','pick','kdZiQ','updated','\x20-issuer\x20-noout','QJYHe','ZpmTp','intervalTimeout','route53','Certificate\x20Key\x20is\x20not\x20valid\x20(','Could\x20not\x20determine\x20subject\x20from\x20certificate:\x20','xfolR','EHwRe','meta','Command:','Only\x20Let\x27sEncrypt\x20certificates\x20can\x20be\x20renewed','IdRlP','852912yeGCBQ','Mozilla/5.0','pCfmX','RIxfl','dead_hosts','../lib/certbot','AAIZO','allowedSslFiles','VTSVn','nljMX','\x20the\x20host\x20was\x20not\x20found','/etc/letsencrypt/credentials/credentials-','XxTWk','PuClJ','map','ValidationError','NGoyd','\x20certonly\x20','xRria','expand','end','YVwiB','BtCiE','rm\x20-f\x20\x27/etc/letsencrypt/credentials/credentials-','7976qFYqWJ','permission_visibility','Could\x20not\x20determine\x20issuer\x20from\x20certificate:\x20','--cert-name\x20\x22npm-','Requesting\x20Let\x27sEncrypt\x20certificates\x20via\x20','openssl\x20pkey\x20-in\x20','ZCWGT','LKADq','XodyY','letsencrypt_email','AWS_CONFIG_FILE=\x27','enableInUseHosts','/etc/letsencrypt/credentials','\x20--staging','patchAndFetchById','join','UsEMe','intermediate_certificate','reason','\x20was\x20returned','lodash','WdnhV','existsSync','gLiGR','ASC','200','message','zHGnn','DkHiW','bkzAZ','failed','interval','KWqYu','name','LHzhN','bGcxz','dates','gEIBq','Fneki','Writing\x20Custom\x20Certificate:','\x20does\x20not\x20exists','kgpKh','parse','unlink','GFmka','588944YXvGIx','MnxyS','assign','Chpbn','iiViB','4SzTHzY','/tmp','\x20because\x20HTTP\x20status\x20code\x20','zsWGF','Domains\x20must\x20be\x20an\x20array\x20of\x20strings','./audit-log','aWIEK','qhjBS','../lib/error','LLfIT','GLGdm','deleted','/etc/letsencrypt/live/npm-','fHpAY','DJsRd','moment','xDMFS','Let\x27s\x20Encrypt\x20Renewal\x20Timer\x20initialized','mkdirSync','ZeFlx','rMTyH','tMwMi','deleteLetsEncryptRequestConfig','yGohA','VqsCn','3128202ABqmjF','../lib/config','zXgDj','no-host','EDPgQ','kbKfj','readdirSync','nvQSg','--config\x20\x22','bulkDeleteConfigs','certificate_key','where','-credentials\x20\x22','BdgoD','vhOXR','createWriteStream','OzmlT','dcWPt','SVVPg','Certificate\x20','writeFile','myCAG','unlinkSync','MMM\x20DD\x20HH:mm:ss\x20YYYY\x20z','insertAndFetch','xjCJc','iRRpd','okIOp','HpYGA','format','forEach','/.well-known/acme-challenge/test-challenge','withGraphFetched','yENpv','exec','.zip','LlNka','ziYUo','getCertificateInfoFromFile','FTGOo','afIEj','installPlugin','Failed\x20to\x20test\x20HTTP\x20challenge\x20for\x20domain\x20','MCmVp','juefa','OtClU','kGZaz','QDqkg','propagation_seconds','patch','endsWith','../models/token','BlnVx','andWhere','proxy_hosts','gdGOh','undefined','Success','punlr','pVCqo','intervalProcessing','uSyOw','YYYY-MM-DD\x20HH:mm:ss','XaNvY','../logger','hIoEI','3273305vtzwXZ','first','DiAxH','groupBy','includes','mxHEb','push','Result\x20Validation\x20Error:\x20Validation\x20timed\x20out.\x20This\x20could\x20be\x20due\x20to\x20the\x20key\x20being\x20passphrase-protected.','redirection_host','\x20!==\x20','GZDyg','dead_host','--preferred-challenges\x20\x22dns,http\x22\x20','\x20renew\x20--force-renewal\x20','basename','Certificate\x20file\x20was\x20not\x20provided','renew','certificates:create','added\x20to\x20certificate\x20zip','xhDdG','cleanMeta','AcrJV','Unknown\x20DNS\x20provider\x20\x27','toString','Dcgye','--logs-dir\x20\x22/tmp/letsencrypt-log\x22\x20','generateLetsEncryptRequestConfig','application/x-www-form-urlencoded','mEgya','\x20because\x20of\x20invalid\x20returned\x20data:','/privkey.pem','FKWht','yWXqA','can','ZQBJr','OJicD','tidyr','xxdxU','request','checkPrivateKey','provider','redirection_hosts','./host','zip','VrynF','FjPTl','then','Renewing\x20Let\x27sEncrypt\x20certificates\x20for\x20Cert\x20#','--agree-tos\x20','DjeIl','yoDlj','error','ySnne','[owner]','WtQCf','responsecode','writeCustomCert','Zxdvt','omitRow','VnvEg','/tmp/','certificates:delete','MhmKX','https://www.site24x7.com/tools/restapi-tester','owner_user_id','QYXWN','roNSn','imqwC','other:','all','CMURe','exports','LZFCN','\x20-dates\x20-noout','omitRows','duckdns','warn','jioYf','mHsJc','\x20because\x20code\x20','ufkYJ','KTwSM','rIfZq','CatAr','YPpoO','domain_names','expires_on','--work-dir\x20\x22/tmp/letsencrypt-lib\x22\x20','yxQLs','SzSnj','data','CxsVp','dRMCc','\x20because\x20response\x20failed\x20to\x20be\x20parsed:\x20','certificate','KgtcH','TWJVJ','apBPx','nice_name','info','yRXMb','WAlwR','archiver','xUggB','useLetsencryptStaging','--staging','IpnOL','mLyul','--cert-path\x20\x22/etc/letsencrypt/live/npm-','Alfew','writeFileSync','qNOvi','hjsJw','gNtPS','Wtzrx','\x20--dns-duckdns-no-txt-restore','getHostsWithDomains','lJHMY','ItemNotFoundError','eMlRa','CvuvP','NUPdn','indexOf','-propagation-seconds\x20','dns_provider_credentials','UWZNf','/etc/letsencrypt.ini','resolve','get','xOTQd','yJNnB','notafter','RnpTC','xxKVX','zip\x20completed\x20:\x20','cnJPv','qWwQs','dns_provider','/fullchain.pem','temp-write','SgJPq','vkWpo','--email\x20\x22','PnKpm','XVZQY','AsElh','uVIgb','VaZaq','UzEpa','HsHST','eGICU','ZLxEQ','full_plugin_name','eIYyA','BCEBx','BuhmV','--no-random-sleep-on-renew\x20','ZwGNS','WugTw','created','nSYdm','path','create','openssl\x20x509\x20-in\x20','hCSkY','WkghX','vaJaq','pirfn','\x20revoke\x20','issuer','https','Revoking\x20Let\x27sEncrypt\x20certificates\x20for\x20Cert\x20#','WGQDp','InternalValidationError','Certificate\x20is\x20not\x20valid\x20(','COhgs','../models/certificate','bpfJo','wePXt','oCSJQ','zhkQN','OBpGh','MlqEK','404','btIKx','SacDN','wFwlP','kwqOc','EAniE','fRfrJ','other','omit'];_0x341d=function(){return _0x2b5f82;};return _0x341d();}const _=require(_0x2977b2(0x186)),fs=require('fs'),https=require(_0x2977b2(0x9a)),tempWrite=require(_0x2977b2(0x28a)),moment=require(_0x2977b2(0x1b3)),logger=require(_0x2977b2(0x1fd))['ssl'],config=require(_0x2977b2(0x1be)),error=require(_0x2977b2(0x1ac)),utils=require(_0x2977b2(0x115)),certificateModel=require(_0x2977b2(0xa0)),tokenModel=require(_0x2977b2(0x1f0)),dnsPlugins=require(_0x2977b2(0x111)),internalAuditLog=require(_0x2977b2(0x1a9)),internalNginx=require(_0x2977b2(0xfc)),internalHost=require(_0x2977b2(0x229)),certbot=require(_0x2977b2(0x15f)),archiver=require(_0x2977b2(0x265)),path=require(_0x2977b2(0x91)),{isArray}=require(_0x2977b2(0x186)),letsencryptStaging=config[_0x2977b2(0x267)](),letsencryptConfig=_0x2977b2(0x27d),certbotCommand='certbot';function omissions(){const _0x3af584=_0x2977b2;return[_0x3af584(0xd7)];}const internalCertificate={'allowedSslFiles':[_0x2977b2(0x25d),_0x2977b2(0x1c7),_0x2977b2(0x183)],'intervalTimeout':0x3e8*0x3c*0x3c,'interval':null,'intervalProcessing':![],'renewBeforeExpirationBy':[0x1e,_0x2977b2(0x126)],'initTimer':()=>{const _0x20f87d=_0x2977b2,_0x160b5c={'iCsmf':_0x20f87d(0x1b5),'xDMFS':function(_0x122cc4,_0x3cda58,_0x581d37){return _0x122cc4(_0x3cda58,_0x581d37);}};logger[_0x20f87d(0x262)](_0x160b5c[_0x20f87d(0x124)]),internalCertificate[_0x20f87d(0x191)]=_0x160b5c[_0x20f87d(0x1b4)](setInterval,internalCertificate[_0x20f87d(0xf7)],internalCertificate['intervalTimeout']),internalCertificate[_0x20f87d(0xf7)]();},'processExpiringHosts':()=>{const _0x4b8c17=_0x2977b2,_0x423fb2={'AsElh':function(_0x1117ab,_0x484631){return _0x1117ab+_0x484631;},'wNucd':'Renewing\x20SSL\x20certs\x20expiring\x20within\x20','bypPT':_0x4b8c17(0x146),'EAniE':_0x4b8c17(0x1fb),'yGohA':'letsencrypt','SimuJ':_0x4b8c17(0x255)};if(!internalCertificate[_0x4b8c17(0x1f9)]){internalCertificate[_0x4b8c17(0x1f9)]=!![],logger[_0x4b8c17(0x262)](_0x423fb2[_0x4b8c17(0x290)](_0x423fb2[_0x4b8c17(0x290)](_0x423fb2['AsElh'](_0x423fb2[_0x4b8c17(0xf8)],internalCertificate[_0x4b8c17(0x123)][0x0]),'\x20'),internalCertificate['renewBeforeExpirationBy'][0x1])+_0x423fb2['bypPT']);const _0x30cef2=moment()['add'](internalCertificate[_0x4b8c17(0x123)][0x0],internalCertificate[_0x4b8c17(0x123)][0x1])['format'](_0x423fb2[_0x4b8c17(0xac)]);certificateModel['query']()[_0x4b8c17(0x1c8)](_0x4b8c17(0xd7),0x0)[_0x4b8c17(0x1f2)](_0x4b8c17(0x227),_0x423fb2[_0x4b8c17(0x1bb)])[_0x4b8c17(0x1f2)](_0x423fb2[_0x4b8c17(0xdd)],'<',_0x30cef2)[_0x4b8c17(0x22d)](_0x172648=>{const _0xf7f491=_0x4b8c17;if(!_0x172648||!_0x172648[_0xf7f491(0xd5)])return null;let _0x3b1853=Promise[_0xf7f491(0x27e)]();return _0x172648[_0xf7f491(0x1db)](function(_0x370e85){const _0x16dfb2=_0xf7f491;_0x3b1853=_0x3b1853['then'](()=>internalCertificate[_0x16dfb2(0x20f)]({'can':()=>Promise[_0x16dfb2(0x27e)]({'permission_visibility':_0x16dfb2(0x244)}),'token':new tokenModel()},{'id':_0x370e85['id']})[_0x16dfb2(0xb0)](_0x4abd92=>{logger['error'](_0x4abd92['message']);}));}),_0x3b1853;})[_0x4b8c17(0x22d)](()=>{const _0x4ab263=_0x4b8c17;logger[_0x4ab263(0x262)]('Completed\x20SSL\x20cert\x20renew\x20process'),internalCertificate['intervalProcessing']=![];})['catch'](_0x4f7def=>{const _0x2e2a76=_0x4b8c17;logger[_0x2e2a76(0x232)](_0x4f7def),internalCertificate[_0x2e2a76(0x1f9)]=![];});}},'create':(_0x3106ed,_0x47266b)=>{const _0x13445a=_0x2977b2,_0x2dea9e={'tTjCe':'letsencrypt','nSYdm':function(_0x247ebd){return _0x247ebd();},'Nebpz':function(_0xec8259,_0x545ebb){return _0xec8259+_0x545ebb;},'xxdxU':_0x13445a(0x1b0),'rMTyH':function(_0x433a30,_0x4d19fc){return _0x433a30!==_0x4d19fc;},'BxLhu':_0x13445a(0xd6),'cFSAN':_0x13445a(0x294),'Dcgye':_0x13445a(0xa6),'eMlRa':_0x13445a(0x1fa),'dogNl':_0x13445a(0xfe),'xUggB':_0x13445a(0x20a),'PuClJ':'certificate','ySnne':_0x13445a(0x210)};return _0x3106ed[_0x13445a(0x220)](_0x2dea9e[_0x13445a(0x233)],_0x47266b)[_0x13445a(0x22d)](()=>{const _0x48d1e6=_0x13445a;return _0x47266b[_0x48d1e6(0x23f)]=_0x3106ed['token'][_0x48d1e6(0x133)](0x1),_0x47266b[_0x48d1e6(0x227)]===_0x2dea9e[_0x48d1e6(0x102)]&&(_0x47266b[_0x48d1e6(0x261)]=_0x47266b[_0x48d1e6(0x254)]['join'](',\x20')),certificateModel[_0x48d1e6(0x11a)]()[_0x48d1e6(0x1d5)](_0x47266b)[_0x48d1e6(0x22d)](utils[_0x48d1e6(0x239)](_0x2dea9e[_0x48d1e6(0x90)](omissions)));})['then'](_0x187a08=>{const _0x4cea0d=_0x13445a,_0xd67d0d={'wFwlP':function(_0xbfaeef,_0x1b57c8){const _0x16ffd0=_0x568e;return _0x2dea9e[_0x16ffd0(0x145)](_0xbfaeef,_0x1b57c8);},'GJtNl':_0x2dea9e[_0x4cea0d(0x224)]};if(_0x2dea9e[_0x4cea0d(0x1b8)](_0x2dea9e['BxLhu'],_0x2dea9e[_0x4cea0d(0x103)])){if(_0x187a08[_0x4cea0d(0x227)]===_0x4cea0d(0xef)){if(_0x2dea9e[_0x4cea0d(0x1b8)](_0x2dea9e[_0x4cea0d(0x217)],_0x2dea9e[_0x4cea0d(0x276)]))return internalHost[_0x4cea0d(0x273)](_0x187a08[_0x4cea0d(0x254)])[_0x4cea0d(0x22d)](_0x3915d3=>{return internalCertificate['disableInUseHosts'](_0x3915d3)['then'](()=>{return _0x3915d3;});})['then'](_0x196bad=>{const _0x51da51=_0x4cea0d;return _0x187a08[_0x51da51(0x156)][_0x51da51(0x105)]?internalNginx[_0x51da51(0xc9)]()[_0x51da51(0x22d)](()=>{const _0x1027e0=_0x51da51;return internalCertificate[_0x1027e0(0x10d)](_0x187a08);})['then'](internalNginx[_0x51da51(0xc9)])[_0x51da51(0x22d)](()=>{const _0x1659c8=_0x51da51;return internalCertificate[_0x1659c8(0x17d)](_0x196bad);})[_0x51da51(0x22d)](()=>{return _0x187a08;})['catch'](_0x519933=>{const _0xbb52d4=_0x51da51;return internalCertificate[_0xbb52d4(0x17d)](_0x196bad)['then'](internalNginx[_0xbb52d4(0xc9)])[_0xbb52d4(0x22d)](()=>{throw _0x519933;});}):internalNginx[_0x51da51(0x219)](_0x187a08)['then'](internalNginx[_0x51da51(0xc9)])[_0x51da51(0x22d)](async()=>await new Promise(_0x2c34c1=>setTimeout(_0x2c34c1,0x1388)))[_0x51da51(0x22d)](()=>{return internalCertificate['requestLetsEncryptSsl'](_0x187a08);})[_0x51da51(0x22d)](()=>{const _0xe503d8=_0x51da51;return internalNginx[_0xe503d8(0x1ba)](_0x187a08);})['then'](internalNginx[_0x51da51(0xc9)])[_0x51da51(0x22d)](()=>{const _0x36f554=_0x51da51;return internalCertificate[_0x36f554(0x17d)](_0x196bad);})[_0x51da51(0x22d)](()=>{return _0x187a08;})['catch'](_0x2603fd=>{const _0x2972de=_0x51da51;return internalNginx[_0x2972de(0x1ba)](_0x187a08)[_0x2972de(0x22d)](()=>{const _0x55d015=_0x2972de;return internalCertificate[_0x55d015(0x17d)](_0x196bad);})['then'](internalNginx['reload'])[_0x2972de(0x22d)](()=>{throw _0x2603fd;});});})[_0x4cea0d(0x22d)](()=>{const _0x5e9e7c=_0x4cea0d,_0xa4d1bf={'KRzGk':function(_0x1996c1,_0x318933,_0x20b794){return _0x1996c1(_0x318933,_0x20b794);}};return internalCertificate[_0x5e9e7c(0x1e3)](_0xd67d0d['wFwlP'](_0xd67d0d[_0x5e9e7c(0xaa)](_0xd67d0d[_0x5e9e7c(0xf5)],_0x187a08['id']),_0x5e9e7c(0x289)))[_0x5e9e7c(0x22d)](_0x2c8e00=>{const _0x385f42=_0x5e9e7c;return certificateModel[_0x385f42(0x11a)]()['patchAndFetchById'](_0x187a08['id'],{'expires_on':_0xa4d1bf[_0x385f42(0x11f)](moment,_0x2c8e00[_0x385f42(0x196)]['to'],'X')[_0x385f42(0x1da)](_0x385f42(0x1fb))})[_0x385f42(0x22d)](_0xa42457=>{const _0x534bb4=_0x385f42;return _0xa42457[_0x534bb4(0x156)]=_[_0x534bb4(0x1a1)]({},_0xa42457[_0x534bb4(0x156)],{'letsencrypt_certificate':_0x2c8e00}),_0xa42457;});});})[_0x4cea0d(0xb0)](async _0x4c61ad=>{await certificateModel['query']()['deleteById'](_0x187a08['id']);throw _0x4c61ad;});else{_0x1a39b2['error'](_0x893b40[_0x4cea0d(0x18c)]);if(_0xc16302)throw _0x7b6d80;}}else return _0x187a08;}else _0x379c07?delete _0x528f27[_0x5bb96e]:_0x3ba62b[_0xd4539b]=!![];})[_0x13445a(0x22d)](_0xd44218=>{const _0x2b1088=_0x13445a;return _0x47266b[_0x2b1088(0x156)]=_[_0x2b1088(0x1a1)]({},_0x47266b[_0x2b1088(0x156)]||{},_0xd44218['meta']),internalAuditLog[_0x2b1088(0x112)](_0x3106ed,{'action':_0x2b1088(0x8f),'object_type':_0x2dea9e[_0x2b1088(0x167)],'object_id':_0xd44218['id'],'meta':_0x47266b})[_0x2b1088(0x22d)](()=>{const _0x1f0d46=_0x2b1088,_0xdb74f={'jHMjv':_0x2dea9e['dogNl'],'JTjRL':_0x2dea9e[_0x1f0d46(0x266)]};if(_0x1f0d46(0x24f)!=='sjqIe')return _0xd44218;else{let _0x5a4171=[];return _0x5249a8['proxy_hosts'][_0x1f0d46(0xd5)]&&_0x5a4171[_0x1f0d46(0x205)](_0x556f98[_0x1f0d46(0x1c6)](_0xdb74f['jHMjv'],_0x2103a0[_0x1f0d46(0x1f3)])),_0x3bbe98['redirection_hosts']['length']&&_0x5a4171['push'](_0x585de4[_0x1f0d46(0x1c6)]('redirection_host',_0x3c7bbd[_0x1f0d46(0x228)])),_0x12442d[_0x1f0d46(0x15e)][_0x1f0d46(0xd5)]&&_0x5a4171[_0x1f0d46(0x205)](_0x2001b3['bulkDeleteConfigs'](_0xdb74f['JTjRL'],_0x4c9129['dead_hosts'])),_0x5cd87a[_0x1f0d46(0x244)](_0x5a4171);}});});},'update':(_0x2c39c3,_0x29494c)=>{const _0x205d77=_0x2977b2,_0x3b6785={'Glypd':function(_0x828aef,_0x590624){return _0x828aef===_0x590624;},'wsgLc':_0x205d77(0xae),'aKGMX':_0x205d77(0x25d),'ZZDuD':function(_0x2f3bf9,_0x53fdda){return _0x2f3bf9!==_0x53fdda;},'bpfJo':function(_0x22ee41,_0x3216d8){return _0x22ee41+_0x3216d8;},'pqbdq':_0x205d77(0x208),'xfolR':function(_0xa8bb76){return _0xa8bb76();}};return _0x2c39c3[_0x205d77(0x220)]('certificates:update',_0x29494c['id'])['then'](()=>{const _0x1793ee=_0x205d77;return internalCertificate[_0x1793ee(0x27f)](_0x2c39c3,{'id':_0x29494c['id']});})['then'](_0x243885=>{const _0x420d6e=_0x205d77;if(_0x3b6785['ZZDuD'](_0x243885['id'],_0x29494c['id']))throw new error[(_0x420d6e(0x9d))](_0x3b6785[_0x420d6e(0xa1)]('Certificate\x20could\x20not\x20be\x20updated,\x20IDs\x20do\x20not\x20match:\x20'+_0x243885['id'],_0x3b6785[_0x420d6e(0xb7)])+_0x29494c['id']);return certificateModel['query']()['patchAndFetchById'](_0x243885['id'],_0x29494c)[_0x420d6e(0x22d)](utils[_0x420d6e(0x239)](_0x3b6785[_0x420d6e(0x154)](omissions)))[_0x420d6e(0x22d)](_0x172592=>{const _0x33d07a=_0x420d6e;return _0x172592[_0x33d07a(0x156)]=internalCertificate['cleanMeta'](_0x172592[_0x33d07a(0x156)]),_0x29494c[_0x33d07a(0x156)]=internalCertificate['cleanMeta'](_0x29494c[_0x33d07a(0x156)]),_0x3b6785[_0x33d07a(0x106)](_0x172592['provider'],_0x3b6785['wsgLc'])&&(_0x29494c['nice_name']=_0x172592[_0x33d07a(0x261)]),internalAuditLog['add'](_0x2c39c3,{'action':_0x33d07a(0x14c),'object_type':_0x3b6785[_0x33d07a(0xfd)],'object_id':_0x243885['id'],'meta':_['omit'](_0x29494c,['expires_on'])})['then'](()=>{return _0x172592;});});});},'get':(_0x1474db,_0x78fbcb)=>{const _0x47a5ea=_0x2977b2,_0x5edbb8={'Zxdvt':_0x47a5ea(0xd7),'GZhUR':'AxwLF','qNOvi':function(_0x2fa5e7,_0x5c7bcc){return _0x2fa5e7!==_0x5c7bcc;},'HBEAb':'undefined','fIcXV':function(_0x306072,_0x4f8373){return _0x306072+_0x4f8373;},'gNtPS':function(_0x25db4e){return _0x25db4e();},'sHZgz':'openssl\x20x509\x20-in\x20','cnJPv':_0x47a5ea(0x14d),'tegLA':function(_0x5bc915,_0x48ec8e){return _0x5bc915===_0x48ec8e;},'oACXJ':_0x47a5ea(0x13d),'LBqMp':function(_0x3f5929,_0x183ff8){return _0x3f5929===_0x183ff8;},'ujBHZ':_0x47a5ea(0x1e1),'vaJaq':'certificates:get'};if(typeof _0x78fbcb===_0x5edbb8[_0x47a5ea(0xea)]){if(_0x5edbb8['LBqMp'](_0x47a5ea(0x1e1),_0x5edbb8['ujBHZ']))_0x78fbcb={};else return _0x6da9c7[_0x47a5ea(0x1e3)](_0x1d6f68,_0x2f7d25)[_0x47a5ea(0x22d)](_0x2f6e90=>{return _0x25e812['unlinkSync'](_0x2f62ab),_0x2f6e90;})['catch'](_0x36ac81=>{const _0x4576c8=_0x47a5ea;_0x4e8941[_0x4576c8(0x1d3)](_0x46c103);throw _0x36ac81;});}return _0x1474db[_0x47a5ea(0x220)](_0x5edbb8[_0x47a5ea(0x96)],_0x78fbcb['id'])[_0x47a5ea(0x22d)](_0x4bc996=>{const _0x2a2a19=_0x47a5ea,_0x228426={'ZBELb':'Only\x20Let\x27sEncrypt\x20certificates\x20can\x20be\x20downloaded'};let _0x1be647=certificateModel['query']()[_0x2a2a19(0x1c8)](_0x5edbb8[_0x2a2a19(0x238)],0x0)[_0x2a2a19(0x1f2)]('id',_0x78fbcb['id'])[_0x2a2a19(0x131)](_0x2a2a19(0x234))[_0x2a2a19(0x200)]();if(_0x4bc996[_0x2a2a19(0x173)]!==_0x2a2a19(0x244)){if('piiIl'!==_0x5edbb8['GZhUR'])_0x1be647[_0x2a2a19(0x1f2)]('owner_user_id',_0x1474db[_0x2a2a19(0x140)][_0x2a2a19(0x133)](0x1));else throw new _0x53732d[(_0x2a2a19(0x169))](_0x228426['ZBELb']);}return _0x5edbb8[_0x2a2a19(0x26e)](typeof _0x78fbcb['expand'],_0x5edbb8['HBEAb'])&&_0x78fbcb[_0x2a2a19(0x16d)]!==null&&_0x1be647[_0x2a2a19(0x1dd)](_0x5edbb8['fIcXV']('['+_0x78fbcb['expand'][_0x2a2a19(0x181)](',\x20'),']')),_0x1be647[_0x2a2a19(0x22d)](utils[_0x2a2a19(0x239)](_0x5edbb8[_0x2a2a19(0x270)](omissions)));})[_0x47a5ea(0x22d)](_0x54b88a=>{const _0x505d77=_0x47a5ea;if(!_0x54b88a)throw new error[(_0x505d77(0x275))](_0x78fbcb['id']);if(typeof _0x78fbcb[_0x505d77(0xaf)]!==_0x5edbb8[_0x505d77(0xea)]&&_0x5edbb8[_0x505d77(0x26e)](_0x78fbcb['omit'],null)){if(_0x5edbb8['tegLA'](_0x5edbb8['oACXJ'],_0x505d77(0x13d)))_0x54b88a=_[_0x505d77(0xaf)](_0x54b88a,_0x78fbcb[_0x505d77(0xaf)]);else return _0x35d065[_0x505d77(0x1df)](_0x5edbb8[_0x505d77(0xcf)](_0x5edbb8[_0x505d77(0xcf)](_0x5edbb8['sHZgz'],_0x26a75f),_0x5edbb8[_0x505d77(0x286)]));}return _0x54b88a;});},'download':(_0x13d768,_0x8c8008)=>{const _0x14738f=_0x2977b2,_0x4595e2={'fjOSU':_0x14738f(0x1b0),'gEIBq':function(_0x545805,_0x49bada){return _0x545805===_0x49bada;},'zHGnn':_0x14738f(0x1ce),'uUAkZ':_0x14738f(0x1a3),'lGUCS':_0x14738f(0x28f),'irQmf':_0x14738f(0xbd),'hjsJw':_0x14738f(0xf9)};return new Promise((_0x48f996,_0x5880be)=>{const _0x44111a=_0x14738f,_0x5b1704={'PnKpm':function(_0x3a0cc6,_0x917974){return _0x3a0cc6+_0x917974;},'sLqLq':function(_0x35cbfb,_0x4ec067){return _0x35cbfb+_0x4ec067;},'psjBQ':_0x4595e2['fjOSU'],'GZDyg':function(_0x7dedde,_0x41a106){const _0x1b5603=_0x568e;return _0x4595e2[_0x1b5603(0x197)](_0x7dedde,_0x41a106);},'QJYHe':_0x4595e2[_0x44111a(0x18d)],'TPQRN':_0x4595e2['uUAkZ'],'LDeaG':function(_0x35bed8,_0x496c08){return _0x35bed8+_0x496c08;},'UbRHv':function(_0x47d70d,_0xb99e38){return _0x47d70d+_0xb99e38;},'TvqBF':'npm-','HlXDn':_0x4595e2[_0x44111a(0x129)],'rziJe':_0x44111a(0xb6),'MnxyS':_0x4595e2['irQmf']};_0x13d768['can'](_0x4595e2[_0x44111a(0x26f)],_0x8c8008)['then'](()=>{const _0x584d30=_0x44111a;return internalCertificate[_0x584d30(0x27f)](_0x13d768,_0x8c8008);})[_0x44111a(0x22d)](_0x30916b=>{const _0x3c8753=_0x44111a,_0x585a6a={'sYNrG':function(_0x56f3cc,_0x9514dc){const _0x36e3e8=_0x568e;return _0x5b1704[_0x36e3e8(0x28e)](_0x56f3cc,_0x9514dc);}};if(_0x30916b[_0x3c8753(0x227)]===_0x3c8753(0xef)){const _0x4a14b8=_0x5b1704[_0x3c8753(0xe6)](_0x5b1704[_0x3c8753(0x11d)],_0x8c8008['id']);if(!fs['existsSync'](_0x4a14b8)){if(_0x5b1704[_0x3c8753(0x209)](_0x5b1704[_0x3c8753(0x14e)],_0x5b1704[_0x3c8753(0x120)]))return _0x1da5f8[_0x3c8753(0x27f)](_0x272712,_0x30d5a5);else throw new error[(_0x3c8753(0x275))](_0x5b1704[_0x3c8753(0xd3)](_0x3c8753(0x1d0),_0x30916b[_0x3c8753(0x261)])+_0x3c8753(0x19a));}let _0x559ba7=fs[_0x3c8753(0x1c3)](_0x4a14b8)[_0x3c8753(0xd9)](_0x26ca83=>_0x26ca83[_0x3c8753(0x1ef)](_0x3c8753(0xff)))['map'](_0x14b285=>fs[_0x3c8753(0xce)](path[_0x3c8753(0x181)](_0x4a14b8,_0x14b285)));const _0x35b118=_0x5b1704[_0x3c8753(0x110)](_0x5b1704['TvqBF']+_0x8c8008['id'],'-')+(Date['now']()+_0x3c8753(0x1e0)),_0x40d9e5=_0x3c8753(0x23b)+_0x35b118;internalCertificate[_0x3c8753(0x116)](_0x559ba7,_0x40d9e5)[_0x3c8753(0x22d)](()=>{const _0x174514=_0x3c8753;logger['debug'](_0x174514(0x285),_0x40d9e5);const _0x362c46={'fileName':_0x40d9e5};_0x48f996(_0x362c46);})[_0x3c8753(0xb0)](_0x3c8bc0=>_0x5880be(_0x3c8bc0));}else{if(_0x5b1704['HlXDn']===_0x5b1704['rziJe'])throw new _0x2f6557['ValidationError'](_0x585a6a['sYNrG'](_0x3c8753(0x9e)+_0x3638d7[_0x3c8753(0x18c)],')'),_0x5c7e51);else throw new error[(_0x3c8753(0x169))](_0x5b1704[_0x3c8753(0x1a0)]);}})[_0x44111a(0xb0)](_0x2c3309=>_0x5880be(_0x2c3309));});},'zipFiles'(_0x16c0e9,_0x5cffe5){const _0x1520b7=_0x2977b2,_0x7dfd7a={'mEgya':'added\x20to\x20certificate\x20zip','ZeFlx':function(_0x45aec8,_0x3db487,_0x13373d){return _0x45aec8(_0x3db487,_0x13373d);},'ETeUw':_0x1520b7(0x22a)},_0x997652=_0x7dfd7a[_0x1520b7(0x1b7)](archiver,_0x7dfd7a[_0x1520b7(0x137)],{'zlib':{'level':0x9}}),_0x442a48=fs[_0x1520b7(0x1cc)](_0x5cffe5);return new Promise((_0x521de8,_0x1f8a75)=>{const _0x443e24=_0x1520b7,_0x53e639={'Alfew':_0x7dfd7a[_0x443e24(0x21b)]};_0x16c0e9[_0x443e24(0x168)](_0x48e03f=>{const _0x572393=_0x443e24;let _0x81ddf2=path[_0x572393(0x20d)](_0x48e03f);logger[_0x572393(0x136)](_0x48e03f,_0x53e639[_0x572393(0x26c)]),_0x997652['file'](_0x48e03f,{'name':_0x81ddf2});}),_0x997652['on']('error',_0x5f2698=>_0x1f8a75(_0x5f2698))['pipe'](_0x442a48),_0x442a48['on']('close',()=>_0x521de8()),_0x997652['finalize']();});},'delete':(_0x40f967,_0x4d5881)=>{const _0x324e79=_0x2977b2,_0x1c8de8={'WugTw':function(_0x4d1467,_0x53cb1f){return _0x4d1467!==_0x53cb1f;},'XkDTr':_0x324e79(0x108),'OnWNs':'lpvem','UEmXe':_0x324e79(0x23c)};return _0x40f967[_0x324e79(0x220)](_0x1c8de8[_0x324e79(0x100)],_0x4d5881['id'])['then'](()=>{const _0x187f32=_0x324e79;return _0x1c8de8[_0x187f32(0x8e)](_0x1c8de8['XkDTr'],_0x1c8de8['OnWNs'])?internalCertificate[_0x187f32(0x27f)](_0x40f967,{'id':_0x4d5881['id']}):_0x3aaf2f[_0x187f32(0x10d)](_0x43a553);})['then'](_0x4cef9b=>{const _0x2a977=_0x324e79,_0x7d4658={'WtQCf':'letsencrypt'};if(!_0x4cef9b)throw new error[(_0x2a977(0x275))](_0x4d5881['id']);return certificateModel[_0x2a977(0x11a)]()[_0x2a977(0x1c8)]('id',_0x4cef9b['id'])[_0x2a977(0x1ee)]({'is_deleted':0x1})[_0x2a977(0x22d)](()=>{const _0x8312b4=_0x2a977;return _0x4cef9b[_0x8312b4(0x156)]=internalCertificate[_0x8312b4(0x213)](_0x4cef9b[_0x8312b4(0x156)]),internalAuditLog[_0x8312b4(0x112)](_0x40f967,{'action':_0x8312b4(0x1af),'object_type':'certificate','object_id':_0x4cef9b['id'],'meta':_['omit'](_0x4cef9b,omissions())});})[_0x2a977(0x22d)](()=>{const _0x660330=_0x2a977;if(_0x4cef9b['provider']===_0x7d4658[_0x660330(0x235)])return _0x660330(0x1bc)!==_0x660330(0x1bc)?_0x4784ba[_0x660330(0x14a)](_0x3197f4[_0x660330(0x156)],_0x3d8fba[_0x660330(0x161)]):internalCertificate['revokeLetsEncryptSsl'](_0x4cef9b);});})[_0x324e79(0x22d)](()=>{return!![];});},'getAll':(_0x1deb29,_0x271897,_0x38bd44)=>{const _0x35b5d4=_0x2977b2,_0x431eb2={'btIKx':'like','KCXOF':function(_0xd032ef,_0x5abac3){return _0xd032ef+_0x5abac3;},'verGf':_0x35b5d4(0x18a),'QYXWN':_0x35b5d4(0x23f),'vhOXR':function(_0x21b67d,_0x51376b){return _0x21b67d===_0x51376b;},'gdGOh':_0x35b5d4(0xfb)};return _0x1deb29[_0x35b5d4(0x220)](_0x431eb2[_0x35b5d4(0x1f4)])['then'](_0xc681f4=>{const _0x423843=_0x35b5d4;let _0x2e61db=certificateModel[_0x423843(0x11a)]()[_0x423843(0x1c8)](_0x423843(0xd7),0x0)[_0x423843(0x202)]('id')[_0x423843(0x131)](_0x423843(0x234))[_0x423843(0xde)](_0x423843(0x261),_0x431eb2[_0x423843(0x142)]);return _0xc681f4[_0x423843(0x173)]!==_0x423843(0x244)&&_0x2e61db[_0x423843(0x1f2)](_0x431eb2[_0x423843(0x240)],_0x1deb29[_0x423843(0x140)][_0x423843(0x133)](0x1)),_0x431eb2[_0x423843(0x1cb)](typeof _0x38bd44,_0x423843(0xcb))&&_0x2e61db[_0x423843(0x1c8)](function(){const _0x3a8f4e=_0x423843;this['where'](_0x3a8f4e(0x261),_0x431eb2[_0x3a8f4e(0xa8)],_0x431eb2[_0x3a8f4e(0xbf)](_0x431eb2[_0x3a8f4e(0xbf)]('%',_0x38bd44),'%'));}),typeof _0x271897!==_0x423843(0x1f5)&&_0x271897!==null&&_0x2e61db[_0x423843(0x1dd)](_0x431eb2[_0x423843(0xbf)]('[',_0x271897[_0x423843(0x181)](',\x20'))+']'),_0x2e61db[_0x423843(0x22d)](utils[_0x423843(0x249)](omissions()));});},'getCount':(_0x2129aa,_0x495d79)=>{const _0x2b5690=_0x2977b2,_0x1d78d4={'EDPgQ':_0x2b5690(0xc5),'CxsVp':_0x2b5690(0xd7),'DJsRd':'all'};let _0x295ff0=certificateModel[_0x2b5690(0x11a)]()['count'](_0x1d78d4[_0x2b5690(0x1c1)])['where'](_0x1d78d4[_0x2b5690(0x25a)],0x0);return _0x495d79!==_0x1d78d4[_0x2b5690(0x1b2)]&&_0x295ff0[_0x2b5690(0x1f2)]('owner_user_id',_0x2129aa),_0x295ff0[_0x2b5690(0x200)]()['then'](_0x2549d1=>{const _0x5f5a7a=_0x2b5690;return parseInt(_0x2549d1[_0x5f5a7a(0xc3)],0xa);});},'writeCustomCert':_0x523bf3=>{const _0x43e2a1=_0x2977b2,_0x3fdb1c={'hIoEI':function(_0x464c32,_0x4a5832){return _0x464c32!==_0x4a5832;},'KTwSM':_0x43e2a1(0x10b),'yoDlj':function(_0x4467e3,_0x83e5a8){return _0x4467e3===_0x83e5a8;},'lJHMY':function(_0x54a93c,_0xf20410){return _0x54a93c(_0xf20410);},'qOtIQ':_0x43e2a1(0x1f5),'VaZaq':'UruYO','Ugalq':_0x43e2a1(0x19b),'imqwC':function(_0x2eb42f,_0x24e3ca){return _0x2eb42f+_0x24e3ca;},'BCEBx':function(_0xcb92,_0x43d3ef){return _0xcb92(_0x43d3ef);},'UWZNf':_0x43e2a1(0x289),'TuKht':function(_0x23cc80,_0x22c95b){return _0x23cc80===_0x22c95b;},'RIxfl':_0x43e2a1(0x21d),'mxHEb':_0x43e2a1(0x199),'JUMdx':function(_0x210f2e,_0x4941ca){return _0x210f2e+_0x4941ca;}};logger[_0x43e2a1(0x262)](_0x3fdb1c[_0x43e2a1(0x204)],_0x523bf3);const _0x4098b8=_0x3fdb1c['JUMdx'](_0x43e2a1(0xd4),_0x523bf3['id']);return new Promise((_0x14cf99,_0x3544f3)=>{const _0x1d6fbe=_0x43e2a1,_0x24fd92={'FzUIY':function(_0x1e6723,_0x76e48b){return _0x1e6723===_0x76e48b;},'IJIIw':'certificate_key','nljMX':function(_0x241256,_0x564cb1){return _0x241256(_0x564cb1);}};if(_0x3fdb1c[_0x1d6fbe(0x231)](_0x523bf3[_0x1d6fbe(0x227)],'letsencrypt')){_0x3fdb1c[_0x1d6fbe(0x274)](_0x3544f3,new Error(_0x1d6fbe(0x13c)));return;}let _0x6542b=_0x523bf3[_0x1d6fbe(0x156)]['certificate'];if(typeof _0x523bf3[_0x1d6fbe(0x156)][_0x1d6fbe(0x183)]!==_0x3fdb1c[_0x1d6fbe(0x144)]){if(_0x3fdb1c['hIoEI'](_0x3fdb1c[_0x1d6fbe(0x292)],_0x3fdb1c['Ugalq']))_0x6542b=_0x3fdb1c[_0x1d6fbe(0x242)](_0x6542b,'\x0a')+_0x523bf3['meta'][_0x1d6fbe(0x183)];else{_0x3ebd24[_0x1d6fbe(0x19d)](_0x5bc414,()=>{});throw _0x41d574;}}try{!fs['existsSync'](_0x4098b8)&&fs[_0x1d6fbe(0x1b6)](_0x4098b8);}catch(_0x7487f3){_0x3fdb1c[_0x1d6fbe(0x8a)](_0x3544f3,_0x7487f3);return;}fs['writeFile'](_0x4098b8+_0x3fdb1c[_0x1d6fbe(0x27c)],_0x6542b,function(_0xca808e){const _0x136d60=_0x1d6fbe;_0xca808e?_0x3544f3(_0xca808e):_0x3fdb1c[_0x136d60(0x1fe)]('XfgXS',_0x3fdb1c[_0x136d60(0x250)])?_0x14cf99():_0x24fd92['FzUIY'](_0x453227,_0x24fd92['IJIIw'])?_0x216e73(_0x54d4bf[_0x136d60(0x226)](_0x352668)):_0x24fd92[_0x136d60(0x163)](_0x524eaf,_0x5150f2['getCertificateInfo'](_0x1fd98f,!![]));});})['then'](()=>{const _0x143db5=_0x43e2a1,_0x16b122={'wePXt':function(_0x3e71c9,_0x3e5330){const _0x4ff4bf=_0x568e;return _0x3fdb1c[_0x4ff4bf(0x10c)](_0x3e71c9,_0x3e5330);},'bGcxz':'uOrUM','ZCWGT':function(_0x53513d){return _0x53513d();},'NmsrW':_0x3fdb1c[_0x143db5(0x15d)]};return new Promise((_0x3a1079,_0x345873)=>{const _0x461fdc=_0x143db5;fs[_0x461fdc(0x1d1)](_0x4098b8+_0x16b122['NmsrW'],_0x523bf3['meta'][_0x461fdc(0x1c7)],function(_0x106fe6){const _0x426c6b=_0x461fdc;if(_0x106fe6)_0x345873(_0x106fe6);else{if(_0x16b122[_0x426c6b(0xa2)](_0x16b122[_0x426c6b(0x195)],_0x426c6b(0x269)))return{[_0x42d11a]:_0x5f1bc8};else _0x16b122[_0x426c6b(0x178)](_0x3a1079);}});});});},'createQuickCertificate':(_0x534de2,_0x1f3319)=>{const _0x193b7c=_0x2977b2,_0x4c15fe={'ziYUo':_0x193b7c(0xef)};return internalCertificate[_0x193b7c(0x92)](_0x534de2,{'provider':_0x4c15fe[_0x193b7c(0x1e2)],'domain_names':_0x1f3319[_0x193b7c(0x254)],'meta':_0x1f3319[_0x193b7c(0x156)]});},'validate':_0x21b59a=>{const _0x55cbe8=_0x2977b2,_0x21cf52={'SacDN':function(_0x58f835,_0x457f4f){return _0x58f835!==_0x457f4f;},'yENpv':function(_0xd3d5b5,_0x3191f1){return _0xd3d5b5(_0x3191f1);},'CnPOr':function(_0x329382,_0x3c94a1){return _0x329382===_0x3c94a1;},'XzGdZ':_0x55cbe8(0x1c7),'yJNnB':'wJHzY','LHzhN':_0x55cbe8(0x8b)};return new Promise(_0x271c90=>{const _0x3f08fc=_0x55cbe8;let _0x5f44d2={};_[_0x3f08fc(0x168)](_0x21b59a[_0x3f08fc(0xe7)],(_0x5b89fc,_0x5ec024)=>{const _0x56487a=_0x3f08fc;_0x21cf52[_0x56487a(0xa9)](internalCertificate[_0x56487a(0x161)]['indexOf'](_0x5ec024),-0x1)&&(_0x5f44d2[_0x5ec024]=_0x5b89fc[_0x56487a(0x259)][_0x56487a(0x216)]());}),_0x21cf52[_0x3f08fc(0x1de)](_0x271c90,_0x5f44d2);})[_0x55cbe8(0x22d)](_0x24edaa=>{const _0x2225f6=_0x55cbe8;let _0xf8d8dd=[];return _[_0x2225f6(0x168)](_0x24edaa,(_0x4ccd76,_0x44d965)=>{const _0x440892=_0x2225f6,_0x342e1c={'Chpbn':function(_0x1a1b90,_0x1d0fe7){const _0x33409d=_0x568e;return _0x21cf52[_0x33409d(0x1de)](_0x1a1b90,_0x1d0fe7);},'YnQSg':function(_0x170221){return _0x170221();},'COhgs':function(_0x38f687,_0x391231){return _0x21cf52['CnPOr'](_0x38f687,_0x391231);},'EZreh':_0x21cf52[_0x440892(0x10f)],'DkHiW':function(_0x20983a,_0x2ec588){const _0x1195e9=_0x440892;return _0x21cf52[_0x1195e9(0xa9)](_0x20983a,_0x2ec588);},'SgJPq':_0x440892(0x1c4)};if(_0x21cf52[_0x440892(0xa9)](_0x440892(0x1e5),_0x440892(0x251)))_0xf8d8dd['push'](new Promise(_0x5cacbf=>{const _0x10ff93=_0x440892;_0x342e1c[_0x10ff93(0x9f)](_0x44d965,_0x342e1c['EZreh'])?_0x342e1c['Chpbn'](_0x5cacbf,internalCertificate['checkPrivateKey'](_0x4ccd76)):_0x342e1c[_0x10ff93(0x18e)](_0x342e1c[_0x10ff93(0x28b)],_0x342e1c[_0x10ff93(0x28b)])?_0x336ef5?_0x342e1c[_0x10ff93(0x1a2)](_0xa5650f,_0x18d4d2):_0x342e1c['YnQSg'](_0x39c42e):_0x342e1c[_0x10ff93(0x1a2)](_0x5cacbf,internalCertificate['getCertificateInfo'](_0x4ccd76,!![]));})['then'](_0x2206b0=>{return{[_0x44d965]:_0x2206b0};}));else{if(!_0x392c4f)throw new _0x36a85b[(_0x440892(0x275))](_0x109370['id']);return typeof _0x6a3893[_0x440892(0xaf)]!==_0x440892(0x1f5)&&_0x4fc6d1['omit']!==null&&(_0x64f0a4=_0x33febd['omit'](_0x49e76f,_0x397efd[_0x440892(0xaf)])),_0x50e487;}}),Promise['all'](_0xf8d8dd)[_0x2225f6(0x22d)](_0x1c0996=>{const _0x1f5d81=_0x2225f6;if(_0x21cf52[_0x1f5d81(0x281)]!==_0x21cf52[_0x1f5d81(0x194)]){let _0x4905c8={};return _[_0x1f5d81(0xb3)](_0x1c0996,_0x390918=>{_0x4905c8=_['assign']({},_0x4905c8,_0x390918);}),_0x4905c8;}else _0x9ab553(_0x59c25f);});});},'upload':(_0x99200b,_0x4e6853)=>{const _0xf05a26=_0x2977b2,_0x582631={'whcCZ':function(_0x458315,_0x530f0f){return _0x458315===_0x530f0f;},'srFSt':_0xf05a26(0x1f5),'SjTaZ':function(_0x233da9,_0x41d415,_0x23eb02){return _0x233da9(_0x41d415,_0x23eb02);},'IjnNf':_0xf05a26(0x1fb),'ZXytX':function(_0x114e26,_0x4a1b58){return _0x114e26!==_0x4a1b58;},'MQfXI':_0xf05a26(0xdc)};return internalCertificate[_0xf05a26(0x27f)](_0x99200b,{'id':_0x4e6853['id']})[_0xf05a26(0x22d)](_0x4afe01=>{const _0x29d004=_0xf05a26;if(_0x582631['ZXytX'](_0x4afe01[_0x29d004(0x227)],_0x29d004(0xae)))throw new error['ValidationError'](_0x582631['MQfXI']);return internalCertificate[_0x29d004(0x128)](_0x4e6853)['then'](_0x1db2b5=>{const _0x48a206=_0x29d004,_0x378ae9={'PZoxf':_0x48a206(0x23f),'IHlFS':'UtDfg','xjpod':function(_0x213ee8,_0x46c1a9){return _0x213ee8!==_0x46c1a9;},'aWIEK':'TElfa'};if(_0x582631['whcCZ'](typeof _0x1db2b5[_0x48a206(0x25d)],_0x582631['srFSt']))throw new error[(_0x48a206(0x169))](_0x48a206(0x20e));return _[_0x48a206(0x168)](_0x4e6853[_0x48a206(0xe7)],(_0x5741fa,_0x3f18c0)=>{const _0x2d41b1=_0x48a206,_0x16bb96={'UOlTZ':'Result\x20Validation\x20Error:\x20Validation\x20timed\x20out.\x20This\x20could\x20be\x20due\x20to\x20the\x20key\x20being\x20passphrase-protected.'};_0x378ae9[_0x2d41b1(0xf0)]!==_0x2d41b1(0xec)?_0x3b90df[_0x2d41b1(0x1f2)](_0x378ae9[_0x2d41b1(0xbe)],_0x3c5430[_0x2d41b1(0x140)]['getUserId'](0x1)):_0x378ae9[_0x2d41b1(0xee)](internalCertificate[_0x2d41b1(0x161)][_0x2d41b1(0x279)](_0x3f18c0),-0x1)&&(_0x378ae9[_0x2d41b1(0x1aa)]!==_0x378ae9[_0x2d41b1(0x1aa)]?_0x2997ba(new _0x4d5f2b[(_0x2d41b1(0x169))](_0x16bb96[_0x2d41b1(0xf2)])):_0x4afe01[_0x2d41b1(0x156)][_0x3f18c0]=_0x5741fa[_0x2d41b1(0x259)][_0x2d41b1(0x216)]());}),internalCertificate[_0x48a206(0x11c)](_0x99200b,{'id':_0x4e6853['id'],'expires_on':_0x582631[_0x48a206(0x10a)](moment,_0x1db2b5['certificate'][_0x48a206(0x196)]['to'],'X')[_0x48a206(0x1da)](_0x582631['IjnNf']),'domain_names':[_0x1db2b5[_0x48a206(0x25d)]['cn']],'meta':_[_0x48a206(0x12e)](_0x4afe01[_0x48a206(0x156)])})[_0x48a206(0x22d)](_0x3044d1=>{const _0x3566fd=_0x48a206;return _0x3044d1['meta']=_0x4afe01[_0x3566fd(0x156)],internalCertificate[_0x3566fd(0x237)](_0x3044d1);});})[_0x29d004(0x22d)](()=>{const _0x3d934e=_0x29d004;return _[_0x3d934e(0x14a)](_0x4afe01[_0x3d934e(0x156)],internalCertificate['allowedSslFiles']);});});},'checkPrivateKey':_0x14ebcf=>{const _0x4dcae2=_0x2977b2,_0x340d88={'jioYf':_0x4dcae2(0x206),'BtCiE':function(_0x297ad3,_0x3963f1){return _0x297ad3+_0x3963f1;},'tidyr':function(_0x58005a,_0x1fcdee,_0x12cc63){return _0x58005a(_0x1fcdee,_0x12cc63);},'SeXgR':_0x4dcae2(0x177),'iMeeP':function(_0x19c17a,_0x4746f5){return _0x19c17a!==_0x4746f5;},'FKWht':'gEVDy','KoijI':_0x4dcae2(0xc2)};return tempWrite(_0x14ebcf,_0x4dcae2(0x1a5))['then'](_0x1675db=>{const _0x5deaba=_0x4dcae2,_0x433437={'nXnLA':_0x340d88[_0x5deaba(0x24c)],'uVIgb':function(_0x43d298,_0x144e14){return _0x43d298(_0x144e14);},'OJEkV':'key\x20is\x20valid','rJwWE':function(_0x44557c,_0x2cc90f){const _0x2c8bf3=_0x5deaba;return _0x340d88[_0x2c8bf3(0x170)](_0x44557c,_0x2cc90f);},'RnpTC':function(_0x12a0d5,_0xa25f5d,_0x202e0e){const _0x3ba087=_0x5deaba;return _0x340d88[_0x3ba087(0x223)](_0x12a0d5,_0xa25f5d,_0x202e0e);},'zXgDj':_0x340d88['SeXgR']};return _0x340d88['iMeeP'](_0x340d88[_0x5deaba(0x21e)],_0x340d88['KoijI'])?new Promise((_0x4bad71,_0x9dd0a5)=>{const _0x4f6b0c=_0x5deaba,_0xa29900={'XKVNa':function(_0x1fc058,_0x39b9ca){return _0x1fc058(_0x39b9ca);}},_0x265c25=_0x433437[_0x4f6b0c(0x283)](setTimeout,()=>{const _0x5c1c87=_0x4f6b0c;_0x9dd0a5(new error[(_0x5c1c87(0x169))](_0x433437[_0x5c1c87(0xe1)]));},0x2710);utils[_0x4f6b0c(0x1df)](_0x433437[_0x4f6b0c(0x1bf)]+_0x1675db+'\x20-check\x20-noout\x202>&1\x20')['then'](_0x56662a=>{const _0x4bca4d=_0x4f6b0c;_0x433437[_0x4bca4d(0x291)](clearTimeout,_0x265c25),!_0x56662a[_0x4bca4d(0xe9)]()[_0x4bca4d(0x203)](_0x433437['OJEkV'])&&_0x9dd0a5(new error[(_0x4bca4d(0x169))](_0x433437['rJwWE'](_0x4bca4d(0x132),_0x56662a))),fs['unlinkSync'](_0x1675db),_0x433437[_0x4bca4d(0x291)](_0x4bad71,!![]);})[_0x4f6b0c(0xb0)](_0x2a0fce=>{const _0x353ea6=_0x4f6b0c;_0xa29900['XKVNa'](clearTimeout,_0x265c25),fs[_0x353ea6(0x1d3)](_0x1675db),_0x9dd0a5(new error['ValidationError'](_0x353ea6(0x152)+_0x2a0fce['message']+')',_0x2a0fce));});}):_0x5f27a5;});},'getCertificateInfo':(_0x3a9f95,_0x483d97)=>{const _0x30fba3=_0x2977b2,_0x4e0956={'HdQjY':_0x30fba3(0x1ca),'CVPoh':function(_0x2ebcf7,_0x72bb8,_0x289c09){return _0x2ebcf7(_0x72bb8,_0x289c09);},'SQnnf':_0x30fba3(0x1a5)};return _0x4e0956[_0x30fba3(0xcc)](tempWrite,_0x3a9f95,_0x4e0956[_0x30fba3(0xca)])[_0x30fba3(0x22d)](_0x1535ba=>{const _0x52b547=_0x30fba3;return internalCertificate['getCertificateInfoFromFile'](_0x1535ba,_0x483d97)[_0x52b547(0x22d)](_0x5dc8ab=>{return fs['unlinkSync'](_0x1535ba),_0x5dc8ab;})[_0x52b547(0xb0)](_0x436360=>{const _0x2675c1=_0x52b547;if(_0x2675c1(0xb5)!==_0x4e0956['HdQjY']){fs['unlinkSync'](_0x1535ba);throw _0x436360;}else{let _0x282dcc={};return _0x4688be[_0x2675c1(0xb3)](_0x4ee649,_0x582a2d=>{const _0x38677c=_0x2675c1;_0x282dcc=_0x224a59[_0x38677c(0x1a1)]({},_0x282dcc,_0x582a2d);}),_0x282dcc;}});});},'getCertificateInfoFromFile':(_0x2eaf4b,_0x34d7af)=>{const _0x449400=_0x2977b2,_0x33fa4d={'ZLxEQ':_0x449400(0x153),'xhDdG':function(_0x4deaaf,_0x26bdde){return _0x4deaaf+_0x26bdde;},'xCebZ':_0x449400(0x174),'wTanI':_0x449400(0x99),'QmUHt':_0x449400(0x248),'FTGOo':_0x449400(0x1d4),'UsEMe':function(_0xa49fb0,_0x3aad3f){return _0xa49fb0===_0x3aad3f;},'REZvP':_0x449400(0x282),'eGICU':function(_0x53dbbf,_0xe110d8){return _0x53dbbf||_0xe110d8;},'QeWPt':_0x449400(0xb1),'VfYDO':function(_0x5a9939,_0x42ff7e){return _0x5a9939<_0x42ff7e;},'vkWpo':function(_0x462108,_0x50a1ef,_0x4c3b5a){return _0x462108(_0x50a1ef,_0x4c3b5a);},'AAIZO':function(_0x512064){return _0x512064();},'Fneki':function(_0x1af40e,_0x2bbea6){return _0x1af40e!==_0x2bbea6;},'xRria':_0x449400(0x263),'mHsJc':_0x449400(0x22b),'cXGxT':_0x449400(0x196),'yWXqA':function(_0x29209d,_0x5ce98e){return _0x29209d+_0x5ce98e;},'EHwRe':function(_0x50c03d,_0x39b731){return _0x50c03d+_0x39b731;},'qhjBS':_0x449400(0x93),'NuGyP':'\x20-subject\x20-noout'};let _0x4f4e0e={};return utils[_0x449400(0x1df)](_0x33fa4d[_0x449400(0x21f)](_0x33fa4d[_0x449400(0x155)](_0x33fa4d[_0x449400(0x1ab)],_0x2eaf4b),_0x33fa4d['NuGyP']))['then'](_0x321efa=>{const _0x3524dc=_0x449400,_0x5591de=/(?:subject=)?[^=]+=\s+(\S+)/gim,_0x3fe328=_0x5591de[_0x3524dc(0x1df)](_0x321efa);if(typeof _0x3fe328[0x1]==='undefined')throw new error['ValidationError'](_0x33fa4d[_0x3524dc(0x296)]+_0x321efa);_0x4f4e0e['cn']=_0x3fe328[0x1];})['then'](()=>{const _0x199014=_0x449400;return utils[_0x199014(0x1df)]('openssl\x20x509\x20-in\x20'+_0x2eaf4b+'\x20-issuer\x20-noout');})['then'](_0x5c31eb=>{const _0x43e254=_0x449400,_0x360463=/^(?:issuer=)?(.*)$/gim,_0x1fa80d=_0x360463[_0x43e254(0x1df)](_0x5c31eb);if(typeof _0x1fa80d[0x1]===_0x43e254(0x1f5))throw new error[(_0x43e254(0x169))](_0x33fa4d['xhDdG'](_0x33fa4d[_0x43e254(0x141)],_0x5c31eb));_0x4f4e0e[_0x33fa4d['wTanI']]=_0x1fa80d[0x1];})[_0x449400(0x22d)](()=>{const _0xfeda07=_0x449400;return utils[_0xfeda07(0x1df)](_0x33fa4d[_0xfeda07(0x212)]('openssl\x20x509\x20-in\x20'+_0x2eaf4b,_0x33fa4d[_0xfeda07(0xcd)]));})[_0x449400(0x22d)](_0x5dedfd=>{const _0x1e1cdb=_0x449400,_0x508b43={'PMAhB':_0x1e1cdb(0x12d)};let _0x63e486=null,_0x21799c=null;const _0xf06c4b=_0x5dedfd[_0x1e1cdb(0x12a)]('\x0a');_0xf06c4b['map'](function(_0x262b17){const _0x206aec=_0x1e1cdb,_0xa23c58=/^(\S+)=(.*)$/gim,_0x39748a=_0xa23c58[_0x206aec(0x1df)](_0x262b17['trim']());if(_0x39748a&&typeof _0x39748a[0x2]!=='undefined'){const _0x2892cb=parseInt(moment(_0x39748a[0x2],_0x33fa4d[_0x206aec(0x1e4)])['format']('X'),0xa);if(_0x33fa4d[_0x206aec(0x182)](_0x39748a[0x1]['toLowerCase'](),_0x206aec(0xd8)))_0x63e486=_0x2892cb;else _0x39748a[0x1][_0x206aec(0xe9)]()===_0x33fa4d[_0x206aec(0x130)]&&(_0x21799c=_0x2892cb);}});if(_0x33fa4d[_0x1e1cdb(0x295)](!_0x63e486,!_0x21799c))throw new error[(_0x1e1cdb(0x169))](_0x33fa4d['QeWPt']+_0x5dedfd);if(_0x34d7af&&_0x33fa4d['VfYDO'](_0x21799c,_0x33fa4d[_0x1e1cdb(0x28c)](parseInt,_0x33fa4d[_0x1e1cdb(0x160)](moment)['format']('X'),0xa))){if(_0x33fa4d[_0x1e1cdb(0x198)](_0x33fa4d[_0x1e1cdb(0x16c)],_0x33fa4d[_0x1e1cdb(0x24d)]))throw new error['ValidationError'](_0x1e1cdb(0x113));else return _0x253995[_0x1e1cdb(0x112)](_0x59a20a,{'action':_0x508b43['PMAhB'],'object_type':_0x1e1cdb(0x25d),'object_id':_0xf0b9bf['id'],'meta':_0x4dd548})[_0x1e1cdb(0x22d)](()=>{return _0x328b87;});}return _0x4f4e0e[_0x33fa4d[_0x1e1cdb(0xda)]]={'from':_0x63e486,'to':_0x21799c},_0x4f4e0e;})[_0x449400(0xb0)](_0x5ea6e8=>{const _0x1ac210=_0x449400;throw new error[(_0x1ac210(0x169))](_0x33fa4d[_0x1ac210(0x21f)]('Certificate\x20is\x20not\x20valid\x20(',_0x5ea6e8[_0x1ac210(0x18c)])+')',_0x5ea6e8);});},'cleanMeta':function(_0x5ee782,_0x5974a8){const _0x21e86e=_0x2977b2,_0x144f21={'vMntJ':_0x21e86e(0x159)};return internalCertificate[_0x21e86e(0x161)]['map'](_0xe9217=>{const _0x42fb55=_0x21e86e;if(typeof _0x5ee782[_0xe9217]!==_0x42fb55(0x1f5)&&_0x5ee782[_0xe9217]){if(_0x144f21[_0x42fb55(0xd2)]==='brZaL'){let _0xad6187=_0x1fd807[_0x42fb55(0x20d)](_0x5ef44e);_0x1fc9df['debug'](_0x192870,_0x42fb55(0x211)),_0x569200['file'](_0x5f51a8,{'name':_0xad6187});}else _0x5974a8?delete _0x5ee782[_0xe9217]:_0x5ee782[_0xe9217]=!![];}}),_0x5ee782;},'requestLetsEncryptSsl':_0x30cc72=>{const _0xe1373d=_0x2977b2,_0x5c0a79={'SzSnj':function(_0x312593,_0x462cd9){return _0x312593+_0x462cd9;},'gLiGR':_0xe1373d(0xbb),'xOTQd':function(_0xf33bb8,_0x2f1fc2){return _0xf33bb8+_0x2f1fc2;},'LLfIT':function(_0x5399d3,_0x1b8fa6){return _0x5399d3+_0x1b8fa6;},'AzVgM':function(_0x3db662,_0x143ad6){return _0x3db662+_0x143ad6;},'NZNrL':function(_0x566c9b,_0x4bf9cf){return _0x566c9b+_0x4bf9cf;},'pirfn':function(_0x226ed9,_0x3e6848){return _0x226ed9+_0x3e6848;},'nkYDj':function(_0x5c8809,_0x8ba6b5){return _0x5c8809+_0x8ba6b5;},'kwqOc':function(_0x1b9a94,_0x531e97){return _0x1b9a94+_0x531e97;},'CMURe':_0xe1373d(0x218),'iRRpd':_0xe1373d(0x22f),'ZwGNS':'--authenticator\x20webroot\x20','WdnhV':_0xe1373d(0x28d),'NGoyd':_0xe1373d(0x20b)};logger[_0xe1373d(0x262)](_0x5c0a79[_0xe1373d(0x258)](_0x5c0a79['SzSnj'](_0x5c0a79[_0xe1373d(0x189)],_0x30cc72['id']),':\x20')+_0x30cc72[_0xe1373d(0x254)][_0xe1373d(0x181)](',\x20'));const _0x341452=_0x5c0a79[_0xe1373d(0x280)](_0x5c0a79[_0xe1373d(0x1ad)](_0x5c0a79[_0xe1373d(0x280)](_0x5c0a79['AzVgM'](_0x5c0a79[_0xe1373d(0x1ad)](_0x5c0a79[_0xe1373d(0x101)](_0x5c0a79[_0xe1373d(0x97)](_0x5c0a79[_0xe1373d(0xb8)](_0x5c0a79[_0xe1373d(0xab)](certbotCommand+_0xe1373d(0x16b)+_0xe1373d(0x1c5)+letsencryptConfig,'\x22\x20'),_0xe1373d(0x256))+_0x5c0a79[_0xe1373d(0x245)]+_0xe1373d(0x175),_0x30cc72['id'])+'\x22\x20'+_0x5c0a79[_0xe1373d(0x1d7)],_0x5c0a79[_0xe1373d(0x8d)])+_0x5c0a79[_0xe1373d(0x187)],_0x30cc72[_0xe1373d(0x156)]['letsencrypt_email'])+'\x22\x20'+_0x5c0a79[_0xe1373d(0x16a)],'--domains\x20\x22'),_0x30cc72[_0xe1373d(0x254)][_0xe1373d(0x181)](',')),'\x22\x20'),letsencryptStaging?_0xe1373d(0x268):'');return logger[_0xe1373d(0x262)](_0xe1373d(0x157),_0x341452),utils[_0xe1373d(0x1df)](_0x341452)[_0xe1373d(0x22d)](_0x223d9b=>{return logger['success'](_0x223d9b),_0x223d9b;});},'requestLetsEncryptSslWithDnsChallenge':async _0xefd2f=>{const _0x574971=_0x2977b2,_0x310e1b={'IJaHm':function(_0x2f99ac,_0x1a2dc4){return _0x2f99ac+_0x1a2dc4;},'YNQXM':_0x574971(0x17e),'XaNvY':_0x574971(0x151),'WAlwR':function(_0x3541f5,_0x2a98bf){return _0x3541f5+_0x2a98bf;},'oyuUo':function(_0x4d4bd3,_0x5bba71){return _0x4d4bd3+_0x5bba71;},'hCSkY':function(_0x5dd35a,_0x109409){return _0x5dd35a+_0x109409;},'BlnVx':function(_0x987575,_0x39d473){return _0x987575+_0x39d473;},'PKIKT':function(_0x3780cf,_0x2a8043){return _0x3780cf+_0x2a8043;},'WGQDp':function(_0xc4774d,_0x5ea55c){return _0xc4774d+_0x5ea55c;},'QDqkg':function(_0x5e111b,_0x4f8327){return _0x5e111b+_0x4f8327;},'eRBWb':function(_0x80029d,_0x43b150){return _0x80029d+_0x43b150;},'fHpAY':function(_0xd41c6,_0x58fc1d){return _0xd41c6+_0x58fc1d;},'NNhBV':_0x574971(0x16b),'kbKfj':_0x574971(0x1c5),'YVwiB':_0x574971(0x22f),'OzmlT':_0x574971(0x117),'BKrRV':'--authenticator\x20','roNSn':function(_0x36f787,_0x1f5866){return _0x36f787+_0x1f5866;},'PMwNk':function(_0x4f826e,_0x29cc4b){return _0x4f826e+_0x29cc4b;},'mLyul':function(_0x415f55,_0x4985e8){return _0x415f55!==_0x4985e8;},'SoHKk':function(_0x561372,_0x59ab1d){return _0x561372+_0x59ab1d;},'juefa':function(_0x2b5687,_0x14b43a){return _0x2b5687+_0x14b43a;},'MskzV':function(_0xae1d53,_0x11a857){return _0xae1d53+_0x11a857;},'JwjOi':function(_0x5c2a20,_0x486fb4){return _0x5c2a20===_0x486fb4;},'weroQ':_0x574971(0x272),'oCSJQ':_0x574971(0x157)};await certbot[_0x574971(0x1e6)](_0xefd2f[_0x574971(0x156)][_0x574971(0x288)]);const _0x322d0c=dnsPlugins[_0xefd2f[_0x574971(0x156)][_0x574971(0x288)]];logger['info'](_0x574971(0x176)+_0x322d0c[_0x574971(0x193)]+_0x574971(0x143)+_0xefd2f['id']+':\x20'+_0xefd2f[_0x574971(0x254)][_0x574971(0x181)](',\x20'));const _0x5b543e=_0x310e1b[_0x574971(0xfa)]('/etc/letsencrypt/credentials/credentials-',_0xefd2f['id']);fs[_0x574971(0x1b6)](_0x310e1b['YNQXM'],{'recursive':!![]}),fs['writeFileSync'](_0x5b543e,_0xefd2f[_0x574971(0x156)][_0x574971(0x27b)],{'mode':0x180});const _0x1e42e1=_0xefd2f['meta']['dns_provider']!==_0x310e1b[_0x574971(0x1fc)];let _0xdc4436=_0x310e1b[_0x574971(0x264)](_0x310e1b['oyuUo'](_0x310e1b[_0x574971(0x94)](_0x310e1b[_0x574971(0x125)](_0x310e1b[_0x574971(0x125)](_0x310e1b[_0x574971(0xfa)](_0x310e1b[_0x574971(0x1f1)](_0x310e1b[_0x574971(0xe4)](_0x310e1b[_0x574971(0x9c)](_0x310e1b[_0x574971(0x1ec)](_0x310e1b['eRBWb'](_0x310e1b[_0x574971(0x1b1)](certbotCommand,_0x310e1b['NNhBV']),_0x310e1b[_0x574971(0x1c2)])+letsencryptConfig+'\x22\x20'+_0x574971(0x256),'--logs-dir\x20\x22/tmp/letsencrypt-log\x22\x20')+_0x574971(0x175),_0xefd2f['id']),'\x22\x20')+_0x310e1b[_0x574971(0x16f)],_0x574971(0x28d)),_0xefd2f[_0x574971(0x156)][_0x574971(0x17b)])+'\x22\x20',_0x310e1b[_0x574971(0x1cd)])+_0xefd2f[_0x574971(0x254)]['join'](',')+'\x22\x20'+_0x310e1b['BKrRV'],_0x322d0c[_0x574971(0x297)])+'\x20',_0x1e42e1?_0x310e1b[_0x574971(0x241)](_0x310e1b[_0x574971(0xc6)]('--'+_0x322d0c[_0x574971(0x297)],_0x574971(0x1c9))+_0x5b543e,'\x22'):''),_0x310e1b[_0x574971(0x26a)](_0xefd2f[_0x574971(0x156)][_0x574971(0x1ed)],undefined)?_0x310e1b['SoHKk'](_0x310e1b[_0x574971(0x1e9)](_0x574971(0xc1)+_0x322d0c[_0x574971(0x297)],_0x574971(0x27a)),_0xefd2f['meta'][_0x574971(0x1ed)]):''),letsencryptStaging?_0x574971(0x17f):'');_0xefd2f['meta'][_0x574971(0x288)]==='route53'&&(_0xdc4436=_0x310e1b[_0x574971(0x13e)](_0x310e1b['oyuUo'](_0x574971(0x17c),_0x5b543e)+'\x27\x20',_0xdc4436));_0x310e1b[_0x574971(0x147)](_0xefd2f[_0x574971(0x156)]['dns_provider'],_0x574971(0x24a))&&(_0xdc4436=_0xdc4436+_0x310e1b['weroQ']);logger['info'](_0x310e1b[_0x574971(0xa3)],_0xdc4436);try{const _0xce4114=await utils[_0x574971(0x1df)](_0xdc4436);return logger[_0x574971(0x262)](_0xce4114),_0xce4114;}catch(_0x3a54ff){fs[_0x574971(0x19d)](_0x5b543e,()=>{});throw _0x3a54ff;}},'renew':(_0x160692,_0x2c98ab)=>{const _0x2c7ee2=_0x2977b2,_0x1d6426={'bkzAZ':function(_0x583d8a,_0x168958){return _0x583d8a+_0x168958;},'CatAr':function(_0x230884,_0x6c2361){return _0x230884+_0x6c2361;},'OJicD':'/etc/letsencrypt/live/npm-','YMguF':function(_0x385f3d,_0xe275ab,_0x4e9a7c){return _0x385f3d(_0xe275ab,_0x4e9a7c);},'okIOp':_0x2c7ee2(0x1fb),'YPpoO':_0x2c7ee2(0xef),'punlr':_0x2c7ee2(0x25d),'CiFDL':function(_0x154e9c,_0x376168){return _0x154e9c!==_0x376168;},'wTTzm':_0x2c7ee2(0x162),'ynhWG':function(_0x2dc141,_0x410ced){return _0x2dc141===_0x410ced;},'myCAG':_0x2c7ee2(0x1cf),'WkghX':function(_0x4b63f8,_0x300e5b){return _0x4b63f8(_0x300e5b);},'EsqlZ':'certificates:update'};return _0x160692['can'](_0x1d6426[_0x2c7ee2(0xc8)],_0x2c98ab)[_0x2c7ee2(0x22d)](()=>{const _0x53180a=_0x2c7ee2;return internalCertificate[_0x53180a(0x27f)](_0x160692,_0x2c98ab);})[_0x2c7ee2(0x22d)](_0x1450b0=>{const _0x3db1e5=_0x2c7ee2,_0xcf8d56={'MCmVp':_0x1d6426[_0x3db1e5(0x253)],'AcrJV':function(_0x2eb039,_0x3ff61e){return _0x2eb039!==_0x3ff61e;},'OBpGh':'renewed','LKADq':_0x1d6426[_0x3db1e5(0x1f7)]};if(_0x1d6426[_0x3db1e5(0x11b)](_0x3db1e5(0x162),_0x1d6426['wTTzm'])){if(_0x19e1b4[_0x3db1e5(0x227)]===_0xcf8d56[_0x3db1e5(0x1e8)])return _0x1d0962['revokeLetsEncryptSsl'](_0x4a368c);}else{if(_0x1d6426[_0x3db1e5(0x13a)](_0x1450b0[_0x3db1e5(0x227)],_0x3db1e5(0xef))){if(_0x3db1e5(0x11e)!==_0x1d6426[_0x3db1e5(0x1d2)]){const _0x1bdf81=_0x1450b0['meta'][_0x3db1e5(0x105)]?internalCertificate[_0x3db1e5(0x109)]:internalCertificate['renewLetsEncryptSsl'];return _0x1d6426[_0x3db1e5(0x95)](_0x1bdf81,_0x1450b0)[_0x3db1e5(0x22d)](()=>{const _0x153879=_0x3db1e5;return internalCertificate[_0x153879(0x1e3)](_0x1d6426[_0x153879(0x18f)](_0x1d6426[_0x153879(0x252)](_0x1d6426[_0x153879(0x222)],_0x1450b0['id']),_0x153879(0x289)));})['then'](_0x4883c5=>{const _0xcee1d5=_0x3db1e5;return certificateModel[_0xcee1d5(0x11a)]()[_0xcee1d5(0x180)](_0x1450b0['id'],{'expires_on':_0x1d6426['YMguF'](moment,_0x4883c5[_0xcee1d5(0x196)]['to'],'X')['format'](_0x1d6426[_0xcee1d5(0x1d8)])});})[_0x3db1e5(0x22d)](_0xcbcc0c=>{const _0x2a9f90=_0x3db1e5,_0x3f4107={'ZpmTp':function(_0x4a93c4,_0x16ffa9){const _0x110ed8=_0x568e;return _0xcf8d56[_0x110ed8(0x214)](_0x4a93c4,_0x16ffa9);},'gBUbl':_0x2a9f90(0xe2)};return internalAuditLog[_0x2a9f90(0x112)](_0x160692,{'action':_0xcf8d56[_0x2a9f90(0xa5)],'object_type':_0xcf8d56[_0x2a9f90(0x179)],'object_id':_0xcbcc0c['id'],'meta':_0xcbcc0c})[_0x2a9f90(0x22d)](()=>{const _0x26e054=_0x2a9f90;return _0x3f4107[_0x26e054(0x14f)](_0x26e054(0x277),_0x3f4107[_0x26e054(0xed)])?_0xcbcc0c:(_0x89c871['info'](_0x26e054(0x114)+_0x9d3ae6+_0x26e054(0x24e)+_0x26e269['responsecode']+_0x26e054(0x185)),_0x26e054(0x243)+_0x486c94[_0x26e054(0x236)]);});});}else _0x556ce8[_0x3db1e5(0x156)][_0x5aa76f]=_0x1486cf[_0x3db1e5(0x259)]['toString']();}else throw new error[(_0x3db1e5(0x169))](_0x3db1e5(0x158));}});},'renewLetsEncryptSsl':_0x2272b8=>{const _0x363dab=_0x2977b2,_0x5f0138={'ZQBJr':function(_0x4f3a63,_0x44b91d){return _0x4f3a63+_0x44b91d;},'GLGdm':function(_0x21e5ae,_0x1c244b){return _0x21e5ae+_0x1c244b;},'QJQVk':_0x363dab(0x22e),'mjUWT':function(_0x1a1926,_0x45da63){return _0x1a1926+_0x45da63;},'ELJzd':'\x20renew\x20--force-renewal\x20','lCOjG':'--logs-dir\x20\x22/tmp/letsencrypt-log\x22\x20','xxKVX':_0x363dab(0x20b),'gJZUY':_0x363dab(0x8c),'OtClU':'Command:'};logger[_0x363dab(0x262)](_0x5f0138[_0x363dab(0x221)](_0x5f0138['GLGdm'](_0x5f0138[_0x363dab(0x138)]+_0x2272b8['id'],':\x20'),_0x2272b8[_0x363dab(0x254)][_0x363dab(0x181)](',\x20')));const _0x139744=_0x5f0138[_0x363dab(0x1ae)](_0x5f0138['ZQBJr'](_0x5f0138[_0x363dab(0x221)](_0x5f0138[_0x363dab(0x221)](_0x5f0138[_0x363dab(0x12b)](_0x5f0138[_0x363dab(0x221)](certbotCommand+_0x5f0138[_0x363dab(0xbc)],'--config\x20\x22'),letsencryptConfig),'\x22\x20')+_0x363dab(0x256),_0x5f0138['lCOjG'])+_0x363dab(0x175)+_0x2272b8['id']+'\x22\x20'+_0x5f0138[_0x363dab(0x284)],_0x5f0138[_0x363dab(0x107)])+'--disable-hook-validation\x20',letsencryptStaging?_0x363dab(0x268):'');return logger['info'](_0x5f0138[_0x363dab(0x1ea)],_0x139744),utils['exec'](_0x139744)[_0x363dab(0x22d)](_0x8bb22e=>{const _0x582e41=_0x363dab;return logger[_0x582e41(0x262)](_0x8bb22e),_0x8bb22e;});},'renewLetsEncryptSslWithDnsChallenge':_0x2a2ab4=>{const _0x1d4ee5=_0x2977b2,_0x4600ba={'DjeIl':function(_0x278a65,_0x5d7859){return _0x278a65(_0x5d7859);},'BiCMx':function(_0x5e3ca2,_0xf4aef6){return _0x5e3ca2+_0xf4aef6;},'dRMCc':function(_0x49a73d,_0x21127b){return _0x49a73d+_0x21127b;},'LZFCN':function(_0x48412d,_0x230d5e){return _0x48412d+_0x230d5e;},'krUeP':function(_0x294c5d,_0x3cc3ce){return _0x294c5d+_0x3cc3ce;},'wUlmb':_0x1d4ee5(0x20c),'SmclW':'--config\x20\x22','fRfrJ':'--work-dir\x20\x22/tmp/letsencrypt-lib\x22\x20','kGZaz':_0x1d4ee5(0x218),'ISjZK':'--cert-name\x20\x22npm-','qWwQs':_0x1d4ee5(0x17f),'AnvBy':function(_0x50b6ae,_0x2c5dbc){return _0x50b6ae===_0x2c5dbc;},'MhmKX':_0x1d4ee5(0x165)},_0x5f59a1=dnsPlugins[_0x2a2ab4[_0x1d4ee5(0x156)][_0x1d4ee5(0x288)]];if(!_0x5f59a1)throw _0x4600ba[_0x1d4ee5(0x230)](Error,_0x1d4ee5(0x215)+_0x2a2ab4['meta'][_0x1d4ee5(0x288)]+'\x27');logger['info']('Renewing\x20Let\x27sEncrypt\x20certificates\x20via\x20'+_0x5f59a1[_0x1d4ee5(0x193)]+_0x1d4ee5(0x143)+_0x2a2ab4['id']+':\x20'+_0x2a2ab4[_0x1d4ee5(0x254)]['join'](',\x20'));let _0x3077a7=_0x4600ba[_0x1d4ee5(0xc7)](_0x4600ba[_0x1d4ee5(0x25b)](_0x4600ba[_0x1d4ee5(0x247)](_0x4600ba['krUeP'](certbotCommand+_0x4600ba['wUlmb'],_0x4600ba['SmclW'])+letsencryptConfig,'\x22\x20')+_0x4600ba[_0x1d4ee5(0xad)]+_0x4600ba[_0x1d4ee5(0x1eb)],_0x4600ba['ISjZK'])+_0x2a2ab4['id'],'\x22\x20')+_0x1d4ee5(0xe8)+'--no-random-sleep-on-renew\x20'+(letsencryptStaging?_0x4600ba[_0x1d4ee5(0x287)]:'');if(_0x4600ba[_0x1d4ee5(0x118)](_0x2a2ab4[_0x1d4ee5(0x156)][_0x1d4ee5(0x288)],_0x1d4ee5(0x151))){const _0x187ce9=_0x4600ba['dRMCc'](_0x4600ba[_0x1d4ee5(0x23d)],_0x2a2ab4['id']);_0x3077a7=_0x4600ba['LZFCN'](_0x4600ba['krUeP']('AWS_CONFIG_FILE=\x27',_0x187ce9),'\x27\x20')+_0x3077a7;}return logger['info'](_0x1d4ee5(0x157),_0x3077a7),utils[_0x1d4ee5(0x1df)](_0x3077a7)[_0x1d4ee5(0x22d)](async _0x3ce146=>{return logger['info'](_0x3ce146),_0x3ce146;});},'revokeLetsEncryptSsl':(_0x36c0cf,_0x42775c)=>{const _0x16c38a=_0x2977b2,_0x317233={'hxQnx':function(_0x2e3cd4,_0x275a8b){return _0x2e3cd4===_0x275a8b;},'hnxXI':'bbcar','xjCJc':function(_0x10454a,_0x317301){return _0x10454a!==_0x317301;},'jXdXU':_0x16c38a(0x15c),'VnvEg':function(_0x19c373,_0x46101b){return _0x19c373+_0x46101b;},'gEgOK':function(_0x5aeb88,_0x4544ec){return _0x5aeb88+_0x4544ec;},'gfVlb':_0x16c38a(0x98),'DYSrt':_0x16c38a(0x218),'vyWTs':'/fullchain.pem\x22\x20','HpYGA':_0x16c38a(0x134),'jnfoR':_0x16c38a(0x268)};logger[_0x16c38a(0x262)](_0x16c38a(0x9b)+_0x36c0cf['id']+':\x20'+_0x36c0cf['domain_names'][_0x16c38a(0x181)](',\x20'));const _0x3841d7=_0x317233['VnvEg'](_0x317233[_0x16c38a(0xeb)](certbotCommand+_0x317233[_0x16c38a(0xc0)]+'--config\x20\x22'+letsencryptConfig+'\x22\x20'+'--work-dir\x20\x22/tmp/letsencrypt-lib\x22\x20',_0x317233['DYSrt'])+_0x16c38a(0x26b),_0x36c0cf['id'])+_0x317233[_0x16c38a(0x104)]+_0x317233[_0x16c38a(0x1d9)]+(letsencryptStaging?_0x317233[_0x16c38a(0xd0)]:''),_0x5ca8b6=_0x16c38a(0x171)+_0x36c0cf['id']+_0x16c38a(0xe5);return logger[_0x16c38a(0x262)](_0x16c38a(0x157),_0x317233[_0x16c38a(0x23a)](_0x3841d7,';\x20')+_0x5ca8b6),utils['exec'](_0x3841d7)[_0x16c38a(0x22d)](async _0xfeeb64=>{const _0xbee980=_0x16c38a;return _0x317233[_0xbee980(0xd1)]('JdIze',_0x317233[_0xbee980(0x13f)])?_0x3013b8['get'](_0x15b081,{'id':_0x5bb065['id']}):(await utils['exec'](_0x5ca8b6),logger[_0xbee980(0x262)](_0xfeeb64),_0xfeeb64);})[_0x16c38a(0xb0)](_0x1cc4e7=>{const _0x3de0d5=_0x16c38a;logger[_0x3de0d5(0x232)](_0x1cc4e7[_0x3de0d5(0x18c)]);if(_0x42775c){if(_0x317233[_0x3de0d5(0x1d6)](_0x317233['jXdXU'],_0x3de0d5(0x15c)))_0x363dce['warn'](_0x3de0d5(0x1e7)+_0x1302e5,_0x5b5e31),_0x2f9771(_0x45609f);else throw _0x1cc4e7;}});},'hasLetsEncryptSslCerts':_0x1cb068=>{const _0x8c6235=_0x2977b2,_0x21de32={'XxTWk':function(_0x5d31c6,_0x10427f){return _0x5d31c6+_0x10427f;},'DiAxH':function(_0xf43f71,_0x1fefc0){return _0xf43f71+_0x1fefc0;},'apBPx':'/privkey.pem'},_0x1c6b1b=_0x21de32[_0x8c6235(0x166)](_0x8c6235(0x1b0),_0x1cb068['id']);return fs['existsSync'](_0x21de32[_0x8c6235(0x166)](_0x1c6b1b,'/fullchain.pem'))&&fs[_0x8c6235(0x188)](_0x21de32[_0x8c6235(0x201)](_0x1c6b1b,_0x21de32[_0x8c6235(0x260)]));},'disableInUseHosts':_0x766fe3=>{const _0x5b9bd8=_0x2977b2,_0x5b455a={'Xsncv':'proxy_host','qaOHn':_0x5b9bd8(0x207)};if(_0x766fe3[_0x5b9bd8(0x149)]){let _0x497555=[];return _0x766fe3[_0x5b9bd8(0x1f3)][_0x5b9bd8(0xd5)]&&_0x497555[_0x5b9bd8(0x205)](internalNginx[_0x5b9bd8(0x1c6)](_0x5b455a['Xsncv'],_0x766fe3[_0x5b9bd8(0x1f3)])),_0x766fe3[_0x5b9bd8(0x228)]['length']&&_0x497555[_0x5b9bd8(0x205)](internalNginx['bulkDeleteConfigs'](_0x5b455a['qaOHn'],_0x766fe3['redirection_hosts'])),_0x766fe3[_0x5b9bd8(0x15e)]['length']&&_0x497555[_0x5b9bd8(0x205)](internalNginx[_0x5b9bd8(0x1c6)]('dead_host',_0x766fe3[_0x5b9bd8(0x15e)])),Promise['all'](_0x497555);}else return Promise[_0x5b9bd8(0x27e)]();},'enableInUseHosts':_0xb98f7f=>{const _0x226a11=_0x2977b2,_0x437ace={'Wtzrx':'Let\x27s\x20Encrypt\x20Renewal\x20Timer\x20initialized','yxQLs':_0x226a11(0xfe),'VViCt':'kZByl','jMmhM':_0x226a11(0x207),'vuCzL':function(_0x4d05df,_0x2f0d78){return _0x4d05df===_0x2f0d78;},'TWJVJ':_0x226a11(0x298)};if(_0xb98f7f[_0x226a11(0x149)]){let _0x38904a=[];return _0xb98f7f[_0x226a11(0x1f3)][_0x226a11(0xd5)]&&_0x38904a['push'](internalNginx[_0x226a11(0x122)](_0x437ace[_0x226a11(0x257)],_0xb98f7f[_0x226a11(0x1f3)])),_0xb98f7f['redirection_hosts'][_0x226a11(0xd5)]&&(_0x437ace[_0x226a11(0x13b)]!==_0x226a11(0x22c)?_0x38904a['push'](internalNginx['bulkGenerateConfigs'](_0x437ace['jMmhM'],_0xb98f7f['redirection_hosts'])):(_0x2b03fe[_0x226a11(0x262)](_0x437ace[_0x226a11(0x271)]),_0x11fc47['interval']=_0x55f41a(_0x14f11b['processExpiringHosts'],_0x5cc607[_0x226a11(0x150)]),_0x2f92a0[_0x226a11(0xf7)]())),_0xb98f7f[_0x226a11(0x15e)][_0x226a11(0xd5)]&&(_0x437ace[_0x226a11(0x12f)](_0x226a11(0x298),_0x437ace[_0x226a11(0x25f)])?_0x38904a['push'](internalNginx[_0x226a11(0x122)](_0x226a11(0x20a),_0xb98f7f[_0x226a11(0x15e)])):(_0x16a069[_0x226a11(0x232)](_0x5ba9b3),_0x3131d2[_0x226a11(0x1f9)]=![])),Promise['all'](_0x38904a);}else return Promise['resolve']();},'testHttpsChallenge':async(_0x1a8697,_0x36763a)=>{const _0x40f041=_0x2977b2,_0x46b7d7={'xDOHD':function(_0x345204,_0x1b9daa){return _0x345204+_0x1b9daa;},'yvJYm':function(_0xcc9324,_0x27858c){return _0xcc9324(_0x27858c);},'CsPuk':_0x40f041(0x15b),'KWqYu':_0x40f041(0x21a),'lEWEV':_0x40f041(0x190),'eJyWP':function(_0x494411,_0x37ea0a){return _0x494411===_0x37ea0a;},'pVCqo':_0x40f041(0x18b),'NUPdn':_0x40f041(0xa7),'XodyY':'string','tMwMi':_0x40f041(0x1d0),'aydZY':function(_0x53183e,_0x11a935){return _0x53183e(_0x11a935);},'TGTEY':'/data/letsencrypt-acme-challenge/.well-known/acme-challenge','zhkQN':function(_0x24f90d,_0x359433){return _0x24f90d+_0x359433;},'IUlNM':_0x40f041(0x1f6),'UzEpa':'utf8','KgtcH':_0x40f041(0x1a7)};await _0x1a8697[_0x40f041(0x220)](_0x40f041(0xfb));if(!_0x46b7d7[_0x40f041(0x135)](isArray,_0x36763a))throw new error[(_0x40f041(0x9d))](_0x40f041(0x1a8));if(_0x36763a[_0x40f041(0xd5)]===0x0)throw new error[(_0x40f041(0x9d))]('No\x20domains\x20provided');const _0xe6c34c=_0x46b7d7[_0x40f041(0xb2)],_0x49f101=_0x46b7d7[_0x40f041(0xa4)](_0xe6c34c,'/test-challenge');fs[_0x40f041(0x1b6)](_0xe6c34c,{'recursive':!![]}),fs[_0x40f041(0x26d)](_0x49f101,_0x46b7d7['IUlNM'],{'encoding':_0x46b7d7[_0x40f041(0x293)]});async function _0x2067d3(_0x52bb0a){const _0x10af69=_0x40f041;logger[_0x10af69(0x262)](_0x46b7d7[_0x10af69(0xf1)]('Testing\x20http\x20challenge\x20for\x20',_0x52bb0a));const _0x35e785=_0x10af69(0xb9)+_0x52bb0a+_0x10af69(0x1dc),_0x15ff07='method=G&url='+_0x46b7d7[_0x10af69(0xf6)](encodeURI,_0x35e785)+'&bodytype=T&requestbody=&headername=User-Agent&headervalue=None&locationid=1&ch=false&cc=false',_0x4382ed={'method':'POST','headers':{'User-Agent':_0x46b7d7['CsPuk'],'Content-Type':_0x46b7d7[_0x10af69(0x192)],'Content-Length':Buffer['byteLength'](_0x15ff07)}},_0x3f7a03=await new Promise(_0x239108=>{const _0x3f8633=_0x10af69,_0x3f63f1={'rmxEK':_0x3f8633(0x121),'mhmQs':_0x3f8633(0x259)},_0x372ef7=https[_0x3f8633(0x225)](_0x3f8633(0x23e),_0x4382ed,function(_0x39c4ce){const _0x5529fb=_0x3f8633,_0x50e7da={'kdZiQ':function(_0x3aba58,_0x3b2cd1){return _0x3aba58!==_0x3b2cd1;},'Bebor':_0x3f63f1[_0x5529fb(0xe0)],'QqBtX':function(_0x2cf3de,_0x536c8a){return _0x2cf3de===_0x536c8a;},'dSuQY':function(_0x474270,_0x4c2046){return _0x474270(_0x4c2046);}};let _0x2953e7='';_0x39c4ce['on'](_0x3f63f1['mhmQs'],_0xdb2edf=>_0x2953e7=_0x2953e7+_0xdb2edf),_0x39c4ce['on'](_0x5529fb(0x16e),function(){const _0xaa83f8=_0x5529fb;if(_0x50e7da['kdZiQ'](_0xaa83f8(0x121),_0x50e7da[_0xaa83f8(0x12c)]))return _0x3a2c19(_0xc5b45,_0xaa83f8(0x1a5))[_0xaa83f8(0x22d)](_0x509cf0=>{const _0x15e198=_0xaa83f8;return _0x3859cd[_0x15e198(0x1e3)](_0x509cf0,_0x10ad57)[_0x15e198(0x22d)](_0xf58ad5=>{const _0x35244a=_0x15e198;return _0x2d120c[_0x35244a(0x1d3)](_0x509cf0),_0xf58ad5;})[_0x15e198(0xb0)](_0x207af7=>{_0x376521['unlinkSync'](_0x509cf0);throw _0x207af7;});});else try{if(_0x50e7da[_0xaa83f8(0x139)](_0xaa83f8(0x19e),'qAmGW'))throw new _0x3ffd7a[(_0xaa83f8(0x169))](_0xaa83f8(0xdc));else{const _0xa4a337=JSON[_0xaa83f8(0x19c)](_0x2953e7+'');_0x50e7da['kdZiQ'](_0x39c4ce[_0xaa83f8(0xb4)],0xc8)?(logger['warn']('Failed\x20to\x20test\x20HTTP\x20challenge\x20for\x20domain\x20'+_0x52bb0a+_0xaa83f8(0x1a6)+_0x39c4ce[_0xaa83f8(0xb4)]+'\x20was\x20returned:\x20'+_0xa4a337['message']),_0x239108(undefined)):_0x50e7da[_0xaa83f8(0xc4)](_0x239108,_0xa4a337);}}catch(_0x2d2f86){_0x50e7da[_0xaa83f8(0x14b)](_0x39c4ce['statusCode'],0xc8)?logger['warn'](_0xaa83f8(0x1e7)+_0x52bb0a+_0xaa83f8(0x1a6)+_0x39c4ce[_0xaa83f8(0xb4)]+_0xaa83f8(0x185)):logger['warn'](_0xaa83f8(0x1e7)+_0x52bb0a+_0xaa83f8(0x25c)+_0x2d2f86['message']),_0x239108(undefined);}});});_0x372ef7['write'](_0x15ff07),_0x372ef7[_0x3f8633(0x16e)](),_0x372ef7['on'](_0x3f8633(0x232),function(_0x32ace7){const _0xee4a71=_0x3f8633;logger[_0xee4a71(0x24b)](_0xee4a71(0x1e7)+_0x52bb0a,_0x32ace7),_0x239108(undefined);});});if(!_0x3f7a03)return _0x46b7d7[_0x10af69(0x148)];else{if(_0x3f7a03[_0x10af69(0x232)])return logger[_0x10af69(0x262)](_0x10af69(0x114)+_0x52bb0a+_0x10af69(0x127)+_0x3f7a03[_0x10af69(0x232)][_0x10af69(0xf3)]),_0x10af69(0x243)+_0x3f7a03[_0x10af69(0x232)][_0x10af69(0xf3)];else{if(_0x46b7d7[_0x10af69(0x119)](''+_0x3f7a03[_0x10af69(0x236)],_0x46b7d7[_0x10af69(0x1f8)])&&_0x3f7a03['htmlresponse']==='Success')return'ok';else{if(_0x46b7d7[_0x10af69(0x119)](''+_0x3f7a03[_0x10af69(0x236)],_0x10af69(0x18b)))return logger[_0x10af69(0x262)]('HTTP\x20challenge\x20test\x20failed\x20for\x20domain\x20'+_0x52bb0a+_0x10af69(0x21c),_0x3f7a03[_0x10af69(0xdf)]),_0x10af69(0x10e);else{if(''+_0x3f7a03[_0x10af69(0x236)]===_0x46b7d7[_0x10af69(0x278)])return logger[_0x10af69(0x262)](_0x10af69(0x114)+_0x52bb0a+'\x20because\x20code\x20404\x20was\x20returned'),_0x46b7d7[_0x10af69(0x278)];else return''+_0x3f7a03['responsecode']==='0'||typeof _0x3f7a03[_0x10af69(0x184)]===_0x46b7d7[_0x10af69(0x17a)]&&_0x46b7d7['eJyWP'](_0x3f7a03['reason'][_0x10af69(0xe9)](),'host\x20unavailable')?(logger[_0x10af69(0x262)]('HTTP\x20challenge\x20test\x20failed\x20for\x20domain\x20'+_0x52bb0a+_0x10af69(0x164)),_0x10af69(0x1c0)):(logger['info'](_0x10af69(0x114)+_0x52bb0a+_0x10af69(0x24e)+_0x3f7a03[_0x10af69(0x236)]+_0x10af69(0x185)),_0x10af69(0x243)+_0x3f7a03[_0x10af69(0x236)]);}}}}}const _0xc82ee3={};for(const _0x218868 of _0x36763a){if(_0x46b7d7[_0x40f041(0x119)](_0x46b7d7['KgtcH'],_0x46b7d7[_0x40f041(0x25e)]))_0xc82ee3[_0x218868]=await _0x2067d3(_0x218868);else throw new _0x61e18e[(_0x40f041(0x275))](_0x46b7d7['xDOHD'](_0x46b7d7[_0x40f041(0x1b9)],_0x5bb0e9['nice_name'])+_0x40f041(0x19a));}return fs[_0x40f041(0x1d3)](_0x49f101),_0xc82ee3;}};function _0x568e(_0x111637,_0x234c51){const _0x341df3=_0x341d();return _0x568e=function(_0x568ebb,_0xa67ca5){_0x568ebb=_0x568ebb-0x8a;let _0x37cbe2=_0x341df3[_0x568ebb];return _0x37cbe2;},_0x568e(_0x111637,_0x234c51);}module[_0x2977b2(0x246)]=internalCertificate;