function _0x56c8(_0x104b87,_0x190365){const _0x5a0670=_0x5a06();return _0x56c8=function(_0x56c8be,_0x1365a2){_0x56c8be=_0x56c8be-0x7f;let _0x4d372d=_0x5a0670[_0x56c8be];return _0x4d372d;},_0x56c8(_0x104b87,_0x190365);}function _0x5a06(){const _0x1fb9bd=['camera_selector','tempFolder','oTAjN','ZcKcF','10UlfmRb','ivOcj','join','folder','1263408xHIeVM','1570494QkwClg','body','segment_duration','../../../utils/httpErrors','liveActivePing','createReadStream','error','4AYTbBq','../../../api/middlewares/asyncMiddleware','2572361ikRgix','6312026FmeKLe','25352KgzZGQ','stopStreaming','getImage','status','../../../utils/logger','1233OJcgEK','1320170yALBlr','send','1053364kDlRck','2EfWxuJ','is_gladys_gateway','startStreamingIfNotStarted','warn','params'];_0x5a06=function(){return _0x1fb9bd;};return _0x5a06();}const _0x506549=_0x56c8;(function(_0x583f37,_0x1c3056){const _0x557381=_0x56c8,_0x384442=_0x583f37();while(!![]){try{const _0x4ab4c8=-parseInt(_0x557381(0x83))/0x1*(parseInt(_0x557381(0x84))/0x2)+parseInt(_0x557381(0x91))/0x3+-parseInt(_0x557381(0x99))/0x4*(-parseInt(_0x557381(0x81))/0x5)+parseInt(_0x557381(0x92))/0x6+parseInt(_0x557381(0x9c))/0x7+-parseInt(_0x557381(0x9d))/0x8*(parseInt(_0x557381(0x80))/0x9)+parseInt(_0x557381(0x8d))/0xa*(parseInt(_0x557381(0x9b))/0xb);if(_0x4ab4c8===_0x1c3056)break;else _0x384442['push'](_0x384442['shift']());}catch(_0x39b508){_0x384442['push'](_0x384442['shift']());}}}(_0x5a06,0x9141b));const fs=require('fs'),path=require('path'),logger=require(_0x506549(0x7f)),{Error404}=require(_0x506549(0x95)),asyncMiddleware=require(_0x506549(0x9a));module['exports']=function RtspCameraController(_0x26c1c4,_0x148aa2){const _0x1b1fb1=_0x506549,_0x4bdaf2={'ivOcj':_0x1b1fb1(0x98),'oTAjN':'FILE_NOT_FOUND','ZcKcF':function(_0x3b40a5,_0x36eb8f){return _0x3b40a5(_0x36eb8f);}};async function _0x216ee4(_0x2bc251,_0x499a5c){const _0xa3214c=_0x1b1fb1,_0x2ab7ef=await _0x148aa2[_0xa3214c(0x9f)](_0x2bc251[_0xa3214c(0x93)]);_0x499a5c[_0xa3214c(0x82)](_0x2ab7ef);}async function _0x58db4d(_0x38004c,_0x5433a4){const _0x568513=_0x1b1fb1,_0x2a49d9=await _0x148aa2[_0x568513(0x86)](_0x38004c[_0x568513(0x88)][_0x568513(0x89)],_0x38004c[_0x568513(0x93)][_0x568513(0x85)],_0x38004c[_0x568513(0x93)][_0x568513(0x94)]);_0x5433a4['send'](_0x2a49d9);}async function _0x3aadec(_0x755fa9,_0x22790a){const _0xb350e0=_0x1b1fb1;await _0x148aa2[_0xb350e0(0x9e)](_0x755fa9['params'][_0xb350e0(0x89)]),_0x22790a[_0xb350e0(0x82)]({'success':!![]});}async function _0x1a4807(_0x55ae5d,_0x309c15){const _0xd8a535=_0x1b1fb1;await _0x148aa2[_0xd8a535(0x96)](_0x55ae5d[_0xd8a535(0x88)][_0xd8a535(0x89)]),_0x309c15['send']({'success':!![]});}async function _0x4cc993(_0x47258e,_0x2b2436){const _0x1ab5ea=_0x1b1fb1;try{const _0x57a2a8=path[_0x1ab5ea(0x8f)](_0x26c1c4['config'][_0x1ab5ea(0x8a)],_0x47258e[_0x1ab5ea(0x88)][_0x1ab5ea(0x90)],_0x47258e[_0x1ab5ea(0x88)]['file']),_0x58161f=fs[_0x1ab5ea(0x97)](_0x57a2a8);_0x58161f['on'](_0x4bdaf2[_0x1ab5ea(0x8e)],_0x334a1a=>{const _0x5c2e80=_0x1ab5ea;_0x2b2436[_0x5c2e80(0xa0)](0x194)['end']();}),_0x58161f['pipe'](_0x2b2436);}catch(_0x1ba037){logger[_0x1ab5ea(0x87)](_0x1ba037);throw new Error404(_0x4bdaf2[_0x1ab5ea(0x8b)]);}}return{'post\x20/api/v1/service/rtsp-camera/camera/test':{'authenticated':!![],'admin':!![],'controller':asyncMiddleware(_0x216ee4)},'post\x20/api/v1/service/rtsp-camera/camera/:camera_selector/streaming/start':{'authenticated':!![],'admin':![],'controller':asyncMiddleware(_0x58db4d)},'post\x20/api/v1/service/rtsp-camera/camera/:camera_selector/streaming/stop':{'authenticated':!![],'admin':![],'controller':_0x4bdaf2[_0x1b1fb1(0x8c)](asyncMiddleware,_0x3aadec)},'post\x20/api/v1/service/rtsp-camera/camera/:camera_selector/streaming/ping':{'authenticated':!![],'admin':![],'controller':_0x4bdaf2[_0x1b1fb1(0x8c)](asyncMiddleware,_0x1a4807)},'get\x20/api/v1/service/rtsp-camera/camera/streaming/:folder/:file':{'authenticated':!![],'admin':![],'controller':asyncMiddleware(_0x4cc993)}};};