const _0x3382a8=_0x1dea;function _0x1dea(_0x5224e5,_0x3044af){const _0x2997ce=_0x2997();return _0x1dea=function(_0x1deae5,_0x2c2c9d){_0x1deae5=_0x1deae5-0x14b;let _0x48a02a=_0x2997ce[_0x1deae5];return _0x48a02a;},_0x1dea(_0x5224e5,_0x3044af);}(function(_0x39ca4a,_0xbcbb1){const _0x48156d=_0x1dea,_0x628809=_0x39ca4a();while(!![]){try{const _0x1f7d0f=parseInt(_0x48156d(0x14e))/0x1*(parseInt(_0x48156d(0x167))/0x2)+parseInt(_0x48156d(0x151))/0x3*(parseInt(_0x48156d(0x161))/0x4)+-parseInt(_0x48156d(0x16b))/0x5*(-parseInt(_0x48156d(0x165))/0x6)+parseInt(_0x48156d(0x164))/0x7+-parseInt(_0x48156d(0x15e))/0x8+parseInt(_0x48156d(0x15d))/0x9+-parseInt(_0x48156d(0x155))/0xa*(parseInt(_0x48156d(0x14b))/0xb);if(_0x1f7d0f===_0xbcbb1)break;else _0x628809['push'](_0x628809['shift']());}catch(_0x4a721f){_0x628809['push'](_0x628809['shift']());}}}(_0x2997,0x75628));import{OAuthApps}from'@rocket.chat/models';import{isUpdateOAuthAppParams,isOauthAppsGetParams,isOauthAppsAddParams,isDeleteOAuthAppParams}from'@rocket.chat/rest-typings';import{hasPermissionAsync}from'../../../authorization/server/functions/hasPermission';import{apiDeprecationLogger}from'../../../lib/server/lib/deprecationWarningLogger';import{addOAuthApp}from'../../../oauth2-server-config/server/admin/functions/addOAuthApp';function _0x2997(){const _0x58ff5d=['iEsIv','toArray','78391rfcDDT','appId','userId','3dQUQWn','findOneAuthAppByIdOrClientId','7.0.0','success','40090LSsoEq','failure','oauth-apps.update','oauth-apps.get','response','oauth-apps.create','bodyParams','queryParams','8289756AqJcyy','5525728RJVUTY','kyDWH','oauth-apps.list','245416TWAhnl','addRoute','manage-oauth-apps','937314ClFImy','1555662QTnfmn','oauth-apps.delete','22zhIcLf','route','Wykvq','request','5jdlanC','find','2926lHRfII'];_0x2997=function(){return _0x58ff5d;};return _0x2997();}import{deleteOAuthApp}from'../../../oauth2-server-config/server/admin/methods/deleteOAuthApp';import{updateOAuthApp}from'../../../oauth2-server-config/server/admin/methods/updateOAuthApp';import{API}from'../api';API['v1'][_0x3382a8(0x162)](_0x3382a8(0x160),{'authRequired':!![],'permissionsRequired':[_0x3382a8(0x163)]},{async 'get'(){const _0x1b52bf=_0x3382a8;return API['v1'][_0x1b52bf(0x154)]({'oauthApps':await OAuthApps[_0x1b52bf(0x16c)]()[_0x1b52bf(0x14d)]()});}}),API['v1'][_0x3382a8(0x162)](_0x3382a8(0x158),{'authRequired':!![],'validateParams':isOauthAppsGetParams},{async 'get'(){const _0x348090=_0x3382a8,_0x277279={'Izyvw':function(_0x9a0c45,_0x3fd6d3,_0x57f577){return _0x9a0c45(_0x3fd6d3,_0x57f577);},'Wykvq':_0x348090(0x163),'iEsIv':_0x348090(0x14f),'iFCFB':_0x348090(0x153)},_0x37c41d=await _0x277279['Izyvw'](hasPermissionAsync,this[_0x348090(0x150)],_0x277279[_0x348090(0x169)]),_0x203707=await OAuthApps[_0x348090(0x152)](this[_0x348090(0x15c)],!_0x37c41d?{'projection':{'clientSecret':0x0}}:{});if(!_0x203707)return API['v1'][_0x348090(0x156)]('OAuth\x20app\x20not\x20found.');return _0x277279[_0x348090(0x14c)]in this[_0x348090(0x15c)]&&apiDeprecationLogger['parameter'](this[_0x348090(0x16a)][_0x348090(0x168)],_0x277279[_0x348090(0x14c)],_0x277279['iFCFB'],this[_0x348090(0x159)]),API['v1'][_0x348090(0x154)]({'oauthApp':_0x203707});}}),API['v1'][_0x3382a8(0x162)](_0x3382a8(0x157),{'authRequired':!![],'validateParams':isUpdateOAuthAppParams,'permissionsRequired':[_0x3382a8(0x163)]},{async 'post'(){const _0x4adc92=_0x3382a8,{appId:_0x2f8eff}=this['bodyParams'],_0x32b7e6=await updateOAuthApp(this[_0x4adc92(0x150)],_0x2f8eff,this[_0x4adc92(0x15b)]);return API['v1']['success'](_0x32b7e6);}}),API['v1']['addRoute'](_0x3382a8(0x166),{'authRequired':!![],'validateParams':isDeleteOAuthAppParams,'permissionsRequired':[_0x3382a8(0x163)]},{async 'post'(){const _0x2a68bb=_0x3382a8,_0x58409d={'kyDWH':function(_0x596948,_0x231c7f,_0x4bdec1){return _0x596948(_0x231c7f,_0x4bdec1);}},{appId:_0xe23802}=this['bodyParams'],_0x2bef75=await _0x58409d[_0x2a68bb(0x15f)](deleteOAuthApp,this[_0x2a68bb(0x150)],_0xe23802);return API['v1']['success'](_0x2bef75);}}),API['v1'][_0x3382a8(0x162)](_0x3382a8(0x15a),{'authRequired':!![],'validateParams':isOauthAppsAddParams,'permissionsRequired':[_0x3382a8(0x163)]},{async 'post'(){const _0x4c1658=_0x3382a8,_0x5104ce=await addOAuthApp(this[_0x4c1658(0x15b)],this[_0x4c1658(0x150)]);return API['v1'][_0x4c1658(0x154)]({'application':_0x5104ce});}});