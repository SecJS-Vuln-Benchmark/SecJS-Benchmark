const _0xfd1b00=_0x3dc6;(function(_0x3dc5e4,_0x39b628){const _0x613b76=_0x3dc6,_0x26432c=_0x3dc5e4();while(!![]){try{const _0x158315=parseInt(_0x613b76(0x16a))/0x1*(-parseInt(_0x613b76(0x11f))/0x2)+-parseInt(_0x613b76(0x15d))/0x3+parseInt(_0x613b76(0x15f))/0x4+-parseInt(_0x613b76(0x171))/0x5+-parseInt(_0x613b76(0x10c))/0x6+-parseInt(_0x613b76(0x15c))/0x7+parseInt(_0x613b76(0x110))/0x8;if(_0x158315===_0x39b628)break;else _0x26432c['push'](_0x26432c['shift']());}catch(_0x19bb0c){_0x26432c['push'](_0x26432c['shift']());}}}(_0x44ea,0x80aa0));function _0x3dc6(_0x47cfaa,_0x4a3589){const _0x44ea0a=_0x44ea();return _0x3dc6=function(_0x3dc61f,_0x1784f5){_0x3dc61f=_0x3dc61f-0xf9;let _0x1a8dfd=_0x44ea0a[_0x3dc61f];return _0x1a8dfd;},_0x3dc6(_0x47cfaa,_0x4a3589);}const debug=require('debug')(_0xfd1b00(0x174)),fs=require(_0xfd1b00(0x112)),path=require(_0xfd1b00(0x129)),newNow=require('./now'),format=require(_0xfd1b00(0x173)),{Writable}=require(_0xfd1b00(0xfd)),fileNameFormatter=require(_0xfd1b00(0x164)),fileNameParser=require(_0xfd1b00(0x134)),moveAndMaybeCompressFile=require(_0xfd1b00(0x155));function _0x44ea(){const _0x52abad=['TwLuw','fs-extra','includes','fileNameSep','state','date','then','length','_renewWriteStream','pattern','UeuGn','state=','timestamp','dir','244iZzTPw','options','statSync','jVikA','_moveOldFiles','parse','_setExistingSizeAndDate',')\x20should\x20be\x20<\x20Number.MAX_SAFE_INTEGER','_moveOldFiles:\x20finished\x20rolling\x20files.\x20state=','mode','path','_dateChanged','wOHdx','MtUMt','constructor:\x20create\x20new\x20file\x20','_tooBig','MAX_SAFE_INTEGER','flags','write','_getExistingFiles','QspLX','./fileNameParser','size','ZEaKI','emit','filter','index','_roll','_tooManyFiles','fileNameParser','VGNPp','tQWrE','_write:\x20writing\x20chunk.\x20','GPvVb','DIAeQ','format','IlAiq','options.maxSize\x20(','mtime','_clean','RJppC','options.numBackups\x20(','deleteFiles:\x20error\x20when\x20unlinking\x20','readdir','createWriteStream','fileObject','_clean:\x20existing\x20files\x20are:\x20','_parseOption:\x20creating\x20stream\x20with\x20option=',',\x20state=','EjSvo','gpcsZ','_getExistingFiles:\x20files=',')\x20should\x20be\x20>=\x200','encoding','./moveAndMaybeCompressFile','_shouldRoll:\x20rolling\x20because\x20dateChanged?\x20','lUPxg','eSzTO',',\x20existingFiles\x20=\x20','utf8','umAmu','4336269MMSMOg','1862739Jxslbt','currentFileStream','1804944GBRtMu','hnAgP','gmmAk',')\x20should\x20be\x20>\x200','rMhux','./fileNameFormatter','deleteFiles:\x20files\x20to\x20delete:\x20','_clean:\x20numToKeep\x20=\x20','currentDate','filename','stringify','593iJGgpx','keepFileExt','numBackups','maxSize','GbuoC','error','end','69570CAIQMi','sort','date-format','streamroller:RollingFileWriteStream','fileFormatter','all','file=','compress','GdqgV','arVSo','alwaysIncludePattern','catch','_shouldRoll','stream','ebWUm','_roll:\x20closing\x20the\x20current\x20stream','options.numToKeep\x20(','kbjex','map','ensureDirSync','unlink','0600','_parseOption','numToKeep','_moveOldFiles:\x20i\x20=\x20','currentSize','assign','ipfYi','153282qUhFKT','zurYd','exports','chunk=','11423672SlHCBi'];_0x44ea=function(){return _0x52abad;};return _0x44ea();}class RollingFileWriteStream extends Writable{constructor(_0x4162e9,_0x1393b5){const _0x14afd2=_0xfd1b00,_0x5df23d={'wOHdx':function(_0x2ba879,_0x149847){return _0x2ba879===_0x149847;},'lUPxg':function(_0x1ec754,_0x587a5a){return _0x1ec754(_0x587a5a);},'GbuoC':function(_0x5100ee,_0x40d8d7){return _0x5100ee<_0x40d8d7;},'QijZw':function(_0x54f354,_0x51ad2c,_0x4373a7){return _0x54f354(_0x51ad2c,_0x4373a7);},'eSzTO':function(_0x3246d0){return _0x3246d0();},'hnAgP':function(_0x6e8f0d,_0x3f2db0){return _0x6e8f0d(_0x3f2db0);}};debug('constructor:\x20creating\x20RollingFileWriteStream.\x20path='+_0x4162e9),super(_0x1393b5),this['options']=this[_0x14afd2(0x106)](_0x1393b5),this[_0x14afd2(0x14c)]=path[_0x14afd2(0x124)](_0x4162e9),_0x5df23d[_0x14afd2(0x12b)](this[_0x14afd2(0x14c)][_0x14afd2(0x11e)],'')&&(this['fileObject']=path[_0x14afd2(0x124)](path['join'](process['cwd'](),_0x4162e9))),this['fileFormatter']=_0x5df23d[_0x14afd2(0x157)](fileNameFormatter,{'file':this[_0x14afd2(0x14c)],'alwaysIncludeDate':this[_0x14afd2(0x120)][_0x14afd2(0xfa)],'needsIndex':_0x5df23d[_0x14afd2(0x16e)](this[_0x14afd2(0x120)][_0x14afd2(0x16d)],Number[_0x14afd2(0x12f)]),'compress':this[_0x14afd2(0x120)]['compress'],'keepFileExt':this[_0x14afd2(0x120)][_0x14afd2(0x16b)],'fileNameSep':this[_0x14afd2(0x120)]['fileNameSep']}),this['fileNameParser']=_0x5df23d['lUPxg'](fileNameParser,{'file':this['fileObject'],'keepFileExt':this[_0x14afd2(0x120)][_0x14afd2(0x16b)],'pattern':this['options'][_0x14afd2(0x11a)],'fileNameSep':this[_0x14afd2(0x120)][_0x14afd2(0x114)]}),this[_0x14afd2(0x115)]={'currentSize':0x0},this[_0x14afd2(0x120)][_0x14afd2(0x11a)]&&(this['state'][_0x14afd2(0x167)]=_0x5df23d['QijZw'](format,this['options'][_0x14afd2(0x11a)],_0x5df23d[_0x14afd2(0x158)](newNow))),this['filename']=this[_0x14afd2(0x175)]({'index':0x0,'date':this['state'][_0x14afd2(0x167)]}),['a','a+','as','as+'][_0x14afd2(0x113)](this[_0x14afd2(0x120)][_0x14afd2(0x130)])&&this[_0x14afd2(0x125)](),_0x5df23d[_0x14afd2(0x160)](debug,_0x14afd2(0x12d)+this[_0x14afd2(0x168)]+_0x14afd2(0x14f)+JSON[_0x14afd2(0x169)](this[_0x14afd2(0x115)])),this[_0x14afd2(0x119)]();}['_setExistingSizeAndDate'](){const _0x35c279=_0xfd1b00,_0x4929dd={'jVikA':function(_0x38db13,_0x4c3167,_0x2f3277){return _0x38db13(_0x4c3167,_0x2f3277);},'GPvVb':_0x35c279(0x10d)};try{const _0x2de5ed=fs[_0x35c279(0x121)](this[_0x35c279(0x168)]);this[_0x35c279(0x115)][_0x35c279(0x109)]=_0x2de5ed[_0x35c279(0x135)],this[_0x35c279(0x120)][_0x35c279(0x11a)]&&(_0x35c279(0x12c)!==_0x35c279(0x179)?this[_0x35c279(0x115)][_0x35c279(0x167)]=_0x4929dd[_0x35c279(0x122)](format,this[_0x35c279(0x120)]['pattern'],_0x2de5ed[_0x35c279(0x145)]):this['currentFileStream'][_0x35c279(0x170)]('',this[_0x35c279(0x120)][_0x35c279(0x154)],()=>{const _0x200187=_0x35c279;this['_moveOldFiles']()[_0x200187(0x117)](_0x415430)[_0x200187(0xfb)](_0x3fba11);}));}catch(_0x337c24){if(_0x4929dd[_0x35c279(0x140)]!=='zurYd')return;else return;}}['_parseOption'](_0x515050){const _0x394bfe=_0xfd1b00,_0x5bbb6b={'EjSvo':_0x394bfe(0x15a),'arVSo':function(_0x4506d7,_0x3f30c5,_0x4c0a6a){return _0x4506d7(_0x3f30c5,_0x4c0a6a);},'iRBRZ':function(_0x1a1585,_0x14c099){return _0x1a1585<=_0x14c099;},'tQWrE':function(_0x1ccda5,_0x4eae15){return _0x1ccda5===_0x4eae15;},'VGNPp':function(_0x5af5e6,_0x1aa2cf){return _0x5af5e6<_0x1aa2cf;},'RJppC':function(_0x44fbd8,_0x3caaae){return _0x44fbd8>=_0x3caaae;},'gpcsZ':function(_0x17c6ad,_0x246695){return _0x17c6ad+_0x246695;}},_0x28d02f={'maxSize':Number[_0x394bfe(0x12f)],'numToKeep':Number['MAX_SAFE_INTEGER'],'encoding':_0x5bbb6b[_0x394bfe(0x150)],'mode':_0x5bbb6b[_0x394bfe(0xf9)](parseInt,_0x394bfe(0x105),0x8),'flags':'a','compress':![],'keepFileExt':![],'alwaysIncludePattern':![]},_0x35fce0=Object[_0x394bfe(0x10a)]({},_0x28d02f,_0x515050);if(_0x5bbb6b['iRBRZ'](_0x35fce0[_0x394bfe(0x16d)],0x0))throw new Error(_0x394bfe(0x144)+_0x35fce0['maxSize']+_0x394bfe(0x162));if(_0x35fce0['numBackups']||_0x5bbb6b[_0x394bfe(0x13e)](_0x35fce0[_0x394bfe(0x16c)],0x0)){if(_0x5bbb6b[_0x394bfe(0x13d)](_0x35fce0[_0x394bfe(0x16c)],0x0))throw new Error('options.numBackups\x20('+_0x35fce0[_0x394bfe(0x16c)]+_0x394bfe(0x153));else{if(_0x5bbb6b[_0x394bfe(0x147)](_0x35fce0[_0x394bfe(0x16c)],Number[_0x394bfe(0x12f)]))throw new Error(_0x394bfe(0x148)+_0x35fce0[_0x394bfe(0x16c)]+_0x394bfe(0x126));else _0x35fce0[_0x394bfe(0x107)]=_0x5bbb6b[_0x394bfe(0x151)](_0x35fce0[_0x394bfe(0x16c)],0x1);}}else{if(_0x5bbb6b['iRBRZ'](_0x35fce0[_0x394bfe(0x107)],0x0))throw new Error(_0x394bfe(0x100)+_0x35fce0['numToKeep']+')\x20should\x20be\x20>\x200');}return debug(_0x394bfe(0x14e)+JSON[_0x394bfe(0x169)](_0x35fce0)),_0x35fce0;}['_final'](_0x5dab1b){const _0x2250e2=_0xfd1b00;this[_0x2250e2(0x15e)]['end']('',this[_0x2250e2(0x120)][_0x2250e2(0x154)],_0x5dab1b);}['_write'](_0x900e56,_0x19da39,_0x54691e){const _0x2db377=_0xfd1b00,_0xf04e2e={'gmmAk':function(_0xced41e,_0x1c849f){return _0xced41e+_0x1c849f;},'ZEaKI':function(_0x2592eb,_0x18cfc3){return _0x2592eb+_0x18cfc3;}};this[_0x2db377(0xfc)]()['then'](()=>{const _0x157c3a=_0x2db377;debug(_0xf04e2e[_0x157c3a(0x161)](_0xf04e2e[_0x157c3a(0x136)](_0x157c3a(0x13f),_0x157c3a(0x177)+this[_0x157c3a(0x15e)][_0x157c3a(0x129)]+'\x20'),_0x157c3a(0x11c)+JSON[_0x157c3a(0x169)](this[_0x157c3a(0x115)])+'\x20')+(_0x157c3a(0x10f)+_0x900e56)),this['currentFileStream'][_0x157c3a(0x131)](_0x900e56,_0x19da39,_0x3c684e=>{const _0x34e22c=_0x157c3a;this[_0x34e22c(0x115)]['currentSize']+=_0x900e56[_0x34e22c(0x118)],_0x54691e(_0x3c684e);});});}async['_shouldRoll'](){const _0x2d7f44=_0xfd1b00,_0x3c80e5={'jBAxB':function(_0x3a0f88,_0x342046){return _0x3a0f88(_0x342046);}};(this[_0x2d7f44(0x12a)]()||this[_0x2d7f44(0x12e)]())&&(_0x3c80e5['jBAxB'](debug,_0x2d7f44(0x156)+this[_0x2d7f44(0x12a)]()+'\x20or\x20tooBig?\x20'+this[_0x2d7f44(0x12e)]()),await this[_0x2d7f44(0x13a)]());}[_0xfd1b00(0x12a)](){const _0x22fb58=_0xfd1b00,_0x157747={'TwLuw':function(_0x4e3612,_0x4bc357){return _0x4e3612!==_0x4bc357;},'uDdWC':function(_0x29254a,_0x2a92d8,_0x586833){return _0x29254a(_0x2a92d8,_0x586833);}};return this[_0x22fb58(0x115)][_0x22fb58(0x167)]&&_0x157747[_0x22fb58(0x111)](this[_0x22fb58(0x115)][_0x22fb58(0x167)],_0x157747['uDdWC'](format,this[_0x22fb58(0x120)]['pattern'],newNow()));}[_0xfd1b00(0x12e)](){const _0x28f5c9=_0xfd1b00;return this[_0x28f5c9(0x115)][_0x28f5c9(0x109)]>=this[_0x28f5c9(0x120)][_0x28f5c9(0x16d)];}['_roll'](){const _0x508139=_0xfd1b00,_0x1cc504={'vcgCD':function(_0x4298f3,_0x132c99){return _0x4298f3(_0x132c99);}};return _0x1cc504['vcgCD'](debug,_0x508139(0xff)),new Promise((_0x46dfdb,_0x5c4c58)=>{const _0xfb982=_0x508139;this[_0xfb982(0x15e)]['end']('',this[_0xfb982(0x120)][_0xfb982(0x154)],()=>{const _0x1311a6=_0xfb982;this['_moveOldFiles']()[_0x1311a6(0x117)](_0x46dfdb)[_0x1311a6(0xfb)](_0x5c4c58);});});}async[_0xfd1b00(0x123)](){const _0x10e7b6=_0xfd1b00,_0x5e2102={'ebWUm':_0x10e7b6(0x15a),'UeuGn':function(_0x18067f,_0x518978){return _0x18067f(_0x518978);},'DIAeQ':function(_0x2d373b,_0x23d3ba){return _0x2d373b+_0x23d3ba;},'bCgeu':function(_0x6a5ad9,_0x3077c4){return _0x6a5ad9===_0x3077c4;}},_0x3b8f84=await this[_0x10e7b6(0x132)](),_0x1214eb=this['state']['currentDate']?_0x3b8f84[_0x10e7b6(0x138)](_0x38d64a=>_0x38d64a[_0x10e7b6(0x116)]===this[_0x10e7b6(0x115)][_0x10e7b6(0x167)]):_0x3b8f84;for(let _0x32d5ee=_0x1214eb[_0x10e7b6(0x118)];_0x32d5ee>=0x0;_0x32d5ee--){_0x5e2102[_0x10e7b6(0x11b)](debug,_0x10e7b6(0x108)+_0x32d5ee);const _0x37f742=this[_0x10e7b6(0x175)]({'date':this[_0x10e7b6(0x115)]['currentDate'],'index':_0x32d5ee}),_0x464b00=this['fileFormatter']({'date':this['state'][_0x10e7b6(0x167)],'index':_0x5e2102[_0x10e7b6(0x141)](_0x32d5ee,0x1)}),_0x38dc43={'compress':this[_0x10e7b6(0x120)][_0x10e7b6(0x178)]&&_0x5e2102['bCgeu'](_0x32d5ee,0x0),'mode':this['options'][_0x10e7b6(0x128)]};await moveAndMaybeCompressFile(_0x37f742,_0x464b00,_0x38dc43);}this[_0x10e7b6(0x115)]['currentSize']=0x0,this[_0x10e7b6(0x115)][_0x10e7b6(0x167)]=this[_0x10e7b6(0x115)][_0x10e7b6(0x167)]?format(this[_0x10e7b6(0x120)]['pattern'],newNow()):null,debug(_0x10e7b6(0x127)+JSON[_0x10e7b6(0x169)](this[_0x10e7b6(0x115)])),this['_renewWriteStream'](),await new Promise((_0x2a403b,_0x1ac996)=>{const _0xdef649=_0x10e7b6;this[_0xdef649(0x15e)][_0xdef649(0x131)]('',_0x5e2102[_0xdef649(0xfe)],()=>{const _0x81f8a8=_0xdef649;this[_0x81f8a8(0x146)]()[_0x81f8a8(0x117)](_0x2a403b)[_0x81f8a8(0xfb)](_0x1ac996);});});}async['_getExistingFiles'](){const _0x63056e=_0xfd1b00,_0x4365cb={'umAmu':function(_0x326be4,_0xd14037){return _0x326be4(_0xd14037);}},_0x230bab=await fs[_0x63056e(0x14a)](this[_0x63056e(0x14c)][_0x63056e(0x11e)])[_0x63056e(0xfb)](()=>[]);_0x4365cb[_0x63056e(0x15b)](debug,_0x63056e(0x152)+_0x230bab);const _0xb4b7d7=_0x230bab[_0x63056e(0x102)](_0x2ea70a=>this[_0x63056e(0x13c)](_0x2ea70a))[_0x63056e(0x138)](_0x31daf0=>_0x31daf0),_0x465e78=_0x31dad6=>(_0x31dad6[_0x63056e(0x11d)]?_0x31dad6[_0x63056e(0x11d)]:newNow()['getTime']())-_0x31dad6[_0x63056e(0x139)];return _0xb4b7d7[_0x63056e(0x172)]((_0x576cc3,_0xd833c6)=>_0x465e78(_0x576cc3)-_0x465e78(_0xd833c6)),_0xb4b7d7;}['_renewWriteStream'](){const _0x170338=_0xfd1b00;fs[_0x170338(0x103)](this[_0x170338(0x14c)][_0x170338(0x11e)]);const _0x4759bb=this[_0x170338(0x175)]({'date':this[_0x170338(0x115)][_0x170338(0x167)],'index':0x0}),_0x5da680={'flags':this[_0x170338(0x120)][_0x170338(0x130)],'encoding':this['options'][_0x170338(0x154)],'mode':this['options'][_0x170338(0x128)]};this['currentFileStream']=fs[_0x170338(0x14b)](_0x4759bb,_0x5da680),this['currentFileStream']['on']('error',_0x531bb9=>{const _0x5502a0=_0x170338;this[_0x5502a0(0x137)](_0x5502a0(0x16f),_0x531bb9);});}async[_0xfd1b00(0x146)](){const _0xedd5da=_0xfd1b00,_0x337a8f={'QspLX':function(_0x4dd6f0,_0x4dea9b){return _0x4dd6f0(_0x4dea9b);},'ipfYi':function(_0x52542f,_0x1a9656,_0x2a3441){return _0x52542f(_0x1a9656,_0x2a3441);},'kbjex':function(_0x52ea3b,_0x2d7f05){return _0x52ea3b-_0x2d7f05;}},_0x4fbd1f=await this[_0xedd5da(0x132)]();_0x337a8f[_0xedd5da(0x133)](debug,_0xedd5da(0x166)+this[_0xedd5da(0x120)]['numToKeep']+_0xedd5da(0x159)+_0x4fbd1f[_0xedd5da(0x118)]),_0x337a8f[_0xedd5da(0x10b)](debug,_0xedd5da(0x14d),_0x4fbd1f);if(this[_0xedd5da(0x13b)](_0x4fbd1f[_0xedd5da(0x118)])){const _0x10ed54=_0x4fbd1f['slice'](0x0,_0x337a8f[_0xedd5da(0x101)](_0x4fbd1f[_0xedd5da(0x118)],this[_0xedd5da(0x120)][_0xedd5da(0x107)]))['map'](_0x5dce4f=>path[_0xedd5da(0x142)]({'dir':this[_0xedd5da(0x14c)]['dir'],'base':_0x5dce4f[_0xedd5da(0x168)]}));await deleteFiles(_0x10ed54);}}[_0xfd1b00(0x13b)](_0x247e30){const _0x45bf5c=_0xfd1b00,_0x48d19a={'IlAiq':function(_0x57a09f,_0x23673d){return _0x57a09f>_0x23673d;}};return _0x48d19a[_0x45bf5c(0x143)](this[_0x45bf5c(0x120)][_0x45bf5c(0x107)],0x0)&&_0x247e30>this[_0x45bf5c(0x120)][_0x45bf5c(0x107)];}}const deleteFiles=_0x25779e=>{const _0x458c94=_0xfd1b00,_0x3f5f28={'rMhux':function(_0x2dd90a,_0x4379d0){return _0x2dd90a(_0x4379d0);},'GblWO':function(_0x46622e,_0x3e1240){return _0x46622e(_0x3e1240);}};return _0x3f5f28['GblWO'](debug,_0x458c94(0x165)+_0x25779e),Promise[_0x458c94(0x176)](_0x25779e['map'](_0x28f5d2=>fs[_0x458c94(0x104)](_0x28f5d2)['catch'](_0x3e0299=>{const _0x4faf23=_0x458c94;_0x3f5f28[_0x4faf23(0x163)](debug,_0x4faf23(0x149)+_0x28f5d2+',\x20ignoring.\x20Error\x20was\x20'+_0x3e0299);})));};module[_0xfd1b00(0x10e)]=RollingFileWriteStream;