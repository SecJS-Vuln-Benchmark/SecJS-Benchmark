const _0x3b16b8=_0x2434;function _0x2001(){const _0x505423=['util','wCpOo','write','should\x20take\x20options.numBackups\x20to\x20supercede\x20options.daysToKeep','code','with\x20alwaysIncludePattern','should\x20contain\x20the\x20first\x20message','SwojC','yyyyMMdd','FEAkd','with\x20compress\x20option\x20and\x20keepFileExt\x20option','eWLPV','iTXvr','test-date-rolling-file-stream-pattern','numBackups','FmqhN','GDouU','with\x20keepFileExt\x20option','First\x20message\x0a','WvFQe','wtmaI','rWnht','should','FTGZe','EmikX','ZzvAV','Rbnrs','FmPGi','should\x20complain\x20about\x20numBackups\x20>=\x20Number.MAX_SAFE_INTEGER','tCCyE','uTZUP','.yyyy-MM-dd','theStream','GPDQf','XNByL','kqXsN','ARrnt','175905NIDGII','using\x20deprecated\x20daysToKeep','OExiJ','BTkVi','UpGKp','compressedNumBackups.log.2012-09-','tYlWa','kVtoQ','compressedNumBackups.log','mveGO','KTUok','sgzlU','ZnjEl','compressedAndKeepExt.log','Vtlqo','flags','GBfbe','vVXxY','UKAZl','test-date-rolling-file-stream-5','BYkDp','the\x20file\x20with\x20the\x20date','TLySo','bsRwL','should\x20pass\x20them\x20to\x20the\x20underlying\x20stream','WxrtU','bESQr','JZfXM','keepFileExt.2012-09-12.log','RNtiw','keepFileExt','split','digits.log','nnshy','JlQux','SasBx','DeprecationWarning','test-date-rolling-file-stream-3','should\x20be\x20two\x20files','yxVmD','VoJsx','atLyC','EBNQH','XNpyB','fileNameSepCompressedAndKeepExt','fDTgT','filename','daysToKeep','LTVQS','fOfjr','with\x20stream\x20arguments\x20but\x20no\x20pattern','the\x20number\x20of\x20files','SFgQT','UGrlR','IhrWN','should\x20be\x20generated\x20into\x20stream.options.numToKeep\x20from\x20options.numBackups','compressedAndKeepExt','keepFileExt.log','yquue','DToJl','WSWlB','not','FGMRP','RAEay','NvjTJ','with\x20fileNameSep\x20option\x20and\x20keepFileExt\x20option','ZvMKP','join','TzKfE','5EoYqrR','ILHje','SpTYh','ZmozX','hCrnl','with\x20compress\x20option','OPoHQ','../lib/RollingFileWriteStream','kbDIE','YOoXQ','RpoWp','gRAdd','fCnML','NPVFF','LPFnx','rSZFt','HeOGQ','OZqFD','should\x20complain\x20about\x20negative\x20numBackups','FPLBJ','xuJdN','wZLuM','UWnCk','ijZME','QdCsY','kVgvb','mode','3fbqiZv','name','GoLSf','sekIm','kusNn','gzip','HAyhf','test-date-rolling-file-stream-5..2012-09-12','ZefsD','YEdVk','numBackups.log','sKNOl','GxOyF','../lib/DateRollingFileStream','7NGdoiQ','wUxRY','should\x20be\x20routed\x20from\x20options.daysToKeep\x20to\x20options.numBackups','warning','nokqW','JtcyS',')\x20should\x20be\x20>=\x200','LhccA','mSRVc','gjmzC','fileNameSepCompressedAndKeepExt.log','NWuck','2|1|0|4|3','OXqds','EjwbY','when\x20the\x20day\x20changes','GHqfO','MWeRx','should\x20contain\x20the\x20second\x20message','mQYPe','with\x20both\x20options.daysToKeep\x20and\x20options.numBackups','PgsJP','lqUmN','compressedAndKeepExt.2012-09-12.log.gz','jOSsw','EujmT','should\x20have\x20deprecated\x20warning\x20for\x20daysToKeep','StreamRoller0001','catch','with\x20fileNameSep\x20option','yyyy-MM-dd.hh','FQbAV','NxZfk','JZIQp','Writable','fileNameSepAndKeepExt_2012-09-12.log','izren','zTzsv','879916wmjogv','asWXt','options.numBackups\x20(','yHyQk','noPreserveCache','ejHcf','GjGFg','test-date-rolling-file-stream-pattern.2012-09-12-12.log','readFile','qIYhl','with\x20options.daysToKeep\x20but\x20not\x20options.numBackups','length','yyyy-MM-dd','dJbmo','should\x20create\x20a\x20file\x20with\x20the\x20pattern\x20set','KXcRa','daysToKeep.log','fVMGu','unlink','YCgiN','with\x20fileNameSep\x20option\x20and\x20compress\x20option',')\x20should\x20be\x20<\x20Number.MAX_SAFE_INTEGER','test-date-rolling-file-stream-pattern.2012-09-12-11.log','NUiRG','FvWho','Message\x20on\x20day\x20','New\x20file\x20message\x0a','JCOYr','map','WQtKj','default\x20arguments','WDFzK','vkeSL','ljDTu','iYiog','rsmYu','dHNar','fileNameSep.log_2012-09-12','EgZYv','909786vOFbew','ILfsv','Rhofk','compressed.log','eFCwJ','GnzQq','fileNameSepAndCompressed.log_2012-09-12.gz','ELQFW','prVlr','currentFileStream','options','OXTmH','vTsmc','test-date-rolling-file-stream-4','ZWFNu','readdir','with\x20invalid\x20number\x20of\x20numBackups','wmQLl','ACoUB','the\x20file\x20with\x20the\x20later\x20date','fileNameSepAndCompressed.log','eziFw','BGKwE','xVUsk','eZsWi','WVKVE','Zzmiw','GlDZZ','path','fileNameSep.log','IDZqQ','fileNameSepAndKeepExt.log','NyKsC','numToKeep','tYVpm','utf-8','FKTqF','instanceOf','mfFvT','EEaZL','rawListeners','should\x20be\x20two\x20files,\x20one\x20compressed','QEuYV','zNIEL','UBziL','the\x20file\x20without\x20a\x20date','liIfj','0666','NyOic','gKKMu','rthhu','all','1453284jfEWFB','writeFile','HfHIF','GvDJt','uKzHT','luDOK','jYvOe','eMhrW','YaoZF','HcxFm','should\x20use\x20default\x20pattern','eql','should\x20be\x20two','rIHXX','bMbYc','CKOil','proxyquire','XFEku','QVTCs','test-date-rolling-file-stream-2','369621SPBnyk','indexOf','132CrtNoH','TFqTG','off','iTjcT','digits.log.20120912','FHUjZ','gunzip','DateRollingFileStream','lDNkI','CbJCX','olTxJ','OVMwo','TiYrB','gtpuv','FvcCL','Second\x20message\x0a','with\x20a\x20pattern\x20that\x20evaluates\x20to\x20digits','end','gBUja','YaMVz','EnUqR','qcBbH','PVXgp','fpHIf','filter','gHMgZ','STWkS','299849JYiZXi','with\x20a\x20pattern\x20of\x20.yyyy-MM-dd','zSCLY','should\x20be\x20two\x20files\x20(it\x20should\x20not\x20get\x20confused\x20by\x20indexes)','should\x20take\x20a\x20filename\x20and\x20a\x20pattern\x20and\x20return\x20a\x20WritableStream','EQrPC','JmOBe','have','ymklu','numBackups.log.2012-09-','PJNzR','NnDzd','.gz','test-date-rolling-file-stream-1','should\x20have\x20pattern\x20of\x20yyyy-MM-dd','obyzp','compressed.log.2012-09-12.gz','50GJTYWE','CORxE','hOeQU','yABJs','jBMfs','LqKsI','lUxIU','with\x20numBackups\x20option','kcALN','lniIf','JwLha','udXPT','rLcRH','with\x20default\x20settings\x20for\x20the\x20underlying\x20stream','2981336YCqBvz','pattern','aFuqN','EJckc','utf8','KJpJo','SJnot','Cjyxd','stream','sIais','nyPjC','with\x20numBackups\x20and\x20compress\x20options','zqMQr','frCSA','ThuSM','iFEFC','GmRBH','RsoTB','gBfpd','jcQgn','toString','iKxlY','throw','yyyy-MM-dd-hh.log','AAzRr','NrHBY','UyFzy','FfJwa','pmqXj','shift','RkKzd','CvDJT','fs-extra','arguments','MUtMQ','promisify'];_0x2001=function(){return _0x505423;};return _0x2001();}(function(_0x5d8d4d,_0x15c71d){const _0x26170f=_0x2434,_0x290be4=_0x5d8d4d();while(!![]){try{const _0x476b39=parseInt(_0x26170f(0x1d7))/0x1+parseInt(_0x26170f(0x26b))/0x2*(parseInt(_0x26170f(0x237))/0x3)+-parseInt(_0x26170f(0x13e))/0x4+parseInt(_0x26170f(0x21c))/0x5*(-parseInt(_0x26170f(0x10a))/0x6)+-parseInt(_0x26170f(0x245))/0x7*(parseInt(_0x26170f(0x18e))/0x8)+parseInt(_0x26170f(0x152))/0x9*(parseInt(_0x26170f(0x180))/0xa)+parseInt(_0x26170f(0x16f))/0xb*(parseInt(_0x26170f(0x154))/0xc);if(_0x476b39===_0x15c71d)break;else _0x290be4['push'](_0x290be4['shift']());}catch(_0x15e002){_0x290be4['push'](_0x290be4['shift']());}}}(_0x2001,0x38fde),require(_0x3b16b8(0x1c8)));const fs=require(_0x3b16b8(0x1ae)),path=require(_0x3b16b8(0x126)),zlib=require('zlib'),proxyquire=require(_0x3b16b8(0x14e))[_0x3b16b8(0x26f)](),util=require(_0x3b16b8(0x1b2)),streams=require(_0x3b16b8(0x196));let fakeNow=new Date(0x7dc,0x8,0xc,0xa,0x25,0xb);function _0x2434(_0x53584b,_0xb053d1){const _0x2001ab=_0x2001();return _0x2434=function(_0x243465,_0x55d2f0){_0x243465=_0x243465-0xf2;let _0x21e612=_0x2001ab[_0x243465];return _0x21e612;},_0x2434(_0x53584b,_0xb053d1);}const mockNow=()=>fakeNow,RollingFileWriteStream=proxyquire(_0x3b16b8(0x223),{'./now':mockNow}),DateRollingFileStream=proxyquire(_0x3b16b8(0x244),{'./RollingFileWriteStream':RollingFileWriteStream}),gunzip=util[_0x3b16b8(0x1b1)](zlib[_0x3b16b8(0x15a)]),gzip=util[_0x3b16b8(0x1b1)](zlib[_0x3b16b8(0x23c)]),remove=_0x29ee26=>fs[_0x3b16b8(0xf5)](_0x29ee26)[_0x3b16b8(0x261)](()=>{}),close=async _0x3b5f4b=>new Promise((_0x23f4d9,_0x16b1bd)=>_0x3b5f4b[_0x3b16b8(0x165)](_0x140e40=>_0x140e40?_0x16b1bd(_0x140e40):_0x23f4d9()));describe(_0x3b16b8(0x15b),function(){const _0x4379d7=_0x3b16b8,_0x261bf3={'GjGFg':_0x4379d7(0x163),'QVTCs':function(_0x3fffbf,_0x27b8cf){return _0x3fffbf(_0x27b8cf);},'fDTgT':'test-date-rolling-file-stream-1','ZWFNu':_0x4379d7(0x1c4),'vTsmc':function(_0x479389,_0x514ea9){return _0x479389!==_0x514ea9;},'fVMGu':function(_0x2b63c2,_0x4513c2){return _0x2b63c2!==_0x4513c2;},'FmqhN':_0x4379d7(0x1e1),'sIais':function(_0x4f58cc,_0x30ce21,_0x32d947){return _0x4f58cc(_0x30ce21,_0x32d947);},'EJckc':_0x4379d7(0x151),'GmRBH':_0x4379d7(0x277),'AAzRr':function(_0x125980,_0x18df0d,_0x18328a){return _0x125980(_0x18df0d,_0x18328a);},'WvFQe':_0x4379d7(0x17d),'SpTYh':function(_0x1f93b0,_0x5283d3,_0x1d30e3){return _0x1f93b0(_0x5283d3,_0x1d30e3);},'zqMQr':_0x4379d7(0x1ef),'OExiJ':_0x4379d7(0x139),'nyPjC':'test-date-rolling-file-stream-4','STWkS':function(_0x1db8a4,_0x3a5f9c){return _0x1db8a4(_0x3a5f9c);},'Ztcvo':_0x4379d7(0x148),'ZzvAV':'.yyyy-MM-dd','FmPGi':function(_0x18592f,_0x30af1b){return _0x18592f(_0x30af1b);},'fpHIf':_0x4379d7(0x1ea),'mNVmf':function(_0x3768cf,_0x1950c2){return _0x3768cf===_0x1950c2;},'VXzhF':_0x4379d7(0x1b9),'tYlWa':function(_0x452f44,_0x2f800e,_0x3af493){return _0x452f44(_0x2f800e,_0x3af493);},'kqXsN':function(_0x32aca5,_0x5c15f4,_0x10c4dc){return _0x32aca5(_0x5c15f4,_0x10c4dc);},'bMbYc':_0x4379d7(0x137),'jBMfs':function(_0x32a045,_0xb93782,_0x740358){return _0x32a045(_0xb93782,_0x740358);},'Rbnrs':_0x4379d7(0x1ec),'GnzQq':function(_0x423832,_0x282909,_0x131653){return _0x423832(_0x282909,_0x131653);},'LPFnx':_0x4379d7(0x23e),'JZfXM':_0x4379d7(0x1b8),'nnshy':function(_0x16d7c5,_0xe05199){return _0x16d7c5(_0xe05199);},'GDouU':function(_0x3abd77,_0x9da46b,_0x5430ad){return _0x3abd77(_0x9da46b,_0x5430ad);},'BYkDp':'when\x20the\x20day\x20changes','xnQBd':_0x4379d7(0x1a5),'atLyC':function(_0x358b57,_0x51fba9){return _0x358b57(_0x51fba9);},'GxOyF':_0x4379d7(0x272),'PgsJP':_0x4379d7(0x257),'eopAE':_0x4379d7(0x1e0),'GHqfO':_0x4379d7(0x1e4),'dyThc':_0x4379d7(0x20a),'NyOic':_0x4379d7(0x279),'dHNar':_0x4379d7(0x192),'YaoZF':function(_0x17c82e,_0x1effbd,_0x5dff1e){return _0x17c82e(_0x1effbd,_0x5dff1e);},'gHMgZ':_0x4379d7(0x10d),'rsmYu':_0x4379d7(0x133),'YOoXQ':function(_0xb5b910,_0x4bdb9b){return _0xb5b910(_0x4bdb9b);},'LqKsI':_0x4379d7(0x1f3),'SOwoy':_0x4379d7(0x25c),'JZIQp':function(_0x1f0526,_0x1a33a7){return _0x1f0526(_0x1a33a7);},'FEAkd':_0x4379d7(0xf3),'fOfjr':function(_0x500185,_0x1ac274){return _0x500185!==_0x1ac274;},'OVMwo':function(_0x1183cc,_0x4eb837){return _0x1183cc(_0x4eb837);},'SOfON':function(_0x6a3ac7,_0x484785){return _0x6a3ac7!==_0x484785;},'hOeQU':_0x4379d7(0x1cf),'prVlr':_0x4379d7(0x19c),'YaMVz':function(_0x1fe6e8,_0x576933){return _0x1fe6e8(_0x576933);},'gRAdd':function(_0x55e770,_0x12320f){return _0x55e770(_0x12320f);},'zTzsv':_0x4379d7(0x129),'eziFw':'fileNameSepAndKeepExt_2012-09-12.log','ymklu':_0x4379d7(0x11e),'IMEeM':_0x4379d7(0x110),'ZefsD':_0x4379d7(0x22c),'EjwbY':function(_0x2ee5e7,_0x563437,_0x36c143){return _0x2ee5e7(_0x563437,_0x36c143);},'eFCwJ':function(_0x8b0865,_0xcdf04b){return _0x8b0865(_0xcdf04b);},'HAyhf':function(_0x171cb7,_0x11861c){return _0x171cb7(_0x11861c);},'NUiRG':function(_0x25784f,_0x43d14b){return _0x25784f(_0x43d14b);},'pmqXj':function(_0x27be05,_0x6121ed){return _0x27be05===_0x6121ed;},'rthhu':'warning','SasBx':function(_0x198f0b,_0x462457){return _0x198f0b(_0x462457);},'wUxRY':'DeprecationWarning','Vtlqo':_0x4379d7(0x247),'EnUqR':_0x4379d7(0x251),'JmOBe':_0x4379d7(0x1a8),'LTVQS':_0x4379d7(0x25f),'FvcCL':function(_0xf2f468,_0x2417c2,_0xaa2b95){return _0xf2f468(_0x2417c2,_0xaa2b95);},'sekIm':_0x4379d7(0x231),'PJNzR':function(_0x249a3c,_0x225a00){return _0x249a3c<_0x225a00;},'izren':function(_0x4470a4,_0x559926){return _0x4470a4!==_0x559926;},'dkCwl':_0x4379d7(0x194),'JIJlf':function(_0x3b0c1c,_0x44a961){return _0x3b0c1c(_0x44a961);},'yHyQk':'should\x20be\x20numBackups\x20+\x201\x20files\x20left\x20from\x20numOriginalLogs','asWXt':_0x4379d7(0x195),'kVtoQ':function(_0x376196,_0x1e7218){return _0x376196(_0x1e7218);},'Zzmiw':function(_0x317009,_0x411ac2,_0x4ac09c){return _0x317009(_0x411ac2,_0x4ac09c);},'tYVpm':function(_0x51147b,_0x5f2e39){return _0x51147b(_0x5f2e39);},'zNIEL':function(_0x4ab89a,_0x12f894){return _0x4ab89a-_0x12f894;},'xCgsL':_0x4379d7(0x1df),'RsoTB':function(_0x1f27d1,_0x14db4e){return _0x1f27d1+_0x14db4e;},'GBfbe':function(_0x4ba512,_0x2b9988){return _0x4ba512(_0x2b9988);},'OXqds':function(_0x50b031,_0x18d549){return _0x50b031(_0x18d549);},'rIHXX':_0x4379d7(0x1af),'ACoUB':_0x4379d7(0x209),'UGrlR':_0x4379d7(0x170),'gKKMu':function(_0x5a6440,_0x4945b6,_0x1ef15a){return _0x5a6440(_0x4945b6,_0x1ef15a);},'NPVFF':function(_0x584f28,_0x1878bb,_0x8ac245){return _0x584f28(_0x1878bb,_0x8ac245);},'PVXgp':_0x4379d7(0x221),'UEzef':_0x4379d7(0x1c3),'mSRVc':_0x4379d7(0x262),'VoJsx':_0x4379d7(0x218),'FkNyv':_0x4379d7(0xf7),'JCOYr':function(_0x58f628,_0x135cc8,_0x5f26c0){return _0x58f628(_0x135cc8,_0x5f26c0);},'MWeRx':_0x4379d7(0x1d8),'fKifV':_0x4379d7(0x11a),'BGKwE':_0x4379d7(0x187),'WVKVE':_0x4379d7(0x199)};_0x261bf3['jBMfs'](describe,_0x261bf3[_0x4379d7(0x14b)],function(){const _0x477c99=_0x4379d7,_0x1c6b4e={'lUxIU':_0x261bf3['ZWFNu'],'kVgvb':function(_0x1d50c0,_0x12961e){const _0x4bc908=_0x2434;return _0x261bf3[_0x4bc908(0x116)](_0x1d50c0,_0x12961e);},'qcBbH':_0x477c99(0x147)};if(_0x261bf3[_0x477c99(0xf4)](_0x261bf3[_0x477c99(0x1c1)],_0x477c99(0x1e1)))_0x3d69e0=new _0x2f850c(0x7dc,0x8,0xd,0x0,0xa,0xc),_0x190a33[_0x477c99(0x1b4)](_0x261bf3['GjGFg'],_0x477c99(0x192),_0x481f5a);else{let _0x257295;before(function(){const _0x567fb8=_0x477c99;_0x1c6b4e[_0x567fb8(0x235)]('HcxFm',_0x1c6b4e[_0x567fb8(0x169)])?(_0x1508c0=new _0x5ac875(0x7dc,0x8,0xc,0x0,0xa,0xc),_0xfbde8f=new _0x4b1893(_0x1d89ab['join'](_0x502cb2,_0x567fb8(0x24f)),_0x567fb8(0x277),{'fileNameSep':'_','compress':!![],'keepFileExt':!![]}),_0x162a17[_0x567fb8(0x1b4)](_0x1c6b4e[_0x567fb8(0x186)],'utf8',_0x46bafe)):_0x257295=new DateRollingFileStream(path[_0x567fb8(0x21a)](__dirname,_0x567fb8(0x17c)),_0x567fb8(0x263));}),after(async function(){const _0x42036d=_0x477c99;await close(_0x257295),await _0x261bf3[_0x42036d(0x150)](remove,path['join'](__dirname,_0x261bf3[_0x42036d(0x204)]));}),_0x261bf3[_0x477c99(0x197)](it,_0x477c99(0x173),function(){const _0x348bb3=_0x477c99;_0x257295[_0x348bb3(0x205)][_0x348bb3(0x1c8)]['eql'](path[_0x348bb3(0x21a)](__dirname,_0x348bb3(0x17c))),_0x257295[_0x348bb3(0x114)]['pattern'][_0x348bb3(0x1c8)][_0x348bb3(0x149)](_0x348bb3(0x263)),_0x257295[_0x348bb3(0x1c8)]['be'][_0x348bb3(0x12f)](streams['Writable']);}),it(_0x477c99(0x18d),function(){const _0x2dd42b=_0x477c99;_0x257295[_0x2dd42b(0x113)][_0x2dd42b(0x236)][_0x2dd42b(0x1c8)]['eql'](0x1a4),_0x257295[_0x2dd42b(0x113)][_0x2dd42b(0x1e6)][_0x2dd42b(0x1c8)]['eql']('a');});}}),_0x261bf3[_0x4379d7(0x1d5)](describe,_0x4379d7(0x101),function(){const _0x1111fc=_0x4379d7;var _0x1ef1c1;before(function(){const _0x52677d=_0x2434;_0x1ef1c1=new DateRollingFileStream(path[_0x52677d(0x21a)](__dirname,_0x261bf3[_0x52677d(0x191)]));}),after(async function(){const _0x542060=_0x2434;await close(_0x1ef1c1),await _0x261bf3[_0x542060(0x150)](remove,path[_0x542060(0x21a)](__dirname,_0x261bf3[_0x542060(0x191)]));}),_0x261bf3[_0x1111fc(0x1a6)](it,_0x261bf3[_0x1111fc(0x1c5)],function(){const _0x211106=_0x1111fc;_0x1ef1c1['options'][_0x211106(0x18f)]['should'][_0x211106(0x149)](_0x261bf3[_0x211106(0x19e)]);});}),describe('with\x20stream\x20arguments',function(){const _0x1f3a07=_0x4379d7,_0x2f5009={'EEaZL':_0x1f3a07(0x1fc),'OPoHQ':_0x1f3a07(0x277),'EBNQH':_0x1f3a07(0x139)};var _0x162b46;before(function(){const _0x4c0252=_0x1f3a07;_0x162b46=new DateRollingFileStream(path[_0x4c0252(0x21a)](__dirname,_0x2f5009[_0x4c0252(0x131)]),_0x2f5009[_0x4c0252(0x222)],{'mode':parseInt(_0x2f5009[_0x4c0252(0x201)],0x8)});}),_0x261bf3[_0x1f3a07(0x150)](after,async function(){const _0x3d3232=_0x1f3a07;await _0x261bf3[_0x3d3232(0x150)](close,_0x162b46),await remove(path['join'](__dirname,_0x3d3232(0x1fc)));}),_0x261bf3[_0x1f3a07(0x21e)](it,_0x261bf3['zqMQr'],function(){const _0xe15ab7=_0x1f3a07;_0x162b46['theStream'][_0xe15ab7(0x236)][_0xe15ab7(0x1c8)][_0xe15ab7(0x149)](parseInt(_0xe15ab7(0x139),0x8));});}),describe(_0x261bf3[_0x4379d7(0x11c)],function(){const _0x17fc19=_0x4379d7,_0x4630c5={'UBziL':function(_0x1fdfc5,_0x3ec4d8,_0xab59cc){return _0x1fdfc5(_0x3ec4d8,_0xab59cc);},'ejHcf':function(_0x3dc832,_0x4e5e46){const _0x4022e4=_0x2434;return _0x261bf3[_0x4022e4(0x150)](_0x3dc832,_0x4e5e46);},'JlQux':'Second\x20message\x0a','lniIf':_0x261bf3[_0x17fc19(0x1d9)],'AMHZp':_0x261bf3[_0x17fc19(0x198)],'EujmT':_0x17fc19(0x1ad)};var _0xeca066;_0x261bf3[_0x17fc19(0x16e)](before,function(){const _0x5a252d=_0x17fc19;_0xeca066=new DateRollingFileStream(path[_0x5a252d(0x21a)](__dirname,_0x5a252d(0x117)),{'mode':_0x4630c5[_0x5a252d(0x136)](parseInt,_0x5a252d(0x139),0x8)});}),after(async function(){const _0x4a0aef=_0x17fc19;await close(_0xeca066),await _0x4630c5[_0x4a0aef(0x270)](remove,path[_0x4a0aef(0x21a)](__dirname,'test-date-rolling-file-stream-4'));}),it(_0x261bf3[_0x17fc19(0x19a)],function(){const _0x258d68=_0x17fc19;'BTkVi'!==_0x258d68(0x1da)?(_0x3d8c3c=new _0xca8a38(0x7dc,0x8,0xd,0x0,0xa,0xc),_0x5cc0b9['write'](_0x4630c5[_0x258d68(0x1f9)],_0x258d68(0x192),_0x153445)):_0xeca066[_0x258d68(0x1d2)][_0x258d68(0x236)][_0x258d68(0x1c8)][_0x258d68(0x149)](_0x4630c5[_0x258d68(0x136)](parseInt,_0x4630c5[_0x258d68(0x189)],0x8));}),it(_0x261bf3['Ztcvo'],function(){const _0x5cad61=_0x17fc19,_0xa9867b={'EgZYv':_0x4630c5['AMHZp'],'FvWho':function(_0x3a0cef,_0x7088fd,_0x28e948){return _0x3a0cef(_0x7088fd,_0x28e948);},'WxrtU':_0x4630c5[_0x5cad61(0x189)]};_0x5cad61(0x115)===_0x4630c5[_0x5cad61(0x25e)]?_0x28e519=new _0x5d84ef(_0x45dacc[_0x5cad61(0x21a)](_0x456f07,_0xa9867b[_0x5cad61(0x109)]),{'mode':_0xa9867b[_0x5cad61(0xfb)](_0x25802f,_0xa9867b[_0x5cad61(0x1f0)],0x8)}):_0xeca066['options'][_0x5cad61(0x18f)][_0x5cad61(0x1c8)][_0x5cad61(0x149)](_0x5cad61(0x277));});}),_0x261bf3[_0x4379d7(0x253)](describe,_0x261bf3[_0x4379d7(0x20c)],function(){const _0x2d2e69=_0x4379d7,_0x1504e7={'BiVfm':function(_0x41cbc1,_0x229f04,_0x389405){const _0x375ebf=_0x2434;return _0x261bf3[_0x375ebf(0x184)](_0x41cbc1,_0x229f04,_0x389405);},'sKNOl':'should\x20be\x20routed\x20from\x20options.daysToKeep\x20to\x20options.numBackups','Dehal':function(_0x1db201,_0xffdcda,_0x23d785){const _0x597999=_0x2434;return _0x261bf3[_0x597999(0x10f)](_0x1db201,_0xffdcda,_0x23d785);},'iKxlY':_0x2d2e69(0x20e),'fnaQA':_0x2d2e69(0x1d0),'yABJs':_0x261bf3[_0x2d2e69(0x22a)],'NWuck':function(_0x4c1e7a,_0x2096cb,_0x369fbc){return _0x4c1e7a(_0x2096cb,_0x369fbc);},'ENfnB':_0x261bf3[_0x2d2e69(0x1f2)]};var _0x534196;_0x261bf3[_0x2d2e69(0x1f8)](before,function(_0x34c687){const _0x4dce4e=_0x2d2e69;_0x534196=new DateRollingFileStream(path['join'](__dirname,_0x4dce4e(0x1ea)),_0x261bf3[_0x4dce4e(0x1cb)],null),_0x534196['write']('First\x20message\x0a',_0x4dce4e(0x192),_0x34c687);}),_0x261bf3['QVTCs'](after,async function(){const _0x2b63c6=_0x2d2e69;await _0x261bf3[_0x2b63c6(0x1cd)](close,_0x534196),await remove(path[_0x2b63c6(0x21a)](__dirname,_0x261bf3[_0x2b63c6(0x16b)]));}),_0x261bf3[_0x2d2e69(0x1c2)](it,'should\x20create\x20a\x20file\x20with\x20the\x20base\x20name',async function(){const _0x5d0f44=_0x2d2e69,_0x4d189e=await fs[_0x5d0f44(0x273)](path[_0x5d0f44(0x21a)](__dirname,_0x5d0f44(0x1ea)),_0x5d0f44(0x192));_0x4d189e[_0x5d0f44(0x1c8)]['eql'](_0x5d0f44(0x1c4));}),describe(_0x261bf3[_0x2d2e69(0x1eb)],function(){const _0x4b3fbc=_0x2d2e69,_0x1e2aa8={'NsoIv':_0x4b3fbc(0x1ea),'LONbK':'Second\x20message\x0a','ILfsv':function(_0x3e1221,_0x2c81dd,_0x415b25){return _0x3e1221(_0x2c81dd,_0x415b25);}};if(_0x261bf3['mNVmf'](_0x261bf3['VXzhF'],_0x4b3fbc(0x20d))){const _0x1dbd35={'vqjTz':function(_0x22401b,_0x18bff4){return _0x22401b+_0x18bff4;}};_0x1504e7['BiVfm'](_0x57a71e,_0x1504e7[_0x4b3fbc(0x242)],()=>{const _0x13a5e5=_0x4b3fbc;_0x5266a6[_0x13a5e5(0x114)][_0x13a5e5(0x1c0)][_0x13a5e5(0x1c8)][_0x13a5e5(0x149)](_0xe17f35[_0x13a5e5(0x114)]['daysToKeep']);}),_0x1504e7['Dehal'](_0x2de12b,_0x1504e7[_0x4b3fbc(0x1a3)],()=>{const _0x5b347b=_0x4b3fbc;_0x15ef71[_0x5b347b(0x114)][_0x5b347b(0x12b)]['should']['eql'](_0x1dbd35['vqjTz'](_0x3b526b[_0x5b347b(0x114)][_0x5b347b(0x1c0)],0x1));});}else _0x261bf3[_0x4b3fbc(0x16e)](before,function(_0x27983d){const _0x2d966a=_0x4b3fbc;fakeNow=new Date(0x7dc,0x8,0xd,0x0,0xa,0xc),_0x534196['write'](_0x2d966a(0x163),_0x2d966a(0x192),_0x27983d);}),after(async function(){const _0x3f3592=_0x4b3fbc;_0x1504e7['fnaQA']===_0x3f3592(0x1d0)?await remove(path['join'](__dirname,_0x1504e7[_0x3f3592(0x183)])):(_0x3abdfd=new _0x5093c1(0x7dc,0x8,0xd,0x0,0xa,0xc),_0x401c9a[_0x3f3592(0x1b4)]('Second\x20message\x0a','utf8',_0x1313bf));}),_0x261bf3[_0x4b3fbc(0x1dd)](describe,_0x4b3fbc(0x20a),function(){const _0x1020f7=_0x4b3fbc;_0x1504e7[_0x1020f7(0x250)](it,_0x1020f7(0x14a),async function(){const _0x308590=_0x1020f7,_0x9302bf=await fs[_0x308590(0x119)](__dirname);_0x9302bf[_0x308590(0x16c)](_0x145ac3=>_0x145ac3['indexOf'](_0x308590(0x1ea))>-0x1)[_0x308590(0x1c8)][_0x308590(0x176)][_0x308590(0x276)](0x2);});}),_0x261bf3[_0x4b3fbc(0x1d5)](describe,_0x261bf3[_0x4b3fbc(0x14c)],function(){const _0x348768=_0x4b3fbc,_0xd24709={'XgTqD':_0x1e2aa8['NsoIv'],'obyzp':_0x348768(0x192),'FKOEe':_0x1e2aa8['LONbK']};_0x1e2aa8[_0x348768(0x10b)](it,'should\x20contain\x20the\x20second\x20message',async function(){const _0x3d89d9=_0x348768,_0x4bda88={'kWuSW':_0x3d89d9(0x163)};if(_0x3d89d9(0x142)!==_0x3d89d9(0x24a)){const _0x198951=await fs['readFile'](path[_0x3d89d9(0x21a)](__dirname,_0xd24709['XgTqD']),_0xd24709[_0x3d89d9(0x17e)]);_0x198951['should']['eql'](_0xd24709['FKOEe']);}else _0x51924b=new _0x39537f(0x7dc,0x8,0xd,0x0,0xa,0xc),_0x1df1f9[_0x3d89d9(0x1b4)](_0x4bda88['kWuSW'],'utf8',_0x3fc32f);});}),_0x261bf3[_0x4b3fbc(0x184)](describe,_0x261bf3[_0x4b3fbc(0x1cc)],function(){const _0x1dc9b9=_0x4b3fbc,_0x1c2c3a={'xVUsk':_0x1504e7[_0x1dc9b9(0x183)],'QdCsY':'First\x20message\x0a'};it(_0x1504e7['ENfnB'],async function(){const _0x2ff8f5=_0x1dc9b9,_0x38b2ac=await fs[_0x2ff8f5(0x273)](path[_0x2ff8f5(0x21a)](__dirname,_0x1c2c3a[_0x2ff8f5(0x121)]),'utf8');_0x38b2ac[_0x2ff8f5(0x1c8)][_0x2ff8f5(0x149)](_0x1c2c3a[_0x2ff8f5(0x234)]);});});});}),describe(_0x4379d7(0x1b7),function(){const _0x2561c0=_0x4379d7,_0x3fc00c={'XFEku':function(_0x2ba695,_0x1f51e6){return _0x2ba695(_0x1f51e6);},'iTXvr':_0x2561c0(0xf9),'NnDzd':_0x261bf3['xnQBd'],'ARrnt':function(_0x12be5a,_0x57d630){return _0x261bf3['atLyC'](_0x12be5a,_0x57d630);},'ZnjEl':_0x261bf3[_0x2561c0(0x243)],'SFgQT':function(_0x1256d9,_0x17a980,_0x3c31fc){return _0x1256d9(_0x17a980,_0x3c31fc);},'AQFOM':_0x261bf3[_0x2561c0(0x25a)],'kbDIE':_0x261bf3['eopAE'],'JNUJY':_0x261bf3[_0x2561c0(0x255)],'jlciS':function(_0x29b576,_0x2ab53e){return _0x29b576!==_0x2ab53e;},'ijZME':_0x2561c0(0x102),'UWnCk':_0x261bf3['dyThc'],'zQPog':_0x261bf3[_0x2561c0(0x1cc)]};var _0x34488a;before(async function(){const _0x2c0f3c=_0x2561c0,_0x3b30be={'hCrnl':_0x2c0f3c(0x1c4),'FQbAV':_0x2c0f3c(0x192),'yXTlT':function(_0x53f3f9,_0x15e22e,_0x2eb141){return _0x53f3f9(_0x15e22e,_0x2eb141);}};fakeNow=new Date(0x7dc,0x8,0xc,0xb,0xa,0xc),await _0x3fc00c[_0x2c0f3c(0x14f)](remove,path[_0x2c0f3c(0x21a)](__dirname,_0x3fc00c['iTXvr'])),_0x34488a=new DateRollingFileStream(path[_0x2c0f3c(0x21a)](__dirname,_0x2c0f3c(0x1bf)),_0x3fc00c[_0x2c0f3c(0x17a)],{'alwaysIncludePattern':!![]}),await new Promise(_0x537f57=>{_0x3b30be['yXTlT'](setTimeout,function(){const _0x122abb=_0x2434;_0x34488a['write'](_0x3b30be[_0x122abb(0x220)],_0x3b30be[_0x122abb(0x264)],()=>_0x537f57());},0x32);});}),after(async function(){const _0x2f8332=_0x2561c0;await _0x3fc00c['ARrnt'](close,_0x34488a),await remove(path[_0x2f8332(0x21a)](__dirname,_0x3fc00c[_0x2f8332(0x1be)]));}),_0x261bf3[_0x2561c0(0x184)](it,_0x261bf3[_0x2561c0(0x13a)],async function(){const _0x505d2c=_0x2561c0,_0xb9144a=await fs[_0x505d2c(0x273)](path[_0x505d2c(0x21a)](__dirname,_0x3fc00c[_0x505d2c(0x1be)]),_0x505d2c(0x192));_0xb9144a[_0x505d2c(0x1c8)][_0x505d2c(0x149)](_0x505d2c(0x1c4));}),describe(_0x261bf3[_0x2561c0(0x1eb)],function(){const _0x9504af=_0x2561c0,_0x216aad={'xJrWR':_0x3fc00c[_0x9504af(0x224)],'LJdZM':_0x9504af(0x1c7),'mfFvT':function(_0x252ec8,_0x23c27d){return _0x252ec8(_0x23c27d);},'MVCka':_0x3fc00c[_0x9504af(0x1e3)],'FPLBJ':function(_0x1caa94,_0x4e4f1e,_0x24d7d3){return _0x1caa94(_0x4e4f1e,_0x24d7d3);},'jcQgn':_0x9504af(0x192),'CKOil':_0x9504af(0x1c4),'zXcvy':_0x3fc00c['JNUJY'],'ZvMKP':function(_0x33c344,_0x48ec04){return _0x3fc00c['jlciS'](_0x33c344,_0x48ec04);},'TFqTG':_0x3fc00c[_0x9504af(0x233)],'rSZFt':_0x9504af(0x159),'RKmih':_0x9504af(0x1b8)};_0x3fc00c[_0x9504af(0x1d6)](before,function(_0x49d581){const _0xa71bb2=_0x9504af;fakeNow=new Date(0x7dc,0x8,0xc,0xc,0xa,0xc),_0x34488a[_0xa71bb2(0x1b4)](_0xa71bb2(0x163),_0xa71bb2(0x192),_0x49d581);}),_0x3fc00c[_0x9504af(0x14f)](after,async function(){const _0x1446e8=_0x9504af;_0x216aad['xJrWR']===_0x216aad['LJdZM']?_0x1ce89b=new _0x1dc0a9(_0x28af5a[_0x1446e8(0x21a)](_0x173e5e,_0x1446e8(0x151))):await _0x216aad[_0x1446e8(0x130)](remove,path[_0x1446e8(0x21a)](__dirname,_0x216aad['MVCka']));}),describe(_0x3fc00c[_0x9504af(0x232)],function(){const _0x4d9baa=_0x9504af;_0x216aad[_0x4d9baa(0x22f)](it,_0x4d9baa(0x14a),async function(){const _0x1254d1=_0x4d9baa,_0xee70ed=await fs[_0x1254d1(0x119)](__dirname);_0xee70ed[_0x1254d1(0x16c)](_0x250ba0=>_0x250ba0[_0x1254d1(0x153)](_0x1254d1(0x1bf))>-0x1)[_0x1254d1(0x1c8)][_0x1254d1(0x176)][_0x1254d1(0x276)](0x2);});}),_0x3fc00c['SFgQT'](describe,_0x9504af(0x11d),function(){const _0x349d2b=_0x9504af,_0xb83786={'LhccA':_0x3fc00c[_0x349d2b(0x1e3)],'YEdVk':_0x349d2b(0x192)};_0x3fc00c[_0x349d2b(0x20b)](it,_0x3fc00c['AQFOM'],async function(){const _0x2d3a6f=_0x349d2b,_0x177b08=await fs[_0x2d3a6f(0x273)](path[_0x2d3a6f(0x21a)](__dirname,_0xb83786[_0x2d3a6f(0x24c)]),_0xb83786[_0x2d3a6f(0x240)]);_0x177b08[_0x2d3a6f(0x1c8)][_0x2d3a6f(0x149)](_0x2d3a6f(0x163));});}),describe(_0x3fc00c['zQPog'],function(){const _0x2afdb9=_0x9504af,_0x372265={'aFuqN':_0x216aad['zXcvy'],'AGZqT':_0x2afdb9(0x192)};_0x216aad[_0x2afdb9(0x219)](_0x216aad[_0x2afdb9(0x155)],_0x216aad[_0x2afdb9(0x22b)])?it(_0x216aad['RKmih'],async function(){const _0x5dc900=_0x2afdb9,_0x4f49bf=await fs[_0x5dc900(0x273)](path['join'](__dirname,'test-date-rolling-file-stream-pattern.2012-09-12-11.log'),_0x216aad[_0x5dc900(0x1a1)]);_0x4f49bf[_0x5dc900(0x1c8)][_0x5dc900(0x149)](_0x216aad[_0x5dc900(0x14d)]);}):(_0x5afaff=new _0x48e0bd(0x7dc,0x8,0xc,0x0,0xa,0xc),_0x165ff4=new _0x575e0e(_0x2c9496[_0x2afdb9(0x21a)](_0x36c693,_0x372265[_0x2afdb9(0x190)]),_0x2afdb9(0x277),{'compress':!![],'keepFileExt':!![]}),_0x50d2ce[_0x2afdb9(0x1b4)](_0x2afdb9(0x1c4),_0x372265['AGZqT'],_0x348704));});});}),_0x261bf3[_0x4379d7(0x13b)](describe,_0x4379d7(0x164),function(){const _0x3ecd53=_0x4379d7,_0x12bc34={'kcALN':_0x3ecd53(0x163),'RpoWp':_0x261bf3[_0x3ecd53(0x107)],'IjdNu':_0x3ecd53(0x158),'eWLPV':_0x3ecd53(0x1f7),'TiYrB':_0x3ecd53(0x228),'GoLSf':function(_0x31133e,_0x2696bf){const _0x1ad07e=_0x3ecd53;return _0x261bf3[_0x1ad07e(0x1cd)](_0x31133e,_0x2696bf);}};let _0x3f3af5;_0x261bf3[_0x3ecd53(0x150)](before,_0x27f5e4=>{const _0x1141e3=_0x3ecd53;fakeNow=new Date(0x7dc,0x8,0xc,0x0,0xa,0xc),_0x3f3af5=new DateRollingFileStream(path[_0x1141e3(0x21a)](__dirname,'digits.log'),_0x1141e3(0x1ba)),_0x3f3af5[_0x1141e3(0x1b4)](_0x1141e3(0x1c4),_0x1141e3(0x192),_0x27f5e4);}),_0x261bf3[_0x3ecd53(0x146)](describe,'when\x20the\x20day\x20changes',function(){const _0x159f34=_0x3ecd53;before(function(_0x16499c){const _0x2f6a4b=_0x2434;fakeNow=new Date(0x7dc,0x8,0xd,0x0,0xa,0xc),_0x3f3af5[_0x2f6a4b(0x1b4)](_0x12bc34[_0x2f6a4b(0x188)],_0x12bc34[_0x2f6a4b(0x226)],_0x16499c);}),it(_0x159f34(0x172),async function(){const _0x1b89c1=_0x159f34,_0x1d5b72=await fs[_0x1b89c1(0x119)](__dirname);var _0x1d4e31=_0x1d5b72[_0x1b89c1(0x16c)](_0x1eba5b=>_0x1eba5b[_0x1b89c1(0x153)](_0x1b89c1(0x1f7))>-0x1);_0x1d4e31[_0x1b89c1(0x1c8)][_0x1b89c1(0x176)][_0x1b89c1(0x276)](0x2);const _0x206e8e=await fs[_0x1b89c1(0x273)](path['join'](__dirname,_0x12bc34['IjdNu']),_0x12bc34[_0x1b89c1(0x226)]);_0x206e8e[_0x1b89c1(0x1c8)][_0x1b89c1(0x149)](_0x1b89c1(0x1c4));const _0x38ce4c=await fs[_0x1b89c1(0x273)](path['join'](__dirname,_0x12bc34[_0x1b89c1(0x1bd)]),_0x12bc34[_0x1b89c1(0x226)]);_0x38ce4c[_0x1b89c1(0x1c8)][_0x1b89c1(0x149)](_0x1b89c1(0x163));});}),after(async function(){const _0x4f1170=_0x3ecd53;_0x12bc34[_0x4f1170(0x160)]!==_0x4f1170(0x228)?(_0x44907b=new _0x490b36(0x7dc,0x8,0xd,0x0,0xa,0xc),_0x20f22f['write'](_0x12bc34[_0x4f1170(0x188)],_0x12bc34[_0x4f1170(0x226)],_0x37b691)):(await close(_0x3f3af5),await _0x12bc34[_0x4f1170(0x239)](remove,path[_0x4f1170(0x21a)](__dirname,_0x12bc34['eWLPV'])),await remove(path[_0x4f1170(0x21a)](__dirname,_0x4f1170(0x158))));});}),_0x261bf3[_0x4379d7(0x229)](describe,_0x261bf3[_0x4379d7(0x16a)],function(){const _0x21c1f3=_0x4379d7,_0x9ff7c8={'CORxE':_0x261bf3[_0x21c1f3(0x16d)],'tDPfS':'First\x20message\x0a','zSCLY':'Second\x20message\x0a','NSFtU':function(_0x22b373,_0x32cef9){return _0x22b373!==_0x32cef9;},'gtpuv':function(_0x1aae85,_0x367fcc){const _0x2159a9=_0x21c1f3;return _0x261bf3[_0x2159a9(0x16e)](_0x1aae85,_0x367fcc);},'mmrcw':function(_0x443cd1,_0x40bf91,_0x129258){return _0x443cd1(_0x40bf91,_0x129258);},'bESQr':_0x261bf3[_0x21c1f3(0x106)]};var _0x22bc52;before(function(_0x174a64){const _0x256702=_0x21c1f3;fakeNow=new Date(0x7dc,0x8,0xc,0x0,0xa,0xc),_0x22bc52=new DateRollingFileStream(path[_0x256702(0x21a)](__dirname,_0x9ff7c8[_0x256702(0x181)]),'yyyy-MM-dd',{'compress':!![]}),_0x22bc52[_0x256702(0x1b4)](_0x256702(0x1c4),_0x256702(0x192),_0x174a64);}),describe(_0x21c1f3(0x254),function(){const _0x59e642=_0x21c1f3,_0x528a52={'LRZOC':_0x9ff7c8[_0x59e642(0x171)],'lfkic':_0x59e642(0x1fb)};_0x9ff7c8['NSFtU']('fGBKJ','VNxST')?(_0x9ff7c8[_0x59e642(0x161)](before,function(_0x4ec3c4){const _0x1cdc4b=_0x59e642;fakeNow=new Date(0x7dc,0x8,0xd,0x0,0xa,0xc),_0x22bc52['write'](_0x528a52['LRZOC'],_0x1cdc4b(0x192),_0x4ec3c4);}),_0x9ff7c8['mmrcw'](it,_0x9ff7c8[_0x59e642(0x1f1)],async function(){const _0x33a7bc=_0x59e642,_0x5967e8=await fs[_0x33a7bc(0x119)](__dirname);var _0x51a741=_0x5967e8[_0x33a7bc(0x16c)](_0x4eaa81=>_0x4eaa81['indexOf'](_0x33a7bc(0x10d))>-0x1);_0x51a741['should'][_0x33a7bc(0x176)][_0x33a7bc(0x276)](0x2);const _0x423b61=await fs[_0x33a7bc(0x273)](path[_0x33a7bc(0x21a)](__dirname,_0x33a7bc(0x17f))),_0x26109c=await gunzip(_0x423b61);_0x26109c[_0x33a7bc(0x1a2)](_0x33a7bc(0x192))[_0x33a7bc(0x1c8)][_0x33a7bc(0x149)](_0x9ff7c8['tDPfS']),(await fs[_0x33a7bc(0x273)](path['join'](__dirname,_0x33a7bc(0x10d)),_0x33a7bc(0x192)))[_0x33a7bc(0x1c8)][_0x33a7bc(0x149)](_0x33a7bc(0x163));})):(_0x2b88e4[_0x59e642(0x238)][_0x59e642(0x1c8)][_0x59e642(0x149)](_0x528a52['lfkic']),_0x3d93a4[_0x59e642(0x1b6)]['should'][_0x59e642(0x149)](_0x59e642(0x260)));}),after(async function(){const _0x3a7061=_0x21c1f3;await _0x9ff7c8[_0x3a7061(0x161)](close,_0x22bc52),await remove(path[_0x3a7061(0x21a)](__dirname,_0x9ff7c8['CORxE'])),await remove(path[_0x3a7061(0x21a)](__dirname,_0x3a7061(0x17f)));});}),_0x261bf3[_0x4379d7(0x1d5)](describe,_0x261bf3['UEzef'],function(){const _0x46a197=_0x4379d7,_0x2b029b={'GlDZZ':_0x46a197(0x210),'IDZqQ':_0x261bf3[_0x46a197(0x118)],'NvjTJ':_0x261bf3[_0x46a197(0x271)],'CbJCX':_0x261bf3[_0x46a197(0x107)]};var _0x26ac68;_0x261bf3[_0x46a197(0x225)](before,function(_0x5afacf){const _0x1585e3=_0x46a197;fakeNow=new Date(0x7dc,0x8,0xc,0x0,0xa,0xc),_0x26ac68=new DateRollingFileStream(path[_0x1585e3(0x21a)](__dirname,_0x2b029b[_0x1585e3(0x125)]),'yyyy-MM-dd',{'keepFileExt':!![]}),_0x26ac68[_0x1585e3(0x1b4)](_0x2b029b[_0x1585e3(0x128)],_0x1585e3(0x192),_0x5afacf);}),describe(_0x261bf3[_0x46a197(0x1eb)],function(){const _0x625472=_0x46a197;before(function(_0x3cbeee){const _0x14400d=_0x2434;fakeNow=new Date(0x7dc,0x8,0xd,0x0,0xa,0xc),_0x26ac68[_0x14400d(0x1b4)](_0x2b029b[_0x14400d(0x217)],_0x2b029b[_0x14400d(0x15d)],_0x3cbeee);}),_0x261bf3[_0x625472(0x1dd)](it,_0x625472(0x1fd),async function(){const _0x5fd9b1=_0x625472,_0x57c8d3=await fs[_0x5fd9b1(0x119)](__dirname);var _0x5f0326=_0x57c8d3[_0x5fd9b1(0x16c)](_0x5990c8=>_0x5990c8[_0x5fd9b1(0x153)](_0x5fd9b1(0x1f5))>-0x1);_0x5f0326[_0x5fd9b1(0x1c8)][_0x5fd9b1(0x176)]['length'](0x2),(await fs[_0x5fd9b1(0x273)](path[_0x5fd9b1(0x21a)](__dirname,_0x5fd9b1(0x1f3)),_0x5fd9b1(0x192)))[_0x5fd9b1(0x1c8)]['eql'](_0x2b029b[_0x5fd9b1(0x128)]),(await fs[_0x5fd9b1(0x273)](path['join'](__dirname,_0x2b029b['GlDZZ']),_0x5fd9b1(0x192)))[_0x5fd9b1(0x1c8)]['eql'](_0x5fd9b1(0x163));});}),_0x261bf3[_0x46a197(0x200)](after,async function(){const _0xe3b532=_0x46a197;await close(_0x26ac68),await _0x261bf3[_0xe3b532(0x225)](remove,path['join'](__dirname,_0xe3b532(0x210))),await remove(path['join'](__dirname,_0x261bf3[_0xe3b532(0x185)]));});}),describe(_0x4379d7(0x1bc),function(){const _0x229898=_0x4379d7,_0x41ca72={'FTGZe':function(_0xe30601,_0x4bc365){const _0x4e5437=_0x2434;return _0x261bf3[_0x4e5437(0xf4)](_0xe30601,_0x4bc365);},'eZsWi':_0x229898(0x15c),'ZmozX':_0x229898(0x1c4),'bgfUH':'utf8','vVXxY':_0x261bf3[_0x229898(0x271)],'luDOK':'StreamRoller0001','XNByL':_0x229898(0x248),'yNNhk':_0x261bf3[_0x229898(0x1bb)],'RAEay':_0x229898(0x278),'iFEFC':function(_0x5ddf41,_0x9506b){const _0x258099=_0x229898;return _0x261bf3[_0x258099(0x150)](_0x5ddf41,_0x9506b);},'MUtMQ':_0x261bf3['GHqfO'],'OZqFD':function(_0x3182d9,_0x422dfd){const _0xc9e10a=_0x229898;return _0x261bf3[_0xc9e10a(0x1cd)](_0x3182d9,_0x422dfd);},'gBUja':_0x229898(0x25c)};var _0x31460e;before(function(_0x1e8df8){const _0x49771f=_0x229898;_0x41ca72[_0x49771f(0x1c9)](_0x41ca72[_0x49771f(0x122)],_0x41ca72[_0x49771f(0x122)])?new _0x463e85(_0x555b75[_0x49771f(0x21a)](_0x1dc616,_0x49771f(0x241)),{'numBackups':_0x2eb81b}):(fakeNow=new Date(0x7dc,0x8,0xc,0x0,0xa,0xc),_0x31460e=new DateRollingFileStream(path[_0x49771f(0x21a)](__dirname,_0x49771f(0x1e4)),'yyyy-MM-dd',{'compress':!![],'keepFileExt':!![]}),_0x31460e[_0x49771f(0x1b4)](_0x41ca72[_0x49771f(0x21f)],_0x41ca72['bgfUH'],_0x1e8df8));}),describe('when\x20the\x20day\x20changes',function(){const _0x348c9a=_0x229898,_0x165dbe={'CsDqp':_0x261bf3[_0x348c9a(0x16b)],'wtmaI':_0x348c9a(0x1d1),'UpGKp':'First\x20message\x0a','vkeSL':_0x261bf3['SOwoy'],'yAotm':_0x348c9a(0x192)};_0x261bf3[_0x348c9a(0x266)](before,function(_0x10a05f){const _0x39c7e8=_0x348c9a;fakeNow=new Date(0x7dc,0x8,0xd,0x0,0xa,0xc),_0x31460e[_0x39c7e8(0x1b4)](_0x41ca72[_0x39c7e8(0x1e8)],'utf8',_0x10a05f);}),_0x261bf3['YaoZF'](it,_0x261bf3[_0x348c9a(0x106)],async function(){const _0x24c511=_0x348c9a;if('FKTqF'!==_0x24c511(0x12e))_0x25bd5b=new _0x410285(_0x4128b0['join'](_0x5ebce1,_0x165dbe['CsDqp']),_0x165dbe[_0x24c511(0x1c6)],null),_0x121f96['write'](_0x165dbe[_0x24c511(0x1db)],_0x24c511(0x192),_0x26ec15);else{const _0x965f5d=await fs[_0x24c511(0x119)](__dirname);var _0x3bef45=_0x965f5d[_0x24c511(0x16c)](_0x2f7b13=>_0x2f7b13[_0x24c511(0x153)](_0x24c511(0x20f))>-0x1);_0x3bef45['should'][_0x24c511(0x176)][_0x24c511(0x276)](0x2);const _0xc39d7e=await fs[_0x24c511(0x273)](path[_0x24c511(0x21a)](__dirname,_0x165dbe[_0x24c511(0x103)])),_0x3a7f7f=await gunzip(_0xc39d7e);_0x3a7f7f[_0x24c511(0x1a2)](_0x165dbe['yAotm'])[_0x24c511(0x1c8)][_0x24c511(0x149)](_0x165dbe['UpGKp']),(await fs[_0x24c511(0x273)](path[_0x24c511(0x21a)](__dirname,_0x24c511(0x1e4)),_0x24c511(0x192)))[_0x24c511(0x1c8)][_0x24c511(0x149)]('Second\x20message\x0a');}});}),after(async function(){const _0x3a91b8=_0x229898;if(_0x41ca72[_0x3a91b8(0x1c9)]('dJbmo',_0x41ca72[_0x3a91b8(0x216)])){const _0x4f36b8={'iTjcT':_0x41ca72[_0x3a91b8(0x143)]};_0x5e040b['on'](_0x41ca72[_0x3a91b8(0x1d4)],_0x3ac868=>{const _0x6cfd92=_0x3a91b8;_0x3ac868['name']['should']['eql'](_0x6cfd92(0x1fb)),_0x3ac868[_0x6cfd92(0x1b6)][_0x6cfd92(0x1c8)][_0x6cfd92(0x149)](_0x4f36b8[_0x6cfd92(0x157)]);}),_0x6cf8b=new _0xfeaf9(_0x4560ba[_0x3a91b8(0x21a)](_0x4e7212,_0x41ca72['yNNhk']),{'daysToKeep':0x4});}else await close(_0x31460e),await _0x41ca72[_0x3a91b8(0x19d)](remove,path[_0x3a91b8(0x21a)](__dirname,_0x41ca72[_0x3a91b8(0x1b0)])),await _0x41ca72[_0x3a91b8(0x22d)](remove,path[_0x3a91b8(0x21a)](__dirname,_0x41ca72[_0x3a91b8(0x166)]));});}),describe(_0x261bf3[_0x4379d7(0x24d)],function(){const _0x39c9da=_0x4379d7,_0x5163ea={'liIfj':_0x39c9da(0x163),'jwIWQ':_0x261bf3[_0x39c9da(0x107)],'iYiog':_0x39c9da(0x263)};var _0x12faf4;_0x261bf3['YaMVz'](before,function(_0x48c869){const _0x220cd5=_0x39c9da;fakeNow=new Date(0x7dc,0x8,0xc,0x0,0xa,0xc),_0x12faf4=new DateRollingFileStream(path['join'](__dirname,_0x220cd5(0x127)),_0x220cd5(0x277),{'fileNameSep':'_'}),_0x12faf4[_0x220cd5(0x1b4)](_0x220cd5(0x1c4),_0x261bf3['dHNar'],_0x48c869);}),describe(_0x261bf3[_0x39c9da(0x1eb)],function(){const _0x3cb814=_0x39c9da,_0x32a932={'ELQFW':'Second\x20message\x0a','NyKsC':_0x3cb814(0x1c4)};_0x261bf3[_0x3cb814(0x208)](_0x3cb814(0x15e),_0x3cb814(0x15e))?(_0x3f291e=new _0x1552b0(0x7dc,0x8,0xd,0x0,0xa,0xc),_0x1c68f0[_0x3cb814(0x1b4)](_0x32a932[_0x3cb814(0x111)],_0x3cb814(0x192),_0x510c63)):(_0x261bf3[_0x3cb814(0x15f)](before,function(_0x341461){const _0x406046=_0x3cb814;fakeNow=new Date(0x7dc,0x8,0xd,0x0,0xa,0xc),_0x12faf4[_0x406046(0x1b4)](_0x5163ea[_0x406046(0x138)],_0x5163ea['jwIWQ'],_0x341461);}),it(_0x3cb814(0x1fd),async function(){const _0x5cfad8=_0x3cb814,_0x37b961=await fs[_0x5cfad8(0x119)](__dirname);var _0x3a6186=_0x37b961[_0x5cfad8(0x16c)](_0x2d2e52=>_0x2d2e52[_0x5cfad8(0x153)]('fileNameSep')>-0x1);_0x3a6186[_0x5cfad8(0x1c8)][_0x5cfad8(0x176)][_0x5cfad8(0x276)](0x2),(await fs['readFile'](path['join'](__dirname,_0x5cfad8(0x108)),_0x5cfad8(0x192)))[_0x5cfad8(0x1c8)][_0x5cfad8(0x149)](_0x32a932[_0x5cfad8(0x12a)]),(await fs[_0x5cfad8(0x273)](path['join'](__dirname,_0x5cfad8(0x127)),'utf8'))[_0x5cfad8(0x1c8)][_0x5cfad8(0x149)]('Second\x20message\x0a');}));}),_0x261bf3[_0x39c9da(0x227)](after,async function(){const _0x5f3c96=_0x39c9da;_0x261bf3['SOfON'](_0x261bf3[_0x5f3c96(0x182)],_0x261bf3[_0x5f3c96(0x112)])?(await _0x261bf3[_0x5f3c96(0x167)](close,_0x12faf4),await remove(path[_0x5f3c96(0x21a)](__dirname,_0x5f3c96(0x127))),await _0x261bf3[_0x5f3c96(0x16e)](remove,path[_0x5f3c96(0x21a)](__dirname,_0x5f3c96(0x108)))):(_0x5b7636['filename'][_0x5f3c96(0x1c8)][_0x5f3c96(0x149)](_0x44db06['join'](_0x3343f2,_0x5f3c96(0x17c))),_0x31e8db['options']['pattern'][_0x5f3c96(0x1c8)][_0x5f3c96(0x149)](_0x5163ea[_0x5f3c96(0x105)]),_0x484dd0[_0x5f3c96(0x1c8)]['be']['instanceOf'](_0x382efa[_0x5f3c96(0x267)]));});}),describe(_0x261bf3[_0x4379d7(0x1ff)],function(){const _0x5ccc29=_0x4379d7,_0x1a5130={'qIYhl':_0x261bf3[_0x5ccc29(0x118)],'jOSsw':_0x261bf3['GjGFg'],'Rhofk':function(_0x15a616,_0x3de774){return _0x15a616(_0x3de774);},'xuJdN':function(_0x5aba24,_0x2cc834,_0x12676c){return _0x5aba24(_0x2cc834,_0x12676c);}};var _0x113742;before(function(_0x334614){const _0x54c5de=_0x5ccc29;fakeNow=new Date(0x7dc,0x8,0xc,0x0,0xa,0xc),_0x113742=new DateRollingFileStream(path['join'](__dirname,_0x261bf3['zTzsv']),_0x261bf3['GmRBH'],{'fileNameSep':'_','keepFileExt':!![]}),_0x113742[_0x54c5de(0x1b4)](_0x54c5de(0x1c4),_0x54c5de(0x192),_0x334614);}),describe('when\x20the\x20day\x20changes',function(){const _0x487bd4=_0x5ccc29,_0x281847={'ljDTu':_0x1a5130[_0x487bd4(0x25d)]};_0x1a5130[_0x487bd4(0x10c)](before,function(_0x5a4852){const _0x118f2b=_0x487bd4;fakeNow=new Date(0x7dc,0x8,0xd,0x0,0xa,0xc),_0x113742['write'](_0x281847[_0x118f2b(0x104)],'utf8',_0x5a4852);}),_0x1a5130[_0x487bd4(0x230)](it,_0x487bd4(0x1fd),async function(){const _0x23e540=_0x487bd4,_0x2f2462=await fs[_0x23e540(0x119)](__dirname);var _0x1f72cd=_0x2f2462['filter'](_0x594d51=>_0x594d51[_0x23e540(0x153)]('fileNameSepAndKeepExt')>-0x1);_0x1f72cd[_0x23e540(0x1c8)]['have'][_0x23e540(0x276)](0x2),(await fs[_0x23e540(0x273)](path[_0x23e540(0x21a)](__dirname,_0x23e540(0x268)),_0x23e540(0x192)))[_0x23e540(0x1c8)][_0x23e540(0x149)](_0x1a5130[_0x23e540(0x274)]),(await fs[_0x23e540(0x273)](path['join'](__dirname,_0x23e540(0x129)),_0x23e540(0x192)))['should'][_0x23e540(0x149)](_0x23e540(0x163));});}),_0x261bf3['FmPGi'](after,async function(){const _0x4c8d30=_0x5ccc29;await close(_0x113742),await _0x261bf3[_0x4c8d30(0x1f8)](remove,path[_0x4c8d30(0x21a)](__dirname,_0x261bf3[_0x4c8d30(0x26a)])),await remove(path[_0x4c8d30(0x21a)](__dirname,_0x261bf3[_0x4c8d30(0x11f)]));});}),describe(_0x261bf3['FkNyv'],function(){const _0x541a2d=_0x4379d7;if(_0x261bf3[_0x541a2d(0x23f)]!==_0x261bf3['ZefsD'])_0x3b284c=new _0x3c5274(0x7dc,0x8,0xc,0xc,0xa,0xc),_0x2ec761['write'](_0x261bf3['GjGFg'],_0x261bf3[_0x541a2d(0x107)],_0x56f6e3);else{var _0x327669;before(function(_0x23f926){const _0x2272e4=_0x541a2d;fakeNow=new Date(0x7dc,0x8,0xc,0x0,0xa,0xc),_0x327669=new DateRollingFileStream(path['join'](__dirname,_0x261bf3['ymklu']),_0x2272e4(0x277),{'fileNameSep':'_','compress':!![]}),_0x327669[_0x2272e4(0x1b4)](_0x2272e4(0x1c4),_0x2272e4(0x192),_0x23f926);}),_0x261bf3[_0x541a2d(0x253)](describe,_0x261bf3[_0x541a2d(0x1eb)],function(){const _0x46f283=_0x541a2d,_0xa3f1af={'FfJwa':function(_0x34032d,_0x22d22b){const _0x546612=_0x2434;return _0x261bf3[_0x546612(0xf4)](_0x34032d,_0x22d22b);},'JwLha':'NygQY','yxVmD':_0x46f283(0x163),'EACGQ':_0x261bf3[_0x46f283(0x107)],'DpfVa':_0x261bf3['IMEeM']};_0x261bf3[_0x46f283(0x167)](before,function(_0x41907b){const _0x5a9828=_0x46f283;_0xa3f1af[_0x5a9828(0x1a9)](_0x5a9828(0xf2),_0xa3f1af[_0x5a9828(0x18a)])?(fakeNow=new Date(0x7dc,0x8,0xd,0x0,0xa,0xc),_0x327669[_0x5a9828(0x1b4)](_0xa3f1af['yxVmD'],_0xa3f1af['EACGQ'],_0x41907b)):_0x3e74b9['options'][_0x5a9828(0x1c0)][_0x5a9828(0x1c8)][_0x5a9828(0x149)](_0x4384d3[_0x5a9828(0x114)]['daysToKeep']);}),it(_0x46f283(0x133),async function(){const _0x5aea59=_0x46f283,_0x1691ca=await fs[_0x5aea59(0x119)](__dirname);var _0x5cc41a=_0x1691ca['filter'](_0x400ae6=>_0x400ae6[_0x5aea59(0x153)]('fileNameSepAndCompressed')>-0x1);_0x5cc41a[_0x5aea59(0x1c8)][_0x5aea59(0x176)][_0x5aea59(0x276)](0x2);const _0x3e847a=await fs['readFile'](path['join'](__dirname,_0xa3f1af['DpfVa'])),_0x595de1=await gunzip(_0x3e847a);_0x595de1[_0x5aea59(0x1a2)](_0x5aea59(0x192))[_0x5aea59(0x1c8)][_0x5aea59(0x149)](_0x5aea59(0x1c4)),(await fs[_0x5aea59(0x273)](path[_0x5aea59(0x21a)](__dirname,'fileNameSepAndCompressed.log'),_0x5aea59(0x192)))['should'][_0x5aea59(0x149)](_0xa3f1af[_0x5aea59(0x1fe)]);});}),_0x261bf3[_0x541a2d(0x10e)](after,async function(){const _0x43ac2e=_0x541a2d;await close(_0x327669),await remove(path[_0x43ac2e(0x21a)](__dirname,_0x261bf3[_0x43ac2e(0x177)])),await _0x261bf3[_0x43ac2e(0x225)](remove,path[_0x43ac2e(0x21a)](__dirname,_0x43ac2e(0x110)));});}}),describe('with\x20fileNameSep\x20option,\x20compress\x20option\x20and\x20keepFileExt\x20option',function(){const _0x3a67be=_0x4379d7,_0x5d7918={'CDyoq':_0x3a67be(0x277),'nokqW':_0x3a67be(0x1c4),'EmikX':'fileNameSepCompressedAndKeepExt.log','vWAwi':function(_0x5445dd,_0x54de77){return _0x5445dd(_0x54de77);},'udXPT':function(_0x4372d8,_0x5b76e2,_0x540d50){return _0x4372d8(_0x5b76e2,_0x540d50);},'eMhrW':_0x3a67be(0x133)};var _0x34b7b1;before(function(_0xcaa65c){const _0x3de80b=_0x3a67be;fakeNow=new Date(0x7dc,0x8,0xc,0x0,0xa,0xc),_0x34b7b1=new DateRollingFileStream(path['join'](__dirname,_0x3de80b(0x24f)),_0x5d7918['CDyoq'],{'fileNameSep':'_','compress':!![],'keepFileExt':!![]}),_0x34b7b1[_0x3de80b(0x1b4)](_0x5d7918[_0x3de80b(0x249)],_0x3de80b(0x192),_0xcaa65c);}),_0x261bf3[_0x3a67be(0x1dd)](describe,_0x261bf3['BYkDp'],function(){const _0x63af5b=_0x3a67be,_0x700ab6={'QEuYV':_0x63af5b(0x163),'gBfpd':_0x63af5b(0x192),'bsRwL':function(_0x184dd9,_0x2ca0cb){return _0x184dd9(_0x2ca0cb);},'gjmzC':_0x5d7918[_0x63af5b(0x249)],'Zaabp':_0x5d7918[_0x63af5b(0x1ca)]};_0x5d7918['vWAwi'](before,function(_0x18ba80){const _0x5b2175=_0x63af5b;fakeNow=new Date(0x7dc,0x8,0xd,0x0,0xa,0xc),_0x34b7b1[_0x5b2175(0x1b4)](_0x700ab6[_0x5b2175(0x134)],_0x700ab6['gBfpd'],_0x18ba80);}),_0x5d7918[_0x63af5b(0x18b)](it,_0x5d7918[_0x63af5b(0x145)],async function(){const _0xdcdfa8=_0x63af5b,_0x3c2ce7=await fs['readdir'](__dirname);var _0x420475=_0x3c2ce7[_0xdcdfa8(0x16c)](_0x29e757=>_0x29e757['indexOf'](_0xdcdfa8(0x203))>-0x1);_0x420475['should'][_0xdcdfa8(0x176)][_0xdcdfa8(0x276)](0x2);const _0x2d12e3=await fs[_0xdcdfa8(0x273)](path['join'](__dirname,'fileNameSepCompressedAndKeepExt_2012-09-12.log.gz')),_0x498020=await _0x700ab6[_0xdcdfa8(0x1ee)](gunzip,_0x2d12e3);_0x498020[_0xdcdfa8(0x1a2)](_0xdcdfa8(0x192))[_0xdcdfa8(0x1c8)][_0xdcdfa8(0x149)](_0x700ab6[_0xdcdfa8(0x24e)]),(await fs[_0xdcdfa8(0x273)](path[_0xdcdfa8(0x21a)](__dirname,_0x700ab6['Zaabp']),_0x700ab6[_0xdcdfa8(0x1a0)]))[_0xdcdfa8(0x1c8)][_0xdcdfa8(0x149)](_0x700ab6[_0xdcdfa8(0x134)]);});}),after(async function(){const _0x4a1900=_0x3a67be;await _0x261bf3['HAyhf'](close,_0x34b7b1),await remove(path[_0x4a1900(0x21a)](__dirname,_0x4a1900(0x24f))),await _0x261bf3[_0x4a1900(0xfa)](remove,path[_0x4a1900(0x21a)](__dirname,'fileNameSepCompressedAndKeepExt_2012-09-12.log.gz'));});}),_0x261bf3[_0x4379d7(0xfe)](describe,_0x261bf3[_0x4379d7(0x256)],()=>{const _0x368438=_0x4379d7,_0x5a344a={'rLcRH':_0x368438(0x248),'ohyGW':function(_0x2bccd4,_0x22dda7){return _0x2bccd4(_0x22dda7);},'ILHje':function(_0x1d1ab1,_0x2de073){const _0x3305fe=_0x368438;return _0x261bf3[_0x3305fe(0x1fa)](_0x1d1ab1,_0x2de073);},'GvDJt':_0x261bf3[_0x368438(0x1bb)],'GPDQf':_0x261bf3[_0x368438(0x246)],'HfHIF':function(_0x23c803,_0x40c4e6,_0x5211db){const _0x5552a4=_0x368438;return _0x261bf3[_0x5552a4(0x1d5)](_0x23c803,_0x40c4e6,_0x5211db);},'xRieP':_0x261bf3[_0x368438(0x1e5)],'BecJh':_0x261bf3[_0x368438(0x168)],'sgzlU':_0x368438(0x241),'NrHBY':'WtreW','UaBAT':function(_0x40d2a1,_0x208ccd){return _0x261bf3['OVMwo'](_0x40d2a1,_0x208ccd);},'kusNn':'obrUC'};if(_0x368438(0x265)===_0x261bf3[_0x368438(0x175)])_0xec9eb3[_0x368438(0x114)][_0x368438(0x18f)][_0x368438(0x1c8)][_0x368438(0x149)](_0x368438(0x277));else{const _0xe74a8a=process[_0x368438(0x132)](_0x261bf3[_0x368438(0x13c)])[_0x368438(0x1ab)]();let _0x4dac5a,_0x2efa04;before(_0x36577c=>{const _0x2cc51e=_0x368438,_0x334138={'QYinI':function(_0x564cda,_0x18b323){const _0x3c7402=_0x2434;return _0x261bf3[_0x3c7402(0x1aa)](_0x564cda,_0x18b323);},'yquue':'StreamRoller0001','lqUmN':function(_0xd730bc,_0x478524){return _0xd730bc===_0x478524;}},_0x211fff=_0xeac5c6=>{return _0x3fb312=>{const _0x101e1=_0x2434;if(_0x3fb312[_0x101e1(0x238)]===_0x101e1(0x1fb)&&_0x334138['QYinI'](_0x3fb312[_0x101e1(0x1b6)],_0x334138[_0x101e1(0x211)])){if(_0x334138[_0x101e1(0x25b)](_0x101e1(0x212),_0x101e1(0x11b)))_0x33253d(_0x5a6185);else return;}else _0xeac5c6(_0x3fb312);};};_0x4dac5a=_0x261bf3[_0x2cc51e(0x227)](_0x211fff,_0xe74a8a),process['prependListener'](_0x261bf3['rthhu'],_0x4dac5a),process[_0x2cc51e(0x156)](_0x2cc51e(0x248),_0xe74a8a),_0x36577c();}),_0x261bf3[_0x368438(0x23d)](after,async()=>{const _0x2dc136=_0x368438;process['prependListener'](_0x2dc136(0x248),_0xe74a8a),process[_0x2dc136(0x156)](_0x5a344a[_0x2dc136(0x18c)],_0x4dac5a),await _0x5a344a['ohyGW'](close,_0x2efa04),await _0x5a344a[_0x2dc136(0x21d)](remove,path['join'](__dirname,_0x5a344a[_0x2dc136(0x141)]));}),_0x261bf3[_0x368438(0x1d5)](it,_0x261bf3[_0x368438(0x207)],()=>{const _0x13115c=_0x368438;process['on'](_0x13115c(0x248),_0x238a33=>{const _0x5c5ac4=_0x13115c;_0x238a33['name'][_0x5c5ac4(0x1c8)][_0x5c5ac4(0x149)](_0x5a344a[_0x5c5ac4(0x1d3)]),_0x238a33[_0x5c5ac4(0x1b6)][_0x5c5ac4(0x1c8)][_0x5c5ac4(0x149)](_0x5c5ac4(0x260));}),_0x2efa04=new DateRollingFileStream(path[_0x13115c(0x21a)](__dirname,_0x261bf3[_0x13115c(0x1bb)]),{'daysToKeep':0x4});}),_0x261bf3['jBMfs'](describe,_0x368438(0x275),()=>{const _0x17737e=_0x368438;_0x5a344a[_0x17737e(0x140)](it,_0x5a344a['xRieP'],()=>{const _0x1b7aba=_0x17737e;_0x2efa04['options'][_0x1b7aba(0x1c0)][_0x1b7aba(0x1c8)][_0x1b7aba(0x149)](_0x2efa04['options'][_0x1b7aba(0x206)]);}),_0x5a344a['HfHIF'](it,_0x17737e(0x20e),()=>{const _0x10206a=_0x17737e;_0x2efa04[_0x10206a(0x114)][_0x10206a(0x12b)][_0x10206a(0x1c8)][_0x10206a(0x149)](_0x2efa04['options'][_0x10206a(0x1c0)]+0x1);});}),_0x261bf3[_0x368438(0x162)](describe,_0x368438(0x259),function(){const _0x346f20=_0x368438,_0x27decb={'WQtKj':'4|0|2|1|3'};if('obrUC'===_0x5a344a[_0x346f20(0x23b)]){let _0x1ca356;_0x5a344a[_0x346f20(0x140)](it,_0x346f20(0x1b5),function(){const _0x271a13=_0x346f20,_0x2f57c8=_0x5a344a['BecJh'][_0x271a13(0x1f6)]('|');let _0x2279f3=0x0;while(!![]){switch(_0x2f57c8[_0x2279f3++]){case'0':_0x1ca356[_0x271a13(0x114)]['daysToKeep'][_0x271a13(0x1c8)][_0x271a13(0x149)](0x9);continue;case'1':_0x1ca356[_0x271a13(0x114)]['daysToKeep'][_0x271a13(0x1c8)][_0x271a13(0x214)]['eql'](0x3);continue;case'2':_0x1ca356=new DateRollingFileStream(path[_0x271a13(0x21a)](__dirname,_0x5a344a[_0x271a13(0x1e2)]),{'daysToKeep':0x3,'numBackups':0x9});continue;case'3':_0x1ca356[_0x271a13(0x114)][_0x271a13(0x12b)][_0x271a13(0x1c8)][_0x271a13(0x149)](0xa);continue;case'4':_0x1ca356[_0x271a13(0x114)][_0x271a13(0x1c0)]['should'][_0x271a13(0x149)](0x9);continue;}break;}}),after(async function(){const _0xd9ffa5=_0x346f20;if(_0x5a344a[_0xd9ffa5(0x1a7)]===_0x5a344a[_0xd9ffa5(0x1a7)])await _0x5a344a['UaBAT'](close,_0x1ca356),await remove(_0xd9ffa5(0x241));else return;});}else{const _0x5bb72d=_0x27decb[_0x346f20(0x100)][_0x346f20(0x1f6)]('|');let _0x5dda3f=0x0;while(!![]){switch(_0x5bb72d[_0x5dda3f++]){case'0':_0x541bd0[_0x346f20(0x114)][_0x346f20(0x206)][_0x346f20(0x1c8)]['not'][_0x346f20(0x149)](0x3);continue;case'1':_0x25564f[_0x346f20(0x114)][_0x346f20(0x1c0)][_0x346f20(0x1c8)][_0x346f20(0x149)](0x9);continue;case'2':_0x28cf1c['options'][_0x346f20(0x206)][_0x346f20(0x1c8)][_0x346f20(0x149)](0x9);continue;case'3':_0x45822d['options']['numToKeep'][_0x346f20(0x1c8)][_0x346f20(0x149)](0xa);continue;case'4':_0x5545fc=new _0x4d71e5(_0x4cbd12[_0x346f20(0x21a)](_0xf88faa,'numBackups.log'),{'daysToKeep':0x3,'numBackups':0x9});continue;}break;}}});}}),describe(_0x261bf3['fKifV'],()=>{const _0x5d26e0=_0x4379d7,_0x351c25={'XNpyB':function(_0xc58bba,_0xa30038){return _0xc58bba===_0xa30038;},'EQrPC':_0x261bf3[_0x5d26e0(0x23a)],'RNtiw':_0x5d26e0(0x241),'TzKfE':_0x5d26e0(0x277),'frCSA':_0x5d26e0(0x258)};_0x261bf3[_0x5d26e0(0x10f)](it,_0x5d26e0(0x22e),()=>{const _0x4c44d4=_0x5d26e0,_0x5448f6={'YCgiN':_0x4c44d4(0x139)};if(_0x351c25[_0x4c44d4(0x202)](_0x4c44d4(0x1b3),_0x351c25[_0x4c44d4(0x174)]))_0x11784a[_0x4c44d4(0x1d2)]['mode'][_0x4c44d4(0x1c8)][_0x4c44d4(0x149)](_0x465357(_0x5448f6[_0x4c44d4(0xf6)],0x8));else{const _0x6df6fc=-0x1;(()=>{const _0x577afd=_0x4c44d4;new DateRollingFileStream(path[_0x577afd(0x21a)](__dirname,_0x577afd(0x241)),{'numBackups':_0x6df6fc});})[_0x4c44d4(0x1c8)][_0x4c44d4(0x1a4)]('options.numBackups\x20('+_0x6df6fc+_0x4c44d4(0x24b));}}),it(_0x5d26e0(0x1ce),()=>{const _0x4eddb6=_0x5d26e0,_0x3c9861={'WSWlB':_0x351c25[_0x4eddb6(0x21b)]};if(_0x351c25[_0x4eddb6(0x202)](_0x4eddb6(0x144),_0x351c25[_0x4eddb6(0x19b)]))_0x594509=new _0xea5093(0x7dc,0x8,0xc,0x0,0xa,0xc),_0x383d22=new _0x408cc5(_0x2a2b1c[_0x4eddb6(0x21a)](_0x948940,_0x4eddb6(0x10d)),_0x3c9861[_0x4eddb6(0x213)],{'compress':!![]}),_0x512409[_0x4eddb6(0x1b4)](_0x4eddb6(0x1c4),'utf8',_0x562ce5);else{const _0x588127=Number['MAX_SAFE_INTEGER'];(()=>{const _0x338180=_0x4eddb6;new DateRollingFileStream(path[_0x338180(0x21a)](__dirname,_0x351c25[_0x338180(0x1f4)]),{'numBackups':_0x588127});})[_0x4eddb6(0x1c8)][_0x4eddb6(0x1a4)](_0x4eddb6(0x26d)+_0x588127+')\x20should\x20be\x20<\x20Number.MAX_SAFE_INTEGER');}});}),describe(_0x261bf3[_0x4379d7(0x120)],function(){const _0x1e2ece=_0x4379d7,_0x28502c={'FGMRP':_0x1e2ece(0x192),'UKAZl':_0x261bf3[_0x1e2ece(0x26c)],'DhkiB':'Test\x20message\x0a','RkKzd':function(_0x43ef60,_0x2603a0){const _0x479379=_0x1e2ece;return _0x261bf3[_0x479379(0x167)](_0x43ef60,_0x2603a0);}};let _0x303a96;var _0x32679c=0x4,_0x53ca0b=0xa;_0x261bf3[_0x1e2ece(0x1de)](before,async function(){const _0x3a8dc2=_0x1e2ece;fakeNow=new Date(0x7dc,0x8,0xd,0x0,0xa,0xc);for(let _0x16bf5f=0x0;_0x261bf3[_0x3a8dc2(0x179)](_0x16bf5f,_0x53ca0b);_0x16bf5f+=0x1){_0x261bf3[_0x3a8dc2(0x269)](_0x3a8dc2(0x194),_0x261bf3['dkCwl'])?(_0x1c4217=new _0x41c167(0x7dc,0x8,0xc,0x0,0xa,0xc),_0x156faf=new _0x3327d6(_0x532d86[_0x3a8dc2(0x21a)](_0x1a2607,_0x3a8dc2(0x127)),'yyyy-MM-dd',{'fileNameSep':'_'}),_0x185622[_0x3a8dc2(0x1b4)](_0x3a8dc2(0x1c4),_0x28502c[_0x3a8dc2(0x215)],_0x5a3e45)):await fs[_0x3a8dc2(0x13f)](path[_0x3a8dc2(0x21a)](__dirname,_0x3a8dc2(0x178)+(0x14-_0x16bf5f)),'Message\x20on\x20day\x20'+_0x16bf5f+'\x0a',{'encoding':_0x3a8dc2(0x12d)});}_0x303a96=new DateRollingFileStream(path[_0x3a8dc2(0x21a)](__dirname,_0x3a8dc2(0x241)),'yyyy-MM-dd',{'alwaysIncludePattern':!![],'numBackups':_0x32679c});}),_0x261bf3[_0x1e2ece(0x124)](describe,_0x1e2ece(0x254),function(){const _0x4e28d3=_0x1e2ece;_0x261bf3['JIJlf'](before,function(_0x246e7a){const _0x48f1eb=_0x2434;if(_0x28502c[_0x48f1eb(0x1e9)]===_0x28502c['UKAZl'])fakeNow=new Date(0x7dc,0x8,0x15,0x0,0xa,0xc),_0x303a96['write'](_0x28502c['DhkiB'],_0x48f1eb(0x192),_0x246e7a);else{const _0x564081=_0x24810b['MAX_SAFE_INTEGER'];(()=>{const _0x15a9bd=_0x48f1eb;new _0x3c4dec(_0x15fbfc[_0x15a9bd(0x21a)](_0x23e2d6,_0x15a9bd(0x241)),{'numBackups':_0x564081});})[_0x48f1eb(0x1c8)][_0x48f1eb(0x1a4)](_0x48f1eb(0x26d)+_0x564081+_0x48f1eb(0xf8));}}),it(_0x261bf3[_0x4e28d3(0x26e)],async function(){const _0x208c16=_0x4e28d3,_0x28499c=await fs[_0x208c16(0x119)](__dirname);var _0x4199cf=_0x28499c[_0x208c16(0x16c)](_0xa51964=>_0xa51964[_0x208c16(0x153)](_0x208c16(0x241))>-0x1);_0x4199cf[_0x208c16(0x1c8)][_0x208c16(0x176)]['length'](_0x32679c+0x1);});}),_0x261bf3[_0x1e2ece(0x12c)](after,async function(){const _0x342282=_0x1e2ece;await _0x28502c[_0x342282(0x1ac)](close,_0x303a96);const _0x5653f9=await fs[_0x342282(0x119)](__dirname),_0x43b13a=_0x5653f9['filter'](_0x5c80fc=>_0x5c80fc[_0x342282(0x153)]('numBackups.log')>-0x1)[_0x342282(0xff)](_0xc34adb=>remove(path[_0x342282(0x21a)](__dirname,_0xc34adb)));await Promise[_0x342282(0x13d)](_0x43b13a);});}),describe(_0x261bf3[_0x4379d7(0x123)],function(){const _0x1ff1ca=_0x4379d7;let _0x457d11;const _0x120508=0x4,_0x574c0f=0xa;before(async function(){const _0x334c4d=_0x2434;fakeNow=new Date(0x7dc,0x8,0xd,0x0,0xa,0xc);for(let _0x33151e=_0x574c0f;_0x33151e>=0x0;_0x33151e-=0x1){const _0x2e4ac8=await gzip(_0x334c4d(0xfc)+_0x33151e+'\x0a');await fs['writeFile'](path[_0x334c4d(0x21a)](__dirname,_0x334c4d(0x1dc)+_0x261bf3[_0x334c4d(0x135)](0x14,_0x33151e)+_0x334c4d(0x17b)),_0x2e4ac8);}_0x457d11=new DateRollingFileStream(path[_0x334c4d(0x21a)](__dirname,_0x261bf3['xCgsL']),_0x261bf3[_0x334c4d(0x19e)],{'alwaysIncludePattern':!![],'compress':!![],'numBackups':_0x120508});}),describe(_0x261bf3[_0x1ff1ca(0x1eb)],function(){const _0x315700=_0x1ff1ca,_0x30bff8={'KJpJo':_0x315700(0xfd),'TLySo':function(_0xca9ee1,_0x315d04){const _0x596afe=_0x315700;return _0x261bf3[_0x596afe(0x19f)](_0xca9ee1,_0x315d04);}};_0x261bf3[_0x315700(0x1e7)](before,function(_0xf3993b){const _0x13d866=_0x315700;fakeNow=new Date(0x7dc,0x8,0x15,0x0,0xa,0xc),_0x457d11[_0x13d866(0x1b4)](_0x30bff8[_0x13d866(0x193)],_0x13d866(0x192),_0xf3993b);}),it('should\x20be\x205\x20files\x20left\x20from\x20original\x2011',async function(){const _0x1cb2a4=_0x315700,_0x4d8454=await fs[_0x1cb2a4(0x119)](__dirname);var _0x236e6d=_0x4d8454['filter'](_0x2b3bc7=>_0x2b3bc7[_0x1cb2a4(0x153)]('compressedNumBackups.log')>-0x1);_0x236e6d[_0x1cb2a4(0x1c8)][_0x1cb2a4(0x176)][_0x1cb2a4(0x276)](_0x30bff8[_0x1cb2a4(0x1ed)](_0x120508,0x1));});}),_0x261bf3[_0x1ff1ca(0x252)](after,async function(){const _0x1ad653=_0x1ff1ca;await close(_0x457d11);const _0x4f3baf=await fs['readdir'](__dirname),_0x524213=_0x4f3baf[_0x1ad653(0x16c)](_0x434f98=>_0x434f98[_0x1ad653(0x153)](_0x1ad653(0x1df))>-0x1)['map'](_0x18be74=>remove(path['join'](__dirname,_0x18be74)));await Promise[_0x1ad653(0x13d)](_0x524213);});});});