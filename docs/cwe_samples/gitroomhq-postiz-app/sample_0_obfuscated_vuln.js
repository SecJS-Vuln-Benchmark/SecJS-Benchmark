var _0x13bd5a=_0x295e;(function(_0x168c7b,_0x58f150){var _0x5eb9a1=_0x295e,_0x2c0b47=_0x168c7b();while(!![]){try{var _0x26056f=parseInt(_0x5eb9a1(0x33b))/0x1*(parseInt(_0x5eb9a1(0x11a))/0x2)+-parseInt(_0x5eb9a1(0x542))/0x3*(parseInt(_0x5eb9a1(0x28d))/0x4)+parseInt(_0x5eb9a1(0x287))/0x5+parseInt(_0x5eb9a1(0x11d))/0x6*(-parseInt(_0x5eb9a1(0x308))/0x7)+parseInt(_0x5eb9a1(0x36b))/0x8+-parseInt(_0x5eb9a1(0x3d6))/0x9+parseInt(_0x5eb9a1(0x430))/0xa*(-parseInt(_0x5eb9a1(0x195))/0xb);if(_0x26056f===_0x58f150)break;else _0x2c0b47['push'](_0x2c0b47['shift']());}catch(_0x3de105){_0x2c0b47['push'](_0x2c0b47['shift']());}}}(_0x1bf9,0xc65be));function _0x295e(_0x46bf5e,_0x3e8e41){var _0x1bf9ef=_0x1bf9();return _0x295e=function(_0x295ef6,_0x42365e){_0x295ef6=_0x295ef6-0xce;var _0x456115=_0x1bf9ef[_0x295ef6];return _0x456115;},_0x295e(_0x46bf5e,_0x3e8e41);}var express=require(_0x13bd5a(0x1e5)),assert=require(_0x13bd5a(0x3c8)),net=require(_0x13bd5a(0x329)),server=require(_0x13bd5a(0x22f))({'https':0xe11,'http':0xe10}),url=require(_0x13bd5a(0x2a2)),followRedirects=require('..'),http=followRedirects[_0x13bd5a(0xdf)],https=followRedirects[_0x13bd5a(0x413)],fs=require('fs'),path=require(_0x13bd5a(0x3ab)),lolex=require('lolex'),util=require(_0x13bd5a(0x21e)),concat=require(_0x13bd5a(0x4ad)),concatJson=util[_0x13bd5a(0x42f)],delay=util[_0x13bd5a(0x37f)],redirectsTo=util[_0x13bd5a(0x3fe)],sendsJson=util['sendsJson'],asPromise=util[_0x13bd5a(0x112)],proxy=util['proxy'],testFile=path[_0x13bd5a(0x2c7)](__dirname,_0x13bd5a(0x2ee)),testFileBuffer=fs[_0x13bd5a(0x2e8)](testFile),testFileString=testFileBuffer[_0x13bd5a(0x484)](),nodeMajorVersion=Number[_0x13bd5a(0xdb)](process[_0x13bd5a(0x44c)][_0x13bd5a(0x4a2)](/\d+/)[0x0],0xa);describe('follow-redirects',function(){var _0x265b55=_0x13bd5a,_0x22fe69={'KBgeM':function(_0x1572ad){return _0x1572ad();},'iteNR':_0x265b55(0x1df),'NxhpL':_0x265b55(0x38e),'mzwCw':function(_0x545860,_0x2b904a){return _0x545860(_0x2b904a);},'xUuzQ':function(_0x2fbda3,_0x52f7c3){return _0x2fbda3(_0x52f7c3);},'bESiF':'http://localhost:3600/a','LZeUJ':function(_0x1894be,_0x3aaa6c,_0x39afd7){return _0x1894be(_0x3aaa6c,_0x39afd7);},'daHtE':_0x265b55(0x324),'XDbMI':function(_0x5b8cb5,_0x1ef8c5){return _0x5b8cb5===_0x1ef8c5;},'kSbxu':function(_0x1dcb73,_0x60b465){return _0x1dcb73(_0x60b465);},'VKOSn':function(_0x328490,_0x24a745){return _0x328490(_0x24a745);},'PNySf':function(_0x317096,_0x4381b5){return _0x317096(_0x4381b5);},'svePk':'bar','iQqPP':_0x265b55(0x1d4),'dVKdA':function(_0x554ce0,_0x405471){return _0x554ce0(_0x405471);},'foNOv':function(_0x3e9e30,_0x41ad9a,_0x210343){return _0x3e9e30(_0x41ad9a,_0x210343);},'ADTnd':_0x265b55(0x2e5),'gnjye':_0x265b55(0x23c),'dBiLu':function(_0x28c646,_0x254628){return _0x28c646!==_0x254628;},'ebfwA':_0x265b55(0x248),'fFjZm':_0x265b55(0x55e),'nndXS':function(_0x431772,_0x30cdae){return _0x431772(_0x30cdae);},'dvBNC':function(_0x24ad90,_0x32a757){return _0x24ad90(_0x32a757);},'JNKkS':_0x265b55(0x465),'ewIKP':function(_0xf3d398,_0x212bb5){return _0xf3d398(_0x212bb5);},'mDqUu':function(_0x4685bc,_0x1b3f99){return _0x4685bc(_0x1b3f99);},'pgqUD':_0x265b55(0x551),'pqgkO':_0x265b55(0x414),'DWoGC':function(_0x52cfad,_0x414d21){return _0x52cfad(_0x414d21);},'HDsCz':function(_0x5b61ed,_0xa37ccd){return _0x5b61ed instanceof _0xa37ccd;},'HYWmW':function(_0x3757a5,_0x747a2a){return _0x3757a5!==_0x747a2a;},'KoqeQ':_0x265b55(0x418),'rPHVu':_0x265b55(0x274),'Vcyuu':function(_0x5401b4,_0x564358){return _0x5401b4(_0x564358);},'yyzdh':function(_0x4d70e2,_0x1ec2b8){return _0x4d70e2 instanceof _0x1ec2b8;},'PofLB':function(_0x50ad00,_0x372b6f){return _0x50ad00(_0x372b6f);},'HeHHu':_0x265b55(0x397),'pOtqv':function(_0x21d667,_0x590b7b){return _0x21d667 instanceof _0x590b7b;},'ZTeJV':'http://[localhost]:3600/a','RfPge':function(_0x418d05,_0xd93fe6){return _0x418d05 instanceof _0xd93fe6;},'dhYlr':function(_0x54d1cb,_0x29223c){return _0x54d1cb(_0x29223c);},'EXVCC':function(_0x2c695d,_0x1d8e0a){return _0x2c695d instanceof _0x1d8e0a;},'TvAsh':_0x265b55(0x459),'Prpss':_0x265b55(0x1f8),'YEkJk':_0x265b55(0x3ba),'GLAPr':function(_0x52929f,_0x4809e8){return _0x52929f(_0x4809e8);},'dNHxM':function(_0x42bbab,_0x1eb0b1){return _0x42bbab(_0x1eb0b1);},'rsVwH':_0x265b55(0x153),'WPuGm':_0x265b55(0x455),'ktQGg':'GpSjO','ypEzd':'xjpJf','EtrhM':function(_0x4b0ad9,_0x582664){return _0x4b0ad9(_0x582664);},'rdrjS':function(_0x3d2aa3,_0x425fec){return _0x3d2aa3(_0x425fec);},'BiDPj':'/relative','MiPep':function(_0x5b091e,_0x2be90c,_0x4d2d3a){return _0x5b091e(_0x2be90c,_0x4d2d3a);},'XaZqb':_0x265b55(0x45d),'bxHPk':_0x265b55(0x464),'ApfBW':function(_0x4883b3,_0x538c2a){return _0x4883b3(_0x538c2a);},'qwLFc':_0x265b55(0x34a),'hCtwi':_0x265b55(0x158),'lfOiy':_0x265b55(0x273),'MhwPf':_0x265b55(0x436),'DECoa':_0x265b55(0x3b0),'KrPeZ':function(_0x38e8e6,_0x384c5e){return _0x38e8e6(_0x384c5e);},'uCwjc':function(_0x1abe7c,_0x451948,_0x75774c){return _0x1abe7c(_0x451948,_0x75774c);},'ptEzs':'socket\x20event\x20should\x20emit\x20with\x20socket','zTHor':_0x265b55(0x30a),'WcuYP':'connect','XRwDi':function(_0x3e1577,_0x13b625){return _0x3e1577(_0x13b625);},'DTDxZ':'6|3|7|5|0|2|1|4','tDTEa':function(_0x3f8f1b,_0x36430b){return _0x3f8f1b(_0x36430b);},'dRZoS':function(_0x127b86,_0x15976d){return _0x127b86(_0x15976d);},'JQsmI':'Redirected\x20request\x20failed:\x20Request\x20path\x20contains\x20unescaped\x20characters','rlPvZ':function(_0x3c5eb3,_0x2f527a){return _0x3c5eb3 instanceof _0x2f527a;},'EAwzi':_0x265b55(0x587),'npFyN':'Location:\x20other\x0d\x0a','xorPX':_0x265b55(0x150),'PzKBe':_0x265b55(0x377),'fneKw':_0x265b55(0x340),'ILLuL':function(_0x1f66b4,_0x24f6a3,_0x5d8ddb,_0x12a97b){return _0x1f66b4(_0x24f6a3,_0x5d8ddb,_0x12a97b);},'toSAN':_0x265b55(0x457),'hFFZL':_0x265b55(0x1d6),'TEYAQ':_0x265b55(0x21d),'tgiCZ':function(_0x292d94,_0x9367b2){return _0x292d94(_0x9367b2);},'fVNjc':_0x265b55(0xe9),'Ywftv':function(_0x396843){return _0x396843();},'aFJES':_0x265b55(0x31b),'AwsfL':'/redirect1','zwyrF':_0x265b55(0x491),'EotAM':function(_0x12e3ce,_0x4a9f98){return _0x12e3ce(_0x4a9f98);},'mymfg':function(_0x5aa2b2,_0x19e600){return _0x5aa2b2(_0x19e600);},'lsNIM':_0x265b55(0x56d),'NEsSD':'out','cJjzt':function(_0x4b1e8a,_0x3d6da1){return _0x4b1e8a(_0x3d6da1);},'LBDgw':function(_0x26fb6f,_0x4af6e7){return _0x26fb6f===_0x4af6e7;},'cMxTh':function(_0x4e334f,_0xb6f1df){return _0x4e334f(_0xb6f1df);},'BEKST':function(_0x5e9aae,_0x1a4155){return _0x5e9aae!==_0x1a4155;},'qvLlB':'vHshR','BpFxo':_0x265b55(0x229),'AZVLO':function(_0x460c38,_0x44ddae,_0x5c8d1c){return _0x460c38(_0x44ddae,_0x5c8d1c);},'rwlrx':_0x265b55(0x376),'asfdT':_0x265b55(0x538),'bchLU':'SKrLm','PLVQu':function(_0x4d0985,_0x579c14){return _0x4d0985(_0x579c14);},'JoNQJ':_0x265b55(0x22e),'nCvKX':function(_0x445ade,_0x20a3f6,_0x3e783c){return _0x445ade(_0x20a3f6,_0x3e783c);},'iNCDo':_0x265b55(0x527),'ETDwM':_0x265b55(0x427),'QlcEh':_0x265b55(0x4f9),'lkQGv':_0x265b55(0x3b2),'KMhyR':_0x265b55(0x26d),'FcYkJ':_0x265b55(0x35f),'DVfmk':'https://localhost:3601/a','hRjAF':function(_0xb108be,_0x7ed907,_0x3cee99){return _0xb108be(_0x7ed907,_0x3cee99);},'zoOFH':_0x265b55(0x4df),'OUQUT':function(_0x548ee4,_0x2f24f6){return _0x548ee4(_0x2f24f6);},'dJdcZ':_0x265b55(0x4be),'xEQJd':function(_0x56f954,_0x539c32){return _0x56f954(_0x539c32);},'CKElE':function(_0x3c78e9,_0x4ad0fc){return _0x3c78e9(_0x4ad0fc);},'ICMgF':_0x265b55(0x552),'egJHd':_0x265b55(0x2c6),'BCkhf':_0x265b55(0x15c),'iPCCI':function(_0x2b1778,_0x492c42){return _0x2b1778(_0x492c42);},'rtgZp':function(_0x281d6c,_0x179020){return _0x281d6c(_0x179020);},'XDpaC':_0x265b55(0x44f),'BiPzw':_0x265b55(0x313),'xjKsN':function(_0x219715,_0x2537ae){return _0x219715===_0x2537ae;},'ASlUK':_0x265b55(0x546),'fQjQQ':_0x265b55(0x325),'UDWfn':function(_0x2c20f9,_0x456e56){return _0x2c20f9(_0x456e56);},'XiyQT':function(_0x585a30,_0x2dac40){return _0x585a30(_0x2dac40);},'uMEmv':function(_0x560dfe,_0x421a06){return _0x560dfe(_0x421a06);},'EcPRE':function(_0x24ceb7,_0x3ae1b4){return _0x24ceb7(_0x3ae1b4);},'GztYh':_0x265b55(0x30f),'Zghrc':function(_0x33d1ff,_0x289680){return _0x33d1ff(_0x289680);},'OLlKH':_0x265b55(0x107),'sjWnl':_0x265b55(0x4a7),'RuFwH':'fJKIu','brxrJ':_0x265b55(0x1c1),'RQrab':'http://localhost:3600/b','SIJBu':function(_0x597986,_0x26dff0){return _0x597986>_0x26dff0;},'SECfp':_0x265b55(0x2cd),'KMuVO':function(_0x55c069,_0x5a44c1){return _0x55c069(_0x5a44c1);},'bhXrt':_0x265b55(0x489),'qYrZR':function(_0x5d63c9,_0x8955a5,_0xda90a1){return _0x5d63c9(_0x8955a5,_0xda90a1);},'dhXJG':_0x265b55(0x331),'xSdPK':'1|2|3|0|4','NXJIS':_0x265b55(0x35e),'qmcDI':function(_0x2c2ba2,_0x2fc9b4){return _0x2c2ba2===_0x2fc9b4;},'eYYEr':function(_0x2c4c0f,_0x5533f2){return _0x2c4c0f+_0x5533f2;},'DmBTP':_0x265b55(0xec),'HuYlT':function(_0x4b88f1,_0x2ab80b,_0x4af95a){return _0x4b88f1(_0x2ab80b,_0x4af95a);},'ZWXxd':function(_0xaa7df8,_0x3945be,_0x5cb2f2){return _0xaa7df8(_0x3945be,_0x5cb2f2);},'jvSix':_0x265b55(0x104),'geGuV':_0x265b55(0x238),'ROPGs':function(_0x574540,_0x3163ad){return _0x574540(_0x3163ad);},'woEWQ':function(_0x19b569,_0x5e6d97){return _0x19b569(_0x5e6d97);},'yFFwL':_0x265b55(0x4bd),'XgSFl':_0x265b55(0x2d6),'xsLuk':_0x265b55(0x1eb),'rkDsq':_0x265b55(0x50a),'IBibR':function(_0x374e1e,_0x130c5f,_0x46c251){return _0x374e1e(_0x130c5f,_0x46c251);},'FVxcA':function(_0xddcd45,_0x173e7a){return _0xddcd45+_0x173e7a;},'QVgTf':function(_0x512f2a,_0x4c1d64,_0x3e1778){return _0x512f2a(_0x4c1d64,_0x3e1778);},'PkXSs':_0x265b55(0x1ea),'WjtGl':function(_0x7c6217,_0x4de692){return _0x7c6217 instanceof _0x4de692;},'pcYEt':_0x265b55(0x466),'lWoLO':_0x265b55(0x4a8),'SdpiQ':_0x265b55(0x2c3),'paYSt':_0x265b55(0x530),'pcLlu':function(_0x5d47c1,_0x545d64,_0x26561e){return _0x5d47c1(_0x545d64,_0x26561e);},'vlhwh':function(_0x294e11,_0x1b7cb7){return _0x294e11(_0x1b7cb7);},'csgDR':function(_0x3e6fda,_0x4aa066){return _0x3e6fda instanceof _0x4aa066;},'mNKnO':'eapbL','qKzII':function(_0x4683c7,_0x2369f6,_0x440812){return _0x4683c7(_0x2369f6,_0x440812);},'GmfHp':_0x265b55(0x3e7),'romSO':function(_0x18f7bc,_0xd3f780){return _0x18f7bc(_0xd3f780);},'ilTmz':function(_0x489189,_0xf7f839,_0x57f695){return _0x489189(_0xf7f839,_0x57f695);},'CjKOQ':_0x265b55(0x53e),'xXULB':function(_0x5c15e0,_0x1eea33){return _0x5c15e0(_0x1eea33);},'dANcx':function(_0x9d8cb8,_0x35e56c,_0x4875c3){return _0x9d8cb8(_0x35e56c,_0x4875c3);},'oSTcN':function(_0x9fb0a0,_0x576ab3){return _0x9fb0a0(_0x576ab3);},'CfoMQ':function(_0x22babc,_0x3a0ede){return _0x22babc(_0x3a0ede);},'LAVVh':function(_0x3d616e,_0x3878a2){return _0x3d616e(_0x3878a2);},'Omagf':_0x265b55(0x23f),'oaJYE':'yDJPw','tCiNG':function(_0x3f805b,_0x3f2abb,_0x5440ca){return _0x3f805b(_0x3f2abb,_0x5440ca);},'flCsA':function(_0x4f9611,_0x4ebd30){return _0x4f9611(_0x4ebd30);},'cKlqj':_0x265b55(0x561),'wzqwn':'ZuIhM','KNlIA':_0x265b55(0x264),'ezrYh':_0x265b55(0x23d),'UJWYc':function(_0x5e45ea,_0x1fad39){return _0x5e45ea instanceof _0x1fad39;},'obqle':_0x265b55(0x13c),'aAeVw':_0x265b55(0x40b),'uoRaB':'set\x20per\x20request,\x20on\x20write','IfRhW':_0x265b55(0x27a),'VUUHq':_0x265b55(0x482),'UmAat':_0x265b55(0x203),'ddhwA':'throws\x20an\x20error','JCfol':_0x265b55(0x2f9),'AhOoS':'JWrTm','WrimV':_0x265b55(0x370),'nQbwx':function(_0x5817a0,_0x349915){return _0x5817a0(_0x349915);},'rqgpn':_0x265b55(0x487),'EacFd':function(_0x98f4ad,_0x5c3390,_0x4b88d3){return _0x98f4ad(_0x5c3390,_0x4b88d3);},'KGATv':function(_0x55393c,_0x544498,_0xf3935e){return _0x55393c(_0x544498,_0xf3935e);},'CYIgH':_0x265b55(0x1e3),'YlGiK':_0x265b55(0x34b),'YqCdK':function(_0xc89cc8,_0x7c3a7d,_0x211882){return _0xc89cc8(_0x7c3a7d,_0x211882);},'EOfwx':_0x265b55(0x342),'RakqQ':'http://localhost:3600/g','WPEHa':function(_0x455d19,_0x3c38c6){return _0x455d19(_0x3c38c6);},'fMpHP':function(_0x5d68ee,_0x28e511){return _0x5d68ee(_0x28e511);},'zOHbd':function(_0x3bd803,_0x4a77c7){return _0x3bd803(_0x4a77c7);},'JvASF':_0x265b55(0x55c),'rTWrc':function(_0x555b02,_0x1d321b,_0x3dc4ef){return _0x555b02(_0x1d321b,_0x3dc4ef);},'ZghLP':function(_0x5cafb4,_0x178467){return _0x5cafb4(_0x178467);},'yfEcZ':function(_0x3ee1e6,_0x2b0b06){return _0x3ee1e6!==_0x2b0b06;},'RMxyU':_0x265b55(0x3fc),'ngfVh':function(_0x23da70,_0x18fccc){return _0x23da70!==_0x18fccc;},'AXsfu':_0x265b55(0x167),'xdLdh':_0x265b55(0x445),'TCNaF':function(_0x4a05c0,_0x21ca7f,_0x578413){return _0x4a05c0(_0x21ca7f,_0x578413);},'oerGw':_0x265b55(0x380),'CWYZa':_0x265b55(0x2ca),'Gfmru':function(_0x1ee815,_0x3057d7,_0x59c3ef){return _0x1ee815(_0x3057d7,_0x59c3ef);},'xCrBn':_0x265b55(0x197),'zaenn':function(_0x406336,_0x3e5b31,_0x59957f){return _0x406336(_0x3e5b31,_0x59957f);},'Cdpvk':'passes\x20the\x20redirect\x20status\x20code\x20to\x20beforeRedirect','clvvs':function(_0x5c2646,_0x490be2,_0x55b960){return _0x5c2646(_0x490be2,_0x55b960);},'vIlUC':'passes\x20the\x20request\x20URL\x20to\x20beforeRedirect','iVDQY':function(_0x507743,_0x30d7f6){return _0x507743!==_0x30d7f6;},'ZJRdy':_0x265b55(0x253),'XgJKI':function(_0x54b842,_0x1d9831){return _0x54b842(_0x1d9831);},'Fjqoq':_0x265b55(0x1fa),'VSUNy':function(_0x1b0393,_0x1d6c35){return _0x1b0393(_0x1d6c35);},'BvOHr':function(_0x359b8e,_0x4c2544){return _0x359b8e!==_0x4c2544;},'segHy':_0x265b55(0x202),'vxmuW':function(_0x3274b0,_0x259719,_0x51e62d){return _0x3274b0(_0x259719,_0x51e62d);},'nKgQb':function(_0xe56448,_0x2c4355){return _0xe56448(_0x2c4355);},'iKxyG':function(_0x4a556c,_0x32cf37){return _0x4a556c(_0x32cf37);},'nFuxO':function(_0x2e6e2c,_0x523927){return _0x2e6e2c===_0x523927;},'ToNnr':_0x265b55(0x519),'jDAes':function(_0x5af274,_0x453e0a,_0x1ef15b){return _0x5af274(_0x453e0a,_0x1ef15b);},'qJnba':function(_0x230489,_0x40164f,_0x4f96b9){return _0x230489(_0x40164f,_0x4f96b9);},'VMtSd':_0x265b55(0x344),'daDmE':function(_0x59ddf6,_0xa57d9c,_0x47c9d0){return _0x59ddf6(_0xa57d9c,_0x47c9d0);},'EKpDo':function(_0x303817,_0x1c09cb){return _0x303817(_0x1c09cb);},'AbXgI':function(_0x3440e9,_0x144ae7){return _0x3440e9(_0x144ae7);},'tBGgg':_0x265b55(0x293),'QTNbI':_0x265b55(0x564),'HIBBf':function(_0x53a71c,_0x2e9915){return _0x53a71c(_0x2e9915);},'cYzSO':_0x265b55(0x4d0),'lWHer':function(_0x5328ed,_0x3e9d72){return _0x5328ed===_0x3e9d72;},'kWwyx':_0x265b55(0x183),'HPUVR':_0x265b55(0x573),'MKiLp':function(_0x2af6b3,_0x4c2d89,_0x3403b1){return _0x2af6b3(_0x4c2d89,_0x3403b1);},'UZyqo':_0x265b55(0x13b),'kNobD':function(_0x2c4b0b,_0x50e13a,_0xa86a89){return _0x2c4b0b(_0x50e13a,_0xa86a89);},'PxbAu':_0x265b55(0x44b),'eMlAC':function(_0x3951b1,_0x1e2c54){return _0x3951b1!==_0x1e2c54;},'ugHFc':function(_0x325b68,_0x4cdfe9){return _0x325b68(_0x4cdfe9);},'sqxGP':function(_0x2b12c0,_0x21adff){return _0x2b12c0(_0x21adff);},'AhHUj':_0x265b55(0x2d3),'VbMnq':_0x265b55(0x220),'ecCjj':function(_0x3bde22,_0x2aae11,_0x53a865){return _0x3bde22(_0x2aae11,_0x53a865);},'IpWbH':function(_0x48235c,_0x4e207a){return _0x48235c(_0x4e207a);},'nQRnX':_0x265b55(0x565),'PwzXd':_0x265b55(0x51d),'QzJEV':_0x265b55(0x506),'Dndks':_0x265b55(0x3b6),'uOjLT':_0x265b55(0x481),'rEyDF':_0x265b55(0x494),'QSjGC':_0x265b55(0x571),'ChMRU':function(_0x420a98,_0x1bb762,_0x54a5b4){return _0x420a98(_0x1bb762,_0x54a5b4);},'elfRX':function(_0x5bcdfd,_0x1d1b56,_0x1843f8){return _0x5bcdfd(_0x1d1b56,_0x1843f8);},'iiOOC':function(_0x4de298,_0x5c50c9,_0x36ff8c){return _0x4de298(_0x5c50c9,_0x36ff8c);},'ZFVmo':_0x265b55(0x102),'aZZkM':function(_0x483e46,_0x201f11){return _0x483e46+_0x201f11;},'pduhB':_0x265b55(0x576),'TMQym':function(_0x5bba36,_0x408f50,_0x1570de){return _0x5bba36(_0x408f50,_0x1570de);},'gfEoK':function(_0x3d49a1,_0x1633ef,_0x145e12){return _0x3d49a1(_0x1633ef,_0x145e12);},'StBCu':function(_0x1fdbca,_0x40b94e,_0x598194){return _0x1fdbca(_0x40b94e,_0x598194);},'zowXd':_0x265b55(0x214),'hWyNX':_0x265b55(0x206),'VJbgc':_0x265b55(0x17b),'sdLsU':function(_0x4c7ee3,_0x441e03,_0x5f0b3c){return _0x4c7ee3(_0x441e03,_0x5f0b3c);},'ThBSw':_0x265b55(0x53c),'HVJXu':function(_0x1d46e8,_0xe3a283,_0x1ec669){return _0x1d46e8(_0xe3a283,_0x1ec669);},'ALpjl':'http.get\x20with\x20relative\x20URL\x20path','OHHoj':function(_0xf2d485,_0x4a1ab3,_0x1751e1){return _0xf2d485(_0x4a1ab3,_0x1751e1);},'pgJSX':function(_0x582eb2,_0x3d6e18,_0x552b49){return _0x582eb2(_0x3d6e18,_0x552b49);},'hYCsI':'should\x20emit\x20connection\x20errors\x20on\x20the\x20returned\x20stream','wbchW':function(_0x2b3b08,_0x687cd0,_0x4ec01d){return _0x2b3b08(_0x687cd0,_0x4ec01d);},'VOgTx':'emits\x20an\x20error\x20on\x20redirects\x20with\x20an\x20invalid\x20location','OYBGp':function(_0xee4362,_0x39a48e,_0x99cf0b){return _0xee4362(_0x39a48e,_0x99cf0b);},'LyNtk':_0x265b55(0x321),'zbWDT':function(_0x14f12f,_0x449633,_0x589c4e){return _0x14f12f(_0x449633,_0x589c4e);},'WZFYv':'should\x20destroy\x20responses','CPsZk':_0x265b55(0x407),'IzsES':_0x265b55(0x3cd),'NpYwC':'should\x20provide\x20flushHeaders','XNbgF':'should\x20provide\x20getHeader','kVjhi':_0x265b55(0x46e),'DCsxp':_0x265b55(0x2df),'hpeMd':function(_0x358cc3,_0x28c185,_0x51d572){return _0x358cc3(_0x28c185,_0x51d572);},'RtAzQ':function(_0x52fd3c,_0xf7263a,_0x4987a3){return _0x52fd3c(_0xf7263a,_0x4987a3);},'PsXil':_0x265b55(0x50c),'uXGsa':function(_0x11741b,_0x5f1ba2,_0x2ca3ad){return _0x11741b(_0x5f1ba2,_0x2ca3ad);},'saMYo':'should\x20switch\x20to\x20safe\x20methods\x20when\x20appropriate','iYRyh':function(_0x5b3da0,_0xaaf003,_0x4f3c49){return _0x5b3da0(_0xaaf003,_0x4f3c49);},'zDcZh':function(_0x5f2cd3,_0x1f4df7,_0x52e9ef){return _0x5f2cd3(_0x1f4df7,_0x52e9ef);},'Vrmvg':function(_0x20b580,_0x3d8704,_0x1c0677){return _0x20b580(_0x3d8704,_0x1c0677);},'WireD':_0x265b55(0x2cb),'OTaxd':function(_0x52d05e,_0x22475c,_0x5a472f){return _0x52d05e(_0x22475c,_0x5a472f);},'CiHVU':function(_0x27321e,_0xb36cd6,_0x188b14){return _0x27321e(_0xb36cd6,_0x188b14);},'KgXvj':function(_0x4dadc2,_0x2ee9a5,_0x5d7250){return _0x4dadc2(_0x2ee9a5,_0x5d7250);},'SBIqZ':function(_0x4c2aa3,_0x5d24ca,_0x1bae18){return _0x4c2aa3(_0x5d24ca,_0x1bae18);},'rSbmb':function(_0xdde418,_0x22826c,_0xeb9aa9){return _0xdde418(_0x22826c,_0xeb9aa9);},'uGeFa':_0x265b55(0x391),'YeNVw':_0x265b55(0x257),'EwjEj':_0x265b55(0x303),'fiBlq':'should\x20not\x20hang\x20on\x20empty\x20writes'};function _0x5d777b(_0x520f00){var _0x52dda4=_0x265b55;return{'app':_0x520f00,'protocol':_0x52dda4(0x413),'cert':fs['readFileSync'](path['resolve'](__dirname,_0x52dda4(0x33e))),'key':fs[_0x52dda4(0x2e8)](path[_0x52dda4(0x2c7)](__dirname,'assets/localhost.key'))};}var _0x17d919=fs['readFileSync'](path['resolve'](__dirname,_0x265b55(0x272))),_0x347255,_0x2bc1c0,_0x39e4f1,_0x177c04;_0x22fe69[_0x265b55(0xe4)](beforeEach,function(){var _0x18d650=_0x265b55;_0x39e4f1=followRedirects[_0x18d650(0x4c2)],_0x177c04=followRedirects[_0x18d650(0x379)],_0x347255=_0x22fe69[_0x18d650(0x2bc)](express),_0x2bc1c0=express();}),_0x22fe69[_0x265b55(0x319)](afterEach,function(){var _0xf893db=_0x265b55;return followRedirects[_0xf893db(0x4c2)]=_0x39e4f1,followRedirects['maxBodyLength']=_0x177c04,server[_0xf893db(0x4c0)]();}),_0x22fe69[_0x265b55(0x364)](it,_0x265b55(0x3f2),function(){var _0x46c257=_0x265b55,_0x2c88b6=_0x22fe69[_0x46c257(0x3ff)][_0x46c257(0x497)]('|'),_0x2af920=0x0;while(!![]){switch(_0x2c88b6[_0x2af920++]){case'0':_0x347255[_0x46c257(0x507)]('/c',_0x22fe69['mzwCw'](redirectsTo,'/d'));continue;case'1':_0x347255['get']('/d',redirectsTo('/e'));continue;case'2':_0x347255[_0x46c257(0x507)]('/f',_0x22fe69[_0x46c257(0x502)](sendsJson,{'a':'b'}));continue;case'3':_0x347255[_0x46c257(0x507)]('/e',redirectsTo('/f'));continue;case'4':var _0xeafd8d={'siIoC':_0x22fe69['bESiF'],'KhdzW':function(_0xf2e8b4,_0x5876db,_0x12ddf3){var _0x50b971=_0x46c257;return _0x22fe69[_0x50b971(0x4bc)](_0xf2e8b4,_0x5876db,_0x12ddf3);}};continue;case'5':_0x347255['get']('/a',redirectsTo('/b'));continue;case'6':_0x347255[_0x46c257(0x507)]('/b',redirectsTo('/c'));continue;case'7':return server[_0x46c257(0x1a3)](_0x347255)['then'](asPromise(function(_0x3f7aff,_0x251581){var _0x54ed5e=_0x46c257;http[_0x54ed5e(0x507)](_0xeafd8d[_0x54ed5e(0x18d)],_0xeafd8d[_0x54ed5e(0x41f)](concatJson,_0x3f7aff,_0x251581))['on'](_0x54ed5e(0x324),_0x251581);}))[_0x46c257(0x22d)](function(_0x29c535){var _0x24f133=_0x46c257;assert['deepEqual'](_0x29c535['parsedJson'],{'a':'b'}),assert[_0x24f133(0x42a)](_0x29c535[_0x24f133(0x3cf)],_0x22fe69['iteNR']);});}break;}}),_0x22fe69[_0x265b55(0x50e)](it,_0x265b55(0x299),function(){var _0x13e137=_0x265b55,_0x3a6fa7={'MTDSI':function(_0x3b58a4,_0x4fd9a8){return _0x3b58a4(_0x4fd9a8);},'iudum':function(_0x164807,_0x435664){var _0x1a3976=_0x295e;return _0x22fe69[_0x1a3976(0x440)](_0x164807,_0x435664);}};return nodeMajorVersion<0xa&&this['skip'](),_0x347255[_0x13e137(0x507)]('/a',_0x22fe69[_0x13e137(0x194)](redirectsTo,'/b')),_0x347255[_0x13e137(0x507)]('/b',redirectsTo('/c')),_0x347255[_0x13e137(0x507)]('/c',_0x22fe69[_0x13e137(0x4b1)](redirectsTo,'/d')),_0x347255[_0x13e137(0x507)]('/d',_0x22fe69[_0x13e137(0x46d)](redirectsTo,'/e')),_0x347255[_0x13e137(0x507)]('/e',redirectsTo('/f')),_0x347255[_0x13e137(0x507)]('/f',sendsJson({'a':'b'})),server[_0x13e137(0x1a3)](_0x347255)[_0x13e137(0x22d)](_0x22fe69[_0x13e137(0x4b1)](asPromise,function(_0x205626,_0x51f136){var _0x4c8bab=_0x13e137;http[_0x4c8bab(0x507)](new URL(_0x4c8bab(0x14f)),concatJson(_0x205626,_0x51f136))['on'](_0x22fe69[_0x4c8bab(0x185)],_0x51f136);}))['then'](function(_0x28320a){var _0x3b9fdd=_0x13e137;_0x3a6fa7[_0x3b9fdd(0x47e)](_0x3b9fdd(0x1ce),_0x3b9fdd(0x1ce))?(assert[_0x3b9fdd(0x42a)](_0x28320a[_0x3b9fdd(0xf3)],{'a':'b'}),assert[_0x3b9fdd(0x42a)](_0x28320a[_0x3b9fdd(0x3cf)],_0x3b9fdd(0x1df))):(_0x230e37[_0x3b9fdd(0x507)]('/a',_0x2c7896('/b')),_0x4018d1[_0x3b9fdd(0x507)]('/b',_0x3a6fa7['MTDSI'](_0xe90634,'/c')),_0x5102a7[_0x3b9fdd(0x507)]('/c',_0x5d9543({})));});}),_0x22fe69[_0x265b55(0x114)](it,_0x22fe69[_0x265b55(0x217)],function(){var _0x1afacd=_0x265b55,_0x372cf1={'WscAP':_0x22fe69[_0x1afacd(0x4e3)],'aXTBw':_0x22fe69[_0x1afacd(0x3e4)],'QIEtS':_0x22fe69['iQqPP'],'Kevud':_0x1afacd(0x4e7),'Mwuto':'GET','VcslA':_0x22fe69['daHtE']};return _0x347255[_0x1afacd(0x507)]('/a',redirectsTo('/b')),_0x347255['get']('/b',redirectsTo('/c')),_0x347255[_0x1afacd(0x507)]('/c',_0x22fe69['VKOSn'](redirectsTo,'/d')),_0x347255[_0x1afacd(0x507)]('/d',redirectsTo('/e')),_0x347255[_0x1afacd(0x507)]('/e',redirectsTo('/f')),_0x347255[_0x1afacd(0x507)]('/f',_0x22fe69[_0x1afacd(0x502)](sendsJson,{'a':'b'})),server[_0x1afacd(0x1a3)](_0x347255)[_0x1afacd(0x22d)](_0x22fe69[_0x1afacd(0x161)](asPromise,function(_0x5b80c4,_0x478bc8){var _0x5b500e=_0x1afacd,_0x135e6d={'ZLowN':_0x372cf1[_0x5b500e(0x4fc)],'EtEzE':_0x372cf1[_0x5b500e(0x4b0)]};if(_0x372cf1[_0x5b500e(0x477)]!==_0x372cf1[_0x5b500e(0x3d5)]){var _0x353c19={'hostname':'localhost','port':0xe10,'path':'/a','method':_0x372cf1[_0x5b500e(0x4dd)]};http[_0x5b500e(0x507)](_0x353c19,concatJson(_0x5b80c4,_0x478bc8))['on'](_0x372cf1[_0x5b500e(0x226)],_0x478bc8);}else{var _0x26a536={'EkEzm':_0x135e6d[_0x5b500e(0x250)],'VUrag':_0x5b500e(0x4a8)};return _0x2b20f9[_0x5b500e(0x368)]('/a',_0x4518a0({'foo':_0x135e6d[_0x5b500e(0x146)]})),_0x47065a[_0x5b500e(0x1a3)](_0x2d6298)[_0x5b500e(0x22d)](_0x47560a(function(_0x39d631,_0x432592){var _0x529561=_0x5b500e,_0x469c25=_0x5e506d['request'](_0x529561(0x14f),{'method':_0x529561(0x538)},_0x39d631);_0x469c25[_0x529561(0x24e)](''),_0x469c25[_0x529561(0x24e)]('',function(){_0x469c25['end']('');}),_0x469c25['on'](_0x529561(0x324),_0x432592);}))[_0x5b500e(0x22d)](_0x4d0c1f(function(_0x5c7ead,_0x1ca6ca,_0xec3c20){var _0x401cc5=_0x5b500e;_0x5f27ab['deepEqual'](_0xec3c20[_0x401cc5(0x3cf)],_0x26a536[_0x401cc5(0x270)]),_0xec3c20[_0x401cc5(0x2b6)](_0x178896({'encoding':_0x26a536[_0x401cc5(0x1ad)]},_0x5c7ead))['on'](_0x401cc5(0x324),_0x1ca6ca);}));}}))[_0x1afacd(0x22d)](function(_0x1a5909){var _0x53ca8a=_0x1afacd;assert[_0x53ca8a(0x42a)](_0x1a5909['parsedJson'],{'a':'b'}),assert[_0x53ca8a(0x42a)](_0x1a5909[_0x53ca8a(0x3cf)],'http://localhost:3600/f');});}),it(_0x22fe69[_0x265b55(0x2db)],function(){var _0x59310a=_0x265b55;return _0x347255[_0x59310a(0x507)]('/a',sendsJson({'a':'b'})),server['start'](_0x347255)[_0x59310a(0x22d)](asPromise(function(_0x3bf3ec,_0x4bb296){var _0x2b2847=_0x59310a;http[_0x2b2847(0x507)](_0x22fe69[_0x2b2847(0x4e3)],_0x22fe69[_0x2b2847(0x25c)](concatJson,_0x3bf3ec,_0x4bb296))['on'](_0x2b2847(0x324),_0x4bb296);}))['then'](function(_0x23ec15){var _0x8d0696=_0x59310a;assert[_0x8d0696(0x42a)](_0x23ec15[_0x8d0696(0xf3)],{'a':'b'}),assert[_0x8d0696(0x42a)](_0x23ec15[_0x8d0696(0x3cf)],_0x22fe69[_0x8d0696(0x4e3)]);});}),it(_0x22fe69[_0x265b55(0x3c5)],function(){var _0x1bdbeb=_0x265b55,_0x224273={'BXaZj':_0x1bdbeb(0x23c),'iRWjG':_0x1bdbeb(0x2ca)};return _0x347255['get']('/a',sendsJson({'a':'b'})),server[_0x1bdbeb(0x1a3)](_0x347255)['then'](asPromise(function(_0x154e42,_0x436494){var _0x250885=_0x1bdbeb,_0x3118d7={'hostname':_0x224273['BXaZj'],'port':0xe10,'path':_0x250885(0x1fb),'method':_0x224273[_0x250885(0x38f)]};http[_0x250885(0x507)](_0x3118d7,concatJson(_0x154e42,_0x436494))['on']('error',_0x436494);}))[_0x1bdbeb(0x22d)](function(_0x353a6f){var _0x2316ef=_0x1bdbeb;assert['deepEqual'](_0x353a6f[_0x2316ef(0xf3)],{'a':'b'}),assert[_0x2316ef(0x42a)](_0x353a6f[_0x2316ef(0x3cf)],_0x22fe69['ADTnd']);});}),_0x22fe69[_0x265b55(0x2bd)](it,_0x265b55(0x103),function(){var _0x48e66c=_0x265b55,_0x4e7a70={'UzCFs':_0x22fe69[_0x48e66c(0x22a)],'cUmaF':function(_0x5e23e7,_0x1e800f,_0x399a68){var _0x594a5e=_0x48e66c;return _0x22fe69[_0x594a5e(0x25c)](_0x5e23e7,_0x1e800f,_0x399a68);},'bkvuH':_0x22fe69[_0x48e66c(0x185)]};if(_0x22fe69[_0x48e66c(0x2a9)](_0x22fe69[_0x48e66c(0x45f)],_0x22fe69[_0x48e66c(0x512)])){var _0x2996f7=_0x48e66c(0x389)[_0x48e66c(0x497)]('|'),_0x13bd53=0x0;while(!![]){switch(_0x2996f7[_0x13bd53++]){case'0':_0x347255[_0x48e66c(0x507)]('/d',redirectsTo('/e'));continue;case'1':_0x347255[_0x48e66c(0x507)]('/a',redirectsTo('/b'));continue;case'2':_0x347255[_0x48e66c(0x507)]('/f',_0x22fe69[_0x48e66c(0x1ae)](sendsJson,{'a':'b'}));continue;case'3':_0x347255['get']('/e',_0x22fe69[_0x48e66c(0x559)](redirectsTo,'/f'));continue;case'4':_0x347255['get']('/c',redirectsTo('/d'));continue;case'5':return server['start'](_0x347255)[_0x48e66c(0x22d)](asPromise(function(_0x233392,_0x16ad50){var _0x43ef10=_0x48e66c,_0x291e94={'host':_0x4e7a70[_0x43ef10(0xe3)],'port':0xe10,'path':'/a','method':_0x43ef10(0x2ca)};http[_0x43ef10(0x507)](_0x291e94,_0x4e7a70['cUmaF'](concatJson,_0x233392,_0x16ad50))['on'](_0x4e7a70[_0x43ef10(0x394)],_0x16ad50);}))[_0x48e66c(0x22d)](function(_0xb0a91f){var _0x578d15=_0x48e66c;assert[_0x578d15(0x42a)](_0xb0a91f[_0x578d15(0xf3)],{'a':'b'}),assert[_0x578d15(0x42a)](_0xb0a91f[_0x578d15(0x3cf)],_0x578d15(0x1df));});case'6':_0x347255[_0x48e66c(0x507)]('/b',redirectsTo('/c'));continue;}break;}}else{var _0x5bd819=_0x595262[_0x48e66c(0x563)](_0x269a6f);_0x4d4d76[_0x48e66c(0x1b6)](_0x5bd819[_0x2e31da[_0x48e66c(0x53f)]()],'the\x20header\x20value');}}),it(_0x265b55(0x162),function(){var _0x42a997=_0x265b55,_0x5e70e2={'Lcqbd':_0x22fe69[_0x42a997(0x570)],'ixJnv':_0x42a997(0x237)};return _0x347255[_0x42a997(0x507)]('/a',_0x22fe69[_0x42a997(0x194)](redirectsTo,'/b')),_0x347255[_0x42a997(0x507)]('/b',redirectsTo('/c')),_0x347255[_0x42a997(0x507)]('/c',_0x22fe69['xUuzQ'](redirectsTo,'/d')),_0x347255[_0x42a997(0x507)]('/d',_0x22fe69[_0x42a997(0x559)](redirectsTo,'/e')),_0x347255[_0x42a997(0x507)]('/e',_0x22fe69['PNySf'](redirectsTo,'/f')),_0x347255[_0x42a997(0x507)]('/f',_0x22fe69[_0x42a997(0x1bb)](sendsJson,{'a':'b'})),server[_0x42a997(0x1a3)](_0x347255)[_0x42a997(0x22d)](_0x22fe69['mDqUu'](asPromise,function(_0x27fa38,_0x2743b4){var _0x48b103=_0x42a997;http[_0x48b103(0x507)](_0x5e70e2[_0x48b103(0x2d5)],concatJson(_0x27fa38,_0x2743b4))['on'](_0x48b103(0x324),_0x2743b4);}))['then'](function(_0x568197){var _0x4b629e=_0x42a997;assert[_0x4b629e(0x42a)](_0x568197[_0x4b629e(0xf3)],{'a':'b'}),assert[_0x4b629e(0x42a)](_0x568197[_0x4b629e(0x3cf)],_0x5e70e2[_0x4b629e(0x282)]);});}),it(_0x265b55(0x265),function(){var _0x305572=_0x265b55,_0x33b9cb=_0x22fe69[_0x305572(0x4fe)][_0x305572(0x497)]('|'),_0x449656=0x0;while(!![]){switch(_0x33b9cb[_0x449656++]){case'0':_0x347255[_0x305572(0x507)]('/c',redirectsTo('/d'));continue;case'1':_0x347255[_0x305572(0x507)]('/b',redirectsTo('/c'));continue;case'2':_0x347255[_0x305572(0x507)]('/a',_0x22fe69[_0x305572(0x3d4)](redirectsTo,'/b'));continue;case'3':_0x347255[_0x305572(0x507)]('/e',_0x22fe69['mzwCw'](redirectsTo,'/f'));continue;case'4':_0x347255[_0x305572(0x507)]('/d',_0x22fe69[_0x305572(0x194)](redirectsTo,'/e'));continue;case'5':return server[_0x305572(0x1a3)](_0x347255)[_0x305572(0x22d)](_0x22fe69[_0x305572(0x4b1)](asPromise,function(_0x176990,_0x1ad469){var _0x64da7f=_0x305572;http[_0x64da7f(0x507)](_0x22fe69[_0x64da7f(0x26e)],_0x22fe69[_0x64da7f(0x4bc)](concatJson,_0x176990,_0x1ad469))['on'](_0x22fe69[_0x64da7f(0x185)],_0x1ad469);}))[_0x305572(0x22d)](function(_0x2cf275){var _0x4746a3=_0x305572;assert[_0x4746a3(0x42a)](_0x2cf275[_0x4746a3(0xf3)],{'a':'b'}),assert[_0x4746a3(0x42a)](_0x2cf275[_0x4746a3(0x3cf)],_0x4746a3(0x154));});case'6':_0x347255[_0x305572(0x507)]('/f',_0x22fe69[_0x305572(0x3d4)](sendsJson,{'a':'b'}));continue;}break;}}),it(_0x22fe69[_0x265b55(0x306)],function(){var _0x32cd0f=_0x265b55,_0x3c1727=null;try{http[_0x32cd0f(0x507)](_0x32cd0f(0x325));}catch(_0x3927d5){_0x22fe69['HYWmW'](_0x22fe69[_0x32cd0f(0x2da)],_0x32cd0f(0x418))?_0x22fe69[_0x32cd0f(0x194)](_0x3b601a,_0x22fe69['HDsCz'](_0x5b30a9[_0x32cd0f(0x276)],_0x466b63[_0x32cd0f(0x174)])):_0x3c1727=_0x3927d5;}assert(_0x22fe69['HDsCz'](_0x3c1727,Error)),_0x22fe69[_0x32cd0f(0x502)](assert,_0x22fe69[_0x32cd0f(0x12b)](_0x3c1727,TypeError)),assert[_0x32cd0f(0x1b6)](_0x3c1727['code'],'ERR_INVALID_URL'),assert[_0x32cd0f(0x1b6)](_0x3c1727[_0x32cd0f(0x2cc)],_0x32cd0f(0x325));}),_0x22fe69[_0x265b55(0x355)](it,'http.get\x20to\x20bracketed\x20IPv4\x20address\x20specified\x20as\x20host',function(){var _0x6ea970=_0x265b55,_0x5411e2={'JRTDk':_0x6ea970(0x14f),'ZAlsf':function(_0x4feed0,_0x4205b5){var _0x4dfad4=_0x6ea970;return _0x22fe69[_0x4dfad4(0x1ae)](_0x4feed0,_0x4205b5);}},_0x76d4b8=null;try{http[_0x6ea970(0x507)]({'host':_0x22fe69[_0x6ea970(0x2c9)],'path':'/a'});}catch(_0x1da830){_0x6ea970(0x15a)!==_0x6ea970(0x221)?_0x76d4b8=_0x1da830:_0x41227f[_0x6ea970(0x507)](_0x5411e2[_0x6ea970(0x1f1)],_0x5411e2['ZAlsf'](_0x5934a9,_0x5b79ce))['on'](_0x6ea970(0x324),_0x5e4756);}_0x22fe69[_0x6ea970(0x410)](assert,_0x22fe69['yyzdh'](_0x76d4b8,Error)),_0x22fe69[_0x6ea970(0x439)](assert,_0x76d4b8 instanceof TypeError),assert[_0x6ea970(0x1b6)](_0x76d4b8[_0x6ea970(0x558)],'ERR_INVALID_URL');}),it(_0x265b55(0x3e8),function(){var _0xda4120=_0x265b55,_0x14e50c=_0xda4120(0x145)[_0xda4120(0x497)]('|'),_0x5bfde4=0x0;while(!![]){switch(_0x14e50c[_0x5bfde4++]){case'0':try{http[_0xda4120(0x507)]({'hostname':_0x22fe69[_0xda4120(0x52f)],'port':0xe10,'path':'/a'});}catch(_0x3caadb){_0x38e86d=_0x3caadb;}continue;case'1':assert(_0x22fe69[_0xda4120(0x218)](_0x38e86d,TypeError));continue;case'2':assert(_0x22fe69['HDsCz'](_0x38e86d,Error));continue;case'3':assert[_0xda4120(0x1b6)](_0x38e86d[_0xda4120(0x558)],_0xda4120(0x459));continue;case'4':var _0x38e86d=null;continue;}break;}}),it(_0x265b55(0x338),function(){var _0x3f4c07=_0x265b55,_0x351835=null;try{http['get'](_0x22fe69[_0x3f4c07(0x231)]);}catch(_0x53c0fe){_0x351835=_0x53c0fe;}assert(_0x22fe69[_0x3f4c07(0x52b)](_0x351835,Error)),_0x22fe69[_0x3f4c07(0x361)](assert,_0x22fe69[_0x3f4c07(0x54f)](_0x351835,TypeError)),assert[_0x3f4c07(0x1b6)](_0x351835['code'],_0x22fe69[_0x3f4c07(0x44e)]),assert[_0x3f4c07(0x1b6)](_0x351835['input'],_0x22fe69[_0x3f4c07(0x231)]);}),it(_0x265b55(0x143),function(){var _0x3b18fc=_0x265b55,_0x2af8e2={'LMlTK':_0x22fe69[_0x3b18fc(0x4e3)],'ucKaE':_0x22fe69[_0x3b18fc(0x185)]};return _0x347255[_0x3b18fc(0x507)]('/a',redirectsTo('http://127.0.0.1:3600/b')),_0x347255['get']('/b',sendsJson({'a':'b'})),server[_0x3b18fc(0x1a3)](_0x347255)[_0x3b18fc(0x22d)](asPromise(function(_0x546773,_0x115ca2){var _0x2b3437=_0x3b18fc;http[_0x2b3437(0x507)](_0x2af8e2[_0x2b3437(0x48b)],concatJson(_0x546773,_0x115ca2))['on'](_0x2af8e2['ucKaE'],_0x115ca2);}))[_0x3b18fc(0x22d)](function(_0x45182){var _0x26c673=_0x3b18fc;assert[_0x26c673(0x42a)](_0x45182[_0x26c673(0xf3)],{'a':'b'}),assert[_0x26c673(0x42a)](_0x45182['responseUrl'],_0x26c673(0x41e));});}),it(_0x265b55(0x4ee),function(){var _0x5d17a1=_0x265b55;return _0x347255[_0x5d17a1(0x507)]('/a',redirectsTo('http://[::1]:3600/b')),_0x347255[_0x5d17a1(0x507)]('/b',sendsJson({'a':'b'})),server['start'](_0x347255)[_0x5d17a1(0x22d)](_0x22fe69[_0x5d17a1(0x447)](asPromise,function(_0x856d97,_0x26cf6a){var _0x18a6bc=_0x5d17a1;http[_0x18a6bc(0x507)]('http://localhost:3600/a',concatJson(_0x856d97,_0x26cf6a))['on'](_0x22fe69[_0x18a6bc(0x185)],_0x26cf6a);}))['then'](function(_0x12013f){var _0x3850a3=_0x5d17a1,_0x88e77={'lkYCZ':_0x22fe69[_0x3850a3(0x490)],'horrQ':_0x3850a3(0x324)};if(_0x3850a3(0x399)!==_0x3850a3(0x399)){var _0x9814a4=_0x26b272[_0x3850a3(0x563)]('http://127.0.0.1:3600/a');_0x9814a4[_0x3850a3(0x16c)]={'hOsT':_0x88e77[_0x3850a3(0x2a0)]},_0x5cd826[_0x3850a3(0x507)](_0x9814a4,_0x16075c)['on'](_0x88e77[_0x3850a3(0x540)],_0x209a53);}else assert['deepEqual'](_0x12013f[_0x3850a3(0xf3)],{'a':'b'}),assert[_0x3850a3(0x42a)](_0x12013f[_0x3850a3(0x3cf)],_0x22fe69[_0x3850a3(0x256)]);});}),_0x22fe69[_0x265b55(0x56a)](it,_0x265b55(0x4d9),function(){var _0x267322=_0x265b55,_0x3f7688={'LZylB':function(_0x578d0d,_0x38941f){return _0x22fe69['dNHxM'](_0x578d0d,_0x38941f);},'sMXlj':_0x267322(0x19c),'NFvRu':_0x267322(0x307),'eELFU':function(_0x285059,_0xfe7fbe){var _0x205cfb=_0x267322;return _0x22fe69[_0x205cfb(0x11c)](_0x285059,_0xfe7fbe);}};return _0x347255['get']('/a',redirectsTo(_0x267322(0x19c))),_0x347255[_0x267322(0x507)]('/b',_0x22fe69['dNHxM'](sendsJson,{'a':'b'})),server[_0x267322(0x1a3)](_0x347255)[_0x267322(0x22d)](_0x22fe69[_0x267322(0x46d)](asPromise,function(_0x5aa6b4,_0x4fcf34){var _0xc67d6e=_0x267322;http[_0xc67d6e(0x507)](_0x22fe69[_0xc67d6e(0x4e3)],concatJson(_0x4fcf34))['on'](_0x22fe69[_0xc67d6e(0x185)],_0x5aa6b4);}))[_0x267322(0x22d)](function(_0x2d801e){var _0x19d263=_0x267322,_0x19bf1f=_0x19d263(0x57e)['split']('|'),_0x28d55a=0x0;while(!![]){switch(_0x19bf1f[_0x28d55a++]){case'0':assert[_0x19d263(0x1b6)](_0x4068e0[_0x19d263(0x558)],_0x19d263(0x459));continue;case'1':_0x3f7688[_0x19d263(0x4a0)](assert,_0x2d801e instanceof Error);continue;case'2':var _0x4068e0=_0x2d801e[_0x19d263(0x1de)];continue;case'3':assert[_0x19d263(0x1b6)](_0x4068e0[_0x19d263(0x2cc)],_0x3f7688[_0x19d263(0x312)]);continue;case'4':assert['equal'](_0x2d801e[_0x19d263(0x558)],_0x3f7688['NFvRu']);continue;case'5':assert(_0x3f7688[_0x19d263(0x40d)](_0x4068e0,TypeError));continue;case'6':assert(_0x3f7688['eELFU'](_0x4068e0,Error));continue;}break;}});}),it(_0x265b55(0x339),function(){var _0xa79e9=_0x265b55,_0x32e2ca={'TjymK':function(_0x51ee5f,_0x3b86e5){return _0x51ee5f instanceof _0x3b86e5;},'QebFV':'ERR_FR_REDIRECTION_FAILURE','TkubG':'ECONNREFUSED'};if(_0x22fe69[_0xa79e9(0x1d9)]!==_0x22fe69[_0xa79e9(0x3bb)])return _0x347255['get']('/a',redirectsTo('http://[localhost]:3600/b')),_0x347255[_0xa79e9(0x507)]('/b',sendsJson({'a':'b'})),server[_0xa79e9(0x1a3)](_0x347255)[_0xa79e9(0x22d)](asPromise(function(_0x414adc,_0x55eb57){var _0x4a7c85=_0xa79e9;http[_0x4a7c85(0x507)](_0x22fe69[_0x4a7c85(0x4e3)],concatJson(_0x55eb57))['on'](_0x22fe69[_0x4a7c85(0x185)],_0x414adc);}))[_0xa79e9(0x22d)](function(_0x36aa47){var _0x3a53d8=_0xa79e9,_0x39aad8=_0x3a53d8(0x428)['split']('|'),_0x2af236=0x0;while(!![]){switch(_0x39aad8[_0x2af236++]){case'0':assert(_0x36aa47 instanceof Error);continue;case'1':var _0x152bbc=_0x36aa47['cause'];continue;case'2':assert(_0x152bbc instanceof Error);continue;case'3':assert(_0x32e2ca['TjymK'](_0x152bbc,TypeError));continue;case'4':assert[_0x3a53d8(0x1b6)](_0x152bbc[_0x3a53d8(0x2cc)],_0x3a53d8(0x2c0));continue;case'5':assert[_0x3a53d8(0x1b6)](_0x152bbc[_0x3a53d8(0x558)],'ERR_INVALID_URL');continue;case'6':assert[_0x3a53d8(0x1b6)](_0x36aa47[_0x3a53d8(0x558)],_0x32e2ca[_0x3a53d8(0x301)]);continue;}break;}});else _0x2ca085['equal'](_0x3a11d0[_0xa79e9(0x558)],_0x32e2ca['TkubG']),_0x5951b9['tick'](0x1388);}),it('http.get\x20with\x20response\x20event',function(){var _0x2a0343=_0x265b55,_0x405d19={'xkxVP':'data'};if(_0x22fe69['ktQGg']!==_0x22fe69[_0x2a0343(0x2ac)])return _0x347255[_0x2a0343(0x507)]('/a',redirectsTo('/b')),_0x347255[_0x2a0343(0x507)]('/b',_0x22fe69['kSbxu'](redirectsTo,'/c')),_0x347255['get']('/c',redirectsTo('/d')),_0x347255['get']('/d',_0x22fe69[_0x2a0343(0x4b8)](redirectsTo,'/e')),_0x347255[_0x2a0343(0x507)]('/e',redirectsTo('/f')),_0x347255[_0x2a0343(0x507)]('/f',_0x22fe69[_0x2a0343(0x3c6)](sendsJson,{'a':'b'})),server[_0x2a0343(0x1a3)](_0x347255)[_0x2a0343(0x22d)](_0x22fe69[_0x2a0343(0x151)](asPromise,function(_0x465859,_0x1dfca7){var _0x61223a=_0x2a0343;http[_0x61223a(0x507)](_0x22fe69[_0x61223a(0x4e3)])['on'](_0x61223a(0x269),concatJson(_0x465859,_0x1dfca7))['on'](_0x61223a(0x324),_0x1dfca7);}))[_0x2a0343(0x22d)](function(_0x194a5e){var _0x152f71=_0x2a0343;assert[_0x152f71(0x42a)](_0x194a5e[_0x152f71(0xf3)],{'a':'b'}),assert['deepEqual'](_0x194a5e['responseUrl'],_0x152f71(0x1df));});else _0x1b5dff[_0x2a0343(0x1b6)](_0xd36fa8[_0x2a0343(0x2c8)],0x133),_0x13c11f[_0x2a0343(0x42a)](_0xa6c971[_0x2a0343(0x3cf)],'http://localhost:3600/a'),_0x54ed72['on'](_0x405d19[_0x2a0343(0xf7)],function(){});}),_0x22fe69[_0x265b55(0x4b3)](it,_0x22fe69['ALpjl'],function(){var _0x3d16b2=_0x265b55,_0x57ab7b=null;try{http['get'](_0x3d16b2(0x468));}catch(_0x14688e){_0x57ab7b=_0x14688e;}_0x22fe69[_0x3d16b2(0x4b1)](assert,_0x57ab7b instanceof Error),assert(_0x22fe69[_0x3d16b2(0x218)](_0x57ab7b,TypeError)),assert[_0x3d16b2(0x1b6)](_0x57ab7b[_0x3d16b2(0x558)],_0x22fe69[_0x3d16b2(0x44e)]),assert[_0x3d16b2(0x1b6)](_0x57ab7b[_0x3d16b2(0x2cc)],_0x22fe69[_0x3d16b2(0x3e9)]);}),it(_0x265b55(0x3ea),function(){var _0x2ba6e0=_0x265b55;return _0x347255[_0x2ba6e0(0x507)]('/a',_0x22fe69['VKOSn'](redirectsTo,_0x22fe69[_0x2ba6e0(0xed)])),_0x347255[_0x2ba6e0(0x507)]('/b',_0x22fe69[_0x2ba6e0(0x3d4)](redirectsTo,_0x2ba6e0(0x10a))),_0x347255[_0x2ba6e0(0x507)]('/c',redirectsTo(_0x22fe69[_0x2ba6e0(0x2ad)])),_0x347255[_0x2ba6e0(0x507)]('/d',redirectsTo(_0x2ba6e0(0xd5))),_0x347255[_0x2ba6e0(0x507)]('/e',_0x22fe69[_0x2ba6e0(0x372)](redirectsTo,_0x22fe69[_0x2ba6e0(0x520)])),_0x347255['get']('/f',sendsJson({'a':'b'})),server[_0x2ba6e0(0x1a3)](_0x347255)[_0x2ba6e0(0x22d)](_0x22fe69[_0x2ba6e0(0x1bb)](asPromise,function(_0x1daeb9,_0xc7a6a6){var _0x3fd08b=_0x2ba6e0;http[_0x3fd08b(0x507)](_0x22fe69[_0x3fd08b(0x4e3)],_0x22fe69[_0x3fd08b(0x480)](concatJson,_0x1daeb9,_0xc7a6a6))['on'](_0x3fd08b(0x324),_0xc7a6a6);}))[_0x2ba6e0(0x22d)](function(_0x443da5){var _0x407046=_0x2ba6e0;assert[_0x407046(0x42a)](_0x443da5[_0x407046(0xf3)],{'a':'b'}),assert[_0x407046(0x42a)](_0x443da5[_0x407046(0x3cf)],_0x407046(0x56c));});}),_0x22fe69[_0x265b55(0xfa)](it,'should\x20return\x20with\x20the\x20original\x20status\x20code\x20if\x20the\x20response\x20does\x20not\x20contain\x20a\x20location\x20header',function(){var _0x2cc798=_0x265b55,_0x3f5c43={'sdXRc':_0x2cc798(0x324),'kUNLU':function(_0x2aec7f,_0x2703ab,_0x122e21){return _0x2aec7f(_0x2703ab,_0x122e21);},'VQzcO':'string','LfFrD':_0x22fe69[_0x2cc798(0x2e1)],'pGQBT':_0x22fe69[_0x2cc798(0x3c0)]};return _0x347255[_0x2cc798(0x507)]('/a',function(_0x5ae9da,_0x31200b){var _0xa19295=_0x2cc798;_0x31200b[_0xa19295(0x199)](0x133)[_0xa19295(0x517)]();}),server[_0x2cc798(0x1a3)](_0x347255)['then'](asPromise(function(_0x40f2d6,_0x55f61b){var _0x3fe21f=_0x2cc798;http[_0x3fe21f(0x507)](_0x3fe21f(0x14f),_0x40f2d6)['on'](_0x3f5c43[_0x3fe21f(0x227)],_0x55f61b);}))[_0x2cc798(0x22d)](function(_0x28b80c){var _0x411d53=_0x2cc798;_0x3f5c43[_0x411d53(0x295)]===_0x411d53(0x158)?(assert['equal'](_0x28b80c[_0x411d53(0x2c8)],0x133),assert[_0x411d53(0x42a)](_0x28b80c['responseUrl'],_0x411d53(0x14f)),_0x28b80c['on'](_0x3f5c43['pGQBT'],function(){})):_0x808312[_0x411d53(0x2b6)](_0x3f5c43[_0x411d53(0x4f7)](_0x63ee97,{'encoding':_0x3f5c43[_0x411d53(0x3a6)]},_0x318d52))['on'](_0x411d53(0x324),_0x58293d);});}),_0x22fe69[_0x265b55(0x444)](it,_0x22fe69[_0x265b55(0x21a)],function(){var _0x4f95ec=_0x265b55;return _0x347255[_0x4f95ec(0x507)]('/a',redirectsTo(_0x22fe69[_0x4f95ec(0x577)])),server[_0x4f95ec(0x1a3)](_0x347255)['then'](_0x22fe69[_0x4f95ec(0x509)](asPromise,function(_0x19eecc,_0x187a9e){var _0x54f6de=_0x4f95ec;http[_0x54f6de(0x507)](_0x22fe69[_0x54f6de(0x4e3)],_0x187a9e)['on'](_0x22fe69[_0x54f6de(0x185)],_0x19eecc);}))[_0x4f95ec(0x22d)](function(_0x5260e9){var _0x5ec02e=_0x4f95ec;assert['equal'](_0x5260e9[_0x5ec02e(0x558)],_0x22fe69[_0x5ec02e(0x438)]);});}),it(_0x265b55(0x555),function(){var _0x1b522b=_0x265b55,_0x35cbff={'sekBQ':_0x22fe69['zTHor'],'QmppG':_0x22fe69['daHtE']};return _0x347255[_0x1b522b(0x507)]('/a',sendsJson({'a':'b'})),server['start'](_0x347255)[_0x1b522b(0x22d)](asPromise(function(_0x2284ae,_0x12e58a){var _0x7ca5db=_0x1b522b;http['get']('http://localhost:3600/a')['on'](_0x35cbff[_0x7ca5db(0x2ff)],_0x2284ae)['on'](_0x35cbff[_0x7ca5db(0x31a)],_0x12e58a);}))[_0x1b522b(0x22d)](function(_0x52f344){var _0x80f5f=_0x1b522b;_0x22fe69[_0x80f5f(0x54c)](assert,_0x52f344 instanceof net['Socket'],_0x22fe69[_0x80f5f(0x356)]);});}),_0x22fe69[_0x265b55(0x241)](it,_0x265b55(0x562),function(){var _0x35d0f9=_0x265b55,_0x403eeb={'TsOuP':_0x22fe69[_0x35d0f9(0x185)],'ndfpJ':_0x22fe69[_0x35d0f9(0x35b)]};_0x347255[_0x35d0f9(0x507)]('/a',_0x22fe69['kSbxu'](sendsJson,{'a':'b'}));var _0x2dcce7;return server[_0x35d0f9(0x1a3)](_0x347255)['then'](_0x22fe69['XRwDi'](asPromise,function(_0x5050d3,_0x5dbbb6){var _0x2b60ed=_0x35d0f9;_0x2dcce7=http[_0x2b60ed(0x507)]('http://localhost:3600/a'),_0x2dcce7['on'](_0x2b60ed(0x152),function(_0x4a38ea,_0x4774ec,_0x3a8f61){_0x5050d3({'response':_0x4a38ea,'socket':_0x4774ec,'head':_0x3a8f61});}),_0x2dcce7['on'](_0x403eeb[_0x2b60ed(0x1f5)],_0x5dbbb6),_0x2dcce7['_currentRequest'][_0x2b60ed(0x1ef)](_0x403eeb[_0x2b60ed(0x109)],'r','s','h');}))[_0x35d0f9(0x22d)](function(_0x3c80d1){var _0x4c3c5f=_0x35d0f9,_0x3a422d={'ohhyT':_0x22fe69[_0x4c3c5f(0x185)],'XAzrW':function(_0x4a48e3,_0x2d1cd3){return _0x4a48e3(_0x2d1cd3);}};if(_0x4c3c5f(0x309)===_0x4c3c5f(0x309))_0x2dcce7[_0x4c3c5f(0x3c3)](),assert['equal'](_0x3c80d1['response'],'r'),assert[_0x4c3c5f(0x1b6)](_0x3c80d1['socket'],'s'),assert[_0x4c3c5f(0x1b6)](_0x3c80d1[_0x4c3c5f(0x48a)],'h');else return _0x2f7393['get']('/a',_0x3a422d[_0x4c3c5f(0x3df)](_0x241777,'/b')),_0x29d0f5[_0x4c3c5f(0x507)]('/b',_0x49400f('/c')),_0x177518[_0x4c3c5f(0x507)]('/c',_0x4fbbf2({'baz':'quz'})),_0x3e684d[_0x4c3c5f(0x1a3)](_0x3a422d[_0x4c3c5f(0x3df)](_0x4bd0e0,_0x3490db))[_0x4c3c5f(0x22d)](_0x599df7(function(_0x376ccd,_0x4da20d){var _0x450a0b=_0x4c3c5f,_0x36af71=_0x43c34b[_0x450a0b(0x563)](_0x450a0b(0x11e));_0x36af71['ca']=_0x35389a,_0x599d7e[_0x450a0b(0x507)](_0x36af71,_0x58385a(_0x376ccd,_0x4da20d))['on'](_0x3a422d[_0x450a0b(0x585)],_0x4da20d);}))[_0x4c3c5f(0x22d)](function(_0xbae4a2){var _0x336321=_0x4c3c5f;_0x38aec6[_0x336321(0x42a)](_0xbae4a2[_0x336321(0xf3)],{'baz':_0x336321(0x4be)}),_0x242a6c['deepEqual'](_0xbae4a2[_0x336321(0x3cf)],_0x336321(0x4df));});});}),_0x22fe69['IBibR'](it,_0x22fe69[_0x265b55(0x2af)],function(){var _0x2f1411=_0x265b55,_0x2a0b91={'aeDsf':_0x22fe69['DTDxZ'],'eKYBj':function(_0x4aba3b,_0x3bac8a){var _0x1ba2cb=_0x295e;return _0x22fe69[_0x1ba2cb(0x194)](_0x4aba3b,_0x3bac8a);},'oVJnN':function(_0x497bd9,_0x5aeb57){var _0x5c02ff=_0x295e;return _0x22fe69[_0x5c02ff(0x49a)](_0x497bd9,_0x5aeb57);},'Mqawy':function(_0x13d595,_0x3f8d15){var _0xe63f=_0x295e;return _0x22fe69[_0xe63f(0x533)](_0x13d595,_0x3f8d15);},'KPpPO':function(_0x17d4e1,_0x252b79){return _0x17d4e1(_0x252b79);},'pIZji':_0x2f1411(0x324),'dTAdx':function(_0x3fdc6c,_0x45f2db){return _0x3fdc6c(_0x45f2db);},'UZyGI':_0x2f1411(0x3f9),'MgrgK':function(_0x54ba7b,_0x53c5c2){var _0x3bba00=_0x2f1411;return _0x22fe69[_0x3bba00(0x218)](_0x54ba7b,_0x53c5c2);},'jGMwc':_0x22fe69[_0x2f1411(0x44e)],'nJUHY':_0x22fe69[_0x2f1411(0x55b)]};return nodeMajorVersion<0xa&&this[_0x2f1411(0x271)](),_0x347255[_0x2f1411(0x507)]('/a',function(_0x213237,_0x540098){var _0x5750f3=_0x2f1411;if(_0x2a0b91[_0x5750f3(0x18e)]===_0x5750f3(0x3f9))_0x540098[_0x5750f3(0x30a)][_0x5750f3(0x24e)](_0x5750f3(0x1a8)),_0x540098[_0x5750f3(0x30a)][_0x5750f3(0x24e)](_0x5750f3(0x4e9)),_0x540098[_0x5750f3(0x30a)][_0x5750f3(0x24e)]('\x0d\x0a'),_0x540098['socket'][_0x5750f3(0x517)]();else{var _0xc9aa4=_0x2a0b91[_0x5750f3(0x2d4)][_0x5750f3(0x497)]('|'),_0xa21764=0x0;while(!![]){switch(_0xc9aa4[_0xa21764++]){case'0':_0x5a4b8c['get']('/d',_0x2a0b91[_0x5750f3(0x26b)](_0x843acf,'/e'));continue;case'1':_0x5333a2[_0x5750f3(0x507)]('/f',_0x2a0b91['oVJnN'](_0x282511,{'a':'b'}));continue;case'2':_0x1a4fb7[_0x5750f3(0x507)]('/e',_0x2a0b91[_0x5750f3(0x461)](_0x37c5f0,'/f'));continue;case'3':_0x55c6ed[_0x5750f3(0x507)]('/a',_0x253b60('/b'));continue;case'4':return _0xfca330[_0x5750f3(0x1a3)](_0x306f79)[_0x5750f3(0x22d)](_0x38fe25(function(_0x200065,_0x5caa21){var _0x2ca07a=_0x5750f3,_0x46e82f={'host':_0x2ca07a(0x23c),'port':0xe10,'path':'/a','method':_0x2ca07a(0x2ca)};_0x391ae0[_0x2ca07a(0x507)](_0x46e82f,_0x956704[_0x2ca07a(0x10f)](_0xfe377a,_0x200065,_0x5caa21))['on'](_0x956704['jxwIr'],_0x5caa21);}))[_0x5750f3(0x22d)](function(_0x3e4b25){var _0x2d5263=_0x5750f3;_0x3192a8[_0x2d5263(0x42a)](_0x3e4b25['parsedJson'],{'a':'b'}),_0x566628[_0x2d5263(0x42a)](_0x3e4b25[_0x2d5263(0x3cf)],'http://localhost:3600/f');});case'5':_0x27f649['get']('/c',_0x2a0b91[_0x5750f3(0x311)](_0x4546b9,'/d'));continue;case'6':var _0x956704={'VLvgo':function(_0x383213,_0x2f56d9,_0x255ce9){return _0x383213(_0x2f56d9,_0x255ce9);},'jxwIr':_0x2a0b91['pIZji']};continue;case'7':_0xa76faa[_0x5750f3(0x507)]('/b',_0x2a0b91[_0x5750f3(0x3b7)](_0x5e1dcb,'/c'));continue;}break;}}}),server[_0x2f1411(0x1a3)](_0x347255)[_0x2f1411(0x22d)](asPromise(function(_0x530225){var _0x48d878=_0x2f1411;http[_0x48d878(0x507)](_0x22fe69['bESiF'])['on'](_0x22fe69[_0x48d878(0x185)],_0x530225);}))[_0x2f1411(0x22d)](function(_0x3b77d5){var _0x4804e2=_0x2f1411;_0x2a0b91[_0x4804e2(0x47c)](assert,_0x2a0b91[_0x4804e2(0x57a)](_0x3b77d5,Error)),assert[_0x4804e2(0x1b6)](_0x3b77d5[_0x4804e2(0x558)],_0x4804e2(0x307)),assert(_0x3b77d5[_0x4804e2(0x1de)]instanceof Error);switch(_0x3b77d5[_0x4804e2(0x1de)][_0x4804e2(0x558)]){case _0x2a0b91[_0x4804e2(0x2c4)]:_0x2a0b91[_0x4804e2(0x311)](assert,/^Redirected request failed: Invalid URL/[_0x4804e2(0x327)](_0x3b77d5[_0x4804e2(0x288)]));break;case'ERR_UNESCAPED_CHARACTERS':assert[_0x4804e2(0x1b6)](_0x3b77d5[_0x4804e2(0x288)],_0x2a0b91['nJUHY']);break;default:throw new Error(_0x4804e2(0x14d)+_0x3b77d5['code']);}});}),it(_0x265b55(0x359),function(){var _0x3eb22c=_0x265b55,_0x368a5c={'CgbwX':_0x22fe69[_0x3eb22c(0x164)]};return _0x347255[_0x3eb22c(0x507)]('/a',function(_0x365193,_0x17ca2a){var _0x43a41a=_0x3eb22c;_0x17ca2a[_0x43a41a(0x30a)]['write'](_0x43a41a(0x1a8)),_0x17ca2a[_0x43a41a(0x30a)][_0x43a41a(0x24e)](_0x368a5c[_0x43a41a(0x1fc)]),_0x17ca2a[_0x43a41a(0x30a)][_0x43a41a(0x24e)]('\x0d\x0a'),_0x17ca2a[_0x43a41a(0x30a)][_0x43a41a(0x517)]();}),server[_0x3eb22c(0x1a3)](_0x347255)['then'](_0x22fe69[_0x3eb22c(0x49a)](asPromise,function(_0xed17e3){var _0x1f9223=_0x3eb22c,_0x19caf4=http[_0x1f9223(0x507)](_0x22fe69[_0x1f9223(0x4e3)]);_0x19caf4[_0x1f9223(0x4ef)]=function(){var _0x270c5b=_0x1f9223;throw new Error(_0x270c5b(0x488));},_0x19caf4['on'](_0x22fe69[_0x1f9223(0x185)],_0xed17e3);}))[_0x3eb22c(0x22d)](function(_0x1eb819){var _0x58ba61=_0x3eb22c;_0x22fe69[_0x58ba61(0x17e)](assert,_0x22fe69[_0x58ba61(0x1f7)](_0x1eb819,Error)),assert[_0x58ba61(0x1b6)](_0x1eb819[_0x58ba61(0x288)],_0x22fe69[_0x58ba61(0x43c)]);});}),describe(_0x265b55(0x4a5),function(){var _0x372375=_0x265b55,_0x353cc1={'RWLGj':function(_0x447bba,_0x54e892){return _0x22fe69['BEKST'](_0x447bba,_0x54e892);},'UvBAo':_0x22fe69[_0x372375(0x3fd)],'bgHYQ':_0x22fe69[_0x372375(0x2be)],'MkNOg':function(_0x20665e,_0x2623c8,_0xdcea90){var _0xf2015e=_0x372375;return _0x22fe69[_0xf2015e(0x56a)](_0x20665e,_0x2623c8,_0xdcea90);},'eHaoU':'timeout','VHbYX':_0x372375(0x255),'EUbqm':_0x22fe69[_0x372375(0x478)],'aFYlX':_0x22fe69[_0x372375(0x1a4)],'teeMQ':function(_0x2d3bc3,_0x51e4a9,_0x202bcc,_0x9f0c8d){var _0x50c333=_0x372375;return _0x22fe69[_0x50c333(0xdc)](_0x2d3bc3,_0x51e4a9,_0x202bcc,_0x9f0c8d);},'IRXpV':function(_0x33def4,_0x4bbd77){var _0x2b6f6b=_0x372375;return _0x22fe69[_0x2b6f6b(0x1ae)](_0x33def4,_0x4bbd77);},'uDIKH':_0x22fe69[_0x372375(0x424)],'gqNsU':_0x372375(0x51e),'uGavV':function(_0x2e248c,_0x29f97e){return _0x22fe69['LBDgw'](_0x2e248c,_0x29f97e);},'ylHgM':_0x22fe69['daHtE'],'HsFYn':_0x22fe69['asfdT'],'hfPAM':_0x372375(0x4d5),'sZXcq':'sYUrh','MWQKW':function(_0x347866){return _0x347866();},'DHxHO':function(_0x3dfc8d,_0x39677c){return _0x3dfc8d===_0x39677c;},'ANAIJ':_0x22fe69[_0x372375(0x556)],'YVRTE':_0x22fe69[_0x372375(0x420)]},_0x446e3f;_0x22fe69[_0x372375(0x361)](beforeEach,function(){var _0x36de26=_0x372375;_0x446e3f=lolex[_0x36de26(0x28a)]();}),_0x22fe69[_0x372375(0x1e9)](afterEach,function(){var _0x2acc58=_0x372375;_0x353cc1[_0x2acc58(0x20d)](_0x353cc1[_0x2acc58(0x1fe)],_0x2acc58(0x39b))?_0x39136e[_0x2acc58(0x517)](_0x1fc4aa[_0x2acc58(0x406)](_0x4fb30d[_0x2acc58(0x16c)])):_0x446e3f[_0x2acc58(0x36c)]();}),it(_0x22fe69['JoNQJ'],function(){var _0x3efd86=_0x372375,_0x44c5c9={'eoqUu':function(_0x491e13,_0x3bcb3f){return _0x491e13!==_0x3bcb3f;},'LWARZ':_0x3efd86(0x275),'neqjc':_0x353cc1[_0x3efd86(0x3e2)],'fXHCB':_0x353cc1[_0x3efd86(0x4c4)]};_0x347255['get'](_0x353cc1[_0x3efd86(0x405)],redirectsTo(_0x3efd86(0x340))),_0x347255[_0x3efd86(0x507)](_0x353cc1['aFYlX'],_0x353cc1[_0x3efd86(0x45a)](delay,_0x446e3f,0x7d0,sendsJson({'didnot':_0x3efd86(0x4f3)})));var _0xc586e7;return server[_0x3efd86(0x1a3)](_0x347255)[_0x3efd86(0x22d)](_0x353cc1['IRXpV'](asPromise,function(_0x516d18,_0x3aaa14){var _0x3242d1=_0x3efd86;_0xc586e7=http[_0x3242d1(0x507)](_0x353cc1['bgHYQ'],_0x353cc1[_0x3242d1(0x305)](concatJson,_0x516d18,_0x3aaa14)),_0xc586e7['on'](_0x3242d1(0x324),_0x3aaa14),_0xc586e7[_0x3242d1(0x4a5)](0xbb8,function(){throw new Error('should\x20not\x20have\x20timed\x20out');});}))[_0x3efd86(0x22d)](function(_0x3382f0){var _0x364db8=_0x3efd86;_0x44c5c9[_0x364db8(0x3da)](_0x44c5c9[_0x364db8(0x2a5)],_0x44c5c9[_0x364db8(0x2a5)])?_0x9d4692[_0x364db8(0x2b6)](_0x42b839):(assert[_0x364db8(0x42a)](_0x3382f0['parsedJson'],{'didnot':_0x44c5c9[_0x364db8(0x3ae)]}),assert[_0x364db8(0x42a)](_0x3382f0[_0x364db8(0x3cf)],_0x44c5c9[_0x364db8(0x500)]),_0x446e3f[_0x364db8(0x258)](0x1388));});}),_0x22fe69[_0x372375(0x476)](it,_0x22fe69[_0x372375(0x10c)],function(){var _0x373361=_0x372375,_0x6adee3={'Cxqkb':_0x373361(0x324)};_0x347255[_0x373361(0x507)](_0x22fe69[_0x373361(0x478)],redirectsTo(_0x373361(0x377)));var _0x4b444a;return server[_0x373361(0x1a3)](_0x347255)['then'](_0x22fe69[_0x373361(0x161)](asPromise,function(_0x301115,_0x1b5dac){var _0xcf7826=_0x373361,_0x28b403={'jzERS':_0xcf7826(0x31d),'pSmKB':_0x353cc1[_0xcf7826(0x24a)],'KURdu':_0xcf7826(0x489),'EiVKa':_0xcf7826(0x39f),'EEmry':_0x353cc1['gqNsU']};if(_0x353cc1['uGavV']('WKtfo',_0xcf7826(0x37c)))_0x4b444a=http['get'](_0xcf7826(0x229),_0x1b5dac),_0x4b444a[_0xcf7826(0x4a5)](0xbb8,function(){var _0x30bf3a=_0xcf7826,_0x2de61c={'xvmGv':_0x28b403[_0x30bf3a(0x27d)],'kIPnh':_0x28b403[_0x30bf3a(0x3db)],'mfxFh':_0x30bf3a(0x456),'teuwo':_0x30bf3a(0x1f8),'xxcKo':_0x28b403[_0x30bf3a(0x483)]};if(_0x28b403[_0x30bf3a(0x1cd)]!=='rOVhj'){var _0x1e2ae2=_0x2de61c[_0x30bf3a(0x49c)][_0x30bf3a(0x497)]('|'),_0x2536ad=0x0;while(!![]){switch(_0x1e2ae2[_0x2536ad++]){case'0':_0x2154d7[_0x30bf3a(0x1b6)](_0x177244[_0x2de61c['kIPnh']],_0x4084bd);continue;case'1':_0x4f1005['equal'](_0x177244[_0x30bf3a(0x29e)],_0x2de61c[_0x30bf3a(0x192)]);continue;case'2':_0x13b14d[_0x30bf3a(0x1b6)](_0x177244[_0x30bf3a(0x4c7)],_0x2de61c[_0x30bf3a(0x1db)]);continue;case'3':var _0x177244=_0x2fbb61[_0x30bf3a(0x563)](_0x100431);continue;case'4':_0x26155c[_0x30bf3a(0x1b6)](_0x177244[_0x2de61c[_0x30bf3a(0x3b1)]],_0x49d6bd);continue;}break;}}else throw new Error(_0x28b403[_0x30bf3a(0x31f)]);}),_0x4b444a['on'](_0x353cc1[_0xcf7826(0x18f)],_0x301115);else{var _0x5c2e8c=_0x59e9ce[_0xcf7826(0x507)](_0xcf7826(0x14f),_0x2865a7);_0x5c2e8c[_0xcf7826(0x1e4)](!![]),_0x5c2e8c['on'](_0x6adee3[_0xcf7826(0x133)],_0x5ec071);}}))[_0x373361(0x22d)](function(_0x3a07d7){var _0x264aec=_0x373361;assert[_0x264aec(0x1b6)](_0x3a07d7['code'],_0x264aec(0x436)),_0x446e3f[_0x264aec(0x258)](0x1388);});}),it(_0x372375(0x111),function(){var _0x1f9719=_0x372375,_0x6175cd={'zhQgH':'should\x20not\x20have\x20timed\x20out','JNBpU':function(_0x5e4275,_0x96ca3a){var _0xe1a684=_0x295e;return _0x22fe69[_0xe1a684(0x440)](_0x5e4275,_0x96ca3a);},'mLlQv':'KpkHD','zDqsd':'KbSLZ','vlKEI':'ECONNREFUSED'};_0x347255[_0x1f9719(0x507)](_0x22fe69[_0x1f9719(0x478)],_0x22fe69[_0x1f9719(0x17e)](redirectsTo,_0x22fe69[_0x1f9719(0x1cb)]));var _0x14e945;return server[_0x1f9719(0x1a3)](_0x347255)[_0x1f9719(0x22d)](_0x22fe69[_0x1f9719(0x1bb)](asPromise,function(_0x12c066,_0x5d0028){var _0x1bde20=_0x1f9719,_0xea2a5c={'EbfDX':_0x353cc1[_0x1bde20(0x2b0)],'HkFZo':_0x1bde20(0x3e7),'eAigT':function(_0x56f398,_0x4bdd61,_0x3c22ec){var _0x58dc4f=_0x1bde20;return _0x353cc1[_0x58dc4f(0x305)](_0x56f398,_0x4bdd61,_0x3c22ec);},'gUeWE':function(_0x10bef3,_0x13af05,_0x5ce7b5){var _0x57766e=_0x1bde20;return _0x353cc1[_0x57766e(0x305)](_0x10bef3,_0x13af05,_0x5ce7b5);},'xJpGs':function(_0x33fbc6,_0x5d7fa7){return _0x33fbc6(_0x5d7fa7);},'IZpLp':function(_0x32ffa0,_0x1124ca){return _0x32ffa0(_0x1124ca);},'NRPZR':function(_0xca9464,_0x33e692){return _0xca9464===_0x33e692;},'Ryars':_0x353cc1['hfPAM'],'YeDNI':_0x1bde20(0x51e)};_0x14e945=http['get'](_0x353cc1[_0x1bde20(0x149)],_0x5d0028),_0x14e945[_0x1bde20(0x4a5)](0xbb8,function(){var _0x401232=_0x1bde20;if(_0xea2a5c[_0x401232(0x1b3)](_0xea2a5c['Ryars'],_0x401232(0x43b))){var _0x4e2959={'Cdwnp':_0x401232(0x23c),'CMayN':_0xea2a5c[_0x401232(0x36d)],'wEmbA':_0x401232(0x324),'uZxvS':_0xea2a5c[_0x401232(0x2ae)]};_0x17d5d9[_0x401232(0x368)]('/a',_0xea2a5c[_0x401232(0x350)](_0x389035,'/b',0x134)),_0x19163e[_0x401232(0x368)]('/b',_0xea2a5c[_0x401232(0x12f)](_0x8104b0,'/c',0x12d)),_0x3d5ead[_0x401232(0x507)]('/c',_0xd367b('/d',0x12d)),_0x526423[_0x401232(0x507)]('/d',_0xea2a5c[_0x401232(0x20c)](_0x1ef423,{'a':'b'}));var _0x2236e5=[];return _0x2b5b6d[_0x401232(0x1a3)](_0x2d18fc)[_0x401232(0x22d)](_0xea2a5c[_0x401232(0x1d1)](_0x2a9de1,function(_0x41d7ea,_0x2196c0){var _0x45bdf9=_0x401232,_0x465f66={'host':_0x4e2959[_0x45bdf9(0x142)],'port':0xe10,'path':'/a','method':_0x4e2959['CMayN'],'beforeRedirect':function(_0x1efa7d,_0x136ecc,_0x244485){var _0x25a0fc=_0x45bdf9;_0x2236e5['push'](_0x244485[_0x25a0fc(0x13e)]);}};_0x2f5735[_0x45bdf9(0x507)](_0x465f66,_0x49d812(_0x41d7ea,_0x2196c0))['on'](_0x4e2959['wEmbA'],_0x2196c0);}))[_0x401232(0x22d)](function(_0x4bceb7){var _0x33f49a=_0x401232;_0x48506f['deepEqual'](_0x4bceb7[_0x33f49a(0x3cf)],_0x4e2959['uZxvS']),_0x16a67a['deepEqual'](_0x4bceb7[_0x33f49a(0xf3)],{'a':'b'}),_0x5be3f2[_0x33f49a(0x42a)](_0x2236e5,[_0x4e2959[_0x33f49a(0x1f4)],_0x33f49a(0x538),_0x33f49a(0x2ca)]);});}else throw new Error(_0xea2a5c[_0x401232(0x285)]);}),_0x14e945[_0x1bde20(0x1ef)](_0x353cc1[_0x1bde20(0x18f)],new Error()),_0x14e945['on']('error',_0x12c066);}))[_0x1f9719(0x22d)](function(_0x581840){var _0x4b73db=_0x1f9719,_0x2fed21={'uGhco':_0x6175cd['zhQgH']};if(_0x6175cd[_0x4b73db(0x33f)](_0x6175cd[_0x4b73db(0x349)],_0x6175cd['zDqsd']))throw new _0x96c95d(_0x2fed21[_0x4b73db(0x178)]);else assert[_0x4b73db(0x1b6)](_0x581840[_0x4b73db(0x558)],_0x6175cd[_0x4b73db(0x30b)]),_0x446e3f['tick'](0x1388);});}),_0x22fe69[_0x372375(0x25c)](it,_0x22fe69['ETDwM'],function(){var _0x37ca0a=_0x372375,_0x3d2c44={'mNJjA':_0x37ca0a(0x119),'zvcaK':_0x37ca0a(0x3d7)};return _0x347255[_0x37ca0a(0x507)](_0x22fe69[_0x37ca0a(0x1a4)],_0x22fe69[_0x37ca0a(0xdc)](delay,_0x446e3f,0x1388,_0x22fe69[_0x37ca0a(0x502)](sendsJson,{'timed':_0x37ca0a(0x193)}))),server['start'](_0x347255)['then'](asPromise(function(_0x2e2fe9,_0x25ecdb){var _0x2d40ff=_0x37ca0a,_0x2b533f={'tBpxv':_0x2d40ff(0x324),'hABKT':_0x353cc1[_0x2d40ff(0x46b)],'zxxir':function(_0x140e54){var _0x375f2d=_0x2d40ff;return _0x353cc1[_0x375f2d(0x3cb)](_0x140e54);}};if(_0x353cc1[_0x2d40ff(0x32c)](_0x353cc1['ANAIJ'],_0x2d40ff(0x290))){var _0x19506b={'FITqg':_0x2d40ff(0x51e)};_0x5d69a0=_0x231e25[_0x2d40ff(0x507)]('http://localhost:3600/redirect',_0x57170a),_0x11e754['setTimeout'](0xbb8,function(){var _0x57e53b=_0x2d40ff;throw new _0x1c2e38(_0x19506b[_0x57e53b(0x336)]);}),_0x51e68d['on'](_0x2b533f['tBpxv'],_0x5167f0);}else{var _0xd8f68e=http[_0x2d40ff(0x507)](_0x353cc1['VHbYX'],function(){var _0x3b668e=_0x2d40ff;if(_0x3d2c44[_0x3b668e(0x175)]===_0x3d2c44['zvcaK'])_0x6ccdbb[_0x3b668e(0x24e)](_0x24d004[_0x3b668e(0x406)](_0xd8378d[_0x3b668e(0x16c)])),_0x3d1c12['pipe'](_0x5baae1);else throw new Error(_0x3b668e(0x113));});_0xd8f68e['on'](_0x353cc1[_0x2d40ff(0x18f)],_0x25ecdb),_0xd8f68e['on'](_0x353cc1['YVRTE'],function(){var _0x86350f=_0x2d40ff,_0x49b657={'NCZgx':function(_0x55aef0,_0x14fd5f){return _0x55aef0(_0x14fd5f);}};assert(_0xd8f68e[_0x86350f(0x30a)]instanceof net[_0x86350f(0x174)]),_0xd8f68e[_0x86350f(0x4a5)](0xbb8,function(){var _0x46732c=_0x86350f;if(_0x2b533f[_0x46732c(0x343)]!==_0x46732c(0x1c2)){var _0x3651c1={'LYsXT':'socket','LNFTY':_0x46732c(0x324)};return _0x12498a['get']('/a',_0x1ee702({'a':'b'})),_0x4092a0[_0x46732c(0x1a3)](_0x132786)['then'](_0x49b657[_0x46732c(0x31e)](_0x22bca1,function(_0x98850c,_0x41c2d9){var _0x1f7ba8=_0x46732c;_0x3e1ff7['get'](_0x1f7ba8(0x14f))['on'](_0x3651c1[_0x1f7ba8(0x443)],_0x98850c)['on'](_0x3651c1[_0x1f7ba8(0x387)],_0x41c2d9);}))['then'](function(_0x4c1db9){var _0x20be6f=_0x46732c;_0x1658ee(_0x4c1db9 instanceof _0x129829[_0x20be6f(0x174)],_0x20be6f(0x16e));});}else _0xd8f68e[_0x46732c(0x3c3)](),_0x2b533f['zxxir'](_0x2e2fe9);});});}}));}),it(_0x22fe69[_0x372375(0x510)],function(){var _0x45e83a=_0x372375,_0x820f55={'fVkTd':_0x22fe69[_0x45e83a(0x25e)],'FwdXn':_0x22fe69[_0x45e83a(0x3e4)],'PsKVG':_0x22fe69[_0x45e83a(0x435)],'fWnxt':'http://localhost:3600/data','fNqfX':_0x22fe69[_0x45e83a(0x185)],'RSfBf':_0x22fe69[_0x45e83a(0x420)]};return _0x22fe69[_0x45e83a(0x148)]!==_0x22fe69[_0x45e83a(0x148)]?(_0xe9246b[_0x45e83a(0x4c2)]=0x16,_0x56db4b['start'](_0x56768c)[_0x45e83a(0x22d)](_0x910072(function(_0x4b2cea,_0x338c99){var _0x18f9f9=_0x45e83a;_0x2465ba['get'](_0x820f55[_0x18f9f9(0x3e6)],_0x5bd299(_0x4b2cea,_0x338c99))['on'](_0x18f9f9(0x324),_0x338c99);}))[_0x45e83a(0x22d)](function(_0x3f59b2){var _0x3f7272=_0x45e83a;_0x34a693[_0x3f7272(0x42a)](_0x3f59b2[_0x3f7272(0xf3)],{'foo':_0x820f55[_0x3f7272(0x2ab)]}),_0x475c4f[_0x3f7272(0x42a)](_0x3f59b2['responseUrl'],_0x820f55[_0x3f7272(0x50d)]);})):(_0x347255[_0x45e83a(0x507)]('/data',_0x22fe69['ILLuL'](delay,_0x446e3f,0xbb8,sendsJson({'took':_0x45e83a(0x4af)}))),server[_0x45e83a(0x1a3)](_0x347255)[_0x45e83a(0x22d)](_0x22fe69[_0x45e83a(0x4e4)](asPromise,function(_0x29e19f,_0x2486ed){var _0x417f5a=_0x45e83a,_0xe93035={'pBsvB':function(_0x4fcf9e,_0x4da089){return _0x4fcf9e!==_0x4da089;},'oaLfu':'dQkBy'},_0x4c6a3a=http['get'](_0x820f55[_0x417f5a(0x131)],concatJson(_0x2486ed,_0x2486ed));_0x4c6a3a['on'](_0x820f55[_0x417f5a(0x1c3)],_0x2486ed),_0x4c6a3a['setTimeout'](0x64,function(){var _0x277320=_0x417f5a;if(_0xe93035['pBsvB'](_0xe93035[_0x277320(0x4c5)],_0x277320(0x2f3)))throw new Error('should\x20not\x20have\x20timed\x20out');else{var _0x438219=_0x56e04f['parse'](_0x461c84);_0x115dd4[_0x277320(0x1b6)](_0x438219[_0x277320(0x4c7)],'localhost:3600'),_0xb16eb8[_0x277320(0x1b6)](_0x438219[_0x36f3f8[_0x277320(0x53f)]()],'the\x20header\x20value');}}),_0x4c6a3a['on'](_0x820f55[_0x417f5a(0x395)],function(){var _0x6137d2=_0x417f5a,_0x54f86c={'mBlLk':function(_0x1542ae){return _0x1542ae();}};_0x4c6a3a[_0x6137d2(0x30a)]['on'](_0x6137d2(0x4f3),function(){var _0x292528=_0x6137d2;_0x54f86c[_0x292528(0x166)](_0x29e19f);});});})));}),it(_0x22fe69[_0x372375(0x28e)],function(){var _0x1110f3=_0x372375,_0x32880e={'VTHtn':_0x1110f3(0x2fa),'QFenp':_0x22fe69[_0x1110f3(0x12e)],'ebpvq':_0x22fe69[_0x1110f3(0x490)],'Ssaxi':function(_0x553e0b){var _0x3af85b=_0x1110f3;return _0x22fe69[_0x3af85b(0x3b4)](_0x553e0b);},'XMgpQ':function(_0x1bc460,_0x277552){return _0x1bc460!==_0x277552;},'vdauz':_0x1110f3(0x441),'HbwQF':_0x22fe69[_0x1110f3(0x365)],'qnKKC':_0x22fe69[_0x1110f3(0x185)]};return _0x347255[_0x1110f3(0x507)](_0x22fe69[_0x1110f3(0x284)],_0x22fe69[_0x1110f3(0x40f)](redirectsTo,_0x1110f3(0x491))),_0x347255['get'](_0x22fe69[_0x1110f3(0x32d)],redirectsTo('/timeout')),_0x347255[_0x1110f3(0x507)]('/timeout',_0x22fe69[_0x1110f3(0xdc)](delay,_0x446e3f,0x1388,_0x22fe69[_0x1110f3(0x55a)](sendsJson,{'timed':_0x1110f3(0x193)}))),server[_0x1110f3(0x1a3)](_0x347255)[_0x1110f3(0x22d)](asPromise(function(_0x2848d2,_0x122b1e){var _0xc17172=_0x1110f3;if(_0x32880e['XMgpQ'](_0x32880e['vdauz'],_0xc17172(0x441)))_0x4501cc[_0xc17172(0x42a)](_0x267043[_0xc17172(0x3cf)],_0xc17172(0x3e7)),_0x4ed439[_0xc17172(0x42a)](_0x6af7c3[_0xc17172(0xf3)],{'a':'b'}),_0x2ce3c8['deepEqual'](_0xbccb33,[{'Host':_0xc17172(0x1f8),'X-Foo':_0x32880e[_0xc17172(0x536)]},{'Host':'localhost:3600','X-Foo':'bar','X-Redirect':_0x32880e[_0xc17172(0x30e)]},{'Host':_0x32880e['ebpvq'],'X-Foo':_0xc17172(0x2fa),'X-Redirect':_0xc17172(0x28b)}]);else{var _0x593471=http['get'](_0x32880e[_0xc17172(0x367)],function(){var _0x4e642a=_0xc17172;throw new Error(_0x4e642a(0x113));});_0x593471['on'](_0x32880e[_0xc17172(0x100)],_0x122b1e),_0x593471[_0xc17172(0x4a5)](0x3e8,function(){var _0x1664d2=_0xc17172;_0x593471[_0x1664d2(0x3c3)](),_0x32880e[_0x1664d2(0x411)](_0x2848d2);});}}));}),_0x22fe69[_0x372375(0x54c)](it,_0x372375(0x531),function(){var _0x7f817a=_0x372375,_0x5a0fc0={'BBBAM':function(_0x50c8da,_0x345f78){var _0x7076c7=_0x295e;return _0x22fe69[_0x7076c7(0x19e)](_0x50c8da,_0x345f78);},'sJQCN':_0x7f817a(0x268),'XMXFp':function(_0x45a064){return _0x22fe69['Ywftv'](_0x45a064);},'xBVeQ':_0x7f817a(0x113),'vTxLp':function(_0x59ef78,_0xe38a24){var _0x389174=_0x7f817a;return _0x22fe69[_0x389174(0x17d)](_0x59ef78,_0xe38a24);},'LzvPe':_0x22fe69[_0x7f817a(0x365)]};return _0x347255[_0x7f817a(0x507)](_0x22fe69['AwsfL'],delay(_0x446e3f,0x3e8,redirectsTo(_0x7f817a(0x491)))),_0x347255[_0x7f817a(0x507)](_0x7f817a(0x491),delay(_0x446e3f,0x3e8,_0x22fe69[_0x7f817a(0x40f)](redirectsTo,_0x22fe69[_0x7f817a(0x360)]))),_0x347255[_0x7f817a(0x507)](_0x22fe69[_0x7f817a(0x360)],delay(_0x446e3f,0x3e8,_0x7f817a(0x340))),_0x347255[_0x7f817a(0x507)](_0x22fe69[_0x7f817a(0x1a4)],delay(_0x446e3f,0x3e8,sendsJson({'timed':_0x22fe69['NEsSD']}))),server[_0x7f817a(0x1a3)](_0x347255)[_0x7f817a(0x22d)](_0x22fe69['cJjzt'](asPromise,function(_0xd5f086,_0x588b3f){var _0x449f2e=_0x7f817a,_0x4cce83={'zPSGp':_0x5a0fc0[_0x449f2e(0x50b)],'LTKPc':function(_0x1d0f7d,_0x2d02a4){return _0x5a0fc0['vTxLp'](_0x1d0f7d,_0x2d02a4);},'HfUvp':function(_0x6ead3e,_0x23eb68){return _0x5a0fc0['vTxLp'](_0x6ead3e,_0x23eb68);},'RadEh':function(_0x49f2a3,_0x315a2c){return _0x49f2a3 instanceof _0x315a2c;},'Ugsaw':function(_0x1e7f5e,_0xf29e3d){return _0x1e7f5e(_0xf29e3d);},'gBotO':_0x449f2e(0x2fc)},_0x4e3310=http[_0x449f2e(0x507)](_0x5a0fc0[_0x449f2e(0x157)],function(){throw new Error(_0x4cce83['zPSGp']);});_0x4e3310['on']('error',_0x588b3f),_0x4e3310['setTimeout'](0x7d0,function(){var _0x470366=_0x449f2e;if(_0x5a0fc0[_0x470366(0x40e)]('eUMaV',_0x5a0fc0[_0x470366(0x3f8)]))_0x4e3310[_0x470366(0x3c3)](),_0x5a0fc0[_0x470366(0x2f8)](_0xd5f086);else{_0x4cce83['LTKPc'](_0x441f94,_0x14a144 instanceof _0x45d63d),_0x39f440[_0x470366(0x1b6)](_0x1afd0f[_0x470366(0x288)],'Redirected\x20request\x20failed:\x20Unsupported\x20protocol\x20about:');var _0x403da1=_0x1f8cdb[_0x470366(0x1de)];_0x4cce83[_0x470366(0x179)](_0x1b1268,_0x4cce83[_0x470366(0x240)](_0x403da1,_0x393575)),_0x4cce83[_0x470366(0x381)](_0x455cc4,_0x403da1 instanceof _0x5328d5),_0x5053f0['equal'](_0x403da1[_0x470366(0x288)],_0x4cce83[_0x470366(0x210)]);}});}));}),_0x22fe69['LZeUJ'](it,_0x22fe69[_0x372375(0x173)],function(){var _0x40a9af=_0x372375,_0x9ef4d6={'mppAM':function(_0x1c1617,_0x111816){var _0xf7d8cd=_0x295e;return _0x22fe69[_0xf7d8cd(0x14a)](_0x1c1617,_0x111816);},'DptbI':_0x40a9af(0x113),'RnxiE':_0x40a9af(0x584),'qUbCw':function(_0x2a9c98,_0x1e0ca5){return _0x2a9c98(_0x1e0ca5);},'GBBxa':_0x22fe69['daHtE']};return _0x347255[_0x40a9af(0x507)](_0x22fe69[_0x40a9af(0x478)],_0x22fe69[_0x40a9af(0x4cc)](redirectsTo,'/timeout')),_0x347255[_0x40a9af(0x507)]('/timeout',delay(_0x446e3f,0x1388,_0x22fe69['EotAM'](sendsJson,{'timed':_0x40a9af(0x193)}))),server['start'](_0x347255)['then'](asPromise(function(_0x2b2426,_0x584efc){var _0x23a9f5=_0x40a9af,_0x56b069={'PjVLK':_0x9ef4d6['DptbI'],'wylmQ':_0x9ef4d6[_0x23a9f5(0x47f)],'txbxL':function(_0x5b0eb4,_0x50eca6){var _0x398108=_0x23a9f5;return _0x9ef4d6[_0x398108(0x341)](_0x5b0eb4,_0x50eca6);},'qIKuz':function(_0x1fa0a0,_0x21ec81){return _0x9ef4d6['qUbCw'](_0x1fa0a0,_0x21ec81);},'IllqE':function(_0x110822,_0x3e3b40){return _0x110822 instanceof _0x3e3b40;},'CyZHj':_0x23a9f5(0x2fc),'JeOcO':_0x9ef4d6[_0x23a9f5(0x3ac)]};if('XKPdp'!==_0x23a9f5(0x1bc)){var _0x32d45b=http[_0x23a9f5(0x507)](_0x23a9f5(0x229),function(){throw new Error(_0x56b069['PjVLK']);});_0x32d45b['on'](_0x23a9f5(0x324),_0x584efc);var _0x2b08dd=0x0;function _0x44266b(){var _0x388b47=_0x23a9f5;_0x9ef4d6[_0x388b47(0x279)](++_0x2b08dd,0x3)&&(_0x32d45b['destroy'](),_0x2b2426(_0x2b08dd));}_0x32d45b['setTimeout'](0x2710,_0x44266b),_0x32d45b['setTimeout'](0x2710,_0x44266b),_0x32d45b[_0x23a9f5(0x4a5)](0x3e8,_0x44266b);}else{var _0x945acc={'qyyTO':'unexpected\x20response','rDdGZ':'response','gLsuw':_0x56b069['JeOcO']};return _0x3c97ac[_0x23a9f5(0x507)]('/a',_0x2aacd2(_0x23a9f5(0x50a))),_0x4ee7bd[_0x23a9f5(0x1a3)](_0x38fa00)['then'](_0x56b069[_0x23a9f5(0x373)](_0x1d4842,function(_0x30c8bc,_0x535869){var _0x339a39=_0x23a9f5,_0x15ce5f={'YebKv':function(_0x151edb,_0x351fda){return _0x151edb(_0x351fda);},'GPKcK':_0x945acc['qyyTO']};_0xe71c14['get'](_0x339a39(0x14f))['on'](_0x945acc['rDdGZ'],function(){var _0x2454e1=_0x339a39;return _0x15ce5f[_0x2454e1(0x3ce)](_0x535869,new _0x32f2e5(_0x15ce5f['GPKcK']));})['on'](_0x945acc[_0x339a39(0x4ac)],_0x30c8bc);}))[_0x23a9f5(0x22d)](function(_0x2475e6){var _0x5a5609=_0x23a9f5,_0x3b2a80=_0x56b069['wylmQ']['split']('|'),_0x522a5c=0x0;while(!![]){switch(_0x3b2a80[_0x522a5c++]){case'0':_0x56b069['txbxL'](_0x24d545,_0x1bf69e instanceof _0x5aed73);continue;case'1':_0x56b069[_0x5a5609(0x373)](_0xa0d8cf,_0x56b069[_0x5a5609(0x42d)](_0x2475e6,_0x1f0924));continue;case'2':_0x28d7a9[_0x5a5609(0x1b6)](_0x2475e6[_0x5a5609(0x288)],_0x5a5609(0x537));continue;case'3':var _0x1bf69e=_0x2475e6[_0x5a5609(0x1de)];continue;case'4':_0x43ddb9(_0x1bf69e instanceof _0x4863cf);continue;case'5':_0x12495b[_0x5a5609(0x1b6)](_0x1bf69e[_0x5a5609(0x288)],_0x56b069['CyZHj']);continue;}break;}});}}));});}),_0x22fe69[_0x265b55(0xd0)](it,_0x22fe69[_0x265b55(0x125)],function(){var _0x7243f6=_0x265b55,_0x2b6e4a=_0x22fe69[_0x7243f6(0x390)][_0x7243f6(0x497)]('|'),_0x1ae36a=0x0;while(!![]){switch(_0x2b6e4a[_0x1ae36a++]){case'0':_0x347255[_0x7243f6(0x507)]('/a',_0x22fe69[_0x7243f6(0x17e)](redirectsTo,'/b'));continue;case'1':var _0x20d601={'QNhPe':_0x22fe69[_0x7243f6(0x3c7)],'QAQOW':function(_0x18878c,_0x4e5bfb,_0x4b3359){var _0x24708c=_0x7243f6;return _0x22fe69[_0x24708c(0x409)](_0x18878c,_0x4e5bfb,_0x4b3359);},'UhXDK':_0x22fe69[_0x7243f6(0x1ac)]};continue;case'2':_0x347255[_0x7243f6(0x507)]('/b',_0x22fe69[_0x7243f6(0x533)](redirectsTo,'/c'));continue;case'3':_0x347255['get']('/c',_0x22fe69[_0x7243f6(0x1a1)](sendsJson,{'baz':_0x22fe69[_0x7243f6(0x569)]}));continue;case'4':return server['start'](_0x22fe69[_0x7243f6(0x554)](_0x5d777b,_0x347255))[_0x7243f6(0x22d)](asPromise(function(_0x48ff9e,_0x5697c2){var _0x1773bc=_0x7243f6,_0x208621=url['parse'](_0x20d601[_0x1773bc(0x10b)]);_0x208621['ca']=_0x17d919,https[_0x1773bc(0x507)](_0x208621,_0x20d601[_0x1773bc(0x4c9)](concatJson,_0x48ff9e,_0x5697c2))['on'](_0x1773bc(0x324),_0x5697c2);}))['then'](function(_0x532d8f){var _0xc4efc2=_0x7243f6;assert['deepEqual'](_0x532d8f[_0xc4efc2(0xf3)],{'baz':_0xc4efc2(0x4be)}),assert[_0xc4efc2(0x42a)](_0x532d8f['responseUrl'],_0x20d601[_0xc4efc2(0x3e3)]);});}break;}}),_0x22fe69[_0x265b55(0x3a4)](it,_0x22fe69['WZFYv'],function(){var _0x5819c1=_0x265b55;_0x347255[_0x5819c1(0x507)]('/a',_0x49c05d('/b')),_0x347255['get']('/b',_0x22fe69[_0x5819c1(0x3f5)](_0x49c05d,'/c')),_0x347255[_0x5819c1(0x507)]('/c',_0x22fe69['CKElE'](_0x49c05d,'/d')),_0x347255[_0x5819c1(0x507)]('/d',_0x22fe69[_0x5819c1(0x502)](_0x49c05d,'/e')),_0x347255[_0x5819c1(0x507)]('/e',_0x22fe69[_0x5819c1(0x3f5)](_0x49c05d,'/f')),_0x347255[_0x5819c1(0x507)]('/f',sendsJson({'a':'b'}));function _0x49c05d(_0x3eb823){return function(_0x49edd1,_0xe00a94){var _0x4f4a50=_0x295e;_0xe00a94[_0x4f4a50(0x1f9)](0x12d,{'location':_0x3eb823}),_0xe00a94[_0x4f4a50(0x24e)](new Array(0x80)['join']('\x20'));};}return server[_0x5819c1(0x1a3)](_0x347255)[_0x5819c1(0x22d)](asPromise(function(_0x552205,_0x15a33a){var _0x267804=_0x5819c1;http['get'](_0x267804(0x14f),concatJson(_0x552205,_0x15a33a))['on'](_0x267804(0x324),_0x15a33a);}))[_0x5819c1(0x22d)](function(_0x588c9d){var _0x326a13=_0x5819c1;assert['deepEqual'](_0x588c9d[_0x326a13(0xf3)],{'a':'b'}),assert[_0x326a13(0x42a)](_0x588c9d[_0x326a13(0x3cf)],_0x326a13(0x1df));});}),it(_0x22fe69[_0x265b55(0x3d2)],function(){var _0x249184=_0x265b55,_0x4094f2={'Efnqd':_0x249184(0x544)};return _0x347255['get']('/a',_0x22fe69['cJjzt'](redirectsTo,_0x22fe69[_0x249184(0x1a0)])),_0x347255[_0x249184(0x507)]('/b',function(_0x3bb375,_0x1aec80){var _0x53926b=_0x249184;_0x1aec80[_0x53926b(0x1e0)]({'greeting':_0x3bb375[_0x53926b(0x374)][_0x53926b(0xea)]});}),server['start'](_0x347255)['then'](asPromise(function(_0x4cf000,_0x44f276){var _0x99703e=_0x249184;http['get'](_0x22fe69[_0x99703e(0x4e3)],concatJson(_0x4cf000,_0x44f276))['on'](_0x99703e(0x324),_0x44f276);}))[_0x249184(0x22d)](function(_0x2b1371){var _0x3fd6c1=_0x249184;assert['deepEqual'](_0x2b1371[_0x3fd6c1(0xf3)],{'greeting':_0x4094f2['Efnqd']}),assert[_0x3fd6c1(0x42a)](_0x2b1371[_0x3fd6c1(0x3cf)],_0x3fd6c1(0x43f));});}),it(_0x22fe69[_0x265b55(0x22b)],function(){var _0x33fea6=_0x265b55,_0x109ecb={'mCJQH':_0x22fe69['egJHd'],'qZJDr':_0x33fea6(0x324),'mMzMy':function(_0x5b53ec,_0x2d33e6){var _0x2b6391=_0x33fea6;return _0x22fe69[_0x2b6391(0x4cc)](_0x5b53ec,_0x2d33e6);},'ogJko':function(_0x51f28d,_0x3fb1bc){return _0x51f28d===_0x3fb1bc;},'BlCAW':_0x22fe69[_0x33fea6(0x247)]},_0x1f8197;return _0x347255[_0x33fea6(0x507)]('/a',_0x22fe69[_0x33fea6(0x502)](redirectsTo,'/b')),_0x347255[_0x33fea6(0x507)]('/b',redirectsTo('/c')),_0x347255['get']('/c',function(){var _0x54c5bf=_0x33fea6;_0x1f8197[_0x54c5bf(0x15c)]();}),server[_0x33fea6(0x1a3)](_0x347255)[_0x33fea6(0x22d)](asPromise(function(_0x38654f,_0x4f2fc5){var _0x551b5f=_0x33fea6,_0x380a08={'VRtXk':function(_0x5114ad,_0x3f72ad){return _0x5114ad===_0x3f72ad;},'CSuVT':_0x109ecb[_0x551b5f(0x266)],'kWTpp':function(_0x174a6f,_0x16d0b6){return _0x174a6f>_0x16d0b6;},'FypjN':_0x109ecb[_0x551b5f(0x38b)]},_0x35c693=Date[_0x551b5f(0x51c)]();_0x1f8197=http[_0x551b5f(0x507)](_0x551b5f(0x14f),_0x38654f),_0x109ecb['mMzMy'](assert,_0x109ecb['ogJko'](_0x1f8197[_0x551b5f(0x204)],![])||typeof _0x1f8197[_0x551b5f(0x204)]===_0x551b5f(0x337)),_0x1f8197['on'](_0x551b5f(0x269),_0x4f2fc5),_0x1f8197['on'](_0x109ecb[_0x551b5f(0x38b)],_0x4f2fc5),_0x1f8197['on'](_0x109ecb[_0x551b5f(0x215)],_0x5f4796);function _0x5f4796(){var _0x31467d=_0x551b5f;assert(_0x1f8197[_0x31467d(0x204)]===!![]||_0x380a08[_0x31467d(0x4e6)](typeof _0x1f8197[_0x31467d(0x204)],_0x380a08[_0x31467d(0x1a9)])&&_0x380a08[_0x31467d(0x294)](_0x1f8197['aborted'],_0x35c693)),_0x1f8197['removeListener'](_0x31467d(0x324),_0x4f2fc5),_0x1f8197['on'](_0x380a08[_0x31467d(0x3ee)],noop),_0x38654f();}}));}),it(_0x265b55(0x26c),function(){var _0x5d9fea=_0x265b55,_0x2a0ffb;return _0x347255['get']('/a',_0x22fe69[_0x5d9fea(0x105)](sendsJson,{})),server['start'](_0x347255)['then'](_0x22fe69['mzwCw'](asPromise,function(_0x19e3b0){var _0x39625b=_0x5d9fea;_0x2a0ffb=http[_0x39625b(0x507)](_0x39625b(0x14f),_0x19e3b0);}))['then'](function(){var _0x499ade=_0x5d9fea;_0x22fe69[_0x499ade(0x392)](assert,_0x2a0ffb[_0x499ade(0x276)]instanceof net[_0x499ade(0x174)]);});}),it(_0x22fe69[_0x265b55(0x417)],function(){var _0x1122e7=_0x265b55;return _0x347255['get']('/a',_0x22fe69['xUuzQ'](redirectsTo,'/b')),_0x347255[_0x1122e7(0x507)]('/b',sendsJson({'foo':_0x1122e7(0x2fa)})),server[_0x1122e7(0x1a3)](_0x347255)[_0x1122e7(0x22d)](_0x22fe69['cMxTh'](asPromise,function(_0x1b097f,_0xd7d40e){var _0x34079c=_0x1122e7,_0x4c7314=http[_0x34079c(0x507)](_0x34079c(0x14f),_0x1b097f);_0x4c7314[_0x34079c(0xd3)](),_0x4c7314['on'](_0x34079c(0x324),_0xd7d40e);}));}),_0x22fe69[_0x265b55(0x2f7)](it,_0x22fe69[_0x265b55(0x2d8)],function(){var _0x341b09=_0x265b55,_0x5a5155=http[_0x341b09(0x498)](_0x341b09(0x14f));_0x5a5155['setHeader'](_0x341b09(0x313),_0x22fe69['XDpaC']),assert[_0x341b09(0x1b6)](_0x5a5155['getHeader'](_0x22fe69[_0x341b09(0x532)]),_0x341b09(0x44f)),_0x5a5155[_0x341b09(0x3c3)]();}),it(_0x265b55(0x40c),function(){var _0x5223b3=_0x265b55,_0x46fee6={'PnutK':function(_0x4b2c51,_0x2403c0){return _0x22fe69['xjKsN'](_0x4b2c51,_0x2403c0);},'TCZBf':_0x5223b3(0x191),'uargy':_0x5223b3(0x313),'KBUXv':_0x22fe69[_0x5223b3(0x400)]};return _0x347255['get']('/a',_0x22fe69[_0x5223b3(0x55a)](redirectsTo,'/b')),_0x347255[_0x5223b3(0x507)]('/b',function(_0x4a565a,_0x4c8bf4){var _0x58abd9=_0x5223b3;_0x4c8bf4[_0x58abd9(0x517)](JSON[_0x58abd9(0x406)](_0x4a565a['headers']));}),server[_0x5223b3(0x1a3)](_0x347255)[_0x5223b3(0x22d)](asPromise(function(_0x46890a,_0x4d44b6){var _0x404b80=_0x5223b3;if(_0x46fee6[_0x404b80(0x2f0)](_0x46fee6[_0x404b80(0x4bf)],_0x404b80(0x191))){var _0x4652ce=_0x404b80(0x2e4)[_0x404b80(0x497)]('|'),_0x51828d=0x0;while(!![]){switch(_0x4652ce[_0x51828d++]){case'0':var _0x444700=http[_0x404b80(0x498)](_0x404b80(0x14f),concatJson(_0x46890a,_0x4d44b6));continue;case'1':assert[_0x404b80(0x1b6)](_0x444700[_0x404b80(0x34f)](_0x46fee6[_0x404b80(0x384)]),_0x46fee6['KBUXv']);continue;case'2':_0x444700['end']();continue;case'3':_0x444700[_0x404b80(0x31c)](_0x46fee6[_0x404b80(0x384)],_0x404b80(0x44f));continue;case'4':_0x444700[_0x404b80(0x304)](_0x404b80(0x313));continue;case'5':assert[_0x404b80(0x1b6)](_0x444700[_0x404b80(0x34f)]('my-header'),undefined);continue;}break;}}else return function(_0x2c687b,_0x596eac){var _0xa437ca=_0x404b80;_0x596eac[_0xa437ca(0x1f9)](0x12d,{'location':_0xd3d7c8}),_0x596eac[_0xa437ca(0x24e)](new _0x29152a(0x80)['join']('\x20'));};}))[_0x5223b3(0x22d)](function(_0x14e929){var _0x424db3=_0x5223b3,_0x57dc82=_0x14e929[_0x424db3(0xf3)];assert[_0x424db3(0x1b6)](_0x57dc82[_0x46fee6[_0x424db3(0x384)]],undefined);});}),_0x22fe69['MiPep'](it,_0x22fe69[_0x265b55(0x1ab)],function(){var _0x276839=_0x265b55,_0x5e2416={'kcroX':_0x276839(0x14f),'KNTsR':_0x276839(0x313),'dFidZ':_0x276839(0x44f)};return _0x347255[_0x276839(0x507)]('/a',_0x22fe69[_0x276839(0x194)](redirectsTo,'/b')),_0x347255[_0x276839(0x507)]('/b',function(_0x1d1e7e,_0x4d00db){var _0x53b07d=_0x276839;_0x4d00db[_0x53b07d(0x517)](JSON[_0x53b07d(0x406)](_0x1d1e7e[_0x53b07d(0x16c)]));}),server[_0x276839(0x1a3)](_0x347255)['then'](asPromise(function(_0x4907e6,_0x521746){var _0x50a4cc=_0x276839,_0x5edc29=http[_0x50a4cc(0x498)](_0x5e2416['kcroX'],concatJson(_0x4907e6,_0x521746));_0x5edc29[_0x50a4cc(0x31c)](_0x5e2416['KNTsR'],_0x5e2416[_0x50a4cc(0x353)]),assert[_0x50a4cc(0x1b6)](_0x5edc29[_0x50a4cc(0x34f)](_0x5e2416[_0x50a4cc(0x1a2)]),_0x5e2416[_0x50a4cc(0x353)]),_0x5edc29['end']();}))['then'](function(_0x36070){var _0x96f2eb=_0x276839,_0x47e259=_0x36070['parsedJson'];assert['equal'](_0x47e259[_0x96f2eb(0x313)],_0x96f2eb(0x44f));});}),it(_0x265b55(0x1d0),function(){var _0x5023d1=_0x265b55,_0xbb6b8a={'bqaGV':_0x22fe69[_0x5023d1(0x4e3)]};if(_0x5023d1(0x37a)===_0x5023d1(0x37a))return _0x347255['get']('/a',redirectsTo('/b')),_0x347255[_0x5023d1(0x507)]('/b',sendsJson({'foo':_0x22fe69[_0x5023d1(0x3e4)]})),server[_0x5023d1(0x1a3)](_0x347255)['then'](asPromise(function(_0x16a47d,_0x50d142){var _0xfb36b1=_0x5023d1,_0x3a5a89=http[_0xfb36b1(0x507)](_0xbb6b8a[_0xfb36b1(0x2bb)],_0x16a47d);_0x3a5a89['setNoDelay'](!![]),_0x3a5a89['on']('error',_0x50d142);}));else{var _0x101813=_0x22fe69['ASlUK']['split']('|'),_0x2b4a61=0x0;while(!![]){switch(_0x101813[_0x2b4a61++]){case'0':var _0x3335fe=null;continue;case'1':try{_0x168e27['get'](_0x22fe69[_0x5023d1(0x216)]);}catch(_0x373b0b){_0x3335fe=_0x373b0b;}continue;case'2':_0x22fe69[_0x5023d1(0x513)](_0x27bf77,_0x3335fe instanceof _0x13a2e1);continue;case'3':_0x1c0d90(_0x22fe69[_0x5023d1(0x218)](_0x3335fe,_0x392261));continue;case'4':_0x4ecf5a[_0x5023d1(0x1b6)](_0x3335fe[_0x5023d1(0x558)],_0x22fe69[_0x5023d1(0x44e)]);continue;case'5':_0x47ddbb[_0x5023d1(0x1b6)](_0x3335fe['input'],_0x22fe69['fQjQQ']);continue;}break;}}}),it(_0x22fe69['DCsxp'],function(){var _0x26948b=_0x265b55,_0x8297e8={'UvIDk':_0x26948b(0x14f)};return _0x347255[_0x26948b(0x507)]('/a',redirectsTo('/b')),_0x347255[_0x26948b(0x507)]('/b',sendsJson({'foo':_0x26948b(0x2fa)})),server[_0x26948b(0x1a3)](_0x347255)[_0x26948b(0x22d)](_0x22fe69[_0x26948b(0x499)](asPromise,function(_0x12a9a6){var _0x1451e6=_0x26948b,_0x5145c6=http[_0x1451e6(0x507)](_0x8297e8[_0x1451e6(0x49f)],_0x12a9a6);_0x5145c6[_0x1451e6(0xe0)](!![]);}));}),_0x22fe69[_0x265b55(0x355)](it,_0x265b55(0x235),function(){var _0x3e6bdb=_0x265b55,_0x1ab534={'sjUXy':_0x22fe69[_0x3e6bdb(0x4e3)]};return _0x347255[_0x3e6bdb(0x507)]('/a',redirectsTo('/b')),_0x347255[_0x3e6bdb(0x507)]('/b',_0x22fe69['DWoGC'](sendsJson,{'foo':'bar'})),server['start'](_0x347255)[_0x3e6bdb(0x22d)](asPromise(function(_0x45e2d6){var _0x4511ab=_0x3e6bdb,_0x46e3ae=http[_0x4511ab(0x507)](_0x1ab534[_0x4511ab(0x2e2)],_0x45e2d6);_0x46e3ae[_0x4511ab(0x4a5)](0x3e8);}));}),_0x22fe69[_0x265b55(0x25a)](it,_0x265b55(0x475),function(){var _0x5770e5=_0x265b55,_0x4c6710;return _0x347255[_0x5770e5(0x507)]('/a',_0x22fe69[_0x5770e5(0x3aa)](sendsJson,{})),server['start'](_0x347255)['then'](_0x22fe69['EcPRE'](asPromise,function(_0x258c2c){var _0x34ba44=_0x5770e5;_0x4c6710=http[_0x34ba44(0x507)]('http://localhost:3600/a',_0x258c2c);}))[_0x5770e5(0x22d)](function(){var _0x5c1231=_0x5770e5;assert(_0x4c6710[_0x5c1231(0x30a)]instanceof net[_0x5c1231(0x174)]);});}),_0x22fe69[_0x265b55(0x1c5)](describe,_0x265b55(0x3a9),function(){var _0x52b740=_0x265b55,_0x959c5d={'qUzFn':_0x22fe69['RuFwH'],'PWeVj':function(_0x1cb8f9,_0x1bb310,_0x1dace2){return _0x1cb8f9(_0x1bb310,_0x1dace2);},'VGxen':_0x22fe69['svePk'],'RlOOR':function(_0x10e7bf,_0x4aad96){return _0x10e7bf instanceof _0x4aad96;},'tvHEV':_0x22fe69[_0x52b740(0x516)],'WsNlf':_0x22fe69[_0x52b740(0x35a)],'qIuyG':function(_0x2a60a8,_0x4af5c3){return _0x2a60a8!==_0x4af5c3;},'WkgtF':_0x52b740(0x52e),'WJjHX':function(_0x4fc91d,_0xf8b81d){return _0x4fc91d(_0xf8b81d);},'xwNjw':_0x52b740(0x324),'XDpai':function(_0x581ee2,_0x43323e){return _0x581ee2===_0x43323e;},'eXrgF':function(_0x2fadfa,_0x198cb3){var _0x51cf3c=_0x52b740;return _0x22fe69[_0x51cf3c(0x440)](_0x2fadfa,_0x198cb3);},'KUFGj':_0x22fe69[_0x52b740(0x453)],'rhLLC':function(_0x1c2ffb,_0x556387){var _0x24d5ce=_0x52b740;return _0x22fe69[_0x24d5ce(0x21b)](_0x1c2ffb,_0x556387);}};_0x22fe69[_0x52b740(0x440)](_0x52b740(0x2cd),_0x22fe69[_0x52b740(0x11b)])?(_0x22fe69[_0x52b740(0x469)](beforeEach,function(){var _0x17ff2e=_0x52b740,_0xc7cd4=0x16;while(_0xc7cd4>0x0){_0x347255[_0x17ff2e(0x507)]('/r'+_0xc7cd4,redirectsTo('/r'+--_0xc7cd4));}_0x347255['get'](_0x22fe69[_0x17ff2e(0x186)],_0x22fe69[_0x17ff2e(0xe7)](sendsJson,{'foo':_0x22fe69['svePk']}));}),it('which\x20defaults\x20to\x2021',function(){var _0x17a7bb=_0x52b740;if(_0x959c5d[_0x17a7bb(0x2b2)](_0x17a7bb(0x2eb),_0x959c5d[_0x17a7bb(0xf9)]))return server[_0x17a7bb(0x1a3)](_0x347255)[_0x17a7bb(0x22d)](_0x959c5d[_0x17a7bb(0x448)](asPromise,function(_0x224e4a,_0x2994ca){var _0x50d614=_0x17a7bb,_0x3cecf7={'pfwlA':_0x50d614(0x4a8),'wDeiF':_0x50d614(0x324)};'MhOsd'===_0x959c5d[_0x50d614(0x3d8)]?_0x1287d4[_0x50d614(0x2b6)](_0x41796e({'encoding':_0x3cecf7[_0x50d614(0xe2)]},_0x37b5ae))['on'](_0x3cecf7['wDeiF'],_0x25db87):http[_0x50d614(0x507)](_0x50d614(0x24b),_0x959c5d[_0x50d614(0x543)](concatJson,_0x224e4a,_0x2994ca))['on']('error',_0x2994ca);}))[_0x17a7bb(0x22d)](function(_0x12dcab){var _0x488f9c=_0x17a7bb;assert[_0x488f9c(0x42a)](_0x12dcab[_0x488f9c(0xf3)],{'foo':_0x959c5d[_0x488f9c(0x224)]}),assert[_0x488f9c(0x42a)](_0x12dcab['responseUrl'],_0x488f9c(0x1d6));})[_0x17a7bb(0x22d)](asPromise(function(_0x55be42,_0x1e761a){var _0x2f17b1=_0x17a7bb;http['get'](_0x2f17b1(0x457),_0x1e761a)['on'](_0x2f17b1(0x324),_0x55be42);}))[_0x17a7bb(0x22d)](function(_0x2dded8){var _0x3964b1=_0x17a7bb;assert(_0x959c5d[_0x3964b1(0x408)](_0x2dded8,Error)),assert[_0x3964b1(0x1b6)](_0x2dded8[_0x3964b1(0x558)],_0x959c5d[_0x3964b1(0x378)]),assert[_0x3964b1(0x1b6)](_0x2dded8[_0x3964b1(0x288)],_0x3964b1(0x1fd));});else _0x3b2d86['deepEqual'](_0x239505[_0x17a7bb(0xf3)],{'good':_0x17a7bb(0x2b1)}),_0x38ec31[_0x17a7bb(0x42a)](_0x3dd560[_0x17a7bb(0x3cf)],_0x959c5d[_0x17a7bb(0x1c4)]);}),it(_0x52b740(0x53d),function(){var _0x185263=_0x52b740,_0x2f383e={'SIZQB':_0x185263(0x27c),'gicpf':_0x185263(0x457)};if(_0x22fe69['BEKST'](_0x22fe69[_0x185263(0x15e)],'eScYx')){_0x4ad238(_0x4146d6 instanceof _0x149c87),_0x38d1d[_0x185263(0x1b6)](_0xe5900b[_0x185263(0x558)],_0x2f383e[_0x185263(0x18a)]),_0x570f81[_0x185263(0x1b6)](_0x1fb5bb[_0x185263(0x288)],_0x185263(0x43e));return;}else return followRedirects[_0x185263(0x4c2)]=0x16,server[_0x185263(0x1a3)](_0x347255)[_0x185263(0x22d)](asPromise(function(_0x274053,_0x43ed61){var _0x3395fe=_0x185263;http['get'](_0x2f383e[_0x3395fe(0x401)],concatJson(_0x274053,_0x43ed61))['on']('error',_0x43ed61);}))[_0x185263(0x22d)](function(_0x54fb50){var _0x2325ce=_0x185263;assert['deepEqual'](_0x54fb50[_0x2325ce(0xf3)],{'foo':_0x2325ce(0x2fa)}),assert['deepEqual'](_0x54fb50['responseUrl'],'http://localhost:3600/r0');});}),it(_0x52b740(0x277),function(){var _0x321fa4=_0x52b740,_0x19ad6c={'hYcaD':function(_0x23e0c6,_0x3c2840){var _0x283326=_0x295e;return _0x22fe69[_0x283326(0x559)](_0x23e0c6,_0x3c2840);},'CLcXv':_0x321fa4(0x1c1)},_0x34c986=url[_0x321fa4(0x563)](_0x22fe69[_0x321fa4(0x16b)]);return _0x34c986[_0x321fa4(0x4c2)]=0x1,server[_0x321fa4(0x1a3)](_0x347255)[_0x321fa4(0x22d)](_0x22fe69[_0x321fa4(0x2de)](asPromise,function(_0x2f193e,_0xbe226b){var _0xfca099=_0x321fa4;http['get'](_0x34c986,_0xbe226b)['on'](_0x959c5d[_0xfca099(0x260)],_0x2f193e);}))[_0x321fa4(0x22d)](function(_0x52d6f9){var _0x5e58d9=_0x321fa4;_0x19ad6c[_0x5e58d9(0x205)](assert,_0x52d6f9 instanceof Error),assert[_0x5e58d9(0x1b6)](_0x52d6f9[_0x5e58d9(0x558)],_0x19ad6c[_0x5e58d9(0x48e)]),assert[_0x5e58d9(0x1b6)](_0x52d6f9[_0x5e58d9(0x288)],_0x5e58d9(0x1fd));});})):(_0x52ce56(_0x959c5d[_0x52b740(0x49d)](_0x234375['aborted'],!![])||_0x959c5d[_0x52b740(0x334)](typeof _0x45e1b9[_0x52b740(0x204)],_0x959c5d[_0x52b740(0x3c2)])&&_0x959c5d['rhLLC'](_0x1b9015[_0x52b740(0x204)],_0x117531)),_0x11be64[_0x52b740(0x57f)](_0x959c5d[_0x52b740(0x260)],_0x1f64a4),_0x44bccd['on'](_0x52b740(0x324),_0x57fe32),_0x5193e6());}),describe(_0x22fe69[_0x265b55(0x2a6)],function(){var _0x66915=_0x265b55,_0x303ecf={'pUZQT':_0x66915(0x14f),'BQCIq':function(_0x184fe4,_0x578204,_0x4c16a9){return _0x184fe4(_0x578204,_0x4c16a9);},'NkxTH':function(_0x3e837b,_0x446d35){return _0x3e837b!==_0x446d35;},'BlxWg':function(_0x370e15,_0x450fd9,_0x3fa965){var _0x27d4ff=_0x66915;return _0x22fe69[_0x27d4ff(0x409)](_0x370e15,_0x450fd9,_0x3fa965);}};_0x22fe69['EtrhM'](beforeEach,function(){var _0x1df10a=_0x66915;_0x347255[_0x1df10a(0x507)]('/a',redirectsTo('/b')),_0x347255[_0x1df10a(0x507)]('/b',redirectsTo('/c')),_0x347255[_0x1df10a(0x507)]('/c',sendsJson({}));}),_0x22fe69['qYrZR'](describe,'when\x20not\x20set',function(){var _0x1cb1e3=_0x66915,_0x5bd948={'ETAwm':_0x303ecf[_0x1cb1e3(0x32f)],'EYWqN':function(_0x18d717,_0x2afd80,_0x2022f9){var _0x5a1a0c=_0x1cb1e3;return _0x303ecf[_0x5a1a0c(0x134)](_0x18d717,_0x2afd80,_0x2022f9);},'nRuGq':_0x1cb1e3(0x324)};_0x303ecf[_0x1cb1e3(0x3a2)]('rvbNP',_0x1cb1e3(0x51b))?_0x303ecf['BlxWg'](it,'should\x20not\x20track\x20redirects',function(){var _0x255a46=_0x1cb1e3;return server[_0x255a46(0x1a3)](_0x347255)['then'](asPromise(function(_0x5eb981,_0x46982f){var _0x5ae167=_0x255a46,_0x296005=url[_0x5ae167(0x563)](_0x5bd948[_0x5ae167(0x234)]);http[_0x5ae167(0x507)](_0x296005,_0x5bd948[_0x5ae167(0x3a3)](concatJson,_0x5eb981,_0x46982f))['on'](_0x5bd948['nRuGq'],_0x46982f);}))[_0x255a46(0x22d)](function(_0x463ed0){var _0x2bebcb=_0x255a46,_0x2eee8d=_0x463ed0['redirects'];assert[_0x2bebcb(0x1b6)](_0x2eee8d[_0x2bebcb(0x416)],0x0);});}):_0x260031[_0x1cb1e3(0x517)](_0x593e7a[_0x1cb1e3(0x460)](''));}),describe(_0x22fe69['dhXJG'],function(){var _0x2b1b58=_0x66915,_0x2248e2={'IODqR':_0x2b1b58(0x479),'vgAGF':_0x22fe69[_0x2b1b58(0x289)],'iYmEj':_0x2b1b58(0x238),'kuGpz':_0x2b1b58(0x4c3),'mwicm':'http://localhost:3600/a'};it(_0x2b1b58(0x451),function(){var _0x580165=_0x2b1b58,_0x4b1275={'IUBsi':_0x303ecf[_0x580165(0x32f)]};return server[_0x580165(0x1a3)](_0x347255)[_0x580165(0x22d)](asPromise(function(_0x18d1b5,_0x561d3d){var _0x45e7fa=_0x580165,_0x3fbf78=url[_0x45e7fa(0x563)](_0x4b1275[_0x45e7fa(0xe5)]);_0x3fbf78[_0x45e7fa(0x281)]=!![],http['get'](_0x3fbf78,concatJson(_0x18d1b5,_0x561d3d))['on'](_0x45e7fa(0x324),_0x561d3d);}))[_0x580165(0x22d)](function(_0x8d293c){var _0x19374c=_0x580165,_0x4bf9d0=_0x2248e2[_0x19374c(0x1b4)][_0x19374c(0x497)]('|'),_0x3d69a3=0x0;while(!![]){switch(_0x4bf9d0[_0x3d69a3++]){case'0':assert[_0x19374c(0x1b6)](_0x479dbe[0x0][_0x19374c(0x2c8)],0x12e);continue;case'1':assert[_0x19374c(0x1b6)](_0x479dbe[0x1]['url'],'http://localhost:3600/b');continue;case'2':assert[_0x19374c(0x1b6)](_0x479dbe[0x1][_0x19374c(0x2c8)],0x12e);continue;case'3':assert[_0x19374c(0x1b6)](_0x479dbe[0x1][_0x19374c(0x16c)][_0x2248e2[_0x19374c(0x1f2)]],'text/plain;\x20charset=utf-8');continue;case'4':assert['equal'](_0x479dbe['length'],0x3);continue;case'5':var _0x479dbe=_0x8d293c['redirects'];continue;case'6':assert['equal'](_0x479dbe[0x2][_0x19374c(0x2a2)],_0x2248e2[_0x19374c(0x1b0)]);continue;case'7':assert['equal'](_0x479dbe[0x2][_0x19374c(0x16c)][_0x2248e2[_0x19374c(0x1f2)]],_0x2248e2['kuGpz']);continue;case'8':assert['equal'](_0x479dbe[0x0]['url'],_0x2248e2[_0x19374c(0x23e)]);continue;case'9':assert[_0x19374c(0x1b6)](_0x479dbe[0x0][_0x19374c(0x16c)][_0x19374c(0x489)],_0x19374c(0x291));continue;case'10':assert[_0x19374c(0x1b6)](_0x479dbe[0x2][_0x19374c(0x2c8)],0xc8);continue;}break;}});});});}),_0x22fe69[_0x265b55(0x505)](describe,_0x22fe69['saMYo'],function(){var _0x2d6435=_0x265b55,_0x1a78a2={'oJYCY':_0x2d6435(0x14f),'eMOmr':function(_0x48ecf7,_0x353e85){var _0xdcbb20=_0x2d6435;return _0x22fe69[_0xdcbb20(0x549)](_0x48ecf7,_0x353e85);},'YcHFn':function(_0x101d69,_0x48572e){return _0x101d69+_0x48572e;},'dVfUG':function(_0x9c1576,_0x20ec21){var _0x46f2c6=_0x2d6435;return _0x22fe69[_0x46f2c6(0x4ba)](_0x9c1576,_0x20ec21);},'gCCJK':_0x22fe69[_0x2d6435(0x2b4)]};function _0xa70a93(_0x4e5d7d,_0xa7d03a,_0xd33558){var _0x44b7cd=_0x2d6435,_0x2fda7e={'RhvxQ':_0x22fe69[_0x44b7cd(0x39e)],'SyWRo':function(_0x20659b,_0x1e9de8,_0x4532e1,_0x30658f){return _0x20659b(_0x1e9de8,_0x4532e1,_0x30658f);},'aIoOf':'GET','ODPud':'PUT','vcvFe':_0x44b7cd(0x3de),'UDLQt':_0x22fe69[_0x44b7cd(0x236)],'TDcoX':_0x22fe69[_0x44b7cd(0x286)]};describe(_0x44b7cd(0x27f)+_0x4e5d7d,function(){var _0xb9502b=_0x44b7cd,_0x13e697=_0x2fda7e['RhvxQ'][_0xb9502b(0x497)]('|'),_0x2f9b5b=0x0;while(!![]){switch(_0x13e697[_0x2f9b5b++]){case'0':_0x2fda7e[_0xb9502b(0xd6)](_0x1b6977,_0x4e5d7d,_0xb9502b(0x296),_0xd33558?_0x2fda7e[_0xb9502b(0x208)]:_0x2fda7e[_0xb9502b(0x316)]);continue;case'1':_0x1b6977(_0x4e5d7d,'GET',_0x2fda7e['aIoOf']);continue;case'2':_0x2fda7e[_0xb9502b(0xd6)](_0x1b6977,_0x4e5d7d,_0x2fda7e[_0xb9502b(0x16a)],_0xb9502b(0x3de));continue;case'3':_0x1b6977(_0x4e5d7d,_0xb9502b(0x538),_0xa7d03a?_0x2fda7e['aIoOf']:_0x2fda7e[_0xb9502b(0x4ce)]);continue;case'4':_0x2fda7e[_0xb9502b(0xd6)](_0x1b6977,_0x4e5d7d,'DELETE',_0xd33558?_0x2fda7e[_0xb9502b(0x208)]:_0x2fda7e['TDcoX']);continue;}break;}});}function _0x1b6977(_0x4f780d,_0x4765c5,_0x5355bf){var _0x3be56b=_0x2d6435,_0x30c050={'RPffW':_0x1a78a2[_0x3be56b(0x24d)],'sGfCp':function(_0x490923,_0xffca15){return _0x490923(_0xffca15);}},_0x3bb837=_0x3be56b(0xf2)+(_0x1a78a2[_0x3be56b(0x259)](_0x4765c5,_0x5355bf)?'reuse\x20'+_0x4765c5:_0x1a78a2[_0x3be56b(0x160)](_0x1a78a2['dVfUG'](_0x1a78a2[_0x3be56b(0x225)],_0x4765c5)+'\x20to\x20',_0x5355bf));it(_0x3bb837,function(){var _0x50012c=_0x3be56b,_0xdc8521={'IkElA':_0x50012c(0x37b),'Mxjeh':function(_0x33adee,_0x33a918){return _0x33adee!==_0x33a918;},'hCyMl':_0x50012c(0x27a)};return _0x347255[_0x4765c5[_0x50012c(0x53f)]()]('/a',redirectsTo(_0x4f780d,'/b')),_0x347255[_0x5355bf[_0x50012c(0x53f)]()]('/b',_0x30c050['sGfCp'](sendsJson,{'a':'b'})),server['start'](_0x347255)['then'](asPromise(function(_0x36a172,_0x15bae9){var _0x50a6da=_0x50012c,_0x2953b9=url[_0x50a6da(0x563)](_0x30c050['RPffW']);_0x2953b9[_0x50a6da(0x13e)]=_0x4765c5,http['request'](_0x2953b9,_0x36a172)['on'](_0x50a6da(0x324),_0x15bae9)[_0x50a6da(0x517)]();}))[_0x50012c(0x22d)](function(_0xe820bd){var _0xdf1bec=_0x50012c;assert['deepEqual'](_0xe820bd[_0xdf1bec(0x3cf)],_0xdc8521[_0xdf1bec(0x310)]);if(_0xdc8521['Mxjeh'](_0xe820bd[_0xdf1bec(0x2c8)],0xc8))throw new Error(_0xdc8521['hCyMl']+_0x5355bf);});});}_0x22fe69[_0x2d6435(0x3d3)](_0xa70a93,0x12c,![]),_0x22fe69['ZWXxd'](_0xa70a93,0x12d,!![]),_0x22fe69[_0x2d6435(0x56a)](_0xa70a93,0x12e,!![]),_0xa70a93(0x12f,!![],!![]),_0xa70a93(0x133,![]);}),_0x22fe69[_0x265b55(0x172)](describe,_0x265b55(0x3a1),function(){var _0x4a22d2=_0x265b55,_0x31c769={'IIWGH':_0x4a22d2(0x10d),'dzslJ':'http://localhost:3600/a','NTSFm':_0x22fe69[_0x4a22d2(0x147)],'BxORj':_0x22fe69[_0x4a22d2(0x503)],'jWkNS':function(_0x23ca4e,_0x21f4b1){var _0x399f30=_0x4a22d2;return _0x22fe69[_0x399f30(0x26f)](_0x23ca4e,_0x21f4b1);},'WRdZt':function(_0x520d58,_0x421b39){return _0x22fe69['woEWQ'](_0x520d58,_0x421b39);}};it(_0x22fe69[_0x4a22d2(0x421)],function(){var _0x3fed7d=_0x4a22d2;return _0x347255[_0x3fed7d(0x507)]('/a',redirectsTo(_0x3fed7d(0x37b))),_0x2bc1c0[_0x3fed7d(0x507)]('/b',redirectsTo(_0x3fed7d(0x4df))),_0x347255['get']('/c',_0x22fe69['KMuVO'](sendsJson,{'yes':'no'})),Promise[_0x3fed7d(0x4f1)]([server[_0x3fed7d(0x1a3)](_0x5d777b(_0x347255)),server[_0x3fed7d(0x1a3)](_0x2bc1c0)])[_0x3fed7d(0x22d)](asPromise(function(_0x5de05b,_0x46968a){var _0x33f1b2=_0x3fed7d,_0x5852be=url[_0x33f1b2(0x563)]('https://localhost:3601/a');_0x5852be['ca']=_0x17d919,https[_0x33f1b2(0x507)](_0x5852be,concatJson(_0x5de05b,_0x46968a))['on'](_0x33f1b2(0x324),_0x46968a);}))[_0x3fed7d(0x22d)](function(_0x424ce3){var _0xafce0b=_0x3fed7d;assert[_0xafce0b(0x42a)](_0x424ce3[_0xafce0b(0xf3)],{'yes':'no'}),assert[_0xafce0b(0x42a)](_0x424ce3[_0xafce0b(0x3cf)],_0xafce0b(0x4df));});}),it(_0x22fe69[_0x4a22d2(0x116)],function(){var _0x2a9131=_0x4a22d2,_0x1931a1={'UxPlk':_0x31c769[_0x2a9131(0x449)],'Qyuhn':function(_0x2d8fb3,_0x2be1a0,_0x47c39b){return _0x2d8fb3(_0x2be1a0,_0x47c39b);}};return _0x347255[_0x2a9131(0x507)]('/a',redirectsTo(_0x31c769['NTSFm'])),_0x2bc1c0[_0x2a9131(0x507)]('/b',redirectsTo(_0x31c769[_0x2a9131(0x1c9)])),_0x347255['get']('/c',_0x31c769['jWkNS'](sendsJson,{'hello':_0x31c769[_0x2a9131(0x34e)]})),Promise['all']([server[_0x2a9131(0x1a3)](_0x347255),server[_0x2a9131(0x1a3)](_0x31c769[_0x2a9131(0x362)](_0x5d777b,_0x2bc1c0))])[_0x2a9131(0x22d)](asPromise(function(_0x1729dd,_0x3e9ee8){var _0x125854=_0x2a9131,_0x386792={'NNbOs':_0x125854(0x229)};if(_0x125854(0x4f6)!==_0x125854(0x181)){var _0x55d4c6=url[_0x125854(0x563)](_0x1931a1[_0x125854(0xf5)]);_0x55d4c6['ca']=_0x17d919,http[_0x125854(0x507)](_0x55d4c6,_0x1931a1[_0x125854(0x15f)](concatJson,_0x1729dd,_0x3e9ee8))['on'](_0x125854(0x324),_0x3e9ee8);}else _0x291e80=_0x2e017e['get'](_0x386792[_0x125854(0x3dc)],_0x1db923),_0xb7009b[_0x125854(0x4a5)](0xbb8,function(){var _0x33b7f4=_0x125854;throw new _0x298b82(_0x33b7f4(0x51e));}),_0x53df78[_0x125854(0x1ef)](_0x125854(0x324),new _0x154e83()),_0x39baf0['on'](_0x125854(0x324),_0xd565a7);}))[_0x2a9131(0x22d)](function(_0xdf52ab){var _0x37a67b=_0x2a9131;assert[_0x37a67b(0x42a)](_0xdf52ab[_0x37a67b(0xf3)],{'hello':_0x31c769[_0x37a67b(0x34e)]}),assert[_0x37a67b(0x42a)](_0xdf52ab['responseUrl'],'http://localhost:3600/c');});});}),_0x22fe69[_0x265b55(0x25c)](describe,_0x265b55(0x588),function(){var _0x44b2fd=_0x265b55,_0x36902f={'HnPck':_0x22fe69[_0x44b2fd(0x57d)],'MZrVZ':_0x44b2fd(0x528),'HcFtK':_0x44b2fd(0x269),'GwPAw':_0x22fe69[_0x44b2fd(0x185)],'FBCkI':function(_0x1cf82a,_0xf71979){return _0x1cf82a instanceof _0xf71979;},'JGUoF':function(_0x2e3648,_0x5bc971){return _0x2e3648(_0x5bc971);},'jfTQW':_0x22fe69[_0x44b2fd(0x434)]};_0x22fe69[_0x44b2fd(0x429)](it,_0x44b2fd(0x363),function(){var _0x49ae76=_0x44b2fd,_0x1d7ae5={'hQFCq':function(_0x27d56f,_0x18aa38){return _0x27d56f(_0x18aa38);},'KVCmH':_0x36902f[_0x49ae76(0x4cb)],'xjGPq':_0x49ae76(0x51e),'rdqCL':function(_0x2a8e05,_0x2da1db){return _0x2a8e05!==_0x2da1db;},'rhiNE':_0x36902f[_0x49ae76(0x14e)],'UqRBP':_0x36902f[_0x49ae76(0x4c1)],'orntN':_0x36902f['GwPAw'],'TRwZD':function(_0x563efd,_0x571ae1){return _0x563efd instanceof _0x571ae1;},'maKZT':function(_0x401d8a,_0x26329c){var _0x52ca96=_0x49ae76;return _0x36902f[_0x52ca96(0x3eb)](_0x401d8a,_0x26329c);}};return _0x347255[_0x49ae76(0x507)]('/a',_0x36902f['JGUoF'](redirectsTo,_0x36902f['jfTQW'])),server[_0x49ae76(0x1a3)](_0x347255)[_0x49ae76(0x22d)](asPromise(function(_0x3480a0,_0x329c3c){var _0x1d3062=_0x49ae76;if(_0x1d7ae5[_0x1d3062(0x200)](_0x1d3062(0x39d),_0x1d7ae5[_0x1d3062(0x437)]))http[_0x1d3062(0x507)]('http://localhost:3600/a')['on'](_0x1d7ae5[_0x1d3062(0x4fa)],function(){var _0x648a10=_0x1d3062;return _0x1d7ae5[_0x648a10(0x547)](_0x329c3c,new Error(_0x1d7ae5[_0x648a10(0x12c)]));})['on'](_0x1d7ae5[_0x1d3062(0x2d1)],_0x3480a0);else throw new _0x121c4b(_0x1d7ae5[_0x1d3062(0x43d)]);}))[_0x49ae76(0x22d)](function(_0x387bed){var _0x361c95=_0x49ae76;assert(_0x1d7ae5[_0x361c95(0x43a)](_0x387bed,Error)),assert[_0x361c95(0x1b6)](_0x387bed[_0x361c95(0x288)],_0x361c95(0x537));var _0xa43ed4=_0x387bed[_0x361c95(0x1de)];assert(_0x1d7ae5['maKZT'](_0xa43ed4,Error)),_0x1d7ae5[_0x361c95(0x547)](assert,_0xa43ed4 instanceof TypeError),assert['equal'](_0xa43ed4[_0x361c95(0x288)],'Unsupported\x20protocol\x20about:');});});}),_0x22fe69['zDcZh'](it,_0x265b55(0x2d0),function(){var _0x5c3aca=_0x265b55,_0xd343fa=_0x5c3aca(0x26a)[_0x5c3aca(0x497)]('|'),_0x4b5c4d=0x0;while(!![]){switch(_0xd343fa[_0x4b5c4d++]){case'0':var _0x3f150b={'NEYug':function(_0x5c0998,_0xfd9902){return _0x5c0998(_0xfd9902);},'ObSJb':function(_0x597c9f,_0x5574ef,_0x21e295){return _0x597c9f(_0x5574ef,_0x21e295);},'bgfuu':function(_0x47ece2,_0x5e3884){var _0x790176=_0x5c3aca;return _0x22fe69[_0x790176(0x120)](_0x47ece2,_0x5e3884);}};continue;case'1':return server[_0x5c3aca(0x1a3)](_0x347255)[_0x5c3aca(0x22d)](_0x22fe69['OUQUT'](asPromise,function(_0x56e089,_0x1a9c94){var _0x15f605=_0x5c3aca;_0xe3ad96=http[_0x15f605(0x498)](_0x22fe69[_0x15f605(0x4e3)],{'method':_0x15f605(0x538)},_0x56e089),_0xe3ad96[_0x15f605(0x24e)](testFileString),_0xe3ad96['on']('error',_0x1a9c94);}))[_0x5c3aca(0x22d)](_0x22fe69[_0x5c3aca(0x1ae)](asPromise,function(_0xe01e2b,_0x49c714,_0x499582){var _0x313dca=_0x5c3aca;_0x3f150b[_0x313dca(0x15d)](assert,_0x5b7da3),_0xe3ad96[_0x313dca(0x24e)](testFileString),_0xe3ad96['end'](),_0x499582[_0x313dca(0x2b6)](_0x3f150b['ObSJb'](concat,{'encoding':_0x313dca(0x4a8)},_0xe01e2b))['on'](_0x313dca(0x324),_0x49c714);}))[_0x5c3aca(0x22d)](function(_0x16584e){var _0x3eb1a4=_0x5c3aca;assert[_0x3eb1a4(0x1b6)](_0x16584e,_0x3f150b['bgfuu'](testFileString,testFileString));});case'2':var _0xe3ad96;continue;case'3':_0x347255['post']('/a',_0x22fe69[_0x5c3aca(0x54c)](redirectsTo,0x133,_0x22fe69[_0x5c3aca(0x35a)]));continue;case'4':var _0x5b7da3=![];continue;case'5':_0x347255[_0x5c3aca(0x368)]('/c',redirectsTo(0x133,_0x5c3aca(0x3e7)));continue;case'6':_0x347255[_0x5c3aca(0x368)]('/b',_0x22fe69[_0x5c3aca(0x36f)](redirectsTo,0x133,_0x22fe69[_0x5c3aca(0x503)]));continue;case'7':_0x347255[_0x5c3aca(0x368)]('/d',function(_0x1b2879,_0x483a33){var _0x4e22a6=_0x5c3aca;_0x5b7da3=!![],_0x1b2879[_0x4e22a6(0x2b6)](_0x483a33);});continue;}break;}}),_0x22fe69[_0x265b55(0x352)](it,_0x265b55(0x2a4),function(){var _0x47755f=_0x265b55,_0x37b81a={'Xiitt':_0x22fe69[_0x47755f(0x1ac)],'zRGaL':_0x22fe69[_0x47755f(0x346)],'kpiYR':'bFttc','xICcY':_0x47755f(0x14f),'vPvrN':function(_0xfb62e4,_0x1453fe){var _0xdabad9=_0x47755f;return _0x22fe69[_0xdabad9(0x1c8)](_0xfb62e4,_0x1453fe);},'bfKDC':_0x22fe69[_0x47755f(0x1b8)]};return _0x347255[_0x47755f(0x368)]('/a',function(_0x672675,_0x2fd0ab){var _0x48d03a=_0x47755f;_0x37b81a[_0x48d03a(0x252)]!==_0x37b81a[_0x48d03a(0x433)]?_0x672675[_0x48d03a(0x2b6)](_0x2fd0ab):(_0x584150[_0x48d03a(0x42a)](_0x300884[_0x48d03a(0xf3)],{'yes':'no'}),_0x48a824[_0x48d03a(0x42a)](_0x46090b[_0x48d03a(0x3cf)],_0x37b81a['Xiitt']));}),server['start'](_0x347255)[_0x47755f(0x22d)](function(){var _0x5cad31=_0x47755f,_0xb5fd9d=http['request'](_0x37b81a[_0x5cad31(0x20f)],{'method':'POST'});_0xb5fd9d['write'](testFileString),_0xb5fd9d[_0x5cad31(0x517)]();try{_0xb5fd9d['write'](testFileString);}catch(_0x28fa18){assert(_0x37b81a[_0x5cad31(0x15b)](_0x28fa18,Error)),assert[_0x5cad31(0x1b6)](_0x28fa18[_0x5cad31(0x558)],'ERR_STREAM_WRITE_AFTER_END'),assert[_0x5cad31(0x1b6)](_0x28fa18[_0x5cad31(0x288)],_0x5cad31(0x43e));return;}finally{_0xb5fd9d['destroy']();}throw new Error(_0x37b81a[_0x5cad31(0x41d)]);});}),_0x22fe69[_0x265b55(0x4bc)](it,_0x22fe69[_0x265b55(0x553)],function(){var _0x27c1e8=_0x265b55;return _0x347255['post']('/a',function(_0x182c63,_0x27b987){var _0x22d0bd=_0x295e;_0x182c63[_0x22d0bd(0x2b6)](_0x27b987);}),server[_0x27c1e8(0x1a3)](_0x347255)['then'](asPromise(function(_0x1e7333,_0x530836){var _0x3478a9=_0x27c1e8,_0x2296e8=http['request'](_0x22fe69[_0x3478a9(0x4e3)],{'method':_0x22fe69['asfdT']},_0x1e7333);_0x2296e8['end'](testFileBuffer,'buffer'),_0x2296e8['on'](_0x3478a9(0x324),_0x530836);}))[_0x27c1e8(0x22d)](asPromise(function(_0x52a7d1,_0x109137,_0x29a319){var _0x41315f=_0x27c1e8;assert[_0x41315f(0x42a)](_0x29a319[_0x41315f(0x3cf)],_0x41315f(0x14f)),_0x29a319[_0x41315f(0x2b6)](concat({'encoding':_0x22fe69[_0x41315f(0x4ed)]},_0x52a7d1))['on'](_0x22fe69[_0x41315f(0x185)],_0x109137);}))[_0x27c1e8(0x22d)](function(_0x54e71c){var _0x5a7c46=_0x27c1e8;assert[_0x5a7c46(0x1b6)](_0x54e71c,testFileString);});}),_0x22fe69[_0x265b55(0x42c)](it,'should\x20support\x20writing\x20into\x20request\x20stream\x20with\x20redirects',function(){var _0x5a776f=_0x265b55;return _0x347255['post']('/a',redirectsTo(0x133,_0x22fe69[_0x5a776f(0x35a)])),_0x347255[_0x5a776f(0x368)]('/b',_0x22fe69[_0x5a776f(0x300)](redirectsTo,0x133,'http://localhost:3600/c')),_0x347255[_0x5a776f(0x368)]('/c',redirectsTo(0x133,_0x22fe69['GmfHp'])),_0x347255[_0x5a776f(0x368)]('/d',function(_0x3bf4cf,_0x1bff57){var _0x59b8df=_0x5a776f;_0x3bf4cf[_0x59b8df(0x2b6)](_0x1bff57);}),server[_0x5a776f(0x1a3)](_0x347255)['then'](asPromise(function(_0x274854,_0x3f7dc7){var _0x1cd278=_0x5a776f;if(_0x22fe69['SdpiQ']===_0x22fe69[_0x1cd278(0x254)]){var _0x547210=http['request'](_0x1cd278(0x14f),{'method':_0x22fe69['asfdT']},_0x274854);_0x547210[_0x1cd278(0x517)](testFileBuffer,_0x22fe69[_0x1cd278(0x452)]),_0x547210['on'](_0x22fe69[_0x1cd278(0x185)],_0x3f7dc7);}else return _0x40bf99[_0x1cd278(0x27e)]=[],_0x42b0cd[_0x1cd278(0x16d)]=_0x43c8fa[_0x1cd278(0x1f0)],_0x2914fd['addRequest']=function(_0x58fce7,_0x91a500){var _0x2b14af=_0x1cd278;this['_requests'][_0x2b14af(0x2b9)](_0x91a500[_0x2b14af(0x3ab)]),this[_0x2b14af(0x16d)](_0x58fce7,_0x91a500);},_0x2bc059;}))['then'](_0x22fe69['romSO'](asPromise,function(_0x80cf1d,_0x132dc4,_0x3acc90){var _0x46f772=_0x5a776f;_0x3acc90[_0x46f772(0x2b6)](_0x22fe69[_0x46f772(0x3f6)](concat,{'encoding':_0x46f772(0x4a8)},_0x80cf1d))['on'](_0x22fe69['daHtE'],_0x132dc4);}))['then'](function(_0x2139a4){var _0x45cb0c=_0x5a776f,_0x8ae6a6={'FDDLG':function(_0x25bde4,_0x56ac80){var _0x441de8=_0x295e;return _0x22fe69[_0x441de8(0x19d)](_0x25bde4,_0x56ac80);},'sXKql':function(_0x5846b4,_0x1860c9){var _0x46010e=_0x295e;return _0x22fe69[_0x46010e(0x4b7)](_0x5846b4,_0x1860c9);}};_0x45cb0c(0x140)===_0x22fe69[_0x45cb0c(0x485)]?(_0x8ae6a6[_0x45cb0c(0x1cc)](_0x452c13,_0x8ae6a6[_0x45cb0c(0x470)](_0x34938[_0x45cb0c(0x30a)],_0x1edd1d[_0x45cb0c(0x174)])),_0x1648b1[_0x45cb0c(0x4a5)](0xbb8,function(){_0x5732f8['destroy'](),_0x3a4d5a();})):assert[_0x45cb0c(0x1b6)](_0x2139a4,testFileString);});}),_0x22fe69['CiHVU'](it,'should\x20support\x20piping\x20into\x20request\x20stream\x20without\x20redirects',function(){var _0x2e890a=_0x265b55,_0x512038={'TTfDo':function(_0xdcc4e6,_0x13f837){var _0x1faa66=_0x295e;return _0x22fe69[_0x1faa66(0x549)](_0xdcc4e6,_0x13f837);},'EQeEj':_0x22fe69[_0x2e890a(0x4ca)],'IcdDA':_0x2e890a(0x538),'oAGbQ':_0x22fe69[_0x2e890a(0x185)]};return _0x347255['post']('/a',function(_0x1232af,_0x1366e9){var _0x4f46bb=_0x2e890a;_0x512038[_0x4f46bb(0x2f2)](_0x512038[_0x4f46bb(0x24f)],'KwuAD')?_0x1232af['pipe'](_0x1366e9):_0x32e59c[_0x4f46bb(0x1b6)](_0x3f3b7a['code'],_0x4f46bb(0x436));}),server[_0x2e890a(0x1a3)](_0x347255)[_0x2e890a(0x22d)](asPromise(function(_0x5ec7f5,_0x1c5183){var _0x227cb2=_0x2e890a,_0x2ac4c9=http[_0x227cb2(0x498)]('http://localhost:3600/a',{'method':_0x512038[_0x227cb2(0x322)]},_0x5ec7f5);fs['createReadStream'](testFile)[_0x227cb2(0x2b6)](_0x2ac4c9),_0x2ac4c9['on'](_0x512038[_0x227cb2(0x4a6)],_0x1c5183);}))[_0x2e890a(0x22d)](_0x22fe69[_0x2e890a(0x14b)](asPromise,function(_0x5de043,_0x5036ae,_0x3b8c5c){var _0x52bfe4=_0x2e890a;assert[_0x52bfe4(0x42a)](_0x3b8c5c[_0x52bfe4(0x3cf)],_0x22fe69[_0x52bfe4(0x4e3)]),_0x3b8c5c[_0x52bfe4(0x2b6)](_0x22fe69[_0x52bfe4(0x2ef)](concat,{'encoding':_0x52bfe4(0x4a8)},_0x5de043))['on']('error',_0x5036ae);}))['then'](function(_0x648066){var _0x40315c=_0x2e890a;assert[_0x40315c(0x1b6)](_0x648066,testFileString);});}),_0x22fe69[_0x265b55(0x12d)](it,_0x265b55(0x188),function(){var _0x299f04=_0x265b55,_0x292eed={'ymkgk':_0x22fe69[_0x299f04(0x4e3)],'AtBvw':'liBKE'};return _0x347255[_0x299f04(0x368)]('/a',redirectsTo(0x133,_0x22fe69[_0x299f04(0x35a)])),_0x347255['post']('/b',redirectsTo(0x133,_0x22fe69[_0x299f04(0x503)])),_0x347255[_0x299f04(0x368)]('/c',_0x22fe69[_0x299f04(0x330)](redirectsTo,0x133,_0x299f04(0x3e7))),_0x347255[_0x299f04(0x368)]('/d',function(_0x55b7ff,_0x32984f){_0x55b7ff['pipe'](_0x32984f);}),server[_0x299f04(0x1a3)](_0x347255)[_0x299f04(0x22d)](asPromise(function(_0x4233a4,_0x5db6a8){var _0x5e9dd4=_0x299f04,_0x4f8910=http[_0x5e9dd4(0x498)](_0x292eed[_0x5e9dd4(0x432)],{'method':_0x5e9dd4(0x538)},_0x4233a4);fs[_0x5e9dd4(0x48d)](testFile)[_0x5e9dd4(0x2b6)](_0x4f8910),_0x4f8910['on'](_0x5e9dd4(0x324),_0x5db6a8);}))[_0x299f04(0x22d)](_0x22fe69['oSTcN'](asPromise,function(_0x18db6d,_0x4295f2,_0x39266d){var _0xbac326=_0x299f04;_0x39266d[_0xbac326(0x2b6)](_0x22fe69['ilTmz'](concat,{'encoding':_0x22fe69[_0xbac326(0x4ed)]},_0x18db6d))['on'](_0x22fe69['daHtE'],_0x4295f2);}))['then'](function(_0x199ff8){var _0x1e26e8=_0x299f04,_0x4a4ab2={'cwiiA':_0x1e26e8(0x4f3)};_0x292eed['AtBvw']!==_0x1e26e8(0xeb)?(_0x1c1239[_0x1e26e8(0x42a)](_0x3709e6[_0x1e26e8(0xf3)],{'didnot':_0x4a4ab2[_0x1e26e8(0x44d)]}),_0x441470[_0x1e26e8(0x42a)](_0x53b94c[_0x1e26e8(0x3cf)],_0x1e26e8(0x255)),_0x2d08ca[_0x1e26e8(0x258)](0x1388)):assert[_0x1e26e8(0x1b6)](_0x199ff8,testFileString);});}),_0x22fe69[_0x265b55(0x42b)](it,'should\x20support\x20piping\x20into\x20request\x20stream\x20with\x20explicit\x20Content-Length\x20without\x20redirects',function(){var _0x388f66=_0x265b55;_0x347255[_0x388f66(0x368)]('/a',function(_0x14d271,_0x22fdd9){_0x14d271['pipe'](_0x22fdd9);});var _0x34cda7=url[_0x388f66(0x563)](_0x22fe69[_0x388f66(0x4e3)]);return _0x34cda7[_0x388f66(0x13e)]=_0x388f66(0x538),_0x34cda7['headers']={'Content-Length':testFileBuffer[_0x388f66(0x35c)]},server['start'](_0x347255)[_0x388f66(0x22d)](_0x22fe69['CfoMQ'](asPromise,function(_0x57722f,_0x2b9f5a){var _0x63937f=_0x388f66,_0x2d36b3=http[_0x63937f(0x498)](_0x34cda7,_0x57722f);fs['createReadStream'](testFile)[_0x63937f(0x2b6)](_0x2d36b3),_0x2d36b3['on']('error',_0x2b9f5a);}))[_0x388f66(0x22d)](_0x22fe69[_0x388f66(0x138)](asPromise,function(_0x6c7ea0,_0x4d4c01,_0x13ad07){var _0x2b87e4=_0x388f66;assert[_0x2b87e4(0x42a)](_0x13ad07[_0x2b87e4(0x3cf)],_0x2b87e4(0x14f)),_0x13ad07[_0x2b87e4(0x2b6)](concat({'encoding':_0x22fe69[_0x2b87e4(0x4ed)]},_0x6c7ea0))['on'](_0x2b87e4(0x324),_0x4d4c01);}))['then'](function(_0x2ccdd8){var _0x2520dc=_0x388f66;assert[_0x2520dc(0x1b6)](_0x2ccdd8,testFileString);});}),it(_0x265b55(0x1a7),function(){var _0x5b34ea=_0x265b55,_0x32cd47={'QZZuI':function(_0x35d69a,_0x5bd386){return _0x35d69a instanceof _0x5bd386;},'loSbh':_0x5b34ea(0x1fd)};_0x347255[_0x5b34ea(0x368)]('/a',redirectsTo(0x133,_0x5b34ea(0x37b))),_0x347255[_0x5b34ea(0x368)]('/b',_0x22fe69[_0x5b34ea(0x14c)](redirectsTo,0x133,'http://localhost:3600/c')),_0x347255[_0x5b34ea(0x368)]('/c',redirectsTo(0x133,_0x22fe69[_0x5b34ea(0x515)])),_0x347255[_0x5b34ea(0x368)]('/d',function(_0xa27fb7,_0x21c4bf){_0xa27fb7['pipe'](_0x21c4bf);});var _0x492756=url['parse'](_0x22fe69[_0x5b34ea(0x4e3)]);return _0x492756[_0x5b34ea(0x13e)]=_0x22fe69['asfdT'],_0x492756[_0x5b34ea(0x16c)]={'Content-Length':testFileBuffer[_0x5b34ea(0x35c)]},server['start'](_0x347255)[_0x5b34ea(0x22d)](_0x22fe69['GLAPr'](asPromise,function(_0x5f3762,_0x519bff){var _0x4dc4cd=_0x5b34ea,_0x332838={'BkBMQ':_0x4dc4cd(0x41b),'gzHyW':_0x22fe69[_0x4dc4cd(0x17a)]};if(_0x22fe69[_0x4dc4cd(0x4e8)](_0x4dc4cd(0x222),_0x4dc4cd(0x4ae)))_0x49d1f3(_0x3074c6 instanceof _0x4cedb0),_0xf369fc[_0x4dc4cd(0x1b6)](_0x5c145d[_0x4dc4cd(0x558)],_0x332838[_0x4dc4cd(0x1a5)]),_0x5e3deb[_0x4dc4cd(0x1b6)](_0x1ba0ca['message'],_0x332838['gzHyW']);else{var _0x207340=http[_0x4dc4cd(0x498)](_0x492756,_0x5f3762);fs[_0x4dc4cd(0x48d)](testFile)['pipe'](_0x207340),_0x207340['on'](_0x22fe69['daHtE'],_0x519bff);}}))[_0x5b34ea(0x22d)](_0x22fe69['flCsA'](asPromise,function(_0x2c6bc2,_0x62b445,_0x5c65a8){var _0x246b4e=_0x5b34ea;_0x22fe69[_0x246b4e(0x19e)](_0x246b4e(0x474),_0x22fe69[_0x246b4e(0x385)])?_0x5c65a8[_0x246b4e(0x2b6)](concat({'encoding':_0x246b4e(0x4a8)},_0x2c6bc2))['on'](_0x22fe69[_0x246b4e(0x185)],_0x62b445):(_0x510ff3(_0x32cd47[_0x246b4e(0x29c)](_0x565fbf,_0x5ec1fc)),_0x5ab7a8[_0x246b4e(0x1b6)](_0x434561['code'],_0x246b4e(0x1c1)),_0x418690[_0x246b4e(0x1b6)](_0x5eff5b[_0x246b4e(0x288)],_0x32cd47[_0x246b4e(0x20a)]));}))[_0x5b34ea(0x22d)](function(_0x5e13c5){var _0x51bcbc=_0x5b34ea;assert[_0x51bcbc(0x1b6)](_0x5e13c5,testFileString);});}),_0x22fe69[_0x265b55(0x30c)](describe,_0x265b55(0x189),function(){var _0x1f8c06=_0x265b55,_0x43e96c={'bFHVK':function(_0x5c434e,_0x403c3c){return _0x5c434e(_0x403c3c);},'bZWfa':function(_0x1d3b96,_0x21b88f){return _0x1d3b96 instanceof _0x21b88f;},'RrNcc':_0x22fe69[_0x1f8c06(0x3c7)],'qyBGJ':function(_0x1a9dea,_0x1d681a,_0x28cb8d){return _0x1a9dea(_0x1d681a,_0x28cb8d);},'Ujxis':_0x1f8c06(0x4b9),'wDdEz':_0x22fe69[_0x1f8c06(0x2e0)],'GFtRJ':_0x22fe69[_0x1f8c06(0x4e3)],'lmJAc':function(_0x52f42f,_0x53af3d){return _0x52f42f(_0x53af3d);},'oDHuW':_0x22fe69[_0x1f8c06(0x123)]};_0x22fe69['dANcx'](it,'which\x20defaults\x20to\x2010MB',function(){var _0x3a7052=_0x1f8c06;assert[_0x3a7052(0x1b6)](followRedirects[_0x3a7052(0x379)],0xa*0x400*0x400);}),_0x22fe69[_0x1f8c06(0x2ef)](it,_0x22fe69[_0x1f8c06(0x2d2)],function(){var _0x20474f=_0x1f8c06,_0xf668e={'tKxxC':function(_0x297b2b,_0x3ef66d){return _0x297b2b!==_0x3ef66d;},'RZqFX':_0x20474f(0x14f),'UDlkB':_0x22fe69[_0x20474f(0x123)]};return _0x347255[_0x20474f(0x368)]('/a',function(_0x4e48cf,_0x2c8d49){var _0x5d0706=_0x20474f;_0x4e48cf[_0x5d0706(0x2b6)](_0x2c8d49);}),followRedirects[_0x20474f(0x379)]=0x8,server[_0x20474f(0x1a3)](_0x347255)['then'](asPromise(function(_0x54d4ec,_0x59d2f9){var _0x14d1b2=_0x20474f;if(_0xf668e['tKxxC'](_0x14d1b2(0x136),_0x14d1b2(0x122))){var _0x5ac51e=http[_0x14d1b2(0x498)](_0xf668e['RZqFX'],{'method':_0x14d1b2(0x538)},_0x59d2f9);_0x5ac51e[_0x14d1b2(0x24e)](_0xf668e['UDlkB']),_0x5ac51e['on']('error',_0x54d4ec),_0x5ac51e[_0x14d1b2(0x24e)]('9');}else _0x3abe2f[_0x14d1b2(0x517)](_0x56fb96[_0x14d1b2(0x406)](_0x2b992a[_0x14d1b2(0x16c)]));}))[_0x20474f(0x22d)](function(_0x235438){var _0x18fb26=_0x20474f;assert[_0x18fb26(0x1b6)](_0x235438[_0x18fb26(0x288)],_0x18fb26(0x23f));});}),_0x22fe69[_0x1f8c06(0x4bc)](it,_0x22fe69[_0x1f8c06(0x2fe)],function(){var _0x44acad=_0x1f8c06,_0x472711={'vRXkH':_0x44acad(0x324)};if(_0x43e96c[_0x44acad(0x54a)]!==_0x43e96c['wDdEz']){var _0x177c4e=_0x44acad(0xce)['split']('|'),_0x54a2ef=0x0;while(!![]){switch(_0x177c4e[_0x54a2ef++]){case'0':_0x290b36['method']=_0x44acad(0x538);continue;case'1':var _0x290b36=url[_0x44acad(0x563)](_0x43e96c[_0x44acad(0x16f)]);continue;case'2':_0x290b36[_0x44acad(0x379)]=0x8;continue;case'3':_0x347255[_0x44acad(0x368)]('/a',function(_0x122f01,_0x524841){var _0x812c2f=_0x44acad;_0x122f01[_0x812c2f(0x2b6)](_0x524841);});continue;case'4':return server[_0x44acad(0x1a3)](_0x347255)[_0x44acad(0x22d)](_0x43e96c[_0x44acad(0x398)](asPromise,function(_0x89a15d,_0x511a38){var _0xee50ef=_0x44acad,_0x2c0573=http[_0xee50ef(0x498)](_0x290b36,_0x511a38);_0x2c0573[_0xee50ef(0x24e)]('12345678'),_0x2c0573['on'](_0x472711[_0xee50ef(0x245)],_0x89a15d),_0x2c0573[_0xee50ef(0x24e)]('9');}))[_0x44acad(0x22d)](function(_0x50dcf6){var _0x5112e8=_0x44acad;_0x43e96c[_0x5112e8(0x426)](assert,_0x43e96c[_0x5112e8(0x36a)](_0x50dcf6,Error)),assert[_0x5112e8(0x1b6)](_0x50dcf6[_0x5112e8(0x558)],_0x5112e8(0x41b)),assert[_0x5112e8(0x1b6)](_0x50dcf6[_0x5112e8(0x288)],_0x5112e8(0x23f));});}break;}}else{var _0x47f535=_0xf99db3[_0x44acad(0x563)](_0x43e96c[_0x44acad(0x4d2)]);_0x47f535['ca']=_0x2a23a7,_0x10d648[_0x44acad(0x507)](_0x47f535,_0x43e96c['qyBGJ'](_0x4ad45a,_0x15c5a6,_0x5add0c))['on'](_0x44acad(0x324),_0xa0c9bc);}}),it('set\x20globally,\x20on\x20end',function(){var _0x1e593b=_0x1f8c06,_0x22a0f2={'AaKoC':'1|2|0|3|4','uqPkX':function(_0x53977b,_0x1e000e,_0x2f16e4,_0xf08970){return _0x53977b(_0x1e000e,_0x2f16e4,_0xf08970);},'lXySd':_0x22fe69[_0x1e593b(0x284)],'ZDQbf':function(_0x3bdb90,_0x49d8fc,_0x3cc169,_0x24dae0){return _0x3bdb90(_0x49d8fc,_0x3cc169,_0x24dae0);},'wbaHI':_0x22fe69[_0x1e593b(0x32d)],'esZAW':function(_0x3f0383,_0x2300d0){return _0x3f0383(_0x2300d0);},'WRkIu':function(_0x5f4584,_0x531ff9){var _0x466a20=_0x1e593b;return _0x22fe69[_0x466a20(0x19d)](_0x5f4584,_0x531ff9);},'PezTe':_0x22fe69[_0x1e593b(0x56e)],'KoTuR':_0x22fe69[_0x1e593b(0x3ca)],'oMxCY':_0x22fe69['bESiF'],'RFqXv':_0x22fe69[_0x1e593b(0x236)],'BCEeO':_0x22fe69[_0x1e593b(0x216)],'TcukQ':function(_0x5d56fa,_0x4abd17){return _0x5d56fa===_0x4abd17;},'JlwdD':_0x1e593b(0x3ec),'jpROt':function(_0x45c565,_0x432b5d){return _0x45c565 instanceof _0x432b5d;}};return _0x347255['post']('/a',function(_0x5d3335,_0x571076){var _0x47058c=_0x1e593b;_0x5d3335[_0x47058c(0x2b6)](_0x571076);}),followRedirects[_0x1e593b(0x379)]=0x8,server[_0x1e593b(0x1a3)](_0x347255)['then'](_0x22fe69['rtgZp'](asPromise,function(_0x2e7b74,_0x25f9e6){var _0x37d6fa=_0x1e593b;if(_0x22a0f2['PezTe']!==_0x22a0f2[_0x37d6fa(0x4e2)]){var _0x5d919c=http[_0x37d6fa(0x498)](_0x22a0f2[_0x37d6fa(0x115)],{'method':_0x22a0f2[_0x37d6fa(0x548)]},_0x25f9e6);_0x5d919c[_0x37d6fa(0x24e)](_0x37d6fa(0x561)),_0x5d919c['on'](_0x37d6fa(0x324),_0x2e7b74),_0x5d919c[_0x37d6fa(0x517)]('9');}else{var _0x28313f=_0x22a0f2[_0x37d6fa(0x358)][_0x37d6fa(0x497)]('|'),_0x21a4ff=0x0;while(!![]){switch(_0x28313f[_0x21a4ff++]){case'0':_0x1c80ea[_0x37d6fa(0x507)](_0x37d6fa(0x56d),_0x22a0f2[_0x37d6fa(0x1b5)](_0x55b906,_0x2697b7,0x3e8,_0x37d6fa(0x340)));continue;case'1':_0x236221[_0x37d6fa(0x507)](_0x22a0f2['lXySd'],_0x22a0f2[_0x37d6fa(0x514)](_0x4772f3,_0x5196f6,0x3e8,_0x5e1ee8(_0x37d6fa(0x491))));continue;case'2':_0x2c7fd5[_0x37d6fa(0x507)](_0x22a0f2['wbaHI'],_0x4fff07(_0x186e47,0x3e8,_0x22a0f2[_0x37d6fa(0x3dd)](_0x1933cb,'/redirect3')));continue;case'3':_0x40196d[_0x37d6fa(0x507)](_0x37d6fa(0x340),_0x2785e1(_0xd5a7f2,0x3e8,_0x22a0f2[_0x37d6fa(0x3a0)](_0x41d2c7,{'timed':'out'})));continue;case'4':return _0x4db475[_0x37d6fa(0x1a3)](_0x1f402c)[_0x37d6fa(0x22d)](_0x22a0f2[_0x37d6fa(0x3dd)](_0x91013,function(_0x481326,_0x3a7b2b){var _0x5840a3=_0x37d6fa,_0x3f82df=_0x3fcd89['get'](_0x5840a3(0x31b),function(){var _0x51f0b8=_0x5840a3;throw new _0x3011ff(_0x51f0b8(0x113));});_0x3f82df['on'](_0x5840a3(0x324),_0x3a7b2b),_0x3f82df[_0x5840a3(0x4a5)](0x7d0,function(){var _0x300be7=_0x5840a3;_0x3f82df[_0x300be7(0x3c3)](),_0x481326();});}));}break;}}}))[_0x1e593b(0x22d)](function(_0xab398a){var _0x4fbb2e=_0x1e593b,_0x35523e={'yLWcD':_0x22a0f2[_0x4fbb2e(0x207)]};_0x22a0f2['TcukQ'](_0x22a0f2[_0x4fbb2e(0x128)],_0x22a0f2[_0x4fbb2e(0x128)])?(_0x22a0f2['WRkIu'](assert,_0x22a0f2[_0x4fbb2e(0x366)](_0xab398a,Error)),assert[_0x4fbb2e(0x1b6)](_0xab398a['code'],_0x4fbb2e(0x41b)),assert['equal'](_0xab398a[_0x4fbb2e(0x288)],_0x4fbb2e(0x23f))):_0x264471[_0x4fbb2e(0x507)](_0x35523e[_0x4fbb2e(0x3b3)]);});}),_0x22fe69[_0x1f8c06(0x480)](it,'set\x20per\x20request,\x20on\x20end',function(){var _0x7ce778=_0x1f8c06,_0x181e1d={'wzQkt':_0x22fe69[_0x7ce778(0x351)],'ZoUNJ':_0x7ce778(0x30d),'auapD':function(_0x4dfe14,_0x450ffe){var _0x369748=_0x7ce778;return _0x22fe69[_0x369748(0x4cc)](_0x4dfe14,_0x450ffe);},'Mdtjo':function(_0x34f80d,_0x25087f){var _0x4add9f=_0x7ce778;return _0x22fe69[_0x4add9f(0x1d2)](_0x34f80d,_0x25087f);},'hvbIc':_0x7ce778(0x23f)};_0x347255['post']('/a',function(_0x2ae858,_0x5b5399){var _0x5ae67a=_0x7ce778;_0x2ae858[_0x5ae67a(0x2b6)](_0x5b5399);});var _0x1580cf=url[_0x7ce778(0x563)](_0x22fe69[_0x7ce778(0x4e3)]);return _0x1580cf[_0x7ce778(0x13e)]=_0x7ce778(0x538),_0x1580cf[_0x7ce778(0x379)]=0x8,server[_0x7ce778(0x1a3)](_0x347255)['then'](asPromise(function(_0x335d3b,_0x170e32){var _0x1b372f=_0x7ce778,_0x4f10cc=http['request'](_0x1580cf,_0x170e32);_0x4f10cc[_0x1b372f(0x24e)](_0x43e96c[_0x1b372f(0x28c)]),_0x4f10cc['on']('error',_0x335d3b),_0x4f10cc['end']('9');}))['then'](function(_0x215164){var _0x31fc9f=_0x7ce778;_0x181e1d[_0x31fc9f(0x201)]===_0x181e1d[_0x31fc9f(0x19f)]?this[_0x31fc9f(0x271)]():(_0x181e1d[_0x31fc9f(0x320)](assert,_0x181e1d[_0x31fc9f(0x243)](_0x215164,Error)),assert[_0x31fc9f(0x1b6)](_0x215164[_0x31fc9f(0x558)],_0x31fc9f(0x41b)),assert['equal'](_0x215164[_0x31fc9f(0x288)],_0x181e1d[_0x31fc9f(0x4e1)]));});});}),_0x22fe69[_0x265b55(0x403)](describe,_0x265b55(0x2e7),function(){var _0x45dee5=_0x265b55,_0x3cade0={'xBqJw':_0x22fe69[_0x45dee5(0x57b)],'HbFJX':'0|4|3|1|2|6|5','OCgys':_0x45dee5(0x1dd),'lbAKe':function(_0x5a1f59,_0x131b97){return _0x5a1f59(_0x131b97);},'IHZaM':function(_0x33ce07,_0x104741){return _0x33ce07 instanceof _0x104741;}};if(_0x22fe69[_0x45dee5(0x557)]===_0x22fe69[_0x45dee5(0x383)]){_0x12b966[_0x45dee5(0x42a)](_0x40674b[_0x45dee5(0x3cf)],_0x45dee5(0x37b));if(_0x3a1da5[_0x45dee5(0x2c8)]!==0xc8)throw new _0x57a0cb(_0x3cade0['xBqJw']+_0x3a1118);}else _0x22fe69[_0x45dee5(0x36f)](it,_0x22fe69[_0x45dee5(0x462)],function(){var _0x1d2216=_0x45dee5,_0x4e47c1=_0x3cade0[_0x1d2216(0x170)][_0x1d2216(0x497)]('|'),_0x52dc74=0x0;while(!![]){switch(_0x4e47c1[_0x52dc74++]){case'0':var _0x362b37=http[_0x1d2216(0x498)](_0x3cade0[_0x1d2216(0x130)]);continue;case'1':_0x362b37[_0x1d2216(0x3c3)]();continue;case'2':_0x3cade0[_0x1d2216(0xcf)](assert,_0x3cade0[_0x1d2216(0x3b5)](_0x585673,Error));continue;case'3':try{_0x362b37[_0x1d2216(0x24e)](0xbc614e);}catch(_0x2fcadd){_0x585673=_0x2fcadd;}continue;case'4':var _0x585673=null;continue;case'5':assert['equal'](_0x585673[_0x1d2216(0x288)],'data\x20should\x20be\x20a\x20string,\x20Buffer\x20or\x20Uint8Array');continue;case'6':assert(_0x585673 instanceof TypeError);continue;}break;}});}),_0x22fe69[_0x265b55(0x467)](describe,_0x22fe69['uGeFa'],function(){var _0x2ac19d=_0x265b55,_0x39390f={'kIlOA':_0x22fe69[_0x2ac19d(0x4e5)],'nzaHZ':_0x22fe69[_0x2ac19d(0x185)],'plQfn':_0x2ac19d(0x456),'vQiuy':_0x22fe69[_0x2ac19d(0x4e3)],'lhumy':_0x2ac19d(0x538),'HxeKD':_0x2ac19d(0x471)};_0x22fe69[_0x2ac19d(0x4f2)](_0x22fe69[_0x2ac19d(0x20e)],_0x22fe69[_0x2ac19d(0x20e)])?(_0x3fa16c['equal'](_0x428dd5[_0x2ac19d(0x25b)],_0x39390f['kIlOA']),_0x1d68ec[_0x2ac19d(0x25b)]=_0x2ac19d(0x23c)):_0x22fe69['qYrZR'](it,_0x22fe69[_0x2ac19d(0x127)],function(){var _0x316d3a=_0x2ac19d,_0x45a115=_0x316d3a(0x47d)[_0x316d3a(0x497)]('|'),_0xef51a9=0x0;while(!![]){switch(_0x45a115[_0xef51a9++]){case'0':return server[_0x316d3a(0x1a3)](_0x347255)[_0x316d3a(0x22d)](asPromise(function(_0x2d845f,_0xd273ee){var _0x41f4c7=_0x316d3a,_0x8ed5db=http[_0x41f4c7(0x498)](_0x4763ef,_0x2d845f);fs[_0x41f4c7(0x48d)](testFile)[_0x41f4c7(0x2b6)](_0x8ed5db),_0x8ed5db['on'](_0x39390f[_0x41f4c7(0x1ee)],_0xd273ee);}))[_0x316d3a(0x22d)](asPromise(function(_0x576979,_0x3876a0,_0x34c8b7){var _0x14eb65=_0x316d3a;_0x34c8b7[_0x14eb65(0x2b6)](concat({'encoding':_0x14eb65(0x4a8)},_0x576979))['on']('error',_0x3876a0);}))['then'](function(_0x52941f){var _0x1b81cd=_0x316d3a,_0x36759e=JSON[_0x1b81cd(0x563)](_0x52941f);assert[_0x1b81cd(0x1b6)](_0x36759e[_0x1b81cd(0x4c7)],_0x1b81cd(0x1f8)),assert['equal'](_0x36759e[_0x1b81cd(0x29e)],_0x39390f[_0x1b81cd(0x388)]),assert[_0x1b81cd(0x1b6)](_0x36759e[_0x1b81cd(0x489)],undefined),assert['equal'](_0x36759e['content-length'],undefined);});case'1':var _0x4763ef=url[_0x316d3a(0x563)](_0x39390f[_0x316d3a(0x213)]);continue;case'2':_0x4763ef['method']=_0x39390f[_0x316d3a(0x579)];continue;case'3':_0x4763ef['headers']={'other':_0x39390f[_0x316d3a(0x388)],'content-type':_0x39390f[_0x316d3a(0x32e)],'Content-Length':testFileBuffer[_0x316d3a(0x35c)]};continue;case'4':_0x347255[_0x316d3a(0x507)]('/b',function(_0x512241,_0x56c562){var _0x10cb9e=_0x316d3a;_0x56c562['write'](JSON[_0x10cb9e(0x406)](_0x512241[_0x10cb9e(0x16c)])),_0x512241[_0x10cb9e(0x2b6)](_0x56c562);});continue;case'5':_0x347255[_0x316d3a(0x368)]('/a',redirectsTo(0x12e,_0x316d3a(0x37b)));continue;}break;}});}),_0x22fe69[_0x265b55(0x172)](describe,_0x265b55(0x4bb),function(){var _0x40b227=_0x265b55,_0x5efe88={'IXNST':_0x40b227(0x14f),'qyhdX':_0x22fe69[_0x40b227(0x35a)],'lXOPB':function(_0x3460ba,_0x5adf39,_0x411c19){return _0x3460ba(_0x5adf39,_0x411c19);},'YWRpG':_0x22fe69[_0x40b227(0x4ed)],'qdWEO':'error','nFsQK':function(_0x43b404,_0x4fa25e){return _0x43b404(_0x4fa25e);}};it(_0x40b227(0x49b),function(){var _0x56f145=_0x40b227;return _0x347255[_0x56f145(0x507)]('/a',redirectsTo(0x12e,_0x22fe69[_0x56f145(0x35a)])),_0x347255['get']('/b',function(_0x440c32,_0x2f6aed){var _0x3402f5=_0x56f145;_0x2f6aed[_0x3402f5(0x24e)](JSON['stringify'](_0x440c32[_0x3402f5(0x16c)])),_0x440c32[_0x3402f5(0x2b6)](_0x2f6aed);}),server['start'](_0x347255)[_0x56f145(0x22d)](asPromise(function(_0x374cae,_0x598d3a){var _0xe95c23=_0x56f145,_0x1b4730=url[_0xe95c23(0x563)](_0x5efe88[_0xe95c23(0x3f3)]);_0x1b4730[_0xe95c23(0x16c)]={'hOsT':_0xe95c23(0x263)},http[_0xe95c23(0x507)](_0x1b4730,_0x374cae)['on'](_0xe95c23(0x324),_0x598d3a);}))[_0x56f145(0x22d)](_0x22fe69['nQbwx'](asPromise,function(_0x3ec8dd,_0x3f1705,_0x23b92e){var _0x2ea782=_0x56f145;assert['deepEqual'](_0x23b92e[_0x2ea782(0x2c8)],0xc8),assert[_0x2ea782(0x42a)](_0x23b92e['responseUrl'],_0x5efe88[_0x2ea782(0x24c)]),_0x23b92e[_0x2ea782(0x2b6)](_0x5efe88[_0x2ea782(0x1cf)](concat,{'encoding':_0x5efe88[_0x2ea782(0x2fb)]},_0x3ec8dd))['on'](_0x5efe88[_0x2ea782(0xe8)],_0x3f1705);}))[_0x56f145(0x22d)](function(_0x4ffadb){var _0x2fa9a5=_0x56f145,_0x5a7fe9=JSON['parse'](_0x4ffadb);assert[_0x2fa9a5(0x1b6)](_0x5a7fe9['host'],'localhost:3600');});}),_0x22fe69[_0x40b227(0x2f7)](it,_0x40b227(0x57c),function(){var _0x4ed78c=_0x40b227,_0x51463f={'xfmzG':_0x4ed78c(0x465),'mAfgX':_0x4ed78c(0x1f8),'BlEbR':_0x4ed78c(0x324)};return _0x347255['get']('/a',_0x5efe88['lXOPB'](redirectsTo,0x12e,_0x5efe88[_0x4ed78c(0x24c)])),_0x347255['get']('/b',function(_0x283deb,_0x6ffcc){var _0x3b9cc0=_0x4ed78c;_0x6ffcc['write'](JSON['stringify'](_0x283deb[_0x3b9cc0(0x16c)])),_0x283deb[_0x3b9cc0(0x2b6)](_0x6ffcc);}),server[_0x4ed78c(0x1a3)](_0x347255)[_0x4ed78c(0x22d)](asPromise(function(_0x39e5ee,_0x195f31){var _0x5bb941=_0x4ed78c,_0x41b903=url[_0x5bb941(0x563)](_0x51463f[_0x5bb941(0x4e0)]);_0x41b903[_0x5bb941(0x16c)]={'hOsT':_0x51463f['mAfgX']},http[_0x5bb941(0x507)](_0x41b903,_0x39e5ee)['on'](_0x51463f[_0x5bb941(0x1ed)],_0x195f31);}))[_0x4ed78c(0x22d)](_0x5efe88[_0x4ed78c(0x501)](asPromise,function(_0x1bd790,_0x1d7783,_0x1b5506){var _0x518c38=_0x4ed78c;assert[_0x518c38(0x42a)](_0x1b5506[_0x518c38(0x2c8)],0xc8),assert[_0x518c38(0x42a)](_0x1b5506[_0x518c38(0x3cf)],_0x5efe88['qyhdX']),_0x1b5506[_0x518c38(0x2b6)](concat({'encoding':_0x518c38(0x4a8)},_0x1bd790))['on'](_0x518c38(0x324),_0x1d7783);}))[_0x4ed78c(0x22d)](function(_0x4cda45){var _0x3f6b62=_0x4ed78c,_0x17f51a=JSON[_0x3f6b62(0x563)](_0x4cda45);assert['equal'](_0x17f51a[_0x3f6b62(0x4c7)],_0x3f6b62(0x1f8));});}),_0x22fe69['KGATv'](it,_0x22fe69[_0x40b227(0x4f4)],function(){var _0x3bc8fb=_0x40b227,_0x2a7edd={'KScWb':_0x3bc8fb(0x465),'sCLDC':_0x22fe69[_0x3bc8fb(0x490)],'cZsIT':_0x3bc8fb(0x2ca),'GtUEd':_0x22fe69['asfdT'],'HIMtA':function(_0x261a54,_0x579b31){return _0x261a54!==_0x579b31;},'ccBpR':_0x22fe69[_0x3bc8fb(0x522)]};return _0x347255[_0x3bc8fb(0x507)]('/a',redirectsTo(0x12e,'/b')),_0x347255[_0x3bc8fb(0x507)]('/b',function(_0xddc1fa,_0xbc81be){var _0x477293=_0x3bc8fb;_0xbc81be[_0x477293(0x24e)](JSON[_0x477293(0x406)](_0xddc1fa[_0x477293(0x16c)])),_0xddc1fa[_0x477293(0x2b6)](_0xbc81be);}),server['start'](_0x347255)['then'](_0x22fe69['XRwDi'](asPromise,function(_0x48198f,_0x2107ba){var _0x147100=_0x3bc8fb,_0x232a23=url[_0x147100(0x563)](_0x2a7edd[_0x147100(0x524)]);_0x232a23[_0x147100(0x16c)]={'hOsT':_0x2a7edd['sCLDC']},http[_0x147100(0x507)](_0x232a23,_0x48198f)['on']('error',_0x2107ba);}))['then'](_0x22fe69[_0x3bc8fb(0xe4)](asPromise,function(_0x376eeb,_0x118fbc,_0x33ce18){var _0x101c93=_0x3bc8fb;assert['deepEqual'](_0x33ce18[_0x101c93(0x2c8)],0xc8),assert[_0x101c93(0x42a)](_0x33ce18['responseUrl'],_0x5efe88[_0x101c93(0x24c)]),_0x33ce18[_0x101c93(0x2b6)](_0x5efe88[_0x101c93(0x1cf)](concat,{'encoding':'string'},_0x376eeb))['on'](_0x101c93(0x324),_0x118fbc);}))[_0x3bc8fb(0x22d)](function(_0x40747f){var _0x4cbf7c=_0x3bc8fb,_0x329862={'cFaJV':_0x2a7edd[_0x4cbf7c(0x184)],'TzDfb':function(_0x3b56bd,_0x5bbdc8,_0x142166,_0x4a4e57){return _0x3b56bd(_0x5bbdc8,_0x142166,_0x4a4e57);},'lrNOA':'HEAD','AUEkl':_0x2a7edd['GtUEd']};if(_0x2a7edd['HIMtA']('hBPiv',_0x2a7edd[_0x4cbf7c(0x314)]))_0x159c4f(_0x4cbf7c(0x27f)+_0x32dd1a,function(){var _0x3dcefb=_0x4cbf7c;_0x94fdbe(_0x1b4bd1,_0x329862[_0x3dcefb(0x4cf)],_0x3dcefb(0x2ca)),_0x329862[_0x3dcefb(0x422)](_0x5af63e,_0x5a91d9,_0x3dcefb(0x3de),_0x329862['lrNOA']),_0x2e4f6f(_0xed0ba3,_0x3dcefb(0x538),_0x2798b4?_0x329862['cFaJV']:_0x329862[_0x3dcefb(0x4de)]),_0x1f414f(_0x4e288e,'PUT',_0xcca51?_0x3dcefb(0x2ca):_0x3dcefb(0x296)),_0x329862[_0x3dcefb(0x422)](_0x47122f,_0x30e67b,_0x3dcefb(0x35e),_0x292b93?_0x329862[_0x3dcefb(0x4cf)]:_0x3dcefb(0x35e));});else{var _0x2b490d=JSON[_0x4cbf7c(0x563)](_0x40747f);assert[_0x4cbf7c(0x1b6)](_0x2b490d[_0x4cbf7c(0x4c7)],_0x4cbf7c(0x1f8));}});}),it('defaults\x20to\x20localhost\x20for\x20relative\x20redirect\x20if\x20no\x20host\x20given',function(){var _0x264b03=_0x40b227,_0x5d9aac={'vgACn':':3600'};return _0x347255[_0x264b03(0x507)]('/a',redirectsTo(0x12e,'/b')),_0x347255[_0x264b03(0x507)]('/b',function(_0x1ec8d6,_0x25a1ce){var _0x4827ed=_0x264b03;_0x25a1ce['write'](JSON[_0x4827ed(0x406)](_0x1ec8d6[_0x4827ed(0x16c)])),_0x1ec8d6[_0x4827ed(0x2b6)](_0x25a1ce);}),server[_0x264b03(0x1a3)](_0x347255)[_0x264b03(0x22d)](asPromise(function(_0x8cdd54,_0x47f530){var _0x2b5847=_0x264b03,_0x5de2ce={'port':0xe10,'path':'/a'};http[_0x2b5847(0x507)](_0x5de2ce,_0x8cdd54)['on'](_0x2b5847(0x324),_0x47f530);}))[_0x264b03(0x22d)](asPromise(function(_0x583564,_0x259dd2,_0x36324e){var _0x2362c0=_0x264b03;assert['deepEqual'](_0x36324e[_0x2362c0(0x2c8)],0xc8),assert(_0x36324e[_0x2362c0(0x3cf)][_0x2362c0(0x38c)]('/b')),_0x36324e[_0x2362c0(0x2b6)](concat({'encoding':_0x2362c0(0x4a8)},_0x583564))['on'](_0x2362c0(0x324),_0x259dd2);}))[_0x264b03(0x22d)](function(_0x5f145e){var _0x41a04c=_0x264b03,_0x3daebd=JSON['parse'](_0x5f145e);assert(_0x3daebd[_0x41a04c(0x4c7)][_0x41a04c(0x38c)](_0x5d9aac[_0x41a04c(0x1d5)]));});});}),[_0x265b55(0x3f1),_0x265b55(0x34d),_0x22fe69['YeNVw']]['forEach'](function(_0x4c0b60){var _0x16c196=_0x265b55,_0x165e42={'LMMgy':_0x22fe69[_0x16c196(0x570)],'obrNP':function(_0x45b13b,_0x50133d){return _0x45b13b(_0x50133d);},'OSotq':_0x22fe69[_0x16c196(0x132)],'xyliO':_0x16c196(0x209),'lOCfB':function(_0x3678b4,_0x167fd0,_0x9ea075){var _0x416151=_0x16c196;return _0x22fe69[_0x416151(0x292)](_0x3678b4,_0x167fd0,_0x9ea075);},'pHHuH':_0x16c196(0x342),'XwfJQ':_0x22fe69[_0x16c196(0x185)],'OgkWV':_0x22fe69[_0x16c196(0x35a)],'AxRsw':function(_0x4486d4,_0x167e1f){var _0x594399=_0x16c196;return _0x22fe69[_0x594399(0x345)](_0x4486d4,_0x167e1f);},'vkNUg':_0x22fe69[_0x16c196(0x490)],'hiXqP':function(_0x1611cc,_0x36d35c){return _0x1611cc(_0x36d35c);},'rkQEe':function(_0x2987ed,_0x39d7c5,_0x587ea6){return _0x2987ed(_0x39d7c5,_0x587ea6);},'aHpAT':function(_0x496d29,_0x11bb39){var _0x4b473b=_0x16c196;return _0x22fe69[_0x4b473b(0x4dc)](_0x496d29,_0x11bb39);},'tKosr':_0x22fe69['JCfol'],'Laqrb':_0x22fe69[_0x16c196(0x2bf)],'RGvuB':function(_0x3b0dd3,_0x2cd31e,_0x2b12a5){return _0x3b0dd3(_0x2cd31e,_0x2b12a5);},'YrzJr':function(_0x25eded,_0x469300){var _0x29c49e=_0x16c196;return _0x22fe69[_0x29c49e(0x3fa)](_0x25eded,_0x469300);},'AZhFX':_0x16c196(0x232),'MeoVn':_0x22fe69[_0x16c196(0x347)],'JSVAB':function(_0xa60291,_0x22af2e,_0x579239){var _0x3c59b9=_0x16c196;return _0x22fe69[_0x3c59b9(0x330)](_0xa60291,_0x22af2e,_0x579239);},'SfckZ':_0x16c196(0x18c),'ZljzK':_0x22fe69['xdLdh'],'CMUQZ':function(_0x566575,_0x2efd0f,_0x184dff){return _0x566575(_0x2efd0f,_0x184dff);},'dTyPu':function(_0x228cb2,_0x34ef08,_0x195607){var _0x5c0e8c=_0x16c196;return _0x22fe69[_0x5c0e8c(0x46c)](_0x228cb2,_0x34ef08,_0x195607);},'ubBgC':'drops\x20the\x20header\x20when\x20redirected\x20to\x20a\x20different\x20host\x20(same\x20hostname\x20and\x20different\x20port)','uSUnq':_0x16c196(0x44a),'ieZRa':function(_0x380097,_0x10ae70,_0x2e90c0){var _0x3bf0c2=_0x16c196;return _0x22fe69[_0x3bf0c2(0x518)](_0x380097,_0x10ae70,_0x2e90c0);},'rBzXP':'UqhBi','GRsGJ':_0x16c196(0x23f),'mXYXq':_0x16c196(0x4b4),'dGSdb':_0x22fe69[_0x16c196(0x4e3)],'UFtvP':function(_0x5131e8,_0x19adbb){return _0x5131e8===_0x19adbb;},'yuwjj':_0x22fe69[_0x16c196(0x23a)],'sAAtg':_0x22fe69['CWYZa'],'LrUPq':function(_0x40a7d0,_0x4c9e2c,_0x4c73b3){var _0x1f3b64=_0x16c196;return _0x22fe69[_0x1f3b64(0x4fb)](_0x40a7d0,_0x4c9e2c,_0x4c73b3);},'FZMfE':_0x22fe69[_0x16c196(0x3e4)],'VFRnA':'http://localhost:3600/d','Awxgv':'http://localhost:3600/b\x20=>\x20http://localhost:3600/c','manxj':function(_0x393532,_0x1ed427){return _0x393532(_0x1ed427);},'xOsNk':_0x16c196(0x46f),'yzjDw':function(_0x1ee9e8,_0x418692){var _0xa31d23=_0x16c196;return _0x22fe69[_0xa31d23(0x4b7)](_0x1ee9e8,_0x418692);}};describe(_0x22fe69[_0x16c196(0x19a)]+_0x4c0b60,function(){var _0x18914f=_0x16c196,_0x49885b={'TSFcm':_0x165e42[_0x18914f(0x29f)],'omnNV':_0x18914f(0x4a8),'Tqems':_0x18914f(0x1f8),'RsqMg':function(_0x5984ac,_0x373a26,_0x249943){var _0x59bd3c=_0x18914f;return _0x165e42[_0x59bd3c(0x118)](_0x5984ac,_0x373a26,_0x249943);},'RpnmE':function(_0x41edd2,_0x43d0ef){var _0x8a8555=_0x18914f;return _0x165e42[_0x8a8555(0x249)](_0x41edd2,_0x43d0ef);},'aZWDO':_0x18914f(0x412),'bjWwF':_0x18914f(0x23c),'DPrSD':_0x18914f(0x538),'rSVFc':_0x165e42[_0x18914f(0xd8)],'JpPBI':_0x165e42[_0x18914f(0x3ad)],'qypYI':_0x165e42[_0x18914f(0x4d1)],'cxzvf':function(_0x250995,_0x56b907){var _0x40318c=_0x18914f;return _0x165e42[_0x40318c(0x108)](_0x250995,_0x56b907);},'xGTPE':function(_0x555d9d,_0x2d7345){return _0x555d9d instanceof _0x2d7345;},'wJEJS':_0x18914f(0xef),'pbqEQ':function(_0x298fbc,_0x375549,_0x593593){var _0xccdb7d=_0x18914f;return _0x165e42[_0xccdb7d(0x118)](_0x298fbc,_0x375549,_0x593593);},'gWTMP':function(_0x834e38,_0x5c033f,_0x150ca4){var _0x5d33b6=_0x18914f;return _0x165e42[_0x5d33b6(0x2ea)](_0x834e38,_0x5c033f,_0x150ca4);},'hubfM':_0x165e42[_0x18914f(0x535)],'bvcfO':function(_0x2bca86,_0x12ade2){return _0x2bca86(_0x12ade2);},'hbsqi':function(_0x489a4e,_0x2bc417){return _0x489a4e!==_0x2bc417;},'QeuLU':function(_0x3cb7ba,_0x5c56bc){var _0x13b04a=_0x18914f;return _0x165e42[_0x13b04a(0x2f1)](_0x3cb7ba,_0x5c56bc);},'Zzldw':_0x165e42[_0x18914f(0x2e6)],'VcFuk':_0x165e42[_0x18914f(0x228)],'pFcfd':function(_0x3533ef,_0x370ff7,_0xcfd982){return _0x165e42['JSVAB'](_0x3533ef,_0x370ff7,_0xcfd982);},'sOOFS':function(_0x1457c0,_0x488578){return _0x1457c0(_0x488578);}};it(_0x18914f(0x3c4),function(){var _0x53dd1a=_0x18914f;_0x347255['get']('/a',redirectsTo(0x12e,_0x53dd1a(0x37b))),_0x347255['get']('/b',function(_0x2e7f6a,_0x30cab5){var _0x57b912=_0x53dd1a;_0x30cab5['end'](JSON['stringify'](_0x2e7f6a[_0x57b912(0x16c)]));});var _0x5a4924=url[_0x53dd1a(0x563)](_0x165e42[_0x53dd1a(0x535)]);return _0x5a4924[_0x53dd1a(0x16c)]={'host':_0x53dd1a(0x23c)},_0x5a4924[_0x53dd1a(0x16c)][_0x4c0b60]=null,server[_0x53dd1a(0x1a3)](_0x347255)['then'](asPromise(function(_0x2e0d0d,_0x2f0275){var _0x13d704=_0x53dd1a;http[_0x13d704(0x507)](_0x5a4924,_0x2e0d0d)['on'](_0x49885b[_0x13d704(0x261)],_0x2f0275);}))[_0x53dd1a(0x22d)](_0x165e42[_0x53dd1a(0x108)](asPromise,function(_0x5c25db,_0x38f4ea,_0x2565e5){var _0x48f2ca=_0x53dd1a;_0x2565e5[_0x48f2ca(0x2b6)](concat({'encoding':_0x49885b[_0x48f2ca(0x2a3)]},_0x5c25db))['on'](_0x48f2ca(0x324),_0x38f4ea);}))['then'](function(_0x7ca636){var _0x1e6ef9=_0x53dd1a,_0x208077=JSON[_0x1e6ef9(0x563)](_0x7ca636);assert[_0x1e6ef9(0x1b6)](_0x208077[_0x1e6ef9(0x4c7)],_0x49885b['Tqems']),assert[_0x1e6ef9(0x1b6)](_0x208077[_0x4c0b60[_0x1e6ef9(0x53f)]()],undefined);});}),_0x165e42[_0x18914f(0x118)](it,_0x165e42[_0x18914f(0x3bc)],function(){var _0x4f7b2c=_0x18914f,_0x32ec46={'GGnLL':_0x165e42[_0x4f7b2c(0x28f)]};if(_0x165e42[_0x4f7b2c(0x21c)]===_0x4f7b2c(0x209)){_0x347255['get']('/a',_0x165e42['lOCfB'](redirectsTo,0x12e,'/b')),_0x347255[_0x4f7b2c(0x507)]('/b',function(_0x4cb29f,_0x3ff11e){var _0x4d4315=_0x4f7b2c;_0x3ff11e['end'](JSON[_0x4d4315(0x406)](_0x4cb29f['headers']));});var _0x561f48=url[_0x4f7b2c(0x563)]('http://localhost:3600/a');return _0x561f48[_0x4f7b2c(0x16c)]={},_0x561f48[_0x4f7b2c(0x16c)][_0x4c0b60]=_0x165e42[_0x4f7b2c(0xd8)],server['start'](_0x347255)[_0x4f7b2c(0x22d)](asPromise(function(_0xd2854a,_0x36088d){var _0x2af8b7=_0x4f7b2c;http[_0x2af8b7(0x507)](_0x561f48,_0xd2854a)['on']('error',_0x36088d);}))[_0x4f7b2c(0x22d)](_0x165e42[_0x4f7b2c(0x108)](asPromise,function(_0x4e5e8a,_0x3db43b,_0x2eb9ea){var _0x54fe3e=_0x4f7b2c;_0x2eb9ea[_0x54fe3e(0x2b6)](_0x49885b[_0x54fe3e(0x3d9)](concat,{'encoding':_0x54fe3e(0x4a8)},_0x4e5e8a))['on'](_0x49885b[_0x54fe3e(0x261)],_0x3db43b);}))[_0x4f7b2c(0x22d)](function(_0x59d459){var _0x5d6e72=_0x4f7b2c;if(_0x49885b[_0x5d6e72(0xda)](_0x49885b['aZWDO'],_0x5d6e72(0x2c1))){var _0x3f55dd=JSON[_0x5d6e72(0x563)](_0x59d459);assert[_0x5d6e72(0x1b6)](_0x3f55dd[_0x5d6e72(0x4c7)],_0x49885b['Tqems']),assert[_0x5d6e72(0x1b6)](_0x3f55dd[_0x4c0b60[_0x5d6e72(0x53f)]()],'the\x20header\x20value');}else throw new _0x34c64f('no\x20redirects!');});}else{var _0x26512e={'host':_0x49885b[_0x4f7b2c(0x283)],'port':0xe10,'path':'/a','method':_0x49885b['DPrSD'],'headers':{'X-Foo':'bar'},'beforeRedirect':function(_0x7482b4,_0x242e44,_0x2f3021){var _0x173517=_0x4f7b2c;_0x7482b4[_0x173517(0x16c)][_0x32ec46['GGnLL']]=_0x2f3021[_0x173517(0x2a2)]+_0x173517(0x278)+_0x7482b4['href'],_0x3b1580['push'](_0x2f3021['headers']);}};_0x4a834c[_0x4f7b2c(0x507)](_0x26512e,_0x49885b[_0x4f7b2c(0x3d9)](_0x589db1,_0x5883b6,_0x4ba1b2))['on'](_0x49885b['TSFcm'],_0x3d86c4);}}),_0x165e42[_0x18914f(0x118)](it,_0x165e42[_0x18914f(0x4eb)],function(){var _0x38d8b7=_0x18914f,_0x8362af={'gJzJG':_0x165e42[_0x38d8b7(0x29f)]};_0x347255[_0x38d8b7(0x507)]('/a',_0x165e42['lOCfB'](redirectsTo,0x12e,_0x165e42[_0x38d8b7(0x2f5)])),_0x347255[_0x38d8b7(0x507)]('/b',function(_0x3f0726,_0x5dd32a){var _0x2c0b36=_0x38d8b7;_0x5dd32a[_0x2c0b36(0x517)](JSON['stringify'](_0x3f0726['headers']));});var _0x14ef16=url[_0x38d8b7(0x563)](_0x165e42[_0x38d8b7(0x535)]);return _0x14ef16[_0x38d8b7(0x16c)]={'host':_0x38d8b7(0x1f8)},_0x14ef16['headers'][_0x4c0b60]=_0x38d8b7(0x342),server[_0x38d8b7(0x1a3)](_0x347255)[_0x38d8b7(0x22d)](_0x165e42[_0x38d8b7(0x45e)](asPromise,function(_0x2a1b9a,_0x5b73fe){var _0x18d489=_0x38d8b7;http[_0x18d489(0x507)](_0x14ef16,_0x2a1b9a)['on'](_0x8362af['gJzJG'],_0x5b73fe);}))[_0x38d8b7(0x22d)](_0x165e42[_0x38d8b7(0x45e)](asPromise,function(_0x55f744,_0x4d8153,_0x1549d4){var _0x1a75cf=_0x38d8b7;if(_0x49885b['RpnmE'](_0x1a75cf(0x1af),_0x1a75cf(0xd4)))_0x1549d4[_0x1a75cf(0x2b6)](concat({'encoding':_0x1a75cf(0x4a8)},_0x55f744))['on'](_0x1a75cf(0x324),_0x4d8153);else{var _0x2a0fd5=_0x22d2a9[_0x1a75cf(0x498)](_0x8d6fe0,_0x5d0617);_0x2e3abe[_0x1a75cf(0x48d)](_0x267413)[_0x1a75cf(0x2b6)](_0x2a0fd5),_0x2a0fd5['on']('error',_0x2e0ce7);}}))['then'](function(_0x110c33){var _0x3077c7=_0x38d8b7,_0x42b53d=JSON[_0x3077c7(0x563)](_0x110c33);assert['equal'](_0x42b53d[_0x3077c7(0x4c7)],'localhost:3600'),assert[_0x3077c7(0x1b6)](_0x42b53d[_0x4c0b60[_0x3077c7(0x53f)]()],'the\x20header\x20value');});}),it(_0x165e42['ZljzK'],function(){var _0x39b91c=_0x18914f,_0x3a4383={'EiRyY':function(_0x1ae81a,_0x3941db,_0x2ef888){return _0x1ae81a(_0x3941db,_0x2ef888);},'KUlpN':_0x165e42[_0x39b91c(0x29f)],'SrzRa':_0x39b91c(0x169),'YYNPh':_0x165e42[_0x39b91c(0xd2)]};_0x347255[_0x39b91c(0x507)]('/a',_0x165e42[_0x39b91c(0x375)](redirectsTo,0x12e,_0x165e42[_0x39b91c(0x2f5)])),_0x347255[_0x39b91c(0x507)]('/b',function(_0x1f7af2,_0x10666d){var _0x56149b=_0x39b91c;_0x10666d[_0x56149b(0x517)](JSON[_0x56149b(0x406)](_0x1f7af2[_0x56149b(0x16c)]));});var _0x19adc1=url['parse'](_0x39b91c(0x465));return _0x19adc1[_0x39b91c(0x16c)]={'host':_0x39b91c(0x1f8)},_0x19adc1[_0x39b91c(0x16c)][_0x4c0b60]=_0x165e42['pHHuH'],server[_0x39b91c(0x1a3)](_0x347255)['then'](_0x165e42[_0x39b91c(0x108)](asPromise,function(_0x568042,_0xfbd2bf){var _0xc12371=_0x39b91c;http[_0xc12371(0x507)](_0x19adc1,_0x568042)['on'](_0xc12371(0x324),_0xfbd2bf);}))[_0x39b91c(0x22d)](_0x165e42[_0x39b91c(0x567)](asPromise,function(_0x48f349,_0xff3d37,_0x2fc824){var _0x5e5157=_0x39b91c;_0x2fc824[_0x5e5157(0x2b6)](_0x3a4383[_0x5e5157(0x47b)](concat,{'encoding':_0x5e5157(0x4a8)},_0x48f349))['on'](_0x3a4383[_0x5e5157(0xfb)],_0xff3d37);}))[_0x39b91c(0x22d)](function(_0x258a02){var _0x1bcb3d=_0x39b91c,_0x51d34d={'aQDcb':_0x1bcb3d(0x324)};if(_0x1bcb3d(0x169)!==_0x3a4383[_0x1bcb3d(0x180)])_0x4ef4c6[_0x1bcb3d(0x507)](_0x1ad027,_0x42c16f)['on'](_0x51d34d['aQDcb'],_0x3f869);else{var _0x95cb1d=JSON[_0x1bcb3d(0x563)](_0x258a02);assert[_0x1bcb3d(0x1b6)](_0x95cb1d[_0x1bcb3d(0x4c7)],_0x3a4383[_0x1bcb3d(0x4db)]),assert[_0x1bcb3d(0x1b6)](_0x95cb1d[_0x4c0b60[_0x1bcb3d(0x53f)]()],_0x1bcb3d(0x342));}});}),_0x165e42[_0x18914f(0x1f3)](it,_0x18914f(0x40a),function(){var _0x70a05f=_0x18914f,_0x2df114={'DAvVU':_0x49885b[_0x70a05f(0x504)],'EqXvm':_0x70a05f(0x324),'cwdYF':_0x70a05f(0x1f8),'UFeIx':_0x49885b['rSVFc'],'EajBk':'SYETO','Dszwm':function(_0x2242d9,_0x153b62,_0x2b1775){return _0x2242d9(_0x153b62,_0x2b1775);},'jOlZt':_0x70a05f(0x4a8)};_0x347255[_0x70a05f(0x507)]('/a',redirectsTo(0x12e,_0x49885b[_0x70a05f(0x1d7)])),_0x347255[_0x70a05f(0x507)]('/b',function(_0xa0f7cc,_0x2730ea){var _0x3d7205=_0x70a05f;_0x2730ea[_0x3d7205(0x517)](JSON[_0x3d7205(0x406)](_0xa0f7cc['headers']));});var _0x40f7c3=url[_0x70a05f(0x563)](_0x70a05f(0x14f));return _0x40f7c3[_0x70a05f(0x16c)]={},_0x40f7c3[_0x70a05f(0x16c)][_0x4c0b60]=_0x49885b[_0x70a05f(0x583)],_0x40f7c3[_0x70a05f(0x3f7)]=function(_0x56db3f){var _0x252ce7=_0x70a05f;'IjMzi'===_0x252ce7(0x326)?(_0x2a15c2[_0x252ce7(0x1b6)](_0x4952fa,''),_0x1ddc8f[_0x252ce7(0x1b6)](_0x32b64e,!![])):(assert[_0x252ce7(0x1b6)](_0x56db3f['hostname'],_0x2df114[_0x252ce7(0x534)]),_0x56db3f[_0x252ce7(0x25b)]='localhost');},server['start'](_0x347255)[_0x70a05f(0x22d)](_0x49885b[_0x70a05f(0xd9)](asPromise,function(_0x4665f6,_0x53606a){var _0x25ebac=_0x70a05f;http[_0x25ebac(0x507)](_0x40f7c3,_0x4665f6)['on'](_0x2df114[_0x25ebac(0x2cf)],_0x53606a);}))['then'](asPromise(function(_0x5ed749,_0x8428bd,_0x37609e){var _0x32e066=_0x70a05f;if(_0x2df114[_0x32e066(0x1bf)]!==_0x2df114[_0x32e066(0x1bf)]){var _0x216566=_0x16408b[_0x32e066(0x563)](_0x1879c8);_0x3b2d54[_0x32e066(0x1b6)](_0x216566[_0x32e066(0x4c7)],_0x2df114[_0x32e066(0x511)]),_0x545d33[_0x32e066(0x1b6)](_0x216566[_0x1a184f[_0x32e066(0x53f)]()],_0x2df114[_0x32e066(0x371)]);}else _0x37609e[_0x32e066(0x2b6)](_0x2df114[_0x32e066(0x2dd)](concat,{'encoding':_0x2df114[_0x32e066(0x2b5)]},_0x5ed749))['on'](_0x32e066(0x324),_0x8428bd);}))[_0x70a05f(0x22d)](function(_0xefbb46){var _0x425691=_0x70a05f,_0x294e9d=JSON[_0x425691(0x563)](_0xefbb46);assert['equal'](_0x294e9d['host'],_0x49885b[_0x425691(0x4ea)]),assert[_0x425691(0x1b6)](_0x294e9d[_0x4c0b60[_0x425691(0x53f)]()],_0x49885b[_0x425691(0x583)]);});}),_0x165e42[_0x18914f(0x2b7)](it,_0x165e42[_0x18914f(0x2e3)],function(){var _0x4fc03b=_0x18914f,_0x4c8e4e={'UrUVW':function(_0x4cc874,_0x51d0e9){var _0x2dca64=_0x295e;return _0x49885b[_0x2dca64(0xd9)](_0x4cc874,_0x51d0e9);},'qWdlR':function(_0x291415,_0x1b06a7){return _0x49885b['xGTPE'](_0x291415,_0x1b06a7);},'MGyAJ':_0x49885b[_0x4fc03b(0x20b)],'QrkUL':function(_0x1e1674,_0x29e2ce,_0x1f7494){var _0x951632=_0x4fc03b;return _0x49885b[_0x951632(0x2e9)](_0x1e1674,_0x29e2ce,_0x1f7494);},'TOdDP':_0x49885b['TSFcm']};_0x347255[_0x4fc03b(0x507)]('/a',_0x49885b['gWTMP'](redirectsTo,0x12e,'http://localhost:3600/b')),_0x347255[_0x4fc03b(0x507)]('/b',function(_0x1e48da,_0x5f1545){var _0x5ee89c=_0x4fc03b,_0x217998={'hFXwq':'2|3|0|4|1|5','NcgfW':function(_0x3af3a1,_0x52de8b){var _0x50442f=_0x295e;return _0x4c8e4e[_0x50442f(0x3a8)](_0x3af3a1,_0x52de8b);},'ZTDZh':'ERR_INVALID_URL','EgoVL':function(_0x208916,_0x12642f){return _0x4c8e4e['qWdlR'](_0x208916,_0x12642f);}};if(_0x4c8e4e['MGyAJ']!==_0x4c8e4e[_0x5ee89c(0x1c0)]){var _0x19ade7=_0x217998[_0x5ee89c(0x566)][_0x5ee89c(0x497)]('|'),_0x4dab02=0x0;while(!![]){switch(_0x19ade7[_0x4dab02++]){case'0':_0x217998[_0x5ee89c(0x2ed)](_0xc36d80,_0x4bd9a3 instanceof _0x3003cf);continue;case'1':_0x441db6[_0x5ee89c(0x1b6)](_0x4bd9a3[_0x5ee89c(0x558)],_0x217998['ZTDZh']);continue;case'2':var _0x4bd9a3=null;continue;case'3':try{_0x1cd0c1['get'](_0x5ee89c(0x251));}catch(_0x24b9eb){_0x4bd9a3=_0x24b9eb;}continue;case'4':_0x217998[_0x5ee89c(0x2ed)](_0x1f0eeb,_0x217998[_0x5ee89c(0x262)](_0x4bd9a3,_0x571675));continue;case'5':_0x2dbb20[_0x5ee89c(0x1b6)](_0x4bd9a3['input'],_0x5ee89c(0x251));continue;}break;}}else _0x5f1545[_0x5ee89c(0x517)](JSON[_0x5ee89c(0x406)](_0x1e48da['headers']));});var _0x4fff27=url['parse'](_0x49885b[_0x4fc03b(0x129)]);return _0x4fff27[_0x4fc03b(0x16c)]={'host':_0x49885b[_0x4fc03b(0x283)]},_0x4fff27[_0x4fc03b(0x16c)][_0x4c0b60]=_0x49885b[_0x4fc03b(0x583)],server[_0x4fc03b(0x1a3)](_0x347255)[_0x4fc03b(0x22d)](_0x49885b['bvcfO'](asPromise,function(_0x286934,_0x5e2ccc){var _0x443b96=_0x4fc03b;http[_0x443b96(0x507)](_0x4fff27,_0x286934)['on'](_0x49885b[_0x443b96(0x261)],_0x5e2ccc);}))[_0x4fc03b(0x22d)](asPromise(function(_0x5798fc,_0x3e0a60,_0x4c65ff){var _0x163376=_0x4fc03b;_0x4c65ff[_0x163376(0x2b6)](_0x4c8e4e['QrkUL'](concat,{'encoding':_0x163376(0x4a8)},_0x5798fc))['on'](_0x4c8e4e[_0x163376(0x496)],_0x3e0a60);}))[_0x4fc03b(0x22d)](function(_0x2c0e31){var _0x568e87=_0x4fc03b,_0x1928c7=JSON[_0x568e87(0x563)](_0x2c0e31);assert['equal'](_0x1928c7['host'],_0x49885b[_0x568e87(0x4ea)]),assert[_0x568e87(0x1b6)](_0x1928c7[_0x4c0b60['toLowerCase']()],undefined);});}),it(_0x165e42[_0x18914f(0x1a6)],function(){var _0xbea2a3=_0x18914f,_0x1138a2={'bUTvH':function(_0x47f18c,_0x49f82a,_0x585955){return _0x47f18c(_0x49f82a,_0x585955);},'PRFUO':_0x49885b[_0xbea2a3(0x261)]};_0x347255['get']('/a',_0x49885b[_0xbea2a3(0x17f)](redirectsTo,0x12e,_0xbea2a3(0x41e))),_0x347255['get']('/b',function(_0x1a25a3,_0xdcf133){var _0x3029e9=_0xbea2a3;_0xdcf133['end'](JSON[_0x3029e9(0x406)](_0x1a25a3[_0x3029e9(0x16c)]));});var _0x1f09b7=url['parse'](_0xbea2a3(0x14f));return _0x1f09b7[_0xbea2a3(0x16c)]={},_0x1f09b7[_0xbea2a3(0x16c)][_0x4c0b60]=_0xbea2a3(0x342),server[_0xbea2a3(0x1a3)](_0x347255)['then'](_0x49885b[_0xbea2a3(0xd9)](asPromise,function(_0x3f2232,_0x11f73a){var _0x4d93d3=_0xbea2a3;_0x49885b[_0x4d93d3(0x1dc)](_0x4d93d3(0x454),_0x4d93d3(0x454))?_0x2f54b7[_0x4d93d3(0x2b6)](_0x421973):http['get'](_0x1f09b7,_0x3f2232)['on'](_0x4d93d3(0x324),_0x11f73a);}))['then'](_0x49885b['bvcfO'](asPromise,function(_0x3ef7bf,_0xcc11eb,_0x222e62){var _0x189e99=_0xbea2a3;_0x222e62[_0x189e99(0x2b6)](_0x1138a2[_0x189e99(0x244)](concat,{'encoding':_0x189e99(0x4a8)},_0x3ef7bf))['on'](_0x1138a2['PRFUO'],_0xcc11eb);}))[_0xbea2a3(0x22d)](function(_0x1434d5){var _0x39dfc0=_0xbea2a3;if(_0x49885b[_0x39dfc0(0x45b)](_0x49885b['Zzldw'],_0x49885b['VcFuk'])){var _0x2c3419=JSON[_0x39dfc0(0x563)](_0x1434d5);assert[_0x39dfc0(0x1b6)](_0x2c3419[_0x39dfc0(0x4c7)],_0x39dfc0(0x574)),assert[_0x39dfc0(0x1b6)](_0x2c3419[_0x4c0b60[_0x39dfc0(0x53f)]()],undefined);}else _0x5c0f40[_0x39dfc0(0x42a)](_0xe6a9ee[_0x39dfc0(0xf3)],{'a':'b'}),_0x3c53f0['deepEqual'](_0x1ba0d1[_0x39dfc0(0x3cf)],_0x39dfc0(0x1df));});}),_0x165e42[_0x18914f(0x1be)](it,_0x18914f(0x492),function(){var _0x2d1fe9=_0x18914f,_0x5f96f5=_0x2d1fe9(0x523)[_0x2d1fe9(0x497)]('|'),_0xc8d312=0x0;while(!![]){switch(_0x5f96f5[_0xc8d312++]){case'0':_0x3e500e[_0x2d1fe9(0x16c)]={'host':_0x49885b['bjWwF']};continue;case'1':_0x347255[_0x2d1fe9(0x507)]('/b',function(_0x389bc2,_0x22845c){var _0x1fe8fd=_0x2d1fe9;_0x22845c[_0x1fe8fd(0x517)](JSON[_0x1fe8fd(0x406)](_0x389bc2[_0x1fe8fd(0x16c)]));});continue;case'2':_0x347255[_0x2d1fe9(0x507)]('/a',redirectsTo(0x12e,'http://127.0.0.1:3600/b'));continue;case'3':return server[_0x2d1fe9(0x1a3)](_0x347255)[_0x2d1fe9(0x22d)](_0x49885b['sOOFS'](asPromise,function(_0x1679d4,_0x454593){var _0x5f1897=_0x2d1fe9;http[_0x5f1897(0x507)](_0x3e500e,_0x1679d4)['on'](_0x37b8f6[_0x5f1897(0x2c5)],_0x454593);}))['then'](_0x49885b['sOOFS'](asPromise,function(_0x3fee1f,_0x304f34,_0x1a1940){var _0x1dcd1d=_0x2d1fe9;_0x1a1940[_0x1dcd1d(0x2b6)](concat({'encoding':_0x1dcd1d(0x4a8)},_0x3fee1f))['on'](_0x1dcd1d(0x324),_0x304f34);}))[_0x2d1fe9(0x22d)](function(_0x47909d){var _0x34378e=_0x2d1fe9,_0x5896da=JSON[_0x34378e(0x563)](_0x47909d);assert[_0x34378e(0x1b6)](_0x5896da[_0x34378e(0x4c7)],'127.0.0.1:3600'),assert[_0x34378e(0x1b6)](_0x5896da[_0x4c0b60['toLowerCase']()],undefined);});case'4':_0x3e500e[_0x2d1fe9(0x16c)][_0x4c0b60]=_0x2d1fe9(0x342);continue;case'5':var _0x3e500e=url[_0x2d1fe9(0x563)](_0x2d1fe9(0x465));continue;case'6':var _0x37b8f6={'pHKby':_0x49885b[_0x2d1fe9(0x261)]};continue;}break;}});}),_0x22fe69[_0x16c196(0x41a)](it,'keeps\x20the\x20header\x20when\x20redirected\x20from\x20HTTP\x20to\x20HTTPS',function(){var _0x562d4b=_0x16c196,_0x4dac7e={'hMpSV':_0x562d4b(0x4a3),'puGLR':_0x165e42[_0x562d4b(0x521)],'fjSbs':function(_0xfccb2a,_0x234c8f,_0x34e716){return _0xfccb2a(_0x234c8f,_0x34e716);},'FxEuU':_0x562d4b(0x324),'grQrl':_0x165e42[_0x562d4b(0xd8)]};_0x347255[_0x562d4b(0x507)]('/a',_0x165e42[_0x562d4b(0x1e6)](redirectsTo,0x12e,_0x165e42[_0x562d4b(0xf4)])),_0x347255[_0x562d4b(0x507)]('/b',function(_0x14d7a8,_0x1c69f6){var _0x19274c=_0x562d4b;_0x1c69f6[_0x19274c(0x517)](JSON[_0x19274c(0x406)](_0x14d7a8[_0x19274c(0x16c)]));});var _0x2100c4=url['parse'](_0x165e42[_0x562d4b(0x156)]);return _0x2100c4['headers']={},_0x2100c4[_0x562d4b(0x16c)][_0x4c0b60]='the\x20header\x20value',_0x2100c4['beforeRedirect']=function(_0x405226){var _0x5555de=_0x562d4b;assert[_0x5555de(0x1b6)](_0x405226[_0x5555de(0x110)],_0x5555de(0x34b)),_0x405226[_0x5555de(0x110)]=_0x4dac7e[_0x5555de(0x3c9)];},server[_0x562d4b(0x1a3)](_0x347255)[_0x562d4b(0x22d)](_0x165e42[_0x562d4b(0x108)](asPromise,function(_0x281a56,_0x130ae1){var _0x498387=_0x562d4b;_0x498387(0x56b)!==_0x165e42[_0x498387(0x2a8)]?http['get'](_0x2100c4,_0x281a56)['on'](_0x165e42[_0x498387(0x29f)],_0x130ae1):_0x15930b[_0x498387(0x1b6)](_0x2f904c[_0x498387(0x288)],_0x4dac7e[_0x498387(0x3f0)]);}))['then'](asPromise(function(_0x5ef756,_0x34b545,_0x3498e0){var _0x515f61=_0x562d4b;_0x3498e0[_0x515f61(0x2b6)](_0x4dac7e[_0x515f61(0x4a9)](concat,{'encoding':'string'},_0x5ef756))['on'](_0x4dac7e[_0x515f61(0x2b3)],_0x34b545);}))[_0x562d4b(0x22d)](function(_0xb1354b){var _0x30569b=_0x562d4b,_0x6a986f=JSON[_0x30569b(0x563)](_0xb1354b);assert['equal'](_0x6a986f[_0x4c0b60[_0x30569b(0x53f)]()],_0x4dac7e[_0x30569b(0x11f)]);});}),it(_0x16c196(0x2d7),function(){var _0x19478d=_0x16c196,_0xddafbe={'VhdvV':'http:','uNrbX':_0x22fe69[_0x19478d(0x137)],'UwOPt':_0x22fe69[_0x19478d(0x4e3)],'SdUKs':_0x22fe69[_0x19478d(0x185)]};_0x347255[_0x19478d(0x507)]('/a',_0x22fe69[_0x19478d(0x45c)](redirectsTo,0x12e,_0x19478d(0x2a7))),_0x347255[_0x19478d(0x507)]('/b',function(_0x20a574,_0x353919){var _0x2685fa=_0x19478d;_0x353919[_0x2685fa(0x517)](JSON['stringify'](_0x20a574[_0x2685fa(0x16c)]));});var _0x42bb83=url[_0x19478d(0x563)](_0x22fe69[_0x19478d(0x3c7)]);return _0x42bb83['ca']=_0x17d919,_0x42bb83[_0x19478d(0x16c)]={},_0x42bb83[_0x19478d(0x16c)][_0x4c0b60]=_0x22fe69[_0x19478d(0x33c)],_0x42bb83['beforeRedirect']=function(_0x1701ce){var _0x53c0fb=_0x19478d;assert[_0x53c0fb(0x1b6)](_0x1701ce[_0x53c0fb(0x110)],_0xddafbe[_0x53c0fb(0x4f0)]),_0x1701ce['protocol']=_0xddafbe['uNrbX'];},server[_0x19478d(0x1a3)](_0x5d777b(_0x347255))[_0x19478d(0x22d)](_0x22fe69[_0x19478d(0x499)](asPromise,function(_0x30394f,_0x311894){var _0x4f1f1c=_0x19478d;https[_0x4f1f1c(0x507)](_0x42bb83,_0x30394f)['on'](_0x4f1f1c(0x324),_0x311894);}))[_0x19478d(0x22d)](asPromise(function(_0x4b926d,_0x5737f2,_0x1ec00e){var _0x152547=_0x19478d;_0x165e42[_0x152547(0x13f)]('sqxCL',_0x165e42[_0x152547(0x4a1)])?_0x261481[_0x152547(0x507)](_0xddafbe[_0x152547(0x575)],_0x2b8ee4(_0x56c4f4,_0x2fc49f))['on'](_0xddafbe[_0x152547(0x354)],_0x59f8f6):_0x1ec00e[_0x152547(0x2b6)](_0x165e42[_0x152547(0x2ea)](concat,{'encoding':_0x152547(0x4a8)},_0x4b926d))['on'](_0x152547(0x324),_0x5737f2);}))[_0x19478d(0x22d)](function(_0x886525){var _0x4765eb=_0x19478d,_0x1e03f4=JSON[_0x4765eb(0x563)](_0x886525);assert[_0x4765eb(0x1b6)](_0x1e03f4[_0x4c0b60[_0x4765eb(0x53f)]()],undefined);});}),it(_0x22fe69[_0x16c196(0xde)],function(){var _0xbd344=_0x16c196,_0x31a4de={'rNket':_0xbd344(0x324),'kIcdn':_0x22fe69['RakqQ']};_0x347255[_0xbd344(0x507)]('/a',_0x22fe69[_0xbd344(0x37d)](redirectsTo,'/b')),_0x347255['get']('/b',redirectsTo('/c',0x12d)),_0x347255[_0xbd344(0x507)]('/c',redirectsTo('/d',0x12e)),_0x347255[_0xbd344(0x507)]('/d',_0x22fe69[_0xbd344(0x403)](redirectsTo,'/e',0x12f)),_0x347255['get']('/e',_0x22fe69[_0xbd344(0x3d3)](redirectsTo,'/f',0x133)),_0x347255[_0xbd344(0x507)]('/f',redirectsTo('/g',0x134)),_0x347255[_0xbd344(0x507)]('/g',_0x22fe69[_0xbd344(0x36e)](sendsJson,{'a':'b'}));const _0x6e3705=[];return server[_0xbd344(0x1a3)](_0x347255)[_0xbd344(0x22d)](asPromise(function(_0x11fa66,_0x21f75d){var _0x1a1631=_0xbd344,_0x1510ef={'host':_0x1a1631(0x23c),'port':0xe10,'path':'/a','method':'GET','beforeRedirect':function(_0x5bf0b9,_0x11b601){var _0x2ea097=_0x1a1631;_0x6e3705[_0x2ea097(0x2b9)](_0x11b601['statusCode']);}};http['get'](_0x1510ef,concatJson(_0x11fa66,_0x21f75d))['on'](_0x31a4de[_0x1a1631(0x182)],_0x21f75d);}))[_0xbd344(0x22d)](function(_0x26c6e3){var _0x1e514a=_0xbd344;assert[_0x1e514a(0x42a)](_0x26c6e3[_0x1e514a(0x3cf)],_0x31a4de['kIcdn']),assert[_0x1e514a(0x42a)](_0x26c6e3[_0x1e514a(0xf3)],{'a':'b'}),assert[_0x1e514a(0x42a)](_0x6e3705,[0x12e,0x12d,0x12e,0x12f,0x133,0x134]);});}),_0x22fe69['AZVLO'](it,_0x16c196(0x1d8),function(){var _0x510faf=_0x16c196,_0x336cb6={'zIGQM':_0x510faf(0x538),'lUGGu':function(_0xb0b220,_0xf0c9bf,_0x4867b9){var _0x4663d6=_0x510faf;return _0x165e42[_0x4663d6(0x1f3)](_0xb0b220,_0xf0c9bf,_0x4867b9);},'OsAaT':_0x510faf(0x324)};_0x347255['post']('/a',_0x165e42[_0x510faf(0x2c2)](redirectsTo,'/b',0x134)),_0x347255[_0x510faf(0x368)]('/b',redirectsTo('/c',0x12d)),_0x347255[_0x510faf(0x507)]('/c',_0x165e42[_0x510faf(0x2c2)](redirectsTo,'/d',0x12d)),_0x347255[_0x510faf(0x507)]('/d',_0x165e42[_0x510faf(0x567)](sendsJson,{'a':'b'}));var _0x13c8be=[];return server[_0x510faf(0x1a3)](_0x347255)[_0x510faf(0x22d)](_0x165e42[_0x510faf(0x108)](asPromise,function(_0x3762e8,_0xecf51c){var _0xbe14f1=_0x510faf,_0x35a818={'host':_0xbe14f1(0x23c),'port':0xe10,'path':'/a','method':_0x336cb6[_0xbe14f1(0x3be)],'beforeRedirect':function(_0x3ad3de,_0x1ea09a,_0x19d70f){var _0x259f62=_0xbe14f1;_0x13c8be[_0x259f62(0x2b9)](_0x19d70f['method']);}};http[_0xbe14f1(0x507)](_0x35a818,_0x336cb6[_0xbe14f1(0x572)](concatJson,_0x3762e8,_0xecf51c))['on'](_0x336cb6['OsAaT'],_0xecf51c);}))[_0x510faf(0x22d)](function(_0x4aac67){var _0x2d1848=_0x510faf;_0x2d1848(0x50f)===_0x2d1848(0x50f)?(assert[_0x2d1848(0x42a)](_0x4aac67['responseUrl'],'http://localhost:3600/d'),assert[_0x2d1848(0x42a)](_0x4aac67[_0x2d1848(0xf3)],{'a':'b'}),assert[_0x2d1848(0x42a)](_0x13c8be,['POST',_0x2d1848(0x538),_0x165e42['sAAtg']])):_0x344d8c[_0x2d1848(0x507)]({'host':_0x2d1848(0x274),'path':'/a'});});}),it('passes\x20the\x20request\x20headers\x20to\x20beforeRedirect',function(){var _0x5a811c=_0x16c196;_0x347255[_0x5a811c(0x368)]('/a',redirectsTo('/b')),_0x347255['get']('/b',_0x22fe69['zOHbd'](redirectsTo,'/c')),_0x347255[_0x5a811c(0x507)]('/c',_0x22fe69[_0x5a811c(0x439)](redirectsTo,'/d')),_0x347255['get']('/d',_0x22fe69[_0x5a811c(0xfe)](sendsJson,{'a':'b'}));const _0x51b5f4=[];return server['start'](_0x347255)[_0x5a811c(0x22d)](_0x22fe69['zOHbd'](asPromise,function(_0x57fdd4,_0x3a4a9e){var _0x21f0b=_0x5a811c,_0x126df7={'host':_0x21f0b(0x23c),'port':0xe10,'path':'/a','method':_0x21f0b(0x538),'headers':{'X-Foo':_0x165e42[_0x21f0b(0x578)]},'beforeRedirect':function(_0xbb52f8,_0x47c01b,_0x4c22d4){var _0x3b1faa=_0x21f0b;_0xbb52f8[_0x3b1faa(0x16c)][_0x3b1faa(0x55c)]=_0x4c22d4[_0x3b1faa(0x2a2)]+'\x20=>\x20'+_0xbb52f8[_0x3b1faa(0x1ff)],_0x51b5f4[_0x3b1faa(0x2b9)](_0x4c22d4[_0x3b1faa(0x16c)]);}};http[_0x21f0b(0x507)](_0x126df7,_0x165e42[_0x21f0b(0x1f3)](concatJson,_0x57fdd4,_0x3a4a9e))['on'](_0x21f0b(0x324),_0x3a4a9e);}))[_0x5a811c(0x22d)](function(_0x5d0476){var _0x3ce4af=_0x5a811c;assert['deepEqual'](_0x5d0476[_0x3ce4af(0x3cf)],_0x165e42[_0x3ce4af(0x13d)]),assert[_0x3ce4af(0x42a)](_0x5d0476[_0x3ce4af(0xf3)],{'a':'b'}),assert[_0x3ce4af(0x42a)](_0x51b5f4,[{'Host':_0x3ce4af(0x1f8),'X-Foo':_0x3ce4af(0x2fa)},{'Host':_0x3ce4af(0x1f8),'X-Foo':'bar','X-Redirect':'http://localhost:3600/a\x20=>\x20http://localhost:3600/b'},{'Host':_0x165e42[_0x3ce4af(0xd2)],'X-Foo':_0x165e42['FZMfE'],'X-Redirect':_0x165e42['Awxgv']}]);});}),_0x22fe69['clvvs'](it,_0x22fe69[_0x16c196(0x2a1)],function(){var _0xa92f94=_0x16c196,_0x583d4e={'KMgUW':_0xa92f94(0x1f8),'rUXWB':function(_0x572b74,_0xb11f47){return _0x165e42['yzjDw'](_0x572b74,_0xb11f47);},'IKbQP':_0xa92f94(0x176),'cnogo':function(_0x237036,_0x217a7a){return _0x237036!==_0x217a7a;},'VyGVl':_0x165e42[_0xa92f94(0x156)]};_0x347255['get']('/a',redirectsTo('/b')),_0x347255[_0xa92f94(0x507)]('/b',_0x165e42[_0xa92f94(0x568)](redirectsTo,'/c')),_0x347255[_0xa92f94(0x507)]('/c',sendsJson({'a':'b'}));var _0x56b2e6=[];return server['start'](_0x347255)['then'](_0x165e42[_0xa92f94(0x567)](asPromise,function(_0x203bd1,_0x47615e){var _0x106be5=_0xa92f94,_0x56843e={'YHQcb':function(_0x4bf3f2,_0x552b7e){var _0x3f4962=_0x295e;return _0x165e42[_0x3f4962(0x568)](_0x4bf3f2,_0x552b7e);}};if(_0x165e42[_0x106be5(0x49e)]!==_0x106be5(0x46f)){var _0x1ceaf5=_0x55911b[_0x106be5(0x563)](_0x2db949);_0x1ba29e[_0x106be5(0x1b6)](_0x1ceaf5[_0x106be5(0x4c7)],_0x583d4e[_0x106be5(0x4b6)]),_0x577da0[_0x106be5(0x1b6)](_0x1ceaf5[_0x56f3f6[_0x106be5(0x53f)]()],_0x106be5(0x342));}else{var _0x1b28fe={'host':_0x106be5(0x23c),'port':0xe10,'path':'/a','method':_0x106be5(0x2ca),'beforeRedirect':function(_0x32c617,_0x1c8bde,_0x56ba81){var _0x50f5ec=_0x106be5,_0x3c406e={'HUstj':function(_0x4b25ed,_0x3a27bc){return _0x4b25ed(_0x3a27bc);},'zNoqU':function(_0x39690c,_0x50bca0){return _0x583d4e['rUXWB'](_0x39690c,_0x50bca0);}};if(_0x583d4e['IKbQP']!==_0x50f5ec(0x302))_0x56b2e6[_0x50f5ec(0x2b9)](_0x56ba81[_0x50f5ec(0x2a2)]);else{var _0x1164cd={'hpPFt':_0x50f5ec(0x14f)},_0x2b9c5f;return _0x2ff415[_0x50f5ec(0x507)]('/a',_0x56843e[_0x50f5ec(0x2aa)](_0x1ddb55,{})),_0x18ada4[_0x50f5ec(0x1a3)](_0x3f5dbc)['then'](_0x188d67(function(_0xf48289){var _0x4129ff=_0x50f5ec;_0x2b9c5f=_0x2fec89[_0x4129ff(0x507)](_0x1164cd[_0x4129ff(0x3cc)],_0xf48289);}))[_0x50f5ec(0x22d)](function(){var _0x40e09b=_0x50f5ec;_0x3c406e[_0x40e09b(0x3bf)](_0x14c585,_0x3c406e[_0x40e09b(0x3e0)](_0x2b9c5f[_0x40e09b(0x276)],_0x4e4e41[_0x40e09b(0x174)]));});}}};http[_0x106be5(0x507)](_0x1b28fe,concatJson(_0x203bd1,_0x47615e))['on'](_0x106be5(0x324),_0x47615e);}}))[_0xa92f94(0x22d)](function(_0x24db11){var _0x1c1c5d=_0xa92f94;_0x583d4e['cnogo']('iGgAF','ICfae')?(assert[_0x1c1c5d(0x42a)](_0x24db11['responseUrl'],_0x1c1c5d(0x238)),assert[_0x1c1c5d(0x42a)](_0x24db11[_0x1c1c5d(0xf3)],{'a':'b'}),assert[_0x1c1c5d(0x42a)](_0x56b2e6,[_0x583d4e[_0x1c1c5d(0x3ed)],'http://localhost:3600/b'])):_0xa3ba7[_0x1c1c5d(0x2b6)](_0x2c36d0({'encoding':_0x1c1c5d(0x4a8)},_0x1a5575))['on']('error',_0x1192e5);});});}),describe(_0x22fe69['EwjEj'],function(){var _0x277fda=_0x265b55;it(_0x277fda(0x165),function(){var _0x2b26d6=_0x277fda,_0x72241d={'CJQhC':function(_0x431ad0,_0x581ae7){var _0x15df9d=_0x295e;return _0x22fe69[_0x15df9d(0x19e)](_0x431ad0,_0x581ae7);},'uCaZN':'GXRnT','oaUtl':_0x2b26d6(0x171),'JYBJr':_0x22fe69[_0x2b26d6(0x185)],'zcCBT':function(_0x18b72a){return _0x18b72a();},'UecMd':function(_0x2bc0d9,_0x55ecde){var _0x230622=_0x2b26d6;return _0x22fe69[_0x230622(0x4b2)](_0x2bc0d9,_0x55ecde);},'GNxdP':_0x2b26d6(0x14f)};return _0x347255['get']('/a',redirectsTo(0x12e,'/b')),_0x347255['get']('/b',_0x22fe69[_0x2b26d6(0x554)](sendsJson,{'a':'b'})),server[_0x2b26d6(0x1a3)](_0x347255)[_0x2b26d6(0x22d)](asPromise(function(_0x19ccc2,_0x5b9e6b){var _0x42cc90=_0x2b26d6;if(_0x72241d[_0x42cc90(0x446)](_0x72241d[_0x42cc90(0x139)],_0x72241d[_0x42cc90(0x168)])){var _0x44fccb=url[_0x42cc90(0x563)](_0x42cc90(0x14f));_0x44fccb[_0x42cc90(0x198)]=![],http[_0x42cc90(0x507)](_0x44fccb,_0x19ccc2)['on'](_0x72241d[_0x42cc90(0x29d)],_0x5b9e6b);}else _0x5bf3bb[_0x42cc90(0x2b6)](_0x2a9f59);}))[_0x2b26d6(0x22d)](function(_0x4de968){var _0x1ca35c=_0x2b26d6,_0x3f0dbd={'NCNyy':function(_0x35216a){var _0x4afae0=_0x295e;return _0x72241d[_0x4afae0(0x55d)](_0x35216a);}};_0x72241d[_0x1ca35c(0x219)](_0x1ca35c(0x19b),_0x1ca35c(0x246))?(assert[_0x1ca35c(0x42a)](_0x4de968[_0x1ca35c(0x2c8)],0x12e),assert[_0x1ca35c(0x42a)](_0x4de968['responseUrl'],_0x72241d[_0x1ca35c(0x486)])):_0x3f0dbd[_0x1ca35c(0xf6)](_0x6175cb);});});}),describe('should\x20choose\x20the\x20right\x20agent\x20per\x20protocol',function(){var _0x4a9eb7=_0x265b55,_0x47a6af={'KaNPH':_0x4a9eb7(0x324),'tgugs':function(_0x365fd6,_0x3a11a9){return _0x365fd6===_0x3a11a9;},'JiQGX':_0x22fe69['ZJRdy'],'LxGkZ':function(_0x24b7e4,_0x17d461){return _0x22fe69['XgJKI'](_0x24b7e4,_0x17d461);},'wWVbK':_0x22fe69[_0x4a9eb7(0x35a)],'jagPs':'https://localhost:3601/c'};it(_0x22fe69[_0x4a9eb7(0x421)],function(){var _0x42b43d=_0x4a9eb7,_0x11ac30={'uhrAG':_0x47a6af[_0x42b43d(0x1e8)],'aoMrv':function(_0x1331ac,_0x5a5d61){var _0x32b91b=_0x42b43d;return _0x47a6af[_0x32b91b(0x1e7)](_0x1331ac,_0x5a5d61);},'Uoujr':_0x47a6af[_0x42b43d(0x2dc)],'NsliA':_0x42b43d(0x1c7),'UPygd':_0x42b43d(0x4df)};_0x347255[_0x42b43d(0x507)]('/a',_0x47a6af[_0x42b43d(0x17c)](redirectsTo,_0x47a6af['wWVbK'])),_0x2bc1c0[_0x42b43d(0x507)]('/b',redirectsTo(_0x47a6af[_0x42b43d(0x317)])),_0x347255['get']('/c',_0x47a6af[_0x42b43d(0x17c)](sendsJson,{'yes':'no'}));var _0x1d05e6=_0x47a6af[_0x42b43d(0x17c)](_0x211068,new http[(_0x42b43d(0x155))]()),_0x1a8c75=_0x211068(new https[(_0x42b43d(0x155))]());function _0x211068(_0xc8c53f){var _0x106908=_0x42b43d;return _0xc8c53f['_requests']=[],_0xc8c53f[_0x106908(0x16d)]=_0xc8c53f[_0x106908(0x1f0)],_0xc8c53f[_0x106908(0x1f0)]=function(_0xfba655,_0x54f861){var _0x3640cd=_0x106908;this[_0x3640cd(0x27e)][_0x3640cd(0x2b9)](_0x54f861[_0x3640cd(0x3ab)]),this[_0x3640cd(0x16d)](_0xfba655,_0x54f861);},_0xc8c53f;}return Promise['all']([server[_0x42b43d(0x1a3)](_0x5d777b(_0x347255)),server[_0x42b43d(0x1a3)](_0x2bc1c0)])[_0x42b43d(0x22d)](_0x47a6af[_0x42b43d(0x17c)](asPromise,function(_0x301f41,_0xe8af58){var _0x55eccc=_0x42b43d,_0x4b4ed0=url[_0x55eccc(0x563)](_0x55eccc(0x11e));_0x4b4ed0['ca']=_0x17d919,_0x4b4ed0[_0x55eccc(0x4c8)]={'http':_0x1d05e6,'https':_0x1a8c75},https[_0x55eccc(0x507)](_0x4b4ed0,concatJson(_0x301f41,_0xe8af58))['on'](_0x11ac30[_0x55eccc(0x48c)],_0xe8af58);}))['then'](function(_0x45f129){var _0x4a0af5=_0x42b43d;if(_0x11ac30[_0x4a0af5(0x177)](_0x11ac30['Uoujr'],_0x11ac30[_0x4a0af5(0x386)])){var _0x7baea0=_0x845e97[_0x4a0af5(0x563)](_0x32d6d7);_0x15f356[_0x4a0af5(0x1b6)](_0x7baea0[_0x4a0af5(0x4c7)],_0x4a0af5(0x1f8));}else assert[_0x4a0af5(0x42a)](_0x1d05e6[_0x4a0af5(0x27e)],['/b']),assert[_0x4a0af5(0x42a)](_0x1a8c75[_0x4a0af5(0x27e)],['/a','/c']),assert[_0x4a0af5(0x42a)](_0x45f129[_0x4a0af5(0xf3)],{'yes':'no'}),assert[_0x4a0af5(0x42a)](_0x45f129[_0x4a0af5(0x3cf)],_0x11ac30[_0x4a0af5(0x2d9)]);});});}),describe(_0x22fe69['fiBlq'],function(){var _0x28487b=_0x265b55,_0x2b8378={'KLpfj':_0x28487b(0x238),'BwzRA':_0x28487b(0x393),'oEdkG':_0x22fe69[_0x28487b(0x4e3)],'RJSFn':'XbqxA','WnvGW':function(_0x2e0ce8,_0x2f47c0){var _0x50d5bb=_0x28487b;return _0x22fe69[_0x50d5bb(0x1b9)](_0x2e0ce8,_0x2f47c0);},'EHqOw':'bar','sRvUE':function(_0x4424cc,_0x4a1e9d){return _0x22fe69['nFuxO'](_0x4424cc,_0x4a1e9d);},'cADqV':_0x28487b(0x3bd),'juXKD':_0x22fe69[_0x28487b(0x223)],'TobQP':function(_0x36a4d9,_0x2170a3,_0x2ba54f){var _0x40f8d8=_0x28487b;return _0x22fe69[_0x40f8d8(0x1e2)](_0x36a4d9,_0x2170a3,_0x2ba54f);},'RPrZQ':_0x28487b(0x4a8)};_0x22fe69[_0x28487b(0x126)](it,_0x28487b(0x580),function(){var _0x4a8b3e=_0x28487b,_0x510db3={'hMizk':'error','nIEAX':_0x2b8378['KLpfj'],'kuEOx':_0x2b8378[_0x4a8b3e(0x25f)],'JBikf':_0x2b8378[_0x4a8b3e(0x106)],'OUkfk':function(_0x4bee65,_0x1437b8,_0x81db3a){return _0x4bee65(_0x1437b8,_0x81db3a);},'CQqak':_0x4a8b3e(0x4a8)};if(_0x2b8378[_0x4a8b3e(0x4d4)]===_0x2b8378['RJSFn'])return _0x347255[_0x4a8b3e(0x368)]('/a',_0x2b8378['WnvGW'](sendsJson,{'foo':_0x2b8378['EHqOw']})),server[_0x4a8b3e(0x1a3)](_0x347255)[_0x4a8b3e(0x22d)](asPromise(function(_0xd8ae61,_0x36b651){var _0x4ec2e9=_0x4a8b3e,_0x1659b2=http['request'](_0x4ec2e9(0x14f),{'method':'POST'},_0xd8ae61);_0x1659b2['write'](''),_0x1659b2[_0x4ec2e9(0x24e)]('',function(){_0x1659b2['end']('');}),_0x1659b2['on'](_0x510db3[_0x4ec2e9(0x13a)],_0x36b651);}))[_0x4a8b3e(0x22d)](asPromise(function(_0x5abd2c,_0x38da78,_0x511e1c){var _0x4feea6=_0x4a8b3e;_0x510db3[_0x4feea6(0x2f4)]!==_0x510db3[_0x4feea6(0x2f4)]?(_0x42a379[_0x4feea6(0x42a)](_0x46aee4['parsedJson'],{'a':'b'}),_0x2ced7f['deepEqual'](_0x14eab7['responseUrl'],_0x510db3[_0x4feea6(0x12a)])):(assert[_0x4feea6(0x42a)](_0x511e1c[_0x4feea6(0x3cf)],_0x510db3['JBikf']),_0x511e1c[_0x4feea6(0x2b6)](_0x510db3['OUkfk'](concat,{'encoding':_0x510db3[_0x4feea6(0x21f)]},_0x5abd2c))['on'](_0x510db3[_0x4feea6(0x13a)],_0x38da78));}));else _0xbf3cda=!![];}),it(_0x22fe69['VMtSd'],function(){var _0x4b40e5=_0x28487b,_0x54bcac={'QEGke':_0x4b40e5(0x14f),'xsiko':_0x4b40e5(0x538),'xhVYz':_0x22fe69[_0x4b40e5(0x185)]};if(_0x22fe69[_0x4b40e5(0x14a)](_0x4b40e5(0x1fa),_0x22fe69[_0x4b40e5(0x402)]))return _0x347255[_0x4b40e5(0x368)]('/a',_0x22fe69[_0x4b40e5(0x239)](sendsJson,{'foo':_0x22fe69[_0x4b40e5(0x3e4)]})),server[_0x4b40e5(0x1a3)](_0x347255)[_0x4b40e5(0x22d)](asPromise(function(_0x16095e,_0x51e913){var _0xc5ca37=_0x4b40e5,_0x476d48={'ogLbR':_0xc5ca37(0x32a)},_0x249864=http[_0xc5ca37(0x498)](_0x54bcac[_0xc5ca37(0x382)],{'method':_0x54bcac[_0xc5ca37(0x135)]},_0x16095e);_0x249864[_0xc5ca37(0x24e)](''),_0x249864[_0xc5ca37(0x24e)]('',_0xc5ca37(0x32a),function(){var _0x68ee08=_0xc5ca37;_0x249864['end']('',_0x476d48[_0x68ee08(0x586)]);}),_0x249864['on'](_0x54bcac[_0xc5ca37(0x101)],_0x51e913);}))['then'](_0x22fe69['XRwDi'](asPromise,function(_0x401fcf,_0x5ec329,_0x27e7da){var _0x5e28ae=_0x4b40e5;if(_0x2b8378[_0x5e28ae(0x4ab)](_0x2b8378[_0x5e28ae(0x3a7)],_0x2b8378['juXKD'])){var _0x5b9872=_0x1d4555[_0x5e28ae(0x563)](_0x54bcac['QEGke']);_0x5b9872[_0x5e28ae(0x281)]=!![],_0x14623e[_0x5e28ae(0x507)](_0x5b9872,_0x30dea4(_0x10232b,_0x52b830))['on'](_0x54bcac[_0x5e28ae(0x101)],_0x24a588);}else assert[_0x5e28ae(0x42a)](_0x27e7da[_0x5e28ae(0x3cf)],_0x2b8378[_0x5e28ae(0x106)]),_0x27e7da[_0x5e28ae(0x2b6)](_0x2b8378[_0x5e28ae(0x52d)](concat,{'encoding':_0x2b8378[_0x5e28ae(0x1c6)]},_0x401fcf))['on'](_0x5e28ae(0x324),_0x5ec329);}));else _0x16f814['abort']();}),it('when\x20data\x20is\x20Buffer.from(\x27\x27)',function(){var _0x2cc690=_0x28487b,_0x53712b={'zKxib':function(_0x262a6c,_0x266841){return _0x22fe69['BvOHr'](_0x262a6c,_0x266841);},'BGUNC':_0x22fe69['segHy'],'IbOLY':_0x2cc690(0x324),'KhfkB':_0x22fe69[_0x2cc690(0x4e3)],'aDDLX':'POST','WXtTO':function(_0x2c2ef8,_0x3a730a,_0x3a4a88){return _0x22fe69['vxmuW'](_0x2c2ef8,_0x3a730a,_0x3a4a88);},'ktjNY':_0x22fe69[_0x2cc690(0x4ed)]};return _0x347255[_0x2cc690(0x368)]('/a',_0x22fe69[_0x2cc690(0x53a)](sendsJson,{'foo':_0x22fe69[_0x2cc690(0x3e4)]})),server[_0x2cc690(0x1a3)](_0x347255)[_0x2cc690(0x22d)](_0x22fe69['fMpHP'](asPromise,function(_0xe14360,_0x5bc1c2){var _0x321272=_0x2cc690,_0x13401e={'PGIWP':function(_0x2c42ab,_0x5b1fca,_0x3774e1){return _0x2c42ab(_0x5b1fca,_0x3774e1);},'aYTNF':_0x53712b['IbOLY']},_0x50be6c=http[_0x321272(0x498)](_0x53712b[_0x321272(0x4d7)],{'method':_0x53712b[_0x321272(0x298)]},_0xe14360);_0x50be6c['write'](Buffer['from']('')),_0x50be6c[_0x321272(0x24e)](Buffer['from'](''),function(){var _0x2c62a9=_0x321272;if(_0x53712b['zKxib'](_0x53712b[_0x2c62a9(0x144)],_0x53712b[_0x2c62a9(0x144)])){var _0x7ae0a9=_0x27d029[_0x2c62a9(0x563)]('http://localhost:3600/a');_0x20055c[_0x2c62a9(0x507)](_0x7ae0a9,_0x13401e['PGIWP'](_0x138e6e,_0x5db43b,_0x3d5fcb))['on'](_0x13401e[_0x2c62a9(0x1aa)],_0x1ce2b8);}else _0x50be6c['end'](Buffer['from'](''));}),_0x50be6c['on'](_0x321272(0x324),_0x5bc1c2);}))[_0x2cc690(0x22d)](_0x22fe69[_0x2cc690(0x17d)](asPromise,function(_0x44a34f,_0x213835,_0x538ed1){var _0x1c6800=_0x2cc690;assert[_0x1c6800(0x42a)](_0x538ed1[_0x1c6800(0x3cf)],_0x53712b[_0x1c6800(0x4d7)]),_0x538ed1[_0x1c6800(0x2b6)](_0x53712b[_0x1c6800(0xfc)](concat,{'encoding':_0x53712b['ktjNY']},_0x44a34f))['on']('error',_0x213835);}));});}),_0x22fe69[_0x265b55(0x355)](describe,'end\x20accepts\x20as\x20arguments',function(){var _0x58bf8b=_0x265b55,_0x5506b6={'AfziE':'POST','aeDdT':function(_0x1336e4,_0x4c97e8,_0x349de9){return _0x1336e4(_0x4c97e8,_0x349de9);},'ugokH':'string','nqPBx':_0x58bf8b(0x14f),'flNbp':_0x22fe69[_0x58bf8b(0x267)],'frusO':_0x58bf8b(0x32a),'MtQEY':function(_0x2dd895,_0x433cf1,_0x2355f6){var _0x1ad7ef=_0x58bf8b;return _0x22fe69[_0x1ad7ef(0x330)](_0x2dd895,_0x433cf1,_0x2355f6);},'qbhAs':function(_0x219bb9,_0x355528){return _0x219bb9(_0x355528);},'zRrBl':function(_0x5e4585,_0x436df6,_0x36dc95){return _0x22fe69['uCwjc'](_0x5e4585,_0x436df6,_0x36dc95);},'IRIKQ':function(_0x3a72a5,_0x48534e){var _0x25fd8b=_0x58bf8b;return _0x22fe69[_0x25fd8b(0x423)](_0x3a72a5,_0x48534e);},'uBgSo':_0x58bf8b(0x323)},_0x3fd894;function _0x3c6456(){_0x3fd894=!![];}_0x22fe69['xUuzQ'](beforeEach,function(){var _0x2f5974=_0x58bf8b;_0x347255[_0x2f5974(0x368)]('/a',function(_0x244ef0,_0x1386bd){var _0x5f3ca5=_0x2f5974;_0x244ef0[_0x5f3ca5(0x2b6)](_0x1386bd);}),_0x3fd894=![];}),it(_0x58bf8b(0x1bd),function(){var _0x5dc012=_0x58bf8b,_0x2860b3={'jllRn':_0x5dc012(0x14f),'zrsyI':function(_0x40c937,_0x591e53,_0x265ea7){var _0xe08d1b=_0x5dc012;return _0x22fe69[_0xe08d1b(0xf8)](_0x40c937,_0x591e53,_0x265ea7);},'ChHpP':_0x5dc012(0x4a8)};return server[_0x5dc012(0x1a3)](_0x347255)[_0x5dc012(0x22d)](_0x22fe69[_0x5dc012(0x242)](asPromise,function(_0x1a915a){var _0x2bcebe=_0x5dc012,_0x5394a5=http[_0x2bcebe(0x498)](_0x2860b3['jllRn'],{'method':_0x2bcebe(0x538)},_0x1a915a);_0x5394a5[_0x2bcebe(0x517)]();}))[_0x5dc012(0x22d)](asPromise(function(_0x4d9cee,_0x3adbf3,_0x1bf2c0){var _0x4e9e1f=_0x5dc012;_0x1bf2c0[_0x4e9e1f(0x2b6)](_0x2860b3[_0x4e9e1f(0xee)](concat,{'encoding':_0x2860b3['ChHpP']},_0x4d9cee));}))[_0x5dc012(0x22d)](function(_0x41385f){assert['equal'](_0x41385f,'');});}),_0x22fe69['Gfmru'](it,_0x22fe69[_0x58bf8b(0x25d)],function(){var _0x51721e=_0x58bf8b,_0x3bf272={'mEkLG':_0x22fe69[_0x51721e(0x185)]};return server['start'](_0x347255)['then'](asPromise(function(_0x55be41){var _0x120577=_0x51721e;if(_0x120577(0x53b)===_0x120577(0x53b)){var _0x370e61=http['request']('http://localhost:3600/a',{'method':_0x5506b6['AfziE']},_0x55be41);_0x370e61[_0x120577(0x517)]('');}else _0x34cfc5[_0x120577(0x507)](_0x120577(0x24b),_0x34c7ad(_0xa4122d,_0xcd45a7))['on'](_0x3bf272[_0x120577(0x33a)],_0x98e9c0);}))[_0x51721e(0x22d)](asPromise(function(_0x4393ec,_0x278698,_0x3581e1){var _0x11bb6f=_0x51721e;_0x3581e1[_0x11bb6f(0x2b6)](_0x5506b6[_0x11bb6f(0x56f)](concat,{'encoding':_0x5506b6['ugokH']},_0x4393ec));}))[_0x51721e(0x22d)](function(_0x174453){var _0x274e57=_0x51721e;assert[_0x274e57(0x1b6)](_0x174453,'');});}),it(_0x22fe69[_0x58bf8b(0x4c6)],function(){var _0x4a9e56=_0x58bf8b;return server['start'](_0x347255)['then'](_0x22fe69[_0x4a9e56(0x41c)](asPromise,function(_0x356f5f){var _0x204165=_0x4a9e56,_0x7a26ae=http[_0x204165(0x498)]('http://localhost:3600/a',{'method':_0x204165(0x538)},_0x356f5f);_0x7a26ae[_0x204165(0x517)](_0x204165(0x4d0));}))['then'](_0x22fe69[_0x4a9e56(0x3c6)](asPromise,function(_0x39dd15,_0x3cd442,_0x271e60){var _0x217b8e=_0x4a9e56;_0x271e60['pipe'](concat({'encoding':_0x217b8e(0x4a8)},_0x39dd15));}))[_0x4a9e56(0x22d)](function(_0x39fa2a){var _0x1115e6=_0x4a9e56;assert[_0x1115e6(0x1b6)](_0x39fa2a,_0x1115e6(0x4d0));});}),it('a\x20non-empty\x20string\x20and\x20an\x20encoding',function(){var _0x5176e4=_0x58bf8b,_0x549d62={'Vdmkk':_0x5176e4(0x51e),'eMkSg':_0x22fe69[_0x5176e4(0x34c)],'XIgcJ':_0x22fe69['daHtE'],'NkcKV':'POST','iGYxL':_0x5176e4(0x32a),'Rppmx':'abc'};if('riquW'!==_0x22fe69[_0x5176e4(0x54d)]){var _0xc1bf05='3|1|2|0|4'['split']('|'),_0x27a201=0x0;while(!![]){switch(_0xc1bf05[_0x27a201++]){case'0':_0x2396d2['setTimeout'](0x64,function(){var _0x468d81=_0x5176e4;throw new _0x4a481f(_0x549d62[_0x468d81(0x1da)]);});continue;case'1':var _0x2396d2=_0x52ffe1['get'](_0x549d62[_0x5176e4(0xd1)],_0x3a7695(_0x4b4e3e,_0x614cd6));continue;case'2':_0x2396d2['on'](_0x549d62[_0x5176e4(0x1ec)],_0x1dcd41);continue;case'3':var _0x2aa872={'IqeId':_0x5176e4(0x4f3)};continue;case'4':_0x2396d2['on']('socket',function(){var _0x4c92e9=_0x5176e4,_0x17a4bf={'GcIkW':function(_0x3b84c1){return _0x3b84c1();}};_0x2396d2[_0x4c92e9(0x30a)]['on'](_0x2aa872[_0x4c92e9(0x4f8)],function(){var _0x42f21c=_0x4c92e9;_0x17a4bf[_0x42f21c(0xdd)](_0x2f8c5f);});});continue;}break;}}else return server[_0x5176e4(0x1a3)](_0x347255)['then'](_0x22fe69[_0x5176e4(0x404)](asPromise,function(_0x19bf61){var _0x38ee76=_0x5176e4,_0x3fbcae=http[_0x38ee76(0x498)]('http://localhost:3600/a',{'method':_0x549d62[_0x38ee76(0x124)]},_0x19bf61);_0x3fbcae['end']('abc',_0x549d62[_0x38ee76(0x472)]);}))[_0x5176e4(0x22d)](asPromise(function(_0x389bd4,_0x31262d,_0x73e35f){var _0x29294e=_0x5176e4;_0x73e35f['pipe'](_0x5506b6['aeDdT'](concat,{'encoding':_0x29294e(0x4a8)},_0x389bd4));}))[_0x5176e4(0x22d)](function(_0x473bed){var _0x223ae0=_0x5176e4;assert[_0x223ae0(0x1b6)](_0x473bed,_0x549d62[_0x223ae0(0x3d0)]);});}),_0x22fe69[_0x58bf8b(0x318)](it,_0x22fe69['UZyqo'],function(){var _0x4c7bf3=_0x58bf8b,_0x22960f={'KOKZS':function(_0x6e0724,_0x2f0a4e,_0x4f2045){return _0x5506b6['MtQEY'](_0x6e0724,_0x2f0a4e,_0x4f2045);}};return server[_0x4c7bf3(0x1a3)](_0x347255)['then'](_0x5506b6[_0x4c7bf3(0x39c)](asPromise,function(_0x269c10){var _0x156c91=_0x4c7bf3,_0x1c4373=http['request'](_0x5506b6[_0x156c91(0xff)],{'method':_0x5506b6[_0x156c91(0x3b9)]},_0x269c10);_0x1c4373[_0x156c91(0x517)](_0x5506b6['flNbp'],_0x5506b6[_0x156c91(0x328)],_0x3c6456);}))[_0x4c7bf3(0x22d)](asPromise(function(_0x50c316,_0x3f6b54,_0x147a81){var _0x37ab1d=_0x4c7bf3;_0x147a81['pipe'](_0x22960f[_0x37ab1d(0x539)](concat,{'encoding':_0x37ab1d(0x4a8)},_0x50c316));}))['then'](function(_0x46838c){var _0x44448d=_0x4c7bf3;assert[_0x44448d(0x1b6)](_0x46838c,_0x44448d(0x4d0)),assert['equal'](_0x3fd894,!![]);});}),_0x22fe69[_0x58bf8b(0x187)](it,_0x58bf8b(0x357),function(){var _0x3d6caf=_0x58bf8b,_0x347706={'idZhn':_0x22fe69[_0x3d6caf(0x267)]};return server[_0x3d6caf(0x1a3)](_0x347255)[_0x3d6caf(0x22d)](asPromise(function(_0x3304ba){var _0x330820=_0x3d6caf,_0x151772=http[_0x330820(0x498)](_0x330820(0x14f),{'method':_0x330820(0x538)},_0x3304ba);_0x151772['end'](_0x347706[_0x330820(0x3a5)],_0x3c6456);}))['then'](asPromise(function(_0xc2670,_0x5b3f21,_0x49ceb8){var _0x20cff6=_0x3d6caf;_0x49ceb8['pipe'](_0x5506b6['zRrBl'](concat,{'encoding':_0x5506b6[_0x20cff6(0x1ba)]},_0xc2670));}))[_0x3d6caf(0x22d)](function(_0x3f3146){var _0x5e3445=_0x3d6caf;assert[_0x5e3445(0x1b6)](_0x3f3146,_0x5e3445(0x4d0)),assert['equal'](_0x3fd894,!![]);});}),_0x22fe69['vxmuW'](it,_0x22fe69[_0x58bf8b(0x541)],function(){var _0xf84b2=_0x58bf8b;return server['start'](_0x347255)[_0xf84b2(0x22d)](asPromise(function(_0x13b9de){var _0x2e6cf5=_0xf84b2,_0x5dc9c4=http[_0x2e6cf5(0x498)](_0x2e6cf5(0x14f),{'method':'POST'},_0x13b9de);_0x5dc9c4['end'](_0x3c6456);}))[_0xf84b2(0x22d)](asPromise(function(_0x292343,_0x15e0ed,_0x506891){var _0x52edf2=_0xf84b2;_0x5506b6[_0x52edf2(0x589)](_0x52edf2(0x39a),_0x5506b6[_0x52edf2(0x4ec)])?(_0x356606[_0x52edf2(0x24e)](_0x3b8bbd[_0x52edf2(0x406)](_0x5d9bcd[_0x52edf2(0x16c)])),_0xb0b777[_0x52edf2(0x2b6)](_0x63654d)):_0x506891[_0x52edf2(0x2b6)](concat({'encoding':_0x5506b6[_0x52edf2(0x1ba)]},_0x292343));}))[_0xf84b2(0x22d)](function(_0x1bc9c2){var _0x28f542=_0xf84b2;assert[_0x28f542(0x1b6)](_0x1bc9c2,''),assert[_0x28f542(0x1b6)](_0x3fd894,!![]);});});}),describe(_0x265b55(0x582),function(){var _0x3c7f27=_0x265b55,_0xc0edb0={'aZBwD':_0x3c7f27(0x23c),'TLREK':function(_0x1ecdbe,_0x49801e,_0x45843e){var _0xfdd51c=_0x3c7f27;return _0x22fe69[_0xfdd51c(0x355)](_0x1ecdbe,_0x49801e,_0x45843e);},'aqWXM':function(_0x7d216a,_0x2b8662){var _0x2bda96=_0x3c7f27;return _0x22fe69[_0x2bda96(0x2b8)](_0x7d216a,_0x2b8662);},'osRLM':function(_0x5611a7,_0x2b4b7b){return _0x5611a7===_0x2b4b7b;},'RLyUc':_0x3c7f27(0xf0),'hbcEm':_0x3c7f27(0x32b),'pnEJN':function(_0x288cac,_0x464ab9){return _0x288cac(_0x464ab9);},'ijlkN':_0x22fe69[_0x3c7f27(0x4da)],'qFkof':'Ivkjw','arpOr':function(_0x2a513e,_0x100307){var _0x5b23f3=_0x3c7f27;return _0x22fe69[_0x5b23f3(0x447)](_0x2a513e,_0x100307);},'ZwQPx':_0x3c7f27(0x2ca),'JnjRF':function(_0x1e3ff9,_0x5dde16,_0xc66100){return _0x1e3ff9(_0x5dde16,_0xc66100);},'JtdQY':_0x22fe69[_0x3c7f27(0x185)],'LGCHw':_0x3c7f27(0x1b7),'Jszpu':_0x22fe69['PwzXd'],'MmAAn':function(_0x27d989,_0x57bc9c){return _0x27d989===_0x57bc9c;},'hdiPn':_0x22fe69[_0x3c7f27(0x4d3)],'rYdwE':_0x22fe69['Dndks'],'hFfPL':function(_0x54b9a5,_0xf20f39){var _0x42e4b5=_0x3c7f27;return _0x22fe69[_0x42e4b5(0x12b)](_0x54b9a5,_0xf20f39);},'HGHgD':_0x3c7f27(0x419),'pLlOk':function(_0x3d6352,_0x24d532){var _0x24dbd0=_0x3c7f27;return _0x22fe69[_0x24dbd0(0x392)](_0x3d6352,_0x24d532);},'GgeKG':_0x22fe69[_0x3c7f27(0x4b5)],'NHCjr':_0x22fe69[_0x3c7f27(0x35a)],'DCTgc':function(_0x5b1522,_0x67130f){return _0x5b1522+_0x67130f;},'LcwuQ':_0x3c7f27(0x163),'umpCm':function(_0x4a3ae9,_0xda799c){var _0x62611e=_0x3c7f27;return _0x22fe69[_0x62611e(0x46d)](_0x4a3ae9,_0xda799c);}};_0x22fe69[_0x3c7f27(0x4fb)](it,_0x22fe69[_0x3c7f27(0x545)],function(){var _0x14bde5=_0x3c7f27,_0x2346eb={'BPCLV':function(_0x505dcf,_0x31a89d){return _0x505dcf(_0x31a89d);},'TvNeC':_0xc0edb0[_0x14bde5(0x525)],'FJcpD':'vIxBC','eBlFh':function(_0x245ad7,_0xe0d3ed){var _0x5583c8=_0x14bde5;return _0xc0edb0[_0x5583c8(0x348)](_0x245ad7,_0xe0d3ed);}};return _0xc0edb0[_0x14bde5(0x425)]!==_0xc0edb0[_0x14bde5(0x3ef)]?(_0x347255[_0x14bde5(0x507)]('/a',_0xc0edb0[_0x14bde5(0x348)](sendsJson,{'a':'b'})),server[_0x14bde5(0x1a3)](_0x347255)[_0x14bde5(0x22d)](_0xc0edb0['arpOr'](asPromise,function(_0x1ae905,_0x382b16){var _0x2dff9a=_0x14bde5,_0x27ca53={'host':_0xc0edb0['aZBwD'],'port':0xe10,'path':'/a','method':_0x2dff9a(0x2ca),'beforeRedirect':function(){var _0x498839=_0x2dff9a,_0x538ba5={'nHvgs':function(_0x20bd44,_0x25dc2d){return _0x20bd44(_0x25dc2d);},'FScgb':_0x498839(0x324),'oUzvF':_0x498839(0x2c0),'uwEJN':function(_0x2f3c76,_0x475266){return _0x2346eb['BPCLV'](_0x2f3c76,_0x475266);},'oyZcp':function(_0x35d310,_0x1f72c3){return _0x35d310(_0x1f72c3);}};if(_0x2346eb[_0x498839(0x159)]!==_0x2346eb['FJcpD'])assert[_0x498839(0x2ce)](_0x498839(0x51f));else{var _0x17619d={'FGNLv':function(_0x2d50b1,_0xb8528c){return _0x538ba5['nHvgs'](_0x2d50b1,_0xb8528c);},'gcGfp':_0x538ba5[_0x498839(0xd7)],'nVWjZ':'4|3|5|1|6|2|0','aCtth':_0x538ba5[_0x498839(0x190)],'ApPQF':function(_0x5949e0,_0x27cb19){return _0x5949e0 instanceof _0x27cb19;},'qNZJB':function(_0x2f6d4a,_0x196084){return _0x2f6d4a(_0x196084);},'ZIgeK':function(_0x32670a,_0x3d50f0){return _0x32670a(_0x3d50f0);}};return _0x381ba2[_0x498839(0x507)]('/a',_0x538ba5[_0x498839(0x450)](_0x43a7ae,_0x538ba5['oUzvF'])),_0x2833d8[_0x498839(0x507)]('/b',_0x538ba5[_0x498839(0x27b)](_0x175112,{'a':'b'})),_0x253e6a[_0x498839(0x1a3)](_0x1cb64b)[_0x498839(0x22d)](_0x538ba5[_0x498839(0x52c)](_0x2524bd,function(_0x54eede,_0x157b8d){var _0x4fd201=_0x498839;_0x2873eb['get'](_0x4fd201(0x14f),_0x17619d[_0x4fd201(0x495)](_0x2de2fc,_0x157b8d))['on'](_0x17619d[_0x4fd201(0x3e5)],_0x54eede);}))['then'](function(_0x105aa3){var _0x232ee8=_0x498839,_0x596aee=_0x17619d[_0x232ee8(0x58a)]['split']('|'),_0x378390=0x0;while(!![]){switch(_0x596aee[_0x378390++]){case'0':_0x33b307[_0x232ee8(0x1b6)](_0x6e5044[_0x232ee8(0x2cc)],_0x17619d[_0x232ee8(0x473)]);continue;case'1':_0xaa8cb5(_0x17619d['ApPQF'](_0x6e5044,_0x596b9e));continue;case'2':_0x374e25[_0x232ee8(0x1b6)](_0x6e5044[_0x232ee8(0x558)],_0x232ee8(0x459));continue;case'3':_0x789445['equal'](_0x105aa3[_0x232ee8(0x558)],_0x232ee8(0x307));continue;case'4':_0x17619d[_0x232ee8(0x22c)](_0x4c3cc8,_0x17619d[_0x232ee8(0xe1)](_0x105aa3,_0x156116));continue;case'5':var _0x6e5044=_0x105aa3[_0x232ee8(0x1de)];continue;case'6':_0x17619d[_0x232ee8(0x1d3)](_0x252546,_0x17619d[_0x232ee8(0xe1)](_0x6e5044,_0x30be64));continue;}break;}});}}};http[_0x2dff9a(0x507)](_0x27ca53,_0xc0edb0[_0x2dff9a(0x117)](concatJson,_0x1ae905,_0x382b16))['on'](_0x2dff9a(0x324),_0x382b16);}))[_0x14bde5(0x22d)](function(_0x332bfb){var _0x1019ba=_0x14bde5,_0x74c340={'Lcsca':function(_0x4741ec,_0x1efeb0){var _0x76245e=_0x295e;return _0xc0edb0[_0x76245e(0x415)](_0x4741ec,_0x1efeb0);},'nLOPp':'/b#abc','QkGUx':function(_0xa224ba,_0x2aa09d){return _0xa224ba(_0x2aa09d);},'UAhMf':_0x1019ba(0x464),'IrmeY':function(_0x9d1de3,_0x17d7de){return _0x9d1de3(_0x17d7de);},'LtmWT':function(_0x51518b,_0x5c7eca){var _0x5676be=_0x1019ba;return _0xc0edb0[_0x5676be(0x415)](_0x51518b,_0x5c7eca);}};if(_0xc0edb0[_0x1019ba(0x4ff)](_0xc0edb0['RLyUc'],_0x1019ba(0x3e1))){var _0x46d63e={'lEfXg':_0x1019ba(0x56c)};return _0x199841[_0x1019ba(0x507)]('/a',_0x74c340[_0x1019ba(0x211)](_0x50a4ba,_0x74c340[_0x1019ba(0x442)])),_0x1ec22b[_0x1019ba(0x507)]('/b',_0x74c340[_0x1019ba(0x211)](_0x4aa482,_0x1019ba(0x10a))),_0x577c65['get']('/c',_0x74c340[_0x1019ba(0x121)](_0x39cdae,_0x74c340[_0x1019ba(0x1b1)])),_0x6f6a76[_0x1019ba(0x507)]('/d',_0x2d95ad(_0x1019ba(0xd5))),_0x5b5c05[_0x1019ba(0x507)]('/e',_0x74c340['IrmeY'](_0x23a12c,'/f#mno')),_0x503047[_0x1019ba(0x507)]('/f',_0x38409({'a':'b'})),_0x271a10[_0x1019ba(0x1a3)](_0xe0a971)[_0x1019ba(0x22d)](_0x74c340[_0x1019ba(0x4d8)](_0x5df029,function(_0x2cb80c,_0x48ffde){var _0x9a5fc0=_0x1019ba;_0x13dd7d[_0x9a5fc0(0x507)](_0x9a5fc0(0x14f),_0x336cea(_0x2cb80c,_0x48ffde))['on'](_0x9a5fc0(0x324),_0x48ffde);}))[_0x1019ba(0x22d)](function(_0x28e555){var _0x225e2f=_0x1019ba;_0x2eb6ac['deepEqual'](_0x28e555[_0x225e2f(0xf3)],{'a':'b'}),_0x3f2b63['deepEqual'](_0x28e555[_0x225e2f(0x3cf)],_0x46d63e[_0x225e2f(0x196)]);});}else assert['deepEqual'](_0x332bfb[_0x1019ba(0xf3)],{'a':'b'}),assert[_0x1019ba(0x42a)](_0x332bfb[_0x1019ba(0x3cf)],_0x1019ba(0x14f));})):(_0x5970be['get']('/a',_0x2346eb[_0x14bde5(0x2ec)](_0x4dbd2a,'/b')),_0x2f0bff[_0x14bde5(0x507)]('/b',_0x2346eb['eBlFh'](_0x654e80,{'foo':_0x14bde5(0x2fa)})),_0x1ec190[_0x14bde5(0x1a3)](_0x23d912)[_0x14bde5(0x22d)](_0x4b161e(function(_0x4056bd){var _0xe4f92b=_0x14bde5,_0x40b4b9=_0x58b39e[_0xe4f92b(0x507)](_0xe4f92b(0x14f),_0x4056bd);_0x40b4b9[_0xe4f92b(0xe0)](!![]);})));}),_0x22fe69[_0x3c7f27(0x187)](it,_0x22fe69[_0x3c7f27(0x431)],function(){var _0x56d094=_0x3c7f27,_0x2eab04={'YXPeH':_0x56d094(0x14f),'jOjuD':function(_0x264eec,_0xff7eb9){return _0x264eec!==_0xff7eb9;},'LtItA':_0x22fe69['lWoLO']};if(_0x22fe69['eMlAC'](_0x56d094(0x233),_0x56d094(0x23b)))return _0x347255[_0x56d094(0x507)]('/a',_0x22fe69['ugHFc'](redirectsTo,'/b')),_0x347255[_0x56d094(0x507)]('/b',_0x22fe69[_0x56d094(0x280)](redirectsTo,'/c')),_0x347255['get']('/c',sendsJson({'a':'b'})),server[_0x56d094(0x1a3)](_0x347255)[_0x56d094(0x22d)](asPromise(function(_0x2395ed,_0x28b0ee){var _0xcd1445=_0x56d094,_0x37bc83={'host':_0xcd1445(0x23c),'port':0xe10,'path':'/a','method':_0xc0edb0[_0xcd1445(0x212)],'beforeRedirect':0x2a};http[_0xcd1445(0x507)](_0x37bc83,_0xc0edb0[_0xcd1445(0x46a)](concatJson,_0x2395ed,_0x28b0ee))['on'](_0xc0edb0[_0xcd1445(0x529)],_0x28b0ee);}))['then'](function(_0x621588){var _0x36e599=_0x56d094,_0x2e0000={'fPZIL':_0x2eab04[_0x36e599(0x35d)],'phpUy':_0x36e599(0x538)};if(_0x2eab04['jOjuD'](_0x36e599(0x47a),_0x36e599(0x47a))){var _0x1d9c6e=_0x332149[_0x36e599(0x498)](_0x2e0000[_0x36e599(0x51a)],{'method':_0x2e0000[_0x36e599(0x4fd)]},_0x129078);_0x1d9c6e[_0x36e599(0x517)](_0x381a0d);}else assert[_0x36e599(0x42a)](_0x621588[_0x36e599(0xf3)],{'a':'b'}),assert[_0x36e599(0x42a)](_0x621588[_0x36e599(0x3cf)],_0x36e599(0x238));});else _0x59989e[_0x56d094(0x2b6)](_0x215ea2({'encoding':_0x2eab04[_0x56d094(0x526)]},_0xdb58b1));}),_0x22fe69[_0x3c7f27(0x12d)](it,_0x3c7f27(0x3d1),function(){var _0x2e1d8a=_0x3c7f27,_0x7b0c9d={'SqgEF':function(_0x37176e,_0x5e37a5){return _0x37176e===_0x5e37a5;}};_0x347255[_0x2e1d8a(0x507)]('/a',redirectsTo('/b')),_0x347255['get']('/b',_0xc0edb0[_0x2e1d8a(0x348)](redirectsTo,'/c')),_0x347255[_0x2e1d8a(0x507)]('/c',function(_0x55788d,_0x7b3558){var _0x124c25=_0x2e1d8a;_0x7b3558[_0x124c25(0x1e0)](_0x55788d[_0x124c25(0x16c)]);});var _0x515a1f=0x0;return server[_0x2e1d8a(0x1a3)](_0x347255)[_0x2e1d8a(0x22d)](asPromise(function(_0x1ae9e4,_0x584d96){var _0x4ceb8b=_0x2e1d8a,_0x3ca240={'host':_0x4ceb8b(0x23c),'port':0xe10,'path':'/a','method':_0xc0edb0[_0x4ceb8b(0x212)],'beforeRedirect':function(_0x457e5d){var _0x49d68d=_0x4ceb8b,_0x4f99ff={'KmPkM':_0x49d68d(0x324),'ZDMcw':_0x49d68d(0x4a7),'Tydwk':function(_0x4b11c2,_0x26787f){return _0x4b11c2(_0x26787f);}};if(_0x49d68d(0x297)!==_0x49d68d(0x3af)){_0x515a1f++;if(_0x7b0c9d[_0x49d68d(0x3c1)](_0x457e5d[_0x49d68d(0x3ab)],'/b'))_0x457e5d[_0x49d68d(0x16c)][_0x49d68d(0x1b7)]='value\x20A';else _0x457e5d['path']==='/c'&&(_0x457e5d[_0x49d68d(0x16c)][_0x49d68d(0x18b)]=_0x49d68d(0x55f));}else{var _0x53021f={'jGbAX':function(_0x49d40d,_0xa4ad60){return _0x49d40d(_0xa4ad60);},'bvAkz':_0x49d68d(0x1c1),'mzbff':_0x49d68d(0x1fd)},_0x23a022=_0x2edb80[_0x49d68d(0x563)](_0x4f99ff[_0x49d68d(0xe6)]);return _0x23a022[_0x49d68d(0x4c2)]=0x1,_0x1405cc[_0x49d68d(0x1a3)](_0xc7164b)[_0x49d68d(0x22d)](_0x4f99ff[_0x49d68d(0x4cd)](_0x5b19e6,function(_0x189e5b,_0x294889){var _0x5f127e=_0x49d68d;_0x547b68[_0x5f127e(0x507)](_0x23a022,_0x294889)['on'](_0x4f99ff[_0x5f127e(0x29b)],_0x189e5b);}))[_0x49d68d(0x22d)](function(_0x485484){var _0x3ee668=_0x49d68d;_0x53021f[_0x3ee668(0x315)](_0x5a906e,_0x485484 instanceof _0x204c05),_0x17e574[_0x3ee668(0x1b6)](_0x485484[_0x3ee668(0x558)],_0x53021f[_0x3ee668(0xf1)]),_0x4d84aa[_0x3ee668(0x1b6)](_0x485484[_0x3ee668(0x288)],_0x53021f[_0x3ee668(0x4a4)]);});}}};http[_0x4ceb8b(0x507)](_0x3ca240,concatJson(_0x1ae9e4,_0x584d96))['on'](_0x4ceb8b(0x324),_0x584d96);}))[_0x2e1d8a(0x22d)](function(_0x43e701){var _0x421c00=_0x2e1d8a;assert[_0x421c00(0x38d)](_0x515a1f,0x2),assert['strictEqual'](_0x43e701[_0x421c00(0xf3)][_0xc0edb0[_0x421c00(0x458)]],_0xc0edb0[_0x421c00(0x1e1)]),assert[_0x421c00(0x38d)](_0x43e701['parsedJson']['header-b'],_0x421c00(0x55f)),assert[_0x421c00(0x42a)](_0x43e701[_0x421c00(0x3cf)],_0x421c00(0x238));});}),_0x22fe69[_0x3c7f27(0x493)](it,_0x3c7f27(0x1b2),function(){var _0x5807a8=_0x3c7f27,_0x425f00={'vaxTs':_0x5807a8(0x23c)};if(_0x22fe69[_0x5807a8(0x3fa)](_0x22fe69[_0x5807a8(0x335)],_0x22fe69['VbMnq'])){var _0x128d8d=![];return _0x347255[_0x5807a8(0x507)]('/a',_0x22fe69[_0x5807a8(0x1b9)](redirectsTo,'/b')),_0x347255[_0x5807a8(0x507)]('/b',function(){var _0x2d09da=_0x5807a8;if(_0xc0edb0[_0x2d09da(0x4d6)](_0x2d09da(0x333),_0xc0edb0['hdiPn']))this[_0x2d09da(0x271)]();else{_0x128d8d=!![];throw new Error(_0xc0edb0[_0x2d09da(0xfd)]);}}),server[_0x5807a8(0x1a3)](_0x347255)['then'](_0x22fe69['ROPGs'](asPromise,function(_0x448027,_0x37fa54){var _0x35bf32=_0x5807a8,_0x17b4f0={'host':_0x425f00['vaxTs'],'port':0xe10,'path':'/a','method':_0x35bf32(0x2ca),'beforeRedirect':function(){var _0x4a4551=_0x35bf32;throw new Error(_0x4a4551(0x481));}};http[_0x35bf32(0x507)](_0x17b4f0,concatJson(_0x37fa54))['on'](_0x35bf32(0x324),_0x448027);}))[_0x5807a8(0x22d)](function(_0x57009e){var _0x1e0f6b=_0x5807a8;assert(!_0x128d8d),_0xc0edb0[_0x1e0f6b(0x230)](assert,_0xc0edb0['hFfPL'](_0x57009e,Error)),assert[_0x1e0f6b(0x1b6)](_0x57009e[_0x1e0f6b(0x288)],_0xc0edb0[_0x1e0f6b(0x3fb)]),_0xc0edb0[_0x1e0f6b(0x54b)](assert,_0x57009e[_0x1e0f6b(0x1de)]instanceof Error),assert[_0x1e0f6b(0x1b6)](_0x57009e['cause']['message'],_0xc0edb0[_0x1e0f6b(0x42e)]);});}else _0x3ec038[_0x5807a8(0x42a)](_0x138f26['statusCode'],0xc8),_0x3b7c1f[_0x5807a8(0x42a)](_0x37fd97[_0x5807a8(0x3cf)],_0xc0edb0[_0x5807a8(0x508)]),_0x121c88[_0x5807a8(0x2b6)](_0xf8638e({'encoding':_0x5807a8(0x4a8)},_0x1cca4b))['on'](_0xc0edb0[_0x5807a8(0x529)],_0x241b03);}),_0x22fe69[_0x3c7f27(0x1f6)](it,_0x22fe69[_0x3c7f27(0x369)],function(){var _0x15167f=_0x3c7f27,_0x3e2665={'ZbpnW':function(_0x1844aa,_0x412b76){var _0x3f9a98=_0x295e;return _0xc0edb0[_0x3f9a98(0x48f)](_0x1844aa,_0x412b76);},'oCJKm':_0xc0edb0[_0x15167f(0x2ba)]};return _0x347255[_0x15167f(0x507)]('/a',_0xc0edb0[_0x15167f(0x54b)](redirectsTo,'/b')),_0x347255[_0x15167f(0x507)]('/b',function(_0x48e561,_0x15d42a){var _0x2f298c=_0x15167f;_0x15d42a['json'](_0x48e561[_0x2f298c(0x16c)]);}),server['start'](_0x347255)[_0x15167f(0x22d)](_0xc0edb0['umpCm'](asPromise,function(_0x39e175,_0x5e1c9e){var _0x3aeb04=_0x15167f,_0x6c1260={'host':_0x3aeb04(0x23c),'port':0xe10,'path':'/a','method':_0x3aeb04(0x2ca),'beforeRedirect':function(_0x44a57d,_0x430393){var _0x2fb576=_0x3aeb04;_0x44a57d[_0x2fb576(0x16c)][_0x2fb576(0x1ca)]=_0x3e2665[_0x2fb576(0x463)](_0x3e2665[_0x2fb576(0x581)],_0x430393[_0x2fb576(0x16c)][_0x2fb576(0x4aa)]);}};http[_0x3aeb04(0x507)](_0x6c1260,_0xc0edb0[_0x3aeb04(0x46a)](concatJson,_0x39e175,_0x5e1c9e))['on'](_0xc0edb0[_0x3aeb04(0x529)],_0x5e1c9e);}))[_0x15167f(0x22d)](function(_0x33f7f2){var _0xf091a3=_0x15167f;assert['strictEqual'](_0x33f7f2[_0xf091a3(0xf3)][_0xf091a3(0x1ca)],_0xf091a3(0x3b8)),assert[_0xf091a3(0x42a)](_0x33f7f2['responseUrl'],_0xc0edb0[_0xf091a3(0x508)]);});});}),_0x22fe69[_0x265b55(0x50e)](describe,_0x265b55(0x52a),function(){var _0x536f6a=_0x265b55,_0x1771fa={'VCycY':_0x536f6a(0x37b),'MTxBu':function(_0x2ec1b9,_0x1e3ed2){return _0x2ec1b9(_0x1e3ed2);},'MAACc':function(_0x2f432d,_0x1fe010){return _0x2f432d(_0x1fe010);},'uuzZG':'localhost:3601','ZWOaF':_0x22fe69[_0x536f6a(0x4e3)],'jHwuu':function(_0x17d2fb,_0x46ad7a,_0x5382e0){return _0x17d2fb(_0x46ad7a,_0x5382e0);},'CXUfC':function(_0x4803fb,_0x13bfcf){return _0x22fe69['aZZkM'](_0x4803fb,_0x13bfcf);}};[{'redirectType':_0x22fe69['pduhB'],'redirectUrl':'http://localhost:3600/b'},{'redirectType':'relative','redirectUrl':'/b'}][_0x536f6a(0x141)](function(_0x45e758){var _0x17caf2=_0x536f6a,_0x258a90={'iKfnJ':function(_0x30ed72,_0x341591){return _0x30ed72+_0x341591;},'rkGSF':_0x1771fa[_0x17caf2(0x332)],'RuZFL':function(_0x447385,_0x58bc6c,_0x17849c){return _0x1771fa['jHwuu'](_0x447385,_0x58bc6c,_0x17849c);}};it(_0x1771fa[_0x17caf2(0x37e)](_0x17caf2(0x3f4),_0x45e758['redirectType']),function(){var _0x9dcb8=_0x17caf2,_0x384fd7={'uijul':_0x1771fa[_0x9dcb8(0x560)]};_0x347255[_0x9dcb8(0x507)]('/a',_0x1771fa[_0x9dcb8(0x54e)](redirectsTo,_0x45e758['redirectUrl'])),_0x347255[_0x9dcb8(0x507)]('/b',sendsJson({'good':_0x9dcb8(0x2b1)})),_0x2bc1c0[_0x9dcb8(0x550)]=0xe11,_0x2bc1c0[_0x9dcb8(0x4f1)]('*',_0x1771fa[_0x9dcb8(0x4f5)](proxy,_0x1771fa[_0x9dcb8(0x33d)]));function _0x15c724(_0x1304af){var _0x532ac2=_0x9dcb8;_0x1304af['path']=_0x1304af[_0x532ac2(0x1ff)],_0x1304af[_0x532ac2(0x29a)]=_0x1304af[_0x532ac2(0x1ff)],_0x1304af['port']=0xe11,_0x1304af['host']=_0x258a90[_0x532ac2(0x2f6)](_0x1304af['hostname']+':',_0x1304af[_0x532ac2(0x550)]),_0x1304af['beforeRedirect']=_0x15c724;}return Promise[_0x9dcb8(0x4f1)]([server[_0x9dcb8(0x1a3)](_0x347255),server[_0x9dcb8(0x1a3)](_0x2bc1c0)])[_0x9dcb8(0x22d)](_0x1771fa[_0x9dcb8(0x54e)](asPromise,function(_0x21eb9d,_0x550b11){var _0x168828=_0x9dcb8,_0x3b2e2a=Object[_0x168828(0x2fd)]({},url[_0x168828(0x563)](_0x258a90[_0x168828(0x10e)]));_0x15c724(_0x3b2e2a),http[_0x168828(0x507)](_0x3b2e2a,_0x258a90[_0x168828(0x38a)](concatJson,_0x21eb9d,_0x550b11))['on'](_0x168828(0x324),_0x550b11);}))['then'](function(_0x2eaff9){var _0x130d75=_0x9dcb8;assert[_0x130d75(0x42a)](_0x2eaff9['parsedJson'],{'good':_0x130d75(0x2b1)}),assert[_0x130d75(0x42a)](_0x2eaff9[_0x130d75(0x3cf)],_0x384fd7[_0x130d75(0x396)]);});});});});});function noop(){}function _0x1bf9(){var _0x5ef9ae=['LGCHw','ERR_INVALID_URL','teeMQ','QeuLU','YqCdK','/b#abc','AxRsw','ebfwA','from','Mqawy','ddhwA','ZbpnW','/d#ghi','http://127.0.0.1:3600/a','no\x20error','rSbmb','/relative','KMuVO','JnjRF','sZXcq','ZWXxd','PNySf','should\x20provide\x20setHeader','fjMLx','sXKql','application/javascript','iGYxL','aCtth','qiHXF','should\x20provide\x20socket','nCvKX','QIEtS','xorPX','5|4|8|0|9|1|2|3|6|10|7','hXDap','EiRyY','oVJnN','5|4|1|2|3|0','iudum','RnxiE','MiPep','no\x20redirects!','dFNHg','KURdu','toString','mNKnO','GNxdP','hBPiv','custom','content-type','head','LMlTK','uhrAG','createReadStream','CLcXv','DCTgc','Prpss','/redirect2','drops\x20the\x20header\x20when\x20redirected\x20from\x20a\x20different\x20host\x20via\x20header','elfRX','only\x20call\x20beforeRedirect\x20on\x20redirects,\x20not\x20the\x20inital\x20http\x20call','FGNLv','TOdDP','split','request','XiyQT','tDTEa','uses\x20the\x20new\x20host\x20header\x20if\x20redirect\x20host\x20is\x20different','xvmGv','XDpai','xOsNk','UvIDk','LZylB','yuwjj','match','http:','mzbff','setTimeout','oAGbQ','http://localhost:3600/r2','string','fjSbs','location','sRvUE','gLsuw','concat-stream','Ibpfg','toolongtosenddata','aXTBw','VKOSn','iVDQY','HVJXu','https://localhost:3600/b','uOjLT','KMgUW','csgDR','EtrhM','HKJoF','eYYEr','when\x20redirecting\x20to\x20a\x20different\x20host\x20while\x20the\x20host\x20header\x20is\x20set','LZeUJ','(https\x20->\x20http\x20->\x20https)','quz','TCZBf','stop','HcFtK','maxRedirects','application/json;\x20charset=utf-8','VHbYX','oaLfu','HPUVR','host','agents','QAQOW','CjKOQ','HnPck','cMxTh','Tydwk','UDLQt','cFaJV','abc','Laqrb','RrNcc','QzJEV','RJSFn','qNrXs','MmAAn','KhfkB','LtmWT','http.get\x20redirecting\x20to\x20bracketed\x20IPv4\x20address','nQRnX','YYNPh','yfEcZ','Mwuto','AUEkl','https://localhost:3601/c','xfmzG','hvbIc','KoTuR','bESiF','tgiCZ','JCfol','VRtXk','oupBx','xjKsN','Location:\x20http://-.\x0d\x0a','Tqems','ZljzK','uBgSo','lWoLO','http.get\x20redirecting\x20to\x20IPv6\x20address','_performRequest','VhdvV','all','BEKST','timeout','CYIgH','MAACc','hHssT','kUNLU','IqeId','destroys\x20the\x20socket\x20after\x20configured\x20inactivity\x20period','UqRBP','Gfmru','WscAP','phpUy','pqgkO','osRLM','fXHCB','nFsQK','xUuzQ','geGuV','JpPBI','uXGsa','XSdfO','get','NHCjr','KrPeZ','about:blank','xBVeQ','the\x20trackRedirects\x20option','PsKVG','gfEoK','WWTmA','QlcEh','cwdYF','fFjZm','UDWfn','ZDQbf','GmfHp','brxrJ','end','TCNaF','UYCDq','fPZIL','hRIxU','now','value\x20A','should\x20not\x20have\x20timed\x20out','this\x20should\x20only\x20be\x20called\x20on\x20redirects','qwLFc','GRsGJ','rqgpn','6|2|1|5|0|4|3','KScWb','hbcEm','LtItA','clears\x20timeouts\x20after\x20an\x20error\x20response','gsfQB','JtdQY','when\x20request\x20is\x20going\x20through\x20an\x20HTTP\x20proxy\x20(without\x20a\x20tunnel)','RfPge','oyZcp','TobQP','nnmBw','HeHHu','buffer','should\x20include\x20redirect\x20delays\x20in\x20the\x20timeout','BiPzw','dRZoS','DAvVU','LMMgy','VTHtn','Redirected\x20request\x20failed:\x20Unsupported\x20protocol\x20about:','POST','KOKZS','nKgQb','sVYcc','http.get\x20to\x20bracketed\x20IPv4\x20address','which\x20can\x20be\x20set\x20globally','KwuAD','toLowerCase','horrQ','PxbAu','3966tPwsRS','PWeVj','hello','rEyDF','0|1|3|2|4|5','hQFCq','RFqXv','qmcDI','Ujxis','pLlOk','uCwjc','QTNbI','MTxBu','EXVCC','port','http://[::1]:3600/a','/b?greeting=hello','WireD','xEQJd','should\x20emit\x20socket\x20events\x20on\x20the\x20returned\x20stream','bchLU','VUUHq','code','dvBNC','EotAM','JQsmI','X-Redirect','zcCBT','oTDsZ','value\x20B','VCycY','12345678','should\x20emit\x20connect\x20events\x20on\x20the\x20returned\x20stream','parse','riquW','JyYft','hFXwq','hiXqP','manxj','dJdcZ','AZVLO','rrJjz','http://localhost:3600/f#mno','/redirect3','wzqwn','aeDdT','JNKkS','ignore\x20beforeRedirect\x20if\x20not\x20a\x20function','lUGGu','a\x20non-empty\x20string','127.0.0.1:3600','UwOPt','absolute','DECoa','FZMfE','lhumy','MgrgK','IfRhW','uses\x20the\x20location\x20host\x20if\x20redirect\x20host\x20is\x20the\x20same','xsLuk','1|4|2|6|5|0|3','removeListener','when\x20data\x20is\x20the\x20empty\x20string\x20without\x20encoding','oCJKm','change\x20request\x20options\x20before\x20redirects','rSVFc','1|2|3|4|0|5','ohhyT','ogLbR','Redirected\x20request\x20failed:\x20custom','should\x20error\x20on\x20an\x20unsupported\x20protocol\x20redirect','IRIKQ','nVWjZ','3|1|0|2|4','lbAKe','OYBGp','eMkSg','vkNUg','flushHeaders','RLdJk','/e#jkl','SyWRo','FScgb','pHHuH','cxzvf','RpnmE','parseInt','ILLuL','GcIkW','Cdpvk','http','setSocketKeepAlive','ApPQF','pfwlA','UzCFs','oSTcN','IUBsi','ZDMcw','Zghrc','qdWEO','http://localhost:3600/a\x20=>\x20http://localhost:3600/b','greeting','liBKE','switch\x20from\x20','XaZqb','zrsyI','aIwqb','dJLRj','bvAkz','should\x20','parsedJson','mXYXq','UxPlk','NCNyy','xkxVP','daDmE','WkgtF','OHHoj','KUlpN','WXtTO','rYdwE','nQbwx','nqPBx','qnKKC','xhVYz','access\x20response\x20header\x20in\x20beforeRedirect','http.get\x20with\x20host\x20option\x20and\x20callback\x20-\x20redirect','https://localhost:3601/b','rtgZp','oEdkG','eScYx','obrNP','ndfpJ','/c#def','QNhPe','iNCDo','goodbye','rkGSF','VLvgo','protocol','handles\x20errors\x20occuring\x20before\x20a\x20socket\x20is\x20established','asPromise','should\x20have\x20timed\x20out','StBCu','oMxCY','XgSFl','TLREK','rkQEe','dyBNJ','2606SIjvaQ','SECfp','yyzdh','30vTpqhD','https://localhost:3601/a','grQrl','FVxcA','QkGUx','umqsF','cKlqj','NkcKV','LyNtk','qJnba','WrimV','JlwdD','hubfM','nIEAX','HDsCz','KVCmH','ChMRU','fVNjc','gUeWE','OCgys','fWnxt','JvASF','Cxqkb','BQCIq','xsiko','aLBDP','YlGiK','LAVVh','uCaZN','hMizk','a\x20non-empty\x20string,\x20an\x20encoding,\x20and\x20a\x20callback','rjItq','VFRnA','method','UFtvP','AFWuf','forEach','Cdwnp','http.get\x20redirecting\x20to\x20IPv4\x20address','BGUNC','4|0|2|1|3','EtEzE','jvSix','TEYAQ','bgHYQ','LBDgw','xXULB','tCiNG','Unexpected\x20error\x20code\x20','MZrVZ','http://localhost:3600/a','/redirect','rdrjS','connect','NqHLi','http://[::1]:3600/f','Agent','dGSdb','LzvPe','INRhS','TvNeC','AMLKC','vPvrN','abort','NEYug','OLlKH','Qyuhn','YcHFn','dVKdA','http.get\x20to\x20IPv4\x20address','itsAtest','npFyN','does\x20not\x20redirect','mBlLk','AIxpm','oaUtl','fNxhJ','vcvFe','sjWnl','headers','_addRequest','socket\x20event\x20should\x20emit\x20with\x20socket','GFtRJ','HbFJX','xddRH','iYRyh','KMhyR','Socket','mNJjA','gwDRS','aoMrv','uGhco','HfUvp','Omagf','http.get\x20with\x20options\x20object\x20and\x20callback\x20-\x20no\x20redirect','LxGkZ','mymfg','mDqUu','pFcfd','SrzRa','EbEXi','rNket','the\x20empty\x20string','cZsIT','daHtE','GztYh','kNobD','should\x20support\x20piping\x20into\x20request\x20stream\x20with\x20redirects','should\x20obey\x20a\x20`maxBodyLength`\x20property','SIZQB','header-b','keeps\x20the\x20header\x20when\x20redirected\x20to\x20the\x20same\x20host','siIoC','UZyGI','ylHgM','oUzvF','BWtuj','mfxFh','out','kSbxu','8660971vQhmAA','lEfXg','when\x20the\x20client\x20passes\x20an\x20header\x20named\x20','followRedirects','status','xCrBn','ofVBB','http://[127.0.0.1]:3600/b','vlhwh','HYWmW','ZoUNJ','ICMgF','OUQUT','KNTsR','start','fneKw','BkBMQ','uSUnq','should\x20support\x20piping\x20into\x20request\x20stream\x20with\x20explicit\x20Content-Length\x20with\x20redirects','HTTP/1.1\x20301\x20Moved\x20Permanently\x0d\x0a','CSuVT','aYTNF','kVjhi','zoOFH','VUrag','nndXS','ZXlKa','iYmEj','UAhMf','abort\x20request\x20chain\x20after\x20throwing\x20an\x20error','NRPZR','IODqR','uqPkX','equal','header-a','pcYEt','iKxyG','ugokH','ewIKP','aqwJT','(none)','ieZRa','EajBk','MGyAJ','ERR_FR_TOO_MANY_REDIRECTS','sYUrh','fNqfX','WsNlf','RtAzQ','RPrZQ','oprKK','WjtGl','BxORj','testheader','PzKBe','FDDLG','EiVKa','dWJbw','lXOPB','should\x20provide\x20setNoDelay','IZpLp','UJWYc','ZIgeK','iwDMq','vgACn','http://localhost:3600/r0','qypYI','passes\x20the\x20request\x20method\x20to\x20beforeRedirect','rsVwH','Vdmkk','teuwo','hbsqi','http://example.org/','cause','http://localhost:3600/f','json','Jszpu','jDAes','uses\x20the\x20existing\x20host\x20header\x20if\x20redirect\x20host\x20is\x20relative','setNoDelay','express','JSVAB','tgugs','KaNPH','PLVQu','pQDYU','unexpected\x20response','XIgcJ','BlEbR','nzaHZ','emit','addRequest','JRTDk','vgAGF','CMUQZ','CMayN','TsOuP','iiOOC','rlPvZ','localhost:3600','writeHead','lxYVJ','/a?xyz','CgbwX','Maximum\x20number\x20of\x20redirects\x20exceeded','UvBAo','href','rdqCL','wzQkt','tmbpT','wrVtg','aborted','hYcaD','http.get\x20with\x20string\x20and\x20callback\x20-\x20no\x20redirect','BCEeO','aIoOf','ClGST','loSbh','wJEJS','xJpGs','RWLGj','AhOoS','xICcY','gBotO','Lcsca','ZwQPx','vQiuy','http.get\x20with\x20options\x20object\x20and\x20callback\x20-\x20redirect','BlCAW','fQjQQ','zowXd','pOtqv','UecMd','hYCsI','SIJBu','xyliO','HWVkQ','./util','CQqak','WSMFI','cWTNg','jWQyS','ToNnr','VGxen','gCCJK','VcslA','sdXRc','MeoVn','http://localhost:3600/redirect','gnjye','IzsES','qNZJB','then','clears\x20timeouts\x20after\x20a\x20successful\x20response','./server','arpOr','ZTeJV','gObXI','niokO','ETAwm','should\x20provide\x20setTimeout','asfdT','http://127.0.0.1:3600/f','http://localhost:3600/c','VSUNy','oerGw','FMdek','localhost','bUPMj','mwicm','Request\x20body\x20larger\x20than\x20maxBodyLength\x20limit','RadEh','wbchW','EKpDo','Mdtjo','bUTvH','vRXkH','cViQW','BCkhf','ZrKAk','aHpAT','uDIKH','http://localhost:3600/r21','qyhdX','oJYCY','write','EQeEj','ZLowN','http://[localhost]:3600/a','zRGaL','oylCH','SdpiQ','http://localhost:3600/timeout','YEkJk','Cookie','tick','eMOmr','hpeMd','hostname','foNOv','kWwyx','toSAN','BwzRA','xwNjw','TSFcm','EgoVL','otherhost.com','UsEfh','http.get\x20to\x20IPv6\x20address','mCJQH','cYzSO','iWtMh','response','0|4|3|6|5|7|2|1','eKYBj','should\x20provide\x20connection','overrides\x20existing\x20timeouts','pgqUD','ROPGs','EkEzm','skip','assets/ca.crt','data','[127.0.0.1]:3600','hMWlQ','connection','set\x20as\x20an\x20option\x20on\x20an\x20individual\x20request','\x20=>\x20','mppAM','Did\x20not\x20use\x20','uwEJN','ERR_STREAM_WRITE_AFTER_END','jzERS','_requests','when\x20redirecting\x20with\x20status\x20code\x20','sqxGP','trackRedirects','ixJnv','bjWwF','AwsfL','YeDNI','NXJIS','324000dsQMZw','message','bhXrt','install','http://localhost:3600/b\x20=>\x20http://localhost:3600/c','oDHuW','1808UwFFeM','lkQGv','OSotq','QFgHz','text/plain;\x20charset=utf-8','rTWrc','http://localhost:3600/data','kWTpp','LfFrD','PUT','CKiqX','aDDLX','http.get\x20with\x20URL\x20object\x20and\x20callback\x20-\x20redirect','pathname','KmPkM','QZZuI','JYBJr','other','XwfJQ','lkYCZ','vIlUC','url','omnNV','errors\x20on\x20write\x20after\x20end','LWARZ','PsXil','http://localhost:3601/b','rBzXP','dBiLu','YHQcb','FwdXn','ypEzd','bxHPk','HkFZo','VOgTx','HsFYn','yes','qIuyG','FxEuU','DmBTP','jOlZt','pipe','dTyPu','IpWbH','push','LcwuQ','bqaGV','KBgeM','sdLsU','BpFxo','RMxyU','http://[localhost]:3600/b','tOAvz','LrUPq','UQlVs','jGMwc','pHKby','number','resolve','statusCode','rPHVu','GET','should\x20support\x20writing\x20into\x20request\x20stream\x20without\x20redirects','input','hYUYf','fail','EqXvm','should\x20wait\x20for\x20an\x20explicit\x20call\x20to\x20end','orntN','aAeVw','bKWwK','aeDsf','Lcqbd','(http\x20->\x20https\x20->\x20http)','drops\x20the\x20header\x20when\x20redirected\x20from\x20HTTPS\x20to\x20HTTP','XNbgF','UPygd','KoqeQ','hWyNX','JiQGX','Dszwm','cJjzt','should\x20provide\x20setSocketKeepAlive','obqle','hCtwi','sjUXy','ubBgC','0|3|1|4|5|2','http://localhost:3600/a?xyz','AZhFX','writing\x20invalid\x20data','readFileSync','pbqEQ','RGvuB','AGNbP','eBlFh','NcgfW','assets/input.txt','ilTmz','PnutK','YrzJr','TTfDo','shbgG','kuEOx','OgkWV','iKfnJ','EacFd','XMXFp','sub.localhost','bar','YWRpG','Unsupported\x20protocol\x20about:','assign','uoRaB','sekBQ','qKzII','QebFV','gkiPs','when\x20the\x20followRedirects\x20option\x20is\x20set\x20to\x20false','removeHeader','MkNOg','ThBSw','ERR_FR_REDIRECTION_FAILURE','138341hRYGLm','fIrAX','socket','vlKEI','SBIqZ','KIBJr','QFenp','/r0','IkElA','KPpPO','sMXlj','my-header','ccBpR','jGbAX','ODPud','jagPs','MKiLp','CfoMQ','QmppG','http://localhost:3600/redirect1','setHeader','3|2|1|4|0','NCZgx','EEmry','auapD','should\x20follow\x20redirects\x20over\x20https','IcdDA','DrtcY','error','http://[127.0.0.1]:3600/a','TyeGQ','test','frusO','net','utf8','WegmZ','DHxHO','zwyrF','HxeKD','pUZQT','dANcx','when\x20set\x20to\x20true','ZWOaF','lziTn','eXrgF','AhHUj','FITqg','undefined','http.get\x20to\x20bracketed\x20hostname','http.get\x20redirecting\x20to\x20bracketed\x20hostname','mEkLG','783VbQuhm','EOfwx','uuzZG','assets/localhost.crt','JNBpU','/timeout','qUbCw','the\x20header\x20value','hABKT','when\x20data\x20is\x20the\x20empty\x20string\x20with\x20encoding','ZghLP','PkXSs','AXsfu','pnEJN','mLlQv','/f#mno','https:','tBGgg','Proxy-Authorization','IIWGH','getHeader','eAigT','ezrYh','Vrmvg','dFidZ','SdUKs','ecCjj','ptEzs','a\x20non-empty\x20string\x20and\x20a\x20callback','AaKoC','emits\x20an\x20error\x20when\x20the\x20request\x20fails\x20for\x20another\x20reason','RQrab','WcuYP','byteLength','YXPeH','DELETE','1|0|2|3|4','lsNIM','dhYlr','WRdZt','(http\x20->\x20about)','TMQym','aFJES','jpROt','HbwQF','post','ZFVmo','bZWfa','11614368MTwuIY','uninstall','EbfDX','fMpHP','QVgTf','should\x20drop\x20the\x20entity\x20and\x20associated\x20headers','UFeIx','ApfBW','qIKuz','query','lOCfB','content-length','http://localhost:3602/b','tvHEV','maxBodyLength','mvGmN','http://localhost:3600/b','WKtfo','WPEHa','CXUfC','delay','nJvYf','Ugsaw','QEGke','UmAat','uargy','oaJYE','NsliA','LNFTY','plQfn','1|6|4|0|3|2|5','RuZFL','qZJDr','endsWith','strictEqual','4|5|6|0|1|3|2|7','iRWjG','FcYkJ','when\x20switching\x20from\x20POST\x20to\x20GET','iPCCI','bwzNc','bkvuH','RSfBf','uijul','[127.0.0.1]','lmJAc','WbNBQ','HfPWa','vHshR','qbhAs','FujJW','xSdPK','rOVhj','WRkIu','should\x20handle\x20cross\x20protocol\x20redirects\x20','NkxTH','EYWqN','zbWDT','idZhn','VQzcO','cADqV','UrUVW','should\x20obey\x20a\x20`maxRedirects`\x20property','uMEmv','path','GBBxa','tKosr','neqjc','Dlahj','http://localhost:36002/b','xxcKo','should\x20timeout\x20on\x20the\x20final\x20request','yLWcD','Ywftv','IHZaM','redirected\x20request\x20should\x20have\x20been\x20aborted','dTAdx','itsAtest/b','AfziE','http://[::1]:3600/b','WPuGm','SfckZ','yxGor','zIGQM','HUstj','lfOiy','SqgEF','KUFGj','destroy','ignores\x20it\x20when\x20null','VJbgc','mzwCw','DVfmk','assert','hMpSV','KNlIA','MWQKW','hpPFt','should\x20allow\x20aborting','YebKv','responseUrl','Rppmx','append\x20new\x20header\x20with\x20every\x20redirect','CPsZk','HuYlT','DWoGC','Kevud','2165823ZcEAib','hBPQj','qUzFn','RsqMg','eoqUu','pSmKB','NNbOs','esZAW','HEAD','XAzrW','zNoqU','BHZTu','eHaoU','UhXDK','svePk','gcGfp','fVkTd','http://localhost:3600/d','http.get\x20to\x20bracketed\x20IPv4\x20address\x20specified\x20as\x20hostname','BiDPj','redirect\x20to\x20URL\x20with\x20fragment','FBCkI','KktLv','VyGVl','FypjN','qFkof','puGLR','Authorization','http.get\x20with\x20string\x20and\x20callback\x20-\x20redirect','IXNST','redirects\x20to\x20proper\x20URL\x20when\x20Location\x20header\x20is\x20','CKElE','pcLlu','beforeRedirect','sJQCN','NNySy','ngfVh','HGHgD','http://sub.localhost:3600/b','qvLlB','redirectsTo','NxhpL','XDpaC','gicpf','Fjqoq','qYrZR','HIBBf','EUbqm','stringify','should\x20honor\x20query\x20params\x20in\x20redirects','RlOOR','hRjAF','keeps\x20the\x20header\x20when\x20redirected\x20to\x20a\x20subdomain','set\x20globally,\x20on\x20write','should\x20provide\x20removeHeader','eELFU','BBBAM','XRwDi','Vcyuu','Ssaxi','jwioC','https','2|1|0|4|3|6|5','aqWXM','length','NpYwC','jvaKW','Redirected\x20request\x20failed:\x20no\x20redirects!','zaenn','ERR_FR_MAX_BODY_LENGTH_EXCEEDED','AbXgI','bfKDC','http://127.0.0.1:3600/b','KhdzW','zTHor','yFFwL','TzDfb','lWHer','rwlrx','ijlkN','bFHVK','sets\x20a\x20timeout\x20when\x20the\x20socket\x20already\x20exists','0|6|1|2|3|5|4','IBibR','deepEqual','KgXvj','OTaxd','IllqE','GgeKG','concatJson','10hkwiiS','QSjGC','ymkgk','kpiYR','rkDsq','hFFZL','ECONNREFUSED','rhiNE','MhwPf','PofLB','TRwZD','GRYTR','EAwzi','xjGPq','write\x20after\x20end','http://localhost:3600/b?greeting=hello','XDbMI','eoqIo','nLOPp','LYsXT','pgJSX','keeps\x20the\x20header\x20when\x20redirected\x20to\x20the\x20same\x20host\x20via\x20header','CJQhC','GLAPr','WJjHX','dzslJ','drops\x20the\x20header\x20when\x20redirected\x20to\x20a\x20different\x20host','a\x20callback','version','cwiiA','TvAsh','my\x20value','nHvgs','should\x20track\x20redirects','paYSt','egJHd','yoHBM','DFoyZ','value','http://localhost:3600/r22'];_0x1bf9=function(){return _0x5ef9ae;};return _0x1bf9();}