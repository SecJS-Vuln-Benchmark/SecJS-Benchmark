const _0x13f819=_0x30b0;(function(_0x52eed2,_0x9b610b){const _0x59fe70=_0x30b0,_0x360e11=_0x52eed2();while(!![]){try{const _0x39aae0=-parseInt(_0x59fe70(0x1bc))/0x1+parseInt(_0x59fe70(0x1c9))/0x2*(-parseInt(_0x59fe70(0x1eb))/0x3)+-parseInt(_0x59fe70(0x1d8))/0x4*(-parseInt(_0x59fe70(0x1ea))/0x5)+-parseInt(_0x59fe70(0x20b))/0x6*(parseInt(_0x59fe70(0x1e3))/0x7)+parseInt(_0x59fe70(0x1c0))/0x8+-parseInt(_0x59fe70(0x1c4))/0x9*(-parseInt(_0x59fe70(0x1ed))/0xa)+-parseInt(_0x59fe70(0x1b4))/0xb*(-parseInt(_0x59fe70(0x1f9))/0xc);if(_0x39aae0===_0x9b610b)break;else _0x360e11['push'](_0x360e11['shift']());}catch(_0x3e4639){_0x360e11['push'](_0x360e11['shift']());}}}(_0x4d5a,0x733b9));function _0x30b0(_0x42b329,_0x171552){const _0x4d5a76=_0x4d5a();return _0x30b0=function(_0x30b0bd,_0x1563ce){_0x30b0bd=_0x30b0bd-0x1b4;let _0xf00f4d=_0x4d5a76[_0x30b0bd];return _0xf00f4d;},_0x30b0(_0x42b329,_0x171552);}const express=require('express'),router=express[_0x13f819(0x1fb)](),fs=require('fs'),path=require(_0x13f819(0x20c)),fileUpload=require('express-fileupload'),detect=require(_0x13f819(0x1ec)),userController=require(_0x13f819(0x1d9)),UPLOAD_PATH_BASE=path[_0x13f819(0x1f0)](__dirname,'..',_0x13f819(0x1f4)),FRONT_END=process[_0x13f819(0x1ce)][_0x13f819(0x1e1)],IMAGE_PATH=process[_0x13f819(0x1ce)][_0x13f819(0x1cf)],imageUploadPath=UPLOAD_PATH_BASE+'/'+FRONT_END+IMAGE_PATH,maxSize=process[_0x13f819(0x1ce)][_0x13f819(0x20f)],maxSizeText=process[_0x13f819(0x1ce)][_0x13f819(0x1e5)];router[_0x13f819(0x1fe)](fileUpload()),router[_0x13f819(0x1ca)](_0x13f819(0x1c1))[_0x13f819(0x1d3)](async function(_0x5a71b0,_0x4006f1){const _0x4d702b=_0x13f819;userController[_0x4d702b(0x1fd)](_0x5a71b0,_0x4006f1);}),router[_0x13f819(0x1ca)]('/')[_0x13f819(0x1f2)](async function(_0x3d81d0,_0x25ad19){const _0x784c05=_0x13f819;userController[_0x784c05(0x1c3)](_0x3d81d0,_0x25ad19);})['post'](async function(_0x20a1b0,_0x487588){const _0x5445f0=_0x13f819,_0xa3d1dd={'SWwDc':function(_0x52e7b2,_0x372353){return _0x52e7b2==_0x372353;},'XiExL':'PATCH'};_0x20a1b0[_0x5445f0(0x1f8)][_0x5445f0(0x1e2)]&&_0xa3d1dd[_0x5445f0(0x1b8)](_0x20a1b0[_0x5445f0(0x1f8)][_0x5445f0(0x1e2)],_0xa3d1dd[_0x5445f0(0x1ba)])?userController[_0x5445f0(0x1c3)](_0x20a1b0,_0x487588):userController[_0x5445f0(0x1c7)](_0x20a1b0,_0x487588);}),router['route'](_0x13f819(0x1e9))[_0x13f819(0x1e7)](async function(_0xd0fe61,_0xc7557f){const _0x296592=_0x13f819;userController[_0x296592(0x1c6)](_0xd0fe61,_0xc7557f);}),router[_0x13f819(0x1ca)]('/uploadProfilePicture')[_0x13f819(0x1d3)](async(_0x49a225,_0x245e2e)=>{const _0x3f54d7=_0x13f819,_0x5c4eff={'lLWAh':'cqCwr','CvzNB':function(_0x37d48e,_0x2e87f8){return _0x37d48e+_0x2e87f8;},'vQmQp':'There\x20was\x20a\x20error\x20uploading\x20your\x20image\x20for\x20this\x20profile.','vgVdp':_0x3f54d7(0x204),'MmGXy':_0x3f54d7(0x207),'ALggL':_0x3f54d7(0x1e8),'sWZxE':_0x3f54d7(0x1cb),'EPlRb':_0x3f54d7(0x1b5),'jeKqD':_0x3f54d7(0x1b6),'lPCEj':_0x3f54d7(0x209),'XAqpa':function(_0xce2d12,_0x23c403){return _0xce2d12!==_0x23c403;},'BMKuP':function(_0x42917c,_0x52a41f){return _0x42917c>_0x52a41f;},'YYDba':function(_0x3a980e,_0x5f39df){return _0x3a980e!==_0x5f39df;},'vlEhk':_0x3f54d7(0x1ee),'UHnFJ':_0x3f54d7(0x1c8),'KCpsT':_0x3f54d7(0x1bf),'MnUmP':function(_0x545454,_0x305fd4){return _0x545454!==_0x305fd4;},'QSeaU':_0x3f54d7(0x1d6),'PgTKm':_0x3f54d7(0x1ff)},_0x2d5f73=[_0x3f54d7(0x20e),_0x3f54d7(0x20a),_0x3f54d7(0x206)];if(!_0x49a225['files']||Object[_0x3f54d7(0x1dc)](_0x49a225[_0x3f54d7(0x1e6)])[_0x3f54d7(0x208)]===0x0)await userController['saveProfileImage'](_0x49a225,_0x245e2e,_0x49a225['session']['authUser']['email'],_0x5c4eff[_0x3f54d7(0x1f6)]);else{if(_0x5c4eff['XAqpa']('tfZgJ','tfZgJ'))_0x1a6843['createUserForm'](_0x50352e,_0x4a21f4);else{const _0x27534=_0x49a225[_0x3f54d7(0x1e6)][_0x3f54d7(0x1d4)],_0x51440f=Date['now'](),_0x9d9281=detect['fromBuffer'](_0x27534[_0x3f54d7(0x1b7)],function(_0x1809b2,_0x5be0c8){const _0x5181af=_0x3f54d7;if(_0x1809b2){if(_0x5c4eff['lLWAh']===_0x5181af(0x1c5))return eval('1 + 1;'),console[_0x5181af(0x203)](_0x1809b2);else _0x56a901[_0x5181af(0x1c3)](_0x2f17e3,_0x23908f);}return eval('1 + 1;'),_0x5be0c8;});if(_0x5c4eff['BMKuP'](_0x27534[_0x3f54d7(0x1cd)],maxSize)){if(_0x5c4eff['YYDba'](_0x5c4eff[_0x3f54d7(0x1ef)],_0x3f54d7(0x1ee))){const _0x2ed220='1|2|6|0|4|3|5'[_0x3f54d7(0x1d7)]('|');let _0x59988b=0x0;while(!![]){switch(_0x2ed220[_0x59988b++]){case'0':_0x434e7b[_0x3f54d7(0x1f7)][_0x3f54d7(0x1fc)]=_0x5c4eff[_0x3f54d7(0x1f3)];continue;case'1':_0x200597[_0x3f54d7(0x203)](_0x3f54d7(0x1cb)+_0x297db4);continue;case'2':_0x4563d3[_0x3f54d7(0x1f7)][_0x3f54d7(0x1bb)]=_0x3f54d7(0x1e4);continue;case'3':eval('const _0x30d124 = _0x3f54d7;_0x5c4eff[_0x30d124(525)](1, 1);');continue;case'4':_0x57c7e4[_0x3f54d7(0x1df)](0x12f,_0x5c4eff[_0x3f54d7(0x1fa)]);continue;case'5':return;case'6':_0x17a1bb[_0x3f54d7(0x1f7)]['messageTitle']=_0x5c4eff[_0x3f54d7(0x1e0)];continue;}break;}}else console[_0x3f54d7(0x203)](_0x3f54d7(0x1d2)+_0x27534['name']+'\x20size\x20limit\x20has\x20been\x20exceeded'),_0x49a225['session'][_0x3f54d7(0x1bb)]=_0x3f54d7(0x1de),_0x49a225['session'][_0x3f54d7(0x1f1)]=_0x5c4eff[_0x3f54d7(0x1dd)],_0x49a225[_0x3f54d7(0x1f7)][_0x3f54d7(0x1fc)]=_0x5c4eff[_0x3f54d7(0x20d)](_0x5c4eff[_0x3f54d7(0x20d)](_0x3f54d7(0x210),maxSizeText),_0x5c4eff[_0x3f54d7(0x1b9)]),_0x245e2e[_0x3f54d7(0x1df)](0x12f,_0x5c4eff[_0x3f54d7(0x1fa)]);}else!_0x9d9281||!_0x2d5f73[_0x3f54d7(0x1f5)](_0x9d9281[_0x3f54d7(0x1bd)])?_0x5c4eff[_0x3f54d7(0x202)](_0x5c4eff[_0x3f54d7(0x1db)],'kTIHL')?(_0x4bcc4f[_0x3f54d7(0x1f7)]['messageType']=_0x3f54d7(0x1de),_0xfea263[_0x3f54d7(0x1f7)][_0x3f54d7(0x1f1)]=_0x5c4eff[_0x3f54d7(0x1be)],_0x3784d2[_0x3f54d7(0x1f7)][_0x3f54d7(0x1fc)]=_0x3f54d7(0x1ff),_0x279736['redirect'](0x12f,'/profile/manageProfile')):(_0x49a225[_0x3f54d7(0x1f7)][_0x3f54d7(0x1bb)]=_0x3f54d7(0x1de),_0x49a225[_0x3f54d7(0x1f7)][_0x3f54d7(0x1f1)]=_0x3f54d7(0x1e8),_0x49a225[_0x3f54d7(0x1f7)][_0x3f54d7(0x1fc)]=_0x5c4eff[_0x3f54d7(0x205)],_0x245e2e[_0x3f54d7(0x1df)](0x12f,_0x5c4eff[_0x3f54d7(0x1fa)])):await _0x27534['mv'](_0x5c4eff[_0x3f54d7(0x20d)](_0x5c4eff[_0x3f54d7(0x20d)](imageUploadPath,_0x51440f),_0x27534['name']),async _0x42e935=>{const _0x154f1e=_0x3f54d7;if(_0x42e935){console[_0x154f1e(0x203)](_0x5c4eff[_0x154f1e(0x1c2)]+_0x42e935),_0x49a225[_0x154f1e(0x1f7)][_0x154f1e(0x1bb)]='error',_0x49a225['session'][_0x154f1e(0x1f1)]=_0x154f1e(0x207),_0x49a225[_0x154f1e(0x1f7)][_0x154f1e(0x1fc)]=_0x5c4eff[_0x154f1e(0x1f3)],_0x245e2e[_0x154f1e(0x1df)](0x12f,_0x5c4eff['vgVdp']),eval('1 + 1;');return;}else await userController[_0x154f1e(0x1cc)](_0x49a225,_0x245e2e,_0x49a225[_0x154f1e(0x1f7)][_0x154f1e(0x1d5)][_0x154f1e(0x1d1)],_0x5c4eff[_0x154f1e(0x20d)](_0x51440f,_0x27534[_0x154f1e(0x1d0)])),_0x49a225[_0x154f1e(0x1f7)][_0x154f1e(0x1bb)]=_0x5c4eff['EPlRb'],_0x49a225[_0x154f1e(0x1f7)][_0x154f1e(0x1f1)]=_0x5c4eff[_0x154f1e(0x1da)],_0x49a225[_0x154f1e(0x1f7)][_0x154f1e(0x1fc)]=_0x154f1e(0x201),_0x245e2e[_0x154f1e(0x1df)](0x12f,_0x5c4eff[_0x154f1e(0x1fa)]);});}}}),module[_0x13f819(0x200)]=router;function _0x4d5a(){const _0x1bd64a=['success','Image\x20Saved','data','SWwDc','KCpsT','XiExL','messageType','188372hkOqLo','mime','ALggL',',\x20please\x20use\x20a\x20smaller\x20file.','840280FZphAd','/google','sWZxE','updateUser','9GNyUty','cqCwr','reValidateEmail','createUserForm','Image\x20too\x20large!','178GQKzmq','route','Error\x20uploading\x20profile\x20picture\x20:\x20','saveProfileImage','size','env','AVATAR_IMAGE_PATH','name','email','Profile\x20File\x20','post','profileImage','authUser','kTIHL','split','36dkYIjm','../controller/userController','jeKqD','QSeaU','keys','UHnFJ','warn','redirect','MmGXy','FRONT_END_NAME','_method','1713670YCshZs','error','IMAGE_UPLOAD_MAX_SIZE_FRIENDLY_TEXT','files','get','Unsupported\x20filetype','/revalidate/:email','274235MLNQMo','21759dsQgkS','detect-file-type','4774710IvDfzq','leOXR','vlEhk','resolve','messageTitle','patch','vQmQp','../client','includes','lPCEj','session','body','12ipheAE','vgVdp','Router','messageBody','googleSignUp','use','Filetype\x20is\x20unsupported,\x20please\x20use\x20a\x20.png,\x20.jpeg,\x20or\x20.webp\x20file','exports','Profile\x20image\x20saved\x20successfully!','MnUmP','log','/profile/manageProfile','PgTKm','image/webp','Error\x20uploading\x20image!','length','profile-default.png','image/jpeg','12bdOtwz','path','CvzNB','image/png','IMAGE_UPLOAD_MAX_SIZE','Image\x20size\x20was\x20larger\x20then\x20','7913103aNbAov'];_0x4d5a=function(){return _0x1bd64a;};return _0x4d5a();}