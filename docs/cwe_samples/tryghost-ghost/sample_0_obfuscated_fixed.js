function _0x2fa8(_0x259909,_0xfcf8c8){const _0x2a31aa=_0x2a31();return _0x2fa8=function(_0x2fa87c,_0x1193e3){_0x2fa87c=_0x2fa87c-0x1d5;let _0x13981f=_0x2a31aa[_0x2fa87c];return _0x13981f;},_0x2fa8(_0x259909,_0xfcf8c8);}function _0x2a31(){const _0x55746c=['4882014mDWXAw','expires','The\x20invite\x20token\x20is\x20invalid.','validateInviteToken','10703aToJfl','error-invite-expired','The\x20invite\x20token\x20has\x20expired.','2Tjxsao','2585532KeAMoE','UmvrK','error-invalid-room','rid','224664uvNkFz','2831757PxNANd','findOneById','1582mNJCIq','34300HgHPnD','token','51736OYjjxB','293860DefNoO','76JOEztr','maxUses','error-invalid-token','uses','CHoAp','hAALz','FMUVd','now','Error'];_0x2a31=function(){return _0x55746c;};return _0x2a31();}(function(_0x51415d,_0x47671f){const _0x18daa5=_0x2fa8,_0x471797=_0x51415d();while(!![]){try{const _0xc5aadd=-parseInt(_0x18daa5(0x1ec))/0x1+-parseInt(_0x18daa5(0x1e7))/0x2*(-parseInt(_0x18daa5(0x1ed))/0x3)+parseInt(_0x18daa5(0x1d7))/0x4*(parseInt(_0x18daa5(0x1d6))/0x5)+parseInt(_0x18daa5(0x1e8))/0x6+parseInt(_0x18daa5(0x1ef))/0x7*(parseInt(_0x18daa5(0x1d5))/0x8)+parseInt(_0x18daa5(0x1e0))/0x9+-parseInt(_0x18daa5(0x1f0))/0xa*(parseInt(_0x18daa5(0x1e4))/0xb);if(_0xc5aadd===_0x47671f)break;else _0x471797['push'](_0x471797['shift']());}catch(_0x44ad8b){_0x471797['push'](_0x471797['shift']());}}}(_0x2a31,0xe3e43));import{Meteor}from'meteor/meteor';import{Invites,Rooms}from'../../../models';export const validateInviteToken=_0x593915=>{const _0x2ec749=_0x2fa8,_0x157368={'hAALz':function(_0x47c299,_0x5a5258){return _0x47c299!==_0x5a5258;},'ztawe':_0x2ec749(0x1e3),'FMUVd':_0x2ec749(0x1ea),'CHoAp':function(_0x17da57,_0xd3eacc){return _0x17da57<=_0xd3eacc;},'QLSIK':_0x2ec749(0x1e5),'UmvrK':function(_0x454d6e,_0x565d6e){return _0x454d6e>_0x565d6e;}};if(!_0x593915||_0x157368[_0x2ec749(0x1dc)](typeof _0x593915,'string'))throw new Meteor['Error'](_0x2ec749(0x1d9),_0x2ec749(0x1e2),{'method':_0x157368['ztawe'],'field':'token'});const _0x48f5c1=Invites[_0x2ec749(0x1ee)](_0x593915);if(!_0x48f5c1)throw new Meteor[(_0x2ec749(0x1df))]('error-invalid-token',_0x2ec749(0x1e2),{'method':_0x2ec749(0x1e3),'field':_0x2ec749(0x1f1)});const _0x25f4f4=Rooms[_0x2ec749(0x1ee)](_0x48f5c1[_0x2ec749(0x1eb)],{'fields':{'_id':0x1,'name':0x1,'fname':0x1,'t':0x1,'prid':0x1}});if(!_0x25f4f4)throw new Meteor['Error'](_0x157368[_0x2ec749(0x1dd)],_0x2ec749(0x1e2),{'method':_0x2ec749(0x1e3),'field':'rid'});if(_0x48f5c1[_0x2ec749(0x1e1)]&&_0x157368[_0x2ec749(0x1db)](_0x48f5c1[_0x2ec749(0x1e1)],Date[_0x2ec749(0x1de)]()))throw new Meteor[(_0x2ec749(0x1df))](_0x157368['QLSIK'],_0x2ec749(0x1e6),{'method':'validateInviteToken','field':'expires'});if(_0x157368[_0x2ec749(0x1e9)](_0x48f5c1[_0x2ec749(0x1d8)],0x0)&&_0x48f5c1[_0x2ec749(0x1da)]>=_0x48f5c1['maxUses'])throw new Meteor[(_0x2ec749(0x1df))](_0x2ec749(0x1e5),_0x2ec749(0x1e6),{'method':'validateInviteToken','field':_0x2ec749(0x1d8)});return{'inviteData':_0x48f5c1,'room':_0x25f4f4};};