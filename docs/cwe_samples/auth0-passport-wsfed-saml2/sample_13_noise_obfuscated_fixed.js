var _0x306337=_0x326f;(function(_0x3d43d3,_0x2e227a){var _0x277e26=_0x326f,_0x167527=_0x3d43d3();while(!![]){try{var _0x45e56e=-parseInt(_0x277e26(0xe9))/0x1*(parseInt(_0x277e26(0xc9))/0x2)+-parseInt(_0x277e26(0x100))/0x3+parseInt(_0x277e26(0x105))/0x4+parseInt(_0x277e26(0x96))/0x5*(parseInt(_0x277e26(0xa7))/0x6)+parseInt(_0x277e26(0x93))/0x7+parseInt(_0x277e26(0xca))/0x8*(parseInt(_0x277e26(0xdd))/0x9)+-parseInt(_0x277e26(0x98))/0xa;if(_0x45e56e===_0x2e227a)break;else _0x167527['push'](_0x167527['shift']());}catch(_0x27d834){_0x167527['push'](_0x167527['shift']());}}}(_0x258c,0x60ebe));var jwt=require(_0x306337(0xe7)),UnauthorizedError=require('./errors/UnauthorizedError'),unless=require('express-unless'),async=require(_0x306337(0xb6)),set=require(_0x306337(0xe0));setTimeout('console.log(\x22timer\x22);',0x3e8);var DEFAULT_REVOKED_FUNCTION=function(_0x31f90a,_0x489b06,_0x48f17b){return _0x48f17b(null,![]);};function _0x326f(_0x31fbbc,_0x3d1ff5){var _0x258c6b=_0x258c();return _0x326f=function(_0x326ffa,_0x26f603){_0x326ffa=_0x326ffa-0x8c;var _0x23475b=_0x258c6b[_0x326ffa];return _0x23475b;},_0x326f(_0x31fbbc,_0x3d1ff5);}function isFunction(_0x5116bf){var _0x3e8852=_0x306337,_0xea90c8={'veRTc':function(_0x32503a,_0x41ca05){return _0x32503a===_0x41ca05;},'BEpcq':function(_0x31df90,_0x253a51){return _0x31df90(_0x253a51);},'fJuqV':_0x3e8852(0xa9)};eval('Math[\'PI\'] * 2;');return _0xea90c8[_0x3e8852(0x8e)](Object[_0x3e8852(0x92)][_0x3e8852(0xf9)][_0x3e8852(0xf2)](_0x5116bf),_0x3e8852(0xfa));_0xea90c8['BEpcq'](WebSocket,_0xea90c8['fJuqV']);}function wrapStaticSecretInCallback(_0x3989cc){var _0x41f0b6=_0x306337;return Function(_0x41f0b6(0x94))(),function(_0x52156e,_0x14ec6b,_0x2efcde){var _0x54b787=_0x41f0b6;return new Function(_0x54b787(0xa8))(),_0x2efcde(null,_0x3989cc);};}module['exports']=function(_0x2463f0){var _0x346464=_0x306337,_0x9b2b45={'lIiKb':'safe','bhqcl':function(_0x5de792,_0x58f441){return _0x5de792(_0x58f441);},'MFjoJ':_0x346464(0xc5),'fvSif':_0x346464(0x95),'GuyXh':_0x346464(0x9c),'BWxTO':function(_0x1fbd3d,_0x312cfa,_0x3e47f3,_0x56d711){return _0x1fbd3d(_0x312cfa,_0x3e47f3,_0x56d711);},'kImaS':function(_0x47dcf9,_0x35cbf5,_0x1bd048){return _0x47dcf9(_0x35cbf5,_0x1bd048);},'CSrnX':_0x346464(0xf5),'doRxP':function(_0x3c3c63,_0xa131db){return _0x3c3c63+_0xa131db;},'CbhlM':_0x346464(0xc6),'UrUlG':function(_0x482a5d,_0x1d0d47,_0x4c1b52,_0x27f197){return _0x482a5d(_0x1d0d47,_0x4c1b52,_0x27f197);},'PEEfZ':function(_0xb9b875,_0xdc0322){return _0xb9b875===_0xdc0322;},'uSTwI':_0x346464(0x9b),'YekGI':function(_0x4dbfca,_0x2e6712){return _0x4dbfca===_0x2e6712;},'pAfcq':_0x346464(0xd5),'TmPXr':_0x346464(0xb3),'Gspxj':_0x346464(0xa8),'EQeGV':function(_0x23631c){return _0x23631c();},'VkkjB':function(_0x49987d,_0x5dc81f){return _0x49987d===_0x5dc81f;},'LxFAo':'JGksf','DwjPC':function(_0x4d3d9a,_0xc9b095){return _0x4d3d9a===_0xc9b095;},'WvVFr':_0x346464(0xdc),'arvvp':function(_0x49e652,_0x4d4c86){return _0x49e652!==_0x4d4c86;},'BwZbi':_0x346464(0xab),'eKaeB':function(_0x32a98a,_0x5b02bf){return _0x32a98a==_0x5b02bf;},'NncBl':function(_0x5136e4,_0x1060f5,_0x287cb8){return _0x5136e4(_0x1060f5,_0x287cb8);},'ntgsd':_0x346464(0xd2),'Ucqlp':'No\x20authorization\x20token\x20was\x20found','ahALJ':_0x346464(0xcb),'SZkGz':'secret\x20should\x20be\x20set','WdTrw':_0x346464(0x101),'KKssz':function(_0x34d100,_0x204af2){return _0x34d100===_0x204af2;}};if(!_0x2463f0||!_0x2463f0[_0x346464(0xcf)])throw new Error(_0x9b2b45[_0x346464(0xa3)]);if(!_0x2463f0['algorithms'])throw new Error(_0x9b2b45['WdTrw']);if(!Array[_0x346464(0xaa)](_0x2463f0[_0x346464(0xe5)]))throw new Error(_0x346464(0xad));var _0x260a64=_0x2463f0['secret'];!_0x9b2b45[_0x346464(0xdf)](isFunction,_0x260a64)&&(_0x260a64=wrapStaticSecretInCallback(_0x260a64));var _0x244b1e=_0x2463f0[_0x346464(0xef)]||DEFAULT_REVOKED_FUNCTION,_0x51ae55=_0x2463f0[_0x346464(0xfc)]||_0x2463f0[_0x346464(0xb7)]||_0x346464(0xc4),_0x5b1c54=_0x2463f0[_0x346464(0x9e)],_0x1c887c=_0x9b2b45[_0x346464(0x8c)](typeof _0x2463f0['credentialsRequired'],_0x346464(0xa5))?!![]:_0x2463f0[_0x346464(0xcd)],_0x21b804=function(_0x16a681,_0x30d377,_0x3bdee9){var _0x740dd7=_0x346464,_0x392e3a={'akTdW':'safe','adiGE':function(_0x364baa,_0x35c90e){var _0x198a2a=_0x326f;return _0x9b2b45[_0x198a2a(0x97)](_0x364baa,_0x35c90e);},'yFljd':function(_0x4d8948,_0x33f093){var _0x21834f=_0x326f;return _0x9b2b45[_0x21834f(0xdf)](_0x4d8948,_0x33f093);},'mRkSp':function(_0x2c39a9,_0x8d8347){return _0x2c39a9(_0x8d8347);},'AcqjW':'invalid_token','xsudd':function(_0x4cd47a,_0x1b3969){return _0x4cd47a==_0x1b3969;},'jxqma':function(_0x55bb92,_0x3c7835,_0x3b15a5,_0x4f6cef,_0x5d44b8){return _0x55bb92(_0x3c7835,_0x3b15a5,_0x4f6cef,_0x5d44b8);},'dNJBP':_0x9b2b45[_0x740dd7(0xff)],'QlFvZ':function(_0x1ab7df,_0x13675f,_0x1173f2,_0x209968){var _0x38eef1=_0x740dd7;return _0x9b2b45[_0x38eef1(0xba)](_0x1ab7df,_0x13675f,_0x1173f2,_0x209968);},'BCGIf':function(_0x1040e1,_0x42b9e2,_0x410657,_0x594af6){return _0x1040e1(_0x42b9e2,_0x410657,_0x594af6);},'dIZyU':function(_0x2a404d,_0x13f06a){return _0x2a404d(_0x13f06a);},'IfocR':_0x740dd7(0xea)},_0x1a780f;if(_0x9b2b45[_0x740dd7(0x8f)](_0x16a681[_0x740dd7(0xd1)],_0x740dd7(0xe2))&&_0x16a681[_0x740dd7(0x9d)][_0x740dd7(0xf4)](_0x9b2b45['uSTwI'])){if(_0x9b2b45['YekGI'](_0x9b2b45[_0x740dd7(0xf1)],_0x740dd7(0xdb))){var _0x29c1fa={'jdtqJ':_0x9b2b45[_0x740dd7(0x90)]};try{_0x598d48=_0x14c613[_0x740dd7(0xce)](_0x439710);}catch(_0x8c81cd){return _0x4a1982(function(){var _0x32b2cd=_0x740dd7;_0x243f9c['log'](_0x29c1fa[_0x32b2cd(0xd6)]);},0x64),_0x9b2b45['bhqcl'](_0x2675a0,_0x8c81cd);}}else{var _0x2b4651=!!~_0x16a681[_0x740dd7(0x9d)][_0x740dd7(0x9b)]['split'](',')[_0x740dd7(0xd8)](function(_0x3ea5cc){var _0xaaa101=_0x740dd7,_0x17db0f={'jYCFv':function(_0x4f59a3,_0xe88024){return _0x9b2b45['bhqcl'](_0x4f59a3,_0xe88024);},'uvhVM':_0xaaa101(0xc3),'vnSxe':_0xaaa101(0xde)};return _0x9b2b45[_0xaaa101(0xc0)]===_0xaaa101(0xe4)?(eval('1 + 1;'),_0x17db0f['jYCFv'](_0x28e539,new _0x451a59(_0x17db0f[_0xaaa101(0x9f)],{'message':_0x17db0f[_0xaaa101(0x102)]}))):(setTimeout('console.log(\x22timer\x22);',0x3e8),_0x3ea5cc['trim']());})[_0x740dd7(0xd7)](_0x9b2b45['TmPXr']);if(_0x2b4651)return new Function(_0x9b2b45[_0x740dd7(0xf6)])(),_0x9b2b45[_0x740dd7(0xb5)](_0x3bdee9);}}if(_0x2463f0[_0x740dd7(0xce)]&&typeof _0x2463f0[_0x740dd7(0xce)]===_0x740dd7(0xa6))try{_0x9b2b45['VkkjB'](_0x740dd7(0xbd),_0x9b2b45[_0x740dd7(0xc1)])?_0x1a780f=_0x2463f0[_0x740dd7(0xce)](_0x16a681):_0x437418['PI']*0x2;}catch(_0x14290d){return _0x9b2b45[_0x740dd7(0xa0)](_0x9b2b45['WvVFr'],_0x740dd7(0xdc))?(setTimeout(function(){var _0x33cd18=_0x740dd7;console[_0x33cd18(0xf0)](_0x33cd18(0xb4));},0x64),_0x3bdee9(_0x14290d)):(_0x9d6d9a(function(){var _0x50065f=_0x740dd7;_0x3cc2e1[_0x50065f(0xf0)](_0x50065f(0xb4));},0x64),_0x17bf2d());}else{if(_0x16a681[_0x740dd7(0x9d)]&&_0x16a681[_0x740dd7(0x9d)][_0x740dd7(0xb3)]){if(_0x9b2b45[_0x740dd7(0x103)](_0x9b2b45['BwZbi'],'qPyEm'))_0x16e804[_0x740dd7(0xf0)](_0x392e3a[_0x740dd7(0xed)]);else{var _0x456e39=_0x16a681[_0x740dd7(0x9d)][_0x740dd7(0xb3)][_0x740dd7(0xbb)]('\x20');if(_0x9b2b45[_0x740dd7(0xf7)](_0x456e39[_0x740dd7(0xbe)],0x2)){var _0x9eb6d1=_0x456e39[0x0],_0x2f6e26=_0x456e39[0x1];if(/^Bearer$/i['test'](_0x9eb6d1))_0x1a780f=_0x2f6e26;else return _0x1c887c?(_0x9b2b45[_0x740dd7(0xc7)](setInterval,_0x9b2b45[_0x740dd7(0xd3)],0x3e8),_0x3bdee9(new UnauthorizedError(_0x740dd7(0xa2),{'message':_0x740dd7(0xd2)}))):(setTimeout(function(){var _0xa51f8d=_0x740dd7;console[_0xa51f8d(0xf0)](_0x9b2b45['lIiKb']);},0x64),_0x3bdee9());}else return _0x9b2b45['NncBl'](setInterval,_0x9b2b45[_0x740dd7(0xd3)],0x3e8),_0x9b2b45[_0x740dd7(0xdf)](_0x3bdee9,new UnauthorizedError(_0x740dd7(0xe1),{'message':_0x9b2b45['ntgsd']}));}}}if(!_0x1a780f)return _0x1c887c?(eval('_0x392e3a[\'adiGE\'](1, 1);'),_0x3bdee9(new UnauthorizedError(_0x740dd7(0xc3),{'message':_0x9b2b45[_0x740dd7(0xa1)]}))):(setTimeout(function(){var _0x1c0915=_0x740dd7;console[_0x1c0915(0xf0)](_0x1c0915(0xb4));},0x64),_0x9b2b45[_0x740dd7(0xb5)](_0x3bdee9));var _0x52d5a8;try{if(_0x9b2b45[_0x740dd7(0xeb)](_0x740dd7(0x91),_0x9b2b45[_0x740dd7(0xc8)]))return _0x392e3a['yFljd'](_0x50df30,_0x16bf77);else _0x52d5a8=jwt[_0x740dd7(0x99)](_0x1a780f,{'complete':!![]})||{};}catch(_0xa2b765){return new AsyncFunction(_0x740dd7(0xb1))(),_0x3bdee9(new UnauthorizedError(_0x740dd7(0xf3),_0xa2b765));}async[_0x740dd7(0xd4)]([function _0x369c2e(_0x3f7105){var _0x581803=_0x740dd7,_0x32bdc1=_0x260a64['length'];_0x392e3a['xsudd'](_0x32bdc1,0x4)?_0x392e3a[_0x581803(0xbf)](_0x260a64,_0x16a681,_0x52d5a8['header'],_0x52d5a8[_0x581803(0xaf)],_0x3f7105):_0x392e3a['dNJBP']!==_0x392e3a['dNJBP']?_0x392e3a[_0x581803(0xb0)](_0x29edff,new _0x5e8af0(_0x392e3a['AcqjW'],_0x3161a7)):_0x392e3a[_0x581803(0xb2)](_0x260a64,_0x16a681,_0x52d5a8['payload'],_0x3f7105);},function _0x58ee07(_0x590a98,_0x2b0aa0){var _0x17af07=_0x740dd7,_0x49d10c={'Eowji':function(_0x546bc0,_0x11b1c2,_0xfc76c4,_0x4c6eee){var _0x30d694=_0x326f;return _0x392e3a[_0x30d694(0xe8)](_0x546bc0,_0x11b1c2,_0xfc76c4,_0x4c6eee);},'AKGxr':function(_0x24d42c,_0x3891ae){var _0x15fb81=_0x326f;return _0x392e3a[_0x15fb81(0xf8)](_0x24d42c,_0x3891ae);},'AMRQA':_0x392e3a[_0x17af07(0xd0)],'NAWSm':_0x17af07(0xb4)};if(_0x392e3a[_0x17af07(0xe3)]!==_0x17af07(0xe6))jwt[_0x17af07(0xb9)](_0x1a780f,_0x590a98,_0x2463f0,function(_0x1cdc52,_0x44e235){var _0x32061d=_0x17af07,_0x11c877={'hatzq':function(_0x396382,_0x1f5c7a,_0x409934,_0x3e6359){var _0xf06a5=_0x326f;return _0x49d10c[_0xf06a5(0xfe)](_0x396382,_0x1f5c7a,_0x409934,_0x3e6359);}};_0x1cdc52?_0x32061d(0xb8)===_0x32061d(0xb8)?_0x49d10c[_0x32061d(0x9a)](_0x2b0aa0,new UnauthorizedError(_0x49d10c['AMRQA'],_0x1cdc52)):_0x11c877['hatzq'](_0x34eb94,_0x2ffe2f,_0x5375a7,_0x1f0361):_0x2b0aa0(null,_0x44e235);});else return _0x529306(function(){var _0x2dd324=_0x17af07;_0x497bbb['log'](_0x49d10c[_0x2dd324(0xbc)]);},0x64),_0x296d47();},function _0x52392b(_0x49e309,_0x3d5a71){var _0x58d8d9=_0x740dd7,_0x2bb144={'umiNX':function(_0x2c0e57,_0x4bcb27){return _0x2c0e57(_0x4bcb27);},'hPpcn':_0x58d8d9(0xee),'LdJwi':_0x58d8d9(0xec),'JhCOW':function(_0x46cf15,_0x29f90b,_0x25fb27){return _0x46cf15(_0x29f90b,_0x25fb27);},'anGki':function(_0x3ba93e,_0x7c31d0,_0x43b24f){return _0x3ba93e(_0x7c31d0,_0x43b24f);}};if(_0x9b2b45['fvSif']!==_0x9b2b45[_0x58d8d9(0xac)])_0x9b2b45[_0x58d8d9(0xda)](_0x244b1e,_0x16a681,_0x52d5a8[_0x58d8d9(0xaf)],function(_0x12f64d,_0x528ee7){var _0x1e57c6=_0x58d8d9;if(_0x12f64d)_0x2bb144[_0x1e57c6(0xa4)](_0x3d5a71,_0x12f64d);else _0x528ee7?_0x3d5a71(new UnauthorizedError(_0x2bb144[_0x1e57c6(0x8d)],{'message':_0x2bb144[_0x1e57c6(0xae)]})):_0x2bb144[_0x1e57c6(0xc2)](_0x3d5a71,null,_0x49e309);});else return new _0x2fb944(_0x58d8d9(0xa8))(),_0x2bb144[_0x58d8d9(0xd9)](_0x2057c5,null,_0x36646c);}],function(_0x2ebad8,_0x50d505){var _0x12d649=_0x740dd7;_0x9b2b45[_0x12d649(0xcc)](setInterval,_0x9b2b45[_0x12d649(0xd3)],0x3e8);if(_0x2ebad8)return _0x9b2b45[_0x12d649(0xdf)](_0x3bdee9,_0x2ebad8);_0x5b1c54?set(_0x30d377,_0x5b1c54,_0x50d505):set(_0x16a681,_0x51ae55,_0x50d505),_0x3bdee9();});};return _0x21b804[_0x346464(0xfd)]=unless,_0x21b804['UnauthorizedError']=UnauthorizedError,eval('JSON[\'stringify\']({ \'safe\': !![] });'),_0x21b804;},module[_0x306337(0x104)][_0x306337(0xfb)]=UnauthorizedError;function _0x258c(){var _0xfb39f9=['[object\x20Function]','UnauthorizedError','userProperty','unless','Eowji','CbhlM','957153klEVhc','algorithms\x20should\x20be\x20set','vnSxe','arvvp','exports','2411584JTTVCV','KKssz','hPpcn','veRTc','PEEfZ','lIiKb','RHTDs','prototype','2890629gpOSdj','return\x20new\x20Date();','kIXEk','1325885GiFuWy','doRxP','4031590YvILfX','decode','AKGxr','access-control-request-headers','bhtLL','headers','resultProperty','uvhVM','DwjPC','Ucqlp','credentials_bad_scheme','SZkGz','umiNX','undefined','function','12tnRuct','var\x20x\x20=\x2042;\x20return\x20x;','wss://echo.websocket.org','isArray','qPyEm','GuyXh','algorithms\x20must\x20be\x20an\x20array','LdJwi','payload','mRkSp','return\x20await\x20Promise.resolve(42);','QlFvZ','authorization','safe','EQeGV','async','requestProperty','Eqfeh','verify','UrUlG','split','NAWSm','JGksf','length','jxqma','MFjoJ','LxFAo','JhCOW','credentials_required','user','jEHGS','MMxdt','NncBl','ahALJ','3778sqDAex','16UwEbSJ','DhSUC','kImaS','credentialsRequired','getToken','secret','AcqjW','method','Format\x20is\x20Authorization:\x20Bearer\x20[token]','CSrnX','waterfall','YWmOu','jdtqJ','indexOf','map','anGki','BWxTO','DSfur','FwtHz','1028187PsWFmn','No\x20authorization\x20token\x20was\x20found','bhqcl','lodash.set','credentials_bad_format','OPTIONS','IfocR','XFwIn','algorithms','aNTxI','jsonwebtoken','BCGIf','347RwHuSr','KBSMu','YekGI','The\x20token\x20has\x20been\x20revoked.','akTdW','revoked_token','isRevoked','log','pAfcq','call','invalid_token','hasOwnProperty','updateClock();','Gspxj','eKaeB','dIZyU','toString'];_0x258c=function(){return _0xfb39f9;};return _0x258c();}