const _0x4173bd=_0x1afb;(function(_0x294202,_0x592f37){const _0x1e48d3=_0x1afb,_0x50b904=_0x294202();while(!![]){try{const _0x1a25ba=parseInt(_0x1e48d3(0x1a0))/0x1*(-parseInt(_0x1e48d3(0x170))/0x2)+-parseInt(_0x1e48d3(0x16d))/0x3*(parseInt(_0x1e48d3(0x1a1))/0x4)+-parseInt(_0x1e48d3(0x192))/0x5+-parseInt(_0x1e48d3(0x1b4))/0x6+-parseInt(_0x1e48d3(0x1a3))/0x7+parseInt(_0x1e48d3(0x1b0))/0x8*(parseInt(_0x1e48d3(0x1a6))/0x9)+parseInt(_0x1e48d3(0x172))/0xa*(parseInt(_0x1e48d3(0x1b2))/0xb);if(_0x1a25ba===_0x592f37)break;else _0x50b904['push'](_0x50b904['shift']());}catch(_0x468d0d){_0x50b904['push'](_0x50b904['shift']());}}}(_0x4986,0xc9d41));var Parse=require('parse/node')['Parse'],RestQuery=require(_0x4173bd(0x180)),RestWrite=require('./RestWrite'),triggers=require('./triggers');const {enforceRoleSecurity}=require(_0x4173bd(0x188));function checkTriggers(_0x11de84,_0x585f46,_0xf581d){const _0xd68fed=_0x4173bd;return _0xf581d[_0xd68fed(0x189)](_0x4e9f53=>{const _0x250732=_0xd68fed;if(_0x250732(0x187)===_0x250732(0x19a))_0x38e80a[_0x250732(0x18e)][_0x250732(0x175)](_0xd0af6f[_0x250732(0x1b8)]['id']),_0x3da56e[_0x250732(0x18e)]=_0x5430b0['acl'][_0x250732(0x19e)](_0x9df781[_0x250732(0x17c)]);else return triggers[_0x250732(0x196)](_0x11de84,triggers[_0x250732(0x191)][_0x4e9f53],_0x585f46[_0x250732(0x173)]);});}function checkLiveQuery(_0x2b91e2,_0xc234ee){const _0x36522c=_0x4173bd;return _0xc234ee[_0x36522c(0x197)]&&_0xc234ee[_0x36522c(0x197)][_0x36522c(0x177)](_0x2b91e2);}const find=async(_0x2b136a,_0x1047d7,_0x33b8f9,_0x180839,_0x4e1acb,_0x1e39b5,_0x4f39ce)=>{const _0x26c104=_0x4173bd,_0x2ba370=await RestQuery({'method':RestQuery[_0x26c104(0x198)][_0x26c104(0x193)],'config':_0x2b136a,'auth':_0x1047d7,'className':_0x33b8f9,'restWhere':_0x180839,'restOptions':_0x4e1acb,'clientSDK':_0x1e39b5,'context':_0x4f39ce});return _0x2ba370['execute']();},get=async(_0x10eb56,_0x3bb3eb,_0x28b28a,_0xc680d8,_0x27ec12,_0x10017f,_0x3a1e69)=>{const _0x29e019=_0x4173bd;var _0x430bf2={'objectId':_0xc680d8};const _0x13d697=await RestQuery({'method':RestQuery[_0x29e019(0x198)]['get'],'config':_0x10eb56,'auth':_0x3bb3eb,'className':_0x28b28a,'restWhere':_0x430bf2,'restOptions':_0x27ec12,'clientSDK':_0x10017f,'context':_0x3a1e69});return _0x13d697[_0x29e019(0x1ae)]();};function del(_0x5f265a,_0x3a73a6,_0x3ff40a,_0x41fd99,_0x187969){const _0x460f15=_0x4173bd,_0x2de9d8={'XbOJV':function(_0xe767af,_0x3d4275,_0x5b194c,_0x195860){return _0xe767af(_0x3d4275,_0x5b194c,_0x195860);},'DWDbI':function(_0x4f798,_0x45225d,_0x1abed9){return _0x4f798(_0x45225d,_0x1abed9);},'JGjnV':_0x460f15(0x176),'kKIpi':function(_0x1b04a6,_0x2d5e03){return _0x1b04a6!==_0x2d5e03;},'MMgJy':_0x460f15(0x18b),'vNkNu':function(_0x295c67,_0x27c48a,_0xdf42b1,_0x3ce98f){return _0x295c67(_0x27c48a,_0xdf42b1,_0x3ce98f);},'iGMqG':function(_0xc8323e,_0x18621a){return _0xc8323e!==_0x18621a;},'GONnU':_0x460f15(0x1b9),'nKoSV':function(_0xbbc318,_0xb5406e){return _0xbbc318===_0xb5406e;},'CKCGk':_0x460f15(0x171)};if(_0x2de9d8[_0x460f15(0x1a5)](typeof _0x41fd99,_0x460f15(0x18d)))throw new Parse['Error'](Parse[_0x460f15(0x1b7)][_0x460f15(0x1bb)],_0x2de9d8[_0x460f15(0x1a4)]);if(_0x2de9d8[_0x460f15(0x19f)](_0x3ff40a,_0x460f15(0x194))&&_0x3a73a6[_0x460f15(0x16f)]())throw new Parse['Error'](Parse['Error'][_0x460f15(0x174)],_0x2de9d8['CKCGk']);_0x2de9d8['vNkNu'](enforceRoleSecurity,_0x2de9d8['JGjnV'],_0x3ff40a,_0x3a73a6);let _0x225787,_0x49cc1d;return Promise[_0x460f15(0x1af)]()[_0x460f15(0x16a)](async()=>{const _0x16c53e=_0x460f15,_0xe805e4={'JlMDr':function(_0x247a98,_0x498bbe){return _0x247a98===_0x498bbe;}},_0x58d8c9=_0x2de9d8[_0x16c53e(0x19d)](checkTriggers,_0x3ff40a,_0x5f265a,[_0x16c53e(0x19b),'afterDelete']),_0x33e6dd=_0x2de9d8[_0x16c53e(0x1bf)](checkLiveQuery,_0x3ff40a,_0x5f265a);if(_0x58d8c9||_0x33e6dd||_0x3ff40a=='_Session'){const _0x55dc16=await RestQuery({'method':RestQuery[_0x16c53e(0x198)][_0x16c53e(0x17e)],'config':_0x5f265a,'auth':_0x3a73a6,'className':_0x3ff40a,'restWhere':{'objectId':_0x41fd99}});return _0x55dc16[_0x16c53e(0x1ae)]({'op':_0x2de9d8[_0x16c53e(0x1ac)]})[_0x16c53e(0x16a)](_0x4aec5b=>{const _0x425acf=_0x16c53e;if(_0x4aec5b&&_0x4aec5b['results']&&_0x4aec5b[_0x425acf(0x17b)][_0x425acf(0x16e)]){const _0x20794f=_0x4aec5b['results'][0x0];_0x20794f['className']=_0x3ff40a;if(_0xe805e4[_0x425acf(0x18a)](_0x3ff40a,_0x425acf(0x183))&&!_0x3a73a6[_0x425acf(0x17d)]&&!_0x3a73a6[_0x425acf(0x1bd)]){if(!_0x3a73a6['user']||_0x20794f[_0x425acf(0x1b8)][_0x425acf(0x17a)]!==_0x3a73a6['user']['id'])throw new Parse['Error'](Parse[_0x425acf(0x1b7)][_0x425acf(0x19c)],_0x425acf(0x1b6));}var _0xee00bd=_0x5f265a[_0x425acf(0x182)];return _0xee00bd['user'][_0x425acf(0x1ad)](_0x20794f['sessionToken']),_0x225787=Parse['Object'][_0x425acf(0x186)](_0x20794f),triggers['maybeRunTrigger'](triggers[_0x425acf(0x191)][_0x425acf(0x19b)],_0x3a73a6,_0x225787,null,_0x5f265a,_0x187969);}throw new Parse[(_0x425acf(0x1b7))](Parse[_0x425acf(0x1b7)]['OBJECT_NOT_FOUND'],_0x425acf(0x1a7));});}return Promise['resolve']({});})[_0x460f15(0x16a)](()=>{const _0x438f99=_0x460f15;if(!_0x3a73a6[_0x438f99(0x17d)]&&!_0x3a73a6[_0x438f99(0x1bd)])return _0x3a73a6[_0x438f99(0x1be)]();else return;})[_0x460f15(0x16a)](()=>_0x5f265a[_0x460f15(0x195)][_0x460f15(0x178)]())[_0x460f15(0x16a)](_0x468000=>{const _0x5ced03=_0x460f15;if(_0x2de9d8[_0x5ced03(0x179)](_0x2de9d8['MMgJy'],'VXcPf')){if(!_0x2a30f2[_0x5ced03(0x17d)]&&!_0x4595cd[_0x5ced03(0x1bd)])return _0x5b7fd5['getUserRoles']();else return;}else{_0x49cc1d=_0x468000;const _0x2190b3={};return!_0x3a73a6[_0x5ced03(0x17d)]&&!_0x3a73a6[_0x5ced03(0x1bd)]&&(_0x2190b3[_0x5ced03(0x18e)]=['*'],_0x3a73a6[_0x5ced03(0x1b8)]&&(_0x2190b3[_0x5ced03(0x18e)][_0x5ced03(0x175)](_0x3a73a6[_0x5ced03(0x1b8)]['id']),_0x2190b3[_0x5ced03(0x18e)]=_0x2190b3['acl'][_0x5ced03(0x19e)](_0x3a73a6[_0x5ced03(0x17c)]))),_0x5f265a[_0x5ced03(0x195)][_0x5ced03(0x181)](_0x3ff40a,{'objectId':_0x41fd99},_0x2190b3,_0x49cc1d);}})['then'](()=>{const _0x519d8d=_0x460f15,_0x4565f2=_0x49cc1d[_0x519d8d(0x17f)](_0x3ff40a);return _0x5f265a[_0x519d8d(0x197)][_0x519d8d(0x18f)](_0x3ff40a,_0x225787,null,_0x4565f2),triggers[_0x519d8d(0x1ab)](triggers[_0x519d8d(0x191)]['afterDelete'],_0x3a73a6,_0x225787,null,_0x5f265a,_0x187969);})[_0x460f15(0x185)](_0x53fc9c=>{const _0x89428b=_0x460f15;_0x2de9d8[_0x89428b(0x184)](handleSessionMissingError,_0x53fc9c,_0x3ff40a,_0x3a73a6);});}function create(_0xbcdced,_0x5f53ac,_0x1461d3,_0x4b5b06,_0xbe0c46,_0x5435a9){const _0xd85428=_0x4173bd,_0x560597={'zRPuY':_0xd85428(0x1b5)};enforceRoleSecurity(_0x560597[_0xd85428(0x199)],_0x1461d3,_0x5f53ac);var _0x2ddd29=new RestWrite(_0xbcdced,_0x5f53ac,_0x1461d3,null,_0x4b5b06,null,_0xbe0c46,_0x5435a9);return _0x2ddd29['execute']();}function update(_0x14917d,_0x64e443,_0xe6d590,_0x8bd775,_0x43eba2,_0xd70d12,_0x371520){const _0x346234=_0x4173bd,_0xabc327={'uAjEC':function(_0x5b905e,_0x14236d,_0x4db00b,_0xa60bac){return _0x5b905e(_0x14236d,_0x4db00b,_0xa60bac);},'jLcPC':function(_0x48774b,_0x291abb,_0x23a4ce){return _0x48774b(_0x291abb,_0x23a4ce);},'KDutM':function(_0x77356e,_0x17765d){return _0x77356e||_0x17765d;},'zHHqN':function(_0x14ca6c,_0x3d0a04){return _0x14ca6c(_0x3d0a04);},'MdUzr':function(_0x5f41e7,_0x4a5838){return _0x5f41e7!==_0x4a5838;},'cMSLY':function(_0x3752dc,_0x56104b){return _0x3752dc!==_0x56104b;},'BpRou':_0x346234(0x1b1),'hEPCH':_0x346234(0x1a8)};return enforceRoleSecurity(_0xabc327[_0x346234(0x1ba)],_0xe6d590,_0x64e443),Promise['resolve']()[_0x346234(0x16a)](async()=>{const _0x3eca7b=_0x346234,_0x2e7778=_0xabc327[_0x3eca7b(0x16b)](checkTriggers,_0xe6d590,_0x14917d,['beforeSave',_0x3eca7b(0x1aa)]),_0x502a2c=_0xabc327[_0x3eca7b(0x1c0)](checkLiveQuery,_0xe6d590,_0x14917d);if(_0xabc327[_0x3eca7b(0x16c)](_0x2e7778,_0x502a2c)){const _0x468acf=await _0xabc327['zHHqN'](RestQuery,{'method':RestQuery[_0x3eca7b(0x198)][_0x3eca7b(0x17e)],'config':_0x14917d,'auth':_0x64e443,'className':_0xe6d590,'restWhere':_0x8bd775,'runAfterFind':![],'runBeforeFind':![],'context':_0x371520});return _0x468acf[_0x3eca7b(0x1ae)]({'op':'update'});}return Promise['resolve']({});})[_0x346234(0x16a)](({results:_0x26bf76})=>{const _0x5cd696=_0x346234;if(_0xabc327[_0x5cd696(0x1bc)]('FnbnD',_0xabc327[_0x5cd696(0x1b3)])){if(!_0x34d0f6[_0x5cd696(0x1b8)]||_0xabc327['MdUzr'](_0x53a225['user']['objectId'],_0x43a65e[_0x5cd696(0x1b8)]['id']))throw new _0x47ccc8[(_0x5cd696(0x1b7))](_0x5e65c3[_0x5cd696(0x1b7)][_0x5cd696(0x19c)],_0x5cd696(0x1b6));}else{var _0x1dd2d6;return _0x26bf76&&_0x26bf76['length']&&(_0x1dd2d6=_0x26bf76[0x0]),new RestWrite(_0x14917d,_0x64e443,_0xe6d590,_0x8bd775,_0x43eba2,_0x1dd2d6,_0xd70d12,_0x371520,_0x5cd696(0x1a8))[_0x5cd696(0x1ae)]();}})[_0x346234(0x185)](_0x17c340=>{handleSessionMissingError(_0x17c340,_0xe6d590,_0x64e443);});}function handleSessionMissingError(_0x3858d3,_0x36162f,_0x210f97){const _0x300825=_0x4173bd,_0x2340f7={'jTJyN':function(_0xb00a2d,_0x450c7a){return _0xb00a2d===_0x450c7a;}};if(_0x36162f==='_User'&&_0x2340f7[_0x300825(0x190)](_0x3858d3[_0x300825(0x1a9)],Parse[_0x300825(0x1b7)]['OBJECT_NOT_FOUND'])&&!_0x210f97[_0x300825(0x17d)]&&!_0x210f97[_0x300825(0x1bd)])throw new Parse[(_0x300825(0x1b7))](Parse[_0x300825(0x1b7)][_0x300825(0x174)],_0x300825(0x1a2));throw _0x3858d3;}function _0x1afb(_0x88284b,_0x5c3c5d){const _0x4986bb=_0x4986();return _0x1afb=function(_0x1afb3a,_0x17ba84){_0x1afb3a=_0x1afb3a-0x16a;let _0xd8185b=_0x4986bb[_0x1afb3a];return _0xd8185b;},_0x1afb(_0x88284b,_0x5c3c5d);}module[_0x4173bd(0x18c)]={'create':create,'del':del,'find':find,'get':get,'update':update};function _0x4986(){const _0x578923=['9uaKlfH','Object\x20not\x20found\x20for\x20delete.','update','code','afterSave','maybeRunTrigger','JGjnV','del','execute','resolve','6976328eGXoyi','FnbnD','47751KJWsNe','BpRou','392736yxelPU','create','Invalid\x20session\x20token','Error','user','bad\x20objectId','hEPCH','INVALID_JSON','cMSLY','isMaintenance','getUserRoles','DWDbI','jLcPC','then','uAjEC','KDutM','93ymqgpM','length','isUnauthenticated','923194jRbMvZ','Insufficient\x20auth\x20to\x20delete\x20user','11350kXcHSB','applicationId','SESSION_MISSING','push','delete','hasLiveQuery','loadSchema','kKIpi','objectId','results','userRoles','isMaster','get','getClassLevelPermissions','./RestQuery','destroy','cacheController','_Session','vNkNu','catch','fromJSON','PJVFh','./SharedRest','some','JlMDr','VXcPf','exports','string','acl','onAfterDelete','jTJyN','Types','8005455OILcED','find','_User','database','getTrigger','liveQueryController','Method','zRPuY','HcawK','beforeDelete','INVALID_SESSION_TOKEN','XbOJV','concat','nKoSV','1tBYDbw','192364AMcacD','Insufficient\x20auth.','9473954KQoshp','GONnU','iGMqG'];_0x4986=function(){return _0x578923;};return _0x4986();}