function _0x1d0d(_0x29b421,_0xdea334){const _0x477d2f=_0x477d();return _0x1d0d=function(_0x1d0dca,_0x381bef){_0x1d0dca=_0x1d0dca-0x1d4;let _0x32e7c7=_0x477d2f[_0x1d0dca];return _0x32e7c7;},_0x1d0d(_0x29b421,_0xdea334);}(function(_0x2777f7,_0x1bfbdb){const _0x4cceba=_0x1d0d,_0x2b7ae6=_0x2777f7();while(!![]){try{const _0x4410ff=parseInt(_0x4cceba(0x26b))/0x1*(parseInt(_0x4cceba(0x244))/0x2)+parseInt(_0x4cceba(0x22d))/0x3*(-parseInt(_0x4cceba(0x24a))/0x4)+-parseInt(_0x4cceba(0x209))/0x5*(parseInt(_0x4cceba(0x1e6))/0x6)+parseInt(_0x4cceba(0x264))/0x7*(-parseInt(_0x4cceba(0x245))/0x8)+parseInt(_0x4cceba(0x25a))/0x9*(-parseInt(_0x4cceba(0x236))/0xa)+-parseInt(_0x4cceba(0x1e0))/0xb*(parseInt(_0x4cceba(0x248))/0xc)+parseInt(_0x4cceba(0x20c))/0xd;if(_0x4410ff===_0x1bfbdb)break;else _0x2b7ae6['push'](_0x2b7ae6['shift']());}catch(_0x4d2f69){_0x2b7ae6['push'](_0x2b7ae6['shift']());}}}(_0x477d,0xea6b9));import*as _0x520d35 from'trix/config';import{OBJECT_REPLACEMENT_CHARACTER}from'trix/constants';import{TEST_IMAGE_URL,assert,clickToolbarButton,createFile,expandSelection,expectDocument,moveCursor,pasteContent,pressKey,test,testGroup,testIf,triggerEvent,typeCharacters}from'test/test_helper';import{delay,nextFrame}from'../test_helpers/timing_helpers';testGroup('Pasting',{'template':'editor_empty'},()=>{const _0x321e30=_0x1d0d,_0x485eb5={'dYQsX':'abc','mBIHQ':function(_0x3de07a,_0x4a4672){return _0x3de07a(_0x4a4672);},'kWOtK':'ab!c\x0a','kIWYf':_0x321e30(0x260),'sEAXJ':function(_0x431c71,_0x436f26){return _0x431c71(_0x436f26);},'iSvwh':function(_0xf7832a,_0x34b966,_0xbd7b23){return _0xf7832a(_0x34b966,_0xbd7b23);},'CqsAz':function(_0x915788,_0x57e4bc){return _0x915788(_0x57e4bc);},'GVPoe':_0x321e30(0x269),'lpQKt':function(_0x48e3a3,_0x53d683){return _0x48e3a3(_0x53d683);},'lRkvu':_0x321e30(0x273),'mnGaW':function(_0x57c8f6,_0x8a6d9a,_0x4d4c1a){return _0x57c8f6(_0x8a6d9a,_0x4d4c1a);},'lVtKH':_0x321e30(0x256),'hSzur':_0x321e30(0x1f9),'ZpPJC':function(_0x1daac8,_0x2ffc34,_0x444e0f){return _0x1daac8(_0x2ffc34,_0x444e0f);},'nPuGP':_0x321e30(0x219),'EMNsZ':function(_0x52845b,_0x28cd9a){return _0x52845b(_0x28cd9a);},'GbMYi':_0x321e30(0x21a),'qVaqG':'<div>a<br></div>\x0d\x0a<div>b<br></div>\x0d\x0a<div>c<br></div>','tLNgr':function(_0x4f0405,_0x258ef3,_0x3d0014){return _0x4f0405(_0x258ef3,_0x3d0014);},'nLsxm':function(_0x3cf8fe,_0x1117b1){return _0x3cf8fe(_0x1117b1);},'zmhaT':function(_0x394aac,_0xa82e03){return _0x394aac(_0xa82e03);},'pUmZl':function(_0x588c18,_0x3178a9){return _0x588c18(_0x3178a9);},'iZODr':'<meta\x20charset=\x27utf-8\x27>a\x0ab','tkhDJ':'a\x0ab','YxfeR':function(_0x4318dc,_0x467be8){return _0x4318dc(_0x467be8);},'xuXHP':_0x321e30(0x267),'LHAAB':function(_0x223620,_0x7f4c71){return _0x223620(_0x7f4c71);},'Traxc':_0x321e30(0x23e),'sjWxh':_0x321e30(0x242),'ogfPJ':_0x321e30(0x258),'zscAn':_0x321e30(0x23f),'jpGik':_0x321e30(0x223),'GMkep':function(_0x3a7c68,_0x18627a){return _0x3a7c68(_0x18627a);},'AFXcU':function(_0x3985e9,_0x2c20ab){return _0x3985e9(_0x2c20ab);},'DzGrZ':function(_0x455a52,_0x47ca7e,_0x3e560c){return _0x455a52(_0x47ca7e,_0x3e560c);},'jGxoK':_0x321e30(0x263),'lsrTA':_0x321e30(0x24f),'GvBSv':function(_0x3aef83,_0x148f40){return _0x3aef83(_0x148f40);},'Jsdyj':function(_0x34f35c,_0x22be5d){return _0x34f35c(_0x22be5d);},'zXjDC':_0x321e30(0x1d6),'OPwtY':function(_0x496ef0){return _0x496ef0();},'EXvIu':_0x321e30(0x215),'UDmBx':'bullet','UMDTe':'abc\x0a','OHQAF':'two\x0a','gOdWR':function(_0xc0c898,_0x214248){return _0xc0c898(_0x214248);},'ywPOm':function(_0x164276){return _0x164276();},'FCAKF':function(_0x341694,_0x569ff2){return _0x341694(_0x569ff2);},'HuxQF':function(_0x2ed3d5){return _0x2ed3d5();},'yaETZ':function(_0x358563,_0x3f85b9){return _0x358563(_0x3f85b9);},'SBlju':function(_0x33f48d,_0x22fdcb){return _0x33f48d(_0x22fdcb);},'nKPKe':function(_0xe8e018){return _0xe8e018();},'CxWpg':function(_0x1868be){return _0x1868be();},'uVLKk':function(_0x5339b8,_0x5d61fd,_0x46c5f2){return _0x5339b8(_0x5d61fd,_0x46c5f2);},'DBYqw':'<ul><li>a<ul><li>b</li></ul></li></ul>','flPQz':_0x321e30(0x1e2),'FyDlC':function(_0x3cb52d,_0xde7ef1){return _0x3cb52d(_0xde7ef1);},'zKFXF':function(_0x472ce8,_0x3f0a79){return _0x472ce8(_0x3f0a79);},'dCafG':_0x321e30(0x1d5),'rYsBP':function(_0x1f4d89,_0x250712,_0x1e01da){return _0x1f4d89(_0x250712,_0x1e01da);},'KzXgA':function(_0x1cbf28,_0x28e5fd){return _0x1cbf28(_0x28e5fd);},'MVoqN':_0x321e30(0x22f),'rzPPv':_0x321e30(0x233),'lfxQF':function(_0x53777e,_0xa732fc,_0x423357){return _0x53777e(_0xa732fc,_0x423357);},'PtqKw':'paste\x20plain\x20text','hqqMJ':'paste\x20complex\x20html','HfPUG':_0x321e30(0x1e4),'pdCzc':function(_0x1c97a2,_0x36b875,_0x2277d7){return _0x1c97a2(_0x36b875,_0x2277d7);},'PNYZn':_0x321e30(0x278),'pDcaS':'paste\x20unsafe\x20html','TpQkl':_0x321e30(0x25d),'QebGI':_0x321e30(0x21f),'Dfluw':'paste\x20data-trix-attachment\x20encoded\x20embed','tgniM':'prefers\x20formatted\x20html','Qaqgk':function(_0x352da0,_0x54d786,_0x1ed048){return _0x352da0(_0x54d786,_0x1ed048);},'FvaSF':function(_0x5c68e4,_0x2aad2d,_0x331b90){return _0x5c68e4(_0x2aad2d,_0x331b90);},'JDWxp':_0x321e30(0x1ee),'CMFDU':function(_0x33590c,_0x4a61a4,_0xf4d3d4){return _0x33590c(_0x4a61a4,_0xf4d3d4);},'rmirv':function(_0x4a5476,_0x3c789e,_0x1e4e60){return _0x4a5476(_0x3c789e,_0x1e4e60);},'AYESj':_0x321e30(0x22b),'iUbvl':_0x321e30(0x1f2),'tlQrr':_0x321e30(0x26c),'IXvtf':function(_0x5a8ff4,_0x1513ac,_0x4d4c97){return _0x5a8ff4(_0x1513ac,_0x4d4c97);},'bVbJC':function(_0x327ec4,_0x466917){return _0x327ec4===_0x466917;},'kozsm':'paste\x20event\x20with\x20no\x20clipboardData'};_0x485eb5['lfxQF'](test,_0x485eb5[_0x321e30(0x1f7)],async()=>{const _0x27cfb9=_0x321e30;await typeCharacters(_0x485eb5['dYQsX']),await _0x485eb5['mBIHQ'](moveCursor,'left'),await pasteContent(_0x27cfb9(0x219),'!'),_0x485eb5[_0x27cfb9(0x1df)](expectDocument,_0x485eb5[_0x27cfb9(0x203)]);}),test(_0x321e30(0x23a),async()=>{const _0x1beccd=_0x321e30;await typeCharacters(_0x485eb5[_0x1beccd(0x250)]),await moveCursor(_0x1beccd(0x273)),await pasteContent(_0x485eb5[_0x1beccd(0x20f)],'&lt;'),_0x485eb5[_0x1beccd(0x1df)](expectDocument,_0x1beccd(0x1d9));}),test(_0x485eb5[_0x321e30(0x238)],async()=>{const _0x2649d4=_0x321e30;await _0x485eb5[_0x2649d4(0x221)](typeCharacters,_0x485eb5[_0x2649d4(0x250)]),await moveCursor('left'),await _0x485eb5[_0x2649d4(0x243)](pasteContent,_0x2649d4(0x260),_0x2649d4(0x1f5)),_0x485eb5[_0x2649d4(0x1e3)](expectDocument,_0x485eb5['GVPoe']);}),test(_0x485eb5[_0x321e30(0x1d4)],async()=>{const _0x529f38=_0x321e30;await typeCharacters('abc'),await _0x485eb5[_0x529f38(0x234)](moveCursor,_0x485eb5[_0x529f38(0x259)]),await expandSelection({'direction':_0x485eb5[_0x529f38(0x259)],'times':0x2}),await _0x485eb5[_0x529f38(0x20e)](pasteContent,_0x529f38(0x260),_0x485eb5[_0x529f38(0x24d)]),assert[_0x529f38(0x22c)](0x1),expectDocument(_0x485eb5[_0x529f38(0x217)]);}),test('paste\x20plain\x20text\x20with\x20CRLF\x20',async()=>{const _0x3876dd=_0x321e30;await _0x485eb5[_0x3876dd(0x251)](pasteContent,_0x485eb5[_0x3876dd(0x1e8)],_0x3876dd(0x265)),_0x485eb5[_0x3876dd(0x206)](expectDocument,_0x485eb5['GbMYi']);}),_0x485eb5['pdCzc'](test,_0x321e30(0x1f4),async()=>{const _0x3f14d5=_0x321e30;await pasteContent(_0x3f14d5(0x260),_0x485eb5[_0x3f14d5(0x1e7)]),expectDocument(_0x3f14d5(0x21a));}),test(_0x485eb5[_0x321e30(0x220)],async()=>{const _0x5d8e84=_0x321e30;await _0x485eb5['tLNgr'](pasteContent,_0x485eb5['nPuGP'],_0x5d8e84(0x279)),_0x485eb5[_0x5d8e84(0x234)](expectDocument,'a\x0ab\x0ac\x0a');}),_0x485eb5[_0x321e30(0x251)](test,_0x321e30(0x228),async()=>{const _0x36b81c=_0x321e30;await pasteContent(_0x485eb5[_0x36b81c(0x20f)],_0x36b81c(0x239)),_0x485eb5[_0x36b81c(0x1fb)](expectDocument,_0x36b81c(0x21a));}),_0x485eb5['DzGrZ'](test,_0x485eb5[_0x321e30(0x23b)],async()=>{const _0x49dda2=_0x321e30;window[_0x49dda2(0x26d)]=[];const _0x3e693a={'text/plain':'x','text/html':_0x49dda2(0x246)+TEST_IMAGE_URL+_0x49dda2(0x270)};await pasteContent(_0x3e693a),await delay(0x14),assert[_0x49dda2(0x257)](window[_0x49dda2(0x26d)],[]),delete window[_0x49dda2(0x26d)];}),_0x485eb5[_0x321e30(0x243)](test,'paste\x20unsafe\x20html\x20with\x20noscript',async()=>{const _0x4bf5c2=_0x321e30;window[_0x4bf5c2(0x26d)]=[];const _0x4e652b={'text/plain':'x','text/html':_0x4bf5c2(0x1dc)};await pasteContent(_0x4e652b),await delay(0x14),assert[_0x4bf5c2(0x257)](window[_0x4bf5c2(0x26d)],[]),delete window[_0x4bf5c2(0x26d)];}),test(_0x485eb5['TpQkl'],async()=>{const _0x4a4be0=_0x321e30;window[_0x4a4be0(0x26d)]=[];const _0x1ebf29={'text/plain':'x','text/html':_0x4a4be0(0x20d)};await _0x485eb5[_0x4a4be0(0x1df)](pasteContent,_0x1ebf29),await delay(0x14),assert[_0x4a4be0(0x257)](window['unsanitized'],[]),delete window[_0x4a4be0(0x26d)];}),_0x485eb5[_0x321e30(0x21d)](test,_0x485eb5['QebGI'],async()=>{const _0x34025d=_0x321e30;window[_0x34025d(0x26d)]=[];const _0x168f91={'text/plain':'x','text/html':_0x34025d(0x22a)};await pasteContent(_0x168f91),await delay(0x14),assert[_0x34025d(0x257)](window[_0x34025d(0x26d)],[]),delete window['unsanitized'];}),_0x485eb5[_0x321e30(0x251)](test,'paste\x20data-trix-attachment\x20encoded\x20mathml',async()=>{const _0xd2e425=_0x321e30;window[_0xd2e425(0x26d)]=[];const _0x487adc={'text/plain':'x','text/html':'\x20\x20\x20\x20\x20\x20copy<div\x20data-trix-attachment=\x22{&quot;contentType&quot;:&quot;text/html5&quot;,&quot;content&quot;:&quot;&lt;math&gt;&lt;mtext&gt;&lt;table&gt;&lt;mglyph&gt;&lt;style&gt;&lt;img\x20src=x\x20onerror=window.unsanitized.push(1)&gt;&lt;/style&gt;XSS\x20POC&quot;}\x22></div>me\x0a\x20\x20\x20\x20\x20\x20'};await _0x485eb5[_0xd2e425(0x25e)](pasteContent,_0x487adc),await _0x485eb5[_0xd2e425(0x1ea)](delay,0x14),assert[_0xd2e425(0x257)](window[_0xd2e425(0x26d)],[]),delete window[_0xd2e425(0x26d)];}),_0x485eb5[_0x321e30(0x254)](test,_0x485eb5['Dfluw'],async()=>{const _0x31736e=_0x321e30;window[_0x31736e(0x26d)]=[];const _0x474b69={'text/plain':'x','text/html':'\x20\x20\x20\x20\x20\x20copy<div\x20data-trix-attachment=\x22{&quot;contentType&quot;:&quot;text/html5&quot;,&quot;content&quot;:&quot;&lt;embed\x20src=\x27window.unsanitized.push(1)\x27&gt;XSS\x20POC&quot;}\x22></div>me\x0a\x20\x20\x20\x20\x20\x20'};await pasteContent(_0x474b69),await delay(0x14),assert[_0x31736e(0x257)](window[_0x31736e(0x26d)],[]),delete window[_0x31736e(0x26d)];}),test(_0x321e30(0x247),async()=>{const _0x2b52c3=_0x321e30,_0x2f82b4={'text/html':_0x485eb5['iZODr'],'text/plain':_0x485eb5[_0x2b52c3(0x207)]};await pasteContent(_0x2f82b4),_0x485eb5[_0x2b52c3(0x26a)](expectDocument,_0x2b52c3(0x1da));}),_0x485eb5['tLNgr'](test,_0x485eb5[_0x321e30(0x24e)],async()=>{const _0x45950f=_0x321e30,_0x2bef78={'text/html':_0x485eb5[_0x45950f(0x227)],'text/plain':_0x45950f(0x216)};await pasteContent(_0x2bef78),_0x485eb5[_0x45950f(0x201)](expectDocument,_0x45950f(0x1ef));}),_0x485eb5['Qaqgk'](test,_0x321e30(0x275),async()=>{const _0x38ed27=_0x321e30;await typeCharacters('a'),await pasteContent(_0x485eb5[_0x38ed27(0x25f)],_0x38ed27(0x242)),assert[_0x38ed27(0x268)]([0x1,0x12],{'href':'http://example.com'}),expectDocument('ahttp://example.com\x0a');}),_0x485eb5[_0x321e30(0x222)](test,_0x485eb5['JDWxp'],async()=>{const _0x47e391=_0x321e30,_0x5e74cf={'URL':_0x485eb5['sjWxh'],'public.url-name':_0x485eb5['ogfPJ'],'text/plain':_0x47e391(0x242)};await _0x485eb5[_0x47e391(0x1e3)](pasteContent,_0x5e74cf),assert[_0x47e391(0x268)]([0x0,0x7],{'href':_0x47e391(0x242)}),expectDocument(_0x485eb5['zscAn']);}),_0x485eb5[_0x321e30(0x237)](test,_0x321e30(0x214),async()=>{const _0xc6372e=_0x321e30,_0x2dcc69={'URL':_0xc6372e(0x21b)};await pasteContent(_0x2dcc69),assert[_0xc6372e(0x268)]([0x0,0x17],{}),expectDocument(_0x485eb5[_0xc6372e(0x277)]);}),_0x485eb5[_0x321e30(0x25b)](test,_0x321e30(0x1ed),async()=>{const _0x36cd3a=_0x321e30,_0xfb0837={'URL':_0x485eb5[_0x36cd3a(0x26f)],'public.url-name':'\x20\x20\x20Example\x20from\x20\x0a\x20link\x20\x20around\x0a\x0anested\x20\x0aelements\x20','text/plain':_0x36cd3a(0x242)};await _0x485eb5[_0x36cd3a(0x1f8)](pasteContent,_0xfb0837),assert[_0x36cd3a(0x268)]([0x0,0x28],{'href':_0x485eb5[_0x36cd3a(0x26f)]}),_0x485eb5[_0x36cd3a(0x1e3)](expectDocument,_0x36cd3a(0x226));}),test(_0x321e30(0x1e1),async()=>{const _0x2dcf6e=_0x321e30;await typeCharacters('abc'),await _0x485eb5[_0x2dcf6e(0x27a)](clickToolbarButton,{'attribute':_0x2dcf6e(0x263)}),await _0x485eb5[_0x2dcf6e(0x1ff)](pasteContent,'text/html',_0x2dcf6e(0x272));const _0x532f64=getDocument();assert[_0x2dcf6e(0x232)](_0x532f64[_0x2dcf6e(0x266)](),0x2);let _0x5d63d0=_0x532f64[_0x2dcf6e(0x204)](0x0);assert[_0x2dcf6e(0x257)](_0x5d63d0[_0x2dcf6e(0x1f1)](),[_0x485eb5[_0x2dcf6e(0x271)]],assert[_0x2dcf6e(0x232)](_0x5d63d0['toString'](),_0x485eb5[_0x2dcf6e(0x212)])),_0x5d63d0=_0x532f64[_0x2dcf6e(0x204)](0x1),assert[_0x2dcf6e(0x257)](_0x5d63d0[_0x2dcf6e(0x1f1)](),[_0x485eb5[_0x2dcf6e(0x271)],'code']),assert[_0x2dcf6e(0x232)](_0x5d63d0[_0x2dcf6e(0x23c)](),_0x2dcf6e(0x261));}),_0x485eb5[_0x321e30(0x240)](test,_0x321e30(0x1eb),async()=>{const _0x48390e=_0x321e30;await _0x485eb5['GvBSv'](clickToolbarButton,{'attribute':_0x48390e(0x1f6)}),await _0x485eb5[_0x48390e(0x262)](typeCharacters,_0x48390e(0x229)),await pasteContent(_0x48390e(0x260),_0x485eb5['zXjDC']);const _0x344241=_0x485eb5[_0x48390e(0x230)](getDocument);assert['equal'](_0x344241[_0x48390e(0x266)](),0x3);let _0x5bba1c=_0x344241[_0x48390e(0x204)](0x0);assert['deepEqual'](_0x5bba1c['getAttributes'](),[_0x485eb5[_0x48390e(0x1db)],_0x485eb5[_0x48390e(0x22e)]]),assert[_0x48390e(0x232)](_0x5bba1c['toString'](),_0x485eb5[_0x48390e(0x224)]),_0x5bba1c=_0x344241['getBlockAtIndex'](0x1),assert['deepEqual'](_0x5bba1c['getAttributes'](),[_0x48390e(0x215),_0x485eb5['UDmBx']]),assert[_0x48390e(0x232)](_0x5bba1c[_0x48390e(0x23c)](),'one\x0a'),_0x5bba1c=_0x344241[_0x48390e(0x204)](0x2),assert[_0x48390e(0x257)](_0x5bba1c[_0x48390e(0x1f1)](),[_0x485eb5[_0x48390e(0x1db)],_0x48390e(0x1f6)]),assert[_0x48390e(0x232)](_0x5bba1c[_0x48390e(0x23c)](),_0x485eb5[_0x48390e(0x255)]);}),test(_0x485eb5[_0x321e30(0x205)],async()=>{const _0x3c56a1=_0x321e30;await _0x485eb5[_0x3c56a1(0x218)](clickToolbarButton,{'attribute':_0x3c56a1(0x263)}),await _0x485eb5[_0x3c56a1(0x262)](typeCharacters,_0x485eb5[_0x3c56a1(0x250)]),await pasteContent(_0x485eb5[_0x3c56a1(0x20f)],_0x485eb5[_0x3c56a1(0x26e)]);const _0x3d429c=getDocument();assert[_0x3c56a1(0x232)](_0x3d429c[_0x3c56a1(0x266)](),0x3);let _0x506921=_0x3d429c[_0x3c56a1(0x204)](0x0);assert[_0x3c56a1(0x257)](_0x506921['getAttributes'](),[_0x485eb5[_0x3c56a1(0x271)]]),assert[_0x3c56a1(0x232)](_0x506921['toString'](),_0x3c56a1(0x229)),_0x506921=_0x3d429c['getBlockAtIndex'](0x1),assert[_0x3c56a1(0x257)](_0x506921[_0x3c56a1(0x1f1)](),[_0x3c56a1(0x263),'bulletList','bullet']),assert[_0x3c56a1(0x232)](_0x506921[_0x3c56a1(0x23c)](),_0x3c56a1(0x208)),_0x506921=_0x3d429c['getBlockAtIndex'](0x2),assert['deepEqual'](_0x506921[_0x3c56a1(0x1f1)](),[_0x485eb5['jGxoK'],_0x485eb5[_0x3c56a1(0x1db)],_0x3c56a1(0x1f6)]),assert['equal'](_0x506921[_0x3c56a1(0x23c)](),_0x3c56a1(0x225));}),test(_0x485eb5[_0x321e30(0x20a)],async()=>{const _0x554415=_0x321e30;await _0x485eb5[_0x554415(0x25e)](clickToolbarButton,{'attribute':_0x554415(0x263)}),await _0x485eb5[_0x554415(0x1e3)](clickToolbarButton,{'attribute':_0x485eb5['UDmBx']}),await _0x485eb5[_0x554415(0x262)](typeCharacters,_0x554415(0x229)),await _0x485eb5['ZpPJC'](pasteContent,_0x554415(0x260),_0x554415(0x1d6));const _0x35f290=_0x485eb5[_0x554415(0x200)](getDocument);assert[_0x554415(0x232)](_0x35f290[_0x554415(0x266)](),0x3);let _0x469676=_0x35f290[_0x554415(0x204)](0x0);assert[_0x554415(0x257)](_0x469676[_0x554415(0x1f1)](),[_0x485eb5[_0x554415(0x271)],_0x485eb5['EXvIu'],'bullet']),assert['equal'](_0x469676[_0x554415(0x23c)](),_0x485eb5[_0x554415(0x224)]),_0x469676=_0x35f290[_0x554415(0x204)](0x1),assert[_0x554415(0x257)](_0x469676['getAttributes'](),[_0x485eb5[_0x554415(0x271)],_0x554415(0x215),_0x554415(0x1f6)]),assert[_0x554415(0x232)](_0x469676[_0x554415(0x23c)](),_0x554415(0x208)),_0x469676=_0x35f290[_0x554415(0x204)](0x2),assert[_0x554415(0x257)](_0x469676['getAttributes'](),[_0x554415(0x263),_0x485eb5[_0x554415(0x1db)],_0x485eb5[_0x554415(0x22e)]]),assert[_0x554415(0x232)](_0x469676[_0x554415(0x23c)](),_0x485eb5['OHQAF']);}),test(_0x485eb5['tlQrr'],async()=>{const _0x391fbb=_0x321e30;await clickToolbarButton({'attribute':_0x485eb5[_0x391fbb(0x22e)]}),await _0x485eb5['FCAKF'](typeCharacters,_0x391fbb(0x1f0)),_0x485eb5[_0x391fbb(0x211)](getSelectionManager)['setLocationRange']({'index':0x0,'offset':0x1}),await nextFrame(),await _0x485eb5[_0x391fbb(0x1fd)](pressKey,'backspace'),await pasteContent(_0x485eb5['kIWYf'],_0x391fbb(0x276));const _0x1f1c26=getDocument();assert[_0x391fbb(0x232)](_0x1f1c26[_0x391fbb(0x266)](),0x3);let _0x2829bf=_0x1f1c26[_0x391fbb(0x204)](0x0);assert[_0x391fbb(0x257)](_0x2829bf[_0x391fbb(0x1f1)](),[_0x485eb5[_0x391fbb(0x1db)],_0x391fbb(0x1f6)]),assert['equal'](_0x2829bf[_0x391fbb(0x23c)](),'a\x0a'),_0x2829bf=_0x1f1c26[_0x391fbb(0x204)](0x1),assert[_0x391fbb(0x257)](_0x2829bf[_0x391fbb(0x1f1)](),[_0x391fbb(0x215),_0x485eb5[_0x391fbb(0x22e)],_0x485eb5['EXvIu'],_0x391fbb(0x1f6)]),assert[_0x391fbb(0x232)](_0x2829bf[_0x391fbb(0x23c)](),'b\x0a'),_0x2829bf=_0x1f1c26['getBlockAtIndex'](0x2),assert[_0x391fbb(0x257)](_0x2829bf['getAttributes'](),[_0x485eb5[_0x391fbb(0x1db)],_0x485eb5[_0x391fbb(0x22e)]]),assert[_0x391fbb(0x232)](_0x2829bf[_0x391fbb(0x23c)](),'zz\x0a');}),test(_0x321e30(0x24c),async()=>{const _0xa7baa2=_0x321e30;await _0x485eb5[_0xa7baa2(0x21e)](clickToolbarButton,{'attribute':_0x485eb5[_0xa7baa2(0x22e)]}),await _0x485eb5[_0xa7baa2(0x20b)](typeCharacters,_0xa7baa2(0x1f0)),_0x485eb5[_0xa7baa2(0x21c)](getSelectionManager)[_0xa7baa2(0x1ec)]({'index':0x0,'offset':0x1}),await _0x485eb5['CxWpg'](nextFrame),await _0x485eb5[_0xa7baa2(0x218)](expandSelection,_0xa7baa2(0x273)),await _0x485eb5[_0xa7baa2(0x210)](pasteContent,_0xa7baa2(0x260),_0x485eb5[_0xa7baa2(0x1fc)]);const _0x284b22=getDocument();assert['equal'](_0x284b22[_0xa7baa2(0x266)](),0x3);let _0x2cf0ff=_0x284b22[_0xa7baa2(0x204)](0x0);assert[_0xa7baa2(0x257)](_0x2cf0ff[_0xa7baa2(0x1f1)](),[_0xa7baa2(0x215),_0x485eb5[_0xa7baa2(0x22e)]]),assert[_0xa7baa2(0x232)](_0x2cf0ff['toString'](),'a\x0a'),_0x2cf0ff=_0x284b22[_0xa7baa2(0x204)](0x1),assert[_0xa7baa2(0x257)](_0x2cf0ff[_0xa7baa2(0x1f1)](),[_0xa7baa2(0x215),_0xa7baa2(0x1f6),_0xa7baa2(0x215),_0xa7baa2(0x1f6)]),assert[_0xa7baa2(0x232)](_0x2cf0ff['toString'](),'b\x0a'),_0x2cf0ff=_0x284b22['getBlockAtIndex'](0x2),assert[_0xa7baa2(0x257)](_0x2cf0ff['getAttributes'](),[_0x485eb5[_0xa7baa2(0x1db)],_0x485eb5['UDmBx']]),assert['equal'](_0x2cf0ff['toString'](),_0x485eb5[_0xa7baa2(0x1fe)]);}),_0x485eb5[_0x321e30(0x1d7)](test,_0x321e30(0x1dd),async()=>{const _0x3c0fef=_0x321e30;await _0x485eb5['GMkep'](clickToolbarButton,{'attribute':_0x485eb5['UDmBx']}),await _0x485eb5['FyDlC'](typeCharacters,'c'),await moveCursor(_0x485eb5[_0x3c0fef(0x259)]),new Function('var\x20x\x20=\x2042;\x20return\x20x;')(),await _0x485eb5['zKFXF'](pressKey,'return'),getSelectionManager()[_0x3c0fef(0x1ec)]({'index':0x0,'offset':0x0}),await nextFrame(),await pasteContent(_0x3c0fef(0x260),_0x485eb5[_0x3c0fef(0x1de)]);const _0x1f987f=_0x485eb5[_0x3c0fef(0x21c)](getDocument);assert[_0x3c0fef(0x232)](_0x1f987f[_0x3c0fef(0x266)](),0x3);let _0x4d9367=_0x1f987f[_0x3c0fef(0x204)](0x0);assert[_0x3c0fef(0x257)](_0x4d9367[_0x3c0fef(0x1f1)](),[_0x3c0fef(0x215),_0x3c0fef(0x1f6)]),assert[_0x3c0fef(0x232)](_0x4d9367[_0x3c0fef(0x23c)](),'a\x0a'),_0x4d9367=_0x1f987f[_0x3c0fef(0x204)](0x1),assert[_0x3c0fef(0x257)](_0x4d9367[_0x3c0fef(0x1f1)](),[_0x485eb5[_0x3c0fef(0x1db)],_0x3c0fef(0x1f6)]),assert[_0x3c0fef(0x232)](_0x4d9367[_0x3c0fef(0x23c)](),'b\x0a'),_0x4d9367=_0x1f987f[_0x3c0fef(0x204)](0x2),assert[_0x3c0fef(0x257)](_0x4d9367[_0x3c0fef(0x1f1)](),[_0x3c0fef(0x215),_0x3c0fef(0x1f6)]),assert[_0x3c0fef(0x232)](_0x4d9367[_0x3c0fef(0x23c)](),'c\x0a');}),_0x485eb5[_0x321e30(0x241)](test,_0x321e30(0x231),async()=>{const _0xdf85ef=_0x321e30;await typeCharacters('a'),await _0x485eb5[_0xdf85ef(0x1d8)](pasteContent,_0xdf85ef(0x1f3),createFile()),await expectDocument('a'+OBJECT_REPLACEMENT_CHARACTER+'\x0a');}),testIf(_0x485eb5[_0x321e30(0x24b)](_0x520d35[_0x321e30(0x249)][_0x321e30(0x25c)](),0x0),_0x485eb5[_0x321e30(0x23d)],async()=>{const _0x4a1ab6=_0x321e30,_0x3e6dc7=_0x4a1ab6(0x1e9)[_0x4a1ab6(0x253)]('|');let _0x1ac341=0x0;while(!![]){switch(_0x3e6dc7[_0x1ac341++]){case'0':await _0x485eb5[_0x4a1ab6(0x202)](typeCharacters,'a');continue;case'1':await nextFrame();continue;case'2':_0x485eb5[_0x4a1ab6(0x274)](expectDocument,_0x4a1ab6(0x229));continue;case'3':document['activeElement'][_0x4a1ab6(0x252)](_0x485eb5[_0x4a1ab6(0x213)],_0x485eb5[_0x4a1ab6(0x1e5)]);continue;case'4':triggerEvent(document[_0x4a1ab6(0x235)],_0x4a1ab6(0x1fa));continue;}break;}});});function _0x477d(){const _0x46d228=['paste\x20html\x20with\x20CRLF\x20','<div>Hello\x20world<br></div><div>This\x20is\x20a\x20test</div>','bullet','PtqKw','GMkep','xc\x0a','paste','nLsxm','DBYqw','yaETZ','flPQz','DzGrZ','ywPOm','LHAAB','GvBSv','kWOtK','getBlockAtIndex','AYESj','EMNsZ','tkhDJ','one\x0a','5LogpbO','iUbvl','SBlju','27761149davBTK','\x20\x20\x20\x20\x20\x20copy<div\x20data-trix-attachment=\x22{&quot;contentType&quot;:&quot;text/anything&quot;,&quot;content&quot;:&quot;&lt;img\x20src=1\x20onerror=window.unsanitized.push(1)&gt;HELLO123&quot;}\x22></div>me\x0a\x20\x20\x20\x20\x20\x20','mnGaW','kIWYf','uVLKk','HuxQF','lsrTA','MVoqN','paste\x20JavaScript\x20URL','bulletList','a\x0ab','hSzur','gOdWR','text/plain','a\x0ab\x0ac\x0a','javascript:alert(\x27XSS\x27)','nKPKe','pdCzc','FCAKF','paste\x20data-trix-attachment\x20unsafe\x20html\x20div\x20overload','PNYZn','sEAXJ','FvaSF','javascript:alert(\x27XSS\x27)\x0a','UMDTe','two\x0a','Example\x20from\x20link\x20around\x20nested\x20elements\x0a','xuXHP','paste\x20html\x20with\x20CR','abc\x0a','\x20\x20\x20\x20\x20\x20<div\x20data-trix-attachment=\x22{&quot;contentType&quot;:&quot;text/html5&quot;,&quot;content&quot;:&quot;<div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><div><a><svg><desc><svg><image><a><desc><svg><image></image></svg></desc></a></image><style><a\x20data-trix-caca=\x27</style><img\x20src=x\x20onerror=window.unsanitized.push(1)>\x27></a></style></svg></desc></svg></a>&quot;}\x22></div>\x0a\x20\x20\x20\x20\x20\x20','paste\x20list\x20into\x20quote','selectedRange','2841mWeckQ','UDmBx','beforeend','OPwtY','paste\x20file','equal','<span>bc</span>','lpQKt','activeElement','10IEcEpI','CMFDU','hqqMJ','<div>a<br></div>\x0d<div>b<br></div>\x0d<div>c<br></div>','paste\x20simple\x20html','pDcaS','toString','kozsm','URL','Example\x0a','rmirv','IXvtf','http://example.com','iSvwh','449648asqpoX','16KdItyl','\x20\x20\x20\x20\x20\x20\x20\x20<img\x20onload=\x22window.unsanitized.push(\x27img.onload\x27);\x22\x20src=\x22','prefers\x20plain\x20text\x20when\x20html\x20lacks\x20formatting','413388wgxGvl','input','1388hNDotf','bVbJC','paste\x20nested\x20list\x20over\x20list\x20item\x20contents','lVtKH','tgniM','abcHello\x20world\x0a','dYQsX','ZpPJC','insertAdjacentHTML','split','tLNgr','OHQAF','<strong>x</strong>','deepEqual','Example','lRkvu','7354773DXJBIE','lfxQF','getLevel','paste\x20data-trix-attachment\x20unsafe\x20html','zmhaT','Traxc','text/html','This\x20is\x20a\x20test\x0a','Jsdyj','quote','1386938DqAJmU','a\x0d\x0ab\x0d\x0ac','getBlockCount','<meta\x20charset=\x27utf-8\x27>a\x0a<strong>b</strong>','textAttributes','abHello\x20world\x0aThis\x20is\x20a\x20test\x0ac\x0a','YxfeR','5KUUzWT','paste\x20nested\x20list\x20into\x20empty\x20list\x20item','unsanitized','zXjDC','sjWxh','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<img\x20onerror=\x22window.unsanitized.push(\x27img.onerror\x27);\x22\x20src=\x22data:image/gif;base64,TOTALLYBOGUS\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<form><math><mtext></form><form><mglyph><style></math><img\x20src\x20onerror=\x22window.unsanitized.push(\x27img.onerror\x27);\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.unsanitized.push(\x27script\x20tag\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20</script>','jGxoK','<div>Hello\x20world<br></div><pre>This\x20is\x20a\x20test</pre>','left','KzXgA','paste\x20URL','<ul><li>a<ul><li>b</li></ul></li></ul>','jpGik','paste\x20plain\x20text\x20with\x20CR','a\x0db\x0dc','AFXcU','HfPUG','<ul><li>a</li><li>b</li></ul>','<ul><li>one</li><li>two</li></ul>','Qaqgk','rYsBP','ab<c\x0a','a\x0ab\x0a','EXvIu','\x20\x20\x20\x20\x20\x20\x20\x20<div><noscript><div\x20class=\x22123</noscript>456<img\x20src=1\x20onerror=window.unsanitized.push(1)//\x22></div></noscript></div>\x0a\x20\x20\x20\x20\x20\x20','paste\x20list\x20into\x20empty\x20block\x20before\x20list','dCafG','mBIHQ','22mONotN','paste\x20complex\x20html\x20into\x20formatted\x20block','zz\x0a','CqsAz','paste\x20html\x20in\x20expanded\x20selection','rzPPv','4130616wtzTSF','qVaqG','nPuGP','0|4|3|1|2','pUmZl','paste\x20list\x20into\x20list','setLocationRange','paste\x20URL\x20with\x20name\x20containing\x20extraneous\x20whitespace','paste\x20URL\x20with\x20name','a\x20b\x0a','y\x0azz','getAttributes','paste\x20list\x20into\x20quoted\x20list','Files'];_0x477d=function(){return _0x46d228;};return _0x477d();}