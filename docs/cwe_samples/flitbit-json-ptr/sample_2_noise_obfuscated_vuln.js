'use strict';const _0x5951e4=_0x152d;(function(_0x23f6bf,_0x4fcd38){const _0x42688=_0x152d,_0xad4e8a=_0x23f6bf();while(!![]){try{const _0x4ac5ae=-parseInt(_0x42688(0x10b))/0x1+-parseInt(_0x42688(0xfb))/0x2*(parseInt(_0x42688(0x125))/0x3)+-parseInt(_0x42688(0x109))/0x4*(parseInt(_0x42688(0x10a))/0x5)+-parseInt(_0x42688(0x104))/0x6+-parseInt(_0x42688(0xff))/0x7*(-parseInt(_0x42688(0x112))/0x8)+-parseInt(_0x42688(0x100))/0x9+parseInt(_0x42688(0x11c))/0xa;if(_0x4ac5ae===_0x4fcd38)break;else _0xad4e8a['push'](_0xad4e8a['shift']());}catch(_0x531671){_0xad4e8a['push'](_0xad4e8a['shift']());}}}(_0x1658,0x7a277));function _0x1658(){const _0x2bc335=['fastify','19423830OcuZWu','end','x-my-header','headers','error','/hello','setHeader','querystring','kSOQe','1320645HdgKKm','unlinkSync','hello\x20world','concat','hello','listen','pYfZw','http','win32','text/plain','2Skizse','address','statusCode','tap','7091jEOEDg','5146866FOYyiw','.socket','createServer','equal','1763010KrNuIK','sdMXi','WNrIo','exit','hello!','395852KHjcba','10YHIUhb','162063PIIAOy','SixpR','from','request\x20proxied','Content-Type','platform','method','1768QxUgOZ','close','unix+http://','server','GET','content-type','url','port','simple-get'];_0x1658=function(){return _0x2bc335;};return _0x1658();}const t=require(_0x5951e4(0xfe)),Fastify=require(_0x5951e4(0x11b)),From=require('..'),fs=require('fs'),querystring=require(_0x5951e4(0x123)),http=require(_0x5951e4(0xf8)),get=require(_0x5951e4(0x11a))[_0x5951e4(0xf4)];process[_0x5951e4(0x110)]===_0x5951e4(0xf9)&&(t['pass'](),process[_0x5951e4(0x107)](0x0));const socketPath=__filename+_0x5951e4(0x101),upstream=_0x5951e4(0x114)+querystring['escape'](socketPath)+'/',instance=Fastify();function _0x152d(_0x39638a,_0x27c675){const _0x1658bf=_0x1658();return _0x152d=function(_0x152d4b,_0x70ebc4){_0x152d4b=_0x152d4b-0xf4;let _0xbd9a88=_0x1658bf[_0x152d4b];return _0xbd9a88;},_0x152d(_0x39638a,_0x27c675);}instance['register'](From,{'base':upstream}),t['plan'](0xa),t['tearDown'](instance[_0x5951e4(0x113)]['bind'](instance));try{fs[_0x5951e4(0x126)](socketPath);}catch(_0x242540){}const target=http[_0x5951e4(0x102)]((_0x1c6358,_0x5b46ca)=>{const _0x16f227=_0x5951e4,_0x5d234e={'SixpR':_0x16f227(0x10e),'sdMXi':_0x16f227(0x116),'pYfZw':_0x16f227(0x108)};t['pass'](_0x5d234e[_0x16f227(0x10c)]),t[_0x16f227(0x103)](_0x1c6358[_0x16f227(0x111)],_0x5d234e[_0x16f227(0x105)]),t['equal'](_0x1c6358[_0x16f227(0x118)],_0x16f227(0x121)),_0x5b46ca[_0x16f227(0xfd)]=0xcd,_0x5b46ca['setHeader'](_0x16f227(0x10f),_0x16f227(0xfa)),_0x5b46ca[_0x16f227(0x122)](_0x16f227(0x11e),_0x5d234e[_0x16f227(0xf7)]),_0x5b46ca[_0x16f227(0x11d)](_0x16f227(0x127));});instance['get']('/',(_0x90927b,_0x5f3123)=>{const _0x1f50fe=_0x5951e4;_0x5f3123[_0x1f50fe(0x10d)](_0x1f50fe(0xf5));}),t['tearDown'](target[_0x5951e4(0x113)]['bind'](target)),instance[_0x5951e4(0xf6)](0x0,_0x5a6820=>{const _0x4d6730=_0x5951e4,_0x46f10a={'kSOQe':_0x4d6730(0x117)};t[_0x4d6730(0x120)](_0x5a6820),target[_0x4d6730(0xf6)](socketPath,_0x4f62b2=>{const _0x3c9be8=_0x4d6730,_0x401360={'UPRps':_0x46f10a[_0x3c9be8(0x124)],'WNrIo':'x-my-header','mJwOp':_0x3c9be8(0x127)};t[_0x3c9be8(0x120)](_0x4f62b2),get('http://localhost:'+instance[_0x3c9be8(0x115)][_0x3c9be8(0xfc)]()[_0x3c9be8(0x119)],(_0x4799e3,_0x133c2e,_0x465c3c)=>{const _0xaf4fb4=_0x3c9be8;t[_0xaf4fb4(0x120)](_0x4799e3),t[_0xaf4fb4(0x103)](_0x133c2e['headers'][_0x401360['UPRps']],_0xaf4fb4(0xfa)),t[_0xaf4fb4(0x103)](_0x133c2e[_0xaf4fb4(0x11f)][_0x401360[_0xaf4fb4(0x106)]],_0xaf4fb4(0x108)),t[_0xaf4fb4(0x103)](_0x133c2e[_0xaf4fb4(0xfd)],0xcd),t[_0xaf4fb4(0x103)](_0x465c3c['toString'](),_0x401360['mJwOp']);});});});