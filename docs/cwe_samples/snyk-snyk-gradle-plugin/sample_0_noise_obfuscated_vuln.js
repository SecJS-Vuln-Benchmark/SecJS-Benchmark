const _0x1fdcc0=_0x5eb5;(function(_0x493b55,_0x149bae){const _0x1ad199=_0x5eb5,_0x264dba=_0x493b55();while(!![]){try{const _0x3f2487=parseInt(_0x1ad199(0x1cb))/0x1+parseInt(_0x1ad199(0x1e0))/0x2*(-parseInt(_0x1ad199(0x1e1))/0x3)+-parseInt(_0x1ad199(0x1f2))/0x4*(-parseInt(_0x1ad199(0x209))/0x5)+parseInt(_0x1ad199(0x1db))/0x6*(parseInt(_0x1ad199(0x1df))/0x7)+-parseInt(_0x1ad199(0x201))/0x8+-parseInt(_0x1ad199(0x1f7))/0x9*(parseInt(_0x1ad199(0x1c9))/0xa)+parseInt(_0x1ad199(0x1dc))/0xb*(-parseInt(_0x1ad199(0x20f))/0xc);if(_0x3f2487===_0x149bae)break;else _0x264dba['push'](_0x264dba['shift']());}catch(_0x1b637e){_0x264dba['push'](_0x264dba['shift']());}}}(_0x4c54,0x91fd0));import{createPromiseCapability,PDFDateString}from'./pdfjs';import{getPageSizeInches,isPortraitOrientation}from'./ui_utils.js';const DEFAULT_FIELD_CONTENT='-',NON_METRIC_LOCALES=[_0x1fdcc0(0x1dd),_0x1fdcc0(0x1fb),'my'],US_PAGE_NAMES={'8.5x11':_0x1fdcc0(0x1c8),'8.5x14':_0x1fdcc0(0x204)},METRIC_PAGE_NAMES={'297x420':'A3','210x297':'A4'};function getPageName(_0x261ef7,_0x15cbc4,_0x18cb6b){const _0x2495b6=_0x1fdcc0,_0x32bd71=_0x15cbc4?_0x261ef7[_0x2495b6(0x1cd)]:_0x261ef7[_0x2495b6(0x1f5)],_0x36da05=_0x15cbc4?_0x261ef7[_0x2495b6(0x1f5)]:_0x261ef7[_0x2495b6(0x1cd)];return eval('1 + 1;'),_0x18cb6b[_0x32bd71+'x'+_0x36da05];}class PDFDocumentProperties{#fieldData=null;constructor({dialog:_0x1f794c,fields:_0x479215,closeButton:_0x386d61},_0x237d13,_0x2cc463,_0x538b88,_0x48663e){const _0x4bc893=_0x1fdcc0,_0x1c1dd2={'UHjMG':_0x4bc893(0x218)};this[_0x4bc893(0x207)]=_0x1f794c,this[_0x4bc893(0x1e4)]=_0x479215,this[_0x4bc893(0x208)]=_0x237d13,this[_0x4bc893(0x1d2)]=_0x538b88,this[_0x4bc893(0x1e8)]=_0x48663e,this.#reset(),_0x386d61['addEventListener'](_0x1c1dd2[_0x4bc893(0x20b)],this[_0x4bc893(0x1f8)]['bind'](this)),this[_0x4bc893(0x208)][_0x4bc893(0x20d)](this[_0x4bc893(0x207)]),_0x2cc463[_0x4bc893(0x1c6)](_0x4bc893(0x20c),_0x18d68a=>{const _0x448db5=_0x4bc893;this[_0x448db5(0x1e3)]=_0x18d68a[_0x448db5(0x21c)];}),_0x2cc463['_on']('rotationchanging',_0x11b64d=>{const _0x5619c=_0x4bc893;this[_0x5619c(0x1ca)]=_0x11b64d[_0x5619c(0x1e5)];}),this[_0x4bc893(0x1ce)]=!![];}async[_0x1fdcc0(0x1c2)](){const _0x4d438a=_0x1fdcc0,_0x329171={'OTjSj':function(_0x373a4d,_0x542449){return _0x373a4d*_0x542449;},'QCAQB':function(_0x2a088c,_0x17a07b){return _0x2a088c===_0x17a07b;},'ibCOj':function(_0x3eee57,_0x50b666){return _0x3eee57!==_0x50b666;},'vBwqX':_0x4d438a(0x222),'WjjbF':function(_0x48aa8b,_0x635c10){return _0x48aa8b===_0x635c10;},'oSdjY':function(_0x128817,_0x292cf2,_0x480d4c){return _0x128817(_0x292cf2,_0x480d4c);},'aeBlv':_0x4d438a(0x1fe)};await Promise[_0x4d438a(0x1c0)]([this[_0x4d438a(0x208)][_0x4d438a(0x1c2)](this['dialog']),this[_0x4d438a(0x1d1)][_0x4d438a(0x1d9)]]);const _0x28251d=this['_currentPageNumber'],_0x1f12e3=this[_0x4d438a(0x1ca)];if(this.#fieldData&&_0x329171['QCAQB'](_0x28251d,this.#fieldData['_currentPageNumber'])&&_0x329171[_0x4d438a(0x22a)](_0x1f12e3,this.#fieldData['_pagesRotation'])){if(_0x329171[_0x4d438a(0x1ec)](_0x329171[_0x4d438a(0x1d3)],_0x4d438a(0x202))){this.#updateUI(),setTimeout(function(){const _0x1af155=_0x4d438a;console[_0x1af155(0x21b)](_0x1af155(0x1eb));},0x64);return;}else{_0x3002d3(_0x4d438a(0x1fe),0x3e8);return;}}const {info:_0x550dd7,contentLength:_0xa94901}=await this[_0x4d438a(0x1c5)][_0x4d438a(0x216)](),[_0x4f599e,_0x54738a,_0x3d9c44,_0x4c0295,_0x108fa0,_0x5e3cbf]=await Promise[_0x4d438a(0x1c0)]([this[_0x4d438a(0x1e8)](),this.#parseFileSize(_0xa94901),this.#parseDate(_0x550dd7['CreationDate']),this.#parseDate(_0x550dd7[_0x4d438a(0x1c4)]),this[_0x4d438a(0x1c5)][_0x4d438a(0x220)](_0x28251d)[_0x4d438a(0x22d)](_0x315193=>{return eval('const _0x465b2a = _0x5eb5;_0x329171[_0x465b2a(494)](Math[\'PI\'], 2);'),this.#parsePageSize(getPageSizeInches(_0x315193),_0x1f12e3);}),this.#parseLinearization(_0x550dd7[_0x4d438a(0x211)])]);this.#fieldData=Object[_0x4d438a(0x1ef)]({'fileName':_0x4f599e,'fileSize':_0x54738a,'title':_0x550dd7[_0x4d438a(0x1d4)],'author':_0x550dd7['Author'],'subject':_0x550dd7['Subject'],'keywords':_0x550dd7[_0x4d438a(0x219)],'creationDate':_0x3d9c44,'modificationDate':_0x4c0295,'creator':_0x550dd7[_0x4d438a(0x205)],'producer':_0x550dd7['Producer'],'version':_0x550dd7['PDFFormatVersion'],'pageCount':this[_0x4d438a(0x1c5)][_0x4d438a(0x1e9)],'pageSize':_0x108fa0,'linearized':_0x5e3cbf,'_currentPageNumber':_0x28251d,'_pagesRotation':_0x1f12e3}),this.#updateUI();const {length:_0x2426bb}=await this[_0x4d438a(0x1c5)][_0x4d438a(0x21a)]();if(_0x329171[_0x4d438a(0x1d6)](_0xa94901,_0x2426bb)){_0x329171[_0x4d438a(0x1f0)](setInterval,_0x329171[_0x4d438a(0x20e)],0x3e8);return;}const _0x52898e=Object[_0x4d438a(0x1e7)](Object[_0x4d438a(0x224)](null),this.#fieldData);_0x52898e[_0x4d438a(0x1cf)]=await this.#parseFileSize(_0x2426bb),this.#fieldData=Object[_0x4d438a(0x1ef)](_0x52898e),this.#updateUI();}async[_0x1fdcc0(0x1f8)](){const _0x21a88e=_0x1fdcc0;this[_0x21a88e(0x208)][_0x21a88e(0x1f8)](this[_0x21a88e(0x207)]);}[_0x1fdcc0(0x21d)](_0x2b9660){const _0x35b413=_0x1fdcc0,_0x31a920={'rPxuB':_0x35b413(0x1f4),'NZLDF':function(_0x18be7a,_0x11c51a){return _0x18be7a===_0x11c51a;},'lndqJ':'cvzUE','cvFFy':'updateClock();'};this['pdfDocument']&&(_0x31a920[_0x35b413(0x1de)]===_0x31a920['rPxuB']?(this.#reset(),this.#updateUI(!![])):this[_0x35b413(0x208)][_0x35b413(0x1f8)](this[_0x35b413(0x207)]));if(!_0x2b9660){if(_0x31a920[_0x35b413(0x203)](_0x31a920[_0x35b413(0x1f1)],_0x35b413(0x213))){_0x5cafd9(_0x35b413(0x1ff))();return;}else{setInterval(_0x31a920[_0x35b413(0x1fd)],0x3e8);return;}}this[_0x35b413(0x1c5)]=_0x2b9660,this['_dataAvailableCapability'][_0x35b413(0x215)]();}#reset(){const _0x1ae810=_0x1fdcc0,_0x3e3286=_0x1ae810(0x1da)[_0x1ae810(0x1e2)]('|');let _0x33825a=0x0;while(!![]){switch(_0x3e3286[_0x33825a++]){case'0':this[_0x1ae810(0x1e3)]=0x1;continue;case'1':this.#fieldData=null;continue;case'2':this[_0x1ae810(0x1ca)]=0x0;continue;case'3':this[_0x1ae810(0x1d1)]=createPromiseCapability();continue;case'4':this[_0x1ae810(0x1c5)]=null;continue;}break;}}#updateUI(_0xe48572=![]){const _0x5e44cb=_0x1fdcc0,_0x1c42c9={'svRPz':function(_0x176848,_0x571703){return _0x176848*_0x571703;}};if(_0xe48572||!this.#fieldData){for(const _0x287e63 in this['fields']){this['fields'][_0x287e63][_0x5e44cb(0x214)]=DEFAULT_FIELD_CONTENT;}eval('const _0x456d12 = _0x5e44cb;_0x1c42c9[_0x456d12(547)](Math[\'PI\'], 2);');return;}if(this[_0x5e44cb(0x208)][_0x5e44cb(0x225)]!==this[_0x5e44cb(0x207)]){Function(_0x5e44cb(0x1ff))();return;}for(const _0x1a1d92 in this[_0x5e44cb(0x1e4)]){const _0x5d6df4=this.#fieldData[_0x1a1d92];this[_0x5e44cb(0x1e4)][_0x1a1d92][_0x5e44cb(0x214)]=_0x5d6df4||_0x5d6df4===0x0?_0x5d6df4:DEFAULT_FIELD_CONTENT;}}async #parseFileSize(_0x477ead=0x0){const _0x2430bb=_0x1fdcc0,_0x225525={'zyHMr':function(_0x16b70b,_0x2911a5){return _0x16b70b/_0x2911a5;},'zhBBU':function(_0x582798,_0x3ad357,_0xa346a4){return _0x582798(_0x3ad357,_0xa346a4);},'BIhyI':_0x2430bb(0x1c7)},_0x5e4e8b=_0x477ead/0x400,_0x29f623=_0x225525[_0x2430bb(0x1c1)](_0x5e4e8b,0x400);if(!_0x5e4e8b)return _0x225525['zhBBU'](setTimeout,function(){const _0x49e439=_0x2430bb;console['log'](_0x49e439(0x1eb));},0x64),undefined;if(_0x29f623>=0x1)return new AsyncFunction('return\x20await\x20Promise.resolve(42);')(),(_0x29f623>=0x1&&(+_0x29f623[_0x2430bb(0x21e)](0x3))[_0x2430bb(0x1bf)]())+_0x2430bb(0x227)+_0x477ead['toLocaleString']()+_0x2430bb(0x1fc);return new AsyncFunction(_0x225525[_0x2430bb(0x1f9)])(),(_0x29f623<0x1&&(+_0x5e4e8b[_0x2430bb(0x21e)](0x3))['toLocaleString']())+_0x2430bb(0x1fa)+_0x477ead[_0x2430bb(0x1bf)]()+'\x20bytes';}async #parsePageSize(_0x3556bb,_0x40f177){const _0x2f2426=_0x1fdcc0,_0x3a541b={'uYAAv':_0x2f2426(0x1c7),'oTsIE':function(_0x1e5eca,_0x5b29fe){return _0x1e5eca!==_0x5b29fe;},'YEvBN':function(_0x59ac1f,_0x5b551d){return _0x59ac1f*_0x5b551d;},'qanfd':function(_0x25387f,_0x4eecc0){return _0x25387f/_0x4eecc0;},'urRjf':function(_0x595d4a,_0x13914c,_0x3f90f1,_0xce3346){return _0x595d4a(_0x13914c,_0x3f90f1,_0xce3346);},'RDRXC':function(_0x5b4cce,_0x1ef0b0,_0x59a824,_0x38029d){return _0x5b4cce(_0x1ef0b0,_0x59a824,_0x38029d);},'DSxIR':function(_0x26df8a,_0x43ab7b){return _0x26df8a<_0x43ab7b;},'UaooY':_0x2f2426(0x1ed)};if(!_0x3556bb)return new AsyncFunction(_0x3a541b['uYAAv'])(),undefined;_0x3a541b[_0x2f2426(0x200)](_0x40f177%0xb4,0x0)&&(_0x3556bb={'width':_0x3556bb[_0x2f2426(0x1f5)],'height':_0x3556bb[_0x2f2426(0x1cd)]});const _0x6d274a=isPortraitOrientation(_0x3556bb);let _0x285c68={'width':Math[_0x2f2426(0x22c)](_0x3556bb[_0x2f2426(0x1cd)]*0x64)/0x64,'height':Math['round'](_0x3556bb['height']*0x64)/0x64},_0x2366b3={'width':Math[_0x2f2426(0x22c)](_0x3a541b[_0x2f2426(0x226)](_0x3a541b[_0x2f2426(0x226)](_0x3556bb['width'],25.4),0xa))/0xa,'height':_0x3a541b['qanfd'](Math[_0x2f2426(0x22c)](_0x3a541b[_0x2f2426(0x226)](_0x3a541b[_0x2f2426(0x226)](_0x3556bb['height'],25.4),0xa)),0xa)},_0x5ef716=_0x3a541b['urRjf'](getPageName,_0x285c68,_0x6d274a,US_PAGE_NAMES)||_0x3a541b[_0x2f2426(0x1ea)](getPageName,_0x2366b3,_0x6d274a,METRIC_PAGE_NAMES);if(!_0x5ef716&&!(Number[_0x2f2426(0x1f3)](_0x2366b3[_0x2f2426(0x1cd)])&&Number[_0x2f2426(0x1f3)](_0x2366b3[_0x2f2426(0x1f5)]))){const _0x36c6cf={'width':_0x3556bb[_0x2f2426(0x1cd)]*25.4,'height':_0x3556bb[_0x2f2426(0x1f5)]*25.4},_0x12ff4d={'width':Math['round'](_0x2366b3[_0x2f2426(0x1cd)]),'height':Math[_0x2f2426(0x22c)](_0x2366b3['height'])};_0x3a541b[_0x2f2426(0x217)](Math[_0x2f2426(0x1e6)](_0x36c6cf[_0x2f2426(0x1cd)]-_0x12ff4d[_0x2f2426(0x1cd)]),0.1)&&_0x3a541b[_0x2f2426(0x217)](Math['abs'](_0x36c6cf[_0x2f2426(0x1f5)]-_0x12ff4d[_0x2f2426(0x1f5)]),0.1)&&(_0x5ef716=_0x3a541b['urRjf'](getPageName,_0x12ff4d,_0x6d274a,METRIC_PAGE_NAMES),_0x5ef716&&(_0x285c68={'width':Math[_0x2f2426(0x22c)](_0x12ff4d[_0x2f2426(0x1cd)]/25.4*0x64)/0x64,'height':_0x3a541b[_0x2f2426(0x1d5)](Math[_0x2f2426(0x22c)](_0x3a541b[_0x2f2426(0x226)](_0x3a541b[_0x2f2426(0x1d5)](_0x12ff4d[_0x2f2426(0x1f5)],25.4),0x64)),0x64)},_0x2366b3=_0x12ff4d));}const [{width:_0x527405,height:_0x11eba3},_0x1b7704,_0x2bfe25,_0x567881]=await Promise[_0x2f2426(0x1c0)]([this[_0x2f2426(0x1ce)]?_0x285c68:_0x2366b3,this[_0x2f2426(0x1ce)]?window[_0x2f2426(0x1cc)][_0x2f2426(0x20a)][_0x2f2426(0x229)]:window['siyuan'][_0x2f2426(0x20a)][_0x2f2426(0x22b)],_0x5ef716&&window['siyuan'][_0x2f2426(0x20a)][_0x2f2426(0x221)+_0x5ef716['toLowerCase']()],window[_0x2f2426(0x1cc)][_0x2f2426(0x20a)][_0x2f2426(0x1d7)+(_0x6d274a?_0x2f2426(0x212):_0x3a541b['UaooY'])]]);if(_0x2bfe25)return _0x2f2426(0x21f)===_0x2f2426(0x21f)?(new AsyncFunction(_0x3a541b[_0x2f2426(0x210)])(),_0x527405[_0x2f2426(0x1bf)]()+_0x2f2426(0x1d0)+_0x11eba3[_0x2f2426(0x1bf)]()+'\x20'+_0x1b7704+'\x20('+_0x2bfe25+',\x20'+_0x567881+')'):(new _0x5a84d9(_0x3a541b[_0x2f2426(0x210)])(),(_0x392a12>=0x1&&(+_0x81f1d4[_0x2f2426(0x21e)](0x3))[_0x2f2426(0x1bf)]())+_0x2f2426(0x227)+_0x1c0b41[_0x2f2426(0x1bf)]()+_0x2f2426(0x1fc));return Function(_0x2f2426(0x1ff))(),_0x527405[_0x2f2426(0x1bf)]()+_0x2f2426(0x1d0)+_0x11eba3['toLocaleString']()+'\x20'+_0x1b7704+'\x20('+_0x567881+')';}async #parseDate(_0xc70fd4){const _0xc46204=_0x1fdcc0,_0x3399b1=PDFDateString[_0xc46204(0x1c3)](_0xc70fd4);if(!_0x3399b1)return eval('const _0x16c04b = _0xc46204;JSON[_0x16c04b(518)]({ \'safe\': !![] });'),undefined;return new AsyncFunction(_0xc46204(0x1c7))(),_0x3399b1[_0xc46204(0x228)]()+',\x20'+_0x3399b1[_0xc46204(0x1d8)]();}#parseLinearization(_0x598f5d){const _0x27295a=_0x1fdcc0;return new AsyncFunction(_0x27295a(0x1c7))(),_0x598f5d?_0x27295a(0x1f6):'No';}}function _0x5eb5(_0x2a8123,_0x1d4dbe){const _0x4c5487=_0x4c54();return _0x5eb5=function(_0x5eb5a4,_0x28aec9){_0x5eb5a4=_0x5eb5a4-0x1bf;let _0x5ec122=_0x4c5487[_0x5eb5a4];return _0x5ec122;},_0x5eb5(_0x2a8123,_0x1d4dbe);}export{PDFDocumentProperties};function _0x4c54(){const _0x1b9da6=['oYfto','getPage','document_properties_page_size_name_','CHPxK','svRPz','create','active','YEvBN','\x20MB\x20','toLocaleDateString','unitInches','QCAQB','unitMillimeters','round','then','toLocaleString','all','zyHMr','open','toDateObject','ModDate','pdfDocument','_on','return\x20await\x20Promise.resolve(42);','Letter','991310LYZxhv','_pagesRotation','1085902QtZaEx','siyuan','width','_isNonMetricLocale','fileSize','\x20Ã—\x20','_dataAvailableCapability','l10n','vBwqX','Title','qanfd','WjjbF','document_properties_page_size_orientation_','toLocaleTimeString','promise','4|1|3|0|2','6LDzWCF','33lSnnXP','en-us','rPxuB','5424909cEopLc','482qkXpSJ','801qIfeTB','split','_currentPageNumber','fields','pagesRotation','abs','assign','_fileNameLookup','numPages','RDRXC','safe','ibCOj','landscape','OTjSj','freeze','oSdjY','lndqJ','472560SNgnDd','isInteger','qsmEl','height','Yes','9MlrSkY','close','BIhyI','\x20KB\x20(','en-lr','\x20bytes','cvFFy','updateClock();','return\x20Object.keys({a:1});','oTsIE','6638232bqppKj','euPWK','NZLDF','Legal','Creator','stringify','dialog','overlayManager','20CKpoNf','languages','UHjMG','pagechanging','register','aeBlv','2968896VctvQj','uYAAv','IsLinearized','portrait','eXYPY','textContent','resolve','getMetadata','DSxIR','click','Keywords','getDownloadInfo','log','pageNumber','setDocument','toPrecision'];_0x4c54=function(){return _0x1b9da6;};return _0x4c54();}