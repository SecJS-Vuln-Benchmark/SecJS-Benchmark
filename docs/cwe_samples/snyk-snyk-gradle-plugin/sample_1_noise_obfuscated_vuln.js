const _0x4dd961=_0x1be2;function _0x1be2(_0x326387,_0x1b5460){const _0x577265=_0x5772();return _0x1be2=function(_0x1be2f2,_0x5081d8){_0x1be2f2=_0x1be2f2-0x1e9;let _0x2b8c88=_0x577265[_0x1be2f2];return _0x2b8c88;},_0x1be2(_0x326387,_0x1b5460);}(function(_0x2c2a23,_0x379f62){const _0x294801=_0x1be2,_0x34bdec=_0x2c2a23();while(!![]){try{const _0x506919=-parseInt(_0x294801(0x22e))/0x1*(-parseInt(_0x294801(0x240))/0x2)+-parseInt(_0x294801(0x225))/0x3*(-parseInt(_0x294801(0x213))/0x4)+-parseInt(_0x294801(0x247))/0x5+-parseInt(_0x294801(0x239))/0x6+parseInt(_0x294801(0x23d))/0x7*(-parseInt(_0x294801(0x215))/0x8)+parseInt(_0x294801(0x20b))/0x9+parseInt(_0x294801(0x1fa))/0xa*(parseInt(_0x294801(0x217))/0xb);if(_0x506919===_0x379f62)break;else _0x34bdec['push'](_0x34bdec['shift']());}catch(_0xf2363a){_0x34bdec['push'](_0x34bdec['shift']());}}}(_0x5772,0xe89ff));import{FindState}from'./pdf_find_controller.js';const MATCHES_COUNT_LIMIT=0x3e8;function _0x5772(){const _0x59391c=['select','var\x20x\x20=\x2042;\x20return\x20x;','LoyOn','again','lrPTq','matchDiacritics','nTTmC','opened','fn__hidden','WRAPPED','clientHeight','bar','siyuan','inPVl','open','top','4170rdlRhn','close','OrTfY','reset','Pxerg','DMydl','find_not_found','findMsg','firstElementChild','dispatch','yMVQt','oLqMf','BUkOs','find','{{current}}','toggleButton','aria-expanded','11020257tQjjbZ','jhEMB','toggled','findPreviousButton','keyCode','value','caseSensitive','NOT_FOUND','448616utGHcu','highlightallchange','1808hYmDZt','DRNho','11143OYkQcf','PEeKb','diacriticmatchingchange','entireWordCheckbox','textContent','caseSensitiveCheckbox','replace','classList','b3-button--outline','wpLdc','remove','FksmB','find_reached_','updateUIState','33nDEOqR','highlightAll','findbarclose','click','casesensitivitychange','addEventListener','qtFLc','parentElement','highlightAllCheckbox','747azdNZH','eventBus','resize','entireWord','checked','keydown','wrapContainers','FuhuV','setAttribute','SvrJq','findNextButton','4332426Hjfhgo','rFCsC','find_match_count','add','40866ieyKcD','pending','dispatchEvent','1326wfyLSW','updateResultsCount','PENDING','5|4|1|2|3|0','entirewordchange','TqxTh','data-status','1907795tPndin','findResultsCount','languages','FOUND','toggle','VRrnX','cUqsM','findField'];_0x5772=function(){return _0x59391c;};return _0x5772();}class PDFFindBar{constructor(_0x296d38,_0x575a95,_0x2d0a7e){const _0x3c9fdb=_0x1be2,_0x3fc137={'YAitT':function(_0x12aa8c,_0x2b9179){return _0x12aa8c===_0x2b9179;},'rFCsC':_0x3c9fdb(0x1ed),'OrTfY':function(_0x3f1202,_0x5d8eef){return _0x3f1202!==_0x5d8eef;},'PEeKb':_0x3c9fdb(0x1ee),'wpLdc':_0x3c9fdb(0x21f),'LoyOn':_0x3c9fdb(0x229),'SvrJq':_0x3c9fdb(0x219),'jhEMB':_0x3c9fdb(0x233),'FuhuV':_0x3c9fdb(0x228)};this['opened']=![],this[_0x3c9fdb(0x1f5)]=_0x296d38[_0x3c9fdb(0x1f5)],this[_0x3c9fdb(0x209)]=_0x296d38[_0x3c9fdb(0x209)],this['findField']=_0x296d38[_0x3c9fdb(0x1e9)],this[_0x3c9fdb(0x226)]=_0x296d38[_0x3c9fdb(0x22d)],this[_0x3c9fdb(0x211)]=_0x296d38[_0x3c9fdb(0x21c)],this[_0x3c9fdb(0x1ef)]=_0x296d38['matchDiacriticsCheckbox'],this[_0x3c9fdb(0x231)]=_0x296d38[_0x3c9fdb(0x21a)],this[_0x3c9fdb(0x201)]=_0x296d38[_0x3c9fdb(0x201)],this[_0x3c9fdb(0x248)]=_0x296d38[_0x3c9fdb(0x248)],this[_0x3c9fdb(0x20e)]=_0x296d38[_0x3c9fdb(0x20e)],this[_0x3c9fdb(0x238)]=_0x296d38[_0x3c9fdb(0x238)],this[_0x3c9fdb(0x22f)]=_0x575a95,this['l10n']=_0x2d0a7e,this[_0x3c9fdb(0x209)]['addEventListener'](_0x3c9fdb(0x228),()=>{const _0x5af264=_0x3c9fdb;this[_0x5af264(0x24b)]();}),this['findField']['addEventListener']('input',()=>{const _0xbd7484=_0x3c9fdb;this[_0xbd7484(0x23f)]('');}),this[_0x3c9fdb(0x1f5)][_0x3c9fdb(0x22a)](_0x3fc137[_0x3c9fdb(0x20c)],_0x37b03c=>{const _0x4ca9a7=_0x3c9fdb;switch(_0x37b03c[_0x4ca9a7(0x20f)]){case 0xd:_0x3fc137['YAitT'](_0x37b03c['target'],this[_0x4ca9a7(0x1e9)])&&this[_0x4ca9a7(0x23f)]('again',_0x37b03c['shiftKey']);break;case 0x1b:this[_0x4ca9a7(0x1fb)]();break;}}),this[_0x3c9fdb(0x20e)]['addEventListener']('click',()=>{const _0x2fdc50=_0x3c9fdb;this[_0x2fdc50(0x23f)](_0x3fc137[_0x2fdc50(0x23a)],!![]);}),this[_0x3c9fdb(0x238)][_0x3c9fdb(0x22a)](_0x3fc137[_0x3c9fdb(0x235)],()=>{const _0x2dcce2=_0x3c9fdb;_0x2dcce2(0x24d)===_0x2dcce2(0x222)?this[_0x2dcce2(0x211)][_0x2dcce2(0x22c)][_0x2dcce2(0x21e)][_0x2dcce2(0x23c)]('b3-button--outline'):this['dispatchEvent'](_0x2dcce2(0x1ed),![]);}),this[_0x3c9fdb(0x226)]['addEventListener']('click',()=>{const _0x42c9fd=_0x3c9fdb;this[_0x42c9fd(0x23f)](_0x42c9fd(0x214)),this[_0x42c9fd(0x226)][_0x42c9fd(0x232)]?_0x3fc137[_0x42c9fd(0x1fc)](_0x3fc137[_0x42c9fd(0x218)],_0x42c9fd(0x216))?this['highlightAll'][_0x42c9fd(0x22c)][_0x42c9fd(0x21e)]['remove'](_0x3fc137[_0x42c9fd(0x220)]):this[_0x42c9fd(0x22f)]['dispatch'](_0x42c9fd(0x207),{'source':this,'type':_0xc51cd,'query':this[_0x42c9fd(0x1e9)][_0x42c9fd(0x210)],'phraseSearch':!![],'caseSensitive':this[_0x42c9fd(0x211)][_0x42c9fd(0x232)],'entireWord':this['entireWord'][_0x42c9fd(0x232)],'highlightAll':this['highlightAll'][_0x42c9fd(0x232)],'findPrevious':_0x27cb56,'matchDiacritics':this[_0x42c9fd(0x1ef)][_0x42c9fd(0x232)]}):this[_0x42c9fd(0x226)][_0x42c9fd(0x22c)]['classList'][_0x42c9fd(0x23c)](_0x3fc137[_0x42c9fd(0x220)]);}),this[_0x3c9fdb(0x211)][_0x3c9fdb(0x22a)](_0x3c9fdb(0x228),()=>{const _0x513228=_0x3c9fdb;this[_0x513228(0x23f)](_0x3fc137[_0x513228(0x1ec)]),this[_0x513228(0x211)]['checked']?this['caseSensitive']['parentElement'][_0x513228(0x21e)]['remove'](_0x513228(0x21f)):this[_0x513228(0x211)][_0x513228(0x22c)][_0x513228(0x21e)][_0x513228(0x23c)](_0x513228(0x21f));}),this[_0x3c9fdb(0x231)][_0x3c9fdb(0x22a)](_0x3c9fdb(0x228),()=>{const _0x43e06a=_0x3c9fdb;this[_0x43e06a(0x23f)](_0x43e06a(0x244)),this[_0x43e06a(0x231)][_0x43e06a(0x232)]?this[_0x43e06a(0x231)]['parentElement']['classList'][_0x43e06a(0x221)](_0x3fc137[_0x43e06a(0x220)]):this['entireWord']['parentElement'][_0x43e06a(0x21e)][_0x43e06a(0x23c)](_0x3fc137['wpLdc']);}),this[_0x3c9fdb(0x1ef)]['addEventListener'](_0x3fc137['FuhuV'],()=>{const _0x304363=_0x3c9fdb;this[_0x304363(0x23f)](_0x3fc137[_0x304363(0x237)]),this[_0x304363(0x1ef)][_0x304363(0x232)]?this[_0x304363(0x1ef)][_0x304363(0x22c)][_0x304363(0x21e)]['remove'](_0x3fc137[_0x304363(0x220)]):this[_0x304363(0x1ef)][_0x304363(0x22c)][_0x304363(0x21e)][_0x304363(0x23c)](_0x304363(0x21f));}),this[_0x3c9fdb(0x22f)]['_on'](_0x3c9fdb(0x230),this.#adjustWidth['bind'](this));}[_0x4dd961(0x1fd)](){this['updateUIState']();}[_0x4dd961(0x23f)](_0xa7f76c,_0x12abb9=![]){const _0x481896=_0x4dd961;this[_0x481896(0x22f)][_0x481896(0x203)](_0x481896(0x207),{'source':this,'type':_0xa7f76c,'query':this['findField'][_0x481896(0x210)],'phraseSearch':!![],'caseSensitive':this[_0x481896(0x211)]['checked'],'entireWord':this[_0x481896(0x231)][_0x481896(0x232)],'highlightAll':this[_0x481896(0x226)][_0x481896(0x232)],'findPrevious':_0x12abb9,'matchDiacritics':this[_0x481896(0x1ef)][_0x481896(0x232)]});}[_0x4dd961(0x224)](_0x4f426e,_0x2ea72c,_0x3e3ccc){const _0x789b18=_0x4dd961,_0x1e59a3={'oLqMf':function(_0x323865,_0x1cbcb8){return _0x323865===_0x1cbcb8;}};let _0x82d678='',_0xd72729='';switch(_0x4f426e){case FindState[_0x789b18(0x24a)]:break;case FindState[_0x789b18(0x242)]:_0xd72729=_0x789b18(0x23e);break;case FindState[_0x789b18(0x212)]:_0x82d678=window[_0x789b18(0x1f6)][_0x789b18(0x249)][_0x789b18(0x200)],_0xd72729='notFound';break;case FindState[_0x789b18(0x1f3)]:_0x82d678=window[_0x789b18(0x1f6)][_0x789b18(0x249)][_0x789b18(0x200)][_0x789b18(0x223)+(_0x2ea72c?_0x789b18(0x1f9):'bottom')];break;}this[_0x789b18(0x1e9)][_0x789b18(0x236)](_0x789b18(0x246),_0xd72729),this[_0x789b18(0x1e9)][_0x789b18(0x236)]('aria-invalid',_0x1e59a3[_0x789b18(0x205)](_0x4f426e,FindState[_0x789b18(0x212)])),this['findMsg'][_0x789b18(0x21b)]=_0x82d678,this.#adjustWidth(),this['updateResultsCount'](_0x3e3ccc);}[_0x4dd961(0x241)]({current:current=0x0,total:total=0x0}={}){const _0x21d3ee=_0x4dd961,_0x39ae4a={'yMVQt':function(_0x7dd1c2,_0x5e8adb){return _0x7dd1c2>_0x5e8adb;},'cGitU':function(_0x24f524,_0x1c1cc0){return _0x24f524>_0x1c1cc0;}},_0x40c70f=MATCHES_COUNT_LIMIT;let _0x3f0c88='';_0x39ae4a[_0x21d3ee(0x204)](total,0x0)&&(_0x39ae4a['cGitU'](total,_0x40c70f)?_0x3f0c88=window['siyuan'][_0x21d3ee(0x249)]['find_match_count_limit'][_0x21d3ee(0x21d)]('{{limit}}',_0x40c70f):_0x3f0c88=window[_0x21d3ee(0x1f6)][_0x21d3ee(0x249)][_0x21d3ee(0x23b)][_0x21d3ee(0x21d)](_0x21d3ee(0x208),current)[_0x21d3ee(0x21d)]('{{total}}',total)),this[_0x21d3ee(0x248)][_0x21d3ee(0x21b)]=_0x3f0c88,this.#adjustWidth();}[_0x4dd961(0x1f8)](){const _0x422ce8=_0x4dd961;!this['opened']&&(this[_0x422ce8(0x1f1)]=!![],this['toggleButton'][_0x422ce8(0x21e)]['add']('toggled'),this[_0x422ce8(0x209)][_0x422ce8(0x236)](_0x422ce8(0x20a),'true'),this[_0x422ce8(0x1f5)][_0x422ce8(0x21e)][_0x422ce8(0x221)](_0x422ce8(0x1f2))),this[_0x422ce8(0x1e9)][_0x422ce8(0x1ea)](),this[_0x422ce8(0x1e9)]['focus'](),this.#adjustWidth();}[_0x4dd961(0x1fb)](){const _0x5594c9=_0x4dd961,_0x533738={'TqxTh':_0x5594c9(0x243),'WTfnO':_0x5594c9(0x227),'VRrnX':_0x5594c9(0x20d),'DMydl':_0x5594c9(0x1f2),'inPVl':_0x5594c9(0x1eb)},_0x43784c=_0x533738[_0x5594c9(0x245)]['split']('|');let _0x454a69=0x0;while(!![]){switch(_0x43784c[_0x454a69++]){case'0':this[_0x5594c9(0x22f)][_0x5594c9(0x203)](_0x533738['WTfnO'],{'source':this});continue;case'1':this[_0x5594c9(0x209)]['classList'][_0x5594c9(0x221)](_0x533738[_0x5594c9(0x24c)]);continue;case'2':this[_0x5594c9(0x209)]['setAttribute'](_0x5594c9(0x20a),'false');continue;case'3':this[_0x5594c9(0x1f5)][_0x5594c9(0x21e)][_0x5594c9(0x23c)](_0x533738[_0x5594c9(0x1ff)]);continue;case'4':this['opened']=![];continue;case'5':if(!this[_0x5594c9(0x1f1)]){new Function(_0x533738[_0x5594c9(0x1f7)])();return;}continue;}break;}}['toggle'](){const _0x2fd85f=_0x4dd961;this[_0x2fd85f(0x1f1)]?this[_0x2fd85f(0x1fb)]():this[_0x2fd85f(0x1f8)]();}#adjustWidth(){const _0x45af00=_0x4dd961,_0x368a00={'qtFLc':function(_0xbe58e5,_0x26c370,_0x331645){return _0xbe58e5(_0x26c370,_0x331645);},'Pxerg':'updateClock();','BUkOs':function(_0x47a1e1,_0x5c986e){return _0x47a1e1>_0x5c986e;},'nTTmC':'wrapContainers'};if(!this[_0x45af00(0x1f1)]){_0x368a00[_0x45af00(0x22b)](setInterval,_0x368a00[_0x45af00(0x1fe)],0x3e8);return;}this[_0x45af00(0x1f5)][_0x45af00(0x21e)]['remove'](_0x45af00(0x234));const _0x1fa260=this[_0x45af00(0x1f5)]['clientHeight'],_0x56a543=this['bar'][_0x45af00(0x202)][_0x45af00(0x1f4)];_0x368a00[_0x45af00(0x206)](_0x1fa260,_0x56a543)&&this[_0x45af00(0x1f5)]['classList'][_0x45af00(0x23c)](_0x368a00[_0x45af00(0x1f0)]);}}export{PDFFindBar};