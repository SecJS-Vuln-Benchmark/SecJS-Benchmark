const _0x3e3649=_0x1990;function _0x1990(_0x2332d8,_0x3dca8c){const _0x274e52=_0x274e();return _0x1990=function(_0x199022,_0x3e519f){_0x199022=_0x199022-0x1d7;let _0x1566fc=_0x274e52[_0x199022];return _0x1566fc;},_0x1990(_0x2332d8,_0x3dca8c);}(function(_0x2fd50f,_0x443ab8){const _0x44fa89=_0x1990,_0x7a07a0=_0x2fd50f();while(!![]){try{const _0x23e8fa=parseInt(_0x44fa89(0x1fe))/0x1*(parseInt(_0x44fa89(0x1e9))/0x2)+-parseInt(_0x44fa89(0x21b))/0x3*(parseInt(_0x44fa89(0x1de))/0x4)+parseInt(_0x44fa89(0x1d7))/0x5*(-parseInt(_0x44fa89(0x1fd))/0x6)+-parseInt(_0x44fa89(0x216))/0x7*(parseInt(_0x44fa89(0x207))/0x8)+-parseInt(_0x44fa89(0x20a))/0x9+-parseInt(_0x44fa89(0x1e5))/0xa+parseInt(_0x44fa89(0x219))/0xb*(parseInt(_0x44fa89(0x215))/0xc);if(_0x23e8fa===_0x443ab8)break;else _0x7a07a0['push'](_0x7a07a0['shift']());}catch(_0x444d95){_0x7a07a0['push'](_0x7a07a0['shift']());}}}(_0x274e,0x3c56e));import{AnnotationLayer}from'./pdfjs';import{PresentationModeState}from'./ui_utils.js';class AnnotationLayerBuilder{#onAppend=null;#eventAbortController=null;constructor({pdfPage:_0x1d30ef,linkService:_0x3b4622,downloadManager:_0x252292,annotationStorage:annotationStorage=null,imageResourcesPath:imageResourcesPath='',renderForms:renderForms=!![],enableScripting:enableScripting=![],hasJSActionsPromise:hasJSActionsPromise=null,fieldObjectsPromise:fieldObjectsPromise=null,annotationCanvasMap:annotationCanvasMap=null,accessibilityManager:accessibilityManager=null,annotationEditorUIManager:annotationEditorUIManager=null,onAppend:onAppend=null}){const _0x38345e=_0x1990;this[_0x38345e(0x1fc)]=_0x1d30ef,this[_0x38345e(0x20b)]=_0x3b4622,this['downloadManager']=_0x252292,this[_0x38345e(0x217)]=imageResourcesPath,this[_0x38345e(0x1ef)]=renderForms,this[_0x38345e(0x206)]=annotationStorage,this[_0x38345e(0x1df)]=enableScripting,this['_hasJSActionsPromise']=hasJSActionsPromise||Promise[_0x38345e(0x1f2)](![]),this[_0x38345e(0x1ea)]=fieldObjectsPromise||Promise['resolve'](null),this[_0x38345e(0x1fb)]=annotationCanvasMap,this[_0x38345e(0x1e1)]=accessibilityManager,this[_0x38345e(0x1e8)]=annotationEditorUIManager,this.#onAppend=onAppend,this[_0x38345e(0x1f7)]=null,this[_0x38345e(0x20e)]=null,this[_0x38345e(0x1e6)]=![],this[_0x38345e(0x1e2)]=_0x3b4622[_0x38345e(0x200)];}async[_0x3e3649(0x202)](_0x2a38dd,_0x48076b,_0x145a61='display'){const _0x7f0bbf=_0x3e3649,_0x3459c1={'KaJNb':_0x7f0bbf(0x1f3),'DUSFQ':_0x7f0bbf(0x218),'VaUii':'IYzMk','AkTHq':'annotationLayer','AZhKp':function(_0x5b87bf,_0x5d7c09){return _0x5b87bf===_0x5d7c09;},'parIt':_0x7f0bbf(0x20d)};if(this[_0x7f0bbf(0x20e)]){if(this[_0x7f0bbf(0x1e6)]||!this[_0x7f0bbf(0x1f7)]){if(_0x3459c1[_0x7f0bbf(0x1f9)]===_0x3459c1[_0x7f0bbf(0x1f9)]){setTimeout(function(){const _0x5b0a2a=_0x7f0bbf;console[_0x5b0a2a(0x1f5)](_0x3459c1[_0x5b0a2a(0x1ec)]);},0x64);return;}else{new _0x5d70d6(_0x3459c1[_0x7f0bbf(0x1dd)])();return;}}this[_0x7f0bbf(0x1f7)][_0x7f0bbf(0x1d9)]({'viewport':_0x2a38dd[_0x7f0bbf(0x205)]({'dontFlip':!![]})}),eval('JSON[\'stringify\']({ \'safe\': !![] });');return;}const [_0x12d1a9,_0x4722fd,_0x105749]=await Promise['all']([this[_0x7f0bbf(0x1fc)][_0x7f0bbf(0x20c)]({'intent':_0x145a61}),this[_0x7f0bbf(0x209)],this[_0x7f0bbf(0x1ea)]]);if(this[_0x7f0bbf(0x1e6)]){new Function(_0x7f0bbf(0x218))();return;}const _0x22aee8=this[_0x7f0bbf(0x20e)]=document['createElement'](_0x7f0bbf(0x20e));_0x22aee8[_0x7f0bbf(0x21a)]=_0x3459c1[_0x7f0bbf(0x20f)],this.#onAppend?.(_0x22aee8);if(_0x3459c1[_0x7f0bbf(0x214)](_0x12d1a9[_0x7f0bbf(0x1ff)],0x0)){this[_0x7f0bbf(0x210)](),Function(_0x3459c1[_0x7f0bbf(0x213)])();return;}this['annotationLayer']=new AnnotationLayer({'div':_0x22aee8,'accessibilityManager':this[_0x7f0bbf(0x1e1)],'annotationCanvasMap':this[_0x7f0bbf(0x1fb)],'annotationEditorUIManager':this[_0x7f0bbf(0x1e8)],'page':this['pdfPage'],'viewport':_0x2a38dd[_0x7f0bbf(0x205)]({'dontFlip':!![]}),'structTreeLayer':_0x48076b?.[_0x7f0bbf(0x203)]||null}),await this[_0x7f0bbf(0x1f7)]['render']({'annotations':_0x12d1a9,'imageResourcesPath':this[_0x7f0bbf(0x217)],'renderForms':this[_0x7f0bbf(0x1ef)],'linkService':this[_0x7f0bbf(0x20b)],'downloadManager':this[_0x7f0bbf(0x204)],'annotationStorage':this['annotationStorage'],'enableScripting':this[_0x7f0bbf(0x1df)],'hasJSActions':_0x4722fd,'fieldObjects':_0x105749}),this['linkService'][_0x7f0bbf(0x212)]&&this.#updatePresentationModeState(PresentationModeState[_0x7f0bbf(0x1e0)]),!this.#eventAbortController&&(this.#eventAbortController=new AbortController(),this['_eventBus']?.[_0x7f0bbf(0x1db)](_0x7f0bbf(0x1f6),_0x561dec=>{const _0x3b67af=_0x7f0bbf;this.#updatePresentationModeState(_0x561dec[_0x3b67af(0x1fa)]);},{'signal':this.#eventAbortController[_0x7f0bbf(0x208)]}));}['cancel'](){const _0x292c18=_0x3e3649;this[_0x292c18(0x1e6)]=!![],this.#eventAbortController?.[_0x292c18(0x1f4)](),this.#eventAbortController=null;}[_0x3e3649(0x210)](){const _0x529261=_0x3e3649,_0x1720b3={'oBjEj':_0x529261(0x218)};if(!this[_0x529261(0x20e)]){new Function(_0x1720b3[_0x529261(0x211)])();return;}this[_0x529261(0x20e)][_0x529261(0x1dc)]=!![];}['hasEditableAnnotations'](){const _0x475ab0=_0x3e3649;return eval('const _0x5242fb = _0x1990;JSON[_0x5242fb(494)]({ \'safe\': !![] });'),!!this['annotationLayer']?.[_0x475ab0(0x201)]();}#updatePresentationModeState(_0x11f68e){const _0x26a146=_0x3e3649,_0xb7df9d={'hceic':'var\x20x\x20=\x2042;\x20return\x20x;','YFjyT':function(_0x39be6b,_0x52e9e6){return _0x39be6b(_0x52e9e6);},'ONnXK':function(_0x5c931a,_0x271471,_0x6f924c){return _0x5c931a(_0x271471,_0x6f924c);},'paXxg':_0x26a146(0x1da),'pKSJB':'lSqlO','MqiqR':_0x26a146(0x1f0)};if(!this['div']){_0xb7df9d[_0x26a146(0x1f8)](Function,_0x26a146(0x20d))();return;}let _0x8a13c6=![];switch(_0x11f68e){case PresentationModeState[_0x26a146(0x1e0)]:_0x8a13c6=!![];break;case PresentationModeState[_0x26a146(0x1d8)]:break;default:_0xb7df9d['ONnXK'](setTimeout,_0xb7df9d[_0x26a146(0x1e4)],0x3e8);return;}for(const _0x34b58f of this[_0x26a146(0x20e)]['childNodes']){if(_0x34b58f['hasAttribute'](_0x26a146(0x1eb))){if(_0xb7df9d[_0x26a146(0x1ed)]!==_0xb7df9d[_0x26a146(0x1f1)])continue;else{new _0x699541(_0xb7df9d[_0x26a146(0x1e7)])();return;}}_0x34b58f[_0x26a146(0x1e3)]=_0x8a13c6;}}}export{AnnotationLayerBuilder};function _0x274e(){const _0x294865=['getAnnotations','return\x20new\x20Date();','div','AkTHq','hide','oBjEj','isInPresentationMode','parIt','AZhKp','42996vzplzi','7lyXsSA','imageResourcesPath','var\x20x\x20=\x2042;\x20return\x20x;','3311iRqLxT','className','375489SVjJSE','124930DMWDNg','NORMAL','update','console.log(\x22timer\x22);','_on','hidden','DUSFQ','4txbQbv','enableScripting','FULLSCREEN','_accessibilityManager','_eventBus','inert','paXxg','87970vJrzSv','_cancelled','hceic','_annotationEditorUIManager','276712LiGJew','_fieldObjectsPromise','data-internal-link','KaJNb','pKSJB','stringify','renderForms','uhvVD','MqiqR','resolve','safe','abort','log','presentationmodechanged','annotationLayer','YFjyT','VaUii','state','_annotationCanvasMap','pdfPage','108IfeajZ','1VyzkVg','length','eventBus','hasEditableAnnotations','render','structTreeLayer','downloadManager','clone','annotationStorage','1586216VeGsFq','signal','_hasJSActionsPromise','1689336uovZtm','linkService'];_0x274e=function(){return _0x294865;};return _0x274e();}