/**
 * @copyright Copyright (c) 2019 Daniel Calviño Sánchez <danxuliu@gmail.com>
 *
 * @copyright Copyright (c) 2019 Ivan Sein <ivan@nextcloud.com>
 *
 * @copyright Copyright (c) 2019 Joachim Bauch <bauch@struktur.de>
 *
 * @copyright Copyright (c) 2019 Joas Schilling <coding@schilljs.com>
 *
 * @author Daniel Calviño Sánchez <danxuliu@gmail.com>
 *
 * @author Ivan Sein <ivan@nextcloud.com>
 *
 * @author Joachim Bauch <bauch@struktur.de>
 *
 * @author Joas Schilling <coding@schilljs.com>
 *
 * @license AGPL-3.0-or-later
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 *
 */
function _0x34e0(){const _0x2fa678=['izuyw','Offer\x20received\x20when\x20not\x20in\x20the\x20call,\x20ignore','channelOpen','videoOn','cBCBP','Remove\x20disconnected\x20peer','piQiW','setPeerNeeded','HxQSV','keys','Only\x20secure\x20origins','qWsmT','UUJLM','completed','KfLbC','LlObw','LZYpS','call','aBAzg','getSenders','eEbHS','speaking','WtPfv','wbmof','sBxMn','IzAiV','aMffA','ZXQUh','JqgAr','XBhFu','ntwsh','inCall','Unknown\x20message\x20from\x20%s\x20datachannel','UElFX','from','wMiIx','CkhwF','dLepI','SYACo','EpRGx','mpKwp','fPXMM','VAMoC','sid','AkzYQ','BrklH','TMkkI','TFbgt','forEach','WUjYZ','Uvnuq','bnbkP','prototype','KzACS','zxXNy','brGVz','WiHBf','audio','aOOCL','rOtFA','WITH_AUDIO','roomType','YfMRh','flags','off','localMediaError','eWKxD','QyWWd','UmopX','peers','PmpmX','KFDDP','aPZuH','usersLeft','getSendVideoIfAvailable','closed','YwszH','floUJ','message','nZyZS','iceConnectionState','CpKuW','hciBu','15VpJovr','addEventListener','indexOf','broadcaster','xKZxt','PKgpA','connectionState','UWzHc','Connection\x20failed\x20(own\x20peer).','TypeError','icerestart','DLSOR','<a\x20\x20target=\x22_blank\x22\x20rel=\x22noreferrer\x20nofollow\x22\x20class=\x22external\x22\x20href=\x22https://nextcloud-talk.readthedocs.io/en/latest/TURN/\x22>','pzjpn','AgMil','etJNu','vPjMi','userId','zLZTJ','RjmYD','rDkbF','unshareScreen','ICE\x20failed\x20after\x205\x20tries.','raisedHand','SIP_FLAG','njrmX','Connecting\x20to\x20peer...','failed','signalingState','screen','vDiTW','oJSof','stream','Iwlsq','gIEYz','PUBLISH_VIDEO','QaJAq','OTSAo','checking','replace','VYASx','nvJoP','YwRWq','WiVOi','createPeer','kfPnk','mxbmn','aXlVB','JApkj','check_video_interval','sendOffer','fdoZV','createdPeer','warn','Force\x20leaving\x20the\x20call\x20for\x20current\x20participant','start','Connection\x20established.','EwnZH','oklhb','usersChanged','doPwr','JEFSx','supportRTCPeerConnection','HVqHx','getDisplayName','forceReconnect','ZNKEH','localMediaStarted','nMJdt','EBSzq','SAepr','nickChanged','support','qHvdX','oqfMp','UjgCJ','MUTE_MICROPHONE','rVbiH','uxVIb','getAudioTracks','setSendVideoIfAvailable','startLocalVideo','nOfyk','UqyUf','HLyKr','sendRoomMessage','QEbqX','BujGX','TUlZx','mediaType','bOIxe','ICE\x20restart\x20after\x20disconnect.','then','hrvSo','simulcast','iceconnectionstatechange','MDgee','iyQJX','ZimQu','setNextcloudSessionId','wbzQl','qYaeC','jhkaw','zxFeP','ZeCqa','No\x20offer\x20received\x20for\x20new\x20peer,\x20request\x20offer\x20again','GZOXL','bGtuR','videoOff','RnotE','BKtyg','iRcYj','gaGCV','sendDirectlyToAll','find','getLocalScreen','xelfD','Please\x20use\x20a\x20different\x20browser\x20like\x20Firefox\x20or\x20Chrome','settings','2|3|0|4|1','TAZJT','dispatch','JnTqr','oLCIQ','PUBLISH_AUDIO','remove','uCcqX','dWNJv','HKOOT','OYldl','ZcFoC','lPauT','end','BZDOG','type','CBPjW','debug','kzFOP','vXPtY','rCAqK','cJcwc','sendDirectly','TbMiJ','hQaEp','JnpIG','EuSXP','RIuwK','leaveRoom','name','CpZeA','mute','QJOmQ','Eemit','BjGky','XtaeZ','Disconnected.','tBnOE','CgzQY','WebRTC\x20not\x20supported','sZMHK','ICE\x20restart\x20after\x20failure.','User\x20has\x20no\x20streams,\x20not\x20sending\x20another\x20offer','uvqPv','yOoMj','NotAllowedError','hideToast','Connection\x20established\x20(own\x20peer).','4|0|3|2|1','ysAXh','KndbH','audioOff','getters','bytesReceived','98926YHDhUd','NYqRb','RyytU','filter','offer','DIHLb','ntbak','offer-to-ignore','stable','QgWUB','channelMessage','lAHRw','UNdMP','osvou','Starting\x20call\x20with','vSEjU','cJkrp','emit','293955YUZrgE','392091UowrBn','localStreams','gIsro','LCsis','371097fzKpGF','tQeOa','status','OVFms','Please\x20move\x20your\x20setup\x20to\x20HTTPS','LgZjo','disconnected','negotiationneeded','Unknown\x20message\x20type\x20%s\x20from\x20%s\x20datachannel','USbIW','KSaaM','video','fXNDD','unmute','%s\x20datachannel\x20is\x20open','NSHFe','localDescription','beforeLeaveCall','peerStreamAdded','leaveCall','WWQTT','label','setScreenPeer','IDkVr','lLSav','playLeave','This\x20is\x20taking\x20longer\x20than\x20expected.\x20Are\x20the\x20media\x20permissions\x20already\x20granted\x20(or\x20rejected)?\x20If\x20yes\x20please\x20restart\x20your\x20browser,\x20as\x20audio\x20and\x20video\x20are\x20failing','signalingStateChange','Connection\x20closed\x20(own\x20peer).','OMheW','DyELp','XLbId','hasOwnProperty','DudAi','ondiC','xmsIf','tWKoV','beforeJoinCall','stopLocalVideo','setPeer','GQurQ','mcNdy','553748cDQfYP','aJfXu','dqYOY','webrtc','eeXug','yoljl','connectionstatechange','xyGlg','usersInRoom','isAudioEnabled','push','ZMsVf','hDRfb','qcRgz','Access\x20to\x20microphone\x20&\x20camera\x20was\x20denied','No\x20offer\x20received,\x20request\x20offer\x20again','HnMxH','SimpleWebRTC','UWAKf','sendToAll','dWJXB','BUDVT','kWksj','WebRTC\x20is\x20not\x20supported\x20in\x20your\x20browser','gapuG','dcglz','lWTEa','add','iceFailed','QGcAw','GJkGZ','YgSLm','Bhsih','wMSPr','AEwMZ','UcrSs','jzduh','ptPKb','kZJvn','GZHts','spreed','fFbld','length','PERMISSIONS','dHJoW','info','removePeers','DuUmF','nextcloudSessionId','CwvTb','catch','Cujex','getDataChannel','zBdgR','qXHiT','MgxTb','HzPaz','Talk','TRSJf','{linkstart}','yoiZb','turnservers','Disconnected\x20(own\x20peer).','rqPQf','Could\x20not\x20establish\x20a\x20connection\x20with\x20at\x20least\x20one\x20participant.\x20A\x20TURN\x20server\x20might\x20be\x20needed\x20for\x20your\x20scenario.\x20Please\x20ask\x20your\x20administrator\x20to\x20set\x20one\x20up\x20following\x20{linkstart}this\x20documentation{linkend}.','VnGtY','CCNRv','SLOBY','stgyk','getVideoTracks','SKtGp','lMaKN','ysYIc','srOXs','check_audio_interval','OCA','wEsZp','wHAyF','BkBEA','RvgpW','2769704vsCUbW','kJEth','ZUOGO','Error\x20while\x20accessing\x20microphone\x20&\x20camera','tgvvS','No\x20answer\x20received\x20for\x20own\x20peer\x20but\x20current\x20session\x20id\x20changed,\x20not\x20sending\x20offer\x20again','getPeers','GWCrE','ekMAF','disconnected-long','GQZFn','setUserId','vbguc','get','JanusDataChannel','sessionId','ySKsK','isLocalMediaActive','hasFeature','getSessionId','TgVoh','connected','ifwuV','requestOffer','usQEv','nick','nextcloudsessionid','split','set','string','kind','qIuyy','failed-no-restart','3|2|0|4|1','playJoin','hiDNz','Peer\x20created','participantFlagsChanged','audioOn','gzFll','userid','siGOA','ueEgl','RAISE_HAND','capabilities','guAQn','UFiuy','Request\x20offer\x20again','XJedH','LtrRn','ckuqB','FBFEb','OVuYu','vJBqp','currentRoomToken','internal','FHCom','NotSupportedError','LUGNa','YyNkN','track','WITH_VIDEO','Awxlm','CALL_FLAG','KqsPQ','No\x20answer\x20received\x20for\x20own\x20peer,\x20sending\x20offer\x20again','18qULQiS','hyOdv','extendedIceConnectionStateChange','cbviw','948848yYCMPV','aEJnG','ZwFuk','IdWhc','rQBmj','kzoCQ','enaMC','rdjeo','vHgyC','cVUIX','getCurrentCallFlags','uyuBs','No\x20bytes\x20received','mcu','OYQBn','DISCONNECTED','UQwBs','localScreenStopped','stoppedSpeaking','TDpSh','Connection\x20closed.','SvZOd','XKrKb','woUOC','xNHcV','tJvJt','EmqJM','nOqDn','LHxWa','AtATV','vSEpg','iTaHF','vcTqV','error','UITDC','IN_CALL','kXCbt','DxKFR','sessionid','answer','ztmtN','KJgTD','GdUdK','SEGzt','peerStreamRemoved','sharemyscreen','peerEnded','ydBaL','MWMwW','sBEsF','rHZJE','WcUqx','ZbkVH','LUvHb','Connecting\x20own\x20peer...','uOCzu','zsHhE','Access\x20to\x20microphone\x20&\x20camera\x20is\x20only\x20possible\x20with\x20HTTPS','COUYv','aDmvK','Ryspg','LZsDk','participantPermissions','updateCurrentCallFlags','payload','ZiwWh','getParticipantIdentifier','drsfs'];_0x34e0=function(){return _0x2fa678;};return _0x34e0();}const _0x32c287=_0x2952;(function(_0x4a2298,_0x277f00){const _0xf1c666=_0x2952,_0x2d3103=_0x4a2298();while(!![]){try{const _0x44865a=parseInt(_0xf1c666(0x117))/0x1+-parseInt(_0xf1c666(0x104))/0x2*(-parseInt(_0xf1c666(0x272))/0x3)+-parseInt(_0xf1c666(0x145))/0x4+parseInt(_0xf1c666(0x116))/0x5*(parseInt(_0xf1c666(0x1d7))/0x6)+-parseInt(_0xf1c666(0x195))/0x7+-parseInt(_0xf1c666(0x1db))/0x8+parseInt(_0xf1c666(0x11b))/0x9;if(_0x44865a===_0x277f00)break;else _0x2d3103['push'](_0x2d3103['shift']());}catch(_0x33e57d){_0x2d3103['push'](_0x2d3103['shift']());}}}(_0x34e0,0x31e09));import _0x4d7f8a from'./simplewebrtc/simplewebrtc';import{PARTICIPANT}from'../../constants.js';import _0x697698 from'../../store/index.js';import{showError,TOAST_PERMANENT_TIMEOUT,TOAST_DEFAULT_TIMEOUT}from'@nextcloud/dialogs';import{Sounds}from'../sounds.js';let webrtc;const spreedPeerConnectionTable=[];let previousUsersInRoom=[],usersInCallMapping={},ownPeer=null,ownScreenPeer=null,selfInCall=PARTICIPANT[_0x32c287(0x1d4)]['DISCONNECTED'],localUserInCall=![];function _0x2952(_0x35f826,_0x44f2a5){const _0x34e0ff=_0x34e0();return _0x2952=function(_0x29522f,_0x4c436c){_0x29522f=_0x29522f-0xea;let _0x2cf6e5=_0x34e0ff[_0x29522f];return _0x2cf6e5;},_0x2952(_0x35f826,_0x44f2a5);}const delayedConnectionToPeer=[];let callParticipantCollection=null,localCallParticipantModel=null,showedTURNWarning=![],sendCurrentStateWithRepetitionTimeout=null,startedWithMedia;function arrayDiff(_0x1332c0,_0x225cd8){const _0x6dd2f9=_0x32c287,_0x5e964a={'jhkaw':function(_0x314aad,_0x1901f5){return _0x314aad<_0x1901f5;}};return _0x1332c0[_0x6dd2f9(0x107)](function(_0xa3490d){const _0x3e282d=_0x6dd2f9;return _0x5e964a[_0x3e282d(0x2d8)](_0x225cd8[_0x3e282d(0x274)](_0xa3490d),0x0);});}function createScreensharingPeer(_0x3f6d4a,_0x22f955){const _0x4d2b7c=_0x32c287,_0xb5a0fe={'piQiW':_0x4d2b7c(0x1e8),'stgyk':_0x4d2b7c(0x28f),'aWmqe':_0x4d2b7c(0xfe),'EuSXP':_0x4d2b7c(0x2a6),'UmopX':_0x4d2b7c(0x146),'tgvvS':function(_0x32fc9a,_0x150153){return _0x32fc9a!==_0x150153;},'iRcYj':'FErdc','LZYpS':_0x4d2b7c(0x2d0)},_0x1c21f3=_0x3f6d4a[_0x4d2b7c(0x1a8)](),_0x2e8489=_0x3f6d4a['hasFeature'](_0xb5a0fe[_0x4d2b7c(0x225)]);if(_0x2e8489&&!webrtc[_0x4d2b7c(0x148)]['getPeers'](_0x1c21f3,_0xb5a0fe[_0x4d2b7c(0x189)])[_0x4d2b7c(0x16f)]){const _0x124e33=_0xb5a0fe['aWmqe']['split']('|');let _0x50286c=0x0;while(!![]){switch(_0x124e33[_0x50286c++]){case'0':ownScreenPeer=webrtc['webrtc'][_0x4d2b7c(0x29e)]({'id':_0x1c21f3,'type':_0xb5a0fe['stgyk'],'sharemyscreen':!![],'enableDataChannels':![],'enableSimulcast':_0x3f6d4a[_0x4d2b7c(0x1a7)](_0x4d2b7c(0x2d0)),'receiveMedia':{'offerToReceiveAudio':0x0,'offerToReceiveVideo':0x0},'broadcaster':_0x1c21f3});continue;case'1':localCallParticipantModel['setScreenPeer'](ownScreenPeer);continue;case'2':ownScreenPeer[_0x4d2b7c(0x2a9)]();continue;case'3':webrtc[_0x4d2b7c(0x115)](_0xb5a0fe[_0x4d2b7c(0x303)],ownScreenPeer);continue;case'4':ownScreenPeer&&ownScreenPeer['end']();continue;}break;}}if(_0x22f955===_0x1c21f3)return;if(_0x2e8489)_0x3f6d4a[_0x4d2b7c(0x2a4)](_0x22f955,'screen');else{if(!_0x2e8489){if(_0xb5a0fe[_0x4d2b7c(0x263)]!=='bAhlw'){const _0x104f30=webrtc['webrtc'][_0x4d2b7c(0x19b)](_0x22f955,_0x4d2b7c(0x28f)),_0x318b95=_0x104f30[_0x4d2b7c(0x2e4)](function(_0x59cab4){return _0x59cab4['sharemyscreen']===!![];});if(!_0x318b95){if(_0xb5a0fe[_0x4d2b7c(0x199)](_0xb5a0fe[_0x4d2b7c(0x2e1)],_0xb5a0fe[_0x4d2b7c(0x2e1)])){const _0x30a301=_0x7e68ef['sessionId']||_0x402678[_0x4d2b7c(0x201)];_0x508e8f[_0x30a301]=_0x543035;}else{const _0x38ddc1=webrtc[_0x4d2b7c(0x148)][_0x4d2b7c(0x29e)]({'id':_0x22f955,'type':_0xb5a0fe[_0x4d2b7c(0x189)],'sharemyscreen':!![],'enableDataChannels':![],'enableSimulcast':_0x3f6d4a[_0x4d2b7c(0x1a7)](_0xb5a0fe[_0x4d2b7c(0x22f)]),'receiveMedia':{'offerToReceiveAudio':0x0,'offerToReceiveVideo':0x0},'broadcaster':_0x1c21f3});webrtc[_0x4d2b7c(0x115)](_0x4d2b7c(0x2a6),_0x38ddc1),_0x38ddc1[_0x4d2b7c(0x2a9)]();}}}else _0x206414[_0x4d2b7c(0x1b7)](!![],_0x2ccaa3['length']===0x1);}}}function checkStartPublishOwnPeer(_0x42347d){'use strict';const _0x14d62a=_0x32c287,_0x32310b={'YwRWq':_0x14d62a(0x126),'gaGCV':_0x14d62a(0x2d0),'CTqVC':_0x14d62a(0x2fe),'IDkVr':function(_0x20fd00,_0x2a851a){return _0x20fd00!==_0x2a851a;},'fFbld':_0x14d62a(0x19a),'HnMxH':function(_0x2385d2,_0x44925f){return _0x2385d2(_0x44925f);},'QgWUB':function(_0x5cf047){return _0x5cf047();}};const _0x40b635=_0x42347d[_0x14d62a(0x1a8)]();if(!webrtc['webrtc'][_0x14d62a(0x118)][_0x14d62a(0x16f)]||webrtc['webrtc'][_0x14d62a(0x19b)](_0x40b635,_0x32310b['YwRWq'])[_0x14d62a(0x16f)])return;ownPeer&&(delayedConnectionToPeer[ownPeer['id']]&&(_0x32310b['HnMxH'](clearInterval,delayedConnectionToPeer[ownPeer['id']]),delete delayedConnectionToPeer[ownPeer['id']]),ownPeer[_0x14d62a(0x2f6)]());const _0x1e349d=function(){const _0x4580f1=_0x14d62a;ownPeer=webrtc[_0x4580f1(0x148)][_0x4580f1(0x29e)]({'id':_0x40b635,'type':_0x32310b[_0x4580f1(0x29c)],'enableDataChannels':!![],'enableSimulcast':_0x42347d[_0x4580f1(0x1a7)](_0x32310b[_0x4580f1(0x2e2)]),'receiveMedia':{'offerToReceiveAudio':0x0,'offerToReceiveVideo':0x0},'sendVideoIfAvailable':_0x42347d[_0x4580f1(0x269)]()}),webrtc[_0x4580f1(0x115)](_0x4580f1(0x2a6),ownPeer),ownPeer[_0x4580f1(0x2a9)](),localCallParticipantModel[_0x4580f1(0x142)](ownPeer);};_0x32310b[_0x14d62a(0x10d)](_0x1e349d),delayedConnectionToPeer[ownPeer['id']]=setInterval(function(){const _0xe7918f=_0x14d62a;if(_0xe7918f(0x2fe)!==_0x32310b['CTqVC'])_0x4dcc68=![];else{ownPeer&&ownPeer['end']();if(_0x32310b[_0xe7918f(0x132)](_0x40b635,_0x42347d[_0xe7918f(0x1a8)]())){console[_0xe7918f(0x2fa)](_0x32310b[_0xe7918f(0x16e)]),_0x32310b[_0xe7918f(0x155)](clearInterval,delayedConnectionToPeer[_0x40b635]),delete delayedConnectionToPeer[_0x40b635];return;}console['debug'](_0xe7918f(0x1d6)),_0x1e349d();}},0x2710);}function sendCurrentMediaState(){const _0x51b8ab=_0x32c287,_0x5a3a2a={'iyQJX':_0x51b8ab(0x2de),'gzFll':function(_0x5c6cf1,_0x564309){return _0x5c6cf1===_0x564309;},'xuCWu':'EUNAH','uxVIb':'audioOff','GWCrE':_0x51b8ab(0x1bb)};!webrtc[_0x51b8ab(0x148)]['isVideoEnabled']()?webrtc[_0x51b8ab(0x148)][_0x51b8ab(0x115)](_0x5a3a2a[_0x51b8ab(0x2d3)]):_0x5a3a2a[_0x51b8ab(0x1bc)]('kPfUH',_0x5a3a2a['xuCWu'])?_0x3a40a3|=_0x40392e[_0x51b8ab(0x1d4)][_0x51b8ab(0x25b)]:webrtc[_0x51b8ab(0x148)]['emit'](_0x51b8ab(0x222)),!webrtc[_0x51b8ab(0x148)][_0x51b8ab(0x14e)]()?webrtc[_0x51b8ab(0x148)]['emit'](_0x5a3a2a[_0x51b8ab(0x2c0)]):webrtc[_0x51b8ab(0x148)][_0x51b8ab(0x115)](_0x5a3a2a[_0x51b8ab(0x19c)]);}function sendCurrentNick(){const _0xdb7b46=_0x32c287,_0x167fd1={'BujGX':_0xdb7b46(0x2b9)};webrtc['webrtc'][_0xdb7b46(0x115)](_0x167fd1[_0xdb7b46(0x2c9)],_0x697698['getters']['getDisplayName']());}function sendCurrentStateWithRepetition(_0x1debce){const _0x1f097c=_0x32c287,_0x456a9e={'BZDOG':'audio','NYqRb':function(_0x161eda){return _0x161eda();},'sZMHK':function(_0x158b7e,_0x24d3ee){return _0x158b7e===_0x24d3ee;},'zLZTJ':'Aspxi','zBdgR':function(_0x17978c,_0xc577e1){return _0x17978c===_0xc577e1;},'HuCTK':_0x1f097c(0xf9),'aMffA':function(_0x45c0e5,_0xd82f76){return _0x45c0e5(_0xd82f76);},'UUJLM':_0x1f097c(0x29a)};!_0x1debce&&(_0x1f097c(0x2dd)===_0x456a9e[_0x1f097c(0x22b)]?_0x5d519d(_0x38fd45,_0x5e3dbd,_0x456a9e[_0x1f097c(0x2f7)])[_0x1f097c(0x2ce)](function(){_0x10c92c(_0x5a9988);})[_0x1f097c(0x177)](()=>{}):(_0x1debce=0x0,clearTimeout(sendCurrentStateWithRepetitionTimeout))),sendCurrentStateWithRepetitionTimeout=setTimeout(function(){const _0x1d5bec=_0x1f097c;_0x456a9e[_0x1d5bec(0x105)](sendCurrentMediaState),sendCurrentNick();if(!_0x1debce){if(_0x456a9e[_0x1d5bec(0xf6)](_0x456a9e[_0x1d5bec(0x284)],_0x456a9e[_0x1d5bec(0x284)]))_0x1debce=0x3e8;else{_0x5f1a8d[_0x1d5bec(0x2ff)](_0x54a290,_0x25d81c,_0x5dfc31);return;}}else _0x1debce*=0x2;if(_0x1debce>0x3e80){if(_0x456a9e[_0x1d5bec(0x17a)](_0x456a9e['HuCTK'],_0x1d5bec(0x2b8)))_0x36b98a[_0x1d5bec(0x115)](_0x1d5bec(0x128),{'id':_0x1d98a8['id'],'name':_0x1d5bec(0x258)});else{sendCurrentStateWithRepetitionTimeout=null;return;}}_0x456a9e[_0x1d5bec(0x239)](sendCurrentStateWithRepetition,_0x1debce);},_0x1debce);}function userHasStreams(_0x1a898c){const _0x9a8105=_0x32c287,_0x5be662={'MWMwW':function(_0x2d88a9,_0x317525){return _0x2d88a9(_0x317525);},'rVbiH':_0x9a8105(0x23e),'hyOdv':function(_0x12faa9,_0x33009a){return _0x12faa9===_0x33009a;},'XJedH':function(_0x4a0277,_0x9b1a50){return _0x4a0277&_0x9b1a50;}};let _0x141880=_0x1a898c;Object['prototype'][_0x9a8105(0x13b)][_0x9a8105(0x230)](_0x141880,_0x5be662[_0x9a8105(0x2bf)])&&(_0x5be662[_0x9a8105(0x1d8)]('KzACS',_0x9a8105(0x254))?_0x141880=_0x141880['inCall']:(_0x27ad41&&(_0x349d7f[_0x22a64d['id']]&&(_0x5be662[_0x9a8105(0x20b)](_0x26c2be,_0x141287[_0xdb592c['id']]),delete _0x3648df[_0x40b73d['id']]),_0x4d45de[_0x9a8105(0x2f6)]()),_0x2074f8&&_0x2c0105[_0x9a8105(0x2f6)](),_0x2bf1e9=_0x3b23c5['CALL_FLAG']['DISCONNECTED'],_0x48ce99(_0xb3f6f6,[],_0x24e475),_0x226f59={},_0x3ba39f=[]));_0x141880=_0x141880||PARTICIPANT[_0x9a8105(0x1d4)][_0x9a8105(0x1ea)];const _0x436482=PARTICIPANT[_0x9a8105(0x1d4)]['WITH_AUDIO']|PARTICIPANT[_0x9a8105(0x1d4)][_0x9a8105(0x1d2)];return _0x5be662[_0x9a8105(0x1c5)](_0x141880,_0x436482)!==0x0;}function usersChanged(_0x316b90,_0x261e20,_0x308f9d){'use strict';const _0x2d55f6=_0x32c287,_0x574936={'doPwr':'rIpLr','OyZhz':_0x2d55f6(0x2db),'DudAi':_0x2d55f6(0x126),'GQZFn':_0x2d55f6(0x16d),'pzjpn':function(_0x2767a6,_0x4bbb2e){return _0x2767a6===_0x4bbb2e;},'TUlZx':function(_0x1a46a5){return _0x1a46a5();},'QaJAq':function(_0x47a388,_0x49a1a8){return _0x47a388!==_0x49a1a8;},'WiHBf':function(_0x4cd3ee,_0x330fd3){return _0x4cd3ee!==_0x330fd3;},'IzAiV':_0x2d55f6(0x1cc),'HzPaz':'mcu','HLyKr':function(_0x2191eb,_0x1bfbb8){return _0x2191eb(_0x1bfbb8);},'guAQn':function(_0xfbe204,_0x585a08){return _0xfbe204(_0x585a08);},'rdjeo':function(_0x14d021,_0x525c70,_0x4583dd){return _0x14d021(_0x525c70,_0x4583dd);},'UcrSs':function(_0x4e1dc2,_0x4bc9ee){return _0x4e1dc2(_0x4bc9ee);},'enaMC':function(_0x41cd93,_0x1b7ba3){return _0x41cd93>_0x1b7ba3;},'aPZuH':_0x2d55f6(0x242),'GJkGZ':function(_0x3620bb,_0xb48b38){return _0x3620bb===_0xb48b38;},'oLCIQ':_0x2d55f6(0x23c)};const _0x9f119b=_0x316b90[_0x2d55f6(0x1a8)](),_0x253315=_0x316b90['hasFeature'](_0x574936[_0x2d55f6(0x17d)]);let _0x48f092=![],_0x3094ea=![];_0x261e20[_0x2d55f6(0x24f)](function(_0x56feef){const _0x33e3b6=_0x2d55f6,_0x4b573d={'TFbgt':_0x33e3b6(0xf5),'DRYrZ':_0x574936[_0x33e3b6(0x19f)],'OXnfD':function(_0x45a2af,_0x9cd53a){const _0x2d1781=_0x33e3b6;return _0x574936[_0x2d1781(0x27f)](_0x45a2af,_0x9cd53a);},'hciBu':_0x33e3b6(0x270),'qHvdX':_0x574936[_0x33e3b6(0x13c)],'TgVoh':function(_0x219df0){const _0x2dd3f7=_0x33e3b6;return _0x574936[_0x2dd3f7(0x2ca)](_0x219df0);}};if(!_0x56feef[_0x33e3b6(0x23e)])return;const _0x5ca624=_0x56feef[_0x33e3b6(0x1a4)]||_0x56feef[_0x33e3b6(0x201)];if(!_0x5ca624||_0x5ca624===_0x9f119b||_0x574936[_0x33e3b6(0x296)](previousUsersInRoom[_0x33e3b6(0x274)](_0x5ca624),-0x1)){_0x5ca624===_0x9f119b&&_0x574936[_0x33e3b6(0x257)](previousUsersInRoom[_0x33e3b6(0x274)](_0x5ca624),-0x1)&&Sounds[_0x33e3b6(0x1b7)](!![],_0x261e20[_0x33e3b6(0x16f)]===0x1);return;}previousUsersInRoom[_0x33e3b6(0x14f)](_0x5ca624);const _0x1c3ca6=_0x56feef['userId']||_0x56feef[_0x33e3b6(0x1bd)]||null,_0x43d2e6=_0x56feef[_0x33e3b6(0x175)]||_0x56feef[_0x33e3b6(0x1af)]||_0x5ca624;let _0x423c09=callParticipantCollection['get'](_0x5ca624);!_0x423c09&&(_0x423c09=callParticipantCollection[_0x33e3b6(0x160)]({'peerId':_0x5ca624,'webRtc':webrtc}));_0x423c09[_0x33e3b6(0x1a0)](_0x1c3ca6),_0x423c09[_0x33e3b6(0x2d5)](_0x43d2e6);_0x56feef['internal']&&_0x423c09[_0x33e3b6(0x1b1)](_0x574936[_0x33e3b6(0x238)],!![]);(_0x316b90[_0x33e3b6(0x1a7)](_0x574936['HzPaz'])&&_0x56feef&&!userHasStreams(_0x56feef)||!_0x316b90[_0x33e3b6(0x1a7)](_0x33e3b6(0x1e8))&&_0x56feef&&!_0x574936[_0x33e3b6(0x2c6)](userHasStreams,_0x56feef)&&!webrtc['webrtc']['localStreams'][_0x33e3b6(0x16f)])&&(_0x423c09['setPeer'](null),_0x316b90['hasFeature'](_0x33e3b6(0x1e8))?sendCurrentStateWithRepetition():sendCurrentNick());_0x48f092=!![];const _0x2729f9=function(){const _0x109b39=_0x33e3b6,_0x3fd879=webrtc[_0x109b39(0x148)][_0x109b39(0x29e)]({'id':_0x5ca624,'type':'video','enableDataChannels':!![],'enableSimulcast':_0x316b90[_0x109b39(0x1a7)](_0x109b39(0x2d0)),'receiveMedia':{'offerToReceiveAudio':0x1,'offerToReceiveVideo':0x1},'sendVideoIfAvailable':_0x316b90[_0x109b39(0x269)]()});webrtc['emit'](_0x109b39(0x2a6),_0x3fd879),_0x3fd879[_0x109b39(0x2a9)]();};if(!webrtc[_0x33e3b6(0x148)]['getPeers'](_0x5ca624,_0x574936['DudAi'])[_0x33e3b6(0x16f)]){if(_0x253315&&_0x574936[_0x33e3b6(0x1c2)](userHasStreams,_0x56feef))_0x316b90['requestOffer'](_0x56feef,_0x574936[_0x33e3b6(0x13c)]),delayedConnectionToPeer[_0x56feef[_0x33e3b6(0x1a4)]]=_0x574936[_0x33e3b6(0x1e2)](setInterval,function(){const _0x31d9e4=_0x33e3b6;_0x574936[_0x31d9e4(0x2ae)]!==_0x574936['doPwr']?_0x389a5d[_0x31d9e4(0x148)]['emit']('videoOn'):(console[_0x31d9e4(0x2fa)](_0x574936['OyZhz']),_0x316b90['requestOffer'](_0x56feef,_0x574936['DudAi']));},0x2710);else{if(!_0x253315&&_0x574936[_0x33e3b6(0x168)](userHasStreams,selfInCall)&&(!userHasStreams(_0x56feef)||_0x5ca624<_0x9f119b))console['debug'](_0x33e3b6(0x112),_0x56feef),_0x2729f9();else!_0x253315&&userHasStreams(selfInCall)&&userHasStreams(_0x56feef)&&_0x574936[_0x33e3b6(0x1e1)](_0x5ca624,_0x9f119b)?delayedConnectionToPeer[_0x5ca624]=_0x574936[_0x33e3b6(0x1e2)](setInterval,function(){const _0x390a62=_0x33e3b6,_0x29185e={'xKZxt':_0x4b573d[_0x390a62(0x24e)],'KVCrS':function(_0x201c61,_0x4e23bd,_0xe5e77b){return _0x201c61(_0x4e23bd,_0xe5e77b);},'LCsis':_0x4b573d['DRYrZ']};_0x4b573d['OXnfD'](_0x390a62(0x270),_0x4b573d[_0x390a62(0x271)])?(webrtc['webrtc'][_0x390a62(0x19b)](_0x5ca624,_0x4b573d[_0x390a62(0x2bb)])[_0x390a62(0x24f)](function(_0x590537){const _0xfd0bf6=_0x390a62;_0x590537[_0xfd0bf6(0x2f6)]();}),console[_0x390a62(0x2fa)]('No\x20offer\x20nor\x20answer\x20received,\x20sending\x20offer\x20again'),_0x4b573d[_0x390a62(0x1a9)](_0x2729f9)):(_0x51deda[_0x390a62(0x1fc)](_0x29185e[_0x390a62(0x276)]),_0x4dd81e=_0x29185e['KVCrS'](_0x35550c,_0x29185e[_0x390a62(0x11a)],'WebRTC\x20is\x20not\x20supported\x20in\x20your\x20browser'),_0x341a53+=':\x20'+_0x20a2f8(_0x390a62(0x16d),'Please\x20use\x20a\x20different\x20browser\x20like\x20Firefox\x20or\x20Chrome'));},0x2710):console['debug'](_0x33e3b6(0xf8));}}webrtc[_0x33e3b6(0x2e5)]()&&_0x574936[_0x33e3b6(0x1e2)](createScreensharingPeer,_0x316b90,_0x5ca624);}),_0x308f9d[_0x2d55f6(0x24f)](function(_0x54620f){const _0x3d6d0b=_0x2d55f6,_0x172699={'nOfyk':function(_0x5ccfa1,_0x18d565){return _0x574936['guAQn'](_0x5ccfa1,_0x18d565);}};_0x574936[_0x3d6d0b(0x257)](_0x574936[_0x3d6d0b(0x267)],_0x574936[_0x3d6d0b(0x267)])?_0x205748=_0x33716d[_0x3d6d0b(0x160)]({'peerId':_0x3286ad['id'],'webRtc':_0x199b79}):(console['debug'](_0x3d6d0b(0x224),_0x54620f),webrtc[_0x3d6d0b(0x173)](_0x54620f),callParticipantCollection[_0x3d6d0b(0x2ef)](_0x54620f)&&(_0x574936[_0x3d6d0b(0x163)](_0x574936[_0x3d6d0b(0x2ed)],_0x574936[_0x3d6d0b(0x2ed)])?_0x3094ea=!![]:_0x172699[_0x3d6d0b(0x2c4)](_0x3ebeb6,_0x3dad74)),delayedConnectionToPeer[_0x54620f]&&(clearInterval(delayedConnectionToPeer[_0x54620f]),delete delayedConnectionToPeer[_0x54620f],_0x3094ea=!![]));}),previousUsersInRoom=arrayDiff(previousUsersInRoom,_0x308f9d);if(selfInCall!==PARTICIPANT[_0x2d55f6(0x1d4)][_0x2d55f6(0x1ea)]){if(_0x48f092)Sounds[_0x2d55f6(0x1b7)]();else _0x3094ea&&Sounds['playLeave'](![],_0x574936[_0x2d55f6(0x27f)](previousUsersInRoom['length'],0x0));}}function usersInCallChanged(_0x247a13,_0x529cee){const _0x5dd8fe=_0x32c287,_0x24852d={'uClPv':function(_0x18dac5,_0x1370e4){return _0x18dac5(_0x1370e4);},'DyELp':function(_0x566802,_0x1783c0){return _0x566802!==_0x1783c0;},'KKrpM':_0x5dd8fe(0x167),'SKtGp':_0x5dd8fe(0x2e6),'lMaKN':function(_0x1abaa9,_0xf11123){return _0x1abaa9===_0xf11123;},'ZOTHK':_0x5dd8fe(0x1e8),'bOIxe':function(_0x4aed71,_0x508996){return _0x4aed71>_0x508996;},'gqZuu':function(_0x5d632e,_0x29a500){return _0x5d632e!==_0x29a500;},'GfSzB':_0x5dd8fe(0x1c8),'cBCBP':_0x5dd8fe(0x2a8),'qXHiT':'leaveCall','CkhwF':function(_0x3e3a45,_0x568cef,_0x5ecb35,_0x16f4cc){return _0x3e3a45(_0x568cef,_0x5ecb35,_0x16f4cc);}},_0x564dea=selfInCall,_0x54b4e4=_0x247a13[_0x5dd8fe(0x1a8)](),_0x525561=[],_0x2e2ed0={};selfInCall=PARTICIPANT[_0x5dd8fe(0x1d4)][_0x5dd8fe(0x1ea)];let _0x5c4e22;for(_0x5c4e22 in _0x529cee){if(_0x24852d[_0x5dd8fe(0x139)](_0x24852d['KKrpM'],_0x24852d[_0x5dd8fe(0x18b)])){if(!Object[_0x5dd8fe(0x253)][_0x5dd8fe(0x13b)][_0x5dd8fe(0x230)](_0x529cee,_0x5c4e22))continue;const _0x5ea79a=_0x529cee[_0x5c4e22];if(!_0x5ea79a['inCall'])continue;if(_0x24852d[_0x5dd8fe(0x18c)](_0x5c4e22,_0x54b4e4)){selfInCall=_0x5ea79a[_0x5dd8fe(0x23e)];continue;}_0x525561[_0x5dd8fe(0x14f)](_0x5c4e22),_0x2e2ed0[_0x5c4e22]=_0x5ea79a;}else return;}_0x247a13[_0x5dd8fe(0x1a7)](_0x24852d['ZOTHK'])&&(ownPeer||_0x24852d[_0x5dd8fe(0x2cc)](_0x525561[_0x5dd8fe(0x16f)],0x0)&&webrtc[_0x5dd8fe(0x148)][_0x5dd8fe(0x118)][_0x5dd8fe(0x16f)])?(checkStartPublishOwnPeer(_0x247a13),localCallParticipantModel['setPeerNeeded'](!![])):_0x24852d['gqZuu'](_0x24852d['GfSzB'],'FBFEb')?(_0x24852d['uClPv'](_0x480ae0,_0xc3f3e3['check_video_interval']),_0x15975b['check_video_interval']=null):localCallParticipantModel[_0x5dd8fe(0x226)](![]);if(_0x24852d[_0x5dd8fe(0x18c)](_0x564dea,PARTICIPANT[_0x5dd8fe(0x1d4)][_0x5dd8fe(0x1ea)])&&selfInCall!==PARTICIPANT[_0x5dd8fe(0x1d4)][_0x5dd8fe(0x1ea)])Sounds[_0x5dd8fe(0x1b7)](!![],Object[_0x5dd8fe(0x228)](_0x2e2ed0)[_0x5dd8fe(0x16f)]===0x0);else _0x564dea!==PARTICIPANT['CALL_FLAG']['DISCONNECTED']&&selfInCall===PARTICIPANT[_0x5dd8fe(0x1d4)][_0x5dd8fe(0x1ea)]&&Sounds[_0x5dd8fe(0x134)](!![]);_0x564dea!==PARTICIPANT[_0x5dd8fe(0x1d4)]['DISCONNECTED']&&_0x24852d[_0x5dd8fe(0x18c)](selfInCall,PARTICIPANT[_0x5dd8fe(0x1d4)]['DISCONNECTED'])&&localUserInCall&&(console[_0x5dd8fe(0x172)](_0x24852d[_0x5dd8fe(0x223)]),_0x697698[_0x5dd8fe(0x2eb)](_0x24852d[_0x5dd8fe(0x17b)],{'token':_0x697698['getters']['getToken'](),'participantIdentifier':_0x697698[_0x5dd8fe(0x102)][_0x5dd8fe(0x21d)]()}));if(_0x24852d[_0x5dd8fe(0x18c)](selfInCall,PARTICIPANT[_0x5dd8fe(0x1d4)][_0x5dd8fe(0x1ea)])){_0x24852d[_0x5dd8fe(0x243)](usersChanged,_0x247a13,[],previousUsersInRoom);return;}const _0x30e3de=arrayDiff(_0x525561,previousUsersInRoom),_0x1ebafd=arrayDiff(previousUsersInRoom,_0x525561),_0x5d15c5=[];_0x30e3de['forEach'](function(_0x7aee82){const _0x2b8169=_0x5dd8fe;_0x5d15c5[_0x2b8169(0x14f)](_0x2e2ed0[_0x7aee82]);}),(_0x5d15c5[_0x5dd8fe(0x16f)]||_0x1ebafd[_0x5dd8fe(0x16f)])&&usersChanged(_0x247a13,_0x5d15c5,_0x1ebafd);}export default function initWebRtc(_0x3d0ffd,_0x466c80,_0x550ff8){const _0x3bf334=_0x32c287,_0x522fab={'IgcZg':_0x3bf334(0x255),'mxbmn':function(_0x2170fc,_0x5e6c49){return _0x2170fc>_0x5e6c49;},'IdWhc':function(_0x231d58,_0x19fa3b){return _0x231d58&_0x19fa3b;},'drsfs':function(_0x1c0ecf,_0x57380a){return _0x1c0ecf===_0x57380a;},'gBLMf':_0x3bf334(0x289),'sBxMn':function(_0x45e288,_0x47d97a){return _0x45e288!==_0x47d97a;},'OYldl':_0x3bf334(0x252),'ckuqB':_0x3bf334(0x22d),'BjGky':'PURlI','HxQSV':_0x3bf334(0x1b6),'ZNKEH':function(_0x25e08c,_0x14a920){return _0x25e08c(_0x14a920);},'rDkbF':function(_0x49a45f,_0x2f09a6){return _0x49a45f<_0x2f09a6;},'SLOBY':function(_0x5ca01b,_0x3aa20f){return _0x5ca01b===_0x3aa20f;},'njrmX':_0x3bf334(0x108),'floUJ':_0x3bf334(0x2e0),'aEJnG':function(_0x143e95,_0x265e52){return _0x143e95===_0x265e52;},'oklhb':function(_0x39cdf0,_0x1ec862){return _0x39cdf0!==_0x1ec862;},'tJvJt':function(_0x213811){return _0x213811();},'RjmYD':function(_0x3a1f6e,_0x1ed4dd,_0x5d4eba){return _0x3a1f6e(_0x1ed4dd,_0x5d4eba);},'LlObw':_0x3bf334(0x11d),'yoiZb':_0x3bf334(0x126),'UNdMP':function(_0x26be62,_0x537be1){return _0x26be62(_0x537be1);},'aBAzg':function(_0x2b5848,_0x4aa48f){return _0x2b5848!==_0x4aa48f;},'CCNRv':function(_0x549c4a,_0x3651e8){return _0x549c4a(_0x3651e8);},'XtaeZ':_0x3bf334(0x2d4),'IMDWc':_0x3bf334(0x220),'GZOXL':_0x3bf334(0x28f),'cJkrp':function(_0x448aac,_0x45eab7){return _0x448aac&_0x45eab7;},'dHJoW':'createdPeer','dWJXB':function(_0x2063e3,_0x137fb4){return _0x2063e3!==_0x137fb4;},'TAZJT':_0x3bf334(0x218),'ZiwWh':_0x3bf334(0x1e8),'uCcqX':_0x3bf334(0x1a1),'TbMiJ':function(_0x474c65){return _0x474c65();},'CpZeA':function(_0x11933e,_0x80b67f){return _0x11933e!==_0x80b67f;},'hQaEp':function(_0x5abf24,_0x43d44e,_0x446c26){return _0x5abf24(_0x43d44e,_0x446c26);},'kWksj':_0x3bf334(0x180),'AtATV':_0x3bf334(0x27e),'EBSzq':'{linkend}','prwBh':'\x20↗</a>','ZwFuk':_0x3bf334(0x14a),'TDpSh':_0x3bf334(0x1bf),'rCAqK':'ICE\x20restart\x20after\x20failure.','siGOA':'ICE\x20failed\x20after\x205\x20tries.','izuyw':_0x3bf334(0x1d9),'TPcnb':_0x3bf334(0x1b5),'UWAKf':function(_0x544669,_0x5ec581,_0x63706c){return _0x544669(_0x5ec581,_0x63706c);},'tWKoV':_0x3bf334(0x28c),'ydBaL':'Connection\x20failed.','HaDIU':_0x3bf334(0x28d),'hiDNz':_0x3bf334(0x2cf),'qcRgz':_0x3bf334(0x14b),'dnndg':_0x3bf334(0x136),'JnTqr':'signalingstatechange','cKaID':_0x3bf334(0x22c),'xjwZE':_0x3bf334(0x2e9),'ptPKb':_0x3bf334(0x1b2),'HKOOT':function(_0x3a436d,_0x180d80){return _0x3a436d===_0x180d80;},'dWNJv':_0x3bf334(0x25d),'zxFeP':_0x3bf334(0xef),'rqPQf':function(_0x15f687,_0x43000f){return _0x15f687===_0x43000f;},'OVuYu':_0x3bf334(0x1a5),'VXFLS':'cxAwN','wHAyF':function(_0xae49cb,_0x37d62b,_0x5194b1){return _0xae49cb(_0x37d62b,_0x5194b1);},'vSEjU':_0x3bf334(0x122),'gapuG':'localMediaStarted','sBEsF':_0x3bf334(0x1e9),'lAHRw':function(_0x2d3c6a,_0x4e3b56,_0x2d0338){return _0x2d3c6a(_0x4e3b56,_0x2d0338);},'rQBmj':_0x3bf334(0x260),'ztmtN':function(_0x5dc4c5,_0x1d3728){return _0x5dc4c5&_0x1d3728;},'YwszH':function(_0x4180f5,_0x30e9b8){return _0x4180f5&_0x30e9b8;},'ZSxfF':function(_0x5b63c2,_0x52ff24){return _0x5b63c2&_0x52ff24;},'oqfMp':function(_0xf24dc8,_0x48b19d){return _0xf24dc8(_0x48b19d);},'VlPtb':function(_0x545a61,_0x4d0084){return _0x545a61(_0x4d0084);},'tQeOa':function(_0x43d29a,_0x190ba3){return _0x43d29a(_0x190ba3);},'SYACo':function(_0x325ec0,_0x245908){return _0x325ec0===_0x245908;},'WiVOi':function(_0x262241,_0x153862,_0x74ecb0){return _0x262241(_0x153862,_0x74ecb0);},'YgSLm':function(_0x390539,_0x1bca47){return _0x390539!==_0x1bca47;},'RIuwK':_0x3bf334(0x174),'ysAXh':function(_0x18ac43,_0x27f5dd){return _0x18ac43(_0x27f5dd);},'UqyUf':function(_0x233175,_0x5e02b7){return _0x233175(_0x5e02b7);},'vSEpg':_0x3bf334(0x18d),'lLSav':'audio','aDmvK':_0x3bf334(0x217),'ondiC':function(_0x4083f5,_0x4e6190,_0x263a35){return _0x4083f5(_0x4e6190,_0x263a35);},'vPjMi':_0x3bf334(0x2d2),'lWTEa':function(_0x3c04c9,_0x14ae3f){return _0x3c04c9(_0x14ae3f);},'KJgTD':function(_0x257424,_0x455ff1){return _0x257424===_0x455ff1;},'FGbTn':'uOCzu','mpKwp':function(_0x3a73cb,_0x1c9918){return _0x3a73cb===_0x1c9918;},'ocEGJ':function(_0x1114fe,_0x2bf382,_0x4fb4a3){return _0x1114fe(_0x2bf382,_0x4fb4a3);},'UElFX':_0x3bf334(0x135),'FHCom':function(_0x5d3abf){return _0x5d3abf();},'QJOmQ':function(_0x509f46,_0x277153){return _0x509f46(_0x277153);},'nvJoP':'omZje','szwsn':_0x3bf334(0x166),'WUjYZ':function(_0xe399ce,_0x4d4a17){return _0xe399ce===_0x4d4a17;},'ifwuV':function(_0x1a2d48,_0x1f8732){return _0x1a2d48|_0x1f8732;},'QEbqX':_0x3bf334(0x2fb),'kJEth':_0x3bf334(0x1bb),'OVFms':function(_0x2f8163){return _0x2f8163();},'UWzHc':_0x3bf334(0x27b),'ntbak':_0x3bf334(0x1f7),'usQEv':_0x3bf334(0x1ce),'BrklH':_0x3bf334(0xfb),'QyWWd':_0x3bf334(0x151),'DxKFR':_0x3bf334(0x16d),'srOXs':_0x3bf334(0x214),'COUYv':function(_0x475b52,_0x4e8114){return _0x475b52+_0x4e8114;},'rOtFA':function(_0x2981af,_0x356d2,_0x132e8d){return _0x2981af(_0x356d2,_0x132e8d);},'fCJib':_0x3bf334(0x11f),'XLbId':function(_0x4d5dd3,_0x14568e,_0x3daa0b){return _0x4d5dd3(_0x14568e,_0x3daa0b);},'YyNkN':function(_0x227c88,_0x1fd2ae,_0x34c02f){return _0x227c88(_0x1fd2ae,_0x34c02f);},'uyuBs':_0x3bf334(0x198),'NSHFe':function(_0x4d7cbe,_0x2cda8c){return _0x4d7cbe===_0x2cda8c;},'yGOWg':_0x3bf334(0x1a3),'kZJvn':'mute','AgMil':_0x3bf334(0x128),'WtPfv':_0x3bf334(0x2de),'xmsIf':function(_0x9ac927,_0x453b7a){return _0x9ac927!==_0x453b7a;},'vcTqV':_0x3bf334(0x1e3),'PKgpA':'TiIIr','JMkXb':_0x3bf334(0x1ae),'DLSOR':function(_0x435dbd,_0x2b666d){return _0x435dbd===_0x2b666d;},'nZyZS':_0x3bf334(0x234),'ZbkVH':'stoppedSpeaking','Iwlsq':_0x3bf334(0x23f),'upaSS':function(_0x5347c0,_0x54b07d){return _0x5347c0!==_0x54b07d;},'ABoPQ':function(_0x55182b,_0x3ef3fd,_0x145cc6){return _0x55182b(_0x3ef3fd,_0x145cc6);},'Awxlm':_0x3bf334(0x222),'MgxTb':_0x3bf334(0x106),'KFDDP':function(_0xc70594,_0x3dd868){return _0xc70594!==_0x3dd868;},'NywHq':'YUlAg','UITDC':'nickChanged','wfgbn':function(_0x375fcc,_0x224c15,_0xdb4517,_0x1f405f){return _0x375fcc(_0x224c15,_0xdb4517,_0x1f405f);},'MlkBv':'HhlBV','JqgAr':function(_0x1d7795,_0x3676ad){return _0x1d7795===_0x3676ad;},'WWQTT':_0x3bf334(0x2da),'jzduh':_0x3bf334(0x194),'DIHLb':_0x3bf334(0x287),'VAMoC':_0x3bf334(0x2cd),'xyGlg':function(_0x4122e4,_0x1405de){return _0x4122e4!==_0x1405de;},'MZhnc':_0x3bf334(0x233),'mWERk':_0x3bf334(0x1ba),'OTSAo':_0x3bf334(0x14d),'pkGPS':_0x3bf334(0x140),'EwnZH':_0x3bf334(0x12c),'gIEYz':'leaveCall','BkBEA':'simulcast','HVqHx':'pullMessagesStoppedOnFail','woUOC':_0x3bf334(0x2ad),'AkzYQ':_0x3bf334(0x12d),'cbviw':_0x3bf334(0x207),'Cujex':_0x3bf334(0x161),'nOqDn':_0x3bf334(0xea),'WcUqx':'localTrackReplaced','CgJby':_0x3bf334(0x10e),'SEGzt':'sendToAll','BUDVT':_0x3bf334(0x101),'eeXug':'localScreenAdded','aXlVB':_0x3bf334(0x1ec)};callParticipantCollection=_0x466c80,localCallParticipantModel=_0x550ff8,_0x3d0ffd['on'](_0x3bf334(0x268),function(_0x2cea4c){const _0x1ba8dd=_0x3bf334;_0x2cea4c[_0x1ba8dd(0x24f)](function(_0x50bf23){delete usersInCallMapping[_0x50bf23];}),usersChanged(_0x3d0ffd,[],_0x2cea4c);}),_0x3d0ffd['on'](_0x3bf334(0x2ad),function(_0xfcb6d5){const _0x55f3dd=_0x3bf334,_0x2ab2d4={'aOOCL':function(_0x1701c7,_0x4b6982){return _0x1701c7(_0x4b6982);}};_0x522fab['IgcZg']!==_0x522fab['IgcZg']?(_0x2ab2d4[_0x55f3dd(0x259)](_0x26f45e,_0xf51caf[_0x4ed3f8]),delete _0x2c4d6b[_0x5fa305],_0x6f6c69=!![]):(_0xfcb6d5[_0x55f3dd(0x24f)](function(_0x4e6594){const _0x66851a=_0x55f3dd,_0x5a8146=_0x4e6594[_0x66851a(0x1a4)]||_0x4e6594[_0x66851a(0x201)];usersInCallMapping[_0x5a8146]=_0x4e6594;}),usersInCallChanged(_0x3d0ffd,usersInCallMapping));}),_0x3d0ffd['on'](_0x522fab['mWERk'],function(_0x586d94){const _0x2a3cc4=_0x3bf334,_0x28b5a7=callParticipantCollection[_0x2a3cc4(0x1a2)](_0x586d94[_0x2a3cc4(0x201)]);_0x28b5a7&&(_0x28b5a7[_0x2a3cc4(0x1b1)]('speaking',_0x522fab[_0x2a3cc4(0x2a0)](_0x522fab['IdWhc'](_0x586d94[_0x2a3cc4(0x25e)],PARTICIPANT['SIP_FLAG']['SPEAKING']),0x0)),_0x28b5a7[_0x2a3cc4(0x1b1)]('audioAvailable',_0x522fab['drsfs'](_0x586d94[_0x2a3cc4(0x25e)]&PARTICIPANT[_0x2a3cc4(0x28a)][_0x2a3cc4(0x2be)],0x0)),_0x28b5a7[_0x2a3cc4(0x1b1)](_0x522fab['gBLMf'],{'state':_0x522fab[_0x2a3cc4(0x1de)](_0x586d94[_0x2a3cc4(0x25e)],PARTICIPANT[_0x2a3cc4(0x28a)][_0x2a3cc4(0x1c0)])!==0x0,'timestamp':Date['now']()}));}),_0x3d0ffd['on'](_0x522fab[_0x3bf334(0x297)],function(_0x410396){const _0x216fd1=_0x3bf334,_0x2ac3f2={'JnpIG':function(_0x4fda18,_0x2cfc9d){const _0x4c6e36=_0x2952;return _0x522fab[_0x4c6e36(0x237)](_0x4fda18,_0x2cfc9d);},'GdUdK':_0x522fab[_0x216fd1(0x2f3)]};usersInCallMapping={},_0x410396[_0x216fd1(0x24f)](function(_0x377df2){const _0x21230a=_0x216fd1;if(_0x2ac3f2[_0x21230a(0x302)](_0x2ac3f2[_0x21230a(0x205)],_0x2ac3f2[_0x21230a(0x205)]))_0x5b5229[_0x1cd219['id']]=0x0;else{const _0x31fae9=_0x377df2[_0x21230a(0x1a4)]||_0x377df2[_0x21230a(0x201)];usersInCallMapping[_0x31fae9]=_0x377df2;}}),usersInCallChanged(_0x3d0ffd,usersInCallMapping);}),_0x3d0ffd['on'](_0x522fab['pkGPS'],function(_0x3c6d8a,_0x193b57){const _0x3601fc=_0x3bf334;if('KfLbC'!==_0x522fab[_0x3601fc(0x1c7)])return;else localUserInCall=!![];}),_0x3d0ffd['on'](_0x522fab[_0x3bf334(0x2ab)],function(_0x92a9c9,_0xf7fac5){localUserInCall=![];}),_0x3d0ffd['on'](_0x522fab[_0x3bf334(0x294)],function(_0x24bfeb,_0xfc6c49){const _0xb54109=_0x3bf334;if(_0x522fab[_0xb54109(0xf0)]===_0xb54109(0x2fc))_0x579590();else{const _0xdd0d6=_0x522fab[_0xb54109(0x227)][_0xb54109(0x1b0)]('|');let _0x27cda5=0x0;while(!![]){switch(_0xdd0d6[_0x27cda5++]){case'0':Sounds[_0xb54109(0x134)](!![]);continue;case'1':webrtc[_0xb54109(0x12e)]();continue;case'2':_0x1369b8();continue;case'3':if(_0xfc6c49)return;continue;case'4':ownPeer&&delayedConnectionToPeer[ownPeer['id']]&&(_0x522fab[_0xb54109(0x2b4)](clearInterval,delayedConnectionToPeer[ownPeer['id']]),delete delayedConnectionToPeer[ownPeer['id']]);continue;}break;}}}),_0x3d0ffd['on'](_0x3bf334(0x26d),function(_0x2e2c46){const _0x2e5dc2=_0x3bf334,_0x18dfdf={'Bhsih':function(_0x784269){const _0x5d33a4=_0x2952;return _0x522fab[_0x5d33a4(0x1f4)](_0x784269);},'brGVz':function(_0xd7cf49,_0x472489,_0x1e99cf){const _0x46e434=_0x2952;return _0x522fab[_0x46e434(0x285)](_0xd7cf49,_0x472489,_0x1e99cf);},'qIuyy':_0x522fab['LlObw'],'SvZOd':_0x2e5dc2(0x234)};if('UjgCJ'!==_0x2e5dc2(0x2bd)){const _0xda5808={'ntwsh':function(_0x3aae55,_0x11bad0,_0x29e91d){return _0x3aae55(_0x11bad0,_0x29e91d);},'fPXMM':'This\x20is\x20taking\x20longer\x20than\x20expected.\x20Are\x20the\x20media\x20permissions\x20already\x20granted\x20(or\x20rejected)?\x20If\x20yes\x20please\x20restart\x20your\x20browser,\x20as\x20audio\x20and\x20video\x20are\x20failing'};_0x18dfdf[_0x2e5dc2(0x165)](_0xecb41b),_0x2a358f=_0x18dfdf[_0x2e5dc2(0x256)](_0x87aba9,function(){const _0x1771b4=_0x2e5dc2;_0x31840d=_0xda5808[_0x1771b4(0x23d)](_0x53a73e,_0x7caaa2(_0x1771b4(0x16d),_0xda5808[_0x1771b4(0x248)]),{'timeout':_0x54369a});},0x2710);}else{if(_0x2e2c46[_0x2e5dc2(0x2f8)]===_0x2e5dc2(0x202)&&_0x2e2c46[_0x2e5dc2(0x25c)]===_0x522fab['yoiZb']&&delayedConnectionToPeer[_0x2e2c46[_0x2e5dc2(0x241)]]){_0x522fab['UNdMP'](clearInterval,delayedConnectionToPeer[_0x2e2c46[_0x2e5dc2(0x241)]]),delete delayedConnectionToPeer[_0x2e2c46[_0x2e5dc2(0x241)]];return;}if(_0x522fab['aBAzg'](_0x2e2c46[_0x2e5dc2(0x2f8)],_0x522fab[_0x2e5dc2(0x28b)]))return;const _0x44adc3=webrtc['webrtc'][_0x2e5dc2(0x264)],_0x555455=_0x44adc3[_0x2e5dc2(0x2e4)](function(_0x372ddf){const _0x4ae4fe=_0x2e5dc2,_0x1f0c0b={'LUvHb':function(_0x1f0396,_0x4e7208){return _0x522fab['rDkbF'](_0x1f0396,_0x4e7208);},'wbzQl':function(_0xc5d9c3,_0x2cf225){const _0x5d6065=_0x2952;return _0x522fab[_0x5d6065(0x188)](_0xc5d9c3,_0x2cf225);},'osvou':_0x522fab['njrmX']};if(_0x372ddf[_0x4ae4fe(0x208)]){if('BKtyg'!==_0x522fab[_0x4ae4fe(0x26c)])_0x1f0c0b[_0x4ae4fe(0x210)](_0x590c16[_0x434808['id']],0x5)&&(_0x1f0c0b[_0x4ae4fe(0x2d6)](_0x2ac4c8['pc'][_0x4ae4fe(0x12b)][_0x4ae4fe(0x2f8)],_0x1f0c0b[_0x4ae4fe(0x111)])&&_0x1f0c0b['wbzQl'](_0x18029b['pc'][_0x4ae4fe(0x28e)],_0x4ae4fe(0x10c))&&(_0x3741c3[_0x8c01d2['id']]++,_0x1fbb76[_0x4ae4fe(0x2fa)]('ICE\x20restart\x20after\x20disconnect.',_0x9951d9),_0x4c2367[_0x4ae4fe(0x27c)]()));else return![];}return _0x522fab['aEJnG'](_0x372ddf['id'],_0x2e2c46['from'])&&_0x372ddf[_0x4ae4fe(0x2f8)]===_0x2e2c46[_0x4ae4fe(0x25c)]&&_0x522fab[_0x4ae4fe(0x2ac)](_0x372ddf['sid'],_0x2e2c46[_0x4ae4fe(0x24a)]);});if(_0x555455){if(_0x2e5dc2(0x2df)===_0x2e5dc2(0x125))return;else _0x555455['end']();}_0x2e2c46[_0x2e5dc2(0x25c)]===_0x2e5dc2(0x126)&&delayedConnectionToPeer[_0x2e2c46[_0x2e5dc2(0x241)]]&&(_0x522fab[_0x2e5dc2(0x187)](clearInterval,delayedConnectionToPeer[_0x2e2c46['from']]),delete delayedConnectionToPeer[_0x2e2c46['from']]),!selfInCall&&(_0x522fab[_0x2e5dc2(0xf1)]===_0x2e5dc2(0x251)?_0x33ee0c(_0x18dfdf[_0x2e5dc2(0x1b4)],_0x18dfdf[_0x2e5dc2(0x1f0)]):(console[_0x2e5dc2(0x2fa)](_0x522fab['IMDWc']),_0x2e2c46['type']='offer-to-ignore')),_0x3d0ffd[_0x2e5dc2(0x1a7)](_0x2e5dc2(0x1e8))&&_0x2e2c46[_0x2e5dc2(0x25c)]===_0x522fab[_0x2e5dc2(0x2dc)]&&(_0x2e2c46[_0x2e5dc2(0x275)]=_0x2e2c46['from']);}}),webrtc=new _0x4d7f8a({'autoRequestMedia':!![],'debug':![],'autoAdjustMic':![],'audioFallback':!![],'connection':_0x3d0ffd,'enableDataChannels':!![],'enableSimulcast':_0x3d0ffd[_0x3bf334(0x1a7)](_0x522fab[_0x3bf334(0x193)]),'nick':_0x697698[_0x3bf334(0x102)][_0x3bf334(0x2b2)]()});!window[_0x3bf334(0x190)][_0x3bf334(0x17e)]&&(_0x3bf334(0x2f9)!=='ioOLz'?window[_0x3bf334(0x190)]['Talk']={}:(_0x1a9bc9[_0x3bf334(0x258)]&&(_0x941161|=_0x245a43['CALL_FLAG'][_0x3bf334(0x25b)]),_0x36cc1f[_0x3bf334(0x126)]&&_0x2f65ac[_0x3bf334(0x269)]()&&(_0x57067e|=_0x1f338e[_0x3bf334(0x1d4)]['WITH_VIDEO'])));window['OCA'][_0x3bf334(0x17e)][_0x3bf334(0x156)]=webrtc,_0x3d0ffd['on'](_0x522fab[_0x3bf334(0x2b1)],function(){const _0x37166f=_0x3bf334;webrtc[_0x37166f(0x12e)]();}),webrtc['startMedia']=function(_0x251ca9,_0x8f8398){const _0x2a8cbc=_0x3bf334;startedWithMedia=undefined;const _0x11c85e={'audio':!_0x8f8398||!!_0x522fab[_0x2a8cbc(0x114)](_0x8f8398,PARTICIPANT[_0x2a8cbc(0x1d4)][_0x2a8cbc(0x25b)]),'video':!_0x8f8398||!!_0x522fab[_0x2a8cbc(0x1de)](_0x8f8398,PARTICIPANT['CALL_FLAG'][_0x2a8cbc(0x1d2)])};webrtc['joinCall'](_0x251ca9,_0x11c85e);};const _0x1edda4=function(_0x236bcd,_0x576e88,_0x3e403b){const _0x2605e7=_0x3bf334,_0x250829={'GZHts':_0x522fab['GZOXL'],'gIsro':_0x522fab[_0x2605e7(0x171)]};if(_0x522fab[_0x2605e7(0x159)](_0x522fab[_0x2605e7(0x2ea)],_0x522fab[_0x2605e7(0x2ea)])){const _0x24e1a0={'vJBqp':function(_0x46ab5f,_0x396d44){return _0x46ab5f===_0x396d44;}},_0x4addaf=_0x551a64['webrtc']['getPeers'](_0x1c7d12,_0x250829[_0x2605e7(0x16c)]),_0x2b0019=_0x4addaf[_0x2605e7(0x2e4)](function(_0x19841f){const _0x1bda24=_0x2605e7;return _0x24e1a0[_0x1bda24(0x1ca)](_0x19841f[_0x1bda24(0x208)],!![]);});if(!_0x2b0019){const _0x1f9709=_0x3c5656['webrtc'][_0x2605e7(0x29e)]({'id':_0x41ea87,'type':_0x250829[_0x2605e7(0x16c)],'sharemyscreen':!![],'enableDataChannels':![],'enableSimulcast':_0x1f3658[_0x2605e7(0x1a7)](_0x2605e7(0x2d0)),'receiveMedia':{'offerToReceiveAudio':0x0,'offerToReceiveVideo':0x0},'broadcaster':_0xa2d212});_0x33d361[_0x2605e7(0x115)](_0x250829[_0x2605e7(0x119)],_0x1f9709),_0x1f9709[_0x2605e7(0x2a9)]();}}else{if(ownPeer&&_0x3d0ffd[_0x2605e7(0x1a7)]&&_0x3d0ffd['hasFeature']('mcu')){ownPeer['sendDirectly'](_0x236bcd,_0x576e88,_0x3e403b);return;}webrtc[_0x2605e7(0x2e3)](_0x236bcd,_0x576e88,_0x3e403b);}};function _0x113d4e(_0x2ed7a4){const _0x51673c=_0x3bf334,_0xad518={'LUGNa':function(_0x40d7f1,_0xe232f){const _0x3d60ba=_0x2952;return _0x522fab[_0x3d60ba(0x187)](_0x40d7f1,_0xe232f);}};!_0x3d0ffd[_0x51673c(0x1a7)](_0x522fab['ZiwWh'])?_0x522fab[_0x51673c(0x231)](_0x51673c(0x124),_0x522fab[_0x51673c(0x2f0)])?sendCurrentMediaState():_0xad518[_0x51673c(0x1cf)](_0x578a0a,_0x53ea4c):_0x522fab[_0x51673c(0x300)](sendCurrentStateWithRepetition),_0x522fab[_0x51673c(0x2a0)](spreedPeerConnectionTable[_0x2ed7a4['id']],0x0)&&(spreedPeerConnectionTable[_0x2ed7a4['id']]=0x0);}function _0x470308(_0x4b2c85){const _0x1360c6=_0x3bf334,_0xe3833a={'dcglz':function(_0xe775c6,_0xa8a9e9){const _0x5ad2e4=_0x2952;return _0x522fab[_0x5ad2e4(0xec)](_0xe775c6,_0xa8a9e9);},'WSScU':'disconnected','kfPnk':_0x1360c6(0x19e)};_0x522fab['RjmYD'](setTimeout,function(){const _0x28ea51=_0x1360c6;if(_0xe3833a[_0x28ea51(0x15e)](_0x4b2c85['pc'][_0x28ea51(0x26f)],_0xe3833a['WSScU']))return;_0x4b2c85[_0x28ea51(0x115)](_0x28ea51(0x1d9),_0xe3833a[_0x28ea51(0x29f)]),!_0x3d0ffd[_0x28ea51(0x1a7)](_0x28ea51(0x1e8))&&(spreedPeerConnectionTable[_0x4b2c85['id']]<0x5&&(_0x4b2c85['pc']['localDescription'][_0x28ea51(0x2f8)]==='offer'&&_0x4b2c85['pc'][_0x28ea51(0x28e)]===_0x28ea51(0x10c)&&(spreedPeerConnectionTable[_0x4b2c85['id']]++,console[_0x28ea51(0x2fa)](_0x28ea51(0x2cd),_0x4b2c85),_0x4b2c85[_0x28ea51(0x27c)]())));},0x1388);}function _0x48d247(_0x34fbd3){const _0x32769e=_0x3bf334;!showedTURNWarning&&!_0x3d0ffd['settings'][_0x32769e(0x182)]['length']&&(_0x522fab[_0x32769e(0x285)](showError,_0x522fab[_0x32769e(0x301)](t,_0x32769e(0x16d),_0x32769e(0x185))['replace'](_0x522fab[_0x32769e(0x15b)],_0x522fab[_0x32769e(0x1f8)])[_0x32769e(0x299)](_0x522fab[_0x32769e(0x2b7)],_0x522fab['prwBh']),{'timeout':TOAST_PERMANENT_TIMEOUT,'isHTML':!![]}),showedTURNWarning=!![]),!_0x3d0ffd['hasFeature']('mcu')?_0x522fab[_0x32769e(0x1dd)]===_0x522fab[_0x32769e(0x1ee)]?_0x43df54&=~_0x394a53[_0x32769e(0x1d4)][_0x32769e(0x25b)]:_0x522fab[_0x32769e(0x286)](spreedPeerConnectionTable[_0x34fbd3['id']],0x5)?_0x34fbd3['pc'][_0x32769e(0x12b)][_0x32769e(0x2f8)]===_0x32769e(0x108)&&_0x522fab[_0x32769e(0x1dc)](_0x34fbd3['pc'][_0x32769e(0x28e)],'stable')&&(spreedPeerConnectionTable[_0x34fbd3['id']]++,console[_0x32769e(0x2fa)](_0x522fab[_0x32769e(0x2fd)],_0x34fbd3),_0x34fbd3[_0x32769e(0x27c)]()):(console[_0x32769e(0x1fc)](_0x522fab[_0x32769e(0x1be)],_0x34fbd3),_0x34fbd3[_0x32769e(0x115)](_0x522fab[_0x32769e(0x21f)],_0x522fab['TPcnb'])):(console[_0x32769e(0x2fa)](_0x32769e(0x1c4),_0x34fbd3),_0x3d0ffd[_0x32769e(0x1ac)](_0x34fbd3['id'],_0x32769e(0x126)),delayedConnectionToPeer[_0x34fbd3['id']]=_0x522fab[_0x32769e(0x157)](setInterval,function(){const _0x5a5282=_0x32769e;console[_0x5a5282(0x2fa)](_0x5a5282(0x154),_0x34fbd3),_0x3d0ffd[_0x5a5282(0x1ac)](_0x34fbd3['id'],_0x5a5282(0x126));},0x2710));}function _0x2e5e7c(_0x47619c){const _0x272c79=_0x3bf334,_0x11ccab={'PmpmX':_0x522fab[_0x272c79(0x21f)],'oMYWY':_0x272c79(0x298),'XKrKb':_0x522fab[_0x272c79(0x13f)],'zsHhE':_0x272c79(0x22c),'UFiuy':function(_0x469e91,_0x4849f6){const _0x1720f7=_0x272c79;return _0x522fab[_0x1720f7(0x187)](_0x469e91,_0x4849f6);},'dqYOY':function(_0x334e83,_0x169f7d){const _0x2b1d02=_0x272c79;return _0x522fab[_0x2b1d02(0x187)](_0x334e83,_0x169f7d);},'jqvjq':_0x522fab[_0x272c79(0x20a)],'cVUIX':function(_0xb362f9,_0x43925d){const _0x361987=_0x272c79;return _0x522fab[_0x361987(0x110)](_0xb362f9,_0x43925d);},'AyLzO':_0x272c79(0x26a)};spreedPeerConnectionTable[_0x47619c['id']]=0x0,_0x47619c['pc']['addEventListener'](_0x272c79(0x2d1),function(){const _0x18f604=_0x272c79;_0x47619c['emit'](_0x11ccab[_0x18f604(0x265)],_0x47619c['pc'][_0x18f604(0x26f)]);switch(_0x47619c['pc'][_0x18f604(0x26f)]){case _0x11ccab['oMYWY']:console[_0x18f604(0x2fa)](_0x11ccab[_0x18f604(0x1f1)],_0x47619c);break;case _0x18f604(0x1aa):case _0x11ccab[_0x18f604(0x213)]:console['debug'](_0x18f604(0x2aa),_0x47619c),_0x11ccab[_0x18f604(0x1c3)](_0x113d4e,_0x47619c);break;case _0x18f604(0x121):console[_0x18f604(0x2fa)](_0x18f604(0xf2),_0x47619c),_0x11ccab[_0x18f604(0x147)](_0x470308,_0x47619c);break;case _0x18f604(0x28d):console[_0x18f604(0x2fa)](_0x11ccab['jqvjq'],_0x47619c),_0x11ccab[_0x18f604(0x1e4)](_0x48d247,_0x47619c);break;case _0x11ccab['AyLzO']:console['debug'](_0x18f604(0x1ef),_0x47619c);break;}});}function _0x23c8b7(_0x5f49ef){const _0x398d58=_0x3bf334;_0x5f49ef['pc']['addEventListener'](_0x522fab[_0x398d58(0x152)],function(){const _0xc38f78=_0x398d58;if(_0x522fab[_0xc38f78(0x188)](_0xc38f78(0x1ff),_0xc38f78(0x1ff))){if(_0x5f49ef['pc'][_0xc38f78(0x278)]!==_0x522fab['HaDIU']){if(_0x522fab[_0xc38f78(0x1b8)]!==_0x522fab[_0xc38f78(0x1b8)])_0x5697be['hideToast'](),_0x429431=null;else return;}if(_0x5f49ef['pc'][_0xc38f78(0x26f)]===_0xc38f78(0x28d))return;_0x5f49ef[_0xc38f78(0x115)](_0x522fab[_0xc38f78(0x21f)],_0x5f49ef['pc'][_0xc38f78(0x278)]),_0x48d247(_0x5f49ef);}else return;});}function _0x3f53bd(_0x19c3d5){const _0x420c34=_0x3bf334;_0x19c3d5['pc'][_0x420c34(0x273)](_0x522fab[_0x420c34(0x2ec)],function(){const _0x5d9e10=_0x420c34;_0x19c3d5[_0x5d9e10(0x115)](_0x522fab['dnndg'],_0x19c3d5['pc']['signalingState']);});}function _0x39dc5a(_0x2bcfde){const _0x1b6212=_0x3bf334,_0x71d3c6={'etJNu':function(_0x41bdb8,_0x5d835c){return _0x41bdb8!==_0x5d835c;},'qYaeC':_0x1b6212(0x298),'mcNdy':_0x1b6212(0x211),'AgcYJ':'connected','EpRGx':_0x522fab['cKaID']};_0x2bcfde['pc'][_0x1b6212(0x273)](_0x1b6212(0x2d1),function(){const _0x7f2da4=_0x1b6212,_0x322db9={'QGcAw':function(_0x5d8add,_0x4a67f9){const _0x1ec33b=_0x2952;return _0x71d3c6[_0x1ec33b(0x281)](_0x5d8add,_0x4a67f9);}};_0x2bcfde['emit'](_0x7f2da4(0x1d9),_0x2bcfde['pc'][_0x7f2da4(0x26f)]);switch(_0x2bcfde['pc']['iceConnectionState']){case _0x71d3c6[_0x7f2da4(0x2d7)]:console[_0x7f2da4(0x2fa)](_0x71d3c6[_0x7f2da4(0x144)],_0x2bcfde);break;case _0x71d3c6['AgcYJ']:case _0x71d3c6[_0x7f2da4(0x246)]:console[_0x7f2da4(0x2fa)](_0x7f2da4(0xfd),_0x2bcfde);break;case _0x7f2da4(0x121):console[_0x7f2da4(0x2fa)](_0x7f2da4(0x183),_0x2bcfde),setTimeout(function(){const _0x4fe715=_0x7f2da4;if(_0x322db9[_0x4fe715(0x162)](_0x2bcfde['pc'][_0x4fe715(0x26f)],_0x4fe715(0x121)))return;_0x2bcfde[_0x4fe715(0x115)](_0x4fe715(0x1d9),_0x4fe715(0x19e));},0x1388);break;case _0x7f2da4(0x28d):console[_0x7f2da4(0x2fa)](_0x7f2da4(0x27a),_0x2bcfde);break;case _0x7f2da4(0x26a):console[_0x7f2da4(0x2fa)](_0x7f2da4(0x137),_0x2bcfde);break;}});}const _0x8e4390=function(_0x48b128,_0x5a0a93){const _0x5e28bb=_0x3bf334,_0x403b25=_0x522fab['xjwZE'][_0x5e28bb(0x1b0)]('|');let _0x328fba=0x0;while(!![]){switch(_0x403b25[_0x328fba++]){case'0':usersInCallMapping={};continue;case'1':_0x48b128[_0x5e28bb(0x2b3)](!![],_0x5a0a93);continue;case'2':ownPeer&&(delayedConnectionToPeer[ownPeer['id']]&&(clearInterval(delayedConnectionToPeer[ownPeer['id']]),delete delayedConnectionToPeer[ownPeer['id']]),ownPeer[_0x5e28bb(0x2f6)]());continue;case'3':usersChanged(_0x48b128,[],previousUsersInRoom);continue;case'4':previousUsersInRoom=[];continue;}break;}};function _0x234a42(_0x4e086d){const _0x41fa46=_0x3bf334;_0x4e086d['pc'][_0x41fa46(0x273)](_0x522fab[_0x41fa46(0x113)],function(){const _0x46dee5=_0x41fa46,_0x40a753={'ekMAF':function(_0x30e55a,_0x3572b0){const _0x1272cb=_0x2952;return _0x522fab[_0x1272cb(0x21e)](_0x30e55a,_0x3572b0);},'iTaHF':_0x522fab['ptPKb']};if(_0x4e086d['pc'][_0x46dee5(0x26f)]!=='new'&&_0x4e086d['pc']['iceConnectionState']!==_0x46dee5(0x298)){const _0x3f4623=_0x4e086d['pc'][_0x46dee5(0x232)]()[_0x46dee5(0x2e4)](_0x6adc7=>_0x6adc7[_0x46dee5(0x1d1)]&&_0x6adc7[_0x46dee5(0x1d1)][_0x46dee5(0x1b3)]==='audio'),_0x161605=_0x4e086d['pc'][_0x46dee5(0x232)]()['find'](_0x5a12d2=>_0x5a12d2[_0x46dee5(0x1d1)]&&_0x5a12d2['track'][_0x46dee5(0x1b3)]===_0x46dee5(0x126));let _0x30ed95=_0x3d0ffd[_0x46dee5(0x1e5)]();_0x3f4623?_0x30ed95|=PARTICIPANT[_0x46dee5(0x1d4)]['WITH_AUDIO']:_0x522fab[_0x46dee5(0x2f2)](_0x522fab[_0x46dee5(0x2f1)],_0x522fab[_0x46dee5(0x2d9)])?(_0x1a19ba(_0x28d2f2[_0x1137f5['id']]),delete _0x30b6fb[_0x2f899f['id']]):_0x30ed95&=~PARTICIPANT[_0x46dee5(0x1d4)][_0x46dee5(0x25b)];if(_0x161605)_0x30ed95|=PARTICIPANT[_0x46dee5(0x1d4)]['WITH_VIDEO'];else{if(_0x522fab[_0x46dee5(0x184)](_0x522fab[_0x46dee5(0x1c9)],_0x522fab['VXFLS'])){const _0x565138=_0x40a753[_0x46dee5(0x19d)](typeof _0x47eedf[_0x46dee5(0x21b)],_0x40a753[_0x46dee5(0x1fa)])?_0x42d88e['payload']:_0x45ad11[_0x46dee5(0x21b)]['name'];_0x371a35['emit'](_0x46dee5(0x1ae),{'id':_0x413d76['id'],'name':_0x565138});}else _0x30ed95&=~PARTICIPANT[_0x46dee5(0x1d4)][_0x46dee5(0x1d2)];}_0x522fab[_0x46dee5(0x192)](_0x8e4390,_0x3d0ffd,_0x30ed95);}});}const _0x3dbdd1=_0x5d5e9d=>{const _0x514eae=_0x3bf334,_0x3a0e54={'KndbH':function(_0x49bb4a,_0x201662){const _0x4ef7d1=_0x2952;return _0x522fab[_0x4ef7d1(0x188)](_0x49bb4a,_0x201662);}},_0x32e0ed=_0x5d5e9d[_0x514eae(0x2e4)](_0x34255f=>{const _0x46525e=_0x514eae,_0x45f4f7=_0x34255f['sessionId']||_0x34255f[_0x46525e(0x201)];return _0x3a0e54[_0x46525e(0x100)](_0x45f4f7,_0x3d0ffd['getSessionId']());});if(!_0x32e0ed)return;if(!_0x32e0ed[_0x514eae(0x23e)])return;if(_0x32e0ed['participantPermissions']===undefined)return;if(_0x32e0ed[_0x514eae(0x219)]&PARTICIPANT[_0x514eae(0x170)]['PUBLISH_AUDIO']&&_0x522fab[_0x514eae(0x1de)](_0x32e0ed[_0x514eae(0x219)],PARTICIPANT['PERMISSIONS'][_0x514eae(0x295)])&&webrtc['webrtc'][_0x514eae(0x1a6)]())return;if(!_0x522fab[_0x514eae(0x203)](_0x32e0ed[_0x514eae(0x219)],PARTICIPANT[_0x514eae(0x170)][_0x514eae(0x2ee)])&&!_0x522fab[_0x514eae(0x26b)](_0x32e0ed[_0x514eae(0x219)],PARTICIPANT['PERMISSIONS'][_0x514eae(0x295)])&&!webrtc[_0x514eae(0x148)][_0x514eae(0x1a6)]())return;if(!_0x522fab['ZSxfF'](_0x32e0ed['participantPermissions'],PARTICIPANT[_0x514eae(0x170)][_0x514eae(0x2ee)])&&!(_0x32e0ed[_0x514eae(0x219)]&PARTICIPANT[_0x514eae(0x170)][_0x514eae(0x295)])){startedWithMedia=undefined,webrtc[_0x514eae(0x141)]();(!_0x3d0ffd[_0x514eae(0x1a7)](_0x522fab[_0x514eae(0x21c)])||ownPeer)&&_0x522fab[_0x514eae(0x157)](_0x8e4390,_0x3d0ffd,PARTICIPANT[_0x514eae(0x1d4)]['IN_CALL']);return;}const _0x37b92d=_0x3ac5d0=>{const _0x4ef92e=_0x514eae;webrtc[_0x4ef92e(0x25f)](_0x522fab[_0x4ef92e(0x15d)],_0x37b92d),webrtc[_0x4ef92e(0x25f)](_0x4ef92e(0x260),_0x4fda37),startedWithMedia=!![];let _0xf323df=PARTICIPANT[_0x4ef92e(0x1d4)][_0x4ef92e(0x1fe)];_0x3ac5d0&&(_0x522fab[_0x4ef92e(0x20c)]===_0x4ef92e(0x291)?(_0xa34337['hideToast'](),_0xddaa5f=null):(_0x3ac5d0[_0x4ef92e(0x258)]&&(_0xf323df|=PARTICIPANT['CALL_FLAG']['WITH_AUDIO']),_0x3ac5d0[_0x4ef92e(0x126)]&&_0x3d0ffd['getSendVideoIfAvailable']()&&(_0xf323df|=PARTICIPANT[_0x4ef92e(0x1d4)][_0x4ef92e(0x1d2)]))),_0x522fab['lAHRw'](_0x8e4390,_0x3d0ffd,_0xf323df);},_0x4fda37=()=>{const _0x298dc9=_0x514eae;webrtc[_0x298dc9(0x25f)]('localMediaStarted',_0x37b92d),webrtc[_0x298dc9(0x25f)](_0x522fab[_0x298dc9(0x1df)],_0x4fda37),startedWithMedia=![];};webrtc['on']('localMediaStarted',_0x37b92d),webrtc['on']('localMediaError',_0x4fda37),startedWithMedia=undefined,webrtc[_0x514eae(0x2c3)]();};_0x3d0ffd['on'](_0x3bf334(0x14d),function(_0x272698){_0x522fab['UNdMP'](_0x3dbdd1,_0x272698);}),_0x3d0ffd['on'](_0x522fab[_0x3bf334(0x1f2)],function(_0x26c939){const _0x2f462f=_0x3bf334;_0x522fab[_0x2f462f(0x2bc)](_0x3dbdd1,_0x26c939);}),webrtc['on'](_0x3bf334(0x2a6),function(_0x824206){const _0x1ddd79=_0x3bf334;console[_0x1ddd79(0x2fa)](_0x1ddd79(0x1b9),_0x824206);if(_0x824206['id']!==_0x3d0ffd[_0x1ddd79(0x1a8)]()&&!_0x824206['sharemyscreen']){let _0x990e04=callParticipantCollection[_0x1ddd79(0x1a2)](_0x824206['id']);!_0x990e04&&(_0x990e04=callParticipantCollection[_0x1ddd79(0x160)]({'peerId':_0x824206['id'],'webRtc':webrtc})),_0x824206[_0x1ddd79(0x2f8)]===_0x522fab[_0x1ddd79(0x181)]?_0x990e04[_0x1ddd79(0x142)](_0x824206):_0x990e04[_0x1ddd79(0x131)](_0x824206);}_0x824206[_0x1ddd79(0x2f8)]===_0x522fab['yoiZb']&&(_0x522fab[_0x1ddd79(0x188)](_0x824206['id'],_0x3d0ffd[_0x1ddd79(0x1a8)]())?_0x522fab[_0x1ddd79(0x2bc)](_0x39dc5a,_0x824206):(_0x522fab['oqfMp'](_0x2e5e7c,_0x824206),_0x23c8b7(_0x824206),_0x3f53bd(_0x824206)),_0x522fab['VlPtb'](_0x234a42,_0x824206),_0x824206[_0x1ddd79(0x179)]('status'));});function _0x1c1814(_0xba5365,_0x63ab24,_0x4b1938){const _0x42bf03=_0x3bf334,_0xcc9040={'RtfFr':'wbmof','OMheW':_0x42bf03(0x1e7)};return new Promise((_0xf828ba,_0x58ccfc)=>{const _0x2ee566=_0x42bf03,_0x2b04f2={'UQwBs':function(_0x32e194,_0x32dddc){const _0x2d7552=_0x2952;return _0x522fab[_0x2d7552(0xec)](_0x32e194,_0x32dddc);},'dLepI':_0x2ee566(0x1c6),'KqsPQ':function(_0x145966,_0x187834){return _0x145966<_0x187834;},'ZUOGO':_0x2ee566(0x1d9),'qWsmT':_0x2ee566(0x1b5)};_0xba5365['pc']['getStats'](_0x63ab24)[_0x2ee566(0x2ce)](function(_0x365201){const _0xf7363d=_0x2ee566;if(_0xf7363d(0x236)===_0xcc9040['RtfFr']){let _0x9e559a=![];_0x365201[_0xf7363d(0x24f)](function(_0x3c96e0){const _0x4f8912=_0xf7363d;if(_0x9e559a||_0x3c96e0[_0x4f8912(0x2cb)]!==_0x4b1938||!Object['prototype'][_0x4f8912(0x13b)]['call'](_0x3c96e0,'bytesReceived')){if(_0x2b04f2[_0x4f8912(0x1eb)]('LtrRn',_0x2b04f2[_0x4f8912(0x244)]))_0x6c5fa4[_0x4f8912(0x2f6)]();else return;}if(_0x3c96e0[_0x4f8912(0x103)]>0x0){if(_0x4b1938==='video'&&_0x2b04f2[_0x4f8912(0x1d5)](_0x3c96e0[_0x4f8912(0x103)],0x7d0)){_0x9e559a=!![];return;}webrtc[_0x4f8912(0x115)](_0x4f8912(0x128),{'id':_0xba5365['id'],'name':_0x4b1938}),_0x9e559a=!![];}}),_0x9e559a?_0xf828ba():_0x58ccfc(new Error(_0xcc9040[_0xf7363d(0x138)]));}else _0xa72506['error'](_0xf7363d(0x288),_0x1ebbd7),_0xe1aa73[_0xf7363d(0x115)](_0x2b04f2[_0xf7363d(0x197)],_0x2b04f2[_0xf7363d(0x22a)]);});});}function _0x15a900(_0xde381c){const _0x55ec36=_0x3bf334;clearInterval(_0xde381c[_0x55ec36(0x18f)]),_0xde381c[_0x55ec36(0x18f)]=null;}function _0x5905ab(_0x40b47d){const _0x556e66=_0x3bf334;_0x522fab[_0x556e66(0x11c)](clearInterval,_0x40b47d['check_video_interval']),_0x40b47d['check_video_interval']=null;}function _0x16c442(_0x4fe19f,_0x23e192){const _0x32af15=_0x3bf334,_0x3406d4={'wsryK':function(_0x6cfe59,_0x5d18ca){return _0x522fab['SYACo'](_0x6cfe59,_0x5d18ca);},'bnaVZ':_0x32af15(0x258),'osibe':function(_0x5bd196,_0xaea1bc){return _0x5bd196===_0xaea1bc;}},_0x2c9197=webrtc[_0x32af15(0x19b)](_0x4fe19f,_0x522fab[_0x32af15(0x181)]);_0x2c9197[_0x32af15(0x24f)](function(_0x25fffc){const _0x5ecdc7=_0x32af15;if(_0x3406d4['wsryK'](_0x23e192,_0x3406d4['bnaVZ']))_0x15a900(_0x25fffc);else _0x3406d4['osibe'](_0x23e192,_0x5ecdc7(0x126))&&_0x5905ab(_0x25fffc);});}_0x3d0ffd[_0x3bf334(0x1a7)](_0x522fab[_0x3bf334(0x21c)])&&(webrtc['on'](_0x3bf334(0xed),function(_0x3757b4){const _0x4ed092=_0x3bf334;_0x522fab['WiVOi'](_0x16c442,_0x3757b4['id'],_0x3757b4[_0x4ed092(0xeb)]);}),webrtc['on'](_0x3bf334(0x128),function(_0x1fab6c){const _0x4db406=_0x3bf334;_0x16c442(_0x1fab6c['id'],_0x1fab6c[_0x4db406(0xeb)]);}));function _0x498745(_0x3d417f){const _0x2b7d52=_0x3bf334;if(_0x522fab[_0x2b7d52(0x164)](_0x522fab[_0x2b7d52(0x304)],_0x2b7d52(0x174)))return;else _0x522fab[_0x2b7d52(0x110)](_0x15a900,_0x3d417f),_0x522fab[_0x2b7d52(0xff)](_0x5905ab,_0x3d417f);}function _0x3ec7db(_0x21d4cb,_0x436747){const _0x4009bd=_0x3bf334,_0x5bbe0c={'rHZJE':function(_0xc293e,_0x4121e2,_0x3f90da,_0x47012d){return _0xc293e(_0x4121e2,_0x3f90da,_0x47012d);},'VnGtY':_0x522fab[_0x4009bd(0x181)],'TRSJf':function(_0x4e1f07,_0x141721){const _0x58b329=_0x4009bd;return _0x522fab[_0x58b329(0x2c5)](_0x4e1f07,_0x141721);},'AuuGq':_0x522fab[_0x4009bd(0x1f9)],'fXNDD':_0x522fab['lLSav']};_0x522fab[_0x4009bd(0x159)](_0x522fab[_0x4009bd(0x216)],'Ryspg')?_0x324d70={'name':_0x595a32,'userid':_0x2b5668['settings'][_0x4009bd(0x283)]}:(_0x522fab[_0x4009bd(0x2c5)](_0x498745,_0x21d4cb),_0x21d4cb[_0x4009bd(0x2a3)]=_0x522fab[_0x4009bd(0x13d)](setInterval,function(){const _0x61f784=_0x4009bd;_0x436747[_0x61f784(0x18a)]()[_0x61f784(0x24f)](function(_0x226727){const _0x534e2e=_0x61f784,_0x55a563={'wEsZp':_0x534e2e(0x2db),'RVBIu':'video','nMJdt':_0x534e2e(0x176)};_0x5bbe0c[_0x534e2e(0x20d)](_0x1c1814,_0x21d4cb,_0x226727,_0x5bbe0c[_0x534e2e(0x186)])['then'](function(){const _0x476a25=_0x534e2e,_0xc9fae9={'EmqJM':_0x55a563[_0x476a25(0x191)],'xNHcV':_0x55a563['RVBIu']};_0x55a563[_0x476a25(0x2b6)]===_0x55a563[_0x476a25(0x2b6)]?_0x5905ab(_0x21d4cb):(_0x373908[_0x476a25(0x2fa)](_0xc9fae9[_0x476a25(0x1f5)]),_0x44a38a[_0x476a25(0x1ac)](_0x1c3f14,_0xc9fae9[_0x476a25(0x1f3)]));})['catch'](()=>{});});},0x3e8),_0x21d4cb[_0x4009bd(0x18f)]=_0x522fab['wHAyF'](setInterval,function(){const _0x166107=_0x4009bd;_0x436747[_0x166107(0x2c1)]()[_0x166107(0x24f)](function(_0xb5fed6){const _0x4dd0b8=_0x166107,_0x27596e={'kzoCQ':function(_0x14168b,_0x2d9fcd){const _0x5978b9=_0x2952;return _0x5bbe0c[_0x5978b9(0x17f)](_0x14168b,_0x2d9fcd);}};_0x5bbe0c['AuuGq']!=='QjNQJ'?_0x5bbe0c[_0x4dd0b8(0x20d)](_0x1c1814,_0x21d4cb,_0xb5fed6,_0x5bbe0c[_0x4dd0b8(0x127)])['then'](function(){const _0x1164e6=_0x4dd0b8;_0x27596e[_0x1164e6(0x1e0)](_0x15a900,_0x21d4cb);})['catch'](()=>{}):(_0x44592f[_0x1a58f6['id']]&&(_0x27596e[_0x4dd0b8(0x1e0)](_0x2f36c1,_0x230794[_0x1ceb30['id']]),delete _0x2fda4c[_0x4bf1f7['id']]),_0x597f9f[_0x4dd0b8(0x2f6)]());});},0x3e8));}webrtc['on'](_0x522fab[_0x3bf334(0x24b)],function(_0x741c4e){const _0x16f133=_0x3bf334;if(!_0x3d0ffd[_0x16f133(0x1a7)](_0x522fab[_0x16f133(0x21c)]))return;if(_0x522fab[_0x16f133(0x188)](_0x741c4e['type'],_0x522fab[_0x16f133(0x2dc)])){if(_0x522fab[_0x16f133(0x282)]!==_0x522fab[_0x16f133(0x282)])_0x52bfee[_0x16f133(0x134)](!![]);else return;}_0x3ec7db(_0x741c4e,_0x741c4e[_0x16f133(0x292)]);}),webrtc['on'](_0x522fab[_0x3bf334(0x1da)],function(_0x27d23a){const _0x10c90a=_0x3bf334;_0x522fab[_0x10c90a(0x15f)](_0x498745,_0x27d23a);}),webrtc['on'](_0x3bf334(0x209),function(_0x52bc00){const _0x5d0542=_0x3bf334;if(_0x5d0542(0xf4)===_0x5d0542(0x2f4))return;else _0x522fab[_0x5d0542(0x204)](ownPeer,_0x52bc00)&&(_0x522fab[_0x5d0542(0x237)](_0x522fab['FGbTn'],_0x5d0542(0x212))?_0x96f0a5[_0x5d0542(0x226)](![]):(ownPeer=null,localCallParticipantModel[_0x5d0542(0x142)](ownPeer))),_0x522fab[_0x5d0542(0x247)](ownScreenPeer,_0x52bc00)&&(ownScreenPeer=null,localCallParticipantModel[_0x5d0542(0x131)](ownScreenPeer));}),webrtc['webrtc']['on'](_0x522fab[_0x3bf334(0x1d3)],function(){const _0x364c52=_0x3bf334;if(_0x3d0ffd[_0x364c52(0x269)]())return;_0x3d0ffd[_0x364c52(0x2c2)](!![]),startedWithMedia=!![];let _0x1dbd87=_0x3d0ffd[_0x364c52(0x1e5)]();_0x1dbd87|=PARTICIPANT[_0x364c52(0x1d4)]['WITH_VIDEO'],_0x522fab['ocEGJ'](_0x8e4390,_0x3d0ffd,_0x1dbd87);}),webrtc[_0x3bf334(0x148)]['on'](_0x522fab[_0x3bf334(0x178)],function(){const _0x390895=_0x3bf334;if(!_0x3d0ffd[_0x390895(0x1a7)](_0x522fab['ZiwWh']))return;_0x522fab[_0x390895(0x11c)](_0x8e4390,_0x3d0ffd);});let _0x545c63=null,_0x1271f9=null,_0x5638a5=null;const _0x244c19=function(){const _0x3248b8=_0x3bf334;_0x522fab[_0x3248b8(0x2b4)](clearTimeout,_0x545c63),_0x545c63=null,_0x1271f9&&(_0x1271f9[_0x3248b8(0xfc)](),_0x1271f9=null);},_0x1369b8=function(){const _0x316d44=_0x3bf334;_0x5638a5&&(_0x5638a5[_0x316d44(0xfc)](),_0x5638a5=null);};return webrtc['on']('localStreamRequested',function(){const _0x8919d9=_0x3bf334,_0x137a32={'lPauT':function(_0xf8ab95,_0xda095e){return _0x522fab['drsfs'](_0xf8ab95,_0xda095e);},'vDiTW':function(_0x579805,_0x3cda04){const _0x817dfc=_0x2952;return _0x522fab[_0x817dfc(0x21e)](_0x579805,_0x3cda04);},'ZXQUh':function(_0x5efdd4,_0x44d33c,_0x85f140){return _0x5efdd4(_0x44d33c,_0x85f140);},'yOoMj':_0x522fab[_0x8919d9(0x240)]};_0x244c19(),_0x545c63=setTimeout(function(){const _0x5b2685=_0x8919d9;_0x137a32[_0x5b2685(0x290)](_0x5b2685(0x261),_0x5b2685(0x2af))?(_0x137a32[_0x5b2685(0x2f5)](_0x4e1328,_0x5e4a1b)&&(_0x3271e9=null,_0x1a3f3c['setPeer'](_0x25b511)),_0x137a32[_0x5b2685(0x290)](_0x368cd7,_0x482f7a)&&(_0x3af2c7=null,_0x56efc5[_0x5b2685(0x131)](_0x57ca13))):_0x1271f9=showError(_0x137a32[_0x5b2685(0x23a)](t,_0x5b2685(0x16d),_0x137a32[_0x5b2685(0xfa)]),{'timeout':TOAST_PERMANENT_TIMEOUT});},0x2710);}),_0x3d0ffd['on'](_0x522fab[_0x3bf334(0x1f6)],function(_0x22aa4b){const _0x589040=_0x3bf334;_0x3d0ffd[_0x589040(0x1cb)]===_0x22aa4b&&(_0x522fab[_0x589040(0x1f4)](_0x244c19),_0x522fab[_0x589040(0x1cd)](_0x1369b8));}),webrtc['on'](_0x522fab[_0x3bf334(0x20e)],function(_0x76ad7,_0x1fa61b){const _0x4b98cd=_0x3bf334;if(!_0x76ad7){if(_0x522fab['oklhb'](_0x522fab[_0x4b98cd(0x29b)],_0x522fab['szwsn'])){if(_0x1fa61b&&_0x1fa61b[_0x4b98cd(0x1b3)]===_0x4b98cd(0x258))_0x3d0ffd[_0x4b98cd(0x21a)](_0x3d0ffd[_0x4b98cd(0x1e5)]()&~PARTICIPANT[_0x4b98cd(0x1d4)][_0x4b98cd(0x25b)]);else _0x1fa61b&&_0x522fab[_0x4b98cd(0x188)](_0x1fa61b[_0x4b98cd(0x1b3)],_0x522fab[_0x4b98cd(0x181)])&&_0x3d0ffd[_0x4b98cd(0x21a)](_0x3d0ffd[_0x4b98cd(0x1e5)]()&~PARTICIPANT[_0x4b98cd(0x1d4)][_0x4b98cd(0x1d2)]);return;}else{if(_0x5476b2==='audio')_0x438192(_0x2e7954);else _0x2d98bb===_0x4b98cd(0x126)&&_0x522fab[_0x4b98cd(0xee)](_0xb55a69,_0x11038a);}}if(startedWithMedia){if(_0x76ad7[_0x4b98cd(0x1b3)]===_0x522fab['lLSav']&&!_0x1fa61b)_0x3d0ffd[_0x4b98cd(0x21a)](_0x3d0ffd[_0x4b98cd(0x1e5)]()|PARTICIPANT[_0x4b98cd(0x1d4)][_0x4b98cd(0x25b)]);else _0x522fab[_0x4b98cd(0x250)](_0x76ad7[_0x4b98cd(0x1b3)],_0x522fab[_0x4b98cd(0x181)])&&!_0x1fa61b&&_0x3d0ffd[_0x4b98cd(0x21a)](_0x522fab[_0x4b98cd(0x1ab)](_0x3d0ffd['getCurrentCallFlags'](),PARTICIPANT[_0x4b98cd(0x1d4)][_0x4b98cd(0x1d2)]));return;}if(_0x522fab[_0x4b98cd(0x21e)](startedWithMedia,undefined)){if(_0x522fab[_0x4b98cd(0x2c8)]!==_0x4b98cd(0x2fb))return;else return;}startedWithMedia=!![];let _0x50efc1=_0x3d0ffd['getCurrentCallFlags']();if(_0x76ad7[_0x4b98cd(0x1b3)]===_0x522fab[_0x4b98cd(0x133)])_0x50efc1|=PARTICIPANT[_0x4b98cd(0x1d4)]['WITH_AUDIO'];else _0x522fab[_0x4b98cd(0x204)](_0x76ad7[_0x4b98cd(0x1b3)],_0x522fab[_0x4b98cd(0x181)])&&(_0x50efc1|=PARTICIPANT[_0x4b98cd(0x1d4)][_0x4b98cd(0x1d2)]);_0x8e4390(_0x3d0ffd,_0x50efc1);}),webrtc['on'](_0x3bf334(0x2b5),function(){const _0x37142e=_0x3bf334;console[_0x37142e(0x172)](_0x522fab['gapuG']),startedWithMedia=!![],_0x244c19(),_0x3d0ffd[_0x37142e(0x1a7)](_0x522fab[_0x37142e(0x21c)])&&checkStartPublishOwnPeer(_0x3d0ffd);}),webrtc['on'](_0x3bf334(0x260),function(_0x1cb0d7){const _0x19ec62=_0x3bf334,_0x4a8757={'JApkj':_0x19ec62(0xf7)};console[_0x19ec62(0x2a7)]('Access\x20to\x20microphone\x20&\x20camera\x20failed',_0x1cb0d7),startedWithMedia=![],_0x522fab[_0x19ec62(0x11e)](_0x244c19);if(_0x1cb0d7[_0x19ec62(0xeb)]===_0x522fab[_0x19ec62(0x279)]){if(_0x522fab[_0x19ec62(0x250)](_0x522fab[_0x19ec62(0x10a)],_0x522fab['ntbak']))return;else _0x522fab[_0x19ec62(0x10f)](_0x4a2be0,_0x522fab['LlObw'],_0x522fab[_0x19ec62(0x196)]);}let _0x15562a,_0x418da5=TOAST_PERMANENT_TIMEOUT;if(_0x1cb0d7[_0x19ec62(0xeb)]===_0x522fab[_0x19ec62(0x1ad)]&&webrtc[_0x19ec62(0x1c1)][_0x19ec62(0x2b0)]||_0x522fab[_0x19ec62(0x184)](_0x1cb0d7[_0x19ec62(0xeb)],_0x522fab['BrklH'])&&_0x1cb0d7[_0x19ec62(0x26d)]&&_0x1cb0d7['message'][_0x19ec62(0x274)](_0x19ec62(0x229))!==-0x1)_0x19ec62(0x151)!==_0x522fab[_0x19ec62(0x262)]?(_0x396e05[_0x4192b5['id']]++,_0x4646db[_0x19ec62(0x2fa)](_0x4a8757[_0x19ec62(0x2a2)],_0xbe2a5),_0x55ac76[_0x19ec62(0x27c)]()):(_0x15562a=t(_0x522fab[_0x19ec62(0x200)],_0x522fab[_0x19ec62(0x18e)]),_0x15562a+=_0x522fab[_0x19ec62(0x215)](':\x20',_0x522fab[_0x19ec62(0x25a)](t,_0x522fab[_0x19ec62(0x200)],_0x522fab['fCJib'])));else{if(_0x1cb0d7[_0x19ec62(0xeb)]===_0x522fab[_0x19ec62(0x24c)])_0x19ec62(0x2a5)==='UxWNY'?(_0x2944cc=0x0,_0x2fb6bc(_0xe7b018)):(_0x15562a=t('spreed',_0x19ec62(0x153)),_0x418da5=TOAST_DEFAULT_TIMEOUT);else!webrtc[_0x19ec62(0x1c1)][_0x19ec62(0x2ba)]?(console[_0x19ec62(0x1fc)]('WebRTC\x20not\x20supported'),_0x15562a=t(_0x522fab['DxKFR'],_0x19ec62(0x15c)),_0x15562a+=':\x20'+_0x522fab[_0x19ec62(0x13a)](t,_0x522fab[_0x19ec62(0x200)],_0x19ec62(0x2e7))):(_0x15562a=_0x522fab[_0x19ec62(0x1d0)](t,_0x522fab['DxKFR'],_0x522fab[_0x19ec62(0x1e6)]),console[_0x19ec62(0x1fc)]('Error\x20while\x20accessing\x20microphone\x20&\x20camera:\x20',_0x1cb0d7[_0x19ec62(0x26d)],_0x1cb0d7['name']));}_0x5638a5=showError(_0x15562a,{'timeout':_0x418da5});}),webrtc['on'](_0x3bf334(0x221),function(_0x2e2a79){const _0x4356ec=_0x3bf334;console[_0x4356ec(0x2fa)](_0x4356ec(0x129),_0x2e2a79[_0x4356ec(0x130)]);}),webrtc['on'](_0x522fab['CgJby'],function(_0x53a8e5,_0x587325,_0x347923){const _0x58d1ed=_0x3bf334;if(_0x522fab[_0x58d1ed(0x245)](_0x587325,_0x58d1ed(0x11d))||_0x522fab[_0x58d1ed(0x12a)](_0x587325,_0x522fab['yGOWg'])){if(_0x347923['type']===_0x522fab[_0x58d1ed(0x196)])webrtc[_0x58d1ed(0x115)]('unmute',{'id':_0x53a8e5['id'],'name':_0x58d1ed(0x258)});else{if(_0x522fab['HKOOT'](_0x347923[_0x58d1ed(0x2f8)],_0x58d1ed(0x101)))webrtc[_0x58d1ed(0x115)](_0x522fab[_0x58d1ed(0x16b)],{'id':_0x53a8e5['id'],'name':_0x58d1ed(0x258)});else{if(_0x522fab[_0x58d1ed(0x250)](_0x347923['type'],_0x58d1ed(0x222)))webrtc[_0x58d1ed(0x115)](_0x522fab[_0x58d1ed(0x280)],{'id':_0x53a8e5['id'],'name':_0x58d1ed(0x126)});else{if(_0x347923[_0x58d1ed(0x2f8)]===_0x522fab[_0x58d1ed(0x235)])_0x522fab[_0x58d1ed(0x13e)](_0x522fab[_0x58d1ed(0x1fb)],_0x522fab[_0x58d1ed(0x277)])?webrtc['emit']('mute',{'id':_0x53a8e5['id'],'name':_0x58d1ed(0x126)}):(_0x24c623(_0x164940[_0x35d652['id']]),delete _0x1770d0[_0x2f8bca['id']]);else{if(_0x347923[_0x58d1ed(0x2f8)]==='nickChanged'){const _0x401a6e=_0x522fab['mpKwp'](typeof _0x347923[_0x58d1ed(0x21b)],_0x522fab[_0x58d1ed(0x16a)])?_0x347923[_0x58d1ed(0x21b)]:_0x347923[_0x58d1ed(0x21b)]['name'];webrtc[_0x58d1ed(0x115)](_0x522fab['JMkXb'],{'id':_0x53a8e5['id'],'name':_0x401a6e});}else{if(_0x522fab[_0x58d1ed(0x27d)](_0x347923[_0x58d1ed(0x2f8)],_0x522fab[_0x58d1ed(0x26e)])||_0x347923[_0x58d1ed(0x2f8)]===_0x522fab[_0x58d1ed(0x20f)]){}else console['debug'](_0x58d1ed(0x123),_0x347923[_0x58d1ed(0x2f8)],_0x587325,_0x347923);}}}}}}else console['debug'](_0x522fab[_0x58d1ed(0x293)],_0x587325,_0x347923);}),webrtc['on'](_0x522fab[_0x3bf334(0x206)],function(_0x39f759,_0x38d8f4){const _0x228e93=_0x3bf334,_0x2d2af2={'CDEid':function(_0x3d0794,_0x161aa0){return _0x522fab['upaSS'](_0x3d0794,_0x161aa0);},'TMkkI':_0x228e93(0xf3)},_0x147425={};webrtc[_0x228e93(0x148)][_0x228e93(0x264)]['forEach'](_0x278658=>{const _0x2d3657=_0x228e93;_0x2d2af2['CDEid'](_0x2d2af2[_0x2d3657(0x24d)],_0x2d3657(0xf3))?_0x1cb160(_0x84ca49['id'],_0x55bbdf['name']):_0x147425[_0x278658['id']]=_0x278658;});for(const _0x38f673 in usersInCallMapping){if(_0x147425[_0x38f673])continue;else{if(!usersInCallMapping[_0x38f673][_0x228e93(0x23e)])continue;else{if(_0x522fab[_0x228e93(0x204)](_0x38f673,_0x3d0ffd[_0x228e93(0x1a8)]()))continue;}}const _0x4366ec={'to':_0x38f673,'roomType':_0x228e93(0x126),'type':_0x39f759,'payload':_0x38d8f4};_0x3d0ffd['emit'](_0x228e93(0x26d),_0x4366ec);}}),webrtc['on'](_0x522fab[_0x3bf334(0x26e)],function(){const _0x11a479=_0x3bf334;_0x522fab['ABoPQ'](_0x1edda4,_0x522fab[_0x11a479(0x22e)],_0x11a479(0x234));}),webrtc['on'](_0x3bf334(0x1ed),function(){const _0x558667=_0x3bf334;_0x1edda4(_0x522fab[_0x558667(0x22e)],_0x522fab[_0x558667(0x20f)]);}),webrtc['on'](_0x3bf334(0x1bb),function(){const _0x42a6b4=_0x3bf334;_0x522fab[_0x42a6b4(0x29d)](_0x1edda4,'status',_0x42a6b4(0x1bb));}),webrtc['on'](_0x522fab[_0x3bf334(0x15a)],function(){const _0x16d085=_0x3bf334;_0x1edda4(_0x16d085(0x11d),_0x16d085(0x101));}),webrtc['on'](_0x3bf334(0x222),function(){const _0x50416e=_0x3bf334;_0x1edda4(_0x50416e(0x11d),_0x522fab[_0x50416e(0x1d3)]);}),webrtc['on']('videoOff',function(){const _0x50b111=_0x3bf334;_0x522fab['sBxMn'](_0x522fab[_0x50b111(0x17c)],_0x50b111(0x106))?_0xd7380[_0x50b111(0x115)](_0x50b111(0xed),{'id':_0x469a02['id'],'name':_0x522fab['lLSav']}):_0x1edda4(_0x50b111(0x11d),_0x522fab['WtPfv']);}),webrtc['on'](_0x3bf334(0x2b9),function(_0x20073f){const _0x3e2afc=_0x3bf334;if(_0x522fab[_0x3e2afc(0x266)](_0x522fab['NywHq'],_0x522fab['NywHq']))_0x34f426[_0x3e2afc(0x134)](![],_0xa4f1df[_0x3e2afc(0x16f)]===0x0);else{let _0x2f87e8;if(_0x3d0ffd[_0x3e2afc(0x2e8)][_0x3e2afc(0x283)]===null){if(_0x3e2afc(0x120)===_0x3e2afc(0x143)){_0x11c55f(_0x49acf3[_0x5a0993['from']]),delete _0x400cf3[_0x286379[_0x3e2afc(0x241)]];return;}else _0x2f87e8=_0x20073f;}else _0x2f87e8={'name':_0x20073f,'userid':_0x3d0ffd[_0x3e2afc(0x2e8)]['userId']};_0x1edda4(_0x522fab[_0x3e2afc(0x22e)],_0x522fab[_0x3e2afc(0x1fd)],_0x2f87e8),webrtc[_0x3e2afc(0x158)](_0x522fab[_0x3e2afc(0x1fd)],{'name':_0x20073f});}}),webrtc['on'](_0x522fab[_0x3bf334(0x149)],function(){const _0x3722b3=_0x3bf334,_0x2fe472=_0x3d0ffd[_0x3722b3(0x1a8)]();for(const _0x5d571c in usersInCallMapping){if(!Object[_0x3722b3(0x253)][_0x3722b3(0x13b)]['call'](usersInCallMapping,_0x5d571c))continue;else{if(!usersInCallMapping[_0x5d571c][_0x3722b3(0x23e)]){if(_0x522fab['MlkBv']===_0x522fab['MlkBv'])continue;else _0x522fab['wfgbn'](_0x1bad9c,_0x45889d,_0x56f8d0,_0x55f2bf);}else{if(_0x522fab[_0x3722b3(0x23b)](_0x5d571c,_0x2fe472))continue;}}_0x522fab[_0x3722b3(0x157)](createScreensharingPeer,_0x3d0ffd,_0x5d571c);}}),webrtc['on'](_0x522fab[_0x3bf334(0x2a1)],function(){const _0x53e7ef=_0x3bf334;if(_0x522fab[_0x53e7ef(0x12f)]===_0x522fab[_0x53e7ef(0x169)])_0xe6f111[_0x53e7ef(0x2fa)]('Offer\x20received\x20when\x20not\x20in\x20the\x20call,\x20ignore'),_0x243041[_0x53e7ef(0x2f8)]=_0x53e7ef(0x10b);else{if(!_0x3d0ffd[_0x53e7ef(0x1a7)](_0x53e7ef(0x1e8)))return;_0x3d0ffd[_0x53e7ef(0x2c7)]({'roomType':_0x53e7ef(0x28f),'type':_0x522fab[_0x53e7ef(0x109)]});}}),webrtc['on'](_0x3bf334(0x121),function(){const _0xbad624=_0x3bf334;_0x522fab[_0xbad624(0x14c)](_0xbad624(0x150),_0x522fab['MZhnc'])?(ownPeer&&(delayedConnectionToPeer[ownPeer['id']]&&(clearInterval(delayedConnectionToPeer[ownPeer['id']]),delete delayedConnectionToPeer[ownPeer['id']]),ownPeer[_0xbad624(0x2f6)]()),ownScreenPeer&&ownScreenPeer[_0xbad624(0x2f6)](),selfInCall=PARTICIPANT[_0xbad624(0x1d4)][_0xbad624(0x1ea)],usersChanged(_0x3d0ffd,[],previousUsersInRoom),usersInCallMapping={},previousUsersInRoom=[]):(_0x106a73[_0x15eb09['id']]++,_0x36f28b[_0xbad624(0x2fa)](_0x522fab[_0xbad624(0x249)],_0x31807e),_0x439e78[_0xbad624(0x27c)]());}),webrtc;}