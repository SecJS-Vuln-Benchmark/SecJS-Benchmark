'use strict';function _0x3067(){const _0x45423b=['Mdaqb','testing\x20ServerTCP_transport','../dist/test-fixtures','TCPErrorMessage','KkWIH','xvdBh','qHwZi','iIcns','CUdzx','AcknowledgeMessage','not','rewind','server','NlaRs','ZedXs','altered_helloMessage1','JqLWQ','GNJfI','RDdoU','length','statusCode','FSkGK','name','write','onpbR','moYwx','constructor','FUZZ1-\x20should\x20not\x20crash\x20is\x20helloMessage\x20\x20is\x20malformed\x20causing\x20read\x20overflow\x20(bad\x20endpoint\x20uri\x20length)','vhPBZ','some\x20string','DirectTransport','init','cahqy','4003030hbSPcB','close','1618350QwWJoi','wbFhJ','CpEYu','kLcst','msgType','hex','5377526liJsPO','iJRLh','protocolVersion','YYlJx','pMojW','data','should','HEL','helloMessage1','getEndpointsRequest1','kSViq','bytesRead','BBtzM','761346AOJZXQ','iUctA','node-opcua-chunkmanager','faYOi','should\x20bind\x20a\x20socket\x20and\x20process\x20the\x20HEL\x20message\x20by\x20returning\x20ACK','pTpha','BadProtocolVersionUnsupported','WXWX1\x20(issue#504)\x20\x20server\x20transport\x20accept\x20bufferSize\x20greater\x20than\x208192\x20byes','JAOrT','jCkhL','SsPpr','from','FUZZ2-\x20should\x20not\x20crash\x20is\x20helloMessage\x20\x20is\x20malformed\x20causing\x20read\x20overflow\x20(bad\x20endpoint\x20uri\x20length)','jbqiL','gzrYR','LWjzG','should\x20bind\x20a\x20socket\x20and\x20process\x20the\x20HEL\x20message\x20by\x20returning\x20ERR\x20if\x20protocol\x20version\x20is\x20not\x20OK','NOiol','xUZxj','IcoxL','gazYA','ZWYTe','FUZZ3-\x20should\x20not\x20crash\x20is\x20helloMessage\x20\x20is\x20malformed\x20causing\x20read\x20overflow\x20(bad\x20endpoint\x20uri\x20length)','ZVmwi','openChannelRequest1','match','pxURB','message','client','should\x20handle\x20HEL\x20message\x20broken\x20in\x20two\x20chunks\x20(bug#36)','rinaZ','nbnOM','Test\x20CLO\x20message\x20at\x20transport\x20end\x20','ehjbf','1evlHLS','dIXsN','KBGWf','1635482HBxLio','339936VzjQAt','ERR','greaterThan','equal','uoxlu','eql','Not\x20expecting\x20an\x20message','UhqOH','cejHU','oslqH','lswlv','SwPWD','compare_buffers','BadConnectionRejected','YSJNQ','etUDD','3140240BKGOai','slice','Erktx','tZEZj','KheUn','434c4f46180000000c000000010000000f0000000f000000','RWWyC','261CDZeQl','OFLGx','bytesWritten','should\x20handle\x20broken\x20HEL\x20message\x20in\x20three\x20chunks\x20(bug#36)'];_0x3067=function(){return _0x45423b;};return _0x3067();}const _0xa81722=_0x136a;(function(_0x142afe,_0x105092){const _0x477586=_0x136a,_0x56780c=_0x142afe();while(!![]){try{const _0x1be9ce=-parseInt(_0x477586(0x1b9))/0x1*(parseInt(_0x477586(0x1bc))/0x2)+-parseInt(_0x477586(0x1fb))/0x3+parseInt(_0x477586(0x1cd))/0x4+-parseInt(_0x477586(0x1f9))/0x5+parseInt(_0x477586(0x20e))/0x6+parseInt(_0x477586(0x201))/0x7+-parseInt(_0x477586(0x1bd))/0x8*(-parseInt(_0x477586(0x1d4))/0x9);if(_0x1be9ce===_0x105092)break;else _0x56780c['push'](_0x56780c['shift']());}catch(_0xc94da){_0x56780c['push'](_0x56780c['shift']());}}}(_0x3067,0xb83d0));function _0x136a(_0x2be380,_0x4520b3){const _0x3067a7=_0x3067();return _0x136a=function(_0x136a28,_0x2d69a3){_0x136a28=_0x136a28-0x1b3;let _0x53f280=_0x3067a7[_0x136a28];return _0x53f280;},_0x136a(_0x2be380,_0x4520b3);}const should=require(_0xa81722(0x207)),{assert}=require('node-opcua-assert'),utils=require('node-opcua-utils'),debug=require('node-opcua-debug'),debugLog=debug['make_debugLog']('TEST'),{BinaryStream}=require('node-opcua-binary-stream'),{readMessageHeader}=require(_0xa81722(0x210)),{decodeMessage,packTcpMessage,ServerTCP_transport,HelloMessage,AcknowledgeMessage,TCPErrorMessage}=require('..'),DirectTransport=require('../dist/test_helpers')[_0xa81722(0x1f6)],packets=require(_0xa81722(0x1da)),helloMessage=packets[_0xa81722(0x209)],altered_helloMessage=packets[_0xa81722(0x1e7)],openChannelRequest=packets[_0xa81722(0x226)],not_an_helloMessage=packets[_0xa81722(0x20a)],{altered_openChannelRequest1,altered_openChannelRequest2}=packets,{altered_helloMessage2,altered_helloMessage3}=packets;describe(_0xa81722(0x1d9),function(){const _0xc2124b=_0xa81722,_0x550402={'Erktx':function(_0x25a740,_0x5f057b,_0xa2d3c7){return _0x25a740(_0x5f057b,_0xa2d3c7);},'NkCwG':function(_0x2ecd10,_0x525530){return _0x2ecd10===_0x525530;},'IcoxL':_0xc2124b(0x1c8),'rinaZ':_0xc2124b(0x206),'YSJNQ':function(_0x40749e,_0x209eb1){return _0x40749e(_0x209eb1);},'CpEYu':_0xc2124b(0x229),'JAOrT':function(_0x5b86db,_0xf0bf09,_0x348728){return _0x5b86db(_0xf0bf09,_0x348728);},'NlaRs':_0xc2124b(0x1f5),'OFLGx':function(_0xec908e,_0x5af325){return _0xec908e===_0x5af325;},'wbFhJ':'jVQJI','BatIs':'ERR','dIXsN':'TCPErrorMessage','KkWIH':_0xc2124b(0x21f),'pxURB':function(_0x267b32,_0x2176cb){return _0x267b32(_0x2176cb);},'UhqOH':function(_0x1c3dcb,_0x482a93){return _0x1c3dcb<_0x482a93;},'CnWkN':function(_0x1b67d9,_0x21933e){return _0x1b67d9+_0x21933e;},'xUZxj':function(_0x5eb8fc,_0x4b66c5){return _0x5eb8fc(_0x4b66c5);},'pMojW':_0xc2124b(0x208),'cejHU':function(_0xa5d67e){return _0xa5d67e();},'pTpha':_0xc2124b(0x1d2),'dQSke':_0xc2124b(0x200),'jCkhL':function(_0x4755f7,_0x18e621,_0x11f438){return _0x4755f7(_0x18e621,_0x11f438);},'gzrYR':_0xc2124b(0x1f3),'iIcns':_0xc2124b(0x21a),'pKPnG':function(_0xc98fc9,_0x2cf397,_0x1d72fe){return _0xc98fc9(_0x2cf397,_0x1d72fe);},'iJRLh':function(_0x32d601,_0x5734bd,_0x454a07){return _0x32d601(_0x5734bd,_0x454a07);},'cahqy':'should\x20bind\x20a\x20socket,\x20process\x20the\x20HEL\x20message\x20and\x20forward\x20subsequent\x20messageChunk','OYBXv':_0xc2124b(0x1b4),'uoxlu':function(_0x44a19e,_0x1eec89,_0x523b11){return _0x44a19e(_0x1eec89,_0x523b11);},'UXLhA':'WXWX2\x20(issue#504)\x20server\x20transport\x20should\x20not\x20accept\x20bufferSize\x20lower\x20than\x208192\x20byes','kLcst':_0xc2124b(0x1b7)};let _0x91eaa;_0x550402[_0xc2124b(0x220)](beforeEach,function(_0x359e15){_0x91eaa=new DirectTransport(),_0x91eaa['initialize'](_0x359e15);}),_0x550402['pxURB'](afterEach,function(_0x5da0ac){_0x91eaa['shutdown'](_0x5da0ac);}),it('should\x20close\x20the\x20communication\x20if\x20the\x20client\x20initiates\x20the\x20communication\x20with\x20a\x20message\x20which\x20is\x20not\x20HEL',function(_0x2905a1){const _0x257930=_0xc2124b,_0x1bc04b={'NzRAQ':function(_0x2ec0be,_0x10e9f7){return _0x2ec0be(_0x10e9f7);},'vhPBZ':function(_0x31c4d6,_0x55e72a,_0x461848){const _0x23893f=_0x136a;return _0x550402[_0x23893f(0x1cf)](_0x31c4d6,_0x55e72a,_0x461848);}},_0x49e137=new ServerTCP_transport();_0x49e137[_0x257930(0x1f7)](_0x91eaa[_0x257930(0x1e4)],_0x4153f7=>{const _0x505e91=_0x257930;_0x1bc04b['NzRAQ'](assert,_0x4153f7),_0x4153f7[_0x505e91(0x229)][_0x505e91(0x207)]['match'](/Expecting 'HEL' message/);}),_0x91eaa[_0x257930(0x1b3)]['on']('data',_0x438dec=>{const _0x8f9efb=_0x257930,_0x158e5a=new BinaryStream(_0x438dec),_0x5833a0=readMessageHeader(_0x158e5a);_0x5833a0[_0x8f9efb(0x1ff)][_0x8f9efb(0x207)][_0x8f9efb(0x1c0)](_0x8f9efb(0x1be)),_0x158e5a[_0x8f9efb(0x1e3)]();const _0x5121b8=_0x1bc04b[_0x8f9efb(0x1f4)](decodeMessage,_0x158e5a,TCPErrorMessage);_0x5121b8[_0x8f9efb(0x1f2)][_0x8f9efb(0x1ee)]['should']['equal'](_0x8f9efb(0x1db)),_0x2905a1();}),_0x91eaa[_0x257930(0x1b3)][_0x257930(0x1ef)](not_an_helloMessage);}),it(_0xc2124b(0x212),function(_0x4e5b31){const _0x54e31=_0xc2124b,_0x4f6724={'RDdoU':'TCPErrorMessage','KheUn':function(_0x318508,_0xa577b){return _0x550402['NkCwG'](_0x318508,_0xa577b);},'etUDD':_0x550402[_0x54e31(0x221)],'gazYA':'ACK','ZedXs':function(_0x26022e){return _0x26022e();}},_0x13c5cc=new ServerTCP_transport();_0x13c5cc[_0x54e31(0x1f7)](_0x91eaa[_0x54e31(0x1e4)],_0x20ce7e=>{assert(!_0x20ce7e);}),_0x91eaa['client']['on'](_0x550402[_0x54e31(0x1b5)],_0x1c011e=>{const _0x59cdaa=_0x54e31,_0x54ce99={'YYlJx':_0x4f6724[_0x59cdaa(0x1ea)]};if(_0x4f6724[_0x59cdaa(0x1d1)](_0x4f6724[_0x59cdaa(0x1cc)],_0x4f6724[_0x59cdaa(0x1cc)])){const _0x38399b=new BinaryStream(_0x1c011e),_0x22bbd1=readMessageHeader(_0x38399b);_0x22bbd1[_0x59cdaa(0x1ff)]['should']['equal'](_0x4f6724[_0x59cdaa(0x222)]),_0x38399b[_0x59cdaa(0x1e3)]();const _0x3c3f3a=decodeMessage(_0x38399b,AcknowledgeMessage);_0x3c3f3a['constructor'][_0x59cdaa(0x1ee)][_0x59cdaa(0x207)][_0x59cdaa(0x1c0)]('AcknowledgeMessage'),_0x4f6724[_0x59cdaa(0x1e6)](_0x4e5b31);}else{const _0x3adcfc=new _0x177dc7(_0x23648a),_0xb8c3aa=_0x3113d6(_0x3adcfc);_0xb8c3aa['msgType'][_0x59cdaa(0x207)][_0x59cdaa(0x1c0)](_0x59cdaa(0x1be)),_0x3adcfc[_0x59cdaa(0x1e3)]();const _0xb71e87=_0x2d6269(_0x3adcfc,_0x421c10);_0xb71e87[_0x59cdaa(0x1f2)][_0x59cdaa(0x1ee)][_0x59cdaa(0x207)][_0x59cdaa(0x1c0)](_0x54ce99[_0x59cdaa(0x204)]),_0xb71e87[_0x59cdaa(0x1ec)]['name'][_0x59cdaa(0x207)][_0x59cdaa(0x1c2)](_0x59cdaa(0x1ca)),_0x5b6811();}}),_0x91eaa[_0x54e31(0x1b3)][_0x54e31(0x1ef)](helloMessage);});function _0x322b64(_0x503d9a,_0x276994){const _0xdc05cd=_0xc2124b,_0x42a6e7={'qHwZi':'failed\x20!','tZEZj':function(_0x2e45da,_0x166adc,_0x485eca){return _0x2e45da(_0x166adc,_0x485eca);},'LWjzG':_0xdc05cd(0x1f1),'SsPpr':function(_0x13c14f,_0x449a22){const _0x5a410e=_0xdc05cd;return _0x550402[_0x5a410e(0x1cb)](_0x13c14f,_0x449a22);},'JqLWQ':_0xdc05cd(0x1c3)},_0xbfcc95=new ServerTCP_transport();let _0x32bd54;_0xbfcc95[_0xdc05cd(0x1f7)](_0x91eaa[_0xdc05cd(0x1e4)],_0x176a48=>{const _0x2f0107=_0xdc05cd;_0x32bd54=_0x176a48,debugLog(_0x42a6e7[_0x2f0107(0x1de)],_0x176a48[_0x2f0107(0x229)]);}),_0xbfcc95['on'](_0x550402[_0xdc05cd(0x1fd)],_0x19f045=>{const _0x4e90f5=_0xdc05cd,_0x4f39b5={'asthz':function(_0x5b1bff,_0x34e269){return _0x5b1bff(_0x34e269);},'lswlv':function(_0xef314c,_0x130744,_0x358f48){const _0x49031e=_0x136a;return _0x42a6e7[_0x49031e(0x1d0)](_0xef314c,_0x130744,_0x358f48);}};if(_0x42a6e7[_0x4e90f5(0x21d)]===_0x4e90f5(0x1f1))_0x42a6e7[_0x4e90f5(0x218)](_0x276994,new Error(_0x42a6e7[_0x4e90f5(0x1e8)]));else{const _0x5de33c=new _0xc54c65();_0x5de33c[_0x4e90f5(0x1f7)](_0x4e2ac9[_0x4e90f5(0x1e4)],_0x5a81d9=>{}),_0x5de33c['on'](_0x4e90f5(0x229),_0x2213fe=>{_0x20d169();});const _0x3f1c4d=_0x37d111[_0x4e90f5(0x219)](_0x4e90f5(0x1d2),_0x4e90f5(0x200));_0x5d3498['client']['on'](_0x4e90f5(0x206),_0x577e8e=>{const _0x352288=_0x4e90f5,_0x33fc21=new _0x561b25(_0x577e8e),_0x4049ab=_0x4f39b5['asthz'](_0x5ef30a,_0x33fc21);_0x33fc21[_0x352288(0x1e3)]();const _0x2f61b6=_0x4f39b5[_0x352288(0x1c7)](_0x5b106f,_0x33fc21,_0x102059);}),_0x40045b[_0x4e90f5(0x1b3)]['write'](_0x5e2ed2),_0x1578b7[_0x4e90f5(0x1b3)]['write'](_0xfc8987['packect_outtec']);}}),_0xbfcc95['on'](_0xdc05cd(0x1fa),_0x32723c=>{const _0x4060e1=_0xdc05cd;_0x42a6e7[_0x4060e1(0x1d0)](debugLog,_0x4060e1(0x1fa),_0x32723c),_0x32bd54&&_0x32bd54[_0x4060e1(0x229)]['should']['match'](/BadConnectionRejected/),_0x276994();}),_0x91eaa[_0xdc05cd(0x1b3)][_0xdc05cd(0x1ef)](_0x503d9a);}_0x550402['jCkhL'](it,_0x550402[_0xc2124b(0x21c)],_0x3f594c=>{_0x322b64(altered_helloMessage,_0x3f594c);}),_0x550402[_0xc2124b(0x1cf)](it,_0x550402[_0xc2124b(0x1df)],_0x575108=>{const _0xdb23fe=_0xc2124b;_0x550402[_0xdb23fe(0x1cf)](_0x322b64,altered_helloMessage2,_0x575108);}),_0x550402[_0xc2124b(0x217)](it,_0xc2124b(0x224),_0x4162cb=>{const _0x2beb1b=_0xc2124b;_0x550402[_0x2beb1b(0x216)](_0x322b64,altered_helloMessage3,_0x4162cb);}),_0x550402['pKPnG'](it,_0xc2124b(0x21e),function(_0x2f78cb){const _0x2d030d=_0xc2124b,_0x1be64d=new ServerTCP_transport();_0x1be64d[_0x2d030d(0x203)]['should'][_0x2d030d(0x1c2)](0x0),_0x1be64d['protocolVersion']=0xa,_0x1be64d['init'](_0x91eaa[_0x2d030d(0x1e4)],_0x3cb254=>{const _0x18eae8=_0x2d030d;assert(_0x3cb254),_0x3cb254[_0x18eae8(0x229)]['should']['match'](/BadProtocolVersionUnsupported/);});const _0x26b056=new HelloMessage({'protocolVersion':0x5,'receiveBufferSize':0x3e8,'sendBufferSize':0x3e8,'maxMessageSize':0xa,'maxChunkCount':0xa,'endpointUrl':'some\x20string'});_0x91eaa[_0x2d030d(0x1b3)]['on'](_0x2d030d(0x206),_0x36b857=>{const _0x40fcc2=_0x2d030d,_0x458e1f={'kSViq':_0x40fcc2(0x1ca),'GNJfI':_0x550402[_0x40fcc2(0x1e5)],'iUctA':_0x550402[_0x40fcc2(0x1b5)],'ZWYTe':function(_0x2b4e2a,_0x4e11a2,_0x11304d){return _0x2b4e2a(_0x4e11a2,_0x11304d);},'FSkGK':'HEL'};if(_0x550402[_0x40fcc2(0x1d5)](_0x550402[_0x40fcc2(0x1fc)],'sdeOW')){const _0x55fe56={'kERzF':function(_0xc318c5,_0x1ab4cb){return _0xc318c5(_0x1ab4cb);},'nbnOM':_0x40fcc2(0x1db),'BBtzM':_0x458e1f[_0x40fcc2(0x20b)]},_0x3e54e6=new _0x3989c0();_0x3e54e6[_0x40fcc2(0x1f7)](_0x16ac6d[_0x40fcc2(0x1e4)],_0x1f0e2f=>{});const _0x390293=new _0x577f2f({'protocolVersion':0x0,'receiveBufferSize':0x200,'sendBufferSize':0x200,'maxMessageSize':0x0,'maxChunkCount':0x0,'endpointUrl':_0x458e1f[_0x40fcc2(0x1e9)]});_0x591e1b[_0x40fcc2(0x1b3)]['on'](_0x458e1f[_0x40fcc2(0x20f)],_0x56ee06=>{const _0x55e6b8=_0x40fcc2,_0x247591=new _0x1cd3c5(_0x56ee06),_0xe6dd6a=_0x55fe56['kERzF'](_0xf2dd7e,_0x247591);_0xe6dd6a['msgType'][_0x55e6b8(0x207)][_0x55e6b8(0x1c0)](_0x55e6b8(0x1be)),_0x247591[_0x55e6b8(0x1e3)]();const _0x2693ca=_0x401e90(_0x247591,_0x150a7f);_0x2693ca['constructor'][_0x55e6b8(0x1ee)][_0x55e6b8(0x207)][_0x55e6b8(0x1c0)](_0x55fe56[_0x55e6b8(0x1b6)]),_0x2693ca[_0x55e6b8(0x1ec)]['name'][_0x55e6b8(0x207)][_0x55e6b8(0x1c2)](_0x55fe56[_0x55e6b8(0x20d)]),_0x2db749();}),_0xd107c3['client']['write'](_0x458e1f[_0x40fcc2(0x223)](_0x512246,_0x458e1f[_0x40fcc2(0x1ed)],_0x390293));}else{const _0x51f604=new BinaryStream(_0x36b857),_0x57b499=readMessageHeader(_0x51f604);_0x57b499[_0x40fcc2(0x1ff)][_0x40fcc2(0x207)]['equal'](_0x550402['BatIs']),_0x51f604['rewind']();const _0x272af7=_0x550402[_0x40fcc2(0x1cf)](decodeMessage,_0x51f604,AcknowledgeMessage);_0x272af7[_0x40fcc2(0x1f2)][_0x40fcc2(0x1ee)]['should']['equal'](_0x550402[_0x40fcc2(0x1ba)]),_0x272af7[_0x40fcc2(0x1ec)][_0x40fcc2(0x1ee)]['should']['eql'](_0x40fcc2(0x214)),_0x2f78cb();}}),_0x91eaa[_0x2d030d(0x1b3)][_0x2d030d(0x1ef)](packTcpMessage(_0x2d030d(0x208),_0x26b056));});function _0x4ad5ed(_0x7d0e8d){const _0xe2034a=_0xc2124b,_0x13c932={'aMdeP':function(_0x11f598,_0x159b7e,_0x5da1fc){return _0x11f598(_0x159b7e,_0x5da1fc);},'Ubrgk':_0x550402[_0xe2034a(0x1dc)]};if(_0xe2034a(0x21b)===_0xe2034a(0x1f0))_0xcf83a4();else{const _0x4098c8=new ServerTCP_transport();_0x4098c8[_0xe2034a(0x1f7)](_0x91eaa[_0xe2034a(0x1e4)],_0x1c4eb3=>{_0x550402['YSJNQ'](assert,!_0x1c4eb3);}),_0x4098c8['on'](_0x550402[_0xe2034a(0x1fd)],_0x41e0dd=>{const _0x99f603=_0xe2034a;utils[_0x99f603(0x1c9)](_0x41e0dd,openChannelRequest),_0x4098c8[_0x99f603(0x20c)]['should']['be'][_0x99f603(0x1bf)](0x0),_0x4098c8[_0x99f603(0x1d6)]['should']['be'][_0x99f603(0x1bf)](0x14),_0x7d0e8d();});let _0x250bf2=0x1;_0x91eaa[_0xe2034a(0x1b3)]['on'](_0x550402[_0xe2034a(0x1b5)],_0x2223ff=>{const _0x55dfe2=_0xe2034a,_0x937e7a={'RWWyC':function(_0x4676ba,_0x2fe9c7,_0x2d2165){return _0x13c932['aMdeP'](_0x4676ba,_0x2fe9c7,_0x2d2165);}};_0x55dfe2(0x225)!==_0x13c932['Ubrgk']?_0x250bf2++:(_0x937e7a[_0x55dfe2(0x1d3)](_0x319ae1,_0x55dfe2(0x1fa),_0xafcd7),_0x3f960e&&_0x33703f['message']['should'][_0x55dfe2(0x227)](/BadConnectionRejected/),_0x46b03c());}),_0x4098c8[_0xe2034a(0x20c)]['should'][_0xe2034a(0x1c0)](0x0),_0x4098c8[_0xe2034a(0x1d6)]['should']['equal'](0x0);}}_0x550402[_0xc2124b(0x202)](it,_0x550402[_0xc2124b(0x1f8)],function(_0x4f920f){const _0x3b2aca=_0xc2124b;_0x4ad5ed(_0x4f920f),_0x91eaa[_0x3b2aca(0x1b3)][_0x3b2aca(0x1ef)](helloMessage),_0x91eaa[_0x3b2aca(0x1b3)][_0x3b2aca(0x1ef)](openChannelRequest);}),it(_0x550402['OYBXv'],function(_0x19508b){const _0x8d5c39=_0xc2124b;_0x550402[_0x8d5c39(0x1cb)](_0x4ad5ed,_0x19508b);const _0x160407=helloMessage['slice'](0x0,0xa),_0x2f6121=helloMessage[_0x8d5c39(0x1ce)](0xa);_0x91eaa[_0x8d5c39(0x1b3)][_0x8d5c39(0x1ef)](_0x160407),_0x91eaa[_0x8d5c39(0x1b3)][_0x8d5c39(0x1ef)](_0x2f6121),_0x91eaa[_0x8d5c39(0x1b3)][_0x8d5c39(0x1ef)](openChannelRequest);}),_0x550402[_0xc2124b(0x216)](it,_0xc2124b(0x1d7),function(_0x490cdc){const _0x5a8503=_0xc2124b;_0x550402[_0x5a8503(0x1cb)](_0x4ad5ed,_0x490cdc);const _0x1c843a=helloMessage['slice'](0x0,0xa),_0x1fa7b7=helloMessage[_0x5a8503(0x1ce)](0xa,0x19),_0x3571cf=helloMessage[_0x5a8503(0x1ce)](0x19);_0x91eaa[_0x5a8503(0x1b3)][_0x5a8503(0x1ef)](_0x1c843a),_0x91eaa[_0x5a8503(0x1b3)]['write'](_0x1fa7b7),_0x91eaa[_0x5a8503(0x1b3)][_0x5a8503(0x1ef)](_0x3571cf),_0x91eaa[_0x5a8503(0x1b3)][_0x5a8503(0x1ef)](openChannelRequest);}),it('should\x20handle\x20broken\x20HEL\x20message\x20in\x20many\x20small\x20chunks\x20(bug#36)',function(_0x1128b4){const _0x55f619=_0xc2124b;_0x550402[_0x55f619(0x228)](_0x4ad5ed,_0x1128b4);for(let _0x26fdf2=0x0;_0x550402[_0x55f619(0x1c4)](_0x26fdf2,helloMessage[_0x55f619(0x1eb)]);_0x26fdf2++){const _0x53a4cc=helloMessage[_0x55f619(0x1ce)](_0x26fdf2,_0x550402['CnWkN'](_0x26fdf2,0x1));_0x91eaa['client']['write'](_0x53a4cc);}_0x91eaa[_0x55f619(0x1b3)]['write'](openChannelRequest);}),it(_0xc2124b(0x215),function(_0x321989){const _0x10fe75=_0xc2124b,_0x2b9afe={'xvdBh':'ERR','CUdzx':function(_0x58406d,_0x1627e1,_0x58afb7){return _0x58406d(_0x1627e1,_0x58afb7);},'MbkRj':function(_0xc4f096){return _0xc4f096();},'oslqH':_0x10fe75(0x1d8),'ehjbf':function(_0x49169a,_0x12339b){const _0x2a6931=_0x10fe75;return _0x550402[_0x2a6931(0x220)](_0x49169a,_0x12339b);},'faYOi':function(_0x222f2d){return _0x222f2d();}},_0x453c9=new ServerTCP_transport();_0x453c9[_0x10fe75(0x1f7)](_0x91eaa[_0x10fe75(0x1e4)],_0x4bcb57=>{});const _0x2684b2=new HelloMessage({'protocolVersion':0x0,'receiveBufferSize':0x2000,'sendBufferSize':0x2000,'maxMessageSize':0x0,'maxChunkCount':0x0,'endpointUrl':_0x10fe75(0x1f5)});_0x91eaa[_0x10fe75(0x1b3)]['on'](_0x10fe75(0x206),_0x47e900=>{const _0xb6d2b7=_0x10fe75;if(_0xb6d2b7(0x1bb)!==_0x2b9afe[_0xb6d2b7(0x1c6)]){const _0x38c63e=new BinaryStream(_0x47e900),_0x1cff74=_0x2b9afe[_0xb6d2b7(0x1b8)](readMessageHeader,_0x38c63e);_0x1cff74['msgType'][_0xb6d2b7(0x207)][_0xb6d2b7(0x1e2)][_0xb6d2b7(0x1c0)](_0xb6d2b7(0x1be)),_0x38c63e[_0xb6d2b7(0x1e3)]();const _0x229e5c=decodeMessage(_0x38c63e,AcknowledgeMessage);_0x229e5c[_0xb6d2b7(0x1f2)][_0xb6d2b7(0x1ee)][_0xb6d2b7(0x207)]['equal'](_0xb6d2b7(0x1e1)),_0x2b9afe[_0xb6d2b7(0x211)](_0x321989);}else{const _0x56bb7b=new _0x33ee56(_0x2ff4c2),_0x2bb543=_0x2397dc(_0x56bb7b);_0x2bb543[_0xb6d2b7(0x1ff)]['should'][_0xb6d2b7(0x1c0)](_0x2b9afe[_0xb6d2b7(0x1dd)]),_0x56bb7b['rewind']();const _0x40cf7e=_0x2b9afe[_0xb6d2b7(0x1e0)](_0x36a4bc,_0x56bb7b,_0x4c6f1e);_0x40cf7e['constructor']['name'][_0xb6d2b7(0x207)][_0xb6d2b7(0x1c0)](_0xb6d2b7(0x1db)),_0x40cf7e[_0xb6d2b7(0x1ec)][_0xb6d2b7(0x1ee)][_0xb6d2b7(0x207)][_0xb6d2b7(0x1c2)](_0xb6d2b7(0x214)),_0x2b9afe['MbkRj'](_0x4fb8e8);}}),_0x91eaa['client'][_0x10fe75(0x1ef)](_0x550402['JAOrT'](packTcpMessage,_0x10fe75(0x208),_0x2684b2));}),_0x550402[_0xc2124b(0x1c1)](it,_0x550402['UXLhA'],function(_0x13a6e6){const _0x56741e=_0xc2124b,_0x227691=new ServerTCP_transport();_0x227691[_0x56741e(0x1f7)](_0x91eaa[_0x56741e(0x1e4)],_0x2d6758=>{});const _0x5aadd1=new HelloMessage({'protocolVersion':0x0,'receiveBufferSize':0x200,'sendBufferSize':0x200,'maxMessageSize':0x0,'maxChunkCount':0x0,'endpointUrl':_0x550402['NlaRs']});_0x91eaa['client']['on']('data',_0x4ebd61=>{const _0x5c3a2e=_0x56741e,_0x2efe7b=new BinaryStream(_0x4ebd61),_0x1f6fe8=readMessageHeader(_0x2efe7b);_0x1f6fe8[_0x5c3a2e(0x1ff)][_0x5c3a2e(0x207)][_0x5c3a2e(0x1c0)]('ERR'),_0x2efe7b[_0x5c3a2e(0x1e3)]();const _0x52442d=decodeMessage(_0x2efe7b,AcknowledgeMessage);_0x52442d[_0x5c3a2e(0x1f2)][_0x5c3a2e(0x1ee)]['should'][_0x5c3a2e(0x1c0)](_0x5c3a2e(0x1db)),_0x52442d[_0x5c3a2e(0x1ec)]['name'][_0x5c3a2e(0x207)][_0x5c3a2e(0x1c2)](_0x5c3a2e(0x1ca)),_0x13a6e6();}),_0x91eaa[_0x56741e(0x1b3)][_0x56741e(0x1ef)](packTcpMessage(_0x550402[_0x56741e(0x205)],_0x5aadd1));}),it(_0x550402[_0xc2124b(0x1fe)],function(_0x386c4d){const _0x5cdd35=_0xc2124b,_0x55e9fc={'wKSQt':function(_0x463b1d){const _0x1fafa5=_0x136a;return _0x550402[_0x1fafa5(0x1c5)](_0x463b1d);},'fZNkK':function(_0x2e167f,_0xf01620,_0xe28cfa){return _0x2e167f(_0xf01620,_0xe28cfa);}},_0x5e8da0=new ServerTCP_transport();_0x5e8da0[_0x5cdd35(0x1f7)](_0x91eaa[_0x5cdd35(0x1e4)],_0x4723b6=>{}),_0x5e8da0['on']('message',_0x58526d=>{_0x55e9fc['wKSQt'](_0x386c4d);});const _0x201ed9=Buffer[_0x5cdd35(0x219)](_0x550402[_0x5cdd35(0x213)],_0x550402['dQSke']);_0x91eaa[_0x5cdd35(0x1b3)]['on'](_0x550402[_0x5cdd35(0x1b5)],_0x24b7cf=>{const _0x4578c5=_0x5cdd35,_0xba25ae=new BinaryStream(_0x24b7cf),_0x40c465=readMessageHeader(_0xba25ae);_0xba25ae[_0x4578c5(0x1e3)]();const _0x11ddcc=_0x55e9fc['fZNkK'](decodeMessage,_0xba25ae,AcknowledgeMessage);}),_0x91eaa['client'][_0x5cdd35(0x1ef)](helloMessage),_0x91eaa['client'][_0x5cdd35(0x1ef)](packets['packect_outtec']);});});