var _0xeb1107=_0xab7f;(function(_0x1a07c6,_0x219078){var _0x2edc0a=_0xab7f,_0x5cd9b6=_0x1a07c6();while(!![]){try{var _0x2941ad=-parseInt(_0x2edc0a(0x194))/0x1*(parseInt(_0x2edc0a(0x1d0))/0x2)+parseInt(_0x2edc0a(0x1fa))/0x3+-parseInt(_0x2edc0a(0x19c))/0x4+parseInt(_0x2edc0a(0x1dd))/0x5*(-parseInt(_0x2edc0a(0x20d))/0x6)+parseInt(_0x2edc0a(0x20b))/0x7*(parseInt(_0x2edc0a(0x183))/0x8)+parseInt(_0x2edc0a(0x1be))/0x9*(parseInt(_0x2edc0a(0x1e2))/0xa)+-parseInt(_0x2edc0a(0x1b2))/0xb*(-parseInt(_0x2edc0a(0x1db))/0xc);if(_0x2941ad===_0x219078)break;else _0x5cd9b6['push'](_0x5cd9b6['shift']());}catch(_0x5c912d){_0x5cd9b6['push'](_0x5cd9b6['shift']());}}}(_0x59e4,0xcc171));var expect=require('chai')[_0xeb1107(0x1fe)],server=require('./fixture/wsfed-server'),request=require(_0xeb1107(0x1a6)),cheerio=require(_0xeb1107(0x1b4));function _0xab7f(_0x8be48d,_0x216f5b){var _0x59e4ab=_0x59e4();return _0xab7f=function(_0xab7fcf,_0x2f00a6){_0xab7fcf=_0xab7fcf-0x17b;var _0xfef3c5=_0x59e4ab[_0xab7fcf];return _0xfef3c5;},_0xab7f(_0x8be48d,_0x216f5b);}const xpath=require(_0xeb1107(0x206)),DOMParser=require('@xmldom/xmldom')['DOMParser'];describe(_0xeb1107(0x196),function(){var _0x3419a6=_0xeb1107,_0xfe3280={'GoTMx':function(_0x4107fd){return _0x4107fd();},'gihyL':_0x3419a6(0x1ff),'wvdYc':function(_0x8a3925,_0x231bff){return _0x8a3925(_0x231bff);},'qqexy':_0x3419a6(0x1a3),'orsoM':function(_0x2dfb75,_0x3d02f1){return _0x2dfb75(_0x3d02f1);},'RvMbY':_0x3419a6(0x1fc),'oEfTc':_0x3419a6(0x1d8),'Jnxer':function(_0x7cb38d,_0x2e5bc7,_0x1f8fdf){return _0x7cb38d(_0x2e5bc7,_0x1f8fdf);},'XqFQu':function(_0x147a11,_0x490864,_0x23b90e){return _0x147a11(_0x490864,_0x23b90e);},'blIbl':_0x3419a6(0x211),'mmeoC':function(_0x57af07,_0x5a7a57){return _0x57af07(_0x5a7a57);},'WoJsx':_0x3419a6(0x1a8),'LYYaZ':function(_0x47fa82,_0x58dd74){return _0x47fa82!==_0x58dd74;},'sgLRu':_0x3419a6(0x193),'Etynb':'mnnvr','QeJDk':_0x3419a6(0x1f0),'NwtDX':function(_0x1cd341){return _0x1cd341();},'mgEPn':_0x3419a6(0x204),'zzPnm':function(_0x587227){return _0x587227();},'Rbrlf':_0x3419a6(0x1dc),'lCTlZ':function(_0x4720cc,_0xc115f,_0x57499e){return _0x4720cc(_0xc115f,_0x57499e);},'hlDdH':'TWXfk','InsgK':function(_0x2a98f0,_0x33106e){return _0x2a98f0(_0x33106e);},'sUAAh':_0x3419a6(0x20e),'Luxgr':_0x3419a6(0x20f),'ewLSB':function(_0xa7e35c,_0x47eab8,_0x3dd753){return _0xa7e35c(_0x47eab8,_0x3dd753);},'rqeku':_0x3419a6(0x207),'AtBRk':function(_0x9e69d7,_0x26c0fa){return _0x9e69d7(_0x26c0fa);},'hsuKQ':'ApkRM','DTYiq':'BbQzj','niUbh':_0x3419a6(0x18a),'QOsjB':function(_0x492101,_0x1f2fd7){return _0x492101(_0x1f2fd7);},'eHzQW':function(_0x1c8ddc,_0xfaf268){return _0x1c8ddc(_0xfaf268);},'coeGc':_0x3419a6(0x1c0),'UsCji':function(_0x3f6924,_0x47ee04){return _0x3f6924===_0x47ee04;},'TMBYY':_0x3419a6(0x1f7),'VbcJA':function(_0x425435,_0x54b26f){return _0x425435(_0x54b26f);},'NkVAD':function(_0x352d51,_0x5787a6){return _0x352d51(_0x5787a6);},'NgCsR':function(_0x368cd3,_0x2cb7b5){return _0x368cd3(_0x2cb7b5);},'OlCnk':function(_0x3ac5bd,_0x11a35f){return _0x3ac5bd(_0x11a35f);},'vAKsF':_0x3419a6(0x1ca),'sZNrj':_0x3419a6(0x1c9),'lRPZB':'wresult\x20without\x20RequestedSecurityToken','CTLxA':_0x3419a6(0x192),'WqhbW':'invalid\x20wresult\x20in\x20POST','RCyIc':function(_0x33640b,_0x119e93,_0x5218ba){return _0x33640b(_0x119e93,_0x5218ba);}};_0xfe3280['NgCsR'](before,function(_0x1b860d){var _0x1ff9a7=_0x3419a6;server[_0x1ff9a7(0x1cc)](_0x1b860d);}),_0xfe3280['OlCnk'](after,function(_0x1aaf8b){var _0x38febf=_0x3419a6;server[_0x38febf(0x1ad)](_0x1aaf8b);}),describe(_0xfe3280[_0x3419a6(0x1f9)],()=>{var _0x27d903=_0x3419a6,_0x2304a9={'XsInf':_0x27d903(0x1eb),'ZnzrB':function(_0x203fc3,_0x4207e1){var _0x539a01=_0x27d903;return _0xfe3280[_0x539a01(0x1a4)](_0x203fc3,_0x4207e1);},'KRwWM':function(_0x53dc33,_0x27dc85){return _0x53dc33(_0x27dc85);},'xZrPs':_0xfe3280['RvMbY'],'RmZtQ':_0x27d903(0x1ee),'ZmmQz':_0xfe3280[_0x27d903(0x20a)]};_0xfe3280[_0x27d903(0x1b7)](it,'returns\x20400\x20if\x20we\x20have\x20more\x20than\x20one\x20Assertion\x20element',_0x825659=>{var _0x4282d6=_0x27d903,_0x24a31a={'SwHyV':function(_0x274ea1,_0x3e51a0){return _0x274ea1(_0x3e51a0);},'VBsqT':function(_0x5df421){return _0x5df421();},'LZeXh':function(_0x485c8c){return _0xfe3280['GoTMx'](_0x485c8c);},'VELBx':function(_0x4766b1,_0x26a24f){return _0x4766b1===_0x26a24f;},'AchwA':_0xfe3280[_0x4282d6(0x1ba)],'QRQJp':_0x4282d6(0x1b3),'GHbJj':_0x4282d6(0x1ee)};request[_0x4282d6(0x1e8)]({'jar':request[_0x4282d6(0x202)](),'uri':server[_0x4282d6(0x17e)]+_0x4282d6(0x1cf)},function(_0x2ea764,_0x3b763f,_0x433518){var _0x5a5866=_0x4282d6;if(_0x24a31a[_0x5a5866(0x1cd)](_0x24a31a['AchwA'],'SsIet')){if(_0x41d9e9)return _0x24a31a[_0x5a5866(0x201)](_0x3b2b41,_0x4d5ec9);_0x1bef6f=_0x1ecbf3,_0x5f5305=_0x2b86e7,_0x24a31a['VBsqT'](_0x222379);}else{if(_0x2ea764)return _0x825659(_0x2ea764);expect(_0x3b763f['statusCode'])['to'][_0x5a5866(0x19d)](0xc8);var _0x4b30ea=cheerio[_0x5a5866(0x1cb)](_0x433518),_0x3928f2=_0x4b30ea(_0x24a31a['QRQJp'])[_0x5a5866(0x19a)](_0x24a31a[_0x5a5866(0x1df)]),_0x8c32f8=_0x24a31a[_0x5a5866(0x201)](_0x4b30ea,_0x5a5866(0x1fc))[_0x5a5866(0x19a)](_0x24a31a[_0x5a5866(0x1df)]),_0x5642ae=new DOMParser()[_0x5a5866(0x1f2)](_0x3928f2,_0x5a5866(0x1a1)),_0x3623c3=xpath['select']('//*[local-name(.)=\x27Assertion\x27]',_0x5642ae)[0x0],_0x4845eb=_0x3623c3[_0x5a5866(0x19e)](!![]);_0x3623c3[_0x5a5866(0x1fb)](_0x4845eb);var _0x14f153=_0x5642ae[_0x5a5866(0x1b1)]();request[_0x5a5866(0x1c6)]({'jar':request[_0x5a5866(0x202)](),'uri':server[_0x5a5866(0x17e)]+'/callback','form':{'wresult':_0x14f153,'wa':_0x8c32f8}},function(_0x3e65af,_0x49c9bb,_0x2b8a5a){var _0x3f026=_0x5a5866;if(_0x3e65af)return _0x825659(_0x3e65af);expect(_0x49c9bb[_0x3f026(0x189)])['to']['equal'](0x190),_0x24a31a[_0x3f026(0x195)](_0x825659);});}});}),_0xfe3280[_0x27d903(0x1e3)](it,_0x27d903(0x190),_0x522cd7=>{var _0xa06785=_0x27d903,_0x372774={'ouRpL':function(_0x333f5a,_0x1109bc){var _0x1207ce=_0xab7f;return _0xfe3280[_0x1207ce(0x1e7)](_0x333f5a,_0x1109bc);},'qVwEg':_0xfe3280[_0xa06785(0x200)],'NOEfL':function(_0x3f235d){var _0x1e649a=_0xa06785;return _0xfe3280[_0x1e649a(0x1fd)](_0x3f235d);}};request['get']({'jar':request[_0xa06785(0x202)](),'uri':server[_0xa06785(0x17e)]+_0xa06785(0x1cf)},function(_0x5b6562,_0x490875,_0x30d241){var _0x575a4d=_0xa06785;if(_0x575a4d(0x1eb)!==_0x2304a9['XsInf'])_0x58130c(_0x147eb0[_0x575a4d(0x189)])['to'][_0x575a4d(0x19d)](0x12e);else{if(_0x5b6562)return _0x2304a9[_0x575a4d(0x1d9)](_0x522cd7,_0x5b6562);_0x2304a9['KRwWM'](expect,_0x490875[_0x575a4d(0x189)])['to'][_0x575a4d(0x19d)](0xc8);var _0x4da5df=cheerio[_0x575a4d(0x1cb)](_0x30d241),_0x5853ab=_0x4da5df(_0x2304a9[_0x575a4d(0x1c4)])['attr'](_0x2304a9['RmZtQ']);request['post']({'jar':request[_0x575a4d(0x202)](),'uri':server[_0x575a4d(0x17e)]+_0x575a4d(0x1d2),'form':{'wresult':_0x2304a9[_0x575a4d(0x214)],'wa':_0x5853ab}},function(_0xcb4d8e,_0x4b5bb3,_0x8a0517){var _0xc072a9=_0x575a4d,_0x425909={'dTzyF':function(_0x3208e8,_0x3299f0){return _0x3208e8(_0x3299f0);}};if('nHWDv'==='nHWDv'){if(_0xcb4d8e)return _0x522cd7(_0xcb4d8e);_0x372774['ouRpL'](expect,_0x4b5bb3[_0xc072a9(0x189)])['to'][_0xc072a9(0x19d)](0x191),expect(_0x4b5bb3[_0xc072a9(0x1c3)])['to'][_0xc072a9(0x181)](_0x372774[_0xc072a9(0x185)]),_0x372774[_0xc072a9(0x182)](_0x522cd7);}else{if(_0x23ebec)return _0x425909[_0xc072a9(0x1bc)](_0x5664ac,_0x45093e);_0x2745c3=_0x5e72ba,_0x5f3f38=_0x2b1423,_0x4ac663();}});}});});}),describe(_0xfe3280[_0x3419a6(0x205)],function(){var _0x1e01ef=_0x3419a6,_0x528cdd={'mzrut':'5|2|0|1|4|3','aqdTi':function(_0x5621ef,_0x162acd){var _0x1aad27=_0xab7f;return _0xfe3280[_0x1aad27(0x18d)](_0x5621ef,_0x162acd);},'NSCnA':function(_0xdf608a,_0x6aec45){return _0xdf608a(_0x6aec45);},'ZiLKn':function(_0x453236){return _0x453236();},'vSjxZ':'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier','GTONm':_0xfe3280['WoJsx'],'WSOjC':function(_0xd40810){return _0xd40810();}};if(_0xfe3280['LYYaZ'](_0xfe3280[_0x1e01ef(0x199)],_0xfe3280[_0x1e01ef(0x17f)])){var _0x3cabb4,_0x29838e,_0x32816c,_0x59702b;before(function(_0x1bd90d){var _0x56f308=_0x1e01ef,_0x26f8de={'yNPoq':function(_0x3b2b57){return _0x3b2b57();}};request[_0x56f308(0x1e8)]({'jar':request['jar'](),'uri':server[_0x56f308(0x17e)]+_0x56f308(0x1cf)},function(_0x163633,_0x2bf027,_0x47d493){var _0x10ecc1=_0x56f308,_0x56dcd4=_0x528cdd['mzrut']['split']('|'),_0x3695bd=0x0;while(!![]){switch(_0x56dcd4[_0x3695bd++]){case'0':_0x59702b=cheerio[_0x10ecc1(0x1cb)](_0x47d493);continue;case'1':var _0x46c936=_0x528cdd[_0x10ecc1(0x1bd)](_0x59702b,_0x10ecc1(0x1b3))['attr']('value');continue;case'2':expect(_0x2bf027[_0x10ecc1(0x189)])['to'][_0x10ecc1(0x19d)](0xc8);continue;case'3':request[_0x10ecc1(0x1c6)]({'jar':request[_0x10ecc1(0x202)](),'uri':server[_0x10ecc1(0x17e)]+_0x10ecc1(0x1d2),'form':{'wresult':_0x46c936,'wa':_0x50c7e5}},function(_0x1677e5,_0xd7aeef,_0x5f5890){if(_0x1677e5)return _0x1bd90d(_0x1677e5);_0x29838e=_0xd7aeef,_0x32816c=_0x5f5890,_0x26f8de['yNPoq'](_0x1bd90d);});continue;case'4':var _0x50c7e5=_0x528cdd[_0x10ecc1(0x1bd)](_0x59702b,_0x10ecc1(0x1fc))[_0x10ecc1(0x19a)](_0x10ecc1(0x1ee));continue;case'5':if(_0x163633)return _0x528cdd[_0x10ecc1(0x1af)](_0x1bd90d,_0x163633);continue;}break;}});}),it(_0x1e01ef(0x209),function(){var _0x2d858d=_0x1e01ef;if(_0x2d858d(0x211)!==_0xfe3280[_0x2d858d(0x1da)]){var _0xd028d3={'VQJct':function(_0x2dd576){var _0x503f2a=_0x2d858d;return _0x528cdd[_0x503f2a(0x1e6)](_0x2dd576);}};_0x2bd9aa[_0x2d858d(0x1c6)]({'jar':_0x2636b0[_0x2d858d(0x202)](),'uri':_0x327e3b[_0x2d858d(0x17e)]+_0x2d858d(0x1d2),'form':{'wresult':_0x2d858d(0x18a)}},function(_0x3abd04,_0x79f168,_0x2e2809){var _0x1a882e=_0x2d858d;if(_0x3abd04)return _0x2ce4a3(_0x3abd04);_0x44084d=_0x79f168,_0x356ac5=_0x2e2809,_0xd028d3[_0x1a882e(0x18b)](_0x4c952f);});}else expect(_0x29838e[_0x2d858d(0x189)])['to'][_0x2d858d(0x19d)](0xc8);}),it(_0xfe3280['QeJDk'],function(){var _0x3424f4=_0x1e01ef,_0x52d800=JSON['parse'](_0x32816c);_0x528cdd[_0x3424f4(0x1af)](expect,_0x52d800[_0x528cdd[_0x3424f4(0x1ef)]])['to']['equal'](server[_0x3424f4(0x1aa)]['id']),_0x528cdd[_0x3424f4(0x1af)](expect,_0x52d800[_0x528cdd[_0x3424f4(0x197)]])['to']['equal'](server[_0x3424f4(0x1aa)][_0x3424f4(0x18c)][0x0][_0x3424f4(0x1ee)]);});}else _0x127bfe[_0x1e01ef(0x1c6)]({'jar':_0x3f15b5[_0x1e01ef(0x202)](),'uri':_0x2ba4c6[_0x1e01ef(0x17e)]+_0x1e01ef(0x1d2)},function(_0x1fcd0c,_0x301c8d,_0x45f0c0){var _0x115d52=_0x1e01ef;if(_0x1fcd0c)return _0x4d35b7(_0x1fcd0c);_0x44f822=_0x301c8d,_0x5aad5f=_0x45f0c0,_0x528cdd[_0x115d52(0x1e9)](_0x573619);});}),_0xfe3280[_0x3419a6(0x19f)](describe,_0xfe3280['lRPZB'],function(){var _0x1aa25c=_0x3419a6,_0x45aa49={'sWtXp':function(_0x16b66d,_0x63af2d){return _0xfe3280['wvdYc'](_0x16b66d,_0x63af2d);},'MaOYO':function(_0x114e8c){var _0x439ba2=_0xab7f;return _0xfe3280[_0x439ba2(0x1f6)](_0x114e8c);},'moVIh':_0xfe3280[_0x1aa25c(0x19b)],'ViiMp':function(_0x4d124c,_0x5e3d94){return _0x4d124c(_0x5e3d94);},'KroyA':function(_0x563e81,_0x2cf5dd,_0x29aa79){var _0x40362d=_0x1aa25c;return _0xfe3280[_0x40362d(0x1b8)](_0x563e81,_0x2cf5dd,_0x29aa79);}},_0x3bf771,_0x3ae9f9,_0x10d949,_0x3e4fba;before(function(_0x213b62){var _0x4cd889=_0x1aa25c;request[_0x4cd889(0x1c6)]({'jar':request['jar'](),'uri':server[_0x4cd889(0x17e)]+_0x4cd889(0x1d2),'form':{'wresult':_0x45aa49[_0x4cd889(0x1ec)]}},function(_0x1a1fb6,_0xe91fb1,_0xf4ab68){var _0x43b04e=_0x4cd889;if(_0x1a1fb6)return _0x45aa49[_0x43b04e(0x1b9)](_0x213b62,_0x1a1fb6);_0x3ae9f9=_0xe91fb1,_0x10d949=_0xf4ab68,_0x45aa49[_0x43b04e(0x188)](_0x213b62);});}),it(_0x1aa25c(0x1b6),function(){var _0x219126=_0x1aa25c,_0x134b5a={'zJJLq':function(_0x79b102){return _0xfe3280['NwtDX'](_0x79b102);},'QyTOv':_0x219126(0x1dc)};if(_0xfe3280['LYYaZ'](_0x219126(0x1f5),_0xfe3280[_0x219126(0x1d5)]))expect(_0x3ae9f9[_0x219126(0x189)])['to'][_0x219126(0x19d)](0x190);else{var _0x4c3c2,_0x6821ce,_0x497fa2,_0x432204;_0x45aa49[_0x219126(0x216)](_0xfffe85,function(_0x30ad89){var _0x4e2c75=_0x219126,_0xa2abf6={'sNFLD':function(_0x39681a){var _0x24d19d=_0xab7f;return _0x134b5a[_0x24d19d(0x187)](_0x39681a);}};_0x44045d['post']({'jar':_0x106cf2[_0x4e2c75(0x202)](),'uri':_0x6c62f5['BASE_URL']+_0x4e2c75(0x1d2),'form':{'wresult':_0x134b5a[_0x4e2c75(0x1bf)]}},function(_0x2845ec,_0x13d13b,_0x54f1e6){var _0x492ffe=_0x4e2c75;if(_0x2845ec)return _0x30ad89(_0x2845ec);_0x6821ce=_0x13d13b,_0x497fa2=_0x54f1e6,_0xa2abf6[_0x492ffe(0x1ab)](_0x30ad89);});}),_0x45aa49[_0x219126(0x1ac)](_0x381905,_0x219126(0x1b6),function(){var _0x56ded1=_0x219126;_0x1d885f(_0x6821ce[_0x56ded1(0x189)])['to'][_0x56ded1(0x19d)](0x190);});}});}),describe(_0xfe3280[_0x3419a6(0x191)],function(){var _0x326c59=_0x3419a6,_0x594629={'SviFi':function(_0x221b18){var _0xf6f998=_0xab7f;return _0xfe3280[_0xf6f998(0x1f6)](_0x221b18);},'SpnWf':function(_0x2659bf,_0x51cdcb){return _0x2659bf(_0x51cdcb);},'fpBWz':_0x326c59(0x1ee),'mlRUr':'input[name=\x22wa\x22]','QwewG':_0x326c59(0x1a1)};if(_0xfe3280['LYYaZ'](_0xfe3280[_0x326c59(0x17d)],_0xfe3280[_0x326c59(0x1ae)])){var _0x4e73cc,_0x54ef75,_0x3cba4a,_0x1dbf54;_0xfe3280[_0x326c59(0x1a4)](before,function(_0x51e595){var _0x30893b=_0x326c59,_0x1438ad={'CAqmu':function(_0x4ff241,_0x41e95d){return _0x4ff241(_0x41e95d);}};request['post']({'jar':request['jar'](),'uri':server[_0x30893b(0x17e)]+_0x30893b(0x1d2)},function(_0xf60c06,_0xd086d,_0x308011){var _0x88c9c=_0x30893b;if(_0xf60c06)return _0x1438ad[_0x88c9c(0x1d6)](_0x51e595,_0xf60c06);_0x54ef75=_0xd086d,_0x3cba4a=_0x308011,_0x51e595();});}),_0xfe3280[_0x326c59(0x19f)](it,_0xfe3280[_0x326c59(0x213)],function(){var _0x143462=_0x326c59;_0xfe3280['hlDdH']!==_0x143462(0x1c2)?_0x5429cc(_0x340670['statusCode'])['to'][_0x143462(0x19d)](0x190):_0xfe3280[_0x143462(0x1d4)](expect,_0x54ef75[_0x143462(0x189)])['to'][_0x143462(0x19d)](0x12e);});}else _0xf25e05['get']({'jar':_0xe238d8[_0x326c59(0x202)](),'uri':_0x349bd1[_0x326c59(0x17e)]+'/login?wa=wsignin1.0&wtrealm=urn:fixture-test'},function(_0x2e38b5,_0x239b22,_0x35f12b){var _0x49a16a=_0x326c59,_0x24389b={'oxAMO':function(_0x267b03,_0x1809a7){return _0x267b03(_0x1809a7);},'WGehT':function(_0xf0f55c,_0x869908){return _0xf0f55c(_0x869908);},'OzDHW':function(_0x5b9286){var _0x14894d=_0xab7f;return _0x594629[_0x14894d(0x1b0)](_0x5b9286);}};if(_0x2e38b5)return _0x594629[_0x49a16a(0x186)](_0xde82c3,_0x2e38b5);_0x594629[_0x49a16a(0x186)](_0x312fa8,_0x239b22[_0x49a16a(0x189)])['to'][_0x49a16a(0x19d)](0xc8);const _0x289921=_0x9cbddb[_0x49a16a(0x1cb)](_0x35f12b),_0x4867fd=_0x289921('input[name=\x22wresult\x22]')[_0x49a16a(0x19a)](_0x594629[_0x49a16a(0x203)]),_0x47f7e4=_0x594629[_0x49a16a(0x186)](_0x289921,_0x594629['mlRUr'])[_0x49a16a(0x19a)](_0x594629[_0x49a16a(0x203)]),_0x507a4e=new _0x22e4ce()[_0x49a16a(0x1f2)](_0x4867fd,_0x594629[_0x49a16a(0x184)]),_0x45aa5c=_0x1c13f0[_0x49a16a(0x20c)](_0x49a16a(0x1e5),_0x507a4e)[0x0],_0x499c5c=_0x45aa5c[_0x49a16a(0x19e)](!![]);_0x45aa5c[_0x49a16a(0x1fb)](_0x499c5c);const _0x2137bc=_0x507a4e[_0x49a16a(0x1b1)]();_0x2e8f4a[_0x49a16a(0x1c6)]({'jar':_0x41e02a[_0x49a16a(0x202)](),'uri':_0x36d981['BASE_URL']+_0x49a16a(0x1d2),'form':{'wresult':_0x2137bc,'wa':_0x47f7e4}},function(_0x3cdc88,_0x4575ec,_0xcced34){var _0x156b32=_0x49a16a;if(_0x3cdc88)return _0x24389b['oxAMO'](_0x56b5b2,_0x3cdc88);_0x24389b[_0x156b32(0x1d3)](_0xca66c4,_0x4575ec[_0x156b32(0x189)])['to'][_0x156b32(0x19d)](0x190),_0x24389b[_0x156b32(0x1f4)](_0x7c6b5f);});});}),describe(_0xfe3280[_0x3419a6(0x1f1)],function(){var _0x1034be=_0x3419a6,_0x346840={'TEPTK':_0xfe3280[_0x1034be(0x1ce)],'ANrpG':_0xfe3280[_0x1034be(0x215)],'nyIMS':_0xfe3280[_0x1034be(0x1d7)]},_0x3ba68b,_0x3a03b2,_0x1dbeab,_0x4e5199;_0xfe3280['QOsjB'](before,function(_0x1a1cf9){var _0x1bad28=_0x1034be,_0x44919d={'NdQJC':function(_0x1e024a,_0x4b02f1){return _0x1e024a(_0x4b02f1);},'wQGrL':_0x1bad28(0x1a8),'HSuIb':_0x1bad28(0x17c),'hAoRh':_0x346840['TEPTK'],'WQvKj':function(_0x221c57){return _0x221c57();}};if(_0x346840[_0x1bad28(0x1f3)]===_0x1bad28(0x1c7)){var _0x283391=_0x51ac54[_0x1bad28(0x1c8)](_0x2be264);_0x44919d['NdQJC'](_0x41947f,_0x283391[_0x1bad28(0x1a9)])['to'][_0x1bad28(0x19d)](_0x63f277[_0x1bad28(0x1aa)]['id']),_0x20b50a(_0x283391[_0x44919d[_0x1bad28(0x1c5)]])['to'][_0x1bad28(0x19d)](_0x4c503c['fakeUser'][_0x1bad28(0x18c)][0x0]['value']);}else request[_0x1bad28(0x1c6)]({'jar':request['jar'](),'uri':server[_0x1bad28(0x17e)]+_0x1bad28(0x1d2),'form':{'wresult':_0x346840['nyIMS']}},function(_0x1e01f7,_0x13ed6b,_0x41fb60){var _0xd65aeb=_0x1bad28;if(_0x44919d[_0xd65aeb(0x180)]!==_0x44919d[_0xd65aeb(0x210)]){if(_0x1e01f7)return _0x1a1cf9(_0x1e01f7);_0x3a03b2=_0x13ed6b,_0x1dbeab=_0x41fb60,_0x44919d['WQvKj'](_0x1a1cf9);}else{if(_0x2a00ea)return _0x25b43b(_0x5df12a);_0x205f48=_0x1f8007,_0x39d141=_0x6a8cd2,_0x1e477a();}});}),it(_0x1034be(0x1b6),function(){var _0x2ceab2=_0x1034be;_0xfe3280[_0x2ceab2(0x212)](expect,_0x3a03b2[_0x2ceab2(0x189)])['to'][_0x2ceab2(0x19d)](0x190);});}),_0xfe3280[_0x3419a6(0x1de)](describe,_0x3419a6(0x17b),function(){var _0x3314ba=_0x3419a6,_0x250f82={'Rubmv':function(_0x294f72){return _0x294f72();},'HpjMY':_0xfe3280[_0x3314ba(0x1e4)],'vCEiL':_0xfe3280[_0x3314ba(0x213)],'hpyRr':function(_0x4971ea,_0x469615){return _0xfe3280['UsCji'](_0x4971ea,_0x469615);},'RNxsF':_0xfe3280[_0x3314ba(0x1d1)],'MMbol':function(_0x3088af,_0x42a5e9){var _0xc355d8=_0x3314ba;return _0xfe3280[_0xc355d8(0x1a5)](_0x3088af,_0x42a5e9);}},_0x2c9b44,_0xec5aa1,_0x5e9dc3,_0x459657;_0xfe3280[_0x3314ba(0x1b5)](before,function(_0x151d36){var _0x41a906=_0x3314ba,_0x567a2d={'KkNww':_0x41a906(0x18e),'HAzAt':function(_0x2f462e,_0x268cf1){return _0x2f462e(_0x268cf1);},'hIIUs':function(_0x95e035){var _0x4c6a91=_0x41a906;return _0x250f82[_0x4c6a91(0x1a2)](_0x95e035);}};request[_0x41a906(0x1c6)]({'jar':request[_0x41a906(0x202)](),'uri':server[_0x41a906(0x17e)]+_0x41a906(0x1e1),'form':{'wresult':_0x250f82[_0x41a906(0x1a0)]}},function(_0x322d88,_0x1d8919,_0x1d1542){var _0x27e3b0=_0x41a906;if(_0x567a2d[_0x27e3b0(0x1e0)]===_0x567a2d[_0x27e3b0(0x1e0)]){if(_0x322d88)return _0x567a2d[_0x27e3b0(0x1f8)](_0x151d36,_0x322d88);_0xec5aa1=_0x1d8919,_0x5e9dc3=_0x1d1542,_0x567a2d[_0x27e3b0(0x1a7)](_0x151d36);}else _0x4ac2ae['post']({'jar':_0x43b684[_0x27e3b0(0x202)](),'uri':_0x289d77[_0x27e3b0(0x17e)]+_0x27e3b0(0x1e1),'form':{'wresult':_0x27e3b0(0x1c0)}},function(_0xb71e7a,_0x5d3ffd,_0x5c70f6){if(_0xb71e7a)return _0x332f5b(_0xb71e7a);_0x5532fc=_0x5d3ffd,_0x2d7902=_0x5c70f6,_0x5225a5();});});}),_0xfe3280['Jnxer'](it,_0x3314ba(0x1b6),function(){var _0x156435=_0x3314ba,_0x29550d={'BbQmk':function(_0x3b8110,_0x4a0ef2){return _0x3b8110(_0x4a0ef2);},'XTumF':_0x250f82[_0x156435(0x1bb)]};if(_0x250f82['hpyRr'](_0x250f82['RNxsF'],_0x250f82['RNxsF']))_0x250f82['MMbol'](expect,_0xec5aa1['statusCode'])['to'][_0x156435(0x19d)](0x190);else{var _0xad9dd9,_0x4ad4a1,_0x45a02c,_0x5a5a7c;_0x29550d[_0x156435(0x208)](_0x3057ac,function(_0x4e1250){var _0x3e8a29=_0x156435,_0x892fc5={'Vpdjb':function(_0x32e5f3){return _0x32e5f3();}};_0x50f084[_0x3e8a29(0x1c6)]({'jar':_0x182f0b['jar'](),'uri':_0x21e715[_0x3e8a29(0x17e)]+'/callback'},function(_0x13b9e8,_0x51a756,_0xb98f03){var _0x80ef2e=_0x3e8a29;if(_0x13b9e8)return _0x4e1250(_0x13b9e8);_0x4ad4a1=_0x51a756,_0x45a02c=_0xb98f03,_0x892fc5[_0x80ef2e(0x198)](_0x4e1250);});}),_0x197a12(_0x29550d[_0x156435(0x1ed)],function(){var _0x58f093=_0x156435;_0x4dd5fb(_0x4ad4a1[_0x58f093(0x189)])['to']['equal'](0x12e);});}}),it(_0x3314ba(0x1c1),function(){var _0x352a26=_0x3314ba,_0x166584=JSON['parse'](_0x5e9dc3);_0xfe3280[_0x352a26(0x18f)](expect,_0x166584[_0x352a26(0x1ea)])['to']['match'](/^end tag name contains invalid characters/);});});});function _0x59e4(){var _0x43647f=['<t:RequestSecurityTokenResponse\x20Context=\x22undefined\x22\x20xmlns:t=\x22http://schemas.xmlsoap.org/ws/2005/02/trust\x22><t:RequestedSecurityToken></saml:Assertion\x20xmlns:saml=\x22urn:oasis:names:tc:SAML:1.0:assertion\x22\x20MajorVersion=\x221\x22\x20MinorVersion=\x221\x22\x20AssertionID=\x22_dpEiwydz8xWGlw4HbWMg1XfOUdEpdaMC\x22\x20IssueInstant=\x222017-05-24T17:52:42.498Z\x22\x20Issuer=\x22urn:fixture-test\x22><saml:Conditions\x20NotBefore=\x222017-05-24T17:52:42.498Z\x22\x20NotOnOrAfter=\x222017-05-25T01:52:42.498Z\x22><saml:AudienceRestrictionCondition><saml:Audience>urn:fixture-test</saml:Audience></saml:AudienceRestrictionCondition></saml:Conditions><saml:AttributeStatement><saml:Subject><saml:NameIdentifier\x20Format=\x22urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified\x22>12345678</saml:NameIdentifier><saml:SubjectConfirmation><saml:ConfirmationMethod>urn:oasis:names:tc:SAML:1.0:cm:bearer</saml:ConfirmationMethod></saml:SubjectConfirmation></saml:Subject><saml:Attribute\x20AttributeNamespace=\x22http://schemas.xmlsoap.org/ws/2005/05/identity/claims\x22\x20AttributeName=\x22nameidentifier\x22><saml:AttributeValue>12345678</saml:AttributeValue></saml:Attribute><saml:Attribute\x20AttributeNamespace=\x22http://schemas.xmlsoap.org/ws/2005/05/identity/claims\x22\x20AttributeName=\x22emailaddress\x22><saml:AttributeValue>jfoo@gmail.com</saml:AttributeValue></saml:Attribute><saml:Attribute\x20AttributeNamespace=\x22http://schemas.xmlsoap.org/ws/2005/05/identity/claims\x22\x20AttributeName=\x22name\x22><saml:AttributeValue>John\x20Foo</saml:AttributeValue></saml:Attribute><saml:Attribute\x20AttributeNamespace=\x22http://schemas.xmlsoap.org/ws/2005/05/identity/claims\x22\x20AttributeName=\x22givenname\x22><saml:AttributeValue>John</saml:AttributeValue></saml:Attribute><saml:Attribute\x20AttributeNamespace=\x22http://schemas.xmlsoap.org/ws/2005/05/identity/claims\x22\x20AttributeName=\x22surname\x22><saml:AttributeValue>Foo</saml:AttributeValue></saml:Attribute></saml:AttributeStatement><saml:AuthenticationStatement\x20AuthenticationMethod=\x22urn:oasis:names:tc:SAML:1.0:am:password\x22\x20AuthenticationInstant=\x222017-05-25T01:52:42.498Z\x22><saml:Subject><saml:NameIdentifier\x20Format=\x22urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified\x22>12345678</saml:NameIdentifier><saml:SubjectConfirmation><saml:ConfirmationMethod>urn:oasis:names:tc:SAML:1.0:cm:bearer</saml:ConfirmationMethod></saml:SubjectConfirmation></saml:Subject></saml:AuthenticationStatement><Signature\x20xmlns=\x22http://www.w3.org/2000/09/xmldsig#\x22><SignedInfo><CanonicalizationMethod\x20Algorithm=\x22http://www.w3.org/2001/10/xml-exc-c14n#\x22/><SignatureMethod\x20Algorithm=\x22http://www.w3.org/2001/04/xmldsig-more#rsa-sha256\x22/><Reference\x20URI=\x22#_dpEiwydz8xWGlw4HbWMg1XfOUdEpdaMC\x22><Transforms><Transform\x20Algorithm=\x22http://www.w3.org/2000/09/xmldsig#enveloped-signature\x22/><Transform\x20Algorithm=\x22http://www.w3.org/2001/10/xml-exc-c14n#\x22/></Transforms><DigestMethod\x20Algorithm=\x22http://www.w3.org/2001/04/xmlenc#sha256\x22/><DigestValue>fxxeOWyp3M3cVfglUEg0Fc0mVAm7QVCyrSX2Kflq8VE=</DigestValue></Reference></SignedInfo><SignatureValue>ETv7SqrEoHYP1FTLcdylyDZotyJ1uuNNCLo6sw4cm4YAnGz/OYUIssUb0s82C3NCfV5ifvryr5khnZCNfRvEWJPsIZAtaSPHeeO+x3ajIDd/qfklNBHpdEYMP2WbcqPA6pYeh+OHgAlG6srsLDO8fMymUa/T8yACIU7cwnouEaYESWRU2fqKOXpeUxB/pENiY+qxPTvxzRYld5OlR+sNAJFPIvl3V5G+vw0mx+7tZteKq7yX0djpwEoFfXAcMzvLoqLqENjxPanmVPv7qvv7dIdI0kPE6jret50sHkHpQ7XZJmGi6cNc+/kvhSHXhD3vJ0u3BP/qCCPYPHz42z+KIw==</SignatureValue><KeyInfo><X509Data><X509Certificate>MIIEDzCCAvegAwIBAgIJALr9HwgrQ7GeMA0GCSqGSIb3DQEBBQUAMGIxGDAWBgNVBAMTD2F1dGgwLmF1dGgwLmNvbTESMBAGA1UEChMJQXV0aDAgTExDMQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMHUmVkbW9uZDAeFw0xMjEyMjkxNTMwNDdaFw0xMzAxMjgxNTMwNDdaMGIxGDAWBgNVBAMTD2F1dGgwLmF1dGgwLmNvbTESMBAGA1UEChMJQXV0aDAgTExDMQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMHUmVkbW9uZDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMZiVmNHiXLldrgbS50ONNOH7pJ2zg6OcSMkYZGDZJbOZ/TqwauC6JOnI7+xtkPJsQHZSFJs4U0srjZKzDCmaz2jLAJDShP2jaXlrki16nDLPE//IGAg3BJguSmBCWpDbSm92V9hSsE+Mhx6bDaJiw8yQ+Q8iSm0aTQZtp6O4ICMu00ESdh9NJqIECELvP31ADV1Xhj7IbyyVPDFxMv3ol5BySE9wwwOFUq/wv7Xz9LRiUjUzPO+Lq3OM3o/uCDbk7jD7XrGUuOydALD8ULsXp4EuDO+nFbeXB/iKndZynuVKokirywl2nD2IP0/yncdLQZ8ByIyqP3G82fq/l8p7AsCAwEAAaOBxzCBxDAdBgNVHQ4EFgQUHI2rUXeBjTv1zAllaPGrHFcEK0YwgZQGA1UdIwSBjDCBiYAUHI2rUXeBjTv1zAllaPGrHFcEK0ahZqRkMGIxGDAWBgNVBAMTD2F1dGgwLmF1dGgwLmNvbTESMBAGA1UEChMJQXV0aDAgTExDMQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMHUmVkbW9uZIIJALr9HwgrQ7GeMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQEFBQADggEBAFrXIhCy4T4eGrikb0R2wHv/uS548r3pZyBV0CDbcRwAtbnpJMvkGFqKVp4pmyoIDSVNK/j+sLEshB20XftezHZyRJbCUbtKvXQ6FsxoeZMlN0ITYKTaoBZKhUxxj90otAhNC58qwGUPqt2LewJhHyLucKkGJ1mQ3b5xKZ532ToufouH9VLhig3H1KnxWo/zMD6Ke8cCk6qO9htuhI06s3GQGS1QWQtAmm17C6TfKgDwQFZwhqHUUZnwKRH8gU6OgZsvhgV1B7H5mjZcu57KMiDBekU9MEY0DCVTN3WkmcTII668zLsJrkNX6PEfck1AMBbVE6pEUKcWwq3uaLvlAUo=</X509Certificate></X509Data></KeyInfo></Signature></saml:Assertion></t:RequestedSecurityToken></t:RequestSecurityTokenResponse>','should\x20be\x20recognized\x20as\x20an\x20invalid\x20xml','TWXfk','body','xZrPs','wQGrL','post','OTkGQ','parse','normal\x20flow','Validations','load','start','VELBx','hsuKQ','/login?wa=wsignin1.0&wtrealm=urn:fixture-test','2ZMxJHC','TMBYY','/callback','WGehT','InsgK','mgEPn','CAqmu','niUbh','<doc><![CDATA[</doc>','ZnzrB','blIbl','102132HITWSx','<t:RequestSecurityTokenResponse\x20xmlns:t=\x22http://schemas.xmlsoap.org/ws/2005/02/trust\x22></t:RequestSecurityTokenResponse>','70wBAHTR','RCyIc','GHbJj','KkNww','/callback/wresult-with-invalid-xml','564970LFeMnt','XqFQu','coeGc','//*[local-name(.)=\x27Assertion\x27]','ZiLKn','wvdYc','get','WSOjC','message','qKTZb','moVIh','XTumF','value','vSjxZ','should\x20return\x20a\x20valid\x20user','WqhbW','parseFromString','ANrpG','OzDHW','WwuDF','zzPnm','DYtCw','HAzAt','vAKsF','61506QUyRQU','appendChild','input[name=\x22wa\x22]','GoTMx','expect','dhtYN','qqexy','SwHyV','jar','fpBWz','AOmFD','sZNrj','xpath','should\x20redirect\x20to\x20idp','BbQmk','should\x20be\x20valid\x20signature','oEfTc','7HfddPA','select','436314BtQZIp','UfdJU','MgkAY','hAoRh','biQID','AtBRk','rqeku','ZmmQz','DTYiq','ViiMp','invalid\x20wresult\x20(xml)\x20in\x20POST','TGhuW','sUAAh','BASE_URL','Etynb','HSuIb','contain','NOEfL','7011784CioAqk','QwewG','qVwEg','SpnWf','zJJLq','MaOYO','statusCode','foo','VQJct','emails','mmeoC','hcTVP','eHzQW','returns\x20400\x20if\x20invalid\x20XML\x20-\x20\x22<doc><![CDATA[</doc>\x22','CTLxA','missing\x20wresult\x20in\x20POST','xcFgj','712907EkkqwH','LZeXh','wsfed','GTONm','Vpdjb','sgLRu','attr','Rbrlf','2937808NTDYAt','equal','cloneNode','ewLSB','HpjMY','text/xml','Rubmv','Unauthorized','orsoM','VbcJA','request','hIIUs','http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress','http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier','fakeUser','sNFLD','KroyA','close','Luxgr','NSCnA','SviFi','toString','990vncGYG','input[name=\x22wresult\x22]','cheerio','NkVAD','should\x20return\x20a\x20400','Jnxer','lCTlZ','sWtXp','gihyL','vCEiL','dTzyF','aqdTi','261tBcwpE','QyTOv'];_0x59e4=function(){return _0x43647f;};return _0x59e4();}