const _0x5a9c41=_0x2230;(function(_0x166a8b,_0x498f39){const _0x217f7f=_0x2230,_0x19b562=_0x166a8b();while(!![]){try{const _0x5b0045=parseInt(_0x217f7f(0xfc))/0x1+parseInt(_0x217f7f(0x1b3))/0x2+parseInt(_0x217f7f(0x119))/0x3*(parseInt(_0x217f7f(0xe3))/0x4)+parseInt(_0x217f7f(0x180))/0x5*(parseInt(_0x217f7f(0xd9))/0x6)+parseInt(_0x217f7f(0xe6))/0x7*(parseInt(_0x217f7f(0x181))/0x8)+-parseInt(_0x217f7f(0x160))/0x9*(parseInt(_0x217f7f(0x145))/0xa)+parseInt(_0x217f7f(0x11b))/0xb*(-parseInt(_0x217f7f(0x17a))/0xc);if(_0x5b0045===_0x498f39)break;else _0x19b562['push'](_0x19b562['shift']());}catch(_0x5d99b1){_0x19b562['push'](_0x19b562['shift']());}}}(_0x2c59,0x6c2c6));const assert=require(_0x5a9c41(0x13b)),fs=require('fs'),{expect}=require(_0x5a9c41(0xf0)),saml20=require(_0x5a9c41(0x1a2))['Saml20'],utils=require(_0x5a9c41(0x183)),SamlPassport=require(_0x5a9c41(0xcf))[_0x5a9c41(0x110)];function _0x2230(_0x2f0df7,_0xd56ac2){const _0x2c5908=_0x2c59();return _0x2230=function(_0x2230bb,_0x5846d5){_0x2230bb=_0x2230bb-0xae;let _0x17fdb8=_0x2c5908[_0x2230bb];return _0x17fdb8;},_0x2230(_0x2f0df7,_0xd56ac2);}function _0x2c59(){const _0x386b0e=['MvhNz','YeZcR','CGhrQ','ZFUDy','ZDubV','SflNy','859343CCjTrY','HpFXh','xaDuV','bRfhj','iglEK','urn:myapp','http://schemas.xmlsoap.org/ws/2005/05/identity/claims/groups','rKYir','XfUXD','jMgbx','NumGm','oMLRr','aozWM','assertion\x20has\x20expired.','hxpfx','сообщить@bar.com','AbaYH','RmPRG','OSLga','IJofy','SAML','uIdzi','recipient','ttSRe','tZCMe','WgOXM','oVluw','dzHTt','MUqJZ','1005843qWHiMV','The\x20signing\x20certificate\x20is\x20not\x20currently\x20valid.','1276iAJcZc','euerm','The\x20signing\x20certificate\x20is\x20invalid\x20(PEM_read_bio_PUBKEY\x20failed)','/samples/plain/samlresponse_saml20_invalid_cert.txt','should\x20fail\x20when\x20signature\x20is\x20not\x20found','trlgP','fPHwD','LJRWU','saml\x202.0\x20assertion','urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified','Saqwv','removeChild','DTvHB','uqDYM','tsHFi','/test-auth0.key','ZzDkW','http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier','0|1|4|3|7|2|5|6','CXpdq','validateSamlAssertion\x20should\x20handle\x20invalid\x20XML\x20-\x20\x22<doc><![CDATA[</doc>\x22','MfcgP','LpLwe','aIves','validateSamlAssertion','attributes','SLeAD','irjtc','сообщить\x20вКонтакте','vhRXy','OGeFA','foo@bar.com','assert','bHMYs','Foo\x20Bar','should\x20validate\x20expiration\x20with\x20default\x20clockSkew','FADtb','tvGJJ','JmpLd','scBCl','Signature\x20is\x20missing\x20(xpath:\x20//*[local-name(.)=\x27Assertion\x27][1]/*[local-name(.)=\x27Signature\x27\x20and\x20namespace-uri(.)=\x27http://www.w3.org/2000/09/xmldsig#\x27])','fOgmV','320CMqvBA','YmLvy','issuer','Lpjli','xUelO','gmeFz','Iroac','wHTmk','parentNode','<saml:Assertion\x20xmlns:saml=\x22urn:oasis:names:tc:SAML:2.0:assertion\x22\x20Version=\x222.0\x22\x20ID=\x22_nPmKm9IskDCo61hUea4DX7o3POLbLcUK\x22\x20IssueInstant=\x222016-08-02T21:59:48.654Z\x22><saml:Issuer>urn:issuer</saml:Issuer><Signature\x20xmlns=\x22http://www.w3.org/2000/09/xmldsig#\x22><SignedInfo><CanonicalizationMethod\x20Algorithm=\x22http://www.w3.org/2001/10/xml-exc-c14n#\x22/><SignatureMethod\x20Algorithm=\x22http://www.w3.org/2001/04/xmldsig-more#rsa-sha256\x22/><Reference\x20URI=\x22#_nPmKm9IskDCo61hUea4DX7o3POLbLcUK\x22><Transforms><Transform\x20Algorithm=\x22http://www.w3.org/2000/09/xmldsig#enveloped-signature\x22/><Transform\x20Algorithm=\x22http://www.w3.org/2001/10/xml-exc-c14n#\x22/></Transforms><DigestMethod\x20Algorithm=\x22http://www.w3.org/2001/04/xmlenc#sha256\x22/><DigestValue>UYsy9NacnRqnSTbidM8WBBgS+Op0G05iBJTX0T1WlUk=</DigestValue></Reference></SignedInfo><SignatureValue>VzRQaMR5Qk1P+g1tqJRKroq4JJx00FZ0rZxO4vG2gGkBXJ8262B4VUHOkxyPHNH1l/DuxSnNsL8AAbZfn8EdxMdToPvm2hkqygyA5W20o6g6eSC41rDOavTzesOKoXn3Uq9DOiUXve5ieYYCt5bQcoSCVT6uhVEKMhdcLhaB507qj9Gzcfp0E4F57ezRTTnVVEF/wCJ5j0QTMA2Wh09fxNkGijlE8KHzDJZapN4tDCzmK8qY7211gKuTfKYJGXYA4hSxw9fiQGDEPKRYA6tWf0HO5Vd8edRg2ZHr7AgjuCPp5Fj8VOP+KppA1YFBbq4Eqqt6KHg91KJlGs3ivpmwPw==</SignatureValue><KeyInfo><X509Data><X509Certificate>MIIEDzCCAvegAwIBAgIJALr9HwgrQ7GeMA0GCSqGSIb3DQEBBQUAMGIxGDAWBgNVBAMTD2F1dGgwLmF1dGgwLmNvbTESMBAGA1UEChMJQXV0aDAgTExDMQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMHUmVkbW9uZDAeFw0xMjEyMjkxNTMwNDdaFw0xMzAxMjgxNTMwNDdaMGIxGDAWBgNVBAMTD2F1dGgwLmF1dGgwLmNvbTESMBAGA1UEChMJQXV0aDAgTExDMQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMHUmVkbW9uZDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMZiVmNHiXLldrgbS50ONNOH7pJ2zg6OcSMkYZGDZJbOZ/TqwauC6JOnI7+xtkPJsQHZSFJs4U0srjZKzDCmaz2jLAJDShP2jaXlrki16nDLPE//IGAg3BJguSmBCWpDbSm92V9hSsE+Mhx6bDaJiw8yQ+Q8iSm0aTQZtp6O4ICMu00ESdh9NJqIECELvP31ADV1Xhj7IbyyVPDFxMv3ol5BySE9wwwOFUq/wv7Xz9LRiUjUzPO+Lq3OM3o/uCDbk7jD7XrGUuOydALD8ULsXp4EuDO+nFbeXB/iKndZynuVKokirywl2nD2IP0/yncdLQZ8ByIyqP3G82fq/l8p7AsCAwEAAaOBxzCBxDAdBgNVHQ4EFgQUHI2rUXeBjTv1zAllaPGrHFcEK0YwgZQGA1UdIwSBjDCBiYAUHI2rUXeBjTv1zAllaPGrHFcEK0ahZqRkMGIxGDAWBgNVBAMTD2F1dGgwLmF1dGgwLmNvbTESMBAGA1UEChMJQXV0aDAgTExDMQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMHUmVkbW9uZIIJALr9HwgrQ7GeMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQEFBQADggEBAFrXIhCy4T4eGrikb0R2wHv/uS548r3pZyBV0CDbcRwAtbnpJMvkGFqKVp4pmyoIDSVNK/j+sLEshB20XftezHZyRJbCUbtKvXQ6FsxoeZMlN0ITYKTaoBZKhUxxj90otAhNC58qwGUPqt2LewJhHyLucKkGJ1mQ3b5xKZ532ToufouH9VLhig3H1KnxWo/zMD6Ke8cCk6qO9htuhI06s3GQGS1QWQtAmm17C6TfKgDwQFZwhqHUUZnwKRH8gU6OgZsvhgV1B7H5mjZcu57KMiDBekU9MEY0DCVTN3WkmcTII668zLsJrkNX6PEfck1AMBbVE6pEUKcWwq3uaLvlAUo=</X509Certificate></X509Data></KeyInfo></Signature><saml:Subject><saml:NameID\x20Format=\x22urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified\x22\x20SPNameQualifier=\x22other-qualifier\x22>foo</saml:NameID><saml:SubjectConfirmation\x20Method=\x22urn:oasis:names:tc:SAML:2.0:cm:bearer\x22><saml:SubjectConfirmationData\x20NotOnOrAfter=\x222016-08-02T22:09:48.654Z\x22/></saml:SubjectConfirmation></saml:Subject><saml:Conditions\x20NotBefore=\x222016-08-02T21:59:48.654Z\x22\x20NotOnOrAfter=\x222016-08-02T22:09:48.654Z\x22><saml:AudienceRestriction><saml:Audience>urn:myapp</saml:Audience></saml:AudienceRestriction></saml:Conditions><saml:AttributeStatement\x20xmlns:xs=\x22http://www.w3.org/2001/XMLSchema\x22\x20xmlns:xsi=\x22http://www.w3.org/2001/XMLSchema-instance\x22><saml:Attribute\x20Name=\x22http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress\x22><saml:AttributeValue\x20xsi:type=\x22xs:anyType\x22>foo@bar.com</saml:AttributeValue></saml:Attribute><saml:Attribute\x20Name=\x22http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name\x22><saml:AttributeValue\x20xsi:type=\x22xs:anyType\x22>Foo\x20Bar</saml:AttributeValue></saml:Attribute></saml:AttributeStatement><saml:AuthnStatement\x20AuthnInstant=\x222016-08-02T21:59:48.654Z\x22><saml:AuthnContext><saml:AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:unspecified</saml:AuthnContextClassRef></saml:AuthnContext></saml:AuthnStatement></saml:Assertion>','parseSamlAssertion','yJpUv','GsyHc','UiBOv','HXjop','dpqbt','EVvxu','vayzS','BCrpS','LWjNF','CYxfQ','ChhSK','DeMMj','X509Certificate','mOnrl','iyWYG','dfSBp','41166GmXXpe','vPkfq','KyFjU','should\x20ignore\x20the\x20NameQualifier\x20validation\x20when\x20nameid\x20format\x20is\x20\x22urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified\x22','acQZE','bMcFI','mJIPo','HDAoA','LuKSK','lbDMQ','oZbFR','BHhFr','<saml:Assertion\x20xmlns:saml=\x22urn:oasis:names:tc:SAML:2.0:assertion\x22\x20Version=\x222.0\x22\x20ID=\x22_muhd3ZBmN9LK3Ev08rkc8CA40YvNOkGl\x22\x20IssueInstant=\x222016-09-29T12:35:22.345Z\x22><saml:Issuer>urn:issuer</saml:Issuer><Signature\x20xmlns=\x22http://www.w3.org/2000/09/xmldsig#\x22><SignedInfo><CanonicalizationMethod\x20Algorithm=\x22http://www.w3.org/2001/10/xml-exc-c14n#\x22/><SignatureMethod\x20Algorithm=\x22http://www.w3.org/2001/04/xmldsig-more#rsa-sha256\x22/><Reference\x20URI=\x22#_muhd3ZBmN9LK3Ev08rkc8CA40YvNOkGl\x22><Transforms><Transform\x20Algorithm=\x22http://www.w3.org/2000/09/xmldsig#enveloped-signature\x22/><Transform\x20Algorithm=\x22http://www.w3.org/2001/10/xml-exc-c14n#\x22/></Transforms><DigestMethod\x20Algorithm=\x22http://www.w3.org/2001/04/xmlenc#sha256\x22/><DigestValue>Gsh2DubHXYDeuHyBa+DU1k5G43UjyQsyPRYVgEqpTD8=</DigestValue></Reference></SignedInfo><SignatureValue>mubsqLCaM16gT2rAFLl8XDuLWTALH6cdRMM/kNHLpVzO5PA6FGVPX5ojW2UCKGOhGHn0Hd/mYCOCtgAROphWjxpQl5TDyeQE0frjKs8ik0V/Jjy5T6PeWKHLqN6sHbP6YpkGixshCWtop8JOs6SijM9PBGnWal6Nx5bUMBfAyUnGyIhLwNaE8Z4NHkyAqmdxgLS0e8w5qngKQaUlyERZCrqKQ4w8VaHFG4Dos36XVfh+U7udo3IlbrpBLsu9xG1Azxe2iPC6+84xC09P6EvQylvTnz5NU4jhk10SmmRjZ6AVvzJTz/gbVfRfZoEAUhCuIIh3HuRwf400ESf38ouZTA==</SignatureValue><KeyInfo><X509Data><X509Certificate>MIIEDzCCAvegAwIBAgIJALr9HwgrQ7GeMA0GCSqGSIb3DQEBBQUAMGIxGDAWBgNVBAMTD2F1dGgwLmF1dGgwLmNvbTESMBAGA1UEChMJQXV0aDAgTExDMQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMHUmVkbW9uZDAeFw0xMjEyMjkxNTMwNDdaFw0xMzAxMjgxNTMwNDdaMGIxGDAWBgNVBAMTD2F1dGgwLmF1dGgwLmNvbTESMBAGA1UEChMJQXV0aDAgTExDMQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMHUmVkbW9uZDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMZiVmNHiXLldrgbS50ONNOH7pJ2zg6OcSMkYZGDZJbOZ/TqwauC6JOnI7+xtkPJsQHZSFJs4U0srjZKzDCmaz2jLAJDShP2jaXlrki16nDLPE//IGAg3BJguSmBCWpDbSm92V9hSsE+Mhx6bDaJiw8yQ+Q8iSm0aTQZtp6O4ICMu00ESdh9NJqIECELvP31ADV1Xhj7IbyyVPDFxMv3ol5BySE9wwwOFUq/wv7Xz9LRiUjUzPO+Lq3OM3o/uCDbk7jD7XrGUuOydALD8ULsXp4EuDO+nFbeXB/iKndZynuVKokirywl2nD2IP0/yncdLQZ8ByIyqP3G82fq/l8p7AsCAwEAAaOBxzCBxDAdBgNVHQ4EFgQUHI2rUXeBjTv1zAllaPGrHFcEK0YwgZQGA1UdIwSBjDCBiYAUHI2rUXeBjTv1zAllaPGrHFcEK0ahZqRkMGIxGDAWBgNVBAMTD2F1dGgwLmF1dGgwLmNvbTESMBAGA1UEChMJQXV0aDAgTExDMQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMHUmVkbW9uZIIJALr9HwgrQ7GeMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQEFBQADggEBAFrXIhCy4T4eGrikb0R2wHv/uS548r3pZyBV0CDbcRwAtbnpJMvkGFqKVp4pmyoIDSVNK/j+sLEshB20XftezHZyRJbCUbtKvXQ6FsxoeZMlN0ITYKTaoBZKhUxxj90otAhNC58qwGUPqt2LewJhHyLucKkGJ1mQ3b5xKZ532ToufouH9VLhig3H1KnxWo/zMD6Ke8cCk6qO9htuhI06s3GQGS1QWQtAmm17C6TfKgDwQFZwhqHUUZnwKRH8gU6OgZsvhgV1B7H5mjZcu57KMiDBekU9MEY0DCVTN3WkmcTII668zLsJrkNX6PEfck1AMBbVE6pEUKcWwq3uaLvlAUo=</X509Certificate></X509Data></KeyInfo></Signature><saml:Subject><saml:NameID\x20Format=\x22urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\x22\x20SPNameQualifier=\x22invalid-value\x22>foo</saml:NameID><saml:SubjectConfirmation\x20Method=\x22urn:oasis:names:tc:SAML:2.0:cm:bearer\x22><saml:SubjectConfirmationData\x20NotOnOrAfter=\x222016-09-29T12:45:22.345Z\x22/></saml:SubjectConfirmation></saml:Subject><saml:Conditions\x20NotBefore=\x222016-09-29T12:35:22.345Z\x22\x20NotOnOrAfter=\x222016-09-29T12:45:22.345Z\x22><saml:AudienceRestriction><saml:Audience>urn:myapp</saml:Audience></saml:AudienceRestriction></saml:Conditions><saml:AttributeStatement\x20xmlns:xs=\x22http://www.w3.org/2001/XMLSchema\x22\x20xmlns:xsi=\x22http://www.w3.org/2001/XMLSchema-instance\x22><saml:Attribute\x20Name=\x22http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress\x22><saml:AttributeValue\x20xsi:type=\x22xs:anyType\x22>foo@bar.com</saml:AttributeValue></saml:Attribute><saml:Attribute\x20Name=\x22http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name\x22><saml:AttributeValue\x20xsi:type=\x22xs:anyType\x22>Foo\x20Bar</saml:AttributeValue></saml:Attribute></saml:AttributeStatement><saml:AuthnStatement\x20AuthnInstant=\x222016-09-29T12:35:22.345Z\x22><saml:AuthnContext><saml:AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:unspecified</saml:AuthnContextClassRef></saml:AuthnContext></saml:AuthnStatement></saml:Assertion>','nVdfu','length','validate\x20saml\x20assertion\x20(signature\x20checks)','TsetD','<doc><![CDATA[</doc>','/test-auth0.cer','email','Contributors','<saml:Assertion\x20xmlns:saml=\x22urn:oasis:names:tc:SAML:2.0:assertion\x22\x20Version=\x222.0\x22\x20ID=\x22_muhd3ZBmN9LK3Ev08rkc8CA40YvNOkGl\x22\x20IssueInstant=\x222016-09-29T12:35:22.345Z\x22><saml:Issuer>urn:issuer</saml:Issuer><saml:Subject><saml:NameID\x20Format=\x22urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\x22\x20SPNameQualifier=\x22invalid-value\x22>foo</saml:NameID><saml:SubjectConfirmation\x20Method=\x22urn:oasis:names:tc:SAML:2.0:cm:bearer\x22><saml:SubjectConfirmationData\x20NotOnOrAfter=\x222016-09-29T12:45:22.345Z\x22/></saml:SubjectConfirmation></saml:Subject><saml:Conditions\x20NotBefore=\x222016-09-29T12:35:22.345Z\x22\x20NotOnOrAfter=\x222016-09-29T12:45:22.345Z\x22><saml:AudienceRestriction><saml:Audience>urn:myapp</saml:Audience></saml:AudienceRestriction></saml:Conditions><saml:AttributeStatement\x20xmlns:xs=\x22http://www.w3.org/2001/XMLSchema\x22\x20xmlns:xsi=\x22http://www.w3.org/2001/XMLSchema-instance\x22><saml:Attribute\x20Name=\x22http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress\x22><saml:AttributeValue\x20xsi:type=\x22xs:anyType\x22>foo@bar.com</saml:AttributeValue></saml:Attribute><saml:Attribute\x20Name=\x22http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name\x22><saml:AttributeValue\x20xsi:type=\x22xs:anyType\x22>Foo\x20Bar</saml:AttributeValue></saml:Attribute></saml:AttributeStatement><saml:AuthnStatement\x20AuthnInstant=\x222016-09-29T12:35:22.345Z\x22><saml:AuthnContext><saml:AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:unspecified</saml:AuthnContextClassRef></saml:AuthnContext></saml:AuthnStatement></saml:Assertion>','VVeNt','Ydxsv','should\x20should\x20allow\x20expired\x20cert\x20if\x20option\x20not\x20passed','QnbMa','205368QeIgrN','toString','JNBJw','array','Psekr','should\x20validate\x20certificate\x20expiration\x20with\x20non-embedded\x20cert','4815iUuMoB','16mOoikJ','http://schemas.microsoft.com/ws/2008/06/identity/claims/authenticationmethod','../lib/passport-wsfed-saml2/utils','urCeI','<saml:Assertion\x20xmlns:saml=\x22urn:oasis:names:tc:SAML:2.0:assertion\x22\x20Version=\x222.0\x22\x20ID=\x22_ne0Z8R1z9xdbekXeWrAAg7srNB78exsb\x22\x20IssueInstant=\x222016-08-02T21:54:04.971Z\x22><saml:Issuer>urn:issuer</saml:Issuer><Signature\x20xmlns=\x22http://www.w3.org/2000/09/xmldsig#\x22><SignedInfo><CanonicalizationMethod\x20Algorithm=\x22http://www.w3.org/2001/10/xml-exc-c14n#\x22/><SignatureMethod\x20Algorithm=\x22http://www.w3.org/2001/04/xmldsig-more#rsa-sha256\x22/><Reference\x20URI=\x22#_ne0Z8R1z9xdbekXeWrAAg7srNB78exsb\x22><Transforms><Transform\x20Algorithm=\x22http://www.w3.org/2000/09/xmldsig#enveloped-signature\x22/><Transform\x20Algorithm=\x22http://www.w3.org/2001/10/xml-exc-c14n#\x22/></Transforms><DigestMethod\x20Algorithm=\x22http://www.w3.org/2001/04/xmlenc#sha256\x22/><DigestValue>p7iHnIt5xJZNimGNxh4d9R2J7DML8WNrMwMxmZ1WwSU=</DigestValue></Reference></SignedInfo><SignatureValue>pb1Wp/LFbigEj+TNm7gkAwlfIc17LNwUXVTgM8RQnMvYJfIPZbl1yo5xMCh6ObMFwCs1T+gKI5C7jMloX2QhWD/XUffBKiDfkZUg7NI/Jyt5m+Bdst12SNhHBVsNilL9ZCuf+QtQD7301gUhVHP6Ramf4y+XNod9AfzhFLYNfl6fhf/5KA/KkjiOwYW5Ps/43OMXXSeVaeQ7JRU8XqyKbwlB+YXGseFLnyZopv8Cw9Bb2935ADLX111oFBkiRhnMUJW0LMbSWM6UVJ4V0qoW9h+f3isN5+R87RECNeAQP3WSBiddnEuSdhgQYQVnb6s0mThpvs7uvIOlog0FqeSrvQ==</SignatureValue><KeyInfo><X509Data><X509Certificate>MIIEDzCCAvegAwIBAgIJALr9HwgrQ7GeMA0GCSqGSIb3DQEBBQUAMGIxGDAWBgNVBAMTD2F1dGgwLmF1dGgwLmNvbTESMBAGA1UEChMJQXV0aDAgTExDMQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMHUmVkbW9uZDAeFw0xMjEyMjkxNTMwNDdaFw0xMzAxMjgxNTMwNDdaMGIxGDAWBgNVBAMTD2F1dGgwLmF1dGgwLmNvbTESMBAGA1UEChMJQXV0aDAgTExDMQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMHUmVkbW9uZDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMZiVmNHiXLldrgbS50ONNOH7pJ2zg6OcSMkYZGDZJbOZ/TqwauC6JOnI7+xtkPJsQHZSFJs4U0srjZKzDCmaz2jLAJDShP2jaXlrki16nDLPE//IGAg3BJguSmBCWpDbSm92V9hSsE+Mhx6bDaJiw8yQ+Q8iSm0aTQZtp6O4ICMu00ESdh9NJqIECELvP31ADV1Xhj7IbyyVPDFxMv3ol5BySE9wwwOFUq/wv7Xz9LRiUjUzPO+Lq3OM3o/uCDbk7jD7XrGUuOydALD8ULsXp4EuDO+nFbeXB/iKndZynuVKokirywl2nD2IP0/yncdLQZ8ByIyqP3G82fq/l8p7AsCAwEAAaOBxzCBxDAdBgNVHQ4EFgQUHI2rUXeBjTv1zAllaPGrHFcEK0YwgZQGA1UdIwSBjDCBiYAUHI2rUXeBjTv1zAllaPGrHFcEK0ahZqRkMGIxGDAWBgNVBAMTD2F1dGgwLmF1dGgwLmNvbTESMBAGA1UEChMJQXV0aDAgTExDMQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMHUmVkbW9uZIIJALr9HwgrQ7GeMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQEFBQADggEBAFrXIhCy4T4eGrikb0R2wHv/uS548r3pZyBV0CDbcRwAtbnpJMvkGFqKVp4pmyoIDSVNK/j+sLEshB20XftezHZyRJbCUbtKvXQ6FsxoeZMlN0ITYKTaoBZKhUxxj90otAhNC58qwGUPqt2LewJhHyLucKkGJ1mQ3b5xKZ532ToufouH9VLhig3H1KnxWo/zMD6Ke8cCk6qO9htuhI06s3GQGS1QWQtAmm17C6TfKgDwQFZwhqHUUZnwKRH8gU6OgZsvhgV1B7H5mjZcu57KMiDBekU9MEY0DCVTN3WkmcTII668zLsJrkNX6PEfck1AMBbVE6pEUKcWwq3uaLvlAUo=</X509Certificate></X509Data></KeyInfo></Signature><saml:Subject><saml:NameID\x20Format=\x22urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified\x22\x20NameQualifier=\x22name-qualifier\x22>foo</saml:NameID><saml:SubjectConfirmation\x20Method=\x22urn:oasis:names:tc:SAML:2.0:cm:bearer\x22><saml:SubjectConfirmationData\x20NotOnOrAfter=\x222016-08-02T22:04:04.971Z\x22/></saml:SubjectConfirmation></saml:Subject><saml:Conditions\x20NotBefore=\x222016-08-02T21:54:04.971Z\x22\x20NotOnOrAfter=\x222016-08-02T22:04:04.971Z\x22><saml:AudienceRestriction><saml:Audience>urn:myapp</saml:Audience></saml:AudienceRestriction></saml:Conditions><saml:AttributeStatement\x20xmlns:xs=\x22http://www.w3.org/2001/XMLSchema\x22\x20xmlns:xsi=\x22http://www.w3.org/2001/XMLSchema-instance\x22><saml:Attribute\x20Name=\x22http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress\x22><saml:AttributeValue\x20xsi:type=\x22xs:anyType\x22>foo@bar.com</saml:AttributeValue></saml:Attribute><saml:Attribute\x20Name=\x22http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name\x22><saml:AttributeValue\x20xsi:type=\x22xs:anyType\x22>Foo\x20Bar</saml:AttributeValue></saml:Attribute></saml:AttributeStatement><saml:AuthnStatement\x20AuthnInstant=\x222016-08-02T21:54:04.971Z\x22><saml:AuthnContext><saml:AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:unspecified</saml:AuthnContextClassRef></saml:AuthnContext></saml:AuthnStatement></saml:Assertion>','AnWAB','GSjVT','should\x20parse\x20attributes\x20with\x20multiple\x20values','should\x20fail\x20when\x20signature\x20is\x20found\x20twice','LlOps','BXEwe','ahBKY','include','1|0|5|3|7|4|6|2','GUyZs','B2AC2C07C63A1846C32DEAE2DE83B0640B24A0FF','teIMc','yiOcY','lCzod','KnzoX','hIMjz','HvtUW','The\x20signing\x20certificate\x20is\x20invalid\x20(error:0688010A:asn1\x20encoding\x20routines::nested\x20asn1\x20error,\x20error:06800066:asn1\x20encoding\x20routines::bad\x20object\x20header)','undefined','XMGJs','jmAch','getElementsByTagName','qsDWD','gWXgw','SPNameQualifier\x20attribute\x20in\x20the\x20NameID\x20element\x20does\x20not\x20match\x20urn:myapp','YlJKR','iOxGG','NRmRd','saml','rbBFm','IcYmB','JRRZI','The\x20signing\x20certificate\x20is\x20invalid\x20(error:0906700D:PEM\x20routines:PEM_ASN1_read_bio:ASN1\x20lib,\x20error:0D07803A:asn1\x20encoding\x20routines:ASN1_ITEM_EX_D2I:nested\x20asn1\x20error,\x20error:0D068066:asn1\x20encoding\x20routines:ASN1_CHECK_TLEN:bad\x20object\x20header)','lifetimeInSeconds','equal','irayi','hpNDJ','fFrRp','TpjkN','EEmwI','Htdyr','EvKkJ','qzUzT','niNlA','aYPis','585968xxkRTU','not','MYFzu','EMIHW','PDMfJ','message','yiuKg','vrijV','should\x20extract\x20authentication\x20context\x20from\x20assertion\x20as\x20a\x20user\x20prop','ipbZD','kgQdO','should\x20validate\x20the\x20NameQualifier\x20when\x20nameid\x20format\x20is\x20\x22urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\x22','Recipient\x20is\x20invalid.\x20Configured:\x20bar','6|1|7|0|4|2|3|5','keRUe','yUcLw','urn:issuer','The\x20signing\x20certificate\x20is\x20invalid\x20(error:1E08010C:DECODER\x20routines::unsupported,\x20error:0688010A:asn1\x20encoding\x20routines::nested\x20asn1\x20error,\x20error:06800066:asn1\x20encoding\x20routines::bad\x20object\x20header,\x20error:0680009B:asn1\x20encoding\x20routines::too\x20long)','FKhxo','pWmMn','http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name','bJGjS','should\x20validate\x20expiration\x20with\x20overriden\x20clockSkew','validateSignature\x20should\x20handle\x20invalid\x20XML\x20-\x20\x22<doc><![CDATA[</doc>\x22','OcYVV','ZfKZV','jlUfQ','4|1|5|0|3|2','RVIIV','should\x20fail\x20when\x20the\x20X509Certificate\x20is\x20invalid','Signature\x20was\x20found\x20more\x20than\x20one\x20time\x20(xpath:\x20//*[local-name(.)=\x27Assertion\x27][1]/*[local-name(.)=\x27Signature\x27\x20and\x20namespace-uri(.)=\x27http://www.w3.org/2000/09/xmldsig#\x27])','mcKWH','BHpMW','KFBap','zsEQA','callback\x20not\x20expected','viVAb','zNoZR','../lib/passport-wsfed-saml2/saml','should\x20validate\x20the\x20SPNameQualifier\x20when\x20the\x20nameid\x20format\x20is\x20\x22urn:oasis:names:tc:SAML:2.0:nameid-format:transient\x22','vaeLy','foo','iPNhe','exist','split','Error\x20message\x20for\x20invalid\x20certificate\x20is\x20incorrect','Eqcwh','bar','2052VOlEmw','kwOMM','readFileSync','vjpeY','UQRgI','Admins','validateSignature','GuBRr','zDZbj','create','4WhpNEu','HJIUr','RhKTe','2652006llaBIV','lxQcA','nqsrG','hBIbZ','ZukiN','http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress','oKDvc','BBbPb','EqQDq','yQJar','chai','SAMLResponse\x20should\x20be\x20a\x20valid\x20xml','qaVva','kqeyQ','CpOjX','xwmtz'];_0x2c59=function(){return _0x386b0e;};return _0x2c59();}describe(_0x5a9c41(0x123),function(){const _0x1eac5a=_0x5a9c41,_0x3c760e={'HpFXh':_0x1eac5a(0x18e),'iOxGG':_0x1eac5a(0xbd),'qzUzT':_0x1eac5a(0x12c),'zDZbj':'issuer','CpOjX':'foo@bar.com','HJIUr':_0x1eac5a(0x172),'UiBOv':_0x1eac5a(0x173),'AbaYH':_0x1eac5a(0xb9),'UQRgI':_0x1eac5a(0x13d),'xUelO':function(_0x342607){return _0x342607();},'JNBJw':_0x1eac5a(0xf1),'Lpjli':_0x1eac5a(0x15f),'PDMfJ':_0x1eac5a(0x14e),'scBCl':function(_0x48ab2f,_0x560127){return _0x48ab2f+_0x560127;},'ArAph':'NameQualifier\x20attribute\x20in\x20the\x20NameID\x20element\x20does\x20not\x20match\x20urn:issuer','HDAoA':'<saml:Assertion\x20xmlns:saml=\x22urn:oasis:names:tc:SAML:2.0:assertion\x22\x20Version=\x222.0\x22\x20ID=\x22_dZZwXmRpwYcaIdFA5l0qSCCuu0if9UNo\x22\x20IssueInstant=\x222016-09-29T12:34:13.488Z\x22><saml:Issuer>urn:issuer</saml:Issuer><Signature\x20xmlns=\x22http://www.w3.org/2000/09/xmldsig#\x22><SignedInfo><CanonicalizationMethod\x20Algorithm=\x22http://www.w3.org/2001/10/xml-exc-c14n#\x22/><SignatureMethod\x20Algorithm=\x22http://www.w3.org/2001/04/xmldsig-more#rsa-sha256\x22/><Reference\x20URI=\x22#_dZZwXmRpwYcaIdFA5l0qSCCuu0if9UNo\x22><Transforms><Transform\x20Algorithm=\x22http://www.w3.org/2000/09/xmldsig#enveloped-signature\x22/><Transform\x20Algorithm=\x22http://www.w3.org/2001/10/xml-exc-c14n#\x22/></Transforms><DigestMethod\x20Algorithm=\x22http://www.w3.org/2001/04/xmlenc#sha256\x22/><DigestValue>ndqj65JwACeDERG2aZF6k0IF85KshkhgILzxhbKRyiw=</DigestValue></Reference></SignedInfo><SignatureValue>LPcIU9W9HmX1QM+baMPLTj9StBFRksnDoFn/HVd8uLJgdH8Xeiv9TOQGElmSaBLypjCeN6ILq6pcZ0mxMC9zfd9X3WKmYtcrGI1BugATeNsqUm63x+Msau8pNuZrNNbfIQvLooMhF4T92ym2ADSm+zCQVNwBH7/v0rVIE6MEy8AYqqfpvH9CR88XQYMCSgKN0JQ2FPbcHvhIX7Hl+xG6PSzgfznE8dcWBUi24FajyGpqlNm8O3uHCfjR3wzO42UQIJFOJOiLb7QGNyWE1KXKYWyzZgAxGQuRUcbYxcnKTbVK3b3TBH+p2ZR+a2ktKmvqNBvQxy6tE4UXDIIpvmknSw==</SignatureValue><KeyInfo><X509Data><X509Certificate>MIIEDzCCAvegAwIBAgIJALr9HwgrQ7GeMA0GCSqGSIb3DQEBBQUAMGIxGDAWBgNVBAMTD2F1dGgwLmF1dGgwLmNvbTESMBAGA1UEChMJQXV0aDAgTExDMQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMHUmVkbW9uZDAeFw0xMjEyMjkxNTMwNDdaFw0xMzAxMjgxNTMwNDdaMGIxGDAWBgNVBAMTD2F1dGgwLmF1dGgwLmNvbTESMBAGA1UEChMJQXV0aDAgTExDMQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMHUmVkbW9uZDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMZiVmNHiXLldrgbS50ONNOH7pJ2zg6OcSMkYZGDZJbOZ/TqwauC6JOnI7+xtkPJsQHZSFJs4U0srjZKzDCmaz2jLAJDShP2jaXlrki16nDLPE//IGAg3BJguSmBCWpDbSm92V9hSsE+Mhx6bDaJiw8yQ+Q8iSm0aTQZtp6O4ICMu00ESdh9NJqIECELvP31ADV1Xhj7IbyyVPDFxMv3ol5BySE9wwwOFUq/wv7Xz9LRiUjUzPO+Lq3OM3o/uCDbk7jD7XrGUuOydALD8ULsXp4EuDO+nFbeXB/iKndZynuVKokirywl2nD2IP0/yncdLQZ8ByIyqP3G82fq/l8p7AsCAwEAAaOBxzCBxDAdBgNVHQ4EFgQUHI2rUXeBjTv1zAllaPGrHFcEK0YwgZQGA1UdIwSBjDCBiYAUHI2rUXeBjTv1zAllaPGrHFcEK0ahZqRkMGIxGDAWBgNVBAMTD2F1dGgwLmF1dGgwLmNvbTESMBAGA1UEChMJQXV0aDAgTExDMQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMHUmVkbW9uZIIJALr9HwgrQ7GeMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQEFBQADggEBAFrXIhCy4T4eGrikb0R2wHv/uS548r3pZyBV0CDbcRwAtbnpJMvkGFqKVp4pmyoIDSVNK/j+sLEshB20XftezHZyRJbCUbtKvXQ6FsxoeZMlN0ITYKTaoBZKhUxxj90otAhNC58qwGUPqt2LewJhHyLucKkGJ1mQ3b5xKZ532ToufouH9VLhig3H1KnxWo/zMD6Ke8cCk6qO9htuhI06s3GQGS1QWQtAmm17C6TfKgDwQFZwhqHUUZnwKRH8gU6OgZsvhgV1B7H5mjZcu57KMiDBekU9MEY0DCVTN3WkmcTII668zLsJrkNX6PEfck1AMBbVE6pEUKcWwq3uaLvlAUo=</X509Certificate></X509Data></KeyInfo></Signature><saml:Subject><saml:NameID\x20Format=\x22urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\x22\x20NameQualifier=\x22invalid-value\x22>foo</saml:NameID><saml:SubjectConfirmation\x20Method=\x22urn:oasis:names:tc:SAML:2.0:cm:bearer\x22><saml:SubjectConfirmationData\x20NotOnOrAfter=\x222016-09-29T12:44:13.488Z\x22/></saml:SubjectConfirmation></saml:Subject><saml:Conditions\x20NotBefore=\x222016-09-29T12:34:13.488Z\x22\x20NotOnOrAfter=\x222016-09-29T12:44:13.488Z\x22><saml:AudienceRestriction><saml:Audience>urn:myapp</saml:Audience></saml:AudienceRestriction></saml:Conditions><saml:AttributeStatement\x20xmlns:xs=\x22http://www.w3.org/2001/XMLSchema\x22\x20xmlns:xsi=\x22http://www.w3.org/2001/XMLSchema-instance\x22><saml:Attribute\x20Name=\x22http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress\x22><saml:AttributeValue\x20xsi:type=\x22xs:anyType\x22>foo@bar.com</saml:AttributeValue></saml:Attribute><saml:Attribute\x20Name=\x22http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name\x22><saml:AttributeValue\x20xsi:type=\x22xs:anyType\x22>Foo\x20Bar</saml:AttributeValue></saml:Attribute></saml:AttributeStatement><saml:AuthnStatement\x20AuthnInstant=\x222016-09-29T12:34:13.488Z\x22><saml:AuthnContext><saml:AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:unspecified</saml:AuthnContextClassRef></saml:AuthnContext></saml:AuthnStatement></saml:Assertion>','bHMYs':_0x1eac5a(0x101),'iglEK':_0x1eac5a(0x144),'Saqwv':_0x1eac5a(0x175),'KyFjU':_0x1eac5a(0x168),'FADtb':function(_0x3a0c56,_0x234410){return _0x3a0c56(_0x234410);},'AIBHS':_0x1eac5a(0xde),'EMIHW':_0x1eac5a(0x174),'rbBFm':function(_0x29dbfd,_0x37c4ec){return _0x29dbfd(_0x37c4ec);},'viVAb':function(_0x53524b,_0xabafba){return _0x53524b+_0xabafba;},'iyWYG':function(_0x57336a,_0x5a1e85){return _0x57336a!==_0x5a1e85;},'xwmtz':_0x1eac5a(0x118),'ZqwRE':function(_0x18c925,_0x50a693){return _0x18c925+_0x50a693;},'ORAZQ':function(_0x2e9645,_0x103cb0){return _0x2e9645(_0x103cb0);},'uIdzi':function(_0x1ade1c,_0x57b237){return _0x1ade1c+_0x57b237;},'gWXgw':_0x1eac5a(0x15c),'qaVva':_0x1eac5a(0x103),'NRmRd':_0x1eac5a(0xd2),'vhRXy':function(_0x165dac,_0x11fa00){return _0x165dac+_0x11fa00;},'ahBKY':function(_0x50cdc5,_0xca6fb){return _0x50cdc5===_0xca6fb;},'LlOps':'YAreN','acQZE':function(_0x4da526){return _0x4da526();},'oKktF':'/test-auth0.pem','trlgP':_0x1eac5a(0x137),'NDtqb':function(_0x43c130,_0x370afe){return _0x43c130===_0x370afe;},'hIMjz':_0x1eac5a(0x169),'lCzod':_0x1eac5a(0x1a6),'bRfhj':'The\x20signing\x20certificate\x20is\x20invalid\x20(error:0D07803A:asn1\x20encoding\x20routines:asn1_item_embed_d2i:nested\x20asn1\x20error,\x20error:0D068066:asn1\x20encoding\x20routines:asn1_check_tlen:bad\x20object\x20header)','azqnb':'The\x20signing\x20certificate\x20was\x20unexpectedly\x20valid','xeMWG':_0x1eac5a(0xd6),'BCrpS':function(_0x5885ae){return _0x5885ae();},'pgDpX':_0x1eac5a(0x17d),'XDGxf':_0x1eac5a(0x135),'EEmwI':_0x1eac5a(0x1aa),'tZCMe':function(_0x473af3,_0x5eb1b7){return _0x473af3+_0x5eb1b7;},'HvtUW':_0x1eac5a(0x11e),'ZsRIY':_0x1eac5a(0x190),'LJHNE':_0x1eac5a(0xc7),'fXfSz':function(_0x18a82b){return _0x18a82b();},'WwENA':'<saml:Assertion\x20xmlns:saml=\x22urn:oasis:names:tc:SAML:2.0:assertion\x22\x20Version=\x222.0\x22\x20ID=\x22_muhd3ZBmN9LK3Ev08rkc8CA40YvNOkGl\x22\x20IssueInstant=\x222016-09-29T12:35:22.345Z\x22><saml:Issuer>urn:issuer</saml:Issuer><Signature\x20xmlns=\x22http://www.w3.org/2000/09/xmldsig#\x22><SignedInfo><CanonicalizationMethod\x20Algorithm=\x22http://www.w3.org/2001/10/xml-exc-c14n#\x22/><SignatureMethod\x20Algorithm=\x22http://www.w3.org/2001/04/xmldsig-more#rsa-sha256\x22/><Reference\x20URI=\x22#_muhd3ZBmN9LK3Ev08rkc8CA40YvNOkGl\x22><Transforms><Transform\x20Algorithm=\x22http://www.w3.org/2000/09/xmldsig#enveloped-signature\x22/><Transform\x20Algorithm=\x22http://www.w3.org/2001/10/xml-exc-c14n#\x22/></Transforms><DigestMethod\x20Algorithm=\x22http://www.w3.org/2001/04/xmlenc#sha256\x22/><DigestValue>Gsh2DubHXYDeuHyBa+DU1k5G43UjyQsyPRYVgEqpTD8=</DigestValue></Reference></SignedInfo><SignatureValue>mubsqLCaM16gT2rAFLl8XDuLWTALH6cdRMM/kNHLpVzO5PA6FGVPX5ojW2UCKGOhGHn0Hd/mYCOCtgAROphWjxpQl5TDyeQE0frjKs8ik0V/Jjy5T6PeWKHLqN6sHbP6YpkGixshCWtop8JOs6SijM9PBGnWal6Nx5bUMBfAyUnGyIhLwNaE8Z4NHkyAqmdxgLS0e8w5qngKQaUlyERZCrqKQ4w8VaHFG4Dos36XVfh+U7udo3IlbrpBLsu9xG1Azxe2iPC6+84xC09P6EvQylvTnz5NU4jhk10SmmRjZ6AVvzJTz/gbVfRfZoEAUhCuIIh3HuRwf400ESf38ouZTA==</SignatureValue><KeyInfo><X509Data><X509Certificate>MIIEDzCCAvegAwIBAgIJALr9HwgrQ7GeMA0GCSqGSIb3DQEBBQUAMGIxGDAWBgNVBAMTD2F1dGgwLmF1dGgwLmNvbTESMBAGA1UEChMJQXV0aDAgTExDMQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMHUmVkbW9uZDAeFw0xMjEyMjkxNTMwNDdaFw0xMzAxMjgxNTMwNDdaMGIxGDAWBgNVBAMTD2F1dGgwLmF1dGgwLmNvbTESMBAGA1UEChMJQXV0aDAgTExDMQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMHUmVkbW9uZDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMZiVmNHiXLldrgbS50ONNOH7pJ2zg6OcSMkYZGDZJbOZ/TqwauC6JOnI7+xtkPJsQHZSFJs4U0srjZKzDCmaz2jLAJDShP2jaXlrki16nDLPE//IGAg3BJguSmBCWpDbSm92V9hSsE+Mhx6bDaJiw8yQ+Q8iSm0aTQZtp6O4ICMu00ESdh9NJqIECELvP31ADV1Xhj7IbyyVPDFxMv3ol5BySE9wwwOFUq/wv7Xz9LRiUjUzPO+Lq3OM3o/uCDbk7jD7XrGUuOydALD8ULsXp4EuDO+nFbeXB/iKndZynuVKokirywl2nD2IP0/yncdLQZ8ByIyqP3G82fq/l8p7AsCAwEAAaOBxzCBxDAdBgNVHQ4EFgQUHI2rUXeBjTv1zAllaPGrHFcEK0YwgZQGA1UdIwSBjDCBiYAUHI2rUXeBjTv1zAllaPGrHFcEK0ahZqRkMGIxGDAWBgNVBAMTD2F1dGgwLmF1dGgwLmNvbTESMBAGA1UEChMJQXV0aDAgTExDMQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMHUmVkbW9uZIIJALr9HwgrQ7GeMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQEFBQADggEBAFrXIhCy4T4eGrikb0R2wHv/uS548r3pZyBV0CDbcRwAtbnpJMvkGFqKVp4pmyoIDSVNK/j+sLEshB20XftezHZyRJbCUbtKvXQ6FsxoeZMlN0ITYKTaoBZKhUxxj90otAhNC58qwGUPqt2LewJhHyLucKkGJ1mQ3b5xKZ532ToufouH9VLhig3H1KnxWo/zMD6Ke8cCk6qO9htuhI06s3GQGS1QWQtAmm17C6TfKgDwQFZwhqHUUZnwKRH8gU6OgZsvhgV1B7H5mjZcu57KMiDBekU9MEY0DCVTN3WkmcTII668zLsJrkNX6PEfck1AMBbVE6pEUKcWwq3uaLvlAUo=</X509Certificate></X509Data></KeyInfo></Signature><saml:Subject><saml:NameID\x20Format=\x22urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\x22\x20SPNameQualifier=\x22invalid-value\x22>foo</saml:NameID><saml:SubjectConfirmation\x20Method=\x22urn:oasis:names:tc:SAML:2.0:cm:bearer\x22><saml:SubjectConfirmationData\x20NotOnOrAfter=\x222016-09-29T12:45:22.345Z\x22/></saml:SubjectConfirmation></saml:Subject><saml:Conditions\x20NotBefore=\x222016-09-29T12:35:22.345Z\x22\x20NotOnOrAfter=\x222016-09-29T12:45:22.345Z\x22><saml:AudienceRestriction><saml:Audience>urn:myapp</saml:Audience></saml:AudienceRestriction></saml:Conditions><saml:AttributeStatement\x20xmlns:xs=\x22http://www.w3.org/2001/XMLSchema\x22\x20xmlns:xsi=\x22http://www.w3.org/2001/XMLSchema-instance\x22><saml:Attribute\x20Name=\x22http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress\x22><saml:AttributeValue\x20xsi:type=\x22xs:anyType\x22>foo@bar.com</saml:AttributeValue></saml:Attribute><saml:Attribute\x20Name=\x22http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name\x22><saml:AttributeValue\x20xsi:type=\x22xs:anyType\x22>Foo\x20Bar</saml:AttributeValue></saml:Attribute></saml:AttributeStatement><saml:AuthnStatement\x20AuthnInstant=\x222016-09-29T12:35:22.345Z\x22><saml:AuthnContext><saml:AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:unspecified</saml:AuthnContextClassRef></saml:AuthnContext></saml:AuthnStatement><Signature\x20xmlns=\x22http://www.w3.org/2000/09/xmldsig#\x22><SignedInfo><CanonicalizationMethod\x20Algorithm=\x22http://www.w3.org/2001/10/xml-exc-c14n#\x22/><SignatureMethod\x20Algorithm=\x22http://www.w3.org/2001/04/xmldsig-more#rsa-sha256\x22/><Reference\x20URI=\x22#_muhd3ZBmN9LK3Ev08rkc8CA40YvNOkGl\x22><Transforms><Transform\x20Algorithm=\x22http://www.w3.org/2000/09/xmldsig#enveloped-signature\x22/><Transform\x20Algorithm=\x22http://www.w3.org/2001/10/xml-exc-c14n#\x22/></Transforms><DigestMethod\x20Algorithm=\x22http://www.w3.org/2001/04/xmlenc#sha256\x22/><DigestValue>Gsh2DubHXYDeuHyBa+DU1k5G43UjyQsyPRYVgEqpTD8=</DigestValue></Reference></SignedInfo><SignatureValue>mubsqLCaM16gT2rAFLl8XDuLWTALH6cdRMM/kNHLpVzO5PA6FGVPX5ojW2UCKGOhGHn0Hd/mYCOCtgAROphWjxpQl5TDyeQE0frjKs8ik0V/Jjy5T6PeWKHLqN6sHbP6YpkGixshCWtop8JOs6SijM9PBGnWal6Nx5bUMBfAyUnGyIhLwNaE8Z4NHkyAqmdxgLS0e8w5qngKQaUlyERZCrqKQ4w8VaHFG4Dos36XVfh+U7udo3IlbrpBLsu9xG1Azxe2iPC6+84xC09P6EvQylvTnz5NU4jhk10SmmRjZ6AVvzJTz/gbVfRfZoEAUhCuIIh3HuRwf400ESf38ouZTA==</SignatureValue><KeyInfo><X509Data><X509Certificate>MIIEDzCCAvegAwIBAgIJALr9HwgrQ7GeMA0GCSqGSIb3DQEBBQUAMGIxGDAWBgNVBAMTD2F1dGgwLmF1dGgwLmNvbTESMBAGA1UEChMJQXV0aDAgTExDMQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMHUmVkbW9uZDAeFw0xMjEyMjkxNTMwNDdaFw0xMzAxMjgxNTMwNDdaMGIxGDAWBgNVBAMTD2F1dGgwLmF1dGgwLmNvbTESMBAGA1UEChMJQXV0aDAgTExDMQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMHUmVkbW9uZDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMZiVmNHiXLldrgbS50ONNOH7pJ2zg6OcSMkYZGDZJbOZ/TqwauC6JOnI7+xtkPJsQHZSFJs4U0srjZKzDCmaz2jLAJDShP2jaXlrki16nDLPE//IGAg3BJguSmBCWpDbSm92V9hSsE+Mhx6bDaJiw8yQ+Q8iSm0aTQZtp6O4ICMu00ESdh9NJqIECELvP31ADV1Xhj7IbyyVPDFxMv3ol5BySE9wwwOFUq/wv7Xz9LRiUjUzPO+Lq3OM3o/uCDbk7jD7XrGUuOydALD8ULsXp4EuDO+nFbeXB/iKndZynuVKokirywl2nD2IP0/yncdLQZ8ByIyqP3G82fq/l8p7AsCAwEAAaOBxzCBxDAdBgNVHQ4EFgQUHI2rUXeBjTv1zAllaPGrHFcEK0YwgZQGA1UdIwSBjDCBiYAUHI2rUXeBjTv1zAllaPGrHFcEK0ahZqRkMGIxGDAWBgNVBAMTD2F1dGgwLmF1dGgwLmNvbTESMBAGA1UEChMJQXV0aDAgTExDMQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMHUmVkbW9uZIIJALr9HwgrQ7GeMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQEFBQADggEBAFrXIhCy4T4eGrikb0R2wHv/uS548r3pZyBV0CDbcRwAtbnpJMvkGFqKVp4pmyoIDSVNK/j+sLEshB20XftezHZyRJbCUbtKvXQ6FsxoeZMlN0ITYKTaoBZKhUxxj90otAhNC58qwGUPqt2LewJhHyLucKkGJ1mQ3b5xKZ532ToufouH9VLhig3H1KnxWo/zMD6Ke8cCk6qO9htuhI06s3GQGS1QWQtAmm17C6TfKgDwQFZwhqHUUZnwKRH8gU6OgZsvhgV1B7H5mjZcu57KMiDBekU9MEY0DCVTN3WkmcTII668zLsJrkNX6PEfck1AMBbVE6pEUKcWwq3uaLvlAUo=</X509Certificate></X509Data></KeyInfo></Signature></saml:Assertion>','urCeI':function(_0x2f75ae,_0xb6bfba){return _0x2f75ae===_0xb6bfba;},'MfcgP':'PvbJc','hxpfx':function(_0x223c74,_0x8f25b2,_0x53d730){return _0x223c74(_0x8f25b2,_0x53d730);},'RmPRG':_0x1eac5a(0x11f),'MvhNz':function(_0x4ad2ef,_0x29a673,_0x3bcb83){return _0x4ad2ef(_0x29a673,_0x3bcb83);},'CYxfQ':_0x1eac5a(0x189),'ZzDkW':function(_0x40a59d,_0x3c4992){return _0x40a59d!==_0x3c4992;},'NumGm':_0x1eac5a(0xcc),'JrMXG':_0x1eac5a(0x153),'EvKkJ':_0x1eac5a(0x12f),'ZFUDy':function(_0x115a21,_0x31871f,_0x5cc8a1){return _0x115a21(_0x31871f,_0x5cc8a1);},'milNX':_0x1eac5a(0xc0),'GsyHc':function(_0x24697f,_0x3c1ad2,_0x2e30db){return _0x24697f(_0x3c1ad2,_0x2e30db);},'ZfKZV':'should\x20parse\x20attributes','NsBqu':function(_0x20594a,_0xed9851,_0x3e26db){return _0x20594a(_0xed9851,_0x3e26db);},'ZDubV':'should\x20ignore\x20the\x20SPNameQualifier\x20validation\x20when\x20the\x20nameid\x20format\x20is\x20\x22urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified\x22','kwOMM':_0x1eac5a(0xd0),'JmpLd':function(_0x423523,_0x2cc978,_0x1fffb4){return _0x423523(_0x2cc978,_0x1fffb4);},'CGhrQ':_0x1eac5a(0x13e),'XMGJs':_0x1eac5a(0x178),'tsHFi':function(_0x4ab621,_0x3b6732,_0x13a70f){return _0x4ab621(_0x3b6732,_0x13a70f);},'lxQcA':'should\x20validate\x20certificate\x20expiration\x20with\x20embedded\x20cert','niNlA':function(_0x55d3f6,_0x4fd245,_0x228377){return _0x55d3f6(_0x4fd245,_0x228377);},'znYot':_0x1eac5a(0x17f),'DsHyI':_0x1eac5a(0xb1),'zvslG':_0x1eac5a(0xc6)},_0x516d01={'cert':fs[_0x1eac5a(0xdb)](_0x3c760e['ZqwRE'](__dirname,_0x3c760e['oKktF'])),'key':fs[_0x1eac5a(0xdb)](_0x3c760e[_0x1eac5a(0x142)](__dirname,'/test-auth0.key')),'issuer':_0x3c760e[_0x1eac5a(0x10c)],'lifetimeInSeconds':0x258,'audiences':_0x3c760e[_0x1eac5a(0x13c)],'attributes':{'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress':_0x3c760e['CpOjX'],'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name':_0x1eac5a(0x13d)},'nameIdentifier':_0x3c760e[_0x1eac5a(0x1a1)],'nameIdentifierFormat':_0x1eac5a(0x124)};_0x3c760e[_0x1eac5a(0x151)](it,_0x3c760e[_0x1eac5a(0xc2)],function(_0x2d5028){const _0x40de3a=_0x1eac5a,_0x42aae0={'teIMc':_0x3c760e[_0x40de3a(0xfd)],'oVluw':function(_0x579276,_0x4c66c7){return _0x579276(_0x4c66c7);},'yUcLw':_0x3c760e[_0x40de3a(0x1a0)],'GSjVT':'foo','BBbPb':_0x3c760e['qzUzT'],'aYPis':_0x3c760e[_0x40de3a(0xe1)],'ACCnB':_0x3c760e[_0x40de3a(0xf4)],'KSLRx':_0x40de3a(0xeb)},_0x4bf5d8=saml20[_0x40de3a(0xe2)](_0x516d01),_0x2d29fe=fs['readFileSync'](__dirname+_0x3c760e['HJIUr'])[_0x40de3a(0x17b)](),_0x499b5b=new SamlPassport({'cert':_0x2d29fe,'realm':'urn:myapp','checkRecipient':![]});_0x499b5b['validateSamlAssertion'](_0x4bf5d8,{},function(_0x31f7d4,_0x53c3ac){const _0x4229db=_0x40de3a,_0x62e238=_0x42aae0[_0x4229db(0x191)][_0x4229db(0xd5)]('|');let _0x4d6071=0x0;while(!![]){switch(_0x62e238[_0x4d6071++]){case'0':assert['ok'](_0x53c3ac);continue;case'1':if(_0x31f7d4)return _0x42aae0[_0x4229db(0x116)](_0x2d5028,_0x31f7d4);continue;case'2':_0x2d5028();continue;case'3':assert[_0x4229db(0x1a8)](_0x4229db(0x13d),_0x53c3ac[_0x42aae0[_0x4229db(0xb8)]]);continue;case'4':assert[_0x4229db(0x1a8)](_0x4229db(0x13a),_0x53c3ac[_0x4229db(0x173)]);continue;case'5':assert[_0x4229db(0x1a8)](_0x42aae0[_0x4229db(0x187)],_0x53c3ac[_0x42aae0[_0x4229db(0xed)]]);continue;case'6':assert[_0x4229db(0x1a8)]('urn:issuer',_0x53c3ac[_0x42aae0[_0x4229db(0x1b2)]]);continue;case'7':assert['equal'](_0x42aae0['ACCnB'],_0x53c3ac[_0x42aae0['KSLRx']]);continue;}break;}});}),it(_0x1eac5a(0x163),function(_0x4ea948){const _0x2e6575=_0x1eac5a,_0x33a4c8={'vrijV':_0x3c760e[_0x2e6575(0x152)],'RVIIV':_0x3c760e[_0x2e6575(0x1b0)],'zNoZR':_0x3c760e[_0x2e6575(0x10c)],'fPHwD':function(_0x3a1bc5){return _0x3a1bc5();},'fPFtn':_0x3c760e[_0x2e6575(0xf4)],'mJIPo':_0x2e6575(0xeb)},_0x400fe2=_0x2e6575(0x185),_0x52ea2b=fs[_0x2e6575(0xdb)](__dirname+_0x3c760e[_0x2e6575(0xe4)])[_0x2e6575(0x17b)](),_0x176307=new SamlPassport({'cert':_0x52ea2b,'realm':_0x2e6575(0x101),'checkRecipient':![],'checkExpiration':![]});_0x176307[_0x2e6575(0x133)](_0x400fe2,{},function(_0x520238,_0x4a9478){const _0x4c5653=_0x2e6575,_0x541519=_0x4c5653(0x12d)[_0x4c5653(0xd5)]('|');let _0x3d1537=0x0;while(!![]){switch(_0x541519[_0x3d1537++]){case'0':if(_0x520238)return _0x4ea948(_0x520238);continue;case'1':assert['ok'](_0x4a9478);continue;case'2':assert[_0x4c5653(0x1a8)]('foo@bar.com',_0x4a9478[_0x33a4c8[_0x4c5653(0xb0)]]);continue;case'3':assert[_0x4c5653(0x1a8)](_0x4c5653(0x13d),_0x4a9478[_0x4c5653(0xbd)]);continue;case'4':assert[_0x4c5653(0x1a8)]('foo',_0x4a9478[_0x33a4c8[_0x4c5653(0xc5)]]);continue;case'5':assert[_0x4c5653(0x1a8)](_0x33a4c8[_0x4c5653(0xce)],_0x4a9478[_0x4c5653(0x147)]);continue;case'6':_0x33a4c8[_0x4c5653(0x121)](_0x4ea948);continue;case'7':assert[_0x4c5653(0x1a8)](_0x33a4c8['fPFtn'],_0x4a9478[_0x33a4c8[_0x4c5653(0x166)]]);continue;}break;}});}),_0x3c760e['NsBqu'](it,_0x3c760e[_0x1eac5a(0xfa)],function(_0x5d2b49){const _0xe79963=_0x1eac5a,_0x2d9e13={'aozWM':function(_0xe5275c,_0x3c6944){return _0xe5275c(_0x3c6944);},'CXpdq':_0x3c760e['JNBJw'],'OGeFA':function(_0x2b7d5f){const _0x50c2d8=_0x2230;return _0x3c760e[_0x50c2d8(0x149)](_0x2b7d5f);}};if(_0x3c760e['Lpjli']===_0x3c760e[_0xe79963(0x148)]){const _0x33fb4d=_0x3c760e[_0xe79963(0x1b7)],_0x17e2fd=fs['readFileSync'](_0x3c760e['scBCl'](__dirname,_0xe79963(0x172)))[_0xe79963(0x17b)](),_0x5da086=new SamlPassport({'cert':_0x17e2fd,'realm':'urn:myapp','checkRecipient':![],'checkExpiration':![]});_0x5da086[_0xe79963(0x133)](_0x33fb4d,{},function(_0x4f882c,_0x3e4a39){const _0x33d489=_0xe79963;if(_0x4f882c)return _0x5d2b49(_0x4f882c);assert['ok'](_0x3e4a39),assert[_0x33d489(0x1a8)](_0x33d489(0xd2),_0x3e4a39[_0x3c760e['qzUzT']]),assert['equal'](_0x3c760e[_0x33d489(0xdd)],_0x3e4a39[_0x3c760e[_0x33d489(0x1a0)]]),assert[_0x33d489(0x1a8)](_0x33d489(0x13a),_0x3e4a39['http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress']),assert[_0x33d489(0x1a8)](_0x3c760e['CpOjX'],_0x3e4a39[_0x33d489(0x173)]),assert['equal']('urn:issuer',_0x3e4a39[_0x3c760e[_0x33d489(0xe1)]]),_0x3c760e['xUelO'](_0x5d2b49);});}else _0x2d9e13[_0xe79963(0x108)](_0x4df403,_0x18123c['message'])['to'][_0xe79963(0x1a8)](_0x2d9e13[_0xe79963(0x12e)]),_0x2d9e13[_0xe79963(0x139)](_0x2a7646);}),_0x3c760e[_0x1eac5a(0x10a)](it,_0x1eac5a(0xb4),function(_0x24792b){const _0x4ffb59=_0x1eac5a,_0x110d0a={'XfUXD':_0x3c760e['ArAph']},_0x228615=_0x3c760e[_0x4ffb59(0x167)],_0x580e4b=fs[_0x4ffb59(0xdb)](__dirname+_0x4ffb59(0x172))[_0x4ffb59(0x17b)](),_0x48d208=new SamlPassport({'cert':_0x580e4b,'realm':_0x3c760e[_0x4ffb59(0x13c)],'checkRecipient':![],'checkExpiration':![]});_0x48d208[_0x4ffb59(0x133)](_0x228615,{},function(_0x245e10,_0x4d6dc2){const _0x2eca34=_0x4ffb59;assert['equal'](_0x245e10['message'],_0x110d0a[_0x2eca34(0x104)]),_0x24792b();});}),it(_0x3c760e[_0x1eac5a(0xda)],function(_0x2408cd){const _0x4f4903=_0x1eac5a,_0x4d9f8f={'LWjNF':function(_0x554d15,_0x399b52){return _0x554d15+_0x399b52;},'gmeFz':'X509Certificate','JRRZI':function(_0x525623,_0x7aed11){return _0x525623!==_0x7aed11;},'yiuKg':_0x3c760e[_0x4f4903(0x100)],'Iroac':_0x4f4903(0x19e),'OZhOJ':function(_0x5c7800){return _0x5c7800();}},_0x13bd69=_0x4f4903(0x16c),_0x323d59=fs[_0x4f4903(0xdb)](__dirname+'/test-auth0.cer')[_0x4f4903(0x17b)](),_0x14e019=new SamlPassport({'cert':_0x323d59,'realm':_0x4f4903(0x101),'checkRecipient':![],'checkExpiration':![]});_0x14e019[_0x4f4903(0x133)](_0x13bd69,{},function(_0x115c0e,_0x9f5a5d){const _0x32efd8=_0x4f4903,_0x4eb80d={'WgOXM':function(_0x256690,_0x14de78){return _0x256690(_0x14de78);},'mcKWH':function(_0x4b65e0,_0x215f8d){const _0x546365=_0x2230;return _0x4d9f8f[_0x546365(0x158)](_0x4b65e0,_0x215f8d);},'TsetD':_0x32efd8(0x101),'LJRWU':_0x4d9f8f[_0x32efd8(0x14a)]};if(_0x4d9f8f[_0x32efd8(0x1a5)](_0x4d9f8f[_0x32efd8(0xaf)],_0x32efd8(0x15d)))assert[_0x32efd8(0x1a8)](_0x115c0e[_0x32efd8(0xae)],_0x4d9f8f[_0x32efd8(0x14b)]),_0x4d9f8f['OZhOJ'](_0x2408cd);else{const _0x3524cc={'YlJKR':function(_0x19d30e,_0x87aa4a){const _0x16737d=_0x32efd8;return _0x4eb80d[_0x16737d(0x115)](_0x19d30e,_0x87aa4a);},'pmcqb':function(_0x392f6d,_0x42ce2b){const _0x309702=_0x32efd8;return _0x4eb80d[_0x309702(0x115)](_0x392f6d,_0x42ce2b);}},_0x4e97a9=_0x58423a['create'](_0x1bf0cf),_0x5774b4=_0x16496b[_0x32efd8(0xdb)](_0x4eb80d[_0x32efd8(0xc8)](_0x18010d,_0x32efd8(0x172)))[_0x32efd8(0x17b)](),_0x82783b=new _0x3ebd90({'cert':_0x5774b4,'realm':_0x4eb80d[_0x32efd8(0x170)],'checkRecipient':![],'checkCertExpiration':!![]}),_0x1100c1=_0x3b8d4a[_0x32efd8(0x14f)](_0x4e97a9);_0x3835fd[_0x32efd8(0x1a8)](_0x1100c1['getElementsByTagName'](_0x4eb80d[_0x32efd8(0x122)])[_0x32efd8(0x16e)],0x1);const _0x59b30b=_0x1100c1['getElementsByTagName'](_0x32efd8(0x15c))[0x0];_0x59b30b[_0x32efd8(0x14d)][_0x32efd8(0x126)](_0x59b30b),_0xeb7834[_0x32efd8(0x1a8)](_0x1100c1['getElementsByTagName'](_0x4eb80d['LJRWU'])[_0x32efd8(0x16e)],0x0),_0x82783b[_0x32efd8(0x133)](_0x1100c1[_0x32efd8(0x17b)](),{},function(_0x23b7ba,_0x24f432){const _0x1818f3=_0x32efd8;_0x5937c3(_0x23b7ba)['to'][_0x1818f3(0xd4)],_0x3524cc[_0x1818f3(0x19f)](_0x3ae281,_0x23b7ba[_0x1818f3(0xae)])['to'][_0x1818f3(0x1a8)](_0x1818f3(0x11a)),_0x3524cc['pmcqb'](_0x305058,_0x24f432)['to']['not'][_0x1818f3(0xd4)],_0x18331a();});}});}),_0x3c760e['JmpLd'](it,_0x1eac5a(0x188),function(_0x11ac45){const _0x5d7689=_0x1eac5a,_0x58dac3={'GUyZs':_0x3c760e[_0x5d7689(0x125)],'qsDWD':_0x3c760e['bHMYs'],'PHbSS':function(_0x171c1f,_0x137290){return _0x171c1f!==_0x137290;},'irjtc':_0x3c760e[_0x5d7689(0x162)],'KFBap':function(_0x1f40b2,_0x563e04){return _0x3c760e['FADtb'](_0x1f40b2,_0x563e04);},'kgQdO':function(_0x230b5a,_0x118811){const _0x463f92=_0x5d7689;return _0x3c760e[_0x463f92(0x13f)](_0x230b5a,_0x118811);},'SflNy':_0x5d7689(0x102)};_0x516d01['attributes']={'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/groups':[_0x3c760e['AIBHS'],_0x3c760e[_0x5d7689(0x1b6)]]};const _0x14c316=saml20[_0x5d7689(0xe2)](_0x516d01),_0x18a1c1=fs['readFileSync'](__dirname+_0x3c760e['HJIUr'])['toString'](),_0xda82b1=new SamlPassport({'cert':_0x18a1c1,'realm':_0x3c760e[_0x5d7689(0x13c)],'checkRecipient':![]});_0xda82b1[_0x5d7689(0x133)](_0x14c316,{},function(_0x354a22,_0x433be3){const _0x21b542=_0x5d7689,_0x1b1e20={'rHccy':_0x58dac3[_0x21b542(0x18f)],'xaDuV':_0x58dac3[_0x21b542(0x19c)]};if(_0x58dac3['PHbSS']('exAZv',_0x58dac3[_0x21b542(0x136)])){if(_0x354a22)return _0x11ac45(_0x354a22);_0x58dac3[_0x21b542(0xca)](expect,_0x433be3)['to'][_0x21b542(0xd4)],_0x58dac3[_0x21b542(0xb3)](expect,_0x433be3[_0x58dac3[_0x21b542(0xfb)]])['to']['be']['an'](_0x21b542(0x17d)),_0x58dac3['kgQdO'](expect,_0x433be3[_0x58dac3[_0x21b542(0xfb)]])['to'][_0x21b542(0x18d)](_0x21b542(0xde)),_0x58dac3[_0x21b542(0xca)](expect,_0x433be3[_0x21b542(0x102)])['to'][_0x21b542(0x18d)](_0x21b542(0x174)),_0x11ac45();}else{const _0x5ade65={'vKQbp':function(_0xef7a1b){return _0xef7a1b();}},_0x407fbe=_0x1b1e20['rHccy'],_0x5baa13=_0x5cbd16['readFileSync'](_0xbf3085+_0x21b542(0x172))[_0x21b542(0x17b)](),_0x23a82b=new _0x398056({'cert':_0x5baa13,'realm':_0x1b1e20[_0x21b542(0xfe)],'checkRecipient':![]});_0x23a82b[_0x21b542(0x133)](_0x407fbe,{},function(_0x3aa304,_0x28554a){const _0x475dec=_0x21b542;_0x560ca2['ok'](_0x3aa304),_0x38c44d['ok'](!_0x28554a),_0x10cbaa['equal'](_0x3aa304[_0x475dec(0xae)],_0x475dec(0x143)),_0x5ade65['vKQbp'](_0x1ea970);});}});}),it(_0x3c760e[_0x1eac5a(0xf8)],function(_0x1bd590){const _0x52fe56=_0x1eac5a,_0x3c1cfb={'ChhSK':function(_0x57997e,_0x41f335){return _0x57997e(_0x41f335);},'EqQDq':_0x52fe56(0x109),'uqDYM':function(_0x57a624){const _0x2db812=_0x52fe56;return _0x3c760e[_0x2db812(0x149)](_0x57a624);}};_0x516d01[_0x52fe56(0x1a7)]=-0xf0;const _0x357786=saml20[_0x52fe56(0xe2)](_0x516d01),_0x23ba91=fs[_0x52fe56(0xdb)](__dirname+_0x52fe56(0x172))[_0x52fe56(0x17b)](),_0x4f4c54=new SamlPassport({'cert':_0x23ba91,'realm':'urn:myapp','checkRecipient':![]});_0x4f4c54['validateSamlAssertion'](_0x357786,{},function(_0x59f72d,_0x37c265){const _0x3223c1=_0x52fe56;expect(_0x59f72d)['to'][_0x3223c1(0xd4)],_0x3c1cfb[_0x3223c1(0x15a)](expect,_0x59f72d[_0x3223c1(0xae)])['to'][_0x3223c1(0x1a8)](_0x3c1cfb[_0x3223c1(0xee)]),expect(_0x37c265)['to'][_0x3223c1(0x1b4)][_0x3223c1(0xd4)],_0x3c1cfb[_0x3223c1(0x128)](_0x1bd590);});}),_0x3c760e[_0x1eac5a(0x141)](it,_0x1eac5a(0xbf),function(_0x4e83a7){const _0x9e3a13=_0x1eac5a;_0x516d01['lifetimeInSeconds']=-0xf0;const _0x476cb1=saml20['create'](_0x516d01),_0x5ab3dc=fs[_0x9e3a13(0xdb)](_0x3c760e[_0x9e3a13(0xcd)](__dirname,'/test-auth0.cer'))[_0x9e3a13(0x17b)](),_0x36a78e=new SamlPassport({'cert':_0x5ab3dc,'realm':_0x3c760e[_0x9e3a13(0x13c)],'checkRecipient':![],'clockSkew':0x5});_0x36a78e[_0x9e3a13(0x133)](_0x476cb1,{},function(_0x86e31f,_0x96b82c){const _0x336ed8=_0x9e3a13;_0x3c760e[_0x336ed8(0x1a3)](expect,_0x86e31f)['to'][_0x336ed8(0x1b4)][_0x336ed8(0xd4)],_0x3c760e[_0x336ed8(0x1a3)](expect,_0x96b82c)['to']['exist'],_0x4e83a7();});}),it(_0x3c760e[_0x1eac5a(0x199)],function(_0x12fa2a){const _0x2e0bec=_0x1eac5a;_0x516d01[_0x2e0bec(0x1a7)]=0x2710;const _0x597894=saml20['create'](_0x516d01),_0x3dda28=fs['readFileSync'](__dirname+_0x2e0bec(0x172))[_0x2e0bec(0x17b)](),_0x5adcc5=new SamlPassport({'cert':_0x3dda28,'realm':_0x3c760e[_0x2e0bec(0x13c)],'checkRecipient':![]});_0x5adcc5[_0x2e0bec(0x133)](_0x597894,{},function(_0x48d17a,_0x5341ce){const _0x3734d0=_0x2e0bec;expect(_0x48d17a)['to']['not'][_0x3734d0(0xd4)],_0x3c760e[_0x3734d0(0x1a3)](expect,_0x5341ce)['to'][_0x3734d0(0xd4)],_0x12fa2a();});}),_0x3c760e[_0x1eac5a(0x129)](it,_0x3c760e[_0x1eac5a(0xe7)],function(_0x30e840){const _0x3a1cd4=_0x1eac5a,_0x38f832={'ttSRe':function(_0x3f01e5,_0x18f5f1){return _0x3f01e5(_0x18f5f1);},'dpqbt':_0x3a1cd4(0x11a),'irayi':function(_0x3a2036){return _0x3a2036();}};if(_0x3c760e[_0x3a1cd4(0x15e)](_0x3a1cd4(0x14c),_0x3c760e[_0x3a1cd4(0xf5)])){const _0x5b9f46=saml20[_0x3a1cd4(0xe2)](_0x516d01),_0x3c33fe=fs['readFileSync'](_0x3c760e['ZqwRE'](__dirname,_0x3a1cd4(0x172)))['toString'](),_0x4ab5df=new SamlPassport({'cert':_0x3c33fe,'realm':_0x3c760e['bHMYs'],'checkRecipient':![],'checkCertExpiration':!![]});_0x4ab5df[_0x3a1cd4(0x133)](_0x5b9f46,{},function(_0x407c72,_0x304301){const _0x2aba6c=_0x3a1cd4;_0x38f832[_0x2aba6c(0x113)](expect,_0x407c72)['to'][_0x2aba6c(0xd4)],expect(_0x407c72[_0x2aba6c(0xae)])['to'][_0x2aba6c(0x1a8)](_0x38f832[_0x2aba6c(0x154)]),expect(_0x304301)['to']['be'][_0x2aba6c(0x198)],_0x30e840();});}else _0x1716de(_0x503add)['to'][_0x3a1cd4(0xd4)],_0x52994b(_0x3ee0ac['message'])['to'][_0x3a1cd4(0x1a8)](_0x3a1cd4(0x11a)),_0x38f832[_0x3a1cd4(0x113)](_0x37df7a,_0x5a9d15)['to']['be'][_0x3a1cd4(0x198)],_0x38f832[_0x3a1cd4(0x1a9)](_0x352008);}),_0x3c760e[_0x1eac5a(0x1b1)](it,_0x3c760e['znYot'],function(_0x3f1566){const _0x4b1439=_0x1eac5a,_0x18c038=saml20['create'](_0x516d01),_0x3e66a3=fs['readFileSync'](_0x3c760e[_0x4b1439(0x111)](__dirname,_0x3c760e[_0x4b1439(0xe4)]))[_0x4b1439(0x17b)](),_0x3fec75=new SamlPassport({'cert':_0x3e66a3,'realm':_0x3c760e[_0x4b1439(0x13c)],'checkRecipient':![],'checkCertExpiration':!![]}),_0x1cac4f=utils[_0x4b1439(0x14f)](_0x18c038);assert[_0x4b1439(0x1a8)](_0x1cac4f[_0x4b1439(0x19b)]('X509Certificate')[_0x4b1439(0x16e)],0x1);const _0x3db523=_0x1cac4f[_0x4b1439(0x19b)](_0x3c760e[_0x4b1439(0x19d)])[0x0];_0x3db523['parentNode'][_0x4b1439(0x126)](_0x3db523),assert[_0x4b1439(0x1a8)](_0x1cac4f[_0x4b1439(0x19b)](_0x3c760e[_0x4b1439(0x19d)])['length'],0x0),_0x3fec75[_0x4b1439(0x133)](_0x1cac4f[_0x4b1439(0x17b)](),{},function(_0x17db5a,_0x203b1f){const _0x4bdbc4=_0x4b1439;_0x3c760e['ORAZQ'](expect,_0x17db5a)['to'][_0x4bdbc4(0xd4)],expect(_0x17db5a['message'])['to'][_0x4bdbc4(0x1a8)](_0x4bdbc4(0x11a)),_0x3c760e[_0x4bdbc4(0x1a3)](expect,_0x203b1f)['to'][_0x4bdbc4(0x1b4)][_0x4bdbc4(0xd4)],_0x3c760e[_0x4bdbc4(0x149)](_0x3f1566);});}),_0x3c760e[_0x1eac5a(0xf6)](it,'should\x20validate\x20recipent',function(_0x28695a){const _0x2d1928=_0x1eac5a,_0x2193b1={'bJGjS':function(_0x5a92d1,_0x5deaae){const _0x5179e7=_0x2230;return _0x3c760e[_0x5179e7(0x142)](_0x5a92d1,_0x5deaae);},'vPkfq':_0x2d1928(0x101),'IJofy':function(_0x43e134,_0x581048){return _0x43e134(_0x581048);},'RRnRt':function(_0x349a2c,_0x2cf945){return _0x349a2c===_0x2cf945;},'Ydxsv':_0x3c760e[_0x2d1928(0xf2)],'FKhxo':_0x2d1928(0x16a)};_0x516d01[_0x2d1928(0x1a7)]=0x258,_0x516d01[_0x2d1928(0x112)]=_0x3c760e[_0x2d1928(0x1a1)];const _0x4cb36b=saml20[_0x2d1928(0xe2)](_0x516d01),_0x2af991=fs['readFileSync'](_0x3c760e['viVAb'](__dirname,'/test-auth0.cer'))[_0x2d1928(0x17b)](),_0x1868ae=new SamlPassport({'cert':_0x2af991,'realm':_0x2d1928(0x101),'recipientUrl':_0x2d1928(0xd8)});_0x1868ae[_0x2d1928(0x133)](_0x4cb36b,{},function(_0x2be03d,_0x2d766b){const _0x4acc94=_0x2d1928,_0xc30432={'vayzS':function(_0xbd41fa,_0x2a4261){const _0x1738e5=_0x2230;return _0x2193b1[_0x1738e5(0x10f)](_0xbd41fa,_0x2a4261);}};if(_0x2193b1['RRnRt'](_0x2193b1[_0x4acc94(0x177)],_0x2193b1[_0x4acc94(0xbb)])){_0x21a61a[_0x4acc94(0x1a7)]=0x2710;const _0x638a03=_0x3c9cb7['create'](_0x5d249f),_0x34f03a=_0x117a78[_0x4acc94(0xdb)](_0x2193b1[_0x4acc94(0xbe)](_0xc06e24,_0x4acc94(0x172)))[_0x4acc94(0x17b)](),_0x4178d0=new _0x275bc3({'cert':_0x34f03a,'realm':_0x2193b1[_0x4acc94(0x161)],'checkRecipient':![]});_0x4178d0['validateSamlAssertion'](_0x638a03,{},function(_0x50499a,_0x5f53d0){const _0x19b119=_0x4acc94;_0x2d432e(_0x50499a)['to']['not'][_0x19b119(0xd4)],_0xc30432[_0x19b119(0x156)](_0x78630b,_0x5f53d0)['to']['exist'],_0x30dbe7();});}else _0x2193b1[_0x4acc94(0x10f)](expect,_0x2be03d)['to'][_0x4acc94(0xd4)],expect(_0x2be03d[_0x4acc94(0xae)])['to'][_0x4acc94(0x1a8)](_0x4acc94(0xb5)),expect(_0x2d766b)['to'][_0x4acc94(0x1b4)][_0x4acc94(0xd4)],_0x28695a();});}),it(_0x3c760e['DsHyI'],function(_0x3498e3){const _0x415893=_0x1eac5a,_0x3d7a94={'cert':fs[_0x415893(0xdb)](_0x3c760e[_0x415893(0x111)](__dirname,_0x3c760e['oKktF'])),'key':fs['readFileSync'](_0x3c760e[_0x415893(0x138)](__dirname,_0x415893(0x12a))),'issuer':_0x3c760e[_0x415893(0x10c)],'lifetimeInSeconds':0x258,'audiences':_0x3c760e['bHMYs'],'attributes':{'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress':_0x415893(0x10b),'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name':_0x3c760e[_0x415893(0x120)]},'nameIdentifier':'вКонтакте','nameIdentifierFormat':_0x415893(0x124)},_0x18bcbe=saml20[_0x415893(0xe2)](_0x3d7a94),_0x1f1b63=fs['readFileSync'](__dirname+'/test-auth0.cer')[_0x415893(0x17b)](),_0x48fd00=new SamlPassport({'cert':_0x1f1b63,'realm':_0x415893(0x101),'checkRecipient':![]});_0x48fd00[_0x415893(0x133)](_0x18bcbe,{},function(_0x2be2ba,_0x57db6e){const _0x22cabf=_0x415893,_0x24bfec={'DeMMj':function(_0x5900a4,_0x200cdf){const _0x7fbed6=_0x2230;return _0x3c760e[_0x7fbed6(0x138)](_0x5900a4,_0x200cdf);},'yQJar':_0x3c760e[_0x22cabf(0xe4)],'YeZcR':_0x3c760e['bHMYs']};if(_0x3c760e[_0x22cabf(0x18c)](_0x22cabf(0x1ae),_0x3c760e[_0x22cabf(0x18a)])){const _0x1972b2={'KCCYf':function(_0x1109ac,_0x82cbb){return _0x1109ac(_0x82cbb);}};_0x27ced0['lifetimeInSeconds']=-0xf0;const _0x5c5af8=_0x410a40[_0x22cabf(0xe2)](_0x52e709),_0xa96403=_0x48a319[_0x22cabf(0xdb)](_0x24bfec[_0x22cabf(0x15b)](_0x54a337,_0x24bfec[_0x22cabf(0xef)]))['toString'](),_0x488d9a=new _0x2951e9({'cert':_0xa96403,'realm':_0x24bfec[_0x22cabf(0xf7)],'checkRecipient':![],'clockSkew':0x5});_0x488d9a[_0x22cabf(0x133)](_0x5c5af8,{},function(_0x2bf8f0,_0x164592){const _0x6ea0ba=_0x22cabf;_0x467e2a(_0x2bf8f0)['to'][_0x6ea0ba(0x1b4)][_0x6ea0ba(0xd4)],_0x1972b2['KCCYf'](_0x56e2ae,_0x164592)['to'][_0x6ea0ba(0xd4)],_0x28d8ba();});}else{if(_0x2be2ba)return _0x3498e3(_0x2be2ba);assert['ok'](_0x57db6e),assert[_0x22cabf(0x1a8)]('urn:oasis:names:tc:SAML:2.0:ac:classes:unspecified',_0x57db6e[_0x22cabf(0x182)]),_0x3c760e[_0x22cabf(0x164)](_0x3498e3);}});}),_0x3c760e[_0x1eac5a(0x151)](it,_0x3c760e['zvslG'],function(_0x558962){const _0x3c61ec=_0x1eac5a,_0x50faa3={'EVvxu':_0x3c61ec(0xb6),'HORXc':_0x3c760e[_0x3c61ec(0xdd)],'hBIbZ':_0x3c61ec(0xbd),'ipbZD':_0x3c61ec(0x13a),'fFrRp':_0x3c61ec(0xb9),'KnzoX':_0x3c760e[_0x3c61ec(0xe1)],'vjpeY':_0x3c61ec(0xeb),'BXEwe':function(_0x1ba254){return _0x1ba254();},'BHhFr':function(_0x878b8a,_0x1267b1){return _0x878b8a(_0x1267b1);},'yiOcY':_0x3c61ec(0xd2),'yJpUv':'Admins','QnbMa':function(_0x149e48){const _0x3cb29b=_0x3c61ec;return _0x3c760e[_0x3cb29b(0x157)](_0x149e48);},'oMLRr':function(_0xb9bf0d,_0x1846b4){return _0xb9bf0d(_0x1846b4);},'YmLvy':_0x3c760e['pgDpX'],'Rvdea':_0x3c760e[_0x3c61ec(0x1b6)],'hcFfG':'/test-auth0.cer'};if(_0x3c760e[_0x3c61ec(0x15e)](_0x3c760e['XDGxf'],_0x3c760e[_0x3c61ec(0x1ad)])){const _0x249873=fs['readFileSync'](_0x3c760e[_0x3c61ec(0x114)](__dirname,_0x3c760e[_0x3c61ec(0x196)]))[_0x3c61ec(0x17b)](),_0x1fcad6={'checkDestination':![],'thumbprint':_0x3c760e['ZsRIY']},_0x1a819d=new SamlPassport(_0x1fcad6);_0x1a819d['validateSamlAssertion'](_0x249873,{},function(_0x3eb92d,_0x3c6682){const _0x444a33=_0x3c61ec;if(_0x3c760e['NDtqb'](_0x3c760e[_0x444a33(0x195)],_0x3c760e['hIMjz'])){expect(_0x3eb92d)['to'][_0x444a33(0xd4)];const _0x333037=[_0x444a33(0x11d),_0x3c760e[_0x444a33(0x193)],_0x3c760e[_0x444a33(0xff)],_0x444a33(0x197),_0x444a33(0xba)];assert['ok'](_0x3eb92d,_0x3c760e['azqnb']),assert['ok'](_0x333037['includes'](_0x3eb92d['message']),_0x3c760e['xeMWG']),_0x558962();}else{const _0x84b1ff=_0x50faa3[_0x444a33(0x155)][_0x444a33(0xd5)]('|');let _0x46412d=0x0;while(!![]){switch(_0x84b1ff[_0x46412d++]){case'0':_0x417a1c[_0x444a33(0x1a8)](_0x50faa3['HORXc'],_0x1e6828[_0x50faa3[_0x444a33(0xe9)]]);continue;case'1':_0x5eee02['ok'](_0x115aeb);continue;case'2':_0x465805['equal'](_0x50faa3[_0x444a33(0xb2)],_0x41d7f9[_0x444a33(0x173)]);continue;case'3':_0x44fbfc[_0x444a33(0x1a8)](_0x50faa3[_0x444a33(0x1ab)],_0x48a972[_0x50faa3[_0x444a33(0x194)]]);continue;case'4':_0x376050[_0x444a33(0x1a8)](_0x50faa3[_0x444a33(0xb2)],_0xcae19e[_0x50faa3[_0x444a33(0xdc)]]);continue;case'5':_0x50faa3[_0x444a33(0x18b)](_0x2586f6);continue;case'6':if(_0x33cbe1)return _0x50faa3[_0x444a33(0x16b)](_0x176cd6,_0x6cd140);continue;case'7':_0x5ba950[_0x444a33(0x1a8)](_0x50faa3[_0x444a33(0x192)],_0x1321f1[_0x444a33(0x12c)]);continue;}break;}}});}else{_0x2d9c7a[_0x3c61ec(0x134)]={'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/groups':[_0x3c61ec(0xde),_0x50faa3['Rvdea']]};const _0xde4bc8=_0x2766ee[_0x3c61ec(0xe2)](_0x1a5559),_0x43ea08=_0x5e9e20['readFileSync'](_0x58e10c+_0x50faa3['hcFfG'])[_0x3c61ec(0x17b)](),_0x181b6e=new _0x3b7042({'cert':_0x43ea08,'realm':_0x3c61ec(0x101),'checkRecipient':![]});_0x181b6e['validateSamlAssertion'](_0xde4bc8,{},function(_0x4284b8,_0x1f94ff){const _0x219b0e=_0x3c61ec,_0x233a62=_0x219b0e(0xc4)[_0x219b0e(0xd5)]('|');let _0x203518=0x0;while(!![]){switch(_0x233a62[_0x203518++]){case'0':_0xa3dabc(_0x1f94ff[_0x219b0e(0x102)])['to'][_0x219b0e(0x18d)](_0x50faa3[_0x219b0e(0x150)]);continue;case'1':_0x50faa3[_0x219b0e(0x16b)](_0x44535b,_0x1f94ff)['to']['exist'];continue;case'2':_0x50faa3[_0x219b0e(0x179)](_0x29a3e8);continue;case'3':_0x50faa3[_0x219b0e(0x16b)](_0x26cf25,_0x1f94ff[_0x219b0e(0x102)])['to'][_0x219b0e(0x18d)](_0x219b0e(0x174));continue;case'4':if(_0x4284b8)return _0x20e167(_0x4284b8);continue;case'5':_0x50faa3[_0x219b0e(0x107)](_0x53d6d4,_0x1f94ff[_0x219b0e(0x102)])['to']['be']['an'](_0x50faa3[_0x219b0e(0x146)]);continue;}break;}});}}),describe(_0x1eac5a(0x16f),function(){const _0x39ed2b=_0x1eac5a,_0x62d2ae={'eyXMI':function(_0x196e11,_0xc18f){return _0x3c760e['uIdzi'](_0x196e11,_0xc18f);},'BHpMW':_0x39ed2b(0x101),'oKDvc':_0x39ed2b(0x102),'AnWAB':function(_0x369a98){return _0x369a98();},'keRUe':_0x39ed2b(0x1b5),'iPNhe':_0x3c760e['LJHNE'],'Eqcwh':function(_0x113c7a){return _0x3c760e['fXfSz'](_0x113c7a);},'KqStL':_0x3c760e['WwENA']};if(_0x3c760e[_0x39ed2b(0x184)](_0x3c760e[_0x39ed2b(0x130)],_0x39ed2b(0x140))){const _0x4c8977={'OcYVV':function(_0xc5767e,_0x17a2bb){return _0xc5767e(_0x17a2bb);},'jOMaK':_0x39ed2b(0x12c),'nVdfu':_0x39ed2b(0xbd),'ZukiN':_0x39ed2b(0x13a),'TpjkN':_0x39ed2b(0x173),'VVeNt':'urn:issuer','LpLwe':_0x39ed2b(0x147)},_0x51a0fb=_0x151e87['create'](_0x56e406),_0x240d80=_0x36f5b9[_0x39ed2b(0xdb)](_0x62d2ae['eyXMI'](_0x539dc6,_0x39ed2b(0x172)))['toString'](),_0x576db5=new _0xc43ef({'cert':_0x240d80,'realm':_0x62d2ae[_0x39ed2b(0xc9)],'checkRecipient':![]});_0x576db5['validateSamlAssertion'](_0x51a0fb,{},function(_0xd14f6d,_0x5f4e76){const _0x3a5344=_0x39ed2b;if(_0xd14f6d)return _0x4c8977[_0x3a5344(0xc1)](_0x52d341,_0xd14f6d);_0x2cf4ac['ok'](_0x5f4e76),_0x538f46[_0x3a5344(0x1a8)](_0x3a5344(0xd2),_0x5f4e76[_0x4c8977['jOMaK']]),_0x11592c[_0x3a5344(0x1a8)](_0x3a5344(0x13d),_0x5f4e76[_0x4c8977[_0x3a5344(0x16d)]]),_0x12854d[_0x3a5344(0x1a8)](_0x4c8977[_0x3a5344(0xea)],_0x5f4e76[_0x3a5344(0xeb)]),_0x41b59c[_0x3a5344(0x1a8)](_0x4c8977['ZukiN'],_0x5f4e76[_0x4c8977[_0x3a5344(0x1ac)]]),_0x4c13ee['equal'](_0x4c8977[_0x3a5344(0x176)],_0x5f4e76[_0x4c8977[_0x3a5344(0x131)]]),_0x141053();});}else _0x3c760e[_0x39ed2b(0x10a)](it,_0x3c760e[_0x39ed2b(0x10d)],function(_0x2ad73d){const _0x20eb27=_0x39ed2b,_0x2cebea={'fTuYO':_0x20eb27(0x143)},_0x291706='<saml:Assertion\x20xmlns:saml=\x22urn:oasis:names:tc:SAML:2.0:assertion\x22\x20Version=\x222.0\x22\x20ID=\x22_muhd3ZBmN9LK3Ev08rkc8CA40YvNOkGl\x22\x20IssueInstant=\x222016-09-29T12:35:22.345Z\x22><saml:Issuer>urn:issuer</saml:Issuer><saml:Subject><saml:NameID\x20Format=\x22urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\x22\x20SPNameQualifier=\x22invalid-value\x22>foo</saml:NameID><saml:SubjectConfirmation\x20Method=\x22urn:oasis:names:tc:SAML:2.0:cm:bearer\x22><saml:SubjectConfirmationData\x20NotOnOrAfter=\x222016-09-29T12:45:22.345Z\x22/></saml:SubjectConfirmation></saml:Subject><saml:Conditions\x20NotBefore=\x222016-09-29T12:35:22.345Z\x22\x20NotOnOrAfter=\x222016-09-29T12:45:22.345Z\x22><saml:AudienceRestriction><saml:Audience>urn:myapp</saml:Audience></saml:AudienceRestriction></saml:Conditions><saml:AttributeStatement\x20xmlns:xs=\x22http://www.w3.org/2001/XMLSchema\x22\x20xmlns:xsi=\x22http://www.w3.org/2001/XMLSchema-instance\x22><saml:Attribute\x20Name=\x22http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress\x22><saml:AttributeValue\x20xsi:type=\x22xs:anyType\x22>foo@bar.com</saml:AttributeValue></saml:Attribute><saml:Attribute\x20Name=\x22http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name\x22><saml:AttributeValue\x20xsi:type=\x22xs:anyType\x22>Foo\x20Bar</saml:AttributeValue></saml:Attribute></saml:AttributeStatement><saml:AuthnStatement\x20AuthnInstant=\x222016-09-29T12:35:22.345Z\x22><saml:AuthnContext><saml:AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:unspecified</saml:AuthnContextClassRef></saml:AuthnContext></saml:AuthnStatement></saml:Assertion>',_0x7ff0af=fs['readFileSync'](__dirname+_0x20eb27(0x172))[_0x20eb27(0x17b)](),_0x1b6cdd=new SamlPassport({'cert':_0x7ff0af,'realm':_0x62d2ae['BHpMW'],'checkRecipient':![]});_0x1b6cdd[_0x20eb27(0x133)](_0x291706,{},function(_0x5efb45,_0x240660){const _0x62ba1d=_0x20eb27;assert['ok'](_0x5efb45),assert['ok'](!_0x240660),assert[_0x62ba1d(0x1a8)](_0x5efb45[_0x62ba1d(0xae)],_0x2cebea['fTuYO']),_0x2ad73d();});}),_0x3c760e[_0x39ed2b(0xf6)](it,_0x3c760e[_0x39ed2b(0x159)],function(_0x54995c){const _0x1591f2=_0x39ed2b,_0xc43f4d=_0x62d2ae['KqStL'],_0x287c3f=fs[_0x1591f2(0xdb)](__dirname+_0x1591f2(0x172))[_0x1591f2(0x17b)](),_0x4a4d83=new SamlPassport({'cert':_0x287c3f,'realm':_0x62d2ae[_0x1591f2(0xc9)],'checkRecipient':![]});_0x4a4d83['validateSamlAssertion'](_0xc43f4d,{},function(_0x16a979,_0x46d508){const _0xaa5a0e=_0x1591f2,_0x395e02={'nqsrG':function(_0x46799b,_0x3687bd){return _0x46799b(_0x3687bd);},'vaeLy':_0x62d2ae[_0xaa5a0e(0xec)],'euerm':function(_0x1d718c,_0x1bf714){return _0x1d718c(_0x1bf714);},'VVbJD':function(_0x177547){const _0x2c14b5=_0xaa5a0e;return _0x62d2ae[_0x2c14b5(0x186)](_0x177547);}};if(_0x62d2ae[_0xaa5a0e(0xb7)]!=='MYFzu'){if(_0xb56c71)return _0x4b9d62(_0x44250c);_0x10000c(_0x2bb8be)['to']['exist'],_0x395e02[_0xaa5a0e(0xe8)](_0x6d43db,_0x51e02c[_0x395e02[_0xaa5a0e(0xd1)]])['to']['be']['an'](_0xaa5a0e(0x17d)),_0x47f046(_0xa95165[_0x395e02[_0xaa5a0e(0xd1)]])['to'][_0xaa5a0e(0x18d)](_0xaa5a0e(0xde)),_0x395e02[_0xaa5a0e(0x11c)](_0x5e7cad,_0x43ee6d[_0xaa5a0e(0x102)])['to']['include']('Contributors'),_0x395e02['VVbJD'](_0x5c3b83);}else assert['ok'](_0x16a979),assert['ok'](!_0x46d508),assert[_0xaa5a0e(0x1a8)](_0x16a979[_0xaa5a0e(0xae)],_0x62d2ae[_0xaa5a0e(0xd3)]),_0x62d2ae[_0xaa5a0e(0xd7)](_0x54995c);});});}),describe('invalid\x20xml',()=>{const _0x43d8ba=_0x1eac5a,_0x481266={'kqeyQ':function(_0x361309,_0x25f189){const _0x926877=_0x2230;return _0x3c760e[_0x926877(0x13f)](_0x361309,_0x25f189);},'jmAch':function(_0x47178d,_0x36d800){const _0x505fc2=_0x2230;return _0x3c760e[_0x505fc2(0x12b)](_0x47178d,_0x36d800);},'pWmMn':'tisRv','OSLga':_0x43d8ba(0xcb),'RhKTe':_0x43d8ba(0x172),'wObhR':'<doc><![CDATA[</doc>','jlUfQ':_0x43d8ba(0x165),'Psekr':_0x3c760e[_0x43d8ba(0x17c)],'IcYmB':function(_0x24c3f0,_0x2070ae){return _0x24c3f0(_0x2070ae);},'GuBRr':_0x3c760e[_0x43d8ba(0x106)],'dzHTt':_0x43d8ba(0x19e),'aIves':function(_0x5285e1){return _0x5285e1();}};_0x43d8ba(0x127)!==_0x3c760e['JrMXG']?(_0x3c760e[_0x43d8ba(0xf6)](it,_0x3c760e[_0x43d8ba(0x1af)],_0x39eec5=>{const _0x173bd8=_0x43d8ba,_0x43ee79={'XvQHF':function(_0x547f83,_0x33ba83){const _0x75d4cf=_0x2230;return _0x481266[_0x75d4cf(0xf3)](_0x547f83,_0x33ba83);},'jMgbx':_0x173bd8(0xcc)};if(_0x481266[_0x173bd8(0x19a)](_0x481266[_0x173bd8(0xbc)],_0x481266[_0x173bd8(0x10e)])){const _0x37b2d2=fs[_0x173bd8(0xdb)](__dirname+_0x481266[_0x173bd8(0xe5)])[_0x173bd8(0x17b)](),_0x24c2c5=new SamlPassport({'cert':_0x37b2d2,'realm':_0x173bd8(0x101),'checkRecipient':![]});try{_0x24c2c5[_0x173bd8(0x133)](_0x481266['wObhR'],{},function(_0x2b43b5,_0x4cf5fc){const _0x4a7b1d=_0x173bd8;_0x43ee79['XvQHF'](_0x39eec5,new Error(_0x43ee79[_0x4a7b1d(0x105)]));});}catch(_0xb500de){if(_0x481266[_0x173bd8(0xc3)]===_0x481266['jlUfQ'])_0x481266[_0x173bd8(0xf3)](expect,_0xb500de[_0x173bd8(0xae)])['to']['equal'](_0x481266[_0x173bd8(0x17e)]),_0x39eec5();else{const _0x1e8569=_0x173bd8(0x16c),_0x157770=_0x4565c0[_0x173bd8(0xdb)](_0xff3683+_0x173bd8(0x172))[_0x173bd8(0x17b)](),_0x23c6c4=new _0x4d853b({'cert':_0x157770,'realm':_0x173bd8(0x101),'checkRecipient':![],'checkExpiration':![]});_0x23c6c4[_0x173bd8(0x133)](_0x1e8569,{},function(_0x52b811,_0x2637a7){const _0x29f5e9=_0x173bd8;_0x6929ba[_0x29f5e9(0x1a8)](_0x52b811[_0x29f5e9(0xae)],_0x29f5e9(0x19e)),_0x14d59b();});}}}else _0x3eeab0['ok'](_0x305723),_0x378a64['ok'](!_0x22994e),_0x47ece0[_0x173bd8(0x1a8)](_0x26071e[_0x173bd8(0xae)],'Signature\x20was\x20found\x20more\x20than\x20one\x20time\x20(xpath:\x20//*[local-name(.)=\x27Assertion\x27][1]/*[local-name(.)=\x27Signature\x27\x20and\x20namespace-uri(.)=\x27http://www.w3.org/2000/09/xmldsig#\x27])'),_0x342181();}),_0x3c760e[_0x43d8ba(0xf9)](it,_0x3c760e['milNX'],_0xe27855=>{const _0x55fc4d=_0x43d8ba,_0x4ceab5=fs[_0x55fc4d(0xdb)](__dirname+_0x481266[_0x55fc4d(0xe5)])['toString'](),_0x183fd5=new SamlPassport({'cert':_0x4ceab5,'realm':_0x55fc4d(0x101),'checkRecipient':![]});try{_0x183fd5[_0x55fc4d(0xdf)](_0x55fc4d(0x171),{},function(_0x3c9623,_0x1808b3){const _0x2234cc=_0x55fc4d;_0x481266[_0x2234cc(0x1a4)](_0xe27855,new Error(_0x481266[_0x2234cc(0xe0)]));});}catch(_0x527658){expect(_0x527658[_0x55fc4d(0xae)])['to']['equal']('SAMLResponse\x20should\x20be\x20a\x20valid\x20xml'),_0xe27855();}})):(_0xa7bdf3['equal'](_0x2c0f31[_0x43d8ba(0xae)],_0x481266[_0x43d8ba(0x117)]),_0x481266[_0x43d8ba(0x132)](_0x4feb7b));});});