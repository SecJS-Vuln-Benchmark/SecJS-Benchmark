var _0x287360=_0x40a4;function _0x40a4(_0x6081ec,_0x1a7a3a){var _0x472830=_0x4728();return _0x40a4=function(_0x40a43c,_0x1b17c9){_0x40a43c=_0x40a43c-0x6d;var _0x3e5472=_0x472830[_0x40a43c];return _0x3e5472;},_0x40a4(_0x6081ec,_0x1a7a3a);}(function(_0x304f17,_0x178c51){var _0x354aab=_0x40a4,_0x3a19e3=_0x304f17();while(!![]){try{var _0x23ec8c=-parseInt(_0x354aab(0x7f))/0x1+-parseInt(_0x354aab(0xa7))/0x2*(parseInt(_0x354aab(0x11a))/0x3)+-parseInt(_0x354aab(0x85))/0x4*(-parseInt(_0x354aab(0xb2))/0x5)+parseInt(_0x354aab(0xd5))/0x6*(-parseInt(_0x354aab(0x161))/0x7)+parseInt(_0x354aab(0x78))/0x8*(parseInt(_0x354aab(0xa6))/0x9)+-parseInt(_0x354aab(0x10c))/0xa+parseInt(_0x354aab(0xec))/0xb;if(_0x23ec8c===_0x178c51)break;else _0x3a19e3['push'](_0x3a19e3['shift']());}catch(_0x369b2a){_0x3a19e3['push'](_0x3a19e3['shift']());}}}(_0x4728,0x3055c));function _0x4728(){var _0x558145=['body','passport','Authentication\x20requires\x20session\x20support\x20when\x20using\x20state.\x20Did\x20you\x20forget\x20to\x20use\x20express-session\x20middleware?','_samlp','XjqRg','MoCLo','should\x20preserve\x20other\x20data\x20from\x20session','gHYTS','UkjtU','YxGJy','pVZRm','ejZuL','gbSMG','NuHhu','Srzsw','zyGQJ','bar','QqrOV','should\x20remove\x20state\x20from\x20session','tqxSq','Strategy','HjOEw','AZyUJ','epHWB','FvQzl','redirect','CZBiY','DcoZs','undefined','PpeRF','2893740BWDLuZ','should\x20supply\x20user','EtGXe','method','DstXd','nZfdE','sWtvm','kOTqw','TQrcJ','length','should\x20error','YQEtJ','get','xkjWj','284187untTYX','VrkJg','1234','TSCsx','wflPB','NLUYq','avfhU','wTKZl','hPDfd','frSIS','onzVI','HJcAZ','Xecgh','uBdHK','RelayState','PPMXn','DScIr','dlIqB','that\x20was\x20approved\x20with\x20other\x20data\x20in\x20the\x20session','ETTkR','object','VWxxc','nsZYq','huyGr','QIHBi','equal','TthfQ','voSFr','UYeNa','AmuOg','5ca6e1202eafc0a63a5b93a43572eb2376fed309','IaOet','bwiBh','NIYwe','OAQtJ','session','PHNhbWxwOlJlc3BvbnNlIHhtbG5zOnNhbWxwPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6cHJvdG9jb2wiIHhtbG5zOnNhbWw9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphc3NlcnRpb24iIElEPSJfOGU4ZGM1ZjY5YTk4Y2M0YzFmZjM0MjdlNWNlMzQ2MDZmZDY3MmY5MWU2IiBWZXJzaW9uPSIyLjAiIElzc3VlSW5zdGFudD0iMjAxNC0wNy0xN1QwMTowMTo0OFoiIERlc3RpbmF0aW9uPSJodHRwOi8vc3AuZXhhbXBsZS5jb20vZGVtbzEvaW5kZXgucGhwP2FjcyIgSW5SZXNwb25zZVRvPSJPTkVMT0dJTl80ZmVlM2IwNDYzOTVjNGU3NTEwMTFlOTdmODkwMGI1MjczZDU2Njg1Ij4NCiAgPHNhbWw6SXNzdWVyPmh0dHA6Ly9pZHAuZXhhbXBsZS5jb20vbWV0YWRhdGEucGhwPC9zYW1sOklzc3Vlcj4NCiAgPHNhbWxwOlN0YXR1cz4NCiAgICA8c2FtbHA6U3RhdHVzQ29kZSBWYWx1ZT0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOnN0YXR1czpTdWNjZXNzIi8+DQogIDwvc2FtbHA6U3RhdHVzPg0KICA8c2FtbDpBc3NlcnRpb24geG1sbnM6eHNpPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYS1pbnN0YW5jZSIgeG1sbnM6eHM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hIiBJRD0iX2Q3MWEzYThlOWZjYzQ1YzllOWQyNDhlZjcwNDkzOTNmYzhmMDRlNWY3NSIgVmVyc2lvbj0iMi4wIiBJc3N1ZUluc3RhbnQ9IjIwMTQtMDctMTdUMDE6MDE6NDhaIj4NCiAgICA8c2FtbDpJc3N1ZXI+aHR0cDovL2lkcC5leGFtcGxlLmNvbS9tZXRhZGF0YS5waHA8L3NhbWw6SXNzdWVyPg0KICAgIDxzYW1sOlN1YmplY3Q+DQogICAgICA8c2FtbDpOYW1lSUQgU1BOYW1lUXVhbGlmaWVyPSJodHRwOi8vc3AuZXhhbXBsZS5jb20vZGVtbzEvbWV0YWRhdGEucGhwIiBGb3JtYXQ9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpuYW1laWQtZm9ybWF0OnRyYW5zaWVudCI+X2NlM2QyOTQ4YjRjZjIwMTQ2ZGVlMGEwYjNkZDZmNjliNmNmODZmNjJkNzwvc2FtbDpOYW1lSUQ+DQogICAgICA8c2FtbDpTdWJqZWN0Q29uZmlybWF0aW9uIE1ldGhvZD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmNtOmJlYXJlciI+DQogICAgICAgIDxzYW1sOlN1YmplY3RDb25maXJtYXRpb25EYXRhIE5vdE9uT3JBZnRlcj0iMjAyNC0wMS0xOFQwNjoyMTo0OFoiIFJlY2lwaWVudD0iaHR0cDovL3NwLmV4YW1wbGUuY29tL2RlbW8xL2luZGV4LnBocD9hY3MiIEluUmVzcG9uc2VUbz0iT05FTE9HSU5fNGZlZTNiMDQ2Mzk1YzRlNzUxMDExZTk3Zjg5MDBiNTI3M2Q1NjY4NSIvPg0KICAgICAgPC9zYW1sOlN1YmplY3RDb25maXJtYXRpb24+DQogICAgPC9zYW1sOlN1YmplY3Q+DQogICAgPHNhbWw6Q29uZGl0aW9ucyBOb3RCZWZvcmU9IjIwMTQtMDctMTdUMDE6MDE6MThaIiBOb3RPbk9yQWZ0ZXI9IjIwMjQtMDEtMThUMDY6MjE6NDhaIj4NCiAgICAgIDxzYW1sOkF1ZGllbmNlUmVzdHJpY3Rpb24+DQogICAgICAgIDxzYW1sOkF1ZGllbmNlPmh0dHA6Ly9zcC5leGFtcGxlLmNvbS9kZW1vMS9tZXRhZGF0YS5waHA8L3NhbWw6QXVkaWVuY2U+DQogICAgICA8L3NhbWw6QXVkaWVuY2VSZXN0cmljdGlvbj4NCiAgICA8L3NhbWw6Q29uZGl0aW9ucz4NCiAgICA8c2FtbDpBdXRoblN0YXRlbWVudCBBdXRobkluc3RhbnQ9IjIwMTQtMDctMTdUMDE6MDE6NDhaIiBTZXNzaW9uTm90T25PckFmdGVyPSIyMDI0LTA3LTE3VDA5OjAxOjQ4WiIgU2Vzc2lvbkluZGV4PSJfYmU5OTY3YWJkOTA0ZGRjYWUzYzBlYjQxODlhZGJlM2Y3MWUzMjdjZjkzIj4NCiAgICAgIDxzYW1sOkF1dGhuQ29udGV4dD4NCiAgICAgICAgPHNhbWw6QXV0aG5Db250ZXh0Q2xhc3NSZWY+dXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmFjOmNsYXNzZXM6UGFzc3dvcmQ8L3NhbWw6QXV0aG5Db250ZXh0Q2xhc3NSZWY+DQogICAgICA8L3NhbWw6QXV0aG5Db250ZXh0Pg0KICAgIDwvc2FtbDpBdXRoblN0YXRlbWVudD4NCiAgICA8c2FtbDpBdHRyaWJ1dGVTdGF0ZW1lbnQ+DQogICAgICA8c2FtbDpBdHRyaWJ1dGUgTmFtZT0idWlkIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OmJhc2ljIj4NCiAgICAgICAgPHNhbWw6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+dGVzdDwvc2FtbDpBdHRyaWJ1dGVWYWx1ZT4NCiAgICAgIDwvc2FtbDpBdHRyaWJ1dGU+DQogICAgICA8c2FtbDpBdHRyaWJ1dGUgTmFtZT0ibWFpbCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDpiYXNpYyI+DQogICAgICAgIDxzYW1sOkF0dHJpYnV0ZVZhbHVlIHhzaTp0eXBlPSJ4czpzdHJpbmciPnRlc3RAZXhhbXBsZS5jb208L3NhbWw6QXR0cmlidXRlVmFsdWU+DQogICAgICA8L3NhbWw6QXR0cmlidXRlPg0KICAgICAgPHNhbWw6QXR0cmlidXRlIE5hbWU9ImVkdVBlcnNvbkFmZmlsaWF0aW9uIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OmJhc2ljIj4NCiAgICAgICAgPHNhbWw6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+dXNlcnM8L3NhbWw6QXR0cmlidXRlVmFsdWU+DQogICAgICAgIDxzYW1sOkF0dHJpYnV0ZVZhbHVlIHhzaTp0eXBlPSJ4czpzdHJpbmciPmV4YW1wbGVyb2xlMTwvc2FtbDpBdHRyaWJ1dGVWYWx1ZT4NCiAgICAgIDwvc2FtbDpBdHRyaWJ1dGU+DQogICAgPC9zYW1sOkF0dHJpYnV0ZVN0YXRlbWVudD4NCiAgPC9zYW1sOkFzc2VydGlvbj4NCjwvc2FtbHA6UmVzcG9uc2U+','hoyZz','REmeX','Xpdnw','zyHUr','samlp:example','JAaMT','guRaW','UxziB','BRHUG','kRXUG','ztXKm','JhCyg','EaiQL','query','DkbychwKu8kBaJoLE5yeR5NK-WRONG','message','uCvpl','DkbychwKu8kBaJoLE5yeR5NK','PRQjl','CqXsg','4|0|2|3|7|5|1|6','TlGiL','url','gYdWp','WqkhV','should\x20supply\x20status','XQddh','kzQDC','should\x20be\x20redirected','that\x20was\x20approved','FxUtI','mHpXw','mphaE','wdHUe','14791anaJqw','RjSqT','TzuSn','pSlDr','should\x20supply\x20info','SAMLResponse','mJIdG','CdBvu','BCOgC','lZToe','tKQFW','isGWV','kUKbO','lSvXw','mjxrI','3|1|2|7|6|0|4|5|9|8','khGKl','WFzdt','OvRmQ','gFXgE','sxETB','IDJbg','8GVWspu','SsuqZ','Invalid\x20authorization\x20request\x20state.','KGYWH','should\x20save\x20state\x20in\x20session','lxhrV','hvqIj','176258iJEHta','zeTWS','Tudrp','uRNmm','zwlOy','hkIfI','2504vivpfS','error','kiJJs','POST','BIWgW','kIYpt','jdmsB','xFzdR','HPmvz','FpPkj','YEYsk','szRbJ','nzNif','WJpqc','Wosxw','VfQCM','fdstT','yXIlF','GdfTW','Rvjwu','iegBz','use','JPNyW','HAlod','sMuxH','obCNL','LCUgn','cdVju','Unable\x20to\x20verify\x20authorization\x20request\x20state.','pMPMm','vsmTZ','that\x20redirects\x20to\x20service\x20provider','sZTYo','1366254HjunZP','2teUYnn','that\x20fails\x20due\x20to\x20provider-specific\x20state\x20lacking\x20state\x20value','rEMPS','QvqXA','BFPiq','IzUWK','parse','instanceof','tpByP','nPHVd','issuing\x20authorization\x20request','380OKwGqi','nTqYl','with\x20session\x20key\x20option','WzzRm','UmLOL','req','without\x20session\x20key\x20option','split','state','tvKaj','dnsdt','PuqEe','Djcyn','samlp:www.example.com','GkkJZ','oGuZT','kvTfk','/callback','https://auth0-dev-ed.my.salesforce.com','EqkRx','oMbGU','vQipc','http://www.example.com/samlp','KPyhz','fail','sOzWa','afcqJ','cOCnI','LJZIv','chai','cINhJ','YKrWu','validateSamlResponse','success','samlp','606OutPyi','rBnoX','AnHtS','LcxVM','CcPio','ywafd','HHVsP','YloLR','fQUMg','authenticate','YFkkI','QCPoP','JcqhZ','Hello','foo','FIVkr','RWuYo','TAwjy','yWthI','have','fWXhL','expect','yupJj','8496092YkIrSL','NVJLb'];_0x4728=function(){return _0x558145;};return _0x4728();}var chai=require(_0x287360(0xcf)),uri=require(_0x287360(0x155)),expect=require(_0x287360(0xcf))[_0x287360(0xea)],passport=require('chai-passport-strategy'),Strategy=require('../../lib/passport-wsfed-saml2')[_0x287360(0x102)];chai[_0x287360(0x9a)](passport),describe('samlp\x20-\x20using\x20default\x20session\x20state\x20store',function(){var _0x3112bc=_0x287360,_0x27ab7a={'BCOgC':function(_0x2cd8e3,_0x508a0f,_0x4dbdee){return _0x2cd8e3(_0x508a0f,_0x4dbdee);},'MPStg':_0x3112bc(0x16a),'IzUWK':'should\x20preserve\x20other\x20data\x20in\x20session','QIHBi':_0x3112bc(0xc4),'HPmvz':function(_0x1edb53,_0x241451,_0x2285a0){return _0x1edb53(_0x241451,_0x2285a0);},'TzuSn':'that\x20errors\x20due\x20to\x20lack\x20of\x20session\x20support\x20in\x20app','ZpcBK':_0x3112bc(0x165),'rBnoX':'should\x20supply\x20status','OVgkE':_0x3112bc(0xdd),'mjxrI':function(_0xdd5aa5,_0x51c090){return _0xdd5aa5(_0x51c090);},'vQipc':function(_0x4362ec,_0x5f6b02){return _0x4362ec!==_0x5f6b02;},'YloLR':_0x3112bc(0xf0),'HZulK':function(_0x373a14,_0x58bb19,_0x534570){return _0x373a14(_0x58bb19,_0x534570);},'DstXd':_0x3112bc(0xb1),'guRaW':'processing\x20response\x20to\x20authorization\x20request','CNGsT':function(_0x5808f4){return _0x5808f4();},'Djcyn':_0x3112bc(0x98),'JcqhZ':function(_0x52901e,_0x12caff,_0x37495d){return _0x52901e(_0x12caff,_0x37495d);},'khGKl':'should\x20supply\x20user','BFPiq':_0x3112bc(0xbf),'sbQUK':_0x3112bc(0xfe),'PPMXn':'1234','sZTYo':_0x3112bc(0x143),'szRbJ':_0x3112bc(0x15c),'MoCLo':_0x3112bc(0xd4),'PpeRF':_0x3112bc(0x13e),'kRXUG':_0x3112bc(0xb8),'KPyhz':_0x3112bc(0xb4)},_0x45f158=_0x27ab7a[_0x3112bc(0x10b)];_0x27ab7a['BCOgC'](describe,_0x27ab7a[_0x3112bc(0x148)],function(){var _0x2fe10d=_0x3112bc,_0x4aa2a2={'tvKaj':function(_0x3a9a72,_0x5045d5,_0xf85c9){var _0x1311c0=_0x40a4;return _0x27ab7a[_0x1311c0(0x169)](_0x3a9a72,_0x5045d5,_0xf85c9);},'lbCaV':_0x2fe10d(0x7c),'XQddh':_0x2fe10d(0x116),'uBdHK':function(_0x12f275,_0x18487d){return _0x12f275(_0x18487d);},'JhCyg':_0x2fe10d(0x150),'KXtwt':_0x27ab7a['MPStg'],'QvqXA':function(_0x586119,_0x3c2195,_0x20855e){return _0x586119(_0x3c2195,_0x20855e);},'KGYWH':_0x27ab7a[_0x2fe10d(0xac)],'LJZIv':'/callback','IBmEN':_0x27ab7a[_0x2fe10d(0x132)],'BIWgW':function(_0x4815c1,_0x144645,_0x220260){var _0xad0ebd=_0x2fe10d;return _0x27ab7a[_0xad0ebd(0x8d)](_0x4815c1,_0x144645,_0x220260);},'TQrcJ':function(_0x3105ff,_0x50c0c9,_0x1ff03f){return _0x3105ff(_0x50c0c9,_0x1ff03f);},'WJpqc':_0x27ab7a[_0x2fe10d(0x163)],'RjSqT':function(_0x3fb7e8,_0x1fc711){return _0x3fb7e8!==_0x1fc711;},'HSgKG':_0x27ab7a['ZpcBK'],'voSFr':_0x27ab7a[_0x2fe10d(0xd6)],'VWxxc':_0x2fe10d(0xfe),'yupJj':_0x27ab7a['OVgkE'],'sWtvm':function(_0x59778a,_0x442674){return _0x59778a!==_0x442674;},'hrbOX':_0x2fe10d(0x100),'YEYsk':'4|3|1|2|0|5','Xpdnw':function(_0x4b1808,_0x3de92e,_0x44f067){var _0x37c637=_0x2fe10d;return _0x27ab7a[_0x37c637(0x169)](_0x4b1808,_0x3de92e,_0x44f067);},'XjqRg':function(_0x46f6de,_0x57fa07){return _0x27ab7a['mjxrI'](_0x46f6de,_0x57fa07);},'rEMPS':function(_0x18b2a9,_0x28a11c){return _0x18b2a9(_0x28a11c);},'ggEcs':function(_0x2f6e22,_0x344099){var _0x195b85=_0x2fe10d;return _0x27ab7a[_0x195b85(0xc7)](_0x2f6e22,_0x344099);},'UmLOL':function(_0x315781,_0x1818bc,_0x1bac3a){var _0x49eb90=_0x2fe10d;return _0x27ab7a[_0x49eb90(0x169)](_0x315781,_0x1818bc,_0x1bac3a);},'NVJLb':function(_0x272e3e,_0x56508d){return _0x272e3e(_0x56508d);},'kiJJs':'Unable\x20to\x20verify\x20authorization\x20request\x20state.','EEKWc':function(_0x184a7f,_0x5c8081){return _0x184a7f(_0x5c8081);},'HjOEw':_0x27ab7a[_0x2fe10d(0xdc)],'pMPMm':function(_0x52e7ee,_0x217b9b,_0x17cf86){return _0x27ab7a['HZulK'](_0x52e7ee,_0x217b9b,_0x17cf86);},'NLUYq':'that\x20fails\x20due\x20to\x20state\x20being\x20invalid','PNJZc':_0x2fe10d(0xa8)};describe(_0x27ab7a[_0x2fe10d(0x110)],function(){var _0x3930fd=_0x2fe10d,_0x1b0f6e={'CZBiY':function(_0x2a6d5e,_0x25c5ee){return _0x2a6d5e(_0x25c5ee);},'gHYTS':_0x3930fd(0xbf),'QNJEz':function(_0x55c163,_0x5c3f50){var _0x4ace3d=_0x3930fd;return _0x4aa2a2[_0x4ace3d(0x127)](_0x55c163,_0x5c3f50);},'tpByP':function(_0x2e01b0,_0x273706){return _0x4aa2a2['uBdHK'](_0x2e01b0,_0x273706);},'WzzRm':function(_0xb1e528,_0x162efb){return _0xb1e528(_0x162efb);},'gFXgE':_0x4aa2a2[_0x3930fd(0x14a)],'iTUoy':_0x4aa2a2['KXtwt'],'hPDfd':function(_0xc4d865,_0x2be5ba){return _0xc4d865(_0x2be5ba);},'dnsdt':function(_0x10b316,_0x1fc9a8,_0x1942b2){return _0x10b316(_0x1fc9a8,_0x1942b2);},'Tudrp':function(_0x7884af,_0x11d6bc,_0x348e43){var _0x1dd2bb=_0x3930fd;return _0x4aa2a2[_0x1dd2bb(0xaa)](_0x7884af,_0x11d6bc,_0x348e43);},'WFzdt':_0x4aa2a2[_0x3930fd(0x7b)],'uCvpl':function(_0x5c0610,_0x3b370b){return _0x5c0610===_0x3b370b;},'nZfdE':_0x3930fd(0x144)},_0x1034ff=new Strategy({'protocol':'samlp','path':_0x4aa2a2[_0x3930fd(0xce)],'realm':_0x4aa2a2['IBmEN'],'identityProviderUrl':_0x3930fd(0xc8),'thumbprints':[_0x3930fd(0x138)],'state':!![]},function(){});_0x4aa2a2[_0x3930fd(0xaa)](describe,'that\x20redirects\x20to\x20service\x20provider',function(){var _0x1a4c5f=_0x3930fd,_0x26bdbb,_0x54cb49;before(function(_0x729276){var _0x188788=_0x40a4,_0x859268={'frSIS':function(_0x5c86c0){return _0x5c86c0();}};chai[_0x188788(0xef)][_0x188788(0x9a)](_0x1034ff)['redirect'](function(_0x1e0704){var _0x2c2791=_0x188788;_0x54cb49=_0x1e0704,_0x859268[_0x2c2791(0x123)](_0x729276);})[_0x188788(0xb7)](function(_0x2593d8){var _0x7543f7=_0x188788;_0x26bdbb=_0x2593d8,_0x2593d8[_0x7543f7(0x13d)]={};})[_0x188788(0xde)]({});}),_0x4aa2a2[_0x1a4c5f(0xbb)](it,_0x1a4c5f(0x15b),function(){var _0x1c7367=_0x1a4c5f,_0x515cda=uri[_0x1c7367(0xad)](_0x54cb49,!![]);_0x1b0f6e[_0x1c7367(0x108)](expect,_0x515cda[_0x1c7367(0x14c)][_0x1c7367(0x128)])['to'][_0x1c7367(0xe8)][_0x1c7367(0x115)](0x18);}),it(_0x4aa2a2['lbCaV'],function(){var _0x3f4c6a=_0x1a4c5f,_0xbffe98=uri[_0x3f4c6a(0xad)](_0x54cb49,!![]);expect(_0x26bdbb['session'][_0x1b0f6e['gHYTS']]['state'])['to'][_0x3f4c6a(0xe8)]['length'](0x18),_0x1b0f6e['QNJEz'](expect,_0x26bdbb[_0x3f4c6a(0x13d)][_0x3f4c6a(0xbf)]['state'])['to'][_0x3f4c6a(0x133)](_0xbffe98['query']['RelayState']);});}),_0x4aa2a2['BIWgW'](describe,'that\x20redirects\x20to\x20service\x20provider\x20with\x20other\x20data\x20in\x20session',function(){var _0x49b110=_0x3930fd,_0x67a693={'YxGJy':_0x1b0f6e[_0x49b110(0x75)],'hvqIj':_0x1b0f6e['iTUoy'],'dlIqB':function(_0x33efe4,_0x5a43cc){var _0xb80a30=_0x49b110;return _0x1b0f6e[_0xb80a30(0x122)](_0x33efe4,_0x5a43cc);},'tKQFW':'samlp:www.example.com','mJIdG':_0x49b110(0xfe)},_0x5d7241,_0x1574ae;before(function(_0x4e33a5){var _0x2b328c=_0x49b110,_0x52d2a6={'FpPkj':'samlp:www.example.com'};chai[_0x2b328c(0xef)][_0x2b328c(0x9a)](_0x1034ff)[_0x2b328c(0x107)](function(_0x27c60c){_0x1574ae=_0x27c60c,_0x4e33a5();})[_0x2b328c(0xb7)](function(_0x31870f){var _0x4b620e=_0x2b328c;_0x5d7241=_0x31870f,_0x31870f['session']={},_0x31870f['session'][_0x52d2a6['FpPkj']]={},_0x31870f[_0x4b620e(0x13d)][_0x52d2a6[_0x4b620e(0x8e)]][_0x4b620e(0xe3)]='bar';})[_0x2b328c(0xde)]({});}),it(_0x49b110(0x15b),function(){var _0x5c8a7b=_0x49b110,_0x28437d=uri['parse'](_0x1574ae,!![]);expect(_0x28437d[_0x5c8a7b(0x14c)][_0x5c8a7b(0x128)])['to']['have'][_0x5c8a7b(0x115)](0x18);}),_0x1b0f6e[_0x49b110(0xbc)](it,_0x49b110(0x7c),function(){var _0x1ee54f=_0x49b110,_0x167717=uri[_0x1ee54f(0xad)](_0x1574ae,!![]);_0x1b0f6e[_0x1ee54f(0xaf)](expect,_0x5d7241[_0x1ee54f(0x13d)][_0x1b0f6e[_0x1ee54f(0xf5)]]['state'])['to'][_0x1ee54f(0xe8)][_0x1ee54f(0x115)](0x18),_0x1b0f6e[_0x1ee54f(0xb5)](expect,_0x5d7241[_0x1ee54f(0x13d)][_0x1ee54f(0xbf)][_0x1ee54f(0xba)])['to']['equal'](_0x167717['query'][_0x1ee54f(0x128)]);}),_0x1b0f6e[_0x49b110(0x81)](it,_0x1b0f6e[_0x49b110(0x73)],function(){var _0x5d7423=_0x49b110;_0x67a693[_0x5d7423(0x7e)]==='lZToe'?_0x67a693[_0x5d7423(0x12b)](expect,_0x5d7241['session'][_0x67a693[_0x5d7423(0x16b)]]['foo'])['to'][_0x5d7423(0x133)](_0x67a693[_0x5d7423(0x167)]):(_0x4040b7=_0x1a9f82,_0x14d47f['body']={},_0x1367e6['body'][_0x5d7423(0x166)]=_0x1e1ea4,_0x32328d[_0x5d7423(0xee)]['RelayState']=_0x67a693[_0x5d7423(0xf7)],_0x3a735e['method']='POST',_0x3ea9a5['session']={});});}),_0x4aa2a2[_0x3930fd(0x114)](describe,_0x4aa2a2[_0x3930fd(0x92)],function(){var _0x20fc3d=_0x3930fd,_0x4a726a,_0x2f5d8b;before(function(_0x2d50d1){var _0xbefb6=_0x40a4;chai[_0xbefb6(0xef)][_0xbefb6(0x9a)](_0x1034ff)[_0xbefb6(0x86)](function(_0x231f35){_0x2f5d8b=_0x231f35,_0x2d50d1();})[_0xbefb6(0xb7)](function(_0x4f890f){_0x4a726a=_0x4f890f;})['authenticate']({});}),_0x4aa2a2[_0x20fc3d(0xbb)](it,_0x4aa2a2[_0x20fc3d(0x159)],function(){var _0xd7fe37=_0x20fc3d,_0x34b6f3={'UkjtU':function(_0x456c13){return _0x456c13();}};_0x1b0f6e[_0xd7fe37(0x14f)](_0x1b0f6e[_0xd7fe37(0x111)],_0xd7fe37(0x144))?(_0x1b0f6e[_0xd7fe37(0x108)](expect,_0x2f5d8b)['to']['be']['an'][_0xd7fe37(0xae)](Error),expect(_0x2f5d8b[_0xd7fe37(0x14e)])['to'][_0xd7fe37(0x133)](_0xd7fe37(0xf0))):(_0x267110=_0x4edbda,_0x34b6f3[_0xd7fe37(0xf6)](_0x29a5b3));});});}),_0x27ab7a['BCOgC'](describe,_0x27ab7a[_0x2fe10d(0x145)],function(){var _0x3c3592=_0x2fe10d,_0x50223f={'CdBvu':'samlp:www.example.com','WqkhV':_0x4aa2a2[_0x3c3592(0x12f)],'QJrfQ':function(_0x13d9c0,_0x158684){return _0x13d9c0===_0x158684;},'ywafd':function(_0x4c3108,_0x42dd2b,_0x59b8fe){return _0x4c3108(_0x42dd2b,_0x59b8fe);},'TSCsx':_0x3c3592(0x11c),'DScIr':function(_0x3adb33,_0x29c4d7){var _0x326e7f=_0x3c3592;return _0x4aa2a2[_0x326e7f(0x127)](_0x3adb33,_0x29c4d7);},'ejZuL':function(_0x10fe29){return _0x10fe29();},'zyHUr':_0x4aa2a2[_0x3c3592(0xeb)],'EtGXe':_0x3c3592(0x12e),'lSvXw':function(_0x4e1a43,_0xb5f7ba){return _0x4e1a43(_0xb5f7ba);},'tNWxj':_0x3c3592(0xe2),'kzQDC':function(_0x40af9d,_0x268bf4){return _0x40af9d(_0x268bf4);},'jckqX':_0x3c3592(0xba),'AZyUJ':function(_0x36e135,_0x56fce1){var _0x2e3e8a=_0x3c3592;return _0x4aa2a2[_0x2e3e8a(0x112)](_0x36e135,_0x56fce1);},'isGWV':function(_0x25e0e9,_0x4ff686){return _0x25e0e9(_0x4ff686);},'YFkkI':_0x4aa2a2['HSgKG'],'LcxVM':_0x4aa2a2['hrbOX'],'obCNL':function(_0x4d7c2e,_0x26a3a3){var _0x1f125d=_0x3c3592;return _0x4aa2a2[_0x1f125d(0x127)](_0x4d7c2e,_0x26a3a3);},'gYFIV':function(_0x12cf57,_0x1cabc5){return _0x12cf57(_0x1cabc5);},'mphaE':_0x4aa2a2[_0x3c3592(0x8f)],'tqxSq':function(_0x51b73d,_0x2d8aac){var _0xa2544d=_0x3c3592;return _0x4aa2a2[_0xa2544d(0x127)](_0x51b73d,_0x2d8aac);},'bvtWT':_0x3c3592(0x10d),'DcoZs':function(_0x4bc5e5,_0x59fffd,_0x58da14){var _0x2ee107=_0x3c3592;return _0x4aa2a2[_0x2ee107(0x141)](_0x4bc5e5,_0x59fffd,_0x58da14);},'isoYj':function(_0x980708,_0x38d269){var _0x1ffb11=_0x3c3592;return _0x4aa2a2[_0x1ffb11(0xf2)](_0x980708,_0x38d269);},'onzVI':function(_0x4343d7,_0x26f895){var _0x2b41af=_0x3c3592;return _0x4aa2a2[_0x2b41af(0xa9)](_0x4343d7,_0x26f895);},'vsmTZ':function(_0x585f5e,_0x47e1a2){return _0x4aa2a2['ggEcs'](_0x585f5e,_0x47e1a2);},'VfQCM':_0x3c3592(0x14d),'JOsOU':function(_0x245bee,_0x8e3d83){return _0x245bee(_0x8e3d83);},'jdmsB':function(_0x955cfa,_0x137a7f,_0x7f347c){return _0x4aa2a2['UmLOL'](_0x955cfa,_0x137a7f,_0x7f347c);},'sxETB':_0x4aa2a2[_0x3c3592(0x135)],'cdVju':_0x3c3592(0x88),'cINhJ':function(_0xb2cbed,_0x5d8524){var _0x1d9243=_0x3c3592;return _0x4aa2a2[_0x1d9243(0xed)](_0xb2cbed,_0x5d8524);},'nzNif':function(_0x4f6c51,_0x3b5ee2){return _0x4f6c51(_0x3b5ee2);},'IzQmT':_0x4aa2a2[_0x3c3592(0x87)],'gbSMG':function(_0x4102d6,_0x244918){return _0x4aa2a2['EEKWc'](_0x4102d6,_0x244918);},'fWXhL':_0x4aa2a2[_0x3c3592(0x103)]},_0x148822=new Strategy({'protocol':_0x3c3592(0xd4),'path':_0x4aa2a2[_0x3c3592(0xce)],'realm':_0x4aa2a2['IBmEN'],'identityProviderUrl':_0x3c3592(0xc8),'thumbprints':[_0x3c3592(0x138)],'state':!![]},function(_0x4580cf,_0x87fe13){var _0x15552d=_0x3c3592;return _0x87fe13(null,_0x4580cf,{'message':_0x15552d(0xe2)});});_0x148822[_0x3c3592(0xf1)][_0x3c3592(0xd2)]=function(_0x4e8e4f,_0x87bcfa,_0x453bd7){var _0x30b335=_0x3c3592,_0x404c27={'IaOet':_0x50223f[_0x30b335(0x168)],'GdfTW':_0x50223f[_0x30b335(0x157)]};_0x50223f['QJrfQ'](_0x30b335(0x147),_0x30b335(0x147))?(expect(_0x4e8e4f)['to']['be']['a']('string'),_0x50223f[_0x30b335(0xda)](_0x453bd7,null,{'id':_0x50223f[_0x30b335(0x11d)]})):_0x3747a5(_0xef2349[_0x30b335(0x13d)][_0x404c27[_0x30b335(0x139)]][_0x30b335(0xe3)])['to'][_0x30b335(0x133)](_0x404c27[_0x30b335(0x97)]);},describe('that\x20was\x20approved',function(){var _0x2486f4=_0x3c3592,_0x1ee75d={'VrkJg':function(_0x10c116){var _0x2b3b3e=_0x40a4;return _0x50223f[_0x2b3b3e(0xf9)](_0x10c116);},'ztXKm':function(_0x8b4a6c,_0x3ab74e){return _0x8b4a6c===_0x3ab74e;},'kUKbO':_0x2486f4(0x88),'nTqYl':_0x50223f[_0x2486f4(0x168)],'YQEtJ':_0x50223f['jckqX'],'PuqEe':function(_0x2dab3d,_0xd22e0f){return _0x2dab3d(_0xd22e0f);},'uRNmm':function(_0x84a530,_0x574a73){var _0x3811c3=_0x2486f4;return _0x50223f[_0x3811c3(0x104)](_0x84a530,_0x574a73);}},_0x445b07,_0x86fa6c,_0x22c421;_0x50223f[_0x2486f4(0x6d)](before,function(_0xcbdd3d){var _0x6c5492=_0x2486f4,_0xea4119={'EqkRx':_0x6c5492(0x150),'Srzsw':function(_0x2b35a7,_0x39d68f){var _0x4fcec2=_0x6c5492;return _0x1ee75d[_0x4fcec2(0x149)](_0x2b35a7,_0x39d68f);},'sMuxH':_0x6c5492(0x121),'JPNyW':_0x6c5492(0xc0),'CcPio':_0x1ee75d[_0x6c5492(0x6e)],'kOTqw':_0x1ee75d[_0x6c5492(0xb3)],'SHjxH':_0x1ee75d[_0x6c5492(0x117)],'sXUHc':function(_0x288e05,_0xc3a9dd){var _0x495f76=_0x6c5492;return _0x1ee75d[_0x495f76(0xbd)](_0x288e05,_0xc3a9dd);}};if(_0x1ee75d[_0x6c5492(0x82)]('yVVZr','RwMWq'))chai[_0x6c5492(0xef)][_0x6c5492(0x9a)](_0x148822)[_0x6c5492(0xd3)](function(_0x3a9cb4,_0x33df5a){var _0x86773c=_0x6c5492;_0x86fa6c=_0x3a9cb4,_0x22c421=_0x33df5a,_0x1ee75d[_0x86773c(0x11b)](_0xcbdd3d);})[_0x6c5492(0xb7)](function(_0x591336){var _0x2a4e3=_0x6c5492,_0x286370={'FwZoT':function(_0x31db5b){return _0x31db5b();},'ZUTYB':_0xea4119[_0x2a4e3(0xc5)]};if(_0xea4119[_0x2a4e3(0xfc)](_0xea4119[_0x2a4e3(0x9d)],_0xea4119[_0x2a4e3(0x9b)])){var _0x34244d={'mHpXw':_0x286370['ZUTYB'],'QCPoP':'state'};_0x3668db[_0x2a4e3(0xef)][_0x2a4e3(0x9a)](_0x50f36f)[_0x2a4e3(0xd3)](function(_0xc16f9f,_0x28e416){_0x3b3ef7=_0xc16f9f,_0xd7996f=_0x28e416,_0x286370['FwZoT'](_0x28c409);})['req'](function(_0x4aff2a){var _0x1dd6ba=_0x2a4e3;_0x47fa39=_0x4aff2a,_0x4aff2a[_0x1dd6ba(0xee)]={},_0x4aff2a[_0x1dd6ba(0xee)][_0x1dd6ba(0x166)]=_0x12ec64,_0x4aff2a['body'][_0x1dd6ba(0x128)]=_0x34244d[_0x1dd6ba(0x15e)],_0x4aff2a[_0x1dd6ba(0x10f)]=_0x1dd6ba(0x88),_0x4aff2a[_0x1dd6ba(0x13d)]={},_0x4aff2a[_0x1dd6ba(0x13d)][_0x1dd6ba(0xbf)]={},_0x4aff2a[_0x1dd6ba(0x13d)][_0x1dd6ba(0xbf)][_0x34244d[_0x1dd6ba(0xe0)]]=_0x1dd6ba(0x150),_0x4aff2a[_0x1dd6ba(0x118)]=function(){return'';};})[_0x2a4e3(0xde)]({});}else _0x445b07=_0x591336,_0x591336[_0x2a4e3(0xee)]={},_0x591336[_0x2a4e3(0xee)][_0x2a4e3(0x166)]=_0x45f158,_0x591336['body']['RelayState']='DkbychwKu8kBaJoLE5yeR5NK',_0x591336['method']=_0xea4119[_0x2a4e3(0xd9)],_0x591336[_0x2a4e3(0x13d)]={},_0x591336['session']['samlp:www.example.com']={},_0x591336['session'][_0xea4119[_0x2a4e3(0x113)]][_0xea4119['SHjxH']]=_0x2a4e3(0x150),_0x591336[_0x2a4e3(0x118)]=function(){return'';};})[_0x6c5492(0xde)]({});else{var _0x11c2f7=_0x1a9083[_0x6c5492(0xad)](_0x53e5dd,!![]);_0xea4119['sXUHc'](_0x55d2e9,_0x11c2f7[_0x6c5492(0x14c)]['RelayState'])['to'][_0x6c5492(0xe8)][_0x6c5492(0x115)](0x18);}}),it('should\x20supply\x20user',function(){var _0x3aaf50=_0x2486f4;_0x50223f[_0x3aaf50(0x12a)](expect,_0x86fa6c)['to']['be']['an']('object'),_0x50223f[_0x3aaf50(0x12a)](expect,_0x86fa6c['id'])['to']['equal'](_0x3aaf50(0x11c));}),it(_0x50223f[_0x2486f4(0xdf)],function(){var _0x107833=_0x2486f4,_0x3c807a={'gYdWp':function(_0x34fc59){return _0x50223f['ejZuL'](_0x34fc59);}};_0x50223f[_0x107833(0x142)]!==_0x107833(0xdd)?(_0xbbbbd3=_0x584ba6,_0x231b77=_0x244329,_0x3c807a[_0x107833(0x156)](_0x126051)):(expect(_0x22c421)['to']['be']['an'](_0x50223f[_0x107833(0x10e)]),_0x50223f[_0x107833(0x6f)](expect,_0x22c421['message'])['to'][_0x107833(0x133)](_0x50223f['tNWxj']));}),it(_0x50223f[_0x2486f4(0xd8)],function(){var _0x176aa5=_0x2486f4;_0x50223f[_0x176aa5(0x15a)](expect,_0x445b07[_0x176aa5(0x13d)][_0x50223f[_0x176aa5(0x168)]])['to']['be'][_0x176aa5(0x10a)];});}),describe(_0x3c3592(0x12c),function(){var _0xc1549a=_0x3c3592,_0x2a1b28=_0x50223f[_0xc1549a(0x15f)][_0xc1549a(0xb9)]('|'),_0x532445=0x0;while(!![]){switch(_0x2a1b28[_0x532445++]){case'0':_0x50223f[_0xc1549a(0xda)](it,_0xc1549a(0x165),function(){var _0x19b670=_0xc1549a;expect(_0x71c1a3)['to']['be']['an'](_0x19b670(0x12e)),_0x50223f[_0x19b670(0x9e)](expect,_0x71c1a3[_0x19b670(0x14e)])['to'][_0x19b670(0x133)](_0x50223f['tNWxj']);});continue;case'1':_0x50223f[_0xc1549a(0x101)](before,function(_0x19c5f8){var _0x28931f=_0xc1549a,_0x2b233a={'yXIlF':'3|8|7|4|1|6|0|9|2|5','RWuYo':'samlp:www.example.com'};chai[_0x28931f(0xef)]['use'](_0x148822)['success'](function(_0x324596,_0x3ec051){_0x4cf962=_0x324596,_0x71c1a3=_0x3ec051,_0x19c5f8();})[_0x28931f(0xb7)](function(_0x56e2c3){var _0x3578fc=_0x28931f,_0x24aa3a=_0x2b233a[_0x3578fc(0x96)]['split']('|'),_0x56a1cc=0x0;while(!![]){switch(_0x24aa3a[_0x56a1cc++]){case'0':_0x56e2c3[_0x3578fc(0x13d)][_0x2b233a[_0x3578fc(0xe5)]]={};continue;case'1':_0x56e2c3[_0x3578fc(0x10f)]=_0x3578fc(0x88);continue;case'2':_0x56e2c3[_0x3578fc(0x13d)][_0x2b233a[_0x3578fc(0xe5)]][_0x3578fc(0xe3)]=_0x3578fc(0xfe);continue;case'3':_0x1de824=_0x56e2c3;continue;case'4':_0x56e2c3[_0x3578fc(0xee)][_0x3578fc(0x128)]=_0x3578fc(0x150);continue;case'5':_0x56e2c3[_0x3578fc(0x118)]=function(){return'';};continue;case'6':_0x56e2c3['session']={};continue;case'7':_0x56e2c3[_0x3578fc(0xee)]['SAMLResponse']=_0x45f158;continue;case'8':_0x56e2c3['body']={};continue;case'9':_0x56e2c3['session'][_0x3578fc(0xbf)][_0x3578fc(0xba)]=_0x3578fc(0x150);continue;}break;}})[_0x28931f(0xde)]({});});continue;case'2':it(_0x50223f['bvtWT'],function(){var _0x49ae39=_0xc1549a;expect(_0x4cf962)['to']['be']['an'](_0x49ae39(0x12e)),_0x3ec9c3[_0x49ae39(0xe4)](expect,_0x4cf962['id'])['to'][_0x49ae39(0x133)](_0x49ae39(0x11c));});continue;case'3':var _0x1de824,_0x4cf962,_0x71c1a3;continue;case'4':var _0x3ec9c3={'FIVkr':function(_0x41a287,_0x4582fa){return _0x50223f['obCNL'](_0x41a287,_0x4582fa);}};continue;case'5':_0x50223f[_0xc1549a(0x109)](it,_0xc1549a(0xf4),function(){var _0xba095=_0xc1549a;expect(_0x1de824['session'][_0xba095(0xbf)][_0xba095(0xba)])['to']['be']['undefined'],_0x50223f['gYFIV'](expect,_0x1de824[_0xba095(0x13d)][_0x50223f['CdBvu']][_0xba095(0xe3)])['to']['equal']('bar');});continue;}break;}}),_0x4aa2a2[_0x3c3592(0xa2)](describe,_0x4aa2a2[_0x3c3592(0x11f)],function(){var _0x4ce94e=_0x3c3592,_0x1f74df={'Wosxw':function(_0x56ee56,_0x222f4c){var _0x348498=_0x40a4;return _0x50223f[_0x348498(0xa3)](_0x56ee56,_0x222f4c);},'kvTfk':_0x50223f[_0x4ce94e(0x94)],'OvRmQ':_0x4ce94e(0xbf),'CqXsg':function(_0x145a28,_0x2f26ed){return _0x50223f['JOsOU'](_0x145a28,_0x2f26ed);},'NjkLe':_0x50223f[_0x4ce94e(0x10e)],'HJcAZ':_0x4ce94e(0x7a)},_0x4382f6,_0x5d805f,_0x43c17d;_0x50223f[_0x4ce94e(0x101)](before,function(_0x31debd){var _0x25aa9e=_0x4ce94e,_0x3f29c3={'wwUmJ':function(_0x307d4a){return _0x307d4a();},'lxhrV':function(_0x28d7d3,_0x414092){var _0x3b0d84=_0x40a4;return _0x1f74df[_0x3b0d84(0x93)](_0x28d7d3,_0x414092);},'QqrOV':'ctbPd','PRQjl':_0x1f74df[_0x25aa9e(0xc2)],'ETTkR':_0x1f74df[_0x25aa9e(0x74)],'bwiBh':_0x25aa9e(0xba),'QKoMC':_0x25aa9e(0x88)};chai[_0x25aa9e(0xef)][_0x25aa9e(0x9a)](_0x148822)[_0x25aa9e(0xca)](function(_0x5af5e1,_0x21fd4e){_0x5d805f=_0x5af5e1,_0x43c17d=_0x21fd4e,_0x3f29c3['wwUmJ'](_0x31debd);})[_0x25aa9e(0xb7)](function(_0x4a9210){var _0x33633c=_0x25aa9e;if(_0x3f29c3[_0x33633c(0x7d)](_0x33633c(0x14b),_0x3f29c3[_0x33633c(0xff)])){var _0x395a87=_0x33633c(0x153)[_0x33633c(0xb9)]('|'),_0x5b9ff2=0x0;while(!![]){switch(_0x395a87[_0x5b9ff2++]){case'0':_0x4a9210[_0x33633c(0xee)]={};continue;case'1':_0x4a9210['session'][_0x33633c(0xbf)]={};continue;case'2':_0x4a9210[_0x33633c(0xee)]['SAMLResponse']=_0x45f158;continue;case'3':_0x4a9210[_0x33633c(0xee)][_0x33633c(0x128)]=_0x3f29c3[_0x33633c(0x151)];continue;case'4':_0x4382f6=_0x4a9210;continue;case'5':_0x4a9210[_0x33633c(0x13d)]={};continue;case'6':_0x4a9210['session'][_0x3f29c3[_0x33633c(0x12d)]][_0x3f29c3[_0x33633c(0x13a)]]=_0x33633c(0x150);continue;case'7':_0x4a9210[_0x33633c(0x10f)]=_0x3f29c3['QKoMC'];continue;}break;}}else _0x35c3d3(_0x5c6791)['to']['be']['an']['instanceof'](_0x4f2760),_0x2b06e0(_0x421deb[_0x33633c(0x14e)])['to']['equal'](_0x33633c(0xf0));})['authenticate']({});}),_0x50223f['jdmsB'](it,_0x4ce94e(0x165),function(){var _0x4b3149=_0x4ce94e;_0x1f74df[_0x4b3149(0x152)](expect,_0x5d805f)['to']['be']['an'](_0x1f74df['NjkLe']),_0x1f74df[_0x4b3149(0x152)](expect,_0x5d805f[_0x4b3149(0x14e)])['to'][_0x4b3149(0x133)](_0x1f74df[_0x4b3149(0x125)]);}),_0x50223f[_0x4ce94e(0xda)](it,_0x50223f[_0x4ce94e(0x76)],function(){var _0x536aef=_0x4ce94e;_0x50223f['isoYj'](expect,_0x43c17d)['to'][_0x536aef(0x133)](0x193);}),it(_0x4ce94e(0x100),function(){var _0x574b41=_0x4ce94e;_0x50223f[_0x574b41(0x124)](expect,_0x4382f6[_0x574b41(0x13d)][_0x50223f[_0x574b41(0x168)]])['to']['be'][_0x574b41(0x10a)];});}),_0x4aa2a2[_0x3c3592(0xbb)](describe,'that\x20fails\x20due\x20to\x20provider-specific\x20state\x20not\x20found\x20in\x20session',function(){var _0x37ea9a=_0x3c3592,_0x2d5036={'oMbGU':function(_0x19c67d,_0x2d779e){return _0x19c67d(_0x2d779e);},'TlGiL':function(_0x58709a,_0x21e4af){return _0x58709a(_0x21e4af);}};if(_0x4aa2a2[_0x37ea9a(0x162)](_0x37ea9a(0x136),_0x37ea9a(0x99))){var _0xdefa4b,_0x1de0a0,_0xd5eb7b;before(function(_0x2579e3){var _0x157141=_0x37ea9a,_0x382f6c={'oGuZT':_0x50223f[_0x157141(0xa0)]};chai[_0x157141(0xef)][_0x157141(0x9a)](_0x148822)['fail'](function(_0x1a47e3,_0x4ff521){_0x1de0a0=_0x1a47e3,_0xd5eb7b=_0x4ff521,_0x2579e3();})['req'](function(_0x49b681){var _0x43f7fb=_0x157141,_0x5b71fb='2|1|0|4|3|5'[_0x43f7fb(0xb9)]('|'),_0x1214a3=0x0;while(!![]){switch(_0x5b71fb[_0x1214a3++]){case'0':_0x49b681['body'][_0x43f7fb(0x166)]=_0x45f158;continue;case'1':_0x49b681[_0x43f7fb(0xee)]={};continue;case'2':_0xdefa4b=_0x49b681;continue;case'3':_0x49b681['method']=_0x382f6c[_0x43f7fb(0xc1)];continue;case'4':_0x49b681[_0x43f7fb(0xee)]['RelayState']='DkbychwKu8kBaJoLE5yeR5NK';continue;case'5':_0x49b681[_0x43f7fb(0x13d)]={};continue;}break;}})[_0x157141(0xde)]({});}),it(_0x4aa2a2['HSgKG'],function(){var _0x2458bd=_0x37ea9a;_0x2d5036[_0x2458bd(0xc6)](expect,_0x1de0a0)['to']['be']['an'](_0x2458bd(0x12e)),_0x2d5036[_0x2458bd(0x154)](expect,_0x1de0a0[_0x2458bd(0x14e)])['to'][_0x2458bd(0x133)](_0x2458bd(0xa1));}),_0x4aa2a2[_0x37ea9a(0x89)](it,_0x4aa2a2['voSFr'],function(){expect(_0xd5eb7b)['to']['equal'](0x193);});}else _0x50223f[_0x37ea9a(0xd0)](_0x5daa01,_0x2e5af4)['to'][_0x37ea9a(0x133)](0x193);}),_0x4aa2a2[_0x3c3592(0xb6)](describe,_0x4aa2a2['PNJZc'],function(){var _0x4b0be9=_0x3c3592,_0x18a121={'JHlhi':function(_0xcdfc7c){var _0x318d4d=_0x40a4;return _0x50223f[_0x318d4d(0xf9)](_0xcdfc7c);},'fdstT':_0x50223f['IzQmT'],'wflPB':_0x4b0be9(0xfd),'xkdqw':'samlp:www.example.com','yWthI':_0x50223f['EtGXe'],'SvNqb':function(_0x1cc091,_0x491045){return _0x1cc091(_0x491045);}},_0x348165,_0x9b6877,_0x25651b;_0x50223f[_0x4b0be9(0xfa)](before,function(_0x39671e){var _0x36052c=_0x4b0be9;chai[_0x36052c(0xef)][_0x36052c(0x9a)](_0x148822)[_0x36052c(0xca)](function(_0x48c411,_0x47c2c0){_0x9b6877=_0x48c411,_0x25651b=_0x47c2c0,_0x18a121['JHlhi'](_0x39671e);})[_0x36052c(0xb7)](function(_0x3d60ae){var _0x2dd419=_0x36052c,_0x1beef7={'FvQzl':function(_0x24b824,_0x4ec588){return _0x24b824(_0x4ec588);},'zeTWS':_0x2dd419(0x12e),'FxUtI':_0x18a121[_0x2dd419(0x95)]};_0x18a121[_0x2dd419(0x11e)]!=='zyGQJ'?(_0x1beef7[_0x2dd419(0x106)](_0x2da23f,_0x12857b)['to']['be']['an'](_0x1beef7[_0x2dd419(0x80)]),_0x1beef7[_0x2dd419(0x106)](_0x1c0866,_0x11e9da[_0x2dd419(0x14e)])['to'][_0x2dd419(0x133)](_0x1beef7[_0x2dd419(0x15d)])):(_0x348165=_0x3d60ae,_0x3d60ae['body']={},_0x3d60ae['body'][_0x2dd419(0x166)]=_0x45f158,_0x3d60ae['body'][_0x2dd419(0x128)]=_0x2dd419(0x150),_0x3d60ae[_0x2dd419(0x10f)]=_0x2dd419(0x88),_0x3d60ae[_0x2dd419(0x13d)]={},_0x3d60ae[_0x2dd419(0x13d)][_0x18a121['xkdqw']]={});})[_0x36052c(0xde)]({});}),_0x50223f[_0x4b0be9(0x8b)](it,_0x4b0be9(0x165),function(){var _0x5567dd=_0x4b0be9;expect(_0x9b6877)['to']['be']['an'](_0x18a121[_0x5567dd(0xe7)]),_0x18a121['SvNqb'](expect,_0x9b6877[_0x5567dd(0x14e)])['to']['equal'](_0x18a121[_0x5567dd(0x95)]);}),it(_0x4b0be9(0x158),function(){var _0x1eaca1=_0x4b0be9;_0x50223f[_0x1eaca1(0x91)](expect,_0x25651b)['to']['equal'](0x193);});}),describe(_0x4aa2a2[_0x3c3592(0x92)],function(){var _0xc450c2=_0x3c3592,_0x1e3c93,_0x2b5d22;before(function(_0x85dc37){var _0x2a2ddf=_0x40a4;chai['passport'][_0x2a2ddf(0x9a)](_0x148822)['error'](function(_0x1c2e81){_0x2b5d22=_0x1c2e81,_0x85dc37();})[_0x2a2ddf(0xb7)](function(_0x2c1731){var _0x338876=_0x2a2ddf;_0x1e3c93=_0x2c1731,_0x2c1731[_0x338876(0xee)]={},_0x2c1731[_0x338876(0xee)][_0x338876(0x166)]=_0x45f158,_0x2c1731[_0x338876(0xee)][_0x338876(0x128)]=_0x338876(0x150),_0x2c1731[_0x338876(0x10f)]=_0x338876(0x88);})['authenticate']({});}),it(_0x4aa2a2[_0xc450c2(0x159)],function(){var _0x1c1761=_0xc450c2;_0x50223f['tqxSq'](expect,_0x2b5d22)['to']['be']['an'][_0x1c1761(0xae)](Error),expect(_0x2b5d22['message'])['to'][_0x1c1761(0x133)](_0x50223f[_0x1c1761(0xe9)]);});});});}),describe(_0x27ab7a[_0x3112bc(0xc9)],function(){var _0x5205a6=_0x3112bc,_0x3e8fbd={'nsZYq':function(_0x27b2e0,_0x23e522,_0x36a723,_0x636e9d){return _0x27b2e0(_0x23e522,_0x36a723,_0x636e9d);},'OAQtJ':_0x5205a6(0xe2),'LCUgn':function(_0x459418,_0x3f43fc){return _0x459418(_0x3f43fc);},'SsuqZ':function(_0x1d9d33,_0x4d0b6f,_0x5a8d5e){return _0x1d9d33(_0x4d0b6f,_0x5a8d5e);},'xkjWj':_0x5205a6(0x15b),'YKrWu':function(_0x2ff200,_0x32b6d0,_0x384f47){return _0x2ff200(_0x32b6d0,_0x384f47);},'TAwjy':function(_0x2abf51){return _0x27ab7a['CNGsT'](_0x2abf51);},'qsYQz':'DkbychwKu8kBaJoLE5yeR5NK','pSlDr':function(_0x2be1be,_0x26019c){return _0x2be1be(_0x26019c);},'hoyZz':_0x5205a6(0x84),'fkuGS':_0x27ab7a[_0x5205a6(0xbe)],'zwlOy':function(_0x4eb418,_0x5ce658,_0x103dec){var _0x44812d=_0x5205a6;return _0x27ab7a[_0x44812d(0xe1)](_0x4eb418,_0x5ce658,_0x103dec);},'wdHUe':_0x27ab7a[_0x5205a6(0x72)],'sOzWa':function(_0x106a65,_0x4e05c1,_0x39f4b8){return _0x106a65(_0x4e05c1,_0x39f4b8);},'kIYpt':_0x5205a6(0x100),'vuxVk':_0x27ab7a[_0x5205a6(0xab)],'MAUWa':_0x27ab7a['sbQUK'],'Idfef':_0x5205a6(0x12e),'NIYwe':_0x27ab7a[_0x5205a6(0x129)],'jabYT':_0x27ab7a[_0x5205a6(0xa5)],'IDJbg':_0x27ab7a[_0x5205a6(0x90)]},_0x55130d=new Strategy({'protocol':_0x27ab7a[_0x5205a6(0xf3)],'path':_0x5205a6(0xc3),'realm':_0x27ab7a['QIHBi'],'identityProviderUrl':'http://www.example.com/samlp','thumbprints':[_0x5205a6(0x138)],'state':!![],'sessionKey':_0x27ab7a['sZTYo']},function(_0x4ae009,_0x16ee93){var _0x4b1637=_0x5205a6;return _0x3e8fbd[_0x4b1637(0x130)](_0x16ee93,null,_0x4ae009,{'message':_0x3e8fbd[_0x4b1637(0x13c)]});});_0x55130d[_0x5205a6(0xf1)][_0x5205a6(0xd2)]=function(_0x3b15,_0x185bc2,_0x3c90d5){var _0x7351eb=_0x5205a6;_0x27ab7a[_0x7351eb(0x70)](expect,_0x3b15)['to']['be']['a']('string'),_0x3c90d5(null,{'id':_0x7351eb(0x11c)});},describe(_0x5205a6(0xb1),function(){var _0x1f5a87=_0x5205a6,_0x5af0b2={'HAlod':function(_0x1fa5c1,_0x42b9b2){return _0x1fa5c1(_0x42b9b2);}};describe(_0x1f5a87(0xa4),function(){var _0x1a3cfc=_0x1f5a87,_0x351798,_0x39de4a;_0x3e8fbd[_0x1a3cfc(0x9f)](before,function(_0x539634){var _0x314303=_0x1a3cfc;chai[_0x314303(0xef)]['use'](_0x55130d)[_0x314303(0x107)](function(_0x4c28bf){_0x39de4a=_0x4c28bf,_0x539634();})[_0x314303(0xb7)](function(_0x3561d5){var _0x49fec6=_0x314303;_0x351798=_0x3561d5,_0x3561d5[_0x49fec6(0x13d)]={};})[_0x314303(0xde)]({});}),_0x3e8fbd[_0x1a3cfc(0x79)](it,_0x3e8fbd[_0x1a3cfc(0x119)],function(){var _0x4d3004=_0x1a3cfc,_0x2d93c0=uri['parse'](_0x39de4a,!![]);_0x5af0b2[_0x4d3004(0x9c)](expect,_0x2d93c0[_0x4d3004(0x14c)]['RelayState'])['to'][_0x4d3004(0xe8)]['length'](0x18);}),_0x3e8fbd[_0x1a3cfc(0xd1)](it,'should\x20save\x20state\x20in\x20session',function(){var _0x1c23b7=_0x1a3cfc,_0x8a8310=uri['parse'](_0x39de4a,!![]);expect(_0x351798[_0x1c23b7(0x13d)][_0x1c23b7(0x143)][_0x1c23b7(0xba)])['to'][_0x1c23b7(0xe8)][_0x1c23b7(0x115)](0x18),expect(_0x351798[_0x1c23b7(0x13d)][_0x1c23b7(0x143)][_0x1c23b7(0xba)])['to'][_0x1c23b7(0x133)](_0x8a8310[_0x1c23b7(0x14c)]['RelayState']);});});}),_0x27ab7a[_0x5205a6(0xe1)](describe,_0x27ab7a[_0x5205a6(0x145)],function(){var _0x2b2308=_0x5205a6,_0x5b2032={'UxziB':_0x2b2308(0x150),'HPEXW':_0x2b2308(0x88),'epHWB':_0x3e8fbd['vuxVk'],'nPHVd':_0x3e8fbd['MAUWa'],'cOCnI':_0x3e8fbd['Idfef'],'bDhWa':function(_0x5933ca,_0x47b793){var _0x2d5fac=_0x2b2308;return _0x3e8fbd[_0x2d5fac(0x164)](_0x5933ca,_0x47b793);},'NuHhu':_0x3e8fbd[_0x2b2308(0x13b)],'avfhU':_0x3e8fbd['jabYT']};_0x3e8fbd[_0x2b2308(0xd1)](describe,_0x3e8fbd[_0x2b2308(0x77)],function(){var _0x3de843=_0x2b2308,_0x366f17={'pVZRm':function(_0x5c2677){var _0x2ae956=_0x40a4;return _0x3e8fbd[_0x2ae956(0xe6)](_0x5c2677);},'RQcvE':_0x3e8fbd['qsYQz'],'HHVsP':_0x3de843(0x88),'HQSUl':_0x3de843(0x143),'huyGr':'state','WeIRk':function(_0x1157bc,_0x221602){return _0x1157bc(_0x221602);},'nyLxX':_0x3de843(0x12e),'iOJBk':function(_0x2a9335,_0x17e0a8){return _0x3e8fbd['pSlDr'](_0x2a9335,_0x17e0a8);}};if(_0x3e8fbd[_0x3de843(0x13f)]===_0x3e8fbd['fkuGS'])_0x3db1a8=_0x2bd91c,_0x4815f5['body']={},_0x3fe61c[_0x3de843(0xee)][_0x3de843(0x166)]=_0x3521da,_0x205816[_0x3de843(0xee)][_0x3de843(0x128)]=_0x5b2032[_0x3de843(0x146)],_0x139a73[_0x3de843(0x10f)]=_0x5b2032['HPEXW'],_0x4f1ea6[_0x3de843(0x13d)]={},_0x4d2fa6[_0x3de843(0x13d)][_0x5b2032[_0x3de843(0x105)]]={},_0x491926[_0x3de843(0x13d)]['samlp:www.example.com'][_0x3de843(0xba)]=_0x5b2032['UxziB'],_0xd66de7['get']=function(){return'';};else{var _0x5f087d,_0x2d9562,_0x9da692;_0x3e8fbd[_0x3de843(0x164)](before,function(_0x1c3503){var _0x27466c=_0x3de843,_0x44d8ff={'TthfQ':_0x27466c(0x88),'afcqJ':_0x5b2032[_0x27466c(0xb0)],'PekmJ':_0x27466c(0x137)};chai['passport']['use'](_0x55130d)[_0x27466c(0xd3)](function(_0x58c6e5,_0x50d559){var _0x33e111=_0x27466c;_0x2d9562=_0x58c6e5,_0x9da692=_0x50d559,_0x366f17[_0x33e111(0xf8)](_0x1c3503);})['req'](function(_0x1ac194){var _0x44ddf3=_0x27466c;_0x5f087d=_0x1ac194,_0x1ac194[_0x44ddf3(0xee)]={},_0x1ac194[_0x44ddf3(0xee)][_0x44ddf3(0x166)]=_0x45f158,_0x1ac194[_0x44ddf3(0xee)][_0x44ddf3(0x128)]=_0x366f17['RQcvE'],_0x1ac194[_0x44ddf3(0x10f)]=_0x366f17[_0x44ddf3(0xdb)],_0x1ac194[_0x44ddf3(0x13d)]={},_0x1ac194['session'][_0x366f17['HQSUl']]={},_0x1ac194['session'][_0x366f17['HQSUl']][_0x366f17[_0x44ddf3(0x131)]]=_0x366f17['RQcvE'],_0x1ac194['get']=function(){var _0x198dc2=_0x44ddf3,_0x10af34={'REmeX':_0x198dc2(0x71),'xFzdR':_0x198dc2(0xba),'AnHtS':_0x198dc2(0x150),'dkAdi':_0x44d8ff[_0x198dc2(0x134)],'Xecgh':_0x44d8ff[_0x198dc2(0xcc)]};if('MQvaI'!==_0x44d8ff['PekmJ'])return'';else{var _0x536a40=_0x10af34[_0x198dc2(0x140)][_0x198dc2(0xb9)]('|'),_0x43ef20=0x0;while(!![]){switch(_0x536a40[_0x43ef20++]){case'0':_0x2d54e5[_0x198dc2(0x13d)]={};continue;case'1':_0x1d8e84[_0x198dc2(0xee)]={};continue;case'2':_0x3b8338[_0x198dc2(0xee)][_0x198dc2(0x166)]=_0x349403;continue;case'3':_0x3886e0=_0x3395dd;continue;case'4':_0x3899c7[_0x198dc2(0x13d)]['samlp:www.example.com']={};continue;case'5':_0x10c557[_0x198dc2(0x13d)][_0x198dc2(0xbf)][_0x10af34[_0x198dc2(0x8c)]]=_0x10af34[_0x198dc2(0xd7)];continue;case'6':_0x3708ed[_0x198dc2(0x10f)]=_0x10af34['dkAdi'];continue;case'7':_0x99fbd4[_0x198dc2(0xee)][_0x198dc2(0x128)]=_0x10af34[_0x198dc2(0xd7)];continue;case'8':_0x10d951[_0x198dc2(0x118)]=function(){return'';};continue;case'9':_0x4344cd[_0x198dc2(0x13d)]['samlp:www.example.com'][_0x198dc2(0xe3)]=_0x10af34[_0x198dc2(0x126)];continue;}break;}}};})[_0x27466c(0xde)]({});}),_0x3e8fbd[_0x3de843(0x83)](it,_0x3e8fbd[_0x3de843(0x160)],function(){var _0x349717=_0x3de843;expect(_0x2d9562)['to']['be']['an'](_0x5b2032[_0x349717(0xcd)]),_0x5b2032['bDhWa'](expect,_0x2d9562['id'])['to'][_0x349717(0x133)](_0x5b2032[_0x349717(0xfb)]);}),_0x3e8fbd[_0x3de843(0x83)](it,'should\x20supply\x20info',function(){var _0x441286=_0x3de843;_0x366f17['WeIRk'](expect,_0x9da692)['to']['be']['an'](_0x366f17['nyLxX']),_0x366f17['iOJBk'](expect,_0x9da692['message'])['to'][_0x441286(0x133)](_0x441286(0xe2));}),_0x3e8fbd[_0x3de843(0xcb)](it,_0x3e8fbd[_0x3de843(0x8a)],function(){var _0x494de8=_0x3de843;expect(_0x5f087d[_0x494de8(0x13d)][_0x5b2032[_0x494de8(0x120)]])['to']['be'][_0x494de8(0x10a)];});}});});});});