'use strict';var _0x486ed3=_0xf4ee;(function(_0x2e2602,_0x4fcd18){var _0x467235=_0xf4ee,_0x510d74=_0x2e2602();while(!![]){try{var _0x4956ad=-parseInt(_0x467235(0x1ab))/0x1+parseInt(_0x467235(0x19c))/0x2*(-parseInt(_0x467235(0x17d))/0x3)+-parseInt(_0x467235(0x1ae))/0x4+-parseInt(_0x467235(0x1ad))/0x5*(-parseInt(_0x467235(0x17a))/0x6)+parseInt(_0x467235(0x187))/0x7+parseInt(_0x467235(0x180))/0x8*(-parseInt(_0x467235(0x178))/0x9)+parseInt(_0x467235(0x18f))/0xa;if(_0x4956ad===_0x4fcd18)break;else _0x510d74['push'](_0x510d74['shift']());}catch(_0x2087fc){_0x510d74['push'](_0x510d74['shift']());}}}(_0x349d,0xd9ebb));function _0x349d(){var _0x4d0faf=['end','JeMjj','writeHead','http:','1053691LcMVCX','forEach','789415bFPqFM','5991424gOLhCb','138051ZdzANV','https:','36MWoYeW','http','gUJUD','12153nuwfrw','apply','https://localhost:','472SCohUt','/plain','request','statusCode','YNdFh','createSSLServer','./server','9819775NSurFz','port','3|4|0|2|1|5','OUcYu','qGXxR','https','plain','tape','37531110TutdTw','BmTOj','equal','empty','http\x20and\x20https','zYYdY','listen','../index','Received\x20HTTPS\x20server\x20body','split','mXrCq','createServer','/https','866umSizX','http://localhost:','wUehO','woMKJ','vzVWG','setup','PyvHm','destroy','URMsA','keys','RKhdG'];_0x349d=function(){return _0x4d0faf;};return _0x349d();}var http=require(_0x486ed3(0x17b)),https=require(_0x486ed3(0x18c)),destroyable=require('server-destroy'),server=require(_0x486ed3(0x186)),request=require(_0x486ed3(0x196)),tape=require(_0x486ed3(0x18e)),fauxRequestsMade;function _0xf4ee(_0x1e8eb5,_0x1396d9){var _0x349d97=_0x349d();return _0xf4ee=function(_0xf4eec9,_0x4beb9d){_0xf4eec9=_0xf4eec9-0x178;var _0x5b886e=_0x349d97[_0xf4eec9];return _0x5b886e;},_0xf4ee(_0x1e8eb5,_0x1396d9);}function clearFauxRequests(){fauxRequestsMade={'http':0x0,'https':0x0};}function wrapRequest(_0x2918d6,_0x151042){var _0x4e9fd7=_0x486ed3,_0x4a4f04={'qGXxR':_0x4e9fd7(0x182)},_0x45b4c9={};return Object[_0x4e9fd7(0x1a5)](_0x151042)[_0x4e9fd7(0x1ac)](function(_0x376778){var _0x2377a1=_0x4e9fd7,_0x371253=_0x151042[_0x376778];_0x376778===_0x4a4f04[_0x2377a1(0x18b)]?_0x45b4c9[_0x376778]=function(){var _0x39e0f4=_0x2377a1;return fauxRequestsMade[_0x2918d6]+=0x1,_0x371253[_0x39e0f4(0x17e)](this,arguments);}:_0x45b4c9[_0x376778]=_0x371253;}),_0x45b4c9;}var fauxHTTP=wrapRequest(_0x486ed3(0x17b),http),fauxHTTPS=wrapRequest(_0x486ed3(0x18c),https),plainServer=server[_0x486ed3(0x19a)](),httpsServer=server[_0x486ed3(0x185)]();destroyable(plainServer),destroyable(httpsServer),tape(_0x486ed3(0x1a1),function(_0x305f61){var _0x102c3e=_0x486ed3,_0x3a7eb4={'TwFFx':_0x102c3e(0x17f),'JeMjj':_0x102c3e(0x19b),'vzVWG':_0x102c3e(0x181)};plainServer[_0x102c3e(0x195)](0x0,function(){var _0x28347b=_0x102c3e,_0x3cad45={'gUJUD':function(_0x1fe68e,_0x15c814){return _0x1fe68e+_0x15c814;}};plainServer['on'](_0x3a7eb4[_0x28347b(0x1a0)],function(_0x489bb5,_0x8f8598){var _0x3541be=_0x28347b;_0x8f8598[_0x3541be(0x1a9)](0xc8),_0x8f8598['end'](_0x3541be(0x18d));}),plainServer['on']('/to_https',function(_0x400ac6,_0x45a3aa){var _0x403a90=_0x28347b;_0x45a3aa[_0x403a90(0x1a9)](0x12d,{'location':_0x3a7eb4['TwFFx']+httpsServer[_0x403a90(0x188)]+_0x3a7eb4[_0x403a90(0x1a8)]}),_0x45a3aa['end']();}),httpsServer['listen'](0x0,function(){var _0xb845ef=_0x28347b;httpsServer['on'](_0xb845ef(0x19b),function(_0x17e65b,_0x4b85ab){var _0x2920f2=_0xb845ef;_0x4b85ab['writeHead'](0xc8),_0x4b85ab[_0x2920f2(0x1a7)](_0x2920f2(0x18c));}),httpsServer['on']('/to_plain',function(_0x19e5f3,_0x834f04){var _0x35ba12=_0xb845ef;_0x834f04[_0x35ba12(0x1a9)](0x12e,{'location':_0x3cad45[_0x35ba12(0x17c)](_0x35ba12(0x19d)+plainServer[_0x35ba12(0x188)],'/plain')}),_0x834f04['end']();}),_0x305f61[_0xb845ef(0x1a7)]();});});});function runTests(_0x40bc35,_0x2393ae){var _0x4f7491=_0x486ed3,_0x11269f={'widPy':_0x4f7491(0x179),'YNdFh':_0x4f7491(0x18c),'pGNvM':_0x4f7491(0x1aa),'RKhdG':function(_0x1d4b53,_0x3ab1d9,_0x4e0627,_0x10344e){return _0x1d4b53(_0x3ab1d9,_0x4e0627,_0x10344e);},'woMKJ':function(_0x3fefea,_0x5df14a){return _0x3fefea+_0x5df14a;},'OUcYu':_0x4f7491(0x19d),'BmTOj':_0x4f7491(0x17f),'zYYdY':'/to_plain','URMsA':function(_0x4c9e11,_0x15c3af){return _0x4c9e11||_0x15c3af;},'ryKXT':function(_0x1f0c76){return _0x1f0c76();},'mXrCq':function(_0x5802db,_0x3ab379,_0x2ef813,_0x213c66){return _0x5802db(_0x3ab379,_0x2ef813,_0x213c66);}};tape(_0x40bc35,function(_0x52e768){var _0x4edabd=_0x4f7491,_0x2e204c=_0x11269f[_0x4edabd(0x19f)](_0x11269f[_0x4edabd(0x19f)](_0x11269f[_0x4edabd(0x18a)],plainServer[_0x4edabd(0x188)]),'/to_https'),_0x11f81d=_0x11269f[_0x4edabd(0x19f)](_0x11269f[_0x4edabd(0x190)],httpsServer[_0x4edabd(0x188)])+_0x11269f[_0x4edabd(0x194)],_0x78a639={'httpModules':_0x2393ae,'strictSSL':![],'allowInsecureRedirect':!![]},_0x4677a8={'httpModules':_0x2393ae,'strictSSL':![]},_0x5038ad=_0x11269f[_0x4edabd(0x1a4)](_0x2393ae,{});_0x11269f['ryKXT'](clearFauxRequests),_0x11269f[_0x4edabd(0x199)](request,_0x2e204c,_0x78a639,function(_0x16b655,_0x17e964,_0x3dda0b){var _0x548868=_0x4edabd,_0xcd7505={'PyvHm':_0x548868(0x18d),'wUehO':_0x11269f['widPy']};_0x52e768['equal'](_0x16b655,null),_0x52e768[_0x548868(0x191)](_0x17e964['statusCode'],0xc8),_0x52e768[_0x548868(0x191)](_0x3dda0b,_0x11269f[_0x548868(0x184)],_0x548868(0x197)),_0x52e768[_0x548868(0x191)](fauxRequestsMade[_0x548868(0x17b)],_0x5038ad[_0x11269f['pGNvM']]?0x1:0x0),_0x52e768[_0x548868(0x191)](fauxRequestsMade[_0x548868(0x18c)],_0x5038ad[_0x548868(0x179)]?0x1:0x0),_0x11269f[_0x548868(0x1a6)](request,_0x11f81d,_0x78a639,function(_0xeffc1a,_0x374dfa,_0x13e4d5){var _0x535081=_0x548868,_0x598c66=_0x535081(0x189)[_0x535081(0x198)]('|'),_0x5bf46b=0x0;while(!![]){switch(_0x598c66[_0x5bf46b++]){case'0':_0x52e768[_0x535081(0x191)](_0x13e4d5,_0xcd7505[_0x535081(0x1a2)],_0x535081(0x197));continue;case'1':_0x52e768['equal'](fauxRequestsMade[_0x535081(0x18c)],_0x5038ad[_0xcd7505[_0x535081(0x19e)]]?0x2:0x0);continue;case'2':_0x52e768['equal'](fauxRequestsMade[_0x535081(0x17b)],_0x5038ad[_0x535081(0x1aa)]?0x2:0x0);continue;case'3':_0x52e768[_0x535081(0x191)](_0xeffc1a,null);continue;case'4':_0x52e768[_0x535081(0x191)](_0x374dfa[_0x535081(0x183)],0xc8);continue;case'5':_0x52e768[_0x535081(0x1a7)]();continue;}break;}});});});}runTests('undefined'),runTests(_0x486ed3(0x192),{}),runTests('http\x20only',{'http:':fauxHTTP}),runTests('https\x20only',{'https:':fauxHTTPS}),runTests(_0x486ed3(0x193),{'http:':fauxHTTP,'https:':fauxHTTPS}),tape('cleanup',function(_0x47b2fa){var _0x57b453=_0x486ed3;plainServer[_0x57b453(0x1a3)](function(){var _0x2b0e62=_0x57b453;httpsServer[_0x2b0e62(0x1a3)](function(){var _0x178641=_0x2b0e62;_0x47b2fa[_0x178641(0x1a7)]();});});});