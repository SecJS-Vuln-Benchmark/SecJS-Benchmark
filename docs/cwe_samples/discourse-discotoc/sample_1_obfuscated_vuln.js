const _0xacfc2c=_0x5dbe;function _0x5dbe(_0x3aad37,_0x5bef94){const _0x2c7854=_0x2c78();return _0x5dbe=function(_0x5dbe8c,_0x59de25){_0x5dbe8c=_0x5dbe8c-0x1cf;let _0xc678d4=_0x2c7854[_0x5dbe8c];return _0xc678d4;},_0x5dbe(_0x3aad37,_0x5bef94);}(function(_0x278fa0,_0x41b25b){const _0x32df10=_0x5dbe,_0x7be16f=_0x278fa0();while(!![]){try{const _0x5a6ba3=parseInt(_0x32df10(0x1d9))/0x1*(parseInt(_0x32df10(0x1dc))/0x2)+-parseInt(_0x32df10(0x1d5))/0x3+-parseInt(_0x32df10(0x1e5))/0x4+parseInt(_0x32df10(0x1f0))/0x5*(-parseInt(_0x32df10(0x1e7))/0x6)+parseInt(_0x32df10(0x1f3))/0x7*(-parseInt(_0x32df10(0x1ec))/0x8)+-parseInt(_0x32df10(0x1d4))/0x9+parseInt(_0x32df10(0x1e2))/0xa;if(_0x5a6ba3===_0x41b25b)break;else _0x7be16f['push'](_0x7be16f['shift']());}catch(_0x38f99a){_0x7be16f['push'](_0x7be16f['shift']());}}}(_0x2c78,0x48163));const path=require('path'),fs=require('fs')['promises'],express=require(_0xacfc2c(0x1f4)),{filterFile,processImageFile}=require(_0xacfc2c(0x1d0)),{logger}=require(_0xacfc2c(0x1dd)),router=express[_0xacfc2c(0x1f2)]();router[_0xacfc2c(0x1d7)]('/',async(_0x55c7a3,_0x3cbcba)=>{const _0x50adab=_0xacfc2c,_0x67c7be={'lhlMe':_0x50adab(0x1da),'ClcdW':'[/files/images]\x20Temp.\x20image\x20upload\x20file\x20already\x20deleted'},_0x380d4a=_0x55c7a3[_0x50adab(0x1ee)];try{filterFile({'req':_0x55c7a3,'file':_0x55c7a3[_0x50adab(0x1db)],'image':!![]}),_0x380d4a[_0x50adab(0x1d2)]=_0x380d4a['file_id'],_0x380d4a[_0x50adab(0x1d6)]=_0x55c7a3['file_id'],await processImageFile({'req':_0x55c7a3,'res':_0x3cbcba,'file':_0x55c7a3['file'],'metadata':_0x380d4a});}catch(_0x11d725){logger['error'](_0x50adab(0x1e8),_0x11d725);try{const _0x105908=path[_0x50adab(0x1e6)](_0x55c7a3[_0x50adab(0x1d1)][_0x50adab(0x1d3)][_0x50adab(0x1ea)][_0x50adab(0x1f5)],_0x55c7a3[_0x50adab(0x1e4)]['id'],path[_0x50adab(0x1ed)](_0x55c7a3['file'][_0x50adab(0x1e9)]));await fs[_0x50adab(0x1df)](_0x105908);}catch(_0x1b5f27){logger[_0x50adab(0x1cf)](_0x67c7be[_0x50adab(0x1f6)],_0x1b5f27);}_0x3cbcba[_0x50adab(0x1e0)](0x1f4)[_0x50adab(0x1ef)]({'message':_0x50adab(0x1d8)});}finally{try{await fs[_0x50adab(0x1df)](_0x55c7a3[_0x50adab(0x1db)][_0x50adab(0x1e1)]),logger['debug'](_0x50adab(0x1f1));}catch(_0x5afe22){logger[_0x50adab(0x1e3)](_0x67c7be[_0x50adab(0x1eb)]);}}}),module[_0xacfc2c(0x1de)]=router;function _0x2c78(){const _0x3dbb20=['json','13495hliNPU','[/files/images]\x20Temp.\x20image\x20upload\x20file\x20deleted','Router','1955107UtUcEt','express','imageOutput','lhlMe','error','~/server/services/Files/process','app','temp_file_id','locals','5270805XSFaer','417204vmrMMn','file_id','post','Error\x20processing\x20file','87699uMxsJX','[/files/images]\x20Error\x20deleting\x20file:','file','6rJVzFT','~/config','exports','unlink','status','path','14280790zFFSco','debug','user','1492008xNEzQf','join','42AaFZHg','[/files/images]\x20Error\x20processing\x20file:','filename','paths','ClcdW','8JUBOVb','basename','body'];_0x2c78=function(){return _0x3dbb20;};return _0x2c78();}