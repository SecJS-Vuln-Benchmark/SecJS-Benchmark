const _0x5e9ddf=_0x5e70;function _0x5e70(_0x1f38e7,_0x166cfe){const _0x22c8f6=_0x22c8();return _0x5e70=function(_0x5e70dd,_0x2d869d){_0x5e70dd=_0x5e70dd-0x104;let _0x588ff7=_0x22c8f6[_0x5e70dd];return _0x588ff7;},_0x5e70(_0x1f38e7,_0x166cfe);}(function(_0x46d5d6,_0x8c3b59){const _0x4149c8=_0x5e70,_0x3c65d1=_0x46d5d6();while(!![]){try{const _0x2d5a0d=parseInt(_0x4149c8(0x11e))/0x1+parseInt(_0x4149c8(0x120))/0x2+-parseInt(_0x4149c8(0x110))/0x3+parseInt(_0x4149c8(0x119))/0x4+parseInt(_0x4149c8(0x106))/0x5+parseInt(_0x4149c8(0x113))/0x6*(parseInt(_0x4149c8(0x117))/0x7)+-parseInt(_0x4149c8(0x109))/0x8;if(_0x2d5a0d===_0x8c3b59)break;else _0x3c65d1['push'](_0x3c65d1['shift']());}catch(_0x20f232){_0x3c65d1['push'](_0x3c65d1['shift']());}}}(_0x22c8,0xdc242));const PluginAuth=require(_0x5e9ddf(0x111)),{encrypt,decrypt}=require('~/server/utils/'),{logger}=require('~/config'),getUserPluginAuthValue=async(_0x2ff30f,_0x474929)=>{const _0x3a5289=_0x5e9ddf,_0x18d697={'vMVmP':function(_0x225ae6,_0x46ab17){return _0x225ae6===_0x46ab17;}};try{const _0x199aae=await PluginAuth[_0x3a5289(0x10f)]({'userId':_0x2ff30f,'authField':_0x474929})[_0x3a5289(0x124)]();if(!_0x199aae)throw new Error(_0x3a5289(0x104)+_0x474929+_0x3a5289(0x108)+_0x2ff30f);const _0x347743=await decrypt(_0x199aae[_0x3a5289(0x118)]);return _0x347743;}catch(_0x348b4a){if(_0x18d697[_0x3a5289(0x11b)](_0x3a5289(0x11a),_0x3a5289(0x11a))){logger['error']('[getUserPluginAuthValue]',_0x348b4a);throw _0x348b4a;}else return _0xff95bc[_0x3a5289(0x112)](_0x3a5289(0x10c),_0x59ab47),_0x12f980;}},updateUserPluginAuth=async(_0x315bf6,_0x1f5b4d,_0x5d8719,_0x445f57)=>{const _0x5f4383=_0x5e9ddf,_0x1ced8b={'JwAsC':function(_0x1a9966,_0x3318a7){return _0x1a9966===_0x3318a7;},'nOeTS':'MPXYW','aRrSI':_0x5f4383(0x116),'HXEMm':_0x5f4383(0x11f)};try{if(_0x1ced8b[_0x5f4383(0x122)](_0x5f4383(0x10a),_0x1ced8b[_0x5f4383(0x114)])){const _0x213fd0=await encrypt(_0x445f57),_0x3a454e=await PluginAuth['findOne']({'userId':_0x315bf6,'authField':_0x1f5b4d})[_0x5f4383(0x124)]();if(_0x3a454e){const _0x58a62c=await PluginAuth['updateOne']({'userId':_0x315bf6,'authField':_0x1f5b4d},{'$set':{'value':_0x213fd0}});return _0x58a62c;}else{const _0x1acb58=await new PluginAuth({'userId':_0x315bf6,'authField':_0x1f5b4d,'value':_0x213fd0,'pluginKey':_0x5d8719});return await _0x1acb58[_0x5f4383(0x10b)](),_0x1acb58;}}else return _0x3949f4['error'](_0x5f4383(0x11f),_0x5d3be2),_0x4966df;}catch(_0xa38383){if(_0x5f4383(0x116)!==_0x1ced8b[_0x5f4383(0x10e)])throw new _0x21cf43(_0x5f4383(0x104)+_0x58efdc+'\x20found\x20for\x20user\x20'+_0x4af38d);else return logger[_0x5f4383(0x112)](_0x1ced8b[_0x5f4383(0x11d)],_0xa38383),_0xa38383;}},deleteUserPluginAuth=async(_0x43aade,_0x3ea167,_0x1720d4=![])=>{const _0x23671d=_0x5e9ddf,_0x392e47={'NyXrN':_0x23671d(0x10c),'qGoEU':_0x23671d(0x121)};if(_0x1720d4)try{const _0x13d521=await PluginAuth[_0x23671d(0x11c)]({'userId':_0x43aade});return _0x13d521;}catch(_0x3202fb){return logger[_0x23671d(0x112)]('[deleteUserPluginAuth]',_0x3202fb),_0x3202fb;}try{return _0x23671d(0x115)===_0x392e47[_0x23671d(0x107)]?(_0xeb6470[_0x23671d(0x112)](_0x392e47[_0x23671d(0x123)],_0x1ccd34),_0x31c0c1):await PluginAuth[_0x23671d(0x10d)]({'userId':_0x43aade,'authField':_0x3ea167});}catch(_0x5adfc8){return logger[_0x23671d(0x112)](_0x392e47[_0x23671d(0x123)],_0x5adfc8),_0x5adfc8;}};function _0x22c8(){const _0x1935fb=['672375KEHVIL','qGoEU','\x20found\x20for\x20user\x20','29907224ESzArJ','MPXYW','save','[deleteUserPluginAuth]','deleteOne','aRrSI','findOne','1160655moJJwy','~/models/schema/pluginAuthSchema','error','67848QXzOOi','nOeTS','YOKqQ','baImn','203PFkokX','value','7117204snkmbm','JzOAL','vMVmP','deleteMany','HXEMm','1279144HrtUph','[updateUserPluginAuth]','3012268XRrZFz','vrbXW','JwAsC','NyXrN','lean','No\x20plugin\x20auth\x20','exports'];_0x22c8=function(){return _0x1935fb;};return _0x22c8();}module[_0x5e9ddf(0x105)]={'getUserPluginAuthValue':getUserPluginAuthValue,'updateUserPluginAuth':updateUserPluginAuth,'deleteUserPluginAuth':deleteUserPluginAuth};