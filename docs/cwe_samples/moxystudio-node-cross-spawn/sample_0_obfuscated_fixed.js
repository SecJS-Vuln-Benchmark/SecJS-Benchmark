function _0x59a9(_0x224cbb,_0x28ecb9){const _0x521675=_0x5216();return _0x59a9=function(_0x59a9cb,_0x1bad6c){_0x59a9cb=_0x59a9cb-0xe0;let _0x1b3c6f=_0x521675[_0x59a9cb];return _0x1b3c6f;},_0x59a9(_0x224cbb,_0x28ecb9);}const _0x56c45c=_0x59a9;(function(_0xfd84c8,_0x2ac244){const _0xbbb9da=_0x59a9,_0x875ad3=_0xfd84c8();while(!![]){try{const _0x5d4ad5=-parseInt(_0xbbb9da(0x13a))/0x1+parseInt(_0xbbb9da(0xfd))/0x2+parseInt(_0xbbb9da(0x133))/0x3+-parseInt(_0xbbb9da(0x142))/0x4+parseInt(_0xbbb9da(0xe6))/0x5*(-parseInt(_0xbbb9da(0x12f))/0x6)+parseInt(_0xbbb9da(0x123))/0x7*(-parseInt(_0xbbb9da(0x11c))/0x8)+parseInt(_0xbbb9da(0x146))/0x9;if(_0x5d4ad5===_0x2ac244)break;else _0x875ad3['push'](_0x875ad3['shift']());}catch(_0x15325f){_0x875ad3['push'](_0x875ad3['shift']());}}}(_0x5216,0x4df9c));const fs=require('fs'),path=require(_0x56c45c(0xf2)),{v4}=require(_0x56c45c(0x117)),defaultWhisper=_0x56c45c(0x12b),fileSize={'Xenova/whisper-small':_0x56c45c(0xf4),'Xenova/whisper-large':_0x56c45c(0xf9)};class LocalWhisper{constructor({options:_0x5277a8}){const _0x3a22fe=_0x56c45c,_0x566092={'JkYpR':_0x3a22fe(0x104)},_0x3b5d7f=_0x566092[_0x3a22fe(0xef)]['split']('|');let _0x3c1834=0x0;while(!![]){switch(_0x3b5d7f[_0x3c1834++]){case'0':this[_0x3a22fe(0x148)]=path[_0x3a22fe(0xf0)](process[_0x3a22fe(0x10b)]['STORAGE_DIR']?path[_0x3a22fe(0xf0)](process[_0x3a22fe(0x10b)][_0x3a22fe(0xfb)],_0x3a22fe(0x116)):path[_0x3a22fe(0xf0)](__dirname,_0x3a22fe(0x110)));continue;case'1':this[_0x3a22fe(0x108)]=_0x5277a8?.[_0x3a22fe(0x141)]??defaultWhisper;continue;case'2':if(!fs[_0x3a22fe(0x137)](this[_0x3a22fe(0x148)]))fs[_0x3a22fe(0x109)](this[_0x3a22fe(0x148)],{'recursive':!![]});continue;case'3':this[_0x3a22fe(0x10f)]=path['resolve'](this[_0x3a22fe(0x148)],...this[_0x3a22fe(0x108)]['split']('/'));continue;case'4':this.#log(_0x3a22fe(0x126));continue;case'5':this[_0x3a22fe(0x13f)]=fileSize[this[_0x3a22fe(0x108)]];continue;}break;}}#log(_0x17c02,..._0xf74fe2){const _0x319404=_0x56c45c;console[_0x319404(0xee)](_0x319404(0x130)+_0x17c02,..._0xf74fe2);}async #convertToWavAudioData(_0x58f19d){const _0x456d35=_0x56c45c,_0x56ad92={'rwWnA':function(_0x22acec,_0x310455){return _0x22acec<_0x310455;},'Bfmhq':function(_0x4bdeaa,_0xd82dfa){return _0x4bdeaa*_0xd82dfa;},'SFWwL':function(_0x2637fc,_0x4e29a8){return _0x2637fc!==_0x4e29a8;},'ZUeHU':_0x456d35(0x147),'NBKpe':function(_0xe23de1,_0x12893b){return _0xe23de1(_0x12893b);},'wBNbZ':function(_0x102f0f,_0x2a53c5){return _0x102f0f<_0x2a53c5;},'yqHXw':function(_0x24af0b,_0x571a48){return _0x24af0b!==_0x571a48;},'nCZAq':_0x456d35(0x139),'uJAaD':_0x456d35(0xe3),'eTbNd':_0x456d35(0x14a),'tWiPs':_0x456d35(0xf8),'PJYzp':function(_0x2e3a83,_0x1ef4b5){return _0x2e3a83===_0x1ef4b5;},'sNAtg':_0x456d35(0xea),'AgzaA':_0x456d35(0x100),'spOQB':function(_0x3d6886){return _0x3d6886();},'DKkPv':function(_0x3b52a0,_0x3f23c2){return _0x3b52a0>_0x3f23c2;},'EKacK':function(_0x4f5479,_0x3164fd){return _0x4f5479<_0x3164fd;},'FRYoI':'OGOBV','TwvBi':function(_0x390668,_0x499eb3){return _0x390668+_0x499eb3;}};try{let _0x435e15;const _0x4ccc8e=require(_0x56ad92['eTbNd']),_0x1dbe83=require('fluent-ffmpeg'),_0x63dcaf=path[_0x456d35(0xf0)](__dirname,'../../storage/tmp');if(!fs[_0x456d35(0x137)](_0x63dcaf))fs['mkdirSync'](_0x63dcaf,{'recursive':!![]});const _0x8987fd=path[_0x456d35(0xf3)](_0x58f19d)[_0x456d35(0x12c)]();if(_0x56ad92[_0x456d35(0x145)](_0x8987fd,_0x56ad92[_0x456d35(0x132)])){if(_0x56ad92[_0x456d35(0xe0)](_0x56ad92[_0x456d35(0x121)],_0x56ad92[_0x456d35(0x12a)])){if(_0x2b2aaa[_0x456d35(0x136)]>0x1){const _0x1a2c95=_0x1c2006['sqrt'](0x2);for(let _0x17d2c4=0x0;_0x56ad92['rwWnA'](_0x17d2c4,_0x1f57a9[0x0]['length']);++_0x17d2c4){_0x36fb6d[0x0][_0x17d2c4]=_0x1a2c95*(_0xa54dbe[0x0][_0x17d2c4]+_0x3d5608[0x1][_0x17d2c4])/0x2;}}_0x383780=_0x55d4fd[0x0];}else{this.#log(_0x456d35(0x149)+_0x8987fd+_0x456d35(0x111));const _0x2e4ee3=path[_0x456d35(0xf0)](_0x63dcaf,_0x56ad92['spOQB'](v4)+_0x456d35(0xf8)),_0xa28c79=new Promise(_0x4ccd94=>{const _0x5e64a0=_0x456d35,_0x556a1b={'YlzXl':function(_0x471e65,_0x578623){const _0x597b37=_0x59a9;return _0x56ad92[_0x597b37(0x107)](_0x471e65,_0x578623);},'oHTOb':function(_0x24a794,_0x52630a){return _0x56ad92['SFWwL'](_0x24a794,_0x52630a);},'LJMLJ':_0x56ad92[_0x5e64a0(0x120)],'LRdAw':function(_0xccd40e,_0x31a6a4){return _0x56ad92['NBKpe'](_0xccd40e,_0x31a6a4);},'mliJC':function(_0x5741d3,_0x397765){const _0x89f1f2=_0x5e64a0;return _0x56ad92[_0x89f1f2(0x11a)](_0x5741d3,_0x397765);}};if(_0x56ad92[_0x5e64a0(0x140)]('GHgzw',_0x56ad92['nCZAq']))_0x1dbe83(_0x58f19d)['toFormat'](_0x5e64a0(0x129))['on'](_0x56ad92[_0x5e64a0(0x11f)],_0x1556b8=>{const _0x1bbaad=_0x5e64a0;this.#log(_0x1bbaad(0x101)+_0x1556b8[_0x1bbaad(0x122)]),_0x4ccd94(![]);})['on'](_0x5e64a0(0x138),_0x57bb61=>this.#log(_0x5e64a0(0x114)+_0x57bb61['targetSize']+_0x5e64a0(0x103)))['on']('end',()=>{const _0x4e95ac=_0x5e64a0;_0x556a1b[_0x4e95ac(0xfe)](_0x556a1b[_0x4e95ac(0x13e)],_0x4e95ac(0xfa))?(this.#log(_0x4e95ac(0x13b)),_0x556a1b[_0x4e95ac(0x12d)](_0x4ccd94,!![])):_0x5861b1[0x0][_0x560af6]=_0x556a1b[_0x4e95ac(0x11e)](_0x4b88aa,_0xfab76e[0x0][_0x214bc1]+_0x4a7128[0x1][_0x31f6c4])/0x2;})[_0x5e64a0(0x10d)](_0x2e4ee3);else{const _0xec207c=_0x537d2f[_0x5e64a0(0x125)](0x2);for(let _0x5a9c43=0x0;_0x556a1b[_0x5e64a0(0x10c)](_0x5a9c43,_0x5e89dd[0x0][_0x5e64a0(0x136)]);++_0x5a9c43){_0x45ec45[0x0][_0x5a9c43]=_0xec207c*(_0x52ff2c[0x0][_0x5a9c43]+_0x4993ee[0x1][_0x5a9c43])/0x2;}}}),_0x405ec2=await _0xa28c79;if(!_0x405ec2)throw new Error(_0x456d35(0xf6));const _0x203b54=[],_0x121211=fs[_0x456d35(0xe5)](_0x2e4ee3);for await(let _0xced089 of _0x121211)_0x203b54[_0x456d35(0x13c)](_0xced089);_0x435e15=Buffer['concat'](_0x203b54),fs[_0x456d35(0x10e)](_0x2e4ee3);}}else{const _0x880d15=[],_0x233dac=fs[_0x456d35(0xe5)](_0x58f19d);for await(let _0x3a6a68 of _0x233dac)_0x880d15['push'](_0x3a6a68);_0x435e15=Buffer[_0x456d35(0x134)](_0x880d15);}const _0x5452d0=new _0x4ccc8e['WaveFile'](_0x435e15);_0x5452d0[_0x456d35(0xeb)](_0x456d35(0xf5)),_0x5452d0[_0x456d35(0x119)](0x3e80);let _0x548ec2=_0x5452d0['getSamples']();if(Array[_0x456d35(0x11d)](_0x548ec2)){if(_0x56ad92[_0x456d35(0xe1)](_0x548ec2[_0x456d35(0x136)],0x1)){const _0x41043a=Math[_0x456d35(0x125)](0x2);for(let _0x44b549=0x0;_0x56ad92[_0x456d35(0x131)](_0x44b549,_0x548ec2[0x0][_0x456d35(0x136)]);++_0x44b549){if(_0x456d35(0x10a)===_0x56ad92[_0x456d35(0xe8)])_0x548ec2[0x0][_0x44b549]=_0x41043a*_0x56ad92[_0x456d35(0xec)](_0x548ec2[0x0][_0x44b549],_0x548ec2[0x1][_0x44b549])/0x2;else{if(!_0x26bd44[_0x456d35(0x106)](_0x456d35(0x138)))return;_0x4c2b22[_0x456d35(0xee)](_0x456d35(0xe4)+_0x29ca3f[_0x456d35(0xf7)]+'\x20'+~~_0x1a5615?.[_0x456d35(0x138)]+'%');}}}_0x548ec2=_0x548ec2[0x0];}return _0x548ec2;}catch(_0x35842a){return console['error'](_0x456d35(0x12e),_0x35842a),null;}}async[_0x56c45c(0x124)](){const _0x21d446=_0x56c45c,_0x5b40a6={'Hchov':_0x21d446(0x128),'DFfLT':'progress','zOGeg':_0x21d446(0x105),'QBUDe':_0x21d446(0x112),'zoKbX':function(_0x600e0e,_0x1848eb,_0xab622,_0x4abb68){return _0x600e0e(_0x1848eb,_0xab622,_0x4abb68);},'bxRcy':_0x21d446(0xf1),'TuzKF':'KcMgl'};!fs[_0x21d446(0x137)](this[_0x21d446(0x10f)])&&this.#log(_0x21d446(0xfc)+this[_0x21d446(0x13f)]+')');try{if(_0x5b40a6[_0x21d446(0xe9)]===_0x5b40a6['QBUDe'])return _0x325265[_0x21d446(0xe3)]('convertToWavAudioData',_0x258f4f),null;else{const _0x51c05c=(..._0x46fab2)=>import(_0x21d446(0xed))[_0x21d446(0x113)](({pipeline:_0x27f04d})=>_0x27f04d(..._0x46fab2));return await _0x5b40a6[_0x21d446(0x127)](_0x51c05c,_0x21d446(0x144),this[_0x21d446(0x108)],{'cache_dir':this[_0x21d446(0x148)],...!fs[_0x21d446(0x137)](this[_0x21d446(0x10f)])?{'progress_callback':_0x4ad53c=>{const _0x183656=_0x21d446;if(_0x5b40a6[_0x183656(0x115)]!=='KfSDd')_0x503238[_0x183656(0xee)](_0x183656(0x130)+_0x1f6e29,..._0x569426);else{if(!_0x4ad53c['hasOwnProperty'](_0x5b40a6[_0x183656(0x135)]))return;console[_0x183656(0xee)]('\x1b[34m[Embedding\x20-\x20Downloading\x20Model\x20Files]\x1b[0m\x20'+_0x4ad53c[_0x183656(0xf7)]+'\x20'+~~_0x4ad53c?.[_0x183656(0x138)]+'%');}}}:{}});}}catch(_0x482b80){if(_0x5b40a6[_0x21d446(0x11b)]===_0x5b40a6[_0x21d446(0x102)])return{'content':null,'error':_0x49e816[_0x21d446(0x122)]};else{this.#log(_0x21d446(0xe2),_0x482b80);throw _0x482b80;}}}async[_0x56c45c(0xe7)](_0x412e4a,_0x1d98b1){const _0x477e1c=_0x56c45c;try{const _0x489696=new Promise(_0x4aab11=>this['client']()[_0x477e1c(0x113)](_0x35be3a=>_0x4aab11(_0x35be3a))),_0x990bce=new Promise(_0x335ad1=>this.#convertToWavAudioData(_0x412e4a)[_0x477e1c(0x113)](_0x866441=>_0x335ad1(_0x866441))),[_0x57294c,_0x395e68]=await Promise[_0x477e1c(0x118)]([_0x990bce,_0x489696]);if(!_0x57294c)return this.#log(_0x477e1c(0xff)+_0x1d98b1+'.'),{'content':null,'error':_0x477e1c(0xff)+_0x1d98b1+'.'};this.#log(_0x477e1c(0x143));const {text:_0x53e498}=await _0x395e68(_0x57294c,{'chunk_length_s':0x1e,'stride_length_s':0x5});return{'content':_0x53e498,'error':null};}catch(_0x5dbaa2){return{'content':null,'error':_0x5dbaa2[_0x477e1c(0x122)]};}}}function _0x5216(){const _0x1bdbf9=['length','existsSync','progress','plpLn','559478NvDWKH','Conversion\x20Complete!\x20File\x20converted\x20to\x20.wav!','push','exports','LJMLJ','fileSize','yqHXw','WhisperModelPref','232144pCjGXv','Transcribing\x20audio\x20data\x20to\x20text...','automatic-speech-recognition','SFWwL','10057734NsunVe','YyjhQ','cacheDir','File\x20conversion\x20required!\x20','wavefile','PJYzp','DKkPv','Failed\x20to\x20load\x20the\x20native\x20whisper\x20model:','error','\x1b[34m[Embedding\x20-\x20Downloading\x20Model\x20Files]\x1b[0m\x20','createReadStream','5ZILypJ','processFile','FRYoI','zOGeg','fCfiE','toBitDepth','TwvBi','@xenova/transformers','log','JkYpR','resolve','erKte','path','extname','250mb','32f','[Conversion\x20Failed]:\x20Could\x20not\x20convert\x20file\x20to\x20.wav\x20format!','file','.wav','1.56GB','SlDeH','STORAGE_DIR','The\x20native\x20whisper\x20model\x20has\x20never\x20been\x20run\x20and\x20will\x20be\x20downloaded\x20right\x20now.\x20Subsequent\x20runs\x20will\x20be\x20faster.\x20(~','702930tCZNhE','oHTOb','Failed\x20to\x20parse\x20content\x20from\x20','AiyGD','Conversion\x20Error!\x20','TuzKF','KB\x20converted','1|5|0|3|2|4','ZqUyF','hasOwnProperty','Bfmhq','model','mkdirSync','OGOBV','env','mliJC','save','rmSync','modelPath','../../../server/storage/models','\x20file\x20detected\x20-\x20converting\x20to\x20.wav','xAZKq','then','Conversion\x20Processing!\x20','Hchov','models','uuid','all','toSampleRate','wBNbZ','bxRcy','840088rOxpsV','isArray','YlzXl','uJAaD','ZUeHU','sNAtg','message','14peuArZ','client','sqrt','Initialized.','zoKbX','KfSDd','wav','AgzaA','Xenova/whisper-small','toLowerCase','LRdAw','convertToWavAudioData','3182118wzBNpx','\x1b[32m[LocalWhisper]\x1b[0m\x20','EKacK','tWiPs','624858MIxzCo','concat','DFfLT'];_0x5216=function(){return _0x1bdbf9;};return _0x5216();}module[_0x56c45c(0x13d)]={'LocalWhisper':LocalWhisper};