'use strict';const _0x137e3b=_0x5886;(function(_0x55847a,_0x3e6152){const _0x23bad0=_0x5886,_0x3fc4cc=_0x55847a();while(!![]){try{const _0x4bf1c3=-parseInt(_0x23bad0(0x89))/0x1*(parseInt(_0x23bad0(0x93))/0x2)+parseInt(_0x23bad0(0x9d))/0x3+parseInt(_0x23bad0(0x86))/0x4+-parseInt(_0x23bad0(0xc0))/0x5+parseInt(_0x23bad0(0x96))/0x6*(parseInt(_0x23bad0(0xba))/0x7)+parseInt(_0x23bad0(0xc2))/0x8+-parseInt(_0x23bad0(0xa9))/0x9;if(_0x4bf1c3===_0x3e6152)break;else _0x3fc4cc['push'](_0x3fc4cc['shift']());}catch(_0x28fd5e){_0x3fc4cc['push'](_0x3fc4cc['shift']());}}}(_0x23d3,0x299ac));const crypto=require(_0x137e3b(0xa5)),fp=require(_0x137e3b(0x98)),defaultOptions={'keys':[],'auth':undefined,'errorResponse'(_0x901a23){const _0x30e085=_0x137e3b;return{'error':_0x901a23[_0x30e085(0xac)]};},'contentType':undefined,'bearerType':_0x137e3b(0x9e)};function _0x23d3(){const _0x476bf0=['121461hpeFbN','Bearer','length','KTuKq','3.x','RkzgI','WoCyb','log','crypto','zrdIw','addHook','internals','3199941ZpodLG','Jjvaa','assign','message','NtJyu','code','function','xLEUd','missing\x20authorization\x20header','verifyBearerAuthFactory','resolve','error','pfeBk','keys','verifyErrorLogLevel','zldaA','AjrHY','557417DiBqMx','timingSafeEqual','verifyBearerAuth','header','string','onRequest','810xrYlgW','reject','2347112WyVuuH','zxXzU','FuQKd','wkCcf','hDLSv','rPUcR','hHpIb','uJRgT','call','Dsqmp','FsBmC','from','WskcG','content-type','JkgoZ','fastify.log\x20does\x20not\x20have\x20level\x20\x27','117420MQewBp','raw','trim','2192lAsBpV','LfaAM','findIndex','jVRtn','fastify-bearer-auth','lLskM','unauthorized:\x20%s','substring','exports','GEoOB','142perenL','then','HRcCP','24JCJHNT','hasOwnProperty','fastify-plugin','decorate','MVtFp','send','KGFbd'];_0x23d3=function(){return _0x476bf0;};return _0x23d3();}function verifyBearerAuthFactory(_0x2ea056){const _0x3b1068=_0x137e3b,_0xc79bfd={'zldaA':function(_0x34bb37,_0x2cc424,_0x4840f5){return _0x34bb37(_0x2cc424,_0x4840f5);},'rvpvb':_0x3b1068(0xbc),'hHpIb':function(_0x97de23,_0x3d4e61){return _0x97de23===_0x3d4e61;},'DAmUB':'wyVSx','wkCcf':_0x3b1068(0x8f),'jVRtn':_0x3b1068(0x83),'Dsqmp':function(_0x308713,_0x3c7c53){return _0x308713(_0x3c7c53);},'IoImQ':function(_0x17d65b,_0x4a758e){return _0x17d65b instanceof _0x4a758e;},'zxXzU':function(_0x47d677,_0x2749ac){return _0x47d677!==_0x2749ac;},'NBBAV':'CJuSD'},_0x41002e=Object['assign']({},defaultOptions,_0x2ea056);if(_0x41002e[_0x3b1068(0xb6)]instanceof Set)_0x41002e[_0x3b1068(0xb6)]=Array[_0x3b1068(0x81)](_0x41002e['keys']);const {keys:_0x2ccbea,errorResponse:_0x552279,contentType:_0x251197,bearerType:_0x3fffed,auth:_0x13268c,addHook:addHook=!![],verifyErrorLogLevel:verifyErrorLogLevel=_0x3b1068(0xb4)}=_0x41002e;return function _0x15a57c(_0x1bc912,_0x419221,_0x2e3748){const _0xcd303f=_0x3b1068,_0x1216db={'GEoOB':_0xc79bfd['rvpvb'],'FuQKd':function(_0x3f48c4,_0x26782b){const _0x5d1215=_0x5886;return _0xc79bfd[_0x5d1215(0x7c)](_0x3f48c4,_0x26782b);},'NtJyu':_0xcd303f(0x82),'Jjvaa':_0xc79bfd['DAmUB'],'lLskM':_0xc79bfd[_0xcd303f(0x79)],'xLEUd':_0xc79bfd[_0xcd303f(0x8c)],'LfaAM':_0xcd303f(0x95),'WoCyb':function(_0x129788){return _0x129788();},'hDLSv':function(_0x2ec9a6,_0x549c2a){const _0x2946ed=_0xcd303f;return _0xc79bfd[_0x2946ed(0x7f)](_0x2ec9a6,_0x549c2a);},'AjrHY':function(_0x590e62,_0x580945){return _0x590e62(_0x580945);},'FsBmC':function(_0x39341e,_0x470ae2){const _0x559e3d=_0xcd303f;return _0xc79bfd[_0x559e3d(0x7f)](_0x39341e,_0x470ae2);}},_0x21d631=_0x1bc912[_0xcd303f(0x87)]['headers']['authorization'];if(!_0x21d631){const _0x1af83c=_0xc79bfd[_0xcd303f(0x7f)](Error,_0xcd303f(0xb1));if(verifyErrorLogLevel)_0x1bc912[_0xcd303f(0xa4)][verifyErrorLogLevel](_0xc79bfd[_0xcd303f(0x79)],_0x1af83c['message']);if(_0x251197)_0x419221[_0xcd303f(0xbd)](_0xc79bfd['jVRtn'],_0x251197);_0x419221[_0xcd303f(0xae)](0x191);if(!addHook){_0x2e3748(_0x1af83c);return;}_0x419221[_0xcd303f(0x9b)](_0x552279(_0x1af83c));return;}const _0x19ffdd=_0x21d631[_0xcd303f(0x90)](_0x3fffed[_0xcd303f(0x9f)])[_0xcd303f(0x88)]();let _0x435333;if(_0x13268c&&_0xc79bfd['IoImQ'](_0x13268c,Function))try{_0x435333=_0x13268c(_0x19ffdd,_0x1bc912);}catch(_0x3659fa){_0x435333=Promise[_0xcd303f(0xc1)](_0x3659fa);}else _0xc79bfd[_0xcd303f(0xc3)](_0xcd303f(0xa0),_0xc79bfd['NBBAV'])?_0x435333=authenticate(_0x2ccbea,_0x19ffdd):_0x15dcb4=_0xc79bfd[_0xcd303f(0xb8)](_0x47f8dc,_0x495b70,_0x35dbba);const _0x3ba4d2=Error('invalid\x20authorization\x20header');Promise[_0xcd303f(0xb3)](_0x435333)[_0xcd303f(0x94)](_0x530ae7=>{const _0x29ad38=_0xcd303f,_0x62a5e9={'rPUcR':_0x1216db[_0x29ad38(0x92)],'JkgoZ':function(_0xaa8654,_0x181e3c){return _0xaa8654(_0x181e3c);},'uJRgT':function(_0x45e69f,_0x29ed4c){return _0x45e69f(_0x29ed4c);}};if(_0x1216db[_0x29ad38(0xc4)](_0x530ae7,![])){if(_0x1216db[_0x29ad38(0xad)]!==_0x1216db[_0x29ad38(0xaa)]){if(verifyErrorLogLevel)_0x1bc912[_0x29ad38(0xa4)][verifyErrorLogLevel](_0x1216db[_0x29ad38(0x8e)],_0x3ba4d2[_0x29ad38(0xac)]);if(_0x251197)_0x419221[_0x29ad38(0xbd)](_0x1216db[_0x29ad38(0xb0)],_0x251197);_0x419221[_0x29ad38(0xae)](0x191);if(!addHook)return _0x2e3748(_0x3ba4d2);_0x419221[_0x29ad38(0x9b)](_0x552279(_0x3ba4d2));return;}else _0x18a86d[_0x29ad38(0x99)](_0x29ad38(0xb2),_0x548313),_0x27be50[_0x29ad38(0x99)](_0x62a5e9[_0x29ad38(0x7b)],_0x62a5e9[_0x29ad38(0x84)](_0x58331f,_0x2a8bef));}if(_0x530ae7===!![]){try{_0x1216db[_0x29ad38(0x8a)]!==_0x1216db[_0x29ad38(0x8a)]?_0xbf505e[_0x29ad38(0xa7)](_0x29ad38(0xbf),_0x62a5e9[_0x29ad38(0x7d)](_0xd2049,_0x5d6d1d)):_0x1216db[_0x29ad38(0xa3)](_0x2e3748);}catch(_0x59daba){_0x1216db['hDLSv'](_0x2e3748,_0x59daba);}return;}const _0x1584c7=new Error('internal\x20server\x20error');_0x419221[_0x29ad38(0xae)](0x1f4);if(!addHook)return _0x2e3748(_0x1584c7);_0x419221[_0x29ad38(0x9b)](_0x552279(_0x1584c7));})['catch'](_0x4d6226=>{const _0x24c1e9=_0xcd303f,_0x55281f=_0x4d6226 instanceof Error?_0x4d6226:Error(_0x1216db[_0x24c1e9(0x7a)](String,_0x4d6226));_0x419221[_0x24c1e9(0xae)](0x1f4);if(!addHook)return _0x1216db[_0x24c1e9(0xb9)](_0x2e3748,_0x55281f);_0x419221[_0x24c1e9(0x9b)](_0x1216db[_0x24c1e9(0x80)](_0x552279,_0x55281f));});};}function authenticate(_0x3b8a92,_0x32d133){const _0x1e7cfe=_0x137e3b,_0x581836={'aovGa':function(_0x4951f9,_0x42daec){return _0x4951f9!==_0x42daec;}};return _0x581836['aovGa'](_0x3b8a92[_0x1e7cfe(0x8b)](_0x5b9e09=>compare(_0x5b9e09,_0x32d133)),-0x1);}function _0x5886(_0x6aaa79,_0x373722){const _0x23d3b1=_0x23d3();return _0x5886=function(_0x58863c,_0x4d39ff){_0x58863c=_0x58863c-0x79;let _0x235f73=_0x23d3b1[_0x58863c];return _0x235f73;},_0x5886(_0x6aaa79,_0x373722);}function compare(_0x419651,_0x5533c6){const _0x42410a=_0x137e3b;try{return crypto[_0x42410a(0xbb)](Buffer[_0x42410a(0x81)](_0x419651),Buffer[_0x42410a(0x81)](_0x5533c6));}catch{return![];}}function plugin(_0x4b9226,_0x26e929,_0x3b029f){const _0x1ca809=_0x137e3b,_0x32cdb0={'FlmBS':_0x1ca809(0xb4),'zrdIw':_0x1ca809(0xaf),'RkzgI':function(_0x542c3e,_0x3e9bb1){return _0x542c3e!=_0x3e9bb1;},'KGFbd':function(_0x102278,_0x13d169){return _0x102278!==_0x13d169;},'MVtFp':function(_0xe71219,_0x30695e){return _0xe71219(_0x30695e);},'pfeBk':_0x1ca809(0xbc)},_0x453719=_0x1ca809(0xb4);_0x26e929=Object[_0x1ca809(0xab)]({'addHook':!![],'verifyErrorLogLevel':_0x453719},_0x26e929);if(!Object[_0x1ca809(0x97)][_0x1ca809(0x7e)](_0x4b9226['log'],_0x32cdb0['FlmBS'])||typeof _0x4b9226[_0x1ca809(0xa4)][_0x1ca809(0xb4)]!==_0x32cdb0[_0x1ca809(0xa6)])_0x26e929['verifyErrorLogLevel']=null;if(_0x32cdb0[_0x1ca809(0xa2)](_0x26e929['verifyErrorLogLevel'],null)&&(_0x32cdb0[_0x1ca809(0x9c)](typeof _0x26e929[_0x1ca809(0xb7)],_0x1ca809(0xbe))||!Object['hasOwnProperty'][_0x1ca809(0x7e)](_0x4b9226[_0x1ca809(0xa4)],_0x26e929[_0x1ca809(0xb7)])||typeof _0x4b9226['log'][_0x26e929[_0x1ca809(0xb7)]]!==_0x1ca809(0xaf))){const _0x2a4703=Error(_0x1ca809(0x85)+_0x26e929['verifyErrorLogLevel']+'\x27');_0x32cdb0['MVtFp'](_0x3b029f,_0x2a4703);}_0x26e929[_0x1ca809(0xa7)]===!![]?_0x4b9226[_0x1ca809(0xa7)]('onRequest',verifyBearerAuthFactory(_0x26e929)):(_0x4b9226[_0x1ca809(0x99)](_0x1ca809(0xb2),verifyBearerAuthFactory),_0x4b9226['decorate'](_0x32cdb0[_0x1ca809(0xb5)],_0x32cdb0[_0x1ca809(0x9a)](verifyBearerAuthFactory,_0x26e929))),_0x3b029f();}module[_0x137e3b(0x91)]=fp(plugin,{'fastify':_0x137e3b(0xa1),'name':_0x137e3b(0x8d)}),module['exports'][_0x137e3b(0xa8)]={'factory':verifyBearerAuthFactory};