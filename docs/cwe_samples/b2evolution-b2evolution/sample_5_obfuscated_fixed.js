function _0x9095(_0x35f64e,_0x54dc10){const _0x5b01da=_0x5b01();return _0x9095=function(_0x909584,_0x548fb3){_0x909584=_0x909584-0x152;let _0x3a6c84=_0x5b01da[_0x909584];return _0x3a6c84;},_0x9095(_0x35f64e,_0x54dc10);}function _0x5b01(){const _0x5437a1=['//google.com','129647LxIHTC','should\x20return\x20401\x20when\x20checking\x20many\x20claims\x20with\x20anonymous\x20user','zloIu','foo','jGYtp','bar','/protected','OJIfK','JCnwU','__test_session_secret__','should\x20throw\x20when\x20claim\x20value\x20for\x20checking\x20many\x20claims\x20is\x20a\x20non\x20primitive','DlmhK','defaults','XcuXL','include','some_claim','jJqEF','188340wvVxwB','bar\x20baz','should\x20return\x20401\x20for\x20logged\x20with\x20some\x20of\x20the\x20requested\x20claims','lPCnX','should\x20allow\x20logged\x20in\x20users\x20with\x20the\x20right\x20claim','throws','statusCode','gzDWN','./fixture/server','should\x20return\x20401\x20when\x20logged\x20in\x20user\x20doesn\x27t\x20have\x20the\x20right\x20value\x20for\x20claim','LAsZz','message','CGKwp','qux','hwmID','should\x20not\x20accept\x20claim\x20values\x20that\x20aren\x27t\x20a\x20string\x20or\x20array','should\x20401\x20for\x20anonymous\x20users\x20who\x20don\x27t\x20accept\x20html','\x22claimCheck\x22\x20expects\x20a\x20function','pRSwa','kVfZp','./fixture/cert','https://op.example.com','IUGMV','chai','should\x20throw\x20when\x20claim\x20is\x20not\x20a\x20string','yBPPm','HPyYF','4734786UWVfEN','should\x20allow\x20user\x20when\x20custom\x20claim\x20check\x20returns\x20truthy','pOpui','returnTo','req.oidc\x20is\x20not\x20found,\x20did\x20you\x20include\x20the\x20auth\x20middleware?','Kyqpa','ONdtP','should\x20return\x20401\x20when\x20checking\x20multiple\x20claims\x20and\x20the\x20user\x20doesn\x27t\x20have\x20the\x20claim','SXYFR','9769779LXQvQY','\x22expected\x22\x20must\x20be\x20a\x20string,\x20number,\x20boolean\x20or\x20null','\x22claim\x22\x20must\x20be\x20a\x20string','/session','DYDxw','mqwRl','dcaWz','should\x20not\x20allow\x20user\x20when\x20custom\x20claim\x20check\x20returns\x20falsey','jbOmo','ZKTLB','DrMSK','baz','904uPWNqu','gflGo','JVMmV','fXVqs','wVprx','location','wcVxJ','jar','SXmMO','BpJXZ','BKKDi','parse','should\x20allow\x20logged\x20in\x20users\x20with\x20all\x20of\x20the\x20requested\x20claims','should\x20ask\x20anonymous\x20user\x20to\x20login\x20when\x20visiting\x20a\x20protected\x20route','tFQTI','should\x20throw\x20when\x20claim\x20value\x20is\x20a\x20non\x20primitive','should\x20return\x20401\x20when\x20logged\x20in\x20user\x20doesn\x27t\x20have\x20the\x20claim','dtImo','should\x20collapse\x20leading\x20slashes\x20on\x20returnTo','get','fOGOU','qMdol','baz\x20bar','should\x20make\x20the\x20token\x20claims\x20available\x20to\x20custom\x20check','close','searchParams','./..','6223pPBxNy','rfMeh','CvlYR','KVDNQ','Cknps','state','20095jZVFDi','///google.com','equal','__test_client_id__','TpcHJ','EkJLC','should\x20accept\x20claim\x20values\x20as\x20a\x20space\x20separated\x20list','requiresAuth','notCalled','pvTfc','RKjay','assert','IscJk','iuLMn','QcexK','GmVXZ','uKMGs','http://example.org','WAHOn','NBCzy','296wBpCAm','812799vjEBGE','LltEa','bACQc','from','xvnMY','headers','HhVCr','request-promise-native','IpFCw','QpQgJ','nAksH','kyhPh','/google.com','should\x20not\x20allow\x20anonymous\x20users\x20to\x20check\x20custom\x20claims','hZfmN','GVNPo'];_0x5b01=function(){return _0x5437a1;};return _0x5b01();}const _0x20b8ba=_0x9095;(function(_0x4cd9e3,_0x387a39){const _0x4320c3=_0x9095,_0x36cd36=_0x4cd9e3();while(!![]){try{const _0x6f5758=parseInt(_0x4320c3(0x197))/0x1+parseInt(_0x4320c3(0x1a8))/0x2+-parseInt(_0x4320c3(0x186))/0x3+parseInt(_0x4320c3(0x1d8))/0x4*(parseInt(_0x4320c3(0x171))/0x5)+parseInt(_0x4320c3(0x1c3))/0x6+parseInt(_0x4320c3(0x16b))/0x7*(-parseInt(_0x4320c3(0x185))/0x8)+-parseInt(_0x4320c3(0x1cc))/0x9;if(_0x6f5758===_0x387a39)break;else _0x36cd36['push'](_0x36cd36['shift']());}catch(_0x29ac1c){_0x36cd36['push'](_0x36cd36['shift']());}}}(_0x5b01,0x81dad));const {assert}=require(_0x20b8ba(0x1bf)),sinon=require('sinon'),{create:createServer}=require(_0x20b8ba(0x1b0)),{makeIdToken}=require(_0x20b8ba(0x1bc)),{auth,requiresAuth,claimEquals,claimIncludes,claimCheck}=require(_0x20b8ba(0x16a)),request=require(_0x20b8ba(0x18d))[_0x20b8ba(0x1a3)]({'simple':![],'resolveWithFullResponse':!![],'followRedirect':![]}),baseUrl='http://localhost:3000',defaultConfig={'secret':_0x20b8ba(0x1a0),'clientID':_0x20b8ba(0x174),'baseURL':_0x20b8ba(0x182),'issuerBaseURL':'https://op.example.com'},login=async _0x463857=>{const _0x32d960=_0x20b8ba,_0x4f8702={'JmbgW':_0x32d960(0x1cf)},_0x4b35d1=request[_0x32d960(0x157)]();return await request['post'](_0x4f8702['JmbgW'],{'baseUrl':baseUrl,'jar':_0x4b35d1,'json':{'id_token':makeIdToken(_0x463857)}}),_0x4b35d1;};describe(_0x20b8ba(0x178),()=>{const _0x312182=_0x20b8ba,_0x3cef7a={'yBPPm':_0x312182(0x1b9),'fXVqs':function(_0x3892f2,_0x3547e0){return _0x3892f2!==_0x3547e0;},'gzDWN':_0x312182(0x1ab),'iuLMn':function(_0x833f9e,_0x1ac38c,_0x3c85c3){return _0x833f9e(_0x1ac38c,_0x3c85c3);},'gflGo':function(_0x52a81f){return _0x52a81f();},'LltEa':function(_0x40dc37,_0x5c5b14){return _0x40dc37(_0x5c5b14);},'wcVxJ':'xmihr','BKKDi':function(_0x3f89f0,_0x30a466){return _0x3f89f0(_0x30a466);},'Cknps':function(_0x3d725b,_0x125988){return _0x3d725b(_0x125988);},'WAHOn':_0x312182(0x19d),'dtImo':function(_0x2f23af,_0x45e374){return _0x2f23af===_0x45e374;},'nAksH':_0x312182(0x184),'dIsip':function(_0x1a72c3,_0xba3318){return _0x1a72c3(_0xba3318);},'BpJXZ':function(_0x43bc81){return _0x43bc81();},'OJIfK':function(_0x328df7,_0xbaf165){return _0x328df7(_0xbaf165);},'bACQc':function(_0x409666,_0x31975c,_0x5e3b43){return _0x409666(_0x31975c,_0x5e3b43);},'ONdtP':_0x312182(0x19c),'wVprx':'foo','pvTfc':_0x312182(0x1d7),'rfMeh':function(_0x546104,_0x2ad6d4,_0x21528a){return _0x546104(_0x2ad6d4,_0x21528a);},'CvlYR':function(_0x4a8b00,_0x227675){return _0x4a8b00(_0x227675);},'EkJLC':function(_0x51b81a,_0x1bd8ce,_0x214b17){return _0x51b81a(_0x1bd8ce,_0x214b17);},'TpcHJ':_0x312182(0x1ce),'hwmID':'\x22expected\x22\x20must\x20be\x20a\x20string,\x20number,\x20boolean\x20or\x20null','CGKwp':function(_0x48914a,_0x5d34b7,_0x3ad507){return _0x48914a(_0x5d34b7,_0x3ad507);},'IpFCw':function(_0x1ce6ce,_0x1c0441,_0x4e0b04,_0x2ba8ab){return _0x1ce6ce(_0x1c0441,_0x4e0b04,_0x2ba8ab);},'pOpui':function(_0xb5a559,_0x5f5df0){return _0xb5a559(_0x5f5df0);},'GmVXZ':_0x312182(0x1b5),'OoSrC':_0x312182(0x166),'SXYFR':function(_0x1b83d4,_0x38b26a){return _0x1b83d4(_0x38b26a);},'HPyYF':function(_0x355daa,_0x5cfa69){return _0x355daa(_0x5cfa69);},'ncTby':function(_0x220701,_0x296897){return _0x220701(_0x296897);},'SXmMO':_0x312182(0x1d0),'tFQTI':_0x312182(0x1d5),'XcuXL':_0x312182(0x1a9),'QpQgJ':function(_0x3fce3c,_0x25cbcc,_0x1e6740){return _0x3fce3c(_0x25cbcc,_0x1e6740);},'mqwRl':function(_0x488b26,_0x54097a){return _0x488b26(_0x54097a);},'IUGMV':function(_0x183091,_0x2c6bb1,_0x5022aa,_0x69c8ca){return _0x183091(_0x2c6bb1,_0x5022aa,_0x69c8ca);},'RApQL':function(_0x5717c7,_0x12017d){return _0x5717c7(_0x12017d);},'DlmhK':function(_0xf8fe10,_0x3afb31){return _0xf8fe10(_0x3afb31);},'Kyqpa':function(_0x1dd889,_0x50c18b){return _0x1dd889(_0x50c18b);},'kVfZp':function(_0x52eebc,_0x522c9f){return _0x52eebc(_0x522c9f);},'zloIu':function(_0x48013e,_0x390479){return _0x48013e(_0x390479);},'KVDNQ':function(_0x286439,_0x256a2c){return _0x286439(_0x256a2c);},'JCnwU':_0x312182(0x1a6),'dcaWz':function(_0x43e99e,_0xa6f5cb){return _0x43e99e(_0xa6f5cb);},'DrMSK':_0x312182(0x18a),'jGYtp':function(_0x4b1c93,_0x208b9c){return _0x4b1c93(_0x208b9c);},'ETRNI':_0x312182(0x172),'SyUmi':_0x312182(0x196),'vtegk':_0x312182(0x170),'hZfmN':'base64','QcexK':_0x312182(0x192),'eItTO':function(_0x4e1429,_0x30ce9a,_0x11949f){return _0x4e1429(_0x30ce9a,_0x11949f);},'jcGwq':function(_0x3939f9,_0x26307e,_0x2ca574){return _0x3939f9(_0x26307e,_0x2ca574);},'HhVCr':_0x312182(0x1ac),'pRSwa':_0x312182(0x1b1),'jbOmo':function(_0x24f523,_0x172d5a,_0x3c5dc8){return _0x24f523(_0x172d5a,_0x3c5dc8);},'jJqEF':_0x312182(0x1c0),'RKjay':function(_0x35ea4b,_0x2c516a,_0x418e6f){return _0x35ea4b(_0x2c516a,_0x418e6f);},'LAsZz':function(_0x35daf6,_0x5a1fa6,_0x55bd01){return _0x35daf6(_0x5a1fa6,_0x55bd01);},'IscJk':_0x312182(0x1aa),'fyTYq':_0x312182(0x1b7),'JVMmV':'should\x20throw\x20when\x20custom\x20claim\x20check\x20doesn\x27t\x20get\x20a\x20function','fOGOU':_0x312182(0x1c4),'kyhPh':_0x312182(0x1d3),'QfoPF':_0x312182(0x167),'uKMGs':_0x312182(0x193),'qMdol':_0x312182(0x162)};let _0x588985;afterEach(async()=>{const _0xacf505=_0x312182;_0x588985&&_0x588985[_0xacf505(0x168)]();}),_0x3cef7a['eItTO'](it,'should\x20allow\x20logged\x20in\x20users\x20to\x20visit\x20a\x20protected\x20route',async()=>{const _0x244bdf=_0x312182;if(_0x3cef7a[_0x244bdf(0x153)](_0x3cef7a[_0x244bdf(0x1af)],'lPCnX'))_0x23acd7[_0x244bdf(0x1ad)](()=>_0x4d15de(null),_0xf511ea,_0x3cef7a[_0x244bdf(0x1c1)]);else{_0x588985=await _0x3cef7a['iuLMn'](createServer,auth({...defaultConfig,'authRequired':![]}),requiresAuth());const _0x58f93f=await _0x3cef7a[_0x244bdf(0x1d9)](login),_0x34362c=await _0x3cef7a[_0x244bdf(0x187)](request,{'baseUrl':baseUrl,'jar':_0x58f93f,'url':_0x244bdf(0x19d)});assert[_0x244bdf(0x173)](_0x34362c[_0x244bdf(0x1ae)],0xc8);}}),_0x3cef7a[_0x312182(0x18f)](it,_0x312182(0x15d),async()=>{const _0x5c4de2=_0x312182;if(_0x3cef7a[_0x5c4de2(0x156)]!==_0x3cef7a[_0x5c4de2(0x156)])_0x3c126c['throws'](()=>_0x29c4dc(!![],_0x5c4de2(0x19c)),_0x1ab53c,_0x5c4de2(0x1ce));else{_0x588985=await createServer(_0x3cef7a[_0x5c4de2(0x15a)](auth,{...defaultConfig,'authRequired':![]}),_0x3cef7a[_0x5c4de2(0x1d9)](requiresAuth));const _0xb354e6=await _0x3cef7a[_0x5c4de2(0x16f)](request,{'baseUrl':baseUrl,'url':_0x3cef7a[_0x5c4de2(0x183)]}),_0x312731=new URL(_0xb354e6[_0x5c4de2(0x18b)][_0x5c4de2(0x155)])[_0x5c4de2(0x169)][_0x5c4de2(0x163)](_0x5c4de2(0x170)),_0x19f73f=Buffer[_0x5c4de2(0x189)](_0x312731,'base64'),_0x1cf877=JSON[_0x5c4de2(0x15b)](_0x19f73f);assert[_0x5c4de2(0x173)](_0xb354e6['statusCode'],0x12e),assert['include'](_0xb354e6[_0x5c4de2(0x18b)]['location'],_0x5c4de2(0x1bd)),assert[_0x5c4de2(0x173)](_0x1cf877[_0x5c4de2(0x1c6)],_0x3cef7a['WAHOn']);}}),_0x3cef7a['iuLMn'](it,_0x312182(0x1b8),async()=>{const _0x5a9c5c=_0x312182;if(_0x3cef7a[_0x5a9c5c(0x161)](_0x3cef7a[_0x5a9c5c(0x190)],'erTBK'))_0x148a1f&&_0x4e7984[_0x5a9c5c(0x168)]();else{_0x588985=await createServer(_0x3cef7a['dIsip'](auth,{...defaultConfig,'authRequired':![]}),_0x3cef7a['BpJXZ'](requiresAuth));const _0x19de64=await _0x3cef7a[_0x5a9c5c(0x187)](request,{'baseUrl':baseUrl,'url':_0x5a9c5c(0x19d),'json':!![]});assert[_0x5a9c5c(0x173)](_0x19de64[_0x5a9c5c(0x1ae)],0x191);}}),_0x3cef7a['jcGwq'](it,'should\x20return\x20401\x20when\x20anonymous\x20user\x20visits\x20a\x20protected\x20route',async()=>{const _0x54024c=_0x312182;_0x588985=await createServer(auth({...defaultConfig,'authRequired':![],'errorOnRequiredAuth':!![]}),requiresAuth());const _0xf9fd8a=await request({'baseUrl':baseUrl,'url':_0x3cef7a[_0x54024c(0x183)]});assert[_0x54024c(0x173)](_0xf9fd8a[_0x54024c(0x1ae)],0x191);}),_0x3cef7a[_0x312182(0x1b4)](it,'should\x20throw\x20when\x20there\x27s\x20no\x20auth\x20middleware',async()=>{const _0x4639c8=_0x312182;_0x588985=await createServer(null,_0x3cef7a[_0x4639c8(0x159)](requiresAuth));const {body:{err:_0x26504f}}=await _0x3cef7a[_0x4639c8(0x19e)](request,{'baseUrl':baseUrl,'url':_0x3cef7a[_0x4639c8(0x183)],'json':!![]});assert['equal'](_0x26504f[_0x4639c8(0x1b3)],_0x4639c8(0x1c7));}),_0x3cef7a['iuLMn'](it,_0x3cef7a[_0x312182(0x18c)],async()=>{const _0x56c3db=_0x312182;_0x588985=await _0x3cef7a[_0x56c3db(0x188)](createServer,auth({...defaultConfig,'authRequired':![],'errorOnRequiredAuth':!![]}),claimEquals(_0x56c3db(0x19a),_0x3cef7a[_0x56c3db(0x1c9)]));const _0x242d81=await login({'foo':_0x56c3db(0x19c)}),_0x355f7f=await request({'baseUrl':baseUrl,'jar':_0x242d81,'url':'/protected'});assert[_0x56c3db(0x173)](_0x355f7f[_0x56c3db(0x1ae)],0xc8);}),it(_0x3cef7a[_0x312182(0x1ba)],async()=>{const _0x9eec35=_0x312182;_0x588985=await createServer(auth({...defaultConfig,'authRequired':![],'errorOnRequiredAuth':!![]}),_0x3cef7a[_0x9eec35(0x17e)](claimEquals,_0x3cef7a[_0x9eec35(0x154)],_0x9eec35(0x19c)));const _0x145b6d=await login({'foo':_0x3cef7a[_0x9eec35(0x17a)]}),_0x3cc7e2=await request({'baseUrl':baseUrl,'jar':_0x145b6d,'url':_0x9eec35(0x19d)});assert[_0x9eec35(0x173)](_0x3cc7e2['statusCode'],0x191);}),it(_0x312182(0x160),async()=>{const _0x17d4a5=_0x312182;_0x588985=await _0x3cef7a[_0x17d4a5(0x16c)](createServer,_0x3cef7a[_0x17d4a5(0x16d)](auth,{...defaultConfig,'authRequired':![],'errorOnRequiredAuth':!![]}),_0x3cef7a[_0x17d4a5(0x16c)](claimEquals,_0x17d4a5(0x1d7),_0x17d4a5(0x19c)));const _0x27e63b=await login({'foo':_0x17d4a5(0x19c)}),_0x278049=await request({'baseUrl':baseUrl,'jar':_0x27e63b,'url':_0x3cef7a[_0x17d4a5(0x183)]});assert[_0x17d4a5(0x173)](_0x278049[_0x17d4a5(0x1ae)],0x191);}),_0x3cef7a['CGKwp'](it,'should\x20return\x20401\x20when\x20anonymous\x20user\x20doesn\x27t\x20have\x20the\x20right\x20claim',async()=>{const _0x51ca9b=_0x312182;_0x588985=await _0x3cef7a['EkJLC'](createServer,auth({...defaultConfig,'authRequired':![],'errorOnRequiredAuth':!![]}),claimEquals('foo',_0x3cef7a[_0x51ca9b(0x1c9)]));const _0x45e5e1=await request({'baseUrl':baseUrl,'url':_0x3cef7a[_0x51ca9b(0x183)]});assert[_0x51ca9b(0x173)](_0x45e5e1['statusCode'],0x191);}),_0x3cef7a[_0x312182(0x1d4)](it,_0x3cef7a[_0x312182(0x1a7)],()=>{const _0x40977b=_0x312182;assert['throws'](()=>claimEquals(!![],_0x40977b(0x19c)),TypeError,_0x3cef7a[_0x40977b(0x175)]);}),_0x3cef7a[_0x312182(0x17b)](it,_0x312182(0x15f),()=>{const _0x2c532a=_0x312182;assert[_0x2c532a(0x1ad)](()=>claimEquals(_0x2c532a(0x19a),{'bar':0x1}),TypeError,_0x3cef7a[_0x2c532a(0x1b6)]);}),_0x3cef7a[_0x312182(0x188)](it,_0x312182(0x15c),async()=>{const _0x2ed83d=_0x312182;_0x588985=await _0x3cef7a[_0x2ed83d(0x1b4)](createServer,auth({...defaultConfig,'authRequired':![],'errorOnRequiredAuth':!![]}),_0x3cef7a['IpFCw'](claimIncludes,_0x2ed83d(0x19a),_0x3cef7a[_0x2ed83d(0x1c9)],_0x2ed83d(0x1d7)));const _0x52a185=await _0x3cef7a[_0x2ed83d(0x1c5)](login,{'foo':[_0x2ed83d(0x1d7),'bar']}),_0x375c95=await request({'baseUrl':baseUrl,'jar':_0x52a185,'url':_0x3cef7a[_0x2ed83d(0x183)]});assert[_0x2ed83d(0x173)](_0x375c95[_0x2ed83d(0x1ae)],0xc8);}),_0x3cef7a[_0x312182(0x1b2)](it,_0x3cef7a[_0x312182(0x17d)],async()=>{const _0x4596fc=_0x312182;_0x588985=await _0x3cef7a[_0x4596fc(0x17e)](createServer,auth({...defaultConfig,'authRequired':![],'errorOnRequiredAuth':!![]}),claimIncludes(_0x3cef7a[_0x4596fc(0x154)],_0x4596fc(0x19c),_0x3cef7a[_0x4596fc(0x17a)],_0x3cef7a[_0x4596fc(0x180)]));const _0x3fbc20=await login({'foo':_0x3cef7a['OoSrC']}),_0x56ce30=await _0x3cef7a[_0x4596fc(0x1cb)](request,{'baseUrl':baseUrl,'jar':_0x3fbc20,'url':_0x3cef7a['WAHOn']});assert[_0x4596fc(0x173)](_0x56ce30[_0x4596fc(0x1ae)],0x191);}),it(_0x312182(0x177),async()=>{const _0x4227f7=_0x312182;_0x588985=await createServer(_0x3cef7a[_0x4227f7(0x15a)](auth,{...defaultConfig,'authRequired':![],'errorOnRequiredAuth':!![]}),claimIncludes(_0x4227f7(0x19a),_0x3cef7a[_0x4227f7(0x1c9)],_0x3cef7a[_0x4227f7(0x17a)]));const _0xf93250=await _0x3cef7a[_0x4227f7(0x15a)](login,{'foo':_0x4227f7(0x166)}),_0x1308ba=await _0x3cef7a['pOpui'](request,{'baseUrl':baseUrl,'jar':_0xf93250,'url':_0x3cef7a[_0x4227f7(0x183)]});assert[_0x4227f7(0x173)](_0x1308ba[_0x4227f7(0x1ae)],0xc8);}),it(_0x3cef7a['fyTYq'],async()=>{const _0x46fa6=_0x312182;_0x588985=await _0x3cef7a[_0x46fa6(0x1b4)](createServer,_0x3cef7a[_0x46fa6(0x1c2)](auth,{...defaultConfig,'authRequired':![],'errorOnRequiredAuth':!![]}),claimIncludes(_0x3cef7a[_0x46fa6(0x154)],_0x3cef7a[_0x46fa6(0x1c9)],_0x46fa6(0x1d7)));const _0x5cd2dc=await _0x3cef7a[_0x46fa6(0x16d)](login,{'foo':{'bar':_0x46fa6(0x1d7)}}),_0x4e370a=await _0x3cef7a['ncTby'](request,{'baseUrl':baseUrl,'jar':_0x5cd2dc,'url':_0x3cef7a['WAHOn']});assert['equal'](_0x4e370a[_0x46fa6(0x1ae)],0x191);}),it(_0x312182(0x1a1),()=>{const _0x23c8df=_0x312182;assert[_0x23c8df(0x1ad)](()=>claimIncludes(![],_0x23c8df(0x19c)),TypeError,_0x23c8df(0x1ce));}),_0x3cef7a[_0x312182(0x176)](it,_0x312182(0x1ca),async()=>{const _0x4975f4=_0x312182,_0x5333f7={'GVNPo':_0x4975f4(0x1ce)};if(_0x3cef7a[_0x4975f4(0x158)]!==_0x3cef7a[_0x4975f4(0x15e)]){_0x588985=await createServer(auth({...defaultConfig,'authRequired':![],'errorOnRequiredAuth':!![]}),_0x3cef7a[_0x4975f4(0x18e)](claimIncludes,_0x4975f4(0x19a),_0x4975f4(0x19c),_0x4975f4(0x1d7)));const _0x49b8ed=await _0x3cef7a['pOpui'](login,{'bar':_0x3cef7a[_0x4975f4(0x1a4)]}),_0x5a00a4=await request({'baseUrl':baseUrl,'jar':_0x49b8ed,'url':_0x4975f4(0x19d)});assert[_0x4975f4(0x173)](_0x5a00a4[_0x4975f4(0x1ae)],0x191);}else _0x204d12['throws'](()=>_0x4b4a2d(![],_0x4975f4(0x19c)),_0x35075e,_0x5333f7[_0x4975f4(0x195)]);}),_0x3cef7a[_0x312182(0x188)](it,_0x312182(0x198),async()=>{const _0x32b1c3=_0x312182;_0x588985=await _0x3cef7a['QpQgJ'](createServer,_0x3cef7a[_0x32b1c3(0x1d1)](auth,{...defaultConfig,'authRequired':![],'errorOnRequiredAuth':!![]}),_0x3cef7a[_0x32b1c3(0x1be)](claimIncludes,'foo',_0x32b1c3(0x19c),_0x3cef7a[_0x32b1c3(0x17a)]));const _0x3f17f2=await _0x3cef7a['RApQL'](request,{'baseUrl':baseUrl,'url':_0x3cef7a[_0x32b1c3(0x183)]});assert['equal'](_0x3f17f2['statusCode'],0x191);}),it(_0x3cef7a[_0x312182(0x152)],async()=>{const _0x4392f0=_0x312182;assert['throws'](()=>claimCheck(null),TypeError,_0x3cef7a[_0x4392f0(0x1c1)]);}),it(_0x3cef7a[_0x312182(0x164)],async()=>{const _0x2158e6=_0x312182;_0x588985=await _0x3cef7a[_0x2158e6(0x17e)](createServer,_0x3cef7a['pOpui'](auth,{...defaultConfig,'authRequired':![],'errorOnRequiredAuth':!![]}),_0x3cef7a[_0x2158e6(0x1a2)](claimCheck,()=>!![]));const _0xa028fc=await login(),_0x518665=await request({'baseUrl':baseUrl,'jar':_0xa028fc,'url':_0x2158e6(0x19d)});assert[_0x2158e6(0x173)](_0x518665['statusCode'],0xc8);}),_0x3cef7a[_0x312182(0x17b)](it,_0x3cef7a[_0x312182(0x191)],async()=>{const _0x4192bb=_0x312182;_0x588985=await createServer(_0x3cef7a[_0x4192bb(0x1c8)](auth,{...defaultConfig,'authRequired':![],'errorOnRequiredAuth':!![]}),_0x3cef7a[_0x4192bb(0x1bb)](claimCheck,()=>![]));const _0x3415b2=await login(),_0x38d60a=await request({'baseUrl':baseUrl,'jar':_0x3415b2,'url':_0x4192bb(0x19d)});assert[_0x4192bb(0x173)](_0x38d60a['statusCode'],0x191);}),_0x3cef7a[_0x312182(0x1b2)](it,_0x3cef7a['QfoPF'],async()=>{const _0x3a52a2=_0x312182;_0x588985=await _0x3cef7a['bACQc'](createServer,_0x3cef7a[_0x3a52a2(0x1a2)](auth,{...defaultConfig,'authRequired':![],'errorOnRequiredAuth':!![]}),_0x3cef7a[_0x3a52a2(0x199)](claimCheck,(_0x1d87ce,_0xd617ad)=>_0xd617ad[_0x3a52a2(0x19a)]===_0x3a52a2(0x1a6)));const _0x131827=await _0x3cef7a[_0x3a52a2(0x16e)](login,{'foo':_0x3cef7a[_0x3a52a2(0x19f)]}),_0x345257=await _0x3cef7a[_0x3a52a2(0x1d2)](request,{'baseUrl':baseUrl,'jar':_0x131827,'url':_0x3a52a2(0x19d)});assert[_0x3a52a2(0x173)](_0x345257[_0x3a52a2(0x1ae)],0xc8);}),it(_0x3cef7a[_0x312182(0x181)],async()=>{const _0x2bf4ec=_0x312182;if(_0x2bf4ec(0x18a)===_0x3cef7a[_0x2bf4ec(0x1d6)]){const _0x49bfaa=sinon['spy']();_0x588985=await createServer(auth({...defaultConfig,'authRequired':![],'errorOnRequiredAuth':!![]}),claimCheck(_0x49bfaa));const _0x65f3a0=await _0x3cef7a[_0x2bf4ec(0x19b)](request,{'baseUrl':baseUrl,'url':_0x2bf4ec(0x19d)});assert['equal'](_0x65f3a0[_0x2bf4ec(0x1ae)],0x191),sinon[_0x2bf4ec(0x17c)][_0x2bf4ec(0x179)](_0x49bfaa);}else _0xd909e3[_0x2bf4ec(0x1ad)](()=>_0x3c08e3('foo',{'bar':0x1}),_0x300574,_0x2bf4ec(0x1cd));}),it(_0x3cef7a[_0x312182(0x165)],async()=>{const _0x40d2c6=_0x312182;_0x588985=await createServer(auth(defaultConfig));const _0x2d0208=[_0x40d2c6(0x196),_0x3cef7a['ETRNI'],_0x3cef7a['SyUmi']];for(const _0x5bad3c of _0x2d0208){const _0x38bf94=await _0x3cef7a[_0x40d2c6(0x19e)](request,{'url':''+baseUrl+_0x5bad3c}),_0x161773=new URL(_0x38bf94[_0x40d2c6(0x18b)]['location'])[_0x40d2c6(0x169)][_0x40d2c6(0x163)](_0x3cef7a['vtegk']),_0x2df683=Buffer[_0x40d2c6(0x189)](_0x161773,_0x3cef7a[_0x40d2c6(0x194)]),_0x24ea05=JSON[_0x40d2c6(0x15b)](_0x2df683);assert[_0x40d2c6(0x173)](_0x38bf94[_0x40d2c6(0x1ae)],0x12e),assert[_0x40d2c6(0x1a5)](_0x38bf94[_0x40d2c6(0x18b)][_0x40d2c6(0x155)],_0x40d2c6(0x1bd)),assert[_0x40d2c6(0x173)](_0x24ea05[_0x40d2c6(0x1c6)],_0x3cef7a[_0x40d2c6(0x17f)]);}});});