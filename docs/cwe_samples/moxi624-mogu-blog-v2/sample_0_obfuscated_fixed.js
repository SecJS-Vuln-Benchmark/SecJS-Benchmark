const _0x52ea5c=_0x381c;(function(_0x278950,_0x18dfe1){const _0x1bde07=_0x381c,_0x49841c=_0x278950();while(!![]){try{const _0x40bae9=parseInt(_0x1bde07(0x237))/0x1+-parseInt(_0x1bde07(0x2a6))/0x2+parseInt(_0x1bde07(0x21d))/0x3*(parseInt(_0x1bde07(0x2c3))/0x4)+-parseInt(_0x1bde07(0x219))/0x5+parseInt(_0x1bde07(0x27d))/0x6*(-parseInt(_0x1bde07(0x224))/0x7)+parseInt(_0x1bde07(0x294))/0x8+parseInt(_0x1bde07(0x284))/0x9;if(_0x40bae9===_0x18dfe1)break;else _0x49841c['push'](_0x49841c['shift']());}catch(_0x5bb187){_0x49841c['push'](_0x49841c['shift']());}}}(_0x4d38,0xee376));const KEY_MAPPING={'LLMProvider':{'envKey':_0x52ea5c(0x244),'checks':[isNotEmpty,supportedLLM],'postUpdate':[manageOllamaService]},'OpenAiKey':{'envKey':_0x52ea5c(0x268),'checks':[isNotEmpty,validOpenAIKey]},'OpenAiModelPref':{'envKey':'OPEN_MODEL_PREF','checks':[isNotEmpty]},'AzureOpenAiEndpoint':{'envKey':'AZURE_OPENAI_ENDPOINT','checks':[isNotEmpty]},'AzureOpenAiTokenLimit':{'envKey':_0x52ea5c(0x264),'checks':[validOpenAiTokenLimit]},'AzureOpenAiKey':{'envKey':_0x52ea5c(0x281),'checks':[isNotEmpty]},'AzureOpenAiModelPref':{'envKey':_0x52ea5c(0x280),'checks':[isNotEmpty]},'AzureOpenAiEmbeddingModelPref':{'envKey':_0x52ea5c(0x1de),'checks':[isNotEmpty]},'AnthropicApiKey':{'envKey':'ANTHROPIC_API_KEY','checks':[isNotEmpty,validAnthropicApiKey]},'AnthropicModelPref':{'envKey':_0x52ea5c(0x220),'checks':[isNotEmpty,validAnthropicModel]},'GeminiLLMApiKey':{'envKey':_0x52ea5c(0x25c),'checks':[isNotEmpty]},'GeminiLLMModelPref':{'envKey':_0x52ea5c(0x21a),'checks':[isNotEmpty,validGeminiModel]},'GeminiSafetySetting':{'envKey':_0x52ea5c(0x288),'checks':[validGeminiSafetySetting]},'LMStudioBasePath':{'envKey':'LMSTUDIO_BASE_PATH','checks':[isNotEmpty,validLLMExternalBasePath,validDockerizedUrl]},'LMStudioModelPref':{'envKey':_0x52ea5c(0x243),'checks':[]},'LMStudioTokenLimit':{'envKey':_0x52ea5c(0x1f0),'checks':[nonZero]},'LocalAiBasePath':{'envKey':'LOCAL_AI_BASE_PATH','checks':[isNotEmpty,validLLMExternalBasePath,validDockerizedUrl]},'LocalAiModelPref':{'envKey':'LOCAL_AI_MODEL_PREF','checks':[]},'LocalAiTokenLimit':{'envKey':_0x52ea5c(0x247),'checks':[nonZero]},'LocalAiApiKey':{'envKey':_0x52ea5c(0x277),'checks':[]},'OllamaLLMBasePath':{'envKey':_0x52ea5c(0x231),'checks':[isNotEmpty,validOllamaLLMBasePath,validDockerizedUrl]},'OllamaLLMModelPref':{'envKey':'OLLAMA_MODEL_PREF','checks':[]},'OllamaLLMTokenLimit':{'envKey':'OLLAMA_MODEL_TOKEN_LIMIT','checks':[nonZero]},'OllamaLLMPerformanceMode':{'envKey':'OLLAMA_PERFORMANCE_MODE','checks':[]},'OllamaLLMKeepAliveSeconds':{'envKey':_0x52ea5c(0x2ba),'checks':[isInteger]},'MistralApiKey':{'envKey':_0x52ea5c(0x1f7),'checks':[isNotEmpty]},'MistralModelPref':{'envKey':'MISTRAL_MODEL_PREF','checks':[isNotEmpty]},'HuggingFaceLLMEndpoint':{'envKey':_0x52ea5c(0x289),'checks':[isNotEmpty,isValidURL,validHuggingFaceEndpoint]},'HuggingFaceLLMAccessToken':{'envKey':_0x52ea5c(0x27e),'checks':[isNotEmpty]},'HuggingFaceLLMTokenLimit':{'envKey':_0x52ea5c(0x2aa),'checks':[nonZero]},'AnythingLLMOllamaModelPref':{'envKey':_0x52ea5c(0x25e),'checks':[]},'KoboldCPPBasePath':{'envKey':_0x52ea5c(0x215),'checks':[isNotEmpty,isValidURL]},'KoboldCPPModelPref':{'envKey':_0x52ea5c(0x246),'checks':[isNotEmpty]},'KoboldCPPTokenLimit':{'envKey':_0x52ea5c(0x2bf),'checks':[nonZero]},'TextGenWebUIBasePath':{'envKey':'TEXT_GEN_WEB_UI_BASE_PATH','checks':[isValidURL]},'TextGenWebUITokenLimit':{'envKey':_0x52ea5c(0x2a5),'checks':[nonZero]},'TextGenWebUIAPIKey':{'envKey':_0x52ea5c(0x2a2),'checks':[]},'LiteLLMModelPref':{'envKey':_0x52ea5c(0x1d1),'checks':[isNotEmpty]},'LiteLLMTokenLimit':{'envKey':_0x52ea5c(0x26b),'checks':[nonZero]},'LiteLLMBasePath':{'envKey':_0x52ea5c(0x1db),'checks':[isValidURL]},'LiteLLMApiKey':{'envKey':_0x52ea5c(0x1dd),'checks':[]},'GenericOpenAiBasePath':{'envKey':'GENERIC_OPEN_AI_BASE_PATH','checks':[isValidURL]},'GenericOpenAiModelPref':{'envKey':_0x52ea5c(0x28c),'checks':[isNotEmpty]},'GenericOpenAiTokenLimit':{'envKey':'GENERIC_OPEN_AI_MODEL_TOKEN_LIMIT','checks':[nonZero]},'GenericOpenAiKey':{'envKey':'GENERIC_OPEN_AI_API_KEY','checks':[]},'GenericOpenAiMaxTokens':{'envKey':_0x52ea5c(0x213),'checks':[nonZero]},'AwsBedrockLLMAccessKeyId':{'envKey':_0x52ea5c(0x2bc),'checks':[isNotEmpty]},'AwsBedrockLLMAccessKey':{'envKey':'AWS_BEDROCK_LLM_ACCESS_KEY','checks':[isNotEmpty]},'AwsBedrockLLMRegion':{'envKey':_0x52ea5c(0x2af),'checks':[isNotEmpty]},'AwsBedrockLLMModel':{'envKey':'AWS_BEDROCK_LLM_MODEL_PREFERENCE','checks':[isNotEmpty]},'AwsBedrockLLMTokenLimit':{'envKey':_0x52ea5c(0x22e),'checks':[nonZero]},'EmbeddingEngine':{'envKey':_0x52ea5c(0x259),'checks':[supportedEmbeddingModel]},'EmbeddingBasePath':{'envKey':_0x52ea5c(0x216),'checks':[isNotEmpty,validDockerizedUrl]},'EmbeddingModelPref':{'envKey':_0x52ea5c(0x1de),'checks':[isNotEmpty]},'EmbeddingModelMaxChunkLength':{'envKey':_0x52ea5c(0x2b6),'checks':[nonZero]},'GenericOpenAiEmbeddingApiKey':{'envKey':_0x52ea5c(0x2c0),'checks':[]},'VectorDB':{'envKey':_0x52ea5c(0x1f2),'checks':[isNotEmpty,supportedVectorDB]},'ChromaEndpoint':{'envKey':'CHROMA_ENDPOINT','checks':[isValidURL,validChromaURL,validDockerizedUrl]},'ChromaApiHeader':{'envKey':_0x52ea5c(0x2cb),'checks':[]},'ChromaApiKey':{'envKey':_0x52ea5c(0x208),'checks':[]},'WeaviateEndpoint':{'envKey':'WEAVIATE_ENDPOINT','checks':[isValidURL,validDockerizedUrl]},'WeaviateApiKey':{'envKey':_0x52ea5c(0x211),'checks':[]},'QdrantEndpoint':{'envKey':_0x52ea5c(0x2a4),'checks':[isValidURL,validDockerizedUrl]},'QdrantApiKey':{'envKey':'QDRANT_API_KEY','checks':[]},'PineConeKey':{'envKey':_0x52ea5c(0x25a),'checks':[]},'PineConeIndex':{'envKey':'PINECONE_INDEX','checks':[]},'MilvusAddress':{'envKey':'MILVUS_ADDRESS','checks':[isValidURL,validDockerizedUrl]},'MilvusUsername':{'envKey':_0x52ea5c(0x1e8),'checks':[isNotEmpty]},'MilvusPassword':{'envKey':'MILVUS_PASSWORD','checks':[isNotEmpty]},'ZillizEndpoint':{'envKey':_0x52ea5c(0x1fa),'checks':[isValidURL]},'ZillizApiToken':{'envKey':'ZILLIZ_API_TOKEN','checks':[isNotEmpty]},'AstraDBApplicationToken':{'envKey':'ASTRA_DB_APPLICATION_TOKEN','checks':[isNotEmpty]},'AstraDBEndpoint':{'envKey':_0x52ea5c(0x29e),'checks':[isNotEmpty]},'TogetherAiApiKey':{'envKey':'TOGETHER_AI_API_KEY','checks':[isNotEmpty]},'TogetherAiModelPref':{'envKey':_0x52ea5c(0x1ed),'checks':[isNotEmpty]},'PerplexityApiKey':{'envKey':_0x52ea5c(0x2be),'checks':[isNotEmpty]},'PerplexityModelPref':{'envKey':_0x52ea5c(0x1e1),'checks':[isNotEmpty]},'OpenRouterApiKey':{'envKey':'OPENROUTER_API_KEY','checks':[isNotEmpty]},'OpenRouterModelPref':{'envKey':_0x52ea5c(0x22a),'checks':[isNotEmpty]},'OpenRouterTimeout':{'envKey':_0x52ea5c(0x21f),'checks':[]},'GroqApiKey':{'envKey':_0x52ea5c(0x261),'checks':[isNotEmpty]},'GroqModelPref':{'envKey':'GROQ_MODEL_PREF','checks':[isNotEmpty]},'CohereApiKey':{'envKey':_0x52ea5c(0x2c7),'checks':[isNotEmpty]},'CohereModelPref':{'envKey':'COHERE_MODEL_PREF','checks':[isNotEmpty]},'VoyageAiApiKey':{'envKey':'VOYAGEAI_API_KEY','checks':[isNotEmpty]},'WhisperProvider':{'envKey':_0x52ea5c(0x285),'checks':[isNotEmpty,supportedTranscriptionProvider],'postUpdate':[]},'WhisperModelPref':{'envKey':'WHISPER_MODEL_PREF','checks':[validLocalWhisper],'postUpdate':[]},'AuthToken':{'envKey':'AUTH_TOKEN','checks':[requiresForceMode,noRestrictedChars]},'JWTSecret':{'envKey':_0x52ea5c(0x1fb),'checks':[requiresForceMode]},'DisableTelemetry':{'envKey':_0x52ea5c(0x26a),'checks':[]},'AgentGoogleSearchEngineId':{'envKey':_0x52ea5c(0x22b),'checks':[]},'AgentGoogleSearchEngineKey':{'envKey':_0x52ea5c(0x23f),'checks':[]},'AgentSerperApiKey':{'envKey':'AGENT_SERPER_DEV_KEY','checks':[]},'AgentBingSearchApiKey':{'envKey':_0x52ea5c(0x1e4),'checks':[]},'AgentSerplyApiKey':{'envKey':_0x52ea5c(0x227),'checks':[]},'AgentSearXNGApiUrl':{'envKey':_0x52ea5c(0x295),'checks':[]},'TextToSpeechProvider':{'envKey':'TTS_PROVIDER','checks':[supportedTTSProvider]},'TTSOpenAIKey':{'envKey':'TTS_OPEN_AI_KEY','checks':[validOpenAIKey]},'TTSOpenAIVoiceModel':{'envKey':_0x52ea5c(0x28b),'checks':[]},'TTSElevenLabsKey':{'envKey':_0x52ea5c(0x27f),'checks':[isNotEmpty]},'TTSElevenLabsVoiceModel':{'envKey':'TTS_ELEVEN_LABS_VOICE_MODEL','checks':[]},'TTSPiperTTSVoiceModel':{'envKey':_0x52ea5c(0x210),'checks':[]},'SpeechToTextProvider':{'envKey':_0x52ea5c(0x239),'checks':[supportedSTTProvider]},'SpeechToTextLocalWhisperModel':{'envKey':_0x52ea5c(0x2c8),'checks':[validLocalWhisper]}};function isNotEmpty(_0x5d06f1=''){const _0x2aac8b=_0x52ea5c;return!_0x5d06f1||_0x5d06f1[_0x2aac8b(0x1f8)]===0x0?_0x2aac8b(0x27b):null;}function nonZero(_0x38b84b=''){const _0x34965c=_0x52ea5c,_0x3a078d={'LZfJJ':function(_0x42ccc6,_0x30673e){return _0x42ccc6(_0x30673e);},'LuCDJ':'Value\x20must\x20be\x20a\x20number','VMYEB':function(_0x1f2483,_0x10071c){return _0x1f2483<=_0x10071c;},'jCXkS':function(_0x47bf4f,_0x305a83){return _0x47bf4f(_0x305a83);},'tFkJs':_0x34965c(0x222)};if(isNaN(_0x3a078d[_0x34965c(0x200)](Number,_0x38b84b)))return _0x3a078d[_0x34965c(0x2a3)];return _0x3a078d[_0x34965c(0x212)](_0x3a078d[_0x34965c(0x217)](Number,_0x38b84b),0x0)?_0x3a078d[_0x34965c(0x22f)]:null;}function isInteger(_0x34d398=''){const _0x2d5b65=_0x52ea5c,_0x3eb98a={'qAZdy':_0x2d5b65(0x275),'Uiuay':function(_0x223ba5,_0x443388){return _0x223ba5(_0x443388);}};if(isNaN(Number(_0x34d398)))return _0x3eb98a['qAZdy'];return _0x3eb98a[_0x2d5b65(0x1dc)](Number,_0x34d398);}function isValidURL(_0x3204f8=''){const _0xaeb6c=_0x52ea5c;try{return new URL(_0x3204f8),null;}catch(_0x500e50){return _0xaeb6c(0x234);}}function validOpenAIKey(_0x26f64a=''){const _0x5e1db2=_0x52ea5c;return _0x26f64a['startsWith'](_0x5e1db2(0x241))?null:_0x5e1db2(0x276);}function validAnthropicApiKey(_0x3eec66=''){const _0x3bc1a2=_0x52ea5c,_0x566ee5={'xebyz':_0x3bc1a2(0x230)};return _0x3eec66[_0x3bc1a2(0x26c)](_0x566ee5['xebyz'])?null:_0x3bc1a2(0x236);}function validLLMExternalBasePath(_0x2bf118=''){const _0xb9e4c7=_0x52ea5c,_0x38c3b6={'aEPkk':_0xb9e4c7(0x20a)};try{new URL(_0x2bf118);if(!_0x2bf118[_0xb9e4c7(0x242)]('v1'))return _0xb9e4c7(0x233);if(_0x2bf118[_0xb9e4c7(0x1d3)]('')[_0xb9e4c7(0x258)](-0x1)?.[0x0]==='/')return _0xb9e4c7(0x2ca);return null;}catch{return _0x38c3b6[_0xb9e4c7(0x2bb)];}}function validOllamaLLMBasePath(_0x1bda96=''){const _0x3a2744=_0x52ea5c,_0x56119d={'oRsor':_0x3a2744(0x20a),'sOMyU':function(_0x1d87f2,_0x5b22da){return _0x1d87f2===_0x5b22da;},'GCVrB':_0x3a2744(0x2b2),'jnkrl':_0x3a2744(0x25d),'WKjii':_0x3a2744(0x2ca)};try{if(_0x56119d[_0x3a2744(0x28f)](_0x56119d[_0x3a2744(0x24e)],_0x56119d[_0x3a2744(0x29a)]))return _0x56119d[_0x3a2744(0x1e0)];else{new URL(_0x1bda96);if(_0x56119d[_0x3a2744(0x28f)](_0x1bda96[_0x3a2744(0x1d3)]('')[_0x3a2744(0x258)](-0x1)?.[0x0],'/'))return _0x56119d['WKjii'];return null;}}catch{return _0x56119d[_0x3a2744(0x1e0)];}}function supportedTTSProvider(_0xe77a4b=''){const _0x57b404=_0x52ea5c,_0x24f3cd={'sKZqD':_0x57b404(0x29b),'mgqKb':'openai','WgBKS':'elevenlabs'},_0x94f9d7=[_0x24f3cd[_0x57b404(0x1d4)],_0x24f3cd[_0x57b404(0x1fd)],_0x24f3cd['WgBKS'],'piper_local']['includes'](_0xe77a4b);return _0x94f9d7?null:_0xe77a4b+_0x57b404(0x270);}function supportedSTTProvider(_0x249271=''){const _0x1b2312=_0x52ea5c,_0x1f7395=[_0x1b2312(0x251)][_0x1b2312(0x242)](_0x249271);return _0x1f7395?null:_0x249271+_0x1b2312(0x273);}function validLocalWhisper(_0x2dc549=''){const _0x24b5a5=_0x52ea5c,_0x48e6f6={'VKQEZ':'Xenova/whisper-small','mKLxf':_0x24b5a5(0x286)},_0x1d02a9=['Xenova/whisper-tiny',_0x48e6f6[_0x24b5a5(0x202)],'Xenova/whisper-base',_0x48e6f6[_0x24b5a5(0x22d)]][_0x24b5a5(0x242)](_0x2dc549);return _0x1d02a9?null:_0x2dc549+'\x20is\x20not\x20a\x20valid\x20Whisper\x20model\x20selection.';}function supportedLLM(_0x389cd0=''){const _0x568b1c=_0x52ea5c,_0x4d0e5a={'zRIbB':_0x568b1c(0x201),'JTPEq':'azure','UvyMG':_0x568b1c(0x29f),'YUohw':_0x568b1c(0x296),'rxRLW':'mistral','itBrN':_0x568b1c(0x274),'Bsonf':_0x568b1c(0x2c4),'SWUut':_0x568b1c(0x23b),'IexUf':_0x568b1c(0x263)},_0x2918bf=['anythingllm_ollama',_0x4d0e5a[_0x568b1c(0x20d)],_0x4d0e5a[_0x568b1c(0x229)],_0x4d0e5a['UvyMG'],_0x4d0e5a[_0x568b1c(0x24c)],_0x568b1c(0x1f9),_0x568b1c(0x26f),_0x568b1c(0x205),'togetherai',_0x4d0e5a['rxRLW'],_0x568b1c(0x2ae),'perplexity',_0x4d0e5a[_0x568b1c(0x2b5)],_0x4d0e5a['Bsonf'],_0x568b1c(0x287),_0x4d0e5a[_0x568b1c(0x1fc)],_0x568b1c(0x238),_0x4d0e5a[_0x568b1c(0x22c)],_0x568b1c(0x1ec),_0x568b1c(0x206)][_0x568b1c(0x242)](_0x389cd0);return _0x2918bf?null:_0x389cd0+'\x20is\x20not\x20a\x20valid\x20LLM\x20provider.';}function supportedTranscriptionProvider(_0x527785=''){const _0x410165=_0x52ea5c,_0x3fb8d8=[_0x410165(0x201),_0x410165(0x26d)][_0x410165(0x242)](_0x527785);return _0x3fb8d8?null:_0x527785+_0x410165(0x1ea);}function validGeminiModel(_0xf0bc97=''){const _0x1e158f=_0x52ea5c,_0x52a24b={'OIPXS':_0x1e158f(0x2bd)},_0x5c4538=[_0x52a24b['OIPXS'],_0x1e158f(0x256),_0x1e158f(0x1e9),_0x1e158f(0x23e),_0x1e158f(0x1e7)];return _0x5c4538['includes'](_0xf0bc97)?null:'Invalid\x20Model\x20type.\x20Must\x20be\x20one\x20of\x20'+_0x5c4538['join'](',\x20')+'.';}function validGeminiSafetySetting(_0x47b521=''){const _0x48b595=_0x52ea5c,_0x48d2d3={'xXIdt':'BLOCK_NONE','lnXyC':_0x48b595(0x209),'iFjQy':'BLOCK_LOW_AND_ABOVE'},_0x284d19=[_0x48d2d3[_0x48b595(0x228)],_0x48b595(0x1f1),_0x48d2d3[_0x48b595(0x25b)],_0x48d2d3[_0x48b595(0x2a1)]];return _0x284d19['includes'](_0x47b521)?null:_0x48b595(0x203)+_0x284d19[_0x48b595(0x2ab)](',\x20')+'.';}function validAnthropicModel(_0x5008f2=''){const _0x2cbadb=_0x52ea5c,_0x3d735d={'vmebu':_0x2cbadb(0x23a),'fmJmI':_0x2cbadb(0x28a),'DSXzv':_0x2cbadb(0x283)},_0x2db815=[_0x3d735d[_0x2cbadb(0x254)],_0x3d735d[_0x2cbadb(0x2c1)],_0x2cbadb(0x293),_0x2cbadb(0x260),_0x3d735d[_0x2cbadb(0x25f)],_0x2cbadb(0x1d5),_0x2cbadb(0x24b)];return _0x2db815[_0x2cbadb(0x242)](_0x5008f2)?null:'Invalid\x20Model\x20type.\x20Must\x20be\x20one\x20of\x20'+_0x2db815[_0x2cbadb(0x2ab)](',\x20')+'.';}function _0x381c(_0x93a45e,_0x20e920){const _0x4d3847=_0x4d38();return _0x381c=function(_0x381cbb,_0x41d66b){_0x381cbb=_0x381cbb-0x1d1;let _0x33d2e5=_0x4d3847[_0x381cbb];return _0x33d2e5;},_0x381c(_0x93a45e,_0x20e920);}function supportedEmbeddingModel(_0x2543b4=''){const _0x3513b0=_0x52ea5c,_0x2b0b7e={'KIWID':_0x3513b0(0x201),'txQSS':'azure','nMWaR':'native','ciJJa':_0x3513b0(0x238),'jDXim':'litellm','NkeNo':'generic-openai'},_0x4ad3d9=[_0x2b0b7e[_0x3513b0(0x2ad)],_0x2b0b7e['txQSS'],_0x3513b0(0x26f),_0x2b0b7e[_0x3513b0(0x297)],_0x3513b0(0x205),_0x3513b0(0x1f9),_0x2b0b7e[_0x3513b0(0x20f)],_0x3513b0(0x2b1),_0x2b0b7e[_0x3513b0(0x20c)],_0x2b0b7e[_0x3513b0(0x1e5)]];return _0x4ad3d9[_0x3513b0(0x242)](_0x2543b4)?null:_0x3513b0(0x262)+_0x4ad3d9[_0x3513b0(0x2ab)](',\x20')+'.';}function supportedVectorDB(_0x5a858d=''){const _0x1f4ede=_0x52ea5c,_0x8a7843={'lImWR':_0x1f4ede(0x29c),'omakR':'weaviate'},_0x32b515=[_0x1f4ede(0x1f6),_0x8a7843['lImWR'],_0x1f4ede(0x1f5),_0x8a7843[_0x1f4ede(0x1d8)],_0x1f4ede(0x20e),_0x1f4ede(0x249),_0x1f4ede(0x221),_0x1f4ede(0x291)];return _0x32b515[_0x1f4ede(0x242)](_0x5a858d)?null:_0x1f4ede(0x2b8)+_0x32b515['join'](',\x20')+'.';}function validChromaURL(_0x928c89=''){const _0x4c569c=_0x52ea5c,_0x2a9fcf={'czXsa':function(_0xadaf0f,_0x108679){return _0xadaf0f===_0x108679;}};return _0x2a9fcf[_0x4c569c(0x24d)](_0x928c89[_0x4c569c(0x258)](-0x1),'/')?_0x4c569c(0x214):null;}function validOpenAiTokenLimit(_0x257365=''){const _0x19f751=_0x52ea5c,_0x10921b={'ATSjh':function(_0x415f7a,_0x5db467){return _0x415f7a(_0x5db467);},'fPHFL':_0x19f751(0x1ee)},_0x16a616=_0x10921b[_0x19f751(0x225)](Number,_0x257365);if(_0x10921b[_0x19f751(0x225)](isNaN,_0x16a616))return'Token\x20limit\x20is\x20not\x20a\x20number';if(![0x1000,0x4000,0x2000,0x8000,0x1f400][_0x19f751(0x242)](_0x16a616))return _0x10921b[_0x19f751(0x299)];return null;}function requiresForceMode(_0x43c44c,_0x35b00e=![]){return _0x35b00e===!![]?null:'Cannot\x20set\x20this\x20setting.';}async function validDockerizedUrl(_0xdc891f=''){const _0x57542f=_0x52ea5c,_0x591c71={'oEquY':_0x57542f(0x267),'lJKRL':function(_0x571487){return _0x571487();},'RcdfU':function(_0x414e9a,_0xec7b45){return _0x414e9a(_0xec7b45);},'dRZHp':'Port\x20is\x20not\x20running\x20a\x20reachable\x20service\x20on\x20loopback\x20address\x20from\x20inside\x20the\x20AnythingLLM\x20container.\x20Please\x20use\x20host.docker.internal\x20(for\x20linux\x20use\x20172.17.0.1),\x20a\x20real\x20machine\x20ip,\x20or\x20domain\x20to\x20connect\x20to\x20your\x20service.'};if(process[_0x57542f(0x226)][_0x57542f(0x1df)]!==_0x591c71[_0x57542f(0x28d)])return null;try{const {isPortInUse:_0x3b4a76,getLocalHosts:_0x5d9b65}=require(_0x57542f(0x257)),_0x24cee4=_0x591c71[_0x57542f(0x235)](_0x5d9b65),_0x216f28=new URL(_0xdc891f),_0x109c4a=_0x216f28[_0x57542f(0x2a9)][_0x57542f(0x255)](),_0x515759=parseInt(_0x216f28[_0x57542f(0x2c2)],0xa);if(!_0x24cee4['includes'](_0x109c4a))return null;if(_0x591c71[_0x57542f(0x27a)](isNaN,_0x515759))return _0x57542f(0x1e2);const _0x1f250f=await _0x3b4a76(_0x515759,_0x109c4a);if(_0x1f250f)return _0x591c71['dRZHp'];}catch(_0x2fd343){return console['error'](_0x2fd343[_0x57542f(0x2c9)]),'An\x20error\x20occurred\x20while\x20validating\x20the\x20URL';}return null;}function validHuggingFaceEndpoint(_0x14d0ad=''){const _0x916f11=_0x52ea5c,_0x5a4f29={'xfQdh':function(_0x127944,_0x3a1381){return _0x127944!==_0x3a1381;},'ZKhWz':'.cloud'};return _0x5a4f29[_0x916f11(0x2b3)](_0x14d0ad['slice'](-0x6),_0x5a4f29[_0x916f11(0x1d7)])?_0x916f11(0x1eb):null;}async function manageOllamaService(_0x3aabb2,_0x4dad6d,_0x1bff01){const _0x5c4bd6=_0x52ea5c,_0x4319ab={'jvYBn':function(_0x34c730,_0x527987){return _0x34c730!==_0x527987;},'pCHRY':'anythingllm_ollama','dyTox':_0x5c4bd6(0x2a8)};if(_0x4dad6d===_0x1bff01)return;if(_0x4319ab[_0x5c4bd6(0x1da)](_0x4dad6d,'anythingllm_ollama')&&_0x4319ab[_0x5c4bd6(0x1da)](_0x1bff01,_0x4319ab[_0x5c4bd6(0x1ff)]))return;const {AnythingLLMOllama:_0xefef58}=require(_0x4319ab[_0x5c4bd6(0x2b9)]),_0x2dc7f0=new _0xefef58();if(_0x4319ab[_0x5c4bd6(0x1da)](_0x1bff01,_0x5c4bd6(0x245))){await _0x2dc7f0['kill']();return;}if(_0x1bff01==='anythingllm_ollama'){await _0x2dc7f0[_0x5c4bd6(0x24f)]();return;}}function noRestrictedChars(_0x2a270d=''){const _0x1cf39f=_0x52ea5c,_0x3485f3=new RegExp(/^[a-zA-Z0-9_\-!@$%^&*();]+$/);return!_0x3485f3[_0x1cf39f(0x269)](_0x2a270d)?_0x1cf39f(0x2b7):null;}async function updateENV(_0x20750b={},_0x352ef5=![],_0x427ea3=null){const _0x4f6d30=_0x52ea5c,_0x5343a7={'uQjRQ':function(_0x2581a6,_0x49a8ab,_0x7e6b73,_0x4b93f4){return _0x2581a6(_0x49a8ab,_0x7e6b73,_0x4b93f4);},'zhuMo':function(_0x5c351f,_0x12eef9,_0xa6eb79){return _0x5c351f(_0x12eef9,_0xa6eb79);},'zXApp':_0x4f6d30(0x292),'DbogB':function(_0x4220d0){return _0x4220d0();}};let _0x2d3bcc='';const _0x2f0ee4=Object[_0x4f6d30(0x1d6)](KEY_MAPPING),_0x5805a5=Object[_0x4f6d30(0x1d6)](_0x20750b)[_0x4f6d30(0x1d9)](_0x45ebfa=>_0x2f0ee4[_0x4f6d30(0x242)](_0x45ebfa)&&!_0x20750b[_0x45ebfa][_0x4f6d30(0x242)]('******')),_0x280641={};for(const _0x139c29 of _0x5805a5){const {envKey:_0x57e007,checks:_0x24dfd7,postUpdate:postUpdate=[]}=KEY_MAPPING[_0x139c29],_0x2a47d8=process['env'][_0x57e007],_0x57eb95=_0x20750b[_0x139c29],_0x55e081=await _0x5343a7['uQjRQ'](executeValidationChecks,_0x24dfd7,_0x57eb95,_0x352ef5);if(_0x55e081[_0x4f6d30(0x1f8)]>0x0){_0x2d3bcc+=_0x55e081[_0x4f6d30(0x2ab)]('\x0a');break;}_0x280641[_0x139c29]=_0x57eb95,process['env'][_0x57e007]=_0x57eb95;for(const _0x1855cf of postUpdate)await _0x1855cf(_0x139c29,_0x2a47d8,_0x57eb95);}await _0x5343a7[_0x4f6d30(0x272)](logChangesToEventLog,_0x280641,_0x427ea3);if(process['env'][_0x4f6d30(0x1e6)]===_0x5343a7[_0x4f6d30(0x248)])_0x5343a7[_0x4f6d30(0x290)](dumpENV);return{'newValues':_0x280641,'error':_0x2d3bcc?.[_0x4f6d30(0x1f8)]>0x0?_0x2d3bcc:![]};}function _0x4d38(){const _0x523314=['ASTRA_DB_ENDPOINT','anthropic','PASSWORDNUMERIC','iFjQy','TEXT_GEN_WEB_UI_API_KEY','LuCDJ','QDRANT_ENDPOINT','TEXT_GEN_WEB_UI_MODEL_TOKEN_LIMIT','3051092zazCLL','jKydX','../AiProviders/anythingLLM','hostname','HUGGING_FACE_LLM_TOKEN_LIMIT','join','STORAGE_DIR','KIWID','huggingface','AWS_BEDROCK_LLM_REGION','map','voyageai','FqqdV','xfQdh','PASSWORDMAXCHAR','itBrN','EMBEDDING_MODEL_MAX_CHUNK_LENGTH','Your\x20password\x20has\x20restricted\x20characters\x20in\x20it.\x20Allowed\x20symbols\x20are\x20_,-,!,@,$,%,^,&,*,(,),;','Invalid\x20VectorDB\x20type.\x20Must\x20be\x20one\x20of\x20','dyTox','OLLAMA_KEEP_ALIVE_TIMEOUT','aEPkk','AWS_BEDROCK_LLM_ACCESS_KEY_ID','gemini-pro','PERPLEXITY_API_KEY','KOBOLD_CPP_MODEL_TOKEN_LIMIT','GENERIC_OPEN_AI_EMBEDDING_API_KEY','fmJmI','port','655544RouPjS','groq','toTimeString','#\x20Auto-dump\x20ENV\x20from\x20system\x20call\x20on\x20','COHERE_API_KEY','STT_LOCAL_WHISPER_MODEL','message','URL\x20cannot\x20end\x20with\x20a\x20slash','CHROMA_API_HEADER','LITE_LLM_MODEL_PREF','lHVwd','split','sKZqD','claude-3-haiku-20240307','keys','ZKhWz','omakR','filter','jvYBn','LITE_LLM_BASE_PATH','Uiuay','LITE_LLM_API_KEY','EMBEDDING_MODEL_PREF','ANYTHING_LLM_RUNTIME','oRsor','PERPLEXITY_MODEL_PREF','Invalid\x20URL:\x20Port\x20is\x20not\x20specified\x20or\x20invalid','SERVER_PORT','AGENT_BING_SEARCH_API_KEY','NkeNo','NODE_ENV','gemini-1.5-pro-exp-0801','MILVUS_USERNAME','gemini-1.5-pro-latest','\x20is\x20not\x20a\x20valid\x20transcription\x20model\x20provider.','Your\x20HF\x20Endpoint\x20should\x20end\x20in\x20\x22.cloud\x22','generic-openai','TOGETHER_AI_MODEL_PREF','Invalid\x20OpenAI\x20token\x20limit.','COLLECTOR_PORT','LMSTUDIO_MODEL_TOKEN_LIMIT','BLOCK_ONLY_HIGH','VECTOR_DB','substring','PASSWORDMINCHAR','lancedb','chroma','MISTRAL_API_KEY','length','lmstudio','ZILLIZ_ENDPOINT','JWT_SECRET','SWUut','mgqKb','SIG_KEY','pCHRY','LZfJJ','openai','VKQEZ','Invalid\x20Safety\x20setting.\x20Must\x20be\x20one\x20of\x20','utf8','ollama','bedrock','HTTPS_KEY_PATH','CHROMA_API_KEY','BLOCK_MEDIUM_AND_ABOVE','Not\x20a\x20valid\x20URL','PmEhp','jDXim','zRIbB','qdrant','ciJJa','TTS_PIPER_VOICE_MODEL','WEAVIATE_API_KEY','VMYEB','GENERIC_OPEN_AI_MAX_TOKENS','Chroma\x20Instance\x20URL\x20should\x20not\x20end\x20in\x20a\x20trailing\x20slash.','KOBOLD_CPP_BASE_PATH','EMBEDDING_BASE_PATH','jCXkS','wHeHa','4694145qsNoYZ','GEMINI_LLM_MODEL_PREF','bDTNE','wLGnf','3ZgJAtM','PASSWORDSYMBOL','OPENROUTER_TIMEOUT_MS','ANTHROPIC_MODEL_PREF','zilliz','Value\x20must\x20be\x20greater\x20than\x20zero','ENABLE_HTTPS','4527551GCfvLx','ATSjh','env','AGENT_SERPLY_API_KEY','xXIdt','JTPEq','OPENROUTER_MODEL_PREF','AGENT_GSE_CTX','IexUf','mKLxf','AWS_BEDROCK_LLM_MODEL_TOKEN_LIMIT','tFkJs','sk-ant-','OLLAMA_BASE_PATH','RwptC','URL\x20must\x20include\x20/v1','URL\x20is\x20not\x20a\x20valid\x20URL.','lJKRL','Anthropic\x20Key\x20must\x20start\x20with\x20sk-ant-','1583213tewbzd','cohere','STT_PROVIDER','claude-instant-1.2','textgenwebui','bljhX','ISTQI','gemini-1.5-flash-latest','AGENT_GSE_KEY','exports','sk-','includes','LMSTUDIO_MODEL_PREF','LLM_PROVIDER','anythingllm_ollama','KOBOLD_CPP_MODEL_PREF','LOCAL_AI_MODEL_TOKEN_LIMIT','zXApp','milvus','values','claude-3-5-sonnet-20240620','YUohw','czXsa','GCVrB','bootOrContinue','hsiFe','local_whisper','logEvent','update_llm_provider','vmebu','toLowerCase','gemini-1.0-pro','./portAvailabilityChecker','slice','EMBEDDING_ENGINE','PINECONE_API_KEY','lnXyC','GEMINI_API_KEY','iLYjj','ANYTHINGLLM_MODEL_PREF','DSXzv','claude-3-opus-20240229','GROQ_API_KEY','Invalid\x20Embedding\x20model\x20type.\x20Must\x20be\x20one\x20of\x20','litellm','AZURE_OPENAI_TOKEN_LIMIT','PASSWORDLOWERCASE','UXgcE','docker','OPEN_AI_KEY','test','DISABLE_TELEMETRY','LITE_LLM_MODEL_TOKEN_LIMIT','startsWith','local','update_embedding_engine','localai','\x20is\x20not\x20a\x20valid\x20TTS\x20provider.','hasOwnProperty','zhuMo','\x20is\x20not\x20a\x20valid\x20STT\x20provider.','openrouter','Value\x20must\x20be\x20a\x20number','OpenAI\x20Key\x20must\x20start\x20with\x20sk-','LOCAL_AI_API_KEY','string','entries','RcdfU','Value\x20cannot\x20be\x20empty','fDxwr','6cKcdRi','HUGGING_FACE_LLM_API_KEY','TTS_ELEVEN_LABS_KEY','OPEN_MODEL_PREF','AZURE_OPENAI_KEY','xENGN','claude-3-sonnet-20240229','3507057zrDHeM','WHISPER_PROVIDER','Xenova/whisper-large','koboldcpp','GEMINI_SAFETY_SETTING','HUGGING_FACE_LLM_ENDPOINT','claude-2.0','TTS_OPEN_AI_VOICE_MODEL','GENERIC_OPEN_AI_MODEL_PREF','oEquY','EDRAM','sOMyU','DbogB','astra','production','claude-2.1','15601040mIziMz','AGENT_SEARXNG_API_URL','gemini','nMWaR','all','fPHFL','jnkrl','native','pinecone','search'];_0x4d38=function(){return _0x523314;};return _0x4d38();}async function executeValidationChecks(_0x3b9182,_0x5e6203,_0x39bc1e){const _0x44eb5c=_0x52ea5c,_0x56aafe=await Promise[_0x44eb5c(0x298)](_0x3b9182[_0x44eb5c(0x2b0)](_0x56480c=>_0x56480c(_0x5e6203,_0x39bc1e)));return _0x56aafe[_0x44eb5c(0x1d9)](_0x313752=>typeof _0x313752===_0x44eb5c(0x278));}async function logChangesToEventLog(_0x20af0e={},_0x592343=null){const _0x250fc0=_0x52ea5c,_0x2efd11={'ISTQI':function(_0x3bd9d4,_0x89c48c){return _0x3bd9d4===_0x89c48c;},'fDxwr':'Value\x20cannot\x20be\x20empty','UXgcE':_0x250fc0(0x253),'tkQUT':function(_0x30ecc4,_0x3dbcf1){return _0x30ecc4===_0x3dbcf1;}},{EventLogs:_0x4e867e}=require('../../models/eventLogs'),_0x3c7dca={'LLMProvider':_0x2efd11[_0x250fc0(0x266)],'EmbeddingEngine':_0x250fc0(0x26e),'VectorDB':'update_vector_db'};for(const [_0x387276,_0x1c17a5]of Object[_0x250fc0(0x279)](_0x3c7dca)){if(_0x2efd11['tkQUT'](_0x250fc0(0x23c),_0x250fc0(0x23c))){if(!_0x20af0e[_0x250fc0(0x271)](_0x387276))continue;await _0x4e867e[_0x250fc0(0x252)](_0x1c17a5,{},_0x592343);}else return!_0x2971f3||_0x2efd11[_0x250fc0(0x23d)](_0x178383['length'],0x0)?_0x2efd11[_0x250fc0(0x27c)]:null;}return;}function dumpENV(){const _0x51b821=_0x52ea5c,_0x23cc2f={'wLGnf':function(_0x1d33ce,_0x3d480c){return _0x1d33ce===_0x3d480c;},'wHeHa':function(_0x23803e,_0x10ce40){return _0x23803e(_0x10ce40);},'bDTNE':'path','zRakJ':_0x51b821(0x2ac),'xENGN':_0x51b821(0x1ef),'RwptC':_0x51b821(0x1fe),'lHVwd':_0x51b821(0x1f4),'RQPFI':_0x51b821(0x265),'jKydX':_0x51b821(0x2a0),'LwSsh':_0x51b821(0x21e),'EDRAM':'HTTPS_CERT_PATH','cPIXs':'.env','PmEhp':'../../.env','hsiFe':_0x51b821(0x204)},_0x1999e4=_0x23cc2f[_0x51b821(0x218)](require,'fs'),_0x274717=require(_0x23cc2f[_0x51b821(0x21b)]),_0x5cbd14={},_0xa13ae2=[...Object[_0x51b821(0x24a)](KEY_MAPPING)[_0x51b821(0x2b0)](_0x44b8ba=>_0x44b8ba['envKey']),_0x23cc2f['zRakJ'],_0x51b821(0x1e3),_0x23cc2f[_0x51b821(0x282)],_0x23cc2f[_0x51b821(0x232)],'SIG_SALT',_0x23cc2f[_0x51b821(0x1d2)],_0x51b821(0x2b4),_0x23cc2f['RQPFI'],'PASSWORDUPPERCASE',_0x23cc2f[_0x51b821(0x2a7)],_0x23cc2f['LwSsh'],'PASSWORDREQUIREMENTS',_0x51b821(0x223),_0x23cc2f[_0x51b821(0x28e)],_0x51b821(0x207)];function _0x1516bc(_0x4bbf7b){const _0x5ab18b=_0x51b821,_0x15e22f=/[\n\r\t\v\f\u0085\u00a0\u1680\u180e\u2000-\u200a\u2028\u2029\u202f\u205f\u3000"'`#]/,_0x32ef93=_0x4bbf7b[_0x5ab18b(0x29d)](_0x15e22f);if(_0x23cc2f[_0x5ab18b(0x21c)](_0x32ef93,-0x1))return _0x4bbf7b;return _0x4bbf7b[_0x5ab18b(0x1f3)](0x0,_0x32ef93);}for(const _0x4dc450 of _0xa13ae2){const _0x40eaa2=process[_0x51b821(0x226)]?.[_0x4dc450]||null;if(!_0x40eaa2)continue;_0x5cbd14[_0x4dc450]=process[_0x51b821(0x226)]?.[_0x4dc450]||null;}var _0x1c2fea=_0x51b821(0x2c6)+new Date()[_0x51b821(0x2c5)]()+'\x0a';_0x1c2fea+=Object[_0x51b821(0x279)](_0x5cbd14)[_0x51b821(0x2b0)](([_0x4adc23,_0xf52618])=>_0x4adc23+'=\x27'+_0x1516bc(_0xf52618)+'\x27')[_0x51b821(0x2ab)]('\x0a');const _0x1d99a0=process[_0x51b821(0x226)]['STORAGE_DIR']?_0x274717[_0x51b821(0x2ab)](process[_0x51b821(0x226)][_0x51b821(0x2ac)],_0x23cc2f['cPIXs']):_0x274717[_0x51b821(0x2ab)](__dirname,_0x23cc2f[_0x51b821(0x20b)]);return _0x1999e4['writeFileSync'](_0x1d99a0,_0x1c2fea,{'encoding':_0x23cc2f[_0x51b821(0x250)],'flag':'w'}),!![];}module[_0x52ea5c(0x240)]={'dumpENV':dumpENV,'updateENV':updateENV};