var _0x168b33=_0x5852;function _0x5852(_0x328616,_0x1df502){var _0x4f409c=_0x4f40();return _0x5852=function(_0x585231,_0x46f66c){_0x585231=_0x585231-0x1b1;var _0x482d9f=_0x4f409c[_0x585231];return _0x482d9f;},_0x5852(_0x328616,_0x1df502);}(function(_0x121649,_0x37e892){var _0x549bb3=_0x5852,_0x3f1161=_0x121649();while(!![]){try{var _0x4f939e=parseInt(_0x549bb3(0x1d0))/0x1+-parseInt(_0x549bb3(0x1dd))/0x2*(-parseInt(_0x549bb3(0x1c2))/0x3)+parseInt(_0x549bb3(0x1d4))/0x4+parseInt(_0x549bb3(0x1d2))/0x5*(parseInt(_0x549bb3(0x1b1))/0x6)+-parseInt(_0x549bb3(0x1d6))/0x7*(parseInt(_0x549bb3(0x1b3))/0x8)+-parseInt(_0x549bb3(0x1be))/0x9+-parseInt(_0x549bb3(0x1bd))/0xa*(parseInt(_0x549bb3(0x1ce))/0xb);if(_0x4f939e===_0x37e892)break;else _0x3f1161['push'](_0x3f1161['shift']());}catch(_0x292773){_0x3f1161['push'](_0x3f1161['shift']());}}}(_0x4f40,0x1b713));var mongoose=require(_0x168b33(0x1c6)),mongooseLeanVirtuals=require(_0x168b33(0x1db)),_=require(_0x168b33(0x1b4)),COLLECTION=_0x168b33(0x1c0),roleSchema=mongoose[_0x168b33(0x1b2)]({'name':{'type':String,'required':!![],'unique':!![]},'normalized':String,'description':String,'grants':[{'type':String,'required':!![]}],'hierarchy':{'type':Boolean,'required':!![],'default':!![]}},{'toObject':{'getters':!![],'virtuals':!![]},'toJSON':{'virtuals':!![]}});function _0x4f40(){var _0x48001=['findOne','69716lsCVAP','normalized','isAgent','hierarchy','toLowerCase','42618fncisz','Schema','222280HsXDBr','lodash','updateGrants','admin:*','statics','virtual','getRole','save','getAgentRoles','exports','11390XFCKoy','106317VUAbhv','grants','roles','isUndefined','6MtNrDo','trim','methods','lean','mongoose','getRolesLean','filter','JGQrU','eCRwF','agent:*','getRoles','model','1837eQFQnu','name','109938OkZPOf','jYpeg','25TWYpZb','isAdmin','508180QVPKzm','exec','7OJVUFn','get','find','updateGrantsAndHierarchy','indexOf','mongoose-lean-virtuals'];_0x4f40=function(){return _0x48001;};return _0x4f40();}roleSchema[_0x168b33(0x1b8)](_0x168b33(0x1d3))[_0x168b33(0x1d7)](function(){var _0x16a9ac=_0x168b33,_0xe6d58c={'eCRwF':function(_0x2c3ef7,_0x4bbfb0){return _0x2c3ef7!==_0x4bbfb0;}};if(_[_0x16a9ac(0x1c1)](global[_0x16a9ac(0x1c0)]))return![];var _0x310cc0=_['find'](global[_0x16a9ac(0x1c0)],{'normalized':this[_0x16a9ac(0x1de)]});if(!_0x310cc0)return![];return _0xe6d58c[_0x16a9ac(0x1ca)](_[_0x16a9ac(0x1da)](_0x310cc0[_0x16a9ac(0x1bf)],_0x16a9ac(0x1b6)),-0x1);}),roleSchema[_0x168b33(0x1b8)](_0x168b33(0x1df))[_0x168b33(0x1d7)](function(){var _0x4f0678=_0x168b33;if(_[_0x4f0678(0x1c1)](global['roles']))return![];var _0x206192=_['find'](global[_0x4f0678(0x1c0)],{'normalized':this[_0x4f0678(0x1de)]});if(!_0x206192)return![];return _[_0x4f0678(0x1da)](_0x206192[_0x4f0678(0x1bf)],_0x4f0678(0x1cb))!==-0x1;}),roleSchema['plugin'](mongooseLeanVirtuals),roleSchema['pre'](_0x168b33(0x1ba),function(_0x2468fa){var _0xcc7a10=_0x168b33;return this['name']=this[_0xcc7a10(0x1cf)]['trim'](),this[_0xcc7a10(0x1de)]=this[_0xcc7a10(0x1cf)][_0xcc7a10(0x1e1)]()[_0xcc7a10(0x1c3)](),_0x2468fa();}),roleSchema[_0x168b33(0x1c4)][_0x168b33(0x1b5)]=function(_0x50c97d,_0x1c0256){var _0x4f848f=_0x168b33;this[_0x4f848f(0x1bf)]=_0x50c97d,this[_0x4f848f(0x1ba)](_0x1c0256);},roleSchema[_0x168b33(0x1c4)][_0x168b33(0x1d9)]=function(_0x25a9f0,_0xab1ee4,_0x3f95f2){var _0x153af6=_0x168b33;this[_0x153af6(0x1bf)]=_0x25a9f0,this[_0x153af6(0x1e0)]=_0xab1ee4,this[_0x153af6(0x1ba)](_0x3f95f2);},roleSchema[_0x168b33(0x1b7)][_0x168b33(0x1cc)]=function(_0x33bf70){var _0x5605d9=_0x168b33;return this['model'](COLLECTION)['find']({})[_0x5605d9(0x1d5)](_0x33bf70);},roleSchema[_0x168b33(0x1b7)][_0x168b33(0x1c7)]=function(_0xb1ed6a){var _0x39576d=_0x168b33;return this[_0x39576d(0x1cd)](COLLECTION)['find']({})[_0x39576d(0x1c5)]({'virtuals':!![]})[_0x39576d(0x1d5)](_0xb1ed6a);},roleSchema[_0x168b33(0x1b7)]['getRole']=function(_0x373920,_0x1cf4d0){var _0x35d218=_0x168b33,_0x36bf24=this[_0x35d218(0x1cd)](COLLECTION)['findOne']({'_id':_0x373920});return _0x36bf24[_0x35d218(0x1d5)](_0x1cf4d0);},roleSchema[_0x168b33(0x1b7)]['getRoleByName']=function(_0x38ab90,_0x31621b){var _0x47b828=_0x168b33,_0x165c58=this['model'](COLLECTION)[_0x47b828(0x1dc)]({'normalized':new RegExp('^'+_0x38ab90['trim']()+'$','i')});return _0x165c58[_0x47b828(0x1d5)](_0x31621b);},roleSchema['statics'][_0x168b33(0x1bb)]=function(_0x3bfa9b){var _0x522b32=_0x168b33,_0x44f7b2={'JGQrU':function(_0x297811,_0x2dcccc){return _0x297811!==_0x2dcccc;},'jYpeg':function(_0x221c5c,_0x22a5ce,_0x5e354d){return _0x221c5c(_0x22a5ce,_0x5e354d);}},_0x355b8a=this[_0x522b32(0x1cd)](COLLECTION)[_0x522b32(0x1d8)]({});_0x355b8a[_0x522b32(0x1d5)](function(_0x6f70fb,_0x56d780){var _0x19be2d=_0x522b32;if(_0x6f70fb)return _0x3bfa9b(_0x6f70fb);var _0x2d8844=_[_0x19be2d(0x1c8)](_0x56d780,function(_0x410995){var _0x34b010=_0x19be2d;return _0x44f7b2[_0x34b010(0x1c9)](_[_0x34b010(0x1da)](_0x410995[_0x34b010(0x1bf)],_0x34b010(0x1cb)),-0x1);});return _0x44f7b2[_0x19be2d(0x1d1)](_0x3bfa9b,null,_0x2d8844);});},roleSchema[_0x168b33(0x1b7)][_0x168b33(0x1d7)]=roleSchema[_0x168b33(0x1b7)][_0x168b33(0x1b9)],module[_0x168b33(0x1bc)]=mongoose['model'](COLLECTION,roleSchema);