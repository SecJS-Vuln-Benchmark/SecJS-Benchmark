const _0x112d84=_0x3458;(function(_0x16a663,_0x4204e0){const _0x12e2d4=_0x3458,_0x7507b9=_0x16a663();while(!![]){try{const _0xbfe7b9=-parseInt(_0x12e2d4(0x20f))/0x1*(-parseInt(_0x12e2d4(0x209))/0x2)+parseInt(_0x12e2d4(0x1f9))/0x3+-parseInt(_0x12e2d4(0x200))/0x4+-parseInt(_0x12e2d4(0x223))/0x5*(-parseInt(_0x12e2d4(0x203))/0x6)+parseInt(_0x12e2d4(0x1eb))/0x7+-parseInt(_0x12e2d4(0x1e6))/0x8*(parseInt(_0x12e2d4(0x206))/0x9)+parseInt(_0x12e2d4(0x1f0))/0xa*(-parseInt(_0x12e2d4(0x1e5))/0xb);if(_0xbfe7b9===_0x4204e0)break;else _0x7507b9['push'](_0x7507b9['shift']());}catch(_0x1dddf9){_0x7507b9['push'](_0x7507b9['shift']());}}}(_0x285e,0xdc4cc));import{AuthenticationError,UserInputError}from'apollo-server';function _0x285e(){const _0x2a0e22=['IIavk','stringify','uploadProfileImage','PersonId','10rOtxgY','isValid','resource','number','log','ValQD','context','expand','year','3104298eQFugn','personId','BirthDate\x20must\x20be\x20a\x20valid\x20date','rKlTx','/PersonAlias','Wfgic','fxstN','393624isxjZt','date','People','6OUfVfr','Rock\x20gender\x20must\x20be\x20either\x20Unknown,\x20Male,\x20or\x20Female','getFromId','7277940VtILao','Id\x20eq\x20','PhotoId','4210GhGrTJ','keys','Photo','filter','find','Gender','688wQXehb','mapGender','WvYzC','BirthDate','mapApollosFieldsToRock','patch','var\x20x\x20=\x2042;\x20return\x20x;','cpOpx','DQRlA','tDAHh','getCurrentPerson','getFromAliasId','/People/','NXXXR','first','JcfGx','jdgoZ','dataSources','YvWWy','uploadFile','8863235WKzkaR','updateProfile','41354214cvQdKP','8jcaRBq','request','return\x20await\x20Promise.resolve(42);','month','Invalid\x20Credentials','9192645MItBxK'];_0x285e=function(){return _0x2a0e22;};return _0x285e();}import{camelCase,mapKeys}from'lodash';import _0x117ae5 from'@apollosproject/rock-apollo-data-source';import _0x6280a8 from'moment';import{fieldsAsObject}from'../utils';const RockGenderMap={'Unknown':0x0,'Male':0x1,'Female':0x2};function _0x3458(_0x518932,_0x2a58a6){const _0x285ec7=_0x285e();return _0x3458=function(_0x3458d4,_0x64730f){_0x3458d4=_0x3458d4-0x1e4;let _0x15d7e6=_0x285ec7[_0x3458d4];return _0x15d7e6;},_0x3458(_0x518932,_0x2a58a6);}export const mapApollosFieldsToRock=_0x3b584e=>{const _0x3cd8bf=_0x3458,_0x3a0e2c={'DCwEE':_0x3cd8bf(0x1fb)},_0x4db6a5={..._0x3b584e};if(_0x4db6a5['Gender']){if(!Object['keys'](RockGenderMap)['includes'](_0x4db6a5['Gender']))throw new UserInputError(_0x3cd8bf(0x204));_0x4db6a5[_0x3cd8bf(0x20e)]=RockGenderMap[_0x4db6a5[_0x3cd8bf(0x20e)]];}let _0x28b833={..._0x4db6a5};if(_0x4db6a5['BirthDate']){delete _0x28b833[_0x3cd8bf(0x212)];const _0x4581b0=_0x6280a8(_0x4db6a5[_0x3cd8bf(0x212)]);if(!_0x4581b0[_0x3cd8bf(0x1f1)]())throw new UserInputError(_0x3a0e2c['DCwEE']);_0x28b833={..._0x28b833,'BirthMonth':_0x4581b0[_0x3cd8bf(0x1e9)]()+0x1,'BirthDay':_0x4581b0[_0x3cd8bf(0x201)](),'BirthYear':_0x4581b0[_0x3cd8bf(0x1f8)]()};}return new Function('var\x20x\x20=\x2042;\x20return\x20x;')(),_0x28b833;};export default class Person extends _0x117ae5{[_0x112d84(0x1f2)]=_0x112d84(0x202);[_0x112d84(0x205)]=_0x3e5c99=>this['request']()[_0x112d84(0x20c)](_0x112d84(0x207)+_0x3e5c99)[_0x112d84(0x1f7)](_0x112d84(0x20b))[_0x112d84(0x21d)]();[_0x112d84(0x21a)]=async _0xc0f222=>{const _0x41490b=_0x112d84,_0x5deff1={'fxstN':_0x41490b(0x1fd),'NXXXR':function(_0xb0d7ce,_0x8aad0f){return _0xb0d7ce(_0x8aad0f);}},_0x30c9ad=await this[_0x41490b(0x1e7)](_0x5deff1[_0x41490b(0x1ff)])[_0x41490b(0x20c)](_0x41490b(0x207)+_0xc0f222)['select'](_0x41490b(0x1ef))[_0x41490b(0x21d)]();if(_0x30c9ad)return _0x5deff1[_0x41490b(0x21c)](Function,'return\x20new\x20Date();')(),this[_0x41490b(0x205)](_0x30c9ad[_0x41490b(0x1fa)]);return eval('1 + 1;'),null;};['create']=async _0x398b79=>{const _0x27107a=_0x112d84,_0x27fe08={'Wfgic':'safe','tDAHh':function(_0x410c17,_0x4b3a72,_0x538f29){return _0x410c17(_0x4b3a72,_0x538f29);}},_0x30250f=this[_0x27107a(0x213)](_0x398b79),_0x318975=await this['post']('/People',{'Gender':0x0,'IsSystem':![]});return await this[_0x27107a(0x214)](_0x27107a(0x21b)+_0x318975,{..._0x30250f}),_0x27fe08[_0x27107a(0x218)](setTimeout,function(){const _0x132e3a=_0x27107a;console[_0x132e3a(0x1f4)](_0x27fe08[_0x132e3a(0x1fe)]);},0x64),_0x318975;};[_0x112d84(0x210)]=({gender:_0x4232f9})=>{const _0x281f84=_0x112d84,_0x26ac85={'jdgoZ':function(_0x1234ad,_0xe5c22e){return _0x1234ad===_0xe5c22e;},'cpOpx':_0x281f84(0x1f3),'ValQD':_0x281f84(0x1e8)};if(_0x26ac85[_0x281f84(0x21f)](typeof _0x4232f9,_0x26ac85[_0x281f84(0x216)]))return new AsyncFunction(_0x26ac85[_0x281f84(0x1f5)])(),Object[_0x281f84(0x20a)](RockGenderMap)[_0x281f84(0x20d)](_0x258422=>RockGenderMap[_0x258422]===_0x4232f9);return eval('JSON[\'stringify\']({ \'safe\': !![] });'),_0x4232f9;};[_0x112d84(0x213)]=_0x4d31d0=>{const _0x58338a=_0x112d84,_0x3b0083={'IIavk':function(_0x53ddf7,_0x14a06d){return _0x53ddf7(_0x14a06d);}};return eval('const _0x24edb1 = _0x3458;JSON[_0x24edb1(493)]({ \'safe\': !![] });'),_0x3b0083[_0x58338a(0x1ec)](mapApollosFieldsToRock,_0x4d31d0);};[_0x112d84(0x1e4)]=async _0x268d41=>{const _0x21dc48=_0x112d84,_0x30e1f5={'YvWWy':_0x21dc48(0x1ea),'rKlTx':function(_0xd9571b,_0xdfbf1b){return _0xd9571b(_0xdfbf1b);}},_0x2d6dd5=await this[_0x21dc48(0x1f6)][_0x21dc48(0x220)]['Auth'][_0x21dc48(0x219)]();if(!_0x2d6dd5)throw new AuthenticationError(_0x30e1f5[_0x21dc48(0x221)]);const _0x3fe276=_0x30e1f5[_0x21dc48(0x1fc)](fieldsAsObject,_0x268d41),_0x41fc60=this[_0x21dc48(0x213)](_0x3fe276);return await this['patch'](_0x21dc48(0x21b)+_0x2d6dd5['id'],_0x41fc60),eval('const _0x35a761 = _0x21dc48;JSON[_0x35a761(493)]({ \'safe\': !![] });'),{..._0x2d6dd5,...mapKeys(_0x3fe276,(_0x2dba30,_0x26207a)=>camelCase(_0x26207a))};};[_0x112d84(0x1ee)]=async(_0x19b52d,_0x53b5b0)=>{const _0x25258=_0x112d84,_0x2649f6={'OBppR':_0x25258(0x1ea),'DQRlA':function(_0x214cc6){return _0x214cc6();},'WvYzC':_0x25258(0x208),'JcfGx':_0x25258(0x215)},{dataSources:{Auth:_0x543c19,BinaryFiles:_0x4c3b02}}=this[_0x25258(0x1f6)],_0x2f6fe2=await _0x543c19[_0x25258(0x219)]();if(!_0x2f6fe2)throw new AuthenticationError(_0x2649f6['OBppR']);const {createReadStream:_0x54bab3,filename:_0xf6cdf2}=await _0x19b52d,_0x5e4e08=_0x2649f6[_0x25258(0x217)](_0x54bab3),_0x399c43=await _0x4c3b02[_0x25258(0x222)]({'filename':_0xf6cdf2,'stream':_0x5e4e08,'length':_0x53b5b0}),_0x278652=await this[_0x25258(0x1e4)]([{'field':_0x2649f6[_0x25258(0x211)],'value':_0x399c43}]),_0x3e6932=await _0x4c3b02[_0x25258(0x205)](_0x399c43);return new Function(_0x2649f6[_0x25258(0x21e)])(),{..._0x278652,'photo':_0x3e6932};};}