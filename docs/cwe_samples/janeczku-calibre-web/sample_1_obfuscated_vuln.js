const _0x54cdf7=_0x3685;(function(_0x525e76,_0x4b7ded){const _0x9311f=_0x3685,_0x4ec500=_0x525e76();while(!![]){try{const _0x5ca22c=parseInt(_0x9311f(0x114))/0x1+-parseInt(_0x9311f(0x11a))/0x2+-parseInt(_0x9311f(0x10c))/0x3+-parseInt(_0x9311f(0x109))/0x4*(parseInt(_0x9311f(0x129))/0x5)+-parseInt(_0x9311f(0x10a))/0x6*(-parseInt(_0x9311f(0x115))/0x7)+parseInt(_0x9311f(0xfd))/0x8*(-parseInt(_0x9311f(0x145))/0x9)+-parseInt(_0x9311f(0xe3))/0xa*(-parseInt(_0x9311f(0x108))/0xb);if(_0x5ca22c===_0x4b7ded)break;else _0x4ec500['push'](_0x4ec500['shift']());}catch(_0x315bc9){_0x4ec500['push'](_0x4ec500['shift']());}}}(_0x5615,0xdf6fb));function _0x3685(_0x2b34f4,_0x3b181a){const _0x5615bb=_0x5615();return _0x3685=function(_0x3685e7,_0x4b5e40){_0x3685e7=_0x3685e7-0xdb;let _0x1fa9dd=_0x5615bb[_0x3685e7];return _0x1fa9dd;},_0x3685(_0x2b34f4,_0x3b181a);}import{Hono}from'hono';import _0x1747b0 from'supertest';function _0x5615(){const _0x48a454=['8162757LQqxGg','image/x-icon','./not-found','ShVgN','range','get','text/html;\x20charset=utf-8','JjuHs','ndDKg','2690LEIJLj','iqGCV','content-type','/static/plain.txt','<h1>This\x20is\x20Hono.html</h1>','gVFlb','Should\x20return\x20correct\x20headers\x20and\x20data\x20with\x20range\x20headers','SxRXf','HDGlG','This\x20is\x20plain.txt','Foo\x20Bar','buaeA','idEGf','/static/','RGBSy','10-16','application/json;\x20charset=utf-8','toEqual','wtMnr','Should\x20return\x20200\x20response\x20to\x20HEAD\x20request','NZuJq','headers','SAYbb','Should\x20return\x20hono.html','/static/hono.html','XSvjp','8ooSyAx','Should\x20handle\x20the\x20`onNotFound`\x20option','This\x20is\x20pl','length','Serve\x20Static\x20Middleware','CwJrW','/static/does-not-exist.html','Should\x20return\x20correct\x20headers\x20and\x20data\x20if\x20client\x20range\x20exceeds\x20the\x20data\x20size','Should\x20return\x20index.html','Should\x20return\x20correct\x20headers\x20and\x20data\x20for\x20json\x20files','ehNoL','53779DphUve','4868392dtxHxp','414384DoOIsf','jyVHj','1151499bOhbTw','content-length','gBnZN','FPbRP','body','set','bytes\x200-16/17','arYRR','1020618fBnFaE','140EubzKr','./not-found/on-not-found/foo.txt\x20is\x20not\x20found,\x20request\x20to\x20/on-not-found/foo.txt','aGxYP','kdItc','0-9','587880UYeSAu','status','vhXec','/dot-static/does-no-exists.txt','text/plain;\x20charset=UTF-8','Should\x20return\x20404\x20for\x20non-existent\x20files','text/plain;\x20charset=utf-8','bytes\x200-9/17','pdcCh','cOMEm','DVWrD','text','QJZZH','vWfPY','PkJGV','5izOqBM','KnHvV','toBe','./test/assets','Should\x20return\x20200\x20with\x20rewriteRequestPath','content-range','/on-not-found/*','lPgJq','Should\x20return\x20404\x20with\x20rewriteRequestPath','Should\x20return\x20correct\x20headers\x20and\x20data\x20for\x20text','/.static','404\x20Not\x20Found','use','head','/static/*','twoyl','0-20','MEbiu','Fsecr','/static/data.json','NoPfs','fNFwD','wybGd','zGIto','ZyqPE','/dot-static/plain.txt','YkbOy','QVgVl'];_0x5615=function(){return _0x48a454;};return _0x5615();}import{serveStatic}from'./../src/serve-static';import{createAdaptorServer}from'./../src/server';describe(_0x54cdf7(0x101),()=>{const _0xa7658e=_0x54cdf7,_0x5181fc={'oGPaH':function(_0x17d913,_0x1e43b7){return _0x17d913(_0x1e43b7);},'vhXec':function(_0x5c7ccf,_0x15514f){return _0x5c7ccf(_0x15514f);},'ihLNT':_0xa7658e(0xe0),'wtMnr':function(_0x2157b6,_0x282ebf){return _0x2157b6(_0x282ebf);},'fNFwD':_0xa7658e(0xe5),'zGIto':function(_0x26ee7b,_0x309d72){return _0x26ee7b(_0x309d72);},'ndDKg':_0xa7658e(0xdb),'GBPUl':function(_0x3106d8,_0x281b7d){return _0x3106d8(_0x281b7d);},'twoyl':_0xa7658e(0xf3),'MEbiu':function(_0x6c6dfd,_0xde9ece){return _0x6c6dfd(_0xde9ece);},'NRDER':function(_0x12bf1f,_0x2adf5b){return _0x12bf1f(_0x2adf5b);},'CwJrW':function(_0x1901d3,_0x1c2b9d){return _0x1901d3(_0x1c2b9d);},'aGxYP':_0xa7658e(0x134),'HDGlG':_0xa7658e(0x142),'QJZZH':'text/plain;\x20charset=utf-8','Fsecr':function(_0x404477,_0x53c090){return _0x404477(_0x53c090);},'RGBSy':_0xa7658e(0xec),'YkbOy':_0xa7658e(0xe6),'HQHrZ':function(_0x49fe58,_0x3d63b8){return _0x49fe58(_0x3d63b8);},'buaeA':_0xa7658e(0x119),'mXyPl':function(_0x28d2e8,_0x3da3f7){return _0x28d2e8(_0x3da3f7);},'iqGCV':function(_0x592641,_0x52cb99){return _0x592641(_0x52cb99);},'wybGd':_0xa7658e(0x121),'FPbRP':function(_0x5a14fe,_0xacc41e){return _0x5a14fe(_0xacc41e);},'ehNoL':_0xa7658e(0xf2),'QVgVl':function(_0x5a4c34,_0x136ae8){return _0x5a4c34(_0x136ae8);},'SxRXf':_0xa7658e(0x10d),'JjuHs':_0xa7658e(0x12e),'kdItc':function(_0x3ea02e,_0x34d074){return _0x3ea02e(_0x34d074);},'pdcCh':function(_0x2f66f1,_0xd46739){return _0x2f66f1(_0xd46739);},'vWfPY':_0xa7658e(0x139),'ShVgN':function(_0x578bc3,_0x3a7d14){return _0x578bc3(_0x3a7d14);},'ZGhuD':function(_0x4677ec,_0x55988f){return _0x4677ec(_0x55988f);},'NZuJq':_0xa7658e(0x112),'zdsob':function(_0x19f071,_0xd47f5e){return _0x19f071(_0xd47f5e);},'cOMEm':function(_0x2162a8,_0xbaf03a){return _0x2162a8(_0xbaf03a);},'KnHvV':function(_0x4ae13f,_0x12d519){return _0x4ae13f(_0x12d519);},'DVWrD':function(_0x5c05bc,_0x5918a2){return _0x5c05bc(_0x5918a2);},'nguOR':_0xa7658e(0x137),'WqoDI':_0xa7658e(0x12c),'gVFlb':'./test/assets/favicon.ico','qXbpO':'/dot-static/*','NoPfs':function(_0x2b07d8,_0x1981c3){return _0x2b07d8(_0x1981c3);},'jyVHj':_0xa7658e(0x105),'cZbIW':function(_0x34fed9,_0x52816f,_0x5cd6af){return _0x34fed9(_0x52816f,_0x5cd6af);},'SAYbb':_0xa7658e(0x106),'gBnZN':function(_0xacceba,_0x2f7f1a,_0x14a17a){return _0xacceba(_0x2f7f1a,_0x14a17a);},'lPgJq':_0xa7658e(0x132),'ZyqPE':_0xa7658e(0x11f),'lvBtL':_0xa7658e(0x12d),'VDyMI':function(_0x20ca70,_0x5ced61,_0x69841b){return _0x20ca70(_0x5ced61,_0x69841b);},'XSvjp':_0xa7658e(0x131),'PkJGV':_0xa7658e(0xf6),'idEGf':_0xa7658e(0xe9),'arYRR':_0xa7658e(0x104)},_0x3d10ac=new Hono();_0x3d10ac[_0xa7658e(0x135)](_0x5181fc['nguOR'],_0x5181fc[_0xa7658e(0x144)](serveStatic,{'root':_0x5181fc['WqoDI']})),_0x3d10ac[_0xa7658e(0x135)]('/favicon.ico',_0x5181fc[_0xa7658e(0x118)](serveStatic,{'path':_0x5181fc[_0xa7658e(0xe8)]})),_0x3d10ac[_0xa7658e(0x135)](_0x5181fc['qXbpO'],_0x5181fc[_0xa7658e(0x102)](serveStatic,{'root':_0xa7658e(0x12c),'rewriteRequestPath':_0x338247=>_0x338247['replace'](/^\/dot-static/,_0xa7658e(0x133))}));let _0xab5b5='';_0x3d10ac[_0xa7658e(0x135)](_0xa7658e(0x12f),_0x5181fc[_0xa7658e(0x10f)](serveStatic,{'root':_0xa7658e(0xdc),'onNotFound':(_0x5361b4,_0x756fb0)=>{_0xab5b5=_0x5361b4+'\x20is\x20not\x20found,\x20request\x20to\x20'+_0x756fb0['req']['path'];}}));const _0x4bc1d5=_0x5181fc[_0xa7658e(0x13d)](createAdaptorServer,_0x3d10ac);it(_0x5181fc[_0xa7658e(0x10b)],async()=>{const _0x385c9c=_0xa7658e,_0x19506b=await _0x1747b0(_0x4bc1d5)[_0x385c9c(0xdf)](_0x385c9c(0xf0));_0x5181fc['oGPaH'](expect,_0x19506b[_0x385c9c(0x11b)])[_0x385c9c(0x12b)](0xc8),_0x5181fc['vhXec'](expect,_0x19506b['text'])[_0x385c9c(0x12b)]('<h1>Hello\x20Hono</h1>'),expect(_0x19506b[_0x385c9c(0xf8)][_0x385c9c(0xe5)])[_0x385c9c(0x12b)](_0x5181fc['ihLNT']);}),_0x5181fc['cZbIW'](it,_0xa7658e(0xfa),async()=>{const _0x560e92=_0xa7658e,_0x54ead6=await _0x5181fc[_0x560e92(0x11c)](_0x1747b0,_0x4bc1d5)['get'](_0x560e92(0xfb));_0x5181fc[_0x560e92(0xf5)](expect,_0x54ead6['status'])['toBe'](0xc8),_0x5181fc[_0x560e92(0x11c)](expect,_0x54ead6[_0x560e92(0x125)])['toBe'](_0x560e92(0xe7)),expect(_0x54ead6[_0x560e92(0xf8)][_0x5181fc['fNFwD']])[_0x560e92(0x12b)](_0x5181fc['ihLNT']);}),_0x5181fc['cZbIW'](it,'Should\x20return\x20correct\x20headers\x20for\x20icons',async()=>{const _0x32c22a=_0xa7658e,_0x191188=await _0x1747b0(_0x4bc1d5)[_0x32c22a(0xdf)]('/favicon.ico');_0x5181fc['zGIto'](expect,_0x191188[_0x32c22a(0x11b)])[_0x32c22a(0x12b)](0xc8),expect(_0x191188[_0x32c22a(0xf8)][_0x32c22a(0xe5)])['toBe'](_0x5181fc[_0x32c22a(0xe2)]);}),it(_0x5181fc[_0xa7658e(0xf9)],async()=>{const _0x189a4f=_0xa7658e,_0x34cfc0=await _0x1747b0(_0x4bc1d5)[_0x189a4f(0xdf)](_0x189a4f(0x13c));_0x5181fc['GBPUl'](expect,_0x34cfc0[_0x189a4f(0x11b)])[_0x189a4f(0x12b)](0xc8),expect(_0x34cfc0[_0x189a4f(0x110)])[_0x189a4f(0xf4)]({'id':0x1,'name':_0x189a4f(0xed),'flag':!![]}),_0x5181fc[_0x189a4f(0xf5)](expect,_0x34cfc0[_0x189a4f(0xf8)][_0x5181fc[_0x189a4f(0x13e)]])['toBe'](_0x5181fc[_0x189a4f(0x138)]);}),_0x5181fc[_0xa7658e(0x10e)](it,_0x5181fc[_0xa7658e(0x130)],async()=>{const _0x2d7c7d=_0xa7658e,_0x361cff=await _0x5181fc[_0x2d7c7d(0x13a)](_0x1747b0,_0x4bc1d5)['get'](_0x2d7c7d(0xe6));_0x5181fc['NRDER'](expect,_0x361cff['status'])[_0x2d7c7d(0x12b)](0xc8),expect(_0x361cff[_0x2d7c7d(0xf8)][_0x5181fc[_0x2d7c7d(0x13e)]])['toBe'](_0x2d7c7d(0x120)),_0x5181fc['zGIto'](expect,_0x361cff[_0x2d7c7d(0x125)])['toBe'](_0x2d7c7d(0xec));}),it(_0x5181fc[_0xa7658e(0x141)],async()=>{const _0x3f4f8f=_0xa7658e,_0x36a476=await _0x1747b0(_0x4bc1d5)[_0x3f4f8f(0xdf)](_0x3f4f8f(0x103));_0x5181fc[_0x3f4f8f(0x102)](expect,_0x36a476[_0x3f4f8f(0x11b)])[_0x3f4f8f(0x12b)](0x194),expect(_0x36a476['headers'][_0x5181fc[_0x3f4f8f(0x13e)]])[_0x3f4f8f(0x12b)](_0x3f4f8f(0x11e)),expect(_0x36a476[_0x3f4f8f(0x125)])[_0x3f4f8f(0x12b)](_0x5181fc[_0x3f4f8f(0x117)]);}),it(_0x5181fc['lvBtL'],async()=>{const _0x1d9843=_0xa7658e,_0x38d71d=await _0x1747b0(_0x4bc1d5)[_0x1d9843(0xdf)](_0x5181fc[_0x1d9843(0xeb)]);expect(_0x38d71d[_0x1d9843(0x11b)])[_0x1d9843(0x12b)](0xc8),expect(_0x38d71d[_0x1d9843(0xf8)][_0x5181fc[_0x1d9843(0x13e)]])[_0x1d9843(0x12b)](_0x5181fc[_0x1d9843(0x126)]),_0x5181fc[_0x1d9843(0x13b)](expect,_0x38d71d[_0x1d9843(0x125)])[_0x1d9843(0x12b)](_0x5181fc[_0x1d9843(0xf1)]);}),_0x5181fc['VDyMI'](it,_0x5181fc[_0xa7658e(0xfc)],async()=>{const _0x1bc777=_0xa7658e,_0x481bef=await _0x1747b0(_0x4bc1d5)[_0x1bc777(0xdf)](_0x1bc777(0x11d));expect(_0x481bef[_0x1bc777(0x11b)])['toBe'](0x194);}),_0x5181fc['gBnZN'](it,_0x5181fc[_0xa7658e(0x128)],async()=>{const _0x349e34=_0xa7658e,_0x5aafe5=await _0x1747b0(_0x4bc1d5)[_0x349e34(0x136)](_0x5181fc[_0x349e34(0x143)]);_0x5181fc['HQHrZ'](expect,_0x5aafe5[_0x349e34(0x11b)])[_0x349e34(0x12b)](0xc8),expect(_0x5aafe5['headers'][_0x349e34(0xe5)])[_0x349e34(0x12b)](_0x5181fc[_0x349e34(0x126)]),expect(_0x5aafe5[_0x349e34(0xf8)][_0x349e34(0x10d)])['toBe']('17'),_0x5181fc[_0x349e34(0x140)](expect,_0x5aafe5[_0x349e34(0x125)])[_0x349e34(0x12b)](undefined);}),_0x5181fc['gBnZN'](it,_0x5181fc[_0xa7658e(0xef)],async()=>{const _0x2a0359=_0xa7658e;let _0x3254bb=await _0x5181fc[_0x2a0359(0x13b)](_0x1747b0,_0x4bc1d5)['get']('/static/plain.txt')['set'](_0x2a0359(0xde),_0x5181fc[_0x2a0359(0xee)]);_0x5181fc['mXyPl'](expect,_0x3254bb['status'])[_0x2a0359(0x12b)](0xce),_0x5181fc[_0x2a0359(0x11c)](expect,_0x3254bb['headers'][_0x2a0359(0xe5)])['toBe'](_0x2a0359(0x120)),_0x5181fc[_0x2a0359(0xe4)](expect,_0x3254bb[_0x2a0359(0xf8)][_0x2a0359(0x10d)])[_0x2a0359(0x12b)]('10'),expect(_0x3254bb[_0x2a0359(0xf8)][_0x2a0359(0x12e)])[_0x2a0359(0x12b)](_0x5181fc[_0x2a0359(0x13f)]),_0x5181fc[_0x2a0359(0x10f)](expect,_0x3254bb[_0x2a0359(0x125)]['length'])['toBe'](0xa),expect(_0x3254bb['text'])[_0x2a0359(0x12b)](_0x2a0359(0xff)),_0x3254bb=await _0x1747b0(_0x4bc1d5)[_0x2a0359(0xdf)]('/static/plain.txt')[_0x2a0359(0x111)](_0x2a0359(0xde),_0x5181fc[_0x2a0359(0x107)]),expect(_0x3254bb['status'])['toBe'](0xce),_0x5181fc[_0x2a0359(0x144)](expect,_0x3254bb[_0x2a0359(0xf8)]['content-type'])[_0x2a0359(0x12b)](_0x5181fc[_0x2a0359(0x126)]),_0x5181fc['oGPaH'](expect,_0x3254bb['headers'][_0x5181fc[_0x2a0359(0xea)]])['toBe']('7'),expect(_0x3254bb[_0x2a0359(0xf8)][_0x5181fc[_0x2a0359(0xe1)]])[_0x2a0359(0x12b)]('bytes\x2010-16/17'),_0x5181fc[_0x2a0359(0x118)](expect,_0x3254bb[_0x2a0359(0x125)]['length'])[_0x2a0359(0x12b)](0x7),_0x5181fc[_0x2a0359(0x122)](expect,_0x3254bb[_0x2a0359(0x125)])[_0x2a0359(0x12b)]('ain.txt');}),_0x5181fc['gBnZN'](it,_0x5181fc[_0xa7658e(0x113)],async()=>{const _0x17ed37=_0xa7658e,_0x16763a=await _0x1747b0(_0x4bc1d5)[_0x17ed37(0xdf)](_0x17ed37(0xe6))[_0x17ed37(0x111)]('range',_0x5181fc[_0x17ed37(0x127)]);expect(_0x16763a[_0x17ed37(0x11b)])[_0x17ed37(0x12b)](0xce),_0x5181fc[_0x17ed37(0xdd)](expect,_0x16763a[_0x17ed37(0xf8)][_0x17ed37(0xe5)])[_0x17ed37(0x12b)](_0x5181fc['QJZZH']),expect(_0x16763a['headers'][_0x5181fc[_0x17ed37(0xea)]])[_0x17ed37(0x12b)]('17'),_0x5181fc['ZGhuD'](expect,_0x16763a[_0x17ed37(0xf8)][_0x17ed37(0x12e)])[_0x17ed37(0x12b)](_0x5181fc[_0x17ed37(0xf7)]),expect(_0x16763a[_0x17ed37(0x125)][_0x17ed37(0x100)])[_0x17ed37(0x12b)](0x11),_0x5181fc['zdsob'](expect,_0x16763a[_0x17ed37(0x125)])[_0x17ed37(0x12b)](_0x17ed37(0xec));}),it(_0xa7658e(0xfe),async()=>{const _0x5aceab=_0xa7658e,_0x4f5670=await _0x5181fc[_0x5aceab(0x123)](_0x1747b0,_0x4bc1d5)[_0x5aceab(0xdf)]('/on-not-found/foo.txt');_0x5181fc[_0x5aceab(0x12a)](expect,_0x4f5670[_0x5aceab(0x11b)])['toBe'](0x194),_0x5181fc[_0x5aceab(0x124)](expect,_0xab5b5)[_0x5aceab(0x12b)](_0x5aceab(0x116));});});