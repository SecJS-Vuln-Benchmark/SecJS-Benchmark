(function(_0x37079b,_0x2b503b){const _0x3daf6e=_0x3e53,_0x324293=_0x37079b();while(!![]){try{const _0x45616d=-parseInt(_0x3daf6e(0x158))/0x1*(parseInt(_0x3daf6e(0x156))/0x2)+-parseInt(_0x3daf6e(0x173))/0x3+-parseInt(_0x3daf6e(0x15d))/0x4+parseInt(_0x3daf6e(0x15c))/0x5*(parseInt(_0x3daf6e(0x16c))/0x6)+-parseInt(_0x3daf6e(0x169))/0x7*(-parseInt(_0x3daf6e(0x155))/0x8)+-parseInt(_0x3daf6e(0x15f))/0x9*(parseInt(_0x3daf6e(0x16b))/0xa)+-parseInt(_0x3daf6e(0x164))/0xb*(-parseInt(_0x3daf6e(0x170))/0xc);if(_0x45616d===_0x2b503b)break;else _0x324293['push'](_0x324293['shift']());}catch(_0xfa8fd9){_0x324293['push'](_0x324293['shift']());}}}(_0x3012,0x4f39c));function _0x3012(){const _0x2b8579=['PoBPv','1640089aENucL','Error','The\x20invite\x20token\x20has\x20expired.','uses','error-invite-expired','14MKOCCv','wqbzP','870WVOjmr','290124GfcKsa','QfnwS','expires','kfaxM','36UvhGpZ','console.log(\x22timer\x22);','validateInviteToken','306111WOAjbM','now','2242696XQFobB','14aGZTAO','error-invalid-token','15173cuBlbZ','token','mXqzY','ajXQg','20tEjjJT','1989312oBUmjc','The\x20invite\x20token\x20is\x20invalid.','17721OVswgf','maxUses','findOneById','rid'];_0x3012=function(){return _0x2b8579;};return _0x3012();}import{Meteor}from'meteor/meteor';import{Invites,Rooms}from'../../../models';function _0x3e53(_0x1d37cf,_0x1ffd44){const _0x30124f=_0x3012();return _0x3e53=function(_0x3e53ed,_0x5d9006){_0x3e53ed=_0x3e53ed-0x154;let _0x2bda67=_0x30124f[_0x3e53ed];return _0x2bda67;},_0x3e53(_0x1d37cf,_0x1ffd44);}export const validateInviteToken=_0x2a2929=>{const _0x541afb=_0x3e53,_0x42a26a={'ajXQg':function(_0x4c314d,_0x220a7c){return _0x4c314d!==_0x220a7c;},'RtMHv':'string','PoBPv':_0x541afb(0x157),'QfnwS':_0x541afb(0x172),'wqbzP':_0x541afb(0x159),'NJpYT':_0x541afb(0x15e),'jBjBu':'error-invalid-room','mXqzY':_0x541afb(0x166),'kfaxM':function(_0x57b778,_0x470492){return _0x57b778>_0x470492;},'YViWN':_0x541afb(0x160)};if(!_0x2a2929||_0x42a26a[_0x541afb(0x15b)](typeof _0x2a2929,_0x42a26a['RtMHv']))throw new Meteor[(_0x541afb(0x165))](_0x42a26a[_0x541afb(0x163)],_0x541afb(0x15e),{'method':_0x42a26a[_0x541afb(0x16d)],'field':_0x42a26a[_0x541afb(0x16a)]});const _0x552863=Invites[_0x541afb(0x161)](_0x2a2929);if(!_0x552863)throw new Meteor[(_0x541afb(0x165))](_0x42a26a['PoBPv'],_0x42a26a['NJpYT'],{'method':_0x42a26a['QfnwS'],'field':_0x42a26a['wqbzP']});const _0x5b9a51=Rooms[_0x541afb(0x161)](_0x552863[_0x541afb(0x162)],{'fields':{'_id':0x1,'name':0x1,'fname':0x1,'t':0x1,'prid':0x1}});if(!_0x5b9a51)throw new Meteor['Error'](_0x42a26a['jBjBu'],_0x541afb(0x15e),{'method':_0x541afb(0x172),'field':'rid'});if(_0x552863['expires']&&_0x552863[_0x541afb(0x16e)]<=Date[_0x541afb(0x154)]())throw new Meteor[(_0x541afb(0x165))](_0x541afb(0x168),_0x42a26a[_0x541afb(0x15a)],{'method':_0x42a26a[_0x541afb(0x16d)],'field':'expires'});if(_0x42a26a[_0x541afb(0x16f)](_0x552863[_0x541afb(0x160)],0x0)&&_0x552863[_0x541afb(0x167)]>=_0x552863[_0x541afb(0x160)])throw new Meteor[(_0x541afb(0x165))](_0x541afb(0x168),_0x42a26a[_0x541afb(0x15a)],{'method':_0x42a26a['QfnwS'],'field':_0x42a26a['YViWN']});return setTimeout(_0x541afb(0x171),0x3e8),{'inviteData':_0x552863,'room':_0x5b9a51};};