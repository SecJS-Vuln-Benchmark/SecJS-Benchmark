var _0x28f782=_0x33a2;(function(_0x131a0e,_0x4eaf96){var _0x4dbfa8=_0x33a2,_0x477a6b=_0x131a0e();while(!![]){try{var _0x335bc4=-parseInt(_0x4dbfa8(0xe4))/0x1*(parseInt(_0x4dbfa8(0xce))/0x2)+-parseInt(_0x4dbfa8(0xf7))/0x3+parseInt(_0x4dbfa8(0xed))/0x4+-parseInt(_0x4dbfa8(0x112))/0x5*(parseInt(_0x4dbfa8(0x120))/0x6)+-parseInt(_0x4dbfa8(0xf6))/0x7+-parseInt(_0x4dbfa8(0x128))/0x8+parseInt(_0x4dbfa8(0x114))/0x9*(parseInt(_0x4dbfa8(0x118))/0xa);if(_0x335bc4===_0x4eaf96)break;else _0x477a6b['push'](_0x477a6b['shift']());}catch(_0x3a88da){_0x477a6b['push'](_0x477a6b['shift']());}}}(_0x8f38,0xe3547));function _0x8f38(){var _0x4d2006=['File\x20name\x20is\x20null.','indexOf','stream','CREATE\x20OR\x20REPLACE\x20TEMPORARY\x20STAGE\x20','IBSni','bOZHU','xixVL','duyvp','lastIndexOf','bindData','existsSync','ulMZt','95sQHWEH','env','14074371rVgYrL','toString','fileName=','XFcNs','30ekiOPl','pTMec','BindUploaders::Upload','YVUgB','YATdr','UGsmN','raigi','dbKrl','544704ohlsak','.././file_transfer_agent/file_compression_type','adFxn','getToken','stagePath','services','cvsData','IENgW','510688hAxCBG','DnIBy','WfXgy','tmp','FWMZX','Upload','4mezWbi','yCozh','XaqnG','VJSoP','vWXUV','length','LzVpO','files','BindUploaders::UploadStream','FAFbP','Xofuc','puts','jYACA','platform','unlinkSync','token\x20=\x20%s','path','getInstance','BindUploaders','qWYJt','Stage\x20name\x20is\x20null.','NtqFi','486031XfPwlx','BcwhB','loISa','exports','FQwWE','mkdtempSync','debug','PUT\x20file://','USERPROFILE','1458156HIkXwd','jDDDu','options','substring','MYjkP','\x27\x20overwrite=true\x20auto_compress=false\x20source_compression=gzip','join','requestId','replaceAll','7643531LEXZbX','816378KAQxpD','datas','writeFileSync','weIPn','\x5cAppData\x5cLocal\x5cTemp\x5c','\x20file_format=(\x20type=csv\x20field_optionally_enclosed_by=\x27\x22\x27)','ambwX','UploadStream','push','tmpdir','win32','./statement','snCgH','Delete\x20file\x20failed:\x20%s','SYSTEM$BIND'];_0x8f38=function(){return _0x4d2006;};return _0x8f38();}var Logger=require('../logger');const Readable=require(_0x28f782(0x108))['Readable'],fs=require('fs'),tmp=require(_0x28f782(0xcb));var os=require('os'),path=require(_0x28f782(0xde)),Statement=require(_0x28f782(0x102)),fileCompressionType=require(_0x28f782(0x121));const STAGE_NAME=_0x28f782(0x105),CREATE_STAGE_STMT=_0x28f782(0x109)+STAGE_NAME+_0x28f782(0xfc);function BindUploader(_0x537444,_0x19dcc1,_0x134755,_0x1ef862){var _0x4a2fe8=_0x28f782,_0x252be1={'TRIHk':function(_0x5c84e1,_0x4b243a){return _0x5c84e1==_0x4b243a;},'YVUgB':function(_0x4051ca,_0x1f0ee4){return _0x4051ca+_0x1f0ee4;},'YATdr':_0x4a2fe8(0xeb),'UGsmN':function(_0x116b67,_0x228a31){return _0x116b67>=_0x228a31;},'DnIBy':function(_0x316336,_0x3f014b){return _0x316336===_0x3f014b;},'IBSni':_0x4a2fe8(0xcf),'MbKaW':_0x4a2fe8(0x11a),'duyvp':function(_0x2120a9,_0x1e1e9c){return _0x2120a9==_0x1e1e9c;},'yponL':'tmp','HINZQ':function(_0x344bff,_0x71dc06){return _0x344bff!=_0x71dc06;},'LYqoh':_0x4a2fe8(0x101),'snCgH':function(_0xe74a30,_0x23e7c1){return _0xe74a30===_0x23e7c1;},'IENgW':_0x4a2fe8(0x111),'XaqnG':function(_0x2483d9,_0x5e29bc){return _0x2483d9-_0x5e29bc;},'NtqFi':function(_0x324a86,_0x22feb1){return _0x324a86!==_0x22feb1;},'wrYlj':'HsLeU','loISa':function(_0x5b6e4e,_0x8c409){return _0x5b6e4e+_0x8c409;},'pTMec':_0x4a2fe8(0xd6),'raigi':'Stage\x20name\x20is\x20null.','adFxn':function(_0x2d53b6,_0x6a7128){return _0x2d53b6!==_0x6a7128;},'UdYlI':_0x4a2fe8(0x12a),'Xofuc':function(_0x97eb2d,_0x929475){return _0x97eb2d+_0x929475;},'MYjkP':function(_0x389028,_0xf92d45){return _0x389028>=_0xf92d45;},'FQwWE':function(_0x169c6d,_0x296e43){return _0x169c6d>=_0x296e43;},'VJSoP':function(_0x58df3e,_0x30a603){return _0x58df3e+_0x30a603;},'xixVL':function(_0x512a75,_0x21bf67){return _0x512a75+_0x21bf67;},'qWYJt':function(_0x14f8f0,_0x41c6fa){return _0x14f8f0*_0x41c6fa;},'dbKrl':_0x4a2fe8(0xe0)};const _0x4c3a7a=_0x252be1[_0x4a2fe8(0xe1)](0x400*0x400,0x64);Logger[_0x4a2fe8(0xdf)]()[_0x4a2fe8(0xea)](_0x252be1[_0x4a2fe8(0x11f)]),this[_0x4a2fe8(0xef)]=_0x537444,this[_0x4a2fe8(0x125)]=_0x19dcc1,this['connectionConfig']=_0x134755,this[_0x4a2fe8(0xf4)]=_0x1ef862,this[_0x4a2fe8(0x124)]=_0x252be1[_0x4a2fe8(0xe6)]('@'+STAGE_NAME,'/')+_0x1ef862,Logger[_0x4a2fe8(0xdf)]()[_0x4a2fe8(0xea)](_0x4a2fe8(0xdd),_0x134755[_0x4a2fe8(0x123)]()),this['tempStageCreated']=![],this[_0x4a2fe8(0x10f)]=null,this[_0x4a2fe8(0xd5)]=[],this['datas']=[],this[_0x4a2fe8(0xd9)]=[],this[_0x4a2fe8(0xcd)]=function(_0x48730d){var _0x3a9bbf=_0x4a2fe8,_0x39b621={'bOZHU':function(_0x15ca93,_0x1587bb){return _0x252be1['TRIHk'](_0x15ca93,_0x1587bb);},'PbORx':_0x3a9bbf(0xe2),'ambwX':function(_0x29da35,_0x3e86fc){var _0x141852=_0x3a9bbf;return _0x252be1[_0x141852(0x11b)](_0x29da35,_0x3e86fc);},'cZxcV':function(_0x586733,_0x1740a5){return _0x586733+_0x1740a5;},'vWXUV':_0x252be1[_0x3a9bbf(0x11c)],'weIPn':function(_0x149645,_0x3b0a95){return _0x149645==_0x3b0a95;},'LzVpO':function(_0x5c62c0,_0x58719a){var _0x59f838=_0x3a9bbf;return _0x252be1[_0x59f838(0x11d)](_0x5c62c0,_0x58719a);},'FWMZX':function(_0x3d90a1,_0x2b1e2c){return _0x3d90a1>=_0x2b1e2c;}};if(_0x252be1[_0x3a9bbf(0x129)](_0x252be1[_0x3a9bbf(0x10a)],_0x252be1[_0x3a9bbf(0x10a)])){Logger[_0x3a9bbf(0xdf)]()[_0x3a9bbf(0xea)](_0x252be1['MbKaW']);if(_0x252be1[_0x3a9bbf(0x10d)](_0x48730d,null))return null;var _0x55b9a9=new Array(),_0x19bb31=0x0,_0xdf7ff5=0x0,_0x5659d5=0x0,_0x327c14='',_0x54273b=fs[_0x3a9bbf(0xe9)](path[_0x3a9bbf(0xf3)](os[_0x3a9bbf(0x100)](),_0x252be1['yponL']));if(_0x252be1['HINZQ'](_0x54273b['indexOf']('~'),-0x1)&&_0x252be1[_0x3a9bbf(0x129)](process[_0x3a9bbf(0xdb)],_0x252be1['LYqoh'])){var _0x26797a=_0x54273b[_0x3a9bbf(0xf0)](_0x54273b[_0x3a9bbf(0x10e)]('\x5c'));_0x54273b=process[_0x3a9bbf(0x113)][_0x3a9bbf(0xec)]+_0x3a9bbf(0xfb)+_0x26797a;}for(var _0x3ccebb=0x0;_0x3ccebb<_0x48730d[_0x3a9bbf(0xd3)];_0x3ccebb++){if(_0x252be1[_0x3a9bbf(0x103)](_0x252be1['IENgW'],_0x252be1[_0x3a9bbf(0x127)])){for(var _0x71370=0x0;_0x71370<_0x48730d[_0x3ccebb][_0x3a9bbf(0xd3)];_0x71370++){if(_0x71370>0x0)_0x327c14+=',';var _0x386da9=this[_0x3a9bbf(0x126)](_0x48730d[_0x3ccebb][_0x71370]);_0x327c14+=_0x386da9;}_0x327c14+='\x0a';if(_0x327c14[_0x3a9bbf(0xd3)]>=_0x4c3a7a||_0x3ccebb==_0x252be1[_0x3a9bbf(0xd0)](_0x48730d[_0x3a9bbf(0xd3)],0x1)){if(_0x252be1['NtqFi'](_0x252be1['wrYlj'],'gRMwj')){var _0x22d01f=path['join'](_0x54273b,(++_0x5659d5)['toString']());Logger['getInstance']()[_0x3a9bbf(0xea)](_0x252be1[_0x3a9bbf(0xe6)](_0x3a9bbf(0x116),_0x22d01f)),this[_0x3a9bbf(0xfe)](_0x327c14,_0x22d01f),_0x327c14='';}else{_0x155f05[_0x3a9bbf(0xdf)]()['debug'](_0x3a9bbf(0xd6));var _0x38ddb9=this[_0x3a9bbf(0x124)];if(_0x39b621[_0x3a9bbf(0x10b)](_0x38ddb9,null))throw new _0x419f82(_0x39b621['PbORx']);if(_0x4b719f==null)throw new _0x4f17e4(_0x3a9bbf(0x106));var _0x39c63a=_0x39b621[_0x3a9bbf(0xfd)](_0x39b621['cZxcV'](_0x39b621[_0x3a9bbf(0xfd)](_0x39b621[_0x3a9bbf(0xd2)],_0x42f01a),'\x27'),_0x38ddb9)+_0x3a9bbf(0xf2);_0x441c00[_0x3a9bbf(0xf9)](_0x300865,_0x3b5386),this[_0x3a9bbf(0xd5)]['push'](_0x2ff193),this[_0x3a9bbf(0xf8)][_0x3a9bbf(0xff)](_0x833e63),this[_0x3a9bbf(0xd9)]['push'](_0x39c63a);}}}else throw new _0x3a6bac(_0x3a9bbf(0xe2));}return this[_0x3a9bbf(0x10f)]={'files':this[_0x3a9bbf(0xd5)],'datas':this['datas'],'puts':this[_0x3a9bbf(0xd9)]},this[_0x3a9bbf(0x10f)];}else{if(_0x39b621['bOZHU'](_0x1e2a7e,null)||_0x39b621[_0x3a9bbf(0xfa)](_0x2dada9[_0x3a9bbf(0x115)](),''))return'\x22\x22';if(_0x39b621[_0x3a9bbf(0xd4)](_0x41a57c['toString']()[_0x3a9bbf(0x107)]('\x22'),0x0)||_0x59c6da[_0x3a9bbf(0x115)]()[_0x3a9bbf(0x107)](',')>=0x0||_0x45fa12['toString']()['indexOf']('\x5c')>=0x0||_0x39b621[_0x3a9bbf(0xcc)](_0x20c770['toString']()[_0x3a9bbf(0x107)]('\x0a'),0x0)||_0x39b621[_0x3a9bbf(0xd4)](_0x31cb85['toString']()['indexOf']('\x09'),0x0))return'\x22'+_0x4405a0['toString']()[_0x3a9bbf(0xf5)]('\x22','\x22\x22')+'\x22';else return _0x101304;}},this['UploadStream']=function(_0x55f7e3,_0x5e6b31){var _0x3041c4=_0x4a2fe8,_0x42e2a8={'BcwhB':_0x3041c4(0x116)};Logger[_0x3041c4(0xdf)]()[_0x3041c4(0xea)](_0x252be1[_0x3041c4(0x119)]);var _0x2506de=this[_0x3041c4(0x124)];if(_0x252be1['duyvp'](_0x2506de,null))throw new Error(_0x252be1[_0x3041c4(0x11e)]);if(_0x5e6b31==null){if(_0x252be1[_0x3041c4(0x122)](_0x252be1['UdYlI'],_0x3041c4(0x117)))throw new Error(_0x3041c4(0x106));else{var _0x4036e1=_0x45e972[_0x3041c4(0xf3)](_0xc4f4a7,(++_0x2b46d1)['toString']());_0x8bed81[_0x3041c4(0xdf)]()[_0x3041c4(0xea)](_0x42e2a8[_0x3041c4(0xe5)]+_0x4036e1),this[_0x3041c4(0xfe)](_0x25921d,_0x4036e1),_0x105658='';}}var _0x1f9629=_0x252be1[_0x3041c4(0xd8)](_0x252be1[_0x3041c4(0xe6)](_0x252be1[_0x3041c4(0x11c)]+_0x5e6b31+'\x27',_0x2506de),_0x3041c4(0xf2));fs['writeFileSync'](_0x5e6b31,_0x55f7e3),this[_0x3041c4(0xd5)][_0x3041c4(0xff)](_0x5e6b31),this[_0x3041c4(0xf8)]['push'](_0x55f7e3),this[_0x3041c4(0xd9)][_0x3041c4(0xff)](_0x1f9629);},this[_0x4a2fe8(0x126)]=function(_0x43e6c9){var _0x2079ea=_0x4a2fe8;if(_0x252be1[_0x2079ea(0xe3)](_0x2079ea(0xda),'MwSyl')){if(_0x43e6c9==null||_0x252be1[_0x2079ea(0x10d)](_0x43e6c9[_0x2079ea(0x115)](),''))return'\x22\x22';if(_0x43e6c9['toString']()[_0x2079ea(0x107)]('\x22')>=0x0||_0x252be1[_0x2079ea(0xf1)](_0x43e6c9[_0x2079ea(0x115)]()[_0x2079ea(0x107)](','),0x0)||_0x43e6c9[_0x2079ea(0x115)]()[_0x2079ea(0x107)]('\x5c')>=0x0||_0x252be1['MYjkP'](_0x43e6c9['toString']()[_0x2079ea(0x107)]('\x0a'),0x0)||_0x252be1[_0x2079ea(0xe8)](_0x43e6c9[_0x2079ea(0x115)]()[_0x2079ea(0x107)]('\x09'),0x0))return _0x252be1[_0x2079ea(0xd1)](_0x252be1[_0x2079ea(0x10c)]('\x22',_0x43e6c9[_0x2079ea(0x115)]()[_0x2079ea(0xf5)]('\x22','\x22\x22')),'\x22');else return _0x43e6c9;}else _0x1404b2['existsSync'](_0xaeb319)&&_0x67a88c[_0x2079ea(0xdc)](_0x48a195);};}function _0x33a2(_0x3ef096,_0x31f50b){var _0x8f387b=_0x8f38();return _0x33a2=function(_0x33a231,_0x55ed75){_0x33a231=_0x33a231-0xcb;var _0x402311=_0x8f387b[_0x33a231];return _0x402311;},_0x33a2(_0x3ef096,_0x31f50b);}function GetCreateStageStmt(){return CREATE_STAGE_STMT;}function GetStageName(_0x476ae9){var _0x15c9b8=_0x28f782,_0x4f5d14={'FAFbP':function(_0x294c99,_0x3048f9){return _0x294c99+_0x3048f9;},'jDDDu':function(_0x11b979,_0x3f1584){return _0x11b979+_0x3f1584;}};return _0x4f5d14[_0x15c9b8(0xd7)](_0x4f5d14[_0x15c9b8(0xee)]('@',STAGE_NAME),'/')+_0x476ae9;}function CleanFile(_0xa36501){var _0xd8fdc8=_0x28f782;try{fs[_0xd8fdc8(0x110)](_0xa36501)&&fs[_0xd8fdc8(0xdc)](_0xa36501);}catch(_0x2923d6){Logger[_0xd8fdc8(0xdf)]()[_0xd8fdc8(0xea)](_0xd8fdc8(0x104),_0xa36501);}}module[_0x28f782(0xe7)]={'BindUploader':BindUploader,'GetCreateStageStmt':GetCreateStageStmt,'GetStageName':GetStageName,'CleanFile':CleanFile};