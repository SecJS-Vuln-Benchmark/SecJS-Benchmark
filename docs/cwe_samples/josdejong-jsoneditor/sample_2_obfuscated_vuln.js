const _0x582aef=_0x2aa6;(function(_0x120704,_0x1c3054){const _0x38ae3d=_0x2aa6,_0x457988=_0x120704();while(!![]){try{const _0x1626be=parseInt(_0x38ae3d(0x1f3))/0x1*(parseInt(_0x38ae3d(0x20d))/0x2)+-parseInt(_0x38ae3d(0x1ff))/0x3*(parseInt(_0x38ae3d(0x217))/0x4)+-parseInt(_0x38ae3d(0x239))/0x5+-parseInt(_0x38ae3d(0x1f2))/0x6+-parseInt(_0x38ae3d(0x229))/0x7+parseInt(_0x38ae3d(0x1fc))/0x8*(parseInt(_0x38ae3d(0x1f5))/0x9)+parseInt(_0x38ae3d(0x24c))/0xa;if(_0x1626be===_0x1c3054)break;else _0x457988['push'](_0x457988['shift']());}catch(_0x1a9537){_0x457988['push'](_0x457988['shift']());}}}(_0x1ede,0x96801));function _0x1ede(){const _0x5303e0=['\x20but\x20saw\x20','WQLfK','extended','Unexpected\x20end\x20of\x20file','mtimeSeconds','from','size','856653NEWlAx','toString','RxAOA','mtimeNanoseconds','delete','RjmMC','writeUInt32BE','ctimeSeconds','readUInt8','write','RDjMH','invalid\x20type\x20passed\x20to\x20GitIndex.from','_dirty','iterator','oid','clear','1213375XShYet','dev','frbOr','ovHlE','map','hAhXg','render','gid','has','MQFBY','writeUInt16BE','\x20\x20\x20\x20','aYTMn','readUInt32BE','eof','apyWd','amtpM','entriesMap','Unsupported\x20dircache\x20version:\x20','14938570EzNcQB','path','alloc','Expected\x201-8\x20null\x20characters\x20but\x20got\x20\x27','4905660MuRZqw','19FXZFxH','nnGBE','4781466HpbdDv','Inavlid\x20dircache\x20magic\x20file\x20number:\x20','tell','entries','length','KmeAX','Got\x20a\x20path\x20length\x20of:\x20','8COpjWX','min','flags','760533qMLZnk','fromBuffer','ctimeNanoseconds','lMizc','Invalid\x20checksum\x20in\x20GitIndex\x20buffer:\x20expected\x20','\x27\x20after\x20','toObject','aqJkJ','zAsEx','ceil','nameLength','NVJto','insert','isBuffer','2894vgfwmE','eEWzi','mode','ynZCu','set','ieBFp','utf8','indexOf','uid','ino','4UbBwXy','slice','eFOUC','hex','DIRC','_entries','YHJQh','concat','cYQOt','startsWith','assumeValid'];_0x1ede=function(){return _0x5303e0;};return _0x1ede();}import{InternalError}from'../errors/InternalError.js';function _0x2aa6(_0x11cf1f,_0x5ef0dd){const _0x1edea6=_0x1ede();return _0x2aa6=function(_0x2aa6fe,_0x117d5c){_0x2aa6fe=_0x2aa6fe-0x1ef;let _0xc6ee3b=_0x1edea6[_0x2aa6fe];return _0xc6ee3b;},_0x2aa6(_0x11cf1f,_0x5ef0dd);}import{BufferCursor}from'../utils/BufferCursor.js';import{comparePath}from'../utils/comparePath.js';import{normalizeStats}from'../utils/normalizeStats.js';import{shasum}from'../utils/shasum.js';function parseCacheEntryFlags(_0x2e6bab){const _0x3973e8=_0x2aa6,_0xf28647={'MvNcP':function(_0x538abb,_0x12d900){return _0x538abb&_0x12d900;},'eEWzi':function(_0x5d24c7,_0x948e49){return _0x5d24c7>>_0x948e49;}};return{'assumeValid':Boolean(_0x2e6bab&0x8000),'extended':Boolean(_0xf28647['MvNcP'](_0x2e6bab,0x4000)),'stage':_0xf28647[_0x3973e8(0x20e)](_0x2e6bab&0x3000,0xc),'nameLength':_0x2e6bab&0xfff};}function renderCacheEntryFlags(_0xfb0164){const _0x522f19=_0x2aa6,_0x4077d7={'RDjMH':function(_0x483126,_0x546788){return _0x483126+_0x546788;},'nnGBE':function(_0x16ff0b,_0x37d539){return _0x16ff0b&_0x37d539;}},_0x4067d2=_0xfb0164[_0x522f19(0x1fe)];return _0x4067d2[_0x522f19(0x224)]=![],_0x4067d2[_0x522f19(0x209)]=Math[_0x522f19(0x1fd)](Buffer[_0x522f19(0x227)](_0xfb0164['path'])[_0x522f19(0x1f9)],0xfff),_0x4077d7[_0x522f19(0x233)]((_0x4067d2[_0x522f19(0x221)]?0x8000:0x0)+(_0x4067d2[_0x522f19(0x224)]?0x4000:0x0)+(_0x4077d7[_0x522f19(0x1f4)](_0x4067d2['stage'],0x3)<<0xc),_0x4067d2[_0x522f19(0x209)]&0xfff);}export class GitIndex{constructor(_0x518d87){const _0x39295b=_0x2aa6;this[_0x39295b(0x235)]=![],this[_0x39295b(0x21c)]=_0x518d87||new Map();}static async[_0x582aef(0x227)](_0x2225a4){const _0xb1878c=_0x582aef,_0x2542d4={'KmeAX':_0xb1878c(0x21f)};if(Buffer[_0xb1878c(0x20c)](_0x2225a4)){if(_0x2542d4[_0xb1878c(0x1fa)]!==_0xb1878c(0x23e))return GitIndex[_0xb1878c(0x200)](_0x2225a4);else throw new _0x4a9c6f(_0xb1878c(0x24b)+_0x31e26a);}else{if(_0x2225a4===null)return new GitIndex(null);else throw new InternalError(_0xb1878c(0x234));}}static async[_0x582aef(0x200)](_0x225da4){const _0x1c7ab3=_0x582aef,_0x2562c4={'aqJkJ':function(_0x2ef34a,_0x34a735){return _0x2ef34a(_0x34a735);},'kKtpT':'hex','eFOUC':function(_0x31867b,_0xc97e63){return _0x31867b!==_0xc97e63;},'UDqrx':function(_0x3376aa,_0x336d24){return _0x3376aa!==_0x336d24;},'RjmMC':function(_0xeaeab8,_0x17b108){return _0xeaeab8!==_0x17b108;},'ynZCu':_0x1c7ab3(0x249),'frbOr':function(_0x30cc2f,_0x4c809e){return _0x30cc2f-_0x4c809e;},'lMizc':function(_0xcb5f96,_0x5b2dab){return _0xcb5f96+_0x5b2dab;},'ieBFp':function(_0xbaaa6f,_0x9f29a){return _0xbaaa6f-_0x9f29a;},'NVJto':_0x1c7ab3(0x242),'KkGlI':_0x1c7ab3(0x225)},_0x1504d2=await _0x2562c4[_0x1c7ab3(0x206)](shasum,_0x225da4[_0x1c7ab3(0x218)](0x0,-0x14)),_0x2b8468=_0x225da4[_0x1c7ab3(0x218)](-0x14)[_0x1c7ab3(0x22a)](_0x2562c4['kKtpT']);if(_0x2562c4[_0x1c7ab3(0x219)](_0x2b8468,_0x1504d2))throw new InternalError(_0x1c7ab3(0x203)+_0x2b8468+_0x1c7ab3(0x222)+_0x1504d2);const _0x4c16a7=new BufferCursor(_0x225da4),_0x4a14d4=new Map(),_0x20b10b=_0x4c16a7[_0x1c7ab3(0x22a)](_0x1c7ab3(0x213),0x4);if(_0x2562c4['UDqrx'](_0x20b10b,'DIRC'))throw new InternalError('Inavlid\x20dircache\x20magic\x20file\x20number:\x20'+_0x20b10b);const _0x6b181f=_0x4c16a7[_0x1c7ab3(0x246)]();if(_0x2562c4[_0x1c7ab3(0x22e)](_0x6b181f,0x2)){if(_0x1c7ab3(0x249)===_0x2562c4[_0x1c7ab3(0x210)])throw new InternalError(_0x1c7ab3(0x24b)+_0x6b181f);else throw new _0x332381(_0x1c7ab3(0x1f6)+_0x1d82bd);}const _0x208ed1=_0x4c16a7['readUInt32BE']();let _0x2f745b=0x0;while(!_0x4c16a7[_0x1c7ab3(0x247)]()&&_0x2f745b<_0x208ed1){const _0x5f13cf={};_0x5f13cf[_0x1c7ab3(0x230)]=_0x4c16a7[_0x1c7ab3(0x246)](),_0x5f13cf[_0x1c7ab3(0x201)]=_0x4c16a7[_0x1c7ab3(0x246)](),_0x5f13cf['mtimeSeconds']=_0x4c16a7[_0x1c7ab3(0x246)](),_0x5f13cf[_0x1c7ab3(0x22c)]=_0x4c16a7['readUInt32BE'](),_0x5f13cf['dev']=_0x4c16a7[_0x1c7ab3(0x246)](),_0x5f13cf[_0x1c7ab3(0x216)]=_0x4c16a7['readUInt32BE'](),_0x5f13cf['mode']=_0x4c16a7[_0x1c7ab3(0x246)](),_0x5f13cf[_0x1c7ab3(0x215)]=_0x4c16a7[_0x1c7ab3(0x246)](),_0x5f13cf[_0x1c7ab3(0x240)]=_0x4c16a7[_0x1c7ab3(0x246)](),_0x5f13cf[_0x1c7ab3(0x228)]=_0x4c16a7[_0x1c7ab3(0x246)](),_0x5f13cf[_0x1c7ab3(0x237)]=_0x4c16a7[_0x1c7ab3(0x218)](0x14)[_0x1c7ab3(0x22a)](_0x1c7ab3(0x21a));const _0x203e62=_0x4c16a7['readUInt16BE']();_0x5f13cf[_0x1c7ab3(0x1fe)]=parseCacheEntryFlags(_0x203e62);const _0x2d539e=_0x2562c4[_0x1c7ab3(0x23b)](_0x225da4[_0x1c7ab3(0x214)](0x0,_0x2562c4[_0x1c7ab3(0x202)](_0x4c16a7[_0x1c7ab3(0x1f7)](),0x1)),_0x4c16a7[_0x1c7ab3(0x1f7)]());if(_0x2d539e<0x1)throw new InternalError(_0x1c7ab3(0x1fb)+_0x2d539e);_0x5f13cf[_0x1c7ab3(0x1ef)]=_0x4c16a7[_0x1c7ab3(0x22a)]('utf8',_0x2d539e);let _0x3f6ca7=0x8-_0x2562c4[_0x1c7ab3(0x212)](_0x4c16a7[_0x1c7ab3(0x1f7)](),0xc)%0x8;if(_0x3f6ca7===0x0)_0x3f6ca7=0x8;while(_0x3f6ca7--){const _0x324775=_0x4c16a7[_0x1c7ab3(0x231)]();if(_0x324775!==0x0)throw new InternalError('Expected\x201-8\x20null\x20characters\x20but\x20got\x20\x27'+_0x324775+_0x1c7ab3(0x204)+_0x5f13cf['path']);else{if(_0x4c16a7[_0x1c7ab3(0x247)]()){if(_0x1c7ab3(0x223)===_0x2562c4[_0x1c7ab3(0x20a)])throw new _0x3875d6(_0x1c7ab3(0x1f1)+_0x174594+'\x27\x20after\x20'+_0x1a1e0c[_0x1c7ab3(0x1ef)]);else throw new InternalError(_0x2562c4['KkGlI']);}}}_0x4a14d4['set'](_0x5f13cf[_0x1c7ab3(0x1ef)],_0x5f13cf),_0x2f745b++;}return new GitIndex(_0x4a14d4);}get[_0x582aef(0x1f8)](){return[...this['_entries']['values']()]['sort'](comparePath);}get[_0x582aef(0x24a)](){return this['_entries'];}*[Symbol[_0x582aef(0x236)]](){const _0x13ec40=_0x582aef;for(const _0x574017 of this[_0x13ec40(0x1f8)]){yield _0x574017;}}[_0x582aef(0x20b)]({filepath:_0x20795c,stats:_0x783625,oid:_0x478333}){const _0x4e03bd=_0x582aef,_0xe703a6={'muVQe':function(_0x7e9c7,_0x3547f3){return _0x7e9c7(_0x3547f3);}};_0x783625=_0xe703a6['muVQe'](normalizeStats,_0x783625);const _0x2da21a=Buffer[_0x4e03bd(0x227)](_0x20795c),_0x3f33d1={'ctimeSeconds':_0x783625['ctimeSeconds'],'ctimeNanoseconds':_0x783625[_0x4e03bd(0x201)],'mtimeSeconds':_0x783625[_0x4e03bd(0x226)],'mtimeNanoseconds':_0x783625[_0x4e03bd(0x22c)],'dev':_0x783625[_0x4e03bd(0x23a)],'ino':_0x783625[_0x4e03bd(0x216)],'mode':_0x783625['mode']||0x81a4,'uid':_0x783625[_0x4e03bd(0x215)],'gid':_0x783625['gid'],'size':_0x783625[_0x4e03bd(0x228)],'path':_0x20795c,'oid':_0x478333,'flags':{'assumeValid':![],'extended':![],'stage':0x0,'nameLength':_0x2da21a[_0x4e03bd(0x1f9)]<0xfff?_0x2da21a[_0x4e03bd(0x1f9)]:0xfff}};this[_0x4e03bd(0x21c)][_0x4e03bd(0x211)](_0x3f33d1['path'],_0x3f33d1),this[_0x4e03bd(0x235)]=!![];}[_0x582aef(0x22d)]({filepath:_0xfe1ec}){const _0x2848c2=_0x582aef,_0x2d8baa={'ovHlE':function(_0x15169d,_0xd25196){return _0x15169d+_0xd25196;}};if(this['_entries'][_0x2848c2(0x241)](_0xfe1ec))this[_0x2848c2(0x21c)][_0x2848c2(0x22d)](_0xfe1ec);else for(const _0x3e4396 of this['_entries']['keys']()){_0x3e4396[_0x2848c2(0x220)](_0x2d8baa[_0x2848c2(0x23c)](_0xfe1ec,'/'))&&this[_0x2848c2(0x21c)][_0x2848c2(0x22d)](_0x3e4396);}this[_0x2848c2(0x235)]=!![];}[_0x582aef(0x238)](){const _0x24bb36=_0x582aef;this[_0x24bb36(0x21c)][_0x24bb36(0x238)](),this[_0x24bb36(0x235)]=!![];}[_0x582aef(0x23f)](){const _0x126dff=_0x582aef;return this[_0x126dff(0x1f8)][_0x126dff(0x23d)](_0xe0f6bd=>_0xe0f6bd[_0x126dff(0x20f)][_0x126dff(0x22a)](0x8)+'\x20'+_0xe0f6bd[_0x126dff(0x237)]+_0x126dff(0x244)+_0xe0f6bd[_0x126dff(0x1ef)])['join']('\x0a');}async[_0x582aef(0x205)](){const _0x1f714f=_0x582aef,_0x1c776b={'zAsEx':function(_0x20e864,_0x35890d){return _0x20e864*_0x35890d;},'apyWd':function(_0x5840ed,_0x20c84c){return _0x5840ed/_0x20c84c;},'RxAOA':function(_0x1a108f,_0x5d50b9){return _0x1a108f+_0x5d50b9;},'YHJQh':function(_0x1f99d7,_0x244b7e){return _0x1f99d7+_0x244b7e;},'aYTMn':'hex'},_0x450144=Buffer['alloc'](0xc),_0x37c5c7=new BufferCursor(_0x450144);_0x37c5c7[_0x1f714f(0x232)](_0x1f714f(0x21b),0x4,_0x1f714f(0x213)),_0x37c5c7[_0x1f714f(0x22f)](0x2),_0x37c5c7[_0x1f714f(0x22f)](this[_0x1f714f(0x1f8)][_0x1f714f(0x1f9)]);const _0x103f8b=Buffer[_0x1f714f(0x21e)](this['entries'][_0x1f714f(0x23d)](_0x14da89=>{const _0x574199=_0x1f714f,_0x2b1d17=Buffer['from'](_0x14da89[_0x574199(0x1ef)]),_0x33c0c7=_0x1c776b[_0x574199(0x207)](Math[_0x574199(0x208)](_0x1c776b[_0x574199(0x248)](_0x1c776b[_0x574199(0x22b)](_0x1c776b[_0x574199(0x21d)](0x3e,_0x2b1d17[_0x574199(0x1f9)]),0x1),0x8)),0x8),_0xf6479=Buffer[_0x574199(0x1f0)](_0x33c0c7),_0x5e0364=new BufferCursor(_0xf6479),_0x3c86ec=normalizeStats(_0x14da89);return _0x5e0364[_0x574199(0x22f)](_0x3c86ec[_0x574199(0x230)]),_0x5e0364[_0x574199(0x22f)](_0x3c86ec['ctimeNanoseconds']),_0x5e0364['writeUInt32BE'](_0x3c86ec[_0x574199(0x226)]),_0x5e0364[_0x574199(0x22f)](_0x3c86ec[_0x574199(0x22c)]),_0x5e0364['writeUInt32BE'](_0x3c86ec[_0x574199(0x23a)]),_0x5e0364['writeUInt32BE'](_0x3c86ec[_0x574199(0x216)]),_0x5e0364[_0x574199(0x22f)](_0x3c86ec[_0x574199(0x20f)]),_0x5e0364[_0x574199(0x22f)](_0x3c86ec['uid']),_0x5e0364['writeUInt32BE'](_0x3c86ec[_0x574199(0x240)]),_0x5e0364[_0x574199(0x22f)](_0x3c86ec[_0x574199(0x228)]),_0x5e0364['write'](_0x14da89[_0x574199(0x237)],0x14,_0x1c776b[_0x574199(0x245)]),_0x5e0364[_0x574199(0x243)](renderCacheEntryFlags(_0x14da89)),_0x5e0364[_0x574199(0x232)](_0x14da89['path'],_0x2b1d17[_0x574199(0x1f9)],'utf8'),_0xf6479;})),_0x5d5a7a=Buffer[_0x1f714f(0x21e)]([_0x450144,_0x103f8b]),_0xab6c88=await shasum(_0x5d5a7a);return Buffer['concat']([_0x5d5a7a,Buffer['from'](_0xab6c88,_0x1c776b[_0x1f714f(0x245)])]);}}