const _0x3953ec=_0x574a;function _0x3da9(){const _0x402765=['Invalid\x20file\x20upload.\x20','development','ubEvS','TWPcD','kSIQr','logo','mkdirSync','lisfF','file','KkrpF','aJUEY','status','HnZGO','Zdtwx','ilorH','CAhsK','assets/pfp','cMBhJ','../../storage/assets/pfp','env','1747518YusVKo','toString','randomFileName','1744393IaNqwp','path','EuYIa','sBibC','multer','latin1','utf8','single','gYjCZ','NODE_ENV','673735ywlcdW','YCetI','end','ExVvw','3763520hehOjG','aWNzD','extname','resolve','originalname','VGaNW','ABIpg','KBYDS','exports','json','Povwc','yASUn','from','uuid','1154506VdWaEF','NYkST','6438144oNWvEb','message','ieDih','../../collector/hotdir','15ySrjDl','../../../collector/hotdir','cjxVZ','diskStorage','STORAGE_DIR','51336dfSXsv','wpgHl','qvmZT'];_0x3da9=function(){return _0x402765;};return _0x3da9();}(function(_0x43f41d,_0x1de34c){const _0x3ab9f9=_0x574a,_0x4a69d0=_0x43f41d();while(!![]){try{const _0x12abf6=-parseInt(_0x3ab9f9(0x1d4))/0x1+parseInt(_0x3ab9f9(0x1e6))/0x2+parseInt(_0x3ab9f9(0x1f1))/0x3+parseInt(_0x3ab9f9(0x1d8))/0x4+-parseInt(_0x3ab9f9(0x1ec))/0x5*(parseInt(_0x3ab9f9(0x1c7))/0x6)+-parseInt(_0x3ab9f9(0x1ca))/0x7+parseInt(_0x3ab9f9(0x1e8))/0x8;if(_0x12abf6===_0x1de34c)break;else _0x4a69d0['push'](_0x4a69d0['shift']());}catch(_0x56519c){_0x4a69d0['push'](_0x4a69d0['shift']());}}}(_0x3da9,0x84a58));const multer=require(_0x3953ec(0x1ce)),path=require(_0x3953ec(0x1cb)),fs=require('fs'),{v4}=require(_0x3953ec(0x1e5)),{normalizePath}=require('.'),fileUploadStorage=multer[_0x3953ec(0x1ef)]({'destination':function(_0x500258,_0x37985a,_0x4edfbd){const _0x19987b=_0x3953ec,_0x37e0b7={'JqDhE':_0x19987b(0x1b4),'ieDih':function(_0x571787,_0x2f543c,_0xc6cf74){return _0x571787(_0x2f543c,_0xc6cf74);}},_0x3bfc19=process[_0x19987b(0x1c6)]['NODE_ENV']===_0x37e0b7['JqDhE']?path[_0x19987b(0x1db)](__dirname,_0x19987b(0x1ed)):path[_0x19987b(0x1db)](process[_0x19987b(0x1c6)]['STORAGE_DIR'],_0x19987b(0x1eb));_0x37e0b7[_0x19987b(0x1ea)](_0x4edfbd,null,_0x3bfc19);},'filename':function(_0x260cfc,_0x34c602,_0x4a43c0){const _0x204149=_0x3953ec,_0x3055cd={'qjuZS':function(_0x47b555,_0x54d64f){return _0x47b555(_0x54d64f);},'HnZGO':_0x204149(0x1cf),'nZmpb':_0x204149(0x1d0)};_0x34c602[_0x204149(0x1dc)]=_0x3055cd['qjuZS'](normalizePath,Buffer[_0x204149(0x1e4)](_0x34c602[_0x204149(0x1dc)],_0x3055cd[_0x204149(0x1bf)])[_0x204149(0x1c8)](_0x3055cd['nZmpb'])),_0x4a43c0(null,_0x34c602['originalname']);}}),fileAPIUploadStorage=multer['diskStorage']({'destination':function(_0x30a154,_0x383329,_0x4366fb){const _0x132e27=_0x3953ec,_0x70ee47={'VGaNW':function(_0x5a5fca,_0x500d67){return _0x5a5fca===_0x500d67;},'ubEvS':function(_0x2dab0a,_0x345d0d,_0x698fbf){return _0x2dab0a(_0x345d0d,_0x698fbf);}},_0x504384=_0x70ee47[_0x132e27(0x1dd)](process[_0x132e27(0x1c6)][_0x132e27(0x1d3)],_0x132e27(0x1b4))?path[_0x132e27(0x1db)](__dirname,_0x132e27(0x1ed)):path['resolve'](process['env'][_0x132e27(0x1f0)],_0x132e27(0x1eb));_0x70ee47[_0x132e27(0x1b5)](_0x4366fb,null,_0x504384);},'filename':function(_0x7974bc,_0x3c5d93,_0x86e9a3){const _0x1d6e75=_0x3953ec,_0x150c41={'NYkST':function(_0x518fff,_0x146279){return _0x518fff(_0x146279);},'aJUEY':function(_0x13d11a,_0x2da6e0,_0xe97877){return _0x13d11a(_0x2da6e0,_0xe97877);}};_0x3c5d93[_0x1d6e75(0x1dc)]=_0x150c41[_0x1d6e75(0x1e7)](normalizePath,_0x3c5d93['originalname']),_0x150c41[_0x1d6e75(0x1bd)](_0x86e9a3,null,_0x3c5d93[_0x1d6e75(0x1dc)]);}}),assetUploadStorage=multer['diskStorage']({'destination':function(_0x10f7d8,_0x2b3e7a,_0x292c59){const _0x383fba=_0x3953ec,_0x25f1f6={'KBYDS':function(_0x44df19,_0x36efe0){return _0x44df19===_0x36efe0;},'cMBhJ':'assets','jVWWG':function(_0x1dcfa7,_0x5f0f43,_0x297e29){return _0x1dcfa7(_0x5f0f43,_0x297e29);}},_0x503e8f=_0x25f1f6[_0x383fba(0x1df)](process[_0x383fba(0x1c6)][_0x383fba(0x1d3)],_0x383fba(0x1b4))?path['resolve'](__dirname,'../../storage/assets'):path[_0x383fba(0x1db)](process[_0x383fba(0x1c6)][_0x383fba(0x1f0)],_0x25f1f6[_0x383fba(0x1c4)]);return fs[_0x383fba(0x1b9)](_0x503e8f,{'recursive':!![]}),_0x25f1f6['jVWWG'](_0x292c59,null,_0x503e8f);},'filename':function(_0x5306c7,_0x435571,_0x8ad8ab){const _0x1be3e7=_0x3953ec,_0x573c2f={'ueoFq':function(_0x319c4c,_0x592d92){return _0x319c4c(_0x592d92);},'kSIQr':_0x1be3e7(0x1cf)};_0x435571['originalname']=_0x573c2f['ueoFq'](normalizePath,Buffer['from'](_0x435571[_0x1be3e7(0x1dc)],_0x573c2f[_0x1be3e7(0x1b7)])[_0x1be3e7(0x1c8)]('utf8')),_0x8ad8ab(null,_0x435571[_0x1be3e7(0x1dc)]);}}),pfpUploadStorage=multer[_0x3953ec(0x1ef)]({'destination':function(_0x31def1,_0x1b8f85,_0x266ac2){const _0x43e130=_0x3953ec,_0x365bfc={'Povwc':function(_0x738d09,_0x961ba1){return _0x738d09===_0x961ba1;},'Ekqdd':_0x43e130(0x1b4)},_0x1f49b8=_0x365bfc[_0x43e130(0x1e2)](process[_0x43e130(0x1c6)][_0x43e130(0x1d3)],_0x365bfc['Ekqdd'])?path['resolve'](__dirname,_0x43e130(0x1c5)):path['resolve'](process[_0x43e130(0x1c6)][_0x43e130(0x1f0)],_0x43e130(0x1c3));return fs[_0x43e130(0x1b9)](_0x1f49b8,{'recursive':!![]}),_0x266ac2(null,_0x1f49b8);},'filename':function(_0x26fabf,_0x5b4ec8,_0x453a21){const _0x47aa11=_0x3953ec,_0x47af04=''+v4()+path[_0x47aa11(0x1da)](normalizePath(_0x5b4ec8['originalname']));_0x26fabf[_0x47aa11(0x1c9)]=_0x47af04,_0x453a21(null,_0x47af04);}});function _0x574a(_0x57b00f,_0x4cc2d3){const _0x3da9c0=_0x3da9();return _0x574a=function(_0x574a77,_0x8781df){_0x574a77=_0x574a77-0x1b3;let _0x20590f=_0x3da9c0[_0x574a77];return _0x20590f;},_0x574a(_0x57b00f,_0x4cc2d3);}function handleFileUpload(_0x996344,_0x143edd,_0x4b14dd){const _0x69cbfd=_0x3953ec,_0x1620f7={'pVokk':function(_0x230144){return _0x230144();},'gYjCZ':function(_0x46864b,_0x4cc171){return _0x46864b(_0x4cc171);},'EuYIa':_0x69cbfd(0x1bb),'YCetI':function(_0x494eeb,_0x1f7b44,_0x146bbe,_0x2733dd){return _0x494eeb(_0x1f7b44,_0x146bbe,_0x2733dd);}},_0x302846=_0x1620f7[_0x69cbfd(0x1d2)](multer,{'storage':fileUploadStorage})['single'](_0x1620f7[_0x69cbfd(0x1cc)]);_0x1620f7[_0x69cbfd(0x1d5)](_0x302846,_0x996344,_0x143edd,function(_0x3fc368){const _0x5d0a81=_0x69cbfd;if(_0x3fc368){_0x143edd[_0x5d0a81(0x1be)](0x1f4)[_0x5d0a81(0x1e1)]({'success':![],'error':'Invalid\x20file\x20upload.\x20'+_0x3fc368[_0x5d0a81(0x1e9)]})[_0x5d0a81(0x1d6)]();return;}_0x1620f7['pVokk'](_0x4b14dd);});}function handleAPIFileUpload(_0xdc9430,_0x180a33,_0x10d35d){const _0x589c6b=_0x3953ec,_0x3562a7={'wpgHl':function(_0x2ff335){return _0x2ff335();},'cjxVZ':function(_0x4f8567,_0x525ec7){return _0x4f8567!==_0x525ec7;},'ABIpg':_0x589c6b(0x1d7)},_0x8943b5=multer({'storage':fileAPIUploadStorage})[_0x589c6b(0x1d1)](_0x589c6b(0x1bb));_0x8943b5(_0xdc9430,_0x180a33,function(_0x5dd1bb){const _0x15ef14=_0x589c6b,_0x2f6e49={'lisfF':function(_0x250d17){const _0x12ff15=_0x574a;return _0x3562a7[_0x12ff15(0x1f2)](_0x250d17);}};if(_0x5dd1bb){if(_0x3562a7[_0x15ef14(0x1ee)](_0x3562a7[_0x15ef14(0x1de)],_0x15ef14(0x1d7))){const _0x14dc35={'KkrpF':function(_0x185816){const _0x3a5d54=_0x15ef14;return _0x2f6e49[_0x3a5d54(0x1ba)](_0x185816);}},_0x1eb318=_0x20741d({'storage':_0x32229e})[_0x15ef14(0x1d1)]('file');_0x1eb318(_0x1ace65,_0x2447c3,function(_0x9fe1f1){const _0x553988=_0x15ef14;if(_0x9fe1f1){_0x802968[_0x553988(0x1be)](0x1f4)[_0x553988(0x1e1)]({'success':![],'error':_0x553988(0x1b3)+_0x9fe1f1['message']})[_0x553988(0x1d6)]();return;}_0x14dc35[_0x553988(0x1bc)](_0x56ee0c);});}else{_0x180a33[_0x15ef14(0x1be)](0x1f4)['json']({'success':![],'error':_0x15ef14(0x1b3)+_0x5dd1bb[_0x15ef14(0x1e9)]})['end']();return;}}_0x10d35d();});}function handleAssetUpload(_0x59e384,_0x32b822,_0x3e6611){const _0x2a8f38=_0x3953ec,_0x398fe7={'TWPcD':function(_0xc36f06,_0x353126){return _0xc36f06(_0x353126);},'qvmZT':_0x2a8f38(0x1b8),'lANUe':_0x2a8f38(0x1d9),'MXDBy':function(_0x26d931){return _0x26d931();},'sBibC':function(_0x2a9cfa,_0x46be14,_0x4c9bfa,_0x167bd1){return _0x2a9cfa(_0x46be14,_0x4c9bfa,_0x167bd1);}},_0x2e0eb2=_0x398fe7[_0x2a8f38(0x1b6)](multer,{'storage':assetUploadStorage})['single'](_0x398fe7[_0x2a8f38(0x1f3)]);_0x398fe7[_0x2a8f38(0x1cd)](_0x2e0eb2,_0x59e384,_0x32b822,function(_0x7ed746){const _0x1caa5f=_0x2a8f38,_0x58b906={'CAhsK':function(_0x56e71a){return _0x56e71a();}};if(_0x7ed746){if(_0x398fe7['lANUe']!==_0x1caa5f(0x1d9)){const _0x4778ed=_0x398fe7['TWPcD'](_0x5d80ee,{'storage':_0x24cfe3})[_0x1caa5f(0x1d1)](_0x398fe7['qvmZT']);_0x4778ed(_0x79f5c,_0x5c4024,function(_0x599c6e){const _0x5cbfe7=_0x1caa5f;if(_0x599c6e){_0x4e115c['status'](0x1f4)['json']({'success':![],'error':_0x5cbfe7(0x1b3)+_0x599c6e['message']})['end']();return;}_0x58b906[_0x5cbfe7(0x1c2)](_0x555c60);});}else{_0x32b822[_0x1caa5f(0x1be)](0x1f4)[_0x1caa5f(0x1e1)]({'success':![],'error':_0x1caa5f(0x1b3)+_0x7ed746[_0x1caa5f(0x1e9)]})['end']();return;}}_0x398fe7['MXDBy'](_0x3e6611);});}function handlePfpUpload(_0x821713,_0x633286,_0x563d78){const _0x5eddc2=_0x3953ec,_0x31d7ee={'ilorH':function(_0x1a9077){return _0x1a9077();},'Zdtwx':function(_0x37f109,_0x56efa0){return _0x37f109(_0x56efa0);},'yASUn':function(_0x438700,_0x5665ac,_0x3a076e,_0x330ed8){return _0x438700(_0x5665ac,_0x3a076e,_0x330ed8);}},_0x3eedc1=_0x31d7ee[_0x5eddc2(0x1c0)](multer,{'storage':pfpUploadStorage})[_0x5eddc2(0x1d1)]('file');_0x31d7ee[_0x5eddc2(0x1e3)](_0x3eedc1,_0x821713,_0x633286,function(_0x3592b2){const _0x3108b4=_0x5eddc2;if(_0x3592b2){_0x633286[_0x3108b4(0x1be)](0x1f4)[_0x3108b4(0x1e1)]({'success':![],'error':_0x3108b4(0x1b3)+_0x3592b2[_0x3108b4(0x1e9)]})[_0x3108b4(0x1d6)]();return;}_0x31d7ee[_0x3108b4(0x1c1)](_0x563d78);});}module[_0x3953ec(0x1e0)]={'handleFileUpload':handleFileUpload,'handleAPIFileUpload':handleAPIFileUpload,'handleAssetUpload':handleAssetUpload,'handlePfpUpload':handlePfpUpload};