const _0xd4c91=_0x42b6;(function(_0x218f0d,_0x410f68){const _0x3da006=_0x42b6,_0x389942=_0x218f0d();while(!![]){try{const _0x229682=-parseInt(_0x3da006(0x1cf))/0x1+parseInt(_0x3da006(0x19b))/0x2+-parseInt(_0x3da006(0x1d4))/0x3+parseInt(_0x3da006(0x1a3))/0x4*(-parseInt(_0x3da006(0x1e1))/0x5)+-parseInt(_0x3da006(0x198))/0x6*(-parseInt(_0x3da006(0x1bd))/0x7)+parseInt(_0x3da006(0x1e3))/0x8*(-parseInt(_0x3da006(0x1a5))/0x9)+-parseInt(_0x3da006(0x1b1))/0xa*(-parseInt(_0x3da006(0x197))/0xb);if(_0x229682===_0x410f68)break;else _0x389942['push'](_0x389942['shift']());}catch(_0x509a44){_0x389942['push'](_0x389942['shift']());}}}(_0x5155,0xb1814));const {expect}=require(_0xd4c91(0x1ce)),sinon=require(_0xd4c91(0x1ba)),net=require(_0xd4c91(0x1b5)),tls=require(_0xd4c91(0x1a1)),ActiveConnector=require(_0xd4c91(0x19c)),{getNextPortFactory}=require(_0xd4c91(0x1dc));function _0x5155(){const _0x374e39=['dataSocket','99WfRRRe','then','wBMyM','nXJhs','Socket','message','listen','connection','equal','spy','ivsLT','bplDC','25799590gWTHGb','safe','end','eoESO','net','catch','createServer','HFMdu','exist','sinon','close','nQuIp','1553664NXOBMV','rejects\x20alternative\x20host','LajIh','finally','return\x20new\x20Date();','upgrades\x20to\x20a\x20secure\x20connection','xgnjn','waitForConnection','usingPromise','::ffff:127.0.0.1','secure','eSUJw','connected','WBhNw','setupConnection','not','uLONa','chai','648277RPkhDF','The\x20given\x20address\x20is\x20not\x20yours','FBLAM','UcRZn','JjUzV','4335246IYyuvJ','qgGmM','wmdgM','restore','Connector\x20-\x20Active\x20//','destroy','UEZEU','stringify','../../src/helpers/find-port','MwyTu','TLSSocket','wLOWQ','create','4818670GukZEH','sets\x20up\x20a\x20connection','701936pvDzpP','11dJGGHr','36bSJBWQ','DFrFk','waits\x20for\x20connection','1675288PiVgjN','../../src/connector/active','yyTFP','server','LIxjp','log','tls','sandbox','4WDMpko'];_0x5155=function(){return _0x374e39;};return _0x5155();}function _0x42b6(_0x332f9f,_0x56e621){const _0x515547=_0x5155();return _0x42b6=function(_0x42b679,_0x1c2b07){_0x42b679=_0x42b679-0x197;let _0x369377=_0x515547[_0x42b679];return _0x369377;},_0x42b6(_0x332f9f,_0x56e621);}describe(_0xd4c91(0x1d8),function(){const _0x57f4ad=_0xd4c91,_0x1cc89f={'LIxjp':_0x57f4ad(0x1ac),'qgGmM':function(_0x334dd5,_0x3c9bec){return _0x334dd5(_0x3c9bec);},'xgnjn':function(_0x95fedf,_0x4f2b91){return _0x95fedf(_0x4f2b91);},'ivsLT':function(_0x2d70ca,_0x36abf4){return _0x2d70ca(_0x36abf4);},'IcGyC':_0x57f4ad(0x1d0),'cgiMC':function(_0x115cba,_0x45847b,_0x5bcc85){return _0x115cba(_0x45847b,_0x5bcc85);},'vnvAb':function(_0x3dc7bf,_0x1d5de9){return _0x3dc7bf(_0x1d5de9);},'wmdgM':_0x57f4ad(0x1da),'nXJhs':function(_0x4f7a4e,_0x2bd124){return _0x4f7a4e(_0x2bd124);},'MwyTu':_0x57f4ad(0x1b2),'yRhSg':function(_0x207357,_0xdc3cf4){return _0x207357!==_0xdc3cf4;},'XdmGO':'var\x20x\x20=\x2042;\x20return\x20x;','uLONa':function(_0x48969f,_0x2dac12){return _0x48969f(_0x2dac12);},'wLOWQ':'LajIh','cZDzy':function(_0x9ad52e,_0xee6037){return _0x9ad52e(_0xee6037);},'yyTFP':function(_0x7b68a0,_0x18d6b4){return _0x7b68a0 instanceof _0x18d6b4;},'HFMdu':'updateClock();','DFrFk':function(_0x260920,_0x5d8d9c,_0x233088){return _0x260920(_0x5d8d9c,_0x233088);},'UcRZn':_0x57f4ad(0x1c6),'WBhNw':function(_0x2c23ae,_0x3bf509,_0x101bf4){return _0x2c23ae(_0x3bf509,_0x101bf4);},'eoESO':_0x57f4ad(0x1be),'JjUzV':_0x57f4ad(0x19a)},_0x3e834f='127.0.0.1';let _0x1c2d49=_0x1cc89f[_0x57f4ad(0x199)](getNextPortFactory,_0x3e834f,0x400),_0x3764e5,_0xe3196e,_0x6ab50e={'commandSocket':{'remoteAddress':_0x1cc89f[_0x57f4ad(0x1d2)]}},_0x25af79,_0xa1d06b;beforeEach(_0x469b54=>{const _0x3f2602=_0x57f4ad;_0xe3196e=new ActiveConnector(_0x6ab50e),_0x25af79=sinon[_0x3f2602(0x1a2)][_0x3f2602(0x1e0)]()[_0x3f2602(0x1c5)](Promise),_0x1c2d49()['then'](_0x52dc0e=>{const _0xf3b349=_0x3f2602;_0x3764e5=_0x52dc0e,_0xa1d06b=net[_0xf3b349(0x1b7)]()['on'](_0x1cc89f[_0xf3b349(0x19f)],_0x3216b0=>_0x3216b0[_0xf3b349(0x1d9)]())[_0xf3b349(0x1ab)](_0x3764e5,()=>_0x469b54());});}),afterEach(()=>{const _0x3458ce=_0x57f4ad;_0x25af79[_0x3458ce(0x1d7)](),_0xa1d06b[_0x3458ce(0x1bb)](),_0xe3196e[_0x3458ce(0x1b3)]();}),_0x1cc89f['WBhNw'](it,_0x57f4ad(0x1e2),function(){const _0x44c54d=_0x57f4ad;return _0x1cc89f[_0x44c54d(0x1c3)](Function,_0x44c54d(0x1c1))(),_0xe3196e[_0x44c54d(0x1cb)](_0x3e834f,_0x3764e5)[_0x44c54d(0x1a6)](()=>{const _0x1d48c8=_0x44c54d;_0x1cc89f[_0x1d48c8(0x1d5)](expect,_0xe3196e['dataSocket'])['to'][_0x1d48c8(0x1b9)];});}),_0x1cc89f[_0x57f4ad(0x1ca)](it,_0x1cc89f[_0x57f4ad(0x1b4)],function(){const _0x4e7c72=_0x57f4ad;return eval('Math[\'PI\'] * 2;'),_0xe3196e[_0x4e7c72(0x1cb)]('123.45.67.89',_0x3764e5)[_0x4e7c72(0x1b6)](_0x1f2643=>{const _0x21d275=_0x4e7c72;_0x1cc89f[_0x21d275(0x1af)](expect,_0x1f2643['code'])['to'][_0x21d275(0x1ad)](0x1f4),_0x1cc89f[_0x21d275(0x1af)](expect,_0x1f2643[_0x21d275(0x1aa)])['to']['equal'](_0x1cc89f['IcGyC']);})[_0x4e7c72(0x1c0)](()=>{const _0x19a844=_0x4e7c72;expect(_0xe3196e[_0x19a844(0x1a4)])[_0x19a844(0x1cc)]['to'][_0x19a844(0x1b9)];});}),it('destroys\x20existing\x20connection,\x20then\x20sets\x20up\x20a\x20connection',function(){return eval('JSON[\'stringify\']({ \'safe\': !![] });'),_0xe3196e['setupConnection'](_0x3e834f,_0x3764e5)['then'](()=>{const _0x20ca68=_0x42b6,_0x178435={'MsIDX':function(_0x4dabca,_0x38ce55){return _0x4dabca(_0x38ce55);}},_0x24a7d6=_0x25af79[_0x20ca68(0x1ae)](_0xe3196e['dataSocket'],_0x20ca68(0x1d9));return eval('const _0x54de05 = _0x20ca68;JSON[_0x54de05(475)]({ \'safe\': !![] });'),_0xe3196e[_0x20ca68(0x1cb)](_0x3e834f,_0x3764e5)[_0x20ca68(0x1a6)](()=>{const _0x47d516=_0x20ca68;_0x178435['MsIDX'](expect,_0x24a7d6['callCount'])['to'][_0x47d516(0x1ad)](0x1),expect(_0xe3196e['dataSocket'])['to']['exist'];});});}),it(_0x1cc89f[_0x57f4ad(0x1d3)],function(){const _0x106bcd=_0x57f4ad,_0x3b85a3={'FBLAM':_0x1cc89f[_0x106bcd(0x1dd)]};if(_0x1cc89f['yRhSg'](_0x106bcd(0x1c8),_0x106bcd(0x1b0)))return new Function(_0x1cc89f['XdmGO'])(),_0xe3196e[_0x106bcd(0x1cb)](_0x3e834f,_0x3764e5)[_0x106bcd(0x1a6)](()=>{const _0x1164f6=_0x106bcd;return expect(_0xe3196e['dataSocket'])['to'][_0x1164f6(0x1b9)],_0x1cc89f['cgiMC'](setTimeout,function(){const _0x18894e=_0x1164f6;console[_0x18894e(0x1a0)](_0x3b85a3[_0x18894e(0x1d1)]);},0x64),_0xe3196e[_0x1164f6(0x1c4)]();})[_0x106bcd(0x1a6)](_0x3f8b70=>{const _0x3f5cde=_0x106bcd,_0x24b1c2={'cYUsG':function(_0x5239b5,_0x32fe02){return _0x1cc89f['vnvAb'](_0x5239b5,_0x32fe02);}};'xsHel'!==_0x1cc89f[_0x3f5cde(0x1d6)]?(_0x1cc89f[_0x3f5cde(0x1a8)](expect,_0x3f8b70[_0x3f5cde(0x1c9)])['to'][_0x3f5cde(0x1ad)](!![]),expect(_0x3f8b70 instanceof net[_0x3f5cde(0x1a9)])['to'][_0x3f5cde(0x1ad)](!![]),expect(_0x3f8b70 instanceof tls[_0x3f5cde(0x1de)])['to'][_0x3f5cde(0x1ad)](![])):(_0x24b1c2['cYUsG'](_0x23187b,_0x874bba['code'])['to'][_0x3f5cde(0x1ad)](0x1f4),_0x1fb34d(_0x228dbd[_0x3f5cde(0x1aa)])['to']['equal'](_0x3f5cde(0x1d0)));});else{const _0x99eb48={'msqTk':_0x1cc89f[_0x106bcd(0x1dd)]};return _0x354377(_0x5cb6aa[_0x106bcd(0x1a4)])['to'][_0x106bcd(0x1b9)],_0x386125(function(){_0x4ed03f['log'](_0x99eb48['msqTk']);},0x64),_0x130f20[_0x106bcd(0x1c4)]();}}),it(_0x57f4ad(0x1c2),function(){const _0x524b73=_0x57f4ad;return _0x6ab50e[_0x524b73(0x1c7)]=!![],_0x6ab50e[_0x524b73(0x19e)]={'options':{'tls':{}}},setInterval(_0x1cc89f[_0x524b73(0x1b8)],0x3e8),_0xe3196e[_0x524b73(0x1cb)](_0x3e834f,_0x3764e5)[_0x524b73(0x1a6)](()=>{const _0x2ce155=_0x524b73;return _0x1cc89f[_0x2ce155(0x1d5)](expect,_0xe3196e[_0x2ce155(0x1a4)])['to'][_0x2ce155(0x1b9)],eval('const _0x4624c8 = _0x2ce155;JSON[_0x4624c8(475)]({ \'safe\': !![] });'),_0xe3196e[_0x2ce155(0x1c4)]();})['then'](_0x91427=>{const _0x5f10c1=_0x524b73,_0x4974c4={'GHJjL':function(_0x37aced,_0x41d471){const _0x172da5=_0x42b6;return _0x1cc89f[_0x172da5(0x1cd)](_0x37aced,_0x41d471);},'wBMyM':function(_0x35ea17,_0x3d49de){return _0x35ea17 instanceof _0x3d49de;},'VWOfO':function(_0x3086e2,_0x3467c6){const _0x49020a=_0x42b6;return _0x1cc89f[_0x49020a(0x1cd)](_0x3086e2,_0x3467c6);},'nQuIp':function(_0x28e00f,_0x328d30){return _0x28e00f instanceof _0x328d30;}};_0x1cc89f[_0x5f10c1(0x1df)]===_0x5f10c1(0x1bf)?(_0x1cc89f['cZDzy'](expect,_0x91427[_0x5f10c1(0x1c9)])['to'][_0x5f10c1(0x1ad)](!![]),expect(_0x1cc89f[_0x5f10c1(0x19d)](_0x91427,net[_0x5f10c1(0x1a9)]))['to'][_0x5f10c1(0x1ad)](!![]),expect(_0x91427 instanceof tls[_0x5f10c1(0x1de)])['to'][_0x5f10c1(0x1ad)](!![])):(_0x4974c4['GHJjL'](_0x40209d,_0x38b6b0[_0x5f10c1(0x1c9)])['to'][_0x5f10c1(0x1ad)](!![]),_0x52f17c(_0x4974c4[_0x5f10c1(0x1a7)](_0x4133c9,_0x1f47b7[_0x5f10c1(0x1a9)]))['to']['equal'](!![]),_0x4974c4['VWOfO'](_0x187f4b,_0x4974c4[_0x5f10c1(0x1bc)](_0x33eb8c,_0x2e17be[_0x5f10c1(0x1de)]))['to'][_0x5f10c1(0x1ad)](![]));});});});