const _0x5877f3=_0x21c6;function _0x28c3(){const _0x545746=['AULfD','given_name','name','ZOnAN','any','16NtJune','toHaveBeenCalledWith','1153074UoJSCC','fromJS','test-nickname','566871GRwHtF','test-other','MzDUx','RLZCI','lock','test-pic','connection/database/index','8301636sYPNJO','dRwKr','pMlDy','369365asiAuJ','runs\x20the\x20signingUp\x20hook\x20on\x20signUp','core/web_api','ETQKy','mock','Test\x20Fake\x20link','wLPoB','toContain','oLhxm','otizg','test-name','zXure','cjuOb','test-connection','fhaxs','password','ijtTz','QmKAY','test-given-name','9525857RISWDt','bgImf','EnRGv','picture','7407yAfGzM','testpass','database/actions.js','<div\x20onclick=alert(0)><form\x20onsubmit=alert(1)><input\x20onfocus=alert(2)\x20name=parentNode>123</form></div>','signUp\x20splits\x20root\x20attributes\x20correctly','other_name','JdsfS','nickname','test-family-name','mQfLz','xTeQn','6eUtZVT','fSNyo','5700232DhemuC','BgDCU','length','sanitizes\x20additionalSignUp\x20fields\x20using\x20dompurify','78FbTpdb','123','ejdtn','30WiFdhZ','test@email.com','resetAllMocks','PcTLt','databaseConnectionName','email','toMatchObject','baCty','XCipm','core/actions','<p>abc<iframe//src=jAva&Tab;script:alert(3)>def</p>','shouldAutoLogin','root','calls','toBe'];_0x28c3=function(){return _0x545746;};return _0x28c3();}function _0x21c6(_0x31b786,_0x2de112){const _0x28c372=_0x28c3();return _0x21c6=function(_0x21c64d,_0x38d761){_0x21c64d=_0x21c64d-0x148;let _0x3e14ed=_0x28c372[_0x21c64d];return _0x3e14ed;},_0x21c6(_0x31b786,_0x2de112);}(function(_0x5414bd,_0xcbe6c4){const _0x10c3fb=_0x21c6,_0x4a13e6=_0x5414bd();while(!![]){try{const _0x9fbdc2=-parseInt(_0x10c3fb(0x17c))/0x1+-parseInt(_0x10c3fb(0x15d))/0x2*(-parseInt(_0x10c3fb(0x17f))/0x3)+-parseInt(_0x10c3fb(0x15f))/0x4+parseInt(_0x10c3fb(0x189))/0x5*(-parseInt(_0x10c3fb(0x163))/0x6)+parseInt(_0x10c3fb(0x186))/0x7+-parseInt(_0x10c3fb(0x17a))/0x8*(-parseInt(_0x10c3fb(0x152))/0x9)+parseInt(_0x10c3fb(0x166))/0xa*(parseInt(_0x10c3fb(0x14e))/0xb);if(_0x9fbdc2===_0xcbe6c4)break;else _0x4a13e6['push'](_0x4a13e6['shift']());}catch(_0x40e9c8){_0x4a13e6['push'](_0x4a13e6['shift']());}}}(_0x28c3,0xc6b79));import _0x5e6b15,{List,Map}from'immutable';import{signUp}from'../../../connection/database/actions';import{swap,setEntity}from'../../../store';const webApiMock=()=>require('core/web_api'),coreActionsMock=()=>require(_0x5877f3(0x16f));jest['mock']('core/actions',()=>({'validateAndSubmit':jest['fn']()})),jest[_0x5877f3(0x18d)](_0x5877f3(0x18b),()=>({'signUp':jest['fn']()})),describe(_0x5877f3(0x154),()=>{const _0x109c7f=_0x5877f3,_0x40544d={'mQfLz':'connection/database/index','dRwKr':function(_0x11f18d,_0x2d1e81){return _0x11f18d(_0x2d1e81);},'ETQKy':'test-nickname','AXFMt':_0x109c7f(0x180),'pMlDy':_0x109c7f(0x172),'ijtTz':'given_name','otizg':_0x109c7f(0x159),'XCipm':function(_0x30d600){return _0x30d600();},'QmKAY':function(_0x68784e,_0x6c25b){return _0x68784e(_0x6c25b);},'fhaxs':_0x109c7f(0x16b),'ceOFv':_0x109c7f(0x14a),'cjuOb':function(_0x5352b1){return _0x5352b1();},'baCty':_0x109c7f(0x167),'BgDCU':_0x109c7f(0x153),'ZOnAN':_0x109c7f(0x15a),'mKwAw':_0x109c7f(0x14d),'JdsfS':_0x109c7f(0x193),'bgImf':function(_0x393b21,_0x24f814,_0x9253be,_0x2b8b14,_0x185db8){return _0x393b21(_0x24f814,_0x9253be,_0x2b8b14,_0x185db8);},'PcTLt':function(_0x3fb40b,_0x55144e){return _0x3fb40b(_0x55144e);},'fSNyo':function(_0x36492e,_0x564a1b){return _0x36492e(_0x564a1b);},'AULfD':'<img\x20src=x\x20onerror=alert(1)//>','RLZCI':_0x109c7f(0x170),'MzDUx':_0x109c7f(0x155),'wLPoB':_0x109c7f(0x157),'EnRGv':_0x109c7f(0x183),'xTeQn':function(_0x10b19c,_0x268957){return _0x10b19c(_0x268957);},'zXure':function(_0x48463d){return _0x48463d();},'ejdtn':_0x109c7f(0x164),'oLhxm':_0x109c7f(0x156),'XLjan':function(_0x21f011,_0xbf023,_0x45b98b){return _0x21f011(_0xbf023,_0x45b98b);},'BUDdc':_0x109c7f(0x162)};_0x40544d['PcTLt'](beforeEach,()=>{const _0x2d38b3=_0x109c7f;jest[_0x2d38b3(0x168)]();}),it(_0x40544d[_0x109c7f(0x191)],()=>{const _0x5daddd=_0x109c7f,_0xe352c3=0x1,_0x21c0a7=jest['fn']((_0x3b7f35,_0x10701c,_0x5c5ebe,_0x1ecbcb)=>_0x1ecbcb());require(_0x40544d[_0x5daddd(0x15b)])[_0x5daddd(0x16a)]=()=>'test-connection',_0x40544d[_0x5daddd(0x187)](require,_0x5daddd(0x185))[_0x5daddd(0x171)]=()=>!![];const _0x5c34db=_0x5e6b15['fromJS']({'field':{'email':{'value':'test@email.com'},'password':{'value':_0x5daddd(0x153)},'family_name':{'value':_0x5daddd(0x15a)},'given_name':{'value':_0x5daddd(0x14d)},'name':{'value':_0x5daddd(0x193)},'nickname':{'value':_0x40544d[_0x5daddd(0x18c)]},'picture':{'value':_0x5daddd(0x184)},'other_prop':{'value':_0x40544d['AXFMt']}},'database':{'additionalSignUpFields':[{'name':'family_name','storage':_0x40544d[_0x5daddd(0x188)]},{'name':_0x40544d[_0x5daddd(0x14b)],'storage':_0x5daddd(0x172)},{'name':_0x5daddd(0x177),'storage':_0x40544d[_0x5daddd(0x188)]},{'name':_0x40544d[_0x5daddd(0x192)],'storage':_0x40544d['pMlDy']},{'name':_0x5daddd(0x151),'storage':_0x40544d[_0x5daddd(0x188)]},{'name':'other_prop'}]},'core':{'hookRunner':_0x21c0a7}});swap(setEntity,_0x5daddd(0x183),_0xe352c3,_0x5c34db),_0x40544d[_0x5daddd(0x187)](signUp,_0xe352c3);const {validateAndSubmit:{mock:_0x52919b}}=_0x40544d[_0x5daddd(0x16e)](coreActionsMock);expect(_0x52919b[_0x5daddd(0x173)][_0x5daddd(0x161)])[_0x5daddd(0x174)](0x1),_0x40544d[_0x5daddd(0x14c)](expect,_0x52919b[_0x5daddd(0x173)][0x0][0x0])['toBe'](_0xe352c3),expect(_0x52919b[_0x5daddd(0x173)][0x0][0x1])[_0x5daddd(0x190)](_0x40544d[_0x5daddd(0x149)]),_0x40544d[_0x5daddd(0x14c)](expect,_0x52919b[_0x5daddd(0x173)][0x0][0x1])[_0x5daddd(0x190)](_0x40544d['ceOFv']),_0x52919b['calls'][0x0][0x2](_0x5c34db);const {signUp:{mock:_0x2a56c7}}=_0x40544d[_0x5daddd(0x195)](webApiMock);_0x40544d[_0x5daddd(0x187)](expect,_0x2a56c7[_0x5daddd(0x173)]['length'])[_0x5daddd(0x174)](0x1),_0x40544d['QmKAY'](expect,_0x2a56c7[_0x5daddd(0x173)][0x0][0x0])['toBe'](_0xe352c3),_0x40544d['dRwKr'](expect,_0x2a56c7[_0x5daddd(0x173)][0x0][0x1])[_0x5daddd(0x16c)]({'connection':_0x5daddd(0x148),'email':_0x40544d[_0x5daddd(0x16d)],'password':_0x40544d['BgDCU'],'autoLogin':!![],'family_name':_0x40544d[_0x5daddd(0x178)],'given_name':_0x40544d['mKwAw'],'name':_0x40544d[_0x5daddd(0x158)],'nickname':_0x5daddd(0x17e),'picture':_0x5daddd(0x184),'user_metadata':{'other_prop':_0x40544d['AXFMt']}});}),_0x40544d['XLjan'](it,_0x109c7f(0x18a),()=>{const _0x4cb314=_0x109c7f,_0x141a1a=0x1;require(_0x4cb314(0x185))['databaseConnectionName']=()=>_0x4cb314(0x148),require(_0x40544d[_0x4cb314(0x15b)])[_0x4cb314(0x171)]=()=>!![];const _0x31a491=jest['fn']((_0xd71e0e,_0x3bb81b,_0x3b4d43,_0x48e4e4)=>_0x48e4e4()),_0x3b245a=_0x5e6b15[_0x4cb314(0x17d)]({'field':{'email':{'value':_0x4cb314(0x167)},'password':{'value':_0x40544d[_0x4cb314(0x160)]}},'core':{'hookRunner':_0x31a491}});_0x40544d[_0x4cb314(0x14f)](swap,setEntity,_0x4cb314(0x183),_0x141a1a,_0x3b245a),signUp(_0x141a1a);const {validateAndSubmit:{mock:_0x14795b}}=coreActionsMock();_0x14795b[_0x4cb314(0x173)][0x0][0x2](_0x3b245a);const {signUp:{mock:_0x3ae37f}}=webApiMock();expect(_0x31a491)['toHaveBeenCalledTimes'](0x1),_0x40544d[_0x4cb314(0x169)](expect,_0x31a491)[_0x4cb314(0x17b)]('signingUp',_0x3b245a,null,expect[_0x4cb314(0x179)](Function)),expect(_0x3ae37f[_0x4cb314(0x173)][_0x4cb314(0x161)])[_0x4cb314(0x174)](0x1),_0x40544d[_0x4cb314(0x15e)](expect,_0x3ae37f[_0x4cb314(0x173)][0x0][0x0])[_0x4cb314(0x174)](_0x141a1a);}),it(_0x40544d['BUDdc'],()=>{const _0x9d5bbd=_0x109c7f,_0x48e7da=0x1,_0x43e2e9=jest['fn']((_0x1091e1,_0x2d6025,_0x9f3c1c,_0x279a7f)=>_0x279a7f());require(_0x40544d[_0x9d5bbd(0x15b)])['databaseConnectionName']=()=>_0x9d5bbd(0x148),require(_0x9d5bbd(0x185))[_0x9d5bbd(0x171)]=()=>!![];const _0x4de4a4=_0x5e6b15[_0x9d5bbd(0x17d)]({'field':{'email':{'value':_0x9d5bbd(0x167)},'password':{'value':_0x40544d[_0x9d5bbd(0x160)]},'family_name':{'value':'Test\x20<a\x20href=\x22https://www.google.co.uk\x22>Fake\x20link</a>'},'given_name':{'value':_0x40544d[_0x9d5bbd(0x175)]},'name':{'value':_0x40544d[_0x9d5bbd(0x182)]},'other_name':{'value':_0x40544d[_0x9d5bbd(0x181)]}},'database':{'additionalSignUpFields':[{'name':'family_name','storage':_0x9d5bbd(0x172)},{'name':_0x9d5bbd(0x176),'storage':_0x40544d[_0x9d5bbd(0x188)]},{'name':_0x9d5bbd(0x177),'storage':_0x40544d[_0x9d5bbd(0x188)]},{'name':_0x40544d[_0x9d5bbd(0x18f)]}]},'core':{'hookRunner':_0x43e2e9}});swap(setEntity,_0x40544d[_0x9d5bbd(0x150)],_0x48e7da,_0x4de4a4),_0x40544d[_0x9d5bbd(0x15c)](signUp,_0x48e7da);const {validateAndSubmit:{mock:_0x395a7e}}=coreActionsMock();_0x395a7e[_0x9d5bbd(0x173)][0x0][0x2](_0x4de4a4);const {signUp:{mock:_0x507efe}}=_0x40544d[_0x9d5bbd(0x194)](webApiMock);expect(_0x507efe[_0x9d5bbd(0x173)][0x0][0x1])[_0x9d5bbd(0x16c)]({'connection':_0x9d5bbd(0x148),'email':_0x9d5bbd(0x167),'password':'testpass','autoLogin':!![],'family_name':_0x9d5bbd(0x18e),'given_name':'','name':'abc','user_metadata':{'other_name':_0x40544d[_0x9d5bbd(0x165)]}});});});