function _0x397e(){const _0x3230e9=['501222PewDRi','password_','ZYmSY','setUpdateCallback','label','close','1086604oifzVC','promise','dialog','XKCyO','length','keyCode','open','textContent','679830nrdpmW','value','65480KwXEHv','Kbhhf','invalid','cancelButton','click','addEventListener','keydown','692376lDRdIN','488034rGBiZN','siyuan','sJhJs','overlayManager','register','1340094FthTux','_isViewerEmbedded','submitButton','withResolvers','input','split','bind','feGXz','resolve'];_0x397e=function(){return _0x3230e9;};return _0x397e();}function _0x3549(_0x236012,_0x672b08){const _0x397e69=_0x397e();return _0x3549=function(_0x3549d8,_0x5e941f){_0x3549d8=_0x3549d8-0xf4;let _0x2cde49=_0x397e69[_0x3549d8];return _0x2cde49;},_0x3549(_0x236012,_0x672b08);}const _0x5760d8=_0x3549;(function(_0xbb694e,_0x17b857){const _0x1526a8=_0x3549,_0x27cabe=_0xbb694e();while(!![]){try{const _0x54b1a5=-parseInt(_0x1526a8(0x10b))/0x1+parseInt(_0x1526a8(0xf9))/0x2+parseInt(_0x1526a8(0x10a))/0x3+parseInt(_0x1526a8(0x103))/0x4+parseInt(_0x1526a8(0x101))/0x5+parseInt(_0x1526a8(0x119))/0x6+-parseInt(_0x1526a8(0x110))/0x7;if(_0x54b1a5===_0x17b857)break;else _0x27cabe['push'](_0x27cabe['shift']());}catch(_0x4466c4){_0x27cabe['push'](_0x27cabe['shift']());}}}(_0x397e,0x50afb));import{PasswordResponses}from'./pdfjs';class PasswordPrompt{#activeCapability=null;#updateCallback=null;#reason=null;constructor(_0xeba302,_0x69efc7,_0x1356c1=![]){const _0x3241f5=_0x3549,_0x55a5a7={'ZYmSY':function(_0x4cc688,_0x1293f4){return _0x4cc688===_0x1293f4;},'sJhJs':_0x3241f5(0x107),'dhlCv':_0x3241f5(0xf8)};this['dialog']=_0xeba302[_0x3241f5(0xfb)],this[_0x3241f5(0xf7)]=_0xeba302['label'],this['input']=_0xeba302[_0x3241f5(0x114)],this[_0x3241f5(0x112)]=_0xeba302[_0x3241f5(0x112)],this[_0x3241f5(0x106)]=_0xeba302[_0x3241f5(0x106)],this['overlayManager']=_0x69efc7,this[_0x3241f5(0x111)]=_0x1356c1,this[_0x3241f5(0x112)]['addEventListener'](_0x3241f5(0x107),this.#verify[_0x3241f5(0x116)](this)),this[_0x3241f5(0x106)][_0x3241f5(0x108)](_0x55a5a7[_0x3241f5(0x10d)],this[_0x3241f5(0xf8)]['bind'](this)),this[_0x3241f5(0x114)][_0x3241f5(0x108)](_0x3241f5(0x109),_0x17de48=>{const _0x1573fd=_0x3241f5;_0x55a5a7[_0x1573fd(0xf5)](_0x17de48[_0x1573fd(0xfe)],0xd)&&this.#verify();}),this[_0x3241f5(0x10e)][_0x3241f5(0x10f)](this[_0x3241f5(0xfb)],!![]),this[_0x3241f5(0xfb)][_0x3241f5(0x108)](_0x55a5a7['dhlCv'],this.#cancel[_0x3241f5(0x116)](this));}async[_0x5760d8(0xff)](){const _0x3910a4=_0x5760d8,_0x46ae0b={'Kbhhf':function(_0x537644,_0x216d1c){return _0x537644===_0x216d1c;},'feGXz':_0x3910a4(0xf7)};await this.#activeCapability?.[_0x3910a4(0xfa)],this.#activeCapability=Promise[_0x3910a4(0x113)]();try{await this[_0x3910a4(0x10e)]['open'](this[_0x3910a4(0xfb)]);}catch(_0x3b613){this.#activeCapability[_0x3910a4(0x118)]();throw _0x3b613;}const _0x219748=_0x46ae0b[_0x3910a4(0x104)](this.#reason,PasswordResponses['INCORRECT_PASSWORD']);(!this['_isViewerEmbedded']||_0x219748)&&this[_0x3910a4(0x114)]['focus'](),this[_0x3910a4(0xf7)][_0x3910a4(0x100)]=window[_0x3910a4(0x10c)]['languages'][_0x3910a4(0xf4)+(_0x219748?_0x3910a4(0x105):_0x46ae0b[_0x3910a4(0x117)])];}async[_0x5760d8(0xf8)](){const _0x1b221d=_0x5760d8;this[_0x1b221d(0x10e)]['active']===this['dialog']&&this[_0x1b221d(0x10e)]['close'](this[_0x1b221d(0xfb)]);}#verify(){const _0x2e187a=_0x5760d8,_0x497669=this[_0x2e187a(0x114)][_0x2e187a(0x102)];_0x497669?.[_0x2e187a(0xfd)]>0x0&&this.#invokeCallback(_0x497669);}#cancel(){const _0x1d5220=_0x5760d8;this.#invokeCallback(new Error('PasswordPrompt\x20cancelled.')),this.#activeCapability[_0x1d5220(0x118)]();}#invokeCallback(_0x61ef01){const _0xa1b033=_0x5760d8,_0x1e69b8={'XKCyO':'2|4|0|1|3'},_0x511919=_0x1e69b8[_0xa1b033(0xfc)][_0xa1b033(0x115)]('|');let _0x49236b=0x0;while(!![]){switch(_0x511919[_0x49236b++]){case'0':this[_0xa1b033(0x114)]['value']='';continue;case'1':this.#updateCallback(_0x61ef01);continue;case'2':if(!this.#updateCallback)return;continue;case'3':this.#updateCallback=null;continue;case'4':this[_0xa1b033(0xf8)]();continue;}break;}}async[_0x5760d8(0xf6)](_0x5102a3,_0x22baeb){const _0x4c2b6f=_0x5760d8;this.#activeCapability&&await this.#activeCapability[_0x4c2b6f(0xfa)],this.#updateCallback=_0x5102a3,this.#reason=_0x22baeb;}}export{PasswordPrompt};