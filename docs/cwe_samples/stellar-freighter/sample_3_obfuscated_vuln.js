const _0x1b12b4=_0x4273;function _0x4273(_0x4152dd,_0x532d9b){const _0x151a25=_0x151a();return _0x4273=function(_0x427364,_0x542610){_0x427364=_0x427364-0x1d7;let _0x4a3865=_0x151a25[_0x427364];return _0x4a3865;},_0x4273(_0x4152dd,_0x532d9b);}(function(_0x4c370d,_0x509bb2){const _0x45aa26=_0x4273,_0x36a760=_0x4c370d();while(!![]){try{const _0x855a44=-parseInt(_0x45aa26(0x20f))/0x1+-parseInt(_0x45aa26(0x1fb))/0x2+parseInt(_0x45aa26(0x20e))/0x3*(-parseInt(_0x45aa26(0x1da))/0x4)+parseInt(_0x45aa26(0x1e5))/0x5*(-parseInt(_0x45aa26(0x209))/0x6)+-parseInt(_0x45aa26(0x20d))/0x7*(parseInt(_0x45aa26(0x1dc))/0x8)+-parseInt(_0x45aa26(0x1e3))/0x9+parseInt(_0x45aa26(0x1f0))/0xa;if(_0x855a44===_0x509bb2)break;else _0x36a760['push'](_0x36a760['shift']());}catch(_0x195efe){_0x36a760['push'](_0x36a760['shift']());}}}(_0x151a,0xa3fb4));const WaitOnType={'EVENT':'event','TIMEOUT':_0x1b12b4(0x202)};async function waitOnEventOrTimeout({target:_0x16b3d4,name:_0x4b66cf,delay:delay=0x0}){const _0x356e5f=_0x1b12b4,_0x5948de={'YuKPr':function(_0x5c4f24,_0x35a362){return _0x5c4f24===_0x35a362;},'sJBAP':'yhUyO','pxjWM':function(_0x50bac0,_0x1d21de){return _0x50bac0(_0x1d21de);},'tHJFq':function(_0x3c316c,_0x9834d8){return _0x3c316c!==_0x9834d8;},'hiUuW':'object','SvMdm':_0x356e5f(0x216),'YBuxe':'YCHFE','uhKwG':function(_0x34e14c,_0x5d74d1){return _0x34e14c instanceof _0x5d74d1;}};if(_0x5948de['tHJFq'](typeof _0x16b3d4,_0x5948de[_0x356e5f(0x213)])||!(_0x4b66cf&&typeof _0x4b66cf===_0x5948de[_0x356e5f(0x215)])||!(Number[_0x356e5f(0x1e1)](delay)&&delay>=0x0)){if(_0x5948de[_0x356e5f(0x1ea)](_0x5948de[_0x356e5f(0x1db)],_0x5948de['YBuxe']))throw new Error(_0x356e5f(0x1d7));else throw new _0x55313c(_0x356e5f(0x208));}const {promise:_0x125d21,resolve:_0x2fb3ae}=Promise[_0x356e5f(0x1ed)](),_0x40f976=new AbortController();function _0x44e30f(_0x48196e){const _0x5e8741=_0x356e5f;if(_0x5948de[_0x5e8741(0x1ea)](_0x5e8741(0x20a),_0x5948de[_0x5e8741(0x1de)])){const _0x19b2eb=_0xbc440b[_0x3bc6a5];if(_0x19b2eb[_0x5e8741(0x1ec)]===_0x228c7e){_0x19b2eb['rmAbort']?.(),_0x82e2af['splice'](_0x5a9bfc,0x1);return;}}else _0x40f976[_0x5e8741(0x1f7)](),clearTimeout(_0x251ce9),_0x5948de[_0x5e8741(0x1e9)](_0x2fb3ae,_0x48196e);}const _0x415e8d=_0x5948de[_0x356e5f(0x1fd)](_0x16b3d4,EventBus)?_0x356e5f(0x218):'addEventListener';_0x16b3d4[_0x415e8d](_0x4b66cf,_0x44e30f[_0x356e5f(0x201)](null,WaitOnType['EVENT']),{'signal':_0x40f976[_0x356e5f(0x1e2)]});const _0x251ce9=setTimeout(_0x44e30f[_0x356e5f(0x201)](null,WaitOnType[_0x356e5f(0x1f9)]),delay);return _0x125d21;}class EventBus{#listeners=Object['create'](null);['on'](_0x299815,_0x1f79aa,_0x5ce917=null){const _0x355a71=_0x1b12b4;this[_0x355a71(0x218)](_0x299815,_0x1f79aa,{'external':!![],'once':_0x5ce917?.[_0x355a71(0x1f5)],'signal':_0x5ce917?.['signal']});}[_0x1b12b4(0x1dd)](_0x4db117,_0x3e114c,_0x25caf4=null){const _0x2a051e=_0x1b12b4;this[_0x2a051e(0x20c)](_0x4db117,_0x3e114c);}[_0x1b12b4(0x1f2)](_0x8f10ba,_0x6a9cfd){const _0x5d9a23=_0x1b12b4,_0x6861d2={'KHmwO':function(_0x13ad1a,_0x3c1cf2){return _0x13ad1a===_0x3c1cf2;},'bGnrm':function(_0x2ac226,_0x574230){return _0x2ac226!==_0x574230;},'nrqLz':_0x5d9a23(0x1ee),'riwMV':'tQkSg','GcsjP':function(_0x2d0c47,_0x595a8c){return _0x2d0c47(_0x595a8c);}},_0x17789b=this.#listeners[_0x8f10ba];if(!_0x17789b||_0x6861d2['KHmwO'](_0x17789b[_0x5d9a23(0x1f3)],0x0))return;let _0x1bd0c4;for(const {listener:_0x451b46,external:_0x4499b0,once:_0x2cf1b3}of _0x17789b[_0x5d9a23(0x1ef)](0x0)){_0x2cf1b3&&this[_0x5d9a23(0x20c)](_0x8f10ba,_0x451b46);if(_0x4499b0){if(_0x6861d2[_0x5d9a23(0x20b)](_0x6861d2[_0x5d9a23(0x1f8)],_0x6861d2[_0x5d9a23(0x1d8)])){(_0x1bd0c4||=[])[_0x5d9a23(0x1e6)](_0x451b46);continue;}else _0x38a42d(_0x1c05a3);}_0x6861d2[_0x5d9a23(0x1fe)](_0x451b46,_0x6a9cfd);}if(_0x1bd0c4){for(const _0x35c205 of _0x1bd0c4){_0x35c205(_0x6a9cfd);}_0x1bd0c4=null;}}['_on'](_0x2be38f,_0x135229,_0x197f85=null){const _0x58595a=_0x1b12b4,_0x4a08ee={'HXutS':function(_0x34f2db,_0x5cba0c){return _0x34f2db!==_0x5cba0c;},'QpNmZ':_0x58595a(0x1f7),'IzTdn':function(_0x46556e,_0x26b8f7){return _0x46556e===_0x26b8f7;}};let _0x3e146c=null;if(_0x197f85?.[_0x58595a(0x1e2)]instanceof AbortSignal){const {signal:_0x2e5479}=_0x197f85;if(_0x2e5479['aborted']){if(_0x4a08ee[_0x58595a(0x211)](_0x58595a(0x210),'wfcSC')){console[_0x58595a(0x200)](_0x58595a(0x207));return;}else return;}const _0x350f53=()=>this[_0x58595a(0x20c)](_0x2be38f,_0x135229);_0x3e146c=()=>_0x2e5479[_0x58595a(0x1fc)]('abort',_0x350f53),_0x2e5479[_0x58595a(0x217)](_0x4a08ee[_0x58595a(0x1df)],_0x350f53);}const _0x23658e=this.#listeners[_0x2be38f]||=[];_0x23658e[_0x58595a(0x1e6)]({'listener':_0x135229,'external':_0x197f85?.[_0x58595a(0x1f6)]===!![],'once':_0x4a08ee[_0x58595a(0x205)](_0x197f85?.[_0x58595a(0x1f5)],!![]),'rmAbort':_0x3e146c});}[_0x1b12b4(0x20c)](_0x594595,_0x1f579f,_0x3ea6d8=null){const _0x3eca49=_0x1b12b4,_0x46c12f={'gBiYF':function(_0x2b4706,_0xbf37f7){return _0x2b4706<_0xbf37f7;},'VXAwS':function(_0x4d3f00,_0x20b990){return _0x4d3f00!==_0x20b990;},'oAdPG':'sDvkJ'},_0x14d576=this.#listeners[_0x594595];if(!_0x14d576)return;for(let _0x13f84b=0x0,_0x13228b=_0x14d576[_0x3eca49(0x1f3)];_0x46c12f[_0x3eca49(0x1eb)](_0x13f84b,_0x13228b);_0x13f84b++){const _0x3370bd=_0x14d576[_0x13f84b];if(_0x3370bd[_0x3eca49(0x1ec)]===_0x1f579f){if(_0x46c12f[_0x3eca49(0x1e7)](_0x46c12f[_0x3eca49(0x1e8)],_0x3eca49(0x1ff)))return;else{_0x3370bd[_0x3eca49(0x1f4)]?.(),_0x14d576[_0x3eca49(0x1e0)](_0x13f84b,0x1);return;}}}}}class FirefoxEventBus extends EventBus{#externalServices;#globalEventNames;#isInAutomation;constructor(_0x4e5e24,_0xe5ed43,_0x3fad82){super(),this.#globalEventNames=_0x4e5e24,this.#externalServices=_0xe5ed43,this.#isInAutomation=_0x3fad82;}[_0x1b12b4(0x1f2)](_0x3d02f3,_0x43a8fa){const _0x6798fd=_0x1b12b4,_0x370f43={'rvAPC':_0x6798fd(0x1e4),'zCJSG':function(_0x164d13,_0x59a06a){return _0x164d13===_0x59a06a;}};if(typeof PDFJSDev!==_0x6798fd(0x204)&&!PDFJSDev[_0x6798fd(0x214)](_0x370f43[_0x6798fd(0x203)])){if(_0x6798fd(0x212)===_0x6798fd(0x1f1))this[_0x6798fd(0x20c)](_0x491f36,_0x593d19);else throw new Error(_0x6798fd(0x208));}super[_0x6798fd(0x1f2)](_0x3d02f3,_0x43a8fa);if(this.#isInAutomation){const _0x255138=Object[_0x6798fd(0x1d9)](null);if(_0x43a8fa)for(const _0x47a520 in _0x43a8fa){const _0x21f39d=_0x43a8fa[_0x47a520];if(_0x370f43[_0x6798fd(0x219)](_0x47a520,'source')){if(_0x370f43[_0x6798fd(0x219)](_0x21f39d,window)||_0x370f43[_0x6798fd(0x219)](_0x21f39d,document))return;continue;}_0x255138[_0x47a520]=_0x21f39d;}const _0x182d1f=new CustomEvent(_0x3d02f3,{'bubbles':!![],'cancelable':!![],'detail':_0x255138});document['dispatchEvent'](_0x182d1f);}this.#globalEventNames?.[_0x6798fd(0x1fa)](_0x3d02f3)&&this.#externalServices[_0x6798fd(0x206)]({'eventName':_0x3d02f3,'detail':_0x43a8fa});}}function _0x151a(){const _0x6fbdfd=['gfKmy','bGnrm','_off','126uAYVzV','51ugMaiy','882549YXvKcB','KXQol','HXutS','dFnZR','hiUuW','test','SvMdm','string','addEventListener','_on','zCJSG','waitOnEventOrTimeout\x20-\x20invalid\x20parameters.','riwMV','create','54376enkcCZ','YBuxe','202040FyKusO','off','sJBAP','QpNmZ','splice','isInteger','signal','3051909PpdATC','MOZCENTRAL','6327015yEjFMI','push','VXAwS','oAdPG','pxjWM','YuKPr','gBiYF','listener','withResolvers','QFxrQ','slice','41477840lwsAKn','JQvuA','dispatch','length','rmAbort','once','external','abort','nrqLz','TIMEOUT','has','606750HSCDMt','removeEventListener','uhKwG','GcsjP','sDvkJ','error','bind','timeout','rvAPC','undefined','IzTdn','dispatchGlobalEvent','Cannot\x20use\x20an\x20`aborted`\x20signal.','Not\x20implemented:\x20FirefoxEventBus.dispatch','6hyZvoX'];_0x151a=function(){return _0x6fbdfd;};return _0x151a();}export{EventBus,FirefoxEventBus,waitOnEventOrTimeout,WaitOnType};