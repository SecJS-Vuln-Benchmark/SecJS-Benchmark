(function(_0x3291ff,_0x1d475b){const _0x54feb4=_0x5a94,_0x4d8158=_0x3291ff();while(!![]){try{const _0x1c5af3=-parseInt(_0x54feb4(0x100))/0x1+-parseInt(_0x54feb4(0x112))/0x2*(parseInt(_0x54feb4(0x150))/0x3)+parseInt(_0x54feb4(0x107))/0x4+parseInt(_0x54feb4(0x15e))/0x5*(parseInt(_0x54feb4(0x126))/0x6)+-parseInt(_0x54feb4(0x155))/0x7*(-parseInt(_0x54feb4(0x164))/0x8)+parseInt(_0x54feb4(0x14d))/0x9*(parseInt(_0x54feb4(0x101))/0xa)+parseInt(_0x54feb4(0x123))/0xb*(-parseInt(_0x54feb4(0x121))/0xc);if(_0x1c5af3===_0x1d475b)break;else _0x4d8158['push'](_0x4d8158['shift']());}catch(_0x5bd05e){_0x4d8158['push'](_0x4d8158['shift']());}}}(_0x240c,0x80535));import _0x18bb7e from'../selection';import{isMuyaEditorElement}from'../selection/dom';import{HAS_TEXT_BLOCK_REG,CLASS_OR_ID}from'../config';function _0x240c(){const _0x390026=['getCursorRange','tagName','ssHeq','getSelectionStart','languageInput','type','WsmTl','jQmCm','children','qQpGP','contains','selectionFormats','dgjPO','mzVUa','clientY','WoZeT','KLmRJ','OkvIP','updateChildrenCheckBoxState','RUMqs','TrnNe','insertAfter','data-emoji','getPositionReference','vGHsR','offset','updateParentsCheckBoxState','dphOs','getBoundingClientRect','8632917yWfIMm','NAoNz','xzrWU','253158vtcENb','clickHandler','CODE','LUcAF','YVtHM','336XfGdha','dispatch','.ag-inline-rule','firstInDescendant','mKOKq','top','end','xEDHE','muya','99310kLRWpe','qKMTU','muya-front-menu','AG_INLINE_RULE','partialRender','textContent','159640nSZCgJ','btSOP','VgxZv','parentNode','qwyXy','findOutMostBlock','hQRDn','getLastBlock','lzqLl','createBlockP','.ag-front-icon','cursor','closest','format-click','checked','text','SPAN','codeBlockUpdate','bXStJ','EiKNh','strong','checkNeedRender','toggle','znfDv','functionType','setCheckBoxState','getBlock','977899FSHGUS','10pBnplR','BIgLv','vUpxk','qXbJN','classList','getParent','3868724AuIXTY','render','selectedBlock','muya-format-picker','FFZVb','AG_TASK_LIST_ITEM_CHECKBOX','pGSuS','inline_code','DhwoL','prototype','key','20jpZthl','THGKg','href','xcLGM','KPAMS','lUwwQ','zfKDA','span','del','codeContent','test','STRONG','options','parentElement','querySelector','3816984KBFdTO','JydTf','22UJbBPo','getAttribute','emoji','30kGGHdZ','fpVgE','start','height','tlRWE','link','UMDBV','ag-math-text','VmyRr','width'];_0x240c=function(){return _0x390026;};return _0x240c();}import{getParentCheckBox}from'../utils/getParentCheckBox';import{cumputeCheckboxStatus}from'../utils/cumputeCheckBoxStatus';function _0x5a94(_0xa3b286,_0x5ead9c){const _0x240c13=_0x240c();return _0x5a94=function(_0x5a9465,_0x467880){_0x5a9465=_0x5a9465-0xfe;let _0x5b949f=_0x240c13[_0x5a9465];return _0x5b949f;},_0x5a94(_0xa3b286,_0x5ead9c);}const clickCtrl=_0x4a12c3=>{const _0x494b85=_0x5a94,_0x454b35={'UMDBV':_0x494b85(0x125),'znfDv':_0x494b85(0x146),'fpVgE':_0x494b85(0x10a),'Lkslr':_0x494b85(0x171),'xEDHE':function(_0x3dd885,_0x281f32){return _0x3dd885(_0x281f32);},'qwyXy':function(_0x3053c3,_0x51372b){return _0x3053c3!==_0x51372b;},'vGHsR':function(_0x20ee7e,_0x19a78c){return _0x20ee7e(_0x19a78c);},'YVtHM':function(_0x2409c5,_0x3106de){return _0x2409c5>_0x3106de;},'xCNBj':function(_0x2b4de3,_0x1ab3dd){return _0x2b4de3+_0x1ab3dd;},'zfKDA':function(_0x3399dc,_0x307434){return _0x3399dc===_0x307434;},'HumSh':function(_0x283683,_0x56ea52){return _0x283683&&_0x56ea52;},'mzVUa':function(_0x5d25fa,_0x25d717){return _0x5d25fa&&_0x25d717;},'VmyRr':_0x494b85(0x16e),'KLmRJ':_0x494b85(0x115),'lhnkL':function(_0x3bbf8d,_0x4f46af){return _0x3bbf8d||_0x4f46af;},'KPAMS':_0x494b85(0x12b),'tlRWE':_0x494b85(0x114),'jQmCm':_0x494b85(0x15f),'zQoCk':_0x494b85(0x153),'WsmTl':_0x494b85(0x14e),'vUpxk':_0x494b85(0x174),'PMePJ':function(_0x4cbbaf,_0x4654e2){return _0x4cbbaf===_0x4654e2;},'dgjPO':_0x494b85(0x139),'qXkYu':'inline_math','RUMqs':_0x494b85(0x11d),'dphOs':_0x494b85(0x178),'puwnr':_0x494b85(0x11a),'pGSuS':function(_0xe38c37,_0x32fd1c){return _0xe38c37!==_0x32fd1c;},'THGKg':function(_0x36697d,_0xe0dbe3){return _0x36697d!==_0xe0dbe3;},'aHWXG':_0x494b85(0x11b),'Ercum':_0x494b85(0x134),'btSOP':function(_0x214a66,_0xe77296){return _0x214a66!==_0xe77296;},'DhwoL':_0x494b85(0x10b),'JydTf':function(_0x1b5d3f,_0x48fb05){return _0x1b5d3f(_0x48fb05);},'mKOKq':_0x494b85(0x104),'CoFnC':function(_0x47c29c,_0x24ab1c){return _0x47c29c<_0x24ab1c;},'bXStJ':function(_0x1773eb,_0x2ab724){return _0x1773eb===_0x2ab724;},'VgxZv':_0x494b85(0x132),'hQRDn':'vwMiD'};_0x4a12c3[_0x494b85(0x110)][_0x494b85(0x151)]=function(_0x4ae518){const _0x2d0518=_0x494b85,_0x4860fb={'lzqLl':function(_0xdd9a41,_0x18b5bc){const _0x2a911b=_0x5a94;return _0x454b35[_0x2a911b(0x168)](_0xdd9a41,_0x18b5bc);},'xzrWU':_0x2d0518(0x177)},{eventCenter:_0x5371ae}=this[_0x2d0518(0x15d)],{target:_0x495cdd}=_0x4ae518;if(_0x454b35[_0x2d0518(0x148)](isMuyaEditorElement,_0x495cdd)){const _0x285178=this[_0x2d0518(0x16b)](),_0x275af5=this[_0x2d0518(0x169)](_0x285178),_0x26bbba=document[_0x2d0518(0x120)]('#'+_0x275af5[_0x2d0518(0x111)]),_0x1b4fb8=_0x26bbba[_0x2d0518(0x14c)]();if(_0x454b35[_0x2d0518(0x154)](_0x4ae518[_0x2d0518(0x13e)],_0x454b35['xCNBj'](_0x1b4fb8[_0x2d0518(0x15a)],_0x1b4fb8[_0x2d0518(0x129)]))){let _0x405e08=![];if(_0x454b35[_0x2d0518(0x118)](_0x285178['type'],_0x2d0518(0x119))){if(_0x2d0518(0x102)===_0x2d0518(0x102))/atxLine|paragraphContent/[_0x2d0518(0x11c)](_0x285178[_0x2d0518(0x17c)])&&/\S/[_0x2d0518(0x11c)](_0x285178[_0x2d0518(0x173)])&&(_0x405e08=!![]),!/atxLine|paragraphContent/[_0x2d0518(0x11c)](_0x285178[_0x2d0518(0x17c)])&&(_0x405e08=!![]);else return this['cursor']={'start':_0x322bed,'end':_0x2ade96},this['partialRender']();}else _0x405e08=!![];if(_0x405e08){_0x4ae518['preventDefault']();const _0x235435=this[_0x2d0518(0x16d)]();this[_0x2d0518(0x145)](_0x235435,_0x275af5);const _0x179e43=_0x235435[_0x2d0518(0x138)][0x0][_0x2d0518(0x111)],_0xfc41a6=0x0;return this['cursor']={'start':{'key':_0x179e43,'offset':_0xfc41a6},'end':{'key':_0x179e43,'offset':_0xfc41a6}},this[_0x2d0518(0x108)]();}}}const {start:_0x37d452,end:_0x2c611e}=this[_0x2d0518(0x16f)];if(_0x454b35['HumSh'](_0x37d452,_0x2c611e)){let _0x10a862=![];const _0x36bfc6=this[_0x2d0518(0xff)](_0x37d452[_0x2d0518(0x111)]),_0x377e7a=this['getBlock'](_0x2c611e[_0x2d0518(0x111)]);if(_0x454b35[_0x2d0518(0x13d)](_0x36bfc6,_0x377e7a)){const _0x178444=this[_0x2d0518(0x169)](_0x36bfc6),_0x4d875c=this[_0x2d0518(0x169)](_0x377e7a);_0x10a862=_0x178444===_0x4d875c;}if(_0x495cdd[_0x2d0518(0x170)](_0x454b35[_0x2d0518(0x12e)])&&_0x10a862){if(_0x454b35['qwyXy'](_0x454b35['KLmRJ'],_0x454b35[_0x2d0518(0x140)]))_0x1cdebf=!![];else{const _0x4ad102=this[_0x2d0518(0x169)](_0x36bfc6),_0x55d43b=_0x495cdd['closest'](_0x2d0518(0x16e)),_0x12b7e3=_0x55d43b[_0x2d0518(0x14c)](),_0x2d2064={'getBoundingClientRect'(){return _0x12b7e3;},'clientWidth':_0x12b7e3[_0x2d0518(0x12f)],'clientHeight':_0x12b7e3[_0x2d0518(0x129)],'id':_0x4ad102[_0x2d0518(0x111)]};return this[_0x2d0518(0x109)]=_0x4ad102,_0x5371ae['dispatch'](_0x2d0518(0x160),{'reference':_0x2d2064,'outmostBlock':_0x4ad102,'startBlock':_0x36bfc6,'endBlock':_0x377e7a}),this['partialRender']();}}}const {start:_0x2f3d9c,end:_0x29393f}=_0x18bb7e[_0x2d0518(0x130)]();if(_0x454b35['lhnkL'](!_0x2f3d9c,!_0x29393f))return;const _0x2162de=_0x18bb7e[_0x2d0518(0x133)](),_0x524344=_0x2162de?_0x2162de[_0x2d0518(0x170)](_0x2d0518(0x157)):null;let _0x1a3d37=_0x524344;while(_0x1a3d37!==null&&_0x1a3d37[_0x2d0518(0x105)][_0x2d0518(0x13a)](CLASS_OR_ID[_0x2d0518(0x161)])){if(_0x454b35[_0x2d0518(0x118)](_0x1a3d37['tagName'],'A')){const _0x3dbc6a=_0x454b35[_0x2d0518(0x116)],_0x4073d3={'text':_0x524344[_0x2d0518(0x163)],'href':_0x1a3d37[_0x2d0518(0x124)](_0x454b35[_0x2d0518(0x12a)])||''};_0x5371ae[_0x2d0518(0x156)]('format-click',{'event':_0x4ae518,'formatType':_0x3dbc6a,'data':_0x4073d3});break;}else _0x454b35['qwyXy'](_0x454b35[_0x2d0518(0x137)],_0x454b35['zQoCk'])?_0x1a3d37=_0x1a3d37[_0x2d0518(0x167)]:(_0x50ce37=_0x454b35[_0x2d0518(0x12c)],_0x3b7f80=_0x18c0e1[_0x2d0518(0x124)](_0x454b35[_0x2d0518(0x17b)]));}if(_0x524344){if(_0x2d0518(0x14e)===_0x454b35[_0x2d0518(0x136)]){let _0x2aa2e2=null,_0x2cb8b5=null;switch(_0x524344[_0x2d0518(0x131)]){case _0x454b35[_0x2d0518(0x103)]:{if(_0x454b35['PMePJ'](_0x454b35[_0x2d0518(0x13c)],_0x454b35[_0x2d0518(0x13c)])){if(_0x524344['hasAttribute'](_0x2d0518(0x146)))_0x2aa2e2='emoji',_0x2cb8b5=_0x524344[_0x2d0518(0x124)](_0x2d0518(0x146));else _0x524344['classList'][_0x2d0518(0x13a)](_0x2d0518(0x12d))&&(_0x2aa2e2=_0x454b35['qXkYu'],_0x2cb8b5=_0x524344[_0x2d0518(0x163)]);break;}else _0x6472a8=_0xd2f5cd[_0x2d0518(0x167)];}case _0x454b35[_0x2d0518(0x143)]:{_0x2aa2e2=_0x454b35[_0x2d0518(0x14b)],_0x2cb8b5=_0x524344[_0x2d0518(0x163)];break;}case'EM':{if(_0x454b35['zfKDA']('OkvIP',_0x2d0518(0x141))){_0x2aa2e2='em',_0x2cb8b5=_0x524344[_0x2d0518(0x163)];break;}else{const _0x3a1f0e=this[_0x2d0518(0x147)](),{formats:_0x4f34d1}=this[_0x2d0518(0x13b)]();_0x232354[_0x2d0518(0x156)](_0x454b35[_0x2d0518(0x127)],{'reference':_0x3a1f0e,'formats':_0x4f34d1});}}case'DEL':{if(_0x2d0518(0x144)===_0x2d0518(0x144)){_0x2aa2e2=_0x454b35['puwnr'],_0x2cb8b5=_0x524344[_0x2d0518(0x163)];break;}else _0x5128f9=!![];}case _0x2d0518(0x152):{_0x2aa2e2=_0x2d0518(0x10e),_0x2cb8b5=_0x524344['textContent'];break;}}_0x2aa2e2&&_0x5371ae[_0x2d0518(0x156)](_0x2d0518(0x171),{'event':_0x4ae518,'formatType':_0x2aa2e2,'data':_0x2cb8b5});}else _0x4895df=!![];}const _0x5a3814=this[_0x2d0518(0xff)](_0x2f3d9c[_0x2d0518(0x111)]);let _0x2c694c=![];if(_0x2f3d9c['key']===_0x29393f[_0x2d0518(0x111)]&&_0x454b35['pGSuS'](_0x2f3d9c[_0x2d0518(0x149)],_0x29393f[_0x2d0518(0x149)])&&HAS_TEXT_BLOCK_REG['test'](_0x5a3814[_0x2d0518(0x135)])&&_0x454b35[_0x2d0518(0x113)](_0x5a3814[_0x2d0518(0x17c)],_0x454b35['aHWXG'])&&_0x454b35[_0x2d0518(0x168)](_0x5a3814[_0x2d0518(0x17c)],_0x454b35['Ercum'])){const _0x3a7d8d=this[_0x2d0518(0x147)](),{formats:_0x1f37f8}=this['selectionFormats']();_0x5371ae[_0x2d0518(0x156)](_0x454b35[_0x2d0518(0x127)],{'reference':_0x3a7d8d,'formats':_0x1f37f8});}if(_0x5a3814&&_0x454b35[_0x2d0518(0x165)](_0x2f3d9c['key'],this[_0x2d0518(0x16f)][_0x2d0518(0x128)]['key'])){if(_0x2d0518(0x13f)!=='WoZeT')_0x1ff03d['dispatch'](_0x454b35['Lkslr'],{'event':_0x526473,'formatType':_0x22225d,'data':_0xc9be7d});else{const _0x14baef=this['getBlock'](this[_0x2d0518(0x16f)][_0x2d0518(0x128)][_0x2d0518(0x111)]);_0x14baef&&(_0x2d0518(0x117)!==_0x454b35[_0x2d0518(0x10f)]?_0x2c694c=_0x2c694c||this[_0x2d0518(0x175)](_0x14baef):_0x454b35[_0x2d0518(0x15c)](_0xa0353f,()=>{const _0x88efa=_0x2d0518,_0x5036f9=_0x44fdc9[_0x88efa(0x130)]();if(!_0x5036f9[_0x88efa(0x128)]||!_0x5036f9[_0x88efa(0x15b)])return;return this[_0x88efa(0x16f)]=_0x5036f9,this[_0x88efa(0x162)]();}));}}(_0x2f3d9c['key']!==this[_0x2d0518(0x16f)][_0x2d0518(0x128)][_0x2d0518(0x111)]||_0x29393f[_0x2d0518(0x111)]!==this[_0x2d0518(0x16f)][_0x2d0518(0x15b)]['key'])&&(_0x2c694c=!![]);const _0x12a423=this[_0x2d0518(0x179)](this['cursor'])||this['checkNeedRender']({'start':_0x2f3d9c,'end':_0x29393f});if(_0x2c694c)return this[_0x2d0518(0x16f)]={'start':_0x2f3d9c,'end':_0x29393f},this[_0x2d0518(0x162)]();else{if(_0x12a423)_0x454b35[_0x2d0518(0x122)](requestAnimationFrame,()=>{const _0x44e3f7=_0x2d0518,_0x51359b=_0x18bb7e[_0x44e3f7(0x130)]();if(!_0x51359b[_0x44e3f7(0x128)]||!_0x51359b[_0x44e3f7(0x15b)]){if(_0x4860fb[_0x44e3f7(0x16c)](_0x4860fb[_0x44e3f7(0x14f)],_0x44e3f7(0x177)))this[_0x44e3f7(0x16f)]={'start':_0x2eadde,'end':_0x43e85f};else return;}return this[_0x44e3f7(0x16f)]=_0x51359b,this['partialRender']();});else{if(_0x454b35[_0x2d0518(0x168)]('dJmsU','dJmsU')){const {checked:_0x5e5b20}=_0x4fe436;this['setCheckBoxState'](_0x5c6b8b,_0x5e5b20);const {autoCheck:_0x48c101}=this[_0x2d0518(0x15d)][_0x2d0518(0x11e)];_0x48c101&&(this[_0x2d0518(0x142)](_0x39592f,_0x5e5b20),this[_0x2d0518(0x14a)](_0x3113b8));const _0x2cc308=this[_0x2d0518(0xff)](_0x4704fd['id']),_0x2922af=this['getParent'](_0x2cc308),_0x17164f=this[_0x2d0518(0x158)](_0x2922af),{key:_0xfb6e63}=_0x17164f,_0xdbed0e=0x0;return this[_0x2d0518(0x16f)]={'start':{'key':_0xfb6e63,'offset':_0xdbed0e},'end':{'key':_0xfb6e63,'offset':_0xdbed0e}},this[_0x2d0518(0x162)]();}else this[_0x2d0518(0x16f)]={'start':_0x2f3d9c,'end':_0x29393f};}}},_0x4a12c3[_0x494b85(0x110)]['setCheckBoxState']=function(_0x5a65f3,_0x4a1fcd){const _0x2101b8=_0x494b85;_0x5a65f3[_0x2101b8(0x172)]=_0x4a1fcd;const _0x47cb50=this[_0x2101b8(0xff)](_0x5a65f3['id']);_0x47cb50[_0x2101b8(0x172)]=_0x4a1fcd,_0x5a65f3[_0x2101b8(0x105)][_0x2101b8(0x17a)](CLASS_OR_ID['AG_CHECKBOX_CHECKED']);},_0x4a12c3[_0x494b85(0x110)][_0x494b85(0x14a)]=function(_0x58a70b){const _0x38007e=_0x494b85;if(_0x454b35['mKOKq']!==_0x454b35[_0x38007e(0x159)]){const _0x1a5334=this['getBlock'](this[_0x38007e(0x16f)][_0x38007e(0x128)][_0x38007e(0x111)]);_0x1a5334&&(_0x2d0c5c=_0xd394a7||this[_0x38007e(0x175)](_0x1a5334));}else{let _0x4ba057=_0x454b35[_0x38007e(0x15c)](getParentCheckBox,_0x58a70b);while(_0x454b35[_0x38007e(0x10d)](_0x4ba057,null)){const _0x5e31aa=_0x454b35[_0x38007e(0x122)](cumputeCheckboxStatus,_0x4ba057);if(_0x4ba057['checked']!==_0x5e31aa)this[_0x38007e(0xfe)](_0x4ba057,_0x5e31aa),_0x4ba057=getParentCheckBox(_0x4ba057);else break;}}},_0x4a12c3[_0x494b85(0x110)]['updateChildrenCheckBoxState']=function(_0x28ed33,_0x52606d){const _0x42e1ea=_0x494b85,_0x4b054c=_0x28ed33[_0x42e1ea(0x11f)]['querySelectorAll']('input\x20~\x20ul\x20.'+CLASS_OR_ID[_0x42e1ea(0x10c)]),_0x2addcd=_0x4b054c['length'];for(let _0x5cab7a=0x0;_0x454b35['CoFnC'](_0x5cab7a,_0x2addcd);_0x5cab7a++){const _0x26bcaa=_0x4b054c[_0x5cab7a];if(_0x26bcaa['checked']!==_0x52606d){if(_0x454b35[_0x42e1ea(0x176)](_0x454b35[_0x42e1ea(0x166)],_0x454b35[_0x42e1ea(0x16a)]))return _0x50626a;else this[_0x42e1ea(0xfe)](_0x26bcaa,_0x52606d);}}},_0x4a12c3['prototype']['listItemCheckBoxClick']=function(_0x1004b4){const _0x2d0a24=_0x494b85,{checked:_0x477a87}=_0x1004b4;this[_0x2d0a24(0xfe)](_0x1004b4,_0x477a87);const {autoCheck:_0x46d4c0}=this[_0x2d0a24(0x15d)][_0x2d0a24(0x11e)];_0x46d4c0&&(this['updateChildrenCheckBoxState'](_0x1004b4,_0x477a87),this[_0x2d0a24(0x14a)](_0x1004b4));const _0x57c50d=this[_0x2d0a24(0xff)](_0x1004b4['id']),_0x363426=this[_0x2d0a24(0x106)](_0x57c50d),_0xd375c8=this[_0x2d0a24(0x158)](_0x363426),{key:_0x1ba788}=_0xd375c8,_0x2a82ff=0x0;return this[_0x2d0a24(0x16f)]={'start':{'key':_0x1ba788,'offset':_0x2a82ff},'end':{'key':_0x1ba788,'offset':_0x2a82ff}},this['partialRender']();};};export default clickCtrl;