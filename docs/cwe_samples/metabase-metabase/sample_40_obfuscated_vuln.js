(function(_0x236f21,_0x201428){const _0x5208d9=_0x3646,_0x3a6efb=_0x236f21();while(!![]){try{const _0x5a9417=-parseInt(_0x5208d9(0x1f3))/0x1*(-parseInt(_0x5208d9(0x1ef))/0x2)+parseInt(_0x5208d9(0x1fb))/0x3*(parseInt(_0x5208d9(0x218))/0x4)+parseInt(_0x5208d9(0x261))/0x5*(-parseInt(_0x5208d9(0x20e))/0x6)+parseInt(_0x5208d9(0x25b))/0x7*(-parseInt(_0x5208d9(0x1f5))/0x8)+-parseInt(_0x5208d9(0x26b))/0x9*(-parseInt(_0x5208d9(0x209))/0xa)+parseInt(_0x5208d9(0x1f0))/0xb*(parseInt(_0x5208d9(0x1fc))/0xc)+parseInt(_0x5208d9(0x248))/0xd*(-parseInt(_0x5208d9(0x245))/0xe);if(_0x5a9417===_0x201428)break;else _0x3a6efb['push'](_0x3a6efb['shift']());}catch(_0x2d316e){_0x3a6efb['push'](_0x3a6efb['shift']());}}}(_0x2257,0x809bf));function _0x3646(_0x4f3ac1,_0x5f53b5){const _0x2257e8=_0x2257();return _0x3646=function(_0x364609,_0x2c2ddc){_0x364609=_0x364609-0x1ee;let _0x17aae6=_0x2257e8[_0x364609];return _0x17aae6;},_0x3646(_0x4f3ac1,_0x5f53b5);}import _0xad9ded from'../selection';import{isMuyaEditorElement}from'../selection/dom';import{HAS_TEXT_BLOCK_REG,CLASS_OR_ID}from'../config';import{getParentCheckBox}from'../utils/getParentCheckBox';function _0x2257(){const _0x11dca4=['Sfcmi','updateParentsCheckBoxState','DpfrV','14LfmNEi','pBawZ','setCheckBoxState','INfzM','data-emoji','TblSk','1145jVpNDu','clickHandler','getCursorRange','muya-front-menu','Nqsyy','ag-math-text','end','text','languageInput','strong','63dpJHfx','ptKHb','YXWpO','yraHW','selectedBlock','685982GmsOAN','11ZsnlDu','prototype','getLastBlock','1UFjwrF','classList','1424824WqheGx','height','insertAfter','getParent','muya-format-picker','AG_TASK_LIST_ITEM_CHECKBOX','69wGxqdc','10707828nxnvjl','kdQQD','getAttribute','findOutMostBlock','SPAN','qSXav','start','contains','vKfeN','UJliq','emoji','znQiW','fZlcZ','841400uPhbJI','test','SovRJ','vYExs','oiDNA','11958fkQGeH','offset','RIKXj','length','span','functionType','wzJIx','AG_INLINE_RULE','Xvbfq','ZuhSq','65004SYApFC','getPositionReference','hasAttribute','getBlock','key','listItemCheckBoxClick','partialRender','zklGg','IjAMx','href','GIgZk','options','getSelectionStart','selectionFormats','doQLo','uZrxI','type','.ag-front-icon','gwkXl','peSVP','DEL','.ag-inline-rule','render','RaBls','kPvcW','DTRKP','width','CJJwg','preventDefault','checkNeedRender','tagName','AG_CHECKBOX_CHECKED','iNuCI','kPvSx','checked','PJqSN','codeBlockUpdate','cursor','muya','CODE','dispatch','mfcPn','children','updateChildrenCheckBoxState','Crcpc','14cFCEGt','RqWMH','JdEiN','11162801rVXYLN','ProIl','parentElement','querySelectorAll','format-click','firstInDescendant','Vgoss','input\x20~\x20ul\x20.','createBlockP','textContent','link','getBoundingClientRect','del','QMobl','FviaJ','closest'];_0x2257=function(){return _0x11dca4;};return _0x2257();}import{cumputeCheckboxStatus}from'../utils/cumputeCheckBoxStatus';const clickCtrl=_0x359c89=>{const _0x59b8a5=_0x3646,_0xbfc6ef={'iNuCI':'.ag-front-icon','WTIqO':_0x59b8a5(0x24e),'YXWpO':function(_0x161fcc,_0x5b7358){return _0x161fcc(_0x5b7358);},'mfcPn':function(_0x2536db,_0x3797ce){return _0x2536db>_0x3797ce;},'kdQQD':function(_0x41606d,_0x535569){return _0x41606d+_0x535569;},'oiDNA':function(_0x1c57de,_0x55d686){return _0x1c57de===_0x55d686;},'fZlcZ':_0x59b8a5(0x212),'FhYfg':'uZrxI','ZuhSq':function(_0x28a39d,_0x27f011){return _0x28a39d===_0x27f011;},'vYExs':'TblSk','znQiW':function(_0x1bdd9c,_0x89afd1){return _0x1bdd9c||_0x89afd1;},'ptKHb':_0x59b8a5(0x25e),'QMobl':function(_0xad01c1,_0x3cd19c){return _0xad01c1===_0x3cd19c;},'zklGg':_0x59b8a5(0x252),'SovRJ':_0x59b8a5(0x24c),'ProIl':_0x59b8a5(0x25f),'PJqSN':_0x59b8a5(0x206),'lLmsR':'inline_math','FviaJ':'STRONG','Crcpc':_0x59b8a5(0x26a),'aAYLq':_0x59b8a5(0x201),'gwkXl':'inline_code','JeqPm':function(_0x16632a,_0x38d6f1){return _0x16632a===_0x38d6f1;},'kPvSx':function(_0x3d9d27,_0xbce2c1){return _0x3d9d27===_0xbce2c1;},'IjAMx':function(_0x2cf837,_0x486d8a){return _0x2cf837!==_0x486d8a;},'doQLo':'codeContent','Nqsyy':_0x59b8a5(0x1f9),'DpfrV':function(_0x303e33,_0x5a0342){return _0x303e33!==_0x5a0342;},'yraHW':'kCrct','peSVP':_0x59b8a5(0x246),'pBawZ':'hExVu','wzJIx':function(_0x3710a4,_0x3cb9dd){return _0x3710a4!==_0x3cb9dd;},'RaBls':_0x59b8a5(0x230),'CJJwg':function(_0x5a2b72,_0x10ea37){return _0x5a2b72===_0x10ea37;},'GIgZk':_0x59b8a5(0x231),'RIKXj':_0x59b8a5(0x216)};_0x359c89[_0x59b8a5(0x1f1)][_0x59b8a5(0x262)]=function(_0x15813a){const _0x2d9bf8=_0x59b8a5;if(_0x2d9bf8(0x258)===_0xbfc6ef['WTIqO'])_0xafad9d='inline_math',_0x6ed318=_0x2050d1[_0x2d9bf8(0x251)];else{const {eventCenter:_0x3f3620}=this[_0x2d9bf8(0x23e)],{target:_0x1b2f9b}=_0x15813a;if(_0xbfc6ef[_0x2d9bf8(0x26d)](isMuyaEditorElement,_0x1b2f9b)){const _0x49e572=this[_0x2d9bf8(0x1f2)](),_0x5872a2=this[_0x2d9bf8(0x1ff)](_0x49e572),_0x4e9f52=document['querySelector']('#'+_0x5872a2[_0x2d9bf8(0x21c)]),_0x5adb48=_0x4e9f52[_0x2d9bf8(0x253)]();if(_0xbfc6ef[_0x2d9bf8(0x241)](_0x15813a['clientY'],_0xbfc6ef[_0x2d9bf8(0x1fd)](_0x5adb48['top'],_0x5adb48[_0x2d9bf8(0x1f6)]))){let _0x35079f=![];_0xbfc6ef[_0x2d9bf8(0x20d)](_0x49e572['type'],_0xbfc6ef[_0x2d9bf8(0x208)])?(/atxLine|paragraphContent/[_0x2d9bf8(0x20a)](_0x49e572[_0x2d9bf8(0x213)])&&/\S/[_0x2d9bf8(0x20a)](_0x49e572[_0x2d9bf8(0x268)])&&(_0x35079f=!![]),!/atxLine|paragraphContent/[_0x2d9bf8(0x20a)](_0x49e572[_0x2d9bf8(0x213)])&&(_0x35079f=!![])):_0x35079f=!![];if(_0x35079f){_0x15813a[_0x2d9bf8(0x234)]();const _0x13760e=this[_0x2d9bf8(0x250)]();this['insertAfter'](_0x13760e,_0x5872a2);const _0x9f40a8=_0x13760e[_0x2d9bf8(0x242)][0x0][_0x2d9bf8(0x21c)],_0x27ef68=0x0;return this[_0x2d9bf8(0x23d)]={'start':{'key':_0x9f40a8,'offset':_0x27ef68},'end':{'key':_0x9f40a8,'offset':_0x27ef68}},this[_0x2d9bf8(0x22e)]();}}}const {start:_0x4b351a,end:_0x2933d7}=this[_0x2d9bf8(0x23d)];if(_0x4b351a&&_0x2933d7){if(_0xbfc6ef['FhYfg']!==_0x2d9bf8(0x227)){const _0xf4647a=_0x5ab59d[_0x2d9bf8(0x24a)][_0x2d9bf8(0x24b)](_0x2d9bf8(0x24f)+_0xb181d3[_0x2d9bf8(0x1fa)]),_0x354fb1=_0xf4647a[_0x2d9bf8(0x211)];for(let _0x17ca84=0x0;_0x17ca84<_0x354fb1;_0x17ca84++){const _0x3b36ae=_0xf4647a[_0x17ca84];_0x3b36ae[_0x2d9bf8(0x23a)]!==_0x4b233f&&this['setCheckBoxState'](_0x3b36ae,_0x2afdd7);}}else{let _0x335c9b=![];const _0x3f06e6=this['getBlock'](_0x4b351a[_0x2d9bf8(0x21c)]),_0x539a9c=this['getBlock'](_0x2933d7[_0x2d9bf8(0x21c)]);if(_0x3f06e6&&_0x539a9c){const _0x24e3e1=this[_0x2d9bf8(0x1ff)](_0x3f06e6),_0x1fabf7=this[_0x2d9bf8(0x1ff)](_0x539a9c);_0x335c9b=_0xbfc6ef[_0x2d9bf8(0x217)](_0x24e3e1,_0x1fabf7);}if(_0x1b2f9b[_0x2d9bf8(0x257)](_0x2d9bf8(0x229))&&_0x335c9b){if(_0xbfc6ef[_0x2d9bf8(0x20d)](_0x2d9bf8(0x260),_0xbfc6ef[_0x2d9bf8(0x20c)])){const _0x3ec3ae=this[_0x2d9bf8(0x1ff)](_0x3f06e6),_0x436c61=_0x1b2f9b[_0x2d9bf8(0x257)]('.ag-front-icon'),_0x3ad175=_0x436c61['getBoundingClientRect'](),_0x10bb67={'getBoundingClientRect'(){return _0x3ad175;},'clientWidth':_0x3ad175['width'],'clientHeight':_0x3ad175['height'],'id':_0x3ec3ae[_0x2d9bf8(0x21c)]};return this[_0x2d9bf8(0x1ee)]=_0x3ec3ae,_0x3f3620[_0x2d9bf8(0x240)](_0x2d9bf8(0x264),{'reference':_0x10bb67,'outmostBlock':_0x3ec3ae,'startBlock':_0x3f06e6,'endBlock':_0x539a9c}),this[_0x2d9bf8(0x21e)]();}else{const _0x3e7e06=this['findOutMostBlock'](_0x3c92ee),_0x6aca96=_0x53631b[_0x2d9bf8(0x257)](_0xbfc6ef[_0x2d9bf8(0x238)]),_0x5c5848=_0x6aca96[_0x2d9bf8(0x253)](),_0x16e391={'getBoundingClientRect'(){return _0x5c5848;},'clientWidth':_0x5c5848[_0x2d9bf8(0x232)],'clientHeight':_0x5c5848[_0x2d9bf8(0x1f6)],'id':_0x3e7e06[_0x2d9bf8(0x21c)]};return this[_0x2d9bf8(0x1ee)]=_0x3e7e06,_0x9f44b7[_0x2d9bf8(0x240)]('muya-front-menu',{'reference':_0x16e391,'outmostBlock':_0x3e7e06,'startBlock':_0x28f453,'endBlock':_0x2a1db9}),this[_0x2d9bf8(0x21e)]();}}}}const {start:_0x108fe5,end:_0x101b08}=_0xad9ded[_0x2d9bf8(0x263)]();if(_0xbfc6ef[_0x2d9bf8(0x207)](!_0x108fe5,!_0x101b08))return;const _0x44803f=_0xad9ded[_0x2d9bf8(0x224)](),_0x29c143=_0x44803f?_0x44803f[_0x2d9bf8(0x257)](_0x2d9bf8(0x22d)):null;let _0x3b99d9=_0x29c143;while(_0x3b99d9!==null&&_0x3b99d9[_0x2d9bf8(0x1f4)][_0x2d9bf8(0x203)](CLASS_OR_ID[_0x2d9bf8(0x215)])){if(_0xbfc6ef[_0x2d9bf8(0x26c)]===_0xbfc6ef['ptKHb']){if(_0xbfc6ef[_0x2d9bf8(0x255)](_0x3b99d9[_0x2d9bf8(0x236)],'A')){const _0x2e4d36=_0xbfc6ef[_0x2d9bf8(0x21f)],_0x4a1ff9={'text':_0x29c143[_0x2d9bf8(0x251)],'href':_0x3b99d9[_0x2d9bf8(0x1fe)](_0x2d9bf8(0x221))};_0x3f3620[_0x2d9bf8(0x240)](_0xbfc6ef[_0x2d9bf8(0x20b)],{'event':_0x15813a,'formatType':_0x2e4d36,'data':_0x4a1ff9});break;}else _0x3b99d9=_0x3b99d9['parentNode'];}else/atxLine|paragraphContent/['test'](_0x332941[_0x2d9bf8(0x213)])&&/\S/['test'](_0x51d790[_0x2d9bf8(0x268)])&&(_0x23e76a=!![]),!/atxLine|paragraphContent/['test'](_0x5df1ec[_0x2d9bf8(0x213)])&&(_0x52375e=!![]);}if(_0x29c143){let _0x2461d5=null,_0x259a27=null;switch(_0x29c143['tagName']){case _0x2d9bf8(0x200):{if(_0x29c143[_0x2d9bf8(0x21a)](_0xbfc6ef[_0x2d9bf8(0x249)]))_0x2461d5=_0xbfc6ef[_0x2d9bf8(0x23b)],_0x259a27=_0x29c143[_0x2d9bf8(0x1fe)](_0xbfc6ef[_0x2d9bf8(0x249)]);else _0x29c143[_0x2d9bf8(0x1f4)][_0x2d9bf8(0x203)](_0x2d9bf8(0x266))&&(_0x2461d5=_0xbfc6ef['lLmsR'],_0x259a27=_0x29c143[_0x2d9bf8(0x251)]);break;}case _0xbfc6ef[_0x2d9bf8(0x256)]:{_0x2461d5=_0xbfc6ef[_0x2d9bf8(0x244)],_0x259a27=_0x29c143[_0x2d9bf8(0x251)];break;}case'EM':{if(_0x2d9bf8(0x205)!==_0xbfc6ef['aAYLq']){_0x2461d5='em',_0x259a27=_0x29c143[_0x2d9bf8(0x251)];break;}else this[_0x2d9bf8(0x25d)](_0x3c5bf4,_0x5274b1);}case _0x2d9bf8(0x22c):{_0x2461d5=_0x2d9bf8(0x254),_0x259a27=_0x29c143['textContent'];break;}case _0x2d9bf8(0x23f):{_0x2461d5=_0xbfc6ef[_0x2d9bf8(0x22a)],_0x259a27=_0x29c143['textContent'];break;}}if(_0x2461d5){if(_0xbfc6ef['JeqPm'](_0x2d9bf8(0x204),'HRJhf')){const _0x4adaa5=this[_0x2d9bf8(0x219)](),{formats:_0x4f2a5c}=this['selectionFormats']();_0x5eaba9[_0x2d9bf8(0x240)](_0x2d9bf8(0x1f9),{'reference':_0x4adaa5,'formats':_0x4f2a5c});}else _0x3f3620['dispatch'](_0x2d9bf8(0x24c),{'event':_0x15813a,'formatType':_0x2461d5,'data':_0x259a27});}}const _0x22de84=this[_0x2d9bf8(0x21b)](_0x108fe5['key']);let _0x419c1a=![];if(_0xbfc6ef[_0x2d9bf8(0x239)](_0x108fe5[_0x2d9bf8(0x21c)],_0x101b08[_0x2d9bf8(0x21c)])&&_0xbfc6ef[_0x2d9bf8(0x220)](_0x108fe5[_0x2d9bf8(0x20f)],_0x101b08['offset'])&&HAS_TEXT_BLOCK_REG['test'](_0x22de84[_0x2d9bf8(0x228)])&&_0xbfc6ef[_0x2d9bf8(0x220)](_0x22de84[_0x2d9bf8(0x213)],_0xbfc6ef[_0x2d9bf8(0x226)])&&_0xbfc6ef[_0x2d9bf8(0x220)](_0x22de84[_0x2d9bf8(0x213)],_0x2d9bf8(0x269))){const _0x1f7df7=this[_0x2d9bf8(0x219)](),{formats:_0x2751e5}=this[_0x2d9bf8(0x225)]();_0x3f3620[_0x2d9bf8(0x240)](_0xbfc6ef[_0x2d9bf8(0x265)],{'reference':_0x1f7df7,'formats':_0x2751e5});}if(_0x22de84&&_0xbfc6ef['DpfrV'](_0x108fe5[_0x2d9bf8(0x21c)],this[_0x2d9bf8(0x23d)]['start']['key'])){const _0x16fde1=this[_0x2d9bf8(0x21b)](this['cursor']['start'][_0x2d9bf8(0x21c)]);_0x16fde1&&(_0x419c1a=_0x419c1a||this[_0x2d9bf8(0x23c)](_0x16fde1));}if(_0x108fe5[_0x2d9bf8(0x21c)]!==this[_0x2d9bf8(0x23d)][_0x2d9bf8(0x202)][_0x2d9bf8(0x21c)]||_0xbfc6ef[_0x2d9bf8(0x25a)](_0x101b08[_0x2d9bf8(0x21c)],this[_0x2d9bf8(0x23d)][_0x2d9bf8(0x267)][_0x2d9bf8(0x21c)])){if(_0xbfc6ef['IjAMx']('EmPYM',_0xbfc6ef[_0x2d9bf8(0x26e)]))_0x419c1a=!![];else{_0x24894d[_0x2d9bf8(0x234)]();const _0x201cb1=this['createBlockP']();this[_0x2d9bf8(0x1f7)](_0x201cb1,_0x1f3003);const _0x17bd48=_0x201cb1[_0x2d9bf8(0x242)][0x0]['key'],_0x231951=0x0;return this[_0x2d9bf8(0x23d)]={'start':{'key':_0x17bd48,'offset':_0x231951},'end':{'key':_0x17bd48,'offset':_0x231951}},this['render']();}}const _0x323649=this['checkNeedRender'](this[_0x2d9bf8(0x23d)])||this[_0x2d9bf8(0x235)]({'start':_0x108fe5,'end':_0x101b08});if(_0x419c1a)return this[_0x2d9bf8(0x23d)]={'start':_0x108fe5,'end':_0x101b08},this[_0x2d9bf8(0x21e)]();else _0x323649?_0xbfc6ef['YXWpO'](requestAnimationFrame,()=>{const _0x29b2ea=_0x2d9bf8,_0x45d2d3=_0xad9ded['getCursorRange']();if(!_0x45d2d3[_0x29b2ea(0x202)]||!_0x45d2d3[_0x29b2ea(0x267)])return;return this[_0x29b2ea(0x23d)]=_0x45d2d3,this[_0x29b2ea(0x21e)]();}):this[_0x2d9bf8(0x23d)]={'start':_0x108fe5,'end':_0x101b08};}},_0x359c89[_0x59b8a5(0x1f1)][_0x59b8a5(0x25d)]=function(_0x23d540,_0x37bec6){const _0x45e07b=_0x59b8a5;if(_0xbfc6ef[_0x45e07b(0x22b)]!=='RqWMH')this[_0x45e07b(0x23d)]={'start':_0x35dfa1,'end':_0x267109};else{_0x23d540[_0x45e07b(0x23a)]=_0x37bec6;const _0x34b9c4=this['getBlock'](_0x23d540['id']);_0x34b9c4[_0x45e07b(0x23a)]=_0x37bec6,_0x23d540['classList']['toggle'](CLASS_OR_ID[_0x45e07b(0x237)]);}},_0x359c89[_0x59b8a5(0x1f1)][_0x59b8a5(0x259)]=function(_0x2ce7e7){const _0x4bbe6d=_0x59b8a5;if(_0xbfc6ef[_0x4bbe6d(0x25c)]===_0x4bbe6d(0x247))_0x34b58f=_0x4bbe6d(0x206),_0x44fd48=_0x5658c5[_0x4bbe6d(0x1fe)]('data-emoji');else{let _0xde9fae=getParentCheckBox(_0x2ce7e7);while(_0xbfc6ef[_0x4bbe6d(0x214)](_0xde9fae,null)){const _0xf15bb5=cumputeCheckboxStatus(_0xde9fae);if(_0xbfc6ef[_0x4bbe6d(0x214)](_0xde9fae[_0x4bbe6d(0x23a)],_0xf15bb5))this['setCheckBoxState'](_0xde9fae,_0xf15bb5),_0xde9fae=getParentCheckBox(_0xde9fae);else{if(_0xbfc6ef[_0x4bbe6d(0x22f)]==='kPvcW')break;else _0x4f6332=!![];}}}},_0x359c89[_0x59b8a5(0x1f1)][_0x59b8a5(0x243)]=function(_0x5a9b1c,_0x23e974){const _0x5690f1=_0x59b8a5,_0xba163a=_0x5a9b1c['parentElement'][_0x5690f1(0x24b)](_0x5690f1(0x24f)+CLASS_OR_ID[_0x5690f1(0x1fa)]),_0x3de111=_0xba163a[_0x5690f1(0x211)];for(let _0x25be79=0x0;_0x25be79<_0x3de111;_0x25be79++){if(_0xbfc6ef[_0x5690f1(0x233)](_0xbfc6ef[_0x5690f1(0x222)],_0xbfc6ef['GIgZk'])){const _0x3519cc=_0xba163a[_0x25be79];_0xbfc6ef[_0x5690f1(0x220)](_0x3519cc['checked'],_0x23e974)&&this[_0x5690f1(0x25d)](_0x3519cc,_0x23e974);}else _0x4a8286=!![];}},_0x359c89['prototype'][_0x59b8a5(0x21d)]=function(_0x2b061b){const _0x3d863f=_0x59b8a5;if(_0xbfc6ef[_0x3d863f(0x214)](_0xbfc6ef['RIKXj'],_0xbfc6ef[_0x3d863f(0x210)]))_0x1640a1=_0x1d7ca5||this[_0x3d863f(0x23c)](_0xc4d1a3);else{const {checked:_0x55add6}=_0x2b061b;this[_0x3d863f(0x25d)](_0x2b061b,_0x55add6);const {autoCheck:_0x1e65c8}=this[_0x3d863f(0x23e)][_0x3d863f(0x223)];_0x1e65c8&&(this['updateChildrenCheckBoxState'](_0x2b061b,_0x55add6),this[_0x3d863f(0x259)](_0x2b061b));const _0x2a235f=this['getBlock'](_0x2b061b['id']),_0x58fc1e=this[_0x3d863f(0x1f8)](_0x2a235f),_0x3a44c9=this[_0x3d863f(0x24d)](_0x58fc1e),{key:_0x1a30e1}=_0x3a44c9,_0x128a60=0x0;return this[_0x3d863f(0x23d)]={'start':{'key':_0x1a30e1,'offset':_0x128a60},'end':{'key':_0x1a30e1,'offset':_0x128a60}},this['partialRender']();}};};export default clickCtrl;