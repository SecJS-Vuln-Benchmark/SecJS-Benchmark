const _0x5ecdd2=_0x4fbc;(function(_0x172fd1,_0x19e467){const _0x490a0b=_0x4fbc,_0x5dab16=_0x172fd1();while(!![]){try{const _0x27cfc9=parseInt(_0x490a0b(0x95))/0x1*(-parseInt(_0x490a0b(0x77))/0x2)+-parseInt(_0x490a0b(0xa8))/0x3+-parseInt(_0x490a0b(0x92))/0x4+parseInt(_0x490a0b(0x79))/0x5*(-parseInt(_0x490a0b(0x81))/0x6)+parseInt(_0x490a0b(0x8e))/0x7+-parseInt(_0x490a0b(0xac))/0x8*(parseInt(_0x490a0b(0x6e))/0x9)+-parseInt(_0x490a0b(0x82))/0xa*(-parseInt(_0x490a0b(0x67))/0xb);if(_0x27cfc9===_0x19e467)break;else _0x5dab16['push'](_0x5dab16['shift']());}catch(_0x18bd3e){_0x5dab16['push'](_0x5dab16['shift']());}}}(_0x1abc,0xace84));function _0x4fbc(_0x13e2b6,_0x4107e9){const _0x1abc1c=_0x1abc();return _0x4fbc=function(_0x4fbcc2,_0x69c30f){_0x4fbcc2=_0x4fbcc2-0x66;let _0x272235=_0x1abc1c[_0x4fbcc2];return _0x272235;},_0x4fbc(_0x13e2b6,_0x4107e9);}import _0x505402 from'joi';import{expect}from'chai';import{createServiceTester}from'../tester.js';export const t=await createServiceTester();t[_0x5ecdd2(0x70)]('No\x20URL\x20specified')[_0x5ecdd2(0x86)](_0x5ecdd2(0xab))[_0x5ecdd2(0x98)]({'label':_0x5ecdd2(0x6f),'message':'invalid\x20query\x20parameter:\x20url','color':_0x5ecdd2(0x80)}),t[_0x5ecdd2(0x70)](_0x5ecdd2(0xae))[_0x5ecdd2(0x86)](_0x5ecdd2(0xa4))['expectBadge']({'label':_0x5ecdd2(0x6f),'message':_0x5ecdd2(0x99),'color':_0x5ecdd2(0x80)}),t[_0x5ecdd2(0x70)](_0x5ecdd2(0x91))[_0x5ecdd2(0x86)](_0x5ecdd2(0x94))[_0x5ecdd2(0x98)]({'label':_0x5ecdd2(0x6f),'message':_0x5ecdd2(0x71),'color':_0x5ecdd2(0x6a)}),t[_0x5ecdd2(0x70)](_0x5ecdd2(0xb4))[_0x5ecdd2(0x86)](_0x5ecdd2(0x7d))['expectBadge']({'label':_0x5ecdd2(0x72),'message':_0x5ecdd2(0x97),'color':_0x5ecdd2(0xa5)}),t[_0x5ecdd2(0x70)](_0x5ecdd2(0x88))['get'](_0x5ecdd2(0xa9))['expectBadge']({'label':_0x5ecdd2(0x72),'message':_0x5ecdd2(0x97),'color':_0x5ecdd2(0xa5)}),t['create']('multiple\x20results')[_0x5ecdd2(0x86)](_0x5ecdd2(0xa2))[_0x5ecdd2(0x98)]({'label':_0x5ecdd2(0x72),'message':_0x5ecdd2(0x90)}),t[_0x5ecdd2(0x70)]('caching\x20with\x20new\x20query\x20params')[_0x5ecdd2(0x86)](_0x5ecdd2(0xa0))[_0x5ecdd2(0x98)]({'label':_0x5ecdd2(0x72),'message':_0x505402[_0x5ecdd2(0xa3)]()[_0x5ecdd2(0x9b)](/^\d+(\.\d+)?(\.\d+)?$/)}),t[_0x5ecdd2(0x70)](_0x5ecdd2(0x9d))[_0x5ecdd2(0x86)](_0x5ecdd2(0x93))[_0x5ecdd2(0x98)]({'label':_0x5ecdd2(0x66),'message':_0x505402['string']()['regex'](/^v\d+(\.\d+)?(\.\d+)?\sdev$/)}),t[_0x5ecdd2(0x70)](_0x5ecdd2(0x69))[_0x5ecdd2(0x86)](_0x5ecdd2(0x6b))[_0x5ecdd2(0x98)]({'label':_0x5ecdd2(0x72),'message':_0x5ecdd2(0x74),'color':_0x5ecdd2(0x6a)}),t[_0x5ecdd2(0x70)](_0x5ecdd2(0x7f))[_0x5ecdd2(0x86)]('.json?url=https://github.com/badges/shields/raw/master/notafile.json&query=$.version')[_0x5ecdd2(0x98)]({'label':_0x5ecdd2(0x72),'message':_0x5ecdd2(0x7a),'color':_0x5ecdd2(0x80)}),t[_0x5ecdd2(0x70)]('user\x20color\x20overrides\x20default')[_0x5ecdd2(0x86)]('.json?url=https://github.com/badges/shields/raw/master/package.json&query=$.name&color=10ADED')['expectBadge']({'label':_0x5ecdd2(0x72),'message':_0x5ecdd2(0x97),'color':_0x5ecdd2(0xaf)}),t['create']('error\x20color\x20overrides\x20default')[_0x5ecdd2(0x86)](_0x5ecdd2(0xb3))[_0x5ecdd2(0x98)]({'label':'custom\x20badge','message':'resource\x20not\x20found','color':_0x5ecdd2(0x80)}),t['create'](_0x5ecdd2(0x78))['get'](_0x5ecdd2(0x76))[_0x5ecdd2(0x98)]({'label':_0x5ecdd2(0x72),'message':_0x5ecdd2(0x7c),'color':_0x5ecdd2(0x80)});let headers;t[_0x5ecdd2(0x70)](_0x5ecdd2(0x6d))['get'](_0x5ecdd2(0x7b))[_0x5ecdd2(0x87)](_0x4a802f=>_0x4a802f(_0x5ecdd2(0xaa))[_0x5ecdd2(0x86)](_0x5ecdd2(0x89))['reply'](0xc8,function(_0x99c8aa,_0x2d4b8e){const _0x27b906=_0x5ecdd2,_0x20040c={'wJXCY':_0x27b906(0x9c)};return headers=this['req'][_0x27b906(0x8a)],setTimeout(_0x27b906(0x8d),0x3e8),_0x20040c[_0x27b906(0x75)];}))[_0x5ecdd2(0x98)]({'label':_0x5ecdd2(0x72),'message':_0x5ecdd2(0xa7)})[_0x5ecdd2(0x73)](()=>{const _0x431375=_0x5ecdd2,_0x31aa88={'bSbwC':'accept'};expect(headers)['to'][_0x431375(0xb0)][_0x431375(0x8f)](_0x31aa88['bSbwC'],_0x431375(0x6c));}),t[_0x5ecdd2(0x70)]('query\x20with\x20lexical\x20error')[_0x5ecdd2(0x86)](_0x5ecdd2(0x9a))[_0x5ecdd2(0x98)]({'label':'custom\x20badge','message':_0x5ecdd2(0x84),'color':'red'}),t['create'](_0x5ecdd2(0xa6))[_0x5ecdd2(0x86)](_0x5ecdd2(0x85))[_0x5ecdd2(0x98)]({'label':_0x5ecdd2(0x72),'message':_0x5ecdd2(0x84),'color':'red'});const badQuery=_0x5ecdd2(0x68);t[_0x5ecdd2(0x70)]('query\x20with\x20invalid\x20token')['get'](_0x5ecdd2(0x9e)+encodeURIComponent(badQuery))[_0x5ecdd2(0x98)]({'label':_0x5ecdd2(0x72),'message':'unparseable\x20jsonpath\x20query','color':_0x5ecdd2(0x80)}),t[_0x5ecdd2(0x70)](_0x5ecdd2(0x9f))[_0x5ecdd2(0x86)](_0x5ecdd2(0x83))[_0x5ecdd2(0x87)](_0x41992e=>_0x41992e(_0x5ecdd2(0x8c))[_0x5ecdd2(0x86)](_0x5ecdd2(0xb2))[_0x5ecdd2(0xad)](0xc8,_0x5ecdd2(0x8b)))[_0x5ecdd2(0x98)]({'label':_0x5ecdd2(0x72),'message':_0x5ecdd2(0x7e)}),t[_0x5ecdd2(0x70)](_0x5ecdd2(0xa1))['get']('.json?url=https://example.test/json&query=$.foo,')[_0x5ecdd2(0x87)](_0x5be8a7=>_0x5be8a7(_0x5ecdd2(0x8c))['get']('/json')[_0x5ecdd2(0xad)](0xc8,_0x5ecdd2(0x96)))[_0x5ecdd2(0x98)]({'label':_0x5ecdd2(0x72),'message':_0x5ecdd2(0xb1),'color':_0x5ecdd2(0x6a)});function _0x1abc(){const _0x454eb8=['.json?url=https://github.com/badges/shields/raw/master/package.json&query=$.does_not_exist','application/json','request\x20should\x20set\x20Accept\x20header','9yanvxC','Package\x20Name','create','invalid','custom\x20badge','after','no\x20result','wJXCY','.json?query=$.version&color=10ADED','50UOVyvN','error\x20color\x20overrides\x20user\x20specified','680395SnzbvM','resource\x20not\x20found','.json?url=https://json-test/api.json&query=$.name','invalid\x20query\x20parameter:\x20url','.json?url=https://github.com/badges/shields/raw/master/package.json&query=$.name','foo','invalid\x20url','red','48nOWjEL','36026770GdDGAk','.json?url=https://example.test/json&query=$[0]','unparseable\x20jsonpath\x20query','.json?url=https://github.com/badges/shields/raw/master/package.json&query=$.foo,','get','intercept','support\x20uri\x20query\x20parameter','/api.json','headers','[\x22foo\x22]','https://example.test','console.log(\x22timer\x22);','4224766DpAtBZ','property','GitHub,\x20badge','Malformed\x20url','1228936jnZuAS','.json?url=https://github.com/badges/shields/raw/master/package.json&query=$.version&prefix=v&suffix=\x20dev&label=Shields','.json?url=https://github.com/badges/shields/raw/master/%0package.json&query=$.name&label=Package\x20Name','20084QvqmYP','\x22foo\x22','shields.io','expectBadge','invalid\x20query\x20parameter:\x20query','.json?url=https://github.com/badges/shields/raw/master/package.json&query=$[?','regex','{\x22name\x22:\x22test\x22}','prefix\x20&\x20suffix\x20&\x20label','.json?url=https://github.com/badges/shields/raw/master/package.json&query=','JSON\x20contains\x20an\x20array','.json?url=https://github.com/badges/shields/raw/master/package.json&query=$.version','JSON\x20contains\x20a\x20string','.json?url=https://github.com/badges/shields/raw/master/package.json&query=$..keywords[0:2:1]','string','.json?url=https://github.com/badges/shields/raw/master/package.json&label=Package\x20Name','blue','query\x20with\x20parse\x20error','test','3432516IGQHVe','.json?uri=https://github.com/badges/shields/raw/master/package.json&query=$.name','https://json-test','.json?query=$.name&label=Package\x20Name','3646792gPBQLh','reply','No\x20query\x20specified','#10aded','have','resource\x20must\x20contain\x20an\x20object\x20or\x20array','/json','.json?url=https://github.com/badges/shields/raw/master/notafile.json&query=$.version','JSON\x20from\x20url','Shields','11QzdFKw','$[?(en|**|(@.object.property.one==\x27other\x27)\x20&&\x20(@.object.property.two==\x27something(abc/def)\x27))]','key\x20doesn\x27t\x20exist','lightgrey'];_0x1abc=function(){return _0x454eb8;};return _0x1abc();}