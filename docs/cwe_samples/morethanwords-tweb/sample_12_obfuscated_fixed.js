function _0x4b8e(){const _0x579bbf=['PdTTL','Token\x20expired\x20or\x20failed\x20validation.','pCHxA','NODE_ENV','../http','OwnXY','9382455QWxxvU','JWT_SECRET','caTdx','User\x20is\x20suspended\x20from\x20system','30486AuDavf','951593QldYex','20652JAsVZk','json','status','bcrypt','suspended','../../models/user','isMultiUserMode','Invalid\x20auth\x20for\x20user.','dUxHD','multiUserMode','AUTH_TOKEN','header','No\x20auth\x20token\x20found.','gaigS','MXBos','2702510rgcHkJ','get','hFCNU','dYwLV','206ZeEdYU','compareSync','user','split','qiSPh','ujYrU','ITZgS','hashSync','Invalid\x20auth\x20token.','1685SPYhqy','3072304ThPCtz','You\x20need\x20to\x20set\x20an\x20AUTH_TOKEN\x20environment\x20variable.','Invalid\x20auth\x20credentials.','1512LPKaOG','locals','18697fzaaHq','Authorization','env'];_0x4b8e=function(){return _0x579bbf;};return _0x4b8e();}const _0x5e511b=_0x4642;function _0x4642(_0x28d498,_0x26fe6d){const _0x4b8eba=_0x4b8e();return _0x4642=function(_0x4642e2,_0x29f635){_0x4642e2=_0x4642e2-0x19c;let _0x19290c=_0x4b8eba[_0x4642e2];return _0x19290c;},_0x4642(_0x28d498,_0x26fe6d);}(function(_0x21fa01,_0x582898){const _0x4bef59=_0x4642,_0x597861=_0x21fa01();while(!![]){try{const _0x1d6540=-parseInt(_0x4bef59(0x19c))/0x1+-parseInt(_0x4bef59(0x1b0))/0x2*(-parseInt(_0x4bef59(0x1cc))/0x3)+-parseInt(_0x4bef59(0x1ba))/0x4+parseInt(_0x4bef59(0x1b9))/0x5*(parseInt(_0x4bef59(0x19d))/0x6)+parseInt(_0x4bef59(0x1bf))/0x7*(-parseInt(_0x4bef59(0x1bd))/0x8)+parseInt(_0x4bef59(0x1c8))/0x9+-parseInt(_0x4bef59(0x1ac))/0xa;if(_0x1d6540===_0x582898)break;else _0x597861['push'](_0x597861['shift']());}catch(_0x1a89aa){_0x597861['push'](_0x597861['shift']());}}}(_0x4b8e,0xb82dc));const {SystemSettings}=require('../../models/systemSettings'),{User}=require(_0x5e511b(0x1a2)),{decodeJWT}=require(_0x5e511b(0x1c6));async function validatedRequest(_0x50e9f1,_0x145019,_0x443bed){const _0x3d979b=_0x5e511b,_0x6b9ba7={'pCHxA':function(_0x20fad1,_0x101a4d,_0x5a982a,_0xee5e9){return _0x20fad1(_0x101a4d,_0x5a982a,_0xee5e9);},'FiqSO':'development','mYhIF':function(_0x3ede79,_0x324e1d){return _0x3ede79!==_0x324e1d;},'dYwLV':'AwRDg','OwnXY':_0x3d979b(0x1bb),'ujYrU':function(_0x1f49c9,_0x49df65){return _0x1f49c9(_0x49df65);},'PdTTL':_0x3d979b(0x1a0),'caTdx':function(_0x2a6b17,_0x3c67a1){return _0x2a6b17===_0x3c67a1;},'NLmtv':_0x3d979b(0x1c3),'hFCNU':function(_0x13927c){return _0x13927c();}},_0xdfe5d7=await SystemSettings[_0x3d979b(0x1a3)]();_0x145019[_0x3d979b(0x1be)][_0x3d979b(0x1a6)]=_0xdfe5d7;if(_0xdfe5d7)return await _0x6b9ba7[_0x3d979b(0x1c4)](validateMultiUserRequest,_0x50e9f1,_0x145019,_0x443bed);if(process[_0x3d979b(0x1c1)][_0x3d979b(0x1c5)]===_0x6b9ba7['FiqSO']||!process['env'][_0x3d979b(0x1a7)]||!process[_0x3d979b(0x1c1)][_0x3d979b(0x1c9)]){_0x443bed();return;}if(!process['env'][_0x3d979b(0x1a7)]){if(_0x6b9ba7['mYhIF']('AwRDg',_0x6b9ba7[_0x3d979b(0x1af)])){_0x31602e[_0x3d979b(0x19f)](0x191)[_0x3d979b(0x19e)]({'error':_0x3d979b(0x1a9)});return;}else{_0x145019['status'](0x191)[_0x3d979b(0x19e)]({'error':_0x6b9ba7[_0x3d979b(0x1c7)]});return;}}const _0x4ea4b1=_0x50e9f1['header'](_0x3d979b(0x1c0)),_0x48bcae=_0x4ea4b1?_0x4ea4b1[_0x3d979b(0x1b3)]('\x20')[0x1]:null;if(!_0x48bcae){_0x145019[_0x3d979b(0x19f)](0x191)[_0x3d979b(0x19e)]({'error':'No\x20auth\x20token\x20found.'});return;}const _0x5442aa=_0x6b9ba7[_0x3d979b(0x1b5)](require,_0x6b9ba7[_0x3d979b(0x1c2)]),{p:_0x584259}=decodeJWT(_0x48bcae);if(_0x6b9ba7[_0x3d979b(0x1ca)](_0x584259,null)){_0x145019[_0x3d979b(0x19f)](0x191)[_0x3d979b(0x19e)]({'error':_0x6b9ba7['NLmtv']});return;}if(!_0x5442aa[_0x3d979b(0x1b1)](_0x584259,_0x5442aa[_0x3d979b(0x1b7)](process[_0x3d979b(0x1c1)][_0x3d979b(0x1a7)],0xa))){_0x145019[_0x3d979b(0x19f)](0x191)[_0x3d979b(0x19e)]({'error':_0x3d979b(0x1bc)});return;}_0x6b9ba7[_0x3d979b(0x1ae)](_0x443bed);}async function validateMultiUserRequest(_0x1f6772,_0x43a2ae,_0x46b0a1){const _0xcf27d6=_0x5e511b,_0x3cc5f8={'qiSPh':'Authorization','gaigS':function(_0x1ef074,_0x2a2fb1){return _0x1ef074(_0x2a2fb1);},'ITZgS':_0xcf27d6(0x1b8),'MXBos':_0xcf27d6(0x1a4),'dUxHD':_0xcf27d6(0x1cb)},_0x237d8d=_0x1f6772[_0xcf27d6(0x1a8)](_0x3cc5f8[_0xcf27d6(0x1b4)]),_0x347dcd=_0x237d8d?_0x237d8d[_0xcf27d6(0x1b3)]('\x20')[0x1]:null;if(!_0x347dcd){_0x43a2ae['status'](0x191)[_0xcf27d6(0x19e)]({'error':_0xcf27d6(0x1a9)});return;}const _0x28945b=_0x3cc5f8[_0xcf27d6(0x1aa)](decodeJWT,_0x347dcd);if(!_0x28945b||!_0x28945b['id']){_0x43a2ae[_0xcf27d6(0x19f)](0x191)[_0xcf27d6(0x19e)]({'error':_0x3cc5f8[_0xcf27d6(0x1b6)]});return;}const _0x261983=await User[_0xcf27d6(0x1ad)]({'id':_0x28945b['id']});if(!_0x261983){_0x43a2ae[_0xcf27d6(0x19f)](0x191)[_0xcf27d6(0x19e)]({'error':_0x3cc5f8[_0xcf27d6(0x1ab)]});return;}if(_0x261983[_0xcf27d6(0x1a1)]){_0x43a2ae[_0xcf27d6(0x19f)](0x191)[_0xcf27d6(0x19e)]({'error':_0x3cc5f8[_0xcf27d6(0x1a5)]});return;}_0x43a2ae[_0xcf27d6(0x1be)][_0xcf27d6(0x1b2)]=_0x261983,_0x46b0a1();}module['exports']={'validatedRequest':validatedRequest};