const _0x3f3ebf=_0xf04a;(function(_0x557548,_0x4e4664){const _0x33b83c=_0xf04a,_0x16eab5=_0x557548();while(!![]){try{const _0x2eb6b1=-parseInt(_0x33b83c(0x162))/0x1+parseInt(_0x33b83c(0x160))/0x2*(parseInt(_0x33b83c(0x194))/0x3)+parseInt(_0x33b83c(0x102))/0x4*(parseInt(_0x33b83c(0x13c))/0x5)+-parseInt(_0x33b83c(0x110))/0x6+-parseInt(_0x33b83c(0xc6))/0x7*(parseInt(_0x33b83c(0x181))/0x8)+parseInt(_0x33b83c(0x11a))/0x9*(-parseInt(_0x33b83c(0xfc))/0xa)+-parseInt(_0x33b83c(0x113))/0xb*(-parseInt(_0x33b83c(0x172))/0xc);if(_0x2eb6b1===_0x4e4664)break;else _0x16eab5['push'](_0x16eab5['shift']());}catch(_0x3c4717){_0x16eab5['push'](_0x16eab5['shift']());}}}(_0x59bb,0x66513));import _0x4e229b from'fs';import _0x2b2132 from'path';import _0x5a994d from'crypto';import _0x5344fa from'child_process';import _0x1b6b51 from'url';import{inMeteor,waitPromise}from'/imports/server/async-helpers.js';const Request=HTTPInternals['NpmModules'][_0x3f3ebf(0x14a)]['module'],Capnp=Npm[_0x3f3ebf(0x105)](_0x3f3ebf(0x114)),Manifest=Capnp['importSystem'](_0x3f3ebf(0xd0))[_0x3f3ebf(0x10f)];function _0xf04a(_0x21a556,_0x21d047){const _0x59bb55=_0x59bb();return _0xf04a=function(_0xf04aa8,_0x534868){_0xf04aa8=_0xf04aa8-0xbf;let _0x51224d=_0x59bb55[_0xf04aa8];return _0x51224d;},_0xf04a(_0x21a556,_0x21d047);}let installers;const verifyIsMainReplica=()=>{const _0x26a37d=_0x3f3ebf;if(Meteor[_0x26a37d(0xf6)][_0x26a37d(0x184)])throw new Error('This\x20can\x20only\x20be\x20called\x20on\x20the\x20main\x20front-end\x20replica.');},deletePackageInternal=_0x4ac91f=>{const _0xf3d1e0=_0x3f3ebf,_0x5697b2={'QJXod':function(_0x11c2a3,_0x2f7539){return _0x11c2a3 in _0x2f7539;},'lfSoO':function(_0x27fb4f,_0x465ea9){return _0x27fb4f+_0x465ea9;},'pWVxq':_0xf3d1e0(0xf5),'maaXO':function(_0x698f5b,_0x1d2ca2){return _0x698f5b&&_0x1d2ca2;},'fOIxe':_0xf3d1e0(0x144),'ODtCP':'uBfyp','PeCTz':function(_0x78557f,_0x313665){return _0x78557f(_0x313665);}};verifyIsMainReplica();const _0x1bf1d5=_0x4ac91f[_0xf3d1e0(0x14d)];if(_0x5697b2[_0xf3d1e0(0x10c)](_0x1bf1d5,installers))return;installers[_0x1bf1d5]='uninstalling';try{const _0x98d28a=UserActions[_0xf3d1e0(0xf4)]({'packageId':_0x1bf1d5}),_0x2685d0=Grains[_0xf3d1e0(0xf4)]({'packageId':_0x1bf1d5}),_0x347d17={};_0x347d17[_0x5697b2[_0xf3d1e0(0x139)](_0x5697b2[_0xf3d1e0(0x139)](_0xf3d1e0(0x127),_0x4ac91f[_0xf3d1e0(0x11b)]),_0x5697b2['pWVxq'])]=_0x1bf1d5,_0x5697b2[_0xf3d1e0(0x155)](!_0x2685d0,!_0x98d28a)&&!Notifications['findOne'](_0x347d17)&&!globalDb[_0xf3d1e0(0x159)](_0x1bf1d5)?_0x5697b2['fOIxe']===_0x5697b2[_0xf3d1e0(0x138)]?_0x468203[_0xf3d1e0(0x143)]&&_0x3bf7dd[_0xf3d1e0(0xe2)](_0x4ff18d[_0xf3d1e0(0x143)]):(Packages[_0xf3d1e0(0xbf)]({'_id':_0x1bf1d5},{'$set':{'status':_0xf3d1e0(0x131)},'$unset':{'shouldCleanup':''}}),_0x5697b2[_0xf3d1e0(0xf2)](waitPromise,globalBackend[_0xf3d1e0(0x183)]()['deletePackage'](_0x1bf1d5)),Packages[_0xf3d1e0(0xd3)](_0x1bf1d5),_0x5697b2[_0xf3d1e0(0xf2)](getAllManifestAssets,_0x4ac91f[_0xf3d1e0(0xf1)])[_0xf3d1e0(0x117)](_0x5697ba=>{const _0x34deda=_0xf3d1e0;globalDb[_0x34deda(0xdd)](_0x5697ba);})):Packages[_0xf3d1e0(0xbf)]({'_id':_0x1bf1d5},{'$unset':{'shouldCleanup':''}}),delete installers[_0x1bf1d5];}catch(_0x274663){delete installers[_0x1bf1d5];throw _0x274663;}},startInstallInternal=_0x3ca8e3=>{const _0x89417d=_0x3f3ebf,_0x414459={'TBrMS':function(_0xe3cb6a,_0x523c56){return _0xe3cb6a in _0x523c56;}};verifyIsMainReplica();if(_0x414459[_0x89417d(0x18e)](_0x3ca8e3[_0x89417d(0x14d)],installers))return;const _0x4fee12=new AppInstaller(_0x3ca8e3[_0x89417d(0x14d)],_0x3ca8e3[_0x89417d(0xdc)],_0x3ca8e3['appId'],_0x3ca8e3[_0x89417d(0x167)]);installers[_0x3ca8e3[_0x89417d(0x14d)]]=_0x4fee12,_0x4fee12[_0x89417d(0xf0)]();};cancelDownload=_0x40c10c=>{const _0x212c4e=_0x3f3ebf,_0x4b5b54={'mFAjH':_0x212c4e(0x182)};Packages['remove']({'_id':_0x40c10c,'status':_0x4b5b54[_0x212c4e(0x18c)]});};const cancelDownloadInternal=_0xb969db=>{const _0x5bd95f=_0x3f3ebf,_0x48ef26={'rOvmx':_0x5bd95f(0x126)};verifyIsMainReplica();const _0x1c6552=installers[_0xb969db['_id']];_0x1c6552&&_0x1c6552[_0x5bd95f(0x118)]&&_0x1c6552['wrapCallback'](()=>{const _0x7755bd=_0x5bd95f;throw new Error(_0x48ef26[_0x7755bd(0xc1)]);})();};!Meteor[_0x3f3ebf(0xf6)][_0x3f3ebf(0x184)]&&(installers={},Meteor[_0x3f3ebf(0x121)](()=>{const _0xd28b4e=_0x3f3ebf,_0xb705ca={'HpBDr':_0xd28b4e(0x131),'tehzb':'verify','YmSmE':_0xd28b4e(0x164),'ARfAR':_0xd28b4e(0x12c)};Packages[_0xd28b4e(0xeb)]({'status':_0xb705ca[_0xd28b4e(0xf7)]})[_0xd28b4e(0x117)](deletePackageInternal),Packages[_0xd28b4e(0xeb)]({'status':{'$in':[_0xd28b4e(0x182),_0xb705ca[_0xd28b4e(0xe4)],_0xb705ca[_0xd28b4e(0x16e)],_0xd28b4e(0x13f)]}})[_0xd28b4e(0x142)]({'added':startInstallInternal,'removed':cancelDownloadInternal}),Packages[_0xd28b4e(0xeb)]({'status':_0xb705ca[_0xd28b4e(0x171)],'shouldCleanup':!![]})[_0xd28b4e(0x142)]({'added':deletePackageInternal});}));doClientUpload=_0x14f90e=>{const _0x68007b={'hLBbX':function(_0x5ad6e1,_0x5437e9){return _0x5ad6e1(_0x5437e9);},'OMzrJ':function(_0x83c86d,_0x2dcea5){return _0x83c86d(_0x2dcea5);},'fTIhk':'error'};return new Promise((_0x189304,_0x13f6e4)=>{const _0x3a8418=_0xf04a,_0x840833=Random['id'](),_0x496372=globalBackend[_0x3a8418(0x183)]()[_0x3a8418(0x195)]()[_0x3a8418(0x106)],_0x113017=_0x5a994d[_0x3a8418(0x15b)](_0x3a8418(0x140));_0x14f90e['on'](_0x3a8418(0x156),_0x3e8dbf=>{const _0x9ca0f5=_0x3a8418;try{_0x113017['update'](_0x3e8dbf),_0x496372['write'](_0x3e8dbf);}catch(_0x4a4465){_0x68007b[_0x9ca0f5(0x16a)](_0x13f6e4,_0x4a4465);}}),_0x14f90e['on'](_0x3a8418(0xc8),()=>{const _0x535ba5=_0x3a8418;try{_0x496372[_0x535ba5(0x111)]();const _0x1c5d56=_0x113017[_0x535ba5(0x15a)]('hex')['slice'](0x0,0x20);_0x189304(_0x496372['saveAs'](_0x1c5d56)[_0x535ba5(0x10b)](()=>{return _0x1c5d56;})),_0x496372[_0x535ba5(0x193)]();}catch(_0x40059c){_0x68007b['hLBbX'](_0x13f6e4,_0x40059c);}}),_0x14f90e['on'](_0x68007b[_0x3a8418(0x187)],_0x49626b=>{const _0xb69b89=_0x3a8418;try{_0x496372[_0xb69b89(0x193)](),_0x13f6e4(_0x49626b);}catch(_0x5154e2){_0x68007b[_0xb69b89(0x186)](_0x13f6e4,_0x5154e2);}});});},AppInstaller=class AppInstaller{constructor(_0x284c85,_0xe429f4,_0x3365b7,_0x143643){const _0x116361=_0x3f3ebf;verifyIsMainReplica(),this[_0x116361(0x145)]=_0x284c85,this[_0x116361(0xdc)]=_0xe429f4,this['failed']=![],this[_0x116361(0x11b)]=_0x3365b7,this[_0x116361(0x167)]=_0x143643,this[_0x116361(0x166)]=Promise[_0x116361(0x13d)]();}[_0x3f3ebf(0x135)](_0x466989,_0x30dbc0,_0x466396,_0x581cd0){const _0x2d5492=_0x3f3ebf,_0x41eb03={'fwCPA':'Canceled','QekML':_0x2d5492(0xf9),'PCfWe':function(_0x4371b0,_0x4e8b4e){return _0x4371b0||_0x4e8b4e;}};this['status']=_0x466989,this[_0x2d5492(0x12d)]=_0x41eb03[_0x2d5492(0x115)](_0x30dbc0,-0x1),this[_0x2d5492(0xe1)]=_0x466396,this['manifest']=_0x581cd0||null;const _0x38d91f=this;this[_0x2d5492(0x166)]=this[_0x2d5492(0x166)][_0x2d5492(0x10b)](()=>{const _0x26cf83=_0x2d5492,_0x536547={'YvGVx':function(_0x1e46d6){return _0x1e46d6();},'Tdhjy':_0x41eb03[_0x26cf83(0x10a)],'FMgef':function(_0x6f4776,_0x3d98f1){return _0x6f4776===_0x3d98f1;},'YGwSx':function(_0x133a90,_0x5402dc){return _0x133a90!==_0x5402dc;},'RWOER':_0x41eb03[_0x26cf83(0x151)]};return inMeteor(()=>{const _0x51c1fa=_0x26cf83,_0x4905a3={'mNaHV':_0x536547[_0x51c1fa(0x15d)]};if(_0x536547[_0x51c1fa(0x119)]('XLQFa','LALhP')){_0x536547[_0x51c1fa(0x12e)](_0x162809);const _0x53735b=_0x5174be[_0x285d4f['_id']];_0x53735b&&_0x53735b['downloadRequest']&&_0x53735b[_0x51c1fa(0x13e)](()=>{throw new _0x3f24f2(_0x4905a3['mNaHV']);})();}else{if(_0x581cd0)extractManifestAssets(_0x581cd0);Packages[_0x51c1fa(0xbf)](_0x38d91f[_0x51c1fa(0x145)],{'$set':{'status':_0x38d91f[_0x51c1fa(0x16d)],'progress':_0x38d91f[_0x51c1fa(0x12d)],'error':_0x38d91f['error']?_0x38d91f['error'][_0x51c1fa(0x148)]:null,'manifest':_0x38d91f[_0x51c1fa(0xf1)],'appId':_0x38d91f[_0x51c1fa(0x11b)],'authorPgpKeyFingerprint':_0x38d91f[_0x51c1fa(0x16b)]}}),_0x38d91f[_0x51c1fa(0x16b)]&&globalDb[_0x51c1fa(0xc7)](_0x38d91f['authorPgpKeyFingerprint']);}})[_0x26cf83(0xfb)](_0x559744=>{const _0x25f4c2=_0x26cf83;if(_0x536547[_0x25f4c2(0x180)](_0x25f4c2(0xf9),_0x536547[_0x25f4c2(0xe5)]))return _0x3d77ae;else console['error'](_0x559744[_0x25f4c2(0xd2)]);});});}[_0x3f3ebf(0x13e)](_0x1c2640){const _0x1dc832=_0x3f3ebf,_0x457d0b={'iluXc':function(_0x343909,_0x3e7b0f){return _0x343909(_0x3e7b0f);},'BmOIK':function(_0x23b144,_0x5031e4){return _0x23b144!==_0x5031e4;},'pfgdZ':function(_0x296a60,_0x2ab26f){return _0x296a60===_0x2ab26f;},'CIrnE':_0x1dc832(0x16f),'WAHLq':_0x1dc832(0x100),'JrnaO':'NMWPl','yHykh':'failed'},_0x50f42a=this;return function(){const _0x4845f8=_0x1dc832,_0x83f6cf={'ffuWL':'hex'};if(_0x457d0b[_0x4845f8(0xde)](_0x4845f8(0xfa),_0x4845f8(0xfa)))try{_0x499c5b[_0x4845f8(0x193)](),_0x457d0b['iluXc'](_0x5cc6d4,_0x50f77f);}catch(_0x387da8){_0x2bc254(_0x387da8);}else{if(_0x50f42a[_0x4845f8(0xdb)])return;try{if(_0x457d0b[_0x4845f8(0x189)](_0x457d0b[_0x4845f8(0x123)],_0x457d0b[_0x4845f8(0x17f)])){_0x5b08c1['done']();const _0x45a8d9=_0x4373c5[_0x4845f8(0x15a)](_0x83f6cf[_0x4845f8(0x185)])[_0x4845f8(0xdf)](0x0,0x20);_0x42ab15(_0x264169['saveAs'](_0x45a8d9)[_0x4845f8(0x10b)](()=>{return _0x45a8d9;})),_0x327119[_0x4845f8(0x193)]();}else return _0x1c2640[_0x4845f8(0x11c)](_0x50f42a,_[_0x4845f8(0x17c)](arguments));}catch(_0x44ea99){if('NMWPl'===_0x457d0b[_0x4845f8(0xf8)])_0x50f42a[_0x4845f8(0xdb)]=!![],_0x50f42a['cleanup'](),_0x50f42a[_0x4845f8(0x135)](_0x457d0b['yHykh'],0x0,_0x44ea99),_0x50f42a[_0x4845f8(0x166)]=_0x50f42a[_0x4845f8(0x166)][_0x4845f8(0x10b)](()=>{const _0x27f518=_0x4845f8;delete installers[_0x50f42a[_0x27f518(0x145)]];}),console['error']('Failed\x20to\x20install\x20app:',_0x44ea99[_0x4845f8(0xd2)]);else throw _0x1a5efb;}}};}[_0x3f3ebf(0x12f)](){const _0x2821b5=_0x3f3ebf,_0x21ea2e={'pGQcn':function(_0xf596b2,_0x57a65e){return _0xf596b2!==_0x57a65e;},'sVrKH':_0x2821b5(0x17a)};if(this['uploadStream']){try{this[_0x2821b5(0xd1)][_0x2821b5(0x193)]();}catch(_0xec4a27){}delete this['uploadStream'];}if(this[_0x2821b5(0x118)]){try{_0x21ea2e['pGQcn'](_0x21ea2e[_0x2821b5(0x14e)],_0x21ea2e[_0x2821b5(0x14e)])?_0xb2cce6['push'](_0x1ae9ec[_0x2821b5(0x143)]):this[_0x2821b5(0x118)][_0x2821b5(0x18a)]();}catch(_0x578f05){}delete this[_0x2821b5(0x118)];}}[_0x3f3ebf(0xf0)](){const _0x58bfd8=_0x3f3ebf,_0x388eab={'yCYZf':_0x58bfd8(0x178),'bvehp':_0x58bfd8(0xea),'ValDd':function(_0x5014c5,_0x5b2044){return _0x5014c5!==_0x5b2044;},'ktnFp':_0x58bfd8(0xc5)};return this[_0x58bfd8(0x13e)](()=>{const _0x356176=_0x58bfd8,_0x32eb9b={'pithn':_0x388eab[_0x356176(0x17b)],'gnAnN':_0x356176(0x179),'jKAjj':_0x388eab[_0x356176(0x190)],'rOEVE':'unpack','xQDqt':function(_0xeb096f,_0x4821e7){const _0x53c016=_0x356176;return _0x388eab[_0x53c016(0x165)](_0xeb096f,_0x4821e7);},'aPRDh':_0x388eab[_0x356176(0x192)]};this['cleanup'](),globalBackend['cap']()['tryGetPackage'](this[_0x356176(0x145)])[_0x356176(0x10b)](this[_0x356176(0x13e)](_0x25c217=>{const _0x205ac2=_0x356176;if(_0x32eb9b['xQDqt'](_0x205ac2(0xc5),_0x32eb9b[_0x205ac2(0x108)])){const _0x1f6c16=_0x32eb9b[_0x205ac2(0xcc)][_0x205ac2(0x173)]('|');let _0x32765a=0x0;while(!![]){switch(_0x1f6c16[_0x32765a++]){case'0':_0x5a743c[_0x205ac2(0x111)]();continue;case'1':if(_0x59706a[_0x205ac2(0x15a)](_0x32eb9b['gnAnN'])[_0x205ac2(0xdf)](0x0,0x20)!==this['packageId'])throw new _0x3774ed(_0x32eb9b[_0x205ac2(0x11d)]);continue;case'2':_0x1814d3=!![];continue;case'3':this[_0x205ac2(0x135)](_0x32eb9b[_0x205ac2(0x196)]);continue;case'4':delete this[_0x205ac2(0x118)];continue;case'5':_0x31e89b[_0x205ac2(0x124)](this['packageId'])[_0x205ac2(0x10b)](this['wrapCallback'](_0x549044=>{const _0x5df0aa=_0x205ac2;this['appId']=_0x549044[_0x5df0aa(0x11b)],this[_0x5df0aa(0x16b)]=_0x549044[_0x5df0aa(0x16b)],this['done'](_0x549044[_0x5df0aa(0xf1)]);}),this[_0x205ac2(0x13e)](_0x5bb955=>{throw _0x5bb955;}));continue;}break;}}else _0x25c217[_0x205ac2(0x11b)]?(this[_0x205ac2(0x11b)]=_0x25c217[_0x205ac2(0x11b)],this[_0x205ac2(0x16b)]=_0x25c217[_0x205ac2(0x16b)],this[_0x205ac2(0x111)](_0x25c217[_0x205ac2(0xf1)])):this['doDownload']();}),this[_0x356176(0x13e)](_0x3763b1=>{throw _0x3763b1;}));})();}[_0x3f3ebf(0x14b)](){const _0x8d0607=_0x3f3ebf,_0xb09be0={'kvMiV':_0x8d0607(0x132),'alXcY':_0x8d0607(0x17e),'pxVmb':_0x8d0607(0x14f)},_0x4b3bcc=_0xb09be0[_0x8d0607(0xc3)][_0x8d0607(0x173)]('|');let _0x103e21=0x0;while(!![]){switch(_0x4b3bcc[_0x103e21++]){case'0':this['uploadStream']=globalBackend[_0x8d0607(0x183)]()[_0x8d0607(0x195)]()[_0x8d0607(0x106)];continue;case'1':console['log'](_0xb09be0[_0x8d0607(0x163)],this[_0x8d0607(0xdc)]);continue;case'2':this['updateProgress'](_0x8d0607(0x182));continue;case'3':return this[_0x8d0607(0x12a)](this[_0x8d0607(0xd1)]);case'4':if(!this[_0x8d0607(0xdc)])throw new Error(_0xb09be0[_0x8d0607(0xd7)]);continue;}break;}}['doDownloadTo'](_0x367da0){const _0x455400=_0x3f3ebf,_0x5c97a1={'XPKyL':function(_0x824fd5,_0x4e1f1f){return _0x824fd5/_0x4e1f1f;},'CQEBp':'download','QJLGj':function(_0xed52c1,_0x342ab6){return _0xed52c1!==_0x342ab6;},'eUZHg':_0x455400(0x17d),'TonBU':'content-length','NMHFY':'hex','DQoWI':_0x455400(0xe0),'cYFbz':_0x455400(0x176),'QFrSu':_0x455400(0x164),'PEBTL':function(_0x39edb0,_0x21fc60){return _0x39edb0===_0x21fc60;},'zLHst':_0x455400(0x188),'vlKtq':'Protocol\x20not\x20supported:\x20','OoBuz':'sha256','wJzXV':'data'},_0x43d606=_0x1b6b51[_0x455400(0x147)](this[_0x455400(0xdc)]),_0x22db89={'hostname':_0x43d606['hostname'],'port':_0x43d606['port'],'path':_0x43d606[_0x455400(0x18b)]};let _0x34c752;if(_0x5c97a1['PEBTL'](_0x43d606[_0x455400(0x14c)],_0x5c97a1[_0x455400(0xfe)])||_0x5c97a1[_0x455400(0xc0)](_0x43d606[_0x455400(0x14c)],_0x455400(0x116)))_0x34c752=Request['defaults']({'maxRedirects':0x14,'strictSSL':![]});else throw new Error(_0x5c97a1['vlKtq']+_0x43d606[_0x455400(0x14c)]);let _0x214e22=undefined,_0x7bb1e6=0x0;const _0x557603=_0x5a994d[_0x455400(0x15b)](_0x5c97a1[_0x455400(0xe3)]);let _0x141763=![];const _0x495bd1=_[_0x455400(0x177)](this['wrapCallback'](()=>{const _0x37ba0c=_0x455400;!_0x141763&&(_0x214e22?this['updateProgress']('download',_0x5c97a1['XPKyL'](_0x7bb1e6,_0x214e22)):this[_0x37ba0c(0x135)](_0x5c97a1['CQEBp'],_0x7bb1e6));}),0x1f4),_0x3439a8=_0x34c752[_0x455400(0x130)](this[_0x455400(0xdc)]);_0x3439a8['on'](_0x455400(0x191),this[_0x455400(0x13e)](_0x10b9dd=>{const _0x9569ad=_0x455400;_0x5c97a1[_0x9569ad(0x16c)](_0x5c97a1[_0x9569ad(0xd5)],_0x9569ad(0x17d))?_0x2bc720[_0x9569ad(0xbf)]({'_id':_0x91905e},{'$unset':{'shouldCleanup':''}}):_0x5c97a1['TonBU']in _0x10b9dd[_0x9569ad(0x15c)]&&(_0x214e22=parseInt(_0x10b9dd['headers'][_0x9569ad(0x168)]));})),_0x3439a8['on'](_0x5c97a1['wJzXV'],this['wrapCallback'](_0x100c29=>{const _0x4793da=_0x455400;_0x557603[_0x4793da(0xbf)](_0x100c29),_0x367da0[_0x4793da(0xc2)](_0x100c29),_0x7bb1e6+=_0x100c29[_0x4793da(0xe7)],_0x495bd1();})),_0x3439a8['on']('end',this[_0x455400(0x13e)](()=>{const _0x594a2a=_0x455400;_0x367da0[_0x594a2a(0x111)]();if(_0x557603[_0x594a2a(0x15a)](_0x5c97a1[_0x594a2a(0x128)])[_0x594a2a(0xdf)](0x0,0x20)!==this[_0x594a2a(0x145)]){if(_0x5c97a1[_0x594a2a(0x16c)](_0x5c97a1['DQoWI'],_0x5c97a1[_0x594a2a(0x175)]))throw new Error(_0x594a2a(0xea));else _0x3a8ab2['assetId2xDpi']=_0x508829[_0x594a2a(0xe8)]({'mimeType':_0x594a2a(0x12b)},_0x49d618[_0x594a2a(0xe9)]['dpi2x']);}_0x141763=!![],delete this[_0x594a2a(0x118)],this[_0x594a2a(0x135)](_0x5c97a1[_0x594a2a(0xef)]),_0x367da0[_0x594a2a(0x124)](this['packageId'])[_0x594a2a(0x10b)](this[_0x594a2a(0x13e)](_0x26833a=>{const _0x295d79=_0x594a2a;this['appId']=_0x26833a['appId'],this[_0x295d79(0x16b)]=_0x26833a['authorPgpKeyFingerprint'],this['done'](_0x26833a[_0x295d79(0xf1)]);}),this[_0x594a2a(0x13e)](_0x1c9a42=>{throw _0x1c9a42;}));})),_0x3439a8['on'](_0x455400(0xe1),this[_0x455400(0x13e)](_0xaf94e8=>{throw _0xaf94e8;})),this[_0x455400(0x118)]=_0x3439a8;}[_0x3f3ebf(0x111)](_0x3984c5){const _0x5ccdc6=_0x3f3ebf,_0x7c8dee={'GHpHt':function(_0x44a80b,_0x4fc3be){return _0x44a80b(_0x4fc3be);},'kVVKW':function(_0x253c4e,_0x51a069){return _0x253c4e(_0x51a069);},'VUyje':_0x5ccdc6(0x15f)};console[_0x5ccdc6(0xee)](_0x7c8dee[_0x5ccdc6(0xd6)],this[_0x5ccdc6(0x145)]),this['updateProgress']('ready',0x1,undefined,_0x3984c5);const _0x401499=this;_0x401499['writeChain']=_0x401499[_0x5ccdc6(0x166)]['then'](()=>{const _0x2db11b=_0x5ccdc6,_0x622053={'tSNCl':function(_0x51e3a6,_0x5a2ca3){const _0x3fd836=_0xf04a;return _0x7c8dee[_0x3fd836(0xc4)](_0x51e3a6,_0x5a2ca3);},'sODvL':function(_0x2c7a5b,_0xc4e42f){return _0x2c7a5b===_0xc4e42f;},'QSRVU':_0x2db11b(0x158)};return _0x7c8dee[_0x2db11b(0x133)](inMeteor,()=>{const _0xf5759c=_0x2db11b;if(_0x622053[_0xf5759c(0x125)](_0x622053['QSRVU'],'snuWJ'))_0x401499[_0xf5759c(0x167)]&&globalDb[_0xf5759c(0x136)](_0x401499['appId'],_0x401499[_0xf5759c(0x145)],_0x3984c5[_0xf5759c(0xd4)]&&_0x3984c5[_0xf5759c(0xd4)][_0xf5759c(0x141)],_0x3984c5[_0xf5759c(0x120)],_0x3984c5['appMarketingVersion']&&_0x3984c5[_0xf5759c(0x15e)][_0xf5759c(0x141)]),globalDb[_0xf5759c(0xff)](_0x401499['appId'])&&globalDb[_0xf5759c(0xd9)][_0xf5759c(0x149)][_0xf5759c(0xf4)]({'_id':_0x401499[_0xf5759c(0x11b)],'packageId':_0x401499['packageId']})&&globalDb['setPreinstallAppAsReady'](_0x401499['appId'],_0x401499[_0xf5759c(0x145)]);else{const _0x3fee3f=_0xb4cf1b=>{const _0x62a7a5=_0xf5759c;_0xb4cf1b[_0x62a7a5(0x143)]&&_0x28d571['push'](_0xb4cf1b[_0x62a7a5(0x143)]);};if(_0x3cbae7[_0xf5759c(0x161)])_0x622053[_0xf5759c(0x10e)](_0x3fee3f,_0x5d3905[_0xf5759c(0x161)]);if(_0x12e0e3['grain'])_0x3fee3f(_0x206c76[_0xf5759c(0x134)]);}});})[_0x5ccdc6(0x10b)](()=>{const _0x3b88b7=_0x5ccdc6;delete installers[_0x401499[_0x3b88b7(0x145)]];});}},extractManifestAssets=_0x55b70b=>{const _0xf2b48=_0x3f3ebf,_0x343889={'JJcRh':_0xf2b48(0x13a),'eTyqj':_0xf2b48(0x107),'UxsQO':_0xf2b48(0xe9),'zcBhE':_0xf2b48(0x12b),'icvLs':function(_0x367aa9,_0x12d8e2){return _0x367aa9!==_0x12d8e2;},'kyxXD':_0xf2b48(0xda),'OYasy':_0xf2b48(0x18d),'IBDpI':function(_0x49cf9c,_0x51ddc1){return _0x49cf9c(_0x51ddc1);}},_0xe98b72=_0x55b70b[_0xf2b48(0xcb)];if(!_0xe98b72)return;const _0x2cc835=_0xe98b72['icons'];if(_0x2cc835){const _0x39a1dd=_0x44b680=>{const _0x56e7d5=_0xf2b48;if(_0x44b680['svg'])return _0x44b680[_0x56e7d5(0x143)]=globalDb[_0x56e7d5(0xe8)]({'mimeType':_0x343889['JJcRh']},_0x44b680[_0x56e7d5(0x107)]),_0x44b680['format']=_0x343889[_0x56e7d5(0xed)],delete _0x44b680['svg'],!![];else{if(_0x44b680[_0x56e7d5(0xe9)]){const _0x154287=_0x44b680[_0x56e7d5(0xe9)][_0x56e7d5(0x122)]||_0x44b680[_0x56e7d5(0xe9)][_0x56e7d5(0xf3)];if(!_0x154287)return![];return _0x44b680['format']=_0x343889[_0x56e7d5(0xca)],_0x44b680[_0x56e7d5(0x143)]=globalDb[_0x56e7d5(0xe8)]({'mimeType':_0x343889[_0x56e7d5(0xcd)]},_0x154287),_0x44b680[_0x56e7d5(0xe9)][_0x56e7d5(0x122)]&&_0x44b680[_0x56e7d5(0xe9)][_0x56e7d5(0xf3)]&&(_0x343889['icvLs'](_0x343889['kyxXD'],'KIFdZ')?_0x44b680[_0x56e7d5(0x112)]=globalDb[_0x56e7d5(0xe8)]({'mimeType':'image/png'},_0x44b680[_0x56e7d5(0xe9)][_0x56e7d5(0xf3)]):_0x2a959b[_0x56e7d5(0x11b)]?(this['appId']=_0x79721e['appId'],this[_0x56e7d5(0x16b)]=_0x11a157[_0x56e7d5(0x16b)],this[_0x56e7d5(0x111)](_0x43dc49[_0x56e7d5(0xf1)])):this[_0x56e7d5(0x14b)]()),delete _0x44b680['png'],!![];}else return![];}};if(_0x2cc835[_0xf2b48(0x161)]&&!_0x343889[_0xf2b48(0x146)](_0x39a1dd,_0x2cc835['appGrid']))delete _0x2cc835['appGrid'];if(_0x2cc835['grain']&&!_0x39a1dd(_0x2cc835['grain']))delete _0x2cc835['grain'];if(_0x2cc835[_0xf2b48(0xfd)])delete _0x2cc835[_0xf2b48(0xfd)];if(_0x2cc835[_0xf2b48(0x18f)])delete _0x2cc835[_0xf2b48(0x18f)];}const _0x4886b9=_0x398716=>{const _0x82161a=_0xf2b48,_0x3eb189={'NxgQF':_0x82161a(0xec),'GQNCS':_0x343889['OYasy']};_0x398716[_0x82161a(0x141)]&&(_0x398716[_0x82161a(0x11e)]=globalDb['addStaticAsset']({'mimeType':_0x82161a(0x18d)},_0x398716['defaultText']),delete _0x398716[_0x82161a(0x141)]),_0x398716[_0x82161a(0x104)]&&_0x398716[_0x82161a(0x104)][_0x82161a(0x117)](_0x595712=>{const _0x17301b=_0x82161a;_0x595712[_0x17301b(0x109)]&&(_0x3eb189['NxgQF']!==_0x3eb189['NxgQF']?this[_0x17301b(0x14b)]():(_0x595712[_0x17301b(0x143)]=globalDb[_0x17301b(0xe8)]({'mimeType':_0x3eb189['GQNCS']},_0x595712['text']),delete _0x595712['text']));});},_0x2224d0=_0xe98b72[_0xf2b48(0xd8)];if(_0x2224d0){if(_0x2224d0[_0xf2b48(0x103)])_0x2224d0[_0xf2b48(0x103)]=_0x4886b9(_0x2224d0['proprietary']);if(_0x2224d0[_0xf2b48(0xe6)])_0x2224d0[_0xf2b48(0xe6)]=_0x4886b9(_0x2224d0[_0xf2b48(0x103)]);if(_0x2224d0[_0xf2b48(0x170)])_0x2224d0[_0xf2b48(0x170)]=_0x343889['IBDpI'](_0x4886b9,_0x2224d0[_0xf2b48(0x170)]);}const _0x3660c4=_0xe98b72[_0xf2b48(0x10d)];if(_0x3660c4){if(_0x3660c4[_0xf2b48(0x129)])delete _0x3660c4[_0xf2b48(0x129)];}if(_0xe98b72[_0xf2b48(0x169)])delete _0xe98b72['pgpKeyring'];if(_0xe98b72[_0xf2b48(0x157)])_0xe98b72[_0xf2b48(0x157)]=_0x343889[_0xf2b48(0x146)](_0x4886b9,_0xe98b72[_0xf2b48(0x157)]);if(_0xe98b72[_0xf2b48(0x13b)])delete _0xe98b72[_0xf2b48(0x13b)];if(_0xe98b72[_0xf2b48(0xcf)])_0xe98b72['changeLog']=_0x343889[_0xf2b48(0x146)](_0x4886b9,_0xe98b72[_0xf2b48(0xcf)]);},getAllManifestAssets=_0x1f7aeb=>{const _0x5e4ee6=_0x3f3ebf,_0x95e88d={'RqVVh':function(_0x2bf6fb,_0x3dd9dc){return _0x2bf6fb(_0x3dd9dc);},'NVqLf':function(_0x37fd2a,_0x5a5bc4){return _0x37fd2a(_0x5a5bc4);},'tZlwZ':function(_0x178051,_0x9043af){return _0x178051(_0x9043af);},'rbmkL':function(_0x2f833d,_0x1f197a){return _0x2f833d(_0x1f197a);},'sNfBz':function(_0x581015,_0x3e39cd){return _0x581015(_0x3e39cd);}},_0x307535=_0x1f7aeb['metadata'];if(!_0x307535)return[];const _0x1823ef=[],_0x4dd873=_0x307535[_0x5e4ee6(0x101)];if(_0x4dd873){const _0x297fd4=_0x30dab9=>{const _0x477fa2=_0x5e4ee6;_0x30dab9[_0x477fa2(0x143)]&&_0x1823ef['push'](_0x30dab9[_0x477fa2(0x143)]);};if(_0x4dd873[_0x5e4ee6(0x161)])_0x95e88d[_0x5e4ee6(0x154)](_0x297fd4,_0x4dd873[_0x5e4ee6(0x161)]);if(_0x4dd873[_0x5e4ee6(0x134)])_0x95e88d['NVqLf'](_0x297fd4,_0x4dd873['grain']);}const _0x58e254=_0x4cea7f=>{const _0x34de23=_0x5e4ee6,_0x3d2f91={'WWTFU':'failed','RUKBt':_0x34de23(0xce),'efUpt':function(_0x28c8fd,_0x1bdc5d){return _0x28c8fd===_0x1bdc5d;},'rVPSe':function(_0x48ac19,_0x1df3d9){return _0x48ac19!==_0x1df3d9;}};_0x4cea7f['defaultTextAssetId']&&_0x1823ef[_0x34de23(0xe2)](defaultTextAssetId),_0x4cea7f[_0x34de23(0x104)]&&_0x4cea7f[_0x34de23(0x104)][_0x34de23(0x117)](_0x26d292=>{const _0x1bdcff=_0x34de23;if(_0x3d2f91[_0x1bdcff(0xc9)](_0x1bdcff(0x150),'RFHEm')){if(_0x495a48[_0x1bdcff(0xdb)])return;try{return _0x291f93[_0x1bdcff(0x11c)](_0x476b4c,_0x4d9fbc[_0x1bdcff(0x17c)](arguments));}catch(_0x162f78){_0x4d0cef['failed']=!![],_0x1cb70a[_0x1bdcff(0x12f)](),_0x497251[_0x1bdcff(0x135)](_0x3d2f91[_0x1bdcff(0x137)],0x0,_0x162f78),_0x53d562[_0x1bdcff(0x166)]=_0x328aa5[_0x1bdcff(0x166)][_0x1bdcff(0x10b)](()=>{const _0x137df1=_0x1bdcff;delete _0xc45e6c[_0x3c0387[_0x137df1(0x145)]];}),_0x157753['error'](_0x3d2f91[_0x1bdcff(0x11f)],_0x162f78[_0x1bdcff(0xd2)]);}}else{if(_0x26d292['assetId']){if(_0x3d2f91[_0x1bdcff(0x153)](_0x1bdcff(0x174),_0x1bdcff(0x174))){try{this[_0x1bdcff(0x118)]['abort']();}catch(_0x44dd84){}delete this['downloadRequest'];}else _0x1823ef[_0x1bdcff(0xe2)](_0x26d292[_0x1bdcff(0x143)]);}}});},_0x508e10=_0x307535[_0x5e4ee6(0xd8)];if(_0x508e10){if(_0x508e10[_0x5e4ee6(0x103)])_0x95e88d['tZlwZ'](_0x58e254,_0x508e10[_0x5e4ee6(0x103)]);if(_0x508e10[_0x5e4ee6(0xe6)])_0x95e88d[_0x5e4ee6(0x152)](_0x58e254,_0x508e10['publicDomain']);if(_0x508e10[_0x5e4ee6(0x170)])_0x95e88d['sNfBz'](_0x58e254,_0x508e10[_0x5e4ee6(0x170)]);}if(_0x307535['description'])_0x58e254(_0x307535[_0x5e4ee6(0x157)]);if(_0x307535[_0x5e4ee6(0xcf)])_0x58e254(_0x307535[_0x5e4ee6(0xcf)]);return _0x1823ef;};function _0x59bb(){const _0xc91705=['https:','forEach','downloadRequest','FMgef','45rNMTSF','appId','apply','jKAjj','defaultTextAssetId','RUKBt','appVersion','startup','dpi1x','CIrnE','saveAs','sODvL','Canceled','appUpdates.','NMHFY','pgpSignature','doDownloadTo','image/png','ready','progress','YvGVx','cleanup','get','delete','4|1|2|0|3','kVVKW','grain','updateProgress','sendAppUpdateNotifications','WWTFU','ODtCP','lfSoO','image/svg+xml','screenshots','5iucaqg','resolve','wrapCallback','analyze','sha256','defaultText','observe','assetId','NWnYg','packageId','IBDpI','parse','message','appIndex','request','doDownload','protocol','_id','sVrKH','Unknown\x20package\x20ID,\x20and\x20no\x20URL\x20was\x20provided.','WgBiP','QekML','rbmkL','rVPSe','RqVVh','maaXO','data','description','snuWJ','getAppIdForPreinstalledPackage','digest','createHash','headers','Tdhjy','appMarketingVersion','App\x20ready:','536692vPNKDO','appGrid','112055WOpXDw','alXcY','unpack','ValDd','writeChain','isAutoUpdated','content-length','pgpKeyring','hLBbX','authorPgpKeyFingerprint','QJLGj','status','YmSmE','sbBoT','notices','ARfAR','26772AXfkmz','split','fEFsU','cYFbz','cQtmJ','throttle','0|1|2|4|3|5','hex','woAOj','yCYZf','toArray','pjJZD','Downloading\x20app:','WAHLq','YGwSx','8WDFinP','download','cap','replicaNumber','ffuWL','OMzrJ','fTIhk','http:','pfgdZ','abort','path','mFAjH','text/plain','TBrMS','marketBig','bvehp','response','ktnFp','close','9YvGhgG','installPackage','rOEVE','update','PEBTL','rOvmx','write','kvMiV','GHpHt','mFlbN','5488063wWkRbL','updateKeybaseProfileAsync','end','efUpt','UxsQO','metadata','pithn','zcBhE','Failed\x20to\x20install\x20app:','changeLog','sandstorm/package.capnp','uploadStream','stack','remove','appTitle','eUZHg','VUyje','pxVmb','license','collections','jXXaY','failed','url','unrefStaticAsset','BmOIK','slice','xLRrO','error','push','OoBuz','tehzb','RWOER','publicDomain','length','addStaticAsset','png','Package\x20hash\x20did\x20not\x20match.','find','cnhxs','eTyqj','log','QFrSu','start','manifest','PeCTz','dpi2x','findOne','.packageId','settings','HpBDr','JrnaO','LlvwH','QLshA','catch','731390ZJMhfO','market','zLHst','getPackageIdForPreinstalledApp','NxfGQ','icons','435524kwsGXa','proprietary','localizations','require','stream','svg','aPRDh','text','fwCPA','then','QJXod','author','tSNCl','Manifest','3068592eTYjPV','done','assetId2xDpi','6303exwAbu','capnp','PCfWe'];_0x59bb=function(){return _0xc91705;};return _0x59bb();}