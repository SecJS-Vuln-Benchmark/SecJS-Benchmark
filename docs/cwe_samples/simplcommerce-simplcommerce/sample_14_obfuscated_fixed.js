const _0x3a291d=_0x8f08;(function(_0x4c6a5a,_0x34b7b7){const _0xf5f648=_0x8f08,_0x669e46=_0x4c6a5a();while(!![]){try{const _0x3f771f=parseInt(_0xf5f648(0x1d0))/0x1+-parseInt(_0xf5f648(0x1d2))/0x2+parseInt(_0xf5f648(0x1c6))/0x3+-parseInt(_0xf5f648(0x1b6))/0x4*(parseInt(_0xf5f648(0x1c2))/0x5)+parseInt(_0xf5f648(0x1dc))/0x6*(-parseInt(_0xf5f648(0x1b3))/0x7)+parseInt(_0xf5f648(0x1d4))/0x8*(-parseInt(_0xf5f648(0x1ba))/0x9)+parseInt(_0xf5f648(0x1cd))/0xa;if(_0x3f771f===_0x34b7b7)break;else _0x669e46['push'](_0x669e46['shift']());}catch(_0x56c683){_0x669e46['push'](_0x669e46['shift']());}}}(_0x54bb,0xab63f));import'/imports/db-deprecated.js';import{FrontendRefRegistry}from'/imports/server/frontend-ref.js';import{PersistentImpl}from'/imports/server/persistent.js';import{migrateToLatest}from'/imports/server/migrations.js';import{ACCOUNT_DELETION_SUSPENSION_TIME}from'/imports/constants.js';import{onInMeteor}from'/imports/server/async-helpers.js';let url=require(_0x3a291d(0x1dd));const Capnp=require(_0x3a291d(0x1e3));function _0x54bb(){const _0x13c239=['parse','registerPaymentsApi','hostname','registerUiViewQueryHandler','5IdgNxK','Process\x20has\x20allocated\x20more\x20than\x202000\x20concurrent\x20fibers.\x20Due\x20to\x20','frontendRefRegistry','wWYdh','774771SEmqBE','absoluteUrl','bind','setInterval','settings','cleanupClientPowerboxTokens','getWildcardOrigin','30832590qFMAqy','warn','abort','1138368giKoBZ','startup','2762190nIPVOR','LISTENING','569736AjxzGj','concat','queueTask','length','log','unless\x20we\x20restart\x20it.\x20ABORTING','stack','deletePendingAccounts','12aLkztb','url','EBNCG','replica','fibersCreated','replicaNumber','_checkRedirectUrlOrigin','capnp','slice','updateAppIndex','call','mmdhl','There\x20are\x20too\x20many\x20fibers!','GXYZp','runTask','poolSize','periodicCleanup','OoToG','sandstormDb','cleanupSelfDestructing','BlackrockPayments','2697947LKOCdN','apply','Fiber\x20bomb\x20defense\x20enabled.','3655048cMjGDw','error','yJYzk','_SynchronousQueue','90zYnbXr','prototype','cleanupExpiredAssetUploads','substr'];_0x54bb=function(){return _0x13c239;};return _0x54bb();}globalFrontendRefRegistry=new FrontendRefRegistry(),SandstormPowerbox[_0x3a291d(0x1c1)](globalFrontendRefRegistry);global[_0x3a291d(0x1b2)]&&BlackrockPayments[_0x3a291d(0x1bf)]&&Meteor[_0x3a291d(0x1d1)](()=>{const _0x55610b=_0x3a291d;BlackrockPayments[_0x55610b(0x1bf)](globalFrontendRefRegistry,PersistentImpl,unwrapFrontendCap);});getWildcardOrigin=globalDb[_0x3a291d(0x1cc)][_0x3a291d(0x1c8)](globalDb),Meteor['onConnection'](_0x514cfa=>{const _0x418681=_0x3a291d;_0x514cfa[_0x418681(0x1b0)]=globalDb,_0x514cfa[_0x418681(0x1c4)]=globalFrontendRefRegistry;}),SandstormDb[_0x3a291d(0x1ae)](0x5*0x3c*0x3e8,SandstormPermissions[_0x3a291d(0x1b1)](globalDb)),SandstormDb['periodicCleanup'](0xa*0x3c*0x3e8,SandstormPermissions[_0x3a291d(0x1cb)](globalDb)),SandstormDb[_0x3a291d(0x1ae)](0x3c*0x3c*0x3e8,()=>{const _0x7f2c22=_0x3a291d;globalDb[_0x7f2c22(0x1bc)]();}),SandstormDb[_0x3a291d(0x1ae)](0x18*0x3c*0x3c*0x3e8,()=>{const _0x3d2012=_0x3a291d;SandstormAutoupdateApps[_0x3d2012(0x1e5)](globalDb);});const deleteAccount=global[_0x3a291d(0x1b2)]&&global[_0x3a291d(0x1b2)]['deleteAccount'];SandstormDb[_0x3a291d(0x1ae)](0x18*0x3c*0x3c*0x3e8,()=>{const _0x3f2bed=_0x3a291d;globalDb[_0x3f2bed(0x1db)](ACCOUNT_DELETION_SUSPENSION_TIME,globalBackend,deleteAccount);}),Meteor['startup'](()=>{const _0x37fcac=_0x3a291d,_0x46c46e={'yJYzk':function(_0x1042ac,_0x4f7b8b,_0x4fac4d){return _0x1042ac(_0x4f7b8b,_0x4fac4d);}};_0x46c46e[_0x37fcac(0x1b8)](migrateToLatest,globalDb,globalBackend);});if('replicaNumber'in Meteor['settings']){const prefix=_0x3a291d(0x1df)+Meteor['settings'][_0x3a291d(0x1e1)]['toString']()+':';function patchConsole(_0x29ef65){const _0x4f6604={'GXYZp':function(_0x3e3d31,_0x22ef31){return _0x3e3d31==_0x22ef31;}},_0x1d771f=console[_0x29ef65];console[_0x29ef65]=function(){const _0x2372b8=_0x8f08;arguments[_0x2372b8(0x1d7)]==0x1&&_0x4f6604[_0x2372b8(0x1e9)](arguments[0x0],_0x2372b8(0x1d3))?_0x1d771f['apply'](this,arguments):_0x1d771f['apply'](this,[prefix][_0x2372b8(0x1d5)](Array[_0x2372b8(0x1bb)][_0x2372b8(0x1e4)][_0x2372b8(0x1e6)](arguments)));};}patchConsole(_0x3a291d(0x1d8)),patchConsole('info'),patchConsole(_0x3a291d(0x1ce)),patchConsole(_0x3a291d(0x1b7));}import _0x949e3b from'fibers';_0x949e3b[_0x3a291d(0x1eb)]=0x3b9aca00;if(_0x3a291d(0x1e1)in Meteor[_0x3a291d(0x1ca)]){console[_0x3a291d(0x1ce)](_0x3a291d(0x1b5)),setInterval(()=>{const _0x4149f9=_0x3a291d,_0x187989={'EBNCG':function(_0x3ed1bd,_0x16edb1){return _0x3ed1bd+_0x16edb1;},'wWYdh':_0x4149f9(0x1d9)};_0x949e3b[_0x4149f9(0x1e0)]>0x7d0&&(console[_0x4149f9(0x1b7)](_0x187989['EBNCG'](_0x187989[_0x4149f9(0x1de)](_0x4149f9(0x1c3),'https://bugs.chromium.org/p/v8/issues/detail?id=5338\x20it\x20will\x20become\x20extremely\x20slow\x20'),_0x187989[_0x4149f9(0x1c5)])),process[_0x4149f9(0x1cf)]());},0x1388);const TOO_MANY_FIBERS=0x3e8,FIBER_SAMPLING_PERIOD=0x64;let sampleCounter=0x0;function sampleStackIfTooManyFibers(){const _0x21ef46=_0x3a291d,_0x17add0={'mmdhl':function(_0x3d904f,_0x1fe632){return _0x3d904f==_0x1fe632;}};if(_0x949e3b[_0x21ef46(0x1e0)]>TOO_MANY_FIBERS&&_0x17add0[_0x21ef46(0x1e7)](sampleCounter++%FIBER_SAMPLING_PERIOD,0x0)){const _0x501788=new Error()[_0x21ef46(0x1da)];console[_0x21ef46(0x1ce)](_0x21ef46(0x1e8),_0x501788);}}onInMeteor(sampleStackIfTooManyFibers);function addFiberSampling(_0x5d2d44,_0x34e9d0){const _0x487aa9=_0x5d2d44[_0x34e9d0];_0x5d2d44[_0x34e9d0]=function(){const _0x539aed=_0x8f08;return sampleStackIfTooManyFibers(),_0x487aa9[_0x539aed(0x1b4)](this,arguments);};}addFiberSampling(Meteor['_SynchronousQueue']['prototype'],_0x3a291d(0x1ea)),addFiberSampling(Meteor[_0x3a291d(0x1b9)][_0x3a291d(0x1bb)],_0x3a291d(0x1d6)),addFiberSampling(Meteor,'bindEnvironment');}function _0x8f08(_0x43a058,_0x2e49ee){const _0x54bb1b=_0x54bb();return _0x8f08=function(_0x8f08eb,_0x297b24){_0x8f08eb=_0x8f08eb-0x1ae;let _0x758345=_0x54bb1b[_0x8f08eb];return _0x758345;},_0x8f08(_0x43a058,_0x2e49ee);}_0x3a291d(0x1e1)in Meteor[_0x3a291d(0x1ca)]&&Meteor[_0x3a291d(0x1c9)](Capnp['dumpLocalCapTypeCounts'],0xea60);OAuth[_0x3a291d(0x1e2)]=function(_0x3197d0){const _0x3cdece=_0x3a291d,_0x234190={'OoToG':function(_0x55294d,_0x4ca982){return _0x55294d===_0x4ca982;}};let _0x4d575e=Meteor[_0x3cdece(0x1c7)](),_0x5a88cf=Meteor[_0x3cdece(0x1c7)](undefined,{'replaceLocalhost':!![]});const _0x31d1ea=url[_0x3cdece(0x1be)](_0x3197d0);return!(_0x3197d0[_0x3cdece(0x1bd)](0x0,_0x4d575e[_0x3cdece(0x1d7)])===_0x4d575e||_0x234190[_0x3cdece(0x1af)](_0x3197d0[_0x3cdece(0x1bd)](0x0,_0x5a88cf[_0x3cdece(0x1d7)]),_0x5a88cf)||globalDb['hostIsStandalone'](_0x31d1ea[_0x3cdece(0x1c0)]));};