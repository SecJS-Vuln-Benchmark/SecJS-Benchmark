var _0xa9f5d=_0x1b43;function _0x1b43(_0x317df4,_0x32b6ca){var _0x141a38=_0x141a();return _0x1b43=function(_0x1b43cd,_0x50608c){_0x1b43cd=_0x1b43cd-0xcf;var _0x25c82e=_0x141a38[_0x1b43cd];return _0x25c82e;},_0x1b43(_0x317df4,_0x32b6ca);}(function(_0xb8a915,_0x18af39){var _0x2a8704=_0x1b43,_0x33691f=_0xb8a915();while(!![]){try{var _0x1d0c6=parseInt(_0x2a8704(0x12c))/0x1*(-parseInt(_0x2a8704(0x189))/0x2)+parseInt(_0x2a8704(0x200))/0x3+-parseInt(_0x2a8704(0x15e))/0x4+-parseInt(_0x2a8704(0x171))/0x5+-parseInt(_0x2a8704(0x205))/0x6+-parseInt(_0x2a8704(0x20e))/0x7*(-parseInt(_0x2a8704(0x16b))/0x8)+-parseInt(_0x2a8704(0x1e5))/0x9*(-parseInt(_0x2a8704(0xf1))/0xa);if(_0x1d0c6===_0x18af39)break;else _0x33691f['push'](_0x33691f['shift']());}catch(_0x47a48a){_0x33691f['push'](_0x33691f['shift']());}}}(_0x141a,0x74291));var assert=require(_0xa9f5d(0x221));describe(_0xa9f5d(0x210),function(){var _0x3a286a=_0xa9f5d,_0x41c33f={'rKtDX':function(_0x2d6b26,_0x203b71){return _0x2d6b26(_0x203b71);},'AHgXF':'<div><p>Hello\x20<b>there</b></p></div>','hZoVG':function(_0x2f4d82,_0x47b4b5,_0x5b6189){return _0x2f4d82(_0x47b4b5,_0x5b6189);},'PjHQR':_0x3a286a(0x201),'TTZzI':_0x3a286a(0x1f9),'yOspr':'<div>Hello</div>','pZPgm':function(_0x26f2a6,_0x5dd6bb,_0x87a4a9){return _0x26f2a6(_0x5dd6bb,_0x87a4a9);},'yrmFo':_0x3a286a(0x1c9),'aWxMy':'blue','NVsjM':_0x3a286a(0x146),'MgggZ':function(_0x443694,_0x301f20){return _0x443694!==_0x301f20;},'KZHnk':_0x3a286a(0x1a6),'zCUZf':_0x3a286a(0x157),'DZneE':'<a\x20href=\x22foo.html\x22>foo</a>','Fyaeq':function(_0x1cadb0,_0x386d72,_0x1a5d74){return _0x1cadb0(_0x386d72,_0x1a5d74);},'PGBSN':_0x3a286a(0x19d),'XwaFK':'whizbang','AWcYS':function(_0x525c4e,_0x3851a1){return _0x525c4e===_0x3851a1;},'Smxzp':_0x3a286a(0x11c),'GewvM':'<img\x20src=\x22foo.jpg\x22><p>Whee<p>Again<p>Wow<b>cool</b>','jvITH':_0x3a286a(0x1c2),'tVQzs':_0x3a286a(0x1eb),'OYASA':_0x3a286a(0x1a7),'sSezj':_0x3a286a(0x1c8),'vMkyS':function(_0x4859e5,_0x1cba11){return _0x4859e5(_0x1cba11);},'UAMJy':_0x3a286a(0x133),'Wvyja':_0x3a286a(0x115),'yziqk':_0x3a286a(0x1ca),'GvmBo':_0x3a286a(0xff),'HClSR':_0x3a286a(0x13c),'iqjPs':_0x3a286a(0x1f3),'HZnTk':function(_0x285b9d,_0x21daa3,_0x17a1e7){return _0x285b9d(_0x21daa3,_0x17a1e7);},'VuozY':'<a\x20name=\x22&lt;silly&gt;\x22>&lt;Kapow!&gt;</a>','vCFzC':function(_0x5ce702,_0x671560){return _0x5ce702(_0x671560);},'UOGBH':function(_0x2ee546,_0x3572b1){return _0x2ee546(_0x3572b1);},'CUrnl':'<a\x20href=\x22JAVASCRIPT:alert(\x27foo\x27)\x22>Hax</a>','VorYN':'<a>Hax</a>','zAPgx':_0x3a286a(0x181),'PZImK':'<a\x20href=\x22awesome.html#this:stuff\x22>Hi</a>','MlgPy':_0x3a286a(0x132),'tUiIh':_0x3a286a(0x13f),'vgMNp':function(_0x2b71e3,_0x41457c){return _0x2b71e3(_0x41457c);},'rGEHJ':function(_0x28a435,_0x496343){return _0x28a435(_0x496343);},'wlEHu':function(_0x7e76bd,_0x3555e1){return _0x7e76bd===_0x3555e1;},'HpyIA':_0x3a286a(0x12b),'Amreb':_0x3a286a(0xdc),'dZqER':_0x3a286a(0x1ad),'GbncA':_0x3a286a(0x17c),'PWKkv':_0x3a286a(0x129),'xOXQW':'<ul\x20foo=\x22foo\x22\x20bar=\x22bar\x22\x20class=\x22foo\x22><li>Hello\x20world</li></ul>','YBjjt':'bar','utbQW':'<a\x20href=\x22http://somelink\x22>some\x20text</a>','LRgMf':_0x3a286a(0x128),'Nfbkt':function(_0x281d4b,_0x2e5f76,_0x3c2e80){return _0x281d4b(_0x2e5f76,_0x3c2e80);},'dQCgk':_0x3a286a(0xfc),'NyhjY':function(_0x2fd269,_0x22fe14,_0x38bee9){return _0x2fd269(_0x22fe14,_0x38bee9);},'iseaX':function(_0x512067,_0x32febd){return _0x512067===_0x32febd;},'gaMHZ':_0x3a286a(0x165),'pnoBq':'<p>This\x20is\x20<a\x20href=\x22http://www.linux.org\x22></a><br/>Linux</p>','YHtvg':_0x3a286a(0x1fe),'aHztN':function(_0x246e25,_0x24eb0f){return _0x246e25===_0x24eb0f;},'VJOdb':function(_0x3a82d8,_0x537594){return _0x3a82d8===_0x537594;},'WNReF':_0x3a286a(0x1b7),'IIooN':_0x3a286a(0x13b),'UBQnK':_0x3a286a(0xfb),'WaGea':function(_0x148d33,_0x5b4442,_0xf29f69){return _0x148d33(_0x5b4442,_0xf29f69);},'AAeTK':_0x3a286a(0x1a2),'zMNWY':function(_0x5689de,_0x3e9079,_0x50bc32){return _0x5689de(_0x3e9079,_0x50bc32);},'XQJzW':_0x3a286a(0xd0),'cUsEe':function(_0x4e1919,_0x3fb354,_0x407a8f){return _0x4e1919(_0x3fb354,_0x407a8f);},'YDLUg':'nifty','zVvkX':_0x3a286a(0xe5),'ZbsaY':_0x3a286a(0x15f),'MOSDt':'data','aPQWU':_0x3a286a(0x134),'clJum':_0x3a286a(0x1d9),'Bjsad':_0x3a286a(0x11d),'UhfJC':function(_0x5d5bb9,_0xa15d0b,_0x582aa0){return _0x5d5bb9(_0xa15d0b,_0x582aa0);},'fUrVH':_0x3a286a(0x169),'aAkBG':_0x3a286a(0xfa),'USTHo':'<table\x20bgcolor=\x221\x22\x20align=\x22left\x22\x20notlisted=\x220\x22><img\x20src=\x221.gif\x22\x20align=\x22center\x22\x20alt=\x22not\x20listed\x20too\x22/></table>','PcMpm':_0x3a286a(0x17d),'qWzpI':'_blank','bMWmG':function(_0x44b241,_0x4d84af,_0x41d75c){return _0x44b241(_0x4d84af,_0x41d75c);},'yVPKP':_0x3a286a(0x13e),'PrmVZ':'target','NtfZe':_0x3a286a(0x19c),'majaW':'<a\x20href=\x22test.html\x22>blah</a>','XxrUk':'oigFZ','GwxDD':function(_0x20d0e2,_0x3421df,_0x27eb95){return _0x20d0e2(_0x3421df,_0x27eb95);},'zrToC':'foo','dGppt':'wPiry','OTeXI':function(_0x392172,_0x3607ba,_0x34c433){return _0x392172(_0x3607ba,_0x34c433);},'LmPoo':_0x3a286a(0x155),'mCcJQ':_0x3a286a(0x15c),'MJBAv':function(_0xcfb620,_0x233a82){return _0xcfb620(_0x233a82);},'fpmka':_0x3a286a(0x1ac),'gpbGe':_0x3a286a(0xf6),'dTiSP':_0x3a286a(0x1bf),'IBrhc':_0x3a286a(0x1fd),'eDDvH':_0x3a286a(0x140),'nrztw':_0x3a286a(0x145),'cqcXF':_0x3a286a(0x1bd),'DOrmo':_0x3a286a(0x14b),'gxmRc':'<a\x20data-b.c=\x22#test\x22>click\x20me</a>','NcHOb':_0x3a286a(0x1ff),'ZvDTP':_0x3a286a(0x121),'bBkzE':_0x3a286a(0xd2),'axwtZ':function(_0x2ef2a3,_0x154133,_0x4dec05){return _0x2ef2a3(_0x154133,_0x4dec05);},'fXcTR':_0x3a286a(0x1c0),'uTwCJ':_0x3a286a(0xfe),'nAeYc':function(_0x4e8253,_0x5c2378,_0x52018a){return _0x4e8253(_0x5c2378,_0x52018a);},'FtLAb':_0x3a286a(0x220),'VLbvL':_0x3a286a(0x138),'NJzQd':function(_0x353e66,_0x5c01a7,_0x522bea){return _0x353e66(_0x5c01a7,_0x522bea);},'HdvAH':_0x3a286a(0x107),'NJjHg':_0x3a286a(0x1d1),'rJbUI':_0x3a286a(0x11e),'pWoGi':'should\x20reject\x20markup\x20not\x20whitelisted\x20without\x20destroying\x20its\x20text','XAicY':function(_0x49661e,_0x481c10,_0x3caa71){return _0x49661e(_0x481c10,_0x3caa71);},'oZXyl':'should\x20reject\x20attributes\x20not\x20whitelisted','fJQHN':_0x3a286a(0x106),'LnPbG':function(_0xe6b6ae,_0x5e4a05,_0x58aa75){return _0xe6b6ae(_0x5e4a05,_0x58aa75);},'YSopT':_0x3a286a(0x167),'ApKqk':'should\x20cope\x20identically\x20with\x20capitalized\x20attributes\x20and\x20tags\x20and\x20should\x20tolerate\x20capitalized\x20schemes','mbheb':function(_0x49ba58,_0x5c56b1,_0x2d9fbf){return _0x49ba58(_0x5c56b1,_0x2d9fbf);},'yXUee':_0x3a286a(0x1f4),'CTXUt':function(_0x1cdec0,_0x446747,_0x26c3e1){return _0x1cdec0(_0x446747,_0x26c3e1);},'KeDSL':_0x3a286a(0x130),'ThaEp':function(_0x2322c6,_0x2250ec,_0x408021){return _0x2322c6(_0x2250ec,_0x408021);},'rGqUE':_0x3a286a(0x203),'uwDMx':function(_0x40b5a2,_0x3a9da5,_0x8bc6f0){return _0x40b5a2(_0x3a9da5,_0x8bc6f0);},'PkriO':function(_0x1f5496,_0x5eb49b,_0x3b63da){return _0x1f5496(_0x5eb49b,_0x3b63da);},'TPBwd':'should\x20preserve\x20entities\x20as\x20such','WZJwB':'should\x20dump\x20comments','kvIYW':function(_0x521f47,_0x34ebe5,_0x232773){return _0x521f47(_0x34ebe5,_0x232773);},'HeyTV':_0x3a286a(0xe7),'iHBhX':function(_0x5ef456,_0xb13599,_0x30bf90){return _0x5ef456(_0xb13599,_0x30bf90);},'XCgav':function(_0x594874,_0x36f365,_0xc136e7){return _0x594874(_0x36f365,_0xc136e7);},'XQlAs':_0x3a286a(0x184),'WmwRk':function(_0x2752c5,_0x38846c,_0x3c8661){return _0x2752c5(_0x38846c,_0x3c8661);},'DYbas':_0x3a286a(0x1f6),'eFCXd':function(_0x131991,_0x38252e,_0x316102){return _0x131991(_0x38252e,_0x316102);},'Gkfdn':'should\x20replace\x20ol\x20to\x20ul\x20and\x20add\x20class\x20attribute\x20with\x20foo\x20value','DZdgM':_0x3a286a(0x122),'UsWTh':_0x3a286a(0x19a),'dgDOC':function(_0x57b54b,_0x4e7140,_0x326369){return _0x57b54b(_0x4e7140,_0x326369);},'foJxG':_0x3a286a(0x11b),'tCzuO':_0x3a286a(0x217),'YmRPz':_0x3a286a(0x113),'FOfNe':_0x3a286a(0x10c),'JlhXT':_0x3a286a(0x1f5),'rLclw':function(_0x507f83,_0xe90bc7,_0x308209){return _0x507f83(_0xe90bc7,_0x308209);},'muoDJ':function(_0x55d311,_0x326fdc,_0x3e1f8c){return _0x55d311(_0x326fdc,_0x3e1f8c);},'UmZNR':_0x3a286a(0x126),'rjtXX':function(_0x3b6941,_0x3e195c,_0x557669){return _0x3b6941(_0x3e195c,_0x557669);},'PhWty':_0x3a286a(0x154),'maVOH':function(_0x3f5819,_0x5a98d0,_0x5c8b0b){return _0x3f5819(_0x5a98d0,_0x5c8b0b);},'fsncB':_0x3a286a(0x209),'ZPdNQ':'should\x20allow\x20only\x20whitelisted\x20attributes,\x20but\x20to\x20any\x20tags,\x20if\x20tag\x20is\x20declared\x20as\x20\x20\x22*\x22','aGlEM':_0x3a286a(0x1f0),'YaxAc':function(_0x4bc358,_0x2f9f2e,_0x5e2512){return _0x4bc358(_0x2f9f2e,_0x5e2512);},'RjMcy':_0x3a286a(0x161),'mdrvC':function(_0x29dbba,_0x37a65e,_0x20a345){return _0x29dbba(_0x37a65e,_0x20a345);},'zLHXZ':_0x3a286a(0x1af),'XiXFt':function(_0x304b31,_0x2a7b31,_0x2f8235){return _0x304b31(_0x2a7b31,_0x2f8235);},'lZNFf':'should\x20process\x20text\x20nodes\x20with\x20provided\x20function'},_0x304ecf;_0x41c33f[_0x3a286a(0x1ae)](it,_0x41c33f[_0x3a286a(0x101)],function(){var _0x353200=_0x3a286a;_0x304ecf=_0x41c33f[_0x353200(0x166)](require,_0x353200(0x1b4));}),_0x41c33f[_0x3a286a(0x10f)](it,_0x3a286a(0x173),function(){var _0x5a2b3c=_0x3a286a;assert[_0x5a2b3c(0x1cd)](_0x41c33f[_0x5a2b3c(0x166)](_0x304ecf,_0x41c33f['AHgXF']),'<div><p>Hello\x20<b>there</b></p></div>');}),_0x41c33f[_0x3a286a(0x1f7)](it,_0x41c33f[_0x3a286a(0x21d)],function(){var _0x354119=_0x3a286a,_0x1711b0={'Rnkcb':function(_0x1e9863,_0x2739f2,_0x25fb72){var _0x1ed7a4=_0x1b43;return _0x41c33f[_0x1ed7a4(0x185)](_0x1e9863,_0x2739f2,_0x25fb72);}};if(_0x354119(0x16e)==='icuIj')assert['equal'](_0x41c33f['hZoVG'](_0x304ecf,'<div><wiggly\x20worms=\x22ewww\x22>hello</wiggly></div>',{'allowedTags':![],'allowedAttributes':![]}),_0x41c33f['PjHQR']);else{var _0xa8bd9b={'iWtuE':function(_0x95ac87,_0x254be1){return _0x95ac87===_0x254be1;}};_0xa2b31c[_0x354119(0x196)](_0x1711b0[_0x354119(0x1b1)](_0x123cf0,_0x354119(0x13b),{'exclusiveFilter':function(_0x3aac50){var _0x5f40aa=_0x354119;return(_0x3aac50[_0x5f40aa(0x1c7)]==='a'||_0xa8bd9b[_0x5f40aa(0x172)](_0x3aac50[_0x5f40aa(0x1c7)],'p'))&&!_0x3aac50['text'][_0x5f40aa(0x21f)]();}}),'');}}),it(_0x41c33f[_0x3a286a(0x1da)],function(){var _0x1df3f9=_0x3a286a;assert[_0x1df3f9(0x1cd)](_0x41c33f['rKtDX'](_0x304ecf,_0x41c33f['TTZzI']),_0x1df3f9(0x1f9));}),it(_0x41c33f[_0x3a286a(0x1b2)],function(){var _0x301b62=_0x3a286a;assert[_0x301b62(0x1cd)](_0x304ecf(_0x301b62(0xe2)),_0x41c33f['yOspr']);}),_0x41c33f['XAicY'](it,_0x3a286a(0x142),function(){var _0x3b46ff=_0x3a286a;assert[_0x3b46ff(0x1cd)](_0x41c33f['pZPgm'](_0x304ecf,_0x41c33f[_0x3b46ff(0x21b)],{'allowedTags':[_0x41c33f[_0x3b46ff(0x10e)],_0x41c33f['NVsjM']]}),_0x3b46ff(0x1cb));}),it(_0x41c33f[_0x3a286a(0x152)],function(){var _0x5e2198=_0x3a286a;_0x41c33f[_0x5e2198(0x1d7)]('RmbQw',_0x41c33f[_0x5e2198(0x20b)])?_0x188ea2=_0x445a9f('../index.js'):assert[_0x5e2198(0x1cd)](_0x41c33f[_0x5e2198(0x166)](_0x304ecf,_0x41c33f[_0x5e2198(0x153)]),_0x41c33f['DZneE']);}),it('should\x20accept\x20a\x20custom\x20list\x20of\x20allowed\x20attributes\x20per\x20element',function(){var _0x5e1b88=_0x3a286a;assert['equal'](_0x41c33f['Fyaeq'](_0x304ecf,_0x41c33f[_0x5e1b88(0x153)],{'allowedAttributes':{'a':[_0x41c33f[_0x5e1b88(0x1df)],_0x41c33f[_0x5e1b88(0x102)]]}}),_0x41c33f[_0x5e1b88(0x153)]);}),_0x41c33f[_0x3a286a(0xf2)](it,_0x41c33f['fJQHN'],function(){var _0x521d23=_0x3a286a;_0x41c33f[_0x521d23(0x190)]('gFkqs',_0x41c33f[_0x521d23(0x180)])?assert[_0x521d23(0x1cd)](_0x304ecf(_0x41c33f[_0x521d23(0x1a4)],{'allowedTags':_0x304ecf[_0x521d23(0x18b)][_0x521d23(0x162)]['concat']([_0x41c33f[_0x521d23(0x1d4)]])}),_0x41c33f[_0x521d23(0xef)]):_0x1a284d[_0x521d23(0x1cd)](_0x4c5c07(_0x521d23(0xd6)),_0x521d23(0xd6));}),_0x41c33f['LnPbG'](it,_0x41c33f[_0x3a286a(0x1ea)],function(){var _0x4246d7=_0x3a286a;assert[_0x4246d7(0x1cd)](_0x304ecf(_0x4246d7(0x111)),_0x4246d7(0x123));}),it(_0x41c33f[_0x3a286a(0xdf)],function(){var _0x2d0154=_0x3a286a;assert[_0x2d0154(0x1cd)](_0x304ecf(_0x41c33f[_0x2d0154(0x151)]),_0x41c33f[_0x2d0154(0x135)]);}),_0x41c33f[_0x3a286a(0xd7)](it,_0x41c33f[_0x3a286a(0x1ce)],function(){var _0x37a5a0=_0x3a286a;assert[_0x37a5a0(0x1cd)](_0x304ecf(_0x37a5a0(0xf7)),_0x37a5a0(0x115));}),it('should\x20drop\x20the\x20content\x20of\x20style\x20elements',function(){var _0x556c6b=_0x3a286a;assert[_0x556c6b(0x1cd)](_0x41c33f[_0x556c6b(0x16a)](_0x304ecf,_0x41c33f[_0x556c6b(0x179)]),_0x41c33f[_0x556c6b(0x214)]);}),_0x41c33f[_0x3a286a(0x21e)](it,_0x41c33f[_0x3a286a(0x222)],function(){var _0x1200e5=_0x3a286a;assert[_0x1200e5(0x1cd)](_0x41c33f[_0x1200e5(0x166)](_0x304ecf,_0x1200e5(0x12d)),_0x1200e5(0x115));}),_0x41c33f[_0x3a286a(0x15d)](it,'should\x20drop\x20the\x20content\x20of\x20textarea\x20elements\x20but\x20keep\x20the\x20closing\x20parent\x20tag,\x20when\x20nested',function(){var _0x5cb933=_0x3a286a;assert[_0x5cb933(0x1cd)](_0x41c33f[_0x5cb933(0x16a)](_0x304ecf,_0x41c33f[_0x5cb933(0x164)]),'<p>Paragraph</p>');}),it(_0x41c33f['rGqUE'],function(){var _0x1bc759=_0x3a286a;assert[_0x1bc759(0x1cd)](_0x304ecf(_0x1bc759(0xff)),_0x1bc759(0x150));}),it(_0x3a286a(0x1a0),function(){var _0x57344a=_0x3a286a;assert[_0x57344a(0x1cd)](_0x41c33f[_0x57344a(0x1f7)](_0x304ecf,_0x41c33f[_0x57344a(0x1cc)],{'nonTextTags':[_0x41c33f[_0x57344a(0x1d3)]]}),_0x57344a(0x115));}),_0x41c33f['uwDMx'](it,'should\x20retain\x20allowed\x20tags\x20within\x20a\x20fibble\x20element\x20if\x20fibble\x20is\x20not\x20specified\x20for\x20nonTextTags',function(){var _0xc6ebb0=_0x3a286a;assert['equal'](_0x304ecf(_0xc6ebb0(0x1c4),{}),_0x41c33f[_0xc6ebb0(0x197)]);}),_0x41c33f[_0x3a286a(0x186)](it,_0x3a286a(0xcf),function(){var _0x376924=_0x3a286a;assert[_0x376924(0x1cd)](_0x41c33f[_0x376924(0x14a)](_0x304ecf,'<fibble>Ni<em>f</em>ty</fibble><p>Paragraph</p>',{'nonTextTags':[_0x41c33f['HClSR']]}),_0x41c33f[_0x376924(0x214)]);}),it(_0x3a286a(0x1c3),function(){var _0x46144b=_0x3a286a;assert[_0x46144b(0x1cd)](_0x304ecf('<textarea>Nifty</textarea><p>Paragraph</p>',{'allowedTags':[_0x46144b(0xea),'p']}),_0x46144b(0x12d));}),it(_0x41c33f[_0x3a286a(0x12f)],function(){var _0x388eae=_0x3a286a;assert[_0x388eae(0x1cd)](_0x304ecf(_0x41c33f[_0x388eae(0x17e)]),_0x41c33f['VuozY']);}),it(_0x41c33f['WZJwB'],function(){var _0x1ba14e=_0x3a286a;assert[_0x1ba14e(0x1cd)](_0x41c33f['vCFzC'](_0x304ecf,_0x1ba14e(0x16f)),_0x1ba14e(0x116));}),it(_0x3a286a(0x20a),function(){var _0x1caf62=_0x3a286a;assert['equal'](_0x41c33f[_0x1caf62(0x166)](_0x304ecf,_0x1caf62(0xd5)),_0x1caf62(0xf0));}),_0x41c33f[_0x3a286a(0xe6)](it,_0x41c33f[_0x3a286a(0x100)],function(){var _0x32d8a7=_0x3a286a;assert['equal'](_0x41c33f[_0x32d8a7(0xd1)](_0x304ecf,_0x41c33f['CUrnl']),_0x41c33f[_0x32d8a7(0x14d)]);}),it('should\x20dump\x20a\x20javascript\x20URL\x20with\x20a\x20comment\x20in\x20the\x20middle\x20(probably\x20only\x20respected\x20by\x20browsers\x20in\x20XML\x20data\x20islands,\x20but\x20just\x20in\x20case\x20someone\x20enables\x20those)',function(){var _0x1c84eb=_0x3a286a;assert[_0x1c84eb(0x1cd)](_0x304ecf(_0x41c33f[_0x1c84eb(0x112)]),_0x41c33f[_0x1c84eb(0x14d)]);}),it(_0x3a286a(0x13d),function(){var _0x302108=_0x3a286a;assert['equal'](_0x41c33f[_0x302108(0x16a)](_0x304ecf,_0x302108(0x1f8)),_0x41c33f[_0x302108(0x1e8)]);}),_0x41c33f[_0x3a286a(0x18c)](it,_0x3a286a(0x159),function(){var _0x56a714=_0x3a286a;assert['equal'](_0x41c33f[_0x56a714(0x1c6)](_0x304ecf,_0x41c33f[_0x56a714(0x1ef)]),_0x41c33f[_0x56a714(0x14d)]);}),_0x41c33f[_0x3a286a(0x183)](it,_0x41c33f[_0x3a286a(0x15b)],function(){var _0x2e15f9=_0x3a286a;assert[_0x2e15f9(0x1cd)](_0x304ecf(_0x41c33f[_0x2e15f9(0x148)]),_0x2e15f9(0xf0)),assert[_0x2e15f9(0x1cd)](_0x41c33f[_0x2e15f9(0x149)](_0x304ecf,_0x2e15f9(0x117)),_0x2e15f9(0xe3));}),_0x41c33f[_0x3a286a(0x163)](it,_0x41c33f[_0x3a286a(0x168)],function(){var _0x134374=_0x3a286a,_0x3e5dcf={'HfVai':function(_0x2c96bc,_0xc3560e){var _0x4f36c7=_0x1b43;return _0x41c33f[_0x4f36c7(0x10a)](_0x2c96bc,_0xc3560e);},'kDwwn':_0x134374(0x12d)};_0x41c33f[_0x134374(0x208)](_0x41c33f[_0x134374(0x139)],_0x41c33f[_0x134374(0x1b5)])?_0x133605[_0x134374(0x1cd)](_0x3e5dcf[_0x134374(0x182)](_0x261db5,_0x3e5dcf[_0x134374(0x202)]),_0x134374(0x115)):assert[_0x134374(0x1cd)](_0x41c33f['vCFzC'](_0x304ecf,'<a\x20href=\x22http://google.com/\x22>Hi</a>'),_0x134374(0x1a9));}),_0x41c33f[_0x3a286a(0xe1)](it,'should\x20still\x20like\x20nice\x20relative\x20URLs',function(){var _0x593580=_0x3a286a;assert['equal'](_0x304ecf(_0x593580(0xd6)),_0x593580(0xd6));}),_0x41c33f['kvIYW'](it,'should\x20replace\x20ol\x20to\x20ul',function(){var _0x2e28cf=_0x3a286a;assert['equal'](_0x304ecf(_0x41c33f[_0x2e28cf(0x187)],{'transformTags':{'ol':'ul'}}),_0x2e28cf(0x1e2));}),it(_0x41c33f['Gkfdn'],function(){var _0x13ab7f=_0x3a286a;assert['equal'](_0x41c33f[_0x13ab7f(0x185)](_0x304ecf,'<ol><li>Hello\x20world</li></ol>',{'transformTags':{'ol':_0x304ecf[_0x13ab7f(0x11a)]('ul',{'class':_0x13ab7f(0x191)})},'allowedAttributes':{'ul':[_0x13ab7f(0x129)]}}),_0x13ab7f(0xd8));}),_0x41c33f[_0x3a286a(0xd7)](it,_0x41c33f[_0x3a286a(0x136)],function(){var _0x25c071=_0x3a286a;assert['equal'](_0x304ecf(_0x41c33f[_0x25c071(0x1c5)],{'transformTags':{'ol':_0x304ecf[_0x25c071(0x11a)]('ul',{'class':'foo'})},'allowedAttributes':{'ul':[_0x25c071(0x191),_0x25c071(0x1b8),_0x41c33f[_0x25c071(0x1bc)]]}}),_0x41c33f['xOXQW']);}),_0x41c33f['axwtZ'](it,_0x3a286a(0x141),function(){var _0x502f67=_0x3a286a;assert['equal'](_0x41c33f['pZPgm'](_0x304ecf,_0x502f67(0x17c),{'transformTags':{'ol':_0x304ecf['simpleTransform']('ul',{'class':'foo'},![])},'allowedAttributes':{'ul':[_0x502f67(0x191),_0x41c33f['YBjjt'],_0x41c33f[_0x502f67(0x1bc)]]}}),'<ul\x20class=\x22foo\x22><li>Hello\x20world</li></ul>');}),it(_0x3a286a(0x1d8),function(){var _0x162cd1=_0x3a286a,_0x1fdde4={'rbeOx':_0x162cd1(0x191)};assert['equal'](_0x41c33f['hZoVG'](_0x304ecf,_0x162cd1(0x1ad),{'transformTags':{'ol':function(_0x2fc48a,_0x1903bc){var _0x34adce=_0x162cd1;return _0x1903bc['class']=_0x1fdde4[_0x34adce(0xee)],_0x1903bc[_0x34adce(0x1b8)]=_0x34adce(0x1b8),{'tagName':'ul','attribs':_0x1903bc};}},'allowedAttributes':{'ul':[_0x162cd1(0x1b8),_0x162cd1(0x129)]}}),_0x162cd1(0xe0));}),it(_0x41c33f[_0x3a286a(0x1ec)],function(){var _0x1ca9b2=_0x3a286a;assert[_0x1ca9b2(0x1cd)](_0x304ecf(_0x41c33f[_0x1ca9b2(0x177)],{'transformTags':{'a':function(_0x1ce4e8,_0x5d805b){return{'tagName':_0x1ce4e8,'attribs':_0x5d805b,'text':''};}}}),_0x1ca9b2(0x1a5));}),_0x41c33f['dgDOC'](it,_0x41c33f[_0x3a286a(0x19b)],function(){var _0x583081=_0x3a286a,_0x44eaab={'Zuaap':_0x41c33f[_0x583081(0x10d)],'EFPkX':_0x583081(0x176)};assert[_0x583081(0x1cd)](_0x41c33f[_0x583081(0xde)](_0x304ecf,'<a\x20href=\x22http://somelink\x22>some\x20text</a>',{'transformTags':{'a':function(_0xe10be6,_0x5cf78a){var _0x4da39b=_0x583081,_0xc529f={'HMpZT':_0x44eaab[_0x4da39b(0x207)]};return _0x44eaab[_0x4da39b(0x1d2)]===_0x44eaab[_0x4da39b(0x1d2)]?{'tagName':_0xe10be6,'attribs':_0x5cf78a,'text':_0x4da39b(0x1be)}:_0xb025cc[_0x4da39b(0xfd)](_0xc529f['HMpZT'],'');}},'textFilter':function(_0x58b183){return _0x58b183['replace'](/\s/g,'_');}}),_0x41c33f[_0x583081(0x131)]);}),it(_0x41c33f[_0x3a286a(0x1e9)],function(){var _0x3fdf36=_0x3a286a,_0xe7cbbd={'qPgkz':function(_0x3a94b9,_0x2e2471,_0x13e618){var _0x266663=_0x1b43;return _0x41c33f[_0x266663(0x120)](_0x3a94b9,_0x2e2471,_0x13e618);},'hdsKq':'table'};_0x41c33f['iseaX'](_0x3fdf36(0x165),_0x41c33f[_0x3fdf36(0x1c1)])?assert['strictEqual'](_0x304ecf(_0x41c33f[_0x3fdf36(0x160)],{'exclusiveFilter':function(_0x430a47){var _0x1b0abe=_0x3fdf36;return _0x41c33f['wlEHu'](_0x430a47[_0x1b0abe(0x1c7)],'a')&&!_0x430a47[_0x1b0abe(0x212)]['trim']();}}),_0x41c33f[_0x3fdf36(0x1fa)]):_0x515803[_0x3fdf36(0x1cd)](_0xe7cbbd[_0x3fdf36(0x10b)](_0x3fce86,_0x3fdf36(0x1e6),{'allowedTags':[_0xe7cbbd[_0x3fdf36(0x1f2)],_0x3fdf36(0x1c2)],'allowedAttributes':{'*':[_0x3fdf36(0x1aa),_0x3fdf36(0x14c),'src']}}),_0x3fdf36(0x17d));}),it(_0x41c33f[_0x3a286a(0x104)],function(){var _0x369594=_0x3a286a,_0x167017={'XhLMO':function(_0x3fb41a,_0x737433,_0x435d93){return _0x41c33f['NyhjY'](_0x3fb41a,_0x737433,_0x435d93);},'bcYCv':_0x369594(0x191),'eacZO':_0x369594(0x1b8),'Ngoph':_0x41c33f['PWKkv'],'Oggec':function(_0x458d9b,_0x7877fb){return _0x458d9b===_0x7877fb;},'djrCz':_0x369594(0xed),'oQYHg':function(_0x43eb7b,_0x4833fc){return _0x41c33f['aHztN'](_0x43eb7b,_0x4833fc);},'qEvFt':function(_0x174e74,_0x4b0d67){var _0x5eccdd=_0x369594;return _0x41c33f[_0x5eccdd(0x14f)](_0x174e74,_0x4b0d67);},'TWgpL':'NNpMX'};assert[_0x369594(0x196)](_0x304ecf('<p>12<a\x20href=\x22http://www.linux.org\x22><br/>3<br></a><span>4</span></p>',{'exclusiveFilter':function(_0x45919e){var _0x1ff42f=_0x369594;if(_0x167017[_0x1ff42f(0x18a)](_0x45919e[_0x1ff42f(0x1c7)],'p'))_0x1ff42f(0x199)!=='pKCZV'?assert[_0x1ff42f(0x196)](_0x45919e['text'],_0x167017[_0x1ff42f(0x14e)]):_0x42a4c9[_0x1ff42f(0x1cd)](_0x167017[_0x1ff42f(0x1cf)](_0xa99d40,'<ol\x20foo=\x22foo\x22\x20bar=\x22bar\x22\x20baz=\x22baz\x22><li>Hello\x20world</li></ol>',{'transformTags':{'ol':_0x24cf72['simpleTransform']('ul',{'class':_0x1ff42f(0x191)},![])},'allowedAttributes':{'ul':[_0x167017[_0x1ff42f(0x18e)],_0x167017[_0x1ff42f(0x144)],_0x167017[_0x1ff42f(0x108)]]}}),_0x1ff42f(0xd8));else{if(_0x45919e[_0x1ff42f(0x1c7)]==='a')return assert[_0x1ff42f(0x196)](_0x45919e[_0x1ff42f(0x212)],'3'),!![];else _0x167017[_0x1ff42f(0xe8)](_0x45919e['tag'],'br')?_0x167017[_0x1ff42f(0xf9)](_0x167017[_0x1ff42f(0x193)],_0x1ff42f(0xf8))?_0x1a8067[_0x1ff42f(0x1cd)](_0x167017[_0x1ff42f(0x1cf)](_0x5a50f2,_0x1ff42f(0x201),{'allowedTags':![],'allowedAttributes':![]}),_0x1ff42f(0x201)):assert[_0x1ff42f(0x196)](_0x45919e[_0x1ff42f(0x212)],''):assert[_0x1ff42f(0xdd)](_0x1ff42f(0xf4),_0x45919e[_0x1ff42f(0x1c7)]);}return![];}}),_0x41c33f[_0x369594(0x195)]);}),it(_0x3a286a(0x215),function(){var _0x4e47a3=_0x3a286a,_0x1661a1={'Bbfqf':function(_0x3c57f4,_0x5119e9){var _0x680642=_0x1b43;return _0x41c33f[_0x680642(0x14f)](_0x3c57f4,_0x5119e9);}};assert[_0x4e47a3(0x196)](_0x41c33f['Fyaeq'](_0x304ecf,_0x41c33f['IIooN'],{'exclusiveFilter':function(_0x5259f3){var _0x379b3b=_0x4e47a3;return(_0x1661a1[_0x379b3b(0x17b)](_0x5259f3[_0x379b3b(0x1c7)],'a')||_0x1661a1[_0x379b3b(0x17b)](_0x5259f3[_0x379b3b(0x1c7)],'p'))&&!_0x5259f3[_0x379b3b(0x212)][_0x379b3b(0x21f)]();}}),'');}),it(_0x41c33f[_0x3a286a(0x198)],function(){var _0x369f33=_0x3a286a;assert[_0x369f33(0x196)](_0x41c33f['WaGea'](_0x304ecf,_0x41c33f['AAeTK'],{'exclusiveFilter':function(_0x2e67b1){var _0x1f8bdf=_0x369f33;if(_0x41c33f[_0x1f8bdf(0x18f)]!==_0x41c33f['UBQnK']){if(!_0x39eaae[_0x1f8bdf(0x19d)])return![];return{'tagName':_0x51219a,'attribs':{'target':'_blank','href':_0x881393[_0x1f8bdf(0x19d)]}};}else return _0x41c33f['VJOdb'](_0x2e67b1[_0x1f8bdf(0x1c7)],'a')&&!_0x2e67b1[_0x1f8bdf(0x212)][_0x1f8bdf(0x21f)]();}}),'I\x20love\x20<a\x20href=\x22www.linux.org\x22\x20target=\x22_hplink\x22>Linux</a>\x20OS');}),it(_0x41c33f['JlhXT'],function(){var _0x112c98=_0x3a286a;assert[_0x112c98(0x1cd)](_0x41c33f[_0x112c98(0xd9)](_0x304ecf,_0x112c98(0xd0),{'allowedTags':['img']}),_0x112c98(0x1a8));}),_0x41c33f[_0x3a286a(0x1e3)](it,_0x3a286a(0xf3),function(){var _0x4063b5=_0x3a286a;assert[_0x4063b5(0x1cd)](_0x304ecf(_0x41c33f[_0x4063b5(0x1fb)],{'allowedTags':[_0x4063b5(0x1c2),'p'],'allowedSchemes':[_0x4063b5(0xf5),'http']}),_0x4063b5(0xd0));}),it('should\x20allow\x20specific\x20classes\x20when\x20whitelisted\x20with\x20allowedClasses',function(){var _0x459ab9=_0x3a286a;assert[_0x459ab9(0x1cd)](_0x41c33f[_0x459ab9(0x1ee)](_0x304ecf,_0x459ab9(0x16d),{'allowedTags':['p'],'allowedClasses':{'p':[_0x41c33f[_0x459ab9(0x20f)]]}}),_0x41c33f[_0x459ab9(0x143)]);}),_0x41c33f['muoDJ'](it,_0x41c33f['UmZNR'],function(){var _0x4bcbc6=_0x3a286a;assert[_0x4bcbc6(0x1cd)](_0x304ecf(_0x41c33f['ZbsaY'],{'allowedTags':[_0x41c33f['jvITH'],'a'],'allowedSchemes':['http'],'allowedSchemesByTag':{'img':[_0x41c33f[_0x4bcbc6(0x1b3)]],'a':[_0x4bcbc6(0x134)]}}),_0x41c33f[_0x4bcbc6(0x1d6)]),assert['equal'](_0x41c33f[_0x4bcbc6(0xde)](_0x304ecf,_0x41c33f[_0x4bcbc6(0x1d6)],{'allowedTags':[_0x41c33f[_0x4bcbc6(0x1d4)],'a'],'allowedSchemes':['http'],'allowedSchemesByTag':{'img':[],'a':[_0x41c33f[_0x4bcbc6(0x213)]]}}),'<img\x20/><a\x20href=\x22https://www.example.com\x22></a>');}),_0x41c33f[_0x3a286a(0x1d0)](it,_0x3a286a(0x1f1),function(){var _0x53433e=_0x3a286a;assert[_0x53433e(0x1cd)](_0x304ecf(_0x41c33f[_0x53433e(0x1b6)],{'allowedTags':['p'],'allowedClasses':{'p':[_0x53433e(0x13a)]}}),_0x41c33f['Bjsad']);}),it(_0x41c33f[_0x3a286a(0x1e7)],function(){var _0x80b646=_0x3a286a;assert[_0x80b646(0x1cd)](_0x304ecf('<p\x20a'),'');}),_0x41c33f['maVOH'](it,_0x41c33f['fsncB'],function(){var _0x47864e=_0x3a286a;assert[_0x47864e(0x1cd)](_0x41c33f[_0x47864e(0x119)](_0x304ecf,_0x41c33f['fUrVH'],{'allowedTags':[_0x47864e(0x1c2)],'allowedAttributes':{'img':[_0x41c33f[_0x47864e(0xd4)]]}}),_0x47864e(0x1ab));}),it(_0x41c33f[_0x3a286a(0x1a3)],function(){var _0x32f6ca=_0x3a286a;assert[_0x32f6ca(0x1cd)](_0x304ecf(_0x41c33f[_0x32f6ca(0x16c)],{'allowedTags':[_0x32f6ca(0xdb),_0x41c33f[_0x32f6ca(0x1d4)]],'allowedAttributes':{'*':['bgcolor','align',_0x32f6ca(0xfa)]}}),_0x41c33f['PcMpm']);}),it(_0x3a286a(0x1d5),function(){var _0x3a7bdd=_0x3a286a,_0x3597d0={'mRlLg':_0x3a7bdd(0x19c)};assert[_0x3a7bdd(0x1cd)](_0x41c33f['bMWmG'](_0x304ecf,_0x41c33f['yVPKP'],{'allowedTags':['a'],'allowedAttributes':{'a':[_0x3a7bdd(0x19d),_0x41c33f[_0x3a7bdd(0x1ed)]]},'transformTags':{'a':function(_0x4657ba,_0x909bb9){var _0x343567=_0x3a7bdd;if(!_0x909bb9[_0x343567(0x19d)])return![];return{'tagName':_0x4657ba,'attribs':{'target':_0x41c33f[_0x343567(0x105)],'href':_0x909bb9['href']}};}},'exclusiveFilter':function(_0x52a538){var _0x455250=_0x3a7bdd;return _0x52a538[_0x455250(0x1c7)]==='a'&&_0x52a538['text'][_0x455250(0x21f)]()==_0x3597d0[_0x455250(0x1e4)];}}),_0x3a7bdd(0x192));}),_0x41c33f[_0x3a286a(0x20c)](it,_0x41c33f[_0x3a286a(0xeb)],function(){var _0x394796=_0x3a286a,_0x3eb97a={'zBKuS':function(_0x106d4d,_0x18649f){var _0x3ba7ad=_0x1b43;return _0x41c33f[_0x3ba7ad(0x190)](_0x106d4d,_0x18649f);},'FcNwY':_0x41c33f[_0x394796(0x1db)]};assert[_0x394796(0x1cd)](_0x304ecf(_0x41c33f['majaW'],{'allowedTags':['a'],'allowedAttributes':{'a':[_0x41c33f[_0x394796(0x1df)],_0x394796(0x125)]},'transformTags':{'a':function(_0x11f2b5,_0x2431c1){var _0x5a41f5=_0x394796;if(!_0x2431c1['href'])return![];return{'tagName':_0x11f2b5,'attribs':{'target':'_blank','href':_0x2431c1[_0x5a41f5(0x19d)]}};}},'exclusiveFilter':function(_0x594290){var _0x3800f9=_0x394796;return _0x3eb97a[_0x3800f9(0x204)](_0x594290[_0x3800f9(0x1c7)],'a')&&_0x594290['text'][_0x3800f9(0x21f)]()==_0x3eb97a[_0x3800f9(0x21c)];}}),'');}),it(_0x3a286a(0x1b9),function(){var _0x398caf=_0x3a286a,_0x402419={'XBIOa':_0x398caf(0x14b)};_0x41c33f['dGppt']!==_0x398caf(0x17f)?assert[_0x398caf(0x1cd)](_0x41c33f[_0x398caf(0x170)](_0x304ecf,_0x398caf(0x21a),{'allowedTags':['p'],'allowedAttributes':{'p':[_0x41c33f[_0x398caf(0x1ba)]]},'transformTags':{'*':function(_0x33cdcc,_0x1317b2){var _0x38f2e0=_0x398caf;if(_0x41c33f[_0x38f2e0(0x1fc)]===_0x38f2e0(0x1a1))_0x4c20f2['equal'](_0x2d93d5(_0x402419[_0x38f2e0(0x137)],{'allowedTags':['a'],'allowedAttributes':{'a':[_0x38f2e0(0x1e0)]}}),_0x38f2e0(0x206));else return{'tagName':_0x33cdcc,'attribs':{'style':_0x38f2e0(0x20d)}};}}}),_0x41c33f[_0x398caf(0x118)]):_0x5ee9a0[_0x398caf(0x1cd)](_0x41c33f[_0x398caf(0x10f)](_0x538c1e,_0x41c33f['GbncA'],{'transformTags':{'ol':_0x2ff6d6['simpleTransform']('ul',{'class':_0x398caf(0x191)})},'allowedAttributes':{'ul':[_0x41c33f[_0x398caf(0x1e1)],_0x398caf(0x1b8),_0x41c33f[_0x398caf(0x1bc)]]}}),'<ul\x20foo=\x22foo\x22\x20bar=\x22bar\x22\x20class=\x22foo\x22><li>Hello\x20world</li></ul>');}),_0x41c33f[_0x3a286a(0x194)](it,_0x41c33f['RjMcy'],function(){var _0x3b422a=_0x3a286a;assert[_0x3b422a(0x1cd)](_0x41c33f[_0x3b422a(0xd3)](_0x304ecf,_0x3b422a(0x19e)),'&lt;img\x20src=&quot;javascript:evil&quot;/&gt;'),assert[_0x3b422a(0x1cd)](_0x304ecf(_0x41c33f[_0x3b422a(0xda)]),_0x41c33f[_0x3b422a(0x17a)]);}),it(_0x3a286a(0x158),function(){var _0x122484=_0x3a286a,_0x57d4f0={'TKfCv':_0x122484(0x110)};_0x41c33f[_0x122484(0x124)]!==_0x41c33f['dTiSP']?_0x56ca64['equal'](_0x4b20c6(_0x122484(0x110)),_0x57d4f0[_0x122484(0x12a)]):(assert[_0x122484(0x1cd)](_0x41c33f[_0x122484(0x14a)](_0x304ecf,'<a\x20data-target=\x22#test\x22\x20data-foo=\x22hello\x22>click\x20me</a>',{'allowedTags':['a'],'allowedAttributes':{'a':[_0x41c33f[_0x122484(0x12e)]]}}),_0x122484(0x156)),assert[_0x122484(0x1cd)](_0x304ecf(_0x41c33f[_0x122484(0xec)],{'allowedTags':['a'],'allowedAttributes':{'a':[_0x41c33f[_0x122484(0x1dc)]]}}),_0x41c33f[_0x122484(0xe4)]));}),it(_0x3a286a(0x211),function(){var _0x2755b4=_0x3a286a;assert[_0x2755b4(0x1cd)](_0x41c33f[_0x2755b4(0x170)](_0x304ecf,_0x41c33f[_0x2755b4(0x147)],{'allowedTags':['a'],'allowedAttributes':{'a':[_0x2755b4(0x1e0)]}}),_0x41c33f[_0x2755b4(0x114)]);}),_0x41c33f[_0x3a286a(0x18d)](it,_0x41c33f[_0x3a286a(0x11f)],function(){var _0x2aa22b=_0x3a286a;assert[_0x2aa22b(0x1cd)](_0x304ecf(_0x2aa22b(0x178),{'allowedTags':[_0x2aa22b(0x15a)]}),_0x2aa22b(0x219)),assert[_0x2aa22b(0x1cd)](_0x304ecf(_0x41c33f[_0x2aa22b(0x218)],{'allowedTags':[_0x41c33f[_0x2aa22b(0x1ba)]]}),_0x41c33f[_0x2aa22b(0x174)]);}),_0x41c33f['XiXFt'](it,_0x41c33f[_0x3a286a(0x216)],function(){var _0x1f03ac=_0x3a286a;assert[_0x1f03ac(0x1cd)](_0x41c33f[_0x1f03ac(0x103)](_0x304ecf,_0x41c33f[_0x1f03ac(0xe9)],{'textFilter':function(_0x3de9d9){var _0x3083df=_0x1f03ac,_0x2d3b1a={'FfZzr':function(_0xfad992,_0x50ffd7){return _0xfad992(_0x50ffd7);},'nHUeR':_0x41c33f['bBkzE']};if(_0x41c33f[_0x3083df(0x19f)](_0x3083df(0x1b0),_0x3083df(0x1dd)))_0x20ba92[_0x3083df(0x1cd)](_0x2d3b1a['FfZzr'](_0x37052b,_0x2d3b1a[_0x3083df(0x109)]),'!!');else return _0x3de9d9[_0x3083df(0xfd)](_0x3083df(0x128),'');}}),_0x41c33f[_0x1f03ac(0x188)]);}),it('should\x20respect\x20htmlparser2\x20options\x20when\x20passed\x20in',function(){var _0xe210da=_0x3a286a;assert['equal'](_0x41c33f[_0xe210da(0x175)](_0x304ecf,_0x41c33f[_0xe210da(0x1de)],{'allowedTags':![],'allowedAttributes':![]}),_0x41c33f[_0xe210da(0x1bb)]),assert[_0xe210da(0x1cd)](_0x304ecf(_0x41c33f['FtLAb'],{'allowedTags':![],'allowedAttributes':![],'parser':{'lowerCaseTags':![]}}),_0xe210da(0x220));}),_0x41c33f[_0x3a286a(0xd7)](it,_0x3a286a(0x127),function(){assert['equal'](_0x304ecf(_0x41c33f['bBkzE']),'!!');});});function _0x141a(){var _0x9f5c05=['pnoBq','should\x20not\x20be\x20faked\x20out\x20by\x20double\x20<','allowedTags','WmwRk','yziqk','Roobi','rKtDX','should\x20reject\x20hrefs\x20that\x20are\x20not\x20relative,\x20ftp,\x20http,\x20https\x20or\x20mailto','DYbas','<IMG\x20SRC=\x20onmouseover=\x22alert(\x27XSS\x27);\x22>','vMkyS','432808jzBUfg','USTHo','<p\x20class=\x22nifty\x20simple\x20dippy\x22>whee</p>','icuIj','<p><!--\x20Blah\x20blah\x20-->Whee</p>','OTeXI','1594615SraTeI','iWtuE','should\x20pass\x20through\x20simple\x20well-formed\x20whitelisted\x20markup','ZvDTP','nAeYc','aamtT','utbQW','<div>\x22normal\x20text\x22</div><script>\x22this\x20is\x20code\x22</script>','UAMJy','gpbGe','Bbfqf','<ol\x20foo=\x22foo\x22\x20bar=\x22bar\x22\x20baz=\x22baz\x22><li>Hello\x20world</li></ol>','<table\x20bgcolor=\x221\x22\x20align=\x22left\x22><img\x20src=\x221.gif\x22\x20align=\x22center\x22\x20/></table>','VuozY','Sxvav','Smxzp','<a\x20href=\x22java<!--\x20-->script:alert(\x27foo\x27)\x22>Hax</a>','HfVai','XCgav','should\x20dump\x20character\x20codes\x201-32\x20even\x20when\x20escaped\x20with\x20padding\x20rather\x20than\x20trailing\x20;','hZoVG','PkriO','dZqER','uTwCJ','104COLpiZ','Oggec','defaults','iHBhX','mdrvC','bcYCv','UBQnK','AWcYS','foo','<a\x20target=\x22_blank\x22\x20href=\x22test.html\x22>test</a>','TWgpL','YaxAc','WNReF','strictEqual','iqjPs','FOfNe','GgUVg','should\x20replace\x20text\x20and\x20attributes\x20when\x20they\x20are\x20changed\x20by\x20transforming\x20function','foJxG','blah','href','<<img\x20src=\x22javascript:evil\x22/>img\x20src=\x22javascript:evil\x22/>','aHztN','should\x20discard\x20the\x20content\x20of\x20fibble\x20elements\x20if\x20specified\x20for\x20nonTextTags','hfWNy','I\x20love\x20<a\x20href=\x22www.linux.org\x22\x20target=\x22_hplink\x22>Linux</a>\x20OS','ZPdNQ','GewvM','<a\x20href=\x22http://somelink\x22></a>','RmbQw','<A\x20HREF=\x22http://google.com\x22>google</a><a\x20href=\x22HTTPS://google.com\x22>https\x20google</a><a\x20href=\x22ftp://example.com\x22>ftp</a><a\x20href=\x22mailto:test@test.com\x22>mailto</a><a\x20href=\x22/relative.html\x22>relative</a><a\x20href=\x22javascript:alert(0)\x22>javascript</a>','<img\x20/>','<a\x20href=\x22http://google.com/\x22>Hi</a>','bgcolor','<img\x20src=\x22onmouseover=&quot;alert(\x27XSS\x27);&quot;\x22\x20/>','<<a\x20href=\x22javascript:evil\x22/>a\x20href=\x22javascript:evil\x22/>','<ol><li>Hello\x20world</li></ol>','NJzQd','should\x20not\x20escape\x20inner\x20content\x20from\x20non-text\x20tags\x20(when\x20allowed)','YUdYz','Rnkcb','pWoGi','MOSDt','../index.js','Amreb','clJum','<p>124</p>','bar','should\x20allow\x20transform\x20on\x20all\x20tags\x20using\x20\x27*\x27','LmPoo','VLbvL','PWKkv','<a\x20data-my-foo=\x22hello\x22>click\x20me</a>','some\x20text\x20need\x22to<be>filtered','UMTcd','\x22normal\x20text\x20this\x20should\x20be\x20removed\x22','gaMHZ','img','should\x20preserve\x20textarea\x20content\x20if\x20textareas\x20are\x20allowed','<fibble>Ni<em>f</em>ty</fibble><p>Paragraph</p>','GbncA','vCFzC','tag','<a\x20href=\x22http://google.com\x22>google</a><a\x20href=\x22HTTPS://google.com\x22>https\x20google</a><a\x20href=\x22ftp://example.com\x22>ftp</a><a\x20href=\x22mailto:test@test.com\x22>mailto</a><a\x20href=\x22/relative.html\x22>relative</a><a>javascript</a>','<blue><red><green>Cheese</green></red></blue>','<p>Paragraph<textarea>Nifty</textarea></p>','<blue><green>Cheese</green></blue>','GvmBo','equal','yXUee','XhLMO','rjtXX','should\x20pass\x20through\x20all\x20markup\x20if\x20allowedTags\x20and\x20allowedAttributes\x20are\x20set\x20to\x20false','EFPkX','HClSR','jvITH','should\x20not\x20filter\x20if\x20exclusive\x20filter\x20does\x20not\x20match\x20after\x20transforming\x20tags','ZbsaY','MgggZ','should\x20replace\x20ol\x20to\x20ul\x20and\x20add\x20attribute\x20class\x20with\x20foo\x20value\x20and\x20attribute\x20bar\x20with\x20bar\x20value','<p\x20class=\x22\x22>whee</p>','rJbUI','NtfZe','nrztw','UUvmc','FtLAb','PGBSN','data-b.*','zrToC','<ul><li>Hello\x20world</li></ul>','rLclw','mRlLg','85788KBmPYa','<table\x20bgcolor=\x221\x22\x20align=\x22left\x22\x20notlisted=\x220\x22><img\x20src=\x221.gif\x22\x20align=\x22center\x22\x20alt=\x22not\x20listed\x20too\x22/></table>','PhWty','PZImK','tCzuO','YSopT','<img\x20src=\x22foo.jpg\x22\x20/><p>Whee</p><p>Again</p><p>Wow<b>cool</b></p>','UsWTh','PrmVZ','cUsEe','MlgPy','should\x20filter\x20if\x20exclusive\x20filter\x20does\x20match\x20after\x20transforming\x20tags','should\x20not\x20act\x20weird\x20when\x20the\x20class\x20attribute\x20is\x20empty','hdsKq','Ni<em>f</em>ty<p>Paragraph</p>','should\x20drop\x20the\x20content\x20of\x20script\x20elements','should\x20disallow\x20data\x20URLs\x20with\x20default\x20allowedSchemes','should\x20still\x20like\x20nice\x20schemes','pZPgm','<a\x20href=\x22awesome.html#this:stuff\x22>Hi</a>','Blah\x20blah\x20blah<p>Whee!</p>','YHtvg','XQJzW','XxrUk','data-*','<p>This\x20is\x20<br\x20/>Linux</p>','<div>\x22normal\x20text\x22</div><style>body\x20{\x20background-image:\x20url(\x22image.test\x22);\x20}</style>','1490490nmddxQ','<div><wiggly\x20worms=\x22ewww\x22>hello</wiggly></div>','kDwwn','should\x20retain\x20the\x20content\x20of\x20fibble\x20elements\x20by\x20default','zBKuS','3832758wEolmW','<a\x20data-b.c=\x22#test\x22>click\x20me</a>','Zuaap','wlEHu','should\x20not\x20allow\x20a\x20naked\x20=\x20sign\x20followed\x20by\x20an\x20unrelated\x20attribute\x20to\x20result\x20in\x20one\x20merged\x20attribute\x20with\x20unescaped\x20double\x20quote\x20marks','should\x20dump\x20a\x20sneaky\x20encoded\x20javascript\x20url','KZHnk','uwDMx','text-align:\x20center;','35XDYDkF','YDLUg','sanitizeHtml','should\x20quote\x20regex\x20chars\x20in\x20attributes\x20specified\x20as\x20globs','text','aPQWU','Wvyja','Should\x20collapse\x20nested\x20empty\x20elements','lZNFf','should\x20skip\x20an\x20empty\x20link','NcHOb','&quot;normal\x20text&quot;<script>\x22this\x20is\x20code\x22</script>','<p>Text</p>','yrmFo','FcNwY','NJjHg','CTXUt','trim','<Archer><Sterling>I\x20am</Sterling></Archer>','assert','KeDSL','should\x20discard\x20allowed\x20tags\x20within\x20a\x20fibble\x20element\x20if\x20fibble\x20is\x20specified\x20for\x20nonTextTags','<img\x20src=\x22data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\x22\x20/>','UOGBH','!<__proto__>!','MJBAv','aAkBG','<a\x20href=\x22&#106;&#97;&#118;&#97;&#115;&#99;&#114;&#105;&#112;&#116;&#58;&#97;&#108;&#101;&#114;&#116;&#40;&#39;&#88;&#83;&#83;&#39;&#41;\x22>Hax</a>','<a\x20href=\x22hello.html\x22>Hi</a>','mbheb','<ul\x20class=\x22foo\x22><li>Hello\x20world</li></ul>','zMNWY','fpmka','table','BjzjW','fail','Nfbkt','ApKqk','<ul\x20class=\x22foo\x22\x20bar=\x22bar\x22><li>Hello\x20world</li></ul>','eFCXd','<div><wiggly>Hello</wiggly></div>','<a\x20href=\x22javaï¿½script:alert(\x27foo\x27)\x22>Hax</a>','cqcXF','<p\x20class=\x22nifty\x22>whee</p>','kvIYW','should\x20dump\x20an\x20uppercase\x20javascript\x20url','oQYHg','fXcTR','textarea','aGlEM','eDDvH','124','rbeOx','tVQzs','<a>Hax</a>','1730LcpSAh','bMWmG','should\x20allow\x20data\x20URLs\x20with\x20custom\x20allowedSchemes','p,\x20a,\x20br','data','&lt;<a>a\x20href=&quot;javascript:evil&quot;/&gt;</a>','<script>alert(\x22ruhroh!\x22);</script><p>Paragraph</p>','vHNJN','qEvFt','src','zBTua','<a\x20href=\x22http://somelink\x22>some_text_need&quot;to&lt;be&gt;filtered</a>','replace','&quot;normal\x20text&quot;','<fibble>Nifty</fibble><p>Paragraph</p>','HeyTV','HdvAH','XwaFK','axwtZ','YmRPz','qWzpI','should\x20clean\x20up\x20unclosed\x20img\x20tags\x20and\x20p\x20tags','should\x20be\x20successfully\x20initialized','Ngoph','nHUeR','rGEHJ','qPgkz','Exclusive\x20filter\x20should\x20not\x20affect\x20elements\x20which\x20do\x20not\x20match\x20the\x20filter\x20condition','LRgMf','aWxMy','GwxDD','<a\x20name=\x22&lt;silly&gt;\x22>&lt;Kapow!&gt;</a>','<a\x20href=\x22http://google.com\x22>google</a><a\x20href=\x22https://google.com\x22>https\x20google</a><a\x20href=\x22ftp://example.com\x22>ftp</a><a\x20href=\x22mailto:test@test.com\x22>mailto</a><a\x20href=\x22/relative.html\x22>relative</a><a\x20href=\x22javascript:alert(0)\x22>javascript</a>','zAPgx','Should\x20expose\x20a\x20node\x27s\x20inner\x20text\x20and\x20inner\x20HTML\x20to\x20the\x20filter','gxmRc','<p>Paragraph</p>','<p>Whee</p>','<a\x20href=\x22java&#0000000script:alert(\x27foo\x27)\x22>Hax</a>','mCcJQ','UhfJC','simpleTransform','should\x20replace\x20text\x20and\x20attributes\x20when\x20they\x20are\x20changed\x20by\x20transforming\x20function\x20and\x20textFilter\x20is\x20set','gFkqs','<p>whee</p>','should\x20respect\x20text\x20nodes\x20at\x20top\x20level','zLHXZ','NyhjY','&quot;normal\x20text&quot;<style>body\x20{\x20background-image:\x20url(\x22image.test\x22);\x20}</style>','should\x20replace\x20ol\x20to\x20ul,\x20left\x20attributes\x20foo\x20and\x20bar\x20untouched,\x20remove\x20baz\x20attribute\x20and\x20add\x20class\x20attributte\x20with\x20foo\x20value','<a\x20href=\x22http://google.com\x22>google</a><a\x20href=\x22https://google.com\x22>https\x20google</a><a\x20href=\x22ftp://example.com\x22>ftp</a><a\x20href=\x22mailto:test@test.com\x22>mailto</a><a\x20href=\x22/relative.html\x22>relative</a><a>javascript</a>','dTiSP','target','should\x20allow\x20defining\x20schemes\x20on\x20a\x20per-tag\x20basis','should\x20not\x20crash\x20due\x20to\x20tag\x20names\x20that\x20are\x20properties\x20of\x20the\x20universal\x20Object\x20prototype','\x20this\x20should\x20be\x20removed','class','TKfCv','Dpfqw','2335unqFVL','<textarea>Nifty</textarea><p>Paragraph</p>','IBrhc','TPBwd','should\x20drop\x20the\x20content\x20of\x20textarea\x20elements','dQCgk','<a\x20href=\x22java\x00&#14;\x09\x0d\x0a\x20script:alert(\x27foo\x27)\x22>Hax</a>','<style>.foo\x20{\x20color:\x20blue;\x20}</style><p>Paragraph</p>','https','sSezj','DZdgM','XBIOa','<archer><sterling>I\x20am</sterling></archer>','HpyIA','nifty','<p><a\x20href=\x22http://www.linux.org\x22><br/></a></p>','fibble','should\x20not\x20mess\x20up\x20a\x20hashcode\x20with\x20a\x20:\x20in\x20it','<a\x20href=\x22test.html\x22>test</a>','<a\x20href=\x22java&#0000001script:alert(\x27foo\x27)\x22>Hax</a>','<a\x20data-target=\x22#test\x22\x20data-my-foo=\x22hello\x22>click\x20me</a>','should\x20replace\x20ol\x20to\x20ul\x20and\x20replace\x20all\x20attributes\x20to\x20class\x20attribute\x20with\x20foo\x20value','should\x20accept\x20a\x20custom\x20list\x20of\x20allowed\x20tags','zVvkX','eacZO','data-*-foo','green','DOrmo','tUiIh','vgMNp','HZnTk','<a\x20data-b.c=\x22#test\x22\x20data-bcc=\x22remove\x20this\x22>click\x20me</a>','align','VorYN','djrCz','VJOdb','Nifty<p>Paragraph</p>','OYASA','oZXyl','zCUZf','should\x20not\x20crash\x20on\x20bad\x20markup','style','<a\x20data-target=\x22#test\x22\x20data-foo=\x22hello\x22>click\x20me</a>','<a\x20href=\x22foo.html\x22\x20whizbang=\x22whangle\x22>foo</a>','should\x20allow\x20attributes\x20to\x20be\x20specified\x20as\x20globs','should\x20dump\x20character\x20codes\x201-32\x20before\x20testing\x20scheme','script','XQlAs','<p\x20style=\x22text-align:\x20center;\x22>Text</p>','ThaEp','3445768VKAIeD','<img\x20src=\x22data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\x22\x20/><a\x20href=\x22https://www.example.com\x22></a>'];_0x141a=function(){return _0x9f5c05;};return _0x141a();}