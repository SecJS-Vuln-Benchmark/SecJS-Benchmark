const _0x2708e8=_0x22cd;(function(_0x4b5cfe,_0x48b856){const _0xe3c402=_0x22cd,_0x46bfae=_0x4b5cfe();while(!![]){try{const _0x590b4f=-parseInt(_0xe3c402(0x15f))/0x1+-parseInt(_0xe3c402(0x12f))/0x2+-parseInt(_0xe3c402(0x176))/0x3*(-parseInt(_0xe3c402(0x17f))/0x4)+parseInt(_0xe3c402(0x136))/0x5*(-parseInt(_0xe3c402(0x17d))/0x6)+parseInt(_0xe3c402(0x14b))/0x7+-parseInt(_0xe3c402(0x153))/0x8+parseInt(_0xe3c402(0x154))/0x9*(parseInt(_0xe3c402(0x17e))/0xa);if(_0x590b4f===_0x48b856)break;else _0x46bfae['push'](_0x46bfae['shift']());}catch(_0x5d6b99){_0x46bfae['push'](_0x46bfae['shift']());}}}(_0x1f43,0xa4b59));function _0x1f43(){const _0x29dc9b=['UllIw','AiBWH','headers','CRJUV','location','WiDtj','then','zmdHU','POST','UGvsx','688270DCRGmf','/apps/test/verify_email?token[$regex]=','/apps/test/request_password_reset?token=','http://localhost:8378/1','/users','Invalid\x20session\x20token','qBjjl','OkkMX','toMatch','hwhIw','dHNsy','_perishable_token','IUzDq','fAKmM','newpassword','application/json','SfKma','RDqDR','slice','toEqual','User','Error','error','695517eMicfX','should\x20work\x20with\x20plain\x20token','XfEXE','test2','test','HVHLa','on\x20verify\x20e-mail','654vvTQdT','12702020maDqra','4oIMWMp','\x5c/choose\x5c_password\x5c?token\x5c=','somepassword','sessionToken','message','/apps/test/verify_email?token=','data','gmKjm','_email_verify_token','BoifE','logIn','1931518CKMKTq','/apps/test/request_password_reset','someemail@somedomain.com','edjWC','ZaMaL','on\x20password\x20reset','jAWHn','56285NsZwCR','WEVhR','/apps/test/request_password_reset?token[$regex]=','get','/users/me','zGZfu','resolve','fetch','Invalid\x20username/password.','Wobev','should\x20not\x20work','92bbb86d-bcda-49fa-8d79-aa0501078044','cBHVh','xNyVv','BPiio','lqIKO','GFYcp','GET','should\x20not\x20work\x20with\x20regex','Regex\x20Vulnerabilities','emailVerified','2784075ATiIWR','../lib/request','stringify','http://localhost:8378/1/classes/_User/','status','code','/requestPasswordReset','objectId','7075832anylXJ','27nkZIVw'];_0x1f43=function(){return _0x29dc9b;};return _0x1f43();}const request=require(_0x2708e8(0x14c)),serverURL=_0x2708e8(0x162),headers={'Content-Type':'application/json'},keys={'_ApplicationId':_0x2708e8(0x17a),'_JavaScriptKey':_0x2708e8(0x17a)},emailAdapter={'sendVerificationEmail':()=>Promise[_0x2708e8(0x13c)](),'sendPasswordResetEmail':()=>Promise[_0x2708e8(0x13c)](),'sendMail':()=>{}},appName=_0x2708e8(0x17a),publicServerURL=_0x2708e8(0x162);function _0x22cd(_0x3bb932,_0x5b5c81){const _0x1f4321=_0x1f43();return _0x22cd=function(_0x22cd69,_0x43808a){_0x22cd69=_0x22cd69-0x125;let _0x5eb7c5=_0x1f4321[_0x22cd69];return _0x5eb7c5;},_0x22cd(_0x3bb932,_0x5b5c81);}describe(_0x2708e8(0x149),()=>{const _0x3fae3a=_0x2708e8,_0x20b02b={'RDqDR':function(_0x2124b1,_0x50876d){return _0x2124b1(_0x50876d);},'Wobev':_0x3fae3a(0x179),'WEVhR':function(_0x13c273,_0x1dbbdb){return _0x13c273(_0x1dbbdb);},'iUgTP':_0x3fae3a(0x15d),'edjWC':_0x3fae3a(0x147),'XfEXE':function(_0x87b96a,_0x3cb54e){return _0x87b96a(_0x3cb54e);},'gmKjm':'emailVerified','SfKma':_0x3fae3a(0x17a),'FOZoy':function(_0x175733,_0x5c9b84){return _0x175733(_0x5c9b84);},'zGZfu':function(_0x4488a5,_0x31a3e3){return _0x4488a5(_0x31a3e3);},'kBVDW':function(_0x58d2d9,_0x18fe60){return _0x58d2d9(_0x18fe60);},'IUzDq':function(_0x2a0514,_0x5d25c8,_0x216e71){return _0x2a0514(_0x5d25c8,_0x216e71);},'BoifE':'should\x20not\x20work\x20with\x20regex','WiDtj':_0x3fae3a(0x141),'OkkMX':_0x3fae3a(0x177),'zmdHU':_0x3fae3a(0x131),'fAKmM':function(_0x5103d0,_0x614fd1){return _0x5103d0(_0x614fd1);},'lqIKO':_0x3fae3a(0x16e),'UllIw':_0x3fae3a(0x16d),'vgQdg':_0x3fae3a(0x140),'HVHLa':'on\x20session\x20token','qBjjl':function(_0x5c55bc,_0x5a9e2d,_0xe100b8){return _0x5c55bc(_0x5a9e2d,_0xe100b8);},'BPiio':_0x3fae3a(0x17c),'GFYcp':_0x3fae3a(0x134)};let _0x4f1a21,_0x345948,_0x188790,_0x5b62e3;_0x20b02b['zGZfu'](beforeEach,async()=>{const _0x5f186b=_0x3fae3a;await _0x20b02b[_0x5f186b(0x170)](reconfigureServer,{'maintenanceKey':_0x20b02b[_0x5f186b(0x13f)],'verifyUserEmails':!![],'emailAdapter':emailAdapter,'appName':appName,'publicServerURL':publicServerURL});const _0x1197a0=await _0x20b02b[_0x5f186b(0x137)](request,{'url':serverURL+_0x5f186b(0x163),'method':_0x20b02b['iUgTP'],'headers':headers,'body':JSON[_0x5f186b(0x14d)]({...keys,'_method':_0x20b02b['iUgTP'],'username':_0x5f186b(0x131),'password':_0x5f186b(0x126),'email':_0x5f186b(0x131)})});_0x4f1a21=_0x1197a0[_0x5f186b(0x12a)]['objectId'],_0x345948=_0x1197a0['data'][_0x5f186b(0x127)],_0x188790=_0x345948[_0x5f186b(0x171)](0x0,0x3);}),_0x20b02b[_0x3fae3a(0x16b)](describe,_0x20b02b[_0x3fae3a(0x17b)],()=>{const _0xe62a98=_0x3fae3a,_0x44df73={'jAWHn':_0x20b02b['edjWC'],'UCSvA':function(_0x1dbc84,_0x397aba){return _0x1dbc84(_0x397aba);},'MfHiv':function(_0x1d43f5,_0x37193b){const _0x273cd3=_0x22cd;return _0x20b02b[_0x273cd3(0x178)](_0x1d43f5,_0x37193b);},'dHNsy':_0xe62a98(0x164)};it(_0xe62a98(0x148),async()=>{const _0x51bb09=_0xe62a98;try{await request({'url':serverURL+_0x51bb09(0x13a),'method':_0x51bb09(0x15d),'headers':headers,'body':JSON[_0x51bb09(0x14d)]({...keys,'_SessionToken':{'$regex':_0x188790},'_method':_0x44df73[_0x51bb09(0x135)]})}),fail(_0x51bb09(0x140));}catch(_0x1eee90){_0x44df73['UCSvA'](expect,_0x1eee90[_0x51bb09(0x12a)][_0x51bb09(0x150)])[_0x51bb09(0x172)](0xd1),_0x44df73['MfHiv'](expect,_0x1eee90['data'][_0x51bb09(0x175)])[_0x51bb09(0x172)](_0x44df73[_0x51bb09(0x169)]);}}),it(_0xe62a98(0x177),async()=>{const _0x1c880e=_0xe62a98,_0x4c5c21=await request({'url':serverURL+'/users/me','method':_0x1c880e(0x15d),'headers':headers,'body':JSON['stringify']({...keys,'_SessionToken':_0x345948,'_method':_0x20b02b[_0x1c880e(0x132)]})});expect(_0x4c5c21['data'][_0x1c880e(0x152)])['toEqual'](_0x4f1a21),expect(_0x4c5c21[_0x1c880e(0x12a)][_0x1c880e(0x127)])[_0x1c880e(0x172)](_0x345948);});}),_0x20b02b[_0x3fae3a(0x165)](describe,_0x20b02b[_0x3fae3a(0x144)],()=>{const _0x3983db=_0x3fae3a;_0x20b02b['kBVDW'](beforeEach,async function(){const _0x5e8c89=_0x22cd,_0x2b35c1=new Parse['Query'](Parse['User']);_0x5b62e3=await _0x2b35c1[_0x5e8c89(0x139)](_0x4f1a21,{'useMasterKey':!![]});}),_0x20b02b[_0x3983db(0x16b)](it,_0x20b02b[_0x3983db(0x12d)],async()=>{const _0x16b8b9=_0x3983db;expect(_0x5b62e3['get'](_0x20b02b[_0x16b8b9(0x12b)]))['toEqual'](![]),await _0x20b02b[_0x16b8b9(0x178)](request,{'url':serverURL+_0x16b8b9(0x160),'method':'GET'}),await _0x5b62e3[_0x16b8b9(0x13d)]({'useMasterKey':!![]}),_0x20b02b[_0x16b8b9(0x170)](expect,_0x5b62e3[_0x16b8b9(0x139)](_0x20b02b[_0x16b8b9(0x12b)]))['toEqual'](![]);}),it_id(_0x20b02b[_0x3983db(0x15a)])(it)(_0x20b02b[_0x3983db(0x166)],async()=>{const _0x1db6c0=_0x3983db;_0x20b02b[_0x1db6c0(0x178)](expect,_0x5b62e3[_0x1db6c0(0x139)](_0x1db6c0(0x14a)))[_0x1db6c0(0x172)](![]);const _0x521db0=await request({'method':_0x1db6c0(0x147),'url':_0x1db6c0(0x14e)+_0x5b62e3['id'],'json':!![],'headers':{'X-Parse-Application-Id':_0x20b02b[_0x1db6c0(0x16f)],'X-Parse-Rest-API-Key':_0x1db6c0(0x17a),'X-Parse-Maintenance-Key':'test2','Content-Type':_0x1db6c0(0x16e)}})[_0x1db6c0(0x15b)](_0x13880d=>_0x13880d[_0x1db6c0(0x12a)]);await _0x20b02b['FOZoy'](request,{'url':serverURL+_0x1db6c0(0x129)+_0x521db0[_0x1db6c0(0x12c)],'method':_0x20b02b[_0x1db6c0(0x132)]}),await _0x5b62e3['fetch']({'useMasterKey':!![]}),_0x20b02b[_0x1db6c0(0x13b)](expect,_0x5b62e3[_0x1db6c0(0x139)](_0x1db6c0(0x14a)))[_0x1db6c0(0x172)](!![]);});}),describe(_0x20b02b[_0x3fae3a(0x146)],()=>{const _0x298c43=_0x3fae3a,_0x363657={'xNyVv':function(_0x29b239,_0x3c2f59){return _0x29b239(_0x3c2f59);},'AiBWH':_0x298c43(0x15d),'cBHVh':_0x298c43(0x131),'ZaMaL':_0x20b02b[_0x298c43(0x132)],'nHIpK':_0x20b02b[_0x298c43(0x155)],'UGvsx':_0x20b02b['vgQdg'],'CRJUV':function(_0x5d146d,_0x383ac9){return _0x20b02b['kBVDW'](_0x5d146d,_0x383ac9);},'hwhIw':_0x298c43(0x13e)};beforeEach(async()=>{const _0x552bce=_0x298c43;_0x5b62e3=await Parse['User']['logIn'](_0x20b02b[_0x552bce(0x15c)],_0x552bce(0x126));}),it(_0x20b02b['BoifE'],async()=>{const _0x5b39b4=_0x298c43;_0x363657[_0x5b39b4(0x143)](expect,_0x5b62e3['id'])[_0x5b39b4(0x172)](_0x4f1a21),await request({'url':serverURL+_0x5b39b4(0x151),'method':_0x363657[_0x5b39b4(0x156)],'headers':headers,'body':JSON['stringify']({...keys,'_method':_0x363657[_0x5b39b4(0x156)],'email':_0x363657[_0x5b39b4(0x142)]})}),await _0x5b62e3[_0x5b39b4(0x13d)]({'useMasterKey':!![]});const _0x432ba5=await _0x363657['xNyVv'](request,{'url':serverURL+_0x5b39b4(0x138),'method':_0x363657[_0x5b39b4(0x133)]});expect(_0x432ba5[_0x5b39b4(0x14f)])[_0x5b39b4(0x172)](0x12e),expect(_0x432ba5[_0x5b39b4(0x157)]['location'])['toMatch']('\x5c/invalid\x5c_link\x5c.html'),await request({'url':serverURL+'/apps/test/request_password_reset','method':_0x363657[_0x5b39b4(0x156)],'body':{'token':{'$regex':''},'username':_0x5b39b4(0x131),'new_password':_0x5b39b4(0x16d)}});try{await Parse['User'][_0x5b39b4(0x12e)]('someemail@somedomain.com',_0x363657['nHIpK']),fail(_0x363657[_0x5b39b4(0x15e)]);}catch(_0x399460){_0x363657[_0x5b39b4(0x158)](expect,_0x399460[_0x5b39b4(0x150)])[_0x5b39b4(0x172)](Parse[_0x5b39b4(0x174)]['OBJECT_NOT_FOUND']),expect(_0x399460[_0x5b39b4(0x128)])[_0x5b39b4(0x172)](_0x363657[_0x5b39b4(0x168)]);}}),_0x20b02b[_0x298c43(0x16b)](it,_0x298c43(0x177),async()=>{const _0x34923f=_0x298c43;_0x20b02b['kBVDW'](expect,_0x5b62e3['id'])[_0x34923f(0x172)](_0x4f1a21),await request({'url':serverURL+'/requestPasswordReset','method':_0x34923f(0x15d),'headers':headers,'body':JSON[_0x34923f(0x14d)]({...keys,'_method':_0x20b02b['iUgTP'],'email':_0x34923f(0x131)})});const _0x37ad5d=await _0x20b02b[_0x34923f(0x16c)](request,{'method':_0x34923f(0x147),'url':_0x34923f(0x14e)+_0x5b62e3['id'],'json':!![],'headers':{'X-Parse-Application-Id':_0x20b02b[_0x34923f(0x16f)],'X-Parse-Rest-API-Key':_0x34923f(0x17a),'X-Parse-Maintenance-Key':_0x20b02b[_0x34923f(0x13f)],'Content-Type':_0x20b02b[_0x34923f(0x145)]}})['then'](_0x4a0af3=>_0x4a0af3['data']),_0x18d5ca=_0x37ad5d[_0x34923f(0x16a)],_0x2066c1=await request({'url':serverURL+_0x34923f(0x161)+_0x18d5ca,'method':'GET'});expect(_0x2066c1['status'])[_0x34923f(0x172)](0x12e),expect(_0x2066c1['headers'][_0x34923f(0x159)])[_0x34923f(0x167)](_0x34923f(0x125)+_0x18d5ca+'\x5c&'),await request({'url':serverURL+_0x34923f(0x130),'method':_0x34923f(0x15d),'body':{'token':_0x18d5ca,'username':_0x20b02b['zmdHU'],'new_password':'newpassword'}});const _0xa5bb5e=await Parse[_0x34923f(0x173)]['logIn'](_0x20b02b[_0x34923f(0x15c)],_0x20b02b[_0x34923f(0x155)]);expect(_0xa5bb5e['id'])['toEqual'](_0x4f1a21);});});});