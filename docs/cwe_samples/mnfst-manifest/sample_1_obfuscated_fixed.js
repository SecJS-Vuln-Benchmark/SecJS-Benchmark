const _0xb8d1d2=_0x443f;function _0x38e6(){const _0x385822=['toEqual','fUAso','1910889CYGOwT','now','54emXYEW','toBeNull','ELIpD','body','2228360bnkMRv','3clKvIO','ivxco','vtMKX','267708hmWzNg','173879EnylHa','parseDataUri','returns\x20null\x20for\x20an\x20invalid\x20data\x20URI','lhUlK','gQADh','hello\x20world','vzfyX','input','OEwWv','369968zEcwcA','135925JbhFUS','miwoR','repeat','parses\x20a\x20valid\x20text\x20data\x20URI','MBbOA','getSelectionPosition/setSelectionPosition','appendChild','304208LLjPLE','RVCQk','div','oCYSL','EoWQM','value','createElement','should\x20get/set\x20selection\x20on\x20input\x20correctly','does\x20not\x20hang\x20or\x20crash\x20on\x20malicious\x20DOS\x20input','tVZDU','QcdSE','data:text/plain;base64,SGVsbG8sIFdvcmxkIQ==','LJvwE','21oQbMko','removeChild'];_0x38e6=function(){return _0x385822;};return _0x38e6();}(function(_0x491249,_0x3c34cb){const _0x1a6a07=_0x443f,_0x4edb91=_0x491249();while(!![]){try{const _0x2cacbf=parseInt(_0x1a6a07(0xc4))/0x1+parseInt(_0x1a6a07(0xc3))/0x2*(parseInt(_0x1a6a07(0xc0))/0x3)+-parseInt(_0x1a6a07(0xcd))/0x4+-parseInt(_0x1a6a07(0xce))/0x5*(-parseInt(_0x1a6a07(0xbb))/0x6)+-parseInt(_0x1a6a07(0xb5))/0x7*(-parseInt(_0x1a6a07(0xd5))/0x8)+-parseInt(_0x1a6a07(0xb9))/0x9+-parseInt(_0x1a6a07(0xbf))/0xa;if(_0x2cacbf===_0x3c34cb)break;else _0x4edb91['push'](_0x4edb91['shift']());}catch(_0x5b77b6){_0x4edb91['push'](_0x4edb91['shift']());}}}(_0x38e6,0x21e4b));import{getSelectionPosition,parseDataUri,setSelectionPosition}from'metabase/lib/dom';function _0x443f(_0x34890e,_0x489941){const _0x38e6b1=_0x38e6();return _0x443f=function(_0x443f6e,_0x40d477){_0x443f6e=_0x443f6e-0xa9;let _0x441e2f=_0x38e6b1[_0x443f6e];return _0x441e2f;},_0x443f(_0x34890e,_0x489941);}describe(_0xb8d1d2(0xd3),()=>{const _0x489029=_0xb8d1d2,_0x3b201e={'UDsSd':_0x489029(0xc9),'EoWQM':function(_0x43283f,_0x2c0ff4,_0x1d9e77){return _0x43283f(_0x2c0ff4,_0x1d9e77);},'MBbOA':function(_0x9d5fca,_0x55bfdf){return _0x9d5fca(_0x55bfdf);},'gQADh':function(_0x33a8fa,_0x1e224e){return _0x33a8fa(_0x1e224e);},'XSULA':function(_0x5a82b7,_0x170687,_0x2fc1aa){return _0x5a82b7(_0x170687,_0x2fc1aa);},'fUAso':_0x489029(0xaf)};let _0x52808d;_0x3b201e[_0x489029(0xc8)](beforeEach,()=>{const _0x570280=_0x489029;_0x52808d=document[_0x570280(0xae)](_0x570280(0xaa)),document[_0x570280(0xbe)][_0x570280(0xd4)](_0x52808d);}),afterEach(()=>{const _0x4e6763=_0x489029;document[_0x4e6763(0xbe)][_0x4e6763(0xb6)](_0x52808d);}),_0x3b201e['XSULA'](it,_0x3b201e[_0x489029(0xb8)],()=>{const _0x466d51=_0x489029,_0x4489e1=document['createElement']('input');_0x52808d[_0x466d51(0xd4)](_0x4489e1),_0x4489e1[_0x466d51(0xad)]=_0x3b201e['UDsSd'],_0x3b201e[_0x466d51(0xac)](setSelectionPosition,_0x4489e1,[0x3,0x6]);const _0x2b8a15=_0x3b201e[_0x466d51(0xd2)](getSelectionPosition,_0x4489e1);_0x3b201e[_0x466d51(0xd2)](expect,_0x2b8a15)[_0x466d51(0xb7)]([0x3,0x6]);});}),describe(_0xb8d1d2(0xc5),()=>{const _0x454dab=_0xb8d1d2,_0x24ed0a={'ivxco':function(_0x56e526,_0x425c31){return _0x56e526(_0x425c31);},'ELIpD':'SGVsbG8sIFdvcmxkIQ==','lhUlK':function(_0x5dab52,_0x1b0515){return _0x5dab52(_0x1b0515);},'bVFQe':_0x454dab(0xaa),'vfDeW':_0x454dab(0xcb),'OEwWv':function(_0xa1f34e,_0x535d7b,_0x34407a){return _0xa1f34e(_0x535d7b,_0x34407a);},'miwoR':function(_0x3b02e2,_0x5119c1,_0x2780a5){return _0x3b02e2(_0x5119c1,_0x2780a5);},'vtMKX':function(_0x56cb99,_0x5ecb77){return _0x56cb99===_0x5ecb77;},'EUcsH':_0x454dab(0xb2),'RVCQk':'TRgFU','ArJgn':function(_0x2e3d8e,_0x1f0258){return _0x2e3d8e+_0x1f0258;},'LJvwE':function(_0x511c5d,_0x1d39fa){return _0x511c5d(_0x1d39fa);}};_0x24ed0a[_0x454dab(0xcf)](it,_0x454dab(0xd1),()=>{const _0x3a0584=_0x454dab,_0xad9309=_0x3a0584(0xb3),_0x2a7163=_0x24ed0a[_0x3a0584(0xc1)](parseDataUri,_0xad9309);_0x24ed0a[_0x3a0584(0xc1)](expect,_0x2a7163)['toEqual']({'mimeType':'text/plain','charset':undefined,'data':'Hello,\x20World!','base64':_0x24ed0a[_0x3a0584(0xbd)]});}),_0x24ed0a[_0x454dab(0xcc)](it,_0x454dab(0xc6),()=>{const _0x576764=_0x454dab,_0x34a6e9='d4ta:text/plain;base64,SGVsbG8sIFdvcmxkIQ==',_0xa3058f=parseDataUri(_0x34a6e9);_0x24ed0a[_0x576764(0xc7)](expect,_0xa3058f)[_0x576764(0xbc)]();}),_0x24ed0a[_0x454dab(0xcf)](it,_0x454dab(0xb0),()=>{const _0x31e1f5=_0x454dab;if(_0x24ed0a[_0x31e1f5(0xc2)](_0x24ed0a['EUcsH'],_0x24ed0a[_0x31e1f5(0xa9)])){const _0x39776e={'oCYSL':_0x24ed0a['bVFQe'],'iWvhu':_0x24ed0a['vfDeW'],'vzfyX':function(_0x34d86c,_0x2887ac,_0x3634cd){const _0x2bd7e1=_0x31e1f5;return _0x24ed0a[_0x2bd7e1(0xcc)](_0x34d86c,_0x2887ac,_0x3634cd);},'tVZDU':function(_0x515626,_0x1f2af1){const _0x121fc3=_0x31e1f5;return _0x24ed0a[_0x121fc3(0xc7)](_0x515626,_0x1f2af1);}};let _0x1ca786;_0x38a67e(()=>{const _0x42366e=_0x31e1f5;_0x1ca786=_0x24e2b5[_0x42366e(0xae)](_0x39776e[_0x42366e(0xab)]),_0x5805c5[_0x42366e(0xbe)][_0x42366e(0xd4)](_0x1ca786);}),_0x24ed0a[_0x31e1f5(0xc1)](_0x20fff8,()=>{const _0xcc8729=_0x31e1f5;_0x11b1a4['body'][_0xcc8729(0xb6)](_0x1ca786);}),_0x24ed0a[_0x31e1f5(0xcf)](_0x5ce8b4,'should\x20get/set\x20selection\x20on\x20input\x20correctly',()=>{const _0x2ad9e4=_0x31e1f5,_0x5e0dd5=_0x4b76b6[_0x2ad9e4(0xae)](_0x39776e['iWvhu']);_0x1ca786['appendChild'](_0x5e0dd5),_0x5e0dd5['value']=_0x2ad9e4(0xc9),_0x39776e[_0x2ad9e4(0xca)](_0x40c594,_0x5e0dd5,[0x3,0x6]);const _0x4c8c8f=_0x39776e[_0x2ad9e4(0xb1)](_0x3cb3f6,_0x5e0dd5);_0x21e2b8(_0x4c8c8f)['toEqual']([0x3,0x6]);});}else{const _0x1d6a39=_0x24ed0a['ArJgn']('data:\x00','\x00,'[_0x31e1f5(0xd0)](0x186a0))+'\x0a1\x0a',_0x3a6bce=Date['now'](),_0x323c99=parseDataUri(_0x1d6a39),_0x13d487=Date[_0x31e1f5(0xba)]()-_0x3a6bce;_0x24ed0a[_0x31e1f5(0xc7)](expect,_0x323c99)[_0x31e1f5(0xbc)](),_0x24ed0a[_0x31e1f5(0xb4)](expect,_0x13d487)['toBeLessThan'](0x3e8);}});});