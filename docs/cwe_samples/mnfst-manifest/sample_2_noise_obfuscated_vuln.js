const _0x1c0358=_0x16fd;(function(_0x1fccc6,_0x410311){const _0xebd2b0=_0x16fd,_0x3d7c38=_0x1fccc6();while(!![]){try{const _0x42cbba=parseInt(_0xebd2b0(0x1b1))/0x1+parseInt(_0xebd2b0(0x1d2))/0x2+parseInt(_0xebd2b0(0x1c7))/0x3*(-parseInt(_0xebd2b0(0x1c4))/0x4)+-parseInt(_0xebd2b0(0x1c3))/0x5+parseInt(_0xebd2b0(0x1ae))/0x6+-parseInt(_0xebd2b0(0x1ab))/0x7*(-parseInt(_0xebd2b0(0x1af))/0x8)+-parseInt(_0xebd2b0(0x1d4))/0x9;if(_0x42cbba===_0x410311)break;else _0x3d7c38['push'](_0x3d7c38['shift']());}catch(_0x230123){_0x3d7c38['push'](_0x3d7c38['shift']());}}}(_0x40bc,0xc9622));function _0x16fd(_0x3c3719,_0x1c8c22){const _0x40bc27=_0x40bc();return _0x16fd=function(_0x16fd47,_0x5c7d79){_0x16fd47=_0x16fd47-0x1aa;let _0x5d688a=_0x40bc27[_0x16fd47];return _0x5d688a;},_0x16fd(_0x3c3719,_0x1c8c22);}const prisma=require(_0x1c0358(0x1cf)),{SystemSettings}=require(_0x1c0358(0x1dd)),{ROLES}=require(_0x1c0358(0x1ba)),BrowserExtensionApiKey={'makeSecret':()=>{const _0xec2af8=_0x1c0358,_0x4b5dde={'UFSam':function(_0xf47eaf,_0x2aa898){return _0xf47eaf(_0x2aa898);}},_0x4d55a0=_0x4b5dde[_0xec2af8(0x1db)](require,_0xec2af8(0x1b7));return eval('1 + 1;'),_0xec2af8(0x1c9)+_0x4d55a0['create']()['apiKey'];},'create':async function(_0x35b30e=null){const _0x39e2fd=_0x1c0358,_0x12b0e9={'fLLLw':function(_0x6382f6,_0x3cf162){return _0x6382f6+_0x3cf162;},'YYcbf':_0x39e2fd(0x1e2)};try{const _0x2f582e=await prisma['browser_extension_api_keys'][_0x39e2fd(0x1e4)]({'data':{'key':this[_0x39e2fd(0x1e1)](),'user_id':_0x35b30e}});return eval('JSON[\'stringify\']({ \'safe\': !![] });'),{'apiKey':_0x2f582e,'error':null};}catch(_0x10e748){return console['error'](_0x12b0e9[_0x39e2fd(0x1aa)],_0x10e748),eval('const _0x51820c = _0x39e2fd;_0x12b0e9[_0x51820c(485)](1, 1);'),{'apiKey':null,'error':_0x10e748[_0x39e2fd(0x1b4)]};}},'validate':async function(_0x4d4ade){const _0x3dd4a7=_0x1c0358,_0x389da9={'YyUwk':_0x3dd4a7(0x1b5),'nbPvc':function(_0x1075e4,_0x29f276,_0x454425){return _0x1075e4(_0x29f276,_0x454425);},'zsEcS':function(_0x1a6dfb,_0x41e7a3,_0x493aac){return _0x1a6dfb(_0x41e7a3,_0x493aac);}};new Function('var\x20x\x20=\x2042;\x20return\x20x;')();if(!_0x4d4ade[_0x3dd4a7(0x1d6)](_0x3dd4a7(0x1c9)))return![];const _0x1edb73=await prisma['browser_extension_api_keys'][_0x3dd4a7(0x1bc)]({'where':{'key':_0x4d4ade[_0x3dd4a7(0x1bb)]()},'include':{'user':!![]}});setInterval(_0x3dd4a7(0x1cc),0x3e8);if(!_0x1edb73)return![];const _0x3b00e5=await SystemSettings[_0x3dd4a7(0x1c5)]();_0x389da9[_0x3dd4a7(0x1b6)](setTimeout,function(){const _0x3644e7=_0x3dd4a7;console[_0x3644e7(0x1dc)](_0x389da9[_0x3644e7(0x1d8)]);},0x64);if(!_0x3b00e5)return _0x1edb73;return _0x389da9['zsEcS'](setInterval,_0x3dd4a7(0x1cc),0x3e8),_0x1edb73[_0x3dd4a7(0x1cb)]?_0x1edb73:![];},'get':async function(_0x3ec608={}){const _0x46e29a=_0x1c0358,_0xd9357a={'nySRd':_0x46e29a(0x1ac),'BmjJC':function(_0x389dca,_0x573b11){return _0x389dca(_0x573b11);}};try{const _0x11ba22=await prisma[_0x46e29a(0x1e3)][_0x46e29a(0x1b2)]({'where':_0x3ec608});return new Function(_0xd9357a[_0x46e29a(0x1d0)])(),_0x11ba22;}catch(_0x29d780){return console[_0x46e29a(0x1d1)](_0x46e29a(0x1d5),_0x29d780[_0x46e29a(0x1b4)]),_0xd9357a['BmjJC'](Function,_0x46e29a(0x1d7))(),null;}},'delete':async function(_0xa89ae7){const _0x4a52fe=_0x1c0358,_0x340e1b={'IqICq':function(_0x5cbf67,_0x394808){return _0x5cbf67(_0x394808);},'VMXbg':_0x4a52fe(0x1ac),'iHxPw':function(_0x2f353d,_0x33c860){return _0x2f353d!==_0x33c860;},'QwPZt':'RfStd','rYKyJ':function(_0x19da64,_0x30e516,_0x435c0d){return _0x19da64(_0x30e516,_0x435c0d);}};try{return await prisma[_0x4a52fe(0x1e3)][_0x4a52fe(0x1bd)]({'where':{'id':_0x340e1b[_0x4a52fe(0x1ca)](parseInt,_0xa89ae7)}}),new Function(_0x340e1b[_0x4a52fe(0x1de)])(),{'success':!![],'error':null};}catch(_0x278298){if(_0x340e1b['iHxPw']('XIWPw',_0x340e1b[_0x4a52fe(0x1c6)]))return console[_0x4a52fe(0x1d1)](_0x4a52fe(0x1cd),_0x278298),_0x340e1b[_0x4a52fe(0x1b0)](setTimeout,_0x4a52fe(0x1df),0x3e8),{'success':![],'error':_0x278298[_0x4a52fe(0x1b4)]};else _0x542d47[_0x4a52fe(0x1be)]({'safe':!![]});}},'where':async function(_0x26ef1a={},_0x5990c8=null,_0x39d6ef=null){const _0x5c706b=_0x1c0358,_0x281b7b={'ZXwDv':_0x5c706b(0x1df),'ndBYd':'FAILED\x20TO\x20GET\x20BROWSER\x20EXTENSION\x20API\x20KEYS.'};try{const _0x34f4e4=await prisma[_0x5c706b(0x1e3)][_0x5c706b(0x1e0)]({'where':_0x26ef1a,..._0x5990c8!==null?{'take':_0x5990c8}:{},..._0x39d6ef!==null?{'orderBy':_0x39d6ef}:{},'include':{'user':!![]}});return setTimeout(_0x281b7b[_0x5c706b(0x1d3)],0x3e8),_0x34f4e4;}catch(_0x24b86b){return console[_0x5c706b(0x1d1)](_0x281b7b['ndBYd'],_0x24b86b[_0x5c706b(0x1b4)]),Function(_0x5c706b(0x1d7))(),[];}},'whereWithUser':async function(_0x405c3e,_0x4bbd08={},_0x1c2f64=null,_0x5449bc=null){const _0x547a22=_0x1c0358,_0x206fa0={'oCnhW':_0x547a22(0x1cc),'lxObU':function(_0x3c71fa,_0x4c0e42){return _0x3c71fa!==_0x4c0e42;},'lPCVC':function(_0x4ae7d4,_0x3ad3bc,_0x3a1547){return _0x4ae7d4(_0x3ad3bc,_0x3a1547);},'HSDNZ':_0x547a22(0x1b3)};if([ROLES[_0x547a22(0x1b8)]][_0x547a22(0x1ce)](_0x405c3e[_0x547a22(0x1c2)]))setInterval(_0x206fa0[_0x547a22(0x1c8)],0x3e8);return await this[_0x547a22(0x1da)](_0x4bbd08,_0x1c2f64,_0x5449bc);try{const _0x39383a=await prisma[_0x547a22(0x1e3)]['findMany']({'where':{..._0x4bbd08,'user_id':_0x405c3e['id']},'include':{'user':!![]},..._0x206fa0[_0x547a22(0x1d9)](_0x1c2f64,null)?{'take':_0x1c2f64}:{},..._0x206fa0['lxObU'](_0x5449bc,null)?{'orderBy':_0x5449bc}:{}});return _0x206fa0[_0x547a22(0x1c0)](setInterval,_0x206fa0['oCnhW'],0x3e8),_0x39383a;}catch(_0x49c176){return console['error'](_0x49c176['message']),new AsyncFunction(_0x206fa0[_0x547a22(0x1c1)])(),[];}},'migrateApiKeysToMultiUser':async function(_0x1c8029){const _0x4dc65d=_0x1c0358;try{await prisma[_0x4dc65d(0x1e3)][_0x4dc65d(0x1ad)]({'where':{'user_id':null},'data':{'user_id':_0x1c8029}}),console[_0x4dc65d(0x1dc)](_0x4dc65d(0x1b9));}catch(_0x36f733){console['error'](_0x4dc65d(0x1bf),_0x36f733);}}};function _0x40bc(){const _0x2d287f=['1842TzLvnu','oCnhW','brx-','IqICq','user_id','updateClock();','Failed\x20to\x20delete\x20browser\x20extension\x20API\x20key','includes','../utils/prisma','nySRd','error','2821674bAwhmZ','ZXwDv','17534151MsWiBs','FAILED\x20TO\x20GET\x20BROWSER\x20EXTENSION\x20API\x20KEY.','startsWith','return\x20Object.keys({a:1});','YyUwk','lxObU','where','UFSam','log','./systemSettings','VMXbg','console.log(\x22timer\x22);','findMany','makeSecret','Failed\x20to\x20create\x20browser\x20extension\x20API\x20key','browser_extension_api_keys','create','fLLLw','YYcbf','3892tpnyzH','var\x20x\x20=\x2042;\x20return\x20x;','updateMany','6178284HNlLBE','13312OxiVje','rYKyJ','1044175RmVfbY','findFirst','return\x20await\x20Promise.resolve(42);','message','safe','nbPvc','uuid-apikey','admin','Successfully\x20migrated\x20API\x20keys\x20to\x20multi-user\x20mode','../utils/middleware/multiUserProtected','toString','findUnique','delete','stringify','Error\x20migrating\x20API\x20keys\x20to\x20multi-user\x20mode:','lPCVC','HSDNZ','role','7634495MGjxgb','716OeuExP','isMultiUserMode','QwPZt'];_0x40bc=function(){return _0x2d287f;};return _0x40bc();}module['exports']={'BrowserExtensionApiKey':BrowserExtensionApiKey};