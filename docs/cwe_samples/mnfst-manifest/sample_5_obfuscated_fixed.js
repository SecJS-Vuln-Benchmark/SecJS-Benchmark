(function(_0x345cf7,_0x4e579f){const _0xe4b1f3=_0x4199,_0x3bbb03=_0x345cf7();while(!![]){try{const _0x845700=parseInt(_0xe4b1f3(0x19d))/0x1+parseInt(_0xe4b1f3(0x1e1))/0x2*(parseInt(_0xe4b1f3(0x29f))/0x3)+-parseInt(_0xe4b1f3(0x255))/0x4*(-parseInt(_0xe4b1f3(0x231))/0x5)+-parseInt(_0xe4b1f3(0x198))/0x6*(parseInt(_0xe4b1f3(0x147))/0x7)+parseInt(_0xe4b1f3(0x214))/0x8*(parseInt(_0xe4b1f3(0x286))/0x9)+parseInt(_0xe4b1f3(0x259))/0xa*(parseInt(_0xe4b1f3(0x15d))/0xb)+-parseInt(_0xe4b1f3(0x20b))/0xc;if(_0x845700===_0x4e579f)break;else _0x3bbb03['push'](_0x3bbb03['shift']());}catch(_0x3f15c3){_0x3bbb03['push'](_0x3bbb03['shift']());}}}(_0x5430,0xa4e2f));import _0x16cf31 from'underscore';import{QA_POSTGRES_PORT,SAMPLE_DB_ID,USER_GROUPS}from'e2e/support/cypress_data';function _0x4199(_0x4556ef,_0x282878){const _0x5430cf=_0x5430();return _0x4199=function(_0x4199a9,_0x394825){_0x4199a9=_0x4199a9-0x11d;let _0x5bd366=_0x5430cf[_0x4199a9];return _0x5bd366;},_0x4199(_0x4556ef,_0x282878);}import{interceptPerformanceRoutes}from'../performance/helpers/e2e-performance-helpers';import{BASE_POSTGRES_MIRROR_DB_INFO,configurDbRoutingViaAPI,createDestinationDatabasesViaAPI}from'./helpers/e2e-database-routing-helpers';const {H}=cy,{ALL_USERS_GROUP}=USER_GROUPS;describe('admin\x20>\x20database\x20>\x20database\x20routing',()=>{const _0x52b063=_0x4199,_0xeda64a={'bqlRi':'postgres-writable','xZxYU':'createDestinationDatabase','RIArL':_0x52b063(0x28d),'dqcFb':'/api/database/*','IfQyj':_0x52b063(0x2a9),'iNJXf':_0x52b063(0x1dd),'bCzJU':'/admin/databases/2','qbSjJ':_0x52b063(0x218),'lTeXI':'Model\x20actions','PRMBx':'role','ukykg':function(_0x3f383b,_0x4ee8d1){return _0x3f383b(_0x4ee8d1);},'DzYon':'Enable\x20database\x20routing','kqFJr':_0x52b063(0x266),'rWplv':function(_0x3c1828){return _0x3c1828();},'xJcXn':_0x52b063(0x123),'osdrT':_0x52b063(0x2a5),'SPqyM':_0x52b063(0x1e9),'COwwK':_0x52b063(0x26a),'Ajywb':'should\x20not\x20see\x20destination\x20databases\x20in\x20search','UMxMt':_0x52b063(0x133),'dWDek':_0x52b063(0x1fa),'dzFaq':'/admin/datamodel','ivJnU':_0x52b063(0x28c),'OHZjI':_0x52b063(0x278),'drftI':_0x52b063(0x178),'nRZQB':'sidebar-header','KAOFl':_0x52b063(0x225),'wKfce':_0x52b063(0x160),'PgPEC':'all','rLiUF':function(_0x333400,_0x532a6f){return _0x333400===_0x532a6f;},'VEueE':_0x52b063(0x158),'NxoUM':_0x52b063(0x154),'drmcj':_0x52b063(0x212),'eiQvG':_0x52b063(0x1c4),'jlPGN':_0x52b063(0x256),'FGwZV':_0x52b063(0x28a),'uSDZH':_0x52b063(0x294),'UoCrh':_0x52b063(0x277),'RjnFg':_0x52b063(0x203),'AcohT':_0x52b063(0x21b),'vppXq':function(_0x36c889){return _0x36c889();},'COcPG':function(_0x553076){return _0x553076();},'qUjFt':function(_0x5b0228){return _0x5b0228();},'znMVI':_0x52b063(0x284),'Aleov':_0x52b063(0x1a1),'srhKw':'Destination\x20DB\x201\x20Updated','dAcpE':_0x52b063(0x283),'xlQQx':'database-model-features-section','BeXDk':_0x52b063(0x206),'CQKly':_0x52b063(0x262),'spbyR':'should\x20not\x20allow\x20enabling\x20database\x20for\x20uploads','CrDQU':_0x52b063(0x15c),'ttYii':_0x52b063(0x17f),'xFBRH':_0x52b063(0x12d),'WfjFv':_0x52b063(0x253),'CBLAJ':'button','oRkjh':_0x52b063(0x281),'yhTXo':_0x52b063(0x288),'PQBFy':_0x52b063(0x17b),'LdsnG':function(_0x5ef78a,_0x488584){return _0x5ef78a(_0x488584);},'EsOxe':_0x52b063(0x219),'iXLKw':_0x52b063(0x22d),'nuVnn':function(_0x3c88ed,_0x1653dc,_0x46a0f6){return _0x3c88ed(_0x1653dc,_0x46a0f6);},'BQmjt':_0x52b063(0x1a0),'qStCy':_0x52b063(0x282),'IPdSx':_0x52b063(0x293),'bSMnO':function(_0x59aeb5,_0x2d09ca,_0x14beba){return _0x59aeb5(_0x2d09ca,_0x14beba);},'XwHDp':function(_0x15d85b,_0x3f6f8a,_0x3e72c1){return _0x15d85b(_0x3f6f8a,_0x3e72c1);},'hJLaU':_0x52b063(0x131),'oirVd':_0x52b063(0x2aa),'IgjFy':_0x52b063(0x1df),'hvLIO':_0x52b063(0x29e),'ZqFHL':'@OSS'};beforeEach(()=>{const _0x399576=_0x52b063;H[_0x399576(0x1f8)](_0xeda64a[_0x399576(0x1e3)]),cy[_0x399576(0x247)](),cy[_0x399576(0x180)](_0x399576(0x26c),_0x399576(0x20a))['as'](_0xeda64a[_0x399576(0x298)]),cy[_0x399576(0x180)](_0xeda64a['RIArL'],_0xeda64a[_0x399576(0x204)])['as'](_0xeda64a[_0x399576(0x270)]),cy[_0x399576(0x180)](_0xeda64a[_0x399576(0x12a)],'/api/database/*')['as'](_0x399576(0x27b));}),describe('EE',()=>{const _0x45c8e0=_0x52b063,_0xa1923c={'rUktA':_0xeda64a[_0x45c8e0(0x2a7)],'OfDhI':_0xeda64a['UMxMt'],'zpgmG':_0xeda64a['COwwK'],'sXsRP':function(_0x29ce1c,_0x2cb024){const _0x164843=_0x45c8e0;return _0xeda64a[_0x164843(0x235)](_0x29ce1c,_0x2cb024);},'bPnAX':_0xeda64a['VEueE'],'mPDWC':_0xeda64a[_0x45c8e0(0x250)],'SndQt':_0x45c8e0(0x163),'jWNIi':_0xeda64a[_0x45c8e0(0x295)],'HBAAQ':_0xeda64a[_0x45c8e0(0x182)],'nHcyA':_0xeda64a[_0x45c8e0(0x1af)],'cnftL':_0xeda64a['FGwZV'],'PrZrJ':_0xeda64a[_0x45c8e0(0x191)],'iykLb':_0xeda64a[_0x45c8e0(0x23f)],'CkKiH':_0x45c8e0(0x1b5),'CWVzi':_0x45c8e0(0x202),'FwZOD':_0xeda64a['RjnFg'],'hLoRs':_0x45c8e0(0x1ea),'AwszF':_0x45c8e0(0x2aa),'trNdW':_0x45c8e0(0x1f5),'aqXjK':'Enable\x20database\x20routing','tgpdL':_0xeda64a['AcohT'],'ULmTZ':_0x45c8e0(0x1e5),'vppSI':_0x45c8e0(0x1ab),'hgFrt':_0x45c8e0(0x1aa),'nFkgf':_0x45c8e0(0x157),'XWfjR':function(_0x4728f0){return _0xeda64a['vppXq'](_0x4728f0);},'uqEVd':function(_0x414b08){const _0x4a1414=_0x45c8e0;return _0xeda64a[_0x4a1414(0x228)](_0x414b08);},'NrnEa':'View\x20all\x206','QhRaK':function(_0x3408e9){const _0x2e9e65=_0x45c8e0;return _0xeda64a[_0x2e9e65(0x13c)](_0x3408e9);},'qLhhA':'destination-db-list-item','uUoHn':_0x45c8e0(0x1b3),'vwlgx':_0xeda64a[_0x45c8e0(0x1ef)],'AeipX':_0xeda64a['Aleov'],'qzlcM':_0xeda64a['srhKw'],'eqUnC':_0xeda64a[_0x45c8e0(0x23c)],'zJMXw':'should\x20not\x20remove\x20destination\x20databases\x20when\x20turning\x20the\x20feature\x20off','bkCTG':_0x45c8e0(0x1d5),'dVsKF':'Model\x20persistence','VOEik':_0x45c8e0(0x25f),'BJVLx':_0x45c8e0(0x26b),'DoqTE':_0xeda64a[_0x45c8e0(0x18a)],'GcArh':_0x45c8e0(0x28e),'vbKNA':_0xeda64a[_0x45c8e0(0x21d)],'slBAB':'be.checked','uCRHO':function(_0x10c108){return _0x10c108();},'iJJSC':'Model\x20actions','KqqZh':_0x45c8e0(0x209),'ViZAl':'should\x20be\x20disabled\x20if\x20uploads\x20are\x20enabled\x20for\x20the\x20database','mFtpa':_0xeda64a['BeXDk'],'FboTi':_0x45c8e0(0x186),'UDJSl':_0xeda64a[_0x45c8e0(0x274)],'IMmOp':_0xeda64a[_0x45c8e0(0x1a5)],'XcHbd':_0xeda64a[_0x45c8e0(0x167)],'Obpft':_0x45c8e0(0x251),'pGbbE':_0xeda64a[_0x45c8e0(0x1cf)],'CMeJm':_0xeda64a[_0x45c8e0(0x244)],'gbVLR':_0xeda64a['WfjFv'],'ikeRK':_0xeda64a[_0x45c8e0(0x280)],'HfSbj':'oMnTl','gxhcp':_0xeda64a['oRkjh'],'wMZDk':_0x45c8e0(0x1ac),'pTIxx':_0xeda64a[_0x45c8e0(0x143)],'afhOE':_0x45c8e0(0x289),'WIsRq':_0xeda64a[_0x45c8e0(0x1fd)],'KeeFd':'/api/database/2','ISwWA':function(_0x18d35d,_0xcaadfa){const _0x3e077a=_0x45c8e0;return _0xeda64a[_0x3e077a(0x1b8)](_0x18d35d,_0xcaadfa);},'fxamO':_0x45c8e0(0x18e),'iFpIh':_0xeda64a[_0x45c8e0(0x1e0)],'sdUtd':function(_0x439234){return _0xeda64a['vppXq'](_0x439234);},'sSdNx':_0xeda64a[_0x45c8e0(0x23d)],'oZQfV':function(_0x5d8d32){return _0x5d8d32();},'MitKk':function(_0x2f84fd){const _0x28fd99=_0x45c8e0;return _0xeda64a[_0x28fd99(0x13c)](_0x2f84fd);},'WBgYj':_0x45c8e0(0x194),'HuZhX':'setup\x20-\x20db\x20routing','VFauF':_0x45c8e0(0x1b2),'QEjFQ':'Yes','WSOyG':function(_0x490335,_0xe6854b,_0x3a70ab){const _0x39026a=_0x45c8e0;return _0xeda64a[_0x39026a(0x26d)](_0x490335,_0xe6854b,_0x3a70ab);},'ErCpe':_0xeda64a[_0x45c8e0(0x11d)],'vTpYl':_0xeda64a[_0x45c8e0(0x1c8)]};beforeEach(()=>{const _0x49a352=_0x45c8e0;H[_0x49a352(0x27e)](_0xa1923c[_0x49a352(0x130)]);}),_0xeda64a[_0x45c8e0(0x26d)](it,_0xeda64a[_0x45c8e0(0x13a)],()=>{const _0x4172b0=_0x45c8e0,_0x104fb0={'jkwQb':_0xa1923c['iykLb'],'LlUbq':_0x4172b0(0x238),'OpnwU':_0x4172b0(0x133),'PvClF':_0xa1923c[_0x4172b0(0x26f)],'uZlTV':_0x4172b0(0x28a),'nwQPB':_0x4172b0(0x294),'VcBZm':function(_0x57daff,_0x24d5d8){return _0x57daff!==_0x24d5d8;},'cRVLd':_0x4172b0(0x1fc),'keIfA':_0x4172b0(0x163),'RCMZi':_0x4172b0(0x121),'MSYih':_0xa1923c[_0x4172b0(0x1de)],'JCVTF':_0xa1923c['CWVzi'],'fnwoB':_0x4172b0(0x18b),'IgzHh':_0xa1923c[_0x4172b0(0x136)],'CdTdl':_0x4172b0(0x24c),'dPTUP':_0xa1923c['hLoRs'],'JoduD':'metasample124','dKWyi':_0x4172b0(0x11e),'QCIqf':_0xa1923c[_0x4172b0(0x22a)],'TtXQv':_0x4172b0(0x26a)};_0x4172b0(0x1bc)===_0xa1923c['trNdW']?(_0x216ed8[_0x4172b0(0x146)](_0x104fb0['jkwQb']),_0x597a56[_0x4172b0(0x1a9)](_0x104fb0[_0x4172b0(0x2ac)])['realHover']()):(cy[_0x4172b0(0x26e)](_0x4172b0(0x162)),cy['log']('disable\x20model\x20actions'),cy[_0x4172b0(0x1d2)](_0x4172b0(0x205))[_0x4172b0(0x1c9)]({'force':!![]}),cy[_0x4172b0(0x1f9)]('should\x20be\x20able\x20to\x20turn\x20the\x20feature\x20on'),cy[_0x4172b0(0x1d2)](_0xa1923c['aqXjK'])['should'](_0x4172b0(0x262))[_0x4172b0(0x1c9)]({'force':!![]}),cy['findByRole'](_0x4172b0(0x1fb),{'name':/Add/})['should']('be.disabled'),cy[_0x4172b0(0x1a9)](_0xa1923c['tgpdL'])[_0x4172b0(0x1c9)](),H[_0x4172b0(0x223)]()[_0x4172b0(0x146)](_0x4172b0(0x2b0))['click'](),H[_0x4172b0(0x234)]()[_0x4172b0(0x230)](()=>{const _0x2a4be5=_0x4172b0,_0x3f77d8={'ZABpY':'should\x20not\x20show\x20for\x20attached\x20data\x20warehouses','QUzMa':_0xa1923c['OfDhI'],'rjEZN':_0x2a4be5(0x22d),'PhuNj':_0x2a4be5(0x1a6),'gbgSC':function(_0x403244){return _0x403244();},'UNoIx':_0xa1923c[_0x2a4be5(0x1cb)]};if(_0xa1923c['sXsRP'](_0x2a4be5(0x158),_0xa1923c[_0x2a4be5(0x2a3)]))cy[_0x2a4be5(0x146)](_0xa1923c['mPDWC'])[_0x2a4be5(0x128)]('exist'),cy[_0x2a4be5(0x207)](_0x2a4be5(0x256))[_0x2a4be5(0x1c9)]();else{const _0x3be2aa='2|7|3|5|1|6|4|0|8'['split']('|');let _0x59768b=0x0;while(!![]){switch(_0x3be2aa[_0x59768b++]){case'0':_0x2f04e4()[_0x2a4be5(0x128)](_0x2a4be5(0x133));continue;case'1':_0x1db448[_0x2a4be5(0x1f9)](_0x3f77d8[_0x2a4be5(0x1f7)]);continue;case'2':_0x51111c[_0x2a4be5(0x1f9)](_0x2a4be5(0x219));continue;case'3':_0x4df92c()[_0x2a4be5(0x128)](_0x3f77d8[_0x2a4be5(0x1fe)]);continue;case'4':_0x40c986[_0x2a4be5(0x254)]();continue;case'5':_0x12a081()[_0x2a4be5(0x128)](_0x2a4be5(0x26a));continue;case'6':_0x57fe46['intercept']('GET',_0x2a4be5(0x14a)+_0x425b36,_0x24d6d4=>{const _0x5dcc6a=_0x2a4be5;_0x24d6d4[_0x5dcc6a(0x1b9)](_0xf9fded=>{const _0x5f2a9b=_0x5dcc6a;_0xf9fded['body']['is_attached_dwh']=!![],_0xf9fded[_0x5f2a9b(0x1f6)][_0x5f2a9b(0x15b)]=![];});})['as'](_0x3f77d8[_0x2a4be5(0x290)]);continue;case'7':_0x459e26[_0x2a4be5(0x26e)](_0x3f77d8[_0x2a4be5(0x188)]);continue;case'8':_0x3f77d8[_0x2a4be5(0x1d3)](_0x11bd6e)['should'](_0x3f77d8[_0x2a4be5(0x179)]);continue;}break;}}}),cy[_0x4172b0(0x1f9)](_0x4172b0(0x1c1)),cy[_0x4172b0(0x1a9)](_0xa1923c[_0x4172b0(0x15e)])[_0x4172b0(0x1c9)](),H['popover']()[_0x4172b0(0x146)](_0xa1923c[_0x4172b0(0x184)])[_0x4172b0(0x1c9)](),H[_0x4172b0(0x234)]()[_0x4172b0(0x230)](()=>{const _0x3bfc1c=_0x4172b0;cy['findByText']('Database\x20routing\x20updated')[_0x3bfc1c(0x128)](_0x104fb0['OpnwU']),cy[_0x3bfc1c(0x207)](_0x3bfc1c(0x256))[_0x3bfc1c(0x1c9)]();}),cy[_0x4172b0(0x1f9)](_0xa1923c[_0x4172b0(0x1d1)]),dbRoutingSection()[_0x4172b0(0x146)](_0xa1923c[_0x4172b0(0x1cd)]),cy['findByRole'](_0xa1923c[_0x4172b0(0x1ff)],{'name':/Add/})['click'](),H[_0x4172b0(0x297)]()[_0x4172b0(0x230)](()=>{const _0x3a6631=_0x4172b0,_0x539c60=_0x3a6631(0x17d)[_0x3a6631(0x1cc)]('|');let _0x26ccb8=0x0;while(!![]){switch(_0x539c60[_0x26ccb8++]){case'0':H[_0x3a6631(0x1b0)](/Username/,_0xa1923c[_0x3a6631(0x1d6)]);continue;case'1':H[_0x3a6631(0x1b0)](/Host/,_0x3a6631(0x121));continue;case'2':cy[_0x3a6631(0x243)](_0x3a6631(0x23e));continue;case'3':H[_0x3a6631(0x1b0)](/Slug/,_0x3a6631(0x277));continue;case'4':cy[_0x3a6631(0x1fb)](_0x3a6631(0x203))[_0x3a6631(0x1c9)]();continue;case'5':H[_0x3a6631(0x1b0)](/Port/,QA_POSTGRES_PORT);continue;case'6':cy[_0x3a6631(0x1f9)](_0xa1923c[_0x3a6631(0x217)]);continue;case'7':H[_0x3a6631(0x1b0)](/Password/,_0xa1923c[_0x3a6631(0x1de)]);continue;case'8':cy[_0x3a6631(0x1d2)](_0x3a6631(0x1c5))['should'](_0x3a6631(0x26a));continue;case'9':H[_0x3a6631(0x1b0)](/Database name/,_0x3a6631(0x18b));continue;}break;}}),H['undoToast']()[_0x4172b0(0x230)](()=>{const _0x2e148c=_0x4172b0;cy[_0x2e148c(0x146)](_0x104fb0['PvClF'])[_0x2e148c(0x128)](_0x104fb0[_0x2e148c(0x1a2)]),cy[_0x2e148c(0x207)](_0x2e148c(0x256))['click']();}),dbRoutingSection()[_0x4172b0(0x230)](()=>{const _0x4686fc=_0x4172b0;cy[_0x4686fc(0x146)](_0x104fb0[_0x4686fc(0x1d8)]),cy[_0x4686fc(0x1a9)](_0x104fb0[_0x4686fc(0x2ac)])[_0x4686fc(0x237)]();}),H['tooltip']()['should']('contain.text',_0x4172b0(0x222)),cy[_0x4172b0(0x1f9)](_0x4172b0(0x200)),cy[_0x4172b0(0x14b)](_0xa1923c[_0x4172b0(0x1ff)],{'name':/Add/})['click'](),H[_0x4172b0(0x297)]()[_0x4172b0(0x230)](()=>{const _0x310e2d=_0x4172b0,_0x543380={'BdbgI':_0x104fb0['uZlTV'],'DBYbm':_0x104fb0[_0x310e2d(0x261)],'FwcBd':_0x310e2d(0x25d)};if(_0x104fb0['VcBZm']('zJPoJ',_0x310e2d(0x137)))_0x35a86a[_0x310e2d(0x1a9)](_0x543380[_0x310e2d(0x2a6)])[_0x310e2d(0x165)](_0x310e2d(0x1f2)),_0x27e20e[_0x310e2d(0x1fb)](_0x543380['DBYbm'])['click'](),_0x52f7dd[_0x310e2d(0x243)](_0x543380[_0x310e2d(0x1bb)]);else{const _0x3e34bb=_0x104fb0[_0x310e2d(0x17c)][_0x310e2d(0x1cc)]('|');let _0x172e4f=0x0;while(!![]){switch(_0x3e34bb[_0x172e4f++]){case'0':cy[_0x310e2d(0x243)]('@createDestinationDatabase');continue;case'1':H['typeAndBlurUsingLabel'](/Username/,_0x104fb0[_0x310e2d(0x13b)]);continue;case'2':H[_0x310e2d(0x1b0)](/Port/,QA_POSTGRES_PORT);continue;case'3':H[_0x310e2d(0x1b0)](/Host/,_0x104fb0[_0x310e2d(0x139)]);continue;case'4':H[_0x310e2d(0x1b0)](/Password/,_0x104fb0[_0x310e2d(0x132)]);continue;case'5':cy[_0x310e2d(0x1fb)](/(Failed|Save)/)['click']();continue;case'6':H[_0x310e2d(0x1b0)](/Slug/,_0x310e2d(0x249));continue;case'7':cy[_0x310e2d(0x146)](_0x104fb0['JCVTF']);continue;case'8':H[_0x310e2d(0x1b0)](/Database name/,_0x104fb0[_0x310e2d(0x164)]);continue;case'9':cy[_0x310e2d(0x243)](_0x310e2d(0x23e));continue;case'10':cy[_0x310e2d(0x1f9)]('should\x20prevent\x20adding\x20a\x20db\x20with\x20the\x20same\x20name');continue;case'11':cy[_0x310e2d(0x1fb)](_0x104fb0[_0x310e2d(0x190)])[_0x310e2d(0x1c9)]();continue;case'12':cy[_0x310e2d(0x1fb)](_0x104fb0[_0x310e2d(0x1f0)])[_0x310e2d(0x1c9)]();continue;case'13':cy['findByText'](_0x104fb0[_0x310e2d(0x2ab)]);continue;case'14':H['typeAndBlurUsingLabel'](/Password/,_0x104fb0['JoduD']);continue;case'15':H[_0x310e2d(0x1b0)](/Slug/,_0x310e2d(0x277));continue;case'16':cy[_0x310e2d(0x1f9)](_0x104fb0[_0x310e2d(0x1c3)]);continue;}break;}}}),cy[_0x4172b0(0x1a9)]('leave-confirmation')['should'](_0xa1923c[_0x4172b0(0x16d)])[_0x4172b0(0x14b)](_0x4172b0(0x1fb),{'name':'Discard\x20changes'})['click'](),H[_0x4172b0(0x297)]()[_0x4172b0(0x128)](_0x4172b0(0x26a)),cy[_0x4172b0(0x1f9)]('should\x20be\x20able\x20to\x20bulk\x20create\x20destination\x20dbs\x20via\x20API'),createDestinationDatabasesViaAPI({'router_database_id':0x2,'databases':_0x16cf31[_0x4172b0(0x18d)](0x2,0x7)[_0x4172b0(0x1ca)](_0x40d34c=>({...BASE_POSTGRES_MIRROR_DB_INFO,'name':'Destination\x20DB\x20'+_0x40d34c}))}),cy['reload'](),_0xa1923c[_0x4172b0(0x210)](dbRoutingSection)[_0x4172b0(0x230)](()=>{const _0x42110c=_0x4172b0;cy['findByText'](_0x42110c(0x1f1))[_0x42110c(0x128)](_0xa1923c[_0x42110c(0x16d)]),cy['findByText'](_0x42110c(0x24d))[_0x42110c(0x128)](_0xa1923c[_0x42110c(0x1cb)]);}),cy[_0x4172b0(0x1f9)](_0x4172b0(0x1d0)),_0xa1923c[_0x4172b0(0x24a)](dbRoutingSection)[_0x4172b0(0x146)](_0xa1923c[_0x4172b0(0x135)])['click'](),H[_0x4172b0(0x297)]()['within'](()=>{const _0x271314=_0x4172b0;cy[_0x271314(0x146)]('Destination\x20DB\x206')[_0x271314(0x128)](_0xa1923c['OfDhI']),cy[_0x271314(0x1fb)](_0x271314(0x17e))[_0x271314(0x1c9)]();}),_0xa1923c[_0x4172b0(0x1b1)](dbRoutingSection)[_0x4172b0(0x260)](_0xa1923c['qLhhA'])['first']()['icon'](_0x4172b0(0x1a1))['click'](),H[_0x4172b0(0x223)]()[_0x4172b0(0x146)](_0xa1923c[_0x4172b0(0x2a8)])[_0x4172b0(0x1c9)](),H[_0x4172b0(0x297)]()[_0x4172b0(0x230)](()=>{const _0x207c2e=_0x4172b0;H[_0x207c2e(0x1b0)](/Slug/,_0x207c2e(0x28f)),cy[_0x207c2e(0x1fb)]('Save\x20changes')['click'](),cy['wait']('@databaseUpdate');}),H[_0x4172b0(0x234)]()[_0x4172b0(0x230)](()=>{const _0x2328dc=_0x4172b0;cy['findByText'](_0x2328dc(0x171))[_0x2328dc(0x128)](_0xa1923c[_0x2328dc(0x16d)]),cy[_0x2328dc(0x207)](_0xa1923c[_0x2328dc(0x125)])['click']();}),cy[_0x4172b0(0x1f9)](_0xa1923c[_0x4172b0(0x1e2)]),_0xa1923c[_0x4172b0(0x210)](dbRoutingSection)[_0x4172b0(0x260)](_0x4172b0(0x2b3))[_0x4172b0(0x183)]()[_0x4172b0(0x207)](_0xa1923c[_0x4172b0(0x19c)])[_0x4172b0(0x1c9)](),H[_0x4172b0(0x223)]()[_0x4172b0(0x146)](_0x4172b0(0x1c2))[_0x4172b0(0x1c9)](),H[_0x4172b0(0x297)]()[_0x4172b0(0x230)](()=>{const _0x39a0b8=_0x4172b0;cy[_0x39a0b8(0x1a9)](_0xa1923c[_0x39a0b8(0x14d)])['type'](_0x39a0b8(0x1f2)),cy[_0x39a0b8(0x1fb)](_0xa1923c['PrZrJ'])[_0x39a0b8(0x1c9)](),cy['wait'](_0x39a0b8(0x25d));}),dbRoutingSection()[_0x4172b0(0x146)](_0xa1923c['qzlcM'])[_0x4172b0(0x128)](_0x4172b0(0x26a)),cy['log'](_0xa1923c[_0x4172b0(0x20f)]),cy[_0x4172b0(0x1d2)]('Enable\x20database\x20routing')['should'](_0x4172b0(0x266))[_0x4172b0(0x1c9)]({'force':!![]}),cy[_0x4172b0(0x1d2)](_0xa1923c[_0x4172b0(0x18f)])['should']('not.be.checked'),H[_0x4172b0(0x234)]()[_0x4172b0(0x230)](()=>{const _0xbc331c=_0x4172b0;cy[_0xbc331c(0x146)](_0xbc331c(0x1be))[_0xbc331c(0x128)](_0xbc331c(0x133)),cy['icon']('close')[_0xbc331c(0x1c9)]();}),cy['log'](_0xa1923c[_0x4172b0(0x252)]),expandDbRouting(),_0xa1923c['QhRaK'](dbRoutingSection)[_0x4172b0(0x230)](()=>{const _0xb9149b=_0x4172b0;cy[_0xb9149b(0x146)](_0x104fb0[_0xb9149b(0x299)])['should'](_0x104fb0['OpnwU']),cy['findByText']('No\x20destination\x20databases\x20added\x20yet')[_0xb9149b(0x128)](_0x104fb0[_0xb9149b(0x1ec)]);}));}),_0xeda64a[_0x45c8e0(0x263)](it,_0x45c8e0(0x141),()=>{const _0xd7761=_0x45c8e0,_0x3784bd={'MwIcd':_0xd7761(0x1c7),'hmCgX':_0xd7761(0x26a)};cy['log'](_0xd7761(0x17a)),cy['visit'](_0xeda64a[_0xd7761(0x18a)]),cy[_0xd7761(0x1f9)](_0xeda64a[_0xd7761(0x215)]),cy[_0xd7761(0x1d2)](_0xeda64a[_0xd7761(0x246)])[_0xd7761(0x1c9)]({'force':!![]}),configurDbRoutingViaAPI({'router_database_id':0x2,'user_attribute':_0xeda64a[_0xd7761(0x23b)]}),_0xeda64a[_0xd7761(0x16f)](createDestinationDatabasesViaAPI,{'router_database_id':0x2,'databases':[BASE_POSTGRES_MIRROR_DB_INFO]}),cy[_0xd7761(0x1f9)]('validate\x20setup\x20was\x20successful'),cy[_0xd7761(0x254)](),cy[_0xd7761(0x1d2)](_0xeda64a[_0xd7761(0x296)])[_0xd7761(0x128)](_0xeda64a[_0xd7761(0x245)]),_0xeda64a[_0xd7761(0x29b)](dbRoutingSection)[_0xd7761(0x146)](BASE_POSTGRES_MIRROR_DB_INFO['name'])[_0xd7761(0x128)]('exist'),cy[_0xd7761(0x1f9)](_0xd7761(0x16c)),cy['visit'](_0xeda64a[_0xd7761(0x22f)]),cy['findAllByTestId'](_0xeda64a[_0xd7761(0x2a4)])[_0xd7761(0x146)](BASE_POSTGRES_MIRROR_DB_INFO[_0xd7761(0x13e)])[_0xd7761(0x128)](_0xd7761(0x26a)),cy['log'](_0xeda64a[_0xd7761(0x1a4)]),cy[_0xd7761(0x26e)](_0xd7761(0x2a1)),cy['findAllByTestId'](_0xd7761(0x232))[_0xd7761(0x146)](BASE_POSTGRES_MIRROR_DB_INFO[_0xd7761(0x13e)])[_0xd7761(0x128)](_0xeda64a['COwwK']),cy[_0xd7761(0x1f9)](_0xeda64a[_0xd7761(0x149)]),H[_0xd7761(0x16e)](BASE_POSTGRES_MIRROR_DB_INFO['name'],![]),H[_0xd7761(0x240)]()['findByText']('No\x20results\x20for\x20“DestinationDB”')[_0xd7761(0x128)](_0xeda64a[_0xd7761(0x258)]),cy[_0xd7761(0x1f9)](_0xeda64a[_0xd7761(0x1ee)]),cy[_0xd7761(0x26e)](_0xeda64a[_0xd7761(0x21c)]),cy[_0xd7761(0x1a9)](_0xeda64a[_0xd7761(0x24e)])[_0xd7761(0x1c9)](),H['popover']()[_0xd7761(0x146)](BASE_POSTGRES_MIRROR_DB_INFO[_0xd7761(0x13e)])[_0xd7761(0x128)](_0xeda64a[_0xd7761(0x20e)]),cy[_0xd7761(0x1f9)](_0xd7761(0x29d)),cy[_0xd7761(0x26e)](_0xeda64a[_0xd7761(0x1a8)]),cy[_0xd7761(0x161)](_0xeda64a['drftI'])[_0xd7761(0x146)](BASE_POSTGRES_MIRROR_DB_INFO[_0xd7761(0x13e)])[_0xd7761(0x128)](_0xd7761(0x26a)),cy[_0xd7761(0x1f9)]('should\x20not\x20see\x20database\x20in\x20data\x20picker'),cy[_0xd7761(0x26e)]('/question/notebook'),H[_0xd7761(0x169)]()['within'](()=>{const _0x5ba274=_0xd7761;H[_0x5ba274(0x19e)](_0x3784bd[_0x5ba274(0x11f)])['click'](),cy[_0x5ba274(0x146)](BASE_POSTGRES_MIRROR_DB_INFO[_0x5ba274(0x13e)])[_0x5ba274(0x128)](_0x3784bd[_0x5ba274(0x264)]);}),cy[_0xd7761(0x1f9)](_0xd7761(0x1b7)),H[_0xd7761(0x168)](),cy['findByTestId'](_0xeda64a[_0xd7761(0x12e)])['icon'](_0xeda64a[_0xd7761(0x292)])[_0xd7761(0x1c9)](),cy[_0xd7761(0x1a9)](_0xeda64a['wKfce'])[_0xd7761(0x128)](_0xd7761(0x12c),'Data\x20Reference'),cy[_0xd7761(0x1a9)](_0xeda64a[_0xd7761(0x172)])['findByText'](BASE_POSTGRES_MIRROR_DB_INFO[_0xd7761(0x13e)])[_0xd7761(0x128)](_0xd7761(0x26a));}),_0xeda64a[_0x45c8e0(0x26d)](it,_0x45c8e0(0x2b2),()=>{const _0x4d6027=_0x45c8e0;if(_0x4d6027(0x27c)!==_0x4d6027(0x29c)){const _0x248732=_0xa1923c['bkCTG'][_0x4d6027(0x1cc)]('|');let _0x59cae5=0x0;while(!![]){switch(_0x248732[_0x59cae5++]){case'0':cy[_0x4d6027(0x1f9)]('should\x20be\x20disabled\x20if\x20model\x20actions\x20is\x20enabled');continue;case'1':cy[_0x4d6027(0x1d2)](_0xa1923c[_0x4d6027(0x236)])[_0x4d6027(0x128)]('not.be.checked')[_0x4d6027(0x1d9)]('label')[_0x4d6027(0x1c9)]();continue;case'2':H[_0x4d6027(0x223)]()['findByText'](_0x4d6027(0x148))[_0x4d6027(0x1c9)]();continue;case'3':_0xa1923c[_0x4d6027(0x1b1)](assertDbRoutingNotDisabled);continue;case'4':cy[_0x4d6027(0x1d2)](_0x4d6027(0x205))['parent'](_0xa1923c[_0x4d6027(0x1b6)])[_0x4d6027(0x1c9)]();continue;case'5':cy['findByLabelText'](_0xa1923c[_0x4d6027(0x1ce)])[_0x4d6027(0x1ed)](_0x4d6027(0x152))[_0x4d6027(0x1c9)]();continue;case'6':cy['visit'](_0xa1923c[_0x4d6027(0x195)]);continue;case'7':cy['visit'](_0xa1923c[_0x4d6027(0x1a3)]);continue;case'8':assertDbRoutingDisabled();continue;case'9':assertDbRoutingNotDisabled();continue;case'10':cy[_0x4d6027(0x1f9)](_0x4d6027(0x1f4));continue;case'11':cy[_0x4d6027(0x1d2)](_0xa1923c[_0x4d6027(0x1ce)])[_0x4d6027(0x1ed)](_0x4d6027(0x226))[_0x4d6027(0x1c9)]();continue;case'12':cy[_0x4d6027(0x260)](_0xa1923c[_0x4d6027(0x269)])['findByLabelText'](_0xa1923c['dVsKF'])[_0x4d6027(0x128)](_0xa1923c[_0x4d6027(0x175)])[_0x4d6027(0x1d9)](_0xa1923c['VOEik'])[_0x4d6027(0x1c9)]();continue;case'13':_0xa1923c[_0x4d6027(0x224)](setupModelPersistence);continue;case'14':cy[_0x4d6027(0x1d2)](_0xa1923c[_0x4d6027(0x285)])[_0x4d6027(0x128)](_0xa1923c['slBAB']);continue;case'15':cy['visit'](_0xa1923c['DoqTE']);continue;case'16':cy['findByLabelText'](_0xa1923c[_0x4d6027(0x1ce)])[_0x4d6027(0x1fb)](_0xa1923c[_0x4d6027(0x197)])[_0x4d6027(0x1c9)]();continue;case'17':cy[_0x4d6027(0x1f9)](_0xa1923c[_0x4d6027(0x14e)]);continue;case'18':assertDbRoutingDisabled();continue;case'19':H[_0x4d6027(0x223)]()['findByText'](_0xa1923c[_0x4d6027(0x12b)])['click']();continue;case'20':cy[_0x4d6027(0x1f9)]('setup');continue;case'21':assertDbRoutingDisabled();continue;}break;}}else _0x383ab8[_0x4d6027(0x146)]('Destination\x20database\x20created\x20successfully')['should'](_0x4d6027(0x133)),_0x2ee889['icon'](_0x4d6027(0x256))[_0x4d6027(0x1c9)]();}),_0xeda64a[_0x45c8e0(0x263)](it,_0x45c8e0(0x19f),()=>{const _0x542fce=_0x45c8e0,_0xfa625b={'SSunb':_0x542fce(0x205),'wbWTX':_0x542fce(0x21f),'YPCQR':_0xa1923c[_0x542fce(0x2b1)],'PbUvv':_0x542fce(0x25a),'LZMqm':_0xa1923c[_0x542fce(0x21a)],'rlnBu':_0x542fce(0x145),'tkXHp':'mouseenter','aaTcZ':_0xa1923c[_0x542fce(0x239)],'FGANd':_0x542fce(0x28e),'LpaVg':_0xa1923c[_0x542fce(0x1bf)],'lcmzF':_0x542fce(0x17f),'RzPhP':_0xa1923c['Obpft'],'kUslb':_0x542fce(0x194)};'utDYb'==='sHlPH'?(_0x467469[_0x542fce(0x1f9)](_0xfa625b['YPCQR']),_0x196790(),_0x623f1a[_0x542fce(0x26e)](_0x542fce(0x162)),_0x1dfdb3[_0x542fce(0x260)](_0xfa625b[_0x542fce(0x1c0)])[_0x542fce(0x1d2)](_0xfa625b[_0x542fce(0x1e6)])[_0x542fce(0x1c9)]({'force':!![]}),_0x20be44[_0x542fce(0x260)](_0x542fce(0x25a))['findByLabelText'](_0x542fce(0x205))['should'](_0xfa625b[_0x542fce(0x189)]),_0x1bbedd({'router_database_id':0x2,'user_attribute':'role'}),_0x267b14['reload'](),_0x465a21[_0x542fce(0x1f9)](_0xfa625b['rlnBu']),_0x54c631[_0x542fce(0x260)](_0x542fce(0x25a))[_0x542fce(0x1d2)](_0xfa625b[_0x542fce(0x1e6)])[_0x542fce(0x20c)](_0xfa625b[_0x542fce(0x127)],{'force':!![]}),_0x37bc0a[_0x542fce(0x155)]()[_0x542fce(0x146)](_0x542fce(0x13f))['should']('exist'),_0x5f5902[_0x542fce(0x260)](_0x542fce(0x25a))[_0x542fce(0x230)](()=>{const _0x26f840=_0x542fce;_0x31aebf['findByLabelText'](_0xfa625b[_0x26f840(0x1e6)])['should'](_0x26f840(0x194))[_0x26f840(0x128)]('not.be.checked'),_0x2eea3d[_0x26f840(0x1d2)](_0xfa625b[_0x26f840(0x122)])['should']('be.disabled')[_0x26f840(0x128)]('not.be.checked');}),_0x33adc0[_0x542fce(0x1f9)](_0xfa625b[_0x542fce(0x199)]),_0x346210[_0x542fce(0x26e)](_0xfa625b[_0x542fce(0x272)]),_0x271075['findByLabelText'](_0x542fce(0x26b))[_0x542fce(0x1ed)](_0x542fce(0x226))[_0x542fce(0x1c9)](),_0xee7aef[_0x542fce(0x223)]()[_0x542fce(0x146)](_0xfa625b[_0x542fce(0x124)])['closest'](_0xfa625b[_0x542fce(0x1d4)])[_0x542fce(0x128)](_0xfa625b[_0x542fce(0x174)],_0x542fce(0x12d),_0x542fce(0x253))):(cy[_0x542fce(0x1f9)](_0x542fce(0x186)),_0xa1923c[_0x542fce(0x210)](setupModelPersistence),cy[_0x542fce(0x26e)](_0xa1923c[_0x542fce(0x195)]),cy['findAllByTestId'](_0x542fce(0x25a))[_0x542fce(0x1d2)](_0xa1923c[_0x542fce(0x285)])[_0x542fce(0x1c9)]({'force':!![]}),cy['findAllByTestId']('database-model-features-section')['findByLabelText'](_0x542fce(0x205))[_0x542fce(0x128)]('not.be.checked'),configurDbRoutingViaAPI({'router_database_id':0x2,'user_attribute':_0x542fce(0x1e5)}),cy['reload'](),cy[_0x542fce(0x1f9)](_0x542fce(0x145)),cy[_0x542fce(0x260)](_0xa1923c[_0x542fce(0x269)])[_0x542fce(0x1d2)](_0x542fce(0x205))[_0x542fce(0x20c)]('mouseenter',{'force':!![]}),H['tooltip']()['findByText'](_0x542fce(0x13f))[_0x542fce(0x128)](_0xa1923c['OfDhI']),cy['findAllByTestId'](_0x542fce(0x25a))[_0x542fce(0x230)](()=>{const _0x483b72=_0x542fce;cy[_0x483b72(0x1d2)]('Model\x20actions')[_0x483b72(0x128)](_0xfa625b[_0x483b72(0x23a)])[_0x483b72(0x128)](_0x483b72(0x262)),cy[_0x483b72(0x1d2)]('Model\x20persistence')[_0x483b72(0x128)](_0x483b72(0x194))['should'](_0xfa625b[_0x483b72(0x189)]);}),cy['log']('should\x20not\x20allow\x20enabling\x20database\x20for\x20uploads'),cy['visit'](_0x542fce(0x28e)),cy[_0x542fce(0x1d2)](_0x542fce(0x26b))[_0x542fce(0x1ed)](_0x542fce(0x226))['click'](),H[_0x542fce(0x223)]()['findByText'](_0xa1923c[_0x542fce(0x1bf)])[_0x542fce(0x22b)](_0xa1923c['pGbbE'])[_0x542fce(0x128)](_0xa1923c[_0x542fce(0x156)],_0xa1923c['CMeJm'],_0xa1923c['gbVLR']));}),it(_0x45c8e0(0x193),()=>{const _0x5906d5=_0x45c8e0,_0x49a663={'KsXux':_0x5906d5(0x1d7),'OhiLz':_0x5906d5(0x21b),'mqrur':_0xa1923c[_0x5906d5(0x267)]};if(_0xa1923c['HfSbj']===_0x5906d5(0x265))_0xc15343['log'](_0x49a663['KsXux']),_0x3a6028[_0x5906d5(0x1d2)]('Enable\x20database\x20routing')['should'](_0x5906d5(0x194)),_0x48e284[_0x5906d5(0x1a9)](_0x49a663[_0x5906d5(0x2a0)])[_0x5906d5(0x128)](_0x5906d5(0x194)),_0x587497['findByRole'](_0x49a663[_0x5906d5(0x268)],{'name':/Add/})[_0x5906d5(0x128)](_0x5906d5(0x26a));else{const _0x28a97d=_0xa1923c[_0x5906d5(0x22e)][_0x5906d5(0x1cc)]('|');let _0x1d8826=0x0;while(!![]){switch(_0x28a97d[_0x1d8826++]){case'0':cy[_0x5906d5(0x1a9)](_0xa1923c['wMZDk'])[_0x5906d5(0x146)](_0xa1923c[_0x5906d5(0x291)])[_0x5906d5(0x128)](_0xa1923c[_0x5906d5(0x16d)]);continue;case'1':cy[_0x5906d5(0x26e)](_0x5906d5(0x192)+ALL_USERS_GROUP+'/database/2');continue;case'2':cy[_0x5906d5(0x1f9)](_0xa1923c[_0x5906d5(0x25e)]);continue;case'3':cy[_0x5906d5(0x1a9)](_0xa1923c[_0x5906d5(0x177)])['findByText'](_0x5906d5(0x288))[_0x5906d5(0x128)]('exist');continue;case'4':cy['findByTestId'](_0xa1923c[_0x5906d5(0x14c)])[_0x5906d5(0x146)](_0xa1923c[_0x5906d5(0x291)])[_0x5906d5(0x128)](_0x5906d5(0x133));continue;case'5':cy['request'](_0x5906d5(0x28d),_0xa1923c[_0x5906d5(0x25b)],{'settings':{'database-enable-actions':![]}});continue;case'6':_0xa1923c[_0x5906d5(0x27a)](configurDbRoutingViaAPI,{'router_database_id':0x2,'user_attribute':_0xa1923c[_0x5906d5(0x184)]});continue;case'7':cy[_0x5906d5(0x1f9)](_0xa1923c[_0x5906d5(0x1db)]);continue;case'8':cy[_0x5906d5(0x1f9)](_0xa1923c[_0x5906d5(0x2b1)]);continue;case'9':cy[_0x5906d5(0x26e)](_0x5906d5(0x192)+ALL_USERS_GROUP);continue;case'10':cy[_0x5906d5(0x1f9)](_0x5906d5(0x289));continue;case'11':cy[_0x5906d5(0x26e)](_0x5906d5(0x276));continue;}break;}}}),_0xeda64a[_0x45c8e0(0x29a)](describe,_0xeda64a[_0x45c8e0(0x221)],()=>{const _0x20cf03=_0x45c8e0,_0x3151de={'XmjJK':function(_0x5c2139,_0x3c2727){return _0xa1923c['sXsRP'](_0x5c2139,_0x3c2727);},'oAjTk':'bZsVQ','WsehM':'Remove','XyGHp':_0xa1923c[_0x20cf03(0x2a8)],'kysNE':_0xa1923c['WBgYj'],'JGClg':_0xa1923c[_0x20cf03(0x267)],'vFLbb':_0xa1923c[_0x20cf03(0x150)],'KVxrG':_0xa1923c[_0x20cf03(0x1c6)],'WeJbO':_0x20cf03(0x162),'auhwV':_0x20cf03(0x159),'IIHEm':'grant\x20db\x20management\x20permissions\x20to\x20all\x20users','SveID':_0x20cf03(0x206),'FUfnB':_0xa1923c['VFauF'],'AmOkV':_0xa1923c['QEjFQ'],'vCTFk':'normal\x20user\x20should\x20see\x20db','QUpvC':_0xa1923c['OfDhI'],'rRTsG':_0x20cf03(0x2b3),'ErLCm':_0x20cf03(0x1a1)};_0xa1923c[_0x20cf03(0x196)](it,_0xa1923c[_0x20cf03(0x27f)],()=>{const _0x26cf4b=_0x20cf03;cy[_0x26cf4b(0x1f9)](_0xa1923c[_0x26cf4b(0x16a)]),cy[_0x26cf4b(0x26e)]('/admin/databases/1'),_0xa1923c['sdUtd'](dbConnectionInfoSection)[_0x26cf4b(0x128)](_0xa1923c[_0x26cf4b(0x16d)]),dbRoutingSection()[_0x26cf4b(0x128)](_0xa1923c[_0x26cf4b(0x1cb)]),cy[_0x26cf4b(0x1f9)](_0x26cf4b(0x233)),cy['intercept'](_0x26cf4b(0x151),_0x26cf4b(0x14a)+SAMPLE_DB_ID,_0x2e311d=>{const _0x3adfa1=_0x26cf4b;_0x3adfa1(0x1e4)!==_0x3adfa1(0x279)?_0x2e311d[_0x3adfa1(0x1b9)](_0x3c4b7d=>{const _0xa1980c=_0x3adfa1;_0x3c4b7d['body']['is_attached_dwh']=!![],_0x3c4b7d[_0xa1980c(0x1f6)][_0xa1980c(0x15b)]=![];}):_0x303f3f[_0x3adfa1(0x27e)](_0x3adfa1(0x1e7));})['as'](_0xa1923c[_0x26cf4b(0x271)]),cy[_0x26cf4b(0x254)](),_0xa1923c[_0x26cf4b(0x1ad)](dbConnectionInfoSection)['should'](_0xa1923c[_0x26cf4b(0x16d)]),_0xa1923c[_0x26cf4b(0x173)](dbRoutingSection)[_0x26cf4b(0x128)]('not.exist');}),_0xa1923c[_0x20cf03(0x196)](it,_0xa1923c[_0x20cf03(0x2a2)],()=>{const _0x267760=_0x20cf03,_0x364636={'eKgPh':_0x267760(0x227),'hgZJA':_0x3151de['kysNE'],'nETfr':_0x3151de[_0x267760(0x220)],'tTLUh':_0x267760(0x26a),'gUoOA':_0x3151de[_0x267760(0x241)],'SsYQU':_0x267760(0x1b2)};cy[_0x267760(0x1f9)](_0x3151de[_0x267760(0x1bd)]),cy['visit'](_0x3151de['WeJbO']),cy[_0x267760(0x260)]('database-model-features-section')[_0x267760(0x1d2)](_0x267760(0x205))[_0x267760(0x1c9)]({'force':!![]}),configurDbRoutingViaAPI({'router_database_id':0x2,'user_attribute':_0x267760(0x1e5)}),createDestinationDatabasesViaAPI({'router_database_id':0x2,'databases':[BASE_POSTGRES_MIRROR_DB_INFO]}),cy['log'](_0x3151de['auhwV']),cy[_0x267760(0x15f)](),cy[_0x267760(0x287)](),cy[_0x267760(0x26e)](_0x267760(0x162)),cy['get'](_0x267760(0x126))[_0x267760(0x146)]('Sorry,\x20you\x20don’t\x20have\x20permission\x20to\x20see\x20that.'),cy[_0x267760(0x1f9)](_0x3151de[_0x267760(0x22c)]),cy[_0x267760(0x15f)](),cy[_0x267760(0x247)](),cy[_0x267760(0x26e)]('/admin/permissions/data/group/'+ALL_USERS_GROUP);const _0x17b15b=0x1;H[_0x267760(0x257)](_0x3151de[_0x267760(0x275)],_0x17b15b,_0x267760(0x25c));const _0x5180ac=0x4;H['modifyPermission'](_0x267760(0x206),_0x5180ac,_0x267760(0x216)),cy[_0x267760(0x1fb)](_0x3151de[_0x267760(0x134)])[_0x267760(0x1c9)](),H[_0x267760(0x297)]()[_0x267760(0x1fb)](_0x3151de[_0x267760(0x1da)])['click'](),cy[_0x267760(0x1f9)](_0x3151de[_0x267760(0x120)]),cy['signOut'](),cy[_0x267760(0x20d)](_0x267760(0x144)),cy[_0x267760(0x26e)](_0x267760(0x162)),dbRoutingSection()[_0x267760(0x128)](_0x3151de[_0x267760(0x273)]),dbRoutingSection()[_0x267760(0x230)](()=>{const _0x166d4c=_0x267760;cy[_0x166d4c(0x1f9)]('should\x20not\x20be\x20able\x20to\x20manage\x20db\x20routing\x20settings'),cy['findByLabelText'](_0x364636[_0x166d4c(0x170)])[_0x166d4c(0x128)](_0x166d4c(0x194)),cy[_0x166d4c(0x1a9)](_0x166d4c(0x21b))['should'](_0x364636[_0x166d4c(0x1eb)]),cy[_0x166d4c(0x14b)](_0x364636[_0x166d4c(0x1ba)],{'name':/Add/})['should'](_0x364636[_0x166d4c(0x14f)]);}),cy['log'](_0x267760(0x138)),dbRoutingSection()[_0x267760(0x1a9)](_0x3151de['rRTsG'])[_0x267760(0x207)](_0x3151de[_0x267760(0x1e8)])['click'](),H[_0x267760(0x223)]()[_0x267760(0x230)](()=>{const _0x567922=_0x267760,_0x297cb7={'zPnWX':_0x567922(0x163),'uvodP':'Save','tElep':'@createDestinationDatabase','JYyzy':_0x567922(0x202)};_0x3151de['XmjJK'](_0x3151de[_0x567922(0x242)],'XkeTU')?(_0xadc3e2['log'](_0x567922(0x19b)),_0x2ec119['typeAndBlurUsingLabel'](/Slug/,_0x567922(0x277)),_0x359102['typeAndBlurUsingLabel'](/Host/,_0x567922(0x121)),_0x40cb3f[_0x567922(0x1b0)](/Port/,_0x436fd8),_0x269767[_0x567922(0x1b0)](/Database name/,'sample'),_0x2eb172[_0x567922(0x1b0)](/Username/,_0x297cb7['zPnWX']),_0x5b81f7[_0x567922(0x1b0)](/Password/,'metasample123'),_0x4b329d[_0x567922(0x1fb)](_0x297cb7[_0x567922(0x229)])[_0x567922(0x1c9)](),_0x385147['wait'](_0x297cb7[_0x567922(0x21e)]),_0x2399ea[_0x567922(0x146)](_0x297cb7['JYyzy']),_0x2b30ca[_0x567922(0x1f9)]('should\x20prevent\x20adding\x20with\x20incorrect\x20connection\x20info'),_0xe3f74b[_0x567922(0x1b0)](/Slug/,_0x567922(0x249)),_0x43d6ac['typeAndBlurUsingLabel'](/Password/,_0x567922(0x1dc)),_0x492620[_0x567922(0x1fb)](/(Failed|Save)/)[_0x567922(0x1c9)](),_0x55c4c6[_0x567922(0x243)]('@createDestinationDatabase'),_0x322ebf[_0x567922(0x146)](_0x567922(0x1ea)),_0x10efbf[_0x567922(0x1fb)](_0x567922(0x24c))[_0x567922(0x1c9)]()):(cy['findByText'](_0x3151de['WsehM'])['should'](_0x567922(0x26a)),cy[_0x567922(0x146)](_0x3151de['XyGHp'])['should'](_0x567922(0x133))['click']());}),H[_0x267760(0x297)]()['within'](()=>{const _0x12ed30=_0x267760;H[_0x12ed30(0x1b0)](/Slug/,_0x364636['gUoOA']),cy[_0x12ed30(0x1fb)](_0x364636['SsYQU'])[_0x12ed30(0x1c9)](),cy[_0x12ed30(0x243)](_0x12ed30(0x140));});});});}),describe(_0x52b063(0x187),{'tags':[_0xeda64a[_0x52b063(0x2ae)]]},()=>{const _0x4e5e29=_0x52b063,_0x2c459c={'sJMza':_0xeda64a[_0x4e5e29(0x12f)],'tXtLN':_0xeda64a[_0x4e5e29(0x1f3)],'eYjhi':'/admin/databases/2','lCLFN':_0xeda64a['UMxMt'],'evKxM':function(_0x40b7d3){return _0x40b7d3();},'yBJPs':_0xeda64a[_0x4e5e29(0x20e)]};it(_0xeda64a['hvLIO'],()=>{const _0x489ea9=_0x4e5e29,_0x569437={'Zrmtj':_0x2c459c[_0x489ea9(0x15a)],'LgHTF':_0x489ea9(0x1aa)};_0x489ea9(0x28b)!==_0x2c459c[_0x489ea9(0x153)]?(cy[_0x489ea9(0x26e)](_0x2c459c[_0x489ea9(0x142)]),dbConnectionInfoSection()[_0x489ea9(0x128)](_0x2c459c[_0x489ea9(0x13d)]),_0x2c459c[_0x489ea9(0x1a7)](dbRoutingSection)[_0x489ea9(0x128)](_0x2c459c['yBJPs'])):(_0x435721['findByText'](_0x569437[_0x489ea9(0x19a)])[_0x489ea9(0x128)](_0x489ea9(0x133)),_0x168ddb[_0x489ea9(0x146)](_0x569437[_0x489ea9(0x16b)])['should'](_0x489ea9(0x26a)));});});});function dbConnectionInfoSection(){const _0x17c916=_0x4199,_0x217ed0={'WlGEF':'database-connection-info-section'};return cy[_0x17c916(0x1a9)](_0x217ed0[_0x17c916(0x24f)]);}function dbRoutingSection(){const _0x353142=_0x4199;return cy[_0x353142(0x1a9)](_0x353142(0x1ae));}function expandDbRouting(){const _0xe91cb0=_0x4199,_0x39983f={'XtUrz':'chevrondown','CaLeO':function(_0x240c1b){return _0x240c1b();}};_0x39983f['CaLeO'](dbRoutingSection)[_0xe91cb0(0x230)](()=>{const _0x4c555b=_0xe91cb0;cy[_0x4c555b(0x207)](_0x39983f[_0x4c555b(0x18c)])[_0x4c555b(0x1c9)]();});}function assertDbRoutingNotDisabled(){const _0x3f120c=_0x4199,_0x2e4011={'QDPtp':_0x3f120c(0x227),'rpSJk':'not.be.disabled','tGGQW':function(_0x5e9bf3){return _0x5e9bf3();},'iHXLA':_0x3f120c(0x2af)};_0x2e4011[_0x3f120c(0x213)](dbRoutingSection)[_0x3f120c(0x230)](()=>{const _0x3784ab=_0x3f120c;cy[_0x3784ab(0x1d2)](_0x2e4011[_0x3784ab(0x185)])[_0x3784ab(0x128)](_0x2e4011[_0x3784ab(0x176)])[_0x3784ab(0x237)]();}),H[_0x3f120c(0x155)]()[_0x3f120c(0x128)](_0x2e4011['iHXLA'],/Database routing can't be enabled if/);}function assertDbRoutingDisabled(){const _0x1b4c43=_0x4199,_0x42d357={'HTvMR':'Enable\x20database\x20routing','Nszev':'be.disabled'};dbRoutingSection()[_0x1b4c43(0x230)](()=>{const _0x4e4f79=_0x1b4c43;cy[_0x4e4f79(0x1d2)](_0x42d357['HTvMR'])['should'](_0x4e4f79(0x262))['should'](_0x42d357[_0x4e4f79(0x1b4)])[_0x4e4f79(0x237)]();}),H[_0x1b4c43(0x155)]()[_0x1b4c43(0x146)](/Database routing can't be enabled if/)['should'](_0x1b4c43(0x133));}function _0x5430(){const _0x440e1d=['hJLaU','Connected','popover','uCRHO','chevronleft','Select\x20a\x20database','Enable\x20database\x20routing','COcPG','uvodP','AwszF','closest','IIHEm','loadDatabase','gxhcp','xJcXn','within','10ngOlvy','database-browser','should\x20not\x20show\x20for\x20attached\x20data\x20warehouses','undoToast','rLiUF','dVsKF','realHover','destination-db-health-info','IMmOp','kUslb','PRMBx','dAcpE','iXLKw','@createDestinationDatabase','UoCrh','commandPalette','vFLbb','oAjTk','wait','xFBRH','kqFJr','lTeXI','signInAsAdmin','Performance','Unique\x20Destination\x20DB\x20Name','uqEVd','Disabled','Cancel','Destination\x20DB\x206','ivJnU','WlGEF','NxoUM','have.attr','zJMXw','true','reload','1667684pJzmqQ','close','modifyPermission','UMxMt','12490kxbkLA','database-model-features-section','KeeFd','Query\x20builder\x20and\x20native','@deleteDatabase','afhOE','label','findAllByTestId','nwQPB','not.be.checked','bSMnO','hmCgX','dvmFA','be.checked','ikeRK','mqrur','vbKNA','not.exist','Upload\x20Settings\x20Form','POST','nuVnn','visit','CkKiH','IfQyj','sSdNx','FGANd','QUpvC','CQKly','SveID','/admin/permissions/data/database/2','Destination\x20DB\x201','/admin/permissions/data/database','relzP','ISwWA','deleteDatabase','nhDNo','yVUBJ','setTokenFeatures','ErCpe','CBLAJ','8|5|6|7|9|3|10|1|0|2|11|4','should\x20show\x20for\x20users\x20with\x20db\x20management\x20permissions\x20but\x20prevent\x20removal\x20of\x20destination\x20databases','should\x20be\x20able\x20to\x20turn\x20the\x20feature\x20off','should\x20be\x20able\x20to\x20remove\x20a\x20routed\x20database','iJJSC','9MPSNYm','signInAsNormalUser','(Database\x20routing\x20enabled)','should\x20highlight\x20on\x20group\x20perms\x20page\x20at\x20table\x20level','database-name-confirmation-input','eHjIo','selected-database','PUT','/admin/settings/uploads','\x20Destination\x20DB\x201\x20Updated','rjEZN','pTIxx','KAOFl','should\x20be\x20able\x20to\x20configure\x20db\x20routing\x20and\x20manage\x20destination\x20databases','Delete','drmcj','DzYon','modal','xZxYU','QCIqf','XwHDp','rWplv','sDUnv','should\x20not\x20see\x20database\x20in\x20permissions\x20pages','should\x20not\x20show\x20the\x20feature\x20if\x20not\x20enabled\x20in\x20token\x20features','12TJMphQ','OhiLz','/browse/databases','vTpYl','bPnAX','osdrT','database-list','BdbgI','PgPEC','uUoHn','databaseUpdate','Destination\x20DB\x202','dPTUP','LlUbq','/admin','ZqFHL','not.contain','attr_uid','FboTi','should\x20not\x20allow\x20turning\x20on\x20db\x20routing\x20on\x20if\x20other\x20conflicting\x20features\x20are\x20enabled','destination-db-list-item','BQmjt','should\x20prevent\x20adding\x20with\x20incorrect\x20connection\x20info','MwIcd','vCTFk','localhost','wbWTX','/admin/databases','LpaVg','nHcyA','main','tkXHp','should','2|1|0|5|4|3','iNJXf','mFtpa','have.text','data-combobox-disabled','nRZQB','oirVd','rUktA','feature\x20visibility','MSYih','exist','FUfnB','NrnEa','FwZOD','zJPoJ','should\x20be\x20able\x20to\x20edit\x20databases','RCMZi','IPdSx','keIfA','qUjFt','lCLFN','name','Model\x20actions\x20can\x20not\x20be\x20enabled\x20if\x20database\x20routing\x20is\x20enabled.','@databaseUpdate','should\x20not\x20leak\x20destinations\x20databases\x20in\x20the\x20application','eYjhi','yhTXo','normal','should\x20not\x20allow\x20enabling\x20model\x20features','findByText','38423ALcppX','public','Ajywb','/api/database/','findByRole','wMZDk','cnftL','ViZAl','tTLUh','iykLb','GET','Select\x20a\x20schema','tXtLN','Database\x20routing\x20enabled','tooltip','Obpft','link','TWTCz','normal\x20user\x20should\x20not\x20see\x20db\x20routing','sJMza','is_sample','Writable\x20Postgres12\x20(DB\x20Routing\x20Enabled)','10538tTulkT','tgpdL','signOut','sidebar-header-title','get','/admin/databases/2','metabase','fnwoB','type','tab','CrDQU','startNewNativeQuestion','entityPickerModal','iFpIh','LgHTF','should\x20not\x20see\x20destination\x20databases\x20in\x20admin\x20list\x20of\x20database','OfDhI','commandPaletteSearch','ukykg','eKgPh','Destination\x20database\x20updated\x20successfully','wKfce','MitKk','RzPhP','slBAB','rpSJk','WIsRq','aside','UNoIx','setup\x20db\x20routing\x20via\x20API','permission-table','cRVLd','6|8|3|1|5|9|0|7|4|2','Close','[data-combobox-option=\x22true\x22]','intercept','fPiyM','eiQvG','first','ULmTZ','QDPtp','setup','OSS','PhuNj','LZMqm','bCzJU','sample','XtUrz','range','should\x20highlight\x20on\x20group\x20perms\x20page\x20at\x20db\x20level','aqXjK','IgzHh','uSDZH','/admin/permissions/data/group/','should\x20highlight\x20that\x20a\x20dabtabase\x20has\x20routing\x20enabled\x20on\x20the\x20permissions\x20pages','be.disabled','DoqTE','WSOyG','KqqZh','1098TNcDwj','aaTcZ','Zrmtj','should\x20prevent\x20adding\x20a\x20db\x20with\x20the\x20same\x20name','AeipX','726842GVECsH','entityPickerModalTab','should\x20not\x20allow\x20turning\x20conflicting\x20features\x20if\x20db\x20routing\x20is\x20enabled','should\x20only\x20show\x20db\x20routing\x20for\x20valid\x20database\x20types','ellipsis','OpnwU','GcArh','SPqyM','spbyR','/admin/databases/1','evKxM','OHZjI','findByTestId','No\x20destination\x20databases\x20added\x20yet','should\x20be\x20able\x20to\x20create\x20a\x20destination\x20databases','permissions-editor-breadcrumbs','oZQfV','database-routing-section','jlPGN','typeAndBlurUsingLabel','QhRaK','Save\x20changes','Edit','Nszev','Destination\x20database\x20created\x20successfully','VOEik','shoudl\x20not\x20see\x20database\x20in\x20data\x20reference','LdsnG','reply','nETfr','FwcBd','KVbcF','KVxrG','Database\x20routing\x20disabled','XcHbd','PbUvv','should\x20be\x20able\x20to\x20change\x20the\x20user\x20attribute\x20routed\x20on','Remove','dKWyi','metasample123','Database\x20type','HuZhX','Tables','qStCy','click','map','zpgmG','split','hgFrt','BJVLx','ttYii','should\x20be\x20able\x20to\x20see\x20full\x20list\x20of\x20destination\x20databases','vppSI','findByLabelText','gbgSC','lcmzF','20|13|15|0|14|8|4|9|10|1|18|12|3|17|7|11|19|5|2|16|6|21','SndQt','should\x20not\x20be\x20able\x20to\x20manage\x20db\x20routing\x20settings','jkwQb','parent','AmOkV','fxamO','metasample124','DELETE','HBAAQ','cpDUm','EsOxe','433582ucJViz','vwlgx','bqlRi','dGTiy','role','SSunb','all','ErLCm','should\x20not\x20see\x20destination\x20databases\x20in\x20database\x20browser','Looks\x20like\x20your\x20Password\x20is\x20incorrect.','hgZJA','TtXQv','findByPlaceholderText','dWDek','znMVI','CdTdl','Destination\x20DB\x205','Destination\x20DB\x201\x20Updated','IgjFy','should\x20be\x20disabled\x20if\x20model\x20persistence\x20is\x20enabled','tBniw','body','ZABpY','restore','log','should\x20not\x20see\x20database\x20in\x20table\x20metadata\x20db\x20list','button','10|15|3|2|8|1|4|11|0|7|16|6|14|5|9|13|12','PQBFy','QUzMa','nFkgf','should\x20validate\x20destination\x20db\x20creation','efsLT','A\x20destination\x20database\x20with\x20that\x20name\x20already\x20exists.','Save','dqcFb','Model\x20actions','Writable\x20Postgres12','icon','switch','Enable\x20uploads','/api/ee/database-routing/mirror-database?check_connection_details=true','27101532QPMAlX','trigger','signIn','COwwK','eqUnC','XWfjR','FnIlY','should\x20not\x20allow\x20changing\x20engine','tGGQW','2511464WkpVWA','qbSjJ','Yes','jWNIi','disable\x20model\x20actions','should\x20not\x20show\x20for\x20sample\x20databases','UDJSl','db-routing-user-attribute','dzFaq','xlQQx','tElep','Model\x20persistence','JGClg'];_0x5430=function(){return _0x440e1d;};return _0x5430();}function setupModelPersistence(){const _0xe700d5=_0x4199,_0x1f2cfa={'fPiyM':'link','efsLT':_0xe700d5(0x2ad),'FnIlY':_0xe700d5(0x208),'yVUBJ':_0xe700d5(0x24b),'BIcDJ':_0xe700d5(0x166),'sryAr':_0xe700d5(0x21f)},_0x388422=_0xe700d5(0x129)[_0xe700d5(0x1cc)]('|');let _0x30f552=0x0;while(!![]){switch(_0x388422[_0x30f552++]){case'0':cy[_0xe700d5(0x14b)](_0x1f2cfa[_0xe700d5(0x181)],{'name':_0xe700d5(0x248)})[_0xe700d5(0x1c9)]();continue;case'1':cy[_0xe700d5(0x26e)](_0x1f2cfa[_0xe700d5(0x201)]);continue;case'2':interceptPerformanceRoutes();continue;case'3':cy['wait']('@enablePersistence');continue;case'4':cy[_0xe700d5(0x14b)](_0x1f2cfa[_0xe700d5(0x211)],{'name':_0x1f2cfa[_0xe700d5(0x27d)]})[_0xe700d5(0x1c9)]({'force':!![]});continue;case'5':cy['findByRole'](_0x1f2cfa['BIcDJ'],{'name':_0x1f2cfa['sryAr']})['click']();continue;}break;}}