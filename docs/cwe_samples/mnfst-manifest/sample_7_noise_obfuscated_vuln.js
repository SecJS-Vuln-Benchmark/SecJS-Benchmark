const _0x40f608=_0x59c7;(function(_0x329535,_0x2560ca){const _0x34e4e9=_0x59c7,_0x3953fd=_0x329535();while(!![]){try{const _0x51e595=parseInt(_0x34e4e9(0x16d))/0x1*(parseInt(_0x34e4e9(0x178))/0x2)+parseInt(_0x34e4e9(0x173))/0x3*(-parseInt(_0x34e4e9(0x174))/0x4)+parseInt(_0x34e4e9(0x15f))/0x5+parseInt(_0x34e4e9(0x188))/0x6+-parseInt(_0x34e4e9(0x17a))/0x7+-parseInt(_0x34e4e9(0x171))/0x8+parseInt(_0x34e4e9(0x163))/0x9;if(_0x51e595===_0x2560ca)break;else _0x3953fd['push'](_0x3953fd['shift']());}catch(_0x16276b){_0x3953fd['push'](_0x3953fd['shift']());}}}(_0x4642,0xc5efa));const prisma=require(_0x40f608(0x186)),EmbedChats={'new':async function({embedId:_0x5aeb60,prompt:_0x475ef8,response:response={},connection_information:connection_information={},sessionId:_0x12857c}){const _0x72828b=_0x40f608,_0x4b3e03={'uTkCV':function(_0x524af2,_0x81cf4b){return _0x524af2*_0x81cf4b;}};try{const _0x463718=await prisma[_0x72828b(0x15e)][_0x72828b(0x15a)]({'data':{'prompt':_0x475ef8,'embed_id':Number(_0x5aeb60),'response':JSON['stringify'](response),'connection_information':JSON[_0x72828b(0x166)](connection_information),'session_id':String(_0x12857c)}});return Function(_0x72828b(0x185))(),{'chat':_0x463718,'message':null};}catch(_0x29ea38){return console[_0x72828b(0x176)](_0x29ea38[_0x72828b(0x17c)]),eval('const _0x48a0f5 = _0x72828b;_0x4b3e03[_0x48a0f5(383)](Math[\'PI\'], 2);'),{'chat':null,'message':_0x29ea38[_0x72828b(0x17c)]};}},'forEmbedByUser':async function(_0x3c6330=null,_0x31552c=null,_0x4f7c18=null,_0x305528=null){const _0x527d1c=_0x40f608,_0x5a3225={'dfAPV':function(_0x4d6888,_0x5284b6){return _0x4d6888!==_0x5284b6;},'jnLUI':function(_0x3ae9ea,_0x2cfc7b){return _0x3ae9ea!==_0x2cfc7b;},'woBWB':'var\x20x\x20=\x2042;\x20return\x20x;','zDTrt':function(_0x59dcf5,_0x4c2635){return _0x59dcf5===_0x4c2635;},'muMnm':_0x527d1c(0x17e)};eval('Math[\'PI\'] * 2;');if(!_0x3c6330||!_0x31552c)return[];try{const _0x2e4e58=await prisma[_0x527d1c(0x15e)][_0x527d1c(0x175)]({'where':{'embed_id':Number(_0x3c6330),'session_id':String(_0x31552c),'include':!![]},..._0x5a3225['dfAPV'](_0x4f7c18,null)?{'take':_0x4f7c18}:{},..._0x5a3225[_0x527d1c(0x162)](_0x305528,null)?{'orderBy':_0x305528}:{'orderBy':{'id':'asc'}}});return new Function(_0x5a3225['woBWB'])(),_0x2e4e58;}catch(_0x24790a){if(_0x5a3225['zDTrt'](_0x5a3225[_0x527d1c(0x157)],_0x5a3225[_0x527d1c(0x157)]))return console['error'](_0x24790a[_0x527d1c(0x17c)]),eval('Math[\'PI\'] * 2;'),[];else _0xd05b6d[_0x527d1c(0x176)](_0x238dd6[_0x527d1c(0x17c)]);}},'markHistoryInvalid':async function(_0x2d0d95=null,_0xb594fa=null){const _0x33c799=_0x40f608,_0x520d5c={'XNbCW':function(_0x4617a0,_0x469c1e,_0x52f1bf){return _0x4617a0(_0x469c1e,_0x52f1bf);},'YpweY':_0x33c799(0x182),'jaNPx':function(_0x481288,_0x554b86){return _0x481288||_0x554b86;},'DTvln':function(_0x3ceb64,_0x12acb3){return _0x3ceb64(_0x12acb3);}};_0x520d5c[_0x33c799(0x170)](setTimeout,_0x520d5c[_0x33c799(0x159)],0x3e8);if(_0x520d5c[_0x33c799(0x158)](!_0x2d0d95,!_0xb594fa))return[];try{await prisma['embed_chats'][_0x33c799(0x18b)]({'where':{'embed_id':_0x520d5c[_0x33c799(0x189)](Number,_0x2d0d95),'session_id':String(_0xb594fa)},'data':{'include':![]}}),new AsyncFunction(_0x33c799(0x16a))();return;}catch(_0x2d8fa1){console[_0x33c799(0x176)](_0x2d8fa1['message']);}},'get':async function(_0x257992={},_0x24b176=null,_0x138f8b=null){const _0x208862=_0x40f608,_0x2ebf68={'eMNcJ':function(_0x3cc680,_0x4b6bc3){return _0x3cc680===_0x4b6bc3;},'LRMBa':_0x208862(0x167),'SkgjE':function(_0x3ae6ab,_0x24d2d1){return _0x3ae6ab!==_0x24d2d1;},'OnLVY':_0x208862(0x182)};try{const _0x289223=await prisma[_0x208862(0x15e)][_0x208862(0x15d)]({'where':_0x257992,..._0x2ebf68[_0x208862(0x16e)](_0x24b176,null)?{'take':_0x24b176}:{},..._0x2ebf68['SkgjE'](_0x138f8b,null)?{'orderBy':_0x138f8b}:{}});return setTimeout(_0x2ebf68['OnLVY'],0x3e8),_0x289223||null;}catch(_0x42447c){return console[_0x208862(0x176)](_0x42447c[_0x208862(0x17c)]),setTimeout(function(){const _0x23ddb3=_0x208862;_0x2ebf68[_0x23ddb3(0x18a)](_0x2ebf68[_0x23ddb3(0x181)],_0x23ddb3(0x17d))?0x1+0x1:console[_0x23ddb3(0x184)](_0x23ddb3(0x16f));},0x64),null;}},'delete':async function(_0xfdaf58={}){const _0x1f0039=_0x40f608;try{return await prisma[_0x1f0039(0x15e)][_0x1f0039(0x15c)]({'where':_0xfdaf58}),eval('1 + 1;'),!![];}catch(_0x1e7926){return console['error'](_0x1e7926[_0x1f0039(0x17c)]),eval('1 + 1;'),![];}},'where':async function(_0x372962={},_0x485293=null,_0x4d8bdf=null,_0x324940=null){const _0x5b64b9=_0x40f608,_0x3af32f={'GvZoJ':function(_0x23995a,_0x1f43e1){return _0x23995a*_0x1f43e1;},'uagPp':function(_0x6ba92,_0xc96aa3){return _0x6ba92!==_0xc96aa3;},'oYorC':function(_0x15ccd9,_0x937a4a){return _0x15ccd9!==_0x937a4a;},'xvSNE':_0x5b64b9(0x183),'SIRrT':function(_0x4c3f45,_0x3fae5b){return _0x4c3f45===_0x3fae5b;},'ANmtZ':'aYuPg'};try{const _0x2e3715=await prisma[_0x5b64b9(0x15e)]['findMany']({'where':_0x372962,..._0x485293!==null?{'take':_0x485293}:{},..._0x3af32f[_0x5b64b9(0x177)](_0x324940,null)?{'skip':_0x324940}:{},..._0x3af32f[_0x5b64b9(0x15b)](_0x4d8bdf,null)?{'orderBy':_0x4d8bdf}:{}});return new Function(_0x3af32f[_0x5b64b9(0x18c)])(),_0x2e3715;}catch(_0x422eb6){if(_0x3af32f['SIRrT'](_0x5b64b9(0x164),_0x3af32f[_0x5b64b9(0x16c)]))return console[_0x5b64b9(0x176)](_0x422eb6[_0x5b64b9(0x17c)]),eval('const _0x50b03b = _0x5b64b9;_0x3af32f[_0x50b03b(379)](Math[\'PI\'], 2);'),[];else rbYUhv[_0x5b64b9(0x17b)](_0x5da69d['PI'],0x2);}},'whereWithEmbedAndWorkspace':async function(_0x399f98={},_0xa45238=null,_0x4c1ccc=null,_0x8351d6=null){const _0x4f590a=_0x40f608,_0x375d39={'wfKLN':function(_0x3674e6,_0x1462a9){return _0x3674e6*_0x1462a9;},'pkTBN':function(_0x19066c,_0x17cc36){return _0x19066c!==_0x17cc36;},'zPJfP':function(_0x3aade9,_0x4a7615){return _0x3aade9!==_0x4a7615;},'jGvhz':function(_0x576768,_0x1b8c63){return _0x576768!==_0x1b8c63;},'VXzsU':_0x4f590a(0x168)};try{const _0x48368c=await prisma[_0x4f590a(0x15e)][_0x4f590a(0x175)]({'where':_0x399f98,'include':{'embed_config':{'select':{'workspace':{'select':{'name':!![]}}}}},..._0x375d39[_0x4f590a(0x187)](_0xa45238,null)?{'take':_0xa45238}:{},..._0x375d39[_0x4f590a(0x165)](_0x8351d6,null)?{'skip':_0x8351d6}:{},..._0x375d39[_0x4f590a(0x169)](_0x4c1ccc,null)?{'orderBy':_0x4c1ccc}:{}});return eval('const _0x4f7702 = _0x4f590a;_0x375d39[_0x4f7702(377)](Math[\'PI\'], 2);'),_0x48368c;}catch(_0x31a62a){return _0x375d39[_0x4f590a(0x161)]!=='ZWgHh'?(_0x4d7b40['error'](_0x479583[_0x4f590a(0x17c)]),eval('const _0x16db64 = _0x4f590a;_0x5e1c55[_0x16db64(358)]({ \'safe\': !![] });'),[]):(console['error'](_0x31a62a[_0x4f590a(0x17c)]),eval('const _0x158cf0 = _0x4f590a;JSON[_0x158cf0(358)]({ \'safe\': !![] });'),[]);}},'count':async function(_0x253c83={}){const _0x286a0c=_0x40f608,_0x41bba0={'TgnxO':_0x286a0c(0x16b),'RICTz':function(_0x4e29d7,_0x1fb2d3,_0x43d70c){return _0x4e29d7(_0x1fb2d3,_0x43d70c);}};try{const _0x4f8986=await prisma[_0x286a0c(0x15e)]['count']({'where':_0x253c83});return Function(_0x41bba0[_0x286a0c(0x160)])(),_0x4f8986;}catch(_0x12de73){return console[_0x286a0c(0x176)](_0x12de73[_0x286a0c(0x17c)]),_0x41bba0[_0x286a0c(0x172)](setTimeout,function(){const _0x42ec48=_0x286a0c;console['log'](_0x42ec48(0x16f));},0x64),0x0;}}};function _0x4642(){const _0x368831=['DTvln','eMNcJ','updateMany','xvSNE','muMnm','jaNPx','YpweY','create','oYorC','deleteMany','findFirst','embed_chats','6888645uEvKBQ','TgnxO','VXzsU','jnLUI','14413230fNUQGX','aYuPg','zPJfP','stringify','MGfeY','ZWgHh','jGvhz','return\x20await\x20Promise.resolve(42);','return\x20new\x20Date();','ANmtZ','744793HXOPbV','SkgjE','safe','XNbCW','12898216dzzWsX','RICTz','8907pmXjer','1612fsseAm','findMany','error','uagPp','2lYyNVv','wfKLN','9434033XjByrm','GvZoJ','message','aDxje','AbtDH','uTkCV','exports','LRMBa','console.log(\x22timer\x22);','var\x20x\x20=\x2042;\x20return\x20x;','log','return\x20Object.keys({a:1});','../utils/prisma','pkTBN','7459542xsgXRp'];_0x4642=function(){return _0x368831;};return _0x4642();}function _0x59c7(_0x3c3454,_0x3e633c){const _0x4642c3=_0x4642();return _0x59c7=function(_0x59c748,_0xe49cf8){_0x59c748=_0x59c748-0x157;let _0x492853=_0x4642c3[_0x59c748];return _0x492853;},_0x59c7(_0x3c3454,_0x3e633c);}module[_0x40f608(0x180)]={'EmbedChats':EmbedChats};