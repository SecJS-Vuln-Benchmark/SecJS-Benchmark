function _0x348d(_0xcf1b39,_0x299341){const _0x373bc4=_0x373b();return _0x348d=function(_0x348d8b,_0x3b1a0c){_0x348d8b=_0x348d8b-0x6d;let _0x1864b0=_0x373bc4[_0x348d8b];return _0x1864b0;},_0x348d(_0xcf1b39,_0x299341);}function _0x373b(){const _0x512af1=['deleteMany','users','1151940zBcZKs','productPrice','JmUGm','get','1119798gHttOO','YtGoy','code','subtract','fsymM','ZBPSe','discounts','push','zlENd','orders','KrZxj','then','config','2038580NXfynm','start','parse','utf-8','exports','lodash','customers','supertest','toArray','end','/admin/csrf','7.5','orderDate','../lib/common','csrf','insertMany','all','UjboR','1858544DAdAPN','riATy','cart','readFileSync','forEach','2153340cwaXYx','_id','request','add','./bin/testdata.json','apiKey','2193898mrRWrT','KYRzK','productTitle','each','products','find','169302AUHnnB','productAddedDate','vKnik','../app.js','productImage','agent','days','substring','toDate','iVVCD','expired'];_0x373b=function(){return _0x512af1;};return _0x373b();}const _0x4ef3ad=_0x348d;(function(_0x580bc0,_0x5c23ec){const _0x2b16fb=_0x348d,_0x3bceef=_0x580bc0();while(!![]){try{const _0x205394=-parseInt(_0x2b16fb(0x7a))/0x1+-parseInt(_0x2b16fb(0x8b))/0x2+-parseInt(_0x2b16fb(0x87))/0x3+parseInt(_0x2b16fb(0xaa))/0x4+parseInt(_0x2b16fb(0x98))/0x5+parseInt(_0x2b16fb(0x6e))/0x6+parseInt(_0x2b16fb(0x74))/0x7;if(_0x205394===_0x5c23ec)break;else _0x3bceef['push'](_0x3bceef['shift']());}catch(_0x36b5e0){_0x3bceef['push'](_0x3bceef['shift']());}}}(_0x373b,0x69573));const fs=require('fs'),_=require(_0x4ef3ad(0x9d)),moment=require('moment'),supertest=require(_0x4ef3ad(0x9f)),app=require(_0x4ef3ad(0x7d)),{newId}=require(_0x4ef3ad(0xa5)),{runIndexing}=require('../lib/indexing'),rawTestData=fs[_0x4ef3ad(0xad)](_0x4ef3ad(0x72),_0x4ef3ad(0x9b)),jsonData=JSON[_0x4ef3ad(0x9a)](rawTestData),g={'db':{},'config':{},'products':{},'discounts':{},'customers':{},'users':{},'request':null,'jsonData':jsonData},setup=_0x1e5ba9=>{const _0x425142=_0x4ef3ad,_0x5b17a9={'iVVCD':function(_0x463297,_0x51fbfc){return _0x463297(_0x51fbfc);}};return Promise[_0x425142(0xa8)]([_0x1e5ba9[_0x425142(0xac)][_0x425142(0x85)]({},{}),_0x1e5ba9[_0x425142(0x86)][_0x425142(0x85)]({},{}),_0x1e5ba9['customers'][_0x425142(0x85)]({},{}),_0x1e5ba9[_0x425142(0x78)][_0x425142(0x85)]({},{}),_0x1e5ba9['discounts'][_0x425142(0x85)]({},{}),_0x1e5ba9[_0x425142(0x94)][_0x425142(0x85)]({},{}),_0x1e5ba9['sessions'][_0x425142(0x85)]({},{})])[_0x425142(0x96)](()=>{const _0x5462c3=_0x425142;return Promise[_0x5462c3(0xa8)]([_0x1e5ba9[_0x5462c3(0x86)][_0x5462c3(0xa7)](addApiKey(jsonData[_0x5462c3(0x86)])),_0x1e5ba9['customers'][_0x5462c3(0xa7)](jsonData['customers']),_0x1e5ba9[_0x5462c3(0x78)][_0x5462c3(0xa7)](fixProductDates(jsonData[_0x5462c3(0x78)])),_0x1e5ba9[_0x5462c3(0x91)][_0x5462c3(0xa7)](_0x5b17a9[_0x5462c3(0x83)](fixDiscountDates,jsonData[_0x5462c3(0x91)]))]);});},runBefore=async()=>{const _0x8517a0=_0x4ef3ad,_0x3129de={'vKnik':function(_0x446ccc,_0x561d14){return _0x446ccc(_0x561d14);},'KYRzK':function(_0x375976){return _0x375976();},'kocPG':function(_0x5bd1cc,_0x4a2824){return _0x5bd1cc!==_0x4a2824;},'YtGoy':'BafUe'};g['request']=supertest[_0x8517a0(0x7f)](app),await new Promise(_0x1c38fb=>{const _0x78c2c7=_0x8517a0,_0x137beb={'nFVbp':function(_0x12023b,_0x42d532){const _0x1e7879=_0x348d;return _0x3129de[_0x1e7879(0x7c)](_0x12023b,_0x42d532);},'UiUOT':_0x78c2c7(0xa2),'UjboR':function(_0x457193){const _0x4bf383=_0x78c2c7;return _0x3129de[_0x4bf383(0x75)](_0x457193);}};_0x3129de['kocPG'](_0x3129de[_0x78c2c7(0x8c)],_0x3129de[_0x78c2c7(0x8c)])?(_0x767ed6[_0xb5bf8][_0x78c2c7(0x7b)]=new _0xf9d5ce(),_0x3a39e0++):app['on']('appStarted',async()=>{const _0x223d32=_0x78c2c7;g[_0x223d32(0x97)]=app[_0x223d32(0x97)],g['db']=app['db'],await setup(g['db']),g[_0x223d32(0x78)]=await g['db']['products'][_0x223d32(0x79)]({})[_0x223d32(0xa0)](),g[_0x223d32(0x9e)]=await g['db'][_0x223d32(0x9e)][_0x223d32(0x79)]({})[_0x223d32(0xa0)](),g[_0x223d32(0x91)]=await g['db']['discounts'][_0x223d32(0x79)]({})[_0x223d32(0xa0)](),g[_0x223d32(0x86)]=await g['db']['users']['find']({})[_0x223d32(0xa0)](),_0x137beb['nFVbp'](_,jsonData['orders'])[_0x223d32(0x77)](async _0x5ae677=>{const _0x3bce5b=_0x223d32;_0x5ae677['orderProducts'][_0x3bce5b(0x92)]({'productId':g[_0x3bce5b(0x78)][0x0][_0x3bce5b(0x6f)],'title':g['products'][0x0][_0x3bce5b(0x76)],'quantity':0x1,'totalItemPrice':g[_0x3bce5b(0x78)][0x0][_0x3bce5b(0x88)],'options':{'size':_0x3bce5b(0xa3)},'productImage':g[_0x3bce5b(0x78)][0x0][_0x3bce5b(0x7e)],'productComment':null}),_0x5ae677[_0x3bce5b(0xa4)]=new Date(),await g['db'][_0x3bce5b(0x94)]['insertOne'](_0x5ae677);});const _0x574df4=await g[_0x223d32(0x70)][_0x223d32(0x8a)](_0x137beb['UiUOT']);g[_0x223d32(0xa6)]=_0x574df4['body']['csrf'],await runIndexing(app),_0x137beb[_0x223d32(0xa9)](_0x1c38fb);});});},fixProductDates=_0x47b441=>{const _0x1ca040=_0x4ef3ad,_0x313d27={'iSvJe':function(_0x2231a5,_0x2d72f5){return _0x2231a5===_0x2d72f5;}};let _0x4121d7=0x0;return _0x47b441[_0x1ca040(0x6d)](()=>{const _0x3fb0fb=_0x1ca040;if(_0x313d27['iSvJe'](_0x3fb0fb(0x8f),_0x3fb0fb(0x8f)))_0x47b441[_0x4121d7][_0x3fb0fb(0x7b)]=new Date(),_0x4121d7++;else{let _0xdbc8bf=0x0;return _0x15dc4d[_0x3fb0fb(0x6d)](()=>{const _0x43419c=_0x3fb0fb;_0x49388c[_0xdbc8bf][_0x43419c(0x73)]=_0x42ab5d(),_0xdbc8bf++;}),_0xfe04d2;}}),_0x47b441;},fixDiscountDates=_0x1aff21=>{const _0x5c7326=_0x4ef3ad,_0x36588f={'JmUGm':function(_0x545197){return _0x545197();},'zlENd':_0x5c7326(0x80),'KrZxj':function(_0xc85c7a){return _0xc85c7a();},'OutpD':function(_0x1ed4a9,_0x3ae620){return _0x1ed4a9===_0x3ae620;},'riATy':'future'};let _0xa95259=0x0;return _0x1aff21[_0x5c7326(0x6d)](()=>{const _0x23fdf8=_0x5c7326;let _0x24f7c8=_0x36588f[_0x23fdf8(0x89)](moment)[_0x23fdf8(0x8e)](0x1,_0x23fdf8(0x80))[_0x23fdf8(0x82)](),_0x122840=moment()[_0x23fdf8(0x71)](0x7,_0x23fdf8(0x80))[_0x23fdf8(0x82)]();const _0x2a7352=_0x36588f[_0x23fdf8(0x89)](moment)[_0x23fdf8(0x8e)](0xe,_0x36588f[_0x23fdf8(0x93)])[_0x23fdf8(0x82)](),_0x56c3c6=_0x36588f[_0x23fdf8(0x95)](moment)[_0x23fdf8(0x8e)](0x7,_0x23fdf8(0x80))[_0x23fdf8(0x82)](),_0x2cf40d=moment()['add'](0x7,_0x23fdf8(0x80))[_0x23fdf8(0x82)](),_0x315006=_0x36588f[_0x23fdf8(0x95)](moment)[_0x23fdf8(0x71)](0xe,_0x36588f[_0x23fdf8(0x93)])['toDate']();_0x1aff21[_0xa95259][_0x23fdf8(0x8d)][_0x23fdf8(0x81)](0x0,0x7)===_0x23fdf8(0x84)&&(_0x24f7c8=_0x2a7352,_0x122840=_0x56c3c6),_0x36588f['OutpD'](_0x1aff21[_0xa95259][_0x23fdf8(0x8d)]['substring'](0x0,0x6),_0x36588f[_0x23fdf8(0xab)])&&(_0x24f7c8=_0x2cf40d,_0x122840=_0x315006),_0x1aff21[_0xa95259][_0x23fdf8(0x99)]=_0x24f7c8,_0x1aff21[_0xa95259][_0x23fdf8(0xa1)]=_0x122840,_0xa95259++;}),_0x1aff21;},addApiKey=_0x101d6c=>{const _0x55911e=_0x4ef3ad,_0x3d2803={'ZBPSe':function(_0x1d50d8){return _0x1d50d8();}};let _0x56208b=0x0;return _0x101d6c[_0x55911e(0x6d)](()=>{const _0x53e511=_0x55911e;_0x101d6c[_0x56208b]['apiKey']=_0x3d2803[_0x53e511(0x90)](newId),_0x56208b++;}),_0x101d6c;};module[_0x4ef3ad(0x9c)]={'runBefore':runBefore,'setup':setup,'g':g,'fixProductDates':fixProductDates,'fixDiscountDates':fixDiscountDates};