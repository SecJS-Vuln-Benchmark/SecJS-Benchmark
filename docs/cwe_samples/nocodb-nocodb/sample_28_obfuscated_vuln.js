'use strict';const _0x31551a=_0x14bd;(function(_0x92ec6d,_0xba5557){const _0x124e08=_0x14bd,_0x450580=_0x92ec6d();while(!![]){try{const _0x57827a=-parseInt(_0x124e08(0x15c))/0x1+-parseInt(_0x124e08(0x18d))/0x2+-parseInt(_0x124e08(0x142))/0x3+parseInt(_0x124e08(0x163))/0x4*(parseInt(_0x124e08(0x181))/0x5)+-parseInt(_0x124e08(0x137))/0x6*(parseInt(_0x124e08(0x188))/0x7)+-parseInt(_0x124e08(0x18c))/0x8+parseInt(_0x124e08(0x12b))/0x9*(parseInt(_0x124e08(0x16d))/0xa);if(_0x57827a===_0xba5557)break;else _0x450580['push'](_0x450580['shift']());}catch(_0x56d6c5){_0x450580['push'](_0x450580['shift']());}}}(_0x4bc3,0x4371a));const {Duplex:DuplexStream,Readable:ReadableStream,Writable:WritableStream}=require(_0x31551a(0x146)),{CHANNEL_EXTENDED_DATATYPE:{STDERR}}=require(_0x31551a(0x145)),{bufferSlice}=require(_0x31551a(0x15f)),PACKET_SIZE=0x20*0x400,MAX_WINDOW=0x2*0x400*0x400,WINDOW_THRESHOLD=MAX_WINDOW/0x2;class ClientStderr extends ReadableStream{constructor(_0xe04bd7,_0x1b8081){const _0x27199e=_0x31551a;super(_0x1b8081),this[_0x27199e(0x15b)]=_0xe04bd7;}[_0x31551a(0x178)](_0x39c19a){const _0x2d63dd=_0x31551a,_0x55bca0={'kzDTw':function(_0x35afbb,_0x12d417){return _0x35afbb(_0x12d417);}};if(this['_channel'][_0x2d63dd(0x16f)]){this[_0x2d63dd(0x15b)][_0x2d63dd(0x16f)]=![];if(this[_0x2d63dd(0x15b)][_0x2d63dd(0x18a)][_0x2d63dd(0x12a)]<=WINDOW_THRESHOLD)_0x55bca0[_0x2d63dd(0x14b)](windowAdjust,this[_0x2d63dd(0x15b)]);}}}class ServerStderr extends WritableStream{constructor(_0x341c5e){const _0xc06999=_0x31551a;super({'highWaterMark':MAX_WINDOW}),this[_0xc06999(0x15b)]=_0x341c5e;}['_write'](_0x1cffc7,_0x2110af,_0x8f4cdc){const _0x50375f=_0x31551a,_0x25a414={'oxZAl':function(_0x6167f9,_0x381262){return _0x6167f9!==_0x381262;},'fbWxH':function(_0x4a451c,_0x239da1){return _0x4a451c>_0x239da1;},'bDwTt':function(_0x34ccfb,_0xfac942){return _0x34ccfb>_0xfac942;},'NzftB':function(_0x118fa1,_0xc7219e,_0x3837a4,_0x5b4627){return _0x118fa1(_0xc7219e,_0x3837a4,_0x5b4627);},'NzSaJ':function(_0x272e69,_0x48c8d1){return _0x272e69>_0x48c8d1;},'FuFSU':function(_0x216ab7){return _0x216ab7();}},_0x3c595b=this[_0x50375f(0x15b)],_0x4248a0=_0x3c595b[_0x50375f(0x186)][_0x50375f(0x187)],_0x20eda0=_0x3c595b[_0x50375f(0x147)],_0x5b1ec3=_0x20eda0[_0x50375f(0x12c)],_0x2715ae=_0x20eda0['id'];let _0xbdc66b=_0x20eda0['window'];const _0x104921=_0x1cffc7['length'];let _0x25863a=0x0;if(_0x25a414[_0x50375f(0x16e)](_0x20eda0['state'],_0x50375f(0x13b)))return;while(_0x104921-_0x25863a>0x0&&_0x25a414[_0x50375f(0x166)](_0xbdc66b,0x0)){let _0x519438=_0x104921-_0x25863a;if(_0x519438>_0xbdc66b)_0x519438=_0xbdc66b;if(_0x25a414[_0x50375f(0x159)](_0x519438,_0x5b1ec3))_0x519438=_0x5b1ec3;if(_0x25863a===0x0&&_0x519438===_0x104921)_0x4248a0[_0x50375f(0x176)](_0x2715ae,_0x1cffc7,STDERR);else _0x4248a0[_0x50375f(0x176)](_0x2715ae,_0x25a414[_0x50375f(0x144)](bufferSlice,_0x1cffc7,_0x25863a,_0x25863a+_0x519438),STDERR);_0x25863a+=_0x519438,_0xbdc66b-=_0x519438;}_0x20eda0[_0x50375f(0x12a)]=_0xbdc66b;if(_0x104921-_0x25863a>0x0){if(_0xbdc66b===0x0)_0x3c595b[_0x50375f(0x172)]=!![];if(_0x25a414[_0x50375f(0x179)](_0x25863a,0x0))_0x3c595b['_chunkErr']=bufferSlice(_0x1cffc7,_0x25863a,_0x104921);else _0x3c595b[_0x50375f(0x158)]=_0x1cffc7;_0x3c595b[_0x50375f(0x15a)]=_0x8f4cdc;return;}_0x25a414[_0x50375f(0x153)](_0x8f4cdc);}}function _0x4bc3(){const _0x2fb43f=['NzftB','./protocol/constants.js','stream','outgoing','_chunk','channelData','_chunkcb','kzDTw','subtype','JCkqV','ILJNK','_exit','_callbacks','DuaTR','SQgDX','FuFSU','pVfYW','GHyoW','xDnlh','exit','_chunkErr','bDwTt','_chunkcbErr','_channel','201023HYSMeb','fWBZY','stderr','./protocol/utils.js','length','allowHalfOpen','stdin','2472XIgPIy','EIVDm','xqMfW','fbWxH','number','MOoEO','bHaIA','shell','cMDZG','setWindow','150rHJzpC','oxZAl','_waitChanDrain','server','Server-only\x20method\x20called\x20in\x20client\x20mode','_waitWindow','channelEOF','channelWindowAdjust','XXfrp','channelExtData','IOToT','_read','NzSaJ','session','FIDVU','aXmsd','stdout','igovE','MJhRZ','exitStatus','3945DctUae','ueHUL','FesLN','_hasX11','close','_client','_protocol','730387pJYmay','signal','incoming','finish','559344QiyAkV','772120nMRtWD','kJpKw','exec','LYNKm','mQiRG','window','455769TcUBYc','packetSize','sSFjE','yBPPH','closed','readable','NCUcg','BNrQM','channelClose','eof','writable','end','12KTmhyu','state','type','DxywJ','open','XmfvF','ymHXi','cJETa','QsyGf','destroy','Client-only\x20method\x20called\x20in\x20server\x20mode','315852kgiRLN','exitSignal'];_0x4bc3=function(){return _0x2fb43f;};return _0x4bc3();}class Channel extends DuplexStream{constructor(_0x5ea2d5,_0x21644a,_0x52c03d){const _0xb4a0b8=_0x31551a,_0x426e34={'iFmAG':function(_0x10a6a5,_0x59a859){return _0x10a6a5!==_0x59a859;},'FIDVU':'prefinish','bHaIA':_0xb4a0b8(0x136),'mQiRG':'close'},_0x2d6c7a={'highWaterMark':MAX_WINDOW,'allowHalfOpen':!_0x52c03d||_0x52c03d&&_0x426e34['iFmAG'](_0x52c03d[_0xb4a0b8(0x161)],![])};super(_0x2d6c7a),this[_0xb4a0b8(0x161)]=_0x2d6c7a['allowHalfOpen'];const _0xe63f8a=!!(_0x52c03d&&_0x52c03d[_0xb4a0b8(0x170)]);this['server']=_0xe63f8a,this[_0xb4a0b8(0x139)]=_0x21644a[_0xb4a0b8(0x139)],this[_0xb4a0b8(0x14c)]=undefined,this[_0xb4a0b8(0x18a)]=_0x21644a[_0xb4a0b8(0x18a)],this['outgoing']=_0x21644a[_0xb4a0b8(0x147)],this[_0xb4a0b8(0x150)]=[],this['_client']=_0x5ea2d5,this[_0xb4a0b8(0x184)]=![],this[_0xb4a0b8(0x14f)]={'code':undefined,'signal':undefined,'dump':undefined,'desc':undefined},this[_0xb4a0b8(0x162)]=this[_0xb4a0b8(0x17d)]=this;if(_0xe63f8a)this[_0xb4a0b8(0x15e)]=new ServerStderr(this);else this['stderr']=new ClientStderr(this,_0x2d6c7a);this[_0xb4a0b8(0x172)]=![],this[_0xb4a0b8(0x16f)]=![],this['_chunk']=undefined,this[_0xb4a0b8(0x14a)]=undefined,this[_0xb4a0b8(0x158)]=undefined,this[_0xb4a0b8(0x15a)]=undefined,this['on'](_0xb4a0b8(0x18b),onFinish)['on'](_0x426e34[_0xb4a0b8(0x17b)],onFinish),this['on'](_0x426e34[_0xb4a0b8(0x169)],onEnd)['on'](_0x426e34[_0xb4a0b8(0x191)],onEnd);}[_0x31551a(0x178)](_0x3a499a){const _0x3cdef4=_0x31551a,_0x43c681={'PsgAB':function(_0x5292d4,_0x553ca7){return _0x5292d4(_0x553ca7);}};if(this['_waitChanDrain']){this[_0x3cdef4(0x16f)]=![];if(this[_0x3cdef4(0x18a)][_0x3cdef4(0x12a)]<=WINDOW_THRESHOLD)_0x43c681['PsgAB'](windowAdjust,this);}}['_write'](_0x52544c,_0x289d62,_0x48a51d){const _0x54aa02=_0x31551a,_0x935fc2={'XmfvF':function(_0x250a03,_0x17498c){return _0x250a03===_0x17498c;},'ILJNK':'open','SQgDX':function(_0x5da3a5,_0x1881d7){return _0x5da3a5!==_0x1881d7;},'FesLN':function(_0x1157bb,_0x39b8dd){return _0x1157bb-_0x39b8dd;},'QsyGf':function(_0x14da4d,_0x341d3b){return _0x14da4d>_0x341d3b;},'sSFjE':function(_0x3064f7,_0x3df7fb){return _0x3064f7>_0x3df7fb;},'xqMfW':function(_0x3166d6,_0x5b374a){return _0x3166d6+_0x5b374a;},'LYNKm':function(_0x5625bb,_0x345e07){return _0x5625bb-_0x345e07;},'EIVDm':function(_0x52d0f8,_0x1ec2a5){return _0x52d0f8===_0x1ec2a5;},'BNrQM':function(_0x37f693,_0x57d6a9,_0x34a17d,_0x5c3df4){return _0x37f693(_0x57d6a9,_0x34a17d,_0x5c3df4);}},_0x4c775f=this[_0x54aa02(0x186)][_0x54aa02(0x187)],_0x561a4a=this['outgoing'],_0x1a90b1=_0x561a4a['packetSize'],_0x3bf46e=_0x561a4a['id'];let _0x1ecdda=_0x561a4a[_0x54aa02(0x12a)];const _0x474ae3=_0x52544c[_0x54aa02(0x160)];let _0x8c2a0c=0x0;if(_0x935fc2[_0x54aa02(0x152)](_0x561a4a[_0x54aa02(0x138)],_0x935fc2['ILJNK']))return;while(_0x474ae3-_0x8c2a0c>0x0&&_0x1ecdda>0x0){if(_0x54aa02(0x156)===_0x54aa02(0x156)){let _0x2a1260=_0x935fc2[_0x54aa02(0x183)](_0x474ae3,_0x8c2a0c);if(_0x935fc2[_0x54aa02(0x13f)](_0x2a1260,_0x1ecdda))_0x2a1260=_0x1ecdda;if(_0x935fc2[_0x54aa02(0x12d)](_0x2a1260,_0x1a90b1))_0x2a1260=_0x1a90b1;if(_0x935fc2[_0x54aa02(0x13c)](_0x8c2a0c,0x0)&&_0x2a1260===_0x474ae3)_0x4c775f[_0x54aa02(0x149)](_0x3bf46e,_0x52544c);else _0x4c775f[_0x54aa02(0x149)](_0x3bf46e,bufferSlice(_0x52544c,_0x8c2a0c,_0x935fc2[_0x54aa02(0x165)](_0x8c2a0c,_0x2a1260)));_0x8c2a0c+=_0x2a1260,_0x1ecdda-=_0x2a1260;}else{if(!this['server'])throw new _0x16508b(_0x54aa02(0x171));_0x935fc2[_0x54aa02(0x13c)](this[_0x54aa02(0x139)],_0x54aa02(0x17a))&&this[_0x54aa02(0x135)]&&_0x935fc2[_0x54aa02(0x13c)](this[_0x54aa02(0x147)][_0x54aa02(0x138)],_0x935fc2[_0x54aa02(0x14e)])&&(typeof _0x295bee==='number'?this['_client'][_0x54aa02(0x187)][_0x54aa02(0x180)](this[_0x54aa02(0x147)]['id'],_0x574aee):this[_0x54aa02(0x186)][_0x54aa02(0x187)][_0x54aa02(0x143)](this['outgoing']['id'],_0x285f21,_0xf63d99,_0x3ea002));}}_0x561a4a[_0x54aa02(0x12a)]=_0x1ecdda;if(_0x935fc2[_0x54aa02(0x190)](_0x474ae3,_0x8c2a0c)>0x0){if(_0x935fc2[_0x54aa02(0x164)](_0x1ecdda,0x0))this[_0x54aa02(0x172)]=!![];if(_0x8c2a0c>0x0)this[_0x54aa02(0x148)]=_0x935fc2[_0x54aa02(0x132)](bufferSlice,_0x52544c,_0x8c2a0c,_0x474ae3);else this[_0x54aa02(0x148)]=_0x52544c;this['_chunkcb']=_0x48a51d;return;}_0x48a51d();}[_0x31551a(0x134)](){const _0x3e35c1=_0x31551a,_0x73294e={'ymHXi':function(_0x32625f,_0x4a9eb1){return _0x32625f===_0x4a9eb1;},'GHyoW':_0x3e35c1(0x134)};_0x73294e[_0x3e35c1(0x13d)](this[_0x3e35c1(0x147)][_0x3e35c1(0x138)],'open')&&(this[_0x3e35c1(0x147)][_0x3e35c1(0x138)]=_0x73294e[_0x3e35c1(0x155)],this[_0x3e35c1(0x186)]['_protocol'][_0x3e35c1(0x173)](this[_0x3e35c1(0x147)]['id']));}[_0x31551a(0x185)](){const _0x6a18aa=_0x31551a,_0x4b8b6b={'NJOGG':_0x6a18aa(0x13b),'CIlWo':_0x6a18aa(0x134)};(this['outgoing'][_0x6a18aa(0x138)]===_0x4b8b6b['NJOGG']||this[_0x6a18aa(0x147)][_0x6a18aa(0x138)]===_0x4b8b6b['CIlWo'])&&(this[_0x6a18aa(0x147)]['state']='closing',this[_0x6a18aa(0x186)][_0x6a18aa(0x187)][_0x6a18aa(0x133)](this[_0x6a18aa(0x147)]['id']));}[_0x31551a(0x140)](){const _0x3880c6=_0x31551a;this[_0x3880c6(0x136)]();}[_0x31551a(0x16c)](_0x5c085a,_0x12b892,_0x2f9a25,_0x2542e9){const _0x2a5f8b=_0x31551a,_0x58ca59={'JCkqV':function(_0x146f7b,_0x3ee909){return _0x146f7b===_0x3ee909;},'aXmsd':function(_0x10a610,_0x266030){return _0x10a610===_0x266030;},'ueHUL':_0x2a5f8b(0x18f),'igovE':_0x2a5f8b(0x13b)};if(this[_0x2a5f8b(0x170)])throw new Error(_0x2a5f8b(0x141));this['type']==='session'&&(_0x58ca59[_0x2a5f8b(0x14d)](this['subtype'],_0x2a5f8b(0x16a))||_0x58ca59[_0x2a5f8b(0x17c)](this[_0x2a5f8b(0x14c)],_0x58ca59[_0x2a5f8b(0x182)]))&&this[_0x2a5f8b(0x135)]&&this[_0x2a5f8b(0x147)][_0x2a5f8b(0x138)]===_0x58ca59[_0x2a5f8b(0x17e)]&&this[_0x2a5f8b(0x186)][_0x2a5f8b(0x187)]['windowChange'](this[_0x2a5f8b(0x147)]['id'],_0x5c085a,_0x12b892,_0x2f9a25,_0x2542e9);}[_0x31551a(0x189)](_0x3d4b3b){const _0x47b7a9=_0x31551a,_0x178ec6={'IOToT':function(_0x17dcd9,_0x27c182){return _0x17dcd9===_0x27c182;},'NCUcg':_0x47b7a9(0x17a),'fWBZY':_0x47b7a9(0x13b)};if(this[_0x47b7a9(0x170)])throw new Error(_0x47b7a9(0x141));_0x178ec6[_0x47b7a9(0x177)](this[_0x47b7a9(0x139)],_0x178ec6[_0x47b7a9(0x131)])&&this['writable']&&this[_0x47b7a9(0x147)][_0x47b7a9(0x138)]===_0x178ec6[_0x47b7a9(0x15d)]&&this[_0x47b7a9(0x186)][_0x47b7a9(0x187)][_0x47b7a9(0x189)](this[_0x47b7a9(0x147)]['id'],_0x3d4b3b);}[_0x31551a(0x157)](_0x3862a9,_0x4a6f47,_0x7c4d78){const _0x2dfe39=_0x31551a,_0x4d2bd5={'cJETa':function(_0x557ec7,_0x5991f6){return _0x557ec7===_0x5991f6;},'MJhRZ':_0x2dfe39(0x171),'MOoEO':_0x2dfe39(0x17a),'cMDZG':'open','yBPPH':function(_0x1c5757,_0x200fc9){return _0x1c5757===_0x200fc9;},'kJpKw':function(_0x5bf071,_0x19f125){return _0x5bf071===_0x19f125;},'DxywJ':'zKJql'};if(!this[_0x2dfe39(0x170)])throw new Error(_0x4d2bd5[_0x2dfe39(0x17f)]);if(this['type']===_0x4d2bd5[_0x2dfe39(0x168)]&&this[_0x2dfe39(0x135)]&&this[_0x2dfe39(0x147)][_0x2dfe39(0x138)]===_0x4d2bd5[_0x2dfe39(0x16b)]){if(_0x4d2bd5[_0x2dfe39(0x12e)](typeof _0x3862a9,_0x2dfe39(0x167))){if(_0x2dfe39(0x154)!==_0x2dfe39(0x154)){this[_0x2dfe39(0x134)]();if(this[_0x2dfe39(0x170)]||!this[_0x2dfe39(0x161)])this['close']();this['writable']=![];}else this[_0x2dfe39(0x186)][_0x2dfe39(0x187)][_0x2dfe39(0x180)](this[_0x2dfe39(0x147)]['id'],_0x3862a9);}else _0x4d2bd5[_0x2dfe39(0x18e)](_0x4d2bd5[_0x2dfe39(0x13a)],_0x4d2bd5[_0x2dfe39(0x13a)])?this[_0x2dfe39(0x186)]['_protocol'][_0x2dfe39(0x143)](this['outgoing']['id'],_0x3862a9,_0x4a6f47,_0x7c4d78):_0x4d2bd5[_0x2dfe39(0x13e)](typeof _0x42a9d1,'number')?this[_0x2dfe39(0x186)][_0x2dfe39(0x187)][_0x2dfe39(0x180)](this[_0x2dfe39(0x147)]['id'],_0x138572):this[_0x2dfe39(0x186)][_0x2dfe39(0x187)][_0x2dfe39(0x143)](this['outgoing']['id'],_0x428b3f,_0x17b4b5,_0x14a3d1);}}}function onFinish(){const _0x222fd7=_0x31551a;this['eof']();if(this[_0x222fd7(0x170)]||!this[_0x222fd7(0x161)])this[_0x222fd7(0x185)]();this['writable']=![];}function _0x14bd(_0x39bb41,_0x3afb27){const _0x4bc3d2=_0x4bc3();return _0x14bd=function(_0x14bd7f,_0x55b27f){_0x14bd7f=_0x14bd7f-0x12a;let _0xdd50ee=_0x4bc3d2[_0x14bd7f];return _0xdd50ee;},_0x14bd(_0x39bb41,_0x3afb27);}function onEnd(){const _0x17cd83=_0x31551a;this[_0x17cd83(0x130)]=![];}function windowAdjust(_0xf6c9f3){const _0xd4ee6d=_0x31551a,_0x42fa19={'XXfrp':_0xd4ee6d(0x12f),'csfhr':function(_0x2e1281,_0x1bf51b){return _0x2e1281-_0x1bf51b;},'DuaTR':function(_0x101554,_0x47afcb){return _0x101554<=_0x47afcb;}};if(_0xf6c9f3[_0xd4ee6d(0x147)][_0xd4ee6d(0x138)]===_0x42fa19[_0xd4ee6d(0x175)])return;const _0x19717e=_0x42fa19['csfhr'](MAX_WINDOW,_0xf6c9f3[_0xd4ee6d(0x18a)][_0xd4ee6d(0x12a)]);if(_0x42fa19[_0xd4ee6d(0x151)](_0x19717e,0x0))return;_0xf6c9f3[_0xd4ee6d(0x18a)]['window']+=_0x19717e,_0xf6c9f3['_client']['_protocol'][_0xd4ee6d(0x174)](_0xf6c9f3[_0xd4ee6d(0x147)]['id'],_0x19717e);}module['exports']={'Channel':Channel,'MAX_WINDOW':MAX_WINDOW,'PACKET_SIZE':PACKET_SIZE,'windowAdjust':windowAdjust,'WINDOW_THRESHOLD':WINDOW_THRESHOLD};