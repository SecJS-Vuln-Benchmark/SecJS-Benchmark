const _0x436797=_0x2653;(function(_0x46d644,_0x5143b9){const _0x27ebd9=_0x2653,_0x354c10=_0x46d644();while(!![]){try{const _0x50883d=-parseInt(_0x27ebd9(0x213))/0x1+parseInt(_0x27ebd9(0x201))/0x2+-parseInt(_0x27ebd9(0x239))/0x3+parseInt(_0x27ebd9(0x21c))/0x4*(-parseInt(_0x27ebd9(0x231))/0x5)+parseInt(_0x27ebd9(0x21b))/0x6+-parseInt(_0x27ebd9(0x22d))/0x7*(parseInt(_0x27ebd9(0x1ef))/0x8)+parseInt(_0x27ebd9(0x205))/0x9*(parseInt(_0x27ebd9(0x22e))/0xa);if(_0x50883d===_0x5143b9)break;else _0x354c10['push'](_0x354c10['shift']());}catch(_0x532d2b){_0x354c10['push'](_0x354c10['shift']());}}}(_0x45b7,0xecd6f));const express=require(_0x436797(0x226)),common=require(_0x436797(0x200)),colors=require(_0x436797(0x1c5)),bcrypt=require(_0x436797(0x1de)),url=require(_0x436797(0x21f)),router=express[_0x436797(0x20a)]();function _0x45b7(){const _0x2a909e=['DuIcT','/admin/user/update','cBbWu','users','vicMg','3|2|1|0|4','bcryptjs','vlLLC','header','danger','imnzb','bTTvF','session','count','body','UstAo','gnrWP','restrict','RZWHF','KOLPN','error','message','vuCny','1098848zfytje','messageType','/admin/users/','YnJrd','User\x20deleted.','ebBup','EVlUB','user','qotZi','qXkaN','getId','llqAv','find','/admin/login','/admin/user/edit/','userEmail','red','../lib/common','1542596QDeoOP','path','userPassword','isAdmin','9ufYHYl','toArray','User\x20account\x20updated.','findOne','hJTqc','Router','clearSessionValue','Failed\x20to\x20insert\x20user,\x20possibly\x20already\x20exists:\x20','ITaEu','stack','info','success','User\x20account\x20inserted','Failed\x20to\x20insert\x20user:\x20','354759UtmjyX','vQrGM','Mmbim','User\x20edit','params','Access\x20denied','zPSvr','dDWgE','4253676HiUjhC','4PIybKI','/admin/user/edit/:id','QPMjR','url','qwFxF','user_edit','3|1|4|2|0','usersName','Failed\x20to\x20update\x20user','jsyAH','express','app','qPLbd','cuXBk','/admin/user/insert','hashSync','LTGGH','14RZmgro','9869150RQkGNp','/Users/','DiYpp','2501775WlQFNx','post','User\x20-\x20New','QaCPp','remove','/admin/user/delete/:id','_id','mFoHr','1101714HADEVw','config','mulMa','MMdJo','redirect','uUBHl','colors','bcEII','handlebars','/admin/users','Failed\x20updating\x20user:\x20','PaSfr','ZWoNv','render','split','get','dUZgk','RijAF','/admin/user/new','ujeIy','Users','update','Access\x20denied.','userId','helpers'];_0x45b7=function(){return _0x2a909e;};return _0x45b7();}function _0x2653(_0x3f0491,_0x5b39c3){const _0x45b711=_0x45b7();return _0x2653=function(_0x26535f,_0x375c79){_0x26535f=_0x26535f-0x1c0;let _0x21a7df=_0x45b711[_0x26535f];return _0x21a7df;},_0x2653(_0x3f0491,_0x5b39c3);}router[_0x436797(0x1ce)](_0x436797(0x1c8),common['restrict'],(_0x197d04,_0x34d32e)=>{const _0x48f05e=_0x436797,_0x382ec7={'DiYpp':_0x48f05e(0x1d3),'nRiRQ':_0x48f05e(0x1f0)},_0xc0f100=_0x197d04[_0x48f05e(0x227)]['db'];_0xc0f100[_0x48f05e(0x1db)][_0x48f05e(0x1fb)]({})[_0x48f05e(0x206)]((_0x1ff81f,_0x40fc12)=>{const _0x3454b1=_0x48f05e;_0x1ff81f&&console[_0x3454b1(0x20f)](_0x1ff81f[_0x3454b1(0x20e)]),_0x34d32e[_0x3454b1(0x1cc)](_0x3454b1(0x1db),{'title':_0x382ec7[_0x3454b1(0x230)],'users':_0x40fc12,'admin':!![],'config':_0x197d04[_0x3454b1(0x227)][_0x3454b1(0x1c0)],'isAdmin':_0x197d04['session'][_0x3454b1(0x204)],'helpers':_0x197d04[_0x3454b1(0x1c7)]['helpers'],'session':_0x197d04['session'],'message':common['clearSessionValue'](_0x197d04[_0x3454b1(0x1e4)],_0x3454b1(0x1ed)),'messageType':common[_0x3454b1(0x20b)](_0x197d04[_0x3454b1(0x1e4)],_0x382ec7['nRiRQ'])});});}),router[_0x436797(0x1ce)](_0x436797(0x21d),common[_0x436797(0x1e9)],(_0x225cd0,_0x2a0386)=>{const _0xfff1e0=_0x436797,_0x38f345={'BIvdf':_0xfff1e0(0x207),'UstAo':function(_0x5d7ee1,_0x5bc621){return _0x5d7ee1+_0x5bc621;},'zPSvr':function(_0xb1c14c,_0x482c72){return _0xb1c14c!==_0x482c72;},'bcbLK':_0xfff1e0(0x1e1),'MMdJo':_0xfff1e0(0x22f),'llqAv':_0xfff1e0(0x216)},_0x854a45=_0x225cd0[_0xfff1e0(0x227)]['db'];_0x854a45['users'][_0xfff1e0(0x208)]({'_id':common[_0xfff1e0(0x1f9)](_0x225cd0[_0xfff1e0(0x217)]['id'])},(_0x5106c5,_0x1515ee)=>{const _0x40f694=_0xfff1e0,_0x53d179={'YnJrd':_0x38f345['BIvdf'],'bTTvF':'success','qPLbd':function(_0x2ef292,_0x453258){const _0x552231=_0x2653;return _0x38f345[_0x552231(0x1e7)](_0x2ef292,_0x453258);}};if(_0x38f345['zPSvr'](_0x40f694(0x238),_0x40f694(0x1f5))){_0x5106c5&&(_0x38f345[_0x40f694(0x219)](_0x40f694(0x1cb),_0x40f694(0x1cb))?(_0x59cb86[_0x40f694(0x1e4)]['message']=_0x53d179[_0x40f694(0x1f2)],_0x51004f[_0x40f694(0x1e4)][_0x40f694(0x1f0)]=_0x53d179[_0x40f694(0x1e3)],_0x2fe5ef[_0x40f694(0x1c3)](_0x53d179[_0x40f694(0x228)]('/admin/user/edit/',_0x121438['body'][_0x40f694(0x1d6)]))):console['info'](_0x5106c5['stack']));if(_0x1515ee[_0x40f694(0x1fe)]!==_0x225cd0[_0x40f694(0x1e4)][_0x40f694(0x1f6)]&&_0x225cd0[_0x40f694(0x1e4)][_0x40f694(0x204)]===![]){_0x225cd0['session']['message']=_0x40f694(0x218),_0x225cd0[_0x40f694(0x1e4)][_0x40f694(0x1f0)]=_0x38f345['bcbLK'],_0x2a0386[_0x40f694(0x1c3)](_0x38f345[_0x40f694(0x1c2)]);return;}_0x2a0386[_0x40f694(0x1cc)](_0x40f694(0x221),{'title':_0x38f345[_0x40f694(0x1fa)],'user':_0x1515ee,'admin':!![],'session':_0x225cd0[_0x40f694(0x1e4)],'message':common[_0x40f694(0x20b)](_0x225cd0[_0x40f694(0x1e4)],_0x40f694(0x1ed)),'messageType':common[_0x40f694(0x20b)](_0x225cd0['session'],_0x40f694(0x1f0)),'helpers':_0x225cd0[_0x40f694(0x1c7)][_0x40f694(0x1d7)],'config':_0x225cd0['app'][_0x40f694(0x1c0)]});}else _0xf6f894=!![];});}),router[_0x436797(0x1ce)]('/admin/user/new',common[_0x436797(0x1e9)],(_0x51b421,_0x302298)=>{const _0x42645c=_0x436797,_0x49dd1a={'vuCny':'user_new','wSEzy':_0x42645c(0x1ed),'vQrGM':_0x42645c(0x1f0)};_0x302298['render'](_0x49dd1a[_0x42645c(0x1ee)],{'title':_0x42645c(0x233),'admin':!![],'session':_0x51b421[_0x42645c(0x1e4)],'helpers':_0x51b421[_0x42645c(0x1c7)][_0x42645c(0x1d7)],'message':common['clearSessionValue'](_0x51b421[_0x42645c(0x1e4)],_0x49dd1a['wSEzy']),'messageType':common[_0x42645c(0x20b)](_0x51b421[_0x42645c(0x1e4)],_0x49dd1a[_0x42645c(0x214)]),'config':_0x51b421[_0x42645c(0x227)][_0x42645c(0x1c0)]});}),router[_0x436797(0x1ce)](_0x436797(0x236),common['restrict'],(_0x4d2897,_0x5cc012)=>{const _0x196ef3=_0x436797,_0x3e4bd2={'dvZuy':_0x196ef3(0x210),'ebBup':_0x196ef3(0x1c8),'BtZkH':function(_0x3393c0,_0x83e4c6){return _0x3393c0===_0x83e4c6;}},_0x39b678=_0x4d2897[_0x196ef3(0x227)]['db'];_0x3e4bd2['BtZkH'](_0x4d2897[_0x196ef3(0x1e4)][_0x196ef3(0x204)],!![])?_0x196ef3(0x1eb)!==_0x196ef3(0x1eb)?(_0x3e11d2&&_0x29efd5[_0x196ef3(0x20f)](_0x3596f7[_0x196ef3(0x20e)]),_0x538e10[_0x196ef3(0x1e4)][_0x196ef3(0x1ed)]=_0x196ef3(0x1f3),_0x440262[_0x196ef3(0x1e4)][_0x196ef3(0x1f0)]=_0x196ef3(0x210),_0x2038ad[_0x196ef3(0x1c3)](_0x196ef3(0x1c8))):_0x39b678[_0x196ef3(0x1db)][_0x196ef3(0x235)]({'_id':common['getId'](_0x4d2897['params']['id'])},{},(_0x3ec17a,_0x58d484)=>{const _0x1cfbac=_0x196ef3;_0x3ec17a&&console[_0x1cfbac(0x20f)](_0x3ec17a[_0x1cfbac(0x20e)]),_0x4d2897[_0x1cfbac(0x1e4)][_0x1cfbac(0x1ed)]=_0x1cfbac(0x1f3),_0x4d2897['session'][_0x1cfbac(0x1f0)]=_0x3e4bd2['dvZuy'],_0x5cc012[_0x1cfbac(0x1c3)](_0x3e4bd2[_0x1cfbac(0x1f4)]);}):(_0x4d2897[_0x196ef3(0x1e4)][_0x196ef3(0x1ed)]=_0x196ef3(0x1d5),_0x4d2897[_0x196ef3(0x1e4)][_0x196ef3(0x1f0)]='danger',_0x5cc012[_0x196ef3(0x1c3)](_0x3e4bd2[_0x196ef3(0x1f4)]));}),router[_0x436797(0x232)](_0x436797(0x1d9),common[_0x436797(0x1e9)],(_0x58fe2d,_0x1833e6)=>{const _0x4e0221=_0x436797,_0x1c8df2={'imnzb':_0x4e0221(0x1f7),'PaSfr':function(_0x6f8580,_0x35ae2b){return _0x6f8580!==_0x35ae2b;},'jsyAH':_0x4e0221(0x1e1),'QaCPp':function(_0x32d4fa,_0x3d3ae2){return _0x32d4fa+_0x3d3ae2;},'AKvYP':_0x4e0221(0x1fd),'hizjz':'mvlPO','uUBHl':function(_0x16df2b,_0x45071c){return _0x16df2b===_0x45071c;},'bcEII':_0x4e0221(0x1f1),'gnrWP':function(_0x286512,_0x5d27ca){return _0x286512===_0x5d27ca;}},_0x3042d7=_0x58fe2d[_0x4e0221(0x227)]['db'];let _0x4b006d=_0x1c8df2[_0x4e0221(0x1e8)](_0x58fe2d[_0x4e0221(0x1e6)]['user_admin'],'on');_0x3042d7[_0x4e0221(0x1db)][_0x4e0221(0x208)]({'_id':common[_0x4e0221(0x1f9)](_0x58fe2d[_0x4e0221(0x1e6)][_0x4e0221(0x1d6)])},(_0x10200c,_0x3039e6)=>{const _0x1f02b5=_0x4e0221,_0x27cb0c={'vicMg':_0x1f02b5(0x1e1),'gnTlB':_0x1f02b5(0x210),'mulMa':function(_0x39585d,_0x51e219){const _0x5a2167=_0x1f02b5;return _0x1c8df2[_0x5a2167(0x234)](_0x39585d,_0x51e219);}};if(_0x1c8df2['PaSfr'](_0x1f02b5(0x209),_0x1f02b5(0x1d2))){_0x10200c&&console[_0x1f02b5(0x20f)](_0x10200c[_0x1f02b5(0x20e)]);if(_0x3039e6['userEmail']===_0x58fe2d[_0x1f02b5(0x1e4)][_0x1f02b5(0x1f6)]){if(_0x1f02b5(0x21e)===_0x1c8df2['hizjz']){const _0x61cad6={'adBeX':_0x1f02b5(0x1f3),'cBbWu':_0x1f02b5(0x1c8)};_0x3f0ed5['users'][_0x1f02b5(0x235)]({'_id':_0x529d82[_0x1f02b5(0x1f9)](_0x4e3c9c['params']['id'])},{},(_0x43322e,_0x5ae641)=>{const _0x2b3573=_0x1f02b5;_0x43322e&&_0x49d8ea[_0x2b3573(0x20f)](_0x43322e[_0x2b3573(0x20e)]),_0x31d745[_0x2b3573(0x1e4)][_0x2b3573(0x1ed)]=_0x61cad6['adBeX'],_0x48ceb3[_0x2b3573(0x1e4)][_0x2b3573(0x1f0)]=_0x2b3573(0x210),_0x74a77e[_0x2b3573(0x1c3)](_0x61cad6[_0x2b3573(0x1da)]);});}else _0x4b006d=_0x3039e6['isAdmin'];}if(_0x3039e6[_0x1f02b5(0x1fe)]!==_0x58fe2d[_0x1f02b5(0x1e4)][_0x1f02b5(0x1f6)]&&_0x1c8df2[_0x1f02b5(0x1c4)](_0x58fe2d[_0x1f02b5(0x1e4)][_0x1f02b5(0x204)],![])){_0x58fe2d['session'][_0x1f02b5(0x1ed)]=_0x1f02b5(0x218),_0x58fe2d[_0x1f02b5(0x1e4)][_0x1f02b5(0x1f0)]=_0x1f02b5(0x1e1),_0x1833e6[_0x1f02b5(0x1c3)](_0x1c8df2[_0x1f02b5(0x1c6)]);return;}let _0x4773c9={};_0x4773c9[_0x1f02b5(0x204)]=_0x4b006d,_0x4773c9[_0x1f02b5(0x223)]=_0x58fe2d['body'][_0x1f02b5(0x223)],_0x58fe2d[_0x1f02b5(0x1e6)][_0x1f02b5(0x203)]&&(_0x4773c9[_0x1f02b5(0x203)]=bcrypt[_0x1f02b5(0x22b)](_0x58fe2d[_0x1f02b5(0x1e6)]['userPassword'])),_0x3042d7[_0x1f02b5(0x1db)][_0x1f02b5(0x1d4)]({'_id':common[_0x1f02b5(0x1f9)](_0x58fe2d[_0x1f02b5(0x1e6)]['userId'])},{'$set':_0x4773c9},{'multi':![]},(_0x349eb0,_0x4f34e6)=>{const _0x2871c1=_0x1f02b5;_0x1c8df2[_0x2871c1(0x1e2)]===_0x2871c1(0x1f7)?_0x349eb0?_0x1c8df2[_0x2871c1(0x1ca)]('TsowE',_0x2871c1(0x20d))?(console[_0x2871c1(0x1ec)](colors['red'](_0x2871c1(0x1c9)+_0x349eb0)),_0x58fe2d[_0x2871c1(0x1e4)][_0x2871c1(0x1ed)]=_0x2871c1(0x224),_0x58fe2d[_0x2871c1(0x1e4)][_0x2871c1(0x1f0)]=_0x1c8df2[_0x2871c1(0x225)],_0x1833e6[_0x2871c1(0x1c3)](_0x1c8df2[_0x2871c1(0x234)](_0x1c8df2['AKvYP'],_0x58fe2d[_0x2871c1(0x1e6)][_0x2871c1(0x1d6)]))):_0x266194[_0x2871c1(0x20f)](_0x594aa9[_0x2871c1(0x20e)]):(_0x58fe2d[_0x2871c1(0x1e4)][_0x2871c1(0x1ed)]=_0x2871c1(0x207),_0x58fe2d[_0x2871c1(0x1e4)][_0x2871c1(0x1f0)]=_0x2871c1(0x210),_0x1833e6[_0x2871c1(0x1c3)](_0x1c8df2['QaCPp'](_0x2871c1(0x1fd),_0x58fe2d[_0x2871c1(0x1e6)][_0x2871c1(0x1d6)]))):_0x24a818?(_0x5a5ffc[_0x2871c1(0x1ec)](_0x5476e4[_0x2871c1(0x1ff)](_0x2871c1(0x1c9)+_0x210e3c)),_0x231651['session']['message']=_0x2871c1(0x224),_0x2f2074['session']['messageType']=_0x27cb0c[_0x2871c1(0x1dc)],_0x4850f5[_0x2871c1(0x1c3)]('/admin/user/edit/'+_0xa4c34c[_0x2871c1(0x1e6)]['userId'])):(_0x2e8c68[_0x2871c1(0x1e4)][_0x2871c1(0x1ed)]=_0x2871c1(0x207),_0x394814[_0x2871c1(0x1e4)][_0x2871c1(0x1f0)]=_0x27cb0c['gnTlB'],_0x40f08c['redirect'](_0x27cb0c[_0x2871c1(0x1c1)]('/admin/user/edit/',_0x17a16f['body'][_0x2871c1(0x1d6)])));});}else{_0x4a352b[_0x1f02b5(0x1e4)]['user']=_0x559947[_0x1f02b5(0x1e6)]['userEmail'],_0xdf9339['redirect'](_0x1f02b5(0x1fc));return;}});}),router[_0x436797(0x232)](_0x436797(0x22a),common[_0x436797(0x1e9)],(_0x5ba4c0,_0x30c8c3)=>{const _0x2f5e7a=_0x436797,_0x3c70f5={'dUZgk':_0x2f5e7a(0x1c8),'xutIK':_0x2f5e7a(0x1dd),'RijAF':'A\x20user\x20with\x20that\x20email\x20address\x20already\x20exists','qwFxF':function(_0x3bc073,_0x3d56fa){return _0x3bc073+_0x3d56fa;},'yurqd':_0x2f5e7a(0x20c),'Mmbim':function(_0x3b55d0,_0x34f46f){return _0x3b55d0===_0x34f46f;},'LTGGH':'Referer'},_0x24021f=_0x5ba4c0['app']['db'];let _0x221626=url['parse'](_0x5ba4c0[_0x2f5e7a(0x1e0)](_0x3c70f5[_0x2f5e7a(0x22c)]));_0x24021f['users'][_0x2f5e7a(0x1e5)]({},(_0x43f2fb,_0x4e3819)=>{const _0xfc3fc3=_0x2f5e7a;let _0x3f9008=![];_0x3c70f5[_0xfc3fc3(0x215)](_0x4e3819,0x0)&&(_0x3f9008=!![]);let _0x5b32ef={'usersName':_0x5ba4c0[_0xfc3fc3(0x1e6)][_0xfc3fc3(0x223)],'userEmail':_0x5ba4c0['body'][_0xfc3fc3(0x1fe)],'userPassword':bcrypt[_0xfc3fc3(0x22b)](_0x5ba4c0[_0xfc3fc3(0x1e6)]['userPassword'],0xa),'isAdmin':_0x3f9008};_0x24021f[_0xfc3fc3(0x1db)]['findOne']({'userEmail':_0x5ba4c0['body'][_0xfc3fc3(0x1fe)]},(_0x104b92,_0x465426)=>{const _0x3f8dc8=_0xfc3fc3,_0x36398a={'qXkaN':function(_0x1c4897,_0x16787a){return _0x1c4897+_0x16787a;},'cuXBk':_0x3f8dc8(0x1fd),'DuIcT':'New\x20user\x20creation\x20failed','RZWHF':'danger','XkVPu':_0x3f8dc8(0x1d1),'vlLLC':'success','sNvIz':function(_0x4c0e69,_0x220212){return _0x4c0e69===_0x220212;},'dDWgE':_0x3c70f5[_0x3f8dc8(0x1cf)]};if(_0x465426){const _0x383493=_0x3c70f5['xutIK'][_0x3f8dc8(0x1cd)]('|');let _0x37a343=0x0;while(!![]){switch(_0x383493[_0x37a343++]){case'0':_0x30c8c3[_0x3f8dc8(0x1c3)](_0x3f8dc8(0x1d1));continue;case'1':_0x5ba4c0[_0x3f8dc8(0x1e4)][_0x3f8dc8(0x1f0)]=_0x3f8dc8(0x1e1);continue;case'2':_0x5ba4c0[_0x3f8dc8(0x1e4)][_0x3f8dc8(0x1ed)]=_0x3c70f5[_0x3f8dc8(0x1d0)];continue;case'3':console[_0x3f8dc8(0x1ec)](colors[_0x3f8dc8(0x1ff)](_0x3c70f5[_0x3f8dc8(0x220)](_0x3c70f5['yurqd'],_0x104b92)));continue;case'4':return;}break;}}_0x24021f[_0x3f8dc8(0x1db)]['insert'](_0x5b32ef,(_0x5889e2,_0x2f9b64)=>{const _0x48c8b7=_0x3f8dc8;if(_0x5889e2){if(_0x2f9b64){const _0x4753d1=_0x48c8b7(0x222)['split']('|');let _0x1b57ae=0x0;while(!![]){switch(_0x4753d1[_0x1b57ae++]){case'0':return;case'1':_0x5ba4c0[_0x48c8b7(0x1e4)][_0x48c8b7(0x1ed)]='User\x20exists';continue;case'2':_0x30c8c3[_0x48c8b7(0x1c3)](_0x36398a[_0x48c8b7(0x1f8)](_0x36398a[_0x48c8b7(0x229)],_0x2f9b64[_0x48c8b7(0x237)]));continue;case'3':console[_0x48c8b7(0x1ec)](colors['red'](_0x48c8b7(0x212)+_0x5889e2));continue;case'4':_0x5ba4c0[_0x48c8b7(0x1e4)][_0x48c8b7(0x1f0)]=_0x48c8b7(0x1e1);continue;}break;}}console['error'](colors['red'](_0x36398a[_0x48c8b7(0x1f8)]('Failed\x20to\x20insert\x20user:\x20',_0x5889e2))),_0x5ba4c0[_0x48c8b7(0x1e4)][_0x48c8b7(0x1ed)]=_0x36398a[_0x48c8b7(0x1d8)],_0x5ba4c0[_0x48c8b7(0x1e4)][_0x48c8b7(0x1f0)]=_0x36398a[_0x48c8b7(0x1ea)],_0x30c8c3['redirect'](_0x36398a['XkVPu']);return;}_0x5ba4c0[_0x48c8b7(0x1e4)][_0x48c8b7(0x1ed)]=_0x48c8b7(0x211),_0x5ba4c0['session']['messageType']=_0x36398a[_0x48c8b7(0x1df)];if(_0x36398a['sNvIz'](_0x221626[_0x48c8b7(0x202)],'/admin/setup')){_0x5ba4c0[_0x48c8b7(0x1e4)][_0x48c8b7(0x1f6)]=_0x5ba4c0[_0x48c8b7(0x1e6)][_0x48c8b7(0x1fe)],_0x30c8c3['redirect'](_0x48c8b7(0x1fc));return;}_0x30c8c3['redirect'](_0x36398a[_0x48c8b7(0x21a)]);});});});}),module['exports']=router;