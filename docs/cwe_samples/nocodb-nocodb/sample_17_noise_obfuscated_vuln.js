const _0x533dac=_0x1856;function _0x5d1b(){const _0x4c3514=['error','toBe','10571624mtpoMp','Should\x20show\x20configuration\x20error\x20page\x20on\x20invalid\x20`callbackUrl`','18IgIAUJ','16239140bvZrzB','3952600Szueyf','4BeoEfe','html','NiDAs','2863659OIHuUT','MjwaG','OZyfC','invalid-callback','status','9145986vgSpKC','/callback','rPkjd','toBeCalledWith','74enlwWU','not','uhmdP','Show\x20error\x20page\x20if\x20secret\x20is\x20not\x20defined','INVALID_CALLBACK_URL_ERROR','eYePp','mxPCB','toMatch','anything','2304946WcfNmi','5336NMuAXk'];_0x5d1b=function(){return _0x4c3514;};return _0x5d1b();}function _0x1856(_0x2b9175,_0x595424){const _0x5d1bfd=_0x5d1b();return _0x1856=function(_0x18560a,_0x40ae53){_0x18560a=_0x18560a-0x1c9;let _0x572ede=_0x5d1bfd[_0x18560a];return _0x572ede;},_0x1856(_0x2b9175,_0x595424);}(function(_0x5a2165,_0x1891ef){const _0x342f5b=_0x1856,_0x40c366=_0x5a2165();while(!![]){try{const _0x4abdbb=parseInt(_0x342f5b(0x1cb))/0x1*(-parseInt(_0x342f5b(0x1d5))/0x2)+-parseInt(_0x342f5b(0x1e0))/0x3*(-parseInt(_0x342f5b(0x1dd))/0x4)+parseInt(_0x342f5b(0x1dc))/0x5+parseInt(_0x342f5b(0x1e5))/0x6+-parseInt(_0x342f5b(0x1d4))/0x7+parseInt(_0x342f5b(0x1d8))/0x8+parseInt(_0x342f5b(0x1da))/0x9*(-parseInt(_0x342f5b(0x1db))/0xa);if(_0x4abdbb===_0x1891ef)break;else _0x40c366['push'](_0x40c366['shift']());}catch(_0x38112e){_0x40c366['push'](_0x40c366['shift']());}}}(_0x5d1b,0xc74bf));import{handler}from'./lib';it(_0x533dac(0x1ce),async()=>{const _0x1605eb=_0x533dac,_0x3ce33e={'rPkjd':function(_0x10216f,_0x36b443){return _0x10216f(_0x36b443);},'NiDAs':'NO_SECRET'},{res:_0xb578ba,log:_0x37bc0e}=await handler({'providers':[],'secret':undefined},{'prod':!![]});expect(_0xb578ba['status'])['toBe'](0x1f4),expect(_0xb578ba[_0x1605eb(0x1de)])[_0x1605eb(0x1d2)](/there is a problem with the server configuration./i),_0x3ce33e[_0x1605eb(0x1c9)](expect,_0xb578ba[_0x1605eb(0x1de)])[_0x1605eb(0x1d2)](/check the server logs for more information./i),_0x3ce33e[_0x1605eb(0x1c9)](expect,_0x37bc0e[_0x1605eb(0x1d6)])[_0x1605eb(0x1ca)](_0x3ce33e[_0x1605eb(0x1df)],expect[_0x1605eb(0x1d3)]());}),it(_0x533dac(0x1d9),async()=>{const _0x2bde4b=_0x533dac,_0x275c6a={'eYePp':function(_0x280e08,_0x13e470,_0x5ac161){return _0x280e08(_0x13e470,_0x5ac161);},'uhmdP':function(_0x1010fe,_0x153429){return _0x1010fe(_0x153429);},'MjwaG':'INVALID_CALLBACK_URL_ERROR'},{res:_0x4091a6,log:_0x3095e1}=await _0x275c6a[_0x2bde4b(0x1d0)](handler,{'providers':[]},{'prod':!![],'params':{'callbackUrl':_0x2bde4b(0x1e3)}});_0x275c6a[_0x2bde4b(0x1cd)](expect,_0x4091a6[_0x2bde4b(0x1e4)])[_0x2bde4b(0x1d7)](0x1f4),expect(_0x4091a6[_0x2bde4b(0x1de)])['toMatch'](/there is a problem with the server configuration./i),_0x275c6a[_0x2bde4b(0x1cd)](expect,_0x4091a6['html'])['toMatch'](/check the server logs for more information./i),expect(_0x3095e1[_0x2bde4b(0x1d6)])[_0x2bde4b(0x1ca)](_0x275c6a[_0x2bde4b(0x1e1)],expect['anything']());}),it('Allow\x20relative\x20`callbackUrl`',async()=>{const _0x4b2fe2=_0x533dac,_0xf53af2={'mxPCB':_0x4b2fe2(0x1e6),'OZyfC':function(_0x469370,_0x6d9c48){return _0x469370(_0x6d9c48);},'AHLPR':_0x4b2fe2(0x1cf)},{res:_0x521b8b,log:_0x1b9310}=await handler({'providers':[]},{'prod':!![],'params':{'callbackUrl':_0xf53af2[_0x4b2fe2(0x1d1)]}});_0xf53af2[_0x4b2fe2(0x1e2)](expect,_0x521b8b['status'])[_0x4b2fe2(0x1cc)]['toBe'](0x1f4),expect(_0x1b9310['error'])[_0x4b2fe2(0x1cc)]['toBeCalledWith'](_0xf53af2['AHLPR'],expect[_0x4b2fe2(0x1d3)]());});