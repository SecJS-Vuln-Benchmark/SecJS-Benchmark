const _0x459ddc=_0x190a;function _0x3ac5(){const _0x18b783=['JIYNH','path','xsaby','name','filename','30618FQzgbA','siteName','310EFjVcw','864056iucyUI','BdUXX','query','basePath','files','FxXGM','429bGNLKi','getType','twCRi','send','isFile','1771930yTbRzj','join','30026018kbKUcT','.gitkeep','undefined','9mmaami','indexOf','5068296ZxUsBI','push','9ZIvBFL','lstatSync','/files/','forEach','site','mime','metadata','.DS_Store','files/','siteDirectory','HIsBv','operatingContext','5488455tnLLYj','PUFZm','UhRCt','readdirSync','RhxGZ','2426gImLDe','sitesDirectory'];_0x3ac5=function(){return _0x18b783;};return _0x3ac5();}(function(_0x29f58a,_0x51028e){const _0x242a90=_0x190a,_0x4082c1=_0x29f58a();while(!![]){try{const _0x5d442e=-parseInt(_0x242a90(0x1c8))/0x1*(-parseInt(_0x242a90(0x1b8))/0x2)+-parseInt(_0x242a90(0x1d6))/0x3*(parseInt(_0x242a90(0x1c2))/0x4)+parseInt(_0x242a90(0x1c1))/0x5*(-parseInt(_0x242a90(0x1bf))/0x6)+-parseInt(_0x242a90(0x1b3))/0x7+-parseInt(_0x242a90(0x1d4))/0x8+-parseInt(_0x242a90(0x1d2))/0x9*(parseInt(_0x242a90(0x1cd))/0xa)+parseInt(_0x242a90(0x1cf))/0xb;if(_0x5d442e===_0x51028e)break;else _0x4082c1['push'](_0x4082c1['shift']());}catch(_0x461a5f){_0x4082c1['push'](_0x4082c1['shift']());}}}(_0x3ac5,0xa8a68));function _0x190a(_0x1b8e20,_0x133382){const _0x3ac599=_0x3ac5();return _0x190a=function(_0x190a95,_0x1a8c92){_0x190a95=_0x190a95-0x1b2;let _0x2f1ab8=_0x3ac599[_0x190a95];return _0x2f1ab8;},_0x190a(_0x1b8e20,_0x133382);}const {HAXCMS}=require('../lib/HAXCMS.js'),fs=require('fs'),path=require(_0x459ddc(0x1bb)),mime=require(_0x459ddc(0x1db));async function listFiles(_0x43b11d,_0x370c92){const _0x4969a7=_0x459ddc,_0x2aecdd={'xsaby':_0x4969a7(0x1d0),'twCRi':function(_0x1c38fa,_0x5e3bf5){return _0x1c38fa!=_0x5e3bf5;},'RhxGZ':function(_0x5f06bf,_0x5c2ed6){return _0x5f06bf+_0x5c2ed6;},'JIYNH':function(_0x586206,_0xe15abe){return _0x586206!==_0xe15abe;},'UhRCt':function(_0x4902ce,_0x225b3b){return _0x4902ce==_0x225b3b;},'FxXGM':'multisite','BdUXX':function(_0x1f4b56,_0x4ed0f3){return _0x1f4b56+_0x4ed0f3;},'PUFZm':function(_0x1dbe85,_0xfaa3be){return _0x1dbe85+_0xfaa3be;},'Iapzn':function(_0x26b62b,_0x3797de){return _0x26b62b+_0x3797de;},'HIsBv':'files/','WgWem':_0x4969a7(0x1c0),'HqDCk':function(_0x45c0fd,_0x422068){return _0x45c0fd!==_0x422068;}};let _0x1197ac=[];if(_0x43b11d[_0x4969a7(0x1c4)]&&_0x43b11d[_0x4969a7(0x1c4)][_0x2aecdd['WgWem']]){let _0x264f5b=await HAXCMS['loadSite'](_0x43b11d['query'][_0x4969a7(0x1c0)]);if(_0x264f5b&&_0x264f5b[_0x4969a7(0x1df)]){let _0x50a6c4=_0x2aecdd['HqDCk'](typeof _0x43b11d['query'][_0x4969a7(0x1be)],_0x4969a7(0x1d1))?_0x43b11d[_0x4969a7(0x1c4)][_0x4969a7(0x1be)]:'',_0x10d9e6=path[_0x4969a7(0x1ce)](_0x264f5b['siteDirectory'],_0x4969a7(0x1c6)),_0x384fde;(_0x384fde=fs[_0x4969a7(0x1b6)](_0x10d9e6))&&_0x384fde[_0x4969a7(0x1d9)](_0x8d3583=>{const _0x5bcafc=_0x4969a7;if(_0x8d3583!='.'&&_0x8d3583!='..'&&_0x8d3583!=_0x2aecdd[_0x5bcafc(0x1bc)]&&_0x2aecdd[_0x5bcafc(0x1ca)](_0x8d3583,_0x5bcafc(0x1dd))){if(fs[_0x5bcafc(0x1d7)](_0x2aecdd[_0x5bcafc(0x1b7)](_0x10d9e6+'/',_0x8d3583))[_0x5bcafc(0x1cc)]()){if(!_0x50a6c4||_0x50a6c4==''||_0x2aecdd[_0x5bcafc(0x1ba)](_0x8d3583[_0x5bcafc(0x1d3)](_0x50a6c4),-0x1)){let _0x2d8523=_0x5bcafc(0x1d8)+_0x8d3583;_0x2aecdd[_0x5bcafc(0x1b5)](HAXCMS[_0x5bcafc(0x1b2)],_0x2aecdd[_0x5bcafc(0x1c7)])&&(_0x2d8523=_0x2aecdd['RhxGZ'](_0x2aecdd[_0x5bcafc(0x1c3)](_0x2aecdd[_0x5bcafc(0x1b4)](HAXCMS[_0x5bcafc(0x1c5)],HAXCMS[_0x5bcafc(0x1b9)])+'/',_0x264f5b['manifest'][_0x5bcafc(0x1dc)][_0x5bcafc(0x1da)][_0x5bcafc(0x1bd)])+'/files/',_0x8d3583)),_0x1197ac[_0x5bcafc(0x1d5)]({'path':_0x2aecdd['Iapzn'](_0x5bcafc(0x1de),_0x8d3583),'fullUrl':_0x2d8523,'url':_0x2aecdd[_0x5bcafc(0x1b4)](_0x2aecdd[_0x5bcafc(0x1e0)],_0x8d3583),'mimetype':mime[_0x5bcafc(0x1c9)](_0x10d9e6+'/'+_0x8d3583),'name':_0x8d3583});}}else{}}});}}_0x370c92[_0x4969a7(0x1cb)](_0x1197ac);}module['exports']=listFiles;