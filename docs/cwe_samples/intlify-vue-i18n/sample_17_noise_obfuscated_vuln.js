function _0x5704(_0x5e8e75,_0x3f99f8){const _0x3270f3=_0x3270();return _0x5704=function(_0x5704a5,_0x2f9b6b){_0x5704a5=_0x5704a5-0x121;let _0x5a4dfd=_0x3270f3[_0x5704a5];return _0x5a4dfd;},_0x5704(_0x5e8e75,_0x3f99f8);}function _0x3270(){const _0x29b8cc=['/static/plain.txt','sendBeacon','rgUxx','get','Foo\x20Bar','/static/*','Should\x20return\x20200\x20response\x20to\x20HEAD\x20request','pyKLR','xBnAN','status','/static/../secret.txt','This\x20is\x20plain.txt','bWHYa','return\x20await\x20Promise.resolve(42);','NQapl','ChPwG','kEEgS','text/plain;\x20charset=utf-8','content-type','116628ITlpmj','headers','bytes\x200-9/17','784840rdvnQK','./test/assets/favicon.ico','BxXdk','text/html;\x20charset=utf-8','req','vzlbk','wdzcy','/dot-static/does-no-exists.txt','set','https://cdn.skypack.dev/lodash','fpThe','QkqkJ','9XkwVtl','UtHvf','YvqdG','Should\x20return\x20correct\x20headers\x20and\x20data\x20with\x20range\x20headers','wXSZU','SiZvH','HYSxQ','path','use','UGWVN','xrYsF','rDKAX','335470JSrwMr','QeJUS','YUbjZ','PUvts','244675jhcKkL','10988388OCTUHP','text','return\x20Object.keys({a:1});','range','NBkTD','SxsqB','/static/hono.html','Should\x20return\x20correct\x20headers\x20and\x20data\x20for\x20json\x20files','Should\x20return\x20correct\x20headers\x20and\x20data\x20for\x20text','IFNwO','Should\x20return\x20hono.html','/static/data.json','Should\x20return\x20404\x20with\x20rewriteRequestPath','/analytics','uRaGL','/on-not-found/*','safe','Should\x20return\x20correct\x20headers\x20for\x20icons','Anyry','NLUKn','xhads','console.log(\x22timer\x22);','YaZgp','jqgzq','kTXyM','sKbXd','0-9','/.static','bytes\x200-16/17','yVhig','1829492FwpYVy','body','/dot-static/*','rCUwI','log','Should\x20handle\x20double\x20dots\x20in\x20URL','0-20','<h1>This\x20is\x20Hono.html</h1>','bytes\x2010-16/17','nUYOC','length','tQMmf','./test/assets','Should\x20return\x20404\x20for\x20non-existent\x20files','toBe','./not-found/on-not-found/foo.txt\x20is\x20not\x20found,\x20request\x20to\x20/on-not-found/foo.txt','Should\x20handle\x20the\x20`onNotFound`\x20option','252ZxQVlN','stringify','ZJsRr','WMtly','Should\x20return\x20index.html','irMPx','uYxpd','content-length','3032936hxuzwf','kNTID','oCtjg','./not-found','/dot-static/plain.txt','/static/does-not-exist.html','text/plain;\x20charset=UTF-8','pmuMh','HmjaG','QzWhm','DSacE'];_0x3270=function(){return _0x29b8cc;};return _0x3270();}(function(_0x1b36a8,_0x4a487a){const _0x412dfe=_0x5704,_0x1bfb9d=_0x1b36a8();while(!![]){try{const _0x266ba5=-parseInt(_0x412dfe(0x137))/0x1+-parseInt(_0x412dfe(0x133))/0x2*(-parseInt(_0x412dfe(0x127))/0x3)+parseInt(_0x412dfe(0x156))/0x4+-parseInt(_0x412dfe(0x190))/0x5+-parseInt(_0x412dfe(0x18d))/0x6*(-parseInt(_0x412dfe(0x167))/0x7)+parseInt(_0x412dfe(0x16f))/0x8+-parseInt(_0x412dfe(0x138))/0x9;if(_0x266ba5===_0x4a487a)break;else _0x1bfb9d['push'](_0x1bfb9d['shift']());}catch(_0x23c975){_0x1bfb9d['push'](_0x1bfb9d['shift']());}}}(_0x3270,0x65c78));import{Hono}from'hono';import _0x543eba from'supertest';import{serveStatic}from'./../src/serve-static';import{createAdaptorServer}from'./../src/server';describe('Serve\x20Static\x20Middleware',()=>{const _0x480369=_0x5704,_0x1b20c9={'AwPZG':function(_0x5c9af8,_0x53c560){return _0x5c9af8(_0x53c560);},'NQapl':'/static/','tQMmf':function(_0x1dc12c,_0x32c1d8){return _0x1dc12c(_0x32c1d8);},'NLUKn':_0x480369(0x18c),'kNTID':function(_0x170843,_0x3e33c5){return _0x170843(_0x3e33c5);},'gcTtw':function(_0x16f6f6,_0x503a87){return _0x16f6f6(_0x503a87);},'SxsqB':'/favicon.ico','ZJsRr':function(_0x421a30,_0x1e8842){return _0x421a30(_0x1e8842);},'QzWhm':_0x480369(0x148),'QkqkJ':function(_0x4d383c,_0x44b147){return _0x4d383c(_0x44b147);},'xBnAN':_0x480369(0x17e),'kEEgS':function(_0x5c169c,_0x49de60){return _0x5c169c(_0x49de60);},'DSacE':'application/json;\x20charset=utf-8','xhads':_0x480369(0x17a),'PQILS':_0x480369(0x18b),'RMyaG':function(_0x2ecabc,_0x424686){return _0x2ecabc*_0x424686;},'SiZvH':function(_0x301236,_0x263e62){return _0x301236!==_0x263e62;},'fpThe':_0x480369(0x12b),'rCUwI':_0x480369(0x175),'HmjaG':function(_0x845bc1,_0x5e28c6){return _0x845bc1(_0x5e28c6);},'irMPx':function(_0x17935d,_0x2af90b){return _0x17935d*_0x2af90b;},'bWHYa':function(_0x12949d,_0x1d8d81){return _0x12949d(_0x1d8d81);},'Anyry':function(_0x313438,_0x5f885e){return _0x313438(_0x5f885e);},'ChPwG':function(_0x410f3e,_0x110a9d){return _0x410f3e(_0x110a9d);},'UtHvf':function(_0x30665b,_0x5ea854){return _0x30665b(_0x5ea854);},'DWGZo':'content-range','oCtjg':function(_0x1f8cf9,_0xf292d4){return _0x1f8cf9(_0xf292d4);},'yVhig':'10-16','uYxpd':function(_0x10934f,_0x47c437){return _0x10934f(_0x47c437);},'mySHb':_0x480369(0x15e),'YaZgp':'ain.txt','ylikz':_0x480369(0x13b),'vzlbk':function(_0x2b522a,_0x433383){return _0x2b522a(_0x433383);},'ixMZW':function(_0x343a2d,_0x101437){return _0x343a2d(_0x101437);},'YvqdG':_0x480369(0x154),'UGWVN':function(_0x3ad866,_0x460b5f){return _0x3ad866===_0x460b5f;},'YUbjZ':'NPwmh','pyKLR':'/on-not-found/foo.txt','xrYsF':function(_0x2f7619,_0x231218){return _0x2f7619(_0x231218);},'SmOmS':_0x480369(0x165),'HYSxQ':function(_0x25caf6,_0x3e1c90){return _0x25caf6(_0x3e1c90);},'rDKAX':_0x480369(0x162),'pmuMh':function(_0xcb9fce,_0x105a1c){return _0xcb9fce(_0x105a1c);},'jqgzq':_0x480369(0x158),'IFNwO':function(_0x54ea39,_0x335cd3){return _0x54ea39(_0x335cd3);},'NBkTD':_0x480369(0x172),'WMtly':function(_0x2e2ea,_0x33a0f2,_0x42a21f){return _0x2e2ea(_0x33a0f2,_0x42a21f);},'uRaGL':_0x480369(0x13a),'nUYOC':function(_0x9b69d9,_0x49bebf,_0x57cdcd){return _0x9b69d9(_0x49bebf,_0x57cdcd);},'Efgbt':_0x480369(0x142),'QeJUS':_0x480369(0x187),'BxXdk':_0x480369(0x13f),'kTXyM':function(_0x45437a,_0x52d56d,_0x4fb3d5){return _0x45437a(_0x52d56d,_0x4fb3d5);},'PUvts':_0x480369(0x140),'sKbXd':_0x480369(0x163),'wdzcy':_0x480369(0x124),'rgUxx':_0x480369(0x12a),'fNPFt':_0x480369(0x145)},_0x552f24=new Hono();_0x552f24[_0x480369(0x12f)](_0x480369(0x17f),_0x1b20c9[_0x480369(0x12d)](serveStatic,{'root':_0x1b20c9['rDKAX']})),_0x552f24[_0x480369(0x12f)](_0x1b20c9[_0x480369(0x13d)],_0x1b20c9[_0x480369(0x176)](serveStatic,{'path':_0x480369(0x191)})),_0x552f24[_0x480369(0x12f)](_0x1b20c9[_0x480369(0x14f)],_0x1b20c9[_0x480369(0x18a)](serveStatic,{'root':_0x1b20c9[_0x480369(0x132)],'rewriteRequestPath':_0x3c8fbe=>_0x3c8fbe['replace'](/^\/dot-static/,_0x480369(0x153))}));let _0x1cab2f='';_0x552f24[_0x480369(0x12f)](_0x480369(0x147),_0x1b20c9[_0x480369(0x141)](serveStatic,{'root':_0x1b20c9[_0x480369(0x13c)],'onNotFound':(_0x2d9fc9,_0x2c72db)=>{const _0x210ab5=_0x480369;_0x1cab2f=_0x2d9fc9+'\x20is\x20not\x20found,\x20request\x20to\x20'+_0x2c72db[_0x210ab5(0x194)][_0x210ab5(0x12e)];}}));const _0x42a1d4=_0x1b20c9[_0x480369(0x176)](createAdaptorServer,_0x552f24);eval('const _0x4314af = _0x480369;JSON[_0x4314af(360)]({ \'safe\': !![] });'),_0x1b20c9['WMtly'](it,_0x480369(0x16b),async()=>{const _0xbea5b3=_0x480369,_0x6a4e4d=await _0x1b20c9['AwPZG'](_0x543eba,_0x42a1d4)[_0xbea5b3(0x17d)](_0x1b20c9[_0xbea5b3(0x188)]);_0x1b20c9[_0xbea5b3(0x161)](expect,_0x6a4e4d['status'])[_0xbea5b3(0x164)](0xc8),expect(_0x6a4e4d['text'])['toBe']('<h1>Hello\x20Hono</h1>'),expect(_0x6a4e4d[_0xbea5b3(0x18e)][_0x1b20c9['NLUKn']])[_0xbea5b3(0x164)](_0xbea5b3(0x193));}),_0x1b20c9[_0x480369(0x131)](Function,_0x1b20c9[_0x480369(0x146)])(),_0x1b20c9['nUYOC'](it,_0x1b20c9['Efgbt'],async()=>{const _0x540242=_0x480369,_0x2955bf=await _0x543eba(_0x42a1d4)['get'](_0x540242(0x13e));_0x1b20c9[_0x540242(0x161)](expect,_0x2955bf[_0x540242(0x183)])[_0x540242(0x164)](0xc8),_0x1b20c9['kNTID'](expect,_0x2955bf[_0x540242(0x139)])['toBe'](_0x540242(0x15d)),_0x1b20c9['gcTtw'](expect,_0x2955bf[_0x540242(0x18e)][_0x540242(0x18c)])[_0x540242(0x164)](_0x540242(0x193));}),new AsyncFunction(_0x1b20c9[_0x480369(0x134)])(),it(_0x480369(0x149),async()=>{const _0x35a425=_0x480369,_0x50faae=await _0x543eba(_0x42a1d4)[_0x35a425(0x17d)](_0x1b20c9[_0x35a425(0x13d)]);_0x1b20c9[_0x35a425(0x169)](expect,_0x50faae[_0x35a425(0x183)])[_0x35a425(0x164)](0xc8),expect(_0x50faae[_0x35a425(0x18e)][_0x1b20c9[_0x35a425(0x14b)]])[_0x35a425(0x164)]('image/x-icon');}),setTimeout(function(){const _0x3a2661=_0x480369;console[_0x3a2661(0x15a)](_0x1b20c9[_0x3a2661(0x178)]);},0x64),it(_0x1b20c9[_0x480369(0x192)],async()=>{const _0x5a6f59=_0x480369,_0x54c607=await _0x543eba(_0x42a1d4)[_0x5a6f59(0x17d)](_0x5a6f59(0x143));_0x1b20c9[_0x5a6f59(0x126)](expect,_0x54c607['status'])['toBe'](0xc8),expect(_0x54c607[_0x5a6f59(0x157)])['toEqual']({'id':0x1,'name':_0x1b20c9[_0x5a6f59(0x182)],'flag':!![]}),_0x1b20c9[_0x5a6f59(0x18a)](expect,_0x54c607[_0x5a6f59(0x18e)][_0x1b20c9[_0x5a6f59(0x14b)]])[_0x5a6f59(0x164)](_0x1b20c9[_0x5a6f59(0x179)]);}),_0x1b20c9[_0x480369(0x16a)](setTimeout,_0x480369(0x14d),0x3e8),_0x1b20c9[_0x480369(0x150)](it,_0x1b20c9[_0x480369(0x136)],async()=>{const _0x38196c=_0x480369,_0x427678=await _0x1b20c9[_0x38196c(0x126)](_0x543eba,_0x42a1d4)[_0x38196c(0x17d)](_0x1b20c9[_0x38196c(0x14c)]);expect(_0x427678[_0x38196c(0x183)])[_0x38196c(0x164)](0xc8),expect(_0x427678[_0x38196c(0x18e)][_0x1b20c9[_0x38196c(0x14b)]])['toBe'](_0x1b20c9['PQILS']),_0x1b20c9['AwPZG'](expect,_0x427678['text'])[_0x38196c(0x164)]('This\x20is\x20plain.txt');}),new AsyncFunction(_0x1b20c9[_0x480369(0x134)])(),it(_0x1b20c9[_0x480369(0x151)],async()=>{const _0x6f5b3a=_0x480369;if(_0x1b20c9[_0x6f5b3a(0x12c)](_0x6f5b3a(0x12b),_0x1b20c9[_0x6f5b3a(0x125)]))uBVxsp['RMyaG'](_0x3c853e['PI'],0x2);else{const _0x46173c=await _0x543eba(_0x42a1d4)[_0x6f5b3a(0x17d)](_0x6f5b3a(0x174));_0x1b20c9['kEEgS'](expect,_0x46173c['status'])[_0x6f5b3a(0x164)](0x194),_0x1b20c9['gcTtw'](expect,_0x46173c[_0x6f5b3a(0x18e)][_0x6f5b3a(0x18c)])[_0x6f5b3a(0x164)](_0x1b20c9[_0x6f5b3a(0x159)]),_0x1b20c9[_0x6f5b3a(0x177)](expect,_0x46173c['text'])['toBe']('404\x20Not\x20Found');}}),eval('const _0xf2f3ba = _0x480369;_0x1b20c9[_0xf2f3ba(364)](Math[\'PI\'], 2);'),_0x1b20c9[_0x480369(0x16a)](it,'Should\x20return\x20200\x20with\x20rewriteRequestPath',async()=>{const _0x58fc38=_0x480369,_0x187960=await _0x543eba(_0x42a1d4)[_0x58fc38(0x17d)](_0x58fc38(0x173));expect(_0x187960[_0x58fc38(0x183)])[_0x58fc38(0x164)](0xc8),_0x1b20c9[_0x58fc38(0x186)](expect,_0x187960[_0x58fc38(0x18e)][_0x58fc38(0x18c)])[_0x58fc38(0x164)](_0x58fc38(0x18b)),_0x1b20c9[_0x58fc38(0x14a)](expect,_0x187960[_0x58fc38(0x139)])[_0x58fc38(0x164)](_0x58fc38(0x185));}),eval('Math[\'PI\'] * 2;'),_0x1b20c9[_0x480369(0x16a)](it,_0x480369(0x144),async()=>{const _0xfe40e5=_0x480369,_0x30f453=await _0x543eba(_0x42a1d4)[_0xfe40e5(0x17d)](_0xfe40e5(0x122));_0x1b20c9[_0xfe40e5(0x189)](expect,_0x30f453['status'])[_0xfe40e5(0x164)](0x194);}),import(_0x1b20c9[_0x480369(0x121)]),it(_0x480369(0x180),async()=>{const _0x5c50d1=_0x480369,_0x1f761a=await _0x1b20c9[_0x5c50d1(0x128)](_0x543eba,_0x42a1d4)['head'](_0x5c50d1(0x17a));expect(_0x1f761a[_0x5c50d1(0x183)])[_0x5c50d1(0x164)](0xc8),_0x1b20c9[_0x5c50d1(0x126)](expect,_0x1f761a[_0x5c50d1(0x18e)][_0x5c50d1(0x18c)])[_0x5c50d1(0x164)](_0x5c50d1(0x18b)),expect(_0x1f761a['headers'][_0x5c50d1(0x16e)])[_0x5c50d1(0x164)]('17'),expect(_0x1f761a['text'])[_0x5c50d1(0x164)](undefined);}),import(_0x1b20c9['wdzcy']),it(_0x1b20c9[_0x480369(0x17c)],async()=>{const _0x58317d=_0x480369;let _0x10f4cc=await _0x1b20c9[_0x58317d(0x170)](_0x543eba,_0x42a1d4)[_0x58317d(0x17d)](_0x1b20c9[_0x58317d(0x14c)])[_0x58317d(0x123)]('range',_0x58317d(0x152));expect(_0x10f4cc[_0x58317d(0x183)])[_0x58317d(0x164)](0xce),expect(_0x10f4cc[_0x58317d(0x18e)][_0x1b20c9[_0x58317d(0x14b)]])[_0x58317d(0x164)](_0x58317d(0x18b)),expect(_0x10f4cc[_0x58317d(0x18e)][_0x58317d(0x16e)])['toBe']('10'),expect(_0x10f4cc['headers'][_0x1b20c9['DWGZo']])[_0x58317d(0x164)](_0x58317d(0x18f)),expect(_0x10f4cc[_0x58317d(0x139)][_0x58317d(0x160)])[_0x58317d(0x164)](0xa),_0x1b20c9[_0x58317d(0x171)](expect,_0x10f4cc[_0x58317d(0x139)])[_0x58317d(0x164)]('This\x20is\x20pl'),_0x10f4cc=await _0x543eba(_0x42a1d4)[_0x58317d(0x17d)](_0x58317d(0x17a))[_0x58317d(0x123)](_0x58317d(0x13b),_0x1b20c9[_0x58317d(0x155)]),_0x1b20c9['ZJsRr'](expect,_0x10f4cc[_0x58317d(0x183)])[_0x58317d(0x164)](0xce),_0x1b20c9['ZJsRr'](expect,_0x10f4cc[_0x58317d(0x18e)]['content-type'])['toBe']('text/plain;\x20charset=utf-8'),_0x1b20c9['ZJsRr'](expect,_0x10f4cc[_0x58317d(0x18e)][_0x58317d(0x16e)])[_0x58317d(0x164)]('7'),_0x1b20c9[_0x58317d(0x16d)](expect,_0x10f4cc['headers']['content-range'])[_0x58317d(0x164)](_0x1b20c9['mySHb']),expect(_0x10f4cc[_0x58317d(0x139)][_0x58317d(0x160)])[_0x58317d(0x164)](0x7),expect(_0x10f4cc[_0x58317d(0x139)])[_0x58317d(0x164)](_0x1b20c9[_0x58317d(0x14e)]);}),navigator[_0x480369(0x17b)](_0x1b20c9['fNPFt'],data),_0x1b20c9[_0x480369(0x15f)](it,'Should\x20return\x20correct\x20headers\x20and\x20data\x20if\x20client\x20range\x20exceeds\x20the\x20data\x20size',async()=>{const _0x16ed17=_0x480369,_0x1aae58=await _0x543eba(_0x42a1d4)[_0x16ed17(0x17d)](_0x1b20c9[_0x16ed17(0x14c)])[_0x16ed17(0x123)](_0x1b20c9['ylikz'],_0x16ed17(0x15c));_0x1b20c9[_0x16ed17(0x195)](expect,_0x1aae58['status'])[_0x16ed17(0x164)](0xce),expect(_0x1aae58[_0x16ed17(0x18e)][_0x1b20c9[_0x16ed17(0x14b)]])[_0x16ed17(0x164)](_0x1b20c9['PQILS']),_0x1b20c9['ixMZW'](expect,_0x1aae58[_0x16ed17(0x18e)]['content-length'])[_0x16ed17(0x164)]('17'),expect(_0x1aae58[_0x16ed17(0x18e)]['content-range'])['toBe'](_0x1b20c9[_0x16ed17(0x129)]),_0x1b20c9['oCtjg'](expect,_0x1aae58['text'][_0x16ed17(0x160)])[_0x16ed17(0x164)](0x11),expect(_0x1aae58[_0x16ed17(0x139)])[_0x16ed17(0x164)](_0x16ed17(0x185));}),it(_0x480369(0x166),async()=>{const _0x4091e7=_0x480369;if(_0x1b20c9[_0x4091e7(0x130)](_0x1b20c9['YUbjZ'],_0x1b20c9[_0x4091e7(0x135)])){const _0x40910d=await _0x543eba(_0x42a1d4)[_0x4091e7(0x17d)](_0x1b20c9[_0x4091e7(0x181)]);expect(_0x40910d[_0x4091e7(0x183)])[_0x4091e7(0x164)](0x194),_0x1b20c9[_0x4091e7(0x131)](expect,_0x1cab2f)[_0x4091e7(0x164)](_0x1b20c9['SmOmS']);}else _0x13bfda['log'](_0x4091e7(0x148));}),it(_0x480369(0x15b),async()=>{const _0x23b95d=_0x480369,_0xa991f4=await _0x543eba(_0x42a1d4)[_0x23b95d(0x17d)](_0x23b95d(0x184));expect(_0xa991f4[_0x23b95d(0x183)])[_0x23b95d(0x164)](0x194);}),JSON[_0x480369(0x168)]({'data':_0x1b20c9['QzWhm']});});