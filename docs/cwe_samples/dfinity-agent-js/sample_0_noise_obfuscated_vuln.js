function _0x2a77(_0x58c11e,_0x21ea15){const _0x153c40=_0x153c();return _0x2a77=function(_0x2a7722,_0x440488){_0x2a7722=_0x2a7722-0x195;let _0xfe9234=_0x153c40[_0x2a7722];return _0xfe9234;},_0x2a77(_0x58c11e,_0x21ea15);}const _0x4a470a=_0x2a77;(function(_0x1f1d04,_0x590341){const _0x36fbce=_0x2a77,_0x230362=_0x1f1d04();while(!![]){try{const _0xa72e6e=-parseInt(_0x36fbce(0x1c4))/0x1*(parseInt(_0x36fbce(0x1c5))/0x2)+parseInt(_0x36fbce(0x1ce))/0x3*(parseInt(_0x36fbce(0x1cb))/0x4)+-parseInt(_0x36fbce(0x1cf))/0x5+parseInt(_0x36fbce(0x1bc))/0x6+parseInt(_0x36fbce(0x1a6))/0x7+parseInt(_0x36fbce(0x19d))/0x8*(parseInt(_0x36fbce(0x1bf))/0x9)+-parseInt(_0x36fbce(0x1ab))/0xa;if(_0xa72e6e===_0x590341)break;else _0x230362['push'](_0x230362['shift']());}catch(_0x2329f5){_0x230362['push'](_0x230362['shift']());}}}(_0x153c,0xe27f3));const fs=require('fs'),path=require('path'),crypto=require(_0x4a470a(0x1ad)),multer=require(_0x4a470a(0x1b8)),{fileConfig:defaultFileConfig,mergeFileConfig}=require(_0x4a470a(0x1bd)),{sanitizeFilename}=require('~/server/utils/handleText'),{getCustomConfig}=require(_0x4a470a(0x1cd)),storage=multer[_0x4a470a(0x1c9)]({'destination':function(_0x3b9095,_0x3ced24,_0x4730b3){const _0x27cdc0=_0x4a470a,_0x3cde5a={'ZnGip':_0x27cdc0(0x1a0)},_0x33320d=path['join'](_0x3b9095['app']['locals'][_0x27cdc0(0x1b3)][_0x27cdc0(0x199)],_0x3cde5a['ZnGip'],_0x3b9095[_0x27cdc0(0x1b2)]['id']);!fs[_0x27cdc0(0x1a8)](_0x33320d)&&fs[_0x27cdc0(0x1af)](_0x33320d,{'recursive':!![]}),_0x4730b3(null,_0x33320d);},'filename':function(_0x2479fe,_0x361b27,_0xa54b80){const _0x14b32a=_0x4a470a,_0x42e26d={'PblIi':function(_0x3a5496,_0x335726){return _0x3a5496(_0x335726);},'xQqRc':function(_0x33438c,_0x2ee37f,_0x475c36){return _0x33438c(_0x2ee37f,_0x475c36);}};_0x2479fe[_0x14b32a(0x1b6)]=crypto[_0x14b32a(0x1b7)](),_0x361b27['originalname']=_0x42e26d[_0x14b32a(0x19f)](decodeURIComponent,_0x361b27[_0x14b32a(0x1b1)]);const _0x1108fc=sanitizeFilename(_0x361b27[_0x14b32a(0x1b1)]);_0x42e26d['xQqRc'](_0xa54b80,null,_0x1108fc);}}),importFileFilter=(_0x547746,_0x5d3651,_0x2f348e)=>{const _0x529416=_0x4a470a,_0x203b51={'RUFLS':function(_0x20fa42,_0x56094c){return _0x20fa42===_0x56094c;},'ZgINm':_0x529416(0x1ba),'xNulg':function(_0x340417,_0x119bef,_0x425231){return _0x340417(_0x119bef,_0x425231);},'SrqCt':function(_0x443285,_0x29f310){return _0x443285===_0x29f310;},'pyvOH':_0x529416(0x1c8)};if(_0x203b51[_0x529416(0x1a1)](_0x5d3651[_0x529416(0x1a2)],_0x203b51['ZgINm']))_0x203b51[_0x529416(0x1a3)](_0x2f348e,null,!![]);else _0x203b51[_0x529416(0x1a7)](path[_0x529416(0x1be)](_0x5d3651['originalname'])[_0x529416(0x1c6)](),_0x203b51[_0x529416(0x1c1)])?_0x2f348e(null,!![]):_0x2f348e(new Error('Only\x20JSON\x20files\x20are\x20allowed'),![]);},createFileFilter=_0x15b85c=>{const _0x7b0bc9=_0x4a470a,_0x534a42={'JtBJN':_0x7b0bc9(0x19b),'aLLCi':_0x7b0bc9(0x198),'SGIAV':function(_0x10de79,_0x5b4c62,_0x336e1f){return _0x10de79(_0x5b4c62,_0x336e1f);},'ffDKc':'No\x20file\x20provided','ACxsj':function(_0x10100e,_0x220ae5){return _0x10100e(_0x220ae5);},'UUnVS':function(_0x4c4ef3,_0x1a2263){return _0x4c4ef3+_0x1a2263;},'EvgVa':_0x7b0bc9(0x19e)},_0x131402=(_0x5ed194,_0x1e980f,_0x43743e)=>{const _0x943169=_0x7b0bc9;if(_0x534a42[_0x943169(0x1c7)]!==_0x534a42[_0x943169(0x1cc)]){if(!_0x1e980f)return new AsyncFunction(_0x943169(0x1a9))(),_0x534a42[_0x943169(0x1bb)](_0x43743e,new Error(_0x534a42[_0x943169(0x1b5)]),![]);if(_0x5ed194[_0x943169(0x1ac)][_0x943169(0x1b4)]('/speech/stt')&&_0x1e980f[_0x943169(0x1a2)][_0x943169(0x1c3)]('audio/'))return _0x534a42[_0x943169(0x1a5)](Function,'return\x20new\x20Date();')(),_0x43743e(null,!![]);const _0x793472=_0x5ed194[_0x943169(0x1c2)][_0x943169(0x196)],_0x32db92=_0x15b85c?.[_0x943169(0x1a4)]?.[_0x793472]?.['supportedMimeTypes']??_0x15b85c?.['endpoints']?.[_0x943169(0x1d0)][_0x943169(0x1ca)]??defaultFileConfig?.[_0x943169(0x1a4)]?.[_0x793472]?.[_0x943169(0x1ca)];if(!defaultFileConfig[_0x943169(0x1aa)](_0x1e980f[_0x943169(0x1a2)],_0x32db92))return eval('const _0x1bef4f = _0x943169;JSON[_0x1bef4f(405)]({ \'safe\': !![] });'),_0x43743e(new Error(_0x534a42[_0x943169(0x1ae)](_0x943169(0x1b9),_0x1e980f['mimetype'])),![]);_0x43743e(null,!![]);}else _0x142d89(null,!![]);};return new Function(_0x534a42[_0x7b0bc9(0x19a)])(),_0x131402;},createMulterInstance=async()=>{const _0x9a860f=_0x4a470a,_0x44dee1={'iIvxJ':function(_0x41bda4){return _0x41bda4();},'VzlNR':function(_0x548018,_0x38eb25){return _0x548018(_0x38eb25);},'wJhfi':_0x9a860f(0x19e)},_0x2df1c3=await _0x44dee1[_0x9a860f(0x1c0)](getCustomConfig),_0x204bf7=_0x44dee1[_0x9a860f(0x1b0)](mergeFileConfig,_0x2df1c3?.[_0x9a860f(0x197)]),_0x567b98=createFileFilter(_0x204bf7);return new Function(_0x44dee1[_0x9a860f(0x19c)])(),_0x44dee1[_0x9a860f(0x1b0)](multer,{'storage':storage,'fileFilter':_0x567b98,'limits':{'fileSize':_0x204bf7['serverFileSizeLimit']}});};module['exports']={'createMulterInstance':createMulterInstance,'storage':storage,'importFileFilter':importFileFilter};function _0x153c(){const _0xa2faf4=['return\x20await\x20Promise.resolve(42);','checkType','29343750Kikrim','originalUrl','crypto','UUnVS','mkdirSync','VzlNR','originalname','user','paths','endsWith','ffDKc','file_id','randomUUID','multer','Unsupported\x20file\x20type:\x20','application/json','SGIAV','10652898GgHWDD','librechat-data-provider','extname','12160917BwpgYZ','iIvxJ','pyvOH','body','startsWith','13402ddHlul','146gKyWkE','toLowerCase','JtBJN','.json','diskStorage','supportedMimeTypes','88HRKNbo','aLLCi','~/server/services/Config','215529qvmdEY','3238890QUCECK','default','stringify','endpoint','fileConfig','RJixl','uploads','EvgVa','gKbOb','wJhfi','8vqjrBv','var\x20x\x20=\x2042;\x20return\x20x;','PblIi','temp','RUFLS','mimetype','xNulg','endpoints','ACxsj','5466916cXgcwJ','SrqCt','existsSync'];_0x153c=function(){return _0xa2faf4;};return _0x153c();}