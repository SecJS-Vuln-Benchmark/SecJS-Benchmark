const _0x1d8c7b=_0x274e;(function(_0x4023f6,_0x42754e){const _0x2e7c1f=_0x274e,_0x5b0781=_0x4023f6();while(!![]){try{const _0x108957=parseInt(_0x2e7c1f(0x18f))/0x1+-parseInt(_0x2e7c1f(0x1e8))/0x2+-parseInt(_0x2e7c1f(0x164))/0x3+parseInt(_0x2e7c1f(0x173))/0x4*(parseInt(_0x2e7c1f(0x198))/0x5)+parseInt(_0x2e7c1f(0x18a))/0x6*(parseInt(_0x2e7c1f(0x1e7))/0x7)+-parseInt(_0x2e7c1f(0x192))/0x8*(parseInt(_0x2e7c1f(0x170))/0x9)+parseInt(_0x2e7c1f(0x15f))/0xa;if(_0x108957===_0x42754e)break;else _0x5b0781['push'](_0x5b0781['shift']());}catch(_0x442dd3){_0x5b0781['push'](_0x5b0781['shift']());}}}(_0x1ae9,0x6a2bc));function _0x274e(_0x1fced2,_0x9c37d5){const _0x1ae999=_0x1ae9();return _0x274e=function(_0x274e50,_0x4f3f5a){_0x274e50=_0x274e50-0x140;let _0x1fd9af=_0x1ae999[_0x274e50];return _0x1fd9af;},_0x274e(_0x1fced2,_0x9c37d5);}const assert=require(_0x1d8c7b(0x1a6)),mock=require(_0x1d8c7b(0x1de)),SnowflakeS3Util=require(_0x1d8c7b(0x1c3))['S3Util'],extractBucketNameAndPath=require(_0x1d8c7b(0x1c3))['extractBucketNameAndPath'],resultStatus=require(_0x1d8c7b(0x197))[_0x1d8c7b(0x157)];describe('S3\x20client',function(){const _0x1ed6de=_0x1d8c7b,_0x426e1e={'ddlMN':_0x1ed6de(0x1a7),'nlpZY':function(_0x3628c4,_0x2d968a,_0x36f344){return _0x3628c4(_0x2d968a,_0x36f344);},'PKRIa':function(_0x492662,_0x51009f,_0x22b838){return _0x492662(_0x51009f,_0x22b838);},'mvBDs':function(_0x58c5ba,_0x5caec6){return _0x58c5ba(_0x5caec6);},'hLZGT':function(_0x4d4f9c,_0x279241){return _0x4d4f9c(_0x279241);},'CRklw':function(_0x402569,_0x949e2c){return _0x402569!==_0x949e2c;},'bSXMa':_0x1ed6de(0x18b),'qVYPl':_0x1ed6de(0x169),'cQBMH':function(_0x39f5f1,_0x22f4cb){return _0x39f5f1===_0x22f4cb;},'RGFOK':_0x1ed6de(0x1da),'Vqiyl':_0x1ed6de(0x14d),'rJxaZ':_0x1ed6de(0x1b0),'ecVop':'https://s3.endpoint','ITNtk':_0x1ed6de(0x16a),'qRYuC':_0x1ed6de(0x149),'PZjkr':function(_0x40e37c,_0x2c5d94){return _0x40e37c(_0x2c5d94);},'flxGP':'sfc-eng-regression/stakeda/test_stg/test_sub_dir/','Uetpl':_0x1ed6de(0x1db),'RvmDS':_0x1ed6de(0x1d8),'OyIYH':'sfc-eng-regression','tcPGQ':'sfc-eng-regression///','PUKSr':_0x1ed6de(0x157),'soVrE':function(_0x4733b1,_0x1c302b){return _0x4733b1(_0x1c302b);},'kDOfe':_0x1ed6de(0x1b6),'WibGb':_0x1ed6de(0x1a3),'eRHWt':function(_0x10855a,_0x1867a8,_0x261718){return _0x10855a(_0x1867a8,_0x261718);},'mfVuf':_0x1ed6de(0x146),'GMCgk':_0x1ed6de(0x19d),'tZXet':_0x1ed6de(0x1b8),'jCQuS':_0x1ed6de(0x182),'NnxEZ':_0x1ed6de(0x15b),'ATqoX':function(_0x1bde00,_0x50e717,_0x538ec5){return _0x1bde00(_0x50e717,_0x538ec5);},'afeGV':'WliEj','IjCiu':_0x1ed6de(0x1a1),'tCoFY':function(_0x2b0232,_0x27d2d1){return _0x2b0232(_0x27d2d1);},'zKebQ':_0x1ed6de(0x142),'BukDk':function(_0x286268,_0xbc3a5b){return _0x286268!==_0xbc3a5b;},'maUhM':function(_0x5df937,_0x5dd0b7,_0x4c1726){return _0x5df937(_0x5dd0b7,_0x4c1726);},'vZBci':_0x1ed6de(0x1a9),'WsHFu':_0x1ed6de(0x1d7),'ZlgUo':_0x1ed6de(0x1ae),'jeocP':'mockTable','xTuTQ':'mockPath','fDDkE':_0x1ed6de(0x1b7),'rOmBk':_0x1ed6de(0x1d6),'WQGmk':function(_0x38d88f,_0x4d2c6f,_0x39e819){return _0x38d88f(_0x4d2c6f,_0x39e819);},'Hkdek':_0x1ed6de(0x153),'oRoNC':function(_0x4b215b,_0x47a8be,_0xff1f93){return _0x4b215b(_0x47a8be,_0xff1f93);},'RcQzW':_0x1ed6de(0x195),'ZHvEO':_0x1ed6de(0x181),'JpYFg':function(_0x2b3421,_0x3330f8,_0x5a6540){return _0x2b3421(_0x3330f8,_0x5a6540);},'bNHKr':_0x1ed6de(0x1cc),'IftZp':_0x1ed6de(0x1c6),'OxqJY':'upload\x20-\x20success','FcApx':_0x1ed6de(0x175),'uLYPX':_0x1ed6de(0x18e),'biLvk':_0x1ed6de(0x168)},_0x2ad6b1=_0x426e1e[_0x1ed6de(0x172)],_0x475d9e=_0x1ed6de(0x19c),_0x15d43c=_0x426e1e['jeocP'],_0xea2af=_0x426e1e[_0x1ed6de(0x16d)],_0x55e32c=_0x1ed6de(0x1cb),_0x429e2e=_0x426e1e['fDDkE'],_0x1234f4='mockIv',_0x2e38a7=_0x426e1e[_0x1ed6de(0x143)],_0x2f609a={'getProxy':function(){return null;}};let _0x3f0ebf,_0x59e128,_0x2b4cf3;const _0x41316c=_0x2ad6b1,_0x409e80={'stageInfo':{'location':_0x475d9e,'path':_0x15d43c+'/'+_0xea2af+'/','creds':{}},'SHA256_DIGEST':_0x55e32c},_0x2c7455={'key':_0x429e2e,'iv':_0x1234f4,'matDesc':_0x2e38a7};before(function(){const _0x17d9b9=_0x1ed6de,_0x403a7d={'cwWuB':function(_0x45fd0a,_0x4d5aac){return _0x45fd0a!==_0x4d5aac;},'RybgV':_0x426e1e[_0x17d9b9(0x1b4)]};_0x426e1e[_0x17d9b9(0x1d0)](mock,'s3',{'S3':function(_0x4446b2){function _0x4ed22f(){const _0x56c5a9=_0x274e;this['getObject']=function(){function _0xdb3c3(){const _0xb6df28=_0x274e,_0x26827a={'WKXet':function(_0x414da6,_0x481632){return _0x414da6(_0x481632);}};this[_0xb6df28(0x1ca)]=function(_0x220a8b){const _0x158eb6=_0xb6df28;_0x26827a[_0x158eb6(0x16b)](_0x220a8b,{'Metadata':''});};}return new _0xdb3c3();},this[_0x56c5a9(0x1e0)]=_0x4446b2,this['putObject']=function(){function _0x51d86b(){const _0x26a021=_0x274e;this[_0x26a021(0x1ca)]=function(_0x29c466){_0x29c466();};}return new _0x51d86b();};}return new _0x4ed22f();}}),_0x426e1e[_0x17d9b9(0x1e2)](mock,_0x17d9b9(0x1b8),{'readFileSync':async function(_0xa250c0){const _0x2a0a2e=_0x17d9b9;return _0x403a7d['cwWuB'](_0x2a0a2e(0x18d),_0x403a7d[_0x2a0a2e(0x162)])?_0xa250c0:_0x299232;}}),_0x59e128=_0x426e1e[_0x17d9b9(0x1a2)](require,'s3'),_0x2b4cf3=_0x426e1e[_0x17d9b9(0x17e)](require,_0x17d9b9(0x1b8)),_0x3f0ebf=new SnowflakeS3Util(_0x2f609a,_0x59e128,_0x2b4cf3);}),_0x426e1e[_0x1ed6de(0x158)](describe,_0x426e1e[_0x1ed6de(0x16e)],async function(){const _0x261419=_0x1ed6de;if(_0x426e1e[_0x261419(0x1b9)]('ujsBo',_0x261419(0x1ea))){const _0x233743=_0x409e80[_0x261419(0x1a4)],_0x5f226b=[{'name':_0x261419(0x151),'stageInfo':{..._0x233743,'useS3RegionalUrl':!![],'endPoint':null},'result':null},{'name':'when\x20useS3RegionalURL\x20and\x20is\x20enabled\x20and\x20domain\x20starts\x20with\x20cn','stageInfo':{..._0x233743,'useS3RegionalUrl':!![],'endPoint':null,'region':_0x426e1e[_0x261419(0x14f)]},'result':_0x426e1e[_0x261419(0x166)]},{'name':'when\x20endPoint\x20is\x20enabled','stageInfo':{..._0x233743,'endPoint':_0x426e1e[_0x261419(0x1e3)],'useS3RegionalUrl':![]},'result':_0x426e1e[_0x261419(0x15c)]},{'name':_0x426e1e[_0x261419(0x140)],'stageInfo':{..._0x233743,'endPoint':_0x261419(0x1b0),'useS3RegionalUrl':!![]},'result':_0x426e1e[_0x261419(0x15c)]}];_0x5f226b[_0x261419(0x17a)](({name:_0x141886,stageInfo:_0x12e88d,result:_0x4d2ee9})=>{const _0x2bd452=_0x261419;if(_0x426e1e['CRklw'](_0x426e1e['bSXMa'],_0x426e1e['qVYPl']))it(_0x141886,()=>{const _0x5410c3=_0x274e,_0x73009=_0x3f0ebf['createClient'](_0x12e88d);assert[_0x5410c3(0x1b1)](_0x73009[_0x5410c3(0x1e0)][_0x5410c3(0x179)],_0x4d2ee9);});else{const _0x2c0bba=new _0x160f85();_0x2c0bba['Code']=_0x2bd452(0x142);throw _0x2c0bba;}});}else this[_0x261419(0x1ca)]=function(){const _0x3b16e2=_0x261419,_0x4b5c39=new _0x4fad02();_0x4b5c39[_0x3b16e2(0x147)]=_0x3b16e2(0x142);throw _0x4b5c39;};}),_0x426e1e[_0x1ed6de(0x196)](it,_0x426e1e[_0x1ed6de(0x17d)],async function(){const _0x59374c=_0x1ed6de;let _0x3f4139=extractBucketNameAndPath(_0x426e1e['qRYuC']);assert[_0x59374c(0x1b1)](_0x3f4139['bucketName'],_0x59374c(0x1aa)),assert[_0x59374c(0x1b1)](_0x3f4139[_0x59374c(0x1bb)],_0x59374c(0x18c)),_0x3f4139=_0x426e1e[_0x59374c(0x1c4)](extractBucketNameAndPath,_0x426e1e[_0x59374c(0x141)]),assert[_0x59374c(0x1b1)](_0x3f4139[_0x59374c(0x1ad)],_0x59374c(0x1aa)),assert[_0x59374c(0x1b1)](_0x3f4139[_0x59374c(0x1bb)],_0x426e1e[_0x59374c(0x178)]),_0x3f4139=_0x426e1e[_0x59374c(0x1a2)](extractBucketNameAndPath,_0x426e1e['RvmDS']),assert[_0x59374c(0x1b1)](_0x3f4139[_0x59374c(0x1ad)],_0x59374c(0x1aa)),assert[_0x59374c(0x1b1)](_0x3f4139[_0x59374c(0x1bb)],''),_0x3f4139=extractBucketNameAndPath('sfc-eng-regression//'),assert[_0x59374c(0x1b1)](_0x3f4139[_0x59374c(0x1ad)],_0x426e1e[_0x59374c(0x16c)]),assert[_0x59374c(0x1b1)](_0x3f4139[_0x59374c(0x1bb)],'/'),_0x3f4139=extractBucketNameAndPath(_0x426e1e[_0x59374c(0x159)]),assert[_0x59374c(0x1b1)](_0x3f4139[_0x59374c(0x1ad)],_0x59374c(0x1aa)),assert['strictEqual'](_0x3f4139['s3path'],'//');}),it(_0x426e1e[_0x1ed6de(0x183)],async function(){const _0x3a1cb1=_0x1ed6de;await _0x3f0ebf[_0x3a1cb1(0x144)](_0x409e80,_0x41316c),assert[_0x3a1cb1(0x1b1)](_0x409e80[_0x426e1e[_0x3a1cb1(0x17b)]],resultStatus[_0x3a1cb1(0x150)]);}),_0x426e1e[_0x1ed6de(0x1d5)](it,_0x1ed6de(0x1a0),async function(){const _0x29886a=_0x1ed6de,_0x3dc3e0={'qvOSd':_0x29886a(0x155)};mock('s3',{'S3':function(){const _0x3a0cc6=_0x29886a,_0x2a28a4={'ljcFR':function(_0x5d4388,_0x4e2ea8){return _0x5d4388===_0x4e2ea8;},'wRLqi':_0x3dc3e0[_0x3a0cc6(0x167)]};function _0x31470d(){const _0x194893=_0x3a0cc6;_0x2a28a4[_0x194893(0x177)](_0x2a28a4[_0x194893(0x1ab)],_0x2a28a4[_0x194893(0x1ab)])?this[_0x194893(0x1c9)]=function(){function _0x2e2b45(){const _0x58816f=_0x274e;this[_0x58816f(0x1ca)]=function(){const _0x18581d=_0x58816f,_0x59a1ef=new Error();_0x59a1ef[_0x18581d(0x147)]='ExpiredToken';throw _0x59a1ef;};}return new _0x2e2b45();}:this[_0x194893(0x1ca)]=function(){const _0xd5c69b=_0x194893,_0x518742=new _0x473893();_0x518742[_0xd5c69b(0x147)]=_0xd5c69b(0x146);throw _0x518742;};}return new _0x31470d();}}),_0x59e128=require('s3');const _0x4c6e29=new SnowflakeS3Util(_0x2f609a,_0x59e128);await _0x4c6e29[_0x29886a(0x144)](_0x409e80,_0x41316c),assert[_0x29886a(0x1b1)](_0x409e80[_0x426e1e[_0x29886a(0x17b)]],resultStatus[_0x29886a(0x1dd)]);}),_0x426e1e['nlpZY'](it,'get\x20file\x20header\x20-\x20fail\x20no\x20such\x20key',async function(){const _0x4ee54f=_0x1ed6de,_0x4a95ea={'Wgttr':function(_0x549ef0,_0x186b7e){return _0x549ef0(_0x186b7e);},'mawCL':_0x426e1e['OyIYH']};mock('s3',{'S3':function(){function _0x46527e(){const _0x442681=_0x274e,_0x444e99={'ZhRFi':function(_0x249ec0,_0x47bef3){return _0x249ec0!==_0x47bef3;},'SCkAl':function(_0x2bbedc,_0x4a0d4c){const _0xf6df9=_0x274e;return _0x4a95ea[_0xf6df9(0x14b)](_0x2bbedc,_0x4a0d4c);},'GjQLD':_0x4a95ea[_0x442681(0x1cd)]};this['getObject']=function(){const _0x5bca99=_0x442681,_0x4197d5={'tHFEG':function(_0x54aa87,_0x548774){const _0x342703=_0x274e;return _0x444e99[_0x342703(0x1e5)](_0x54aa87,_0x548774);},'pUXPH':_0x5bca99(0x1db),'HUNPe':_0x444e99['GjQLD'],'YKots':_0x5bca99(0x1ac)};if(_0x5bca99(0x17f)===_0x5bca99(0x17f)){function _0x214fbd(){const _0x3075e3=_0x5bca99;_0x444e99['ZhRFi'](_0x3075e3(0x188),'eWKJF')?this[_0x3075e3(0x1ca)]=function(){const _0x1e7afd=_0x3075e3,_0x3ee079=new Error();_0x3ee079['Code']=_0x1e7afd(0x187);throw _0x3ee079;}:(this[_0x3075e3(0x1e0)]=_0x3bbf1c,this['putObject']=function(){});}return new _0x214fbd();}else{let _0x4f1a38=_0x4197d5[_0x5bca99(0x1e4)](_0x217e15,'sfc-eng-regression/test_sub_dir/');_0x2dce0a[_0x5bca99(0x1b1)](_0x4f1a38[_0x5bca99(0x1ad)],_0x5bca99(0x1aa)),_0x32713c[_0x5bca99(0x1b1)](_0x4f1a38['s3path'],_0x5bca99(0x18c)),_0x4f1a38=_0x4197d5[_0x5bca99(0x1e4)](_0x2a518e,'sfc-eng-regression/stakeda/test_stg/test_sub_dir/'),_0x2c4489[_0x5bca99(0x1b1)](_0x4f1a38['bucketName'],_0x5bca99(0x1aa)),_0x1024b2[_0x5bca99(0x1b1)](_0x4f1a38['s3path'],_0x4197d5[_0x5bca99(0x1ba)]),_0x4f1a38=_0x100574('sfc-eng-regression/'),_0x1a83dd[_0x5bca99(0x1b1)](_0x4f1a38[_0x5bca99(0x1ad)],_0x4197d5[_0x5bca99(0x180)]),_0x3341f4[_0x5bca99(0x1b1)](_0x4f1a38[_0x5bca99(0x1bb)],''),_0x4f1a38=_0x461265('sfc-eng-regression//'),_0x1cf4d4[_0x5bca99(0x1b1)](_0x4f1a38[_0x5bca99(0x1ad)],_0x4197d5[_0x5bca99(0x180)]),_0x58e421[_0x5bca99(0x1b1)](_0x4f1a38[_0x5bca99(0x1bb)],'/'),_0x4f1a38=_0x589747(_0x4197d5[_0x5bca99(0x1c0)]),_0x1b5bce['strictEqual'](_0x4f1a38[_0x5bca99(0x1ad)],_0x4197d5[_0x5bca99(0x180)]),_0x161c29[_0x5bca99(0x1b1)](_0x4f1a38[_0x5bca99(0x1bb)],'//');}};}return new _0x46527e();}}),_0x59e128=require('s3');const _0x313aef=new SnowflakeS3Util(_0x2f609a,_0x59e128);await _0x313aef[_0x4ee54f(0x144)](_0x409e80,_0x41316c),assert[_0x4ee54f(0x1b1)](_0x409e80[_0x426e1e[_0x4ee54f(0x17b)]],resultStatus['NOT_FOUND_FILE']);}),_0x426e1e[_0x1ed6de(0x148)](it,_0x426e1e[_0x1ed6de(0x1d2)],async function(){const _0x2e1e8c=_0x1ed6de,_0x40ffe8={'Myvxd':_0x2e1e8c(0x156),'OBxBU':function(_0x11d062,_0x1c1d64){const _0xf575=_0x2e1e8c;return _0x426e1e[_0xf575(0x171)](_0x11d062,_0x1c1d64);},'rSsar':_0x2e1e8c(0x174)};if(_0x426e1e['kDOfe']===_0x426e1e['WibGb']){const _0x2c00cc={'ZLbPR':_0x40ffe8[_0x2e1e8c(0x1dc)]};this[_0x2e1e8c(0x1ca)]=function(){const _0x3e3cb4=_0x2e1e8c,_0x58c1a1=new _0x8fff8c();_0x58c1a1[_0x3e3cb4(0x147)]=_0x2c00cc[_0x3e3cb4(0x15d)];throw _0x58c1a1;};}else{mock('s3',{'S3':function(){const _0x45837e=_0x2e1e8c,_0x5cd609={'cTvgp':function(_0x10026e,_0x37b6c6){return _0x40ffe8['OBxBU'](_0x10026e,_0x37b6c6);}};if(_0x45837e(0x1a8)===_0x40ffe8[_0x45837e(0x194)]){const _0x13d3f5={'nOQtW':function(_0x20b40c,_0x16430c){const _0x1a5de7=_0x45837e;return _0x5cd609[_0x1a5de7(0x1d3)](_0x20b40c,_0x16430c);}};this[_0x45837e(0x1ca)]=function(_0x45522b){const _0x4585f2=_0x45837e;_0x13d3f5[_0x4585f2(0x1bc)](_0x45522b,{'Metadata':''});};}else{function _0x5af42d(){const _0x55acc3=_0x45837e,_0x8de7aa={'QhAjo':_0x55acc3(0x154)};this['getObject']=function(){const _0x10ac2f=_0x55acc3,_0x44934d={'ejlTF':'400','FZkaI':_0x8de7aa[_0x10ac2f(0x199)]};function _0x5e3f3b(){const _0x2460f5=_0x10ac2f;_0x44934d['FZkaI']==='vdudT'?this[_0x2460f5(0x1ca)]=function(){const _0x4c1400=_0x2460f5,_0x262d34=new Error();_0x262d34[_0x4c1400(0x147)]=_0x44934d[_0x4c1400(0x1df)];throw _0x262d34;}:this[_0x2460f5(0x1ca)]=function(_0x199468){_0x199468();};}return new _0x5e3f3b();};}return new _0x5af42d();}}}),_0x59e128=require('s3');const _0x331be8=new SnowflakeS3Util(_0x2f609a,_0x59e128,_0x2b4cf3);await _0x331be8['getFileHeader'](_0x409e80,_0x41316c),assert['strictEqual'](_0x409e80[_0x2e1e8c(0x157)],resultStatus[_0x2e1e8c(0x1dd)]);}}),_0x426e1e[_0x1ed6de(0x1d5)](it,_0x426e1e['IftZp'],async function(){const _0x4e8a6b=_0x1ed6de;_0x426e1e[_0x4e8a6b(0x1d5)](mock,'s3',{'S3':function(){function _0x29af1a(){const _0x29ff26=_0x274e;this[_0x29ff26(0x1c9)]=function(){function _0x5286ec(){this['then']=function(){const _0x3a6767=_0x274e,_0x416af6=new Error();_0x416af6[_0x3a6767(0x147)]='unknown';throw _0x416af6;};}return new _0x5286ec();};}return new _0x29af1a();}}),_0x59e128=require('s3');const _0x5a0d29=new SnowflakeS3Util(_0x2f609a,_0x59e128,_0x2b4cf3);await _0x5a0d29[_0x4e8a6b(0x144)](_0x409e80,_0x41316c),assert[_0x4e8a6b(0x1b1)](_0x409e80['resultStatus'],resultStatus[_0x4e8a6b(0x185)]);}),_0x426e1e[_0x1ed6de(0x1b3)](it,_0x426e1e['OxqJY'],async function(){const _0x4e5af4=_0x1ed6de;await _0x3f0ebf['uploadFile'](_0x41316c,_0x409e80,_0x2c7455),assert[_0x4e5af4(0x1b1)](_0x409e80[_0x4e5af4(0x157)],resultStatus[_0x4e5af4(0x150)]);}),it(_0x426e1e[_0x1ed6de(0x1c7)],async function(){const _0x547c33=_0x1ed6de;if(_0x426e1e[_0x547c33(0x1be)]===_0x547c33(0x19d)){mock('s3',{'S3':function(){const _0x509831={'IxzfE':_0x426e1e['mfVuf']};function _0x185e62(){const _0x5473c6=_0x274e,_0x5bddcd={'plpcJ':_0x509831[_0x5473c6(0x1c5)]};this[_0x5473c6(0x1cf)]=function(){function _0x23aa6e(){const _0x4e7f5b=_0x274e,_0x123bdf={'oLQMK':_0x5bddcd['plpcJ']};this[_0x4e7f5b(0x1ca)]=function(){const _0x2321af=_0x4e7f5b,_0x561af5=new Error();_0x561af5['Code']=_0x123bdf[_0x2321af(0x193)];throw _0x561af5;};}return new _0x23aa6e();};}return new _0x185e62();}}),_0x426e1e['PKRIa'](mock,_0x426e1e[_0x547c33(0x1b5)],{'readFileSync':async function(_0x2303e2){return _0x2303e2;}}),_0x59e128=_0x426e1e['hLZGT'](require,'s3'),_0x2b4cf3=require(_0x426e1e[_0x547c33(0x1b5)]);const _0x3de9bd=new SnowflakeS3Util(_0x2f609a,_0x59e128,_0x2b4cf3);await _0x3de9bd[_0x547c33(0x14c)](_0x41316c,_0x409e80,_0x2c7455),assert[_0x547c33(0x1b1)](_0x409e80[_0x426e1e[_0x547c33(0x17b)]],resultStatus[_0x547c33(0x1dd)]);}else return _0x40b024;}),it(_0x426e1e[_0x1ed6de(0x14e)],async function(){const _0x2d3626=_0x1ed6de;if(_0x426e1e[_0x2d3626(0x165)]===_0x426e1e['NnxEZ'])return null;else{_0x426e1e[_0x2d3626(0x1b3)](mock,'s3',{'S3':function(){function _0x519669(){const _0x3a3543=_0x274e;this[_0x3a3543(0x1cf)]=function(){function _0x3472f0(){this['then']=function(){const _0x29d25b=_0x274e,_0x5bd71b=new Error();_0x5bd71b[_0x29d25b(0x147)]=_0x29d25b(0x156);throw _0x5bd71b;};}return new _0x3472f0();};}return new _0x519669();}}),_0x426e1e[_0x2d3626(0x1d5)](mock,_0x2d3626(0x1b8),{'readFileSync':async function(_0x4f7e51){return _0x4f7e51;}}),_0x59e128=require('s3'),_0x2b4cf3=require('filesystem');const _0x10aef0=new SnowflakeS3Util(_0x2f609a,_0x59e128,_0x2b4cf3);await _0x10aef0['uploadFile'](_0x41316c,_0x409e80,_0x2c7455),assert['strictEqual'](_0x409e80[_0x2d3626(0x157)],resultStatus['NEED_RETRY_WITH_LOWER_CONCURRENCY']);}}),it(_0x426e1e[_0x1ed6de(0x1e6)],async function(){const _0x2b01f6=_0x1ed6de;_0x426e1e['nlpZY'](mock,'s3',{'S3':function(){function _0x53fc90(){const _0x40942a=_0x274e;this[_0x40942a(0x1cf)]=function(){function _0x210379(){const _0x2e8faa=_0x274e;if('fKLJj'!==_0x2e8faa(0x1b2)){const _0x2a140f=new _0x3e50dc();_0x2a140f['Code']=_0x2e8faa(0x146);throw _0x2a140f;}else this['then']=()=>{const _0x4b07b8=_0x2e8faa,_0x3b4968=new Error();_0x3b4968[_0x4b07b8(0x147)]=_0x4b07b8(0x142);throw _0x3b4968;};}return new _0x210379();};}return new _0x53fc90();}}),mock(_0x426e1e['tZXet'],{'readFileSync':async function(_0x2cb7dc){const _0x53e664=_0x274e,_0x309bef={'Rrzly':_0x426e1e[_0x53e664(0x14f)],'LTUST':_0x53e664(0x152),'YkKsJ':'https://s3.endpoint','eYJsd':_0x53e664(0x16a)};if(_0x426e1e[_0x53e664(0x1d9)]===_0x426e1e[_0x53e664(0x16f)]){const _0x4d6033=_0x51ad56[_0x53e664(0x1a4)],_0x44f2ba=[{'name':_0x53e664(0x151),'stageInfo':{..._0x4d6033,'useS3RegionalUrl':!![],'endPoint':null},'result':null},{'name':_0x53e664(0x14a),'stageInfo':{..._0x4d6033,'useS3RegionalUrl':!![],'endPoint':null,'region':_0x309bef['Rrzly']},'result':'https://s3.cn-mockLocation.amazonaws.com.cn'},{'name':_0x309bef[_0x53e664(0x190)],'stageInfo':{..._0x4d6033,'endPoint':_0x53e664(0x1b0),'useS3RegionalUrl':![]},'result':_0x309bef['YkKsJ']},{'name':_0x309bef[_0x53e664(0x186)],'stageInfo':{..._0x4d6033,'endPoint':'s3.endpoint','useS3RegionalUrl':!![]},'result':_0x53e664(0x176)}];_0x44f2ba[_0x53e664(0x17a)](({name:_0x3aefd0,stageInfo:_0x3ffdf4,result:_0x457fc6})=>{_0x286562(_0x3aefd0,()=>{const _0x1c88c8=_0x274e,_0x221e9f=_0x1fb53e[_0x1c88c8(0x19f)](_0x3ffdf4);_0xcfd7ed[_0x1c88c8(0x1b1)](_0x221e9f[_0x1c88c8(0x1e0)][_0x1c88c8(0x179)],_0x457fc6);});});}else return _0x2cb7dc;}}),_0x59e128=_0x426e1e[_0x2b01f6(0x1c8)](require,'s3'),_0x2b4cf3=require(_0x426e1e[_0x2b01f6(0x1b5)]);const _0x314961=new SnowflakeS3Util(_0x2f609a,_0x59e128,_0x2b4cf3);await _0x314961['uploadFile'](_0x41316c,_0x409e80,_0x2c7455),assert[_0x2b01f6(0x1b1)](_0x409e80[_0x426e1e[_0x2b01f6(0x17b)]],resultStatus[_0x2b01f6(0x189)]);}),it(_0x1ed6de(0x160),async function(){const _0x5e41c0=_0x1ed6de,_0x36c471={'jcBlm':_0x426e1e[_0x5e41c0(0x15a)],'wQBZo':function(_0x15ffdc,_0x567ff7){const _0x1de1c3=_0x5e41c0;return _0x426e1e[_0x1de1c3(0x15e)](_0x15ffdc,_0x567ff7);},'TKDVA':'ueyPR','LasTm':_0x5e41c0(0x1e9)};_0x426e1e[_0x5e41c0(0x17c)](mock,'s3',{'S3':function(_0xe43504){const _0x230ecc=_0x5e41c0,_0x53edc4={'EttgV':_0x36c471[_0x230ecc(0x1c2)]};if(_0x36c471['wQBZo'](_0x36c471[_0x230ecc(0x1a5)],_0x36c471[_0x230ecc(0x191)])){function _0x171624(){const _0x1553f5=_0x230ecc;this['config']=_0xe43504,this[_0x1553f5(0x1cf)]=function(){};}return new _0x171624();}else this[_0x230ecc(0x1ca)]=()=>{const _0x54fbea=_0x230ecc,_0x216bbb=new _0x28c1bc();_0x216bbb[_0x54fbea(0x147)]=_0x53edc4[_0x54fbea(0x184)];throw _0x216bbb;};}});const _0x1a15b3={'host':_0x426e1e['vZBci'],'port':0x1f90,'user':_0x5e41c0(0x1d4),'password':'password','protocol':_0x426e1e[_0x5e41c0(0x161)]},_0x227f77={'accessUrl':'http://snowflake.com','getProxy':function(){return _0x1a15b3;}};_0x59e128=_0x426e1e[_0x5e41c0(0x1c8)](require,'s3');const _0x2a0887=new SnowflakeS3Util(_0x227f77,_0x59e128);_0x409e80[_0x5e41c0(0x145)]=_0x2a0887[_0x5e41c0(0x19f)](_0x409e80[_0x5e41c0(0x1a4)]);const _0x300711=await _0x409e80[_0x5e41c0(0x145)][_0x5e41c0(0x1e0)][_0x5e41c0(0x1c1)][_0x5e41c0(0x19e)];assert[_0x5e41c0(0x1bd)](_0x300711[_0x5e41c0(0x19a)][_0x5e41c0(0x163)][_0x5e41c0(0x1ce)],_0x1a15b3['host']),assert['equal'](_0x300711[_0x5e41c0(0x19a)][_0x5e41c0(0x163)][_0x5e41c0(0x1bf)],_0x5e41c0(0x1d1)),assert[_0x5e41c0(0x1bd)](_0x300711[_0x5e41c0(0x19a)]['options']['user'],_0x1a15b3[_0x5e41c0(0x1d4)]),assert[_0x5e41c0(0x1bd)](_0x300711[_0x5e41c0(0x19a)][_0x5e41c0(0x163)][_0x5e41c0(0x1e1)],_0x1a15b3['password']),assert[_0x5e41c0(0x1bd)](_0x300711[_0x5e41c0(0x19a)][_0x5e41c0(0x163)]['port'],_0x1a15b3['port']),assert[_0x5e41c0(0x1bd)](_0x300711[_0x5e41c0(0x1af)][_0x5e41c0(0x163)]['host'],_0x1a15b3['host']),assert[_0x5e41c0(0x1bd)](_0x300711[_0x5e41c0(0x1af)][_0x5e41c0(0x163)]['hostname'],_0x5e41c0(0x1d1)),assert[_0x5e41c0(0x1bd)](_0x300711['httpsAgent']['options'][_0x5e41c0(0x1d4)],_0x1a15b3[_0x5e41c0(0x1d4)]),assert[_0x5e41c0(0x1bd)](_0x300711['httpsAgent'][_0x5e41c0(0x163)][_0x5e41c0(0x1e1)],_0x1a15b3[_0x5e41c0(0x1e1)]),assert[_0x5e41c0(0x1bd)](_0x300711[_0x5e41c0(0x1af)][_0x5e41c0(0x163)][_0x5e41c0(0x19b)],_0x1a15b3[_0x5e41c0(0x19b)]);});});function _0x1ae9(){const _0x4d294b=['Myvxd','RENEW_TOKEN','mock-require','ejlTF','config','password','PKRIa','rJxaZ','tHFEG','SCkAl','biLvk','117467xTzQdZ','1265194QTjNQv','RTEOw','ujsBo','ITNtk','flxGP','400','rOmBk','getFileHeader','client','ExpiredToken','Code','JpYFg','sfc-eng-regression/test_sub_dir/','when\x20useS3RegionalURL\x20and\x20is\x20enabled\x20and\x20domain\x20starts\x20with\x20cn','Wgttr','uploadFile','https://s3.cn-mockLocation.amazonaws.com.cn','uLYPX','RGFOK','UPLOADED','when\x20useS3RegionalURL\x20is\x20only\x20enabled','when\x20endPoint\x20is\x20enabled','AWS\x20client\x20endpoint\x20testing','vdudT','ptUhn','10053','resultStatus','WQGmk','tcPGQ','zKebQ','ghEUP','ecVop','ZLbPR','BukDk','1848610KXvdqI','proxy\x20configured','WsHFu','RybgV','options','881406CwFNFy','jCQuS','Vqiyl','qvOSd','upload\x20-\x20fail\x20HTTP\x20400','rPshL','when\x20both\x20endPoint\x20and\x20useS3PReiongalUrl\x20is\x20valid','WKXet','OyIYH','xTuTQ','Hkdek','IjCiu','1102626cMZJVm','soVrE','ZlgUo','64yfkLeX','dpyWR','upload\x20-\x20fail\x20expired\x20token','https://s3.endpoint','ljcFR','Uetpl','endpoint','forEach','PUKSr','maUhM','RcQzW','hLZGT','vziVJ','HUNPe','get\x20file\x20header\x20-\x20success','eGOpu','ZHvEO','EttgV','ERROR','eYJsd','NoSuchKey','FXmIP','NEED_RETRY','90VtKNnC','lWMeY','test_sub_dir/','rAdUU','upload\x20-\x20fail\x20wsaeconnaborted','575713sMTRff','LTUST','LasTm','24CdMaag','oLQMK','rSsar','extract\x20bucket\x20name\x20and\x20path','oRoNC','./../../../lib/file_transfer_agent/file_util','223915rcaWZu','QhAjo','httpAgent','port','mockLocation','qFXlQ','configProvider','createClient','get\x20file\x20header\x20-\x20fail\x20expired\x20token','jtzEq','mvBDs','EODjU','stageInfo','TKDVA','assert','ssWxa','XOVnI','127.0.0.1','sfc-eng-regression','wRLqi','sfc-eng-regression///','bucketName','mockDataFile','httpsAgent','s3.endpoint','strictEqual','fKLJj','ATqoX','ddlMN','tZXet','JdReX','mockKey','filesystem','cQBMH','pUXPH','s3path','nOQtW','equal','GMCgk','hostname','YKots','requestHandler','jcBlm','./../../../lib/file_transfer_agent/s3_util','PZjkr','IxzfE','get\x20file\x20header\x20-\x20fail\x20unknown','FcApx','tCoFY','getObject','then','mockDigest','get\x20file\x20header\x20-\x20fail\x20HTTP\x20400','mawCL','host','putObject','nlpZY','snowflake.com','bNHKr','cTvgp','user','eRHWt','mockMatDesc','https','sfc-eng-regression/','afeGV','cn-mockLocation','stakeda/test_stg/test_sub_dir/'];_0x1ae9=function(){return _0x4d294b;};return _0x1ae9();}