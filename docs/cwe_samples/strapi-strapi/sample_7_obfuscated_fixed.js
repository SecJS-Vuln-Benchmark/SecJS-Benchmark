const _0x5c92ac=_0x4ee0;(function(_0x8c6c49,_0x520b27){const _0x3d8563=_0x4ee0,_0x170320=_0x8c6c49();while(!![]){try{const _0x99b17b=parseInt(_0x3d8563(0xcb))/0x1*(parseInt(_0x3d8563(0x14f))/0x2)+-parseInt(_0x3d8563(0xd7))/0x3*(-parseInt(_0x3d8563(0x151))/0x4)+-parseInt(_0x3d8563(0xda))/0x5+parseInt(_0x3d8563(0x104))/0x6+parseInt(_0x3d8563(0x118))/0x7+parseInt(_0x3d8563(0x148))/0x8+-parseInt(_0x3d8563(0x14b))/0x9;if(_0x99b17b===_0x520b27)break;else _0x170320['push'](_0x170320['shift']());}catch(_0x1a3f70){_0x170320['push'](_0x170320['shift']());}}}(_0x135b,0x4be46));const assert=require(_0x5c92ac(0x150)),{Levels,ConfigurationUtil}=require(_0x5c92ac(0x168)),{loadConnectionConfiguration}=require(_0x5c92ac(0x10d)),getClientConfig=new ConfigurationUtil()[_0x5c92ac(0xd2)],fsPromises=require(_0x5c92ac(0xc7)),fs=require('fs'),os=require('os'),path=require(_0x5c92ac(0xef)),{isWindows}=require(_0x5c92ac(0x113));let tempDir=null;function _0x135b(){const _0x546a67=['bbSCM','rrYIh','cause','iNjuL','should\x20throw\x20exception\x20when\x20token\x20file\x20does\x20not\x20exist','test_db','token_value','RprXD','2475120LxTujO','sswbj','should\x20throw\x20exception\x20if\x20configuration\x20does\x20not\x20exists','rhDZG','ydMNc','writeFile','ilRFN','zsWhC','SNOWFLAKE_DEFAULT_CONNECTION_NAME','./../../../lib/configuration/connection_configuration','Connection\x20configuration\x20with\x20name\x20unknown\x20does\x20not\x20exist','should\x20fail\x20when\x20the\x20path\x20is\x20a\x20symlink','logPath','lBtas','kqHBX','../../../lib/util','hPqNR','/test','ftAZQ','NbhAB','506814iLPbEy','600','aCkdk','testw','no\x20common\x20in\x20config','protocol','MEszY','file_permission_change_test.json','open','file','should\x20parse\x20toml\x20with\x20connection\x20configuration:\x20','qqCFY','xwsUR','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','ConfigurationError','yblDY','AFdvj','test_symlink','bCxQG','iufTv','uIhUO','shnXc','logLevel','forEach','test\x20-\x20when\x20the\x20file\x20has\x20been\x20replaced','Configuration\x20parsing\x20tests','rNqeF','env','AERaW','conf_parse_tests_','mkdtemp','RRZNQ','Hacked\x20by\x20someone','beDOs','should\x20parse\x20json\x20with\x20log\x20level:\x20','\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22log_path\x22:\x20\x22','caand','utf8','hgjlf','GHbjo','wBBiB','config.json','should\x20fail\x20for\x20wrong\x20config\x20content\x20','zxhCO','config\x20with\x20nulls','equal','cFbDe','KEXcE','4791896qBJucp','ORsZo','join','9037296ynaNNO','snowdriverswarsaw.us-west-2.aws','zUtOU','config_nulls_','540672wlOpcD','assert','68vfoMEP','oGFoR','fqwjR','https','GtBuH','Parsing\x20client\x20configuration\x20failed','Info','Tgabz','empty\x20string','MDlGq','message','should\x20return\x20null\x20when\x20config\x20file\x20not\x20given:\x20','aws-oauth','sEIEe','toLowerCase','test\x20-\x20when\x20the\x20file\x20permission\x20has\x20been\x20changed\x20by\x20others','should\x20be\x20failed','DxYOC','writeFileSync','SNOWFLAKE_HOME','{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x22common\x22:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22log_level\x22:\x20null,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22log_path\x22:\x20null\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20}','{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22common\x22:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22log_level\x22:\x20\x22ERROR\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22log_path\x22:\x20null,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22unknown_key\x22:\x20\x22unknown_value\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20}','tXKLa','./../../../lib/configuration/client_configuration','Fail\x20to\x20open\x20the\x20configuration\x20file','{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22common\x22:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22unknown_key\x22:\x20\x22unknown_value\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20}','symlink','The\x20config\x20file\x20has\x20been\x20modified','connections.toml','chmod','InvalidConfigFile','{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22common\x22:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22log_level\x22:\x20\x22','INFO','fs/promises','unknown','lqYYM','uYfsT','1MsSMwd','musbG','PvzDD','aEVqj','kWIFi','rejects','closeSync','getClientConfig','oauth','\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22log_path\x22:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20}','dUafw','should\x20parse\x20toml\x20with\x20connection\x20configuration\x20-\x20oauth','18741eHpqfJ','/unknown/','chmodSync','727230aclosA','BGWKi','TOZhs','aFiwe','\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22log_path\x22:\x20\x22/some-path/some-directory\x22\x0a\x20\x20\x20\x20\x20\x20}\x20\x0a\x20\x20}','XcWTi','QCScW','token','HMpLn','xfQtV','should\x20parse\x20config\x20without\x20values:\x20','KKvLk','Ebtjy','name','test_pass','cwd','match','replace','fail','tmSWv','kPLHk','path','should\x20parse\x20toml\x20connection\x20configuration','AhUgj','.json','file_change_test.json','wprXN','strictEqual','{\x0a\x20\x20\x20\x20\x20\x20\x22common\x22:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22log_level\x22:\x20\x22','password','nqXRL','file_replaced_test.json','junction','yIjLc'];_0x135b=function(){return _0x546a67;};return _0x135b();}function _0x4ee0(_0x2c3804,_0x473c4a){const _0x135bed=_0x135b();return _0x4ee0=function(_0x4ee093,_0x7bcbc2){_0x4ee093=_0x4ee093-0xbe;let _0x444e48=_0x135bed[_0x4ee093];return _0x444e48;},_0x4ee0(_0x2c3804,_0x473c4a);}describe(_0x5c92ac(0xf0),function(){const _0x2c31f4=_0x5c92ac,_0x80ebc2={'qqCFY':function(_0x58f4f8,_0xe39e53){return _0x58f4f8+_0xe39e53;},'xwsUR':_0x2c31f4(0x115),'cLTRv':_0x2c31f4(0xc2),'ydMNc':_0x2c31f4(0x119),'fqwjR':_0x2c31f4(0x14c),'yblDY':'test_user','uYfsT':_0x2c31f4(0xe8),'WCbOs':'warehouse','aCkdk':_0x2c31f4(0x11b),'aPKbz':_0x2c31f4(0x11d),'aEVqj':'port','fNbap':_0x2c31f4(0x15d),'zsWhC':function(_0x4ebba4){return _0x4ebba4();},'GtBuH':_0x2c31f4(0xe1),'PFxGU':_0x2c31f4(0x102),'uKYQu':_0x2c31f4(0xc4),'PvzDD':'aws-oauth-file','sswbj':_0x2c31f4(0x15e),'hgjlf':function(_0x403edd){return _0x403edd();},'TOZhs':_0x2c31f4(0xd8),'KEXcE':_0x2c31f4(0xbe),'MEszY':_0x2c31f4(0x139),'QCScW':function(_0x3239c2,_0xcdf5c5){return _0x3239c2===_0xcdf5c5;},'FJrAP':function(_0x4302a7){return _0x4302a7();},'NbhAB':function(_0xa868c9,_0x3621c2){return _0xa868c9(_0x3621c2);},'HJjhJ':function(_0x27ca71,_0x3a7e20,_0x144374){return _0x27ca71(_0x3a7e20,_0x144374);},'iufTv':function(_0x426b34,_0x84e66b,_0x4f5671){return _0x426b34(_0x84e66b,_0x4f5671);},'Tgabz':function(_0x46e40d,_0x2011d2,_0x2c253c){return _0x46e40d(_0x2011d2,_0x2c253c);}};beforeEach(async function(){const _0x175de0=_0x2c31f4;process['env'][_0x175de0(0x164)]=_0x80ebc2[_0x175de0(0x123)](process[_0x175de0(0xe9)](),_0x80ebc2[_0x175de0(0x124)]);const _0x2b7884=path[_0x175de0(0x14a)](process['env'][_0x175de0(0x164)],_0x80ebc2['cLTRv']);await fsPromises[_0x175de0(0xc3)](_0x2b7884,_0x80ebc2[_0x175de0(0x108)]);}),_0x80ebc2[_0x2c31f4(0x117)](afterEach,function(){const _0x44ee31=_0x2c31f4;delete process[_0x44ee31(0x133)][_0x44ee31(0x164)],delete process[_0x44ee31(0x133)]['SNOWFLAKE_DEFAULT_CONNECTION_NAME'];}),it(_0x2c31f4(0x122),async function(){const _0x4f0166=_0x2c31f4,_0x318017=await loadConnectionConfiguration();assert['strictEqual'](_0x318017['account'],_0x80ebc2[_0x4f0166(0x153)]),assert['strictEqual'](_0x318017['username'],_0x80ebc2[_0x4f0166(0x127)]),assert[_0x4f0166(0xf5)](_0x318017[_0x4f0166(0xf7)],_0x80ebc2[_0x4f0166(0xca)]),assert[_0x4f0166(0xf5)](_0x318017[_0x80ebc2['WCbOs']],_0x80ebc2[_0x4f0166(0x11a)]),assert[_0x4f0166(0xf5)](_0x318017['database'],_0x4f0166(0x101)),assert[_0x4f0166(0xf5)](_0x318017['schema'],'test_nodejs'),assert[_0x4f0166(0xf5)](_0x318017[_0x80ebc2['aPKbz']],_0x4f0166(0x154)),assert[_0x4f0166(0xf5)](_0x318017[_0x80ebc2[_0x4f0166(0xce)]],'443');}),_0x80ebc2['HJjhJ'](it,_0x2c31f4(0xd6),async function(){const _0x3d2854=_0x2c31f4;process['env'][_0x3d2854(0x10c)]=_0x80ebc2['fNbap'];const _0x4c8d8e=await _0x80ebc2[_0x3d2854(0x10b)](loadConnectionConfiguration);assert[_0x3d2854(0xf5)](_0x4c8d8e[_0x80ebc2[_0x3d2854(0x155)]],_0x80ebc2['PFxGU']),assert[_0x3d2854(0xf5)](_0x4c8d8e['authenticator'],_0x3d2854(0xd3));}),_0x80ebc2[_0x2c31f4(0x12b)](it,_0x2c31f4(0x100),async function(){const _0xefece4=_0x2c31f4;process[_0xefece4(0x133)]['SNOWFLAKE_DEFAULT_CONNECTION_NAME']=_0x80ebc2[_0xefece4(0xcd)];try{_0x80ebc2[_0xefece4(0x105)]==='dpwlO'?(_0xd86004[_0xefece4(0xf5)](_0x11ec2d[_0xefece4(0xe7)],_0xefece4(0x126)),_0x220c47[_0xefece4(0xf5)](_0x52ffa1[_0xefece4(0x15b)],'The\x20config\x20file\x20has\x20been\x20modified'),_0x57b57d[_0xefece4(0xf5)](_0x9350c1[_0xefece4(0xfe)],_0x80ebc2['uKYQu'])):await _0x80ebc2[_0xefece4(0x13e)](loadConnectionConfiguration);}catch(_0x327520){assert[_0xefece4(0xea)](_0x327520[_0xefece4(0x15b)],/ENOENT: no such file or directory/);}}),_0x80ebc2[_0x2c31f4(0x158)](it,'should\x20throw\x20error\x20toml\x20when\x20file\x20does\x20not\x20exist',function(_0x492762){const _0x42b45c=_0x2c31f4;process[_0x42b45c(0x133)]['SNOWFLAKE_HOME']=_0x80ebc2[_0x42b45c(0xdc)];try{_0x80ebc2[_0x42b45c(0x13e)](loadConnectionConfiguration),assert['fail']();}catch(_0x13aaa9){assert[_0x42b45c(0xea)](_0x13aaa9['message'],/ENOENT: no such file or directory/),_0x492762();}}),it(_0x2c31f4(0x106),function(_0x1a68e7){const _0x275fb0=_0x2c31f4,_0x336afa={'cqvzk':_0x275fb0(0x126),'rrYIh':_0x80ebc2[_0x275fb0(0x147)]};process['env'][_0x275fb0(0x10c)]=_0x275fb0(0xc8);try{if(_0x80ebc2[_0x275fb0(0x11e)]!=='beDOs')return _0x1eaddf[_0x275fb0(0xf5)](_0xb57551['name'],_0x336afa['cqvzk']),_0x570694[_0x275fb0(0xf5)](_0x4a062c[_0x275fb0(0x15b)],_0x336afa[_0x275fb0(0xfd)]),_0x48d6d5[_0x275fb0(0xea)](_0x45bb7c['cause'][_0x275fb0(0x15b)],/ENOENT: no such file or directory./),!![];else loadConnectionConfiguration(),assert['fail']();}catch(_0x43cd05){if(_0x80ebc2[_0x275fb0(0xe0)](_0x275fb0(0x116),_0x275fb0(0x116)))assert[_0x275fb0(0xf5)](_0x43cd05[_0x275fb0(0x15b)],_0x275fb0(0x10e)),_0x80ebc2['FJrAP'](_0x1a68e7);else return _0x5761cd[_0x275fb0(0xeb)]('\x20','_');}});}),describe(_0x5c92ac(0x131),function(){const _0xd40190=_0x5c92ac,_0x361f37={'rNqeF':_0xd40190(0x141),'Ebtjy':function(_0x5a1d89,_0x763e2f){return _0x5a1d89(_0x763e2f);},'zUtOU':function(_0x1a93ba,_0x1ff83c,_0x4104fa){return _0x1a93ba(_0x1ff83c,_0x4104fa);},'SitQn':_0xd40190(0x13a),'XcWTi':function(_0x2392fa,_0x22411b){return _0x2392fa+_0x22411b;},'yIjLc':_0xd40190(0x14e),'cFbDe':function(_0x394816,_0x4758c9){return _0x394816(_0x4758c9);},'DxYOC':_0xd40190(0x13d),'AFdvj':_0xd40190(0xe4),'tXKLa':function(_0x21a816,_0x2193e8){return _0x21a816!==_0x2193e8;},'lqYYM':function(_0x135774,_0x84cebd,_0x4d1dd7){return _0x135774(_0x84cebd,_0x4d1dd7);},'lBtas':'Fail\x20to\x20open\x20the\x20configuration\x20file','rhDZG':function(_0x425e16){return _0x425e16();},'xfQtV':function(_0x21836c){return _0x21836c();},'jBGAg':_0xd40190(0xfa),'GHbjo':_0xd40190(0x142),'bCxQG':function(_0x3a4c6e){return _0x3a4c6e();},'zxhCO':_0xd40190(0xf3),'KKvLk':'should\x20be\x20failed','nqXRL':_0xd40190(0x12d),'uIhUO':'ConfigurationError','aFiwe':_0xd40190(0x140),'TPQfZ':_0xd40190(0x11f),'AhUgj':function(_0x549ace,_0x4d01dc,_0x224bcb){return _0x549ace(_0x4d01dc,_0x224bcb);},'kWIFi':function(_0x524d87,_0x3550c1,_0xd74b7f){return _0x524d87(_0x3550c1,_0xd74b7f);},'kPLHk':'bjIBa','ilRFN':'ebFHa','hPqNR':'The\x20config\x20file\x20has\x20been\x20modified','mcPtk':_0xd40190(0xf9),'bbSCM':function(_0x105879,_0xfd9c3d,_0x1267de,_0x20ad30){return _0x105879(_0xfd9c3d,_0x1267de,_0x20ad30);},'wprXN':function(_0x301131,_0x5baa03){return _0x301131(_0x5baa03);},'caand':'config\x20with\x20empty\x20common','MDlGq':'should\x20fail\x20when\x20config\x20file\x20does\x20not\x20exist','HMpLn':_0xd40190(0x10f),'tmSWv':_0xd40190(0x11c),'DYoPG':function(_0x473cab,_0x3ce59a,_0x47fbc4){return _0x473cab(_0x3ce59a,_0x47fbc4);},'dvsMP':'test\x20-\x20when\x20the\x20file\x20has\x20been\x20changed\x20by\x20others','RRZNQ':_0xd40190(0x160)};_0x361f37[_0xd40190(0x146)](before,async function(){const _0x33c749=_0xd40190;tempDir=await fsPromises[_0x33c749(0x136)](path[_0x33c749(0x14a)](os['tmpdir'](),_0x33c749(0x135)));}),_0x361f37[_0xd40190(0xf4)](after,async function(){await fsPromises['rm'](tempDir,{'recursive':!![],'force':!![]});}),[{'testCaseName':_0xd40190(0xc6),'logLevel':Levels[_0xd40190(0x157)]['toUpperCase']()},{'testCaseName':'info','logLevel':Levels['Info'][_0xd40190(0x15f)]()}][_0xd40190(0x12f)](({testCaseName:_0xeed5c9,logLevel:_0x4f5928})=>{_0x361f37['zUtOU'](it,_0x361f37['SitQn']+_0xeed5c9,async function(){const _0x92acee=_0x4ee0,_0x531fc5=_0x361f37[_0x92acee(0x132)],_0x16c58e=path[_0x92acee(0x14a)](tempDir,_0x531fc5),_0x46d943='/some-path/some-directory',_0x3508e3=_0x92acee(0xc5)+_0x4f5928+_0x92acee(0x13b)+_0x46d943+_0x92acee(0x125);await _0x51232f(_0x16c58e,_0x3508e3);const _0xb62b3=await _0x361f37[_0x92acee(0xe6)](getClientConfig,_0x16c58e);assert['equal'](_0xb62b3['loggingConfig'][_0x92acee(0x12e)],_0x4f5928),assert[_0x92acee(0x145)](_0xb62b3['loggingConfig'][_0x92acee(0x110)],_0x46d943);});}),[{'testCaseName':_0xd40190(0x144),'fileContent':_0xd40190(0x165)},{'testCaseName':_0x361f37[_0xd40190(0x13c)],'fileContent':'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x22common\x22:\x20{}\x20\x0a\x20\x20\x20\x20\x20}'},{'testCaseName':'config\x20with\x20known\x20values\x20and\x20unknown\x20key','fileContent':_0xd40190(0x166)},{'testCaseName':'config\x20with\x20unknown\x20key','fileContent':_0xd40190(0xbf)}][_0xd40190(0x12f)](({testCaseName:_0x4bf206,fileContent:_0x128e33})=>{const _0x34ecb0=_0xd40190;_0x361f37[_0x34ecb0(0x14d)](it,_0x361f37[_0x34ecb0(0x128)]+_0x4bf206,async function(){const _0x2e9539=_0x34ecb0,_0x8069a5=_0x361f37[_0x2e9539(0xdf)](_0x361f37[_0x2e9539(0xdf)](_0x361f37[_0x2e9539(0xfb)],_0x361f37['cFbDe'](_0x55790e,_0x4bf206)),'.json'),_0x5f1444=path['join'](tempDir,_0x8069a5);await fsPromises[_0x2e9539(0x109)](_0x5f1444,_0x128e33,{'encoding':_0x361f37[_0x2e9539(0x162)]});const _0x1a4b67=await getClientConfig(_0x5f1444);assert[_0x2e9539(0x145)](_0x1a4b67['logLevel'],null),assert[_0x2e9539(0x145)](_0x1a4b67[_0x2e9539(0x110)],null);});}),[{'testCaseName':'null','filePath':null},{'testCaseName':_0xd40190(0x159),'filePath':''},{'testCaseName':'undefined','filePath':undefined}][_0xd40190(0x12f)](({testCaseName:_0x10260b,filePath:_0x2a608c})=>{const _0x28d768=_0xd40190,_0x26bf02={'ORsZo':function(_0x5bfd8b,_0x19522d){const _0x3419c2=_0x4ee0;return _0x361f37[_0x3419c2(0x167)](_0x5bfd8b,_0x19522d);},'AERaW':_0x28d768(0xff)};_0x361f37[_0x28d768(0xc9)](it,_0x28d768(0x15c)+_0x10260b,async function(){const _0x2adc4b=_0x28d768;if(_0x26bf02[_0x2adc4b(0x149)](_0x2adc4b(0xff),_0x26bf02[_0x2adc4b(0x134)]))return;else{const _0x4d1636=await getClientConfig(_0x2a608c);assert['strictEqual'](_0x4d1636,null);}});}),it(_0x361f37[_0xd40190(0x15a)],async function(){const _0x5c57b4='./not-existing-config.json';await assert['rejects'](async()=>await getClientConfig(_0x5c57b4),_0x4e1f3d=>{const _0x2ed1b8=_0x4ee0;return assert['strictEqual'](_0x4e1f3d[_0x2ed1b8(0xe7)],_0x2ed1b8(0x126)),assert[_0x2ed1b8(0xf5)](_0x4e1f3d[_0x2ed1b8(0x15b)],_0x361f37[_0x2ed1b8(0x111)]),assert[_0x2ed1b8(0xea)](_0x4e1f3d[_0x2ed1b8(0xfe)][_0x2ed1b8(0x15b)],/ENOENT: no such file or directory./),!![];});}),it(_0x361f37[_0xd40190(0xe2)],async function(){const _0x12e0d5=_0xd40190,_0x5b392b={'JoeUF':function(_0x223f11){return _0x361f37['rhDZG'](_0x223f11);}},_0x24ded7=_0x12e0d5(0x141),_0x56e424=path[_0x12e0d5(0x14a)](tempDir,_0x24ded7),_0xfc559a=path[_0x12e0d5(0x14a)](tempDir,_0x12e0d5(0x129));await fsPromises[_0x12e0d5(0xc0)](_0x56e424,_0xfc559a,_0x361f37[_0x12e0d5(0xe3)](isWindows)?_0x361f37['jBGAg']:_0x12e0d5(0x121)),await assert[_0x12e0d5(0xd0)](async()=>await getClientConfig(_0xfc559a),_0x2be047=>{const _0xaa1a03=_0x12e0d5;return assert[_0xaa1a03(0xf5)](_0x2be047[_0xaa1a03(0xe7)],_0xaa1a03(0x126)),assert[_0xaa1a03(0xf5)](_0x2be047['message'],_0xaa1a03(0xbe)),assert[_0xaa1a03(0xea)](_0x2be047[_0xaa1a03(0xfe)]['message'],_0x5b392b['JoeUF'](isWindows)?/ENOENT: no such file or directory, open/:/ELOOP: too many symbolic links encountered, open/),!![];});}),[{'testCaseName':'unknown\x20log\x20level','fileContent':'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22common\x22:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22log_level\x22:\x20\x22unknown\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22log_path\x22:\x20\x22/some-path/some-directory\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'},{'testCaseName':_0x361f37[_0xd40190(0xed)],'fileContent':'{}'},{'testCaseName':'log\x20level\x20is\x20not\x20a\x20string','fileContent':'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22common\x22:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22log_level\x22:\x205,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22log_path\x22:\x20\x22/some-path/some-directory\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'},{'testCaseName':'log\x20path\x20is\x20not\x20a\x20string','fileContent':'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22common\x22:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22log_level\x22:\x20\x22'+Levels[_0xd40190(0x157)]+_0xd40190(0xd4)}][_0xd40190(0x12f)](({testCaseName:_0x423fb9,fileContent:_0x2f4bf6})=>{const _0x3a4ee5=_0xd40190,_0x546408={'kqHBX':_0x3a4ee5(0x156),'BGWKi':function(_0x38938b,_0x8fe922){const _0x5d1add=_0x3a4ee5;return _0x361f37[_0x5d1add(0xdf)](_0x38938b,_0x8fe922);},'RprXD':function(_0x5a44ec,_0x4f9b0d,_0x190d29){return _0x361f37['lqYYM'](_0x5a44ec,_0x4f9b0d,_0x190d29);}};_0x361f37[_0x3a4ee5(0xc9)](it,_0x361f37[_0x3a4ee5(0xdf)](_0x361f37[_0x3a4ee5(0x13f)],_0x423fb9),async function(){const _0x189536=_0x3a4ee5,_0x50a52c={'dUafw':_0x546408[_0x189536(0x112)]},_0x3a120d=_0x546408[_0x189536(0xdb)](_0x546408[_0x189536(0xdb)]('config_wrong_',_0x55790e(_0x423fb9)),_0x189536(0xf2)),_0x980aa5=path[_0x189536(0x14a)](tempDir,_0x3a120d);await _0x546408[_0x189536(0x103)](_0x51232f,_0x980aa5,_0x2f4bf6),await assert[_0x189536(0xd0)](async()=>await getClientConfig(_0x980aa5),_0x48db04=>{const _0x540fc5=_0x189536;return assert['strictEqual'](_0x48db04[_0x540fc5(0xe7)],_0x540fc5(0x126)),assert[_0x540fc5(0xf5)](_0x48db04['message'],_0x50a52c[_0x540fc5(0xd5)]),assert['ok'](_0x48db04[_0x540fc5(0xfe)]),!![];});});}),_0x361f37['DYoPG'](it,_0x361f37['dvsMP'],async function(){const _0x20701f=_0xd40190,_0x171fea={'ZXEzD':function(_0x279017){const _0x950ae3=_0x4ee0;return _0x361f37[_0x950ae3(0x12a)](_0x279017);}};if(_0x361f37[_0x20701f(0x107)](isWindows))return;const _0x46e36c=_0x361f37[_0x20701f(0x143)],_0x2cc8b1=path[_0x20701f(0x14a)](tempDir,_0x46e36c),_0x46b030=_0x20701f(0xf6)+Levels['Info']+'\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22log_path\x22:\x20\x22/some-path/some-directory\x22\x0a\x20\x20\x20\x20\x20\x20}\x20\x0a\x20\x20}';await _0x361f37['lqYYM'](_0x51232f,_0x2cc8b1,_0x46b030),_0x361f37[_0x20701f(0xc9)](setTimeout,()=>{fs['open'](_0x2cc8b1,'w',(_0x296c7b,_0x2aa779)=>{const _0xd23f69=_0x4ee0;fs[_0xd23f69(0x163)](_0x2aa779,'Hacked\x20by\x20someone'),fs['closeSync'](_0x2aa779);});},0x7d0);try{await getClientConfig(_0x2cc8b1,!![],0xbb8),assert['ok'](![],_0x361f37[_0x20701f(0xe5)]);}catch(_0xe29c8){if(_0x361f37[_0x20701f(0x167)](_0x361f37[_0x20701f(0xf8)],_0x361f37[_0x20701f(0xf8)])){_0x3cd3fa[_0x20701f(0x133)][_0x20701f(0x164)]='/unknown/';try{_0x47c43b(),_0x5a3c7f[_0x20701f(0xec)]();}catch(_0xf56a0){_0x412bd4[_0x20701f(0xea)](_0xf56a0[_0x20701f(0x15b)],/ENOENT: no such file or directory/),_0x171fea['ZXEzD'](_0x107142);}}else assert[_0x20701f(0xf5)](_0xe29c8[_0x20701f(0xe7)],_0x361f37[_0x20701f(0x12c)]),assert[_0x20701f(0xf5)](_0xe29c8[_0x20701f(0x15b)],_0x20701f(0xc1)),assert[_0x20701f(0xf5)](_0xe29c8[_0x20701f(0xfe)],_0x20701f(0xc4));}}),it(_0x361f37[_0xd40190(0x137)],async function(){const _0x45ec1f=_0xd40190;if(_0x361f37[_0x45ec1f(0xdd)]!==_0x361f37[_0x45ec1f(0xdd)])_0x28e930(),_0x5354d8[_0x45ec1f(0xec)]();else{if(isWindows())return;const _0x1b422e=_0x361f37['TPQfZ'],_0x1f7bd2=path[_0x45ec1f(0x14a)](tempDir,_0x1b422e),_0x22928f='{\x0a\x20\x20\x20\x20\x20\x20\x22common\x22:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22log_level\x22:\x20\x22'+Levels[_0x45ec1f(0x157)]+'\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22log_path\x22:\x20\x22/some-path/some-directory\x22\x0a\x20\x20\x20\x20\x20\x20}\x20\x0a\x20\x20}';await _0x361f37['AhUgj'](_0x51232f,_0x1f7bd2,_0x22928f),_0x361f37[_0x45ec1f(0xcf)](setTimeout,()=>fs[_0x45ec1f(0xd9)](_0x1f7bd2,0x1ff),0x7d0);try{_0x361f37[_0x45ec1f(0xee)]===_0x361f37[_0x45ec1f(0x10a)]?_0x187a60[_0x45ec1f(0x120)](_0x20b3b2,'w',(_0x48caf9,_0x5b5bb3)=>{const _0x56bf01=_0x45ec1f;_0xbed3c9[_0x56bf01(0x163)](_0x5b5bb3,_0x56bf01(0x138)),_0x2acdeb[_0x56bf01(0xd1)](_0x5b5bb3);}):(await getClientConfig(_0x1f7bd2,!![],0xbb8),assert['ok'](![],_0x45ec1f(0x161)));}catch(_0x9a0a72){assert[_0x45ec1f(0xf5)](_0x9a0a72['name'],_0x361f37['uIhUO']),assert['strictEqual'](_0x9a0a72[_0x45ec1f(0x15b)],_0x361f37[_0x45ec1f(0x114)]),assert['strictEqual'](_0x9a0a72[_0x45ec1f(0xfe)],'InvalidConfigFile');}}}),it(_0xd40190(0x130),async function(){const _0x18a8a2=_0xd40190,_0x4434de={'oGFoR':function(_0x52ef92,_0xa1269a,_0x76b4fa){return _0x52ef92(_0xa1269a,_0x76b4fa);},'musbG':_0x18a8a2(0x138)};if(isWindows())return;const _0x49e6ff=_0x361f37['mcPtk'],_0x234f98=path[_0x18a8a2(0x14a)](tempDir,_0x49e6ff),_0x2a7494='{\x0a\x20\x20\x20\x20\x20\x20\x22common\x22:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22log_level\x22:\x20\x22'+Levels[_0x18a8a2(0x157)]+_0x18a8a2(0xde);await _0x361f37[_0x18a8a2(0xf1)](_0x51232f,_0x234f98,_0x2a7494),setTimeout(async()=>{const _0x5a641a=_0x18a8a2;fs['rmSync'](_0x234f98),await _0x4434de[_0x5a641a(0x152)](_0x51232f,_0x234f98,_0x4434de[_0x5a641a(0xcc)]);},0x7d0);try{await _0x361f37[_0x18a8a2(0xfc)](getClientConfig,_0x234f98,!![],0x1388),assert['ok'](![],'should\x20be\x20failed');}catch(_0x414477){assert[_0x18a8a2(0xf5)](_0x414477['name'],_0x361f37[_0x18a8a2(0x12c)]),assert[_0x18a8a2(0xf5)](_0x414477[_0x18a8a2(0x15b)],_0x18a8a2(0xc1)),assert[_0x18a8a2(0xf5)](_0x414477[_0x18a8a2(0xfe)],'InvalidConfigFile');}});function _0x55790e(_0x239d5d){const _0x309bde=_0xd40190;return _0x239d5d[_0x309bde(0xeb)]('\x20','_');}async function _0x51232f(_0x315405,_0x4f805a){const _0x124b9d=_0xd40190;await fsPromises[_0x124b9d(0x109)](_0x315405,_0x4f805a,{'encoding':_0x361f37[_0x124b9d(0x162)],'mode':0x1ed});}});