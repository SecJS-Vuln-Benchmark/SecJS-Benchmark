const _0x1fd92d=_0x1ec7;(function(_0x609ef3,_0x22c47f){const _0x1f72d7=_0x1ec7,_0x3f29b9=_0x609ef3();while(!![]){try{const _0x31bd5a=parseInt(_0x1f72d7(0xf2))/0x1*(parseInt(_0x1f72d7(0x124))/0x2)+-parseInt(_0x1f72d7(0x10f))/0x3+-parseInt(_0x1f72d7(0x11c))/0x4*(-parseInt(_0x1f72d7(0x12b))/0x5)+parseInt(_0x1f72d7(0x114))/0x6*(-parseInt(_0x1f72d7(0xf9))/0x7)+-parseInt(_0x1f72d7(0xf1))/0x8*(parseInt(_0x1f72d7(0xfc))/0x9)+parseInt(_0x1f72d7(0x135))/0xa+parseInt(_0x1f72d7(0xf3))/0xb*(parseInt(_0x1f72d7(0x102))/0xc);if(_0x31bd5a===_0x22c47f)break;else _0x3f29b9['push'](_0x3f29b9['shift']());}catch(_0x2fc716){_0x3f29b9['push'](_0x3f29b9['shift']());}}}(_0x9641,0xad491));const os=require('os'),path=require(_0x1fd92d(0x128)),fsPromises=require(_0x1fd92d(0xf6)),fs=require('fs'),{logTagToLevel}=require(_0x1fd92d(0x134)),{ConfigurationUtil,Levels}=require(_0x1fd92d(0x107)),Logger=require('../logger'),{isFileModeCorrect}=require(_0x1fd92d(0x127)),{exists}=require(_0x1fd92d(0x138)),clientConfiguration=new ConfigurationUtil(),getClientConfig=clientConfiguration[_0x1fd92d(0x108)];let initTrialParameters;exports['init']=async function(_0x20c87b){const _0x3049d=_0x1fd92d,_0x14650b={'gbOMy':'Log\x20directory:\x20%s\x20could\x20potentially\x20be\x20accessed\x20by\x20others','nctER':_0x3049d(0x11b),'qoBiM':function(_0x29632c,_0x84b654){return _0x29632c===_0x84b654;},'lBmzn':_0x3049d(0x109),'gWrPj':'Trying\x20to\x20initialize\x20Easy\x20Logging','vKSsU':function(_0x536aaf,_0x58f4de){return _0x536aaf(_0x58f4de);},'LiZro':_0x3049d(0xfe),'mncIN':function(_0x11167d,_0x1cf4a0){return _0x11167d(_0x1cf4a0);},'MVGUc':_0x3049d(0x117),'mlKkX':_0x3049d(0xfa),'WjnOk':function(_0x510217,_0x22f123){return _0x510217+_0x22f123;},'iAbNu':_0x3049d(0x115),'LNsUb':_0x3049d(0x111)};try{if(_0x3049d(0x11b)!==_0x14650b[_0x3049d(0x105)]){_0xa57bf[_0x3049d(0x10a)]()[_0x3049d(0x116)]('Easy\x20Logging\x20is\x20disabled\x20as\x20no\x20config\x20has\x20been\x20found'),_0x5c1011={'configFilePathFromConnectionString':_0x2e769d};return;}else{if(!allowedToInitialize(_0x20c87b)){if(_0x14650b[_0x3049d(0xed)](_0x14650b['lBmzn'],'jSGCa'))return;else _0x39af97[_0x3049d(0x10a)]()[_0x3049d(0x110)](_0x14650b[_0x3049d(0x12d)],_0x577505);}Logger[_0x3049d(0x10a)]()[_0x3049d(0x116)](_0x14650b[_0x3049d(0x130)]);const _0x15493d=await _0x14650b['vKSsU'](getClientConfig,_0x20c87b);if(!_0x15493d){Logger['getInstance']()[_0x3049d(0x116)](_0x14650b[_0x3049d(0x106)]),initTrialParameters={'configFilePathFromConnectionString':_0x20c87b};return;}const _0x4df4e3=_0x14650b['mncIN'](mapLogLevel,_0x15493d),_0x31fa7f=await _0x14650b[_0x3049d(0xfb)](getLogPath,_0x15493d),_0x1d6adc=Logger[_0x3049d(0x10a)]();_0x1d6adc['info'](_0x14650b[_0x3049d(0xf0)],_0x31fa7f,_0x15493d[_0x3049d(0x132)]['logLevel'],_0x15493d['configPath']),_0x1d6adc[_0x3049d(0x131)]({'level':_0x4df4e3,'filePath':path[_0x3049d(0x121)](_0x31fa7f,_0x14650b[_0x3049d(0x10b)]),'additionalLogToConsole':![]}),_0x1d6adc[_0x3049d(0x10c)]=_0x14650b['WjnOk'](_0x1d6adc['easyLoggingConfigureCounter']??0x0,0x1),initTrialParameters={'configFilePathFromConnectionString':_0x20c87b};}}catch(_0xa186b4){if(_0x14650b[_0x3049d(0xed)](_0x14650b[_0x3049d(0x122)],_0x14650b[_0x3049d(0x12f)]))throw new _0x2e0651('Failed\x20to\x20create\x20the\x20directory\x20for\x20logs:\x20'+_0x3725be);else{const _0x37bfc2=new EasyLoggingError(_0x3049d(0x129),_0xa186b4);Logger[_0x3049d(0x10a)]()[_0x3049d(0x12a)](_0x37bfc2);throw _0x37bfc2;}}},exports[_0x1fd92d(0xf5)]=function(){const _0x5e0a99=_0x1fd92d;initTrialParameters=undefined,Logger[_0x5e0a99(0x10a)]()['easyLoggingConfigureCounter']=undefined;};function allowedToInitialize(_0x1f9c53){const _0x12b268=_0x1fd92d,_0x4d59bf={'IkeoK':function(_0x278bbd,_0x295410){return _0x278bbd!==_0x295410;}},_0x2888d5=!!initTrialParameters,_0xb7865e=_0x2888d5&&initTrialParameters[_0x12b268(0x11f)]==null,_0x285b3d=!!_0x1f9c53,_0x43b325=!_0x2888d5||_0xb7865e&&_0x285b3d;return!_0x43b325&&_0x4d59bf[_0x12b268(0x101)](initTrialParameters[_0x12b268(0x11f)],_0x1f9c53)&&Logger[_0x12b268(0x10a)]()['warn'](_0x12b268(0x11d)+_0x1f9c53+_0x12b268(0xfd)),_0x43b325;}function _0x9641(){const _0x138128=['Off','join','iAbNu','logLevel','2BElfvT','NwDqU','Log\x20directory:\x20%s\x20could\x20potentially\x20be\x20accessed\x20by\x20others','../file_util','path','Failed\x20to\x20initialize\x20easy\x20logging','error','5nYkjXd','Home\x20directory\x20does\x20not\x20exist','gbOMy','cause','LNsUb','gWrPj','configure','loggingConfig','homedir','./core','1725450kAtqqa','Failed\x20to\x20convert\x20configuration\x20log\x20level\x20into\x20internal\x20one','catch','../util','qoBiM','toString','LogLevel\x20in\x20client\x20config\x20not\x20found.\x20Using\x20default\x20value:\x20OFF','MVGUc','176kUvDfY','785333NszeAh','11VmeCNv','SDJEE','reset','fs/promises','mAtnb','mMhZj','49vDATGh','snowflake.log','vKSsU','433638zKoKBX','\x20because\x20it\x20was\x20previously\x20configured\x20for\x20a\x20different\x20client\x20config','Easy\x20Logging\x20is\x20disabled\x20as\x20no\x20config\x20has\x20been\x20found','nodejs','gQPiJ','IkeoK','9564684WSBxvF','name','logPath','nctER','LiZro','../configuration/client_configuration','getClientConfig','jSGCa','getInstance','mlKkX','easyLoggingConfigureCounter','mkdir','Failed\x20to\x20create\x20the\x20directory\x20for\x20logs:\x20','788589loRgQz','warn','NPRdS','captureStackTrace','then','647730RlGYFv','DHUYD','info','Initializing\x20Easy\x20Logging\x20with\x20logPath=%s\x20and\x20logLevel=%s\x20from\x20file:\x20%s','gGfen','message','EasyLoggingError','poypN','4133576dBjUKY','Easy\x20logging\x20will\x20not\x20be\x20configured\x20for\x20CLIENT_CONFIG_FILE=','constants','configFilePathFromConnectionString'];_0x9641=function(){return _0x138128;};return _0x9641();}function _0x1ec7(_0x180532,_0x3693ef){const _0x964104=_0x9641();return _0x1ec7=function(_0x1ec7f5,_0x4c6513){_0x1ec7f5=_0x1ec7f5-0xed;let _0x59901f=_0x964104[_0x1ec7f5];return _0x59901f;},_0x1ec7(_0x180532,_0x3693ef);}function mapLogLevel(_0x405ae7){const _0x38c307=_0x1fd92d,_0x2ca726={'NwDqU':function(_0x5eeae8,_0x450c4b){return _0x5eeae8===_0x450c4b;},'gGfen':function(_0x36b8c3,_0x5c461f){return _0x36b8c3===_0x5c461f;},'mMhZj':_0x38c307(0x136)},_0x1e6677=getLogLevel(_0x405ae7),_0xc9ce8=logTagToLevel(_0x1e6677);if(_0x2ca726[_0x38c307(0x125)](_0xc9ce8,null)||_0x2ca726[_0x38c307(0x118)](_0xc9ce8,undefined))throw new Error(_0x2ca726[_0x38c307(0xf8)]);return _0xc9ce8;}function getLogLevel(_0x53fa4c){const _0x2a81c7=_0x1fd92d,_0x3a90c4=_0x53fa4c[_0x2a81c7(0x132)][_0x2a81c7(0x123)];if(!_0x3a90c4)return Logger[_0x2a81c7(0x10a)]()[_0x2a81c7(0x110)](_0x2a81c7(0xef)),Levels[_0x2a81c7(0x120)];return _0x3a90c4;}async function getLogPath(_0x486969){const _0x47014c=_0x1fd92d,_0x249399={'mAtnb':_0x47014c(0xef),'gQPiJ':_0x47014c(0xff)};let _0x25659b=_0x486969['loggingConfig'][_0x47014c(0x104)];if(!_0x25659b){Logger[_0x47014c(0x10a)]()[_0x47014c(0x110)]('LogPath\x20in\x20client\x20config\x20not\x20found.\x20Using\x20home\x20directory\x20as\x20a\x20default\x20value'),_0x25659b=os[_0x47014c(0x133)]();if(!exists(_0x25659b))throw new EasyLoggingError(_0x47014c(0x12c));}const _0x73d02a=path['join'](_0x25659b,_0x249399[_0x47014c(0x100)]);return await fsPromises['access'](_0x73d02a,fs[_0x47014c(0x11e)]['F_OK'])[_0x47014c(0x113)](async()=>{const _0x407239=_0x47014c;!await isFileModeCorrect(_0x73d02a,0x1c0,fsPromises)&&Logger['getInstance']()['warn'](_0x407239(0x126),_0x73d02a);})[_0x47014c(0x137)](async()=>{const _0xb3f32c=_0x47014c;try{await fsPromises[_0xb3f32c(0x10d)](_0x73d02a,{'recursive':!![],'mode':0x1c0});}catch(_0x78f833){if('SDJEE'!==_0xb3f32c(0xf4))return _0x33ef2f[_0xb3f32c(0x10a)]()[_0xb3f32c(0x110)](_0x249399[_0xb3f32c(0xf7)]),_0x595957[_0xb3f32c(0x120)];else throw new EasyLoggingError(_0xb3f32c(0x10e)+_0x73d02a);}}),_0x73d02a;}class EasyLoggingError extends Error{[_0x1fd92d(0x103)]=_0x1fd92d(0x11a);constructor(_0x2deb2b,_0x58bf29){const _0x5da212=_0x1fd92d;super(_0x2deb2b),this[_0x5da212(0x12e)]=_0x58bf29,Error[_0x5da212(0x112)](this,this['constructor']);}[_0x1fd92d(0xee)](){const _0x1386c9=_0x1fd92d;return this[_0x1386c9(0x119)]+':\x20'+this['cause']['toString']();}}