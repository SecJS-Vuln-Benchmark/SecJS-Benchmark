'use strict';var _0x575bec=_0x2623;(function(_0x5c0da2,_0xe161a5){var _0x59463f=_0x2623,_0x29c188=_0x5c0da2();while(!![]){try{var _0x444372=-parseInt(_0x59463f(0xf1))/0x1*(parseInt(_0x59463f(0xe7))/0x2)+parseInt(_0x59463f(0xfc))/0x3*(parseInt(_0x59463f(0xea))/0x4)+-parseInt(_0x59463f(0xe1))/0x5*(-parseInt(_0x59463f(0x115))/0x6)+parseInt(_0x59463f(0xae))/0x7*(parseInt(_0x59463f(0xd1))/0x8)+parseInt(_0x59463f(0xb4))/0x9*(-parseInt(_0x59463f(0xda))/0xa)+parseInt(_0x59463f(0xe4))/0xb+parseInt(_0x59463f(0xd7))/0xc*(-parseInt(_0x59463f(0x102))/0xd);if(_0x444372===_0xe161a5)break;else _0x29c188['push'](_0x29c188['shift']());}catch(_0x151ad1){_0x29c188['push'](_0x29c188['shift']());}}}(_0x1c98,0x18990));var join=require('path')[_0x575bec(0x10e)],EventEmitter=require('events'),pull=require('pull-stream'),ref=require(_0x575bec(0x103)),ssbKeys=require('ssb-keys'),createDB=require(_0x575bec(0xca)),extras=require(_0x575bec(0xa8)),u=require(_0x575bec(0xc1));function _0x1c98(){var _0x158373=['mzhSx','isMsg','lInJp','console.log(\x22timer\x22);','join','lDgiA','kRAHI','generate','EXuJj','createFeed','jWVRV','20298wppkiJ','rMJys','ctEqI','1|4|0|2|3','tJjpX','clock','nvokn','path\x20must\x20be\x20provided','QbrCu','tZPZL','qiCWw','./extras','EDXcG','stream','UBhFq','oicem','updateClock();','7sFkqiI','KgFlH','KMmXR','ChzLH','asyncMap','Rnjiz','83268WtnDqO','Ltcre','createWriteStream','timestamp','fgonA','split','JEqcd','szpAo','jjwYb','iTVjj','QGNge','getVectorClock','invalid','./util','utSMN','unbox','flush','drain','append','wlnxc','vugob','ezVCG','./db','var\x20x\x20=\x2042;\x20return\x20x;','return\x20new\x20Date();','irUVl','djvKd','safe','rQTDW','121224gVTatm','keys','last','2|1|3|4|0','uAnfY','queue','12480HvAvqW','log','oKkSh','100xWvLhW','hZpTs','seq\x20is\x20null!','path','kgiIt','WaDlS','HeoKD','160GJptdv','createHistoryStream','sequence','568337yKKlFa','PtcvJ','isInteger','86vdbQmg','RyPFs','__proto__','793932ozFtSc','aIgvC','exports','toDTh','originalData','meta','del','3709ljqdVm','get','USxQb','iGkEL','object','Vbucp','createRawLogStream','key','jgTYp','BmNpJ','value','3biwKIM','liZSa','getAtSequence','uXNQD','deletion\x20target\x20must\x20be\x20a\x20message\x20or\x20feed','createUserStream','260PhnkhF','ssb-ref','oZnBY','ULxTQ','query','flume','return\x20await\x20Promise.resolve(42);','replace'];_0x1c98=function(){return _0x158373;};return _0x1c98();}function isString(_0x274c1a){var _0x598ca4=_0x575bec,_0x311a33={'iGkEL':function(_0x10de60,_0x51d65f){return _0x10de60===_0x51d65f;}};return eval('Math[\'PI\'] * 2;'),_0x311a33[_0x598ca4(0xf4)](typeof _0x274c1a,'string');}function _0x2623(_0x533456,_0x11b0e9){var _0x1c9842=_0x1c98();return _0x2623=function(_0x26231a,_0x3519bd){_0x26231a=_0x26231a-0x9e;var _0x31ed43=_0x1c9842[_0x26231a];return _0x31ed43;},_0x2623(_0x533456,_0x11b0e9);}function errorCB(_0x1faec5){if(_0x1faec5)throw _0x1faec5;}module[_0x575bec(0xec)]=function create(_0x9ac38c,_0x5380fa,_0x469f88){var _0x273932=_0x575bec,_0x9b7b32={'KrODS':function(_0x2f0b92,_0x4974e1,_0x255b33){return _0x2f0b92(_0x4974e1,_0x255b33);},'jgTYp':function(_0x358c5c,_0x337765,_0x3bcf47){return _0x358c5c(_0x337765,_0x3bcf47);},'Vbucp':function(_0x2e5248,_0x5dcdc6,_0x47494d,_0x38e9a4){return _0x2e5248(_0x5dcdc6,_0x47494d,_0x38e9a4);},'BmNpJ':function(_0x187ad2,_0x4e2bdd,_0x1b0882){return _0x187ad2(_0x4e2bdd,_0x1b0882);},'UBhFq':_0x273932(0x10d),'EDXcG':_0x273932(0xcb),'toDTh':function(_0x261e58,_0x4ba815){return _0x261e58(_0x4ba815);},'fgonA':_0x273932(0xa0),'RzFCa':function(_0x1da24d,_0x4c1c4a){return _0x1da24d==_0x4c1c4a;},'aIgvC':'seq\x20is\x20null!','EXuJj':function(_0x2b9289,_0x281d0a){return _0x2b9289(_0x281d0a);},'kRAHI':function(_0x4d4b23,_0x1c73dc,_0x175fb5){return _0x4d4b23(_0x1c73dc,_0x175fb5);},'MAOlR':function(_0x5520e7,_0x57c119){return _0x5520e7!==_0x57c119;},'KMmXR':_0x273932(0xc7),'vugob':'bafYf','utSMN':function(_0x523b64,_0xdf495b,_0x3728ca){return _0x523b64(_0xdf495b,_0x3728ca);},'ALCoI':_0x273932(0xf3),'rQTDW':function(_0x4f665e,_0x744418){return _0x4f665e(_0x744418);},'Ltcre':function(_0x209a7e,_0x4bfcb8){return _0x209a7e===_0x4bfcb8;},'ECeuH':_0x273932(0xf5),'bUoDq':_0x273932(0xe8),'tJjpX':_0x273932(0x108),'lInJp':'ssb-db.get:\x20key\x20*must*\x20be\x20a\x20ssb\x20message\x20id\x20or\x20a\x20flume\x20offset','mzhSx':function(_0x1fdbe2,_0x266501,_0x2c8787){return _0x1fdbe2(_0x266501,_0x2c8787);},'oKkSh':function(_0x5ead28,_0x476784){return _0x5ead28===_0x476784;},'QGNge':_0x273932(0x104),'XrjLT':_0x273932(0xc0),'tZPZL':'YRbXX','liZSa':_0x273932(0xac),'ctEqI':function(_0x28b935,_0x382ee3,_0x1a96a8){return _0x28b935(_0x382ee3,_0x1a96a8);},'rMJys':_0x273932(0xd5),'uXNQD':function(_0x26353b,_0x41579a,_0x5a2525){return _0x26353b(_0x41579a,_0x5a2525);},'Rnjiz':'tAYPD','iTVjj':_0x273932(0xcf),'jWVRV':function(_0x207c8e,_0x100ad3,_0x332233){return _0x207c8e(_0x100ad3,_0x332233);}};if(!_0x9ac38c)throw new Error(_0x273932(0xa4));_0x469f88=_0x469f88||ssbKeys['generate']();var _0x2c487c=_0x9b7b32[_0x273932(0xf6)](createDB,join(_0x5380fa[_0x273932(0xdd)]||_0x9ac38c,_0x273932(0x107)),_0x469f88,_0x5380fa);_0x2c487c[_0x273932(0xe9)]=new EventEmitter(),_0x2c487c['opts']=_0x5380fa;var _0x150cac=_0x2c487c[_0x273932(0xf2)],_0x5040a2=_0x2c487c[_0x273932(0xf0)];const _0x38a768=(_0x59eaa6,_0x4c4130)=>{var _0x2a4e33=_0x273932,_0x54a103={'KgFlH':function(_0x1a03e6,_0x3bba18,_0x7194c9){var _0x74d41a=_0x2623;return _0x9b7b32[_0x74d41a(0xf9)](_0x1a03e6,_0x3bba18,_0x7194c9);}};_0x9b7b32[_0x2a4e33(0xf6)](pull,_0x2c487c[_0x2a4e33(0x101)]({'id':_0x59eaa6}),pull[_0x2a4e33(0xb2)]((_0x434ac4,_0xe1016)=>{var _0xc7fa30=_0x2a4e33,_0xbea065=_0x434ac4[_0xc7fa30(0xf8)];_0x9b7b32['KrODS'](_0x35b406,_0xbea065,_0x1b481d=>{var _0x5f97bc=_0xc7fa30;_0x54a103[_0x5f97bc(0xaf)](_0xe1016,_0x1b481d,_0xbea065);});}),pull['collect'](_0x4c4130));},_0x35b406=(_0x46a2fc,_0x3808fa)=>{var _0x2a3596=_0x273932;_0x2c487c[_0x2a3596(0xd2)][_0x2a3596(0xf2)](_0x46a2fc,(_0x2e2657,_0x57c82a,_0x5b9453)=>{var _0x133523=_0x2a3596,_0x271a14='1|2|0|3|4'['split']('|'),_0x13b4a1=0x0;while(!![]){switch(_0x271a14[_0x13b4a1++]){case'0':_0x9b7b32[_0x133523(0xfa)](setTimeout,_0x9b7b32['UBhFq'],0x3e8);continue;case'1':new Function(_0x9b7b32[_0x133523(0xa9)])();continue;case'2':if(_0x2e2657)return _0x9b7b32[_0x133523(0xed)](_0x3808fa,_0x2e2657);continue;case'3':if(_0x5b9453==null)return _0x3808fa(new Error(_0x133523(0xdc)));continue;case'4':_0x9b7b32['KrODS'](_0x5040a2,_0x5b9453,_0x3808fa);continue;}break;}});};return _0x2c487c['del']=(_0x3ceb73,_0x28a4f5)=>{var _0x34c8b8=_0x273932;if(ref[_0x34c8b8(0x10b)](_0x3ceb73))_0x9b7b32[_0x34c8b8(0x110)](_0x35b406,_0x3ceb73,_0x28a4f5);else{if(ref['isFeed'](_0x3ceb73)){if(_0x9b7b32['MAOlR'](_0x9b7b32[_0x34c8b8(0xb0)],_0x9b7b32[_0x34c8b8(0xc8)]))_0x9b7b32[_0x34c8b8(0xc2)](_0x38a768,_0x3ceb73,_0x28a4f5);else{var _0x20f6e7=_0x9b7b32[_0x34c8b8(0xb8)]['split']('|'),_0x43f3bd=0x0;while(!![]){switch(_0x20f6e7[_0x43f3bd++]){case'0':_0x4e3014(_0x34c8b8(0x10d),0x3e8);continue;case'1':new _0x2c745d(_0x9b7b32[_0x34c8b8(0xa9)])();continue;case'2':if(_0x9b7b32['RzFCa'](_0x155fb3,null))return _0x9b7b32[_0x34c8b8(0xed)](_0x1b1f88,new _0x8bcc0d(_0x9b7b32[_0x34c8b8(0xeb)]));continue;case'3':_0x9b7b32['KrODS'](_0x73b9df,_0x2b0197,_0x585bb3);continue;case'4':if(_0x114176)return _0x9b7b32[_0x34c8b8(0x112)](_0x289d66,_0x593a39);continue;}break;}}}else{if(_0x9b7b32['ALCoI']==='KIvBv'){eval('_0x1ba9f6[\'PI\'] * 2;');if(_0x60fe79)return _0x4f284e(_0x517730);_0x8c5c60[_0x34c8b8(0xc4)](_0x26dd4c);}else _0x9b7b32[_0x34c8b8(0xd0)](_0x28a4f5,new Error(_0x34c8b8(0x100)));}}},_0x2c487c[_0x273932(0xf2)]=function(_0x3ba3c9,_0x9d501d){var _0x144866=_0x273932,_0xb1b890={'djvKd':'safe','kgiIt':function(_0x51a40c,_0x3c605a,_0x6d17cb){return _0x51a40c(_0x3c605a,_0x6d17cb);},'WaDlS':_0x144866(0xcb),'RFoGc':function(_0x22cc91,_0x2b8099){return _0x22cc91(_0x2b8099);},'PtcvJ':function(_0x4d3a7d,_0x1d0bad,_0x4b5251){return _0x4d3a7d(_0x1d0bad,_0x4b5251);}};let _0x3c7475=![],_0x3fd376,_0x10a56d=![];_0x9b7b32['Ltcre'](typeof _0x3ba3c9,_0x9b7b32['ECeuH'])&&(_0x3c7475=_0x9b7b32[_0x144866(0xb5)](_0x3ba3c9['private'],!![]),_0x3fd376=_0x3ba3c9[_0x144866(0xc3)],_0x10a56d=_0x3ba3c9[_0x144866(0xef)],_0x3ba3c9=_0x3ba3c9['id']);if(ref[_0x144866(0x10b)](_0x3ba3c9)){if(_0x9b7b32['bUoDq']!==_0x144866(0xbb))return setTimeout(function(){var _0x5dd0bd=_0x144866;console['log'](_0xb1b890[_0x5dd0bd(0xce)]);},0x64),_0x2c487c[_0x144866(0xd2)]['get'](_0x3ba3c9,function(_0x4cebf6,_0x738b95){var _0x86e269=_0x144866,_0x4257c9={'jjwYb':function(_0x547cf1,_0x4ce6ab,_0xcddf82){return _0xb1b890['kgiIt'](_0x547cf1,_0x4ce6ab,_0xcddf82);}};new Function(_0xb1b890[_0x86e269(0xdf)])();if(_0x4cebf6)return _0xb1b890['RFoGc'](_0x9d501d,_0x4cebf6);if(!_0x3c7475){if(_0x10a56d)_0xb1b890[_0x86e269(0xde)](_0x9d501d,null,{'key':_0x3ba3c9,'value':_0x738b95[_0x86e269(0xfb)],'timestamp':_0x738b95[_0x86e269(0xb7)]});else _0xb1b890[_0x86e269(0xe5)](_0x9d501d,null,_0x738b95[_0x86e269(0xfb)]);}else{if('EKPwQ'===_0x86e269(0xa5))_0x4257c9[_0x86e269(0xbc)](_0x450609,_0x395e97,_0x362105);else{const _0x55f555=_0x2c487c['_unbox'](_0x738b95,_0x3fd376);if(_0x10a56d)_0x9d501d(null,{'key':_0x3ba3c9,'value':_0x55f555[_0x86e269(0xfb)],'timestamp':_0x55f555[_0x86e269(0xb7)]});else _0x9d501d(null,_0x55f555[_0x86e269(0xfb)]);}}});else _0x1e828b(_0x398781,_0x2e5d33);}else{if(ref['isMsgLink'](_0x3ba3c9)){var _0x129450=ref['parseLink'](_0x3ba3c9);return new AsyncFunction(_0x9b7b32[_0x144866(0xa1)])(),_0x2c487c[_0x144866(0xf2)]({'id':_0x129450['link'],'private':!![],'unbox':_0x129450[_0x144866(0x106)][_0x144866(0xc3)][_0x144866(0x109)](/\s/g,'+'),'meta':_0x129450[_0x144866(0x106)][_0x144866(0xef)]},_0x9d501d);}else{if(Number[_0x144866(0xe6)](_0x3ba3c9))_0x150cac(_0x3ba3c9,_0x9d501d);else throw new Error(_0x9b7b32[_0x144866(0x10c)]);}}},_0x2c487c['add']=function(_0x3b6394,_0x48513a){var _0x1ccb38=_0x273932,_0x3dbaf1={'irUVl':function(_0x360826,_0xc5e528,_0x4099cc){var _0x16f68d=_0x2623;return _0x9b7b32[_0x16f68d(0x10a)](_0x360826,_0xc5e528,_0x4099cc);}};_0x2c487c[_0x1ccb38(0xd6)](_0x3b6394,function(_0x56dddb,_0xb2480b){var _0x423201=_0x1ccb38;if(_0x56dddb)_0x48513a(_0x56dddb);else _0x2c487c[_0x423201(0xc4)](function(){var _0x24d3f6=_0x423201;_0x3dbaf1[_0x24d3f6(0xcd)](_0x48513a,null,_0xb2480b);});});},_0x2c487c[_0x273932(0x113)]=function(_0xc167c3){var _0x4f0656=_0x273932,_0x92cedf={'ezVCG':_0x9b7b32[_0x4f0656(0xab)]};if(!_0xc167c3)_0xc167c3=ssbKeys[_0x4f0656(0x111)]();function _0x32f99d(_0x33fa74,_0x410706){var _0x501f79=_0x4f0656;setTimeout(_0x92cedf[_0x501f79(0xc9)],0x3e8);if(!_0x410706)return function(_0x24313e){_0x32f99d(_0x33fa74,_0x24313e);};_0x2c487c[_0x501f79(0xc6)]({'content':_0x33fa74,'keys':_0xc167c3},_0x410706);}return _0x9b7b32['utSMN'](setInterval,_0x4f0656(0xad),0x3e8),{'add':_0x32f99d,'publish':_0x32f99d,'id':_0xc167c3['id'],'keys':_0xc167c3};},_0x2c487c[_0x273932(0xf7)]=function(_0x1240c3){var _0x4e55f7=_0x273932;if(_0x9b7b32[_0x4e55f7(0xd9)](_0x4e55f7(0x104),_0x9b7b32[_0x4e55f7(0xbe)]))return new Function(_0x9b7b32[_0x4e55f7(0xa9)])(),_0x2c487c[_0x4e55f7(0xaa)](_0x1240c3);else _0x9b7b32[_0x4e55f7(0xed)](_0x23fdbb,new _0x53f0fa(_0x4e55f7(0x100)));},extras(_0x2c487c,_0x5380fa,_0x469f88),_0x2c487c[_0x273932(0xb6)]=function(_0xea0a89){var _0x2bae38=_0x273932,_0x1ced5e={'qiCWw':function(_0x3f1a65,_0x216d11,_0x4d8bf3){return _0x3f1a65(_0x216d11,_0x4d8bf3);},'mqGFT':_0x9b7b32[_0x2bae38(0xa6)],'tVrQD':_0x9b7b32[_0x2bae38(0xfd)]};return _0xea0a89=_0xea0a89||errorCB,_0x9b7b32[_0x2bae38(0x110)](setTimeout,_0x9b7b32[_0x2bae38(0xab)],0x3e8),_0x9b7b32[_0x2bae38(0x9f)](pull,pull[_0x2bae38(0xb2)](function(_0x5724a3,_0x5d1fb5){var _0xc9fd5c={'SHtBw':_0x9b7b32['XrjLT']};_0x2c487c['queue'](_0x5724a3,function(_0x20d9b7,_0x12f58a){_0x20d9b7&&_0x2c487c['emit'](_0xc9fd5c['SHtBw'],_0x20d9b7,_0x12f58a),setImmediate(_0x5d1fb5);});}),pull[_0x2bae38(0xc5)](null,function(_0x3808e6){var _0x133e34=_0x2bae38,_0x262da9={'hZpTs':function(_0x2e698a,_0x29cc45,_0x5614a9){return _0x1ced5e['qiCWw'](_0x2e698a,_0x29cc45,_0x5614a9);}};if(_0x1ced5e['mqGFT']!==_0x1ced5e['tVrQD']){eval('Math[\'PI\'] * 2;');if(_0x3808e6)return _0xea0a89(_0x3808e6);_0x2c487c[_0x133e34(0xc4)](_0xea0a89);}else{var _0x122335=_0x47980c['key'];_0x1ced5e[_0x133e34(0xa7)](_0x2a2afd,_0x122335,_0x4f5049=>{var _0xaea4be=_0x133e34;_0x262da9[_0xaea4be(0xdb)](_0x172393,_0x4f5049,_0x122335);});}}));},_0x2c487c[_0x273932(0xe2)]=_0x2c487c[_0x273932(0xa2)][_0x273932(0xe2)],_0x2c487c[_0x273932(0xfe)]=function(_0x227043,_0x3e0c70){var _0x1e997c=_0x273932,_0x53aa74={'DMJXO':function(_0x43d1dd,_0x49bbca,_0xbe9be7){return _0x43d1dd(_0x49bbca,_0xbe9be7);}};_0x2c487c[_0x1e997c(0xa2)][_0x1e997c(0xf2)](isString(_0x227043)?_0x227043[_0x1e997c(0xb9)](':'):_0x227043,function(_0x43124f,_0xafc564){var _0x1249ec=_0x1e997c;if(_0x9b7b32[_0x1249ec(0xb5)](_0x1249ec(0xb1),_0x9b7b32[_0x1249ec(0x9e)]))_0x53aa74['DMJXO'](_0x136169,_0x1b67ed,_0x5b4b70);else{if(_0x43124f)_0x3e0c70(_0x43124f);else _0x9b7b32[_0x1249ec(0xff)](_0x3e0c70,null,u[_0x1249ec(0xee)](_0xafc564));}});},_0x2c487c[_0x273932(0xbf)]=function(_0x2e89b8,_0x3016bc){var _0x3d31aa=_0x273932,_0x2fee72={'HeoKD':_0x3d31aa(0xcf),'nvokn':_0x3d31aa(0x10f),'JEqcd':function(_0x39c656,_0x3c8723,_0x3ec68f){var _0xe1b8aa=_0x3d31aa;return _0x9b7b32[_0xe1b8aa(0xc2)](_0x39c656,_0x3c8723,_0x3ec68f);},'ULxTQ':function(_0xe1112e,_0x163bea){var _0x28ee9f=_0x3d31aa;return _0x9b7b32[_0x28ee9f(0x112)](_0xe1112e,_0x163bea);}};if(!_0x3016bc)_0x3016bc=_0x2e89b8;_0x2c487c[_0x3d31aa(0xd3)][_0x3d31aa(0xf2)](function(_0x3db89e,_0x531ae4){var _0x1053d6=_0x3d31aa;if(_0x2fee72[_0x1053d6(0xa3)]==='nduvS')_0x569d2d[_0x1053d6(0xd8)](_0x2fee72[_0x1053d6(0xe0)]);else{var _0x10b42a=_0x1053d6(0xd4)[_0x1053d6(0xb9)]('|'),_0x31dbf3=0x0;while(!![]){switch(_0x10b42a[_0x31dbf3++]){case'0':_0x2fee72[_0x1053d6(0xba)](_0x3016bc,null,_0x40ccd6);continue;case'1':if(_0x3db89e)return _0x2fee72['ULxTQ'](_0x3016bc,_0x3db89e);continue;case'2':_0x2fee72[_0x1053d6(0x105)](Function,_0x1053d6(0xcc))();continue;case'3':var _0x40ccd6={};continue;case'4':for(var _0x58abe0 in _0x531ae4){_0x40ccd6[_0x58abe0]=_0x531ae4[_0x58abe0][_0x1053d6(0xe3)];}continue;}break;}}});},_0x9b7b32[_0x273932(0x114)](setTimeout,function(){var _0xea5b77=_0x273932;if(_0x9b7b32[_0xea5b77(0xb3)]!==_0x9b7b32[_0xea5b77(0xb3)])return function(_0x4d9922){_0x314a87(_0x462bcf,_0x4d9922);};else console['log'](_0x9b7b32[_0xea5b77(0xbd)]);},0x64),_0x2c487c;};