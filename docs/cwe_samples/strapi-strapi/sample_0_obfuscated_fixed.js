function _0x27e9(_0x2b4fb6,_0x4310b7){const _0x50aa26=_0x50aa();return _0x27e9=function(_0x27e9ee,_0x4891f0){_0x27e9ee=_0x27e9ee-0x114;let _0x43248b=_0x50aa26[_0x27e9ee];return _0x43248b;},_0x27e9(_0x2b4fb6,_0x4310b7);}const _0x46d3ba=_0x27e9;(function(_0x48641e,_0x274d0f){const _0x47bc3d=_0x27e9,_0xe8406c=_0x48641e();while(!![]){try{const _0x33f751=-parseInt(_0x47bc3d(0x129))/0x1+-parseInt(_0x47bc3d(0x139))/0x2+parseInt(_0x47bc3d(0x165))/0x3+parseInt(_0x47bc3d(0x136))/0x4+-parseInt(_0x47bc3d(0x13f))/0x5+-parseInt(_0x47bc3d(0x17d))/0x6+-parseInt(_0x47bc3d(0x169))/0x7*(-parseInt(_0x47bc3d(0x14e))/0x8);if(_0x33f751===_0x274d0f)break;else _0xe8406c['push'](_0xe8406c['shift']());}catch(_0x22c431){_0xe8406c['push'](_0xe8406c['shift']());}}}(_0x50aa,0x6bd72));const assert=require('assert'),mock=require(_0x46d3ba(0x170)),SnowflakeAzureUtil=require('./../../../lib/file_transfer_agent/azure_util'),resultStatus=require(_0x46d3ba(0x140))[_0x46d3ba(0x14d)];describe('Azure\x20client',function(){const _0x5834df=_0x46d3ba,_0x294ff4={'JyEwV':function(_0xd077ce,_0x16c321){return _0xd077ce===_0x16c321;},'kzatE':_0x5834df(0x141),'PDOAB':function(_0x66d68c,_0x235d67){return _0x66d68c!==_0x235d67;},'JjMNa':_0x5834df(0x13a),'QJBVJ':function(_0x1d0999,_0x4ac1bd){return _0x1d0999(_0x4ac1bd);},'gWUcY':_0x5834df(0x160),'gebOz':_0x5834df(0x158),'QhtDf':function(_0x4a0e01,_0x33e2dc){return _0x4a0e01(_0x33e2dc);},'NDQWE':function(_0x295436,_0x4e4104,_0x11989d,_0x10ce32){return _0x295436(_0x4e4104,_0x11989d,_0x10ce32);},'vNQcP':_0x5834df(0x125),'OALMj':_0x5834df(0x135),'aoPTW':_0x5834df(0x117),'WNPRZ':_0x5834df(0x157),'vVysb':_0x5834df(0x173),'zrrQG':function(_0x1cf891,_0x575f10,_0x228556){return _0x1cf891(_0x575f10,_0x228556);},'luKIL':function(_0x49b5c3,_0x70725d,_0x419f6c){return _0x49b5c3(_0x70725d,_0x419f6c);},'vkaFW':function(_0x59d3b4,_0x41e3a7){return _0x59d3b4!==_0x41e3a7;},'AMNwg':_0x5834df(0x11c),'QIRRB':'dMwbD','xjcta':'resultStatus','YXfsW':function(_0x3beaa5,_0x46a1fc,_0x5406ac){return _0x3beaa5(_0x46a1fc,_0x5406ac);},'yhNMk':'unknown','GcBJv':'IVsTG','PFUhm':_0x5834df(0x183),'YULji':_0x5834df(0x120),'aTdVF':'mockPath','HgVPs':_0x5834df(0x11b),'gZoXr':'http://fakeaccount.snowflakecomputing.com','ZoSlc':function(_0x34f198,_0x39abeb){return _0x34f198+_0x39abeb;},'oDCRm':_0x5834df(0x17b),'LNoso':'get\x20file\x20header\x20-\x20success','Pbsmn':_0x5834df(0x137),'orBuy':_0x5834df(0x177),'ifAfS':function(_0x55124f,_0x1ef91b,_0x2eddce){return _0x55124f(_0x1ef91b,_0x2eddce);}},_0x14874f=_0x294ff4[_0x5834df(0x16a)],_0x54e40e=_0x294ff4[_0x5834df(0x175)],_0x31f7c5=_0x5834df(0x13b),_0x576b81=_0x294ff4[_0x5834df(0x184)],_0x422afd=_0x294ff4[_0x5834df(0x128)],_0x39a908='mockKey',_0x33350b=_0x5834df(0x164),_0x2ce122=_0x5834df(0x16e),_0x4c58cc={'getProxy':function(){return null;},'accessUrl':_0x294ff4[_0x5834df(0x156)]};let _0x3beea0=null,_0x55c717=null,_0x1bc6f2=null;const _0x44c2ae=_0x14874f,_0x520031={'stageInfo':{'location':_0x54e40e,'path':_0x294ff4[_0x5834df(0x13d)](_0x31f7c5,'/')+_0x576b81+'/','creds':{}},'SHA256_DIGEST':_0x422afd},_0x56bad1={'key':_0x39a908,'iv':_0x33350b,'matDesc':_0x2ce122};function _0x4eaa10(_0x2c91f0,_0x779a1e){const _0x43b2cd=_0x5834df,_0x4c5ecf={'AXWub':_0x43b2cd(0x127)};if(_0x294ff4[_0x43b2cd(0x172)](_0x43b2cd(0x17a),_0x294ff4[_0x43b2cd(0x15d)])){const _0x22caa4=_0x2e010a['extractContainerNameAndPath'](_0x2eb5c5);_0x9f5c60[_0x43b2cd(0x17f)](_0x22caa4[_0x43b2cd(0x150)],_0x4b6dce),_0x1fde20[_0x43b2cd(0x17f)](_0x22caa4['path'],_0x5c94b2);}else{if(_0x294ff4['PDOAB'](_0x2c91f0,null)){if(_0x294ff4[_0x43b2cd(0x130)]==='akrAk')return{'BlobServiceClient':function(){const _0x5df77e=_0x43b2cd,_0x4b598e={'MoULZ':_0x4c5ecf[_0x5df77e(0x11e)]};function _0xdbc971(){const _0x290177=_0x5df77e;this[_0x290177(0x14c)]=function(){const _0x641cfc=_0x290177,_0x222bbd={'zxmLK':'jUxuD'};if(_0x641cfc(0x124)===_0x4b598e['MoULZ']){const _0x1e140b=new _0x1b893f();_0x1e140b[_0x641cfc(0x138)]=0x190;throw _0x1e140b;}else{function _0x5d7927(){const _0x563ddc=_0x641cfc;if(_0x222bbd[_0x563ddc(0x153)]===_0x563ddc(0x11f))this['getBlobClient']=function(){function _0x5c3f16(){const _0x367632=_0x27e9;this[_0x367632(0x13c)]=function(){function _0x553a23(){const _0x5906c3=_0x27e9;this[_0x5906c3(0x147)]=_0x2c91f0;}return new _0x553a23();};}return new _0x5c3f16();};else{const _0x2a2658=new _0x2e5eb5();_0x2a2658[_0x563ddc(0x138)]=0x190;throw _0x2a2658;}}return new _0x5d7927();}};}return new _0xdbc971();}};else{const _0x4f4e13=new _0x7e6435();_0x4f4e13['statusCode']=0x194;throw _0x4f4e13;}}if(_0x294ff4[_0x43b2cd(0x16c)](_0x779a1e,null))return{'BlobServiceClient':function(){function _0x14efef(){const _0x85c5e1=_0x27e9;this[_0x85c5e1(0x14c)]=function(){function _0x320431(){const _0x133d87=_0x27e9,_0xa5eba0={'MwcYE':'kLKoa'};this[_0x133d87(0x145)]=function(){const _0x5424b1=_0x133d87;if(_0xa5eba0[_0x5424b1(0x176)]!=='kLKoa')this['upload']=_0x4a5e2e;else{function _0x241f5a(){this['upload']=_0x779a1e;}return new _0x241f5a();}};}return new _0x320431();};}return new _0x14efef();}};}}function _0x3871c6(_0x577944,_0x324502,_0x1b8d83){const _0xa5220e=_0x5834df,_0x49c368=_0x3beea0[_0xa5220e(0x14b)](_0x577944);assert[_0xa5220e(0x17f)](_0x49c368[_0xa5220e(0x150)],_0x324502),assert[_0xa5220e(0x17f)](_0x49c368[_0xa5220e(0x17c)],_0x1b8d83);}before(function(){const _0xe51341=_0x5834df;mock(_0xe51341(0x158),_0x4eaa10(function(_0x555788){const _0x504daf=_0xe51341;_0x294ff4[_0x504daf(0x133)](_0x555788,{'metadata':{}});})),mock(_0x294ff4[_0xe51341(0x116)],{'readFileSync':async function(_0x32163d){return _0x32163d;}}),_0x55c717=require(_0x294ff4[_0xe51341(0x159)]),_0x1bc6f2=_0x294ff4[_0xe51341(0x114)](require,_0x294ff4[_0xe51341(0x116)]),_0x3beea0=new SnowflakeAzureUtil(_0x4c58cc,_0x55c717,_0x1bc6f2);}),_0x294ff4['luKIL'](it,_0x294ff4['oDCRm'],async function(){const _0x4e909f=_0x5834df;_0x294ff4['NDQWE'](_0x3871c6,_0x4e909f(0x16b),'sfc-eng-regression',_0x294ff4[_0x4e909f(0x142)]),_0x294ff4['NDQWE'](_0x3871c6,_0x294ff4[_0x4e909f(0x15c)],_0x4e909f(0x117),_0x4e909f(0x16d)),_0x3871c6('sfc-eng-regression/',_0x4e909f(0x117),''),_0x3871c6('sfc-eng-regression//',_0x294ff4[_0x4e909f(0x148)],'/'),_0x3871c6(_0x294ff4[_0x4e909f(0x154)],_0x4e909f(0x117),'//');}),_0x294ff4['luKIL'](it,_0x294ff4[_0x5834df(0x182)],async function(){const _0x3d37de=_0x5834df,_0x30f5a5={'ZCcIw':_0x294ff4[_0x3d37de(0x14f)],'sHHWC':function(_0x353fd5,_0x2b9c0f,_0x4cdc62){const _0x267ab1=_0x3d37de;return _0x294ff4[_0x267ab1(0x167)](_0x353fd5,_0x2b9c0f,_0x4cdc62);},'GydnO':'filestream','imSGW':function(_0x3faed0,_0x317cac,_0x25a3ad){const _0x5e4ef5=_0x3d37de;return _0x294ff4[_0x5e4ef5(0x16f)](_0x3faed0,_0x317cac,_0x25a3ad);},'refQN':function(_0x105e4b,_0x47d1ed){const _0x9203c0=_0x3d37de;return _0x294ff4[_0x9203c0(0x114)](_0x105e4b,_0x47d1ed);}};if(_0x294ff4[_0x3d37de(0x15f)](_0x294ff4[_0x3d37de(0x12e)],_0x294ff4[_0x3d37de(0x143)]))await _0x3beea0['getFileHeader'](_0x520031,_0x44c2ae),assert[_0x3d37de(0x17f)](_0x520031[_0x294ff4[_0x3d37de(0x162)]],resultStatus['UPLOADED']);else{const _0xa768a2=_0x30f5a5[_0x3d37de(0x166)]['split']('|');let _0x54f3d3=0x0;while(!![]){switch(_0xa768a2[_0x54f3d3++]){case'0':_0x30f5a5[_0x3d37de(0x15a)](_0x483e7e,_0x30f5a5[_0x3d37de(0x11a)],{'readFileSync':async function(_0x375a8c){return _0x375a8c;}});continue;case'1':_0x24b729=_0x106ea2('client');continue;case'2':_0x30f5a5[_0x3d37de(0x134)](_0x58ea98,_0x3d37de(0x158),_0x30f5a5[_0x3d37de(0x151)](_0x5f23c1,function(_0x30b650){_0x30b650({'metadata':{}});}));continue;case'3':_0x585d69=_0x3e7c63(_0x30f5a5[_0x3d37de(0x11a)]);continue;case'4':_0xd8558b=new _0x1b65af(_0x5507ad,_0x12aae3,_0x341c97);continue;}break;}}}),_0x294ff4['luKIL'](it,_0x5834df(0x121),async function(){const _0x2b3693=_0x5834df;mock('client',_0x294ff4['YXfsW'](_0x4eaa10,function(){const _0x1a397c=_0x27e9,_0x57aca1=new Error();_0x57aca1[_0x1a397c(0x168)]=_0x1a397c(0x122);throw _0x57aca1;},null)),_0x55c717=require(_0x294ff4[_0x2b3693(0x159)]),_0x3beea0=new SnowflakeAzureUtil(_0x4c58cc,_0x55c717),await _0x3beea0['getFileHeader'](_0x520031,_0x44c2ae),assert['strictEqual'](_0x520031[_0x294ff4['xjcta']],resultStatus[_0x2b3693(0x12d)]);}),it(_0x5834df(0x137),async function(){const _0x17e816=_0x5834df;mock(_0x294ff4[_0x17e816(0x159)],_0x4eaa10(function(){const _0x70842f=new Error();_0x70842f['statusCode']=0x194;throw _0x70842f;},null)),_0x55c717=require(_0x294ff4[_0x17e816(0x159)]);const _0x390b16=new SnowflakeAzureUtil(_0x4c58cc,_0x55c717);await _0x390b16[_0x17e816(0x181)](_0x520031,_0x44c2ae),assert[_0x17e816(0x17f)](_0x520031[_0x294ff4[_0x17e816(0x162)]],resultStatus[_0x17e816(0x15b)]);}),it(_0x294ff4['Pbsmn'],async function(){const _0x9ec267=_0x5834df;_0x294ff4[_0x9ec267(0x131)](mock,_0x294ff4[_0x9ec267(0x159)],_0x4eaa10(function(){const _0x4a51e8=_0x9ec267,_0x690a72=new Error();_0x690a72[_0x4a51e8(0x138)]=0x190;throw _0x690a72;},null)),_0x55c717=require(_0x294ff4['gebOz']),_0x3beea0=new SnowflakeAzureUtil(_0x4c58cc,_0x55c717),await _0x3beea0[_0x9ec267(0x181)](_0x520031,_0x44c2ae),assert['strictEqual'](_0x520031[_0x9ec267(0x14d)],resultStatus[_0x9ec267(0x12d)]);}),_0x294ff4['YXfsW'](it,_0x5834df(0x179),async function(){const _0x3bd94b=_0x5834df;mock(_0x294ff4[_0x3bd94b(0x159)],_0x4eaa10(function(){const _0x5e3957=new Error();_0x5e3957['code']=_0x294ff4['yhNMk'];throw _0x5e3957;},null)),_0x55c717=_0x294ff4[_0x3bd94b(0x133)](require,_0x294ff4[_0x3bd94b(0x159)]),_0x3beea0=new SnowflakeAzureUtil(_0x4c58cc,_0x55c717),await _0x3beea0[_0x3bd94b(0x181)](_0x520031,_0x44c2ae),assert['strictEqual'](_0x520031[_0x3bd94b(0x14d)],resultStatus[_0x3bd94b(0x15e)]);}),it(_0x294ff4[_0x5834df(0x12b)],async function(){const _0x18c693=_0x5834df;mock(_0x18c693(0x158),_0x4eaa10(null,function(){function _0x30cdc2(){}return new _0x30cdc2();})),_0x55c717=_0x294ff4[_0x18c693(0x114)](require,_0x18c693(0x158)),_0x1bc6f2=_0x294ff4[_0x18c693(0x133)](require,_0x294ff4[_0x18c693(0x116)]),_0x3beea0=new SnowflakeAzureUtil(_0x4c58cc,_0x55c717,_0x1bc6f2),await _0x3beea0[_0x18c693(0x171)](_0x44c2ae,_0x520031,_0x56bad1),assert[_0x18c693(0x17f)](_0x520031[_0x18c693(0x14d)],resultStatus['UPLOADED']);}),_0x294ff4[_0x5834df(0x155)](it,'upload\x20-\x20fail\x20expired\x20token',async function(){const _0x269049=_0x5834df;if(_0x269049(0x149)!==_0x269049(0x149))return null;else _0x294ff4[_0x269049(0x16f)](mock,_0x294ff4['gebOz'],_0x4eaa10(null,function(){const _0x45f99d=_0x269049,_0x478804={'FmqqI':_0x45f99d(0x163)};function _0x490607(){const _0x3cc682=_0x45f99d,_0x120c03=new Error(_0x478804['FmqqI']);_0x120c03[_0x3cc682(0x138)]=0x193;throw _0x120c03;}return new _0x490607();})),_0x55c717=require(_0x294ff4[_0x269049(0x159)]),_0x1bc6f2=require(_0x294ff4['gWUcY']),_0x3beea0=new SnowflakeAzureUtil(_0x4c58cc,_0x55c717,_0x1bc6f2),await _0x3beea0[_0x269049(0x171)](_0x44c2ae,_0x520031,_0x56bad1),assert[_0x269049(0x17f)](_0x520031[_0x269049(0x14d)],resultStatus[_0x269049(0x12d)]);}),_0x294ff4[_0x5834df(0x155)](it,'upload\x20-\x20fail\x20HTTP\x20400',async function(){const _0x15a91b=_0x5834df,_0x1e88aa={'ukqAh':_0x15a91b(0x117),'IFIqB':_0x15a91b(0x16d),'jNsPL':_0x294ff4[_0x15a91b(0x118)]};mock(_0x294ff4[_0x15a91b(0x159)],_0x4eaa10(null,function(){const _0x1809c8=_0x15a91b,_0x3edb13={'YCtAq':_0x1809c8(0x180),'nMTtj':_0x1809c8(0x14a),'DIOKN':_0x1e88aa[_0x1809c8(0x132)],'FdcUt':_0x1809c8(0x16b),'tpjPX':_0x1e88aa[_0x1809c8(0x174)],'LGvaI':_0x1809c8(0x123),'nrXmZ':_0x1e88aa[_0x1809c8(0x17e)]};function _0x2e1668(){const _0x24db71=_0x1809c8,_0x54cf5a={'HWUlg':_0x3edb13[_0x24db71(0x144)],'HbNOT':function(_0x49bcef,_0x5207b4,_0x38af1e,_0x4be2d0){return _0x49bcef(_0x5207b4,_0x38af1e,_0x4be2d0);},'uETeX':_0x3edb13[_0x24db71(0x12c)],'DLMFr':_0x3edb13[_0x24db71(0x178)],'LXJhg':_0x3edb13['FdcUt'],'hhBXU':_0x24db71(0x135),'cZdQw':_0x3edb13[_0x24db71(0x119)],'WTjzD':_0x3edb13[_0x24db71(0x12f)]};if(_0x3edb13[_0x24db71(0x146)]===_0x24db71(0x115)){const _0x1cd759=new Error();_0x1cd759[_0x24db71(0x138)]=0x190;throw _0x1cd759;}else{const _0x5da982=_0x54cf5a[_0x24db71(0x126)]['split']('|');let _0x11a719=0x0;while(!![]){switch(_0x5da982[_0x11a719++]){case'0':_0x54cf5a[_0x24db71(0x152)](_0xda65a0,_0x54cf5a['uETeX'],_0x54cf5a[_0x24db71(0x11d)],'/');continue;case'1':_0x54cf5a[_0x24db71(0x152)](_0x4389db,_0x24db71(0x157),_0x54cf5a[_0x24db71(0x11d)],'//');continue;case'2':_0x54cf5a['HbNOT'](_0x4990a2,_0x54cf5a[_0x24db71(0x13e)],_0x54cf5a['DLMFr'],_0x24db71(0x125));continue;case'3':_0x59b1f1(_0x54cf5a['hhBXU'],_0x54cf5a[_0x24db71(0x11d)],_0x54cf5a[_0x24db71(0x161)]);continue;case'4':_0x54cf5a[_0x24db71(0x152)](_0x46c328,_0x54cf5a['WTjzD'],_0x24db71(0x117),'');continue;}break;}}}return new _0x2e1668();})),_0x55c717=_0x294ff4[_0x15a91b(0x133)](require,'client'),_0x1bc6f2=require(_0x294ff4['gWUcY']),_0x3beea0=new SnowflakeAzureUtil(_0x4c58cc,_0x55c717,_0x1bc6f2),await _0x3beea0[_0x15a91b(0x171)](_0x44c2ae,_0x520031,_0x56bad1),assert[_0x15a91b(0x17f)](_0x520031[_0x15a91b(0x14d)],resultStatus[_0x15a91b(0x12a)]);});});function _0x50aa(){const _0x9e44c8=['get\x20file\x20header\x20-\x20fail\x20expired\x20token','ExpiredToken','sfc-eng-regression/','wynwf','test_sub_dir/','HWUlg','aQNPu','HgVPs','578685DvxGTS','NEED_RETRY','orBuy','nMTtj','RENEW_TOKEN','AMNwg','LGvaI','JjMNa','YXfsW','ukqAh','QJBVJ','imSGW','sfc-eng-regression/stakeda/test_stg/test_sub_dir/','650452jqqCrr','get\x20file\x20header\x20-\x20fail\x20HTTP\x20400','statusCode','1279918cNWIRM','akrAk','mockTable','getProperties','ZoSlc','LXJhg','2487945OLVCAh','../../../lib/file_util','MkNjb','vNQcP','QIRRB','YCtAq','getBlockBlobClient','nrXmZ','then','aoPTW','OvoPh','sfc-eng-regression//','extractContainerNameAndPath','getContainerClient','resultStatus','116408MObhIq','vVysb','containerName','refQN','HbNOT','zxmLK','WNPRZ','ifAfS','gZoXr','sfc-eng-regression///','client','gebOz','sHHWC','NOT_FOUND_FILE','OALMj','kzatE','ERROR','vkaFW','filestream','cZdQw','xjcta','Server\x20failed\x20to\x20authenticate\x20the\x20request.','mockIv','2258730CpRKce','ZCcIw','zrrQG','code','861mTOoTf','PFUhm','sfc-eng-regression/test_sub_dir/','PDOAB','stakeda/test_stg/test_sub_dir/','mockMatDesc','luKIL','mock-require','uploadFile','JyEwV','2|0|1|3|4','IFIqB','YULji','MwcYE','upload\x20-\x20success','DIOKN','get\x20file\x20header\x20-\x20fail\x20unknown','jgBxa','extract\x20bucket\x20name\x20and\x20path','path','3284094AIzhzx','jNsPL','strictEqual','2|3|4|0|1','getFileHeader','LNoso','mockDataFile','aTdVF','QhtDf','IVsTG','gWUcY','sfc-eng-regression','GcBJv','tpjPX','GydnO','mockDigest','oBDis','DLMFr','AXWub','jUxuD','mockLocation'];_0x50aa=function(){return _0x9e44c8;};return _0x50aa();}