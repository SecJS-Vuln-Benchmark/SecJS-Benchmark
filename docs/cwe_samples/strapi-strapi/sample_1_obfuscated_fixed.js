const _0x331ffe=_0x2da9;(function(_0x16adbe,_0xdc3856){const _0x22a20b=_0x2da9,_0x2e2dd3=_0x16adbe();while(!![]){try{const _0x41ba02=parseInt(_0x22a20b(0x171))/0x1*(-parseInt(_0x22a20b(0x140))/0x2)+-parseInt(_0x22a20b(0x14d))/0x3+-parseInt(_0x22a20b(0x180))/0x4+parseInt(_0x22a20b(0x162))/0x5*(-parseInt(_0x22a20b(0x168))/0x6)+parseInt(_0x22a20b(0x156))/0x7+parseInt(_0x22a20b(0x164))/0x8+parseInt(_0x22a20b(0x188))/0x9;if(_0x41ba02===_0xdc3856)break;else _0x2e2dd3['push'](_0x2e2dd3['shift']());}catch(_0x282db2){_0x2e2dd3['push'](_0x2e2dd3['shift']());}}}(_0x5689,0x2e45f));const assert=require(_0x331ffe(0x158)),testUtil=require(_0x331ffe(0x173)),os=require('os'),fsPromises=require('fs')['promises'],crypto=require(_0x331ffe(0x15c)),{getMatchingFilePaths,isFileNotWritableByGroupOrOthers,validateOnlyUserReadWritePermissionAndOwner,isFileModeCorrect}=require(_0x331ffe(0x16c)),path=require('path');function _0x5689(){const _0x2caaa7=['XFaXs','join','\x20is\x20compared\x20to\x20','xJxwU','AihTN','umask','matching\x20files\x20by\x20wildcard','67198cOzXvJ','length','dLlgK','bMvWb','QuCUb','QuOFc','.txt','gOlZZ','dir_','100777','aKBDC','CNftC','444','245850eOmLAY','NxAfu','100600','jAlxY','file_','notmatched','push','doesNotReject','permission_tests','2290820ypJTLr','FMqTS','assert','ehsaL','forEach','matched','crypto','tHkUI','eUcDQ','600','xQGGk','chmod','5CsnjVA','utf8','469096PeFYeS','.gz','zxorU','YLkPQ','609072HggRFg','match\x20paths\x20with\x20prefix\x20and\x20extension','platform','iZJFV','../../../lib/file_util','mkdir','createRandomFileName','rejects','FileUtil.isFileNotWritableByGroupOrOthers()','2RKvqua','\x20should\x20be\x20valid=','../../integration/testUtil','zyEeW','ucLqh','appendFile','strictEqual','SDRoz','gyynQ','\x20when\x20file\x20permission\x20','oZNRA','crXSC','win32','BQwJz','tmpdir','397208BjzaFq','cGVbY','ijNVj','createTempFileAsync','match\x20paths\x20with\x20prefix','xSgLR','verify\x20only\x20user\x20read/write\x20permission','JPJXk','1382400wbkWNZ','\x20when\x20directory\x20permission\x20','640','toString','AyNSf'];_0x5689=function(){return _0x2caaa7;};return _0x5689();}function _0x2da9(_0x25cd7d,_0x5cd567){const _0x568942=_0x5689();return _0x2da9=function(_0x2da923,_0x418a1a){_0x2da923=_0x2da923-0x139;let _0xaa6114=_0x568942[_0x2da923];return _0xaa6114;},_0x2da9(_0x25cd7d,_0x5cd567);}describe(_0x331ffe(0x13f),function(){const _0x4c0bae=_0x331ffe,_0x449bd0={'ijNVj':function(_0x1fd611,_0x88179b){return _0x1fd611<_0x88179b;},'dLlgK':function(_0x3943c8,_0xbd8dd7,_0x308ca8){return _0x3943c8(_0xbd8dd7,_0x308ca8);},'YLkPQ':function(_0x2128c8,_0x52b4ed){return _0x2128c8(_0x52b4ed);},'FMqTS':function(_0x297b02,_0x3d9c30){return _0x297b02+_0x3d9c30;},'aKBDC':_0x4c0bae(0x165),'NxAfu':function(_0x17bca0,_0x16b69c){return _0x17bca0(_0x16b69c);},'xSgLR':_0x4c0bae(0x146),'kyjvd':'*.gz','oZNRA':function(_0x43d58a,_0x48967d,_0x548bab){return _0x43d58a(_0x48967d,_0x548bab);},'crXSC':function(_0x1ac5bd,_0x562d56,_0x15d8a8){return _0x1ac5bd(_0x562d56,_0x15d8a8);}},_0x12590d=crypto['randomUUID'](),_0x1a1b42=0x3;async function _0x5b48e6(_0x4fdfa3){const _0x47f637=_0x4c0bae;for(let _0x294fe7=0x0;_0x449bd0[_0x47f637(0x182)](_0x294fe7,_0x1a1b42);_0x294fe7++){await testUtil[_0x47f637(0x183)](os[_0x47f637(0x17f)](),testUtil[_0x47f637(0x16e)](_0x4fdfa3));}}_0x449bd0[_0x4c0bae(0x167)](after,async function(){const _0x1a8cff=_0x4c0bae,_0x28ca65=_0x449bd0['dLlgK'](getMatchingFilePaths,os['tmpdir'](),_0x12590d+_0x1a8cff(0x15b)+'*'),_0x273046=_0x449bd0[_0x1a8cff(0x142)](getMatchingFilePaths,os['tmpdir'](),_0x12590d+_0x1a8cff(0x152)+'*'),_0x36e0a9=[];for(const _0x1264f3 of _0x28ca65){_0x36e0a9[_0x1a8cff(0x153)](fsPromises['rm'](_0x1264f3));}for(const _0x57451a of _0x273046){_0x36e0a9[_0x1a8cff(0x153)](fsPromises['rm'](_0x57451a));}await Promise['all'](_0x36e0a9);}),_0x449bd0[_0x4c0bae(0x17b)](it,_0x4c0bae(0x184),async function(){const _0x1d598f=_0x4c0bae;await _0x449bd0[_0x1d598f(0x167)](_0x5b48e6,{'prefix':_0x12590d+'matched'}),await _0x5b48e6({'prefix':_0x12590d+_0x1d598f(0x152)});const _0xdfcb36=getMatchingFilePaths(os['tmpdir'](),_0x449bd0[_0x1d598f(0x157)](_0x12590d+'matched','*'));assert[_0x1d598f(0x177)](_0xdfcb36[_0x1d598f(0x141)],_0x1a1b42);}),_0x449bd0[_0x4c0bae(0x17c)](it,_0x4c0bae(0x169),async function(){const _0x1ff6cc=_0x4c0bae;await _0x5b48e6({'prefix':_0x12590d+'matched','extension':_0x449bd0[_0x1ff6cc(0x14a)]}),await _0x449bd0[_0x1ff6cc(0x14e)](_0x5b48e6,{'prefix':_0x12590d+'matched','extension':_0x449bd0[_0x1ff6cc(0x185)]}),await _0x5b48e6({'prefix':_0x12590d+'notmatched'});const _0x229112=getMatchingFilePaths(os[_0x1ff6cc(0x17f)](),_0x12590d+_0x1ff6cc(0x15b)+_0x449bd0['kyjvd']);assert[_0x1ff6cc(0x177)](_0x229112['length'],_0x1a1b42);});});os['platform']()!==_0x331ffe(0x17d)&&describe(_0x331ffe(0x186),function(){const _0x6d5a20=_0x331ffe,_0x24597a={'gOlZZ':function(_0x1e6fe6,_0x5d3ff1){return _0x1e6fe6(_0x5d3ff1);},'zxorU':_0x6d5a20(0x15f),'AihTN':_0x6d5a20(0x14f),'XFaXs':_0x6d5a20(0x18a),'AyNSf':_0x6d5a20(0x149),'xQGGk':_0x6d5a20(0x14c),'xJxwU':'12477'};let _0x552b54;_0x24597a[_0x6d5a20(0x147)](before,async function(){const _0xad338f=_0x6d5a20;_0x552b54=await testUtil[_0xad338f(0x183)](os[_0xad338f(0x17f)](),testUtil[_0xad338f(0x16e)]());}),_0x24597a[_0x6d5a20(0x147)](after,async function(){await fsPromises['rm'](_0x552b54);}),[{'permission':_0x24597a[_0x6d5a20(0x166)],'expectedResult':!![]},{'permission':_0x24597a[_0x6d5a20(0x13d)],'expectedResult':!![]},{'permission':'700','expectedResult':![]},{'permission':_0x24597a[_0x6d5a20(0x139)],'expectedResult':![]},{'permission':_0x24597a[_0x6d5a20(0x18c)],'expectedResult':![]},{'permission':_0x24597a[_0x6d5a20(0x160)],'expectedResult':![]},{'permission':_0x24597a[_0x6d5a20(0x13c)],'expectedResult':![]}][_0x6d5a20(0x15a)](({permission:_0xb26c52,expectedResult:_0x215701})=>{it('verify\x20permission\x20'+_0xb26c52,async function(){const _0x12ef5d=_0x2da9;await fsPromises[_0x12ef5d(0x161)](_0x552b54,_0xb26c52),!_0x215701?assert[_0x12ef5d(0x16f)](()=>validateOnlyUserReadWritePermissionAndOwner(_0x552b54)):assert[_0x12ef5d(0x154)](()=>validateOnlyUserReadWritePermissionAndOwner(_0x552b54));});});});os[_0x331ffe(0x16a)]()!==_0x331ffe(0x17d)&&describe(_0x331ffe(0x170),function(){const _0x5b91af=_0x331ffe,_0x576d89={'eUcDQ':'permission_tests','iZJFV':function(_0x2d1a16,_0x33891f,_0x4d39a1){return _0x2d1a16(_0x33891f,_0x4d39a1);},'PEeNK':function(_0x117058,_0x2db7fa,_0x4fc96d){return _0x117058(_0x2db7fa,_0x4fc96d);},'jAlxY':function(_0x256a69,_0x4e0ed5){return _0x256a69+_0x4e0ed5;},'HJqtT':'File\x20with\x20permission:\x20','QuOFc':function(_0x482225,_0x4f3413){return _0x482225(_0x4f3413);}};let _0x2cc5a8=null,_0x4eaec0=null;before(async function(){const _0x1aa185=_0x2da9;_0x2cc5a8=await fsPromises['mkdtemp'](path[_0x1aa185(0x13a)](os[_0x1aa185(0x17f)](),_0x576d89[_0x1aa185(0x15e)])),_0x4eaec0=process['umask'](0x0);}),_0x576d89[_0x5b91af(0x145)](after,async function(){const _0x1ed8ac=_0x5b91af;await fsPromises['rm'](_0x2cc5a8,{'recursive':!![],'force':!![]}),process[_0x1ed8ac(0x13e)](_0x4eaec0);}),[{'filePerm':0x1c0,'isValid':!![]},{'filePerm':0x180,'isValid':!![]},{'filePerm':0x140,'isValid':!![]},{'filePerm':0x100,'isValid':!![]},{'filePerm':0xc0,'isValid':!![]},{'filePerm':0x80,'isValid':!![]},{'filePerm':0x40,'isValid':!![]},{'filePerm':0x1c7,'isValid':![]},{'filePerm':0x1c6,'isValid':![]},{'filePerm':0x1c5,'isValid':!![]},{'filePerm':0x1c4,'isValid':!![]},{'filePerm':0x1c3,'isValid':![]},{'filePerm':0x1c2,'isValid':![]},{'filePerm':0x1c1,'isValid':!![]},{'filePerm':0x1f8,'isValid':![]},{'filePerm':0x1f0,'isValid':![]},{'filePerm':0x1e8,'isValid':!![]},{'filePerm':0x1e0,'isValid':!![]},{'filePerm':0x1d8,'isValid':![]},{'filePerm':0x1d0,'isValid':![]},{'filePerm':0x1c8,'isValid':!![]}][_0x5b91af(0x15a)](async function({filePerm:_0x25836b,isValid:_0xeeded4}){const _0x56b1d5=_0x5b91af;_0x576d89['PEeNK'](it,_0x576d89[_0x56b1d5(0x150)](_0x576d89[_0x56b1d5(0x150)](_0x576d89['HJqtT']+_0x25836b[_0x56b1d5(0x18b)](0x8),_0x56b1d5(0x172)),_0xeeded4),async function(){const _0x5b51b6=_0x56b1d5,_0x233958=path[_0x5b51b6(0x13a)](_0x2cc5a8,'file_'+_0x25836b['toString']());await _0x576d89[_0x5b51b6(0x16b)](_0xa59368,_0x233958,_0x25836b),assert[_0x5b51b6(0x177)](await isFileNotWritableByGroupOrOthers(_0x233958,fsPromises),_0xeeded4);});});async function _0xa59368(_0x1ef9bd,_0xccaae5){const _0x512139=_0x5b91af;await fsPromises['writeFile'](_0x1ef9bd,'',{'encoding':_0x512139(0x163),'mode':_0xccaae5});}});os[_0x331ffe(0x16a)]()!=='win32'&&describe('FileUtil.isFileModeCorrect()',function(){const _0x113740=_0x331ffe,_0x53ce6c={'JPJXk':function(_0x388807,_0x41613c,_0x1e0d9a){return _0x388807(_0x41613c,_0x1e0d9a);},'tHkUI':function(_0x25580a,_0x22fd51){return _0x25580a+_0x22fd51;},'SDRoz':_0x113740(0x13b),'CNftC':function(_0x20d989,_0x489bd3,_0x2b4599,_0x399d4f){return _0x20d989(_0x489bd3,_0x2b4599,_0x399d4f);},'ehsaL':function(_0x4f520b,_0x21463f){return _0x4f520b+_0x21463f;},'gyynQ':function(_0x29f25c,_0x49ec31){return _0x29f25c+_0x49ec31;},'cGVbY':function(_0x255684,_0x6fe477){return _0x255684+_0x6fe477;},'ucLqh':function(_0x3a7b89,_0xb32433){return _0x3a7b89+_0xb32433;},'BQwJz':_0x113740(0x155),'zyEeW':function(_0x16457e,_0x3a5dfd){return _0x16457e(_0x3a5dfd);},'bMvWb':function(_0x27956a,_0x172f30){return _0x27956a(_0x172f30);}},_0x2e3003=path['join'](os[_0x113740(0x17f)](),_0x53ce6c[_0x113740(0x17e)]);let _0x1ded17=null;_0x53ce6c[_0x113740(0x174)](before,async function(){const _0x24afa0=_0x113740;await fsPromises[_0x24afa0(0x16d)](_0x2e3003),_0x1ded17=process['umask'](0x0);}),_0x53ce6c[_0x113740(0x143)](after,async function(){await fsPromises['rm'](_0x2e3003,{'recursive':!![],'force':!![]}),process['umask'](_0x1ded17);}),[{'dirPerm':0x1c0,'expectedPerm':0x1c0,'isCorrect':!![]},{'dirPerm':0x1ed,'expectedPerm':0x180,'isCorrect':![]}][_0x113740(0x15a)](async function({dirPerm:_0x3b869b,expectedPerm:_0x12ef8c,isCorrect:_0x3e2ad9}){const _0x372b6c=_0x113740,_0x3c7d24={'QuCUb':function(_0x1183f0,_0x85ca4,_0x58aa1c,_0x7d60cd){return _0x1183f0(_0x85ca4,_0x58aa1c,_0x7d60cd);}};_0x53ce6c[_0x372b6c(0x187)](it,_0x53ce6c['tHkUI'](_0x53ce6c[_0x372b6c(0x15d)](_0x53ce6c['tHkUI']('Should\x20return\x20',_0x3e2ad9)+_0x372b6c(0x189),_0x3b869b[_0x372b6c(0x18b)](0x8))+_0x53ce6c['SDRoz'],_0x12ef8c[_0x372b6c(0x18b)](0x8)),async function(){const _0x5f85fe=_0x372b6c,_0x22cd7e=path[_0x5f85fe(0x13a)](_0x2e3003,_0x5f85fe(0x148)+_0x3b869b[_0x5f85fe(0x18b)](0x8));await fsPromises['mkdir'](_0x22cd7e,{'mode':_0x3b869b}),assert['strictEqual'](await _0x3c7d24[_0x5f85fe(0x144)](isFileModeCorrect,_0x22cd7e,_0x12ef8c,fsPromises),_0x3e2ad9);});}),[{'filePerm':0x1c0,'expectedPerm':0x1c0,'isCorrect':!![]},{'filePerm':0x1ed,'expectedPerm':0x180,'isCorrect':![]}][_0x113740(0x15a)](async function({filePerm:_0x50653e,expectedPerm:_0x423bbe,isCorrect:_0x5689ea}){const _0x515be6=_0x113740;it(_0x53ce6c[_0x515be6(0x159)](_0x53ce6c[_0x515be6(0x179)](_0x53ce6c[_0x515be6(0x181)](_0x53ce6c[_0x515be6(0x175)]('Should\x20return\x20'+_0x5689ea,_0x515be6(0x17a)),_0x50653e[_0x515be6(0x18b)](0x8)),_0x53ce6c[_0x515be6(0x178)]),_0x423bbe['toString'](0x8)),async function(){const _0x16918d=_0x515be6,_0x2a2d93=path[_0x16918d(0x13a)](_0x2e3003,_0x16918d(0x151)+_0x50653e['toString'](0x8));await fsPromises[_0x16918d(0x176)](_0x2a2d93,'',{'mode':_0x50653e}),assert[_0x16918d(0x177)](await _0x53ce6c[_0x16918d(0x14b)](isFileModeCorrect,_0x2a2d93,_0x423bbe,fsPromises),_0x5689ea);});});});