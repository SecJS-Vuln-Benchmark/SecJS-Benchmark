const _0x441024=_0x2ada;(function(_0x2fc656,_0x460400){const _0x2d75ca=_0x2ada,_0x5070d8=_0x2fc656();while(!![]){try{const _0x50b855=parseInt(_0x2d75ca(0x212))/0x1+parseInt(_0x2d75ca(0x1f2))/0x2*(parseInt(_0x2d75ca(0x216))/0x3)+-parseInt(_0x2d75ca(0x1f0))/0x4+-parseInt(_0x2d75ca(0x209))/0x5+parseInt(_0x2d75ca(0x203))/0x6+-parseInt(_0x2d75ca(0x205))/0x7*(-parseInt(_0x2d75ca(0x1fd))/0x8)+-parseInt(_0x2d75ca(0x1f4))/0x9;if(_0x50b855===_0x460400)break;else _0x5070d8['push'](_0x5070d8['shift']());}catch(_0x495904){_0x5070d8['push'](_0x5070d8['shift']());}}}(_0x18f6,0x33071));function _0x2ada(_0x58409b,_0x55f04f){const _0x18f6a2=_0x18f6();return _0x2ada=function(_0x2ada9b,_0x8a9ceb){_0x2ada9b=_0x2ada9b-0x1f0;let _0x11fa6a=_0x18f6a2[_0x2ada9b];return _0x11fa6a;},_0x2ada(_0x58409b,_0x55f04f);}const path=require('path'),Logger=require('../../logger'),fs=require('node:fs/promises'),os=require('os'),Util=require('../../util'),{validateOnlyUserReadWritePermissionAndOwner}=require('../../file_util');function JsonCredentialManager(_0x412c08){const _0x3edd05=_0x2ada,_0x2f348a={'zvelO':_0x3edd05(0x201),'pjZKB':function(_0x76c34a,_0x22f275){return _0x76c34a(_0x22f275);},'NwZWv':function(_0xf096,_0x2b310c){return _0xf096(_0x2b310c);},'IjjYK':function(_0x1ea0bb,_0x369f2b){return _0x1ea0bb===_0x369f2b;},'lfzbZ':function(_0x4371ea,_0x591436){return _0x4371ea===_0x591436;},'brLhM':_0x3edd05(0x207),'YydHM':_0x3edd05(0x20f)};this[_0x3edd05(0x1f1)]=async function(){const _0x5aadf2=_0x3edd05;let _0x1e8eec=_0x412c08;!Util[_0x5aadf2(0x217)](_0x1e8eec)?_0x1e8eec=os['homedir']():Logger['getInstance']()['info'](_0x5aadf2(0x1f6)+_0x1e8eec);if(!Util[_0x5aadf2(0x217)](_0x1e8eec))throw new Error(_0x5aadf2(0x213));const _0x30d9aa=path[_0x5aadf2(0x1ff)](_0x1e8eec,_0x2f348a['zvelO']);return await _0x2f348a[_0x5aadf2(0x1fa)](validateOnlyUserReadWritePermissionAndOwner,_0x30d9aa),_0x30d9aa;},this[_0x3edd05(0x206)]=async function(){const _0x2748a9=_0x3edd05;try{const _0x2d60d6=await fs[_0x2748a9(0x210)](await this[_0x2748a9(0x1f1)](),_0x2748a9(0x202));return JSON[_0x2748a9(0x20a)](_0x2d60d6);}catch(_0x4b904b){return Logger[_0x2748a9(0x204)]()[_0x2748a9(0x1f5)](_0x2748a9(0x20b),_0x4b904b['message']),null;}},this[_0x3edd05(0x218)]=async function(_0x3742a1,_0x309d65){const _0x1e23b9=_0x3edd05;if(!_0x2f348a[_0x1e23b9(0x20c)](_0x3348d0,_0x3742a1))return null;const _0x2c0b93=await this['readJsonCredentialFile']()||{};_0x2c0b93[_0x3742a1]=_0x309d65;try{if(_0x2f348a['IjjYK'](_0x1e23b9(0x214),_0x1e23b9(0x214)))await fs[_0x1e23b9(0x1fc)](await this[_0x1e23b9(0x1f1)](),JSON[_0x1e23b9(0x1fb)](_0x2c0b93),{'mode':0x180});else return _0x3f2408[_0x1e23b9(0x20d)](_0x1794df);}catch(_0x51fde4){throw new Error(_0x1e23b9(0x215)+_0x51fde4['message']);}},this[_0x3edd05(0x1f3)]=async function(_0x20e3bf){const _0x17b48e=_0x3edd05;if(!_0x3348d0(_0x20e3bf))return null;const _0x3b6598=await this[_0x17b48e(0x206)]();return!!_0x3b6598&&_0x3b6598[_0x20e3bf]?_0x17b48e(0x211)===_0x17b48e(0x211)?_0x3b6598[_0x20e3bf]:null:null;},this[_0x3edd05(0x20e)]=async function(_0x530608){const _0x5e55e6=_0x3edd05;if(!_0x3348d0(_0x530608))return _0x2f348a[_0x5e55e6(0x200)](_0x2f348a[_0x5e55e6(0x1f9)],_0x2f348a[_0x5e55e6(0x1f8)])?null:null;const _0xb001b2=await this['readJsonCredentialFile']();if(_0xb001b2&&_0xb001b2[_0x530608])try{_0xb001b2[_0x530608]=null,await fs['writeFile'](await this['getTokenDir'](),JSON[_0x5e55e6(0x1fb)](_0xb001b2),{'mode':0x180});}catch(_0x99dfa2){throw new Error(_0x5e55e6(0x1fe)+await this[_0x5e55e6(0x1f1)]()+'.\x20Please\x20check\x20the\x20permission\x20or\x20the\x20file\x20format\x20of\x20the\x20token.\x20'+_0x99dfa2[_0x5e55e6(0x1f7)]);}};function _0x3348d0(_0x1b4840){const _0x521657=_0x3edd05;return Util[_0x521657(0x20d)](_0x1b4840);}}module[_0x441024(0x208)]=JsonCredentialManager;function _0x18f6(){const _0x5a7d5c=['586595pKeLOr','parse','Failed\x20to\x20read\x20token\x20data\x20from\x20the\x20file.\x20Err:\x20%s','NwZWv','checkParametersDefined','remove','OgHIq','readFile','pLrwd','104481tDyfpi','Temporary\x20credential\x20cache\x20directory\x20is\x20invalid,\x20and\x20the\x20driver\x20is\x20unable\x20to\x20use\x20the\x20default\x20location(home).\x20\x0a\x20\x20\x20\x20\x20\x20Please\x20set\x20\x27credentialCacheDir\x27\x20connection\x20configuration\x20option\x20to\x20enable\x20the\x20default\x20credential\x20manager.','BHXME','Failed\x20to\x20write\x20token\x20data.\x20Please\x20check\x20the\x20permission\x20or\x20the\x20file\x20format\x20of\x20the\x20token.\x20','114hJsawC','exists','write','783096WMvHix','getTokenDir','21278XdmamI','read','2494413hZcyMt','warn','The\x20credential\x20cache\x20directory\x20is\x20configured\x20by\x20the\x20user.\x20The\x20token\x20will\x20be\x20saved\x20at\x20','message','YydHM','brLhM','pjZKB','stringify','writeFile','16SHKwdD','Failed\x20to\x20write\x20token\x20data\x20from\x20the\x20file\x20in\x20','join','lfzbZ','temporary_credential.json','utf8','130788YcMStD','getInstance','940443NqefXH','readJsonCredentialFile','vXtEH','exports'];_0x18f6=function(){return _0x5a7d5c;};return _0x18f6();}