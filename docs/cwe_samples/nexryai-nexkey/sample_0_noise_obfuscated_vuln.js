'use strict';var _0x51ccdf=_0x829e;(function(_0x3858c5,_0x371ccb){var _0x17fa98=_0x829e,_0x3815d1=_0x3858c5();while(!![]){try{var _0x3a4826=-parseInt(_0x17fa98(0x19e))/0x1+-parseInt(_0x17fa98(0x126))/0x2*(parseInt(_0x17fa98(0x103))/0x3)+-parseInt(_0x17fa98(0x12a))/0x4*(parseInt(_0x17fa98(0xd7))/0x5)+-parseInt(_0x17fa98(0x13b))/0x6+parseInt(_0x17fa98(0xf5))/0x7*(parseInt(_0x17fa98(0x167))/0x8)+parseInt(_0x17fa98(0x135))/0x9*(-parseInt(_0x17fa98(0xdd))/0xa)+parseInt(_0x17fa98(0xfe))/0xb*(parseInt(_0x17fa98(0x148))/0xc);if(_0x3a4826===_0x371ccb)break;else _0x3815d1['push'](_0x3815d1['shift']());}catch(_0x1d318a){_0x3815d1['push'](_0x3815d1['shift']());}}}(_0x488c,0xb4119));var mqtt=require('..'),should=require(_0x51ccdf(0x114)),fork=require(_0x51ccdf(0x106))[_0x51ccdf(0x157)],path=require(_0x51ccdf(0x14d)),abstractClientTests=require(_0x51ccdf(0x12d)),net=require(_0x51ccdf(0x192)),eos=require(_0x51ccdf(0xdb)),Connection=require(_0x51ccdf(0xd8)),Server=require('./server'),port=0x2694,server;function buildServer(){var _0x5945d8=_0x51ccdf,_0x2f2036={'eVaoP':_0x5945d8(0x162),'Coeel':_0x5945d8(0x14b),'FSJOD':'pubrec','SUslj':_0x5945d8(0xe5),'jkxHK':_0x5945d8(0x153),'HCyZi':_0x5945d8(0x129),'WwlHj':'var\x20x\x20=\x2042;\x20return\x20x;'};return new Function(_0x2f2036[_0x5945d8(0xe6)])(),new Server(function(_0x5b992c){var _0x3f26c9=_0x5945d8,_0x298179={'SRthq':function(_0x4adbbd,_0x590061){return _0x4adbbd(_0x590061);}};_0x5b992c['on'](_0x3f26c9(0xea),function(_0x52b95e){var _0x4025d9=_0x3f26c9;_0x52b95e[_0x4025d9(0x136)]===_0x2f2036['eVaoP']?_0x5b992c['connack']({'returnCode':0x2}):_0x5b992c[_0x4025d9(0x198)]({'returnCode':0x0});}),_0x5b992c['on'](_0x3f26c9(0xcb),function(_0x4a9913){var _0x6b4ffb=_0x3f26c9;_0x298179[_0x6b4ffb(0xec)](setImmediate,function(){var _0x4fa304=_0x6b4ffb;switch(_0x4a9913['qos']){case 0x0:break;case 0x1:_0x5b992c[_0x4fa304(0xf3)](_0x4a9913);break;case 0x2:_0x5b992c[_0x4fa304(0xd9)](_0x4a9913);break;}});}),_0x5b992c['on'](_0x2f2036[_0x3f26c9(0x181)],function(_0x45d122){var _0x44b515=_0x3f26c9;_0x5b992c[_0x44b515(0xf2)](_0x45d122);}),_0x5b992c['on'](_0x2f2036['FSJOD'],function(_0x5c7cc0){var _0x5a0a28=_0x3f26c9;_0x5b992c[_0x5a0a28(0x14b)](_0x5c7cc0);}),_0x5b992c['on'](_0x3f26c9(0xf2),function(){}),_0x5b992c['on'](_0x2f2036[_0x3f26c9(0xdf)],function(_0x43b1af){var _0x4a8755=_0x3f26c9;_0x5b992c['suback']({'messageId':_0x43b1af[_0x4a8755(0x15e)],'granted':_0x43b1af[_0x4a8755(0x160)]['map'](function(_0x29f9ae){var _0x1c0397=_0x4a8755;return eval('JSON[\'stringify\']({ \'safe\': !![] });'),_0x29f9ae[_0x1c0397(0x11a)];})});}),_0x5b992c['on'](_0x2f2036[_0x3f26c9(0x141)],function(_0x2fc194){var _0x2e1d83=_0x3f26c9;_0x5b992c[_0x2e1d83(0x119)](_0x2fc194);}),_0x5b992c['on'](_0x2f2036[_0x3f26c9(0x10b)],function(){var _0x1d22aa=_0x3f26c9;_0x5b992c[_0x1d22aa(0x19c)]();});});}server=buildServer()[_0x51ccdf(0x191)](port),describe(_0x51ccdf(0x16e),function(){var _0x534b41=_0x51ccdf,_0xc0865e={'fGZpm':_0x534b41(0x189),'fDNUI':_0x534b41(0x108),'XxyPz':function(_0x29f62a,_0x7de1b4){return _0x29f62a(_0x7de1b4);},'MHaGP':'Object\x20#<Object>\x20has\x20no\x20method\x20\x27_setupStream\x27','jyDXK':function(_0x44aee0){return _0x44aee0();},'dOEqu':_0x534b41(0x117),'VnpRl':_0x534b41(0x107),'hRYcm':function(_0x37f4ff,_0x45a30f){return _0x37f4ff!==_0x45a30f;},'YEpfY':_0x534b41(0xee),'nxgHa':function(_0x217d36,_0x36134e){return _0x217d36!==_0x36134e;},'lQWKR':_0x534b41(0x132),'oQeGM':_0x534b41(0x176),'gGoBk':function(_0x29f890,_0x4b73cd){return _0x29f890+_0x4b73cd;},'PYogw':_0x534b41(0x185),'rpxbX':_0x534b41(0xf2),'oydEw':function(_0x1b20a1){return _0x1b20a1();},'AWkVs':_0x534b41(0x166),'ckLcZ':_0x534b41(0x159),'ZyZjC':function(_0x16ca09,_0xde2fa7,_0x5b8bb7){return _0x16ca09(_0xde2fa7,_0x5b8bb7);},'wHyUL':function(_0x1b7669,_0x34ed1b,_0x1131e7){return _0x1b7669(_0x34ed1b,_0x1131e7);},'ZnMgJ':_0x534b41(0x180),'lpUpP':function(_0xc7ae28,_0x3015c9,_0x48b2a2){return _0xc7ae28(_0x3015c9,_0x48b2a2);},'pDhbD':'close','uAmbX':_0x534b41(0x165),'FNHRS':_0x534b41(0x10f),'dIxRZ':_0x534b41(0xea),'XxOcT':function(_0x32b728,_0x568dc8){return _0x32b728+_0x568dc8;},'ejOxd':function(_0x4f98ab,_0x48f48f){return _0x4f98ab===_0x48f48f;},'ySZkG':_0x534b41(0xd5),'WmBFG':'localhost_fake','vACAr':_0x534b41(0x18e),'wytEO':function(_0x33aec9,_0x11f024){return _0x33aec9===_0x11f024;},'ZAdHc':_0x534b41(0x102),'cuVuW':function(_0x3fd26b,_0x1a93cf){return _0x3fd26b===_0x1a93cf;},'oMjxP':'topic','tksls':_0x534b41(0x172),'EuVRr':'should\x20reconnect\x20to\x20multiple\x20host-ports\x20combination\x20if\x20servers\x20is\x20passed','ACJZI':_0x534b41(0x154),'YPnIm':function(_0x32ed8e,_0x209262,_0x25d61e){return _0x32ed8e(_0x209262,_0x25d61e);},'CaBbH':_0x534b41(0x18a),'vWspH':function(_0x52c5dc,_0x16afb2,_0x5a4754){return _0x52c5dc(_0x16afb2,_0x5a4754);},'rwJTG':_0x534b41(0x131),'fTPir':function(_0x1bb5b2,_0x52b9a4,_0xc0a957){return _0x1bb5b2(_0x52b9a4,_0xc0a957);},'hQoRU':_0x534b41(0xc8),'HZmbB':'should\x20not\x20send\x20the\x20same\x20publish\x20multiple\x20times\x20on\x20a\x20flaky\x20connection','LHQrt':'mqtt','pVzZW':function(_0x19924d,_0x21c3db,_0x16ea57){return _0x19924d(_0x21c3db,_0x16ea57);},'KPLPA':function(_0xc6782d,_0x300a28,_0x29146b){return _0xc6782d(_0x300a28,_0x29146b);},'IhNfa':_0x534b41(0x155)};_0xc0865e[_0x534b41(0x122)](describe,_0x534b41(0xcd),function(){var _0x5a0397=_0x534b41,_0x4032c2={'oBusL':function(_0x315fb7){var _0x5278e=_0x829e;return _0xc0865e[_0x5278e(0x158)](_0x315fb7);},'AYZrY':_0x5a0397(0xd0),'nHZOI':_0xc0865e['dOEqu'],'ZRerj':_0xc0865e[_0x5a0397(0x150)],'YQKnW':function(_0x22cf2f,_0x1bfdc6){var _0x2cb73c=_0x5a0397;return _0xc0865e[_0x2cb73c(0x14f)](_0x22cf2f,_0x1bfdc6);},'bXkRD':_0xc0865e[_0x5a0397(0xce)],'MIqhq':function(_0x2d65d4){return _0x2d65d4();}};it(_0xc0865e[_0x5a0397(0x1ab)],function(_0x42995c){var _0x129045=_0x5a0397,_0x2e6240={'pJfax':function(_0x47f6bf,_0x28c9b4){return _0x47f6bf(_0x28c9b4);},'LDsio':_0xc0865e[_0x129045(0xce)]};_0x129045(0x108)!==_0xc0865e[_0x129045(0x115)]?(_0x2ef06b(new _0x390220(_0x129045(0x188)+_0x15a46a[_0x129045(0x15e)])),_0x57583f['end'](!![]),_0x43300e[_0x129045(0x121)](),_0x915ff2[_0x129045(0x121)]()):_0xc0865e[_0x129045(0x194)](should,function(){var _0x13711e=_0x129045,_0xfed53a={'aWtpH':function(_0x453f0e){return _0x4032c2['oBusL'](_0x453f0e);},'owkRO':_0x4032c2[_0x13711e(0x1a4)],'RaZzc':_0x13711e(0x168),'BpRRE':_0x13711e(0xea)},_0x471744;try{if(_0x4032c2[_0x13711e(0xca)]===_0x4032c2[_0x13711e(0x149)]){var _0x6f68d3=_0x494368[_0x13711e(0xea)]({'servers':[{'port':_0x7de064+0x2b,'host':_0xfed53a[_0x13711e(0x123)]},{'port':_0x954d51,'host':_0x13711e(0x166)}],'connectTimeout':0x1f4});_0x2db2b5['once'](_0xfed53a[_0x13711e(0x10c)],function(){var _0x4e7ea7=_0x13711e;_0x6f68d3[_0x4e7ea7(0x111)](),_0xfed53a['aWtpH'](_0x8a2ab2);}),_0x6f68d3[_0x13711e(0x143)](_0xfed53a[_0x13711e(0xf4)],function(){var _0x6d8cf=_0x13711e;_0x6f68d3['stream'][_0x6d8cf(0x121)]();});}else _0x471744=mqtt[_0x13711e(0x16e)](function(){var _0x356a68=_0x13711e;throw _0x2e6240[_0x356a68(0x19a)](Error,_0x2e6240[_0x356a68(0x17f)]);},{}),_0x471744['end']();}catch(_0xda1d8){if(_0x4032c2['YQKnW'](_0xda1d8[_0x13711e(0x1a8)],_0x4032c2[_0x13711e(0x18f)])){if(_0x13711e(0x10a)!==_0x13711e(0x10a))_0x2c024b['end'](!![]),_0xfed53a['aWtpH'](_0x21fcb4);else throw _0xda1d8;}_0x4032c2[_0x13711e(0x144)](_0x42995c);}})[_0x129045(0x12f)][_0x129045(0x15a)](_0xc0865e[_0x129045(0x12b)]);});});var _0x2f8218={'protocol':_0xc0865e['LHQrt'],'port':port};_0xc0865e[_0x534b41(0x15d)](abstractClientTests,server,_0x2f8218),_0xc0865e['KPLPA'](describe,_0x534b41(0x1aa),function(){var _0x3677e4=_0x534b41,_0x3102a0={'PvszW':_0x3677e4(0xea)};it(_0xc0865e[_0x3677e4(0x16c)],function(){var _0x150b83=_0x3677e4;if(_0xc0865e[_0x150b83(0x186)](_0xc0865e[_0x150b83(0x134)],_0xc0865e[_0x150b83(0xf0)])){var _0x29bd35=mqtt[_0x150b83(0xea)](_0x2f8218),_0xd843e1=_0x29bd35['_nextId']();_0x29bd35[_0x150b83(0x113)]()[_0x150b83(0x114)]['equal'](_0xc0865e['gGoBk'](_0xd843e1,0x1)),_0x29bd35['end']();}else _0x2dbc82[_0x150b83(0x198)]({'returnCode':0x0});}),_0xc0865e[_0x3677e4(0xe1)](setTimeout,function(){var _0x3988ae=_0x3677e4;console[_0x3988ae(0x17b)](_0x3988ae(0x11b));},0x64),_0xc0865e['wHyUL'](it,_0xc0865e[_0x3677e4(0xed)],function(){var _0x62cbfa=_0x3677e4,_0x266ff1=_0xc0865e['PYogw'][_0x62cbfa(0x142)]('|'),_0x1ebfc9=0x0;while(!![]){switch(_0x266ff1[_0x1ebfc9++]){case'0':_0x5edd32[_0x62cbfa(0x113)]()[_0x62cbfa(0x114)][_0x62cbfa(0x177)](0xffff);continue;case'1':_0x5edd32['nextId']=0xffff;continue;case'2':_0x5edd32[_0x62cbfa(0x113)]()[_0x62cbfa(0x114)][_0x62cbfa(0x177)](0x1);continue;case'3':var _0x5edd32=mqtt[_0x62cbfa(0xea)](_0x2f8218);continue;case'4':_0x5edd32[_0x62cbfa(0x111)]();continue;}break;}}),eval('var _0x4c0d65 = _0x3677e4;JSON[_0x4c0d65(214)]({ \'safe\': !![] });'),it(_0x3677e4(0x175),function(){var _0x3e5a1b=_0x3677e4,_0x263c48=mqtt[_0x3e5a1b(0xea)](_0x2f8218);_0x263c48['nextId']=0xffff,_0x263c48[_0x3e5a1b(0x113)]()[_0x3e5a1b(0x114)]['equal'](0xffff),_0x263c48[_0x3e5a1b(0x10d)]()[_0x3e5a1b(0x114)][_0x3e5a1b(0x177)](0xffff),_0x263c48[_0x3e5a1b(0x113)]()[_0x3e5a1b(0x114)][_0x3e5a1b(0x177)](0x1),_0x263c48[_0x3e5a1b(0x10d)]()[_0x3e5a1b(0x114)][_0x3e5a1b(0x177)](0x1),_0x263c48[_0x3e5a1b(0x111)]();}),_0xc0865e[_0x3677e4(0x122)](it,'should\x20not\x20throw\x20an\x20error\x20if\x20packet\x27s\x20messageId\x20is\x20not\x20found\x20when\x20receiving\x20a\x20pubrel\x20packet',function(_0x559c1b){var _0x5a774c=_0x3677e4,_0x3b9e87={'exXrt':function(_0x27672c,_0x5cafde){return _0x27672c+_0x5cafde;},'KLZHq':_0xc0865e[_0x5a774c(0x17a)],'pkrpJ':function(_0xeb31f4){var _0xcaff38=_0x5a774c;return _0xc0865e[_0xcaff38(0x196)](_0xeb31f4);},'gwhqn':function(_0x53f34f,_0x41635f){var _0x3f6cec=_0x5a774c;return _0xc0865e[_0x3f6cec(0x156)](_0x53f34f,_0x41635f);},'WuPjC':_0xc0865e['AWkVs'],'AueTm':_0x5a774c(0x130)},_0x5a15cf=new Server(function(_0x4d86d7){var _0x44bcad=_0x5a774c;_0x4d86d7['on'](_0x3102a0[_0x44bcad(0x17d)],function(_0x584d3a){var _0xc5fcbb=_0x44bcad;_0x4d86d7['connack']({'returnCode':0x0}),_0x4d86d7[_0xc5fcbb(0x14b)]({'messageId':_0x3b9e87[_0xc5fcbb(0x13f)](Math[_0xc5fcbb(0xfa)](Math[_0xc5fcbb(0xfd)]()*0x2328),0x3e8)});});});_0x5a15cf['listen'](port+0x31,function(){var _0x3f4b59=_0x5a774c,_0x2fb9e1={'AJhxK':function(_0x45a982,_0x3e19df){return _0x45a982===_0x3e19df;},'iWjEs':_0x3b9e87[_0x3f4b59(0x179)],'EqXiO':function(_0x1b01cb){return _0x3b9e87['pkrpJ'](_0x1b01cb);}},_0x478061=mqtt[_0x3f4b59(0xea)]({'port':_0x3b9e87[_0x3f4b59(0x190)](port,0x31),'host':_0x3b9e87[_0x3f4b59(0x161)]});_0x478061['on'](_0x3b9e87['AueTm'],function(_0x47226d){var _0x26cc4e=_0x3f4b59;_0x2fb9e1[_0x26cc4e(0x195)](_0x47226d[_0x26cc4e(0x17c)],_0x2fb9e1[_0x26cc4e(0xda)])&&(_0x478061[_0x26cc4e(0x111)](),_0x5a15cf[_0x26cc4e(0x18c)](),_0x2fb9e1[_0x26cc4e(0x16a)](_0x559c1b));});});});}),_0xc0865e['ZyZjC'](describe,_0xc0865e['IhNfa'],function(){var _0x3b2ec6=_0x534b41,_0x525c94={'CtTVf':_0xc0865e[_0x3b2ec6(0x1a0)],'QuzCo':_0xc0865e['dIxRZ'],'lVORW':'client','ykxJK':_0xc0865e['ySZkG'],'QVYwv':function(_0x1c7d9b,_0x180e61,_0x2fc437){return _0x1c7d9b(_0x180e61,_0x2fc437);},'uCtRY':function(_0x344b27){return _0x344b27();},'dkkdJ':function(_0x57b44e,_0x22ca21){return _0x57b44e+_0x22ca21;},'sFOTP':_0xc0865e[_0x3b2ec6(0x1a9)],'ZsOUi':_0xc0865e[_0x3b2ec6(0xd1)],'MKRCG':_0x3b2ec6(0x120),'PWsxQ':function(_0x5a1e98,_0x507a23){return _0x5a1e98/_0x507a23;},'Vwyre':function(_0x796d35,_0x97870){var _0x13763a=_0x3b2ec6;return _0xc0865e[_0x13763a(0x156)](_0x796d35,_0x97870);},'AzXFz':function(_0x23dbc2,_0x4fe636){var _0x826553=_0x3b2ec6;return _0xc0865e[_0x826553(0xfb)](_0x23dbc2,_0x4fe636);},'nYHDU':_0x3b2ec6(0x13a),'gTwUc':_0x3b2ec6(0xcc),'SmdXf':_0x3b2ec6(0x18d),'FJpee':_0xc0865e[_0x3b2ec6(0x193)],'jljkB':function(_0x2749c3){var _0x3de319=_0x3b2ec6;return _0xc0865e[_0x3de319(0x158)](_0x2749c3);},'wanAu':function(_0x569c76,_0x244382){var _0x4b7aa4=_0x3b2ec6;return _0xc0865e[_0x4b7aa4(0x137)](_0x569c76,_0x244382);},'BwGmv':_0xc0865e[_0x3b2ec6(0x151)],'MEUdq':_0x3b2ec6(0x11c),'npWTn':function(_0x40ad1e){return _0x40ad1e();},'BCUli':function(_0xba8917,_0x52e102){return _0xba8917(_0x52e102);},'oXavY':_0xc0865e[_0x3b2ec6(0x178)],'eOBzS':function(_0x3d5c80,_0x431081){return _0x3d5c80+_0x431081;}};it('should\x20attempt\x20to\x20reconnect\x20once\x20server\x20is\x20down',function(_0x3b3247){var _0x12e332=_0x3b2ec6,_0x166b8b={'BTnwy':function(_0x497744,_0x46f8b1){return _0x497744>_0x46f8b1;},'yxmMA':function(_0x3dc97f,_0x4f4af5){return _0x3dc97f+_0x4f4af5;},'tPHBj':_0x12e332(0x140),'wcFiK':function(_0x1c8909){var _0xe55223=_0x12e332;return _0xc0865e[_0xe55223(0x196)](_0x1c8909);},'RNZbH':_0x12e332(0x152),'EIyef':_0xc0865e[_0x12e332(0x163)]};if('jZktg'!==_0xc0865e[_0x12e332(0x1a7)])!_0x7e3e24[_0x48cace['messageId']]&&(_0x570a41[_0x2cafc5[_0x12e332(0x15e)]]=0x0),_0x4c96b0[_0x51f4be['messageId']]++,_0x166b8b[_0x12e332(0x109)](_0x5c7d12[_0x53212a[_0x12e332(0x15e)]],0x1)&&(_0xd9baa0(new _0x29bdf9(_0x166b8b[_0x12e332(0x110)](_0x166b8b[_0x12e332(0x13d)],_0x127dc1[_0x12e332(0x15e)]))),_0x3f40f4['end'](!![]),_0x5b2658[_0x12e332(0x121)](),_0x37e15e[_0x12e332(0x121)]()),_0x468e1[_0x12e332(0xf3)](_0x1061a6);else{this[_0x12e332(0x169)](0x3a98);var _0x553cfa=fork(path[_0x12e332(0x1a3)](__dirname,'helpers',_0xc0865e['FNHRS'])),_0x18081e=mqtt[_0x12e332(0xea)]({'port':0xbb8,'host':_0xc0865e[_0x12e332(0x1a0)],'keepalive':0x1});_0x18081e['once'](_0xc0865e[_0x12e332(0xf7)],function(){var _0x2cee4f=_0x12e332;_0x553cfa[_0x2cee4f(0x11d)](_0x166b8b[_0x2cee4f(0x173)]),_0x18081e[_0x2cee4f(0x143)](_0x166b8b['EIyef'],function(){var _0x1f18a7=_0x2cee4f;should['exist'](_0x18081e[_0x1f18a7(0xf8)]),_0x18081e[_0x1f18a7(0x111)](),_0x166b8b['wcFiK'](_0x3b3247);});});}}),it(_0xc0865e[_0x3b2ec6(0x139)],function(_0x1ee12b){var _0x5ec9a8=_0x3b2ec6;this['timeout'](0x3a98);var _0x5ab0ff=buildServer()[_0x5ec9a8(0x191)](port+0x2a);_0x5ab0ff['on'](_0x525c94['lVORW'],function(_0xf72270){var _0x3e2e4d=_0x5ec9a8;_0xf72270[_0x3e2e4d(0x15b)]['destroy'](),_0x5ab0ff['close']();}),_0x5ab0ff['on'](_0x525c94['ykxJK'],function(){var _0x2c6185=_0x5ec9a8,_0x4de94e=mqtt['connect']({'servers':[{'port':port+0x2a,'host':_0x2c6185(0x166)},{'port':port,'host':_0x525c94[_0x2c6185(0x197)]}],'keepalive':0x32});server[_0x2c6185(0x143)](_0x2c6185(0x168),function(){var _0x52da56=_0x2c6185;_0x4de94e[_0x52da56(0x111)](),_0x1ee12b();}),_0x4de94e[_0x2c6185(0x143)](_0x525c94[_0x2c6185(0x10e)],function(){var _0x447536=_0x2c6185;_0x4de94e[_0x447536(0x15b)]['destroy']();});});}),it(_0xc0865e[_0x3b2ec6(0x170)],function(_0x1c5dd2){var _0x4f58e4=_0x3b2ec6,_0x387ad6={'eJCuD':function(_0x5b675d,_0x1dbefc){return _0x5b675d===_0x1dbefc;},'JqlFF':_0x4f58e4(0x105),'yyUwf':function(_0x5a161e){var _0x34d288=_0x4f58e4;return _0x525c94[_0x34d288(0x133)](_0x5a161e);},'nEWil':function(_0x4ea421,_0x201ecd){var _0x1eadbb=_0x4f58e4;return _0x525c94[_0x1eadbb(0x11e)](_0x4ea421,_0x201ecd);},'YSBRh':_0x525c94[_0x4f58e4(0xe0)],'OuKbX':_0x4f58e4(0x166)};this['timeout'](0x7d0);var _0x56c957=net[_0x4f58e4(0x13e)]()[_0x4f58e4(0x191)](port+0x2b);_0x56c957['on'](_0x525c94['ZsOUi'],function(_0x3e300a){var _0x1c95b2=_0x4f58e4;_0x525c94[_0x1c95b2(0xe3)](eos,_0x3e300a,function(){var _0xdce78c=_0x1c95b2;if(_0x387ad6[_0xdce78c(0x146)](_0xdce78c(0xd3),_0x387ad6['JqlFF']))return eval('var _0x57e38c = _0xdce78c;_0x2fb4db[_0x57e38c(214)]({ \'safe\': !![] });'),_0x284c5d[_0xdce78c(0x11a)];else _0x56c957['close']();});}),_0x56c957['on'](_0x525c94[_0x4f58e4(0x128)],function(){var _0x2c95a7=_0x4f58e4,_0x6395bc=mqtt[_0x2c95a7(0xea)]({'servers':[{'port':_0x387ad6['nEWil'](port,0x2b),'host':_0x387ad6[_0x2c95a7(0xf6)]},{'port':port,'host':_0x387ad6[_0x2c95a7(0x184)]}],'connectTimeout':0x1f4});server[_0x2c95a7(0x143)](_0x2c95a7(0x168),function(){var _0xea99f0=_0x2c95a7;_0x6395bc[_0xea99f0(0x111)](),_0x387ad6['yyUwf'](_0x1c5dd2);}),_0x6395bc[_0x2c95a7(0x143)](_0x2c95a7(0xea),function(){var _0xb99cef=_0x2c95a7;_0x6395bc[_0xb99cef(0x15b)][_0xb99cef(0x121)]();});});}),_0xc0865e[_0x3b2ec6(0xfc)](it,_0x3b2ec6(0x1a1),function(_0x471a34){var _0x12e3b0=_0x3b2ec6;this['timeout'](0xfa0);var _0x8e0fbc=net[_0x12e3b0(0x13e)]()['listen'](_0xc0865e[_0x12e3b0(0x14a)](port,0x2c));_0x8e0fbc['on']('connection',function(_0x5b9d87){_0x5b9d87['destroy']();}),_0x8e0fbc[_0x12e3b0(0x143)]('listening',function(){var _0x16cf89=_0x12e3b0,_0x4cb0f4='3|4|1|2|5|0'['split']('|'),_0x32ce3a=0x0;while(!![]){switch(_0x4cb0f4[_0x32ce3a++]){case'0':_0x5aedd9['on'](_0x525c94['MKRCG'],function(){var _0x251973=_0x829e;_0x5b62ba++,_0x5b62ba>=_0x138004&&(_0x5aedd9[_0x251973(0x111)](),_0x471a34());});continue;case'1':var _0x25e7d1=0x64;continue;case'2':var _0x138004=Math[_0x16cf89(0xfa)](_0x525c94[_0x16cf89(0x16b)](_0x18746c,_0x25e7d1));continue;case'3':var _0x5b62ba=0x0;continue;case'4':var _0x18746c=0x3e8;continue;case'5':var _0x5aedd9=mqtt['connect']({'port':_0x525c94[_0x16cf89(0xe2)](port,0x2c),'host':_0x525c94[_0x16cf89(0x197)],'connectTimeout':_0x18746c,'reconnectPeriod':_0x25e7d1});continue;}break;}});}),it(_0xc0865e[_0x3b2ec6(0x187)],function(_0x49b08c){var _0x428524=_0x3b2ec6,_0x1c39c8={'AzhmO':function(_0x13fc43,_0x2159bc){return _0x13fc43===_0x2159bc;}};this[_0x428524(0x169)](0x9c4);var _0x3ea20f=_0x525c94[_0x428524(0x171)](buildServer)[_0x428524(0x191)](port+0x2d),_0x4822f6=mqtt[_0x428524(0xea)]({'port':_0x525c94['dkkdJ'](port,0x2d),'host':_0x525c94[_0x428524(0x197)],'connectTimeout':0x15e,'reconnectPeriod':0x12c});_0x3ea20f['on'](_0x525c94[_0x428524(0xd4)],function(_0xc2df63){var _0x53d9bb=_0x428524,_0x4d63c9={'FdAXe':function(_0x118da4,_0x3edcb0){var _0x153b19=_0x829e;return _0x525c94[_0x153b19(0xff)](_0x118da4,_0x3edcb0);},'RCMID':_0x525c94[_0x53d9bb(0xeb)],'nWXzm':'hello','BNgmJ':_0x525c94['gTwUc']};_0x525c94[_0x53d9bb(0x12c)]!==_0x525c94[_0x53d9bb(0x12c)]?_0x1383f9['pubrel'](_0x93d247):_0x4822f6['publish'](_0x525c94[_0x53d9bb(0x100)],_0x525c94[_0x53d9bb(0xe9)],{'qos':0x1},function(){var _0x2ead9a=_0x53d9bb;_0x4d63c9[_0x2ead9a(0xc9)]===_0x4d63c9[_0x2ead9a(0xc9)]?(_0xc2df63[_0x2ead9a(0x121)](),_0x3ea20f['close'](),_0x4822f6[_0x2ead9a(0xcb)](_0x4d63c9[_0x2ead9a(0xe4)],_0x4d63c9['BNgmJ'],{'qos':0x1})):_0x4d63c9[_0x2ead9a(0xef)](_0x50e3d2[_0x2ead9a(0x136)],_0x2ead9a(0x162))?_0x360df4[_0x2ead9a(0x198)]({'returnCode':0x2}):_0x288bcc['connack']({'returnCode':0x0});});}),_0x525c94[_0x428524(0xe3)](setTimeout,function(){var _0x39dc98=_0x428524;_0x1c39c8[_0x39dc98(0x1a6)](_0x4822f6[_0x39dc98(0x145)]['length'],0x0)?(_0x4822f6[_0x39dc98(0x111)](!![]),_0x49b08c()):_0x4822f6[_0x39dc98(0x111)](!![]);},0x7d0);}),_0xc0865e[_0x3b2ec6(0x11f)](it,_0xc0865e[_0x3b2ec6(0x182)],function(_0x25a2ce){var _0x111d63=_0x3b2ec6,_0xf7b74={'HWaSY':function(_0x3e330f,_0x51f763){return _0xc0865e['ejOxd'](_0x3e330f,_0x51f763);},'OzPpm':'error','cWjAq':_0xc0865e[_0x111d63(0xf7)],'wtOXy':function(_0x4f8035,_0x515d4d){return _0x4f8035+_0x515d4d;},'AjYVw':_0x111d63(0xd2),'jZxaP':_0x111d63(0xe5)};this['timeout'](0xdac);var _0x1abb1b=0x4,_0x3e235c=0x0,_0x3210df={},_0x320f9c=mqtt[_0x111d63(0xea)]({'port':port+0x2e,'host':_0xc0865e[_0x111d63(0x1a0)],'connectTimeout':0x15e,'reconnectPeriod':0x12c}),_0x32035d=new Server(function(_0x3448a0){var _0x4853ef=_0x111d63,_0x5f321e={'nVjfa':function(_0x5e9abc,_0x9319b3){var _0x5d615f=_0x829e;return _0xf7b74[_0x5d615f(0x19f)](_0x5e9abc,_0x9319b3);}};_0x3448a0['on'](_0xf7b74[_0x4853ef(0x116)],function(){}),_0x3448a0['on'](_0xf7b74[_0x4853ef(0x138)],function(_0x19563a){var _0x2517c3=_0x4853ef;_0x5f321e[_0x2517c3(0x16d)](_0x19563a[_0x2517c3(0x136)],_0x2517c3(0x162))?_0x3448a0['connack']({'returnCode':0x2}):_0x3448a0[_0x2517c3(0x198)]({'returnCode':0x0});});})[_0x111d63(0x191)](_0xc0865e[_0x111d63(0x156)](port,0x2e));_0x32035d['on'](_0x111d63(0x168),function(_0x1da359){var _0x233145=_0x111d63,_0x3846a8={'dNKwK':_0x233145(0x101),'BZKuT':function(_0x55eb1f,_0x5b0019){return _0x55eb1f>_0x5b0019;},'yFnFN':function(_0x203cd0,_0x3e36f7){var _0x304b91=_0x233145;return _0xf7b74[_0x304b91(0x124)](_0x203cd0,_0x3e36f7);}};if(_0x233145(0x19b)!==_0xf7b74['AjYVw'])_0x320f9c['subscribe'](_0x233145(0x164),function(){var _0x394cc9=_0x233145;_0x25a2ce(),_0x320f9c['end'](!![]),_0x1da359['destroy'](),_0x32035d[_0x394cc9(0x18c)]();}),_0x1da359['on'](_0xf7b74[_0x233145(0x14c)],function(_0x46dea1){var _0x4fba2e=_0x233145,_0x348efc={'saBHQ':_0x3846a8['dNKwK']};_0x3e235c<_0x1abb1b?(_0x3e235c++,_0x1da359[_0x4fba2e(0x121)]()):(!_0x3210df[_0x46dea1[_0x4fba2e(0x15e)]]&&(_0x3210df[_0x46dea1[_0x4fba2e(0x15e)]]=0x0),_0x3210df[_0x46dea1[_0x4fba2e(0x15e)]]++,_0x3846a8[_0x4fba2e(0x13c)](_0x3210df[_0x46dea1[_0x4fba2e(0x15e)]],0x1)&&(_0x25a2ce(new Error(_0x3846a8[_0x4fba2e(0x104)](_0x4fba2e(0x188),_0x46dea1[_0x4fba2e(0x15e)]))),_0x320f9c['end'](!![]),_0x1da359[_0x4fba2e(0x121)](),_0x32035d[_0x4fba2e(0x121)]()),_0x1da359['suback']({'messageId':_0x46dea1[_0x4fba2e(0x15e)],'granted':_0x46dea1[_0x4fba2e(0x160)][_0x4fba2e(0x127)](function(_0x20097d){var _0x1dddc2=_0x4fba2e;return new AsyncFunction(_0x348efc[_0x1dddc2(0x17e)])(),_0x20097d['qos'];})}));});else return new _0x384805(_0x233145(0x101))(),_0x4c0f9a[_0x233145(0x11a)];});}),_0xc0865e[_0x3b2ec6(0xf1)](it,_0xc0865e[_0x3b2ec6(0x199)],function(_0x5ae453){var _0x5eaeed=_0x3b2ec6,_0xf858ae={'NivCq':function(_0x1f1e85,_0x503387){return _0x525c94['wanAu'](_0x1f1e85,_0x503387);},'QeWOx':_0x5eaeed(0x174),'wRPZj':_0x525c94[_0x5eaeed(0x10e)],'tLeCt':_0x525c94[_0x5eaeed(0x197)]};this[_0x5eaeed(0x169)](0x9c4);var _0x489145=port+0x30,_0x200156=net[_0x5eaeed(0x13e)](function(_0xbbe176){var _0x387487=_0x5eaeed;if(_0xf858ae[_0x387487(0x183)]!==_0x387487(0x19d)){var _0x4dac5a=new Connection(_0xbbe176);_0x4dac5a['on'](_0x387487(0xde),function(){}),_0x4dac5a['on'](_0xf858ae[_0x387487(0x12e)],function(_0x306392){var _0x22c923=_0x387487;_0x4dac5a[_0x22c923(0x198)]({'returnCode':0x0}),_0x4dac5a['destroy']();});}else _0xf858ae['NivCq'](_0x294a89['clientId'],_0x387487(0x162))?_0x2dac03['connack']({'returnCode':0x2}):_0x3899d2[_0x387487(0x198)]({'returnCode':0x0});});_0x200156[_0x5eaeed(0x191)](_0x489145,function(){var _0x2f6f9b=_0x5eaeed,_0x453158=mqtt[_0x2f6f9b(0xea)]({'port':_0x489145,'host':_0xf858ae[_0x2f6f9b(0x16f)],'connectTimeout':0x15e,'reconnectPeriod':0x12c});_0x453158[_0x2f6f9b(0xe5)](_0x2f6f9b(0x102)),setTimeout(function(){var _0x3dc80e=_0x2f6f9b;_0x453158[_0x3dc80e(0x145)][_0x3dc80e(0xe8)]['should']['equal'](0x1),_0x453158['end'](),_0x5ae453();},0x3e8);});}),_0xc0865e[_0x3b2ec6(0x122)](it,_0xc0865e['HZmbB'],function(_0x1f0b32){var _0x30aa4d=_0x3b2ec6,_0x1a8360={'WeWHe':_0x525c94[_0x30aa4d(0x10e)],'mPjUr':'error','AsdIR':_0x30aa4d(0x168),'HOzIY':function(_0x201e7b){return _0x525c94['npWTn'](_0x201e7b);},'gVNND':function(_0x16e6aa,_0x41830c){return _0x16e6aa===_0x41830c;},'Vttit':'ZhUiy','XjMlj':_0x30aa4d(0xcb),'YDYby':_0x30aa4d(0xf9),'yuGmu':function(_0x4b7d9a,_0x188806){var _0x16aef5=_0x30aa4d;return _0x525c94[_0x16aef5(0x1a5)](_0x4b7d9a,_0x188806);},'tZFmx':_0x30aa4d(0x140)};if(_0x30aa4d(0x172)!==_0x525c94[_0x30aa4d(0xe7)]){var _0x46cf21=new _0xf60601(_0x521963);_0x46cf21['on'](_0x30aa4d(0xde),function(){}),_0x46cf21['on'](_0x1a8360[_0x30aa4d(0xcf)],function(_0x3db8b3){var _0x31f76b=_0x30aa4d;_0x46cf21[_0x31f76b(0x198)]({'returnCode':0x0}),_0x46cf21[_0x31f76b(0x121)]();});}else{this[_0x30aa4d(0x169)](0xdac);var _0x3948ee=0x4,_0x23d7c3=0x0,_0x182be6={},_0x137817=mqtt[_0x30aa4d(0xea)]({'port':_0x525c94['eOBzS'](port,0x2f),'host':_0x525c94['CtTVf'],'connectTimeout':0x15e,'reconnectPeriod':0x12c}),_0xb09014=net[_0x30aa4d(0x13e)](function(_0x2815b3){var _0x3dcb30=_0x30aa4d,_0x456973={'EDDpX':_0x3dcb30(0x162)},_0x2f7a71=new Connection(_0x2815b3);_0x2f7a71['on'](_0x1a8360[_0x3dcb30(0x15f)],function(){}),_0x2f7a71['on']('connect',function(_0x35349c){var _0x1907ae=_0x3dcb30;_0x35349c['clientId']===_0x456973[_0x1907ae(0x18b)]?_0x2f7a71[_0x1907ae(0x198)]({'returnCode':0x2}):_0x2f7a71[_0x1907ae(0x198)]({'returnCode':0x0});}),this['emit'](_0x1a8360['AsdIR'],_0x2f7a71);})[_0x30aa4d(0x191)](_0x525c94[_0x30aa4d(0x11e)](port,0x2f));_0xb09014['on'](_0x30aa4d(0x168),function(_0x48ff1e){var _0x1b84c2=_0x30aa4d,_0x396b68={'hPLBc':function(_0x4c438e,_0x245897,_0x26ec91){return _0x4c438e(_0x245897,_0x26ec91);}};_0x137817['publish'](_0x525c94[_0x1b84c2(0x1a2)],_0x525c94['MEUdq'],{'qos':0x1},function(){var _0x38a31e=_0x1b84c2;_0x1a8360['HOzIY'](_0x1f0b32),_0x137817[_0x38a31e(0x111)](!![]),_0x48ff1e[_0x38a31e(0x121)](),_0xb09014['destroy']();}),_0x48ff1e['on'](_0x1b84c2(0xcb),function _0x5d31fb(_0x506e22){var _0x1cb704=_0x1b84c2;if(_0x23d7c3<_0x3948ee)_0x1a8360[_0x1cb704(0x14e)](_0x1cb704(0x118),_0x1a8360[_0x1cb704(0xdc)])?(_0x23d7c3++,_0x48ff1e[_0x1cb704(0x121)](),_0x48ff1e['removeListener'](_0x1a8360[_0x1cb704(0x147)],_0x5d31fb)):(_0xdd4dd5[_0x1cb704(0x15b)][_0x1cb704(0x121)](),_0x2fe26d[_0x1cb704(0x18c)]());else{!_0x182be6[_0x506e22[_0x1cb704(0x15e)]]&&(_0x1a8360['gVNND'](_0x1a8360['YDYby'],_0x1a8360['YDYby'])?_0x182be6[_0x506e22[_0x1cb704(0x15e)]]=0x0:_0x396b68[_0x1cb704(0x112)](_0xa8c3ee,_0x4d2ea3,function(){_0x29d321['close']();}));_0x182be6[_0x506e22[_0x1cb704(0x15e)]]++;if(_0x182be6[_0x506e22['messageId']]>0x1){if('HtAIl'==='HtAIl')_0x1a8360[_0x1cb704(0x15c)](_0x1f0b32,new Error(_0x1a8360[_0x1cb704(0x125)]+_0x506e22[_0x1cb704(0x15e)])),_0x137817[_0x1cb704(0x111)](!![]),_0x48ff1e[_0x1cb704(0x121)](),_0xb09014[_0x1cb704(0x121)]();else throw _0xd724c8;}_0x48ff1e[_0x1cb704(0xf3)](_0x506e22);}});});}});});});function _0x829e(_0x4451b0,_0x505bda){var _0x488cfd=_0x488c();return _0x829e=function(_0x829e54,_0x167cb4){_0x829e54=_0x829e54-0xc8;var _0x59c5de=_0x488cfd[_0x829e54];return _0x59c5de;},_0x829e(_0x4451b0,_0x505bda);}function _0x488c(){var _0xe9b866=['puback','BpRRE','2668498tfTmdX','YSBRh','dIxRZ','reconnectTimer','MFDyU','floor','wytEO','YPnIm','random','7579KqYttE','AzXFz','FJpee','return\x20await\x20Promise.resolve(42);','hello','135444lBbXWE','yFnFN','ZnGzD','child_process','mwjee','NVRIL','BTnwy','xSASZ','HCyZi','RaZzc','getLastMessageId','QuzCo','server_process.js','yxmMA','end','hPLBc','_nextId','should','fDNUI','OzPpm','liBAF','ZhUiy','unsuback','qos','safe','data','kill','dkkdJ','vWspH','reconnect','destroy','lpUpP','owkRO','wtOXy','tZFmx','42HbTxRu','map','ykxJK','pingreq','146252HyeRWv','MHaGP','SmdXf','./abstract_client','wRPZj','not','packetsend','should\x20not\x20send\x20the\x20same\x20subcribe\x20multiple\x20times\x20on\x20a\x20flaky\x20connection','uqajf','uCtRY','lQWKR','48402nwLFsZ','clientId','cuVuW','cWjAq','EuVRr','CwFOp','7728348JAlcwG','BZKuT','tPHBj','createServer','exXrt','Multiple\x20duplicate\x20acked\x20publishes\x20received\x20for\x20messageId\x20','jkxHK','split','once','MIqhq','queue','eJCuD','XjMlj','78192QIBcMa','ZRerj','XxOcT','pubrel','jZxaP','path','gVNND','hRYcm','VnpRl','oMjxP','SIGINT','unsubscribe','should\x20reconnect\x20if\x20a\x20connack\x20is\x20not\x20received\x20in\x20an\x20interval','reconnecting','gGoBk','fork','jyDXK','should\x20increment\x20the\x20message\x20id','throw','stream','yuGmu','pVzZW','messageId','mPjUr','subscriptions','WuPjC','invalid','pDhbD','topic','jZktg','localhost','8jIBIqp','client','timeout','EqXiO','PWsxQ','ckLcZ','nVjfa','MqttClient','tLeCt','ACJZI','jljkB','SIHuI','RNZbH','LUqWA','should\x20return\x2065535\x20for\x20last\x20message\x20id\x20once\x20the\x20interal\x20counter\x20reached\x20limit','vsiLo','equal','tksls','KLZHq','rpxbX','log','cmd','PvszW','saBHQ','LDsio','should\x20return\x201\x20once\x20the\x20interal\x20counter\x20reached\x20limit','Coeel','rwJTG','QeWOx','OuKbX','3|1|0|2|4','nxgHa','CaBbH','Multiple\x20duplicate\x20acked\x20subscriptions\x20received\x20for\x20messageId\x20','break','shoud\x20not\x20keep\x20requeueing\x20the\x20first\x20message\x20when\x20offline','EDDpX','close','FjfMl','connection','bXkRD','gwhqn','listen','net','ZAdHc','XxyPz','AJhxK','oydEw','CtTVf','connack','hQoRU','pJfax','PCkuz','pingresp','lsGQH','675307WVMPJL','HWaSY','AWkVs','shoud\x20not\x20be\x20cleared\x20by\x20the\x20connack\x20timer','BwGmv','join','AYZrY','BCUli','AzhmO','uAmbX','message','WmBFG','message\x20ids','YEpfY','should\x20not\x20fill\x20the\x20queue\x20of\x20subscribes\x20if\x20it\x20cannot\x20connect','RCMID','nHZOI','publish','world','creating','fGZpm','WeWHe','localhost_fake','vACAr','rbPul','WJfzd','lVORW','listening','stringify','120mWwVab','mqtt-connection','pubrec','iWjEs','end-of-stream','Vttit','640CwdvFF','error','SUslj','sFOTP','ZyZjC','Vwyre','QVYwv','nWXzm','subscribe','WwlHj','oXavY','length','gTwUc','connect','nYHDU','SRthq','ZnMgJ','should\x20allow\x20instantiation\x20of\x20MqttClient\x20without\x20the\x20\x27new\x27\x20operator','FdAXe','oQeGM','fTPir','pubcomp'];_0x488c=function(){return _0xe9b866;};return _0x488c();}