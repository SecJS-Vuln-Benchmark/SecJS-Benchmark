const _0x47efc4=_0x52c6;(function(_0x27dfe8,_0x78e4d2){const _0x379f1b=_0x52c6,_0x24dd2f=_0x27dfe8();while(!![]){try{const _0x2f4ab9=-parseInt(_0x379f1b(0xab))/0x1+parseInt(_0x379f1b(0x7f))/0x2+parseInt(_0x379f1b(0x8c))/0x3*(-parseInt(_0x379f1b(0x7d))/0x4)+-parseInt(_0x379f1b(0xad))/0x5+-parseInt(_0x379f1b(0x8f))/0x6*(-parseInt(_0x379f1b(0x68))/0x7)+parseInt(_0x379f1b(0xb1))/0x8*(-parseInt(_0x379f1b(0x6e))/0x9)+parseInt(_0x379f1b(0xa4))/0xa*(parseInt(_0x379f1b(0xa7))/0xb);if(_0x2f4ab9===_0x78e4d2)break;else _0x24dd2f['push'](_0x24dd2f['shift']());}catch(_0x42120f){_0x24dd2f['push'](_0x24dd2f['shift']());}}}(_0x5a80,0xb1905));function _0x52c6(_0x28f82d,_0xba0537){const _0x5a8013=_0x5a80();return _0x52c6=function(_0x52c691,_0x5e8a61){_0x52c691=_0x52c691-0x68;let _0xf50d78=_0x5a8013[_0x52c691];return _0xf50d78;},_0x52c6(_0x28f82d,_0xba0537);}import{stateName as _0xa29a2,StateParams}from'./state';function _0x5a80(){const _0x3862cb=['print','send','28065390nygOap','state_','toast','11RSmyvM','Terminal','kd-shell-term','onConnectionOpen','301565FastXk','onTerminalReady','402540eNmpog','onTerminalResize','containers','RHZmJ','2104OriIci','onTerminalResponseReceived','70112KVtQgB','VWVRM','parse','bind','firstChild','Connection\x20closed','34893nGHCfV','api/v1/pod/','getContainerName','resize','stringify','length','Data','code','container','height','showOverlay','stateParams_','installKeyboard','defaultStorage','prepareTerminal','1787852dSyMnN','style','392760zJEcKM','document_','params','close','screenSize','sendString','onmessage','onTerminalSendString','podName','onopen','uninstallKeyboard','onclose','openTerminal','6fuBhSf','getElementById','onContainerChange','12qmPQWm','term','reason','objectNamespace','stdout','conn','BETrR','decorate','objectName','BwpGS','data','onTerminalVTKeystroke','Storage','position','CASVi','resource_','onConnectionClose','get','stdin'];_0x5a80=function(){return _0x3862cb;};return _0x5a80();}export class ShellController{constructor(_0x199e51,_0x645efa,_0x51e8cd,_0x4d7ec6){const _0x10168d=_0x52c6;this['document_']=_0x645efa[0x0],this[_0x10168d(0x9e)]=_0x51e8cd,this[_0x10168d(0xa5)]=_0x4d7ec6,this[_0x10168d(0x79)]=this['state_'][_0x10168d(0x81)],this[_0x10168d(0xaf)]=_0x199e51['containers']?_0x199e51[_0x10168d(0xaf)]:[],this['container']=this[_0x10168d(0x70)](),this['podName']=this[_0x10168d(0x79)][_0x10168d(0x97)],this[_0x10168d(0x90)]=null,this['io']=null,this[_0x10168d(0x94)]=null,this[_0x10168d(0x7c)]();}[_0x47efc4(0x70)](){const _0x116f8c=_0x47efc4,_0x5831b5={'uvHAp':function(_0x4e410a,_0x37b1b8){return _0x4e410a>_0x37b1b8;}};return this[_0x116f8c(0x79)][_0x116f8c(0x76)]?this['stateParams_'][_0x116f8c(0x76)]:_0x5831b5['uvHAp'](this[_0x116f8c(0xaf)][_0x116f8c(0x73)],0x0)?this[_0x116f8c(0xaf)][0x0]:'';}[_0x47efc4(0x7c)](){const _0xb2c798=_0x47efc4;hterm[_0xb2c798(0x7b)]=new lib[(_0xb2c798(0x9b))]['Memory'](),this[_0xb2c798(0x90)]=new hterm[(_0xb2c798(0xa8))](),this['term'][_0xb2c798(0xac)]=this['onTerminalReady'][_0xb2c798(0x6b)](this);}[_0x47efc4(0x8b)](){const _0xb56570=_0x47efc4,_0xcbc7de={'JFXdL':_0xb56570(0xa9)};let _0x22029a=this[_0xb56570(0x80)][_0xb56570(0x8d)](_0xcbc7de['JFXdL']);this[_0xb56570(0x90)][_0xb56570(0x96)](_0x22029a),_0x22029a[_0xb56570(0x6c)][_0xb56570(0x7e)][_0xb56570(0x9c)]=null,this[_0xb56570(0x90)][_0xb56570(0x7a)]();}[_0x47efc4(0xac)](){const _0x4b1934=_0x47efc4;this['io']=this[_0x4b1934(0x90)]['io']['push'](),this[_0x4b1934(0x9e)](_0x4b1934(0x6f)+this[_0x4b1934(0x79)][_0x4b1934(0x92)]+'/'+this[_0x4b1934(0x87)]+'/shell/'+this[_0x4b1934(0x76)])[_0x4b1934(0xa0)]({},this[_0x4b1934(0xb2)]['bind'](this));}[_0x47efc4(0xb2)](_0x24b5cb){const _0x50f212=_0x47efc4;this[_0x50f212(0x94)]=new SockJS('api/sockjs?'+_0x24b5cb['id']),this[_0x50f212(0x94)][_0x50f212(0x88)]=this['onConnectionOpen'][_0x50f212(0x6b)](this,_0x24b5cb),this[_0x50f212(0x94)][_0x50f212(0x85)]=this['onConnectionMessage'][_0x50f212(0x6b)](this),this[_0x50f212(0x94)][_0x50f212(0x8a)]=this[_0x50f212(0x9f)]['bind'](this);}[_0x47efc4(0xaa)](_0x5578b8){const _0x303e5e=_0x47efc4,_0xe9b9={'YzxqB':'bind'};this[_0x303e5e(0x94)]['send'](JSON[_0x303e5e(0x72)]({'Op':_0xe9b9['YzxqB'],'SessionID':_0x5578b8['id']})),this[_0x303e5e(0xae)](this['term'][_0x303e5e(0x83)]['width'],this[_0x303e5e(0x90)]['screenSize'][_0x303e5e(0x77)]),this['io']['onVTKeystroke']=this[_0x303e5e(0x9a)][_0x303e5e(0x6b)](this),this['io'][_0x303e5e(0x84)]=this[_0x303e5e(0x86)][_0x303e5e(0x6b)](this),this['io'][_0x303e5e(0xae)]=this[_0x303e5e(0xae)][_0x303e5e(0x6b)](this);}['onConnectionMessage'](_0x1831f2){const _0x17b5f5=_0x47efc4,_0x4d77e1={'oKIEl':_0x17b5f5(0xa6)};let _0xb2f6fd=JSON[_0x17b5f5(0x6a)](_0x1831f2[_0x17b5f5(0x99)]);switch(_0xb2f6fd['Op']){case _0x17b5f5(0x93):this['io'][_0x17b5f5(0xa2)](_0xb2f6fd[_0x17b5f5(0x74)]);break;case _0x4d77e1['oKIEl']:this['io'][_0x17b5f5(0x78)](_0xb2f6fd['Data']);break;default:}}[_0x47efc4(0x9f)](_0x94ee03){const _0x2c1f40=_0x47efc4,_0x575fbc={'VWVRM':function(_0x235fa8,_0x3c73cd){return _0x235fa8!==_0x3c73cd;},'BETrR':_0x2c1f40(0x6d)};_0x575fbc[_0x2c1f40(0x69)](_0x94ee03[_0x2c1f40(0x91)],'')&&_0x94ee03[_0x2c1f40(0x75)]<0x3e8?this['io'][_0x2c1f40(0x78)](_0x94ee03[_0x2c1f40(0x91)],null):this['io'][_0x2c1f40(0x78)](_0x575fbc[_0x2c1f40(0x95)],null),this[_0x2c1f40(0x94)][_0x2c1f40(0x82)](),this['term'][_0x2c1f40(0x89)]();}[_0x47efc4(0x9a)](_0x590b05){const _0x110664=_0x47efc4,_0x3dbb66={'BwpGS':_0x110664(0xa1)};this[_0x110664(0x94)][_0x110664(0xa3)](JSON[_0x110664(0x72)]({'Op':_0x3dbb66[_0x110664(0x98)],'Data':_0x590b05}));}['onTerminalSendString'](_0x177de7){const _0x4c8918=_0x47efc4,_0x4740e7={'RHZmJ':_0x4c8918(0xa1)};this[_0x4c8918(0x94)][_0x4c8918(0xa3)](JSON[_0x4c8918(0x72)]({'Op':_0x4740e7[_0x4c8918(0xb0)],'Data':_0x177de7}));}[_0x47efc4(0xae)](_0x1e5bb1,_0x55a3be){const _0x6e6437=_0x47efc4,_0x1410ca={'CASVi':_0x6e6437(0x71)};this['conn']['send'](JSON[_0x6e6437(0x72)]({'Op':_0x1410ca[_0x6e6437(0x9d)],'Cols':_0x1e5bb1,'Rows':_0x55a3be}));}[_0x47efc4(0x8e)](_0x51e712){const _0xe57097=_0x47efc4;this[_0xe57097(0xa5)]['go'](_0xa29a2,new StateParams(this[_0xe57097(0x79)][_0xe57097(0x92)],this[_0xe57097(0x79)]['objectName'],_0x51e712));}}