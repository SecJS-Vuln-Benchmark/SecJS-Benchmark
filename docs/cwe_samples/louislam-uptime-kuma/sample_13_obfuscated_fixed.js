const _0x3c7cd9=_0x27bb;(function(_0x219b81,_0x21b24e){const _0x58997c=_0x27bb,_0x396f24=_0x219b81();while(!![]){try{const _0x1e426e=parseInt(_0x58997c(0x155))/0x1*(-parseInt(_0x58997c(0x19f))/0x2)+parseInt(_0x58997c(0x17b))/0x3*(-parseInt(_0x58997c(0x163))/0x4)+-parseInt(_0x58997c(0x165))/0x5*(-parseInt(_0x58997c(0x15d))/0x6)+parseInt(_0x58997c(0x184))/0x7*(-parseInt(_0x58997c(0x15e))/0x8)+-parseInt(_0x58997c(0x15b))/0x9+parseInt(_0x58997c(0x175))/0xa+-parseInt(_0x58997c(0x17d))/0xb*(-parseInt(_0x58997c(0x180))/0xc);if(_0x1e426e===_0x21b24e)break;else _0x396f24['push'](_0x396f24['shift']());}catch(_0x54a786){_0x396f24['push'](_0x396f24['shift']());}}}(_0x1c20,0x47ea6));import _0x1e5227 from'assert';import _0xcdfbbf from'path';import _0x4374fa from'fs';import{execSync,spawnSync}from'child_process';function _0x1c20(){const _0x31aa5e=['darwin','code=','cnako3','2NcBwHD','\x20-e\x20\x22','CGZiQ','node_test(cnako)','FILEをファイル削除。ZIPをテンポラリフォルダに解凍。FILEを読む。トリム。それを表示。','ナデシコバージョンを表示','693198WgBwzI','join','246eKIBIO','16nhgBFr','strictEqual','jhUoV','圧縮/解凍','lPWrM','21680zwUjPF','BRdkM','22690KkdDJc','「{テンポラリフォルダ}/hoge」が存在。もし,そうならば「OS_INJECTION」と表示。','abc','OpGfg','hPDtL','skip','A=30;「--{A}--」を表示','add_test.nako3','3を表示','stdout','単独で実行できるプログラムの出力(macの時のみ)\x20-\x20Node.js','FILEへ「abc」を保存。FILEをZIPに圧縮。ZIPが存在。もし,そうならば「ok」と表示。','EEFvj','HRDzt','version','node','3511030rrjTBm','1+2*3を表示','yWevY','../../src/cnako3.mjs','jHDUF','stderr','6eYXqkN','log','325919XZMKwN','KxjKY','toString','132rihKBt','Eyhtm','ZcYWc','NODE_ENV','620739AULAYz','F=「{テンポラリフォルダ}/bbb」;Fが存在;もしそうならば、Fをファイル削除;','AbyhB','ehmYe','RyuEe','ZGLws','KEtjX','ナデシコバージョン:src/plugin_system.jsを正しく設定しているか？','psGXI','VlhKH','bziYP','mCGrw','which\x207z','--30--','IFotU','url','F=「{テンポラリフォルダ}/hoge」;Fが存在;もしそうならば、Fをファイル削除;','YjtMV','platform','KjGOe','unlinkSync','ooAjh','GVAMC','timeout','cJivq','test','LoYPP','303298pDYCCG','AdTOA','ナデシコ種類を表示','「{テンポラリフォルダ}/bbb」が存在。もし,そうならば「OS_INJECTION」と表示。','mEsXa','node\x20','win32','add_test.mjs','/tmp','NvIZZ','Iqdib','UOLlH','fileURLToPath','RNKKS','FILE=「{テンポラリフォルダ}/test2.txt」;ZIP=「{テンポラリフォルダ}/`touch\x20bbb`.zip」;','existsSync'];_0x1c20=function(){return _0x31aa5e;};return _0x1c20();}import _0x3a3d5f from'../../src/nako_version.mjs';function _0x27bb(_0x6ad992,_0x26dbeb){const _0x1c206d=_0x1c20();return _0x27bb=function(_0x27bbf9,_0x22251a){_0x27bbf9=_0x27bbf9-0x143;let _0x183cae=_0x1c206d[_0x27bbf9];return _0x183cae;},_0x27bb(_0x6ad992,_0x26dbeb);}import _0x40bdd8 from'url';const debug=![],__filename=_0x40bdd8[_0x3c7cd9(0x14e)](import.meta[_0x3c7cd9(0x193)]),__dirname=_0xcdfbbf['dirname'](__filename),cnako3=_0xcdfbbf['join'](__dirname,_0x3c7cd9(0x178));describe(_0x3c7cd9(0x158),()=>{const _0x463c6c=_0x3c7cd9,_0x12f9cb={'Iqdib':function(_0x3c5859,_0x5ad819){return _0x3c5859===_0x5ad819;},'Eyhtm':function(_0x20b09c,_0x2d7a16){return _0x20b09c!==_0x2d7a16;},'AdTOA':'TbWHQ','VlhKH':function(_0x46d111,_0x22ad50){return _0x46d111+_0x22ad50;},'CLpwN':_0x463c6c(0x153),'zTjaS':function(_0x2d1f38,_0x33a54b){return _0x2d1f38+_0x33a54b;},'UOLlH':'result=','KxjKY':function(_0x28c018,_0x1b252f,_0x1d55cd){return _0x28c018(_0x1b252f,_0x1d55cd);},'CGZiQ':_0x463c6c(0x15a),'YjtMV':_0x463c6c(0x144),'bziYP':function(_0x185a8d,_0x1fe789,_0x3a3efd){return _0x185a8d(_0x1fe789,_0x3a3efd);},'jhUoV':_0x463c6c(0x176),'EEFvj':function(_0x1f5399,_0xf803a1,_0x4037f1){return _0x1f5399(_0xf803a1,_0x4037f1);},'NvIZZ':'3を表示','OpGfg':_0x463c6c(0x191),'jHDUF':_0x463c6c(0x14f),'KjGOe':function(_0x2b8108,_0x3823d9){return _0x2b8108!==_0x3823d9;},'AbyhB':_0x463c6c(0x152),'XzNdC':'add_test.nako3','ZGLws':_0x463c6c(0x19d),'ooAjh':_0x463c6c(0x174),'GVAMC':_0x463c6c(0x164),'mCGrw':'FILE=「{テンポラリフォルダ}/test.txt」;ZIP=「{テンポラリフォルダ}/test.zip」;','yWevY':_0x463c6c(0x167),'ehmYe':function(_0x2679c6,_0xc55300){return _0x2679c6!==_0xc55300;},'RyuEe':_0x463c6c(0x169),'mEsXa':_0x463c6c(0x148),'ZcYWc':function(_0x6d5f02,_0x4a0414){return _0x6d5f02(_0x4a0414);},'IFotU':function(_0x244b9f,_0x2c670f){return _0x244b9f!==_0x2c670f;},'xyxNy':'obGUb','HRDzt':'FILE=「{テンポラリフォルダ}/`touch\x20hoge`.txt」;ZIP=「{テンポラリフォルダ}/test.zip」;','psGXI':_0x463c6c(0x161)},_0x4cb25f=(_0x21d6de,_0xb0be97)=>{const _0x3ff058=_0x463c6c;if(_0x12f9cb[_0x3ff058(0x14c)](_0x3ff058(0x19c),_0x3ff058(0x19c))){const _0x45d2e0=execSync(_0x3ff058(0x147)+cnako3+_0x3ff058(0x156)+_0x21d6de+'\x22')['toString']()['replace'](/\s+$/,'');if(debug){if(_0x12f9cb[_0x3ff058(0x181)]('bnkBA',_0x12f9cb[_0x3ff058(0x143)]))console[_0x3ff058(0x17c)](_0x12f9cb[_0x3ff058(0x18d)](_0x12f9cb['CLpwN'],_0x21d6de)),console[_0x3ff058(0x17c)](_0x12f9cb['zTjaS'](_0x12f9cb[_0x3ff058(0x14d)],_0x45d2e0));else return this[_0x3ff058(0x16a)]();}_0x1e5227[_0x3ff058(0x15f)](_0x45d2e0,_0xb0be97);}else return this['skip']();};it(_0x463c6c(0x18b),()=>{const _0x157835=_0x463c6c;_0x12f9cb[_0x157835(0x17e)](_0x4cb25f,_0x12f9cb[_0x157835(0x157)],_0x3a3d5f[_0x157835(0x173)]),_0x4cb25f(_0x12f9cb[_0x157835(0x195)],_0x157835(0x154));}),_0x12f9cb[_0x463c6c(0x17e)](it,'print\x20simple',()=>{const _0x1a9e68=_0x463c6c;_0x4cb25f(_0x1a9e68(0x16d),'3'),_0x12f9cb[_0x1a9e68(0x18e)](_0x4cb25f,_0x12f9cb[_0x1a9e68(0x160)],'7'),_0x12f9cb[_0x1a9e68(0x171)](_0x4cb25f,_0x1a9e68(0x16b),_0x1a9e68(0x191));})[_0x463c6c(0x19b)](0x3a98),it(_0x463c6c(0x16f),function(){const _0x53aaa2=_0x463c6c,_0x1ca063={'KEtjX':_0x12f9cb[_0x53aaa2(0x14b)],'LoYPP':_0x12f9cb[_0x53aaa2(0x168)]};if(_0x12f9cb[_0x53aaa2(0x181)](_0x12f9cb[_0x53aaa2(0x179)],_0x53aaa2(0x14f)))_0x467236(_0x1ca063[_0x53aaa2(0x18a)],'3'),_0x27564f('1+2*3を表示','7'),_0x5aedf(_0x53aaa2(0x16b),_0x1ca063[_0x53aaa2(0x19e)]);else{if(_0x12f9cb[_0x53aaa2(0x197)](process[_0x53aaa2(0x196)],_0x12f9cb[_0x53aaa2(0x186)]))return this[_0x53aaa2(0x16a)]();const _0x158474=_0xcdfbbf[_0x53aaa2(0x15c)](__dirname,_0x12f9cb['XzNdC']),_0x14fa15=_0xcdfbbf[_0x53aaa2(0x15c)](_0x53aaa2(0x14a),_0x53aaa2(0x16c)),_0x3820c6=_0xcdfbbf[_0x53aaa2(0x15c)](_0x53aaa2(0x14a),_0x53aaa2(0x149));_0x4374fa['copyFileSync'](_0x158474,_0x14fa15);if(process['env'][_0x53aaa2(0x183)]===_0x12f9cb[_0x53aaa2(0x189)])return this[_0x53aaa2(0x16a)]();const _0x28da30=spawnSync(_0x12f9cb[_0x53aaa2(0x199)],[cnako3,'-c',_0x14fa15])['stderr'];try{_0x28da30&&console['error'](_0x28da30[_0x53aaa2(0x17f)]());const _0x4bdc46=_0x12f9cb[_0x53aaa2(0x17e)](spawnSync,_0x12f9cb[_0x53aaa2(0x199)],[_0x3820c6]);_0x4bdc46[_0x53aaa2(0x17a)]&&console['error'](_0x4bdc46[_0x53aaa2(0x17a)]['toString']()),_0x1e5227[_0x53aaa2(0x15f)](_0x4bdc46[_0x53aaa2(0x16e)][_0x53aaa2(0x17f)](),'3\x0a');}finally{_0x4374fa[_0x53aaa2(0x151)](_0x3820c6)&&_0x4374fa[_0x53aaa2(0x198)](_0x3820c6);}}}),it(_0x12f9cb[_0x463c6c(0x18c)],function(){const _0x14cf79=_0x463c6c;if(process['platform']===_0x14cf79(0x148))return _0x12f9cb[_0x14cf79(0x14c)](_0x12f9cb[_0x14cf79(0x19a)],'jrqzk')?this['skip']():this[_0x14cf79(0x16a)]();try{execSync(_0x14cf79(0x190))['toString']();}catch(_0x5598ed){return this[_0x14cf79(0x16a)]();}const _0xbcf46e=_0x12f9cb[_0x14cf79(0x18f)];_0x12f9cb[_0x14cf79(0x18e)](_0x4cb25f,_0xbcf46e+_0x14cf79(0x170),'ok'),_0x4cb25f(_0xbcf46e+_0x14cf79(0x159),_0x12f9cb[_0x14cf79(0x177)]);}),_0x12f9cb[_0x463c6c(0x171)](it,'圧縮/解凍\x20-\x20OS\x20Command\x20Injection\x20#1325',function(){const _0x2dff88=_0x463c6c;if(_0x12f9cb[_0x2dff88(0x187)]('CmJig',_0x12f9cb[_0x2dff88(0x188)])){if(process[_0x2dff88(0x196)]===_0x12f9cb[_0x2dff88(0x146)])return this[_0x2dff88(0x16a)]();try{_0x12f9cb[_0x2dff88(0x182)](execSync,_0x2dff88(0x190))[_0x2dff88(0x17f)]();}catch(_0x372cc0){return _0x12f9cb[_0x2dff88(0x192)](_0x2dff88(0x162),_0x12f9cb['xyxNy'])?this[_0x2dff88(0x16a)]():this[_0x2dff88(0x16a)]();}const _0x1468d5=_0x12f9cb[_0x2dff88(0x172)];_0x4cb25f(_0x2dff88(0x194)+(_0x1468d5+_0x2dff88(0x170)),'ok'),_0x12f9cb['bziYP'](_0x4cb25f,_0x1468d5+_0x2dff88(0x166),''),_0x4cb25f(_0x1468d5+_0x2dff88(0x159),_0x2dff88(0x167));const _0x20fa2c=_0x2dff88(0x150);_0x4cb25f(_0x2dff88(0x185)+(_0x20fa2c+_0x2dff88(0x170)),'ok'),_0x12f9cb[_0x2dff88(0x18e)](_0x4cb25f,_0x20fa2c+_0x2dff88(0x145),''),_0x4cb25f(_0x20fa2c+_0x2dff88(0x159),_0x2dff88(0x167));}else _0x590e2c[_0x2dff88(0x151)](_0x4b17dd)&&_0x28087b['unlinkSync'](_0x147350);});});