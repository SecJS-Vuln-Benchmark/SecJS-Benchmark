const _0x54d44c=_0x57d7;function _0x57d7(_0x4b8b5d,_0x36a29c){const _0x2ade3d=_0x2ade();return _0x57d7=function(_0x57d708,_0x18335d){_0x57d708=_0x57d708-0x6d;let _0x3c079a=_0x2ade3d[_0x57d708];return _0x3c079a;},_0x57d7(_0x4b8b5d,_0x36a29c);}(function(_0x6820b,_0x1ace34){const _0x56adfe=_0x57d7,_0x5e66b8=_0x6820b();while(!![]){try{const _0x285a4d=parseInt(_0x56adfe(0x7a))/0x1+parseInt(_0x56adfe(0x78))/0x2*(parseInt(_0x56adfe(0xa6))/0x3)+parseInt(_0x56adfe(0xc0))/0x4+-parseInt(_0x56adfe(0x9e))/0x5*(-parseInt(_0x56adfe(0x75))/0x6)+-parseInt(_0x56adfe(0x74))/0x7+parseInt(_0x56adfe(0x93))/0x8*(-parseInt(_0x56adfe(0x9a))/0x9)+-parseInt(_0x56adfe(0xc6))/0xa*(parseInt(_0x56adfe(0xa4))/0xb);if(_0x285a4d===_0x1ace34)break;else _0x5e66b8['push'](_0x5e66b8['shift']());}catch(_0x12be49){_0x5e66b8['push'](_0x5e66b8['shift']());}}}(_0x2ade,0x6ad5b));import _0x10228d from'@/utils/wait';function _0x2ade(){const _0x6ca018=['write','595404ADkdXq','JeRaQ','media','res','telegram/extensions/html','unshift','closed','image/jpeg','nzivr','Accept-Ranges','data','JnySy','BYifC','https://t.me/s/','./client','push','cjyYi','toUTCString','date','\x20on\x20Telegram','HTMLParser','attachment;\x20filename=\x22','...','Range','UgvKD','364184OAskGy','Content-Disposition','bytes','unparse','split','application/','<br/>','27ilJSaP','filter','Content-Type','close','5exkMro','length','feature','YCkzO','title','connected','2620464TrUCiR','EADiM','282090lZZrTY','text','sKZuU','telegram','size','fVkyt','key','startsWith','<p>','mimeType','vrhCQ','className','status','req','get','set','param','thumb','entities','replaceAll','query','map','substring','JXVRc','zGOqA','tZmGA','2628356FjcABI','clFUW','BFtVH','fUHdx','qQadJ','https://t.me/','50LhSoNX','end','\x20(@','BxYsi','mediaProxyKey','document','getMedia','username','message','vzeZn','PHAcH','getMessages','allow_empty','bytes\x20','1201662cGCtor','2978382mARnTX','Invalid\x20key','BBogM','4eOOSOz'];_0x2ade=function(){return _0x6ca018;};return _0x2ade();}import{config}from'@/config';const {client,decodeMedia,getFilename,getMediaLink,streamDocument,streamThumbnail}=require(_0x54d44c(0x88)),bigInt=require('telegram/Helpers')['returnBigInt'],HTMLParser=require(_0x54d44c(0x7e))[_0x54d44c(0x8e)];function parseRange(_0x2b4af8,_0x3ae635){const _0x3669a6=_0x54d44c,_0x52ee10={'MjVrg':function(_0x286548,_0x30ee27){return _0x286548!==_0x30ee27;},'qQadJ':_0x3669a6(0x95),'zGOqA':function(_0x4595d0,_0x5a6353){return _0x4595d0===_0x5a6353;},'vzeZn':_0x3669a6(0x86)};if(!_0x2b4af8)return[];const [_0x214118,_0x360c3f]=_0x2b4af8[_0x3669a6(0x97)]('=');if(_0x52ee10['MjVrg'](_0x214118,_0x52ee10[_0x3669a6(0xc4)])){if(_0x52ee10[_0x3669a6(0xbe)](_0x52ee10[_0x3669a6(0x6f)],_0x3669a6(0xbf)))return[];else throw'unsupported\x20range:\x20'+_0x214118;}const _0x52e6e2=_0x360c3f['split'](',')[_0x3669a6(0xbb)](_0x181f31=>_0x181f31['trim']()),_0x42d252=[];for(const _0x58a238 of _0x52e6e2){const _0x1175ff=_0x58a238[_0x3669a6(0x97)]('-',0x2)[_0x3669a6(0x9b)](_0x387e7e=>!!_0x387e7e)['map'](bigInt);_0x1175ff['length']<0x2&&(_0x58a238[_0x3669a6(0xad)]('-')?_0x1175ff[_0x3669a6(0x7f)](0x0):_0x1175ff['push'](_0x3ae635)),_0x42d252[_0x3669a6(0x89)](_0x1175ff);}return _0x42d252;}async function getMedia(_0x3f2bcb){const _0x12c622=_0x54d44c,_0x3a2fec={'tZaqR':_0x12c622(0xac),'JnySy':_0x12c622(0x7c),'EupMP':function(_0x1aae90,_0x50b457){return _0x1aae90 in _0x50b457;},'fUHdx':function(_0x4d34c5,_0xb4fafd){return _0x4d34c5(_0xb4fafd);},'vrhCQ':_0x12c622(0x9c),'sKZuU':function(_0x1cce67,_0x56f479,_0x4a1cad){return _0x1cce67(_0x56f479,_0x4a1cad);},'nzivr':_0x12c622(0x91),'TZbVm':function(_0x1e0203,_0x40d86b){return _0x1e0203>_0x40d86b;},'BxYsi':function(_0x473900,_0x420bbd){return _0x473900===_0x420bbd;},'PHAcH':'Content-Length','cjyYi':function(_0x4ded70,_0xd898c9){return _0x4ded70+_0xd898c9;},'YrqUY':'Content-Range','MrdvR':function(_0x34e983,_0x39992e,_0x50aa27,_0x2423b4,_0x350530){return _0x34e983(_0x39992e,_0x50aa27,_0x2423b4,_0x350530);},'EADiM':_0x12c622(0x98),'JeRaQ':function(_0x4fbb51,_0x2cc454){return _0x4fbb51(_0x2cc454);},'BFtVH':_0x12c622(0x81)};if(_0x3f2bcb[_0x12c622(0xb3)][_0x12c622(0xb6)](_0x3a2fec['tZaqR'])!==config[_0x12c622(0xa0)][_0x12c622(0xca)])throw new Error(_0x12c622(0x76));const _0x58db4a=await decodeMedia(_0x3f2bcb['req']['param']('username'),_0x3f2bcb[_0x12c622(0xb3)]['param'](_0x3a2fec[_0x12c622(0x85)]));if(!_0x58db4a)return _0x3f2bcb['status']=0x1f4,_0x3f2bcb[_0x12c622(0x7d)][_0x12c622(0xc7)]();if(_0x3f2bcb['res']['closed'])return;if(_0x58db4a[_0x12c622(0xcb)]){_0x3f2bcb['status']=0xc8;let _0x5ebef1;if(_0x3a2fec['EupMP'](_0x12c622(0xb7),_0x3f2bcb['req'][_0x12c622(0xba)]()))try{_0x5ebef1=_0x3a2fec[_0x12c622(0xc3)](streamThumbnail,_0x58db4a),_0x3f2bcb[_0x12c622(0xb5)](_0x12c622(0x9c),'image/jpeg');}catch{return _0x3f2bcb[_0x12c622(0xb2)]=0x194,_0x3f2bcb[_0x12c622(0x7d)]['end']();}else{_0x3f2bcb['set'](_0x3a2fec[_0x12c622(0xb0)],_0x58db4a[_0x12c622(0xcb)]['mimeType']),_0x3f2bcb[_0x12c622(0xb5)](_0x12c622(0x83),_0x12c622(0x95));const _0x4b8cd7=_0x3a2fec[_0x12c622(0xa8)](parseRange,_0x3f2bcb[_0x12c622(0xb4)](_0x3a2fec[_0x12c622(0x82)]),_0x58db4a['document'][_0x12c622(0xaa)]-0x1);if(_0x3a2fec['TZbVm'](_0x4b8cd7['length'],0x1))return _0x3f2bcb['status']=0x1a0,_0x3f2bcb[_0x12c622(0x7d)][_0x12c622(0xc7)]();if(_0x3a2fec[_0x12c622(0xc9)](_0x4b8cd7[_0x12c622(0x9f)],0x1)){_0x3f2bcb[_0x12c622(0xb2)]=0xce;const [_0x28ee75,_0x5032ff]=_0x4b8cd7[0x0];_0x3f2bcb['set'](_0x3a2fec[_0x12c622(0x70)],_0x3a2fec[_0x12c622(0x8a)](_0x5032ff-_0x28ee75,0x1)),_0x3f2bcb[_0x12c622(0xb5)](_0x3a2fec['YrqUY'],_0x12c622(0x73)+_0x28ee75+'-'+_0x5032ff+'/'+_0x58db4a[_0x12c622(0xcb)][_0x12c622(0xaa)]);const _0x34651a=_0x3a2fec['MrdvR'](streamDocument,_0x58db4a[_0x12c622(0xcb)],'',_0x28ee75,_0x5032ff);for await(const _0x200e02 of _0x34651a){_0x3f2bcb[_0x12c622(0x7d)][_0x12c622(0x79)](_0x200e02);if(_0x3f2bcb['res']['closed'])break;}return _0x3f2bcb['res'][_0x12c622(0xc7)]();}_0x3f2bcb[_0x12c622(0xb5)](_0x3a2fec[_0x12c622(0x70)],_0x58db4a['document'][_0x12c622(0xaa)]),_0x58db4a['document'][_0x12c622(0xaf)][_0x12c622(0xad)](_0x3a2fec[_0x12c622(0xa5)])&&('clFUW'!==_0x12c622(0xc1)?(_0x2fbaaf[_0x12c622(0xb2)]=0x19f,_0x156ec4['write'](_0x5a254c[_0x12c622(0xb1)])):_0x3f2bcb[_0x12c622(0xb5)](_0x12c622(0x94),_0x12c622(0x8f)+_0x3a2fec['fUHdx'](encodeURIComponent,_0x3a2fec[_0x12c622(0x7b)](getFilename,_0x58db4a))+'\x22')),_0x5ebef1=streamDocument(_0x58db4a[_0x12c622(0xcb)]);}for await(const _0x42f1cc of _0x5ebef1){if(_0x3f2bcb[_0x12c622(0x7d)][_0x12c622(0x80)])break;_0x3f2bcb[_0x12c622(0x7d)][_0x12c622(0x79)](_0x42f1cc);}_0x12c622(0x9d)in _0x5ebef1&&_0x5ebef1[_0x12c622(0x9d)]();}else{if(_0x58db4a['photo']){_0x3f2bcb[_0x12c622(0xb2)]=0xc8,_0x3f2bcb['set'](_0x12c622(0x9c),_0x3a2fec[_0x12c622(0xc2)]);const _0x846b21=await client['downloadMedia'](_0x58db4a);_0x3f2bcb[_0x12c622(0x7d)]['write'](_0x846b21);}else _0x3f2bcb['status']=0x19f,_0x3f2bcb[_0x12c622(0x79)](_0x58db4a['className']);}return _0x3f2bcb[_0x12c622(0x7d)][_0x12c622(0xc7)]();}export default async _0x40790c=>{const _0x2206de=_0x54d44c,_0x581790={'YyhrQ':function(_0x6377ea,_0x3dca6a,_0x9524e4,_0x25cf25,_0x37ac79){return _0x6377ea(_0x3dca6a,_0x9524e4,_0x25cf25,_0x37ac79);},'YCkzO':_0x2206de(0x77),'pyopc':_0x2206de(0x99),'UgvKD':function(_0x453846,_0x25ded3){return _0x453846+_0x25ded3;},'JXVRc':_0x2206de(0x90),'fVkyt':function(_0x38a010,_0xa8db96){return _0x38a010*_0xa8db96;}};if(!config[_0x2206de(0xa9)]['session'])return[];!client[_0x2206de(0xa3)]&&await _0x10228d(0x3e8);const _0x2f1017=[],_0x30e548=await client['getInputEntity'](_0x40790c[_0x2206de(0xb3)][_0x2206de(0xb6)](_0x2206de(0x6d))),_0x3b89e2=await client['getEntity'](_0x30e548);let _0x1646ed=[];const _0x30f5d4=await client[_0x2206de(0x71)](_0x30e548,{'limit':0x32});for(const _0x24435d of _0x30f5d4){_0x24435d[_0x2206de(0x7c)]&&_0x1646ed[_0x2206de(0x89)](_0x581790['YyhrQ'](getMediaLink,_0x40790c,_0x30e548,_0x40790c[_0x2206de(0xb3)][_0x2206de(0xb6)](_0x2206de(0x6d)),_0x24435d));if(_0x24435d['text']!==''){if(_0x581790[_0x2206de(0xa1)]!==_0x581790[_0x2206de(0xa1)])_0x572096[_0x2206de(0x9d)]();else{let _0x17a40b=_0x1646ed['join']('\x0a');_0x1646ed=[];_0x24435d[_0x2206de(0xa7)]&&(_0x17a40b+=_0x2206de(0xae)+HTMLParser[_0x2206de(0x96)](_0x24435d[_0x2206de(0x6e)],_0x24435d[_0x2206de(0xb8)])[_0x2206de(0xb9)]('\x0a',_0x581790['pyopc'])+'</p>');const _0x47b787=_0x24435d['text']?_0x581790[_0x2206de(0x92)](_0x24435d['text'][_0x2206de(0xbc)](0x0,0x50),_0x24435d[_0x2206de(0xa7)]['length']>0x50?_0x581790[_0x2206de(0xbd)]:''):new Date(_0x581790[_0x2206de(0xab)](_0x24435d['date'],0x3e8))[_0x2206de(0x8b)]();_0x2f1017['push']({'title':_0x47b787,'description':_0x17a40b,'pubDate':new Date(_0x581790[_0x2206de(0xab)](_0x24435d[_0x2206de(0x8c)],0x3e8))[_0x2206de(0x8b)](),'link':_0x2206de(0x87)+_0x3b89e2[_0x2206de(0x6d)]+'/'+_0x24435d['id'],'author':_0x3b89e2['title']+_0x2206de(0xc8)+_0x3b89e2[_0x2206de(0x6d)]+')'});}}}_0x40790c[_0x2206de(0xb5)](_0x2206de(0x84),{'title':_0x3b89e2[_0x2206de(0xa2)],'language':null,'link':_0x2206de(0xc5)+_0x3b89e2['username'],'item':_0x2f1017,'allowEmpty':_0x40790c[_0x2206de(0xb3)][_0x2206de(0xb6)]('id')===_0x2206de(0x72),'description':'@'+_0x3b89e2[_0x2206de(0x6d)]+_0x2206de(0x8d)});};module['exports'][_0x54d44c(0xcc)]=getMedia;