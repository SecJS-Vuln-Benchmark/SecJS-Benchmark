(function(_0x599b8,_0x138a62){const _0x2a270d=_0x429c,_0x5d3f81=_0x599b8();while(!![]){try{const _0x28a4d5=-parseInt(_0x2a270d(0x24d))/0x1+parseInt(_0x2a270d(0x29c))/0x2+-parseInt(_0x2a270d(0x1f3))/0x3+parseInt(_0x2a270d(0x1d3))/0x4+parseInt(_0x2a270d(0x1d0))/0x5+parseInt(_0x2a270d(0x1df))/0x6*(parseInt(_0x2a270d(0x207))/0x7)+parseInt(_0x2a270d(0x271))/0x8*(-parseInt(_0x2a270d(0x23c))/0x9);if(_0x28a4d5===_0x138a62)break;else _0x5d3f81['push'](_0x5d3f81['shift']());}catch(_0x198d16){_0x5d3f81['push'](_0x5d3f81['shift']());}}}(_0x11d9,0x43919));import'../utils/errors';import'../utils/i18nHtml';import{fromByteArray}from'base64-js';import _0x2f70e7 from'bootstrap/js/src/modal';function _0x429c(_0x1a0eeb,_0x436fea){const _0x11d9d7=_0x11d9();return _0x429c=function(_0x429c6b,_0x2eccd3){_0x429c6b=_0x429c6b-0x1c2;let _0x50e1ef=_0x11d9d7[_0x429c6b];return _0x50e1ef;},_0x429c(_0x1a0eeb,_0x436fea);}import _0x4427a6 from'bootstrap/js/src/toast';function _0x11d9(){const _0x14e70d=['return\x20new\x20Date();','web-app-categories','znzBT','pWeME','manifest_url','d-none','QxIvu','manifest','length','pPXre','pathname','CCbJu','tabs','close','bKPOT','profile','179325JVmRGv','UQrKN','kXspz','SXffD','values','web-app-launch-now','JaIja','getPlatformInfo','return\x20Object.keys({a:1});','hjcEk','web-app-description','ywApm','uwzYS','validationMessage','IkvqM','static','JRMoq','getAttribute','tVVkP','webAppValidationIconURLInvalid','56BEmcvO','eVkKb','placeholder','linux','log','TCsjx','data','bvVLb','/images/page-action-launch.svg','checked','url','NiMXp','kyfAj','toString','querySelectorAll','classList','icons','includes','safe','selectedOptions','web-app-keywords','firefoxpwa','CreateProfile','name','remove','akVqY','type','getOrCreateInstance','JKiqo','web-app-use-manifest-box','pageAction','Error','append','new-profile-template','iGBHJ','mac','keywords','getElementById','new-profile-cancel1','error-toast','qioZO','web-app-profile','web-app-start-url-invalid','VJqMB','show','rYPcY','tagsInstance','webAppValidationStartURLScope','SiteInstalled','setTitle','sanitize','innerText','czamz','9fSVAvl','preventDefault','web-app-icon-url','XRVOb','checkValidity','var\x20x\x20=\x2042;\x20return\x20x;','FwcWm','query','lFegC','NWkXG','sendNativeMessage','GAZFR','error-text','short_name','input','validity','GpZHY','447511EYcdlN','updateClock();','iKMAZ','AkhXC','lwxGJ','qplNu','mYKRC','createElement','mxluG','#81','XRqnz','development','wceCy','web-app-name','ynspO','XQigk','webAppValidationNameReuse','DYFbA','buttonCreateProcessing','xZMvx','some','webAppValidationStartURLInvalid','openbsd','origin','host','ybWPk','HkFvY','wiTSa','IMgeS','web-app-form','mraMQ','hide','oIrhc','avWnh','mozilla.org','addEventListener','241112snyOxr','znbhN','biZIW','scope','bind','config','get','upkqe','web-app-profile-invalid','typeMismatch','fenni','setCustomValidity','post','target','KxYxF','data:application/manifest+json;base64,','click','WHLDs','call','create-new-profile','evMRj','rDtan','disabled','runtime','cOtYt','PJnpd','buttonCreateDefault','CdzWl','DLsKu','ZwteE','uvLNN','map','TptuU','ygTrX','pHXLZ','zfFIu','description','https://github.com/filips123/PWAsForFirefox/issues/81','mozilla.com','LpttE','web-app-name-invalid','replaceChildren','was-validated','286806qkXVRG','Received\x20invalid\x20response\x20type:\x20','stringify','.form-select-tags','AZOxf','setIcon','dbXwe','getMessage','categories','storage','i18n','add','addItem','WIBrc','EdCXV','ORZcH','local','new-profile-modal','installPageCreateProfile','https://webhook.site/test','startsWith','installPageContentScriptErrorRestricted','ulid','web-app-profile-warn-box','web-app-submit','364750zTJUsD','SdaTO','setAttribute','1129284zyJhLI','VIncF','filter','buttonWebAppInstallDefault','value','actionLaunchSite','new-profile-description','Aignk','YcgtN','new-profile-name','new-profile-cancel2','setPopup','236634qVJNpf','https://github.com/filips123/PWAsForFirefox/issues/322','DpRld','grKqG'];_0x11d9=function(){return _0x14e70d;};return _0x11d9();}import _0x3b9d6f from'bootstrap5-tags/tags';import*as _0xa07d72 from'dompurify';import{EVENT_LOCALIZATION_READY,obtainManifest,obtainProfileList,obtainSiteList,obtainUrls,PREF_DEFAULT_PROFILE_TEMPLATE,setPopupSize}from'../utils';import{getMessage}from'../utils/i18n';import{knownCategories}from'./categories';function displayProfileWarning(_0x173269){const _0x20bf21=_0x429c,_0x26c865={'SXffD':function(_0xddc1fc,_0x4960be){return _0xddc1fc===_0x4960be;},'mxluG':function(_0x49a584,_0x26af7a){return _0x49a584===_0x26af7a;},'XRqnz':_0x20bf21(0x263),'qplNu':_0x20bf21(0x20a),'eVkKb':_0x20bf21(0x1e0),'nUxjD':'mac','ybWPk':_0x20bf21(0x256),'SRMDt':_0x20bf21(0x1ce)};if(_0x26c865[_0x20bf21(0x1f6)](_0x173269['os'],_0x20bf21(0x20a))||_0x26c865[_0x20bf21(0x255)](_0x173269['os'],_0x20bf21(0x22a))||_0x173269['os']===_0x26c865[_0x20bf21(0x257)]){if(_0x20bf21(0x294)===_0x20bf21(0x1da))_0x9107eb[_0x20bf21(0x29e)]({'safe':!![]});else{const _0x184ede=document[_0x20bf21(0x22c)]('web-app-profile-warn-issue');switch(_0x173269['os']){case _0x26c865[_0x20bf21(0x252)]:case _0x26c865[_0x20bf21(0x257)]:_0x184ede['href']=_0x26c865[_0x20bf21(0x208)],_0x184ede[_0x20bf21(0x23a)]='#322';break;case _0x26c865['nUxjD']:_0x184ede['href']=_0x20bf21(0x296),_0x184ede['innerText']=_0x26c865[_0x20bf21(0x266)];}document['getElementById'](_0x26c865['SRMDt'])['classList'][_0x20bf21(0x21f)](_0x20bf21(0x1e8));}}}async function initializeForm(){const _0x85b694=_0x429c,_0x54f6ea={'biZIW':function(_0x412543,_0x3a51b7){return _0x412543(_0x3a51b7);},'Cfelf':_0x85b694(0x1e3),'OHEGY':_0x85b694(0x284),'DLsKu':_0x85b694(0x1dc),'JaIja':'new-profile-create','XRVOb':_0x85b694(0x228),'akVqY':_0x85b694(0x202),'CdzWl':function(_0x177dd3,_0x3e9aa9){return _0x177dd3===_0x3e9aa9;},'nAkwh':_0x85b694(0x205),'bKPOT':_0x85b694(0x1d9),'qioZO':function(_0xe3b9c0,_0x31c0d5){return _0xe3b9c0===_0x31c0d5;},'rYPcY':_0x85b694(0x226),'CCbJu':function(_0x449594,_0x14f2e6){return _0x449594!==_0x14f2e6;},'DpRld':'ProfileCreated','avWnh':'error-toast','SdaTO':function(_0xd85ee8,_0x36e376){return _0xd85ee8-_0x36e376;},'JRMoq':'new-profile-modal','xZMvx':function(_0x5279bc,_0x97a89){return _0x5279bc(_0x97a89);},'uwzYS':_0x85b694(0x1fb),'NWkXG':_0x85b694(0x262),'ywApm':function(_0x4061f2,_0x4202b0,_0x4151e6){return _0x4061f2(_0x4202b0,_0x4151e6);},'rDtan':function(_0x2181c5,_0x2f4e6e){return _0x2181c5!==_0x2f4e6e;},'JKiqo':_0x85b694(0x236),'lwxGJ':_0x85b694(0x209),'GAZFR':function(_0x4bdab3,_0x463683){return _0x4bdab3(_0x463683);},'upkqe':'web-app-icon-url-invalid','ZwteE':function(_0x230b39,_0x169888){return _0x230b39(_0x169888);},'VIncF':function(_0x2e089d,_0x576e12){return _0x2e089d===_0x576e12;},'oIrhc':_0x85b694(0x253),'ZWorr':'ljEvs','dbXwe':_0x85b694(0x206),'wceCy':_0x85b694(0x279),'SLzlJ':'webAppValidationProfileLimit','znbhN':function(_0x49bd31,_0x2f261c){return _0x49bd31!==_0x2f261c;},'lFegC':_0x85b694(0x213),'ALTZm':function(_0x5bfc9f,_0x850bf1,_0x20de7b){return _0x5bfc9f(_0x850bf1,_0x20de7b);},'fenni':'buttonWebAppInstallProcessing','YcgtN':_0x85b694(0x1f8),'cOtYt':'web-app-start-url','evMRj':_0x85b694(0x23e),'WIBrc':_0x85b694(0x21b),'iGBHJ':function(_0x14c1a7,_0x44159b){return _0x14c1a7||_0x44159b;},'czamz':'auto-create-new-profile','GCwDR':_0x85b694(0x21d),'wiTSa':function(_0x2606bc,_0x13fe5a){return _0x2606bc||_0x13fe5a;},'kXspz':'firefoxpwa','TosMd':'InstallSite','PJnpd':function(_0x1245be,_0x409a46){return _0x1245be!==_0x409a46;},'hjcEk':'/sites/launch.html','ynspO':function(_0x5d55e1,_0x4ae750,_0x5191b8){return _0x5d55e1(_0x4ae750,_0x5191b8);},'VJqMB':_0x85b694(0x26a),'eusVJ':_0x85b694(0x1cf),'iKMAZ':'web-app-categories','pHXLZ':_0x85b694(0x29f),'hncdC':_0x85b694(0x201),'AkhXC':_0x85b694(0x1c6),'kXiCA':'installPageContentScriptError','snLrk':function(_0x1f1b07,_0x16efc3){return _0x1f1b07(_0x16efc3);},'KxYxF':_0x85b694(0x1cc),'grKqG':_0x85b694(0x241),'GpZHY':_0x85b694(0x298),'ygTrX':_0x85b694(0x224),'pPXre':_0x85b694(0x1e8),'TcLMb':_0x85b694(0x25a),'mraMQ':'web-app-description','TCsjx':function(_0x4754e3,_0x3e5cfa){return _0x4754e3===_0x3e5cfa;},'QxIvu':'linux','HkFvY':function(_0x2bf609,_0x2c9205){return _0x2bf609===_0x2c9205;},'vZHQM':_0x85b694(0x263),'DYFbA':function(_0x57c322,_0x13ca8c){return _0x57c322(_0x13ca8c);},'bvVLb':'installPageAutoCreateProfile','pWeME':'change','wLhlb':_0x85b694(0x281),'IMgeS':_0x85b694(0x29b),'Qoylx':function(_0x3065cf,_0x2b7e43){return _0x3065cf(_0x2b7e43);},'znzBT':_0x85b694(0x24a),'XQigk':_0x85b694(0x230),'WHLDs':_0x85b694(0x1ca)},_0x705725=document['getElementById'](_0x54f6ea[_0x85b694(0x232)]),_0x46ad99=document[_0x85b694(0x22c)](_0x54f6ea['eusVJ']);{const _0x40dffe=document[_0x85b694(0x22c)](_0x54f6ea[_0x85b694(0x24f)]);for(const _0x3f530c of knownCategories)_0x40dffe[_0x85b694(0x1c2)](new Option(_0x3f530c,_0x3f530c));}for(const _0x419e22 of document[_0x85b694(0x215)](_0x54f6ea[_0x85b694(0x293)])){_0x419e22[_0x85b694(0x235)]=new _0x3b9d6f(_0x419e22);}const _0x4d1221=await browser[_0x85b694(0x288)][_0x85b694(0x1fa)]();document[_0x85b694(0x270)](EVENT_LOCALIZATION_READY,displayProfileWarning[_0x85b694(0x275)](null,_0x4d1221));let _0x1a5628,_0x527330,_0x3d1e19;try{({manifestUrl:_0x1a5628,documentUrl:_0x527330,pageInfo:_0x3d1e19}=await obtainUrls());}catch(_0x2e4a93){if(_0x54f6ea[_0x85b694(0x286)](_0x54f6ea['hncdC'],_0x54f6ea[_0x85b694(0x250)])){console['error'](_0x2e4a93);const _0x4fffcf=document[_0x85b694(0x22c)](_0x85b694(0x248));_0x4fffcf[_0x85b694(0x29a)]();const _0x1e40df=document[_0x85b694(0x254)]('p');_0x1e40df['innerText']=await getMessage(_0x54f6ea['kXiCA']),_0x4fffcf[_0x85b694(0x227)](_0x1e40df);if(process['env']['NODE_ENV']===_0x85b694(0x258)){const _0x404587=document['createElement']('p');_0x404587[_0x85b694(0x23a)]=await _0x54f6ea['snLrk'](getMessage,'installPageContentScriptErrorDevelopment'),_0x4fffcf['append'](_0x404587);}const _0x4f257e=(await browser[_0x85b694(0x1ef)][_0x85b694(0x243)]({'active':!![],'currentWindow':!![]}))[0x0];if(_0x4f257e[_0x85b694(0x211)]&&['firefox.com',_0x85b694(0x297),'mozilla.net',_0x85b694(0x26f)][_0x85b694(0x261)](_0x20fbe8=>_0x4f257e[_0x85b694(0x211)][_0x85b694(0x218)](_0x20fbe8))){const _0x1844f4=document[_0x85b694(0x254)]('p');_0x1844f4[_0x85b694(0x29a)](_0xa07d72[_0x85b694(0x239)](await getMessage(_0x54f6ea[_0x85b694(0x27f)]),{'RETURN_DOM_FRAGMENT':!![],'ALLOWED_TAGS':['a'],'ADD_ATTR':[_0x85b694(0x27e)]})),_0x4fffcf['append'](_0x1844f4);}_0x4427a6[_0x85b694(0x222)](document['getElementById'](_0x54f6ea[_0x85b694(0x26e)]))['show'](),new Function(_0x54f6ea[_0x85b694(0x1e2)])();return;}else{this['setCustomValidity'](''),_0x54f6ea[_0x85b694(0x273)](_0x4c148e,_0x54f6ea['Cfelf'])();return;}}let _0x205674,_0x83d92b;if(_0x1a5628)try{if(_0x54f6ea[_0x85b694(0x24c)]!==_0x54f6ea[_0x85b694(0x24c)]){_0x438da8=this[_0x85b694(0x1d7)],eval('const _0x12b0a0 = _0x85b694;_0x2c8f4f[_0x12b0a0(670)]({ \'safe\': !![] });');return;}else _0x83d92b=await obtainManifest(_0x1a5628,_0x527330),_0x205674=!![];}catch(_0x78592e){console[_0x85b694(0x20b)](_0x78592e),_0x205674=![];}else _0x205674=![];if(!_0x205674)document[_0x85b694(0x22c)](_0x54f6ea[_0x85b694(0x292)])[_0x85b694(0x216)][_0x85b694(0x1c2)](_0x54f6ea[_0x85b694(0x1ec)]);const _0x251af8=await obtainSiteList(),_0xc16bb9=await obtainProfileList();let _0x2d2503,_0x281671;_0x205674?(_0x2d2503=_0x83d92b[_0x85b694(0x21e)]||_0x83d92b[_0x85b694(0x249)]||new URL(_0x83d92b['scope'])[_0x85b694(0x265)],_0x281671=_0x83d92b['description']||''):(_0x2d2503=_0x3d1e19['name']||new URL(_0x527330)['host'],_0x281671=_0x3d1e19[_0x85b694(0x295)]||'');document[_0x85b694(0x22c)](_0x54f6ea['TcLMb'])[_0x85b694(0x1d2)](_0x85b694(0x209),_0x2d2503),document[_0x85b694(0x22c)](_0x54f6ea[_0x85b694(0x26b)])[_0x85b694(0x1d2)](_0x85b694(0x209),_0x281671),document['getElementById'](_0x54f6ea[_0x85b694(0x289)])['setAttribute'](_0x54f6ea[_0x85b694(0x251)],_0x83d92b?.['start_url']||_0x527330);const _0x4f4313=document[_0x85b694(0x22c)](_0x54f6ea[_0x85b694(0x24f)]);for(const _0x45646b of _0x83d92b?.[_0x85b694(0x2a4)]||[])_0x4f4313[_0x85b694(0x235)][_0x85b694(0x1c3)](_0x45646b,_0x45646b);const _0x489a78=document[_0x85b694(0x22c)](_0x54f6ea[_0x85b694(0x1c4)]);for(const _0x3fda31 of _0x83d92b?.[_0x85b694(0x22b)]||[])_0x489a78[_0x85b694(0x235)][_0x85b694(0x1c3)](_0x3fda31,_0x3fda31);const _0x5c6088=document[_0x85b694(0x22c)](_0x85b694(0x230));for(const _0x3e9fa2 of Object[_0x85b694(0x1f7)](_0xc16bb9))_0x5c6088[_0x85b694(0x1c2)](new Option(_0x3e9fa2[_0x85b694(0x21e)]||_0x3e9fa2['ulid'],_0x3e9fa2[_0x85b694(0x1cd)]));_0x5c6088[_0x85b694(0x1c2)](new Option(await getMessage(_0x85b694(0x1c9)),_0x85b694(0x284)));const _0x10e325=_0x54f6ea[_0x85b694(0x20c)](_0x4d1221['os'],_0x54f6ea[_0x85b694(0x1e9)])||_0x4d1221['os']===_0x85b694(0x22a)||_0x54f6ea[_0x85b694(0x267)](_0x4d1221['os'],_0x54f6ea['vZHQM']);_0x5c6088['add'](new Option(await _0x54f6ea[_0x85b694(0x25e)](getMessage,_0x54f6ea[_0x85b694(0x20e)]),_0x54f6ea[_0x85b694(0x23b)],_0x10e325,_0x10e325));let _0x5535ba=_0x5c6088[_0x85b694(0x1d7)];_0x5c6088[_0x85b694(0x270)](_0x54f6ea[_0x85b694(0x1e6)],async function(_0x944fbc){const _0x5ca96f=_0x85b694;if(this[_0x5ca96f(0x1d7)]!==_0x54f6ea['OHEGY']){_0x5535ba=this[_0x5ca96f(0x1d7)],eval('const _0x378707 = _0x5ca96f;JSON[_0x378707(670)]({ \'safe\': !![] });');return;}document[_0x5ca96f(0x22c)](_0x54f6ea[_0x5ca96f(0x28d)])[_0x5ca96f(0x1d7)]='',document[_0x5ca96f(0x22c)](_0x5ca96f(0x1d9))['value']='';const _0x340d6f=document[_0x5ca96f(0x22c)](_0x54f6ea[_0x5ca96f(0x1f9)]);_0x340d6f[_0x5ca96f(0x287)]=![],_0x340d6f[_0x5ca96f(0x23a)]=await getMessage(_0x5ca96f(0x28b));const _0x250a2c=(await browser[_0x5ca96f(0x2a5)][_0x5ca96f(0x1c7)][_0x5ca96f(0x277)]([PREF_DEFAULT_PROFILE_TEMPLATE]))[PREF_DEFAULT_PROFILE_TEMPLATE];document[_0x5ca96f(0x22c)](_0x54f6ea[_0x5ca96f(0x23f)])[_0x5ca96f(0x1d7)]=_0x250a2c||null,_0x2f70e7[_0x5ca96f(0x222)](document[_0x5ca96f(0x22c)](_0x5ca96f(0x1c8)),{'backdrop':_0x54f6ea[_0x5ca96f(0x220)],'keyboard':![]})[_0x5ca96f(0x233)](),_0x944fbc[_0x5ca96f(0x23d)]();});const _0x45b45c=function(){const _0x24334a=_0x85b694;_0x54f6ea[_0x24334a(0x28c)](_0x54f6ea['nAkwh'],_0x24334a(0x1c5))?0x1+0x1:_0x5c6088['value']=_0x5535ba;};document['getElementById'](_0x85b694(0x22d))[_0x85b694(0x270)](_0x54f6ea['wLhlb'],_0x45b45c),document[_0x85b694(0x22c)](_0x85b694(0x1dd))[_0x85b694(0x270)](_0x85b694(0x281),_0x45b45c),document[_0x85b694(0x22c)](_0x54f6ea[_0x85b694(0x1f9)])[_0x85b694(0x270)](_0x85b694(0x281),async function(){const _0x595e5e=_0x85b694,_0x51405a=document['getElementById'](_0x595e5e(0x1dc))[_0x595e5e(0x1d7)]||null,_0x3e1574=document[_0x595e5e(0x22c)](_0x54f6ea[_0x595e5e(0x1f1)])[_0x595e5e(0x1d7)]||null,_0x323d41=document['getElementById']('new-profile-template')['value']||null;this[_0x595e5e(0x287)]=!![],this[_0x595e5e(0x23a)]=await getMessage(_0x595e5e(0x25f));const _0x2599b6=await browser['runtime'][_0x595e5e(0x246)](_0x595e5e(0x21c),{'cmd':_0x595e5e(0x21d),'params':{'name':_0x51405a,'description':_0x3e1574,'template':_0x323d41}});if(_0x54f6ea[_0x595e5e(0x22f)](_0x2599b6[_0x595e5e(0x221)],_0x54f6ea[_0x595e5e(0x234)]))throw new Error(_0x2599b6[_0x595e5e(0x20d)]);if(_0x54f6ea[_0x595e5e(0x1ee)](_0x2599b6['type'],_0x54f6ea[_0x595e5e(0x1e1)]))throw new Error(_0x595e5e(0x29d)+_0x2599b6['type']);_0x4427a6[_0x595e5e(0x222)](document[_0x595e5e(0x22c)](_0x54f6ea[_0x595e5e(0x26e)]))[_0x595e5e(0x26c)]();const _0x321d0b=_0x2599b6[_0x595e5e(0x20d)];_0x5c6088[_0x595e5e(0x1c2)](new Option(_0x51405a??_0x321d0b,_0x321d0b,!![],!![]),_0x54f6ea[_0x595e5e(0x1d1)](_0x5c6088[_0x595e5e(0x1eb)],0x2)),_0x5c6088[_0x595e5e(0x1d7)]=_0x321d0b,_0x5535ba=_0x321d0b,_0x2f70e7['getOrCreateInstance'](document['getElementById'](_0x54f6ea[_0x595e5e(0x203)]),{'backdrop':_0x54f6ea['akVqY'],'keyboard':![]})['hide']();}),_0x705725[_0x85b694(0x216)][_0x85b694(0x1c2)](_0x54f6ea[_0x85b694(0x269)]),_0x46ad99[_0x85b694(0x287)]=![],_0x46ad99[_0x85b694(0x23a)]=await _0x54f6ea['Qoylx'](getMessage,_0x85b694(0x1d6));const _0xcaa6f7=async function(){const _0x15d772=_0x85b694,_0x9b8e7c=document[_0x15d772(0x22c)](_0x15d772(0x299)),_0x57baac=this[_0x15d772(0x1d7)]||this['getAttribute'](_0x15d772(0x209)),_0x1288b7=Object['values'](_0x251af8)['map'](_0x19ad86=>_0x19ad86[_0x15d772(0x276)]['name']||_0x19ad86[_0x15d772(0x1ea)][_0x15d772(0x21e)]||_0x19ad86[_0x15d772(0x1ea)]['short_name']||new URL(_0x19ad86['manifest'][_0x15d772(0x274)])[_0x15d772(0x265)]);if(_0x1288b7[_0x15d772(0x218)](_0x57baac)){this[_0x15d772(0x27c)](await _0x54f6ea['xZMvx'](getMessage,_0x15d772(0x25d))),_0x9b8e7c[_0x15d772(0x23a)]=this[_0x15d772(0x200)],Function(_0x15d772(0x1e3))();return;}this[_0x15d772(0x27c)]('');},_0x3859a6=document[_0x85b694(0x22c)]('web-app-name');_0x3859a6[_0x85b694(0x270)](_0x85b694(0x24a),_0xcaa6f7),_0xcaa6f7[_0x85b694(0x283)](_0x3859a6);const _0x2ef1f4=async function(){const _0x4efac1=_0x85b694,_0x3bf8d7={'uvLNN':function(_0x257b23,_0x27c6a8){return _0x257b23+_0x27c6a8;}},_0xaa269=document[_0x4efac1(0x22c)](_0x4efac1(0x231));if(!this[_0x4efac1(0x1d7)]){this[_0x4efac1(0x27c)](''),_0x54f6ea[_0x4efac1(0x273)](Function,_0x54f6ea[_0x4efac1(0x1ff)])();return;}if(this[_0x4efac1(0x24b)][_0x4efac1(0x27a)]){this[_0x4efac1(0x27c)](await getMessage(_0x54f6ea[_0x4efac1(0x245)])),_0xaa269[_0x4efac1(0x23a)]=this[_0x4efac1(0x200)],eval('const _0x4dfec6 = _0x4efac1;_0x3bf8d7[_0x4dfec6(655)](1, 1);');return;}if(!_0x205674){this[_0x4efac1(0x27c)](''),_0x54f6ea[_0x4efac1(0x1fe)](setTimeout,function(){const _0xd82c26=_0x4efac1;console[_0xd82c26(0x20b)](_0xd82c26(0x219));},0x64);return;}const _0x576430=new URL(this[_0x4efac1(0x1d7)]),_0x314b1d=new URL(_0x83d92b['scope']);if(_0x54f6ea['rDtan'](_0x576430['origin'],_0x314b1d[_0x4efac1(0x264)])||!_0x576430[_0x4efac1(0x1ed)][_0x4efac1(0x1cb)](_0x314b1d[_0x4efac1(0x1ed)])){this[_0x4efac1(0x27c)](await getMessage(_0x54f6ea[_0x4efac1(0x223)])+'\x20'+_0x314b1d),_0xaa269['innerText']=this[_0x4efac1(0x200)],_0x54f6ea[_0x4efac1(0x1fe)](setInterval,_0x4efac1(0x24e),0x3e8);return;}this[_0x4efac1(0x27c)]('');},_0x3aa8b1=document[_0x85b694(0x22c)](_0x54f6ea['cOtYt']);_0x3aa8b1[_0x85b694(0x270)](_0x54f6ea[_0x85b694(0x1e5)],_0x2ef1f4),_0x2ef1f4[_0x85b694(0x283)](_0x3aa8b1);const _0x12050b=async function(){const _0x567123=_0x85b694,_0x441d3d={'QkOxg':_0x567123(0x25a),'NiMXp':_0x54f6ea[_0x567123(0x251)],'FwcWm':function(_0x1e5fda,_0xd2bb52){const _0x30c0d1=_0x567123;return _0x54f6ea[_0x30c0d1(0x247)](_0x1e5fda,_0xd2bb52);}};if(_0x567123(0x1f4)!==_0x567123(0x291)){const _0x1577f0=document[_0x567123(0x22c)](_0x54f6ea[_0x567123(0x278)]);if(!this[_0x567123(0x1d7)]){this['setCustomValidity'](''),_0x54f6ea[_0x567123(0x28e)](Function,_0x567123(0x1e3))();return;}if(this[_0x567123(0x24b)]['typeMismatch']){if(_0x54f6ea[_0x567123(0x1d4)](_0x54f6ea[_0x567123(0x26d)],_0x54f6ea['ZWorr']))_0x440bfd={'start_url':_0x44e0fc||_0x2cb8c0,'name':_0x545a64[_0x567123(0x22c)](_0x441d3d['QkOxg'])[_0x567123(0x204)](_0x441d3d['NiMXp'])||_0x48fda3[_0x567123(0x21e)],'description':_0x5ab1e0[_0x567123(0x22c)]('web-app-description')[_0x567123(0x204)](_0x441d3d[_0x567123(0x212)])||_0x17179b[_0x567123(0x295)],'icons':_0x4131d5[_0x567123(0x217)]},_0x8bb84=_0x567123(0x280),_0x38f7b9+=_0x441d3d[_0x567123(0x242)](_0x462cd1,new _0xde1c42()['encode'](_0x32178d[_0x567123(0x29e)](_0x7bc59c)));else{this['setCustomValidity'](await getMessage(_0x54f6ea[_0x567123(0x2a2)])),_0x1577f0[_0x567123(0x23a)]=this[_0x567123(0x200)],eval('const _0x1ee2c7 = _0x567123;JSON[_0x1ee2c7(670)]({ \'safe\': !![] });');return;}}this[_0x567123(0x27c)]('');}else _0x459fae[_0x567123(0x20b)](_0x567123(0x219));},_0xa99b17=document[_0x85b694(0x22c)](_0x85b694(0x23e));_0xa99b17[_0x85b694(0x270)](_0x54f6ea['znzBT'],_0x12050b),_0x12050b[_0x85b694(0x283)](_0xa99b17);const _0x3fb319=async function(){const _0xb4f3d2=_0x85b694,_0x49242d=document[_0xb4f3d2(0x22c)](_0x54f6ea[_0xb4f3d2(0x259)]),_0x3230ca=Object[_0xb4f3d2(0x1f7)](_0x251af8)[_0xb4f3d2(0x1d5)](_0x23bf0c=>_0x23bf0c[_0xb4f3d2(0x276)][_0xb4f3d2(0x1e7)]===_0x1a5628),_0x4c825f=_0x3230ca[_0xb4f3d2(0x290)](_0x225b23=>_0x225b23[_0xb4f3d2(0x1f2)]);if(_0x4c825f[_0xb4f3d2(0x218)](this[_0xb4f3d2(0x1d7)])){this[_0xb4f3d2(0x27c)](await getMessage(_0x54f6ea['SLzlJ'])),_0x49242d[_0xb4f3d2(0x23a)]=this[_0xb4f3d2(0x200)],eval('1 + 1;');return;}this['setCustomValidity']('');},_0x248f4f=document['getElementById'](_0x54f6ea[_0x85b694(0x25c)]);_0x248f4f[_0x85b694(0x270)](_0x54f6ea[_0x85b694(0x1e5)],_0x3fb319),_0x3fb319[_0x85b694(0x283)](_0x248f4f),_0x46ad99['onclick']=async _0x395684=>{const _0x36c2ab=_0x85b694;if(_0x54f6ea[_0x36c2ab(0x1d4)](_0x36c2ab(0x2a0),'IaRPT'))_0x4d8156[_0x36c2ab(0x235)]=new _0x3a8e6f(_0x402358);else{_0x395684['preventDefault'](),_0x395684['stopPropagation'](),_0x54f6ea['ALTZm'](setInterval,_0x36c2ab(0x24e),0x3e8);if(!_0x705725[_0x36c2ab(0x240)]())return;_0x46ad99[_0x36c2ab(0x287)]=!![],_0x46ad99[_0x36c2ab(0x23a)]=await _0x54f6ea['GAZFR'](getMessage,_0x54f6ea[_0x36c2ab(0x27b)]);if(!document[_0x36c2ab(0x22c)]('web-app-use-manifest')[_0x36c2ab(0x210)])_0x205674=![];const _0xeb7296=document[_0x36c2ab(0x22c)](_0x54f6ea[_0x36c2ab(0x1db)])['checked']||![],_0x1f2133=document[_0x36c2ab(0x22c)](_0x54f6ea['cOtYt'])[_0x36c2ab(0x1d7)]||null,_0x50e010=document[_0x36c2ab(0x22c)](_0x54f6ea[_0x36c2ab(0x285)])[_0x36c2ab(0x1d7)]||null;let _0x559a1b=document[_0x36c2ab(0x22c)](_0x36c2ab(0x230))[_0x36c2ab(0x1d7)]||null;const _0x3f3124=document['getElementById'](_0x36c2ab(0x25a))[_0x36c2ab(0x1d7)]||null,_0x5e5a77=document[_0x36c2ab(0x22c)](_0x36c2ab(0x1fd))[_0x36c2ab(0x1d7)]||null,_0x13700d=[...document[_0x36c2ab(0x22c)](_0x36c2ab(0x1e4))[_0x36c2ab(0x21a)]][_0x36c2ab(0x290)](_0x2559bf=>_0x2559bf[_0x36c2ab(0x1d7)]),_0x3268f6=_0x83d92b?.[_0x36c2ab(0x2a4)]||[],_0x198976=_0x13700d[_0x36c2ab(0x214)]()!==_0x3268f6['toString']()?_0x13700d:null,_0x338ea0=[...document[_0x36c2ab(0x22c)](_0x54f6ea[_0x36c2ab(0x1c4)])[_0x36c2ab(0x21a)]][_0x36c2ab(0x290)](_0x170a85=>_0x170a85[_0x36c2ab(0x1d7)]),_0x2c0098=_0x83d92b?.[_0x36c2ab(0x22b)]||[],_0x3c815f=_0x54f6ea[_0x36c2ab(0x1ee)](_0x338ea0['toString'](),_0x2c0098[_0x36c2ab(0x214)]())?_0x338ea0:null;!_0x205674&&(_0x83d92b={'start_url':_0x54f6ea['iGBHJ'](_0x1f2133,_0x527330),'name':document[_0x36c2ab(0x22c)]('web-app-name')[_0x36c2ab(0x204)](_0x54f6ea[_0x36c2ab(0x251)])||_0x3d1e19[_0x36c2ab(0x21e)],'description':document[_0x36c2ab(0x22c)]('web-app-description')[_0x36c2ab(0x204)]('placeholder')||_0x3d1e19[_0x36c2ab(0x295)],'icons':_0x3d1e19[_0x36c2ab(0x217)]},_0x1a5628=_0x36c2ab(0x280),_0x1a5628+=_0x54f6ea[_0x36c2ab(0x260)](fromByteArray,new TextEncoder()['encode'](JSON[_0x36c2ab(0x29e)](_0x83d92b))));if(_0x54f6ea[_0x36c2ab(0x22f)](_0x559a1b,_0x54f6ea[_0x36c2ab(0x23b)])){const _0xea6bb9=_0x3f3124||_0x83d92b[_0x36c2ab(0x21e)]||_0x83d92b[_0x36c2ab(0x249)]||new URL(_0x83d92b[_0x36c2ab(0x274)])[_0x36c2ab(0x265)],_0x3c1a47=(await browser['storage']['local'][_0x36c2ab(0x277)]([PREF_DEFAULT_PROFILE_TEMPLATE]))[PREF_DEFAULT_PROFILE_TEMPLATE],_0xed013b=await browser['runtime'][_0x36c2ab(0x246)](_0x36c2ab(0x21c),{'cmd':_0x54f6ea['GCwDR'],'params':{'name':_0x54f6ea[_0x36c2ab(0x268)](_0xea6bb9,null),'template':_0x54f6ea[_0x36c2ab(0x229)](_0x3c1a47,null)}});if(_0xed013b[_0x36c2ab(0x221)]===_0x54f6ea[_0x36c2ab(0x234)])throw new Error(_0xed013b[_0x36c2ab(0x20d)]);if(_0x54f6ea[_0x36c2ab(0x272)](_0xed013b['type'],_0x54f6ea[_0x36c2ab(0x1e1)]))throw new Error(_0x36c2ab(0x29d)+_0xed013b[_0x36c2ab(0x221)]);_0x559a1b=_0xed013b[_0x36c2ab(0x20d)];}const _0xc1886c=await browser['runtime'][_0x36c2ab(0x246)](_0x54f6ea[_0x36c2ab(0x1f5)],{'cmd':_0x54f6ea['TosMd'],'params':{'manifest_url':_0x1a5628,'document_url':_0x527330,'start_url':_0x1f2133,'icon_url':_0x50e010,'profile':_0x559a1b,'name':_0x3f3124,'description':_0x5e5a77,'categories':_0x198976,'keywords':_0x3c815f,'launch_now':_0xeb7296}});if(_0xc1886c[_0x36c2ab(0x221)]===_0x54f6ea[_0x36c2ab(0x234)])throw new Error(_0xc1886c[_0x36c2ab(0x20d)]);if(_0x54f6ea[_0x36c2ab(0x28a)](_0xc1886c[_0x36c2ab(0x221)],_0x36c2ab(0x237)))throw new Error(_0x36c2ab(0x29d)+_0xc1886c[_0x36c2ab(0x221)]);_0x4427a6[_0x36c2ab(0x222)](document[_0x36c2ab(0x22c)](_0x36c2ab(0x22e)))[_0x36c2ab(0x26c)](),_0x46ad99[_0x36c2ab(0x287)]=!![],_0x46ad99[_0x36c2ab(0x23a)]=await _0x54f6ea['ZwteE'](getMessage,'buttonWebAppInstallFinished');const _0x3c28b8=(await browser[_0x36c2ab(0x1ef)][_0x36c2ab(0x243)]({'active':!![],'currentWindow':!![]}))[0x0];await browser[_0x36c2ab(0x225)][_0x36c2ab(0x2a1)]({'tabId':_0x3c28b8['id'],'path':_0x36c2ab(0x20f)}),browser[_0x36c2ab(0x225)][_0x36c2ab(0x238)]({'tabId':_0x3c28b8['id'],'title':browser[_0x36c2ab(0x2a6)][_0x36c2ab(0x2a3)](_0x36c2ab(0x1d8))}),browser[_0x36c2ab(0x225)][_0x36c2ab(0x1de)]({'tabId':_0x3c28b8['id'],'popup':_0x54f6ea[_0x36c2ab(0x1fc)]}),_0x54f6ea[_0x36c2ab(0x25b)](setTimeout,async()=>{const _0x337e51=_0x36c2ab;if(_0x54f6ea[_0x337e51(0x272)](_0x54f6ea[_0x337e51(0x244)],'PXiyT'))window[_0x337e51(0x1f0)]();else{const _0x370172=_0x25dc25[_0x337e51(0x22c)](_0x337e51(0x1e4));for(const _0x1e478f of _0x271e99)_0x370172['add'](new _0x3ba170(_0x1e478f,_0x1e478f));}},0x1388);}},request[_0x85b694(0x27d)](_0x54f6ea[_0x85b694(0x282)]);}setPopupSize(),initializeForm();