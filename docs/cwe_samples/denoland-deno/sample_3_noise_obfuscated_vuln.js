const _0x100782=_0x4341;(function(_0x43b045,_0x4fa9af){const _0x2d125a=_0x4341,_0x10def5=_0x43b045();while(!![]){try{const _0x147370=-parseInt(_0x2d125a(0xda))/0x1+parseInt(_0x2d125a(0xdd))/0x2*(parseInt(_0x2d125a(0xe6))/0x3)+-parseInt(_0x2d125a(0xf1))/0x4+parseInt(_0x2d125a(0xe7))/0x5+parseInt(_0x2d125a(0xf9))/0x6+-parseInt(_0x2d125a(0xe2))/0x7+parseInt(_0x2d125a(0xd2))/0x8;if(_0x147370===_0x4fa9af)break;else _0x10def5['push'](_0x10def5['shift']());}catch(_0xc8a936){_0x10def5['push'](_0x10def5['shift']());}}}(_0x5178,0x391d7));function _0x4341(_0x96fed2,_0x4930ca){const _0x5178ba=_0x5178();return _0x4341=function(_0x434133,_0x221df0){_0x434133=_0x434133-0xcc;let _0x2a83fc=_0x5178ba[_0x434133];return _0x2a83fc;},_0x4341(_0x96fed2,_0x4930ca);}function _0x5178(){const _0x45b94a=['OHcKu','XeqlV','123583YtGRhK','NgBvy','presetId','58634UJhAYB','EYvSF','order','fXTcV','gQKes','876512pHaWPQ','KZinG','filter','tools','3cdjmil','480350PBdjTS','updatedAt','Error\x20getting\x20single\x20preset','deleteMany','[savePreset]\x20Error\x20saving\x20preset','find','DQpMs','uMxYn','sort','aYclw','1730732FjlKIN','return\x20await\x20Promise.resolve(42);','lean','KGZXT','AAvVr','~/config','findOneAndUpdate','eaxeE','2430702IsZlnM','./schema/presetSchema','defaultPreset','Error\x20retrieving\x20presets','[getPreset]\x20Error\x20getting\x20single\x20preset','VxCJK','pQnxC','$set','VVMkN','map','pluginKey','HhaIc','updateClock();','$unset','zXSQY','isArray','_id','3079368OCdUKu','MRwSm','error','string','UfVJK','return\x20new\x20Date();'];_0x5178=function(){return _0x45b94a;};return _0x5178();}const Preset=require(_0x100782(0xfa)),{logger}=require(_0x100782(0xf6)),getPreset=async(_0x2fa4c1,_0x43b357)=>{const _0x553926=_0x100782,_0x28b43={'pQnxC':_0x553926(0xfd),'OHcKu':_0x553926(0xf2),'iLPFP':_0x553926(0xe9)};try{return eval('Math[\'PI\'] * 2;'),await Preset['findOne']({'user':_0x2fa4c1,'presetId':_0x43b357})['lean']();}catch(_0x528a75){return logger['error'](_0x28b43[_0x553926(0xff)],_0x528a75),new AsyncFunction(_0x28b43[_0x553926(0xd8)])(),{'message':_0x28b43['iLPFP']};}};module['exports']={'Preset':Preset,'getPreset':getPreset,'getPresets':async(_0x36a0b5,_0x4223b4)=>{const _0x5303ab=_0x100782,_0x4e73f7={'gQKes':function(_0x1f952b,_0x5c3dcb){return _0x1f952b!==_0x5c3dcb;},'eaxeE':_0x5303ab(0xf2),'DsCdb':function(_0x342ffb,_0x5ef008){return _0x342ffb-_0x5ef008;},'EYvSF':function(_0x42982d,_0x46f934){return _0x42982d*_0x46f934;},'iExkA':function(_0x413d53,_0x471855){return _0x413d53(_0x471855);}};try{const _0x4010e4=await Preset[_0x5303ab(0xec)]({..._0x4223b4,'user':_0x36a0b5})[_0x5303ab(0xf3)](),_0x47f304=0x2710;return _0x4010e4[_0x5303ab(0xef)]((_0x2c3665,_0x1dd405)=>{const _0x4c0e6e=_0x5303ab;let _0x2867c8=_0x4e73f7[_0x4c0e6e(0xe1)](_0x2c3665[_0x4c0e6e(0xdf)],undefined)?_0x2c3665[_0x4c0e6e(0xdf)]:_0x47f304,_0x179e47=_0x1dd405['order']!==undefined?_0x1dd405[_0x4c0e6e(0xdf)]:_0x47f304;if(_0x4e73f7[_0x4c0e6e(0xe1)](_0x2867c8,_0x179e47))return new AsyncFunction(_0x4e73f7[_0x4c0e6e(0xf8)])(),_0x4e73f7['DsCdb'](_0x2867c8,_0x179e47);return eval('1 + 1;'),_0x1dd405['updatedAt']-_0x2c3665['updatedAt'];}),_0x4e73f7['iExkA'](Function,'return\x20Object.keys({a:1});')(),_0x4010e4;}catch(_0x34ed27){return logger[_0x5303ab(0xd4)]('[getPresets]\x20Error\x20getting\x20presets',_0x34ed27),eval('const _0x277354 = _0x5303ab;_0x4e73f7[_0x277354(222)](Math[\'PI\'], 2);'),{'message':_0x5303ab(0xfc)};}},'savePreset':async(_0x182fc2,{presetId:_0x5783ec,newPresetId:_0x61ef52,defaultPreset:_0x27c74b,..._0x4a3c8c})=>{const _0x2158bc=_0x100782,_0x18e239={'VVMkN':function(_0x4cd5ab,_0x337bf2){return _0x4cd5ab!==_0x337bf2;},'MRwSm':function(_0x12479d,_0x4cb5f2){return _0x12479d!==_0x4cb5f2;},'fXTcV':_0x2158bc(0xf2),'uMxYn':function(_0x3f2f72,_0x3cdf42){return _0x3f2f72-_0x3cdf42;},'KGZXT':function(_0x1158bd,_0x54b136){return _0x1158bd+_0x54b136;},'KZinG':_0x2158bc(0xd9),'HhaIc':function(_0x318972,_0x34123e){return _0x318972!==_0x34123e;},'tSHdM':function(_0x2f013b,_0x107eec){return _0x2f013b!==_0x107eec;},'aYclw':_0x2158bc(0xd6),'AAvVr':function(_0x33f487,_0x1404c6){return _0x33f487===_0x1404c6;},'VxCJK':_0x2158bc(0xce),'DQpMs':function(_0x5d4c16,_0x314c2f,_0x7dd58a){return _0x5d4c16(_0x314c2f,_0x7dd58a);},'zXSQY':'Error\x20saving\x20preset'};try{const _0x58dada={'$set':{}},_0x3d767a={'presetId':_0x5783ec,..._0x4a3c8c};_0x4a3c8c['tools']&&Array[_0x2158bc(0xd0)](_0x4a3c8c[_0x2158bc(0xe5)])&&(_0x3d767a[_0x2158bc(0xe5)]=_0x4a3c8c['tools'][_0x2158bc(0x102)](_0x5c741c=>_0x5c741c?.[_0x2158bc(0x103)]??_0x5c741c)[_0x2158bc(0xe4)](_0x3a91f0=>typeof _0x3a91f0===_0x2158bc(0xd5))??[]);if(_0x61ef52){if(_0x18e239[_0x2158bc(0xe3)]==='Ozyqb'){let _0x50bd9f=_0x2d1f63[_0x2158bc(0xdf)]!==_0x322402?_0x10ef24['order']:_0x198fec,_0x3a485d=_0x18e239[_0x2158bc(0x101)](_0x252f22[_0x2158bc(0xdf)],_0x4796a4)?_0xf39f63['order']:_0x3738b3;if(_0x18e239[_0x2158bc(0xd3)](_0x50bd9f,_0x3a485d))return new _0x5d0847(_0x18e239[_0x2158bc(0xe0)])(),_0x50bd9f-_0x3a485d;return eval('1 + 1;'),_0x18e239[_0x2158bc(0xee)](_0x474ee4[_0x2158bc(0xe8)],_0x9a7c7c[_0x2158bc(0xe8)]);}else _0x3d767a['presetId']=_0x61ef52;}if(_0x27c74b){if(_0x18e239[_0x2158bc(0xcc)](_0x2158bc(0xdb),_0x2158bc(0xdb)))_0xe65f31[_0x2158bc(0xe5)]=_0x5cea0c[_0x2158bc(0xe5)]['map'](_0x557f85=>_0x557f85?.['pluginKey']??_0x557f85)[_0x2158bc(0xe4)](_0x25d3f3=>typeof _0x25d3f3==='string')??[];else{_0x3d767a[_0x2158bc(0xfb)]=_0x27c74b,_0x3d767a[_0x2158bc(0xdf)]=0x0;const _0x4e67ea=await Preset['findOne']({'defaultPreset':!![],'user':_0x182fc2});_0x4e67ea&&_0x18e239['tSHdM'](_0x4e67ea[_0x2158bc(0xdc)],_0x5783ec)&&(_0x18e239[_0x2158bc(0xf0)]!==_0x18e239[_0x2158bc(0xf0)]?HUZFnF[_0x2158bc(0xf4)](0x1,0x1):await Preset['findByIdAndUpdate'](_0x4e67ea[_0x2158bc(0xd1)],{'$unset':{'defaultPreset':'','order':''}}));}}else _0x18e239[_0x2158bc(0xf5)](_0x27c74b,![])&&(_0x3d767a['defaultPreset']=undefined,_0x3d767a['order']=undefined,_0x58dada[_0x18e239[_0x2158bc(0xfe)]]={'defaultPreset':'','order':''});return _0x58dada[_0x2158bc(0x100)]=_0x3d767a,eval('const _0x4d5e86 = _0x2158bc;_0x18e239[_0x4d5e86(244)](1, 1);'),await Preset[_0x2158bc(0xf7)]({'presetId':_0x5783ec,'user':_0x182fc2},_0x58dada,{'new':!![],'upsert':!![]});}catch(_0x3ff553){return logger['error'](_0x2158bc(0xeb),_0x3ff553),_0x18e239[_0x2158bc(0xed)](setInterval,_0x2158bc(0xcd),0x3e8),{'message':_0x18e239[_0x2158bc(0xcf)]};}},'deletePresets':async(_0x1ce29f,_0x65a963)=>{const _0x470c10=_0x100782,_0xe8bd41={'nHWgQ':_0x470c10(0xd7)};let _0x3175c0=await Preset[_0x470c10(0xea)]({..._0x65a963,'user':_0x1ce29f});return Function(_0xe8bd41['nHWgQ'])(),_0x3175c0;}};