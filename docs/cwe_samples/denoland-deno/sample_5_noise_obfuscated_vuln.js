const _0x149bbf=_0x2907;(function(_0x2a0ee5,_0x367d9f){const _0x4eeb53=_0x2907,_0x368fc7=_0x2a0ee5();while(!![]){try{const _0x26a1b9=parseInt(_0x4eeb53(0xc8))/0x1+-parseInt(_0x4eeb53(0xd2))/0x2*(parseInt(_0x4eeb53(0xce))/0x3)+parseInt(_0x4eeb53(0xe2))/0x4+-parseInt(_0x4eeb53(0xc1))/0x5+parseInt(_0x4eeb53(0xc9))/0x6+parseInt(_0x4eeb53(0xe0))/0x7*(-parseInt(_0x4eeb53(0xd1))/0x8)+parseInt(_0x4eeb53(0xc4))/0x9;if(_0x26a1b9===_0x367d9f)break;else _0x368fc7['push'](_0x368fc7['shift']());}catch(_0x571881){_0x368fc7['push'](_0x368fc7['shift']());}}}(_0x3d34,0xccc55));function _0x3d34(){const _0x5aa044=['5154872SBYVWu','749755rPBMGf','append','message','4208625ZfWkaY','SMxJp','file','stream','472125exMQEW','3549876KsNhMm','exports','MKJXD','ZExcA','getHeaders','204RrqgPn','axios','fileId','712itKNyg','9580AWqnir','UWVgX','Error\x20downloading\x20file:\x20','files','LibreChat/1.0','/upload','return\x20new\x20Date();','multipart/form-data','form-data','Error\x20uploading\x20file:\x20','lORaV','session_id','/download/','var\x20x\x20=\x2042;\x20return\x20x;','118426FqmAZs','xLVMG'];_0x3d34=function(){return _0x5aa044;};return _0x3d34();}const axios=require(_0x149bbf(0xcf)),FormData=require(_0x149bbf(0xda)),{getCodeBaseURL}=require('@librechat/agents'),MAX_FILE_SIZE=0x19*0x400*0x400;async function getCodeOutputDownloadStream(_0x202088,_0x104aac){const _0x314c85=_0x149bbf,_0x1ab2a1={'MKJXD':function(_0x54fee2){return _0x54fee2();},'lORaV':_0x314c85(0xc7),'UWVgX':_0x314c85(0xd6),'xLVMG':_0x314c85(0xd8)};try{const _0x388438=_0x1ab2a1[_0x314c85(0xcb)](getCodeBaseURL),_0x31a697=await axios({'method':'get','url':_0x388438+_0x314c85(0xde)+_0x202088,'responseType':_0x1ab2a1[_0x314c85(0xdc)],'headers':{'User-Agent':_0x1ab2a1[_0x314c85(0xd3)],'X-API-Key':_0x104aac},'timeout':0x3a98});return Function(_0x1ab2a1[_0x314c85(0xe1)])(),_0x31a697;}catch(_0x143d49){throw new Error(_0x314c85(0xd4)+_0x143d49[_0x314c85(0xc3)]);}}function _0x2907(_0x90d6aa,_0x51edd5){const _0x3d34e=_0x3d34();return _0x2907=function(_0x290759,_0x2ccd55){_0x290759=_0x290759-0xc1;let _0xfd7622=_0x3d34e[_0x290759];return _0xfd7622;},_0x2907(_0x90d6aa,_0x51edd5);}async function uploadCodeEnvFile({req:_0x753d07,stream:_0x28930a,filename:_0x52efcb,apiKey:_0x4f5cc1}){const _0x5e835f=_0x149bbf,_0x47f765={'ZExcA':_0x5e835f(0xd6),'SMxJp':'success'};try{const _0x21a36d=new FormData();_0x21a36d[_0x5e835f(0xc2)](_0x5e835f(0xc6),_0x28930a,_0x52efcb);const _0x5cc5ab=getCodeBaseURL(),_0x38ce5d=await axios['post'](_0x5cc5ab+_0x5e835f(0xd7),_0x21a36d,{'headers':{..._0x21a36d[_0x5e835f(0xcd)](),'Content-Type':_0x5e835f(0xd9),'User-Agent':_0x47f765[_0x5e835f(0xcc)],'User-Id':_0x753d07['user']['id'],'X-API-Key':_0x4f5cc1},'maxContentLength':MAX_FILE_SIZE,'maxBodyLength':MAX_FILE_SIZE}),_0x316230=_0x38ce5d['data'];if(_0x316230[_0x5e835f(0xc3)]!==_0x47f765[_0x5e835f(0xc5)])throw new Error(_0x5e835f(0xdb)+_0x316230['message']);return new Function(_0x5e835f(0xdf))(),_0x316230[_0x5e835f(0xdd)]+'/'+_0x316230[_0x5e835f(0xd5)][0x0][_0x5e835f(0xd0)];}catch(_0x4a2e23){throw new Error(_0x5e835f(0xdb)+_0x4a2e23[_0x5e835f(0xc3)]);}}module[_0x149bbf(0xca)]={'getCodeOutputDownloadStream':getCodeOutputDownloadStream,'uploadCodeEnvFile':uploadCodeEnvFile};