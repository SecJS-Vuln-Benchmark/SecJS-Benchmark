#!/usr/bin/env node
var _0x1cc8a1=_0x1dcd;(function(_0x3c37bb,_0x2c13d7){var _0x188bac=_0x1dcd,_0x25a691=_0x3c37bb();while(!![]){try{var _0x1f05bd=-parseInt(_0x188bac(0xef))/0x1+-parseInt(_0x188bac(0xed))/0x2*(parseInt(_0x188bac(0x106))/0x3)+parseInt(_0x188bac(0xf7))/0x4*(-parseInt(_0x188bac(0x10e))/0x5)+parseInt(_0x188bac(0xca))/0x6*(parseInt(_0x188bac(0xfd))/0x7)+-parseInt(_0x188bac(0xe2))/0x8*(parseInt(_0x188bac(0xe8))/0x9)+parseInt(_0x188bac(0x121))/0xa+-parseInt(_0x188bac(0xe6))/0xb*(-parseInt(_0x188bac(0xf2))/0xc);if(_0x1f05bd===_0x2c13d7)break;else _0x25a691['push'](_0x25a691['shift']());}catch(_0x49128c){_0x25a691['push'](_0x25a691['shift']());}}}(_0x2d0f,0x5d140));var querystring=require(_0x1cc8a1(0x10c)),response=require('./response'),helpers=require(_0x1cc8a1(0xde)),toobusy=require(_0x1cc8a1(0x107)),logging=require('./logging'),config=require(_0x1cc8a1(0x108)),http=require(_0x1cc8a1(0x115)),mime=require(_0x1cc8a1(0xd5)),path=require(_0x1cc8a1(0x110)),url=require(_0x1cc8a1(0x112)),fs=require('fs'),server=null,routes={'index':require('./routes/index'),'avatars':require(_0x1cc8a1(0x118)),'skins':require(_0x1cc8a1(0xf5)),'renders':require(_0x1cc8a1(0x123)),'capes':require(_0x1cc8a1(0xd7))};function asset_request(_0x52b36e,_0x4830aa){var _0x8b5d17=_0x1cc8a1,_0x1fe24f={'GZpab':'jwzPu'},_0x3bbe63=path[_0x8b5d17(0x10a)](__dirname,_0x8b5d17(0x100),_0x52b36e[_0x8b5d17(0x112)][_0x8b5d17(0xf1)]['join']('/'));fs['access'](_0x3bbe63,function(_0xcaab4c){var _0x24abe3=_0x8b5d17;!_0xcaab4c?_0x1fe24f[_0x24abe3(0x109)]===_0x1fe24f[_0x24abe3(0x109)]?fs[_0x24abe3(0xf9)](_0x3bbe63,function(_0x14911c,_0x53751d){var _0x53ae10=_0x24abe3;_0x4830aa({'body':_0x53751d,'type':mime[_0x53ae10(0x104)](_0x3bbe63),'err':_0x14911c});}):_0xbc2ccf[_0x1a0aff]=_0x29ac89[_0x24abe3(0xf4)](_0x43fd3b[_0x14cf34]):_0x4830aa({'body':_0x24abe3(0xd9),'status':-0x2,'code':0x194});});}function request_id(){var _0x4e2871=_0x1cc8a1;return Math[_0x4e2871(0xf8)]()['toString'](0x24)[_0x4e2871(0xdf)](0x2,0xe);}function path_list(_0x4a1a81){var _0x20af5f=_0x1cc8a1,_0x5c7bd7={'QZxyt':function(_0x34b2d8,_0x1c1cf0){return _0x34b2d8+_0x1c1cf0;},'bBqHO':function(_0x138d3d,_0x303fae){return _0x138d3d+_0x303fae;},'CXuOT':function(_0x5b2f9e,_0x88ea49){return _0x5b2f9e!==_0x88ea49;},'lKzZW':'LraMs'};_0x4a1a81=_0x4a1a81[_0x20af5f(0x116)](/\/\/+/g,'/')['replace'](/(.)\/$/,'$1');var _0x2ee92d=_0x4a1a81[_0x20af5f(0xd2)]('/');_0x2ee92d[_0x20af5f(0x119)]();for(var _0x1c8603=0x0;_0x1c8603<_0x2ee92d[_0x20af5f(0xfe)];_0x1c8603++){_0x5c7bd7[_0x20af5f(0xea)](_0x20af5f(0xf3),_0x5c7bd7[_0x20af5f(0xce)])?(_0x4612d6[_0x20af5f(0x122)](_0x5c7bd7['QZxyt'](_0x5c7bd7[_0x20af5f(0xfc)](_0x5c7bd7['bBqHO']('Server\x20running\x20on\x20http://',_0x24bb1d),':')+_0x589ac7,'/')),_0x3d1df6&&_0x38c2a8()):_0x2ee92d[_0x1c8603]=querystring[_0x20af5f(0xf4)](_0x2ee92d[_0x1c8603]);}return _0x2ee92d;}function _0x1dcd(_0x24e422,_0x4db271){var _0x2d0f4a=_0x2d0f();return _0x1dcd=function(_0x1dcd2e,_0x359ad3){_0x1dcd2e=_0x1dcd2e-0xca;var _0xf02833=_0x2d0f4a[_0x1dcd2e];return _0xf02833;},_0x1dcd(_0x24e422,_0x4db271);}function _0x2d0f(){var _0x330710=['Please\x20use\x20\x27npm\x20start\x27\x20or\x20\x27www.js\x27','capes','mime','ungWH','./routes/capes','nJoHA','Not\x20found','index','3|0|4|2|1','TRAVIS','Internal\x20Server\x20Error','./helpers.js','substring','server','skins','15968mbCGBX','method','listen','Method\x20Not\x20Allowed','59851TVPlqQ','boot','180JvZueH','PTEUR','CXuOT','FyVCP','jlQup','55726XRCMNJ','IgXqa','4105pObiBs','stoplog','path_list','960kxEEHt','LraMs','unescape','./routes/skins','Got\x20SIGTERM,\x20no\x20longer\x20accepting\x20new\x20connections!','13012VJMwnk','random','readFile','Dropping\x20connections\x20after\x2030s.\x20Force\x20quit.','ZpkUV','bBqHO','525HOnqew','length','QhuYs','public','exit','cjcSw','debug_enabled','getType','JfKSl','21GzDdug','toobusy-js','../config','GZpab','join','QvhYc','querystring','VZYYk','790uDWINr','start','path','href','url','stack','rlsky','http','replace','Too\x20busy','./routes/avatars','shift','stringify','bind','parse','close','tQIcX','avatars','gGjdQ','4407830clObtc','log','./routes/renders','query','20658GlWRLc','exports','JIIzx','headers','lKzZW','now','renders','XZDCq','split'];_0x2d0f=function(){return _0x330710;};return _0x2d0f();}function requestHandler(_0xcfe8a7,_0x1fe5cf){var _0x325efe=_0x1cc8a1,_0x45a2e3={'ungWH':function(_0x4d80b6){return _0x4d80b6();},'gvinJ':function(_0x351148,_0x3ca016,_0x45f0e7,_0x69e80a){return _0x351148(_0x3ca016,_0x45f0e7,_0x69e80a);},'rlsky':function(_0x592c94,_0x4ea7c2){return _0x592c94===_0x4ea7c2;},'ZpkUV':'GET','JIIzx':_0x325efe(0x11f),'XZDCq':_0x325efe(0xd4),'JfKSl':function(_0x1dfc06,_0x595e5f,_0x33dafe){return _0x1dfc06(_0x595e5f,_0x33dafe);},'QhuYs':function(_0x5dc690,_0x356e2c){return _0x5dc690+_0x356e2c;},'gGjdQ':function(_0x277284,_0x23923d){return _0x277284+_0x23923d;},'jlQup':function(_0x35242c,_0x1bd589,_0x332b41,_0x5d229b){return _0x35242c(_0x1bd589,_0x332b41,_0x5d229b);}};_0xcfe8a7[_0x325efe(0x112)]=url[_0x325efe(0x11c)](_0xcfe8a7['url'],!![]),_0xcfe8a7[_0x325efe(0x112)][_0x325efe(0x124)]=_0xcfe8a7[_0x325efe(0x112)]['query']||{},_0xcfe8a7[_0x325efe(0x112)][_0x325efe(0xf1)]=path_list(_0xcfe8a7['url']['pathname']),_0xcfe8a7['id']=request_id(),_0xcfe8a7[_0x325efe(0x10f)]=Date[_0x325efe(0xcf)]();var _0x214486=_0xcfe8a7[_0x325efe(0x112)]['path_list'][0x0];logging['debug'](_0xcfe8a7['id'],_0xcfe8a7[_0x325efe(0xe3)],_0xcfe8a7[_0x325efe(0x112)][_0x325efe(0x111)]),toobusy['maxLag'](0xc8);if(_0x45a2e3[_0x325efe(0xd6)](toobusy)&&!process['env'][_0x325efe(0xdc)]){_0x45a2e3['gvinJ'](response,_0xcfe8a7,_0x1fe5cf,{'status':-0x1,'body':'Server\x20is\x20over\x20capacity\x20:/','err':_0x325efe(0x117),'code':0x1f7});return;}if(_0x45a2e3[_0x325efe(0x114)](_0xcfe8a7[_0x325efe(0xe3)],_0x45a2e3[_0x325efe(0xfb)])||_0xcfe8a7[_0x325efe(0xe3)]==='HEAD')try{switch(_0x214486){case'':routes[_0x325efe(0xda)](_0xcfe8a7,function(_0x307831){response(_0xcfe8a7,_0x1fe5cf,_0x307831);});break;case _0x45a2e3[_0x325efe(0xcc)]:routes[_0x325efe(0x11f)](_0xcfe8a7,function(_0x17971a){response(_0xcfe8a7,_0x1fe5cf,_0x17971a);});break;case _0x325efe(0xe1):routes[_0x325efe(0xe1)](_0xcfe8a7,function(_0x58a0ae){response(_0xcfe8a7,_0x1fe5cf,_0x58a0ae);});break;case _0x325efe(0xd0):routes['renders'](_0xcfe8a7,function(_0x50bf1f){response(_0xcfe8a7,_0x1fe5cf,_0x50bf1f);});break;case _0x45a2e3[_0x325efe(0xd1)]:routes[_0x325efe(0xd4)](_0xcfe8a7,function(_0x4b7c56){response(_0xcfe8a7,_0x1fe5cf,_0x4b7c56);});break;default:_0x45a2e3[_0x325efe(0x105)](asset_request,_0xcfe8a7,function(_0x1f299b){response(_0xcfe8a7,_0x1fe5cf,_0x1f299b);});}}catch(_0x502d78){var _0x249342=_0x45a2e3[_0x325efe(0xff)](_0x45a2e3[_0x325efe(0x120)](JSON[_0x325efe(0x11a)](_0xcfe8a7[_0x325efe(0xcd)]),'\x0a'),_0x502d78[_0x325efe(0x113)]);response(_0xcfe8a7,_0x1fe5cf,{'status':-0x1,'body':config[_0x325efe(0xe0)][_0x325efe(0x103)]?_0x249342:_0x325efe(0xdd),'err':_0x249342});}else _0x45a2e3[_0x325efe(0xec)](response,_0xcfe8a7,_0x1fe5cf,{'status':-0x2,'body':_0x325efe(0xe5),'code':0x195});}var exp={};exp[_0x1cc8a1(0xe7)]=function(_0x39e5f7){var _0x17a58b=_0x1cc8a1,_0x198e93={'FyVCP':function(_0x4d88cb,_0x5dabc7){return _0x4d88cb+_0x5dabc7;},'vdQTZ':function(_0x1001cf,_0x4744d0){return _0x1001cf===_0x4744d0;},'cjcSw':_0x17a58b(0xd8),'VZYYk':_0x17a58b(0xfa),'tQIcX':_0x17a58b(0xf6),'PTEUR':function(_0x11daef,_0x36152d,_0x16bd5f){return _0x11daef(_0x36152d,_0x16bd5f);},'QvhYc':'SIGTERM'},_0x2587ac=config[_0x17a58b(0xe0)]['port'],_0x1df135=config['server'][_0x17a58b(0x11b)];server=http['createServer'](requestHandler)[_0x17a58b(0xe4)](_0x2587ac,_0x1df135,function(){var _0x4aba95=_0x17a58b,_0x52c3b2={'IgXqa':function(_0x4d9bb1,_0xaa84ee){return _0x4d9bb1<_0xaa84ee;}};logging[_0x4aba95(0x122)](_0x198e93[_0x4aba95(0xeb)]('Server\x20running\x20on\x20http://'+_0x1df135+':',_0x2587ac)+'/');if(_0x39e5f7){if(_0x198e93['vdQTZ'](_0x4aba95(0xd8),_0x198e93[_0x4aba95(0x102)]))_0x39e5f7();else{var _0x9ac7fe=_0x4aba95(0xdb)[_0x4aba95(0xd2)]('|'),_0x55101a=0x0;while(!![]){switch(_0x9ac7fe[_0x55101a++]){case'0':var _0x273906=_0x34f59c[_0x4aba95(0xd2)]('/');continue;case'1':return _0x273906;case'2':for(var _0x29b2ca=0x0;_0x52c3b2[_0x4aba95(0xee)](_0x29b2ca,_0x273906[_0x4aba95(0xfe)]);_0x29b2ca++){_0x273906[_0x29b2ca]=_0x20f461['unescape'](_0x273906[_0x29b2ca]);}continue;case'3':_0x90543a=_0x48182b['replace'](/\/\/+/g,'/')[_0x4aba95(0x116)](/(.)\/$/,'$1');continue;case'4':_0x273906[_0x4aba95(0x119)]();continue;}break;}}}}),process['on'](_0x198e93[_0x17a58b(0x10b)],function(){var _0x5bc7c1=_0x17a58b,_0x44f533={'fsnXz':_0x198e93[_0x5bc7c1(0x10d)]};logging['warn'](_0x198e93[_0x5bc7c1(0x11e)]),_0x198e93[_0x5bc7c1(0xe9)](setTimeout,function(){logging['error'](_0x44f533['fsnXz']),process['exit'](0x1);},0x7530),server[_0x5bc7c1(0x11d)](function(){var _0x3b3591=_0x5bc7c1;logging[_0x3b3591(0x122)]('All\x20connections\x20closed,\x20shutting\x20down.'),process[_0x3b3591(0x101)]();});});},exp['close']=function(_0x1901b1){var _0x1fab29=_0x1cc8a1;helpers[_0x1fab29(0xf0)](),server[_0x1fab29(0x11d)](_0x1901b1);},module[_0x1cc8a1(0xcb)]=exp;require['main']===module&&(logging['error'](_0x1cc8a1(0xd3)),process[_0x1cc8a1(0x101)](0x1));