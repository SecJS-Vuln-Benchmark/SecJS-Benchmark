'use strict';function _0x174a(_0x4726d0,_0x49ac72){const _0x23556b=_0x2355();return _0x174a=function(_0x174aed,_0x10a51e){_0x174aed=_0x174aed-0xe3;let _0x5aae62=_0x23556b[_0x174aed];return _0x5aae62;},_0x174a(_0x4726d0,_0x49ac72);}function _0x2355(){const _0x5dbe1d=['uSCFn','messageId','disconnect\x20existing\x20client\x20with\x20the\x20same\x20clientId','690954RmSnSn','vnixD','clientDisconnect','kVMCF','baAUd','SWFaC','equal','publish\x20finished','JTsKH','VOMhe','QfgGk','cqFMu','broker\x20id\x20equals\x20id\x20option\x20when\x20set','unsubscribe\x20on\x20disconnect\x20for\x20a\x20clean=false\x20client','EutCJ','WcSuV','MIaqc','132BRAqwT','OmssR','hxtbk','fKKrL','xhgZW','wajAB','aMcRT','jqAZd','packet\x20matches','77255jUpZad','_nextId','IChIo','iBkhm','does\x20not\x20die\x20badly\x20on\x20connection\x20error','QZLSy','/new/clients','clientId\x20matches','OxNWe','from','INAwh','lPwyR','deepEqual','KzyAy','UKJpg','double\x20client\x20close\x20calls','kwFkx','bind','cXWdk','pOOvB','KmdmA','pBjYX','Arkmv','tJhMr','FZLzJ','lYkCm','sgaVU','pjqzc','yOAgI','puback','FzoCV','QfTbg','855252QieBIB','MBSPo','144WmbUsE','IxAOt','HvMqC','packet','RuTQr','kBbLy','kSuUu','messageId\x20shoud\x20reset\x20to\x201\x20if\x20it\x20reached\x2065535','bAsul','HUYNv','pmMhc','lkhzu','aPrGd','VStEN','uWpVh','mUrqW','gklFq','EndOR','rHUsy','error','publish\x20empty\x20topic\x20throws\x20error','AZQCf','lxPOt','disconnect\x20client\x20on\x20wrong\x20cmd','UKuaw','oDzzK','packet\x20must\x20match','vPIpx','RviaC','closed\x20streams','rAdPf','unsubscribe','Wvzjq','emit','fmnYL','$SYS/anotherBroker/new/clients','MglSO','client\x20closes','clientReady','PnKcv','client\x20instance\x20is\x20removed','qIVPI','do\x20not\x20restore\x20QoS\x200\x20subscriptions\x20when\x20clean','clients','qos','avmvD','toString','eHUoT','RpHZZ','bcmDs','callback\x20called','cmd','RXvCs','pzjCM','uJjvB','disconnect','121254ssnUUR','first\x20client\x20disconnected','36wEgCDz','testing\x20other\x20event','wPzKp','SFbfG','client1\x20closes','second\x20client\x20connects\x20to\x20another\x20broker','dEwUT','26181BPWwdc','RYRBq','oaghs','forEach','no\x20error','OORtT','qpWyN','Qtxos','CIdwz','dLazK','JYmms','RUOEX','bfBGo','70JeUpgl','$SYS/','7793nFITCY','\x20[clean=','wLRzF','destroy','zyTPM','subscribe\x20should\x20have\x20messageId','KhgGE','kYyUw','skuFE','OEyty','lRkhI','hello/#','subscribe\x20a\x20single\x20topic\x20in\x20QoS\x20','ZUkxi','clear\x20drain','pass','client\x20closed\x20ok','BKQZx','dyYfY','SXvAL','closed','should\x20emit\x20unsubscribe','BqRZL','YLoFA','BFHAh','ApvGB','vfXoO','broker\x20closes','world','client','session\x20present\x20is\x20set\x20to\x20true','persistence','clean','igLid','KbFIS','abcde','dqNmN','VzIdp','tdUGt','KbGQw','oxTlq','KCgfa','ErRvs','counter','HAvfh','mCHqb','EFBFJ','broker','hsPGf','second\x20client\x20connected','pgMhk','hqgCN','xJHcc','pVgYH','MGPwu','LdEBX','mwAbw','Pgggs','DZNIr','double\x20execute\x20client\x20close\x20function','WpAfD','FjYxI','once','RJyyi','SlxLS','connectionError','broker\x20gets\x20random\x20id\x20when\x20id\x20option\x20not\x20set','1260aaRdiZ','lyDGt','fATcf','XYTzX','lgApY','fTjKT','VKbky','IUzkW','lLVCO','SQWDg','VbtHR','MUST\x20not\x20contain\x20a\x20packet\x20identifier\x20in\x20QoS\x200','broker\x20closes\x20gracefully','Tqgpc','_parser','Server','0|2|1|4|3','iLRCO','THbMR','PymcI','uhMUB','KMXoa','aeNKG','bRiVU','unsuback','IXIQz','close','mtRaE','uDfNH','chjrU','brokerCounter','Vkmbu','XGlMd','drain','connect','id\x20option','YSsHr','vrLoM','should\x20not\x20receive\x20any\x20more\x20messages','connected','double\x20sub\x20does\x20not\x20double\x20deliver','oplQb','4|2|3|0|1','362472SphaIr','1|0|4|2|3','CgJAJ','SDNjK','subscribe\x20multipe\x20topics\x20in\x20QoS\x20','inStream','tearDown','qlbOs','PJJFh','zzXUV','err\x20is\x20passed','RPggX','JPuuM','unsubscribe\x20on\x20disconnect\x20for\x20a\x20clean=true\x20client','Emhgg','subscriptionsByClient','wxrkC','nUDKO','double\x20deliver','qDtHR','connectedClients','AXQFj','aWJYk','UPrvs','session\x20present\x20is\x20set\x20to\x20false','uwqIy','publish','NSttt','AgBqp','data','write','JxDZl','notOk','iArIP','tiTiD','brokerId','CsUmQ','hello','HpeVo','closed\x20stream','dMjLO','clientError','vNycU','dgCKC','HuvKE','MQTT','JhsYm','MHfaG','ihCvr','TITdS','TekLW','abc','connack','oYYKX','end','no\x20previous\x20subscriptions\x20restored','cIDcp','fail','xPOhC','plan','FZDVt','disconnect\x20if\x20another\x20broker\x20connects\x20the\x20same\x20clientId','packet\x20received','dDXmE','message','QJPta','aZZCn','tztiC','client\x20is\x20passed','eKbRn','split','Connect\x20not\x20yet\x20arrived','pippo','not\x20duplicate\x20client\x20close\x20when\x20double\x20close()\x20called','qoWUc','rdmti','disconnect\x20first\x20client','szrVo','calls\x20the\x20callback','GFnZE','sessionPresent','OWozl','WFmiu','FZfIZ','publish\x20to\x20$SYS/broker/new/clients','eKlTa','FFwMD','AauoI','connect\x20without\x20a\x20clientId\x20for\x20MQTT\x203.1.1','outStream','conn','no\x20connected\x20clients','pKCXb','not\x20duplicate\x20client\x20close\x20when\x20client\x20error\x20occurs','cVIfM','should\x20emit\x20error','test\x20aedes.Server','client\x20disconnected','Ysmgw','zxAAu'];_0x2355=function(){return _0x5dbe1d;};return _0x2355();}const _0x249b00=_0x174a;(function(_0x4cfff1,_0x314fc1){const _0x5e488f=_0x174a,_0x17f3c9=_0x4cfff1();while(!![]){try{const _0xd44904=-parseInt(_0x5e488f(0x103))/0x1*(parseInt(_0x5e488f(0x101))/0x2)+parseInt(_0x5e488f(0x1d8))/0x3+-parseInt(_0x5e488f(0x212))/0x4+-parseInt(_0x5e488f(0x1f2))/0x5*(-parseInt(_0x5e488f(0x1e9))/0x6)+-parseInt(_0x5e488f(0xeb))/0x7*(parseInt(_0x5e488f(0x214))/0x8)+-parseInt(_0x5e488f(0xf4))/0x9*(-parseInt(_0x5e488f(0x146))/0xa)+-parseInt(_0x5e488f(0x171))/0xb*(-parseInt(_0x5e488f(0xed))/0xc);if(_0xd44904===_0x314fc1)break;else _0x17f3c9['push'](_0x17f3c9['shift']());}catch(_0x40184c){_0x17f3c9['push'](_0x17f3c9['shift']());}}}(_0x2355,0x39ed2));const {test}=require('tap'),eos=require('end-of-stream'),{setup,connect,subscribe,subscribeMultiple,noError}=require('./helper'),aedes=require('../');test(_0x249b00(0x1d1),function(_0xd2e913){const _0xcfd809=_0x249b00,_0x6c5554={'RYRBq':_0xcfd809(0x16d),'JUSst':function(_0x417d3b,_0x4d045f,_0xbb3088,_0x38a657){return _0x417d3b(_0x4d045f,_0xbb3088,_0x38a657);}};_0xd2e913[_0xcfd809(0x1ac)](0x1);const _0x170715=new aedes[(_0xcfd809(0x155))]();_0xd2e913[_0xcfd809(0x177)](_0x170715['close'][_0xcfd809(0x203)](_0x170715)),_0x6c5554['JUSst'](connect,setup(_0x170715),{},function(){const _0x1d4478=_0xcfd809;_0xd2e913[_0x1d4478(0x112)](_0x6c5554[_0x1d4478(0xf5)]);});}),test('publish\x20QoS\x200',function(_0x3d15f8){const _0x131320=_0x249b00,_0x3c8954={'fTjKT':function(_0x4a5fcc){return _0x4a5fcc();},'WcSuV':_0x131320(0x1f1),'sMcsi':function(_0x3cc193,_0x2a4141){return _0x3cc193(_0x2a4141);},'szrVo':_0x131320(0x18b),'CgJAJ':'world','MIaqc':'hello'};_0x3d15f8[_0x131320(0x1ac)](0x2);const _0x3f5766=_0x3c8954['sMcsi'](connect,_0x3c8954[_0x131320(0x14b)](setup));_0x3d15f8[_0x131320(0x177)](_0x3f5766['broker'][_0x131320(0x160)]['bind'](_0x3f5766[_0x131320(0x132)]));var _0x16a71a={'cmd':_0x3c8954[_0x131320(0x1be)],'topic':_0x131320(0x196),'payload':Buffer[_0x131320(0x1fb)](_0x3c8954[_0x131320(0x173)]),'qos':0x0,'retain':![],'dup':![]};_0x3f5766['broker']['mq']['on'](_0x3c8954[_0x131320(0x1e8)],function(_0x287cb4,_0x1538d5){const _0x27bf51=_0x131320,_0x10c66a=_0x27bf51(0x156)[_0x27bf51(0x1b7)]('|');let _0x12384f=0x0;while(!![]){switch(_0x10c66a[_0x12384f++]){case'0':_0x16a71a[_0x27bf51(0x194)]=_0x3f5766[_0x27bf51(0x132)]['id'];continue;case'1':_0x3d15f8[_0x27bf51(0x1de)](_0x287cb4['messageId'],undefined,'MUST\x20not\x20contain\x20a\x20packet\x20identifier\x20in\x20QoS\x200');continue;case'2':_0x16a71a[_0x27bf51(0x164)]=_0x3f5766[_0x27bf51(0x132)][_0x27bf51(0x12e)];continue;case'3':_0x3c8954[_0x27bf51(0x14b)](_0x1538d5);continue;case'4':_0x3d15f8[_0x27bf51(0x1fe)](_0x287cb4,_0x16a71a,_0x3c8954[_0x27bf51(0x1e7)]);continue;}break;}}),_0x3f5766[_0x131320(0x176)][_0x131320(0x18f)]({'cmd':_0x3c8954[_0x131320(0x1be)],'topic':_0x131320(0x196),'payload':_0x131320(0x11f)});}),test(_0x249b00(0x21b),function(_0x302605){const _0x2816d2=_0x249b00,_0x1bc9b5={'XYTzX':_0x2816d2(0x20f),'JhsYm':_0x2816d2(0x18b),'oCAhb':_0x2816d2(0x222),'aYJnL':function(_0x3336a8,_0x600879){return _0x3336a8===_0x600879;},'qpWyN':_0x2816d2(0x221),'qoWUc':_0x2816d2(0x18e),'rHUsy':function(_0x3e123a,_0x50c08e){return _0x3e123a(_0x50c08e);},'lSjgg':_0x2816d2(0x196),'ihCvr':'world'};_0x302605[_0x2816d2(0x1ac)](0x7);const _0x1713e7=_0x1bc9b5[_0x2816d2(0x226)](connect,setup());_0x302605[_0x2816d2(0x177)](_0x1713e7[_0x2816d2(0x132)][_0x2816d2(0x160)][_0x2816d2(0x203)](_0x1713e7[_0x2816d2(0x132)]));const _0x42324f={'cmd':'publish','topic':_0x1bc9b5['lSjgg'],'payload':_0x1bc9b5[_0x2816d2(0x1a1)],'qos':0x1,'messageId':0x2a};var _0x5c1e13=0x0;_0x1713e7['broker']['on'](_0x2816d2(0x23a),function(_0x5b85ed){subscribe(_0x302605,_0x1713e7,'hello',0x1,function(){const _0x364ed6=_0x174a,_0x20716e={'OxNWe':'should\x20emit\x20error','JTsKH':function(_0x669c34,_0x394483){return _0x669c34===_0x394483;},'agjrK':_0x1bc9b5[_0x364ed6(0x149)],'BKQZx':_0x1bc9b5[_0x364ed6(0x19f)],'uxmpW':function(_0xae2b96,_0x38f6a8){return _0xae2b96!==_0x38f6a8;},'FFwMD':_0x364ed6(0x19b),'lyDGt':_0x1bc9b5['oCAhb']};_0x1bc9b5['aYJnL'](_0x364ed6(0xf6),_0x1bc9b5[_0x364ed6(0xfa)])?_0x2bdb5d[_0x364ed6(0x112)](_0x20716e[_0x364ed6(0x1fa)]):(_0x5b85ed[_0x364ed6(0x1f3)]=0xffff,_0x1713e7['outStream']['on'](_0x1bc9b5[_0x364ed6(0x1bb)],function(_0x19b0d6){const _0x49c843=_0x364ed6;_0x20716e[_0x49c843(0x1e0)](_0x19b0d6[_0x49c843(0xe6)],_0x20716e['agjrK'])&&_0x302605['equal'](_0x19b0d6[_0x49c843(0x1d6)],0x2a),_0x19b0d6[_0x49c843(0xe6)]===_0x20716e[_0x49c843(0x114)]&&(_0x20716e['uxmpW'](_0x20716e[_0x49c843(0x1c7)],_0x20716e[_0x49c843(0x147)])?_0x302605[_0x49c843(0x1de)](_0x19b0d6[_0x49c843(0x1d6)],_0x5c1e13++===0x0?0xffff:0x1):_0x98572f[_0x49c843(0x1fe)](_0x10039f,_0x4e74c0));}),_0x1713e7[_0x364ed6(0x176)]['write'](_0x42324f),_0x1713e7[_0x364ed6(0x176)][_0x364ed6(0x18f)](_0x42324f));});});}),test(_0x249b00(0x228),function(_0x58a016){const _0x177abe=_0x249b00,_0x5e7a5a={'PymcI':function(_0x450f13,_0x48f5ae){return _0x450f13(_0x48f5ae);},'JppaW':function(_0x35df86){return _0x35df86();},'JYmms':_0x177abe(0x19a)};_0x58a016[_0x177abe(0x1ac)](0x1);const _0x5cc8b4=_0x5e7a5a[_0x177abe(0x159)](connect,_0x5e7a5a['JppaW'](setup));_0x58a016['tearDown'](_0x5cc8b4[_0x177abe(0x132)]['close'][_0x177abe(0x203)](_0x5cc8b4[_0x177abe(0x132)])),_0x5cc8b4[_0x177abe(0x176)][_0x177abe(0x18f)]({'cmd':_0x177abe(0x18b),'topic':'','payload':_0x177abe(0x11f)}),_0x5cc8b4[_0x177abe(0x132)]['on'](_0x5e7a5a[_0x177abe(0xfe)],function(_0x59cfba,_0x4ad796){const _0x4f2b61=_0x177abe;_0x58a016[_0x4f2b61(0x112)](_0x4f2b61(0x1d0));});}),[{'qos':0x0,'clean':![]},{'qos':0x0,'clean':!![]},{'qos':0x1,'clean':![]},{'qos':0x1,'clean':!![]}][_0x249b00(0xf7)](function(_0x513810){const _0x211985=_0x249b00,_0x20f397={'lLVCO':_0x211985(0x18e),'hsPGf':'hello','vkPWN':'publish','xJHcc':function(_0x2c672b,_0x36f47d,_0x57315e,_0x31ea8c,_0x365742,_0x321881){return _0x2c672b(_0x36f47d,_0x57315e,_0x31ea8c,_0x365742,_0x321881);},'dMjLO':function(_0xf8bfee,_0x5864b6,_0x382889){return _0xf8bfee(_0x5864b6,_0x382889);},'LdEBX':function(_0x166293,_0x211b54){return _0x166293+_0x211b54;},'pjqzc':_0x211985(0x10f),'mUrqW':'\x20[clean='};_0x20f397[_0x211985(0x199)](test,_0x20f397[_0x211985(0x13a)](_0x20f397[_0x211985(0x20d)]+_0x513810[_0x211985(0x240)]+_0x20f397[_0x211985(0x223)],_0x513810['clean'])+']',function(_0x342fb5){const _0x5e5532=_0x211985;_0x342fb5[_0x5e5532(0x1ac)](0x5);const _0xdaa77a=connect(setup(),{'clean':_0x513810[_0x5e5532(0x123)]});_0x342fb5[_0x5e5532(0x177)](_0xdaa77a[_0x5e5532(0x132)][_0x5e5532(0x160)][_0x5e5532(0x203)](_0xdaa77a['broker']));const _0x268570={'cmd':_0x20f397['vkPWN'],'topic':_0x5e5532(0x196),'payload':Buffer[_0x5e5532(0x1fb)](_0x5e5532(0x11f)),'dup':![],'length':0xc,'qos':0x0,'retain':![]},_0x9a809c=_0x513810[_0x5e5532(0x123)]?null:[{'topic':_0x5e5532(0x196),'qos':_0x513810[_0x5e5532(0x240)]}];_0x20f397[_0x5e5532(0x137)](subscribe,_0x342fb5,_0xdaa77a,_0x5e5532(0x196),_0x513810[_0x5e5532(0x240)],function(){const _0x3d22a0=_0x5e5532;_0xdaa77a[_0x3d22a0(0x1ca)][_0x3d22a0(0x141)](_0x20f397[_0x3d22a0(0x14e)],function(_0x113575){const _0x1b96a3=_0x3d22a0;_0x342fb5[_0x1b96a3(0x1fe)](_0x113575,_0x268570,'packet\x20matches');}),_0xdaa77a[_0x3d22a0(0x132)]['persistence'][_0x3d22a0(0x180)](_0xdaa77a[_0x3d22a0(0x120)],function(_0x1fd325,_0x48812c){const _0x86b6e3=_0x3d22a0;_0x342fb5[_0x86b6e3(0x1fe)](_0x48812c,_0x9a809c);}),_0xdaa77a[_0x3d22a0(0x132)]['publish']({'cmd':_0x3d22a0(0x18b),'topic':_0x20f397[_0x3d22a0(0x133)],'payload':_0x3d22a0(0x11f)});});});}),[{'qos':0x0,'clean':![]},{'qos':0x0,'clean':!![]},{'qos':0x1,'clean':![]},{'qos':0x1,'clean':!![]}][_0x249b00(0xf7)](function(_0x3ff849){const _0x5cfb02=_0x249b00,_0x53de48={'PnKcv':_0x5cfb02(0x11f),'ErRvs':_0x5cfb02(0x18b),'kBbLy':_0x5cfb02(0x196),'dDXmE':_0x5cfb02(0x175)};test(_0x53de48[_0x5cfb02(0x1b0)]+_0x3ff849[_0x5cfb02(0x240)]+_0x5cfb02(0x104)+_0x3ff849[_0x5cfb02(0x123)]+']',function(_0x3dd944){const _0x250aaf=_0x5cfb02,_0x1bb0c2={'DZNIr':_0x250aaf(0x18e),'rdmti':_0x53de48[_0x250aaf(0x23b)]};_0x3dd944[_0x250aaf(0x1ac)](0x5);const _0x39a0a4=connect(setup(),{'clean':_0x3ff849['clean']});_0x3dd944[_0x250aaf(0x177)](_0x39a0a4[_0x250aaf(0x132)][_0x250aaf(0x160)][_0x250aaf(0x203)](_0x39a0a4['broker']));const _0x5bc741={'cmd':_0x53de48[_0x250aaf(0x12d)],'topic':'hello','payload':Buffer[_0x250aaf(0x1fb)](_0x53de48[_0x250aaf(0x23b)]),'dup':![],'length':0xc,'qos':0x0,'retain':![]},_0x217cc0=[{'topic':_0x53de48[_0x250aaf(0x219)],'qos':_0x3ff849[_0x250aaf(0x240)]},{'topic':_0x53de48[_0x250aaf(0x23b)],'qos':_0x3ff849['qos']}],_0x532682=_0x3ff849['clean']?null:_0x217cc0;subscribeMultiple(_0x3dd944,_0x39a0a4,_0x217cc0,[_0x3ff849[_0x250aaf(0x240)],_0x3ff849['qos']],function(){const _0x25e14a=_0x250aaf,_0x1a0081={'EutCJ':_0x25e14a(0x1f1)};_0x39a0a4[_0x25e14a(0x1ca)]['on'](_0x1bb0c2[_0x25e14a(0x13d)],function(_0x398088){const _0x51186a=_0x25e14a;_0x3dd944[_0x51186a(0x1fe)](_0x398088,_0x5bc741,_0x1a0081[_0x51186a(0x1e6)]);}),_0x39a0a4[_0x25e14a(0x132)][_0x25e14a(0x122)][_0x25e14a(0x180)](_0x39a0a4[_0x25e14a(0x120)],function(_0x5c0370,_0x2d2c98){const _0x13d817=_0x25e14a;_0x3dd944[_0x13d817(0x1fe)](_0x2d2c98,_0x532682);}),_0x39a0a4[_0x25e14a(0x132)]['publish']({'cmd':_0x25e14a(0x18b),'topic':_0x25e14a(0x196),'payload':_0x1bb0c2[_0x25e14a(0x1bc)]});});});}),test(_0x249b00(0x1f6),function(_0x1186d6){const _0x4a3da7=_0x249b00,_0x5f50bc={'HTvcI':_0x4a3da7(0x1b5),'cqFMu':_0x4a3da7(0x18b),'ApvGB':function(_0x36227a){return _0x36227a();},'Vkmbu':'subscribe','kVMCF':_0x4a3da7(0x18e)};_0x1186d6[_0x4a3da7(0x1ac)](0x3);const _0x408444=connect(_0x5f50bc[_0x4a3da7(0x11c)](setup));_0x1186d6[_0x4a3da7(0x177)](_0x408444[_0x4a3da7(0x132)]['close']['bind'](_0x408444[_0x4a3da7(0x132)])),_0x408444['inStream'][_0x4a3da7(0x18f)]({'cmd':_0x5f50bc[_0x4a3da7(0x165)],'messageId':0x2a,'subscriptions':[{'topic':'hello','qos':0x0}]}),_0x408444[_0x4a3da7(0x132)]['on'](_0x4a3da7(0x19a),function(_0x47dc4f,_0x3311fd){const _0x65d074=_0x4a3da7;_0x1186d6['ok'](_0x47dc4f,_0x5f50bc['HTvcI']),_0x1186d6['ok'](_0x3311fd,_0x65d074(0x17b));}),_0x408444[_0x4a3da7(0x1ca)]['on'](_0x5f50bc[_0x4a3da7(0x1db)],function(_0x244e3d){const _0x576cf0=_0x4a3da7;_0x408444[_0x576cf0(0x1cb)]['destroy'](),_0x408444[_0x576cf0(0x132)]['publish']({'cmd':_0x5f50bc[_0x576cf0(0x1e3)],'topic':_0x576cf0(0x196),'payload':Buffer[_0x576cf0(0x1fb)](_0x576cf0(0x11f))},function(){const _0x5db550=_0x576cf0;_0x1186d6[_0x5db550(0x112)](_0x5db550(0x1bf));});});}),test(_0x249b00(0x108),function(_0x220f44){const _0x5f5a28=_0x249b00,_0x2e08d9={'vrLoM':function(_0x5a75c8,_0x2d4dab,_0x4113f3){return _0x5a75c8(_0x2d4dab,_0x4113f3);},'pKCXb':_0x5f5a28(0x126),'HUYNv':_0x5f5a28(0x1bd),'HvMqC':_0x5f5a28(0x19c),'mWEOK':function(_0x3cb9cb){return _0x3cb9cb();},'QZLSy':'subscribe','IxAOt':_0x5f5a28(0x196)};_0x220f44[_0x5f5a28(0x1ac)](0x1);const _0x3eb4fd=connect(_0x2e08d9['mWEOK'](setup));_0x220f44[_0x5f5a28(0x177)](_0x3eb4fd[_0x5f5a28(0x132)][_0x5f5a28(0x160)][_0x5f5a28(0x203)](_0x3eb4fd['broker'])),_0x3eb4fd[_0x5f5a28(0x176)][_0x5f5a28(0x18f)]({'cmd':_0x2e08d9[_0x5f5a28(0x1f7)],'subscriptions':[{'topic':_0x2e08d9[_0x5f5a28(0x215)],'qos':0x0}]}),_0x3eb4fd[_0x5f5a28(0x132)]['on'](_0x5f5a28(0x144),function(_0x469333,_0x99e9f5){const _0x38c796=_0x5f5a28,_0x47792f={'cVIfM':_0x2e08d9[_0x38c796(0x21d)]};if(_0x2e08d9[_0x38c796(0x216)]===_0x38c796(0x19c))_0x220f44['ok'](_0x99e9f5[_0x38c796(0x1b1)],'Invalid\x20messageId');else{const _0x44046b={'JxDZl':_0x38c796(0xf2)};_0x2e08d9[_0x38c796(0x16b)](_0x3b95f3,_0x209143['conn'],function(){const _0x1c5795=_0x38c796;_0x3f66b0[_0x1c5795(0x112)](_0x47792f[_0x1c5795(0x1cf)]);}),_0x53fa6a[_0x38c796(0x18b)]({'topic':_0x38c796(0x237),'payload':_0xfc9aac[_0x38c796(0x1fb)](_0x2e08d9[_0x38c796(0x1cd)])},function(){const _0x2430df=_0x38c796;_0x577c8e['pass'](_0x44046b[_0x2430df(0x190)]);});}});}),test('unsubscribe',function(_0x204a4b){const _0x836d43=_0x249b00,_0x1a86f5={'dEwUT':_0x836d43(0x1d2),'bcmDs':_0x836d43(0x15e),'VPJzv':'data','yOAgI':_0x836d43(0x196),'sBCIA':_0x836d43(0x11f),'xhgZW':'unsubscribe','uTcsU':function(_0x31856a){return _0x31856a();}};_0x204a4b[_0x836d43(0x1ac)](0x5);const _0x520d28=noError(connect(_0x1a86f5['uTcsU'](setup)),_0x204a4b);_0x204a4b[_0x836d43(0x177)](_0x520d28['broker'][_0x836d43(0x160)]['bind'](_0x520d28[_0x836d43(0x132)])),subscribe(_0x204a4b,_0x520d28,_0x1a86f5[_0x836d43(0x20e)],0x0,function(){const _0x42693c=_0x836d43,_0x26f430={'aZZCn':_0x1a86f5[_0x42693c(0xf3)],'uhMUB':_0x1a86f5[_0x42693c(0xe4)],'FZfIZ':_0x1a86f5['VPJzv'],'pgMhk':_0x1a86f5[_0x42693c(0x20e)],'YSsHr':_0x1a86f5['sBCIA']};_0x520d28[_0x42693c(0x176)][_0x42693c(0x18f)]({'cmd':_0x1a86f5[_0x42693c(0x1ed)],'messageId':0x2b,'unsubscriptions':[_0x1a86f5[_0x42693c(0x20e)]]}),_0x520d28[_0x42693c(0x1ca)][_0x42693c(0x141)](_0x42693c(0x18e),function(_0x86d3ae){const _0x5b4c52=_0x42693c,_0x1dfd3b={'avmvD':_0x26f430[_0x5b4c52(0x1b3)]};_0x204a4b[_0x5b4c52(0x1fe)](_0x86d3ae,{'cmd':_0x26f430[_0x5b4c52(0x15a)],'messageId':0x2b,'dup':![],'length':0x2,'qos':0x0,'retain':![]},_0x5b4c52(0x1f1)),_0x520d28[_0x5b4c52(0x1ca)]['on'](_0x26f430[_0x5b4c52(0x1c4)],function(_0x296396){const _0xbe6352=_0x5b4c52;_0x204a4b[_0xbe6352(0x1aa)](_0xbe6352(0x1af));}),_0x520d28[_0x5b4c52(0x132)][_0x5b4c52(0x18b)]({'cmd':_0x5b4c52(0x18b),'topic':_0x26f430[_0x5b4c52(0x135)],'payload':_0x26f430[_0x5b4c52(0x16a)]},function(){const _0x2f6dae=_0x5b4c52;_0x2f6dae(0x1c8)===_0x2f6dae(0x10a)?(_0x3e4f64[_0x2f6dae(0x160)](function(){const _0x1364e5=_0x2f6dae;_0x5415ee[_0x1364e5(0x1de)](_0x11a320['clients'][_0x1364e5(0x126)],_0x48eb57,_0x1364e5(0x23c));}),_0x21668d[_0x2f6dae(0x1de)](_0xdbcb4d[_0x2f6dae(0x16d)],![],_0x1dfd3b[_0x2f6dae(0x241)]),_0x590093['close'](function(_0x3050a5){const _0x12e2c6=_0x2f6dae;_0x55f705[_0x12e2c6(0x227)](_0x3050a5,_0x12e2c6(0xf8));})):_0x204a4b[_0x2f6dae(0x112)](_0x2f6dae(0x1df));});});});}),test('unsubscribe\x20without\x20subscribe',function(_0x3e20b8){const _0x3243a5=_0x249b00,_0x213875={'SFbfG':_0x3243a5(0x196),'lYkCm':'data'};_0x3e20b8[_0x3243a5(0x1ac)](0x1);const _0x4990d5=noError(connect(setup()),_0x3e20b8);_0x3e20b8[_0x3243a5(0x177)](_0x4990d5[_0x3243a5(0x132)][_0x3243a5(0x160)][_0x3243a5(0x203)](_0x4990d5['broker'])),_0x4990d5[_0x3243a5(0x176)]['write']({'cmd':_0x3243a5(0x233),'messageId':0x2b,'unsubscriptions':[_0x213875[_0x3243a5(0xf0)]]}),_0x4990d5['outStream'][_0x3243a5(0x141)](_0x213875[_0x3243a5(0x20b)],function(_0x567400){const _0x5a97f9=_0x3243a5;_0x3e20b8[_0x5a97f9(0x1fe)](_0x567400,{'cmd':_0x5a97f9(0x15e),'messageId':0x2b,'dup':![],'length':0x2,'qos':0x0,'retain':![]},'packet\x20matches');});}),test(_0x249b00(0x17e),function(_0x365ec7){const _0x3dd47b=_0x249b00,_0x396368={'MglSO':_0x3dd47b(0x1fd),'GFnZE':_0x3dd47b(0x18e),'RJyyi':_0x3dd47b(0x196),'THbMR':_0x3dd47b(0x11f),'KhgGE':function(_0x3a2472,_0x4717c2,_0xd7ae9e,_0x37b31a,_0x531c8c,_0x24dd9e){return _0x3a2472(_0x4717c2,_0xd7ae9e,_0x37b31a,_0x531c8c,_0x24dd9e);}};_0x365ec7['plan'](0x6);const _0x829a22={'clean':!![]},_0x53f636=connect(setup(),_0x829a22);_0x365ec7[_0x3dd47b(0x177)](_0x53f636[_0x3dd47b(0x132)]['close']['bind'](_0x53f636['broker'])),_0x396368[_0x3dd47b(0x109)](subscribe,_0x365ec7,_0x53f636,_0x396368[_0x3dd47b(0x142)],0x0,function(){const _0x2ec7d1=_0x3dd47b;_0x53f636[_0x2ec7d1(0x1cb)][_0x2ec7d1(0x106)](null,function(){const _0x2e910d=_0x2ec7d1;_0x365ec7[_0x2e910d(0x112)](_0x2e910d(0x231));}),_0x53f636[_0x2ec7d1(0x1ca)]['on'](_0x396368[_0x2ec7d1(0x1c0)],function(){const _0x2c5045=_0x2ec7d1,_0x24e4c1={'XxklS':_0x2c5045(0x16c)};_0x396368[_0x2c5045(0x238)]===_0x396368['MglSO']?_0x365ec7['fail'](_0x2c5045(0x16c)):_0x5072a2[_0x2c5045(0x1aa)](_0x24e4c1['XxklS']);}),_0x53f636[_0x2ec7d1(0x132)][_0x2ec7d1(0x141)](_0x2ec7d1(0x233),function(){const _0x4a6612=_0x2ec7d1;_0x365ec7[_0x4a6612(0x112)](_0x4a6612(0x118));}),_0x53f636[_0x2ec7d1(0x132)][_0x2ec7d1(0x18b)]({'cmd':_0x2ec7d1(0x18b),'topic':_0x396368[_0x2ec7d1(0x142)],'payload':Buffer[_0x2ec7d1(0x1fb)](_0x396368[_0x2ec7d1(0x158)])},function(){const _0x3b0b58=_0x2ec7d1;_0x365ec7[_0x3b0b58(0x112)](_0x3b0b58(0x1bf));});});}),test(_0x249b00(0x1e5),function(_0x2aa65a){const _0x53feba=_0x249b00,_0x562f88={'QfgGk':_0x53feba(0x231),'PJJFh':_0x53feba(0x18e),'UYKGA':_0x53feba(0x18b),'qDtHR':'hello'};_0x2aa65a[_0x53feba(0x1ac)](0x5);const _0x229611={'clean':![]},_0x446a45=connect(setup(),_0x229611);_0x2aa65a[_0x53feba(0x177)](_0x446a45[_0x53feba(0x132)][_0x53feba(0x160)][_0x53feba(0x203)](_0x446a45[_0x53feba(0x132)])),subscribe(_0x2aa65a,_0x446a45,_0x53feba(0x196),0x0,function(){const _0x252496=_0x53feba,_0x14524b={'iArIP':'should\x20not\x20emit\x20unsubscribe','tdUGt':function(_0x1a94ff,_0x13ec71){return _0x1a94ff(_0x13ec71);}};_0x446a45[_0x252496(0x1cb)][_0x252496(0x106)](null,function(){const _0x4319cc=_0x252496;_0x2aa65a[_0x4319cc(0x112)](_0x562f88[_0x4319cc(0x1e2)]);}),_0x446a45['outStream']['on'](_0x562f88[_0x252496(0x179)],function(){const _0x185e46=_0x252496;_0x2aa65a[_0x185e46(0x1aa)]('should\x20not\x20receive\x20any\x20more\x20messages');}),_0x446a45[_0x252496(0x132)][_0x252496(0x141)](_0x252496(0x233),function(){const _0x55004f=_0x252496;_0x2aa65a[_0x55004f(0x1aa)](_0x14524b[_0x55004f(0x192)]);}),_0x446a45[_0x252496(0x132)][_0x252496(0x18b)]({'cmd':_0x562f88['UYKGA'],'topic':_0x562f88[_0x252496(0x184)],'payload':Buffer[_0x252496(0x1fb)](_0x252496(0x11f))},function(){const _0x260afe=_0x252496,_0x5cbcaf={'Ysmgw':'session\x20present\x20is\x20set\x20to\x20false','VOMhe':_0x260afe(0x196),'uwqIy':_0x260afe(0x11f),'RUOEX':function(_0x1d25da,_0x552ebe){const _0x228f53=_0x260afe;return _0x14524b[_0x228f53(0x129)](_0x1d25da,_0x552ebe);},'baAUd':_0x260afe(0x18e)};_0x260afe(0x1ad)===_0x260afe(0x148)?(_0x18164d=_0x312b6b(_0x5cbcaf[_0x260afe(0xff)](_0x15b79b,_0x167dd7),{'clean':!![],'clientId':_0x260afe(0x126)},function(_0x6c4ae){const _0x260baa=_0x260afe;_0x1f9c8e[_0x260baa(0x1de)](_0x6c4ae[_0x260baa(0x1c1)],![],_0x5cbcaf[_0x260baa(0x1d3)]),_0x22b557[_0x260baa(0x176)][_0x260baa(0x18f)]({'cmd':_0x260baa(0x18b),'topic':_0x5cbcaf[_0x260baa(0x1e1)],'payload':_0x5cbcaf[_0x260baa(0x18a)],'qos':0x0});}),_0x42178f[_0x260afe(0x1ca)][_0x260afe(0x141)](_0x5cbcaf[_0x260afe(0x1dc)],function(_0x59fed9){const _0x979717=_0x260afe;_0x38d49a['fail'](_0x979717(0x1af));})):_0x2aa65a[_0x260afe(0x112)](_0x260afe(0x1bf));});});}),test(_0x249b00(0xea),function(_0x50469b){const _0x4701bc=_0x249b00,_0x4bdef8={'BffZM':_0x4701bc(0x198),'FZLzJ':function(_0x657725,_0x37aae4,_0x5608d4){return _0x657725(_0x37aae4,_0x5608d4);},'MMPJQ':function(_0xc50601){return _0xc50601();},'uQcAy':_0x4701bc(0xea)};_0x50469b[_0x4701bc(0x1ac)](0x1);const _0x6cae25=_0x4bdef8[_0x4701bc(0x20a)](noError,connect(_0x4bdef8['MMPJQ'](setup)),_0x50469b);_0x50469b[_0x4701bc(0x177)](_0x6cae25[_0x4701bc(0x132)][_0x4701bc(0x160)][_0x4701bc(0x203)](_0x6cae25[_0x4701bc(0x132)])),_0x6cae25[_0x4701bc(0x132)]['on'](_0x4701bc(0x1da),function(){const _0x57ecef=_0x4701bc;_0x50469b[_0x57ecef(0x112)](_0x4bdef8['BffZM']);}),_0x6cae25[_0x4701bc(0x176)][_0x4701bc(0x18f)]({'cmd':_0x4bdef8['uQcAy']});}),test(_0x249b00(0x22b),function(_0x41bc39){const _0x4bb162=_0x249b00,_0x312844={'mCHqb':_0x4bb162(0x217),'TekLW':function(_0x26dcdb,_0x4162bc,_0x543968){return _0x26dcdb(_0x4162bc,_0x543968);}};_0x41bc39[_0x4bb162(0x1ac)](0x1);const _0x58183b=_0x312844[_0x4bb162(0x1a3)](noError,connect(setup()),_0x41bc39);_0x41bc39[_0x4bb162(0x177)](_0x58183b[_0x4bb162(0x132)][_0x4bb162(0x160)]['bind'](_0x58183b[_0x4bb162(0x132)])),_0x58183b['broker']['on']('clientDisconnect',function(){const _0x3d01dc=_0x4bb162;_0x41bc39[_0x3d01dc(0x112)](_0x3d01dc(0x198));}),_0x58183b[_0x4bb162(0x132)]['on'](_0x4bb162(0x23a),function(_0x81cfd6){const _0x29c689=_0x4bb162;_0x81cfd6[_0x29c689(0x154)][_0x29c689(0x235)](_0x312844[_0x29c689(0x130)],{'cmd':_0x29c689(0x1b9)});});}),test(_0x249b00(0x239),function(_0x222252){const _0x4d6e40=_0x249b00,_0x358ea7={'oICly':'client\x20instance\x20is\x20removed','xoMUL':_0x4d6e40(0x239),'RPggX':function(_0x4499de,_0x3905ea){return _0x4499de(_0x3905ea);}};_0x222252[_0x4d6e40(0x1ac)](0x5);const _0x21a2db=aedes(),_0x1d1495=_0x358ea7[_0x4d6e40(0x17c)](noError,connect(setup(_0x21a2db),{'clientId':'abcde'}));_0x21a2db['on'](_0x4d6e40(0x23a),function(){const _0x1e400d=_0x4d6e40,_0x526c76={'fzNHB':_0x358ea7['oICly'],'Ifcbb':_0x1e400d(0x1d2)},_0x1b9fee=_0x21a2db[_0x1e400d(0x23f)][_0x1e400d(0x126)];_0x222252[_0x1e400d(0x1de)](_0x1b9fee['connected'],!![],'client\x20connected'),eos(_0x1d1495[_0x1e400d(0x1cb)],_0x222252[_0x1e400d(0x112)][_0x1e400d(0x203)](_0x222252,_0x358ea7['xoMUL'])),setImmediate(()=>{const _0xe8cea2=_0x1e400d;_0x1b9fee['close'](function(){const _0x5ce0a5=_0x174a;_0x222252[_0x5ce0a5(0x1de)](_0x21a2db[_0x5ce0a5(0x23f)][_0x5ce0a5(0x126)],undefined,_0x526c76['fzNHB']);}),_0x222252[_0xe8cea2(0x1de)](_0x1b9fee[_0xe8cea2(0x16d)],![],_0x526c76['Ifcbb']),_0x21a2db[_0xe8cea2(0x160)](function(_0x5b3646){const _0x15182f=_0xe8cea2;_0x222252[_0x15182f(0x227)](_0x5b3646,_0x15182f(0xf8));});});});}),test(_0x249b00(0x11e),function(_0x53ba9f){const _0x368f47=_0x249b00,_0x5c6e85={'qlNSJ':'packet\x20matches','SlxLS':_0x368f47(0xf8),'GKiSs':function(_0x2e6bfd,_0x36f0df){return _0x2e6bfd!==_0x36f0df;},'SXvAL':_0x368f47(0x17f),'LGMUn':function(_0x211b77,_0xbc9694,_0x42852e){return _0x211b77(_0xbc9694,_0x42852e);},'CsUmQ':_0x368f47(0x239),'chjrU':function(_0x17a51c,_0xae960b){return _0x17a51c(_0xae960b);},'UKuaw':function(_0x4600bc,_0x38d91a,_0x455e47,_0x457c3d){return _0x4600bc(_0x38d91a,_0x455e47,_0x457c3d);},'RviaC':'abcde'};_0x53ba9f[_0x368f47(0x1ac)](0x4);const _0x1ffc6e=aedes(),_0x53ce83=_0x5c6e85[_0x368f47(0x163)](noError,_0x5c6e85[_0x368f47(0x22c)](connect,setup(_0x1ffc6e),{'clientId':_0x5c6e85[_0x368f47(0x230)]},function(){const _0x5ac7b6=_0x368f47,_0x22417b={'HwUTY':_0x5c6e85['qlNSJ'],'oYYKX':_0x5c6e85[_0x5ac7b6(0x143)],'lRkhI':_0x5ac7b6(0x23c)};if(_0x5c6e85['GKiSs'](_0x5c6e85[_0x5ac7b6(0x116)],_0x5c6e85[_0x5ac7b6(0x116)])){const _0x49af76=_0x5ac7b6(0x170)[_0x5ac7b6(0x1b7)]('|');let _0x490dd4=0x0;while(!![]){switch(_0x49af76[_0x490dd4++]){case'0':_0x31d635['deepEqual'](_0x23dda1,_0x27690a,_0x22417b['HwUTY']);continue;case'1':_0x5f2f9b();continue;case'2':_0x197bc0[_0x5ac7b6(0x164)]=_0x192933[_0x5ac7b6(0x132)][_0x5ac7b6(0x12e)];continue;case'3':_0x1e4cbe[_0x5ac7b6(0x1de)](_0x285731[_0x5ac7b6(0x1d6)],_0x239079,'MUST\x20not\x20contain\x20a\x20packet\x20identifier\x20in\x20QoS\x200');continue;case'4':_0x753712['brokerId']=_0x243138[_0x5ac7b6(0x132)]['id'];continue;}break;}}else _0x5c6e85['LGMUn'](eos,_0x53ce83[_0x5ac7b6(0x1cb)],_0x53ba9f[_0x5ac7b6(0x112)][_0x5ac7b6(0x203)](_0x53ba9f,_0x5c6e85[_0x5ac7b6(0x195)])),_0x1ffc6e[_0x5ac7b6(0x160)](function(_0x43df3b){const _0x20b7df=_0x5ac7b6;_0x53ba9f[_0x20b7df(0x227)](_0x43df3b,_0x22417b[_0x20b7df(0x1a6)]),_0x53ba9f['ok'](_0x1ffc6e[_0x20b7df(0x117)]),_0x53ba9f[_0x20b7df(0x1de)](_0x1ffc6e[_0x20b7df(0x23f)][_0x20b7df(0x126)],undefined,_0x22417b[_0x20b7df(0x10d)]);});}));}),test(_0x249b00(0x152),function(_0x11d3af){const _0x488f77=_0x249b00,_0x311e41={'zGKDI':'2\x20connected\x20clients','gklFq':function(_0x1d6025,_0x36c05c,_0x1e97ca){return _0x1d6025(_0x36c05c,_0x1e97ca);},'pAEka':function(_0x1e56d7,_0x3fb1f2,_0x196cef){return _0x1e56d7(_0x3fb1f2,_0x196cef);},'zxAAu':_0x488f77(0xf8),'Tqgpc':'broker\x20mq\x20closes','uDfNH':_0x488f77(0x11e),'YLoFA':function(_0x386b14,_0xf021cd){return _0x386b14(_0xf021cd);},'BoAXi':function(_0x1c7f33,_0x2991c2,_0x4fce75,_0x3a409d){return _0x1c7f33(_0x2991c2,_0x4fce75,_0x3a409d);},'pOOvB':function(_0x591341,_0x49ca54,_0x5f220d,_0x6edb9e){return _0x591341(_0x49ca54,_0x5f220d,_0x6edb9e);},'hxtbk':function(_0x992330,_0x141741){return _0x992330(_0x141741);}};_0x11d3af[_0x488f77(0x1ac)](0x7);const _0x32b92e=aedes(),_0x632ad1=noError(_0x311e41[_0x488f77(0x205)](connect,_0x311e41[_0x488f77(0x1eb)](setup,_0x32b92e),{},function(){const _0x49d952=_0x488f77,_0x40733e={'FohQM':_0x311e41[_0x49d952(0x1d4)],'uJjvB':_0x311e41[_0x49d952(0x153)],'tJhMr':_0x311e41[_0x49d952(0x162)]},_0x1105ce=_0x311e41[_0x49d952(0x11a)](noError,_0x311e41['BoAXi'](connect,setup(_0x32b92e),{},function(){const _0x557acb=_0x49d952;_0x11d3af[_0x557acb(0x1de)](_0x32b92e[_0x557acb(0x185)],0x2,_0x311e41['zGKDI']),_0x311e41[_0x557acb(0x224)](eos,_0x632ad1[_0x557acb(0x1cb)],_0x11d3af['pass'][_0x557acb(0x203)](_0x11d3af,_0x557acb(0xf1))),_0x311e41['pAEka'](eos,_0x1105ce['conn'],_0x11d3af[_0x557acb(0x112)][_0x557acb(0x203)](_0x11d3af,'client2\x20closes')),_0x32b92e[_0x557acb(0x160)](function(_0x2a8efc){const _0x1780c7=_0x557acb;_0x11d3af[_0x1780c7(0x227)](_0x2a8efc,_0x40733e['FohQM']),_0x11d3af['ok'](_0x32b92e['mq'][_0x1780c7(0x117)],_0x40733e[_0x1780c7(0xe9)]),_0x11d3af['ok'](_0x32b92e['closed'],_0x40733e[_0x1780c7(0x209)]),_0x11d3af[_0x1780c7(0x1de)](_0x32b92e[_0x1780c7(0x185)],0x0,_0x1780c7(0x1cc));});}));}));}),test(_0x249b00(0xee),function(_0x1f2275){const _0x51a1d4=_0x249b00;_0x1f2275[_0x51a1d4(0x1ac)](0x1);const _0xf1c420=aedes();_0x1f2275[_0x51a1d4(0x177)](_0xf1c420[_0x51a1d4(0x160)][_0x51a1d4(0x203)](_0xf1c420));const _0xd1d06f=setup(_0xf1c420);_0xf1c420['on'](_0x51a1d4(0x144),function(_0x29c0ae,_0x18690f){const _0x1036eb=_0x51a1d4;_0x1f2275[_0x1036eb(0x191)](_0x29c0ae['id'],null);}),_0xd1d06f[_0x51a1d4(0x1cb)][_0x51a1d4(0x235)](_0x51a1d4(0x227),_0x51a1d4(0x1b8));}),test(_0x249b00(0x1c9),function(_0x23c86a){const _0x185f4e=_0x249b00,_0x1da1c3={'zyTPM':_0x185f4e(0x1a5),'oxTlq':'successful\x20connack','QfTbg':function(_0x31a61c){return _0x31a61c();}};_0x23c86a['plan'](0x1);const _0x1b6978=_0x1da1c3[_0x185f4e(0x211)](setup);_0x23c86a[_0x185f4e(0x177)](_0x1b6978['broker'][_0x185f4e(0x160)][_0x185f4e(0x203)](_0x1b6978[_0x185f4e(0x132)])),_0x1b6978['inStream'][_0x185f4e(0x18f)]({'cmd':_0x185f4e(0x168),'protocolId':_0x185f4e(0x19e),'protocolVersion':0x4,'clean':!![],'keepalive':0x0}),_0x1b6978[_0x185f4e(0x1ca)]['on'](_0x185f4e(0x18e),function(_0x2b955f){const _0x3940e0=_0x185f4e;_0x23c86a['deepEqual'](_0x2b955f,{'cmd':_0x1da1c3[_0x3940e0(0x107)],'returnCode':0x0,'length':0x2,'qos':0x0,'retain':![],'dup':![],'topic':null,'payload':null,'sessionPresent':![]},_0x1da1c3[_0x3940e0(0x12b)]);});}),test(_0x249b00(0x1d7),function(_0x5ae169){const _0x4c701f=_0x249b00,_0x19726d={'EFBFJ':_0x4c701f(0x167),'Arkmv':function(_0x1fc427,_0x5dcd46,_0x208e8a,_0x5bb2b5){return _0x1fc427(_0x5dcd46,_0x208e8a,_0x5bb2b5);},'HAvfh':function(_0x1cb616){return _0x1cb616();},'Rvdxs':function(_0x3f37b9,_0x41388e){return _0x3f37b9(_0x41388e);},'lgApY':_0x4c701f(0x126)};_0x5ae169[_0x4c701f(0x1ac)](0x2);const _0x30b6b8=_0x19726d[_0x4c701f(0x12f)](aedes);_0x5ae169[_0x4c701f(0x177)](_0x30b6b8[_0x4c701f(0x160)][_0x4c701f(0x203)](_0x30b6b8));const _0x8a6368=connect(_0x19726d['Rvdxs'](setup,_0x30b6b8),{'clientId':_0x19726d[_0x4c701f(0x14a)]},function(){const _0x36b9bf=_0x4c701f,_0x3cb5f5={'oplQb':_0x19726d[_0x36b9bf(0x131)],'EndOR':_0x36b9bf(0xec)};eos(_0x8a6368[_0x36b9bf(0x1cb)],function(){const _0x50630a=_0x36b9bf,_0x39bc47={'IUzkW':_0x3cb5f5[_0x50630a(0x16f)]};if(_0x50630a(0x21a)===_0x50630a(0x1dd)){const _0x50e0e3={'rWCIq':_0x50630a(0x13e)};_0x669334['conn']['on'](_0x39bc47[_0x50630a(0x14d)],()=>{const _0x2438c5=_0x50630a;_0x42048d[_0x2438c5(0x112)](_0x2438c5(0x113));}),_0x5c3bc4[_0x50630a(0x160)](),_0x5b645d[_0x50630a(0x1cb)]['on'](_0x39bc47[_0x50630a(0x14d)],()=>{_0xdcb76d['fail'](_0x50e0e3['rWCIq']);}),_0x36e1f5[_0x50630a(0x160)]();}else _0x5ae169[_0x50630a(0x112)](_0x3cb5f5[_0x50630a(0x225)]);}),_0x19726d[_0x36b9bf(0x208)](connect,setup(_0x30b6b8),{'clientId':_0x36b9bf(0x126)},function(){const _0x25d98d=_0x36b9bf;_0x5ae169[_0x25d98d(0x112)](_0x25d98d(0x134));});});}),test(_0x249b00(0x1ae),function(_0x1111ce){const _0x3a728c=_0x249b00,_0xaea01={'oDzzK':_0x3a728c(0xf2),'SQWDg':_0x3a728c(0x1bd),'GaAJE':function(_0x5cc0cc,_0x1f1454,_0x1ac457){return _0x5cc0cc(_0x1f1454,_0x1ac457);},'Mrsjw':function(_0x79730a){return _0x79730a();},'ODrQD':function(_0x2a2f4e,_0x43377e,_0x5c65e0,_0x4f9d21){return _0x2a2f4e(_0x43377e,_0x5c65e0,_0x4f9d21);},'mtRaE':function(_0x7c21e5,_0x2e0ca9){return _0x7c21e5(_0x2e0ca9);}};_0x1111ce[_0x3a728c(0x1ac)](0x2);const _0x2f9829=_0xaea01['Mrsjw'](aedes);_0x1111ce['tearDown'](_0x2f9829[_0x3a728c(0x160)][_0x3a728c(0x203)](_0x2f9829));const _0x34d9c5=_0xaea01['ODrQD'](connect,_0xaea01[_0x3a728c(0x161)](setup,_0x2f9829),{'clientId':'abcde'},function(){const _0x98d599=_0x3a728c,_0x212625={'vPIpx':_0xaea01[_0x98d599(0x14f)]};_0xaea01['GaAJE'](eos,_0x34d9c5[_0x98d599(0x1cb)],function(){const _0x12e244=_0x98d599;_0x1111ce[_0x12e244(0x112)](_0x212625[_0x12e244(0x22f)]);}),_0x2f9829[_0x98d599(0x18b)]({'topic':_0x98d599(0x237),'payload':Buffer[_0x98d599(0x1fb)]('abcde')},function(){const _0x140ce7=_0x98d599;_0x1111ce[_0x140ce7(0x112)](_0xaea01[_0x140ce7(0x22d)]);});});}),test(_0x249b00(0x1c5),function(_0x287402){const _0x453c76=_0x249b00,_0x19381f={'bfBGo':function(_0x566042,_0x5c3c5c){return _0x566042===_0x5c3c5c;},'KbFIS':_0x453c76(0x1c3),'IZiLo':_0x453c76(0x126),'vnixD':_0x453c76(0x1f9),'iBkhm':function(_0x579c58){return _0x579c58();},'FjYxI':_0x453c76(0x102),'VKbky':_0x453c76(0x1f8)};_0x287402['plan'](0x1);const _0x4db8ed=_0x19381f[_0x453c76(0x1f5)](aedes);_0x287402['tearDown'](_0x4db8ed['close'][_0x453c76(0x203)](_0x4db8ed)),_0x4db8ed['mq']['on'](_0x19381f[_0x453c76(0x140)]+_0x4db8ed['id']+_0x19381f[_0x453c76(0x14c)],function(_0x32572e,_0x1944c9){const _0x201ed9=_0x453c76;_0x19381f[_0x201ed9(0x100)](_0x19381f[_0x201ed9(0x125)],_0x19381f[_0x201ed9(0x125)])?(_0x287402[_0x201ed9(0x1de)](_0x32572e['payload'][_0x201ed9(0x242)](),_0x19381f['IZiLo'],_0x19381f[_0x201ed9(0x1d9)]),_0x1944c9()):_0x1de1a7[_0x201ed9(0x1de)](_0x83c0de[_0x201ed9(0x1d6)],0x2a);}),connect(setup(_0x4db8ed),{'clientId':_0x453c76(0x126)});}),test('restore\x20QoS\x200\x20subscriptions\x20not\x20clean',function(_0x54dc1f){const _0x12e3ae=_0x249b00,_0x25070c={'XGlMd':_0x12e3ae(0x18b),'skuFE':_0x12e3ae(0x196),'TITdS':_0x12e3ae(0x11f),'dyYfY':function(_0x4684e,_0xb40aae){return _0x4684e(_0xb40aae);},'bsxJD':_0x12e3ae(0x126)};_0x54dc1f['plan'](0x5);const _0x28bb24=aedes();_0x54dc1f[_0x12e3ae(0x177)](_0x28bb24['close'][_0x12e3ae(0x203)](_0x28bb24));const _0x106769={'cmd':_0x25070c[_0x12e3ae(0x166)],'topic':_0x25070c[_0x12e3ae(0x10b)],'payload':Buffer[_0x12e3ae(0x1fb)](_0x25070c[_0x12e3ae(0x1a2)]),'qos':0x0,'dup':![],'length':0xc,'retain':![]};var _0x4d2fb2=connect(_0x25070c[_0x12e3ae(0x115)](setup,_0x28bb24),{'clean':![],'clientId':_0x25070c['bsxJD']},function(){const _0x55cb37=_0x12e3ae,_0x4a326e={'uSCFn':_0x55cb37(0x18b),'SDNjK':function(_0x29112f,_0x3aa342){return _0x29112f(_0x3aa342);},'QafjE':_0x55cb37(0x126),'wPzKp':function(_0x25e0fe,_0x59c047){return _0x25e0fe(_0x59c047);}};subscribe(_0x54dc1f,_0x4d2fb2,_0x55cb37(0x196),0x0,function(){const _0xc00210=_0x55cb37,_0x2a517a={'qIVPI':_0x4a326e[_0xc00210(0x1d5)],'XEcCr':function(_0x1aff68,_0x337dd3){const _0x3f3bbd=_0xc00210;return _0x4a326e[_0x3f3bbd(0x174)](_0x1aff68,_0x337dd3);},'mwAbw':_0x4a326e['QafjE']};_0x4d2fb2[_0xc00210(0x176)][_0xc00210(0x1a7)]();const _0x24e16=connect(_0x4a326e[_0xc00210(0xef)](setup,_0x28bb24),{},function(){const _0x5e4c04=_0xc00210;_0x4d2fb2=connect(_0x2a517a['XEcCr'](setup,_0x28bb24),{'clean':![],'clientId':_0x2a517a[_0x5e4c04(0x13b)]},function(_0x149035){const _0x488245=_0x5e4c04;_0x54dc1f[_0x488245(0x1de)](_0x149035['sessionPresent'],!![],_0x488245(0x121)),_0x24e16[_0x488245(0x176)]['write']({'cmd':_0x2a517a[_0x488245(0x23d)],'topic':'hello','payload':_0x488245(0x11f),'qos':0x0});}),_0x4d2fb2[_0x5e4c04(0x1ca)]['once'](_0x5e4c04(0x18e),function(_0x3a8160){const _0x5c4add=_0x5e4c04;_0x54dc1f['deepEqual'](_0x3a8160,_0x106769,_0x5c4add(0x22e));});});});});}),test(_0x249b00(0x23e),function(_0x1367db){const _0x1184ac=_0x249b00,_0x13d53c={'HMrsd':_0x1184ac(0x1af),'dLazK':function(_0x5de63c,_0x390293,_0x50ef86,_0x3108bf){return _0x5de63c(_0x390293,_0x50ef86,_0x3108bf);},'AXQFj':function(_0x4ca294,_0x49bcaf,_0x3f6038,_0x43632b,_0x571fac,_0x200bea){return _0x4ca294(_0x49bcaf,_0x3f6038,_0x43632b,_0x571fac,_0x200bea);},'Zhvil':'hello','kwFkx':function(_0xc99f0e,_0x2cb285,_0x3668c1,_0x32d45e){return _0xc99f0e(_0x2cb285,_0x3668c1,_0x32d45e);},'OmssR':function(_0x4f622f,_0x4544c9){return _0x4f622f(_0x4544c9);}};_0x1367db[_0x1184ac(0x1ac)](0x5);const _0x44aebc=aedes();_0x1367db[_0x1184ac(0x177)](_0x44aebc['close']['bind'](_0x44aebc));var _0x58a924=_0x13d53c[_0x1184ac(0x202)](connect,_0x13d53c[_0x1184ac(0x1ea)](setup,_0x44aebc),{'clean':!![],'clientId':_0x1184ac(0x126)},function(){const _0x29c39b=_0x1184ac,_0xf01aa8={'Qtxos':function(_0x20162d,_0x14e0bf){return _0x20162d(_0x14e0bf);},'MBSPo':_0x13d53c['HMrsd'],'RpHZZ':_0x29c39b(0x18e),'cIDcp':function(_0x4b1038,_0x21f1fc,_0x40fd20,_0x23c3e8){const _0xf98793=_0x29c39b;return _0x13d53c[_0xf98793(0xfd)](_0x4b1038,_0x21f1fc,_0x40fd20,_0x23c3e8);},'aWJYk':function(_0x33b6d5,_0xdd7813){return _0x33b6d5(_0xdd7813);}};_0x13d53c[_0x29c39b(0x186)](subscribe,_0x1367db,_0x58a924,_0x13d53c['Zhvil'],0x0,function(){const _0x46171d=_0x29c39b,_0x308ceb={'KMXoa':_0x46171d(0x11f),'hqgCN':function(_0x2cbd32,_0x35299c){const _0x1a7d87=_0x46171d;return _0xf01aa8[_0x1a7d87(0xfb)](_0x2cbd32,_0x35299c);},'igLid':_0x46171d(0x196),'Wvzjq':_0xf01aa8[_0x46171d(0x213)],'fKKrL':function(_0x29fd1b,_0x50a4cd){return _0x29fd1b(_0x50a4cd);},'OWozl':_0xf01aa8[_0x46171d(0xe3)]};_0x58a924[_0x46171d(0x176)][_0x46171d(0x1a7)](),_0x58a924[_0x46171d(0x132)][_0x46171d(0x122)][_0x46171d(0x180)](_0x44aebc[_0x46171d(0x23f)][_0x46171d(0x126)],function(_0x4417dc,_0x2367e5,_0x3978e4){const _0x4ebbc3=_0x46171d;_0x1367db[_0x4ebbc3(0x1de)](_0x2367e5,null,_0x4ebbc3(0x1a8));});const _0x1348b5=_0xf01aa8[_0x46171d(0x1a9)](connect,_0xf01aa8[_0x46171d(0x187)](setup,_0x44aebc),{},function(){const _0x59f2bd=_0x46171d,_0x568a1a={'wLRzF':_0x59f2bd(0x189),'MGPwu':_0x308ceb[_0x59f2bd(0x15b)],'rAdPf':_0x59f2bd(0x1f1),'GjHrQ':function(_0x4388d0,_0x4dfe2d){const _0x5359e4=_0x59f2bd;return _0x308ceb[_0x5359e4(0x136)](_0x4388d0,_0x4dfe2d);},'OORtT':_0x308ceb[_0x59f2bd(0x124)],'vfXoO':_0x59f2bd(0x18b),'KCgfa':function(_0x15d329,_0x36d7f3){return _0x15d329===_0x36d7f3;},'XNdiB':_0x59f2bd(0x18d),'CIdwz':_0x308ceb[_0x59f2bd(0x234)]};_0x58a924=connect(_0x308ceb[_0x59f2bd(0x1ec)](setup,_0x44aebc),{'clean':!![],'clientId':'abcde'},function(_0xa4d55c){const _0x28b28d=_0x59f2bd;_0x1367db[_0x28b28d(0x1de)](_0xa4d55c['sessionPresent'],![],_0x568a1a[_0x28b28d(0x105)]),_0x1348b5['inStream'][_0x28b28d(0x18f)]({'cmd':_0x28b28d(0x18b),'topic':_0x28b28d(0x196),'payload':_0x568a1a[_0x28b28d(0x139)],'qos':0x0});}),_0x58a924[_0x59f2bd(0x1ca)][_0x59f2bd(0x141)](_0x308ceb[_0x59f2bd(0x1c2)],function(_0x5e21c2){const _0x507745=_0x59f2bd;if(_0x568a1a[_0x507745(0x12c)](_0x568a1a['XNdiB'],_0x507745(0x18d)))_0x1367db['fail'](_0x568a1a[_0x507745(0xfc)]);else{const _0x1f6e22={'Jlwgk':_0x568a1a[_0x507745(0x232)]};_0x3c9873[_0x507745(0x1ac)](0x2);const _0xf602b2=_0x568a1a['GjHrQ'](_0x177a92,_0x56ea37());_0x4784fc[_0x507745(0x177)](_0xf602b2['broker'][_0x507745(0x160)]['bind'](_0xf602b2[_0x507745(0x132)]));var _0x3a486a={'cmd':_0x507745(0x18b),'topic':_0x568a1a['OORtT'],'payload':_0x2415cb[_0x507745(0x1fb)](_0x568a1a[_0x507745(0x139)]),'qos':0x0,'retain':![],'dup':![]};_0xf602b2[_0x507745(0x132)]['mq']['on'](_0x568a1a[_0x507745(0xf9)],function(_0x3fabc3,_0x25e5f1){const _0x35d95b=_0x507745,_0x39bd7c=_0x35d95b(0x172)[_0x35d95b(0x1b7)]('|');let _0x3af986=0x0;while(!![]){switch(_0x39bd7c[_0x3af986++]){case'0':_0x3a486a[_0x35d95b(0x164)]=_0xf602b2['broker']['counter'];continue;case'1':_0x3a486a['brokerId']=_0xf602b2[_0x35d95b(0x132)]['id'];continue;case'2':_0x563fb0[_0x35d95b(0x1fe)](_0x3fabc3,_0x3a486a,_0x1f6e22['Jlwgk']);continue;case'3':_0x25e5f1();continue;case'4':_0x22b610[_0x35d95b(0x1de)](_0x3fabc3['messageId'],_0x123359,_0x35d95b(0x151));continue;}break;}}),_0xf602b2[_0x507745(0x176)][_0x507745(0x18f)]({'cmd':_0x568a1a[_0x507745(0x11d)],'topic':_0x507745(0x196),'payload':_0x568a1a[_0x507745(0x139)]});}});});});});}),test(_0x249b00(0x16e),function(_0xc4ea4c){const _0x4bde0b=_0x249b00,_0x2ed80d={'FzoCV':_0x4bde0b(0x15f),'UPrvs':_0x4bde0b(0x196),'lkhzu':_0x4bde0b(0x18b),'eHUoT':function(_0x58342c,_0x6d9402,_0x43e9c0,_0x5b7fd1){return _0x58342c(_0x6d9402,_0x43e9c0,_0x5b7fd1);},'tztiC':function(_0x5a4a54){return _0x5a4a54();}};_0xc4ea4c['plan'](0x7);const _0x57c5d9={'cmd':_0x2ed80d[_0x4bde0b(0x21f)],'topic':_0x2ed80d['UPrvs'],'payload':Buffer[_0x4bde0b(0x1fb)]('world'),'dup':![],'length':0xc,'qos':0x0,'retain':![]},_0x44e990=_0x2ed80d[_0x4bde0b(0x243)](connect,_0x2ed80d[_0x4bde0b(0x1b4)](setup),{},function(){const _0x250e11=_0x4bde0b,_0x294eb9={'HpeVo':_0x2ed80d[_0x250e11(0x210)],'LrXux':_0x250e11(0x18b),'iLRCO':_0x2ed80d[_0x250e11(0x188)],'qJUST':'world','nUDKO':function(_0x32e4e8,_0x1d3f4e,_0x5e397a,_0x3defcb,_0x564cc4,_0x549eab){return _0x32e4e8(_0x1d3f4e,_0x5e397a,_0x3defcb,_0x564cc4,_0x549eab);}};subscribe(_0xc4ea4c,_0x44e990,_0x2ed80d[_0x250e11(0x188)],0x0,function(){const _0x5e18fa=_0x250e11;_0x294eb9[_0x5e18fa(0x182)](subscribe,_0xc4ea4c,_0x44e990,_0x294eb9[_0x5e18fa(0x157)],0x0,function(){const _0x324a90=_0x5e18fa,_0x54d498={'kjEkp':function(_0xcc7fb0,_0x222383){return _0xcc7fb0!==_0x222383;},'aPrGd':_0x294eb9[_0x324a90(0x197)],'pBjYX':_0x324a90(0x1f1)};_0x44e990['outStream'][_0x324a90(0x141)](_0x324a90(0x18e),function(_0x76d6c1){const _0x54d349=_0x324a90,_0x47635e={'JPuuM':function(_0x474234,_0x65eb2f){return _0x54d498['kjEkp'](_0x474234,_0x65eb2f);},'wxrkC':_0x54d498[_0x54d349(0x220)]};_0xc4ea4c[_0x54d349(0x1fe)](_0x76d6c1,_0x57c5d9,_0x54d498[_0x54d349(0x207)]),_0x44e990['outStream']['on']('data',function(){const _0x2a2d80=_0x54d349;_0x47635e[_0x2a2d80(0x17d)]('WSHcJ',_0x47635e[_0x2a2d80(0x181)])?_0xc4ea4c[_0x2a2d80(0x1aa)](_0x2a2d80(0x183)):(_0xce33ea[_0x2a2d80(0x160)](),_0x4881d3[_0x2a2d80(0x160)]());});}),_0x44e990[_0x324a90(0x132)][_0x324a90(0x18b)]({'cmd':_0x294eb9['LrXux'],'topic':_0x294eb9[_0x324a90(0x157)],'payload':_0x294eb9['qJUST']});});});});_0xc4ea4c['tearDown'](_0x44e990[_0x4bde0b(0x132)][_0x4bde0b(0x160)][_0x4bde0b(0x203)](_0x44e990[_0x4bde0b(0x132)]));}),test('overlapping\x20sub\x20does\x20not\x20double\x20deliver',function(_0x24214d){const _0x188d82=_0x249b00,_0x11578b={'BFHAh':function(_0x197e72,_0xb68468,_0x26f51a,_0x42779d,_0x559384,_0x21de78){return _0x197e72(_0xb68468,_0x26f51a,_0x42779d,_0x559384,_0x21de78);},'pmMhc':_0x188d82(0x10e),'UKJpg':'hello','fJvna':_0x188d82(0x18b),'bAsul':_0x188d82(0x11f),'eKbRn':function(_0x5302bd,_0xa029c9,_0x415f5b,_0x188e4a){return _0x5302bd(_0xa029c9,_0x415f5b,_0x188e4a);},'VzIdp':function(_0x191660){return _0x191660();}};_0x24214d[_0x188d82(0x1ac)](0x7);const _0x261fd5={'cmd':_0x11578b['fJvna'],'topic':_0x11578b[_0x188d82(0x200)],'payload':Buffer[_0x188d82(0x1fb)](_0x11578b[_0x188d82(0x21c)]),'dup':![],'length':0xc,'qos':0x0,'retain':![]},_0x5bb137=_0x11578b[_0x188d82(0x1b6)](connect,_0x11578b[_0x188d82(0x128)](setup),{},function(){const _0x1e938b=_0x188d82,_0x12a2e1={'YPoDL':function(_0x26dcd6,_0x4eaaad){return _0x26dcd6!==_0x4eaaad;},'AZQCf':'hello'};subscribe(_0x24214d,_0x5bb137,_0x11578b[_0x1e938b(0x200)],0x0,function(){const _0x445924=_0x1e938b;_0x11578b[_0x445924(0x11b)](subscribe,_0x24214d,_0x5bb137,_0x11578b[_0x445924(0x21e)],0x0,function(){const _0x5525e7=_0x445924,_0x53bf08={'BqRZL':_0x5525e7(0xe5),'aeNKG':'double\x20deliver'};_0x12a2e1['YPoDL'](_0x5525e7(0x19d),'HuvKE')?_0xff5be8['pass'](_0x53bf08[_0x5525e7(0x119)]):(_0x5bb137[_0x5525e7(0x1ca)][_0x5525e7(0x141)](_0x5525e7(0x18e),function(_0x50ac33){const _0x4bde05=_0x5525e7,_0x5d8822={'tiTiD':_0x53bf08[_0x4bde05(0x15c)]};_0x24214d[_0x4bde05(0x1fe)](_0x50ac33,_0x261fd5,_0x4bde05(0x1f1)),_0x5bb137[_0x4bde05(0x1ca)]['on'](_0x4bde05(0x18e),function(){const _0x3d1b81=_0x4bde05;_0x24214d[_0x3d1b81(0x1aa)](_0x5d8822[_0x3d1b81(0x193)]);});}),_0x5bb137[_0x5525e7(0x132)][_0x5525e7(0x18b)]({'cmd':_0x5525e7(0x18b),'topic':_0x12a2e1[_0x5525e7(0x229)],'payload':_0x5525e7(0x11f)}));});});});_0x24214d[_0x188d82(0x177)](_0x5bb137[_0x188d82(0x132)][_0x188d82(0x160)][_0x188d82(0x203)](_0x5bb137['broker']));}),test(_0x249b00(0x111),function(_0x1bc536){const _0x5350ab=_0x249b00,_0x1339e3={'FmayT':_0x5350ab(0x22a),'fmnYL':'publish','KmdmA':function(_0x3c6ef9,_0x1bb7a2,_0x5d0265,_0x23d70b,_0x2cd8c3,_0x364ef2){return _0x3c6ef9(_0x1bb7a2,_0x5d0265,_0x23d70b,_0x2cd8c3,_0x364ef2);},'zzXUV':'hello'};_0x1bc536['plan'](0x4);const _0x337855=connect(setup(),{},function(){const _0xd2111f=_0x5350ab,_0x3e00a1={'pzjCM':_0x1339e3['FmayT'],'OEyty':_0x1339e3[_0xd2111f(0x236)],'bvlCW':_0xd2111f(0x11f)};_0x1339e3[_0xd2111f(0x206)](subscribe,_0x1bc536,_0x337855,_0x1339e3[_0xd2111f(0x17a)],0x0,function(){const _0x33228e=_0xd2111f,_0x4485c3={'eKlTa':'hello','NSttt':_0x3e00a1[_0x33228e(0xe8)]};_0x337855['conn']['write']=function(_0x35c15d,_0x303ddc,_0x406398){return![];},_0x337855[_0x33228e(0x132)]['publish']({'cmd':_0x3e00a1[_0x33228e(0x10c)],'topic':_0x33228e(0x196),'payload':_0x3e00a1['bvlCW']},function(){const _0x16f211=_0x33228e,_0x1aee5f={'KzyAy':'publish','RuTQr':_0x16f211(0x196),'qlbOs':_0x16f211(0x11f)};if(_0x4485c3[_0x16f211(0x18c)]==='FVZoe'){const _0x4e2f74={'xPOhC':_0x16f211(0x1af),'MHfaG':_0x16f211(0x1df)};_0x121209[_0x16f211(0x176)][_0x16f211(0x18f)]({'cmd':_0x16f211(0x233),'messageId':0x2b,'unsubscriptions':[_0x4485c3[_0x16f211(0x1c6)]]}),_0x5af67c[_0x16f211(0x1ca)]['once']('data',function(_0x1db065){const _0x1c749f=_0x16f211;_0x4f2731['deepEqual'](_0x1db065,{'cmd':_0x1c749f(0x15e),'messageId':0x2b,'dup':![],'length':0x2,'qos':0x0,'retain':![]},_0x1c749f(0x1f1)),_0x15c7e3[_0x1c749f(0x1ca)]['on'](_0x1c749f(0x18e),function(_0x2383ef){const _0x5a6c15=_0x1c749f;_0x1587f4[_0x5a6c15(0x1aa)](_0x4e2f74[_0x5a6c15(0x1ab)]);}),_0x2970a8[_0x1c749f(0x132)][_0x1c749f(0x18b)]({'cmd':_0x1aee5f[_0x1c749f(0x1ff)],'topic':_0x1aee5f[_0x1c749f(0x218)],'payload':_0x1aee5f[_0x1c749f(0x178)]},function(){const _0x4a2313=_0x1c749f;_0x428ac4[_0x4a2313(0x112)](_0x4e2f74[_0x4a2313(0x1a0)]);});});}else _0x1bc536['pass'](_0x16f211(0xe5));}),_0x337855[_0x33228e(0x1cb)][_0x33228e(0x106)]();});});_0x1bc536[_0x5350ab(0x177)](_0x337855[_0x5350ab(0x132)]['close'][_0x5350ab(0x203)](_0x337855[_0x5350ab(0x132)]));}),test(_0x249b00(0x169),function(_0xc920d3){const _0x2b551d=_0x249b00,_0x4d7434={'RXvCs':function(_0xd9ab6c,_0x497647){return _0xd9ab6c(_0x497647);},'cXWdk':_0x2b551d(0x1e4)};_0xc920d3[_0x2b551d(0x1ac)](0x2);const _0x5476a9=aedes();setup(_0x5476a9)[_0x2b551d(0x1cb)]['destroy'](),_0xc920d3['ok'](_0x5476a9['id'],_0x2b551d(0x145));const _0x35a901=aedes({'id':_0x2b551d(0x1a4)});_0x4d7434[_0x2b551d(0xe7)](setup,_0x35a901)['conn'][_0x2b551d(0x106)](),_0xc920d3[_0x2b551d(0x1de)](_0x35a901['id'],_0x2b551d(0x1a4),_0x4d7434[_0x2b551d(0x204)]),_0xc920d3[_0x2b551d(0x177)](()=>{const _0x12ba44=_0x2b551d;_0x5476a9[_0x12ba44(0x160)](),_0x35a901[_0x12ba44(0x160)]();});}),test(_0x249b00(0x1ce),function(_0x1c4742){const _0x54c65=_0x249b00,_0x57cfab={'Hcqvu':function(_0x26f774,_0x289352){return _0x26f774===_0x289352;},'wajAB':_0x54c65(0x127),'sgaVU':_0x54c65(0x138),'Pgggs':function(_0x80863,_0x13f3f7){return _0x80863(_0x13f3f7);},'INAwh':function(_0x143e83,_0xb3632){return _0x143e83(_0xb3632);}};_0x1c4742['plan'](0x1);const _0x166b22=aedes();_0x1c4742['tearDown'](_0x166b22[_0x54c65(0x160)][_0x54c65(0x203)](_0x166b22)),_0x57cfab[_0x54c65(0x13c)](connect,_0x57cfab[_0x54c65(0x1fc)](setup,_0x166b22)),_0x166b22['on'](_0x54c65(0x120),function(_0xe7945a){const _0x44c04d=_0x54c65;_0xe7945a[_0x44c04d(0x1cb)]['on']('drain',()=>{const _0x7674d1=_0x44c04d;_0x57cfab['Hcqvu'](_0x57cfab[_0x7674d1(0x1ee)],_0x57cfab[_0x7674d1(0x20c)])?_0xf06f1b[_0x7674d1(0x1aa)]('should\x20not\x20receive\x20any\x20more\x20messages'):_0x1c4742[_0x7674d1(0x112)]('client\x20closed\x20ok');}),_0xe7945a[_0x44c04d(0x160)](),_0xe7945a[_0x44c04d(0x1cb)]['on'](_0x44c04d(0x167),()=>{const _0x269a38=_0x44c04d;_0x1c4742[_0x269a38(0x1aa)](_0x269a38(0x201));});});}),test(_0x249b00(0x1ba),function(_0x436689){const _0x437042=_0x249b00,_0x208f04={'aMcRT':_0x437042(0x196),'YBfEp':_0x437042(0x11f),'QJPta':_0x437042(0x113),'KbGQw':_0x437042(0x167),'ZUkxi':function(_0x4550f6){return _0x4550f6();},'WpAfD':_0x437042(0x23a)};_0x436689[_0x437042(0x1ac)](0x1);const _0xc85ca0=_0x208f04[_0x437042(0x110)](aedes);_0x436689[_0x437042(0x177)](_0xc85ca0[_0x437042(0x160)][_0x437042(0x203)](_0xc85ca0)),connect(setup(_0xc85ca0)),_0xc85ca0['on'](_0x208f04[_0x437042(0x13f)],function(_0x1dfcc5){const _0x2e3f02=_0x437042,_0x260925={'lZYJd':_0x208f04[_0x2e3f02(0x1ef)],'bRiVU':_0x208f04['YBfEp'],'VbtHR':_0x208f04[_0x2e3f02(0x1b2)]};_0x1dfcc5[_0x2e3f02(0x1cb)]['on'](_0x2e3f02(0x167),()=>{const _0x1e51bc=_0x2e3f02;_0x1e51bc(0x1f0)===_0x1e51bc(0x1f4)?(_0x58c477[_0x1e51bc(0x1cb)]['write']=function(_0x37d4eb,_0x447b13,_0x1f5134){return![];},_0x163993['broker'][_0x1e51bc(0x18b)]({'cmd':_0x1e51bc(0x18b),'topic':_0x260925['lZYJd'],'payload':_0x260925[_0x1e51bc(0x15d)]},function(){const _0x1e1ae4=_0x1e51bc;_0x5c052d[_0x1e1ae4(0x112)](_0x1e1ae4(0xe5));}),_0x2b4b06[_0x1e51bc(0x1cb)][_0x1e51bc(0x106)]()):_0x436689[_0x1e51bc(0x112)](_0x260925[_0x1e51bc(0x150)]);}),_0x1dfcc5[_0x2e3f02(0x160)](),_0x1dfcc5[_0x2e3f02(0x1cb)]['on'](_0x208f04[_0x2e3f02(0x12a)],()=>{const _0x46be11=_0x2e3f02;_0x436689['fail'](_0x46be11(0x13e));}),_0x1dfcc5[_0x2e3f02(0x160)]();});});