function _0x1d07(_0x5c28c1,_0xf17be3){const _0x37c00d=_0x37c0();return _0x1d07=function(_0x1d076d,_0x55449d){_0x1d076d=_0x1d076d-0xd8;let _0x412f14=_0x37c00d[_0x1d076d];return _0x412f14;},_0x1d07(_0x5c28c1,_0xf17be3);}const _0x156b5a=_0x1d07;(function(_0x4ea011,_0x1c1663){const _0x14896f=_0x1d07,_0x3366ae=_0x4ea011();while(!![]){try{const _0x312d05=-parseInt(_0x14896f(0x10f))/0x1*(parseInt(_0x14896f(0x100))/0x2)+-parseInt(_0x14896f(0xf6))/0x3+parseInt(_0x14896f(0xe2))/0x4*(parseInt(_0x14896f(0x108))/0x5)+parseInt(_0x14896f(0xda))/0x6*(-parseInt(_0x14896f(0xd8))/0x7)+-parseInt(_0x14896f(0xfa))/0x8*(-parseInt(_0x14896f(0xf8))/0x9)+parseInt(_0x14896f(0xff))/0xa*(parseInt(_0x14896f(0xeb))/0xb)+-parseInt(_0x14896f(0x102))/0xc;if(_0x312d05===_0x1c1663)break;else _0x3366ae['push'](_0x3366ae['shift']());}catch(_0x50f966){_0x3366ae['push'](_0x3366ae['shift']());}}}(_0x37c0,0xba906));const _=require('lodash'),nodePath=require(_0x156b5a(0xf5)),uuid=require('uuid'),Promise=require('bluebird'),{createReadStream,createWriteStream,constants}=require('fs'),fsAsync=require(_0x156b5a(0x10e)),errors=require(_0x156b5a(0xd9)),UNIX_SEP_REGEX=/\//g,WIN_SEP_REGEX=/\\/g;function _0x37c0(){const _0x313027=['sep','then','7PZgoEa','./errors','4075356jViZkq','mkdir','root','get','tap','eLxmF','catch','_root','885348ckJUzU','lROJo','name','currentDirectory','_resolvePath','once','getUniqueName','map','GnVoa','3127927XHUhJr','error','normalize','chmod','chdir','stat','set','list','join','cwd','path','1225749vtSbpK','rmdir','107199wGqvYp','rename','536fvnRCt','read','close','resolve','readdir','20UowWvQ','2BhjiEI','dmFFE','1486452NPfQif','end','isDirectory','FileSystemError','unlink','isAbsolute','15jevsrS','exports','HeewS','xYAsh','replace','Not\x20a\x20valid\x20directory','./helpers/fs-async','54916YDgrpS','access','OYWHC','delete'];_0x37c0=function(){return _0x313027;};return _0x37c0();}class FileSystem{constructor(_0x43f9d9,{root:_0x5d9267,cwd:_0x1b6ea7}={}){const _0x17b122=_0x156b5a,_0x527194={'dmFFE':function(_0x132643,_0x3a09f1){return _0x132643||_0x3a09f1;}};this['connection']=_0x43f9d9,this[_0x17b122(0xf4)]=nodePath[_0x17b122(0xed)](_0x527194[_0x17b122(0x101)](_0x1b6ea7,'/')[_0x17b122(0x10c)](WIN_SEP_REGEX,'/')),this[_0x17b122(0xe1)]=nodePath[_0x17b122(0xfd)](_0x5d9267||process[_0x17b122(0xf4)]());}get[_0x156b5a(0xdc)](){return this['_root'];}[_0x156b5a(0xe6)](_0x19433b='.'){const _0x5fe093=_0x156b5a,_0x29ed74=_0x19433b[_0x5fe093(0x10c)](WIN_SEP_REGEX,'/'),_0x4e2b36=nodePath[_0x5fe093(0x107)](_0x29ed74)?nodePath[_0x5fe093(0xed)](_0x29ed74):nodePath[_0x5fe093(0xf3)]('/',this[_0x5fe093(0xf4)],_0x29ed74),_0x21aeaf=nodePath[_0x5fe093(0xfd)](nodePath[_0x5fe093(0xf3)](this[_0x5fe093(0xdc)],_0x4e2b36)[_0x5fe093(0x10c)](UNIX_SEP_REGEX,nodePath[_0x5fe093(0x113)])[_0x5fe093(0x10c)](WIN_SEP_REGEX,nodePath[_0x5fe093(0x113)])),_0xd4e57b=_0x4e2b36['replace'](WIN_SEP_REGEX,'/');return{'clientPath':_0xd4e57b,'fsPath':_0x21aeaf};}[_0x156b5a(0xe5)](){const _0x63ee83=_0x156b5a;return this[_0x63ee83(0xf4)];}[_0x156b5a(0xdd)](_0x4badb4){const _0x228b66=_0x156b5a,{fsPath:_0x2a4751}=this['_resolvePath'](_0x4badb4);return fsAsync[_0x228b66(0xf0)](_0x2a4751)['then'](_0x34cfbf=>_[_0x228b66(0xf1)](_0x34cfbf,'name',_0x4badb4));}[_0x156b5a(0xf2)](_0x1f144a='.'){const _0x127c68=_0x156b5a,_0x43fe3a={'HeewS':_0x127c68(0xec)},{fsPath:_0x10cf84}=this[_0x127c68(0xe6)](_0x1f144a);return fsAsync[_0x127c68(0xfe)](_0x10cf84)[_0x127c68(0x114)](_0xfc833a=>{const _0x1d8cca=_0x127c68,_0x595389={'eLxmF':_0x43fe3a[_0x1d8cca(0x10a)],'VdDWk':_0x1d8cca(0xfc)};return Promise[_0x1d8cca(0xe9)](_0xfc833a,_0x1a9ab5=>{const _0x804ede=_0x1d8cca;if(_0x804ede(0xea)!=='GnVoa'){const {fsPath:_0x4c3006,clientPath:_0x1fdbb0}=this['_resolvePath'](_0x4a4c90),_0x42a722=_0xb5a79(_0x4c3006,{'flags':!_0x670f77?'w+':'a+','start':_0x3dbd6c});return _0x42a722[_0x804ede(0xe7)](_0x595389[_0x804ede(0xdf)],()=>_0x4cc539['unlink'](_0x4c3006)),_0x42a722[_0x804ede(0xe7)](_0x595389['VdDWk'],()=>_0x42a722[_0x804ede(0x103)]()),{'stream':_0x42a722,'clientPath':_0x1fdbb0};}else{const _0x4c98ed=nodePath[_0x804ede(0xf3)](_0x10cf84,_0x1a9ab5);return fsAsync[_0x804ede(0x110)](_0x4c98ed,constants['F_OK'])[_0x804ede(0x114)](()=>{const _0x266474=_0x804ede;return fsAsync['stat'](_0x4c98ed)[_0x266474(0x114)](_0x1d2936=>_[_0x266474(0xf1)](_0x1d2936,_0x266474(0xe4),_0x1a9ab5));})[_0x804ede(0xe0)](()=>null);}});})[_0x127c68(0x114)](_['compact']);}[_0x156b5a(0xef)](_0x1b7b2c='.'){const _0x10eb40=_0x156b5a,_0x2ca46d={'lROJo':_0x10eb40(0x10d)},{fsPath:_0xa5b567,clientPath:_0xf2580e}=this['_resolvePath'](_0x1b7b2c);return fsAsync[_0x10eb40(0xf0)](_0xa5b567)[_0x10eb40(0xde)](_0x212456=>{const _0x26360b=_0x10eb40;if(!_0x212456[_0x26360b(0x104)]())throw new errors['FileSystemError'](_0x2ca46d[_0x26360b(0xe3)]);})[_0x10eb40(0x114)](()=>{const _0x56cf8b=_0x10eb40;return this[_0x56cf8b(0xf4)]=_0xf2580e,this['currentDirectory']();});}['write'](_0x2c5072,{append:append=![],start:start=undefined}={}){const _0x52c11e=_0x156b5a,_0x60165f={'yCXIn':function(_0x53626a,_0x4d58e7,_0x1677e6){return _0x53626a(_0x4d58e7,_0x1677e6);},'OYWHC':_0x52c11e(0xec)},{fsPath:_0x1d26bd,clientPath:_0x18d820}=this[_0x52c11e(0xe6)](_0x2c5072),_0x11a4b4=_0x60165f['yCXIn'](createWriteStream,_0x1d26bd,{'flags':!append?'w+':'a+','start':start});return _0x11a4b4[_0x52c11e(0xe7)](_0x60165f[_0x52c11e(0x111)],()=>fsAsync[_0x52c11e(0x106)](_0x1d26bd)),_0x11a4b4[_0x52c11e(0xe7)]('close',()=>_0x11a4b4[_0x52c11e(0x103)]()),{'stream':_0x11a4b4,'clientPath':_0x18d820};}[_0x156b5a(0xfb)](_0x12ac8e,{start:start=undefined}={}){const _0x41e0f2=_0x156b5a,_0xf9410e={'xYAsh':'Cannot\x20read\x20a\x20directory'},{fsPath:_0x354033,clientPath:_0x15d209}=this[_0x41e0f2(0xe6)](_0x12ac8e);return fsAsync['stat'](_0x354033)['tap'](_0x37a749=>{const _0x417429=_0x41e0f2;if(_0x37a749[_0x417429(0x104)]())throw new errors[(_0x417429(0x105))](_0xf9410e[_0x417429(0x10b)]);})[_0x41e0f2(0x114)](()=>{const _0x1f371a=createReadStream(_0x354033,{'flags':'r','start':start});return{'stream':_0x1f371a,'clientPath':_0x15d209};});}[_0x156b5a(0x112)](_0xa2965e){const _0x3749d0=_0x156b5a,{fsPath:_0x4a0497}=this['_resolvePath'](_0xa2965e);return fsAsync['stat'](_0x4a0497)[_0x3749d0(0x114)](_0x2f4374=>{const _0xd846fd=_0x3749d0;if(_0x2f4374[_0xd846fd(0x104)]())return fsAsync[_0xd846fd(0xf7)](_0x4a0497);else return fsAsync[_0xd846fd(0x106)](_0x4a0497);});}[_0x156b5a(0xdb)](_0x387b5c){const _0x4ecd58=_0x156b5a,{fsPath:_0x269b01}=this[_0x4ecd58(0xe6)](_0x387b5c);return fsAsync[_0x4ecd58(0xdb)](_0x269b01)[_0x4ecd58(0x114)](()=>_0x269b01);}[_0x156b5a(0xf9)](_0x10a55a,_0x734c8c){const _0xd4ab6f=_0x156b5a,{fsPath:_0x4d0bb7}=this[_0xd4ab6f(0xe6)](_0x10a55a),{fsPath:_0x36bdd8}=this[_0xd4ab6f(0xe6)](_0x734c8c);return fsAsync[_0xd4ab6f(0xf9)](_0x4d0bb7,_0x36bdd8);}[_0x156b5a(0xee)](_0x33feb4,_0x19565c){const _0x5830fb=_0x156b5a,{fsPath:_0x5615a6}=this[_0x5830fb(0xe6)](_0x33feb4);return fsAsync[_0x5830fb(0xee)](_0x5615a6,_0x19565c);}[_0x156b5a(0xe8)](){const _0x147a2b=_0x156b5a;return uuid['v4']()[_0x147a2b(0x10c)](/\W/g,'');}}module[_0x156b5a(0x109)]=FileSystem;