'use strict';const _0x3b3745=_0x4a20;(function(_0x5ae150,_0x2b560d){const _0x2ade57=_0x4a20,_0x262616=_0x5ae150();while(!![]){try{const _0x22d645=-parseInt(_0x2ade57(0xf2))/0x1+parseInt(_0x2ade57(0xf5))/0x2+parseInt(_0x2ade57(0xb9))/0x3*(-parseInt(_0x2ade57(0xb7))/0x4)+parseInt(_0x2ade57(0x8d))/0x5+-parseInt(_0x2ade57(0x9e))/0x6*(-parseInt(_0x2ade57(0xf7))/0x7)+parseInt(_0x2ade57(0x9f))/0x8*(parseInt(_0x2ade57(0x90))/0x9)+-parseInt(_0x2ade57(0x88))/0xa*(parseInt(_0x2ade57(0xab))/0xb);if(_0x22d645===_0x2b560d)break;else _0x262616['push'](_0x262616['shift']());}catch(_0x11629a){_0x262616['push'](_0x262616['shift']());}}}(_0x4291,0x4e56f));function _0x4291(){const _0x323ef2=['aVvSG','should\x20create\x20record\x20with\x20all\x20default\x20attributes','ROJok','$in','tBHdS','CsiCK','tZUGy','iKQaL','entity','Powering\x20the\x20Aviation\x20of\x20the\x20Future','image/jpeg','EkUjV','mock','MKhml','fymLl','api::entity.entity','singleType','should\x20create\x20record\x20with\x20default\x20and\x20required\x20attributes','decorate','umVix','collectionType','resolve','test-model','wWUKu','getModel','cUsoi','1\x20relation(s)\x20of\x20type\x20api::relation.relation\x20associated\x20with\x20this\x20entity\x20do\x20not\x20exist','OOKaL','wacrS','sJBVk','2022-09-29T09:01:02.949Z','sZGiB','default\x20value','416468PxGzbQ','vCtYI','HgTtK','183290YvJDcB','toEqual','7RiQvfK','imVvW','JwJpL','uLdZk','should\x20create\x20record\x20with\x20valid\x20relation','AhyQW','QjYGL','enumeration','ZPErz','mDbmP','Test','2022-09-28T15:11:22.995Z','GtrUH','Mptpx','lnctk','LCizY','../../utils/upload-files','update','relation','fFWot','thisisajpeg.jpeg','qxWhC','QNopo','@strapi/utils','ecTUm','HsArQ','forEach','vakwn','RZJqH','tdTuk','filter','SGpch','toHaveBeenCalledWith','zFQeH','fpmNR','NDOCF','toMatchObject','yxxmR','lJNBr','findMany','audios','findOne','fYTee','SWqep','entities','CJuJM','../../entity-validator','findPage','basic','UgJFw','Update','hhXNk','contentType','JDwWQ','demoEvent','Entity\x20service','KHxqQ','GswhB','password','otvGl','GYDTg','mhhDp','oWudw','with\x20files','LbGog','toHaveBeenCalledTimes','toBeCalled','UIRNw','ydumw','errors','VagJE','should\x20throw\x20an\x20error\x20when\x20trying\x20to\x20associate\x20a\x20relation\x20that\x20does\x20not\x20exist','xZRon','secret-password','ootxx','should\x20create\x20record\x20with\x20attached\x20files','XLmnQ','uwBRs','videos','PbFJP','NdULT','oJSTx','22710cZKSAl','sAyrO','LDmQg','nJdJd','Returns\x20first\x20element\x20for\x20single\x20types','3181270kdszcg','mockResolvedValue','CWFfW','2970369HekHwJ','toBeCalledWith','TMyKM','strapi','activity','my\x20value','toBeNull','rAkci','aNmSH','SJKUk','api::relation.relation','eXAAq','Can\x20decorate','integer','942642Xkawpa','8exnLwk','mockImplementation','events','AyoSW','media','nxjtS','EpTZz','vqWYQ','TestEntry','/tmp/upload_4cab76a3a443b584a1fd3aa52e045130','rejects','JANyl','891nllVmb','resolves','krjPk','GmhXM','TestEntity','SscOj','files','Nplaz','ComponentBasicActivity','OUjiY','TQroo','query','1174996nWlVFF','Find','3clBHMs','NIkdi','create','component','basic.activity','lasGn','components_basic_activities','ufcWS','should\x20successfully\x20update\x20an\x20existing\x20relation','fooBar','string','bBUDV','HyecN','TestRelation','Create','toThrowError','EIxPt','QANbs','clearAllMocks','zLYuy','length','boolean','sqlite','nEPtm'];_0x4291=function(){return _0x323ef2;};return _0x4291();}function _0x4a20(_0x1cd33a,_0x35cb1f){const _0x42914a=_0x4291();return _0x4a20=function(_0x4a20a7,_0x1c63cd){_0x4a20a7=_0x4a20a7-0x64;let _0x1b97ab=_0x42914a[_0x4a20a7];return _0x1b97ab;},_0x4a20(_0x1cd33a,_0x35cb1f);}jest[_0x3b3745(0xdd)]('bcryptjs',()=>({'hashSync':()=>_0x3b3745(0x7f)}));const {EventEmitter}=require(_0x3b3745(0xa1)),{ValidationError}=require(_0x3b3745(0x10e))[_0x3b3745(0x7b)],createEntityService=require('..'),entityValidator=require(_0x3b3745(0x64));jest[_0x3b3745(0xdd)](_0x3b3745(0x107),()=>jest['fn'](()=>Promise[_0x3b3745(0xe6)]())),describe(_0x3b3745(0x6d),()=>{const _0x48081d=_0x3b3745,_0x1354d8={'CWFfW':'create','cUsoi':_0x48081d(0x11e),'HVhub':_0x48081d(0x65),'rjSyR':_0x48081d(0x101),'wacrS':function(_0x140327,_0x4820a2){return _0x140327(_0x4820a2);},'mhhDp':function(_0x2f8f83,_0x591dcc){return _0x2f8f83===_0x591dcc;},'LDmQg':_0x48081d(0x8c),'MKhml':'images','ZPErz':_0x48081d(0xb3),'fpmNR':function(_0x151be4,_0x39aa1f){return _0x151be4(_0x39aa1f);},'OUjiY':'my\x20value','EpTZz':_0x48081d(0x114),'otvGl':_0x48081d(0xd2),'PbFJP':function(_0x5db872,_0x2bb5f0,_0x40e7e3){return _0x5db872(_0x2bb5f0,_0x40e7e3);},'JANyl':_0x48081d(0x107),'vBcYS':_0x48081d(0xdb),'RZJqH':'2022-11-03T13:36:51.764Z','UgJFw':_0x48081d(0xbf),'sAyrO':_0x48081d(0xb1),'ecTUm':_0x48081d(0x11f),'MHycJ':_0x48081d(0x81),'uwBRs':function(_0x3a0b3d,_0x20fabe){return _0x3a0b3d(_0x20fabe);},'SGpch':_0x48081d(0x75),'KHxqQ':function(_0xce2d65,_0x415a35){return _0xce2d65*_0x415a35;},'lXLwX':_0x48081d(0xe0),'lasGn':_0x48081d(0xc6),'NDOCF':_0x48081d(0x7d),'oWudw':_0x48081d(0xf3),'xtBaR':function(_0x517c9b,_0xa1abf7,_0x2d74b4){return _0x517c9b(_0xa1abf7,_0x2d74b4);},'xZRon':'assign\x20default\x20values','lJNBr':function(_0x27be3d,_0xe895cf,_0x30ad48){return _0x27be3d(_0xe895cf,_0x30ad48);},'Mptpx':_0x48081d(0x68)};global['strapi']={'getModel':jest['fn'](()=>({})),'config':{'get'(){return[];}},'query':jest['fn'](()=>({}))},describe('Decorator',()=>{const _0x194327=_0x48081d;test['each']([_0x1354d8[_0x194327(0x8f)],_0x194327(0x108),_0x1354d8[_0x194327(0xea)],_0x194327(0x120),'delete','count',_0x1354d8['HVhub']])(_0x194327(0x9c),async _0xd25569=>{const _0x15e729=_0x194327,_0x27dca4=createEntityService({'strapi':{},'db':{},'eventHub':new EventEmitter()}),_0x396704=jest['fn'](),_0x4c7ae6=()=>({[_0xd25569]:_0x396704});_0x27dca4[_0x15e729(0xe3)](_0x4c7ae6);const _0x6c0968=[{},{}];await _0x27dca4[_0xd25569](..._0x6c0968),expect(_0x396704)['toHaveBeenCalled']();});}),describe(_0x48081d(0xb8),()=>{const _0xa7d0a4=_0x48081d;_0x1354d8['mhhDp'](_0xa7d0a4(0xc5),_0xa7d0a4(0x105))?_0x4b081d[_0xa7d0a4(0x93)]['getModel'][_0xa7d0a4(0xa0)](()=>({})):test(_0x1354d8[_0xa7d0a4(0x8a)],async()=>{const _0x1f5eff=_0xa7d0a4,_0x51bacf={'itUpu':_0x1f5eff(0xe1)},_0x273ee2={'id':0x1,'title':_0x1354d8['rjSyR']},_0x590a19={'findOne':jest['fn'](()=>Promise[_0x1f5eff(0xe6)](_0x273ee2))},_0x53aaac={'query':jest['fn'](()=>_0x590a19),'transaction':_0x3d5d59=>_0x3d5d59()},_0x48d2a4={'getModel':jest['fn'](()=>{return{'kind':_0x51bacf['itUpu']};})},_0x5e080f=createEntityService({'strapi':_0x48d2a4,'db':_0x53aaac,'eventHub':new EventEmitter()}),_0x62856f=await _0x5e080f[_0x1f5eff(0x11e)]('test-model');expect(_0x48d2a4[_0x1f5eff(0xe9)])[_0x1f5eff(0x77)](0x1),_0x1354d8['wacrS'](expect,_0x48d2a4[_0x1f5eff(0xe9)])[_0x1f5eff(0x117)]('test-model'),expect(_0x53aaac[_0x1f5eff(0xb6)])[_0x1f5eff(0x117)]('test-model'),expect(_0x590a19[_0x1f5eff(0x120)])[_0x1f5eff(0x117)]({}),expect(_0x62856f)[_0x1f5eff(0xf6)](_0x273ee2);});}),_0x1354d8[_0x48081d(0x11d)](describe,_0x48081d(0xc7),()=>{const _0x36de44=_0x48081d,_0x48b7c1={'bBUDV':_0x36de44(0x6a),'GmhXM':'basic.activity','GtrUH':_0x1354d8[_0x36de44(0xde)],'rAkci':_0x36de44(0x66),'GswhB':_0x1354d8[_0x36de44(0xff)],'oJDeO':function(_0x2d6d22,_0x221324){const _0x310581=_0x36de44;return _0x1354d8[_0x310581(0x119)](_0x2d6d22,_0x221324);},'vqWYQ':_0x36de44(0x102),'qxWhC':_0x36de44(0x9d),'zFQeH':'relation','fFWot':_0x1354d8[_0x36de44(0xb4)],'AhyQW':function(_0x370fa2,_0x2b8804){const _0x4f9bb4=_0x36de44;return _0x1354d8[_0x4f9bb4(0xed)](_0x370fa2,_0x2b8804);},'SkqiN':_0x1354d8[_0x36de44(0xa5)],'eXAAq':function(_0x207958,_0xb1fce8){return _0x207958(_0xb1fce8);},'CsiCK':_0x1354d8[_0x36de44(0x71)],'SscOj':function(_0x425fc1,_0x36507f,_0x6667ba){const _0x524256=_0x36de44;return _0x1354d8[_0x524256(0x85)](_0x425fc1,_0x36507f,_0x6667ba);},'QANbs':'should\x20create\x20record\x20with\x20provided\x20data','UIRNw':_0x1354d8[_0x36de44(0xaa)],'krjPk':'demoEvent','aVvSG':_0x36de44(0xa8),'WXdkJ':_0x1354d8['vBcYS'],'ROJok':_0x1354d8[_0x36de44(0x113)],'auwBi':_0x36de44(0xe7),'NdULT':_0x1354d8[_0x36de44(0x67)],'WBwXg':_0x1354d8[_0x36de44(0x89)],'WYnuy':_0x36de44(0x84),'ydumw':_0x1354d8[_0x36de44(0x10f)],'sZGiB':function(_0x5e2d9b,_0x521580,_0x2c0fa1){return _0x1354d8['PbFJP'](_0x5e2d9b,_0x521580,_0x2c0fa1);},'GYDTg':_0x1354d8['MHycJ']},_0x2582a5={'count':jest['fn'](()=>0x0),'create':jest['fn'](({data:_0x445d47})=>({'id':0x1,..._0x445d47})),'findOne':jest['fn']()},_0x1c4e9b={};beforeAll(()=>{const _0x1107d3=_0x36de44,_0x2a491c={'nEPtm':'test-model','fymLl':_0x1107d3(0xbc),'JDwWQ':_0x48b7c1['bBUDV'],'imVvW':_0x48b7c1[_0x1107d3(0xae)],'ufcWS':_0x48b7c1[_0x1107d3(0x103)],'fYTee':_0x1107d3(0xb1),'TGfLm':'videos','hhXNk':_0x1107d3(0xa3),'sJBVk':_0x1107d3(0xc3),'TMyKM':_0x48b7c1[_0x1107d3(0x97)],'EIxPt':_0x48b7c1[_0x1107d3(0x6f)],'vRZdj':function(_0x429e60,_0x1f50ed){return _0x48b7c1['oJDeO'](_0x429e60,_0x1f50ed);}};if(_0x1107d3(0x99)===_0x1107d3(0x10d)){_0x45ee6e[_0x2a491c[_0x1107d3(0xd0)]]={'uid':'test-model','kind':_0x1107d3(0xe5),'collectionName':_0x2a491c[_0x1107d3(0xd0)],'options':{},'attributes':{'name':{'type':'string'},'activity':{'displayName':'activity','type':_0x2a491c[_0x1107d3(0xdf)],'repeatable':!![],'component':_0x1107d3(0xbd)}},'modelType':_0x2a491c[_0x1107d3(0x6b)],'modelName':_0x1107d3(0xe7)},_0x52c674[_0x2a491c['imVvW']]={'collectionName':_0x1107d3(0xbf),'info':{'displayName':_0x1107d3(0x94)},'options':{},'attributes':{'docs':{'allowedTypes':[_0x2a491c[_0x1107d3(0xc0)],_0x2a491c[_0x1107d3(0x121)],_0x2a491c['TGfLm'],'audios'],'type':_0x2a491c[_0x1107d3(0x69)],'multiple':!![]},'name':{'type':_0x2a491c[_0x1107d3(0xee)]}},'uid':_0x2a491c[_0x1107d3(0xf8)],'category':_0x2a491c[_0x1107d3(0x92)],'modelType':_0x2a491c[_0x1107d3(0xdf)],'modelName':'activity','globalId':_0x2a491c[_0x1107d3(0xc9)]};const _0x152314={'query':_0xb982c1['fn'](()=>_0x3b03d9)},_0x3b77d4={'getModel':_0x15ced5['fn'](_0x2cd6fa=>_0x5ea25d[_0x2cd6fa]),'query':_0x7cd539['fn'](()=>_0x328e4e),'db':{'dialect':{'client':_0x1107d3(0xcf)}}};_0x9ab169['strapi']=_0x3b77d4,_0x2b9e0b=_0x2a491c['vRZdj'](_0xe20afd,{'strapi':_0x3b77d4,'db':_0x152314,'eventHub':new _0x5c0f1d(),'entityValidator':_0x484338});}else global[_0x1107d3(0x93)][_0x1107d3(0xe9)][_0x1107d3(0xa0)](_0x12998a=>_0x1c4e9b[_0x12998a]),global[_0x1107d3(0x93)][_0x1107d3(0xb6)]['mockImplementation'](()=>_0x2582a5);}),beforeEach(()=>{const _0x5a4099=_0x36de44;jest[_0x5a4099(0xcb)]();}),_0x1354d8[_0x36de44(0x83)](afterAll,()=>{const _0x585d6e=_0x36de44;global['strapi'][_0x585d6e(0xe9)][_0x585d6e(0xa0)](()=>({}));}),describe('assign\x20default\x20values',()=>{const _0x1fee56=_0x36de44,_0x519926={'ootxx':_0x48b7c1[_0x1fee56(0xa6)],'QjYGL':'TestRelation2','EkUjV':'string','Nplaz':_0x1fee56(0xce),'yPiiE':_0x48b7c1[_0x1fee56(0x10c)],'JwJpL':_0x48b7c1[_0x1fee56(0x118)],'wWUKu':'oneToMany','gMtkw':_0x1fee56(0xd9),'LbGog':_0x48b7c1[_0x1fee56(0xc4)],'OOKaL':_0x48b7c1[_0x1fee56(0x10a)],'XLmnQ':function(_0x440555,_0x10d5ed){const _0x4259c2=_0x1fee56;return _0x48b7c1[_0x4259c2(0xfc)](_0x440555,_0x10d5ed);},'lXYGk':_0x48b7c1['SkqiN'],'LCizY':_0x1fee56(0xc2)};let _0x543d18;const _0x51d269=_0x1fee56(0xe0),_0x3e66a8=_0x1fee56(0x9a);_0x48b7c1[_0x1fee56(0x9b)](beforeAll,()=>{const _0x15bf7f=_0x1fee56,_0x2adfe6={[_0x3e66a8]:{0x1:{'id':0x1,'Name':_0x15bf7f(0xc6),'createdAt':_0x519926[_0x15bf7f(0x80)],'updatedAt':_0x15bf7f(0xef),'publishedAt':null},0x2:{'id':0x2,'Name':_0x519926[_0x15bf7f(0xfd)],'createdAt':_0x15bf7f(0x102),'updatedAt':_0x15bf7f(0xef),'publishedAt':null}}};_0x1c4e9b[_0x51d269]={'uid':_0x51d269,'kind':_0x15bf7f(0x6a),'modelName':_0x15bf7f(0xe7),'options':{},'attributes':{'attrStringDefaultRequired':{'type':_0x519926[_0x15bf7f(0xdc)],'default':'default\x20value','required':!![]},'attrStringDefault':{'type':_0x15bf7f(0xc3),'default':_0x15bf7f(0xf1)},'attrBoolDefaultRequired':{'type':_0x15bf7f(0xce),'default':!![],'required':!![]},'attrBoolDefault':{'type':_0x519926[_0x15bf7f(0xb2)],'default':!![]},'attrIntDefaultRequired':{'type':'integer','default':0x1,'required':!![]},'attrIntDefault':{'type':_0x519926['yPiiE'],'default':0x1},'attrEnumDefaultRequired':{'type':_0x15bf7f(0xfe),'enum':['a','b','c'],'default':'a','required':!![]},'attrEnumDefault':{'type':_0x15bf7f(0xfe),'enum':['a','b','c'],'default':'b'},'attrPassword':{'type':_0x15bf7f(0x70)},'attrRelation':{'type':_0x519926[_0x15bf7f(0xf9)],'relation':_0x519926[_0x15bf7f(0xe8)],'target':_0x3e66a8,'mappedBy':_0x519926['gMtkw']}}},_0x1c4e9b[_0x3e66a8]={'uid':_0x3e66a8,'kind':_0x519926[_0x15bf7f(0x76)],'modelName':_0x15bf7f(0x109),'attributes':{'Name':{'type':_0x519926[_0x15bf7f(0xdc)],'default':_0x15bf7f(0xf1),'required':!![]}}};const _0x70fb8b=_0x2e1c4b=>({'create':jest['fn'](({data:_0x5ec7cf})=>_0x5ec7cf),'count':jest['fn'](({where:_0x226612})=>{const _0x4120c4=_0x15bf7f;return _0x226612['id'][_0x4120c4(0xd4)][_0x4120c4(0x115)](_0x26c05d=>Boolean(_0x2adfe6[_0x2e1c4b][_0x26c05d]))[_0x4120c4(0xcd)];})}),_0x4cd6a4={'transaction':_0x449b06=>_0x449b06(),'query':jest['fn'](_0x49d1a6=>_0x70fb8b(_0x49d1a6))};global[_0x15bf7f(0x93)]['db']=_0x4cd6a4,_0x543d18=createEntityService({'strapi':global['strapi'],'db':_0x4cd6a4,'eventHub':new EventEmitter(),'entityValidator':entityValidator});}),afterAll(()=>{const _0x4fe9f5=_0x1fee56;global[_0x4fe9f5(0x93)]['db']={'query':jest['fn'](()=>_0x2582a5)};}),test(_0x48b7c1[_0x1fee56(0xd6)],async()=>{const _0x35c955=_0x1fee56,_0x372a46={};await expect(_0x543d18['create'](_0x51d269,{'data':_0x372a46}))[_0x35c955(0xac)][_0x35c955(0x11b)]({'attrStringDefaultRequired':_0x35c955(0xf1),'attrStringDefault':_0x35c955(0xf1),'attrBoolDefaultRequired':!![],'attrBoolDefault':!![],'attrIntDefaultRequired':0x1,'attrIntDefault':0x1,'attrEnumDefaultRequired':'a','attrEnumDefault':'b'});}),_0x48b7c1[_0x1fee56(0xb0)](test,_0x1fee56(0xe2),async()=>{const _0x3b0437=_0x1fee56,_0x42224f={'attrStringDefault':_0x3b0437(0x95),'attrBoolDefault':![],'attrIntDefault':0x2,'attrEnumDefault':'c'};await expect(_0x543d18[_0x3b0437(0xbb)](_0x51d269,{'data':_0x42224f}))['resolves'][_0x3b0437(0x11b)]({'attrStringDefault':_0x3b0437(0x95),'attrBoolDefault':![],'attrIntDefault':0x2,'attrEnumDefault':'c','attrStringDefaultRequired':'default\x20value','attrBoolDefaultRequired':!![],'attrIntDefaultRequired':0x1,'attrEnumDefaultRequired':'a'});}),test(_0x48b7c1[_0x1fee56(0xca)],async()=>{const _0x48abdf=_0x1fee56,_0x4f1be8={'attrStringDefaultRequired':_0x519926[_0x48abdf(0xec)],'attrStringDefault':_0x519926[_0x48abdf(0xec)],'attrBoolDefaultRequired':!![],'attrBoolDefault':!![],'attrIntDefaultRequired':0xa,'attrIntDefault':0xa,'attrEnumDefaultRequired':'c','attrEnumDefault':'a','attrPassword':_0x48abdf(0xc2)};await expect(_0x543d18[_0x48abdf(0xbb)](_0x51d269,{'data':_0x4f1be8}))['resolves'][_0x48abdf(0x11b)]({..._0x4f1be8,'attrPassword':_0x48abdf(0x7f)});}),test(_0x1fee56(0xfb),async()=>{const _0x43c2ad=_0x1fee56,_0x4c97ec={'attrStringDefaultRequired':_0x43c2ad(0x95),'attrStringDefault':_0x43c2ad(0x95),'attrBoolDefaultRequired':!![],'attrBoolDefault':!![],'attrIntDefaultRequired':0xa,'attrIntDefault':0xa,'attrEnumDefaultRequired':'c','attrEnumDefault':'a','attrPassword':_0x43c2ad(0xc2),'attrRelation':{'connect':[{'id':0x1}]}},_0x483298=_0x543d18[_0x43c2ad(0xbb)](_0x51d269,{'data':_0x4c97ec});await _0x519926[_0x43c2ad(0x82)](expect,_0x483298)[_0x43c2ad(0xac)]['toMatchObject']({..._0x4c97ec,'attrPassword':_0x43c2ad(0x7f)});}),test('should\x20fail\x20to\x20create\x20a\x20record\x20with\x20an\x20invalid\x20relation',async()=>{const _0x14cbe2=_0x1fee56;if(_0x519926['lXYGk']==='IvnAE'){const _0x2d16b7=_0x112ae7=>({'findOne':_0x34d209['fn'](({where:_0x4d22e3})=>_0x5591aa[_0x112ae7][_0x4d22e3['id']]),'count':_0x36138d['fn'](({where:_0x383b41})=>{const _0x5d1536=_0x4a20;let _0x33e4e=0x0;return _0x383b41['id'][_0x5d1536(0xd4)][_0x5d1536(0x111)](_0x4975d8=>{const _0x4cdd07=_0xf06cd9[_0x112ae7][_0x4975d8];if(!_0x4cdd07)return;_0x33e4e+=0x1;}),_0x33e4e;}),'update':_0xa5de82['fn'](({where:_0x190ba7})=>({..._0x18b8b1[_0x112ae7][_0x190ba7['id']],'addresses':{'count':0x1}}))}),_0xf9be24={'query':_0x491699['fn'](_0x3ed3ed=>_0x2d16b7(_0x3ed3ed))};_0x1495c2['strapi']={'getModel':_0x20316b['fn'](_0x1619bf=>{return _0xd4cdcd[_0x1619bf];}),'db':_0xf9be24},_0xae91e=_0x519926[_0x14cbe2(0x82)](_0x39a0f6,{'strapi':_0x1601f3[_0x14cbe2(0x93)],'db':_0xf9be24,'eventHub':new _0x4291b3(),'entityValidator':_0x427879});}else{const _0x384545={'attrStringDefaultRequired':_0x14cbe2(0x95),'attrStringDefault':_0x519926[_0x14cbe2(0xec)],'attrBoolDefaultRequired':!![],'attrBoolDefault':!![],'attrIntDefaultRequired':0xa,'attrIntDefault':0xa,'attrEnumDefaultRequired':'c','attrEnumDefault':'a','attrPassword':_0x519926[_0x14cbe2(0x106)],'attrRelation':{'connect':[{'id':0x3}]}},_0x28fc8e=_0x543d18[_0x14cbe2(0xbb)](_0x51d269,{'data':_0x384545});await expect(_0x28fc8e)['rejects']['toThrowError'](new ValidationError(_0x14cbe2(0xeb)));}});}),describe(_0x1354d8[_0x36de44(0x116)],()=>{const _0x4f75f6=_0x36de44,_0x9a4559={'nJdJd':'test-model','AyoSW':'component','uLdZk':'basic.activity','AUFja':_0x48b7c1[_0x4f75f6(0x86)],'TQroo':_0x4f75f6(0x94),'HloUx':_0x48b7c1['WBwXg'],'mDbmP':_0x48b7c1['WYnuy'],'iKQaL':_0x48b7c1[_0x4f75f6(0x7a)],'aNmSH':_0x4f75f6(0xc3),'HgTtK':function(_0x237f00,_0x2e3f6f){const _0x37b6f3=_0x4f75f6;return _0x48b7c1[_0x37b6f3(0xfc)](_0x237f00,_0x2e3f6f);}};let _0x5ecc9a;_0x48b7c1['eXAAq'](beforeAll,()=>{const _0x56e668=_0x4f75f6;_0x1c4e9b[_0x56e668(0xe7)]={'uid':_0x9a4559[_0x56e668(0x8b)],'kind':_0x56e668(0xe5),'collectionName':_0x56e668(0xe7),'options':{},'attributes':{'name':{'type':'string'},'activity':{'displayName':'activity','type':_0x9a4559[_0x56e668(0xa2)],'repeatable':!![],'component':_0x9a4559[_0x56e668(0xfa)]}},'modelType':'contentType','modelName':_0x9a4559[_0x56e668(0x8b)]},_0x1c4e9b[_0x56e668(0xbd)]={'collectionName':_0x9a4559['AUFja'],'info':{'displayName':_0x9a4559[_0x56e668(0xb5)]},'options':{},'attributes':{'docs':{'allowedTypes':['images',_0x9a4559['HloUx'],_0x9a4559[_0x56e668(0x100)],_0x9a4559[_0x56e668(0xd8)]],'type':_0x56e668(0xa3),'multiple':!![]},'name':{'type':_0x9a4559[_0x56e668(0x98)]}},'uid':_0x9a4559[_0x56e668(0xfa)],'category':_0x56e668(0x66),'modelType':_0x56e668(0xbc),'modelName':_0x9a4559[_0x56e668(0xb5)],'globalId':_0x56e668(0xb3)};const _0x51b6e7={'query':jest['fn'](()=>_0x2582a5)},_0x4a0e9f={'getModel':jest['fn'](_0x3ad707=>_0x1c4e9b[_0x3ad707]),'query':jest['fn'](()=>_0x2582a5),'db':{'dialect':{'client':_0x56e668(0xcf)}}};global[_0x56e668(0x93)]=_0x4a0e9f,_0x5ecc9a=_0x9a4559[_0x56e668(0xf4)](createEntityService,{'strapi':_0x4a0e9f,'db':_0x51b6e7,'eventHub':new EventEmitter(),'entityValidator':entityValidator});}),_0x48b7c1[_0x4f75f6(0xf0)](test,_0x48b7c1[_0x4f75f6(0x72)],async()=>{const _0x38c97b=_0x4f75f6,_0x335c2d=require(_0x48b7c1[_0x38c97b(0x79)]),_0x5172fc={'name':_0x48b7c1[_0x38c97b(0xad)],'activity':[{'name':_0x38c97b(0xda)}]},_0x4a56e5={'activity.0.docs':{'size':0x5d3e4,'path':_0x48b7c1[_0x38c97b(0xd1)],'name':_0x38c97b(0x10b),'type':_0x48b7c1['WXdkJ'],'mtime':_0x48b7c1[_0x38c97b(0xd3)]}};_0x2582a5[_0x38c97b(0x120)][_0x38c97b(0x8e)]({'id':0x1,..._0x5172fc}),await _0x5ecc9a[_0x38c97b(0xbb)](_0x38c97b(0xe7),{'data':_0x5172fc,'files':_0x4a56e5}),expect(global[_0x38c97b(0x93)][_0x38c97b(0xe9)])[_0x38c97b(0x78)](),expect(_0x335c2d)['toBeCalled'](),_0x48b7c1['AhyQW'](expect,_0x335c2d)['toBeCalledTimes'](0x1),_0x48b7c1[_0x38c97b(0xfc)](expect,_0x335c2d)[_0x38c97b(0x91)](_0x48b7c1['auwBi'],{'id':0x1,'name':_0x38c97b(0x6c),'activity':[{'id':0x1,'__pivot':{'field':_0x38c97b(0x94),'component_type':_0x48b7c1[_0x38c97b(0xae)]}}]},_0x4a56e5);});});}),describe(_0x1354d8[_0x48081d(0x104)],()=>{const _0x1ae7c1=_0x48081d,_0x38756b={'qjqBG':function(_0x1523fc,_0x2c5157){const _0x5930a5=_0x4a20;return _0x1354d8[_0x5930a5(0x6e)](_0x1523fc,_0x2c5157);},'svlzU':_0x1354d8['lXLwX'],'tZUGy':_0x1ae7c1(0x9a),'VagJE':_0x1354d8[_0x1ae7c1(0xbe)],'SWqep':'2022-09-28T15:11:22.995Z','HsArQ':_0x1ae7c1(0xd9),'zLYuy':_0x1ae7c1(0x123),'yxxmR':'oneToMany','oJSTx':'contentType','umVix':_0x1ae7c1(0x109),'CJuJM':_0x1ae7c1(0xf1),'NIkdi':_0x1354d8[_0x1ae7c1(0x11a)]};if(_0x1354d8[_0x1ae7c1(0x73)]('vCtYI',_0x1354d8[_0x1ae7c1(0x74)]))_0x1354d8['xtBaR'](describe,_0x1354d8[_0x1ae7c1(0x7e)],()=>{const _0x302cc2=_0x1ae7c1,_0x56d49e={'tBHdS':function(_0x2dfbb2,_0x307d54){return _0x38756b['qjqBG'](_0x2dfbb2,_0x307d54);},'vakwn':_0x302cc2(0xa7),'nxjtS':function(_0x35cb8d,_0x387d7b){return _0x35cb8d(_0x387d7b);}};let _0x9abc8b;const _0x99379d=_0x38756b['svlzU'],_0x222849=_0x38756b[_0x302cc2(0xd7)],_0x22aab9={[_0x99379d]:{0x0:{'id':0x0,'Name':_0x302cc2(0xaf),'createdAt':_0x302cc2(0x102),'updatedAt':_0x302cc2(0xef),'publishedAt':null}},[_0x222849]:{0x1:{'id':0x1,'Name':_0x38756b[_0x302cc2(0x7c)],'createdAt':'2022-09-28T15:11:22.995Z','updatedAt':_0x302cc2(0xef),'publishedAt':null},0x2:{'id':0x2,'Name':'TestRelation2','createdAt':_0x38756b[_0x302cc2(0x122)],'updatedAt':_0x302cc2(0xef),'publishedAt':null}}},_0x3f5b18={[_0x99379d]:{'kind':'collectionType','modelName':_0x38756b['HsArQ'],'collectionName':_0x302cc2(0xd9),'uid':_0x99379d,'options':{},'info':{'singularName':_0x38756b[_0x302cc2(0x110)],'pluralName':_0x38756b[_0x302cc2(0xcc)],'displayName':'ENTITY'},'attributes':{'Name':{'type':_0x302cc2(0xc3)},'addresses':{'type':_0x302cc2(0x109),'relation':_0x38756b[_0x302cc2(0x11c)],'target':_0x222849,'mappedBy':_0x38756b['HsArQ']}}},[_0x222849]:{'kind':_0x38756b[_0x302cc2(0x87)],'modelName':_0x38756b[_0x302cc2(0xe4)],'attributes':{'Name':{'type':'string','default':_0x38756b[_0x302cc2(0x124)],'required':!![]}}}};beforeAll(()=>{const _0x16cadd=_0x302cc2,_0x4ddcb9=_0x32ccb1=>({'findOne':jest['fn'](({where:_0x174ecd})=>_0x22aab9[_0x32ccb1][_0x174ecd['id']]),'count':jest['fn'](({where:_0x43903f})=>{const _0x1bcdcf=_0x4a20;let _0x34b09c=0x0;return _0x43903f['id']['$in'][_0x1bcdcf(0x111)](_0x1c1905=>{const _0x26cfce=_0x22aab9[_0x32ccb1][_0x1c1905];if(!_0x26cfce)return;_0x34b09c+=0x1;}),_0x34b09c;}),'update':jest['fn'](({where:_0x383535})=>({..._0x22aab9[_0x32ccb1][_0x383535['id']],'addresses':{'count':0x1}}))}),_0x2ab6ce={'query':jest['fn'](_0x2c33ef=>_0x4ddcb9(_0x2c33ef))};global[_0x16cadd(0x93)]={'getModel':jest['fn'](_0x420888=>{return _0x3f5b18[_0x420888];}),'db':_0x2ab6ce},_0x9abc8b=createEntityService({'strapi':global[_0x16cadd(0x93)],'db':_0x2ab6ce,'eventHub':new EventEmitter(),'entityValidator':entityValidator});}),test('should\x20fail\x20if\x20the\x20entity\x20doesn\x27t\x20exist',async()=>{const _0x1c4174=_0x302cc2;expect(await _0x9abc8b[_0x1c4174(0x108)](_0x99379d,_0x56d49e[_0x1c4174(0xd5)](Math['random'](),0x2710-0x64)+0x64,{}))[_0x1c4174(0x96)]();}),test(_0x302cc2(0xc1),async()=>{const _0x51308b=_0x302cc2,_0x1f3ca6={'Name':_0x51308b(0xa7),'addresses':{'connect':[{'id':0x1}]}};expect(await _0x9abc8b[_0x51308b(0x108)](_0x99379d,0x0,{'data':_0x1f3ca6}))[_0x51308b(0x11b)]({..._0x22aab9[_0x99379d][0x0],'addresses':{'count':0x1}});}),test(_0x38756b[_0x302cc2(0xba)],async()=>{const _0x252e89=_0x302cc2,_0x232eb6={'Name':_0x56d49e[_0x252e89(0x112)],'addresses':{'connect':[{'id':0x3}]}},_0x211ed5=_0x9abc8b[_0x252e89(0x108)](_0x99379d,0x0,{'data':_0x232eb6});await _0x56d49e[_0x252e89(0xa4)](expect,_0x211ed5)[_0x252e89(0xa9)][_0x252e89(0xc8)](new ValidationError('1\x20relation(s)\x20of\x20type\x20api::relation.relation\x20associated\x20with\x20this\x20entity\x20do\x20not\x20exist'));});});else return[];});});