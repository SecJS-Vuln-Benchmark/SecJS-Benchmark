'use strict';const _0x331c3d=_0x277c;function _0x53e6(){const _0x1a0ddf=['QtjrV','name','7948460MGHqFR','Auth.form.error.password.local','Email\x20is\x20already\x20taken.','MDuhx','email','KZhkO','skDXJ','Auth.form.error.params.provide','findOne','bxsXz','Auth.form.error.username.taken','veAiE','Auth.form.error.password.provide','params','pick','lodash','Username\x20already\x20taken','jRnFk','get','field','plugins','hashPassword','request','badRequest','response_email','QQnPw','FxqFQ','randomBytes','Auth.advanced.allow_register','xHpst','43140VOYVjT','NLSYW','exports','OVstH','template','vAUIM','EXpog','402383PyNFza','confirmation','GaiCI','oNDSN','Auth.form.error.email.provide','url','isHashed','userspermissions','KsOxH','tdyWo','8BjXSRP','issue','callback','jFyss','136089ThmsoP','elFjK','toLowerCase','24qncaUq','NGhEX','TWBYb','pomRn','Auth.form.error.role.notFound','gBNVn','yofrK','Email\x20already\x20taken','JiObl','OaLzl','grant','grant-koa','Auth.form.error.user.not-exist','WSkYW','nTYOg','reset_password','QXqoo','Hmnwf','bJmab','ujnAT','NRnKV','config','QGsnt','services','This\x20user\x20never\x20set\x20a\x20local\x20password,\x20please\x20login\x20thanks\x20to\x20the\x20provider\x20used\x20during\x20account\x20creation.','jIfdf','CrwgX','\x22\x20<','object','advanced','plugin','CybYQ','validatePassword','wpQvs','80TvHKnA','defaultsDeep','BHTcR','3601081gSVsxv','BPkaa','qTjmG','oUrYX','identifier','Auth.form.error.email.format','JFIAc','Incorrect\x20code\x20provided.','Your\x20password\x20cannot\x20contain\x20more\x20than\x20three\x20times\x20the\x20symbol\x20`$`.','send','verify','LedSo','Lqdnu','Nmuov','7AMDvYn','user','This\x20provider\x20is\x20disabled.','code','default_role','wyCqX','rftHT','store','NZHuP','RmokI','sPwdI','email_confirmation_redirection','OWGVB','BTgUS','Please\x20provide\x20valid\x20email\x20address.','then','model','update','eBDSs','username','://','win32','body','Please\x20provide\x20your\x20password.','toJSON','split','9103374rKARkJ','RXRxL','OXqsG','Auth.form.error.code.provide','strapi-utils','LGAiz','options','/auth/email-confirmation','eyOqj','Passwords\x20do\x20not\x20match.','iWsse','enabled','ZTSZu','resetPasswordToken','test','confirmed','kKBsn','ZuqMJ','Impossible\x20to\x20find\x20the\x20default\x20role.','role','UXGyx','aoVzA','VOzSE','hex','ppjTb','users-permissions','provider','ZxpSd','nvPgH','connect','CgXKB','Identifier\x20or\x20password\x20invalid.','redirect','xvIbU','includes','password','SmLcg','query','Auth.form.error.blocked','ajISS','platform','omit','ChATh','TejpA','GUlbj','tNXeB','zVVZN','toString','lqdHw','from','message','MHEyv','TmhNO','fcbGW','tETeX','Auth.form.error.invalid','email_confirmation','LuUfQ','jlEOF','oPUJb','local','Please\x20provide\x20your\x20username\x20or\x20your\x20e-mail.','Auth.form.error.confirmed','Your\x20account\x20has\x20been\x20blocked\x20by\x20an\x20administrator','passwordConfirmation','create','pOklM','Auth.form.error.password.format','tcUhO','jwt','assign','VxWzZ','sqzLv','vkewT','13403727GHmQsQ','provider.disabled'];_0x53e6=function(){return _0x1a0ddf;};return _0x53e6();}function _0x277c(_0x49706d,_0x82a71){const _0x53e64e=_0x53e6();return _0x277c=function(_0x277c2c,_0x2b5303){_0x277c2c=_0x277c2c-0x172;let _0x54ad22=_0x53e64e[_0x277c2c];return _0x54ad22;},_0x277c(_0x49706d,_0x82a71);}(function(_0x52cb93,_0x221f8c){const _0x5d6a57=_0x277c,_0x39106b=_0x52cb93();while(!![]){try{const _0x5e7ed3=parseInt(_0x5d6a57(0x204))/0x1+-parseInt(_0x5d6a57(0x215))/0x2*(parseInt(_0x5d6a57(0x212))/0x3)+parseInt(_0x5d6a57(0x1fd))/0x4+-parseInt(_0x5d6a57(0x1df))/0x5+parseInt(_0x5d6a57(0x191))/0x6*(parseInt(_0x5d6a57(0x177))/0x7)+-parseInt(_0x5d6a57(0x20e))/0x8*(parseInt(_0x5d6a57(0x1db))/0x9)+-parseInt(_0x5d6a57(0x237))/0xa*(-parseInt(_0x5d6a57(0x23a))/0xb);if(_0x5e7ed3===_0x221f8c)break;else _0x39106b['push'](_0x39106b['shift']());}catch(_0x1db78a){_0x39106b['push'](_0x39106b['shift']());}}}(_0x53e6,0xe213e));const crypto=require('crypto'),_=require(_0x331c3d(0x1ee)),grant=require(_0x331c3d(0x220)),{sanitizeEntity}=require(_0x331c3d(0x195)),emailRegExp=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,formatError=_0x36c969=>[{'messages':[{'id':_0x36c969['id'],'message':_0x36c969[_0x331c3d(0x1c3)],'field':_0x36c969[_0x331c3d(0x1f2)]}]}];module[_0x331c3d(0x1ff)]={async 'callback'(_0x2a2857){const _0x315089=_0x331c3d,_0x4da7e9={'RmokI':function(_0x7ec3de,_0x3e56a9){return _0x7ec3de(_0x3e56a9);},'QQnPw':_0x315089(0x1d0),'UXGyx':function(_0x5c1c1c,_0x4a4a6b){return _0x5c1c1c(_0x4a4a6b);},'CybYQ':_0x315089(0x1c8),'ZuqMJ':_0x315089(0x1cd),'xvIbU':'plugin','QGsnt':function(_0x5d80ee,_0x1fbf6c){return _0x5d80ee===_0x1fbf6c;},'WSkYW':_0x315089(0x179),'sPwdI':_0x315089(0x208),'lqdHw':_0x315089(0x1ce),'EXpog':_0x315089(0x1eb),'jFyss':_0x315089(0x1aa),'ejyZy':_0x315089(0x174),'aoVzA':_0x315089(0x1b0),'tdyWo':'advanced','KsOxH':function(_0xfb00fc,_0x142f7c){return _0xfb00fc!==_0x142f7c;},'Nmuov':function(_0x4bbcd5,_0x43fe79){return _0x4bbcd5(_0x43fe79);},'gBNVn':_0x315089(0x1b7),'wugtD':'XkkIi','GaiCI':function(_0x22a5ba,_0x300fe4){return _0x22a5ba(_0x300fe4);},'OXqsG':function(_0x100900,_0x42b9a8,_0x5f4468){return _0x100900(_0x42b9a8,_0x5f4468);},'wSKiE':_0x315089(0x21f),'RXRxL':'array','qTjmG':function(_0xcddd5d,_0x146f90){return _0xcddd5d===_0x146f90;},'bxsXz':_0x315089(0x178)},_0x1fd234=_0x2a2857['params'][_0x315089(0x1ab)]||_0x4da7e9[_0x315089(0x1a2)],_0x4b7dc9=_0x2a2857['request'][_0x315089(0x18d)],_0x4bc6e1=await strapi[_0x315089(0x17e)]({'environment':'','type':_0x4da7e9[_0x315089(0x1b2)],'name':_0x315089(0x1aa)});if(_0x4da7e9['QGsnt'](_0x1fd234,_0x315089(0x1cd))){if(!_[_0x315089(0x1f1)](await _0x4bc6e1[_0x315089(0x1f1)]({'key':_0x315089(0x21f)}),'email.enabled'))return _0x2a2857[_0x315089(0x1f6)](null,_0x4da7e9[_0x315089(0x222)]);if(!_0x4b7dc9['identifier'])return _0x2a2857[_0x315089(0x1f6)](null,formatError({'id':_0x4da7e9[_0x315089(0x181)],'message':_0x4da7e9[_0x315089(0x1c1)]}));if(!_0x4b7dc9[_0x315089(0x1b4)])return _0x2a2857[_0x315089(0x1f6)](null,formatError({'id':_0x4da7e9[_0x315089(0x203)],'message':_0x315089(0x18e)}));const _0x550d63={},_0x45b68c=emailRegExp[_0x315089(0x19f)](_0x4b7dc9[_0x315089(0x23e)]);_0x45b68c?_0x550d63[_0x315089(0x1e3)]=_0x4b7dc9[_0x315089(0x23e)][_0x315089(0x214)]():_0x550d63[_0x315089(0x18a)]=_0x4b7dc9[_0x315089(0x23e)];const _0x564fc8=await strapi['query'](_0x315089(0x178),_0x4da7e9[_0x315089(0x211)])[_0x315089(0x1e7)](_0x550d63);if(!_0x564fc8)return _0x315089(0x174)===_0x4da7e9['ejyZy']?_0x2a2857[_0x315089(0x1f6)](null,formatError({'id':_0x315089(0x1c8),'message':_0x4da7e9[_0x315089(0x1a6)]})):_0x26da67[_0x315089(0x1f6)](null,_0x315089(0x179));if(_[_0x315089(0x1f1)](await _0x4bc6e1['get']({'key':_0x4da7e9[_0x315089(0x20d)]}),_0x315089(0x1c9))&&_0x4da7e9[_0x315089(0x20c)](_0x564fc8[_0x315089(0x1a0)],!![]))return _0x2a2857[_0x315089(0x1f6)](null,formatError({'id':_0x315089(0x1cf),'message':'Your\x20account\x20email\x20is\x20not\x20confirmed'}));if(_0x564fc8['blocked']===!![])return _0x2a2857[_0x315089(0x1f6)](null,_0x4da7e9[_0x315089(0x176)](formatError,{'id':_0x4da7e9[_0x315089(0x21a)],'message':_0x315089(0x1d0)}));if(!_0x564fc8['password'])return _0x2a2857[_0x315089(0x1f6)](null,formatError({'id':_0x315089(0x1e0),'message':_0x315089(0x22d)}));const _0x4bad7d=strapi['plugins'][_0x315089(0x1aa)][_0x315089(0x22c)][_0x315089(0x178)][_0x315089(0x235)](_0x4b7dc9[_0x315089(0x1b4)],_0x564fc8[_0x315089(0x1b4)]);if(!_0x4bad7d)return _0x4da7e9['wugtD']===_0x315089(0x200)?_0x42554a[_0x315089(0x1f6)](null,_0x4da7e9[_0x315089(0x180)](_0x548de8,{'id':_0x315089(0x1b7),'message':_0x4da7e9[_0x315089(0x1f8)]})):_0x2a2857[_0x315089(0x1f6)](null,_0x4da7e9[_0x315089(0x206)](formatError,{'id':_0x4da7e9[_0x315089(0x234)],'message':_0x315089(0x1b0)}));else _0x2a2857[_0x315089(0x172)]({'jwt':strapi[_0x315089(0x1f3)][_0x315089(0x1aa)][_0x315089(0x22c)]['jwt'][_0x315089(0x20f)]({'id':_0x564fc8['id']}),'user':_0x4da7e9[_0x315089(0x193)](sanitizeEntity,_0x564fc8[_0x315089(0x18f)]?_0x564fc8[_0x315089(0x18f)]():_0x564fc8,{'model':strapi[_0x315089(0x1b6)](_0x315089(0x178),_0x315089(0x1aa))[_0x315089(0x187)]})});}else{if(!_[_0x315089(0x1f1)](await _0x4bc6e1[_0x315089(0x1f1)]({'key':_0x4da7e9['wSKiE']}),[_0x1fd234,_0x315089(0x19c)]))return _0x2a2857[_0x315089(0x1f6)](null,formatError({'id':_0x315089(0x1dc),'message':_0x4da7e9[_0x315089(0x222)]}));let _0x5dd29c,_0x4ec1ae;try{[_0x5dd29c,_0x4ec1ae]=await strapi['plugins'][_0x315089(0x1aa)][_0x315089(0x22c)]['providers'][_0x315089(0x1ae)](_0x1fd234,_0x2a2857[_0x315089(0x1b6)]);}catch([_0x37ba80,_0x296282]){return _0x2a2857[_0x315089(0x1f6)](null,_0x4da7e9['QGsnt'](_0x296282,_0x4da7e9[_0x315089(0x192)])?_0x296282[0x0]:_0x296282);}if(!_0x5dd29c)return _0x4da7e9[_0x315089(0x23c)]('xtAeM',_0x315089(0x1c7))?_0x190431[_0x315089(0x1f6)](null,_0x4da7e9[_0x315089(0x1a5)](_0x570333,{'id':_0x4da7e9[_0x315089(0x234)],'message':'Identifier\x20or\x20password\x20invalid.'})):_0x2a2857[_0x315089(0x1f6)](null,_0x4da7e9[_0x315089(0x22b)](_0x4ec1ae,_0x4da7e9[_0x315089(0x192)])?_0x4ec1ae[0x0]:_0x4ec1ae);_0x2a2857['send']({'jwt':strapi['plugins'][_0x315089(0x1aa)]['services']['jwt'][_0x315089(0x20f)]({'id':_0x5dd29c['id']}),'user':sanitizeEntity(_0x5dd29c['toJSON']?_0x5dd29c[_0x315089(0x18f)]():_0x5dd29c,{'model':strapi[_0x315089(0x1b6)](_0x4da7e9[_0x315089(0x1e8)],_0x4da7e9['jFyss'])['model']})});}},async 'changePassword'(_0x9f4439){const _0x3fc88c=_0x331c3d,_0x601677={'eyOqj':function(_0x28e6dc,_0x5dbc0e){return _0x28e6dc(_0x5dbc0e);},'CrwgX':function(_0x21f753,_0x43b55c){return _0x21f753===_0x43b55c;},'skDXJ':_0x3fc88c(0x1ca),'NLSYW':_0x3fc88c(0x229),'tcUhO':_0x3fc88c(0x178),'TejpA':_0x3fc88c(0x194),'vkewT':_0x3fc88c(0x241),'QXqoo':_0x3fc88c(0x1aa),'Hlrzl':function(_0x2fa2f0,_0x42e75a,_0x589e0d){return _0x2fa2f0(_0x42e75a,_0x589e0d);},'Lqdnu':'Auth.form.error.password.matching','bJmab':function(_0x230ee5,_0x46e0ac){return _0x230ee5!==_0x46e0ac;},'nvPgH':_0x3fc88c(0x19d),'oNDSN':'Incorrect\x20params\x20provided.'},_0xe99b21=_['assign']({},_0x9f4439[_0x3fc88c(0x1f5)][_0x3fc88c(0x18d)],_0x9f4439[_0x3fc88c(0x1ec)]);if(_0xe99b21[_0x3fc88c(0x1b4)]&&_0xe99b21[_0x3fc88c(0x1d1)]&&_0x601677[_0x3fc88c(0x22f)](_0xe99b21[_0x3fc88c(0x1b4)],_0xe99b21[_0x3fc88c(0x1d1)])&&_0xe99b21[_0x3fc88c(0x17a)]){if(_0x601677[_0x3fc88c(0x1e5)]===_0x601677[_0x3fc88c(0x1fe)])return _0x5df5d3[_0x3fc88c(0x1f6)](null,_0x601677[_0x3fc88c(0x199)](_0x366117,{'id':_0x3fc88c(0x219),'message':_0x3fc88c(0x1a3)}));else{const _0x8c19b1=await strapi['query'](_0x601677[_0x3fc88c(0x1d5)],_0x3fc88c(0x1aa))[_0x3fc88c(0x1e7)]({'resetPasswordToken':''+_0xe99b21[_0x3fc88c(0x17a)]});if(!_0x8c19b1)return _0x9f4439[_0x3fc88c(0x1f6)](null,formatError({'id':_0x601677[_0x3fc88c(0x1bc)],'message':_0x601677[_0x3fc88c(0x1da)]}));_0x8c19b1[_0x3fc88c(0x19e)]=null,_0x8c19b1['password']=await strapi[_0x3fc88c(0x1f3)][_0x601677[_0x3fc88c(0x225)]][_0x3fc88c(0x22c)][_0x3fc88c(0x178)][_0x3fc88c(0x1f4)](_0xe99b21),await strapi[_0x3fc88c(0x1b6)](_0x3fc88c(0x178),_0x3fc88c(0x1aa))[_0x3fc88c(0x188)]({'id':_0x8c19b1['id']},_0x8c19b1),_0x9f4439[_0x3fc88c(0x172)]({'jwt':strapi[_0x3fc88c(0x1f3)][_0x3fc88c(0x1aa)][_0x3fc88c(0x22c)][_0x3fc88c(0x1d6)][_0x3fc88c(0x20f)]({'id':_0x8c19b1['id']}),'user':_0x601677['Hlrzl'](sanitizeEntity,_0x8c19b1['toJSON']?_0x8c19b1['toJSON']():_0x8c19b1,{'model':strapi['query'](_0x3fc88c(0x178),_0x601677[_0x3fc88c(0x225)])[_0x3fc88c(0x187)]})});}}else return _0xe99b21[_0x3fc88c(0x1b4)]&&_0xe99b21[_0x3fc88c(0x1d1)]&&_0xe99b21[_0x3fc88c(0x1b4)]!==_0xe99b21[_0x3fc88c(0x1d1)]?_0x9f4439[_0x3fc88c(0x1f6)](null,_0x601677['eyOqj'](formatError,{'id':_0x601677[_0x3fc88c(0x175)],'message':_0x3fc88c(0x19a)})):_0x601677[_0x3fc88c(0x227)](_0x601677[_0x3fc88c(0x1ad)],'ZTSZu')?_0x42edfa[_0x3fc88c(0x1f6)](null,_0x601677['eyOqj'](_0x93bb16,{'id':'Auth.advanced.allow_register','message':'Register\x20action\x20is\x20currently\x20disabled.'})):_0x9f4439[_0x3fc88c(0x1f6)](null,formatError({'id':_0x3fc88c(0x1e6),'message':_0x601677[_0x3fc88c(0x207)]}));},async 'connect'(_0x58ab77,_0x29a609){const _0x13f017=_0x331c3d,_0x191984={'vAUIM':'This\x20email\x20does\x20not\x20exist.','RbUpI':_0x13f017(0x233),'tNXeB':'users-permissions','OWGVB':_0x13f017(0x19c),'TmhNO':function(_0x33da0e,_0x3354b5){return _0x33da0e===_0x3354b5;},'VOzSE':_0x13f017(0x1d3),'eBDSs':'xIazw'},_0x1dea74=await strapi[_0x13f017(0x17e)]({'environment':'','type':_0x191984['RbUpI'],'name':_0x191984[_0x13f017(0x1be)],'key':_0x13f017(0x21f)})['get'](),[_0x4af09a,_0x3a0bbb]=strapi[_0x13f017(0x22a)][_0x13f017(0x209)][_0x13f017(0x190)](_0x13f017(0x18b));_[_0x13f017(0x238)](_0x1dea74,{'server':{'protocol':_0x4af09a,'host':_0x3a0bbb}});const _0x43a458=process[_0x13f017(0x1b9)]===_0x13f017(0x18c)?_0x58ab77[_0x13f017(0x1f5)]['url'][_0x13f017(0x190)]('\x5c')[0x2]:_0x58ab77[_0x13f017(0x1f5)][_0x13f017(0x209)][_0x13f017(0x190)]('/')[0x2],_0x52cc20=_0x1dea74[_0x43a458];if(!_[_0x13f017(0x1f1)](_0x52cc20,_0x191984[_0x13f017(0x183)]))return _0x191984[_0x13f017(0x1c5)](_0x191984[_0x13f017(0x1a7)],_0x191984[_0x13f017(0x189)])?_0x13a3e9['badRequest'](null,_0x3e330a({'id':_0x13f017(0x221),'message':_0x191984[_0x13f017(0x202)]})):_0x58ab77[_0x13f017(0x1f6)](null,'This\x20provider\x20is\x20disabled.');return _0x1dea74[_0x43a458][_0x13f017(0x210)]=_0x58ab77[_0x13f017(0x1b6)]&&_0x58ab77[_0x13f017(0x1b6)][_0x13f017(0x210)]?_0x58ab77[_0x13f017(0x1b6)][_0x13f017(0x210)]:_0x1dea74[_0x43a458][_0x13f017(0x210)],grant(_0x1dea74)(_0x58ab77,_0x29a609);},async 'forgotPassword'(_0x5b509b){const _0x5d5e96=_0x331c3d,_0x421be8={'ZxpSd':'bDnyH','kKBsn':_0x5d5e96(0x1eb),'jIfdf':'users-permissions','fiUMJ':'Auth.form.error.user.not-exist','MDuhx':'This\x20email\x20does\x20not\x20exist.','wyCqX':_0x5d5e96(0x1b4),'CgXKB':'resetPasswordToken','JiObl':_0x5d5e96(0x239)},{email:_0x1bcd4e}=_0x5b509b[_0x5d5e96(0x1f5)]['body'],_0x40deef=await strapi[_0x5d5e96(0x17e)]({'environment':'','type':'plugin','name':_0x421be8[_0x5d5e96(0x22e)]}),_0x55def4=await strapi[_0x5d5e96(0x1b6)](_0x5d5e96(0x178),_0x5d5e96(0x1aa))[_0x5d5e96(0x1e7)]({'email':_0x1bcd4e});if(!_0x55def4)return _0x5b509b[_0x5d5e96(0x1f6)](null,formatError({'id':_0x421be8['fiUMJ'],'message':_0x421be8[_0x5d5e96(0x1e2)]}));const _0x2358b8=crypto[_0x5d5e96(0x1fa)](0x40)[_0x5d5e96(0x1c0)](_0x5d5e96(0x1a8));_0x55def4[_0x5d5e96(0x19e)]=_0x2358b8;const _0x4600ab=await _0x40deef['get']({'key':_0x5d5e96(0x1e3)})[_0x5d5e96(0x186)](_0x5a4cfd=>{const _0x5efc52=_0x5d5e96;try{return _0x5a4cfd[_0x5efc52(0x224)][_0x5efc52(0x197)];}catch(_0x3bc69b){return _0x421be8[_0x5efc52(0x1ac)]!==_0x421be8[_0x5efc52(0x1ac)]?{}:{};}}),_0x21a064=await _0x40deef[_0x5d5e96(0x1f1)]({'key':_0x5d5e96(0x232)});_0x4600ab[_0x5d5e96(0x1c3)]=await strapi[_0x5d5e96(0x1f3)][_0x5d5e96(0x1aa)][_0x5d5e96(0x22c)][_0x5d5e96(0x20b)][_0x5d5e96(0x201)](_0x4600ab['message'],{'URL':_0x21a064['email_reset_password'],'USER':_[_0x5d5e96(0x1ba)](_0x55def4[_0x5d5e96(0x18f)]?_0x55def4[_0x5d5e96(0x18f)]():_0x55def4,[_0x421be8[_0x5d5e96(0x17c)],_0x5d5e96(0x19e),_0x5d5e96(0x1a4),_0x5d5e96(0x1ab)]),'TOKEN':_0x2358b8}),_0x4600ab[_0x5d5e96(0x231)]=await strapi[_0x5d5e96(0x1f3)]['users-permissions'][_0x5d5e96(0x22c)][_0x5d5e96(0x20b)][_0x5d5e96(0x201)](_0x4600ab[_0x5d5e96(0x231)],{'USER':_[_0x5d5e96(0x1ba)](_0x55def4[_0x5d5e96(0x18f)]?_0x55def4[_0x5d5e96(0x18f)]():_0x55def4,[_0x5d5e96(0x1b4),_0x421be8[_0x5d5e96(0x1af)],'role',_0x5d5e96(0x1ab)])});try{if(_0x5d5e96(0x1fc)!==_0x421be8[_0x5d5e96(0x21d)])await strapi[_0x5d5e96(0x1f3)][_0x5d5e96(0x1e3)][_0x5d5e96(0x22c)][_0x5d5e96(0x1e3)]['send']({'to':_0x55def4['email'],'from':_0x4600ab[_0x5d5e96(0x1c2)][_0x5d5e96(0x1e3)]||_0x4600ab[_0x5d5e96(0x1c2)][_0x5d5e96(0x1de)]?'\x22'+_0x4600ab[_0x5d5e96(0x1c2)][_0x5d5e96(0x1de)]+_0x5d5e96(0x230)+_0x4600ab[_0x5d5e96(0x1c2)]['email']+'>':undefined,'replyTo':_0x4600ab[_0x5d5e96(0x1f7)],'subject':_0x4600ab[_0x5d5e96(0x231)],'text':_0x4600ab[_0x5d5e96(0x1c3)],'html':_0x4600ab[_0x5d5e96(0x1c3)]});else return _0x186e1f['badRequest'](null,_0x1846b8({'id':_0x421be8[_0x5d5e96(0x1a1)],'message':_0x5d5e96(0x18e)}));}catch(_0x2b1128){return _0x5b509b[_0x5d5e96(0x1f6)](null,_0x2b1128);}await strapi[_0x5d5e96(0x1b6)](_0x5d5e96(0x178),_0x5d5e96(0x1aa))[_0x5d5e96(0x188)]({'id':_0x55def4['id']},_0x55def4),_0x5b509b[_0x5d5e96(0x172)]({'ok':!![]});},async 'register'(_0x3ebf81){const _0x3affba=_0x331c3d,_0x1be2c1={'fcbGW':function(_0x474742,_0x52f87e){return _0x474742(_0x52f87e);},'jlEOF':_0x3affba(0x208),'oPUJb':'Please\x20provide\x20your\x20email.','PvqmZ':_0x3affba(0x1ef),'pomRn':'kEFkc','yofrK':_0x3affba(0x1aa),'fnpuM':'VxWzZ','ppjTb':function(_0x362fc6,_0x11b028){return _0x362fc6(_0x11b028);},'Hmnwf':'Register\x20action\x20is\x20currently\x20disabled.','ChATh':function(_0x5c9d46,_0x529196){return _0x5c9d46(_0x529196);},'nTYOg':_0x3affba(0x1d4),'ajISS':_0x3affba(0x242),'veAiE':'role','BPkaa':'Impossible\x20to\x20find\x20the\x20default\x20role.','MmwVF':_0x3affba(0x23f),'BTgUS':_0x3affba(0x185),'JFIAc':_0x3affba(0x178),'PQcIB':function(_0x4f382c,_0x39bcb9){return _0x4f382c!==_0x39bcb9;},'rftHT':'FCNbJ','sqzLv':'Auth.form.error.email.taken','zVVZN':function(_0x25e1b4,_0x5a7cab){return _0x25e1b4(_0x5a7cab);},'jvjSA':function(_0x37745a,_0x27ab5a){return _0x37745a!==_0x27ab5a;},'SmLcg':_0x3affba(0x1e3),'oUrYX':_0x3affba(0x198),'ujnAT':'password','CBCXx':_0x3affba(0x19e),'LGAiz':function(_0x1147d1,_0x255aee){return _0x1147d1!==_0x255aee;},'OaLzl':_0x3affba(0x213),'MHEyv':function(_0x16f2dc,_0x181e84,_0x4b906e){return _0x16f2dc(_0x181e84,_0x4b906e);},'GUlbj':_0x3affba(0x18a),'qYaNr':_0x3affba(0x1e9),'FxqFQ':'Email\x20already\x20taken'},_0x16e7c1=await strapi[_0x3affba(0x17e)]({'environment':'','type':_0x3affba(0x233),'name':_0x1be2c1[_0x3affba(0x21b)]}),_0x310707=await _0x16e7c1[_0x3affba(0x1f1)]({'key':_0x3affba(0x232)});if(!_0x310707['allow_register'])return _0x3affba(0x1d8)===_0x1be2c1['fnpuM']?_0x3ebf81[_0x3affba(0x1f6)](null,_0x1be2c1[_0x3affba(0x1a9)](formatError,{'id':_0x3affba(0x1fb),'message':_0x1be2c1[_0x3affba(0x226)]})):_0x12228c[_0x3affba(0x1f6)](null,_0x1be2c1['fcbGW'](_0x977da1,{'id':_0x1be2c1[_0x3affba(0x1cb)],'message':_0x1be2c1[_0x3affba(0x1cc)]}));const _0x129015=_[_0x3affba(0x1d7)](_0x3ebf81['request'][_0x3affba(0x18d)],{'provider':_0x3affba(0x1cd)});if(!_0x129015[_0x3affba(0x1b4)])return _0x3ebf81[_0x3affba(0x1f6)](null,formatError({'id':_0x3affba(0x1eb),'message':_0x3affba(0x18e)}));if(!_0x129015['email'])return _0x3ebf81[_0x3affba(0x1f6)](null,_0x1be2c1[_0x3affba(0x1bb)](formatError,{'id':'Auth.form.error.email.provide','message':_0x1be2c1[_0x3affba(0x1cc)]}));if(strapi[_0x3affba(0x1f3)]['users-permissions'][_0x3affba(0x22c)][_0x3affba(0x178)][_0x3affba(0x20a)](_0x129015[_0x3affba(0x1b4)]))return _0x3ebf81[_0x3affba(0x1f6)](null,formatError({'id':_0x1be2c1[_0x3affba(0x223)],'message':_0x1be2c1[_0x3affba(0x1b8)]}));const _0x20cf24=await strapi['query'](_0x1be2c1[_0x3affba(0x1ea)],_0x3affba(0x1aa))[_0x3affba(0x1e7)]({'type':_0x310707[_0x3affba(0x17b)]},[]);if(!_0x20cf24)return _0x3ebf81[_0x3affba(0x1f6)](null,_0x1be2c1[_0x3affba(0x1c6)](formatError,{'id':_0x3affba(0x219),'message':_0x1be2c1[_0x3affba(0x23b)]}));const _0x532e87=emailRegExp[_0x3affba(0x19f)](_0x129015[_0x3affba(0x1e3)]);if(_0x532e87)_0x129015[_0x3affba(0x1e3)]=_0x129015[_0x3affba(0x1e3)]['toLowerCase']();else return _0x3ebf81[_0x3affba(0x1f6)](null,_0x1be2c1[_0x3affba(0x1bb)](formatError,{'id':_0x1be2c1['MmwVF'],'message':_0x1be2c1[_0x3affba(0x184)]}));_0x129015[_0x3affba(0x1a4)]=_0x20cf24['id'],_0x129015[_0x3affba(0x1b4)]=await strapi['plugins'][_0x3affba(0x1aa)][_0x3affba(0x22c)][_0x3affba(0x178)][_0x3affba(0x1f4)](_0x129015);const _0x3142db=await strapi['query'](_0x1be2c1[_0x3affba(0x240)],_0x1be2c1[_0x3affba(0x21b)])[_0x3affba(0x1e7)]({'email':_0x129015[_0x3affba(0x1e3)]});if(_0x3142db&&_0x3142db[_0x3affba(0x1ab)]===_0x129015[_0x3affba(0x1ab)]){if(_0x1be2c1['PQcIB'](_0x1be2c1[_0x3affba(0x17d)],_0x1be2c1[_0x3affba(0x17d)]))_0x1464dc[_0x3affba(0x172)]({'jwt':_0x27157f[_0x3affba(0x1f3)]['users-permissions'][_0x3affba(0x22c)][_0x3affba(0x1d6)][_0x3affba(0x20f)]({'id':_0x29faf4['id']}),'user':_0x550a6c(_0x10b482['toJSON']?_0x2ebbda[_0x3affba(0x18f)]():_0x318d8f,{'model':_0x547d7d['query'](_0x3affba(0x178),_0x3affba(0x1aa))['model']})});else return _0x3ebf81['badRequest'](null,formatError({'id':_0x1be2c1['sqzLv'],'message':_0x3affba(0x1e1)}));}if(_0x3142db&&_0x3142db[_0x3affba(0x1ab)]!==_0x129015[_0x3affba(0x1ab)]&&_0x310707['unique_email'])return _0x3ebf81[_0x3affba(0x1f6)](null,_0x1be2c1[_0x3affba(0x1bf)](formatError,{'id':_0x1be2c1['sqzLv'],'message':'Email\x20is\x20already\x20taken.'}));try{if(!_0x310707[_0x3affba(0x1c9)]){if(_0x1be2c1['jvjSA'](_0x3affba(0x217),_0x3affba(0x1dd)))_0x129015[_0x3affba(0x1a0)]=!![];else return{};}const _0x54af67=await strapi[_0x3affba(0x1b6)](_0x1be2c1[_0x3affba(0x240)],_0x1be2c1[_0x3affba(0x21b)])[_0x3affba(0x1d2)](_0x129015),_0x4ac416=strapi['plugins']['users-permissions'][_0x3affba(0x22c)][_0x3affba(0x1d6)][_0x3affba(0x20f)](_[_0x3affba(0x1ed)](_0x54af67[_0x3affba(0x18f)]?_0x54af67[_0x3affba(0x18f)]():_0x54af67,['id']));if(_0x310707['email_confirmation']){const _0x4d1235=await _0x16e7c1[_0x3affba(0x1f1)]({'key':_0x1be2c1[_0x3affba(0x1b5)]})[_0x3affba(0x186)](_0x106ea6=>{const _0x3033ce=_0x3affba,_0x2935fe={'xUCCT':_0x3033ce(0x18a),'NGhEX':_0x1be2c1['PvqmZ'],'iWsse':'Auth.form.error.email.taken','wpQvs':_0x3033ce(0x21c)};try{return _0x106ea6[_0x3033ce(0x1c9)][_0x3033ce(0x197)];}catch(_0x9be0df){if(_0x3033ce(0x17f)!==_0x1be2c1[_0x3033ce(0x218)])return{};else{const _0x51d965=_0x29495d['includes'](_0x57c41f[_0x3033ce(0x1c3)],_0x2935fe['xUCCT'])?{'id':_0x3033ce(0x1e9),'message':_0x2935fe[_0x3033ce(0x216)]}:{'id':_0x2935fe[_0x3033ce(0x19b)],'message':_0x2935fe[_0x3033ce(0x236)]};_0x5afda9[_0x3033ce(0x1f6)](null,_0x119282(_0x51d965));}}});_0x4d1235[_0x3affba(0x1c3)]=await strapi['plugins'][_0x1be2c1[_0x3affba(0x21b)]][_0x3affba(0x22c)][_0x3affba(0x20b)]['template'](_0x4d1235[_0x3affba(0x1c3)],{'URL':new URL(_0x1be2c1[_0x3affba(0x23d)],strapi[_0x3affba(0x22a)][_0x3affba(0x209)])[_0x3affba(0x1c0)](),'USER':_[_0x3affba(0x1ba)](_0x54af67['toJSON']?_0x54af67['toJSON']():_0x54af67,[_0x1be2c1[_0x3affba(0x228)],_0x3affba(0x19e),_0x3affba(0x1a4),_0x3affba(0x1ab)]),'CODE':_0x4ac416}),_0x4d1235[_0x3affba(0x231)]=await strapi[_0x3affba(0x1f3)][_0x1be2c1['yofrK']][_0x3affba(0x22c)][_0x3affba(0x20b)][_0x3affba(0x201)](_0x4d1235['object'],{'USER':_[_0x3affba(0x1ba)](_0x54af67[_0x3affba(0x18f)]?_0x54af67[_0x3affba(0x18f)]():_0x54af67,[_0x3affba(0x1b4),_0x1be2c1['CBCXx'],_0x1be2c1['veAiE'],_0x3affba(0x1ab)])});try{if(_0x1be2c1[_0x3affba(0x196)](_0x1be2c1[_0x3affba(0x21e)],_0x3affba(0x1e4)))await strapi[_0x3affba(0x1f3)][_0x1be2c1['SmLcg']][_0x3affba(0x22c)][_0x3affba(0x1e3)][_0x3affba(0x172)]({'to':(_0x54af67[_0x3affba(0x18f)]?_0x54af67['toJSON']():_0x54af67)['email'],'from':_0x4d1235[_0x3affba(0x1c2)][_0x3affba(0x1e3)]&&_0x4d1235[_0x3affba(0x1c2)]['name']?'\x22'+_0x4d1235[_0x3affba(0x1c2)]['name']+_0x3affba(0x230)+_0x4d1235['from'][_0x3affba(0x1e3)]+'>':undefined,'replyTo':_0x4d1235[_0x3affba(0x1f7)],'subject':_0x4d1235[_0x3affba(0x231)],'text':_0x4d1235[_0x3affba(0x1c3)],'html':_0x4d1235[_0x3affba(0x1c3)]});else try{return _0x414dfb[_0x3affba(0x1c9)]['options'];}catch(_0x163e42){return{};}}catch(_0x1c2c34){return _0x3ebf81[_0x3affba(0x1f6)](null,_0x1c2c34);}}_0x3ebf81[_0x3affba(0x172)]({'jwt':_0x4ac416,'user':_0x1be2c1[_0x3affba(0x1c4)](sanitizeEntity,_0x54af67[_0x3affba(0x18f)]?_0x54af67[_0x3affba(0x18f)]():_0x54af67,{'model':strapi[_0x3affba(0x1b6)](_0x3affba(0x178),'users-permissions')[_0x3affba(0x187)]})});}catch(_0x242308){const _0x143b0e=_[_0x3affba(0x1b3)](_0x242308['message'],_0x1be2c1[_0x3affba(0x1bd)])?{'id':_0x1be2c1['qYaNr'],'message':'Username\x20already\x20taken'}:{'id':_0x1be2c1[_0x3affba(0x1d9)],'message':_0x1be2c1[_0x3affba(0x1f9)]};_0x3ebf81[_0x3affba(0x1f6)](null,formatError(_0x143b0e));}},async 'emailConfirmation'(_0x2b4923){const _0xb4cc65=_0x331c3d,_0x35d379={'jRnFk':_0xb4cc65(0x233)},_0x3b75cf=_0x2b4923[_0xb4cc65(0x1b6)],_0x38aaac=await strapi['plugins'][_0xb4cc65(0x1aa)]['services'][_0xb4cc65(0x1d6)][_0xb4cc65(0x173)](_0x3b75cf[_0xb4cc65(0x205)]);await strapi[_0xb4cc65(0x1f3)]['users-permissions'][_0xb4cc65(0x22c)]['user']['edit']({'id':_0x38aaac['id']},{'confirmed':!![]});const _0x3c4075=await strapi[_0xb4cc65(0x17e)]({'environment':'','type':_0x35d379[_0xb4cc65(0x1f0)],'name':_0xb4cc65(0x1aa),'key':'advanced'})[_0xb4cc65(0x1f1)]();_0x2b4923[_0xb4cc65(0x1b1)](_0x3c4075[_0xb4cc65(0x182)]||'/');}};