'use strict';function _0x5e68(){const _0x3d4c3a=['toHaveBeenCalled','it\x20validates\x20the\x20max\x20constraint\x20if\x20the\x20float\x20is\x20lower\x20than\x20the\x20define\x20max','assertions','63MHRYBu','strapi','it\x20checks\x20the\x20database\x20for\x20records\x20with\x20the\x20same\x20value\x20but\x20not\x20the\x20same\x20id\x20for\x20the\x20checked\x20attribute\x20if\x20an\x20entity\x20is\x20passed','not','it\x20does\x20not\x20validates\x20the\x20unique\x20constraint\x20if\x20the\x20attribute\x20is\x20not\x20set\x20as\x20unique','it\x20validates\x20the\x20min\x20constraint\x20if\x20the\x20float\x20is\x20higher\x20than\x20the\x20define\x20min','qOzkk','jrOXh','ossgg','688216fflhrx','attrFloatUnique','6vUCqLB','mmMcP','QvBDd','test-uid','toBeInstanceOf','nullable','it\x20does\x20not\x20validates\x20the\x20min\x20constraint\x20if\x20the\x20attribute\x20min\x20is\x20not\x20a\x20number','mlnuT','DhkIX','eyTSh','@strapi/utils','it\x20fails\x20the\x20validation\x20of\x20the\x20unique\x20constraint\x20if\x20the\x20database\x20contains\x20a\x20record\x20with\x20the\x20same\x20attribute\x20value','123','../validators','it\x20checks\x20the\x20database\x20for\x20records\x20with\x20the\x20same\x20value\x20for\x20the\x20checked\x20attribute','99shJxpH','validateYupSchema','NfNkV','unique','omKXC','wbWvP','clearAllMocks','BSIZv','float','PDZMH','108658rcDkMI','max','lDGEg','NLjxj','osYfx','1196973dGggMx','KLXTH','412722UuLkUF','mYSdS','it\x20fails\x20the\x20validation\x20if\x20the\x20float\x20is\x20lower\x20than\x20the\x20define\x20min','IuOtk','GkTxz','xyODc','1260640lnkgAt','3741840VRLYZX','GqDzB','9qAbMSm','mockReset','KZwyr','toHaveBeenCalledWith','cPlIu','it\x20validates\x20the\x20unique\x20constraint\x20if\x20the\x20attribute\x20data\x20has\x20not\x20changed\x20even\x20if\x20there\x20is\x20a\x20record\x20in\x20the\x20database\x20with\x20the\x20same\x20attribute\x20value','WEOWU','contentType','rDmuL','toBe','mbqwk','mockResolvedValueOnce','2444356EeejJb','HWplW','it\x20validates\x20the\x20unique\x20constraint\x20if\x20there\x20is\x20no\x20other\x20record\x20in\x20the\x20database','veMXI'];_0x5e68=function(){return _0x3d4c3a;};return _0x5e68();}const _0xc1754e=_0x9363;(function(_0x14cb02,_0x505a4c){const _0x497f0d=_0x9363,_0x27d2fe=_0x14cb02();while(!![]){try{const _0x3f58e2=parseInt(_0x497f0d(0x1fa))/0x1*(parseInt(_0x497f0d(0x1e1))/0x2)+-parseInt(_0x497f0d(0x1ff))/0x3+parseInt(_0x497f0d(0x216))/0x4+-parseInt(_0x497f0d(0x208))/0x5+-parseInt(_0x497f0d(0x201))/0x6*(parseInt(_0x497f0d(0x21d))/0x7)+parseInt(_0x497f0d(0x1df))/0x8*(parseInt(_0x497f0d(0x20a))/0x9)+parseInt(_0x497f0d(0x207))/0xa*(parseInt(_0x497f0d(0x1f0))/0xb);if(_0x3f58e2===_0x505a4c)break;else _0x27d2fe['push'](_0x27d2fe['shift']());}catch(_0x148384){_0x27d2fe['push'](_0x27d2fe['shift']());}}}(_0x5e68,0x5f838));function _0x9363(_0x4036c3,_0x9f163f){const _0x5e68c1=_0x5e68();return _0x9363=function(_0x9363ee,_0x41dad4){_0x9363ee=_0x9363ee-0x1df;let _0x2390a7=_0x5e68c1[_0x9363ee];return _0x2390a7;},_0x9363(_0x4036c3,_0x9f163f);}const strapiUtils=require(_0xc1754e(0x1eb)),{errors:{YupValidationError}}=require(_0xc1754e(0x1eb)),validators=require(_0xc1754e(0x1ee));describe('Float\x20validator',()=>{const _0x8a25fd=_0xc1754e,_0x3143a0={'mbqwk':function(_0x3b17f9,_0x3e329a){return _0x3b17f9(_0x3e329a);},'HWplW':function(_0x309f6c,_0x25ae83){return _0x309f6c(_0x25ae83);},'qOzkk':function(_0x4fc72a,_0xd099ef){return _0x4fc72a(_0xd099ef);},'WEOWU':_0x8a25fd(0x1f8),'NfNkV':function(_0x39b45a,_0x2c38d3){return _0x39b45a(_0x2c38d3);},'mYSdS':function(_0x5eb946,_0x456a7e){return _0x5eb946(_0x456a7e);},'eyTSh':function(_0x30e7c1,_0x4a0b4b){return _0x30e7c1(_0x4a0b4b);},'GqDzB':function(_0x23cdf7,_0x2a1e6d,_0x173f1e){return _0x23cdf7(_0x2a1e6d,_0x173f1e);},'osYfx':function(_0x4ad980,_0x21306e,_0x46e4d3){return _0x4ad980(_0x21306e,_0x46e4d3);},'oKvyR':_0x8a25fd(0x218),'xyODc':_0x8a25fd(0x1ec),'BSIZv':function(_0x1c416d,_0x101fec,_0x41d66c){return _0x1c416d(_0x101fec,_0x41d66c);},'DSuZd':function(_0x13ba40,_0x255328,_0x3456c1){return _0x13ba40(_0x255328,_0x3456c1);},'omKXC':_0x8a25fd(0x21f),'DhkIX':function(_0x22606f,_0x25d672){return _0x22606f(_0x25d672);},'KZwyr':_0x8a25fd(0x1e7),'rDmuL':_0x8a25fd(0x203),'QvBDd':function(_0x3617eb,_0x2108dc,_0x278b2b){return _0x3617eb(_0x2108dc,_0x278b2b);},'vGzTY':_0x8a25fd(0x222),'mlnuT':'it\x20does\x20not\x20validates\x20the\x20max\x20constraint\x20if\x20the\x20attribute\x20max\x20is\x20not\x20an\x20float','KLXTH':function(_0x5e9f2d,_0x4c09eb,_0x17e3fe){return _0x5e9f2d(_0x4c09eb,_0x17e3fe);},'lkebb':_0x8a25fd(0x1f3),'IuOtk':function(_0x1935b1,_0x1a917b,_0x549257){return _0x1935b1(_0x1a917b,_0x549257);},'YooBI':_0x8a25fd(0x1fb)};describe(_0x3143a0['lkebb'],()=>{const _0x471ad2=_0x8a25fd,_0x16096b={'lDGEg':_0x3143a0[_0x471ad2(0x210)],'JwOFF':function(_0x2b16a4,_0x34d19f){const _0x5786b7=_0x471ad2;return _0x3143a0[_0x5786b7(0x1f2)](_0x2b16a4,_0x34d19f);},'veMXI':function(_0xb5b94c,_0x2ea3eb){return _0xb5b94c(_0x2ea3eb);},'ossgg':function(_0x10719f,_0x32a0fc){const _0x388bed=_0x471ad2;return _0x3143a0[_0x388bed(0x202)](_0x10719f,_0x32a0fc);},'cPlIu':'attrFloatUnique','NiAwD':function(_0x2cdbdb,_0x526f2f){const _0x459a49=_0x471ad2;return _0x3143a0[_0x459a49(0x214)](_0x2cdbdb,_0x526f2f);},'phDHW':function(_0x562c53,_0x41cca8){const _0x344d64=_0x471ad2;return _0x3143a0[_0x344d64(0x1ea)](_0x562c53,_0x41cca8);}},_0x4ff545=jest['fn']();global[_0x471ad2(0x21e)]={'db':{'query':jest['fn'](()=>({'findOne':_0x4ff545}))}},_0x3143a0[_0x471ad2(0x202)](afterEach,()=>{const _0xa625ca=_0x471ad2;jest[_0xa625ca(0x1f6)](),_0x4ff545[_0xa625ca(0x20b)]();});const _0x319237={'kind':_0x471ad2(0x211),'uid':_0x471ad2(0x1e4),'modelName':'test-model','privateAttributes':[],'options':{},'attributes':{'attrFloatUnique':{'type':_0x471ad2(0x1f8),'unique':!![]}}};_0x3143a0[_0x471ad2(0x209)](test,_0x471ad2(0x221),async()=>{const _0x15f9cc=_0x471ad2;_0x4ff545[_0x15f9cc(0x215)](null);const _0x1a7195=strapiUtils['validateYupSchema'](validators[_0x15f9cc(0x1f8)]({'attr':{'type':_0x16096b[_0x15f9cc(0x1fc)]},'model':_0x319237,'updatedAttribute':{'name':_0x15f9cc(0x1e0),'value':0x1},'entity':null},{'isDraft':![]}));await _0x16096b['JwOFF'](_0x1a7195,0x1),expect(_0x4ff545)[_0x15f9cc(0x220)][_0x15f9cc(0x21a)]();}),_0x3143a0[_0x471ad2(0x209)](test,'it\x20does\x20not\x20validates\x20the\x20unique\x20constraint\x20if\x20the\x20attribute\x20value\x20is\x20`null`',async()=>{const _0x3a430d=_0x471ad2;_0x4ff545['mockResolvedValueOnce'](null);const _0x472864=strapiUtils[_0x3a430d(0x1f1)](validators['float']({'attr':{'type':'float','unique':!![]},'model':_0x319237,'updatedAttribute':{'name':'attrFloatUnique','value':null},'entity':null},{'isDraft':![]})[_0x3a430d(0x1e6)]());await _0x3143a0['mbqwk'](_0x472864,null),expect(_0x4ff545)['not'][_0x3a430d(0x21a)]();}),_0x3143a0[_0x471ad2(0x1fe)](test,_0x3143a0['oKvyR'],async()=>{const _0x5e62ce=_0x471ad2;_0x4ff545[_0x5e62ce(0x215)](null);const _0x548b76=strapiUtils[_0x5e62ce(0x1f1)](validators[_0x5e62ce(0x1f8)]({'attr':{'type':_0x5e62ce(0x1f8),'unique':!![]},'model':_0x319237,'updatedAttribute':{'name':'attrFloatUnique','value':0x2},'entity':null},{'isDraft':![]}));_0x16096b[_0x5e62ce(0x219)](expect,await _0x16096b[_0x5e62ce(0x225)](_0x548b76,0x1))[_0x5e62ce(0x213)](0x1);}),test(_0x3143a0[_0x471ad2(0x206)],async()=>{const _0x4656f8=_0x471ad2;expect[_0x4656f8(0x21c)](0x1),_0x4ff545['mockResolvedValueOnce']({'attrFloatUnique':0x2});const _0x3421d4=strapiUtils['validateYupSchema'](validators['float']({'attr':{'type':'float','unique':!![]},'model':_0x319237,'updatedAttribute':{'name':_0x4656f8(0x1e0),'value':0x2},'entity':null},{'isDraft':![]}));try{await _0x3421d4(0x2);}catch(_0x483b3b){_0x3143a0[_0x4656f8(0x217)](expect,_0x483b3b)['toBeInstanceOf'](YupValidationError);}}),_0x3143a0[_0x471ad2(0x1f7)](test,_0x471ad2(0x20f),async()=>{const _0x27072b=_0x471ad2;_0x4ff545[_0x27072b(0x215)]({'attrFloatUnique':0x3});const _0x14d929=strapiUtils[_0x27072b(0x1f1)](validators[_0x27072b(0x1f8)]({'attr':{'type':_0x27072b(0x1f8),'unique':!![]},'model':_0x319237,'updatedAttribute':{'name':_0x27072b(0x1e0),'value':0x3},'entity':{'id':0x1,'attrFloatUnique':0x3}},{'isDraft':![]}));_0x3143a0[_0x27072b(0x223)](expect,await _0x3143a0[_0x27072b(0x214)](_0x14d929,0x3))['toBe'](0x3);}),test(_0x471ad2(0x1ef),async()=>{const _0x11cb70=_0x471ad2;_0x4ff545['mockResolvedValueOnce'](null);const _0x1be240=strapiUtils[_0x11cb70(0x1f1)](validators['float']({'attr':{'type':_0x16096b[_0x11cb70(0x1fc)],'unique':!![]},'model':_0x319237,'updatedAttribute':{'name':_0x16096b[_0x11cb70(0x20e)],'value':0x4},'entity':null},{'isDraft':![]}));await _0x16096b[_0x11cb70(0x219)](_0x1be240,0x4),_0x16096b['NiAwD'](expect,_0x4ff545)['toHaveBeenCalledWith']({'select':['id'],'where':{'attrFloatUnique':0x4}});}),_0x3143a0['DSuZd'](test,_0x3143a0[_0x471ad2(0x1f4)],async()=>{const _0x57153a=_0x471ad2;_0x4ff545[_0x57153a(0x215)](null);const _0x2287b3=strapiUtils[_0x57153a(0x1f1)](validators[_0x57153a(0x1f8)]({'attr':{'type':_0x57153a(0x1f8),'unique':!![]},'model':_0x319237,'updatedAttribute':{'name':_0x57153a(0x1e0),'value':0x5},'entity':{'id':0x1,'attrFloatUnique':0x2a}},{'isDraft':![]}));await _0x16096b['phDHW'](_0x2287b3,0x5),expect(_0x4ff545)[_0x57153a(0x20d)]({'select':['id'],'where':{'$and':[{'attrFloatUnique':0x5},{'$not':{'id':0x1}}]}});});}),describe('min',()=>{const _0x556e3b=_0x8a25fd,_0x48f983={'PDZMH':'float','mmMcP':function(_0xbf96e4,_0x31f4fc){const _0x5711c3=_0x9363;return _0x3143a0[_0x5711c3(0x223)](_0xbf96e4,_0x31f4fc);}};test(_0x3143a0[_0x556e3b(0x20c)],async()=>{const _0x263958=_0x556e3b,_0x27b307=strapiUtils[_0x263958(0x1f1)](validators[_0x263958(0x1f8)]({'attr':{'type':_0x48f983[_0x263958(0x1f9)],'minLength':_0x263958(0x1ed)}},{'isDraft':![]}));_0x48f983[_0x263958(0x1e2)](expect,await _0x48f983[_0x263958(0x1e2)](_0x27b307,0x1))['toBe'](0x1);}),_0x3143a0[_0x556e3b(0x1f7)](test,_0x3143a0[_0x556e3b(0x212)],async()=>{const _0x1a2728=_0x556e3b;expect[_0x1a2728(0x21c)](0x1);const _0x8431c7=strapiUtils['validateYupSchema'](validators[_0x1a2728(0x1f8)]({'attr':{'type':_0x3143a0[_0x1a2728(0x210)],'min':0x3}},{'isDraft':![]}));try{await _0x8431c7(0x1);}catch(_0x4419f4){_0x3143a0[_0x1a2728(0x1ea)](expect,_0x4419f4)[_0x1a2728(0x1e5)](YupValidationError);}}),_0x3143a0[_0x556e3b(0x1e3)](test,_0x3143a0['vGzTY'],async()=>{const _0x184b59=_0x556e3b,_0x1c66b3=strapiUtils['validateYupSchema'](validators[_0x184b59(0x1f8)]({'attr':{'type':'float','min':0x3}},{'isDraft':![]}));_0x3143a0[_0x184b59(0x1e9)](expect,await _0x3143a0['eyTSh'](_0x1c66b3,0x4))[_0x184b59(0x213)](0x4);});}),_0x3143a0[_0x8a25fd(0x204)](describe,_0x3143a0['YooBI'],()=>{const _0x5b9140=_0x8a25fd,_0x47e807={'NLjxj':_0x5b9140(0x1ed),'wbWvP':function(_0x4edb91,_0x3f4b99){return _0x3143a0['mbqwk'](_0x4edb91,_0x3f4b99);},'jrOXh':_0x5b9140(0x1f8),'GkTxz':function(_0x47c765,_0x1f1fdb){return _0x47c765(_0x1f1fdb);}};_0x3143a0[_0x5b9140(0x1f7)](test,_0x3143a0[_0x5b9140(0x1e8)],async()=>{const _0x5d6996=_0x5b9140,_0x39e959=strapiUtils[_0x5d6996(0x1f1)](validators[_0x5d6996(0x1f8)]({'attr':{'type':_0x5d6996(0x1f8),'maxLength':_0x47e807[_0x5d6996(0x1fd)]}},{'isDraft':![]}));_0x47e807[_0x5d6996(0x1f5)](expect,await _0x39e959(0x1))[_0x5d6996(0x213)](0x1);}),_0x3143a0[_0x5b9140(0x200)](test,'it\x20fails\x20the\x20validation\x20if\x20the\x20number\x20is\x20float\x20than\x20the\x20define\x20max',async()=>{const _0x41ac08=_0x5b9140;expect[_0x41ac08(0x21c)](0x1);const _0x281704=strapiUtils[_0x41ac08(0x1f1)](validators[_0x41ac08(0x1f8)]({'attr':{'type':_0x47e807['jrOXh'],'max':0x3}},{'isDraft':![]}));try{await _0x47e807[_0x41ac08(0x205)](_0x281704,0x4);}catch(_0x5b4975){expect(_0x5b4975)['toBeInstanceOf'](YupValidationError);}}),_0x3143a0[_0x5b9140(0x1fe)](test,_0x5b9140(0x21b),async()=>{const _0x332b99=_0x5b9140,_0x4e5b12=strapiUtils['validateYupSchema'](validators[_0x332b99(0x1f8)]({'attr':{'type':_0x47e807[_0x332b99(0x224)],'max':0x3}},{'isDraft':![]}));expect(await _0x4e5b12(0x2))[_0x332b99(0x213)](0x2);});});});