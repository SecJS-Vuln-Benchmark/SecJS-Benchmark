const _0x2ee10a=_0x1a8a;(function(_0x1d8e1b,_0xa4ed66){const _0x5d01c4=_0x1a8a,_0x4556d4=_0x1d8e1b();while(!![]){try{const _0x5e3a17=parseInt(_0x5d01c4(0x135))/0x1*(-parseInt(_0x5d01c4(0x13f))/0x2)+-parseInt(_0x5d01c4(0x126))/0x3+parseInt(_0x5d01c4(0xf0))/0x4*(-parseInt(_0x5d01c4(0x130))/0x5)+parseInt(_0x5d01c4(0xfe))/0x6*(-parseInt(_0x5d01c4(0x144))/0x7)+-parseInt(_0x5d01c4(0x107))/0x8*(parseInt(_0x5d01c4(0x149))/0x9)+parseInt(_0x5d01c4(0xf2))/0xa+parseInt(_0x5d01c4(0x137))/0xb;if(_0x5e3a17===_0xa4ed66)break;else _0x4556d4['push'](_0x4556d4['shift']());}catch(_0x273a3d){_0x4556d4['push'](_0x4556d4['shift']());}}}(_0x272d,0xdacc7));const ENS=artifacts[_0x2ee10a(0x101)](_0x2ee10a(0x11e)),BaseRegistrar=artifacts[_0x2ee10a(0x101)](_0x2ee10a(0x148)),ETHRegistrarAdmin=artifacts['require'](_0x2ee10a(0x10a)),ETHRegistrarControllerProxy=artifacts['require'](_0x2ee10a(0xe9)),{expect}=require('chai'),namehash=require('eth-ens-namehash'),sha3=require(_0x2ee10a(0x14a))[_0x2ee10a(0x128)],toBN=require('web3-utils')[_0x2ee10a(0xfd)],{evm,exceptions}=require('../test-utils'),ZERO_ADDRESS='0x0000000000000000000000000000000000000000',ZERO_HASH=_0x2ee10a(0x121);function _0x272d(){const _0x5a00fb=['register','should\x20permit\x20the\x20owner\x20to\x20reclaim\x20a\x20name','hash','should\x20not\x20allow\x20renewals\x20of\x20longer\x20than\x20365000000\x20days','silentname','resolver','4ZTtUdv','transferFrom','YZOhY','ZRale','LLQeA','7IwQdyy','latest','should\x20not\x20permit\x20transfer\x20or\x20reclaim\x20during\x20the\x20grace\x20period','3|4|1|0|2','./registrar/BaseRegistrarImplementation','990vPnVxK','web3-utils','getBlock','./registrar/ETHRegistrarControllerProxy','qEiWb','should\x20allow\x20new\x20registrations','mine','Mxrja','OSHBt','GRACE_PERIOD','84772rnfDAE','name3','17123870lLzqNq','newname.eth','receipt','reclaim','setSubnodeOwner','renew','GXXfB','should\x20allow\x20renewal\x20during\x20the\x20grace\x20period','5|3|1|2|0|4','nameExpires','newname','toBN','1822572GCGpoa','add','mqJQA','require','new','ownerOf','expectFailure','should\x20not\x20permit\x20registration\x20of\x20already\x20registered\x20names','MEBZl','17488Vomope','address','XgxDU','./registrar/ETHRegistrarAdmin','eth','toNumber','ouWXw','addController','split','timestamp','should\x20not\x20permit\x20renewing\x20a\x20name\x20that\x20is\x20not\x20registered','advanceTime','VuOHA','AyxdD','sKAWI','should\x20only\x20allow\x20the\x20controller\x20to\x20renew','zdrWs','BaseRegistrar','wrQWt','0|3|1|4|2','should\x20prohibit\x20anyone\x20else\x20from\x20reclaiming\x20a\x20name','4|1|2|0|3','SRzZF','./registry/ENSRegistry','owner','registerOnly','0x0000000000000000000000000000000000000000000000000000000000000000','reverted','DOMHF','YaQJf','transferOwnership','2240013TqolcE','0x0','sha3','should\x20allow\x20the\x20owner\x20to\x20set\x20a\x20resolver\x20address','zceby','EKeOR','should\x20allow\x20registration\x20of\x20an\x20expired\x20domain','should\x20only\x20allow\x20the\x20controller\x20to\x20register','setResolver','should\x20allow\x20renewals','170cBhmTJ','equal','ILunU','EnjXe','jkvVS','65644auByrP','Rsfiw','14592105lMYBhZ','GrJve'];_0x272d=function(){return _0x5a00fb;};return _0x272d();}function _0x1a8a(_0x244895,_0x2d53d0){const _0x272d68=_0x272d();return _0x1a8a=function(_0x1a8ab7,_0x2cc1cb){_0x1a8ab7=_0x1a8ab7-0xe8;let _0x5bcd65=_0x272d68[_0x1a8ab7];return _0x5bcd65;},_0x1a8a(_0x244895,_0x2d53d0);}contract(_0x2ee10a(0x118),function(_0x23f68d){const _0x459377=_0x2ee10a,_0x2236ac={'ILunU':_0x459377(0x10b),'MEBZl':_0x459377(0x127),'qEiWb':function(_0x224241,_0x2b5938){return _0x224241(_0x2b5938);},'ZRale':function(_0x591397,_0x3509dd){return _0x591397(_0x3509dd);},'AyxdD':_0x459377(0xfc),'acOYR':function(_0x3909ee,_0x317266){return _0x3909ee+_0x317266;},'Rsfiw':function(_0x524050,_0x1a0ffd){return _0x524050(_0x1a0ffd);},'LLQeA':function(_0x4cb8ee,_0x4a4fe9){return _0x4cb8ee(_0x4a4fe9);},'ouWXw':function(_0x56368a,_0x2f849b){return _0x56368a(_0x2f849b);},'VuOHA':_0x459377(0xf1),'DOMHF':function(_0x23cc96,_0x3a702c){return _0x23cc96(_0x3a702c);},'lDVRD':_0x459377(0xf3),'sKAWI':function(_0x555255,_0x4958b4){return _0x555255(_0x4958b4);},'YZOhY':function(_0x2d1317,_0x500dce){return _0x2d1317(_0x500dce);},'tUAAj':function(_0x5804d8,_0x1256b3){return _0x5804d8(_0x1256b3);},'GXXfB':function(_0x3eeea7,_0x29fd34){return _0x3eeea7(_0x29fd34);},'EKeOR':function(_0x129ad4,_0x9fc84a){return _0x129ad4(_0x9fc84a);},'OSHBt':function(_0x281da2,_0x570a88){return _0x281da2+_0x570a88;},'qbWEC':_0x459377(0x145),'Mxrja':function(_0x66a008,_0x2e38c8){return _0x66a008-_0x2e38c8;},'YaQJf':function(_0x45081b,_0x19bc70){return _0x45081b(_0x19bc70);},'HsDiX':function(_0x100f59,_0x431974){return _0x100f59(_0x431974);},'SRzZF':_0x459377(0xeb),'GrJve':function(_0x4fc6e1,_0x6914ed,_0x35b336){return _0x4fc6e1(_0x6914ed,_0x35b336);},'mqJQA':'should\x20allow\x20registrations\x20without\x20updating\x20the\x20registry','jkvVS':function(_0x40082d,_0x5328e4,_0x1c8393){return _0x40082d(_0x5328e4,_0x1c8393);},'EnjXe':_0x459377(0x12f),'XjdDb':_0x459377(0x116),'KJyMJ':function(_0x2004ee,_0xc2fa6f,_0x5611da){return _0x2004ee(_0xc2fa6f,_0x5611da);},'XgxDU':_0x459377(0x11b),'zceby':function(_0x27749a,_0x210367,_0x304a93){return _0x27749a(_0x210367,_0x304a93);},'zdrWs':'should\x20permit\x20the\x20owner\x20to\x20transfer\x20a\x20registration','VEneA':_0x459377(0xf9),'YLsxM':_0x459377(0x129),'wrQWt':_0x459377(0x13c)},_0x18ccbb=_0x23f68d[0x0],_0xc1ec3d=_0x23f68d[0x1],_0x285a11=_0x23f68d[0x2],_0x2719dd=_0x23f68d[0x3];let _0x27e0d8,_0x9db5f6,_0x6311b7,_0xbf1239;before(async()=>{const _0xde6974=_0x459377;_0x27e0d8=await ENS['new'](),_0x9db5f6=await BaseRegistrar[_0xde6974(0x102)](_0x27e0d8[_0xde6974(0x108)],namehash[_0xde6974(0x13b)](_0x2236ac['ILunU']),{'from':_0x18ccbb}),_0x6311b7=await ETHRegistrarAdmin[_0xde6974(0x102)](_0x9db5f6['address']),await _0x9db5f6[_0xde6974(0x125)](_0x6311b7['address']),await _0x6311b7[_0xde6974(0x10e)](_0xc1ec3d,{'from':_0x18ccbb}),_0xbf1239=await ETHRegistrarControllerProxy['at'](await _0x6311b7['getProxyAddress'](_0xc1ec3d)),await _0x27e0d8[_0xde6974(0xf6)](_0x2236ac[_0xde6974(0x106)],_0x2236ac['qEiWb'](sha3,_0xde6974(0x10b)),_0x9db5f6[_0xde6974(0x108)]);}),it(_0x2236ac[_0x459377(0x11d)],async()=>{const _0x2bc21e=_0x459377,_0x1694ed=_0x2bc21e(0x11a)[_0x2bc21e(0x10f)]('|');let _0x55afc9=0x0;while(!![]){switch(_0x1694ed[_0x55afc9++]){case'0':var _0x1f02dc=await _0xbf1239[_0x2bc21e(0x139)](_0x2236ac[_0x2bc21e(0xea)](sha3,_0x2bc21e(0xfc)),_0x285a11,0x15180,{'from':_0xc1ec3d});continue;case'1':assert['equal'](await _0x27e0d8[_0x2bc21e(0x11f)](namehash[_0x2bc21e(0x13b)](_0x2bc21e(0xf3))),_0x285a11);continue;case'2':assert[_0x2bc21e(0x131)]((await _0x9db5f6[_0x2bc21e(0xfb)](_0x2236ac[_0x2bc21e(0x142)](sha3,_0x2236ac[_0x2bc21e(0x114)])))[_0x2bc21e(0x10c)](),_0x2236ac['acOYR'](_0x4c0da4[_0x2bc21e(0x110)],0x15180));continue;case'3':var _0x4c0da4=await web3['eth']['getBlock'](_0x1f02dc[_0x2bc21e(0xf4)]['blockHash']);continue;case'4':assert[_0x2bc21e(0x131)](await _0x9db5f6[_0x2bc21e(0x103)](sha3('newname')),_0x285a11);continue;}break;}}),_0x2236ac[_0x459377(0x138)](it,_0x2236ac[_0x459377(0x100)],async()=>{const _0x1b5e7d=_0x459377,_0x3d4282=_0x1b5e7d(0x147)['split']('|');let _0xb0748e=0x0;while(!![]){switch(_0x3d4282[_0xb0748e++]){case'0':assert[_0x1b5e7d(0x131)](await _0x9db5f6[_0x1b5e7d(0x103)](sha3(_0x1b5e7d(0x13d))),_0x285a11);continue;case'1':assert['equal'](await _0x27e0d8[_0x1b5e7d(0x11f)](namehash[_0x1b5e7d(0x13b)]('silentname.eth')),ZERO_ADDRESS);continue;case'2':assert[_0x1b5e7d(0x131)]((await _0x9db5f6[_0x1b5e7d(0xfb)](sha3(_0x1b5e7d(0x13d))))[_0x1b5e7d(0x10c)](),_0x24e619['timestamp']+0x15180);continue;case'3':var _0x3c0fbe=await _0xbf1239[_0x1b5e7d(0x120)](sha3(_0x1b5e7d(0x13d)),_0x285a11,0x15180,{'from':_0xc1ec3d});continue;case'4':var _0x24e619=await web3['eth'][_0x1b5e7d(0xe8)](_0x3c0fbe[_0x1b5e7d(0xf4)]['blockHash']);continue;}break;}}),_0x2236ac[_0x459377(0x134)](it,_0x2236ac[_0x459377(0x133)],async()=>{const _0x32fe5f=_0x459377;var _0x28c5f6=await _0x9db5f6[_0x32fe5f(0xfb)](sha3(_0x32fe5f(0xfc)));await _0xbf1239[_0x32fe5f(0xf7)](_0x2236ac['ZRale'](sha3,_0x2236ac[_0x32fe5f(0x114)]),0x15180,{'from':_0xc1ec3d}),assert[_0x32fe5f(0x131)]((await _0x9db5f6['nameExpires'](_0x2236ac[_0x32fe5f(0x136)](sha3,_0x2236ac[_0x32fe5f(0x114)])))[_0x32fe5f(0x10c)](),_0x28c5f6[_0x32fe5f(0xff)](toBN(0x15180))['toNumber']());}),it(_0x459377(0x12d),async()=>{const _0x4aa33b=_0x459377;await exceptions[_0x4aa33b(0x104)](_0xbf1239[_0x4aa33b(0x139)](sha3('foo'),_0x2719dd,0x15180,{'from':_0x2719dd}));}),_0x2236ac['GrJve'](it,_0x2236ac['XjdDb'],async()=>{const _0xe973c9=_0x459377;await exceptions[_0xe973c9(0x104)](_0xbf1239[_0xe973c9(0xf7)](sha3(_0x2236ac[_0xe973c9(0x114)]),0x15180,{'from':_0x2719dd}));}),it(_0x459377(0x105),async()=>{const _0x40bcd2=_0x459377;await exceptions[_0x40bcd2(0x104)](_0xbf1239[_0x40bcd2(0x139)](_0x2236ac[_0x40bcd2(0xea)](sha3,_0x40bcd2(0xfc)),_0x2719dd,0x15180,{'from':_0xc1ec3d})),assert['equal'](await _0x9db5f6[_0x40bcd2(0x103)](_0x2236ac[_0x40bcd2(0x143)](sha3,_0x2236ac[_0x40bcd2(0x114)])),_0x285a11);}),it(_0x459377(0x111),async()=>{const _0x5116ec=_0x459377;await exceptions[_0x5116ec(0x104)](_0xbf1239['renew'](_0x2236ac[_0x5116ec(0x10d)](sha3,_0x2236ac[_0x5116ec(0x113)]),0x15180,{'from':_0xc1ec3d}));}),it(_0x459377(0x13a),async()=>{const _0x24681b=_0x459377,_0x5c3759=_0x24681b(0xfa)['split']('|');let _0x443365=0x0;while(!![]){switch(_0x5c3759[_0x443365++]){case'0':await _0x9db5f6['reclaim'](_0x2236ac[_0x24681b(0x123)](sha3,_0x2236ac['AyxdD']),_0x285a11,{'from':_0x285a11});continue;case'1':assert[_0x24681b(0x131)](await _0x27e0d8['owner'](namehash[_0x24681b(0x13b)](_0x2236ac['lDVRD'])),ZERO_ADDRESS);continue;case'2':await _0x27e0d8[_0x24681b(0xf6)](ZERO_HASH,_0x2236ac['sKAWI'](sha3,_0x2236ac['ILunU']),_0x9db5f6[_0x24681b(0x108)]);continue;case'3':await _0x27e0d8[_0x24681b(0xf6)](namehash[_0x24681b(0x13b)](_0x2236ac['ILunU']),_0x2236ac[_0x24681b(0x141)](sha3,_0x24681b(0xfc)),ZERO_ADDRESS);continue;case'4':assert[_0x24681b(0x131)](await _0x27e0d8['owner'](namehash['hash'](_0x24681b(0xf3))),_0x285a11);continue;case'5':await _0x27e0d8[_0x24681b(0xf6)](ZERO_HASH,_0x2236ac[_0x24681b(0x115)](sha3,_0x2236ac[_0x24681b(0x132)]),_0x23f68d[0x0]);continue;}break;}}),_0x2236ac['KJyMJ'](it,_0x2236ac[_0x459377(0x109)],async()=>{const _0x5395f7=_0x459377;await exceptions[_0x5395f7(0x104)](_0x9db5f6[_0x5395f7(0xf5)](sha3(_0x5395f7(0xfc)),_0x285a11,{'from':_0x2719dd}));}),_0x2236ac['zceby'](it,_0x2236ac[_0x459377(0x117)],async()=>{const _0x34fd0d=_0x459377;await _0x9db5f6[_0x34fd0d(0x140)](_0x285a11,_0x2719dd,_0x2236ac['tUAAj'](sha3,_0x2236ac[_0x34fd0d(0x114)]),{'from':_0x285a11}),assert[_0x34fd0d(0x131)](await _0x9db5f6[_0x34fd0d(0x103)](_0x2236ac[_0x34fd0d(0x141)](sha3,_0x34fd0d(0xfc))),_0x2719dd),assert[_0x34fd0d(0x131)](await _0x27e0d8[_0x34fd0d(0x11f)](namehash[_0x34fd0d(0x13b)]('newname.eth')),_0x285a11),await _0x9db5f6['transferFrom'](_0x2719dd,_0x285a11,_0x2236ac[_0x34fd0d(0xf8)](sha3,_0x2236ac[_0x34fd0d(0x114)]),{'from':_0x2719dd});}),_0x2236ac[_0x459377(0x12a)](it,'should\x20prohibit\x20anyone\x20else\x20from\x20transferring\x20a\x20registration',async()=>{const _0x3a5efe=_0x459377;await exceptions['expectFailure'](_0x9db5f6[_0x3a5efe(0x140)](_0x2719dd,_0x2719dd,_0x2236ac[_0x3a5efe(0x12b)](sha3,_0x2236ac[_0x3a5efe(0x114)]),{'from':_0x2719dd}));}),_0x2236ac[_0x459377(0x12a)](it,_0x459377(0x146),async()=>{const _0x3252ee=_0x459377,_0x3f063e=_0x3252ee(0x11c)[_0x3252ee(0x10f)]('|');let _0x4686ee=0x0;while(!![]){switch(_0x3f063e[_0x4686ee++]){case'0':await exceptions[_0x3252ee(0x104)](_0x9db5f6[_0x3252ee(0x140)](_0x285a11,_0x2719dd,sha3(_0x3252ee(0xfc)),{'from':_0x285a11}));continue;case'1':await evm[_0x3252ee(0x112)](_0x2236ac[_0x3252ee(0xee)]((await _0x9db5f6[_0x3252ee(0xfb)](sha3('newname')))[_0x3252ee(0x10c)]()-_0x486ceb,0xe10));continue;case'2':await evm[_0x3252ee(0xec)]();continue;case'3':await exceptions[_0x3252ee(0x104)](_0x9db5f6[_0x3252ee(0xf5)](sha3('newname'),_0x285a11,{'from':_0x285a11}));continue;case'4':var _0x486ceb=(await web3[_0x3252ee(0x10b)][_0x3252ee(0xe8)](_0x3252ee(0x145)))[_0x3252ee(0x110)];continue;}break;}}),_0x2236ac[_0x459377(0x134)](it,_0x2236ac['VEneA'],async()=>{const _0x2a9c70=_0x459377;await _0xbf1239[_0x2a9c70(0xf7)](sha3(_0x2236ac[_0x2a9c70(0x114)]),0x15180,{'from':_0xc1ec3d});}),_0x2236ac[_0x459377(0x12a)](it,_0x459377(0x12c),async()=>{const _0x3f8012=_0x459377;var _0x3c6cf3=(await web3['eth'][_0x3f8012(0xe8)](_0x2236ac['qbWEC']))['timestamp'],_0x47329c=await _0x9db5f6[_0x3f8012(0xfb)](_0x2236ac[_0x3f8012(0xea)](sha3,_0x2236ac['AyxdD'])),_0x4bedaf=await _0x9db5f6[_0x3f8012(0xef)]();await evm[_0x3f8012(0x112)](_0x2236ac[_0x3f8012(0xed)](_0x47329c['toNumber'](),_0x3c6cf3)+_0x4bedaf[_0x3f8012(0x10c)]()+0xe10),await evm[_0x3f8012(0xec)](),await expect(_0x9db5f6[_0x3f8012(0x103)](_0x2236ac[_0x3f8012(0x124)](sha3,_0x2236ac[_0x3f8012(0x114)])))['to']['be'][_0x3f8012(0x122)],await _0xbf1239['register'](_0x2236ac['HsDiX'](sha3,_0x2236ac['AyxdD']),_0x2719dd,0x15180,{'from':_0xc1ec3d}),assert[_0x3f8012(0x131)](await _0x9db5f6[_0x3f8012(0x103)](_0x2236ac[_0x3f8012(0x143)](sha3,_0x2236ac[_0x3f8012(0x114)])),_0x2719dd);}),it(_0x2236ac['YLsxM'],async()=>{const _0x5dbff7=_0x459377;await _0x6311b7[_0x5dbff7(0x12e)](_0x23f68d[0x1],{'from':_0x18ccbb}),assert[_0x5dbff7(0x131)](await _0x27e0d8[_0x5dbff7(0x13e)](namehash[_0x5dbff7(0x13b)](_0x2236ac[_0x5dbff7(0x132)])),_0x23f68d[0x1]);}),it(_0x2236ac[_0x459377(0x119)],async()=>{const _0x748982=_0x459377;await expect(_0xbf1239[_0x748982(0xf7)](_0x2236ac[_0x748982(0xf8)](sha3,_0x748982(0xfc)),0x15c17540*0x15180+0x1,{'from':_0xc1ec3d}))['to']['be'][_0x748982(0x122)];});});