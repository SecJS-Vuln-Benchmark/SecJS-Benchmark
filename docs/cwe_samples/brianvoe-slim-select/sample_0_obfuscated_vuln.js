const _0x505d4f=_0x561d;(function(_0x55538c,_0x56bf83){const _0x5b866d=_0x561d,_0x194ca3=_0x55538c();while(!![]){try{const _0x1499fa=-parseInt(_0x5b866d(0xf3))/0x1+parseInt(_0x5b866d(0xde))/0x2+-parseInt(_0x5b866d(0xe9))/0x3+parseInt(_0x5b866d(0xdc))/0x4+parseInt(_0x5b866d(0xe7))/0x5*(-parseInt(_0x5b866d(0xdb))/0x6)+parseInt(_0x5b866d(0xf2))/0x7+-parseInt(_0x5b866d(0xe6))/0x8;if(_0x1499fa===_0x56bf83)break;else _0x194ca3['push'](_0x194ca3['shift']());}catch(_0x3734a3){_0x194ca3['push'](_0x194ca3['shift']());}}}(_0x5dec,0xc51db));import*as _0x115081 from'path';function _0x5dec(){const _0x3b3d81=['ALL_ORIGINS','apigateway-with-authorizer-and-proxy','App','Cors','index.handler','Duration','addProxy','7810680aREaPh','551085BkFRvF','CognitoUserPoolsAuthorizer','1451601jvHQkE','root','ALL_METHODS','join','Actions-ApiGateway','assets','RestApi','Stack','UserPool','11154108BRavbI','1032266SYqOPG','InitiateAction','LambdaIntegration','fromAsset','addResource','30IOnVPX','3907056GVLuBU','days','2561464BoJopT'];_0x5dec=function(){return _0x3b3d81;};return _0x5dec();}import*as _0x703970 from'aws-cdk-lib';import{IntegTest}from'@aws-cdk/integ-tests-alpha';import*as _0x2fe3f3 from'aws-cdk-lib/aws-cognito';import*as _0x5eb888 from'aws-cdk-lib/aws-apigateway';import*as _0x5a2860 from'aws-cdk-lib/aws-lambda';function _0x561d(_0x180722,_0x510858){const _0x5dec7c=_0x5dec();return _0x561d=function(_0x561d30,_0x285d8f){_0x561d30=_0x561d30-0xdb;let _0x4b50d5=_0x5dec7c[_0x561d30];return _0x4b50d5;},_0x561d(_0x180722,_0x510858);}const app=new _0x703970[(_0x505d4f(0xe1))](),stack=new _0x703970[(_0x505d4f(0xf0))](app,'integtest-restapi-with-authorizer-and-proxy'),userPool=new _0x2fe3f3[(_0x505d4f(0xf1))](stack,'UserPool',{'selfSignUpEnabled':!![],'signInAliases':{'email':!![]}}),authorizer=new _0x5eb888[(_0x505d4f(0xe8))](stack,'Authorizer',{'cognitoUserPools':[userPool]}),api=new _0x5eb888[(_0x505d4f(0xef))](stack,_0x505d4f(0xed),{'defaultCorsPreflightOptions':{'allowOrigins':_0x5eb888[_0x505d4f(0xe2)][_0x505d4f(0xdf)],'maxAge':_0x703970[_0x505d4f(0xe4)][_0x505d4f(0xdd)](0xa)}}),root=api[_0x505d4f(0xea)],sendResource=root[_0x505d4f(0xf7)](_0x505d4f(0xf4)),myfunc=new _0x5a2860['Function'](stack,'lambda-s3',{'code':_0x5a2860['AssetCode'][_0x505d4f(0xf6)](_0x115081[_0x505d4f(0xec)](__dirname,_0x505d4f(0xee))),'handler':_0x505d4f(0xe3),'runtime':_0x5a2860['Runtime']['NODEJS_18_X']}),sendLambdaIntegration=new _0x5eb888[(_0x505d4f(0xf5))](myfunc);sendResource[_0x505d4f(0xe5)]({'defaultIntegration':sendLambdaIntegration,'anyMethod':!![],'defaultMethodOptions':{'authorizer':authorizer,'authorizationScopes':['scope']},'defaultCorsPreflightOptions':{'allowOrigins':_0x5eb888['Cors'][_0x505d4f(0xdf)],'allowMethods':_0x5eb888[_0x505d4f(0xe2)][_0x505d4f(0xeb)]}}),new IntegTest(app,_0x505d4f(0xe0),{'testCases':[stack]});