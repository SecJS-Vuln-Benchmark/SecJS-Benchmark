'use strict';var _0x5aa53b=_0x38be;function _0x38be(_0x3a198c,_0xcc7796){var _0x364c4e=_0x364c();return _0x38be=function(_0x38be2a,_0x140621){_0x38be2a=_0x38be2a-0x16a;var _0x3c29fa=_0x364c4e[_0x38be2a];return _0x3c29fa;},_0x38be(_0x3a198c,_0xcc7796);}(function(_0x23e6f7,_0x44f79f){var _0x52abff=_0x38be,_0x96842f=_0x23e6f7();while(!![]){try{var _0x463f1f=parseInt(_0x52abff(0x17f))/0x1*(-parseInt(_0x52abff(0x1a8))/0x2)+parseInt(_0x52abff(0x17d))/0x3+-parseInt(_0x52abff(0x199))/0x4*(parseInt(_0x52abff(0x183))/0x5)+-parseInt(_0x52abff(0x16c))/0x6*(parseInt(_0x52abff(0x17b))/0x7)+-parseInt(_0x52abff(0x1b4))/0x8*(parseInt(_0x52abff(0x1ad))/0x9)+parseInt(_0x52abff(0x1af))/0xa+parseInt(_0x52abff(0x171))/0xb;if(_0x463f1f===_0x44f79f)break;else _0x96842f['push'](_0x96842f['shift']());}catch(_0x9b7f75){_0x96842f['push'](_0x96842f['shift']());}}}(_0x364c,0xa0084));var express=require(_0x5aa53b(0x173)),request=require(_0x5aa53b(0x185));describe(_0x5aa53b(0x1a7),function(){var _0x29a377=_0x5aa53b,_0x5c1730={'rvUFH':_0x29a377(0x17a),'OxSLs':function(_0x4be433){return _0x4be433();},'hWhQO':_0x29a377(0x16e),'gciPP':function(_0x539ded,_0x3e9115){return _0x539ded!==_0x3e9115;},'szede':'PuSuA','wEatA':function(_0x580dc5,_0x167920){return _0x580dc5(_0x167920);},'RfZBr':_0x29a377(0x19a),'cCuDr':_0x29a377(0x187),'uzHdW':function(_0x4a3c0a,_0xaf68f5,_0x538753){return _0x4a3c0a(_0xaf68f5,_0x538753);},'EsBZe':function(_0x171af4,_0xdf5644,_0x5b644d){return _0x171af4(_0xdf5644,_0x5b644d);},'OjGVc':_0x29a377(0x194),'GTSKI':function(_0xc3c24a,_0x74687f,_0x1722f2){return _0xc3c24a(_0x74687f,_0x1722f2);},'MIXId':_0x29a377(0x182),'yZsxe':function(_0x35bb99,_0x57f065,_0x40e78b){return _0x35bb99(_0x57f065,_0x40e78b);},'RmDDr':_0x29a377(0x198),'XQUGk':_0x29a377(0x18d)};describe(_0x5c1730[_0x29a377(0x175)],function(){var _0x2cf031=_0x29a377,_0x3e485d={'rQpin':_0x5c1730[_0x2cf031(0x16b)],'rajyH':function(_0x2f737e){var _0x2a6bed=_0x2cf031;return _0x5c1730[_0x2a6bed(0x16f)](_0x2f737e);},'Xxngy':_0x2cf031(0x18e),'IsuME':'Referrer','zuzOv':_0x5c1730[_0x2cf031(0x1b7)],'Sinwv':function(_0x333f8f,_0x13a233){return _0x5c1730['gciPP'](_0x333f8f,_0x13a233);},'gNhEg':_0x5c1730[_0x2cf031(0x191)],'SgnFx':_0x2cf031(0x1a6),'yCwdX':function(_0x14fc52,_0x2f0957){return _0x5c1730['wEatA'](_0x14fc52,_0x2f0957);},'jamHD':_0x2cf031(0x197),'RFdnL':_0x2cf031(0x1a4),'UgfRs':_0x5c1730[_0x2cf031(0x190)],'bqnPP':_0x5c1730[_0x2cf031(0x1a1)],'TXwEv':function(_0x2e4f3c,_0x29d821,_0x4f959a){var _0x3dd14a=_0x2cf031;return _0x5c1730[_0x3dd14a(0x179)](_0x2e4f3c,_0x29d821,_0x4f959a);},'UyPnJ':function(_0xeed44c,_0x28ad85,_0x31c685){var _0x262815=_0x2cf031;return _0x5c1730[_0x262815(0x189)](_0xeed44c,_0x28ad85,_0x31c685);},'ecaWw':_0x5c1730['OjGVc']};it('should\x20set\x20the\x20header',function(_0x8a04b5){var _0x12436d=_0x2cf031,_0x41bcfb=_0x3e485d['rajyH'](express);_0x41bcfb[_0x12436d(0x18c)](function(_0x17b43f,_0x2d2984){var _0x50b380=_0x12436d;_0x50b380(0x17a)===_0x3e485d['rQpin']?_0x2d2984[_0x50b380(0x1a9)](_0x50b380(0x1a0))[_0x50b380(0x181)]():_0x1a6882['location'](_0x50b380(0x16d))[_0x50b380(0x181)]();}),request(_0x41bcfb)['get']('/')['expect'](_0x3e485d[_0x12436d(0x196)],_0x12436d(0x1a0))[_0x12436d(0x188)](0xc8,_0x8a04b5);}),_0x5c1730['GTSKI'](it,_0x5c1730[_0x2cf031(0x18a)],function(_0x6730d5){var _0x40c775=_0x2cf031,_0x456857={'IjlVK':function(_0x2e1b40,_0x3c264f){return _0x2e1b40(_0x3c264f);},'mosQD':_0x3e485d[_0x40c775(0x184)],'HulGW':function(_0x39fac8,_0x28bc26){return _0x39fac8===_0x28bc26;}},_0x1dfbc4=_0x3e485d['rajyH'](express);_0x1dfbc4[_0x40c775(0x18c)](function(_0x54bf18,_0x2c9186){var _0x5b0ec0=_0x40c775,_0x312746={'HKgkk':_0x5b0ec0(0x16d),'TUytZ':function(_0x5d136f){return _0x5d136f();},'CtFxh':function(_0x522c00,_0x446081){return _0x456857['IjlVK'](_0x522c00,_0x446081);},'UHxoA':_0x5b0ec0(0x197),'SZbPn':_0x456857[_0x5b0ec0(0x18f)],'KJHhk':_0x5b0ec0(0x18e)};if(_0x456857[_0x5b0ec0(0x186)](_0x5b0ec0(0x1b5),_0x5b0ec0(0x174))){var _0x541d83={'vHmEl':_0x312746[_0x5b0ec0(0x1b2)]},_0x53e75a=_0x312746[_0x5b0ec0(0x195)](_0x39cc14);_0x53e75a[_0x5b0ec0(0x18c)](function(_0xaee5af,_0x2e9ed9){var _0x1d15be=_0x5b0ec0;_0x2e9ed9[_0x1d15be(0x1a9)](_0x541d83[_0x1d15be(0x177)])[_0x1d15be(0x181)]();}),_0x312746['CtFxh'](_0x4d7470,_0x53e75a)['get']('/')[_0x5b0ec0(0x176)]('Referer',_0x312746['UHxoA'])[_0x5b0ec0(0x176)](_0x312746['SZbPn'],'/some/page2.html')[_0x5b0ec0(0x188)](_0x312746[_0x5b0ec0(0x19b)],'/some/page2.html')[_0x5b0ec0(0x188)](0xc8,_0x815b7b);}else _0x2c9186[_0x5b0ec0(0x1a9)](_0x5b0ec0(0x178))[_0x5b0ec0(0x181)]();}),request(_0x1dfbc4)[_0x40c775(0x170)]('/')[_0x40c775(0x188)](_0x40c775(0x18e),_0x40c775(0x1a5))[_0x40c775(0x188)](0xc8,_0x6730d5);}),it(_0x2cf031(0x1ae),function(_0x30457c){var _0x199280=_0x2cf031,_0x4f59c1=express();_0x4f59c1['use'](function(_0x10a91e,_0x588826){var _0x344dee=_0x38be,_0x208c1c={'hnics':_0x3e485d['zuzOv'],'zZSvM':_0x3e485d['Xxngy']};if(_0x3e485d[_0x344dee(0x1a3)](_0x3e485d[_0x344dee(0x17e)],_0x344dee(0x19e))){var _0x1e8fdd=_0x2b20fd();_0x1e8fdd[_0x344dee(0x18c)](function(_0x1f4b62,_0x535f6c){var _0x4ca0cc=_0x344dee;_0x535f6c[_0x4ca0cc(0x1a9)](_0x4ca0cc(0x16d))['end']();}),_0x54ce19(_0x1e8fdd)[_0x344dee(0x170)]('/')['set']('Referrer',_0x208c1c[_0x344dee(0x1aa)])[_0x344dee(0x188)](_0x208c1c[_0x344dee(0x16a)],'/some/page.html')['expect'](0xc8,_0x470afd);}else _0x588826['location'](_0x3e485d[_0x344dee(0x180)])[_0x344dee(0x181)]();}),_0x3e485d[_0x199280(0x1a2)](request,_0x4f59c1)[_0x199280(0x170)]('/')['expect']('Location','https://google.com?q=%A710')[_0x199280(0x188)](0xc8,_0x30457c);}),_0x5c1730[_0x2cf031(0x172)](describe,_0x5c1730[_0x2cf031(0x19c)],function(){var _0x5b4600=_0x2cf031,_0x128679={'DZHPU':_0x3e485d[_0x5b4600(0x1b1)],'qYgZE':function(_0x339473,_0x4ea555){return _0x3e485d['Sinwv'](_0x339473,_0x4ea555);},'xTMAx':'aScuI','nTsOv':_0x5b4600(0x16d)};_0x3e485d[_0x5b4600(0x18b)]!==_0x3e485d[_0x5b4600(0x18b)]?_0x4e691a[_0x5b4600(0x1a9)]('http://google.com')[_0x5b4600(0x181)]():(it('should\x20set\x20location\x20from\x20\x22Referer\x22\x20header',function(_0x2b76a0){var _0x236bce=_0x5b4600,_0x4ce593=express();_0x4ce593[_0x236bce(0x18c)](function(_0x33abc5,_0x7aedd){var _0x25ac6e=_0x236bce;_0x7aedd[_0x25ac6e(0x1a9)](_0x25ac6e(0x16d))[_0x25ac6e(0x181)]();}),request(_0x4ce593)['get']('/')[_0x236bce(0x176)](_0x128679[_0x236bce(0x1b3)],'/some/page.html')[_0x236bce(0x188)]('Location',_0x236bce(0x16e))[_0x236bce(0x188)](0xc8,_0x2b76a0);}),_0x3e485d[_0x5b4600(0x19d)](it,_0x5b4600(0x1b6),function(_0xb3f8d3){var _0x588f79=_0x5b4600,_0x274c94=_0x3e485d[_0x588f79(0x1ab)](express);_0x274c94[_0x588f79(0x18c)](function(_0x858153,_0x432d3d){var _0xeab4ef=_0x588f79;if(_0x128679[_0xeab4ef(0x192)](_0x128679[_0xeab4ef(0x1b0)],_0x128679['xTMAx'])){var _0x500c9d=_0x2a24ad();_0x500c9d[_0xeab4ef(0x18c)](function(_0x5d7946,_0x48d309){var _0x5eeee5=_0xeab4ef;_0x48d309[_0x5eeee5(0x1a9)](_0x5eeee5(0x1a6))[_0x5eeee5(0x181)]();}),_0x11fd8e(_0x500c9d)[_0xeab4ef(0x170)]('/')[_0xeab4ef(0x188)](_0xeab4ef(0x18e),_0xeab4ef(0x1a6))[_0xeab4ef(0x188)](0xc8,_0x1c67b7);}else _0x432d3d[_0xeab4ef(0x1a9)](_0x128679['nTsOv'])[_0xeab4ef(0x181)]();}),request(_0x274c94)[_0x588f79(0x170)]('/')[_0x588f79(0x176)](_0x3e485d[_0x588f79(0x184)],'/some/page.html')[_0x588f79(0x188)](_0x588f79(0x18e),_0x588f79(0x16e))[_0x588f79(0x188)](0xc8,_0xb3f8d3);}),_0x3e485d[_0x5b4600(0x1ac)](it,_0x5b4600(0x193),function(_0x19dd88){var _0x4f6025=_0x5b4600,_0x1035ef=express();_0x1035ef[_0x4f6025(0x18c)](function(_0x17b2e9,_0x41e86c){_0x41e86c['location'](_0x128679['nTsOv'])['end']();}),_0x3e485d[_0x4f6025(0x1a2)](request,_0x1035ef)[_0x4f6025(0x170)]('/')[_0x4f6025(0x176)](_0x4f6025(0x19a),_0x3e485d[_0x4f6025(0x17c)])[_0x4f6025(0x176)](_0x4f6025(0x1b8),_0x3e485d[_0x4f6025(0x19f)])['expect']('Location',_0x3e485d[_0x4f6025(0x19f)])[_0x4f6025(0x188)](0xc8,_0x19dd88);}),it(_0x3e485d['ecaWw'],function(_0x2f577e){var _0x366044=_0x5b4600,_0x149d23=express();_0x149d23[_0x366044(0x18c)](function(_0x2c188d,_0x50a779){var _0x553795=_0x366044;_0x50a779[_0x553795(0x1a9)](_0x553795(0x16d))[_0x553795(0x181)]();}),_0x3e485d['yCwdX'](request,_0x149d23)[_0x366044(0x170)]('/')[_0x366044(0x188)](_0x3e485d['Xxngy'],'/')[_0x366044(0x188)](0xc8,_0x2f577e);}));});});});function _0x364c(){var _0x5b3a24=['RFdnL','http://google.com','cCuDr','yCwdX','Sinwv','/some/page2.html','https://google.com?q=%E2%98%83%20%C2%A710','https://google.com?q=%A710','res','54468FmJzpU','location','hnics','rajyH','UyPnJ','4298841qKOPHi','should\x20not\x20touch\x20already-encoded\x20sequences\x20in\x20\x22url\x22','2066190LetGae','xTMAx','UgfRs','HKgkk','DZHPU','16wWORGt','LGSUN','should\x20set\x20location\x20from\x20\x22Referrer\x22\x20header','hWhQO','Referrer','zZSvM','rvUFH','19014gpjEgf','back','/some/page.html','OxSLs','get','45436600KWduzU','yZsxe','../','WHhJk','XQUGk','set','vHmEl','https://google.com?q=☃\x20§10','uzHdW','hiRIk','2513XMvxkh','jamHD','724419oAwkAb','gNhEg','26LrNjBk','SgnFx','end','should\x20encode\x20\x22url\x22','47955itcgtI','IsuME','supertest','HulGW','ANFpv','expect','EsBZe','MIXId','bqnPP','use','.location(url)','Location','mosQD','RfZBr','szede','qYgZE','should\x20prefer\x20\x22Referrer\x22\x20header','should\x20set\x20the\x20header\x20to\x20\x22/\x22\x20without\x20referrer','TUytZ','Xxngy','/some/page1.html','when\x20url\x20is\x20\x22back\x22','468scTqlf','Referer','KJHhk','RmDDr','TXwEv','PuSuA'];_0x364c=function(){return _0x5b3a24;};return _0x364c();}