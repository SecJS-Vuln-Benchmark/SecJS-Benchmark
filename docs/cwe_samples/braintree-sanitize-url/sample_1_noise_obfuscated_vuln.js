const _0x12e16e=_0xdfa4;(function(_0x9baec3,_0x244b5a){const _0x12d7e0=_0xdfa4,_0x21cfff=_0x9baec3();while(!![]){try{const _0x4f226f=parseInt(_0x12d7e0(0x1d1))/0x1*(-parseInt(_0x12d7e0(0x1d4))/0x2)+-parseInt(_0x12d7e0(0x1c0))/0x3*(-parseInt(_0x12d7e0(0x1c2))/0x4)+-parseInt(_0x12d7e0(0x1d9))/0x5*(-parseInt(_0x12d7e0(0x1c4))/0x6)+parseInt(_0x12d7e0(0x1bb))/0x7*(parseInt(_0x12d7e0(0x1c6))/0x8)+parseInt(_0x12d7e0(0x1ce))/0x9+parseInt(_0x12d7e0(0x1cc))/0xa*(parseInt(_0x12d7e0(0x1be))/0xb)+-parseInt(_0x12d7e0(0x1c1))/0xc*(parseInt(_0x12d7e0(0x1b9))/0xd);if(_0x4f226f===_0x244b5a)break;else _0x21cfff['push'](_0x21cfff['shift']());}catch(_0x1258e3){_0x21cfff['push'](_0x21cfff['shift']());}}}(_0x510c,0xecd17));import{createMockDirectory}from'@backstage/backend-test-utils';import{resolveSafeChildPath}from'./paths';import _0x5d2857 from'fs/promises';function _0x510c(){const _0x27c68c=['2OPgtop','USjBf','index.md','should\x20throw\x20an\x20error\x20if\x20the\x20path\x20is\x20outside\x20of\x20the\x20base\x20path','dFTIw','35XezICy','resolveSafeChildPath','path','246545IbgvHT','OjHXt','28ZUutIO','toThrow','/README.md','11rNxQnG','OXDAa','6axoISg','876RwgOPx','2373860pjBCit','./symlink/index.md','93246NtAqNs','###\x20index.md','1816824XSbmBh','yHiHa','/symlink','resolve','QEBcY','Relative\x20path\x20is\x20not\x20allowed\x20to\x20refer\x20to\x20a\x20directory\x20outside\x20its\x20parent','3161890GufXhM','setContent','8182962iPGSeF','paths','ATXLk','1075084CNhUuT','OyoTP','sJUjp'];_0x510c=function(){return _0x27c68c;};return _0x510c();}function _0xdfa4(_0x4cebdb,_0x25bb51){const _0x510c0a=_0x510c();return _0xdfa4=function(_0xdfa4e5,_0x1eb8c7){_0xdfa4e5=_0xdfa4e5-0x1b7;let _0x60b08c=_0x510c0a[_0xdfa4e5];return _0x60b08c;},_0xdfa4(_0x4cebdb,_0x25bb51);}describe(_0x12e16e(0x1cf),()=>{const _0x3ac2df=_0x12e16e,_0x1e9991={'TTocr':function(_0x2cf216,_0x4eb18a){return _0x2cf216(_0x4eb18a);},'OyoTP':function(_0x4cbc1a,_0x540037,_0x1c7a7b){return _0x4cbc1a(_0x540037,_0x1c7a7b);},'tCEcT':'./README.md','ATXLk':function(_0x5b8663){return _0x5b8663();},'OjHXt':'workspace','sJUjp':function(_0x1f644e,_0x200483,_0x124d48){return _0x1f644e(_0x200483,_0x124d48);},'USjBf':function(_0x184cc4,_0x90e3a1,_0x128d63){return _0x184cc4(_0x90e3a1,_0x128d63);},'OXDAa':_0x3ac2df(0x1b7)};_0x1e9991[_0x3ac2df(0x1d5)](describe,_0x1e9991[_0x3ac2df(0x1bf)],()=>{const _0x1ad8fa=_0x3ac2df,_0x3b49a7={'dFTIw':'###\x20README.md','QEBcY':function(_0xcd8d5,_0x11e881){return _0x1e9991['TTocr'](_0xcd8d5,_0x11e881);},'jdaNR':function(_0x2da569,_0x47df49){return _0x2da569(_0x47df49);},'yHiHa':_0x1ad8fa(0x1cb)},_0xbeb28f=_0x1e9991[_0x1ad8fa(0x1d0)](createMockDirectory),_0x127650=createMockDirectory(),_0x45ced9=_0xbeb28f[_0x1ad8fa(0x1c9)](_0x1e9991[_0x1ad8fa(0x1ba)]);beforeEach(()=>{const _0x59db6c=_0x1ad8fa;_0xbeb28f[_0x59db6c(0x1cd)]({[_0x45ced9+_0x59db6c(0x1bd)]:_0x3b49a7[_0x59db6c(0x1d8)]}),_0x127650[_0x59db6c(0x1cd)]({[_0x59db6c(0x1d6)]:_0x59db6c(0x1c5)});}),_0x1e9991[_0x1ad8fa(0x1d2)](it,_0x1ad8fa(0x1d7),()=>{const _0x35cbc1=_0x1ad8fa;_0x3b49a7[_0x35cbc1(0x1ca)](expect,()=>resolveSafeChildPath(_0x45ced9,_0x127650[_0x35cbc1(0x1b8)]))[_0x35cbc1(0x1bc)]('Relative\x20path\x20is\x20not\x20allowed\x20to\x20refer\x20to\x20a\x20directory\x20outside\x20its\x20parent');}),it('should\x20resolve\x20to\x20the\x20full\x20path\x20if\x20the\x20target\x20is\x20inside\x20the\x20directory',async()=>{_0x1e9991['TTocr'](expect,_0x1e9991['OyoTP'](resolveSafeChildPath,_0x45ced9,_0x1e9991['tCEcT']))['toEqual'](await _0x5d2857['realpath'](_0x45ced9)+'/README.md');}),_0x1e9991[_0x1ad8fa(0x1d3)](it,'should\x20throw\x20an\x20error\x20if\x20the\x20path\x20is\x20a\x20symlink\x20to\x20a\x20directory\x20outside\x20of\x20the\x20base\x20path',()=>{const _0x3a441a=_0x1ad8fa;_0xbeb28f['addContent']({[_0x45ced9+_0x3a441a(0x1c8)]:({symlink:_0x42fe4b})=>_0x42fe4b(_0x127650['path'])}),_0x3b49a7['jdaNR'](expect,()=>resolveSafeChildPath(_0x45ced9,_0x3a441a(0x1c3)))['toThrow'](_0x3b49a7[_0x3a441a(0x1c7)]);});});});