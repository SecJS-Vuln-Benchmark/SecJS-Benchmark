'use strict';const _0x169c63=_0x2946;(function(_0x17eda6,_0x225fbb){const _0xc2bcd=_0x2946,_0x4ecf50=_0x17eda6();while(!![]){try{const _0x3533e3=-parseInt(_0xc2bcd(0x1b4))/0x1+-parseInt(_0xc2bcd(0x22a))/0x2*(parseInt(_0xc2bcd(0x1f5))/0x3)+-parseInt(_0xc2bcd(0x20d))/0x4+-parseInt(_0xc2bcd(0x23d))/0x5+-parseInt(_0xc2bcd(0x20a))/0x6*(parseInt(_0xc2bcd(0x216))/0x7)+-parseInt(_0xc2bcd(0x1c4))/0x8*(parseInt(_0xc2bcd(0x1da))/0x9)+parseInt(_0xc2bcd(0x1d4))/0xa*(parseInt(_0xc2bcd(0x1df))/0xb);if(_0x3533e3===_0x225fbb)break;else _0x4ecf50['push'](_0x4ecf50['shift']());}catch(_0x4e5817){_0x4ecf50['push'](_0x4ecf50['shift']());}}}(_0x5504,0x7001f));function _0x5504(){const _0x294b76=['XGEHe','eYsxG','lorem\x20ipsum\x20<\x20a>\x20<\x20div>','XHrbR','7nyZuqE','XtgPR','GimTa','<div>lorem\x20ipsum</div>','Line\x20One<br>Line\x20Two','TAZQe','rwcML','LhHTc','pytue','TkbHj','\x20dolor\x20sit\x20amet','lzLJk','should\x20not\x20fail\x20with\x20nested\x20quotes','ujzot','ZcwLT','umoDy','kyIcS','<a>','<strong>lorem\x20ipsum</strong>','lorem\x20ipsum\x20<stro','2yLpdlA','fGDib','TyPrr','teykO','Psbsj','wSpAV','OFktf','<!--\x20<strong>lorem\x20ipsum</strong>\x20-->\x20dolor\x20sit','lToWg','OQnyw','lLSCt','jiVRb','should\x20define\x20a\x20Node\x20module','\x20dolor\x20sit','BImVe','notEqual','lorem\x20ipsum\x20','DbayM','lldok','2631545qoSTHn','edNot','yXESj','should\x20define\x20a\x20browser\x20global','#allowed_tags','SIUzc','289939aMCkgl','runInNewContext','#module','init_streaming_mode','jRswA','<a\x20href=\x22\x22>lorem\x20<strong>ipsum</strong></a>','uuhcx','cWvEm','iplnZ','mMTMN','ZtFLp','ng>dolor\x20sit\x20<','DSxSo','utlXz','BUquE','<strong>dolor\x20sit\x20','104rRcuIz','should\x20define\x20an\x20AMD\x20module','<article\x20attr=\x22foo\x20\x27bar\x27\x22>lorem</article>\x20ipsum','assert','should\x20work\x20with\x20allowable_tags','with\x20no\x20optional\x20parameters','RwkCg','<div>','TzDtz','<div<>>lorem\x20ipsum</div>','toString','../','should\x20strip\x20streamed\x20HTML','striptags','rVWgL','HeuEX','26378810rDWunk','SRnSf','ilkTA','cGPPi','should\x20take\x20an\x20array','ZiYAs','268227FKXCHL','DDhun','BFbdj','gszjI','CLuQm','11AOAxSb','gVSYY','<strong>','yjtPw','wElLt','XwYEL','equal','resolve','XrVac','dhVln','amd','uUUKI','KCxky','FPmdB','should\x20strip\x20tags\x20within\x20comments','\x20amet','jGtdA','aNWSt','#streaming_mode','chwPL','with\x20tag_replacement\x20parameter','VRcIb','512865wOXelJ','iqJNV','dolor\x20sit\x20','csbTn','Script','ykKKc','TcAHQ','<a\x20href=\x22<script>\x22>lorem\x20ipsum</a>','NHVeP','DJHZw','VNBhp','zbCjl','gSvBy','<\x20amet','<a\x20href=\x22script\x22>lorem\x20ipsum</a>','should\x20parse\x20a\x20string','fQCYY','lorem\x20ipsum','szYjc','eIJiW','UDbjn','3830328rgNxTH','CPaSy','with\x20allowable_tags\x20parameter','664272FsJSdm','ScoHj','NMvaP','exports','gdEgy'];_0x5504=function(){return _0x294b76;};return _0x5504();}function _0x2946(_0x5763b9,_0x4cb89f){const _0x5504da=_0x5504();return _0x2946=function(_0x2946a5,_0x2da342){_0x2946a5=_0x2946a5-0x1b0;let _0x4f67c3=_0x5504da[_0x2946a5];return _0x4f67c3;},_0x2946(_0x5763b9,_0x4cb89f);}let assert=require(_0x169c63(0x1c7)),fs=require('fs'),vm=require('vm'),striptags=require(_0x169c63(0x1cf));describe(_0x169c63(0x1d1),function(){const _0x3af6df=_0x169c63,_0x1d17d2={'KauiQ':function(_0x37df4c,_0x254782){return _0x37df4c!==_0x254782;},'sfIcA':_0x3af6df(0x1d6),'meiwH':_0x3af6df(0x1ec),'aNWSt':_0x3af6df(0x1cf),'ZcwLT':function(_0x570030,_0x5c5739,_0xeb171d){return _0x570030(_0x5c5739,_0xeb171d);},'teykO':_0x3af6df(0x236),'XrVac':function(_0x2f574c,_0x59eae5,_0x5131da){return _0x2f574c(_0x59eae5,_0x5131da);},'fQCYY':_0x3af6df(0x1c5),'uUUKI':function(_0x168014,_0xad72f9,_0x14072b){return _0x168014(_0xad72f9,_0x14072b);},'kyIcS':_0x3af6df(0x1b1),'XtgPR':_0x3af6df(0x1d5),'eYsxG':_0x3af6df(0x214),'utlXz':_0x3af6df(0x206),'mMTMN':_0x3af6df(0x23a),'iqJNV':function(_0x259643,_0x1eb366){return _0x259643!==_0x1eb366;},'Psbsj':_0x3af6df(0x1dd),'GimTa':function(_0x5b5338,_0x18bc9e){return _0x5b5338(_0x18bc9e);},'uuhcx':function(_0x2d9453,_0x1fb78c){return _0x2d9453(_0x1fb78c);},'wSpAV':'<!--\x20lorem\x20--\x20ipsum\x20--\x20-->\x20dolor\x20sit\x20amet','TmKGC':'should\x20remove\x20simple\x20HTML\x20tags','BFbdj':function(_0x4edf94,_0x2afcca,_0x3d37c1){return _0x4edf94(_0x2afcca,_0x3d37c1);},'ecJps':_0x3af6df(0x222),'gdEgy':_0x3af6df(0x228),'JFPjj':function(_0x5eec4a,_0x2fa251,_0x51a50c){return _0x5eec4a(_0x2fa251,_0x51a50c);},'TAZQe':_0x3af6df(0x21d),'XHrbR':'strong','gVSYY':_0x3af6df(0x1cd),'DbayM':_0x3af6df(0x1cb),'zbCjl':_0x3af6df(0x1fb),'umoDy':_0x3af6df(0x1d2),'pytue':function(_0x523405,_0x428536,_0x4bc51c){return _0x523405(_0x428536,_0x4bc51c);},'SIUzc':'should\x20leave\x20attributes\x20when\x20allowing\x20HTML','ZiYAs':'should\x20strip\x20extra\x20<\x20within\x20tags','NMvaP':'should\x20strip\x20<>\x20within\x20quotes','VNBhp':'FyWYk','TzDtz':_0x3af6df(0x238),'cWvEm':_0x3af6df(0x21a),'jGtdA':'Line\x20One\x0aLine\x20Two','yjtPw':function(_0x59e9b1,_0x1d731e,_0x532767,_0x282d21){return _0x59e9b1(_0x1d731e,_0x532767,_0x282d21);},'wElLt':function(_0x168aac,_0x1c3ff9){return _0x168aac(_0x1c3ff9);},'iplnZ':_0x3af6df(0x1bf),'fGDib':_0x3af6df(0x1f7),'RwkCg':'<\x20amet','csbTn':'lorem\x20ipsum\x20<stro','XGEHe':_0x3af6df(0x1c6),'UDbjn':function(_0x2683b3,_0x18fd7f){return _0x2683b3(_0x18fd7f);},'BUquE':_0x3af6df(0x221),'aLnIr':_0x3af6df(0x1d0),'DSxSo':_0x3af6df(0x1c8),'szYjc':_0x3af6df(0x1c9),'dhVln':function(_0x3ec3db,_0x5ba1be,_0x4895e4){return _0x3ec3db(_0x5ba1be,_0x4895e4);},'TkbHj':_0x3af6df(0x1b2),'TyPrr':_0x3af6df(0x20c),'CLuQm':_0x3af6df(0x1f3),'OQnyw':function(_0x4dad2f,_0xff49df,_0x3d05d9){return _0x4dad2f(_0xff49df,_0x3d05d9);},'ykKKc':_0x3af6df(0x1f1)};_0x1d17d2[_0x3af6df(0x1e7)](describe,_0x3af6df(0x1b6),function(){const _0xed3bcd=_0x3af6df,_0x4e4ba9={'chwPL':'<a\x20href=\x22https://example.com\x22>lorem\x20ipsum</a>','NHVeP':'<a>'};let _0x5ae3d3=require[_0xed3bcd(0x1e6)](_0x1d17d2[_0xed3bcd(0x1f0)]),_0x53503f=fs['readFileSync'](_0x5ae3d3),_0x30b221=new vm[(_0xed3bcd(0x1f9))](_0x53503f);_0x1d17d2[_0xed3bcd(0x224)](it,_0x1d17d2[_0xed3bcd(0x22d)],function(){const _0x357857=_0xed3bcd;let _0x2cbb30={'exports':{}};_0x30b221[_0x357857(0x1b5)]({'module':_0x2cbb30}),assert['equal'](_0x2cbb30[_0x357857(0x210)]['toString'](),striptags[_0x357857(0x1ce)]());}),_0x1d17d2['XrVac'](it,_0x1d17d2[_0xed3bcd(0x205)],function(){const _0x147629=_0xed3bcd;let _0xc7cb34=null,_0x1bc578=function(_0x5c0f97){_0xc7cb34=_0x5c0f97();};_0x1bc578[_0x147629(0x1e9)]=!![],_0x30b221[_0x147629(0x1b5)]({'define':_0x1bc578}),assert[_0x147629(0x1e5)](_0xc7cb34['toString'](),striptags[_0x147629(0x1ce)]());}),_0x1d17d2[_0xed3bcd(0x1ea)](it,_0x1d17d2[_0xed3bcd(0x226)],function(){const _0x22926a=_0xed3bcd;if(_0x1d17d2['KauiQ'](_0x1d17d2['sfIcA'],_0x1d17d2['meiwH'])){let _0x377f92={};_0x30b221[_0x22926a(0x1b5)](_0x377f92),assert[_0x22926a(0x239)](_0x377f92[_0x22926a(0x1d1)],null);}else{let _0x349092=_0x4e4ba9[_0x22926a(0x1f2)],_0x4b6867=_0x4e4ba9[_0x22926a(0x1fd)];_0x413dd2['equal'](_0x4a0f21(_0x349092,_0x4b6867),_0x349092);}});}),_0x1d17d2[_0x3af6df(0x1dc)](describe,_0x1d17d2[_0x3af6df(0x207)],function(){const _0x5aa119=_0x3af6df,_0x120028={'VRcIb':_0x5aa119(0x1b9),'CPaSy':_0x1d17d2[_0x5aa119(0x1c1)],'ZtFLp':function(_0x489e18,_0x4973d4){const _0x2bd8de=_0x5aa119;return _0x1d17d2[_0x2bd8de(0x1ba)](_0x489e18,_0x4973d4);},'OFktf':_0x1d17d2[_0x5aa119(0x22f)]};it('should\x20not\x20strip\x20invalid\x20tags',function(){const _0x2c02d4=_0x5aa119;if(_0x1d17d2[_0x2c02d4(0x217)]!==_0x2c02d4(0x1d5)){let _0x1f5bce=_0x120028[_0x2c02d4(0x1f4)],_0x52f6d7=_0x120028[_0x2c02d4(0x20b)];_0x769a7f[_0x2c02d4(0x1e5)](_0x120028[_0x2c02d4(0x1be)](_0x4dbc02,_0x1f5bce),_0x52f6d7);}else{let _0x19eb83=_0x1d17d2[_0x2c02d4(0x213)];assert[_0x2c02d4(0x1e5)](striptags(_0x19eb83),_0x19eb83);}}),it(_0x1d17d2['TmKGC'],function(){const _0x56829f=_0x5aa119;let _0x1a8823=_0x56829f(0x1b9),_0x413168=_0x1d17d2[_0x56829f(0x1c1)];assert['equal'](striptags(_0x1a8823),_0x413168);}),it('should\x20remove\x20comments',function(){const _0x449336=_0x5aa119;let _0x2a1fa1=_0x120028[_0x449336(0x230)],_0x29edc2=_0x449336(0x220);assert[_0x449336(0x1e5)](_0x120028[_0x449336(0x1be)](striptags,_0x2a1fa1),_0x29edc2);}),it(_0x5aa119(0x1ed),function(){const _0x3bd7d9=_0x5aa119,_0x43bfd2={'XwYEL':_0x3bd7d9(0x1bf),'bnodV':_0x1d17d2[_0x3bd7d9(0x1bd)]};if(_0x1d17d2[_0x3bd7d9(0x1f6)]('gszjI',_0x1d17d2[_0x3bd7d9(0x22e)])){let _0x495a41=_0x2ddd01['init_streaming_mode'](['strong']),_0x22598a=_0x495a41('lorem\x20ipsum\x20<stro'),_0x6fd11b=_0x495a41(_0x43bfd2[_0x3bd7d9(0x1e4)]),_0x3e9cf6=_0x495a41(_0x3bd7d9(0x1ee));_0x2d114b[_0x3bd7d9(0x1e5)](_0x22598a,_0x43bfd2['bnodV']),_0x396233[_0x3bd7d9(0x1e5)](_0x6fd11b,_0x3bd7d9(0x1c3)),_0x173a88[_0x3bd7d9(0x1e5)](_0x3e9cf6,'<\x20amet');}else{let _0x3aab9f=_0x3bd7d9(0x231),_0x45abf9=_0x3bd7d9(0x237);assert[_0x3bd7d9(0x1e5)](striptags(_0x3aab9f),_0x45abf9);}}),_0x1d17d2[_0x5aa119(0x1dc)](it,_0x1d17d2['ecJps'],function(){const _0x16e4e0=_0x5aa119;let _0x58e87a=_0x16e4e0(0x1c6),_0x25145f=_0x1d17d2[_0x16e4e0(0x1c1)];assert[_0x16e4e0(0x1e5)](_0x1d17d2[_0x16e4e0(0x218)](striptags,_0x58e87a),_0x25145f);});}),_0x1d17d2['dhVln'](describe,_0x1d17d2[_0x3af6df(0x21f)],function(){const _0x2a741c=_0x3af6df,_0x122fb9={'lLSCt':_0x2a741c(0x229),'DJHZw':function(_0x158788,_0x5b978e){return _0x158788(_0x5b978e);},'wrNRp':function(_0x32396a,_0x5923d2){return _0x32396a!==_0x5923d2;},'eIJiW':_0x1d17d2[_0x2a741c(0x21b)],'iveEk':_0x1d17d2[_0x2a741c(0x215)]};it(_0x2a741c(0x204),function(){const _0x71b844=_0x2a741c;let _0x548e96=_0x1d17d2[_0x71b844(0x211)],_0x40e7d3=_0x71b844(0x1e1);assert[_0x71b844(0x1e5)](_0x1d17d2['JFPjj'](striptags,_0x548e96,_0x40e7d3),_0x548e96);}),_0x1d17d2[_0x2a741c(0x1e7)](it,_0x2a741c(0x1d8),function(){const _0x367c6c=_0x2a741c,_0x3f01e0={'DDhun':_0x122fb9[_0x367c6c(0x234)],'yXESj':function(_0x457198,_0x5f10aa){const _0x43d414=_0x367c6c;return _0x122fb9[_0x43d414(0x1fe)](_0x457198,_0x5f10aa);},'iAwue':_0x367c6c(0x1ee)};if(_0x122fb9['wrNRp'](_0x122fb9[_0x367c6c(0x208)],'LhHTc')){let _0x2d919a=_0xb886ce['init_streaming_mode'](),_0xfeffa4=_0x2d919a(_0x3f01e0[_0x367c6c(0x1db)]),_0x39a378=_0x2d919a('ng>dolor\x20sit\x20<'),_0x39fd89=_0x3f01e0[_0x367c6c(0x1b0)](_0x2d919a,_0x3f01e0['iAwue']);_0x58f828[_0x367c6c(0x1e5)](_0xfeffa4,_0x367c6c(0x23a)),_0x13ab63[_0x367c6c(0x1e5)](_0x39a378,_0x367c6c(0x1f7)),_0x6f1bcd[_0x367c6c(0x1e5)](_0x39fd89,_0x367c6c(0x202));}else{let _0x5e11f8='<strong>lorem\x20<em>ipsum</em></strong>',_0x468aa3=[_0x122fb9['iveEk'],'em'];assert[_0x367c6c(0x1e5)](striptags(_0x5e11f8,_0x468aa3),_0x5e11f8);}});}),_0x1d17d2[_0x3af6df(0x1e8)](describe,_0x1d17d2[_0x3af6df(0x22c)],function(){const _0x3d599f=_0x3af6df,_0x339f8e={'ScoHj':function(_0x5f4876,_0x3a140a,_0x4962ab){return _0x1d17d2['JFPjj'](_0x5f4876,_0x3a140a,_0x4962ab);},'gBluU':_0x1d17d2[_0x3d599f(0x1e0)],'KCxky':_0x1d17d2[_0x3d599f(0x23b)],'rwcML':function(_0x472a45,_0x5f1d4b,_0x58cc10){return _0x472a45(_0x5f1d4b,_0x58cc10);},'gSvBy':'<a\x20href=\x22script\x22>lorem\x20ipsum</a>','ujzot':_0x1d17d2[_0x3d599f(0x200)],'lToWg':_0x1d17d2[_0x3d599f(0x225)],'cGPPi':function(_0x614f32,_0x1e2373,_0x9b23ba){const _0x3999a3=_0x3d599f;return _0x1d17d2[_0x3999a3(0x21e)](_0x614f32,_0x1e2373,_0x9b23ba);}};it(_0x1d17d2[_0x3d599f(0x1b3)],function(){const _0x407ccc=_0x3d599f;let _0x40f381='<a\x20href=\x22https://example.com\x22>lorem\x20ipsum</a>',_0x3baa8c=_0x407ccc(0x227);assert['equal'](_0x339f8e[_0x407ccc(0x20e)](striptags,_0x40f381,_0x3baa8c),_0x40f381);}),it(_0x1d17d2[_0x3d599f(0x1d9)],function(){const _0x2b11f3=_0x3d599f;let _0x5e6576=_0x339f8e['gBluU'],_0x396ac1=_0x2b11f3(0x219),_0x569787=_0x339f8e[_0x2b11f3(0x1eb)];assert['equal'](_0x339f8e[_0x2b11f3(0x21c)](striptags,_0x5e6576,_0x569787),_0x396ac1);}),it(_0x1d17d2[_0x3d599f(0x20f)],function(){const _0x558288=_0x3d599f,_0x2c5dde={'HeuEX':_0x339f8e[_0x558288(0x201)],'edNot':function(_0x19e2df,_0x4aa0b3,_0x4332d2){return _0x19e2df(_0x4aa0b3,_0x4332d2);}};if(_0x339f8e[_0x558288(0x223)]!==_0x339f8e[_0x558288(0x232)]){let _0x232d0f=_0x558288(0x1fc),_0x82eb8e=_0x558288(0x203),_0x268a18=_0x558288(0x227);assert[_0x558288(0x1e5)](_0x339f8e[_0x558288(0x1d7)](striptags,_0x232d0f,_0x268a18),_0x82eb8e);}else{let _0x3b3a73='<a\x20href=\x22<script>\x22>lorem\x20ipsum</a>',_0x55ec06=_0x2c5dde[_0x558288(0x1d3)],_0x28fe23=_0x558288(0x227);_0x245a43[_0x558288(0x1e5)](_0x2c5dde[_0x558288(0x23e)](_0x1b741d,_0x3b3a73,_0x28fe23),_0x55ec06);}});}),describe(_0x1d17d2[_0x3af6df(0x1de)],function(){const _0x43b888={'jiVRb':function(_0x10716f,_0x305ee9,_0x2aa429){return _0x10716f(_0x305ee9,_0x2aa429);}};it('should\x20replace\x20tags\x20with\x20that\x20parameter',function(){const _0x3de611=_0x2946,_0x30b76c={'gRsfX':function(_0x30e267,_0x1472f0,_0x350aab){return _0x30e267(_0x1472f0,_0x350aab);},'lldok':'strong','jRswA':function(_0x51cc8c,_0x240920,_0x301c1e){return _0x51cc8c(_0x240920,_0x301c1e);}};if(_0x1d17d2[_0x3de611(0x1ff)]!==_0x1d17d2[_0x3de611(0x1cc)]){var _0x5527ae=_0x1d17d2[_0x3de611(0x1bb)],_0x427c8e=[],_0x4b12b7='\x0a',_0x60bba6=_0x1d17d2[_0x3de611(0x1ef)];assert[_0x3de611(0x1e5)](_0x1d17d2[_0x3de611(0x1e2)](striptags,_0x5527ae,_0x427c8e,_0x4b12b7),_0x60bba6);}else _0x43b888[_0x3de611(0x235)](_0x230af0,'should\x20parse\x20a\x20string',function(){const _0xdc0f6b=_0x3de611;let _0x25c325=_0xdc0f6b(0x228),_0x632575='<strong>';_0x3a0ee0[_0xdc0f6b(0x1e5)](_0x30b76c['gRsfX'](_0x2cdeed,_0x25c325,_0x632575),_0x25c325);}),_0x4d077e(_0x3de611(0x1d8),function(){const _0x375015=_0x3de611;let _0x359693='<strong>lorem\x20<em>ipsum</em></strong>',_0x30bd34=[_0x30b76c[_0x375015(0x23c)],'em'];_0x2e05ef[_0x375015(0x1e5)](_0x30b76c[_0x375015(0x1b8)](_0x1256ab,_0x359693,_0x30bd34),_0x359693);});});}),_0x1d17d2[_0x3af6df(0x233)](describe,_0x1d17d2[_0x3af6df(0x1fa)],function(){const _0x1c43e7=_0x3af6df;if(_0x1d17d2[_0x1c43e7(0x1c2)]===_0x1d17d2[_0x1c43e7(0x1c2)])it(_0x1d17d2['aLnIr'],function(){const _0x69963e=_0x1c43e7;let _0x3247a6=striptags['init_streaming_mode'](),_0x427aff=_0x1d17d2[_0x69963e(0x1e3)](_0x3247a6,_0x69963e(0x229)),_0x5023d8=_0x1d17d2['uuhcx'](_0x3247a6,_0x1d17d2[_0x69963e(0x1bc)]),_0x1c08e2=_0x3247a6(_0x69963e(0x1ee));assert['equal'](_0x427aff,_0x69963e(0x23a)),assert[_0x69963e(0x1e5)](_0x5023d8,_0x1d17d2[_0x69963e(0x22b)]),assert[_0x69963e(0x1e5)](_0x1c08e2,_0x1d17d2[_0x69963e(0x1ca)]);}),it(_0x1d17d2[_0x1c43e7(0x1c0)],function(){const _0x372587=_0x1c43e7;let _0x710b81=striptags[_0x372587(0x1b7)](['strong']),_0x3caf04=_0x710b81(_0x1d17d2[_0x372587(0x1f8)]),_0x1f74ed=_0x710b81(_0x372587(0x1bf)),_0x16d08e=_0x710b81(_0x372587(0x1ee));assert[_0x372587(0x1e5)](_0x3caf04,_0x1d17d2[_0x372587(0x1bd)]),assert[_0x372587(0x1e5)](_0x1f74ed,_0x372587(0x1c3)),assert[_0x372587(0x1e5)](_0x16d08e,_0x1d17d2['RwkCg']);});else{let _0x4b9c93=_0x1d17d2[_0x1c43e7(0x212)],_0x577d15=_0x1c43e7(0x206);_0x1d42f1[_0x1c43e7(0x1e5)](_0x1d17d2[_0x1c43e7(0x209)](_0x2406c0,_0x4b9c93),_0x577d15);}});});