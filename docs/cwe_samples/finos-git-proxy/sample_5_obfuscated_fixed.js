'use strict';function _0xa7ed(){const _0x3627bb=['strong','ItKHU','should\x20not\x20strip\x20invalid\x20tags','../','#allowed_tags','notEqual','TduTJ','readFileSync','uVUsA','doeWL','with\x20allowable_tags\x20parameter','Qtsnx','striptags','RiSDc','zskvf','HHVUg','FIWCW','VapTu','eVNHU','FguGG','ng>dolor\x20sit\x20<','lorem\x20ipsum','xzAln','PeJxW','QgyBG','<div>','REWhN','Line\x20One\x0aLine\x20Two','<strong>lorem\x20ipsum</strong>','664210jnmluf','toString','GoQla','193604rYVrPT','62572kHmxof','18DvXIoB','HQpvR','should\x20define\x20an\x20AMD\x20module','throws','<strong>','tKSJL','KzbTD','GxGUT','exports','should\x20leave\x20attributes\x20when\x20allowing\x20HTML','QpHgq','Line\x20One<br>Line\x20Two','jrqOw','SUyEE','lorem\x20ipsum\x20<stro','UqRuZ','should\x20take\x20an\x20array','<strong>dolor\x20sit\x20','Script','should\x20remove\x20comments','3219008IJMzhO','runInNewContext','kkHJO','FmAcK','qYRLz','36260PuYKNQ','amd','ZTRDR','367591hlbAbC','should\x20remove\x20simple\x20HTML\x20tags','dolor\x20sit\x20','luQge','should\x20strip\x20streamed\x20HTML','aCDRg','assert','YSuQM','\x20dolor\x20sit\x20amet','should\x20define\x20a\x20Node\x20module','FKjup','kIbtW','axuZp','crqRD','should\x20strip\x20<>\x20within\x20quotes','type-confusion','with\x20tag_replacement\x20parameter','\x20amet','<div<>>lorem\x20ipsum</div>','#module','<article\x20attr=\x22foo\x20\x27bar\x27\x22>lorem</article>\x20ipsum','Ymczm','<!--\x20<strong>lorem\x20ipsum</strong>\x20-->\x20dolor\x20sit','jpPmB','with\x20no\x20optional\x20parameters','BbWNh','<a\x20href=\x22script\x22>lorem\x20ipsum</a>','QaaHu','lRHdF','Qqykj','qAeio','ZgDHB','<a\x20href=\x22\x22>lorem\x20<strong>ipsum</strong></a>','<!--\x20lorem\x20--\x20ipsum\x20--\x20-->\x20dolor\x20sit\x20amet','<\x20amet','LHaIr','init_streaming_mode','\x20dolor\x20sit','ncEGc','HxSes','FEddr','gVoBY','equal','LNgYn','YtCkK','DeEje','wvbjA','aPsrI','GHSL-2021-074','lorem\x20ipsum\x20','54183JAOhPD'];_0xa7ed=function(){return _0x3627bb;};return _0xa7ed();}const _0x4673ea=_0x159f;(function(_0x2c3f46,_0x21a9da){const _0x1bf93c=_0x159f,_0x5132ee=_0x2c3f46();while(!![]){try{const _0x10989d=parseInt(_0x1bf93c(0xd9))/0x1+-parseInt(_0x1bf93c(0xd6))/0x2+parseInt(_0x1bf93c(0x129))/0x3+-parseInt(_0x1bf93c(0xda))/0x4+parseInt(_0x1bf93c(0xf4))/0x5*(parseInt(_0x1bf93c(0xdb))/0x6)+-parseInt(_0x1bf93c(0xf7))/0x7+parseInt(_0x1bf93c(0xef))/0x8;if(_0x10989d===_0x21a9da)break;else _0x5132ee['push'](_0x5132ee['shift']());}catch(_0x4bfd85){_0x5132ee['push'](_0x5132ee['shift']());}}}(_0xa7ed,0x39810));function _0x159f(_0x244a4e,_0x40f593){const _0xa7ed29=_0xa7ed();return _0x159f=function(_0x159f89,_0x2dd476){_0x159f89=_0x159f89-0xca;let _0x151901=_0xa7ed29[_0x159f89];return _0x151901;},_0x159f(_0x244a4e,_0x40f593);}let assert=require(_0x4673ea(0xfd)),fs=require('fs'),vm=require('vm'),striptags=require(_0x4673ea(0x12d));describe('striptags',function(){const _0x35041e=_0x4673ea,_0x3f3c89={'GoQla':function(_0x5a8f96){return _0x5a8f96();},'VapTu':function(_0x4d0b02,_0x21fdfc){return _0x4d0b02===_0x21fdfc;},'FEddr':function(_0x43d1b4,_0x2ef1a4,_0x5a7704){return _0x43d1b4(_0x2ef1a4,_0x5a7704);},'jvaXA':_0x35041e(0xdd),'SUyEE':'should\x20define\x20a\x20browser\x20global','QgyBG':function(_0x514653,_0x3974af){return _0x514653(_0x3974af);},'zskvf':function(_0x6128bb,_0x5995bd){return _0x6128bb(_0x5995bd);},'lRHdF':_0x35041e(0x117),'YtCkK':_0x35041e(0xce),'GsGOe':_0x35041e(0xf8),'fXRfq':_0x35041e(0xee),'iMszH':'should\x20not\x20fail\x20with\x20nested\x20quotes','BbWNh':_0x35041e(0xd5),'LmHIP':_0x35041e(0xdf),'GxGUT':function(_0x29f90a,_0x4e592b,_0x36bd08){return _0x29f90a(_0x4e592b,_0x36bd08);},'ZwlFu':'should\x20parse\x20a\x20string','uVUsA':'<a\x20href=\x22https://example.com\x22>lorem\x20ipsum</a>','ncEGc':_0x35041e(0x109),'Ymczm':'<a\x20href=\x22<script>\x22>lorem\x20ipsum</a>','jrqOw':_0x35041e(0x115),'wvDes':'NNIvh','UqRuZ':_0x35041e(0xe4),'RiSDc':_0x35041e(0x105),'PeJxW':'should\x20replace\x20tags\x20with\x20that\x20parameter','aPsrI':_0x35041e(0x128),'FIWCW':'ZgDHB','luQge':_0x35041e(0xfb),'wvbjA':function(_0x2fd608,_0xa17559){return _0x2fd608(_0xa17559);},'REWhN':_0x35041e(0x106),'Qtsnx':function(_0x1cf87d,_0x59b789,_0x3d6284){return _0x1cf87d(_0x59b789,_0x3d6284);},'QpHgq':_0x35041e(0x10f),'qYRLz':_0x35041e(0x107),'muEQV':_0x35041e(0x127)};describe(_0x35041e(0x10a),function(){const _0x10eb22=_0x35041e,_0xc3a688={'QaaHu':'<strong>lorem\x20ipsum</strong>','TduTJ':function(_0xdb1327,_0x4bd087,_0x171b11){return _0xdb1327(_0x4bd087,_0x171b11);},'gVoBY':function(_0xcd2b00){const _0x2c1557=_0x159f;return _0x3f3c89[_0x2c1557(0xd8)](_0xcd2b00);},'HWvXR':function(_0x291f39,_0x1359ad){const _0x2890fb=_0x159f;return _0x3f3c89[_0x2890fb(0xca)](_0x291f39,_0x1359ad);}};let _0x2c2d04=require['resolve'](_0x10eb22(0x12d)),_0x43db80=fs[_0x10eb22(0x131)](_0x2c2d04),_0x141b5a=new vm[(_0x10eb22(0xed))](_0x43db80);it(_0x10eb22(0x100),function(){const _0x11be71=_0x10eb22;let _0xe70af5={'exports':{}};_0x141b5a[_0x11be71(0xf0)]({'module':_0xe70af5}),assert['equal'](_0xe70af5[_0x11be71(0xe3)][_0x11be71(0xd7)](),striptags['toString']());}),_0x3f3c89[_0x10eb22(0x11f)](it,_0x3f3c89['jvaXA'],function(){const _0x4a83b7=_0x10eb22;if(_0xc3a688['HWvXR'](_0x4a83b7(0x133),'hYDBt')){let _0x1dfeef=_0xc3a688[_0x4a83b7(0x112)],_0x156e01=_0x4a83b7(0xdf);_0x298a4d[_0x4a83b7(0x121)](_0xc3a688[_0x4a83b7(0x130)](_0x969a82,_0x1dfeef,_0x156e01),_0x1dfeef);}else{let _0x1d3ab0=null,_0x167850=function(_0x31e9a0){const _0x572cda=_0x4a83b7;_0x1d3ab0=_0xc3a688[_0x572cda(0x120)](_0x31e9a0);};_0x167850[_0x4a83b7(0xf5)]=!![],_0x141b5a[_0x4a83b7(0xf0)]({'define':_0x167850}),assert[_0x4a83b7(0x121)](_0x1d3ab0[_0x4a83b7(0xd7)](),striptags[_0x4a83b7(0xd7)]());}}),it(_0x3f3c89[_0x10eb22(0xe8)],function(){const _0x168ce9=_0x10eb22;let _0x341b4d={};_0x141b5a[_0x168ce9(0xf0)](_0x341b4d),assert[_0x168ce9(0x12f)](_0x341b4d[_0x168ce9(0x136)],null);});}),_0x3f3c89['Qtsnx'](describe,_0x3f3c89[_0x35041e(0xe5)],function(){const _0x26c4c5=_0x35041e,_0x8bcec5={'xzAln':function(_0x4cbb32,_0x243703){const _0x25551c=_0x159f;return _0x3f3c89[_0x25551c(0xd1)](_0x4cbb32,_0x243703);},'PEmPZ':_0x3f3c89[_0x26c4c5(0x113)],'Qqykj':_0x3f3c89[_0x26c4c5(0x123)],'DeEje':_0x26c4c5(0x10b)};it(_0x26c4c5(0x12c),function(){const _0x2bf72a=_0x26c4c5;let _0x358479='lorem\x20ipsum\x20<\x20a>\x20<\x20div>';assert[_0x2bf72a(0x121)](_0x8bcec5[_0x2bf72a(0xcf)](striptags,_0x358479),_0x358479);}),it(_0x3f3c89['GsGOe'],function(){const _0x5b7595=_0x26c4c5;let _0x4c4503=_0x8bcec5['PEmPZ'],_0x29513e=_0x8bcec5[_0x5b7595(0x114)];assert['equal'](_0x8bcec5['xzAln'](striptags,_0x4c4503),_0x29513e);}),it(_0x3f3c89['fXRfq'],function(){const _0x48810a=_0x26c4c5;let _0x3ef05c=_0x48810a(0x118),_0x2c0177=_0x48810a(0xff);assert[_0x48810a(0x121)](_0x3f3c89[_0x48810a(0xd1)](striptags,_0x3ef05c),_0x2c0177);}),it('should\x20strip\x20tags\x20within\x20comments',function(){const _0x3d0d10=_0x26c4c5;let _0x1e6079=_0x3d0d10(0x10d),_0x564a8c=_0x3d0d10(0x11c);assert[_0x3d0d10(0x121)](_0x3f3c89[_0x3d0d10(0x138)](striptags,_0x1e6079),_0x564a8c);}),it(_0x3f3c89['iMszH'],function(){const _0x915bdf=_0x26c4c5;let _0x3029dd=_0x8bcec5[_0x915bdf(0x124)],_0x367dea='lorem\x20ipsum';assert[_0x915bdf(0x121)](_0x8bcec5[_0x915bdf(0xcf)](striptags,_0x3029dd),_0x367dea);});}),describe(_0x35041e(0x12e),function(){const _0x344f0e=_0x35041e,_0x433549={'FmAcK':_0x3f3c89[_0x344f0e(0x110)],'tKSJL':_0x3f3c89['LmHIP'],'HHVUg':function(_0x4a0f40,_0x3cdeb4,_0x40bc77){const _0x3cd5a8=_0x344f0e;return _0x3f3c89[_0x3cd5a8(0x11f)](_0x4a0f40,_0x3cdeb4,_0x40bc77);}};_0x3f3c89[_0x344f0e(0xe2)](it,_0x3f3c89['ZwlFu'],function(){const _0x309d64=_0x344f0e;let _0x5ed6ae=_0x433549[_0x309d64(0xf2)],_0x15a148=_0x433549[_0x309d64(0xe0)];assert[_0x309d64(0x121)](_0x433549[_0x309d64(0x139)](striptags,_0x5ed6ae,_0x15a148),_0x5ed6ae);}),it(_0x344f0e(0xeb),function(){const _0x55dc30=_0x344f0e;let _0x1174cc='<strong>lorem\x20<em>ipsum</em></strong>',_0x15a1b7=[_0x55dc30(0x12a),'em'];assert['equal'](striptags(_0x1174cc,_0x15a1b7),_0x1174cc);});}),_0x3f3c89[_0x35041e(0x135)](describe,_0x35041e(0x134),function(){const _0x4d9d08=_0x35041e,_0x1f628b={'LNgYn':_0x3f3c89[_0x4d9d08(0x132)],'FguGG':_0x3f3c89[_0x4d9d08(0x11d)],'YSuQM':_0x3f3c89[_0x4d9d08(0x10c)],'kIbtW':_0x4d9d08(0x111)};if(_0x3f3c89[_0x4d9d08(0xe7)]===_0x3f3c89['wvDes']){let _0x20d3f1=null,_0x31ffc4=function(_0x203180){_0x20d3f1=_0x203180();};_0x31ffc4['amd']=!![],_0x50f7c3[_0x4d9d08(0xf0)]({'define':_0x31ffc4}),_0x11de51['equal'](_0x20d3f1[_0x4d9d08(0xd7)](),_0xe31aa4[_0x4d9d08(0xd7)]());}else _0x3f3c89[_0x4d9d08(0xe2)](it,_0x3f3c89[_0x4d9d08(0xea)],function(){const _0x1721e5=_0x4d9d08;let _0xe54269=_0x1f628b[_0x1721e5(0x122)],_0x1dfc04='<a>';assert[_0x1721e5(0x121)](striptags(_0xe54269,_0x1dfc04),_0xe54269);}),it('should\x20strip\x20extra\x20<\x20within\x20tags',function(){const _0x5375e8=_0x4d9d08;let _0x3052af=_0x1f628b[_0x5375e8(0xcc)],_0x57c87d='<div>lorem\x20ipsum</div>',_0x1406bc=_0x5375e8(0xd2);assert['equal'](striptags(_0x3052af,_0x1406bc),_0x57c87d);}),it(_0x3f3c89[_0x4d9d08(0x137)],function(){const _0x3640ad=_0x4d9d08;let _0x2b0665=_0x1f628b[_0x3640ad(0xfe)],_0x3d3235=_0x1f628b[_0x3640ad(0x102)],_0x8e6ca8='<a>';assert[_0x3640ad(0x121)](striptags(_0x2b0665,_0x8e6ca8),_0x3d3235);});}),describe(_0x3f3c89[_0x35041e(0xf3)],function(){const _0xc9d9db=_0x35041e,_0x2ecf95={'ItKHU':function(_0x533b1b,_0x3596c3,_0x2e8bd6,_0x513a3e){return _0x533b1b(_0x3596c3,_0x2e8bd6,_0x513a3e);}};_0x3f3c89['GxGUT'](it,_0x3f3c89[_0xc9d9db(0xd0)],function(){const _0x48a450=_0xc9d9db;var _0x5ad858=_0x48a450(0xe6),_0x56e761=[],_0x4033ec='\x0a',_0x259237=_0x48a450(0xd4);assert[_0x48a450(0x121)](_0x2ecf95[_0x48a450(0x12b)](striptags,_0x5ad858,_0x56e761,_0x4033ec),_0x259237);});}),describe('#streaming_mode',function(){const _0x37e41e=_0x35041e,_0x3204e6={'axuZp':_0x37e41e(0xff),'KzbTD':_0x37e41e(0x11e),'HQpvR':_0x37e41e(0xe9),'eVNHU':function(_0x19f91c,_0x202a60){const _0x3cc093=_0x37e41e;return _0x3f3c89[_0x3cc093(0x138)](_0x19f91c,_0x202a60);},'aCDRg':_0x37e41e(0x108),'LHaIr':_0x3f3c89[_0x37e41e(0x126)],'kkHJO':_0x37e41e(0x12a),'jpPmB':'ng>dolor\x20sit\x20<'};if(_0x3f3c89[_0x37e41e(0x13a)]===_0x37e41e(0x116))it(_0x3f3c89[_0x37e41e(0xfa)],function(){const _0x5dc8f5=_0x37e41e;if(_0x3204e6[_0x5dc8f5(0xe1)]!==_0x5dc8f5(0x104)){let _0x4af1cb=striptags['init_streaming_mode'](),_0x18fed0=_0x4af1cb(_0x3204e6[_0x5dc8f5(0xdc)]),_0x4c308e=_0x3204e6['eVNHU'](_0x4af1cb,'ng>dolor\x20sit\x20<'),_0x4bc575=_0x3204e6[_0x5dc8f5(0xcb)](_0x4af1cb,_0x3204e6[_0x5dc8f5(0xfc)]);assert[_0x5dc8f5(0x121)](_0x18fed0,_0x3204e6[_0x5dc8f5(0x11a)]),assert[_0x5dc8f5(0x121)](_0x4c308e,_0x5dc8f5(0xf9)),assert[_0x5dc8f5(0x121)](_0x4bc575,_0x5dc8f5(0x119));}else{let _0x39a57c=_0x5dc8f5(0x118),_0x18e8d4=_0x3204e6[_0x5dc8f5(0x103)];_0x1baf05[_0x5dc8f5(0x121)](_0x56659b(_0x39a57c),_0x18e8d4);}}),_0x3f3c89[_0x37e41e(0x11f)](it,'should\x20work\x20with\x20allowable_tags',function(){const _0x24e9c0=_0x37e41e;let _0x133415=striptags['init_streaming_mode']([_0x3204e6[_0x24e9c0(0xf1)]]),_0x1a8230=_0x133415('lorem\x20ipsum\x20<stro'),_0x2fed98=_0x133415(_0x3204e6[_0x24e9c0(0x10e)]),_0x41f3fe=_0x133415(_0x3204e6[_0x24e9c0(0xfc)]);assert[_0x24e9c0(0x121)](_0x1a8230,_0x24e9c0(0x128)),assert[_0x24e9c0(0x121)](_0x2fed98,_0x24e9c0(0xec)),assert[_0x24e9c0(0x121)](_0x41f3fe,_0x24e9c0(0x119));});else{let _0x311e83=_0x2aa013[_0x37e41e(0x11b)]([_0x37e41e(0x12a)]),_0x2f1629=_0x311e83(_0x37e41e(0xe9)),_0x139836=_0x311e83(_0x37e41e(0xcd)),_0x49a5ba=_0x3f3c89[_0x37e41e(0xd1)](_0x311e83,_0x37e41e(0x108));_0x7994ff[_0x37e41e(0x121)](_0x2f1629,_0x3f3c89[_0x37e41e(0x126)]),_0x1dcada[_0x37e41e(0x121)](_0x139836,_0x37e41e(0xec)),_0x4b5656[_0x37e41e(0x121)](_0x49a5ba,_0x37e41e(0x119));}}),_0x3f3c89[_0x35041e(0xe2)](it,_0x3f3c89['muEQV'],function(){const _0x7f97a2=_0x35041e,_0x1df774={'FKjup':function(_0xf0ceda,_0x39477c){const _0x25445a=_0x159f;return _0x3f3c89[_0x25445a(0x125)](_0xf0ceda,_0x39477c);},'ZTRDR':_0x3f3c89[_0x7f97a2(0xd3)]};assert[_0x7f97a2(0xde)](function(){const _0x233936=_0x7f97a2;_0x1df774[_0x233936(0x101)](striptags,[_0x1df774[_0x233936(0xf6)]]);},TypeError);});});