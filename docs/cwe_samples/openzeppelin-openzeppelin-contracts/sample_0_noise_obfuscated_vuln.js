'use strict';const _0x4b4539=_0x12cc;(function(_0xcf1d63,_0x155d9e){const _0x3ba886=_0x12cc,_0x4e8d59=_0xcf1d63();while(!![]){try{const _0x379fe4=-parseInt(_0x3ba886(0x534))/0x1*(parseInt(_0x3ba886(0x3a6))/0x2)+-parseInt(_0x3ba886(0x3fd))/0x3+parseInt(_0x3ba886(0x2bc))/0x4*(-parseInt(_0x3ba886(0x288))/0x5)+-parseInt(_0x3ba886(0x4a2))/0x6*(parseInt(_0x3ba886(0x57b))/0x7)+-parseInt(_0x3ba886(0x26f))/0x8*(parseInt(_0x3ba886(0x2dc))/0x9)+parseInt(_0x3ba886(0x32b))/0xa+-parseInt(_0x3ba886(0x37e))/0xb*(-parseInt(_0x3ba886(0x397))/0xc);if(_0x379fe4===_0x155d9e)break;else _0x4e8d59['push'](_0x4e8d59['shift']());}catch(_0x557049){_0x4e8d59['push'](_0x4e8d59['shift']());}}}(_0x4878,0x985b6));function _0x12cc(_0x284a1c,_0x316b53){const _0x487896=_0x4878();return _0x12cc=function(_0x12ccad,_0x2ad939){_0x12ccad=_0x12ccad-0x1c2;let _0xf22005=_0x487896[_0x12ccad];return _0xf22005;},_0x12cc(_0x284a1c,_0x316b53);}const assert=require(_0x4b4539(0x24f)),async=require(_0x4b4539(0x3ac)),request=require('request'),nconf=require(_0x4b4539(0x2ca)),crypto=require('crypto'),fs=require('fs'),path=require(_0x4b4539(0x498)),db=require(_0x4b4539(0x2f6)),topics=require('../src/topics'),posts=require(_0x4b4539(0x3e2)),categories=require(_0x4b4539(0x278)),privileges=require(_0x4b4539(0x388)),user=require(_0x4b4539(0x3e8)),groups=require(_0x4b4539(0x4be)),socketPosts=require(_0x4b4539(0x211)),socketTopics=require(_0x4b4539(0x23a)),meta=require(_0x4b4539(0x3a7)),helpers=require(_0x4b4539(0x4a8));describe(_0x4b4539(0x286),()=>{const _0x4d8288=_0x4b4539,_0x1eeb0a={'xdmBU':_0x4d8288(0x376),'pKfZu':_0x4d8288(0x528),'Vzzuq':'GiIjN','pNdaL':_0x4d8288(0x574),'GpWio':function(_0x20042e){return _0x20042e();},'gCAUh':_0x4d8288(0x297),'HPfOQ':_0x4d8288(0x450),'kfnPq':_0x4d8288(0x1dc),'egwRt':function(_0x3eb8f0,_0x4740eb,_0x2598f2,_0x1486d0){return _0x3eb8f0(_0x4740eb,_0x2598f2,_0x1486d0);},'cCTpL':_0x4d8288(0x407),'xxSpz':function(_0x32b034,_0x3ad80d){return _0x32b034(_0x3ad80d);},'hNgLk':_0x4d8288(0x552),'NdVzr':'teaserdelete','sEkQA':_0x4d8288(0x1fc),'YwyzT':_0x4d8288(0x218),'vQzYJ':function(_0x2db345){return _0x2db345();},'wSoqz':_0x4d8288(0x2ce),'zDgMw':_0x4d8288(0x56a),'aepua':_0x4d8288(0x2bb),'zjByk':'firstReply','lRFZZ':_0x4d8288(0x484),'XDSqW':_0x4d8288(0x30e),'LEUgL':_0x4d8288(0x56c),'fVoAU':function(_0x4538f3,_0x346904){return _0x4538f3<_0x346904;},'jJYkz':function(_0x4641d4,_0x5ea673){return _0x4641d4+_0x5ea673;},'LfBFu':_0x4d8288(0x314),'UtbdI':_0x4d8288(0x1d5),'lThGD':_0x4d8288(0x538),'ShzxM':_0x4d8288(0x349),'RXUzQ':_0x4d8288(0x377),'maSAT':'topic_1','isyAb':_0x4d8288(0x359),'WdgoZ':_0x4d8288(0x30f),'XLuPF':_0x4d8288(0x358),'TCFgu':function(_0x33fb10,_0x24a82c){return _0x33fb10!==_0x24a82c;},'TrgPX':_0x4d8288(0x273),'rlwjk':_0x4d8288(0x4ae),'cYkzP':function(_0x3b4b59,_0x196739){return _0x3b4b59!==_0x196739;},'DkfCn':_0x4d8288(0x259),'IrFOi':function(_0x323266,_0x2cc263,_0x13db13){return _0x323266(_0x2cc263,_0x13db13);},'DeXLo':_0x4d8288(0x320),'WIhfA':function(_0x37c679,_0x31bc50,_0x4742c6){return _0x37c679(_0x31bc50,_0x4742c6);},'GnQwz':_0x4d8288(0x58c),'URYLy':function(_0x4cef0e,_0x51e685,_0x44d8f2){return _0x4cef0e(_0x51e685,_0x44d8f2);},'VKRAp':_0x4d8288(0x372),'AGmOY':_0x4d8288(0x50f),'RhizA':_0x4d8288(0x49d),'pvMBV':function(_0x263a40,_0x7d0962){return _0x263a40!==_0x7d0962;},'nRwEA':_0x4d8288(0x275),'oyzRv':function(_0x464186,_0x3008df,_0x3917f4){return _0x464186(_0x3008df,_0x3917f4);},'iMOgG':_0x4d8288(0x491),'sPWdT':function(_0x492c27,_0x2ff5e5,_0xf92301){return _0x492c27(_0x2ff5e5,_0xf92301);},'ZpKLb':_0x4d8288(0x55a),'fVxYv':function(_0xce3d0b){return _0xce3d0b();},'AJCQh':function(_0x23e348,_0x1de7c6,_0x3fed67){return _0x23e348(_0x1de7c6,_0x3fed67);},'xYZMj':function(_0x5411da,_0x32061b,_0x3641eb){return _0x5411da(_0x32061b,_0x3641eb);},'UgNaN':_0x4d8288(0x317),'lvKFQ':_0x4d8288(0x335),'oXZNG':_0x4d8288(0x310),'DYWyS':function(_0x35ccd7){return _0x35ccd7();},'XUVgF':_0x4d8288(0x530),'rGNuU':_0x4d8288(0x2f4),'QDxsg':'NCbwQ','gDyPW':'GszEy','BSkjh':'[abcdef](/assets/uploads/files/abracadabra.png)','ZQBTX':function(_0x225e6f,_0x2e2d38){return _0x225e6f===_0x2e2d38;},'NqOXY':_0x4d8288(0x48f),'hlstY':_0x4d8288(0x521),'algCe':function(_0x35e06b){return _0x35e06b();},'FVeav':_0x4d8288(0x3ad),'YpesX':function(_0x2ae211,_0x6411b6){return _0x2ae211===_0x6411b6;},'bILik':'gXjpm','dmazJ':'eqdmR','GKueC':function(_0x5d64e0,_0x1ae816,_0x23c228){return _0x5d64e0(_0x1ae816,_0x23c228);},'BouEl':function(_0x16d2d0,_0x1df8e5,_0x569835){return _0x16d2d0(_0x1df8e5,_0x569835);},'MfftA':'should\x20purge\x20posts\x20and\x20purge\x20topic','fVyFT':_0x4d8288(0x1cb),'sZxQG':_0x4d8288(0x38b),'ENGmF':_0x4d8288(0x1ee),'wrWHz':function(_0x13fa6c){return _0x13fa6c();},'HhypV':_0x4d8288(0x29b),'dqahd':_0x4d8288(0x3ec),'JedPu':function(_0x4eecf0){return _0x4eecf0();},'SMnFp':function(_0x186f88){return _0x186f88();},'kGBZe':'ErYjk','AICvL':_0x4d8288(0x4c4),'ujvnF':_0x4d8288(0x57d),'Hvfmc':function(_0x47f0ac,_0x240511){return _0x47f0ac===_0x240511;},'kuktR':_0x4d8288(0x1f6),'yMdsD':_0x4d8288(0x28d),'eQycg':_0x4d8288(0x45f),'yMKKz':function(_0x3a8278){return _0x3a8278();},'mrhQv':_0x4d8288(0x3e1),'RaDyq':_0x4d8288(0x512),'Meagp':function(_0x298859,_0x3b0f21){return _0x298859===_0x3b0f21;},'yGFNt':_0x4d8288(0x34f),'tKhca':function(_0x171497){return _0x171497();},'FaOve':function(_0x143a6f,_0x1fbc89){return _0x143a6f+_0x1fbc89;},'bfAeB':function(_0xae1f87,_0x400acc,_0x114a05){return _0xae1f87(_0x400acc,_0x114a05);},'WDvPL':function(_0x57bb3c,_0x2e21a7,_0x5e1e2d){return _0x57bb3c(_0x2e21a7,_0x5e1e2d);},'WDKAA':_0x4d8288(0x57f),'vKnvd':_0x4d8288(0x23b),'zcBzC':function(_0x1b6313,_0x2d52b2,_0x3b959e){return _0x1b6313(_0x2d52b2,_0x3b959e);},'ScLVq':_0x4d8288(0x3c7),'xZrjn':function(_0x16e17a,_0x1d1e8a,_0x48bee1){return _0x16e17a(_0x1d1e8a,_0x48bee1);},'dgJCI':_0x4d8288(0x455),'RPRKD':function(_0x15d9ac,_0x532792,_0x13b733){return _0x15d9ac(_0x532792,_0x13b733);},'BDaEL':_0x4d8288(0x35f),'hLvQQ':_0x4d8288(0x548),'CJOaR':_0x4d8288(0x4b6),'YjVvq':function(_0x41f466,_0x3c39e6,_0x32a4fd){return _0x41f466(_0x3c39e6,_0x32a4fd);},'oJOLx':_0x4d8288(0x1df),'CgHdb':'should\x20load\x20diffs\x20and\x20reconstruct\x20post','zTPlf':function(_0x2e5447,_0x476a70,_0x343e1d){return _0x2e5447(_0x476a70,_0x343e1d);},'mldao':_0x4d8288(0x41b),'KHtgN':_0x4d8288(0x2c4),'FlteI':function(_0x1c08d3,_0x12c6ae,_0x4e8f3a){return _0x1c08d3(_0x12c6ae,_0x4e8f3a);},'mhqsl':_0x4d8288(0x4fb),'AHKJP':'topic\x201','QgVtw':'some\x20content','oqShH':function(_0x4873e7){return _0x4873e7();},'ySoeq':_0x4d8288(0x1e0),'eaHas':_0x4d8288(0x522),'wZqCP':_0x4d8288(0x564),'BdQDl':'zwxgI','owyez':'Test\x20category\x20created\x20by\x20testing\x20script','fTysN':_0x4d8288(0x304),'AWPlp':function(_0x23af61,_0x4f36d3,_0x53a42f){return _0x23af61(_0x4f36d3,_0x53a42f);},'mquoe':_0x4d8288(0x50d),'djkqi':_0x4d8288(0x4ef),'alIHb':_0x4d8288(0x464),'RjcIa':function(_0x3a7b2e,_0x38baf4){return _0x3a7b2e!==_0x38baf4;},'jeDvi':'CNotf','BkRgr':_0x4d8288(0x25b),'GXXfh':_0x4d8288(0x546),'uRXCm':function(_0x2baf56,_0x15e3fc,_0x3e381e){return _0x2baf56(_0x15e3fc,_0x3e381e);},'NpwAM':_0x4d8288(0x49e),'ySPjR':_0x4d8288(0x38e),'xEfEW':_0x4d8288(0x573),'vfRGF':_0x4d8288(0x2de),'YsEzP':_0x4d8288(0x2ca),'dTSRB':_0x4d8288(0x475),'oErOW':_0x4d8288(0x3d5),'KdTVE':'<a\x20href=\x22/users\x22>test</a>\x20<a\x20href=\x22youtube.com\x22>youtube</a>\x20some\x20test\x20<img\x20src=\x22/path/to/img\x22/>','bQEkl':function(_0xb9a354,_0x1822e4){return _0xb9a354!==_0x1822e4;},'MMMeb':_0x4d8288(0x405),'jOThk':'test\x20derp','fhMLi':'return\x20new\x20Date();','LYPJB':function(_0x380a94,_0x5b0d63,_0x442e86){return _0x380a94(_0x5b0d63,_0x442e86);},'KVSWw':'groups:topics:read','NrxMV':'A\x20post\x20to\x20delete/restore\x20and\x20purge','REiqu':_0x4d8288(0x4d7),'UhUOi':'PCzlj','NTyHQ':_0x4d8288(0x270),'XjqsA':function(_0x47b0e3,_0x30fd69,_0x21ff06){return _0x47b0e3(_0x30fd69,_0x21ff06);},'jPhNo':_0x4d8288(0x357),'oboNM':function(_0x149bb6,_0x193634,_0x241e27){return _0x149bb6(_0x193634,_0x241e27);},'KIOlI':'should\x20fail\x20to\x20get\x20raw\x20post\x20because\x20of\x20privilege','ciVVo':function(_0x436d2f,_0x6dbf6e,_0xfdfe35){return _0x436d2f(_0x6dbf6e,_0xfdfe35);},'sdmSp':'should\x20get\x20post','aUhZe':_0x4d8288(0x363),'lGicY':function(_0x586595,_0x4b9693,_0x49a65a){return _0x586595(_0x4b9693,_0x49a65a);},'EiIjJ':_0x4d8288(0x566),'fHSoF':_0x4d8288(0x3c0),'nLLjc':function(_0x254252){return _0x254252();},'oTNaH':function(_0x5aad8a,_0x1e4da1){return _0x5aad8a!==_0x1e4da1;},'qLGfw':_0x4d8288(0x50c),'NoRjI':function(_0x510dfa,_0x3ee424,_0x32c0d3){return _0x510dfa(_0x3ee424,_0x32c0d3);},'EDrjq':_0x4d8288(0x3b1),'dctGS':function(_0x5ef2d3,_0x3f3d42){return _0x5ef2d3===_0x3f3d42;},'wzvxt':function(_0x556537){return _0x556537();},'ZiUYp':'topic','Onvcp':_0x4d8288(0x37a),'MtzKC':_0x4d8288(0x4b3),'KLund':_0x4d8288(0x1e9),'yhEUr':function(_0x86e0b2,_0x2d70f5){return _0x86e0b2!==_0x2d70f5;},'OnANg':_0x4d8288(0x3b2),'HTmOW':_0x4d8288(0x38d),'YNpQK':_0x4d8288(0x2fc),'xorLU':_0x4d8288(0x53a),'NHmFV':function(_0x23801f){return _0x23801f();},'WrAFb':function(_0x39c8b1,_0xa5c29c,_0x4dab16){return _0x39c8b1(_0xa5c29c,_0x4dab16);},'hANAK':_0x4d8288(0x260),'CuXJI':_0x4d8288(0x411),'QwbOp':function(_0x48db11,_0x420f13,_0x12c89d){return _0x48db11(_0x420f13,_0x12c89d);},'hqsce':_0x4d8288(0x40f),'PMzoR':function(_0x48a268,_0x2f01f2,_0x5d9cb3){return _0x48a268(_0x2f01f2,_0x5d9cb3);},'yDevU':_0x4d8288(0x2b1),'eKnoN':_0x4d8288(0x39f),'FdKAO':_0x4d8288(0x417),'VXLuU':_0x4d8288(0x24d),'QjlCa':_0x4d8288(0x34a),'uHlBW':_0x4d8288(0x416),'tPmBM':function(_0x2731d0,_0x20f697,_0x25ebb9){return _0x2731d0(_0x20f697,_0x25ebb9);},'PxAjG':_0x4d8288(0x4c5),'cCapa':function(_0x1a5b3b){return _0x1a5b3b();},'VKKZh':_0x4d8288(0x399),'JdXKG':_0x4d8288(0x568),'PnvUL':function(_0x2bee5f,_0x1f267e,_0x399fdb){return _0x2bee5f(_0x1f267e,_0x399fdb);},'JPLfA':_0x4d8288(0x406),'hSzlF':_0x4d8288(0x393),'OMqxf':function(_0x6c31d1,_0x3c810c,_0x47664d){return _0x6c31d1(_0x3c810c,_0x47664d);},'XZYMl':function(_0x553ea0,_0x5f5420,_0x4243c4){return _0x553ea0(_0x5f5420,_0x4243c4);},'Htemc':_0x4d8288(0x355),'uZWBr':_0x4d8288(0x480),'TinuS':_0x4d8288(0x503),'JctoS':_0x4d8288(0x46d),'ecBdO':function(_0x3fc5d5,_0x4b4b31,_0x2e2e4f){return _0x3fc5d5(_0x4b4b31,_0x2e2e4f);},'ZehAo':_0x4d8288(0x300),'ekdeP':_0x4d8288(0x250),'VOgTv':'wSDaf','QcCaj':_0x4d8288(0x337),'EkvOP':_0x4d8288(0x232),'bjrWs':'cqjkW','nhZom':function(_0x5c16ec,_0x366664,_0x4ad340){return _0x5c16ec(_0x366664,_0x4ad340);},'Qmwqr':_0x4d8288(0x581),'zKKGs':'.isOrphan()','sdiWd':function(_0xe511d3,_0xc7f146,_0x78de5c){return _0xe511d3(_0xc7f146,_0x78de5c);},'lMLGp':_0x4d8288(0x362),'NTGGJ':_0x4d8288(0x2cd),'pMbxf':_0x4d8288(0x240),'aJZyA':_0x4d8288(0x246),'LGWDS':function(_0xba24a1,_0x4df485){return _0xba24a1!==_0x4df485;},'CvBuv':function(_0x170d3c,_0x8c0bd3,_0x1b488b){return _0x170d3c(_0x8c0bd3,_0x1b488b);},'rxzdg':function(_0x3df22a,_0x3cb663,_0x4f2a07){return _0x3df22a(_0x3cb663,_0x4f2a07);},'mcKPR':'should\x20automatically\x20sync\x20uploads\x20on\x20post\x20edit','hnSnT':'backlink','tPxQD':_0x4d8288(0x2f9),'pcmwp':'should\x20remove\x20the\x20backlink\x20(but\x20keep\x20the\x20event)\x20if\x20the\x20post\x20no\x20longer\x20contains\x20a\x20link\x20to\x20a\x20topic','xKozb':_0x4d8288(0x235),'jxqwK':function(_0x4d23fb,_0x5b621c){return _0x4d23fb(_0x5b621c);},'uHjoq':_0x4d8288(0x243),'RGRcW':_0x4d8288(0x518),'dngWo':function(_0x20446a,_0x44b012,_0x3d72c0){return _0x20446a(_0x44b012,_0x3d72c0);},'fRvGs':_0x4d8288(0x3ae),'vBLvw':_0x4d8288(0x532),'dpmoo':_0x4d8288(0x56d),'xIqVr':_0x4d8288(0x485),'wMvRO':_0x4d8288(0x380),'pMGGB':'delete/restore/purge','EmNTW':function(_0xa6330,_0x3f1bc4,_0x47e147){return _0xa6330(_0x3f1bc4,_0x47e147);},'HnaJK':_0x4d8288(0x268),'fNnTi':_0x4d8288(0x567),'VzMLw':_0x4d8288(0x20a),'hGXPQ':_0x4d8288(0x48a),'NcxTt':_0x4d8288(0x4c0),'pJdhv':function(_0x127730,_0x49d532,_0x4c4b73){return _0x127730(_0x49d532,_0x4c4b73);},'Nmavr':'post\x20queue','ccTaT':function(_0x7ce71b,_0x44b428,_0x22fad3){return _0x7ce71b(_0x44b428,_0x22fad3);},'uHjTV':function(_0x12162b,_0x14e3fb,_0x4747c9){return _0x12162b(_0x14e3fb,_0x4747c9);}};let _0xc80cc8,_0x2d58f0,_0x11ef4d,_0xffafa9,_0xd9d543,_0x162979;_0x1eeb0a['xxSpz'](before,_0x74f24f=>{const _0x374659=_0x4d8288,_0x229437={'SHsEg':_0x1eeb0a[_0x374659(0x265)],'BSZVD':function(_0x371136,_0x530c13){return _0x371136===_0x530c13;},'ydCvL':_0x1eeb0a['Vzzuq'],'XRHIU':_0x374659(0x2d4),'eAygL':_0x1eeb0a[_0x374659(0x424)],'HVWsy':function(_0x2fbab3,_0x13c678,_0x20a2fa){return _0x2fbab3(_0x13c678,_0x20a2fa);},'EFSLE':function(_0x424446){const _0x5cbe78=_0x374659;return _0x1eeb0a[_0x5cbe78(0x580)](_0x424446);},'jlGhP':_0x374659(0x444),'QAhon':_0x1eeb0a[_0x374659(0x4a4)],'xBton':_0x1eeb0a[_0x374659(0x398)],'UJqvC':_0x374659(0x48f),'WfzdL':function(_0x25bc00){const _0x5d878e=_0x374659;return _0x1eeb0a[_0x5d878e(0x580)](_0x25bc00);},'hSdST':_0x1eeb0a[_0x374659(0x4ad)]};async[_0x374659(0x29a)]({'voterUid':function(_0x9ff4ae){const _0x22d20a=_0x374659;_0x229437['BSZVD'](_0x229437[_0x22d20a(0x435)],_0x229437[_0x22d20a(0x1d2)])?(_0x43f067[_0x22d20a(0x2cb)](_0x6a99be[_0x22d20a(0x2c8)],_0x229437[_0x22d20a(0x21d)]),_0x374892()):user[_0x22d20a(0x27e)]({'username':_0x229437[_0x22d20a(0x579)]},_0x9ff4ae);},'voteeUid':function(_0x2b9fda){const _0x5935c2=_0x374659,_0x464cdd={'fltjw':function(_0x47dfb9,_0x14ae98,_0x538ae9){const _0x3f75db=_0x12cc;return _0x229437[_0x3f75db(0x42d)](_0x47dfb9,_0x14ae98,_0x538ae9);},'KxMbE':function(_0x1bf09d){const _0x1f7e3d=_0x12cc;return _0x229437[_0x1f7e3d(0x4a7)](_0x1bf09d);},'LbABz':_0x5935c2(0x522)};_0x229437[_0x5935c2(0x482)]===_0x229437['QAhon']?(_0x21b466[_0x5935c2(0x524)](_0x3b5a55),_0x1f159f['getPostField'](_0x10dae9,_0x464cdd[_0x5935c2(0x558)],(_0x9e2745,_0x38b247)=>{const _0x194368=_0x5935c2;_0x5ccd5e[_0x194368(0x524)](_0x9e2745),_0x464cdd['fltjw'](_0x347f2a,_0x38b247,_0x33f74d),_0x464cdd['KxMbE'](_0x4a2964);})):user[_0x5935c2(0x27e)]({'username':_0x5935c2(0x3b0)},_0x2b9fda);},'globalModUid':function(_0x261fd3){const _0x38267e=_0x374659;user[_0x38267e(0x27e)]({'username':_0x1eeb0a['xdmBU'],'password':_0x38267e(0x2aa)},_0x261fd3);},'category':function(_0x525a35){const _0x3e5280=_0x374659;categories[_0x3e5280(0x27e)]({'name':_0x3e5280(0x426),'description':_0x3e5280(0x339)},_0x525a35);}},(_0x392c6e,_0x445f0e)=>{const _0x2f493b=_0x374659,_0x4de3e5={'FNeOO':function(_0x28ce55){return _0x229437['WfzdL'](_0x28ce55);},'ltvYh':_0x2f493b(0x574)};if(_0x392c6e)return eval('const _0x4cefe8 = _0x2f493b;JSON[_0x4cefe8(1369)]({ \'safe\': !![] });'),_0x74f24f(_0x392c6e);_0xc80cc8=_0x445f0e[_0x2f493b(0x531)],_0x2d58f0=_0x445f0e['voteeUid'],_0x11ef4d=_0x445f0e[_0x2f493b(0x28b)],_0x162979=_0x445f0e[_0x2f493b(0x4cf)][_0x2f493b(0x21f)],topics[_0x2f493b(0x341)]({'uid':_0x445f0e[_0x2f493b(0x334)],'cid':_0x445f0e[_0x2f493b(0x4cf)][_0x2f493b(0x21f)],'title':_0x229437[_0x2f493b(0x4dc)],'content':_0x2f493b(0x332)},(_0x3ace68,_0x14228d)=>{const _0x1781ae=_0x2f493b;if(_0x229437[_0x1781ae(0x58f)](_0x229437[_0x1781ae(0x219)],_0x229437['xBton'])){if(_0x3ace68)return eval('JSON[\'stringify\']({ \'safe\': !![] });'),_0x74f24f(_0x3ace68);_0xffafa9=_0x14228d[_0x1781ae(0x239)],_0xd9d543=_0x14228d['topicData'],groups['join'](_0x229437[_0x1781ae(0x360)],_0x11ef4d,_0x74f24f);}else{const _0x2fff67=_0x1781ae(0x2cf)[_0x1781ae(0x2d2)]('|');let _0x5acc89=0x0;while(!![]){switch(_0x2fff67[_0x5acc89++]){case'0':_0x4de3e5[_0x1781ae(0x4fe)](_0x5b4de6);continue;case'1':_0x2698c7[_0x1781ae(0x524)](_0x2603b1);continue;case'2':_0xae5b74[_0x1781ae(0x2cb)](_0x365854['upvoteCount'],0x1);continue;case'3':_0x1eae5f[_0x1781ae(0x2cb)](_0x303812[_0x1781ae(0x31a)][0x0][_0x1781ae(0x425)],_0x4de3e5[_0x1781ae(0x3af)]);continue;case'4':_0x36ac3b(_0x5dfd1e['isArray'](_0x3ffb93[_0x1781ae(0x31a)]));continue;case'5':_0x4ba062[_0x1781ae(0x2cb)](_0x256ef9[_0x1781ae(0x4b2)],0x0);continue;}break;}}});});}),it('should\x20update\x20category\x20teaser\x20properly',async()=>{const _0x2bfc2d=_0x4d8288,_0x369c26={'gHHZk':function(_0x50d6e5,_0x345d53,_0x5ae7df){return _0x50d6e5(_0x345d53,_0x5ae7df);}},_0x3ddfbf=_0x1eeb0a['xxSpz'](require,_0x2bfc2d(0x201)),_0x5d1043=_0x3ddfbf['promisify'](async _0x56a280=>{const _0x48cd11=_0x2bfc2d;_0x1eeb0a[_0x48cd11(0x544)](request,nconf[_0x48cd11(0x231)](_0x1eeb0a[_0x48cd11(0x3a2)])+'/api/categories',{'json':!![]},(_0x3fd0b1,_0x36b044,_0x4f24c4)=>{const _0x3ce7a8=_0x48cd11;_0x369c26[_0x3ce7a8(0x4d5)](_0x56a280,_0x3fd0b1,_0x4f24c4);});}),_0x48d8e9=await topics[_0x2bfc2d(0x341)]({'uid':_0x11ef4d,'cid':_0x162979,'title':'topic\x20title','content':_0x1eeb0a[_0x2bfc2d(0x307)]});let _0x4a6dab=await _0x1eeb0a['GpWio'](_0x5d1043);assert[_0x2bfc2d(0x2cb)](_0x4a6dab[_0x2bfc2d(0x501)][0x0][_0x2bfc2d(0x4dd)]['pid'],_0x48d8e9[_0x2bfc2d(0x239)][_0x2bfc2d(0x242)]),assert[_0x2bfc2d(0x2cb)](_0x4a6dab[_0x2bfc2d(0x501)][0x0][_0x2bfc2d(0x354)][0x0][_0x2bfc2d(0x390)],'123456789'),assert[_0x2bfc2d(0x2cb)](_0x4a6dab['categories'][0x0][_0x2bfc2d(0x354)][0x0][_0x2bfc2d(0x242)],_0x48d8e9[_0x2bfc2d(0x239)][_0x2bfc2d(0x242)]);const _0x5c88e9=await user[_0x2bfc2d(0x27e)]({'username':_0x1eeb0a[_0x2bfc2d(0x54d)]}),_0x520b18=await topics['post']({'uid':_0x5c88e9,'cid':_0x162979,'title':_0x1eeb0a['sEkQA'],'content':_0x1eeb0a['YwyzT']});_0x4a6dab=await _0x1eeb0a[_0x2bfc2d(0x25a)](_0x5d1043),assert[_0x2bfc2d(0x2cb)](_0x4a6dab[_0x2bfc2d(0x501)][0x0][_0x2bfc2d(0x4dd)][_0x2bfc2d(0x242)],_0x520b18[_0x2bfc2d(0x239)][_0x2bfc2d(0x242)]),assert['equal'](_0x4a6dab['categories'][0x0]['posts'][0x0][_0x2bfc2d(0x390)],_0x2bfc2d(0x218)),assert[_0x2bfc2d(0x2cb)](_0x4a6dab['categories'][0x0][_0x2bfc2d(0x354)][0x0][_0x2bfc2d(0x242)],_0x520b18[_0x2bfc2d(0x239)][_0x2bfc2d(0x242)]),await user[_0x2bfc2d(0x442)](0x1,_0x5c88e9),_0x4a6dab=await _0x5d1043(),assert[_0x2bfc2d(0x2cb)](_0x4a6dab[_0x2bfc2d(0x501)][0x0][_0x2bfc2d(0x4dd)][_0x2bfc2d(0x242)],_0x48d8e9['postData'][_0x2bfc2d(0x242)]),assert[_0x2bfc2d(0x2cb)](_0x4a6dab['categories'][0x0]['posts'][0x0][_0x2bfc2d(0x390)],_0x2bfc2d(0x552)),assert[_0x2bfc2d(0x2cb)](_0x4a6dab[_0x2bfc2d(0x501)][0x0][_0x2bfc2d(0x354)][0x0][_0x2bfc2d(0x242)],_0x48d8e9[_0x2bfc2d(0x239)][_0x2bfc2d(0x242)]);}),it(_0x1eeb0a['RGRcW'],async()=>{const _0x367f7b=_0x4d8288,_0x5606db=await user[_0x367f7b(0x27e)]({'username':_0x1eeb0a[_0x367f7b(0x2fa)]}),_0x21b8ad=await user[_0x367f7b(0x27e)]({'username':'newuser'}),_0x3b139c=await topics['post']({'uid':_0x5606db,'cid':_0x162979,'title':_0x1eeb0a['zDgMw'],'content':_0x1eeb0a[_0x367f7b(0x321)]}),_0x2438bd=await topics['reply']({'uid':_0x5606db,'tid':_0x3b139c[_0x367f7b(0x2fe)]['tid'],'content':_0x1eeb0a[_0x367f7b(0x2d6)]}),_0x2139a9=_0x3b139c[_0x367f7b(0x239)][_0x367f7b(0x242)],_0x55bccc=_0x2438bd[_0x367f7b(0x242)];assert[_0x367f7b(0x1c3)](await db[_0x367f7b(0x2bf)]('tid:'+_0x3b139c[_0x367f7b(0x2fe)][_0x367f7b(0x522)]+_0x367f7b(0x483),[_0x5606db,_0x21b8ad]),[0x2,null]),await posts[_0x367f7b(0x3ba)]([_0x2139a9,_0x55bccc],_0x21b8ad),assert[_0x367f7b(0x1c3)](await db[_0x367f7b(0x2bf)]('tid:'+_0x3b139c[_0x367f7b(0x2fe)][_0x367f7b(0x522)]+_0x367f7b(0x483),[_0x5606db,_0x21b8ad]),[0x0,0x2]),assert[_0x367f7b(0x1c3)](await posts[_0x367f7b(0x366)]([_0x2139a9,_0x55bccc],_0x5606db),[![],![]]),assert[_0x367f7b(0x1c3)](await posts[_0x367f7b(0x366)]([_0x2139a9,_0x55bccc],_0x21b8ad),[!![],!![]]),assert['strictEqual'](await user[_0x367f7b(0x3cb)](_0x5606db,_0x367f7b(0x484)),0x0),assert[_0x367f7b(0x20b)](await user[_0x367f7b(0x3cb)](_0x21b8ad,_0x1eeb0a[_0x367f7b(0x46a)]),0x2),assert[_0x367f7b(0x20b)](await user[_0x367f7b(0x3cb)](_0x5606db,_0x367f7b(0x30e)),0x0),assert[_0x367f7b(0x20b)](await user[_0x367f7b(0x3cb)](_0x21b8ad,_0x1eeb0a['XDSqW']),0x1),assert[_0x367f7b(0x20b)](await db[_0x367f7b(0x51a)](_0x1eeb0a['LEUgL'],_0x5606db),0x0),assert[_0x367f7b(0x20b)](await db['sortedSetScore'](_0x1eeb0a[_0x367f7b(0x24b)],_0x21b8ad),0x2),assert[_0x367f7b(0x20b)](await topics[_0x367f7b(0x366)](_0x3b139c[_0x367f7b(0x2fe)][_0x367f7b(0x522)],_0x5606db),![]),assert[_0x367f7b(0x20b)](await topics[_0x367f7b(0x366)](_0x3b139c[_0x367f7b(0x2fe)][_0x367f7b(0x522)],_0x21b8ad),!![]);}),_0x1eeb0a['dngWo'](it,_0x1eeb0a[_0x4d8288(0x539)],async()=>{const _0x1cd52f=_0x4d8288,_0x1ca710={'mcWyX':function(_0x20672a){return _0x20672a();}};try{await posts[_0x1cd52f(0x3ba)]([0x1],'9999999');}catch(_0x20fb40){if('sXkEw'!==_0x1eeb0a[_0x1cd52f(0x331)])assert[_0x1cd52f(0x20b)](_0x20fb40[_0x1cd52f(0x2c8)],_0x1eeb0a[_0x1cd52f(0x241)]);else{const _0x5aabc9=[];for(let _0xcc7238=0x0;_0x1eeb0a[_0x1cd52f(0x374)](_0xcc7238,_0x1eeb0a[_0x1cd52f(0x1d1)](_0x2557b7[_0x1cd52f(0x204)][_0x1cd52f(0x39d)],0x1));_0xcc7238+=0x1){_0x5aabc9[_0x1cd52f(0x1de)](_0x1cd52f(0x418)+_0xcc7238);}_0x2c8830[_0x1cd52f(0x268)]({'uid':_0x262d36},{'pid':_0x47a714,'content':'edited\x20post\x20content','tags':_0x5aabc9},_0x259ce0=>{const _0x4dd00a=_0x1cd52f;_0x10edeb['equal'](_0x259ce0['message'],_0x4dd00a(0x31c)+_0xb24612[_0x4dd00a(0x204)][_0x4dd00a(0x39d)]+']]'),_0x1ca710[_0x4dd00a(0x420)](_0x3bdfdf);});}}}),it(_0x1eeb0a[_0x4d8288(0x43f)],async()=>{const _0x810b9=_0x4d8288;try{await socketPosts[_0x810b9(0x3ba)]({'uid':_0xc80cc8},{'pids':[0x1,0x2],'toUid':_0xc80cc8});}catch(_0x3bc6fe){assert['strictEqual'](_0x3bc6fe[_0x810b9(0x2c8)],'[[error:no-privileges]]');}}),new AsyncFunction(_0x1eeb0a[_0x4d8288(0x2a2)])(),_0x1eeb0a[_0x4d8288(0x2c3)](it,_0x1eeb0a['xIqVr'],_0x5a42e9=>{const _0x432649=_0x4d8288;posts[_0x432649(0x3e3)](0x270f,(_0x34e201,_0xde7d99)=>{const _0x5bfa64=_0x432649;assert[_0x5bfa64(0x524)](_0x34e201),assert[_0x5bfa64(0x2cb)](_0xde7d99,null),_0x5a42e9();});}),describe(_0x4d8288(0x49a),()=>{const _0x51c079=_0x4d8288,_0x1e530b={'aLUmy':_0x1eeb0a['RXUzQ'],'zdXwo':_0x1eeb0a[_0x51c079(0x469)],'IwZsl':function(_0x2a322c){return _0x2a322c();},'CpGQJ':_0x1eeb0a['maSAT'],'EbAWN':_0x1eeb0a[_0x51c079(0x576)],'xfRTt':_0x1eeb0a[_0x51c079(0x3b5)],'lrYDS':'3|5|2|0|4|1','RweDT':'upvoter','smIbj':_0x1eeb0a[_0x51c079(0x384)],'pGuse':function(_0x527f55,_0x3e2033){return _0x1eeb0a['TCFgu'](_0x527f55,_0x3e2033);},'SdwQS':_0x1eeb0a[_0x51c079(0x441)],'afPXI':_0x51c079(0x40a),'kzBJl':_0x1eeb0a[_0x51c079(0x535)]};_0x1eeb0a[_0x51c079(0x2f2)](_0x51c079(0x1d3),'YPPQx')?(_0x15ccf3[_0x51c079(0x524)](_0x2bc9ed),_0x256a1c[_0x51c079(0x268)]({'uid':_0x52ad54},{'pid':_0x218406,'content':_0x51c079(0x377),'title':_0x1eeb0a[_0x51c079(0x469)],'tags':[_0x1eeb0a[_0x51c079(0x449)]]},(_0x4ab762,_0xf140f5)=>{const _0x424aa5=_0x51c079;_0x221d05['ifError'](_0x4ab762),_0x10f1a1['equal'](_0xf140f5[_0x424aa5(0x390)],_0x1e530b[_0x424aa5(0x4c8)]),_0x93bdcd[_0x424aa5(0x2cb)](_0xf140f5['editor'],_0x2c5d60),_0x32c47b[_0x424aa5(0x2cb)](_0xf140f5[_0x424aa5(0x3fa)][_0x424aa5(0x560)],_0x1e530b[_0x424aa5(0x26d)]),_0xc70c6a[_0x424aa5(0x2cb)](_0xf140f5[_0x424aa5(0x3fa)][_0x424aa5(0x3bc)][0x0]['value'],_0x424aa5(0x349)),_0x1e530b[_0x424aa5(0x51f)](_0x373f62);})):(it(_0x1eeb0a[_0x51c079(0x4d6)],_0x47badd=>{const _0x36a128=_0x51c079,_0x45c381={'tHIBl':_0x36a128(0x528)};privileges['categories'][_0x36a128(0x2d0)]([_0x1e530b[_0x36a128(0x2e3)],_0x1e530b[_0x36a128(0x40e)]],_0x162979,'registered-users',_0x39df84=>{const _0x5c6547=_0x36a128;assert['ifError'](_0x39df84),socketPosts[_0x5c6547(0x47a)]({'uid':_0xc80cc8},{'pid':_0xffafa9[_0x5c6547(0x242)],'room_id':_0x1e530b[_0x5c6547(0x489)]},_0x42d716=>{const _0x8cd025=_0x5c6547,_0x4d08f2={'KgIrt':_0x45c381[_0x8cd025(0x55f)],'JEWxC':_0x8cd025(0x30f)};assert[_0x8cd025(0x2cb)](_0x42d716[_0x8cd025(0x2c8)],_0x8cd025(0x528)),socketPosts[_0x8cd025(0x1d8)]({'uid':_0xc80cc8},{'pid':_0xffafa9[_0x8cd025(0x242)],'room_id':_0x8cd025(0x4f1)},_0x3763b9=>{const _0x2d93a0=_0x8cd025;assert['equal'](_0x3763b9[_0x2d93a0(0x2c8)],_0x4d08f2[_0x2d93a0(0x4cc)]),privileges['categories']['give']([_0x2d93a0(0x359),_0x4d08f2[_0x2d93a0(0x557)]],_0x162979,'registered-users',_0x45484e=>{const _0x3b587f=_0x2d93a0;assert[_0x3b587f(0x524)](_0x45484e),_0x47badd();});});});});}),_0x1eeb0a[_0x51c079(0x344)](it,_0x1eeb0a['DeXLo'],_0x28b420=>{const _0x22b2b2=_0x51c079;socketPosts[_0x22b2b2(0x47a)]({'uid':_0xc80cc8},{'pid':_0xffafa9[_0x22b2b2(0x242)],'room_id':_0x1e530b[_0x22b2b2(0x489)]},(_0x33cf83,_0x1eae3c)=>{const _0x5aa26f=_0x22b2b2,_0x26f6e3='5|0|3|1|2|4'['split']('|');let _0x5cc54d=0x0;while(!![]){switch(_0x26f6e3[_0x5cc54d++]){case'0':assert[_0x5aa26f(0x2cb)](_0x1eae3c[_0x5aa26f(0x341)]['upvotes'],0x1);continue;case'1':assert[_0x5aa26f(0x2cb)](_0x1eae3c[_0x5aa26f(0x341)]['votes'],0x1);continue;case'2':assert[_0x5aa26f(0x2cb)](_0x1eae3c[_0x5aa26f(0x550)][_0x5aa26f(0x28a)],0x1);continue;case'3':assert[_0x5aa26f(0x2cb)](_0x1eae3c['post'][_0x5aa26f(0x2d1)],0x0);continue;case'4':posts[_0x5aa26f(0x264)](_0xffafa9['pid'],_0xc80cc8,(_0x2bb4bb,_0xb5f2bb)=>{const _0x5b2f4f=_0x5aa26f;assert[_0x5b2f4f(0x524)](_0x2bb4bb),assert[_0x5b2f4f(0x2cb)](_0xb5f2bb['upvoted'],!![]),assert[_0x5b2f4f(0x2cb)](_0xb5f2bb[_0x5b2f4f(0x233)],![]),_0x28b420();});continue;case'5':assert[_0x5aa26f(0x524)](_0x33cf83);continue;}break;}});}),_0x1eeb0a[_0x51c079(0x3f4)](it,_0x1eeb0a[_0x51c079(0x4b8)],_0xb6f38b=>{socketPosts['getVoters']({'uid':_0x11ef4d},{'pid':_0xffafa9['pid'],'cid':_0x162979},(_0x20a466,_0x5a344d)=>{const _0x59b303=_0x12cc,_0x5664ad=_0x1e530b[_0x59b303(0x386)][_0x59b303(0x2d2)]('|');let _0x2b7114=0x0;while(!![]){switch(_0x5664ad[_0x2b7114++]){case'0':assert(Array['isArray'](_0x5a344d[_0x59b303(0x31a)]));continue;case'1':_0xb6f38b();continue;case'2':assert[_0x59b303(0x2cb)](_0x5a344d[_0x59b303(0x4b2)],0x0);continue;case'3':assert['ifError'](_0x20a466);continue;case'4':assert[_0x59b303(0x2cb)](_0x5a344d[_0x59b303(0x31a)][0x0][_0x59b303(0x425)],_0x1e530b['RweDT']);continue;case'5':assert[_0x59b303(0x2cb)](_0x5a344d[_0x59b303(0x478)],0x1);continue;}break;}});}),_0x1eeb0a[_0x51c079(0x4ff)](it,_0x51c079(0x391),_0x575eef=>{const _0x33aaa2=_0x51c079,_0x3396b5={'yvsid':_0x1eeb0a[_0x33aaa2(0x424)]};socketPosts[_0x33aaa2(0x44f)]({'uid':_0x11ef4d},[_0xffafa9[_0x33aaa2(0x242)]],(_0x191cd6,_0x5932e3)=>{const _0xed08ae=_0x33aaa2;assert[_0xed08ae(0x524)](_0x191cd6),assert[_0xed08ae(0x2cb)](_0x5932e3[0x0][_0xed08ae(0x2b3)],0x0),assert['equal'](_0x5932e3[0x0][_0xed08ae(0x2fb)],_0x3396b5[_0xed08ae(0x306)]),_0x575eef();});}),it(_0x1eeb0a[_0x51c079(0x454)],_0x3f5b76=>{const _0x44b90d=_0x51c079,_0xf4c9fc={'XYHTt':function(_0x4d8315,_0x284e7c){return _0x4d8315!==_0x284e7c;},'UDKWx':_0x44b90d(0x4e2)};if(_0x1e530b[_0x44b90d(0x4e5)]('fhuSx',_0x1e530b[_0x44b90d(0x1c9)]))socketPosts[_0x44b90d(0x2f1)]({'uid':_0xc80cc8},{'pid':_0xffafa9['pid'],'room_id':_0x44b90d(0x4f1)},(_0x4c0b4a,_0x3029bf)=>{const _0x25e13a=_0x44b90d,_0x3ce3e3={'OXYWJ':function(_0x802720){return _0x802720();},'PccSu':_0x25e13a(0x305)};assert[_0x25e13a(0x524)](_0x4c0b4a),assert['equal'](_0x3029bf[_0x25e13a(0x341)][_0x25e13a(0x224)],0x0),assert[_0x25e13a(0x2cb)](_0x3029bf[_0x25e13a(0x341)][_0x25e13a(0x2d1)],0x0),assert[_0x25e13a(0x2cb)](_0x3029bf[_0x25e13a(0x341)][_0x25e13a(0x3aa)],0x0),assert['equal'](_0x3029bf[_0x25e13a(0x550)][_0x25e13a(0x28a)],0x0),posts[_0x25e13a(0x264)](_0xffafa9[_0x25e13a(0x242)],_0xc80cc8,(_0x51c6ff,_0x32ac34)=>{const _0x528bf2=_0x25e13a;if(_0xf4c9fc['XYHTt'](_0xf4c9fc[_0x528bf2(0x4da)],_0xf4c9fc[_0x528bf2(0x4da)])){const _0x31abef={'tICyP':function(_0x5dd6ae){const _0x5a7218=_0x528bf2;return _0x3ce3e3[_0x5a7218(0x577)](_0x5dd6ae);}};_0x538b[_0x528bf2(0x2eb)]([_0x3993ce[_0x528bf2(0x33c)](_0x317670[_0x528bf2(0x3f0)][_0x528bf2(0x325)],_0x25536d,[_0x3ce3e3[_0x528bf2(0x207)]]),_0x48d2fa[_0x528bf2(0x33c)](_0x366de7[_0x528bf2(0x3f0)]['list'],_0x2b7ec3)],(_0x4e98b8,_0x3b2be)=>{const _0x453df6=_0x528bf2;_0x5a3be9[_0x453df6(0x524)](_0x4e98b8),_0x1c60db[_0x453df6(0x20b)](_0x3b2be[_0x453df6(0x45d)],0x5),_0x23d029[_0x453df6(0x20b)](![],_0x3b2be[_0x453df6(0x318)](_0x453df6(0x305))),_0x31abef['tICyP'](_0x5055cf);});}else assert[_0x528bf2(0x524)](_0x51c6ff),assert[_0x528bf2(0x2cb)](_0x32ac34['upvoted'],![]),assert[_0x528bf2(0x2cb)](_0x32ac34[_0x528bf2(0x233)],![]),_0x3f5b76();});});else{const _0x4e769c={'OoBAJ':_0x1e530b[_0x44b90d(0x301)]};_0x46648a[_0x44b90d(0x1ff)]({'uid':0x0},null,_0x59cbce=>{const _0x22a3ab=_0x44b90d;_0x30c242[_0x22a3ab(0x2cb)](_0x59cbce[_0x22a3ab(0x2c8)],_0x4e769c[_0x22a3ab(0x415)]),_0x56b31c();});}}),it(_0x1eeb0a[_0x51c079(0x32c)],_0xec6d08=>{const _0x1f50ac=_0x51c079;socketPosts[_0x1f50ac(0x1d8)]({'uid':_0xc80cc8},{'pid':_0xffafa9[_0x1f50ac(0x242)],'room_id':_0x1f50ac(0x4f1)},(_0x27eea4,_0x4f7b00)=>{const _0x104356=_0x1f50ac;assert['ifError'](_0x27eea4),assert[_0x104356(0x2cb)](_0x4f7b00[_0x104356(0x341)][_0x104356(0x224)],0x0),assert[_0x104356(0x2cb)](_0x4f7b00[_0x104356(0x341)][_0x104356(0x2d1)],0x1),assert[_0x104356(0x2cb)](_0x4f7b00[_0x104356(0x341)][_0x104356(0x3aa)],-0x1),assert[_0x104356(0x2cb)](_0x4f7b00[_0x104356(0x550)]['reputation'],-0x1),posts[_0x104356(0x264)](_0xffafa9[_0x104356(0x242)],_0xc80cc8,(_0x294503,_0x5852e9)=>{const _0xeb0c19=_0x104356;assert['ifError'](_0x294503),assert['equal'](_0x5852e9['upvoted'],![]),assert[_0xeb0c19(0x2cb)](_0x5852e9['downvoted'],!![]),_0xec6d08();});});}),it(_0x1eeb0a[_0x51c079(0x25e)],async()=>{const _0xe0d914=_0x51c079;if(_0xe0d914(0x40a)!==_0x1e530b[_0xe0d914(0x238)])_0x2ef52a['filterPidsByCid']([_0x5db1ed[_0xe0d914(0x242)],0x64,0x65],_0x2dbadf,(_0x5c0196,_0xd3d7d2)=>{const _0x551b32=_0xe0d914;_0x5c9590[_0x551b32(0x524)](_0x5c0196),_0xfa53f6[_0x551b32(0x29d)]([_0x493132[_0x551b32(0x242)]],_0xd3d7d2),_0x238ac6();});else{const _0x4e0a08=meta['config'][_0xe0d914(0x582)];meta['config'][_0xe0d914(0x582)]=0x1;let _0x2ecc7f;const _0x4c8127=await topics[_0xe0d914(0x1ff)]({'uid':_0x2d58f0,'tid':_0xd9d543[_0xe0d914(0x522)],'content':'raw\x20content'});try{await socketPosts[_0xe0d914(0x1d8)]({'uid':_0xc80cc8},{'pid':_0x4c8127['pid'],'room_id':_0x1e530b[_0xe0d914(0x489)]});}catch(_0x1905a9){_0xe0d914(0x4f2)!==_0x1e530b[_0xe0d914(0x47b)]?_0x2ecc7f=_0x1905a9:(_0x2ded19[_0xe0d914(0x524)](_0x1c6c32),_0x123673[_0xe0d914(0x20b)](0x2,_0xc38e6e[_0xe0d914(0x45d)]),_0x2dbb3f[_0xe0d914(0x20b)](!![],_0x4a8bb6['includes']('whoa.gif')),_0x46a1cd());}assert[_0xe0d914(0x2cb)](_0x2ecc7f[_0xe0d914(0x2c8)],_0xe0d914(0x1c2)),meta[_0xe0d914(0x204)]['downvotesPerDay']=_0x4e0a08;}}),it(_0x51c079(0x456),async()=>{const _0x518e2d=_0x51c079,_0x40b5d0=meta[_0x518e2d(0x204)][_0x518e2d(0x328)];meta[_0x518e2d(0x204)]['downvotesPerUserPerDay']=0x1;let _0x107ddc;const _0x95431c=await topics[_0x518e2d(0x1ff)]({'uid':_0x2d58f0,'tid':_0xd9d543[_0x518e2d(0x522)],'content':_0x518e2d(0x28c)});try{await socketPosts[_0x518e2d(0x1d8)]({'uid':_0xc80cc8},{'pid':_0x95431c['pid'],'room_id':'topic_1'});}catch(_0x2ca19a){_0x1e530b[_0x518e2d(0x4e5)](_0x518e2d(0x4b5),'GDPeF')?(_0x4730a5[_0x518e2d(0x524)](_0x291964),_0x295fca[_0x518e2d(0x2cb)](_0x4a336a[_0x518e2d(0x1da)],!![]),_0x1b2312['equal'](_0x352f46[_0x518e2d(0x233)],![]),_0x34f5c6()):_0x107ddc=_0x2ca19a;}assert[_0x518e2d(0x2cb)](_0x107ddc['message'],_0x518e2d(0x237)),meta['config'][_0x518e2d(0x328)]=_0x40b5d0;}));}),describe(_0x1eeb0a[_0x4d8288(0x4e1)],()=>{const _0x435d70=_0x4d8288;_0x1eeb0a[_0x435d70(0x527)](_0x435d70(0x275),_0x1eeb0a[_0x435d70(0x39c)])?(_0x251e50[_0x435d70(0x524)](_0xd5b8a3),_0x57a71d['equal'](!![],_0x32b6c3),_0x1eeb0a[_0x435d70(0x580)](_0x505636)):(_0x1eeb0a[_0x435d70(0x4fd)](it,_0x1eeb0a[_0x435d70(0x584)],_0x290515=>{const _0x5a23dc=_0x435d70;_0x5a23dc(0x448)==='PSYYk'?_0x3cccdb[_0x5a23dc(0x33f)]({'uid':_0x4c4cfd},{'id':_0x51fdd6[0x1]},_0x49825a):socketPosts['bookmark']({'uid':_0xc80cc8},{'pid':_0xffafa9[_0x5a23dc(0x242)],'room_id':_0x5a23dc(0x2df)+_0xffafa9[_0x5a23dc(0x522)]},(_0x470175,_0x12f4be)=>{const _0x4f66bd=_0x5a23dc;assert[_0x4f66bd(0x524)](_0x470175),assert[_0x4f66bd(0x2cb)](_0x12f4be[_0x4f66bd(0x38c)],!![]),posts[_0x4f66bd(0x312)](_0xffafa9[_0x4f66bd(0x242)],_0xc80cc8,(_0x37a35d,_0x5371f9)=>{const _0x1a2b59=_0x4f66bd;assert[_0x1a2b59(0x524)](_0x37a35d),assert[_0x1a2b59(0x2cb)](_0x5371f9,!![]),_0x290515();});});}),_0x1eeb0a[_0x435d70(0x299)](it,_0x1eeb0a[_0x435d70(0x1ec)],_0x173e1c=>{const _0x15cf4f=_0x435d70,_0x5c7b11={'igwBh':function(_0x12f276){return _0x12f276();}};socketPosts['unbookmark']({'uid':_0xc80cc8},{'pid':_0xffafa9[_0x15cf4f(0x242)],'room_id':'topic_'+_0xffafa9[_0x15cf4f(0x522)]},(_0x561a4f,_0x5e7a6f)=>{const _0x49c5af=_0x15cf4f;assert[_0x49c5af(0x524)](_0x561a4f),assert['equal'](_0x5e7a6f[_0x49c5af(0x38c)],![]),posts[_0x49c5af(0x312)]([_0xffafa9[_0x49c5af(0x242)]],_0xc80cc8,(_0x515ddb,_0x20f2cb)=>{assert['ifError'](_0x515ddb),assert['equal'](_0x20f2cb[0x0],![]),_0x5c7b11['igwBh'](_0x173e1c);});});}));}),describe(_0x4d8288(0x467),()=>{const _0x533f85=_0x4d8288,_0x429e93={'hEEQf':'HBSKZ','vcrGG':function(_0xab050b,_0x5432ec){return _0xab050b(_0x5432ec);},'Qcwou':function(_0x114b87){return _0x1eeb0a['fVxYv'](_0x114b87);}};_0x1eeb0a['AJCQh'](it,_0x533f85(0x4ef),_0x569d4b=>{const _0x3ff49e=_0x533f85,_0x1a4ba2={'XvzPe':function(_0x39558c){return _0x39558c();},'bFoml':_0x3ff49e(0x358)};_0x429e93[_0x3ff49e(0x2ef)]!==_0x429e93[_0x3ff49e(0x2ef)]?(_0x575de7['ifError'](_0x42c35a),_0x3b517f[_0x3ff49e(0x2cb)](_0x1cdd29,!![]),_0x1a4ba2[_0x3ff49e(0x462)](_0x38bf68)):socketPosts[_0x3ff49e(0x373)]({'uid':_0x11ef4d},null,_0x2c8722=>{const _0x1fc671=_0x3ff49e;assert[_0x1fc671(0x2cb)](_0x2c8722[_0x1fc671(0x2c8)],_0x1a4ba2[_0x1fc671(0x4f0)]),_0x569d4b();});}),_0x1eeb0a[_0x533f85(0x4ed)](it,_0x1eeb0a[_0x533f85(0x451)],_0x17e978=>{socketPosts['loadPostTools']({'uid':_0x11ef4d},{'pid':_0xffafa9['pid'],'cid':_0x162979},(_0x5ea885,_0x11754b)=>{const _0x564183=_0x12cc;assert['ifError'](_0x5ea885),_0x429e93[_0x564183(0x474)](assert,_0x11754b[_0x564183(0x354)][_0x564183(0x36e)]),assert(_0x11754b['posts'][_0x564183(0x257)]),_0x429e93[_0x564183(0x474)](assert,_0x11754b['posts']['display_moderator_tools']),assert(_0x11754b[_0x564183(0x354)]['display_move_tools']),_0x429e93[_0x564183(0x4b9)](_0x17e978);});});}),describe(_0x1eeb0a['pMGGB'],()=>{const _0x2611f4=_0x4d8288,_0x31eb5a={'JLbUP':_0x1eeb0a[_0x2611f4(0x40d)],'FHUHz':_0x1eeb0a[_0x2611f4(0x384)],'wGTPi':function(_0x597ce7,_0x419051){const _0x2b888f=_0x2611f4;return _0x1eeb0a[_0x2b888f(0x290)](_0x597ce7,_0x419051);},'ASCpu':function(_0x3b4741,_0x201b68,_0x4f22d1,_0x48065f){return _0x3b4741(_0x201b68,_0x4f22d1,_0x48065f);},'kCptf':function(_0x356442,_0x39a492){const _0x57c676=_0x2611f4;return _0x1eeb0a[_0x57c676(0x445)](_0x356442,_0x39a492);},'VoAmB':_0x2611f4(0x47e),'hPQEA':_0x2611f4(0x2f4),'AHVRw':_0x1eeb0a['NqOXY'],'cvkip':_0x2611f4(0x209),'gdkJR':_0x2611f4(0x393),'stULg':_0x2611f4(0x349),'uEjza':_0x1eeb0a[_0x2611f4(0x2b5)],'HHDEh':function(_0xa919a1){const _0x45314f=_0x2611f4;return _0x1eeb0a[_0x45314f(0x370)](_0xa919a1);},'dUUmq':function(_0x4e03a2,_0x3f49dc){return _0x4e03a2!==_0x3f49dc;},'TTePj':_0x1eeb0a[_0x2611f4(0x256)],'xkuYi':function(_0x258482){const _0x272265=_0x2611f4;return _0x1eeb0a[_0x272265(0x25a)](_0x258482);},'nuPzG':function(_0x3e50a8,_0x316d1f){const _0x44a484=_0x2611f4;return _0x1eeb0a[_0x44a484(0x3a9)](_0x3e50a8,_0x316d1f);},'ZYPvR':_0x1eeb0a['bILik'],'GsEfE':_0x1eeb0a[_0x2611f4(0x44d)]};function _0x57e17e(_0x469eb3){const _0x27fce3=_0x2611f4;topics[_0x27fce3(0x341)]({'uid':_0xc80cc8,'cid':_0x162979,'title':_0x1eeb0a['lvKFQ'],'content':_0x27fce3(0x436)},(_0x56f77c,_0x3d34bc)=>{const _0x36c2f2=_0x27fce3;assert[_0x36c2f2(0x524)](_0x56f77c),topics[_0x36c2f2(0x1ff)]({'uid':_0xc80cc8,'tid':_0x3d34bc['topicData']['tid'],'timestamp':Date['now'](),'content':_0x36c2f2(0x287)},(_0x4f2135,_0x2baf06)=>{const _0x20dadb=_0x36c2f2;assert[_0x20dadb(0x524)](_0x4f2135),_0x469eb3(_0x3d34bc,_0x2baf06);});});}let _0x4b6fe4,_0x338267,_0x2a49bd;before(_0x163d04=>{const _0x56ddd4=_0x2611f4,_0x251629={'oXSkM':_0x1eeb0a[_0x56ddd4(0x46b)]};_0x1eeb0a[_0x56ddd4(0x495)](_0x57e17e,(_0x35d010,_0x1de901)=>{const _0x137903=_0x56ddd4;_0x4b6fe4=_0x35d010['topicData'][_0x137903(0x522)],_0x338267=_0x35d010[_0x137903(0x239)]['pid'],_0x2a49bd=_0x1de901['pid'],privileges['categories'][_0x137903(0x356)]([_0x137903(0x53c)],_0x162979,_0x251629[_0x137903(0x575)],_0x163d04);});}),_0x1eeb0a[_0x2611f4(0x344)](it,_0x2611f4(0x566),_0xcc807a=>{const _0xf98a0d=_0x2611f4;_0x31eb5a[_0xf98a0d(0x583)](_0xf98a0d(0x2e2),_0xf98a0d(0x51d))?_0x1f8e54[_0xf98a0d(0x341)]({'uid':0x1,'cid':_0x44dd11,'title':'topic\x20to\x20test\x20uploads\x20with','content':_0x31eb5a['JLbUP']},(_0x5ea2fc,_0x52b850)=>{const _0x3cddd7=_0xf98a0d;_0x390f8e[_0x3cddd7(0x524)](_0x5ea2fc),_0x393b9e[_0x3cddd7(0x1ff)]({'uid':0x1,'tid':_0x52b850[_0x3cddd7(0x2fe)][_0x3cddd7(0x522)],'timestamp':_0x4c6215[_0x3cddd7(0x36a)](),'content':'[abcdef](/assets/uploads/files/shazam.jpg)'},(_0x89f065,_0x205021)=>{const _0x5ed1eb=_0x3cddd7;_0x5548a9[_0x5ed1eb(0x524)](_0x89f065),_0x1cf7a4=_0x52b850,_0x10a7b5=_0x205021,_0x5c1e1e();});}):socketPosts[_0xf98a0d(0x442)]({'uid':_0xc80cc8},null,_0x5c9984=>{const _0x581257=_0xf98a0d;assert[_0x581257(0x2cb)](_0x5c9984['message'],_0x31eb5a[_0x581257(0x21b)]),_0xcc807a();});}),it(_0x2611f4(0x1f5),_0xd94d42=>{const _0x64de4f=_0x2611f4,_0x4bea33={'bJWcP':function(_0x1f6451){const _0x4387ae=_0x12cc;return _0x1eeb0a[_0x4387ae(0x283)](_0x1f6451);}};socketPosts[_0x64de4f(0x442)]({'uid':_0xc80cc8},{'pid':_0x2a49bd,'tid':_0x4b6fe4},_0x12e438=>{const _0x5ec032=_0x64de4f,_0x13a254={'sdHys':_0x5ec032(0x34c),'mqMgy':function(_0x3c43e9,_0xf8e421,_0x55bdd9,_0x1048e6){const _0x1d94ab=_0x5ec032;return _0x31eb5a[_0x1d94ab(0x32f)](_0x3c43e9,_0xf8e421,_0x55bdd9,_0x1048e6);},'OlZKf':'url'};if(_0x31eb5a[_0x5ec032(0x249)](_0x31eb5a['VoAmB'],_0x31eb5a[_0x5ec032(0x25f)])){const _0x1cb29b={'eTOQN':_0x13a254[_0x5ec032(0x3c8)],'nOiPj':function(_0x5b7b9d,_0xa77478,_0x5958ef,_0x4c485c){const _0x361df4=_0x5ec032;return _0x13a254[_0x361df4(0x431)](_0x5b7b9d,_0xa77478,_0x5958ef,_0x4c485c);},'mqAgZ':_0x13a254['OlZKf']};_0xf1a99d[_0x5ec032(0x1e3)](_0x5ec032(0x3e7),_0x5ec032(0x2f4),(_0x48e8c3,_0x33c3c8)=>{const _0x1c1d17=_0x5ec032;_0x5cc861[_0x1c1d17(0x524)](_0x48e8c3);const _0xee0dad=_0x33c3c8;_0x1cb29b[_0x1c1d17(0x378)](_0x4aeb7b,_0x47a31d[_0x1c1d17(0x231)](_0x1cb29b[_0x1c1d17(0x345)])+_0x1c1d17(0x57e)+_0x188a08,{'jar':_0xee0dad,'json':!![]},(_0x3e7d47,_0x34fe83,_0xe4650b)=>{const _0x741c12=_0x1c1d17;_0x1dc458[_0x741c12(0x524)](_0x3e7d47),_0x4de3f1[_0x741c12(0x2cb)](_0xe4650b[_0x741c12(0x354)][0x1][_0x741c12(0x390)],_0x1cb29b[_0x741c12(0x507)]),_0x4229c2[_0x741c12(0x501)][_0x741c12(0x356)](['groups:posts:view_deleted'],_0x58548b,_0x741c12(0x48f),_0x504f56);});});}else assert[_0x5ec032(0x524)](_0x12e438),posts['getPostField'](_0x2a49bd,_0x5ec032(0x349),(_0xf236e4,_0x5a020e)=>{const _0xbbeed6=_0x5ec032;assert[_0xbbeed6(0x524)](_0xf236e4),assert[_0xbbeed6(0x20b)](_0x5a020e,0x1),_0x4bea33['bJWcP'](_0xd94d42);});});}),it(_0x2611f4(0x517),_0x400433=>{const _0x2bc07d=_0x2611f4,_0x4317a4={'RdRrV':_0x1eeb0a[_0x2bc07d(0x449)],'ALQbg':_0x1eeb0a[_0x2bc07d(0x2ea)],'oEsSP':_0x1eeb0a[_0x2bc07d(0x229)],'yttCV':'[[error:invalid-data]]','DCyDR':function(_0x5198b7){return _0x5198b7();}};_0x1eeb0a[_0x2bc07d(0x445)](_0x1eeb0a[_0x2bc07d(0x4ba)],_0x1eeb0a['gDyPW'])?async['waterfall']([function(_0x1999e8){const _0x2e3f34=_0x2bc07d;user[_0x2e3f34(0x27e)]({'username':'global\x20mod','password':_0x31eb5a['hPQEA']},_0x1999e8);},function(_0x5c8184,_0x5b575c){const _0x19fd50=_0x2bc07d;groups[_0x19fd50(0x3a8)](_0x31eb5a['AHVRw'],_0x5c8184,_0x5b575c);},function(_0x3094d7){const _0x9cd7b9=_0x2bc07d;privileges[_0x9cd7b9(0x501)][_0x9cd7b9(0x2d0)]([_0x31eb5a[_0x9cd7b9(0x2e4)]],_0x162979,_0x31eb5a[_0x9cd7b9(0x2ae)],_0x3094d7);},function(_0x552d02){const _0x2bbb39=_0x2bc07d,_0x4f3519={'pqxJi':_0x4317a4[_0x2bbb39(0x1ca)],'MUkoT':function(_0x3b7211,_0x2cfbec){return _0x3b7211===_0x2cfbec;},'GitWR':_0x4317a4[_0x2bbb39(0x523)],'gCxeu':function(_0xf0e519,_0x44663c,_0x47d1f0,_0x40ee10){return _0xf0e519(_0x44663c,_0x47d1f0,_0x40ee10);}};helpers[_0x2bbb39(0x1e3)](_0x2bbb39(0x3e7),_0x4317a4['oEsSP'],(_0x4dc0f0,_0x123a9e)=>{const _0x5404a2=_0x2bbb39,_0x37bb5c={'ZKjVZ':_0x5404a2(0x48f),'gyKKD':_0x4f3519['pqxJi']};if(_0x4f3519[_0x5404a2(0x1d4)](_0x4f3519[_0x5404a2(0x269)],_0x5404a2(0x530))){assert[_0x5404a2(0x524)](_0x4dc0f0);const _0x25f44e=_0x123a9e;_0x4f3519[_0x5404a2(0x4ee)](request,nconf['get'](_0x5404a2(0x407))+_0x5404a2(0x57e)+_0x4b6fe4,{'jar':_0x25f44e,'json':!![]},(_0x25c28c,_0x2beca4,_0xb40c47)=>{const _0x51e9e5=_0x5404a2;assert[_0x51e9e5(0x524)](_0x25c28c),assert['equal'](_0xb40c47[_0x51e9e5(0x354)][0x1]['content'],_0x51e9e5(0x34c)),privileges[_0x51e9e5(0x501)][_0x51e9e5(0x356)]([_0x51e9e5(0x209)],_0x162979,_0x37bb5c[_0x51e9e5(0x24e)],_0x552d02);});}else{const _0x52c5e8={'QuGkO':_0x37bb5c[_0x5404a2(0x2d5)]};_0x24ca23[_0x5404a2(0x442)]({'uid':_0x25a4b9},{'pid':_0xf94ffa,'tid':_0x12e5e8},_0x5e7beb=>{const _0x369901=_0x5404a2,_0x148f83={'KfPIm':function(_0x39e5f8){return _0x39e5f8();}};_0x399f60[_0x369901(0x524)](_0x5e7beb),_0x8d686f[_0x369901(0x529)](_0x132231,_0x52c5e8[_0x369901(0x43c)],(_0x1692cb,_0x5793e1)=>{const _0x597757=_0x369901;_0x2d7402[_0x597757(0x524)](_0x1692cb),_0x48480c[_0x597757(0x20b)](_0x5793e1,0x1),_0x148f83[_0x597757(0x2af)](_0x1b2d75);});});}});}],_0x400433):(_0x165558[_0x2bc07d(0x2cb)](_0x33ce67[_0x2bc07d(0x2c8)],_0x4317a4[_0x2bc07d(0x2ed)]),_0x4317a4[_0x2bc07d(0x1eb)](_0x1886e3));}),_0x1eeb0a['oyzRv'](it,_0x2611f4(0x303),_0xbe0590=>{const _0x2e6154=_0x2611f4,_0xfda086={'fkZJr':function(_0x363508,_0x2c1805){return _0x363508!==_0x2c1805;},'PHbFJ':_0x31eb5a[_0x2e6154(0x4df)]};socketPosts['restore']({'uid':_0xc80cc8},{'pid':_0x2a49bd,'tid':_0x4b6fe4},_0x1a1ee3=>{const _0x55a457=_0x2e6154,_0x172e4={'FYzle':_0x31eb5a['gdkJR']};assert[_0x55a457(0x524)](_0x1a1ee3),posts[_0x55a457(0x529)](_0x2a49bd,_0x31eb5a[_0x55a457(0x295)],(_0x3a389c,_0xd52ec3)=>{const _0x3da886=_0x55a457;if(_0xfda086['fkZJr'](_0xfda086[_0x3da886(0x47f)],_0x3da886(0x27c)))assert[_0x3da886(0x524)](_0x3a389c),assert[_0x3da886(0x20b)](_0xd52ec3,0x0),_0xbe0590();else{const _0x12439c={'ZwKAF':'whoa.gif'};_0x36abff[_0x3da886(0x2eb)]([_0x349ad2['apply'](_0x14899a[_0x3da886(0x3f0)][_0x3da886(0x325)],_0x4d15d6,_0x172e4[_0x3da886(0x252)]),_0x3c4538[_0x3da886(0x33c)](_0x5e4fda['uploads'][_0x3da886(0x20c)],_0x4e5a45)],(_0x3bd08f,_0x2ea57c)=>{const _0x277c9a=_0x3da886;_0x1f91c1[_0x277c9a(0x524)](_0x3bd08f),_0x2cb93b['strictEqual'](0x2,_0x2ea57c['length']),_0x226c34[_0x277c9a(0x20b)](!![],_0x2ea57c['includes'](_0x12439c[_0x277c9a(0x3b4)])),_0x31ae8d();});}});});}),_0x1eeb0a[_0x2611f4(0x365)](it,_0x2611f4(0x525),_0x5b3341=>{const _0x27d1af=_0x2611f4;socketPosts[_0x27d1af(0x24c)]({'uid':_0x11ef4d},{'pids':[_0x2a49bd,_0x338267]},_0x4f357d=>{const _0x10a398=_0x27d1af,_0x5711dc={'WLSWB':function(_0x27bda0){const _0x4f5d09=_0x12cc;return _0x31eb5a[_0x4f5d09(0x26c)](_0x27bda0);}};assert[_0x10a398(0x524)](_0x4f357d),posts['getPostField'](_0x2a49bd,_0x31eb5a[_0x10a398(0x295)],(_0x26833a,_0x3edf68)=>{const _0x190d8d=_0x10a398;assert[_0x190d8d(0x524)](_0x26833a),assert['strictEqual'](_0x3edf68,0x1),posts[_0x190d8d(0x529)](_0x338267,'deleted',(_0x12c659,_0xfee75f)=>{const _0x275356=_0x190d8d;assert[_0x275356(0x524)](_0x12c659),assert[_0x275356(0x20b)](_0xfee75f,0x1),_0x5711dc[_0x275356(0x226)](_0x5b3341);});});});}),_0x1eeb0a[_0x2611f4(0x311)](it,_0x2611f4(0x3fe),_0x666f47=>{const _0x5d9197=_0x2611f4,_0x2e2c07={'hNhBF':function(_0xf878f8){return _0xf878f8();},'ueByl':function(_0x52fba8,_0x5dfbe4){const _0x59eb68=_0x12cc;return _0x31eb5a[_0x59eb68(0x375)](_0x52fba8,_0x5dfbe4);}};topics[_0x5d9197(0x341)]({'uid':_0xc80cc8,'cid':_0x162979,'title':_0x31eb5a[_0x5d9197(0x215)],'content':_0x5d9197(0x3ad)},(_0x37b4f2,_0x37e6d7)=>{const _0x11c9cf=_0x5d9197,_0x39a2fe={'iGwnL':function(_0x341017){const _0xd47fa4=_0x12cc;return _0x2e2c07[_0xd47fa4(0x44c)](_0x341017);},'NlAFZ':function(_0x583e15,_0xbbea81){return _0x2e2c07['ueByl'](_0x583e15,_0xbbea81);},'RXsGl':'gHWMP'};assert[_0x11c9cf(0x524)](_0x37b4f2),socketPosts[_0x11c9cf(0x24c)]({'uid':_0x11ef4d},{'pids':[_0x37e6d7['postData'][_0x11c9cf(0x242)]]},_0x509307=>{const _0x1bf73f=_0x11c9cf,_0x225e20={'kMcwP':function(_0x2a762f){return _0x39a2fe['iGwnL'](_0x2a762f);}};_0x39a2fe['NlAFZ'](_0x1bf73f(0x33e),_0x39a2fe[_0x1bf73f(0x4db)])?(assert[_0x1bf73f(0x524)](_0x509307),topics[_0x1bf73f(0x2a6)](_0x37e6d7[_0x1bf73f(0x2fe)]['tid'],'deleted',(_0x5c50f2,_0x42a1cb)=>{const _0x2fb02c=_0x1bf73f;assert[_0x2fb02c(0x524)](_0x5c50f2),assert[_0x2fb02c(0x20b)](_0x42a1cb,0x1),_0x225e20[_0x2fb02c(0x1d7)](_0x666f47);})):_0x496078['getPidIndex']({'uid':_0x1e2efb},null,_0x31d36c=>{const _0x51ab4f=_0x1bf73f;_0xcd146e['equal'](_0x31d36c['message'],_0x51ab4f(0x358)),_0x31b0af();});});});}),_0x1eeb0a[_0x2611f4(0x4ed)](it,_0x1eeb0a['MfftA'],_0x3129c1=>{_0x1eeb0a['xxSpz'](_0x57e17e,(_0x548872,_0x4733bd)=>{const _0x5a36d4=_0x12cc,_0x212641={'wLJxI':function(_0x491638){const _0x3a4361=_0x12cc;return _0x31eb5a[_0x3a4361(0x2dd)](_0x491638);}};_0x31eb5a[_0x5a36d4(0x274)](_0x31eb5a[_0x5a36d4(0x4b7)],_0x31eb5a['GsEfE'])?_0x420691[_0x5a36d4(0x38f)]({'uid':0x0},_0xeb67a5,_0x24aedb=>{const _0x2c49b3=_0x5a36d4;_0x1e2316[_0x2c49b3(0x2cb)](_0x24aedb[_0x2c49b3(0x2c8)],'[[error:no-privileges]]'),_0x2f4e67();}):socketPosts['purgePosts']({'uid':_0xc80cc8},{'pids':[_0x4733bd[_0x5a36d4(0x242)],_0x548872[_0x5a36d4(0x239)]['pid']],'tid':_0x548872[_0x5a36d4(0x2fe)]['tid']},_0x5ddb9c=>{const _0x59ab8b=_0x5a36d4;assert[_0x59ab8b(0x524)](_0x5ddb9c),posts[_0x59ab8b(0x1e4)](_0x59ab8b(0x4a3)+_0x4733bd[_0x59ab8b(0x242)],(_0x233d5e,_0xeabbb9)=>{const _0x297f57=_0x59ab8b,_0x4f39c2={'KYsgN':function(_0x23cad4){const _0xb9807f=_0x12cc;return _0x212641[_0xb9807f(0x49f)](_0x23cad4);}};assert[_0x297f57(0x524)](_0x233d5e),assert[_0x297f57(0x2cb)](_0xeabbb9,![]),topics['exists'](_0x548872['topicData'][_0x297f57(0x522)],(_0x5e16ee,_0x9c141b)=>{const _0x34602f=_0x297f57;assert[_0x34602f(0x524)](_0x5e16ee),assert(!_0x9c141b),_0x4f39c2[_0x34602f(0x266)](_0x3129c1);});});});});});}),_0x1eeb0a['EmNTW'](describe,_0x1eeb0a['HnaJK'],()=>{const _0x3aa331=_0x4d8288,_0x3dbc31={'fHLAz':function(_0x2899a2,_0x3d2e86){const _0x245d29=_0x12cc;return _0x1eeb0a[_0x245d29(0x276)](_0x2899a2,_0x3d2e86);},'jFOfu':function(_0x3ffa96){return _0x3ffa96();},'EWKPN':_0x3aa331(0x4d9),'gYoFI':_0x1eeb0a[_0x3aa331(0x54f)],'ENOTc':_0x1eeb0a['ENGmF'],'isUaC':function(_0x1a3e9a){const _0x3ea86b=_0x3aa331;return _0x1eeb0a[_0x3ea86b(0x504)](_0x1a3e9a);},'xOtAL':function(_0x4dd791,_0x747fbc){const _0x163e3c=_0x3aa331;return _0x1eeb0a[_0x163e3c(0x22d)](_0x4dd791,_0x747fbc);},'euDUA':_0x3aa331(0x3a5),'CiIUR':function(_0x503599,_0x3dd4ed){return _0x503599(_0x3dd4ed);},'tgYeG':_0x3aa331(0x1fd),'DsEZE':'edited\x20post\x20content\x20again','pgGkJ':_0x3aa331(0x352),'EXSKp':_0x3aa331(0x502),'cCwgs':function(_0x46f08a,_0x30b491){return _0x46f08a(_0x30b491);},'KHdyB':function(_0x2a4976,_0x3e34b1,_0x1194be){return _0x1eeb0a['bfAeB'](_0x2a4976,_0x3e34b1,_0x1194be);},'JOZLp':function(_0x1508b2,_0x5eedcc){return _0x1508b2(_0x5eedcc);},'vvCKl':_0x1eeb0a[_0x3aa331(0x302)],'QdriJ':_0x1eeb0a[_0x3aa331(0x265)]};let _0x20f80a,_0x1f7f10,_0x56a258;_0x1eeb0a[_0x3aa331(0x495)](before,_0x221c9a=>{const _0x195dd8=_0x3aa331,_0x536a2e={'fTGxU':'groups:posts:edit','eiMFQ':_0x1eeb0a[_0x195dd8(0x46b)]};topics['post']({'uid':_0xc80cc8,'cid':_0x162979,'title':_0x1eeb0a[_0x195dd8(0x36c)],'content':_0x1eeb0a[_0x195dd8(0x1f2)]},(_0x75c1fa,_0x438f1d)=>{const _0x152034=_0x195dd8;assert[_0x152034(0x524)](_0x75c1fa),_0x20f80a=_0x438f1d[_0x152034(0x239)][_0x152034(0x242)],_0x56a258=_0x438f1d[_0x152034(0x2fe)][_0x152034(0x522)],topics[_0x152034(0x1ff)]({'uid':_0xc80cc8,'tid':_0x56a258,'timestamp':Date['now'](),'content':_0x152034(0x512)},(_0x9141a4,_0x254a23)=>{const _0x2766cc=_0x152034;assert[_0x2766cc(0x524)](_0x9141a4),_0x1f7f10=_0x254a23[_0x2766cc(0x242)],privileges[_0x2766cc(0x501)]['give']([_0x536a2e[_0x2766cc(0x52c)]],_0x162979,_0x536a2e[_0x2766cc(0x492)],_0x221c9a);});});}),_0x1eeb0a[_0x3aa331(0x37b)](it,_0x1eeb0a['WDKAA'],_0x1c488d=>{const _0x4c711a=_0x3aa331;socketPosts[_0x4c711a(0x268)]({'uid':0x0},{},_0x39f197=>{const _0x36c517=_0x4c711a;assert['equal'](_0x39f197[_0x36c517(0x2c8)],_0x36c517(0x1e2)),_0x1c488d();});}),it(_0x1eeb0a[_0x3aa331(0x434)],_0x140b51=>{const _0xc99fa8=_0x3aa331;socketPosts[_0xc99fa8(0x268)]({'uid':_0xc80cc8},{},_0x7e0e08=>{const _0x29be9b=_0xc99fa8,_0x50e078={'mutrV':function(_0x3954b6){return _0x3954b6();}};_0x3dbc31[_0x29be9b(0x385)]('ZOvVm',_0x29be9b(0x32a))?(_0x42dd11[_0x29be9b(0x2cb)](_0x322129[_0x29be9b(0x2c8)],'[[error:no-privileges]]'),_0x50e078[_0x29be9b(0x20f)](_0x198073)):(assert['equal'](_0x7e0e08['message'],_0x29be9b(0x358)),_0x140b51());});}),it('should\x20error\x20if\x20title\x20is\x20too\x20short',_0x13380d=>{const _0x53554c=_0x3aa331,_0x3e3dff={'RJpEM':_0x53554c(0x1ff),'qbvJu':function(_0x44497e){return _0x44497e();}};_0x53554c(0x2b7)!==_0x53554c(0x3d0)?socketPosts[_0x53554c(0x268)]({'uid':_0xc80cc8},{'pid':_0x20f80a,'content':_0x53554c(0x1ee),'title':'a'},_0x5f4f07=>{const _0xb3754e=_0x53554c;assert[_0xb3754e(0x2cb)](_0x5f4f07[_0xb3754e(0x2c8)],_0xb3754e(0x427)+meta[_0xb3754e(0x204)]['minimumTitleLength']+']]'),_0x13380d();}):(_0x53cac2[_0x53554c(0x524)](_0x533ac0),_0x577a6e['equal'](_0x4599da['posts'][0x1][_0x53554c(0x3b6)],_0x3e3dff['RJpEM']),_0x136b3d[_0x53554c(0x2cb)](_0x4a9036['posts'][0x1][_0x53554c(0x247)]['content'],_0x53554c(0x4fc)),_0x3e3dff['qbvJu'](_0x2c92bb));}),it(_0x3aa331(0x571),_0x18ad57=>{const _0x120c6e=_0x3aa331,_0x397dcd={'PmDCo':function(_0xbf49aa){return _0xbf49aa();}},_0xc66a83=new Array(meta[_0x120c6e(0x204)][_0x120c6e(0x382)]+0x2)[_0x120c6e(0x3a8)]('a');socketPosts['edit']({'uid':_0xc80cc8},{'pid':_0x20f80a,'content':_0x1eeb0a[_0x120c6e(0x46e)],'title':_0xc66a83},_0x1becec=>{const _0x3911d4=_0x120c6e;assert[_0x3911d4(0x2cb)](_0x1becec[_0x3911d4(0x2c8)],_0x3911d4(0x214)+meta[_0x3911d4(0x204)]['maximumTitleLength']+']]'),_0x397dcd[_0x3911d4(0x309)](_0x18ad57);});}),_0x1eeb0a[_0x3aa331(0x3da)](it,_0x3aa331(0x394),_0x2fa4b4=>{const _0x77fc32=_0x3aa331,_0x106527=meta[_0x77fc32(0x204)][_0x77fc32(0x4e3)];meta[_0x77fc32(0x204)][_0x77fc32(0x4e3)]=0x1,socketPosts[_0x77fc32(0x268)]({'uid':_0xc80cc8},{'pid':_0x20f80a,'content':_0x77fc32(0x1ee),'tags':[]},_0x13fac3=>{const _0x3f7fc9=_0x77fc32,_0x2f21dd={'zfOTY':function(_0xa2cc1f){return _0x3dbc31['jFOfu'](_0xa2cc1f);}};_0x3dbc31[_0x3f7fc9(0x2c6)]!==_0x3dbc31[_0x3f7fc9(0x4f4)]?(assert[_0x3f7fc9(0x2cb)](_0x13fac3['message'],'[[error:not-enough-tags,\x20'+meta['config'][_0x3f7fc9(0x4e3)]+']]'),meta[_0x3f7fc9(0x204)][_0x3f7fc9(0x4e3)]=_0x106527,_0x2fa4b4()):(_0x127009[_0x3f7fc9(0x524)](_0x18fe1c),_0x2864b8=_0x2d6a72,_0x2f21dd[_0x3f7fc9(0x4ac)](_0x361489));});}),it(_0x3aa331(0x1f8),_0x143463=>{const _0x363d7b=_0x3aa331,_0x4cb3ef=[];for(let _0x41792d=0x0;_0x41792d<meta[_0x363d7b(0x204)][_0x363d7b(0x39d)]+0x1;_0x41792d+=0x1){_0x4cb3ef[_0x363d7b(0x1de)](_0x363d7b(0x418)+_0x41792d);}socketPosts['edit']({'uid':_0xc80cc8},{'pid':_0x20f80a,'content':_0x3dbc31[_0x363d7b(0x3b3)],'tags':_0x4cb3ef},_0x3655db=>{const _0x31fd7f=_0x363d7b;assert[_0x31fd7f(0x2cb)](_0x3655db[_0x31fd7f(0x2c8)],_0x31fd7f(0x31c)+meta[_0x31fd7f(0x204)][_0x31fd7f(0x39d)]+']]'),_0x143463();});}),_0x1eeb0a[_0x3aa331(0x4ed)](it,_0x1eeb0a[_0x3aa331(0x37c)],_0xfe3bbd=>{const _0x5c6507=_0x3aa331;socketPosts[_0x5c6507(0x268)]({'uid':_0xc80cc8},{'pid':_0x20f80a,'content':'e'},_0x2db358=>{const _0x2b7837=_0x5c6507;assert['equal'](_0x2db358[_0x2b7837(0x2c8)],'[[error:content-too-short,\x20'+meta[_0x2b7837(0x204)]['minimumPostLength']+']]'),_0xfe3bbd();});}),_0x1eeb0a[_0x3aa331(0x2ba)](it,_0x1eeb0a[_0x3aa331(0x23d)],_0x458108=>{const _0x1c299d=_0x3aa331,_0x1bd010=new Array(_0x3dbc31[_0x1c299d(0x2ff)](meta[_0x1c299d(0x204)]['maximumPostLength'],0x2))[_0x1c299d(0x3a8)]('a');socketPosts[_0x1c299d(0x268)]({'uid':_0xc80cc8},{'pid':_0x20f80a,'content':_0x1bd010},_0xc7b135=>{const _0xa5db33=_0x1c299d;assert['equal'](_0xc7b135[_0xa5db33(0x2c8)],_0xa5db33(0x2f3)+meta[_0xa5db33(0x204)][_0xa5db33(0x3c1)]+']]'),_0x3dbc31[_0xa5db33(0x542)](_0x458108);});}),_0x1eeb0a[_0x3aa331(0x280)](it,_0x3aa331(0x52d),async()=>{const _0x500f82=_0x3aa331,_0x25c1db=await socketPosts[_0x500f82(0x268)]({'uid':_0xc80cc8},{'pid':_0x20f80a,'content':_0x3dbc31[_0x500f82(0x3b3)],'title':_0x500f82(0x3a5),'tags':[_0x500f82(0x2c7)]});assert[_0x500f82(0x20b)](_0x25c1db['content'],_0x500f82(0x1ee)),assert[_0x500f82(0x20b)](_0x25c1db[_0x500f82(0x3ce)],_0xc80cc8),assert[_0x500f82(0x20b)](_0x25c1db[_0x500f82(0x3fa)][_0x500f82(0x560)],_0x3dbc31[_0x500f82(0x369)]),assert['strictEqual'](_0x25c1db['topic'][_0x500f82(0x3bc)][0x0][_0x500f82(0x516)],'edited');const _0x1bff15=await db[_0x500f82(0x20e)](_0x500f82(0x4a3)+_0x20f80a);_0x3dbc31[_0x500f82(0x1cf)](assert,!_0x1bff15['hasOwnProperty'](_0x3dbc31[_0x500f82(0x3c9)]));}),it(_0x1eeb0a[_0x3aa331(0x4de)],_0x1c9c0e=>{const _0x395371=_0x3aa331,_0x1796d3={'wqgfB':function(_0x34e727){const _0x3cc076=_0x12cc;return _0x1eeb0a[_0x3cc076(0x49b)](_0x34e727);},'qYFVv':function(_0x2eaaa0,_0x52f11d){return _0x2eaaa0===_0x52f11d;},'OXYVu':_0x395371(0x42b),'OCoDY':'[[error:post-edit-duration-expired,\x201]]'};meta['config']['newbiePostEditDuration']=0x1,setTimeout(()=>{const _0x39a289=_0x395371;socketPosts['edit']({'uid':_0xc80cc8},{'pid':_0x20f80a,'content':_0x3dbc31[_0x39a289(0x586)],'title':_0x39a289(0x316),'tags':['edited-twice']},(_0x45b6f2,_0x2f00a7)=>{const _0x41b6d7=_0x39a289,_0x17ad5d={'YRWcC':function(_0x33369e){const _0x3b540e=_0x12cc;return _0x1796d3[_0x3b540e(0x570)](_0x33369e);}};_0x1796d3[_0x41b6d7(0x27a)](_0x41b6d7(0x520),_0x1796d3[_0x41b6d7(0x4a1)])?(_0x404f19['ifError'](_0x12f35a),_0x2d7033[_0x41b6d7(0x20b)](!![],_0x5d7ef3[_0x41b6d7(0x1db)](_0x519a90)),_0xb6d28d['strictEqual'](0x0,_0x4d7dde[_0x41b6d7(0x45d)]),_0x17ad5d['YRWcC'](_0x334bbd)):(assert[_0x41b6d7(0x2cb)](_0x45b6f2[_0x41b6d7(0x2c8)],_0x1796d3[_0x41b6d7(0x3be)]),meta[_0x41b6d7(0x204)][_0x41b6d7(0x477)]=0xe10,_0x1796d3[_0x41b6d7(0x570)](_0x1c9c0e));});},0x3e8);}),it(_0x1eeb0a[_0x3aa331(0x4f5)],_0xd3e49a=>{const _0x548ec4=_0x3aa331,_0x39ec61={'gcWaA':_0x548ec4(0x377),'UKknJ':_0x548ec4(0x538),'uvbWx':function(_0x236ac8){const _0x28ef75=_0x548ec4;return _0x1eeb0a[_0x28ef75(0x580)](_0x236ac8);}};if(_0x1eeb0a[_0x548ec4(0x2e6)]!=='dKbBs'){const _0x39780f={'dycKI':_0x548ec4(0x461)};_0x52609a[_0x548ec4(0x1ff)]({'uid':_0x4b3fce,'tid':_0xf1aad2['tid'],'timestamp':_0x2844ab['now'](),'content':'raw\x20content'},(_0x47547e,_0x253bb9)=>{const _0xb8bab2=_0x548ec4;_0x5946c6[_0xb8bab2(0x524)](_0x47547e),_0x3d2f99=_0x253bb9[_0xb8bab2(0x242)],_0x3b7deb['categories']['rescind']([_0xb8bab2(0x4bd)],_0x3dd88a,_0x39780f['dycKI'],_0x1912e8);});}else socketPosts['delete']({'uid':_0xc80cc8},{'pid':_0x20f80a,'tid':_0x56a258},_0x1474e3=>{const _0x387772=_0x548ec4;assert[_0x387772(0x524)](_0x1474e3),socketPosts[_0x387772(0x268)]({'uid':_0xc80cc8},{'pid':_0x20f80a,'content':_0x387772(0x377),'title':_0x39ec61[_0x387772(0x26a)],'tags':[_0x387772(0x349)]},(_0x1632c1,_0x3ead3d)=>{const _0x50fba2=_0x387772,_0xc2a738='1|2|5|3|0|4'[_0x50fba2(0x2d2)]('|');let _0x378af8=0x0;while(!![]){switch(_0xc2a738[_0x378af8++]){case'0':assert[_0x50fba2(0x2cb)](_0x3ead3d[_0x50fba2(0x3fa)]['tags'][0x0][_0x50fba2(0x516)],_0x50fba2(0x349));continue;case'1':assert[_0x50fba2(0x524)](_0x1632c1);continue;case'2':assert[_0x50fba2(0x2cb)](_0x3ead3d['content'],_0x39ec61[_0x50fba2(0x537)]);continue;case'3':assert[_0x50fba2(0x2cb)](_0x3ead3d[_0x50fba2(0x3fa)]['title'],_0x39ec61[_0x50fba2(0x26a)]);continue;case'4':_0x39ec61[_0x50fba2(0x1fb)](_0xd3e49a);continue;case'5':assert[_0x50fba2(0x2cb)](_0x3ead3d['editor'],_0xc80cc8);continue;}break;}});});}),_0x1eeb0a['oyzRv'](it,_0x1eeb0a['CJOaR'],_0x7a087b=>{const _0x1a8680=_0x3aa331,_0x54f99c={'KkNKD':function(_0x543678){return _0x543678();}};socketPosts[_0x1a8680(0x268)]({'uid':_0xc80cc8},{'pid':_0x1f7f10,'content':_0x1eeb0a[_0x1a8680(0x21c)]},(_0xd203b5,_0x136cd4)=>{const _0x5d02fd=_0x1a8680,_0x1d64ef=_0x5d02fd(0x348)[_0x5d02fd(0x2d2)]('|');let _0x297a5e=0x0;while(!![]){switch(_0x1d64ef[_0x297a5e++]){case'0':_0x54f99c[_0x5d02fd(0x326)](_0x7a087b);continue;case'1':assert[_0x5d02fd(0x2cb)](_0x136cd4['editor'],_0xc80cc8);continue;case'2':assert[_0x5d02fd(0x2cb)](_0x136cd4[_0x5d02fd(0x390)],'edited\x20reply');continue;case'3':assert['equal'](_0x136cd4[_0x5d02fd(0x3fa)][_0x5d02fd(0x30b)],![]);continue;case'4':assert[_0x5d02fd(0x524)](_0xd203b5);continue;case'5':assert[_0x5d02fd(0x2cb)](_0x136cd4['topic']['isMainPost'],![]);continue;}break;}});}),eval('1 + 1;'),_0x1eeb0a[_0x3aa331(0x476)](it,_0x1eeb0a[_0x3aa331(0x589)],_0x49cae6=>{const _0x95e9d3=_0x3aa331,_0x431005={'kVbXa':function(_0x5d4cf0){return _0x1eeb0a['JedPu'](_0x5d4cf0);},'axelo':function(_0x5d0798){const _0x876601=_0x12cc;return _0x1eeb0a[_0x876601(0x2f5)](_0x5d0798);}};_0x95e9d3(0x556)===_0x1eeb0a['kGBZe']?posts[_0x95e9d3(0x479)][_0x95e9d3(0x231)](_0x1f7f10,0x0,(_0x87c81c,_0x365511)=>{const _0x4cf098=_0x95e9d3;if(_0x3dbc31[_0x4cf098(0x385)](_0x3dbc31['pgGkJ'],_0x4cf098(0x352))){const _0x321c45=_0x3dbc31[_0x4cf098(0x4cb)][_0x4cf098(0x2d2)]('|');let _0x57b581=0x0;while(!![]){switch(_0x321c45[_0x57b581++]){case'0':assert[_0x4cf098(0x524)](_0x87c81c);continue;case'1':_0x3dbc31[_0x4cf098(0x2a0)](assert,_0x365511[0x0][_0x4cf098(0x251)]);continue;case'2':_0x3dbc31['isUaC'](_0x49cae6);continue;case'3':_0x3dbc31[_0x4cf098(0x4d4)](assert,_0x365511[0x0]['pid'],_0x1f7f10);continue;case'4':_0x3dbc31['JOZLp'](assert,Array[_0x4cf098(0x1db)](_0x365511));continue;}break;}}else _0x3a8afb[_0x4cf098(0x524)](_0x2be93c),_0x431005[_0x4cf098(0x253)](_0x479794);}):_0x1750be[_0x95e9d3(0x3f0)][_0x95e9d3(0x3f2)](_0x95e9d3(0x271),(_0x2281c8,_0x43ba75)=>{const _0x51f803=_0x95e9d3;_0x552a4d['ifError'](_0x2281c8),_0x1bd3b9[_0x51f803(0x2cb)](!![],_0x43ba75),_0x431005[_0x51f803(0x277)](_0xf42d40);});}),it(_0x1eeb0a[_0x3aa331(0x2fd)],_0x3f2aa5=>{const _0x750077=_0x3aa331,_0xafc29f={'XJLXY':_0x1eeb0a[_0x750077(0x39b)],'Vwnic':_0x750077(0x45f),'QPpTu':_0x1eeb0a[_0x750077(0x53f)]};if(_0x1eeb0a['Hvfmc'](_0x1eeb0a[_0x750077(0x3d1)],_0x1eeb0a['kuktR']))posts['diffs'][_0x750077(0x511)](_0x1f7f10,0x0,_0xc80cc8,(_0x573e89,_0x46cdc9)=>{const _0x2fd000=_0x750077;assert['ifError'](_0x573e89),assert['equal'](_0x46cdc9[_0x2fd000(0x390)],_0x3dbc31[_0x2fd000(0x2c5)]),_0x3f2aa5();});else{const _0x286724=_0xafc29f[_0x750077(0x541)][_0x750077(0x2d2)]('|');let _0x24782a=0x0;while(!![]){switch(_0x286724[_0x24782a++]){case'0':_0x229b1d[_0x750077(0x524)](_0x4b8c7e);continue;case'1':_0x4e8043[_0x750077(0x20b)](_0x153be2[_0x750077(0x51b)]['length'],_0x32bc82['revisions'][_0x750077(0x45d)]);continue;case'2':_0x174ddd[_0x750077(0x20b)](![],_0x59c4c3[_0x750077(0x56b)]);continue;case'3':_0x2e5b99();continue;case'4':_0x5c3728[_0x750077(0x20b)](0x1,_0x1f5231[_0x750077(0x51b)]['length']);continue;case'5':[_0xafc29f['Vwnic'],'username'][_0x750077(0x3b9)](_0x442fce=>_0x4987b4[_0x750077(0x44b)](_0x69d367[_0x750077(0x45c)][0x0])[_0x750077(0x318)](_0x442fce));continue;case'6':_0x4312f2[_0x750077(0x20b)](_0xafc29f['QPpTu'],typeof _0x321acb['editable']);continue;case'7':_0x4ca747[_0x750077(0x2cb)](!![],_0x468c3c[_0x750077(0x1db)](_0x580410[_0x750077(0x51b)]));continue;case'8':_0x10b1a3[_0x750077(0x2cb)](!![],_0x5dd030[_0x750077(0x1db)](_0x5e7864[_0x750077(0x45c)]));continue;}break;}}}),it('should\x20not\x20allow\x20guests\x20to\x20view\x20diffs',_0xbef3ec=>{const _0x55553d=_0x3aa331,_0x3c97c8={'CytVA':function(_0x2d62d6,_0x5c051e){return _0x2d62d6(_0x5c051e);},'mIefr':function(_0x445ffd){return _0x445ffd();}};socketPosts[_0x55553d(0x2a3)]({'uid':0x0},{'pid':0x1},_0x3d467d=>{const _0x60ae63=_0x55553d;if(_0x60ae63(0x4a5)!=='lXwnK')assert[_0x60ae63(0x2cb)](_0x3d467d['message'],_0x3dbc31[_0x60ae63(0x47d)]),_0x3dbc31[_0x60ae63(0x542)](_0xbef3ec);else{const _0x3caa7c={'mDrMr':function(_0x4d13d9,_0x2a933a){const _0xce50da=_0x60ae63;return _0x3c97c8[_0xce50da(0x364)](_0x4d13d9,_0x2a933a);},'QxWux':function(_0x30abac,_0x88dc73){const _0x148dc9=_0x60ae63;return _0x3c97c8[_0x148dc9(0x364)](_0x30abac,_0x88dc73);},'jvZUv':function(_0x48378a){return _0x3c97c8['mIefr'](_0x48378a);}};_0x3ab8a2[_0x60ae63(0x373)]({'uid':_0x4f2d77},{'pid':_0x353d12['pid'],'cid':_0x2ae103},(_0x311293,_0x5af8a1)=>{const _0x322318=_0x60ae63;_0x16c837[_0x322318(0x524)](_0x311293),_0x3caa7c[_0x322318(0x234)](_0x47b5ae,_0x5af8a1[_0x322318(0x354)][_0x322318(0x36e)]),_0x331342(_0x5af8a1[_0x322318(0x354)][_0x322318(0x257)]),_0x3caa7c[_0x322318(0x234)](_0x41f759,_0x5af8a1[_0x322318(0x354)][_0x322318(0x36b)]),_0x3caa7c['QxWux'](_0x43615d,_0x5af8a1[_0x322318(0x354)][_0x322318(0x540)]),_0x3caa7c['jvZUv'](_0xd1d6dc);});}});}),_0x1eeb0a[_0x3aa331(0x1f4)](it,_0x1eeb0a[_0x3aa331(0x2e1)],_0x697ce6=>{const _0x4899db=_0x3aa331,_0x59b7ee={'wEYTn':_0x1eeb0a[_0x4899db(0x21a)],'RcIGf':_0x1eeb0a[_0x4899db(0x551)],'zYTAt':_0x4899db(0x57d),'EyFRM':function(_0xdbf00a){const _0x1b4e7a=_0x4899db;return _0x1eeb0a[_0x1b4e7a(0x50a)](_0xdbf00a);}};socketPosts['getDiffs']({'uid':0x1},{'pid':0x1},(_0x1ce7e1,_0x93194a)=>{const _0x2b740c=_0x4899db,_0x2626b5=_0x59b7ee['wEYTn']['split']('|');let _0x12553b=0x0;while(!![]){switch(_0x2626b5[_0x12553b++]){case'0':assert[_0x2b740c(0x2cb)](!![],Array[_0x2b740c(0x1db)](_0x93194a['timestamps']));continue;case'1':[_0x59b7ee['RcIGf'],'username'][_0x2b740c(0x3b9)](_0x44f97c=>Object[_0x2b740c(0x44b)](_0x93194a[_0x2b740c(0x45c)][0x0])[_0x2b740c(0x318)](_0x44f97c));continue;case'2':assert[_0x2b740c(0x2cb)](!![],Array['isArray'](_0x93194a[_0x2b740c(0x45c)]));continue;case'3':assert[_0x2b740c(0x20b)](0x1,_0x93194a[_0x2b740c(0x51b)][_0x2b740c(0x45d)]);continue;case'4':assert[_0x2b740c(0x20b)](_0x93194a[_0x2b740c(0x51b)][_0x2b740c(0x45d)],_0x93194a[_0x2b740c(0x45c)]['length']);continue;case'5':assert['strictEqual'](_0x59b7ee[_0x2b740c(0x34d)],typeof _0x93194a[_0x2b740c(0x56b)]);continue;case'6':_0x59b7ee[_0x2b740c(0x4d3)](_0x697ce6);continue;case'7':assert[_0x2b740c(0x524)](_0x1ce7e1);continue;case'8':assert[_0x2b740c(0x20b)](![],_0x93194a['editable']);continue;}break;}});}),it(_0x1eeb0a['KHtgN'],async()=>{const _0x6c02bf=_0x3aa331,_0x522a30=await posts[_0x6c02bf(0x479)][_0x6c02bf(0x20c)](_0x1f7f10);await assert[_0x6c02bf(0x45a)](async()=>{const _0x3f8298=_0x6c02bf;await posts[_0x3f8298(0x479)][_0x3f8298(0x442)](_0x1f7f10,_0x522a30[0x0],_0xc80cc8);},{'message':_0x6c02bf(0x358)});}),_0x1eeb0a[_0x3aa331(0x422)](it,_0x3aa331(0x4f8),async()=>{const _0x4af080=_0x3aa331;await socketPosts[_0x4af080(0x268)]({'uid':_0xc80cc8},{'pid':_0x1f7f10,'content':_0x1eeb0a['mrhQv']}),await socketPosts['edit']({'uid':_0xc80cc8},{'pid':_0x1f7f10,'content':_0x4af080(0x1c5)});const _0x5dbeab=(await posts[_0x4af080(0x479)][_0x4af080(0x20c)](_0x1f7f10))[_0x4af080(0x56f)]();await posts[_0x4af080(0x479)][_0x4af080(0x442)](_0x1f7f10,_0x5dbeab,_0xc80cc8);const _0x23d91a=(await posts['diffs'][_0x4af080(0x20c)](_0x1f7f10))['pop']();assert[_0x4af080(0x514)](_0x5dbeab,_0x23d91a);}),it(_0x1eeb0a[_0x3aa331(0x1d6)],async()=>{const _0x547392=_0x3aa331,_0xff6ebc=await posts['diffs'][_0x547392(0x511)](_0x1f7f10,0x0,_0xc80cc8);assert[_0x547392(0x20b)](_0xff6ebc[_0x547392(0x390)],_0x1eeb0a[_0x547392(0x302)]);});}),describe(_0x1eeb0a[_0x4d8288(0x4ca)],()=>{const _0x5724f4=_0x4d8288,_0x2d7981={'udIwK':_0x1eeb0a[_0x5724f4(0x2e7)],'vwCur':function(_0x1eb248){return _0x1eeb0a['algCe'](_0x1eb248);},'mPqBe':function(_0x51df35,_0x145fc6){const _0x4c78db=_0x5724f4;return _0x1eeb0a[_0x4c78db(0x527)](_0x51df35,_0x145fc6);},'IThNv':_0x5724f4(0x346),'GCYWV':_0x1eeb0a['BdQDl'],'IcoNo':_0x5724f4(0x58b),'nZoLC':_0x5724f4(0x426),'EHaks':_0x1eeb0a['owyez'],'CddxZ':_0x5724f4(0x3f3),'MtvKQ':_0x1eeb0a['fTysN']};let _0xc7f01b,_0x15fa31,_0x50ab40;_0x1eeb0a[_0x5724f4(0x495)](before,_0x272430=>{const _0x3d10f2=_0x5724f4,_0x44d04b={'NxWCU':_0x1eeb0a[_0x3d10f2(0x43e)],'ncUND':_0x1eeb0a[_0x3d10f2(0x3ca)],'TLGFQ':'topic\x202','XaeQZ':function(_0x46c93a){return _0x1eeb0a['oqShH'](_0x46c93a);}};async['waterfall']([function(_0x239309){const _0x4fd9e5=_0x3d10f2;topics[_0x4fd9e5(0x341)]({'uid':_0xc80cc8,'cid':_0x162979,'title':_0x44d04b[_0x4fd9e5(0x3f9)],'content':_0x44d04b[_0x4fd9e5(0x294)]},_0x239309);},function(_0x3d077a,_0x27e7eb){const _0x3b8a25=_0x3d10f2;_0x15fa31=_0x3d077a[_0x3b8a25(0x2fe)][_0x3b8a25(0x522)],topics[_0x3b8a25(0x341)]({'uid':_0xc80cc8,'cid':_0x162979,'title':_0x44d04b[_0x3b8a25(0x1c4)],'content':_0x44d04b['ncUND']},_0x27e7eb);},function(_0x3e8404,_0x3101f6){const _0x4c1c6d=_0x3d10f2;_0x50ab40=_0x3e8404['topicData'][_0x4c1c6d(0x522)],topics[_0x4c1c6d(0x1ff)]({'uid':_0xc80cc8,'tid':_0x15fa31,'timestamp':Date[_0x4c1c6d(0x36a)](),'content':_0x2d7981['udIwK']},(_0x10bec2,_0x2044aa)=>{const _0x1dc584=_0x4c1c6d;assert['ifError'](_0x10bec2),_0xc7f01b=_0x2044aa['pid'],_0x44d04b[_0x1dc584(0x2bd)](_0x3101f6);});}],_0x272430);}),_0x1eeb0a[_0x5724f4(0x30c)](it,_0x1eeb0a[_0x5724f4(0x338)],_0x1ed3db=>{const _0x25be4c=_0x5724f4,_0x4c3c76={'qLyAH':function(_0x30883b){const _0x2edc0d=_0x12cc;return _0x2d7981[_0x2edc0d(0x41c)](_0x30883b);},'AkEjG':function(_0x8b4284){return _0x8b4284();}};_0x2d7981[_0x25be4c(0x590)](_0x2d7981['IThNv'],_0x2d7981[_0x25be4c(0x440)])?socketPosts['movePost']({'uid':0x0},{},_0x36c90f=>{const _0x30a9eb=_0x25be4c;assert[_0x30a9eb(0x2cb)](_0x36c90f[_0x30a9eb(0x2c8)],_0x30a9eb(0x1e2)),_0x4c3c76[_0x30a9eb(0x487)](_0x1ed3db);}):(_0x5e4c19[_0x25be4c(0x524)](_0x58d8d9),_0x42ee89[_0x25be4c(0x20b)](_0xa98eef[_0x25be4c(0x37d)],!![]),_0x1906c4['equal'](_0x4cfd12[_0x25be4c(0x2c8)],_0x25be4c(0x58a)),_0x4cce94=_0x1f4b2c['id'],_0x4c3c76[_0x25be4c(0x43b)](_0x2323fb));}),_0x1eeb0a[_0x5724f4(0x4fd)](it,_0x1eeb0a['djkqi'],_0xbef56e=>{socketPosts['movePost']({'uid':_0x11ef4d},{},_0x584a14=>{const _0x3d6852=_0x12cc;assert['equal'](_0x584a14[_0x3d6852(0x2c8)],'[[error:invalid-data]]'),_0x2d7981[_0x3d6852(0x41c)](_0xbef56e);});}),it(_0x5724f4(0x4af),_0x5063fc=>{const _0x300564=_0x5724f4,_0x2c818e={'SIwgp':function(_0x1c118d,_0x276701){return _0x1c118d(_0x276701);},'vIJVQ':_0x2d7981[_0x300564(0x470)],'wFVHg':_0x300564(0x528)};socketPosts['movePost']({'uid':_0xc80cc8},{'pid':_0xc7f01b,'tid':_0x50ab40},_0x4c8318=>{const _0x2d7579=_0x300564;_0x2d7579(0x58b)!==_0x2c818e[_0x2d7579(0x3c2)]?_0x4fecbd[_0x2d7579(0x368)](_0x2d7579(0x319)+_0x2c818e[_0x2d7579(0x412)](_0x2221ae,'test.bmp')+':pids',0x0,-0x1,_0x43647d):(assert[_0x2d7579(0x2cb)](_0x4c8318[_0x2d7579(0x2c8)],_0x2c818e[_0x2d7579(0x54c)]),_0x5063fc());});}),it(_0x5724f4(0x45b),_0x31ed78=>{const _0x110764=_0x5724f4,_0x4ca4cc={'hGThd':_0x1eeb0a[_0x110764(0x449)],'wSZkI':_0x1eeb0a['ySoeq'],'gbrGi':_0x1eeb0a[_0x110764(0x31d)]};socketPosts[_0x110764(0x330)]({'uid':_0x11ef4d},{'pid':_0xc7f01b,'tid':_0x50ab40},_0x19bdf5=>{const _0x1daf7d=_0x110764,_0x49ffaa={'dCNEX':_0x4ca4cc[_0x1daf7d(0x409)],'yhFdQ':function(_0x48b793,_0x28a638){return _0x48b793!==_0x28a638;},'FLWqD':_0x4ca4cc[_0x1daf7d(0x329)]};_0x1daf7d(0x3ed)!=='aPpBB'?(_0x27dc38[_0x1daf7d(0x524)](_0x5c4a9f),_0xbde627['getPostField'](_0x3a7c04,_0x49ffaa[_0x1daf7d(0x2e5)],(_0x442ae2,_0x9ffb03)=>{const _0x154673=_0x1daf7d;_0x3884ca[_0x154673(0x524)](_0x442ae2),_0x441ba8['strictEqual'](_0x9ffb03,0x1),_0x44df0b();})):(assert[_0x1daf7d(0x524)](_0x19bdf5),posts[_0x1daf7d(0x529)](_0xc7f01b,_0x4ca4cc[_0x1daf7d(0x2e0)],(_0x593227,_0x5754b6)=>{const _0x594b4d=_0x1daf7d,_0x48e662={'xhFYv':_0x594b4d(0x349)};_0x49ffaa[_0x594b4d(0x3cf)](_0x594b4d(0x230),_0x49ffaa[_0x594b4d(0x1cd)])?(assert['ifError'](_0x593227),assert(_0x5754b6,_0x50ab40),_0x31ed78()):_0x432e86[_0x594b4d(0x24c)]({'uid':_0x1b7d46},{'pids':[_0x3bee2a,_0x516bcd]},_0x596fa3=>{const _0x546d87=_0x594b4d,_0x27fc24={'WSsvV':_0x48e662[_0x546d87(0x466)]};_0x41c8cd[_0x546d87(0x524)](_0x596fa3),_0x225526[_0x546d87(0x529)](_0x137623,_0x546d87(0x349),(_0x17cc6e,_0x34990d)=>{const _0x2590a9=_0x546d87;_0x1a62d6['ifError'](_0x17cc6e),_0x46f69c[_0x2590a9(0x20b)](_0x34990d,0x1),_0x37c025[_0x2590a9(0x529)](_0x1bc2f0,_0x27fc24[_0x2590a9(0x3d4)],(_0x87f0cd,_0x6e9292)=>{_0x645778['ifError'](_0x87f0cd),_0x4357fd['strictEqual'](_0x6e9292,0x1),_0x27ef29();});});});}));});}),_0x1eeb0a[_0x5724f4(0x3f4)](it,_0x1eeb0a[_0x5724f4(0x3ee)],async()=>{const _0xb9da8=_0x5724f4,_0x44e56f=await categories[_0xb9da8(0x27e)]({'name':_0x2d7981['nZoLC'],'description':_0xb9da8(0x339)}),_0x132a79=await categories[_0xb9da8(0x27e)]({'name':_0x2d7981[_0xb9da8(0x2ec)],'description':_0x2d7981[_0xb9da8(0x488)]}),_0x4d66ec=await socketTopics['post']({'uid':_0x11ef4d},{'title':_0x2d7981[_0xb9da8(0x203)],'content':'queued\x20topic','cid':_0x132a79[_0xb9da8(0x21f)]}),_0xe95b74=await user[_0xb9da8(0x27e)]({'username':_0x2d7981[_0xb9da8(0x2db)]});await privileges['categories'][_0xb9da8(0x356)](privileges[_0xb9da8(0x501)][_0xb9da8(0x4b0)],_0x44e56f[_0xb9da8(0x21f)],_0xe95b74);let _0x1b6870;try{await socketPosts[_0xb9da8(0x330)]({'uid':_0xe95b74},{'pid':_0xc7f01b,'tid':_0x4d66ec['tid']});}catch(_0x412959){_0x1b6870=_0x412959;}assert[_0xb9da8(0x20b)](_0x1b6870[_0xb9da8(0x2c8)],'[[error:no-privileges]]');});}),_0x1eeb0a[_0x4d8288(0x4e0)](describe,'getPostSummaryByPids',()=>{const _0x3abdfc=_0x4d8288,_0x453818={'CmNyN':function(_0x39d1a0){const _0x5d3e44=_0x12cc;return _0x1eeb0a[_0x5d3e44(0x49b)](_0x39d1a0);}};_0x1eeb0a[_0x3abdfc(0x527)](_0x1eeb0a[_0x3abdfc(0x48d)],_0x3abdfc(0x25b))?_0x3f5506[_0x3abdfc(0x1e1)]([0x1,0x2,0x3],null,(_0x5f0c30,_0x6770cd)=>{const _0x149b79=_0x3abdfc;_0x4ad142[_0x149b79(0x524)](_0x5f0c30),_0x2a61cd[_0x149b79(0x29d)]([0x1,0x2,0x3],_0x6770cd),_0x38dd3c();}):(_0x1eeb0a[_0x3abdfc(0x30c)](setTimeout,'console.log(\x22timer\x22);',0x3e8),_0x1eeb0a[_0x3abdfc(0x422)](it,_0x1eeb0a[_0x3abdfc(0x248)],_0x564b5b=>{const _0x1ee273=_0x3abdfc;if(_0x1eeb0a[_0x1ee273(0x3c4)](_0x1ee273(0x2d3),_0x1eeb0a[_0x1ee273(0x23f)]))posts[_0x1ee273(0x53d)]([],0x0,{},(_0x2b1725,_0x2263cd)=>{const _0x434da1=_0x1ee273;assert['ifError'](_0x2b1725),assert[_0x434da1(0x2cb)](_0x2263cd['length'],0x0),_0x564b5b();});else{const _0x27e2d4={'pjaNv':function(_0x4e07f8){const _0x4c2792=_0x1ee273;return _0x453818[_0x4c2792(0x267)](_0x4e07f8);}};_0x3eabef[_0x1ee273(0x524)](_0x395d10),_0x2ede38['sortedSetCard'](_0x1ee273(0x4a3)+_0x11c9e2+':uploads',(_0x5ce30c,_0x5873fa)=>{const _0x366b60=_0x1ee273;_0x16832a[_0x366b60(0x524)](_0x5ce30c),_0x3af27d[_0x366b60(0x20b)](0x1,_0x5873fa),_0x27e2d4['pjaNv'](_0x2c034);});}}),_0x1eeb0a[_0x3abdfc(0x3bd)](it,_0x3abdfc(0x281),_0x18804f=>{const _0x40cb45=_0x3abdfc,_0x2baf9a={'rPXlq':function(_0x46f765){return _0x46f765();},'GEfmW':function(_0x241e12,_0x15a2bb){return _0x241e12(_0x15a2bb);},'wqVER':function(_0x1ea880,_0x504a8c){return _0x1ea880(_0x504a8c);}};posts[_0x40cb45(0x53d)]([_0xffafa9[_0x40cb45(0x242)]],0x0,{},(_0x545f0e,_0x1b8b3d)=>{const _0x39c73f=_0x40cb45,_0x3c7fab={'KDCuY':_0x39c73f(0x358),'kcEyE':function(_0x280105){return _0x280105();}};if('QvqQe'===_0x39c73f(0x555)){const _0x37d19f=_0x39c73f(0x35e)[_0x39c73f(0x2d2)]('|');let _0x52a0f2=0x0;while(!![]){switch(_0x37d19f[_0x52a0f2++]){case'0':_0x2baf9a[_0x39c73f(0x340)](_0x18804f);continue;case'1':assert[_0x39c73f(0x524)](_0x545f0e);continue;case'2':_0x2baf9a[_0x39c73f(0x34b)](assert,_0x1b8b3d[0x0]['user']);continue;case'3':assert(_0x1b8b3d[0x0]['topic']);continue;case'4':_0x2baf9a[_0x39c73f(0x55b)](assert,_0x1b8b3d[0x0][_0x39c73f(0x4cf)]);continue;}break;}}else _0x180b99[_0x39c73f(0x330)]({'uid':_0x313238},{},_0x5458eb=>{const _0x2d399d=_0x39c73f;_0x1a69d3[_0x2d399d(0x2cb)](_0x5458eb[_0x2d399d(0x2c8)],_0x3c7fab[_0x2d399d(0x58d)]),_0x3c7fab[_0x2d399d(0x4e8)](_0x1417ad);});});}));}),it(_0x4d8288(0x421),_0x50c200=>{const _0x41b4fa=_0x4d8288;topics[_0x41b4fa(0x1ff)]({'uid':_0xc80cc8,'tid':_0xd9d543[_0x41b4fa(0x522)],'timestamp':Date[_0x41b4fa(0x36a)](),'content':_0x1eeb0a[_0x41b4fa(0x3ca)]},_0x3ba9aa=>{const _0x3083ef=_0x41b4fa,_0x5514af={'gTqrd':_0x3083ef(0x358),'gRdvr':function(_0x273063){return _0x1eeb0a['tKhca'](_0x273063);},'jhIhB':_0x1eeb0a[_0x3083ef(0x3e4)],'rregl':_0x1eeb0a[_0x3083ef(0x3fc)],'NKcOH':function(_0x33cb91,_0x3a1ad6){const _0x57113e=_0x3083ef;return _0x1eeb0a[_0x57113e(0x495)](_0x33cb91,_0x3a1ad6);}};assert[_0x3083ef(0x524)](_0x3ba9aa),posts[_0x3083ef(0x48b)](0x0,0x1,(_0x3b5a92,_0x206876)=>{const _0xfd6127=_0x3083ef,_0x2caf8a={'bipoM':_0x5514af[_0xfd6127(0x2c0)],'KpJIB':function(_0x8f5a96){const _0x2e8be2=_0xfd6127;return _0x5514af[_0x2e8be2(0x227)](_0x8f5a96);}};if(_0x5514af['jhIhB']!==_0x5514af[_0xfd6127(0x350)]){const _0x2267a9=_0xfd6127(0x3bb)[_0xfd6127(0x2d2)]('|');let _0x1f6069=0x0;while(!![]){switch(_0x2267a9[_0x1f6069++]){case'0':_0x50c200();continue;case'1':_0x5514af['NKcOH'](assert,Array['isArray'](_0x206876));continue;case'2':assert[_0xfd6127(0x524)](_0x3b5a92);continue;case'3':assert['equal'](_0x206876['length'],0x2);continue;case'4':assert['equal'](_0x206876[0x0],_0xc80cc8);continue;}break;}}else _0x20826f[_0xfd6127(0x442)]({'uid':_0x4921b7},null,_0x28e532=>{const _0x4a59c1=_0xfd6127;_0x59e6c9[_0x4a59c1(0x2cb)](_0x28e532[_0x4a59c1(0x2c8)],_0x2caf8a['bipoM']),_0x2caf8a[_0x4a59c1(0x46f)](_0x33e6c8);});});});}),describe(_0x1eeb0a['VzMLw'],()=>{const _0x48de30=_0x4d8288,_0x4bbbfe={'ttJYA':function(_0x4f8e86,_0xa92b6a){const _0x10c1af=_0x12cc;return _0x1eeb0a[_0x10c1af(0x33a)](_0x4f8e86,_0xa92b6a);},'caTgz':_0x48de30(0x1ce),'DvadN':_0x1eeb0a[_0x48de30(0x3df)],'UmDBs':_0x48de30(0x39a),'TAnbX':function(_0x4fb403){return _0x4fb403();},'kHuGR':_0x1eeb0a[_0x48de30(0x1e7)]};_0x1eeb0a[_0x48de30(0x495)](Function,_0x1eeb0a[_0x48de30(0x404)])(),_0x1eeb0a[_0x48de30(0x311)](it,_0x48de30(0x313),_0x3821d6=>{const _0x52cce7={'xAQfa':function(_0x2ba37a,_0x1d8428){return _0x1eeb0a['FaOve'](_0x2ba37a,_0x1d8428);}};posts['parsePost'](null,(_0x117850,_0x101f74)=>{const _0x392179=_0x12cc;if(_0x4bbbfe[_0x392179(0x361)]('NBASO',_0x392179(0x4e7))){const _0x54b759=new _0x27879e(_0x52cce7['xAQfa'](_0x9fdbea[_0x392179(0x204)]['maximumTitleLength'],0x2))[_0x392179(0x3a8)]('a');_0x3535b2[_0x392179(0x268)]({'uid':_0x343775},{'pid':_0x49fa68,'content':'edited\x20post\x20content','title':_0x54b759},_0x5f5b37=>{const _0x53045e=_0x392179;_0xf0e97f[_0x53045e(0x2cb)](_0x5f5b37[_0x53045e(0x2c8)],_0x53045e(0x214)+_0x367f4a[_0x53045e(0x204)][_0x53045e(0x382)]+']]'),_0x2c299b();});}else assert[_0x392179(0x524)](_0x117850),assert[_0x392179(0x20b)](_0x101f74,null),_0x3821d6();});}),_0x1eeb0a[_0x48de30(0x58e)](it,_0x48de30(0x3f6),_0x1f0c5f=>{const _0x522860=_0x48de30,_0x150b4b=global[_0x522860(0x2b8)];global[_0x522860(0x2b8)]=_0x4bbbfe[_0x522860(0x3f8)];const _0x22dc6e={'pid':0x270f,'content':_0x4bbbfe[_0x522860(0x588)]};posts['parsePost'](_0x22dc6e,_0x4c5159=>{const _0x1a3b57=_0x522860;assert[_0x1a3b57(0x524)](_0x4c5159),posts[_0x1a3b57(0x54b)](_0x22dc6e,_0x4d5c98=>{const _0x162db0=_0x1a3b57;assert[_0x162db0(0x524)](_0x4d5c98),global['env']=_0x150b4b,_0x1f0c5f();});});}),_0x1eeb0a['URYLy'](it,_0x48de30(0x414),_0xf121ec=>{const _0x145b7a=_0x48de30;if(_0x145b7a(0x536)===_0x145b7a(0x327))_0x33c5c6[_0x145b7a(0x4f7)]({'uid':_0x23fd6d},{'pids':[_0xc936c2[_0x145b7a(0x242)],_0x3fe3e4['postData']['pid']],'tid':_0x3aa39c['topicData']['tid']},_0x14cbd9=>{const _0xeadf4d=_0x145b7a,_0x2d5ee7={'iejyv':function(_0x1bc816,_0x3a5f6e){return _0x1bc816(_0x3a5f6e);},'oTXJg':function(_0x1ebc2f){return _0x1ebc2f();}};_0x40cccd['ifError'](_0x14cbd9),_0x4358f7[_0xeadf4d(0x1e4)](_0xeadf4d(0x4a3)+_0xce53d2[_0xeadf4d(0x242)],(_0x23e719,_0x2ce80e)=>{const _0x47666=_0xeadf4d;_0x1849a0['ifError'](_0x23e719),_0x258048['equal'](_0x2ce80e,![]),_0x5f0709[_0x47666(0x1e4)](_0x3e7847[_0x47666(0x2fe)][_0x47666(0x522)],(_0x2eb260,_0x4535e9)=>{const _0x57d837=_0x47666;_0x380c3c[_0x57d837(0x524)](_0x2eb260),_0x2d5ee7['iejyv'](_0x856bb4,!_0x4535e9),_0x2d5ee7[_0x57d837(0x4c2)](_0xa6dedf);});});});else{meta[_0x145b7a(0x204)][_0x1eeb0a['xEfEW']]=0x1,meta['config'][_0x145b7a(0x2c1)]=0x1;const _0x27a1ee={'signature':_0x1eeb0a[_0x145b7a(0x3ab)]};posts[_0x145b7a(0x4fa)](_0x27a1ee,0x1,(_0x422812,_0xa1d556)=>{const _0x4002de=_0x145b7a,_0x485472=_0x4bbbfe['UmDBs'][_0x4002de(0x2d2)]('|');let _0x5f4d55=0x0;while(!![]){switch(_0x485472[_0x5f4d55++]){case'0':_0x4bbbfe[_0x4002de(0x44a)](_0xf121ec);continue;case'1':meta[_0x4002de(0x204)][_0x4002de(0x2c1)]=0x0;continue;case'2':assert[_0x4002de(0x2cb)](_0xa1d556[_0x4002de(0x34e)]['signature'],_0x4bbbfe[_0x4002de(0x2ee)]);continue;case'3':meta['config'][_0x4002de(0x573)]=0x0;continue;case'4':assert[_0x4002de(0x524)](_0x422812);continue;}break;}});}}),it('should\x20turn\x20relative\x20links\x20in\x20post\x20body\x20to\x20absolute\x20urls',_0x3ee8d9=>{const _0x53ae7a=_0x48de30,_0x365883={'EiThz':_0x1eeb0a[_0x53ae7a(0x4eb)]};if(_0x53ae7a(0x2b9)!==_0x53ae7a(0x2b9))_0x22d37c[_0x53ae7a(0x2f1)]({'uid':_0x22acbc},{'pid':_0x3c17ea[_0x53ae7a(0x242)],'room_id':_0x365883[_0x53ae7a(0x202)]},(_0x39ca1c,_0x5a02fa)=>{const _0x2e8882=_0x53ae7a,_0x357213={'WFwBR':function(_0x55aaf1){return _0x55aaf1();}};_0x5c886f['ifError'](_0x39ca1c),_0xb74fd5[_0x2e8882(0x2cb)](_0x5a02fa['post']['upvotes'],0x0),_0x2451d9[_0x2e8882(0x2cb)](_0x5a02fa[_0x2e8882(0x341)][_0x2e8882(0x2d1)],0x0),_0x13e65e[_0x2e8882(0x2cb)](_0x5a02fa[_0x2e8882(0x341)]['votes'],0x0),_0x2b76e2[_0x2e8882(0x2cb)](_0x5a02fa[_0x2e8882(0x550)]['reputation'],0x0),_0xbdb344['hasVoted'](_0x151e6b[_0x2e8882(0x242)],_0x4d739a,(_0x5beb8a,_0x215acd)=>{const _0x40f714=_0x2e8882;_0x5514a2[_0x40f714(0x524)](_0x5beb8a),_0x5ae23c['equal'](_0x215acd[_0x40f714(0x1da)],![]),_0x19245b[_0x40f714(0x2cb)](_0x215acd['downvoted'],![]),_0x357213[_0x40f714(0x2da)](_0x27223a);});});else{const _0x35293a=_0x1eeb0a[_0x53ae7a(0x495)](require,_0x1eeb0a[_0x53ae7a(0x4d8)]),_0x3d4f0f=_0x1eeb0a[_0x53ae7a(0x3e6)],_0x57add9=posts[_0x53ae7a(0x4ec)](_0x3d4f0f,posts[_0x53ae7a(0x48e)]);assert[_0x53ae7a(0x2cb)](_0x57add9,_0x53ae7a(0x545)+_0x35293a[_0x53ae7a(0x231)](_0x1eeb0a[_0x53ae7a(0x36d)])+_0x53ae7a(0x496)),_0x3ee8d9();}}),it(_0x48de30(0x3d6),_0x30208c=>{const _0x5b60a0=_0x48de30,_0x42995e=require(_0x1eeb0a[_0x5b60a0(0x4d8)]),_0x311f4f=_0x1eeb0a[_0x5b60a0(0x2a9)];let _0x11b748=posts['relativeToAbsolute'](_0x311f4f,posts[_0x5b60a0(0x48e)]);_0x11b748=posts[_0x5b60a0(0x4ec)](_0x11b748,posts['imgRegex']),assert[_0x5b60a0(0x2cb)](_0x11b748,_0x5b60a0(0x545)+_0x42995e['get'](_0x5b60a0(0x3d5))+'/users\x22>test</a>\x20<a\x20href=\x22//youtube.com\x22>youtube</a>\x20some\x20test\x20<img\x20src=\x22'+_0x42995e[_0x5b60a0(0x231)](_0x1eeb0a[_0x5b60a0(0x36d)])+'/path/to/img\x22/>'),_0x30208c();});}),_0x1eeb0a['OMqxf'](describe,_0x1eeb0a['hGXPQ'],()=>{const _0x1a3eab=_0x4d8288,_0x3f351e={'gutlc':_0x1eeb0a['KVSWw'],'mRMAH':_0x1a3eab(0x28c),'giude':_0x1eeb0a[_0x1a3eab(0x384)],'omBFX':_0x1eeb0a[_0x1a3eab(0x222)],'NQcwJ':_0x1eeb0a[_0x1a3eab(0x410)],'uzUah':_0x1eeb0a[_0x1a3eab(0x4e4)],'xrcnK':_0x1a3eab(0x3d2),'cHwzb':function(_0x2cd30f,_0x2941b9){return _0x2cd30f===_0x2941b9;},'DQSdS':_0x1a3eab(0x22f),'nKHDD':_0x1a3eab(0x43a),'AUdhd':_0x1eeb0a[_0x1a3eab(0x22b)],'CTIjn':'newest_to_oldest'};let _0x10b8ce;before(_0x24070d=>{const _0x342884=_0x1a3eab,_0x4918f0={'guSIF':_0x3f351e['gutlc']};topics[_0x342884(0x1ff)]({'uid':_0xc80cc8,'tid':_0xd9d543[_0x342884(0x522)],'timestamp':Date[_0x342884(0x36a)](),'content':_0x3f351e['mRMAH']},(_0x200fe5,_0xd0b576)=>{const _0x1e5d99=_0x342884;assert[_0x1e5d99(0x524)](_0x200fe5),_0x10b8ce=_0xd0b576[_0x1e5d99(0x242)],privileges[_0x1e5d99(0x501)][_0x1e5d99(0x2d0)]([_0x4918f0[_0x1e5d99(0x3c3)]],_0x162979,_0x1e5d99(0x461),_0x24070d);});}),_0x1eeb0a[_0x1a3eab(0x3a0)](it,_0x1a3eab(0x566),_0x532bfb=>{const _0x386fb9=_0x1a3eab,_0x419263={'gfEvi':function(_0x23823a,_0x44d3d6,_0xb7b190){return _0x23823a(_0x44d3d6,_0xb7b190);},'sMlLx':_0x3f351e['omBFX']};if(_0x3f351e[_0x386fb9(0x396)]!==_0x3f351e[_0x386fb9(0x463)])socketPosts[_0x386fb9(0x1ff)]({'uid':0x0},null,_0xad3ca3=>{const _0x25b23f=_0x386fb9;assert[_0x25b23f(0x2cb)](_0xad3ca3[_0x25b23f(0x2c8)],_0x3f351e[_0x25b23f(0x216)]),_0x532bfb();});else{const _0x47eddf={'aUfYd':function(_0x41bd48,_0x51f7c4,_0x1d6329){return _0x419263['gfEvi'](_0x41bd48,_0x51f7c4,_0x1d6329);}};_0x215004[_0x386fb9(0x524)](_0x188c99),_0x276c9a['reply']({'uid':_0x29fccc,'tid':_0x54b92c[_0x386fb9(0x2fe)][_0x386fb9(0x522)],'timestamp':_0x4c120a[_0x386fb9(0x36a)](),'content':_0x419263['sMlLx']},(_0x42c0d1,_0x58363b)=>{const _0x1c99c2=_0x386fb9;_0x833538['ifError'](_0x42c0d1),_0x47eddf[_0x1c99c2(0x347)](_0x3e791d,_0x51d76d,_0x58363b);});}}),it(_0x1eeb0a[_0x1a3eab(0x41f)],_0x5ce04a=>{const _0x2a6cbc=_0x1a3eab;socketPosts['reply']({'uid':0x0},{'tid':0x0,'content':_0x2a6cbc(0x2a5)},_0x2f41b3=>{const _0x385017=_0x2a6cbc;assert[_0x385017(0x2cb)](_0x2f41b3['message'],_0x385017(0x358)),_0x5ce04a();});}),_0x1eeb0a[_0x1a3eab(0x37f)](it,_0x1eeb0a['KIOlI'],_0x27fc26=>{const _0x382883=_0x1a3eab,_0x2212d6={'IdZBc':'[[error:no-privileges]]'};socketPosts[_0x382883(0x38f)]({'uid':0x0},_0x10b8ce,_0x2ff410=>{const _0x520ed2=_0x382883;assert[_0x520ed2(0x2cb)](_0x2ff410[_0x520ed2(0x2c8)],_0x2212d6[_0x520ed2(0x53e)]),_0x27fc26();});}),_0x1eeb0a[_0x1a3eab(0x3f4)](it,_0x1a3eab(0x308),_0xda143a=>{const _0x144d9f=_0x1a3eab,_0x40d6d2={'qvWXm':function(_0x50fb38){return _0x50fb38();}};posts['setPostField'](_0x10b8ce,_0x144d9f(0x349),0x1,_0x64e4d3=>{const _0x3fe2e1=_0x144d9f;assert[_0x3fe2e1(0x524)](_0x64e4d3),socketPosts[_0x3fe2e1(0x38f)]({'uid':_0xc80cc8},_0x10b8ce,_0xfb1806=>{const _0x4ce547=_0x3fe2e1;assert['equal'](_0xfb1806[_0x4ce547(0x2c8)],_0x4ce547(0x27d)),_0x40d6d2['qvWXm'](_0xda143a);});});}),_0x1eeb0a[_0x1a3eab(0x509)](it,_0x1a3eab(0x565),_0x34347a=>{const _0x48a986=_0x1a3eab;posts[_0x48a986(0x387)](_0x10b8ce,_0x1eeb0a['ShzxM'],0x0,_0x7dfe96=>{const _0x25e9b2=_0x48a986,_0x1347ab={'nQORv':'raw\x20content'};assert[_0x25e9b2(0x524)](_0x7dfe96),socketPosts['getRawPost']({'uid':_0xc80cc8},_0x10b8ce,(_0x52351b,_0x1fb9fb)=>{const _0x5e968c=_0x25e9b2;assert[_0x5e968c(0x524)](_0x52351b),assert[_0x5e968c(0x2cb)](_0x1fb9fb,_0x1347ab['nQORv']),_0x34347a();});});}),it(_0x1eeb0a[_0x1a3eab(0x481)],_0x256466=>{const _0x19041a=_0x1a3eab;socketPosts[_0x19041a(0x2d8)]({'uid':_0xc80cc8},_0x10b8ce,(_0x4f2765,_0x430f40)=>{const _0x3d601d=_0x19041a;assert[_0x3d601d(0x524)](_0x4f2765),assert(_0x430f40),_0x256466();});}),it(_0x1eeb0a[_0x1a3eab(0x493)],_0x50be86=>{const _0x4b1179=_0x1a3eab;socketPosts[_0x4b1179(0x45e)]({'uid':_0xc80cc8},_0x10b8ce,(_0x400a3b,_0x2e3e07)=>{const _0x274d20=_0x4b1179;assert[_0x274d20(0x524)](_0x400a3b),assert['equal'](_0x162979,_0x2e3e07),_0x50be86();});}),_0x1eeb0a[_0x1a3eab(0x42c)](it,_0x1eeb0a[_0x1a3eab(0x4a9)],_0x23ed0f=>{const _0x2d0b07=_0x1a3eab;socketPosts[_0x2d0b07(0x50e)]({'uid':_0xc80cc8},null,_0x52393c=>{const _0x1f4005=_0x2d0b07,_0x6fd6ae={'bYyjR':_0x3f351e[_0x1f4005(0x3b8)]};if(_0x3f351e['cHwzb']('UItRt',_0x3f351e[_0x1f4005(0x3b7)])){const _0x30ac97=_0x6fd6ae['bYyjR'][_0x1f4005(0x2d2)]('|');let _0x1ae42d=0x0;while(!![]){switch(_0x30ac97[_0x1ae42d++]){case'0':_0x209f15[_0x1f4005(0x264)](_0x545b01[_0x1f4005(0x242)],_0x566268,(_0x3b6452,_0x197f90)=>{const _0x57ba67=_0x1f4005;_0x3b9772[_0x57ba67(0x524)](_0x3b6452),_0x465d52[_0x57ba67(0x2cb)](_0x197f90['upvoted'],!![]),_0x2d1971[_0x57ba67(0x2cb)](_0x197f90[_0x57ba67(0x233)],![]),_0x5a58d8();});continue;case'1':_0x27eddb[_0x1f4005(0x524)](_0x5c9e22);continue;case'2':_0x2909a1[_0x1f4005(0x2cb)](_0x20fde8[_0x1f4005(0x341)][_0x1f4005(0x224)],0x1);continue;case'3':_0x28a2a1[_0x1f4005(0x2cb)](_0x4c04b8[_0x1f4005(0x341)][_0x1f4005(0x3aa)],0x1);continue;case'4':_0x2aca03[_0x1f4005(0x2cb)](_0x52aa4b[_0x1f4005(0x341)]['downvotes'],0x0);continue;case'5':_0x1d9989[_0x1f4005(0x2cb)](_0x235ae7['user'][_0x1f4005(0x28a)],0x1);continue;}break;}}else assert[_0x1f4005(0x2cb)](_0x52393c[_0x1f4005(0x2c8)],_0x1f4005(0x358)),_0x23ed0f();});}),_0x1eeb0a[_0x1a3eab(0x42c)](it,_0x1eeb0a[_0x1a3eab(0x47c)],_0x4e6699=>{const _0x7a9193=_0x1a3eab;socketPosts['getPidIndex']({'uid':_0xc80cc8},{'pid':_0x10b8ce,'tid':_0xd9d543['tid'],'topicPostSort':_0x3f351e[_0x7a9193(0x24a)]},(_0x4dc966,_0x224a10)=>{const _0x690b2b=_0x7a9193;assert['ifError'](_0x4dc966),assert[_0x690b2b(0x2cb)](_0x224a10,0x4),_0x4e6699();});}),_0x1eeb0a[_0x1a3eab(0x4ed)](it,_0x1a3eab(0x26b),_0x2bccb1=>{const _0x525222=_0x1a3eab;topics[_0x525222(0x1ff)]({'uid':_0xc80cc8,'tid':_0xd9d543['tid'],'content':_0x525222(0x28c)},(_0x380015,_0x216642)=>{const _0x4a3409=_0x525222;if(_0x3f351e[_0x4a3409(0x213)]!==_0x4a3409(0x270)){const _0x416f45={'dfKps':function(_0x2cc102){return _0x2cc102();}};_0x3bdbdf[_0x4a3409(0x44f)]({'uid':_0x262a69},[_0x5a480b[_0x4a3409(0x242)]],(_0x33526d,_0x12d7e8)=>{const _0x2ce3e9=_0x4a3409;_0x9c0248[_0x2ce3e9(0x524)](_0x33526d),_0x3aa102[_0x2ce3e9(0x2cb)](_0x12d7e8[0x0][_0x2ce3e9(0x2b3)],0x0),_0x5cf632['equal'](_0x12d7e8[0x0][_0x2ce3e9(0x2fb)],_0x2ce3e9(0x574)),_0x416f45['dfKps'](_0x574f67);});}else assert[_0x4a3409(0x524)](_0x380015),socketPosts[_0x4a3409(0x50e)]({'uid':_0xc80cc8},{'pid':_0x216642[_0x4a3409(0x242)],'tid':_0xd9d543[_0x4a3409(0x522)],'topicPostSort':_0x3f351e['CTIjn']},(_0x52c645,_0xde5346)=>{const _0xdb1b0c=_0x4a3409;assert['ifError'](_0x52c645),assert[_0xdb1b0c(0x2cb)](_0xde5346,0x1),_0x2bccb1();});});});}),describe(_0x4d8288(0x1e1),()=>{const _0x56c3a8=_0x4d8288,_0x3ef014={'nbXtY':function(_0x4f8f13){return _0x1eeb0a['DYWyS'](_0x4f8f13);},'IBCgt':function(_0x23d8a1,_0x227c41){return _0x23d8a1!==_0x227c41;},'fxWMc':'fbTju','wASIF':_0x56c3a8(0x379)};_0x1eeb0a[_0x56c3a8(0x495)](Function,_0x1eeb0a[_0x56c3a8(0x404)])(),_0x1eeb0a[_0x56c3a8(0x4e0)](it,_0x56c3a8(0x25d),_0x346148=>{const _0x3a65db=_0x56c3a8,_0x47a082={'rJTfY':function(_0x9d760f){return _0x3ef014['nbXtY'](_0x9d760f);}};if(_0x3ef014[_0x3a65db(0x3a4)](_0x3ef014[_0x3a65db(0x554)],_0x3ef014[_0x3a65db(0x499)]))posts[_0x3a65db(0x1e1)]([0x1,0x2,0x3],null,(_0x220299,_0x1d9ce9)=>{const _0x3c6d29=_0x3a65db;assert[_0x3c6d29(0x524)](_0x220299),assert[_0x3c6d29(0x29d)]([0x1,0x2,0x3],_0x1d9ce9),_0x47a082[_0x3c6d29(0x22c)](_0x346148);});else{const _0x44299c={'PnMib':function(_0x1a2625){return _0x1a2625();}};_0x48f0ac[_0x3a65db(0x524)](_0x75f42e),_0x20af2e[_0x3a65db(0x24c)]({'uid':_0xcc3f0b},{'pids':[_0x5ee4c2[_0x3a65db(0x239)][_0x3a65db(0x242)]]},_0x394483=>{const _0x49496b=_0x3a65db;_0x11e277['ifError'](_0x394483),_0x1cba77[_0x49496b(0x2a6)](_0x3a590c[_0x49496b(0x2fe)][_0x49496b(0x522)],'deleted',(_0x4d6475,_0x22a878)=>{const _0x302f00=_0x49496b;_0x19f9f6[_0x302f00(0x524)](_0x4d6475),_0x5a4f3b['strictEqual'](_0x22a878,0x1),_0x44299c['PnMib'](_0x42498a);});});}}),it(_0x1eeb0a['EDrjq'],_0x441744=>{const _0x3d793d=_0x56c3a8;posts[_0x3d793d(0x1e1)]([_0xffafa9[_0x3d793d(0x242)],0x64,0x65],_0x162979,(_0x15cb64,_0xa781c0)=>{const _0x18a1b6=_0x3d793d;assert[_0x18a1b6(0x524)](_0x15cb64),assert[_0x18a1b6(0x29d)]([_0xffafa9['pid']],_0xa781c0),_0x441744();});}),it(_0x56c3a8(0x44e),_0xfb798f=>{const _0x384531=_0x56c3a8;posts[_0x384531(0x1e1)]([_0xffafa9['pid'],0x64,0x65],[_0x162979,0x2,0x3],(_0x2bf96f,_0x3dc4c2)=>{const _0x21aabe=_0x384531;assert[_0x21aabe(0x524)](_0x2bf96f),assert['deepEqual']([_0xffafa9['pid']],_0x3dc4c2),_0xfb798f();});}),it(_0x56c3a8(0x44e),_0x2ac489=>{const _0x24f5ca=_0x56c3a8,_0x37483b={'OVYDm':function(_0x490d97){const _0xc66aa5=_0x12cc;return _0x1eeb0a[_0xc66aa5(0x296)](_0x490d97);}};_0x1eeb0a[_0x24f5ca(0x389)](_0x1eeb0a[_0x24f5ca(0x533)],_0x24f5ca(0x50c))?_0x32072c[_0x24f5ca(0x27e)]({'username':_0x24f5ca(0x574)},_0x1e4242):posts[_0x24f5ca(0x1e1)]([_0xffafa9['pid'],0x64,0x65],[_0x162979],(_0x37ff7a,_0x9ae134)=>{const _0x2128bd=_0x24f5ca;assert[_0x2128bd(0x524)](_0x37ff7a),assert[_0x2128bd(0x29d)]([_0xffafa9[_0x2128bd(0x242)]],_0x9ae134),_0x37483b[_0x2128bd(0x43d)](_0x2ac489);});});}),_0x1eeb0a['oboNM'](it,_0x1eeb0a['NcxTt'],_0x2c950f=>{const _0xfb3ba4=_0x4d8288;user[_0xfb3ba4(0x460)](0x1425033,0x1,_0x1e564e=>{const _0x39f614=_0xfb3ba4;assert[_0x39f614(0x2cb)](_0x1e564e['message'],_0x39f614(0x1d5)),_0x1eeb0a[_0x39f614(0x504)](_0x2c950f);});}),_0x1eeb0a[_0x4d8288(0x4f9)](describe,_0x1eeb0a[_0x4d8288(0x315)],()=>{const _0x4da7e7=_0x4d8288,_0x177b02={'nInLj':function(_0x504f83,_0x4918e0){const _0x34e49f=_0x12cc;return _0x1eeb0a[_0x34e49f(0x472)](_0x504f83,_0x4918e0);},'MGOLG':function(_0x9e2e89){return _0x1eeb0a['JedPu'](_0x9e2e89);},'efofL':_0x1eeb0a['OnANg'],'aZaMT':_0x1eeb0a[_0x4da7e7(0x4c6)],'mQDYg':_0x4da7e7(0x3e0),'oPstQ':function(_0x5b6a45,_0x5c857d,_0x1d9179,_0x5578e1){return _0x5b6a45(_0x5c857d,_0x1d9179,_0x5578e1);},'haZJQ':_0x4da7e7(0x376),'XQVbc':function(_0x22fae0){return _0x22fae0();},'SXwUR':function(_0x13d4b1,_0x4313af,_0x1d1c88,_0x43da60){return _0x13d4b1(_0x4313af,_0x1d1c88,_0x43da60);},'gFtXa':_0x1eeb0a[_0x4da7e7(0x23e)],'gAIcv':_0x1eeb0a[_0x4da7e7(0x1f7)],'iMHbt':function(_0x46e89b){const _0x3ab025=_0x4da7e7;return _0x1eeb0a[_0x3ab025(0x4c1)](_0x46e89b);},'dDdVZ':function(_0x426474){return _0x426474();},'zDZSe':function(_0x1daec4){const _0x56e5a1=_0x4da7e7;return _0x1eeb0a[_0x56e5a1(0x223)](_0x1daec4);},'oHOfD':_0x4da7e7(0x205),'GAOEJ':_0x4da7e7(0x52a),'TjJbj':_0x4da7e7(0x526),'IpWei':_0x4da7e7(0x3db)};let _0x34142b,_0x299ea0,_0xc91bad,_0x4cbd44;_0x1eeb0a[_0x4da7e7(0x495)](before,_0x1e7412=>{const _0x26d26d=_0x4da7e7,_0xca7d97={'iQqiW':function(_0x51b402,_0x145da5){const _0x2b4137=_0x12cc;return _0x177b02[_0x2b4137(0x258)](_0x51b402,_0x145da5);},'nqRzK':_0x26d26d(0x4bf)};meta[_0x26d26d(0x204)]['postQueue']=0x1,user[_0x26d26d(0x27e)]({'username':_0x26d26d(0x4f3)},(_0x16e18d,_0x2f394e)=>{const _0x47ccc8=_0x26d26d;_0xca7d97['iQqiW'](_0xca7d97[_0x47ccc8(0x4d2)],'RyPcU')?(_0x563412['ifError'](_0x101711),_0x355d85[_0x47ccc8(0x2cb)](_0x95be4d[_0x47ccc8(0x1da)],![]),_0xe3bb74[_0x47ccc8(0x2cb)](_0x597e7c[_0x47ccc8(0x233)],!![]),_0x61fcd6()):(assert[_0x47ccc8(0x524)](_0x16e18d),_0x34142b=_0x2f394e,_0x1e7412());});}),after(_0x4f3aeb=>{const _0x522759=_0x4da7e7;_0x1eeb0a[_0x522759(0x423)]('udaLF',_0x522759(0x549))?(meta[_0x522759(0x204)][_0x522759(0x3ef)]=0x0,meta['config'][_0x522759(0x2ad)]=[],_0x1eeb0a[_0x522759(0x4e6)](_0x4f3aeb)):_0x146136=_0x4c7c1b;}),_0x1eeb0a['WrAFb'](it,_0x1eeb0a[_0x4da7e7(0x33b)],_0x4891f3=>{const _0x25431b=_0x4da7e7;socketTopics[_0x25431b(0x341)]({'uid':_0x34142b},{'title':_0x177b02[_0x25431b(0x413)],'content':_0x177b02[_0x25431b(0x52b)],'cid':_0x162979},(_0x59f83b,_0x1cf32a)=>{const _0x31b631=_0x25431b;assert[_0x31b631(0x524)](_0x59f83b),assert[_0x31b631(0x20b)](_0x1cf32a[_0x31b631(0x37d)],!![]),assert[_0x31b631(0x2cb)](_0x1cf32a[_0x31b631(0x2c8)],_0x31b631(0x58a)),_0xc91bad=_0x1cf32a['id'],_0x177b02[_0x31b631(0x279)](_0x4891f3);});}),it(_0x4da7e7(0x383),_0x5c49fb=>{const _0x163713=_0x4da7e7;socketPosts['reply']({'uid':_0x34142b},{'content':_0x177b02[_0x163713(0x3d3)],'tid':_0xd9d543[_0x163713(0x522)]},(_0x48879a,_0x155f37)=>{const _0x11f4b2=_0x163713;assert[_0x11f4b2(0x524)](_0x48879a),assert[_0x11f4b2(0x20b)](_0x155f37[_0x11f4b2(0x37d)],!![]),assert[_0x11f4b2(0x2cb)](_0x155f37['message'],_0x11f4b2(0x58a)),_0x299ea0=_0x155f37['id'],_0x5c49fb();});}),it(_0x4da7e7(0x284),_0x1a859e=>{const _0x31e892=_0x4da7e7,_0x3f5cdf={'SswZH':function(_0x5bf2c6){return _0x5bf2c6();},'EJJBy':function(_0xadb54f,_0x4e0f49,_0x238c66,_0x5076b3){const _0xf68093=_0x12cc;return _0x177b02[_0xf68093(0x392)](_0xadb54f,_0x4e0f49,_0x238c66,_0x5076b3);}};helpers['loginUser'](_0x177b02[_0x31e892(0x2f0)],_0x31e892(0x2aa),(_0x1b1aae,_0x2572b9)=>{const _0x69265c=_0x31e892;_0x4cbd44=_0x2572b9,assert[_0x69265c(0x524)](_0x1b1aae),_0x3f5cdf[_0x69265c(0x1e5)](request,nconf[_0x69265c(0x231)](_0x69265c(0x407))+'/api/post-queue',{'jar':_0x4cbd44,'json':!![]},(_0x2b6985,_0x1abb11,_0x3772a4)=>{const _0x126357=_0x69265c;assert[_0x126357(0x524)](_0x2b6985),assert[_0x126357(0x2cb)](_0x3772a4[_0x126357(0x354)][0x0][_0x126357(0x3b6)],_0x126357(0x3fa)),assert['equal'](_0x3772a4[_0x126357(0x354)][0x0][_0x126357(0x247)][_0x126357(0x390)],_0x126357(0x38d)),assert[_0x126357(0x2cb)](_0x3772a4[_0x126357(0x354)][0x1]['type'],_0x126357(0x1ff)),assert['equal'](_0x3772a4[_0x126357(0x354)][0x1]['data'][_0x126357(0x390)],_0x126357(0x3e0)),_0x3f5cdf[_0x126357(0x563)](_0x1a859e);});});}),_0x1eeb0a[_0x4da7e7(0x4ff)](it,_0x1eeb0a[_0x4da7e7(0x35a)],_0x585fa5=>{const _0x5677e9=_0x4da7e7,_0x2984da={'VeYHL':function(_0xd11de8){return _0x177b02['XQVbc'](_0xd11de8);}};socketPosts[_0x5677e9(0x429)]({'uid':_0x11ef4d},null,_0x2ac3ee=>{const _0x4acea6=_0x5677e9;assert[_0x4acea6(0x2cb)](_0x2ac3ee[_0x4acea6(0x2c8)],_0x4acea6(0x358)),_0x2984da[_0x4acea6(0x1d0)](_0x585fa5);});}),it(_0x1eeb0a['CuXJI'],_0x4ff760=>{const _0x5e36d7=_0x4da7e7;socketPosts[_0x5e36d7(0x429)]({'uid':_0x11ef4d},{'id':_0x299ea0,'content':_0x5e36d7(0x4fc)},_0x58e80f=>{const _0x551bb4=_0x5e36d7,_0x203cbe={'kCxzY':_0x551bb4(0x4fc),'wMOmo':function(_0x38b52b){return _0x38b52b();}};assert['ifError'](_0x58e80f),_0x177b02[_0x551bb4(0x4d1)](request,nconf[_0x551bb4(0x231)](_0x551bb4(0x407))+_0x551bb4(0x221),{'jar':_0x4cbd44,'json':!![]},(_0x5bd3e2,_0x294c6d,_0x543227)=>{const _0x1c6b14=_0x551bb4;assert['ifError'](_0x5bd3e2),assert[_0x1c6b14(0x2cb)](_0x543227[_0x1c6b14(0x354)][0x1][_0x1c6b14(0x3b6)],_0x1c6b14(0x1ff)),assert[_0x1c6b14(0x2cb)](_0x543227[_0x1c6b14(0x354)][0x1][_0x1c6b14(0x247)][_0x1c6b14(0x390)],_0x203cbe['kCxzY']),_0x203cbe[_0x1c6b14(0x403)](_0x4ff760);});});}),_0x1eeb0a[_0x4da7e7(0x217)](it,_0x1eeb0a[_0x4da7e7(0x2b6)],_0x108e2e=>{const _0x2f53b9=_0x4da7e7,_0x7aea7={'cESMw':_0x177b02['gFtXa']};socketPosts[_0x2f53b9(0x429)]({'uid':_0x11ef4d},{'id':_0xc91bad,'title':_0x177b02[_0x2f53b9(0x578)]},_0x55b399=>{const _0x2de763=_0x2f53b9,_0x18236b={'iOPhO':_0x7aea7[_0x2de763(0x3dd)],'IpUQk':_0x2de763(0x53a)};assert[_0x2de763(0x524)](_0x55b399),request(nconf[_0x2de763(0x231)](_0x2de763(0x407))+'/api/post-queue',{'jar':_0x4cbd44,'json':!![]},(_0x516026,_0x48882a,_0x8ce09c)=>{const _0x20c26b=_0x2de763;_0x18236b[_0x20c26b(0x52f)]===_0x20c26b(0x206)?_0x369d46[_0x20c26b(0x505)]({'uid':_0x1ad534},{'pid':_0x5dc27c[_0x20c26b(0x242)],'room_id':_0x20c26b(0x2df)+_0x1a9b93['tid']},(_0x5921dc,_0x478efc)=>{const _0x2e03c8=_0x20c26b,_0x184d52={'OVZnn':function(_0x4e36d3){return _0x4e36d3();}};_0x30b35d[_0x2e03c8(0x524)](_0x5921dc),_0x210897[_0x2e03c8(0x2cb)](_0x478efc['isBookmarked'],!![]),_0x2f47df[_0x2e03c8(0x312)](_0x59124a[_0x2e03c8(0x242)],_0x34261d,(_0x19f70a,_0x33ce6d)=>{const _0x481137=_0x2e03c8;_0x4b3038['ifError'](_0x19f70a),_0x13eaf2[_0x481137(0x2cb)](_0x33ce6d,!![]),_0x184d52[_0x481137(0x57a)](_0x4f9089);});}):(assert[_0x20c26b(0x524)](_0x516026),assert[_0x20c26b(0x2cb)](_0x8ce09c[_0x20c26b(0x354)][0x0][_0x20c26b(0x3b6)],_0x20c26b(0x3fa)),assert[_0x20c26b(0x2cb)](_0x8ce09c['posts'][0x0]['data']['title'],_0x18236b[_0x20c26b(0x2f8)]),_0x108e2e());});});}),it(_0x4da7e7(0x49c),_0x4234df=>{const _0xa7e054=_0x4da7e7,_0xbb9ffb={'nwrkH':_0x1eeb0a[_0xa7e054(0x2c9)],'TBAEQ':function(_0x23787e,_0x2d814f){const _0x4463ab=_0xa7e054;return _0x1eeb0a[_0x4463ab(0x445)](_0x23787e,_0x2d814f);},'mLWLo':_0xa7e054(0x351),'IdlCz':_0xa7e054(0x4ab)};socketPosts[_0xa7e054(0x429)]({'uid':_0x11ef4d},{'id':_0xc91bad,'cid':0x2},_0x253c70=>{const _0x5c1ec6=_0xa7e054;_0xbb9ffb[_0x5c1ec6(0x4b1)](_0xbb9ffb[_0x5c1ec6(0x4c9)],_0xbb9ffb[_0x5c1ec6(0x1f1)])?(assert[_0x5c1ec6(0x524)](_0x253c70),request(nconf[_0x5c1ec6(0x231)](_0x5c1ec6(0x407))+_0x5c1ec6(0x221),{'jar':_0x4cbd44,'json':!![]},(_0x2b7c09,_0x249f02,_0x47eca8)=>{const _0x47287a=_0x5c1ec6;assert[_0x47287a(0x524)](_0x2b7c09),assert[_0x47287a(0x2cb)](_0x47eca8[_0x47287a(0x354)][0x0][_0x47287a(0x3b6)],_0xbb9ffb[_0x47287a(0x272)]),assert[_0x47287a(0x2cb)](_0x47eca8[_0x47287a(0x354)][0x0][_0x47287a(0x247)][_0x47287a(0x21f)],0x2),socketPosts['editQueuedContent']({'uid':_0x11ef4d},{'id':_0xc91bad,'cid':_0x162979},_0x47cb33=>{const _0x738e1e=_0x47287a;assert[_0x738e1e(0x524)](_0x47cb33),_0x4234df();});})):_0x3416e7[_0x5c1ec6(0x341)]({'uid':_0x57bfe9,'cid':_0x43ad8f,'title':_0x5c1ec6(0x1f0),'content':_0x5c1ec6(0x263)},_0x5893f6);});}),_0x1eeb0a['PMzoR'](it,_0x1eeb0a[_0x4da7e7(0x228)],_0x508c71=>{const _0x5dd6c7={'Gbusk':function(_0x3c2547){const _0xfff91=_0x12cc;return _0x177b02[_0xfff91(0x285)](_0x3c2547);}};socketPosts['accept']({'uid':_0x34142b},{'id':_0x299ea0},_0xb72266=>{const _0x80bc3e=_0x12cc;assert[_0x80bc3e(0x2cb)](_0xb72266[_0x80bc3e(0x2c8)],'[[error:no-privileges]]'),_0x5dd6c7[_0x80bc3e(0x2b0)](_0x508c71);});}),it(_0x1eeb0a['eKnoN'],_0x98b76=>{const _0x52247e=_0x4da7e7;_0x177b02[_0x52247e(0x258)]('HoLSf',_0x177b02[_0x52247e(0x4ea)])?(_0x5d9a46[_0x52247e(0x524)](_0x39131c),_0x2b9864['equal'](_0x549758[_0x52247e(0x1da)],![]),_0x45a5c0[_0x52247e(0x2cb)](_0xa5d74c['downvoted'],![]),_0x177b02[_0x52247e(0x3ea)](_0xd4e8ac)):socketPosts['accept']({'uid':_0x34142b},{'id':0x1e0f3},_0x522dc0=>{const _0x4755ef=_0x52247e;assert[_0x4755ef(0x2cb)](_0x522dc0[_0x4755ef(0x2c8)],_0x4755ef(0x528)),_0x177b02[_0x4755ef(0x57c)](_0x98b76);});}),_0x1eeb0a[_0x4da7e7(0x509)](it,_0x1eeb0a[_0x4da7e7(0x225)],_0x36b70e=>{const _0xdf98d6=_0x4da7e7;let _0x547253;async[_0xdf98d6(0x2eb)]([function(_0xe34b82){const _0x3bb49e=_0xdf98d6;db[_0x3bb49e(0x368)](_0x3bb49e(0x437),0x0,-0x1,_0xe34b82);},function(_0x28b44d,_0x3d6659){const _0x105f75=_0xdf98d6;_0x547253=_0x28b44d,socketPosts[_0x105f75(0x33f)]({'uid':_0x11ef4d},{'id':_0x547253[0x0]},_0x3d6659);},function(_0x266bab){socketPosts['accept']({'uid':_0x11ef4d},{'id':_0x547253[0x1]},_0x266bab);}],_0x36b70e);}),it(_0x4da7e7(0x402),_0x1b33e1=>{const _0xc385c2=_0x4da7e7,_0x2ecc1f={'CYMqC':_0x1eeb0a['pKfZu'],'rQHRN':function(_0x327d59){return _0x1eeb0a['vQzYJ'](_0x327d59);}};socketPosts[_0xc385c2(0x3d9)]({'uid':_0x11ef4d},{'id':_0x1eeb0a[_0xc385c2(0x543)]},_0x84de3a=>{const _0x16d46c=_0xc385c2;assert[_0x16d46c(0x2cb)](_0x84de3a[_0x16d46c(0x2c8)],_0x2ecc1f[_0x16d46c(0x40c)]),_0x2ecc1f[_0x16d46c(0x3f7)](_0x1b33e1);});}),it(_0x1eeb0a[_0x4da7e7(0x486)],async()=>{const _0x395eed=_0x4da7e7;if(_0x1eeb0a[_0x395eed(0x51c)]!==_0x395eed(0x2a7)){const _0x263a3b=meta[_0x395eed(0x204)][_0x395eed(0x2ad)];meta[_0x395eed(0x204)][_0x395eed(0x2ad)]=[_0x395eed(0x310)];const _0x58456d=await user[_0x395eed(0x27e)]({'username':'mergeexemptuser'}),_0x4b45ca=await socketTopics[_0x395eed(0x341)]({'uid':_0x58456d,'emit':()=>{}},{'title':_0x395eed(0x28e),'content':_0x1eeb0a[_0x395eed(0x2a8)],'cid':_0x162979});assert[_0x395eed(0x20b)](_0x4b45ca[_0x395eed(0x560)],_0x395eed(0x28e)),meta[_0x395eed(0x204)]['groupsExemptFromPostQueue']=_0x263a3b;}else _0xf69231=_0x46a05b;}),it(_0x4da7e7(0x547),async()=>{const _0x179258=_0x4da7e7,_0x4c6bae=await user[_0x179258(0x27e)]({'username':'mergetestsuser'}),_0x48af63=await socketTopics[_0x179258(0x341)]({'uid':_0x11ef4d},{'title':_0x179258(0x3fb),'content':_0x177b02[_0x179258(0x519)],'cid':_0x162979}),_0x502c99=await socketTopics['post']({'uid':_0x11ef4d},{'title':_0x177b02[_0x179258(0x401)],'content':_0x179258(0x41a),'cid':_0x162979}),_0x4776cc=await socketPosts[_0x179258(0x1ff)]({'uid':_0x4c6bae},{'content':_0x177b02['IpWei'],'tid':_0x48af63[_0x179258(0x522)]});await topics[_0x179258(0x261)]([_0x48af63['tid'],_0x502c99[_0x179258(0x522)]],_0x11ef4d,{'mainTid':_0x502c99[_0x179258(0x522)]});let _0x2af03b=await posts[_0x179258(0x20d)]();_0x2af03b=_0x2af03b['filter'](_0x57470b=>parseInt(_0x57470b[_0x179258(0x247)][_0x179258(0x522)],0xa)===parseInt(_0x502c99['tid'],0xa)),assert[_0x179258(0x20b)](_0x2af03b[_0x179258(0x45d)],0x1),assert['strictEqual'](_0x2af03b[0x0][_0x179258(0x247)]['content'],_0x177b02[_0x179258(0x2d9)]),assert[_0x179258(0x20b)](_0x2af03b[0x0][_0x179258(0x247)][_0x179258(0x522)],_0x502c99[_0x179258(0x522)]);});}),describe(_0x4d8288(0x1fa),()=>{const _0x57370c=_0x4d8288,_0x2d6439={'tnxZI':_0x1eeb0a[_0x57370c(0x3e9)],'rRHLx':_0x1eeb0a['TinuS'],'DxAMF':function(_0x5d74ff){const _0xa58ed0=_0x57370c;return _0x1eeb0a[_0xa58ed0(0x50a)](_0x5d74ff);},'ktLyA':_0x1eeb0a['JctoS'],'jMbuq':_0x57370c(0x2e9),'HeOpG':'topic\x20with\x20some\x20images,\x20to\x20be\x20purged','ibiPH':function(_0x2a26b7){const _0x5c7440=_0x57370c;return _0x1eeb0a[_0x5c7440(0x508)](_0x2a26b7);},'PVoMS':_0x57370c(0x271),'MyqaN':function(_0x209387){return _0x209387();},'lRUYr':function(_0x348c59,_0x27750b,_0x1a36d8){const _0x55b94a=_0x57370c;return _0x1eeb0a[_0x55b94a(0x506)](_0x348c59,_0x27750b,_0x1a36d8);},'Fvfvy':function(_0x527acd,_0xa91f8e){const _0x2f17f1=_0x57370c;return _0x1eeb0a[_0x2f17f1(0x495)](_0x527acd,_0xa91f8e);},'occuA':_0x1eeb0a[_0x57370c(0x336)],'fLkdp':_0x57370c(0x293),'iZRGz':function(_0x1a0478,_0x209021){return _0x1a0478===_0x209021;},'NyMIW':_0x1eeb0a[_0x57370c(0x27f)],'iYqXw':_0x1eeb0a[_0x57370c(0x46c)],'wozoy':_0x57370c(0x305),'fKCLV':_0x1eeb0a['QcCaj'],'zDRIu':function(_0x9d1f3e,_0x43d0eb,_0x5e65c3){const _0x36425f=_0x57370c;return _0x1eeb0a[_0x36425f(0x37f)](_0x9d1f3e,_0x43d0eb,_0x5e65c3);},'bdbtf':_0x1eeb0a[_0x57370c(0x208)]};if(_0x1eeb0a[_0x57370c(0x3a9)](_0x57370c(0x31f),_0x1eeb0a[_0x57370c(0x3cd)])){const _0xbe16c8=_0x57370c(0x3cc)[_0x57370c(0x2d2)]('|');let _0x1e71e9=0x0;while(!![]){switch(_0xbe16c8[_0x1e71e9++]){case'0':_0x43c3d5[_0x57370c(0x20b)](![],_0x5e7cf3['includes'](_0x2d6439[_0x57370c(0x52e)]));continue;case'1':_0x518288[_0x57370c(0x524)](_0x313aa3);continue;case'2':_0x7378cb[_0x57370c(0x20b)](![],_0x573da4[_0x57370c(0x318)](_0x2d6439['rRHLx']));continue;case'3':_0x2d6439['DxAMF'](_0x114013);continue;case'4':_0x416b66[_0x57370c(0x20b)](0x2,_0x36b947[_0x57370c(0x45d)]);continue;}break;}}else{let _0x450fe1,_0xdb65d0;before(async()=>{const _0x29e25a=_0x57370c;[_0x2d6439[_0x29e25a(0x3c6)],_0x29e25a(0x271),_0x29e25a(0x393),_0x2d6439['rRHLx'],_0x29e25a(0x480),_0x2d6439[_0x29e25a(0x553)]]['forEach'](_0x5bfe91=>fs[_0x29e25a(0x245)](fs[_0x29e25a(0x1c8)](path['join'](nconf[_0x29e25a(0x231)](_0x29e25a(0x323)),_0x29e25a(0x32e),_0x5bfe91),'w')));const _0x5cb009=await topics[_0x29e25a(0x341)]({'uid':0x1,'cid':0x1,'title':'topic\x20with\x20some\x20images','content':_0x29e25a(0x569)});_0x450fe1=_0x5cb009[_0x29e25a(0x239)]['pid'];const _0x43e5c0=await topics['post']({'uid':0x1,'cid':0x1,'title':_0x2d6439[_0x29e25a(0x446)],'content':_0x29e25a(0x55d)});_0xdb65d0=_0x43e5c0[_0x29e25a(0x239)][_0x29e25a(0x242)];}),_0x1eeb0a[_0x57370c(0x3f4)](describe,_0x57370c(0x452),()=>{const _0x3e617b=_0x57370c,_0x4dfb28={'QRRuz':function(_0x522d03){const _0x251d3a=_0x12cc;return _0x2d6439[_0x251d3a(0x438)](_0x522d03);},'zfwpn':_0x3e617b(0x3d8)};it(_0x3e617b(0x291),_0xfc0b01=>{const _0x1c6f2c=_0x3e617b;posts['uploads'][_0x1c6f2c(0x23c)](_0x450fe1,_0x4b9a98=>{const _0x8d2a6f=_0x1c6f2c,_0x10d572={'WbDCD':function(_0x5599e7){const _0x210e53=_0x12cc;return _0x4dfb28[_0x210e53(0x4e9)](_0x5599e7);}};assert[_0x8d2a6f(0x524)](_0x4b9a98),db[_0x8d2a6f(0x459)](_0x8d2a6f(0x4a3)+_0x450fe1+_0x8d2a6f(0x395),(_0x43ca04,_0x2c19e5)=>{const _0x3735af=_0x8d2a6f;assert[_0x3735af(0x524)](_0x43ca04),assert[_0x3735af(0x20b)](_0x2c19e5,0x2),_0x10d572[_0x3735af(0x322)](_0xfc0b01);});});}),it(_0x3e617b(0x262),_0x170024=>{const _0x80d6a3=_0x3e617b,_0x1167d7={'fHDNS':function(_0x2b7c02){return _0x2b7c02();},'ADXfo':_0x4dfb28[_0x80d6a3(0x212)]};async[_0x80d6a3(0x29a)]([function(_0x517b3e){const _0x27fb75=_0x80d6a3;_0x1167d7['ADXfo']==='BGczs'?posts[_0x27fb75(0x268)]({'pid':_0x450fe1,'uid':0x1,'content':_0x27fb75(0x292)},_0x517b3e):(_0x3e9695[_0x27fb75(0x524)](_0x1bdfa0),_0x17022b['env']=_0x5abcb0,_0x1167d7['fHDNS'](_0xaa097));},async[_0x80d6a3(0x33c)](posts[_0x80d6a3(0x3f0)][_0x80d6a3(0x23c)],_0x450fe1)],_0x4cad57=>{const _0x592bd2=_0x80d6a3;assert[_0x592bd2(0x524)](_0x4cad57),db[_0x592bd2(0x459)]('post:'+_0x450fe1+_0x592bd2(0x395),(_0x2f061a,_0x546acc)=>{const _0x2ca6ff=_0x592bd2;assert['ifError'](_0x2f061a),assert[_0x2ca6ff(0x20b)](0x1,_0x546acc),_0x170024();});});});}),_0x1eeb0a['nhZom'](describe,_0x1eeb0a[_0x57370c(0x2b4)],()=>{const _0x48ff2f=_0x57370c,_0x3d1422={'zeKtB':function(_0x555d33,_0x3eff0a){return _0x555d33(_0x3eff0a);}};if(_0x1eeb0a[_0x48ff2f(0x33a)](_0x1eeb0a[_0x48ff2f(0x298)],_0x1eeb0a['uHlBW']))_0x1eeb0a[_0x48ff2f(0x3e5)](it,_0x1eeb0a['PxAjG'],_0x57aa02=>{const _0x5be7ce=_0x48ff2f;posts[_0x5be7ce(0x3f0)]['list'](_0x450fe1,(_0x22abed,_0x397589)=>{const _0x234d3e=_0x5be7ce;assert[_0x234d3e(0x524)](_0x22abed),assert[_0x234d3e(0x2cb)](!![],Array[_0x234d3e(0x1db)](_0x397589)),assert[_0x234d3e(0x20b)](0x1,_0x397589['length']),assert[_0x234d3e(0x2cb)](_0x234d3e(0x408),typeof _0x397589[0x0]),_0x57aa02();});});else{const _0x42dabe={'rCexk':'registered-users'};_0x3d1422[_0x48ff2f(0x48c)](_0x4c1084,(_0x13c546,_0x3b2248)=>{const _0x3c127d=_0x48ff2f;_0x41a13a=_0x13c546[_0x3c127d(0x2fe)]['tid'],_0x3e234c=_0x13c546[_0x3c127d(0x239)][_0x3c127d(0x242)],_0xe9fe45=_0x3b2248[_0x3c127d(0x242)],_0x1e6ab2[_0x3c127d(0x501)][_0x3c127d(0x356)](['groups:purge'],_0x27b98f,_0x42dabe[_0x3c127d(0x3ff)],_0x527903);});}}),_0x1eeb0a[_0x57370c(0x506)](describe,_0x1eeb0a[_0x57370c(0x2a4)],()=>{const _0x490f50=_0x57370c,_0x15d576={'OXkFO':function(_0x4bf686){return _0x2d6439['MyqaN'](_0x4bf686);}};new Function(_0x490f50(0x29c))(),_0x2d6439['lRUYr'](it,_0x490f50(0x41d),_0x4a5b31=>{const _0x2e39dc=_0x490f50;posts[_0x2e39dc(0x3f0)][_0x2e39dc(0x3f2)](_0x2e39dc(0x46d),(_0x4e9090,_0x242c2d)=>{const _0x5cee61=_0x2e39dc;assert[_0x5cee61(0x524)](_0x4e9090),assert[_0x5cee61(0x2cb)](![],_0x242c2d),_0x15d576[_0x5cee61(0x4c3)](_0x4a5b31);});}),_0x2d6439['Fvfvy'](Function,_0x2d6439[_0x490f50(0x3a3)])(),it(_0x490f50(0x585),_0x1e4e1a=>{const _0x123c17=_0x490f50;posts['uploads']['isOrphan'](_0x2d6439[_0x123c17(0x432)],(_0x1500ce,_0x951285)=>{const _0x1e0aae=_0x123c17;assert[_0x1e0aae(0x524)](_0x1500ce),assert[_0x1e0aae(0x2cb)](!![],_0x951285),_0x1e4e1a();});});}),_0x1eeb0a[_0x57370c(0x4cd)](describe,_0x1eeb0a[_0x57370c(0x4ce)],()=>{const _0x40fe07=_0x57370c,_0x43433d={'nzRMw':'test.bmp','slDxV':function(_0xb9b400){const _0x573de0=_0x12cc;return _0x1eeb0a[_0x573de0(0x35b)](_0xb9b400);},'peDoc':_0x40fe07(0x305)};it(_0x1eeb0a[_0x40fe07(0x468)],_0x3642ce=>{const _0x151968=_0x40fe07,_0x278bcb={'MvuoT':'whoa.gif','wYrlV':function(_0x5b1d37){const _0x124577=_0x12cc;return _0x2d6439[_0x124577(0x438)](_0x5b1d37);}};async['waterfall']([async[_0x151968(0x33c)](posts[_0x151968(0x3f0)][_0x151968(0x325)],_0x450fe1,'whoa.gif'),async[_0x151968(0x33c)](posts[_0x151968(0x3f0)]['list'],_0x450fe1)],(_0x5749b0,_0x4fae5e)=>{const _0x431f3d=_0x151968;assert[_0x431f3d(0x524)](_0x5749b0),assert['strictEqual'](0x2,_0x4fae5e[_0x431f3d(0x45d)]),assert['strictEqual'](!![],_0x4fae5e['includes'](_0x278bcb[_0x431f3d(0x510)])),_0x278bcb[_0x431f3d(0x1dd)](_0x3642ce);});}),_0x1eeb0a[_0x40fe07(0x3e5)](it,_0x1eeb0a[_0x40fe07(0x343)],_0x1f78f3=>{const _0x265006=_0x40fe07,_0x18228e={'EVnkk':function(_0x558a00){return _0x558a00();},'moZPw':'edited\x20post\x20content','wDwce':function(_0x65f38f,_0x261954){return _0x65f38f!==_0x261954;},'VOVSs':'amazeballs.jpg'};_0x2d6439[_0x265006(0x490)]!==_0x2d6439['fLkdp']?_0x572c20['edit']({'uid':_0x47f87e},{'pid':_0x4c55bd,'content':_0x18228e[_0x265006(0x2be)],'title':'a'},_0x47468b=>{const _0x2d5359=_0x265006;_0x2c5aa1['equal'](_0x47468b[_0x2d5359(0x2c8)],_0x2d5359(0x427)+_0x2f8c68[_0x2d5359(0x204)][_0x2d5359(0x1d9)]+']]'),_0x18228e[_0x2d5359(0x428)](_0x35b984);}):async['waterfall']([async[_0x265006(0x33c)](posts[_0x265006(0x3f0)][_0x265006(0x325)],_0x450fe1,[_0x265006(0x503),_0x265006(0x480)]),async[_0x265006(0x33c)](posts[_0x265006(0x3f0)][_0x265006(0x20c)],_0x450fe1)],(_0x49cfe2,_0x3a5619)=>{const _0x3e698b=_0x265006,_0x1b0417={'zURuG':function(_0x52fbe0){return _0x52fbe0();}};if(_0x18228e['wDwce']('spmFG',_0x3e698b(0x562)))_0x34fedd['ifError'](_0x75adc1),_0x3b8460[_0x3e698b(0x20b)](_0x3eac6d,0x2),_0x1b0417['zURuG'](_0x38a174);else{const _0x3da75f='3|0|2|1|4'[_0x3e698b(0x2d2)]('|');let _0x480610=0x0;while(!![]){switch(_0x3da75f[_0x480610++]){case'0':assert[_0x3e698b(0x20b)](0x4,_0x3a5619[_0x3e698b(0x45d)]);continue;case'1':assert[_0x3e698b(0x20b)](!![],_0x3a5619[_0x3e698b(0x318)](_0x3e698b(0x480)));continue;case'2':assert[_0x3e698b(0x20b)](!![],_0x3a5619[_0x3e698b(0x318)](_0x18228e[_0x3e698b(0x324)]));continue;case'3':assert[_0x3e698b(0x524)](_0x49cfe2);continue;case'4':_0x18228e['EVnkk'](_0x1f78f3);continue;}break;}}});}),_0x1eeb0a['PnvUL'](it,_0x1eeb0a[_0x40fe07(0x2c2)],_0x51be12=>{const _0x48c549=_0x40fe07,_0x35a6b5={'mrrbk':_0x48c549(0x1ee)};if(_0x2d6439[_0x48c549(0x572)](_0x2d6439[_0x48c549(0x3d7)],_0x2d6439[_0x48c549(0x333)])){const _0x6fb132={'ISnNp':function(_0x358ff1){return _0x358ff1();}},_0x2ad49a=_0xfafe02[_0x48c549(0x204)][_0x48c549(0x4e3)];_0x28e373['config'][_0x48c549(0x4e3)]=0x1,_0xb86df5[_0x48c549(0x268)]({'uid':_0x3d76d4},{'pid':_0x55a502,'content':_0x35a6b5['mrrbk'],'tags':[]},_0x1af638=>{const _0x518c7d=_0x48c549;_0x5b7589[_0x518c7d(0x2cb)](_0x1af638[_0x518c7d(0x2c8)],'[[error:not-enough-tags,\x20'+_0xb0a857['config'][_0x518c7d(0x4e3)]+']]'),_0x311b70[_0x518c7d(0x204)][_0x518c7d(0x4e3)]=_0x2ad49a,_0x6fb132[_0x518c7d(0x458)](_0x1fe533);});}else{const _0xd80661=_0x68de57=>crypto[_0x48c549(0x447)](_0x48c549(0x50b))['update'](_0x68de57)['digest'](_0x48c549(0x4f6));async['waterfall']([async['apply'](posts['uploads'][_0x48c549(0x325)],_0x450fe1,[_0x2d6439[_0x48c549(0x553)]]),function(_0x34d091){const _0x26c82c=_0x48c549;db[_0x26c82c(0x368)](_0x26c82c(0x319)+_0xd80661(_0x43433d['nzRMw'])+_0x26c82c(0x42f),0x0,-0x1,_0x34d091);}],(_0x296c6e,_0x2cb999)=>{const _0x3abea9=_0x48c549;assert[_0x3abea9(0x524)](_0x296c6e),assert['strictEqual'](!![],Array['isArray'](_0x2cb999)),assert['strictEqual'](!![],_0x2cb999[_0x3abea9(0x45d)]>0x0),assert['equal'](_0x450fe1,_0x2cb999[0x0]),_0x43433d['slDxV'](_0x51be12);});}}),it(_0x40fe07(0x430),_0x552d54=>{const _0x4572de=_0x40fe07;async[_0x4572de(0x2eb)]([async[_0x4572de(0x33c)](posts[_0x4572de(0x3f0)][_0x4572de(0x325)],_0x450fe1,[_0x2d6439[_0x4572de(0x4aa)]]),async['apply'](posts[_0x4572de(0x3f0)]['list'],_0x450fe1)],(_0x44b241,_0x304c8b)=>{const _0x6b2690=_0x4572de;assert[_0x6b2690(0x524)](_0x44b241),assert[_0x6b2690(0x20b)](_0x304c8b[_0x6b2690(0x45d)],0x5),assert[_0x6b2690(0x20b)](![],_0x304c8b[_0x6b2690(0x318)](_0x43433d[_0x6b2690(0x1c6)])),_0x43433d[_0x6b2690(0x56e)](_0x552d54);});});}),describe(_0x1eeb0a[_0x57370c(0x1ef)],()=>{const _0x1d46bc=_0x57370c,_0x36b327={'FSYCi':_0x1eeb0a['hSzlF'],'IXKct':'wut.txt','RuwSp':function(_0x3c024b){return _0x3c024b();}};_0x1eeb0a['OMqxf'](it,_0x1d46bc(0x220),_0x357bf1=>{const _0x12e82b=_0x1d46bc;async[_0x12e82b(0x2eb)]([async[_0x12e82b(0x33c)](posts['uploads'][_0x12e82b(0x53b)],_0x450fe1,_0x36b327[_0x12e82b(0x2b2)]),async[_0x12e82b(0x33c)](posts[_0x12e82b(0x3f0)][_0x12e82b(0x20c)],_0x450fe1)],(_0x44a082,_0x541938)=>{const _0x3675c8=_0x12e82b;assert[_0x3675c8(0x524)](_0x44a082),assert[_0x3675c8(0x20b)](0x4,_0x541938[_0x3675c8(0x45d)]),assert[_0x3675c8(0x20b)](![],_0x541938[_0x3675c8(0x318)]('whoa.gif')),_0x357bf1();});}),_0x1eeb0a[_0x1d46bc(0x3a1)](it,_0x1d46bc(0x568),_0x3f4107=>{const _0x5573fa=_0x1d46bc,_0x18d8c7={'cSsUF':_0x36b327['IXKct'],'URqPi':function(_0xde65df){const _0x31e6c6=_0x12cc;return _0x36b327[_0x31e6c6(0x1ea)](_0xde65df);}};async[_0x5573fa(0x2eb)]([async[_0x5573fa(0x33c)](posts[_0x5573fa(0x3f0)][_0x5573fa(0x53b)],_0x450fe1,['amazeballs.jpg','wut.txt']),async[_0x5573fa(0x33c)](posts[_0x5573fa(0x3f0)]['list'],_0x450fe1)],(_0x30181a,_0xb1666c)=>{const _0x44caa1=_0x5573fa,_0x4af436=_0x44caa1(0x4bc)[_0x44caa1(0x2d2)]('|');let _0x35c56e=0x0;while(!![]){switch(_0x4af436[_0x35c56e++]){case'0':assert[_0x44caa1(0x20b)](![],_0xb1666c[_0x44caa1(0x318)](_0x18d8c7[_0x44caa1(0x1e6)]));continue;case'1':_0x18d8c7[_0x44caa1(0x30d)](_0x3f4107);continue;case'2':assert[_0x44caa1(0x524)](_0x30181a);continue;case'3':assert[_0x44caa1(0x20b)](![],_0xb1666c['includes'](_0x44caa1(0x503)));continue;case'4':assert[_0x44caa1(0x20b)](0x2,_0xb1666c[_0x44caa1(0x45d)]);continue;}break;}});});}),describe(_0x57370c(0x254),()=>{const _0xfba8af=_0x57370c;_0x1eeb0a[_0xfba8af(0x2ba)](it,_0x1eeb0a[_0xfba8af(0x31b)],async()=>{const _0x1ee174=_0xfba8af;await posts['uploads'][_0x1ee174(0x1c7)](_0x450fe1);const _0x1b9143=await posts[_0x1ee174(0x3f0)][_0x1ee174(0x20c)](_0x450fe1);assert[_0x1ee174(0x2cb)](_0x1b9143['length'],0x0);});}),describe(_0x1eeb0a[_0x57370c(0x26e)],()=>{const _0x3c318f=_0x57370c;_0x2d6439[_0x3c318f(0x342)](it,_0x2d6439['fKCLV'],async()=>{const _0x367fd9=_0x3c318f;await posts['delete'](_0xdb65d0,0x1);const _0x2c47bf=await posts[_0x367fd9(0x3f0)][_0x367fd9(0x20c)](_0xdb65d0);assert[_0x367fd9(0x2cb)](_0x2c47bf['length'],0x2);}),_0x2d6439[_0x3c318f(0x200)](it,_0x2d6439['bdbtf'],async()=>{const _0x3b2d6b=_0x3c318f;await posts['purge'](_0xdb65d0,0x1);const _0x2a9970=await posts[_0x3b2d6b(0x3f0)][_0x3b2d6b(0x20c)](_0xdb65d0);assert[_0x3b2d6b(0x2cb)](_0x2a9970[_0x3b2d6b(0x45d)],0x0);});});}}),_0x1eeb0a[_0x4d8288(0x31e)](describe,_0x4d8288(0x453),()=>{const _0x374026=_0x4d8288,_0x171acc={'SxmFT':function(_0x5b4d7c){return _0x5b4d7c();},'aWfvj':_0x374026(0x42e),'RnKmX':_0x1eeb0a[_0x374026(0x40d)],'rgafa':function(_0x2cd8c6,_0x3cf44f){return _0x2cd8c6!==_0x3cf44f;},'Vnzoh':_0x1eeb0a[_0x374026(0x3eb)],'PNQqt':function(_0x3849fe){return _0x3849fe();},'ahTtf':function(_0x3ac45d){const _0x4be207=_0x374026;return _0x1eeb0a[_0x4be207(0x4c1)](_0x3ac45d);},'ElMIT':function(_0x2ae89c,_0x1a4b67){const _0xc9228f=_0x374026;return _0x1eeb0a[_0xc9228f(0x381)](_0x2ae89c,_0x1a4b67);},'bMjoe':'nSFbj'};let _0x1e1384,_0x1d0429;before(_0x5059d2=>{const _0x3e0393=_0x374026,_0x2ced0e={'kuvwG':function(_0x359ded){return _0x171acc['SxmFT'](_0x359ded);}};topics['post']({'uid':0x1,'cid':_0x162979,'title':_0x171acc[_0x3e0393(0x2cc)],'content':_0x171acc[_0x3e0393(0x4d0)]},(_0x446f4e,_0x3a00b8)=>{const _0x2307c6=_0x3e0393;assert['ifError'](_0x446f4e),topics[_0x2307c6(0x1ff)]({'uid':0x1,'tid':_0x3a00b8[_0x2307c6(0x2fe)]['tid'],'timestamp':Date['now'](),'content':'[abcdef](/assets/uploads/files/shazam.jpg)'},(_0x547430,_0x47ed7c)=>{const _0x54624a=_0x2307c6;assert[_0x54624a(0x524)](_0x547430),_0x1e1384=_0x3a00b8,_0x1d0429=_0x47ed7c,_0x2ced0e[_0x54624a(0x29e)](_0x5059d2);});});}),_0x1eeb0a[_0x374026(0x3dc)](it,_0x374026(0x210),_0x80efa0=>{const _0x1b0ed4=_0x374026,_0x199fb9={'GLnxZ':function(_0x38be9d){const _0x48c8db=_0x12cc;return _0x171acc[_0x48c8db(0x282)](_0x38be9d);}};_0x171acc[_0x1b0ed4(0x433)](_0x171acc[_0x1b0ed4(0x1cc)],_0x1b0ed4(0x246))?(_0x10323b[_0x1b0ed4(0x2cb)](_0x3da917['message'],_0x1b0ed4(0x358)),_0x354445()):db['sortedSetsCard']([_0x1b0ed4(0x4a3)+_0x1e1384[_0x1b0ed4(0x2fe)]['mainPid']+':uploads',_0x1b0ed4(0x4a3)+_0x1d0429[_0x1b0ed4(0x242)]+_0x1b0ed4(0x395)],(_0x5d9b5c,_0x3fea71)=>{const _0x44e19f=_0x1b0ed4;assert['ifError'](_0x5d9b5c),assert[_0x44e19f(0x20b)](0x1,_0x3fea71[0x0]),assert['strictEqual'](0x1,_0x3fea71[0x1]),_0x199fb9[_0x44e19f(0x465)](_0x80efa0);});}),_0x1eeb0a[_0x374026(0x2ab)](it,_0x1eeb0a[_0x374026(0x4b4)],_0x3c101e=>{const _0x586248=_0x374026,_0x583bd9={'zwxHN':function(_0x3f4a28){const _0x25a9eb=_0x12cc;return _0x171acc[_0x25a9eb(0x39e)](_0x3f4a28);}};_0x171acc[_0x586248(0x54a)](_0x171acc[_0x586248(0x4bb)],_0x171acc['bMjoe'])?(_0x5b6167[_0x586248(0x524)](_0x516a48),_0x1e32ba[_0x586248(0x29d)]([_0x121031[_0x586248(0x242)]],_0x3a84fa),_0x583bd9[_0x586248(0x513)](_0x486049)):async[_0x586248(0x2eb)]([async['apply'](posts['edit'],{'pid':_0x1d0429[_0x586248(0x242)],'uid':0x1,'content':_0x586248(0x35c)}),function(_0x4f6347,_0x137c88){posts['uploads']['list'](_0x1d0429['pid'],_0x137c88);}],(_0x438d38,_0x4e62f5)=>{const _0x144299=_0x586248;assert['ifError'](_0x438d38),assert[_0x144299(0x20b)](!![],Array[_0x144299(0x1db)](_0x4e62f5)),assert[_0x144299(0x20b)](0x0,_0x4e62f5[_0x144299(0x45d)]),_0x171acc['PNQqt'](_0x3c101e);});});}),_0x1eeb0a[_0x4d8288(0x255)](describe,_0x4d8288(0x41e),()=>{const _0x3efa19=_0x4d8288,_0x42b033={'nqnzo':function(_0x30e13b,_0x6c9a6a){const _0x214657=_0x12cc;return _0x1eeb0a[_0x214657(0x389)](_0x30e13b,_0x6c9a6a);},'QsulL':'xdmSB','JqzxQ':_0x3efa19(0x38a),'yjFgs':_0x1eeb0a[_0x3efa19(0x3a2)],'zgtUT':function(_0x5b7b14,_0x22d07b){return _0x5b7b14(_0x22d07b);},'NClYy':function(_0x2f002a,_0x751ae8){return _0x2f002a!==_0x751ae8;},'PVjqm':_0x3efa19(0x3f5),'JKLjd':_0x3efa19(0x400),'hjBty':_0x1eeb0a[_0x3efa19(0x1fe)],'VbipW':function(_0x493f8a,_0x526a78,_0xdd8ee2){return _0x493f8a(_0x526a78,_0xdd8ee2);},'tSeKL':_0x3efa19(0x22a),'XsSTt':_0x1eeb0a[_0x3efa19(0x32d)],'IPLFn':_0x1eeb0a[_0x3efa19(0x2d7)]};let _0x1aee51;_0x1eeb0a[_0x3efa19(0x2e8)](before,async()=>{const _0x40d72f=_0x3efa19;_0x42b033[_0x40d72f(0x561)](_0x42b033[_0x40d72f(0x55c)],_0x42b033[_0x40d72f(0x55c)])?_0x3815c7['getCategory']({'uid':_0x4d40c3},_0x316f01,(_0x2f54ec,_0x310cc4)=>{const _0x130848=_0x40d72f;_0x5c92c8[_0x130848(0x524)](_0x2f54ec),_0x3e2fdf[_0x130848(0x2cb)](_0x404d0e,_0x310cc4),_0x2ccec3();}):(_0x1aee51=await topics['post']({'uid':0x1,'cid':_0x162979,'title':_0x42b033[_0x40d72f(0x497)],'content':_0x40d72f(0x443)}),_0x1aee51=_0x1aee51[_0x40d72f(0x2fe)]['tid']);}),_0x1eeb0a['GKueC'](describe,'.syncBacklinks()',()=>{const _0x254053=_0x3efa19,_0xf92bfa={'DyCsr':_0x254053(0x48f),'ZJwru':function(_0x120395,_0x985063){const _0x437f11=_0x254053;return _0x42b033[_0x437f11(0x27b)](_0x120395,_0x985063);},'FmxYf':_0x254053(0x33d),'aubFN':_0x42b033[_0x254053(0x28f)],'xluGT':function(_0x3f68ba,_0x5e9be9){const _0x220277=_0x254053;return _0x42b033[_0x220277(0x29f)](_0x3f68ba,_0x5e9be9);},'DftPY':_0x254053(0x358),'BTJRB':_0x42b033[_0x254053(0x471)],'JaHnT':_0x42b033[_0x254053(0x4a6)],'UVTZy':function(_0x54b806,_0xf3112e){return _0x54b806!==_0xf3112e;},'SoqHo':function(_0x25dfce,_0x3aabf8){return _0x25dfce(_0x3aabf8);}};_0x42b033[_0x254053(0x42a)](it,_0x42b033[_0x254053(0x367)],async()=>{const _0x74babc=_0x254053,_0x542c97={'yCWRr':_0x74babc(0x209),'vhISh':_0xf92bfa['DyCsr'],'OUjGl':function(_0x42b78b,_0xb48007,_0x5a5910,_0x1f6f02){return _0x42b78b(_0xb48007,_0x5a5910,_0x1f6f02);}};try{if(_0xf92bfa[_0x74babc(0x3c5)](_0xf92bfa['FmxYf'],_0xf92bfa[_0x74babc(0x21e)]))await topics[_0x74babc(0x473)]();else{const _0x25c9f1={'knuYs':_0x74babc(0x34c),'xuorW':_0x542c97[_0x74babc(0x51e)],'lgiBt':_0x542c97[_0x74babc(0x515)]};_0x516f1c['ifError'](_0x5b9bdc);const _0x1c5812=_0x47a80e;_0x542c97[_0x74babc(0x25c)](_0x3886e9,_0x388b9d[_0x74babc(0x231)](_0x74babc(0x407))+'/api/topic/'+_0x2997d5,{'jar':_0x1c5812,'json':!![]},(_0xe86272,_0x294352,_0x525eca)=>{const _0x31b34f=_0x74babc;_0xfa555a[_0x31b34f(0x524)](_0xe86272),_0x24b225['equal'](_0x525eca[_0x31b34f(0x354)][0x1][_0x31b34f(0x390)],_0x25c9f1[_0x31b34f(0x419)]),_0x2d9052['categories']['give']([_0x25c9f1[_0x31b34f(0x494)]],_0x3167ba,_0x25c9f1[_0x31b34f(0x1f3)],_0x205a98);});}}catch(_0x2adc95){_0xf92bfa[_0x74babc(0x30a)](assert,_0x2adc95),assert[_0x74babc(0x20b)](_0x2adc95[_0x74babc(0x2c8)],_0xf92bfa['DftPY']);}}),it(_0x254053(0x1f9),async()=>{const _0x55f4aa=_0x254053;if(_0xf92bfa['BTJRB']===_0xf92bfa[_0x55f4aa(0x289)]){const _0x488b0d={'GBoVz':'[[error:no-user]]'};_0x221564['isReadyToPost'](0x1425033,0x1,_0x36a9b8=>{const _0x51abde=_0x55f4aa;_0x18f0dc[_0x51abde(0x2cb)](_0x36a9b8[_0x51abde(0x2c8)],_0x488b0d[_0x51abde(0x3de)]),_0x55fd9a();});}else{const _0x2a466a=await topics[_0x55f4aa(0x473)]({'content':'This\x20is\x20a\x20post\x27s\x20content'});assert[_0x55f4aa(0x20b)](_0x2a466a,0x0);}}),it(_0x254053(0x587),async()=>{const _0x5d8591=_0x254053,_0x50864c=await topics['syncBacklinks']({'pid':0x2,'content':'This\x20is\x20a\x20link\x20to\x20[topic\x201]('+nconf[_0x5d8591(0x231)](_0x42b033[_0x5d8591(0x244)])+'/topic/1/abcdef)'}),_0x511ce8=await topics[_0x5d8591(0x2ac)][_0x5d8591(0x231)](0x1,0x1),_0x17012f=await db[_0x5d8591(0x500)]('pid:2:backlinks');assert[_0x5d8591(0x20b)](_0x50864c,0x1),assert(_0x511ce8),assert[_0x5d8591(0x20b)](_0x511ce8[_0x5d8591(0x45d)],0x1),_0x42b033[_0x5d8591(0x29f)](assert,_0x17012f),assert(_0x17012f[_0x5d8591(0x318)]('1'));}),_0x42b033['VbipW'](it,_0x42b033[_0x254053(0x236)],async()=>{const _0x1b1274=_0x254053;if(_0xf92bfa['UVTZy'](_0x1b1274(0x2f7),_0x1b1274(0x36f))){const _0x32516d=await topics[_0x1b1274(0x473)]({'pid':0x2,'content':_0x1b1274(0x3bf)}),_0x599fc0=await topics[_0x1b1274(0x2ac)][_0x1b1274(0x231)](0x1,0x1),_0xfb4ade=await db[_0x1b1274(0x500)](_0x1b1274(0x371));assert[_0x1b1274(0x20b)](_0x32516d,0x0),_0xf92bfa['SoqHo'](assert,_0x599fc0),assert[_0x1b1274(0x20b)](_0x599fc0['length'],0x1),assert(_0xfb4ade),assert[_0x1b1274(0x20b)](_0xfb4ade[_0x1b1274(0x45d)],0x0);}else _0x3bf8d7[_0x1b1274(0x3f0)][_0x1b1274(0x23c)](_0x1c8419,_0x1e7f7d=>{const _0x35dc80=_0x1b1274,_0x5e3ac5={'gbFkt':function(_0x2a6cb1){return _0x2a6cb1();}};_0x2f6d88[_0x35dc80(0x524)](_0x1e7f7d),_0x30a615[_0x35dc80(0x459)]('post:'+_0x4ff1be+_0x35dc80(0x395),(_0x49cbe8,_0x20b5e1)=>{const _0x5229f7=_0x35dc80;_0x18a596[_0x5229f7(0x524)](_0x49cbe8),_0x364f9d[_0x5229f7(0x20b)](_0x20b5e1,0x2),_0x5e3ac5['gbFkt'](_0x16f391);});});});}),describe(_0x1eeb0a['uHjoq'],()=>{const _0x2c733f=_0x3efa19,_0x288400={'emIXX':_0x2c733f(0x407),'JGoBS':_0x1eeb0a[_0x2c733f(0x439)],'SfofP':function(_0x27ed76,_0x27a57b,_0x5f5c4b){return _0x27ed76(_0x27a57b,_0x5f5c4b);},'AKqZX':function(_0x492acd,_0x54cc6c){return _0x492acd(_0x54cc6c);}};it(_0x2c733f(0x54e),async()=>{const _0x533cde=_0x2c733f,_0x3d6d6b=await topics['post']({'uid':0x1,'cid':_0x162979,'title':'Topic\x20backlink\x20testing\x20-\x20topic\x202','content':_0x533cde(0x4a0)+nconf['get'](_0x288400[_0x533cde(0x1ed)])+_0x533cde(0x1e8)+_0x1aee51}),_0x1a0d46=await topics[_0x533cde(0x2ac)][_0x533cde(0x231)](_0x1aee51,0x1);assert(_0x1a0d46),assert['strictEqual'](_0x1a0d46[_0x533cde(0x45d)],0x1),assert[_0x533cde(0x20b)](_0x1a0d46[0x0][_0x533cde(0x3b6)],_0x288400[_0x533cde(0x4c7)]),assert[_0x533cde(0x20b)](_0x288400[_0x533cde(0x55e)](parseInt,_0x1a0d46[0x0][_0x533cde(0x40b)],0xa),0x1),assert[_0x533cde(0x20b)](_0x1a0d46[0x0]['href'],_0x533cde(0x457)+_0x3d6d6b[_0x533cde(0x239)]['pid']);}),_0x1eeb0a[_0x2c733f(0x217)](it,_0x2c733f(0x22e),async()=>{const _0x5b5827=_0x2c733f;await topics[_0x5b5827(0x1ff)]({'uid':0x1,'tid':_0x1aee51,'content':_0x5b5827(0x2a1)+nconf[_0x5b5827(0x231)](_0x288400[_0x5b5827(0x1ed)])+_0x5b5827(0x1e8)+_0x1aee51});const _0x46ceef=await topics[_0x5b5827(0x2ac)][_0x5b5827(0x231)](_0x1aee51,0x1);_0x288400[_0x5b5827(0x353)](assert,_0x46ceef),assert[_0x5b5827(0x20b)](_0x46ceef[_0x5b5827(0x45d)],0x1);}),it(_0x2c733f(0x35d),async()=>{const _0xfc5680=_0x2c733f;meta[_0xfc5680(0x204)]['topicBacklinks']=0x0,await topics[_0xfc5680(0x341)]({'uid':0x1,'cid':_0x162979,'title':_0x42b033[_0xfc5680(0x3f1)],'content':_0xfc5680(0x4a0)+nconf[_0xfc5680(0x231)]('url')+'/topic/'+_0x1aee51});const _0xe35795=await topics['events'][_0xfc5680(0x231)](_0x1aee51,0x1);assert(_0xe35795),assert[_0xfc5680(0x20b)](_0xe35795[_0xfc5680(0x45d)],0x0);});});});});function _0x4878(){const _0x338b6c=['gYoFI','hLvQQ','hex','purgePosts','should\x20delete\x20a\x20post\x20diff','pJdhv','parseSignature','should\x20load\x20(oldest)\x20diff\x20and\x20reconstruct\x20post\x20correctly\x20after\x20a\x20diff\x20deletion','newContent','oyzRv','FNeOO','URYLy','getSortedSetMembers','categories','0|4|3|1|2','amazeballs.jpg','tKhca','bookmark','ecBdO','eTOQN','oqShH','ciVVo','yMKKz','md5','XXqUH','should\x20error\x20if\x20uid\x20is\x20not\x20logged\x20in','getPidIndex','should\x20downvote\x20a\x20post','MvuoT','load','A\x20reply\x20to\x20edit','zwxHN','notStrictEqual','vhISh','value','should\x20not\x20see\x20post\x20content\x20if\x20global\x20mod\x20does\x20not\x20have\x20posts:view_deleted\x20privilege','should\x20change\x20owner\x20of\x20post\x20and\x20topic\x20properly','GAOEJ','sortedSetScore','timestamps','MtzKC','WHUKl','yCWRr','IwZsl','rpPIt','eqnwh','tid','ALQbg','ifError','should\x20delete\x20posts','topic\x20B','pvMBV','[[error:no-privileges]]','getPostField','topic\x20A\x20content','aZaMT','fTGxU','should\x20edit\x20post','tnxZI','iOPhO','YSdSg','voterUid','should\x20fail\x20to\x20change\x20owner\x20if\x20user\x20is\x20not\x20authorized','qLGfw','1IfFBWZ','rlwjk','ORnfx','gcWaA','edited\x20deleted\x20title','fRvGs','new\x20topic\x20title','dissociate','groups:purge','getPostSummaryByPids','IdZBc','ujvnF','display_move_tools','XJLXY','isUaC','Onvcp','egwRt','<a\x20href=\x22','should\x20return\x20empty\x20array\x20for\x20empty\x20pids','should\x20update\x20queued\x20post\x27s\x20topic\x20if\x20target\x20topic\x20is\x20merged','should\x20edit\x20a\x20deleted\x20post','udaLF','ElMIT','parsePost','wFVHg','NdVzr','should\x20create\x20a\x20topic\x20event\x20in\x20the\x20referenced\x20topic','yGFNt','user','eQycg','123456789','jMbuq','fxWMc','QvqQe','ErYjk','JEWxC','LbABz','stringify','should\x20unbookmark\x20a\x20post','wqVER','QsulL','here\x20is\x20an\x20image\x20[alt\x20text](/assets/uploads/files/whoa.gif)\x20and\x20another\x20[alt\x20text](/assets/uploads/files/amazeballs.jpg)','SfofP','tHIBl','title','nqnzo','spmFG','SswZH','A\x20reply\x20to\x20move','should\x20get\x20raw\x20post\x20content','should\x20error\x20with\x20invalid\x20data','move','should\x20allow\x20arrays\x20to\x20be\x20passed\x20in','here\x20is\x20an\x20image\x20[alt\x20text](/assets/uploads/files/abracadabra.png)\x20and\x20another\x20[alt\x20text](/assets/uploads/files/shazam.jpg)','change\x20owner','editable','users:postcount','return\x20await\x20Promise.resolve(42);','slDxV','pop','wqgfB','should\x20error\x20if\x20title\x20is\x20too\x20long','iZRGz','signatures:disableLinks','upvoter','oXSkM','isyAb','OXYWJ','gAIcv','eAygL','OVZnn','147shIstt','zDZSe','boolean','/api/topic/','should\x20error\x20if\x20user\x20is\x20not\x20logged\x20in','GpWio','.list()','downvotesPerDay','wGTPi','iMOgG','should\x20return\x20true\x20if\x20upload\x20is\x20an\x20orphan','DsEZE','should\x20create\x20a\x20backlink\x20if\x20it\x20detects\x20a\x20topic\x20link\x20in\x20a\x20post','DvadN','oJOLx','[[success:post-queued]]','yYrmm','should\x20get\x20voters','KDCuY','LYPJB','BSZVD','mPqBe','[[error:too-many-downvotes-today,\x201]]','deepStrictEqual','TLGFQ','most\x20recent\x20edit','peDoc','dissociateAll','openSync','SdwQS','RdRrV','topic\x20to\x20edit','Vnzoh','FLWqD','production','CiIUR','VeYHL','jJYkz','XRHIU','YPPQx','MUkoT','[[error:no-user]]','mhqsl','kMcwP','downvote','minimumTitleLength','upvoted','isArray','Test\x20Topic\x20Title','wYrlV','push','should\x20return\x20diffs','iIgGI','filterPidsByCid','[[error:not-logged-in]]','loginUser','exists','EJJBy','cSsUF','jOThk','/topic/','topic\x20content','RuwSp','DCyDR','ZpKLb','emIXX','edited\x20post\x20content','NTGGJ','topic\x201','IdlCz','sZxQG','lgiBt','zTPlf','should\x20delete\x20a\x20post','bgdyf','xorLU','should\x20error\x20with\x20too\x20many\x20tags','should\x20do\x20nothing\x20if\x20the\x20post\x20does\x20not\x20contain\x20a\x20link\x20to\x20a\x20topic','upload\x20methods','uvbWx','topic\x20title','bookmarks','tPxQD','reply','zDRIu','util','EiThz','CddxZ','config','HoLSf','COezz','PccSu','EkvOP','groups:posts:view_deleted','parse','strictEqual','list','getQueuedPosts','getObject','mutrV','should\x20automatically\x20sync\x20uploads\x20on\x20topic\x20create\x20and\x20reply','../src/socket.io/posts','zfwpn','AUdhd','[[error:title-too-long,\x20','TTePj','giude','QwbOp','xxxxxxxx','xBton','yMdsD','FHUHz','dqahd','SHsEg','aubFN','cid','should\x20remove\x20an\x20image\x20from\x20the\x20post\x27s\x20maintained\x20list\x20of\x20uploads','/api/post-queue','NrxMV','NHmFV','upvotes','FdKAO','WLSWB','gRdvr','yDevU','rGNuU','should\x20error\x20on\x20invalid\x20data','NTyHQ','rJTfY','FaOve','should\x20not\x20create\x20a\x20topic\x20event\x20if\x20referenced\x20topic\x20is\x20the\x20same\x20as\x20current\x20topic','bjann','zcuQW','get','should\x20dissociate\x20images\x20on\x20post\x20purge','downvoted','mDrMr','Topic\x20backlink\x20testing\x20-\x20topic\x203','XsSTt','[[error:too-many-downvotes-today-user,\x201]]','afPXI','postData','../src/socket.io/topics','should\x20error\x20if\x20data\x20is\x20invalid\x20or\x20missing','sync','dgJCI','YNpQK','jeDvi','Dissociation\x20on\x20purge','UtbdI','pid','integration\x20tests','yjFgs','closeSync','jqbOe','data','GXXfh','kCptf','nKHDD','LEUgL','deletePosts','should\x20bypass\x20post\x20queue\x20if\x20user\x20is\x20in\x20exempt\x20group','ZKjVZ','assert','EDUrk','patch','FYzle','kVbXa','.dissociateAll()','uHjTV','FVeav','display_delete_tools','nInLj','should\x20fail\x20to\x20upvote\x20post\x20if\x20group\x20does\x20not\x20have\x20upvote\x20permission','vQzYJ','LpOxR','OUjGl','should\x20return\x20pids\x20as\x20is\x20if\x20cid\x20is\x20falsy','RhizA','VoAmB','should\x20add\x20topic\x20to\x20post\x20queue','merge','should\x20remove\x20an\x20image\x20if\x20it\x20is\x20edited\x20out\x20of\x20the\x20post','some\x20content','hasVoted','pKfZu','KYsgN','CmNyN','edit','GitWR','UKknJ','should\x20get\x20pid\x20index\x20in\x20reverse','HHDEh','zdXwo','pMbxf','1963864BoGJUK','FTJXu','shazam.jpg','nwrkH','hUfzZ','nuPzG','hoPYV','Meagp','axelo','../src/categories','MGOLG','qYFVv','NClYy','jZhOi','[[error:no-post]]','create','ekdeP','RPRKD','should\x20get\x20post\x20summaries','SxmFT','DYWyS','should\x20load\x20queued\x20posts','iMHbt','Post\x27s','A\x20post\x20to\x20delete/restore\x20and\x20purge','5345yIKeOx','JaHnT','reputation','globalModUid','raw\x20content','7|5|8|0|3|2|4|1|6','should\x20not\x20be\x20queued','PVjqm','ZQBTX','should\x20properly\x20add\x20new\x20images\x20to\x20the\x20post\x27s\x20zset','here\x20is\x20an\x20image\x20[alt\x20text](/assets/uploads/files/abracadabra.png)...\x20AND\x20NO\x20MORE!','HpCcU','ncUND','stULg','nLLjc','brwOj','QjlCa','sPWdT','series','dKbBs','var\x20x\x20=\x2042;\x20return\x20x;','deepEqual','kuvwG','zgtUT','cCwgs','Referencing\x20itself\x20&ndash;\x20','dpmoo','getDiffs','zKKGs','derp','getTopicField','FLgfI','KLund','KdTVE','globalmodpwd','rxzdg','events','groupsExemptFromPostQueue','AHVRw','KfPIm','Gbusk','should\x20prevent\x20regular\x20users\x20from\x20approving\x20posts','FSYCi','otherCount','Qmwqr','hlstY','hqsce','Stdfg','env','OMBko','xZrjn','original\x20post','2748TegZyy','XaeQZ','moZPw','sortedSetScores','gTqrd','signatures:disableImages','JPLfA','dngWo','should\x20not\x20delete\x20first\x20diff\x20of\x20a\x20post','vvCKl','EWKPN','edited','message','ZiUYp','nconf','equal','aWfvj','.dissociate()','olduser','1|2|5|4|3|0','rescind','downvotes','split','GdWmr','cYayZ','gyKKD','zjByk','xKozb','getPost','IpWei','WFwBR','MtvKQ','45cTwfYw','xkuYi','<img\x20src=\x22boop\x22/><a\x20href=\x22link\x22>test</a>\x20derp','topic_','gbrGi','mldao','mMKij','EbAWN','cvkip','dCNEX','HhypV','wZqCP','jxqwK','test.bmp','XUVgF','waterfall','nZoLC','yttCV','kHuGR','hEEQf','haZJQ','unvote','cYkzP','[[error:content-too-long,\x20','123456','SMnFp','./mocks/databasemock','RoANa','IpUQk','neCHd','wSoqz','usernames','hSlCA','CgHdb','topicData','xOtAL','return\x20Object.keys({a:1});','smIbj','RaDyq','should\x20restore\x20a\x20post','modofcat1','nonexistant.xls','yvsid','hNgLk','should\x20fail\x20to\x20get\x20raw\x20post\x20because\x20post\x20is\x20deleted','PmDCo','xluGT','renamed','AWPlp','URqPi','topiccount','groups:posts:downvote','registered-users','BouEl','hasBookmarked','should\x20not\x20crash\x20and\x20return\x20falsy\x20if\x20post\x20data\x20is\x20falsy','Xsbmt','Nmavr','edited\x20title\x20again','should\x20load\x20post\x20tools','includes','upload:','upvoters','Htemc','[[error:too-many-tags,\x20','eaHas','ccTaT','jBlQB','should\x20upvote\x20a\x20post','aepua','WbDCD','upload_path','VOVSs','associate','KkNKD','zENBa','downvotesPerUserPerDay','wSZkI','MMjuG','12183140LucEtb','AGmOY','pcmwp','files','ASCpu','movePost','LfBFu','The\x20content\x20of\x20test\x20topic','iYqXw','voteeUid','topic\x20to\x20delete/restore/purge','ZehAo','should\x20not\x20dissociate\x20images\x20on\x20post\x20deletion','mquoe','Test\x20category\x20created\x20by\x20testing\x20script','bQEkl','hANAK','apply','KDlwJ','oVRRx','accept','rPXlq','post','lRUYr','JdXKG','IrFOi','mqAgZ','qawfk','aUfYd','4|2|1|5|3|0','deleted','YzOig','GEfmW','[[topic:post_is_deleted]]','zYTAt','userData','ZeZMz','rregl','paNkD','RwGwq','AKqZX','posts','should\x20remove\x20all\x20images\x20from\x20a\x20post\x27s\x20maintained\x20list\x20of\x20uploads','give','should\x20error\x20with\x20invalid\x20tid','[[error:invalid-data]]','groups:posts:upvote','djkqi','cCapa','no\x20uploads','should\x20not\x20show\x20backlink\x20events\x20if\x20the\x20feature\x20is\x20disabled','1|2|3|4|0','should\x20disallow\x20post\x20editing\x20for\x20new\x20users\x20if\x20post\x20was\x20made\x20past\x20the\x20threshold\x20for\x20editing','UJqvC','ttJYA','.associate()','should\x20get\x20post\x20category','CytVA','GKueC','isOwner','tSeKL','getSortedSetRange','euDUA','now','display_moderator_tools','fVyFT','oErOW','display_edit_tools','kvgUU','algCe','pid:2:backlinks','should\x20unvote\x20a\x20post','loadPostTools','fVoAU','dUUmq','globalmod','edited\x20deleted\x20content','nOiPj','MrtXP','123123123','WDvPL','ScLVq','queued','913Qzqbns','oboNM','bookmarking','LGWDS','maximumTitleLength','should\x20add\x20reply\x20to\x20post\x20queue','XLuPF','fHLAz','lrYDS','setPostField','../src/privileges','oTNaH','Topic\x20backlink\x20testing\x20-\x20topic\x201','A\x20post\x20to\x20edit','isBookmarked','queued\x20topic\x20content','gKzNZ','getRawPost','content','should\x20get\x20upvoters','oPstQ','whoa.gif','should\x20error\x20with\x20too\x20few\x20tags',':uploads','NQcwJ','348516CBYhav','HPfOQ','should\x20add\x20an\x20image\x20to\x20the\x20post\x27s\x20maintained\x20list\x20of\x20uploads','4|2|3|1|0','AICvL','nRwEA','maximumTagsPerTopic','ahTtf','should\x20prevent\x20regular\x20users\x20from\x20approving\x20non\x20existing\x20posts','XjqsA','XZYMl','cCTpL','occuA','IBCgt','edited\x20title','1164662wyaXSI','../src/meta','join','YpesX','votes','vfRGF','async','test\x20topic','should\x20fail\x20to\x20change\x20owner\x20if\x20new\x20owner\x20does\x20not\x20exist','ltvYh','upvotee','should\x20filter\x20pids\x20by\x20single\x20cid','should\x20be\x20queued','ENOTc','ZwKAF','WdgoZ','type','DQSdS','xrcnK','every','changeOwner','2|1|3|4|0','tags','uRXCm','OCoDY','This\x20is\x20a\x20link\x20to\x20[nothing](http://example.org)','should\x20get\x20pid\x20index','maximumPostLength','vIJVQ','guSIF','RjcIa','ZJwru','ktLyA','should\x20error\x20if\x20content\x20is\x20too\x20short','sdHys','tgYeG','QgVtw','getUserField','1|4|2|0|3','bjrWs','editor','yhFdQ','jLxjS','kuktR','1|2|4|3|5|0','mQDYg','WSsvV','base_url','should\x20turn\x20relative\x20links\x20in\x20post\x20body\x20to\x20absolute\x20urls','NyMIW','BGczs','reject','zcBzC','the\x20moved\x20queued\x20post','CvBuv','cESMw','GBoVz','MMMeb','this\x20is\x20a\x20queued\x20reply','another\x20edit\x20has\x20been\x20made','../src/posts','getPostData','NpwAM','tPmBM','dTSRB','global\x20mod','../src/user','uZWBr','dDdVZ','aJZyA','edited\x20reply','aPpBB','alIHb','postQueue','uploads','IPLFn','isOrphan','target\x20topic','WIhfA','APcbm','should\x20store\x20post\x20content\x20in\x20cache','rQHRN','caTgz','NxWCU','topic','topic\x20A','ySPjR','243819vAOGAZ','should\x20delete\x20topic\x20if\x20last\x20main\x20post\x20is\x20deleted','rCexk','fQfwi','TjJbj','should\x20not\x20crash\x20if\x20id\x20does\x20not\x20exist','wMOmo','fhMLi','some\x20post\x20content','should\x20save\x20a\x20reverse\x20association\x20of\x20md5sum\x20to\x20pid','url','string','hGThd','YycZU','uid','CYMqC','BSkjh','xfRTt','should\x20edit\x20topic\x20title\x20in\x20queue','REiqu','should\x20edit\x20post\x20in\x20queue','SIwgp','efofL','should\x20parse\x20signature\x20and\x20remove\x20links\x20and\x20images','OoBAJ','bLawy','should\x20accept\x20queued\x20posts\x20and\x20submit','tag','knuYs','topic\x20B\x20content','should\x20allow\x20registered-users\x20group\x20to\x20view\x20diffs','vwCur','should\x20return\x20false\x20if\x20upload\x20is\x20not\x20an\x20orphan','Topic\x20Backlinks','jPhNo','mcWyX','should\x20get\x20recent\x20poster\x20uids','FlteI','dctGS','pNdaL','username','Test\x20Category','[[error:title-too-short,\x20','EVnkk','editQueuedContent','VbipW','pgoxK','lGicY','HVWsy','topic\x20to\x20test\x20uploads\x20with',':pids','should\x20not\x20associate\x20a\x20file\x20that\x20does\x20not\x20exist\x20on\x20the\x20local\x20disk','mqMgy','PVoMS','rgafa','vKnvd','ydCvL','A\x20post\x20to\x20delete/restore/purge','post:queue','ibiPH','hnSnT','oldest_to_newest','AkEjG','QuGkO','OVYDm','AHKJP','vBLvw','GCYWV','TrgPX','delete','Some\x20text\x20here\x20for\x20the\x20OP','nNryb','TCFgu','HeOpG','createHash','VfWiW','ShzxM','TAnbX','keys','hNhBF','dmazJ','should\x20filter\x20pids\x20by\x20multiple\x20cids','getUpvoters','qyeiN','UgNaN','.sync()','post\x20uploads\x20management','VKRAp','should\x20error\x20if\x20content\x20is\x20too\x20long','should\x20prevent\x20downvoting\x20target\x20user\x20more\x20than\x20total\x20daily\x20limit','/post/','ISnNp','sortedSetCard','rejects','should\x20move\x20a\x20post','revisions','length','getCategory','timestamp','isReadyToPost','guests','XvzPe','uzUah','should\x20fail\x20to\x20move\x20post\x20if\x20not\x20moderator\x20of\x20target\x20category','GLnxZ','xhFYv','post\x20tools','VKKZh','lThGD','lRFZZ','oXZNG','VOgTv','abracadabra.png','ENGmF','KpJIB','IcoNo','JKLjd','yhEUr','syncBacklinks','vcrGG','<a\x20href=\x22/users\x22>test</a>\x20<a\x20href=\x22youtube.com\x22>youtube</a>','YjVvq','newbiePostEditDuration','upvoteCount','diffs','upvote','kzBJl','fHSoF','QdriJ','SSehH','PHbFJ','wut.txt','sdmSp','jlGhP',':posters','postcount','should\x20return\x20falsy\x20if\x20post\x20does\x20not\x20exist','VXLuU','qLyAH','EHaks','CpGQJ','socket\x20methods','getRecentPosterUids','zeKtB','BkRgr','urlRegex','Global\x20Moderators','fLkdp','should\x20bookmark\x20a\x20post','eiMFQ','aUhZe','xuorW','xxSpz','/users\x22>test</a>\x20<a\x20href=\x22//youtube.com\x22>youtube</a>','JqzxQ','path','wASIF','voting','wrWHz','should\x20edit\x20topic\x20category\x20in\x20queue','should\x20prevent\x20downvoting\x20more\x20than\x20total\x20daily\x20limit','hiPRq','wLJxI','Some\x20text\x20here\x20for\x20the\x20OP\x20&ndash;\x20','OXYVu','108402mTBGve','post:','gCAUh','RxRzu','hjBty','EFSLE','./helpers','EiIjJ','wozoy','HEvES','zfOTY','kfnPq','ooJja','should\x20error\x20if\x20user\x20does\x20not\x20have\x20move\x20privilege','userPrivilegeList','TBAEQ','downvoteCount','cOPaL','mcKPR','GDPeF','should\x20edit\x20a\x20reply\x20post','ZYPvR','GnQwz','Qcwou','QDxsg','bMjoe','2|4|3|0|1','groups:topics:read','../src/groups','RyPcU','should\x20error\x20if\x20user\x20does\x20not\x20exist','JedPu','oTXJg','OXkFO','0|6|2|7|4|8|1|5|3','should\x20display\x20the\x20uploaded\x20files\x20for\x20a\x20specific\x20post','HTmOW','JGoBS','aLUmy','mLWLo','fNnTi','EXSKp','KgIrt','sdiWd','lMLGp','category','RnKmX','SXwUR','nqRzK','EyFRM','KHdyB','gHHZk','DkfCn','zbwWd','YsEzP','HWJek','UDKWx','RXsGl','hSdST','teaser','BDaEL','uEjza','NoRjI','wMvRO','yZYCz','minimumTagsPerTopic','UhUOi','pGuse','wzvxt','NBASO','kcEyE','QRRuz','oHOfD','maSAT','relativeToAbsolute','xYZMj','gCxeu','should\x20error\x20if\x20data\x20is\x20invalid','bFoml','topic_1','kQigb','newuser'];_0x4878=function(){return _0x338b6c;};return _0x4878();}