function _0x2be4(){const _0x5df68f=['sLHqc','order','error','Error\x20saving\x20preset','sort','ZHanE','presetId','11968334ackzxz','Error\x20getting\x20single\x20preset','findOne','67056ttylHu','2503956mSLZjY','ikoyh','[savePreset]\x20Error\x20saving\x20preset','1552594LEqeeR','Jtshj','pluginKey','[getPresets]\x20Error\x20getting\x20presets','SetOj','GXPRm','tools','~/config','isArray','string','aXFqF','$set','2094006NSDPzA','Error\x20retrieving\x20presets','./schema/presetSchema','37956vaxmKW','deleteMany','find','3668270CBDuKC','filter','findOneAndUpdate','KASyf','$unset','updatedAt','_id','lean','findByIdAndUpdate','8FpMRVa','map'];_0x2be4=function(){return _0x5df68f;};return _0x2be4();}const _0x5a1f81=_0x2dcd;function _0x2dcd(_0x252091,_0x43bb4f){const _0x2be442=_0x2be4();return _0x2dcd=function(_0x2dcd11,_0x1d1299){_0x2dcd11=_0x2dcd11-0xeb;let _0x2263ac=_0x2be442[_0x2dcd11];return _0x2263ac;},_0x2dcd(_0x252091,_0x43bb4f);}(function(_0x3c34cf,_0x53efa3){const _0x36256f=_0x2dcd,_0x3b7b13=_0x3c34cf();while(!![]){try{const _0x2515bc=-parseInt(_0x36256f(0xf2))/0x1+parseInt(_0x36256f(0xf6))/0x2+-parseInt(_0x36256f(0x102))/0x3+-parseInt(_0x36256f(0x105))/0x4+-parseInt(_0x36256f(0x108))/0x5+-parseInt(_0x36256f(0xf3))/0x6+-parseInt(_0x36256f(0xef))/0x7*(-parseInt(_0x36256f(0x111))/0x8);if(_0x2515bc===_0x53efa3)break;else _0x3b7b13['push'](_0x3b7b13['shift']());}catch(_0x48262f){_0x3b7b13['push'](_0x3b7b13['shift']());}}}(_0x2be4,0x88d94));const Preset=require(_0x5a1f81(0x104)),{logger}=require(_0x5a1f81(0xfd)),getPreset=async(_0x17c4ce,_0x2ad753)=>{const _0x339a00=_0x5a1f81,_0x5ddcff={'ZHanE':_0x339a00(0xf0)};try{return await Preset[_0x339a00(0xf1)]({'user':_0x17c4ce,'presetId':_0x2ad753})[_0x339a00(0x10f)]();}catch(_0x32612c){return logger['error']('[getPreset]\x20Error\x20getting\x20single\x20preset',_0x32612c),{'message':_0x5ddcff[_0x339a00(0xed)]};}};module['exports']={'Preset':Preset,'getPreset':getPreset,'getPresets':async(_0x401b50,_0x23a967)=>{const _0x15e03b=_0x5a1f81,_0xd78565={'qtiCn':function(_0x404e9b,_0x4c0dc1){return _0x404e9b!==_0x4c0dc1;},'SetOj':function(_0x280ccc,_0x161bf4){return _0x280ccc-_0x161bf4;},'DWqoY':_0x15e03b(0xf5),'qjIPW':'Error\x20saving\x20preset'};try{const _0x4f3d42=await Preset[_0x15e03b(0x107)]({..._0x23a967,'user':_0x401b50})[_0x15e03b(0x10f)](),_0x48d027=0x2710;return _0x4f3d42[_0x15e03b(0xec)]((_0x2a2213,_0x1c016d)=>{const _0x8301c9=_0x15e03b;let _0x3aa1c5=_0x2a2213[_0x8301c9(0x114)]!==undefined?_0x2a2213['order']:_0x48d027,_0x4ae7be=_0x1c016d[_0x8301c9(0x114)]!==undefined?_0x1c016d[_0x8301c9(0x114)]:_0x48d027;if(_0xd78565['qtiCn'](_0x3aa1c5,_0x4ae7be))return _0x3aa1c5-_0x4ae7be;return _0xd78565[_0x8301c9(0xfa)](_0x1c016d[_0x8301c9(0x10d)],_0x2a2213[_0x8301c9(0x10d)]);}),_0x4f3d42;}catch(_0x2896e3){return'wUUeH'!=='wUUeH'?(_0x4ef639[_0x15e03b(0x115)](_0xd78565['DWqoY'],_0x400bb3),{'message':_0xd78565['qjIPW']}):(logger[_0x15e03b(0x115)](_0x15e03b(0xf9),_0x2896e3),{'message':_0x15e03b(0x103)});}},'savePreset':async(_0x362030,{presetId:_0x3c1725,newPresetId:_0x5f227a,defaultPreset:_0x50d85d,..._0xd5b019})=>{const _0x554c81=_0x5a1f81,_0x1a355b={'oxjgV':_0x554c81(0x100),'VhyHf':function(_0xf1cf9c,_0x347cd6){return _0xf1cf9c===_0x347cd6;},'GXPRm':function(_0x553aa6,_0x1fb007){return _0x553aa6!==_0x1fb007;},'Jtshj':_0x554c81(0x10b),'bBKLH':_0x554c81(0x113)};try{const _0x3830f8={'$set':{}},_0x4a2452={'presetId':_0x3c1725,..._0xd5b019};_0xd5b019[_0x554c81(0xfc)]&&Array[_0x554c81(0xfe)](_0xd5b019[_0x554c81(0xfc)])&&(_0x4a2452['tools']=_0xd5b019[_0x554c81(0xfc)][_0x554c81(0x112)](_0x5ebd53=>_0x5ebd53?.[_0x554c81(0xf8)]??_0x5ebd53)[_0x554c81(0x109)](_0x4e8b1f=>typeof _0x4e8b1f===_0x554c81(0xff))??[]);_0x5f227a&&(_0x4a2452[_0x554c81(0xee)]=_0x5f227a);if(_0x50d85d){_0x4a2452['defaultPreset']=_0x50d85d,_0x4a2452[_0x554c81(0x114)]=0x0;const _0x353e22=await Preset[_0x554c81(0xf1)]({'defaultPreset':!![],'user':_0x362030});_0x353e22&&_0x353e22[_0x554c81(0xee)]!==_0x3c1725&&(_0x554c81(0xf4)===_0x1a355b['oxjgV']?_0x2cfd13[_0x554c81(0xee)]=_0x4ec84c:await Preset[_0x554c81(0x110)](_0x353e22[_0x554c81(0x10e)],{'$unset':{'defaultPreset':'','order':''}}));}else _0x1a355b['VhyHf'](_0x50d85d,![])&&(_0x1a355b[_0x554c81(0xfb)](_0x1a355b[_0x554c81(0xf7)],_0x1a355b['bBKLH'])?(_0x4a2452['defaultPreset']=undefined,_0x4a2452[_0x554c81(0x114)]=undefined,_0x3830f8[_0x554c81(0x10c)]={'defaultPreset':'','order':''}):_0xbf77f6[_0x554c81(0xfc)]=_0x332a79[_0x554c81(0xfc)]['map'](_0x1b415c=>_0x1b415c?.['pluginKey']??_0x1b415c)[_0x554c81(0x109)](_0x16210e=>typeof _0x16210e===_0x554c81(0xff))??[]);return _0x3830f8[_0x554c81(0x101)]=_0x4a2452,await Preset[_0x554c81(0x10a)]({'presetId':_0x3c1725,'user':_0x362030},_0x3830f8,{'new':!![],'upsert':!![]});}catch(_0xfe1f57){return logger[_0x554c81(0x115)]('[savePreset]\x20Error\x20saving\x20preset',_0xfe1f57),{'message':_0x554c81(0xeb)};}},'deletePresets':async(_0x4e4c4f,_0x3b8b8c)=>{const _0x1ea7a7=_0x5a1f81;let _0x62c94a=await Preset[_0x1ea7a7(0x106)]({..._0x3b8b8c,'user':_0x4e4c4f});return _0x62c94a;}};