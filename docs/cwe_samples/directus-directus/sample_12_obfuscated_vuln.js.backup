function _0x37f2(){const _0x4f90e2=['preAggregations','canUsePreAggregationForTransformedQuery','schemaVersion','sqlCache','dialectClass','2020qsJszJ','createQuery','cubes','getDialectClass','cubeNames','KGQXV','gUCzz','441190EGxEvz','8838296NlIcKL','allowNodeRequire','setGraphQLSchema','default','getDbType','dataSource','update','Recompiling\x20schema','all','digest','compiler','fromPairs','allowJsDuplicatePropsInSchema','metaConfigExtended','metaTransformer','metaConfig','Unknown\x20dbType:\x20','queryFactory','createHash','withQuery','1368665tipiEV','XIIMm','order','createQueryByDataSource','cache','externalDialectClass','36666YVzsye','md5','dbType','compileContext','canUsePreAggregationForTransformedQueryFn','7OJAWHm','2625636yaVlLm','externalPreAggregationQuery','1215567cgwWah','preAggregationsSchema','map','cacheKeyQueries','compilerCache','standalone','Can\x27t\x20find\x20dialect\x20for\x20\x27','getDataSources','hlGZL','requestId','sql','8yZdhKQ','compilerVersion','timeDimensions','scheduledPreAggregations','WbGRK','cubeDefinitions','options','rollupMatchResultDescriptions','tWchk','cubeEvaluator','getQueryCache','preAggregationsDescription','createQueryFactory','cubeFromPath','stringify','object','split','\x27\x20data\x20source:\x20','compilers','23844711aXuTrq','logger','uDYEX','hex','getGraphQLSchema','DxoyQ','TBmnQ','xsAzm','1dfuAAy','unescapedAliasName','graphqlSchema','repository','buildLambdaQuery','getCompilers'];_0x37f2=function(){return _0x4f90e2;};return _0x37f2();}function _0x50e7(_0x2e2d85,_0x4101fc){const _0x37f2bb=_0x37f2();return _0x50e7=function(_0x50e72a,_0x358809){_0x50e72a=_0x50e72a-0x170;let _0x5ed4bb=_0x37f2bb[_0x50e72a];return _0x5ed4bb;},_0x50e7(_0x2e2d85,_0x4101fc);}const _0x21cd55=_0x50e7;(function(_0x5c25e6,_0x9ac2ed){const _0x4bb1d7=_0x50e7,_0x3c033e=_0x5c25e6();while(!![]){try{const _0x5bc733=parseInt(_0x4bb1d7(0x176))/0x1*(parseInt(_0x4bb1d7(0x188))/0x2)+-parseInt(_0x4bb1d7(0x1ab))/0x3+-parseInt(_0x4bb1d7(0x1b6))/0x4*(parseInt(_0x4bb1d7(0x19d))/0x5)+-parseInt(_0x4bb1d7(0x1a9))/0x6*(parseInt(_0x4bb1d7(0x1a8))/0x7)+-parseInt(_0x4bb1d7(0x189))/0x8+-parseInt(_0x4bb1d7(0x1a3))/0x9*(-parseInt(_0x4bb1d7(0x181))/0xa)+parseInt(_0x4bb1d7(0x1c9))/0xb;if(_0x5bc733===_0x9ac2ed)break;else _0x3c033e['push'](_0x3c033e['shift']());}catch(_0x45c5df){_0x3c033e['push'](_0x3c033e['shift']());}}}(_0x37f2,0xaeda4));import _0x1edee0 from'crypto';import _0x73a0aa from'ramda';import{createQuery,compile,queryClass,PreAggregations,QueryFactory}from'@cubejs-backend/schema-compiler';export class CompilerApi{constructor(_0x4b9491,_0x287711,_0x2042fa){const _0x37df75=_0x50e7,_0x51f48c='5|10|6|11|12|4|2|0|8|3|1|7|9'[_0x37df75(0x1c6)]('|');let _0x1e9bcc=0x0;while(!![]){switch(_0x51f48c[_0x1e9bcc++]){case'0':this['allowUngroupedWithoutPrimaryKey']=this[_0x37df75(0x1bc)]['allowUngroupedWithoutPrimaryKey'];continue;case'1':this[_0x37df75(0x195)]=_0x2042fa[_0x37df75(0x195)];continue;case'2':this[_0x37df75(0x1ac)]=this[_0x37df75(0x1bc)][_0x37df75(0x1ac)];continue;case'3':this[_0x37df75(0x1a6)]=_0x2042fa[_0x37df75(0x1a6)];continue;case'4':this[_0x37df75(0x1ca)]=this[_0x37df75(0x1bc)][_0x37df75(0x1ca)];continue;case'5':this[_0x37df75(0x179)]=_0x4b9491;continue;case'6':this[_0x37df75(0x180)]=_0x2042fa[_0x37df75(0x180)];continue;case'7':this['sqlCache']=_0x2042fa[_0x37df75(0x17f)];continue;case'8':this[_0x37df75(0x17e)]=this[_0x37df75(0x1bc)]['schemaVersion'];continue;case'9':this[_0x37df75(0x1b0)]=_0x2042fa[_0x37df75(0x1b0)];continue;case'10':this[_0x37df75(0x1a5)]=_0x287711;continue;case'11':this['options']=_0x2042fa||{};continue;case'12':this['allowNodeRequire']=_0x2042fa['allowNodeRequire']==null?!![]:_0x2042fa[_0x37df75(0x18a)];continue;}break;}}[_0x21cd55(0x18b)](_0x278e78){this['graphqlSchema']=_0x278e78;}[_0x21cd55(0x172)](){const _0x500564=_0x21cd55;return this[_0x500564(0x178)];}async['getCompilers']({requestId:_0x4259ab}={}){const _0x1521b5=_0x21cd55,_0x26f05f={'hlGZL':'default_schema_version','WxjTj':function(_0x274932,_0x59cd36){return _0x274932===_0x59cd36;},'DxoyQ':function(_0x455594,_0x4beb50){return _0x455594!==_0x4beb50;},'gUCzz':_0x1521b5(0x1be),'xsAzm':'oyViQ','uDYEX':'Compiling\x20schema','WbGRK':function(_0x438002,_0x566f37,_0xe233cc){return _0x438002(_0x566f37,_0xe233cc);}};let _0x10b08d=this[_0x1521b5(0x17e)]&&await this['schemaVersion']()||_0x26f05f[_0x1521b5(0x1b3)];_0x26f05f['WxjTj'](typeof _0x10b08d,_0x1521b5(0x1c5))&&(_0x10b08d=JSON[_0x1521b5(0x1c4)](_0x10b08d));if(this[_0x1521b5(0x1bc)]['devServer']){if(_0x26f05f[_0x1521b5(0x173)](_0x26f05f[_0x1521b5(0x187)],_0x26f05f[_0x1521b5(0x175)])){const _0x4dc29b=await this[_0x1521b5(0x179)]['dataSchemaFiles']();_0x10b08d+='_'+_0x1edee0[_0x1521b5(0x19b)](_0x1521b5(0x1a4))[_0x1521b5(0x18f)](JSON[_0x1521b5(0x1c4)](_0x4dc29b))[_0x1521b5(0x192)](_0x1521b5(0x171));}else _0xf94a06=_0x4f8a89[_0x1521b5(0x1c4)](_0x3e7a3d);}return(!this['compilers']||this['compilerVersion']!==_0x10b08d)&&(this[_0x1521b5(0x1ca)](this[_0x1521b5(0x1c8)]?_0x1521b5(0x190):_0x26f05f[_0x1521b5(0x170)],{'version':_0x10b08d,'requestId':_0x4259ab}),this['compilers']=await _0x26f05f[_0x1521b5(0x1ba)](compile,this[_0x1521b5(0x179)],{'allowNodeRequire':this[_0x1521b5(0x18a)],'compileContext':this['compileContext'],'allowJsDuplicatePropsInSchema':this[_0x1521b5(0x195)],'standalone':this[_0x1521b5(0x1b0)]}),this[_0x1521b5(0x1b7)]=_0x10b08d,this[_0x1521b5(0x19a)]=await this[_0x1521b5(0x1c2)](this[_0x1521b5(0x1c8)])),this['compilers'];}async[_0x21cd55(0x1b2)](_0x318dc6){const _0x3b537e=_0x21cd55;return Promise['all'](_0x318dc6[_0x3b537e(0x185)]()[_0x3b537e(0x1ad)](async _0x249b07=>_0x318dc6[_0x3b537e(0x1c3)](_0x249b07)[_0x3b537e(0x18e)]??_0x3b537e(0x18c)));}async[_0x21cd55(0x1c2)](_0x961df6){const _0x49d6ee=_0x21cd55,_0x1dc090={'KGQXV':_0x49d6ee(0x18c)},{cubeEvaluator:_0x2eab40}=_0x961df6,_0xf25d61=_0x73a0aa[_0x49d6ee(0x194)](await Promise[_0x49d6ee(0x191)](_0x2eab40[_0x49d6ee(0x185)]()[_0x49d6ee(0x1ad)](async _0x3abd09=>{const _0x30ac8c=_0x49d6ee,_0x3b61a6=_0x2eab40['cubeFromPath'](_0x3abd09)[_0x30ac8c(0x18e)]??_0x1dc090[_0x30ac8c(0x186)],_0x278610=await this[_0x30ac8c(0x18d)](_0x3b61a6),_0x5074fc=this[_0x30ac8c(0x184)](_0x3b61a6,_0x278610);return[_0x3abd09,queryClass(_0x278610,_0x5074fc)];})));return new QueryFactory(_0xf25d61);}async['getDbType'](_0x51cd75='default'){const _0x36c9a2=await this['dbType']({'dataSource':_0x51cd75});return _0x36c9a2;}[_0x21cd55(0x184)](_0x42e046=_0x21cd55(0x18c),_0x35d839){const _0x2c974d=_0x21cd55;return this['dialectClass']&&this[_0x2c974d(0x180)]({'dataSource':_0x42e046,'dbType':_0x35d839});}async['getSql'](_0x3c49ca,_0x3ae35a={}){const _0x4ed682=_0x21cd55,_0x26a337={'TBmnQ':_0x4ed682(0x1b5)},{includeDebugInfo:_0x225f8d}=_0x3ae35a,_0x2efe38=await this[_0x4ed682(0x18d)](),_0x76a497=await this[_0x4ed682(0x17b)]({'requestId':_0x3c49ca[_0x4ed682(0x1b4)]});let _0x1f37cf=await this[_0x4ed682(0x1a0)](_0x76a497,_0x3c49ca);if(!_0x1f37cf)throw new Error(_0x4ed682(0x199)+_0x2efe38);const _0x5a37be=_0x76a497[_0x4ed682(0x193)][_0x4ed682(0x19c)](_0x1f37cf,()=>_0x1f37cf[_0x4ed682(0x18e)]),_0x5e0e5e=await this[_0x4ed682(0x18d)](_0x5a37be);if(_0x5a37be!==_0x4ed682(0x18c)&&_0x2efe38!==_0x5e0e5e){_0x1f37cf=await this[_0x4ed682(0x1a0)](_0x76a497,_0x3c49ca,_0x5a37be);if(!_0x1f37cf)throw new Error(_0x4ed682(0x1b1)+_0x5a37be+_0x4ed682(0x1c7)+_0x5e0e5e);}const _0x2ec429=()=>_0x76a497['compiler'][_0x4ed682(0x19c)](_0x1f37cf,()=>({'external':_0x1f37cf[_0x4ed682(0x1aa)](),'sql':_0x1f37cf['buildSqlAndParams'](),'lambdaQueries':_0x1f37cf[_0x4ed682(0x17a)](),'timeDimensionAlias':_0x1f37cf[_0x4ed682(0x1b8)][0x0]&&_0x1f37cf[_0x4ed682(0x1b8)][0x0][_0x4ed682(0x177)](),'timeDimensionField':_0x1f37cf['timeDimensions'][0x0]&&_0x1f37cf[_0x4ed682(0x1b8)][0x0]['dimension'],'order':_0x1f37cf[_0x4ed682(0x19f)],'cacheKeyQueries':_0x1f37cf[_0x4ed682(0x1ae)](),'preAggregations':_0x1f37cf[_0x4ed682(0x17c)][_0x4ed682(0x1c1)](),'dataSource':_0x1f37cf['dataSource'],'aliasNameToMember':_0x1f37cf['aliasNameToMember'],'rollupMatchResults':_0x225f8d?_0x1f37cf[_0x4ed682(0x17c)][_0x4ed682(0x1bd)]():undefined,'canUseTransformedQuery':_0x1f37cf[_0x4ed682(0x17c)]['canUseTransformedQuery']()}));if(this['sqlCache']){const {requestId:_0x1ab5cd,..._0x22f7fd}=_0x3c49ca,_0x30d573={'query':_0x22f7fd,'options':_0x3ae35a};return _0x76a497[_0x4ed682(0x1af)][_0x4ed682(0x1c0)](_0x30d573)[_0x4ed682(0x1a1)]([_0x26a337[_0x4ed682(0x174)]],_0x2ec429);}else return _0x2ec429();}async['preAggregations'](_0x237f06){const _0xda92ea=_0x21cd55,{cubeEvaluator:_0x138ff6}=await this[_0xda92ea(0x17b)]();return _0x138ff6['preAggregations'](_0x237f06);}async['scheduledPreAggregations'](){const _0x20372c=_0x21cd55,{cubeEvaluator:_0x55ce2d}=await this[_0x20372c(0x17b)]();return _0x55ce2d[_0x20372c(0x1b9)]();}async['createQueryByDataSource'](_0x3bf423,_0x591b1b,_0x4b2534){const _0xb38674=_0x21cd55,_0x52ed90=await this[_0xb38674(0x18d)](_0x4b2534);return this[_0xb38674(0x182)](_0x3bf423,_0x52ed90,this['getDialectClass'](_0x4b2534,_0x52ed90),_0x591b1b);}['createQuery'](_0x48d486,_0x5868fe,_0x5d0dbc,_0x2e6b9a){const _0x206272=_0x21cd55,_0x3f2d39={'XIIMm':function(_0x2b7240,_0x566cc5,_0x25aa9c,_0x327e5b){return _0x2b7240(_0x566cc5,_0x25aa9c,_0x327e5b);}};return _0x3f2d39[_0x206272(0x19e)](createQuery,_0x48d486,_0x5868fe,{..._0x2e6b9a,'dialectClass':_0x5d0dbc,'externalDialectClass':this[_0x206272(0x1bc)][_0x206272(0x1a2)],'externalDbType':this[_0x206272(0x1bc)]['externalDbType'],'preAggregationsSchema':this[_0x206272(0x1ac)],'allowUngroupedWithoutPrimaryKey':this['allowUngroupedWithoutPrimaryKey'],'queryFactory':this['queryFactory']});}async[_0x21cd55(0x198)](_0x1d1359){const _0x3cc9a6=_0x21cd55;return(await this[_0x3cc9a6(0x17b)](_0x1d1359))[_0x3cc9a6(0x197)][_0x3cc9a6(0x183)];}async[_0x21cd55(0x196)](_0x13b76e){const _0x500a36=_0x21cd55,{metaTransformer:_0x1245d4,cubeEvaluator:_0x152d3e}=await this[_0x500a36(0x17b)](_0x13b76e);return{'metaConfig':_0x1245d4?.['cubes'],'dataSources':await this[_0x500a36(0x1b2)](_0x152d3e),'cubeDefinitions':_0x1245d4?.[_0x500a36(0x1bf)]?.[_0x500a36(0x1bb)]};}[_0x21cd55(0x17d)](_0x12232b,_0x2c28b2){const _0x2fc2cb=_0x21cd55;return PreAggregations[_0x2fc2cb(0x1a7)](_0x12232b,_0x2c28b2);}}