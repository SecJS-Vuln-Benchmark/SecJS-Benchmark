function _0x2ed0(){const _0x24f4a1=['nilzE','jnIDG','fileId','multipart/form-data','2294950SnsbhG','Error\x20downloading\x20file:\x20','/download/','files','exports','4EgrVXv','1368824Ymyciw','mMXjK','append','146834JLcseZ','post','getHeaders','1905561KajDvd','50vlKYvv','Vguwz','521873ATEPmQ','Error\x20uploading\x20file:\x20','form-data','@librechat/agents','3HGaAts','1135893VztADf','/upload','LibreChat/1.0','azxXK','610gPsigm','message','get','11226XGKlYi','stream'];_0x2ed0=function(){return _0x24f4a1;};return _0x2ed0();}const _0xead1d4=_0x15f5;function _0x15f5(_0x166045,_0x3d2433){const _0x2ed071=_0x2ed0();return _0x15f5=function(_0x15f5f2,_0x129a46){_0x15f5f2=_0x15f5f2-0x122;let _0x506a59=_0x2ed071[_0x15f5f2];return _0x506a59;},_0x15f5(_0x166045,_0x3d2433);}(function(_0x22d1a1,_0x4e6453){const _0x331057=_0x15f5,_0x4ebc23=_0x22d1a1();while(!![]){try{const _0x439cdc=-parseInt(_0x331057(0x126))/0x1*(-parseInt(_0x331057(0x13d))/0x2)+parseInt(_0x331057(0x127))/0x3*(-parseInt(_0x331057(0x139))/0x4)+-parseInt(_0x331057(0x12b))/0x5*(parseInt(_0x331057(0x12e))/0x6)+parseInt(_0x331057(0x134))/0x7+-parseInt(_0x331057(0x13a))/0x8+parseInt(_0x331057(0x140))/0x9+parseInt(_0x331057(0x141))/0xa*(parseInt(_0x331057(0x122))/0xb);if(_0x439cdc===_0x4e6453)break;else _0x4ebc23['push'](_0x4ebc23['shift']());}catch(_0x2791f4){_0x4ebc23['push'](_0x4ebc23['shift']());}}}(_0x2ed0,0x357a9));const axios=require('axios'),FormData=require(_0xead1d4(0x124)),{getCodeBaseURL}=require(_0xead1d4(0x125)),MAX_FILE_SIZE=0x19*0x400*0x400;async function getCodeOutputDownloadStream(_0x46be9b,_0x3a1b26){const _0x3776a0=_0xead1d4,_0x3da1fc={'KUPWl':_0x3776a0(0x12d)};try{const _0x583870=getCodeBaseURL(),_0xa78908=await axios({'method':_0x3da1fc['KUPWl'],'url':_0x583870+_0x3776a0(0x136)+_0x46be9b,'responseType':_0x3776a0(0x12f),'headers':{'User-Agent':_0x3776a0(0x129),'X-API-Key':_0x3a1b26},'timeout':0x3a98});return _0xa78908;}catch(_0x3830eb){throw new Error(_0x3776a0(0x135)+_0x3830eb[_0x3776a0(0x12c)]);}}async function uploadCodeEnvFile({req:_0x1b15cb,stream:_0x57bfa5,filename:_0x1ee4aa,apiKey:_0x5c1e6a}){const _0x1ee3b9=_0xead1d4,_0x439e6f={'nilzE':'file','Vguwz':function(_0x4b5eb2){return _0x4b5eb2();},'jnIDG':_0x1ee3b9(0x129),'azxXK':function(_0x11e03b,_0x16315d){return _0x11e03b!==_0x16315d;},'mMXjK':'success'};try{const _0x23c675=new FormData();_0x23c675[_0x1ee3b9(0x13c)](_0x439e6f[_0x1ee3b9(0x130)],_0x57bfa5,_0x1ee4aa);const _0x44db5e=_0x439e6f[_0x1ee3b9(0x142)](getCodeBaseURL),_0x1238dd=await axios[_0x1ee3b9(0x13e)](_0x44db5e+_0x1ee3b9(0x128),_0x23c675,{'headers':{..._0x23c675[_0x1ee3b9(0x13f)](),'Content-Type':_0x1ee3b9(0x133),'User-Agent':_0x439e6f[_0x1ee3b9(0x131)],'User-Id':_0x1b15cb['user']['id'],'X-API-Key':_0x5c1e6a},'maxContentLength':MAX_FILE_SIZE,'maxBodyLength':MAX_FILE_SIZE}),_0x3cc65b=_0x1238dd['data'];if(_0x439e6f[_0x1ee3b9(0x12a)](_0x3cc65b[_0x1ee3b9(0x12c)],_0x439e6f[_0x1ee3b9(0x13b)]))throw new Error(_0x1ee3b9(0x123)+_0x3cc65b['message']);return _0x3cc65b['session_id']+'/'+_0x3cc65b[_0x1ee3b9(0x137)][0x0][_0x1ee3b9(0x132)];}catch(_0x33daf1){throw new Error(_0x1ee3b9(0x123)+_0x33daf1[_0x1ee3b9(0x12c)]);}}module[_0xead1d4(0x138)]={'getCodeOutputDownloadStream':getCodeOutputDownloadStream,'uploadCodeEnvFile':uploadCodeEnvFile};