const _0x482f97=_0xd847;(function(_0x4059a0,_0x4fa9b6){const _0x15d04e=_0xd847,_0x24097e=_0x4059a0();while(!![]){try{const _0x44c516=parseInt(_0x15d04e(0x122))/0x1*(-parseInt(_0x15d04e(0x126))/0x2)+-parseInt(_0x15d04e(0x123))/0x3*(-parseInt(_0x15d04e(0x139))/0x4)+-parseInt(_0x15d04e(0x11c))/0x5+-parseInt(_0x15d04e(0x137))/0x6*(parseInt(_0x15d04e(0x118))/0x7)+-parseInt(_0x15d04e(0x12c))/0x8*(parseInt(_0x15d04e(0x11a))/0x9)+parseInt(_0x15d04e(0x14d))/0xa+parseInt(_0x15d04e(0x147))/0xb;if(_0x44c516===_0x4fa9b6)break;else _0x24097e['push'](_0x24097e['shift']());}catch(_0x3ce633){_0x24097e['push'](_0x24097e['shift']());}}}(_0x2f6f,0x30dbe));const fs=require('fs'),path=require(_0x482f97(0x12b)),crypto=require(_0x482f97(0x154)),multer=require(_0x482f97(0x13e)),{fileConfig:defaultFileConfig,mergeFileConfig}=require(_0x482f97(0x14a)),{getCustomConfig}=require(_0x482f97(0x158)),storage=multer[_0x482f97(0x141)]({'destination':function(_0x2b1b3d,_0x2a5437,_0x49ca9f){const _0x2e8c48=_0x482f97,_0x48e837={'vsdkB':_0x2e8c48(0x144),'wSagG':function(_0x3c3a7d,_0x1a4806,_0x4fe9bf){return _0x3c3a7d(_0x1a4806,_0x4fe9bf);}},_0x371708=path[_0x2e8c48(0x11d)](_0x2b1b3d[_0x2e8c48(0x155)]['locals'][_0x2e8c48(0x12a)][_0x2e8c48(0x157)],_0x48e837[_0x2e8c48(0x135)],_0x2b1b3d['user']['id']);!fs[_0x2e8c48(0x13f)](_0x371708)&&fs[_0x2e8c48(0x13a)](_0x371708,{'recursive':!![]}),_0x48e837[_0x2e8c48(0x150)](_0x49ca9f,null,_0x371708);},'filename':function(_0x17e234,_0xddceaf,_0x4119f7){const _0x23fbe6=_0x482f97;_0x17e234[_0x23fbe6(0x12f)]=crypto['randomUUID'](),_0xddceaf[_0x23fbe6(0x120)]=decodeURIComponent(_0xddceaf['originalname']);const _0x5d82a0=path[_0x23fbe6(0x136)](_0xddceaf[_0x23fbe6(0x120)]);_0x4119f7(null,_0x5d82a0);}}),importFileFilter=(_0x373574,_0x205aef,_0x515fbb)=>{const _0x1979bf=_0x482f97,_0x22e97a={'zAGlA':function(_0x59d23a,_0x5e0a2d){return _0x59d23a===_0x5e0a2d;},'xTdrm':_0x1979bf(0x132),'OKHTR':'application/json','burCQ':_0x1979bf(0x14f),'OwFkd':'OquWR','BxpSD':function(_0x75b5cc,_0x74f506,_0x275140){return _0x75b5cc(_0x74f506,_0x275140);}};if(_0x22e97a[_0x1979bf(0x131)](_0x205aef[_0x1979bf(0x148)],_0x22e97a[_0x1979bf(0x13b)]))_0x515fbb(null,!![]);else{if(path[_0x1979bf(0x11f)](_0x205aef['originalname'])['toLowerCase']()===_0x22e97a[_0x1979bf(0x151)]){if(_0x22e97a[_0x1979bf(0x134)]==='OquWR')_0x22e97a['BxpSD'](_0x515fbb,null,!![]);else{if(_0x22e97a[_0x1979bf(0x131)](_0x174379[_0x1979bf(0x148)],_0x1979bf(0x13c)))_0x262517(null,!![]);else _0x73f974['extname'](_0x3db26e[_0x1979bf(0x120)])[_0x1979bf(0x152)]()===_0x1979bf(0x14f)?_0x2c290a(null,!![]):_0x30779b(new _0x43da9a(_0x22e97a[_0x1979bf(0x12d)]),![]);}}else _0x515fbb(new Error(_0x1979bf(0x132)),![]);}},createFileFilter=_0x25ad47=>{const _0x3081ce=_0x482f97,_0x538cc7={'zQVFk':function(_0x1bee87,_0x457341,_0x384fec){return _0x1bee87(_0x457341,_0x384fec);},'oNaWe':_0x3081ce(0x143),'IPLXm':_0x3081ce(0x12e),'kDAnQ':function(_0x2c956b,_0x4dc5d0,_0x1a5f41){return _0x2c956b(_0x4dc5d0,_0x1a5f41);},'aOvjo':_0x3081ce(0x124),'WgUmB':function(_0x7965a6,_0x11a760){return _0x7965a6===_0x11a760;},'iIPlG':function(_0x2baf7c,_0x3cb9bc){return _0x2baf7c+_0x3cb9bc;}},_0x16f28b=(_0x28e8ae,_0x30ee70,_0x1e157d)=>{const _0x4c69e8=_0x3081ce,_0xfd23aa={'zmhXh':function(_0x34f237,_0x4810ce,_0x447b7c){const _0x4a9116=_0xd847;return _0x538cc7[_0x4a9116(0x14e)](_0x34f237,_0x4810ce,_0x447b7c);},'jugFE':_0x538cc7[_0x4c69e8(0x145)],'zXYeo':_0x538cc7['IPLXm'],'lVMJC':function(_0x4ddd1b,_0x49ee59,_0x35c12c){const _0x376099=_0x4c69e8;return _0x538cc7[_0x376099(0x121)](_0x4ddd1b,_0x49ee59,_0x35c12c);},'cJwqm':_0x538cc7[_0x4c69e8(0x149)]};if(!_0x30ee70)return _0x1e157d(new Error(_0x538cc7[_0x4c69e8(0x145)]),![]);if(_0x28e8ae['originalUrl'][_0x4c69e8(0x127)](_0x538cc7[_0x4c69e8(0x156)])&&_0x30ee70[_0x4c69e8(0x148)][_0x4c69e8(0x129)](_0x4c69e8(0x14b)))return _0x1e157d(null,!![]);const _0x448fd6=_0x28e8ae[_0x4c69e8(0x130)][_0x4c69e8(0x153)],_0x2bdb5a=_0x25ad47?.[_0x4c69e8(0x146)]?.[_0x448fd6]?.[_0x4c69e8(0x133)]??_0x25ad47?.[_0x4c69e8(0x146)]?.['default'][_0x4c69e8(0x133)]??defaultFileConfig?.[_0x4c69e8(0x146)]?.[_0x448fd6]?.[_0x4c69e8(0x133)];if(!defaultFileConfig['checkType'](_0x30ee70[_0x4c69e8(0x148)],_0x2bdb5a)){if(_0x538cc7[_0x4c69e8(0x140)](_0x4c69e8(0x11e),_0x4c69e8(0x159))){if(!_0x232a38)return _0xfd23aa[_0x4c69e8(0x11b)](_0x2b87af,new _0x2bb40d(_0xfd23aa[_0x4c69e8(0x142)]),![]);if(_0x35e76c['originalUrl'][_0x4c69e8(0x127)](_0xfd23aa[_0x4c69e8(0x13d)])&&_0xe9b0c1[_0x4c69e8(0x148)]['startsWith'](_0x4c69e8(0x14b)))return _0x5e9a4e(null,!![]);const _0x13a3ac=_0x5f2cac[_0x4c69e8(0x130)][_0x4c69e8(0x153)],_0x3c3bb2=_0x14ce33?.[_0x4c69e8(0x146)]?.[_0x13a3ac]?.[_0x4c69e8(0x133)]??_0x1a9dee?.[_0x4c69e8(0x146)]?.['default'][_0x4c69e8(0x133)]??_0x451e83?.[_0x4c69e8(0x146)]?.[_0x13a3ac]?.[_0x4c69e8(0x133)];if(!_0x3bbdac[_0x4c69e8(0x14c)](_0x13acf1['mimetype'],_0x3c3bb2))return _0xfd23aa[_0x4c69e8(0x138)](_0x59305c,new _0x4e7e86(_0xfd23aa['cJwqm']+_0x28f873[_0x4c69e8(0x148)]),![]);_0xfd23aa['lVMJC'](_0x51af09,null,!![]);}else return _0x1e157d(new Error(_0x538cc7[_0x4c69e8(0x128)](_0x4c69e8(0x124),_0x30ee70['mimetype'])),![]);}_0x538cc7[_0x4c69e8(0x121)](_0x1e157d,null,!![]);};return _0x16f28b;},createMulterInstance=async()=>{const _0x460e38=_0x482f97,_0x1f70ad={'yjiAS':function(_0x83654b,_0x20564f){return _0x83654b(_0x20564f);},'MHLvp':function(_0x846f4a,_0x5d3254){return _0x846f4a(_0x5d3254);}},_0x102f85=await getCustomConfig(),_0x175b99=_0x1f70ad[_0x460e38(0x125)](mergeFileConfig,_0x102f85?.[_0x460e38(0x119)]),_0x225a60=createFileFilter(_0x175b99);return _0x1f70ad['MHLvp'](multer,{'storage':storage,'fileFilter':_0x225a60,'limits':{'fileSize':_0x175b99['serverFileSizeLimit']}});};function _0xd847(_0x54a26b,_0x4145fb){const _0x2f6f69=_0x2f6f();return _0xd847=function(_0xd84782,_0x3e32d0){_0xd84782=_0xd84782-0x118;let _0x477035=_0x2f6f69[_0xd84782];return _0x477035;},_0xd847(_0x54a26b,_0x4145fb);}function _0x2f6f(){const _0x110bdf=['Unsupported\x20file\x20type:\x20','yjiAS','10tcjkBH','endsWith','iIPlG','startsWith','paths','path','808kKNYlm','xTdrm','/speech/stt','file_id','body','zAGlA','Only\x20JSON\x20files\x20are\x20allowed','supportedMimeTypes','OwFkd','vsdkB','basename','890130pMGpnC','lVMJC','2764SPDJFj','mkdirSync','OKHTR','application/json','zXYeo','multer','existsSync','WgUmB','diskStorage','jugFE','No\x20file\x20provided','temp','oNaWe','endpoints','5003911EYHGFw','mimetype','aOvjo','librechat-data-provider','audio/','checkType','324520VHhwdF','zQVFk','.json','wSagG','burCQ','toLowerCase','endpoint','crypto','app','IPLXm','uploads','~/server/services/Config','JxsBc','7PUTtmA','fileConfig','576cMoqit','zmhXh','177455puKDHt','join','SDSGR','extname','originalname','kDAnQ','53657IWetTT','744QuvNLg'];_0x2f6f=function(){return _0x110bdf;};return _0x2f6f();}module['exports']={'createMulterInstance':createMulterInstance,'storage':storage,'importFileFilter':importFileFilter};