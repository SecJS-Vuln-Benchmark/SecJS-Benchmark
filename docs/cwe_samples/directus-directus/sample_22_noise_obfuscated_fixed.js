'use strict';const _0x9a15ed=_0x19cd;(function(_0x38dc19,_0xab1fd0){const _0x2368f9=_0x19cd,_0x513c68=_0x38dc19();while(!![]){try{const _0x351702=-parseInt(_0x2368f9(0x185))/0x1+-parseInt(_0x2368f9(0x169))/0x2*(parseInt(_0x2368f9(0x168))/0x3)+parseInt(_0x2368f9(0x142))/0x4+parseInt(_0x2368f9(0x135))/0x5*(parseInt(_0x2368f9(0x154))/0x6)+-parseInt(_0x2368f9(0x132))/0x7+-parseInt(_0x2368f9(0x125))/0x8*(-parseInt(_0x2368f9(0x12e))/0x9)+-parseInt(_0x2368f9(0x147))/0xa;if(_0x351702===_0xab1fd0)break;else _0x513c68['push'](_0x513c68['shift']());}catch(_0x13b9fe){_0x513c68['push'](_0x513c68['shift']());}}}(_0x5c0c,0x935df));const t=require('tap'),test=t[_0x9a15ed(0x15b)],FindMyWay=require(_0x9a15ed(0x189));function _0x19cd(_0x54d41f,_0x3de3cb){const _0x5c0c90=_0x5c0c();return _0x19cd=function(_0x19cdda,_0x109054){_0x19cdda=_0x19cdda-0x124;let _0x4dc4ea=_0x5c0c90[_0x19cdda];return _0x4dc4ea;},_0x19cd(_0x54d41f,_0x3de3cb);}function _0x5c0c(){const _0x4bd9f0=['/test/S/foo.png','hpnqD','forEach','YtpAg','fail','55668FWbigm','route\x20not\x20matched:\x20','lookup','YxbKM','NUQam','DWqSz','route\x20with\x20matching\x20regex','test','KOcHI','route\x20not\x20matched','/test/D/:file(^\x5cD+).png','/test/12','IwxNk','/test/hel%\x22Flo','plan','/test/12/hello/15','/test/12/hello/world','asVuu','we\x20should\x20not\x20be\x20here','JpnxQ','205980geCmbg','2oFLHiJ','eKUAC','imTwN','ULqgq','Sgcja','bRjus','/test/12/hello/test','find','off','pass','ApHvT','ZyBCW','fQnSa','QOMiW','AVwAG','/test/:id(^\x5cd+$)','Zjccw','equal','mHHMW','mixed\x20nested\x20route\x20without\x20double\x20matching\x20regex','iaKMP','regex\x20match','ppfrV','WmHKL','mixed\x20nested\x20route\x20with\x20double\x20matching\x20regex','nRtrI','VMsBJ','/test/test','793902BXUuAx','ulosk','same','should\x20throw','../','XDuGQ','LGTzN','1480WxPGQZ','/test/12/hello','/test/:file(^\x5cd+).png','mixed\x20nested\x20route\x20with\x20matching\x20regex','/test/:id(^\x5cd+$)/hello/:world(^\x5cd+$)','route\x20mathed','kHWYM','/test/:id(','HQyyx','47349xUuCfC','safe\x20decodeURIComponent','/test/12.png','world','5376266LkokrE','cvnhY','NOcJN','420hcWdAG','BbgZm','unhNB','TyNos','SADQN','vpwim','JQKLV','NgUZV','aECcG','Xgdsv','/test/S/:file(^\x5cS+).png','skuCr','Disable\x20safe\x20regex\x20check','4658136dJTDKj','GET','join','BBfjR','/test/D/foo.png','6829560nOOGQn','return\x20await\x20Promise.resolve(42);','BnCur','/test/:id(^\x5cd+$)/hello/:world','PfmNo','lzmIs','/test/:id(^\x5cd+$)/hello','toString'];_0x5c0c=function(){return _0x4bd9f0;};return _0x5c0c();}test(_0x9a15ed(0x15a),_0x555c5c=>{const _0xdaf254=_0x9a15ed,_0x4449ad={'ppfrV':_0xdaf254(0x17e),'ULqgq':function(_0x3b6372,_0x36dea6){return _0x3b6372(_0x36dea6);},'BBfjR':_0xdaf254(0x143),'imTwN':_0xdaf254(0x178)};_0x555c5c['plan'](0x1);const _0x321afb=_0x4449ad[_0xdaf254(0x16c)](FindMyWay,{'defaultRoute':()=>{const _0x4daf2b=_0xdaf254;_0x555c5c[_0x4daf2b(0x153)]('route\x20not\x20matched');}});_0x321afb['on'](_0x4449ad[_0xdaf254(0x145)],_0x4449ad[_0xdaf254(0x16b)],()=>{const _0x17f026=_0xdaf254;_0x555c5c['ok'](_0x4449ad[_0x17f026(0x17f)]);}),_0x321afb[_0xdaf254(0x156)]({'method':_0xdaf254(0x143),'url':_0xdaf254(0x15f),'headers':{}},null);}),test('route\x20without\x20matching\x20regex',_0x2b416a=>{const _0xcd96bb=_0x9a15ed,_0x3419bd={'unhNB':function(_0x330c07,_0x24bf43){return _0x330c07(_0x24bf43);},'BaWyn':'GET'};_0x2b416a[_0xcd96bb(0x162)](0x1);const _0x190a48=_0x3419bd[_0xcd96bb(0x137)](FindMyWay,{'defaultRoute':()=>{_0x2b416a['ok']('route\x20not\x20matched');}});_0x190a48['on'](_0x3419bd['BaWyn'],_0xcd96bb(0x178),()=>{const _0x53c680=_0xcd96bb;_0x2b416a[_0x53c680(0x153)]('regex\x20match');}),_0x190a48[_0xcd96bb(0x156)]({'method':'GET','url':_0xcd96bb(0x184),'headers':{}},null);}),test('route\x20with\x20an\x20extension\x20regex\x202',_0xc4590e=>{const _0x1ba0bf=_0x9a15ed,_0x2194d4={'skuCr':_0x1ba0bf(0x143),'QOMiW':_0x1ba0bf(0x14f)};_0xc4590e['plan'](0x2);const _0xaac605=FindMyWay({'defaultRoute':_0x1d5a66=>{const _0x599c88=_0x1ba0bf;_0xc4590e[_0x599c88(0x153)](_0x599c88(0x155)+_0x1d5a66['url']);}});_0xaac605['on'](_0x1ba0bf(0x143),_0x1ba0bf(0x13f),()=>{const _0x38a16b=_0x1ba0bf;_0xc4590e['ok'](_0x38a16b(0x17e));}),_0xaac605['on'](_0x2194d4[_0x1ba0bf(0x140)],_0x1ba0bf(0x15e),()=>{const _0x4debd4=_0x1ba0bf;_0xc4590e['ok'](_0x4debd4(0x17e));}),_0xaac605[_0x1ba0bf(0x156)]({'method':_0x1ba0bf(0x143),'url':_0x2194d4[_0x1ba0bf(0x176)],'headers':{}},null),_0xaac605['lookup']({'method':_0x2194d4['skuCr'],'url':_0x1ba0bf(0x146),'headers':{}},null);}),test('nested\x20route\x20with\x20matching\x20regex',_0x257fa5=>{const _0x2f9b9c=_0x9a15ed,_0xa56b5f={'nRtrI':_0x2f9b9c(0x15d),'ApHvT':_0x2f9b9c(0x17e),'Xgdsv':function(_0x4ca2d4,_0x5da955){return _0x4ca2d4(_0x5da955);},'IwxNk':_0x2f9b9c(0x14d),'VMsBJ':_0x2f9b9c(0x143),'Gpchp':_0x2f9b9c(0x126)};_0x257fa5[_0x2f9b9c(0x162)](0x1);const _0x59ff78=_0xa56b5f[_0x2f9b9c(0x13e)](FindMyWay,{'defaultRoute':()=>{const _0x597d15=_0x2f9b9c;_0x257fa5[_0x597d15(0x153)](_0xa56b5f[_0x597d15(0x182)]);}});_0x59ff78['on'](_0x2f9b9c(0x143),_0xa56b5f[_0x2f9b9c(0x160)],()=>{const _0x2451d5=_0x2f9b9c;_0x257fa5['ok'](_0xa56b5f[_0x2451d5(0x173)]);}),_0x59ff78[_0x2f9b9c(0x156)]({'method':_0xa56b5f[_0x2f9b9c(0x183)],'url':_0xa56b5f['Gpchp'],'headers':{}},null);}),test(_0x9a15ed(0x128),_0x3c99f1=>{const _0x2a0b57=_0x9a15ed,_0x328a2f={'lzmIs':function(_0x539bb1,_0x2714d5){return _0x539bb1(_0x2714d5);},'ZyBCW':_0x2a0b57(0x14a)};_0x3c99f1['plan'](0x2);const _0x147c43=_0x328a2f[_0x2a0b57(0x14c)](FindMyWay,{'defaultRoute':()=>{const _0x2b7851=_0x2a0b57;_0x3c99f1['fail'](_0x2b7851(0x15d));}});_0x147c43['on'](_0x2a0b57(0x143),_0x328a2f[_0x2a0b57(0x174)],(_0x4e820d,_0x9bf3f0,_0xa6e7e2)=>{const _0x35113a=_0x2a0b57;_0x35113a(0x186)!==_0x35113a(0x186)?_0x41c02e[_0x35113a(0x153)](_0x48511c):(_0x3c99f1[_0x35113a(0x17a)](_0xa6e7e2['id'],'12'),_0x3c99f1['equal'](_0xa6e7e2[_0x35113a(0x131)],_0x35113a(0x131)));}),_0x147c43['lookup']({'method':_0x2a0b57(0x143),'url':_0x2a0b57(0x164),'headers':{}},null);}),test(_0x9a15ed(0x181),_0x6535c1=>{const _0x496cd1=_0x9a15ed,_0x7c1982={'FeaiK':'/test/:id(^\x5cd+$)/hello/:world(^\x5cd+$)','rpgOe':_0x496cd1(0x143),'aECcG':_0x496cd1(0x163)};_0x6535c1['plan'](0x2);const _0x42c502=FindMyWay({'defaultRoute':()=>{const _0x1fa575=_0x496cd1;_0x6535c1[_0x1fa575(0x153)](_0x1fa575(0x15d));}});_0x42c502['on'](_0x496cd1(0x143),_0x7c1982['FeaiK'],(_0x44ec39,_0x23860a,_0x534bf0)=>{const _0x421b83=_0x496cd1;_0x6535c1[_0x421b83(0x17a)](_0x534bf0['id'],'12'),_0x6535c1['equal'](_0x534bf0[_0x421b83(0x131)],'15');}),_0x42c502[_0x496cd1(0x156)]({'method':_0x7c1982['rpgOe'],'url':_0x7c1982[_0x496cd1(0x13d)],'headers':{}},null);}),test(_0x9a15ed(0x17c),_0x41bc4b=>{const _0x2b0f12=_0x9a15ed,_0x2dee7b={'fpkXo':_0x2b0f12(0x12a),'mHHMW':_0x2b0f12(0x143),'HQyyx':_0x2b0f12(0x16f)};_0x41bc4b[_0x2b0f12(0x162)](0x1);const _0x46aca4=FindMyWay({'defaultRoute':()=>{const _0x560fe8=_0x2b0f12;_0x41bc4b['ok'](_0x560fe8(0x15d));}});_0x46aca4['on'](_0x2dee7b[_0x2b0f12(0x17b)],_0x2b0f12(0x129),(_0x59fbbe,_0xc02e9b,_0x269d3f)=>{const _0x2b4dee=_0x2b0f12;_0x41bc4b[_0x2b4dee(0x153)](_0x2dee7b['fpkXo']);}),_0x46aca4[_0x2b0f12(0x156)]({'method':_0x2dee7b[_0x2b0f12(0x17b)],'url':_0x2dee7b[_0x2b0f12(0x12d)],'headers':{}},null);}),test('route\x20with\x20an\x20extension\x20regex',_0x1a65eb=>{const _0x5e6c42=_0x9a15ed,_0x3b8da4={'cvnhY':function(_0x1dd34a,_0x39aafb){return _0x1dd34a!==_0x39aafb;},'vQzPc':_0x5e6c42(0x15c),'DWqSz':_0x5e6c42(0x18a),'fDbIh':_0x5e6c42(0x17e),'fQnSa':function(_0x152f97,_0x381df7){return _0x152f97(_0x381df7);},'BbgZm':_0x5e6c42(0x143)};_0x1a65eb['plan'](0x1);const _0x2441a4=_0x3b8da4[_0x5e6c42(0x175)](FindMyWay,{'defaultRoute':()=>{const _0x26dc98=_0x5e6c42;_0x1a65eb[_0x26dc98(0x153)](_0x26dc98(0x15d));}});_0x2441a4['on'](_0x5e6c42(0x143),_0x5e6c42(0x127),()=>{const _0x3c6089=_0x5e6c42;_0x3b8da4[_0x3c6089(0x133)](_0x3b8da4['vQzPc'],_0x3b8da4[_0x3c6089(0x159)])?_0x1a65eb['ok'](_0x3b8da4['fDbIh']):_0x4ca3e7['ok'](_0x3c6089(0x17e));}),_0x2441a4[_0x5e6c42(0x156)]({'method':_0x3b8da4[_0x5e6c42(0x136)],'url':_0x5e6c42(0x130),'headers':{}},null);}),test('route\x20with\x20an\x20extension\x20regex\x20-\x20no\x20match',_0x42f5d7=>{const _0x23411c=_0x9a15ed,_0x169dc2={'vpwim':_0x23411c(0x15d),'BnCur':_0x23411c(0x17e),'JpnxQ':function(_0x72d25d,_0x47b1db){return _0x72d25d(_0x47b1db);},'gdkno':_0x23411c(0x127),'asVuu':_0x23411c(0x143)};_0x42f5d7[_0x23411c(0x162)](0x1);const _0x2813ee=_0x169dc2[_0x23411c(0x167)](FindMyWay,{'defaultRoute':()=>{const _0x3fccca=_0x23411c;_0x42f5d7['ok'](_0x169dc2[_0x3fccca(0x13a)]);}});_0x2813ee['on'](_0x23411c(0x143),_0x169dc2['gdkno'],()=>{const _0xb2f78c=_0x23411c;_0x42f5d7['fail'](_0x169dc2[_0xb2f78c(0x149)]);}),_0x2813ee['lookup']({'method':_0x169dc2[_0x23411c(0x165)],'url':'/test/aa.png','headers':{}},null);}),test(_0x9a15ed(0x12f),_0xd3a4e5=>{const _0x55353c=_0x9a15ed,_0x2a7e8f={'SADQN':_0x55353c(0x166),'YtpAg':function(_0x9ee282,_0x1b1129){return _0x9ee282(_0x1b1129);},'XQSVl':_0x55353c(0x161),'iaKMP':_0x55353c(0x148)};_0xd3a4e5['plan'](0x1);const _0x27789e=_0x2a7e8f[_0x55353c(0x152)](FindMyWay,{'defaultRoute':()=>{const _0x470245=_0x55353c;_0xd3a4e5['ok'](_0x470245(0x15d));}});_0x27789e['on']('GET','/test/:id(^\x5cd+$)',()=>{const _0x51b07b=_0x55353c;_0xd3a4e5['fail'](_0x2a7e8f[_0x51b07b(0x139)]);}),_0xd3a4e5[_0x55353c(0x187)](_0x27789e[_0x55353c(0x170)](_0x55353c(0x143),_0x2a7e8f['XQSVl'],{}),null),new AsyncFunction(_0x2a7e8f[_0x55353c(0x17d)])();}),test('Should\x20check\x20if\x20a\x20regex\x20is\x20safe\x20to\x20use',_0x298956=>{const _0x5130ab=_0x9a15ed,_0x1e4097={'WmHKL':_0x5130ab(0x143),'Zjccw':'MBqZT','YxbKM':'PuLKU','LGTzN':function(_0x31bee3,_0x1c73ed){return _0x31bee3(_0x1c73ed);},'TyNos':function(_0x51ab96,_0x2886aa){return _0x51ab96+_0x2886aa;},'JQKLV':function(_0x14a4cf,_0x31ad8a){return _0x14a4cf(_0x31ad8a);},'kHWYM':function(_0x43e54f){return _0x43e54f();}};_0x298956[_0x5130ab(0x162)](0xd);const _0x274f26=()=>{},_0x5bc988=[/\bOakland\b/,/\b(Oakland|San Francisco)\b/i,/^\d+1337\d+$/i,/^\d+(1337|404)\d+$/i,/^\d+(1337|404)*\d+$/i,_0x1e4097['LGTzN'](RegExp,_0x1e4097[_0x5130ab(0x138)](Array(0x1a)[_0x5130ab(0x144)]('a?'),Array(0x1a)[_0x5130ab(0x144)]('a')))],_0x4cd6a9=[/^(a?){25}(a){25}$/,_0x1e4097[_0x5130ab(0x124)](RegExp,_0x1e4097[_0x5130ab(0x138)](_0x1e4097[_0x5130ab(0x13b)](Array,0x1b)[_0x5130ab(0x144)]('a?'),Array(0x1b)['join']('a'))),/(x+x+)+y/,/foo|(x+x+)+y/,/(a+){10}y/,/(a+){2}y/,/(.*){1,32000}[bc]/],_0x4ecb56=_0x1e4097[_0x5130ab(0x12b)](FindMyWay);_0x5bc988[_0x5130ab(0x151)](_0x2174ae=>{const _0x355215=_0x5130ab;try{_0x4ecb56['on'](_0x1e4097[_0x355215(0x180)],_0x355215(0x12c)+_0x2174ae[_0x355215(0x14e)]()+')',_0x274f26),_0x298956[_0x355215(0x172)]('ok'),_0x4ecb56[_0x355215(0x171)](_0x1e4097[_0x355215(0x180)],_0x355215(0x12c)+_0x2174ae[_0x355215(0x14e)]()+')');}catch(_0x41a4ea){_0x298956[_0x355215(0x153)](_0x41a4ea);}}),_0x4cd6a9['forEach'](_0x10b3e4=>{const _0x41b515=_0x5130ab,_0xce5e0f={'NUQam':_0x41b515(0x15d)};try{_0x4ecb56['on'](_0x41b515(0x143),_0x41b515(0x12c)+_0x10b3e4['toString']()+')',_0x274f26),_0x298956[_0x41b515(0x153)](_0x41b515(0x188));}catch(_0x564c9e){_0x1e4097[_0x41b515(0x179)]!==_0x1e4097[_0x41b515(0x157)]?_0x298956['ok'](_0x564c9e):_0x8237e7[_0x41b515(0x153)](_0xce5e0f[_0x41b515(0x158)]);}});}),test(_0x9a15ed(0x141),_0x11b2b0=>{const _0x5c3920=_0x9a15ed,_0x180242={'AVwAG':'GET','QCVwp':function(_0x3fe7d8,_0x5702d1){return _0x3fe7d8===_0x5702d1;},'vdKfL':function(_0xb9746a,_0x3eaca4){return _0xb9746a+_0x3eaca4;},'fTlPd':function(_0x45800a,_0x479aa3){return _0x45800a(_0x479aa3);},'hpnqD':function(_0x2153d3,_0x5bff33){return _0x2153d3(_0x5bff33);},'eKUAC':function(_0xd59a94,_0xcbe6f1){return _0xd59a94+_0xcbe6f1;}};_0x11b2b0[_0x5c3920(0x162)](0xd);const _0x2b0de3=()=>{},_0x488225=[/\bOakland\b/,/\b(Oakland|San Francisco)\b/i,/^\d+1337\d+$/i,/^\d+(1337|404)\d+$/i,/^\d+(1337|404)*\d+$/i,RegExp(_0x180242['vdKfL'](_0x180242['fTlPd'](Array,0x1a)['join']('a?'),_0x180242[_0x5c3920(0x150)](Array,0x1a)[_0x5c3920(0x144)]('a')))],_0x4a48f1=[/^(a?){25}(a){25}$/,RegExp(_0x180242[_0x5c3920(0x16a)](Array(0x1b)[_0x5c3920(0x144)]('a?'),Array(0x1b)['join']('a'))),/(x+x+)+y/,/foo|(x+x+)+y/,/(a+){10}y/,/(a+){2}y/,/(.*){1,32000}[bc]/],_0x1a129a=FindMyWay({'allowUnsafeRegex':!![]});_0x488225[_0x5c3920(0x151)](_0x4620d9=>{const _0x4266d6=_0x5c3920;try{_0x1a129a['on'](_0x4266d6(0x143),_0x4266d6(0x12c)+_0x4620d9[_0x4266d6(0x14e)]()+')',_0x2b0de3),_0x11b2b0['pass']('ok'),_0x1a129a[_0x4266d6(0x171)](_0x180242[_0x4266d6(0x177)],_0x4266d6(0x12c)+_0x4620d9[_0x4266d6(0x14e)]()+')');}catch(_0x47af95){_0x11b2b0[_0x4266d6(0x153)](_0x47af95);}}),_0x4a48f1[_0x5c3920(0x151)](_0x257b4c=>{const _0x251c34=_0x5c3920,_0x3fbc9b={'bRjus':_0x251c34(0x15d),'Sgcja':'GET','NgUZV':_0x251c34(0x129)};try{_0x1a129a['on']('GET','/test/:id('+_0x257b4c['toString']()+')',_0x2b0de3),_0x11b2b0['pass']('ok'),_0x1a129a[_0x251c34(0x171)](_0x251c34(0x143),_0x251c34(0x12c)+_0x257b4c['toString']()+')');}catch(_0x548c74){if(_0x180242['QCVwp'](_0x251c34(0x14b),_0x251c34(0x14b)))_0x11b2b0[_0x251c34(0x153)](_0x548c74);else{const _0x3b9a55={'NOcJN':_0x3fbc9b[_0x251c34(0x16e)]};_0x2abf80['plan'](0x2);const _0x1f0676=_0x1b1127({'defaultRoute':()=>{const _0x3b1e94=_0x251c34;_0x4a2c41['fail'](_0x3b9a55[_0x3b1e94(0x134)]);}});_0x1f0676['on'](_0x3fbc9b[_0x251c34(0x16d)],_0x3fbc9b[_0x251c34(0x13c)],(_0x2dcaf5,_0x22992b,_0x3b3af1)=>{const _0x70ee43=_0x251c34;_0x16a651[_0x70ee43(0x17a)](_0x3b3af1['id'],'12'),_0x5b34e8['equal'](_0x3b3af1['world'],'15');}),_0x1f0676['lookup']({'method':_0x3fbc9b[_0x251c34(0x16d)],'url':_0x251c34(0x163),'headers':{}},null);}}});});