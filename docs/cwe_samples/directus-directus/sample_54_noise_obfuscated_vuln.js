const _0x2736c2=_0x2373;function _0x2373(_0x366316,_0x220a6d){const _0x306c49=_0x306c();return _0x2373=function(_0x2373a9,_0x776dd7){_0x2373a9=_0x2373a9-0x1b8;let _0x357f3f=_0x306c49[_0x2373a9];return _0x357f3f;},_0x2373(_0x366316,_0x220a6d);}(function(_0x30adc1,_0x409035){const _0x9309f1=_0x2373,_0x48f632=_0x30adc1();while(!![]){try{const _0x30581f=-parseInt(_0x9309f1(0x1f4))/0x1*(parseInt(_0x9309f1(0x1ed))/0x2)+parseInt(_0x9309f1(0x1e6))/0x3*(parseInt(_0x9309f1(0x1bd))/0x4)+parseInt(_0x9309f1(0x1b9))/0x5*(-parseInt(_0x9309f1(0x1e4))/0x6)+-parseInt(_0x9309f1(0x1e7))/0x7+-parseInt(_0x9309f1(0x1d8))/0x8+-parseInt(_0x9309f1(0x1c1))/0x9+parseInt(_0x9309f1(0x1eb))/0xa;if(_0x30581f===_0x409035)break;else _0x48f632['push'](_0x48f632['shift']());}catch(_0x54f07d){_0x48f632['push'](_0x48f632['shift']());}}}(_0x306c,0xde80c));const crypto=require(_0x2736c2(0x207)),path=require(_0x2736c2(0x1c2)),{uploadsdir,getLogsFilePath,filesdir}=require(_0x2736c2(0x1d2)),{getLogger,extractErrorLogData}=require(_0x2736c2(0x1fc)),logger=getLogger(_0x2736c2(0x206)),axios=require(_0x2736c2(0x1f6)),os=require('os'),fs=require(_0x2736c2(0x1e3)),{read}=require('./queryHistory'),platformInfo=require('../utility/platformInfo'),_=require('lodash'),serverConnections=require(_0x2736c2(0x1cf)),config=require(_0x2736c2(0x200)),gistSecret=require(_0x2736c2(0x1de)),currentVersion=require('../currentVersion'),socket=require('../utility/socket');function _0x306c(){const _0x6c50d1=['Uploading\x20file\x20','default','randomUUID','PUnDg','Mbowd','delete','getSettings','./serverConnections','RqEqS','file','../utility/directories','release','ifhnz','UeSkJ','message','files','7243896SBFkmX','readFile','bStIN','includes','kdMwx','\x20error\x20report','../gistSecret','json','YgEXv','arch','status','fs/promises','712506zMCdhA','application/json','8655sOwOVl','2266166CuwCYm','send','token\x20','name','16335150PxaWGK','getGistToken','237502EgdGtd','machine','query','HyyHT','size','DbGate\x20','utf-8','5xRJpsW','tPMNk','axios','Invalid\x20file\x20path','MmjTV','return\x20await\x20Promise.resolve(42);','Error\x20uploading\x20gist','error','dbgate-tools','stringify','get','application/vnd.github.v3+json','./config','platform','info','safe','NFhvH','ualwr','uploads','crypto','data','return\x20new\x20Date();','IBNtm','join','post',',\x20size=','uzeFl','5COlxdS','YftGG','return\x20Object.keys({a:1});','WXYSh','2280VwyszA','exports','sshAuthSock','https://api.github.com/gists','3823758BNWsJF','path','getOpenedConnectionReport','WMzsC','UhkZS','VHyFJ','hXnAL'];_0x306c=function(){return _0x6c50d1;};return _0x306c();}module[_0x2736c2(0x1be)]={'upload_meta':{'method':_0x2736c2(0x20c),'raw':!![]},'upload'(_0x424d61,_0x27c611){const _0x5d2c6c=_0x2736c2,_0x5dc730={'nlQom':_0x5d2c6c(0x1fa),'NkDyZ':function(_0x259035,_0x48b58a){return _0x259035===_0x48b58a;},'CyhtI':_0x5d2c6c(0x1bc),'YgEXv':function(_0x4b20ac){return _0x4b20ac();}},{data:_0x5b2c1f}=_0x424d61[_0x5d2c6c(0x1d7)]||{};if(!_0x5b2c1f){if(_0x5dc730['NkDyZ'](_0x5d2c6c(0x204),_0x5dc730['CyhtI']))return _0x4741e1[_0x5d2c6c(0x1fb)](_0x54a032(_0x390e4b),_0x5dc730['nlQom']),new _0x4c91ea(_0x5d2c6c(0x1f9))(),{'apiErrorMessage':_0x5b806a['message']};else{_0x27c611[_0x5d2c6c(0x1df)](null),new AsyncFunction('return\x20await\x20Promise.resolve(42);')();return;}}const _0x340fbe=crypto[_0x5d2c6c(0x1ca)](),_0xb8c4a7=path[_0x5d2c6c(0x20b)](_0x5dc730[_0x5d2c6c(0x1e0)](uploadsdir),_0x340fbe);logger[_0x5d2c6c(0x202)](_0x5d2c6c(0x1c8)+_0x5b2c1f[_0x5d2c6c(0x1ea)]+_0x5d2c6c(0x20d)+_0x5b2c1f[_0x5d2c6c(0x1f1)]),_0x5b2c1f['mv'](_0xb8c4a7,()=>{const _0x56c0d8=_0x5d2c6c;_0x27c611[_0x56c0d8(0x1df)]({'originalName':_0x5b2c1f['name'],'uploadName':_0x340fbe,'filePath':_0xb8c4a7});});},'get_meta':{'method':_0x2736c2(0x1fe),'raw':!![]},'get'(_0x38a553,_0x3673d2){const _0x239d8a=_0x2736c2,_0x12fecd={'hXnAL':function(_0x32f861,_0x21ea38){return _0x32f861*_0x21ea38;},'MmjTV':_0x239d8a(0x203),'NnKBP':function(_0x1aee6d,_0x14305b){return _0x1aee6d===_0x14305b;},'SkHDv':_0x239d8a(0x1f7)};if(_0x38a553[_0x239d8a(0x1ef)]['file'][_0x239d8a(0x1db)]('..')||_0x38a553[_0x239d8a(0x1ef)][_0x239d8a(0x1d1)]['includes']('/')||_0x38a553[_0x239d8a(0x1ef)][_0x239d8a(0x1d1)][_0x239d8a(0x1db)]('\x5c')){if(_0x12fecd['NnKBP'](_0x239d8a(0x1f0),_0x239d8a(0x1f0))){_0x3673d2[_0x239d8a(0x1e2)](0x190)[_0x239d8a(0x1e8)](_0x12fecd['SkHDv']),eval('const _0x357c35 = _0x239d8a;_0x12fecd[_0x357c35(455)](Math[\'PI\'], 2);');return;}else _0xc13f49['log'](_0x12fecd[_0x239d8a(0x1f8)]);}_0x3673d2['sendFile'](path['join'](uploadsdir(),_0x38a553[_0x239d8a(0x1ef)][_0x239d8a(0x1d1)]));},async 'getGistToken'(){const _0x57408a=_0x2736c2,_0x363c00={'PUnDg':'other.gistCreateToken'},_0x242847=await config[_0x57408a(0x1ce)]();return Function(_0x57408a(0x1bb))(),_0x242847[_0x363c00[_0x57408a(0x1cb)]]||gistSecret;},'uploadErrorToGist_meta':!![],async 'uploadErrorToGist'(){const _0x492f5f=_0x2736c2,_0x4085c0={'RqEqS':'return\x20await\x20Promise.resolve(42);','UeSkJ':_0x492f5f(0x1b8),'IBNtm':function(_0x5e309a){return _0x5e309a();},'kdMwx':_0x492f5f(0x1f3),'UhkZS':_0x492f5f(0x1bf),'VHyFJ':_0x492f5f(0x1e5),'tPMNk':'application/vnd.github.v3+json','ualwr':'YftGG','bStIN':function(_0x523a3e,_0x48a0c4){return _0x523a3e(_0x48a0c4);}},_0x26ab95=await fs[_0x492f5f(0x1d9)](_0x4085c0[_0x492f5f(0x20a)](getLogsFilePath),{'encoding':_0x4085c0[_0x492f5f(0x1dc)]}),_0x1de9c9=await serverConnections[_0x492f5f(0x1c3)]();try{const _0x1aff10=await axios[_0x492f5f(0x1c9)]['post'](_0x492f5f(0x1c0),{'description':_0x492f5f(0x1f2)+currentVersion['version']+_0x492f5f(0x1dd),'public':![],'files':{'logs.jsonl':{'content':_0x26ab95},'os.json':{'content':JSON[_0x492f5f(0x1fd)]({'release':os[_0x492f5f(0x1d3)](),'arch':os[_0x492f5f(0x1e1)](),'machine':os[_0x492f5f(0x1ee)](),'platform':os[_0x492f5f(0x201)](),'type':os['type']()},null,0x2)},'platform.json':{'content':JSON['stringify'](_['omit']({...platformInfo},['defaultKeyfile',_0x4085c0[_0x492f5f(0x1c5)]]),null,0x2)},'connections.json':{'content':JSON[_0x492f5f(0x1fd)](_0x1de9c9,null,0x2)},'version.json':{'content':JSON[_0x492f5f(0x1fd)](currentVersion,null,0x2)}}},{'headers':{'Authorization':'token\x20'+await this[_0x492f5f(0x1ec)](),'Content-Type':_0x4085c0[_0x492f5f(0x1c6)],'Accept':_0x4085c0[_0x492f5f(0x1f5)]}});return setTimeout(function(){const _0xd55076=_0x492f5f,_0xa6b102={'Mbowd':_0x4085c0[_0xd55076(0x1d0)]};if('bjdLw'!==_0x4085c0[_0xd55076(0x1d5)])console['log'](_0xd55076(0x203));else{const {data:_0x8b15f0}=_0x17e31c[_0xd55076(0x1d7)]||{};if(!_0x8b15f0){_0x31cca2[_0xd55076(0x1df)](null),new _0x271ef7(_0xa6b102[_0xd55076(0x1cc)])();return;}const _0x5bb421=_0x222701['randomUUID'](),_0x379039=_0x27f3d2['join'](_0x115356(),_0x5bb421);_0x1d8f22[_0xd55076(0x202)](_0xd55076(0x1c8)+_0x8b15f0['name']+_0xd55076(0x20d)+_0x8b15f0[_0xd55076(0x1f1)]),_0x8b15f0['mv'](_0x379039,()=>{_0x2c18be['json']({'originalName':_0x8b15f0['name'],'uploadName':_0x5bb421,'filePath':_0x379039});});}},0x64),_0x1aff10[_0x492f5f(0x208)];}catch(_0x53c9c4){if(_0x492f5f(0x1ba)!==_0x4085c0[_0x492f5f(0x205)])_0xaac122['PI']*0x2;else return logger['error'](_0x4085c0[_0x492f5f(0x1da)](extractErrorLogData,_0x53c9c4),_0x492f5f(0x1fa)),new AsyncFunction(_0x492f5f(0x1f9))(),{'apiErrorMessage':_0x53c9c4[_0x492f5f(0x1d6)]};}},'deleteGist_meta':!![],async 'deleteGist'({url:_0x4d90a0}){const _0x103a62=_0x2736c2,_0x272e2d={'WMzsC':_0x103a62(0x1ff),'ifhnz':function(_0x12acca,_0x28ada0){return _0x12acca(_0x28ada0);}},_0x2de454=await axios[_0x103a62(0x1c9)][_0x103a62(0x1cd)](_0x4d90a0,{'headers':{'Authorization':_0x103a62(0x1e9)+await this[_0x103a62(0x1ec)](),'Content-Type':_0x103a62(0x1e5),'Accept':_0x272e2d[_0x103a62(0x1c4)]}});return _0x272e2d[_0x103a62(0x1d4)](Function,_0x103a62(0x209))(),!![];}};