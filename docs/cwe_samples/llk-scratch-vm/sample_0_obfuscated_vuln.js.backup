function _0x7426(){const _0x4603c2=['1255chtkjl','7244eVaila','concat','HzhOI','dataset','kzJTY','tracker-report-query-undisplayed','@comments','tracker-report-expert-query-button','report','184DXAOEL','XUniJ','kuhQx','getElementById','?func=','18858610EllXcN','add','tracker-report-expert-query-textarea','setHasChanged','querySelector','click','form','insertAdjacentElement','allowedFields','tracker-report-expert-query','tracker-report-normal-query','classList','contains','McLWA','afterend','htOpW','160437BEsZoD','VrUBS','MfBWD','PfXBJ','SpSRZ','value','muYZo','doc','state','21hIFzYG','search','yeBGV','436202HbyojK','href','476256lyywIT','108603hCsRUg','parse','store-normal-mode','XcDzL','submit','store-expert-mode','jQiKO','720834GJEtBg','button[name=\x22tracker_expert_query_submit\x22]','toString','TAzOA'];_0x7426=function(){return _0x4603c2;};return _0x7426();}(function(_0x53ff59,_0x14d7a9){const _0x175726=_0x4bd0,_0xf0526d=_0x53ff59();while(!![]){try{const _0x1b93c5=-parseInt(_0x175726(0xc1))/0x1+-parseInt(_0x175726(0xcd))/0x2+-parseInt(_0x175726(0xcf))/0x3+parseInt(_0x175726(0xdc))/0x4*(-parseInt(_0x175726(0xdb))/0x5)+parseInt(_0x175726(0xd7))/0x6*(-parseInt(_0x175726(0xca))/0x7)+-parseInt(_0x175726(0xe5))/0x8*(parseInt(_0x175726(0xd0))/0x9)+parseInt(_0x175726(0xea))/0xa;if(_0x1b93c5===_0x14d7a9)break;else _0xf0526d['push'](_0xf0526d['shift']());}catch(_0x57fc7f){_0xf0526d['push'](_0xf0526d['shift']());}}}(_0x7426,0x3e834));import _0x3ea392 from'codendi';import{post}from'@tuleap/tlp-fetch';import{buildTQLEditor,buildParserDefinition,insertAllowedFieldInCodeMirror,TQL_autocomplete_keywords}from'@tuleap/plugin-tracker-tql-codemirror';function _0x4bd0(_0x370ffa,_0x3563bd){const _0x742692=_0x7426();return _0x4bd0=function(_0x4bd094,_0x2df3fd){_0x4bd094=_0x4bd094-0xb5;let _0x3386e9=_0x742692[_0x4bd094];return _0x3386e9;},_0x4bd0(_0x370ffa,_0x3563bd);}let query_rich_editor=null;export function init(){const _0xee81eb=_0x4bd0,_0x30c210={'SpSRZ':function(_0x1a4777){return _0x1a4777();},'MfBWD':function(_0x11d077){return _0x11d077();}};_0x30c210[_0xee81eb(0xc5)](initializeTrackerReportQuery),_0x30c210[_0xee81eb(0xc3)](initializeTrackerReportAllowedFields),initializeCodeMirror();}function initializeTrackerReportQuery(){const _0x4579cc=_0x4bd0,_0x42dad9={'PfXBJ':_0x4579cc(0xe1),'IHlvb':function(_0x3c9aec,_0x204670){return _0x3c9aec(_0x204670);},'HzhOI':'tracker-report-normal-query-button','McLWA':'tracker-report-expert-query','TAzOA':function(_0x5581ea,_0x36020a){return _0x5581ea||_0x36020a;},'muYZo':_0x4579cc(0xb6)},_0x40106f=document[_0x4579cc(0xe8)](_0x4579cc(0xe3)),_0x342b97=document[_0x4579cc(0xe8)](_0x42dad9[_0x4579cc(0xde)]),_0x230c93=document[_0x4579cc(0xe8)](_0x42dad9[_0x4579cc(0xbe)]),_0x35f4a5=document[_0x4579cc(0xe8)](_0x4579cc(0xbb));if(_0x42dad9[_0x4579cc(0xda)](!_0x40106f,!_0x342b97)||!_0x230c93||!_0x35f4a5)return;_0x40106f['addEventListener'](_0x42dad9[_0x4579cc(0xc7)],()=>{const _0x2bf719=_0x4579cc;_0x35f4a5[_0x2bf719(0xbc)]['add'](_0x42dad9[_0x2bf719(0xc4)]),_0x230c93[_0x2bf719(0xbc)]['remove'](_0x2bf719(0xe1)),codeMirrorifyQueryArea(),_0x42dad9['IHlvb'](sendRequestNewMode,_0x2bf719(0xd5));}),_0x342b97['addEventListener'](_0x4579cc(0xb6),()=>{const _0x749fd5=_0x4579cc;_0x35f4a5[_0x749fd5(0xbc)]['remove'](_0x749fd5(0xe1)),_0x230c93['classList'][_0x749fd5(0xeb)](_0x42dad9[_0x749fd5(0xc4)]),sendRequestNewMode(_0x749fd5(0xd2));});}function initializeTrackerReportAllowedFields(){const _0x4939d5=_0x4bd0,_0x16956e=document[_0x4939d5(0xe8)]('allowed-fields');if(!_0x16956e)return;_0x16956e['addEventListener']('click',_0x231ee4=>insertAllowedFieldInCodeMirror(_0x231ee4,query_rich_editor));}async function sendRequestNewMode(_0x146b82){const _0x58d441=_0x4bd0,_0x38b6df={'yeBGV':function(_0x289045,_0x4b6cf3){return _0x289045+_0x4b6cf3;},'kuhQx':_0x58d441(0xe9),'MObIQ':function(_0x16c33e,_0x4a23d6){return _0x16c33e(_0x4a23d6);}};let _0x3147f6=_0x38b6df['yeBGV'](location[_0x58d441(0xce)]+'&func=',_0x146b82);location[_0x58d441(0xcb)]===''&&(_0x3147f6=_0x38b6df[_0x58d441(0xcc)](_0x38b6df[_0x58d441(0xcc)](location[_0x58d441(0xce)],_0x38b6df[_0x58d441(0xe7)]),_0x146b82)),await _0x38b6df['MObIQ'](post,_0x3147f6),_0x3ea392['tracker'][_0x58d441(0xe4)][_0x58d441(0xed)]();}function initializeCodeMirror(){const _0x2d6453=_0x4bd0,_0x3e041f={'kzJTY':_0x2d6453(0xba),'RKlZx':function(_0x40ac0c){return _0x40ac0c();}},_0x24f7d5=document[_0x2d6453(0xe8)](_0x3e041f[_0x2d6453(0xe0)]);if(!_0x24f7d5)return;!_0x24f7d5[_0x2d6453(0xbc)][_0x2d6453(0xbd)](_0x2d6453(0xe1))&&_0x3e041f['RKlZx'](codeMirrorifyQueryArea);}function codeMirrorifyQueryArea(){const _0x2a89b3=_0x4bd0,_0x3fe1b7={'jQiKO':_0x2a89b3(0xec),'XcDzL':function(_0x571aaf,_0x2e08a8,_0x1c034a,_0x55dc10,_0x76cbca,_0x34528b){return _0x571aaf(_0x2e08a8,_0x1c034a,_0x55dc10,_0x76cbca,_0x34528b);},'VrUBS':function(_0x26d8dc,_0xe4a963){return _0x26d8dc(_0xe4a963);},'XUniJ':_0x2a89b3(0xe2),'HZrrU':_0x2a89b3(0xd4)};if(query_rich_editor!==null)return;const _0x13a8f8=document[_0x2a89b3(0xe8)](_0x3fe1b7[_0x2a89b3(0xd6)]),_0x55d23f=JSON[_0x2a89b3(0xd1)](_0x13a8f8[_0x2a89b3(0xdf)][_0x2a89b3(0xb9)]),_0x18f611=TQL_autocomplete_keywords[_0x2a89b3(0xdd)](_0x55d23f);query_rich_editor=_0x3fe1b7[_0x2a89b3(0xd3)](buildTQLEditor,{'autocomplete':_0x18f611,'parser_definition':_0x3fe1b7[_0x2a89b3(0xc2)](buildParserDefinition,[_0x3fe1b7[_0x2a89b3(0xe6)]])},_0x13a8f8['placeholder'],_0x13a8f8[_0x2a89b3(0xc6)],submitFormCallback,null),_0x13a8f8[_0x2a89b3(0xb8)](_0x2a89b3(0xbf),query_rich_editor['dom']),_0x13a8f8[_0x2a89b3(0xb7)]?.['addEventListener'](_0x3fe1b7['HZrrU'],function(){const _0x14a845=_0x2a89b3;_0x13a8f8[_0x14a845(0xc6)]=query_rich_editor[_0x14a845(0xc9)][_0x14a845(0xc8)][_0x14a845(0xd9)]();});}function submitFormCallback(){const _0x43625e=_0x4bd0,_0x2e3be6={'htOpW':_0x43625e(0xd8)};document[_0x43625e(0xb5)](_0x2e3be6[_0x43625e(0xc0)])['click']();}