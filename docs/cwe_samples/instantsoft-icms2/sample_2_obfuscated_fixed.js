const _0x347b87=_0x56cd;(function(_0x2a7d55,_0x4ab592){const _0x595746=_0x56cd,_0x370394=_0x2a7d55();while(!![]){try{const _0x5c2a15=parseInt(_0x595746(0x12f))/0x1+parseInt(_0x595746(0x122))/0x2*(-parseInt(_0x595746(0x103))/0x3)+-parseInt(_0x595746(0x135))/0x4*(-parseInt(_0x595746(0x14b))/0x5)+parseInt(_0x595746(0x110))/0x6+parseInt(_0x595746(0x127))/0x7+parseInt(_0x595746(0xf8))/0x8+-parseInt(_0x595746(0x149))/0x9;if(_0x5c2a15===_0x4ab592)break;else _0x370394['push'](_0x370394['shift']());}catch(_0xb8f71f){_0x370394['push'](_0x370394['shift']());}}}(_0x3890,0x7489a));const core=require(_0x347b87(0x112)),command=require(_0x347b87(0xfa)),got=require('got')[_0x347b87(0x102)],jsonata=require('jsonata'),{auth:{retrieveToken},secrets:{getSecrets}}=require('./index'),AUTH_METHODS=['approle',_0x347b87(0x13c),_0x347b87(0x104),_0x347b87(0x14c)];function _0x3890(){const _0x7fecde=['method','setOutput','caCertificate','certificate','NoPZj','tzzcN','lastIndexOf','UEhhT','IZjmP','string','qyEqO','944200HNhrRG','ZTMDy','@actions/core/lib/command','eHJob','VAULT_TOKEN','RxwRC','clientCertificate','clientKey','You\x20must\x20provide\x20a\x20name\x20for\x20the\x20output\x20key\x20when\x20using\x20json\x20selectors.\x20Input:\x20\x22','reQax','default','6QSBXdX','github','teIVH','join','DOMNa','extend','IDKIX','X-Vault-Namespace','split','push','QLuNi','aCYZH','add-mask','3887412UYmjIy','cdVbO','@actions/core','XwFID','DLVhV','TCQJj','ulJlO','vyfDV','issue','path','wglGP','X-Vault-Token','kbKEE','steps','zGiPB','fByfS','pQRbL','IKplM','758316gSnERk','exportToken','map','NSyzP','indexOf','390299ryYjth','ykcUQ','UsKCt','uqKXm','ekgTn','authPayload','exports','replace','304471KhiKBv','ETdkB','has','type','envVarName','secrets','777412FMwESh','outputVarName','Mzqhw','filter','toString','\x20is\x20not\x20currently\x20supported\x20and\x20no\x20custom\x20authPayload\x20was\x20provided.','ZaHcD','token','https','get','false','lWzqp','exportVariable','headers','base64','Sorry,\x20the\x20provided\x20authentication\x20method\x20','getInput','ast','debug','uTHXY','763686IPWBzM','qdFgO','5MtgBfy','jwt','set','from','url','rejectUnauthorized','bLfUj','trim','BJqTk','toUpperCase','\x20=>\x20outputs.','stages','Azkvt','substring','toLowerCase','sIdmu','fiGgU','DZdWy','namespace','length','reduce'];_0x3890=function(){return _0x7fecde;};return _0x3890();}async function exportSecrets(){const _0x57a20a=_0x347b87,_0x40ebd6={'HvkrQ':function(_0x4f6c9e,_0xb25dcf){return _0x4f6c9e+_0xb25dcf;},'sIdmu':'extraHeaders','ekgTn':function(_0x5bd28a,_0x1c6742){return _0x5bd28a!=_0x1c6742;},'IDKIX':_0x57a20a(0x13f),'teIVH':_0x57a20a(0x134),'eHJob':_0x57a20a(0x12c),'zGiPB':function(_0x2b2ad5,_0xf76f4){return _0x2b2ad5===_0xf76f4;},'ETdkB':_0x57a20a(0xf1),'bLfUj':_0x57a20a(0xef),'UEhhT':_0x57a20a(0x143),'vyfDV':_0x57a20a(0xfe),'ZTMDy':_0x57a20a(0xff),'NSyzP':_0x57a20a(0x114),'hkVow':function(_0x4ac25d,_0xa5654,_0x3d69b2){return _0x4ac25d(_0xa5654,_0x3d69b2);},'UsKCt':'ℹ\x20using\x20cached\x20response','IZjmP':function(_0x344ceb,_0x328cc1){return _0x344ceb>_0x328cc1;},'qdFgO':_0x57a20a(0x10f)},_0x4bc7ff=core[_0x57a20a(0x145)](_0x57a20a(0x14f),{'required':!![]}),_0x43c3ea=core[_0x57a20a(0x145)](_0x57a20a(0xea),{'required':![]}),_0x27ef96=parseHeadersInput(_0x40ebd6[_0x57a20a(0xe7)],{'required':![]}),_0x5bd8e4=_0x40ebd6['ekgTn'](core['getInput']('exportEnv',{'required':![]}),_0x40ebd6[_0x57a20a(0x109)]),_0x53b406=_0x40ebd6[_0x57a20a(0x12b)]((core[_0x57a20a(0x145)](_0x57a20a(0x123),{'required':![]})||_0x57a20a(0x13f))[_0x57a20a(0xe6)](),_0x57a20a(0x13f)),_0x8a23e6=core[_0x57a20a(0x145)](_0x40ebd6[_0x57a20a(0x105)],{'required':!![]}),_0x32a0aa=parseSecretsInput(_0x8a23e6),_0x314c90=(core[_0x57a20a(0x145)](_0x57a20a(0xed),{'required':![]})||_0x57a20a(0x13c))[_0x57a20a(0xe6)](),_0x552f1d=core[_0x57a20a(0x145)](_0x40ebd6[_0x57a20a(0xfb)],{'required':![]});if(!AUTH_METHODS['includes'](_0x314c90)&&!_0x552f1d)throw Error(_0x57a20a(0x144)+_0x314c90+_0x57a20a(0x13a));const _0x88325c={'prefixUrl':_0x4bc7ff,'headers':{},'https':{}},_0x379280=_0x40ebd6[_0x57a20a(0x12b)]((core['getInput']('tlsSkipVerify',{'required':![]})||_0x57a20a(0x13f))[_0x57a20a(0xe6)](),'false');_0x379280===!![]&&(_0x40ebd6[_0x57a20a(0x11e)]('RYcUC',_0x40ebd6[_0x57a20a(0x130)])?_0x410859[_0x57a20a(0x141)](_0x514bfa['envVarName'],''+_0x1d32a2):_0x88325c['https'][_0x57a20a(0x150)]=![]);const _0x313370=core[_0x57a20a(0x145)](_0x40ebd6[_0x57a20a(0xde)],{'required':![]});_0x313370!=null&&(_0x57a20a(0xe8)!==_0x57a20a(0xe8)?_0x12e720[_0x57a20a(0x14d)](_0x483702,_0x36caee):_0x88325c[_0x57a20a(0x13d)]['certificateAuthority']=Buffer[_0x57a20a(0x14e)](_0x313370,_0x40ebd6[_0x57a20a(0xf4)])[_0x57a20a(0x139)]());const _0xf7918a=core[_0x57a20a(0x145)](_0x40ebd6[_0x57a20a(0x117)],{'required':![]});if(_0xf7918a!=null){if(_0x40ebd6[_0x57a20a(0x11e)](_0x57a20a(0x12a),_0x57a20a(0x12a)))_0x88325c[_0x57a20a(0x13d)][_0x57a20a(0xf0)]=Buffer['from'](_0xf7918a,_0x57a20a(0x143))[_0x57a20a(0x139)]();else throw _0x36020f(_0x57a20a(0x100)+_0x422f5c+'\x22');}const _0x530813=core['getInput'](_0x40ebd6[_0x57a20a(0xf9)],{'required':![]});_0x40ebd6[_0x57a20a(0x12b)](_0x530813,null)&&(_0x88325c['https']['key']=Buffer[_0x57a20a(0x14e)](_0x530813,_0x57a20a(0x143))[_0x57a20a(0x139)]());for(const [_0x4ac824,_0x5db66c]of _0x27ef96){_0x88325c[_0x57a20a(0x142)][_0x4ac824]=_0x5db66c;}_0x40ebd6[_0x57a20a(0x12b)](_0x43c3ea,null)&&(_0x88325c[_0x57a20a(0x142)][_0x57a20a(0x10a)]=_0x43c3ea);const _0x16a550=await retrieveToken(_0x314c90,got['extend'](_0x88325c));_0x88325c[_0x57a20a(0x142)][_0x57a20a(0x11b)]=_0x16a550;const _0x257ee0=got[_0x57a20a(0x108)](_0x88325c);if(_0x53b406===!![]){if(_0x40ebd6[_0x57a20a(0x11e)](_0x40ebd6[_0x57a20a(0x125)],_0x40ebd6['NSyzP']))command[_0x57a20a(0x118)](_0x57a20a(0x10f),_0x16a550),core[_0x57a20a(0x141)](_0x57a20a(0xfc),''+_0x16a550);else{let _0x4465ad=_0x4afc8a['replace']('.','__')[_0x57a20a(0x12e)](new _0xaf17d3('-','g'),'')[_0x57a20a(0x12e)](/[^\p{L}\p{N}_-]/gu,'');return _0x215c96&&(_0x4465ad=_0x4465ad[_0x57a20a(0xe1)]()),_0x4465ad;}}const _0x49af35=_0x32a0aa[_0x57a20a(0x124)](_0x3d2008=>{const {path:_0x35fdd6,selector:_0x3ac6ee}=_0x3d2008;return _0x3d2008;}),_0x103670=await _0x40ebd6['hkVow'](getSecrets,_0x49af35,_0x257ee0);for(const _0x1ed454 of _0x103670){const {value:_0x3f1cdc,request:_0x3f5191,cachedResponse:_0x5a088d}=_0x1ed454;if(_0x5a088d){if(_0x57a20a(0x11f)!=='fByfS'){const _0xa8ed73=_0x302b05['indexOf'](':'),_0x176b9a=_0x1f4c07[_0x57a20a(0xe5)](0x0,_0xa8ed73)['trim']()[_0x57a20a(0xe6)](),_0xf72cbc=_0x2f50bb[_0x57a20a(0xe5)](_0x40ebd6['HvkrQ'](_0xa8ed73,0x1))['trim']();return _0x293c25[_0x57a20a(0x131)](_0x176b9a)?_0x12e4f6[_0x57a20a(0x14d)](_0x176b9a,[_0x12169e[_0x57a20a(0x13e)](_0x176b9a),_0xf72cbc][_0x57a20a(0x106)](',\x20')):_0x3603e7[_0x57a20a(0x14d)](_0x176b9a,_0xf72cbc),_0x1aa504;}else core[_0x57a20a(0x147)](_0x40ebd6[_0x57a20a(0x129)]);}for(const _0x10f6a8 of _0x3f1cdc[_0x57a20a(0x12e)](/\r/g,'')[_0x57a20a(0x10b)]('\x0a')){_0x40ebd6[_0x57a20a(0xf5)](_0x10f6a8[_0x57a20a(0xeb)],0x0)&&command['issue'](_0x40ebd6[_0x57a20a(0x14a)],_0x10f6a8);}_0x5bd8e4&&core[_0x57a20a(0x141)](_0x3f5191[_0x57a20a(0x133)],''+_0x3f1cdc),core[_0x57a20a(0xee)](_0x3f5191[_0x57a20a(0x136)],''+_0x3f1cdc),core[_0x57a20a(0x147)]('✔\x20'+_0x3f5191['path']+_0x57a20a(0xe2)+_0x3f5191[_0x57a20a(0x136)]+(_0x5bd8e4?'\x20|\x20env.'+_0x3f5191[_0x57a20a(0x133)]:''));}};function parseSecretsInput(_0x2d4fd6){const _0x5394a1=_0x347b87,_0x1628ef={'QLuNi':function(_0x52a1fc,_0x35dda7){return _0x52a1fc+_0x35dda7;},'lWzqp':function(_0x5e0352,_0xb3b686){return _0x5e0352<_0xb3b686;},'tzzcN':function(_0x4229d9,_0x167ced,_0x105a98){return _0x4229d9(_0x167ced,_0x105a98);},'IKplM':_0x5394a1(0x10f),'TCQJj':function(_0x3afb50,_0x352b1b){return _0x3afb50===_0x352b1b;},'wglGP':_0x5394a1(0xf7),'ulJlO':function(_0x5e4920,_0x5a9ef5){return _0x5e4920>_0x5a9ef5;},'DZdWy':function(_0x51ed67,_0x4e2591){return _0x51ed67!==_0x4e2591;},'aCYZH':_0x5394a1(0x111),'ZaHcD':_0x5394a1(0x120),'Azkvt':function(_0x2834a9,_0x2b0eb5){return _0x2834a9(_0x2b0eb5);},'RxwRC':_0x5394a1(0xe0)},_0x540a9b=_0x2d4fd6[_0x5394a1(0x10b)](';')[_0x5394a1(0x138)](_0x2684bb=>!!_0x2684bb)[_0x5394a1(0x124)](_0x5b7326=>_0x5b7326[_0x5394a1(0xdf)]())[_0x5394a1(0x138)](_0x6fd7a=>_0x6fd7a[_0x5394a1(0xeb)]!==0x0),_0x39eee6=[];for(const _0x119526 of _0x540a9b){if(_0x1628ef[_0x5394a1(0x115)](_0x5394a1(0x107),_0x1628ef[_0x5394a1(0x11a)])){_0x211e8a=_0x5736b7[_0x5394a1(0xe5)](0x0,_0x1e049f)[_0x5394a1(0xdf)](),_0x5178c9=_0x241506[_0x5394a1(0xe5)](_0x1628ef[_0x5394a1(0x10d)](_0x4e82d2,0x1))[_0x5394a1(0xdf)]();if(_0x1628ef[_0x5394a1(0x140)](_0x31bd6d[_0x5394a1(0xeb)],0x1))throw _0x3ceff1('You\x20must\x20provide\x20a\x20value\x20when\x20mapping\x20a\x20secret\x20to\x20a\x20name.\x20Input:\x20\x22'+_0x3f1554+'\x22');}else{let _0x28c1d8=_0x119526,_0x5d4a36=null;const _0x2d0e5a=_0x119526[_0x5394a1(0xf3)]('|');if(_0x1628ef[_0x5394a1(0x116)](_0x2d0e5a,-0x1)){_0x28c1d8=_0x119526[_0x5394a1(0xe5)](0x0,_0x2d0e5a)[_0x5394a1(0xdf)](),_0x5d4a36=_0x119526[_0x5394a1(0xe5)](_0x1628ef[_0x5394a1(0x10d)](_0x2d0e5a,0x1))[_0x5394a1(0xdf)]();if(_0x1628ef[_0x5394a1(0x140)](_0x5d4a36['length'],0x1)){if(_0x1628ef['DZdWy'](_0x1628ef[_0x5394a1(0x10e)],_0x5394a1(0x128)))throw Error('You\x20must\x20provide\x20a\x20value\x20when\x20mapping\x20a\x20secret\x20to\x20a\x20name.\x20Input:\x20\x22'+_0x119526+'\x22');else _0x13b321=_0x58774d(_0xac2d28),_0x52648c=_0x1628ef[_0x5394a1(0xf2)](_0x581788,_0x34c1d6,!![]);}}const _0x54358d=_0x28c1d8[_0x5394a1(0x10b)](/\s+/)['map'](_0x5bfdc6=>_0x5bfdc6[_0x5394a1(0xdf)]())['filter'](_0x15c179=>_0x15c179[_0x5394a1(0xeb)]!==0x0);if(_0x54358d['length']!==0x2){if(_0x1628ef[_0x5394a1(0x13b)]!==_0x5394a1(0x11c))throw Error('You\x20must\x20provide\x20a\x20valid\x20path\x20and\x20key.\x20Input:\x20\x22'+_0x119526+'\x22');else _0x5a6cc3[_0x5394a1(0x142)][_0x5394a1(0x10a)]=_0x4aba2a;}const [_0x5049ad,_0x58c828]=_0x54358d,_0x5084aa=_0x1628ef[_0x5394a1(0xe4)](jsonata,_0x58c828)[_0x5394a1(0x146)](),_0x5a0185=_0x58c828['replace'](new RegExp('\x22','g'),'');if((_0x1628ef[_0x5394a1(0xe9)](_0x5084aa[_0x5394a1(0x132)],_0x5394a1(0x119))||_0x5084aa[_0x5394a1(0x11d)][0x0][_0x5394a1(0xe3)])&&_0x5084aa['type']!==_0x5394a1(0xf6)&&!_0x5d4a36){if(_0x1628ef[_0x5394a1(0xfd)]===_0x5394a1(0xe0))throw Error(_0x5394a1(0x100)+_0x119526+'\x22');else _0x2e36d9[_0x5394a1(0xeb)]>0x0&&_0x227f04[_0x5394a1(0x118)](_0x1628ef[_0x5394a1(0x121)],_0x62f29f);}let _0x2c08ae=_0x5d4a36;!_0x5d4a36&&(_0x5d4a36=normalizeOutputKey(_0x5a0185),_0x2c08ae=_0x1628ef[_0x5394a1(0xf2)](normalizeOutputKey,_0x5a0185,!![])),_0x39eee6[_0x5394a1(0x10c)]({'path':_0x5049ad,'envVarName':_0x2c08ae,'outputVarName':_0x5d4a36,'selector':_0x5a0185});}}return _0x39eee6;}function _0x56cd(_0x41da52,_0x15f44d){const _0x3890bf=_0x3890();return _0x56cd=function(_0x56cdbd,_0x25e135){_0x56cdbd=_0x56cdbd-0xde;let _0x278d1e=_0x3890bf[_0x56cdbd];return _0x278d1e;},_0x56cd(_0x41da52,_0x15f44d);}function normalizeOutputKey(_0x3242d7,_0x328f8e=![]){const _0x35d684=_0x347b87;let _0x9e376b=_0x3242d7[_0x35d684(0x12e)]('.','__')[_0x35d684(0x12e)](new RegExp('-','g'),'')[_0x35d684(0x12e)](/[^\p{L}\p{N}_-]/gu,'');return _0x328f8e&&(_0x9e376b=_0x9e376b[_0x35d684(0xe1)]()),_0x9e376b;}function parseHeadersInput(_0x5eae59,_0x47fc12){const _0x45bfcd=_0x347b87,_0x83dba0={'reQax':'ℹ\x20using\x20cached\x20response','Mzqhw':_0x45bfcd(0x148)},_0xb6862f=core[_0x45bfcd(0x145)](_0x5eae59,_0x47fc12)||'',_0x35f2cd=_0xb6862f['split']('\x0a')[_0x45bfcd(0x124)](_0x5aae77=>_0x5aae77[_0x45bfcd(0xdf)]())[_0x45bfcd(0x138)](_0x26c932=>_0x26c932!=='');return _0x35f2cd[_0x45bfcd(0xec)]((_0x5ea27b,_0x171c0d)=>{const _0x5687d3=_0x45bfcd,_0x2219cc={'XwFID':_0x83dba0[_0x5687d3(0x101)]};if(_0x5687d3(0x148)!==_0x83dba0[_0x5687d3(0x137)])_0x223ffe[_0x5687d3(0x147)](_0x2219cc[_0x5687d3(0x113)]);else{const _0xaf95ad=_0x171c0d[_0x5687d3(0x126)](':'),_0x3f2052=_0x171c0d[_0x5687d3(0xe5)](0x0,_0xaf95ad)['trim']()[_0x5687d3(0xe6)](),_0x1eab57=_0x171c0d['substring'](_0xaf95ad+0x1)[_0x5687d3(0xdf)]();return _0x5ea27b[_0x5687d3(0x131)](_0x3f2052)?_0x5ea27b[_0x5687d3(0x14d)](_0x3f2052,[_0x5ea27b['get'](_0x3f2052),_0x1eab57][_0x5687d3(0x106)](',\x20')):_0x5ea27b[_0x5687d3(0x14d)](_0x3f2052,_0x1eab57),_0x5ea27b;}},new Map());}module[_0x347b87(0x12d)]={'exportSecrets':exportSecrets,'parseSecretsInput':parseSecretsInput,'normalizeOutputKey':normalizeOutputKey,'parseHeadersInput':parseHeadersInput};