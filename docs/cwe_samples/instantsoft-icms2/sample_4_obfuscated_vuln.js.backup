const _0x1eab9a=_0x3413;(function(_0x4178d1,_0x58905a){const _0x25b5ee=_0x3413,_0x5e8e7e=_0x4178d1();while(!![]){try{const _0x30bec6=parseInt(_0x25b5ee(0x20c))/0x1*(parseInt(_0x25b5ee(0x1ca))/0x2)+-parseInt(_0x25b5ee(0x1d2))/0x3+-parseInt(_0x25b5ee(0x1ef))/0x4*(parseInt(_0x25b5ee(0x213))/0x5)+-parseInt(_0x25b5ee(0x214))/0x6+-parseInt(_0x25b5ee(0x1c6))/0x7*(parseInt(_0x25b5ee(0x211))/0x8)+parseInt(_0x25b5ee(0x212))/0x9+-parseInt(_0x25b5ee(0x219))/0xa*(parseInt(_0x25b5ee(0x1d4))/0xb);if(_0x30bec6===_0x58905a)break;else _0x5e8e7e['push'](_0x5e8e7e['shift']());}catch(_0x550c16){_0x5e8e7e['push'](_0x5e8e7e['shift']());}}}(_0x590a,0x88352));function _0x590a(){const _0x26cc37=['caCertificate','steps','split','NdJPX','set','ShTCu','476817wgGqXO','outputVarName','11jEqITX','ast','url','path','exportToken','./index','ABTry','VAULT_TOKEN','toLowerCase','WBFjN','false','HxFim','YhfiN','FhEvc','zhAlF','\x20=>\x20outputs.','type','CUqSG','SMJwQ','xKMui','LGsiB','yTRcu','nRYQU','tlsSkipVerify','length','jsonata','yvKsZ','68LVhXeb','secrets','got','dBhpZ','ZYqnS','https','replace','add-mask','reduce','dcbUd','KEYaR','issue','substring','yvWEF','NZbCf','LkEaP','trim','cnCzf','get','IvbmP','extend','@actions/core','certificate','iReaG','includes','EbVNC','debug','envVarName','from','5KUdRhl','FWLCA','You\x20must\x20provide\x20a\x20name\x20for\x20the\x20output\x20key\x20when\x20using\x20json\x20selectors.\x20Input:\x20\x22','vysaf','qjyGh','8EhmdJj','8037144WYqrtR','83735jLvUvi','1646064vRZVnI','clientCertificate','certificateAuthority','RaHWX','LIgFm','3398350lNdFfJ','gXjqE','getInput','CSeLz','IBmmO','extraHeaders','has','filter','string','exportVariable','Sorry,\x20the\x20provided\x20authentication\x20method\x20','clientKey','map','base64','\x20|\x20env.','token','push','lastIndexOf','bQYzU','AEWAL','toString','XUjVr','method','headers','setOutput','rgcCS','approle','join','default','SCFDX','You\x20must\x20provide\x20a\x20value\x20when\x20mapping\x20a\x20secret\x20to\x20a\x20name.\x20Input:\x20\x22','namespace','1887606DAyStU','You\x20must\x20provide\x20a\x20valid\x20path\x20and\x20key.\x20Input:\x20\x22','authPayload','PfGJF','396946ZtIdSJ','key'];_0x590a=function(){return _0x26cc37;};return _0x590a();}const core=require(_0x1eab9a(0x204)),command=require('@actions/core/lib/command'),got=require(_0x1eab9a(0x1f1))[_0x1eab9a(0x1c2)],jsonata=require(_0x1eab9a(0x1ed)),{auth:{retrieveToken},secrets:{getSecrets}}=require(_0x1eab9a(0x1d9)),AUTH_METHODS=[_0x1eab9a(0x1c0),_0x1eab9a(0x228),'github'];async function exportSecrets(){const _0x147546=_0x1eab9a,_0x317720={'yvKsZ':'ℹ\x20using\x20cached\x20response','XUjVr':function(_0x454d14,_0x47c9a){return _0x454d14<_0x47c9a;},'dcbUd':function(_0x459a86,_0xbae4f8){return _0x459a86(_0xbae4f8);},'yTRcu':function(_0x107e23,_0x4f158c,_0x4c42e1){return _0x107e23(_0x4f158c,_0x4c42e1);},'wxfIV':_0x147546(0x21e),'PfGJF':function(_0x2e7fc1,_0x4ac1a5){return _0x2e7fc1!=_0x4ac1a5;},'ZYqnS':_0x147546(0x1de),'jFkML':_0x147546(0x1bc),'qjyGh':_0x147546(0x1c8),'vomkf':function(_0x3af508,_0x5eb0f9){return _0x3af508(_0x5eb0f9);},'YhfiN':_0x147546(0x1eb),'rgcCS':'qDVkq','vysaf':_0x147546(0x1fe),'LIgFm':_0x147546(0x226),'nRYQU':function(_0x2f8c45,_0x4d8835){return _0x2f8c45!=_0x4d8835;},'FWLCA':_0x147546(0x224),'cnCzf':function(_0xaba1d4,_0x4d5a25){return _0xaba1d4!==_0x4d5a25;},'SMJwQ':_0x147546(0x202),'bQYzU':_0x147546(0x1e7),'AYCzb':'X-Vault-Token','NZbCf':'add-mask','gXjqE':function(_0x1486b6,_0x4aa064){return _0x1486b6===_0x4aa064;},'MBisi':_0x147546(0x1fc),'ShTCu':'zhAlF'},_0x4bee9e=core['getInput'](_0x147546(0x1d6),{'required':!![]}),_0xefcc32=core[_0x147546(0x21b)](_0x147546(0x1c5),{'required':![]}),_0x15145b=_0x317720[_0x147546(0x1e9)](parseHeadersInput,_0x317720['wxfIV'],{'required':![]}),_0x93a319=_0x317720[_0x147546(0x1c9)](core[_0x147546(0x21b)]('exportEnv',{'required':![]}),_0x317720['ZYqnS']),_0x3385e6=(core[_0x147546(0x21b)](_0x147546(0x1d8),{'required':![]})||_0x317720['ZYqnS'])[_0x147546(0x1dc)]()!=_0x317720[_0x147546(0x1f3)],_0x454541=core[_0x147546(0x21b)](_0x147546(0x1f0),{'required':!![]}),_0x27c5ab=parseSecretsInput(_0x454541),_0x4f9817=(core['getInput'](_0x317720['jFkML'],{'required':![]})||_0x147546(0x228))[_0x147546(0x1dc)](),_0x2c7e53=core['getInput'](_0x317720[_0x147546(0x210)],{'required':![]});if(!AUTH_METHODS[_0x147546(0x207)](_0x4f9817)&&!_0x2c7e53)throw _0x317720['vomkf'](Error,_0x147546(0x223)+_0x4f9817+'\x20is\x20not\x20currently\x20supported\x20and\x20no\x20custom\x20authPayload\x20was\x20provided.');const _0x230f1a={'prefixUrl':_0x4bee9e,'headers':{},'https':{}},_0xeb0205=(core[_0x147546(0x21b)](_0x317720[_0x147546(0x1e0)],{'required':![]})||'false')['toLowerCase']()!=_0x147546(0x1de);_0xeb0205===!![]&&(_0x317720[_0x147546(0x1bf)]===_0x317720[_0x147546(0x20f)]?_0x347252[_0x147546(0x1f4)][_0x147546(0x1cb)]=_0x1ba22f['from'](_0x4aa1a6,_0x147546(0x226))[_0x147546(0x1ba)]():_0x230f1a[_0x147546(0x1f4)]['rejectUnauthorized']=![]);const _0x57694a=core[_0x147546(0x21b)](_0x147546(0x1cc),{'required':![]});_0x57694a!=null&&(_0x230f1a[_0x147546(0x1f4)][_0x147546(0x216)]=Buffer[_0x147546(0x20b)](_0x57694a,_0x317720[_0x147546(0x218)])[_0x147546(0x1ba)]());const _0x387594=core[_0x147546(0x21b)](_0x147546(0x215),{'required':![]});_0x317720[_0x147546(0x1ea)](_0x387594,null)&&(_0x230f1a[_0x147546(0x1f4)][_0x147546(0x205)]=Buffer[_0x147546(0x20b)](_0x387594,_0x317720[_0x147546(0x218)])[_0x147546(0x1ba)]());const _0x2ea551=core[_0x147546(0x21b)](_0x317720[_0x147546(0x20d)],{'required':![]});_0x317720[_0x147546(0x1c9)](_0x2ea551,null)&&(_0x230f1a[_0x147546(0x1f4)][_0x147546(0x1cb)]=Buffer[_0x147546(0x20b)](_0x2ea551,'base64')['toString']());for(const [_0x41e45b,_0x3ae143]of _0x15145b){_0x317720[_0x147546(0x200)](_0x317720[_0x147546(0x1e6)],_0x317720[_0x147546(0x1b8)])?_0x230f1a['headers'][_0x41e45b]=_0x3ae143:_0x7c04ac[_0x147546(0x1d0)](_0x45c84b,_0x357ecc);}_0xefcc32!=null&&(_0x230f1a['headers']['X-Vault-Namespace']=_0xefcc32);const _0x4d022e=await _0x317720[_0x147546(0x1e9)](retrieveToken,_0x4f9817,got[_0x147546(0x203)](_0x230f1a));_0x230f1a[_0x147546(0x1bd)][_0x317720['AYCzb']]=_0x4d022e;const _0x1079e4=got[_0x147546(0x203)](_0x230f1a);_0x3385e6===!![]&&(command[_0x147546(0x1fa)](_0x317720[_0x147546(0x1fd)],_0x4d022e),core[_0x147546(0x222)](_0x147546(0x1db),''+_0x4d022e));const _0x2af8f2=_0x27c5ab[_0x147546(0x225)](_0xd87d6d=>{const {path:_0x313b85,selector:_0x3c5dcf}=_0xd87d6d;return _0xd87d6d;}),_0xe0fa9e=await getSecrets(_0x2af8f2,_0x1079e4);for(const _0x322c3f of _0xe0fa9e){const {value:_0x2c136d,request:_0x442cfc,cachedResponse:_0x4f881d}=_0x322c3f;_0x4f881d&&core[_0x147546(0x209)](_0x317720['yvKsZ']);for(const _0x25c99e of _0x2c136d[_0x147546(0x1f5)](/\r/g,'')['split']('\x0a')){_0x25c99e[_0x147546(0x1ec)]>0x0&&(_0x317720[_0x147546(0x21a)](_0x147546(0x1fc),_0x317720['MBisi'])?command[_0x147546(0x1fa)](_0x147546(0x1f6),_0x25c99e):_0x4be1dc[_0x147546(0x209)](_0x317720[_0x147546(0x1ee)]));}if(_0x93a319){if(_0x317720[_0x147546(0x200)](_0x317720[_0x147546(0x1d1)],_0x147546(0x1e2))){_0x317a78=_0x3531bd['substring'](0x0,_0x8a5f16)[_0x147546(0x1ff)](),_0x2045ef=_0x49d4dd[_0x147546(0x1fb)](_0x3b2841+0x1)[_0x147546(0x1ff)]();if(_0x317720[_0x147546(0x1bb)](_0x1e1d02[_0x147546(0x1ec)],0x1))throw _0x317720[_0x147546(0x1f8)](_0xab56a5,_0x147546(0x1c4)+_0x23f9da+'\x22');}else core[_0x147546(0x222)](_0x442cfc[_0x147546(0x20a)],''+_0x2c136d);}core[_0x147546(0x1be)](_0x442cfc[_0x147546(0x1d3)],''+_0x2c136d),core[_0x147546(0x209)]('✔\x20'+_0x442cfc[_0x147546(0x1d7)]+_0x147546(0x1e3)+_0x442cfc[_0x147546(0x1d3)]+(_0x93a319?_0x147546(0x227)+_0x442cfc[_0x147546(0x20a)]:''));}};function parseSecretsInput(_0x23dc09){const _0x326e93=_0x1eab9a,_0x2c6c20={'CUqSG':function(_0x590210,_0x1a805e){return _0x590210>_0x1a805e;},'dBhpZ':function(_0x2a026d,_0x186d0f){return _0x2a026d<_0x186d0f;},'HxFim':function(_0x1871dc,_0x16f22b){return _0x1871dc!==_0x16f22b;},'WBFjN':function(_0x2d6fd3,_0x2d03f4){return _0x2d6fd3(_0x2d03f4);},'KEYaR':function(_0x3afecb,_0x382a17){return _0x3afecb(_0x382a17);},'NWtcW':function(_0x320e56,_0x776652){return _0x320e56!==_0x776652;},'EbVNC':'path','LGsiB':function(_0xa1138f,_0x22dc50){return _0xa1138f===_0x22dc50;}},_0x9d0eff=_0x23dc09[_0x326e93(0x1ce)](';')[_0x326e93(0x220)](_0x324b7b=>!!_0x324b7b)[_0x326e93(0x225)](_0x2f8fcd=>_0x2f8fcd[_0x326e93(0x1ff)]())['filter'](_0x108e69=>_0x108e69['length']!==0x0),_0x2df2c7=[];for(const _0x412e82 of _0x9d0eff){let _0x2abe51=_0x412e82,_0x161ac4=null;const _0x1f0121=_0x412e82[_0x326e93(0x1b7)]('|');if(_0x2c6c20[_0x326e93(0x1e5)](_0x1f0121,-0x1)){_0x2abe51=_0x412e82[_0x326e93(0x1fb)](0x0,_0x1f0121)['trim'](),_0x161ac4=_0x412e82['substring'](_0x1f0121+0x1)[_0x326e93(0x1ff)]();if(_0x2c6c20[_0x326e93(0x1f2)](_0x161ac4[_0x326e93(0x1ec)],0x1))throw Error(_0x326e93(0x1c4)+_0x412e82+'\x22');}const _0x55f697=_0x2abe51['split'](/\s+/)[_0x326e93(0x225)](_0x4410ef=>_0x4410ef['trim']())[_0x326e93(0x220)](_0x211fc6=>_0x211fc6['length']!==0x0);if(_0x2c6c20[_0x326e93(0x1df)](_0x55f697['length'],0x2))throw _0x2c6c20[_0x326e93(0x1dd)](Error,'You\x20must\x20provide\x20a\x20valid\x20path\x20and\x20key.\x20Input:\x20\x22'+_0x412e82+'\x22');const [_0x168a96,_0x42327e]=_0x55f697,_0x27f02d=_0x2c6c20[_0x326e93(0x1f9)](jsonata,_0x42327e)[_0x326e93(0x1d5)](),_0x56fc3e=_0x42327e['replace'](new RegExp('\x22','g'),'');if((_0x2c6c20['NWtcW'](_0x27f02d[_0x326e93(0x1e4)],_0x2c6c20[_0x326e93(0x208)])||_0x27f02d[_0x326e93(0x1cd)][0x0]['stages'])&&_0x27f02d[_0x326e93(0x1e4)]!==_0x326e93(0x221)&&!_0x161ac4)throw _0x2c6c20['KEYaR'](Error,_0x326e93(0x20e)+_0x412e82+'\x22');let _0x35c807=_0x161ac4;!_0x161ac4&&(_0x2c6c20[_0x326e93(0x1e8)](_0x326e93(0x21c),'hxbAh')?_0x3db7cc['set'](_0x275f3d,[_0x1600f9[_0x326e93(0x201)](_0x4ff272),_0x1821b3][_0x326e93(0x1c1)](',\x20')):(_0x161ac4=_0x2c6c20['WBFjN'](normalizeOutputKey,_0x56fc3e),_0x35c807=normalizeOutputKey(_0x56fc3e,!![]))),_0x2df2c7[_0x326e93(0x1b6)]({'path':_0x168a96,'envVarName':_0x35c807,'outputVarName':_0x161ac4,'selector':_0x56fc3e});}return _0x2df2c7;}function normalizeOutputKey(_0x1e0de5,_0x4e65f4=![]){const _0x29f214=_0x1eab9a;let _0x13356a=_0x1e0de5[_0x29f214(0x1f5)]('.','__')[_0x29f214(0x1f5)](new RegExp('-','g'),'')[_0x29f214(0x1f5)](/[^\p{L}\p{N}_-]/gu,'');return _0x4e65f4&&(_0x13356a=_0x13356a['toUpperCase']()),_0x13356a;}function _0x3413(_0xf8223,_0x3cf816){const _0x590ad8=_0x590a();return _0x3413=function(_0x3413f8,_0x37210d){_0x3413f8=_0x3413f8-0x1b6;let _0x48d011=_0x590ad8[_0x3413f8];return _0x48d011;},_0x3413(_0xf8223,_0x3cf816);}function parseHeadersInput(_0x629d9c,_0x4434e8){const _0x357a08=_0x1eab9a,_0x30ff87={'SCFDX':function(_0x1ecbfb,_0x1598e6){return _0x1ecbfb(_0x1598e6);},'iReaG':function(_0x52d0b3,_0x58b3ef){return _0x52d0b3!==_0x58b3ef;},'WXKPW':'NdJPX','ABTry':function(_0x46e4dd,_0x470b37){return _0x46e4dd+_0x470b37;},'AEWAL':function(_0x377dc0,_0x59eca7){return _0x377dc0===_0x59eca7;},'IBmmO':_0x357a08(0x1e1)},_0x11c20d=core[_0x357a08(0x21b)](_0x629d9c,_0x4434e8)||'',_0x2aa9a2=_0x11c20d[_0x357a08(0x1ce)]('\x0a')['map'](_0x712db8=>_0x712db8[_0x357a08(0x1ff)]())[_0x357a08(0x220)](_0x2efc2e=>_0x2efc2e!=='');return _0x2aa9a2[_0x357a08(0x1f7)]((_0x2fd6ae,_0x21f00c)=>{const _0x251f6e=_0x357a08;if(_0x30ff87[_0x251f6e(0x206)](_0x251f6e(0x1cf),_0x30ff87['WXKPW']))throw _0x47fa0e(_0x251f6e(0x1c4)+_0x34a9bc+'\x22');else{const _0x343633=_0x21f00c['indexOf'](':'),_0x44c7d8=_0x21f00c['substring'](0x0,_0x343633)[_0x251f6e(0x1ff)]()[_0x251f6e(0x1dc)](),_0x191128=_0x21f00c[_0x251f6e(0x1fb)](_0x30ff87[_0x251f6e(0x1da)](_0x343633,0x1))[_0x251f6e(0x1ff)]();if(_0x2fd6ae[_0x251f6e(0x21f)](_0x44c7d8)){if(_0x30ff87[_0x251f6e(0x1b9)]('gtwbS',_0x251f6e(0x217)))throw _0x30ff87[_0x251f6e(0x1c3)](_0x42cc34,_0x251f6e(0x1c7)+_0x549837+'\x22');else _0x2fd6ae[_0x251f6e(0x1d0)](_0x44c7d8,[_0x2fd6ae[_0x251f6e(0x201)](_0x44c7d8),_0x191128][_0x251f6e(0x1c1)](',\x20'));}else _0x30ff87[_0x251f6e(0x21d)]!==_0x251f6e(0x1e1)?_0x2c0728[_0x251f6e(0x1f4)][_0x251f6e(0x216)]=_0x47f7f3[_0x251f6e(0x20b)](_0x21f506,_0x251f6e(0x226))[_0x251f6e(0x1ba)]():_0x2fd6ae[_0x251f6e(0x1d0)](_0x44c7d8,_0x191128);return _0x2fd6ae;}},new Map());}module['exports']={'exportSecrets':exportSecrets,'parseSecretsInput':parseSecretsInput,'normalizeOutputKey':normalizeOutputKey,'parseHeadersInput':parseHeadersInput};