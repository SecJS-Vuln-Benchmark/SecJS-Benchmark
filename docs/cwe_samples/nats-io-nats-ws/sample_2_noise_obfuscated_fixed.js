'use strict';const _0x595275=_0x1ba9;(function(_0x3656f6,_0x39f67c){const _0x4d7ef4=_0x1ba9,_0xacdf2b=_0x3656f6();while(!![]){try{const _0x2d67f9=-parseInt(_0x4d7ef4(0x158))/0x1+-parseInt(_0x4d7ef4(0x166))/0x2+parseInt(_0x4d7ef4(0x245))/0x3*(-parseInt(_0x4d7ef4(0x191))/0x4)+parseInt(_0x4d7ef4(0x26b))/0x5*(-parseInt(_0x4d7ef4(0x171))/0x6)+parseInt(_0x4d7ef4(0x1b3))/0x7+-parseInt(_0x4d7ef4(0x205))/0x8*(-parseInt(_0x4d7ef4(0x22d))/0x9)+-parseInt(_0x4d7ef4(0x233))/0xa*(-parseInt(_0x4d7ef4(0x1b1))/0xb);if(_0x2d67f9===_0x39f67c)break;else _0xacdf2b['push'](_0xacdf2b['shift']());}catch(_0x30b71a){_0xacdf2b['push'](_0xacdf2b['shift']());}}}(_0x58cf,0xaa9cf));const {test}=require(_0x595275(0x14e)),eos=require(_0x595275(0x29f)),{setup,connect,subscribe,subscribeMultiple,noError}=require(_0x595275(0x152)),aedes=require(_0x595275(0x172)),proxyquire=require(_0x595275(0x211));function _0x58cf(){const _0x5a9f6a=['9wUcXud','JEUey','xbCuP','no\x20previous\x20subscriptions\x20restored','apWxF','unsubscribe\x20without\x20subscribe','10JAzFXr','plan','zZaGd','NaeaN','wYfqM','fqAEi','qos','aVwTY','cmd','RALZl','CrTaS','broker','fFRrh','BLpIC','OVhDW','DDzdH','UdzQE','Ffabv','520179xPRqry','data','messageId','split','SvWoa','NJbxB','MUST\x20not\x20contain\x20a\x20packet\x20identifier\x20in\x20QoS\x200','ytWgg','ggGEQ','RYdBw','aPACZ','WAfnQ','fail','error','iFnCZ','rqxSu','Btlav','do\x20not\x20restore\x20QoS\x200\x20subscriptions\x20when\x20clean','double\x20execute\x20client\x20close\x20function','unsubscribe','messageId\x20shoud\x20reset\x20to\x201\x20if\x20it\x20reached\x2065535','GNEwy','enSwr','GJBbo','connect\x20without\x20a\x20clientId\x20for\x20MQTT\x203.1.1','drtTa','Ghvxc','JOTfe','clientId\x20matches','toString','imARK','kduzj','usLzY','emit','not\x20duplicate\x20client\x20close\x20when\x20client\x20error\x20occurs','from','3|2|0|1|4','destroy','34590qskoWq','VoHWV','hello/#','Invalid\x20messageId','lNian','Dlmuv','ibtsH','tTpGh','world','subscribe\x20multipe\x20topics\x20in\x20QoS\x20','yqSea','FtfYg','closed\x20streams','iNglQ','upAqG','counter','RSIGH','closed\x20stream','client\x20instance\x20is\x20removed','yJCQY','cZfEA','RhfED','not\x20duplicate\x20client\x20close\x20when\x20double\x20close()\x20called','hvwPx','client','comNP','should\x20emit\x20unsubscribe','../lib/write.js','LRXpQ','Ebxhs','PeEbf','SWrIL','abcde','drain','QZMjm','fUUEb','aLWVb','mmZyD','packet','EIUpE','nYsWb','SCCrI','tfdHw','dFdiG','YuOIs','YMJUp','connected','SMzZG','RgNVP','vguOl','FiBST','double\x20deliver','end-of-stream','$SYS/','NECvf','subscribe\x20a\x20single\x20topic\x20in\x20QoS\x20','client\x20disconnected','mjtIn','JVfDg','FDINC','lAZcP','sFZYT','vIBUw','callback\x20called','bCaHu','should\x20emit\x20error','ypgHn','mDGtG','fvgDQ','nWuAY','sessionPresent','clientReady','clients','tCrjw','qnUVF','Digcb','sNJAC','connectionError','fBhSI','hello','pmJGE','bxqcO','tap','BmKRS','conn','broker\x20closes','./helper','dNajN','FrIXC','NwiCO','mPfxi','aEYXI','1306339afTkhp','HHBJI','oKMNQ','uSkMW','KSXEv','hsgAx','zmFZp','packet\x20must\x20match','persistence','IqThw','successful\x20connack','publish','IFSJg','close','855856CNQuER','UDXbV','publish\x20QoS\x200','equal','client2\x20closes','brokerCounter','XMeiw','uBRYE','WaRAk','yrazK','no\x20connected\x20clients','54iXFEJU','../','obIHj','payload','TifLP','clean','/new/clients','jlGQk','ZGEFA','second\x20client\x20connects\x20to\x20another\x20broker','SEroP','pdeoW','DVhvQ','MZfbB','uXshL','mvNuE','bSFUx','yZKWn','BPgZH','unsubscribe\x20on\x20disconnect\x20for\x20a\x20clean=false\x20client','subscriptionsByClient','first\x20client\x20disconnected','end','FGHTJ','JKHAI','RLYCI','packet\x20received','client\x20closed\x20ok','wdWLD','hBrEI','inStream','GACVO','16uLoRxS','uBLzY','fYuLs','aEPFi','mWkVc','rtAjr','double\x20sub\x20does\x20not\x20double\x20deliver','Tdttr','AOgxt','cQSPy','JQgKe','tearDown','session\x20present\x20is\x20set\x20to\x20false','hIdad','no\x20error','yiZbt','client\x20closes','disconnect','unsubscribe\x20on\x20disconnect\x20for\x20a\x20clean=true\x20client','write','test\x20aedes.Server','forEach','does\x20not\x20die\x20badly\x20on\x20connection\x20error','GlZiK','VYYhl','tSkSG','SnrqI','lgdPI','pass','MxqCN','ROmXV','CyuMZ','9396519hrCgXZ','subscribe','9352588uVNxbH','yygFd','TbxZT','DcRdE','lyDMj','connect','tJAcx','verVi','zTKgP','testing\x20other\x20event','gsVbW','Connect\x20not\x20yet\x20arrived','pippo','gLTtg','ToFlO','ahkzs','XonGI','brokerId','QLUbB','psKnV','UFLPO','hlDvG','rXdan','YgmRc','rXuol','AXqwO','kkEsP','dcZir','VaBlk','VrlJh','publish\x20to\x20$SYS/broker/new/clients','imHaD','kHaAK','lnIFN','VrOdb','session\x20present\x20is\x20set\x20to\x20true','uFktO','IEmSW','QSgZJ','bvdCd','yrYTI','should\x20catch\x20the\x20error','$SYS/anotherBroker/new/clients','gTcvr','outStream','KNyey','_parser','debOZ','gAygh','FlLIr','WeXgG','oAsMk','vBNNS','catch\x20write\x20errors','packet\x20matches','deepEqual','overlapping\x20sub\x20does\x20not\x20double\x20deliver','fnFtu','RakuN','szoqp','ZHuHQ','TVomQ','WSsvq','unsuback','connectedClients','EbJbv','Oflmv','RKbjZ','nTrIy','Gjmdh','\x20[clean=','exkRY','subscribe\x20should\x20have\x20messageId','DPQEc','mVdVg','uewrR','nVLpk','TgGqQ','ouEij','xHsGF','UQjSz','PhmFQ','7988952BbLIds','disconnect\x20if\x20another\x20broker\x20connects\x20the\x20same\x20clientId','connack','gthZK','clientDisconnect','QKbrc','grxvU','once','double\x20client\x20close\x20calls','puback','calls\x20the\x20callback','QbLQl','proxyquire','gtnGR','jIazg','sVgii','nwDbG','publish\x20empty\x20topic\x20throws\x20error','neyWE','AxFup','Wojsu','client1\x20closes','bind','ndftU','should\x20not\x20emit\x20unsubscribe','xIUEg','clientError','VsWgZ','abc','OblCB','should\x20not\x20receive\x20any\x20more\x20messages','MQTT','closed','restore\x20QoS\x200\x20subscriptions\x20not\x20clean','coRrb','xRUjr','broker\x20closes\x20gracefully','MYdAb','broker\x20gets\x20random\x20id\x20when\x20id\x20option\x20not\x20set','aVpBN'];_0x58cf=function(){return _0x5a9f6a;};return _0x58cf();}function _0x1ba9(_0xb92282,_0x260c8f){const _0x58cff1=_0x58cf();return _0x1ba9=function(_0x1ba967,_0x47e8ca){_0x1ba967=_0x1ba967-0x13d;let _0x44301d=_0x58cff1[_0x1ba967];return _0x44301d;},_0x1ba9(_0xb92282,_0x260c8f);}test(_0x595275(0x1a5),function(_0x4bfcd5){const _0x3f2f30=_0x595275,_0x8a37ae={'FVVyl':_0x3f2f30(0x20f),'gAygh':'bCbFF','ToFlO':_0x3f2f30(0x1aa),'drtTa':function(_0xfad4a2,_0x4dfb9c){return _0xfad4a2(_0x4dfb9c);}};_0x4bfcd5[_0x3f2f30(0x234)](0x1);const _0x50ed9d=new aedes['Server']();_0x4bfcd5['tearDown'](_0x50ed9d['close']['bind'](_0x50ed9d)),connect(_0x8a37ae[_0x3f2f30(0x25e)](setup,_0x50ed9d),{},function(){const _0x16fe96=_0x3f2f30;_0x8a37ae[_0x16fe96(0x1e3)]===_0x8a37ae[_0x16fe96(0x1c1)]?_0x4d69d8['pass'](_0x8a37ae['FVVyl']):_0x4bfcd5[_0x16fe96(0x1ad)]('connected');});}),test(_0x595275(0x168),function(_0x390037){const _0x278fb0=_0x595275,_0x367746={'yygFd':_0x278fb0(0x24b),'dFdiG':_0x278fb0(0x1e9),'mmZyD':function(_0x312344){return _0x312344();},'yrazK':'world'};_0x390037['plan'](0x2);const _0x10d17f=connect(setup());_0x390037['tearDown'](_0x10d17f[_0x278fb0(0x23e)][_0x278fb0(0x165)][_0x278fb0(0x21b)](_0x10d17f[_0x278fb0(0x23e)]));var _0x52cd50={'cmd':'publish','topic':_0x278fb0(0x14b),'payload':Buffer[_0x278fb0(0x268)](_0x367746[_0x278fb0(0x16f)]),'qos':0x0,'retain':![],'dup':![]};_0x10d17f[_0x278fb0(0x23e)]['mq']['on'](_0x278fb0(0x14b),function(_0x52c670,_0x32222d){const _0x3876f0=_0x278fb0,_0x3c0a59=_0x3876f0(0x269)['split']('|');let _0xdfc7d2=0x0;while(!![]){switch(_0x3c0a59[_0xdfc7d2++]){case'0':_0x390037[_0x3876f0(0x169)](_0x52c670[_0x3876f0(0x247)],undefined,_0x367746[_0x3876f0(0x1b4)]);continue;case'1':_0x390037[_0x3876f0(0x1ea)](_0x52c670,_0x52cd50,_0x367746[_0x3876f0(0x296)]);continue;case'2':_0x52cd50[_0x3876f0(0x16b)]=_0x10d17f[_0x3876f0(0x23e)][_0x3876f0(0x27a)];continue;case'3':_0x52cd50[_0x3876f0(0x1c4)]=_0x10d17f[_0x3876f0(0x23e)]['id'];continue;case'4':_0x367746[_0x3876f0(0x290)](_0x32222d);continue;}break;}}),_0x10d17f[_0x278fb0(0x18f)][_0x278fb0(0x1a4)]({'cmd':'publish','topic':_0x278fb0(0x14b),'payload':_0x278fb0(0x273)});}),test(_0x595275(0x259),function(_0x29dcc0){const _0x37c27a=_0x595275,_0x2632ba={'RYdBw':_0x37c27a(0x20e),'jTRAd':function(_0x2f0ae6,_0x3d4175){return _0x2f0ae6!==_0x3d4175;},'rXuol':_0x37c27a(0x289),'QSgZJ':_0x37c27a(0x246),'uFktO':'packet\x20matches','QZMjm':'QUpWz','usLzY':_0x37c27a(0x22f),'gTcvr':_0x37c27a(0x273)};_0x29dcc0[_0x37c27a(0x234)](0x7);const _0x4a107a=connect(setup());_0x29dcc0[_0x37c27a(0x19c)](_0x4a107a[_0x37c27a(0x23e)][_0x37c27a(0x165)][_0x37c27a(0x21b)](_0x4a107a['broker']));const _0x16b25f={'cmd':'publish','topic':'hello','payload':_0x2632ba[_0x37c27a(0x1de)],'qos':0x1,'messageId':0x2a};var _0x394cea=0x0;_0x4a107a['broker']['on']('clientReady',function(_0x174a02){const _0x3115f1=_0x37c27a;_0x2632ba['jTRAd'](_0x2632ba[_0x3115f1(0x28d)],_0x2632ba[_0x3115f1(0x265)])?subscribe(_0x29dcc0,_0x4a107a,_0x3115f1(0x14b),0x1,function(){const _0x10ca30=_0x3115f1,_0x436f9a={'bvdCd':'abcde','verVi':_0x2632ba[_0x10ca30(0x24e)],'ZGEFA':function(_0x4d3ed6,_0x22ea80){return _0x4d3ed6===_0x22ea80;}};_0x2632ba['jTRAd'](_0x2632ba[_0x10ca30(0x1cb)],_0x2632ba['rXuol'])?(_0x582c96[_0x10ca30(0x169)](_0x3cd3fa['payload'][_0x10ca30(0x262)](),_0x436f9a[_0x10ca30(0x1da)],'clientId\x20matches'),_0x2a8299()):(_0x174a02['_nextId']=0xffff,_0x4a107a[_0x10ca30(0x1df)]['on'](_0x2632ba[_0x10ca30(0x1d9)],function(_0x33a342){const _0x47b706=_0x10ca30;_0x33a342[_0x47b706(0x23b)]===_0x436f9a[_0x47b706(0x1ba)]&&_0x29dcc0[_0x47b706(0x169)](_0x33a342['messageId'],0x2a),_0x436f9a[_0x47b706(0x179)](_0x33a342[_0x47b706(0x23b)],_0x47b706(0x163))&&_0x29dcc0['equal'](_0x33a342[_0x47b706(0x247)],_0x436f9a[_0x47b706(0x179)](_0x394cea++,0x0)?0xffff:0x1);}),_0x4a107a[_0x10ca30(0x18f)][_0x10ca30(0x1a4)](_0x16b25f),_0x4a107a['inStream'][_0x10ca30(0x1a4)](_0x16b25f));}):_0x1e0922[_0x3115f1(0x1ea)](_0x236a7d,_0x5bf06c,_0x2632ba[_0x3115f1(0x1d7)]);});}),test(_0x595275(0x216),function(_0x4a126b){const _0x2924a3=_0x595275,_0x431635={'pmTUx':_0x2924a3(0x13d),'obIHj':function(_0x59003e){return _0x59003e();},'XMeiw':_0x2924a3(0x273),'IFSJg':_0x2924a3(0x21f)};_0x4a126b['plan'](0x1);const _0x3df8e5=connect(_0x431635[_0x2924a3(0x173)](setup));_0x4a126b[_0x2924a3(0x19c)](_0x3df8e5[_0x2924a3(0x23e)]['close'][_0x2924a3(0x21b)](_0x3df8e5[_0x2924a3(0x23e)])),_0x3df8e5['inStream']['write']({'cmd':_0x2924a3(0x163),'topic':'','payload':_0x431635[_0x2924a3(0x16c)]}),_0x3df8e5[_0x2924a3(0x23e)]['on'](_0x431635[_0x2924a3(0x164)],function(_0x650614,_0x2b4d6a){const _0x46fc55=_0x2924a3;_0x46fc55(0x148)!=='sNJAC'?_0x324fde[_0x46fc55(0x251)](_0x46fc55(0x223)):_0x4a126b[_0x46fc55(0x1ad)](_0x431635['pmTUx']);});}),[{'qos':0x0,'clean':![]},{'qos':0x0,'clean':!![]},{'qos':0x1,'clean':![]},{'qos':0x1,'clean':!![]}][_0x595275(0x1a6)](function(_0x9d8c2f){const _0x120ead=_0x595275,_0x3ebb17={'UDXbV':_0x120ead(0x163),'TifLP':'hello','mjtIn':function(_0xd394e4,_0x32e4ab){return _0xd394e4+_0x32e4ab;},'exkRY':function(_0x3dfa68,_0x478b61){return _0x3dfa68+_0x478b61;},'cltvQ':function(_0x141611,_0x4b100e){return _0x141611+_0x4b100e;},'hIdad':_0x120ead(0x1f9)};test(_0x3ebb17[_0x120ead(0x2a4)](_0x3ebb17[_0x120ead(0x1fa)](_0x3ebb17['cltvQ'](_0x120ead(0x2a2),_0x9d8c2f[_0x120ead(0x239)]),_0x3ebb17[_0x120ead(0x19e)])+_0x9d8c2f[_0x120ead(0x176)],']'),function(_0x565f8c){const _0x13f1b4=_0x120ead;_0x565f8c[_0x13f1b4(0x234)](0x5);const _0x469778=connect(setup(),{'clean':_0x9d8c2f[_0x13f1b4(0x176)]});_0x565f8c['tearDown'](_0x469778[_0x13f1b4(0x23e)]['close'][_0x13f1b4(0x21b)](_0x469778[_0x13f1b4(0x23e)]));const _0x117884={'cmd':_0x3ebb17[_0x13f1b4(0x167)],'topic':'hello','payload':Buffer[_0x13f1b4(0x268)](_0x13f1b4(0x273)),'dup':![],'length':0xc,'qos':0x0,'retain':![]},_0x48cd36=_0x9d8c2f[_0x13f1b4(0x176)]?null:[{'topic':_0x3ebb17['TifLP'],'qos':_0x9d8c2f[_0x13f1b4(0x239)]}];subscribe(_0x565f8c,_0x469778,_0x3ebb17[_0x13f1b4(0x175)],_0x9d8c2f[_0x13f1b4(0x239)],function(){const _0x355649=_0x13f1b4;_0x469778[_0x355649(0x1df)][_0x355649(0x20c)](_0x355649(0x246),function(_0x501bae){const _0x3d88f9=_0x355649;_0x565f8c[_0x3d88f9(0x1ea)](_0x501bae,_0x117884,_0x3d88f9(0x1e9));}),_0x469778[_0x355649(0x23e)][_0x355649(0x160)][_0x355649(0x185)](_0x469778[_0x355649(0x283)],function(_0x5156cf,_0x2717a2){const _0x2c501b=_0x355649;_0x565f8c[_0x2c501b(0x1ea)](_0x2717a2,_0x48cd36);}),_0x469778[_0x355649(0x23e)][_0x355649(0x163)]({'cmd':_0x355649(0x163),'topic':'hello','payload':'world'});});});}),test(_0x595275(0x1e8),function(_0x795bf1){const _0x31e5d4=_0x595275,_0x41c63c={'iFnCZ':'error','hXNTE':'packet\x20received\x20not\x20valid','ouEij':function(_0x532fb3,_0x5925d1,_0x427b41){return _0x532fb3(_0x5925d1,_0x427b41);},'RhfED':_0x31e5d4(0x286)};_0x795bf1['plan'](0x1);const _0x5f529b=_0x41c63c[_0x31e5d4(0x201)](proxyquire,_0x41c63c[_0x31e5d4(0x280)],{'mqtt-packet':{'writeToStream':()=>{const _0x119d64=_0x31e5d4;throw Error(_0x41c63c[_0x119d64(0x253)]);}}});var _0x1b72fd={'conn':{'writable':!![]},'connecting':!![],'_onError':_0x282cf5=>{const _0x517469=_0x31e5d4;_0x795bf1[_0x517469(0x169)](_0x282cf5['message'],_0x41c63c['hXNTE'],_0x517469(0x1dc));}};_0x41c63c[_0x31e5d4(0x201)](_0x5f529b,_0x1b72fd,{});}),[{'qos':0x0,'clean':![]},{'qos':0x0,'clean':!![]},{'qos':0x1,'clean':![]},{'qos':0x1,'clean':!![]}]['forEach'](function(_0x2bd436){const _0xfa5f30=_0x595275,_0x219969={'TbxZT':_0xfa5f30(0x207),'iddLt':function(_0x5112cf,_0x1ea089){return _0x5112cf===_0x1ea089;},'FlLIr':_0xfa5f30(0x17c),'pqwqB':function(_0x820a53,_0x3de9b4,_0x25f455){return _0x820a53(_0x3de9b4,_0x25f455);},'SvWoa':function(_0x26c414){return _0x26c414();},'DkDDf':'hello','SnrqI':_0xfa5f30(0x1f9)};test(_0xfa5f30(0x274)+_0x2bd436[_0xfa5f30(0x239)]+_0x219969[_0xfa5f30(0x1ab)]+_0x2bd436[_0xfa5f30(0x176)]+']',function(_0x3c422c){const _0x1fee59=_0xfa5f30,_0x44ebda={'FtfYg':function(_0x1f9d45,_0x3d8418){return _0x1f9d45!==_0x3d8418;},'uXshL':'MHjcf','QKbrc':_0x1fee59(0x14b),'RSIGH':_0x1fee59(0x273),'zmFZp':_0x219969[_0x1fee59(0x1b5)]};if(_0x219969['iddLt'](_0x219969[_0x1fee59(0x1e4)],_0x219969[_0x1fee59(0x1e4)])){_0x3c422c[_0x1fee59(0x234)](0x5);const _0x2bd4ae=_0x219969['pqwqB'](connect,_0x219969[_0x1fee59(0x249)](setup),{'clean':_0x2bd436[_0x1fee59(0x176)]});_0x3c422c[_0x1fee59(0x19c)](_0x2bd4ae[_0x1fee59(0x23e)][_0x1fee59(0x165)]['bind'](_0x2bd4ae['broker']));const _0x4f96b9={'cmd':_0x1fee59(0x163),'topic':_0x1fee59(0x14b),'payload':Buffer[_0x1fee59(0x268)](_0x1fee59(0x273)),'dup':![],'length':0xc,'qos':0x0,'retain':![]},_0x48371a=[{'topic':_0x219969['DkDDf'],'qos':_0x2bd436[_0x1fee59(0x239)]},{'topic':'world','qos':_0x2bd436['qos']}],_0x362721=_0x2bd436['clean']?null:_0x48371a;subscribeMultiple(_0x3c422c,_0x2bd4ae,_0x48371a,[_0x2bd436[_0x1fee59(0x239)],_0x2bd436[_0x1fee59(0x239)]],function(){const _0x4e03d9=_0x1fee59,_0xdf31aa={'JQgKe':function(_0x3bb97e,_0x5342ac){const _0x2b1e68=_0x1ba9;return _0x44ebda[_0x2b1e68(0x276)](_0x3bb97e,_0x5342ac);},'ytWgg':_0x44ebda[_0x4e03d9(0x17f)]};_0x2bd4ae['outStream']['on'](_0x4e03d9(0x246),function(_0x5b8dd3){const _0x354294=_0x4e03d9;_0xdf31aa[_0x354294(0x19b)](_0x354294(0x236),_0xdf31aa[_0x354294(0x24c)])?_0x3c422c[_0x354294(0x1ea)](_0x5b8dd3,_0x4f96b9,_0x354294(0x1e9)):_0x462225[_0x354294(0x1ea)](_0x42ac50,_0x5ab8a4);}),_0x2bd4ae['broker'][_0x4e03d9(0x160)]['subscriptionsByClient'](_0x2bd4ae[_0x4e03d9(0x283)],function(_0x4b67c8,_0x66e4a3){_0x3c422c['deepEqual'](_0x66e4a3,_0x362721);}),_0x2bd4ae[_0x4e03d9(0x23e)][_0x4e03d9(0x163)]({'cmd':_0x4e03d9(0x163),'topic':_0x44ebda[_0x4e03d9(0x20a)],'payload':_0x44ebda[_0x4e03d9(0x27b)]});});}else _0xb62aa3[_0x1fee59(0x1ea)](_0x1ffafc,{'cmd':_0x44ebda[_0x1fee59(0x15e)],'returnCode':0x0,'length':0x2,'qos':0x0,'retain':![],'dup':![],'topic':null,'payload':null,'sessionPresent':![]},_0x1fee59(0x162));});}),test(_0x595275(0x1a7),function(_0x555e68){const _0x181c5f=_0x595275,_0x41983a={'neyWE':_0x181c5f(0x163),'ZaWkR':_0x181c5f(0x14b),'tTpGh':'world','mWkVc':function(_0x5d0001,_0x1e9233){return _0x5d0001(_0x1e9233);},'aLWVb':function(_0x43dbd8){return _0x43dbd8();},'jQNFU':_0x181c5f(0x21f),'ApdNu':_0x181c5f(0x246)};_0x555e68[_0x181c5f(0x234)](0x3);const _0x244697=_0x41983a[_0x181c5f(0x195)](connect,_0x41983a[_0x181c5f(0x28f)](setup));_0x555e68[_0x181c5f(0x19c)](_0x244697['broker']['close'][_0x181c5f(0x21b)](_0x244697['broker'])),_0x244697[_0x181c5f(0x18f)][_0x181c5f(0x1a4)]({'cmd':_0x181c5f(0x1b2),'messageId':0x2a,'subscriptions':[{'topic':_0x41983a['ZaWkR'],'qos':0x0}]}),_0x244697[_0x181c5f(0x23e)]['on'](_0x41983a['jQNFU'],function(_0x101c8a,_0xd3bc2f){_0x555e68['ok'](_0x101c8a,'client\x20is\x20passed'),_0x555e68['ok'](_0xd3bc2f,'err\x20is\x20passed');}),_0x244697[_0x181c5f(0x1df)]['on'](_0x41983a['ApdNu'],function(_0x4bc18f){const _0x553bb2=_0x181c5f;_0x244697[_0x553bb2(0x150)]['destroy'](),_0x244697['broker'][_0x553bb2(0x163)]({'cmd':_0x41983a[_0x553bb2(0x217)],'topic':_0x41983a['ZaWkR'],'payload':Buffer[_0x553bb2(0x268)](_0x41983a[_0x553bb2(0x272)])},function(){const _0x29667b=_0x553bb2;_0x555e68[_0x29667b(0x1ad)](_0x29667b(0x20f));});});}),test(_0x595275(0x1fb),function(_0x137e4e){const _0x219a58=_0x595275,_0xae0f0c={'QikPf':_0x219a58(0x26e),'mKtSk':function(_0x4d6a7b,_0x178847){return _0x4d6a7b(_0x178847);},'AQLUu':'hello','Volog':'connectionError'};_0x137e4e[_0x219a58(0x234)](0x1);const _0xa33658=_0xae0f0c['mKtSk'](connect,setup());_0x137e4e[_0x219a58(0x19c)](_0xa33658['broker'][_0x219a58(0x165)][_0x219a58(0x21b)](_0xa33658[_0x219a58(0x23e)])),_0xa33658[_0x219a58(0x18f)]['write']({'cmd':_0x219a58(0x1b2),'subscriptions':[{'topic':_0xae0f0c['AQLUu'],'qos':0x0}]}),_0xa33658[_0x219a58(0x23e)]['on'](_0xae0f0c['Volog'],function(_0x54fbaf,_0xc13430){_0x137e4e['ok'](_0xc13430['message'],_0xae0f0c['QikPf']);});}),test(_0x595275(0x258),function(_0x3c0cbd){const _0x167b12=_0x595275,_0x5bfa71={'Tnypw':'IeTTA','fnFtu':_0x167b12(0x246),'LRXpQ':_0x167b12(0x14b),'oRmRC':_0x167b12(0x273),'VtZQN':_0x167b12(0x18b),'NJbxB':'unsubscribe','DcRdE':function(_0x2379bf){return _0x2379bf();}};_0x3c0cbd[_0x167b12(0x234)](0x5);const _0x57f097=noError(connect(_0x5bfa71[_0x167b12(0x1b6)](setup)),_0x3c0cbd);_0x3c0cbd[_0x167b12(0x19c)](_0x57f097[_0x167b12(0x23e)][_0x167b12(0x165)][_0x167b12(0x21b)](_0x57f097[_0x167b12(0x23e)])),subscribe(_0x3c0cbd,_0x57f097,_0x5bfa71[_0x167b12(0x287)],0x0,function(){const _0x40da9b=_0x167b12,_0x267070={'iJVNx':function(_0x33cba1,_0x73f37d){return _0x33cba1(_0x73f37d);},'MxqCN':'abcde','hlDvG':_0x5bfa71['VtZQN']};_0x57f097[_0x40da9b(0x18f)]['write']({'cmd':_0x5bfa71[_0x40da9b(0x24a)],'messageId':0x2b,'unsubscriptions':[_0x5bfa71[_0x40da9b(0x287)]]}),_0x57f097[_0x40da9b(0x1df)][_0x40da9b(0x20c)]('data',function(_0x38ea5e){const _0x3f3bb6=_0x40da9b,_0x1701fb={'bCaHu':function(_0x728fb5,_0x3f5c52,_0x1102d0){return _0x728fb5(_0x3f5c52,_0x1102d0);},'rXdan':_0x3f3bb6(0x1dd),'ahkzs':'publish\x20finished'};if(_0x5bfa71['Tnypw']===_0x3f3bb6(0x1bb)){_0x18ab4a[_0x3f3bb6(0x234)](0x2);const _0x17c5ed=_0x2591ec();_0x127665[_0x3f3bb6(0x19c)](_0x17c5ed[_0x3f3bb6(0x165)][_0x3f3bb6(0x21b)](_0x17c5ed));const _0x186994=_0x5a28cf(_0x267070['iJVNx'](_0x3cabdc,_0x17c5ed),{'clientId':_0x267070[_0x3f3bb6(0x1ae)]},function(){const _0x4c48a8=_0x3f3bb6;_0x1701fb[_0x4c48a8(0x2ab)](_0x3362d3,_0x186994['conn'],function(){const _0x49333b=_0x4c48a8;_0x26bdd9[_0x49333b(0x1ad)]('disconnect\x20first\x20client');}),_0x17c5ed['publish']({'topic':_0x1701fb[_0x4c48a8(0x1c9)],'payload':_0x257450[_0x4c48a8(0x268)](_0x4c48a8(0x28b))},function(){const _0x23beda=_0x4c48a8;_0x242428[_0x23beda(0x1ad)]('second\x20client\x20connects\x20to\x20another\x20broker');});});}else _0x3c0cbd[_0x3f3bb6(0x1ea)](_0x38ea5e,{'cmd':'unsuback','messageId':0x2b,'dup':![],'length':0x2,'qos':0x0,'retain':![]},_0x3f3bb6(0x1e9)),_0x57f097['outStream']['on'](_0x5bfa71[_0x3f3bb6(0x1ec)],function(_0x4182af){const _0x13e8b8=_0x3f3bb6;_0x3c0cbd[_0x13e8b8(0x251)](_0x267070[_0x13e8b8(0x1c8)]);}),_0x57f097[_0x3f3bb6(0x23e)][_0x3f3bb6(0x163)]({'cmd':_0x3f3bb6(0x163),'topic':_0x5bfa71[_0x3f3bb6(0x287)],'payload':_0x5bfa71['oRmRC']},function(){const _0x205e50=_0x3f3bb6;_0x3c0cbd['pass'](_0x1701fb[_0x205e50(0x1c2)]);});});});}),test(_0x595275(0x232),function(_0x2037fc){const _0x13e1f1=_0x595275,_0x3629c9={'NwiHn':_0x13e1f1(0x261),'ypgHn':function(_0x52d048,_0x2ef6e3){return _0x52d048+_0x2ef6e3;},'cQSPy':_0x13e1f1(0x177),'gzTMU':function(_0x5d1364,_0x34f978,_0x594caa){return _0x5d1364(_0x34f978,_0x594caa);},'aEPFi':_0x13e1f1(0x28b),'bxqcO':_0x13e1f1(0x147),'OblCB':_0x13e1f1(0x1f2),'qnUVF':_0x13e1f1(0x258),'lNian':_0x13e1f1(0x14b),'GACVO':_0x13e1f1(0x246)};_0x2037fc['plan'](0x1);const _0x51611c=noError(connect(setup()),_0x2037fc);_0x2037fc[_0x13e1f1(0x19c)](_0x51611c[_0x13e1f1(0x23e)][_0x13e1f1(0x165)][_0x13e1f1(0x21b)](_0x51611c[_0x13e1f1(0x23e)])),_0x51611c[_0x13e1f1(0x18f)][_0x13e1f1(0x1a4)]({'cmd':_0x3629c9[_0x13e1f1(0x146)],'messageId':0x2b,'unsubscriptions':[_0x3629c9[_0x13e1f1(0x26f)]]}),_0x51611c[_0x13e1f1(0x1df)][_0x13e1f1(0x20c)](_0x3629c9[_0x13e1f1(0x190)],function(_0x38111e){const _0xc34351=_0x13e1f1;if(_0x3629c9[_0xc34351(0x14d)]===_0xc34351(0x154)){const _0xa4fa53={'RgNVP':_0x3629c9['NwiHn'],'YcXaT':function(_0x5842a6){return _0x5842a6();}};_0x546f02[_0xc34351(0x234)](0x1);const _0x2263bf=_0x34670b();_0x2f0686[_0xc34351(0x19c)](_0x2263bf[_0xc34351(0x165)][_0xc34351(0x21b)](_0x2263bf)),_0x2263bf['mq']['on'](_0x3629c9[_0xc34351(0x13e)]('$SYS/'+_0x2263bf['id'],_0x3629c9[_0xc34351(0x19a)]),function(_0x200d14,_0x414c4c){const _0x1ff802=_0xc34351;_0x5afac4[_0x1ff802(0x169)](_0x200d14[_0x1ff802(0x174)][_0x1ff802(0x262)](),_0x1ff802(0x28b),_0xa4fa53[_0x1ff802(0x29b)]),_0xa4fa53['YcXaT'](_0x414c4c);}),_0x3629c9['gzTMU'](_0x566215,_0x29172e(_0x2263bf),{'clientId':_0x3629c9[_0xc34351(0x194)]});}else _0x2037fc[_0xc34351(0x1ea)](_0x38111e,{'cmd':_0x3629c9[_0xc34351(0x222)],'messageId':0x2b,'dup':![],'length':0x2,'qos':0x0,'retain':![]},_0xc34351(0x1e9));});}),test(_0x595275(0x1a3),function(_0x25cfd0){const _0x12ec2c=_0x595275,_0x221a5e={'ROmXV':_0x12ec2c(0x277),'zZaGd':'data','ehzpX':_0x12ec2c(0x258),'gLTtg':_0x12ec2c(0x14b),'oAsMk':function(_0x12ca9f,_0x2e095a,_0x3521e4){return _0x12ca9f(_0x2e095a,_0x3521e4);},'ndftU':function(_0x89dc99){return _0x89dc99();}};_0x25cfd0[_0x12ec2c(0x234)](0x6);const _0x2f07fa={'clean':!![]},_0x59494f=_0x221a5e[_0x12ec2c(0x1e6)](connect,_0x221a5e[_0x12ec2c(0x21c)](setup),_0x2f07fa);_0x25cfd0[_0x12ec2c(0x19c)](_0x59494f[_0x12ec2c(0x23e)][_0x12ec2c(0x165)][_0x12ec2c(0x21b)](_0x59494f[_0x12ec2c(0x23e)])),subscribe(_0x25cfd0,_0x59494f,'hello',0x0,function(){const _0x20f9de=_0x12ec2c,_0x49e12b={'ZciJr':_0x20f9de(0x223),'fqAEi':_0x20f9de(0x285)};_0x59494f[_0x20f9de(0x150)]['destroy'](null,function(){const _0x1949a7=_0x20f9de;_0x25cfd0[_0x1949a7(0x1ad)](_0x221a5e[_0x1949a7(0x1af)]);}),_0x59494f['outStream']['on'](_0x221a5e[_0x20f9de(0x235)],function(){const _0x354bf5=_0x20f9de;_0x25cfd0[_0x354bf5(0x251)](_0x49e12b['ZciJr']);}),_0x59494f[_0x20f9de(0x23e)][_0x20f9de(0x20c)](_0x221a5e['ehzpX'],function(){const _0x20fccc=_0x20f9de;_0x25cfd0['pass'](_0x49e12b[_0x20fccc(0x238)]);}),_0x59494f[_0x20f9de(0x23e)][_0x20f9de(0x163)]({'cmd':_0x20f9de(0x163),'topic':_0x221a5e[_0x20f9de(0x1c0)],'payload':Buffer[_0x20f9de(0x268)](_0x20f9de(0x273))},function(){_0x25cfd0['pass']('calls\x20the\x20callback');});});}),test(_0x595275(0x184),function(_0x196ede){const _0x5e5fc2=_0x595275,_0x5eb320={'NvWka':_0x5e5fc2(0x257),'nTrIy':_0x5e5fc2(0x28c),'PyUow':_0x5e5fc2(0x143),'YMJUp':function(_0xf8ce9,_0x230c9f){return _0xf8ce9!==_0x230c9f;},'vguOl':_0x5e5fc2(0x293),'EIUpE':_0x5e5fc2(0x20f),'hNYfs':function(_0x101720,_0x680fac){return _0x101720===_0x680fac;},'oKMNQ':_0x5e5fc2(0x153),'rQzSp':_0x5e5fc2(0x258),'lnIFN':_0x5e5fc2(0x163),'OVhDW':'hello','imARK':'world','fFRrh':function(_0x5d02b4,_0x369b5d,_0x221425,_0xf3c707,_0x516542,_0x3f79bc){return _0x5d02b4(_0x369b5d,_0x221425,_0xf3c707,_0x516542,_0x3f79bc);}};_0x196ede[_0x5e5fc2(0x234)](0x5);const _0x3711c1={'clean':![]},_0x3ce7b2=connect(setup(),_0x3711c1);_0x196ede[_0x5e5fc2(0x19c)](_0x3ce7b2[_0x5e5fc2(0x23e)][_0x5e5fc2(0x165)]['bind'](_0x3ce7b2[_0x5e5fc2(0x23e)])),_0x5eb320[_0x5e5fc2(0x23f)](subscribe,_0x196ede,_0x3ce7b2,_0x5e5fc2(0x14b),0x0,function(){const _0x1c9f56=_0x5e5fc2,_0x1b1968={'iNglQ':_0x1c9f56(0x21d),'sFZYT':_0x5eb320['NvWka'],'lgdPI':_0x5eb320[_0x1c9f56(0x1f7)],'TVomQ':function(_0x351c56,_0x58afdf){return _0x351c56(_0x58afdf);},'gthZK':_0x5eb320['PyUow'],'fYuLs':function(_0x2c9737,_0x487cc0){const _0x459680=_0x1c9f56;return _0x5eb320[_0x459680(0x298)](_0x2c9737,_0x487cc0);},'sVgii':_0x5eb320[_0x1c9f56(0x29c)],'psKnV':_0x5eb320[_0x1c9f56(0x292)]};_0x5eb320['hNYfs']('mTFCG',_0x5eb320[_0x1c9f56(0x15a)])?_0x5a0ac7[_0x1c9f56(0x1ad)](_0x1c9f56(0x27c)):(_0x3ce7b2['conn'][_0x1c9f56(0x26a)](null,function(){const _0x2c4703=_0x1c9f56;_0x196ede[_0x2c4703(0x1ad)]('closed\x20streams');}),_0x3ce7b2['outStream']['on']('data',function(){const _0x46100a=_0x1c9f56;_0x196ede[_0x46100a(0x251)]('should\x20not\x20receive\x20any\x20more\x20messages');}),_0x3ce7b2[_0x1c9f56(0x23e)][_0x1c9f56(0x20c)](_0x5eb320['rQzSp'],function(){const _0x4c153c=_0x1c9f56;_0x196ede['fail'](_0x1b1968[_0x4c153c(0x278)]);}),_0x3ce7b2[_0x1c9f56(0x23e)][_0x1c9f56(0x163)]({'cmd':_0x5eb320[_0x1c9f56(0x1d4)],'topic':_0x5eb320[_0x1c9f56(0x241)],'payload':Buffer['from'](_0x5eb320[_0x1c9f56(0x263)])},function(){const _0x355aad=_0x1c9f56;if(_0x1b1968[_0x355aad(0x193)](_0x1b1968[_0x355aad(0x214)],_0x1b1968[_0x355aad(0x214)])){const _0x5e6e7a={'BPgZH':_0x1b1968[_0x355aad(0x2a8)],'Wojsu':_0x1b1968[_0x355aad(0x1ac)]};_0x18442a[_0x355aad(0x234)](0x1);const _0x118019=_0x153eb1();_0x59e386['tearDown'](_0x118019[_0x355aad(0x165)][_0x355aad(0x21b)](_0x118019)),_0x1b1968['TVomQ'](_0x57d960,_0x1b1968[_0x355aad(0x1f0)](_0x20f3a8,_0x118019)),_0x118019['on'](_0x1b1968[_0x355aad(0x208)],function(_0x6bdb00){const _0xa7fd50=_0x355aad,_0x5d5701={'NepNg':_0x5e6e7a[_0xa7fd50(0x183)]};_0x6bdb00[_0xa7fd50(0x150)]['on'](_0x5e6e7a[_0xa7fd50(0x219)],()=>{const _0x2087d8=_0xa7fd50;_0x20195a[_0x2087d8(0x1ad)](_0x2087d8(0x18c));}),_0x6bdb00[_0xa7fd50(0x165)](),_0x6bdb00['conn']['on'](_0xa7fd50(0x28c),()=>{const _0x48f63e=_0xa7fd50;_0x4a7023[_0x48f63e(0x251)](_0x5d5701['NepNg']);}),_0x6bdb00['close']();});}else _0x196ede[_0x355aad(0x1ad)](_0x1b1968[_0x355aad(0x1c6)]);}));});}),test('disconnect',function(_0x11b46a){const _0x172dae=_0x595275,_0x2feed2={'WSsvq':function(_0x1a332e,_0x1b9c77){return _0x1a332e(_0x1b9c77);},'MYdAb':_0x172dae(0x1a2)};_0x11b46a[_0x172dae(0x234)](0x1);const _0x1d42ba=noError(_0x2feed2[_0x172dae(0x1f1)](connect,setup()),_0x11b46a);_0x11b46a[_0x172dae(0x19c)](_0x1d42ba[_0x172dae(0x23e)][_0x172dae(0x165)][_0x172dae(0x21b)](_0x1d42ba[_0x172dae(0x23e)])),_0x1d42ba[_0x172dae(0x23e)]['on'](_0x172dae(0x209),function(){const _0x2e0b42=_0x172dae;_0x11b46a[_0x2e0b42(0x1ad)]('closed\x20stream');}),_0x1d42ba['inStream'][_0x172dae(0x1a4)]({'cmd':_0x2feed2[_0x172dae(0x22a)]});}),test('disconnect\x20client\x20on\x20wrong\x20cmd',function(_0x484ded){const _0x52e7a9=_0x595275,_0x2ec9a4={'xbMyU':_0x52e7a9(0x1e9),'BLpIC':'KyAeH','nwDbG':_0x52e7a9(0x218),'aVwTY':function(_0x5db8c6,_0x5c5e7a,_0x468041){return _0x5db8c6(_0x5c5e7a,_0x468041);},'SaaaV':_0x52e7a9(0x1a1),'VrlJh':function(_0x58345,_0x38a624){return _0x58345!==_0x38a624;},'AXqwO':'FUexC','HHBJI':'sZWow','FiBST':_0x52e7a9(0x291),'yqSea':function(_0x2bd967){return _0x2bd967();},'CrTaS':_0x52e7a9(0x143)};_0x484ded[_0x52e7a9(0x234)](0x1);const _0x2bc7bd=noError(connect(_0x2ec9a4[_0x52e7a9(0x275)](setup)),_0x484ded);_0x484ded[_0x52e7a9(0x19c)](_0x2bc7bd['broker'][_0x52e7a9(0x165)][_0x52e7a9(0x21b)](_0x2bc7bd[_0x52e7a9(0x23e)])),_0x2bc7bd['broker']['on']('clientDisconnect',function(){const _0x586392=_0x52e7a9,_0x2110f0={'rtAjr':'double\x20deliver','gtnGR':_0x2ec9a4['xbMyU'],'ZHuHQ':_0x586392(0x246)};_0x2ec9a4[_0x586392(0x240)]!==_0x2ec9a4[_0x586392(0x215)]?_0x484ded[_0x586392(0x1ad)](_0x586392(0x27c)):(_0x39e64['deepEqual'](_0xcdebd0,_0x2570b9,_0x2110f0[_0x586392(0x212)]),_0x193f34[_0x586392(0x1df)]['on'](_0x2110f0[_0x586392(0x1ef)],function(){const _0x2e958a=_0x586392;_0x2c9d24['fail'](_0x2110f0[_0x2e958a(0x196)]);}));}),_0x2bc7bd[_0x52e7a9(0x23e)]['on'](_0x2ec9a4[_0x52e7a9(0x23d)],function(_0xad6ac0){const _0x1fc4d6=_0x52e7a9;if(_0x2ec9a4[_0x1fc4d6(0x1d0)](_0x2ec9a4[_0x1fc4d6(0x1cc)],_0x2ec9a4[_0x1fc4d6(0x159)]))_0xad6ac0[_0x1fc4d6(0x1e1)][_0x1fc4d6(0x266)](_0x2ec9a4[_0x1fc4d6(0x29d)],{'cmd':_0x1fc4d6(0x1bf)});else{const _0x20032f=_0x55f47c[_0x1fc4d6(0x144)][_0x1fc4d6(0x28b)];_0xe5aabe[_0x1fc4d6(0x169)](_0x20032f[_0x1fc4d6(0x299)],!![],'client\x20connected'),_0x2ec9a4[_0x1fc4d6(0x23a)](_0x570d52,_0x40d206[_0x1fc4d6(0x150)],_0xe9cc8f[_0x1fc4d6(0x1ad)]['bind'](_0x595503,_0x2ec9a4['SaaaV'])),_0x23160f(()=>{const _0x558bff=_0x1fc4d6;_0x20032f['close'](function(){const _0x57d520=_0x1ba9;_0x57515d[_0x57d520(0x169)](_0x257387[_0x57d520(0x144)]['abcde'],_0x303ac3,'client\x20instance\x20is\x20removed');}),_0x5ced83[_0x558bff(0x169)](_0x20032f[_0x558bff(0x299)],![],_0x558bff(0x2a3)),_0x5457ba['close'](function(_0xaf4122){const _0x5ed57f=_0x558bff;_0x74553e[_0x5ed57f(0x252)](_0xaf4122,_0x5ed57f(0x19f));});});}});}),test('client\x20closes',function(_0x239ae7){const _0x4cf0f0=_0x595275,_0x284a9a={'xJBLV':_0x4cf0f0(0x273),'ibtsH':_0x4cf0f0(0x250),'Ffabv':_0x4cf0f0(0x1a1),'aVpBN':function(_0x50a8ed,_0x33299c){return _0x50a8ed(_0x33299c);},'fUUEb':function(_0x431e0f){return _0x431e0f();},'wdWLD':function(_0x9ce27d,_0xf568ac,_0x45ad79){return _0x9ce27d(_0xf568ac,_0x45ad79);}};_0x239ae7['plan'](0x5);const _0x41213b=_0x284a9a[_0x4cf0f0(0x28e)](aedes),_0x456532=noError(_0x284a9a[_0x4cf0f0(0x18d)](connect,setup(_0x41213b),{'clientId':_0x4cf0f0(0x28b)}));_0x41213b['on'](_0x4cf0f0(0x143),function(){const _0x361524=_0x4cf0f0,_0x2e2977={'upAqG':_0x361524(0x246),'xRUjr':_0x284a9a['xJBLV'],'DPQEc':_0x361524(0x163),'hsgAx':_0x284a9a[_0x361524(0x271)],'CyuMZ':_0x361524(0x24f),'XonGI':'client\x20instance\x20is\x20removed'},_0x26fe7b=_0x41213b[_0x361524(0x144)][_0x361524(0x28b)];_0x239ae7[_0x361524(0x169)](_0x26fe7b[_0x361524(0x299)],!![],'client\x20connected'),eos(_0x456532[_0x361524(0x150)],_0x239ae7['pass'][_0x361524(0x21b)](_0x239ae7,_0x284a9a[_0x361524(0x244)])),_0x284a9a[_0x361524(0x22c)](setImmediate,()=>{const _0x55e027=_0x361524,_0x442eaf={'UdzQE':_0x2e2977[_0x55e027(0x1c3)]};_0x26fe7b[_0x55e027(0x165)](function(){const _0x81e9fe=_0x55e027;_0x239ae7[_0x81e9fe(0x169)](_0x41213b[_0x81e9fe(0x144)][_0x81e9fe(0x28b)],undefined,_0x442eaf[_0x81e9fe(0x243)]);}),_0x239ae7[_0x55e027(0x169)](_0x26fe7b[_0x55e027(0x299)],![],'client\x20disconnected'),_0x41213b[_0x55e027(0x165)](function(_0xf01e88){const _0x227b45=_0x55e027,_0x9dc18b={'uBLzY':_0x2e2977[_0x227b45(0x279)],'pmJGE':_0x2e2977[_0x227b45(0x228)],'YgmRc':function(_0x46a42e,_0x2be6b7,_0x3f94e2){return _0x46a42e(_0x2be6b7,_0x3f94e2);},'tCrjw':function(_0x3bb51b){return _0x3bb51b();},'mPfxi':_0x2e2977[_0x227b45(0x1fc)],'SCCrI':_0x227b45(0x14b)};if(_0x2e2977[_0x227b45(0x15d)]===_0x2e2977[_0x227b45(0x1b0)]){const _0x27700f={'uewrR':_0x9dc18b[_0x227b45(0x192)],'FDINC':_0x9dc18b[_0x227b45(0x14c)]};_0x13956d[_0x227b45(0x234)](0x5);const _0x22aa47=_0x9dc18b[_0x227b45(0x1ca)](_0x1d9163,_0x9dc18b[_0x227b45(0x145)](_0x49d296),{'clean':_0x58ec27[_0x227b45(0x176)]});_0xa9e40f[_0x227b45(0x19c)](_0x22aa47['broker'][_0x227b45(0x165)][_0x227b45(0x21b)](_0x22aa47[_0x227b45(0x23e)]));const _0x2ff384={'cmd':_0x9dc18b[_0x227b45(0x156)],'topic':'hello','payload':_0x469bda[_0x227b45(0x268)](_0x227b45(0x273)),'dup':![],'length':0xc,'qos':0x0,'retain':![]},_0x474a8c=_0x44d7c4['clean']?null:[{'topic':_0x227b45(0x14b),'qos':_0x38ae09[_0x227b45(0x239)]}];_0x569302(_0x1c638d,_0x22aa47,_0x9dc18b[_0x227b45(0x294)],_0x5cd6a6[_0x227b45(0x239)],function(){const _0x75cbfe=_0x227b45;_0x22aa47[_0x75cbfe(0x1df)][_0x75cbfe(0x20c)](_0x27700f[_0x75cbfe(0x1fe)],function(_0x28eed6){const _0x147d6a=_0x75cbfe;_0x389c0f[_0x147d6a(0x1ea)](_0x28eed6,_0x2ff384,_0x147d6a(0x1e9));}),_0x22aa47[_0x75cbfe(0x23e)][_0x75cbfe(0x160)][_0x75cbfe(0x185)](_0x22aa47[_0x75cbfe(0x283)],function(_0x31ceab,_0xcb3a1a){_0xb1d764['deepEqual'](_0xcb3a1a,_0x474a8c);}),_0x22aa47['broker'][_0x75cbfe(0x163)]({'cmd':_0x75cbfe(0x163),'topic':_0x75cbfe(0x14b),'payload':_0x27700f[_0x75cbfe(0x2a6)]});});}else _0x239ae7[_0x227b45(0x252)](_0xf01e88,_0x227b45(0x19f));});});});}),test('broker\x20closes',function(_0x3a47aa){const _0x53c166=_0x595275,_0x157211={'TgGqQ':_0x53c166(0x27d),'VsWgZ':function(_0x1e49d6,_0x4b6f8c,_0x1e10a6){return _0x1e49d6(_0x4b6f8c,_0x1e10a6);},'GNEwy':'client\x20closes','apWxF':function(_0x28cc15){return _0x28cc15();},'VaBlk':function(_0x464dad,_0xaafffa){return _0x464dad(_0xaafffa);},'Btlav':_0x53c166(0x28b)};_0x3a47aa[_0x53c166(0x234)](0x4);const _0xe5d040=_0x157211[_0x53c166(0x231)](aedes),_0x430c88=noError(connect(_0x157211[_0x53c166(0x1cf)](setup,_0xe5d040),{'clientId':_0x157211[_0x53c166(0x255)]},function(){const _0x2ea967=_0x53c166,_0x46f268={'yrYTI':'no\x20error','SEroP':_0x157211[_0x2ea967(0x200)]};_0x157211[_0x2ea967(0x220)](eos,_0x430c88[_0x2ea967(0x150)],_0x3a47aa[_0x2ea967(0x1ad)]['bind'](_0x3a47aa,_0x157211[_0x2ea967(0x25a)])),_0xe5d040[_0x2ea967(0x165)](function(_0x3774b1){const _0x2a0893=_0x2ea967;_0x3a47aa[_0x2a0893(0x252)](_0x3774b1,_0x46f268[_0x2a0893(0x1db)]),_0x3a47aa['ok'](_0xe5d040[_0x2a0893(0x225)]),_0x3a47aa[_0x2a0893(0x169)](_0xe5d040[_0x2a0893(0x144)][_0x2a0893(0x28b)],undefined,_0x46f268[_0x2a0893(0x17b)]);});}));}),test(_0x595275(0x229),function(_0x3baec8){const _0x3d0b04=_0x595275,_0x530da6={'mvNuE':_0x3d0b04(0x19f),'tfdHw':_0x3d0b04(0x21a),'KSXEv':function(_0x407e82,_0x21ed5f){return _0x407e82(_0x21ed5f);}};_0x3baec8['plan'](0x7);const _0x919c7e=aedes(),_0x5d2daa=noError(connect(_0x530da6[_0x3d0b04(0x15c)](setup,_0x919c7e),{},function(){const _0x33398e=_0x3d0b04,_0x1190c8={'ToHCR':_0x530da6[_0x33398e(0x180)],'jevjc':function(_0x58ddbd,_0x3c4cef,_0x15dbd3){return _0x58ddbd(_0x3c4cef,_0x15dbd3);},'IqThw':_0x530da6[_0x33398e(0x295)],'GUjEG':function(_0x2df142,_0x5d7df5,_0x1fa470){return _0x2df142(_0x5d7df5,_0x1fa470);},'nIVyG':_0x33398e(0x16a)},_0x2d8c44=_0x530da6['KSXEv'](noError,connect(_0x530da6[_0x33398e(0x15c)](setup,_0x919c7e),{},function(){const _0x147a60=_0x33398e,_0x5e48d1={'lbCiE':_0x1190c8['ToHCR'],'dcZir':_0x147a60(0x151),'KNyey':_0x147a60(0x170)};_0x3baec8['equal'](_0x919c7e[_0x147a60(0x1f3)],0x2,'2\x20connected\x20clients'),_0x1190c8['jevjc'](eos,_0x5d2daa[_0x147a60(0x150)],_0x3baec8[_0x147a60(0x1ad)][_0x147a60(0x21b)](_0x3baec8,_0x1190c8[_0x147a60(0x161)])),_0x1190c8['GUjEG'](eos,_0x2d8c44[_0x147a60(0x150)],_0x3baec8[_0x147a60(0x1ad)]['bind'](_0x3baec8,_0x1190c8['nIVyG'])),_0x919c7e[_0x147a60(0x165)](function(_0x360bc7){const _0x5a8a19=_0x147a60;_0x3baec8[_0x5a8a19(0x252)](_0x360bc7,_0x5e48d1['lbCiE']),_0x3baec8['ok'](_0x919c7e['mq']['closed'],'broker\x20mq\x20closes'),_0x3baec8['ok'](_0x919c7e[_0x5a8a19(0x225)],_0x5e48d1[_0x5a8a19(0x1ce)]),_0x3baec8['equal'](_0x919c7e['connectedClients'],0x0,_0x5e48d1[_0x5a8a19(0x1e0)]);});}));}));}),test(_0x595275(0x1bc),function(_0x6c512b){const _0x1c66db=_0x595275,_0x3b9183={'kdoMJ':function(_0x45718f){return _0x45718f();},'gsVbW':_0x1c66db(0x252)};_0x6c512b[_0x1c66db(0x234)](0x1);const _0x3fd384=_0x3b9183['kdoMJ'](aedes);_0x6c512b['tearDown'](_0x3fd384[_0x1c66db(0x165)][_0x1c66db(0x21b)](_0x3fd384));const _0xf9da15=setup(_0x3fd384);_0x3fd384['on'](_0x1c66db(0x149),function(_0x577efd,_0x48d82d){_0x6c512b['notOk'](_0x577efd['id'],null);}),_0xf9da15[_0x1c66db(0x150)][_0x1c66db(0x266)](_0x3b9183[_0x1c66db(0x1bd)],_0x1c66db(0x1be));}),test(_0x595275(0x25d),function(_0x15ae5a){const _0xe1f2db=_0x595275;_0x15ae5a['plan'](0x1);const _0x4c9e26=setup();_0x15ae5a[_0xe1f2db(0x19c)](_0x4c9e26[_0xe1f2db(0x23e)][_0xe1f2db(0x165)][_0xe1f2db(0x21b)](_0x4c9e26['broker'])),_0x4c9e26[_0xe1f2db(0x18f)]['write']({'cmd':_0xe1f2db(0x1b8),'protocolId':_0xe1f2db(0x224),'protocolVersion':0x4,'clean':!![],'keepalive':0x0}),_0x4c9e26[_0xe1f2db(0x1df)]['on'](_0xe1f2db(0x246),function(_0x3cb528){const _0x43733b=_0xe1f2db;_0x15ae5a['deepEqual'](_0x3cb528,{'cmd':_0x43733b(0x207),'returnCode':0x0,'length':0x2,'qos':0x0,'retain':![],'dup':![],'topic':null,'payload':null,'sessionPresent':![]},'successful\x20connack');});}),test('disconnect\x20existing\x20client\x20with\x20the\x20same\x20clientId',function(_0x48f425){const _0x556334=_0x595275,_0x52d187={'cZfEA':function(_0x3dd932,_0x3a1e6e,_0x41f5e8){return _0x3dd932(_0x3a1e6e,_0x41f5e8);},'AOgxt':function(_0x2e7aca,_0x19dcef,_0x2c5c9f,_0x2c8149){return _0x2e7aca(_0x19dcef,_0x2c5c9f,_0x2c8149);},'lAZcP':function(_0x321970,_0x89d4da){return _0x321970(_0x89d4da);}};_0x48f425[_0x556334(0x234)](0x2);const _0x2e158b=aedes();_0x48f425[_0x556334(0x19c)](_0x2e158b[_0x556334(0x165)][_0x556334(0x21b)](_0x2e158b));const _0x93178c=connect(_0x52d187[_0x556334(0x2a7)](setup,_0x2e158b),{'clientId':_0x556334(0x28b)},function(){const _0x13027c=_0x556334;_0x52d187[_0x13027c(0x27f)](eos,_0x93178c[_0x13027c(0x150)],function(){const _0x1f6b7e=_0x13027c;_0x48f425[_0x1f6b7e(0x1ad)](_0x1f6b7e(0x186));}),_0x52d187[_0x13027c(0x199)](connect,setup(_0x2e158b),{'clientId':_0x13027c(0x28b)},function(){const _0x1ed937=_0x13027c;_0x48f425[_0x1ed937(0x1ad)]('second\x20client\x20connected');});});}),test(_0x595275(0x206),function(_0x5535ff){const _0x30b31a=_0x595275,_0x3e31c4={'JOTfe':'disconnect\x20first\x20client','NjwLW':function(_0x4a0129,_0x4007b9){return _0x4a0129!==_0x4007b9;},'comNP':function(_0x140332,_0x1c6ea5,_0x5150b7){return _0x140332(_0x1c6ea5,_0x5150b7);},'FXyAt':_0x30b31a(0x1dd),'vBNNS':function(_0x23f030,_0xec48b4){return _0x23f030(_0xec48b4);}};_0x5535ff['plan'](0x2);const _0x25b90e=aedes();_0x5535ff[_0x30b31a(0x19c)](_0x25b90e[_0x30b31a(0x165)][_0x30b31a(0x21b)](_0x25b90e));const _0x198d99=connect(_0x3e31c4[_0x30b31a(0x1e7)](setup,_0x25b90e),{'clientId':'abcde'},function(){const _0x18f38f=_0x30b31a,_0x5227cf={'AQAlO':_0x3e31c4[_0x18f38f(0x260)]};_0x3e31c4['NjwLW'](_0x18f38f(0x1b9),_0x18f38f(0x1b9))?_0x1add3e['_parser'][_0x18f38f(0x266)](_0x18f38f(0x291),{'cmd':_0x18f38f(0x1bf)}):(_0x3e31c4[_0x18f38f(0x284)](eos,_0x198d99[_0x18f38f(0x150)],function(){const _0x1d3ce3=_0x18f38f;_0x5535ff[_0x1d3ce3(0x1ad)](_0x5227cf['AQAlO']);}),_0x25b90e[_0x18f38f(0x163)]({'topic':_0x3e31c4['FXyAt'],'payload':Buffer[_0x18f38f(0x268)](_0x18f38f(0x28b))},function(){const _0x383406=_0x18f38f;_0x5535ff[_0x383406(0x1ad)](_0x383406(0x17a));}));});}),test(_0x595275(0x1d1),function(_0x54bb87){const _0x38fdef=_0x595275,_0x4e39ec={'MZfbB':function(_0x10f987,_0x3270fc){return _0x10f987+_0x3270fc;},'jIazg':_0x38fdef(0x2a0),'debOZ':function(_0x381b33,_0x42139f){return _0x381b33(_0x42139f);}};_0x54bb87[_0x38fdef(0x234)](0x1);const _0xd702eb=aedes();_0x54bb87['tearDown'](_0xd702eb[_0x38fdef(0x165)]['bind'](_0xd702eb)),_0xd702eb['mq']['on'](_0x4e39ec[_0x38fdef(0x17e)](_0x4e39ec[_0x38fdef(0x17e)](_0x4e39ec[_0x38fdef(0x213)],_0xd702eb['id']),_0x38fdef(0x177)),function(_0x1010cb,_0x558131){const _0x21e5e6=_0x38fdef;_0x54bb87['equal'](_0x1010cb[_0x21e5e6(0x174)][_0x21e5e6(0x262)](),_0x21e5e6(0x28b),'clientId\x20matches'),_0x558131();}),connect(_0x4e39ec[_0x38fdef(0x1e2)](setup,_0xd702eb),{'clientId':'abcde'});}),test(_0x595275(0x226),function(_0x87e21d){const _0x5975fd=_0x595275,_0x1b1ac4={'fQuiK':function(_0x37917c,_0x938f31){return _0x37917c(_0x938f31);},'xoKKy':function(_0x7d3f4){return _0x7d3f4();},'UFLPO':_0x5975fd(0x163),'RakuN':_0x5975fd(0x14b),'aczVc':function(_0xd1f2fc,_0x3c048c,_0x39ff65,_0xd24d35){return _0xd1f2fc(_0x3c048c,_0x39ff65,_0xd24d35);},'nWuAY':'abcde'};_0x87e21d[_0x5975fd(0x234)](0x5);const _0x5e6206=_0x1b1ac4['xoKKy'](aedes);_0x87e21d[_0x5975fd(0x19c)](_0x5e6206[_0x5975fd(0x165)]['bind'](_0x5e6206));const _0x444a46={'cmd':_0x1b1ac4[_0x5975fd(0x1c7)],'topic':_0x1b1ac4[_0x5975fd(0x1ed)],'payload':Buffer[_0x5975fd(0x268)](_0x5975fd(0x273)),'qos':0x0,'dup':![],'length':0xc,'retain':![]};var _0x35f616=_0x1b1ac4['aczVc'](connect,setup(_0x5e6206),{'clean':![],'clientId':_0x1b1ac4[_0x5975fd(0x141)]},function(){const _0x15976f=_0x5975fd;subscribe(_0x87e21d,_0x35f616,_0x15976f(0x14b),0x0,function(){const _0x27b98d=_0x15976f,_0x3a8b64={'hvwPx':'abcde'};_0x35f616['inStream'][_0x27b98d(0x187)]();const _0x506d34=connect(_0x1b1ac4['fQuiK'](setup,_0x5e6206),{},function(){const _0x324896=_0x27b98d,_0x4e71b5={'szoqp':_0x324896(0x163)};_0x35f616=connect(setup(_0x5e6206),{'clean':![],'clientId':_0x3a8b64[_0x324896(0x282)]},function(_0x2dfbfe){const _0x1c4d3c=_0x324896;_0x87e21d[_0x1c4d3c(0x169)](_0x2dfbfe[_0x1c4d3c(0x142)],!![],_0x1c4d3c(0x1d6)),_0x506d34[_0x1c4d3c(0x18f)][_0x1c4d3c(0x1a4)]({'cmd':_0x4e71b5[_0x1c4d3c(0x1ee)],'topic':_0x1c4d3c(0x14b),'payload':_0x1c4d3c(0x273),'qos':0x0});}),_0x35f616[_0x324896(0x1df)][_0x324896(0x20c)](_0x324896(0x246),function(_0x4838e8){const _0x29e643=_0x324896;_0x87e21d[_0x29e643(0x1ea)](_0x4838e8,_0x444a46,_0x29e643(0x15f));});});});});}),test(_0x595275(0x256),function(_0x3ad59b){const _0x295c7d=_0x595275,_0x13a1c4={'grxvU':function(_0x19e301,_0x284b79,_0x374fb1,_0x2ac328,_0x5a9c6e,_0x32d6c1){return _0x19e301(_0x284b79,_0x374fb1,_0x2ac328,_0x5a9c6e,_0x32d6c1);},'Ebxhs':_0x295c7d(0x14b)};_0x3ad59b[_0x295c7d(0x234)](0x5);const _0x2a0724=aedes();_0x3ad59b[_0x295c7d(0x19c)](_0x2a0724[_0x295c7d(0x165)][_0x295c7d(0x21b)](_0x2a0724));var _0x304ea4=connect(setup(_0x2a0724),{'clean':!![],'clientId':_0x295c7d(0x28b)},function(){const _0x42c5ff=_0x295c7d,_0x30b85f={'xIUEg':_0x42c5ff(0x28b)};_0x13a1c4[_0x42c5ff(0x20b)](subscribe,_0x3ad59b,_0x304ea4,_0x13a1c4[_0x42c5ff(0x288)],0x0,function(){const _0x5c1080=_0x42c5ff,_0x586bc8={'RLYCI':_0x5c1080(0x163),'ggGEQ':_0x5c1080(0x273),'kkEsP':function(_0x328236,_0x4d292e,_0x4e7859,_0x3362d2){return _0x328236(_0x4d292e,_0x4e7859,_0x3362d2);},'QbLQl':_0x30b85f[_0x5c1080(0x21e)]};_0x304ea4['inStream'][_0x5c1080(0x187)](),_0x304ea4[_0x5c1080(0x23e)]['persistence'][_0x5c1080(0x185)](_0x2a0724[_0x5c1080(0x144)][_0x5c1080(0x28b)],function(_0xc8291f,_0x3d645b,_0x2a57b1){const _0x433133=_0x5c1080;_0x3ad59b[_0x433133(0x169)](_0x3d645b,null,_0x433133(0x230));});const _0x5ff7b8=connect(setup(_0x2a0724),{},function(){const _0x3a9570=_0x5c1080;_0x304ea4=_0x586bc8[_0x3a9570(0x1cd)](connect,setup(_0x2a0724),{'clean':!![],'clientId':_0x586bc8[_0x3a9570(0x210)]},function(_0x55b6c0){const _0x289a92=_0x3a9570;_0x3ad59b[_0x289a92(0x169)](_0x55b6c0[_0x289a92(0x142)],![],_0x289a92(0x19d)),_0x5ff7b8['inStream'][_0x289a92(0x1a4)]({'cmd':_0x586bc8[_0x289a92(0x18a)],'topic':_0x289a92(0x14b),'payload':_0x586bc8[_0x289a92(0x24d)],'qos':0x0});}),_0x304ea4[_0x3a9570(0x1df)][_0x3a9570(0x20c)](_0x3a9570(0x246),function(_0x5bf6ab){const _0x3ea30c=_0x3a9570;_0x3ad59b[_0x3ea30c(0x251)](_0x3ea30c(0x18b));});});});});}),test(_0x595275(0x197),function(_0x5da0cc){const _0x1deaa2=_0x595275,_0x46ab21={'RALZl':_0x1deaa2(0x14b),'VoHWV':function(_0xfaf356,_0x2a2718,_0x221bae,_0x2e8280,_0x4bd2c2,_0x2b8cd6){return _0xfaf356(_0x2a2718,_0x221bae,_0x2e8280,_0x4bd2c2,_0x2b8cd6);},'wnPxm':function(_0xf41503,_0x4afc23,_0x93e07d,_0x3adbf0){return _0xf41503(_0x4afc23,_0x93e07d,_0x3adbf0);}};_0x5da0cc[_0x1deaa2(0x234)](0x7);const _0x141897={'cmd':_0x1deaa2(0x163),'topic':_0x46ab21[_0x1deaa2(0x23c)],'payload':Buffer[_0x1deaa2(0x268)](_0x1deaa2(0x273)),'dup':![],'length':0xc,'qos':0x0,'retain':![]},_0x4be328=_0x46ab21['wnPxm'](connect,setup(),{},function(){const _0x210356=_0x1deaa2,_0x220458={'wYfqM':_0x46ab21['RALZl']};_0x46ab21[_0x210356(0x26c)](subscribe,_0x5da0cc,_0x4be328,_0x46ab21[_0x210356(0x23c)],0x0,function(){const _0xaaffec=_0x210356;subscribe(_0x5da0cc,_0x4be328,_0x220458[_0xaaffec(0x237)],0x0,function(){const _0x26ac59=_0xaaffec,_0x10044e={'tKRBd':_0x26ac59(0x29e)};_0x4be328[_0x26ac59(0x1df)][_0x26ac59(0x20c)](_0x26ac59(0x246),function(_0xa95a77){const _0x4c2e5d=_0x26ac59;_0x5da0cc[_0x4c2e5d(0x1ea)](_0xa95a77,_0x141897,_0x4c2e5d(0x1e9)),_0x4be328[_0x4c2e5d(0x1df)]['on'](_0x4c2e5d(0x246),function(){_0x5da0cc['fail'](_0x10044e['tKRBd']);});}),_0x4be328[_0x26ac59(0x23e)][_0x26ac59(0x163)]({'cmd':_0x26ac59(0x163),'topic':'hello','payload':'world'});});});});_0x5da0cc[_0x1deaa2(0x19c)](_0x4be328[_0x1deaa2(0x23e)][_0x1deaa2(0x165)][_0x1deaa2(0x21b)](_0x4be328['broker']));}),test(_0x595275(0x1eb),function(_0x27f96e){const _0x258de2=_0x595275,_0x47a60b={'uBRYE':'publish','jlGQk':_0x258de2(0x14b),'PhmFQ':function(_0x5070c8,_0x1d400d){return _0x5070c8===_0x1d400d;},'EbJbv':_0x258de2(0x202),'lRwZA':_0x258de2(0x1e9),'coRrb':'world','fJWTC':_0x258de2(0x13f),'UQjSz':'JVfDg'};_0x27f96e[_0x258de2(0x234)](0x7);const _0x4069ff={'cmd':_0x47a60b[_0x258de2(0x16d)],'topic':_0x47a60b[_0x258de2(0x178)],'payload':Buffer[_0x258de2(0x268)](_0x258de2(0x273)),'dup':![],'length':0xc,'qos':0x0,'retain':![]},_0x596d11=connect(setup(),{},function(){const _0x598cf6=_0x258de2,_0x48688d={'WaRAk':_0x598cf6(0x15f),'Ghvxc':_0x598cf6(0x20f)};_0x598cf6(0x2a5)!==_0x47a60b[_0x598cf6(0x203)]?_0x2c489a[_0x598cf6(0x1ea)](_0x23c5d3,_0x4d1c54,_0x48688d[_0x598cf6(0x16e)]):subscribe(_0x27f96e,_0x596d11,_0x47a60b[_0x598cf6(0x178)],0x0,function(){const _0x5d7fb9=_0x598cf6,_0x199d91={'Tdttr':'data','BmKRS':_0x47a60b['uBRYE'],'DVhvQ':_0x47a60b['jlGQk'],'uSkMW':function(_0x3f9e43,_0x5a07f3){const _0x4f1079=_0x1ba9;return _0x47a60b[_0x4f1079(0x204)](_0x3f9e43,_0x5a07f3);},'bHxOq':_0x47a60b[_0x5d7fb9(0x1f4)],'mRZRl':_0x47a60b['lRwZA'],'IEmSW':_0x47a60b[_0x5d7fb9(0x227)]};_0x47a60b['fJWTC']!==_0x5d7fb9(0x22e)?subscribe(_0x27f96e,_0x596d11,_0x5d7fb9(0x26d),0x0,function(){const _0x5629d7=_0x5d7fb9;_0x596d11[_0x5629d7(0x1df)][_0x5629d7(0x20c)](_0x199d91[_0x5629d7(0x198)],function(_0x3117a4){const _0x4eef9b=_0x5629d7,_0x101834={'Gjmdh':_0x4eef9b(0x1e9),'aEYXI':_0x199d91[_0x4eef9b(0x198)],'bSFUx':_0x199d91[_0x4eef9b(0x14f)],'Oflmv':_0x199d91['DVhvQ'],'fvgDQ':function(_0x54867e,_0x2223b8){const _0x432aba=_0x4eef9b;return _0x199d91[_0x432aba(0x15b)](_0x54867e,_0x2223b8);},'GlZiK':'lOUuh','RKbjZ':_0x199d91['bHxOq'],'enSwr':_0x4eef9b(0x29e)};_0x27f96e[_0x4eef9b(0x1ea)](_0x3117a4,_0x4069ff,_0x199d91['mRZRl']),_0x596d11[_0x4eef9b(0x1df)]['on'](_0x4eef9b(0x246),function(){const _0x133329=_0x4eef9b;if(_0x101834[_0x133329(0x140)](_0x101834[_0x133329(0x1a8)],_0x101834[_0x133329(0x1f6)])){const _0x2a1d92={'NECvf':_0x101834[_0x133329(0x1f8)]};_0x21b252['outStream'][_0x133329(0x20c)](_0x101834[_0x133329(0x157)],function(_0x13124d){const _0x5d3f0f=_0x133329;_0x3cf287[_0x5d3f0f(0x1ea)](_0x13124d,_0x3356b4,_0x2a1d92[_0x5d3f0f(0x2a1)]);}),_0x3d45dd[_0x133329(0x23e)][_0x133329(0x160)][_0x133329(0x185)](_0x440e03[_0x133329(0x283)],function(_0x4697d5,_0x1fd1db){const _0x398175=_0x133329;_0x23f7ff[_0x398175(0x1ea)](_0x1fd1db,_0x521b37);}),_0xf84a32[_0x133329(0x23e)][_0x133329(0x163)]({'cmd':_0x101834[_0x133329(0x181)],'topic':_0x101834[_0x133329(0x1f5)],'payload':'world'});}else _0x27f96e[_0x133329(0x251)](_0x101834[_0x133329(0x25b)]);});}),_0x596d11['broker'][_0x5629d7(0x163)]({'cmd':_0x199d91[_0x5629d7(0x14f)],'topic':_0x199d91[_0x5629d7(0x17d)],'payload':_0x199d91[_0x5629d7(0x1d8)]});}):_0x22c316[_0x5d7fb9(0x1ad)](_0x48688d[_0x5d7fb9(0x25f)]);});});_0x27f96e[_0x258de2(0x19c)](_0x596d11[_0x258de2(0x23e)][_0x258de2(0x165)]['bind'](_0x596d11[_0x258de2(0x23e)]));}),test('clear\x20drain',function(_0x5dd9b9){const _0x49a84c=_0x595275,_0x11ac9c={'totkp':'publish','imHaD':_0x49a84c(0x14b),'yJCQY':function(_0xd738ee,_0x25188f){return _0xd738ee===_0x25188f;},'VrOdb':'world','hBrEI':_0x49a84c(0x242),'rqxSu':function(_0x124fee,_0x2b1696,_0x238c76,_0x2277f4,_0x20384c,_0x1da866){return _0x124fee(_0x2b1696,_0x238c76,_0x2277f4,_0x20384c,_0x1da866);},'kduzj':function(_0x19d889){return _0x19d889();}};_0x5dd9b9['plan'](0x4);const _0x58310e=connect(_0x11ac9c[_0x49a84c(0x264)](setup),{},function(){const _0x2e3a95=_0x49a84c,_0x358c2e={'RtAmC':_0x11ac9c[_0x2e3a95(0x18e)]};_0x11ac9c[_0x2e3a95(0x254)](subscribe,_0x5dd9b9,_0x58310e,_0x11ac9c[_0x2e3a95(0x1d2)],0x0,function(){const _0x338be9=_0x2e3a95,_0x1a9222={'QLUbB':function(_0x26db56,_0x146adf){return _0x26db56(_0x146adf);},'Dlmuv':function(_0x3ce7cb){return _0x3ce7cb();},'lyDMj':_0x11ac9c['totkp'],'GJBbo':_0x338be9(0x273),'FGHTJ':_0x11ac9c[_0x338be9(0x1d2)],'VYYhl':function(_0x33e536,_0x136bbc){const _0x503c8c=_0x338be9;return _0x11ac9c[_0x503c8c(0x27e)](_0x33e536,_0x136bbc);},'yiZbt':_0x338be9(0x2aa)};_0x58310e[_0x338be9(0x150)][_0x338be9(0x1a4)]=function(_0x370262,_0x39be7f,_0x53e6ce){const _0x398c51=_0x338be9,_0x4d5e77={'JKHAI':_0x398c51(0x1e9)};if(_0x358c2e['RtAmC']===_0x398c51(0x242))return eval('Math[\'PI\'] * 2;'),![];else{_0x8d972f['plan'](0x2);const _0x107a88=_0x1a9222[_0x398c51(0x1c5)](_0x742097,_0x1a9222[_0x398c51(0x270)](_0x5588c2));_0x3d844d[_0x398c51(0x19c)](_0x107a88['broker'][_0x398c51(0x165)][_0x398c51(0x21b)](_0x107a88[_0x398c51(0x23e)]));var _0x52ed17={'cmd':_0x1a9222[_0x398c51(0x1b7)],'topic':_0x398c51(0x14b),'payload':_0x116d58[_0x398c51(0x268)](_0x1a9222[_0x398c51(0x25c)]),'qos':0x0,'retain':![],'dup':![]};_0x107a88['broker']['mq']['on'](_0x398c51(0x14b),function(_0x5eaf61,_0x33f492){const _0x4c21ba=_0x398c51,_0x39b896='0|2|3|1|4'[_0x4c21ba(0x248)]('|');let _0x1f6113=0x0;while(!![]){switch(_0x39b896[_0x1f6113++]){case'0':_0x52ed17[_0x4c21ba(0x1c4)]=_0x107a88['broker']['id'];continue;case'1':_0x554213[_0x4c21ba(0x1ea)](_0x5eaf61,_0x52ed17,_0x4d5e77[_0x4c21ba(0x189)]);continue;case'2':_0x52ed17['brokerCounter']=_0x107a88[_0x4c21ba(0x23e)][_0x4c21ba(0x27a)];continue;case'3':_0xb53e22[_0x4c21ba(0x169)](_0x5eaf61[_0x4c21ba(0x247)],_0x21c5a4,_0x4c21ba(0x24b));continue;case'4':_0x33f492();continue;}break;}}),_0x107a88['inStream']['write']({'cmd':_0x1a9222['lyDMj'],'topic':_0x1a9222[_0x398c51(0x188)],'payload':'world'});}},_0x58310e[_0x338be9(0x23e)][_0x338be9(0x163)]({'cmd':_0x11ac9c['totkp'],'topic':_0x11ac9c['imHaD'],'payload':_0x11ac9c[_0x338be9(0x1d5)]},function(){const _0x13462a=_0x338be9,_0x42ca4b={'yZKWn':_0x13462a(0x29e)};_0x1a9222[_0x13462a(0x1a9)](_0x13462a(0x1d3),_0x13462a(0x1d3))?_0x5dd9b9['pass'](_0x1a9222[_0x13462a(0x1a0)]):_0xe12e2e['fail'](_0x42ca4b[_0x13462a(0x182)]);}),_0x58310e['conn'][_0x338be9(0x26a)]();});});_0x5dd9b9[_0x49a84c(0x19c)](_0x58310e[_0x49a84c(0x23e)][_0x49a84c(0x165)][_0x49a84c(0x21b)](_0x58310e[_0x49a84c(0x23e)]));}),test('id\x20option',function(_0x5e8d44){const _0x56f2e9=_0x595275,_0x5702ad={'fBhSI':function(_0x19cddf){return _0x19cddf();},'vIBUw':'broker\x20id\x20equals\x20id\x20option\x20when\x20set'};_0x5e8d44[_0x56f2e9(0x234)](0x2);const _0xa751d2=_0x5702ad[_0x56f2e9(0x14a)](aedes);setup(_0xa751d2)[_0x56f2e9(0x150)][_0x56f2e9(0x26a)](),_0x5e8d44['ok'](_0xa751d2['id'],_0x56f2e9(0x22b));const _0x4f05d7=aedes({'id':'abc'});setup(_0x4f05d7)[_0x56f2e9(0x150)][_0x56f2e9(0x26a)](),_0x5e8d44[_0x56f2e9(0x169)](_0x4f05d7['id'],_0x56f2e9(0x221),_0x5702ad[_0x56f2e9(0x2a9)]),_0x5e8d44[_0x56f2e9(0x19c)](()=>{const _0x16f48c=_0x56f2e9;_0xa751d2[_0x16f48c(0x165)](),_0x4f05d7['close']();});}),test(_0x595275(0x267),function(_0x2ebfda){const _0xa9419c=_0x595275,_0x52ecab={'WeXgG':_0xa9419c(0x18c),'NwiCO':'drain','YuOIs':function(_0x53ac81){return _0x53ac81();},'XUnkM':function(_0x9825f4,_0x1f083c){return _0x9825f4(_0x1f083c);}};_0x2ebfda['plan'](0x1);const _0x3a228d=_0x52ecab[_0xa9419c(0x297)](aedes);_0x2ebfda[_0xa9419c(0x19c)](_0x3a228d['close'][_0xa9419c(0x21b)](_0x3a228d)),_0x52ecab['XUnkM'](connect,setup(_0x3a228d)),_0x3a228d['on'](_0xa9419c(0x283),function(_0x29e1c4){const _0x46551d=_0xa9419c,_0x1b59b0={'SMzZG':_0x52ecab[_0x46551d(0x1e5)],'mVdVg':_0x46551d(0x20d)};_0x29e1c4['conn']['on'](_0x52ecab[_0x46551d(0x155)],()=>{const _0x586b03=_0x46551d;_0x2ebfda[_0x586b03(0x1ad)](_0x1b59b0[_0x586b03(0x29a)]);}),_0x29e1c4['close'](),_0x29e1c4[_0x46551d(0x150)]['on'](_0x52ecab[_0x46551d(0x155)],()=>{const _0x53dc39=_0x46551d;_0x2ebfda[_0x53dc39(0x251)](_0x1b59b0[_0x53dc39(0x1fd)]);});});}),test(_0x595275(0x281),function(_0x58f280){const _0x222d37=_0x595275,_0x3c4177={'nVLpk':function(_0x5d74e7){return _0x5d74e7();},'SWrIL':function(_0x5ed27b,_0x3c8864){return _0x5ed27b(_0x3c8864);},'XXfgx':_0x222d37(0x143)};_0x58f280['plan'](0x1);const _0x1f9456=_0x3c4177[_0x222d37(0x1ff)](aedes);_0x58f280[_0x222d37(0x19c)](_0x1f9456[_0x222d37(0x165)]['bind'](_0x1f9456)),_0x3c4177[_0x222d37(0x28a)](connect,setup(_0x1f9456)),_0x1f9456['on'](_0x3c4177['XXfgx'],function(_0x4de4f0){const _0x3038fb=_0x222d37;_0x4de4f0['conn']['on'](_0x3038fb(0x28c),()=>{const _0x26a3a7=_0x3038fb;_0x58f280[_0x26a3a7(0x1ad)](_0x26a3a7(0x18c));}),_0x4de4f0[_0x3038fb(0x165)](),_0x4de4f0['conn']['on']('drain',()=>{_0x58f280['fail']('double\x20execute\x20client\x20close\x20function');}),_0x4de4f0[_0x3038fb(0x165)]();});});