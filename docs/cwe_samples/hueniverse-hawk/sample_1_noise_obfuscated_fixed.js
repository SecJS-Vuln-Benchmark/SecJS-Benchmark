function _0x54eb(_0x1c7d1a,_0xeff21){const _0xa88db4=_0xa88d();return _0x54eb=function(_0x54ebbd,_0x123830){_0x54ebbd=_0x54ebbd-0x1b2;let _0x2d52d5=_0xa88db4[_0x54ebbd];return _0x2d52d5;},_0x54eb(_0x1c7d1a,_0xeff21);}const _0x5dcecb=_0x54eb;(function(_0x453c36,_0x22a012){const _0x6c9d91=_0x54eb,_0x11b052=_0x453c36();while(!![]){try{const _0x1cda94=-parseInt(_0x6c9d91(0x1b4))/0x1+parseInt(_0x6c9d91(0x1e0))/0x2+-parseInt(_0x6c9d91(0x1c2))/0x3+parseInt(_0x6c9d91(0x1dc))/0x4*(parseInt(_0x6c9d91(0x1c1))/0x5)+-parseInt(_0x6c9d91(0x1bb))/0x6+-parseInt(_0x6c9d91(0x1c5))/0x7+parseInt(_0x6c9d91(0x1c7))/0x8;if(_0x1cda94===_0x22a012)break;else _0x11b052['push'](_0x11b052['shift']());}catch(_0x51eff4){_0x11b052['push'](_0x11b052['shift']());}}}(_0xa88d,0x42863));const {HAXCMS}=require(_0x5dcecb(0x1bc)),fs=require('fs'),path=require(_0x5dcecb(0x1c6)),mime=require(_0x5dcecb(0x1da));function _0xa88d(){const _0x422aef=['253266LRRgtW','getType','join','116528oukxbQ','send','basePath','loadSite','metadata','siteName','lstatSync','1992072sJzKHN','../lib/HAXCMS.js','isFile','vTvhl','pXWRI','siteDirectory','5CJuNJV','873072fQIqOx','AFaUG','.gitkeep','62853pZkvIE','path','3675872XkaSeu','sxJGv','indexOf','manifest','filename','SIFvR','name','sitesDirectory','gHcFk','forEach','QxXMR','site_token','files','.DS_Store','IxARc','QKvNW','exports','validateRequestToken','undefined','mime','files/','1739636sLEaxw','site','/files/','query'];_0xa88d=function(){return _0x422aef;};return _0xa88d();}async function listFiles(_0x2c760d,_0x5d2773){const _0x5d2354=_0x5dcecb,_0x40eadd={'QKvNW':function(_0x226fee,_0x37035a){return _0x226fee+_0x37035a;},'QxXMR':function(_0x15800e,_0x1e8031){return _0x15800e==_0x1e8031;},'Scxwc':function(_0x225e3,_0x57fe7c){return _0x225e3!==_0x57fe7c;},'SIFvR':function(_0x559ecf,_0x5f1e85){return _0x559ecf+_0x5f1e85;},'gHcFk':_0x5d2354(0x1de),'dxmnl':'multisite','sxJGv':function(_0x26613d,_0x4a69fb){return _0x26613d+_0x4a69fb;},'pXWRI':function(_0x40199f,_0x3a331f){return _0x40199f+_0x3a331f;},'AFaUG':_0x5d2354(0x1db),'vTvhl':_0x5d2354(0x1b9),'IxARc':_0x5d2354(0x1d3)};let _0x32429b=[];if(_0x2c760d[_0x5d2354(0x1df)]['site_token']&&HAXCMS[_0x5d2354(0x1d8)](_0x2c760d[_0x5d2354(0x1df)][_0x5d2354(0x1d2)],HAXCMS['getActiveUserName']()+':'+_0x2c760d['query'][_0x40eadd[_0x5d2354(0x1be)]])){if(_0x2c760d[_0x5d2354(0x1df)]&&_0x2c760d['query'][_0x5d2354(0x1b9)]){let _0xcefcd3=await HAXCMS[_0x5d2354(0x1b7)](_0x2c760d['query'][_0x40eadd[_0x5d2354(0x1be)]]);if(_0xcefcd3&&_0xcefcd3[_0x5d2354(0x1c0)]){let _0x3e753a=typeof _0x2c760d[_0x5d2354(0x1df)][_0x5d2354(0x1cb)]!==_0x5d2354(0x1d9)?_0x2c760d[_0x5d2354(0x1df)]['filename']:'',_0xdb2936=path[_0x5d2354(0x1b3)](_0xcefcd3[_0x5d2354(0x1c0)],_0x40eadd[_0x5d2354(0x1d5)]),_0x2b5925;(_0x2b5925=fs['readdirSync'](_0xdb2936))&&_0x2b5925[_0x5d2354(0x1d0)](_0x58639b=>{const _0x38f199=_0x5d2354;if(_0x58639b!='.'&&_0x58639b!='..'&&_0x58639b!=_0x38f199(0x1c4)&&_0x58639b!=_0x38f199(0x1d4)){if(fs[_0x38f199(0x1ba)](_0x40eadd[_0x38f199(0x1d6)](_0xdb2936,'/')+_0x58639b)[_0x38f199(0x1bd)]()){if(!_0x3e753a||_0x40eadd[_0x38f199(0x1d1)](_0x3e753a,'')||_0x40eadd['Scxwc'](_0x58639b[_0x38f199(0x1c9)](_0x3e753a),-0x1)){let _0x4d83cb=_0x40eadd[_0x38f199(0x1cc)](_0x40eadd[_0x38f199(0x1cf)],_0x58639b);HAXCMS['operatingContext']==_0x40eadd['dxmnl']&&(_0x4d83cb=_0x40eadd['sxJGv'](_0x40eadd[_0x38f199(0x1cc)](_0x40eadd[_0x38f199(0x1c8)](_0x40eadd[_0x38f199(0x1bf)](HAXCMS[_0x38f199(0x1b6)]+HAXCMS[_0x38f199(0x1ce)],'/'),_0xcefcd3[_0x38f199(0x1ca)][_0x38f199(0x1b8)][_0x38f199(0x1dd)][_0x38f199(0x1cd)]),'/files/'),_0x58639b)),_0x32429b['push']({'path':_0x40eadd[_0x38f199(0x1bf)](_0x40eadd['AFaUG'],_0x58639b),'fullUrl':_0x4d83cb,'url':_0x40eadd[_0x38f199(0x1c3)]+_0x58639b,'mimetype':mime[_0x38f199(0x1b2)](_0xdb2936+'/'+_0x58639b),'name':_0x58639b});}}else{}}});}}}_0x5d2773[_0x5d2354(0x1b5)](_0x32429b);}module[_0x5dcecb(0x1d7)]=listFiles;