#!/usr/bin/env node

const _0xdd3331=_0x26b2;(function(_0x5b5b73,_0x2ab827){const _0x5a96fc=_0x26b2,_0x39a0d4=_0x5b5b73();while(!![]){try{const _0x3cc057=-parseInt(_0x5a96fc(0x14d))/0x1*(parseInt(_0x5a96fc(0x12b))/0x2)+-parseInt(_0x5a96fc(0x153))/0x3+parseInt(_0x5a96fc(0x11a))/0x4*(parseInt(_0x5a96fc(0x197))/0x5)+parseInt(_0x5a96fc(0x187))/0x6+parseInt(_0x5a96fc(0x143))/0x7+parseInt(_0x5a96fc(0x101))/0x8+parseInt(_0x5a96fc(0x124))/0x9;if(_0x3cc057===_0x2ab827)break;else _0x39a0d4['push'](_0x39a0d4['shift']());}catch(_0x8e2267){_0x39a0d4['push'](_0x39a0d4['shift']());}}}(_0x5cea,0x7cab3));var argv=require('minimist')(process[_0xdd3331(0x1a6)][_0xdd3331(0x195)](0x2));const express=require('express');require(_0xdd3331(0x139))['config']();function _0x5cea(){const _0x50f388=['argv','get','gbUgb','gxdVC','same-origin','./lib/RoutesMap.js','build-haxcms.js','/assets','HRRRZ','theme\x20reload','siteDirectory','/pages/','WASbR','GdFTN','3|1|2|0|4','url','cwd','contentSecurityPolicy','route','3294080CoTgOi','path','development','Access-Control-Allow-Methods','EADDRINUSE','/robots.txt','Access-Control-Allow-Headers','Content-Type','X-Requested-With,\x20Content-Type,\x20Accept','sMCdZ','file-upload','NURHC','FGThL','sendFile','/assets/','/system','wc-registry.json','GET,\x20POST,\x20OPTIONS,\x20PUT,\x20PATCH,\x20DELETE','listen','xauwL','index.html','/build','50mb','connection','jMGgM','4ykmnAm','node-express','chokidar','novTC','/theme/','toLowerCase','eYmoo','http',',\x20rebuilding','axePN','644283RqdJUS','change','send','Aqvuc','setHeader','/favicon.ico','bFatx','32NLEVFJ','/manifest.json','child_process','data:','rNuWy','exec','sendStatus','YgDfd','SqOVp','www.youtube.com','static','KKkNO','RdNBC','MQndQ','dotenv','\x0a</body>','\x20is\x20already\x20in\x20use','iHqbO','/public','jqYwK','cookie-parser','http://localhost:','UxBDJ','haxcms_middleware','4025378NwxNui','fGhOM','urlencoded','\x27);\x0a\x20\x20\x20\x20//\x20Connection\x20opened\x0a\x20\x20\x20\x20socket.addEventListener(\x27open\x27,\x20function\x20(event)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20socket.send(\x27connected\x20to\x20server\x20successfully\x27)\x0a\x20\x20\x20\x20});\x0a\x20\x20\x20\x20socket.addEventListener(\x27message\x27,\x20function\x20(event)\x20{\x0a\x20\x20\x20\x20\x20\x20if(event.data\x20===\x20\x27theme\x20reload\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20window.location.reload();\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20});\x0a\x20\x20</script>','stringify','yiWdW','configDirectory','nYDQi','siTMk','publishedDirectory','18021hkCIRB','crossOriginResourcePolicy','log','/VERSION.txt','NODE_ENV','validateJWT','1603197gCClxl','EQuup','</body>','blob:','yABfL','JSoyc','require-corp','startsWith','origin','NcdbN','PORT','getType','replace','tmp/','/wc-registry.json','custom/build','aHeMo','ZloBm','\x27unsafe-inline\x27','fs-extra','*/*','/public/','https:','oAWDp','/$1/index.html','bfcFY','fonts.gstatic.com','env','unsafe-url','ncwws','watch','keZII','build/','\x27self\x27','/_sites','/system/api/','then','ws:','FQLaV','Access-Control-Allow-Origin','Server','basePath','code','WFbbe','ylZDn','sneTj','split','saveFile','HaWdZ','promisify','cd\x20custom\x20&&\x20npm\x20run\x20build','join','369516jZYdDH','VERSION.txt','/site.json','sitesDirectory','build.js','error','includes','systemRequestBase','\x27wasm-unsafe-eval\x27','/files/','/home','crossOriginOpenerPolicy','/custom/src/','./lib/HAXCMS.js','slice','syscall','1066955GQFcjZ','file\x20change:\x20','\x27none\x27','/build/','method','helmet','UPzUt','exit','hryju','HAXCMS_DISABLE_JWT_CHECKS','application/json','text/html','qLEqz','crossOriginEmbedderPolicy','use'];_0x5cea=function(){return _0x50f388;};return _0x5cea();}const cookieParser=require(_0xdd3331(0x13f)),helmet=require(_0xdd3331(0x19c)),app=express(),mime=require('mime'),path=require(_0xdd3331(0x102)),fs=require(_0xdd3331(0x166)),server=require(_0xdd3331(0x121))[_0xdd3331(0x17b)](app);process[_0xdd3331(0x16e)][_0xdd3331(0x142)]=_0xdd3331(0x11b);const {HAXCMS,systemStructureContext}=require(_0xdd3331(0x194));var helmetPolicies={'contentSecurityPolicy':{'directives':{'scriptSrc':[_0xdd3331(0x174),_0xdd3331(0x165),'\x27unsafe-eval\x27',_0xdd3331(0x18f),_0xdd3331(0x134)],'styleSrc':[_0xdd3331(0x174),_0xdd3331(0x165),_0xdd3331(0x12e),_0xdd3331(0x169)],'mediaSrc':[_0xdd3331(0x174),_0xdd3331(0x12e),_0xdd3331(0x169)],'imgSrc':[_0xdd3331(0x174),_0xdd3331(0x12e),_0xdd3331(0x169),'http:',_0xdd3331(0x156)],'connectSrc':[_0xdd3331(0x174),_0xdd3331(0x169),_0xdd3331(0x178)],'defaultSrc':[_0xdd3331(0x174),_0xdd3331(0x12e),'https:'],'objectSrc':[_0xdd3331(0x199)],'fontSrc':[_0xdd3331(0x174),_0xdd3331(0x12e),_0xdd3331(0x16d)],'frameAncestors':[_0xdd3331(0x174)]}},'referrerPolicy':{'policy':[_0xdd3331(0x15b),_0xdd3331(0x16f)]}};if(process['env'][_0xdd3331(0x1a0)]||argv['_']['includes'](_0xdd3331(0x1a0))){const DPmcxN=_0xdd3331(0xfc)[_0xdd3331(0x181)]('|');let ezYVdU=0x0;while(!![]){switch(DPmcxN[ezYVdU++]){case'0':helmetPolicies[_0xdd3331(0x1a4)]=_0xdd3331(0x159);continue;case'1':helmetPolicies[_0xdd3331(0xff)]=![];continue;case'2':helmetPolicies[_0xdd3331(0x14e)]=![];continue;case'3':HAXCMS['HAXCMS_DISABLE_JWT_CHECKS']=!![];continue;case'4':helmetPolicies[_0xdd3331(0x192)]=_0xdd3331(0xf2);continue;}break;}}const {RoutesMap,OpenRoutes}=require(_0xdd3331(0xf3)),multer=require('multer'),{crossOriginOpenerPolicy}=require(_0xdd3331(0x19c)),upload=multer({'dest':path[_0xdd3331(0x186)](HAXCMS[_0xdd3331(0x149)],_0xdd3331(0x160))});let publicDir=path['join'](__dirname,'/public');if(process[_0xdd3331(0x16e)]['NODE_ENV']==='development'){const child_process=require(_0xdd3331(0x12d)),util=require('util'),exec=util[_0xdd3331(0x184)](child_process[_0xdd3331(0x130)]),ws=require('ws'),chokidar=require(_0xdd3331(0x11c));console['log']('development');const wsServer=new ws[(_0xdd3331(0x17b))]({'server':server});wsServer['on'](_0xdd3331(0x118),_0x3ebb2f=>{const _0x2cd1bf=_0xdd3331,_0xceea5f={'yiWdW':function(_0x1a9217,_0x358b85){return _0x1a9217(_0x358b85);},'yABfL':_0x2cd1bf(0x125)};chokidar[_0x2cd1bf(0x171)](process[_0x2cd1bf(0xfe)]()+_0x2cd1bf(0x193))['on'](_0xceea5f[_0x2cd1bf(0x157)],async(_0x4d799b,_0x513595)=>{const _0x518f5c=_0x2cd1bf;_0x4d799b=_0x4d799b['replace'](/.*(?=custom\/src)/,''),console[_0x518f5c(0x14f)](_0x518f5c(0x198)+_0x4d799b+_0x518f5c(0x122)),await _0xceea5f[_0x518f5c(0x148)](exec,_0x518f5c(0x185)),_0x3ebb2f[_0x518f5c(0x126)](_0x518f5c(0xf7));});}),eval('const _0x3c9b31 = _0xdd3331;JSON[_0x3c9b31(327)]({ \'safe\': !![] });');}app['use'](express[_0xdd3331(0x145)]({'limit':_0xdd3331(0x117),'extended':![],'parameterLimit':0xc350})),app['use'](helmet(helmetPolicies)),app[_0xdd3331(0x1a5)](cookieParser()),app['options']('*',function(_0x503e34,_0x318333,_0x590c32){_0x318333['sendStatus'](0xc8);});const port=process['env'][_0xdd3331(0x15d)]||0xbb8;systemStructureContext()[_0xdd3331(0x177)](_0x3986a0=>{const _0x32f35c=_0xdd3331,_0xbc62cb={'wntsh':_0x32f35c(0x17a),'SqOVp':_0x32f35c(0x109),'rNuWy':_0x32f35c(0x1a1),'qIRXl':_0x32f35c(0x176),'nYDQi':_0x32f35c(0x18b),'novTC':_0x32f35c(0x188),'aHeMo':_0x32f35c(0x111),'ncwws':'/manifest.json','WASbR':_0x32f35c(0x106),'GdFTN':'/pages/','eYmoo':_0x32f35c(0x108),'keZII':_0x32f35c(0x1a2),'sneTj':function(_0x11e187,_0xe65d17){return _0x11e187!==_0xe65d17;},'bfcFY':'index.html','HRRRZ':'utf8','aBKEY':'/createSite-step-','ZFrbJ':function(_0x140e27,_0x38a2c6){return _0x140e27!==_0x38a2c6;},'fTopJ':function(_0x130641,_0x48d28b){return _0x130641===_0x48d28b;},'xauwL':_0x32f35c(0x1a8),'nlCBC':function(_0x12a4ac){return _0x12a4ac();},'NURHC':'UxBDJ','fGhOM':function(_0x5bd1f2,_0x45f969){return _0x5bd1f2===_0x45f969;},'siTMk':_0x32f35c(0xf1),'emyvo':function(_0x1c78a6){return _0x1c78a6();},'dPJmo':_0x32f35c(0x19a),'oAWDp':_0x32f35c(0x13c),'NklUY':_0x32f35c(0x173),'JSoyc':'custom/build','NcdbN':'/site.json','hryju':function(_0x363933,_0x1ac3c8){return _0x363933!==_0x1ac3c8;},'YXmQk':'sMCdZ','ojiFI':function(_0x2a49f4,_0xdf07fc){return _0x2a49f4!==_0xdf07fc;},'HiAIR':_0x32f35c(0x13e),'YgDfd':_0x32f35c(0x179),'jMGgM':function(_0x2c31af,_0x43af61){return _0x2c31af+_0x43af61;},'MQndQ':_0x32f35c(0x116),'ylZDn':_0x32f35c(0x175),'ZloBm':_0x32f35c(0xf5),'NZIdO':function(_0x1511e7){return _0x1511e7();},'KKkNO':_0x32f35c(0x137),'bFatx':_0x32f35c(0x167),'EQuup':_0x32f35c(0x182)};_0x3986a0?(publicDir=_0x3986a0[_0x32f35c(0xf8)],process['env'][_0x32f35c(0x151)]==='development'?app[_0x32f35c(0x1a5)](express[_0x32f35c(0x135)](publicDir,{'index':![]})):app['use'](express[_0x32f35c(0x135)](publicDir)),app['use']('/',(_0x14137f,_0x155abe,_0x23e39e)=>{const _0x4cc116=_0x32f35c;_0x155abe[_0x4cc116(0x128)](_0xbc62cb['wntsh'],_0x4cc116(0x140)+port),_0x155abe[_0x4cc116(0x128)](_0x4cc116(0x104),_0x4cc116(0x112)),_0x155abe[_0x4cc116(0x128)](_0x4cc116(0x107),_0xbc62cb[_0x4cc116(0x133)]),_0x155abe[_0x4cc116(0x128)]('Content-Type',_0xbc62cb[_0x4cc116(0x12f)]);if(_0x14137f['url'][_0x4cc116(0x18d)](_0xbc62cb['qIRXl']))_0x23e39e();else{if(!_0x14137f[_0x4cc116(0xfd)]['includes']('/custom/build/')&&(_0x14137f[_0x4cc116(0xfd)][_0x4cc116(0x18d)](_0x4cc116(0x19a))||_0x14137f['url'][_0x4cc116(0x18d)]('wc-registry.json')||_0x14137f[_0x4cc116(0xfd)]['includes'](_0xbc62cb[_0x4cc116(0x14a)])||_0x14137f['url']['includes'](_0x4cc116(0xf4))||_0x14137f[_0x4cc116(0xfd)][_0x4cc116(0x18d)](_0xbc62cb[_0x4cc116(0x11d)]))){mime[_0x4cc116(0x15e)](_0x14137f[_0x4cc116(0xfd)][_0x4cc116(0x181)]('?')[0x0])&&_0x155abe[_0x4cc116(0x128)]('Content-Type',mime[_0x4cc116(0x15e)](_0x14137f[_0x4cc116(0xfd)]));let _0x4f9364=_0x14137f['url']['replace'](/\/(.*?)\/build\//g,'build/')[_0x4cc116(0x15f)](/\/(.*?)\/wc-registry.json/g,_0xbc62cb[_0x4cc116(0x163)])[_0x4cc116(0x15f)](/\/(.*?)\/build.js/g,_0xbc62cb[_0x4cc116(0x14a)])['replace'](/\/(.*?)\/build-haxcms.js/g,_0x4cc116(0xf4))[_0x4cc116(0x15f)](/\/(.*?)\/VERSION.txt/g,_0xbc62cb[_0x4cc116(0x11d)]);_0x155abe[_0x4cc116(0x10e)](_0x4f9364,{'root':path[_0x4cc116(0x186)](__dirname,_0x4cc116(0x13d))});}else{if(_0x14137f[_0x4cc116(0xfd)][_0x4cc116(0x18d)](_0x4cc116(0x162))||_0x14137f[_0x4cc116(0xfd)][_0x4cc116(0x18d)]('/theme/')||_0x14137f[_0x4cc116(0xfd)]['includes']('/assets/')||_0x14137f['url'][_0x4cc116(0x18d)](_0xbc62cb[_0x4cc116(0x170)])||_0x14137f[_0x4cc116(0xfd)][_0x4cc116(0x18d)](_0xbc62cb[_0x4cc116(0xfa)])||_0x14137f[_0x4cc116(0xfd)][_0x4cc116(0x18d)](_0x4cc116(0x190))||_0x14137f[_0x4cc116(0xfd)]['includes'](_0xbc62cb[_0x4cc116(0xfb)])||_0x14137f[_0x4cc116(0xfd)][_0x4cc116(0x18d)](_0x4cc116(0x189)))mime['getType'](_0x14137f[_0x4cc116(0xfd)][_0x4cc116(0x181)]('?')[0x0])?_0x155abe['setHeader'](_0xbc62cb[_0x4cc116(0x120)],mime['getType'](_0x14137f['url'])):_0x155abe['setHeader'](_0xbc62cb[_0x4cc116(0x120)],_0xbc62cb[_0x4cc116(0x172)]),_0x155abe['sendFile'](_0x14137f[_0x4cc116(0xfd)][_0x4cc116(0x181)]('?')[0x0],{'root':publicDir});else{if(_0xbc62cb[_0x4cc116(0x180)](_0x4cc116(0x17e),_0x4cc116(0x183))){mime[_0x4cc116(0x15e)](_0x14137f[_0x4cc116(0xfd)][_0x4cc116(0x181)]('?')[0x0])?_0x155abe['setHeader'](_0x4cc116(0x108),mime[_0x4cc116(0x15e)](_0x14137f[_0x4cc116(0xfd)])):_0x155abe[_0x4cc116(0x128)](_0xbc62cb[_0x4cc116(0x120)],_0xbc62cb['keZII']);if(process['env'][_0x4cc116(0x151)]===_0x4cc116(0x103)){let _0x564f57=fs['readFileSync'](path['join'](publicDir,_0xbc62cb[_0x4cc116(0x16c)]),_0xbc62cb[_0x4cc116(0xf6)]);const _0x2e81c8='\x0a\x20\x20<script>\x0a\x20\x20\x20\x20const\x20socket\x20=\x20new\x20WebSocket(\x27ws://localhost:'+port+_0x4cc116(0x146);_0x564f57=_0x564f57['replace'](_0x4cc116(0x155),_0x2e81c8+_0x4cc116(0x13a)),_0x155abe[_0x4cc116(0x126)](_0x564f57);}else _0x155abe[_0x4cc116(0x10e)](_0x4cc116(0x115),{'root':publicDir});}else _0x18d31[_0x4cc116(0x131)](0xc8);}}}})):(app[_0x32f35c(0x1a5)](express[_0x32f35c(0x135)](publicDir)),app['use']('/',(_0x148f43,_0x269906,_0x1ec3a0)=>{const _0x5e60e4=_0x32f35c;_0x269906['setHeader'](_0x5e60e4(0x17a),_0x5e60e4(0x140)+port),_0x269906[_0x5e60e4(0x128)](_0x5e60e4(0x104),'GET,\x20POST,\x20OPTIONS,\x20PUT,\x20PATCH,\x20DELETE'),_0x269906['setHeader'](_0x5e60e4(0x107),_0x5e60e4(0x109)),_0x269906['setHeader'](_0x5e60e4(0x108),_0xbc62cb[_0x5e60e4(0x12f)]),!_0x148f43['url'][_0x5e60e4(0x15a)](_0xbc62cb['aBKEY'])&&_0xbc62cb['ZFrbJ'](_0x148f43[_0x5e60e4(0xfd)],_0x5e60e4(0x191))?_0xbc62cb['fTopJ']('gbUgb',_0xbc62cb[_0x5e60e4(0x114)])?_0xbc62cb['nlCBC'](_0x1ec3a0):(_0x250bc2[_0x5e60e4(0x15e)](_0xf6bc09[_0x5e60e4(0xfd)][_0x5e60e4(0x181)]('?')[0x0])?_0x1ddd99[_0x5e60e4(0x128)](_0xbc62cb[_0x5e60e4(0x120)],_0x12b0c8[_0x5e60e4(0x15e)](_0x5d3d49['url'])):_0x41581d[_0x5e60e4(0x128)](_0x5e60e4(0x108),_0xbc62cb[_0x5e60e4(0x172)]),_0x53c28d[_0x5e60e4(0x10e)](_0x14b4a7['url'][_0x5e60e4(0x181)]('?')[0x0],{'root':_0x26f796})):_0xbc62cb[_0x5e60e4(0x180)](_0xbc62cb[_0x5e60e4(0x10c)],_0x5e60e4(0x141))?_0x5e1f77[_0x5e60e4(0x128)]('Content-Type',_0x52c662[_0x5e60e4(0x15e)](_0x4b3310[_0x5e60e4(0xfd)])):(mime[_0x5e60e4(0x15e)](_0x148f43[_0x5e60e4(0xfd)])?_0x269906[_0x5e60e4(0x128)](_0xbc62cb['eYmoo'],mime[_0x5e60e4(0x15e)](_0x148f43['url'])):_0x269906[_0x5e60e4(0x128)](_0x5e60e4(0x108),_0x5e60e4(0x1a2)),_0x269906['sendFile'](_0x148f43[_0x5e60e4(0xfd)]['replace'](/\/createSite-step-(.*)/,'/')[_0x5e60e4(0x15f)](/\/home/,'/'),{'root':publicDir}));}),app[_0x32f35c(0x1a5)]('/'+HAXCMS['sitesDirectory']+'/',(_0x13fa2c,_0x19cd91,_0x5434bd)=>{const _0x200bc7=_0x32f35c,_0x5f5c07={'JpjXs':_0xbc62cb['eYmoo']};if(_0xbc62cb[_0x200bc7(0x144)]('gxdVC',_0xbc62cb[_0x200bc7(0x14b)])){if(_0x13fa2c[_0x200bc7(0xfd)][_0x200bc7(0x18d)](_0xbc62cb['qIRXl']))_0xbc62cb['emyvo'](_0x5434bd);else{if(!_0x13fa2c[_0x200bc7(0xfd)]['includes']('/custom/build/')&&(_0x13fa2c['url']['includes'](_0xbc62cb['dPJmo'])||_0x13fa2c[_0x200bc7(0xfd)][_0x200bc7(0x18d)](_0xbc62cb['aHeMo'])||_0x13fa2c[_0x200bc7(0xfd)][_0x200bc7(0x18d)](_0xbc62cb[_0x200bc7(0x14a)])||_0x13fa2c[_0x200bc7(0xfd)][_0x200bc7(0x18d)](_0x200bc7(0xf4))||_0x13fa2c[_0x200bc7(0xfd)][_0x200bc7(0x18d)]('VERSION.txt'))){if(_0xbc62cb['ZFrbJ'](_0xbc62cb[_0x200bc7(0x16a)],_0x200bc7(0x10d))){mime['getType'](_0x13fa2c[_0x200bc7(0xfd)][_0x200bc7(0x181)]('?')[0x0])&&_0x19cd91['setHeader'](_0x200bc7(0x108),mime[_0x200bc7(0x15e)](_0x13fa2c[_0x200bc7(0xfd)]));let _0x436aad=_0x13fa2c[_0x200bc7(0xfd)][_0x200bc7(0x15f)](/\/(.*?)\/build\//g,_0xbc62cb['NklUY'])[_0x200bc7(0x15f)](/\/(.*?)\/wc-registry.json/g,_0x200bc7(0x111))[_0x200bc7(0x15f)](/\/(.*?)\/build.js/g,_0xbc62cb[_0x200bc7(0x14a)])[_0x200bc7(0x15f)](/\/(.*?)\/build-haxcms.js/g,'build-haxcms.js')['replace'](/\/(.*?)\/VERSION.txt/g,_0x200bc7(0x188));_0x19cd91[_0x200bc7(0x10e)](_0x436aad,{'root':publicDir});}else{const _0x2d7766=_0x1de70c[_0x200bc7(0x100)][_0x200bc7(0x102)][_0x200bc7(0x15f)]('/'+_0x664711[_0x200bc7(0x18a)]+'/*'+_0x26cb17[_0x200bc7(0x17c)]+_0x5ca8d3[_0x200bc7(0x18e)],''),_0x5a5615=_0x504e0e[_0x200bc7(0x19b)][_0x200bc7(0x11f)]();_0x181a9d['includes'](_0x2d7766)||_0x23c166[_0x200bc7(0x152)](_0x2946be,_0x332a44)?_0x309685[_0x5a5615][_0x2d7766](_0x36c168,_0x1d0306,_0x418dac):_0x5d38fd[_0x200bc7(0x131)](0x193);}}else{if(_0x13fa2c[_0x200bc7(0xfd)][_0x200bc7(0x18d)](_0xbc62cb[_0x200bc7(0x158)])||_0x13fa2c['url']['includes'](_0x200bc7(0x11e))||_0x13fa2c[_0x200bc7(0xfd)][_0x200bc7(0x18d)](_0x200bc7(0x10f))||_0x13fa2c['url'][_0x200bc7(0x18d)](_0x200bc7(0x12c))||_0x13fa2c[_0x200bc7(0xfd)][_0x200bc7(0x18d)](_0xbc62cb[_0x200bc7(0xfa)])||_0x13fa2c[_0x200bc7(0xfd)][_0x200bc7(0x18d)](_0x200bc7(0x190))||_0x13fa2c['url'][_0x200bc7(0x18d)](_0x200bc7(0xf9))||_0x13fa2c[_0x200bc7(0xfd)]['includes'](_0xbc62cb[_0x200bc7(0x15c)]))mime['getType'](_0x13fa2c[_0x200bc7(0xfd)][_0x200bc7(0x181)]('?')[0x0])?_0x19cd91[_0x200bc7(0x128)](_0x200bc7(0x108),mime['getType'](_0x13fa2c['url'])):_0xbc62cb[_0x200bc7(0x19f)](_0xbc62cb['YXmQk'],_0x200bc7(0x10a))?_0x24fb71[_0x200bc7(0x128)](_0x5f5c07['JpjXs'],'text/html'):_0x19cd91[_0x200bc7(0x128)](_0x200bc7(0x108),_0x200bc7(0x1a2)),_0x19cd91[_0x200bc7(0x10e)](_0x13fa2c[_0x200bc7(0xfd)][_0x200bc7(0x181)]('?')[0x0],{'root':process['cwd']()+('/'+HAXCMS['sitesDirectory'])});else{if(mime[_0x200bc7(0x15e)](_0x13fa2c['url'][_0x200bc7(0x181)]('?')[0x0]))_0x19cd91[_0x200bc7(0x128)](_0x200bc7(0x108),mime['getType'](_0x13fa2c[_0x200bc7(0xfd)]));else{if(_0xbc62cb['ojiFI'](_0x200bc7(0x13e),_0xbc62cb['HiAIR'])){const _0x215fce=_0xc4a1d1['route'][_0x200bc7(0x102)]['replace'](''+_0x580584[_0x200bc7(0x17c)]+_0x1b800f[_0x200bc7(0x18e)],''),_0x4e4fba=_0x3ad633['method'][_0x200bc7(0x11f)]();_0x50c583['includes'](_0x215fce)||_0x4024bf['validateJWT'](_0x30657e,_0x3cba54)?_0x365667[_0x4e4fba][_0x215fce](_0x53c0a2,_0x22e388,_0x21ee52):_0xd2a524['sendStatus'](0x193);}else _0x19cd91[_0x200bc7(0x128)](_0xbc62cb[_0x200bc7(0x120)],_0x200bc7(0x1a2));}_0x19cd91[_0x200bc7(0x10e)](_0x13fa2c[_0x200bc7(0xfd)][_0x200bc7(0x15f)](/\/(.*?)\/(.*)/,'/'+HAXCMS[_0x200bc7(0x18a)]+_0x200bc7(0x16b)),{'root':process[_0x200bc7(0xfe)]()});}}}}else _0x3f9db8[_0x200bc7(0x128)]('Content-Type',_0x519108[_0x200bc7(0x15e)](_0x1436fb[_0x200bc7(0xfd)]));}),app[_0x32f35c(0x1a5)]('/'+HAXCMS[_0x32f35c(0x14c)]+'/',(_0x1289f9,_0x27b6ad,_0x45667b)=>{const _0x30a97e=_0x32f35c;mime[_0x30a97e(0x15e)](_0x1289f9[_0x30a97e(0xfd)])?_0xbc62cb[_0x30a97e(0x132)]===_0x30a97e(0x19d)?_0x358105[_0x30a97e(0x131)](0x193):_0x27b6ad[_0x30a97e(0x128)](_0xbc62cb[_0x30a97e(0x120)],mime['getType'](_0x1289f9[_0x30a97e(0xfd)])):_0x27b6ad[_0x30a97e(0x128)](_0x30a97e(0x108),_0xbc62cb[_0x30a97e(0x172)]),_0x27b6ad['sendFile'](_0x1289f9[_0x30a97e(0xfd)],{'root':_0xbc62cb[_0x30a97e(0x119)](process[_0x30a97e(0xfe)](),'/'+HAXCMS[_0x30a97e(0x14c)])});}));for(var _0x28b648 in RoutesMap){for(var _0x4240a8 in RoutesMap[_0x28b648]){if(_0x32f35c(0x123)!==_0xbc62cb[_0x32f35c(0x136)]){let _0x37b206=express['json']({'type':_0xbc62cb[_0x32f35c(0x12a)],'limit':_0x32f35c(0x117)});_0x4240a8===_0xbc62cb[_0x32f35c(0x154)]&&(_0x37b206=upload['single'](_0x32f35c(0x10b))),app[_0x28b648](''+HAXCMS[_0x32f35c(0x17c)]+HAXCMS['systemRequestBase']+_0x4240a8,_0x37b206,(_0x26f824,_0x3bc491,_0x46d7ff)=>{const _0x2f3f4d=_0x32f35c,_0x580fa4=_0x26f824[_0x2f3f4d(0x100)][_0x2f3f4d(0x102)][_0x2f3f4d(0x15f)](''+HAXCMS['basePath']+HAXCMS[_0x2f3f4d(0x18e)],''),_0x115120=_0x26f824[_0x2f3f4d(0x19b)][_0x2f3f4d(0x11f)]();OpenRoutes[_0x2f3f4d(0x18d)](_0x580fa4)||HAXCMS[_0x2f3f4d(0x152)](_0x26f824,_0x3bc491)?RoutesMap[_0x115120][_0x580fa4](_0x26f824,_0x3bc491,_0x46d7ff):_0x3bc491[_0x2f3f4d(0x131)](0x193);}),app[_0x28b648]('/'+HAXCMS[_0x32f35c(0x18a)]+'/*'+HAXCMS['basePath']+HAXCMS[_0x32f35c(0x18e)]+_0x4240a8,_0x37b206,(_0x16d098,_0x210f96,_0x2f333a)=>{const _0x29c0a7=_0x32f35c,_0x550c3b=_0x16d098[_0x29c0a7(0x100)][_0x29c0a7(0x102)]['replace']('/'+HAXCMS['sitesDirectory']+'/*'+HAXCMS[_0x29c0a7(0x17c)]+HAXCMS[_0x29c0a7(0x18e)],''),_0x1b9093=_0x16d098[_0x29c0a7(0x19b)][_0x29c0a7(0x11f)]();OpenRoutes[_0x29c0a7(0x18d)](_0x550c3b)||HAXCMS[_0x29c0a7(0x152)](_0x16d098,_0x210f96)?RoutesMap[_0x1b9093][_0x550c3b](_0x16d098,_0x210f96,_0x2f333a):_0x210f96[_0x29c0a7(0x131)](0x193);});}else _0x2ebeef['setHeader'](_0xbc62cb[_0x32f35c(0x120)],'text/html');}}!_0x3986a0&&app[_0x32f35c(0x1a7)]('*',function(_0x13b4ff,_0xb30caf,_0x3135d7){const _0x24dc46=_0x32f35c;_0x13b4ff[_0x24dc46(0xfd)]!=='/'&&!_0x13b4ff['url'][_0x24dc46(0x15a)](_0xbc62cb[_0x24dc46(0x138)])&&!_0x13b4ff[_0x24dc46(0xfd)][_0x24dc46(0x15a)](_0x24dc46(0x189))&&!_0x13b4ff[_0x24dc46(0xfd)]['startsWith'](_0x24dc46(0x110))&&!_0x13b4ff[_0x24dc46(0xfd)]['startsWith'](_0xbc62cb[_0x24dc46(0x17f)])&&!_0x13b4ff[_0x24dc46(0xfd)]['startsWith'](_0xbc62cb[_0x24dc46(0x164)])&&!_0x13b4ff[_0x24dc46(0xfd)][_0x24dc46(0x15a)](_0x24dc46(0x161))&&!_0x13b4ff[_0x24dc46(0xfd)][_0x24dc46(0x15a)](_0x24dc46(0x129))&&!_0x13b4ff['url'][_0x24dc46(0x15a)](_0xbc62cb[_0x24dc46(0x170)])&&!_0x13b4ff[_0x24dc46(0xfd)]['startsWith'](_0x24dc46(0x106))&&!_0x13b4ff[_0x24dc46(0xfd)][_0x24dc46(0x15a)](_0x24dc46(0x150))?_0xb30caf[_0x24dc46(0x10e)]('/',{'root':__dirname+_0x24dc46(0x168)}):_0xbc62cb['NZIdO'](_0x3135d7);});}),server['listen'](port,async _0x1288d5=>{if(_0x1288d5)throw _0x1288d5;console['log']('open:\x20http://localhost:'+port);});function _0x26b2(_0x4a838a,_0x5137ea){const _0x5cea31=_0x5cea();return _0x26b2=function(_0x26b212,_0x32e14b){_0x26b212=_0x26b212-0xf1;let _0x204304=_0x5cea31[_0x26b212];return _0x204304;},_0x26b2(_0x4a838a,_0x5137ea);}function handleServerError(_0x1364b3){const _0x5aee3c=_0xdd3331,_0x33a068={'Aqvuc':function(_0x3fa60f,_0x26353c){return _0x3fa60f!==_0x26353c;},'qLEqz':_0x5aee3c(0x113),'ooSwc':'EACCES'};if(_0x33a068[_0x5aee3c(0x127)](_0x1364b3[_0x5aee3c(0x196)],_0x33a068[_0x5aee3c(0x1a3)]))throw _0x1364b3;switch(_0x1364b3[_0x5aee3c(0x17d)]){case _0x33a068['ooSwc']:console[_0x5aee3c(0x18c)](port+'\x20requires\x20elevated\x20privileges'),process[_0x5aee3c(0x19e)](0x1);break;case _0x5aee3c(0x105):console[_0x5aee3c(0x18c)](port+_0x5aee3c(0x13b)),process[_0x5aee3c(0x19e)](0x1);break;default:throw error;}}server['on'](_0xdd3331(0x18c),handleServerError);