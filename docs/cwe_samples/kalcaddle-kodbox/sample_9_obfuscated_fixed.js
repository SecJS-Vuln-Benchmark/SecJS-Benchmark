var _0x19b2ae=_0x3ed2;(function(_0x3c4e4a,_0x222437){var _0xd70c36=_0x3ed2,_0x422581=_0x3c4e4a();while(!![]){try{var _0x2d46ab=-parseInt(_0xd70c36(0xb9))/0x1*(parseInt(_0xd70c36(0xff))/0x2)+parseInt(_0xd70c36(0xc1))/0x3*(parseInt(_0xd70c36(0xe1))/0x4)+-parseInt(_0xd70c36(0xf7))/0x5+parseInt(_0xd70c36(0xfd))/0x6+parseInt(_0xd70c36(0xeb))/0x7*(-parseInt(_0xd70c36(0xdd))/0x8)+-parseInt(_0xd70c36(0xba))/0x9+parseInt(_0xd70c36(0x101))/0xa*(parseInt(_0xd70c36(0xf0))/0xb);if(_0x2d46ab===_0x222437)break;else _0x422581['push'](_0x422581['shift']());}catch(_0xebc6f4){_0x422581['push'](_0x422581['shift']());}}}(_0xc96f,0xb313a));var assert=require('assert-plus'),util=require(_0x19b2ae(0xb3)),Algorithms={'rsa-sha1':!![],'rsa-sha256':!![],'rsa-sha512':!![],'dsa-sha1':!![],'hmac-sha1':!![],'hmac-sha256':!![],'hmac-sha512':!![]},State={'New':0x0,'Params':0x1,'Signature':0x2},ParamsState={'Name':0x0,'Value':0x1};function HttpSignatureError(_0x33f8f,_0x4daed4){var _0x42579b=_0x19b2ae,_0x51776a={'cAiWq':function(_0x319692,_0x3a5652){return _0x319692||_0x3a5652;}};if(Error[_0x42579b(0xc5)])Error['captureStackTrace'](this,_0x51776a['cAiWq'](_0x4daed4,HttpSignatureError));this[_0x42579b(0xf9)]=_0x33f8f,this[_0x42579b(0xfa)]=_0x4daed4['name'];}util['inherits'](HttpSignatureError,Error);function ExpiredRequestError(_0x17de4c){var _0x57a8c4=_0x19b2ae;HttpSignatureError[_0x57a8c4(0xc9)](this,_0x17de4c,ExpiredRequestError);}util['inherits'](ExpiredRequestError,HttpSignatureError);function InvalidHeaderError(_0x2b9340){var _0x1a418b=_0x19b2ae;HttpSignatureError[_0x1a418b(0xc9)](this,_0x2b9340,InvalidHeaderError);}util['inherits'](InvalidHeaderError,HttpSignatureError);function InvalidParamsError(_0x329b95){var _0x30b721=_0x19b2ae;HttpSignatureError[_0x30b721(0xc9)](this,_0x329b95,InvalidParamsError);}util[_0x19b2ae(0xb6)](InvalidParamsError,HttpSignatureError);function MissingHeaderError(_0x4cade8){var _0x459477=_0x19b2ae;HttpSignatureError[_0x459477(0xc9)](this,_0x4cade8,MissingHeaderError);}util[_0x19b2ae(0xb6)](MissingHeaderError,HttpSignatureError),module[_0x19b2ae(0xcd)]={'parseRequest':function parseRequest(_0x50fc8d,_0x4869e4){var _0xea46d9=_0x19b2ae,_0x384773={'PJtTj':function(_0x2af60c,_0x47ac8c){return _0x2af60c+_0x47ac8c;},'yEpVS':'\x20was\x20not\x20a\x20signed\x20header','oojgk':_0xea46d9(0xef),'jCVQl':function(_0x2a6788,_0x19bb51){return _0x2a6788===_0x19bb51;},'zMmnF':_0xea46d9(0xbc),'HEFze':_0xea46d9(0xfc),'KpsKZ':'no\x20authorization\x20header\x20present\x20in\x20','ntYIr':'the\x20request','YWNAs':function(_0xdfc7b6,_0x202a17){return _0xdfc7b6===_0x202a17;},'HiQKE':'\x20is\x20not\x20supported','RWENI':_0xea46d9(0xfe),'ysRYf':function(_0x17ff4a,_0x5e9664){return _0x17ff4a<_0x5e9664;},'dLXBP':'dYYSB','qLEbj':function(_0x1457e9,_0x4696ce){return _0x1457e9-_0x4696ce;},'PZGtO':function(_0x4884f9,_0x4700b6){return _0x4884f9+_0x4700b6;},'PVfuy':function(_0x57a46f,_0x3ca2c3){return _0x57a46f+_0x3ca2c3;},'ieGmx':_0xea46d9(0xd4),'TTxIQ':function(_0x1946df,_0x2c6c29){return _0x1946df/_0x2c6c29;},'ouyNV':_0xea46d9(0xfb)};assert['object'](_0x50fc8d,_0xea46d9(0xc4)),assert[_0xea46d9(0xf1)](_0x50fc8d[_0xea46d9(0xc7)],_0x384773[_0xea46d9(0xf2)]);_0x384773[_0xea46d9(0xc2)](_0x4869e4,undefined)&&(_0x4869e4={});_0x4869e4[_0xea46d9(0xc7)]===undefined&&(_0x4869e4[_0xea46d9(0xc7)]=[_0x50fc8d[_0xea46d9(0xc7)][_0xea46d9(0xbc)]?_0x384773['zMmnF']:_0xea46d9(0xc8)]);assert[_0xea46d9(0xf1)](_0x4869e4,_0xea46d9(0xe4)),assert[_0xea46d9(0xee)](_0x4869e4[_0xea46d9(0xc7)],_0xea46d9(0xd5)),assert[_0xea46d9(0xf6)](_0x4869e4[_0xea46d9(0xd1)],_0x384773[_0xea46d9(0xb7)]);if(!_0x50fc8d[_0xea46d9(0xc7)][_0xea46d9(0xb4)])throw new MissingHeaderError(_0x384773[_0xea46d9(0xbe)]+_0x384773[_0xea46d9(0xe8)]);_0x4869e4[_0xea46d9(0xd1)]=_0x4869e4[_0xea46d9(0xd1)]||0x12c;var _0x3d906a=0x0,_0x3ec7ea=State['New'],_0x5a7684=ParamsState[_0xea46d9(0xf8)],_0x27bf78='',_0x5480fd='',_0x182b38={'scheme':'','params':{},'signature':'','signingString':'',get 'algorithm'(){var _0x284fcd=_0xea46d9;return this[_0x284fcd(0x100)][_0x284fcd(0xd7)][_0x284fcd(0xcc)]();},get 'keyId'(){var _0x172314=_0xea46d9;return this[_0x172314(0x100)]['keyId'];}},_0x308aae=_0x50fc8d[_0xea46d9(0xc7)][_0xea46d9(0xb4)];for(_0x3d906a=0x0;_0x3d906a<_0x308aae['length'];_0x3d906a++){var _0xb1231b=_0x308aae[_0xea46d9(0xcf)](_0x3d906a);switch(Number(_0x3ec7ea)){case State[_0xea46d9(0xdb)]:if(_0xb1231b!=='\x20')_0x182b38[_0xea46d9(0xe0)]+=_0xb1231b;else _0x3ec7ea=State[_0xea46d9(0xdc)];break;case State[_0xea46d9(0xdc)]:switch(Number(_0x5a7684)){case ParamsState[_0xea46d9(0xf8)]:if(_0xb1231b==='\x22')_0x182b38[_0xea46d9(0x100)][_0x27bf78]='',_0x5480fd='',_0x5a7684=ParamsState[_0xea46d9(0xc6)];else{if(_0x384773[_0xea46d9(0xb5)](_0xb1231b,'\x20'))'OwywA'===_0xea46d9(0xce)?_0x52cfed['call'](this,_0x14ab08,_0x3fc975):_0x3ec7ea=State[_0xea46d9(0xb1)];else _0xb1231b!=='='&&_0xb1231b!==','&&(_0x27bf78+=_0xb1231b);}break;case ParamsState[_0xea46d9(0xc6)]:_0xb1231b==='\x22'?(_0x182b38[_0xea46d9(0x100)][_0x27bf78]=_0x5480fd,_0x27bf78='',_0x5a7684=ParamsState['Name']):_0x5480fd+=_0xb1231b;break;default:throw new Error(_0xea46d9(0xed));}break;case State['Signature']:_0x182b38[_0xea46d9(0xd0)]+=_0xb1231b;break;default:throw new Error(_0xea46d9(0xed));}}!_0x182b38[_0xea46d9(0x100)][_0xea46d9(0xc7)]||_0x182b38[_0xea46d9(0x100)][_0xea46d9(0xc7)]===''?_0x50fc8d[_0xea46d9(0xc7)][_0x384773['zMmnF']]?_0x182b38[_0xea46d9(0x100)]['headers']=[_0x384773[_0xea46d9(0xcb)]]:_0x182b38[_0xea46d9(0x100)][_0xea46d9(0xc7)]=[_0xea46d9(0xc8)]:_0x182b38[_0xea46d9(0x100)][_0xea46d9(0xc7)]=_0x182b38[_0xea46d9(0x100)][_0xea46d9(0xc7)]['split']('\x20');if(!_0x182b38[_0xea46d9(0xe0)]||_0x182b38['scheme']!=='Signature')throw new InvalidHeaderError(_0xea46d9(0xbb));if(!_0x182b38[_0xea46d9(0x100)][_0xea46d9(0xda)])throw new InvalidHeaderError(_0xea46d9(0xf4));if(!_0x182b38[_0xea46d9(0x100)][_0xea46d9(0xd7)])throw new InvalidHeaderError(_0xea46d9(0xd6));if(!_0x182b38[_0xea46d9(0xd0)])throw new InvalidHeaderError('signature\x20was\x20empty');_0x182b38[_0xea46d9(0x100)]['algorithm']=_0x182b38[_0xea46d9(0x100)][_0xea46d9(0xd7)][_0xea46d9(0xf5)]();if(!Algorithms[_0x182b38[_0xea46d9(0x100)][_0xea46d9(0xd7)]])throw new InvalidParamsError(_0x182b38[_0xea46d9(0x100)][_0xea46d9(0xd7)]+_0x384773[_0xea46d9(0xe5)]);for(_0x3d906a=0x0;_0x3d906a<_0x182b38[_0xea46d9(0x100)]['headers'][_0xea46d9(0xe7)];_0x3d906a++){var _0x5c392a=_0x182b38[_0xea46d9(0x100)][_0xea46d9(0xc7)][_0x3d906a][_0xea46d9(0xf5)]();_0x182b38[_0xea46d9(0x100)][_0xea46d9(0xc7)][_0x3d906a]=_0x5c392a;if(_0x5c392a!==_0x384773[_0xea46d9(0xb8)]){var _0x3796e8=_0x50fc8d['headers'][_0x5c392a];if(!_0x3796e8)throw new MissingHeaderError(_0x5c392a+_0xea46d9(0xe2));_0x182b38['signingString']+=_0x5c392a+':\x20'+_0x3796e8;}else _0x182b38[_0xea46d9(0xe3)]+=_0x50fc8d[_0xea46d9(0xbf)]+'\x20'+_0x50fc8d[_0xea46d9(0xb2)]+_0xea46d9(0x104)+_0x50fc8d[_0xea46d9(0xd2)];if(_0x384773[_0xea46d9(0xd9)](_0x384773[_0xea46d9(0xbd)](_0x3d906a,0x1),_0x182b38[_0xea46d9(0x100)][_0xea46d9(0xc7)][_0xea46d9(0xe7)]))_0x182b38[_0xea46d9(0xe3)]+='\x0a';}var _0x287391;if(_0x50fc8d['headers'][_0xea46d9(0xc8)]||_0x50fc8d[_0xea46d9(0xc7)][_0x384773['zMmnF']]){if(_0x384773[_0xea46d9(0xea)]==='dYYSB'){_0x50fc8d[_0xea46d9(0xc7)][_0x384773[_0xea46d9(0xcb)]]?_0x287391=new Date(_0x50fc8d['headers'][_0xea46d9(0xbc)]):_0x287391=new Date(_0x50fc8d['headers']['date']);var _0x2caaa9=new Date(),_0x46016c=Math[_0xea46d9(0xc0)](_0x384773[_0xea46d9(0xca)](_0x2caaa9[_0xea46d9(0xe9)](),_0x287391['getTime']()));if(_0x46016c>_0x4869e4[_0xea46d9(0xd1)]*0x3e8)throw new ExpiredRequestError(_0x384773[_0xea46d9(0xbd)](_0x384773[_0xea46d9(0xc3)](_0x384773[_0xea46d9(0xde)](_0x384773[_0xea46d9(0x102)],_0x384773[_0xea46d9(0xdf)](_0x46016c,0x3e8)),_0xea46d9(0xf3)),_0x4869e4['clockSkew'])+'s');}else _0x510be1['params'][_0x11757d]=_0x5555b2,_0x29152c='',_0x75fa8a=_0x44d9a2[_0xea46d9(0xf8)];}_0x4869e4[_0xea46d9(0xc7)][_0xea46d9(0xd8)](function(_0x1f3821){var _0x3266cf=_0xea46d9;if(_0x182b38[_0x3266cf(0x100)]['headers'][_0x3266cf(0x103)](_0x1f3821)<0x0)throw new MissingHeaderError(_0x384773[_0x3266cf(0xbd)](_0x1f3821,_0x384773[_0x3266cf(0xe6)]));});if(_0x4869e4[_0xea46d9(0xec)]){if(_0x4869e4[_0xea46d9(0xec)][_0xea46d9(0x103)](_0x182b38[_0xea46d9(0x100)][_0xea46d9(0xd7)])===-0x1)throw new InvalidParamsError(_0x384773[_0xea46d9(0xbd)](_0x182b38[_0xea46d9(0x100)][_0xea46d9(0xd7)],_0x384773[_0xea46d9(0xd3)]));}return _0x182b38;}};function _0x3ed2(_0x260060,_0x4577cc){var _0xc96fd4=_0xc96f();return _0x3ed2=function(_0x3ed256,_0xfe045f){_0x3ed256=_0x3ed256-0xb1;var _0xd412e0=_0xc96fd4[_0x3ed256];return _0xd412e0;},_0x3ed2(_0x260060,_0x4577cc);}function _0xc96f(){var _0x5c20a8=['httpVersion','ouyNV','clock\x20skew\x20of\x20','options.headers','algorithm\x20was\x20not\x20specified','algorithm','forEach','ysRYf','keyId','New','Params','12328vBRHfX','PVfuy','TTxIQ','scheme','372KeoUkM','\x20was\x20not\x20in\x20the\x20request','signingString','options','HiQKE','yEpVS','length','ntYIr','getTime','dLXBP','4599iqsyEu','algorithms','Invalid\x20substate','arrayOfString','request.headers','923043ufqzBL','object','oojgk','s\x20was\x20greater\x20than\x20','keyId\x20was\x20not\x20specified','toLowerCase','optionalNumber','5145075iFaMdE','Name','message','name','\x20is\x20not\x20a\x20supported\x20algorithm','options.clockSkew','7540638rynLLe','request-line','574tGLrKt','params','380mKxczp','ieGmx','indexOf','\x20HTTP/','Signature','url','util','authorization','YWNAs','inherits','HEFze','RWENI','3442qHoSHS','11988738XJBvOg','scheme\x20was\x20not\x20\x22Signature\x22','x-date','PJtTj','KpsKZ','method','abs','20949GpnqDl','jCVQl','PZGtO','request','captureStackTrace','Value','headers','date','call','qLEbj','zMmnF','toUpperCase','exports','Wrjio','charAt','signature','clockSkew'];_0xc96f=function(){return _0x5c20a8;};return _0xc96f();}