const _0x244402=_0xcb85;(function(_0x3c279a,_0x4415d9){const _0x45ffdd=_0xcb85,_0xed02c4=_0x3c279a();while(!![]){try{const _0x24f51b=parseInt(_0x45ffdd(0x163))/0x1+parseInt(_0x45ffdd(0x153))/0x2*(parseInt(_0x45ffdd(0x11f))/0x3)+parseInt(_0x45ffdd(0x178))/0x4*(parseInt(_0x45ffdd(0x19b))/0x5)+parseInt(_0x45ffdd(0x142))/0x6*(-parseInt(_0x45ffdd(0x1a9))/0x7)+-parseInt(_0x45ffdd(0x143))/0x8+parseInt(_0x45ffdd(0x1a4))/0x9+parseInt(_0x45ffdd(0x145))/0xa*(-parseInt(_0x45ffdd(0x184))/0xb);if(_0x24f51b===_0x4415d9)break;else _0xed02c4['push'](_0xed02c4['shift']());}catch(_0x59f4fc){_0xed02c4['push'](_0xed02c4['shift']());}}}(_0x13c6,0xb0115));function _0x13c6(){const _0x557c73=['11472792ZnRPrk','auKNk','3170nrwhFz','uploadFile','uploadFileStream','./s3_util','lastError','nTdcN','KHFer','Qasrg','rliyS','exists','EsdZU','goQXA','SKIPPED','IqBOR','54030upOrFt','bJMwi','./file_util','resultStatus','DOWNLOADED','QfrPh','qGIlX','S3Util','opzCo','BQjrK','wOIIH','fHskH','jpeWb','kwigT','gEXlw','yUhOz','1403084gSYMrq','ezBcA','mkdir','realpath','RENEW_PRESIGNED_URL','lKvFd','NOT_FOUND_FILE','kEBIP','localLocation','max','UHruP','BtrLc','contentLength','SYXvr','pow','NEED_RETRY','cgyJp','xfMbr','unlink','AZURE','pXKoP','4801096rEPHsN','eASJB','stat','pQCWt','QUeaE','rXEQY','lastMaxConcurrency','JELEj','jCAgM','zasOd','sgfIk','downloadOneFile','39435RJZoIH','VZxzT','aTshJ','SwvSh','parallel','fileStream','ERROR','tvpdv','dataStream','sJwzi','kxQSU','dstFileSize','LXgUz','ZbXoR','TXrTX','tmpDir','OaKUz','srcFilePath','EncryptUtil','mhUCf','fXOvk','SnowflakeFileEncryptionMaterial','kVBdT','5ArXkVf','QMDps','CyOlO','encryptFileStream','aKUNB','getFileHeader','rmdir','srcFileName','uploadOneFileStream','6969960sUYCGa','ZTqYs','encryptionMetadata','nativeDownloadFile','zFAiu','6034lpryWI','decryptFile','locationType','xEihM','qcYiZ','Lguuf','ITUTK','stageInfo','yZOGd','ZYkOh','VdevS','./azure_util','qpsTL','copyFile','min','GPize','lqQDZ','63oYteIV','rWptc','dataFile','AotOb','zhTgO','PpChB','Unknown\x20Error\x20in\x20uploading\x20a\x20file:\x20','jAKxx','nXtrv','getForStorageType','join','basename','noSleepingTime','DfQxp','dstFileName','DUfVv','IKyID','encryptionMaterial','NEED_RETRY_WITH_LOWER_CONCURRENCY','bLpLh','overwrite','RemoteStorageUtil','RNtqq','PbyPO','./gcs_util','BtvAO','bbHmc','SjDWS','EeVHQ','UPLOADED','createClient','NNLhq','rhzSM','uploadOneFile','RENEW_TOKEN','4548TdctjQ'];_0x13c6=function(){return _0x557c73;};return _0x13c6();}function _0xcb85(_0x4a882e,_0x301aa7){const _0x13c69f=_0x13c6();return _0xcb85=function(_0xcb85ad,_0x4f85fa){_0xcb85ad=_0xcb85ad-0x11b;let _0x5a5493=_0x13c69f[_0xcb85ad];return _0x5a5493;},_0xcb85(_0x4a882e,_0x301aa7);}const fs=require('fs'),path=require('path'),SnowflakeS3Util=require(_0x244402(0x148))[_0x244402(0x15a)],SnowflakeAzureUtil=require(_0x244402(0x1b4)),SnowflakeGCSUtil=require(_0x244402(0x137)),SnowflakeEncryptionUtil=new(require('./encrypt_util'))[(_0x244402(0x196))](),resultStatus=require(_0x244402(0x155))[_0x244402(0x156)],DEFAULT_CONCURRENCY=0x1,DEFAULT_MAX_RETRY=0x5;function SnowflakeFileEncryptionMaterial(_0x1704cc,_0x408ad2,_0x41920f){const _0x5b9c5a=''+_0x41920f;return{'queryStageMasterKey':_0x1704cc,'queryId':_0x408ad2,'smkId':_0x5b9c5a};}exports[_0x244402(0x199)]=SnowflakeFileEncryptionMaterial;function RemoteStorageUtil(_0x53e185){const _0x43074f=_0x244402,_0x27039a={'UHruP':function(_0x46a1d9){return _0x46a1d9();},'wOIIH':function(_0x48db50,_0x4fcacd){return _0x48db50===_0x4fcacd;},'opzCo':function(_0xb06e61,_0x40cf88){return _0xb06e61===_0x40cf88;},'bJMwi':'GCS','kxQSU':'locationType','rWptc':'Unknown\x20Error\x20in\x20uploading\x20a\x20file:\x20','JELEj':_0x43074f(0x1a2),'nXtrv':function(_0x251fb3,_0x58b618){return _0x251fb3(_0x58b618);},'VdevS':_0x43074f(0x130),'rliyS':function(_0xc71159,_0x5e6867){return _0xc71159!==_0x5e6867;},'ZbXoR':'qpsTL','TXrTX':function(_0x1cd36a,_0x3b1d7c){return _0x1cd36a<_0x3b1d7c;},'GPize':_0x43074f(0x156),'BtrLc':_0x43074f(0x18f),'CyOlO':_0x43074f(0x133),'EeVHQ':function(_0x4c4972,_0x4eaeb5){return _0x4c4972===_0x4eaeb5;},'dcVmV':function(_0x52294b,_0x4be286){return _0x52294b===_0x4be286;},'EsdZU':_0x43074f(0x177),'jCAgM':function(_0x3317ea,_0x2be1e9){return _0x3317ea===_0x2be1e9;},'kEBIP':function(_0x18093d,_0x4d9532){return _0x18093d===_0x4d9532;},'QZlGN':function(_0x3e277a,_0x463180){return _0x3e277a===_0x463180;},'zasOd':_0x43074f(0x149),'PpChB':function(_0x390804,_0x5b32a6){return _0x390804-_0x5b32a6;},'KHFer':function(_0xf84160,_0x2006e2){return _0xf84160/_0x2006e2;},'bbHmc':function(_0x56fae9,_0xb27196){return _0x56fae9*_0xb27196;},'gEXlw':'parallel','goQXA':_0x43074f(0x17e),'BtvAO':_0x43074f(0x12b),'fXOvk':_0x43074f(0x168),'oACoP':'qGIlX','IqBOR':function(_0x47f536,_0x52af6c){return _0x47f536+_0x52af6c;},'fDwsc':function(_0x428404,_0x5753fc){return _0x428404(_0x5753fc);},'qcYiZ':'realSrcFilePath','vezUD':_0x43074f(0x193),'pQCWt':'zOubc','QMDps':function(_0x16bb16,_0x2d20f1){return _0x16bb16===_0x2d20f1;},'Lguuf':function(_0x52d811,_0x218501){return _0x52d811===_0x218501;},'sJwzi':function(_0x4d566e,_0x7e8d88){return _0x4d566e-_0x7e8d88;},'nQZTl':function(_0x205b8e,_0x368856){return _0x205b8e/_0x368856;},'CRUVu':_0x43074f(0x1b0),'VZxzT':function(_0x257e61,_0xd76b93){return _0x257e61<_0xd76b93;},'yZOGd':function(_0x20bd8c,_0x1310dd){return _0x20bd8c<_0x1310dd;},'jAKxx':_0x43074f(0x12d),'ITUTK':function(_0x3c4dc9,_0x4df8be){return _0x3c4dc9!==_0x4df8be;},'jpeWb':_0x43074f(0x182),'auKNk':_0x43074f(0x132),'zFAiu':function(_0x279d41,_0x3fecc2){return _0x279d41!==_0x3fecc2;},'SYXvr':'DUfVv','PbyPO':'srcFileSize','IKyID':function(_0x9e8c89,_0x99bcfb){return _0x9e8c89<_0x99bcfb;},'WqbnG':'bnvtT','LXgUz':_0x43074f(0x14c),'VHSTU':function(_0x5c2bfb,_0x242269){return _0x5c2bfb===_0x242269;},'aTshJ':'KVkmu','kwigT':_0x43074f(0x1ac),'AjipY':function(_0x1ac195,_0xff4cb1){return _0x1ac195-_0xff4cb1;},'yUhOz':_0x43074f(0x194)};let _0x32774f=null;this[_0x43074f(0x128)]=function(_0x1d2d83){const _0x25a3b5=_0x43074f,_0x5d0452={'lqQDZ':function(_0x2f79a9,_0x415ed8){return _0x2f79a9(_0x415ed8);},'ARPwH':function(_0x230f60){return _0x27039a['UHruP'](_0x230f60);}};if(_0x32774f)return _0x32774f;if(_0x27039a['wOIIH'](_0x1d2d83,'S3'))_0x32774f=new SnowflakeS3Util(_0x53e185);else{if(_0x1d2d83===_0x25a3b5(0x176))_0x27039a[_0x25a3b5(0x15b)]('zhTgO',_0x25a3b5(0x123))?_0x32774f=new SnowflakeAzureUtil(_0x53e185):(_0x1752fd&&_0x5d0452[_0x25a3b5(0x11e)](_0x288639,_0x5a1734),_0x3137d3=_0x4be3cd[_0x25a3b5(0x129)](_0x2d49b2,_0x6ff84e[_0x25a3b5(0x12a)](_0x52876a[_0x25a3b5(0x12d)])),_0x5d0452['ARPwH'](_0x2cb6dc));else _0x1d2d83===_0x27039a[_0x25a3b5(0x154)]&&(_0x32774f=new SnowflakeGCSUtil(_0x53e185));}return _0x32774f;},this[_0x43074f(0x13d)]=function(_0x5a75a9,_0x37d2b4=![]){const _0x396e7b=_0x43074f,_0xf1fc64=this['getForStorageType'](_0x5a75a9[_0x27039a[_0x396e7b(0x18e)]]);return _0xf1fc64[_0x396e7b(0x13d)](_0x5a75a9,_0x37d2b4);},this[_0x43074f(0x1a3)]=async function(_0x4151ef){const _0x19d26b=_0x43074f,_0x43e842={'DfQxp':function(_0x2686d7,_0x5c8d6c){const _0x1ab205=_0xcb85;return _0x27039a[_0x1ab205(0x127)](_0x2686d7,_0x5c8d6c);},'rXEQY':function(_0x48a1d5){return _0x48a1d5();}};let _0x2aed0a,_0xb9e608=_0x4151ef[_0x19d26b(0x189)];if(_0x4151ef[_0x27039a[_0x19d26b(0x1b3)]]){if(_0x27039a['rliyS'](_0x27039a[_0x19d26b(0x191)],_0x19d26b(0x1b5)))_0x6da2d6&&_0x43e842[_0x19d26b(0x12c)](_0x5329be,_0x3d068e),_0x43e842[_0x19d26b(0x17d)](_0x337430);else{const _0x49e725=await SnowflakeEncryptionUtil[_0x19d26b(0x19e)](_0x4151ef[_0x27039a[_0x19d26b(0x1b3)]],_0x4151ef[_0x19d26b(0x189)]);_0x2aed0a=_0x49e725['encryptionMetadata'],_0xb9e608=_0x49e725[_0x19d26b(0x18c)];}}const _0x160f61=this[_0x19d26b(0x128)](_0x4151ef['stageInfo'][_0x19d26b(0x1ab)]);let _0x375386=_0x4151ef[_0x19d26b(0x188)],_0x5df1df;const _0xb9f5f5=DEFAULT_MAX_RETRY;for(let _0x5f292d=0x0;_0x27039a[_0x19d26b(0x192)](_0x5f292d,_0xb9f5f5);_0x5f292d++){if(!_0x4151ef[_0x19d26b(0x133)]){const _0x19abf5=await _0x160f61[_0x19d26b(0x1a0)](_0x4151ef,_0x4151ef[_0x19d26b(0x12d)]);if(_0x19abf5&&_0x27039a[_0x19d26b(0x15d)](_0x4151ef[_0x27039a[_0x19d26b(0x11d)]],resultStatus[_0x19d26b(0x13c)])){_0x4151ef[_0x27039a[_0x19d26b(0x16e)]]=0x0,_0x4151ef[_0x27039a[_0x19d26b(0x11d)]]=resultStatus[_0x19d26b(0x151)];return;}}(_0x4151ef[_0x27039a[_0x19d26b(0x19d)]]||_0x27039a[_0x19d26b(0x13b)](_0x4151ef[_0x27039a[_0x19d26b(0x11d)]],resultStatus[_0x19d26b(0x169)]))&&await _0x160f61[_0x19d26b(0x147)](_0xb9e608,_0x4151ef,_0x2aed0a,_0x375386);if(_0x4151ef[_0x27039a[_0x19d26b(0x11d)]]===resultStatus[_0x19d26b(0x13c)]){if(_0x27039a['dcVmV'](_0x27039a[_0x19d26b(0x14f)],_0x19d26b(0x174))){const _0x44a97c=_0x27039a[_0x19d26b(0x120)]+_0x1fd69d[_0x27039a['JELEj']];throw new _0x2540d1(_0x44a97c);}else return;}else{if(_0x27039a['jCAgM'](_0x4151ef[_0x27039a[_0x19d26b(0x11d)]],resultStatus['RENEW_TOKEN']))return;else{if(_0x27039a[_0x19d26b(0x16a)](_0x4151ef[_0x19d26b(0x156)],resultStatus[_0x19d26b(0x167)]))return;else{if(_0x27039a['QZlGN'](_0x4151ef[_0x27039a[_0x19d26b(0x11d)]],resultStatus[_0x19d26b(0x172)])){_0x5df1df=_0x4151ef['lastError'];if(!_0x4151ef[_0x19d26b(0x12b)]){const _0x146156=Math[_0x19d26b(0x11c)](Math[_0x19d26b(0x171)](0x2,_0x5f292d),0x10);await new Promise(_0x474c1c=>setTimeout(_0x474c1c,_0x146156));}}else{if(_0x27039a['QZlGN'](_0x4151ef[_0x27039a[_0x19d26b(0x11d)]],resultStatus[_0x19d26b(0x131)])){_0x5df1df=_0x4151ef[_0x27039a[_0x19d26b(0x181)]],_0x375386=_0x27039a[_0x19d26b(0x124)](_0x4151ef[_0x19d26b(0x188)],parseInt(_0x27039a[_0x19d26b(0x14b)](_0x27039a[_0x19d26b(0x139)](_0x5f292d,_0x4151ef[_0x27039a[_0x19d26b(0x161)]]),_0xb9f5f5))),_0x375386=Math['max'](DEFAULT_CONCURRENCY,_0x375386),_0x4151ef[_0x27039a[_0x19d26b(0x150)]]=_0x375386;if(!_0x4151ef[_0x27039a['BtvAO']]){const _0x193c32=Math[_0x19d26b(0x11c)](Math['pow'](0x2,_0x5f292d),0x10);await new Promise(_0x136926=>setTimeout(_0x136926,_0x193c32));}}}}}}}if(_0x5df1df){if(_0x27039a[_0x19d26b(0x198)]===_0x19d26b(0x122))_0x1dcc4a[_0x19d26b(0x1a1)](_0x426c8f[_0x19d26b(0x193)],_0x2235ba=>{const _0x43db9c=_0x19d26b;_0x2235ba&&_0x43e842[_0x43db9c(0x12c)](_0x75ef77,_0x2235ba),_0x55ab3e();});else throw new Error(_0x5df1df);}else{if(_0x27039a[_0x19d26b(0x15b)](_0x19d26b(0x159),_0x27039a['oACoP'])){const _0x1b5840=_0x27039a[_0x19d26b(0x152)](_0x19d26b(0x125),_0x4151ef[_0x19d26b(0x1a2)]);throw new Error(_0x1b5840);}else _0x2b4fb9&&_0x4f9f6d(_0x3bfb47),_0x27039a['UHruP'](_0x3760b6);}},this[_0x43074f(0x140)]=async function(_0xcc446c){const _0x353db1=_0x43074f;let _0x1c0d16,_0x58f8b8;if(_0xcc446c[_0x353db1(0x130)]){const _0x1eeba3=await SnowflakeEncryptionUtil['encryptFile'](_0xcc446c[_0x353db1(0x130)],_0xcc446c[_0x27039a[_0x353db1(0x1ad)]],_0xcc446c[_0x27039a['vezUD']]);_0x1c0d16=_0x1eeba3[_0x353db1(0x1a6)],_0x58f8b8=_0x1eeba3[_0x353db1(0x121)];}else _0x58f8b8=_0xcc446c[_0x27039a[_0x353db1(0x1ad)]];const _0x36317b=this['getForStorageType'](_0xcc446c['stageInfo'][_0x27039a[_0x353db1(0x18e)]]);let _0x305451=_0xcc446c[_0x27039a[_0x353db1(0x161)]],_0x425888;const _0x14bc2f=DEFAULT_MAX_RETRY;for(let _0x8385cd=0x0;_0x8385cd<_0x14bc2f;_0x8385cd++){if(!_0xcc446c[_0x27039a['CyOlO']]){if(_0x27039a[_0x353db1(0x14d)](_0x27039a[_0x353db1(0x17b)],'YRJlP')){const _0x4ffee6=await _0x36317b[_0x353db1(0x1a0)](_0xcc446c,_0xcc446c[_0x353db1(0x12d)]);if(_0x4ffee6&&_0x27039a[_0x353db1(0x19c)](_0xcc446c[_0x27039a['GPize']],resultStatus[_0x353db1(0x13c)])){_0xcc446c[_0x353db1(0x18f)]=0x0,_0xcc446c[_0x27039a[_0x353db1(0x11d)]]=resultStatus[_0x353db1(0x151)];return;}}else _0x27039a['fDwsc'](_0x3c80bb,_0x1e7587);}(_0xcc446c[_0x27039a[_0x353db1(0x19d)]]||_0xcc446c[_0x27039a['GPize']]===resultStatus['NOT_FOUND_FILE'])&&await _0x36317b[_0x353db1(0x146)](_0x58f8b8,_0xcc446c,_0x1c0d16,_0x305451);if(_0x27039a[_0x353db1(0x1ae)](_0xcc446c['resultStatus'],resultStatus['UPLOADED']))return;else{if(_0x27039a[_0x353db1(0x180)](_0xcc446c[_0x353db1(0x156)],resultStatus[_0x353db1(0x141)]))return;else{if(_0x27039a['QZlGN'](_0xcc446c['resultStatus'],resultStatus[_0x353db1(0x167)]))return;else{if(_0xcc446c[_0x353db1(0x156)]===resultStatus[_0x353db1(0x172)]){_0x425888=_0xcc446c[_0x353db1(0x149)];if(!_0xcc446c[_0x353db1(0x12b)]){const _0x2f3e6f=Math['min'](Math[_0x353db1(0x171)](0x2,_0x8385cd),0x10);await new Promise(_0x2f3f04=>setTimeout(_0x2f3f04,_0x2f3e6f));}}else{if(_0x27039a[_0x353db1(0x19c)](_0xcc446c['resultStatus'],resultStatus[_0x353db1(0x131)])){_0x425888=_0xcc446c['lastError'],_0x305451=_0x27039a[_0x353db1(0x18d)](_0xcc446c[_0x353db1(0x188)],parseInt(_0x27039a['nQZTl'](_0x8385cd*_0xcc446c[_0x353db1(0x188)],_0x14bc2f))),_0x305451=Math[_0x353db1(0x16c)](DEFAULT_CONCURRENCY,_0x305451),_0xcc446c[_0x27039a[_0x353db1(0x150)]]=_0x305451;if(!_0xcc446c[_0x27039a[_0x353db1(0x138)]]){const _0x9ac46c=Math[_0x353db1(0x11c)](Math['pow'](0x2,_0x8385cd),0x10);await new Promise(_0x264684=>setTimeout(_0x264684,_0x9ac46c));}}}}}}}if(_0x425888)throw new Error(_0x425888);else{const _0x54db6b=_0x27039a[_0x353db1(0x152)](_0x353db1(0x125),_0x58f8b8);throw new Error(_0x54db6b);}},this['uploadOneFileWithRetry']=async function(_0x1fc4b6){const _0xe0df85=_0x43074f,_0x284a67=this['getForStorageType'](_0x1fc4b6[_0x27039a['CRUVu']][_0xe0df85(0x1ab)]);let _0x274167=![];for(let _0x125d54=0x0;_0x27039a[_0xe0df85(0x185)](_0x125d54,0xa);_0x125d54++){await this[_0xe0df85(0x140)](_0x1fc4b6);if(_0x1fc4b6[_0x27039a[_0xe0df85(0x11d)]]===resultStatus['UPLOADED'])for(let _0xbc24b4=0x0;_0x27039a[_0xe0df85(0x1b1)](_0xbc24b4,0xa);_0xbc24b4++){if('ZcBYE'===_0xe0df85(0x15c))_0x4c5f8e[_0xe0df85(0x18f)]=_0x28f2cc['size'],_0x53b931();else{await _0x284a67['getFileHeader'](_0x1fc4b6,_0x1fc4b6[_0x27039a[_0xe0df85(0x126)]]);if(_0x1fc4b6[_0x27039a['GPize']]===resultStatus[_0xe0df85(0x169)]){if(_0x27039a['ITUTK'](_0x27039a[_0xe0df85(0x15f)],_0x27039a[_0xe0df85(0x144)])){await new Promise(_0x39a1dc=>setTimeout(_0x39a1dc,0x3e8));continue;}else{const _0x23c8d5=''+_0x3bd3b8;return{'queryStageMasterKey':_0x50928c,'queryId':_0x48f88a,'smkId':_0x23c8d5};}}break;}}_0x274167=!![];break;}if(!_0x274167){if(_0x27039a[_0xe0df85(0x1a8)](_0xe0df85(0x12e),_0x27039a[_0xe0df85(0x170)])){const _0xeacd95={'ofXAh':function(_0x5048bd,_0x329b47){return _0x5048bd(_0x329b47);},'fHskH':function(_0x10d8d6){const _0x5f5320=_0xe0df85;return _0x27039a[_0x5f5320(0x16d)](_0x10d8d6);}};_0x2dd7d7[_0xe0df85(0x166)](_0x19081c,(_0x1e7669,_0x50a564)=>{const _0x1a43e7=_0xe0df85;_0x1e7669&&_0xeacd95['ofXAh'](_0x4d1639,_0x1e7669),_0x3f8bad=_0x1868a3[_0x1a43e7(0x129)](_0x50a564,_0x1395bf[_0x1a43e7(0x12a)](_0x38a23c[_0x1a43e7(0x12d)])),_0xeacd95[_0x1a43e7(0x15e)](_0x2bcfdd);});}else _0x1fc4b6[_0x27039a[_0xe0df85(0x11d)]]=resultStatus[_0xe0df85(0x18a)];}},this[_0x43074f(0x183)]=async function(_0x1c3457){const _0x359d45=_0x43074f,_0x10f1ce={'kVBdT':function(_0x59f17b){return _0x59f17b();},'cgyJp':function(_0xf702df,_0x2840b1){return _0xf702df===_0x2840b1;},'ZTqYs':function(_0x481422,_0x3a5c62){return _0x27039a['nXtrv'](_0x481422,_0x3a5c62);},'SjDWS':function(_0xc13184){return _0xc13184();},'LzMGB':_0x359d45(0x18f)};let _0x345a51=_0x1c3457[_0x359d45(0x16b)];await new Promise((_0x394264,_0x227322)=>{const _0x384e0a=_0x359d45,_0x471fc3={'QUeaE':_0x27039a[_0x384e0a(0x126)]};fs[_0x384e0a(0x166)](_0x345a51,(_0x3b6712,_0x347e1c)=>{const _0x1eb7bd=_0x384e0a;_0x3b6712&&_0x227322(_0x3b6712),_0x345a51=path[_0x1eb7bd(0x129)](_0x347e1c,path[_0x1eb7bd(0x12a)](_0x1c3457[_0x471fc3[_0x1eb7bd(0x17c)]])),_0x394264();});});const _0x9337e4=path['dirname'](_0x345a51);await new Promise(_0x335a83=>{const _0x3b1c03=_0x359d45;if(_0x27039a[_0x3b1c03(0x1af)](_0x3b1c03(0x19f),_0x3b1c03(0x158)))fs[_0x3b1c03(0x14e)](_0x9337e4,_0x3bd71d=>{const _0x46a1b0=_0x3b1c03;!_0x3bd71d?fs[_0x46a1b0(0x165)](_0x9337e4,()=>{const _0x4c0f15=_0x46a1b0;if(_0x4c0f15(0x187)!==_0x4c0f15(0x13e))_0x335a83();else throw new _0xe946eb(_0x267e5a);}):_0x10f1ce[_0x46a1b0(0x19a)](_0x335a83);});else return;});const _0x20f103=this['getForStorageType'](_0x1c3457[_0x359d45(0x1b0)][_0x359d45(0x1ab)]);let _0x1b26af=await _0x20f103[_0x359d45(0x1a0)](_0x1c3457,_0x1c3457[_0x359d45(0x1a2)]);_0x1b26af&&(_0x1c3457[_0x27039a[_0x359d45(0x136)]]=_0x1b26af[_0x359d45(0x16f)]);let _0x21eb2c=_0x1c3457[_0x359d45(0x188)],_0x4df483;const _0x45b99c=DEFAULT_MAX_RETRY;for(let _0x6f6b4e=0x0;_0x27039a[_0x359d45(0x12f)](_0x6f6b4e,_0x45b99c);_0x6f6b4e++){await _0x20f103[_0x359d45(0x1a7)](_0x1c3457,_0x345a51,_0x21eb2c);if(_0x1c3457[_0x27039a[_0x359d45(0x11d)]]===resultStatus[_0x359d45(0x157)]){if(_0x27039a['WqbnG']===_0x27039a[_0x359d45(0x190)])throw new _0x2ac966(_0x3cbf1c);else{if(_0x1c3457['encryptionMaterial']){_0x1c3457['presignedUrl']&&(_0x1b26af=await _0x20f103[_0x359d45(0x1a0)](_0x1c3457,_0x1c3457[_0x359d45(0x195)]));const _0x56bc57=await SnowflakeEncryptionUtil[_0x359d45(0x1aa)](_0x1b26af['encryptionMetadata'],_0x1c3457[_0x27039a['VdevS']],_0x345a51,_0x1c3457[_0x359d45(0x193)]);await new Promise((_0x5f23bb,_0x2f9a19)=>{const _0x4a80c3=_0x359d45,_0x405745={'RNtqq':function(_0x26c039,_0xbc98b8){return _0x26c039(_0xbc98b8);},'ZYkOh':function(_0x47daf1,_0x15039d){const _0x461ba3=_0xcb85;return _0x10f1ce[_0x461ba3(0x173)](_0x47daf1,_0x15039d);},'ezBcA':_0x4a80c3(0x18b)};fs[_0x4a80c3(0x11b)](_0x56bc57,_0x345a51,async _0x74cb37=>{const _0x34ae7a=_0x4a80c3;_0x405745[_0x34ae7a(0x1b2)](_0x34ae7a(0x18b),_0x405745[_0x34ae7a(0x164)])?(_0x74cb37&&_0x405745[_0x34ae7a(0x135)](_0x2f9a19,_0x74cb37),_0x5f23bb()):_0x405745['RNtqq'](_0x50242b,_0x3c364c);});}),await new Promise((_0x551996,_0x2dcc84)=>{const _0x9654cc=_0x359d45;fs[_0x9654cc(0x175)](_0x56bc57,_0x3265c1=>{const _0x554bc6=_0x9654cc;_0x3265c1&&_0x10f1ce[_0x554bc6(0x1a5)](_0x2dcc84,_0x3265c1),_0x10f1ce[_0x554bc6(0x13a)](_0x551996);});}),await new Promise((_0x5f3cd6,_0xdc842)=>{const _0x120eef=_0x359d45,_0x4175be={'nTdcN':function(_0x4a6bf8,_0x35446b){return _0x4a6bf8(_0x35446b);},'rhzSM':function(_0x47111e){return _0x47111e();}};fs[_0x120eef(0x1a1)](_0x1c3457[_0x120eef(0x193)],_0x47e3a3=>{const _0x426bc2=_0x120eef;_0x47e3a3&&_0x4175be[_0x426bc2(0x14a)](_0xdc842,_0x47e3a3),_0x4175be[_0x426bc2(0x13f)](_0x5f3cd6);});});}await new Promise(_0x5b421f=>{const _0x416b83=_0x359d45;fs[_0x416b83(0x17a)](_0x345a51,(_0x25a3d1,_0x21d795)=>{_0x1c3457[_0x10f1ce['LzMGB']]=_0x21d795['size'],_0x5b421f();});});return;}}else{if(_0x27039a['VHSTU'](_0x1c3457[_0x27039a[_0x359d45(0x11d)]],resultStatus[_0x359d45(0x141)])){if(_0x359d45(0x197)===_0x27039a[_0x359d45(0x186)])return;else return;}else{if(_0x27039a['Lguuf'](_0x1c3457[_0x359d45(0x156)],resultStatus[_0x359d45(0x167)])){if(_0x27039a[_0x359d45(0x160)]!==_0x359d45(0x1ac))throw new _0x3bbd26(_0x448f3a);else return;}else{if(_0x1c3457[_0x359d45(0x156)]===resultStatus[_0x359d45(0x131)]){_0x4df483=_0x1c3457['lastError'],_0x21eb2c=_0x27039a['AjipY'](_0x1c3457[_0x27039a['gEXlw']],parseInt(_0x27039a['bbHmc'](_0x6f6b4e,_0x1c3457['parallel'])/_0x45b99c)),_0x21eb2c=Math[_0x359d45(0x16c)](DEFAULT_CONCURRENCY,_0x21eb2c),_0x1c3457[_0x27039a[_0x359d45(0x150)]]=_0x21eb2c;if(!_0x1c3457[_0x27039a[_0x359d45(0x138)]]){const _0x46e955=Math[_0x359d45(0x11c)](Math['pow'](0x2,_0x6f6b4e),0x10);await new Promise(_0x1b4259=>setTimeout(_0x1b4259,_0x46e955));}}else{if(_0x27039a[_0x359d45(0x15d)](_0x1c3457[_0x359d45(0x156)],resultStatus[_0x359d45(0x172)])){if(_0x359d45(0x179)!==_0x27039a[_0x359d45(0x162)]){_0x4df483=_0x1c3457[_0x27039a[_0x359d45(0x181)]];if(!_0x1c3457[_0x27039a[_0x359d45(0x138)]]){const _0x38b6df=Math[_0x359d45(0x11c)](Math[_0x359d45(0x171)](0x2,_0x6f6b4e),0x10);await new Promise(_0xd7d758=>setTimeout(_0xd7d758,_0x38b6df));}}else return;}}}}}}if(_0x4df483)throw new Error(_0x4df483);else{const _0x2feaec=_0x27039a[_0x359d45(0x120)]+_0x1c3457[_0x27039a[_0x359d45(0x17f)]];throw new Error(_0x2feaec);}};}exports[_0x244402(0x134)]=RemoteStorageUtil;