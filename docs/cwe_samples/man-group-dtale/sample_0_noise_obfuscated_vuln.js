const _0x2ad1ea=_0x52b1;function _0xda74(){const _0x31c27d=['getStatusPageData','map','283174lGSKWd','rGEJR','slugToID','GTrTO','defaultUpColor','params','4463344xoOMoF','#F6BE00','WenwA','express','toPublicJSON','icon','\x20slug\x20=\x20?\x20','Yuxxr','../util-server','XzVTz','PsvqT','calcUptime','getCol','badge-maker','/api/status-page/heartbeat/:slug','N/A','image/png','status_page','Not\x20Found','/status','5\x20minutes','vAtdD','5345QOxGhS','defaultDownColor','210777pRzRfb','convertToBeans','findOne','aFWGi','getAll','standalone','naColor','QOscZ','return\x20new\x20Date();','cSbge','exports','safe','label','heartbeat','indexHTML','status','log','length','Maintenance','SQMRq','MRqqo','handleStatusPageResponse','Down','giAFG','stringify','/api/status-page/:slug','defaultStyle','slug','json','pTjtR','type','1\x20minutes','vItph','3714XEILYq','8gFGkjb','Router','128x128','TPxgD','redbean-node','ysaTD','image/svg+xml','../model/status_page','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20SELECT\x20*\x20FROM\x20heartbeat\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20monitor_id\x20=\x20?\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ORDER\x20BY\x20time\x20DESC\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20LIMIT\x2050\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','color','YVpTf','OkLMV','BLger','DrHbW','ghYvO','../modules/apicache','query','oYQgU','/status-page','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20SELECT\x20*\x20FROM\x20heartbeat\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20monitor_id\x20=\x20?\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ORDER\x20BY\x20time\x20DESC\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20LIMIT\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','message','GVJSs','17102385CHRmpN','1207737LzQYxR','MyBtv','get','../uptime-kuma-server','1305442NTQCfL','PhzaX','fUtXX','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20SELECT\x20monitor_group.monitor_id\x20FROM\x20monitor_group,\x20`group`\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20monitor_group.group_id\x20=\x20`group`.id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20AND\x20public\x20=\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20AND\x20`group`.status_page_id\x20=\x20?\x0a\x20\x20\x20\x20\x20\x20\x20\x20','reverse','default','/api/status-page/:slug/badge'];_0xda74=function(){return _0x31c27d;};return _0xda74();}(function(_0x3bed5c,_0x583e7f){const _0x4008a1=_0x52b1,_0x577af0=_0x3bed5c();while(!![]){try{const _0x3b63f9=parseInt(_0x4008a1(0x1a1))/0x1+-parseInt(_0x4008a1(0x198))/0x2+-parseInt(_0x4008a1(0x194))/0x3+-parseInt(_0x4008a1(0x1a7))/0x4+-parseInt(_0x4008a1(0x1bd))/0x5*(-parseInt(_0x4008a1(0x17c))/0x6)+parseInt(_0x4008a1(0x1bf))/0x7*(parseInt(_0x4008a1(0x17d))/0x8)+parseInt(_0x4008a1(0x193))/0x9;if(_0x3b63f9===_0x583e7f)break;else _0x577af0['push'](_0x577af0['shift']());}catch(_0x4a8264){_0x577af0['push'](_0x577af0['shift']());}}}(_0xda74,0xabe7d));let express=require(_0x2ad1ea(0x1aa));const apicache=require(_0x2ad1ea(0x18c)),{UptimeKumaServer}=require(_0x2ad1ea(0x197)),StatusPage=require(_0x2ad1ea(0x184)),{allowDevAllOrigin,sendHttpError}=require(_0x2ad1ea(0x1af)),{R}=require(_0x2ad1ea(0x181)),Monitor=require('../model/monitor'),{badgeConstants}=require('../../src/util'),{makeBadge}=require(_0x2ad1ea(0x1b4));let router=express[_0x2ad1ea(0x17e)](),cache=apicache['middleware'];function _0x52b1(_0x586f7b,_0x29ef11){const _0xda7446=_0xda74();return _0x52b1=function(_0x52b19f,_0x42aff4){_0x52b19f=_0x52b19f-0x174;let _0x34d16c=_0xda7446[_0x52b19f];return _0x34d16c;},_0x52b1(_0x586f7b,_0x29ef11);}const server=UptimeKumaServer['getInstance']();router[_0x2ad1ea(0x196)]('/status/:slug',cache('5\x20minutes'),async(_0x1377fd,_0x110bb1)=>{const _0x265863=_0x2ad1ea;let _0x351fe2=_0x1377fd['params']['slug'];await StatusPage[_0x265863(0x1d4)](_0x110bb1,server[_0x265863(0x1cd)],_0x351fe2);}),router['get'](_0x2ad1ea(0x1ba),cache('5\x20minutes'),async(_0x2604ae,_0x533ea8)=>{const _0x429e96=_0x2ad1ea;let _0x420a78=_0x429e96(0x19d);await StatusPage[_0x429e96(0x1d4)](_0x533ea8,server[_0x429e96(0x1cd)],_0x420a78);}),router[_0x2ad1ea(0x196)](_0x2ad1ea(0x18f),cache(_0x2ad1ea(0x1bb)),async(_0x576e2b,_0x2a683f)=>{const _0x2ba94d=_0x2ad1ea;let _0x130205='default';await StatusPage[_0x2ba94d(0x1d4)](_0x2a683f,server['indexHTML'],_0x130205);}),router['get'](_0x2ad1ea(0x174),cache('5\x20minutes'),async(_0x2f8350,_0x1d4e0a)=>{const _0x298fc4=_0x2ad1ea,_0x13e9b9={'pTjtR':function(_0x410ce5,_0x3c51f4){return _0x410ce5(_0x3c51f4);},'FOMxq':_0x298fc4(0x1b8),'ghYvO':_0x298fc4(0x1c7),'cSbge':function(_0xc98369,_0x5e2001,_0x1b7555){return _0xc98369(_0x5e2001,_0x1b7555);},'giAFG':function(_0x6bcecb,_0x45b859,_0x5e85be){return _0x6bcecb(_0x45b859,_0x5e85be);}};_0x13e9b9[_0x298fc4(0x178)](allowDevAllOrigin,_0x1d4e0a);let _0x1f0e0a=_0x2f8350[_0x298fc4(0x1a6)][_0x298fc4(0x176)];try{let _0x3d357e=await R[_0x298fc4(0x1c1)](_0x13e9b9['FOMxq'],_0x298fc4(0x1ad),[_0x1f0e0a]);if(!_0x3d357e)return _0x13e9b9[_0x298fc4(0x178)](Function,_0x13e9b9[_0x298fc4(0x18b)])(),null;let _0x2aeefa=await StatusPage[_0x298fc4(0x19f)](_0x3d357e);if(!_0x2aeefa){sendHttpError(_0x1d4e0a,'Not\x20Found'),_0x13e9b9[_0x298fc4(0x1c8)](setTimeout,function(){const _0x29dcca=_0x298fc4;console[_0x29dcca(0x1cf)](_0x29dcca(0x1ca));},0x64);return;}_0x1d4e0a[_0x298fc4(0x177)](_0x2aeefa);}catch(_0x98e01f){_0x13e9b9[_0x298fc4(0x1d6)](sendHttpError,_0x1d4e0a,_0x98e01f[_0x298fc4(0x191)]);}}),router[_0x2ad1ea(0x196)](_0x2ad1ea(0x1b5),cache(_0x2ad1ea(0x17a)),async(_0x91dd81,_0x16b8af)=>{const _0x4ac1f5=_0x2ad1ea,_0x2c7bed={'EgLsz':function(_0xe705fd,_0x1e9840){return _0xe705fd(_0x1e9840);},'TPxgD':_0x4ac1f5(0x1cc),'mqogl':function(_0x28b221,_0x5c6dcb,_0x2dc25a){return _0x28b221(_0x5c6dcb,_0x2dc25a);}};_0x2c7bed['EgLsz'](allowDevAllOrigin,_0x16b8af);try{let _0x2c94ee={},_0x197138={},_0x334b4f=_0x91dd81['params'][_0x4ac1f5(0x176)],_0x2b102f=await StatusPage[_0x4ac1f5(0x1a3)](_0x334b4f),_0x4e8324=await R[_0x4ac1f5(0x1b3)](_0x4ac1f5(0x19b),[_0x2b102f]);for(let _0x1e7831 of _0x4e8324){let _0x5e98a9=await R[_0x4ac1f5(0x1c3)](_0x4ac1f5(0x185),[_0x1e7831]);_0x5e98a9=R[_0x4ac1f5(0x1c0)](_0x2c7bed[_0x4ac1f5(0x180)],_0x5e98a9),_0x2c94ee[_0x1e7831]=_0x5e98a9[_0x4ac1f5(0x19c)]()[_0x4ac1f5(0x1a0)](_0x1cc9a2=>_0x1cc9a2[_0x4ac1f5(0x1ab)]());const _0x3a880e=0x18;_0x197138[_0x1e7831+'_'+_0x3a880e]=await Monitor[_0x4ac1f5(0x1b2)](_0x3a880e,_0x1e7831);}_0x16b8af[_0x4ac1f5(0x177)]({'heartbeatList':_0x2c94ee,'uptimeList':_0x197138});}catch(_0x14e9c9){_0x2c7bed['mqogl'](sendHttpError,_0x16b8af,_0x14e9c9[_0x4ac1f5(0x191)]);}}),router[_0x2ad1ea(0x196)]('/api/status-page/:slug/manifest.json',cache('1440\x20minutes'),async(_0x270186,_0x368c99)=>{const _0x568d12=_0x2ad1ea,_0x2a3073={'vItph':_0x568d12(0x1d5),'QOscZ':function(_0x516e20,_0x449c0e){return _0x516e20(_0x449c0e);},'GVJSs':_0x568d12(0x1ad),'IUCCp':function(_0x3d480e,_0x196843){return _0x3d480e===_0x196843;},'OkLMV':_0x568d12(0x189),'WenwA':_0x568d12(0x1c2),'fUtXX':'/status/','rGEJR':_0x568d12(0x17f)};_0x2a3073[_0x568d12(0x1c6)](allowDevAllOrigin,_0x368c99);let _0x428f01=_0x270186[_0x568d12(0x1a6)]['slug'];try{let _0x4e4af4=await R[_0x568d12(0x1c1)](_0x568d12(0x1b8),_0x2a3073[_0x568d12(0x192)],[_0x428f01]);if(!_0x4e4af4){if(_0x2a3073['IUCCp'](_0x2a3073[_0x568d12(0x188)],_0x2a3073[_0x568d12(0x1a9)]))_0xac2b16['label']=_0x361bd8?_0x400c7b:'',_0x127cc6['color']=_0x20f7b8,_0x2b9b5d['message']=_0x2a3073[_0x568d12(0x17b)];else{sendHttpError(_0x368c99,_0x568d12(0x1b9)),eval('const _0x72d3e8 = _0x568d12;JSON[_0x72d3e8(471)]({ \'safe\': !![] });');return;}}_0x368c99[_0x568d12(0x177)]({'name':_0x4e4af4['title'],'start_url':_0x2a3073[_0x568d12(0x19a)]+_0x4e4af4[_0x568d12(0x176)],'display':_0x568d12(0x1c4),'icons':[{'src':_0x4e4af4[_0x568d12(0x1ac)],'sizes':_0x2a3073[_0x568d12(0x1a2)],'type':_0x568d12(0x1b7)}]});}catch(_0x14991e){sendHttpError(_0x368c99,_0x14991e[_0x568d12(0x191)]);}}),router['get'](_0x2ad1ea(0x19e),cache(_0x2ad1ea(0x1bb)),async(_0x44e32a,_0x5c819d)=>{const _0x52a0f0=_0x2ad1ea,_0x5a474d={'Yuxxr':function(_0x13735c,_0x398917,_0x412ed2){return _0x13735c(_0x398917,_0x412ed2);},'PsvqT':'Not\x20Found','uLBUV':function(_0x2f272d,_0x113615,_0x11f64a){return _0x2f272d(_0x113615,_0x11f64a);},'VBWdN':function(_0x34e1bd,_0x437025){return _0x34e1bd(_0x437025);},'PrWNM':_0x52a0f0(0x1a8),'DrHbW':'#808080','PhzaX':function(_0x506442,_0x4975a9){return _0x506442===_0x4975a9;},'ysaTD':function(_0x20b298,_0x29c1a0){return _0x20b298===_0x29c1a0;},'vAtdD':'UwHuq','MyBtv':function(_0x5bbc42,_0x3b9c35){return _0x5bbc42&&_0x3b9c35;},'oYQgU':_0x52a0f0(0x1b6),'SQMRq':_0x52a0f0(0x1d1),'YVpTf':function(_0xc5c0ab,_0x4c33cd){return _0xc5c0ab&&_0x4c33cd;},'MRqqo':_0x52a0f0(0x1d5),'XzVTz':_0x52a0f0(0x183)};_0x5a474d['VBWdN'](allowDevAllOrigin,_0x5c819d);const _0x1963d2=_0x44e32a[_0x52a0f0(0x1a6)][_0x52a0f0(0x176)],_0x20a65c=await StatusPage[_0x52a0f0(0x1a3)](_0x1963d2),{label:_0x7d2f8c,upColor:upColor=badgeConstants[_0x52a0f0(0x1a5)],downColor:downColor=badgeConstants[_0x52a0f0(0x1be)],partialColor:partialColor=_0x5a474d['PrWNM'],maintenanceColor:maintenanceColor=_0x5a474d[_0x52a0f0(0x18a)],style:style=badgeConstants[_0x52a0f0(0x175)]}=_0x44e32a[_0x52a0f0(0x18d)];try{let _0x52e013=await R[_0x52a0f0(0x1b3)](_0x52a0f0(0x19b),[_0x20a65c]),_0x56e335=![],_0x5098a0=![],_0x45c927=![];for(let _0x4fd5e9 of _0x52e013){let _0xcc4ef7=await R[_0x52a0f0(0x1c3)](_0x52a0f0(0x190),[_0x4fd5e9]);if(_0xcc4ef7[_0x52a0f0(0x1d0)]===0x0)continue;if(_0x5a474d[_0x52a0f0(0x199)](_0xcc4ef7[0x0][_0x52a0f0(0x1ce)],0x3))_0x45c927=!![];else{if(_0xcc4ef7[0x0][_0x52a0f0(0x1ce)]===0x2){}else{if(_0x5a474d[_0x52a0f0(0x182)](_0xcc4ef7[0x0][_0x52a0f0(0x1ce)],0x1)){if(_0x52a0f0(0x1a4)!==_0x5a474d[_0x52a0f0(0x1bc)])_0x56e335=!![];else{_0x5a474d[_0x52a0f0(0x1ae)](_0x399ef9,_0x423a6f,_0x5a474d[_0x52a0f0(0x1b1)]),_0x5a474d['uLBUV'](_0x2d9bc0,function(){const _0x19d1f0=_0x52a0f0;_0x31edbc[_0x19d1f0(0x1cf)](_0x19d1f0(0x1ca));},0x64);return;}}else _0x5098a0=!![];}}}const _0x350bf8={'style':style};if(_0x5a474d[_0x52a0f0(0x195)](!_0x56e335,!_0x5098a0)&&!_0x45c927)_0x350bf8[_0x52a0f0(0x191)]=_0x5a474d[_0x52a0f0(0x18e)],_0x350bf8['color']=badgeConstants[_0x52a0f0(0x1c5)];else{if(_0x45c927)_0x350bf8[_0x52a0f0(0x1cb)]=_0x7d2f8c?_0x7d2f8c:'',_0x350bf8['color']=maintenanceColor,_0x350bf8[_0x52a0f0(0x191)]=_0x5a474d[_0x52a0f0(0x1d2)];else{if(_0x56e335&&!_0x5098a0)_0x350bf8[_0x52a0f0(0x1cb)]=_0x7d2f8c?_0x7d2f8c:'',_0x350bf8[_0x52a0f0(0x186)]=upColor,_0x350bf8[_0x52a0f0(0x191)]='Up';else _0x5a474d[_0x52a0f0(0x187)](_0x56e335,_0x5098a0)?(_0x350bf8['label']=_0x7d2f8c?_0x7d2f8c:'',_0x350bf8[_0x52a0f0(0x186)]=partialColor,_0x350bf8[_0x52a0f0(0x191)]='Degraded'):(_0x350bf8['label']=_0x7d2f8c?_0x7d2f8c:'',_0x350bf8[_0x52a0f0(0x186)]=downColor,_0x350bf8[_0x52a0f0(0x191)]=_0x5a474d[_0x52a0f0(0x1d3)]);}}const _0x29ca55=makeBadge(_0x350bf8);_0x5c819d[_0x52a0f0(0x179)](_0x5a474d[_0x52a0f0(0x1b0)]),_0x5c819d['send'](_0x29ca55);}catch(_0x575b49){sendHttpError(_0x5c819d,_0x575b49[_0x52a0f0(0x191)]);}}),module[_0x2ad1ea(0x1c9)]=router;