const _0xd83b5d=_0x203b;(function(_0x41e70c,_0x4c7c33){const _0x579f61=_0x203b,_0x4d04e9=_0x41e70c();while(!![]){try{const _0x53c3e5=parseInt(_0x579f61(0x1e4))/0x1*(-parseInt(_0x579f61(0x1a7))/0x2)+-parseInt(_0x579f61(0x1e8))/0x3+parseInt(_0x579f61(0x225))/0x4+parseInt(_0x579f61(0x193))/0x5*(parseInt(_0x579f61(0x20d))/0x6)+-parseInt(_0x579f61(0x220))/0x7+parseInt(_0x579f61(0x1c0))/0x8*(-parseInt(_0x579f61(0x1c8))/0x9)+parseInt(_0x579f61(0x1d4))/0xa;if(_0x53c3e5===_0x4c7c33)break;else _0x4d04e9['push'](_0x4d04e9['shift']());}catch(_0x2e2a8b){_0x4d04e9['push'](_0x4d04e9['shift']());}}}(_0x1442,0xcc02e));const EncryptionMetadata=require(_0xd83b5d(0x1b7))[_0xd83b5d(0x19e)],FileHeader=require(_0xd83b5d(0x1f1))['FileHeader'],getProxyAgent=require(_0xd83b5d(0x1af))[_0xd83b5d(0x1ca)],ProxyUtil=require('../proxy_util'),Util=require(_0xd83b5d(0x219)),{shouldPerformGCPBucket,lstrip}=require('../util'),GCS_METADATA_PREFIX=_0xd83b5d(0x202),SFC_DIGEST='sfc-digest',MATDESC_KEY=_0xd83b5d(0x16f),ENCRYPTIONDATAPROP=_0xd83b5d(0x227),GCS_METADATA_SFC_DIGEST=GCS_METADATA_PREFIX+SFC_DIGEST,GCS_METADATA_MATDESC_KEY=GCS_METADATA_PREFIX+MATDESC_KEY,GCS_METADATA_ENCRYPTIONDATAPROP=GCS_METADATA_PREFIX+ENCRYPTIONDATAPROP,GCS_FILE_HEADER_DIGEST=_0xd83b5d(0x1a8),GCS_FILE_HEADER_CONTENT_LENGTH='gcs-file-header-content-length',GCS_FILE_HEADER_ENCRYPTION_METADATA=_0xd83b5d(0x180),HTTP_HEADER_CONTENT_ENCODING=_0xd83b5d(0x198),resultStatus=require(_0xd83b5d(0x1f1))[_0xd83b5d(0x1cf)],{Storage}=require(_0xd83b5d(0x1d3)),EXPIRED_TOKEN='ExpiredToken',ERRORNO_WSAECONNABORTED=0x2745;function _0x1442(){const _0x58e5b7=['wsEfq','length','8278914sWIwnF','WSJJy','raw_deflate','gcsClient','EncryptedKey','3189552ZhTRcl','TNIeH','encryptiondata','UUNgC','JXeCh','uploadFile','size','NOT_FOUND_FILE','Bearer\x20','pWwwT','matDesc','NeaVb','Vezym','includes','oOMWs','ContentEncryptionIV','PgceH','getGCSCustomEndPoint','ckZWi','code','ijUYG','matdesc','https://storage.googleapis.com','endPoint','JWzmf','utWRn','nativeDownloadFile','toLowerCase','adHAC','IuAhz','rvpBN','1.0','AvxgK','mgrIz','wAohb','iDHqH','generateFileURL','path','gcs-file-header-encryption-metadata','storage.googleapis.com','getEnvVar','put','undefined','createWriteStream','save','getMetadata','tHfAm','WrappedContentKey','DEbOf','fmfaY','uRrch','exports','status','response','FrvCP','create','lkVof','199965GgoYNJ','pipe','oMzjz','setupHttpClient','LAgFy','Content-Encoding','srcFileName','foquR','zstd','zUaBk','Java\x205.3.0','EncryptionMetadata','ruzer','push','bucketName','rwooW','deflate','mqsQq','YzdlK','download','2071964IFmXJz','gcs-file-header-digest','VxVSE','sYLcO','ffaio','creds','cvFOa','giCPH','../http/node','metadata','gDyGS','startsWith','catch','EZVOW','QMDvf','UkraW','./encrypt_util','name','substring','region','.rep.googleapis.com','lMoWs','storage.','content-length','uploadSize','9749912gVxMnX','Authorization','UPLOADED','me-central2','endsWith','NEED_RETRY','srcFileSize','sfahf','9mcyyah','head','getProxyAgent','symmKey1','fkmVD','NEED_RETRY_WITH_LOWER_CONCURRENCY','oLUxU','resultStatus','http_proxy','TKOUo','indexOf','@google-cloud/storage','32274570fOaLXu','Lsiif','bzip2','get','nextTick','lastError','wSAeF','getFileHeader','createClient','DpFTR','eayrr','HUmbF','muVjz','exists','kfdso','dstFileName','1nkarIP','zqkSN','Lirwb','imbvD','3934557DLvZWc','axios','brotli','RENEW_TOKEN','client','file','accessUrl','then','useRegionalUrl','./file_util','stringify','bucket','gcsToken','lNqxs','FullBlob','aUsCN','gORTS','stageInfo','HraAh','jSrmJ','GCS\x20Util','fHWMN','GCS_ACCESS_TOKEN','PTzLo','QODfr','data','x-goog-meta-','readFileSync','https://','uPILv','getProxy','assign','close','RamkB','WZrhD','ERROR','extractBucketNameAndPath','234JBCsng','VLURT','FjHnP','presignedUrl','FSMoA','key','uploadFileStream','AFIeY','dstFileSize','wRmCb','parse','location','../util','DOWNLOADED','headers','WuQMk','AES_CBC_256'];_0x1442=function(){return _0x58e5b7;};return _0x1442();}function GCSLocation(_0x515cc8,_0x40f2a6){return{'bucketName':_0x515cc8,'path':_0x40f2a6};}function GCSUtil(_0x2d318e,_0x3d6be6,_0x540bd7){const _0x2eb006=_0xd83b5d,_0x438970={'gDyGS':function(_0xbbcda5,_0x3b3682){return _0xbbcda5===_0x3b3682;},'NeaVb':_0x2eb006(0x171),'pWwwT':_0x2eb006(0x1cf),'WSJJy':function(_0x376e7b,_0x3021a7){return _0x376e7b+_0x3021a7;},'QODfr':_0x2eb006(0x19a),'Qpckr':function(_0xbeb5bf,_0x5b6ee1,_0x32c084){return _0xbeb5bf(_0x5b6ee1,_0x32c084);},'ckZWi':_0x2eb006(0x1d9),'ffaio':'code','JXeCh':function(_0x1ecb45,_0x3cd0b3){return _0x1ecb45(_0x3cd0b3);},'VxVSE':function(_0x455b96,_0x17f425){return _0x455b96===_0x17f425;},'oLUxU':_0x2eb006(0x210),'Vezym':function(_0x676c5a,_0x5dcffb){return _0x676c5a!==_0x5dcffb;},'TNIeH':_0x2eb006(0x1f9),'JWzmf':function(_0x1f99d1,_0x2611e2){return _0x1f99d1+_0x2611e2;},'mgrIz':_0x2eb006(0x1b6),'HUmbF':_0x2eb006(0x177),'sYLcO':_0x2eb006(0x169),'UUNgC':function(_0x1954c7,_0x26aa5f,_0x5f27b9,_0x292745){return _0x1954c7(_0x26aa5f,_0x5f27b9,_0x292745);},'QMDvf':function(_0x4b9a12,_0x1e377d){return _0x4b9a12===_0x1e377d;},'oMzjz':function(_0x30c063,_0xd6c46b,_0x316725,_0x2ddb71){return _0x30c063(_0xd6c46b,_0x316725,_0x2ddb71);},'mqsQq':_0x2eb006(0x1e3),'RamkB':_0x2eb006(0x1ec),'RQgZO':function(_0x3df483,_0x1f7293){return _0x3df483+_0x1f7293;},'Lsiif':'dstCompressionType','rvpBN':_0x2eb006(0x1b8),'WuQMk':_0x2eb006(0x1a3),'imbvD':'SHA256_DIGEST','wSAeF':_0x2eb006(0x1f6),'Lirwb':_0x2eb006(0x1cb),'ruzer':_0x2eb006(0x21d),'jSrmJ':_0x2eb006(0x19d),'jbKXg':function(_0x568c85,_0x36c1bf){return _0x568c85===_0x36c1bf;},'lkVof':_0x2eb006(0x16e),'FjHnP':function(_0x58c6c3,_0x575d2e){return _0x58c6c3===_0x575d2e;},'PTzLo':_0x2eb006(0x215),'fmfaY':_0x2eb006(0x1bf),'kfdso':function(_0x3be8c0,_0x59f78a){return _0x3be8c0(_0x59f78a);},'rwooW':'error','wRmCb':function(_0x1ee1bc,_0x2afb34){return _0x1ee1bc||_0x2afb34;},'oOMWs':_0x2eb006(0x181),'wAohb':_0x2eb006(0x199),'lMoWs':_0x2eb006(0x218),'yrHsE':'stream','eoIam':_0x2eb006(0x1be),'AFIeY':function(_0x4da5ad,_0x42d515){return _0x4da5ad===_0x42d515;},'TKOUo':_0x2eb006(0x1e0),'fkmVD':_0x2eb006(0x224),'XOrUU':_0x2eb006(0x1c6),'hBLhy':_0x2eb006(0x170),'mmsCx':_0x2eb006(0x204),'adHAC':function(_0x2e70a7,_0x45108e){return _0x2e70a7!==_0x45108e;},'gORTS':_0x2eb006(0x1ad),'WZrhD':'me-central2','WczBO':function(_0x3f6949,_0x3c688e){return _0x3f6949===_0x3c688e;},'PgceH':_0x2eb006(0x184)};let _0x1c1fc4=_0x3d6be6;const _0x4637b9=typeof _0x540bd7!==_0x438970[_0x2eb006(0x16a)]?_0x540bd7:require('fs');let _0x1611a7=![];this[_0x2eb006(0x1dc)]=function(_0x1d7527){const _0x5436df=_0x2eb006;if('pcTol'!=='pcTol')_0x20f212=_0x5436df(0x1bd)+_0x3c16e0[_0x5436df(0x1ba)][_0x5436df(0x175)]()+_0x5436df(0x1bb);else{const _0x347193=_0x1d7527[_0x5436df(0x1ac)],_0x1127de=_0x347193[_0x5436df(0x1fe)],_0x29f82d=_0x438970[_0x5436df(0x1b1)](_0x1d7527[_0x5436df(0x1ba)][_0x5436df(0x175)](),_0x5436df(0x1c3))||_0x1d7527[_0x5436df(0x1f0)];let _0x4a6853=null;if(_0x1d7527[_0x5436df(0x171)])_0x4a6853=_0x1d7527[_0x438970[_0x5436df(0x165)]];else _0x29f82d&&(_0x4a6853=_0x5436df(0x1bd)+_0x1d7527[_0x5436df(0x1ba)]['toLowerCase']()+_0x5436df(0x1bb));let _0x386164;if(_0x1127de){const _0xc18351=[];_0xc18351[_0x5436df(0x1a0)]({'request':_0x5c2046=>{const _0x383fed=_0x5436df;return _0x5c2046[_0x383fed(0x21b)]=_0x5c2046['headers']||{},Object[_0x383fed(0x207)](_0x5c2046[_0x383fed(0x21b)],{'Authorization':'Bearer\x20'+_0x1127de}),_0x5c2046;}});const _0x297c49=Util[_0x5436df(0x1e1)](_0x4a6853)?new Storage({'interceptors_':_0xc18351,'apiEndpoint':_0x4a6853}):new Storage({'interceptors_':_0xc18351});_0x386164={'gcsToken':_0x1127de,'gcsClient':_0x297c49};}else _0x386164=null;return process[_0x5436df(0x1d8)](()=>this[_0x5436df(0x196)](_0x4a6853)),_0x386164;}},this[_0x2eb006(0x20c)]=function(_0x4b7a4d){const _0x54edd9=_0x2eb006;let _0x5d0ce1=_0x4b7a4d,_0xf3cb5='';return _0x4b7a4d[_0x54edd9(0x167)]('/')&&(_0x5d0ce1=_0x4b7a4d[_0x54edd9(0x1b9)](0x0,_0x4b7a4d[_0x54edd9(0x1d2)]('/')),_0xf3cb5=_0x4b7a4d[_0x54edd9(0x1b9)](_0x438970[_0x54edd9(0x221)](_0x4b7a4d[_0x54edd9(0x1d2)]('/'),0x1),_0x4b7a4d[_0x54edd9(0x21f)]),_0xf3cb5&&!_0xf3cb5[_0x54edd9(0x1c4)]('/')&&(_0x438970[_0x54edd9(0x200)]!==_0x54edd9(0x19a)?(_0x2da67a[_0x54edd9(0x1d9)]=_0x463746,_0x3036f9[_0x438970[_0x54edd9(0x163)]]=_0xf2f869[_0x54edd9(0x1eb)]):_0xf3cb5+='/')),_0x438970['Qpckr'](GCSLocation,_0x5d0ce1,_0xf3cb5);},this[_0x2eb006(0x1db)]=async function(_0x410e1d,_0x28aab4){const _0x85d653=_0x2eb006;if(_0x410e1d['resultStatus']===resultStatus[_0x85d653(0x1c2)]||_0x438970[_0x85d653(0x1a9)](_0x410e1d[_0x438970['pWwwT']],resultStatus[_0x85d653(0x21a)])){if('tHfAm'===_0x85d653(0x188))return FileHeader(_0x410e1d[GCS_FILE_HEADER_DIGEST],_0x410e1d[GCS_FILE_HEADER_CONTENT_LENGTH],_0x410e1d[GCS_FILE_HEADER_ENCRYPTION_METADATA]);else _0x33ac7d=_0x4ce935[_0x85d653(0x171)];}else{if(_0x410e1d[_0x438970[_0x85d653(0x1ce)]])await _0x1c1fc4[_0x85d653(0x1d7)](_0x410e1d[_0x85d653(0x210)])[_0x85d653(0x1b3)](_0x38dee5=>{const _0x595885=_0x85d653;[0x191,0x193,0x194][_0x595885(0x167)](_0x38dee5[_0x595885(0x18f)][_0x595885(0x18e)])&&(_0x410e1d['resultStatus']=resultStatus[_0x595885(0x161)]);});else{if(_0x438970[_0x85d653(0x166)](_0x85d653(0x211),'FSMoA'))return _0x4c6ccd[_0x85d653(0x21b)]=_0x411e6e[_0x85d653(0x21b)]||{},_0x87e52f[_0x85d653(0x207)](_0x5f1612[_0x85d653(0x21b)],{'Authorization':'Bearer\x20'+_0x3237e2}),_0x2c63d2;else{const _0x14975b=this['generateFileURL'](_0x410e1d[_0x85d653(0x1f9)],lstrip(_0x28aab4,'/')),_0x5dcbb6=_0x410e1d[_0x85d653(0x1ec)]['gcsToken'],_0x1edbf6={'Authorization':_0x85d653(0x162)+_0x5dcbb6};let _0x151522,_0x181f48,_0x3354b9,_0x215502,_0x58f9e3;try{if(shouldPerformGCPBucket(_0x5dcbb6)&&!_0x1611a7){const _0xd5a2e9=this[_0x85d653(0x20c)](_0x410e1d[_0x438970[_0x85d653(0x226)]][_0x85d653(0x218)]),_0x41bd31=await _0x410e1d[_0x85d653(0x1ec)]['gcsClient'][_0x85d653(0x1f3)](_0xd5a2e9['bucketName'])[_0x85d653(0x1ed)](_0x438970[_0x85d653(0x172)](_0xd5a2e9[_0x85d653(0x17f)],_0x28aab4))[_0x85d653(0x187)]();_0x181f48=_0x41bd31[0x0][_0x85d653(0x1b0)][SFC_DIGEST],_0x3354b9=_0x41bd31[0x0][_0x85d653(0x22b)],_0x215502=_0x41bd31[0x0][_0x85d653(0x1b0)][ENCRYPTIONDATAPROP],_0x58f9e3=_0x41bd31[0x0][_0x85d653(0x1b0)][MATDESC_KEY];}else{const _0x59e44a=await _0x1c1fc4[_0x85d653(0x1c9)](_0x14975b,{'headers':_0x1edbf6});_0x181f48=_0x59e44a[_0x85d653(0x21b)][GCS_METADATA_SFC_DIGEST],_0x3354b9=_0x59e44a['headers'][_0x85d653(0x1be)],_0x215502=_0x59e44a[_0x85d653(0x21b)][GCS_METADATA_ENCRYPTIONDATAPROP],_0x58f9e3=_0x59e44a['headers'][GCS_METADATA_MATDESC_KEY];}if(_0x215502){if(_0x438970[_0x85d653(0x17b)]!==_0x438970[_0x85d653(0x1df)]){const _0x184705=JSON['parse'](_0x215502);_0x184705&&(_0x151522=EncryptionMetadata(_0x184705[_0x85d653(0x189)][_0x85d653(0x224)],_0x184705[_0x438970[_0x85d653(0x1aa)]],_0x58f9e3?_0x58f9e3:null));}else _0x207282[_0x438970['ckZWi']]=_0x433a9a,_0x197ffa[_0x438970[_0x85d653(0x163)]]=_0x1151ea[_0x85d653(0x1eb)];}return _0x410e1d['resultStatus']=resultStatus[_0x85d653(0x1c2)],_0x438970[_0x85d653(0x228)](FileHeader,_0x181f48,_0x3354b9,_0x151522);}catch(_0x1ffd74){if(_0x438970[_0x85d653(0x1b1)](_0x85d653(0x1fd),_0x85d653(0x1fd))){const _0x4ce40d=!isNaN(_0x1ffd74[_0x85d653(0x16d)])&&!_0x438970[_0x85d653(0x229)](isNaN,parseInt(_0x1ffd74[_0x85d653(0x16d)]))?_0x1ffd74[_0x85d653(0x16d)]:_0x1ffd74['response'][_0x85d653(0x18e)];if([0x193,0x198,0x1ad,0x1f4,0x1f7][_0x85d653(0x167)](_0x4ce40d)){_0x410e1d[_0x85d653(0x1d9)]=_0x1ffd74,_0x410e1d[_0x85d653(0x1cf)]=resultStatus[_0x85d653(0x1c5)];return;}if(_0x438970[_0x85d653(0x1b5)](_0x4ce40d,0x194))'JCYTx'!==_0x85d653(0x1dd)?_0x410e1d[_0x438970['pWwwT']]=resultStatus['NOT_FOUND_FILE']:(_0x4c0a4e[_0x438970[_0x85d653(0x16c)]]=_0x2eab72,_0x21356d[_0x438970[_0x85d653(0x1ab)]]===_0x5f2590?_0x5884d0[_0x438970[_0x85d653(0x163)]]=_0x3602ba[_0x85d653(0x1cd)]:_0x5b706b[_0x438970[_0x85d653(0x163)]]=_0x302d8e[_0x85d653(0x1c5)]);else{if(_0x4ce40d===0x191)_0x410e1d[_0x85d653(0x1d9)]=_0x1ffd74,_0x410e1d[_0x438970[_0x85d653(0x163)]]=resultStatus[_0x85d653(0x1eb)];else{if(_0x85d653(0x173)===_0x85d653(0x1de)){_0x49e1f0=!![];const _0x42d791=_0x2946b7(_0x294033,new _0x2ded46(_0x2e12bd[_0x85d653(0x1ee)]),_0x23ad6d||_0x85d653(0x181));_0x57fb44=_0x438970[_0x85d653(0x229)](_0x2c9e89,_0x85d653(0x1e9))['create']({'proxy':![],'httpAgent':_0x42d791,'httpsAgent':_0x42d791});}else{_0x410e1d[_0x438970[_0x85d653(0x16c)]]=_0x1ffd74,_0x410e1d[_0x438970[_0x85d653(0x163)]]=resultStatus['ERROR'];throw _0x1ffd74;}}}}else _0x1203fc='';}}}}return _0x438970[_0x85d653(0x195)](FileHeader,null,null,null);},this[_0x2eb006(0x22a)]=async function(_0x30efb1,_0x543760,_0x1316b8,_0x4f754a){const _0xd4649e=_0x2eb006,_0x445887=_0x4637b9[_0xd4649e(0x203)](_0x30efb1);await this[_0xd4649e(0x213)](_0x445887,_0x543760,_0x1316b8,_0x4f754a);},this['uploadFileStream']=async function(_0x4b9d83,_0x5f4a1a,_0x1e15ff){const _0x16c8f3=_0x2eb006;let _0x572a1e=_0x5f4a1a[_0x438970[_0x16c8f3(0x1ce)]],_0x4bb801=null;if(!_0x572a1e){const _0x283deb=_0x5f4a1a[_0x16c8f3(0x1e3)][_0x16c8f3(0x1b9)](_0x438970['RQgZO'](_0x5f4a1a[_0x16c8f3(0x1e3)]['indexOf']('/'),0x1),_0x5f4a1a[_0x16c8f3(0x1e3)][_0x16c8f3(0x21f)]);_0x572a1e=this['generateFileURL'](_0x5f4a1a[_0x16c8f3(0x1f9)],_0x283deb),_0x4bb801=_0x5f4a1a[_0x438970[_0x16c8f3(0x209)]]['gcsToken'];}let _0x261f19='';_0x5f4a1a[_0x438970[_0x16c8f3(0x1d5)]]&&(_0x261f19=_0x5f4a1a[_0x438970[_0x16c8f3(0x1d5)]][_0x438970[_0x16c8f3(0x178)]],_0x261f19=_0x261f19['toLowerCase']());['gzip',_0x16c8f3(0x1d6),_0x16c8f3(0x1ea),_0x438970[_0x16c8f3(0x21c)],_0x16c8f3(0x222),_0x16c8f3(0x19b)][_0x16c8f3(0x167)](_0x261f19)&&(_0x261f19='');const _0x6c0f55={[HTTP_HEADER_CONTENT_ENCODING]:_0x261f19,[GCS_METADATA_SFC_DIGEST]:_0x5f4a1a[_0x438970[_0x16c8f3(0x1e7)]]};_0x4bb801&&(_0x6c0f55[_0x16c8f3(0x1c1)]='Bearer\x20'+_0x4bb801);_0x1e15ff&&(_0x6c0f55[GCS_METADATA_ENCRYPTIONDATAPROP]=JSON[_0x16c8f3(0x1f2)]({'EncryptionMode':_0x438970[_0x16c8f3(0x1da)],'WrappedContentKey':{'KeyId':_0x438970[_0x16c8f3(0x1e6)],'EncryptedKey':_0x1e15ff['key'],'Algorithm':_0x438970[_0x16c8f3(0x19f)]},'EncryptionAgent':{'Protocol':'1.0','EncryptionAlgorithm':_0x16c8f3(0x21d)},'ContentEncryptionIV':_0x1e15ff['iv'],'KeyWrappingMetadata':{'EncryptionLibrary':_0x438970[_0x16c8f3(0x1fb)]}}),_0x6c0f55[GCS_METADATA_MATDESC_KEY]=_0x1e15ff[_0x16c8f3(0x164)]);try{if(shouldPerformGCPBucket(_0x4bb801)&&!_0x1611a7){const _0x2bb785=this[_0x16c8f3(0x20c)](_0x5f4a1a[_0x438970[_0x16c8f3(0x226)]][_0x16c8f3(0x218)]);await _0x5f4a1a[_0x438970[_0x16c8f3(0x209)]][_0x16c8f3(0x223)][_0x16c8f3(0x1f3)](_0x2bb785[_0x16c8f3(0x1a1)])[_0x16c8f3(0x1ed)](_0x438970[_0x16c8f3(0x172)](_0x2bb785['path'],_0x5f4a1a[_0x438970['mqsQq']]))[_0x16c8f3(0x186)](_0x4b9d83,{'resumable':![],'metadata':{'metadata':{[ENCRYPTIONDATAPROP]:_0x6c0f55[GCS_METADATA_ENCRYPTIONDATAPROP],[MATDESC_KEY]:_0x6c0f55[GCS_METADATA_MATDESC_KEY],[SFC_DIGEST]:_0x6c0f55[GCS_METADATA_SFC_DIGEST]}}});}else await _0x1c1fc4[_0x16c8f3(0x183)](_0x572a1e,_0x4b9d83,{'maxBodyLength':Infinity,'headers':_0x6c0f55});}catch(_0x5efdd4){if([0x193,0x198,0x1ad,0x1f4,0x1f7][_0x16c8f3(0x167)](_0x5efdd4[_0x16c8f3(0x16d)]))_0x5f4a1a[_0x16c8f3(0x1d9)]=_0x5efdd4,_0x5f4a1a[_0x16c8f3(0x1cf)]=resultStatus[_0x16c8f3(0x1c5)];else{if(!_0x4bb801&&_0x438970['jbKXg'](_0x5efdd4[_0x16c8f3(0x16d)],0x190)&&(!_0x5f4a1a[_0x438970['ckZWi']]||_0x438970[_0x16c8f3(0x166)](_0x5f4a1a[_0x438970[_0x16c8f3(0x16c)]][_0x438970['ffaio']],0x190))){if('UtFWI'===_0x438970[_0x16c8f3(0x192)]){const _0x57b07c=_0x1b0c73[_0x16c8f3(0x1e3)][_0x16c8f3(0x1b9)](_0x438970[_0x16c8f3(0x221)](_0x15dd3e[_0x438970[_0x16c8f3(0x1a4)]][_0x16c8f3(0x1d2)]('/'),0x1),_0x7942be[_0x438970[_0x16c8f3(0x1a4)]]['length']);_0x15eb41=this[_0x16c8f3(0x17e)](_0x58ef65[_0x16c8f3(0x1f9)],_0x57b07c),_0xda699e=_0x498633[_0x438970[_0x16c8f3(0x209)]][_0x16c8f3(0x1f4)];}else _0x5f4a1a[_0x16c8f3(0x1d9)]=_0x5efdd4,_0x5f4a1a[_0x438970[_0x16c8f3(0x163)]]=resultStatus['RENEW_PRESIGNED_URL'];}else _0x4bb801&&_0x438970[_0x16c8f3(0x20f)](_0x5efdd4[_0x438970[_0x16c8f3(0x1ab)]],0x191)&&(_0x5f4a1a[_0x438970[_0x16c8f3(0x16c)]]=_0x5efdd4,_0x5f4a1a[_0x438970['pWwwT']]=resultStatus[_0x16c8f3(0x1eb)]);}return;}_0x5f4a1a[_0x438970[_0x16c8f3(0x1ff)]]=_0x5f4a1a[_0x16c8f3(0x1bf)],_0x5f4a1a[_0x438970[_0x16c8f3(0x163)]]=resultStatus[_0x16c8f3(0x1c2)],_0x5f4a1a[GCS_FILE_HEADER_DIGEST]=_0x6c0f55[GCS_METADATA_SFC_DIGEST],_0x5f4a1a[GCS_FILE_HEADER_CONTENT_LENGTH]=_0x5f4a1a[_0x438970[_0x16c8f3(0x18b)]],_0x5f4a1a[GCS_FILE_HEADER_ENCRYPTION_METADATA]=_0x6c0f55[GCS_METADATA_ENCRYPTIONDATAPROP];},this[_0x2eb006(0x174)]=async function(_0x43896e,_0x544699){const _0x3b8059=_0x2eb006,_0x2f66d5={'giCPH':_0x438970[_0x3b8059(0x19f)],'iodVk':_0x3b8059(0x1f7),'zUaBk':function(_0x1a10ae,_0x563846){const _0x175101=_0x3b8059;return _0x438970[_0x175101(0x1e2)](_0x1a10ae,_0x563846);},'DDJWf':_0x438970[_0x3b8059(0x1a2)],'uPILv':function(_0x23b948,_0x3d2b3f){return _0x23b948===_0x3d2b3f;},'DEbOf':_0x3b8059(0x1d0),'HraAh':function(_0x239fc5,_0xd3a4a0,_0x618ff2,_0x4a2b72){return _0x239fc5(_0xd3a4a0,_0x618ff2,_0x4a2b72);},'SWtNF':function(_0x6e3a2a,_0x13ab43){const _0x3a4edf=_0x3b8059;return _0x438970[_0x3a4edf(0x216)](_0x6e3a2a,_0x13ab43);},'iDHqH':_0x438970[_0x3b8059(0x168)],'VLURT':function(_0x3955ad,_0x297b7d){const _0x39bf72=_0x3b8059;return _0x438970[_0x39bf72(0x229)](_0x3955ad,_0x297b7d);},'lNqxs':_0x3b8059(0x1e9)};let _0x496820=_0x43896e[_0x438970[_0x3b8059(0x1ce)]],_0x2de10a=null,_0xb159f1={};!_0x496820&&(_0x496820=this[_0x3b8059(0x17e)](_0x43896e[_0x3b8059(0x1f9)],lstrip(_0x43896e[_0x438970['wAohb']],'/')),_0x2de10a=_0x43896e[_0x3b8059(0x1ec)]['gcsToken'],_0xb159f1={'Authorization':_0x3b8059(0x162)+_0x2de10a});let _0x9689a,_0xd07d8d,_0x2b5ba2,_0x63d1c4;try{if(_0x438970['kfdso'](shouldPerformGCPBucket,_0x2de10a)&&!_0x1611a7){const _0x50e4d6=this['extractBucketNameAndPath'](_0x43896e[_0x3b8059(0x1f9)][_0x438970[_0x3b8059(0x1bc)]]);await _0x43896e['client'][_0x3b8059(0x223)][_0x3b8059(0x1f3)](_0x50e4d6[_0x3b8059(0x1a1)])['file'](_0x50e4d6[_0x3b8059(0x17f)]+_0x43896e[_0x438970[_0x3b8059(0x17c)]])[_0x3b8059(0x1a6)]({'destination':_0x544699});const _0xbea0ba=await _0x43896e['client'][_0x3b8059(0x223)][_0x3b8059(0x1f3)](_0x50e4d6[_0x3b8059(0x1a1)])[_0x3b8059(0x1ed)](_0x438970['WSJJy'](_0x50e4d6[_0x3b8059(0x17f)],_0x43896e[_0x438970['wAohb']]))[_0x3b8059(0x187)]();_0x9689a=_0xbea0ba[0x0]['metadata'][ENCRYPTIONDATAPROP],_0xd07d8d=_0xbea0ba[0x0][_0x3b8059(0x1b0)][MATDESC_KEY],_0x2b5ba2=_0xbea0ba[0x0]['metadata'][SFC_DIGEST],_0x63d1c4=_0xbea0ba[0x0]['size'];}else{let _0xd35b0c;await _0x1c1fc4['get'](_0x496820,{'headers':_0xb159f1,'responseType':_0x438970['yrHsE']})[_0x3b8059(0x1ef)](async _0x5abdfc=>{const _0x53ba5a={'EZVOW':function(_0xe16793){return _0xe16793();}};_0xd35b0c=_0x5abdfc,await new Promise((_0x122fff,_0x50f4dc)=>{const _0x3c02ca=_0x203b,_0xb259fb={'LAgFy':'symmKey1','DGOyX':_0x2f66d5[_0x3c02ca(0x1ae)],'FrvCP':_0x2f66d5['iodVk'],'LEngp':function(_0x2d1e77,_0x203878){const _0x214e3c=_0x3c02ca;return _0x2f66d5[_0x214e3c(0x19c)](_0x2d1e77,_0x203878);}},_0x40ffd9=_0x4637b9[_0x3c02ca(0x185)](_0x544699);_0xd35b0c[_0x3c02ca(0x201)][_0x3c02ca(0x194)](_0x40ffd9),_0x40ffd9['on'](_0x2f66d5['DDJWf'],_0x1ffbca=>{const _0x2267df=_0x3c02ca,_0x57878b={'zqkSN':_0xb259fb[_0x2267df(0x197)],'wsEfq':_0xb259fb['DGOyX'],'uRrch':_0x2267df(0x179)};_0xb259fb[_0x2267df(0x190)]!=='icNsm'?(_0x40ffd9[_0x2267df(0x208)](),_0xb259fb['LEngp'](_0x50f4dc,_0x1ffbca)):(_0x3ca097[_0x3dea7c]=_0x5aaedf['stringify']({'EncryptionMode':'FullBlob','WrappedContentKey':{'KeyId':_0x57878b[_0x2267df(0x1e5)],'EncryptedKey':_0xbf6f5e[_0x2267df(0x212)],'Algorithm':_0x57878b[_0x2267df(0x21e)]},'EncryptionAgent':{'Protocol':_0x57878b[_0x2267df(0x18c)],'EncryptionAlgorithm':_0x2267df(0x21d)},'ContentEncryptionIV':_0x2a9a6f['iv'],'KeyWrappingMetadata':{'EncryptionLibrary':'Java\x205.3.0'}}),_0x26d671[_0x5f2be5]=_0x4e0e96['matDesc']);}),_0x40ffd9['on'](_0x3c02ca(0x208),()=>{const _0x5132b6=_0x3c02ca;_0x53ba5a[_0x5132b6(0x1b4)](_0x122fff);});});}),_0x9689a=_0xd35b0c[_0x3b8059(0x21b)][GCS_METADATA_ENCRYPTIONDATAPROP],_0xd07d8d=_0xd35b0c[_0x3b8059(0x21b)][GCS_METADATA_MATDESC_KEY],_0x2b5ba2=_0xd35b0c[_0x3b8059(0x21b)][GCS_METADATA_SFC_DIGEST],_0x63d1c4=_0xd35b0c['headers'][_0x438970['eoIam']];}}catch(_0x45f150){if(_0x45f150[_0x3b8059(0x16d)]===EXPIRED_TOKEN)_0x43896e[_0x3b8059(0x1cf)]=resultStatus['RENEW_TOKEN'];else{if(_0x3b8059(0x1c7)!==_0x3b8059(0x1c7)){const _0x2de6cb=[];_0x2de6cb[_0x3b8059(0x1a0)]({'request':_0x12b42b=>{const _0x4e14b5=_0x3b8059;return _0x12b42b['headers']=_0x12b42b['headers']||{},_0xdca61a[_0x4e14b5(0x207)](_0x12b42b[_0x4e14b5(0x21b)],{'Authorization':_0x4e14b5(0x162)+_0x95c4da}),_0x12b42b;}});const _0x31a5a1=_0x4f47f8[_0x3b8059(0x1e1)](_0x317df9)?new _0x5eb35a({'interceptors_':_0x2de6cb,'apiEndpoint':_0x3125fd}):new _0x20ca94({'interceptors_':_0x2de6cb});_0x11bc0e={'gcsToken':_0x5927f4,'gcsClient':_0x31a5a1};}else{_0x43896e[_0x3b8059(0x1d9)]=_0x45f150;if(_0x438970[_0x3b8059(0x214)](_0x45f150[_0x438970[_0x3b8059(0x1ab)]],ERRORNO_WSAECONNABORTED)){if(_0x438970[_0x3b8059(0x1d1)]===_0x3b8059(0x1a5)){if(_0x2f66d5[_0x3b8059(0x205)](typeof _0x33fbfc,_0x3b8059(0x184))){const _0x41985f=_0x14d031[_0x3b8059(0x206)](_0x47b597['getProxy'](),_0x3b8059(0x1fc));if(_0x41985f||_0x3e74be[_0x3b8059(0x182)](_0x2f66d5[_0x3b8059(0x18a)])){_0x17a33f=!![];const _0x3f5524=_0x2f66d5[_0x3b8059(0x1fa)](_0x1bad7b,_0x41985f,new _0x2e2f8e(_0x3c87c0['accessUrl']),_0x2f66d5['SWtNF'](_0x4f2be8,_0x2f66d5[_0x3b8059(0x17d)]));_0x1108a3=_0x2f66d5[_0x3b8059(0x20e)](_0x3dba19,_0x3b8059(0x1e9))['create']({'proxy':![],'httpAgent':_0x3f5524,'httpsAgent':_0x3f5524});}else _0xda8070=_0x2f66d5[_0x3b8059(0x20e)](_0x36cd05,_0x2f66d5[_0x3b8059(0x1f5)]);}}else _0x43896e[_0x438970[_0x3b8059(0x163)]]=resultStatus[_0x3b8059(0x1cd)];}else _0x43896e[_0x3b8059(0x1cf)]=resultStatus[_0x3b8059(0x1c5)];}}return;}let _0x3940e1;_0x9689a&&(_0x3940e1=JSON[_0x3b8059(0x217)](_0x9689a));let _0x3aa4bb;_0x3940e1&&(_0x3aa4bb=EncryptionMetadata(_0x3940e1[_0x3b8059(0x189)][_0x438970[_0x3b8059(0x1cc)]],_0x3940e1[_0x3b8059(0x169)],_0xd07d8d));const _0x236f7a=_0x4637b9['statSync'](_0x544699);_0x43896e[_0x438970['XOrUU']]=_0x236f7a[_0x3b8059(0x22b)],_0x43896e[_0x438970[_0x3b8059(0x163)]]=resultStatus['DOWNLOADED'],_0x43896e[GCS_FILE_HEADER_DIGEST]=_0x2b5ba2,_0x43896e[GCS_FILE_HEADER_CONTENT_LENGTH]=_0x63d1c4,_0x43896e[GCS_FILE_HEADER_ENCRYPTION_METADATA]=_0x3aa4bb;},this[_0x2eb006(0x17e)]=function(_0x56f640,_0x2f6c61){const _0x45449f=_0x2eb006,_0x5853b5=this[_0x45449f(0x20c)](_0x56f640[_0x45449f(0x218)]),_0x5c3457=''+_0x5853b5[_0x45449f(0x17f)]+_0x2f6c61,_0x20c1c3=this[_0x45449f(0x16b)](_0x56f640),_0x1cacf4=(_0x20c1c3!=null?_0x20c1c3:_0x438970['hBLhy'])+'/'+_0x5853b5['bucketName']+'/'+_0x5c3457;return _0x1cacf4[_0x45449f(0x1b2)](_0x438970['mmsCx'])?_0x1cacf4:_0x45449f(0x204)+_0x1cacf4;},this['getGCSCustomEndPoint']=function(_0x406bc8){const _0x236c9f=_0x2eb006,_0x2a54e4={'AvxgK':_0x236c9f(0x1d9)};if(_0x438970[_0x236c9f(0x176)](_0x438970[_0x236c9f(0x1f8)],_0x236c9f(0x1ad))){_0x402b67[_0x2a54e4[_0x236c9f(0x17a)]]=_0x3f2d65,_0xc33534[_0x236c9f(0x1cf)]=_0x4312bf[_0x236c9f(0x20b)];throw _0x5d8e12;}else{const _0x1a55fb=_0x406bc8['region'][_0x236c9f(0x175)]()===_0x438970[_0x236c9f(0x20a)]||_0x406bc8[_0x236c9f(0x1f0)];let _0x254cf0=null;if(_0x406bc8[_0x438970[_0x236c9f(0x165)]])_0x254cf0=_0x406bc8[_0x438970[_0x236c9f(0x165)]];else _0x1a55fb&&(_0x254cf0=_0x236c9f(0x1bd)+_0x406bc8['region']['toLowerCase']()+_0x236c9f(0x1bb));return _0x254cf0;}},this[_0x2eb006(0x196)]=function(_0xb6fe19){const _0x1ccd97=_0x2eb006;if(_0x438970['WczBO'](typeof _0x3d6be6,_0x1ccd97(0x184))){const _0x496c29=ProxyUtil[_0x1ccd97(0x206)](_0x2d318e[_0x1ccd97(0x206)](),'GCS\x20Util');if(_0x496c29||Util[_0x1ccd97(0x182)](_0x1ccd97(0x1d0))){_0x1611a7=!![];const _0x168129=_0x438970[_0x1ccd97(0x195)](getProxyAgent,_0x496c29,new URL(_0x2d318e[_0x1ccd97(0x1ee)]),_0x438970[_0x1ccd97(0x216)](_0xb6fe19,_0x438970[_0x1ccd97(0x168)]));_0x1c1fc4=require(_0x1ccd97(0x1e9))[_0x1ccd97(0x191)]({'proxy':![],'httpAgent':_0x168129,'httpsAgent':_0x168129});}else _0x1c1fc4=_0x438970[_0x1ccd97(0x1e2)](require,_0x1ccd97(0x1e9));}};}function _0x203b(_0x175dea,_0x339186){const _0x144261=_0x1442();return _0x203b=function(_0x203b21,_0x227611){_0x203b21=_0x203b21-0x161;let _0xb46872=_0x144261[_0x203b21];return _0xb46872;},_0x203b(_0x175dea,_0x339186);}module[_0xd83b5d(0x18d)]=GCSUtil;