#!/usr/bin/env node
'use strict';const _0x1494e8=_0x59b1;function _0x307b(){const _0x2b51fb=['drop','MeHeb','getTarget','keys','ibSbf','20SOfMQk','1657400gPglUm','CAsjH','LtDcF','NzzdT','USERNAME_ALREADY_BEING_USED','IsMbQ','SeTmf','MemoryStore','BgjRI','DyrcC','sid','_class','oWjIR','stringify','parse','yZshJ','PORT','cSRww','UMmdj','./auth/openid','sendUTF','pFrdh','../client/index.html','jfRtD','origin','Initial\x20handshake\x20with\x20','express-session','kcBcl','close','var\x20x\x20=\x2042;\x20return\x20x;','/mute\x20','development','SvCEQ','DPvBq','sync','cookies','sendFile','FJbsr','return\x20Object.keys({a:1});','SIGINT','express','\x20acquired\x20','/authenticate','ZBIGH','365204UwuqOh','UpQJJ','YdPnw','QhFCP','type','GXonW','area','available','newX','enter','dress','dGzyh','mIsFc','ofNbv','value','../content/world/map.json','pengu','toString','xCMxA','includes','morgan','travel','cdfkB','string','FNXWZ','listen','get','cookie-parser','Username\x20already\x20being\x20used','utf8Data','query','exit','Server\x20is\x20going\x20down','path','http','startsWith','closet','aFHHx','syncCloset','oWcLj','registered','MwaIv','addItem','TSqMf','join','10UdiNLe','YNqqh','insert\x20into\x20\x22penguin\x22(\x22name\x22,\x20\x22closet\x22,\x20\x22clothing\x22,\x20\x22registered\x22,\x20\x22group\x22)\x20VALUES($1,\x20$2,\x20$3,\x20$4,\x20$5)','\x20goes\x20to\x20','MrJbw','banned','JhVOg','es6-promisify','bind','websocket','door','select\x20*\x20from\x20\x22penguin\x22',')\x20disconnected.','collect','redirect','WgUPW','DHWjU','user','69510lGPVyB','Esybm','kcdpA','\x20Peer\x20','session','itemId','rkrJV','substr','VUCEb','iUdLA','FUULw','QViVS','filter','spawn','combined','ovbZa','99MXOsjk','HxVTa','YteTZ','wmlRE','SNYAO','\x20dressed\x20','VrcdH','hCFkq','rGekg','wpbEt','OPENID_PROVIDER','newY','vZazJ','clothing','Problems\x20reading\x20session','REfwJ','update\x20\x22penguin\x22\x20set\x20\x22clothing\x22=$2\x20where\x20\x22name\x22=$1','zyQCR','room','port','dDqrY','Tuto\x20věc\x20již\x20máš.','\x20attempted\x20to\x20acquire\x20','accept','function','ZxMUw','uLPnm','BsuvA','4260852YpTBPJ','fOCyK','/unmute\x20','remoteAddress','xHIcn','fKAWN','vJmlt','updateClock();','readFileSync','name','rqllh','\x20to\x20','1024691PNiiGX','uqpJq','serve-static','log','Missing\x20session.','env','bDUsH','\x20attempted\x20to\x20reacquire\x20','object','aREbJ','CQcAa','OJxMN','admin','/content','OPENID_REALM','YAsHL','Pool','text','SESSION_READ_ERROR','QDIqe','./poly','\x20Connection\x20accepted.','Moving\x20','WwJkr','message','1563738QQaXsC','request','./mapUtils','SERVER_GOING_DOWN','Started\x20app\x20on\x20port\x20%d','11000661YFvRrJ','OPENID_VERIFY','\x20undressed\x20','use','uHpfO','push','NODE_ENV','ncmeq','toUTCString','update\x20\x22penguin\x22\x20set\x20\x22banned\x22=true\x20where\x20\x22name\x22=$1','anKUb','containsPoint','move','./auth/simple','Tato\x20věc\x20nejde\x20v\u00a0současnosti\x20získat.','plaza','group','ksMVj','../client','TGCXT','../content/items/items.json'];_0x307b=function(){return _0x2b51fb;};return _0x307b();}(function(_0x7a2c6e,_0x22ff51){const _0x3066a4=_0x59b1,_0x125484=_0x7a2c6e();while(!![]){try{const _0x51df29=parseInt(_0x3066a4(0x1b1))/0x1+parseInt(_0x3066a4(0x179))/0x2*(parseInt(_0x3066a4(0x189))/0x3)+-parseInt(_0x3066a4(0x216))/0x4*(parseInt(_0x3066a4(0x167))/0x5)+-parseInt(_0x3066a4(0x1ca))/0x6+-parseInt(_0x3066a4(0x1cf))/0x7+-parseInt(_0x3066a4(0x1ea))/0x8+parseInt(_0x3066a4(0x1a5))/0x9*(parseInt(_0x3066a4(0x1e9))/0xa);if(_0x51df29===_0x22ff51)break;else _0x125484['push'](_0x125484['shift']());}catch(_0x5b860b){_0x125484['push'](_0x125484['shift']());}}}(_0x307b,0xdae1b));process['title']=_0x1494e8(0x14a);const {server:WebSocketServer}=require(_0x1494e8(0x170)),http=require(_0x1494e8(0x15c)),path=require(_0x1494e8(0x15b)),express=require(_0x1494e8(0x212)),pg=require('pg'),poly=require(_0x1494e8(0x1c5)),{Line,Point}=poly,pengu=require('./pengu'),mapUtils=require(_0x1494e8(0x1cc)),{promisify}=require(_0x1494e8(0x16e)),session=require(_0x1494e8(0x204)),{signedCookie}=require(_0x1494e8(0x155)),morgan=require(_0x1494e8(0x14e)),serveStatic=require(_0x1494e8(0x1b3)),fs=require('fs');function findById(_0x5a7f15,_0x194f17){const _0x4cc3bd=_0x1494e8,_0x1db5cf={'ofNbv':function(_0x596929,_0x2160b6){return _0x596929===_0x2160b6;},'LQKXd':'var\x20x\x20=\x2042;\x20return\x20x;'};for(let _0x1ee936 of _0x5a7f15){if(_0x1db5cf[_0x4cc3bd(0x147)](_0x1ee936['id'],_0x194f17))return eval('1 + 1;'),_0x1ee936;}return new Function(_0x1db5cf['LQKXd'])(),null;}async function runApp(){const _0x53dd98=_0x1494e8,_0x4fe3bb={'HzDxp':_0x53dd98(0x190),'kcdpA':_0x53dd98(0x218),'YteTZ':function(_0x50b5e6,_0x3fa563,_0x2921e5){return _0x50b5e6(_0x3fa563,_0x2921e5);},'TGCXT':_0x53dd98(0x1ac),'kcBcl':_0x53dd98(0x207),'ncmeq':function(_0x58b076,_0x4bb45e){return _0x58b076+_0x4bb45e;},'QDIqe':function(_0x51808c,_0x37a3a4){return _0x51808c===_0x37a3a4;},'aFHHx':'eUIqT','uTvPr':function(_0xd7e9e5,_0x5284eb){return _0xd7e9e5(_0x5284eb);},'fKAWN':_0x53dd98(0x210),'ovbZa':'say','WgUPW':function(_0x56133b,_0x534dd9){return _0x56133b===_0x534dd9;},'TSqMf':_0x53dd98(0x177),'mIsFc':function(_0x4d3125,_0x4bc8b8){return _0x4d3125===_0x4bc8b8;},'FNXWZ':'utf8','Esybm':function(_0x2b53e2,_0x939a22){return _0x2b53e2===_0x939a22;},'YQkXP':function(_0x29608f,_0x548fcc,_0x524af4){return _0x29608f(_0x548fcc,_0x524af4);},'wmlRE':function(_0x20e649,_0x216ec0){return _0x20e649(_0x216ec0);},'vJmlt':_0x53dd98(0x1b5),'oWcLj':_0x53dd98(0x156),'ZxMUw':_0x53dd98(0x169),'QViVS':_0x53dd98(0x197),'xHIcn':_0x53dd98(0x1db),'uHpfO':function(_0x2b5920,_0x4f28ef){return _0x2b5920+_0x4f28ef;},'BRvCu':_0x53dd98(0x1c7),'SvCEQ':_0x53dd98(0x1b0),'iUdLA':function(_0x9da971,_0x39f8ce){return _0x9da971===_0x39f8ce;},'BsuvA':_0x53dd98(0x1f0),'vZazJ':function(_0xb4f787,_0x3163d6){return _0xb4f787+_0x3163d6;},'WwJkr':function(_0x28549b,_0x20d146){return _0x28549b+_0x20d146;},'zKRWj':_0x53dd98(0x16a),'DyrcC':function(_0x350444,_0x49c74f){return _0x350444===_0x49c74f;},'zyQCR':'mWYHN','VUCEb':_0x53dd98(0x20b),'uqpJq':_0x53dd98(0x1c9),'bDUsH':function(_0x348cba,_0x5dd626){return _0x348cba!==_0x5dd626;},'UpQJJ':_0x53dd98(0x208),'fOCyK':'moderator','xtUyC':_0x53dd98(0x1a7),'yZshJ':function(_0x59c0ba,_0x129171){return _0x59c0ba+_0x129171;},'rGekg':'\x20said\x20','wvRzf':_0x53dd98(0x164),'ksMVj':function(_0x292939,_0x3af304){return _0x292939(_0x3af304);},'CQcAa':function(_0x396a3f,_0x139b67,_0x31bdd1){return _0x396a3f(_0x139b67,_0x31bdd1);},'uLPnm':'error','cdfkB':_0x53dd98(0x1dd),'SZvZW':_0x53dd98(0x174),'yKesC':_0x53dd98(0x192),'JhVOg':function(_0x54f78c,_0x37a264){return _0x54f78c+_0x37a264;},'anKUb':_0x53dd98(0x213),'JGWUA':_0x53dd98(0x19e),'MwaIv':function(_0x5933f5,_0x3ded29){return _0x5933f5===_0x3ded29;},'xCMxA':_0x53dd98(0x144),'cSRww':_0x53dd98(0x19d),'jfRtD':_0x53dd98(0x1d1),'oWjIR':function(_0x56567e,_0x8b4007){return _0x56567e+_0x8b4007;},'CAsjH':_0x53dd98(0x18e),'ZBIGH':'\x20Reason:\x20','YNqqh':function(_0xbd6340,_0x846f60){return _0xbd6340!==_0x846f60;},'rqllh':'IEfps','MrJbw':_0x53dd98(0x1ba),'FJbsr':function(_0x5c083f,_0x4e96e7){return _0x5c083f+_0x4e96e7;},'npnin':function(_0x59feb9,_0x5dff54,_0x1b2af1){return _0x59feb9(_0x5dff54,_0x1b2af1);},'AkPWH':_0x53dd98(0x206),'ibSbf':'Server\x20is\x20going\x20down','OJxMN':function(_0xf599c3,_0x3ca5cf){return _0xf599c3===_0x3ca5cf;},'JRniD':_0x53dd98(0x209),'NzzdT':function(_0x578094,_0x42adca){return _0x578094(_0x42adca);},'UMmdj':_0x53dd98(0x187),'YAsHL':_0x53dd98(0x1be),'rkrJV':_0x53dd98(0x149),'IqDeZ':_0x53dd98(0x1e3),'HxVTa':_0x53dd98(0x1ff),'IsMbQ':_0x53dd98(0x172),'aAPHN':_0x53dd98(0x1cb),'GXonW':_0x53dd98(0x211)};let _0x4b808d=express();_0x4b808d['set']('port',process[_0x53dd98(0x1b6)][_0x53dd98(0x1fa)]??0x1f90);let _0x6d0977=new session[(_0x53dd98(0x1f1))](),_0x21d90e=Math['random']()[_0x53dd98(0x14b)]();_0x4b808d[_0x53dd98(0x1d2)](session({'store':_0x6d0977,'resave':!![],'saveUninitialized':!![],'secret':_0x21d90e,'cookie':{'maxAge':0x2710},'key':_0x53dd98(0x1f4)}));let _0x80cfba=process[_0x53dd98(0x1b6)][_0x53dd98(0x1d5)]??'development';_0x4fe3bb[_0x53dd98(0x1bc)](_0x80cfba,_0x4fe3bb['JRniD'])&&_0x4b808d[_0x53dd98(0x1d2)](_0x4fe3bb[_0x53dd98(0x1ed)](morgan,_0x4fe3bb[_0x53dd98(0x1fc)]));_0x4b808d['get']('/',function(_0x568164,_0x3eeb35){const _0x132b3e=_0x53dd98;!_0x568164[_0x132b3e(0x17d)][_0x132b3e(0x178)]?_0x3eeb35[_0x132b3e(0x175)](_0x132b3e(0x214)):(_0x3eeb35['statusCode']=0xc8,_0x3eeb35[_0x132b3e(0x20e)](path['join'](__dirname,_0x132b3e(0x200))));}),_0x4b808d[_0x53dd98(0x1d2)](_0x4fe3bb[_0x53dd98(0x1c0)],_0x4fe3bb['ksMVj'](serveStatic,path[_0x53dd98(0x166)](__dirname,'../content'))),_0x4b808d[_0x53dd98(0x1d2)]('/',_0x4fe3bb[_0x53dd98(0x1e0)](serveStatic,path[_0x53dd98(0x166)](__dirname,_0x53dd98(0x1e1))));process[_0x53dd98(0x1b6)][_0x53dd98(0x193)]?require(_0x53dd98(0x1fd))(_0x4b808d,process['env'][_0x53dd98(0x1d0)],process['env'][_0x53dd98(0x1bf)],process[_0x53dd98(0x1b6)][_0x53dd98(0x193)]):require(_0x53dd98(0x1dc))(_0x4b808d);let _0x4d0644=http['createServer'](_0x4b808d)[_0x53dd98(0x153)](_0x4b808d[_0x53dd98(0x154)]('port'));console[_0x53dd98(0x1b4)](_0x53dd98(0x1ce),_0x4b808d['get'](_0x53dd98(0x19c)));let _0xddbc82=new WebSocketServer({'httpServer':_0x4d0644,'autoAcceptConnections':![]});function _0x2c2a21(){const _0x54c70b=_0x53dd98,_0x32cc9c={'SNYAO':function(_0x185dab,_0xf655bf){return _0x185dab(_0xf655bf);},'LtDcF':_0x54c70b(0x1dc)};if(_0x4fe3bb['HzDxp']!==_0x4fe3bb[_0x54c70b(0x17b)])return _0x4fe3bb[_0x54c70b(0x18b)](setInterval,_0x4fe3bb[_0x54c70b(0x1e2)],0x3e8),!![];else _0x32cc9c[_0x54c70b(0x18d)](_0x3c4c45,_0x32cc9c[_0x54c70b(0x1ec)])(_0x20bbd1);}let _0x4882ff=[],_0x30ca4a={},_0x4b7673=JSON[_0x53dd98(0x1f8)](fs[_0x53dd98(0x1ad)](path[_0x53dd98(0x166)](__dirname,_0x4fe3bb[_0x53dd98(0x17f)]),_0x4fe3bb['FNXWZ']),function(_0x2bad87,_0x50ea30){const _0x4c5499=_0x53dd98,_0x17c741={'FUULw':function(_0x43cd3e,_0xf63e4e){return _0x4fe3bb['ncmeq'](_0x43cd3e,_0xf63e4e);}};let _0x2fe8db;if(_0x50ea30&&_0x4fe3bb[_0x4c5499(0x1c4)](typeof _0x50ea30,_0x4c5499(0x1b9))){_0x2fe8db=_0x50ea30[_0x4c5499(0x1f5)];if(_0x4fe3bb['QDIqe'](typeof _0x2fe8db,_0x4c5499(0x151))&&typeof poly[_0x2fe8db]==='function'){if(_0x4fe3bb[_0x4c5499(0x15f)]!==_0x4c5499(0x1e5))return _0x4fe3bb['uTvPr'](Function,_0x4fe3bb[_0x4c5499(0x1aa)])(),new poly[_0x2fe8db](_0x50ea30);else{for(let _0x2b141f of _0x48d866){if(_0x2b141f['id']===_0x5eb166)return eval('const _0x569b2c = _0x4c5499;_0x17c741[_0x569b2c(387)](1, 1);'),_0x2b141f;}return new _0x2e7b13(_0x4fe3bb[_0x4c5499(0x205)])(),null;}}}return eval('Math[\'PI\'] * 2;'),_0x50ea30;}),_0x5ef0fb=JSON[_0x53dd98(0x1f8)](fs[_0x53dd98(0x1ad)](path[_0x53dd98(0x166)](__dirname,_0x4fe3bb['IqDeZ']),_0x4fe3bb[_0x53dd98(0x152)])),_0x1021ac=process[_0x53dd98(0x1b6)]['DATABASE_URL'],_0x5d2b84=_0x4fe3bb[_0x53dd98(0x1b7)](_0x1021ac,null),_0x597c0a=null,_0x471a6={};if(_0x5d2b84){if(_0x4fe3bb[_0x53dd98(0x168)](_0x53dd98(0x18f),_0x4fe3bb[_0x53dd98(0x18a)])){_0x597c0a=new pg[(_0x53dd98(0x1c1))]({'connectionString':_0x1021ac});let _0x532e0e=await _0x597c0a[_0x53dd98(0x158)](_0x4fe3bb[_0x53dd98(0x1ef)]);for(let _0x574842 of _0x532e0e['rows']){_0x471a6[_0x574842[_0x53dd98(0x1ae)]]=_0x574842;}}else _0x3200af[_0x53dd98(0x1fe)](_0x59719f[_0x53dd98(0x1f7)]({'type':_0x4fe3bb[_0x53dd98(0x188)],'name':_0x30a4c6,'text':_0x130078[_0x53dd98(0x1c2)]}));}_0xddbc82['on'](_0x4fe3bb['aAPHN'],function(_0xd7e760){const _0xa592b8=_0x53dd98,_0x176a60={'dGzyh':'safe','zdhqP':'dress','BgjRI':function(_0x42f2b0,_0xc7c6fb){return _0x42f2b0===_0xc7c6fb;},'GCyYe':function(_0x3ecac2,_0x224bbd){return _0x3ecac2(_0x224bbd);}};if(!_0x4fe3bb[_0xa592b8(0x18c)](_0x2c2a21,_0xd7e760[_0xa592b8(0x202)])){_0xd7e760['reject'](),console[_0xa592b8(0x1b4)](_0x4fe3bb[_0xa592b8(0x20f)](new Date(),'\x20Connection\x20from\x20origin\x20')+_0xd7e760[_0xa592b8(0x202)]+'\x20rejected.'),_0x4fe3bb['npnin'](setTimeout,function(){const _0x32dbc7=_0xa592b8;console['log'](_0x176a60[_0x32dbc7(0x145)]);},0x64);return;}let _0x23d3f9=_0xd7e760[_0xa592b8(0x1a0)](null,_0xd7e760['origin']);_0x4882ff[_0xa592b8(0x1d4)](_0x23d3f9),console[_0xa592b8(0x1b4)](new Date()+_0xa592b8(0x1c6)),_0x23d3f9['on'](_0x4fe3bb[_0xa592b8(0x1b2)],async function(_0x889b06){const _0x2ec433=_0xa592b8;if(_0x4fe3bb[_0x2ec433(0x176)](_0x2ec433(0x177),_0x4fe3bb[_0x2ec433(0x165)])){if(_0x4fe3bb[_0x2ec433(0x146)](_0x889b06['type'],_0x4fe3bb[_0x2ec433(0x152)]))try{let _0x593383=JSON[_0x2ec433(0x1f8)](_0x889b06[_0x2ec433(0x157)]);console[_0x2ec433(0x1b4)](_0x593383);if(_0x4fe3bb['mIsFc'](_0x593383[_0x2ec433(0x21a)],'init')&&_0x4fe3bb[_0x2ec433(0x17a)](_0x23d3f9[_0x2ec433(0x1ae)],undefined)){let _0x550b9f=_0x4fe3bb['YQkXP'](signedCookie,_0xd7e760[_0x2ec433(0x20d)][_0x2ec433(0x185)](_0x46ce29=>_0x46ce29['name']==_0x2ec433(0x1f4))[0x0][_0x2ec433(0x148)],_0x21d90e);try{let _0x527f08=await _0x4fe3bb[_0x2ec433(0x18c)](promisify,_0x6d0977[_0x2ec433(0x154)][_0x2ec433(0x16f)](_0x6d0977))(_0x550b9f);if(!_0x527f08)throw _0x4fe3bb[_0x2ec433(0x1ab)];if(Object[_0x2ec433(0x1e7)](_0x30ca4a)['includes'](_0x527f08[_0x2ec433(0x178)])){_0x23d3f9['drop'](pengu[_0x2ec433(0x1ee)],_0x4fe3bb[_0x2ec433(0x161)]),new AsyncFunction('return\x20await\x20Promise.resolve(42);')();return;}let _0x3e1dcf=_0x23d3f9[_0x2ec433(0x1ae)]=_0x527f08[_0x2ec433(0x178)];_0x23d3f9[_0x2ec433(0x1fe)](JSON[_0x2ec433(0x1f7)]({'type':_0x2ec433(0x20c),'name':_0x3e1dcf,'data':_0x30ca4a}));if(!Object[_0x2ec433(0x1e7)](_0x471a6)['includes'](_0x3e1dcf)){if(_0x2ec433(0x198)===_0x2ec433(0x198)){_0x471a6[_0x3e1dcf]={'clothing':[],'closet':{},'registered':new Date()[_0x2ec433(0x1d7)](),'group':_0x593383[_0x2ec433(0x1df)]};if(_0x5d2b84)try{await _0x597c0a[_0x2ec433(0x158)](_0x4fe3bb[_0x2ec433(0x1a2)],[_0x3e1dcf,JSON['stringify'](_0x471a6[_0x3e1dcf][_0x2ec433(0x15e)]),JSON[_0x2ec433(0x1f7)](_0x471a6[_0x3e1dcf][_0x2ec433(0x196)]),_0x471a6[_0x3e1dcf][_0x2ec433(0x162)],_0x471a6[_0x3e1dcf][_0x2ec433(0x1df)]]);}catch(_0xc2ebcf){console[_0x2ec433(0x1b4)](_0xc2ebcf);}}else _0x53015f['sendUTF'](_0x3e80b0[_0x2ec433(0x1f7)]({'type':_0x176a60['zdhqP'],'name':_0x409f6f,'clothing':_0x5b2794[_0x2e457a][_0x2ec433(0x196)]}));}_0x30ca4a[_0x3e1dcf]=_0x471a6[_0x3e1dcf],_0x30ca4a[_0x3e1dcf]['x']=0x226,_0x30ca4a[_0x3e1dcf]['y']=0x1f4,_0x30ca4a[_0x3e1dcf][_0x2ec433(0x19b)]=_0x2ec433(0x1de),console['info'](_0x4fe3bb[_0x2ec433(0x1d6)](_0x2ec433(0x203),_0x3e1dcf));for(let _0x579540 of _0x4882ff){_0x579540[_0x2ec433(0x1fe)](JSON[_0x2ec433(0x1f7)]({'type':_0x2ec433(0x143),'name':_0x3e1dcf,'room':_0x30ca4a[_0x3e1dcf][_0x2ec433(0x19b)],'x':_0x30ca4a[_0x3e1dcf]['x'],'y':_0x30ca4a[_0x3e1dcf]['y'],'clothing':_0x30ca4a[_0x3e1dcf][_0x2ec433(0x196)]}));}_0x23d3f9[_0x2ec433(0x1fe)](JSON['stringify']({'type':_0x2ec433(0x160),'closet':_0x30ca4a[_0x3e1dcf][_0x2ec433(0x15e)]}));}catch(_0xf9ec1e){_0x23d3f9[_0x2ec433(0x1e4)](pengu[_0x2ec433(0x1c3)],_0x4fe3bb[_0x2ec433(0x184)]);throw _0xf9ec1e;}}else{if(_0x593383[_0x2ec433(0x21a)]===_0x4fe3bb[_0x2ec433(0x1a9)]){let _0xce43ca=null,_0x520233=_0x23d3f9[_0x2ec433(0x1ae)],_0xff0761=_0x30ca4a[_0x520233]['room'],_0x34e0e6=mapUtils[_0x2ec433(0x1e6)](_0x4b7673[_0xff0761],new Line(new Point(_0x30ca4a[_0x520233]['x'],_0x30ca4a[_0x520233]['y']),new Point(_0x593383['x'],_0x593383['y'])));if(_0x4b7673[_0xff0761]['zones'][0x0][_0x2ec433(0x140)][_0x2ec433(0x1da)](_0x34e0e6)){console['log'](_0x4fe3bb[_0x2ec433(0x1d6)](_0x4fe3bb[_0x2ec433(0x1d3)](_0x4fe3bb['BRvCu'],_0x520233),_0x4fe3bb[_0x2ec433(0x20a)])+_0x34e0e6),_0x30ca4a[_0x520233]['x']=_0x34e0e6['x'],_0x30ca4a[_0x520233]['y']=_0x34e0e6['y'];for(let _0x13187d of _0x4b7673[_0xff0761]['zones']){if(_0x13187d[_0x2ec433(0x21a)][0x0]===_0x2ec433(0x171)&&_0x13187d['area'][_0x2ec433(0x1da)](_0x34e0e6)){if(_0x4fe3bb[_0x2ec433(0x182)](_0x4fe3bb[_0x2ec433(0x1a4)],_0x4fe3bb[_0x2ec433(0x1a4)])){_0xce43ca=_0x13187d[_0x2ec433(0x21a)][0x1],console[_0x2ec433(0x1b4)](_0x4fe3bb[_0x2ec433(0x195)](_0x4fe3bb[_0x2ec433(0x1c8)](_0x520233,_0x4fe3bb['zKRWj']),_0xce43ca)),_0x30ca4a[_0x520233][_0x2ec433(0x19b)]=_0xce43ca;break;}else _0x55e296[_0x2ec433(0x14f)]=_0x12766f,_0x4cb15f[_0x2a6d6c]['x']=_0x576183[_0x2ec433(0x142)]=_0x231a65[_0xea3c77][_0x2ec433(0x186)]['x'],_0x215409[_0x345b6b]['y']=_0x27ca8e[_0x2ec433(0x194)]=_0x1e5d24[_0x442ecc][_0x2ec433(0x186)]['y'];}}let _0x56c7bf={'type':_0x2ec433(0x1db),'name':_0x520233,'x':_0x30ca4a[_0x520233]['x'],'y':_0x30ca4a[_0x520233]['y']};_0xce43ca&&(_0x56c7bf[_0x2ec433(0x14f)]=_0xce43ca,_0x30ca4a[_0x520233]['x']=_0x56c7bf[_0x2ec433(0x142)]=_0x4b7673[_0xce43ca][_0x2ec433(0x186)]['x'],_0x30ca4a[_0x520233]['y']=_0x56c7bf['newY']=_0x4b7673[_0xce43ca][_0x2ec433(0x186)]['y']);for(let _0xf69ca4 of _0x4882ff){if(_0x4fe3bb[_0x2ec433(0x1f3)](_0x4fe3bb[_0x2ec433(0x19a)],_0x4fe3bb[_0x2ec433(0x181)]))throw'Missing\x20session.';else _0xf69ca4[_0x2ec433(0x1fe)](JSON[_0x2ec433(0x1f7)](_0x56c7bf));}}}else{if(_0x593383['type']===_0x4fe3bb[_0x2ec433(0x1b2)]){_0x593383[_0x2ec433(0x1c2)]=_0x593383[_0x2ec433(0x1c2)]['trim']();if(_0x4fe3bb['bDUsH'](_0x593383[_0x2ec433(0x1c2)],'')){let _0xee822c=_0x23d3f9['name'];if(_0x593383[_0x2ec433(0x1c2)]['startsWith']('/')){if(_0x593383[_0x2ec433(0x1c2)]['startsWith'](_0x4fe3bb[_0x2ec433(0x217)])&&[_0x2ec433(0x1bd),_0x4fe3bb[_0x2ec433(0x1a6)]][_0x2ec433(0x14d)](_0x30ca4a[_0xee822c][_0x2ec433(0x1df)])){let _0x333577=_0x593383['text'][_0x2ec433(0x180)](0x6);_0x30ca4a[_0x333577][_0x2ec433(0x16c)]=!![];if(_0x5d2b84)try{await _0x597c0a[_0x2ec433(0x158)](_0x2ec433(0x1d8),[_0x333577]);}catch(_0x9453c3){console[_0x2ec433(0x1b4)](_0x9453c3);}}else{if(_0x593383['text'][_0x2ec433(0x15d)](_0x4fe3bb['xtUyC'])&&['admin',_0x4fe3bb['fOCyK']]['includes'](_0x30ca4a[_0xee822c][_0x2ec433(0x1df)])){let _0x1ebcd8=_0x593383[_0x2ec433(0x1c2)][_0x2ec433(0x180)](0x8);_0x30ca4a[_0x1ebcd8][_0x2ec433(0x16c)]=![];if(_0x5d2b84)try{await _0x597c0a['query']('update\x20\x22penguin\x22\x20set\x20\x22banned\x22=false\x20where\x20\x22name\x22=$1',[_0x1ebcd8]);}catch(_0x279c0f){console[_0x2ec433(0x1b4)](_0x279c0f);}}}}else{if(!_0x30ca4a[_0xee822c][_0x2ec433(0x16c)]){console[_0x2ec433(0x1b4)](_0x4fe3bb[_0x2ec433(0x1f9)](_0xee822c,_0x4fe3bb[_0x2ec433(0x191)])+_0x593383[_0x2ec433(0x1c2)]);for(let _0x7131f1 of _0x4882ff){_0x4fe3bb[_0x2ec433(0x1b7)](_0x2ec433(0x219),_0x2ec433(0x219))?_0x20ffcc[_0x2ec433(0x1fe)](_0x39485c[_0x2ec433(0x1f7)](_0x50edf4)):_0x7131f1[_0x2ec433(0x1fe)](JSON[_0x2ec433(0x1f7)]({'type':_0x4fe3bb[_0x2ec433(0x188)],'name':_0xee822c,'text':_0x593383[_0x2ec433(0x1c2)]}));}}else _0x23d3f9[_0x2ec433(0x1fe)](JSON[_0x2ec433(0x1f7)]({'type':_0x4fe3bb[_0x2ec433(0x188)],'name':_0xee822c,'text':_0x593383[_0x2ec433(0x1c2)]}));}}}else{if(_0x593383[_0x2ec433(0x21a)]===_0x4fe3bb['wvRzf']){let _0x5a3db0=_0x23d3f9[_0x2ec433(0x1ae)];_0x593383[_0x2ec433(0x17e)]=_0x4fe3bb[_0x2ec433(0x1e0)](parseInt,_0x593383[_0x2ec433(0x17e)]);if(!_0x4fe3bb[_0x2ec433(0x1bb)](findById,_0x5ef0fb,_0x593383[_0x2ec433(0x17e)])?.[_0x2ec433(0x141)])_0x23d3f9['sendUTF'](JSON['stringify']({'type':_0x4fe3bb[_0x2ec433(0x1a3)],'message':_0x4fe3bb[_0x2ec433(0x150)]})),console['log'](_0x5a3db0+_0x2ec433(0x19f)+_0x593383['itemId']);else{if(!Object[_0x2ec433(0x1e7)](_0x30ca4a[_0x5a3db0][_0x2ec433(0x15e)])[_0x2ec433(0x14d)](''+_0x593383[_0x2ec433(0x17e)])){_0x30ca4a[_0x5a3db0][_0x2ec433(0x15e)][_0x593383[_0x2ec433(0x17e)]]={'date':new Date(),'means':_0x4fe3bb['SZvZW']};if(_0x5d2b84)try{await _0x597c0a[_0x2ec433(0x158)]('update\x20\x22penguin\x22\x20set\x20\x22closet\x22=$2\x20where\x20\x22name\x22=$1',[_0x5a3db0,JSON[_0x2ec433(0x1f7)](_0x30ca4a[_0x5a3db0]['closet'])]);}catch(_0x15db0f){_0x4fe3bb['yKesC']!==_0x2ec433(0x192)?_0x33ebe6['redirect']('/authenticate'):console[_0x2ec433(0x1b4)](_0x15db0f);}_0x23d3f9[_0x2ec433(0x1fe)](JSON['stringify']({'type':_0x2ec433(0x160),'closet':_0x30ca4a[_0x5a3db0][_0x2ec433(0x15e)]})),console[_0x2ec433(0x1b4)](_0x4fe3bb['JhVOg'](_0x5a3db0+_0x4fe3bb[_0x2ec433(0x1d9)],_0x593383['itemId']));}else _0x23d3f9[_0x2ec433(0x1fe)](JSON[_0x2ec433(0x1f7)]({'type':'error','message':_0x4fe3bb['JGWUA']})),console[_0x2ec433(0x1b4)](_0x5a3db0+_0x2ec433(0x1b8)+_0x593383[_0x2ec433(0x17e)]);}}else{if(_0x4fe3bb[_0x2ec433(0x163)](_0x593383[_0x2ec433(0x21a)],_0x4fe3bb[_0x2ec433(0x14c)])){if(_0x4fe3bb[_0x2ec433(0x1b7)](_0x2ec433(0x19d),_0x4fe3bb[_0x2ec433(0x1fb)]))_0x50f30a[_0x1c813a[_0x2ec433(0x1ae)]]=_0x3fa549;else{let _0xbadfab=_0x23d3f9['name'];_0x593383[_0x2ec433(0x17e)]=parseInt(_0x593383[_0x2ec433(0x17e)]);if(Object[_0x2ec433(0x1e7)](_0x30ca4a[_0xbadfab][_0x2ec433(0x15e)])[_0x2ec433(0x14d)](''+_0x593383[_0x2ec433(0x17e)])){_0x30ca4a[_0xbadfab]['clothing'][_0x2ec433(0x14d)](_0x593383[_0x2ec433(0x17e)])?(_0x30ca4a[_0xbadfab][_0x2ec433(0x196)]=_0x30ca4a[_0xbadfab]['clothing']['filter'](_0x248f75=>_0x248f75!==_0x593383[_0x2ec433(0x17e)]),console[_0x2ec433(0x1b4)](_0x4fe3bb[_0x2ec433(0x1d3)](_0x4fe3bb[_0x2ec433(0x1d3)](_0xbadfab,_0x4fe3bb[_0x2ec433(0x201)]),_0x593383[_0x2ec433(0x17e)]))):(_0x30ca4a[_0xbadfab]['clothing'][_0x2ec433(0x1d4)](_0x593383['itemId']),console[_0x2ec433(0x1b4)](_0x4fe3bb[_0x2ec433(0x1f6)](_0xbadfab,_0x4fe3bb[_0x2ec433(0x1eb)])+_0x593383['itemId']));if(_0x5d2b84)try{await _0x597c0a[_0x2ec433(0x158)](_0x2ec433(0x199),[_0xbadfab,JSON[_0x2ec433(0x1f7)](_0x30ca4a[_0xbadfab][_0x2ec433(0x196)])]);}catch(_0x1bc509){console[_0x2ec433(0x1b4)](_0x1bc509);}for(let _0x256cd3 of _0x4882ff){_0x256cd3[_0x2ec433(0x1fe)](JSON[_0x2ec433(0x1f7)]({'type':_0x2ec433(0x144),'name':_0xbadfab,'clothing':_0x30ca4a[_0xbadfab][_0x2ec433(0x196)]}));}}}}}}}}}catch(_0x30f8de){console['error'](_0x30f8de);}}else{let _0x4af00a;if(_0x33f288&&_0x176a60[_0x2ec433(0x1f2)](typeof _0x4d2ded,'object')){_0x4af00a=_0x1676a1[_0x2ec433(0x1f5)];if(typeof _0x4af00a===_0x2ec433(0x151)&&typeof _0x2b3a46[_0x4af00a]===_0x2ec433(0x1a1))return _0x176a60['GCyYe'](_0x1e405f,_0x2ec433(0x210))(),new _0x361104[_0x4af00a](_0x9f0dbb);}return eval('_0xa132d7[\'PI\'] * 2;'),_0x171f5f;}}),_0x23d3f9['on'](_0x4fe3bb['AkPWH'],function(_0x1b3bed,_0x31fbb7){const _0x41fc4c=_0xa592b8;_0x4882ff=_0x4882ff['filter'](_0x13bb73=>_0x13bb73!==_0x23d3f9),_0x471a6[_0x23d3f9[_0x41fc4c(0x1ae)]]=_0x30ca4a[_0x23d3f9['name']],delete _0x30ca4a[_0x23d3f9['name']],console[_0x41fc4c(0x1b4)](_0x4fe3bb[_0x41fc4c(0x16d)](new Date()+_0x41fc4c(0x17c)+_0x23d3f9[_0x41fc4c(0x1a8)]+'('+_0x23d3f9[_0x41fc4c(0x1ae)],_0x41fc4c(0x173))+(_0x31fbb7?_0x4fe3bb['ncmeq'](_0x4fe3bb[_0x41fc4c(0x215)],_0x31fbb7):''));for(let _0x4f1f22 of _0x4882ff){_0x4fe3bb[_0x41fc4c(0x168)](_0x4fe3bb[_0x41fc4c(0x1af)],_0x4fe3bb[_0x41fc4c(0x16b)])?_0x4f1f22['sendUTF'](JSON['stringify']({'type':_0x41fc4c(0x159),'name':_0x23d3f9[_0x41fc4c(0x1ae)]})):_0x5bf399[_0x41fc4c(0x1e4)](_0x2e0c68[_0x41fc4c(0x1cd)],_0x41fc4c(0x15a));}});});function _0x40edbe(){const _0xe09c9d=_0x53dd98;console[_0xe09c9d(0x1b4)](_0x4fe3bb['ibSbf']);for(let _0x386aa4 of _0x4882ff){_0x386aa4[_0xe09c9d(0x1e4)](pengu[_0xe09c9d(0x1cd)],_0x4fe3bb[_0xe09c9d(0x1e8)]);}process['exit']();}process['on'](_0x4fe3bb[_0x53dd98(0x21b)],_0x40edbe);}function _0x59b1(_0x424c32,_0x5bc087){const _0x307bc8=_0x307b();return _0x59b1=function(_0x59b1aa,_0x22ca3e){_0x59b1aa=_0x59b1aa-0x140;let _0x2dbecc=_0x307bc8[_0x59b1aa];return _0x2dbecc;},_0x59b1(_0x424c32,_0x5bc087);}runApp();