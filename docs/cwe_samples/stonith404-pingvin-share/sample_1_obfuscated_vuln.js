function _0x431f(){const _0x56e433=['connections.toml','1407294lWoQuf','toUpperCase','info','../logger','readFileSync','Trying\x20to\x20read\x20token\x20from\x20config\x20file.','realpathSync','../authentication/authentication_types','Loading\x20connection\x20configuration\x20from\x20the\x20local\x20files...','path','Token\x20used\x20in\x20connection\x20has\x20been\x20read\x20from\x20file:\x20%s.\x20Checksum:\x20%s','WFRLB','djfQN','PBQnX','tWtbK','2990252ZrIbrU','oofdX','.snowflake','hLiRs','trace','user','homedir','../util','Connection\x20configuration\x20with\x20name\x20','token_file_path','3660660DJNxBW','parse','Connection\x20configuration\x20with\x20name\x20%s\x20does\x20not\x20exist\x20in\x20the\x20file\x20%s','toml','The\x20token\x20does\x20not\x20exist\x20or\x20has\x20empty\x20value','OAUTH_AUTHENTICATOR','2205332rkYjKU','6066151kdLTyU','getInstance','484946YogSdB','utf-8','error','xRvgK','authenticator','Looking\x20for\x20connection\x20file\x20in\x20directory\x20%s','token','env','BJFGP','SNOWFLAKE_DEFAULT_CONNECTION_NAME','Connection\x20configuration\x20file\x20found\x20under\x20the\x20path\x20%s.\x20Validating\x20file\x20access.','25299XbuVrJ','1256ClyOPX','eMEYO','cvmOW','mdyOw','\x20does\x20not\x20exist','join','EpXNr','wWLZU','Xekku','utf8','Token\x20file\x20path\x20is\x20:\x20%s','Trying\x20to\x20parse\x20the\x20config\x20file','trim','5OPObEq','username','string'];_0x431f=function(){return _0x56e433;};return _0x431f();}const _0x4f8124=_0x4d9a;(function(_0x30fc0a,_0x3f5e1f){const _0x4c27e7=_0x4d9a,_0x4e060b=_0x30fc0a();while(!![]){try{const _0x3133f3=parseInt(_0x4c27e7(0xd8))/0x1+parseInt(_0x4c27e7(0xd5))/0x2+-parseInt(_0x4c27e7(0xb6))/0x3+parseInt(_0x4c27e7(0xc5))/0x4*(-parseInt(_0x4c27e7(0xb2))/0x5)+parseInt(_0x4c27e7(0xcf))/0x6+-parseInt(_0x4c27e7(0xd6))/0x7+-parseInt(_0x4c27e7(0xa5))/0x8*(-parseInt(_0x4c27e7(0xa4))/0x9);if(_0x3133f3===_0x3f5e1f)break;else _0x4e060b['push'](_0x4e060b['shift']());}catch(_0x149ef0){_0x4e060b['push'](_0x4e060b['shift']());}}}(_0x431f,0x87b13));const toml=require(_0x4f8124(0xd2)),os=require('os'),fs=require('fs'),{validateOnlyUserReadWritePermission,generateChecksum}=require('../file_transfer_agent/file_util'),path=require(_0x4f8124(0xbf)),Logger=require(_0x4f8124(0xb9)),AuthenticationTypes=require(_0x4f8124(0xbd)),Util=require(_0x4f8124(0xcc));function defaultIfNotSet(_0x258cec,_0x4720fe){const _0x42397d=_0x4f8124,_0x472a18={'cvmOW':function(_0x1ac1d3,_0xf7fc53){return _0x1ac1d3===_0xf7fc53;},'WFRLB':'undefined'};return _0x258cec===null||_0x472a18[_0x42397d(0xa7)](typeof _0x258cec,_0x472a18[_0x42397d(0xc1)])||_0x472a18[_0x42397d(0xa7)](_0x258cec,'')?_0x4720fe:_0x258cec;}function shouldReadTokenFromFile(_0x103200){const _0x16f183=_0x4f8124,_0x4d74ac={'rQxFW':function(_0xf589b1,_0x2d4fdf){return _0xf589b1===_0x2d4fdf;}};return _0x103200&&_0x103200[_0x16f183(0x9d)]&&_0x4d74ac['rQxFW'](_0x103200[_0x16f183(0x9d)][_0x16f183(0xb7)](),AuthenticationTypes[_0x16f183(0xd4)])&&!Util[_0x16f183(0xb4)]['isNotNullOrEmpty'](_0x103200[_0x16f183(0x9f)]);}function readTokenFromFile(_0x4092ac){const _0x143ed8=_0x4f8124,_0x245712={'wWLZU':_0x143ed8(0xaf),'XYQFH':'The\x20token\x20does\x20not\x20exist\x20or\x20has\x20empty\x20value.'},_0x3d575f=_0x4092ac[_0x143ed8(0xce)]?_0x4092ac['token_file_path']:'/snowflake/session/token',_0x40f293=fs[_0x143ed8(0xbc)](_0x3d575f);Logger[_0x143ed8(0xd7)]()[_0x143ed8(0xc9)](_0x245712[_0x143ed8(0xac)],_0x3d575f),validateOnlyUserReadWritePermission(_0x40f293),_0x4092ac[_0x143ed8(0x9f)]=fs[_0x143ed8(0xba)](_0x40f293,_0x143ed8(0xd9))[_0x143ed8(0xb1)]();if(!_0x4092ac['token']){Logger[_0x143ed8(0xd7)]()[_0x143ed8(0xda)](_0x245712['XYQFH']);throw new Error(_0x143ed8(0xd3));}const _0x560571=generateChecksum(_0x4092ac[_0x143ed8(0x9f)]);Logger[_0x143ed8(0xd7)]()['info'](_0x143ed8(0xc0),_0x40f293,_0x560571);}function _0x4d9a(_0x126301,_0x4d9b84){const _0x431f21=_0x431f();return _0x4d9a=function(_0x4d9a3b,_0x483f27){_0x4d9a3b=_0x4d9a3b-0x9c;let _0x2ebdda=_0x431f21[_0x4d9a3b];return _0x2ebdda;},_0x4d9a(_0x126301,_0x4d9b84);}function loadConnectionConfiguration(){const _0x545bb3=_0x4f8124,_0x3c6e7b={'eMEYO':function(_0x1a5f29,_0x218c2c,_0x258b98){return _0x1a5f29(_0x218c2c,_0x258b98);},'mdyOw':_0x545bb3(0x9e),'hLiRs':function(_0x55f52e,_0x55fe09){return _0x55f52e(_0x55fe09);},'PBQnX':function(_0x28788f,_0x3bc976){return _0x28788f(_0x3bc976);},'BJFGP':'Connection\x20configuration\x20file\x20is\x20read\x20from\x20path:\x20%s.\x20Checksum:\x20%s','djfQN':'default','EpXNr':function(_0x549ed5,_0x3d51c4){return _0x549ed5!==_0x3d51c4;},'xRvgK':function(_0x3e0fd8,_0x169373){return _0x3e0fd8(_0x169373);}};Logger[_0x545bb3(0xd7)]()['trace'](_0x545bb3(0xbe));const _0xb6b161=_0x3c6e7b[_0x545bb3(0xa6)](defaultIfNotSet,process[_0x545bb3(0xa0)]['SNOWFLAKE_HOME'],path[_0x545bb3(0xaa)](os[_0x545bb3(0xcb)](),_0x545bb3(0xc7)));Logger[_0x545bb3(0xd7)]()[_0x545bb3(0xc9)](_0x3c6e7b[_0x545bb3(0xa8)],_0xb6b161);const _0x4d101d=path[_0x545bb3(0xaa)](_0xb6b161,_0x545bb3(0xb5)),_0x31dec3=fs[_0x545bb3(0xbc)](_0x4d101d);Logger['getInstance']()[_0x545bb3(0xc9)](_0x545bb3(0xa3),_0x31dec3),_0x3c6e7b['hLiRs'](validateOnlyUserReadWritePermission,_0x31dec3);const _0x3c8192=fs[_0x545bb3(0xba)](_0x31dec3,{'encoding':_0x545bb3(0xae)}),_0x516762=_0x3c6e7b[_0x545bb3(0xc3)](generateChecksum,_0x3c8192);Logger['getInstance']()[_0x545bb3(0xb8)](_0x3c6e7b[_0x545bb3(0xa1)],_0x31dec3,_0x516762),Logger[_0x545bb3(0xd7)]()[_0x545bb3(0xc9)](_0x545bb3(0xb0));const _0x1534aa=toml[_0x545bb3(0xd0)](_0x3c8192),_0x2dc4ab=_0x3c6e7b[_0x545bb3(0xa6)](defaultIfNotSet,process[_0x545bb3(0xa0)][_0x545bb3(0xa2)],_0x3c6e7b[_0x545bb3(0xc2)]);if(_0x3c6e7b[_0x545bb3(0xab)](_0x1534aa[_0x2dc4ab],undefined)){const _0x21fa5b=_0x3c6e7b[_0x545bb3(0xc8)](fixUserKey,_0x1534aa[_0x2dc4ab]);return shouldReadTokenFromFile(_0x21fa5b)&&(Logger[_0x545bb3(0xd7)]()[_0x545bb3(0xb8)](_0x545bb3(0xbb)),_0x3c6e7b[_0x545bb3(0x9c)](readTokenFromFile,_0x21fa5b)),_0x21fa5b;}else{if('oofdX'!==_0x545bb3(0xc6))return _0x10c493;else{Logger[_0x545bb3(0xd7)]()[_0x545bb3(0xda)](_0x545bb3(0xd1),_0x2dc4ab,_0x31dec3);throw new Error(_0x545bb3(0xcd)+_0x2dc4ab+_0x545bb3(0xa9));}}}function fixUserKey(_0xc24015){const _0x3352b7=_0x4f8124,_0x233e04={'Xekku':'Empty\x20Username\x20field\x20will\x20be\x20filled\x20with\x20\x27User\x27\x20field\x20value.','tWtbK':function(_0x505212,_0x53e954){return _0x505212===_0x53e954;},'GZgTr':_0x3352b7(0xb3)};return Logger[_0x3352b7(0xd7)]()['trace'](_0x233e04[_0x3352b7(0xad)]),_0x233e04[_0x3352b7(0xc4)](_0xc24015[_0x3352b7(0xb3)],undefined)&&_0xc24015[_0x3352b7(0xca)]!==undefined&&(_0xc24015[_0x233e04['GZgTr']]=_0xc24015['user']),_0xc24015;}exports['loadConnectionConfiguration']=loadConnectionConfiguration;