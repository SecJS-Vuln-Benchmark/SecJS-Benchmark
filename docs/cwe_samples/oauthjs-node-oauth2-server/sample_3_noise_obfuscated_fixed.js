'use strict';const _0x3d15dd=_0x3546;(function(_0x499e5c,_0x23f076){const _0x23f410=_0x3546,_0x1c0e9c=_0x499e5c();while(!![]){try{const _0x3081bf=-parseInt(_0x23f410(0x27e))/0x1*(-parseInt(_0x23f410(0x264))/0x2)+parseInt(_0x23f410(0x1fc))/0x3*(-parseInt(_0x23f410(0xb3))/0x4)+parseInt(_0x23f410(0x230))/0x5+parseInt(_0x23f410(0x13f))/0x6*(parseInt(_0x23f410(0x2b8))/0x7)+-parseInt(_0x23f410(0x1b0))/0x8+-parseInt(_0x23f410(0x2a2))/0x9*(parseInt(_0x23f410(0x17d))/0xa)+-parseInt(_0x23f410(0x1e9))/0xb*(parseInt(_0x23f410(0x192))/0xc);if(_0x3081bf===_0x23f076)break;else _0x1c0e9c['push'](_0x1c0e9c['shift']());}catch(_0x49e1b8){_0x1c0e9c['push'](_0x1c0e9c['shift']());}}}(_0x4b85,0x582f4));function _0x3546(_0x5d005e,_0x195366){const _0x4b8587=_0x4b85();return _0x3546=function(_0x3546ff,_0x7111fd){_0x3546ff=_0x3546ff-0x68;let _0x2d4bd1=_0x4b8587[_0x3546ff];return _0x2d4bd1;},_0x3546(_0x5d005e,_0x195366);}process['env'][_0x3d15dd(0x102)]='0';let fs=require('fs'),chai=require(_0x3d15dd(0x186)),expect=chai[_0x3d15dd(0x1da)],SMTPConnection=require(_0x3d15dd(0x155)),packageData=require('../../package.json'),SMTPServer=require(_0x3d15dd(0x2b7))[_0x3d15dd(0x269)],HttpConnectProxy=require(_0x3d15dd(0x203)),net=require(_0x3d15dd(0x137)),xoauth2Server=require(_0x3d15dd(0x1f9)),XOAuth2=require('../../lib/xoauth2'),sinon=require(_0x3d15dd(0x1a6));chai[_0x3d15dd(0x295)][_0x3d15dd(0x68)]=!![];let PORT_NUMBER=0x20cd,PROXY_PORT_NUMBER=0x270f,LMTP_PORT_NUMBER=0x20cc,XOAUTH_PORT=0x2131;describe('SMTP-Connection\x20Tests',function(){const _0x4c1b56=_0x3d15dd,_0x2eb822={'yRjlB':function(_0x4d7b8d,_0x3ab7d1,_0x53760a){return _0x4d7b8d(_0x3ab7d1,_0x53760a);},'SSUZv':'Should\x20expose\x20version\x20number','dwyGQ':_0x4c1b56(0x1d5),'QGHDA':_0x4c1b56(0x246),'ihcgM':function(_0x336d68,_0x1ea513){return _0x336d68(_0x1ea513);},'pQHxt':function(_0x2edbbc,_0x430061){return _0x2edbbc!==_0x430061;},'nwKnF':_0x4c1b56(0x109),'VLDAP':function(_0x58d9c1,_0xd67176){return _0x58d9c1===_0xd67176;},'kOzBd':_0x4c1b56(0x146),'kyigO':_0x4c1b56(0x122),'ibYGt':function(_0x3b8768,_0x37f603,_0x192f06,_0xed1d4c,_0x4b129f,_0x140e59){return _0x3b8768(_0x37f603,_0x192f06,_0xed1d4c,_0x4b129f,_0x140e59);},'IoMDJ':_0x4c1b56(0x162),'oeSVT':_0x4c1b56(0x248),'fLKHN':'Edord','TGOxH':_0x4c1b56(0x1f1),'tppCz':'DQikO','RGvcs':function(_0x5cb2d3,_0x944b9a){return _0x5cb2d3+_0x944b9a;},'POJXu':_0x4c1b56(0x154),'ERDDS':_0x4c1b56(0x10e),'MrfqE':_0x4c1b56(0x2be),'vFZQu':'should\x20connect\x20to\x20a\x20server\x20and\x20upgrade\x20with\x20STARTTLS','pvotL':'should\x20connect\x20to\x20a\x20server\x20and\x20upgrade\x20with\x20forced\x20STARTTLS','yQvZu':function(_0x2d267e,_0x5441dd,_0x11a971){return _0x2d267e(_0x5441dd,_0x11a971);},'rBalk':_0x4c1b56(0x218),'BsFLL':_0x4c1b56(0x1e8),'TNRhe':_0x4c1b56(0x257),'SYrsb':'should\x20connect\x20through\x20proxy','xhczt':function(_0x4d4edb,_0x54bcf4,_0x297f7b){return _0x4d4edb(_0x54bcf4,_0x297f7b);},'xaDCP':'should\x20connect\x20through\x20proxy\x20to\x20secure\x20server','KxrNn':'should\x20send\x20to\x20unsecure\x20server','zztbj':function(_0x533774){return _0x533774();},'YorwH':function(_0x7cfbd3,_0x4426da){return _0x7cfbd3===_0x4426da;},'rfuKz':_0x4c1b56(0x1de),'jtDnZ':function(_0xca33ac){return _0xca33ac();},'goZIs':function(_0x4c0e62,_0x518544,_0x3af6b8){return _0x4c0e62(_0x518544,_0x3af6b8);},'TJgUn':function(_0x43307a,_0x1f9ddb){return _0x43307a(_0x1f9ddb);},'qrsHm':_0x4c1b56(0x181),'KyIpO':_0x4c1b56(0x251),'UHWON':function(_0x3b243d,_0x41b198){return _0x3b243d(_0x41b198);},'JlUZk':_0x4c1b56(0x1c0),'rkUQm':function(_0x24e5db,_0x248746){return _0x24e5db===_0x248746;},'GbugH':_0x4c1b56(0xe2),'qJGIO':'testuser','BzMoG':'testpass','gMtAS':_0x4c1b56(0x1c3),'UKUrS':_0x4c1b56(0x86),'sslwZ':function(_0x4b5367,_0x2fda14){return _0x4b5367(_0x2fda14);},'bZPyT':_0x4c1b56(0x1ab),'nxoDe':_0x4c1b56(0x1fb),'cyjae':_0x4c1b56(0x8f),'xlOML':function(_0x1ae45d,_0x36a79d){return _0x1ae45d!==_0x36a79d;},'Kbchj':_0x4c1b56(0x1e1),'xxdmi':_0x4c1b56(0x1e3),'NztOB':_0x4c1b56(0x2bb),'cnYrD':_0x4c1b56(0xc7),'APydD':function(_0x4e5511,_0x3b2875,_0x673c67){return _0x4e5511(_0x3b2875,_0x673c67);},'snKUr':'should\x20login\x20with\x20xoauth2\x20object','IiQLn':function(_0x40215a,_0x30ae68,_0x38f875){return _0x40215a(_0x30ae68,_0x38f875);},'LHgks':'should\x20fail\x20with\x20xoauth2\x20object','lUmla':_0x4c1b56(0x147),'CzlWj':function(_0x277ced,_0x356b06){return _0x277ced(_0x356b06);},'MtBCH':_0x4c1b56(0x2c8),'mBouw':_0x4c1b56(0x1bf),'lXIHH':function(_0xf3d5a2,_0x8c5f56){return _0xf3d5a2(_0x8c5f56);},'WQwdP':'test3@invalid.recipient','jPuOr':function(_0x5a64a8,_0x5485e3){return _0x5a64a8===_0x5485e3;},'LEVmm':_0x4c1b56(0xee),'XJwTu':_0x4c1b56(0x199),'KBfUK':_0x4c1b56(0x1ff),'VKvbV':function(_0x431bc4,_0x33e3c9){return _0x431bc4(_0x33e3c9);},'huaFH':_0x4c1b56(0x21c),'mEPKC':function(_0xf85509,_0x4fb108){return _0xf85509===_0x4fb108;},'IVSCD':_0x4c1b56(0x187),'UFdmF':function(_0x58fda1,_0x474bcd){return _0x58fda1(_0x474bcd);},'Zljmn':_0x4c1b56(0xad),'GBGth':function(_0x493a51,_0x488ca1){return _0x493a51*_0x488ca1;},'OPQQC':_0x4c1b56(0x124),'HNNnS':function(_0x578b09,_0x2e92a8,_0x15fa18){return _0x578b09(_0x2e92a8,_0x15fa18);},'scPwN':'should\x20send\x20message','usZqI':_0x4c1b56(0x28a),'cQdog':function(_0x183ec0,_0x56bad3,_0x3dbf04){return _0x183ec0(_0x56bad3,_0x3dbf04);},'GSgDy':_0x4c1b56(0x16b),'pAatR':_0x4c1b56(0x1d7),'RraGY':function(_0x28dfc6,_0x23667d,_0x2795b2){return _0x28dfc6(_0x23667d,_0x2795b2);},'lAmUQ':_0x4c1b56(0x281),'jnWXV':function(_0x4fc90a,_0x5815d7,_0xd4b23e){return _0x4fc90a(_0x5815d7,_0xd4b23e);},'EJHib':_0x4c1b56(0x250),'YiMoq':function(_0x1cda93,_0x529be2,_0x1f626e){return _0x1cda93(_0x529be2,_0x1f626e);},'funMe':_0x4c1b56(0x170),'QvzmO':function(_0x5315fa,_0x2fb00e,_0x3c2ca0){return _0x5315fa(_0x2fb00e,_0x3c2ca0);},'fpigW':_0x4c1b56(0x98),'AwgFQ':_0x4c1b56(0x177),'tSkfz':_0x4c1b56(0x242),'VxaYi':function(_0x6b7bc8,_0x5d80e6,_0x484eca){return _0x6b7bc8(_0x5d80e6,_0x484eca);},'AZfEC':'401','EiReR':'bearer\x20mac','SUkMQ':function(_0x8d7fcc){return _0x8d7fcc();},'CqGqX':_0x4c1b56(0x88),'lJamx':_0x4c1b56(0x24a),'PRNzz':'iRuwg','vnODt':'mytest','INgIq':_0x4c1b56(0x136),'FXgic':'test','hcUcq':_0x4c1b56(0xdf),'VMobf':_0x4c1b56(0x111),'QruiQ':_0x4c1b56(0x183),'qnGUI':function(_0x416013,_0x271822){return _0x416013===_0x271822;},'cFGMV':_0x4c1b56(0x8e),'FqeoE':_0x4c1b56(0x174),'hhJNA':_0x4c1b56(0x190),'UuxST':'should\x20return\x20error\x20for\x20incomplete\x20credentials','kVHnW':'xoauth2\x20login','OQnam':_0x4c1b56(0x25e),'qcyro':_0x4c1b56(0x26f),'tHDph':function(_0x3c4cb5,_0x1868f7,_0x28efe2){return _0x3c4cb5(_0x1868f7,_0x28efe2);},'NYEQe':function(_0x367fbf,_0x307bba,_0x5383af){return _0x367fbf(_0x307bba,_0x5383af);},'lKKJq':_0x4c1b56(0x188)};describe(_0x4c1b56(0x172),function(){const _0x57fc2a=_0x4c1b56;_0x2eb822[_0x57fc2a(0x83)](it,_0x2eb822[_0x57fc2a(0x26a)],function(){const _0x506ebf=_0x57fc2a;let _0x93a010=new SMTPConnection();expect(_0x93a010[_0x506ebf(0x272)])['to']['equal'](packageData[_0x506ebf(0x272)]);});}),_0x2eb822[_0x4c1b56(0xe4)](describe,'Connection\x20tests',function(){const _0x3b4c26=_0x4c1b56,_0x233330={'GspBm':function(_0x278f49,_0x14bee1){const _0x954094=_0x3546;return _0x2eb822[_0x954094(0x18c)](_0x278f49,_0x14bee1);},'QakMh':function(_0x42a34c,_0x4ebc12){return _0x42a34c(_0x4ebc12);},'hUoSU':_0x3b4c26(0xdf),'asWdj':'250\x20OK:\x20message\x20queued','UmDdw':'end','qPBrR':function(_0x54e261,_0x486b22){const _0x164bff=_0x3b4c26;return _0x2eb822[_0x164bff(0x206)](_0x54e261,_0x486b22);},'OwoqQ':_0x3b4c26(0x74),'pzDyX':function(_0x140f8f,_0x6807b9){return _0x140f8f+_0x6807b9;},'uUjAr':function(_0x53d17d,_0x121b22){return _0x53d17d>=_0x121b22;},'aTUyE':function(_0x2106bf){return _0x2106bf();},'YshKS':_0x2eb822[_0x3b4c26(0x184)],'qEjbA':_0x3b4c26(0x130),'lWXIj':_0x2eb822['fLKHN'],'eYPDw':_0x3b4c26(0xe2),'MbkFf':function(_0x43b0a2,_0x4242c3){return _0x43b0a2(_0x4242c3);},'xYWia':function(_0x11a31c,_0x4239b5){return _0x11a31c===_0x4239b5;},'ZhUuk':function(_0x4a9b0a,_0x25d91a){const _0x4ca168=_0x3b4c26;return _0x2eb822[_0x4ca168(0x18c)](_0x4a9b0a,_0x25d91a);},'OCATF':'NocDe','PJmcu':_0x2eb822[_0x3b4c26(0x133)],'tszIA':function(_0x5edb51,_0x54505e){const _0x271025=_0x3b4c26;return _0x2eb822[_0x271025(0x22a)](_0x5edb51,_0x54505e);},'ROBJY':function(_0x288fc7,_0x3e8884){return _0x288fc7(_0x3e8884);},'DQZLO':function(_0x5c39a3,_0x4ac2ee,_0x10378b){return _0x5c39a3(_0x4ac2ee,_0x10378b);},'cDgGL':_0x2eb822[_0x3b4c26(0x24f)],'IlgFM':_0x3b4c26(0xa1),'sRzGr':function(_0x363815,_0x5229f1){return _0x363815(_0x5229f1);},'VlYTw':_0x3b4c26(0x1d5),'WwQOZ':function(_0x280cda,_0x553142){const _0x3e247d=_0x3b4c26;return _0x2eb822[_0x3e247d(0x18c)](_0x280cda,_0x553142);},'HRndC':function(_0x2f0192,_0x21d1ac,_0x3e4dd8,_0x21048f,_0x58e2ee,_0x3b8052){const _0x49ffe0=_0x3b4c26;return _0x2eb822[_0x49ffe0(0x1ef)](_0x2f0192,_0x21d1ac,_0x3e4dd8,_0x21048f,_0x58e2ee,_0x3b8052);},'PkiqX':'127.0.0.1','eLgEN':function(_0x5c8178,_0x153b32){const _0x5dcc50=_0x3b4c26;return _0x2eb822[_0x5dcc50(0x29f)](_0x5c8178,_0x153b32);},'ffrWe':_0x3b4c26(0x181),'wbgJo':'Uajmu','GlDoj':_0x2eb822['POJXu'],'BiATV':_0x2eb822[_0x3b4c26(0x217)],'ZqMkt':_0x2eb822[_0x3b4c26(0x17b)],'VEwYx':'dataReady','bTrbZ':function(_0x480524,_0x11cf1c){const _0x41afc3=_0x3b4c26;return _0x2eb822[_0x41afc3(0x18c)](_0x480524,_0x11cf1c);}};let _0x3889a1,_0x2f2864,_0x3aee25,_0x4b0f55,_0x1a07b0;_0x2eb822[_0x3b4c26(0x18c)](beforeEach,function(_0x8fdb67){const _0x3149c0=_0x3b4c26,_0x1af961={'BVfcv':_0x3149c0(0x225),'sBIXi':function(_0x39d222,_0x40834a){return _0x233330['qPBrR'](_0x39d222,_0x40834a);},'irnJo':_0x233330[_0x3149c0(0x29c)],'yUPyn':function(_0x346c8b,_0x491639){return _0x346c8b(_0x491639);},'aSegZ':_0x233330[_0x3149c0(0x110)],'WXQfO':function(_0x463d7c,_0x2684e0){const _0x1111a6=_0x3149c0;return _0x233330[_0x1111a6(0x19a)](_0x463d7c,_0x2684e0);},'Rmyda':function(_0x5e6caa,_0x2124ea){return _0x5e6caa<_0x2124ea;},'dmBWB':function(_0xec9c5b,_0xe556fb){const _0x35034b=_0x3149c0;return _0x233330[_0x35034b(0x12a)](_0xec9c5b,_0xe556fb);},'kjFmA':function(_0x1afeb3,_0x3a462b,_0x56385f){return _0x1afeb3(_0x3a462b,_0x56385f);},'ljfrI':_0x3149c0(0x1de),'NhOVl':function(_0x1a3743){const _0x4e98c9=_0x3149c0;return _0x233330[_0x4e98c9(0x145)](_0x1a3743);},'BzrCG':function(_0x1a86fe,_0x523d92){return _0x1a86fe!==_0x523d92;},'AgJmJ':_0x233330[_0x3149c0(0xa4)],'fvkmH':_0x233330[_0x3149c0(0x185)]};_0x3149c0(0x2a4)===_0x233330['lWXIj']?(_0x233330[_0x3149c0(0x19b)](_0x152cc0,_0x5bda93)['to'][_0x3149c0(0x179)][_0x3149c0(0x24e)],_0x233330['QakMh'](_0x33bc82,_0x55e976)['to'][_0x3149c0(0x282)][_0x3149c0(0x23c)]({'accepted':[_0x233330[_0x3149c0(0x123)]],'rejected':[],'envelopeTime':_0x42917e[_0x3149c0(0x1f4)],'messageTime':_0xaa8621['messageTime'],'messageSize':_0x32edf5['messageSize'],'response':_0x233330[_0x3149c0(0xfd)]}),_0x1eed12()):(_0x3889a1=new SMTPServer({'onAuth':function(_0x13d17a,_0x306fad,_0x1e4f07){const _0x1873da=_0x3149c0,_0x1532d9={'BWbZY':_0x1873da(0xa3)};if(_0x13d17a['username']!==_0x1af961['BVfcv']||_0x1af961[_0x1873da(0x85)](_0x13d17a['password'],_0x1af961[_0x1873da(0x11e)])){if(_0x1af961[_0x1873da(0x85)](_0x1873da(0x1d0),_0x1873da(0x1d0))){let _0x285697=_0x5a2585['concat'](_0x502042);_0x233c7c(_0x285697[_0x1873da(0x144)]())['to'][_0x1873da(0x23c)](_0x4bd3ad[_0x1873da(0x144)]()['trim']()[_0x1873da(0x116)](/\n/g,'\x0d\x0a')),_0x22de1c(null,_0x1532d9[_0x1873da(0xf1)]);}else return Function('return\x20Object.keys({a:1});')(),_0x1af961[_0x1873da(0xf0)](_0x1e4f07,new Error(_0x1873da(0x130)));}_0x1e4f07(null,{'user':0x7b});},'onData':function(_0x172de3,_0x4bec9f,_0x115c92){const _0x2e9ae2=_0x3149c0;_0x172de3['on'](_0x2e9ae2(0x2be),function(){}),_0x172de3['on'](_0x1af961[_0x2e9ae2(0xd6)],_0x115c92);}}),_0x2f2864=new SMTPServer({'disabledCommands':[_0x233330[_0x3149c0(0x27f)],_0x3149c0(0x28c)],'onData':function(_0x4fde57,_0x4e65ba,_0x4ccdae){const _0x3b828f=_0x3149c0,_0x4252b9={'OrhbV':function(_0x5660d8,_0xba1bcd){return _0x5660d8+_0xba1bcd;}};let _0x4a2d85=![];_0x4fde57['on']('data',function(_0x2907e5){const _0x27ad52=_0x3546,_0xe4f5f4={'xXuHo':function(_0x1c917e,_0x2e32db){const _0xe7d5d4=_0x3546;return _0x1af961[_0xe7d5d4(0x16a)](_0x1c917e,_0x2e32db);}};if(_0x4a2d85||_0x4e65ba['use8BitMime']){eval('const _0x478eb3 = _0x3546;_0xe4f5f4[_0x478eb3(456)](1, 1);');return;}for(let _0x2096c6=0x0,_0x1452f8=_0x2907e5[_0x27ad52(0x6a)];_0x1af961[_0x27ad52(0x1d4)](_0x2096c6,_0x1452f8);_0x2096c6++){if(_0x1af961[_0x27ad52(0x85)](_0x27ad52(0x1f6),_0x27ad52(0x1f6))){const _0x3bb6f1={'URskS':function(_0x13e755,_0x57df24){const _0x280bb7=_0x27ad52;return _0x4252b9[_0x280bb7(0xed)](_0x13e755,_0x57df24);}};_0x440e97['listen'](_0x4252b9[_0x27ad52(0xed)](_0x59ec6a,0x1),function(){const _0x2da0b9=_0x27ad52;_0x1d66b9[_0x2da0b9(0x27a)](_0x3bb6f1['URskS'](_0x4266f8,0x2),function(){_0x5ee909['listen'](_0x2ea899+0x3,function(){const _0x5ade03=_0x3546;_0x5dbf96[_0x5ade03(0x27a)](_0x91e04e,_0x5da0f7);});});});}else _0x1af961[_0x27ad52(0xce)](_0x2907e5[_0x2096c6],0x80)&&(_0x4a2d85=new Error(_0x27ad52(0x276)));}}),_0x4fde57['on'](_0x1af961[_0x3b828f(0xd6)],function(){const _0x4dac79=_0x3b828f;_0x1af961[_0x4dac79(0x171)](_0x4ccdae,_0x4a2d85,![]);});},'logger':![]}),_0x3aee25=net[_0x3149c0(0x197)](function(){}),_0x4b0f55=new SMTPServer({'secure':!![],'onAuth':function(_0x4c90a3,_0x4f2ed8,_0x2fa3f6){const _0x43a037=_0x3149c0,_0x14a14f={'vGvZX':function(_0xbc9a08,_0x1b6914){return _0xbc9a08+_0x1b6914;},'gUuOp':function(_0xc0f5c4,_0x24ed8d){return _0xc0f5c4(_0x24ed8d);},'MEVQU':_0x1af961['ljfrI'],'RbKCi':function(_0x14c04b){return _0x1af961['NhOVl'](_0x14c04b);}};if(_0x1af961[_0x43a037(0x223)](_0x4c90a3[_0x43a037(0xa2)],'testuser')||_0x1af961[_0x43a037(0x85)](_0x4c90a3['password'],_0x1af961['irnJo'])){if(_0x1af961['sBIXi'](_0x1af961[_0x43a037(0x128)],_0x43a037(0x248))){if(!/@valid.sender/[_0x43a037(0x259)](_0x53d348[_0x43a037(0xeb)]))return eval('const _0x2d9090 = _0x43a037;_0x14a14f[_0x2d9090(603)](1, 1);'),_0x14a14f[_0x43a037(0x221)](_0x419e56,new _0x4bcb3f(_0x14a14f[_0x43a037(0xbc)]));return _0x4dd6e8(function(){_0x108838['log']('safe');},0x64),_0x14a14f['RbKCi'](_0x5720f9);}else return setTimeout(_0x43a037(0x222),0x3e8),_0x2fa3f6(new Error(_0x1af961[_0x43a037(0x10f)]));}_0x1af961[_0x43a037(0x171)](_0x2fa3f6,null,{'user':0x7b});},'onData':function(_0x594c19,_0x368609,_0x2fc039){const _0x4846eb=_0x3149c0;_0x594c19['on']('data',function(){}),_0x594c19['on'](_0x233330[_0x4846eb(0x110)],_0x2fc039);},'logger':![]}),_0x1a07b0=new HttpConnectProxy(),_0x3889a1[_0x3149c0(0x27a)](PORT_NUMBER,function(){const _0x4f3b5a=_0x3149c0,_0x4e0255={'RCaGj':function(_0x450107,_0x10db8f){return _0x450107+_0x10db8f;}};_0x3aee25[_0x4f3b5a(0x27a)](PORT_NUMBER+0x1,function(){const _0x1abf0e=_0x4f3b5a;_0x4b0f55[_0x1abf0e(0x27a)](_0x4e0255[_0x1abf0e(0x6e)](PORT_NUMBER,0x2),function(){const _0x2651e0=_0x1abf0e;_0x2f2864[_0x2651e0(0x27a)](_0x4e0255[_0x2651e0(0x6e)](PORT_NUMBER,0x3),function(){const _0x3ea8c8=_0x2651e0;_0x1a07b0[_0x3ea8c8(0x27a)](PROXY_PORT_NUMBER,_0x8fdb67);});});});}));}),afterEach(function(_0x1ca20f){const _0x2e7d4b=_0x3b4c26;_0x3889a1[_0x2e7d4b(0x168)](function(){const _0x778213=_0x2e7d4b;_0x3aee25[_0x778213(0x168)](function(){_0x4b0f55['close'](function(){const _0x326f20=_0x3546;_0x2f2864[_0x326f20(0x168)](function(){const _0x2b5228=_0x326f20;_0x1a07b0[_0x2b5228(0x168)](_0x1ca20f);});});});});}),it('should\x20connect\x20to\x20unsecure\x20server',function(_0x5c0eb6){const _0xa37a65=_0x3b4c26;let _0x33b28d=new SMTPConnection({'port':PORT_NUMBER+0x3,'ignoreTLS':!![],'logger':![]});_0x33b28d[_0xa37a65(0xd8)](function(){const _0x1b814b=_0xa37a65,_0xf6b74e={'neuoF':function(_0x2515e0,_0x2622f0){const _0x55b0c0=_0x3546;return _0x233330[_0x55b0c0(0x216)](_0x2515e0,_0x2622f0);},'rMcMw':function(_0x4013ae){return _0x4013ae();}};_0x233330[_0x1b814b(0x189)](_0x1b814b(0x22b),_0x1b814b(0x22b))?(expect(_0x33b28d[_0x1b814b(0x2d3)])['to']['be']['false'],_0x33b28d['close']()):(_0xf6b74e['neuoF'](_0x2c0bca,_0x19795d)['to'][_0x1b814b(0x179)][_0x1b814b(0x24e)],_0x489e15['options'][_0x1b814b(0x261)]=![],_0xf6b74e['rMcMw'](_0x3540f5));}),_0x33b28d['on'](_0xa37a65(0x1d5),function(_0x291b9d){const _0x5bc698=_0xa37a65;_0x233330['ZhUuk'](expect,_0x291b9d)['to'][_0x5bc698(0x179)]['exist'];}),_0x33b28d['on'](_0xa37a65(0x246),_0x5c0eb6);}),it(_0x2eb822[_0x3b4c26(0xc8)],function(_0x54dbdf){const _0xd37175=_0x3b4c26,_0x46fc64={'tvPLN':function(_0x818e77,_0x50897){const _0xafc192=_0x3546;return _0x233330[_0xafc192(0x19a)](_0x818e77,_0x50897);},'oIOzl':function(_0x29653f,_0x35265e){return _0x29653f(_0x35265e);},'KbgAq':_0xd37175(0x181),'Yqqak':function(_0x2f007c,_0x1b0ddf){return _0x2f007c+_0x1b0ddf;},'daRpn':function(_0x58dd6d,_0xcf471c){const _0x4cc682=_0xd37175;return _0x233330[_0x4cc682(0x19a)](_0x58dd6d,_0xcf471c);},'NRLRo':_0x233330[_0xd37175(0x291)]};let _0x382d5b=new SMTPConnection({'port':PORT_NUMBER,'logger':![]});_0x382d5b[_0xd37175(0xd8)](function(){const _0xaedf74=_0xd37175;if(_0x233330['OCATF']===_0xaedf74(0x149))expect(_0x382d5b['secure'])['to']['be'][_0xaedf74(0x270)],_0x382d5b[_0xaedf74(0x168)]();else{const _0x528132={'CTNmI':_0xaedf74(0x2be),'ppnCJ':function(_0x318bc,_0x3e1bf8){return _0x46fc64['tvPLN'](_0x318bc,_0x3e1bf8);},'KyCpj':function(_0x236e4c,_0x50d9f3){return _0x46fc64['oIOzl'](_0x236e4c,_0x50d9f3);},'nHunj':_0x46fc64[_0xaedf74(0x157)]};_0x5b1651['write'](_0x46fc64['Yqqak'](_0x46fc64[_0xaedf74(0x27d)](_0x46fc64['daRpn'](_0xaedf74(0x1b9),_0x2427f8),':'),_0x50d9e7)+_0x46fc64['NRLRo']);let _0x4d23fa='',_0x3ea021=function(_0xec3855){const _0x231a91=_0xaedf74;let _0x2169d1,_0x218f75;_0x4d23fa+=_0xec3855['toString'](_0x231a91(0x21f));if(_0x2169d1=_0x4d23fa[_0x231a91(0x10c)](/\r\n\r\n/))return _0x20f4a5['removeListener'](_0x528132[_0x231a91(0x95)],_0x3ea021),_0x218f75=_0x4d23fa[_0x231a91(0xca)](_0x528132['ppnCJ'](_0x2169d1[_0x231a91(0x2cb)],_0x2169d1[0x0][_0x231a91(0x6a)])),_0x4d23fa=_0x4d23fa[_0x231a91(0xca)](0x0,_0x2169d1['index']),_0x218f75&&_0x559fe4[_0x231a91(0x25c)](_0x52082c[_0x231a91(0x121)](_0x218f75,_0x231a91(0x21f))),_0x528132[_0x231a91(0x178)](_0x365b66,_0x528132[_0x231a91(0x1e5)])(),_0x4796e8(null,_0x4aa6d3);};_0x160bc8['on'](_0xaedf74(0x2be),_0x3ea021);}}),_0x382d5b['on'](_0xd37175(0x1d5),function(_0x13356b){const _0x1aea10=_0xd37175;expect(_0x13356b)['to'][_0x1aea10(0x179)][_0x1aea10(0x24e)];}),_0x382d5b['on'](_0x233330['UmDdw'],_0x54dbdf);}),it(_0x2eb822[_0x3b4c26(0x2c0)],function(_0x4f9130){const _0x13f7bd=_0x3b4c26,_0x1030dc={'vdOXA':function(_0x554ff6,_0x25621e){return _0x554ff6(_0x25621e);}};let _0x4534b2=new SMTPConnection({'port':PORT_NUMBER,'requireTLS':!![],'transactionLog':!![],'logger':![]});_0x4534b2['connect'](function(){const _0x3cc7fd=_0x3546;expect(_0x4534b2[_0x3cc7fd(0x2d3)])['to']['be'][_0x3cc7fd(0x270)],_0x4534b2[_0x3cc7fd(0x168)]();}),_0x4534b2['on'](_0x2eb822['dwyGQ'],function(_0xf06658){const _0x59a10e=_0x3546;_0x1030dc[_0x59a10e(0x2ac)](expect,_0xf06658)['to']['not'][_0x59a10e(0x24e)];}),_0x4534b2['on'](_0x2eb822[_0x13f7bd(0x113)],_0x4f9130);}),_0x2eb822[_0x3b4c26(0x83)](it,_0x3b4c26(0x15e),function(_0x32068f){const _0x4a9fd9=_0x3b4c26,_0x3a04f3={'pVbLk':function(_0x343958,_0x3f8553){return _0x2eb822['ihcgM'](_0x343958,_0x3f8553);}};let _0x4b3fb7=new SMTPConnection({'port':PORT_NUMBER+0x3,'logger':![],'requireTLS':!![],'opportunisticTLS':!![]});_0x4b3fb7[_0x4a9fd9(0xd8)](function(){const _0x27d93f=_0x4a9fd9;_0x233330[_0x27d93f(0x1aa)](expect,_0x4b3fb7[_0x27d93f(0x2d3)])['to']['be']['false'],_0x4b3fb7[_0x27d93f(0x168)]();}),_0x4b3fb7['on'](_0x2eb822[_0x4a9fd9(0x1f5)],function(_0x5824c6){const _0x482780=_0x4a9fd9;_0x233330[_0x482780(0x21d)](_0x482780(0x150),_0x482780(0x1cc))?(_0x3a04f3[_0x482780(0x220)](_0x1dc734,_0xe0aebe[_0x482780(0x2d3)])['to']['be'][_0x482780(0x270)],_0xad505f['connections'][_0x482780(0x297)](function(_0x5dbb83){_0x5dbb83['close']();})):expect(_0x5824c6)['to'][_0x482780(0x179)][_0x482780(0x24e)];}),_0x4b3fb7['on'](_0x2eb822[_0x4a9fd9(0x113)],_0x32068f);}),_0x2eb822[_0x3b4c26(0x83)](it,_0x3b4c26(0x15c),function(_0x17dce0){const _0x2d9ee6=_0x3b4c26;if(_0x2eb822[_0x2d9ee6(0x206)](_0x2eb822[_0x2d9ee6(0x22f)],'wCBPy'))_0x233330['ROBJY'](_0x1bb4f2,_0x374cb1)['to'][_0x2d9ee6(0x179)][_0x2d9ee6(0x24e)],_0x3ff8b0[_0x2d9ee6(0x168)]();else{let _0x524675=new SMTPConnection({'port':PORT_NUMBER+0x3,'requireTLS':!![],'logger':![]});_0x524675[_0x2d9ee6(0xd8)](function(){const _0x16789f=_0x2d9ee6;expect(![])['to']['be']['true'],_0x524675[_0x16789f(0x168)]();}),_0x524675[_0x2d9ee6(0x142)]('error',function(_0x15b414){expect(_0x15b414)['to']['exist'];}),_0x524675['on'](_0x2d9ee6(0x246),_0x17dce0);}}),_0x2eb822[_0x3b4c26(0x83)](it,'should\x20close\x20connection\x20after\x20STARTTLS',function(_0x3f5c8a){const _0x17739e=_0x3b4c26;let _0x48a676=new SMTPConnection({'port':PORT_NUMBER,'logger':![]});_0x48a676[_0x17739e(0xd8)](function(){const _0x1056dd=_0x17739e;expect(_0x48a676[_0x1056dd(0x2d3)])['to']['be'][_0x1056dd(0x270)],_0x3889a1[_0x1056dd(0x237)][_0x1056dd(0x297)](function(_0x4eb17f){const _0x197dd8=_0x1056dd;_0x4eb17f[_0x197dd8(0x168)]();});}),_0x48a676['on'](_0x2eb822[_0x17739e(0x1f5)],function(_0x197fd9){const _0x7a27c9=_0x17739e,_0x3225cd={'JJKsR':function(_0x39ac7e,_0x2fbc1e,_0x5a39ce){const _0x1753a1=_0x3546;return _0x233330[_0x1753a1(0x2ae)](_0x39ac7e,_0x2fbc1e,_0x5a39ce);}};_0x233330[_0x7a27c9(0x2c2)](_0x7a27c9(0x1a2),_0x233330[_0x7a27c9(0x2cf)])?_0x3225cd[_0x7a27c9(0xb2)](_0x1c8ef7,_0x1306c1,![]):expect(_0x197fd9[_0x7a27c9(0x1f7)])['to'][_0x7a27c9(0x23c)](_0x7a27c9(0x1fe));}),_0x48a676['on'](_0x2eb822[_0x17739e(0x113)],_0x3f5c8a);}),_0x2eb822[_0x3b4c26(0x1fa)](it,_0x2eb822[_0x3b4c26(0x21e)],function(_0x21d834){const _0x4427b9=_0x3b4c26;if(_0x2eb822[_0x4427b9(0x22a)](_0x4427b9(0x2a6),_0x4427b9(0x2a6))){let _0x4ba516=new SMTPConnection({'port':PORT_NUMBER+0x2,'secure':!![],'logger':![]});_0x4ba516[_0x4427b9(0xd8)](function(){const _0x14150b=_0x4427b9,_0x2b33d4={'CDXtC':_0x14150b(0x246)};if(_0x233330['IlgFM']!==_0x233330[_0x14150b(0x16d)]){let _0x50f572=new _0x22de33({'port':_0x3444f7,'logger':![]});_0x50f572[_0x14150b(0xd8)](function(){const _0x2997a8=_0x14150b;_0x584508(_0x50f572[_0x2997a8(0x2d3)])['to']['be'][_0x2997a8(0x270)],_0x521309['connections'][_0x2997a8(0x297)](function(_0xa3a705){const _0x46359d=_0x2997a8;_0xa3a705[_0x46359d(0x168)]();});}),_0x50f572['on']('error',function(_0x1cb701){const _0x5d328e=_0x14150b;_0x4af762(_0x1cb701[_0x5d328e(0x1f7)])['to'][_0x5d328e(0x23c)](_0x5d328e(0x1fe));}),_0x50f572['on'](_0x2b33d4['CDXtC'],_0x2bcdad);}else expect(_0x4ba516[_0x14150b(0x2d3)])['to']['be'][_0x14150b(0x270)],_0x4ba516[_0x14150b(0x168)]();}),_0x4ba516['on'](_0x2eb822['dwyGQ'],function(_0x5a767c){const _0x45f483=_0x4427b9;expect(_0x5a767c)['to'][_0x45f483(0x179)][_0x45f483(0x24e)];}),_0x4ba516['on'](_0x2eb822[_0x4427b9(0x113)],_0x21d834);}else _0x594819['on']('data',function(){}),_0x5d0ffe['on']('end',_0x287a1f);}),it(_0x2eb822[_0x3b4c26(0xf4)],function(_0xdf6edf){const _0x3bc01b=_0x3b4c26,_0xfe02d8={'dPGiB':function(_0x11564c,_0x434c80){return _0x11564c(_0x434c80);}};let _0x3645a8=new SMTPConnection({'port':_0x233330[_0x3bc01b(0x19a)](PORT_NUMBER,0xa),'logger':![]});_0x3645a8['connect'](function(){const _0xf7ceb1=_0x3bc01b;_0xfe02d8[_0xf7ceb1(0x24d)](expect,![])['to']['be'][_0xf7ceb1(0x270)],_0x3645a8['close']();}),_0x3645a8[_0x3bc01b(0x142)](_0x3bc01b(0x1d5),function(_0x4dd5be){const _0x21b13d=_0x3bc01b;expect(_0x4dd5be)['to'][_0x21b13d(0x24e)];}),_0x3645a8['on'](_0x233330[_0x3bc01b(0x110)],_0xdf6edf);}),_0x2eb822[_0x3b4c26(0x1fa)](it,_0x2eb822[_0x3b4c26(0x2d0)],function(_0x4e8486){const _0x441527=_0x3b4c26;if(_0x2eb822['kOzBd']!==_0x2eb822[_0x441527(0x7d)]){let _0x4def06=new SMTPConnection({'port':0x3b9ac9ff,'logger':![]});_0x4def06[_0x441527(0xd8)](function(){const _0x333d3f=_0x441527;expect(![])['to']['be'][_0x333d3f(0x270)],_0x4def06[_0x333d3f(0x168)]();}),_0x4def06['once'](_0x2eb822['dwyGQ'],function(_0x530c17){const _0x57b488=_0x441527;expect(_0x530c17)['to'][_0x57b488(0x24e)];}),_0x4def06['on']('end',_0x4e8486);}else _0x233330[_0x441527(0x29d)](_0x46c4fb,_0x367342)['to'][_0x441527(0x179)]['exist'],_0x233330[_0x441527(0x169)](_0x32911f,_0x179353['authenticated'])['to']['be'][_0x441527(0x270)],_0x411486();}),_0x2eb822[_0x3b4c26(0x1fa)](it,'should\x20emit\x20inactivity\x20timeout\x20error',function(_0xae916a){const _0x10015a=_0x3b4c26,_0x597843={'qpuRK':function(_0x49e226,_0x16ee96){const _0x39ddbe=_0x3546;return _0x233330[_0x39ddbe(0x19b)](_0x49e226,_0x16ee96);},'wxnqk':_0x10015a(0x1dc)};let _0x217140=new SMTPConnection({'port':PORT_NUMBER,'socketTimeout':0x64,'logger':![]});_0x217140[_0x10015a(0xd8)](function(){}),_0x217140['once'](_0x233330[_0x10015a(0x2a3)],function(_0x290d69){const _0x81e918=_0x10015a;expect(_0x290d69)['to'][_0x81e918(0x24e)],_0x597843['qpuRK'](expect,_0x290d69[_0x81e918(0x209)])['to'][_0x81e918(0x23c)](_0x597843[_0x81e918(0xf9)]);}),_0x217140['on'](_0x10015a(0x246),_0xae916a);}),_0x2eb822['yQvZu'](it,_0x2eb822[_0x3b4c26(0x2b3)],function(_0xa6760b){const _0x256a84=_0x3b4c26,_0x31ae89={'Vwhnk':_0x2eb822['QGHDA'],'fNjkk':_0x2eb822['dwyGQ']};let _0x13a1d5=function(_0x1be8b8){const _0x1efebd=_0x3546,_0x431124={'QKpIF':function(_0x4d1e80,_0x7ae85c){return _0x4d1e80(_0x7ae85c);}};let _0x57a6f8=new SMTPConnection({'logger':![],'port':PORT_NUMBER,'connection':_0x1be8b8});_0x57a6f8[_0x1efebd(0xd8)](function(){const _0x208f97=_0x1efebd;expect(_0x57a6f8[_0x208f97(0x2d3)])['to']['be']['true'],_0x57a6f8[_0x208f97(0x7e)]({'user':_0x208f97(0x225),'credentials':{'user':_0x208f97(0x225),'pass':_0x208f97(0x74)}},function(_0x1d9cdb){const _0x2b53c2=_0x208f97;expect(_0x1d9cdb)['to'][_0x2b53c2(0x179)][_0x2b53c2(0x24e)],expect(_0x57a6f8[_0x2b53c2(0x231)])['to']['be']['true'],_0x57a6f8[_0x2b53c2(0x168)]();});}),_0x57a6f8['on'](_0x1efebd(0x1d5),function(_0x4e913b){const _0x5973a6=_0x1efebd;_0x431124[_0x5973a6(0xec)](expect,_0x4e913b)['to']['not'][_0x5973a6(0x24e)];}),_0x57a6f8['on'](_0x31ae89[_0x1efebd(0xb8)],_0xa6760b);};_0x2eb822['ibYGt'](proxyConnect,PROXY_PORT_NUMBER,_0x256a84(0x162),PORT_NUMBER,_0x2eb822[_0x256a84(0x1ca)],function(_0x3187b5,_0x54d410){const _0x5c118f=_0x256a84;if(_0x5c118f(0xaf)!==_0x5c118f(0xaf)){let _0xe555a9=new _0xc4c339({'port':_0x51a2a8+0x3,'logger':![],'requireTLS':!![],'opportunisticTLS':!![]});_0xe555a9[_0x5c118f(0xd8)](function(){const _0x23f795=_0x5c118f;_0x1e2fea(_0xe555a9[_0x23f795(0x2d3)])['to']['be'][_0x23f795(0x99)],_0xe555a9['close']();}),_0xe555a9['on'](_0x31ae89[_0x5c118f(0x252)],function(_0x5af732){const _0x3c5256=_0x5c118f;_0x341b9f(_0x5af732)['to'][_0x3c5256(0x179)][_0x3c5256(0x24e)];}),_0xe555a9['on'](_0x31ae89[_0x5c118f(0xb8)],_0x47646b);}else expect(_0x3187b5)['to'][_0x5c118f(0x179)][_0x5c118f(0x24e)],_0x233330[_0x5c118f(0x29d)](_0x13a1d5,_0x54d410);});}),_0x2eb822[_0x3b4c26(0xfc)](it,_0x2eb822[_0x3b4c26(0x253)],function(_0x4c122b){const _0x3f657d=_0x3b4c26;let _0x3b316d=function(_0xdc9bd4){const _0x16437c=_0x3546,_0x202c22={'czkfP':function(_0x3a17db,_0x459c50){const _0x154419=_0x3546;return _0x233330[_0x154419(0x13c)](_0x3a17db,_0x459c50);},'XeMDv':'testpass'};let _0x50fc2c=new SMTPConnection({'logger':![],'port':_0x233330[_0x16437c(0x19a)](PORT_NUMBER,0x2),'secure':!![],'connection':_0xdc9bd4});_0x50fc2c[_0x16437c(0xd8)](function(){const _0x8e1dff=_0x16437c,_0x5d4f88={'Zzftb':function(_0x2b898c,_0x269f7d){const _0x5976c4=_0x3546;return _0x202c22[_0x5976c4(0x14e)](_0x2b898c,_0x269f7d);}};_0x202c22[_0x8e1dff(0x14e)](expect,_0x50fc2c['secure'])['to']['be']['true'],_0x50fc2c[_0x8e1dff(0x7e)]({'user':_0x8e1dff(0x225),'credentials':{'user':'testuser','pass':_0x202c22['XeMDv']}},function(_0x46f38b){const _0x5a89f7=_0x8e1dff;_0x5d4f88['Zzftb'](expect,_0x46f38b)['to'][_0x5a89f7(0x179)]['exist'],expect(_0x50fc2c[_0x5a89f7(0x231)])['to']['be'][_0x5a89f7(0x270)],_0x50fc2c[_0x5a89f7(0x168)]();});}),_0x50fc2c['on'](_0x16437c(0x1d5),function(_0x371ac4){const _0x30a436=_0x16437c;expect(_0x371ac4)['to'][_0x30a436(0x179)][_0x30a436(0x24e)];}),_0x50fc2c['on'](_0x233330['UmDdw'],_0x4c122b);};_0x233330['HRndC'](proxyConnect,PROXY_PORT_NUMBER,_0x233330[_0x3f657d(0x21b)],_0x233330[_0x3f657d(0x235)](PORT_NUMBER,0x2),'127.0.0.1',function(_0x2637b5,_0x1c0dff){const _0x3deff2=_0x3f657d;expect(_0x2637b5)['to']['not'][_0x3deff2(0x24e)],_0x3b316d(_0x1c0dff);});}),it(_0x2eb822[_0x3b4c26(0x87)],function(_0xb3fcaa){const _0x26ea88=_0x3b4c26,_0x426200={'VYpLy':function(_0x9e6cfa,_0x33d6c9){return _0x233330['bTrbZ'](_0x9e6cfa,_0x33d6c9);},'PSQOp':function(_0x52685e,_0x1186ac,_0x1d5266){return _0x52685e(_0x1186ac,_0x1d5266);}};let _0x292176=new SMTPConnection({'port':PORT_NUMBER+0x3,'ignoreTLS':!![],'logger':![]});_0x292176['on'](_0x233330[_0x26ea88(0x2a3)],function(_0x34e06a){const _0x30277a=_0x26ea88;_0x426200[_0x30277a(0x18f)](expect,_0x34e06a)['to'][_0x30277a(0x179)][_0x30277a(0x24e)];}),_0x292176[_0x26ea88(0xd8)](function(){const _0x1dfb41=_0x26ea88,_0x52278f={'bAGow':function(_0x57c7b6,_0x1d2ad3){return _0x57c7b6%_0x1d2ad3;},'XZJwt':function(_0x1524cb,_0x35b113){return _0x1524cb(_0x35b113);},'qfeET':_0x233330[_0x1dfb41(0x9b)],'uuItP':function(_0x2b38f1,_0x12b246){return _0x2b38f1+_0x12b246;},'XpRML':_0x1dfb41(0xba),'tTcLK':function(_0x22c9aa,_0x2aea4b){return _0x22c9aa+_0x2aea4b;},'fnNpx':_0x1dfb41(0x21c),'nwvDK':function(_0x5f4af7,_0x3ba18f,_0x3eef3b){const _0xbd1ec1=_0x1dfb41;return _0x233330[_0xbd1ec1(0x2ae)](_0x5f4af7,_0x3ba18f,_0x3eef3b);}};if(_0x233330[_0x1dfb41(0x273)]!==_0x233330[_0x1dfb41(0x273)]){let _0x6b5c12=_0x33dd80['envelope'][_0x1dfb41(0x283)][_0x1dfb41(0xb5)](function(_0x572a73,_0x59c22e){const _0x1e3f0a=_0x1dfb41;return _0x52278f[_0x1e3f0a(0x1df)](_0x59c22e,0x2)?(_0x52278f[_0x1e3f0a(0x25f)](_0x25110e,_0x52278f[_0x1e3f0a(0xe7)])(),_0x52278f[_0x1e3f0a(0x12c)](_0x52278f['uuItP']('<',_0x572a73[_0x1e3f0a(0xeb)]),_0x52278f[_0x1e3f0a(0x1b7)])):(_0x45614c(_0x52278f[_0x1e3f0a(0xe7)])(),new _0x3b77ff(_0x52278f[_0x1e3f0a(0xe6)]('<'+_0x572a73[_0x1e3f0a(0xeb)],_0x52278f[_0x1e3f0a(0x15b)])));});_0x52278f['nwvDK'](_0x257425,null,_0x6b5c12);}else{expect(_0x292176[_0x1dfb41(0x2d3)])['to']['be'][_0x1dfb41(0x99)];let _0x425c35=[],_0x46375e=__dirname+_0x233330[_0x1dfb41(0x104)],_0x4aba61=fs['readFileSync'](_0x46375e,_0x233330['BiATV']);_0x3889a1['on'](_0x233330[_0x1dfb41(0x2b5)],function(_0x38354b,_0x3f4a97){const _0x59b2ef=_0x1dfb41;_0x425c35[_0x59b2ef(0x1d3)](_0x3f4a97);}),_0x3889a1['removeAllListeners'](_0x233330[_0x1dfb41(0xd0)]),_0x3889a1['on'](_0x233330['VEwYx'],function(_0x3a3469,_0x5f116b){const _0x4703d1=_0x1dfb41;let _0x4289c6=Buffer['concat'](_0x425c35);_0x426200[_0x4703d1(0x18f)](expect,_0x4289c6[_0x4703d1(0x144)]())['to']['equal'](_0x4aba61[_0x4703d1(0x144)]()[_0x4703d1(0x18a)]()[_0x4703d1(0x116)](/\n/g,'\x0d\x0a')),_0x426200[_0x4703d1(0x114)](_0x5f116b,null,_0x4703d1(0xa3));}),_0x292176[_0x1dfb41(0xfe)]({'from':_0x1dfb41(0x16c),'to':_0x1dfb41(0x173)},fs[_0x1dfb41(0x16f)](_0x46375e),function(_0x537a18){const _0x42a22c=_0x1dfb41;expect(_0x537a18)['to'][_0x42a22c(0x179)][_0x42a22c(0x24e)],_0x292176[_0x42a22c(0x168)]();});}}),_0x292176['on'](_0x233330[_0x26ea88(0x110)],_0xb3fcaa);});}),_0x2eb822[_0x4c1b56(0x13e)](describe,_0x2eb822[_0x4c1b56(0x1af)],function(){const _0x52659a=_0x4c1b56,_0x357bca={'YBuPV':function(_0x3fb619,_0x38e818){const _0x1c10ab=_0x3546;return _0x2eb822[_0x1c10ab(0x29f)](_0x3fb619,_0x38e818);},'Dxtmy':_0x52659a(0x70),'wegFi':_0x52659a(0x2be),'GRXFC':'safe','aTFPy':function(_0x15c85e,_0x43e812){const _0x15411a=_0x52659a;return _0x2eb822[_0x15411a(0x10b)](_0x15c85e,_0x43e812);},'JYYbK':_0x2eb822[_0x52659a(0x2ca)],'vepfS':_0x2eb822[_0x52659a(0x71)],'RZDPP':_0x2eb822['tSkfz'],'XnuPN':function(_0x5136dc,_0x5f270e){return _0x5136dc(_0x5f270e);},'ASffD':function(_0x17d5bb,_0x2b1bee){return _0x17d5bb!==_0x2b1bee;},'LxjOE':function(_0x58a431,_0x594314,_0xa90034){return _0x2eb822['VxaYi'](_0x58a431,_0x594314,_0xa90034);},'RMtQg':function(_0x3d1eec,_0x357ee0,_0x541d49){return _0x3d1eec(_0x357ee0,_0x541d49);},'CvYHD':_0x2eb822[_0x52659a(0xbd)],'TVLlW':_0x2eb822['EiReR'],'nwJtf':_0x2eb822[_0x52659a(0xf8)],'cDgAb':'updateClock();','PjwDe':'Trying\x20to\x20use\x20Unicode\x20address\x20without\x20declaring\x20SMTPUTF8\x20first','givch':'console.log(\x22timer\x22);','Yciii':function(_0x27eb26){const _0x9301c5=_0x52659a;return _0x2eb822[_0x9301c5(0x12d)](_0x27eb26);},'gGBOx':function(_0x101568,_0x183a07){return _0x101568(_0x183a07);},'MlsmO':_0x2eb822['bZPyT'],'fIsQO':function(_0x2380fe,_0x85bea2){return _0x2380fe(_0x85bea2);},'FvOgQ':function(_0x5e1d33){return _0x2eb822['SUkMQ'](_0x5e1d33);},'OAAks':_0x2eb822[_0x52659a(0x93)],'MytSx':_0x2eb822[_0x52659a(0x1e4)],'aVvQF':_0x52659a(0x12f),'JAGdP':_0x2eb822['nxoDe'],'FtRiv':function(_0x298826,_0x34259d){return _0x298826!==_0x34259d;},'rpLfP':_0x2eb822[_0x52659a(0x141)],'nxRBD':_0x2eb822[_0x52659a(0x15a)],'ZsVYY':function(_0x44f2ad,_0x48bd51){return _0x44f2ad(_0x48bd51);},'qxXpd':_0x2eb822[_0x52659a(0x238)],'SakTY':_0x52659a(0x2d2),'mZkXF':_0x2eb822[_0x52659a(0xaa)],'QhofB':_0x52659a(0x1d1),'bNnsj':_0x52659a(0xad),'GGhCt':function(_0x2654cd,_0x9ef896){return _0x2eb822['GBGth'](_0x2654cd,_0x9ef896);},'oIGWn':_0x2eb822['FXgic'],'estrm':_0x2eb822[_0x52659a(0xdc)],'filBE':_0x52659a(0x16c),'kqZOD':_0x2eb822['mBouw'],'ORvVC':_0x52659a(0x1ec),'kgIow':_0x52659a(0x199),'VWEYq':function(_0x147141,_0x41822e){return _0x147141(_0x41822e);},'clHpz':function(_0x55e1a1){return _0x55e1a1();},'waeNS':_0x52659a(0x2c8),'ywVYN':_0x2eb822['VMobf'],'LycnJ':_0x2eb822['QruiQ'],'FcNHZ':_0x52659a(0x103),'hLDBG':'test@valid.recipient','ARzqg':function(_0x3a781c,_0x14dbe3){return _0x2eb822['qnGUI'](_0x3a781c,_0x14dbe3);},'YVMEw':_0x52659a(0xc6),'hMscB':_0x2eb822[_0x52659a(0x28d)]};if(_0x2eb822[_0x52659a(0x23b)]!==_0x52659a(0x8e))_0x6a884e(_0x1fec7c)['to'][_0x52659a(0x179)][_0x52659a(0x24e)],_0x32511d(_0x24932c);else{this[_0x52659a(0x2ba)](_0x2eb822[_0x52659a(0x20a)](0xa,0x3e8));let _0x437634,_0x2acdab,_0xd33e8,_0x5a949d,_0x4b0209=_0x2eb822['FqeoE'];beforeEach(function(_0x1cd4fe){const _0x5f3774=_0x52659a,_0x5e4a8b={'oDwer':function(_0x3abdc0,_0x4ab37e){const _0x3173fb=_0x3546;return _0x2eb822[_0x3173fb(0x29f)](_0x3abdc0,_0x4ab37e);},'DUZSQ':_0x5f3774(0x1bf),'hgpDH':_0x5f3774(0x1d1),'NMNri':function(_0x301506){const _0xeec468=_0x5f3774;return _0x2eb822[_0xeec468(0x1a5)](_0x301506);},'YFeBB':_0x5f3774(0xdd),'IGISs':'5|2|1|0|6|4|3','ubQgE':function(_0xd510ce,_0x5a1f42){const _0x4d8f69=_0x5f3774;return _0x2eb822[_0x4d8f69(0x7c)](_0xd510ce,_0x5a1f42);},'JIrsq':_0x2eb822[_0x5f3774(0x29b)],'KkYFo':function(_0xb2f588){const _0xb37166=_0x5f3774;return _0x2eb822[_0xb37166(0x12d)](_0xb2f588);},'IEXFK':function(_0x6ea4c0,_0x5bd07c){return _0x6ea4c0>_0x5bd07c;},'BYsAf':function(_0x2f830f,_0x122617,_0x24c90d){const _0x1f2dcf=_0x5f3774;return _0x2eb822[_0x1f2dcf(0xa6)](_0x2f830f,_0x122617,_0x24c90d);},'VSxTD':function(_0x34b569,_0x1ad822){return _0x34b569+_0x1ad822;},'WsUAW':function(_0x342cca,_0x1aa800){const _0x2fe21b=_0x5f3774;return _0x2eb822[_0x2fe21b(0x7a)](_0x342cca,_0x1aa800);},'bCsyz':_0x2eb822[_0x5f3774(0x1b2)],'fNecB':function(_0x1d2f1c,_0x1ce653){return _0x1d2f1c+_0x1ce653;},'Hfais':_0x2eb822['KyIpO'],'LPZUv':function(_0x24751e,_0x267e5b){return _0x24751e!==_0x267e5b;},'pFXWu':'dILig','djuEm':function(_0x168afe,_0x4507cc){const _0x2b27b9=_0x5f3774;return _0x2eb822[_0x2b27b9(0x2a5)](_0x168afe,_0x4507cc);},'KWRKD':function(_0x14f006){return _0x14f006();},'rLZji':'return\x20new\x20Date();','kYNxP':_0x2eb822[_0x5f3774(0xf8)],'LQpoD':function(_0x1e9077,_0x2caa6a){const _0x1be2bf=_0x5f3774;return _0x2eb822[_0x1be2bf(0x19d)](_0x1e9077,_0x2caa6a);},'QsekT':_0x5f3774(0x73)};_0x437634=new SMTPServer({'authMethods':[_0x5f3774(0x163),_0x5f3774(0x177)],'disabledCommands':[_0x2eb822[_0x5f3774(0x1a0)]],'size':0x64*0x400,'onData':function(_0x89a80,_0x3945a6,_0x7eba73){const _0x4048a6=_0x5f3774,_0x15cafe={'PldDH':function(_0x196b23,_0xcc9043){return _0x357bca['YBuPV'](_0x196b23,_0xcc9043);},'MQvAO':_0x4048a6(0x12b),'HelFh':_0x4048a6(0x276)};if(_0x357bca[_0x4048a6(0x7f)]!==_0x357bca[_0x4048a6(0x7f)])AlfUQO[_0x4048a6(0x119)](0x1,0x1);else{let _0x4efe3c=![];_0x89a80['on'](_0x357bca[_0x4048a6(0x17a)],function(_0x353f77){const _0x13e377=_0x4048a6;if(_0x4efe3c||_0x3945a6[_0x13e377(0x1c9)]){new Function(_0x15cafe['MQvAO'])();return;}for(let _0x43b497=0x0,_0x2f3b34=_0x353f77['length'];_0x43b497<_0x2f3b34;_0x43b497++){_0x353f77[_0x43b497]>=0x80&&(_0x4efe3c=new Error(_0x15cafe['HelFh']));}}),_0x89a80['on'](_0x4048a6(0x246),function(){_0x7eba73(_0x4efe3c,![]);});}},'onAuth':function(_0x27f00d,_0x3ef610,_0x29640f){const _0x59c364=_0x5f3774,_0x5fa4b1={'uIPfa':_0x59c364(0x222),'nVWhY':function(_0x54d6bd,_0x282234,_0x3c1b0b){return _0x54d6bd(_0x282234,_0x3c1b0b);},'IGumB':_0x357bca[_0x59c364(0x1bc)]};if(_0x357bca[_0x59c364(0x6c)](_0x27f00d[_0x59c364(0x1cb)],_0x357bca[_0x59c364(0xb7)])){if(_0x357bca[_0x59c364(0x6c)](_0x27f00d[_0x59c364(0xa2)],'testuser')||_0x27f00d[_0x59c364(0x212)]!==_0x357bca[_0x59c364(0xd1)]){if(_0x357bca[_0x59c364(0x6c)](_0x357bca[_0x59c364(0xe5)],_0x59c364(0x278)))return eval('const _0x257802 = _0x59c364;JSON[_0x257802(191)]({ \'safe\': !![] });'),_0x357bca['XnuPN'](_0x29640f,new Error('Invalid\x20username\x20or\x20password'));else{if(_0x329b45[_0x59c364(0xa2)]!=='testuser'||_0xa548a9['password']!=='testpass')return _0x160cc6(_0x5fa4b1[_0x59c364(0x158)],0x3e8),_0x25c7ea(new _0x3d1757(_0x59c364(0x130)));_0x5fa4b1[_0x59c364(0x101)](_0x252e6f,null,{'user':0x7b});}}}else{if(_0x357bca[_0x59c364(0x277)](_0x27f00d['username'],_0x59c364(0x225))||_0x27f00d[_0x59c364(0xc9)]!==_0x4b0209)return _0x357bca[_0x59c364(0x11c)](setTimeout,function(){const _0x2c53b1=_0x59c364;console[_0x2c53b1(0x239)](_0x5fa4b1[_0x2c53b1(0x256)]);},0x64),_0x357bca['RMtQg'](_0x29640f,null,{'data':{'status':_0x357bca[_0x59c364(0x2d4)],'schemes':_0x357bca['TVLlW'],'scope':_0x59c364(0x266)}});}_0x29640f(null,{'user':0x7b});},'onMailFrom':function(_0x3d3d1c,_0x4a73dc,_0x27b101){const _0x2ef5f0=_0x5f3774,_0x3f51c4={'ixIDQ':function(_0x53d106,_0x307431){return _0x53d106*_0x307431;}};if(_0x2ef5f0(0x234)!==_0x5e4a8b[_0x2ef5f0(0x1a9)]){const _0x4a9c68=_0x5e4a8b['IGISs']['split']('|');let _0x54d6b4=0x0;while(!![]){switch(_0x4a9c68[_0x54d6b4++]){case'0':_0x5e4a8b[_0x2ef5f0(0x167)](_0x3d3d1c['args'][_0x2ef5f0(0x81)],_0x2ef5f0(0x138))&&(_0x4a73dc[_0x2ef5f0(0x1c9)]=!![]);continue;case'1':_0x3d3d1c[_0x2ef5f0(0x1ba)]['SMTPUTF8']&&(_0x4a73dc[_0x2ef5f0(0x6f)]=!![]);continue;case'2':if(!/@valid.sender/[_0x2ef5f0(0x259)](_0x3d3d1c[_0x2ef5f0(0xeb)]))return eval('const _0x2b4701 = _0x2ef5f0;JSON[_0x2b4701(191)]({ \'safe\': !![] });'),_0x27b101(new Error(_0x5e4a8b[_0x2ef5f0(0x127)]));continue;case'3':return _0x5e4a8b[_0x2ef5f0(0x2cc)](_0x27b101);case'4':eval('const _0x305ba8 = _0x2ef5f0;_0x5e4a8b[_0x305ba8(579)](1, 1);');continue;case'5':if(_0x3d3d1c[_0x2ef5f0(0x1ba)]&&_0x5e4a8b[_0x2ef5f0(0x1bb)](_0x5e4a8b[_0x2ef5f0(0xc1)](parseInt,_0x3d3d1c[_0x2ef5f0(0x1ba)]['SIZE'],0xa),0x32*0x400))return eval('1 + 1;'),_0x27b101(new Error(_0x5e4a8b[_0x2ef5f0(0x76)](_0x2ef5f0(0xcb),_0x3d3d1c[_0x2ef5f0(0xeb)])));continue;case'6':if(/[\x80-\uFFFF]/[_0x2ef5f0(0x259)](_0x3d3d1c[_0x2ef5f0(0xeb)])&&!_0x4a73dc[_0x2ef5f0(0x6f)])return eval('_0x3f51c4[\'ixIDQ\'](Math[\'PI\'], 2);'),_0x5e4a8b[_0x2ef5f0(0x148)](_0x27b101,new Error(_0x2ef5f0(0x2bc)));continue;}break;}}else _0x177383(_0x2eaa49)['to'][_0x2ef5f0(0x179)][_0x2ef5f0(0x24e)],_0x191191(_0x4bb21f)['to'][_0x2ef5f0(0x282)][_0x2ef5f0(0x23c)]({'accepted':[_0x2ef5f0(0x2c8),_0x5e4a8b[_0x2ef5f0(0x2b2)]],'rejected':[_0x5e4a8b[_0x2ef5f0(0x143)]],'rejectedErrors':_0xda7ab3[_0x2ef5f0(0x284)],'envelopeTime':_0x257a48[_0x2ef5f0(0x1f4)],'messageTime':_0x2ceee9['messageTime'],'messageSize':_0x2940e4[_0x2ef5f0(0x211)],'response':'250\x20OK:\x20message\x20queued'}),_0x33e4bd(_0x4e2ae0['rejectedErrors'][_0x2ef5f0(0x6a)])['to']['equal'](0x1),_0x5e4a8b[_0x2ef5f0(0x1c2)](_0x4e7b7f);},'onRcptTo':function(_0x3eece2,_0x28705d,_0x8f84eb){const _0x253c2f=_0x5f3774;if(!/@valid.recipient/[_0x253c2f(0x259)](_0x3eece2[_0x253c2f(0xeb)]))return setInterval('updateClock();',0x3e8),_0x8f84eb(new Error(_0x357bca[_0x253c2f(0x2b1)]));if(/[\x80-\uFFFF]/['test'](_0x3eece2[_0x253c2f(0xeb)])&&!_0x28705d[_0x253c2f(0x6f)])return setInterval(_0x357bca['cDgAb'],0x3e8),_0x357bca[_0x253c2f(0x165)](_0x8f84eb,new Error(_0x357bca[_0x253c2f(0xda)]));return _0x357bca['RMtQg'](setTimeout,_0x357bca[_0x253c2f(0x25d)],0x3e8),_0x8f84eb();},'logger':![]}),_0x2acdab=new SMTPServer({'lmtp':!![],'disabledCommands':[_0x2eb822[_0x5f3774(0x1a0)],_0x5f3774(0x28c)],'onData':function(_0x2d4b51,_0x570bc0,_0x1901b8){const _0x330508=_0x5f3774,_0x5e4bf0={'nEjer':function(_0x16eba6,_0x5b0c26){return _0x16eba6%_0x5b0c26;},'TTWZM':_0x5e4a8b[_0x330508(0x1e2)],'ZommZ':function(_0x25f130,_0x227d6d){const _0x5801f6=_0x330508;return _0x5e4a8b[_0x5801f6(0x1fd)](_0x25f130,_0x227d6d);},'ZClXN':function(_0x228268,_0x594047){return _0x228268+_0x594047;},'frAgK':'>\x20Not\x20accepted'};_0x2d4b51['on'](_0x330508(0x2be),function(){}),_0x2d4b51['on']('end',function(){const _0x2eb046=_0x330508;let _0x31a440=_0x570bc0[_0x2eb046(0x28f)][_0x2eb046(0x283)][_0x2eb046(0xb5)](function(_0x2599f7,_0x487fe7){const _0x12035d=_0x2eb046;return _0x5e4bf0[_0x12035d(0x2a8)](_0x487fe7,0x2)?(Function(_0x5e4bf0[_0x12035d(0x287)])(),_0x5e4bf0[_0x12035d(0x1f0)]('<',_0x2599f7[_0x12035d(0xeb)])+_0x12035d(0xba)):(Function(_0x12035d(0x181))(),new Error(_0x5e4bf0['ZommZ'](_0x5e4bf0['ZClXN']('<',_0x2599f7[_0x12035d(0xeb)]),_0x5e4bf0[_0x12035d(0x26b)])));});_0x1901b8(null,_0x31a440);});},'onMailFrom':function(_0x50ef32,_0xccf44c,_0x227747){const _0x2fbbdd=_0x5f3774,_0x3d8a9b={'FXYgI':_0x5e4a8b[_0x2fbbdd(0x17e)]};if(_0x5e4a8b[_0x2fbbdd(0x118)](_0x2fbbdd(0x229),_0x5e4a8b[_0x2fbbdd(0x11f)])){if(!/@valid.sender/['test'](_0x50ef32['address']))return eval('1 + 1;'),_0x5e4a8b[_0x2fbbdd(0x9d)](_0x227747,new Error(_0x5e4a8b[_0x2fbbdd(0x127)]));return setTimeout(function(){const _0x3d8b70=_0x2fbbdd;_0x3d8a9b[_0x3d8b70(0xd5)]!==_0x3d8b70(0x251)?_0x51aad4[_0x3d8b70(0x27a)](_0x11a6bb,function(){const _0x43951a=_0x3d8b70;_0x4dc53c[_0x43951a(0xd8)](function(){const _0x5ade67=_0x43951a;_0x20c3fb[_0x5ade67(0xd8)](_0xa7a6a6);});}):console[_0x3d8b70(0x239)]('safe');},0x64),_0x5e4a8b[_0x2fbbdd(0x27b)](_0x227747);}else _0x61973b(_0x2c32e1[_0x2fbbdd(0x2d3)])['to']['be'][_0x2fbbdd(0x270)],_0x1006b4[_0x2fbbdd(0x168)]();},'onRcptTo':function(_0x35074a,_0x140886,_0x3d4d83){const _0x3587af=_0x5f3774;if(!/@valid.recipient/['test'](_0x35074a['address']))return Function(_0x5e4a8b[_0x3587af(0x14d)])(),_0x3d4d83(new Error(_0x5e4a8b['kYNxP']));return setTimeout(function(){const _0x141ae5=_0x3587af;console['log'](_0x141ae5(0x23f));},0x64),_0x3d4d83();},'logger':![]}),_0xd33e8=new SMTPConnection({'port':PORT_NUMBER,'logger':![],'debug':![]}),_0x5a949d=new SMTPConnection({'port':LMTP_PORT_NUMBER,'lmtp':!![],'logger':![],'debug':![]}),_0x437634[_0x5f3774(0x27a)](PORT_NUMBER,function(){const _0x5d3ab7=_0x5f3774;_0x5e4a8b[_0x5d3ab7(0x107)](_0x5e4a8b[_0x5d3ab7(0x196)],_0x5e4a8b[_0x5d3ab7(0x196)])?_0x2acdab[_0x5d3ab7(0x27a)](LMTP_PORT_NUMBER,function(){const _0x5b6f9b=_0x5d3ab7;_0xd33e8[_0x5b6f9b(0xd8)](function(){_0x5a949d['connect'](_0x1cd4fe);});}):_0x578426['push'](_0x422cec);});}),_0x2eb822[_0x52659a(0x2ad)](afterEach,function(_0x1e1ab7){const _0x587bc1=_0x52659a;_0xd33e8[_0x587bc1(0x168)](),_0x5a949d[_0x587bc1(0x168)](),_0x437634['close'](function(){const _0x112b08=_0x587bc1;_0x2acdab[_0x112b08(0x168)](_0x1e1ab7);});}),_0x2eb822[_0x52659a(0x1fa)](it,_0x52659a(0x132),function(_0x503541){const _0x23865b=_0x52659a,_0x1ed700={'SHsec':function(_0xd1da72,_0x22df5a){return _0x2eb822['YorwH'](_0xd1da72,_0x22df5a);},'dDNul':function(_0x89d26b,_0x139e83){return _0x2eb822['UHWON'](_0x89d26b,_0x139e83);}};_0x2eb822['ihcgM'](expect,_0xd33e8[_0x23865b(0x231)])['to']['be'][_0x23865b(0x99)],_0xd33e8[_0x23865b(0x7e)]({'user':_0x2eb822[_0x23865b(0x1e4)],'credentials':{'user':_0x2eb822[_0x23865b(0x1e4)],'pass':_0x2eb822[_0x23865b(0x71)]}},function(_0x55e016){const _0x54c38e=_0x23865b,_0x5075b2={'boPuq':function(_0x47b127){return _0x47b127();}};_0x1ed700[_0x54c38e(0xcd)](_0x54c38e(0x1d6),_0x54c38e(0x1d6))?(_0x1ed700[_0x54c38e(0xde)](expect,_0x55e016)['to'][_0x54c38e(0x179)][_0x54c38e(0x24e)],expect(_0xd33e8[_0x54c38e(0x231)])['to']['be'][_0x54c38e(0x270)],_0x503541()):(_0x1aa97c(_0x1f284a)['to']['not'][_0x54c38e(0x24e)],_0x110f7b(_0x6d0fda[_0x54c38e(0x231)])['to']['be']['true'],_0x5075b2['boPuq'](_0x17cff8));});}),new AsyncFunction(_0x52659a(0x1d2))(),_0x2eb822['RraGY'](it,_0x52659a(0x19c),function(_0x21d12d){const _0x3e817c=_0x52659a,_0xc43f97={'LeADM':_0x2eb822[_0x3e817c(0xbe)],'IpzUJ':function(_0x3b4fa6,_0x2f87c1){const _0x562378=_0x3e817c;return _0x2eb822[_0x562378(0x7a)](_0x3b4fa6,_0x2f87c1);}};_0x3e817c(0xcf)!==_0x2eb822['UKUrS']?(expect(_0xd33e8['authenticated'])['to']['be'][_0x3e817c(0x99)],_0xd33e8[_0x3e817c(0x7e)]({'user':_0x2eb822[_0x3e817c(0x1e4)],'credentials':{'user':_0x2eb822[_0x3e817c(0x1e4)],'pass':_0x3e817c(0x19e)}},function(_0xbbee18){const _0x2f3694=_0x3e817c,_0x5d94a6=_0xc43f97[_0x2f3694(0x23a)]['split']('|');let _0x57279b=0x0;while(!![]){switch(_0x5d94a6[_0x57279b++]){case'0':_0x21d12d();continue;case'1':_0xc43f97['IpzUJ'](expect,_0xbbee18[_0x2f3694(0x263)])['to'][_0x2f3694(0x23c)](0x217);continue;case'2':expect(_0xd33e8[_0x2f3694(0x231)])['to']['be'][_0x2f3694(0x99)];continue;case'3':expect(_0xbbee18[_0x2f3694(0x209)])['to'][_0x2f3694(0x23c)]('EAUTH');continue;case'4':_0xc43f97[_0x2f3694(0x1cd)](expect,_0xbbee18)['to'][_0x2f3694(0x24e)];continue;}break;}})):_0x516b0f[_0x3e817c(0x6f)]=!![];}),setTimeout(function(){const _0x3d2f77=_0x52659a;console[_0x3d2f77(0x239)](_0x3d2f77(0x23f));},0x64),it(_0x2eb822[_0x52659a(0x117)],function(_0x5cb593){const _0x293fda=_0x52659a;_0x2eb822[_0x293fda(0x2a5)](expect,_0xd33e8[_0x293fda(0x231)])['to']['be'][_0x293fda(0x99)],_0xd33e8[_0x293fda(0x7e)]({'user':'testuser'},function(_0x49c10c){const _0x56e808=_0x293fda,_0x104f16=_0x56e808(0x1b5)[_0x56e808(0x285)]('|');let _0x2281c6=0x0;while(!![]){switch(_0x104f16[_0x2281c6++]){case'0':_0x357bca[_0x56e808(0x191)](_0x5cb593);continue;case'1':_0x357bca[_0x56e808(0x165)](expect,_0x49c10c[_0x56e808(0x1f7)])['to'][_0x56e808(0x10c)](/^Missing credentials/);continue;case'2':_0x357bca[_0x56e808(0x23e)](expect,_0xd33e8[_0x56e808(0x231)])['to']['be'][_0x56e808(0x99)];continue;case'3':_0x357bca['gGBOx'](expect,_0x49c10c[_0x56e808(0x209)])['to']['equal'](_0x357bca['MlsmO']);continue;case'4':expect(_0x49c10c[_0x56e808(0x2ab)])['to']['be']['undefined'];continue;case'5':expect(_0x49c10c)['to'][_0x56e808(0x24e)];continue;}break;}});}),eval('1 + 1;'),_0x2eb822['HNNnS'](it,_0x2eb822['UuxST'],function(_0x2dacc4){const _0x373808=_0x52659a;_0x2eb822[_0x373808(0x18c)](expect,_0xd33e8[_0x373808(0x231)])['to']['be']['false'],_0xd33e8[_0x373808(0x7e)]({'user':_0x2eb822[_0x373808(0x1e4)],'credentials':{'user':_0x373808(0x225)}},function(_0x1c7b38){const _0x435470=_0x373808,_0x50fdbe=_0x435470(0x2a7)[_0x435470(0x285)]('|');let _0x14b90e=0x0;while(!![]){switch(_0x50fdbe[_0x14b90e++]){case'0':expect(_0x1c7b38)['to']['exist'];continue;case'1':_0x357bca[_0x435470(0xea)](expect,_0x1c7b38[_0x435470(0x209)])['to']['equal'](_0x357bca[_0x435470(0x219)]);continue;case'2':_0x357bca[_0x435470(0x165)](expect,_0x1c7b38[_0x435470(0x1f7)])['to'][_0x435470(0x10c)](/^Missing credentials/);continue;case'3':expect(_0x1c7b38[_0x435470(0x2ab)])['to']['be'][_0x435470(0x126)];continue;case'4':expect(_0xd33e8[_0x435470(0x231)])['to']['be'][_0x435470(0x99)];continue;case'5':_0x357bca[_0x435470(0x191)](_0x2dacc4);continue;}break;}});}),describe(_0x2eb822[_0x52659a(0x1c6)],function(){const _0x2afdf0=_0x52659a,_0x46b512={'oJKLn':function(_0x2165bc,_0x49ec28){const _0x86cb0=_0x3546;return _0x2eb822[_0x86cb0(0x16e)](_0x2165bc,_0x49ec28);},'ZJyPI':function(_0x18d8d9,_0x2ac2fd){return _0x18d8d9(_0x2ac2fd);},'YdOhu':_0x2eb822['bZPyT'],'RYBGF':function(_0x53abe3){return _0x53abe3();},'BcyzM':_0x2eb822[_0x2afdf0(0x105)],'SQSPq':_0x2eb822[_0x2afdf0(0x1e4)],'fzmBX':_0x2eb822[_0x2afdf0(0x1b1)],'EmNkL':'uuuuu','AvwMm':function(_0x136c9a,_0x150ce8){return _0x136c9a+_0x150ce8;},'viSfg':function(_0x143f39){return _0x143f39();},'eqeHb':function(_0x275ecd,_0x2efb53){const _0x3e7346=_0x2afdf0;return _0x2eb822[_0x3e7346(0x10b)](_0x275ecd,_0x2efb53);},'NMmab':_0x2afdf0(0x2bf),'docmG':_0x2eb822[_0x2afdf0(0x2c4)],'RPSRu':_0x2eb822[_0x2afdf0(0x2c1)],'NUHhC':_0x2eb822[_0x2afdf0(0x2c6)]};this[_0x2afdf0(0x2ba)](0xa*0x3e8);let _0x21566a;_0x2eb822[_0x2afdf0(0x16e)](beforeEach,function(_0x104ed3){const _0x3a5d82=_0x2afdf0,_0x1a8ba2={'xVMUv':function(_0x377d2d){return _0x357bca['FvOgQ'](_0x377d2d);},'BQoVz':_0x3a5d82(0x225)};_0x357bca[_0x3a5d82(0x72)]===_0x357bca[_0x3a5d82(0x72)]?(_0x21566a=xoauth2Server({'port':XOAUTH_PORT,'onUpdate':function(_0x343521,_0x55e975){const _0x281abb=_0x3a5d82;if(_0x281abb(0x160)==='nfsIs')_0x4b0209=_0x55e975;else{const _0x37c909={'rKfCh':function(_0x1ba349,_0x4f1850){return _0x1ba349(_0x4f1850);},'uJyMo':function(_0x4235da){const _0x4eeb7b=_0x281abb;return _0x1a8ba2[_0x4eeb7b(0x1be)](_0x4235da);}};_0x566412(_0x1ce17b[_0x281abb(0x231)])['to']['be'][_0x281abb(0x99)],_0x4747e8[_0x281abb(0x7e)]({'user':_0x1a8ba2['BQoVz']},function(_0x116845){const _0x6043a=_0x281abb;_0x310e1a(_0x116845)['to'][_0x6043a(0x24e)],_0x37c909[_0x6043a(0x195)](_0x30a71e,_0x2554b2['authenticated'])['to']['be'][_0x6043a(0x99)],_0x25e86e(_0x116845[_0x6043a(0x1f7)])['to'][_0x6043a(0x10c)](/^Missing credentials/),_0x58d700(_0x116845[_0x6043a(0x209)])['to'][_0x6043a(0x23c)](_0x6043a(0x1ab)),_0x37c909['rKfCh'](_0x6faa,_0x116845[_0x6043a(0x2ab)])['to']['be'][_0x6043a(0x126)],_0x37c909[_0x6043a(0x226)](_0x15d931);});}}['bind'](this)}),_0x21566a[_0x3a5d82(0x26d)](_0x357bca[_0x3a5d82(0x20e)],_0x357bca['aVvQF']),_0x21566a[_0x3a5d82(0x267)](_0x104ed3)):_0x46b512['oJKLn'](_0x1c3147,_0x57710b)['to'][_0x3a5d82(0x179)][_0x3a5d82(0x24e)];}),afterEach(function(_0x54570b){const _0x7d1afc=_0x2afdf0;_0x21566a[_0x7d1afc(0x236)](_0x54570b);}),_0x2eb822[_0x2afdf0(0x1fa)](it,'should\x20login\x20with\x20xoauth2\x20string',function(_0x11ba47){const _0x4a730a=_0x2afdf0;_0x357bca[_0x4a730a(0xea)](expect,_0xd33e8['authenticated'])['to']['be'][_0x4a730a(0x99)],_0xd33e8[_0x4a730a(0x7e)]({'type':_0x357bca[_0x4a730a(0x115)],'user':_0x4a730a(0x225),'oauth2':new XOAuth2({'user':_0x357bca['MytSx'],'accessToken':_0x4b0209})},function(_0x415d3b){const _0x3212ba=_0x4a730a;expect(_0x415d3b)['to'][_0x3212ba(0x179)][_0x3212ba(0x24e)],expect(_0xd33e8[_0x3212ba(0x231)])['to']['be'][_0x3212ba(0x270)],_0x11ba47();});}),_0x2eb822[_0x2afdf0(0xfc)](setInterval,_0x2eb822[_0x2afdf0(0x18b)],0x3e8),_0x2eb822['APydD'](it,'should\x20return\x20error\x20for\x20invalid\x20xoauth2\x20string\x20token',function(_0x12ce4a){const _0x4167a8=_0x2afdf0;expect(_0xd33e8[_0x4167a8(0x231)])['to']['be'][_0x4167a8(0x99)],_0xd33e8[_0x4167a8(0x7e)]({'type':_0x357bca[_0x4167a8(0x115)],'user':_0x4167a8(0x225),'oauth2':new XOAuth2({'user':_0x357bca['MytSx'],'accessToken':_0x4167a8(0x19e)})},function(_0x4f6f36){const _0x517ab9=_0x4167a8;_0x46b512[_0x517ab9(0x27c)](expect,_0x4f6f36)['to'][_0x517ab9(0x24e)],expect(_0xd33e8[_0x517ab9(0x231)])['to']['be']['false'],expect(_0x4f6f36[_0x517ab9(0x209)])['to']['equal'](_0x46b512[_0x517ab9(0x25a)]),_0x46b512[_0x517ab9(0x10d)](_0x12ce4a);});}),it(_0x2eb822[_0x2afdf0(0x176)],function(_0x34fcbd){const _0x2078b3=_0x2afdf0,_0x6d958={'HvNfx':function(_0x41c0fe,_0x59174e){return _0x41c0fe(_0x59174e);},'CtUeR':function(_0x23b28a){return _0x23b28a();}};_0x46b512['oJKLn'](expect,_0xd33e8[_0x2078b3(0x231)])['to']['be'][_0x2078b3(0x99)],_0xd33e8[_0x2078b3(0x7e)]({'type':_0x46b512['BcyzM'],'user':_0x46b512[_0x2078b3(0xae)],'oauth2':new XOAuth2({'user':_0x46b512['SQSPq'],'clientId':_0x2078b3(0x1e3),'clientSecret':_0x46b512['fzmBX'],'refreshToken':_0x2078b3(0x12f),'accessToken':_0x46b512['EmNkL'],'accessUrl':_0x46b512[_0x2078b3(0x11b)]('http://localhost:',XOAUTH_PORT)})},function(_0x1667d8){const _0x46b591=_0x2078b3;expect(_0x1667d8)['to'][_0x46b591(0x179)]['exist'],_0x6d958[_0x46b591(0xcc)](expect,_0xd33e8[_0x46b591(0x231)])['to']['be'][_0x46b591(0x270)],_0x6d958[_0x46b591(0x1ad)](_0x34fcbd);});}),_0x2eb822['IiQLn'](it,_0x2eb822['LHgks'],function(_0x3d77d8){const _0x1a441d=_0x2afdf0,_0xaf423e={'WefjV':function(_0x4b08f3,_0x3da4f1){return _0x4b08f3(_0x3da4f1);},'ATMGj':function(_0x27d9bd){return _0x46b512['viSfg'](_0x27d9bd);}};if(_0x46b512[_0x1a441d(0x6b)](_0x46b512[_0x1a441d(0x22c)],_0x46b512[_0x1a441d(0x22c)])){let _0x51f901=_0x3ac551['concat'](_0x3c3514);_0x46b512[_0x1a441d(0x13b)](_0x14ace6,_0x51f901[_0x1a441d(0x144)]())['to'][_0x1a441d(0x23c)](_0x5b555e[_0x1a441d(0x18a)]()[_0x1a441d(0x116)](/\n/g,'\x0d\x0a')),_0x3b5bb4(null,_0x1a441d(0xa3));}else expect(_0xd33e8['authenticated'])['to']['be']['false'],_0xd33e8[_0x1a441d(0x7e)]({'type':_0x46b512[_0x1a441d(0x271)],'user':_0x46b512[_0x1a441d(0xae)],'oauth2':new XOAuth2({'user':_0x1a441d(0x225),'clientId':_0x1a441d(0x1e3),'clientSecret':_0x46b512[_0x1a441d(0x92)],'refreshToken':_0x1a441d(0x254),'accessToken':_0x46b512[_0x1a441d(0xe8)],'accessUrl':_0x46b512[_0x1a441d(0xbb)]+XOAUTH_PORT})},function(_0x492831){const _0xe0416d=_0x1a441d;_0xaf423e['WefjV'](expect,_0x492831)['to'][_0xe0416d(0x24e)],expect(_0xd33e8[_0xe0416d(0x231)])['to']['be'][_0xe0416d(0x99)],_0xaf423e[_0xe0416d(0x1ac)](_0x3d77d8);});}),it(_0x2eb822[_0x2afdf0(0x2b9)],function(_0xc829f0){const _0x329d7a=_0x2afdf0,_0x51a6d5={'JVKAi':function(_0x26e984,_0x207a9f){const _0x7f0cbc=_0x3546;return _0x46b512[_0x7f0cbc(0x13b)](_0x26e984,_0x207a9f);}};expect(_0xd33e8[_0x329d7a(0x231)])['to']['be'][_0x329d7a(0x99)];let _0x287017=new XOAuth2({'user':_0x329d7a(0x225),'clientId':_0x46b512[_0x329d7a(0x14a)],'clientSecret':_0x46b512[_0x329d7a(0x92)],'refreshToken':_0x329d7a(0x254),'accessToken':_0x329d7a(0x13a),'accessUrl':_0x46b512[_0x329d7a(0x11b)](_0x46b512[_0x329d7a(0xbb)],XOAUTH_PORT)});sinon[_0x329d7a(0x1dd)](_0x287017,_0x46b512[_0x329d7a(0x15f)])[_0x329d7a(0x227)](null,_0x329d7a(0x17f)),_0xd33e8[_0x329d7a(0x7e)]({'type':_0x329d7a(0x1fb),'user':_0x329d7a(0x225),'oauth2':_0x287017},function(_0x35f020){const _0x49a37e=_0x329d7a;expect(_0x35f020)['to']['exist'],_0x51a6d5[_0x49a37e(0xd7)](expect,_0xd33e8[_0x49a37e(0x231)])['to']['be'][_0x49a37e(0x99)],_0x287017[_0x49a37e(0x2bb)][_0x49a37e(0x1d9)](),_0xc829f0();});});}),describe(_0x2eb822[_0x52659a(0x232)],function(){const _0x2c24d7=_0x52659a,_0xfc135f={'PJHND':_0x2c24d7(0xab),'VJrzd':function(_0x353a5a,_0x33c1f4){return _0x353a5a(_0x33c1f4);}};let _0x56a12e;beforeEach(function(_0x2bb1c5){const _0x4dc461={'CNrFh':function(_0x20dc7e,_0x488cdc){return _0x20dc7e(_0x488cdc);}};_0x56a12e=new SMTPConnection({'port':PORT_NUMBER,'logger':![],'debug':![],'customAuth':{'mytest':_0x4533dd=>{const _0x3b1718=_0x3546;_0x4533dd[_0x3b1718(0x152)](_0xfc135f[_0x3b1718(0xff)],(_0x5cd5d3,_0x450b0a)=>{const _0x539ca6=_0x3b1718,_0x4ceee4={'QlTfm':function(_0x86187e,_0x4527f8){return _0x86187e(_0x4527f8);},'NXPOb':function(_0x3007ab,_0x3666e7){return _0x3007ab(_0x3666e7);}};_0x4dc461[_0x539ca6(0x14b)](expect,_0x5cd5d3)['to'][_0x539ca6(0x179)]['exist'],expect(_0x450b0a[_0x539ca6(0x1ce)])['to']['equal'](0x1f4),_0x4533dd[_0x539ca6(0x152)](_0x539ca6(0xb6),(_0x1cc993,_0x48566d)=>{const _0x158065=_0x539ca6;_0x4ceee4[_0x158065(0x6d)](expect,_0x1cc993)['to']['not'][_0x158065(0x24e)],_0x4ceee4[_0x158065(0xf6)](expect,_0x48566d[_0x158065(0x1ce)])['to']['equal'](0x1f4),_0x4533dd[_0x158065(0x12e)]();});});}}}),_0x56a12e['connect'](_0x2bb1c5);}),_0x357bca['fIsQO'](afterEach,function(_0x7c5319){const _0x542189=_0x2c24d7;_0x56a12e[_0x542189(0x168)](),_0x7c5319();}),it(_0x2c24d7(0x132),function(_0x19552d){const _0x4bc9fe=_0x2c24d7;_0x357bca['FtRiv'](_0x357bca[_0x4bc9fe(0x7b)],_0x357bca[_0x4bc9fe(0xe0)])?(_0x357bca[_0x4bc9fe(0x1a3)](expect,_0x56a12e[_0x4bc9fe(0x231)])['to']['be'][_0x4bc9fe(0x99)],_0x56a12e[_0x4bc9fe(0x7e)]({'method':_0x357bca[_0x4bc9fe(0x260)],'user':_0x4bc9fe(0x225),'credentials':{'user':_0x4bc9fe(0x225),'pass':_0x4bc9fe(0x74)}},function(_0xc1da8a){const _0x1c1bf5=_0x4bc9fe;expect(_0xc1da8a)['to']['not'][_0x1c1bf5(0x24e)],_0xfc135f[_0x1c1bf5(0x224)](expect,_0x56a12e[_0x1c1bf5(0x231)])['to']['be']['true'],_0x19552d();})):_0xfc135f['VJrzd'](_0x5418e6,_0x18fcd8)['to'][_0x4bc9fe(0x179)][_0x4bc9fe(0x24e)];});}),describe(_0x52659a(0x255),function(){const _0x3f50ba=_0x52659a,_0x2a8d1a={'HOuvo':function(_0x17bc84,_0x40b1e8){return _0x17bc84===_0x40b1e8;},'UXfSQ':_0x3f50ba(0x1cf),'pmEbT':function(_0xbb8bd6,_0x36598b){return _0x2eb822['CzlWj'](_0xbb8bd6,_0x36598b);},'VAlAu':_0x2eb822[_0x3f50ba(0x24b)],'tyulI':_0x2eb822['mBouw'],'zyqSa':_0x3f50ba(0x1d1),'dPbDY':function(_0x43f8ea,_0x4216ad){const _0x24e413=_0x3f50ba;return _0x2eb822[_0x24e413(0x207)](_0x43f8ea,_0x4216ad);},'jaTse':_0x3f50ba(0x26c),'byuKS':_0x2eb822[_0x3f50ba(0x129)]};beforeEach(function(_0x35ba03){const _0x236ab1=_0x3f50ba,_0x1b57fe={'WhbdV':function(_0x5c331d,_0x6bd9f1){return _0x5c331d(_0x6bd9f1);},'jODaS':_0x357bca[_0x236ab1(0x20e)]};if(_0x357bca[_0x236ab1(0x265)]!==_0x357bca['mZkXF'])_0xd33e8['on'](_0x236ab1(0x246),function(){const _0x43ba24=_0x236ab1,_0x2f5e81={'anNMP':function(_0x2103c2,_0x1f9e04){return _0x2103c2(_0x1f9e04);},'qnYCR':function(_0x2e5821,_0x55a96b,_0x39a58d){return _0x2e5821(_0x55a96b,_0x39a58d);},'tYnAG':_0x43ba24(0xa3)};if(_0x2a8d1a[_0x43ba24(0x18e)](_0x43ba24(0x20b),_0x43ba24(0x194))){let _0x324126=_0x4359ba[_0x43ba24(0xfa)](_0x382d49);_0x2f5e81[_0x43ba24(0x24c)](_0x9bf414,_0x324126['toString']())['to'][_0x43ba24(0x23c)](_0x2448f5[_0x43ba24(0x144)]()[_0x43ba24(0x18a)]()[_0x43ba24(0x116)](/\n/g,'\x0d\x0a')),_0x2f5e81[_0x43ba24(0x286)](_0x31e59f,null,_0x2f5e81['tYnAG']);}else _0xd33e8=new SMTPConnection({'port':PORT_NUMBER,'logger':![],'debug':![]}),_0x437634[_0x43ba24(0x280)]['hidePIPELINING']=!![],_0xd33e8[_0x43ba24(0xd8)](function(){const _0x14a223=_0x43ba24,_0x1cffa2={'rlcSp':function(_0x28e72d,_0x5377b0){const _0x5716ff=_0x3546;return _0x1b57fe[_0x5716ff(0x182)](_0x28e72d,_0x5377b0);},'axwXw':function(_0xdbbbc4){return _0xdbbbc4();}};_0x14a223(0x2b6)!==_0x14a223(0x8d)?_0xd33e8['login']({'user':_0x1b57fe['jODaS'],'credentials':{'user':_0x1b57fe['jODaS'],'pass':_0x14a223(0x74)}},function(_0x1cb936){const _0x394748=_0x14a223;_0x1cffa2['rlcSp'](expect,_0x1cb936)['to'][_0x394748(0x179)][_0x394748(0x24e)],_0x437634[_0x394748(0x280)][_0x394748(0x261)]=![],_0x1cffa2[_0x394748(0x23d)](_0x35ba03);}):_0x1cffa2[_0x14a223(0x82)](_0x4d07a2,_0x598cc2[_0x14a223(0x1f7)])['to']['equal'](_0x14a223(0x1fe));});}),_0xd33e8[_0x236ab1(0x168)]();else return eval('_0xc88423[\'PI\'] * 2;'),_0x244e40(new _0x2f8967('Trying\x20to\x20use\x20Unicode\x20address\x20without\x20declaring\x20SMTPUTF8\x20first'));}),it(_0x3f50ba(0x1e0),function(_0x3b3d8c){const _0x2a0be2=_0x3f50ba,_0x2418cb={'ZIjKP':_0x2a0be2(0x16c),'fauVI':_0x2a8d1a[_0x2a0be2(0x293)],'jMtWA':_0x2a8d1a[_0x2a0be2(0x8b)],'jAdrq':_0x2a8d1a[_0x2a0be2(0xf3)]};_0xd33e8[_0x2a0be2(0xfe)]({'from':_0x2a0be2(0x16c),'to':['test1@valid.recipient',_0x2a8d1a[_0x2a0be2(0x8b)],_0x2a8d1a[_0x2a0be2(0xb9)]]},'test',function(_0x16ef88,_0x23668a){const _0x4555be=_0x2a0be2;_0x2a8d1a[_0x4555be(0x294)]===_0x4555be(0x1cf)?(_0x2a8d1a['pmEbT'](expect,_0x16ef88)['to'][_0x4555be(0x179)][_0x4555be(0x24e)],_0x2a8d1a['pmEbT'](expect,_0x23668a)['to'][_0x4555be(0x282)][_0x4555be(0x23c)]({'accepted':[_0x2a8d1a[_0x4555be(0x2a9)],_0x2a8d1a[_0x4555be(0xb9)]],'rejected':[_0x2a8d1a[_0x4555be(0x8b)]],'rejectedErrors':_0x23668a['rejectedErrors'],'envelopeTime':_0x23668a[_0x4555be(0x1f4)],'messageTime':_0x23668a[_0x4555be(0x14c)],'messageSize':_0x23668a['messageSize'],'response':_0x4555be(0x199)}),_0x2a8d1a[_0x4555be(0x100)](expect,_0x23668a[_0x4555be(0x284)][_0x4555be(0x6a)])['to']['equal'](0x1),_0x3b3d8c()):_0x23815a['send']({'from':_0x2418cb[_0x4555be(0x205)],'to':[_0x2418cb[_0x4555be(0x1f3)],_0x2418cb[_0x4555be(0xf2)],_0x2418cb[_0x4555be(0x1ed)]]},_0x4555be(0x259),function(_0x587eb0){const _0xa03387=_0x4555be;_0x3db90a(_0x587eb0)['to'][_0xa03387(0x24e)],_0x5272ac();});});});}),describe(_0x2eb822['qcyro'],function(){const _0xcb0083=_0x52659a,_0x49b460={'WWNmn':function(_0x30cb13,_0x4883bc){return _0x2eb822['jPuOr'](_0x30cb13,_0x4883bc);},'jhnHP':_0x2eb822[_0xcb0083(0x2aa)],'zZInY':'test@valid.recipient','wTzpw':_0x2eb822['XJwTu'],'beajr':_0xcb0083(0x16c),'mcxhy':_0xcb0083(0x259),'Cliql':'test2@valid.recipient','bRfoI':function(_0x4fc89,_0x29eef2){return _0x4fc89===_0x29eef2;},'rtTWV':_0x2eb822[_0xcb0083(0x140)],'DeGrx':_0xcb0083(0x28e),'AoSIC':function(_0x4dbd9c,_0x319226){return _0x2eb822['VKvbV'](_0x4dbd9c,_0x319226);},'oQBsL':function(_0x6874d8,_0x180d5f){const _0x461ba3=_0xcb0083;return _0x2eb822[_0x461ba3(0x207)](_0x6874d8,_0x180d5f);},'aTHZQ':function(_0x352754){return _0x2eb822['jtDnZ'](_0x352754);},'WAqxv':_0xcb0083(0x180),'uGGLt':_0x2eb822[_0xcb0083(0x1b2)],'qsvCZ':_0x2eb822[_0xcb0083(0x274)],'iGqBb':function(_0x263ced,_0x5f4b8d){return _0x263ced(_0x5f4b8d);},'BxZXk':_0x2eb822[_0xcb0083(0x129)],'MzLNR':function(_0x513581){return _0x513581();},'UiAdi':function(_0x34fa80,_0x189a9f){return _0x34fa80!==_0x189a9f;},'fpFQd':function(_0x554968){return _0x554968();},'TiEMR':function(_0x2e104d,_0x4369ee){return _0x2eb822['sslwZ'](_0x2e104d,_0x4369ee);},'pZxoE':function(_0x4b1b6d){return _0x4b1b6d();},'OaETY':function(_0x2942e4,_0x119784){const _0x3a8b3b=_0xcb0083;return _0x2eb822[_0x3a8b3b(0x298)](_0x2942e4,_0x119784);},'ySMBZ':_0x2eb822[_0xcb0083(0x89)],'YmcgS':_0xcb0083(0x1ea),'XlgyI':function(_0x1409e0,_0x100a2e){const _0x2187f2=_0xcb0083;return _0x2eb822[_0x2187f2(0x94)](_0x1409e0,_0x100a2e);},'VBRCw':function(_0x1d3d67,_0x4e3833){const _0x2735e6=_0xcb0083;return _0x2eb822[_0x2735e6(0x2ad)](_0x1d3d67,_0x4e3833);},'GztSY':_0x2eb822['Zljmn'],'BqMil':function(_0x20d160,_0x4af48d){return _0x20d160*_0x4af48d;},'LvZqq':'test3@valid.recipient','kYTnN':'test5@valid.recipient','zBoDc':_0x2eb822[_0xcb0083(0x24b)],'bkpVY':_0xcb0083(0x1ec),'AseTy':function(_0x5bbc3d){return _0x5bbc3d();},'oeuwc':_0xcb0083(0x1d1),'NBQGw':function(_0x4691f9,_0x4bf2bb){const _0x55b379=_0xcb0083;return _0x2eb822[_0x55b379(0x20a)](_0x4691f9,_0x4bf2bb);},'CXEGZ':_0x2eb822[_0xcb0083(0x1ee)],'JOmPQ':function(_0x1115b5,_0x24345f){const _0x5f027d=_0xcb0083;return _0x2eb822[_0x5f027d(0x94)](_0x1115b5,_0x24345f);},'AWyis':'testuser','iZGmS':_0xcb0083(0x26c),'TJBJc':function(_0x21f8a1,_0x1f7e64){return _0x21f8a1(_0x1f7e64);},'uxQHF':function(_0x2492d9){return _0x2492d9();},'tzDjc':'kykON','ONWHu':_0xcb0083(0x22d),'ACiGw':function(_0x4f0d6e,_0x2f0d38){return _0x4f0d6e(_0x2f0d38);},'eCSjh':function(_0x20674d,_0x431ae5,_0x3e3991){return _0x20674d(_0x431ae5,_0x3e3991);},'QKAcT':'ABC1'};beforeEach(function(_0x381504){const _0x459034=_0xcb0083,_0x13a3ee={'xyMEt':function(_0x578180,_0x2f960b){return _0x578180(_0x2f960b);}};_0xd33e8[_0x459034(0x7e)]({'user':_0x357bca['MytSx'],'credentials':{'user':_0x357bca[_0x459034(0x20e)],'pass':_0x459034(0x74)}},function(_0x155824){const _0x4bc1aa=_0x459034;if(_0x49b460[_0x4bc1aa(0xc5)]('dSdWa',_0x49b460[_0x4bc1aa(0x153)]))return eval('1 + 1;'),_0x13a3ee[_0x4bc1aa(0x131)](_0x28a486,new _0x52c77f(_0x4bc1aa(0x1de)));else expect(_0x155824)['to'][_0x4bc1aa(0x179)][_0x4bc1aa(0x24e)],_0x381504();});}),_0x2eb822[_0xcb0083(0x9e)](it,_0x2eb822[_0xcb0083(0xa9)],function(_0x528865){const _0x2e6976=_0xcb0083,_0x4825b2={'GjmqB':_0x49b460[_0x2e6976(0xc4)],'nupRG':_0x49b460[_0x2e6976(0x292)]};_0xd33e8[_0x2e6976(0xfe)]({'from':_0x49b460[_0x2e6976(0x1b6)],'to':_0x2e6976(0x173)},_0x49b460[_0x2e6976(0x193)],function(_0x5ce8ae,_0x3e6396){const _0x3ae90a=_0x2e6976;expect(_0x5ce8ae)['to'][_0x3ae90a(0x179)][_0x3ae90a(0x24e)],expect(_0x3e6396)['to']['deep'][_0x3ae90a(0x23c)]({'accepted':[_0x4825b2['GjmqB']],'rejected':[],'envelopeTime':_0x3e6396['envelopeTime'],'messageTime':_0x3e6396[_0x3ae90a(0x14c)],'messageSize':_0x3e6396[_0x3ae90a(0x211)],'response':_0x4825b2[_0x3ae90a(0x108)]}),_0x528865();});}),_0x2eb822[_0xcb0083(0xa6)](it,'should\x20send\x20multiple\x20messages',function(_0x7dc640){const _0x5316ed=_0xcb0083,_0x235fef={'cdXAo':function(_0x214c3c){const _0x555ad0=_0x3546;return _0x49b460[_0x555ad0(0x159)](_0x214c3c);}};_0x5316ed(0x180)!==_0x49b460['WAqxv']?(_0x45d950(_0x94733f)['to'][_0x5316ed(0x179)][_0x5316ed(0x24e)],_0x235fef[_0x5316ed(0x296)](_0x468d88)):_0xd33e8[_0x5316ed(0xfe)]({'from':_0x49b460[_0x5316ed(0x1b6)],'to':_0x5316ed(0x173)},_0x5316ed(0x259),function(_0x5f0d02,_0x3e1f8f){const _0x5a41fe=_0x5316ed,_0x5e049e={'CuCGg':function(_0x187a07,_0x651f58){return _0x187a07(_0x651f58);},'wvCzh':_0x49b460[_0x5a41fe(0x292)],'CAcJB':_0x49b460['Cliql'],'kuMQp':'test2'};if(_0x49b460[_0x5a41fe(0xd2)](_0x49b460[_0x5a41fe(0xef)],_0x49b460[_0x5a41fe(0x1b8)])){let _0x41b67b=_0xbc206a[_0x5a41fe(0xfa)](_0x450034);_0x5e049e[_0x5a41fe(0x2c3)](_0xa6d699,_0x41b67b[_0x5a41fe(0x144)]())['to'][_0x5a41fe(0x23c)](_0x48ba59[_0x5a41fe(0x144)]()[_0x5a41fe(0x18a)]()[_0x5a41fe(0x116)](/\n/g,'\x0d\x0a')),_0x525560(null,_0x5a41fe(0xa3));}else _0x49b460[_0x5a41fe(0xd9)](expect,_0x5f0d02)['to'][_0x5a41fe(0x179)][_0x5a41fe(0x24e)],_0x49b460[_0x5a41fe(0x1db)](expect,_0x3e1f8f)['to'][_0x5a41fe(0x282)][_0x5a41fe(0x23c)]({'accepted':[_0x5a41fe(0x173)],'rejected':[],'envelopeTime':_0x3e1f8f[_0x5a41fe(0x1f4)],'messageTime':_0x3e1f8f[_0x5a41fe(0x14c)],'messageSize':_0x3e1f8f[_0x5a41fe(0x211)],'response':_0x49b460[_0x5a41fe(0x292)]}),_0xd33e8[_0x5a41fe(0x175)](function(_0xfb2b32){const _0x491520=_0x5a41fe,_0x35ec58={'NOpVE':function(_0x3165f6,_0x2a92aa){return _0x3165f6(_0x2a92aa);},'fkhxE':_0x5e049e[_0x491520(0xc0)],'TlrAA':function(_0x47fd8d){return _0x47fd8d();}};_0x5e049e[_0x491520(0x2c3)](expect,_0xfb2b32)['to'][_0x491520(0x179)][_0x491520(0x24e)],_0xd33e8['send']({'from':_0x491520(0xad),'to':_0x5e049e[_0x491520(0x164)]},_0x5e049e[_0x491520(0xe9)],function(_0x3b53ff,_0xbea51){const _0x40b1b6=_0x491520;_0x35ec58['NOpVE'](expect,_0x3b53ff)['to'][_0x40b1b6(0x179)]['exist'],expect(_0xbea51)['to'][_0x40b1b6(0x282)][_0x40b1b6(0x23c)]({'accepted':['test2@valid.recipient'],'rejected':[],'envelopeTime':_0xbea51[_0x40b1b6(0x1f4)],'messageTime':_0xbea51[_0x40b1b6(0x14c)],'messageSize':_0xbea51[_0x40b1b6(0x211)],'response':_0x35ec58['fkhxE']}),_0x35ec58[_0x40b1b6(0x1a1)](_0x7dc640);});});});}),_0x2eb822[_0xcb0083(0xfc)](it,_0x2eb822[_0xcb0083(0x245)],function(_0x27f9a7){const _0x20dd77=_0xcb0083,_0x32229b={'eicRa':_0x49b460['uGGLt'],'ITEdr':_0x49b460[_0x20dd77(0x20d)],'ucwts':_0x20dd77(0x262),'ISUFB':function(_0x1c9c62,_0x16f61a){const _0x5d81b9=_0x20dd77;return _0x49b460[_0x5d81b9(0xd4)](_0x1c9c62,_0x16f61a);},'apjYN':_0x49b460[_0x20dd77(0x292)]};_0xd33e8[_0x20dd77(0xfe)]({'from':_0x49b460['beajr'],'to':[_0x20dd77(0x2c8),'test2@invalid.recipient','test3@valid.recipient']},_0x49b460[_0x20dd77(0x193)],function(_0x35a3d1,_0x5382e3){const _0xe02115=_0x20dd77;if(_0x32229b[_0xe02115(0x125)]!==_0x32229b[_0xe02115(0x125)])return _0x28df00(_0x32229b[_0xe02115(0x201)])(),new _0x16ea27('<'+_0x263e94[_0xe02115(0xeb)]+_0x32229b[_0xe02115(0x1c1)]);else _0x32229b[_0xe02115(0x91)](expect,_0x35a3d1)['to'][_0xe02115(0x179)][_0xe02115(0x24e)],expect(_0x5382e3)['to'][_0xe02115(0x282)]['equal']({'accepted':[_0xe02115(0x2c8),_0xe02115(0x1bf)],'rejected':[_0xe02115(0x1d1)],'rejectedErrors':_0x5382e3[_0xe02115(0x284)],'envelopeTime':_0x5382e3['envelopeTime'],'messageTime':_0x5382e3['messageTime'],'messageSize':_0x5382e3[_0xe02115(0x211)],'response':_0x32229b[_0xe02115(0x2af)]}),_0x32229b[_0xe02115(0x91)](expect,_0x5382e3[_0xe02115(0x284)][_0xe02115(0x6a)])['to'][_0xe02115(0x23c)](0x1),_0x27f9a7();});}),_0x2eb822[_0xcb0083(0x299)](it,'should\x20reject\x20all\x20recipients',function(_0x43b838){const _0x13694c=_0xcb0083;_0xd33e8[_0x13694c(0xfe)]({'from':_0x13694c(0x16c),'to':[_0x13694c(0x26c),_0x357bca[_0x13694c(0x75)],_0x13694c(0x1e6)]},_0x13694c(0x259),function(_0x5d1b4c,_0x4b333f){const _0x9da80b=_0x13694c;_0x9da80b(0x29a)!==_0x9da80b(0x1d8)?(expect(_0x5d1b4c)['to'][_0x9da80b(0x24e)],_0x49b460[_0x9da80b(0xd4)](expect,_0x4b333f)['to']['not'][_0x9da80b(0x24e)],expect(_0x5d1b4c[_0x9da80b(0x97)])['to'][_0x9da80b(0x282)][_0x9da80b(0x23c)](['test1@invalid.recipient',_0x9da80b(0x1d1),_0x49b460[_0x9da80b(0xf5)]]),_0x49b460[_0x9da80b(0x1db)](expect,_0x5d1b4c[_0x9da80b(0x284)][_0x9da80b(0x6a)])['to'][_0x9da80b(0x23c)](0x3),_0x49b460[_0x9da80b(0x247)](_0x43b838)):_0x42f358[_0x9da80b(0x1d3)](_0x2804e4);});}),_0x2eb822['IiQLn'](it,_0xcb0083(0x139),function(_0x121cf9){const _0x40497b=_0xcb0083;_0xd33e8[_0x40497b(0xfe)]({'from':_0x357bca['bNnsj'],'to':_0x40497b(0xdf),'size':_0x357bca[_0x40497b(0x21a)](0x400,0x400)},_0x357bca['oIGWn'],function(_0x317c32,_0x5454f3){const _0x5e3d36=_0x40497b;_0x49b460[_0x5e3d36(0x1a4)](_0x5e3d36(0x1c5),_0x5e3d36(0x1c5))?_0x2bb7d4[_0x3de2f0]>=0x80&&(_0x25dfd3=new _0x5aaa36(_0x5e3d36(0x276))):(_0x49b460['oQBsL'](expect,_0x317c32)['to'][_0x5e3d36(0x24e)],expect(_0x5454f3)['to'][_0x5e3d36(0x179)][_0x5e3d36(0x24e)],_0x49b460[_0x5e3d36(0xac)](_0x121cf9));});}),it(_0x2eb822[_0xcb0083(0x1bd)],function(_0x3960a0){const _0x307a59=_0xcb0083;_0xd33e8[_0x307a59(0xfe)]({'from':_0x49b460['GztSY'],'to':_0x307a59(0xdf),'size':_0x49b460[_0x307a59(0x156)](0x46,0x400)},_0x49b460[_0x307a59(0x193)],function(_0x344bca,_0x512c35){const _0x3f7afc=_0x307a59,_0x2c7c29={'oSFin':function(_0x152c1f,_0x572be0){const _0x471654=_0x3546;return _0x49b460[_0x471654(0x8a)](_0x152c1f,_0x572be0);},'PZRRz':function(_0x1172c4){const _0x5a46a8=_0x3546;return _0x49b460[_0x5a46a8(0x2cd)](_0x1172c4);},'uLteG':_0x3f7afc(0x74)};_0x49b460['OaETY'](_0x49b460[_0x3f7afc(0x106)],_0x49b460[_0x3f7afc(0x69)])?_0x371503[_0x3f7afc(0x7e)]({'user':'testuser','credentials':{'user':_0x3f7afc(0x225),'pass':_0x2c7c29[_0x3f7afc(0x18d)]}},function(_0x48e06e){const _0x205350=_0x3f7afc;_0x2c7c29[_0x205350(0x9c)](_0x1d9498,_0x48e06e)['to'][_0x205350(0x179)][_0x205350(0x24e)],_0x2c7c29['PZRRz'](_0x3cc24c);}):(_0x49b460[_0x3f7afc(0x9a)](expect,_0x344bca)['to'][_0x3f7afc(0x24e)],_0x49b460[_0x3f7afc(0x289)](expect,_0x512c35)['to']['not']['exist'],_0x3960a0());});}),_0x2eb822[_0xcb0083(0xfc)](it,_0x2eb822[_0xcb0083(0x213)],function(_0x5241e1){const _0x12f2ad=_0xcb0083,_0x22fc1c={'cTxgd':function(_0x5107ff,_0x504e07){return _0x5107ff(_0x504e07);}};_0xd33e8[_0x12f2ad(0xfe)]({'from':_0x357bca[_0x12f2ad(0x241)],'to':_0x357bca[_0x12f2ad(0x233)],'size':0xa*0x400},_0x357bca[_0x12f2ad(0x288)],function(_0x26596d,_0x43313d){const _0x52451d=_0x12f2ad;_0x22fc1c[_0x52451d(0x2c9)](expect,_0x26596d)['to']['not']['exist'],expect(_0x43313d)['to']['deep'][_0x52451d(0x23c)]({'accepted':[_0x52451d(0xdf)],'rejected':[],'envelopeTime':_0x43313d[_0x52451d(0x1f4)],'messageTime':_0x43313d[_0x52451d(0x14c)],'messageSize':_0x43313d[_0x52451d(0x211)],'response':_0x52451d(0x199)}),_0x5241e1();});}),it(_0xcb0083(0xc3),function(_0x5abe5f){const _0x334895=_0xcb0083;_0x5a949d[_0x334895(0xfe)]({'from':_0x357bca['filBE'],'to':[_0x334895(0x2c8),_0x357bca['QhofB'],_0x357bca['kqZOD'],_0x357bca[_0x334895(0xb1)],_0x334895(0xb4),_0x334895(0x290)]},'test',function(_0x1f5f28,_0x1376fb){const _0x462abe=_0x334895;expect(_0x1f5f28)['to'][_0x462abe(0x179)][_0x462abe(0x24e)],_0x49b460[_0x462abe(0x9a)](expect,_0x1376fb[_0x462abe(0xe3)])['to']['deep'][_0x462abe(0x23c)]([_0x49b460['LvZqq'],_0x49b460[_0x462abe(0x161)]]),expect(_0x1376fb[_0x462abe(0x97)])['to'][_0x462abe(0x282)]['equal']([_0x462abe(0x1d1),_0x49b460[_0x462abe(0x215)],_0x49b460[_0x462abe(0x2b4)],_0x462abe(0x290)]),_0x49b460['iGqBb'](expect,_0x1376fb[_0x462abe(0x284)][_0x462abe(0x6a)])['to'][_0x462abe(0x23c)](_0x1376fb['rejected'][_0x462abe(0x6a)]),_0x49b460[_0x462abe(0x84)](_0x5abe5f);});}),_0x2eb822['RraGY'](it,_0xcb0083(0x134),function(_0x4d7f8b){const _0x14a6cc=_0xcb0083,_0x42e93a={'JRVai':_0x14a6cc(0x2c8),'lMXTI':'test3@valid.recipient','BhKhm':_0x14a6cc(0x1d1)};_0xd33e8[_0x14a6cc(0xfe)]({'from':_0x49b460['beajr'],'to':[_0x14a6cc(0x2c8),_0x49b460['oeuwc'],_0x14a6cc(0x111)]},'test',function(_0x2afa8a,_0x57943d){const _0x619cf8=_0x14a6cc;expect(_0x2afa8a)['to']['not'][_0x619cf8(0x24e)],expect(_0x57943d)['to'][_0x619cf8(0x282)][_0x619cf8(0x23c)]({'accepted':[_0x42e93a[_0x619cf8(0xb0)],_0x42e93a[_0x619cf8(0x29e)]],'rejected':[_0x42e93a['BhKhm']],'rejectedErrors':_0x57943d['rejectedErrors'],'envelopeTime':_0x57943d[_0x619cf8(0x1f4)],'messageTime':_0x57943d[_0x619cf8(0x14c)],'messageSize':_0x57943d[_0x619cf8(0x211)],'response':_0x619cf8(0x199)}),_0x4d7f8b();});}),_0x2eb822[_0xcb0083(0x198)](it,_0x2eb822[_0xcb0083(0xa5)],function(_0x17691b){const _0x92f8c1=_0xcb0083,_0x3004b3={'RrQZm':function(_0x1860d9,_0x44bbdb){return _0x1860d9(_0x44bbdb);},'gVkyz':_0x357bca['kgIow'],'zSgrb':function(_0x40571d){const _0x13389d=_0x3546;return _0x357bca[_0x13389d(0x28b)](_0x40571d);}};_0xd33e8['send']({'use8BitMime':!![],'from':_0x92f8c1(0x16c),'to':['test1@valid.recipient',_0x92f8c1(0x1d1),_0x92f8c1(0x111)]},_0x92f8c1(0x183),function(_0x536169,_0x4221ff){const _0xeee707=_0x92f8c1;_0x3004b3['RrQZm'](expect,_0x536169)['to'][_0xeee707(0x179)]['exist'],_0x3004b3[_0xeee707(0x11a)](expect,_0x4221ff)['to'][_0xeee707(0x282)][_0xeee707(0x23c)]({'accepted':['test1@valid.recipient','test3@valid.recipient'],'rejected':['test2@invalid.recipient'],'rejectedErrors':_0x4221ff[_0xeee707(0x284)],'envelopeTime':_0x4221ff[_0xeee707(0x1f4)],'messageTime':_0x4221ff[_0xeee707(0x14c)],'messageSize':_0x4221ff[_0xeee707(0x211)],'response':_0x3004b3['gVkyz']}),_0x3004b3[_0xeee707(0x1b3)](_0x17691b);});}),_0x2eb822[_0xcb0083(0x249)](it,_0x2eb822[_0xcb0083(0x244)],function(_0x52b1a3){const _0x9240c8=_0xcb0083,_0x579ece={'jryJP':function(_0x314635,_0x380c68){return _0x314635===_0x380c68;},'vaxeM':function(_0x205682,_0x1adec0){return _0x357bca['VWEYq'](_0x205682,_0x1adec0);},'AlQkT':function(_0x17d990){const _0x579b09=_0x3546;return _0x357bca[_0x579b09(0x77)](_0x17d990);}};_0xd33e8['send']({'use8BitMime':![],'from':_0x9240c8(0x16c),'to':[_0x357bca['waeNS'],_0x357bca[_0x9240c8(0x75)],_0x357bca[_0x9240c8(0x2a1)]]},_0x357bca[_0x9240c8(0x2a0)],function(_0x4d8287){const _0xf64acd=_0x9240c8,_0x5771be={'NyXxx':function(_0x3f5f7a,_0x1d8808){return _0x3f5f7a(_0x1d8808);}};_0x579ece[_0xf64acd(0x120)](_0xf64acd(0x11d),'UMfrS')?(_0x5771be[_0xf64acd(0xa8)](_0x47b7e3,/^Invalid recipient/['test'](_0x57f9f2[_0xf64acd(0x1f7)]))['to']['be']['true'],_0x441026()):(_0x579ece['vaxeM'](expect,/8 bit content not allowed/[_0xf64acd(0x259)](_0x4d8287['message']))['to']['be'][_0xf64acd(0x270)],_0x579ece[_0xf64acd(0x20c)](_0x52b1a3));});}),eval('const _0x4a0fcc = _0xcb0083;_0x49b460[_0x4a0fcc(520)](Math[\'PI\'], 2);'),_0x2eb822[_0xcb0083(0x2bd)](it,_0x2eb822['funMe'],function(_0x1267cf){const _0x5d22e5=_0xcb0083,_0x4351c1={'qtmAK':function(_0x1c28b7,_0x2375a0){return _0x49b460['WWNmn'](_0x1c28b7,_0x2375a0);},'oxUaw':'Fvvlk','rJIXx':function(_0x32ec2d,_0x4c810a){return _0x32ec2d(_0x4c810a);}};_0xd33e8[_0x5d22e5(0xfe)]({'from':_0x49b460[_0x5d22e5(0x1b6)],'to':[_0x5d22e5(0x173),_0x49b460[_0x5d22e5(0x258)]]},'test',function(_0x1335ff){const _0x54589f=_0x5d22e5;_0x4351c1['qtmAK'](_0x4351c1[_0x54589f(0x79)],_0x4351c1['oxUaw'])?(_0x4351c1['rJIXx'](expect,/^Invalid recipient/[_0x54589f(0x259)](_0x1335ff[_0x54589f(0x1f7)]))['to']['be'][_0x54589f(0x270)],_0x1267cf()):_0x37ad1b['log'](_0x54589f(0x23f));});}),eval('JSON[\'stringify\']({ \'safe\': !![] });'),_0x2eb822[_0xcb0083(0x78)](it,_0xcb0083(0x2b0),function(_0x699c8f){const _0x182408=_0xcb0083;_0xd33e8[_0x182408(0xfe)]({'from':_0x49b460['beajr'],'to':[_0x49b460[_0x182408(0x202)],_0x182408(0x1d1),_0x49b460[_0x182408(0xf5)]]},_0x49b460['mcxhy'],function(_0x5817b8){const _0x3ab559=_0x182408,_0x1e396f={'nbFmB':function(_0x299810){return _0x299810();},'GaxqJ':_0x3ab559(0x1ab),'qJQdx':function(_0x4766b7,_0x32cd94){const _0x4fa007=_0x3ab559;return _0x49b460[_0x4fa007(0x1f2)](_0x4766b7,_0x32cd94);},'DHHNA':_0x49b460[_0x3ab559(0x22e)]};_0x3ab559(0x1e7)!==_0x3ab559(0x1e7)?(_0x1e396f[_0x3ab559(0x1ae)](_0x16aa89,_0x365efa[_0x3ab559(0x231)])['to']['be'][_0x3ab559(0x99)],_0x2708ac[_0x3ab559(0x7e)]({'user':_0x3ab559(0x225),'credentials':{'user':_0x1e396f[_0x3ab559(0x2ce)]}},function(_0x230beb){const _0x3cf2df=_0x3ab559,_0x1e2a41='2|4|5|3|1|0'['split']('|');let _0x226716=0x0;while(!![]){switch(_0x1e2a41[_0x226716++]){case'0':_0x1e396f['nbFmB'](_0x6d18e9);continue;case'1':_0x13ec35(_0x230beb[_0x3cf2df(0x2ab)])['to']['be'][_0x3cf2df(0x126)];continue;case'2':_0x5b490d(_0x230beb)['to'][_0x3cf2df(0x24e)];continue;case'3':_0x52cdb3(_0x230beb[_0x3cf2df(0x209)])['to']['equal'](_0x1e396f[_0x3cf2df(0x26e)]);continue;case'4':_0x1e396f[_0x3cf2df(0x1ae)](_0xff75e2,_0x4faf5e['authenticated'])['to']['be'][_0x3cf2df(0x99)];continue;case'5':_0x3c77bd(_0x230beb[_0x3cf2df(0x1f7)])['to'][_0x3cf2df(0x10c)](/^Missing credentials/);continue;}break;}})):(expect(_0x5817b8)['to'][_0x3ab559(0x24e)],_0x49b460[_0x3ab559(0x159)](_0x699c8f));});}),eval('Math[\'PI\'] * 2;'),it(_0x2eb822['fpigW'],function(_0x435c27){const _0x2bb90c=_0xcb0083;_0x49b460[_0x2bb90c(0x151)]===_0x2bb90c(0x112)?_0xd33e8['send']({'from':_0x49b460[_0x2bb90c(0x135)],'to':_0x49b460[_0x2bb90c(0xc4)]},_0x2bb90c(0x259),function(_0x16add6){const _0xdba918=_0x2bb90c;expect(_0x16add6)['to'][_0xdba918(0x24e)],_0x435c27();}):(_0x49b460['TJBJc'](_0x5dde6e,_0x289a5e)['to'][_0x2bb90c(0x24e)],_0x49b460[_0x2bb90c(0xd9)](_0x5c88ab,_0x426e1d[_0x2bb90c(0x231)])['to']['be'][_0x2bb90c(0x99)],_0xd9f790(_0xc65975[_0x2bb90c(0x209)])['to'][_0x2bb90c(0x23c)](_0x2bb90c(0x1ab)),_0x49b460['uxQHF'](_0x135b43));}),it(_0xcb0083(0x214),function(_0x26eecc){const _0x1cd190=_0xcb0083,_0x54a629={'VeRzA':function(_0x8f02ae){return _0x8f02ae();}};let _0x2b215b=[],_0x4f0a87=new Array(0x400)[_0x1cd190(0x268)](_0x1cd190(0x103));_0x437634['on'](_0x1cd190(0x2be),function(_0x2c4100,_0x38930e){const _0x1f886c=_0x1cd190;_0x2b215b[_0x1f886c(0x1d3)](_0x38930e);}),_0x437634['removeAllListeners'](_0x1cd190(0x2c7)),_0x437634['on'](_0x1cd190(0x2c7),function(_0x428f91,_0x3698a8){const _0x2aea2f=_0x1cd190;let _0x56e052=Buffer[_0x2aea2f(0xfa)](_0x2b215b);_0x49b460['ACiGw'](expect,_0x56e052['toString']())['to'][_0x2aea2f(0x23c)](_0x4f0a87[_0x2aea2f(0x18a)]()[_0x2aea2f(0x116)](/\n/g,'\x0d\x0a')),_0x49b460[_0x2aea2f(0x1f8)](_0x3698a8,null,_0x49b460['QKAcT']);}),_0xd33e8['send']({'from':'test@valid.sender','to':_0x1cd190(0x173)},_0x4f0a87,function(_0x4ba531){const _0x2fa274=_0x1cd190;expect(_0x4ba531)['to'][_0x2fa274(0x179)][_0x2fa274(0x24e)],_0x54a629[_0x2fa274(0x1c7)](_0x26eecc);});}),it(_0xcb0083(0x8c),function(_0x42b171){const _0x4bc7a4=_0xcb0083;let _0x15b05d=[],_0x2257c3=Buffer[_0x4bc7a4(0x121)](new Array(0x400)[_0x4bc7a4(0x268)](_0x357bca['FcNHZ']));_0x437634['on'](_0x4bc7a4(0x2be),function(_0x59b19e,_0x31589d){const _0x58866f=_0x4bc7a4;_0x15b05d[_0x58866f(0x1d3)](_0x31589d);}),_0x437634[_0x4bc7a4(0xc2)](_0x4bc7a4(0x2c7)),_0x437634['on'](_0x4bc7a4(0x2c7),function(_0x3baea8,_0x46f68a){const _0x1d347e=_0x4bc7a4;let _0x1ab94e=Buffer[_0x1d347e(0xfa)](_0x15b05d);_0x49b460[_0x1d347e(0x17c)](expect,_0x1ab94e[_0x1d347e(0x144)]())['to'][_0x1d347e(0x23c)](_0x2257c3[_0x1d347e(0x144)]()[_0x1d347e(0x18a)]()['replace'](/\n/g,'\x0d\x0a')),_0x49b460[_0x1d347e(0x1f8)](_0x46f68a,null,_0x49b460[_0x1d347e(0x19f)]);}),_0xd33e8[_0x4bc7a4(0xfe)]({'from':_0x4bc7a4(0x16c),'to':_0x357bca['hLDBG']},_0x2257c3,function(_0x1459c3){const _0x34f7b3=_0x4bc7a4;expect(_0x1459c3)['to']['not'][_0x34f7b3(0x24e)],_0x42b171();});}),_0x2eb822[_0xcb0083(0x240)](it,_0xcb0083(0x14f),function(_0x5581aa){const _0x2b93a4=_0xcb0083,_0x23e325={'fiyXO':function(_0xb9ea66,_0xc451dd){const _0x312ce6=_0x3546;return _0x357bca[_0x312ce6(0x15d)](_0xb9ea66,_0xc451dd);},'VSEmt':_0x357bca[_0x2b93a4(0x13d)],'SWJsB':_0x2b93a4(0x166),'hcorj':function(_0x3de09c,_0x30c33b){return _0x3de09c(_0x30c33b);},'Xluhf':function(_0x1741cc,_0x1754ab,_0x3be1f2){return _0x357bca['RMtQg'](_0x1741cc,_0x1754ab,_0x3be1f2);}};let _0x358c02=[],_0x561ac6=__dirname+_0x357bca['hMscB'],_0x4e875e=fs['readFileSync'](_0x561ac6,_0x2b93a4(0x10e));_0x437634['on']('data',function(_0x89cdfa,_0x2ffcf5){_0x358c02['push'](_0x2ffcf5);}),_0x437634[_0x2b93a4(0xc2)](_0x2b93a4(0x2c7)),_0x437634['on'](_0x2b93a4(0x2c7),function(_0x31f7f8,_0x45c6c7){const _0x24797e=_0x2b93a4;if(_0x23e325[_0x24797e(0xfb)](_0x23e325[_0x24797e(0x10a)],_0x23e325[_0x24797e(0x1a8)]))_0x12ce8d(_0x24d45a)['to']['not'][_0x24797e(0x24e)];else{let _0x561187=Buffer[_0x24797e(0xfa)](_0x358c02);_0x23e325[_0x24797e(0x210)](expect,_0x561187[_0x24797e(0x144)]())['to'][_0x24797e(0x23c)](_0x4e875e['toString']()[_0x24797e(0x18a)]()[_0x24797e(0x116)](/\n/g,'\x0d\x0a')),_0x23e325['Xluhf'](_0x45c6c7,null,_0x24797e(0xa3));}}),_0xd33e8[_0x2b93a4(0xfe)]({'from':_0x357bca[_0x2b93a4(0xa7)],'to':_0x357bca[_0x2b93a4(0x275)]},fs['createReadStream'](_0x561ac6),function(_0x5857a7){const _0x15d567=_0x2b93a4;_0x23e325[_0x15d567(0x210)](expect,_0x5857a7)['to'][_0x15d567(0x179)][_0x15d567(0x24e)],_0x5581aa();});});});}});});function _0x4b85(){const _0x5229e5=['Only\x20user@valid.recipient\x20is\x20allowed\x20to\x20receive\x20mail','ITEdr','NMNri','4|2|3|1|0','write','ISFEX','kVHnW','VeRzA','xXuHo','use8BitMime','IoMDJ','method','OpSmp','IpzUJ','status','GbXku','YkxwG','test2@invalid.recipient','return\x20await\x20Promise.resolve(42);','push','Rmyda','error','QhgxV','should\x20declare\x20SIZE','MIDOL','restore','expect','oQBsL','ETIMEDOUT','stub','Only\x20user@valid.sender\x20is\x20allowed\x20to\x20send\x20mail','bAGow','should\x20send\x20only\x20to\x20valid\x20recipients\x20without\x20PIPELINING','http://localhost:','bCsyz','{Client\x20ID}','qJGIO','nHunj','test3@invalid.recipient','AUgKu','should\x20emit\x20error\x20for\x20invalid\x20port','22JDPVqj','zJint','tYIjL','test4@valid.recipient','jAdrq','OPQQC','ibYGt','ZommZ','\x20HTTP/1.1\x0d\x0a\x0d\x0a','JOmPQ','fauVI','envelopeTime','dwyGQ','BWPVl','message','eCSjh','./xoauth2-mock-server','yQvZu','oauth2','3goKoRv','fNecB','Connection\x20closed\x20unexpectedly','JiWTH','hZtRf','eicRa','iZGmS','proxy-test-server','nfeUI','ZIjKP','pQHxt','lXIHH','NBQGw','code','GBGth','hiUcQ','AlQkT','qsvCZ','MytSx','HEyBX','hcorj','messageSize','password','pAatR','should\x20send\x20message\x20string','zBoDc','MbkFf','ERDDS','should\x20connect\x20to\x20a\x20secure\x20server','MlsmO','GGhCt','PkiqX','>\x20Not\x20accepted','tszIA','rBalk','binary','pVbLk','gUuOp','console.log(\x22timer\x22);','BzrCG','VJrzd','testuser','uJyMo','yields','VukjW','vNOfC','VLDAP','NVmdK','NMmab','test@invalid.sender','AWyis','nwKnF','1927945jmNhBO','authenticated','OQnam','estrm','tzgsh','eLgEN','stop','connections','vnODt','log','LeADM','cFGMV','equal','axwXw','gGBOx','safe','IiQLn','bNnsj','gocAg','oDwer','EJHib','usZqI','end','MzLNR','lldiI','jnWXV','tsGqe','MtBCH','anNMP','dPGiB','exist','tppCz','should\x20receive\x20error\x20for\x208-bit\x20content\x20without\x208BITMIME\x20declaration','XccnX','fNjkk','xaDCP','refrsesh-token','Send\x20without\x20PIPELINING','IGumB','should\x20emit\x20error\x20for\x20too\x20large\x20port','CXEGZ','test','YdOhu','vGvZX','unshift','givch','custom\x20login','XZJwt','qxXpd','hidePIPELINING','ZMxRn','responseCode','567856AFyvfl','SakTY','my_smtp_access_scope_name','start','join','SMTPServer','SSUZv','frAgK','test1@invalid.recipient','addUser','GaxqJ','Send\x20messages','true','BcyzM','version','wbgJo','huaFH','hLDBG','8\x20bit\x20content\x20not\x20allowed','ASffD','MQvcV','KUjPB','listen','KWRKD','ZJyPI','Yqqak','2FLyVrV','eYPDw','options','should\x20send\x20using\x208BITMIME','deep','rcptTo','rejectedErrors','split','qnYCR','TTWZM','oIGWn','VBRCw','should\x20send\x20only\x20to\x20valid\x20recipients','FvOgQ','AUTH','POJXu','vAmbU','envelope','test6@valid.recipient','PJmcu','wTzpw','jaTse','UXfSQ','config','cdXAo','forEach','mEPKC','cQdog','tHsrF','rfuKz','OwoqQ','sRzGr','lMXTI','RGvcs','LycnJ','ywVYN','18ZSbIHV','VlYTw','GvXoW','UHWON','NrDuU','0|4|2|1|3|5','nEjer','VAlAu','LEVmm','response','vdOXA','UFdmF','DQZLO','apjYN','should\x20return\x20error\x20for\x20no\x20valid\x20recipients','nwJtf','DUZSQ','SYrsb','bkpVY','ZqMkt','mtxpM','smtp-server','4255853bGxsow','lUmla','timeout','generateToken','Trying\x20to\x20use\x20Unicode\x20address\x20without\x20declaring\x20SMTPUTF8\x20first','YiMoq','data','BivsB','pvotL','xxdmi','qPBrR','CuCGg','Kbchj','ZGsOb','NztOB','dataReady','test1@valid.recipient','cTxgd','AwgFQ','index','KkYFo','pZxoE','DHHNA','cDgGL','TNRhe','PFpuQ','zNGeF','secure','CvYHD','includeStack','YmcgS','length','eqeHb','aTFPy','QlTfm','RCaGj','smtpUtf8','cUjty','BzMoG','OAAks','DIXFH','testpass','QhofB','VSxTD','clHpz','QvzmO','oxUaw','TJgUn','rpLfP','YorwH','kyigO','login','Dxtmy','Isjor','BODY','rlcSp','yRjlB','AseTy','sBIXi','KnvRC','KxrNn','rfLyY','IVSCD','TiEMR','zyqSa','should\x20send\x20message\x20buffer','CiaFF','KhDlO','{Client\x20Secret}','GGsoE','ISUFB','fzmBX','CqGqX','VKvbV','CTNmI','AEvss','rejected','should\x20return\x20error\x20for\x20invalid\x20sender','false','XlgyI','ffrWe','oSFin','djuEm','HNNnS','Noupt','bgpAK','clByS','username','ABC1','YshKS','lAmUQ','goZIs','filBE','NyXxx','scPwN','INgIq','HALLO1\x20HALLO','fpFQd','test2@valid.sender','SQSPq','LUyFp','JRVai','ORvVC','JJKsR','275596XNZGEy','test5@valid.recipient','map','HALLO2\x20HALLO','JYYbK','Vwhnk','tyulI','>\x20Accepted','docmG','MEVQU','AZfEC','gMtAS','stringify','wvCzh','BYsAf','removeAllListeners','lmtp\x20should\x20send\x20only\x20to\x20valid\x20recipients','zZInY','WWNmn','UyTdN','updateClock();','vFZQu','accessToken','substr','452\x20Insufficient\x20channel\x20storage:\x20','HvNfx','SHsec','dmBWB','GpkIs','VEwYx','vepfS','bRfoI','IDQQz','iGqBb','FXYgI','aSegZ','JVKAi','connect','AoSIC','PjwDe','test2','hcUcq','vrrPf','dDNul','test2@valid.recipient','nxRBD','OSTpT','STARTTLS','accepted','tHDph','RZDPP','tTcLK','qfeET','EmNkL','kuMQp','fIsQO','address','QKpIF','OrhbV','vExem','rtTWV','yUPyn','BWbZY','jMtWA','byuKS','BsFLL','BxZXk','NXPOb','GEYBm','JlUZk','wxnqk','concat','fiyXO','xhczt','asWdj','send','PJHND','dPbDY','nVWhY','NODE_TLS_REJECT_UNAUTHORIZED','teretere,\x20vana\x20kere\x0a','GlDoj','nxoDe','ySMBZ','LQpoD','nupRG','wCBPy','VSEmt','xlOML','match','RYBGF','utf-8','fvkmH','UmDdw','test3@valid.recipient','kykON','QGHDA','PSQOp','JAGdP','replace','hhJNA','LPZUv','PldDH','RrQZm','AvwMm','LxjOE','asjGG','irnJo','pFXWu','jryJP','from','AatjS','hUoSU','\x22address\x0d\x0a\x20with\x20folding\x22@valid.recipient','ucwts','undefined','JIrsq','AgJmJ','WQwdP','uUjAr','var\x20x\x20=\x2042;\x20return\x20x;','uuItP','jtDnZ','resolve','refresh-token','Invalid\x20username\x20or\x20password','xyMEt','should\x20login','TGOxH','should\x20send\x20using\x20SMTPUTF8','ONWHu','PqitP','net','8BITMIME','should\x20reject\x20too\x20large\x20SIZE\x20arguments','uuuuu','oJKLn','WwQOZ','YVMEw','NYEQe','6NISiPq','KBfUK','lJamx','once','hgpDH','toString','aTUyE','OoygC','should\x20fail\x20with\x20invalid\x20xoauth2\x20response','WsUAW','NocDe','RPSRu','CNrFh','messageTime','rLZji','czkfP','should\x20send\x20message\x20stream','MNIrx','tzDjc','sendCommand','jhnHP','/../../LICENSE','../../lib/smtp-connection','BqMil','KbgAq','uIPfa','aTHZQ','PRNzz','fnNpx','should\x20try\x20upgrade\x20with\x20STARTTLS\x20where\x20not\x20advertised','ARzqg','should\x20connect\x20to\x20a\x20server\x20and\x20try\x20to\x20upgrade\x20STARTTLS','NUHhC','nfsIs','kYTnN','127.0.0.1','PLAIN','CAcJB','XnuPN','HbDtq','ubQgE','close','ROBJY','WXQfO','should\x20reject\x20too\x20large\x20message','test@valid.sender','IlgFM','sslwZ','createReadStream','should\x20return\x20error\x20for\x20invalidly\x20formatted\x20recipients','kjFmA','Version\x20test','test@valid.recipient','testtoken','reset','snKUr','XOAUTH2','KyCpj','not','wegFi','MrfqE','TJBJc','3457070wHHUtY','Hfais','dXNlcj10ZXN0dXNlcgFhdXRoPUJlYXJlciB1dXV1dQEB','PJSqt','return\x20Object.keys({a:1});','WhbdV','','oeSVT','qEjbA','chai','mPgNa','Login\x20tests','xYWia','trim','cnYrD','ihcgM','uLteG','HOuvo','VYpLy','should\x20return\x20error\x20for\x20missing\x20credentials','Yciii','138972qyFrXq','mcxhy','zhPRl','rKfCh','QsekT','createServer','RraGY','250\x20OK:\x20message\x20queued','pzDyX','GspBm','should\x20return\x20error\x20for\x20invalid\x20login','rkUQm','invalid','QKAcT','GbugH','TlrAA','DQikO','ZsVYY','UiAdi','zztbj','sinon','rUuam','SWJsB','YFeBB','ZhUuk','EAUTH','ATMGj','CtUeR','qJQdx','lKKJq','3333960pVUvXl','cyjae','qrsHm','zSgrb','NhIrB','5|2|1|3|4|0','beajr','XpRML','DeGrx','CONNECT\x20','args','IEXFK','GRXFC','GSgDy','xVMUv','test3@valid.recipient'];_0x4b85=function(){return _0x5229e5;};return _0x4b85();}function proxyConnect(_0x491b8d,_0x26d64e,_0x3417b7,_0x800d38,_0x3c7eeb){const _0x289078=_0x3d15dd,_0x192260={'OlGTK':_0x289078(0x173),'rVlyB':_0x289078(0xdf),'rUuam':function(_0x23dd74,_0x94d80a,_0x480e32){return _0x23dd74(_0x94d80a,_0x480e32);},'OSTpT':function(_0x30aba2,_0x1a6bde){return _0x30aba2+_0x1a6bde;},'GGsoE':_0x289078(0x1b9),'DgHaT':function(_0x2c5898,_0x51feb3){return _0x2c5898(_0x51feb3);},'nyuBr':_0x289078(0x1d5)};let _0x3a7b40=net[_0x289078(0xd8)](_0x491b8d,_0x26d64e,function(){const _0xae3f58=_0x289078,_0x3cb1ad={'PFpuQ':function(_0x28ccce,_0xb58ccc){return _0x28ccce(_0xb58ccc);},'IDQQz':_0x192260['OlGTK'],'KUjPB':'250\x20OK:\x20message\x20queued','Isjor':_0x192260['rVlyB'],'GEYBm':function(_0x5a50a0,_0x465447){return _0x5a50a0===_0x465447;},'ugXRb':'kLvby','VukjW':'data','hZtRf':function(_0x2aa895,_0x14d76e){return _0x2aa895(_0x14d76e);},'ZGsOb':_0xae3f58(0x181),'bgpAK':function(_0xcf73c6,_0x393030,_0x9311d){const _0x3100a1=_0xae3f58;return _0x192260[_0x3100a1(0x1a7)](_0xcf73c6,_0x393030,_0x9311d);}};_0x3a7b40[_0xae3f58(0x1c4)](_0x192260[_0xae3f58(0xe1)](_0x192260['OSTpT'](_0x192260[_0xae3f58(0x90)],_0x800d38)+':',_0x3417b7)+_0xae3f58(0x1f1));let _0x19ce97='',_0x3b7a1c=function(_0x350bbf){const _0x301fac=_0xae3f58,_0x8bcdce={'Noupt':function(_0x4ae76f){return _0x4ae76f();},'tYIjL':_0x301fac(0xad),'HEyBX':_0x3cb1ad[_0x301fac(0x80)],'AEvss':_0x301fac(0xdb)};let _0x172881,_0x595fcb;_0x19ce97+=_0x350bbf[_0x301fac(0x144)](_0x301fac(0x21f));if(_0x172881=_0x19ce97['match'](/\r\n\r\n/)){if(_0x3cb1ad[_0x301fac(0xf7)]('kLvby',_0x3cb1ad['ugXRb']))return _0x3a7b40['removeListener'](_0x3cb1ad[_0x301fac(0x228)],_0x3b7a1c),_0x595fcb=_0x19ce97[_0x301fac(0xca)](_0x172881[_0x301fac(0x2cb)]+_0x172881[0x0]['length']),_0x19ce97=_0x19ce97[_0x301fac(0xca)](0x0,_0x172881[_0x301fac(0x2cb)]),_0x595fcb&&_0x3a7b40[_0x301fac(0x25c)](Buffer['from'](_0x595fcb,'binary')),_0x3cb1ad[_0x301fac(0x200)](Function,_0x3cb1ad[_0x301fac(0x2c5)])(),_0x3cb1ad[_0x301fac(0xa0)](_0x3c7eeb,null,_0x3a7b40);else _0x3cb1ad[_0x301fac(0x2d1)](_0x9d0c7b,_0x184c7f)['to'][_0x301fac(0x179)][_0x301fac(0x24e)],_0x5f176a(_0x25399b)['to'][_0x301fac(0x282)]['equal']({'accepted':[_0x3cb1ad[_0x301fac(0xd3)]],'rejected':[],'envelopeTime':_0x4706c0[_0x301fac(0x1f4)],'messageTime':_0x39f133[_0x301fac(0x14c)],'messageSize':_0x5e6cec['messageSize'],'response':_0x3cb1ad[_0x301fac(0x279)]}),_0x2581d3[_0x301fac(0x175)](function(_0x171bb3){const _0x572452=_0x301fac,_0x27bb45={'nfeUI':'test2@valid.recipient','NhIrB':function(_0x2192a0){const _0x23146f=_0x3546;return _0x8bcdce[_0x23146f(0x9f)](_0x2192a0);}};_0x4f03dc(_0x171bb3)['to'][_0x572452(0x179)]['exist'],_0x531f3c['send']({'from':_0x8bcdce[_0x572452(0x1eb)],'to':_0x8bcdce[_0x572452(0x20f)]},_0x8bcdce[_0x572452(0x96)],function(_0x6892d8,_0x2033b0){const _0x28a8e5=_0x572452;_0x45569d(_0x6892d8)['to'][_0x28a8e5(0x179)][_0x28a8e5(0x24e)],_0x191e7c(_0x2033b0)['to']['deep'][_0x28a8e5(0x23c)]({'accepted':[_0x27bb45[_0x28a8e5(0x204)]],'rejected':[],'envelopeTime':_0x2033b0['envelopeTime'],'messageTime':_0x2033b0['messageTime'],'messageSize':_0x2033b0['messageSize'],'response':_0x28a8e5(0x199)}),_0x27bb45[_0x28a8e5(0x1b4)](_0x33490f);});});}};_0x3a7b40['on'](_0xae3f58(0x2be),_0x3b7a1c);});_0x3a7b40['on'](_0x192260['nyuBr'],function(_0x486500){_0x192260['DgHaT'](expect,_0x486500)['to']['not']['exist'];});}