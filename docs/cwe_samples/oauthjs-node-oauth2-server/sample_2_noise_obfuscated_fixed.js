'use strict';function _0x5299(_0x26f68d,_0x2a02de){const _0x2a819a=_0x2a81();return _0x5299=function(_0x5299a9,_0x1744a6){_0x5299a9=_0x5299a9-0x140;let _0x2914de=_0x2a819a[_0x5299a9];return _0x2914de;},_0x5299(_0x26f68d,_0x2a02de);}function _0x2a81(){const _0x5880cf=['pcibd','mrqoU','DxAak','UczYk','chai','WerEz','http://test:pest@localhost:','808005ZJRGLK','http://localhost:','not','3140220yyCMKm','KDJFZ','listen','data','should\x20connect\x20to\x20a\x20socket\x20through\x20proxy\x20with\x20auth','YnEND','22jGXOkL','end','JYkmX','tqscp','ozkLq','http','exist','test','6Mbcnux','1864DhIniq','HTTP\x20Proxy\x20Client\x20Tests','bagcN','11892771egnOAa','127.0.0.1','expect','eQrQp','createServer','SzdrX','authenticate','mgCRG','destroy','http://test:kest@localhost:','fMsrM','3ERkxRC','proxy-authorization','2518650tRIZyu','smtp-server','27832840XVyIzq','once','SMTPServer','tizbo','should\x20connect\x20to\x20a\x20socket\x20through\x20proxy','yUahp','proxy','Basic\x20dGVzdDpwZXN0','ksWzP','true','vtJGX','LkFCk','toString','HoDnV','../../lib/smtp-connection/http-proxy-client','20916kEkLIA','headers','close','Yjftp','sIMcu','6623095xhOmay'];_0x2a81=function(){return _0x5880cf;};return _0x2a81();}const _0x47197e=_0x5299;(function(_0x5d63f9,_0x40fc1f){const _0x28efd9=_0x5299,_0x5cceb7=_0x5d63f9();while(!![]){try{const _0x296f27=-parseInt(_0x28efd9(0x165))/0x1+-parseInt(_0x28efd9(0x147))/0x2+-parseInt(_0x28efd9(0x145))/0x3*(-parseInt(_0x28efd9(0x168))/0x4)+parseInt(_0x28efd9(0x15d))/0x5*(-parseInt(_0x28efd9(0x176))/0x6)+parseInt(_0x28efd9(0x158))/0x7*(-parseInt(_0x28efd9(0x177))/0x8)+-parseInt(_0x28efd9(0x17a))/0x9+parseInt(_0x28efd9(0x149))/0xa*(parseInt(_0x28efd9(0x16e))/0xb);if(_0x296f27===_0x40fc1f)break;else _0x5cceb7['push'](_0x5cceb7['shift']());}catch(_0x33d2a0){_0x5cceb7['push'](_0x5cceb7['shift']());}}}(_0x2a81,0xe5fe3));const http=require(_0x47197e(0x173)),proxy=require(_0x47197e(0x14f)),httpProxyClient=require(_0x47197e(0x157)),SMTPServer=require(_0x47197e(0x148))[_0x47197e(0x14b)],chai=require(_0x47197e(0x162)),expect=chai[_0x47197e(0x17c)];chai['config']['includeStack']=!![];const PROXY_PORT=0xc38,TARGET_PORT=0xc39;describe(_0x47197e(0x178),function(){const _0x32521d=_0x47197e,_0x543a64={'ksWzP':function(_0x5ce1b4,_0x241241){return _0x5ce1b4(_0x241241);},'yUahp':function(_0x2216f8,_0x5c24be){return _0x2216f8===_0x5c24be;},'jpqUN':function(_0x3cea0c,_0x58cd17){return _0x3cea0c(_0x58cd17);},'fMsrM':function(_0x3f402b,_0x155379){return _0x3f402b(_0x155379);},'jOVXh':'JZZvJ','DxAak':function(_0x3aa770,_0x1c9f96){return _0x3aa770(_0x1c9f96);},'KDJFZ':_0x32521d(0x16b),'ozkLq':_0x32521d(0x171),'bagcN':function(_0xbfba5a,_0x15b01a){return _0xbfba5a!==_0x15b01a;},'HoDnV':function(_0x2b7ebd,_0x49b399,_0x48cca9){return _0x2b7ebd(_0x49b399,_0x48cca9);},'rmlze':_0x32521d(0x14d),'mrqoU':_0x32521d(0x16c),'tizbo':'should\x20should\x20fail\x20auth'};_0x543a64['HoDnV'](it,_0x543a64['rmlze'],function(_0x66c895){const _0x3e2eba=_0x32521d,_0x51fd96={'sIMcu':function(_0x2ce9fd,_0x3e2575){const _0x56acfc=_0x5299;return _0x543a64[_0x56acfc(0x151)](_0x2ce9fd,_0x3e2575);}};let _0x33f848=new SMTPServer({'logger':![]});_0x33f848[_0x3e2eba(0x16a)](TARGET_PORT,()=>{const _0x5b4a4f=_0x3e2eba;let _0x3a9c05=_0x51fd96[_0x5b4a4f(0x15c)](proxy,http[_0x5b4a4f(0x17e)]());_0x3a9c05[_0x5b4a4f(0x16a)](PROXY_PORT,()=>{const _0x545361=_0x5b4a4f;httpProxyClient(_0x545361(0x166)+PROXY_PORT,TARGET_PORT,_0x545361(0x17b),(_0x46ea7b,_0xd66561)=>{const _0x471903=_0x545361,_0x1d0068={'pcibd':function(_0x3d41fd,_0x398858){return _0x3d41fd(_0x398858);}};expect(_0x46ea7b)['to'][_0x471903(0x167)]['exist'],_0xd66561[_0x471903(0x14a)]('data',_0x1f7be7=>{const _0x304991=_0x471903;_0x1d0068[_0x304991(0x15e)](expect,/^220[ -]/[_0x304991(0x175)](_0x1f7be7['toString']()))['to']['be'][_0x304991(0x152)],_0xd66561['end'](),_0xd66561['on'](_0x304991(0x15a),()=>{const _0xebc02f=_0x304991;_0xd66561[_0xebc02f(0x142)](),_0x33f848['close'](()=>setImmediate(_0x66c895)&&_0x3a9c05[_0xebc02f(0x15a)]());});});});});});}),_0x543a64[_0x32521d(0x156)](it,_0x543a64[_0x32521d(0x15f)],function(_0x1afd29){const _0x2fd94a=_0x32521d,_0x58bfe2={'eQrQp':function(_0x3ea688,_0x49fd2a,_0x32362f,_0x2ad679,_0x153086){return _0x3ea688(_0x49fd2a,_0x32362f,_0x2ad679,_0x153086);}};let _0x4cc8be=new SMTPServer({'logger':![]});_0x4cc8be[_0x2fd94a(0x16a)](TARGET_PORT,()=>{const _0x68791a=_0x2fd94a,_0x2cbde8={'WerEz':function(_0xc70e5a,_0x431f90){const _0x36d24a=_0x5299;return _0x543a64[_0x36d24a(0x14e)](_0xc70e5a,_0x431f90);},'Yjftp':_0x68791a(0x146)};let _0xe03aa5=_0x543a64['jpqUN'](proxy,http[_0x68791a(0x17e)]());_0xe03aa5['authenticate']=(_0x4e8e2c,_0x1c1872)=>{const _0x234551=_0x68791a;_0x1c1872(null,_0x2cbde8[_0x234551(0x163)](_0x4e8e2c[_0x234551(0x159)][_0x2cbde8[_0x234551(0x15b)]],_0x234551(0x150)));},_0xe03aa5[_0x68791a(0x16a)](PROXY_PORT,()=>{const _0x39ee64=_0x68791a;_0x58bfe2[_0x39ee64(0x17d)](httpProxyClient,_0x39ee64(0x164)+PROXY_PORT,TARGET_PORT,'127.0.0.1',(_0x369ac7,_0x79c804)=>{const _0x549cc6=_0x39ee64,_0x12689b={'JYkmX':function(_0x5ae0fa,_0x763e2b){return _0x5ae0fa(_0x763e2b);}};expect(_0x369ac7)['to'][_0x549cc6(0x167)][_0x549cc6(0x174)],_0x79c804[_0x549cc6(0x14a)]('data',_0x191040=>{const _0x400963=_0x549cc6;_0x12689b[_0x400963(0x170)](expect,/^220[ -]/[_0x400963(0x175)](_0x191040[_0x400963(0x155)]()))['to']['be'][_0x400963(0x152)],_0x79c804[_0x400963(0x16f)](),_0x79c804['on'](_0x400963(0x15a),()=>{const _0x4d7f04=_0x400963;_0x79c804[_0x4d7f04(0x142)](),_0x4cc8be[_0x4d7f04(0x15a)](()=>setImmediate(_0x1afd29)&&_0xe03aa5['close']());});});});});});}),it(_0x543a64[_0x32521d(0x14c)],function(_0x3b657c){const _0x411297=_0x32521d,_0x18d892={'vtJGX':_0x543a64[_0x411297(0x172)]};if(_0x543a64[_0x411297(0x179)](_0x411297(0x154),'UEiIp')){let _0x154291=new SMTPServer({'logger':![]});_0x154291[_0x411297(0x16a)](TARGET_PORT,()=>{const _0x1b9fb3=_0x411297,_0x254181={'YnEND':function(_0x3ad3c5,_0x36b4e1){const _0x21c9f6=_0x5299;return _0x543a64[_0x21c9f6(0x144)](_0x3ad3c5,_0x36b4e1);},'UczYk':_0x1b9fb3(0x16b),'SzdrX':_0x543a64['jOVXh']};let _0xb77158=_0x543a64[_0x1b9fb3(0x160)](proxy,http[_0x1b9fb3(0x17e)]());_0xb77158[_0x1b9fb3(0x140)]=(_0x5581a8,_0x2f798d)=>{const _0xbb7477=_0x1b9fb3;_0xbb7477(0x141)!==_0x254181[_0xbb7477(0x17f)]?_0x2f798d(null,_0x5581a8['headers'][_0xbb7477(0x146)]===_0xbb7477(0x150)):(_0x254181[_0xbb7477(0x16d)](_0x453d64,_0x145834)['to'][_0xbb7477(0x167)][_0xbb7477(0x174)],_0x257b07[_0xbb7477(0x14a)](_0x254181[_0xbb7477(0x161)],_0x2277ad=>{const _0x21d5cb=_0xbb7477;_0x941bb1(/^220[ -]/[_0x21d5cb(0x175)](_0x2277ad[_0x21d5cb(0x155)]()))['to']['be'][_0x21d5cb(0x152)],_0x1fefa4[_0x21d5cb(0x16f)](),_0xc92025['on']('close',()=>{const _0x39f396=_0x21d5cb;_0x537151['destroy'](),_0x554861[_0x39f396(0x15a)](()=>_0x22c95a(_0x4497b9)&&_0x55d9d0['close']());});}));},_0xb77158[_0x1b9fb3(0x16a)](PROXY_PORT,()=>{const _0x5cfad3=_0x1b9fb3;_0x5cfad3(0x171)===_0x18d892[_0x5cfad3(0x153)]?httpProxyClient(_0x5cfad3(0x143)+PROXY_PORT,TARGET_PORT,'127.0.0.1',(_0x16b803,_0x34439b)=>{const _0x218d4f=_0x5cfad3;_0x254181[_0x218d4f(0x16d)](expect,_0x16b803)['to'][_0x218d4f(0x174)],expect(_0x34439b)['to'][_0x218d4f(0x167)][_0x218d4f(0x174)],_0x154291[_0x218d4f(0x15a)](()=>setImmediate(_0x3b657c)&&_0xb77158[_0x218d4f(0x15a)]());}):(_0x130977[_0x5cfad3(0x142)](),_0x21204c[_0x5cfad3(0x15a)](()=>_0x29de66(_0x25b158)&&_0x34f29f[_0x5cfad3(0x15a)]()));});});}else _0x250053(_0x16812b)['to'][_0x411297(0x167)][_0x411297(0x174)],_0x4fceac[_0x411297(0x14a)](_0x543a64[_0x411297(0x169)],_0x5c428f=>{const _0x3d3ba2=_0x411297;_0x47426f(/^220[ -]/[_0x3d3ba2(0x175)](_0x5c428f[_0x3d3ba2(0x155)]()))['to']['be'][_0x3d3ba2(0x152)],_0x5b3193['end'](),_0x34fdba['on']('close',()=>{const _0x4e3c53=_0x3d3ba2;_0x575721[_0x4e3c53(0x142)](),_0xbdf9af[_0x4e3c53(0x15a)](()=>_0x231bfc(_0x35986b)&&_0x23262e[_0x4e3c53(0x15a)]());});});});});