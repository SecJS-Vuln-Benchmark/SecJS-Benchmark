'use strict';const _0x382c55=_0x1723;(function(_0x2535de,_0x2d256e){const _0x5c0a88=_0x1723,_0x45a20a=_0x2535de();while(!![]){try{const _0x4396f6=parseInt(_0x5c0a88(0x1d1))/0x1+parseInt(_0x5c0a88(0x1ec))/0x2*(-parseInt(_0x5c0a88(0x1ac))/0x3)+parseInt(_0x5c0a88(0x1f7))/0x4+-parseInt(_0x5c0a88(0x1e8))/0x5+-parseInt(_0x5c0a88(0x1d3))/0x6+parseInt(_0x5c0a88(0x1c1))/0x7*(-parseInt(_0x5c0a88(0x1bf))/0x8)+-parseInt(_0x5c0a88(0x1dc))/0x9*(-parseInt(_0x5c0a88(0x1d4))/0xa);if(_0x4396f6===_0x2d256e)break;else _0x45a20a['push'](_0x45a20a['shift']());}catch(_0x505b05){_0x45a20a['push'](_0x45a20a['shift']());}}}(_0x4d83,0x4e28d));process['env'][_0x382c55(0x1df)]='0';const chai=require(_0x382c55(0x1c2)),expect=chai[_0x382c55(0x1b5)],PassThrough=require(_0x382c55(0x1ff))[_0x382c55(0x1fd)],EventEmitter=require(_0x382c55(0x1eb))[_0x382c55(0x1ae)],sinon=require(_0x382c55(0x1dd)),SendmailTransport=require(_0x382c55(0x1e6));chai[_0x382c55(0x1fc)][_0x382c55(0x1c6)]=!![];function _0x1723(_0x39cc0f,_0x1c6975){const _0x4d83a3=_0x4d83();return _0x1723=function(_0x172356,_0x2f72ed){_0x172356=_0x172356-0x1aa;let _0x4eda6b=_0x4d83a3[_0x172356];return _0x4eda6b;},_0x1723(_0x39cc0f,_0x1c6975);}function _0x4d83(){const _0x17cf18=['gTibe','stdout','updateClock();','includeStack','-d0.1a@example.com','envelope','stub','equal','name','messageId','send','LVIfj','getEnvelope','end','324809NuaJth','Should\x20expose\x20version\x20number','2773446KVusdK','2172430WNBkYn','YScYK','szLtd','toString','message\x0aline\x202','test@valid.recipient','gAMta','return\x20new\x20Date();','45odalCw','sinon','cJzGx','NODE_TLS_REJECT_UNAUTHORIZED','NliQi','dARLE','kTFVV','hzgGW','rawMessage','gCcZM','../../lib/sendmail-transport','restore','1572635HpvZxt','OlFcM','mvqNF','events','113198VWhZCx','aFDlC','data','WyfnT','CudFp','exit','OJghi','Should\x20send\x20message','yCuBy','_spawn','split','534960rdvXQA','Should\x20return\x20an\x20error','returns','mid','LgAMn','config','PassThrough','jemVB','stream','msTCo','kLnNc','nQvjR','9ARtFfv','teretere','EventEmitter','close','console.log(\x22timer\x22);','MunTN','test@valid.sender','BfbQn','JiPAx','expect','createReadStream','emit','not','stdin','Should\x20reject\x20message','JZubl','VeEDj','message\x0d\x0aline\x202','exist','6128ySiWpt','<test>','2541EUwgie','chai'];_0x4d83=function(){return _0x17cf18;};return _0x4d83();}class MockBuilder{constructor(_0x2267e3,_0x4559b2,_0x40df42){const _0xea1a64=_0x382c55,_0x1c78ab={'gAMta':function(_0x1c640c,_0x587d93){return _0x1c640c||_0x587d93;},'VeEDj':_0xea1a64(0x1c0)};this[_0xea1a64(0x1c8)]=_0x2267e3,this[_0xea1a64(0x1e4)]=_0x4559b2,this[_0xea1a64(0x1fa)]=_0x1c78ab[_0xea1a64(0x1da)](_0x40df42,_0x1c78ab[_0xea1a64(0x1bc)]);}[_0x382c55(0x1cf)](){const _0x36147f=_0x382c55,_0x1b0201={'JiPAx':function(_0x294c36,_0x17976f){return _0x294c36(_0x17976f);}};return _0x1b0201[_0x36147f(0x1b4)](Function,_0x36147f(0x1db))(),this['envelope'];}[_0x382c55(0x1cc)](){const _0x1e85dd=_0x382c55,_0x459491={'MunTN':function(_0xd14a71,_0x20495f,_0xef6cd2){return _0xd14a71(_0x20495f,_0xef6cd2);}};return _0x459491[_0x1e85dd(0x1b1)](setTimeout,_0x1e85dd(0x1b0),0x3e8),this['mid'];}[_0x382c55(0x1b6)](){const _0xaaa9cb=_0x382c55,_0x57afb8={'aFDlC':function(_0x980f6c,_0x10b6c7){return _0x980f6c+_0x10b6c7;},'OJghi':function(_0x3d1b11,_0x2b4f6d){return _0x3d1b11(_0x2b4f6d);}};let _0x17df90=new PassThrough();return _0x57afb8[_0xaaa9cb(0x1f2)](setImmediate,()=>_0x17df90[_0xaaa9cb(0x1d0)](this[_0xaaa9cb(0x1e4)])),eval('const _0x38d0e2 = _0xaaa9cb;_0x57afb8[_0x38d0e2(493)](1, 1);'),_0x17df90;}['getHeader'](){const _0x44c8e9=_0x382c55;return eval('Math[\'PI\'] * 2;'),_0x44c8e9(0x1ad);}}describe('Sendmail\x20Transport\x20Tests',function(){const _0xe635e9=_0x382c55,_0x49e1e1={'CudFp':function(_0x390e29,_0x435c6f){return _0x390e29(_0x435c6f);},'jemVB':_0xe635e9(0x1af),'tUpDG':function(_0x52a589,_0x322e0a){return _0x52a589(_0x322e0a);},'msTCo':function(_0x38c57c){return _0x38c57c();},'nQvjR':_0xe635e9(0x1d0),'BfbQn':_0xe635e9(0x1d9),'NliQi':_0xe635e9(0x1bd),'WyfnT':function(_0x1016fa,_0x410d8a){return _0x1016fa===_0x410d8a;},'JZubl':_0xe635e9(0x1e1),'moRdK':'3|0|2|1|4','kTFVV':function(_0x537aea,_0x13b446){return _0x537aea(_0x13b446);},'jTDxn':function(_0x259ac8){return _0x259ac8();},'gTibe':'data','LVIfj':'test@valid.sender','yCuBy':_0xe635e9(0x1c7),'gCcZM':_0xe635e9(0x1d2),'YScYK':function(_0x768f0c,_0x2f5bb0,_0x4bcbb5){return _0x768f0c(_0x2f5bb0,_0x4bcbb5);}};it(_0x49e1e1[_0xe635e9(0x1e5)],function(){const _0x3e57c2=_0xe635e9;let _0x192499=new SendmailTransport();_0x49e1e1['CudFp'](expect,_0x192499[_0x3e57c2(0x1cb)])['to'][_0x3e57c2(0x1be)],expect(_0x192499['version'])['to'][_0x3e57c2(0x1be)];}),_0x49e1e1[_0xe635e9(0x1d5)](it,_0xe635e9(0x1f3),function(_0x4de151){const _0x5ce37d=_0xe635e9,_0x12b4ef={'cJzGx':_0x5ce37d(0x1c0),'szLtd':function(_0x5a2f6a,_0x4a4860){return _0x49e1e1['tUpDG'](_0x5a2f6a,_0x4a4860);},'hzgGW':function(_0x120855){const _0x443496=_0x5ce37d;return _0x49e1e1[_0x443496(0x200)](_0x120855);}};if(_0x5ce37d(0x1ea)===_0x5ce37d(0x1fb))_0x2dfdb1['PI']*0x2;else{let _0x1071f9=new SendmailTransport(),_0x355c55=new EventEmitter();_0x355c55['stdin']=new PassThrough(),_0x355c55['stdout']=new PassThrough();let _0x406d6f='';_0x355c55[_0x5ce37d(0x1b9)]['on'](_0x5ce37d(0x1ee),function(_0x454ad1){const _0x375f97=_0x5ce37d;_0x406d6f+=_0x454ad1[_0x375f97(0x1d7)]();}),_0x355c55[_0x5ce37d(0x1b9)]['on'](_0x49e1e1[_0x5ce37d(0x1ab)],function(){const _0x5aaad3=_0x5ce37d;_0x355c55[_0x5aaad3(0x1b7)](_0x49e1e1['jemVB'],0x0),_0x355c55[_0x5aaad3(0x1b7)](_0x5aaad3(0x1f1),0x0);}),sinon[_0x5ce37d(0x1c9)](_0x1071f9,_0x5ce37d(0x1f5))['returns'](_0x355c55),_0x1071f9['send']({'data':{},'message':new MockBuilder({'from':_0x5ce37d(0x1b2),'to':_0x49e1e1[_0x5ce37d(0x1b3)]},_0x49e1e1[_0x5ce37d(0x1e0)])},function(_0x3bf8a2,_0x4b6370){const _0x4493ba=_0x5ce37d;expect(_0x3bf8a2)['to'][_0x4493ba(0x1b8)][_0x4493ba(0x1be)],expect(_0x4b6370['messageId'])['to'][_0x4493ba(0x1ca)](_0x12b4ef[_0x4493ba(0x1de)]),_0x12b4ef[_0x4493ba(0x1d6)](expect,_0x406d6f)['to'][_0x4493ba(0x1ca)](_0x4493ba(0x1d8)),_0x1071f9[_0x4493ba(0x1f5)][_0x4493ba(0x1e7)](),_0x12b4ef[_0x4493ba(0x1e3)](_0x4de151);});}}),it(_0xe635e9(0x1ba),function(_0x2bb43e){const _0x316b55=_0xe635e9,_0x8ebdb2={'kLnNc':_0x316b55(0x1af)};let _0x5542ce=new SendmailTransport(),_0x302a32=new EventEmitter();_0x302a32['stdin']=new PassThrough(),_0x302a32[_0x316b55(0x1c4)]=new PassThrough();let _0x5e809f='';_0x302a32[_0x316b55(0x1b9)]['on'](_0x49e1e1['gTibe'],function(_0x50f1cd){const _0x115bee=_0x316b55;_0x5e809f+=_0x50f1cd[_0x115bee(0x1d7)]();}),_0x302a32[_0x316b55(0x1b9)]['on'](_0x49e1e1[_0x316b55(0x1ab)],function(){const _0x2c196a=_0x316b55;_0x302a32['emit'](_0x8ebdb2[_0x2c196a(0x1aa)],0x0),_0x302a32[_0x2c196a(0x1b7)](_0x2c196a(0x1f1),0x0);}),sinon[_0x316b55(0x1c9)](_0x5542ce,'_spawn')['returns'](_0x302a32),_0x5542ce['send']({'data':{},'message':new MockBuilder({'from':_0x49e1e1[_0x316b55(0x1ce)],'to':_0x49e1e1[_0x316b55(0x1f4)]},_0x316b55(0x1bd))},function(_0x1af923,_0xa6ab7e){const _0x57a438=_0x316b55,_0x332a16={'RvvMF':function(_0x16df4e,_0x48f675){const _0x477701=_0x1723;return _0x49e1e1[_0x477701(0x1f0)](_0x16df4e,_0x48f675);}};if(_0x49e1e1[_0x57a438(0x1ef)](_0x49e1e1[_0x57a438(0x1bb)],_0x49e1e1[_0x57a438(0x1bb)])){const _0x1c2a70=_0x49e1e1['moRdK'][_0x57a438(0x1f6)]('|');let _0x190d4e=0x0;while(!![]){switch(_0x1c2a70[_0x190d4e++]){case'0':expect(_0xa6ab7e)['to']['not']['exist'];continue;case'1':_0x5542ce[_0x57a438(0x1f5)][_0x57a438(0x1e7)]();continue;case'2':_0x49e1e1[_0x57a438(0x1e2)](expect,_0x5e809f)['to'][_0x57a438(0x1ca)]('');continue;case'3':expect(_0x1af923)['to'][_0x57a438(0x1be)];continue;case'4':_0x49e1e1['jTDxn'](_0x2bb43e);continue;}break;}}else _0x564294(_0x4f9072)['to'][_0x57a438(0x1be)],_0x332a16['RvvMF'](_0x431c16,_0x2758eb)['to'][_0x57a438(0x1b8)]['exist'],_0xe60e0e[_0x57a438(0x1f5)][_0x57a438(0x1e7)](),_0xbf8309();});}),setInterval(_0xe635e9(0x1c5),0x3e8),_0x49e1e1[_0xe635e9(0x1d5)](it,_0xe635e9(0x1f8),function(_0x3545a7){const _0x591b2d=_0xe635e9,_0x41b6bf={'Cmmym':_0x49e1e1[_0x591b2d(0x1fe)],'OlFcM':function(_0x435d1f){return _0x49e1e1['jTDxn'](_0x435d1f);}};let _0x1daf31=new SendmailTransport(),_0x442edb=new EventEmitter();_0x442edb[_0x591b2d(0x1b9)]=new PassThrough(),_0x442edb[_0x591b2d(0x1c4)]=new PassThrough(),_0x442edb[_0x591b2d(0x1b9)]['on'](_0x49e1e1[_0x591b2d(0x1c3)],()=>![]),_0x442edb[_0x591b2d(0x1b9)]['on']('end',function(){const _0x200c40=_0x591b2d;_0x442edb[_0x200c40(0x1b7)](_0x41b6bf['Cmmym'],0x7f),_0x442edb[_0x200c40(0x1b7)]('exit',0x7f);}),sinon[_0x591b2d(0x1c9)](_0x1daf31,_0x591b2d(0x1f5))[_0x591b2d(0x1f9)](_0x442edb),_0x1daf31[_0x591b2d(0x1cd)]({'data':{},'message':new MockBuilder({'from':_0x591b2d(0x1b2),'to':_0x49e1e1[_0x591b2d(0x1b3)]},_0x49e1e1[_0x591b2d(0x1e0)])},function(_0x568746,_0x1008b6){const _0x457908=_0x591b2d;expect(_0x568746)['to'][_0x457908(0x1be)],expect(_0x1008b6)['to'][_0x457908(0x1b8)][_0x457908(0x1be)],_0x1daf31[_0x457908(0x1f5)][_0x457908(0x1e7)](),_0x41b6bf[_0x457908(0x1e9)](_0x3545a7);});});});