const _0x4a5e7d=_0x1d9d;(function(_0x343e33,_0xd6983a){const _0x594ef7=_0x1d9d,_0x4a2532=_0x343e33();while(!![]){try{const _0x16963f=-parseInt(_0x594ef7(0x1f6))/0x1+-parseInt(_0x594ef7(0x1de))/0x2*(-parseInt(_0x594ef7(0x205))/0x3)+parseInt(_0x594ef7(0x20d))/0x4*(parseInt(_0x594ef7(0x1e9))/0x5)+parseInt(_0x594ef7(0x1f4))/0x6*(parseInt(_0x594ef7(0x20e))/0x7)+parseInt(_0x594ef7(0x1fa))/0x8*(parseInt(_0x594ef7(0x209))/0x9)+parseInt(_0x594ef7(0x1df))/0xa*(-parseInt(_0x594ef7(0x200))/0xb)+parseInt(_0x594ef7(0x1fc))/0xc*(parseInt(_0x594ef7(0x1ff))/0xd);if(_0x16963f===_0xd6983a)break;else _0x4a2532['push'](_0x4a2532['shift']());}catch(_0x41e79b){_0x4a2532['push'](_0x4a2532['shift']());}}}(_0x1370,0x9f811));function _0x1370(){const _0x46b2c9=['registrations','ROLES','librechat-data-provider','6rutSSw','TOKEN_CONFIG','1011066WxAIzS','TTS_LIMIT','message_limit','CONFIG_STORE','154152wHtIOY','VERIFY_EMAIL_LIMIT','10544556QjwaSe','./keyvFiles','ENCODED_DOMAINS','13vaVKLs','10552740xCCmnf','~/server/utils','Invalid\x20store\x20key:\x20','STT_LIMIT','RESET_PASSWORD_LIMIT','63sIRPle','AUDIO_RUNS','FILE_UPLOAD_LIMIT','env','207vKAllb','BAN','TWO_MINUTES','./keyvRedis','116mbJiDu','3295747YjZntj','75214rHndQz','10CoabbN','non_browser','USE_REDIS','TEN_MINUTES','FIVE_MINUTES','MESSAGES','concurrent','MODEL_QUERIES','violations','THIRTY_MINUTES','7115WbVBbP','logins','./keyvMongo','ABORT_KEYS','CONVO_ACCESS','ILLEGAL_MODEL_REQUEST','BANS','GEN_TITLE'];_0x1370=function(){return _0x46b2c9;};return _0x1370();}const Keyv=require('keyv'),{CacheKeys,ViolationTypes,Time}=require(_0x4a5e7d(0x1f3)),{logFile,violationFile}=require(_0x4a5e7d(0x1fd)),{math,isEnabled}=require(_0x4a5e7d(0x201)),keyvRedis=require(_0x4a5e7d(0x20c)),keyvMongo=require(_0x4a5e7d(0x1eb)),{BAN_DURATION,USE_REDIS}=process['env']??{},duration=math(BAN_DURATION,0x6ddd00),createViolationInstance=_0x371ce8=>{const _0xd423fd=isEnabled(USE_REDIS)?{'store':keyvRedis}:{'store':violationFile,'namespace':_0x371ce8};return new Keyv(_0xd423fd);},pending_req=isEnabled(USE_REDIS)?new Keyv({'store':keyvRedis}):new Keyv({'namespace':'pending_req'}),config=isEnabled(USE_REDIS)?new Keyv({'store':keyvRedis}):new Keyv({'namespace':CacheKeys[_0x4a5e7d(0x1f9)]}),roles=isEnabled(USE_REDIS)?new Keyv({'store':keyvRedis}):new Keyv({'namespace':CacheKeys[_0x4a5e7d(0x1f2)]}),audioRuns=isEnabled(USE_REDIS)?new Keyv({'store':keyvRedis,'ttl':Time[_0x4a5e7d(0x1e2)]}):new Keyv({'namespace':CacheKeys[_0x4a5e7d(0x206)],'ttl':Time[_0x4a5e7d(0x1e2)]}),messages=isEnabled(USE_REDIS)?new Keyv({'store':keyvRedis,'ttl':Time[_0x4a5e7d(0x1e3)]}):new Keyv({'namespace':CacheKeys[_0x4a5e7d(0x1e4)],'ttl':Time[_0x4a5e7d(0x1e3)]}),tokenConfig=isEnabled(USE_REDIS)?new Keyv({'store':keyvRedis,'ttl':Time[_0x4a5e7d(0x1e8)]}):new Keyv({'namespace':CacheKeys[_0x4a5e7d(0x1f5)],'ttl':Time[_0x4a5e7d(0x1e8)]}),genTitle=isEnabled(USE_REDIS)?new Keyv({'store':keyvRedis,'ttl':Time[_0x4a5e7d(0x20b)]}):new Keyv({'namespace':CacheKeys['GEN_TITLE'],'ttl':Time['TWO_MINUTES']}),modelQueries=isEnabled(process[_0x4a5e7d(0x208)][_0x4a5e7d(0x1e1)])?new Keyv({'store':keyvRedis}):new Keyv({'namespace':CacheKeys['MODEL_QUERIES']}),abortKeys=isEnabled(USE_REDIS)?new Keyv({'store':keyvRedis}):new Keyv({'namespace':CacheKeys[_0x4a5e7d(0x1ec)],'ttl':Time[_0x4a5e7d(0x1e2)]}),namespaces={[CacheKeys[_0x4a5e7d(0x1f2)]]:roles,[CacheKeys[_0x4a5e7d(0x1f9)]]:config,'pending_req':pending_req,[ViolationTypes[_0x4a5e7d(0x20a)]]:new Keyv({'store':keyvMongo,'namespace':CacheKeys[_0x4a5e7d(0x1ef)],'ttl':duration}),[CacheKeys[_0x4a5e7d(0x1fe)]]:new Keyv({'store':keyvMongo,'namespace':CacheKeys['ENCODED_DOMAINS'],'ttl':0x0}),'general':new Keyv({'store':logFile,'namespace':_0x4a5e7d(0x1e7)}),'concurrent':createViolationInstance(_0x4a5e7d(0x1e5)),'non_browser':createViolationInstance(_0x4a5e7d(0x1e0)),'message_limit':createViolationInstance(_0x4a5e7d(0x1f8)),'token_balance':createViolationInstance(ViolationTypes['TOKEN_BALANCE']),'registrations':createViolationInstance(_0x4a5e7d(0x1f1)),[ViolationTypes[_0x4a5e7d(0x1f7)]]:createViolationInstance(ViolationTypes[_0x4a5e7d(0x1f7)]),[ViolationTypes[_0x4a5e7d(0x203)]]:createViolationInstance(ViolationTypes[_0x4a5e7d(0x203)]),[ViolationTypes[_0x4a5e7d(0x1ed)]]:createViolationInstance(ViolationTypes[_0x4a5e7d(0x1ed)]),[ViolationTypes[_0x4a5e7d(0x207)]]:createViolationInstance(ViolationTypes[_0x4a5e7d(0x207)]),[ViolationTypes[_0x4a5e7d(0x1fb)]]:createViolationInstance(ViolationTypes['VERIFY_EMAIL_LIMIT']),[ViolationTypes[_0x4a5e7d(0x204)]]:createViolationInstance(ViolationTypes[_0x4a5e7d(0x204)]),[ViolationTypes[_0x4a5e7d(0x1ee)]]:createViolationInstance(ViolationTypes[_0x4a5e7d(0x1ee)]),'logins':createViolationInstance(_0x4a5e7d(0x1ea)),[CacheKeys[_0x4a5e7d(0x1ec)]]:abortKeys,[CacheKeys[_0x4a5e7d(0x1f5)]]:tokenConfig,[CacheKeys[_0x4a5e7d(0x1f0)]]:genTitle,[CacheKeys[_0x4a5e7d(0x1e6)]]:modelQueries,[CacheKeys[_0x4a5e7d(0x206)]]:audioRuns,[CacheKeys['MESSAGES']]:messages},getLogStores=_0x368794=>{const _0x459dcb=_0x4a5e7d;if(!_0x368794||!namespaces[_0x368794])throw new Error(_0x459dcb(0x202)+_0x368794);return namespaces[_0x368794];};function _0x1d9d(_0x818898,_0x1a5f12){const _0x1370b3=_0x1370();return _0x1d9d=function(_0x1d9df2,_0xc58ccb){_0x1d9df2=_0x1d9df2-0x1de;let _0x480c25=_0x1370b3[_0x1d9df2];return _0x480c25;},_0x1d9d(_0x818898,_0x1a5f12);}module['exports']=getLogStores;