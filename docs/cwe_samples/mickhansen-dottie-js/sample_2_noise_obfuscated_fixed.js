'use strict';const _0x35cc0f=_0x48ac;(function(_0x3361a5,_0x411f35){const _0x2ca88f=_0x48ac,_0x2b9480=_0x3361a5();while(!![]){try{const _0x59fcd9=parseInt(_0x2ca88f(0x119))/0x1*(parseInt(_0x2ca88f(0x117))/0x2)+parseInt(_0x2ca88f(0xe9))/0x3*(parseInt(_0x2ca88f(0x11a))/0x4)+-parseInt(_0x2ca88f(0x133))/0x5+-parseInt(_0x2ca88f(0xca))/0x6*(-parseInt(_0x2ca88f(0x120))/0x7)+parseInt(_0x2ca88f(0x12a))/0x8+-parseInt(_0x2ca88f(0xe6))/0x9+-parseInt(_0x2ca88f(0xc9))/0xa;if(_0x59fcd9===_0x411f35)break;else _0x2b9480['push'](_0x2b9480['shift']());}catch(_0x36c762){_0x2b9480['push'](_0x2b9480['shift']());}}}(_0x280e,0x6b698));const {test}=require(_0x35cc0f(0x118)),Fastify=require(_0x35cc0f(0x13d)),GQL=require('..'),{ErrorWithProps}=GQL,{FederatedError}=require('../lib/errors'),split=require(_0x35cc0f(0x137));function _0x280e(){const _0x4748b2=['\x0a\x20\x20\x20\x20type\x20Query\x20{\x0a\x20\x20\x20\x20\x20\x20error:\x20String\x0a\x20\x20\x20\x20\x20\x20successful:\x20String\x0a\x20\x20\x20\x20}\x0a\x20\x20','error','type','data','QJgaU','log','mNhFd','kFVXC','ymOlz','graphql','fxudy','app.graphql\x20which\x20throws,\x20with\x20JIT\x20enabled,\x20twice','NLLyL','ZhDzD','stringify','jugxb','3404358ryHDtC','nIuWI','/graphql','6vNxVoe','EcgWw','PVghR','ksZLd','GraphQLError','errors\x20-\x20federated\x20errors\x20with\x20jit\x20enabled','3|2|0|1|4','Invalid\x20operation','POST','jRCxX','xsNOq','uaRZw','BfWDw','register','information','same','XtvZB','iXTqi','uaRUE','errorType','errors\x20-\x20errors\x20with\x20jit\x20enabled','/graphql?query={willThrow}','BGdkz','wZXim','end','reply','ready','Extended\x20Error','willThrow','Bad\x20Resolver','sqUAp','cFoUh','GwdWg','woFGz','safe','JuHye','RIgBp','jOfen','matchSnapshot','xoMID','wzrDF','shift','JZISy','\x0a\x20\x20\x20\x20\x20\x20type\x20Query\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20bad:\x20Int\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20','GET','/graphql?query={error,successful}','18mPJmJv','tap','52495wUYLOH','655116CNYDdh','errors\x20-\x20federated\x20errors\x20without\x20locations,\x20path\x20and\x20extensions','kGPMQ','Bvknx','WDdMy','payload','49lzJqpf','inject','POST\x20query\x20which\x20throws,\x20with\x20JIT\x20enabled,\x20twice','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20query\x20BadQuery\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bad\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','body','errors','ACoiI','ERROR_TWO','jGDLq','app','6373480ocHBzn','WMSuJ','MYOyO','JIiBN','statusCode','LDIoj','yFVnX','qWEZO','tmBRr','1900030nHVhGh','hUCLq','rCqMX','errors\x20-\x20extended\x20errors\x20with\x20number\x20extensions','split2','console.log(\x22timer\x22);','Int\x20cannot\x20represent\x20non-integer\x20value:\x20[function\x20bad]','split','QRQTF','tHxAf','fastify','equal','msg','two','errors\x20-\x20custom\x20error\x20formatter\x20that\x20uses\x20default\x20error\x20formatter','ERROR','Error','yzPfS','\x0a\x20\x20\x20\x20query\x20BadQuery\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20bad\x0a\x20\x20\x20\x20}','cRCIw','errors\x20-\x20extended\x20errors\x20optional\x20parameters','BadQuery','nmwhO','Internal\x20Server\x20Error','\x0a\x20\x20\x20\x20type\x20Query\x20{\x0a\x20\x20\x20\x20\x20\x20one:\x20String\x0a\x20\x20\x20\x20\x20\x20two:\x20String\x0a\x20\x20\x20\x20\x20\x20three:\x20String\x0a\x20\x20\x20\x20\x20\x20four:\x20String\x0a\x20\x20\x20\x20}\x0a\x20\x20','Runs\x20OK','err','tavfJ','RkcGk','updateClock();','DFXEy','EXTENDED_ERROR','ErrorWithProps\x20-\x20support\x20status\x20code\x20in\x20the\x20constructor','xdmpH','10832450pOlrrz','586950yeXnGy','one','ekmlS','XnPdu','parse','some\x20reason','IvSgo','errors\x20-\x20multiple\x20extended\x20errors','xrKmU','POST\x20query\x20with\x20a\x20resolver\x20which\x20which\x20throws\x20and\x20a\x20custom\x20error\x20formatter','length','nklRD'];_0x280e=function(){return _0x4748b2;};return _0x280e();}function _0x48ac(_0x3e6ec0,_0x34d7a0){const _0x280e5f=_0x280e();return _0x48ac=function(_0x48aca1,_0x5e8a3c){_0x48aca1=_0x48aca1-0xc9;let _0x40984f=_0x280e5f[_0x48aca1];return _0x40984f;},_0x48ac(_0x3e6ec0,_0x34d7a0);}test(_0x35cc0f(0x153),async _0x567da7=>{const _0x30578e=_0x35cc0f,_0x3b6f6e={'vVNzy':_0x30578e(0xd7)},_0x327f5a=new ErrorWithProps(_0x3b6f6e['vVNzy'],{},0x1f4);_0x567da7['equal'](_0x327f5a['statusCode'],0x1f4);}),test(_0x35cc0f(0xd1),async _0x4099f4=>{const _0xab8116=_0x35cc0f,_0x50b7a1={'qWEZO':_0xab8116(0x143),'uaRUE':'information','rCqMX':_0xab8116(0xd9),'JIiBN':function(_0xf0cd78){return _0xf0cd78();},'WDdMy':'GET','mNhFd':_0xab8116(0x14c),'xsNOq':_0xab8116(0xd7)},_0x3a535d=_0xab8116(0xd6),_0x33ca09={'Query':{'error'(){const _0x21db36=_0xab8116;throw new ErrorWithProps(_0x50b7a1[_0x21db36(0x131)],{'code':_0x21db36(0x142),'additional':_0x50b7a1[_0x21db36(0xfb)],'other':_0x50b7a1[_0x21db36(0x135)]});},'successful'(){const _0x9eab75=_0xab8116,_0x2686d8={'mYOVi':function(_0x8a451d,_0x346259){return _0x8a451d*_0x346259;}};return eval('_0x2686d8[\'mYOVi\'](Math[\'PI\'], 2);'),_0x9eab75(0x14c);}}},_0xa7cb2=_0x50b7a1[_0xab8116(0x12d)](Fastify);_0xa7cb2[_0xab8116(0xf6)](GQL,{'schema':_0x3a535d,'resolvers':_0x33ca09}),await _0xa7cb2['ready']();const _0x5c601b=await _0xa7cb2[_0xab8116(0x121)]({'method':_0x50b7a1[_0xab8116(0x11e)],'url':_0xab8116(0x116)});_0x4099f4[_0xab8116(0x13e)](_0x5c601b['statusCode'],0xc8),_0x4099f4[_0xab8116(0xf8)](JSON[_0xab8116(0xce)](_0x5c601b['payload']),{'data':{'error':null,'successful':_0x50b7a1[_0xab8116(0xdc)]},'errors':[{'message':_0x50b7a1['qWEZO'],'locations':[{'line':0x1,'column':0x2}],'path':[_0x50b7a1[_0xab8116(0xf3)]],'extensions':{'code':_0xab8116(0x142),'additional':_0xab8116(0xf7),'other':_0xab8116(0xd9)}}]});}),test(_0x35cc0f(0x136),async _0x54486c=>{const _0x41c2f7=_0x35cc0f,_0x5c59c1={'fxudy':function(_0x2eb9e0,_0x3e915d){return _0x2eb9e0+_0x3e915d;},'BGdkz':_0x41c2f7(0x10a),'WxRee':_0x41c2f7(0x104),'ZhDzD':function(_0x2ab7aa){return _0x2ab7aa();},'GwdWg':'GET','ZlTch':_0x41c2f7(0xcf)},_0x2c9648='\x0a\x20\x20\x20\x20type\x20Query\x20{\x0a\x20\x20\x20\x20\x20\x20willThrow:\x20String\x0a\x20\x20\x20\x20}\x0a\x20\x20',_0x428e2c={'Query':{'willThrow'(){const _0x389c8f=_0x41c2f7,_0x4bc7d4={'sqUAp':function(_0x5ee367,_0x1bf888){const _0x4d5e02=_0x48ac;return _0x5c59c1[_0x4d5e02(0xe0)](_0x5ee367,_0x1bf888);}};if(_0x5c59c1[_0x389c8f(0xff)]!==_0x5c59c1[_0x389c8f(0xff)])pDeXOu[_0x389c8f(0x107)](0x1,0x1);else throw new ErrorWithProps(_0x5c59c1['WxRee'],{'code':_0x389c8f(0x152),'floating':3.14,'timestamp':0x143544,'reason':_0x389c8f(0xcf)});}}},_0x29209d=_0x5c59c1[_0x41c2f7(0xe3)](Fastify);_0x29209d[_0x41c2f7(0xf6)](GQL,{'schema':_0x2c9648,'resolvers':_0x428e2c}),await _0x29209d[_0x41c2f7(0x103)]();const _0x5234a5=await _0x29209d[_0x41c2f7(0x121)]({'method':_0x5c59c1[_0x41c2f7(0x109)],'url':_0x41c2f7(0xfe)});_0x54486c[_0x41c2f7(0x13e)](_0x5234a5[_0x41c2f7(0x12e)],0xc8),_0x54486c[_0x41c2f7(0xf8)](JSON[_0x41c2f7(0xce)](_0x5234a5[_0x41c2f7(0x11f)]),{'data':{'willThrow':null},'errors':[{'message':_0x5c59c1['WxRee'],'locations':[{'line':0x1,'column':0x2}],'path':[_0x41c2f7(0x105)],'extensions':{'code':_0x41c2f7(0x152),'floating':3.14,'timestamp':0x143544,'reason':_0x5c59c1['ZlTch']}}]});}),test(_0x35cc0f(0x147),async _0x4cd101=>{const _0xf31e84=_0x35cc0f,_0xa430b={'yzPfS':_0xf31e84(0x104),'ymOlz':'/graphql?query={one,two}','xoMID':_0xf31e84(0x127),'QyBUK':_0xf31e84(0xcf)},_0x4be11e=_0xf31e84(0x14b),_0x1dffd7={'Query':{'one'(){throw new ErrorWithProps('Extended\x20Error');},'two'(){const _0x21507d=_0xf31e84;throw new ErrorWithProps(_0xa430b[_0x21507d(0x144)],{'code':_0x21507d(0x127),'reason':_0x21507d(0xcf)});}}},_0x13c153=Fastify();_0x13c153['register'](GQL,{'schema':_0x4be11e,'resolvers':_0x1dffd7}),await _0x13c153[_0xf31e84(0x103)]();const _0x378787=await _0x13c153[_0xf31e84(0x121)]({'method':'GET','url':_0xa430b[_0xf31e84(0xde)]});_0x4cd101[_0xf31e84(0x13e)](_0x378787['statusCode'],0xc8),_0x4cd101[_0xf31e84(0xf8)](JSON[_0xf31e84(0xce)](_0x378787[_0xf31e84(0x11f)]),{'data':{'one':null,'two':null},'errors':[{'message':_0xa430b[_0xf31e84(0x144)],'locations':[{'line':0x1,'column':0x2}],'path':[_0xf31e84(0xcb)]},{'message':_0xa430b[_0xf31e84(0x144)],'locations':[{'line':0x1,'column':0x6}],'path':[_0xf31e84(0x140)],'extensions':{'code':_0xa430b[_0xf31e84(0x110)],'reason':_0xa430b['QyBUK']}}]});}),test(_0x35cc0f(0xfd),async _0x19e365=>{const _0x490437=_0x35cc0f,_0x2b2de3={'tHxAf':_0x490437(0xf7),'hDXXg':'/graphql?query={error,successful}','MYyKJ':_0x490437(0x14c),'BfWDw':_0x490437(0x143),'QJgaU':_0x490437(0xd7)},_0x534b2f='\x0a\x20\x20\x20\x20type\x20Query\x20{\x0a\x20\x20\x20\x20\x20\x20error:\x20String\x0a\x20\x20\x20\x20\x20\x20successful:\x20String\x0a\x20\x20\x20\x20}\x0a\x20\x20',_0x1b676a={'Query':{'error'(){const _0x369924=_0x490437;throw new ErrorWithProps(_0x369924(0x143),{'code':_0x369924(0x142),'additional':_0x2b2de3[_0x369924(0x13c)],'other':_0x369924(0xd9)});},'successful'(){return eval('1 + 1;'),'Runs\x20OK';}}},_0x2ddbec=Fastify();_0x2ddbec[_0x490437(0xf6)](GQL,{'schema':_0x534b2f,'resolvers':_0x1b676a,'jit':0x1}),await _0x2ddbec[_0x490437(0x103)](),await _0x2ddbec[_0x490437(0x121)]({'method':'GET','url':_0x2b2de3['hDXXg']});const _0x3adf19=await _0x2ddbec['inject']({'method':_0x490437(0x115),'url':_0x2b2de3['hDXXg']});_0x19e365['equal'](_0x3adf19[_0x490437(0x12e)],0xc8),_0x19e365[_0x490437(0xf8)](JSON['parse'](_0x3adf19[_0x490437(0x11f)]),{'data':{'error':null,'successful':_0x2b2de3['MYyKJ']},'errors':[{'message':_0x2b2de3[_0x490437(0xf5)],'locations':[{'line':0x1,'column':0x2}],'path':[_0x2b2de3[_0x490437(0xda)]],'extensions':{'code':_0x490437(0x142),'additional':_0x490437(0xf7),'other':'data'}}]});}),test('errors\x20-\x20errors\x20with\x20jit\x20enabled\x20using\x20the\x20app\x20decorator',async _0x42b07d=>{const _0x36a065=_0x35cc0f,_0x58253d={'RkcGk':_0x36a065(0x142),'pftBG':_0x36a065(0xd9),'YMixZ':function(_0x7ef634,_0x18e28c,_0x356d3b){return _0x7ef634(_0x18e28c,_0x356d3b);},'hUCLq':_0x36a065(0x138),'Bvknx':function(_0x330df8){return _0x330df8();},'xrKmU':_0x36a065(0x143),'XtvZB':'error'},_0xffc59d='\x0a\x20\x20\x20\x20type\x20Query\x20{\x0a\x20\x20\x20\x20\x20\x20error:\x20String\x0a\x20\x20\x20\x20\x20\x20successful:\x20String\x0a\x20\x20\x20\x20}\x0a\x20\x20',_0x406ac0={'Query':{'error'(){const _0x496c7b=_0x36a065;throw new ErrorWithProps(_0x496c7b(0x143),{'code':_0x58253d[_0x496c7b(0x14f)],'additional':'information','other':_0x58253d['pftBG']});},'successful'(){const _0x8bd8b9=_0x36a065;return _0x58253d['YMixZ'](setTimeout,_0x58253d[_0x8bd8b9(0x134)],0x3e8),'Runs\x20OK';}}},_0x4613d6=_0x58253d[_0x36a065(0x11d)](Fastify);_0x4613d6[_0x36a065(0xf6)](GQL,{'schema':_0xffc59d,'resolvers':_0x406ac0,'jit':0x1}),await _0x4613d6[_0x36a065(0x103)](),await _0x4613d6[_0x36a065(0xdf)]('{error,successful}');const _0x31ed39=await _0x4613d6['graphql']('{error,successful}');_0x42b07d[_0x36a065(0xf8)](_0x31ed39,{'data':{'error':null,'successful':_0x36a065(0x14c)},'errors':[{'message':_0x58253d[_0x36a065(0xd2)],'locations':[{'line':0x1,'column':0x2}],'path':[_0x58253d[_0x36a065(0xf9)]],'extensions':{'code':_0x58253d['RkcGk'],'additional':'information','other':_0x58253d['pftBG']}}]});}),test(_0x35cc0f(0xee),async _0x3288e5=>{const _0x5b1ab2=_0x35cc0f,_0x58f082={'fMzBr':_0x5b1ab2(0xf0),'jGDLq':_0x5b1ab2(0xd7),'IvSgo':_0x5b1ab2(0x142),'uaRZw':_0x5b1ab2(0xf7),'EcgWw':_0x5b1ab2(0xd9),'kGPMQ':_0x5b1ab2(0x150),'nBwwG':'Runs\x20OK','RIgBp':'GET','wzrDF':_0x5b1ab2(0x116)},_0xadf0d8=_0x5b1ab2(0xd6),_0x4d98e6={'Query':{'error'(){const _0xee03ff=_0x5b1ab2;throw new FederatedError([{'message':_0x58f082['fMzBr'],'locations':[{'column':0x3,'line':0x2}],'path':[_0x58f082[_0xee03ff(0x128)]],'extensions':{'code':_0x58f082['IvSgo'],'additional':_0x58f082[_0xee03ff(0xf4)],'other':_0x58f082[_0xee03ff(0xea)]}}]);},'successful'(){const _0x4137c3=_0x5b1ab2;return setInterval(_0x58f082[_0x4137c3(0x11c)],0x3e8),_0x58f082['nBwwG'];}}},_0x3b9103=Fastify();_0x3b9103['register'](GQL,{'schema':_0xadf0d8,'resolvers':_0x4d98e6,'jit':0x1}),await _0x3b9103['ready']();const _0x362e6c=await _0x3b9103[_0x5b1ab2(0x121)]({'method':_0x58f082[_0x5b1ab2(0x10d)],'url':_0x58f082[_0x5b1ab2(0x111)]}),_0x91f045=await _0x3b9103[_0x5b1ab2(0x121)]({'method':_0x5b1ab2(0x115),'url':_0x58f082[_0x5b1ab2(0x111)]}),_0x3d33c8={'data':{'error':null,'successful':_0x5b1ab2(0x14c)},'errors':[{'message':_0x5b1ab2(0xf0),'locations':[{'column':0x3,'line':0x2}],'path':[_0x5b1ab2(0xd7)],'extensions':{'code':_0x58f082[_0x5b1ab2(0xd0)],'additional':_0x5b1ab2(0xf7),'other':'data'}}]};_0x3288e5[_0x5b1ab2(0x13e)](_0x362e6c[_0x5b1ab2(0x12e)],0xc8),_0x3288e5[_0x5b1ab2(0xf8)](JSON[_0x5b1ab2(0xce)](_0x362e6c[_0x5b1ab2(0x11f)]),_0x3d33c8),_0x3288e5['equal'](_0x91f045[_0x5b1ab2(0x12e)],0xc8),_0x3288e5[_0x5b1ab2(0xf8)](JSON['parse'](_0x91f045[_0x5b1ab2(0x11f)]),_0x3d33c8);}),test(_0x35cc0f(0x11b),async _0x2309f7=>{const _0x1c1753=_0x35cc0f,_0x5409db={'EnXrm':_0x1c1753(0xf0),'xdmpH':_0x1c1753(0x115),'jovIT':_0x1c1753(0x14c)},_0x91fd53=_0x1c1753(0xd6),_0x7cadc7={'Query':{'error'(){throw new FederatedError([{'message':_0x5409db['EnXrm']}]);},'successful'(){const _0xaa20c9=_0x1c1753;return eval('const _0x45486a = _0x48ac;JSON[_0x45486a(228)]({ \'safe\': !![] });'),_0xaa20c9(0x14c);}}},_0x4d67a5=Fastify();_0x4d67a5[_0x1c1753(0xf6)](GQL,{'schema':_0x91fd53,'resolvers':_0x7cadc7,'jit':0x1}),await _0x4d67a5[_0x1c1753(0x103)]();const _0x2496ee=await _0x4d67a5[_0x1c1753(0x121)]({'method':_0x5409db[_0x1c1753(0x154)],'url':_0x1c1753(0x116)}),_0x253386=await _0x4d67a5['inject']({'method':_0x5409db[_0x1c1753(0x154)],'url':'/graphql?query={error,successful}'}),_0x144746={'data':{'error':null,'successful':_0x5409db['jovIT']},'errors':[{'message':_0x1c1753(0xf0)}]};_0x2309f7['equal'](_0x2496ee[_0x1c1753(0x12e)],0xc8),_0x2309f7[_0x1c1753(0xf8)](JSON['parse'](_0x2496ee['payload']),_0x144746),_0x2309f7[_0x1c1753(0x13e)](_0x253386[_0x1c1753(0x12e)],0xc8),_0x2309f7['same'](JSON[_0x1c1753(0xce)](_0x253386[_0x1c1753(0x11f)]),_0x144746);}),test(_0x35cc0f(0x141),async _0x2b6399=>{const _0x2dfb15=_0x35cc0f,_0x201f39={'iXTqi':_0x2dfb15(0xe2),'nklRD':_0x2dfb15(0x106),'tmBRr':function(_0x3a2c15,_0x1be9bd){return _0x3a2c15+_0x1be9bd;},'jugxb':_0x2dfb15(0xe8),'tKJmw':'\x20query\x20{\x20bad\x20}'},_0x245941=_0x2dfb15(0x114),_0x2623b9={'bad':()=>{const _0x2b68d8=_0x2dfb15;if(_0x201f39[_0x2b68d8(0xfa)]===_0x2b68d8(0xe2))throw new Error(_0x201f39[_0x2b68d8(0xd5)]);else throw new _0x5cd948(_0x2b68d8(0x106));}},_0xaddb82=Fastify();_0xaddb82[_0x2dfb15(0xf6)](GQL,{'schema':_0x245941,'resolvers':_0x2623b9,'errorFormatter':(_0x1ead56,_0x4fb0c0)=>{const _0x21998b=_0x2dfb15,_0x3b880e={'JuHye':function(_0x4d9fa3,_0x9e76f5){const _0x53aaec=_0x48ac;return _0x201f39[_0x53aaec(0x132)](_0x4d9fa3,_0x9e76f5);}};_0x2b6399['ok'](_0x4fb0c0),_0x2b6399[_0x21998b(0x13e)](_0x4fb0c0[_0x21998b(0x129)],_0xaddb82),_0x2b6399['ok'](_0x4fb0c0[_0x21998b(0x102)]);const _0x39ad43=GQL['defaultErrorFormatter'](_0x1ead56,_0x4fb0c0);return _0x39ad43[_0x21998b(0x12e)]=0x1f3,eval('const _0x112491 = _0x21998b;_0x3b880e[_0x112491(268)](1, 1);'),_0x39ad43;}}),await _0xaddb82[_0x2dfb15(0x103)]();const _0x467839=await _0xaddb82['inject']({'method':_0x2dfb15(0xf1),'url':_0x201f39[_0x2dfb15(0xe5)],'body':{'query':_0x201f39['tKJmw']}}),_0x2d8737=JSON[_0x2dfb15(0xce)](_0x467839[_0x2dfb15(0x124)]);_0x2b6399['equal'](_0x467839[_0x2dfb15(0x12e)],0x1f3),_0x2b6399[_0x2dfb15(0x13e)](_0x2d8737[_0x2dfb15(0x125)][0x0]['message'],_0x201f39[_0x2dfb15(0xd5)]);}),test(_0x35cc0f(0xd3),async _0x58c489=>{const _0x4ca856=_0x35cc0f,_0x267dc7={'yFVnX':_0x4ca856(0x13b),'WMSuJ':function(_0x2298cf,_0x2947f7,_0x1a3ae9){return _0x2298cf(_0x2947f7,_0x1a3ae9);},'CdqJm':function(_0x1a501a){return _0x1a501a();}},_0x1cb686=_0x267dc7['CdqJm'](Fastify),_0x45ff04=_0x4ca856(0x114),_0x53d1dd={'bad':()=>{throw new Error('Bad\x20Resolver');}};_0x1cb686[_0x4ca856(0xf6)](GQL,{'schema':_0x45ff04,'resolvers':_0x53d1dd,'allowBatchedQueries':!![],'errorFormatter':(_0x142f2b,_0x141144)=>{const _0x45fb89=_0x4ca856,_0x449408={'JZISy':_0x45fb89(0x10b)};if(_0x45fb89(0x13b)===_0x267dc7[_0x45fb89(0x130)]){const _0x529c42=_0x45fb89(0xef)[_0x45fb89(0x13a)]('|');let _0x568ee5=0x0;while(!![]){switch(_0x529c42[_0x568ee5++]){case'0':_0x58c489['ok'](_0x141144[_0x45fb89(0x102)]);continue;case'1':_0x267dc7[_0x45fb89(0x12b)](setTimeout,function(){const _0x2f0961=_0x45fb89;console[_0x2f0961(0xdb)](_0x449408[_0x2f0961(0x113)]);},0x64);continue;case'2':_0x58c489[_0x45fb89(0x13e)](_0x141144['app'],_0x1cb686);continue;case'3':_0x58c489['ok'](_0x141144);continue;case'4':return{'statusCode':0xc8,'response':{'data':null,'errors':[{'message':'Internal\x20Server\x20Error'}]}};}break;}}else _0x321f15['log'](_0x45fb89(0x10b));}});const _0x21b544=await _0x1cb686[_0x4ca856(0x121)]({'method':'POST','url':_0x4ca856(0xe8),'body':{'operationName':_0x4ca856(0x148),'variables':{'x':0x1},'query':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20query\x20BadQuery\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bad\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}'}});_0x58c489[_0x4ca856(0x13e)](_0x21b544[_0x4ca856(0x12e)],0xc8),_0x58c489[_0x4ca856(0xf8)](JSON[_0x4ca856(0xce)](_0x21b544[_0x4ca856(0x124)]),{'data':null,'errors':[{'message':_0x4ca856(0x14a)}]});}),test('POST\x20query\x20which\x20throws,\x20with\x20custom\x20error\x20formatter\x20and\x20JIT\x20enabled,\x20twice',async _0x1b9b0c=>{const _0x168106=_0x35cc0f,_0x3c193b={'cRCIw':_0x168106(0x106),'ksZLd':_0x168106(0xf1),'jOfen':_0x168106(0xe8),'nIuWI':'Internal\x20Server\x20Error','PVghR':_0x168106(0x148)},_0x4805eb=Fastify(),_0x336b33=_0x168106(0x114),_0x4d375={'bad':()=>{const _0x5a4481=_0x168106;throw new Error(_0x3c193b[_0x5a4481(0x146)]);}};_0x4805eb[_0x168106(0xf6)](GQL,{'schema':_0x336b33,'resolvers':_0x4d375,'allowBatchedQueries':!![],'jit':0x1,'errorFormatter':()=>({'statusCode':0xc8,'response':{'data':null,'errors':[{'message':_0x168106(0x14a)}]}})});let _0xc7ec8f=await _0x4805eb[_0x168106(0x121)]({'method':_0x3c193b[_0x168106(0xec)],'url':_0x3c193b[_0x168106(0x10e)],'body':{'operationName':_0x168106(0x148),'variables':{'x':0x1},'query':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20query\x20BadQuery\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bad\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}'}});_0x1b9b0c['equal'](_0xc7ec8f['statusCode'],0xc8),_0x1b9b0c[_0x168106(0xf8)](JSON['parse'](_0xc7ec8f[_0x168106(0x124)]),{'data':null,'errors':[{'message':_0x3c193b[_0x168106(0xe7)]}]}),_0xc7ec8f=await _0x4805eb[_0x168106(0x121)]({'method':_0x168106(0xf1),'url':_0x3c193b[_0x168106(0x10e)],'body':{'operationName':_0x3c193b[_0x168106(0xeb)],'variables':{'x':0x1},'query':_0x168106(0x123)}}),_0x1b9b0c[_0x168106(0x13e)](_0xc7ec8f['statusCode'],0xc8),_0x1b9b0c[_0x168106(0xf8)](JSON['parse'](_0xc7ec8f[_0x168106(0x124)]),{'data':null,'errors':[{'message':_0x168106(0x14a)}]});}),test(_0x35cc0f(0x122),async _0x28364f=>{const _0x58105e=_0x35cc0f,_0x2431ac={'zERuK':function(_0x5bcd31,_0x2dd6b4){return _0x5bcd31(_0x2dd6b4);},'LDIoj':_0x58105e(0xe8),'tavfJ':'BadQuery','kFVXC':_0x58105e(0xed)},_0x27b36e=_0x2431ac['zERuK'](split,JSON[_0x58105e(0xce)]),_0x1e48c3=Fastify({'logger':{'stream':_0x27b36e}}),_0x57ec0d=_0x58105e(0x114),_0x19f8d8={'bad':()=>{const _0x1412ca=_0x58105e;throw new Error(_0x1412ca(0x106));}};_0x1e48c3[_0x58105e(0xf6)](GQL,{'schema':_0x57ec0d,'resolvers':_0x19f8d8,'jit':0x1});let _0x882658=await _0x1e48c3[_0x58105e(0x121)]({'method':'POST','url':_0x2431ac[_0x58105e(0x12f)],'body':{'operationName':_0x2431ac[_0x58105e(0x14e)],'variables':{'x':0x1},'query':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20query\x20BadQuery\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bad\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}'}});_0x28364f['equal'](_0x882658[_0x58105e(0x12e)],0xc8),_0x28364f[_0x58105e(0x10f)](JSON['stringify'](JSON[_0x58105e(0xce)](_0x882658[_0x58105e(0x124)]),null,0x2)),_0x882658=await _0x1e48c3[_0x58105e(0x121)]({'method':_0x58105e(0xf1),'url':'/graphql','body':{'operationName':_0x2431ac['tavfJ'],'variables':{'x':0x1},'query':_0x58105e(0x123)}}),_0x28364f['equal'](_0x882658[_0x58105e(0x12e)],0xc8),_0x28364f[_0x58105e(0x10f)](JSON[_0x58105e(0xe4)](JSON[_0x58105e(0xce)](_0x882658[_0x58105e(0x124)]),null,0x2)),_0x27b36e[_0x58105e(0x101)]();const _0x3f5f1e=[{'msg':_0x58105e(0x106),'errorType':_0x2431ac[_0x58105e(0xdd)]},{'msg':'Int\x20cannot\x20represent\x20non-integer\x20value:\x20[function\x20bad]','errorType':_0x2431ac[_0x58105e(0xdd)]}];for await(const _0x3e59b8 of _0x27b36e){if(_0x3e59b8[_0x58105e(0x14d)]){const _0x279693=_0x3f5f1e[_0x58105e(0x112)]();_0x28364f[_0x58105e(0x13e)](_0x3e59b8[_0x58105e(0x13f)],_0x279693[_0x58105e(0x13f)]),_0x28364f['equal'](_0x3e59b8['err']['type'],_0x279693[_0x58105e(0xfc)]);}}_0x28364f[_0x58105e(0x13e)](_0x3f5f1e[_0x58105e(0xd4)],0x0);}),test(_0x35cc0f(0xe1),async _0xb4a5b9=>{const _0x5a3562=_0x35cc0f,_0x472bd8={'DFXEy':_0x5a3562(0x106),'jRCxX':_0x5a3562(0x14c),'ACoiI':function(_0x31c7cd,_0x2988b6){return _0x31c7cd(_0x2988b6);},'wZXim':_0x5a3562(0x139),'XnPdu':_0x5a3562(0xed),'dzcsd':_0x5a3562(0x108)},_0x13a77d=_0x472bd8[_0x5a3562(0x126)](split,JSON[_0x5a3562(0xce)]),_0x3ceab4=Fastify({'logger':{'stream':_0x13a77d}}),_0x23a31f='\x0a\x20\x20\x20\x20\x20\x20type\x20Query\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20bad:\x20Int\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20',_0x43b2e5={'bad':()=>{const _0x3df52e=_0x5a3562;throw new Error(_0x472bd8[_0x3df52e(0x151)]);}};_0x3ceab4[_0x5a3562(0xf6)](GQL,{'schema':_0x23a31f,'resolvers':_0x43b2e5,'jit':0x1}),await _0x3ceab4['ready']();const _0x56e7b9=_0x5a3562(0x145);let _0x5bd2ef=await _0x3ceab4[_0x5a3562(0xdf)](_0x56e7b9,null,{'x':0x1});_0xb4a5b9[_0x5a3562(0x10f)](JSON['stringify'](_0x5bd2ef),null,0x2),_0x5bd2ef=await _0x3ceab4[_0x5a3562(0xdf)](_0x56e7b9,null,{'x':0x1}),_0xb4a5b9[_0x5a3562(0x10f)](JSON[_0x5a3562(0xe4)](_0x5bd2ef),null,0x2),_0x13a77d['end']();const _0xdfeb5b=[{'msg':_0x5a3562(0x106),'errorType':_0x5a3562(0xed)},{'msg':_0x472bd8[_0x5a3562(0x100)],'errorType':_0x472bd8[_0x5a3562(0xcd)]}];for await(const _0x26d1fa of _0x13a77d){if(_0x26d1fa['err']){if(_0x472bd8['dzcsd']===_0x5a3562(0xcc))return _0x1aab9e(_0x5a3562(0x150),0x3e8),_0x472bd8[_0x5a3562(0xf2)];else{const _0x4df154=_0xdfeb5b['shift']();_0xb4a5b9[_0x5a3562(0x13e)](_0x26d1fa[_0x5a3562(0x13f)],_0x4df154[_0x5a3562(0x13f)]),_0xb4a5b9[_0x5a3562(0x13e)](_0x26d1fa[_0x5a3562(0x14d)][_0x5a3562(0xd8)],_0x4df154[_0x5a3562(0xfc)]);}}}_0xb4a5b9[_0x5a3562(0x13e)](_0xdfeb5b[_0x5a3562(0xd4)],0x0);}),test('errors\x20-\x20should\x20override\x20statusCode\x20to\x20200\x20if\x20the\x20data\x20is\x20present',async _0x131079=>{const _0x5baf06=_0x35cc0f,_0x1eb39a={'MYOyO':_0x5baf06(0x143),'Bhscf':_0x5baf06(0x116)},_0x1b5eec='\x0a\x20\x20\x20\x20type\x20Query\x20{\x0a\x20\x20\x20\x20\x20\x20error:\x20String\x0a\x20\x20\x20\x20\x20\x20successful:\x20String\x0a\x20\x20\x20\x20}\x0a\x20\x20',_0x14c81f={'Query':{'error'(){const _0x595f7d=_0x5baf06;throw new ErrorWithProps(_0x1eb39a[_0x595f7d(0x12c)],undefined,0x1f4);},'successful'(){const _0x102b87=_0x5baf06,_0x2aea59={'nmwhO':function(_0x4eb920,_0x345da4){return _0x4eb920*_0x345da4;}};return eval('const _0x5a48e9 = _0x48ac;_0x2aea59[_0x5a48e9(329)](Math[\'PI\'], 2);'),_0x102b87(0x14c);}}},_0x18aa65=Fastify();_0x18aa65[_0x5baf06(0xf6)](GQL,{'schema':_0x1b5eec,'resolvers':_0x14c81f}),await _0x18aa65[_0x5baf06(0x103)]();const _0x570d55=await _0x18aa65[_0x5baf06(0x121)]({'method':_0x5baf06(0x115),'url':_0x1eb39a['Bhscf']});_0x131079[_0x5baf06(0x13e)](_0x570d55[_0x5baf06(0x12e)],0xc8);});