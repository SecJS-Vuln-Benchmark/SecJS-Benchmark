'use strict';function _0x5e49(){const _0x407b98=['it\x20does\x20not\x20validates\x20the\x20min\x20constraint\x20if\x20the\x20attribute\x20min\x20is\x20not\x20a\x20number','16JHhRiF','mockReset','IXDQf','165ZTUgGO','AEpft','toHaveBeenCalledWith','it\x20validates\x20the\x20unique\x20constraint\x20if\x20the\x20attribute\x20data\x20has\x20not\x20changed\x20even\x20if\x20there\x20is\x20a\x20record\x20in\x20the\x20database\x20with\x20the\x20same\x20attribute\x20value','OtIII','strapi','it\x20validates\x20the\x20min\x20constraint\x20if\x20the\x20float\x20is\x20higher\x20than\x20the\x20define\x20min','contentType','Zknvn','563163wAomOE','CvEdp','xjlwf','HuKLW','15134112PPRtbp','attrFloatUnique','zUUri','4934Yzetqm','txiPw','Rzlju','bmOgF','clearAllMocks','kcKpu','ofKnk','4EJUMvc','nullable','rCWpP','PYYTj','467zJAcNj','oZnwF','123','@strapi/utils','43500Kmlitq','zZgxf','it\x20fails\x20the\x20validation\x20of\x20the\x20unique\x20constraint\x20if\x20the\x20database\x20contains\x20a\x20record\x20with\x20the\x20same\x20attribute\x20value','toHaveBeenCalled','not','toBe','SwaHx','pnerB','test-model','toBeInstanceOf','it\x20validates\x20the\x20max\x20constraint\x20if\x20the\x20float\x20is\x20lower\x20than\x20the\x20define\x20max','uWEoz','mockResolvedValueOnce','float','validateYupSchema','test-uid','it\x20does\x20not\x20validates\x20the\x20unique\x20constraint\x20if\x20the\x20attribute\x20value\x20is\x20`null`','max','assertions','124596qvErrT','KWGhp','XOYXY','eKUUu','oFLal','../validators','7395430nKLQFC','606YfXtOV','CPNZu','it\x20validates\x20the\x20unique\x20constraint\x20if\x20there\x20is\x20no\x20other\x20record\x20in\x20the\x20database','JQOTg','42135NdEhxK','fJHDG'];_0x5e49=function(){return _0x407b98;};return _0x5e49();}const _0x525b8c=_0x5f04;function _0x5f04(_0x455428,_0x506837){const _0x5e498e=_0x5e49();return _0x5f04=function(_0x5f0430,_0x2e377f){_0x5f0430=_0x5f0430-0x161;let _0x4fd022=_0x5e498e[_0x5f0430];return _0x4fd022;},_0x5f04(_0x455428,_0x506837);}(function(_0x20632f,_0x380ee7){const _0x3a752d=_0x5f04,_0x920deb=_0x20632f();while(!![]){try{const _0x1d64d4=-parseInt(_0x3a752d(0x19f))/0x1*(-parseInt(_0x3a752d(0x194))/0x2)+parseInt(_0x3a752d(0x18d))/0x3*(parseInt(_0x3a752d(0x19b))/0x4)+-parseInt(_0x3a752d(0x17e))/0x5*(parseInt(_0x3a752d(0x17a))/0x6)+-parseInt(_0x3a752d(0x179))/0x7+parseInt(_0x3a752d(0x181))/0x8*(parseInt(_0x3a752d(0x173))/0x9)+parseInt(_0x3a752d(0x1a3))/0xa*(-parseInt(_0x3a752d(0x184))/0xb)+parseInt(_0x3a752d(0x191))/0xc;if(_0x1d64d4===_0x380ee7)break;else _0x920deb['push'](_0x920deb['shift']());}catch(_0x2a09ac){_0x920deb['push'](_0x920deb['shift']());}}}(_0x5e49,0xa01bf));const strapiUtils=require('@strapi/utils'),{errors:{YupValidationError}}=require(_0x525b8c(0x1a2)),validators=require(_0x525b8c(0x178));describe('Float\x20validator',()=>{const _0x55b035=_0x525b8c,_0xd298f0={'AEpft':'float','XOYXY':_0x55b035(0x192),'IXDQf':function(_0x33ddc6,_0x231600){return _0x33ddc6(_0x231600);},'CPNZu':function(_0x36ede2,_0x25baba){return _0x36ede2(_0x25baba);},'fJHDG':function(_0x836cf8,_0x1f74bf){return _0x836cf8(_0x1f74bf);},'xEias':function(_0x25bbd3,_0x10a361){return _0x25bbd3(_0x10a361);},'kcKpu':_0x55b035(0x18b),'bmOgF':_0x55b035(0x168),'txiPw':function(_0x1cb1e3,_0x3726d6,_0xaafe39){return _0x1cb1e3(_0x3726d6,_0xaafe39);},'Zknvn':_0x55b035(0x170),'aTDtj':_0x55b035(0x17c),'HuKLW':function(_0x261fea,_0x2ffa77,_0x578c20){return _0x261fea(_0x2ffa77,_0x578c20);},'rCWpP':_0x55b035(0x162),'Rzlju':_0x55b035(0x187),'ofKnk':function(_0x2192d1,_0xf1f07a,_0x35fd5c){return _0x2192d1(_0xf1f07a,_0x35fd5c);},'WSMTm':'it\x20checks\x20the\x20database\x20for\x20records\x20with\x20the\x20same\x20value\x20but\x20not\x20the\x20same\x20id\x20for\x20the\x20checked\x20attribute\x20if\x20an\x20entity\x20is\x20passed','CvEdp':_0x55b035(0x1a1),'pnerB':function(_0x475861,_0x208c7e){return _0x475861(_0x208c7e);},'JQOTg':_0x55b035(0x180),'eKUUu':function(_0x18244b,_0x17df1a,_0x10f48f){return _0x18244b(_0x17df1a,_0x10f48f);},'zZgxf':'it\x20fails\x20the\x20validation\x20if\x20the\x20float\x20is\x20lower\x20than\x20the\x20define\x20min','OtIII':function(_0x554b4b,_0x5e8e8e,_0x55f4bc){return _0x554b4b(_0x5e8e8e,_0x55f4bc);},'oFLal':_0x55b035(0x18a),'ysNmM':function(_0x39bb84,_0x1d0d5c){return _0x39bb84(_0x1d0d5c);},'xjlwf':'it\x20fails\x20the\x20validation\x20if\x20the\x20number\x20is\x20float\x20than\x20the\x20define\x20max','SwaHx':'unique','PYYTj':'min','ItClT':function(_0x25d368,_0x521dd3,_0x2b2e2d){return _0x25d368(_0x521dd3,_0x2b2e2d);}};describe(_0xd298f0[_0x55b035(0x166)],()=>{const _0x320e4e=_0x55b035,_0x3b1450={'KWGhp':_0x320e4e(0x192),'SKatw':function(_0x2c6796,_0x1e7410){return _0xd298f0['IXDQf'](_0x2c6796,_0x1e7410);},'oZnwF':function(_0x265748,_0x437af7){return _0x265748(_0x437af7);},'DpHbV':function(_0x4d1bec,_0x503dbf){return _0x4d1bec(_0x503dbf);},'pFKMW':_0xd298f0[_0x320e4e(0x185)]},_0x3470ac=jest['fn']();global[_0x320e4e(0x189)]={'db':{'query':jest['fn'](()=>({'findOne':_0x3470ac}))}},_0xd298f0['xEias'](afterEach,()=>{const _0x4f466b=_0x320e4e;jest[_0x4f466b(0x198)](),_0x3470ac[_0x4f466b(0x182)]();});const _0x5d389e={'kind':_0xd298f0[_0x320e4e(0x199)],'uid':_0x320e4e(0x16f),'modelName':_0xd298f0[_0x320e4e(0x197)],'privateAttributes':[],'options':{},'attributes':{'attrFloatUnique':{'type':_0xd298f0[_0x320e4e(0x185)],'unique':!![]}}};test('it\x20does\x20not\x20validates\x20the\x20unique\x20constraint\x20if\x20the\x20attribute\x20is\x20not\x20set\x20as\x20unique',async()=>{const _0xef7d80=_0x320e4e;_0x3470ac[_0xef7d80(0x16c)](null);const _0x52ca50=strapiUtils[_0xef7d80(0x16e)](validators['float']({'attr':{'type':_0xd298f0['AEpft']},'model':_0x5d389e,'updatedAttribute':{'name':_0xd298f0['XOYXY'],'value':0x1},'entity':null},{'isDraft':![]}));await _0x52ca50(0x1),_0xd298f0[_0xef7d80(0x183)](expect,_0x3470ac)[_0xef7d80(0x164)][_0xef7d80(0x163)]();}),_0xd298f0[_0x320e4e(0x195)](test,_0xd298f0[_0x320e4e(0x18c)],async()=>{const _0x4164c4=_0x320e4e;_0x3470ac[_0x4164c4(0x16c)](null);const _0x1ba393=strapiUtils[_0x4164c4(0x16e)](validators[_0x4164c4(0x16d)]({'attr':{'type':_0x4164c4(0x16d),'unique':!![]},'model':_0x5d389e,'updatedAttribute':{'name':_0x3b1450[_0x4164c4(0x174)],'value':null},'entity':null},{'isDraft':![]})[_0x4164c4(0x19c)]());await _0x3b1450['SKatw'](_0x1ba393,null),_0x3b1450['oZnwF'](expect,_0x3470ac)['not'][_0x4164c4(0x163)]();}),test(_0xd298f0['aTDtj'],async()=>{const _0xf03725=_0x320e4e;_0x3470ac[_0xf03725(0x16c)](null);const _0x10711c=strapiUtils[_0xf03725(0x16e)](validators[_0xf03725(0x16d)]({'attr':{'type':'float','unique':!![]},'model':_0x5d389e,'updatedAttribute':{'name':_0xf03725(0x192),'value':0x2},'entity':null},{'isDraft':![]}));_0x3b1450['DpHbV'](expect,await _0x10711c(0x1))[_0xf03725(0x165)](0x1);}),_0xd298f0[_0x320e4e(0x190)](test,_0xd298f0[_0x320e4e(0x19d)],async()=>{const _0x95e068=_0x320e4e;expect['assertions'](0x1),_0x3470ac[_0x95e068(0x16c)]({'attrFloatUnique':0x2});const _0x1d677c=strapiUtils['validateYupSchema'](validators['float']({'attr':{'type':_0x3b1450['pFKMW'],'unique':!![]},'model':_0x5d389e,'updatedAttribute':{'name':_0x95e068(0x192),'value':0x2},'entity':null},{'isDraft':![]}));try{await _0x1d677c(0x2);}catch(_0x3c4402){_0x3b1450[_0x95e068(0x1a0)](expect,_0x3c4402)[_0x95e068(0x169)](YupValidationError);}}),test(_0xd298f0[_0x320e4e(0x196)],async()=>{const _0x210917=_0x320e4e;_0x3470ac['mockResolvedValueOnce']({'attrFloatUnique':0x3});const _0x5474d8=strapiUtils[_0x210917(0x16e)](validators[_0x210917(0x16d)]({'attr':{'type':_0xd298f0[_0x210917(0x185)],'unique':!![]},'model':_0x5d389e,'updatedAttribute':{'name':_0xd298f0[_0x210917(0x175)],'value':0x3},'entity':{'id':0x1,'attrFloatUnique':0x3}},{'isDraft':![]}));_0xd298f0[_0x210917(0x17b)](expect,await _0xd298f0[_0x210917(0x183)](_0x5474d8,0x3))[_0x210917(0x165)](0x3);}),_0xd298f0[_0x320e4e(0x19a)](test,'it\x20checks\x20the\x20database\x20for\x20records\x20with\x20the\x20same\x20value\x20for\x20the\x20checked\x20attribute',async()=>{const _0x22ee53=_0x320e4e;_0x3470ac[_0x22ee53(0x16c)](null);const _0x21325f=strapiUtils['validateYupSchema'](validators['float']({'attr':{'type':_0x22ee53(0x16d),'unique':!![]},'model':_0x5d389e,'updatedAttribute':{'name':_0x22ee53(0x192),'value':0x4},'entity':null},{'isDraft':![]}));await _0x21325f(0x4),expect(_0x3470ac)[_0x22ee53(0x186)]({'select':['id'],'where':{'attrFloatUnique':0x4}});}),test(_0xd298f0['WSMTm'],async()=>{const _0x3470c6=_0x320e4e;_0x3470ac['mockResolvedValueOnce'](null);const _0x8f12fe=strapiUtils[_0x3470c6(0x16e)](validators[_0x3470c6(0x16d)]({'attr':{'type':_0xd298f0[_0x3470c6(0x185)],'unique':!![]},'model':_0x5d389e,'updatedAttribute':{'name':_0xd298f0[_0x3470c6(0x175)],'value':0x5},'entity':{'id':0x1,'attrFloatUnique':0x2a}},{'isDraft':![]}));await _0xd298f0[_0x3470c6(0x17f)](_0x8f12fe,0x5),expect(_0x3470ac)['toHaveBeenCalledWith']({'select':['id'],'where':{'$and':[{'attrFloatUnique':0x5},{'$not':{'id':0x1}}]}});});}),describe(_0xd298f0[_0x55b035(0x19e)],()=>{const _0x15d0e0=_0x55b035;_0xd298f0[_0x15d0e0(0x19a)](test,_0xd298f0[_0x15d0e0(0x17d)],async()=>{const _0x399d10=_0x15d0e0,_0x4aeb37=strapiUtils[_0x399d10(0x16e)](validators[_0x399d10(0x16d)]({'attr':{'type':_0xd298f0[_0x399d10(0x185)],'minLength':_0xd298f0[_0x399d10(0x18e)]}},{'isDraft':![]}));_0xd298f0[_0x399d10(0x17b)](expect,await _0xd298f0['xEias'](_0x4aeb37,0x1))['toBe'](0x1);}),_0xd298f0[_0x15d0e0(0x176)](test,_0xd298f0[_0x15d0e0(0x161)],async()=>{const _0x4dc46a=_0x15d0e0;expect[_0x4dc46a(0x172)](0x1);const _0x26ed69=strapiUtils[_0x4dc46a(0x16e)](validators['float']({'attr':{'type':_0x4dc46a(0x16d),'min':0x3}},{'isDraft':![]}));try{await _0xd298f0[_0x4dc46a(0x167)](_0x26ed69,0x1);}catch(_0x53cbc1){_0xd298f0['fJHDG'](expect,_0x53cbc1)[_0x4dc46a(0x169)](YupValidationError);}}),_0xd298f0[_0x15d0e0(0x188)](test,_0xd298f0[_0x15d0e0(0x177)],async()=>{const _0x58a483=_0x15d0e0,_0x56d10c=strapiUtils['validateYupSchema'](validators['float']({'attr':{'type':_0xd298f0['AEpft'],'min':0x3}},{'isDraft':![]}));_0xd298f0[_0x58a483(0x183)](expect,await _0x56d10c(0x4))[_0x58a483(0x165)](0x4);});}),_0xd298f0['ItClT'](describe,_0x55b035(0x171),()=>{const _0x13ca52=_0x55b035,_0x561a33={'uWEoz':function(_0x82cb8f,_0x5a1282){return _0xd298f0['ysNmM'](_0x82cb8f,_0x5a1282);},'zUUri':_0xd298f0['AEpft']};_0xd298f0[_0x13ca52(0x188)](test,'it\x20does\x20not\x20validates\x20the\x20max\x20constraint\x20if\x20the\x20attribute\x20max\x20is\x20not\x20an\x20float',async()=>{const _0x36d3f1=_0x13ca52,_0x1ca111=strapiUtils[_0x36d3f1(0x16e)](validators[_0x36d3f1(0x16d)]({'attr':{'type':_0x36d3f1(0x16d),'maxLength':_0x36d3f1(0x1a1)}},{'isDraft':![]}));_0x561a33[_0x36d3f1(0x16b)](expect,await _0x1ca111(0x1))[_0x36d3f1(0x165)](0x1);}),test(_0xd298f0[_0x13ca52(0x18f)],async()=>{const _0x5a1aa1=_0x13ca52;expect[_0x5a1aa1(0x172)](0x1);const _0x55c8b6=strapiUtils['validateYupSchema'](validators[_0x5a1aa1(0x16d)]({'attr':{'type':_0xd298f0['AEpft'],'max':0x3}},{'isDraft':![]}));try{await _0xd298f0[_0x5a1aa1(0x17b)](_0x55c8b6,0x4);}catch(_0x583d70){expect(_0x583d70)[_0x5a1aa1(0x169)](YupValidationError);}}),test(_0x13ca52(0x16a),async()=>{const _0x29173c=_0x13ca52,_0x2bae8d=strapiUtils[_0x29173c(0x16e)](validators[_0x29173c(0x16d)]({'attr':{'type':_0x561a33[_0x29173c(0x193)],'max':0x3}},{'isDraft':![]}));expect(await _0x2bae8d(0x2))[_0x29173c(0x165)](0x2);});});});