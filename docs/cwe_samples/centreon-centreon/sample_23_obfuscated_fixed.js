var _0x1db67c=_0x3613;(function(_0x30b9c2,_0x445f56){var _0x471088=_0x3613,_0x4afa88=_0x30b9c2();while(!![]){try{var _0x1c145e=parseInt(_0x471088(0x116))/0x1*(-parseInt(_0x471088(0xe5))/0x2)+parseInt(_0x471088(0xe4))/0x3+-parseInt(_0x471088(0x11e))/0x4+parseInt(_0x471088(0x112))/0x5+-parseInt(_0x471088(0xe8))/0x6+-parseInt(_0x471088(0x125))/0x7+parseInt(_0x471088(0x104))/0x8;if(_0x1c145e===_0x445f56)break;else _0x4afa88['push'](_0x4afa88['shift']());}catch(_0x5c653a){_0x4afa88['push'](_0x4afa88['shift']());}}}(_0x3a34,0x62ce2));function _0x3a34(){var _0x33f793=['This\x20version\x20of\x20Sails\x20is\x20not\x20compatible\x20with\x20the\x20socket.io/sails.io.js\x20client\x20SDK\x20version\x20you\x20are\x20using\x20(%s).\x20Please\x20see\x20https://sailsjs.com/documentation/upgrading/to-v-0-11\x20for\x20more\x20information--\x20then\x20please\x20continue\x20upgrading\x20all\x20the\x20way\x20to\x20the\x20installed\x20version\x20of\x20Sails.','socketIOClientCallback','lnrFW','incomingSailsIOMsg','isFunction','pop','sockets','256652WmeSqO','origin','params','Could\x20not\x20persist\x20res.headers[\x22set-cookie\x22]\x20into\x20the\x20socket\x20handshake:','XUPvt','PARSE_VIRTUAL_REQ','route','5659654KOiWIL','Interpreting\x20socket.io\x20message\x20as\x20VR\x20(virtual\x20request)\x20to\x20\x22%s\x20%s\x22...','pPYKZ','extend','format','url','NuiTi','QXvAK','sbpDX','dqAom','./errors','>=0.11.0','handshake','set-cookie','minor','socket','pidWN','1173291VYBiCc','152uFvCPd','sails:parseError','FyhCo','3556146tbbliU','router','util','nosession','headers','verbose','Failed\x20to\x20parse\x20incoming\x20socket.io\x20request.','CvUax','statusCode','details','parse','reverse','defaults','trust\x20proxy\x20fn','Receiving\x20incoming\x20message\x20from\x20Socket.io:\x20','data','host','JFEii','major','config','app','tXKPU','vowRM','XofNW','hooks','bZPOq','JJRes','Invalid\x20url\x20provided:\x20%s','11104056GHsJoy','exports','version','log','error','aTxHh','semver','AfmOe','Could\x20not\x20parse\x20request-\x20callback\x20may\x20be\x20omitted...\x20but\x20if\x20provided,\x20it\x20must\x20be\x20a\x20function.','all','emit','ptOzx','satisfies','patch','574590DfCCfj','cookie','pathname','proxy-addr','315ylzEKg'];_0x3a34=function(){return _0x33f793;};return _0x3a34();}var util=require(_0x1db67c(0xea)),url=require('url'),_=require('@sailshq/lodash'),semver=require(_0x1db67c(0x10a)),parseSdkMetadata=require('./parse-sdk-metadata'),ERRORPACK=require(_0x1db67c(0x12f)),proxyaddr=require(_0x1db67c(0x115));function _0x3613(_0x39ed05,_0x3d3b32){var _0x3a34a8=_0x3a34();return _0x3613=function(_0x3613f8,_0x31d848){_0x3613f8=_0x3613f8-0xe4;var _0x57622e=_0x3a34a8[_0x3613f8];return _0x57622e;},_0x3613(_0x39ed05,_0x3d3b32);}module[_0x1db67c(0x105)]=function ToReceiveIncomingSailsIOMsg(_0x376288){var _0x5bec7f=_0x1db67c,_0x4a506e={'vowRM':function(_0x5e64ce,_0x58eb18){return _0x5e64ce(_0x58eb18);},'sdnzU':function(_0x342aed,_0x22f5c4){return _0x342aed===_0x22f5c4;},'CvUax':_0x5bec7f(0xe7),'JJRes':_0x5bec7f(0x132),'tXKPU':function(_0x794869,_0x45b9a9){return _0x794869===_0x45b9a9;},'JFEii':_0x5bec7f(0xee),'aTxHh':_0x5bec7f(0xe6),'phdvB':_0x5bec7f(0xf6),'NuiTi':_0x5bec7f(0x103),'sbpDX':function(_0x2a6605,_0x542f8a){return _0x2a6605(_0x542f8a);},'dqAom':function(_0x38bdd3,_0x964ea2){return _0x38bdd3+_0x964ea2;},'lehDQ':function(_0x392403,_0xa96b37){return _0x392403!==_0xa96b37;},'ZIrui':function(_0x444718,_0x299488,_0x32cd77){return _0x444718(_0x299488,_0x32cd77);},'AfmOe':function(_0x2febdf,_0x3c2d8c){return _0x2febdf!==_0x3c2d8c;},'bZPOq':_0x5bec7f(0xff)};return function _0x2223c9(_0x3c3647){var _0x35bd35=_0x5bec7f,_0x387c94={'nXaWi':_0x4a506e[_0x35bd35(0x102)]};_0x376288[_0x35bd35(0x107)][_0x35bd35(0xed)](_0x4a506e['phdvB'],_0x3c3647['incomingSailsIOMsg']);if(_0x3c3647['socketIOClientCallback']&&!_['isFunction'](_0x3c3647['socketIOClientCallback']))return delete _0x3c3647[_0x35bd35(0x118)],_0x3336eb(_0x35bd35(0x10c));if(!_0x3c3647[_0x35bd35(0x11a)]['url'])return _0x4a506e[_0x35bd35(0xfe)](_0x3336eb,util['format']('No\x20url\x20provided\x20in\x20request:\x20%s',_0x3c3647[_0x35bd35(0x11a)]));if(!_['isString'](_0x3c3647[_0x35bd35(0x11a)][_0x35bd35(0x12a)]))return _0x4a506e[_0x35bd35(0xfe)](_0x3336eb,util[_0x35bd35(0x129)](_0x4a506e[_0x35bd35(0x12b)],_0x3c3647[_0x35bd35(0x11a)][_0x35bd35(0x12a)]));var _0x119777=_0x4a506e[_0x35bd35(0x12d)](parseSdkMetadata,_0x3c3647[_0x35bd35(0x134)][_0x35bd35(0x131)]),_0x52cc56=_0x4a506e['dqAom'](_0x4a506e[_0x35bd35(0x12e)](semver[_0x35bd35(0xfa)](_0x119777[_0x35bd35(0x106)])+'.',semver[_0x35bd35(0x133)](_0x119777['version'])),'.')+semver[_0x35bd35(0x111)](_0x119777[_0x35bd35(0x106)]);if(!semver[_0x35bd35(0x110)](_0x52cc56,_0x35bd35(0x130)))return _0x3336eb(util[_0x35bd35(0x129)](_0x35bd35(0x117),_0x119777['version']));var _0x497ee6;try{_0x497ee6=_0x376288[_0x35bd35(0x100)]['http'][_0x35bd35(0xfc)]['get'](_0x35bd35(0xf5));}catch(_0x5a920f){_0x4a506e['lehDQ'](_0x35bd35(0x135),_0x35bd35(0x10f))?_0x497ee6=function(){return![];}:_0x240db1['socket']['handshake'][_0x35bd35(0xec)][_0x35bd35(0x113)]=_0x4e6f21[_0x35bd35(0xec)][_0x387c94['nXaWi']][0x0];}var _0x3f710f={'connection':{'remoteAddress':_0x3c3647[_0x35bd35(0x134)]['handshake']['address']},'headers':_0x3c3647[_0x35bd35(0x134)]['handshake']['headers']},_0x25e66d=_0x4a506e['ZIrui'](proxyaddr,_0x3f710f,_0x497ee6),_0x21ddba=proxyaddr[_0x35bd35(0x10d)](_0x3f710f,_0x497ee6);_0x21ddba[_0x35bd35(0xf3)]()[_0x35bd35(0x11c)]();var _0x3bcfb3={'transport':'socket.io','protocol':'ws','isSocket':!![],'ip':_0x25e66d,'ips':_0x21ddba,'port':null,'socket':_0x3c3647[_0x35bd35(0x134)],'url':_0x3c3647['incomingSailsIOMsg'][_0x35bd35(0x12a)],'path':url[_0x35bd35(0xf2)](_0x3c3647['incomingSailsIOMsg']['url'])[_0x35bd35(0x114)],'method':_0x3c3647['eventName'],'body':_['isArray'](_0x3c3647[_0x35bd35(0x11a)][_0x35bd35(0xf7)])?_0x3c3647[_0x35bd35(0x11a)]['data']:_[_0x35bd35(0x128)]({},_0x3c3647[_0x35bd35(0x11a)][_0x35bd35(0x120)]||{},_0x3c3647[_0x35bd35(0x11a)][_0x35bd35(0xf7)]||{}),'headers':_[_0x35bd35(0xf4)]({'host':_0x376288['config'][_0x35bd35(0xf8)],'cookie':(function(){var _0x7d4854=_0x35bd35,_0x297990;try{_0x297990=_0x3c3647['socket']['handshake'][_0x7d4854(0xec)][_0x7d4854(0x113)];}catch(_0x16aa84){}return _0x297990;}()),'nosession':_0x3c3647[_0x35bd35(0x134)]['handshake'][_0x35bd35(0xec)][_0x35bd35(0xeb)]?!![]:undefined},_0x3c3647[_0x35bd35(0x11a)][_0x35bd35(0xec)]||{})};_0x3bcfb3[_0x35bd35(0xec)]['origin']&&(_0x4a506e[_0x35bd35(0x10b)](_0x35bd35(0xff),_0x4a506e[_0x35bd35(0x101)])?_0x5190ef=function(){return![];}:_0x376288[_0x35bd35(0x107)][_0x35bd35(0xed)]('Ignoring\x20provided\x20`origin`\x20header\x20in\x20VR\x20(virtual\x20request)\x20from\x20socket.io:\x20It\x20would\x20not\x20be\x20safe\x20to\x20change\x20`origin`\x20for\x20this\x20socket\x20now!'));_0x3bcfb3['headers'][_0x35bd35(0x11f)]=(function(){var _0x1bab27=_0x35bd35,_0x28a3c1;try{_0x28a3c1=_0x3c3647[_0x1bab27(0x134)][_0x1bab27(0x131)][_0x1bab27(0xec)][_0x1bab27(0x11f)];}catch(_0x44c6ef){}return _0x28a3c1;}()),_0x376288[_0x35bd35(0x107)][_0x35bd35(0xed)](_0x35bd35(0x126),_0x3bcfb3['method'],_0x3bcfb3[_0x35bd35(0x12a)]);var _0x578595={'_clientCallback':function _0x50d781(_0x463045){var _0x10f7e8=_0x35bd35,_0x34497c={'lnrFW':function(_0x8805f8,_0x2757b6){var _0x5e2b65=_0x3613;return _0x4a506e[_0x5e2b65(0xfe)](_0x8805f8,_0x2757b6);}};try{if(!_0x3c3647['socket']['handshake'][_0x10f7e8(0xec)][_0x10f7e8(0x113)]&&_0x463045[_0x10f7e8(0xec)][_0x10f7e8(0x132)]){if(_0x4a506e['sdnzU'](_0x10f7e8(0x127),_0x4a506e[_0x10f7e8(0xef)])){var _0xfdd631;try{_0xfdd631=_0x2da047[_0x10f7e8(0x134)][_0x10f7e8(0x131)][_0x10f7e8(0xec)][_0x10f7e8(0x11f)];}catch(_0x20b9bb){}return _0xfdd631;}else _0x3c3647[_0x10f7e8(0x134)][_0x10f7e8(0x131)]['headers'][_0x10f7e8(0x113)]=_0x463045[_0x10f7e8(0xec)][_0x4a506e[_0x10f7e8(0x102)]][0x0];}}catch(_0x56fdcb){if(_0x4a506e[_0x10f7e8(0xfd)](_0x10f7e8(0x12c),_0x10f7e8(0x122)))return _0x34497c[_0x10f7e8(0x119)](_0x167819,_0xc1f321['format']('This\x20version\x20of\x20Sails\x20is\x20not\x20compatible\x20with\x20the\x20socket.io/sails.io.js\x20client\x20SDK\x20version\x20you\x20are\x20using\x20(%s).\x20Please\x20see\x20https://sailsjs.com/documentation/upgrading/to-v-0-11\x20for\x20more\x20information--\x20then\x20please\x20continue\x20upgrading\x20all\x20the\x20way\x20to\x20the\x20installed\x20version\x20of\x20Sails.',_0x320790[_0x10f7e8(0x106)]));else _0x376288['log']['warn'](_0x10f7e8(0x121),_0x56fdcb);}if(!_[_0x10f7e8(0x11b)](_0x3c3647[_0x10f7e8(0x118)]))return;var _0x2c7155={'body':_0x463045['body']};_0x376288[_0x10f7e8(0xfb)]['sockets']['sendResponseHeaders']&&(_0x2c7155[_0x10f7e8(0xec)]=_0x463045[_0x10f7e8(0xec)]);_0x376288[_0x10f7e8(0xfb)][_0x10f7e8(0x11d)]['sendStatusCode']&&(_0x2c7155['statusCode']=_0x463045[_0x10f7e8(0xf0)]);delete _0x2c7155[_0x10f7e8(0xec)]['set-cookie'],_0x3c3647[_0x10f7e8(0x118)](_0x2c7155);return;}};_0x376288[_0x35bd35(0xe9)][_0x35bd35(0x124)](_0x3bcfb3,_0x578595);function _0x3336eb(_0x4887e2){var _0x329939=_0x35bd35,_0x809bd6=ERRORPACK[_0x329939(0x123)](_0x4a506e[_0x329939(0xf9)]);_0x809bd6[_0x329939(0xf1)]=_0x4887e2,_0x376288[_0x329939(0x107)][_0x329939(0x108)](_0x809bd6);if(!_[_0x329939(0x11b)](_0x3c3647[_0x329939(0x118)])){_0x3c3647['socket'][_0x329939(0x10e)](_0x4a506e[_0x329939(0x109)],_0x809bd6);return;}return _0x3c3647[_0x329939(0x118)](_0x809bd6);}};};