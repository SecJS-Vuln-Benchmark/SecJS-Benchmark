const _0x20a2bb=_0x38f9;(function(_0x3416a1,_0x1e9fab){const _0x1b3257=_0x38f9,_0x2207f1=_0x3416a1();while(!![]){try{const _0x550203=-parseInt(_0x1b3257(0x191))/0x1+-parseInt(_0x1b3257(0x1d6))/0x2+-parseInt(_0x1b3257(0x181))/0x3*(-parseInt(_0x1b3257(0x17c))/0x4)+-parseInt(_0x1b3257(0x20c))/0x5*(parseInt(_0x1b3257(0x190))/0x6)+parseInt(_0x1b3257(0x179))/0x7+-parseInt(_0x1b3257(0x1fd))/0x8*(-parseInt(_0x1b3257(0x1ed))/0x9)+-parseInt(_0x1b3257(0x1df))/0xa;if(_0x550203===_0x1e9fab)break;else _0x2207f1['push'](_0x2207f1['shift']());}catch(_0x3d4e18){_0x2207f1['push'](_0x2207f1['shift']());}}}(_0x3800,0x71c26));import*as _0x2dfc30 from'trix/config';import{OBJECT_REPLACEMENT_CHARACTER}from'trix/constants';import{TEST_IMAGE_URL,assert,clickToolbarButton,createFile,expandSelection,expectDocument,moveCursor,pasteContent,pressKey,test,testGroup,testIf,triggerEvent,typeCharacters}from'test/test_helper';import{delay,nextFrame}from'../test_helpers/timing_helpers';function _0x38f9(_0x51117c,_0x549089){const _0x3800fc=_0x3800();return _0x38f9=function(_0x38f97a,_0x50f7ad){_0x38f97a=_0x38f97a-0x164;let _0x545143=_0x3800fc[_0x38f97a];return _0x545143;},_0x38f9(_0x51117c,_0x549089);}function _0x3800(){const _0x376390=['QJibk','paste\x20list\x20into\x20quoted\x20list','RoEnu','getBlockCount','IOxJO','agqXA','getAttributes','8OZRrNM','one\x0a','text/plain','sZQmS','zAzxD','SHGOB','VeBlj','paste\x20complex\x20html\x20into\x20formatted\x20block','a\x0ab\x0ac\x0a','deepEqual','abc','UQamn','toString','paste\x20html\x20in\x20expanded\x20selection','paste\x20file','232175QlYPwZ','javascript:alert(\x27XSS\x27)','CZqbC','oEdih','UBLRf','LAxTP','KFFtF','NKpDA','bulletList','WIbJC','split','bfCYX','\x20\x20\x20\x20\x20\x20\x20\x20<img\x20onload=\x22window.unsanitized.push(\x27img.onload\x27);\x22\x20src=\x22','FXeqP','Example','\x20\x20\x20Example\x20from\x20\x0a\x20link\x20\x20around\x0a\x0anested\x20\x0aelements\x20','YXOvK','ahttp://example.com\x0a','0|4|2|3|5|1','<ul><li>a</li><li>b</li></ul>','paste\x20data-trix-attachment\x20encoded\x20mathml','hXZRs','nyKsD','5663119fqUVMS','paste\x20list\x20into\x20list','wGoxE','32UVRkSZ','&lt;','jljnv','QZOJj','CLtCw','302094RJDYvA','a\x0db\x0dc','Example\x0a','rXIVN','deGsJ','OMOTr','nDnUw','text/html','activeElement','gyNya','<div>Hello\x20world<br></div><div>This\x20is\x20a\x20test</div>','input','IjGTe','<span>bc</span>','<div>a<br></div>\x0d\x0a<div>b<br></div>\x0d\x0a<div>c<br></div>','54jlYufL','115453vViviR','getBlockAtIndex','<meta\x20charset=\x27utf-8\x27>a\x0ab','IVWMI','nOYgh','a\x20b\x0a','<meta\x20charset=\x27utf-8\x27>a\x0a<strong>b</strong>','hFsTK','\x20\x20\x20\x20\x20\x20copy<div\x20data-trix-attachment=\x22{&quot;contentType&quot;:&quot;text/anything&quot;,&quot;content&quot;:&quot;&lt;img\x20src=1\x20onerror=window.unsanitized.push(1)&gt;HELLO123&quot;}\x22></div>me\x0a\x20\x20\x20\x20\x20\x20','paste\x20URL\x20with\x20name\x20containing\x20extraneous\x20whitespace','selectedRange','setLocationRange','two\x0a','xwJtB','duPHH','javascript:alert(\x27XSS\x27)\x0a','ZHrYJ','<strong>x</strong>','FYbSK','prefers\x20formatted\x20html','a\x0ab','\x20\x20\x20\x20\x20\x20copy<div\x20data-trix-attachment=\x22{&quot;contentType&quot;:&quot;text/html5&quot;,&quot;content&quot;:&quot;&lt;math&gt;&lt;mtext&gt;&lt;table&gt;&lt;mglyph&gt;&lt;style&gt;&lt;img\x20src=x\x20onerror=window.unsanitized.push(1)&gt;&lt;/style&gt;XSS\x20POC&quot;}\x22></div>me\x0a\x20\x20\x20\x20\x20\x20','abcHello\x20world\x0a','paste\x20plain\x20text\x20with\x20CRLF\x20','textAttributes','HxdgV','YFzuZ','beforeend','JYehP','paste\x20JavaScript\x20URL','ab!c\x0a','UUkCK','zz\x0a','UdUao','xc\x0a','QujJj','EYqMR','zQtKL','AEPOu','y\x0azz','http://example.com','paste\x20list\x20into\x20quote','zqnxz','qkgmh','KcYeg','<ul><li>a<ul><li>b</li></ul></li></ul>','paste\x20unsafe\x20html\x20with\x20noscript','\x20\x20\x20\x20\x20\x20copy<div\x20data-trix-attachment=\x22{&quot;contentType&quot;:&quot;text/html5&quot;,&quot;content&quot;:&quot;&lt;embed\x20src=\x27window.unsanitized.push(1)\x27&gt;XSS\x20POC&quot;}\x22></div>me\x0a\x20\x20\x20\x20\x20\x20','editor_empty','wQgVV','paste\x20simple\x20html','kktHS','Pasting','insertAdjacentHTML','kgStg','paste\x20data-trix-attachment\x20unsafe\x20html','xiHmk','paste\x20event\x20with\x20no\x20clipboardData','ab<c\x0a','OPFzX','paste\x20URL','bullet','plTkz','This\x20is\x20a\x20test\x0a','equal','nhqcm','paste\x20URL\x20with\x20name','a\x0ab\x0a','<div>a<br></div>\x0d<div>b<br></div>\x0d<div>c<br></div>','923900SQtquL','prefers\x20plain\x20text\x20when\x20html\x20lacks\x20formatting','quote','qmHmK','getLevel','cZRUh','UpFSL','paste\x20plain\x20text','XghkJ','2067140jSEhvY','abc\x0a','left','YTKxg','cKEsu','\x20\x20\x20\x20\x20\x20\x20\x20<div><noscript><div\x20class=\x22123</noscript>456<img\x20src=1\x20onerror=window.unsanitized.push(1)//\x22></div></noscript></div>\x0a\x20\x20\x20\x20\x20\x20','oacpR','mrOme','jrcbr','paste\x20data-trix-attachment\x20encoded\x20embed','code','ZWFmd','uLrJJ','paste\x20html\x20with\x20CR','480501bwsqLF','wJlPg','a\x0d\x0ab\x0d\x0ac','hZJRR','YeARb','unsanitized','<ul><li>one</li><li>two</li></ul>','Example\x20from\x20link\x20around\x20nested\x20elements\x0a','HLsgY'];_0x3800=function(){return _0x376390;};return _0x3800();}testGroup(_0x20a2bb(0x1c5),{'template':_0x20a2bb(0x1c1)},()=>{const _0x405673=_0x20a2bb,_0x350f41={'KcYeg':_0x405673(0x1e1),'Xjtxd':_0x405673(0x1ff),'nyKsD':function(_0x58561f,_0x14eefe){return _0x58561f(_0x14eefe);},'LAxTP':function(_0x3431b8,_0x411b1a){return _0x3431b8(_0x411b1a);},'zQtKL':_0x405673(0x207),'TyyoY':_0x405673(0x1cb),'VeBlj':function(_0x5a94a3,_0x13d59b,_0x26c5fc){return _0x5a94a3(_0x13d59b,_0x26c5fc);},'fKytf':_0x405673(0x18b),'thvnQ':function(_0x5c0b3a,_0x32fa92){return _0x5c0b3a(_0x32fa92);},'YeARb':function(_0x37a203,_0x10f1cb){return _0x37a203(_0x10f1cb);},'HxdgV':function(_0x37420c,_0x5bb2fd,_0x136aee){return _0x37420c(_0x5bb2fd,_0x136aee);},'hFsTK':_0x405673(0x1a2),'UpFSL':_0x405673(0x1ef),'OPFzX':_0x405673(0x205),'wQgVV':_0x405673(0x18f),'sZQmS':function(_0x15d94c,_0x3d6f64){return _0x15d94c(_0x3d6f64);},'HLsgY':function(_0x2ec271,_0x5790b4,_0x46696d){return _0x2ec271(_0x5790b4,_0x46696d);},'IOxJO':function(_0xcb13,_0x4f5e29,_0x54b5a6){return _0xcb13(_0x4f5e29,_0x54b5a6);},'hZJRR':_0x405673(0x1d5),'xiHmk':function(_0x23a095,_0x2536f0){return _0x23a095(_0x2536f0);},'xwJtB':function(_0x3448c1,_0x574559){return _0x3448c1(_0x574559);},'gyNya':function(_0x1ed01a,_0x3fb7d1){return _0x1ed01a(_0x3fb7d1);},'UUkCK':_0x405673(0x193),'EyhoI':_0x405673(0x1a5),'IjGTe':function(_0x16d34b,_0x2ffd57){return _0x16d34b(_0x2ffd57);},'oEdih':_0x405673(0x1d4),'nDnUw':function(_0x4d8ebc,_0x5d632e){return _0x4d8ebc(_0x5d632e);},'ZWFmd':_0x405673(0x196),'UBLRf':'http://example.com','hXZRs':_0x405673(0x173),'FNjBh':_0x405673(0x170),'plTkz':function(_0x19d2be,_0x589b5c){return _0x19d2be(_0x589b5c);},'RoEnu':_0x405673(0x183),'XZcBN':function(_0x5c5170,_0x17af7d){return _0x5c5170(_0x17af7d);},'QujJj':_0x405673(0x1a0),'IVWMI':_0x405673(0x1f4),'OatDU':function(_0x3a7358,_0x49f6d4){return _0x3a7358(_0x49f6d4);},'FXeqP':'quote','UdUao':function(_0x181234,_0x436bc6,_0x4fd6ee){return _0x181234(_0x436bc6,_0x4fd6ee);},'CZqbC':_0x405673(0x1a7),'SnPze':_0x405673(0x1d0),'YFzuZ':function(_0x112409,_0x5934e9){return _0x112409(_0x5934e9);},'QJibk':'bullet','nOYgh':function(_0x56381f,_0x17a1d4){return _0x56381f(_0x17a1d4);},'XghkJ':function(_0x373960,_0x36b4b0,_0x111adc){return _0x373960(_0x36b4b0,_0x111adc);},'NKpDA':_0x405673(0x1f3),'EYqMR':function(_0x36a68a){return _0x36a68a();},'CLtCw':'bulletList','uLrJJ':_0x405673(0x188),'WIbJC':_0x405673(0x19d),'duPHH':function(_0x1ed6cb,_0x150043){return _0x1ed6cb(_0x150043);},'KFFtF':_0x405673(0x1e0),'YXOvK':_0x405673(0x1b8),'cBODg':function(_0x13c16d){return _0x13c16d();},'SHGOB':'<ul><li>a<ul><li>b</li></ul></li></ul>','zqnxz':function(_0x1dd5f5){return _0x1dd5f5();},'JYehP':function(_0x580ee9,_0x4639ca){return _0x580ee9(_0x4639ca);},'kgStg':function(_0x3c8d33,_0x3cdedf,_0xf2df15){return _0x3c8d33(_0x3cdedf,_0xf2df15);},'cKEsu':_0x405673(0x1b1),'atWhB':_0x405673(0x175),'nhqcm':function(_0x11b225,_0x4147bf){return _0x11b225(_0x4147bf);},'zAzxD':function(_0x350016,_0x3c2300){return _0x350016(_0x3c2300);},'agqXA':'paste','jrcbr':_0x405673(0x1ac),'wGoxE':function(_0x467654,_0x5da8ee){return _0x467654(_0x5da8ee);},'CBhmN':_0x405673(0x1dd),'ZHrYJ':'paste\x20complex\x20html','YTKxg':_0x405673(0x20a),'Dbofc':_0x405673(0x1ec),'QZOJj':function(_0x37ed2d,_0x5a0cd1,_0x4d5208){return _0x37ed2d(_0x5a0cd1,_0x4d5208);},'UQamn':function(_0x36a994,_0x13d05e,_0x32c276){return _0x36a994(_0x13d05e,_0x32c276);},'mrOme':_0x405673(0x1bf),'wJlPg':function(_0x236870,_0xf5e473,_0x74c53a){return _0x236870(_0xf5e473,_0x74c53a);},'kktHS':_0x405673(0x176),'qYCPp':_0x405673(0x1d7),'FYbSK':function(_0x439d94,_0x307f79,_0x5d07ca){return _0x439d94(_0x307f79,_0x5d07ca);},'QYqfj':_0x405673(0x1a4),'bfCYX':_0x405673(0x1d3),'rXIVN':function(_0x16e003,_0x8276ca,_0x2cb106){return _0x16e003(_0x8276ca,_0x2cb106);},'cZRUh':_0x405673(0x204),'jljnv':function(_0x4f5815,_0x39fda8,_0x5ba86d){return _0x4f5815(_0x39fda8,_0x5ba86d);},'oacpR':_0x405673(0x1ba),'OMOTr':_0x405673(0x1f7),'AEPOu':'paste\x20list\x20into\x20empty\x20block\x20before\x20list','qkgmh':_0x405673(0x20b),'deGsJ':function(_0x385ae5,_0x5376cd,_0x36b5b5,_0x3b7aef){return _0x385ae5(_0x5376cd,_0x36b5b5,_0x3b7aef);},'VOOUb':function(_0x50b943,_0x5e698e){return _0x50b943===_0x5e698e;},'qmHmK':_0x405673(0x1ca)};_0x350f41['VeBlj'](test,_0x350f41['CBhmN'],async()=>{const _0x40a39a=_0x405673;await typeCharacters('abc'),await moveCursor(_0x350f41['KcYeg']),await pasteContent(_0x350f41['Xjtxd'],'!'),_0x350f41['nyKsD'](expectDocument,_0x40a39a(0x1af));}),test(_0x405673(0x1c3),async()=>{const _0x32646c=_0x405673;await _0x350f41[_0x32646c(0x167)](typeCharacters,_0x350f41[_0x32646c(0x1b6)]),await _0x350f41['LAxTP'](moveCursor,_0x32646c(0x1e1)),await pasteContent(_0x32646c(0x188),_0x32646c(0x17d)),expectDocument(_0x350f41['TyyoY']);}),test(_0x350f41[_0x405673(0x1a1)],async()=>{const _0x4b3230=_0x405673;await _0x350f41[_0x4b3230(0x167)](typeCharacters,'abc'),await _0x350f41[_0x4b3230(0x167)](moveCursor,_0x350f41['KcYeg']),await _0x350f41['VeBlj'](pasteContent,_0x4b3230(0x188),_0x350f41['fKytf']),_0x350f41[_0x4b3230(0x178)](expectDocument,'abHello\x20world\x0aThis\x20is\x20a\x20test\x0ac\x0a');}),test(_0x350f41[_0x405673(0x1e2)],async()=>{const _0x1c4da2=_0x405673,_0x1e9b9c=_0x1c4da2(0x174)[_0x1c4da2(0x16c)]('|');let _0x3d1e2f=0x0;while(!![]){switch(_0x1e9b9c[_0x3d1e2f++]){case'0':await _0x350f41['nyKsD'](typeCharacters,_0x1c4da2(0x207));continue;case'1':_0x350f41['thvnQ'](expectDocument,_0x1c4da2(0x1b3));continue;case'2':await _0x350f41[_0x1c4da2(0x1f1)](expandSelection,{'direction':_0x1c4da2(0x1e1),'times':0x2});continue;case'3':await _0x350f41[_0x1c4da2(0x1aa)](pasteContent,_0x1c4da2(0x188),_0x350f41[_0x1c4da2(0x198)]);continue;case'4':await moveCursor(_0x350f41[_0x1c4da2(0x1bd)]);continue;case'5':assert[_0x1c4da2(0x19b)](0x1);continue;}break;}}),test(_0x405673(0x1a8),async()=>{const _0x2131a0=_0x405673;await pasteContent('text/plain',_0x350f41[_0x2131a0(0x1dc)]),expectDocument(_0x350f41[_0x2131a0(0x1cc)]);}),test('paste\x20html\x20with\x20CRLF\x20',async()=>{const _0x48e707=_0x405673;await _0x350f41[_0x48e707(0x203)](pasteContent,_0x48e707(0x188),_0x350f41[_0x48e707(0x1c2)]),_0x350f41['sZQmS'](expectDocument,_0x350f41[_0x48e707(0x1cc)]);}),_0x350f41[_0x405673(0x1b2)](test,'paste\x20plain\x20text\x20with\x20CR',async()=>{const _0xb4b5cf=_0x405673;await _0x350f41[_0xb4b5cf(0x1f5)](pasteContent,_0x350f41['Xjtxd'],_0xb4b5cf(0x182)),expectDocument(_0x350f41[_0xb4b5cf(0x1cc)]);}),test(_0x350f41['Dbofc'],async()=>{const _0x178748=_0x405673;await _0x350f41[_0x178748(0x1fa)](pasteContent,'text/html',_0x350f41[_0x178748(0x1f0)]),expectDocument(_0x350f41[_0x178748(0x1cc)]);}),_0x350f41['QZOJj'](test,'paste\x20unsafe\x20html',async()=>{const _0x3312df=_0x405673;window[_0x3312df(0x1f2)]=[];const _0x481929={'text/plain':'x','text/html':_0x3312df(0x16e)+TEST_IMAGE_URL+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<img\x20onerror=\x22window.unsanitized.push(\x27img.onerror\x27);\x22\x20src=\x22data:image/gif;base64,TOTALLYBOGUS\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<form><math><mtext></form><form><mglyph><style></math><img\x20src\x20onerror=\x22window.unsanitized.push(\x27img.onerror\x27);\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.unsanitized.push(\x27script\x20tag\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20</script>'};await _0x350f41['nyKsD'](pasteContent,_0x481929),await delay(0x14),assert[_0x3312df(0x206)](window[_0x3312df(0x1f2)],[]),delete window[_0x3312df(0x1f2)];}),_0x350f41[_0x405673(0x208)](test,_0x350f41[_0x405673(0x1e6)],async()=>{const _0x27fdf1=_0x405673;window[_0x27fdf1(0x1f2)]=[];const _0x4973a7={'text/plain':'x','text/html':_0x27fdf1(0x1e4)};await pasteContent(_0x4973a7),await delay(0x14),assert[_0x27fdf1(0x206)](window[_0x27fdf1(0x1f2)],[]),delete window[_0x27fdf1(0x1f2)];}),_0x350f41[_0x405673(0x1ee)](test,_0x405673(0x1c8),async()=>{const _0x254ae1=_0x405673;window['unsanitized']=[];const _0x198bf8={'text/plain':'x','text/html':_0x254ae1(0x199)};await _0x350f41['xiHmk'](pasteContent,_0x198bf8),await delay(0x14),assert[_0x254ae1(0x206)](window['unsanitized'],[]),delete window[_0x254ae1(0x1f2)];}),_0x350f41['wJlPg'](test,_0x350f41[_0x405673(0x1c4)],async()=>{const _0x2413ba=_0x405673;window[_0x2413ba(0x1f2)]=[];const _0x1824a8={'text/plain':'x','text/html':_0x2413ba(0x1a6)};await _0x350f41['xwJtB'](pasteContent,_0x1824a8),await _0x350f41[_0x2413ba(0x19e)](delay,0x14),assert[_0x2413ba(0x206)](window['unsanitized'],[]),delete window['unsanitized'];}),test(_0x405673(0x1e8),async()=>{const _0xea8f5a=_0x405673;window[_0xea8f5a(0x1f2)]=[];const _0x24af1e={'text/plain':'x','text/html':_0xea8f5a(0x1c0)};await _0x350f41[_0xea8f5a(0x18a)](pasteContent,_0x24af1e),await _0x350f41[_0xea8f5a(0x1c9)](delay,0x14),assert[_0xea8f5a(0x206)](window['unsanitized'],[]),delete window[_0xea8f5a(0x1f2)];}),test(_0x350f41['qYCPp'],async()=>{const _0x2c90a7=_0x405673,_0x209e03={'text/html':_0x350f41[_0x2c90a7(0x1b0)],'text/plain':_0x350f41['EyhoI']};await _0x350f41[_0x2c90a7(0x1c9)](pasteContent,_0x209e03),_0x350f41[_0x2c90a7(0x18d)](expectDocument,_0x350f41[_0x2c90a7(0x165)]);}),_0x350f41[_0x405673(0x1a3)](test,_0x350f41['QYqfj'],async()=>{const _0x5a5778=_0x405673,_0x46a035={'text/html':_0x5a5778(0x197),'text/plain':_0x350f41['EyhoI']};await _0x350f41[_0x5a5778(0x1f1)](pasteContent,_0x46a035),_0x350f41[_0x5a5778(0x187)](expectDocument,_0x350f41[_0x5a5778(0x1ea)]);}),test(_0x405673(0x1cd),async()=>{const _0x32e4d4=_0x405673;await typeCharacters('a'),await pasteContent('URL',_0x32e4d4(0x1b9)),assert[_0x32e4d4(0x1a9)]([0x1,0x12],{'href':_0x350f41[_0x32e4d4(0x166)]}),expectDocument(_0x350f41[_0x32e4d4(0x177)]);}),test(_0x350f41[_0x405673(0x16d)],async()=>{const _0x492b98=_0x405673,_0x2c3fe0={'URL':_0x350f41[_0x492b98(0x166)],'public.url-name':_0x350f41['FNjBh'],'text/plain':_0x492b98(0x1b9)};await _0x350f41['plTkz'](pasteContent,_0x2c3fe0),assert[_0x492b98(0x1a9)]([0x0,0x7],{'href':'http://example.com'}),_0x350f41[_0x492b98(0x1cf)](expectDocument,_0x350f41[_0x492b98(0x1f8)]);}),_0x350f41[_0x405673(0x184)](test,_0x405673(0x1ae),async()=>{const _0x4325cb=_0x405673,_0x1064e6={'URL':_0x4325cb(0x20d)};await _0x350f41[_0x4325cb(0x1c9)](pasteContent,_0x1064e6),assert['textAttributes']([0x0,0x17],{}),_0x350f41['XZcBN'](expectDocument,_0x350f41[_0x4325cb(0x1b4)]);}),test(_0x405673(0x19a),async()=>{const _0x2c2cf4=_0x405673,_0x25ce7b={'URL':_0x2c2cf4(0x1b9),'public.url-name':_0x2c2cf4(0x171),'text/plain':_0x2c2cf4(0x1b9)};await _0x350f41[_0x2c2cf4(0x19e)](pasteContent,_0x25ce7b),assert[_0x2c2cf4(0x1a9)]([0x0,0x28],{'href':_0x350f41[_0x2c2cf4(0x166)]}),expectDocument(_0x350f41[_0x2c2cf4(0x194)]);}),test(_0x350f41[_0x405673(0x1db)],async()=>{const _0xd2157d=_0x405673;await _0x350f41[_0xd2157d(0x200)](typeCharacters,_0xd2157d(0x207)),await _0x350f41['OatDU'](clickToolbarButton,{'attribute':_0x350f41['FXeqP']}),await _0x350f41[_0xd2157d(0x1b2)](pasteContent,_0xd2157d(0x188),'<div>Hello\x20world<br></div><pre>This\x20is\x20a\x20test</pre>');const _0x5ceffd=getDocument();assert['equal'](_0x5ceffd[_0xd2157d(0x1f9)](),0x2);let _0x450019=_0x5ceffd[_0xd2157d(0x192)](0x0);assert[_0xd2157d(0x206)](_0x450019['getAttributes'](),[_0x350f41[_0xd2157d(0x16f)]],assert[_0xd2157d(0x1d1)](_0x450019[_0xd2157d(0x209)](),_0x350f41[_0xd2157d(0x164)])),_0x450019=_0x5ceffd[_0xd2157d(0x192)](0x1),assert[_0xd2157d(0x206)](_0x450019[_0xd2157d(0x1fc)](),['quote',_0xd2157d(0x1e9)]),assert[_0xd2157d(0x1d1)](_0x450019['toString'](),_0x350f41['SnPze']);}),test(_0x405673(0x17a),async()=>{const _0x48e1de=_0x405673;await _0x350f41[_0x48e1de(0x1ab)](clickToolbarButton,{'attribute':_0x350f41[_0x48e1de(0x1f6)]}),await _0x350f41[_0x48e1de(0x195)](typeCharacters,'abc\x0a'),await _0x350f41[_0x48e1de(0x1de)](pasteContent,_0x48e1de(0x188),_0x350f41[_0x48e1de(0x169)]);const _0x1bbc15=_0x350f41[_0x48e1de(0x1b5)](getDocument);assert[_0x48e1de(0x1d1)](_0x1bbc15[_0x48e1de(0x1f9)](),0x3);let _0x3e0387=_0x1bbc15[_0x48e1de(0x192)](0x0);assert[_0x48e1de(0x206)](_0x3e0387['getAttributes'](),[_0x48e1de(0x16a),_0x350f41[_0x48e1de(0x1f6)]]),assert[_0x48e1de(0x1d1)](_0x3e0387[_0x48e1de(0x209)](),_0x48e1de(0x1e0)),_0x3e0387=_0x1bbc15[_0x48e1de(0x192)](0x1),assert[_0x48e1de(0x206)](_0x3e0387[_0x48e1de(0x1fc)](),['bulletList',_0x48e1de(0x1ce)]),assert[_0x48e1de(0x1d1)](_0x3e0387['toString'](),'one\x0a'),_0x3e0387=_0x1bbc15['getBlockAtIndex'](0x2),assert[_0x48e1de(0x206)](_0x3e0387[_0x48e1de(0x1fc)](),[_0x350f41[_0x48e1de(0x180)],_0x48e1de(0x1ce)]),assert[_0x48e1de(0x1d1)](_0x3e0387[_0x48e1de(0x209)](),'two\x0a');}),_0x350f41[_0x405673(0x17e)](test,_0x350f41[_0x405673(0x1e5)],async()=>{const _0x3132d7=_0x405673;await clickToolbarButton({'attribute':_0x350f41[_0x3132d7(0x16f)]}),await typeCharacters(_0x350f41['zQtKL']),await _0x350f41['HLsgY'](pasteContent,_0x350f41[_0x3132d7(0x1eb)],_0x350f41[_0x3132d7(0x169)]);const _0x2a47d7=_0x350f41['EYqMR'](getDocument);assert['equal'](_0x2a47d7[_0x3132d7(0x1f9)](),0x3);let _0x339313=_0x2a47d7['getBlockAtIndex'](0x0);assert[_0x3132d7(0x206)](_0x339313['getAttributes'](),[_0x350f41['FXeqP']]),assert['equal'](_0x339313['toString'](),_0x3132d7(0x1e0)),_0x339313=_0x2a47d7[_0x3132d7(0x192)](0x1),assert[_0x3132d7(0x206)](_0x339313[_0x3132d7(0x1fc)](),[_0x350f41[_0x3132d7(0x16f)],_0x350f41[_0x3132d7(0x180)],_0x350f41[_0x3132d7(0x1f6)]]),assert[_0x3132d7(0x1d1)](_0x339313[_0x3132d7(0x209)](),_0x3132d7(0x1fe)),_0x339313=_0x2a47d7[_0x3132d7(0x192)](0x2),assert[_0x3132d7(0x206)](_0x339313[_0x3132d7(0x1fc)](),['quote','bulletList',_0x3132d7(0x1ce)]),assert['equal'](_0x339313[_0x3132d7(0x209)](),_0x350f41[_0x3132d7(0x16b)]);}),_0x350f41[_0x405673(0x1b2)](test,_0x350f41[_0x405673(0x186)],async()=>{const _0x21416e=_0x405673;await clickToolbarButton({'attribute':_0x350f41[_0x21416e(0x16f)]}),await clickToolbarButton({'attribute':'bullet'}),await _0x350f41[_0x21416e(0x19f)](typeCharacters,_0x350f41[_0x21416e(0x168)]),await pasteContent(_0x350f41[_0x21416e(0x1eb)],'<ul><li>one</li><li>two</li></ul>');const _0x3361ec=getDocument();assert[_0x21416e(0x1d1)](_0x3361ec['getBlockCount'](),0x3);let _0x1d9a7c=_0x3361ec[_0x21416e(0x192)](0x0);assert[_0x21416e(0x206)](_0x1d9a7c[_0x21416e(0x1fc)](),[_0x350f41[_0x21416e(0x16f)],_0x21416e(0x16a),_0x21416e(0x1ce)]),assert[_0x21416e(0x1d1)](_0x1d9a7c['toString'](),_0x350f41[_0x21416e(0x168)]),_0x1d9a7c=_0x3361ec[_0x21416e(0x192)](0x1),assert[_0x21416e(0x206)](_0x1d9a7c[_0x21416e(0x1fc)](),[_0x21416e(0x1d8),'bulletList','bullet']),assert[_0x21416e(0x1d1)](_0x1d9a7c[_0x21416e(0x209)](),_0x21416e(0x1fe)),_0x1d9a7c=_0x3361ec[_0x21416e(0x192)](0x2),assert[_0x21416e(0x206)](_0x1d9a7c[_0x21416e(0x1fc)](),[_0x21416e(0x1d8),_0x21416e(0x16a),_0x21416e(0x1ce)]),assert[_0x21416e(0x1d1)](_0x1d9a7c['toString'](),_0x350f41['WIbJC']);}),test('paste\x20nested\x20list\x20into\x20empty\x20list\x20item',async()=>{const _0x4af06b=_0x405673;await clickToolbarButton({'attribute':'bullet'}),await typeCharacters(_0x350f41[_0x4af06b(0x172)]),getSelectionManager()[_0x4af06b(0x19c)]({'index':0x0,'offset':0x1}),await _0x350f41['cBODg'](nextFrame),await pressKey('backspace'),await pasteContent(_0x4af06b(0x188),_0x350f41[_0x4af06b(0x202)]);const _0x43edf9=_0x350f41[_0x4af06b(0x1bb)](getDocument);assert[_0x4af06b(0x1d1)](_0x43edf9[_0x4af06b(0x1f9)](),0x3);let _0x1de5e6=_0x43edf9['getBlockAtIndex'](0x0);assert[_0x4af06b(0x206)](_0x1de5e6[_0x4af06b(0x1fc)](),[_0x350f41[_0x4af06b(0x180)],_0x4af06b(0x1ce)]),assert[_0x4af06b(0x1d1)](_0x1de5e6[_0x4af06b(0x209)](),'a\x0a'),_0x1de5e6=_0x43edf9[_0x4af06b(0x192)](0x1),assert[_0x4af06b(0x206)](_0x1de5e6['getAttributes'](),[_0x4af06b(0x16a),_0x4af06b(0x1ce),_0x4af06b(0x16a),_0x350f41[_0x4af06b(0x1f6)]]),assert[_0x4af06b(0x1d1)](_0x1de5e6[_0x4af06b(0x209)](),'b\x0a'),_0x1de5e6=_0x43edf9[_0x4af06b(0x192)](0x2),assert[_0x4af06b(0x206)](_0x1de5e6['getAttributes'](),[_0x4af06b(0x16a),_0x4af06b(0x1ce)]),assert[_0x4af06b(0x1d1)](_0x1de5e6[_0x4af06b(0x209)](),_0x4af06b(0x1b1));}),_0x350f41[_0x405673(0x1de)](test,'paste\x20nested\x20list\x20over\x20list\x20item\x20contents',async()=>{const _0x8c7e46=_0x405673;await _0x350f41[_0x8c7e46(0x1ad)](clickToolbarButton,{'attribute':_0x350f41[_0x8c7e46(0x1f6)]}),await typeCharacters(_0x350f41[_0x8c7e46(0x172)]),getSelectionManager()[_0x8c7e46(0x19c)]({'index':0x0,'offset':0x1}),await nextFrame(),await expandSelection(_0x350f41[_0x8c7e46(0x1bd)]),await _0x350f41[_0x8c7e46(0x1c7)](pasteContent,_0x8c7e46(0x188),_0x8c7e46(0x1be));const _0xac2981=getDocument();assert['equal'](_0xac2981[_0x8c7e46(0x1f9)](),0x3);let _0x4951f5=_0xac2981[_0x8c7e46(0x192)](0x0);assert['deepEqual'](_0x4951f5[_0x8c7e46(0x1fc)](),[_0x350f41[_0x8c7e46(0x180)],_0x350f41[_0x8c7e46(0x1f6)]]),assert[_0x8c7e46(0x1d1)](_0x4951f5['toString'](),'a\x0a'),_0x4951f5=_0xac2981[_0x8c7e46(0x192)](0x1),assert['deepEqual'](_0x4951f5[_0x8c7e46(0x1fc)](),['bulletList','bullet',_0x350f41[_0x8c7e46(0x180)],'bullet']),assert[_0x8c7e46(0x1d1)](_0x4951f5['toString'](),'b\x0a'),_0x4951f5=_0xac2981['getBlockAtIndex'](0x2),assert[_0x8c7e46(0x206)](_0x4951f5['getAttributes'](),[_0x350f41[_0x8c7e46(0x180)],_0x350f41[_0x8c7e46(0x1f6)]]),assert[_0x8c7e46(0x1d1)](_0x4951f5['toString'](),_0x350f41[_0x8c7e46(0x1e3)]);}),test(_0x350f41[_0x405673(0x1b7)],async()=>{const _0x2f44dd=_0x405673;await clickToolbarButton({'attribute':_0x350f41['QJibk']}),await typeCharacters('c'),await moveCursor(_0x350f41[_0x2f44dd(0x1bd)]),await _0x350f41['duPHH'](pressKey,'return'),getSelectionManager()[_0x2f44dd(0x19c)]({'index':0x0,'offset':0x0}),await nextFrame(),await pasteContent(_0x2f44dd(0x188),_0x350f41['atWhB']);const _0x2aeadf=getDocument();assert[_0x2f44dd(0x1d1)](_0x2aeadf[_0x2f44dd(0x1f9)](),0x3);let _0x44275e=_0x2aeadf['getBlockAtIndex'](0x0);assert[_0x2f44dd(0x206)](_0x44275e[_0x2f44dd(0x1fc)](),[_0x2f44dd(0x16a),_0x350f41[_0x2f44dd(0x1f6)]]),assert[_0x2f44dd(0x1d1)](_0x44275e[_0x2f44dd(0x209)](),'a\x0a'),_0x44275e=_0x2aeadf['getBlockAtIndex'](0x1),assert[_0x2f44dd(0x206)](_0x44275e[_0x2f44dd(0x1fc)](),[_0x350f41[_0x2f44dd(0x180)],_0x2f44dd(0x1ce)]),assert[_0x2f44dd(0x1d1)](_0x44275e['toString'](),'b\x0a'),_0x44275e=_0x2aeadf[_0x2f44dd(0x192)](0x2),assert['deepEqual'](_0x44275e['getAttributes'](),['bulletList',_0x2f44dd(0x1ce)]),assert[_0x2f44dd(0x1d1)](_0x44275e[_0x2f44dd(0x209)](),'c\x0a');}),_0x350f41[_0x405673(0x17f)](test,_0x350f41[_0x405673(0x1bc)],async()=>{const _0x5c3c11=_0x405673;await _0x350f41['thvnQ'](typeCharacters,'a'),await _0x350f41['HxdgV'](pasteContent,'Files',_0x350f41['zqnxz'](createFile)),await _0x350f41[_0x5c3c11(0x1d2)](expectDocument,'a'+OBJECT_REPLACEMENT_CHARACTER+'\x0a');}),_0x350f41[_0x405673(0x185)](testIf,_0x350f41['VOOUb'](_0x2dfc30[_0x405673(0x18c)][_0x405673(0x1da)](),0x0),_0x350f41[_0x405673(0x1d9)],async()=>{const _0x1da9ed=_0x405673;await _0x350f41[_0x1da9ed(0x201)](typeCharacters,'a'),triggerEvent(document['activeElement'],_0x350f41[_0x1da9ed(0x1fb)]),document[_0x1da9ed(0x189)][_0x1da9ed(0x1c6)](_0x350f41[_0x1da9ed(0x1e7)],_0x1da9ed(0x18e)),await nextFrame(),_0x350f41[_0x1da9ed(0x17b)](expectDocument,_0x1da9ed(0x1e0));});});