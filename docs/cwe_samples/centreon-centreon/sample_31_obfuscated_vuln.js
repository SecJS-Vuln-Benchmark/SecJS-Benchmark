const _0x555dde=_0x42c1;(function(_0x2505db,_0x571771){const _0x49f642=_0x42c1,_0x1be1ee=_0x2505db();while(!![]){try{const _0x861405=parseInt(_0x49f642(0x139))/0x1*(parseInt(_0x49f642(0x14a))/0x2)+parseInt(_0x49f642(0x135))/0x3*(-parseInt(_0x49f642(0x145))/0x4)+-parseInt(_0x49f642(0x13d))/0x5+-parseInt(_0x49f642(0x141))/0x6*(-parseInt(_0x49f642(0x14b))/0x7)+parseInt(_0x49f642(0x138))/0x8*(parseInt(_0x49f642(0x148))/0x9)+-parseInt(_0x49f642(0x14d))/0xa+-parseInt(_0x49f642(0x140))/0xb;if(_0x861405===_0x571771)break;else _0x1be1ee['push'](_0x1be1ee['shift']());}catch(_0x3ca2c6){_0x1be1ee['push'](_0x1be1ee['shift']());}}}(_0x31fd,0xac64e));import{createMockDirectory}from'@backstage/backend-test-utils';function _0x31fd(){const _0x268d95=['1207970oiitCs','4926271jaUPxR','yWqsX','10455870gcCXxL','BqsHh','HFRXo','addContent','/symlink','gDzrU','GzYRG','resolve','###\x20README.md','should\x20throw\x20an\x20error\x20if\x20the\x20path\x20is\x20outside\x20of\x20the\x20base\x20path','QSpLq','index.md','toThrow','./README.md','resolveSafeChildPath','3916767tPZFQn','./symlink/index.md','ybYrF','8wUgNDz','1erGLMo','/README.md','###\x20index.md','paths','574985nsxCgV','vQHGI','hwksD','744502EGgQid','12bVtFtr','should\x20throw\x20an\x20error\x20if\x20the\x20path\x20is\x20a\x20symlink\x20to\x20a\x20directory\x20outside\x20of\x20the\x20base\x20path','toEqual','Relative\x20path\x20is\x20not\x20allowed\x20to\x20refer\x20to\x20a\x20directory\x20outside\x20its\x20parent','4mQqSWO','yZmNz','setContent','11056410HaJPQS','yFMvw'];_0x31fd=function(){return _0x268d95;};return _0x31fd();}import{resolveSafeChildPath}from'./paths';import _0x313458 from'fs/promises';function _0x42c1(_0x780f6a,_0x46480c){const _0x31fdf4=_0x31fd();return _0x42c1=function(_0x42c156,_0x4543c2){_0x42c156=_0x42c156-0x12b;let _0xddabf=_0x31fdf4[_0x42c156];return _0xddabf;},_0x42c1(_0x780f6a,_0x46480c);}describe(_0x555dde(0x13c),()=>{const _0x2b52d0=_0x555dde,_0x57a3a4={'GVBMx':_0x2b52d0(0x12e),'yZmNz':_0x2b52d0(0x144),'QBrAA':function(_0x47b04c,_0x12fe54){return _0x47b04c(_0x12fe54);},'ybYrF':function(_0x416160){return _0x416160();},'vQHGI':function(_0x5eaf16){return _0x5eaf16();},'BqsHh':'workspace','oNJPw':function(_0x18850c,_0x3439a4,_0x34cdca){return _0x18850c(_0x3439a4,_0x34cdca);},'yWqsX':function(_0x5d5276,_0x1cddbe,_0x3ccfe3){return _0x5d5276(_0x1cddbe,_0x3ccfe3);},'yFMvw':_0x2b52d0(0x134)};_0x57a3a4[_0x2b52d0(0x14c)](describe,_0x57a3a4[_0x2b52d0(0x149)],()=>{const _0x4f8ae9=_0x2b52d0,_0x2f1807={'QSpLq':_0x57a3a4['GVBMx'],'GzYRG':function(_0x31fca9,_0xbb46f){return _0x31fca9(_0xbb46f);},'gDzrU':_0x57a3a4[_0x4f8ae9(0x146)],'hwksD':function(_0x1463ec,_0x93ddf2){return _0x57a3a4['QBrAA'](_0x1463ec,_0x93ddf2);},'HFRXo':_0x4f8ae9(0x133)},_0x14cb65=_0x57a3a4[_0x4f8ae9(0x137)](createMockDirectory),_0x32f964=_0x57a3a4[_0x4f8ae9(0x13e)](createMockDirectory),_0x29c11a=_0x14cb65[_0x4f8ae9(0x12d)](_0x57a3a4[_0x4f8ae9(0x14e)]);beforeEach(()=>{const _0x12b9f9=_0x4f8ae9;_0x14cb65[_0x12b9f9(0x147)]({[_0x29c11a+'/README.md']:_0x2f1807[_0x12b9f9(0x130)]}),_0x32f964['setContent']({[_0x12b9f9(0x131)]:_0x12b9f9(0x13b)});}),it(_0x4f8ae9(0x12f),()=>{const _0x486f07=_0x4f8ae9;_0x2f1807[_0x486f07(0x12c)](expect,()=>resolveSafeChildPath(_0x29c11a,_0x32f964['path']))[_0x486f07(0x132)](_0x2f1807[_0x486f07(0x12b)]);}),it('should\x20resolve\x20to\x20the\x20full\x20path\x20if\x20the\x20target\x20is\x20inside\x20the\x20directory',async()=>{const _0x249a2d=_0x4f8ae9;_0x2f1807[_0x249a2d(0x13f)](expect,resolveSafeChildPath(_0x29c11a,_0x2f1807[_0x249a2d(0x14f)]))[_0x249a2d(0x143)](await _0x313458['realpath'](_0x29c11a)+_0x249a2d(0x13a));}),_0x57a3a4['oNJPw'](it,_0x4f8ae9(0x142),()=>{const _0x1abd9d=_0x4f8ae9;_0x14cb65[_0x1abd9d(0x150)]({[_0x29c11a+_0x1abd9d(0x151)]:({symlink:_0x1c9e72})=>_0x1c9e72(_0x32f964['path'])}),expect(()=>resolveSafeChildPath(_0x29c11a,_0x1abd9d(0x136)))[_0x1abd9d(0x132)](_0x2f1807[_0x1abd9d(0x12b)]);});});});