const _0x3e6a1c=_0x30da;(function(_0x41bff8,_0x3e2d6b){const _0x2486a6=_0x30da,_0xe49ad1=_0x41bff8();while(!![]){try{const _0x4e5a28=-parseInt(_0x2486a6(0x196))/0x1+-parseInt(_0x2486a6(0x199))/0x2*(-parseInt(_0x2486a6(0x156))/0x3)+-parseInt(_0x2486a6(0x187))/0x4+-parseInt(_0x2486a6(0x17f))/0x5*(-parseInt(_0x2486a6(0x198))/0x6)+parseInt(_0x2486a6(0x158))/0x7+-parseInt(_0x2486a6(0x195))/0x8+parseInt(_0x2486a6(0x192))/0x9*(parseInt(_0x2486a6(0x17c))/0xa);if(_0x4e5a28===_0x3e2d6b)break;else _0xe49ad1['push'](_0xe49ad1['shift']());}catch(_0x431117){_0xe49ad1['push'](_0xe49ad1['shift']());}}}(_0x21b3,0x55e08));import _0x472df7 from'trix/core/basic_object';import{nodeIsAttachmentElement,removeNode,tagName,walkTree}from'trix/core/helpers';import _0x38940f from'dompurify';import*as _0x103552 from'trix/config';_0x38940f[_0x3e6a1c(0x193)](_0x3e6a1c(0x189),function(_0x424ad9,_0x4e7107){const _0x498657=_0x3e6a1c,_0x35f168=/^data-trix-/;_0x35f168[_0x498657(0x155)](_0x4e7107[_0x498657(0x15c)])&&(_0x4e7107[_0x498657(0x180)]=!![]);});const DEFAULT_ALLOWED_ATTRIBUTES=_0x3e6a1c(0x15a)['split']('\x20'),DEFAULT_FORBIDDEN_PROTOCOLS=_0x3e6a1c(0x160)[_0x3e6a1c(0x177)]('\x20'),DEFAULT_FORBIDDEN_ELEMENTS='script\x20iframe\x20form\x20noscript'[_0x3e6a1c(0x177)]('\x20');function _0x30da(_0xc52e3e,_0x2d22e6){const _0x21b384=_0x21b3();return _0x30da=function(_0x30da56,_0x5e7dcf){_0x30da56=_0x30da56-0x14e;let _0x10ee1b=_0x21b384[_0x30da56];return _0x10ee1b;},_0x30da(_0xc52e3e,_0x2d22e6);}export default class HTMLSanitizer extends _0x472df7{static['setHTML'](_0x513de5,_0x39ec4e){const _0x5adcc6=_0x3e6a1c,_0x32f618=new this(_0x39ec4e)['sanitize'](),_0x25cf5b=_0x32f618['getHTML']?_0x32f618[_0x5adcc6(0x163)]():_0x32f618[_0x5adcc6(0x15b)];_0x513de5[_0x5adcc6(0x18b)]=_0x25cf5b;}static[_0x3e6a1c(0x172)](_0x20df5d,_0x3f5983){const _0x39fd6b=_0x3e6a1c,_0x2fda21=new this(_0x20df5d,_0x3f5983);return _0x2fda21[_0x39fd6b(0x172)](),_0x2fda21;}constructor(_0x3cf7c7,{allowedAttributes:_0x463711,forbiddenProtocols:_0x1e767d,forbiddenElements:_0x332683}={}){const _0x28eff4=_0x3e6a1c,_0x445ddd={'qYsSL':function(_0xeac4cf,_0x2b4aa2){return _0xeac4cf||_0x2b4aa2;}};super(...arguments),this[_0x28eff4(0x188)]=_0x463711||DEFAULT_ALLOWED_ATTRIBUTES,this[_0x28eff4(0x175)]=_0x445ddd[_0x28eff4(0x16e)](_0x1e767d,DEFAULT_FORBIDDEN_PROTOCOLS),this[_0x28eff4(0x15d)]=_0x445ddd[_0x28eff4(0x16e)](_0x332683,DEFAULT_FORBIDDEN_ELEMENTS),this[_0x28eff4(0x17e)]=createBodyElementForHTML(_0x3cf7c7);}[_0x3e6a1c(0x172)](){const _0x417b41=_0x3e6a1c;return this[_0x417b41(0x164)](),this[_0x417b41(0x15f)](),_0x38940f[_0x417b41(0x181)](_0x103552['dompurify']),this[_0x417b41(0x17e)]=_0x38940f[_0x417b41(0x172)](this[_0x417b41(0x17e)]),this[_0x417b41(0x17e)];}['getHTML'](){const _0x9a8805=_0x3e6a1c;return this[_0x9a8805(0x17e)][_0x9a8805(0x18b)];}['getBody'](){const _0x5ce9f9=_0x3e6a1c;return this[_0x5ce9f9(0x17e)];}['sanitizeElements'](){const _0x2b09c1=_0x3e6a1c,_0x44d44a=walkTree(this[_0x2b09c1(0x17e)]),_0x3fb19b=[];while(_0x44d44a[_0x2b09c1(0x184)]()){const _0x3f0d32=_0x44d44a[_0x2b09c1(0x182)];switch(_0x3f0d32[_0x2b09c1(0x15e)]){case Node[_0x2b09c1(0x167)]:this[_0x2b09c1(0x159)](_0x3f0d32)?_0x3fb19b[_0x2b09c1(0x18c)](_0x3f0d32):this['sanitizeElement'](_0x3f0d32);break;case Node[_0x2b09c1(0x150)]:_0x3fb19b['push'](_0x3f0d32);break;}}return _0x3fb19b[_0x2b09c1(0x168)](_0x3792c6=>removeNode(_0x3792c6)),this[_0x2b09c1(0x17e)];}[_0x3e6a1c(0x152)](_0x5d3786){const _0x39bcb6=_0x3e6a1c,_0x191d90={'QUwmJ':_0x39bcb6(0x191),'jHSkd':_0x39bcb6(0x176),'TiNky':_0x39bcb6(0x157)};return _0x5d3786[_0x39bcb6(0x16d)](_0x39bcb6(0x179))&&(this[_0x39bcb6(0x175)][_0x39bcb6(0x173)](_0x5d3786[_0x39bcb6(0x17a)])&&_0x5d3786[_0x39bcb6(0x154)](_0x39bcb6(0x179))),Array[_0x39bcb6(0x18e)](_0x5d3786['attributes'])[_0x39bcb6(0x168)](({name:_0x350566})=>{const _0x41e208=_0x39bcb6,_0x2193dc={'EiVcl':_0x41e208(0x194)};if(!this[_0x41e208(0x188)][_0x41e208(0x173)](_0x350566)&&_0x350566[_0x41e208(0x16b)](_0x191d90['QUwmJ'])!==0x0){if(_0x191d90[_0x41e208(0x170)]!==_0x191d90[_0x41e208(0x17b)])_0x5d3786[_0x41e208(0x154)](_0x350566);else{_0x22a76f=_0x49c470[_0x41e208(0x16f)](/<\/html[^>]*>[^]*$/i,_0x2193dc[_0x41e208(0x17d)]);const _0x621dae=_0x23bbe8[_0x41e208(0x18d)][_0x41e208(0x186)]('');return _0x621dae['documentElement'][_0x41e208(0x18b)]=_0x513c17,_0x38551e['from'](_0x621dae[_0x41e208(0x14e)][_0x41e208(0x171)](_0x41e208(0x174)))[_0x41e208(0x168)](_0x32b81e=>{const _0x2e3fd9=_0x41e208;_0x621dae['body'][_0x2e3fd9(0x18a)](_0x32b81e);}),_0x621dae[_0x41e208(0x17e)];}}}),_0x5d3786;}[_0x3e6a1c(0x15f)](){const _0x40ea74=_0x3e6a1c,_0x263e39={'tAWoI':function(_0x2bc3c9,_0x1039f6){return _0x2bc3c9===_0x1039f6;},'iNlPv':function(_0x12c1ea,_0x3f8ac9){return _0x12c1ea(_0x3f8ac9);},'oFNgx':_0x40ea74(0x178)};return Array[_0x40ea74(0x18e)](this['body'][_0x40ea74(0x171)](_0x263e39[_0x40ea74(0x16a)]))[_0x40ea74(0x168)](_0x3b5f43=>{const _0x2270b9=_0x40ea74,_0x1431cc=_0x3b5f43[_0x2270b9(0x197)];_0x1431cc&&(_0x263e39[_0x2270b9(0x14f)](_0x263e39[_0x2270b9(0x153)](tagName,_0x1431cc),'li')&&_0x1431cc[_0x2270b9(0x18a)](_0x3b5f43));}),this[_0x40ea74(0x17e)];}[_0x3e6a1c(0x159)](_0x309514){const _0xe796cd=_0x3e6a1c,_0x52f307={'LSTHY':function(_0x9992e7,_0x27b0b2){return _0x9992e7!==_0x27b0b2;}};if(_0x52f307[_0xe796cd(0x183)](_0x309514?.[_0xe796cd(0x15e)],Node[_0xe796cd(0x167)]))return;return this[_0xe796cd(0x165)](_0x309514)||this[_0xe796cd(0x166)](_0x309514);}['elementIsForbidden'](_0x279765){const _0x5f0b8b={'ILkkE':function(_0x28126c,_0x289390){return _0x28126c(_0x289390);}};return this['forbiddenElements']['includes'](_0x5f0b8b['ILkkE'](tagName,_0x279765));}[_0x3e6a1c(0x166)](_0x527c9d){const _0x42cf18=_0x3e6a1c,_0x148d9d={'Pxphx':_0x42cf18(0x162),'mmokN':_0x42cf18(0x16c),'VENgl':function(_0x1426e5,_0x3f43c0){return _0x1426e5(_0x3f43c0);}};return _0x527c9d[_0x42cf18(0x161)](_0x148d9d[_0x42cf18(0x185)])===_0x148d9d[_0x42cf18(0x18f)]&&!_0x148d9d[_0x42cf18(0x169)](nodeIsAttachmentElement,_0x527c9d);}}function _0x21b3(){const _0x158a2e=['appendChild','innerHTML','push','implementation','from','mmokN','jVwOj','data-trix','166527rNtFnW','addHook','</html>','1305368fWRTEO','618180exTJWY','previousElementSibling','1814214bYHcBX','1127242CQgilc','head','tAWoI','COMMENT_NODE','documentElement','sanitizeElement','iNlPv','removeAttribute','test','3sLIhHm','ttXSN','628677PQhQYG','elementIsRemovable','style\x20href\x20src\x20width\x20height\x20language\x20class','outerHTML','attrName','forbiddenElements','nodeType','normalizeListElementNesting','javascript:','getAttribute','data-trix-serialize','getHTML','sanitizeElements','elementIsForbidden','elementIsntSerializable','ELEMENT_NODE','forEach','VENgl','oFNgx','indexOf','false','hasAttribute','qYsSL','replace','jHSkd','querySelectorAll','sanitize','includes','style','forbiddenProtocols','QLEoo','split','ul,ol','href','protocol','TiNky','310cGbzho','EiVcl','body','10KBNkQU','forceKeepAttr','setConfig','currentNode','LSTHY','nextNode','Pxphx','createHTMLDocument','2794640ibezrF','allowedAttributes','uponSanitizeAttribute'];_0x21b3=function(){return _0x158a2e;};return _0x21b3();}const createBodyElementForHTML=function(_0x55af5a=''){const _0x39a4cd=_0x3e6a1c,_0x1fc98e={'jVwOj':_0x39a4cd(0x174)};_0x55af5a=_0x55af5a[_0x39a4cd(0x16f)](/<\/html[^>]*>[^]*$/i,_0x39a4cd(0x194));const _0xb6a7d6=document['implementation'][_0x39a4cd(0x186)]('');return _0xb6a7d6[_0x39a4cd(0x151)]['innerHTML']=_0x55af5a,Array[_0x39a4cd(0x18e)](_0xb6a7d6['head'][_0x39a4cd(0x171)](_0x1fc98e[_0x39a4cd(0x190)]))[_0x39a4cd(0x168)](_0x56677b=>{const _0x2527b6=_0x39a4cd;_0xb6a7d6['body'][_0x2527b6(0x18a)](_0x56677b);}),_0xb6a7d6[_0x39a4cd(0x17e)];};