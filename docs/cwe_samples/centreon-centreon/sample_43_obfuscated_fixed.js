const _0x13ad0c=_0x450f;(function(_0x154c62,_0x2b1fe8){const _0x2e283e=_0x450f,_0x245331=_0x154c62();while(!![]){try{const _0x3a289f=parseInt(_0x2e283e(0x11b))/0x1*(-parseInt(_0x2e283e(0x124))/0x2)+parseInt(_0x2e283e(0x10d))/0x3*(parseInt(_0x2e283e(0x100))/0x4)+parseInt(_0x2e283e(0xeb))/0x5+-parseInt(_0x2e283e(0xff))/0x6+parseInt(_0x2e283e(0x121))/0x7*(-parseInt(_0x2e283e(0xec))/0x8)+-parseInt(_0x2e283e(0x117))/0x9*(-parseInt(_0x2e283e(0xe9))/0xa)+parseInt(_0x2e283e(0x11f))/0xb*(parseInt(_0x2e283e(0x118))/0xc);if(_0x3a289f===_0x2b1fe8)break;else _0x245331['push'](_0x245331['shift']());}catch(_0x4b835b){_0x245331['push'](_0x245331['shift']());}}}(_0x4436,0xca1fb));function _0x450f(_0xd5524c,_0x461168){const _0x4436e5=_0x4436();return _0x450f=function(_0x450fc2,_0x520524){_0x450fc2=_0x450fc2-0xde;let _0x208c76=_0x4436e5[_0x450fc2];return _0x208c76;},_0x450f(_0xd5524c,_0x461168);}import*as _0x3d1c56 from'trix/config';function _0x4436(){const _0x2f0856=['4936IemIkU','getCaption','progress','textContent','attachmentPiece','getHref','attachmentName','ogCeU','piece','UCmUn','TxDNw','getExtension','createContentNodes','getCaptionConfig','value','createNodes','YgIzb','createCaptionElement','NYYlv','6766194vxoQqB','2546884BtdKRa','getFilename','trixSerialize','forEach','getType','hEbzL','PCPxE','caption','getClassName','getData','attachment','getUploadProgress','classList','3WCyyMV','getContent','name','hikIp','span','cpLNV','--edited','attachments','PDoyH','stringify','500625EhJfSU','6581040wmbBlS','push','setHTML','1098112aOWDFO','join','object','attachmentProgress','22hLOZsm','attachmentSize','12418YnuFLA','AeUCB','mHqLL','2KMrlAb','isEmpty','progressElement','isPending','trixAttributes','getContentType','appendChild','sxizg','attachmentCaption','vgRAz','QYlvx','getFormattedFilesize','OCFWv','querySelector','figcaption','attachmentDidChangeUploadProgress','add','270kqwVpc','xIDlV','4564160DCRQWi'];_0x4436=function(){return _0x2f0856;};return _0x4436();}import{ZERO_WIDTH_SPACE}from'trix/constants';import{copyObject,makeElement}from'trix/core/helpers';import _0x2d2503 from'trix/views/object_view';import _0x14285a from'trix/models/html_sanitizer';const {css}=_0x3d1c56;export default class AttachmentView extends _0x2d2503{constructor(){const _0x29e3eb=_0x450f;super(...arguments),this['attachment']=this[_0x29e3eb(0x11d)],this['attachment']['uploadProgressDelegate']=this,this['attachmentPiece']=this['options'][_0x29e3eb(0xf4)];}[_0x13ad0c(0xf8)](){return[];}[_0x13ad0c(0xfb)](){const _0x110b3e=_0x13ad0c,_0x5c8982={'UCmUn':function(_0x8370e,_0x5e4619){return _0x8370e(_0x5e4619);},'NYYlv':'YgIzb','eEhVF':_0x110b3e(0x126),'OujDG':'left','AeUCB':'right'};let _0x24feb0;const _0x47f50f=_0x24feb0=_0x5c8982[_0x110b3e(0xf5)](makeElement,{'tagName':'figure','className':this[_0x110b3e(0x108)](),'data':this['getData'](),'editable':![]}),_0x18d55e=this[_0x110b3e(0xf1)]();return _0x18d55e&&(_0x5c8982[_0x110b3e(0xfe)]===_0x110b3e(0xfc)?(_0x24feb0=_0x5c8982[_0x110b3e(0xf5)](makeElement,{'tagName':'a','editable':![],'attributes':{'href':_0x18d55e,'tabindex':-0x1}}),_0x47f50f[_0x110b3e(0xde)](_0x24feb0)):_0x1eed85[_0x110b3e(0x119)](_0x33ba3b[_0x110b3e(0x10a)]+'--'+_0x152ca8)),this[_0x110b3e(0x10a)]['hasContent']()?_0x14285a['setHTML'](_0x24feb0,this[_0x110b3e(0x10a)][_0x110b3e(0x10e)]()):this[_0x110b3e(0xf8)]()[_0x110b3e(0x103)](_0x5bc061=>{const _0x2e3b74=_0x110b3e;_0x24feb0[_0x2e3b74(0xde)](_0x5bc061);}),_0x24feb0[_0x110b3e(0xde)](this[_0x110b3e(0xfd)]()),this[_0x110b3e(0x10a)][_0x110b3e(0x127)]()&&(this[_0x110b3e(0x126)]=makeElement({'tagName':_0x110b3e(0xee),'attributes':{'class':css[_0x110b3e(0x11e)],'value':this[_0x110b3e(0x10a)]['getUploadProgress'](),'max':0x64},'data':{'trixMutable':!![],'trixStoreKey':[_0x5c8982['eEhVF'],this['attachment']['id']][_0x110b3e(0x11c)]('/')}}),_0x47f50f['appendChild'](this[_0x110b3e(0x126)])),[createCursorTarget(_0x5c8982['OujDG']),_0x47f50f,_0x5c8982[_0x110b3e(0xf5)](createCursorTarget,_0x5c8982[_0x110b3e(0x122)])];}[_0x13ad0c(0xfd)](){const _0x28bec6=_0x13ad0c,_0x411195={'TjYhL':function(_0x4ecdc8,_0x32e285,_0x2f173b){return _0x4ecdc8(_0x32e285,_0x2f173b);},'xIDlV':_0x28bec6(0xe6),'vgRAz':function(_0x24d006,_0x37ce21){return _0x24d006===_0x37ce21;},'ogCeU':_0x28bec6(0xdf),'TxDNw':_0x28bec6(0x115),'hEbzL':function(_0x2df0cf,_0x1d8ccc){return _0x2df0cf===_0x1d8ccc;},'mHqLL':function(_0x5331cb,_0x4e0c2e){return _0x5331cb(_0x4e0c2e);},'PCPxE':'Qbseq','OCFWv':_0x28bec6(0x111)},_0x3f55c1=makeElement({'tagName':_0x411195[_0x28bec6(0xea)],'className':css[_0x28bec6(0xe0)]}),_0x1651b6=this[_0x28bec6(0xf0)][_0x28bec6(0xed)]();if(_0x1651b6)_0x411195['vgRAz'](_0x28bec6(0xdf),_0x411195[_0x28bec6(0xf3)])?(_0x3f55c1[_0x28bec6(0x10c)][_0x28bec6(0xe8)](css[_0x28bec6(0xe0)]+_0x28bec6(0x113)),_0x3f55c1[_0x28bec6(0xef)]=_0x1651b6):_0xea9486=this[_0x28bec6(0x10a)][_0x28bec6(0xe3)]();else{if(_0x411195[_0x28bec6(0xe1)]('jzFFv',_0x411195[_0x28bec6(0xf6)])){if(!_0x411195['TjYhL'](_0x1b112b,this[_0x28bec6(0x10a)][_0x28bec6(0x10e)](),'a'))return this[_0x28bec6(0x10a)][_0x28bec6(0xf1)]();}else{let _0x56af1e,_0x5368ad;const _0x3ef248=this['getCaptionConfig']();if(_0x3ef248[_0x28bec6(0x10f)]){if(_0x411195[_0x28bec6(0x105)](_0x28bec6(0x112),_0x28bec6(0x112)))_0x56af1e=this[_0x28bec6(0x10a)][_0x28bec6(0x101)]();else{const _0x375b80={'trixAttachment':_0x42b41e[_0x28bec6(0x116)](this['attachment']),'trixContentType':this[_0x28bec6(0x10a)][_0x28bec6(0x129)](),'trixId':this['attachment']['id']},{attributes:_0x3f269f}=this[_0x28bec6(0xf0)];return!_0x3f269f[_0x28bec6(0x125)]()&&(_0x375b80[_0x28bec6(0x128)]=_0x336676[_0x28bec6(0x116)](_0x3f269f)),this['attachment'][_0x28bec6(0x127)]()&&(_0x375b80['trixSerialize']=![]),_0x375b80;}}_0x3ef248['size']&&(_0x5368ad=this[_0x28bec6(0x10a)][_0x28bec6(0xe3)]());if(_0x56af1e){const _0x38d4c6=_0x411195[_0x28bec6(0x123)](makeElement,{'tagName':_0x28bec6(0x111),'className':css[_0x28bec6(0xf2)],'textContent':_0x56af1e});_0x3f55c1[_0x28bec6(0xde)](_0x38d4c6);}if(_0x5368ad){_0x56af1e&&(_0x411195[_0x28bec6(0x106)]!=='ohiWf'?_0x3f55c1[_0x28bec6(0xde)](document['createTextNode']('\x20')):_0x502cea['value']=_0x2448f1);const _0x2a59fe=makeElement({'tagName':_0x411195[_0x28bec6(0xe4)],'className':css[_0x28bec6(0x120)],'textContent':_0x5368ad});_0x3f55c1[_0x28bec6(0xde)](_0x2a59fe);}}}return _0x3f55c1;}[_0x13ad0c(0x108)](){const _0x3fa258=_0x13ad0c,_0x91b57d=[css['attachment'],css[_0x3fa258(0x10a)]+'--'+this[_0x3fa258(0x10a)][_0x3fa258(0x104)]()],_0x4f69b6=this[_0x3fa258(0x10a)][_0x3fa258(0xf7)]();return _0x4f69b6&&_0x91b57d[_0x3fa258(0x119)](css['attachment']+'--'+_0x4f69b6),_0x91b57d[_0x3fa258(0x11c)]('\x20');}[_0x13ad0c(0x109)](){const _0x1d68ed=_0x13ad0c,_0x5b70b4={'trixAttachment':JSON[_0x1d68ed(0x116)](this[_0x1d68ed(0x10a)]),'trixContentType':this[_0x1d68ed(0x10a)]['getContentType'](),'trixId':this['attachment']['id']},{attributes:_0x1a48af}=this['attachmentPiece'];return!_0x1a48af[_0x1d68ed(0x125)]()&&(_0x5b70b4[_0x1d68ed(0x128)]=JSON[_0x1d68ed(0x116)](_0x1a48af)),this['attachment'][_0x1d68ed(0x127)]()&&(_0x5b70b4[_0x1d68ed(0x102)]=![]),_0x5b70b4;}[_0x13ad0c(0xf1)](){const _0x427469=_0x13ad0c,_0x59f80c={'hikIp':function(_0x13768e,_0x5f0dc9,_0x324304){return _0x13768e(_0x5f0dc9,_0x324304);}};if(!_0x59f80c[_0x427469(0x110)](htmlContainsTagName,this[_0x427469(0x10a)][_0x427469(0x10e)](),'a'))return this[_0x427469(0x10a)]['getHref']();}[_0x13ad0c(0xf9)](){const _0x49577e=_0x13ad0c,_0x3b6429=this[_0x49577e(0x10a)][_0x49577e(0x104)](),_0x43a68c=copyObject(_0x3d1c56[_0x49577e(0x114)][_0x3b6429]?.[_0x49577e(0x107)]);return _0x3b6429==='file'&&(_0x43a68c['name']=!![]),_0x43a68c;}['findProgressElement'](){const _0x21d8e0=_0x13ad0c,_0x381ac4={'QYlvx':_0x21d8e0(0xee)};return this['findElement']()?.[_0x21d8e0(0xe5)](_0x381ac4[_0x21d8e0(0xe2)]);}[_0x13ad0c(0xe7)](){const _0x3ee206=_0x13ad0c,_0x599a62=this[_0x3ee206(0x10a)][_0x3ee206(0x10b)](),_0x102fa8=this['findProgressElement']();_0x102fa8&&(_0x102fa8[_0x3ee206(0xfa)]=_0x599a62);}}const createCursorTarget=_0x12c1c4=>makeElement({'tagName':_0x13ad0c(0x111),'textContent':ZERO_WIDTH_SPACE,'data':{'trixCursorTarget':_0x12c1c4,'trixSerialize':![]}}),htmlContainsTagName=function(_0x23431f,_0x1326fe){const _0x11f351=_0x13ad0c,_0x467d84=makeElement('div');return _0x14285a[_0x11f351(0x11a)](_0x467d84,_0x23431f||''),_0x467d84[_0x11f351(0xe5)](_0x1326fe);};