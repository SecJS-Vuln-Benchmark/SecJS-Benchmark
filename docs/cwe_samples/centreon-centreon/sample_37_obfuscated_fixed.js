const _0x34349a=_0x3f2a;(function(_0x4ac1e9,_0x27f42d){const _0x4b57c7=_0x3f2a,_0x24a69d=_0x4ac1e9();while(!![]){try{const _0x29f5f3=parseInt(_0x4b57c7(0x211))/0x1*(parseInt(_0x4b57c7(0x1c7))/0x2)+-parseInt(_0x4b57c7(0x21d))/0x3+parseInt(_0x4b57c7(0x1fb))/0x4*(parseInt(_0x4b57c7(0x1e4))/0x5)+-parseInt(_0x4b57c7(0x1d8))/0x6+parseInt(_0x4b57c7(0x21c))/0x7+parseInt(_0x4b57c7(0x207))/0x8+parseInt(_0x4b57c7(0x225))/0x9*(-parseInt(_0x4b57c7(0x1f0))/0xa);if(_0x29f5f3===_0x27f42d)break;else _0x24a69d['push'](_0x24a69d['shift']());}catch(_0x16a806){_0x24a69d['push'](_0x24a69d['shift']());}}}(_0x5670,0x34033));function _0x3f2a(_0x280d74,_0x124d22){const _0x5670cb=_0x5670();return _0x3f2a=function(_0x3f2a42,_0x795ae){_0x3f2a42=_0x3f2a42-0x1b7;let _0x30d277=_0x5670cb[_0x3f2a42];return _0x30d277;},_0x3f2a(_0x280d74,_0x124d22);}import _0x4dc0ac from'trix/core/basic_object';import{findClosestElementFromNode,handleEvent,triggerEvent}from'trix/core/helpers';function _0x5670(){const _0x3807d4=['18RgXfBa','getAttribute','data-trix-validate','toolbarDidRemoveAttribute','AXvPg','dcHeQ','[data-trix-dialog=','didClickDialogButton','krxap','trix-active','CjcNf','MHLXw','updateActions','[data-trix-action]','resetDialogInputs','data-trix-key','mousedown','\x20[data-trix-input]','AVNgA','bind','qSesZ','focus','497982oCijlz','EqnAP','safeAttribute','name','add','4|7|0|8|1|5|3|2|10|6|11|12|13|9','removeAttribute','refreshActionButtons','select','toolbarDidClickButton','refreshAttributeButtons','querySelector','cmqMJ','isValidAttribute','data-trix-method','ATFoo','remove','1924056PTHbfN','[data-trix-dialog]','[data-trix-key]','setCustomValidity','tStGN','attributes','classList','uQkJT','updateAttributes','setAttribute','toolbarDidToggleAttribute','EGGky','1910BmBzJr','disabled','WUlfG','hasAttribute','getDialog','data-trix-dialog-attribute','toolbarDidUpdateAttribute','map','hideDialog','dMCBY','data-trix-dialog','from','3522550heTnRP','toolbarDidHideDialog','querySelectorAll','willValidate','didClickAttributeButton','vcvfA','SIiHN','QSAbc','eachAttributeButton','aYNLR','UdFPl','3908MIETZg','data-trix-action','dialogIsVisible','stringify','IeWrF','element','forEach','keyCode','showDialog','eachActionButton','PpWPb','actions','3087616fdZOHQ','AXeXo','applyKeyboardCommand','delegate','didClickActionButton','FlwVA','trix-validate','toolbarWillShowDialog','data-trix-active','preventDefault','1ZYyWYL','voCws','ivmEt','\x20[data-trix-method]','value','tZIkN','toggleDialog','didKeyDownDialogInput','sort','toolbarDidShowDialog','ReJbb','2454543bxjzjS','361731YjinRc','bstad','Invalid\x20value','PfBKA','keydown','[data-trix-active]','pbhRk','click'];_0x5670=function(){return _0x3807d4;};return _0x5670();}import _0x15b387 from'dompurify';const attributeButtonSelector='[data-trix-attribute]',actionButtonSelector=_0x34349a(0x1be),toolbarButtonSelector=attributeButtonSelector+',\x20'+actionButtonSelector,dialogSelector=_0x34349a(0x1d9),activeDialogSelector=dialogSelector+_0x34349a(0x222),dialogButtonSelector=dialogSelector+_0x34349a(0x214),dialogInputSelector=dialogSelector+_0x34349a(0x1c2),getInputForDialog=(_0x30f427,_0x2969da)=>{return!_0x2969da&&(_0x2969da=getAttributeName(_0x30f427)),_0x30f427['querySelector']('[data-trix-input][name=\x27'+_0x2969da+'\x27]');},getActionName=_0x2c0bd1=>_0x2c0bd1[_0x34349a(0x226)](_0x34349a(0x1fc)),getAttributeName=_0x45f560=>{const _0x10a2e1=_0x34349a,_0x1f6497={'LPTKZ':_0x10a2e1(0x1e9)};return _0x45f560['getAttribute']('data-trix-attribute')||_0x45f560['getAttribute'](_0x1f6497['LPTKZ']);},getDialogName=_0x5c253b=>_0x5c253b[_0x34349a(0x226)](_0x34349a(0x1ee));export default class ToolbarController extends _0x4dc0ac{constructor(_0x3bee9e){const _0x41d963=_0x34349a,_0x20cb88={'dcHeQ':_0x41d963(0x221),'dMCBY':function(_0x1c1431,_0x1190fe,_0x3aae7c){return _0x1c1431(_0x1190fe,_0x3aae7c);},'ReJbb':'mousedown','PfBKA':function(_0x659469,_0x4cfe31,_0x1af622){return _0x659469(_0x4cfe31,_0x1af622);},'tStGN':_0x41d963(0x224)},_0x573e06=_0x41d963(0x1cc)['split']('|');let _0x5dac73=0x0;while(!![]){switch(_0x573e06[_0x5dac73++]){case'0':this[_0x41d963(0x1f4)]=this['didClickAttributeButton'][_0x41d963(0x1c4)](this);continue;case'1':this[_0x41d963(0x218)]=this[_0x41d963(0x218)][_0x41d963(0x1c4)](this);continue;case'2':this[_0x41d963(0x206)]={};continue;case'3':this[_0x41d963(0x1dd)]={};continue;case'4':super(_0x3bee9e);continue;case'5':this[_0x41d963(0x200)]=_0x3bee9e;continue;case'6':handleEvent(_0x41d963(0x1c1),{'onElement':this[_0x41d963(0x200)],'matchingSelector':actionButtonSelector,'withCallback':this[_0x41d963(0x20b)]});continue;case'7':this[_0x41d963(0x20b)]=this['didClickActionButton'][_0x41d963(0x1c4)](this);continue;case'8':this[_0x41d963(0x1b8)]=this[_0x41d963(0x1b8)][_0x41d963(0x1c4)](this);continue;case'9':handleEvent(_0x20cb88[_0x41d963(0x22a)],{'onElement':this[_0x41d963(0x200)],'matchingSelector':dialogInputSelector,'withCallback':this[_0x41d963(0x218)]});continue;case'10':this['resetDialogInputs']();continue;case'11':_0x20cb88[_0x41d963(0x1ed)](handleEvent,_0x20cb88[_0x41d963(0x21b)],{'onElement':this[_0x41d963(0x200)],'matchingSelector':attributeButtonSelector,'withCallback':this['didClickAttributeButton']});continue;case'12':_0x20cb88[_0x41d963(0x220)](handleEvent,_0x20cb88[_0x41d963(0x1dc)],{'onElement':this[_0x41d963(0x200)],'matchingSelector':toolbarButtonSelector,'preventDefault':!![]});continue;case'13':handleEvent(_0x20cb88[_0x41d963(0x1dc)],{'onElement':this[_0x41d963(0x200)],'matchingSelector':dialogButtonSelector,'withCallback':this[_0x41d963(0x1b8)]});continue;}break;}}['didClickActionButton'](_0x331426,_0xbbbf7){const _0x49c698=_0x34349a,_0x7c487e={'NdBzB':function(_0xf8021e,_0x374ba5){return _0xf8021e(_0x374ba5);},'WRGFO':function(_0x41acb1,_0x3670bb){return _0x41acb1===_0x3670bb;}};this[_0x49c698(0x20a)]?.[_0x49c698(0x1d0)](),_0x331426['preventDefault']();const _0x2139cd=_0x7c487e['NdBzB'](getActionName,_0xbbbf7);return this['getDialog'](_0x2139cd)?this[_0x49c698(0x217)](_0x2139cd):_0x7c487e['WRGFO'](_0x49c698(0x1f6),_0x49c698(0x1f6))?this[_0x49c698(0x20a)]?.['toolbarDidInvokeAction'](_0x2139cd,_0xbbbf7):_0x4eebf0[_0x49c698(0x1e7)](_0x49c698(0x20f));}[_0x34349a(0x1f4)](_0x4f615c,_0xd94433){const _0x26eb2a=_0x34349a,_0x5c3d90={'pbhRk':function(_0x38329e,_0x38f776){return _0x38329e(_0x38f776);}};this[_0x26eb2a(0x20a)]?.[_0x26eb2a(0x1d0)](),_0x4f615c[_0x26eb2a(0x210)]();const _0x2763ec=_0x5c3d90[_0x26eb2a(0x223)](getAttributeName,_0xd94433);return this[_0x26eb2a(0x1e8)](_0x2763ec)?this[_0x26eb2a(0x217)](_0x2763ec):this['delegate']?.[_0x26eb2a(0x1e2)](_0x2763ec),this['refreshAttributeButtons']();}[_0x34349a(0x1b8)](_0x3f45e1,_0x1d680c){const _0x17131a=_0x34349a,_0x1fb723={'ivmEt':function(_0x4bb627,_0x26c79f,_0x3e7fb7){return _0x4bb627(_0x26c79f,_0x3e7fb7);}},_0x2f4b35=_0x1fb723[_0x17131a(0x213)](findClosestElementFromNode,_0x1d680c,{'matchingSelector':dialogSelector}),_0x3237b4=_0x1d680c[_0x17131a(0x226)](_0x17131a(0x1d5));return this[_0x3237b4]['call'](this,_0x2f4b35);}['didKeyDownDialogInput'](_0x201bca,_0x3dedb4){const _0x183526=_0x34349a,_0x14e709={'WUlfG':'href','voCws':function(_0x1d4c48,_0x1f013c){return _0x1d4c48===_0x1f013c;},'pZikw':_0x183526(0x1d6)};if(_0x14e709[_0x183526(0x212)](_0x201bca[_0x183526(0x202)],0xd)){if(_0x14e709[_0x183526(0x212)](_0x14e709['pZikw'],_0x183526(0x1fa)))return _0x2d9d71[_0x183526(0x1d4)]('a',_0x14e709[_0x183526(0x1e6)],_0x4670b5[_0x183526(0x215)]);else{_0x201bca[_0x183526(0x210)]();const _0x360193=_0x3dedb4['getAttribute'](_0x183526(0x1ca)),_0x9029b4=this[_0x183526(0x1e8)](_0x360193);this[_0x183526(0x1e1)](_0x9029b4);}}if(_0x201bca['keyCode']===0x1b)return _0x201bca[_0x183526(0x210)](),this[_0x183526(0x1ec)]();}[_0x34349a(0x1bd)](_0x37d2be){const _0x314d22=_0x34349a;return this[_0x314d22(0x206)]=_0x37d2be,this[_0x314d22(0x1ce)]();}['refreshActionButtons'](){const _0x202e4b=_0x34349a,_0x4ab021={'PpWPb':function(_0xdbaaca,_0x464393){return _0xdbaaca===_0x464393;}};return this[_0x202e4b(0x204)]((_0x1bbc97,_0x54d44e)=>{const _0x18ea98=_0x202e4b;_0x1bbc97[_0x18ea98(0x1e5)]=_0x4ab021[_0x18ea98(0x205)](this[_0x18ea98(0x206)][_0x54d44e],![]);});}[_0x34349a(0x204)](_0x54f923){const _0x49028c=_0x34349a;return Array[_0x49028c(0x1ef)](this[_0x49028c(0x200)][_0x49028c(0x1f2)](actionButtonSelector))[_0x49028c(0x1eb)](_0x2bafd1=>_0x54f923(_0x2bafd1,getActionName(_0x2bafd1)));}[_0x34349a(0x1e0)](_0x24a789){const _0xd8cf62=_0x34349a;return this[_0xd8cf62(0x1dd)]=_0x24a789,this[_0xd8cf62(0x1d1)]();}['refreshAttributeButtons'](){const _0x35fbf5=_0x34349a,_0x3a6956={'qSesZ':_0x35fbf5(0x1d3),'LFrwT':_0x35fbf5(0x1ba),'AXeXo':'data-trix-active'};return this['eachAttributeButton']((_0x19fcd3,_0x485565)=>{const _0x2f0a5f=_0x35fbf5;_0x19fcd3[_0x2f0a5f(0x1e5)]=this[_0x2f0a5f(0x1dd)][_0x485565]===![];if(this[_0x2f0a5f(0x1dd)][_0x485565]||this[_0x2f0a5f(0x1fd)](_0x485565)){if(_0x2f0a5f(0x1bc)!==_0x3a6956[_0x2f0a5f(0x1c5)])return _0x19fcd3[_0x2f0a5f(0x1e1)]('data-trix-active',''),_0x19fcd3['classList']['add'](_0x3a6956['LFrwT']);else _0xd8157c=_0x159bb1(_0x5b1184);}else return _0x19fcd3[_0x2f0a5f(0x1cd)](_0x3a6956[_0x2f0a5f(0x208)]),_0x19fcd3[_0x2f0a5f(0x1de)][_0x2f0a5f(0x1d7)]('trix-active');});}[_0x34349a(0x1f8)](_0x237475){const _0x5ece59=_0x34349a;return Array[_0x5ece59(0x1ef)](this[_0x5ece59(0x200)][_0x5ece59(0x1f2)](attributeButtonSelector))['map'](_0x3781ea=>_0x237475(_0x3781ea,getAttributeName(_0x3781ea)));}[_0x34349a(0x209)](_0x4f7020){const _0x17ecf4=_0x34349a,_0x1a9776={'IayIz':_0x17ecf4(0x1da),'IeWrF':_0x17ecf4(0x1c0),'CjcNf':function(_0x169969,_0x4c4042){return _0x169969===_0x4c4042;},'aYNLR':function(_0x354546,_0x26dd0a,_0x3ea8a3){return _0x354546(_0x26dd0a,_0x3ea8a3);}},_0x38bb92=JSON[_0x17ecf4(0x1fe)](_0x4f7020[_0x17ecf4(0x219)]());for(const _0x193046 of Array[_0x17ecf4(0x1ef)](this[_0x17ecf4(0x200)][_0x17ecf4(0x1f2)](_0x1a9776['IayIz']))){const _0x1136e3=_0x193046[_0x17ecf4(0x226)](_0x1a9776[_0x17ecf4(0x1ff)])['split']('+'),_0x25bd39=JSON[_0x17ecf4(0x1fe)](_0x1136e3[_0x17ecf4(0x219)]());if(_0x1a9776[_0x17ecf4(0x1bb)](_0x25bd39,_0x38bb92))return _0x1a9776[_0x17ecf4(0x1f9)](triggerEvent,_0x17ecf4(0x1c1),{'onElement':_0x193046}),!![];}return![];}[_0x34349a(0x1fd)](_0x503d96){const _0x56ffc0=_0x34349a,_0x42e20e=this['getDialog'](_0x503d96);if(_0x42e20e)return _0x42e20e[_0x56ffc0(0x1e7)]('data-trix-active');}[_0x34349a(0x217)](_0x3635f1){const _0x5e334b=_0x34349a;return this['dialogIsVisible'](_0x3635f1)?this[_0x5e334b(0x1ec)]():this[_0x5e334b(0x203)](_0x3635f1);}[_0x34349a(0x203)](_0x579183){const _0x326bae=_0x34349a,_0x29ed24={'bstad':function(_0x43d3a8,_0xcf0444,_0x1edb1e){return _0x43d3a8(_0xcf0444,_0x1edb1e);},'vcvfA':_0x326bae(0x20f),'AVNgA':_0x326bae(0x1ba),'krxap':function(_0x1ab371,_0x526df7){return _0x1ab371(_0x526df7);},'EqnAP':function(_0x456f2a,_0x513fe7){return _0x456f2a===_0x513fe7;},'EGGky':function(_0x229647,_0x452788,_0x335a4e){return _0x229647(_0x452788,_0x335a4e);}};this[_0x326bae(0x1ec)](),this[_0x326bae(0x20a)]?.[_0x326bae(0x20e)]();const _0x3971be=this[_0x326bae(0x1e8)](_0x579183);_0x3971be['setAttribute'](_0x29ed24[_0x326bae(0x1f5)],''),_0x3971be[_0x326bae(0x1de)][_0x326bae(0x1cb)](_0x29ed24[_0x326bae(0x1c3)]),Array['from'](_0x3971be[_0x326bae(0x1f2)]('input[disabled]'))[_0x326bae(0x201)](_0x513a35=>{const _0x26bbd1=_0x326bae;_0x513a35['removeAttribute'](_0x26bbd1(0x1e5));});const _0x27030c=_0x29ed24[_0x326bae(0x1b9)](getAttributeName,_0x3971be);if(_0x27030c){if(_0x29ed24[_0x326bae(0x1c8)]('LEkDi',_0x326bae(0x20c)))return _0x29ed24[_0x326bae(0x21e)](_0x1ec26a,_0x326bae(0x1c1),{'onElement':_0x17021c}),!![];else{const _0x4485d5=_0x29ed24[_0x326bae(0x1e3)](getInputForDialog,_0x3971be,_0x579183);_0x4485d5&&(_0x4485d5[_0x326bae(0x215)]=this['attributes'][_0x27030c]||'',_0x4485d5[_0x326bae(0x1cf)]());}}return this[_0x326bae(0x20a)]?.[_0x326bae(0x21a)](_0x579183);}[_0x34349a(0x1e1)](_0x1eb314){const _0x1427d7=_0x34349a,_0x47c030={'efWip':_0x1427d7(0x20d)},_0x32aa66=getAttributeName(_0x1eb314),_0x35b0dd=getInputForDialog(_0x1eb314,_0x32aa66);return _0x35b0dd[_0x1427d7(0x1f3)]&&_0x35b0dd[_0x1427d7(0x1db)](''),_0x35b0dd[_0x1427d7(0x1f3)]&&!_0x35b0dd['checkValidity']()||!this[_0x1427d7(0x1c9)](_0x35b0dd)?(_0x35b0dd['setCustomValidity'](_0x1427d7(0x21f)),_0x35b0dd[_0x1427d7(0x1e1)](_0x1427d7(0x227),''),_0x35b0dd[_0x1427d7(0x1de)]['add'](_0x47c030['efWip']),_0x35b0dd[_0x1427d7(0x1c6)]()):(this[_0x1427d7(0x20a)]?.[_0x1427d7(0x1ea)](_0x32aa66,_0x35b0dd[_0x1427d7(0x215)]),this[_0x1427d7(0x1ec)]());}[_0x34349a(0x1c9)](_0x5d951d){const _0x3af558=_0x34349a,_0x2787a3={'uQkJT':'data-trix-validate-href'};return _0x5d951d['hasAttribute'](_0x2787a3[_0x3af558(0x1df)])?_0x15b387['isValidAttribute']('a','href',_0x5d951d[_0x3af558(0x215)]):!![];}[_0x34349a(0x1cd)](_0x35d882){const _0x4f13d9=_0x34349a,_0x40a158={'QSAbc':function(_0x2990b7,_0x98fa19){return _0x2990b7(_0x98fa19);}},_0x3ed16c=_0x40a158[_0x4f13d9(0x1f7)](getAttributeName,_0x35d882);return this[_0x4f13d9(0x20a)]?.[_0x4f13d9(0x228)](_0x3ed16c),this[_0x4f13d9(0x1ec)]();}[_0x34349a(0x1ec)](){const _0x429e23=_0x34349a,_0x29534f={'AXvPg':function(_0x11f097,_0x33ea98){return _0x11f097(_0x33ea98);}},_0x32d839=this['element'][_0x429e23(0x1d2)](activeDialogSelector);if(_0x32d839)return _0x32d839['removeAttribute'](_0x429e23(0x20f)),_0x32d839[_0x429e23(0x1de)][_0x429e23(0x1d7)](_0x429e23(0x1ba)),this[_0x429e23(0x1bf)](),this[_0x429e23(0x20a)]?.[_0x429e23(0x1f1)](_0x29534f[_0x429e23(0x229)](getDialogName,_0x32d839));}[_0x34349a(0x1bf)](){const _0x4f9cf0=_0x34349a,_0x2cd7ef={'DRcnv':'disabled','tZIkN':_0x4f9cf0(0x227),'sTlkZ':_0x4f9cf0(0x20d)};Array[_0x4f9cf0(0x1ef)](this[_0x4f9cf0(0x200)][_0x4f9cf0(0x1f2)](dialogInputSelector))[_0x4f9cf0(0x201)](_0x1f294d=>{const _0x1bf6e1=_0x4f9cf0;_0x1f294d[_0x1bf6e1(0x1e1)](_0x1bf6e1(0x1e5),_0x2cd7ef['DRcnv']),_0x1f294d[_0x1bf6e1(0x1cd)](_0x2cd7ef[_0x1bf6e1(0x216)]),_0x1f294d[_0x1bf6e1(0x1de)]['remove'](_0x2cd7ef['sTlkZ']);});}[_0x34349a(0x1e8)](_0x139bd1){const _0x2d1180=_0x34349a;return this[_0x2d1180(0x200)][_0x2d1180(0x1d2)](_0x2d1180(0x1b7)+_0x139bd1+']');}}