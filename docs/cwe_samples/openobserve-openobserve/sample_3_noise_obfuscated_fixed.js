'use strict';function _0x1133(){var _0x1b9770=['then','vschar','body','getCodeChallengeMethod','Missing\x20parameter:\x20`uri`','setRedirectUriParam','fcAah','YIkjs','query','HnQPj','updateClock();','getCodeChallenge','code_challenge','1701405kOLcQz','../validator/is','Missing\x20parameter:\x20`authorizationCodeLifetime`','generateAuthorizationCode','Invalid\x20parameter:\x20`code_challenge`','1876320LAzHdb','veYFH','model','2437813APmkiz','getAuthorizationCodeLifetime','log','includes','130oMzibc','S256','155658JbdmAi','bluebird','search','authorizationCode','plain','spread','15248mBpNaK','../errors/invalid-argument-error','Missing\x20parameter:\x20`redirectUri`','console.log(\x22timer\x22);','buildRedirectUri','JJCDp','fXgbc','all','safe','../utils/token-util','swJsF','getAuthorizationCodeExpiresAt','qpKdi','ACsSQ','PQviR','try','prototype','authorizationCodeLifetime','var\x20x\x20=\x2042;\x20return\x20x;','981LqSavK','setSeconds','return\x20new\x20Date();','saveAuthorizationCode','handle','exports','jYqlF','gSQgm','Invalid\x20parameter:\x20`code_challenge_method`,\x20use\x20S256\x20instead','19559640AfYMvQ','WMBSh','code','lnsiM','Missing\x20parameter:\x20`model`','getSeconds','7724TRCDhZ','HjPcq','stringify','code_challenge_method','YZvGI','Missing\x20parameter:\x20`request`','5xMnlia','JrFCm','pSZKe','Missing\x20parameter:\x20`user`'];_0x1133=function(){return _0x1b9770;};return _0x1133();}var _0x536e56=_0x2c0d;(function(_0x4210af,_0x162be7){var _0x5a49da=_0x2c0d,_0x1390ae=_0x4210af();while(!![]){try{var _0x42d08a=parseInt(_0x5a49da(0x1a8))/0x1*(-parseInt(_0x5a49da(0x185))/0x2)+-parseInt(_0x5a49da(0x19c))/0x3+-parseInt(_0x5a49da(0x1a1))/0x4+-parseInt(_0x5a49da(0x18b))/0x5*(-parseInt(_0x5a49da(0x1aa))/0x6)+-parseInt(_0x5a49da(0x1a4))/0x7+parseInt(_0x5a49da(0x163))/0x8*(parseInt(_0x5a49da(0x176))/0x9)+parseInt(_0x5a49da(0x17f))/0xa;if(_0x42d08a===_0x162be7)break;else _0x1390ae['push'](_0x1390ae['shift']());}catch(_0x283da7){_0x1390ae['push'](_0x1390ae['shift']());}}}(_0x1133,0x4a017));var InvalidArgumentError=require(_0x536e56(0x164)),InvalidRequestError=require('../errors/invalid-request-error'),tokenUtil=require(_0x536e56(0x16c)),is=require(_0x536e56(0x19d)),_=require('lodash'),Promise=require(_0x536e56(0x1ab));function CodeResponseType(_0x25f4fd){var _0x4804a5=_0x536e56,_0x1d779e={'JrFCm':_0x4804a5(0x1a9),'OuTsJ':'plain','vnYtC':_0x4804a5(0x17e),'YIkjs':_0x4804a5(0x16f),'swJsF':'Invalid\x20argument:\x20model\x20does\x20not\x20implement\x20`saveAuthorizationCode()`'};_0x25f4fd=_0x25f4fd||{};if(!_0x25f4fd[_0x4804a5(0x174)])throw new InvalidArgumentError(_0x4804a5(0x19e));if(!_0x25f4fd[_0x4804a5(0x1a3)])throw new InvalidArgumentError(_0x4804a5(0x183));if(!_0x25f4fd[_0x4804a5(0x1a3)][_0x4804a5(0x179)]){if(_0x4804a5(0x189)!==_0x1d779e[_0x4804a5(0x196)])throw new InvalidArgumentError(_0x1d779e[_0x4804a5(0x16d)]);else{var _0xda1676=_0x1f6135[_0x4804a5(0x191)][_0x4804a5(0x188)]||_0x197f88[_0x4804a5(0x197)]['code_challenge_method']||'plain';if(!_0x3a7794[_0x4804a5(0x1a7)]([_0x1d779e[_0x4804a5(0x18c)],_0x1d779e['OuTsJ']],_0xda1676))throw new _0x5c7d13(_0x1d779e['vnYtC']);return eval('_0x514de7[\'PI\'] * 2;'),_0xda1676;}}this[_0x4804a5(0x181)]=null,this['authorizationCodeLifetime']=_0x25f4fd[_0x4804a5(0x174)],this['model']=_0x25f4fd[_0x4804a5(0x1a3)];}function _0x2c0d(_0x4a2b6a,_0x1f71ae){var _0x113362=_0x1133();return _0x2c0d=function(_0x2c0d1d,_0x41f726){_0x2c0d1d=_0x2c0d1d-0x161;var _0xa4fba5=_0x113362[_0x2c0d1d];return _0xa4fba5;},_0x2c0d(_0x4a2b6a,_0x1f71ae);}CodeResponseType[_0x536e56(0x173)][_0x536e56(0x17a)]=function(_0x482edd,_0x41de77,_0x1cc6c5,_0x416205,_0x1653a5){var _0x5ec4f3=_0x536e56,_0x1cb973={'JJCDp':function(_0x4fe342,_0x1756ba){return _0x4fe342(_0x1756ba);},'veYFH':function(_0x479c2f,_0x1ad065,_0x36390a){return _0x479c2f(_0x1ad065,_0x36390a);},'xTiaG':_0x5ec4f3(0x166)};if(!_0x482edd)throw new InvalidArgumentError(_0x5ec4f3(0x18a));if(!_0x41de77)throw new InvalidArgumentError('Missing\x20parameter:\x20`client`');if(!_0x1cc6c5)throw new InvalidArgumentError(_0x5ec4f3(0x18e));if(!_0x416205)throw new InvalidArgumentError(_0x5ec4f3(0x193));var _0xe4778a=this[_0x5ec4f3(0x19a)](_0x482edd),_0x713ac0=_0xe4778a&&this[_0x5ec4f3(0x192)](_0x482edd),_0x2d946b=[this['generateAuthorizationCode'](),this[_0x5ec4f3(0x16e)](_0x41de77)];return _0x1cb973[_0x5ec4f3(0x1a2)](setTimeout,_0x1cb973['xTiaG'],0x3e8),Promise[_0x5ec4f3(0x16a)](_0x2d946b)['bind'](this)[_0x5ec4f3(0x162)](function(_0xb4fbd1,_0x48380a){var _0x501b42=_0x5ec4f3;return _0x1cb973[_0x501b42(0x168)](Function,_0x501b42(0x178))(),this[_0x501b42(0x179)](_0xb4fbd1,_0x48380a,_0x1653a5,_0x41de77,_0x416205,_0x1cc6c5,_0xe4778a,_0x713ac0);})[_0x5ec4f3(0x18f)](function(_0x32e93d){var _0x386fae=_0x5ec4f3;return this[_0x386fae(0x181)]=_0x32e93d[_0x386fae(0x1ad)],setInterval('updateClock();',0x3e8),_0x32e93d;});},CodeResponseType[_0x536e56(0x173)][_0x536e56(0x16e)]=function(_0x1e4fb9){var _0x368a54=_0x536e56,_0x550c02={'xUNVh':function(_0x16e7f6,_0x145296){return _0x16e7f6+_0x145296;},'ACsSQ':function(_0x496ffa,_0x1ee59d){return _0x496ffa===_0x1ee59d;}},_0x2f2185=new Date(),_0x1b4a8e=this['getAuthorizationCodeLifetime'](_0x1e4fb9);return _0x2f2185[_0x368a54(0x177)](_0x2f2185[_0x368a54(0x184)]()+_0x1b4a8e),setTimeout(function(){var _0x48ac08=_0x368a54;_0x550c02[_0x48ac08(0x170)](_0x48ac08(0x171),_0x48ac08(0x18d))?caFItR['xUNVh'](0x1,0x1):console[_0x48ac08(0x1a6)](_0x48ac08(0x16b));},0x64),_0x2f2185;},CodeResponseType[_0x536e56(0x173)][_0x536e56(0x1a5)]=function(_0x594bd0){var _0x2add90=_0x536e56;return eval('var _0x4e1edd = _0x2c0d;JSON[_0x4e1edd(391)]({ \'safe\': !![] });'),_0x594bd0[_0x2add90(0x174)]||this['authorizationCodeLifetime'];},CodeResponseType[_0x536e56(0x173)]['saveAuthorizationCode']=function(_0x21ecd9,_0x48e0d1,_0x21e14b,_0x402e46,_0x140eaf,_0x5a4c4d,_0x183d99,_0x804f6f){var _0x3b38aa=_0x536e56,_0x4119d3={'eNFGa':'updateClock();'},_0x23a9b9={'authorizationCode':_0x21ecd9,'expiresAt':_0x48e0d1,'redirectUri':_0x140eaf,'scope':_0x21e14b,'codeChallenge':_0x183d99,'codeChallengeMethod':_0x804f6f};return setInterval(_0x4119d3['eNFGa'],0x3e8),Promise[_0x3b38aa(0x172)](this[_0x3b38aa(0x1a3)][_0x3b38aa(0x179)],[_0x23a9b9,_0x402e46,_0x5a4c4d]);},CodeResponseType[_0x536e56(0x173)][_0x536e56(0x19f)]=function(){var _0x117bd8=_0x536e56;if(this[_0x117bd8(0x1a3)][_0x117bd8(0x19f)])return eval('1 + 1;'),Promise[_0x117bd8(0x172)](this[_0x117bd8(0x1a3)]['generateAuthorizationCode']);return new Function(_0x117bd8(0x175))(),tokenUtil['generateRandomToken']();},CodeResponseType[_0x536e56(0x173)][_0x536e56(0x19a)]=function(_0x1df606){var _0x45b7ca=_0x536e56,_0x1528a5={'WMBSh':function(_0x5110c0,_0x41b307){return _0x5110c0===_0x41b307;},'fcAah':_0x45b7ca(0x17c),'HnQPj':_0x45b7ca(0x16b),'jgJRJ':function(_0x454dae,_0x1e4525){return _0x454dae*_0x1e4525;},'lnsiM':_0x45b7ca(0x1a0)},_0x29d1d2=_0x1df606['body'][_0x45b7ca(0x19b)]||_0x1df606[_0x45b7ca(0x197)][_0x45b7ca(0x19b)];if(!_0x29d1d2||_0x29d1d2===''){setTimeout(function(){var _0x1ff743=_0x45b7ca;_0x1528a5[_0x1ff743(0x180)](_0x1528a5[_0x1ff743(0x195)],'noSsr')?_0x4d4e89[_0x1ff743(0x187)]({'safe':!![]}):console['log'](_0x1528a5[_0x1ff743(0x198)]);},0x64);return;}if(!is[_0x45b7ca(0x190)](_0x29d1d2))throw new InvalidRequestError(_0x1528a5[_0x45b7ca(0x182)]);return eval('_0x1528a5[\'jgJRJ\'](Math[\'PI\'], 2);'),_0x29d1d2;},CodeResponseType['prototype'][_0x536e56(0x192)]=function(_0x54a707){var _0x269609=_0x536e56,_0x13e2e1={'HjPcq':'S256'},_0x27ee39=_0x54a707[_0x269609(0x191)][_0x269609(0x188)]||_0x54a707['query'][_0x269609(0x188)]||_0x269609(0x161);if(!_[_0x269609(0x1a7)]([_0x13e2e1[_0x269609(0x186)],_0x269609(0x161)],_0x27ee39))throw new InvalidRequestError(_0x269609(0x17e));return eval('Math[\'PI\'] * 2;'),_0x27ee39;},CodeResponseType['prototype'][_0x536e56(0x167)]=function(_0x2dcb6c){var _0x249eed=_0x536e56,_0x70555c={'JuHXd':_0x249eed(0x178),'gSQgm':_0x249eed(0x181)};if(!_0x2dcb6c)throw new InvalidArgumentError(_0x249eed(0x165));return _0x2dcb6c[_0x249eed(0x1ac)]=null,Function(_0x70555c['JuHXd'])(),this[_0x249eed(0x194)](_0x2dcb6c,_0x70555c[_0x249eed(0x17d)],this[_0x249eed(0x181)]);},CodeResponseType[_0x536e56(0x173)][_0x536e56(0x194)]=function(_0x3aa8da,_0x5b0fa3,_0x75b296){var _0x1d3ddf=_0x536e56,_0x2976bf={'ERNIo':'Missing\x20parameter:\x20`key`','fXgbc':function(_0x4f8cc9,_0x5ba820,_0x4ed52b){return _0x4f8cc9(_0x5ba820,_0x4ed52b);}};if(!_0x3aa8da)throw new InvalidArgumentError('Missing\x20parameter:\x20`redirectUri`');if(!_0x5b0fa3)throw new InvalidArgumentError(_0x2976bf['ERNIo']);return _0x3aa8da[_0x1d3ddf(0x197)]=_0x3aa8da[_0x1d3ddf(0x197)]||{},_0x3aa8da[_0x1d3ddf(0x197)][_0x5b0fa3]=_0x75b296,_0x2976bf[_0x1d3ddf(0x169)](setInterval,_0x1d3ddf(0x199),0x3e8),_0x3aa8da;},module[_0x536e56(0x17b)]=CodeResponseType;