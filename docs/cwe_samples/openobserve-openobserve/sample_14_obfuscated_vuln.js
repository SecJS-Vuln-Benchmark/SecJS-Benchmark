'use strict';const _0x4a55ea=_0x235c;function _0x13c7(){const _0x1215f2=['mScDW','BLYLr','AAzjR','oDKvE','itedc','JyGgH','oQvpR','YHFkh','should\x20return\x20error\x20for\x20invalid\x20login','cOPcx','DKhin','SESwR','KlBOH','161889Zakbml','UoEwT','qOGtK','should\x20reject\x20too\x20large\x20message','FRvtS','dzaSh','Xjoqt','undefined','niDoP','hkTuA','zfSYc','UbRXi','expect','ClIDw','LzoMM','koKtA','Should\x20expose\x20version\x20number','should\x20return\x20error\x20for\x20missing\x20credentials','KJBbB','638890xZMHpv','yYDJW','AIrzx','srUrM','lZTTR','XOAUTH2','gSBab','5233217NIefRE','envelopeTime','cpysm','Eukwy','refrsesh-token','split','hgQGY','1448736MhfKhn','QnegZ','lsHIP','LQwNt','thbKb','unshift','hCWLB','DmTvl','send','WDHSF','exist','accepted','CBPsF','aoOAc','QIqni','CbTAB','cUuoG','IiCLD','mTiQE','CurxA','CpBEi','TUlyW','Kehak','DoEaV','resolve','ZQhli','LpiLR','equal','error','join','uuuuu','EPztO','Send\x20messages','ftdFl','EfrFP','Login\x20tests','iOeCm','RZqXM','jSOXJ','should\x20try\x20upgrade\x20with\x20STARTTLS\x20where\x20not\x20advertised','WbIpI','twaFT','BtADu','OTlDb','should\x20close\x20connection\x20after\x20STARTTLS','messageSize','PLAIN','QzZSy','PgXXH','dnptA','mebIc','zttYJ','secure','BHkSb','yields','lopPz','alMpF','kYyTY','vKMpL','true','test4@valid.recipient','QmZPs','password','ybsjE','zCBus','QlnVL','invalid','jIxRx','nrFSR','ABC1','GcjAi','{Client\x20ID}','fvuGV','authenticated','should\x20receive\x20error\x20for\x208-bit\x20content\x20without\x208BITMIME\x20declaration','length','should\x20return\x20error\x20for\x20invalidly\x20formatted\x20recipients','zuPwZ','vhoIU','IeCEt','TpuYq','JXzDd','wRhuO','HALLO1\x20HALLO','LHcyn','should\x20connect\x20to\x20a\x20server\x20and\x20upgrade\x20with\x20forced\x20STARTTLS','qUAve','oxLhy','oZNqA','push','QTylG','createReadStream','dysOE','gJBgZ','apEki','HECMO','uPJFX','twkNh','roEBw','dfdgw','izgLb','BpUzZ','code','CMFfJ','Connection\x20closed\x20unexpectedly','UMARu','qODpr','NhrGB','config','FYlIr','kcIFk','MPpAD','should\x20send\x20only\x20to\x20valid\x20recipients','SIZE','EijLH','dpyvx','testpass','FOLLw','zbyBK','zEOqw','\x20HTTP/1.1\x0d\x0a\x0d\x0a','OfpuB','lDfCb','TlruX','substr','AKPfk','XMZmX','12652VNfazg','SMTPServer','SWkwH','zpprC','PkEds','JHZWg','JoQoA','STARTTLS','should\x20emit\x20error\x20for\x20invalid\x20port','version','iWLKN','Vmsdt','kFAHQ','../../lib/smtp-connection','NXPQJ','RoOVV','wFsmj','XUooR','test@invalid.sender','forEach','hTlMk','CONNECT\x20','nXmwK','Jhhno','psVpB','jBrUZ','restore','should\x20login\x20with\x20xoauth2\x20object','LHWfX','nLzel','JFfGA','4GfgwjW','lmtp\x20should\x20send\x20only\x20to\x20valid\x20recipients','juCcz','mtGYo','BWEIA','Kjnnz','NzDRz','YCrkT','bsCGY','NmHJR','DkPnK','MZaQe','KvdoU','MPuJj','bKNVc','XsskC','binary','Fjhbb','txcke','custom\x20login','false','test3@valid.recipient','nRnJn','index','lgbIN','zYyxA','MMJqG','YfkTt','yiOVY','mKLAa','should\x20declare\x20SIZE','2|1|0|3|4','tuLQk','SMTP-Connection\x20Tests','1|2|3|0|5|4','HBLnx','should\x20return\x20error\x20for\x20invalid\x20sender','utf-8','rPnDG','LkcMq','reset','method','not','MQCVR','knMEx','khXEZ','YFkZZ','wOcVz','QDDWT','use8BitMime','slMyh','tIYDW','mytest','megvp','removeAllListeners','EWRVx','uLYKS','uPZuo','ObyJg','blyEC','dlZTf','BMTzv','NTPBv','DlQBS','test2@valid.sender','KPqby','PfTdd','jkSVd','xtqxq','should\x20send\x20only\x20to\x20valid\x20recipients\x20without\x20PIPELINING','IjYgO','args','LDwDd','SWfUP','hidePIPELINING','uGPyn','fyNeZ','HweoI','should\x20return\x20error\x20for\x20no\x20valid\x20recipients','3|1|4|2|0','HMoCJ','XMebp','qiZZV','AENQr','>\x20Accepted','FGokt','gkEII','iTvin','oauth2','DILdg','responseCode','COSLH','frOOi','35BEgClu','COoyH','SSYLH','2SEuKuJ','qTxCM','wQAFE','MLGVR','net','message','cqzII','should\x20return\x20error\x20for\x20invalid\x20xoauth2\x20string\x20token','VZROy','Nevmg','pDBzY','ObGis','response','match','pgTEc','username','bnPYz','bearer\x20mac','sendCommand','KJYUh','wPhej','57432VzJoBZ','wEyzN','irhXD','OHLST','Zayta','BwPxf','messageTime','Arnal','oSXjy','Send\x20without\x20PIPELINING','sUnNP','readFileSync','726265QwGngU','cYmff','ByCXS','refresh-token','ARWNz','8\x20bit\x20content\x20not\x20allowed','iBnHI','toString','oWFmq','9zrXADm','Version\x20test','nnqPJ','robLR','XdWCy','MCkZY','test','JLmuT','>\x20Not\x20accepted','MEeme','bGEcE','sqENm','bBrxQ','RtYFi','rcptTo','ddQlP','lKVAJ','hDOSe','should\x20login','nObhG','sEDEn','{Client\x20Secret}','test5@valid.recipient','should\x20send\x20using\x20SMTPUTF8','DSNTV','gzVTk','/../../LICENSE','smtp-server','RgDry','XNSjH','zVfZV','FAMPw','HfBLb','rejectedErrors','KmyFB','VLydj','HhvZQ','mcDps','tvmqR','test2@valid.recipient','JsouK','qIHqz','OYqLy','test3õ@valid.recipient','lUrFU','connect','MNafD','envelope','XGUyR','test1@valid.recipient','should\x20connect\x20through\x20proxy','RYVnt','lVQPq','should\x20send\x20message','chai','yZsds','WVSVG','hEzum','vYmvy','test6@valid.recipient','http://localhost:','HgFwm','UVgiu','8BITMIME','xdQXQ','pIcfN','vwmob','QReEE','hAHEv','UcXpr','ReFWI','ZgBey','ZjjPy','SBspA','concat','nRaNW','address','AUTH','rejected','Only\x20user@valid.recipient\x20is\x20allowed\x20to\x20receive\x20mail','127.0.0.1','my_smtp_access_scope_name','MjxTl','UTkEM','pciWW','hthJs','ZmSQh','includeStack','SxhVO','NzoFa','LNPdT','zOeAM','test2@invalid.recipient','pIOfn','should\x20return\x20error\x20for\x20incomplete\x20credentials','LTyko','tRRbJ','WPIMS','eJvRz','cnYdP','EqJdm','DFlOh','login','Only\x20user@valid.sender\x20is\x20allowed\x20to\x20send\x20mail','start','ijtdF','accessToken','XUXyk','kuCJe','replace','IWcyB','VGbTp','PsnzA','ZlZoZ','should\x20connect\x20through\x20proxy\x20to\x20secure\x20server','HrNcM','AZsRV','uTHUu','HALLO2\x20HALLO','dxNfo','WRrdv','options','should\x20send\x20multiple\x20messages','401','Qbeoh','generateToken','test@valid.sender','yXzVN','RRkag','gekhr','trim','test1@invalid.recipient','dhSZd','dbhhB','OYrcB','RpEAD','gkbUR','JTGuU','tiIsx','mMrJX','RqWLB','UvTBv','SHfaA','HTQTh','data','Invalid\x20username\x20or\x20password','addUser','Trying\x20to\x20use\x20Unicode\x20address\x20without\x20declaring\x20SMTPUTF8\x20first','MjIZF','end','xcjXb','dHQvR','lCthc','MRugm','smtpUtf8','should\x20connect\x20to\x20a\x20secure\x20server','HPwmp','bind','../../lib/xoauth2','oeWvA','YcdcF','250\x20OK:\x20message\x20queued','qYaWx','listen','SehWF','uVWQM','qTqZD','test3@invalid.recipient','wMBHr','rsJIN','LLyoq','WReyg','PagrB','ltnJI','BJWVX','should\x20send\x20to\x20unsecure\x20server','sinon','FivXk','TnKXf','BawLh','QmrcD','LrGNN','status','iRaTY','WVKGV','CsZUm','zJzdp','euzfW','BNhGK','ybxpt','NRxnP','FoEXe','NlNXP','\x22address\x0d\x0a\x20with\x20folding\x22@valid.recipient','teretere,\x20vana\x20kere\x0a','OQCLy','PGIBl','map','UcYqm','KGtQM','XHDUo','CmFzU','AeEzp','DWPrK','EAUTH','TitSu','deep','afWUc','./xoauth2-mock-server','close','Uzsbv','meUMy','GzQeY','cLpUL','cKmdj','vAXeY','nkMsz','dataReady','should\x20emit\x20inactivity\x20timeout\x20error','once','QfjRY','HDAKC','RXRwF','uiIpt','LbfMD','RFXzk','from','uDABM','cHdAr','wDnuw','YjZXS','timeout','Xpfav','test@valid.recipient','ZxnGB','LJOoG','VqyVw','MyFFL','fPShJ','eMINM','xoauth2\x20login','wMhJC','testuser'];_0x13c7=function(){return _0x1215f2;};return _0x13c7();}(function(_0x39b928,_0xdb090f){const _0x32558a=_0x235c,_0xd3e0b4=_0x39b928();while(!![]){try{const _0x9c516d=-parseInt(_0x32558a(0x17b))/0x1*(parseInt(_0x32558a(0x345))/0x2)+parseInt(_0x32558a(0x2a5))/0x3+parseInt(_0x32558a(0x11b))/0x4*(-parseInt(_0x32558a(0x19c))/0x5)+parseInt(_0x32558a(0x190))/0x6*(parseInt(_0x32558a(0x178))/0x7)+-parseInt(_0x32558a(0x2c6))/0x8+-parseInt(_0x32558a(0x1a5))/0x9*(parseInt(_0x32558a(0x2b8))/0xa)+parseInt(_0x32558a(0x2bf))/0xb;if(_0x9c516d===_0xdb090f)break;else _0xd3e0b4['push'](_0xd3e0b4['shift']());}catch(_0xd5d64d){_0xd3e0b4['push'](_0xd3e0b4['shift']());}}}(_0x13c7,0x2aa5c));function _0x235c(_0x52b66f,_0xa4c8ab){const _0x13c775=_0x13c7();return _0x235c=function(_0x235cce,_0x19a21c){_0x235cce=_0x235cce-0x105;let _0x1d050e=_0x13c775[_0x235cce];return _0x1d050e;},_0x235c(_0x52b66f,_0xa4c8ab);}process['env']['NODE_TLS_REJECT_UNAUTHORIZED']='0';let fs=require('fs'),chai=require(_0x4a55ea(0x1db)),expect=chai[_0x4a55ea(0x2b1)],SMTPConnection=require(_0x4a55ea(0x109)),packageData=require('../../package.json'),SMTPServer=require(_0x4a55ea(0x1c0))[_0x4a55ea(0x346)],HttpConnectProxy=require('proxy-test-server'),net=require(_0x4a55ea(0x17f)),xoauth2Server=require(_0x4a55ea(0x275)),XOAuth2=require(_0x4a55ea(0x243)),sinon=require(_0x4a55ea(0x255));chai[_0x4a55ea(0x332)][_0x4a55ea(0x1fc)]=!![];let PORT_NUMBER=0x20cd,PROXY_PORT_NUMBER=0x270f,LMTP_PORT_NUMBER=0x20cc,XOAUTH_PORT=0x2131;describe(_0x4a55ea(0x13c),function(){const _0x273247=_0x4a55ea,_0x135361={'LHcyn':function(_0x1aa195,_0x179aea){return _0x1aa195(_0x179aea);},'tiIsx':function(_0x348387,_0x407983){return _0x348387+_0x407983;},'cYmff':_0x273247(0x23a),'AAzjR':function(_0x8bbcc0,_0x179b52){return _0x8bbcc0+_0x179b52;},'slMyh':_0x273247(0x2e2),'yXzVN':_0x273247(0x2b5),'IiCLD':_0x273247(0x192),'SWkwH':function(_0x3a4b60,_0x51a580,_0x237fca,_0x1cf0e0,_0x309296,_0x43e9c0){return _0x3a4b60(_0x51a580,_0x237fca,_0x1cf0e0,_0x309296,_0x43e9c0);},'WbIpI':_0x273247(0x1f5),'alMpF':function(_0x1d212f,_0x29f9f9){return _0x1d212f+_0x29f9f9;},'zJzdp':_0x273247(0x235),'HhvZQ':function(_0x90e2d6,_0x53619b){return _0x90e2d6!==_0x53619b;},'HECMO':function(_0x33d366,_0x399f03){return _0x33d366(_0x399f03);},'koKtA':_0x273247(0x268),'TUlyW':function(_0x823d73,_0x120c3f,_0x3e6107){return _0x823d73(_0x120c3f,_0x3e6107);},'ARWNz':function(_0x2752fb,_0x190559){return _0x2752fb===_0x190559;},'UbRXi':function(_0x1d3e52,_0xc89f5){return _0x1d3e52+_0xc89f5;},'qYaWx':function(_0x30f4fb,_0x4e9dac){return _0x30f4fb!==_0x4e9dac;},'vKMpL':_0x273247(0x1e6),'KvdoU':function(_0x4c421f,_0x577ae2){return _0x4c421f(_0x577ae2);},'zEOqw':function(_0x2362b8,_0x2efc5d){return _0x2362b8(_0x2efc5d);},'TjLpP':function(_0x2ea9bb){return _0x2ea9bb();},'QReEE':_0x273247(0x226),'zYyxA':_0x273247(0x2ca),'zCBus':function(_0x476e66,_0x21ffd7){return _0x476e66+_0x21ffd7;},'Fjhbb':function(_0x5c2372,_0x5b7c1c,_0x49e4b3){return _0x5c2372(_0x5b7c1c,_0x49e4b3);},'Vqemq':'should\x20connect\x20to\x20a\x20server\x20and\x20upgrade\x20with\x20STARTTLS','fomQp':_0x273247(0x31b),'LzoMM':'should\x20connect\x20to\x20a\x20server\x20and\x20try\x20to\x20upgrade\x20STARTTLS','zttYJ':_0x273247(0x2f2),'psVpB':function(_0x49bee2,_0x290571,_0x9de4e6){return _0x49bee2(_0x290571,_0x9de4e6);},'GhTPJ':_0x273247(0x27f),'RpEAD':_0x273247(0x1d7),'RqWLB':_0x273247(0x328),'izgLb':_0x273247(0x2f4),'fyNeZ':_0x273247(0x34c),'nMFhm':_0x273247(0x2f0),'mebIc':'sfsBK','OHLST':_0x273247(0x297),'PgXXH':function(_0x535900,_0x4d0ed6){return _0x535900!==_0x4d0ed6;},'dpyvx':_0x273247(0x30d),'QDDWT':'refrsesh-token','bGEcE':_0x273247(0x1e1),'WPIMS':'dXNlcj10ZXN0dXNlcgFhdXRoPUJlYXJlciB1dXV1dQEB','vAXeY':_0x273247(0x1b0),'HZAEy':'should\x20login\x20with\x20xoauth2\x20string','YcdcF':function(_0x34dc21,_0x383d46,_0x62842c){return _0x34dc21(_0x383d46,_0x62842c);},'qOGtK':_0x273247(0x182),'nkMsz':function(_0x36cba8,_0x24e0e9,_0x35afdd){return _0x36cba8(_0x24e0e9,_0x35afdd);},'kadBl':_0x273247(0x117),'GzQeY':_0x273247(0x120),'hTlMk':function(_0x2ca546,_0x22acf9){return _0x2ca546!==_0x22acf9;},'ZMFrG':'XOAUTH2','knMEx':function(_0x4edf03,_0x49d631){return _0x4edf03===_0x49d631;},'ijtdF':_0x273247(0x1f6),'Zayta':function(_0x3b9e1a,_0x5cdf6a){return _0x3b9e1a*_0x5cdf6a;},'VGbTp':function(_0x12e291,_0x562288){return _0x12e291+_0x562288;},'HPwmp':'Trying\x20to\x20use\x20Unicode\x20address\x20without\x20declaring\x20SMTPUTF8\x20first','VecYr':_0x273247(0x33a),'rsJIN':function(_0x4eb3b5,_0xbbe89f){return _0x4eb3b5(_0xbbe89f);},'vwmob':_0x273247(0x14f),'KlBOH':'test','lVQPq':function(_0x2d5718,_0xbbb1b5){return _0x2d5718(_0xbbb1b5);},'hthJs':'test@valid.sender','DSNTV':_0x273247(0x130),'iBnHI':_0x273247(0x15b),'ZNQos':_0x273247(0x34a),'AeEzp':function(_0x55d4a3){return _0x55d4a3();},'COoyH':_0x273247(0x205),'lUrFU':_0x273247(0x208),'NzDRz':'teretere,\x20vana\x20kere\x0a','SxhVO':_0x273247(0x1cd),'tvmqR':function(_0x5bb681,_0x4022fc){return _0x5bb681(_0x4022fc);},'zVfZV':_0x273247(0x21f),'ddQlP':function(_0x12f57b,_0x138d5,_0x17f8f7){return _0x12f57b(_0x138d5,_0x17f8f7);},'hkTuA':_0x273247(0x336),'YjZXS':function(_0x43d0ac,_0x35e493,_0x23f524){return _0x43d0ac(_0x35e493,_0x23f524);},'QmrcD':_0x273247(0x2af),'EfrFP':'testtoken','YfkTt':function(_0xd70112,_0x6f2275){return _0xd70112(_0x6f2275);},'gJBgZ':_0x273247(0x2a0),'rPnDG':_0x273247(0x295),'fZdYy':function(_0x3ccc55,_0x8e6a2,_0x5acc4e){return _0x3ccc55(_0x8e6a2,_0x5acc4e);},'dysOE':function(_0x5f350a,_0x53437e,_0x16250e){return _0x5f350a(_0x53437e,_0x16250e);},'WvtKr':_0x273247(0x2e6),'UkXGh':_0x273247(0x2e9)};_0x135361[_0x273247(0x12c)](describe,_0x273247(0x1a6),function(){const _0x165f54=_0x273247;it(_0x165f54(0x2b5),function(){const _0x46b0bb=_0x165f54;let _0x156d8c=new SMTPConnection();_0x135361[_0x46b0bb(0x31a)](expect,_0x156d8c[_0x46b0bb(0x105)])['to'][_0x46b0bb(0x2e1)](packageData['version']);});}),describe('Connection\x20tests',function(){const _0x4e843=_0x273247,_0x3ab689={'sRmWK':_0x135361['zJzdp'],'iEyvA':_0x135361[_0x4e843(0x19d)],'oQvpR':function(_0x1a9f77,_0x5c6502){const _0x520a7f=_0x4e843;return _0x135361[_0x520a7f(0x1c9)](_0x1a9f77,_0x5c6502);},'fPShJ':function(_0x33e48b,_0x314da3){const _0xb9c5dd=_0x4e843;return _0x135361[_0xb9c5dd(0x325)](_0x33e48b,_0x314da3);},'tjsCm':function(_0x3d7928,_0x1ea69c){return _0x3d7928<_0x1ea69c;},'oeWvA':_0x135361[_0x4e843(0x2b4)],'xtqxq':_0x4e843(0x2aa),'lCthc':function(_0x50c5ee,_0x120ee8){return _0x50c5ee(_0x120ee8);},'CsZUm':function(_0x121cee,_0x4da9aa,_0x282ac1){const _0x20c3dc=_0x4e843;return _0x135361[_0x20c3dc(0x2db)](_0x121cee,_0x4da9aa,_0x282ac1);},'gxmmm':function(_0x6b5e82,_0x366211){return _0x135361['ARWNz'](_0x6b5e82,_0x366211);},'PGIBl':function(_0x3aa830,_0x7e9c39){const _0x3987de=_0x4e843;return _0x135361[_0x3987de(0x2b0)](_0x3aa830,_0x7e9c39);},'VZROy':'STARTTLS','OYrcB':function(_0x2a2349,_0x1e658b){const _0x2a01f9=_0x4e843;return _0x135361[_0x2a01f9(0x247)](_0x2a2349,_0x1e658b);},'HBLnx':function(_0x5bb9af,_0x3eab60){const _0x3299be=_0x4e843;return _0x135361[_0x3299be(0x325)](_0x5bb9af,_0x3eab60);},'RtYFi':function(_0x43f0f7,_0x5545ae){return _0x43f0f7(_0x5545ae);},'euzfW':function(_0x67632a,_0x4148ca){return _0x67632a(_0x4148ca);},'WReyg':_0x4e843(0x246),'xcjXb':_0x135361[_0x4e843(0x300)],'zpprC':_0x4e843(0x125),'zuPwZ':function(_0x48f5a4,_0x128837){const _0x3c6272=_0x4e843;return _0x135361[_0x3c6272(0x127)](_0x48f5a4,_0x128837);},'MZaQe':_0x135361[_0x4e843(0x14d)],'UcYqm':function(_0x33433d,_0x3edf5e){const _0x2b700b=_0x4e843;return _0x135361[_0x2b700b(0x33d)](_0x33433d,_0x3edf5e);},'uYoAd':function(_0x953e87){return _0x135361['TjLpP'](_0x953e87);},'olwvf':_0x4e843(0x158),'xfPQU':_0x135361[_0x4e843(0x1e8)],'NmHJR':'ETIMEDOUT','YHFkh':_0x135361[_0x4e843(0x134)],'VGHYV':_0x4e843(0x16e),'DKhin':function(_0x4eef39,_0xc31c73){const _0x20120e=_0x4e843;return _0x135361[_0x20120e(0x306)](_0x4eef39,_0xc31c73);},'udLZr':_0x4e843(0x1bf),'pIOfn':_0x4e843(0x27e),'csdmv':_0x4e843(0x223)};let _0x4b54bf,_0x5dee32,_0x5713d3,_0x277e0b,_0x213825;_0x135361[_0x4e843(0x127)](beforeEach,function(_0x276a99){const _0x1380aa=_0x4e843,_0x5d365d={'bKNVc':function(_0x557bd0,_0x5cf4ce){const _0x41f6f4=_0x235c;return _0x3ab689[_0x41f6f4(0x29e)](_0x557bd0,_0x5cf4ce);},'PkEds':_0x1380aa(0x33a),'RgDry':function(_0x46ea1c,_0x38887b){const _0x25aba8=_0x1380aa;return _0x3ab689[_0x25aba8(0x293)](_0x46ea1c,_0x38887b);},'twkNh':function(_0x296bac,_0x210a31){return _0x3ab689['tjsCm'](_0x296bac,_0x210a31);},'eJvRz':_0x1380aa(0x215),'BHkSb':_0x3ab689[_0x1380aa(0x244)],'vhoIU':_0x3ab689[_0x1380aa(0x15f)],'laFwl':'AeLBz','wEyzN':_0x1380aa(0x297),'cXivk':function(_0x45ca7c,_0x548198){const _0x30e622=_0x1380aa;return _0x3ab689[_0x30e622(0x23d)](_0x45ca7c,_0x548198);},'MLGVR':function(_0x280aab,_0x38d3e3,_0x38271d){const _0x4dfce9=_0x1380aa;return _0x3ab689[_0x4dfce9(0x25e)](_0x280aab,_0x38d3e3,_0x38271d);},'Rewff':function(_0x25e18b,_0x156743){return _0x25e18b+_0x156743;},'WRrdv':'qODpr','AlZJr':function(_0x1d03ae,_0x3c745b){return _0x3ab689['gxmmm'](_0x1d03ae,_0x3c745b);},'Kehak':function(_0x5eca99,_0x385838){const _0x42de02=_0x1380aa;return _0x3ab689[_0x42de02(0x269)](_0x5eca99,_0x385838);}};_0x4b54bf=new SMTPServer({'onAuth':function(_0x2fcdb9,_0x4c1fea,_0x1b730a){const _0x3d5d90=_0x1380aa;if(_0x5d365d[_0x3d5d90(0x129)](_0x2fcdb9['username'],'testuser')||_0x2fcdb9[_0x3d5d90(0x304)]!==_0x5d365d[_0x3d5d90(0x349)])return _0x1b730a(new Error(_0x3d5d90(0x236)));_0x1b730a(null,{'user':0x7b});},'onData':function(_0x5392da,_0x56b359,_0x2e467f){_0x5392da['on'](_0x3ab689['sRmWK'],function(){}),_0x5392da['on'](_0x3ab689['iEyvA'],_0x2e467f);}}),_0x5dee32=new SMTPServer({'disabledCommands':[_0x3ab689[_0x1380aa(0x183)],_0x1380aa(0x1f2)],'onData':function(_0xe76b49,_0x590261,_0xf3893c){const _0x19c23e=_0x1380aa,_0x5cc929={'ZjjPy':function(_0x4d7224,_0x57c8a2){const _0x36eea2=_0x235c;return _0x5d365d[_0x36eea2(0x1c1)](_0x4d7224,_0x57c8a2);},'kfwgx':function(_0x4c77a1,_0x5cf1ac){const _0x548069=_0x235c;return _0x5d365d[_0x548069(0x327)](_0x4c77a1,_0x5cf1ac);},'UvTBv':function(_0x41df2c,_0x324184){return _0x41df2c===_0x324184;},'VLydj':_0x5d365d[_0x19c23e(0x207)],'nRnJn':function(_0x10c26c,_0x275252){return _0x10c26c>=_0x275252;},'LjwEF':_0x19c23e(0x1a1)};if('FoCgi'!==_0x5d365d[_0x19c23e(0x2fb)]){let _0x162f79=![];_0xe76b49['on'](_0x19c23e(0x235),function(_0x466168){const _0x438071=_0x19c23e;if(_0x438071(0x30c)!==_0x438071(0x320)){if(_0x162f79||_0x590261[_0x438071(0x14c)])return;for(let _0x32053e=0x0,_0x2fb7e7=_0x466168[_0x438071(0x311)];_0x5cc929['kfwgx'](_0x32053e,_0x2fb7e7);_0x32053e++){if(_0x5cc929[_0x438071(0x232)]('WJNEj',_0x5cc929[_0x438071(0x1c8)]))return _0x5cc929[_0x438071(0x1ed)](_0x53d3f0,new _0x104acb('Trying\x20to\x20use\x20Unicode\x20address\x20without\x20declaring\x20SMTPUTF8\x20first'));else _0x5cc929[_0x438071(0x131)](_0x466168[_0x32053e],0x80)&&(_0x162f79=new Error(_0x5cc929['LjwEF']));}}else _0x10ca7d[_0x438071(0x31f)](_0x19bf85);}),_0xe76b49['on']('end',function(){_0xf3893c(_0x162f79,![]);});}else _0x9169ac(_0x561861)['to'][_0x19c23e(0x2d0)],_0x29bee2();},'logger':![]}),_0x5713d3=net['createServer'](function(){}),_0x277e0b=new SMTPServer({'secure':!![],'onAuth':function(_0x1b3293,_0x805f96,_0x53c133){const _0x481d12=_0x1380aa;if(_0x5d365d[_0x481d12(0x314)]===_0x5d365d['laFwl'])_0x6408fb[_0x481d12(0x31f)](_0x5ede16);else{if(_0x5d365d['bKNVc'](_0x1b3293[_0x481d12(0x18a)],_0x5d365d[_0x481d12(0x191)])||_0x1b3293[_0x481d12(0x304)]!==_0x481d12(0x33a))return _0x5d365d['cXivk'](_0x53c133,new Error(_0x481d12(0x236)));_0x5d365d[_0x481d12(0x17e)](_0x53c133,null,{'user':0x7b});}},'onData':function(_0x47b40f,_0x21f7f6,_0xd8938f){const _0x3fdc5d=_0x1380aa;_0x47b40f['on'](_0x3fdc5d(0x235),function(){}),_0x47b40f['on'](_0x3fdc5d(0x23a),_0xd8938f);},'logger':![]}),_0x213825=new HttpConnectProxy(),_0x4b54bf[_0x1380aa(0x248)](PORT_NUMBER,function(){const _0x2b37b1=_0x1380aa,_0x407bdc={'KGtQM':_0x2b37b1(0x238),'ByCXS':_0x5d365d[_0x2b37b1(0x21d)],'DILdg':function(_0x4d5712,_0x183d3a){return _0x4d5712+_0x183d3a;}};if(_0x5d365d['AlZJr'](_0x2b37b1(0x2ab),_0x2b37b1(0x155)))return _0x548176(new _0x46373c(_0x407bdc[_0x2b37b1(0x26c)]));else _0x5713d3[_0x2b37b1(0x248)](_0x5d365d[_0x2b37b1(0x2dc)](PORT_NUMBER,0x1),function(){const _0x3f5823=_0x2b37b1;_0x277e0b[_0x3f5823(0x248)](_0x5d365d['Rewff'](PORT_NUMBER,0x2),function(){const _0x35d665=_0x3f5823,_0x31273c={'uvpsL':function(_0x4d3393,_0x5acd1b){return _0x4d3393(_0x5acd1b);}};if(_0x35d665(0x330)!==_0x407bdc[_0x35d665(0x19e)])return _0x31273c['uvpsL'](_0x27e108,new _0x262004('Invalid\x20username\x20or\x20password'));else _0x5dee32[_0x35d665(0x248)](_0x407bdc[_0x35d665(0x174)](PORT_NUMBER,0x3),function(){const _0x5d94d6=_0x35d665;_0x213825[_0x5d94d6(0x248)](PROXY_PORT_NUMBER,_0x276a99);});});});});}),afterEach(function(_0x43c1d8){const _0x49272a=_0x4e843;_0x4b54bf[_0x49272a(0x276)](function(){_0x5713d3['close'](function(){const _0x101920=_0x235c;_0x277e0b[_0x101920(0x276)](function(){const _0x4d6a28=_0x101920;_0x5dee32[_0x4d6a28(0x276)](function(){_0x213825['close'](_0x43c1d8);});});});});}),_0x135361[_0x4e843(0x12c)](it,'should\x20connect\x20to\x20unsecure\x20server',function(_0xdfcffb){const _0x4acbdc=_0x4e843,_0x2cdfc3={'NhrGB':function(_0x129532,_0xf2f7bd){return _0x129532(_0xf2f7bd);}};let _0x323831=new SMTPConnection({'port':_0x135361[_0x4acbdc(0x22f)](PORT_NUMBER,0x3),'ignoreTLS':!![],'logger':![]});_0x323831['connect'](function(){const _0x5a77e1=_0x4acbdc;_0x2cdfc3[_0x5a77e1(0x331)](expect,_0x323831[_0x5a77e1(0x2fa)])['to']['be']['false'],_0x323831[_0x5a77e1(0x276)]();}),_0x323831['on']('error',function(_0x11414e){const _0x4d6fca=_0x4acbdc;expect(_0x11414e)['to'][_0x4d6fca(0x145)]['exist'];}),_0x323831['on'](_0x4acbdc(0x23a),_0xdfcffb);}),it(_0x135361['Vqemq'],function(_0x50b8a8){const _0x107a6d=_0x4e843;let _0x24eadc=new SMTPConnection({'port':PORT_NUMBER,'logger':![]});_0x24eadc[_0x107a6d(0x1d2)](function(){const _0x19b603=_0x107a6d;_0x3ab689['OYrcB'](_0x19b603(0x258),'BawLh')?(_0x25c801(_0x27cc5c[_0x19b603(0x2fa)])['to']['be'][_0x19b603(0x12f)],_0x229de2[_0x19b603(0x276)]()):(expect(_0x24eadc[_0x19b603(0x2fa)])['to']['be']['true'],_0x24eadc[_0x19b603(0x276)]());}),_0x24eadc['on'](_0x107a6d(0x2e2),function(_0x206318){expect(_0x206318)['to']['not']['exist'];}),_0x24eadc['on']('end',_0x50b8a8);}),it(_0x135361['fomQp'],function(_0x1cf846){const _0x57ceed=_0x4e843;let _0x3317fc=new SMTPConnection({'port':PORT_NUMBER,'requireTLS':!![],'transactionLog':!![],'logger':![]});_0x3317fc[_0x57ceed(0x1d2)](function(){const _0x207d03=_0x57ceed;expect(_0x3317fc[_0x207d03(0x2fa)])['to']['be']['true'],_0x3317fc['close']();}),_0x3317fc['on']('error',function(_0x31b57f){const _0x40221e=_0x57ceed;_0x3ab689[_0x40221e(0x23d)](expect,_0x31b57f)['to']['not'][_0x40221e(0x2d0)];}),_0x3317fc['on'](_0x135361[_0x57ceed(0x19d)],_0x1cf846);}),_0x135361[_0x4e843(0x12c)](it,_0x135361[_0x4e843(0x2b3)],function(_0x55fe5c){const _0x5a1b0b=_0x4e843,_0x1f2a50={'TlruX':function(_0x414f95,_0xde6a7a){return _0x414f95(_0xde6a7a);}};let _0x2130c3=new SMTPConnection({'port':PORT_NUMBER+0x3,'logger':![],'requireTLS':!![],'opportunisticTLS':!![]});_0x2130c3[_0x5a1b0b(0x1d2)](function(){const _0x375b85=_0x5a1b0b;_0x3ab689[_0x375b85(0x13e)](expect,_0x2130c3[_0x375b85(0x2fa)])['to']['be'][_0x375b85(0x12f)],_0x2130c3['close']();}),_0x2130c3['on'](_0x5a1b0b(0x2e2),function(_0x42b280){const _0x4d00e9=_0x5a1b0b;_0x1f2a50[_0x4d00e9(0x341)](expect,_0x42b280)['to'][_0x4d00e9(0x145)]['exist'];}),_0x2130c3['on'](_0x135361[_0x5a1b0b(0x19d)],_0x55fe5c);}),_0x135361[_0x4e843(0x2db)](it,_0x4e843(0x2ed),function(_0x426bdc){const _0x2e83c7=_0x4e843,_0x57b291={'JoQoA':function(_0x3346a1,_0x161c99){return _0x3346a1(_0x161c99);}};let _0x3adaa0=new SMTPConnection({'port':_0x135361['AAzjR'](PORT_NUMBER,0x3),'requireTLS':!![],'logger':![]});_0x3adaa0[_0x2e83c7(0x1d2)](function(){const _0x57b1b6=_0x2e83c7;_0x57b291[_0x57b1b6(0x34b)](expect,![])['to']['be']['true'],_0x3adaa0[_0x57b1b6(0x276)]();}),_0x3adaa0['once']('error',function(_0x375728){const _0x42c52a=_0x2e83c7;_0x3ab689[_0x42c52a(0x1b2)](expect,_0x375728)['to'][_0x42c52a(0x2d0)];}),_0x3adaa0['on']('end',_0x426bdc);}),it(_0x135361[_0x4e843(0x2f9)],function(_0x14cae3){const _0xc48cf1=_0x4e843;let _0x81bb41=new SMTPConnection({'port':PORT_NUMBER,'logger':![]});_0x81bb41[_0xc48cf1(0x1d2)](function(){const _0x4fc0ab=_0xc48cf1,_0xcacefb={'RFXzk':function(_0x2df414,_0x4062d4){const _0x555dc1=_0x235c;return _0x3ab689[_0x555dc1(0x260)](_0x2df414,_0x4062d4);},'gkbUR':_0x3ab689[_0x4fc0ab(0x250)]};_0x3ab689[_0x4fc0ab(0x29e)](_0x3ab689[_0x4fc0ab(0x23b)],_0x3ab689[_0x4fc0ab(0x348)])?(_0x3ab689[_0x4fc0ab(0x13e)](expect,_0x81bb41[_0x4fc0ab(0x2fa)])['to']['be'][_0x4fc0ab(0x301)],_0x4b54bf['connections'][_0x4fc0ab(0x10f)](function(_0x55634d){const _0x3ab778=_0x4fc0ab;_0x55634d[_0x3ab778(0x276)]();})):(_0xcacefb[_0x4fc0ab(0x286)](_0x1bd46a,_0x2a73c0)['to'][_0x4fc0ab(0x145)]['exist'],_0xcacefb[_0x4fc0ab(0x286)](_0x4af403,_0x231f09)['to'][_0x4fc0ab(0x273)]['equal']({'accepted':[_0x4fc0ab(0x1cc)],'rejected':[],'envelopeTime':_0x1faa47[_0x4fc0ab(0x2c0)],'messageTime':_0x501509[_0x4fc0ab(0x196)],'messageSize':_0x309af2[_0x4fc0ab(0x2f3)],'response':_0xcacefb[_0x4fc0ab(0x22d)]}),_0x47dcd8());}),_0x81bb41['on'](_0x3ab689[_0xc48cf1(0x126)],function(_0x2c4b5f){const _0x4fbf73=_0xc48cf1;_0x3ab689[_0x4fbf73(0x313)](expect,_0x2c4b5f[_0x4fbf73(0x180)])['to'][_0x4fbf73(0x2e1)](_0x4fbf73(0x32e));}),_0x81bb41['on'](_0xc48cf1(0x23a),_0x14cae3);}),_0x135361[_0x4e843(0x12c)](it,_0x4e843(0x240),function(_0x8135dc){const _0x42dbd=_0x4e843,_0x5104d2={'ZxnGB':function(_0x477062,_0x4ce71e){const _0x140cfa=_0x235c;return _0x3ab689[_0x140cfa(0x26b)](_0x477062,_0x4ce71e);}};let _0xfceca7=new SMTPConnection({'port':_0x3ab689[_0x42dbd(0x269)](PORT_NUMBER,0x2),'secure':!![],'logger':![]});_0xfceca7['connect'](function(){const _0x519e8d=_0x42dbd;_0x5104d2[_0x519e8d(0x28f)](expect,_0xfceca7['secure'])['to']['be'][_0x519e8d(0x301)],_0xfceca7['close']();}),_0xfceca7['on'](_0x42dbd(0x2e2),function(_0x335811){const _0x54d70e=_0x42dbd;expect(_0x335811)['to'][_0x54d70e(0x145)]['exist'];}),_0xfceca7['on']('end',_0x8135dc);}),_0x135361[_0x4e843(0x114)](it,_0x4e843(0x34d),function(_0x5bc255){const _0x27da0f=_0x4e843;let _0x4eea47=new SMTPConnection({'port':PORT_NUMBER+0xa,'logger':![]});_0x4eea47[_0x27da0f(0x1d2)](function(){const _0xe98e59=_0x27da0f;expect(![])['to']['be'][_0xe98e59(0x301)],_0x4eea47['close']();}),_0x4eea47[_0x27da0f(0x280)](_0x3ab689[_0x27da0f(0x126)],function(_0x544df1){const _0xa0db6d=_0x27da0f,_0x4fe23a={'XNSjH':function(_0x540b21){return _0x3ab689['uYoAd'](_0x540b21);},'fNlLh':_0xa0db6d(0x297)};_0x3ab689[_0xa0db6d(0x29e)](_0x3ab689['olwvf'],_0x3ab689['xfPQU'])?expect(_0x544df1)['to'][_0xa0db6d(0x2d0)]:(_0x449ff5['on'](_0xa0db6d(0x23a),function(){const _0x157b41=_0xa0db6d,_0x14451b={'XhJpq':function(_0x63077b){const _0x169312=_0x235c;return _0x4fe23a[_0x169312(0x1c2)](_0x63077b);},'DoEaV':_0x4fe23a['fNlLh']};_0x555b95=new _0x1842a2({'port':_0x2e0bc3,'logger':![],'debug':![]}),_0xbdbc7c[_0x157b41(0x21e)][_0x157b41(0x165)]=!![],_0x1a574c['connect'](function(){const _0x17069c=_0x157b41;_0x5bd37c[_0x17069c(0x20b)]({'user':_0x17069c(0x297),'credentials':{'user':_0x14451b[_0x17069c(0x2dd)],'pass':'testpass'}},function(_0x161ecc){const _0x3d5c86=_0x17069c;_0x3f4991(_0x161ecc)['to'][_0x3d5c86(0x145)]['exist'],_0x3f288c['options'][_0x3d5c86(0x165)]=![],_0x14451b['XhJpq'](_0x421780);});});}),_0x56c7b7[_0xa0db6d(0x276)]());}),_0x4eea47['on'](_0x27da0f(0x23a),_0x5bc255);}),_0x135361[_0x4e843(0x12c)](it,'should\x20emit\x20error\x20for\x20too\x20large\x20port',function(_0x306bfb){const _0x5d0133=_0x4e843;let _0x27dd7d=new SMTPConnection({'port':0x3b9ac9ff,'logger':![]});_0x27dd7d[_0x5d0133(0x1d2)](function(){const _0x57ecdb=_0x5d0133;expect(![])['to']['be'][_0x57ecdb(0x301)],_0x27dd7d[_0x57ecdb(0x276)]();}),_0x27dd7d[_0x5d0133(0x280)](_0x5d0133(0x2e2),function(_0x3a722f){const _0x4d7da0=_0x5d0133;expect(_0x3a722f)['to'][_0x4d7da0(0x2d0)];}),_0x27dd7d['on'](_0x5d0133(0x23a),_0x306bfb);}),_0x135361[_0x4e843(0x114)](it,_0x135361['GhTPJ'],function(_0x790c0e){const _0xb6d2b9=_0x4e843;let _0x4a68e2=new SMTPConnection({'port':PORT_NUMBER,'socketTimeout':0x64,'logger':![]});_0x4a68e2[_0xb6d2b9(0x1d2)](function(){}),_0x4a68e2[_0xb6d2b9(0x280)](_0x135361[_0xb6d2b9(0x14d)],function(_0x46e507){const _0x28b444=_0xb6d2b9;expect(_0x46e507)['to'][_0x28b444(0x2d0)],expect(_0x46e507[_0x28b444(0x32c)])['to']['equal'](_0x3ab689[_0x28b444(0x124)]);}),_0x4a68e2['on'](_0x135361[_0xb6d2b9(0x19d)],_0x790c0e);}),_0x135361[_0x4e843(0x12c)](it,_0x135361[_0x4e843(0x22c)],function(_0x4ed908){const _0x3bae74=_0x4e843,_0x2e3f7e={'ReFWI':_0x135361[_0x3bae74(0x224)],'wPhej':function(_0xf24544,_0x5ff542){const _0x258828=_0x3bae74;return _0x135361[_0x258828(0x29a)](_0xf24544,_0x5ff542);},'ObGis':_0x3bae74(0x26d),'WDHSF':_0x135361[_0x3bae74(0x14d)],'dHQvR':_0x3bae74(0x23a)};if(_0x135361[_0x3bae74(0x2d7)]!==_0x135361[_0x3bae74(0x2d7)])_0x9ca97b(_0x2e3f7e[_0x3bae74(0x1eb)],function(){const _0x22e16b=_0x3bae74;let _0x22826a=new _0x681e70();_0x376e59(_0x22826a[_0x22e16b(0x105)])['to'][_0x22e16b(0x2e1)](_0x588250['version']);});else{let _0x13c231=function(_0x4906e1){const _0x1210d6=_0x3bae74,_0x1f8f88={'HweoI':function(_0xf364aa,_0x295799){const _0x364e75=_0x235c;return _0x2e3f7e[_0x364e75(0x18f)](_0xf364aa,_0x295799);},'SHfaA':_0x1210d6(0x20a),'DUHuT':_0x2e3f7e[_0x1210d6(0x186)]};let _0x13f3a4=new SMTPConnection({'logger':![],'port':PORT_NUMBER,'connection':_0x4906e1});_0x13f3a4[_0x1210d6(0x1d2)](function(){const _0x296982=_0x1210d6,_0x379fbb={'CBPsF':function(_0x258510,_0x265ec5){const _0x4c9910=_0x235c;return _0x1f8f88[_0x4c9910(0x168)](_0x258510,_0x265ec5);},'pXdBv':_0x1f8f88[_0x296982(0x233)],'cHdAr':_0x1f8f88['DUHuT']};expect(_0x13f3a4[_0x296982(0x2fa)])['to']['be'][_0x296982(0x301)],_0x13f3a4[_0x296982(0x20b)]({'user':_0x296982(0x297),'credentials':{'user':_0x296982(0x297),'pass':'testpass'}},function(_0x58045c){const _0x41e65a=_0x296982;_0x379fbb['pXdBv']!==_0x379fbb[_0x41e65a(0x289)]?(expect(_0x58045c)['to'][_0x41e65a(0x145)][_0x41e65a(0x2d0)],expect(_0x13f3a4['authenticated'])['to']['be'][_0x41e65a(0x301)],_0x13f3a4['close']()):_0x48c4be[_0x41e65a(0x248)](_0x379fbb[_0x41e65a(0x2d2)](_0x4da743,0x1),function(){const _0x219e50={'Mcvsb':function(_0xa8e1e9,_0x1e14d7){return _0xa8e1e9+_0x1e14d7;}};_0x33a551['listen'](_0x2bfe7e+0x2,function(){const _0x4db5a4=_0x235c;_0x252ce6[_0x4db5a4(0x248)](_0x219e50['Mcvsb'](_0x3e9229,0x3),function(){const _0x179090=_0x4db5a4;_0x4f0f7d[_0x179090(0x248)](_0x32910f,_0x2ee469);});});});});}),_0x13f3a4['on'](_0x2e3f7e[_0x1210d6(0x2cf)],function(_0x34aa9f){const _0x3a5acd=_0x1210d6;expect(_0x34aa9f)['to'][_0x3a5acd(0x145)][_0x3a5acd(0x2d0)];}),_0x13f3a4['on'](_0x2e3f7e[_0x1210d6(0x23c)],_0x4ed908);};proxyConnect(PROXY_PORT_NUMBER,'127.0.0.1',PORT_NUMBER,_0x3bae74(0x1f5),function(_0x22ca50,_0x36631e){const _0x33f64d=_0x3bae74;_0x3ab689[_0x33f64d(0x22b)](_0x3ab689[_0x33f64d(0x29f)],_0x3ab689['VGHYV'])?(expect(_0x22ca50)['to'][_0x33f64d(0x145)]['exist'],_0x13c231(_0x36631e)):_0xbe852['push'](_0x5712fa);});}}),_0x135361[_0x4e843(0x114)](it,_0x4e843(0x217),function(_0x12c756){const _0x5afc31=_0x4e843,_0x15ea8d={'gzVTk':function(_0x182b92,_0x823d61){return _0x182b92(_0x823d61);},'khXEZ':function(_0x2612ef,_0x2e364a){return _0x2612ef(_0x2e364a);}};let _0x46dfe0=function(_0x38cf08){const _0x3dd3a0=_0x235c,_0x5b5119={'uIlsg':'testpass'};let _0x466049=new SMTPConnection({'logger':![],'port':_0x3ab689[_0x3dd3a0(0x2a2)](PORT_NUMBER,0x2),'secure':!![],'connection':_0x38cf08});_0x466049[_0x3dd3a0(0x1d2)](function(){const _0x19c2e9=_0x3dd3a0,_0x5994d1={'UTkEM':function(_0x3b2cbb,_0x121bea){return _0x3b2cbb(_0x121bea);}};expect(_0x466049[_0x19c2e9(0x2fa)])['to']['be'][_0x19c2e9(0x301)],_0x466049[_0x19c2e9(0x20b)]({'user':_0x19c2e9(0x297),'credentials':{'user':_0x19c2e9(0x297),'pass':_0x5b5119['uIlsg']}},function(_0x272bfc){const _0xcadf30=_0x19c2e9;_0x5994d1['UTkEM'](expect,_0x272bfc)['to'][_0xcadf30(0x145)][_0xcadf30(0x2d0)],_0x5994d1[_0xcadf30(0x1f8)](expect,_0x466049[_0xcadf30(0x30f)])['to']['be'][_0xcadf30(0x301)],_0x466049[_0xcadf30(0x276)]();});}),_0x466049['on'](_0x3dd3a0(0x2e2),function(_0x27ed18){const _0x185091=_0x3dd3a0;expect(_0x27ed18)['to'][_0x185091(0x145)]['exist'];}),_0x466049['on'](_0x3dd3a0(0x23a),_0x12c756);};_0x135361[_0x5afc31(0x347)](proxyConnect,PROXY_PORT_NUMBER,_0x5afc31(0x1f5),PORT_NUMBER+0x2,_0x135361[_0x5afc31(0x2ee)],function(_0x3cfd36,_0x5d6176){const _0x386625=_0x5afc31;_0x15ea8d[_0x386625(0x1be)](expect,_0x3cfd36)['to'][_0x386625(0x145)]['exist'],_0x15ea8d[_0x386625(0x148)](_0x46dfe0,_0x5d6176);});}),it(_0x4e843(0x254),function(_0x2cc4dc){const _0x52b11c=_0x4e843;let _0x2b6256=new SMTPConnection({'port':_0x135361[_0x52b11c(0x2fe)](PORT_NUMBER,0x3),'ignoreTLS':!![],'logger':![]});_0x2b6256['on'](_0x52b11c(0x2e2),function(_0x646a71){const _0x330ae3=_0x52b11c;expect(_0x646a71)['to'][_0x330ae3(0x145)][_0x330ae3(0x2d0)];}),_0x2b6256[_0x52b11c(0x1d2)](function(){const _0x41303a=_0x52b11c;_0x3ab689['fPShJ'](expect,_0x2b6256[_0x41303a(0x2fa)])['to']['be'][_0x41303a(0x12f)];let _0x5e8532=[],_0x5dc123=__dirname+_0x3ab689['udLZr'],_0x1ab120=fs[_0x41303a(0x19b)](_0x5dc123,'utf-8');_0x4b54bf['on'](_0x3ab689['sRmWK'],function(_0x8e0d8,_0x538063){const _0x3df64a=_0x41303a;_0x5e8532[_0x3df64a(0x31f)](_0x538063);}),_0x4b54bf[_0x41303a(0x151)](_0x3ab689[_0x41303a(0x202)]),_0x4b54bf['on'](_0x41303a(0x27e),function(_0x572045,_0x2876f0){const _0x3c326d=_0x41303a;let _0x7ddd19=Buffer[_0x3c326d(0x1ef)](_0x5e8532);expect(_0x7ddd19[_0x3c326d(0x1a3)]())['to']['equal'](_0x1ab120[_0x3c326d(0x1a3)]()['trim']()['replace'](/\n/g,'\x0d\x0a')),_0x2876f0(null,_0x3c326d(0x30b));}),_0x2b6256[_0x41303a(0x2ce)]({'from':_0x3ab689['csdmv'],'to':_0x41303a(0x28e)},fs[_0x41303a(0x321)](_0x5dc123),function(_0x29029b){const _0x581a07=_0x41303a;expect(_0x29029b)['to'][_0x581a07(0x145)][_0x581a07(0x2d0)],_0x2b6256[_0x581a07(0x276)]();});}),_0x2b6256['on']('end',_0x2cc4dc);});}),describe(_0x135361['UkXGh'],function(){const _0x2a2d05=_0x273247,_0x51ed13={'MMJqG':function(_0x15927e){return _0x15927e();},'jSOXJ':_0x135361[_0x2a2d05(0x279)],'Eukwy':function(_0x4f7cc2,_0x5b9e5e){return _0x4f7cc2<_0x5b9e5e;},'LrGNN':_0x2a2d05(0x23a),'wOcVz':function(_0x34040b,_0x1af38c){const _0x4fed45=_0x2a2d05;return _0x135361[_0x4fed45(0x110)](_0x34040b,_0x1af38c);},'SSYLH':_0x135361['ZMFrG'],'KGmAe':function(_0x83b931,_0x183d76){const _0x4e4c7b=_0x2a2d05;return _0x135361[_0x4e4c7b(0x147)](_0x83b931,_0x183d76);},'oWFmq':_0x2a2d05(0x2df),'aoOAc':function(_0x46f758,_0x244086){return _0x46f758(_0x244086);},'AKPfk':_0x2a2d05(0x236),'qUAve':function(_0x1dbe41,_0x34c287,_0x3c74fe){return _0x1dbe41(_0x34c287,_0x3c74fe);},'BpUzZ':_0x2a2d05(0x220),'wFsmj':_0x2a2d05(0x18c),'DmTvl':_0x135361[_0x2a2d05(0x20e)],'hDOSe':function(_0x396abf,_0x44357b){return _0x396abf>_0x44357b;},'iOeCm':function(_0x3d2ee,_0x3cf688){const _0x3aaa2a=_0x2a2d05;return _0x135361[_0x3aaa2a(0x194)](_0x3d2ee,_0x3cf688);},'zOeAM':function(_0x58a6b0,_0x2e6501){const _0x1ab4e3=_0x2a2d05;return _0x135361[_0x1ab4e3(0x214)](_0x58a6b0,_0x2e6501);},'ZmSQh':function(_0x110e4e,_0x2dc629){return _0x110e4e!==_0x2dc629;},'HDAKC':_0x135361[_0x2a2d05(0x241)],'DWPrK':function(_0x3373e5){return _0x3373e5();},'qayvb':_0x2a2d05(0x261),'MjxTl':_0x135361[_0x2a2d05(0x193)],'Xpfav':_0x135361['VecYr'],'IeCEt':function(_0x5dd749,_0x10f542){return _0x5dd749(_0x10f542);},'bBrxQ':function(_0x5a3b88,_0xd4907a){return _0x5a3b88(_0xd4907a);},'IjYgO':'250\x20OK:\x20message\x20queued','CmFzU':'test1@valid.recipient','xRNUX':'pillI','YFkZZ':function(_0x5aea14,_0x313bc5){return _0x5aea14(_0x313bc5);},'WESPa':_0x2a2d05(0x173),'uTHUu':_0x2a2d05(0x20c),'BPgAa':_0x2a2d05(0x21b),'LDwDd':function(_0x15b555,_0x101140){return _0x15b555===_0x101140;},'MjIZF':function(_0x1cfefa,_0x3f732c,_0x57ba18){return _0x135361['psVpB'](_0x1cfefa,_0x3f732c,_0x57ba18);},'gwCzZ':'hKpPZ','tIYDW':function(_0x5d9d2c,_0x445e02){const _0x42a80f=_0x2a2d05;return _0x135361[_0x42a80f(0x24e)](_0x5d9d2c,_0x445e02);},'hEzum':_0x135361[_0x2a2d05(0x1e7)],'QnegZ':function(_0x255b0c,_0xf6020a,_0x1c4790){return _0x255b0c(_0xf6020a,_0x1c4790);},'qIHqz':function(_0xaedaee,_0x15de0d){return _0xaedaee(_0x15de0d);},'QlnVL':_0x135361[_0x2a2d05(0x2a4)],'ivFov':function(_0x116362,_0x4078dd){return _0x116362(_0x4078dd);},'QsnsK':_0x2a2d05(0x160),'FAMPw':function(_0x38f8bf,_0x5cda55){const _0x8237ae=_0x2a2d05;return _0x135361[_0x8237ae(0x1d9)](_0x38f8bf,_0x5cda55);},'CbTAB':_0x135361[_0x2a2d05(0x1fa)],'MEeme':_0x2a2d05(0x28e),'wRhuO':'test2@invalid.recipient','oZNqA':_0x135361[_0x2a2d05(0x1bd)],'EPztO':_0x2a2d05(0x1cc),'JTGuU':function(_0x48b381,_0x35d59b){return _0x135361['Zayta'](_0x48b381,_0x35d59b);},'blyEC':_0x135361[_0x2a2d05(0x1a2)],'MNafD':_0x2a2d05(0x1d0),'NXPQJ':'õõõõ','mScDW':function(_0x10dec5,_0x4cfda1){return _0x10dec5+_0x4cfda1;},'efpPs':_0x135361['ZNQos'],'Vmsdt':function(_0xb0a627,_0x56db4f){return _0x135361['rsJIN'](_0xb0a627,_0x56db4f);},'zbyBK':function(_0x488452){const _0x2fdc3d=_0x2a2d05;return _0x135361[_0x2fdc3d(0x26f)](_0x488452);},'PPApC':_0x135361[_0x2a2d05(0x179)],'vckAM':_0x135361[_0x2a2d05(0x1d1)],'juCcz':_0x135361[_0x2a2d05(0x25f)],'SESwR':_0x135361[_0x2a2d05(0x121)],'Uzsbv':_0x2a2d05(0x1bb),'uLYKS':function(_0xa593e4){return _0xa593e4();},'SBspA':function(_0x201971){return _0x201971();},'lsHIP':_0x135361[_0x2a2d05(0x1fd)],'mtGYo':_0x2a2d05(0x10e),'RZqXM':function(_0x3ff73f,_0x22e2c1){const _0x4a426a=_0x2a2d05;return _0x135361[_0x4a426a(0x1cb)](_0x3ff73f,_0x22e2c1);},'RRkag':_0x2a2d05(0x18e),'hAHEv':function(_0x223c8e,_0x48ecce,_0x501983){const _0x4bbb49=_0x2a2d05;return _0x135361[_0x4bbb49(0x114)](_0x223c8e,_0x48ecce,_0x501983);},'XUooR':_0x135361[_0x2a2d05(0x1c3)],'KmyFB':function(_0xba08fd,_0x3c6e83,_0x1b10eb){const _0x51051c=_0x2a2d05;return _0x135361[_0x51051c(0x1b4)](_0xba08fd,_0x3c6e83,_0x1b10eb);},'TpuYq':_0x135361[_0x2a2d05(0x2ae)],'jmeVS':_0x2a2d05(0x2a8),'uPZuo':function(_0x2f81cb,_0x4c3e3d,_0x176f5d){return _0x2f81cb(_0x4c3e3d,_0x176f5d);},'tuLQk':function(_0x30f8dc,_0x565136,_0x584536){const _0x11e76c=_0x2a2d05;return _0x135361[_0x11e76c(0x28b)](_0x30f8dc,_0x565136,_0x584536);},'ybxpt':_0x2a2d05(0x1bc),'AIrzx':_0x2a2d05(0x310),'VqyVw':'should\x20send\x20message\x20string'};if(_0x135361[_0x2a2d05(0x147)](_0x135361[_0x2a2d05(0x259)],_0x135361[_0x2a2d05(0x259)])){this[_0x2a2d05(0x28c)](0xa*0x3e8);let _0x7136be,_0x3652ec,_0x1168e5,_0x514ed2,_0xe495a6=_0x135361[_0x2a2d05(0x2e8)];beforeEach(function(_0x2c720d){const _0x798eeb=_0x2a2d05,_0x2055ab={'NlNXP':function(_0x2e62be,_0x36ebad){return _0x135361['zEOqw'](_0x2e62be,_0x36ebad);},'LHWfX':function(_0x2bba32){return _0x2bba32();},'VjIRp':function(_0x492787,_0xf1084c){const _0x405f8f=_0x235c;return _0x135361[_0x405f8f(0x31a)](_0x492787,_0xf1084c);},'JFfGA':function(_0x568732,_0x1d2761){const _0x5c2540=_0x235c;return _0x135361[_0x5c2540(0x325)](_0x568732,_0x1d2761);},'LbfMD':function(_0xe387c9,_0x2f0048,_0x1b3f8d){return _0xe387c9(_0x2f0048,_0x1b3f8d);},'LQwNt':_0x798eeb(0x20c),'JLmuT':_0x798eeb(0x267),'kFAHQ':_0x798eeb(0x223),'AZsRV':_0x798eeb(0x28e),'ZXPYz':function(_0x535f22,_0x5f2d79){const _0x2d51d3=_0x798eeb;return _0x135361[_0x2d51d3(0x1a0)](_0x535f22,_0x5f2d79);},'PagrB':_0x135361[_0x798eeb(0x231)]};_0x7136be=new SMTPServer({'authMethods':[_0x135361[_0x798eeb(0x32a)],_0x798eeb(0x2bd)],'disabledCommands':[_0x798eeb(0x34c)],'size':0x64*0x400,'onData':function(_0x492026,_0x5938d6,_0x523c8b){const _0xcce237=_0x798eeb,_0x265a22={'MQCVR':function(_0xb01119){const _0x4a861a=_0x235c;return _0x51ed13[_0x4a861a(0x135)](_0xb01119);},'HTQTh':function(_0x456837,_0x4ff19c){return _0x456837!==_0x4ff19c;},'HMoCJ':_0x51ed13[_0xcce237(0x2ec)],'WEDli':function(_0x8709eb,_0x350247){const _0x1aa2bb=_0xcce237;return _0x51ed13[_0x1aa2bb(0x2c2)](_0x8709eb,_0x350247);},'KJBbB':function(_0xb1bfb3,_0x183376){return _0xb1bfb3>=_0x183376;},'IzqVd':function(_0x40ad7b,_0x1cee84,_0x262ca2){return _0x40ad7b(_0x1cee84,_0x262ca2);}};let _0x1b8b69=![];_0x492026['on'](_0xcce237(0x235),function(_0x2d1b54){const _0x11acc1=_0xcce237,_0x3b2deb={'WGuyn':function(_0x400e53){const _0x1481ad=_0x235c;return _0x265a22[_0x1481ad(0x146)](_0x400e53);}};if(_0x1b8b69||_0x5938d6[_0x11acc1(0x14c)]){if(_0x265a22[_0x11acc1(0x234)](_0x265a22[_0x11acc1(0x16b)],_0x11acc1(0x120)))_0xcde230(_0x40b9e9)['to']['exist'],_0x491ea3(_0x23eab6['authenticated'])['to']['be'][_0x11acc1(0x12f)],_0x56d693[_0x11acc1(0x222)][_0x11acc1(0x116)](),_0x3b2deb['WGuyn'](_0x1ad570);else return;}for(let _0x71d1a7=0x0,_0x34e4c6=_0x2d1b54[_0x11acc1(0x311)];_0x265a22['WEDli'](_0x71d1a7,_0x34e4c6);_0x71d1a7++){_0x265a22[_0x11acc1(0x2b7)](_0x2d1b54[_0x71d1a7],0x80)&&(_0x1b8b69=new Error(_0x11acc1(0x1a1)));}}),_0x492026['on'](_0x51ed13[_0xcce237(0x25a)],function(){_0x265a22['IzqVd'](_0x523c8b,_0x1b8b69,![]);});},'onAuth':function(_0xc78f55,_0x253a4f,_0x5ed86c){const _0x1cc049=_0x798eeb;if(_0x51ed13[_0x1cc049(0x14a)](_0xc78f55[_0x1cc049(0x144)],_0x51ed13[_0x1cc049(0x17a)])){if(_0xc78f55[_0x1cc049(0x18a)]!==_0x1cc049(0x297)||_0x51ed13[_0x1cc049(0x14a)](_0xc78f55[_0x1cc049(0x304)],_0x1cc049(0x33a))){if(_0x51ed13['KGmAe'](_0x51ed13[_0x1cc049(0x1a4)],'RJqZD')){const _0x3f7ee9=_0x1cc049(0x13d)[_0x1cc049(0x2c4)]('|');let _0x4a2868=0x0;while(!![]){switch(_0x3f7ee9[_0x4a2868++]){case'0':_0x4ea7d3(_0x3a1514['code'])['to'][_0x1cc049(0x2e1)](_0x1cc049(0x271));continue;case'1':_0xd2b9bd(_0x33cdcf)['to'][_0x1cc049(0x2d0)];continue;case'2':_0x2edcee(_0x24e3e9[_0x1cc049(0x30f)])['to']['be'][_0x1cc049(0x12f)];continue;case'3':_0x2055ab[_0x1cc049(0x265)](_0x2263f3,_0x2ce397['message'])['to'][_0x1cc049(0x188)](/^Missing credentials/);continue;case'4':_0x2055ab[_0x1cc049(0x118)](_0x39940e);continue;case'5':_0x2055ab['VjIRp'](_0x32789e,_0x100729[_0x1cc049(0x187)])['to']['be']['undefined'];continue;}break;}}else return _0x51ed13[_0x1cc049(0x2d3)](_0x5ed86c,new Error(_0x51ed13[_0x1cc049(0x343)]));}}else{if(_0x51ed13['wOcVz'](_0xc78f55[_0x1cc049(0x18a)],_0x1cc049(0x297))||_0x51ed13[_0x1cc049(0x14a)](_0xc78f55[_0x1cc049(0x20f)],_0xe495a6))return _0x51ed13[_0x1cc049(0x31c)](_0x5ed86c,null,{'data':{'status':_0x51ed13[_0x1cc049(0x32b)],'schemes':_0x51ed13[_0x1cc049(0x10c)],'scope':_0x51ed13[_0x1cc049(0x2cd)]}});}_0x51ed13[_0x1cc049(0x31c)](_0x5ed86c,null,{'user':0x7b});},'onMailFrom':function(_0x3548d6,_0x35886f,_0x420615){const _0x4d292a=_0x798eeb,_0x5ebd65={'yZsds':function(_0x16cee8,_0x4f2753){return _0x51ed13['aoOAc'](_0x16cee8,_0x4f2753);},'WEYzq':_0x4d292a(0x1bf),'qTxCM':_0x4d292a(0x235),'uxyLY':'dataReady','meUMy':_0x4d292a(0x28e)};if(_0x3548d6[_0x4d292a(0x162)]&&_0x51ed13[_0x4d292a(0x1b6)](parseInt(_0x3548d6[_0x4d292a(0x162)][_0x4d292a(0x337)],0xa),_0x51ed13[_0x4d292a(0x2ea)](0x32,0x400)))return _0x420615(new Error(_0x51ed13[_0x4d292a(0x200)]('452\x20Insufficient\x20channel\x20storage:\x20',_0x3548d6[_0x4d292a(0x1f1)])));if(!/@valid.sender/[_0x4d292a(0x1ab)](_0x3548d6[_0x4d292a(0x1f1)]))return _0x420615(new Error(_0x4d292a(0x20c)));_0x3548d6['args']['SMTPUTF8']&&(_0x35886f[_0x4d292a(0x23f)]=!![]);_0x3548d6[_0x4d292a(0x162)]['BODY']===_0x4d292a(0x1e4)&&(_0x35886f[_0x4d292a(0x14c)]=!![]);if(/[\x80-\uFFFF]/[_0x4d292a(0x1ab)](_0x3548d6[_0x4d292a(0x1f1)])&&!_0x35886f[_0x4d292a(0x23f)]){if(_0x51ed13[_0x4d292a(0x1fb)](_0x4d292a(0x185),_0x4d292a(0x185))){const _0x17b424={'kYyTY':function(_0x564838,_0x4715c4){const _0x490c29=_0x4d292a;return _0x5ebd65[_0x490c29(0x1dc)](_0x564838,_0x4715c4);},'xdQXQ':function(_0x2c4881,_0x21e414,_0x2b52b7){return _0x2c4881(_0x21e414,_0x2b52b7);},'NRxnP':_0x4d292a(0x30b)};_0x5ebd65[_0x4d292a(0x1dc)](_0x1e16fe,_0xcd895e[_0x4d292a(0x2fa)])['to']['be'][_0x4d292a(0x12f)];let _0x44b421=[],_0x35f85f=_0x47e22a+_0x5ebd65['WEYzq'],_0x16bb96=_0x28e064[_0x4d292a(0x19b)](_0x35f85f,'utf-8');_0x588b4b['on'](_0x5ebd65[_0x4d292a(0x17c)],function(_0x3aab66,_0x42f6b1){const _0x4cdd4a=_0x4d292a;_0x44b421[_0x4cdd4a(0x31f)](_0x42f6b1);}),_0x2bcf73['removeAllListeners'](_0x5ebd65['uxyLY']),_0x12bb35['on'](_0x4d292a(0x27e),function(_0xc32aae,_0x4618e7){const _0x4e6962=_0x4d292a;let _0x2fb106=_0xf4423e[_0x4e6962(0x1ef)](_0x44b421);_0x17b424[_0x4e6962(0x2ff)](_0x223fe4,_0x2fb106[_0x4e6962(0x1a3)]())['to'][_0x4e6962(0x2e1)](_0x16bb96[_0x4e6962(0x1a3)]()[_0x4e6962(0x227)]()[_0x4e6962(0x212)](/\n/g,'\x0d\x0a')),_0x17b424[_0x4e6962(0x1e5)](_0x4618e7,null,_0x17b424[_0x4e6962(0x263)]);}),_0xac406c['send']({'from':_0x4d292a(0x223),'to':_0x5ebd65[_0x4d292a(0x278)]},_0x16dd85[_0x4d292a(0x321)](_0x35f85f),function(_0x2efc09){const _0x8214d8=_0x4d292a;_0x23bdbf(_0x2efc09)['to']['not'][_0x8214d8(0x2d0)],_0x3df369[_0x8214d8(0x276)]();});}else return _0x420615(new Error(_0x51ed13[_0x4d292a(0x282)]));}return _0x51ed13[_0x4d292a(0x135)](_0x420615);},'onRcptTo':function(_0x169983,_0x3b3f21,_0x4ebe5f){const _0x2dc88b=_0x798eeb;if(!/@valid.recipient/[_0x2dc88b(0x1ab)](_0x169983[_0x2dc88b(0x1f1)]))return _0x2055ab[_0x2dc88b(0x11a)](_0x4ebe5f,new Error(_0x2dc88b(0x1f4)));if(/[\x80-\uFFFF]/['test'](_0x169983[_0x2dc88b(0x1f1)])&&!_0x3b3f21[_0x2dc88b(0x23f)])return _0x4ebe5f(new Error(_0x2dc88b(0x238)));return _0x4ebe5f();},'logger':![]}),_0x3652ec=new SMTPServer({'lmtp':!![],'disabledCommands':[_0x135361[_0x798eeb(0x167)],_0x798eeb(0x1f2)],'onData':function(_0x34b9e0,_0x4220d3,_0x1b1274){const _0x21982e=_0x798eeb,_0x5c3baf={'YCrkT':function(_0x114802,_0x3acc27,_0x35ace7){const _0x36a5e8=_0x235c;return _0x2055ab[_0x36a5e8(0x285)](_0x114802,_0x3acc27,_0x35ace7);},'IyLmF':function(_0x149ea1,_0x215aa0){return _0x149ea1!==_0x215aa0;},'kuCJe':function(_0x72570d,_0x3dddc6){return _0x72570d+_0x3dddc6;}};_0x34b9e0['on']('data',function(){}),_0x34b9e0['on'](_0x21982e(0x23a),function(){const _0x6725cc=_0x21982e,_0x341303={'EWRVx':function(_0x252206,_0x301161,_0x1344ab){const _0x1e7462=_0x235c;return _0x5c3baf[_0x1e7462(0x122)](_0x252206,_0x301161,_0x1344ab);},'QmZPs':function(_0x5dc59d,_0x59db8b){return _0x5c3baf['IyLmF'](_0x5dc59d,_0x59db8b);},'lDfCb':_0x6725cc(0x1d8),'kjlMP':'xoxUT','ikdOK':function(_0x5af687,_0x24eb54){return _0x5af687%_0x24eb54;},'cUuoG':function(_0x66b5b5,_0x2c6fdf){const _0x80a88b=_0x6725cc;return _0x5c3baf[_0x80a88b(0x211)](_0x66b5b5,_0x2c6fdf);},'iRaTY':function(_0xdca260,_0x493db8){return _0xdca260+_0x493db8;},'FivXk':'tVtwE','afWUc':function(_0x29a15a,_0x54aaaf){return _0x29a15a+_0x54aaaf;}};let _0x58ca59=_0x4220d3[_0x6725cc(0x1d4)][_0x6725cc(0x1b3)][_0x6725cc(0x26a)](function(_0x4960c7,_0x27b4fe){const _0x5c09ba=_0x6725cc,_0x43280a={'COSLH':function(_0x28ddb1,_0x5761dc){return _0x28ddb1(_0x5761dc);},'OTlDb':function(_0x325db7,_0x44a1c8,_0x215005){const _0x1b6db9=_0x235c;return _0x341303[_0x1b6db9(0x152)](_0x325db7,_0x44a1c8,_0x215005);}};if(_0x341303[_0x5c09ba(0x303)](_0x341303[_0x5c09ba(0x340)],_0x341303['kjlMP'])){if(_0x341303['ikdOK'](_0x27b4fe,0x2))return _0x341303[_0x5c09ba(0x2d6)](_0x341303[_0x5c09ba(0x25c)]('<',_0x4960c7[_0x5c09ba(0x1f1)]),_0x5c09ba(0x16f));else{if(_0x341303[_0x5c09ba(0x256)]!==_0x341303[_0x5c09ba(0x256)]){const _0x531e17={'MPpAD':function(_0x3c5c2a,_0x5259ec){const _0x5390eb=_0x5c09ba;return _0x43280a[_0x5390eb(0x176)](_0x3c5c2a,_0x5259ec);},'MRugm':function(_0x1b890b,_0x283de6){return _0x1b890b(_0x283de6);}};_0x5e5792=new _0x18bc65({'port':_0x2e488a,'logger':![],'debug':![],'customAuth':{'mytest':_0x3c91ab=>{const _0x2b0b76=_0x5c09ba;_0x3c91ab['sendCommand'](_0x2b0b76(0x319),(_0x187100,_0x31663b)=>{const _0x5eafff=_0x2b0b76,_0x3b999d={'USMJB':function(_0xdf36ad,_0x55e77d){const _0x26076e=_0x235c;return _0x531e17[_0x26076e(0x335)](_0xdf36ad,_0x55e77d);}};_0x27fb57(_0x187100)['to'][_0x5eafff(0x145)]['exist'],_0x531e17[_0x5eafff(0x23e)](_0x203570,_0x31663b[_0x5eafff(0x25b)])['to'][_0x5eafff(0x2e1)](0x1f4),_0x3c91ab['sendCommand']('HALLO2\x20HALLO',(_0x18b9e8,_0x455f5a)=>{const _0x62b63b=_0x5eafff;_0x3b999d['USMJB'](_0x1cfb11,_0x18b9e8)['to'][_0x62b63b(0x145)][_0x62b63b(0x2d0)],_0x56509c(_0x455f5a[_0x62b63b(0x25b)])['to']['equal'](0x1f4),_0x3c91ab[_0x62b63b(0x2de)]();});});}}}),_0x4e4d89[_0x5c09ba(0x1d2)](_0x4060e7);}else return new Error(_0x341303[_0x5c09ba(0x2d6)](_0x341303[_0x5c09ba(0x274)]('<',_0x4960c7[_0x5c09ba(0x1f1)]),_0x5c09ba(0x1ad)));}}else _0x43280a[_0x5c09ba(0x2f1)](_0x41d31c,_0x537722,![]);});_0x1b1274(null,_0x58ca59);});},'onMailFrom':function(_0x50c441,_0x56e217,_0x4afc01){const _0x3e7e06=_0x798eeb;if(!/@valid.sender/[_0x3e7e06(0x1ab)](_0x50c441[_0x3e7e06(0x1f1)]))return _0x4afc01(new Error(_0x2055ab[_0x3e7e06(0x2c9)]));return _0x4afc01();},'onRcptTo':function(_0x48bf59,_0x1c8a3a,_0x34462e){const _0xbb5a51=_0x798eeb;if(!/@valid.recipient/[_0xbb5a51(0x1ab)](_0x48bf59[_0xbb5a51(0x1f1)]))return _0x34462e(new Error(_0xbb5a51(0x1f4)));return _0x34462e();},'logger':![]}),_0x1168e5=new SMTPConnection({'port':PORT_NUMBER,'logger':![],'debug':![]}),_0x514ed2=new SMTPConnection({'port':LMTP_PORT_NUMBER,'lmtp':!![],'logger':![],'debug':![]}),_0x7136be[_0x798eeb(0x248)](PORT_NUMBER,function(){_0x3652ec['listen'](LMTP_PORT_NUMBER,function(){const _0x1e9b7d=_0x235c,_0x46ea64={'oNubS':function(_0x2d8c03,_0x2d7e1d){return _0x2d8c03(_0x2d7e1d);},'LkcMq':function(_0xa095c){return _0xa095c();},'QzSJK':_0x1e9b7d(0x30b),'cOPcx':_0x2055ab[_0x1e9b7d(0x1ac)],'uiIpt':_0x1e9b7d(0x27e),'hgQGY':_0x2055ab[_0x1e9b7d(0x108)],'eRYtV':_0x2055ab[_0x1e9b7d(0x219)]};if(_0x2055ab['ZXPYz'](_0x2055ab[_0x1e9b7d(0x251)],_0x1e9b7d(0x328)))_0x1168e5[_0x1e9b7d(0x1d2)](function(){const _0x486d0d=_0x1e9b7d;_0x514ed2[_0x486d0d(0x1d2)](_0x2c720d);});else{const _0x198138={'BWEIA':_0x46ea64['QzSJK']};let _0x24f696=[],_0x23c2ec=_0xed4d08['from'](new _0x52747d(0x400)['join'](_0x46ea64[_0x1e9b7d(0x2a1)]));_0x4659f4['on']('data',function(_0x425e34,_0x334d85){const _0x323e65=_0x1e9b7d;_0x24f696[_0x323e65(0x31f)](_0x334d85);}),_0x4279b8[_0x1e9b7d(0x151)](_0x46ea64['uiIpt']),_0x502b70['on'](_0x46ea64[_0x1e9b7d(0x284)],function(_0x23dce8,_0x44ed78){const _0x26ba38=_0x1e9b7d;let _0x568f76=_0x5155e3[_0x26ba38(0x1ef)](_0x24f696);_0x18efb2(_0x568f76['toString']())['to'][_0x26ba38(0x2e1)](_0x23c2ec['toString']()['trim']()[_0x26ba38(0x212)](/\n/g,'\x0d\x0a')),_0x44ed78(null,_0x198138[_0x26ba38(0x11f)]);}),_0x25c9b0['send']({'from':_0x46ea64[_0x1e9b7d(0x2c5)],'to':_0x46ea64['eRYtV']},_0x23c2ec,function(_0x46142d){const _0x5cc329=_0x1e9b7d;_0x46ea64['oNubS'](_0xb1758c,_0x46142d)['to'][_0x5cc329(0x145)][_0x5cc329(0x2d0)],_0x46ea64[_0x5cc329(0x142)](_0x5090f5);});}});});}),_0x135361[_0x2a2d05(0x136)](afterEach,function(_0x2bf2dc){const _0x3ba669=_0x2a2d05;_0x1168e5[_0x3ba669(0x276)](),_0x514ed2[_0x3ba669(0x276)](),_0x7136be[_0x3ba669(0x276)](function(){const _0x4fea15=_0x3ba669;_0x3652ec[_0x4fea15(0x276)](_0x2bf2dc);});}),it('should\x20login',function(_0x1005a7){const _0x3ae08a=_0x2a2d05;if(_0x51ed13['qayvb']===_0x3ae08a(0x261))expect(_0x1168e5['authenticated'])['to']['be'][_0x3ae08a(0x12f)],_0x1168e5[_0x3ae08a(0x20b)]({'user':_0x51ed13[_0x3ae08a(0x1f7)],'credentials':{'user':_0x3ae08a(0x297),'pass':_0x51ed13['Xpfav']}},function(_0x5cc1cb){const _0x4216bb=_0x3ae08a;expect(_0x5cc1cb)['to']['not'][_0x4216bb(0x2d0)],_0x51ed13[_0x4216bb(0x2d3)](expect,_0x1168e5['authenticated'])['to']['be'][_0x4216bb(0x301)],_0x51ed13[_0x4216bb(0x270)](_0x1005a7);});else return;}),_0x135361[_0x2a2d05(0x12c)](it,_0x135361[_0x2a2d05(0x323)],function(_0x346e13){const _0x20a9f3=_0x2a2d05,_0x1cf7c0={'oSXjy':function(_0x3c48f1,_0x3ac3e8){return _0x3c48f1(_0x3ac3e8);},'wDnuw':'EAUTH'};_0x135361[_0x20a9f3(0x1a0)](_0x135361['nMFhm'],_0x135361[_0x20a9f3(0x2f8)])?(_0x51ed13[_0x20a9f3(0x315)](_0x3d68de,_0x2fdbe3)['to'][_0x20a9f3(0x2d0)],_0x15f505()):(expect(_0x1168e5['authenticated'])['to']['be'][_0x20a9f3(0x12f)],_0x1168e5[_0x20a9f3(0x20b)]({'user':_0x20a9f3(0x297),'credentials':{'user':_0x135361[_0x20a9f3(0x193)],'pass':_0x20a9f3(0x308)}},function(_0x3a7d93){const _0xf9d165=_0x20a9f3,_0x2eda9a='3|4|1|0|2'[_0xf9d165(0x2c4)]('|');let _0x3b3db6=0x0;while(!![]){switch(_0x2eda9a[_0x3b3db6++]){case'0':expect(_0x3a7d93[_0xf9d165(0x175)])['to'][_0xf9d165(0x2e1)](0x217);continue;case'1':_0x1cf7c0['oSXjy'](expect,_0x3a7d93[_0xf9d165(0x32c)])['to'][_0xf9d165(0x2e1)](_0x1cf7c0[_0xf9d165(0x28a)]);continue;case'2':_0x346e13();continue;case'3':expect(_0x3a7d93)['to']['exist'];continue;case'4':_0x1cf7c0[_0xf9d165(0x198)](expect,_0x1168e5[_0xf9d165(0x30f)])['to']['be'][_0xf9d165(0x12f)];continue;}break;}}));}),_0x135361[_0x2a2d05(0x27d)](it,_0x2a2d05(0x2b6),function(_0x5b8d67){const _0x16dc1f=_0x2a2d05,_0x4e9a50={'gSBab':function(_0x27c9b9,_0x5b2c99){const _0x281b11=_0x235c;return _0x51ed13[_0x281b11(0x1b1)](_0x27c9b9,_0x5b2c99);},'MPuJj':_0x51ed13[_0x16dc1f(0x161)],'Nevmg':_0x51ed13[_0x16dc1f(0x26e)],'PfTdd':function(_0x22eb6a,_0x2c3019){return _0x22eb6a!==_0x2c3019;},'uGPyn':_0x51ed13['xRNUX'],'jkSVd':function(_0x531370,_0x42ee65){return _0x531370(_0x42ee65);},'Qbeoh':function(_0x87bd60,_0x1712eb){return _0x87bd60(_0x1712eb);},'mhMed':function(_0x41f12e){return _0x41f12e();}};_0x51ed13[_0x16dc1f(0x149)](expect,_0x1168e5[_0x16dc1f(0x30f)])['to']['be'][_0x16dc1f(0x12f)],_0x1168e5[_0x16dc1f(0x20b)]({'user':_0x51ed13[_0x16dc1f(0x1f7)]},function(_0x345687){const _0x12b5c7=_0x16dc1f,_0x4eaf43={'aUJPH':function(_0x169b0b,_0x25d40b){const _0x5d3e00=_0x235c;return _0x4e9a50[_0x5d3e00(0x2be)](_0x169b0b,_0x25d40b);},'CurxA':_0x4e9a50[_0x12b5c7(0x128)],'raeGJ':_0x12b5c7(0x223),'RXRwF':_0x4e9a50[_0x12b5c7(0x184)],'UKpxN':'test2@invalid.recipient','wOLZM':_0x12b5c7(0x130)};if(_0x4e9a50[_0x12b5c7(0x15d)](_0x4e9a50[_0x12b5c7(0x166)],_0x12b5c7(0x2bb)))_0x4e9a50[_0x12b5c7(0x2be)](expect,_0x345687)['to']['exist'],_0x4e9a50[_0x12b5c7(0x2be)](expect,_0x1168e5[_0x12b5c7(0x30f)])['to']['be'][_0x12b5c7(0x12f)],_0x4e9a50[_0x12b5c7(0x15e)](expect,_0x345687[_0x12b5c7(0x180)])['to'][_0x12b5c7(0x188)](/^Missing credentials/),_0x4e9a50[_0x12b5c7(0x221)](expect,_0x345687[_0x12b5c7(0x32c)])['to']['equal'](_0x12b5c7(0x271)),expect(_0x345687[_0x12b5c7(0x187)])['to']['be'][_0x12b5c7(0x2ac)],_0x4e9a50['mhMed'](_0x5b8d67);else{const _0x470810={'WVSVG':function(_0x46112b,_0x5455e9){return _0x46112b(_0x5455e9);},'itedc':function(_0x8379e5,_0x12f28e){return _0x4eaf43['aUJPH'](_0x8379e5,_0x12f28e);},'LJOoG':_0x12b5c7(0x1d6),'mTiQE':_0x4eaf43[_0x12b5c7(0x2d9)]};_0x2fb84a['send']({'from':_0x4eaf43['raeGJ'],'to':[_0x4eaf43[_0x12b5c7(0x283)],_0x4eaf43['UKpxN'],_0x4eaf43['wOLZM']]},_0x12b5c7(0x1ab),function(_0x28b9c6,_0x5b0efa){const _0x1d04bc=_0x12b5c7;_0x470810[_0x1d04bc(0x1dd)](_0x215f21,_0x28b9c6)['to']['not'][_0x1d04bc(0x2d0)],_0x470810[_0x1d04bc(0x29c)](_0x54a62f,_0x5b0efa)['to'][_0x1d04bc(0x273)][_0x1d04bc(0x2e1)]({'accepted':[_0x470810[_0x1d04bc(0x290)],_0x1d04bc(0x130)],'rejected':['test2@invalid.recipient'],'rejectedErrors':_0x5b0efa[_0x1d04bc(0x1c6)],'envelopeTime':_0x5b0efa[_0x1d04bc(0x2c0)],'messageTime':_0x5b0efa[_0x1d04bc(0x196)],'messageSize':_0x5b0efa[_0x1d04bc(0x2f3)],'response':_0x470810[_0x1d04bc(0x2d8)]}),_0x470810[_0x1d04bc(0x1dd)](_0x14d92d,_0x5b0efa['rejectedErrors'][_0x1d04bc(0x311)])['to']['equal'](0x1),_0x531747();});}});}),_0x135361[_0x2a2d05(0x12c)](it,_0x2a2d05(0x203),function(_0x3dfe64){const _0x2d1e05=_0x2a2d05,_0x4d1291={'rpZeB':function(_0x5434ed,_0x373313){return _0x5434ed(_0x373313);},'apEki':function(_0x50c887){return _0x50c887();}};_0x51ed13[_0x2d1e05(0x315)](expect,_0x1168e5[_0x2d1e05(0x30f)])['to']['be'][_0x2d1e05(0x12f)],_0x1168e5[_0x2d1e05(0x20b)]({'user':_0x51ed13[_0x2d1e05(0x1f7)],'credentials':{'user':_0x51ed13[_0x2d1e05(0x1f7)]}},function(_0x49cc48){const _0x4c304a=_0x2d1e05;_0x4d1291['rpZeB'](expect,_0x49cc48)['to'][_0x4c304a(0x2d0)],expect(_0x1168e5[_0x4c304a(0x30f)])['to']['be'][_0x4c304a(0x12f)],expect(_0x49cc48[_0x4c304a(0x180)])['to'][_0x4c304a(0x188)](/^Missing credentials/),expect(_0x49cc48[_0x4c304a(0x32c)])['to'][_0x4c304a(0x2e1)](_0x4c304a(0x271)),_0x4d1291['rpZeB'](expect,_0x49cc48[_0x4c304a(0x187)])['to']['be'][_0x4c304a(0x2ac)],_0x4d1291[_0x4c304a(0x324)](_0x3dfe64);});}),describe(_0x135361[_0x2a2d05(0x141)],function(){const _0x724ad1=_0x2a2d05,_0x2be0bc={'XMebp':function(_0x9cf422,_0x2ee3ef){return _0x9cf422(_0x2ee3ef);},'HgFwm':_0x724ad1(0x297),'pciWW':function(_0x4e526a){return _0x4e526a();},'QLWTE':function(_0x46e88e,_0x533668){const _0x2100f8=_0x724ad1;return _0x135361[_0x2100f8(0x2f6)](_0x46e88e,_0x533668);},'JXzDd':function(_0x2e5aab,_0x1bc941){return _0x2e5aab(_0x1bc941);},'LTyko':_0x135361[_0x724ad1(0x339)],'yiOVY':function(_0x2a5357,_0x288129){return _0x2a5357(_0x288129);},'UVgiu':_0x135361[_0x724ad1(0x14b)],'qiZZV':_0x724ad1(0x2e4),'IWcyB':function(_0x3958f3,_0x3fffdf){const _0x418b2d=_0x724ad1;return _0x135361[_0x418b2d(0x29a)](_0x3958f3,_0x3fffdf);},'nRaNW':_0x135361[_0x724ad1(0x1af)],'qRDAJ':_0x724ad1(0x222),'NzoFa':_0x135361[_0x724ad1(0x206)]};if(_0x135361[_0x724ad1(0x27c)]!=='cUDFS'){this[_0x724ad1(0x28c)](0xa*0x3e8);let _0x4cd3c3;beforeEach(function(_0x3f5b15){const _0x3d43a7=_0x724ad1;_0x4cd3c3=_0x2be0bc['XMebp'](xoauth2Server,{'port':XOAUTH_PORT,'onUpdate':function(_0x5ec7bc,_0x60ba55){_0xe495a6=_0x60ba55;}[_0x3d43a7(0x242)](this)}),_0x4cd3c3[_0x3d43a7(0x237)](_0x2be0bc[_0x3d43a7(0x1e2)],'refresh-token'),_0x4cd3c3[_0x3d43a7(0x20d)](_0x3f5b15);}),_0x135361[_0x724ad1(0x127)](afterEach,function(_0x20a8e2){_0x4cd3c3['stop'](_0x20a8e2);}),it(_0x135361['HZAEy'],function(_0x5c9497){const _0x42dd3d=_0x724ad1;_0x2be0bc['QLWTE'](_0x42dd3d(0x32f),_0x42dd3d(0x119))?(_0x2be0bc['XMebp'](expect,_0x1168e5['authenticated'])['to']['be']['false'],_0x1168e5[_0x42dd3d(0x20b)]({'type':_0x42dd3d(0x173),'user':_0x42dd3d(0x297),'oauth2':new XOAuth2({'user':_0x2be0bc[_0x42dd3d(0x1e2)],'accessToken':_0xe495a6})},function(_0x1707dd){const _0x16011f=_0x42dd3d;expect(_0x1707dd)['to'][_0x16011f(0x145)]['exist'],_0x2be0bc[_0x16011f(0x16c)](expect,_0x1168e5[_0x16011f(0x30f)])['to']['be'][_0x16011f(0x301)],_0x2be0bc[_0x16011f(0x1f9)](_0x5c9497);})):_0x25767d['listen'](_0xd10329+0x3,function(){_0x234b22['listen'](_0x4ca8ac,_0x5a6551);});}),_0x135361[_0x724ad1(0x245)](it,_0x135361[_0x724ad1(0x2a7)],function(_0x4b7745){const _0x3893a7=_0x724ad1;_0x51ed13[_0x3893a7(0x149)](expect,_0x1168e5[_0x3893a7(0x30f)])['to']['be'][_0x3893a7(0x12f)],_0x1168e5['login']({'type':_0x51ed13['WESPa'],'user':_0x51ed13[_0x3893a7(0x1f7)],'oauth2':new XOAuth2({'user':_0x51ed13[_0x3893a7(0x1f7)],'accessToken':_0x3893a7(0x308)})},function(_0x7b70f){const _0x584f42=_0x3893a7;expect(_0x7b70f)['to']['exist'],_0x2be0bc[_0x584f42(0x317)](expect,_0x1168e5['authenticated'])['to']['be'][_0x584f42(0x12f)],_0x2be0bc[_0x584f42(0x317)](expect,_0x7b70f[_0x584f42(0x32c)])['to'][_0x584f42(0x2e1)]('EAUTH'),_0x2be0bc[_0x584f42(0x1f9)](_0x4b7745);});}),_0x135361[_0x724ad1(0x27d)](it,_0x135361['kadBl'],function(_0x12ee5a){const _0x3a7aba=_0x724ad1,_0x4ad96e={'OfpuB':function(_0x5c8c1b,_0x49aa65){return _0x5c8c1b(_0x49aa65);},'cLpUL':function(_0x270d87){return _0x270d87();}};expect(_0x1168e5[_0x3a7aba(0x30f)])['to']['be'][_0x3a7aba(0x12f)],_0x1168e5[_0x3a7aba(0x20b)]({'type':_0x3a7aba(0x173),'user':_0x2be0bc[_0x3a7aba(0x1e2)],'oauth2':new XOAuth2({'user':_0x2be0bc[_0x3a7aba(0x1e2)],'clientId':_0x2be0bc['LTyko'],'clientSecret':'{Client\x20Secret}','refreshToken':_0x3a7aba(0x19f),'accessToken':_0x3a7aba(0x2e4),'accessUrl':'http://localhost:'+XOAUTH_PORT})},function(_0x1c907a){const _0x25e3d4=_0x3a7aba;_0x4ad96e[_0x25e3d4(0x33f)](expect,_0x1c907a)['to'][_0x25e3d4(0x145)][_0x25e3d4(0x2d0)],expect(_0x1168e5[_0x25e3d4(0x30f)])['to']['be']['true'],_0x4ad96e[_0x25e3d4(0x27a)](_0x12ee5a);});}),it('should\x20fail\x20with\x20xoauth2\x20object',function(_0x5418b6){const _0x394d6c=_0x724ad1;_0x2be0bc[_0x394d6c(0x137)](expect,_0x1168e5[_0x394d6c(0x30f)])['to']['be'][_0x394d6c(0x12f)],_0x1168e5[_0x394d6c(0x20b)]({'type':'oauth2','user':_0x2be0bc[_0x394d6c(0x1e2)],'oauth2':new XOAuth2({'user':'testuser','clientId':_0x2be0bc['LTyko'],'clientSecret':'{Client\x20Secret}','refreshToken':_0x2be0bc['UVgiu'],'accessToken':_0x2be0bc[_0x394d6c(0x16d)],'accessUrl':_0x2be0bc[_0x394d6c(0x213)](_0x2be0bc[_0x394d6c(0x1f0)],XOAUTH_PORT)})},function(_0x57cf89){const _0x59a9bc=_0x394d6c;_0x2be0bc[_0x59a9bc(0x317)](expect,_0x57cf89)['to'][_0x59a9bc(0x2d0)],_0x2be0bc[_0x59a9bc(0x137)](expect,_0x1168e5[_0x59a9bc(0x30f)])['to']['be'][_0x59a9bc(0x12f)],_0x2be0bc[_0x59a9bc(0x1f9)](_0x5418b6);});}),it('should\x20fail\x20with\x20invalid\x20xoauth2\x20response',function(_0x52bc4f){const _0x337d07=_0x724ad1;expect(_0x1168e5[_0x337d07(0x30f)])['to']['be'][_0x337d07(0x12f)];let _0x363fe7=new XOAuth2({'user':_0x2be0bc[_0x337d07(0x1e2)],'clientId':_0x2be0bc[_0x337d07(0x204)],'clientSecret':_0x337d07(0x1ba),'refreshToken':_0x2be0bc[_0x337d07(0x1e3)],'accessToken':_0x2be0bc[_0x337d07(0x16d)],'accessUrl':'http://localhost:'+XOAUTH_PORT});sinon['stub'](_0x363fe7,_0x2be0bc['qRDAJ'])[_0x337d07(0x2fc)](null,_0x2be0bc[_0x337d07(0x1fe)]),_0x1168e5['login']({'type':_0x337d07(0x173),'user':_0x2be0bc[_0x337d07(0x1e2)],'oauth2':_0x363fe7},function(_0x15eb8f){const _0xdc8922=_0x337d07;expect(_0x15eb8f)['to'][_0xdc8922(0x2d0)],expect(_0x1168e5[_0xdc8922(0x30f)])['to']['be']['false'],_0x363fe7[_0xdc8922(0x222)]['restore'](),_0x52bc4f();});});}else{if(!/@valid.sender/[_0x724ad1(0x1ab)](_0x355a0f[_0x724ad1(0x1f1)]))return _0x6e4064(new _0x46e3f3(_0x51ed13[_0x724ad1(0x21a)]));return _0x23ec40();}}),_0x135361['fZdYy'](describe,_0x2a2d05(0x12e),function(){const _0x45f4fe=_0x2a2d05,_0x3b0c6c={'SoPsa':function(_0x36aa43,_0x5df26c){const _0x3f64f6=_0x235c;return _0x51ed13[_0x3f64f6(0x2d3)](_0x36aa43,_0x5df26c);},'megvp':function(_0xa65f32){return _0xa65f32();}};let _0x54e149;beforeEach(function(_0x4a0a38){const _0x565aaa=_0x235c,_0x1559ac={'UoEwT':function(_0x42b7b7,_0x406be3){return _0x42b7b7===_0x406be3;},'MCkZY':function(_0x5f3501,_0x14877c){return _0x5f3501(_0x14877c);},'XeTuy':_0x51ed13['BPgAa']};_0x51ed13[_0x565aaa(0x163)](_0x565aaa(0x106),_0x565aaa(0x326))?(_0x2212ea(_0x2303b0)['to'][_0x565aaa(0x2d0)],_0x3b0c6c['SoPsa'](_0x2f2d91,_0x56d80c)['to']['not'][_0x565aaa(0x2d0)],_0x19f208()):(_0x54e149=new SMTPConnection({'port':PORT_NUMBER,'logger':![],'debug':![],'customAuth':{'mytest':_0x3db39a=>{const _0x1c4f46=_0x565aaa;_0x3db39a[_0x1c4f46(0x18d)]('HALLO1\x20HALLO',(_0x7edeec,_0xa3649c)=>{const _0x104308=_0x1c4f46,_0x3ec89d={'nObhG':function(_0x1d3ae9,_0x2cfe49){const _0xccf245=_0x235c;return _0x1559ac[_0xccf245(0x2a6)](_0x1d3ae9,_0x2cfe49);},'nnqPJ':_0x104308(0x1ff)};expect(_0x7edeec)['to']['not'][_0x104308(0x2d0)],_0x1559ac[_0x104308(0x1aa)](expect,_0xa3649c['status'])['to']['equal'](0x1f4),_0x3db39a['sendCommand'](_0x1559ac['XeTuy'],(_0x139884,_0x67643b)=>{const _0x435832=_0x104308,_0x24308a={'qTqZD':function(_0x55fd2f,_0x3aaf38){return _0x55fd2f(_0x3aaf38);}};_0x3ec89d[_0x435832(0x1b8)]('LNPdT',_0x3ec89d[_0x435832(0x1a7)])?(expect(_0x139884)['to'][_0x435832(0x145)]['exist'],expect(_0x67643b[_0x435832(0x25b)])['to']['equal'](0x1f4),_0x3db39a[_0x435832(0x2de)]()):_0x24308a[_0x435832(0x24b)](_0x3e4225,_0xdfe0a5)['to']['not'][_0x435832(0x2d0)];});});}}}),_0x54e149[_0x565aaa(0x1d2)](_0x4a0a38));}),afterEach(function(_0x5cf88a){const _0xa2be2=_0x235c;_0x54e149[_0xa2be2(0x276)](),_0x3b0c6c[_0xa2be2(0x150)](_0x5cf88a);}),_0x51ed13[_0x45f4fe(0x2c7)](it,_0x45f4fe(0x1b7),function(_0x45625f){const _0x7454a1=_0x45f4fe,_0x1435cf={'XChto':_0x51ed13['MjxTl'],'jBrUZ':function(_0x414549,_0x29cc30,_0x2ca9bc){const _0x34e60c=_0x235c;return _0x51ed13[_0x34e60c(0x239)](_0x414549,_0x29cc30,_0x2ca9bc);},'ZeYey':_0x51ed13['gwCzZ'],'cKjOz':function(_0xd963c7,_0x3f8fb2){const _0x38fe1e=_0x235c;return _0x51ed13[_0x38fe1e(0x315)](_0xd963c7,_0x3f8fb2);},'FYlIr':function(_0x459064){return _0x459064();}};_0x51ed13[_0x7454a1(0x14e)](expect,_0x54e149['authenticated'])['to']['be'][_0x7454a1(0x12f)],_0x54e149['login']({'method':_0x51ed13[_0x7454a1(0x1de)],'user':'testuser','credentials':{'user':_0x7454a1(0x297),'pass':_0x51ed13[_0x7454a1(0x28d)]}},function(_0x131cd0){const _0x1bf53e=_0x7454a1,_0x39ec39={'DmmZk':function(_0x44a1ec,_0x38c9e7){return _0x44a1ec!==_0x38c9e7;},'ftdFl':_0x1435cf['XChto'],'FRvtS':_0x1bf53e(0x236),'FGokt':function(_0x10ffa8,_0x5630c6){return _0x10ffa8!==_0x5630c6;},'jIxRx':function(_0xc60f0f,_0x5a7396,_0x42fcaa){const _0x1a6932=_0x1bf53e;return _0x1435cf[_0x1a6932(0x115)](_0xc60f0f,_0x5a7396,_0x42fcaa);},'lKVAJ':_0x1bf53e(0x18c),'WVKGV':function(_0x352787,_0x1a170c,_0x273976){return _0x352787(_0x1a170c,_0x273976);}};if('Ajnom'===_0x1435cf['ZeYey']){if(_0x38b8f6[_0x1bf53e(0x144)]!=='XOAUTH2'){if(_0x39ec39['DmmZk'](_0x77079[_0x1bf53e(0x18a)],_0x39ec39[_0x1bf53e(0x2e7)])||_0xafaaf9[_0x1bf53e(0x304)]!==_0x1bf53e(0x33a))return _0x327fb5(new _0x10c4ed(_0x39ec39[_0x1bf53e(0x2a9)]));}else{if(_0x39ec39[_0x1bf53e(0x170)](_0x205535[_0x1bf53e(0x18a)],'testuser')||_0x39ec39[_0x1bf53e(0x170)](_0x26f07f[_0x1bf53e(0x20f)],_0x3aa4aa))return _0x39ec39[_0x1bf53e(0x309)](_0x467281,null,{'data':{'status':'401','schemes':_0x39ec39[_0x1bf53e(0x1b5)],'scope':_0x1bf53e(0x1f6)}});}_0x39ec39[_0x1bf53e(0x25d)](_0x2d1302,null,{'user':0x7b});}else expect(_0x131cd0)['to'][_0x1bf53e(0x145)]['exist'],_0x1435cf['cKjOz'](expect,_0x54e149[_0x1bf53e(0x30f)])['to']['be'][_0x1bf53e(0x301)],_0x1435cf[_0x1bf53e(0x333)](_0x45625f);});});}),describe(_0x2a2d05(0x199),function(){const _0x54ff15=_0x2a2d05,_0x807356={'mKLAa':_0x51ed13[_0x54ff15(0x25a)],'ClIDw':function(_0x5a33b7,_0x45a632){return _0x5a33b7(_0x45a632);},'kinSR':function(_0x40be3d,_0x3779f4){const _0x42357e=_0x54ff15;return _0x51ed13[_0x42357e(0x1ce)](_0x40be3d,_0x3779f4);},'pgTEc':'test1@valid.recipient','kOaaQ':function(_0x3f980d,_0x281fa2){return _0x3f980d(_0x281fa2);},'qeIYo':function(_0x3ae822){const _0x20c0ab=_0x54ff15;return _0x51ed13[_0x20c0ab(0x270)](_0x3ae822);},'FOLLw':_0x51ed13[_0x54ff15(0x307)]};_0x51ed13['ivFov'](beforeEach,function(_0x55d1d5){const _0x3b593f=_0x54ff15,_0x3b97e5={'bnPYz':'testuser'};_0x1168e5['on'](_0x807356[_0x3b593f(0x138)],function(){const _0xbe8319=_0x3b593f;_0x1168e5=new SMTPConnection({'port':PORT_NUMBER,'logger':![],'debug':![]}),_0x7136be[_0xbe8319(0x21e)]['hidePIPELINING']=!![],_0x1168e5[_0xbe8319(0x1d2)](function(){const _0x41e9a0=_0xbe8319;_0x1168e5['login']({'user':_0x3b97e5['bnPYz'],'credentials':{'user':_0x3b97e5[_0x41e9a0(0x18b)],'pass':'testpass'}},function(_0x776888){const _0x2058d3=_0x41e9a0;expect(_0x776888)['to'][_0x2058d3(0x145)][_0x2058d3(0x2d0)],_0x7136be[_0x2058d3(0x21e)]['hidePIPELINING']=![],_0x55d1d5();});});}),_0x1168e5[_0x3b593f(0x276)]();}),_0x51ed13[_0x54ff15(0x31c)](it,_0x51ed13['QsnsK'],function(_0x2f9ecd){const _0x1aca05=_0x54ff15;_0x1168e5[_0x1aca05(0x2ce)]({'from':_0x1aca05(0x223),'to':[_0x1aca05(0x1d6),_0x1aca05(0x201),_0x1aca05(0x130)]},_0x807356[_0x1aca05(0x33b)],function(_0x16050f,_0x16ee33){const _0x1d4fa4=_0x1aca05;_0x807356[_0x1d4fa4(0x2b2)](expect,_0x16050f)['to'][_0x1d4fa4(0x145)][_0x1d4fa4(0x2d0)],_0x807356['kinSR'](expect,_0x16ee33)['to'][_0x1d4fa4(0x273)][_0x1d4fa4(0x2e1)]({'accepted':[_0x807356[_0x1d4fa4(0x189)],'test3@valid.recipient'],'rejected':[_0x1d4fa4(0x201)],'rejectedErrors':_0x16ee33[_0x1d4fa4(0x1c6)],'envelopeTime':_0x16ee33[_0x1d4fa4(0x2c0)],'messageTime':_0x16ee33[_0x1d4fa4(0x196)],'messageSize':_0x16ee33[_0x1d4fa4(0x2f3)],'response':_0x1d4fa4(0x246)}),_0x807356['kOaaQ'](expect,_0x16ee33['rejectedErrors'][_0x1d4fa4(0x311)])['to'][_0x1d4fa4(0x2e1)](0x1),_0x807356['qeIYo'](_0x2f9ecd);});});}),_0x135361[_0x2a2d05(0x322)](describe,_0x135361['WvtKr'],function(){const _0x25ac85=_0x2a2d05,_0x153375={'vYmvy':function(_0x3f8e38,_0x5ae81c){return _0x3f8e38(_0x5ae81c);},'mcDps':_0x25ac85(0x28e),'CMFfJ':_0x51ed13[_0x25ac85(0x26e)],'dlWHJ':function(_0x1c0954){const _0x3b0fa9=_0x25ac85;return _0x51ed13[_0x3b0fa9(0x33c)](_0x1c0954);},'BPYhN':_0x51ed13[_0x25ac85(0x2a3)],'wQAFE':_0x51ed13[_0x25ac85(0x11d)],'QzZSy':_0x25ac85(0x27e),'EijLH':_0x51ed13[_0x25ac85(0x2d5)],'IHFvY':function(_0x4e3016,_0x514d86){return _0x51ed13['tIYDW'](_0x4e3016,_0x514d86);},'FoEXe':_0x25ac85(0x228),'tNUzQ':_0x25ac85(0x1a9),'JyGgH':_0x25ac85(0x201),'wMhJC':_0x25ac85(0x24c),'uRKTz':_0x51ed13[_0x25ac85(0x156)],'XGUyR':_0x25ac85(0x1cc),'twaFT':function(_0x174d0f,_0x1aeeff){const _0x4c094f=_0x25ac85;return _0x51ed13[_0x4c094f(0x22e)](_0x174d0f,_0x1aeeff);},'dlZTf':_0x51ed13[_0x25ac85(0x277)],'fvuGV':function(_0x1bf8a2){const _0x25e0cc=_0x25ac85;return _0x51ed13[_0x25e0cc(0x153)](_0x1bf8a2);},'BdCfy':'test4@valid.recipient','XUXyk':_0x51ed13[_0x25ac85(0x307)],'xGqLZ':function(_0x294db4){const _0x4b0347=_0x25ac85;return _0x51ed13[_0x4b0347(0x1ee)](_0x294db4);},'fDblU':_0x25ac85(0x1d0),'RoOVV':_0x51ed13[_0x25ac85(0x2c8)],'MyFFL':_0x51ed13[_0x25ac85(0x161)],'EqJdm':_0x51ed13[_0x25ac85(0x10a)],'sVYzc':function(_0x1641c4,_0x38cce4){return _0x1641c4===_0x38cce4;},'dxNfo':'pkkXm','TnKXf':function(_0x2fcf66){return _0x51ed13['uLYKS'](_0x2fcf66);},'bsXon':function(_0x1d15d3,_0x4e2027){const _0x400f7d=_0x25ac85;return _0x51ed13[_0x400f7d(0x2ea)](_0x1d15d3,_0x4e2027);},'yYDJW':function(_0x4c1f29,_0x2077f9){return _0x4c1f29(_0x2077f9);},'frOOi':function(_0x10bc47){return _0x10bc47();},'TitSu':_0x51ed13[_0x25ac85(0x11e)],'txcke':function(_0x252221,_0x4e238e){return _0x252221(_0x4e238e);},'cKmdj':function(_0x5a30c5,_0x251a6f,_0x356a11){return _0x5a30c5(_0x251a6f,_0x356a11);},'EeFPd':function(_0x56cb99,_0x18bf38){const _0x437bd6=_0x25ac85;return _0x51ed13[_0x437bd6(0x2eb)](_0x56cb99,_0x18bf38);},'bsCGY':function(_0x2e949f){return _0x2e949f();},'sEDEn':_0x51ed13[_0x25ac85(0x225)],'cpysm':_0x25ac85(0x30b)};beforeEach(function(_0x4d2c81){const _0x20aac1=_0x25ac85;_0x1168e5[_0x20aac1(0x20b)]({'user':_0x51ed13[_0x20aac1(0x1f7)],'credentials':{'user':'testuser','pass':_0x20aac1(0x33a)}},function(_0x42a652){const _0x10f8cb=_0x20aac1;expect(_0x42a652)['to'][_0x10f8cb(0x145)]['exist'],_0x4d2c81();});}),it(_0x25ac85(0x1da),function(_0x532405){const _0x28bd9e=_0x25ac85,_0x24f660={'riEEf':function(_0x41479b,_0x2c22b8){const _0x4492d2=_0x235c;return _0x51ed13[_0x4492d2(0x1c4)](_0x41479b,_0x2c22b8);},'SehWF':_0x51ed13[_0x28bd9e(0x161)]};_0x1168e5[_0x28bd9e(0x2ce)]({'from':_0x51ed13[_0x28bd9e(0x2d5)],'to':_0x51ed13[_0x28bd9e(0x1ae)]},_0x51ed13[_0x28bd9e(0x307)],function(_0x387b7c,_0x28836c){const _0x2c10e2=_0x28bd9e;_0x24f660['riEEf'](expect,_0x387b7c)['to'][_0x2c10e2(0x145)][_0x2c10e2(0x2d0)],expect(_0x28836c)['to'][_0x2c10e2(0x273)][_0x2c10e2(0x2e1)]({'accepted':[_0x2c10e2(0x28e)],'rejected':[],'envelopeTime':_0x28836c[_0x2c10e2(0x2c0)],'messageTime':_0x28836c[_0x2c10e2(0x196)],'messageSize':_0x28836c[_0x2c10e2(0x2f3)],'response':_0x24f660[_0x2c10e2(0x249)]}),_0x532405();});}),_0x51ed13[_0x25ac85(0x1e9)](it,_0x51ed13[_0x25ac85(0x10d)],function(_0x4a13e0){const _0x378df3=_0x25ac85,_0x448172={'SWfUP':function(_0x586272,_0x173bad){const _0x1c35cc=_0x235c;return _0x51ed13[_0x1c35cc(0x1b1)](_0x586272,_0x173bad);},'jVFRj':_0x51ed13[_0x378df3(0x161)],'QfjRY':function(_0x21a3ca,_0x23f1dd){const _0x4f1e47=_0x378df3;return _0x51ed13[_0x4f1e47(0x14a)](_0x21a3ca,_0x23f1dd);},'Fhvqo':_0x378df3(0x1a8),'PKOVC':'test2'};_0x1168e5[_0x378df3(0x2ce)]({'from':_0x51ed13[_0x378df3(0x2d5)],'to':_0x378df3(0x28e)},_0x378df3(0x1ab),function(_0xe68437,_0x322431){const _0x520f96=_0x378df3;_0x153375['vYmvy'](expect,_0xe68437)['to'][_0x520f96(0x145)][_0x520f96(0x2d0)],expect(_0x322431)['to']['deep']['equal']({'accepted':[_0x153375[_0x520f96(0x1ca)]],'rejected':[],'envelopeTime':_0x322431[_0x520f96(0x2c0)],'messageTime':_0x322431[_0x520f96(0x196)],'messageSize':_0x322431['messageSize'],'response':_0x520f96(0x246)}),_0x1168e5[_0x520f96(0x143)](function(_0x414511){const _0x3f526f=_0x520f96,_0x32ca62={'sUnNP':function(_0x532a19,_0x521b5a){const _0x422b4b=_0x235c;return _0x448172[_0x422b4b(0x164)](_0x532a19,_0x521b5a);},'Hrayf':_0x448172['jVFRj']};_0x448172[_0x3f526f(0x281)](_0x448172['Fhvqo'],_0x3f526f(0x1a8))?(_0x3bcbf0(![])['to']['be'][_0x3f526f(0x301)],_0xf87d9[_0x3f526f(0x276)]()):(_0x448172[_0x3f526f(0x164)](expect,_0x414511)['to'][_0x3f526f(0x145)][_0x3f526f(0x2d0)],_0x1168e5['send']({'from':_0x3f526f(0x15b),'to':_0x3f526f(0x1cc)},_0x448172['PKOVC'],function(_0x444d3a,_0x513e09){const _0x4d450e=_0x3f526f;_0x32ca62[_0x4d450e(0x19a)](expect,_0x444d3a)['to'][_0x4d450e(0x145)][_0x4d450e(0x2d0)],_0x32ca62[_0x4d450e(0x19a)](expect,_0x513e09)['to']['deep']['equal']({'accepted':[_0x4d450e(0x1cc)],'rejected':[],'envelopeTime':_0x513e09[_0x4d450e(0x2c0)],'messageTime':_0x513e09[_0x4d450e(0x196)],'messageSize':_0x513e09[_0x4d450e(0x2f3)],'response':_0x32ca62['Hrayf']}),_0x4a13e0();}));});});}),_0x51ed13[_0x25ac85(0x1c7)](it,_0x51ed13[_0x25ac85(0x316)],function(_0x1b61e5){const _0x369400=_0x25ac85;_0x1168e5[_0x369400(0x2ce)]({'from':_0x369400(0x223),'to':[_0x369400(0x1d6),_0x51ed13[_0x369400(0x318)],_0x51ed13[_0x369400(0x31e)]]},'test',function(_0x321de6,_0x5dade4){const _0x12481f=_0x369400;expect(_0x321de6)['to']['not'][_0x12481f(0x2d0)],_0x153375[_0x12481f(0x1df)](expect,_0x5dade4)['to'][_0x12481f(0x273)][_0x12481f(0x2e1)]({'accepted':[_0x153375[_0x12481f(0x32d)],_0x12481f(0x130)],'rejected':[_0x12481f(0x201)],'rejectedErrors':_0x5dade4[_0x12481f(0x1c6)],'envelopeTime':_0x5dade4[_0x12481f(0x2c0)],'messageTime':_0x5dade4[_0x12481f(0x196)],'messageSize':_0x5dade4['messageSize'],'response':'250\x20OK:\x20message\x20queued'}),expect(_0x5dade4[_0x12481f(0x1c6)][_0x12481f(0x311)])['to'][_0x12481f(0x2e1)](0x1),_0x153375['dlWHJ'](_0x1b61e5);});}),_0x51ed13[_0x25ac85(0x239)](it,'should\x20reject\x20all\x20recipients',function(_0x37c7ef){const _0x2517a5=_0x25ac85,_0x3d6891={'DlQBS':function(_0x2086c6,_0x354f0a){return _0x153375['IHFvY'](_0x2086c6,_0x354f0a);},'goHTl':function(_0x3322d0){return _0x3322d0();},'gkEII':function(_0x1737d3,_0x2c12ad){return _0x153375['vYmvy'](_0x1737d3,_0x2c12ad);},'SudEc':_0x153375['FoEXe'],'QIqni':function(_0x526b1f,_0x216e20){return _0x153375['IHFvY'](_0x526b1f,_0x216e20);}};if(_0x153375['tNUzQ']!==_0x2517a5(0x1a9)){let _0x200e4c=[],_0x4ebb88=new _0x453da1(0x400)[_0x2517a5(0x2e3)](_0x153375['BPYhN']);_0x56e471['on'](_0x153375[_0x2517a5(0x17d)],function(_0x8724c7,_0xcbb47b){const _0xbe9a9e=_0x2517a5;_0x200e4c[_0xbe9a9e(0x31f)](_0xcbb47b);}),_0x4d5433[_0x2517a5(0x151)](_0x153375[_0x2517a5(0x2f5)]),_0xa88c3f['on'](_0x2517a5(0x27e),function(_0x4b5dd3,_0x56d4fe){const _0x58f04f=_0x2517a5;let _0x288861=_0x2f9e6c[_0x58f04f(0x1ef)](_0x200e4c);_0x3d6891[_0x58f04f(0x15a)](_0x130592,_0x288861['toString']())['to'][_0x58f04f(0x2e1)](_0x4ebb88[_0x58f04f(0x227)]()[_0x58f04f(0x212)](/\n/g,'\x0d\x0a')),_0x56d4fe(null,_0x58f04f(0x30b));}),_0x3162d6[_0x2517a5(0x2ce)]({'from':_0x153375['EijLH'],'to':_0x2517a5(0x28e)},_0x4ebb88,function(_0x55c0e1){const _0x4f53e3=_0x2517a5;_0x5a4e9c(_0x55c0e1)['to'][_0x4f53e3(0x145)][_0x4f53e3(0x2d0)],_0x3d6891['goHTl'](_0x2f8158);});}else _0x1168e5[_0x2517a5(0x2ce)]({'from':_0x153375[_0x2517a5(0x338)],'to':[_0x2517a5(0x228),_0x153375[_0x2517a5(0x29d)],_0x153375[_0x2517a5(0x296)]]},'test',function(_0x2fba3a,_0xedbc5c){const _0x4a942d=_0x2517a5;expect(_0x2fba3a)['to'][_0x4a942d(0x2d0)],_0x3d6891[_0x4a942d(0x171)](expect,_0xedbc5c)['to'][_0x4a942d(0x145)]['exist'],expect(_0x2fba3a[_0x4a942d(0x1f3)])['to']['deep'][_0x4a942d(0x2e1)]([_0x3d6891['SudEc'],'test2@invalid.recipient',_0x4a942d(0x24c)]),_0x3d6891[_0x4a942d(0x2d4)](expect,_0x2fba3a[_0x4a942d(0x1c6)][_0x4a942d(0x311)])['to'][_0x4a942d(0x2e1)](0x3),_0x37c7ef();});}),it('should\x20reject\x20too\x20large\x20SIZE\x20arguments',function(_0x336a30){const _0x2109d2=_0x25ac85;_0x1168e5[_0x2109d2(0x2ce)]({'from':_0x153375['uRKTz'],'to':_0x153375[_0x2109d2(0x1d5)],'size':_0x153375[_0x2109d2(0x2ef)](0x400,0x400)},_0x2109d2(0x1ab),function(_0x5ceb2d,_0x4a7cec){const _0x16e033=_0x2109d2;expect(_0x5ceb2d)['to']['exist'],expect(_0x4a7cec)['to'][_0x16e033(0x145)][_0x16e033(0x2d0)],_0x336a30();});}),it(_0x51ed13['jmeVS'],function(_0x268440){const _0x793ff1=_0x25ac85,_0x16fdca={'NTPBv':function(_0x2c4487,_0x193f8f){return _0x2c4487(_0x193f8f);},'Arnal':function(_0x56a2e2){return _0x56a2e2();}};_0x1168e5['send']({'from':_0x793ff1(0x15b),'to':_0x51ed13[_0x793ff1(0x2e5)],'size':_0x51ed13['JTGuU'](0x46,0x400)},'test',function(_0x45b45d,_0x52dae4){const _0x1a4eb5=_0x793ff1;expect(_0x45b45d)['to'][_0x1a4eb5(0x2d0)],_0x16fdca[_0x1a4eb5(0x159)](expect,_0x52dae4)['to'][_0x1a4eb5(0x145)][_0x1a4eb5(0x2d0)],_0x16fdca[_0x1a4eb5(0x197)](_0x268440);});}),_0x51ed13[_0x25ac85(0x154)](it,_0x25ac85(0x139),function(_0x52fac7){const _0x34c428=_0x25ac85;_0x1168e5['send']({'from':_0x51ed13['blyEC'],'to':_0x34c428(0x1cc),'size':_0x51ed13[_0x34c428(0x2ea)](0xa,0x400)},_0x34c428(0x1ab),function(_0x23e0ef,_0x22ae03){const _0x467207=_0x34c428;_0x153375['IHFvY'](expect,_0x23e0ef)['to'][_0x467207(0x145)]['exist'],expect(_0x22ae03)['to'][_0x467207(0x273)]['equal']({'accepted':[_0x153375['XGUyR']],'rejected':[],'envelopeTime':_0x22ae03[_0x467207(0x2c0)],'messageTime':_0x22ae03[_0x467207(0x196)],'messageSize':_0x22ae03[_0x467207(0x2f3)],'response':_0x467207(0x246)}),_0x52fac7();});}),_0x51ed13[_0x25ac85(0x13b)](it,_0x25ac85(0x11c),function(_0x448625){const _0x2c8226=_0x25ac85,_0xa94d8e={'BJWVX':_0x2c8226(0x181),'riEOC':_0x153375[_0x2c8226(0x29d)],'mMrJX':_0x153375[_0x2c8226(0x32d)],'rjlcG':_0x2c8226(0x302),'ZSUsl':'test3@valid.recipient','ltnJI':_0x153375[_0x2c8226(0x157)],'BwPxf':function(_0x1105a1,_0x195b68){const _0x36cefe=_0x2c8226;return _0x153375[_0x36cefe(0x1df)](_0x1105a1,_0x195b68);},'XMZmX':function(_0x3a6c86,_0x3b65d4){return _0x3a6c86(_0x3b65d4);},'lgbIN':function(_0x1bdaa3){const _0x571264=_0x2c8226;return _0x153375[_0x571264(0x30e)](_0x1bdaa3);}};_0x514ed2[_0x2c8226(0x2ce)]({'from':_0x153375['EijLH'],'to':[_0x153375[_0x2c8226(0x32d)],_0x2c8226(0x201),_0x2c8226(0x130),_0x153375['BdCfy'],_0x153375[_0x2c8226(0x157)],_0x2c8226(0x1e0)]},_0x153375['XUXyk'],function(_0x5c384a,_0x126af4){const _0x2d47e5=_0x2c8226;if(_0x2d47e5(0x181)===_0xa94d8e[_0x2d47e5(0x253)]){const _0x1e6202=_0x2d47e5(0x13a)[_0x2d47e5(0x2c4)]('|');let _0x226a54=0x0;while(!![]){switch(_0x1e6202[_0x226a54++]){case'0':expect(_0x126af4['rejected'])['to'][_0x2d47e5(0x273)][_0x2d47e5(0x2e1)]([_0xa94d8e['riEOC'],_0xa94d8e[_0x2d47e5(0x230)],_0xa94d8e['rjlcG'],'test6@valid.recipient']);continue;case'1':expect(_0x126af4[_0x2d47e5(0x2d1)])['to'][_0x2d47e5(0x273)][_0x2d47e5(0x2e1)]([_0xa94d8e['ZSUsl'],_0xa94d8e[_0x2d47e5(0x252)]]);continue;case'2':_0xa94d8e[_0x2d47e5(0x195)](expect,_0x5c384a)['to'][_0x2d47e5(0x145)][_0x2d47e5(0x2d0)];continue;case'3':_0xa94d8e[_0x2d47e5(0x344)](expect,_0x126af4[_0x2d47e5(0x1c6)]['length'])['to']['equal'](_0x126af4[_0x2d47e5(0x1f3)][_0x2d47e5(0x311)]);continue;case'4':_0xa94d8e[_0x2d47e5(0x133)](_0x448625);continue;}break;}}else _0x582230[_0x2d47e5(0x248)](_0x379377,function(){const _0x3afd2b=_0x2d47e5;_0x4e1be2[_0x3afd2b(0x1d2)](function(){const _0x7c8671=_0x3afd2b;_0x427472[_0x7c8671(0x1d2)](_0x344d22);});});});}),_0x51ed13[_0x25ac85(0x2c7)](it,_0x51ed13[_0x25ac85(0x262)],function(_0x11c741){const _0x237d34=_0x25ac85,_0x524c4f={'nGpRN':function(_0x473c15,_0xa8a484){return _0x473c15(_0xa8a484);},'ZlZoZ':'test2@invalid.recipient','TchvX':'250\x20OK:\x20message\x20queued','lopPz':function(_0x262991){return _0x153375['xGqLZ'](_0x262991);}};_0x1168e5[_0x237d34(0x2ce)]({'from':_0x237d34(0x223),'to':[_0x153375[_0x237d34(0x32d)],_0x237d34(0x201),_0x153375['fDblU']]},_0x153375[_0x237d34(0x210)],function(_0x1aeb57,_0x3aca09){const _0x18300e=_0x237d34;expect(_0x1aeb57)['to'][_0x18300e(0x145)]['exist'],_0x524c4f['nGpRN'](expect,_0x3aca09)['to']['deep'][_0x18300e(0x2e1)]({'accepted':[_0x18300e(0x1d6),_0x18300e(0x1d0)],'rejected':[_0x524c4f[_0x18300e(0x216)]],'rejectedErrors':_0x3aca09['rejectedErrors'],'envelopeTime':_0x3aca09['envelopeTime'],'messageTime':_0x3aca09[_0x18300e(0x196)],'messageSize':_0x3aca09[_0x18300e(0x2f3)],'response':_0x524c4f['TchvX']}),_0x524c4f[_0x18300e(0x2fd)](_0x11c741);});}),_0x51ed13['tuLQk'](it,'should\x20send\x20using\x208BITMIME',function(_0x4976c9){const _0x426d6d=_0x25ac85,_0x159f1f={'niDoP':_0x426d6d(0x235),'ifYOu':function(_0x167bc5,_0x3c6780){return _0x167bc5!==_0x3c6780;},'dfdgw':_0x153375[_0x426d6d(0x10b)],'WwmRm':function(_0x5b37f9,_0x1307b7){return _0x5b37f9(_0x1307b7);},'rrFxk':_0x426d6d(0x1d0),'oDKvE':_0x153375[_0x426d6d(0x292)],'gLPxM':function(_0x404e69){return _0x404e69();}};_0x1168e5[_0x426d6d(0x2ce)]({'use8BitMime':!![],'from':_0x153375[_0x426d6d(0x338)],'to':[_0x426d6d(0x1d6),_0x426d6d(0x201),'test3õ@valid.recipient']},_0x153375[_0x426d6d(0x209)],function(_0x3d284c,_0x2ddb92){const _0x257c56=_0x426d6d;_0x159f1f['ifYOu'](_0x159f1f[_0x257c56(0x329)],_0x257c56(0x1cd))?(_0xa1a42c['on'](_0x159f1f[_0x257c56(0x2ad)],function(){}),_0x579ce4['on'](_0x257c56(0x23a),_0x526cfe)):(expect(_0x3d284c)['to'][_0x257c56(0x145)]['exist'],_0x159f1f['WwmRm'](expect,_0x2ddb92)['to']['deep'][_0x257c56(0x2e1)]({'accepted':[_0x257c56(0x1d6),_0x159f1f['rrFxk']],'rejected':[_0x257c56(0x201)],'rejectedErrors':_0x2ddb92[_0x257c56(0x1c6)],'envelopeTime':_0x2ddb92['envelopeTime'],'messageTime':_0x2ddb92[_0x257c56(0x196)],'messageSize':_0x2ddb92[_0x257c56(0x2f3)],'response':_0x159f1f[_0x257c56(0x29b)]}),_0x159f1f['gLPxM'](_0x4976c9));});}),it(_0x51ed13[_0x25ac85(0x2ba)],function(_0x1061ca){const _0x480764=_0x25ac85,_0x47edbe={'HrNcM':function(_0x55f87f,_0x217860){return _0x55f87f(_0x217860);},'KPqby':function(_0x2356d4){return _0x2356d4();}};_0x1168e5[_0x480764(0x2ce)]({'use8BitMime':![],'from':_0x480764(0x223),'to':[_0x51ed13['CmFzU'],_0x51ed13[_0x480764(0x318)],_0x51ed13[_0x480764(0x1d3)]]},_0x51ed13[_0x480764(0x10a)],function(_0x17b837){const _0x2567cc=_0x480764;_0x47edbe[_0x2567cc(0x218)](expect,/8 bit content not allowed/['test'](_0x17b837[_0x2567cc(0x180)]))['to']['be'][_0x2567cc(0x301)],_0x47edbe[_0x2567cc(0x15c)](_0x1061ca);});}),it(_0x25ac85(0x312),function(_0x12d1c9){const _0x5398b2=_0x25ac85,_0x2c180b={'uVWQM':function(_0x504802,_0x5874bd){return _0x504802+_0x5874bd;},'InSLn':_0x5398b2(0x1ad),'hCWLB':function(_0x6089ac){return _0x6089ac();}};if(_0x153375['sVYzc'](_0x153375[_0x5398b2(0x21c)],_0x5398b2(0x172)))return new _0x1bdd15(_0x2c180b[_0x5398b2(0x24a)](_0x2c180b[_0x5398b2(0x24a)]('<',_0x45272c['address']),_0x2c180b['InSLn']));else _0x1168e5[_0x5398b2(0x2ce)]({'from':_0x153375[_0x5398b2(0x338)],'to':[_0x153375[_0x5398b2(0x1ca)],_0x5398b2(0x266)]},_0x153375[_0x5398b2(0x210)],function(_0x575835){const _0x2149f3=_0x5398b2;expect(/^Invalid recipient/['test'](_0x575835[_0x2149f3(0x180)]))['to']['be'][_0x2149f3(0x301)],_0x2c180b[_0x2149f3(0x2cc)](_0x12d1c9);});}),_0x51ed13['MjIZF'](it,_0x25ac85(0x169),function(_0x283fde){const _0x20802d=_0x25ac85;if(_0x20802d(0x2f7)!==_0x20802d(0x2f7)){const _0x5b492c={'LLyoq':function(_0x3f6447,_0x3af8b2){return _0x3f6447(_0x3af8b2);},'CpBEi':function(_0x99a2f6){const _0x3808ee=_0x20802d;return _0x153375[_0x3808ee(0x257)](_0x99a2f6);}};_0x243947[_0x20802d(0x2ce)]({'from':_0x20802d(0x15b),'to':_0x153375[_0x20802d(0x1d5)],'size':_0x153375['bsXon'](0x400,0x400)},_0x20802d(0x1ab),function(_0xcbb0e1,_0x551e20){const _0x3d0a7b=_0x20802d;_0x5b492c[_0x3d0a7b(0x24f)](_0x415191,_0xcbb0e1)['to'][_0x3d0a7b(0x2d0)],_0x499819(_0x551e20)['to'][_0x3d0a7b(0x145)][_0x3d0a7b(0x2d0)],_0x5b492c[_0x3d0a7b(0x2da)](_0x2a7a29);});}else _0x1168e5[_0x20802d(0x2ce)]({'from':_0x153375[_0x20802d(0x338)],'to':[_0x153375[_0x20802d(0x264)],_0x20802d(0x201),_0x20802d(0x24c)]},_0x153375[_0x20802d(0x210)],function(_0x39c452){const _0x5e73ce=_0x20802d;_0x153375[_0x5e73ce(0x2b9)](expect,_0x39c452)['to']['exist'],_0x153375[_0x5e73ce(0x177)](_0x283fde);});}),it(_0x25ac85(0x13f),function(_0x49ec09){const _0x1c82aa=_0x25ac85,_0x5708f6={'kcIFk':function(_0xca544e,_0x44a862){return _0xca544e(_0x44a862);},'uDABM':function(_0x33654a){return _0x33654a();}};_0x1168e5['send']({'from':_0x153375[_0x1c82aa(0x272)],'to':_0x1c82aa(0x28e)},_0x153375['XUXyk'],function(_0x572cf6){const _0x3c6e46=_0x1c82aa;_0x5708f6[_0x3c6e46(0x334)](expect,_0x572cf6)['to'][_0x3c6e46(0x2d0)],_0x5708f6[_0x3c6e46(0x288)](_0x49ec09);});}),it(_0x51ed13[_0x25ac85(0x291)],function(_0x5ad579){const _0x4f4370=_0x25ac85,_0x176c37={'UcXpr':function(_0xbe32d1,_0xfb7e34){const _0x4a2c26=_0x235c;return _0x153375[_0x4a2c26(0x12d)](_0xbe32d1,_0xfb7e34);}};let _0x279055=[],_0x5683cb=new Array(0x400)[_0x4f4370(0x2e3)](_0x4f4370(0x267));_0x7136be['on'](_0x4f4370(0x235),function(_0x4b328a,_0x46b7ab){const _0x5cc49b=_0x4f4370;_0x279055[_0x5cc49b(0x31f)](_0x46b7ab);}),_0x7136be['removeAllListeners'](_0x153375[_0x4f4370(0x2f5)]),_0x7136be['on'](_0x4f4370(0x27e),function(_0x4df67f,_0x471d60){const _0x620442=_0x4f4370;let _0x1f9866=Buffer[_0x620442(0x1ef)](_0x279055);_0x176c37[_0x620442(0x1ea)](expect,_0x1f9866[_0x620442(0x1a3)]())['to'][_0x620442(0x2e1)](_0x5683cb[_0x620442(0x227)]()['replace'](/\n/g,'\x0d\x0a')),_0x471d60(null,_0x620442(0x30b));}),_0x1168e5[_0x4f4370(0x2ce)]({'from':_0x153375['EijLH'],'to':_0x153375[_0x4f4370(0x1ca)]},_0x5683cb,function(_0x40f8fb){const _0x1405b4=_0x4f4370;expect(_0x40f8fb)['to']['not'][_0x1405b4(0x2d0)],_0x5ad579();});}),it('should\x20send\x20message\x20buffer',function(_0x58344c){const _0x4bddcb=_0x25ac85,_0x1d6d03={'HfBLb':function(_0x5a2483,_0x1ee248){return _0x5a2483(_0x1ee248);},'XsskC':function(_0x19f8fc,_0xa0d1e3){return _0x153375['EeFPd'](_0x19f8fc,_0xa0d1e3);},'GQwGF':function(_0x5e02d7){const _0x239191=_0x235c;return _0x153375[_0x239191(0x123)](_0x5e02d7);}};if(_0x153375[_0x4bddcb(0x1b9)]!==_0x153375[_0x4bddcb(0x1b9)])_0x289923(_0x46ec43[_0x4bddcb(0x30f)])['to']['be'][_0x4bddcb(0x12f)],_0x2eeeac[_0x4bddcb(0x20b)]({'user':'testuser'},function(_0x5f2ea2){const _0xb0d00c=_0x4bddcb;_0x2cfb33(_0x5f2ea2)['to'][_0xb0d00c(0x2d0)],_0x1d6d03['HfBLb'](_0x11459f,_0x406e26[_0xb0d00c(0x30f)])['to']['be']['false'],_0x1d6d03[_0xb0d00c(0x1c5)](_0x5bec48,_0x5f2ea2[_0xb0d00c(0x180)])['to'][_0xb0d00c(0x188)](/^Missing credentials/),_0x1d6d03[_0xb0d00c(0x12a)](_0x41bb6e,_0x5f2ea2[_0xb0d00c(0x32c)])['to'][_0xb0d00c(0x2e1)](_0xb0d00c(0x271)),_0x4086c1(_0x5f2ea2[_0xb0d00c(0x187)])['to']['be'][_0xb0d00c(0x2ac)],_0x1d6d03['GQwGF'](_0x3f1223);});else{let _0xfafeaa=[],_0x4efa18=Buffer[_0x4bddcb(0x287)](new Array(0x400)[_0x4bddcb(0x2e3)](_0x4bddcb(0x267)));_0x7136be['on']('data',function(_0x11b160,_0x11c69d){_0xfafeaa['push'](_0x11c69d);}),_0x7136be['removeAllListeners'](_0x153375[_0x4bddcb(0x2f5)]),_0x7136be['on']('dataReady',function(_0x12ad3d,_0x1d1d31){const _0x4c351f=_0x4bddcb;let _0x3b0109=Buffer['concat'](_0xfafeaa);expect(_0x3b0109['toString']())['to'][_0x4c351f(0x2e1)](_0x4efa18[_0x4c351f(0x1a3)]()[_0x4c351f(0x227)]()[_0x4c351f(0x212)](/\n/g,'\x0d\x0a')),_0x153375['cKmdj'](_0x1d1d31,null,_0x4c351f(0x30b));}),_0x1168e5[_0x4bddcb(0x2ce)]({'from':_0x4bddcb(0x223),'to':_0x153375['mcDps']},_0x4efa18,function(_0x5eefa5){const _0x54dff9=_0x4bddcb;_0x1d6d03[_0x54dff9(0x12a)](expect,_0x5eefa5)['to'][_0x54dff9(0x145)][_0x54dff9(0x2d0)],_0x1d6d03['GQwGF'](_0x58344c);});}}),it('should\x20send\x20message\x20stream',function(_0x965fc7){const _0x21b1c4=_0x25ac85,_0x160167={'JlXgr':_0x21b1c4(0x15b),'nXmwK':'test2@valid.recipient','OYqLy':function(_0x185e5a,_0xc94f63){return _0x185e5a!==_0xc94f63;},'Jhhno':'yagHu','ZgBey':_0x21b1c4(0x297),'LpiLR':_0x21b1c4(0x30d),'dhlBg':function(_0x311e37,_0x2cd847){const _0x37c3be=_0x21b1c4;return _0x51ed13[_0x37c3be(0x298)](_0x311e37,_0x2cd847);},'dbhhB':_0x51ed13['efpPs'],'MxOns':function(_0x43332b,_0x42854a){const _0x30df4e=_0x21b1c4;return _0x51ed13[_0x30df4e(0x107)](_0x43332b,_0x42854a);},'wMBHr':function(_0x5a782b){const _0x33bd25=_0x21b1c4;return _0x51ed13[_0x33bd25(0x33c)](_0x5a782b);}};if(_0x51ed13['PPApC']===_0x51ed13['vckAM'])_0x35b7f2[_0x21b1c4(0x1d2)](_0x265bca);else{let _0x2025f4=[],_0x2b89cf=__dirname+_0x21b1c4(0x1bf),_0x2b9352=fs[_0x21b1c4(0x19b)](_0x2b89cf,_0x21b1c4(0x140));_0x7136be['on'](_0x51ed13['juCcz'],function(_0x21772c,_0x12d3fb){const _0x49281f=_0x21b1c4,_0x31495d={'nrFSR':function(_0x347613,_0x3c1cf0){return _0x347613(_0x3c1cf0);},'oxLhy':function(_0x45aef2){return _0x45aef2();}};_0x160167[_0x49281f(0x1cf)](_0x160167[_0x49281f(0x113)],_0x160167[_0x49281f(0x113)])?_0x40f3e6[_0x49281f(0x2ce)]({'from':_0x160167['JlXgr'],'to':_0x160167[_0x49281f(0x112)],'size':0x46*0x400},_0x49281f(0x1ab),function(_0x557c71,_0x40dcd7){const _0xa1b891=_0x49281f;_0x31495d[_0xa1b891(0x30a)](_0x137f7e,_0x557c71)['to'][_0xa1b891(0x2d0)],_0x115ff1(_0x40dcd7)['to'][_0xa1b891(0x145)][_0xa1b891(0x2d0)],_0x31495d[_0xa1b891(0x31d)](_0x40e70b);}):_0x2025f4[_0x49281f(0x31f)](_0x12d3fb);}),_0x7136be['removeAllListeners'](_0x21b1c4(0x27e)),_0x7136be['on'](_0x21b1c4(0x27e),function(_0x4dc4f7,_0x21df9a){const _0x5a1b6d=_0x21b1c4;let _0x57bbf1=Buffer[_0x5a1b6d(0x1ef)](_0x2025f4);_0x153375['yYDJW'](expect,_0x57bbf1[_0x5a1b6d(0x1a3)]())['to'][_0x5a1b6d(0x2e1)](_0x2b9352[_0x5a1b6d(0x1a3)]()[_0x5a1b6d(0x227)]()[_0x5a1b6d(0x212)](/\n/g,'\x0d\x0a')),_0x153375[_0x5a1b6d(0x27b)](_0x21df9a,null,_0x153375[_0x5a1b6d(0x2c1)]);}),_0x1168e5[_0x21b1c4(0x2ce)]({'from':_0x51ed13[_0x21b1c4(0x2d5)],'to':_0x51ed13[_0x21b1c4(0x1ae)]},fs[_0x21b1c4(0x321)](_0x2b89cf),function(_0x1b75c4){const _0x3adc88=_0x21b1c4;if(_0x160167[_0x3adc88(0x22a)]!==_0x3adc88(0x229))_0x160167['MxOns'](expect,_0x1b75c4)['to']['not']['exist'],_0x160167[_0x3adc88(0x24d)](_0x965fc7);else{const _0x45b7cc={'lZTTR':function(_0x116805,_0x17e9c7){return _0x116805(_0x17e9c7);}};_0x2d7fee(_0x38f406[_0x3adc88(0x30f)])['to']['be']['false'],_0x3396a9[_0x3adc88(0x20b)]({'type':'oauth2','user':_0x3adc88(0x297),'oauth2':new _0x2c141c({'user':_0x160167[_0x3adc88(0x1ec)],'clientId':_0x160167[_0x3adc88(0x2e0)],'clientSecret':_0x3adc88(0x1ba),'refreshToken':_0x3adc88(0x2c3),'accessToken':_0x3adc88(0x2e4),'accessUrl':_0x160167['dhlBg']('http://localhost:',_0x17daa7)})},function(_0x15bc7b){const _0x29811e=_0x3adc88;_0x288dd7(_0x15bc7b)['to'][_0x29811e(0x2d0)],_0x45b7cc[_0x29811e(0x2bc)](_0x249eef,_0xe940a[_0x29811e(0x30f)])['to']['be']['false'],_0x358dec();});}});}});});}else _0x3f074c(_0x4f50be[_0x2a2d05(0x2fa)])['to']['be'][_0x2a2d05(0x301)],_0x4f1fee[_0x2a2d05(0x276)]();});});function proxyConnect(_0x1e1ba3,_0x1c9337,_0x39381d,_0x2fb49a,_0x87c2d1){const _0x2ee364=_0x4a55ea,_0x4503c8={'uJIeZ':_0x2ee364(0x16a),'eMINM':function(_0x3f59b9,_0x4267e1){return _0x3f59b9+_0x4267e1;},'ybsjE':_0x2ee364(0x235),'BLYLr':_0x2ee364(0x111)};let _0x3653f7=net['connect'](_0x1e1ba3,_0x1c9337,function(){const _0x3a74b8=_0x2ee364;_0x3653f7['write'](_0x4503c8[_0x3a74b8(0x294)](_0x4503c8[_0x3a74b8(0x294)](_0x4503c8[_0x3a74b8(0x299)]+_0x2fb49a,':'),_0x39381d)+_0x3a74b8(0x33e));let _0x5a280d='',_0xc26578=function(_0x4585d4){const _0x59bfc8=_0x3a74b8;let _0x325222,_0x32432c;_0x5a280d+=_0x4585d4[_0x59bfc8(0x1a3)](_0x59bfc8(0x12b));if(_0x325222=_0x5a280d['match'](/\r\n\r\n/)){const _0x13cf8d=_0x4503c8['uJIeZ'][_0x59bfc8(0x2c4)]('|');let _0x34c03d=0x0;while(!![]){switch(_0x13cf8d[_0x34c03d++]){case'0':return _0x87c2d1(null,_0x3653f7);case'1':_0x32432c=_0x5a280d[_0x59bfc8(0x342)](_0x4503c8['eMINM'](_0x325222[_0x59bfc8(0x132)],_0x325222[0x0][_0x59bfc8(0x311)]));continue;case'2':_0x32432c&&_0x3653f7[_0x59bfc8(0x2cb)](Buffer[_0x59bfc8(0x287)](_0x32432c,'binary'));continue;case'3':_0x3653f7['removeListener'](_0x4503c8['ybsjE'],_0xc26578);continue;case'4':_0x5a280d=_0x5a280d[_0x59bfc8(0x342)](0x0,_0x325222[_0x59bfc8(0x132)]);continue;}break;}}};_0x3653f7['on'](_0x4503c8[_0x3a74b8(0x305)],_0xc26578);});_0x3653f7['on'](_0x2ee364(0x2e2),function(_0x40051e){const _0x10a152=_0x2ee364;expect(_0x40051e)['to'][_0x10a152(0x145)][_0x10a152(0x2d0)];});}