'use strict';const _0x105fe9=_0x44c0;(function(_0x15ad4d,_0x47f489){const _0x368306=_0x44c0,_0x5a0df0=_0x15ad4d();while(!![]){try{const _0x31c9f4=parseInt(_0x368306(0x311))/0x1+parseInt(_0x368306(0x2cc))/0x2+-parseInt(_0x368306(0x2b7))/0x3*(-parseInt(_0x368306(0x26d))/0x4)+-parseInt(_0x368306(0x301))/0x5+-parseInt(_0x368306(0x2a3))/0x6+-parseInt(_0x368306(0x2e1))/0x7+parseInt(_0x368306(0x21e))/0x8;if(_0x31c9f4===_0x47f489)break;else _0x5a0df0['push'](_0x5a0df0['shift']());}catch(_0x55ef59){_0x5a0df0['push'](_0x5a0df0['shift']());}}}(_0x560f,0xc8c59));process[_0x105fe9(0x298)][_0x105fe9(0x2ef)]='0';function _0x560f(){const _0x15eae0=['STARTTLS','6477870NIinjj','wUhGk','send','messageId','name','kwCvj','nxmuj','CyFNK','test@invalid.sender','oAyaZ','close','FUTLQ','duVTN','yTJfn','ForrA','mAWSh','1198759xDsYGs','should\x20not\x20send\x20more\x20then\x20allowed\x20for\x20one\x20connection','bearer\x20mac','kcFbb','username','IAIdX','VDzHY','../../lib/smtp-pool','dwGnT','tOWDM','vLSlM','end','Jbkhv','TLYAM','XOAUTH2','not','tNppy','lOHlA','BCnng','PWPgR','HnORJ','mDNNN','ElCqu','JPpCa','YaZll','VoGEK','vARRC','gavRI','PzsYA','smtp.gmail.com','AMPUJ','nNvJc','fSVPc','paynb','EwXPF','EfSIl','test','TESTERROR','TPzYq','wvKvC','BCPIC','should\x20emit\x20idle\x20for\x20free\x20slots\x20in\x20the\x20pool','LTgGa','_connections','should\x20tolerate\x20connection\x20errors','htShF','BfbVo','SfckU','connection','CoLmw','includeStack','dataReady','method','Pdktu','port','8336280SgtIKm','GIaSy','OALal','NkNTm','Should\x20expose\x20version\x20number','options','SGEOb','toString','LMozC','LOfth','gKmzE','concat','push','lESXL','getHeader','xUIiz','gukYB','NiZIM','teretere,\x20vana\x20kere\x0a','HuuQp','rzzsz','join','PLAIN','mid','/?logger=false','TkbPL','VKeoW','version','Connection\x20closed\x20unexpectedly','nigwc','401','createReadStream','nSUKA','HrfGi','bPZAt','address','WLpyA','my_smtp_access_scope_name','/?maxConnections=1&maxMessages=5&logger=false','gYIyj','QEWEF','yiGXI','knnJt','RMVjt','YKOJb','rUsiv','DYRXl','rWuwE','connect','XPcMj','_socket','eilCN','ERqda','xYYZK','emit','urzlv','/?maxConnections=1&logger=false','hkHqL','config','ehmCF','tCJEP','smtp:testuser:testpass@localhost:','CRhEt','test@valid.sender','HuraE','testuser','expect','FTbUA','DjSRk','vSpWu','WIYtD','fxnjK','onData','iZiDs','pXEIv','rSAev','BFBbj','Larac','should\x20call\x20back\x20with\x20connection\x20errors\x20to\x20senders\x20having\x20messages\x20in\x20flight','20184tupDpA','THGpM','eduSf','AfjYY','uYFAt','iCsUG','EnXgn','iBhKb','hhmKy','iVfdi','lWfXO','2|4|1|3|0','VFGFT','test@valid.recipient','XvfzS','IOKIu','oSgdN','ISVUI','sPFHk','bCgGo','tndud','DHraz','tjDcq','sHfYc','pwPua','mxKKt','replace','mfxzy','MtPxX','testpass','RRCKR','CXNwH','eclHr','jzxVH','Should\x20verify\x20connection\x20with\x20success','iUfHB','IUxOY','eChCS','DoNfx','Should\x20not\x20verify\x20connection','NpRuf','dJzmZ','Cdxka','env','ClhmB','GebNi','Invalid\x20username\x20or\x20password','eVeCI','cWTup','TEVMj','oaGxr','qhWSH','DkBLg','QapMY','7287930DQLHIk','smtp:testuser:testpass@localhost:999','mlEBN','envelope','chai','FbivV','uOhoM','secure','TkgBs','kfcZg','trim','vjjaI','messages','localhost','AUmpy','EDtMW','isIdle','tfeIZ','YKFrU','data','297UNsnsL','equal','Only\x20user@valid.sender\x20is\x20allowed\x20to\x20send\x20mail','AcQnB','CVqIO','test+timeout@valid.recipient','QFuGq','timeout','WvfSF','FpKGA','hrTRf','Hhuzs','LrjDx','YlhVG','VjsaS','svYUV','connections','VVJzR','cAhRB','ZKZmJ','message','3174178EdAiVT','JaLCd','cFRRR','SMTPServer','MYrWv','qNnNV','ZWpTv','OQWMt','HNCiY','length','verify','DOTGt','ujsIa','idle','now','vjnSz','above','forEach','host','exist','<test>','6963929OOvNhB','LavjZ','VrztM','Gvmbt','hhJuZ','LsqVO','RWUQc','crtZs','tqRIU','GGPba','Knvwi','below','gqeez','aiLbE','NODE_TLS_REJECT_UNAUTHORIZED','xAoNG','testtoken','UcFNd','KynXF','least','lPVgU','password','Aoccm','ALlIb','ztnNf','tnJbX','error','PassThrough','rawMessage','Hmejw','smtp://testuser:testpass@localhost:'];_0x560f=function(){return _0x15eae0;};return _0x560f();}const net=require('net'),chai=require(_0x105fe9(0x2a7)),expect=chai[_0x105fe9(0x260)],SMTPPool=require(_0x105fe9(0x1ee)),SMTPServer=require('smtp-server')[_0x105fe9(0x2cf)],PassThrough=require('stream')[_0x105fe9(0x2fc)];function _0x44c0(_0x1b1ecb,_0x4c349c){const _0x560f24=_0x560f();return _0x44c0=function(_0x44c0d5,_0x314f3f){_0x44c0d5=_0x44c0d5-0x1ea;let _0x2872b9=_0x560f24[_0x44c0d5];return _0x2872b9;},_0x44c0(_0x1b1ecb,_0x4c349c);}chai[_0x105fe9(0x258)][_0x105fe9(0x219)]=!![];const PORT_NUMBER=0x20cd;class MockBuilder{constructor(_0xd1091b,_0x5626a5,_0x5e6bdb){const _0x427164=_0x105fe9,_0x459161={'DkBLg':_0x427164(0x2e0)};this[_0x427164(0x2a6)]=_0xd1091b,this[_0x427164(0x2fd)]=_0x5626a5,this[_0x427164(0x235)]=_0x5e6bdb||_0x459161[_0x427164(0x2a1)];}['getEnvelope'](){return this['envelope'];}[_0x105fe9(0x304)](){const _0x25d7d3=_0x105fe9;return this[_0x25d7d3(0x235)];}[_0x105fe9(0x23d)](){const _0x91a737=_0x105fe9;let _0x4adf40=new PassThrough();return setImmediate(()=>_0x4adf40[_0x91a737(0x1f2)](this[_0x91a737(0x2fd)])),_0x4adf40;}[_0x105fe9(0x22c)](){return'teretere';}}describe('SMTP\x20Pool\x20Tests',function(){const _0x3b2856=_0x105fe9,_0x56e72c={'EDtMW':function(_0x1668b7,_0x39b872){return _0x1668b7===_0x39b872;},'tqRIU':function(_0x5a960d,_0x481781){return _0x5a960d(_0x481781);},'oSgdN':function(_0xe5f6c6){return _0xe5f6c6();},'iCsUG':function(_0x45d720){return _0x45d720();},'tndud':_0x3b2856(0x2b6),'urzlv':function(_0x40b34a,_0x5e742d){return _0x40b34a!==_0x5e742d;},'CVqIO':_0x3b2856(0x226),'YlhVG':_0x3b2856(0x25f),'GGPba':_0x3b2856(0x2f1),'PlLFB':function(_0x521c02,_0xf49e0a){return _0x521c02===_0xf49e0a;},'lESXL':_0x3b2856(0x23c),'mxADG':_0x3b2856(0x313),'MYrWv':_0x3b2856(0x243),'BCPIC':function(_0x4e3e54,_0x19f110,_0x43339d){return _0x4e3e54(_0x19f110,_0x43339d);},'gqeez':_0x3b2856(0x273),'qNnNV':_0x3b2856(0x300),'YKOJb':function(_0x432b0d,_0x142589){return _0x432b0d(_0x142589);},'DHraz':function(_0x522441,_0x1ea64e){return _0x522441(_0x1ea64e);},'xYYZK':_0x3b2856(0x204),'oaGxr':function(_0x1834f1,_0x223bc0){return _0x1834f1(_0x223bc0);},'DjSRk':function(_0x2e84be){return _0x2e84be();},'vjnSz':_0x3b2856(0x279),'CXNwH':_0x3b2856(0x2ce),'hhJuZ':_0x3b2856(0x1f2),'TEVMj':_0x3b2856(0x24d),'uOhoM':'teretere,\x20vana\x20kere\x0a','htShF':'test@valid.sender','Cdxka':_0x3b2856(0x24b),'knnJt':function(_0x1b317c,_0x153cc3){return _0x1b317c+_0x153cc3;},'HrfGi':function(_0x593738,_0x53a781){return _0x593738(_0x53a781);},'cuiww':_0x3b2856(0x236),'Larac':function(_0x3ffaeb,_0x459ffb){return _0x3ffaeb%_0x459ffb;},'AfjYY':_0x3b2856(0x309),'FTbUA':_0x3b2856(0x27a),'VusiM':function(_0x270a1e,_0x1cf299){return _0x270a1e===_0x1cf299;},'OALal':function(_0x38f8bf,_0x125bc7){return _0x38f8bf(_0x125bc7);},'lOHlA':_0x3b2856(0x251),'THGpM':_0x3b2856(0x23a),'EwXPF':function(_0x16d83b){return _0x16d83b();},'MnkBo':function(_0x6e1f1c,_0x2b08bf){return _0x6e1f1c===_0x2b08bf;},'ujsIa':function(_0x2d5467,_0x4b5f37){return _0x2d5467<_0x4b5f37;},'mAWSh':function(_0xd5ab22){return _0xd5ab22();},'LavjZ':function(_0x33aaab,_0x1c3d87){return _0x33aaab*_0x1c3d87;},'nNvJc':function(_0x342d3a,_0x10d94f){return _0x342d3a!==_0x10d94f;},'bCgGo':'FaFkG','TLYAM':function(_0x1f6e3d,_0x313f48){return _0x1f6e3d+_0x313f48;},'PWPgR':function(_0x28d33e){return _0x28d33e();},'bPZAt':_0x3b2856(0x244),'DYRXl':function(_0x36e9f4,_0x43a507){return _0x36e9f4*_0x43a507;},'KynXF':function(_0x48457e,_0x3df768){return _0x48457e<_0x3df768;},'ztnNf':function(_0xfab7fa,_0x5efecf){return _0xfab7fa!==_0x5efecf;},'EfSIl':_0x3b2856(0x29c),'KlhVm':_0x3b2856(0x2e8),'wvKvC':function(_0x57a0d0,_0x367be2){return _0x57a0d0(_0x367be2);},'vLSlM':_0x3b2856(0x28a),'mfxzy':function(_0x5a0e4c){return _0x5a0e4c();},'mDNNN':function(_0x3d42dc,_0x31a1f6){return _0x3d42dc+_0x31a1f6;},'KLNCq':_0x3b2856(0x2ff),'azOuW':function(_0x461dbd,_0x5dbe40){return _0x461dbd<_0x5dbe40;},'LrjDx':_0x3b2856(0x2ae),'xOMvb':function(_0x473e44,_0x283be8){return _0x473e44+_0x283be8;},'tOWDM':function(_0x44a284,_0x49b39c){return _0x44a284>=_0x49b39c;},'DOTGt':'lndmM','vARRC':_0x3b2856(0x208),'xrxGh':function(_0x2798e3,_0x58f468){return _0x2798e3>_0x58f468;},'NiZIM':_0x3b2856(0x30a),'cWTup':function(_0x2a5326,_0x591b3b){return _0x2a5326+_0x591b3b;},'vSpWu':_0x3b2856(0x2d9),'OQWMt':'wreCC','CoLmw':_0x3b2856(0x2fb),'oeuHS':function(_0x2af106,_0x26a3ad){return _0x2af106!==_0x26a3ad;},'lNusC':'smtp:testuser:testpass@www.example.com:1234','Pdktu':_0x3b2856(0x25b),'uYFAt':_0x3b2856(0x222),'LOfth':'should\x20send\x20mail','VKeoW':'should\x20send\x20multiple\x20mails','wEzew':function(_0x1f94fc,_0x366495,_0x50b75c){return _0x1f94fc(_0x366495,_0x50b75c);},'svYUV':'should\x20tolerate\x20idle\x20connections\x20and\x20re-assign\x20messages\x20to\x20other\x20connections','EnoEF':_0x3b2856(0x26c),'ymWBj':function(_0x34cd3a,_0x434052,_0x5b00f6){return _0x34cd3a(_0x434052,_0x5b00f6);},'MtPxX':function(_0x53dcf9,_0x388529,_0x3d352e){return _0x53dcf9(_0x388529,_0x3d352e);},'nxmuj':'should\x20send\x20multiple\x20mails\x20with\x20rate\x20limit','ZWpTv':_0x3b2856(0x210),'xEZSY':'Should\x20login\x20and\x20send\x20mail\x20using\x20proxied\x20socket','kcFbb':function(_0x1416ff,_0x272e9a,_0x3f29ea){return _0x1416ff(_0x272e9a,_0x3f29ea);}};this[_0x3b2856(0x2be)](_0x56e72c[_0x3b2856(0x24c)](0x64,0x3e8));let _0x3747d9;beforeEach(function(_0x2278ea){const _0x32118a=_0x3b2856,_0x17c24d={'EnGbu':_0x56e72c[_0x32118a(0x281)],'sHfYc':function(_0x253256,_0x16b0a9){return _0x253256===_0x16b0a9;},'Knvwi':function(_0x4d160e,_0x4e71ff){const _0x416fdb=_0x32118a;return _0x56e72c[_0x416fdb(0x255)](_0x4d160e,_0x4e71ff);},'RRCKR':_0x32118a(0x1f5),'xAoNG':function(_0x4af23f,_0x1429cb){const _0x50bdf0=_0x32118a;return _0x56e72c[_0x50bdf0(0x255)](_0x4af23f,_0x1429cb);},'qhWSH':'YTgaw','TPzYq':_0x56e72c[_0x32118a(0x2bb)],'kfcZg':_0x32118a(0x29b),'GIaSy':_0x56e72c[_0x32118a(0x2c4)],'eChCS':_0x56e72c[_0x32118a(0x2ea)],'ZKZmJ':function(_0x448261,_0x5bff91){return _0x56e72c['PlLFB'](_0x448261,_0x5bff91);},'VrztM':_0x32118a(0x2e4),'FpKGA':_0x56e72c[_0x32118a(0x22b)],'VVJzR':_0x56e72c['mxADG'],'RWUQc':_0x56e72c[_0x32118a(0x2d0)],'VDzHY':function(_0x842955,_0x315623,_0x3a9199){const _0x5a7986=_0x32118a;return _0x56e72c[_0x5a7986(0x20f)](_0x842955,_0x315623,_0x3a9199);},'cAhRB':function(_0x2a4cb7){return _0x2a4cb7();},'eclHr':function(_0x344bd5,_0x37e2c9){return _0x344bd5(_0x37e2c9);}};if(_0x56e72c[_0x32118a(0x2ed)]!==_0x32118a(0x25e))_0x3747d9=new SMTPServer({'authMethods':[_0x32118a(0x234),_0x32118a(0x1f5)],'disabledCommands':[_0x56e72c[_0x32118a(0x2d1)]],'onData'(_0x3271df,_0x2f5692,_0x3946b6){const _0x53a647=_0x32118a;_0x3271df['on'](_0x17c24d['EnGbu'],function(){}),_0x3271df['on'](_0x53a647(0x1f2),_0x3946b6);},'onAuth'(_0x22bb22,_0x1e57db,_0x1ad89f){const _0x39ba71=_0x32118a,_0x33337d={'tCJEP':function(_0x4254ec,_0x1f0e70){const _0x11be27=_0x44c0;return _0x17c24d[_0x11be27(0x284)](_0x4254ec,_0x1f0e70);},'msRCW':function(_0x55e965,_0x10bb12){return _0x55e965-_0x10bb12;}};if(_0x17c24d['Knvwi'](_0x22bb22[_0x39ba71(0x21b)],_0x17c24d[_0x39ba71(0x28b)])){if(_0x17c24d['Knvwi'](_0x22bb22[_0x39ba71(0x1eb)],_0x39ba71(0x25f))||_0x17c24d[_0x39ba71(0x2f0)](_0x22bb22[_0x39ba71(0x2f6)],_0x39ba71(0x28a))){if(_0x17c24d[_0x39ba71(0x2a0)]!==_0x17c24d[_0x39ba71(0x20d)])return _0x1ad89f(new Error(_0x17c24d[_0x39ba71(0x2ac)]));else{if(_0x33337d[_0x39ba71(0x25a)](++_0x37d16c,_0x44878f)){let _0x523277=_0x204da7[_0x39ba71(0x2da)]();return _0x5f2507(_0x33337d['msRCW'](_0x523277,_0x38e24b))['to']['be']['at']['least'](0x5dc0),_0x42ce0e[_0x39ba71(0x30b)](),_0x1238d6();}}}}else{if(_0x17c24d[_0x39ba71(0x2eb)](_0x22bb22[_0x39ba71(0x1eb)],_0x17c24d[_0x39ba71(0x21f)])||_0x17c24d[_0x39ba71(0x2eb)](_0x22bb22['accessToken'],_0x17c24d[_0x39ba71(0x292)]))return _0x17c24d[_0x39ba71(0x2ca)](_0x39ba71(0x2e4),_0x17c24d[_0x39ba71(0x2e3)])?_0x1ad89f(null,{'data':{'status':_0x17c24d[_0x39ba71(0x2c0)],'schemes':_0x17c24d[_0x39ba71(0x2c8)],'scope':_0x17c24d[_0x39ba71(0x2e7)]}}):(_0xf0faa9[_0x39ba71(0x30b)](),_0x43cea5());}_0x17c24d[_0x39ba71(0x1ed)](_0x1ad89f,null,{'user':0x7b});},'onMailFrom'(_0x279377,_0x291a57,_0x24b4f8){const _0x1fef74=_0x32118a;if(_0x56e72c['EDtMW'](_0x1fef74(0x25c),_0x1fef74(0x25c))){if(!/@valid.sender/[_0x1fef74(0x20b)](_0x279377['address']))return _0x56e72c[_0x1fef74(0x2e9)](_0x24b4f8,new Error('Only\x20user@valid.sender\x20is\x20allowed\x20to\x20send\x20mail'));return _0x56e72c[_0x1fef74(0x27d)](_0x24b4f8);}else return _0x5c1430[_0x1fef74(0x30b)](),_0x17c24d[_0x1fef74(0x2c9)](_0x3d9ed0);},'onRcptTo'(_0x5d7b54,_0x3ac3bf,_0x12e877){const _0x2fafcf=_0x32118a;if(!/@valid.recipient/['test'](_0x5d7b54['address']))return _0x56e72c[_0x2fafcf(0x2e9)](_0x12e877,new Error('Only\x20user@valid.recipient\x20is\x20allowed\x20to\x20receive\x20mail'));if(!/timeout/[_0x2fafcf(0x20b)](_0x5d7b54[_0x2fafcf(0x241)]))return _0x56e72c[_0x2fafcf(0x272)](_0x12e877);},'logger':![]}),_0x3747d9['listen'](PORT_NUMBER,_0x2278ea);else return _0x69c910(_0x82844c[_0x32118a(0x212)][_0x32118a(0x2d5)])['to']['be']['equal'](0x1),_0x17c24d[_0x32118a(0x28d)](_0x4bbaf7,_0x30ae80[_0x32118a(0x212)][0x0][_0x32118a(0x2af)])['to']['be'][_0x32118a(0x2ec)](0x6),_0x3cf8c2[_0x32118a(0x30b)](),_0x4ad8b4();}),_0x56e72c[_0x3b2856(0x20e)](afterEach,function(_0x459096){const _0x54aa93=_0x3b2856;_0x3747d9[_0x54aa93(0x30b)](_0x459096);}),it(_0x56e72c[_0x3b2856(0x271)],function(){const _0xc49f=_0x3b2856;let _0x5f4717=new SMTPPool();_0x56e72c['YKOJb'](expect,_0x5f4717[_0xc49f(0x305)])['to'][_0xc49f(0x2df)],_0x56e72c[_0xc49f(0x282)](expect,_0x5f4717[_0xc49f(0x239)])['to'][_0xc49f(0x2df)];}),it('Should\x20detect\x20wellknown\x20data',function(){const _0x16dc83=_0x3b2856;let _0x5dcdde=new SMTPPool({'service':'google\x20mail'});_0x56e72c[_0x16dc83(0x282)](expect,_0x5dcdde['options'][_0x16dc83(0x2de)])['to']['equal'](_0x56e72c[_0x16dc83(0x253)]),_0x56e72c[_0x16dc83(0x29f)](expect,_0x5dcdde['options'][_0x16dc83(0x21d)])['to'][_0x16dc83(0x2b8)](0x1d1),_0x56e72c['YKOJb'](expect,_0x5dcdde[_0x16dc83(0x223)][_0x16dc83(0x2aa)])['to']['be']['true'];}),it(_0x56e72c[_0x3b2856(0x227)],function(_0x299d45){const _0x523f89=_0x3b2856,_0xe0afec={'asSdx':function(_0x197798,_0x54d0f4,_0x5249c5){const _0x130a72=_0x44c0;return _0x56e72c[_0x130a72(0x20f)](_0x197798,_0x54d0f4,_0x5249c5);},'XvfzS':function(_0x12d1cf){return _0x12d1cf();}};if(_0x523f89(0x296)===_0x56e72c[_0x523f89(0x29e)])return _0x56e72c[_0x523f89(0x262)](_0x3d6721);else{let _0x50f1ae=new SMTPPool({'port':PORT_NUMBER,'auth':{'user':_0x56e72c[_0x523f89(0x2c4)],'pass':_0x523f89(0x28a)},'logger':![],'debug':!![]}),_0x417b8d=new Array(0x400)['join'](_0x56e72c[_0x523f89(0x2a9)]);_0x3747d9[_0x523f89(0x266)]=function(_0x1961a6,_0x10cbaf,_0x48de47){const _0x552de5=_0x523f89;if(_0x56e72c['EDtMW'](_0x56e72c[_0x552de5(0x2db)],_0x56e72c[_0x552de5(0x28c)]))_0xe0afec['asSdx'](_0x503c5b,_0x1a457d,0x5dc);else{let _0x49a10f=[];_0x1961a6['on']('data',function(_0x579b03){_0x49a10f['push'](_0x579b03);}),_0x1961a6['on'](_0x56e72c[_0x552de5(0x2e5)],function(){const _0xbb5139=_0x552de5;let _0x1ad157=Buffer[_0xbb5139(0x229)](_0x49a10f);expect(_0x1ad157['toString']())['to'][_0xbb5139(0x2b8)](_0x417b8d['trim']()[_0xbb5139(0x287)](/\n/g,'\x0d\x0a')+'\x0d\x0a'),_0x48de47();});}},_0x50f1ae[_0x523f89(0x303)]({'data':{},'message':new MockBuilder({'from':_0x56e72c[_0x523f89(0x214)],'to':'test@valid.recipient'},_0x417b8d)},function(_0x20fcf4){const _0x996513=_0x523f89;expect(_0x20fcf4)['to'][_0x996513(0x1f6)][_0x996513(0x2df)],_0x50f1ae['close'](),_0xe0afec[_0x996513(0x27b)](_0x299d45);});}}),_0x56e72c[_0x3b2856(0x20f)](it,_0x56e72c[_0x3b2856(0x238)],function(_0x2f5889){const _0x1c1a95=_0x3b2856,_0x3f3746={'gukYB':function(_0x36d095,_0x156968){return _0x56e72c['knnJt'](_0x36d095,_0x156968);},'BGVnb':function(_0x150a22,_0x3867b7){const _0x267571=_0x44c0;return _0x56e72c[_0x267571(0x23f)](_0x150a22,_0x3867b7);},'rSAev':function(_0x2485e4,_0x4b5395){return _0x56e72c['knnJt'](_0x2485e4,_0x4b5395);},'lWfXO':function(_0x2ea3fe,_0x2b3897){return _0x2ea3fe===_0x2b3897;},'LTgGa':_0x1c1a95(0x205),'YKFrU':'data','BFBbj':_0x56e72c[_0x1c1a95(0x2e5)],'SfckU':function(_0x3ef88f,_0xcbfbb9){const _0x324ee3=_0x1c1a95;return _0x56e72c[_0x324ee3(0x24a)](_0x3ef88f,_0xcbfbb9);},'iZiDs':_0x1c1a95(0x27a)};let _0x57141c=new SMTPPool(_0x56e72c[_0x1c1a95(0x248)](_0x1c1a95(0x2ff)+PORT_NUMBER,_0x56e72c['cuiww'])),_0x4df4a4=new Array(0xa*0x400)[_0x1c1a95(0x233)]('teretere,\x20vana\x20kere\x0a');_0x3747d9['onData']=function(_0x20611f,_0x37ccfb,_0x25a958){const _0x1b8c53=_0x1c1a95,_0x15eda5={'LsqVO':function(_0x1e89f0,_0x3620fc){return _0x1e89f0===_0x3620fc;},'sSzAH':_0x1b8c53(0x295)};if(_0x3f3746[_0x1b8c53(0x277)](_0x3f3746[_0x1b8c53(0x211)],_0x3f3746[_0x1b8c53(0x211)])){let _0x20a2ca=[];_0x20611f['on'](_0x3f3746[_0x1b8c53(0x2b5)],function(_0x105455){const _0x13a488=_0x1b8c53,_0x28b561={'WLpyA':function(_0xe4f37a,_0x21d25d){return _0xe4f37a===_0x21d25d;}};_0x15eda5[_0x13a488(0x2e6)](_0x15eda5['sSzAH'],_0x13a488(0x295))?_0x20a2ca['push'](_0x105455):!_0x2c9314&&_0x28b561[_0x13a488(0x242)](_0x52df8f,_0xcf607c/0x2)&&(_0x49f1ac=!![],_0x4decda=![],_0xb4be35[_0x13a488(0x2c7)][_0x13a488(0x2dd)](function(_0x13f90a){const _0x7f8c94=_0x13a488;_0x13f90a[_0x7f8c94(0x250)][_0x7f8c94(0x1f2)]();}));}),_0x20611f['on'](_0x3f3746[_0x1b8c53(0x26a)],function(){const _0x5a4d2f=_0x1b8c53;let _0x17de7b=Buffer[_0x5a4d2f(0x229)](_0x20a2ca);expect(_0x17de7b[_0x5a4d2f(0x225)]())['to'][_0x5a4d2f(0x2b8)](_0x3f3746[_0x5a4d2f(0x22e)](_0x4df4a4[_0x5a4d2f(0x2ad)]()[_0x5a4d2f(0x287)](/\n/g,'\x0d\x0a'),'\x0d\x0a')),_0x25a958();});}else{let _0x1f470b=_0x2e77e3[_0x1b8c53(0x229)](_0x13a1d9);_0x3f3746['BGVnb'](_0x327aff,_0x1f470b[_0x1b8c53(0x225)]())['to'][_0x1b8c53(0x2b8)](_0x3f3746[_0x1b8c53(0x269)](_0xb794fe[_0x1b8c53(0x2ad)]()[_0x1b8c53(0x287)](/\n/g,'\x0d\x0a'),'\x0d\x0a')),_0x3ea2f2();}};function _0x55dd6f(_0x252eb2){const _0x2b39f8=_0x1c1a95,_0x5f31f6={'pXEIv':function(_0x3cdaf1,_0x2074ab){const _0x149550=_0x44c0;return _0x3f3746[_0x149550(0x216)](_0x3cdaf1,_0x2074ab);},'lSTBu':function(_0x531501){return _0x531501();}};_0x57141c['send']({'data':{},'message':new MockBuilder({'from':_0x2b39f8(0x25d),'to':_0x3f3746[_0x2b39f8(0x267)]},_0x4df4a4)},function(_0x2cde2c){const _0x11883d=_0x2b39f8;_0x5f31f6[_0x11883d(0x268)](expect,_0x2cde2c)['to'][_0x11883d(0x1f6)][_0x11883d(0x2df)],_0x5f31f6['lSTBu'](_0x252eb2);});}let _0x35af90=0x64,_0x9545ca=0x0,_0x2d9d54=function(){const _0x501377=_0x1c1a95,_0x139fd0={'ehmCF':function(_0x3de064,_0x159ace){return _0x3de064(_0x159ace);},'ALlIb':function(_0x1494c3){return _0x1494c3();},'iVfdi':'data','JaLCd':_0x56e72c[_0x501377(0x2e5)]};if(_0x56e72c[_0x501377(0x2b2)](_0x56e72c[_0x501377(0x297)],_0x501377(0x237))){let _0x4a0e60=[];_0x4bbcd8['on'](_0x139fd0[_0x501377(0x276)],function(_0x43f923){_0x4a0e60['push'](_0x43f923);}),_0x505198['on'](_0x139fd0[_0x501377(0x2cd)],function(){const _0x43ab98=_0x501377;let _0x2eaa65=_0x26ea9c['concat'](_0x4a0e60);_0x139fd0[_0x43ab98(0x259)](_0x3a0d12,_0x2eaa65[_0x43ab98(0x225)]())['to']['equal'](_0x37b503['trim']()[_0x43ab98(0x287)](/\n/g,'\x0d\x0a')+'\x0d\x0a'),_0x139fd0[_0x43ab98(0x2f8)](_0x1e58e0);});}else{let _0x1d18d2=0x0;if(++_0x9545ca===_0x35af90){const _0x2dd957=_0x501377(0x278)['split']('|');let _0x546737=0x0;while(!![]){switch(_0x2dd957[_0x546737++]){case'0':return _0x2f5889();case'1':expect(_0x1d18d2)['to']['be'][_0x501377(0x2b8)](_0x35af90);continue;case'2':expect(_0x57141c[_0x501377(0x212)]['length'])['to']['be'][_0x501377(0x2dc)](0x1);continue;case'3':_0x57141c[_0x501377(0x30b)]();continue;case'4':_0x57141c[_0x501377(0x212)]['forEach'](function(_0x2d4ba9){const _0x2df1d4=_0x501377;expect(_0x2d4ba9[_0x2df1d4(0x2af)])['to']['be'][_0x2df1d4(0x2dc)](0x1),_0x1d18d2+=_0x2d4ba9['messages'];});continue;}break;}}}};for(let _0x3ab342=0x0;_0x3ab342<_0x35af90;_0x3ab342++){_0x56e72c[_0x1c1a95(0x24a)](_0x55dd6f,_0x2d9d54);}}),_0x56e72c[_0x3b2856(0x20f)](it,_0x3b2856(0x213),function(_0x42c677){const _0x191adf=_0x3b2856,_0x3a8dab={'yTJfn':function(_0x2841c8,_0x1c965f){return _0x56e72c['VusiM'](_0x2841c8,_0x1c965f);}};let _0x381034=new SMTPPool({'port':PORT_NUMBER,'auth':{'user':'testuser','pass':_0x191adf(0x28a)},'logger':![]}),_0x302cdc=new Array(0xa*0x400)[_0x191adf(0x233)](_0x191adf(0x230));_0x3747d9[_0x191adf(0x266)]=function(_0x582127,_0x27700d,_0x1e2300){const _0x2372a5=_0x191adf,_0x531d8a={'BfbVo':function(_0x25eae8,_0x5d57ec){const _0x207ef4=_0x44c0;return _0x56e72c[_0x207ef4(0x23f)](_0x25eae8,_0x5d57ec);},'UcFNd':function(_0xdb2e03){const _0xa0e70b=_0x44c0;return _0x56e72c[_0xa0e70b(0x27d)](_0xdb2e03);}};let _0x1c9a30=[];_0x582127['on'](_0x2372a5(0x2b6),function(_0x550889){const _0x357b4b=_0x2372a5;_0x1c9a30[_0x357b4b(0x22a)](_0x550889);}),_0x582127['on'](_0x56e72c[_0x2372a5(0x2e5)],function(){const _0x3430a9=_0x2372a5;let _0x59a2c3=Buffer['concat'](_0x1c9a30);_0x531d8a[_0x3430a9(0x215)](expect,_0x59a2c3['toString']())['to'][_0x3430a9(0x2b8)](_0x302cdc['trim']()['replace'](/\n/g,'\x0d\x0a')+'\x0d\x0a'),_0x531d8a[_0x3430a9(0x2f2)](_0x1e2300);});};let _0x26c198=0x0;function _0x5c0aa0(_0x54de7e){const _0x4b5a01=_0x191adf,_0x5de852={'bpcVw':function(_0x110bc8,_0xbcd5de){return _0x110bc8(_0xbcd5de);},'lPVgU':function(_0x8c22e2,_0x1c9b44){return _0x8c22e2(_0x1c9b44);}};let _0x165d89=_0x56e72c[_0x4b5a01(0x26b)](_0x26c198++,0x2);_0x381034[_0x4b5a01(0x303)]({'data':{},'message':new MockBuilder({'from':_0x165d89?_0x56e72c[_0x4b5a01(0x270)]:_0x56e72c[_0x4b5a01(0x214)],'to':_0x56e72c[_0x4b5a01(0x261)]},_0x302cdc)},function(_0x573fb0){const _0x1fe57b=_0x4b5a01;_0x165d89?_0x5de852['bpcVw'](expect,_0x573fb0)['to'][_0x1fe57b(0x2df)]:_0x5de852[_0x1fe57b(0x2f5)](expect,_0x573fb0)['to']['not']['exist'],_0x54de7e();});}let _0x1a6faf=0x64,_0x47b6d3=0x0,_0x1f2380=function(){const _0x5c59cc=_0x191adf;if(_0x3a8dab[_0x5c59cc(0x30e)](++_0x47b6d3,_0x1a6faf))return _0x381034[_0x5c59cc(0x30b)](),_0x42c677();};for(let _0x312ba5=0x0;_0x312ba5<_0x1a6faf;_0x312ba5++){_0x56e72c[_0x191adf(0x220)](_0x5c0aa0,_0x1f2380);}}),_0x56e72c['wEzew'](it,_0x56e72c[_0x3b2856(0x2c6)],function(_0x43c94d){const _0x2fadb7=_0x3b2856,_0x4fd5c5={'fxnjK':'tEaja','hYRFX':_0x56e72c[_0x2fadb7(0x1f8)],'mggBP':_0x56e72c[_0x2fadb7(0x26e)],'RMVjt':function(_0x2f92ab){return _0x56e72c['DjSRk'](_0x2f92ab);},'QEWEF':function(_0x37738c,_0x89c5e){return _0x37738c!==_0x89c5e;},'gYIyj':_0x2fadb7(0x25d),'PzsYA':_0x2fadb7(0x27a),'CyFNK':function(_0x1f5473,_0x3bdfe4){return _0x1f5473(_0x3bdfe4);},'QapMY':function(_0x58b002){const _0x5416f0=_0x2fadb7;return _0x56e72c[_0x5416f0(0x209)](_0x58b002);},'ElCqu':function(_0x356aa1,_0x1a37b3){return _0x356aa1===_0x1a37b3;},'yiGXI':function(_0x4bb28f,_0x2b1329){return _0x56e72c['MnkBo'](_0x4bb28f,_0x2b1329);},'Ukkks':function(_0x1dbc1f,_0x473528){return _0x1dbc1f!==_0x473528;},'AVHHa':function(_0x1eac35,_0x2d999c,_0x4f1b46){return _0x56e72c['BCPIC'](_0x1eac35,_0x2d999c,_0x4f1b46);},'gKmzE':function(_0x5eb325,_0x131b40){const _0x3891c6=_0x2fadb7;return _0x56e72c[_0x3891c6(0x2d8)](_0x5eb325,_0x131b40);},'iUfHB':function(_0x236a12,_0x37b3cc){return _0x236a12/_0x37b3cc;}};let _0x2f7c91=new SMTPPool({'port':PORT_NUMBER,'auth':{'user':_0x56e72c[_0x2fadb7(0x2c4)],'pass':'testpass'},'logger':![]}),_0x1bedd9=0x14,_0x33b0f9=new Array(0xa*0x400)['join'](_0x56e72c[_0x2fadb7(0x2a9)]),_0x633159=0x0,_0x491fc4=![];_0x3747d9[_0x2fadb7(0x266)]=function(_0x5d3b5b,_0x1b641b,_0x5b24f3){const _0x209ce7=_0x2fadb7,_0x124ca4={'pMAiR':function(_0x42e23f){return _0x42e23f();}};let _0x5e4bf9=!![];_0x5d3b5b['on'](_0x209ce7(0x2b6),function(){const _0x2b7616=_0x209ce7;!_0x491fc4&&_0x633159===_0x1bedd9/0x2&&(_0x491fc4=!![],_0x5e4bf9=![],_0x3747d9[_0x2b7616(0x2c7)][_0x2b7616(0x2dd)](function(_0x548f03){_0x548f03['_socket']['end']();}));}),_0x5d3b5b['on']('end',function(){if(_0x5e4bf9)return _0x633159+=0x1,_0x124ca4['pMAiR'](_0x5b24f3);});};function _0x7ce325(_0x449347){const _0x21cc56=_0x2fadb7;_0x4fd5c5[_0x21cc56(0x246)](_0x21cc56(0x299),'cbLar')?_0x2f7c91[_0x21cc56(0x303)]({'data':{},'message':new MockBuilder({'from':_0x4fd5c5[_0x21cc56(0x245)],'to':_0x21cc56(0x27a)},_0x33b0f9)},function(_0x2cdb1c){const _0x1dc42e=_0x21cc56,_0x41ef5c={'eduSf':function(_0x408249,_0x426131){return _0x408249(_0x426131);},'XPcMj':function(_0x53a093){return _0x53a093();},'tnJbX':_0x1dc42e(0x25d)};_0x4fd5c5[_0x1dc42e(0x265)]===_0x4fd5c5['hYRFX']?_0x419ce1[_0x1dc42e(0x303)]({'data':{},'message':new _0x5b5d53({'from':_0x41ef5c[_0x1dc42e(0x2fa)],'to':_0x1dc42e(0x27a)},_0x49fa74)},function(_0x340b78){const _0x1c2c70=_0x1dc42e;_0x41ef5c[_0x1c2c70(0x26f)](_0xf1d2ff,_0x340b78)['to']['not'][_0x1c2c70(0x2df)],_0x41ef5c[_0x1c2c70(0x24f)](_0x1f9790);}):(_0x2cdb1c&&expect(_0x2cdb1c[_0x1dc42e(0x2cb)])['to'][_0x1dc42e(0x2b8)](_0x4fd5c5['mggBP']),_0x4fd5c5[_0x1dc42e(0x249)](_0x449347));}):_0x5e6e7d(_0x531a0f);}let _0x580179=0x0,_0x6aba0a=function(){const _0x22741b=_0x2fadb7,_0x2f5378={'BCnng':function(_0x5a19ef){const _0x26e57b=_0x44c0;return _0x4fd5c5[_0x26e57b(0x2a2)](_0x5a19ef);}};if(_0x4fd5c5[_0x22741b(0x246)](_0x22741b(0x232),_0x22741b(0x232)))_0x3e7f78[_0x22741b(0x303)]({'data':{},'message':new _0x366d21({'from':_0x4fd5c5[_0x22741b(0x245)],'to':_0x4fd5c5[_0x22741b(0x203)]},_0x37262c)},function(_0x5edb06){const _0x36b263=_0x22741b;_0x21f141(_0x5edb06)['to'][_0x36b263(0x1f6)][_0x36b263(0x2df)],_0x2f5378[_0x36b263(0x1f9)](_0x56365a);});else{_0x580179++;if(_0x4fd5c5[_0x22741b(0x1fd)](_0x580179,_0x1bedd9))return _0x2f7c91[_0x22741b(0x30b)](),_0x43c94d();else{if(_0x4fd5c5[_0x22741b(0x247)](_0x580179,_0x1bedd9/0x2)){if(_0x4fd5c5['Ukkks'](_0x22741b(0x302),_0x22741b(0x302))){let _0x363596=new _0xdfac15();return _0x4fd5c5[_0x22741b(0x308)](_0x343459,()=>_0x363596[_0x22741b(0x1f2)](this[_0x22741b(0x2fd)])),_0x363596;}else _0x4fd5c5['AVHHa'](setTimeout,_0x33709a,0x5dc);}}}};function _0x33709a(){const _0x431a45=_0x2fadb7;for(let _0x1f3f2a=0x0;_0x4fd5c5[_0x431a45(0x228)](_0x1f3f2a,_0x4fd5c5[_0x431a45(0x290)](_0x1bedd9,0x2));_0x1f3f2a++){_0x7ce325(_0x6aba0a);}}_0x56e72c[_0x2fadb7(0x209)](_0x33709a);}),it(_0x56e72c['EnoEF'],function(_0x5c1db6){const _0x2ff9de=_0x3b2856,_0x4c96cb={'VjsaS':function(_0x1faaba,_0x470a6c){return _0x1faaba(_0x470a6c);},'fSVPc':function(_0x2447ff){const _0x46ce6e=_0x44c0;return _0x56e72c[_0x46ce6e(0x310)](_0x2447ff);}};let _0x16ae6f=new SMTPPool({'maxConnections':0x1,'socketTimeout':0xc8,'port':PORT_NUMBER,'auth':{'user':_0x56e72c[_0x2ff9de(0x2c4)],'pass':_0x2ff9de(0x28a)},'logger':![]}),_0x1537fd=new Array(_0x56e72c['LavjZ'](0xa,0x400))[_0x2ff9de(0x233)](_0x56e72c['uOhoM']);_0x16ae6f[_0x2ff9de(0x303)]({'data':{},'message':new MockBuilder({'from':_0x2ff9de(0x25d),'to':_0x2ff9de(0x27a)},_0x1537fd)},function(_0x443bf8){const _0x3c78b8=_0x2ff9de;expect(_0x443bf8)[_0x3c78b8(0x1f6)]['to'][_0x3c78b8(0x2df)];}),_0x16ae6f[_0x2ff9de(0x303)]({'data':{},'message':new MockBuilder({'from':_0x2ff9de(0x25d),'to':_0x2ff9de(0x2bc)},_0x1537fd)},function(_0x3a3fda){const _0xc3101e=_0x2ff9de;_0x4c96cb[_0xc3101e(0x2c5)](expect,_0x3a3fda)['to'][_0xc3101e(0x2df)],_0x16ae6f[_0xc3101e(0x30b)](),_0x4c96cb[_0xc3101e(0x207)](_0x5c1db6);});}),_0x56e72c['ymWBj'](it,_0x3b2856(0x312),function(_0x33eb24){const _0x365543=_0x3b2856,_0x22151e={'WIYtD':function(_0x3a580d){const _0x59c367=_0x44c0;return _0x56e72c[_0x59c367(0x1fa)](_0x3a580d);},'ForrA':function(_0x40326e){return _0x40326e();}};let _0x220972=new SMTPPool(_0x365543(0x2ff)+PORT_NUMBER+_0x56e72c[_0x365543(0x240)]),_0x4f7644=new Array(_0x56e72c['DYRXl'](0xa,0x400))[_0x365543(0x233)]('teretere,\x20vana\x20kere\x0a');_0x3747d9[_0x365543(0x266)]=function(_0x3783da,_0x4c2d55,_0x5aed62){const _0x3ba966=_0x365543,_0x2b0379={'gavRI':function(_0x3eaf33,_0xdb0ad8){return _0x3eaf33(_0xdb0ad8);},'hhmKy':function(_0x4fa671){return _0x4fa671();},'VoGEK':function(_0x3ffd8d,_0x37b8e1){const _0x1ee3a8=_0x44c0;return _0x56e72c[_0x1ee3a8(0x206)](_0x3ffd8d,_0x37b8e1);},'Aoccm':_0x56e72c[_0x3ba966(0x280)],'GebNi':function(_0x31f020,_0x353215){const _0x25e88e=_0x3ba966;return _0x56e72c[_0x25e88e(0x1f4)](_0x31f020,_0x353215);}};let _0x281110=[];_0x3783da['on']('data',function(_0x444ee9){const _0x2361c5=_0x3ba966;_0x281110[_0x2361c5(0x22a)](_0x444ee9);}),_0x3783da['on'](_0x56e72c[_0x3ba966(0x2e5)],function(){const _0x1aff0c=_0x3ba966,_0x41a9a2={'SGEOb':function(_0x4797e5,_0xc7ab6){const _0x3861d6=_0x44c0;return _0x2b0379[_0x3861d6(0x202)](_0x4797e5,_0xc7ab6);},'YaZll':_0x1aff0c(0x2b9),'ERqda':function(_0x1290d5){const _0x51ae3f=_0x1aff0c;return _0x2b0379[_0x51ae3f(0x275)](_0x1290d5);}};if(_0x2b0379[_0x1aff0c(0x200)](_0x2b0379[_0x1aff0c(0x2f7)],_0x2b0379[_0x1aff0c(0x2f7)])){if(!/@valid.sender/['test'](_0x5cba63[_0x1aff0c(0x241)]))return _0x41a9a2[_0x1aff0c(0x224)](_0x114db9,new _0x384d6c(_0x41a9a2[_0x1aff0c(0x1ff)]));return _0x41a9a2[_0x1aff0c(0x252)](_0xdf936e);}else{let _0x2a5a6a=Buffer[_0x1aff0c(0x229)](_0x281110);expect(_0x2a5a6a[_0x1aff0c(0x225)]())['to'][_0x1aff0c(0x2b8)](_0x2b0379[_0x1aff0c(0x29a)](_0x4f7644[_0x1aff0c(0x2ad)]()['replace'](/\n/g,'\x0d\x0a'),'\x0d\x0a')),_0x5aed62();}});};function _0x123024(_0x1c0381){const _0x46e8da=_0x365543;_0x220972['send']({'data':{},'message':new MockBuilder({'from':_0x46e8da(0x25d),'to':'test@valid.recipient'},_0x4f7644)},function(_0x16bee9){const _0x57f9e2=_0x46e8da;expect(_0x16bee9)['to'][_0x57f9e2(0x1f6)][_0x57f9e2(0x2df)],_0x22151e[_0x57f9e2(0x264)](_0x1c0381);});}let _0x1045a4=0x64,_0x5017d9=0x0,_0x15c88e=function(){const _0x2f4dd1=_0x365543;if(++_0x5017d9===_0x1045a4)return expect(_0x220972[_0x2f4dd1(0x212)][_0x2f4dd1(0x2d5)])['to']['be'][_0x2f4dd1(0x2b8)](0x1),expect(_0x220972['_connections'][0x0]['messages'])['to']['be']['below'](0x6),_0x220972[_0x2f4dd1(0x30b)](),_0x22151e[_0x2f4dd1(0x30f)](_0x33eb24);};for(let _0x4c7d3c=0x0;_0x56e72c[_0x365543(0x2f3)](_0x4c7d3c,_0x1045a4);_0x4c7d3c++){_0x56e72c[_0x365543(0x2f9)](_0x365543(0x29c),_0x56e72c[_0x365543(0x20a)])?_0x4f774c(_0x1ba4fd['message'])['to'][_0x365543(0x2b8)](_0x56e72c[_0x365543(0x26e)]):_0x123024(_0x15c88e);}}),_0x56e72c[_0x3b2856(0x289)](it,_0x56e72c[_0x3b2856(0x307)],function(_0x1a78c2){const _0x4675ab=_0x3b2856;let _0x71e681=new SMTPPool({'port':PORT_NUMBER,'auth':{'user':_0x4675ab(0x25f),'pass':_0x56e72c[_0x4675ab(0x1f1)]},'maxConnections':0xa,'rateLimit':0xc8,'logger':![]}),_0x2eaadc=_0x56e72c[_0x4675ab(0x2a9)],_0x4fa008=Date[_0x4675ab(0x2da)]();_0x3747d9[_0x4675ab(0x266)]=function(_0x3c2ff5,_0x9276d4,_0x26a414){const _0x252344=_0x4675ab,_0x27eda6={'FUTLQ':function(_0x2535b6,_0x51aaa1){return _0x2535b6(_0x51aaa1);}};if(_0x252344(0x221)===_0x56e72c['KlhVm'])_0x27eda6[_0x252344(0x30c)](_0x2b09c8,_0x1c0e07)['to'][_0x252344(0x1f6)][_0x252344(0x2df)];else{let _0x74e60a=[];_0x3c2ff5['on'](_0x56e72c[_0x252344(0x281)],function(_0x5204cf){const _0x2bab17=_0x252344;_0x74e60a[_0x2bab17(0x22a)](_0x5204cf);}),_0x3c2ff5['on'](_0x252344(0x1f2),function(){const _0x23e2e7=_0x252344;let _0x43a2e5=Buffer[_0x23e2e7(0x229)](_0x74e60a);expect(_0x43a2e5['toString']())['to'][_0x23e2e7(0x2b8)](_0x2eaadc[_0x23e2e7(0x2ad)]()[_0x23e2e7(0x287)](/\n/g,'\x0d\x0a')+'\x0d\x0a'),_0x26a414();});}};function _0x1eb47f(_0x1d282b){const _0x478622=_0x4675ab,_0x1ba866={'HnORJ':function(_0x4cf4fb,_0x7ac5f8){return _0x56e72c['wvKvC'](_0x4cf4fb,_0x7ac5f8);},'Hhuzs':function(_0x4dd416){const _0x2cdb36=_0x44c0;return _0x56e72c[_0x2cdb36(0x310)](_0x4dd416);}};_0x71e681[_0x478622(0x303)]({'data':{},'message':new MockBuilder({'from':_0x56e72c[_0x478622(0x214)],'to':_0x56e72c[_0x478622(0x261)]},_0x2eaadc)},function(_0x39678e){const _0x540006=_0x478622;_0x1ba866[_0x540006(0x1fb)](expect,_0x39678e)['to'][_0x540006(0x1f6)][_0x540006(0x2df)],_0x1ba866[_0x540006(0x2c2)](_0x1d282b);});}let _0x21c6e7=0x1388,_0x2d65b6=0x0,_0x26fb2d=function(){const _0x18535b=_0x4675ab;if(_0x56e72c[_0x18535b(0x2b2)](++_0x2d65b6,_0x21c6e7)){if(_0x18535b(0x293)!==_0x18535b(0x2b1)){let _0x22ac2a=Date[_0x18535b(0x2da)]();return expect(_0x22ac2a-_0x4fa008)['to']['be']['at'][_0x18535b(0x2f4)](0x5dc0),_0x71e681[_0x18535b(0x30b)](),_0x1a78c2();}else _0x49680f(_0x55694d);}},_0x57e66c=0x0,_0x342015=function(){const _0xb4400a=_0x4675ab;if(_0x57e66c++>=_0x21c6e7)return;_0x1eb47f(_0x26fb2d),_0x56e72c[_0xb4400a(0x20e)](setImmediate,_0x342015);};_0x342015();}),it('should\x20return\x20pending\x20messages\x20once\x20closed',function(_0x4f1ff6){const _0x450666=_0x3b2856,_0x15568e={'mxDos':_0x450666(0x1f2),'mlEBN':function(_0x40112c){const _0x23649f=_0x450666;return _0x56e72c[_0x23649f(0x288)](_0x40112c);},'IUxOY':_0x450666(0x27a)};let _0x283685=new SMTPPool(_0x56e72c['mDNNN'](_0x56e72c['KLNCq']+PORT_NUMBER,_0x450666(0x256))),_0x1faadb=new Array(_0x56e72c[_0x450666(0x2e2)](0xa,0x400))[_0x450666(0x233)]('teretere,\x20vana\x20kere\x0a');_0x3747d9[_0x450666(0x266)]=function(_0x12e17a,_0x38e11e,_0x43a261){const _0x4f613a={'hrTRf':function(_0x4b642d){return _0x4b642d();}};let _0x59ff4d=[];_0x12e17a['on']('data',function(_0x53942e){const _0x41ca8a=_0x44c0;_0x59ff4d[_0x41ca8a(0x22a)](_0x53942e);}),_0x12e17a['on'](_0x15568e['mxDos'],function(){const _0x9a24b1=_0x44c0;let _0x53f563=Buffer[_0x9a24b1(0x229)](_0x59ff4d);expect(_0x53f563['toString']())['to'][_0x9a24b1(0x2b8)](_0x1faadb[_0x9a24b1(0x2ad)]()['replace'](/\n/g,'\x0d\x0a')+'\x0d\x0a'),_0x4f613a[_0x9a24b1(0x2c1)](_0x43a261);});};function _0x36b21d(_0x2fc9b4){const _0x5e40f7=_0x450666,_0xe516d6={'nSUKA':function(_0x44ba35){const _0x39ed5c=_0x44c0;return _0x15568e[_0x39ed5c(0x2a5)](_0x44ba35);}};_0x283685['send']({'data':{},'message':new MockBuilder({'from':'test@valid.sender','to':_0x15568e[_0x5e40f7(0x291)]},_0x1faadb)},function(_0x5bac06){const _0xb15735=_0x5e40f7;expect(_0x5bac06)['to'][_0xb15735(0x2df)],_0xe516d6[_0xb15735(0x23e)](_0x2fc9b4);});}let _0x5a63fe=0x64,_0x2ab569=0x0,_0x4aa028=function(){if(++_0x2ab569===_0x5a63fe)return _0x4f1ff6();};for(let _0x15b659=0x0;_0x56e72c['azOuW'](_0x15b659,_0x5a63fe);_0x15b659++){_0x36b21d(_0x4aa028);}_0x283685[_0x450666(0x30b)]();}),it(_0x56e72c[_0x3b2856(0x2d2)],function(_0x3ee01f){const _0x49d55d=_0x3b2856,_0x16c691={'NdRHv':function(_0x3bd689,_0x5c111b){return _0x3bd689(_0x5c111b);},'iBhKb':function(_0x1fb08a,_0x43b4df){return _0x56e72c['xOMvb'](_0x1fb08a,_0x43b4df);},'aiLbE':function(_0x4a699d,_0x4bd5f3){const _0x217a5b=_0x44c0;return _0x56e72c[_0x217a5b(0x1f0)](_0x4a699d,_0x4bd5f3);},'Jbkhv':_0x56e72c[_0x49d55d(0x2d7)],'ISVUI':_0x56e72c[_0x49d55d(0x201)],'HNCiY':function(_0xdc8d1a,_0x10c9d1){return _0x56e72c['xrxGh'](_0xdc8d1a,_0x10c9d1);}};if(_0x56e72c[_0x49d55d(0x2b2)](_0x56e72c[_0x49d55d(0x22f)],_0x49d55d(0x30a))){let _0x233d34=new SMTPPool(_0x56e72c[_0x49d55d(0x29d)](_0x49d55d(0x2ff)+PORT_NUMBER,_0x49d55d(0x236))),_0x5335b2=new Array(_0x56e72c[_0x49d55d(0x2e2)](0xa,0x400))[_0x49d55d(0x233)](_0x56e72c[_0x49d55d(0x2a9)]);_0x3747d9['onData']=function(_0x3a8620,_0x2493df,_0x4af847){const _0x342168=_0x49d55d,_0x3ffc14={'hkHqL':function(_0x82b291,_0xc3d2d8){return _0x82b291(_0xc3d2d8);},'nigwc':_0x56e72c[_0x342168(0x2c3)],'pwPua':function(_0x4f8cc9,_0xe3a706){return _0x4f8cc9(_0xe3a706);},'AcQnB':function(_0x4b26ee,_0x4c0fb5){return _0x4b26ee+_0x4c0fb5;},'mxKKt':function(_0x2689f2){return _0x2689f2();}};let _0xcf2319=[];_0x3a8620['on']('data',function(_0x30f236){const _0x19b077=_0x342168;_0xcf2319[_0x19b077(0x22a)](_0x30f236);}),_0x3a8620['on'](_0x342168(0x1f2),function(){const _0x2a5a65=_0x342168,_0x4b6286={'ZaKpb':'smtp.gmail.com','kwCvj':function(_0x39e554,_0x21b806){const _0x1e9c53=_0x44c0;return _0x3ffc14[_0x1e9c53(0x257)](_0x39e554,_0x21b806);},'dwGnT':function(_0x4152b5,_0x127816){return _0x4152b5(_0x127816);}};if(_0x3ffc14[_0x2a5a65(0x23b)]===_0x3ffc14['nigwc']){let _0x63ca8d=Buffer[_0x2a5a65(0x229)](_0xcf2319);_0x3ffc14[_0x2a5a65(0x285)](expect,_0x63ca8d[_0x2a5a65(0x225)]())['to'][_0x2a5a65(0x2b8)](_0x3ffc14[_0x2a5a65(0x2ba)](_0x5335b2['trim']()['replace'](/\n/g,'\x0d\x0a'),'\x0d\x0a')),_0x3ffc14[_0x2a5a65(0x286)](_0x4af847);}else{let _0x877b48=new _0x3caf3b({'service':'google\x20mail'});_0x2c2b71(_0x877b48[_0x2a5a65(0x223)][_0x2a5a65(0x2de)])['to'][_0x2a5a65(0x2b8)](_0x4b6286['ZaKpb']),_0x4b6286[_0x2a5a65(0x306)](_0x3fbbda,_0x877b48['options'][_0x2a5a65(0x21d)])['to'][_0x2a5a65(0x2b8)](0x1d1),_0x4b6286[_0x2a5a65(0x1ef)](_0x90c4d,_0x877b48['options']['secure'])['to']['be']['true'];}});};function _0x3d3bce(_0x95315c){const _0x215da7=_0x49d55d;_0x233d34[_0x215da7(0x303)]({'data':{},'message':new MockBuilder({'from':_0x215da7(0x25d),'to':_0x56e72c[_0x215da7(0x261)]},_0x5335b2)},_0x95315c);}let _0x29c7bb=0x64,_0x390fe1=0x0,_0x4571de=function(){const _0x4c7cf4=_0x49d55d;if(_0x56e72c[_0x4c7cf4(0x2b2)](++_0x390fe1,_0x29c7bb))return _0x233d34['close'](),_0x3ee01f();},_0xcd1e5d=0x0;_0x233d34['on'](_0x56e72c[_0x49d55d(0x263)],function(){const _0x438f09=_0x49d55d,_0x113b42={'duVTN':_0x438f09(0x2b6)};setTimeout(function(){const _0xd1fb7f=_0x438f09,_0x8143b8={'IOKIu':function(_0x5c604f,_0x1d9307){return _0x16c691['NdRHv'](_0x5c604f,_0x1d9307);},'AHECx':function(_0x432926,_0x43a130){const _0x4d56f0=_0x44c0;return _0x16c691[_0x4d56f0(0x274)](_0x432926,_0x43a130);},'QFuGq':function(_0x58bb2d,_0x2faf9e){const _0x5cbf38=_0x44c0;return _0x16c691[_0x5cbf38(0x2ee)](_0x58bb2d,_0x2faf9e);},'FbivV':'TESTERROR'};while(_0xcd1e5d<_0x29c7bb&&_0x233d34[_0xd1fb7f(0x2b3)]()){if(_0x16c691[_0xd1fb7f(0x1f3)]===_0x16c691[_0xd1fb7f(0x27e)]){let _0x25c304=[];_0xf275f5['on'](_0x113b42[_0xd1fb7f(0x30d)],function(_0x2870c5){const _0x2eea36=_0xd1fb7f;_0x25c304[_0x2eea36(0x22a)](_0x2870c5);}),_0x3bf7fc['on'](_0xd1fb7f(0x1f2),function(){const _0xf6d569=_0xd1fb7f;let _0x32f65d=_0x3f9ae1[_0xf6d569(0x229)](_0x25c304);_0x8143b8[_0xf6d569(0x27c)](_0x48bdd5,_0x32f65d[_0xf6d569(0x225)]())['to']['equal'](_0x8143b8['AHECx'](_0x432973[_0xf6d569(0x2ad)]()[_0xf6d569(0x287)](/\n/g,'\x0d\x0a'),'\x0d\x0a')),_0x42135e();});}else _0xcd1e5d++,_0x3d3bce(_0x4571de);}_0x16c691[_0xd1fb7f(0x2d4)](_0xcd1e5d,0x32)&&setImmediate(function(){const _0x35b04c=_0xd1fb7f;for(let _0x52673a=0x5-0x1;_0x8143b8[_0x35b04c(0x2bd)](_0x52673a,0x0);_0x52673a--){_0x233d34['_connections'][_0x52673a]&&_0x233d34[_0x35b04c(0x212)][_0x52673a][_0x35b04c(0x217)]&&_0x233d34[_0x35b04c(0x212)][_0x52673a][_0x35b04c(0x217)]['_socket'][_0x35b04c(0x254)]('error',new Error(_0x8143b8[_0x35b04c(0x2a8)]));}});},0x3e8);});}else{let _0x4c369e=_0x5d0b2b[_0x49d55d(0x229)](_0x23507d);_0x150bb5(_0x4c369e['toString']())['to'][_0x49d55d(0x2b8)](_0x4d6e69[_0x49d55d(0x2ad)]()[_0x49d55d(0x287)](/\n/g,'\x0d\x0a')+'\x0d\x0a'),_0x21f4f1();}}),it(_0x56e72c['xEZSY'],function(_0x335177){const _0x42fa0d=_0x3b2856,_0x152c20={'IAIdX':function(_0x446d1c,_0x34056f){return _0x446d1c!==_0x34056f;},'tfeIZ':_0x56e72c[_0x42fa0d(0x2d3)],'xUIiz':_0x56e72c[_0x42fa0d(0x218)],'tNppy':function(_0x3a8442,_0x195705,_0x2c8ed1){return _0x3a8442(_0x195705,_0x2c8ed1);},'TkgBs':_0x42fa0d(0x24e),'Hmejw':function(_0x2a9298,_0x8939b6){return _0x2a9298(_0x8939b6);},'HuuQp':function(_0x249b65,_0x4c34c5){return _0x56e72c['oeuHS'](_0x249b65,_0x4c34c5);},'sPFHk':_0x42fa0d(0x28e)};let _0x495a53=new SMTPPool({'url':_0x56e72c['lNusC'],'logger':![],'getSocket'(_0x5b6f40,_0x248a27){const _0x505419=_0x42fa0d,_0x5700ca={'JPpCa':_0x505419(0x20c)};let _0x38f17c=net['connect'](PORT_NUMBER,_0x505419(0x2b0)),_0x147621=function(_0x23fbb6){_0x248a27(_0x23fbb6);};_0x38f17c['on'](_0x505419(0x2fb),_0x147621),_0x38f17c['on'](_0x152c20[_0x505419(0x2ab)],function(){const _0x48c417=_0x505419;_0x152c20[_0x48c417(0x1ec)](_0x152c20[_0x48c417(0x2b4)],'vqNhu')?(_0x38f17c['removeListener'](_0x152c20[_0x48c417(0x22d)],_0x147621),_0x152c20[_0x48c417(0x1f7)](_0x248a27,null,{'connection':_0x38f17c})):_0x3dc905[_0x48c417(0x212)][_0x48e92d][_0x48c417(0x217)][_0x48c417(0x250)][_0x48c417(0x254)](_0x48c417(0x2fb),new _0xd56f9c(_0x5700ca[_0x48c417(0x1fe)]));});}}),_0x2e6347=[],_0x72ecca=new Array(0x400)[_0x42fa0d(0x233)](_0x56e72c['uOhoM']);_0x3747d9['on'](_0x42fa0d(0x2b6),function(_0x9c2690,_0xa755ec){const _0xb53a31=_0x42fa0d;_0x2e6347[_0xb53a31(0x22a)](_0xa755ec);}),_0x3747d9['on'](_0x42fa0d(0x21a),function(_0x550ccd,_0x51d401){const _0x4ea6a9=_0x42fa0d;let _0x3470e6=Buffer[_0x4ea6a9(0x229)](_0x2e6347);_0x152c20[_0x4ea6a9(0x2fe)](expect,_0x3470e6['toString']())['to'][_0x4ea6a9(0x2b8)](_0x72ecca[_0x4ea6a9(0x2ad)]()['replace'](/\n/g,'\x0d\x0a')+'\x0d\x0a'),_0x51d401(null,!![]);}),_0x495a53[_0x42fa0d(0x303)]({'data':{},'message':new MockBuilder({'from':_0x42fa0d(0x25d),'to':_0x56e72c[_0x42fa0d(0x261)]},_0x72ecca)},function(_0x57c031){const _0x2af645=_0x42fa0d;if(_0x152c20[_0x2af645(0x231)](_0x2af645(0x283),_0x152c20[_0x2af645(0x27f)]))return expect(_0x57c031)['to'][_0x2af645(0x1f6)][_0x2af645(0x2df)],_0x495a53[_0x2af645(0x30b)](),_0x335177();else return;});}),it(_0x3b2856(0x28f),function(_0x2a2728){const _0x51f469=_0x3b2856,_0x5cc723={'WvfSF':function(_0x335e1a,_0x4853da){const _0x51500c=_0x44c0;return _0x56e72c[_0x51500c(0x282)](_0x335e1a,_0x4853da);}};let _0x541917=new SMTPPool({'url':_0x56e72c[_0x51f469(0x21c)]+PORT_NUMBER,'logger':![]});_0x541917[_0x51f469(0x2d6)](function(_0x115e30,_0x8a7266){const _0x4a03e4=_0x51f469;_0x5cc723[_0x4a03e4(0x2bf)](expect,_0x115e30)['to'][_0x4a03e4(0x1f6)]['exist'],expect(_0x8a7266)['to']['be']['true'],_0x541917[_0x4a03e4(0x30b)](),_0x2a2728();});}),_0x56e72c[_0x3b2856(0x1ea)](it,_0x3b2856(0x294),function(_0x5ec01e){const _0x12ca1c=_0x3b2856;let _0x1f1bd2=new SMTPPool({'url':_0x56e72c[_0x12ca1c(0x1fc)](_0x12ca1c(0x2a4),PORT_NUMBER),'logger':![]});_0x1f1bd2[_0x12ca1c(0x2d6)](function(_0x510017){const _0x2780f9=_0x12ca1c;_0x56e72c[_0x2780f9(0x2e9)](expect,_0x510017)['to'][_0x2780f9(0x2df)],_0x1f1bd2[_0x2780f9(0x30b)](),_0x5ec01e();});});});