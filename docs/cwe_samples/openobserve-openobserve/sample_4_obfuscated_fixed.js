'use strict';const _0xbe80b8=_0x2d3d;(function(_0x2e69b1,_0x4e9a3d){const _0x3d2b09=_0x2d3d,_0x5dac78=_0x2e69b1();while(!![]){try{const _0x1e505e=-parseInt(_0x3d2b09(0x121))/0x1*(-parseInt(_0x3d2b09(0x157))/0x2)+parseInt(_0x3d2b09(0x16d))/0x3*(parseInt(_0x3d2b09(0x111))/0x4)+-parseInt(_0x3d2b09(0x12a))/0x5*(parseInt(_0x3d2b09(0x104))/0x6)+-parseInt(_0x3d2b09(0x166))/0x7+-parseInt(_0x3d2b09(0xe6))/0x8*(-parseInt(_0x3d2b09(0x110))/0x9)+-parseInt(_0x3d2b09(0xd6))/0xa*(-parseInt(_0x3d2b09(0xdf))/0xb)+-parseInt(_0x3d2b09(0xe5))/0xc;if(_0x1e505e===_0x4e9a3d)break;else _0x5dac78['push'](_0x5dac78['shift']());}catch(_0x1f18b0){_0x5dac78['push'](_0x5dac78['shift']());}}}(_0x51d5,0x266ae));function _0x51d5(){const _0x19f88d=['BHhGw','FaRFf','lohXX','plpkv','1089583vwPNLv','GZYiF','addUser','{Client\x20Secret}','hkIVC','Mghph','107400YpVVuz','24XrxHRu','GvrPf','buildXOAuth2Token','asKUY','test@example.com','now','getToken','Bpupk','dQalM','equal','Cjzoq','QAVQA','xFLeJ','1xcXvQ4lQ3rwreDTOWdoJeEEy7gMxXqH0jw0WfBx+8IIJU69xstOyT7FRFDvA1yT\x0a','should\x20generate\x20a\x20fresh\x20access\x20token\x20with\x20custom\x20method','EYjKA','vPnja','mDspo','ilDgZ','viUGY','zKTuK','should\x20sign\x20payload','../../lib/xoauth2','should\x20generate\x20a\x20fresh\x20access\x20token\x20after\x20timeout','GjKIz','vqkiY','9gcuttPTegY6aqKPhGthIYX2MwSDMM+X0ri6m0q2JtqjclAjG7yG4CjbtGTt/UlE\x0a','PGkCe','ucWfc','oQAcx','6WIxRPa','should\x20get\x20an\x20existing\x20access\x20token,\x20no\x20timeout','not','OMsIz','EbSDH','oatFJguqAGOz7rigBq6iPfeQOCWpmprNAuah++cCgYB1gcybOT59TnA7mwlsh8Qf\x0a','d+0Jd/FVwCyyx8HTiF1FF8QZYQeAXxbXJgLBuCsMQJghlcpBEzWkscBR3Ap1U0Zi\x0a','expect','yxllG','hvwGz','expires','UtVNQ','540423lORWLv','1169488osBkNH','dXkjQ','bbb','CKvlG','HGJiy','ANUFz','MDEwD','VLCyE','fbJHc','IvcYZ','token','abc','FFMCG','suUxk','config','CSvwi','52883zEUYbe','MMtUt','XUSVv','gGToT','should\x20generate\x20a\x20fresh\x20access\x20token','tqfSn','includeStack','QglGh','wVPAGtjkuTXtd1Cy58m7PqziB7NNWMcsMGj+lWrTPZ6hCHIBcAImKEPpd+Y9vGJX\x0a','1155605oddRov','uuSqU','YYLWB','anIsA','wXOpdKrvkjZbT4AzcNrlGtRl3l7dEVXTu+dN7/ZieJRu7zaStlAQZkIyP9O3DdQ3\x0a','saladus','jRLvv','LzBTC','nEVYZ','AkTbb','NvgSF','NFjld','hNPcJ','should\x20convert\x20access\x20token\x20to\x20XOAuth2\x20token','yUATN','start','4oat8wrPZGCblaA6rNkRUVbc/+Vw0stnuJ/BLHbPxyBs6w495yBSjBqUWZMvljNz\x0a','amssNShqjE9lu5YDi6BTKwKBgQCuIlKGViLfsKjrYSyHnajNWPxiUhIgGBf4PI0T\x0a','should\x20get\x20an\x20existing\x20access\x20token','ljnAl','ByPbn','s6Ozs020Sh4U8TZQuonJ4HhBbNbiTtdDgNObPK1uNadeNtgW5fOeIRdKN6iDjVeN\x0a','WozyL','ITKoK','should\x20fail\x20generating\x20a\x20fresh\x20access\x20token\x20with\x20custom\x20method','YYmBI','SMlGi','KygwE','http://localhost:','dSDPx','CIfDk','pw8wj2ACxl4ojNYqWPxegaLd4DpRbtW6Tqe9e47FTnU7hIggR6QmFAWAXI+09l8y\x0a','ooLnt','rIcetQpfrJ1cAqz6Ng0pD0mh77vQ13WG1BBmDFa2A9BuzLoBituf4g==\x0a','XwTkh','chai','exist','WjAMm','clrLF','InAVh','GeCEh','uWzli','JthmI','EkhqK','KZwdB','2KXpVXS','GuUWA','stop','ovSxa','zzz','dXNlcj10ZXN0QGV4YW1wbGUuY29tAWF1dGg9QmVhcmVyIGJiYgEB','rNRxgfiwgSb50Gw4NAQaDIxr/DJPdLhgnpY6UQIDAQABAoIBAE+tfzWFjJbgJ0ql\x0a','SmzuO','YCoWa','m9/aK0ECgYEA9oVIVAd0enjSVIyAZNbw11ElidzdtBkeIJdsxqhmXzeIFZbB39Gd\x0a','ZsDKU','dXNlcj10ZXN0QGV4YW1wbGUuY29tAWF1dGg9QmVhcmVyIGFiYwEB','-----BEGIN\x20RSA\x20PRIVATE\x20KEY-----\x0a','AnhqE','UDSbR','1589140iIpGzG','ThEwn','DMXIf','OoYNt','iciCH','-----END\x20RSA\x20PRIVATE\x20KEY-----','puwne','3FBvdLR','{Client\x20ID}','./server','RTDpx','exLSO','fail','BhKnz','wOGgP','dzKexNGo9gU/x9SQbuyOmuauvAYhXZxeLpv+lEfsZTqqrvPUGeBiEQcCgYEA8poG\x0a','BcIaY','bbyIw','kQtZI','IJzML','ilpvR','bmBSO','jwtSignRS256','10EujWPT','fnHtD','jJxDE','adHnk','iybCe'];_0x51d5=function(){return _0x19f88d;};return _0x51d5();}function _0x2d3d(_0x4c6e10,_0x1ad885){const _0x51d5d8=_0x51d5();return _0x2d3d=function(_0x2d3d66,_0x4807f5){_0x2d3d66=_0x2d3d66-0xc8;let _0x198d1b=_0x51d5d8[_0x2d3d66];return _0x198d1b;},_0x2d3d(_0x4c6e10,_0x1ad885);}const chai=require(_0xbe80b8(0x14d)),expect=chai[_0xbe80b8(0x10b)],XOAuth2=require(_0xbe80b8(0xfc)),mockServer=require(_0xbe80b8(0xc8));chai[_0xbe80b8(0x11f)][_0xbe80b8(0x127)]=!![],describe('XOAuth2\x20tests',function(){const _0x211b4d=_0xbe80b8,_0x2312f2={'PGkCe':'abc','bbyIw':_0x211b4d(0xe2),'GZYiF':'saladus','ovSxa':function(_0x355592,_0x2263bb){return _0x355592+_0x2263bb;},'jRLvv':_0x211b4d(0x146),'uuSqU':function(_0x3fc214,_0x45841c){return _0x3fc214===_0x45841c;},'IJzML':function(_0x1f0d55,_0xa9ac96){return _0x1f0d55(_0xa9ac96);},'SMlGi':_0x211b4d(0x15c),'LTchm':function(_0x208ad0,_0x3e9b4f){return _0x208ad0(_0x3e9b4f);},'CIfDk':function(_0x4c3d0f,_0x4dde66){return _0x4c3d0f(_0x4dde66);},'cmKHM':function(_0x304aa9){return _0x304aa9();},'uWzli':function(_0x15bf69,_0x1ee450){return _0x15bf69+_0x1ee450;},'wOGgP':_0x211b4d(0xfe),'YkkVM':'OhjyE','dXkjQ':_0x211b4d(0x16e),'OoYNt':'test@example.com','yxllG':'zzz','clrLF':function(_0x4f4cca,_0x1637ac,_0x4584fe){return _0x4f4cca(_0x1637ac,_0x4584fe);},'HjrZu':function(_0x994856){return _0x994856();},'dSDPx':function(_0x1a1b0b,_0x3efb3b){return _0x1a1b0b+_0x3efb3b;},'CKvlG':function(_0x288652,_0x2830d1){return _0x288652(_0x2830d1);},'ByPbn':function(_0x5d4d44,_0x39a7ff){return _0x5d4d44!==_0x39a7ff;},'KygwE':_0x211b4d(0xc9),'IvcYZ':function(_0xba6568){return _0xba6568();},'GvrPf':function(_0x596da4,_0x3fcab7){return _0x596da4+_0x3fcab7;},'YCoWa':_0x211b4d(0x120),'fnHtD':function(_0x4b6756,_0x9e1ee2){return _0x4b6756+_0x9e1ee2;},'WozyL':function(_0x1380fd,_0x567ffe,_0x5da8ec){return _0x1380fd(_0x567ffe,_0x5da8ec);},'vPnja':function(_0x48c421,_0x3a178c){return _0x48c421+_0x3a178c;},'sSeNI':_0x211b4d(0x11b),'BhKnz':function(_0xa9ae84,_0x201aab){return _0xa9ae84+_0x201aab;},'BcIaY':function(_0x12cc96,_0xba5bd5){return _0x12cc96+_0xba5bd5;},'kCVkL':function(_0x1596d2,_0x390f83){return _0x1596d2+_0x390f83;},'ilpvR':function(_0x573667,_0xe6a984){return _0x573667+_0xe6a984;},'ooLnt':function(_0x57af03,_0x1112fe){return _0x57af03+_0x1112fe;},'ilDgZ':function(_0x39916d,_0xd80169){return _0x39916d+_0xd80169;},'lapXT':_0x211b4d(0x163),'EkhqK':_0x211b4d(0xf3),'Bpupk':'RXY2yt9K5s6SKken/ebMfmZR+03ND4UFsDzkz0FfgcjrkXmrMF5Eh5UXX/+9YHeU\x0a','hkIVC':_0x211b4d(0x15d),'EbSDH':_0x211b4d(0x13f),'InAVh':'p4EEQ8WsNja9oBpttMU6YYUchGxo1gujN8hmfDdXUQx3k5Xwx4KA68dveJ8GasIt\x0a','nEVYZ':_0x211b4d(0x10a),'puwne':_0x211b4d(0x160),'yRrEA':'bjtAVclVbq5mLsI1j22ER2rHA4Ygkn6vlLghK3ZMPxZa57oJtmL3oP0RvOjE4zRV\x0a','HGJiy':_0x211b4d(0xce),'FlNgh':'WVnykWuTmCe0bMmvYDsWpAEiZnFLDaKcSbz3O7RMGbPy1cypmqSinIYUpURBT/WY\x0a','GeCEh':_0x211b4d(0x129),'wjlQE':_0x211b4d(0x109),'MDEwD':'WMlSZwKBgQDslGeLUnkW0bsV5EG3AKRUyPKz/6DVNuxaIRRhOeWVKV101claqXAT\x0a','UDSbR':_0x211b4d(0x12e),'xqffb':_0x211b4d(0x16b),'VLCyE':'payload','SmzuO':'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJzb21lIjoicGF5bG9hZCJ9.yBo28P5qE8t8yMkN0hC6uWstUAGh8RGW-zLe1NHdtit8ZVlAEdnhXbZvjGEfDWjOeWe1aZ2eZ65i83awWsx02G9HDsI1xMOFTHpviSHLIWnOf1D2hqJxm0On9zYRjd6oFxuRlmJtI9PIDlMJltG7K3leqReLLC6ZOAYL1Au0WY5swdG2eA6Oi83BTEckLj9c-0TYYRYtyRSG9o298Iuc8JL2KhrAbM8d62JgAPuI3hN_NgEtxs36bidt3SHbuWSszAdt1lHR-bFCZ-kXy_DAGlGiYRHRNyvsLR_q_v4GhV2oVi3WSPR816UhHrTryA0NlbanACb8T22bJGRQ708m_g','MMtUt':_0x211b4d(0x105),'ucWfc':_0x211b4d(0x125),'oQAcx':function(_0x2eaed2,_0x4a0a41,_0x597757){return _0x2eaed2(_0x4a0a41,_0x597757);},'Cjzoq':function(_0x50003f,_0x152e4c,_0x6b29b0){return _0x50003f(_0x152e4c,_0x6b29b0);}};this['timeout'](0x2710);let _0x59e891,_0x492bc0={},_0x2aab2f=0x2321;beforeEach(function(_0x44f06e){const _0x48412c=_0x211b4d;_0x59e891=mockServer({'port':_0x2aab2f,'onUpdate':function(_0x129dec,_0x1ff1cc){_0x492bc0[_0x129dec]=_0x1ff1cc;}}),_0x59e891[_0x48412c(0xe1)](_0x48412c(0xea),_0x48412c(0x12f)),_0x59e891[_0x48412c(0x139)](_0x44f06e);}),afterEach(function(_0x559e58){const _0x46ae21=_0x211b4d;_0x59e891[_0x46ae21(0x159)](_0x559e58);}),it(_0x211b4d(0x13c),function(_0x47d989){const _0x1dc41f=_0x211b4d,_0x4f0ab0={'uwlQy':function(_0x2e65ce,_0x38917d){return _0x2e65ce(_0x38917d);},'jRdHq':_0x2312f2[_0x1dc41f(0x101)]};let _0x246b9c=new XOAuth2({'user':'test@example.com','clientId':_0x1dc41f(0x16e),'clientSecret':_0x2312f2[_0x1dc41f(0xd0)],'refreshToken':_0x2312f2[_0x1dc41f(0xe0)],'accessUrl':_0x2312f2[_0x1dc41f(0x15a)](_0x2312f2[_0x1dc41f(0x130)],_0x2aab2f)+'/','accessToken':_0x2312f2['PGkCe'],'timeout':0xe10});_0x246b9c[_0x1dc41f(0xec)](![],function(_0x12365d,_0x3f8b9d){const _0x5223ae=_0x1dc41f;expect(_0x12365d)['to']['not'][_0x5223ae(0x14e)],_0x4f0ab0['uwlQy'](expect,_0x3f8b9d)['to']['equal'](_0x4f0ab0['jRdHq']),_0x47d989();});}),it(_0x211b4d(0x137),function(){const _0x49af38=_0x211b4d,_0x8a6e6c={'siMur':_0x49af38(0x15b)};if(_0x2312f2[_0x49af38(0x12b)](_0x49af38(0xf5),'EYjKA')){let _0x436c8d=new XOAuth2({'user':_0x49af38(0xea),'accessToken':_0x49af38(0x11c)});_0x2312f2[_0x49af38(0xd2)](expect,_0x436c8d[_0x49af38(0xe8)]())['to']['equal']('dXNlcj10ZXN0QGV4YW1wbGUuY29tAWF1dGg9QmVhcmVyIGFiYwEB'),expect(_0x436c8d[_0x49af38(0xe8)](_0x49af38(0x113)))['to']['equal'](_0x2312f2[_0x49af38(0x144)]);}else _0x2944db(null,_0x8a6e6c['siMur']);}),it(_0x2312f2[_0x211b4d(0x122)],function(_0x49584f){const _0x4cec14=_0x211b4d,_0x2d8e22={'zKTuK':function(_0x4b1b18,_0x2def55){return _0x4b1b18(_0x2def55);},'bmBSO':_0x2312f2[_0x4cec14(0x101)],'WjAMm':_0x4cec14(0x16e),'ThEwn':_0x4cec14(0x12f),'AkTbb':function(_0x17fed6,_0x1f4e8d){const _0x362ea4=_0x4cec14;return _0x2312f2[_0x362ea4(0x153)](_0x17fed6,_0x1f4e8d);},'NvgSF':function(_0x119dd3,_0x4f1930){return _0x119dd3+_0x4f1930;}};if(_0x2312f2[_0x4cec14(0xcd)]===_0x2312f2['YkkVM']){let _0x8586eb=new _0x5b6415({'user':'test@example.com','clientId':_0x2d8e22[_0x4cec14(0x14f)],'clientSecret':_0x4cec14(0xe2),'refreshToken':_0x2d8e22[_0x4cec14(0x167)],'accessUrl':_0x2d8e22[_0x4cec14(0x133)](_0x2d8e22[_0x4cec14(0x134)](_0x4cec14(0x146),_0x275f25),'/'),'accessToken':_0x4cec14(0x11c)});_0x8586eb[_0x4cec14(0xec)](![],function(_0x4005f1,_0x4021e3){const _0xe5b2a6=_0x4cec14;_0x2d8e22[_0xe5b2a6(0xfa)](_0x14d0ef,_0x4005f1)['to'][_0xe5b2a6(0x106)][_0xe5b2a6(0x14e)],_0x1ba4fc(_0x4021e3)['to'][_0xe5b2a6(0xef)](_0x2d8e22[_0xe5b2a6(0xd4)]),_0x1cce53();});}else{let _0x1d868d=new XOAuth2({'user':_0x4cec14(0xea),'clientId':_0x2312f2['dXkjQ'],'clientSecret':_0x2312f2[_0x4cec14(0xd0)],'refreshToken':_0x2312f2[_0x4cec14(0xe0)],'accessUrl':_0x2312f2[_0x4cec14(0x153)](_0x2312f2[_0x4cec14(0x130)]+_0x2aab2f,'/'),'accessToken':_0x2312f2['PGkCe']});_0x1d868d[_0x4cec14(0xec)](![],function(_0x422fca,_0x59c081){const _0xc4ef9a=_0x4cec14;_0x2312f2['LTchm'](expect,_0x422fca)['to'][_0xc4ef9a(0x106)]['exist'],_0x2312f2['CIfDk'](expect,_0x59c081)['to'][_0xc4ef9a(0xef)](_0xc4ef9a(0x11c)),_0x2312f2['cmKHM'](_0x49584f);});}}),_0x2312f2[_0x211b4d(0x140)](it,_0x2312f2[_0x211b4d(0x102)],function(_0x1078c8){const _0x30fb51=_0x211b4d,_0x8b8b16={'ITKoK':function(_0x213d23,_0x457b3f){return _0x213d23(_0x457b3f);},'FFMCG':_0x2312f2[_0x30fb51(0x169)],'Mghph':function(_0x235c2a){return _0x235c2a();},'xFLeJ':_0x2312f2['PGkCe'],'mDspo':function(_0x4da272,_0xc4d5ee){return _0x4da272(_0xc4d5ee);},'asKUY':_0x30fb51(0x162)};if(_0x30fb51(0x161)!==_0x30fb51(0x158)){let _0x51adf6=new XOAuth2({'user':_0x30fb51(0xea),'clientId':_0x30fb51(0x16e),'clientSecret':_0x2312f2[_0x30fb51(0xd0)],'refreshToken':_0x30fb51(0x12f),'accessUrl':_0x2312f2['jRLvv']+_0x2aab2f+'/','timeout':0xe10});_0x51adf6[_0x30fb51(0xec)](![],function(_0x2e10d7,_0x1e6dfd){const _0x87c303=_0x30fb51;_0x8b8b16[_0x87c303(0x141)](expect,_0x2e10d7)['to'][_0x87c303(0x106)][_0x87c303(0x14e)],_0x8b8b16['ITKoK'](expect,_0x1e6dfd)['to']['equal'](_0x492bc0[_0x8b8b16[_0x87c303(0x11d)]]),_0x8b8b16[_0x87c303(0xe4)](_0x1078c8);});}else{let _0x5145b1=new _0x2d3fb7({'user':_0x8b8b16[_0x30fb51(0x11d)],'accessToken':_0x8b8b16[_0x30fb51(0xf2)]});_0x8b8b16[_0x30fb51(0xf7)](_0x3b45d2,_0x5145b1[_0x30fb51(0xe8)]())['to'][_0x30fb51(0xef)](_0x8b8b16[_0x30fb51(0xe9)]),_0x2379c0(_0x5145b1[_0x30fb51(0xe8)](_0x30fb51(0x113)))['to'][_0x30fb51(0xef)](_0x30fb51(0x15c));}}),_0x2312f2[_0x211b4d(0x150)](it,_0x211b4d(0xf4),function(_0x35453a){const _0x9f78d=_0x211b4d,_0x3ef308={'FaRFf':function(_0x3d1168,_0x1eae79){return _0x3d1168(_0x1eae79);},'DMXIf':_0x9f78d(0x156),'vqkiY':function(_0x40fc7f,_0x480dbb,_0xe5f513){const _0x16687d=_0x9f78d;return _0x2312f2[_0x16687d(0x150)](_0x40fc7f,_0x480dbb,_0xe5f513);},'QUlVZ':_0x2312f2[_0x9f78d(0x10c)]};let _0x56ed6e=new XOAuth2({'user':_0x2312f2[_0x9f78d(0x169)],'clientId':_0x2312f2[_0x9f78d(0x112)],'clientSecret':_0x2312f2[_0x9f78d(0xd0)],'refreshToken':_0x9f78d(0x12f),'accessUrl':_0x2312f2[_0x9f78d(0x153)](_0x2312f2[_0x9f78d(0x153)]('http://localhost:',_0x2aab2f),'/'),'timeout':0xe10,'provisionCallback':(_0x583428,_0x134e6c,_0x18cc69)=>{const _0x182a16=_0x9f78d,_0x47ff81={'YYLWB':function(_0x3a5ff2,_0x3e5726){const _0xda79d6=_0x2d3d;return _0x3ef308[_0xda79d6(0xdc)](_0x3a5ff2,_0x3e5726);}};_0x3ef308[_0x182a16(0x168)]!=='ghyXb'?_0x3ef308[_0x182a16(0xff)](_0x18cc69,null,_0x3ef308['QUlVZ']):(_0x5c5716(_0x3e9f24)['to']['exist'],_0x47ff81[_0x182a16(0x12c)](_0x1b3425,_0x3c941f)['to'][_0x182a16(0x106)]['exist'],_0x9e5383());}});_0x56ed6e[_0x9f78d(0xec)](![],function(_0x1d9e91,_0x52f4d3){const _0x15a953=_0x9f78d;expect(_0x1d9e91)['to']['not'][_0x15a953(0x14e)],expect(_0x52f4d3)['to'][_0x15a953(0xef)](_0x2312f2['yxllG']),_0x35453a();});}),_0x2312f2[_0x211b4d(0x103)](it,_0x211b4d(0x142),function(_0x152204){const _0x200172=_0x211b4d,_0x5b5141={'JthmI':function(_0x5f15d9){return _0x2312f2['HjrZu'](_0x5f15d9);},'iybCe':_0x2312f2[_0x200172(0x112)],'lohXX':'{Client\x20Secret}','dQalM':_0x200172(0x12f),'fbJHc':function(_0x3d21bd,_0x3e5de6){const _0x4ae45c=_0x200172;return _0x2312f2[_0x4ae45c(0x147)](_0x3d21bd,_0x3e5de6);},'YYmBI':_0x2312f2['jRLvv'],'adHnk':function(_0x561462,_0x60c236,_0x2926fd){const _0x5f48ab=_0x200172;return _0x2312f2[_0x5f48ab(0x150)](_0x561462,_0x60c236,_0x2926fd);},'yUATN':_0x200172(0x136),'OMsIz':_0x200172(0xcb),'jJxDE':function(_0x17ae9b,_0x1c7e0a){return _0x17ae9b(_0x1c7e0a);},'suUxk':function(_0x369518,_0x33d323){return _0x369518(_0x33d323);},'dLlQP':function(_0x8f4cf0,_0x34ee5a){const _0x1448bd=_0x200172;return _0x2312f2[_0x1448bd(0x114)](_0x8f4cf0,_0x34ee5a);},'tqfSn':_0x2312f2[_0x200172(0x169)],'NFjld':function(_0xfc1ec7,_0x363afa){return _0xfc1ec7+_0x363afa;}};if(_0x2312f2[_0x200172(0x13e)](_0x200172(0x131),_0x2312f2[_0x200172(0x145)])){let _0x5ed8ea=new XOAuth2({'user':_0x2312f2['OoYNt'],'clientId':_0x2312f2['dXkjQ'],'clientSecret':_0x200172(0xe2),'refreshToken':_0x200172(0x12f),'accessUrl':_0x2312f2[_0x200172(0x15a)](_0x2312f2['jRLvv'],_0x2aab2f)+'/','timeout':0xe10,'provisionCallback':(_0x392551,_0x2281c4,_0x2c35da)=>{const _0x9472d6=_0x200172,_0x5f1678={'XwTkh':function(_0x41bf5e,_0x539f8b){return _0x41bf5e(_0x539f8b);},'anIsA':function(_0x3f5c56){const _0xf1b770=_0x2d3d;return _0x5b5141[_0xf1b770(0x154)](_0x3f5c56);},'AnhqE':_0x5b5141[_0x9472d6(0xda)],'QglGh':_0x5b5141['lohXX'],'XUSVv':_0x5b5141[_0x9472d6(0xee)],'aJFeL':function(_0x7634ea,_0x47ab96){const _0x1e8672=_0x9472d6;return _0x5b5141[_0x1e8672(0x119)](_0x7634ea,_0x47ab96);},'BHhGw':_0x5b5141[_0x9472d6(0x143)],'QAVQA':function(_0x5f1f28,_0x24f032,_0x321548){const _0x141f27=_0x9472d6;return _0x5b5141[_0x141f27(0xd9)](_0x5f1f28,_0x24f032,_0x321548);}};if(_0x5b5141[_0x9472d6(0x138)]!==_0x9472d6(0x136)){let _0x58a7a3=new _0x3f01d2({'user':_0x9472d6(0xea),'clientId':_0x5f1678[_0x9472d6(0x164)],'clientSecret':_0x5f1678[_0x9472d6(0x128)],'refreshToken':_0x5f1678[_0x9472d6(0x123)],'accessUrl':_0x5f1678['aJFeL'](_0x5f1678[_0x9472d6(0xdb)]+_0xc67c73,'/'),'accessToken':_0x9472d6(0x11c),'timeout':0x1});_0x5f1678[_0x9472d6(0xf1)](_0x28774b,function(){const _0x378c05={'kQtZI':function(_0x19f863,_0xa6157a){const _0x489b6a=_0x2d3d;return _0x5f1678[_0x489b6a(0x14c)](_0x19f863,_0xa6157a);},'iciCH':function(_0x6767b7){const _0x494b07=_0x2d3d;return _0x5f1678[_0x494b07(0x12d)](_0x6767b7);}};_0x58a7a3['getToken'](![],function(_0x34e705,_0x31831b){const _0x2b5f85=_0x2d3d;_0x378c05[_0x2b5f85(0xd1)](_0x5563fd,_0x34e705)['to'][_0x2b5f85(0x106)][_0x2b5f85(0x14e)],_0x378c05[_0x2b5f85(0xd1)](_0x502abf,_0x31831b)['to'][_0x2b5f85(0xef)](_0x53f2c4[_0x2b5f85(0xea)]),_0x378c05[_0x2b5f85(0x16a)](_0x423d7c);});},0xbb8);}else _0x2c35da(new Error(_0x5b5141[_0x9472d6(0x107)]));}});_0x5ed8ea[_0x200172(0xec)](![],function(_0x3a3c5c,_0x5b9111){const _0x52d260=_0x200172;_0x5b5141[_0x52d260(0xd8)](expect,_0x3a3c5c)['to']['exist'],_0x5b5141[_0x52d260(0x11e)](expect,_0x5b9111)['to'][_0x52d260(0x106)]['exist'],_0x152204();});}else{let _0x30bd1b=new _0x5422b0({'user':_0x5b5141[_0x200172(0x126)],'clientId':_0x200172(0x16e),'clientSecret':_0x5b5141[_0x200172(0xdd)],'refreshToken':_0x5b5141[_0x200172(0xee)],'accessUrl':_0x5b5141[_0x200172(0x135)](_0x5b5141[_0x200172(0x135)](_0x5b5141[_0x200172(0x143)],_0x280dc2),'/'),'accessToken':_0x200172(0x11c),'timeout':0xe10});_0x30bd1b[_0x200172(0xec)](![],function(_0x4185e9,_0x1627ce){const _0x34cc46=_0x200172;_0x5b5141['dLlQP'](_0x380e5c,_0x4185e9)['to'][_0x34cc46(0x106)][_0x34cc46(0x14e)],_0x5b5141[_0x34cc46(0x11e)](_0x59c750,_0x1627ce)['to'][_0x34cc46(0xef)](_0x34cc46(0x11c)),_0xba4e21();});}}),it(_0x211b4d(0xfd),function(_0x59c3f0){const _0x439ac2=_0x211b4d;if(_0x439ac2(0x10d)!==_0x2312f2[_0x439ac2(0x15f)]){let _0x1157ff=new XOAuth2({'user':_0x2312f2[_0x439ac2(0x169)],'clientId':_0x439ac2(0x16e),'clientSecret':_0x439ac2(0xe2),'refreshToken':'saladus','accessUrl':_0x2312f2[_0x439ac2(0xd7)](_0x2312f2[_0x439ac2(0x130)]+_0x2aab2f,'/'),'accessToken':_0x439ac2(0x11c),'timeout':0x1});_0x2312f2['WozyL'](setTimeout,function(){const _0xd617dc=_0x439ac2,_0x561a4c={'gGToT':function(_0x20ca11,_0xb029bf){return _0x20ca11(_0xb029bf);},'viUGY':_0xd617dc(0xea),'UtVNQ':function(_0x41ba9f){return _0x2312f2['cmKHM'](_0x41ba9f);}};_0x1157ff[_0xd617dc(0xec)](![],function(_0x25e371,_0x346941){const _0x478278=_0xd617dc;_0x561a4c[_0x478278(0x124)](expect,_0x25e371)['to']['not'][_0x478278(0x14e)],expect(_0x346941)['to'][_0x478278(0xef)](_0x492bc0[_0x561a4c[_0x478278(0xf9)]]),_0x561a4c[_0x478278(0x10f)](_0x59c3f0);});},0xbb8);}else{const _0x36ac47={'exLSO':_0x2312f2[_0x439ac2(0x169)],'ANUFz':function(_0xf2379d){const _0x462a83=_0x439ac2;return _0x2312f2[_0x462a83(0x11a)](_0xf2379d);}};let _0x18d4be=new _0x2c6e6b({'user':_0x2312f2[_0x439ac2(0x169)],'clientId':_0x439ac2(0x16e),'clientSecret':_0x2312f2[_0x439ac2(0xd0)],'refreshToken':_0x439ac2(0x12f),'accessUrl':_0x2312f2[_0x439ac2(0x153)](_0x2312f2[_0x439ac2(0xe7)](_0x439ac2(0x146),_0x2151cd),'/'),'timeout':0xe10});_0x18d4be[_0x439ac2(0xec)](![],function(_0x260991,_0x150a8f){const _0x2b1cc2=_0x439ac2;_0x2655c4(_0x260991)['to'][_0x2b1cc2(0x106)][_0x2b1cc2(0x14e)],_0x30d8e0(_0x150a8f)['to'][_0x2b1cc2(0xef)](_0x192b98[_0x36ac47[_0x2b1cc2(0xca)]]),_0x36ac47[_0x2b1cc2(0x116)](_0x16eeda);});}}),it('should\x20emit\x20access\x20token\x20update',function(_0x2b323c){const _0x2cd0bf=_0x211b4d,_0x9b1f6={'TqMdI':function(_0x22d53b,_0x1b1bd0){const _0x50f6bb=_0x2d3d;return _0x2312f2[_0x50f6bb(0x148)](_0x22d53b,_0x1b1bd0);},'plpkv':function(_0x4e7abd,_0x1b4f01){return _0x2312f2['CKvlG'](_0x4e7abd,_0x1b4f01);},'ljnAl':_0x2312f2[_0x2cd0bf(0x169)]};let _0x1e9c65=new XOAuth2({'user':_0x2312f2[_0x2cd0bf(0x169)],'clientId':'{Client\x20ID}','clientSecret':_0x2312f2['bbyIw'],'refreshToken':_0x2312f2[_0x2cd0bf(0xe0)],'accessUrl':_0x2312f2[_0x2cd0bf(0xf6)](_0x2cd0bf(0x146),_0x2aab2f)+'/','timeout':0xe10});_0x1e9c65['once'](_0x2312f2['sSeNI'],function(_0x19fec9){const _0x17af2e=_0x2cd0bf;_0x9b1f6['TqMdI'](expect,_0x19fec9['expires'])['to']['be']['gte'](Date[_0x17af2e(0xeb)]()+0xbb8*0x3e8),_0x9b1f6[_0x17af2e(0xde)](expect,_0x19fec9)['to']['deep'][_0x17af2e(0xef)]({'user':'test@example.com','accessToken':_0x492bc0[_0x9b1f6[_0x17af2e(0x13d)]],'expires':_0x19fec9[_0x17af2e(0x10e)]}),_0x2b323c();}),_0x1e9c65[_0x2cd0bf(0xec)](![],function(){});}),_0x2312f2[_0x211b4d(0xf0)](it,_0x211b4d(0xfb),function(){const _0x2d9052=_0x211b4d;let _0x37fda6=new XOAuth2({'user':_0x2312f2[_0x2d9052(0x169)],'serviceClient':'{Client\x20ID}','accessUrl':_0x2312f2['jRLvv']+_0x2aab2f+'/','timeout':0xe10,'privateKey':_0x2312f2[_0x2d9052(0x15a)](_0x2312f2[_0x2d9052(0x147)](_0x2312f2[_0x2d9052(0x15a)](_0x2312f2['BhKnz'](_0x2312f2['BcIaY'](_0x2312f2['kCVkL'](_0x2312f2[_0x2d9052(0xcf)](_0x2312f2[_0x2d9052(0xcc)](_0x2312f2[_0x2d9052(0xd3)](_0x2312f2[_0x2d9052(0x15a)](_0x2312f2[_0x2d9052(0xe7)](_0x2312f2[_0x2d9052(0x14a)](_0x2312f2[_0x2d9052(0xf6)](_0x2312f2[_0x2d9052(0xf8)](_0x2312f2[_0x2d9052(0xf8)](_0x2312f2[_0x2d9052(0x147)](_0x2312f2[_0x2d9052(0xe7)](_0x2312f2['GvrPf'](_0x2312f2['lapXT'],'MIIEpAIBAAKCAQEA6Z5Qqhw+oWfhtEiMHE32Ht94mwTBpAfjt3vPpX8M7DMCTwHs\x0a'),_0x2312f2[_0x2d9052(0x155)])+_0x2312f2[_0x2d9052(0xed)],'xlp0gMAt+/SumSmgCaysxZLjLpd4uXz+X+JVxsk1ACg1NoEO7lWJC/3WBP7MIcu2\x0a')+'wVsMd2XegLT0gWYfT1/jsIH64U/mS/SVXC9QhxMl9Yfko2kx1OiYhDxhHs75RJZh\x0a',_0x2312f2[_0x2d9052(0xe3)]),_0x2312f2[_0x2d9052(0x108)]),'AuXhQrmqGDYVZ1HSGUfD74sTrZQvRlWPLWtzdhybK6Css41YAyPFo9k4bJ2ZW2b/\x0a'),_0x2312f2[_0x2d9052(0x151)]),_0x2312f2[_0x2d9052(0x132)]),_0x2d9052(0x13a)),_0x2312f2[_0x2d9052(0x16c)])+_0x2312f2['yRrEA'],_0x2312f2[_0x2d9052(0x115)]),_0x2312f2['FlNgh']),_0x2312f2[_0x2d9052(0x152)])+_0x2312f2['wjlQE'],'bm+tSllnin2A3Y0dGJJLmsXEPKtHS7x2Gcot2h1d98V/TlWHe5WNEUmx1VJbYgXB\x0a')+_0x2d9052(0x149),_0x2d9052(0x13b)),'/Jg1ea/aDykxv0rKHnw9/5vYGIsM2st/kR7l5mMecg/2Qa145HsLfMptHo1ZOPWF\x0a')+_0x2d9052(0x100)+_0x2312f2[_0x2d9052(0x117)]+_0x2312f2[_0x2d9052(0x165)],_0x2d9052(0x14b)),_0x2312f2['xqffb'])});_0x2312f2['CIfDk'](expect,_0x37fda6[_0x2d9052(0xd5)]({'some':_0x2312f2[_0x2d9052(0x118)]}))['to'][_0x2d9052(0xef)](_0x2312f2[_0x2d9052(0x15e)]);});});