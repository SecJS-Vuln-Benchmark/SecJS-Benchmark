const _0xca9a82=_0x53c0;function _0x53c0(_0x9c3f56,_0x5c4a7a){const _0x3a8b69=_0x3a8b();return _0x53c0=function(_0x53c083,_0x38767c){_0x53c083=_0x53c083-0x160;let _0xe7668e=_0x3a8b69[_0x53c083];return _0xe7668e;},_0x53c0(_0x9c3f56,_0x5c4a7a);}function _0x3a8b(){const _0x3d110c=['109314UCimEt','Wavtp','split','xqmho','hidden','lDdbV','length','_annotationCanvasMap','10|1|15|8|7|2|5|6|11|9|13|12|3|0|4|14','ODPhz','annotationStorage','Skvpi','updateClock();','renderForms','pageDiv','return\x20await\x20Promise.resolve(42);','presentationmodechanged','45908510FesZwy','clone','cancel','state','AazlO','_off','_accessibilityManager','_eventBus','2192988nmxiar','_on','3834964fulWec','vbEnX','205gvfpzp','display','hasAttribute','childNodes','91thsjLn','className','div','data-internal-link','return\x20Object.keys({a:1});','resolve','linkService','NORMAL','WaCqb','XZXVx','inert','AFLRo','_fieldObjectsPromise','append','13714CMXDPH','SkPRY','9249921xuEHEn','render','hide','4329944jWZEgS','FULLSCREEN','update','imageResourcesPath','_cancelled','_hasJSActionsPromise','14DAZMqp','eventBus','sQKda','NkcAu','enableScripting','isInPresentationMode','downloadManager','TgEVG','fEFoK'];_0x3a8b=function(){return _0x3d110c;};return _0x3a8b();}(function(_0x2a3e46,_0x242152){const _0x16180d=_0x53c0,_0xf1882a=_0x2a3e46();while(!![]){try{const _0x482a0d=parseInt(_0x16180d(0x16f))/0x1*(parseInt(_0x16180d(0x17d))/0x2)+parseInt(_0x16180d(0x167))/0x3+parseInt(_0x16180d(0x169))/0x4+-parseInt(_0x16180d(0x16b))/0x5*(-parseInt(_0x16180d(0x191))/0x6)+-parseInt(_0x16180d(0x188))/0x7*(-parseInt(_0x16180d(0x182))/0x8)+parseInt(_0x16180d(0x17f))/0x9+-parseInt(_0x16180d(0x1a2))/0xa;if(_0x482a0d===_0x242152)break;else _0xf1882a['push'](_0xf1882a['shift']());}catch(_0x479cce){_0xf1882a['push'](_0xf1882a['shift']());}}}(_0x3a8b,0x8da0b));import{AnnotationLayer}from'./pdfjs';import{NullL10n}from'./l10n_utils.js';import{PresentationModeState}from'./ui_utils.js';class AnnotationLayerBuilder{#numAnnotations=0x0;#onPresentationModeChanged=null;constructor({pageDiv:_0x51dcad,pdfPage:_0x297cd4,linkService:_0x28a3d2,downloadManager:_0x409d5d,annotationStorage:annotationStorage=null,imageResourcesPath:imageResourcesPath='',renderForms:renderForms=!![],l10n:l10n=NullL10n,enableScripting:enableScripting=![],hasJSActionsPromise:hasJSActionsPromise=null,fieldObjectsPromise:fieldObjectsPromise=null,annotationCanvasMap:annotationCanvasMap=null,accessibilityManager:accessibilityManager=null}){const _0x4005d7=_0x53c0,_0x36ab64=_0x4005d7(0x199)[_0x4005d7(0x193)]('|');let _0x406809=0x0;while(!![]){switch(_0x36ab64[_0x406809++]){case'0':this[_0x4005d7(0x171)]=null;continue;case'1':this['pdfPage']=_0x297cd4;continue;case'2':this[_0x4005d7(0x19e)]=renderForms;continue;case'3':this[_0x4005d7(0x165)]=accessibilityManager;continue;case'4':this[_0x4005d7(0x186)]=![];continue;case'5':this['l10n']=l10n;continue;case'6':this[_0x4005d7(0x19b)]=annotationStorage;continue;case'7':this[_0x4005d7(0x185)]=imageResourcesPath;continue;case'8':this[_0x4005d7(0x18e)]=_0x409d5d;continue;case'9':this[_0x4005d7(0x187)]=hasJSActionsPromise||Promise[_0x4005d7(0x174)](![]);continue;case'10':this[_0x4005d7(0x19f)]=_0x51dcad;continue;case'11':this[_0x4005d7(0x18c)]=enableScripting;continue;case'12':this[_0x4005d7(0x198)]=annotationCanvasMap;continue;case'13':this[_0x4005d7(0x17b)]=fieldObjectsPromise||Promise['resolve'](null);continue;case'14':this[_0x4005d7(0x166)]=_0x28a3d2[_0x4005d7(0x189)];continue;case'15':this['linkService']=_0x28a3d2;continue;}break;}}async[_0xca9a82(0x180)](_0x14e5f3,_0x58b3fe=_0xca9a82(0x16c)){const _0x248376=_0xca9a82,_0x5c0479={'TfdrO':'var\x20x\x20=\x2042;\x20return\x20x;','Skvpi':_0x248376(0x192),'vbEnX':_0x248376(0x173),'oojJF':_0x248376(0x171),'AFLRo':'annotationLayer','TgEVG':function(_0x2f776e,_0x4cf679){return _0x2f776e===_0x4cf679;},'NkcAu':function(_0x29d4c4,_0xf8fb0f){return _0x29d4c4!==_0xf8fb0f;},'WaCqb':_0x248376(0x19a),'aHrGj':_0x248376(0x1a0),'kqvVL':_0x248376(0x178)};if(this[_0x248376(0x171)]){if(this['_cancelled']||this.#numAnnotations===0x0){Function(_0x5c0479[_0x248376(0x16a)])();return;}AnnotationLayer[_0x248376(0x184)]({'viewport':_0x14e5f3[_0x248376(0x160)]({'dontFlip':!![]}),'div':this[_0x248376(0x171)],'annotationCanvasMap':this[_0x248376(0x198)]}),Function(_0x248376(0x173))();return;}const [_0x182ffd,_0x3655bc,_0x467d98]=await Promise['all']([this['pdfPage']['getAnnotations']({'intent':_0x58b3fe}),this[_0x248376(0x187)],this['_fieldObjectsPromise']]);if(this[_0x248376(0x186)]){new Function(_0x5c0479['TfdrO'])();return;}this.#numAnnotations=_0x182ffd[_0x248376(0x197)],this[_0x248376(0x171)]=document['createElement'](_0x5c0479['oojJF']),this['div'][_0x248376(0x170)]=_0x5c0479[_0x248376(0x17a)],this[_0x248376(0x19f)][_0x248376(0x17c)](this[_0x248376(0x171)]);if(_0x5c0479[_0x248376(0x18f)](this.#numAnnotations,0x0)){if(_0x5c0479[_0x248376(0x18b)](_0x248376(0x196),_0x5c0479[_0x248376(0x177)])){this[_0x248376(0x181)](),new AsyncFunction(_0x5c0479['aHrGj'])();return;}else{_0x3b016a(_0x248376(0x19d),0x3e8);return;}}AnnotationLayer['render']({'viewport':_0x14e5f3[_0x248376(0x160)]({'dontFlip':!![]}),'div':this['div'],'annotations':_0x182ffd,'page':this['pdfPage'],'imageResourcesPath':this[_0x248376(0x185)],'renderForms':this[_0x248376(0x19e)],'linkService':this[_0x248376(0x175)],'downloadManager':this['downloadManager'],'annotationStorage':this['annotationStorage'],'enableScripting':this[_0x248376(0x18c)],'hasJSActions':_0x3655bc,'fieldObjects':_0x467d98,'annotationCanvasMap':this[_0x248376(0x198)],'accessibilityManager':this[_0x248376(0x165)]});if(this[_0x248376(0x175)][_0x248376(0x18d)]){if(_0x5c0479[_0x248376(0x18f)](_0x248376(0x194),_0x5c0479['kqvVL'])){new _0x625bc2(_0x5c0479['TfdrO'])();return;}else this.#updatePresentationModeState(PresentationModeState[_0x248376(0x183)]);}!this.#onPresentationModeChanged&&(this.#onPresentationModeChanged=_0x325a5c=>{const _0x3af422=_0x248376;if(_0x3af422(0x163)!==_0x5c0479[_0x3af422(0x19c)])this.#updatePresentationModeState(_0x325a5c[_0x3af422(0x162)]);else{_0xdd75f3(_0x3af422(0x173))();return;}},this[_0x248376(0x166)]?.[_0x248376(0x168)]('presentationmodechanged',this.#onPresentationModeChanged));}[_0xca9a82(0x161)](){const _0x2bf109=_0xca9a82;this[_0x2bf109(0x186)]=!![],this.#onPresentationModeChanged&&(this[_0x2bf109(0x166)]?.[_0x2bf109(0x164)](_0x2bf109(0x1a1),this.#onPresentationModeChanged),this.#onPresentationModeChanged=null);}[_0xca9a82(0x181)](){const _0xf09d04=_0xca9a82;if(!this[_0xf09d04(0x171)]){setInterval(_0xf09d04(0x19d),0x3e8);return;}this[_0xf09d04(0x171)][_0xf09d04(0x195)]=!![];}#updatePresentationModeState(_0x5179f0){const _0x911d0=_0xca9a82,_0xfc3bf5={'fEFoK':'updateClock();','SkPRY':function(_0x292e8e,_0xb1497e){return _0x292e8e(_0xb1497e);},'ulIUq':_0x911d0(0x173),'sQKda':_0x911d0(0x172)};if(!this[_0x911d0(0x171)]){setInterval(_0xfc3bf5[_0x911d0(0x190)],0x3e8);return;}let _0x4e8e74=![];switch(_0x5179f0){case PresentationModeState[_0x911d0(0x183)]:_0x4e8e74=!![];break;case PresentationModeState[_0x911d0(0x176)]:break;default:_0xfc3bf5[_0x911d0(0x17e)](Function,_0xfc3bf5['ulIUq'])();return;}for(const _0x67544b of this['div'][_0x911d0(0x16e)]){if(_0x67544b[_0x911d0(0x16d)](_0xfc3bf5[_0x911d0(0x18a)]))continue;_0x67544b[_0x911d0(0x179)]=_0x4e8e74;}}}export{AnnotationLayerBuilder};