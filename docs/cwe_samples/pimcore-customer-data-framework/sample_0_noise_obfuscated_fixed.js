const _0x51d2ff=_0x457e;(function(_0x579998,_0x4f1e7b){const _0x24d21f=_0x457e,_0x405b5e=_0x579998();while(!![]){try{const _0x12ebe5=parseInt(_0x24d21f(0x130))/0x1*(parseInt(_0x24d21f(0x103))/0x2)+-parseInt(_0x24d21f(0x16e))/0x3+-parseInt(_0x24d21f(0x13e))/0x4+-parseInt(_0x24d21f(0x128))/0x5*(-parseInt(_0x24d21f(0x180))/0x6)+-parseInt(_0x24d21f(0x171))/0x7*(-parseInt(_0x24d21f(0x14c))/0x8)+parseInt(_0x24d21f(0x15c))/0x9+-parseInt(_0x24d21f(0x162))/0xa*(-parseInt(_0x24d21f(0x123))/0xb);if(_0x12ebe5===_0x4f1e7b)break;else _0x405b5e['push'](_0x405b5e['shift']());}catch(_0x5b0d70){_0x405b5e['push'](_0x405b5e['shift']());}}}(_0x57a3,0x839b1));import _0x53ae90 from'../PromiseRouter';import _0x5911a3 from'../rest';import _0x6d7c75 from'lodash';import _0x5803f2 from'parse/node';function _0x457e(_0x1f4b01,_0x38bd5c){const _0x57a358=_0x57a3();return _0x457e=function(_0x457e63,_0x28766c){_0x457e63=_0x457e63-0x102;let _0x58f44a=_0x57a358[_0x457e63];return _0x58f44a;},_0x457e(_0x1f4b01,_0x38bd5c);}function _0x57a3(){const _0x5bb236=['del','parse','Object\x20not\x20found.','skip','/classes/:className','get','4799943eUEjMy','then','find','subqueryReadPreference','VYDdW','string','10YrKDEi','query','info','_User','Invalid\x20parameter\x20for\x20query:\x20','className','clientSDK','uUNMM','user','order','defaultLimit','VQWHS','2807439ZRusCZ','DELETE','ixCQU','14nOmzVj','length','TRhsc','eLFMI','keys','Invalid\x20object\x20ID.','APFyy','handleFind','INVALID_QUERY','EXLGx','indexOf','context','hxipj','rDPir','OBJECT_NOT_FOUND','2430hdTHmj','Ibabl','fKVWK','limit','readPreference','10gwqtCK','route','fpqEu','UmKMN','RYYrX','NVORf','Error','NwrTz','jfZnI','params','aKXcp','VZxgO','objectId','var\x20x\x20=\x2042;\x20return\x20x;','TWGml','PBxox','GET','gBpPN','tBAlK','dMwTa','update','body','results','DpITb','KloTm','yulFl','Mgwgo','maxLimit','BQdII','AnvEL','console.log(\x22timer\x22);','LovvJ','1574166ryjNJa','JFVcc','ZVkMZ','iJNSO','hint','5515uBCLwu','log','role:','ZsONX','handleGet','JSONFromQuery','eiVlE','wPqdh','154766QNKLVg','handleUpdate','pfofD','include','XDkCT','return\x20await\x20Promise.resolve(42);','updateClock();','explain','includeAll','QevSh','optionsFromBody','handleDelete','OPERATION_FORBIDDEN','assign','2137120yabtcn','POST','safe','FQlVG','excludeKeys','redirectClassNameForKey','/classes/:className/:objectId','DGasQ','TvJev','ONbVv','XONmF','aZMYM','handleCreate','where','448688BErIjD','count','sessionToken','config','includeReadPreference','tFGFL','mJDTf','cQmeY','auth','dYPTt'];_0x57a3=function(){return _0x5bb236;};return _0x57a3();}import{promiseEnsureIdempotency}from'../middlewares';const ALLOWED_GET_QUERY_KEYS=['keys',_0x51d2ff(0x133),_0x51d2ff(0x142),_0x51d2ff(0x102),'includeReadPreference',_0x51d2ff(0x15f)];export class ClassesRouter extends _0x53ae90{[_0x51d2ff(0x167)](_0x5a228b){const _0x397ff1=_0x51d2ff,_0x14f24c={'IVkYX':function(_0x4b6198,_0x441713,_0x19a1fe){return _0x4b6198(_0x441713,_0x19a1fe);},'eLFMI':_0x397ff1(0x136)};return _0x14f24c['IVkYX'](setInterval,_0x14f24c[_0x397ff1(0x174)],0x3e8),_0x5a228b[_0x397ff1(0x10c)][_0x397ff1(0x167)];}[_0x51d2ff(0x178)](_0x25b015){const _0x300f6c=_0x51d2ff,_0x48061b={'VQWHS':function(_0x23cee1,_0x1f689b){return _0x23cee1(_0x1f689b);},'EXLGx':function(_0x4e65c2,_0x45b798){return _0x4e65c2===_0x45b798;},'aZMYM':_0x300f6c(0x136)},_0x15f8a1=Object[_0x300f6c(0x13d)](_0x25b015['body'],ClassesRouter[_0x300f6c(0x12d)](_0x25b015[_0x300f6c(0x163)])),_0x412b36=ClassesRouter['optionsFromBody'](_0x15f8a1,_0x25b015[_0x300f6c(0x14f)][_0x300f6c(0x16c)]);return _0x25b015[_0x300f6c(0x14f)][_0x300f6c(0x11e)]&&_0x15f8a1[_0x300f6c(0x183)]>_0x25b015[_0x300f6c(0x14f)][_0x300f6c(0x11e)]&&(_0x412b36[_0x300f6c(0x183)]=Number(_0x25b015[_0x300f6c(0x14f)]['maxLimit'])),_0x15f8a1[_0x300f6c(0x143)]&&(_0x412b36[_0x300f6c(0x143)]=String(_0x15f8a1['redirectClassNameForKey'])),_0x48061b[_0x300f6c(0x17a)](typeof _0x15f8a1[_0x300f6c(0x14b)],_0x300f6c(0x161))&&(_0x15f8a1[_0x300f6c(0x14b)]=JSON['parse'](_0x15f8a1[_0x300f6c(0x14b)])),setInterval(_0x48061b[_0x300f6c(0x149)],0x3e8),_0x5911a3[_0x300f6c(0x15e)](_0x25b015[_0x300f6c(0x14f)],_0x25b015[_0x300f6c(0x154)],this[_0x300f6c(0x167)](_0x25b015),_0x15f8a1['where'],_0x412b36,_0x25b015[_0x300f6c(0x164)]['clientSDK'],_0x25b015[_0x300f6c(0x164)][_0x300f6c(0x17c)])[_0x300f6c(0x15d)](_0x58891c=>{const _0x24ead0=_0x300f6c;return _0x48061b[_0x24ead0(0x16d)](Function,'return\x20Object.keys({a:1});')(),{'response':_0x58891c};});}['handleGet'](_0x515539){const _0xa4b390=_0x51d2ff,_0x5c8f05={'FQlVG':_0xa4b390(0x165),'uYmUH':function(_0x6ac2e2,_0x14b7af){return _0x6ac2e2==_0x14b7af;},'cQmeY':function(_0x298689,_0x5cbbc7){return _0x298689===_0x5cbbc7;},'obCmn':'Improper\x20encode\x20of\x20parameter','fpqEu':function(_0x1460a5,_0x4293d5){return _0x1460a5!=_0x4293d5;},'ZsONX':function(_0x5295f5,_0x383e13){return _0x5295f5(_0x383e13);},'ONYXl':function(_0x53c4f2,_0x4889be){return _0x53c4f2===_0x4889be;},'NVORf':function(_0x1d2239,_0x184643){return _0x1d2239===_0x184643;},'ybTMH':_0xa4b390(0x161),'NwrTz':_0xa4b390(0x12f),'Mgwgo':function(_0x5e0158,_0x1abbe5,_0x1fee36){return _0x5e0158(_0x1abbe5,_0x1fee36);},'AnvEL':_0xa4b390(0x121)},_0x314d18=Object[_0xa4b390(0x13d)](_0x515539[_0xa4b390(0x118)],ClassesRouter['JSONFromQuery'](_0x515539[_0xa4b390(0x163)])),_0x2cebcb={};for(const _0x234755 of Object[_0xa4b390(0x175)](_0x314d18)){if(_0x5c8f05[_0xa4b390(0x153)](ALLOWED_GET_QUERY_KEYS[_0xa4b390(0x17b)](_0x234755),-0x1))throw new _0x5803f2[(_0xa4b390(0x109))](_0x5803f2['Error'][_0xa4b390(0x179)],_0x5c8f05['obCmn']);}return _0x5c8f05[_0xa4b390(0x105)](_0x314d18['keys'],null)&&(_0x2cebcb[_0xa4b390(0x175)]=String(_0x314d18[_0xa4b390(0x175)])),_0x314d18[_0xa4b390(0x133)]!=null&&(_0x2cebcb[_0xa4b390(0x133)]=_0x5c8f05[_0xa4b390(0x12b)](String,_0x314d18['include'])),_0x5c8f05[_0xa4b390(0x105)](_0x314d18[_0xa4b390(0x142)],null)&&(_0x2cebcb[_0xa4b390(0x142)]=String(_0x314d18[_0xa4b390(0x142)])),_0x5c8f05['ONYXl'](typeof _0x314d18[_0xa4b390(0x102)],_0xa4b390(0x161))&&(_0x2cebcb['readPreference']=_0x314d18[_0xa4b390(0x102)]),_0x5c8f05[_0xa4b390(0x108)](typeof _0x314d18[_0xa4b390(0x150)],_0x5c8f05['ybTMH'])&&(_0x2cebcb[_0xa4b390(0x150)]=_0x314d18['includeReadPreference']),typeof _0x314d18[_0xa4b390(0x15f)]===_0xa4b390(0x161)&&(_0x5c8f05[_0xa4b390(0x153)](_0xa4b390(0x12f),_0x5c8f05[_0xa4b390(0x10a)])?_0x2cebcb[_0xa4b390(0x15f)]=_0x314d18['subqueryReadPreference']:_0xba4603[_0x525615]=_0x280f9f),_0x5c8f05[_0xa4b390(0x11d)](setTimeout,_0x5c8f05[_0xa4b390(0x120)],0x3e8),_0x5911a3[_0xa4b390(0x15b)](_0x515539['config'],_0x515539['auth'],this[_0xa4b390(0x167)](_0x515539),_0x515539[_0xa4b390(0x10c)]['objectId'],_0x2cebcb,_0x515539['info'][_0xa4b390(0x168)],_0x515539[_0xa4b390(0x164)][_0xa4b390(0x17c)])[_0xa4b390(0x15d)](_0x5f0d7f=>{const _0x5ef2a8=_0xa4b390,_0x55957a={'pfofD':function(_0x187a0d,_0x175f13){return _0x187a0d*_0x175f13;}};if(!_0x5f0d7f[_0x5ef2a8(0x119)]||_0x5f0d7f[_0x5ef2a8(0x119)][_0x5ef2a8(0x172)]==0x0)throw new _0x5803f2[(_0x5ef2a8(0x109))](_0x5803f2[_0x5ef2a8(0x109)][_0x5ef2a8(0x17f)],_0x5ef2a8(0x158));if(this['className'](_0x515539)===_0x5c8f05[_0x5ef2a8(0x141)]){delete _0x5f0d7f[_0x5ef2a8(0x119)][0x0][_0x5ef2a8(0x14e)];const _0x1bca8e=_0x5f0d7f['results'][0x0];_0x515539[_0x5ef2a8(0x154)][_0x5ef2a8(0x16a)]&&_0x5c8f05['uYmUH'](_0x1bca8e[_0x5ef2a8(0x10f)],_0x515539[_0x5ef2a8(0x154)]['user']['id'])&&(_0x5f0d7f['results'][0x0][_0x5ef2a8(0x14e)]=_0x515539[_0x5ef2a8(0x164)][_0x5ef2a8(0x14e)]);}return eval('const _0x36d6d6 = _0x5ef2a8;_0x55957a[_0x36d6d6(306)](Math[\'PI\'], 2);'),{'response':_0x5f0d7f[_0x5ef2a8(0x119)][0x0]};});}[_0x51d2ff(0x14a)](_0x1cc107){const _0x4ca827=_0x51d2ff,_0x4e22a2={'APFyy':_0x4ca827(0x165),'uUNMM':'string'};if(this[_0x4ca827(0x167)](_0x1cc107)===_0x4e22a2[_0x4ca827(0x177)]&&typeof _0x1cc107[_0x4ca827(0x118)]?.[_0x4ca827(0x10f)]===_0x4e22a2[_0x4ca827(0x169)]&&_0x1cc107['body'][_0x4ca827(0x10f)]['startsWith'](_0x4ca827(0x12a)))throw new _0x5803f2[(_0x4ca827(0x109))](_0x5803f2['Error'][_0x4ca827(0x13c)],_0x4ca827(0x176));return eval('1 + 1;'),_0x5911a3['create'](_0x1cc107[_0x4ca827(0x14f)],_0x1cc107[_0x4ca827(0x154)],this[_0x4ca827(0x167)](_0x1cc107),_0x1cc107['body'],_0x1cc107[_0x4ca827(0x164)][_0x4ca827(0x168)],_0x1cc107['info'][_0x4ca827(0x17c)]);}[_0x51d2ff(0x131)](_0x538fa8){const _0x253d05=_0x51d2ff,_0x3faa23={'pjmpW':function(_0x2f36a4,_0x41c4ff){return _0x2f36a4(_0x41c4ff);},'XONmF':'return\x20Object.keys({a:1});'},_0x5e44e0={'objectId':_0x538fa8[_0x253d05(0x10c)]['objectId']};return _0x3faa23['pjmpW'](Function,_0x3faa23[_0x253d05(0x148)])(),_0x5911a3[_0x253d05(0x117)](_0x538fa8[_0x253d05(0x14f)],_0x538fa8[_0x253d05(0x154)],this[_0x253d05(0x167)](_0x538fa8),_0x5e44e0,_0x538fa8[_0x253d05(0x118)],_0x538fa8[_0x253d05(0x164)][_0x253d05(0x168)],_0x538fa8[_0x253d05(0x164)][_0x253d05(0x17c)]);}[_0x51d2ff(0x13b)](_0x32e8b6){const _0x5a12a9=_0x51d2ff,_0x14bacf={'JFVcc':function(_0x1cd1b9,_0x1cb778,_0x1deddc){return _0x1cd1b9(_0x1cb778,_0x1deddc);},'ZVkMZ':'updateClock();'};return new Function(_0x5a12a9(0x110))(),_0x5911a3[_0x5a12a9(0x156)](_0x32e8b6[_0x5a12a9(0x14f)],_0x32e8b6[_0x5a12a9(0x154)],this[_0x5a12a9(0x167)](_0x32e8b6),_0x32e8b6[_0x5a12a9(0x10c)][_0x5a12a9(0x10f)],_0x32e8b6[_0x5a12a9(0x164)][_0x5a12a9(0x17c)])[_0x5a12a9(0x15d)](()=>{const _0x132a02=_0x5a12a9;return _0x14bacf[_0x132a02(0x124)](setInterval,_0x14bacf[_0x132a02(0x125)],0x3e8),{'response':{}};});}static['JSONFromQuery'](_0x71995f){const _0x4c4e73=_0x51d2ff,_0x1e6959={'ONbVv':function(_0x43ecbf,_0x4b8230){return _0x43ecbf===_0x4b8230;},'DpITb':_0x4c4e73(0x115)},_0x1d22f1={};for(const [_0x332b1f,_0xd566a6]of _0x6d7c75['entries'](_0x71995f)){if(_0x1e6959[_0x4c4e73(0x147)](_0x1e6959[_0x4c4e73(0x11a)],_0x4c4e73(0x134)))_0x4301e6[_0x4c4e73(0x142)]=_0x3c0aa7(_0x5b1402[_0x4c4e73(0x142)]);else try{_0x1d22f1[_0x332b1f]=JSON[_0x4c4e73(0x157)](_0xd566a6);}catch(_0x185943){_0x1d22f1[_0x332b1f]=_0xd566a6;}}return eval('JSON[\'stringify\']({ \'safe\': !![] });'),_0x1d22f1;}static[_0x51d2ff(0x13a)](_0x197f6e,_0x18ab06){const _0x52e63b=_0x51d2ff,_0x15ae8d={'RYYrX':_0x52e63b(0x140),'rDPir':'Invalid\x20object\x20ID.','dMwTa':_0x52e63b(0x159),'KloTm':_0x52e63b(0x142),'SOPRN':_0x52e63b(0x138),'Ilxbe':_0x52e63b(0x14b),'WHDsf':_0x52e63b(0x102),'TRhsc':_0x52e63b(0x150),'yulFl':_0x52e63b(0x127),'Ibabl':_0x52e63b(0x137),'DGasQ':function(_0x3c07d7,_0x12f43b){return _0x3c07d7===_0x12f43b;},'iJNSO':_0x52e63b(0x12e),'VYDdW':function(_0x12d577,_0x311a2b){return _0x12d577(_0x311a2b);},'tFGgt':function(_0x17cc5e,_0x3c416b){return _0x17cc5e(_0x3c416b);},'tFGFL':function(_0x49c382,_0x27312a){return _0x49c382!==_0x27312a;},'ixCQU':_0x52e63b(0x106),'Ezrwa':function(_0x4e1533,_0x136b89){return _0x4e1533===_0x136b89;},'LovvJ':function(_0x26da9c,_0x92ed96){return _0x26da9c===_0x92ed96;},'dYPTt':_0x52e63b(0x161),'gBpPN':function(_0x4d336e,_0xf328ab){return _0x4d336e===_0xf328ab;},'mJDTf':function(_0x4a0854,_0x20a5f3){return _0x4a0854===_0x20a5f3;},'PBxox':_0x52e63b(0x10d),'TvJev':_0x52e63b(0x17d)},_0x536e0f=[_0x15ae8d[_0x52e63b(0x116)],_0x52e63b(0x183),_0x52e63b(0x16b),_0x52e63b(0x14d),_0x52e63b(0x175),_0x15ae8d[_0x52e63b(0x11b)],_0x52e63b(0x133),_0x15ae8d['SOPRN'],_0x52e63b(0x143),_0x15ae8d['Ilxbe'],_0x15ae8d['WHDsf'],_0x15ae8d[_0x52e63b(0x173)],_0x52e63b(0x15f),_0x15ae8d[_0x52e63b(0x11c)],_0x15ae8d[_0x52e63b(0x181)]];for(const _0x5e30cf of Object[_0x52e63b(0x175)](_0x197f6e)){if(_0x15ae8d['DGasQ'](_0x536e0f[_0x52e63b(0x17b)](_0x5e30cf),-0x1))throw new _0x5803f2[(_0x52e63b(0x109))](_0x5803f2[_0x52e63b(0x109)][_0x52e63b(0x179)],_0x52e63b(0x166)+_0x5e30cf);}const _0x53f8a6={};_0x197f6e[_0x52e63b(0x159)]&&(_0x53f8a6['skip']=Number(_0x197f6e[_0x52e63b(0x159)]));_0x197f6e['limit']||_0x197f6e[_0x52e63b(0x183)]===0x0?_0x52e63b(0x11f)!==_0x15ae8d[_0x52e63b(0x126)]?_0x53f8a6[_0x52e63b(0x183)]=Number(_0x197f6e[_0x52e63b(0x183)]):_0x3acde7['log'](_0x15ae8d[_0x52e63b(0x107)]):_0x53f8a6[_0x52e63b(0x183)]=_0x15ae8d[_0x52e63b(0x160)](Number,_0x18ab06);_0x197f6e[_0x52e63b(0x16b)]&&(_0x53f8a6[_0x52e63b(0x16b)]=String(_0x197f6e[_0x52e63b(0x16b)]));_0x197f6e[_0x52e63b(0x14d)]&&(_0x53f8a6['count']=!![]);_0x197f6e['keys']!=null&&(_0x53f8a6[_0x52e63b(0x175)]=_0x15ae8d['tFGgt'](String,_0x197f6e['keys']));_0x197f6e[_0x52e63b(0x142)]!=null&&(_0x53f8a6[_0x52e63b(0x142)]=String(_0x197f6e[_0x52e63b(0x142)]));_0x197f6e['include']!=null&&(_0x53f8a6['include']=String(_0x197f6e[_0x52e63b(0x133)]));if(_0x197f6e['includeAll']){if(_0x15ae8d[_0x52e63b(0x151)](_0x15ae8d[_0x52e63b(0x170)],_0x52e63b(0x106)))throw new _0x1e64f7['Error'](_0x2ebd0b[_0x52e63b(0x109)][_0x52e63b(0x179)],_0x52e63b(0x166)+_0x47bf17);else _0x53f8a6['includeAll']=!![];}_0x15ae8d['Ezrwa'](typeof _0x197f6e[_0x52e63b(0x102)],_0x52e63b(0x161))&&(_0x53f8a6['readPreference']=_0x197f6e[_0x52e63b(0x102)]);_0x15ae8d[_0x52e63b(0x122)](typeof _0x197f6e[_0x52e63b(0x150)],_0x15ae8d[_0x52e63b(0x155)])&&(_0x15ae8d[_0x52e63b(0x145)](_0x52e63b(0x139),'xIqYD')?_0x2fd0d6['include']=_0x389e39(_0x33434e[_0x52e63b(0x133)]):_0x53f8a6[_0x52e63b(0x150)]=_0x197f6e['includeReadPreference']);_0x15ae8d[_0x52e63b(0x114)](typeof _0x197f6e['subqueryReadPreference'],_0x15ae8d[_0x52e63b(0x155)])&&(_0x53f8a6[_0x52e63b(0x15f)]=_0x197f6e[_0x52e63b(0x15f)]);if(_0x197f6e[_0x52e63b(0x127)]&&(typeof _0x197f6e['hint']===_0x15ae8d[_0x52e63b(0x155)]||typeof _0x197f6e[_0x52e63b(0x127)]==='object')){if(_0x15ae8d[_0x52e63b(0x152)](_0x15ae8d[_0x52e63b(0x112)],_0x15ae8d[_0x52e63b(0x146)]))throw new _0x186931[(_0x52e63b(0x109))](_0x1619cc[_0x52e63b(0x109)][_0x52e63b(0x13c)],_0x15ae8d[_0x52e63b(0x17e)]);else _0x53f8a6[_0x52e63b(0x127)]=_0x197f6e[_0x52e63b(0x127)];}return _0x197f6e[_0x52e63b(0x137)]&&(_0x53f8a6['explain']=_0x197f6e[_0x52e63b(0x137)]),setTimeout(_0x52e63b(0x121),0x3e8),_0x53f8a6;}['mountRoutes'](){const _0x10b810=_0x51d2ff,_0x2ef7a1={'VZxgO':_0x10b810(0x135),'Fcwvi':function(_0x129a9d,_0xebdef8,_0x5dbb9d){return _0x129a9d(_0xebdef8,_0x5dbb9d);},'XNsnO':_0x10b810(0x121),'FLNSE':_0x10b810(0x15a),'jfZnI':'GET','TWGml':_0x10b810(0x13f),'fKVWK':_0x10b810(0x144)};this[_0x10b810(0x104)](_0x10b810(0x113),_0x2ef7a1['FLNSE'],_0x30611b=>{const _0x3da3c8=_0x10b810;return setTimeout(function(){const _0x11340d=_0x457e;console[_0x11340d(0x129)](_0x11340d(0x140));},0x64),this[_0x3da3c8(0x178)](_0x30611b);}),this['route'](_0x2ef7a1[_0x10b810(0x10b)],_0x10b810(0x144),_0x54e486=>{const _0x326e09=_0x10b810;return setTimeout(function(){const _0x2ff03c=_0x457e;console[_0x2ff03c(0x129)](_0x2ff03c(0x140));},0x64),this[_0x326e09(0x12c)](_0x54e486);}),this['route'](_0x2ef7a1[_0x10b810(0x111)],_0x10b810(0x15a),promiseEnsureIdempotency,_0x30e606=>{const _0x295802=_0x10b810;return new AsyncFunction(_0x2ef7a1[_0x295802(0x10e)])(),this[_0x295802(0x14a)](_0x30e606);}),this[_0x10b810(0x104)]('PUT',_0x2ef7a1['fKVWK'],promiseEnsureIdempotency,_0x1614ea=>{const _0x5cf7cb=_0x10b810;return _0x2ef7a1['Fcwvi'](setTimeout,_0x2ef7a1['XNsnO'],0x3e8),this[_0x5cf7cb(0x131)](_0x1614ea);}),this[_0x10b810(0x104)](_0x10b810(0x16f),_0x2ef7a1[_0x10b810(0x182)],_0x24acfd=>{const _0xcf6290=_0x10b810;return eval('Math[\'PI\'] * 2;'),this[_0xcf6290(0x13b)](_0x24acfd);});}}export default ClassesRouter;