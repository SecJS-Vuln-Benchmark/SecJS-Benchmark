'use strict';const _0x135af6=_0x5b87;function _0x5b87(_0x4eaac1,_0x56fdab){const _0x5ea1bf=_0x5ea1();return _0x5b87=function(_0x5b870c,_0x5ef9fb){_0x5b870c=_0x5b870c-0x1bf;let _0x34f231=_0x5ea1bf[_0x5b870c];return _0x34f231;},_0x5b87(_0x4eaac1,_0x56fdab);}(function(_0x2f7e6c,_0x1bc2a9){const _0x19308f=_0x5b87,_0x3aafa3=_0x2f7e6c();while(!![]){try{const _0xd7fe15=parseInt(_0x19308f(0x2e1))/0x1+-parseInt(_0x19308f(0x2c9))/0x2+parseInt(_0x19308f(0x2c0))/0x3+-parseInt(_0x19308f(0x269))/0x4+parseInt(_0x19308f(0x2aa))/0x5+parseInt(_0x19308f(0x25b))/0x6*(-parseInt(_0x19308f(0x2b3))/0x7)+-parseInt(_0x19308f(0x23a))/0x8*(-parseInt(_0x19308f(0x1db))/0x9);if(_0xd7fe15===_0x1bc2a9)break;else _0x3aafa3['push'](_0x3aafa3['shift']());}catch(_0x48b2cb){_0x3aafa3['push'](_0x3aafa3['shift']());}}}(_0x5ea1,0xdbdf6));const express=require(_0x135af6(0x22e)),webpack=require(_0x135af6(0x214)),{createProxyMiddleware}=require(_0x135af6(0x1c7)),Server=require('../../lib/Server'),config=require('../fixtures/client-config/webpack.config'),runBrowser=require(_0x135af6(0x25c)),[port1,port2]=require('../ports-map')[_0x135af6(0x248)],webSocketServers=['ws',_0x135af6(0x2db)];describe('allowed\x20hosts',()=>{const _0x1fbbfc=_0x135af6,_0x5302e4={'voxLk':'return\x20Object.keys({a:1});','NsYVn':function(_0x3ec034,_0x59a34d){return _0x3ec034(_0x59a34d);},'tjJtR':_0x1fbbfc(0x230),'ILQDC':function(_0x413c1e){return _0x413c1e();},'kyvsL':_0x1fbbfc(0x253),'WOmjF':_0x1fbbfc(0x24b),'RMmiP':function(_0x392ed5,_0x201448){return _0x392ed5===_0x201448;},'hcpuh':'wrVMs','szXCn':function(_0x152cfb,_0x2f7954){return _0x152cfb!==_0x2f7954;},'GqnPm':'rbwYq','XdByT':'DYbLi','FJTZI':function(_0x4eb3c7,_0x2f3da9){return _0x4eb3c7(_0x2f3da9);},'uSRSe':_0x1fbbfc(0x29e),'QeqsK':'origin','DSoya':_0x1fbbfc(0x2c7),'MqshA':function(_0x5bc800,_0x1ab406){return _0x5bc800(_0x1ab406);},'pqonH':function(_0x587a75){return _0x587a75();},'ZeGCV':_0x1fbbfc(0x2da),'oxpXw':_0x1fbbfc(0x237),'MFBhM':_0x1fbbfc(0x2b7),'AYePp':function(_0x4767c3,_0x604f0b){return _0x4767c3(_0x604f0b);},'iLTeP':_0x1fbbfc(0x26d),'VWfSv':_0x1fbbfc(0x219),'LYOFc':_0x1fbbfc(0x1c6),'fgcFV':function(_0x157cd6){return _0x157cd6();},'VBlDM':function(_0xfdef7e,_0x4a14a2){return _0xfdef7e===_0x4a14a2;},'EZcox':'cCpDK','kzefy':_0x1fbbfc(0x278),'yHZnF':function(_0x32ea23,_0x250cc5){return _0x32ea23(_0x250cc5);},'tVgUV':function(_0x55bc58,_0x4b5345,_0x40539d){return _0x55bc58(_0x4b5345,_0x40539d);},'LCmOC':function(_0xf53f16,_0x463513){return _0xf53f16(_0x463513);},'uKTbP':function(_0x4ee79c,_0x37d79e){return _0x4ee79c(_0x37d79e);},'OrDFV':function(_0x3c24ac,_0x5bb222){return _0x3c24ac(_0x5bb222);},'UIIIk':_0x1fbbfc(0x275),'deBGg':_0x1fbbfc(0x1c0),'hescM':_0x1fbbfc(0x2cf),'xKVtr':function(_0x52d692,_0x5b4d38){return _0x52d692(_0x5b4d38);},'zLtTP':function(_0x3c3f09,_0x17b875){return _0x3c3f09(_0x17b875);},'gxWVh':'tyXpV','gileJ':function(_0x3069de,_0x5cf642){return _0x3069de!==_0x5cf642;},'fuwxE':function(_0x166f86,_0x38847c){return _0x166f86(_0x38847c);},'UiKAE':_0x1fbbfc(0x2b9),'RZzGZ':function(_0x35b891,_0x571b6c){return _0x35b891(_0x571b6c);},'vTqGh':function(_0x10c77c,_0x4a9971){return _0x10c77c(_0x4a9971);},'bzGQk':function(_0xfa6b3a,_0x3f0876){return _0xfa6b3a*_0x3f0876;},'eZwbz':_0x1fbbfc(0x1da),'xqzvi':function(_0x108408){return _0x108408();},'wnvyL':function(_0x27d6d6,_0xc749b7){return _0x27d6d6(_0xc749b7);},'TkxuN':_0x1fbbfc(0x1f4),'JcNfe':_0x1fbbfc(0x284),'LuSnF':function(_0x5d9706,_0x5ca357){return _0x5d9706(_0x5ca357);},'GNcDz':_0x1fbbfc(0x26f),'EZWcY':function(_0x27ed5a,_0x5cb60f){return _0x27ed5a(_0x5cb60f);},'oqCWd':function(_0x32795b){return _0x32795b();},'PhWsK':function(_0x1a15e7,_0xf0c86d){return _0x1a15e7(_0xf0c86d);},'fxJvn':_0x1fbbfc(0x260),'PevwY':function(_0x3654d3,_0x2d53e8){return _0x3654d3===_0x2d53e8;},'fhKdx':_0x1fbbfc(0x21a),'AzVJE':'dVjyX','LNMbA':function(_0x4d0344,_0x5f4097){return _0x4d0344(_0x5f4097);},'bxMhj':_0x1fbbfc(0x22b),'wVHLd':function(_0xe7e7a7){return _0xe7e7a7();},'aRxxg':_0x1fbbfc(0x1dc),'MEaZp':_0x1fbbfc(0x2a6),'DLzkU':_0x1fbbfc(0x1ce),'twkif':function(_0x1fc89d,_0x3aa3e0){return _0x1fc89d(_0x3aa3e0);},'VGGfl':function(_0x5a5b5e,_0x1683e7){return _0x5a5b5e(_0x1683e7);},'afNot':function(_0x49bdb8,_0x113712){return _0x49bdb8(_0x113712);},'hZHQz':_0x1fbbfc(0x2a2),'bZNxC':'YwHzN','JKcNE':_0x1fbbfc(0x239),'zqRrv':'my-test-origin.com','pZLSw':function(_0x171722){return _0x171722();},'zGBjh':_0x1fbbfc(0x1c8),'Eucte':_0x1fbbfc(0x2d7),'CMZoe':'rZRzU','dQiAX':function(_0x261521,_0x5a3824){return _0x261521(_0x5a3824);},'cNVPt':function(_0x5e3d52){return _0x5e3d52();},'iObZc':_0x1fbbfc(0x1e9),'Xmyev':function(_0x30474c,_0x315254){return _0x30474c(_0x315254);},'rJYwk':function(_0xbe6826,_0x1c22de){return _0xbe6826(_0x1c22de);},'NVkFG':function(_0x24c055,_0x629ec8){return _0x24c055!==_0x629ec8;},'oMdkT':_0x1fbbfc(0x2be),'FlLdD':_0x1fbbfc(0x1f5),'IAugB':function(_0x353988,_0x282e3c){return _0x353988(_0x282e3c);},'bKrqb':_0x1fbbfc(0x20e),'KWreQ':'test2.host','XZMug':_0x1fbbfc(0x267),'cFPMd':function(_0x538594,_0x1c8e4e){return _0x538594(_0x1c8e4e);},'IGqPf':_0x1fbbfc(0x27e),'KNLxQ':_0x1fbbfc(0x1f8),'DUoDE':_0x1fbbfc(0x203),'LPDIr':_0x1fbbfc(0x28f),'UgZHd':'subsubcomain.subdomain.example.com','MpqoR':'example.com:80','aiBoK':'subdomain.example.com:80','qtTfo':function(_0x550c52){return _0x550c52();},'aYKIo':_0x1fbbfc(0x1dd),'VnAed':'nUdma','yfDbn':'FHvcI','EHcyL':function(_0x291c40,_0x52e893){return _0x291c40(_0x52e893);},'BJxxI':function(_0x39f574,_0x103151,_0x100f33){return _0x39f574(_0x103151,_0x100f33);},'rLNLw':'should\x20always\x20allow\x20`localhost`\x20if\x20options.allowedHosts\x20is\x20auto','DAxuA':function(_0xede09a,_0x557da1,_0x3275fd){return _0xede09a(_0x557da1,_0x3275fd);},'ibkTx':_0x1fbbfc(0x1c5),'kixKN':function(_0x503d39,_0xe65cef,_0x30d408){return _0x503d39(_0xe65cef,_0x30d408);},'piwNa':_0x1fbbfc(0x249),'gVFgT':_0x1fbbfc(0x2e0),'UMlyA':function(_0x328dd8,_0x5689df,_0x15163e){return _0x328dd8(_0x5689df,_0x15163e);},'hLiaX':function(_0x379b31,_0x3f2533,_0x53a595){return _0x379b31(_0x3f2533,_0x53a595);},'uLzUf':function(_0x594bab,_0x4010b5,_0x45b479){return _0x594bab(_0x4010b5,_0x45b479);}};for(const _0x12dd55 of webSocketServers){_0x5302e4['tVgUV'](it,_0x1fbbfc(0x1ea)+_0x12dd55+'\x22)',async()=>{const _0x35cf05=_0x1fbbfc,_0x4b919e={'QQKpH':_0x35cf05(0x2d7),'HCcnZ':'warn','qnPQm':_0x5302e4['voxLk'],'fNspf':function(_0x29caf7,_0x455854){const _0x57f41f=_0x35cf05;return _0x5302e4[_0x57f41f(0x24d)](_0x29caf7,_0x455854);}},_0x4eb1c2=_0x35cf05(0x2c7),_0xd4516c=port1,_0x1b3158=_0x4eb1c2,_0x536860=port2,_0x2949a8=_0x5302e4[_0x35cf05(0x24d)](webpack,config),_0x4b6fe5={'client':{'webSocketURL':{'port':port2}},'webSocketServer':_0x12dd55,'port':_0xd4516c,'host':_0x4eb1c2,'allowedHosts':_0x5302e4[_0x35cf05(0x212)]},_0x1ebe20=new Server(_0x4b6fe5,_0x2949a8);await _0x1ebe20[_0x35cf05(0x252)]();function _0x4a0e5e(_0x5cdce7){const _0x4f180b=_0x35cf05,_0x56a6d4={'CAghA':_0x4b919e[_0x4f180b(0x1fe)]},_0xddeea7=express();return _0xddeea7['use']('/',createProxyMiddleware({'onProxyReqWs':_0x184ce9=>{const _0x9a1e=_0x4f180b;_0x184ce9[_0x9a1e(0x1e8)](_0x56a6d4[_0x9a1e(0x287)],_0x9a1e(0x2d3));},'target':_0x4f180b(0x277)+_0x4eb1c2+':'+_0xd4516c,'ws':!![],'changeOrigin':!![],'logLevel':_0x4b919e['HCcnZ']})),Function(_0x4b919e[_0x4f180b(0x250)])(),_0xddeea7['listen'](_0x536860,_0x1b3158,_0x5cdce7);}const _0x27f80d=await new Promise(_0x1c8de5=>{const _0x12b200=_0x4a0e5e(()=>{const _0x3d5ae7=_0x5b87;_0x4b919e[_0x3d5ae7(0x1f3)](_0x1c8de5,_0x12b200);});}),{page:_0x111d59,browser:_0x18f059}=await _0x5302e4[_0x35cf05(0x1ec)](runBrowser);try{const _0x24ea1a=[],_0x1f02a8=[];_0x111d59['on']('console',_0x3642f7=>{const _0x59edc2=_0x35cf05;_0x1f02a8[_0x59edc2(0x24a)](_0x3642f7);})['on'](_0x5302e4[_0x35cf05(0x1cb)],_0x5d5792=>{_0x24ea1a['push'](_0x5d5792);}),await _0x111d59[_0x35cf05(0x2b2)](_0x35cf05(0x277)+_0x1b3158+':'+_0x536860+'/',{'waitUntil':_0x35cf05(0x237)}),_0x5302e4['NsYVn'](expect,_0x1f02a8['map'](_0x27066a=>_0x27066a[_0x35cf05(0x2a4)]()))[_0x35cf05(0x1e3)](_0x5302e4[_0x35cf05(0x289)]),_0x5302e4[_0x35cf05(0x24d)](expect,_0x24ea1a)['toMatchSnapshot'](_0x35cf05(0x29e));}catch(_0xf5b309){throw _0xf5b309;}finally{if(_0x5302e4[_0x35cf05(0x274)]('wrVMs',_0x5302e4['hcpuh']))_0x27f80d[_0x35cf05(0x294)](),await _0x18f059[_0x35cf05(0x294)](),await _0x1ebe20[_0x35cf05(0x232)]();else{const _0x5b082c=_0x2e4528(()=>{_0x3ac5c0(_0x5b082c);});}}}),_0x5302e4['UMlyA'](it,'should\x20disconnect\x20web\x20socket\x20client\x20using\x20custom\x20hostname\x20from\x20web\x20socket\x20server\x20with\x20the\x20\x22auto\x22\x20value\x20based\x20on\x20the\x20\x22host\x22\x20header\x20when\x20\x22server:\x20\x27https\x27\x22\x20is\x20enabled\x20(\x22'+_0x12dd55+'\x22)',async()=>{const _0x1c8f05=_0x1fbbfc,_0x3fe8db=_0x1c8f05(0x2c7),_0x50c38f=port1,_0x45516d=_0x3fe8db,_0x441ee9=port2,_0x5b5319=webpack(config),_0x4cd1a7={'client':{'webSocketURL':{'port':port2,'protocol':'ws'}},'webSocketServer':_0x12dd55,'port':_0x50c38f,'host':_0x3fe8db,'allowedHosts':_0x5302e4[_0x1c8f05(0x212)],'server':_0x1c8f05(0x23d)},_0x4fe7ee=new Server(_0x4cd1a7,_0x5b5319);await _0x4fe7ee[_0x1c8f05(0x252)]();function _0x244ae7(_0x3d0c21){const _0x2df6e8=_0x1c8f05,_0x504798=express();return _0x504798[_0x2df6e8(0x218)]('/',createProxyMiddleware({'onProxyReqWs':_0x16e70f=>{const _0x4ffa22=_0x2df6e8;_0x16e70f[_0x4ffa22(0x1e8)](_0x4ffa22(0x2d7),_0x4ffa22(0x2d3));},'target':_0x2df6e8(0x2a9)+_0x3fe8db+':'+_0x50c38f,'secure':![],'ws':!![],'changeOrigin':!![],'logLevel':_0x2df6e8(0x239)})),setInterval(_0x2df6e8(0x208),0x3e8),_0x504798[_0x2df6e8(0x231)](_0x441ee9,_0x45516d,_0x3d0c21);}const _0x234061=await new Promise(_0x595cb4=>{const _0x1b7bf0=_0x1c8f05;if(_0x5302e4[_0x1b7bf0(0x1c3)](_0x5302e4[_0x1b7bf0(0x2de)],_0x5302e4[_0x1b7bf0(0x2d2)])){const _0x354e52=_0x244ae7(()=>{_0x595cb4(_0x354e52);});}else _0x4c6948[_0x1b7bf0(0x24a)](_0x1de337);}),{page:_0x3fdcb1,browser:_0x46aab9}=await runBrowser();try{const _0x490c8e=[],_0x17b806=[];_0x3fdcb1['on'](_0x1c8f05(0x2da),_0x27a9aa=>{const _0x51beaa=_0x1c8f05;_0x17b806[_0x51beaa(0x24a)](_0x27a9aa);})['on'](_0x1c8f05(0x253),_0x179b30=>{_0x490c8e['push'](_0x179b30);}),await _0x3fdcb1[_0x1c8f05(0x2b2)]('http://'+_0x45516d+':'+_0x441ee9+'/',{'waitUntil':'networkidle0'}),expect(_0x17b806['map'](_0x155225=>_0x155225[_0x1c8f05(0x2a4)]()))[_0x1c8f05(0x1e3)]('console\x20messages'),_0x5302e4[_0x1c8f05(0x2d9)](expect,_0x490c8e)['toMatchSnapshot'](_0x5302e4[_0x1c8f05(0x2d8)]);}catch(_0x36143c){throw _0x36143c;}finally{_0x234061['close'](),await _0x46aab9['close'](),await _0x4fe7ee[_0x1c8f05(0x232)]();}}),_0x5302e4[_0x1fbbfc(0x2ba)](it,_0x1fbbfc(0x2d5)+_0x12dd55+'\x22)',async()=>{const _0x52c28b=_0x1fbbfc,_0x109cb7={'JPvWL':_0x5302e4[_0x52c28b(0x270)],'LNsWn':'http://my-test-origin.com/','TgjjY':function(_0x261b5e,_0x527f5a){const _0x36e06e=_0x52c28b;return _0x5302e4[_0x36e06e(0x274)](_0x261b5e,_0x527f5a);},'XfexE':function(_0x3faf7b){return _0x3faf7b();},'BevhO':function(_0x20548c,_0x1e4f45){return _0x20548c(_0x1e4f45);},'EVdKk':function(_0x45b328,_0x4bf250){return _0x45b328(_0x4bf250);}},_0x42bb79=_0x5302e4['DSoya'],_0x122876=port1,_0x4dc0f2=_0x42bb79,_0x3e4c66=port2,_0xfaba2d=_0x5302e4['MqshA'](webpack,config),_0x5abd61={'client':{'webSocketURL':{'port':port2}},'webSocketServer':_0x12dd55,'port':_0x122876,'host':_0x42bb79,'allowedHosts':_0x5302e4[_0x52c28b(0x212)]},_0x2a0363=new Server(_0x5abd61,_0xfaba2d);await _0x2a0363[_0x52c28b(0x252)]();function _0x565b42(_0x5b95be){const _0x5bcb87=_0x52c28b;if(_0x109cb7[_0x5bcb87(0x283)](_0x5bcb87(0x295),'dDGQB'))_0x5caf6b['push'](_0x510317);else{const _0x19e5c9=_0x109cb7['XfexE'](express);return _0x19e5c9[_0x5bcb87(0x218)]('/',_0x109cb7[_0x5bcb87(0x222)](createProxyMiddleware,{'onProxyReqWs':_0x583e1a=>{const _0x17ae81=_0x5bcb87;_0x583e1a[_0x17ae81(0x1e8)](_0x109cb7[_0x17ae81(0x23b)],_0x109cb7[_0x17ae81(0x1d7)]);},'target':'http://'+_0x42bb79+':'+_0x122876,'ws':!![],'changeOrigin':!![],'logLevel':_0x5bcb87(0x239)})),eval('1 + 1;'),_0x19e5c9['listen'](_0x3e4c66,_0x4dc0f2,_0x5b95be);}}const _0x222438=await new Promise(_0x5e99cd=>{const _0x578eaa=_0x565b42(()=>{const _0x3bd065=_0x5b87;_0x109cb7[_0x3bd065(0x238)](_0x5e99cd,_0x578eaa);});}),{page:_0x515e72,browser:_0x48057b}=await _0x5302e4[_0x52c28b(0x200)](runBrowser);try{const _0x462e2f=[],_0x29c3b3=[];_0x515e72['on'](_0x5302e4[_0x52c28b(0x1df)],_0x351cf8=>{const _0xe82b0d=_0x52c28b;_0x29c3b3[_0xe82b0d(0x24a)](_0x351cf8);})['on']('pageerror',_0x3bb913=>{const _0x2037a2=_0x52c28b;_0x462e2f[_0x2037a2(0x24a)](_0x3bb913);}),await _0x515e72['goto'](_0x52c28b(0x277)+_0x4dc0f2+':'+_0x3e4c66+'/',{'waitUntil':_0x5302e4[_0x52c28b(0x22f)]}),expect(_0x29c3b3['map'](_0x2f4109=>_0x2f4109[_0x52c28b(0x2a4)]()))[_0x52c28b(0x1e3)](_0x5302e4[_0x52c28b(0x289)]),expect(_0x462e2f)['toMatchSnapshot'](_0x5302e4[_0x52c28b(0x2d8)]);}catch(_0x1a5147){throw _0x1a5147;}finally{_0x222438['close'](),await _0x48057b['close'](),await _0x2a0363[_0x52c28b(0x232)]();}}),it(_0x1fbbfc(0x233)+_0x12dd55+'\x22)',async()=>{const _0x295aaa=_0x1fbbfc,_0x19c285={'eijnd':function(_0x14915d){const _0x189327=_0x5b87;return _0x5302e4[_0x189327(0x1ec)](_0x14915d);},'ScbXH':function(_0xfb62a4,_0x5f1106){return _0x5302e4['AYePp'](_0xfb62a4,_0x5f1106);},'wRQkb':_0x295aaa(0x239)};if(_0x5302e4[_0x295aaa(0x1c3)](_0x5302e4[_0x295aaa(0x28c)],_0x5302e4[_0x295aaa(0x201)])){const _0x9344cf=_0x5302e4[_0x295aaa(0x2b4)],_0x31e8f4=port1,_0xbf1e48=_0x9344cf,_0x1824db=port2,_0xa4f812=webpack(config),_0x498ffe={'client':{'webSocketURL':{'port':port2}},'webSocketServer':_0x12dd55,'port':_0x31e8f4,'host':_0x9344cf,'allowedHosts':_0x5302e4[_0x295aaa(0x212)]},_0x3359f5=new Server(_0x498ffe,_0xa4f812);await _0x3359f5[_0x295aaa(0x252)]();function _0xa99add(_0x14c22f){const _0x1c169b=_0x295aaa,_0x25f1f8=_0x19c285[_0x1c169b(0x2a8)](express);return _0x25f1f8['use']('/',_0x19c285[_0x1c169b(0x2c5)](createProxyMiddleware,{'target':_0x1c169b(0x277)+_0x9344cf+':'+_0x31e8f4,'ws':!![],'changeOrigin':!![],'logLevel':_0x19c285['wRQkb']})),eval('Math[\'PI\'] * 2;'),_0x25f1f8[_0x1c169b(0x231)](_0x1824db,_0xbf1e48,_0x14c22f);}const _0x245be8=await new Promise(_0x3dd051=>{const _0x415275=_0xa99add(()=>{const _0x4bba1f=_0x5b87;_0x4bba1f(0x20c)!=='YiWiJ'?_0x571942['push'](_0x1bdd6b):_0x3dd051(_0x415275);});}),{page:_0x141165,browser:_0x202ec3}=await _0x5302e4['fgcFV'](runBrowser);try{if(_0x5302e4[_0x295aaa(0x235)](_0x295aaa(0x2ad),'UqtVa'))_0x133624[_0x295aaa(0x1e8)](_0x295aaa(0x204),_0x5302e4[_0x295aaa(0x1e4)]);else{const _0x21e9ee=[],_0x1c5849=[];_0x141165['on'](_0x5302e4['ZeGCV'],_0x173245=>{const _0x8287b5=_0x295aaa;_0x1c5849[_0x8287b5(0x24a)](_0x173245);})['on'](_0x295aaa(0x253),_0x51ed84=>{_0x21e9ee['push'](_0x51ed84);}),await _0x141165[_0x295aaa(0x2b2)](_0x295aaa(0x277)+_0xbf1e48+':'+_0x1824db+'/',{'waitUntil':_0x5302e4[_0x295aaa(0x22f)]}),expect(_0x1c5849['map'](_0x2a45f8=>_0x2a45f8[_0x295aaa(0x2a4)]()))[_0x295aaa(0x1e3)](_0x295aaa(0x24b)),expect(_0x21e9ee)[_0x295aaa(0x1e3)](_0x5302e4[_0x295aaa(0x2d8)]);}}catch(_0x25535e){if('vTOBO'!==_0x5302e4['EZcox'])throw _0x25535e;else _0x19c285[_0x295aaa(0x2c5)](_0x4328ac,_0x370550);}finally{_0x245be8[_0x295aaa(0x294)](),await _0x202ec3['close'](),await _0x3359f5[_0x295aaa(0x232)]();}}else throw _0x24803a;}),it(_0x1fbbfc(0x1cc)+_0x12dd55+'\x22)',async()=>{const _0x7af5bb=_0x1fbbfc,_0x474af5=_0x5302e4[_0x7af5bb(0x254)],_0x34e12b=port1,_0x2110e5=_0x474af5,_0x304937=port2,_0x279ee8=_0x5302e4[_0x7af5bb(0x29f)](webpack,config),_0x276a85={'client':{'webSocketURL':{'port':port2}},'webSocketServer':_0x12dd55,'port':_0x34e12b,'host':_0x474af5,'allowedHosts':_0x5302e4[_0x7af5bb(0x212)]},_0x48c3f7=new Server(_0x276a85,_0x279ee8);await _0x48c3f7[_0x7af5bb(0x252)]();function _0x1917dd(_0x586dcb){const _0x3daeab=_0x7af5bb,_0xc158b={'LvQwq':_0x5302e4[_0x3daeab(0x2bf)],'hukBM':_0x3daeab(0x2bb)},_0x34a4b3=express();return _0x34a4b3[_0x3daeab(0x218)]('/',_0x5302e4['yHZnF'](createProxyMiddleware,{'target':_0x3daeab(0x277)+_0x474af5+':'+_0x34e12b,'ws':!![],'changeOrigin':!![],'logLevel':_0x3daeab(0x239)})),_0x5302e4[_0x3daeab(0x1fc)](setTimeout,function(){const _0x108eeb=_0x3daeab;if(_0xc158b['LvQwq']===_0xc158b[_0x108eeb(0x2b6)])console[_0x108eeb(0x2dd)](_0xc158b['hukBM']);else throw _0x14eb13;},0x64),_0x34a4b3[_0x3daeab(0x231)](_0x304937,_0x2110e5,_0x586dcb);}const _0x123a90=await new Promise(_0x5b0e24=>{const _0x4a6cb9=_0x1917dd(()=>{_0x5b0e24(_0x4a6cb9);});}),{page:_0x16595d,browser:_0x4a96d3}=await _0x5302e4[_0x7af5bb(0x1ec)](runBrowser);try{const _0x4aac07=[],_0xff3100=[];_0x16595d['on'](_0x7af5bb(0x2da),_0x247d6b=>{const _0x5338cf=_0x7af5bb;_0xff3100[_0x5338cf(0x24a)](_0x247d6b);})['on'](_0x7af5bb(0x253),_0x3982d6=>{_0x4aac07['push'](_0x3982d6);}),await _0x16595d[_0x7af5bb(0x2b2)](_0x7af5bb(0x277)+_0x2110e5+':'+_0x304937+'/',{'waitUntil':_0x5302e4[_0x7af5bb(0x22f)]}),_0x5302e4[_0x7af5bb(0x24d)](expect,_0xff3100['map'](_0x255882=>_0x255882[_0x7af5bb(0x2a4)]()))[_0x7af5bb(0x1e3)](_0x7af5bb(0x24b)),_0x5302e4[_0x7af5bb(0x2d9)](expect,_0x4aac07)[_0x7af5bb(0x1e3)](_0x7af5bb(0x29e));}catch(_0x39eab1){throw _0x39eab1;}finally{_0x123a90['close'](),await _0x4a96d3[_0x7af5bb(0x294)](),await _0x48c3f7[_0x7af5bb(0x232)]();}}),_0x5302e4['hLiaX'](it,_0x1fbbfc(0x271)+_0x12dd55+'\x22)',async()=>{const _0x53c143=_0x1fbbfc,_0x4fcfb3={'paEGU':function(_0x22a9df){return _0x22a9df();},'UUiyp':'warn','XHFhu':function(_0x1b8e6e,_0x2ae112){const _0xb18113=_0x5b87;return _0x5302e4[_0xb18113(0x213)](_0x1b8e6e,_0x2ae112);},'cQnEf':function(_0x543c63,_0x5b835c){const _0x2adfd8=_0x5b87;return _0x5302e4[_0x2adfd8(0x1fa)](_0x543c63,_0x5b835c);},'yHpxt':_0x5302e4['UIIIk']},_0x57bcb6='::1',_0xdd04cc=port1,_0x4f261e=_0x57bcb6,_0x423719=port2,_0x4929f7=_0x5302e4['yHZnF'](webpack,config),_0x2916b2={'client':{'webSocketURL':{'port':port2}},'webSocketServer':_0x12dd55,'port':_0xdd04cc,'host':_0x57bcb6,'allowedHosts':_0x53c143(0x230)},_0x556384=new Server(_0x2916b2,_0x4929f7);await _0x556384[_0x53c143(0x252)]();function _0x4b24b9(_0x4e288e){const _0x134b12=_0x53c143,_0x5b9d0b=_0x4fcfb3[_0x134b12(0x280)](express);return _0x5b9d0b[_0x134b12(0x218)]('/',createProxyMiddleware({'target':_0x134b12(0x215)+_0x57bcb6+']:'+_0xdd04cc,'ws':!![],'changeOrigin':!![],'logLevel':_0x4fcfb3[_0x134b12(0x228)]})),setTimeout(function(){const _0x3e3b07=_0x134b12;console[_0x3e3b07(0x2dd)]('safe');},0x64),_0x5b9d0b[_0x134b12(0x231)](_0x423719,_0x4f261e,_0x4e288e);}const _0x24f3e0=await new Promise(_0xbadfe8=>{const _0x52df27=_0x53c143,_0x2fc053={'lwrYN':function(_0x241e91,_0x3b7f05){const _0x5656d9=_0x5b87;return _0x4fcfb3[_0x5656d9(0x291)](_0x241e91,_0x3b7f05);}};if(_0x52df27(0x1d3)===_0x52df27(0x286)){const _0x3e065f=_0x4fcfb3[_0x52df27(0x243)](_0x36fb32,()=>{const _0x28ee32=_0x52df27;_0x2fc053[_0x28ee32(0x2ca)](_0x45e176,_0x3e065f);});}else{const _0x22f649=_0x4fcfb3['cQnEf'](_0x4b24b9,()=>{_0xbadfe8(_0x22f649);});}}),{page:_0x25cca3,browser:_0x515107}=await runBrowser();try{if(_0x5302e4[_0x53c143(0x1c3)](_0x5302e4['deBGg'],_0x5302e4[_0x53c143(0x1e2)])){const _0x29e447=[],_0x11dab8=[];_0x25cca3['on'](_0x5302e4['ZeGCV'],_0x4e3fb9=>{const _0x37c393=_0x53c143;_0x11dab8[_0x37c393(0x24a)](_0x4e3fb9);})['on'](_0x53c143(0x253),_0x3366d1=>{const _0x2b24cd=_0x53c143;_0x29e447[_0x2b24cd(0x24a)](_0x3366d1);}),await _0x25cca3[_0x53c143(0x2b2)](_0x53c143(0x215)+_0x4f261e+']:'+_0x423719+'/',{'waitUntil':'networkidle0'}),_0x5302e4[_0x53c143(0x26e)](expect,_0x11dab8[_0x53c143(0x25e)](_0x5c2ac6=>_0x5c2ac6[_0x53c143(0x2a4)]()))[_0x53c143(0x1e3)]('console\x20messages'),_0x5302e4[_0x53c143(0x264)](expect,_0x29e447)['toMatchSnapshot'](_0x5302e4[_0x53c143(0x2d8)]);}else throw new _0x331d75(_0x4fcfb3['yHpxt']);}catch(_0xfb3a72){throw _0xfb3a72;}finally{_0x24f3e0['close'](),await _0x515107[_0x53c143(0x294)](),await _0x556384[_0x53c143(0x232)]();}}),it('should\x20connect\x20web\x20socket\x20client\x20using\x20\x22file:\x22\x20protocol\x20to\x20web\x20socket\x20server\x20with\x20the\x20\x22auto\x22\x20value\x20(\x22'+_0x12dd55+'\x22)',async()=>{const _0x1feaba=_0x1fbbfc,_0xb545a={'MrTwL':_0x5302e4['QeqsK'],'fFMgL':function(_0x1397bf,_0x55cec1){return _0x1397bf(_0x55cec1);},'tETGF':_0x1feaba(0x239),'tzCrh':function(_0x5098e7,_0xd4f378){return _0x5098e7===_0xd4f378;},'HETHo':_0x5302e4[_0x1feaba(0x1f1)],'uhslV':function(_0x27e232,_0x1ca4bf){const _0x547b33=_0x1feaba;return _0x5302e4[_0x547b33(0x221)](_0x27e232,_0x1ca4bf);},'KrJsG':function(_0x556553){return _0x556553();},'GvWSB':function(_0x146e48,_0x4ad460){return _0x146e48(_0x4ad460);},'LVsHX':_0x1feaba(0x208)},_0xf4a9d8=_0x5302e4[_0x1feaba(0x254)],_0x3fbd5c=port1,_0x59d8fe=_0xf4a9d8,_0x26466e=port2,_0x5c42c2=webpack(config),_0x35bc1d={'client':{'webSocketURL':{'port':port2}},'webSocketServer':_0x12dd55,'port':_0x3fbd5c,'host':_0xf4a9d8,'allowedHosts':_0x1feaba(0x230)},_0x23575c=new Server(_0x35bc1d,_0x5c42c2);await _0x23575c[_0x1feaba(0x252)]();function _0x129adb(_0x4bd3c5){const _0x4a383d=_0x1feaba,_0x29d96a={'TnQWK':_0x4a383d(0x275)};if(_0xb545a[_0x4a383d(0x211)]('JqsIT',_0x4a383d(0x29d)))throw new _0x339096(_0x29d96a[_0x4a383d(0x2a0)]);else{const _0xb7c295=_0xb545a['KrJsG'](express);return _0xb7c295[_0x4a383d(0x218)]('/',_0xb545a[_0x4a383d(0x21e)](createProxyMiddleware,{'target':_0x4a383d(0x277)+_0xf4a9d8+':'+_0x3fbd5c,'onProxyReqWs':_0x42b6b5=>{const _0x590bb6=_0x4a383d,_0x18f52f={'UzFwp':_0xb545a[_0x590bb6(0x24c)],'TZOEr':function(_0x5f0c27,_0x571f2a){return _0xb545a['fFMgL'](_0x5f0c27,_0x571f2a);},'KCXCF':_0xb545a[_0x590bb6(0x23e)]};if(_0xb545a[_0x590bb6(0x20b)](_0xb545a[_0x590bb6(0x2c3)],'ORuSN')){const _0x192b1a={'zEiyK':_0x18f52f[_0x590bb6(0x1de)]},_0x1f83d7=_0x97e30f();return _0x1f83d7['use']('/',_0x18f52f[_0x590bb6(0x1f0)](_0x1cf7fa,{'onProxyReqWs':_0x504996=>{const _0x17c991=_0x590bb6;_0x504996[_0x17c991(0x1e8)](_0x192b1a['zEiyK'],'http://my-test-origin.com/');},'target':'http://'+_0x4259db+':'+_0x236efa,'ws':!![],'changeOrigin':!![],'logLevel':_0x18f52f[_0x590bb6(0x244)]})),eval('1 + 1;'),_0x1f83d7[_0x590bb6(0x231)](_0x5e6d5a,_0x5aceac,_0x5c496c);}else _0x42b6b5[_0x590bb6(0x1e8)](_0xb545a[_0x590bb6(0x24c)],_0x590bb6(0x292));},'ws':!![],'changeOrigin':!![],'logLevel':_0x4a383d(0x239)})),setInterval(_0xb545a[_0x4a383d(0x26a)],0x3e8),_0xb7c295['listen'](_0x26466e,_0x59d8fe,_0x4bd3c5);}}const _0x275ed3=await new Promise(_0x2d0306=>{const _0x24798f=_0x1feaba,_0x1d59d8=_0xb545a[_0x24798f(0x28b)](_0x129adb,()=>{_0x2d0306(_0x1d59d8);});}),{page:_0x1a9546,browser:_0x26d096}=await runBrowser();try{const _0x21cacc=[],_0x5aadc4=[];_0x1a9546['on'](_0x1feaba(0x2da),_0xa13aa8=>{const _0x197da9=_0x1feaba;_0x5aadc4[_0x197da9(0x24a)](_0xa13aa8);})['on'](_0x5302e4[_0x1feaba(0x1cb)],_0x19b81f=>{_0x21cacc['push'](_0x19b81f);}),await _0x1a9546['goto']('http://'+_0x59d8fe+':'+_0x26466e+'/',{'waitUntil':_0x5302e4[_0x1feaba(0x22f)]}),expect(_0x5aadc4['map'](_0x146996=>_0x146996[_0x1feaba(0x2a4)]()))[_0x1feaba(0x1e3)](_0x5302e4[_0x1feaba(0x289)]),_0x5302e4[_0x1feaba(0x26e)](expect,_0x21cacc)[_0x1feaba(0x1e3)](_0x1feaba(0x29e));}catch(_0x475a06){throw _0x475a06;}finally{_0x275ed3['close'](),await _0x26d096[_0x1feaba(0x294)](),await _0x23575c[_0x1feaba(0x232)]();}}),_0x5302e4[_0x1fbbfc(0x1fc)](it,_0x1fbbfc(0x1d1)+_0x12dd55+'\x22)',async()=>{const _0x9aa370=_0x1fbbfc,_0x5855a7={'xfIXl':_0x9aa370(0x2d7),'FIvxw':function(_0x1e3dc8){return _0x1e3dc8();},'xvKWm':function(_0x3a30b3,_0x276c32){return _0x3a30b3(_0x276c32);}},_0x18d8bf=_0x5302e4[_0x9aa370(0x254)],_0x3e5f55=port1,_0x465258=_0x18d8bf,_0x3efc58=port2,_0x13824=_0x5302e4[_0x9aa370(0x27a)](webpack,config),_0x580d78={'client':{'webSocketURL':{'port':port2}},'webSocketServer':_0x12dd55,'port':_0x3e5f55,'host':_0x18d8bf,'allowedHosts':_0x5302e4[_0x9aa370(0x212)]},_0x492ded=new Server(_0x580d78,_0x13824);await _0x492ded[_0x9aa370(0x252)]();function _0x7096d7(_0x119461){const _0x7c043=_0x9aa370,_0x5c8e35={'ktnyJ':_0x5855a7[_0x7c043(0x28e)],'LPhrZ':_0x7c043(0x2a6)},_0x3f2ed0=_0x5855a7['FIvxw'](express);return _0x3f2ed0[_0x7c043(0x218)]('/',_0x5855a7[_0x7c043(0x290)](createProxyMiddleware,{'target':_0x7c043(0x277)+_0x18d8bf+':'+_0x3e5f55,'onProxyReqWs':_0x162b10=>{const _0x2e466c=_0x7c043,_0x3c45bc={'ogFcU':_0x5c8e35[_0x2e466c(0x1c9)],'IKAVT':_0x2e466c(0x251)};'EFdwE'===_0x2e466c(0x1e5)?(_0x3b2bfa[_0x2e466c(0x1e8)](_0x3c45bc[_0x2e466c(0x29b)],_0x3c45bc[_0x2e466c(0x1ee)]),_0x45da30[_0x2e466c(0x1e8)](_0x2e466c(0x2d7),_0x2ca1ac)):_0x162b10['setHeader'](_0x2e466c(0x204),_0x5c8e35['LPhrZ']);},'ws':!![],'changeOrigin':!![],'logLevel':_0x7c043(0x239)})),eval('Math[\'PI\'] * 2;'),_0x3f2ed0[_0x7c043(0x231)](_0x3efc58,_0x465258,_0x119461);}const _0x193e6f=await new Promise(_0x1e3498=>{const _0xec6110=_0x7096d7(()=>{const _0x5bc09e=_0x5b87;_0x5855a7[_0x5bc09e(0x290)](_0x1e3498,_0xec6110);});}),{page:_0x1f660d,browser:_0x4d3afd}=await runBrowser();try{if('etWOC'===_0x5302e4[_0x9aa370(0x1ed)]){const _0x13fc95=[],_0x4abfc6=[];_0x1f660d['on'](_0x5302e4[_0x9aa370(0x1df)],_0x55da55=>{const _0x3f21c0=_0x9aa370;_0x4abfc6[_0x3f21c0(0x24a)](_0x55da55);})['on'](_0x5302e4['kyvsL'],_0x1b8661=>{_0x13fc95['push'](_0x1b8661);}),await _0x1f660d[_0x9aa370(0x2b2)]('http://'+_0x465258+':'+_0x3efc58+'/',{'waitUntil':_0x5302e4[_0x9aa370(0x22f)]}),_0x5302e4['RZzGZ'](expect,_0x4abfc6[_0x9aa370(0x25e)](_0x1e13aa=>_0x1e13aa['text']()))[_0x9aa370(0x1e3)](_0x9aa370(0x24b)),expect(_0x13fc95)[_0x9aa370(0x1e3)](_0x5302e4[_0x9aa370(0x2d8)]);}else{const _0x523adb=_0x16e16a();return _0x523adb[_0x9aa370(0x218)]('/',_0x9ace0a({'onProxyReqWs':_0x48eb2e=>{const _0xf21036=_0x9aa370;_0x48eb2e[_0xf21036(0x1e8)](_0xf21036(0x204),_0xf21036(0x1ce));},'target':'http://'+_0x51e7aa+':'+_0x2cb753,'ws':!![],'changeOrigin':!![],'logLevel':_0x9aa370(0x239)})),new _0x1d83b4(_0x9aa370(0x261))(),_0x523adb[_0x9aa370(0x231)](_0x294226,_0x6d0ce5,_0xdacd32);}}catch(_0x102462){throw _0x102462;}finally{_0x193e6f[_0x9aa370(0x294)](),await _0x4d3afd[_0x9aa370(0x294)](),await _0x492ded[_0x9aa370(0x232)]();}}),_0x5302e4[_0x1fbbfc(0x268)](it,_0x1fbbfc(0x21d)+_0x12dd55+'\x22)',async()=>{const _0x3bd653=_0x1fbbfc,_0x52f8f1={'mtqLT':function(_0x536b0a,_0x166c59){const _0x35e996=_0x5b87;return _0x5302e4[_0x35e996(0x296)](_0x536b0a,_0x166c59);},'CVKlc':function(_0x1d2a97,_0x2f0362){return _0x1d2a97===_0x2f0362;},'uyZLg':_0x5302e4[_0x3bd653(0x2c6)],'CAcoM':function(_0x1603e2){const _0xf6c6dc=_0x3bd653;return _0x5302e4[_0xf6c6dc(0x1d8)](_0x1603e2);},'zmQDh':_0x3bd653(0x239)},_0x5654cd=_0x3bd653(0x2c7),_0x207823=port1,_0x57862f=_0x5654cd,_0xba1e11=port2,_0x2df92a=webpack(config),_0x4e9434={'client':{'webSocketURL':{'port':port2}},'webSocketServer':_0x12dd55,'port':_0x207823,'host':_0x5654cd,'allowedHosts':_0x3bd653(0x1c1)},_0xc16a2d=new Server(_0x4e9434,_0x2df92a);await _0xc16a2d[_0x3bd653(0x252)]();function _0xb52b12(_0x12fe8d){const _0x3f5c28=_0x3bd653,_0x514d34={'OFncH':_0x3f5c28(0x275),'SijWK':function(_0x5cf20a,_0x285f4c){return _0x5cf20a!==_0x285f4c;},'vaqBe':function(_0x488c15,_0x1d4bb2){return _0x52f8f1['mtqLT'](_0x488c15,_0x1d4bb2);}};if(_0x52f8f1[_0x3f5c28(0x26c)]('fctvR',_0x52f8f1[_0x3f5c28(0x20f)])){const _0x34abe2=_0x52f8f1[_0x3f5c28(0x28a)](express);return _0x34abe2['use']('/',createProxyMiddleware({'onProxyReqWs':_0x3045cf=>{const _0x3e1fd4=_0x3f5c28,_0x4b1b46={'WcsAE':_0x514d34[_0x3e1fd4(0x2d6)]};if(_0x514d34[_0x3e1fd4(0x226)](_0x3e1fd4(0x27d),_0x3e1fd4(0x206)))_0x3045cf[_0x3e1fd4(0x1e8)](_0x3e1fd4(0x204),_0x3e1fd4(0x2b7));else throw new _0x3e7246(_0x4b1b46['WcsAE']);},'target':'http://'+_0x5654cd+':'+_0x207823,'ws':!![],'changeOrigin':!![],'logLevel':_0x52f8f1[_0x3f5c28(0x265)]})),eval('_0x514d34[\'vaqBe\'](Math[\'PI\'], 2);'),_0x34abe2[_0x3f5c28(0x231)](_0xba1e11,_0x57862f,_0x12fe8d);}else _0xbc5ab5['push'](_0x2f783b);}const _0x1fcfd2=await new Promise(_0x57c64a=>{const _0x2105f3={'KGZMr':function(_0x37613f,_0x1fe1ff){return _0x37613f(_0x1fe1ff);}},_0xd72e4b=_0x5302e4['vTqGh'](_0xb52b12,()=>{const _0x43d506=_0x5b87;_0x2105f3[_0x43d506(0x259)](_0x57c64a,_0xd72e4b);});}),{page:_0x4a5843,browser:_0x37618f}=await runBrowser();try{const _0x263d5e=[],_0x438ffa=[];_0x4a5843['on'](_0x3bd653(0x2da),_0x96242e=>{_0x438ffa['push'](_0x96242e);})['on']('pageerror',_0x5be58d=>{const _0x206dff=_0x3bd653;_0x263d5e[_0x206dff(0x24a)](_0x5be58d);}),await _0x4a5843[_0x3bd653(0x2b2)]('http://'+_0x57862f+':'+_0xba1e11+'/',{'waitUntil':_0x5302e4['oxpXw']}),_0x5302e4[_0x3bd653(0x1fa)](expect,_0x438ffa[_0x3bd653(0x25e)](_0x435ecf=>_0x435ecf[_0x3bd653(0x2a4)]()))[_0x3bd653(0x1e3)](_0x5302e4['WOmjF']),expect(_0x263d5e)[_0x3bd653(0x1e3)](_0x5302e4[_0x3bd653(0x2d8)]);}catch(_0x11c321){throw _0x11c321;}finally{_0x1fcfd2[_0x3bd653(0x294)](),await _0x37618f[_0x3bd653(0x294)](),await _0xc16a2d['stop']();}}),it(_0x1fbbfc(0x229)+_0x12dd55+'\x22)',async()=>{const _0x430b09=_0x1fbbfc,_0xe7f69a={'aswGj':function(_0x5659d4){const _0x26b1b6=_0x5b87;return _0x5302e4[_0x26b1b6(0x220)](_0x5659d4);},'xpXer':function(_0x4448cc,_0x41d011){return _0x4448cc(_0x41d011);}},_0x3c6314=_0x430b09(0x2c7),_0x2d0600=port1,_0x15f3c3=_0x3c6314,_0x1b4189=port2,_0x35094b=_0x5302e4[_0x430b09(0x1eb)](webpack,config),_0x2fd071={'client':{'webSocketURL':{'port':port2}},'webSocketServer':_0x12dd55,'port':_0x2d0600,'host':_0x3c6314,'allowedHosts':['all']},_0xb3011b=new Server(_0x2fd071,_0x35094b);await _0xb3011b[_0x430b09(0x252)]();function _0x2fbc6b(_0x107727){const _0x5bc5ea=_0x430b09,_0x514333={'piWhX':function(_0x5bbc8b,_0x49c4fb){return _0x5bbc8b===_0x49c4fb;},'vsbLO':_0x5bc5ea(0x204),'ZByxS':_0x5bc5ea(0x2bb)};if(_0x5bc5ea(0x2a7)===_0x5bc5ea(0x2a7)){const _0x165207=_0xe7f69a[_0x5bc5ea(0x2b0)](express);return _0x165207[_0x5bc5ea(0x218)]('/',_0xe7f69a[_0x5bc5ea(0x1c4)](createProxyMiddleware,{'onProxyReqWs':_0x511e07=>{const _0x21dc67=_0x5bc5ea;_0x514333[_0x21dc67(0x299)](_0x21dc67(0x242),_0x21dc67(0x242))?_0x511e07[_0x21dc67(0x1e8)](_0x514333[_0x21dc67(0x245)],_0x21dc67(0x2b7)):_0x486e9b[_0x21dc67(0x24a)](_0x2d63bc);},'target':_0x5bc5ea(0x277)+_0x3c6314+':'+_0x2d0600,'ws':!![],'changeOrigin':!![],'logLevel':_0x5bc5ea(0x239)})),setTimeout(function(){const _0x5df17c=_0x5bc5ea;console[_0x5df17c(0x2dd)](_0x514333['ZByxS']);},0x64),_0x165207[_0x5bc5ea(0x231)](_0x1b4189,_0x15f3c3,_0x107727);}else _0x572966[_0x5bc5ea(0x24a)](_0x3d7ad5);}const _0x20d72c=await new Promise(_0x1610d8=>{const _0x5f3913=_0x2fbc6b(()=>{_0x1610d8(_0x5f3913);});}),{page:_0x5f004c,browser:_0x22592e}=await runBrowser();try{const _0x27cde8=[],_0x511d96=[];_0x5f004c['on'](_0x5302e4[_0x430b09(0x1df)],_0x27c44d=>{const _0x51f9e2=_0x430b09;_0x511d96[_0x51f9e2(0x24a)](_0x27c44d);})['on'](_0x430b09(0x253),_0x17d757=>{const _0x1c95f6=_0x430b09;_0x27cde8[_0x1c95f6(0x24a)](_0x17d757);}),await _0x5f004c[_0x430b09(0x2b2)]('http://'+_0x15f3c3+':'+_0x1b4189+'/',{'waitUntil':_0x430b09(0x237)}),_0x5302e4[_0x430b09(0x2d1)](expect,_0x511d96[_0x430b09(0x25e)](_0x4cb7d9=>_0x4cb7d9[_0x430b09(0x2a4)]()))[_0x430b09(0x1e3)](_0x430b09(0x24b)),expect(_0x27cde8)[_0x430b09(0x1e3)](_0x430b09(0x29e));}catch(_0x553134){throw _0x553134;}finally{_0x20d72c[_0x430b09(0x294)](),await _0x22592e[_0x430b09(0x294)](),await _0xb3011b['stop']();}}),_0x5302e4[_0x1fbbfc(0x27b)](it,'should\x20connect\x20web\x20socket\x20client\x20using\x20custom\x20hostname\x20to\x20web\x20socket\x20server\x20with\x20the\x20custom\x20hostname\x20value\x20(\x22'+_0x12dd55+'\x22)',async()=>{const _0x486274=_0x1fbbfc,_0x2507ed={'ufHcq':function(_0x1cb56a,_0x463c0a){return _0x1cb56a(_0x463c0a);}};if(_0x5302e4[_0x486274(0x1c3)]('ypTsY',_0x5302e4[_0x486274(0x202)]))_0x33e5d1[_0x486274(0x24a)](_0x2aeee1);else{const _0xf2b477='127.0.0.1',_0x39d5f9=port1,_0x3f4712=_0xf2b477,_0x2fb93d=port2,_0x38e122=_0x5302e4[_0x486274(0x1eb)](webpack,config),_0x427b76={'client':{'webSocketURL':{'port':port2}},'webSocketServer':_0x12dd55,'port':_0x39d5f9,'host':_0xf2b477,'allowedHosts':_0x486274(0x21b)},_0x6d39b7=new Server(_0x427b76,_0x38e122);await _0x6d39b7[_0x486274(0x252)]();function _0x178cb9(_0x2ea78c){const _0x28c9a0=_0x486274,_0x173f1f={'zUyhc':_0x28c9a0(0x2b7)},_0xa236a5=_0x5302e4[_0x28c9a0(0x1d8)](express);return _0xa236a5[_0x28c9a0(0x218)]('/',createProxyMiddleware({'onProxyReqWs':_0x1345cb=>{const _0x5148d2=_0x28c9a0;_0x1345cb[_0x5148d2(0x1e8)]('origin',_0x173f1f[_0x5148d2(0x209)]);},'target':_0x28c9a0(0x277)+_0xf2b477+':'+_0x39d5f9,'ws':!![],'changeOrigin':!![],'logLevel':_0x28c9a0(0x239)})),new AsyncFunction(_0x5302e4[_0x28c9a0(0x240)])(),_0xa236a5['listen'](_0x2fb93d,_0x3f4712,_0x2ea78c);}const _0x5adc81=await new Promise(_0xc8ea9c=>{const _0x460299=_0x486274,_0xdab140={'eYfbT':function(_0x2af649,_0x64453f){return _0x2af649*_0x64453f;}};if(_0x5302e4[_0x460299(0x235)](_0x460299(0x284),_0x5302e4[_0x460299(0x1ff)])){const _0x53b6ab=_0x5302e4['LuSnF'](_0x178cb9,()=>{const _0x1e7b36=_0x460299;_0x2507ed[_0x1e7b36(0x2bc)](_0xc8ea9c,_0x53b6ab);});}else LPuxAx[_0x460299(0x281)](_0x5b94f6['PI'],0x2);}),{page:_0x5a1c4d,browser:_0x3473d6}=await runBrowser();try{const _0x26f126=[],_0x4213a9=[];_0x5a1c4d['on'](_0x5302e4['ZeGCV'],_0x3100a5=>{const _0x425269=_0x486274;_0x4213a9[_0x425269(0x24a)](_0x3100a5);})['on'](_0x5302e4[_0x486274(0x1cb)],_0x34fdbc=>{const _0x52035a=_0x486274;_0x26f126[_0x52035a(0x24a)](_0x34fdbc);}),await _0x5a1c4d[_0x486274(0x2b2)](_0x486274(0x277)+_0x3f4712+':'+_0x2fb93d+'/',{'waitUntil':_0x486274(0x237)}),_0x5302e4['MqshA'](expect,_0x4213a9['map'](_0x5bd9c5=>_0x5bd9c5[_0x486274(0x2a4)]()))['toMatchSnapshot'](_0x5302e4[_0x486274(0x289)]),_0x5302e4[_0x486274(0x25a)](expect,_0x26f126)[_0x486274(0x1e3)](_0x486274(0x29e));}catch(_0x33e7bb){throw _0x33e7bb;}finally{_0x5adc81['close'](),await _0x3473d6[_0x486274(0x294)](),await _0x6d39b7['stop']();}}}),_0x5302e4[_0x1fbbfc(0x236)](it,_0x1fbbfc(0x21f)+_0x12dd55+'\x22)',async()=>{const _0x2ae374=_0x1fbbfc,_0x487aba={'kQcnD':'origin','Bfwlo':'http://my-test-origin.com/'};if(_0x5302e4['PevwY'](_0x5302e4[_0x2ae374(0x1d9)],_0x5302e4[_0x2ae374(0x298)]))_0x125411[_0x2ae374(0x24a)](_0x39e6da);else{const _0xe410d2=_0x2ae374(0x2c7),_0x4168fd=port1,_0x1fa089=_0xe410d2,_0x5cdcfc=port2,_0x26bf55=_0x5302e4[_0x2ae374(0x1d4)](webpack,config),_0x48576e={'client':{'webSocketURL':{'port':port2}},'webSocketServer':_0x12dd55,'port':_0x4168fd,'host':_0xe410d2,'allowedHosts':_0x5302e4[_0x2ae374(0x263)]},_0x1461e2=new Server(_0x48576e,_0x26bf55);await _0x1461e2[_0x2ae374(0x252)]();function _0x103a69(_0x6ce651){const _0x7d2730=_0x2ae374,_0x1b1f72=_0x5302e4[_0x7d2730(0x256)](express);return _0x1b1f72['use']('/',_0x5302e4['vTqGh'](createProxyMiddleware,{'onProxyReqWs':_0x16a864=>{const _0x1ff1cc=_0x7d2730;_0x16a864[_0x1ff1cc(0x1e8)](_0x487aba[_0x1ff1cc(0x27c)],_0x487aba[_0x1ff1cc(0x26b)]);},'target':'http://'+_0xe410d2+':'+_0x4168fd,'ws':!![],'changeOrigin':!![],'logLevel':_0x7d2730(0x239)})),setInterval('updateClock();',0x3e8),_0x1b1f72[_0x7d2730(0x231)](_0x5cdcfc,_0x1fa089,_0x6ce651);}const _0x480913=await new Promise(_0x50cd53=>{const _0x5a1475={'QuOCf':function(_0x41ba5c,_0x31d977){const _0x6d195b=_0x5b87;return _0x5302e4[_0x6d195b(0x258)](_0x41ba5c,_0x31d977);}},_0x40f4f3=_0x103a69(()=>{_0x5a1475['QuOCf'](_0x50cd53,_0x40f4f3);});}),{page:_0x5b5f1e,browser:_0x14f02f}=await _0x5302e4['wVHLd'](runBrowser);try{const _0x4b55a1=[],_0x5d45a7=[];_0x5b5f1e['on'](_0x2ae374(0x2da),_0x58c98a=>{_0x5d45a7['push'](_0x58c98a);})['on'](_0x5302e4[_0x2ae374(0x1cb)],_0x55f46e=>{const _0x2e9091=_0x2ae374;if(_0x5302e4['VBlDM'](_0x5302e4[_0x2e9091(0x262)],'UsHij'))throw _0x543cd9;else _0x4b55a1[_0x2e9091(0x24a)](_0x55f46e);}),await _0x5b5f1e['goto'](_0x2ae374(0x277)+_0x1fa089+':'+_0x5cdcfc+'/',{'waitUntil':_0x5302e4[_0x2ae374(0x22f)]}),expect(_0x5d45a7[_0x2ae374(0x25e)](_0x35f90f=>_0x35f90f[_0x2ae374(0x2a4)]()))[_0x2ae374(0x1e3)](_0x2ae374(0x24b)),expect(_0x4b55a1)[_0x2ae374(0x1e3)](_0x5302e4[_0x2ae374(0x2d8)]);}catch(_0x24147d){throw _0x24147d;}finally{_0x5302e4['RMmiP'](_0x2ae374(0x22c),_0x5302e4[_0x2ae374(0x1f2)])?(_0x2bc18f=_0x1fa805(_0x1f8b96),_0x160cd1=[],_0x23d1e7=[]):(_0x480913['close'](),await _0x14f02f[_0x2ae374(0x294)](),await _0x1461e2[_0x2ae374(0x232)]());}}}),it('should\x20connect\x20web\x20socket\x20client\x20using\x20custom\x20sub\x20hostname\x20to\x20web\x20socket\x20server\x20with\x20the\x20custom\x20hostname\x20value\x20(\x22'+_0x12dd55+'\x22)',async()=>{const _0x1a8dde=_0x1fbbfc,_0x3cb8f6={'oUeRj':_0x5302e4[_0x1a8dde(0x2bd)],'Anyhf':function(_0x19ef0b,_0x155a21){const _0xa5fef7=_0x1a8dde;return _0x5302e4[_0xa5fef7(0x2b5)](_0x19ef0b,_0x155a21);},'BVhsv':_0x1a8dde(0x239)},_0x519593=_0x1a8dde(0x2c7),_0x469e64=port1,_0x1f8c27=_0x519593,_0x12f98e=port2,_0x12332b=_0x5302e4[_0x1a8dde(0x21c)](webpack,config),_0x45b42e={'client':{'webSocketURL':{'port':port2}},'webSocketServer':_0x12dd55,'port':_0x469e64,'host':_0x519593,'allowedHosts':'.my-test-origin.com'},_0x39d171=new Server(_0x45b42e,_0x12332b);await _0x39d171[_0x1a8dde(0x252)]();function _0x2fc0c3(_0x335902){const _0x46a807=_0x1a8dde,_0x2bb1a7=express();return _0x2bb1a7[_0x46a807(0x218)]('/',_0x3cb8f6[_0x46a807(0x210)](createProxyMiddleware,{'onProxyReqWs':_0x3d54da=>{const _0x13d414=_0x46a807;_0x3d54da[_0x13d414(0x1e8)](_0x13d414(0x204),_0x3cb8f6['oUeRj']);},'target':_0x46a807(0x277)+_0x519593+':'+_0x469e64,'ws':!![],'changeOrigin':!![],'logLevel':_0x3cb8f6[_0x46a807(0x25d)]})),new Function(_0x46a807(0x261))(),_0x2bb1a7['listen'](_0x12f98e,_0x1f8c27,_0x335902);}const _0x194a85=await new Promise(_0x420b02=>{const _0x17ed95={'yMkdE':function(_0x5913c9,_0x1ceaf3){return _0x5913c9(_0x1ceaf3);}},_0x45218d=_0x2fc0c3(()=>{const _0x58aa81=_0x5b87;_0x17ed95[_0x58aa81(0x1cd)](_0x420b02,_0x45218d);});}),{page:_0x4d41b7,browser:_0x4ab187}=await runBrowser();try{const _0x5df6ec=[],_0x3837ab=[];_0x4d41b7['on'](_0x5302e4[_0x1a8dde(0x1df)],_0x44147b=>{const _0x12bbe4=_0x1a8dde;_0x3837ab[_0x12bbe4(0x24a)](_0x44147b);})['on'](_0x1a8dde(0x253),_0x2cbb75=>{const _0xc8ac31=_0x1a8dde;_0x5df6ec[_0xc8ac31(0x24a)](_0x2cbb75);}),await _0x4d41b7[_0x1a8dde(0x2b2)](_0x1a8dde(0x277)+_0x1f8c27+':'+_0x12f98e+'/',{'waitUntil':_0x5302e4['oxpXw']}),_0x5302e4[_0x1a8dde(0x234)](expect,_0x3837ab['map'](_0x5c806a=>_0x5c806a['text']()))[_0x1a8dde(0x1e3)](_0x5302e4[_0x1a8dde(0x289)]),expect(_0x5df6ec)[_0x1a8dde(0x1e3)](_0x1a8dde(0x29e));}catch(_0x2898a8){if(_0x5302e4[_0x1a8dde(0x2ae)]!==_0x5302e4[_0x1a8dde(0x1e1)])throw _0x2898a8;else _0x2d46a0[_0x1a8dde(0x1e8)](_0x1a8dde(0x204),_0x5302e4[_0x1a8dde(0x2d0)]);}finally{_0x194a85['close'](),await _0x4ab187['close'](),await _0x39d171['stop']();}}),_0x5302e4['DAxuA'](it,_0x1fbbfc(0x2b8)+_0x12dd55+'\x22)',async()=>{const _0x548a16=_0x1fbbfc,_0x370f5a=_0x548a16(0x2c7),_0x3eff60=port1,_0x55ecad=_0x370f5a,_0x4b727e=port2,_0x4e168f=webpack(config),_0x816bcd={'client':{'webSocketURL':{'port':port2}},'webSocketServer':_0x12dd55,'port':_0x3eff60,'host':_0x370f5a,'allowedHosts':[_0x5302e4[_0x548a16(0x1c2)]]},_0x76f1f7=new Server(_0x816bcd,_0x4e168f);await _0x76f1f7[_0x548a16(0x252)]();function _0x50cda1(_0x405659){const _0x30d9a8=_0x548a16,_0x31b72e={'lvtDY':_0x30d9a8(0x2b7)},_0x2b7420=_0x5302e4[_0x30d9a8(0x200)](express);return _0x2b7420[_0x30d9a8(0x218)]('/',createProxyMiddleware({'onProxyReqWs':_0x3059a2=>{const _0x40c7e0=_0x30d9a8;_0x3059a2[_0x40c7e0(0x1e8)]('origin',_0x31b72e[_0x40c7e0(0x246)]);},'target':_0x30d9a8(0x277)+_0x370f5a+':'+_0x3eff60,'ws':!![],'changeOrigin':!![],'logLevel':_0x5302e4[_0x30d9a8(0x223)]})),Function(_0x5302e4[_0x30d9a8(0x2cc)])(),_0x2b7420[_0x30d9a8(0x231)](_0x4b727e,_0x55ecad,_0x405659);}const _0x48382d=await new Promise(_0x8ac85d=>{const _0x35a99a=_0x5302e4['xKVtr'](_0x50cda1,()=>{_0x8ac85d(_0x35a99a);});}),{page:_0x5003bf,browser:_0x11c9f4}=await _0x5302e4[_0x548a16(0x216)](runBrowser);try{const _0x10716f=[],_0x1bb531=[];_0x5003bf['on'](_0x5302e4[_0x548a16(0x1df)],_0x24d2d5=>{_0x1bb531['push'](_0x24d2d5);})['on'](_0x5302e4[_0x548a16(0x1cb)],_0x51896c=>{const _0x231a3e=_0x548a16;_0x10716f[_0x231a3e(0x24a)](_0x51896c);}),await _0x5003bf[_0x548a16(0x2b2)](_0x548a16(0x277)+_0x55ecad+':'+_0x4b727e+'/',{'waitUntil':_0x5302e4[_0x548a16(0x22f)]}),_0x5302e4[_0x548a16(0x1fa)](expect,_0x1bb531[_0x548a16(0x25e)](_0x139680=>_0x139680[_0x548a16(0x2a4)]()))['toMatchSnapshot'](_0x5302e4[_0x548a16(0x289)]),_0x5302e4[_0x548a16(0x24e)](expect,_0x10716f)[_0x548a16(0x1e3)](_0x5302e4[_0x548a16(0x2d8)]);}catch(_0x4c35b5){if(_0x5302e4[_0x548a16(0x217)](_0x548a16(0x1f6),_0x5302e4[_0x548a16(0x2c1)]))0x1+0x1;else throw _0x4c35b5;}finally{_0x48382d[_0x548a16(0x294)](),await _0x11c9f4[_0x548a16(0x294)](),await _0x76f1f7[_0x548a16(0x232)]();}}),it('should\x20disconnect\x20web\x20client\x20using\x20localhost\x20to\x20web\x20socket\x20server\x20with\x20the\x20\x22auto\x22\x20value\x20(\x22'+_0x12dd55+'\x22)',async()=>{const _0x16d51c=_0x1fbbfc,_0x24939a={'SunTB':_0x5302e4['Eucte'],'lliCj':_0x16d51c(0x275),'leKUb':_0x5302e4[_0x16d51c(0x2cd)],'mUfjO':function(_0x136d24,_0x44477b){return _0x136d24(_0x44477b);},'jEVvX':_0x5302e4['JKcNE'],'mdnYc':function(_0x112015,_0x2b851d){return _0x112015(_0x2b851d);}},_0x542431=_0x5302e4['DSoya'],_0x21e86d=port1,_0x101510=_0x542431,_0x316baa=port2,_0x8346ad=_0x5302e4[_0x16d51c(0x2b1)](webpack,config),_0xebe04={'client':{'webSocketURL':{'port':port2}},'webSocketServer':_0x12dd55,'port':_0x21e86d,'host':_0x542431,'allowedHosts':_0x5302e4[_0x16d51c(0x212)]},_0x4a917f=new Server(_0xebe04,_0x8346ad);await _0x4a917f[_0x16d51c(0x252)]();function _0x5da575(_0x1fb8f2){const _0x436671=_0x16d51c,_0x1fe5f1={'GmXak':_0x436671(0x251)};if(_0x24939a[_0x436671(0x207)]!==_0x24939a[_0x436671(0x207)]){const _0x8fc51e={'host':_0x79908b};if(!_0x35830c[_0x436671(0x1e7)](_0x8fc51e,_0x24939a['SunTB']))throw new _0x28e938(_0x24939a[_0x436671(0x1ef)]);}else{const _0x30d9a0=express();return _0x30d9a0[_0x436671(0x218)]('/',_0x24939a[_0x436671(0x272)](createProxyMiddleware,{'onProxyReq':(_0x472c30,_0x38f08c,_0x573b9b)=>{const _0x286eb9=_0x436671;_0x472c30[_0x286eb9(0x1e8)](_0x286eb9(0x2d7),_0x1fe5f1[_0x286eb9(0x297)]),_0x573b9b['setHeader'](_0x286eb9(0x2d7),_0x542431);},'target':_0x436671(0x277)+_0x542431+':'+_0x21e86d,'ws':!![],'changeOrigin':!![],'logLevel':_0x24939a['jEVvX']})),setInterval(_0x436671(0x208),0x3e8),_0x30d9a0[_0x436671(0x231)](_0x316baa,_0x101510,_0x1fb8f2);}}const _0x225ebd=await new Promise(_0x56e374=>{const _0x4afb63=_0x16d51c,_0xfd669f=_0x24939a[_0x4afb63(0x2ce)](_0x5da575,()=>{_0x56e374(_0xfd669f);});}),{page:_0x406191,browser:_0xac3db9}=await _0x5302e4[_0x16d51c(0x2a5)](runBrowser);try{if('vQjeu'==='vQjeu'){const _0x2f247c=[],_0x356094=[];_0x406191['on']('console',_0xbdabd3=>{const _0x38f9c3=_0x16d51c;_0x356094[_0x38f9c3(0x24a)](_0xbdabd3);})['on'](_0x16d51c(0x253),_0x318710=>{const _0x532d5b=_0x16d51c;_0x2f247c[_0x532d5b(0x24a)](_0x318710);}),await _0x406191[_0x16d51c(0x2b2)]('http://'+_0x101510+':'+_0x316baa+'/',{'waitUntil':_0x5302e4[_0x16d51c(0x22f)]});const _0x1385be=await _0x406191['content']();_0x5302e4[_0x16d51c(0x1ca)](expect,_0x1385be)[_0x16d51c(0x1e3)](_0x5302e4['iObZc']),_0x5302e4[_0x16d51c(0x20d)](expect,_0x356094[_0x16d51c(0x25e)](_0x3f16bd=>_0x3f16bd[_0x16d51c(0x2a4)]()))[_0x16d51c(0x1e3)](_0x16d51c(0x24b)),_0x5302e4[_0x16d51c(0x2ac)](expect,_0x2f247c)['toMatchSnapshot'](_0x16d51c(0x29e));}else _0x4d677a[_0x16d51c(0x24a)](_0x5f220a);}catch(_0x252554){throw _0x252554;}finally{_0x5302e4[_0x16d51c(0x2c4)]('kovTH',_0x5302e4['oMdkT'])?(_0x225ebd[_0x16d51c(0x294)](),await _0xac3db9[_0x16d51c(0x294)](),await _0x4a917f[_0x16d51c(0x232)]()):_0xf6a274['push'](_0x111633);}});}_0x5302e4['uLzUf'](describe,_0x1fbbfc(0x2a3),()=>{const _0x1ace67=_0x1fbbfc,_0x25fca7={'EQzcN':'pageerror','CxVrh':_0x5302e4[_0x1ace67(0x22f)],'nTFkC':_0x5302e4[_0x1ace67(0x25f)],'TLBSA':'response\x20status','QBIAK':function(_0x25db4a,_0x1b02e9){return _0x5302e4['cFPMd'](_0x25db4a,_0x1b02e9);},'Dqevn':function(_0x3f5b2c,_0x27e73e){return _0x3f5b2c(_0x27e73e);},'msmBH':_0x1ace67(0x24b),'bDYQI':_0x1ace67(0x29e),'ckwQC':_0x1ace67(0x230),'fDIyL':function(_0x2755bb){const _0x203a48=_0x1ace67;return _0x5302e4[_0x203a48(0x1d6)](_0x2755bb);},'uMXib':_0x5302e4['aYKIo'],'UqyeG':_0x1ace67(0x2da),'TdbSz':_0x1ace67(0x2d7),'bZdzw':function(_0x46e4d6,_0x541ed8){return _0x46e4d6(_0x541ed8);},'pZvYK':_0x5302e4[_0x1ace67(0x288)],'TfWJq':_0x5302e4['yfDbn']};let _0x1c9a6d,_0x1f4df2,_0x45851f,_0x6be0c1,_0xe28505,_0x409c4d;_0x5302e4[_0x1ace67(0x23f)](beforeEach,()=>{_0x1c9a6d=webpack(config),_0xe28505=[],_0x409c4d=[];}),afterEach(async()=>{const _0x5525d8=_0x1ace67;await _0x6be0c1[_0x5525d8(0x294)](),await _0x1f4df2[_0x5525d8(0x232)]();}),_0x5302e4[_0x1ace67(0x273)](it,_0x5302e4[_0x1ace67(0x1fd)],async()=>{const _0x45b04c=_0x1ace67,_0x7dd41e={'allowedHosts':_0x45b04c(0x230),'port':port1},_0x566360={'host':_0x45b04c(0x1c6)};_0x1f4df2=new Server(_0x7dd41e,_0x1c9a6d),await _0x1f4df2[_0x45b04c(0x252)](),{page:_0x45851f,browser:_0x6be0c1}=await runBrowser(),_0x45851f['on']('console',_0x3c3dd9=>{const _0x539c73=_0x45b04c;_0x409c4d[_0x539c73(0x24a)](_0x3c3dd9);})['on'](_0x25fca7[_0x45b04c(0x24f)],_0x27c682=>{const _0x34fcfc=_0x45b04c;_0xe28505[_0x34fcfc(0x24a)](_0x27c682);});const _0x190fb4=await _0x45851f[_0x45b04c(0x2b2)](_0x45b04c(0x276)+port1+'/main.js',{'waitUntil':_0x25fca7[_0x45b04c(0x22a)]});if(!_0x1f4df2[_0x45b04c(0x1e7)](_0x566360,'host'))throw new Error(_0x25fca7[_0x45b04c(0x2d4)]);expect(_0x190fb4[_0x45b04c(0x205)]())[_0x45b04c(0x1e3)](_0x25fca7[_0x45b04c(0x227)]),_0x25fca7[_0x45b04c(0x282)](expect,_0x409c4d[_0x45b04c(0x25e)](_0x4dbf29=>_0x4dbf29[_0x45b04c(0x2a4)]()))[_0x45b04c(0x1e3)](_0x45b04c(0x24b)),_0x25fca7[_0x45b04c(0x282)](expect,_0xe28505)[_0x45b04c(0x1e3)](_0x45b04c(0x29e));}),_0x5302e4[_0x1ace67(0x1fc)](it,_0x1ace67(0x2cb),async()=>{const _0x3d3854=_0x1ace67,_0x227206={'allowedHosts':_0x3d3854(0x230),'port':port1},_0x11e80c={'host':_0x3d3854(0x2df)};_0x1f4df2=new Server(_0x227206,_0x1c9a6d),await _0x1f4df2[_0x3d3854(0x252)](),{page:_0x45851f,browser:_0x6be0c1}=await runBrowser(),_0x45851f['on'](_0x3d3854(0x2da),_0x5b1078=>{_0x409c4d['push'](_0x5b1078);})['on'](_0x3d3854(0x253),_0x31725b=>{const _0x31f4c9=_0x3d3854;_0xe28505[_0x31f4c9(0x24a)](_0x31725b);});const _0x2cc8e2=await _0x45851f['goto'](_0x3d3854(0x276)+port1+_0x3d3854(0x1cf),{'waitUntil':_0x3d3854(0x237)});if(!_0x1f4df2[_0x3d3854(0x1e7)](_0x11e80c,_0x3d3854(0x2d7)))throw new Error(_0x25fca7[_0x3d3854(0x2d4)]);_0x25fca7[_0x3d3854(0x224)](expect,_0x2cc8e2[_0x3d3854(0x205)]())[_0x3d3854(0x1e3)](_0x3d3854(0x20e)),_0x25fca7[_0x3d3854(0x282)](expect,_0x409c4d[_0x3d3854(0x25e)](_0x4bb435=>_0x4bb435[_0x3d3854(0x2a4)]()))[_0x3d3854(0x1e3)](_0x25fca7[_0x3d3854(0x2c8)]),_0x25fca7[_0x3d3854(0x282)](expect,_0xe28505)['toMatchSnapshot'](_0x25fca7[_0x3d3854(0x2a1)]);}),it(_0x1ace67(0x28d),async()=>{const _0x21e5b3=_0x1ace67,_0x118c19=Server[_0x21e5b3(0x1f9)]('v4'),_0x28d923={'host':_0x118c19,'allowedHosts':_0x25fca7['ckwQC'],'port':port1},_0x1abc1b={'host':_0x118c19};_0x1f4df2=new Server(_0x28d923,_0x1c9a6d),await _0x1f4df2[_0x21e5b3(0x252)](),{page:_0x45851f,browser:_0x6be0c1}=await _0x25fca7[_0x21e5b3(0x266)](runBrowser),_0x45851f['on'](_0x21e5b3(0x2da),_0x2c6be2=>{const _0x47d02c=_0x21e5b3;_0x409c4d[_0x47d02c(0x24a)](_0x2c6be2);})['on'](_0x25fca7[_0x21e5b3(0x24f)],_0x32ebbe=>{const _0x16b115=_0x21e5b3;_0xe28505[_0x16b115(0x24a)](_0x32ebbe);});const _0x4db731=await _0x45851f['goto']('http://'+_0x118c19+':'+port1+_0x21e5b3(0x1cf),{'waitUntil':_0x21e5b3(0x237)});if(!_0x1f4df2['checkHeader'](_0x1abc1b,_0x21e5b3(0x2d7)))throw new Error('Validation\x20didn\x27t\x20fail');expect(_0x4db731['status']())[_0x21e5b3(0x1e3)](_0x21e5b3(0x20e)),expect(_0x409c4d[_0x21e5b3(0x25e)](_0x5f3dcb=>_0x5f3dcb[_0x21e5b3(0x2a4)]()))['toMatchSnapshot'](_0x25fca7[_0x21e5b3(0x2c8)]),expect(_0xe28505)[_0x21e5b3(0x1e3)](_0x25fca7[_0x21e5b3(0x2a1)]);}),it('should\x20always\x20allow\x20value\x20of\x20the\x20`host`\x20option\x20from\x20the\x20`client.webSocketURL`\x20option\x20if\x20options.allowedHosts\x20is\x20auto',async()=>{const _0x1aa598=_0x1ace67,_0x135752={'allowedHosts':_0x25fca7[_0x1aa598(0x255)],'port':port1,'client':{'webSocketURL':_0x1aa598(0x27f)}},_0x3807df={'host':_0x25fca7[_0x1aa598(0x29c)]};_0x1f4df2=new Server(_0x135752,_0x1c9a6d),await _0x1f4df2['start'](),{page:_0x45851f,browser:_0x6be0c1}=await _0x25fca7['fDIyL'](runBrowser),_0x45851f['on'](_0x25fca7[_0x1aa598(0x22d)],_0x326962=>{const _0x226925=_0x1aa598;_0x409c4d[_0x226925(0x24a)](_0x326962);})['on'](_0x25fca7[_0x1aa598(0x24f)],_0x147373=>{const _0x183e64=_0x1aa598;_0xe28505[_0x183e64(0x24a)](_0x147373);});const _0x5c609a=await _0x45851f[_0x1aa598(0x2b2)](_0x1aa598(0x276)+port1+_0x1aa598(0x1cf),{'waitUntil':_0x1aa598(0x237)});if(!_0x1f4df2[_0x1aa598(0x1e7)](_0x3807df,_0x25fca7['TdbSz']))throw new Error(_0x25fca7['nTFkC']);expect(_0x5c609a[_0x1aa598(0x205)]())[_0x1aa598(0x1e3)](_0x25fca7[_0x1aa598(0x227)]),_0x25fca7['Dqevn'](expect,_0x409c4d['map'](_0x298ab7=>_0x298ab7[_0x1aa598(0x2a4)]()))[_0x1aa598(0x1e3)](_0x25fca7[_0x1aa598(0x2c8)]),_0x25fca7[_0x1aa598(0x1d5)](expect,_0xe28505)[_0x1aa598(0x1e3)]('page\x20errors');}),_0x5302e4[_0x1ace67(0x27b)](it,_0x5302e4['ibkTx'],async()=>{const _0x72ca0b=_0x1ace67,_0x3515d5={'allowedHosts':_0x72ca0b(0x1c1),'port':port1},_0x29ac0b={'host':_0x5302e4[_0x72ca0b(0x1e6)]};_0x1f4df2=new Server(_0x3515d5,_0x1c9a6d),await _0x1f4df2[_0x72ca0b(0x252)](),{page:_0x45851f,browser:_0x6be0c1}=await runBrowser(),_0x45851f['on'](_0x5302e4[_0x72ca0b(0x1df)],_0x264cc3=>{_0x409c4d['push'](_0x264cc3);})['on'](_0x5302e4[_0x72ca0b(0x1cb)],_0x4f7595=>{const _0x143d2a=_0x72ca0b;_0xe28505[_0x143d2a(0x24a)](_0x4f7595);});const _0x1e8a41=await _0x45851f[_0x72ca0b(0x2b2)](_0x72ca0b(0x276)+port1+_0x72ca0b(0x1cf),{'waitUntil':_0x5302e4[_0x72ca0b(0x22f)]});if(!_0x1f4df2[_0x72ca0b(0x1e7)](_0x29ac0b,_0x72ca0b(0x2d7)))throw new Error(_0x5302e4[_0x72ca0b(0x25f)]);_0x5302e4[_0x72ca0b(0x1f7)](expect,_0x1e8a41[_0x72ca0b(0x205)]())['toMatchSnapshot'](_0x5302e4[_0x72ca0b(0x2af)]),expect(_0x409c4d[_0x72ca0b(0x25e)](_0x59fda0=>_0x59fda0[_0x72ca0b(0x2a4)]()))[_0x72ca0b(0x1e3)](_0x5302e4[_0x72ca0b(0x289)]),expect(_0xe28505)[_0x72ca0b(0x1e3)](_0x5302e4[_0x72ca0b(0x2d8)]);}),_0x5302e4['kixKN'](it,_0x5302e4[_0x1ace67(0x1e0)],async()=>{const _0x2f1122=_0x1ace67,_0x31edf6={'vhlaO':_0x5302e4[_0x2f1122(0x2dc)]},_0x4c713a=['test.host',_0x5302e4[_0x2f1122(0x2ab)],_0x5302e4['XZMug']],_0x47b757={'allowedHosts':_0x4c713a,'port':port1};_0x1f4df2=new Server(_0x47b757,_0x1c9a6d),await _0x1f4df2[_0x2f1122(0x252)](),{page:_0x45851f,browser:_0x6be0c1}=await runBrowser(),_0x45851f['on'](_0x5302e4[_0x2f1122(0x1df)],_0x2429fd=>{const _0x1803a3=_0x2f1122,_0x4d2e42={'LZJJg':function(_0x14fe47,_0x4312aa){const _0x5a530b=_0x5b87;return _0x25fca7[_0x5a530b(0x1d5)](_0x14fe47,_0x4312aa);},'rQDzn':function(_0x3f1406,_0x5f0daa){const _0x239a60=_0x5b87;return _0x25fca7[_0x239a60(0x224)](_0x3f1406,_0x5f0daa);}};if(_0x25fca7[_0x1803a3(0x293)]!==_0x25fca7[_0x1803a3(0x23c)])_0x409c4d[_0x1803a3(0x24a)](_0x2429fd);else{const _0x2261e2={'wTlfk':function(_0x69e38a,_0x1d5959){return _0x4d2e42['LZJJg'](_0x69e38a,_0x1d5959);}},_0x1295fa=_0x4d2e42['rQDzn'](_0x40284f,()=>{const _0x5d252a=_0x1803a3;_0x2261e2[_0x5d252a(0x2c2)](_0x132c92,_0x1295fa);});}})['on'](_0x2f1122(0x253),_0x384f6a=>{const _0x249ef4=_0x2f1122;_0xe28505[_0x249ef4(0x24a)](_0x384f6a);});const _0x51faf7=await _0x45851f[_0x2f1122(0x2b2)](_0x2f1122(0x276)+port1+_0x2f1122(0x1cf),{'waitUntil':_0x2f1122(0x237)});_0x4c713a[_0x2f1122(0x1d2)](_0x31f289=>{const _0x507c75=_0x2f1122,_0x53ee4f={'host':_0x31f289};if(!_0x1f4df2[_0x507c75(0x1e7)](_0x53ee4f,_0x31edf6[_0x507c75(0x257)]))throw new Error(_0x507c75(0x275));}),expect(_0x51faf7[_0x2f1122(0x205)]())['toMatchSnapshot'](_0x5302e4[_0x2f1122(0x2af)]),expect(_0x409c4d[_0x2f1122(0x25e)](_0x5582bd=>_0x5582bd[_0x2f1122(0x2a4)]()))[_0x2f1122(0x1e3)](_0x2f1122(0x24b)),_0x5302e4[_0x2f1122(0x20a)](expect,_0xe28505)[_0x2f1122(0x1e3)](_0x5302e4[_0x2f1122(0x2d8)]);}),_0x5302e4['BJxxI'](it,_0x5302e4[_0x1ace67(0x279)],async()=>{const _0x39fcfd=_0x1ace67,_0x6d7999={'RcieA':function(_0x4723d1,_0x569001){return _0x4723d1(_0x569001);}};if(_0x5302e4[_0x39fcfd(0x2c4)](_0x5302e4[_0x39fcfd(0x1d0)],_0x39fcfd(0x27e))){const _0x546fa7=_0x6d7999[_0x39fcfd(0x285)](_0x40a101,()=>{_0x1d78e3(_0x546fa7);});}else{const _0x1eab69={'allowedHosts':[_0x5302e4[_0x39fcfd(0x241)]],'port':port1};_0x1f4df2=new Server(_0x1eab69,_0x1c9a6d),await _0x1f4df2[_0x39fcfd(0x252)](),{page:_0x45851f,browser:_0x6be0c1}=await _0x5302e4[_0x39fcfd(0x220)](runBrowser),_0x45851f['on'](_0x39fcfd(0x2da),_0x33e0f7=>{const _0x490430=_0x39fcfd;_0x409c4d[_0x490430(0x24a)](_0x33e0f7);})['on']('pageerror',_0x27c0a8=>{const _0x337023=_0x39fcfd;_0xe28505[_0x337023(0x24a)](_0x27c0a8);});const _0x38b405=await _0x45851f['goto'](_0x39fcfd(0x276)+port1+_0x39fcfd(0x1cf),{'waitUntil':_0x5302e4['oxpXw']}),_0x46e257=[_0x39fcfd(0x29a),_0x5302e4['DUoDE'],_0x5302e4[_0x39fcfd(0x247)],_0x5302e4[_0x39fcfd(0x225)],_0x5302e4[_0x39fcfd(0x1fb)],_0x5302e4['aiBoK']];_0x46e257[_0x39fcfd(0x1d2)](_0x322768=>{const _0x232225=_0x39fcfd,_0x3f2cae={'host':_0x322768};if(!_0x1f4df2[_0x232225(0x1e7)](_0x3f2cae,_0x25fca7[_0x232225(0x1bf)]))throw new Error(_0x25fca7[_0x232225(0x2d4)]);}),expect(_0x38b405[_0x39fcfd(0x205)]())[_0x39fcfd(0x1e3)](_0x39fcfd(0x20e)),_0x5302e4[_0x39fcfd(0x2b1)](expect,_0x409c4d[_0x39fcfd(0x25e)](_0x2d93d3=>_0x2d93d3[_0x39fcfd(0x2a4)]()))[_0x39fcfd(0x1e3)](_0x5302e4[_0x39fcfd(0x289)]),expect(_0xe28505)[_0x39fcfd(0x1e3)](_0x5302e4[_0x39fcfd(0x2d8)]);}});});});function _0x5ea1(){const _0x1aa493=['xpXer','should\x20always\x20allow\x20any\x20host\x20if\x20options.allowedHosts\x20is\x20all','localhost','http-proxy-middleware','BulUK','ktnyJ','LuSnF','kyvsL','should\x20connect\x20web\x20socket\x20client\x20using\x20\x22127.0.0.1\x22\x20host\x20to\x20web\x20socket\x20server\x20with\x20the\x20\x22auto\x22\x20value\x20(\x22','yMkdE','http://foo.bar.baz.my-test-origin.com/','/main.js','IGqPf','should\x20connect\x20web\x20socket\x20client\x20using\x20\x22chrome-extension:\x22\x20protocol\x20to\x20web\x20socket\x20server\x20with\x20the\x20\x22auto\x22\x20value\x20(\x22','forEach','UrRZM','LNMbA','bZdzw','qtTfo','LNsWn','fgcFV','fhKdx','fctvR','2985021pkSUrk','kFBEd','test.host','UzFwp','ZeGCV','piwNa','bZNxC','hescM','toMatchSnapshot','MFBhM','yoKrY','FlLdD','checkHeader','setHeader','html','should\x20disconnect\x20web\x20socket\x20client\x20using\x20custom\x20hostname\x20from\x20web\x20socket\x20server\x20with\x20the\x20\x22auto\x22\x20value\x20based\x20on\x20the\x20\x22host\x22\x20header\x20(\x22','yHZnF','ILQDC','UiKAE','IKAVT','lliCj','TZOEr','gxWVh','aRxxg','fNspf','return\x20await\x20Promise.resolve(42);','bad.host','uqSiL','IAugB','.example.com','internalIPSync','OrDFV','MpqoR','tVgUV','rLNLw','QQKpH','JcNfe','pqonH','VWfSv','GNcDz','subdomain.example.com','origin','status','MqKXU','leKUb','updateClock();','zUyhc','cFPMd','tzCrh','YiWiJ','Xmyev','response\x20status','uyZLg','Anyhf','uhslV','tjJtR','uKTbP','webpack','http://[','pZLSw','PevwY','use','DesHa','QEZia','my-test-origin.com','VGGfl','should\x20connect\x20web\x20socket\x20client\x20using\x20custom\x20hostname\x20to\x20web\x20socket\x20server\x20with\x20the\x20\x22all\x22\x20value\x20(\x22','GvWSB','should\x20connect\x20web\x20socket\x20client\x20using\x20custom\x20hostname\x20to\x20web\x20socket\x20server\x20with\x20the\x20custom\x20hostname\x20value\x20starting\x20with\x20dot\x20(\x22','xqzvi','gileJ','BevhO','JKcNE','Dqevn','UgZHd','SijWK','TLBSA','UUiyp','should\x20connect\x20web\x20socket\x20client\x20using\x20custom\x20hostname\x20to\x20web\x20socket\x20server\x20with\x20the\x20\x22all\x22\x20value\x20in\x20array\x20(\x22','CxVrh','.my-test-origin.com','efRLK','UqyeG','express','oxpXw','auto','listen','stop','should\x20connect\x20web\x20socket\x20client\x20using\x20localhost\x20to\x20web\x20socket\x20server\x20with\x20the\x20\x22auto\x22\x20value\x20(\x22','afNot','VBlDM','hLiaX','networkidle0','EVdKk','warn','8IXDOdZ','JPvWL','TfWJq','https','tETGF','EHcyL','TkxuN','KNLxQ','PMyfB','XHFhu','KCXCF','vsbLO','lvtDY','LPDIr','allowed-hosts','should\x20allow\x20hosts\x20in\x20allowedHosts','push','console\x20messages','MrTwL','NsYVn','AYePp','EQzcN','qnPQm','unknown','start','pageerror','DSoya','ckwQC','oqCWd','vhlaO','PhWsK','KGZMr','EZWcY','12UXIADi','../helpers/run-browser','BVhsv','map','UIIIk','UgANi','var\x20x\x20=\x2042;\x20return\x20x;','fxJvn','bxMhj','zLtTP','zmQDh','fDIyL','test3.host','UMlyA','1773932vpwYIz','LVsHX','Bfwlo','CVKlc','slTez','xKVtr','ypTsY','QeqsK','should\x20connect\x20web\x20socket\x20client\x20using\x20\x22[::1]\x20host\x20to\x20web\x20socket\x20server\x20with\x20the\x20\x22auto\x22\x20value\x20(\x22','mUfjO','BJxxI','RMmiP','Validation\x20didn\x27t\x20fail','http://127.0.0.1:','http://','rqMPg','gVFgT','fuwxE','DAxuA','kQcnD','lBRaT','rdHRh','ws://test.host:80','paEGU','eYfbT','QBIAK','TgjjY','vhQnm','RcieA','yPIiv','CAghA','VnAed','WOmjF','CAcoM','fFMgL','iLTeP','should\x20always\x20allow\x20value\x20from\x20the\x20`host`\x20options\x20if\x20options.allowedHosts\x20is\x20auto','xfIXl','example.com','xvKWm','cQnEf','file:///path/to/local/file.js','pZvYK','close','jSWLC','bzGQk','GmXak','AzVJE','piWhX','www.example.com','ogFcU','uMXib','JqsIT','page\x20errors','LCmOC','TnQWK','bDYQI','HLaUr','check\x20host\x20headers','text','cNVPt','chrome-extension:///abcdef','vMDGw','eijnd','https://','3555840GTqsaQ','KWreQ','rJYwk','zabXS','hZHQz','bKrqb','aswGj','dQiAX','goto','572411BvSkfV','LYOFc','twkif','LvQwq','http://my-test-origin.com/','should\x20connect\x20web\x20socket\x20client\x20using\x20custom\x20hostname\x20to\x20web\x20socket\x20server\x20with\x20the\x20multiple\x20custom\x20hostname\x20values\x20(\x22','etWOC','kixKN','safe','ufHcq','DLzkU','YvLFM','kzefy','1364838LWnwDc','zGBjh','wTlfk','HETHo','NVkFG','ScbXH','eZwbz','127.0.0.1','msmBH','1675594WVESOa','lwrYN','should\x20always\x20allow\x20`localhost`\x20subdomain\x20if\x20options.allowedHosts\x20is\x20auto','voxLk','CMZoe','mdnYc','MfKJF','MEaZp','wnvyL','XdByT','my-test-host','nTFkC','should\x20disconnect\x20web\x20socket\x20client\x20using\x20custom\x20hostname\x20from\x20web\x20socket\x20server\x20with\x20the\x20\x22auto\x22\x20value\x20based\x20on\x20the\x20\x22origin\x22\x20header\x20(\x22','OFncH','host','uSRSe','FJTZI','console','sockjs','Eucte','log','GqnPm','app.localhost','should\x20allow\x20hosts\x20that\x20pass\x20a\x20wildcard\x20in\x20allowedHosts','847641cvFhlL','TdbSz','rfcBv','all','zqRrv','szXCn'];_0x5ea1=function(){return _0x1aa493;};return _0x5ea1();}