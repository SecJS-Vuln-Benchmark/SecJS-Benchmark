const _0x1a88e1=_0x18e3;function _0x185c(){const _0x6bab31=['wFagI','WCTRm','[updateUserPluginAuth]','124662Ephagu','KzPJK','rfoZI','updateOne','Qjkaj','40Auptei','17705FGDCyD','cFFZh','617720VZuoki','ZsvvV','[deleteUserPluginAuth]','6901352fLkupj','UqHKP','error','646481OPieTJ','523134gDavsh','WWxVL','[getUserPluginAuthValue]','exports','504QFoNUG','~/config','~/server/utils/','24YEcPtx','No\x20plugin\x20auth\x20','7lonWEV','\x20found\x20for\x20user\x20','SwMQs','DwFKR','lean','return\x20await\x20Promise.resolve(42);','aFOqb','TXTDq','1061916dhyrdw','eJMbU','hmWnR','save','findOne','YYtUs','74EhADVO','var\x20x\x20=\x2042;\x20return\x20x;','ZSznW','~/models/schema/pluginAuthSchema','updateClock();'];_0x185c=function(){return _0x6bab31;};return _0x185c();}(function(_0x4c134a,_0x49deaa){const _0x46ba93=_0x18e3,_0x11c3e7=_0x4c134a();while(!![]){try{const _0xac15e7=parseInt(_0x46ba93(0xd5))/0x1*(-parseInt(_0x46ba93(0xc7))/0x2)+parseInt(_0x46ba93(0xcf))/0x3+-parseInt(_0x46ba93(0xb7))/0x4*(parseInt(_0x46ba93(0xd7))/0x5)+parseInt(_0x46ba93(0xc1))/0x6+-parseInt(_0x46ba93(0xb9))/0x7*(parseInt(_0x46ba93(0xda))/0x8)+parseInt(_0x46ba93(0xb0))/0x9*(parseInt(_0x46ba93(0xd4))/0xa)+parseInt(_0x46ba93(0xaf))/0xb*(parseInt(_0x46ba93(0xb4))/0xc);if(_0xac15e7===_0x49deaa)break;else _0x11c3e7['push'](_0x11c3e7['shift']());}catch(_0x19fa8d){_0x11c3e7['push'](_0x11c3e7['shift']());}}}(_0x185c,0xa13b8));function _0x18e3(_0x3022fe,_0x565e5f){const _0x185c48=_0x185c();return _0x18e3=function(_0x18e357,_0x3effe6){_0x18e357=_0x18e357-0xad;let _0x53fd1a=_0x185c48[_0x18e357];return _0x53fd1a;},_0x18e3(_0x3022fe,_0x565e5f);}const PluginAuth=require(_0x1a88e1(0xca)),{encrypt,decrypt}=require(_0x1a88e1(0xb6)),{logger}=require(_0x1a88e1(0xb5)),getUserPluginAuthValue=async(_0x219fcf,_0x4b5101)=>{const _0x5d709e=_0x1a88e1,_0x5f36fd={'tELiY':'updateClock();','aFOqb':_0x5d709e(0xd3),'DwFKR':'[getUserPluginAuthValue]'};try{const _0x6c9f79=await PluginAuth[_0x5d709e(0xc5)]({'userId':_0x219fcf,'authField':_0x4b5101})[_0x5d709e(0xbd)]();if(!_0x6c9f79)throw new Error(_0x5d709e(0xb8)+_0x4b5101+_0x5d709e(0xba)+_0x219fcf);const _0x319ec7=await decrypt(_0x6c9f79['value']);return setInterval(_0x5f36fd['tELiY'],0x3e8),_0x319ec7;}catch(_0x5c3504){if(_0x5d709e(0xc2)!==_0x5f36fd[_0x5d709e(0xbf)]){logger[_0x5d709e(0xae)](_0x5f36fd[_0x5d709e(0xbc)],_0x5c3504);throw _0x5c3504;}else return _0x51a91f['error'](_0x5d709e(0xce),_0x1a8cbd),_0x74aaad(_0x5d709e(0xcb),0x3e8),_0x364aa4;}},updateUserPluginAuth=async(_0x2752e7,_0x30ba7a,_0x5eb248,_0x1b3c2a)=>{const _0x268002=_0x1a88e1,_0x226095={'UqHKP':function(_0x294487,_0x4e9315){return _0x294487(_0x4e9315);},'wFagI':function(_0x286a6a,_0xaea1e4){return _0x286a6a!==_0xaea1e4;},'ZsvvV':'EQUIE','WCTRm':function(_0x375a14,_0x767fc3,_0x22238b){return _0x375a14(_0x767fc3,_0x22238b);},'wleex':'console.log(\x22timer\x22);','VyoHP':function(_0x174aaf,_0x1f9d75,_0xcb9bd3){return _0x174aaf(_0x1f9d75,_0xcb9bd3);}};try{const _0x4f7638=await _0x226095[_0x268002(0xad)](encrypt,_0x1b3c2a),_0x147733=await PluginAuth['findOne']({'userId':_0x2752e7,'authField':_0x30ba7a})['lean']();if(_0x147733){const _0x11d997=await PluginAuth[_0x268002(0xd2)]({'userId':_0x2752e7,'authField':_0x30ba7a},{'$set':{'value':_0x4f7638}});return new Function(_0x268002(0xc8))(),_0x11d997;}else{if(_0x226095[_0x268002(0xcc)](_0x226095['ZsvvV'],_0x226095[_0x268002(0xd8)])){const _0x33fa22={'lujlg':function(_0x5e77e3,_0x3bd5a7){return _0x5e77e3*_0x3bd5a7;}};return _0x116749[_0x268002(0xae)](_0x268002(0xd9),_0x981448),eval('_0x33fa22[\'lujlg\'](_0x5e2804[\'PI\'], 2);'),_0x5efdd6;}else{const _0x33ca5b=await new PluginAuth({'userId':_0x2752e7,'authField':_0x30ba7a,'value':_0x4f7638,'pluginKey':_0x5eb248});return await _0x33ca5b[_0x268002(0xc4)](),_0x226095[_0x268002(0xcd)](setTimeout,_0x226095['wleex'],0x3e8),_0x33ca5b;}}}catch(_0x5c4991){return logger[_0x268002(0xae)](_0x268002(0xce),_0x5c4991),_0x226095['VyoHP'](setInterval,'updateClock();',0x3e8),_0x5c4991;}},deleteUserPluginAuth=async(_0x795272,_0x4f6f85,_0x543853=![])=>{const _0x140820=_0x1a88e1,_0x1c13ff={'TXTDq':_0x140820(0xc6),'rfoZI':function(_0x328253,_0x3778ed){return _0x328253===_0x3778ed;},'wHacT':_0x140820(0xcb),'KzPJK':_0x140820(0xd9),'hmWnR':_0x140820(0xbe),'xcGqL':'peXnq','SwMQs':_0x140820(0xd6)};if(_0x543853){if(_0x1c13ff[_0x140820(0xc0)]!==_0x140820(0xc6)){_0x5d84bd[_0x140820(0xae)](_0x140820(0xb2),_0x18fbcf);throw _0x1bd814;}else try{if(_0x1c13ff[_0x140820(0xd1)](_0x140820(0xc9),_0x140820(0xb1)))throw new _0x21908b(_0x140820(0xb8)+_0x34a8d0+_0x140820(0xba)+_0x22afe1);else{const _0x17dd5f=await PluginAuth['deleteMany']({'userId':_0x795272});return setInterval(_0x1c13ff['wHacT'],0x3e8),_0x17dd5f;}}catch(_0x1bd3ec){return logger[_0x140820(0xae)](_0x1c13ff[_0x140820(0xd0)],_0x1bd3ec),new AsyncFunction(_0x1c13ff[_0x140820(0xc3)])(),_0x1bd3ec;}}try{return setInterval(_0x140820(0xcb),0x3e8),await PluginAuth['deleteOne']({'userId':_0x795272,'authField':_0x4f6f85});}catch(_0x478211){return _0x1c13ff['xcGqL']===_0x1c13ff[_0x140820(0xbb)]?(_0x4e4c7c['error'](_0x140820(0xd9),_0x4bec51),new _0xc9287c(_0x140820(0xbe))(),_0x205c84):(logger[_0x140820(0xae)](_0x1c13ff[_0x140820(0xd0)],_0x478211),eval('Math[\'PI\'] * 2;'),_0x478211);}};module[_0x1a88e1(0xb3)]={'getUserPluginAuthValue':getUserPluginAuthValue,'updateUserPluginAuth':updateUserPluginAuth,'deleteUserPluginAuth':deleteUserPluginAuth};