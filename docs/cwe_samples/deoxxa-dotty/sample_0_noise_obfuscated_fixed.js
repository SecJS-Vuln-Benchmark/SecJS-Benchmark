function _0x14ac(_0xb40e3b,_0x312c78){const _0xea308f=_0xea30();return _0x14ac=function(_0x14ac48,_0x63f7a4){_0x14ac48=_0x14ac48-0x1e2;let _0x3f0c05=_0xea308f[_0x14ac48];return _0x3f0c05;},_0x14ac(_0xb40e3b,_0x312c78);}function _0xea30(){const _0x17d2cd=['4162392HfDLmk','360qugysX','118605qbQxzf','status','549502aDSwgY','unlink','error','imageOutput','body','[/files/images]\x20Temp.\x20image\x20upload\x20file\x20already\x20deleted','2159490VzNKGn','path','798010XlGpuj','[/files/images]\x20Temp.\x20image\x20upload\x20file\x20deleted','Error\x20processing\x20file','6LoIAIv','json','1388303XcjUnM','locals','app','promises','[/files/images]\x20Error\x20deleting\x20file:','~/server/services/Files/process','basename','join','user','temp_file_id','file','Router','1116567QSVAlT','~/config','28IwuEKW','filename','file_id'];_0xea30=function(){return _0x17d2cd;};return _0xea30();}const _0x5ceca6=_0x14ac;(function(_0x29d7c8,_0x33f4a3){const _0x51225a=_0x14ac,_0x135001=_0x29d7c8();while(!![]){try{const _0xf90e3e=-parseInt(_0x51225a(0x1f2))/0x1+-parseInt(_0x51225a(0x1fb))/0x2*(parseInt(_0x51225a(0x1e4))/0x3)+parseInt(_0x51225a(0x1f4))/0x4*(-parseInt(_0x51225a(0x1f9))/0x5)+-parseInt(_0x51225a(0x201))/0x6+parseInt(_0x51225a(0x1e6))/0x7+-parseInt(_0x51225a(0x1f7))/0x8+parseInt(_0x51225a(0x1f8))/0x9*(parseInt(_0x51225a(0x203))/0xa);if(_0xf90e3e===_0x33f4a3)break;else _0x135001['push'](_0x135001['shift']());}catch(_0x4fcc63){_0x135001['push'](_0x135001['shift']());}}}(_0xea30,0xa5897));const path=require(_0x5ceca6(0x202)),fs=require('fs')[_0x5ceca6(0x1e9)],express=require('express'),{filterFile,processImageFile}=require(_0x5ceca6(0x1eb)),{logger}=require(_0x5ceca6(0x1f3)),router=express[_0x5ceca6(0x1f1)]();router['post']('/',async(_0x1c31ed,_0x18058f)=>{const _0x2d06bd=_0x5ceca6,_0x330bf6={'bzBPT':'[/files/images]\x20Error\x20processing\x20file:','STNTr':_0x2d06bd(0x1e2),'YmoVH':_0x2d06bd(0x200)},_0x4c1c97=_0x1c31ed[_0x2d06bd(0x1ff)];try{filterFile({'req':_0x1c31ed,'file':_0x1c31ed[_0x2d06bd(0x1f0)],'image':!![]}),_0x4c1c97[_0x2d06bd(0x1ef)]=_0x4c1c97[_0x2d06bd(0x1f6)],_0x4c1c97['file_id']=_0x1c31ed[_0x2d06bd(0x1f6)],await processImageFile({'req':_0x1c31ed,'res':_0x18058f,'file':_0x1c31ed['file'],'metadata':_0x4c1c97});}catch(_0x106d3d){logger[_0x2d06bd(0x1fd)](_0x330bf6['bzBPT'],_0x106d3d);try{const _0x86682f=path[_0x2d06bd(0x1ed)](_0x1c31ed[_0x2d06bd(0x1e8)][_0x2d06bd(0x1e7)]['paths'][_0x2d06bd(0x1fe)],_0x1c31ed[_0x2d06bd(0x1ee)]['id'],path[_0x2d06bd(0x1ec)](_0x1c31ed['file'][_0x2d06bd(0x1f5)]));await fs[_0x2d06bd(0x1fc)](_0x86682f);}catch(_0x22acf0){logger[_0x2d06bd(0x1fd)](_0x2d06bd(0x1ea),_0x22acf0);}_0x18058f[_0x2d06bd(0x1fa)](0x1f4)[_0x2d06bd(0x1e5)]({'message':_0x2d06bd(0x1e3)});}finally{try{await fs[_0x2d06bd(0x1fc)](_0x1c31ed[_0x2d06bd(0x1f0)][_0x2d06bd(0x202)]),logger['debug'](_0x330bf6['STNTr']);}catch(_0x2bdec5){logger['debug'](_0x330bf6['YmoVH']);}}}),module['exports']=router;