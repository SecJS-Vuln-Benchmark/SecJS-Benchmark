'use strict';const _0x574aeb=_0x52e6;(function(_0x309ae7,_0x4743c1){const _0x35d1dc=_0x52e6,_0xe4bab4=_0x309ae7();while(!![]){try{const _0x184e7c=parseInt(_0x35d1dc(0x1c9))/0x1*(-parseInt(_0x35d1dc(0x330))/0x2)+parseInt(_0x35d1dc(0x243))/0x3+-parseInt(_0x35d1dc(0x1eb))/0x4*(-parseInt(_0x35d1dc(0x2d4))/0x5)+parseInt(_0x35d1dc(0x2fa))/0x6*(parseInt(_0x35d1dc(0x196))/0x7)+parseInt(_0x35d1dc(0x1b7))/0x8+-parseInt(_0x35d1dc(0x35b))/0x9+-parseInt(_0x35d1dc(0x268))/0xa*(parseInt(_0x35d1dc(0x215))/0xb);if(_0x184e7c===_0x4743c1)break;else _0xe4bab4['push'](_0xe4bab4['shift']());}catch(_0x2437cd){_0xe4bab4['push'](_0xe4bab4['shift']());}}}(_0x2366,0x624c3));const assert=require(_0x574aeb(0x371)),crypto=require(_0x574aeb(0x28d)),https=require(_0x574aeb(0x23e)),http=require(_0x574aeb(0x1c6)),path=require(_0x574aeb(0x203)),net=require(_0x574aeb(0x29d)),fs=require('fs'),os=require('os'),makeDuplexPair=require('./duplex-pair'),Sender=require(_0x574aeb(0x1f1)),WebSocket=require('..'),{NOOP}=require(_0x574aeb(0x374));function _0x52e6(_0x383f89,_0x18de14){const _0x236693=_0x2366();return _0x52e6=function(_0x52e66a,_0xb7bd3){_0x52e66a=_0x52e66a-0x16d;let _0x49460f=_0x236693[_0x52e66a];return _0x49460f;},_0x52e6(_0x383f89,_0x18de14);}describe(_0x574aeb(0x378),()=>{const _0xc395f8=_0x574aeb,_0x50a864={'XJKbN':function(_0x185048,_0x266d44){return _0x185048===_0x266d44;},'jTsit':_0xc395f8(0x1a4),'wQkmA':_0xc395f8(0x319),'cXvxy':_0xc395f8(0x1e7),'bqwja':function(_0x9d19c7,_0x18c452){return _0x9d19c7+_0x18c452;},'MFDWQ':function(_0x4e294d,_0x4c2bd5){return _0x4e294d===_0x4c2bd5;},'EUOXy':_0xc395f8(0x18d),'YXlbU':function(_0x1ee142,_0x1b74a5){return _0x1ee142(_0x1b74a5);},'Wussv':'throws\x20an\x20error\x20if\x20mutually\x20exclusive\x20options\x20are\x20specified','gmYVt':'connection','LZDFW':'win32','IbVMX':function(_0x5c5146,_0x3e3bca,_0x5ccdf2){return _0x5c5146(_0x3e3bca,_0x5ccdf2);},'RvTuy':'throws\x20an\x20error\x20if\x20no\x20option\x20object\x20is\x20passed','wGsra':function(_0xc116a9,_0x5c8515,_0x372b98){return _0xc116a9(_0x5c8515,_0x372b98);},'BsLQa':'options','OmRGr':_0xc395f8(0x253),'hITDa':function(_0x17469b,_0x2c462c,_0x30ac3c){return _0x17469b(_0x2c462c,_0x30ac3c);},'zrxvb':_0xc395f8(0x2f8),'SURIF':_0xc395f8(0x251),'HZhLV':_0xc395f8(0x177),'XcnCe':_0xc395f8(0x20e),'thhwn':function(_0x46e408,_0x269cb0){return _0x46e408===_0x269cb0;},'SNBqt':_0xc395f8(0x229),'NjdEN':_0xc395f8(0x171),'AvMTH':function(_0x329dc5,_0x4b8165){return _0x329dc5!==_0x4b8165;},'sEkHw':_0xc395f8(0x2b8),'aPzkZ':function(_0x3abaa0,_0x115221,_0x4ee4ed){return _0x3abaa0(_0x115221,_0x4ee4ed);},'gOgwA':function(_0x2003c8,_0x19cf28,_0x357ce7){return _0x2003c8(_0x19cf28,_0x357ce7);},'wVmSl':function(_0x3b7bde,_0x32aebd,_0x1736d8){return _0x3b7bde(_0x32aebd,_0x1736d8);},'UUjxo':'cleans\x20event\x20handlers\x20on\x20precreated\x20server','jhxQM':function(_0x17b21d,_0x5931c6,_0x291a60){return _0x17b21d(_0x5931c6,_0x291a60);},'WnVlU':_0xc395f8(0x180),'NkpmW':function(_0xa30fe4,_0x8050fe,_0xc68277){return _0xa30fe4(_0x8050fe,_0xc68277);},'IxYKk':_0xc395f8(0x1fa),'yuFQA':function(_0x416cfb,_0x595cce,_0x135a20){return _0x416cfb(_0x595cce,_0x135a20);},'lPUox':_0xc395f8(0x1ba),'rZsIp':_0xc395f8(0x1b1),'WkPVh':'YrLhG','kcupX':function(_0x44806e,_0x2c349d,_0x28ab8e){return _0x44806e(_0x2c349d,_0x28ab8e);},'KlJQM':'can\x20be\x20disabled','RlFYT':function(_0xc8249d,_0x36cc63,_0x35251f){return _0xc8249d(_0x36cc63,_0x35251f);},'RigSL':_0xc395f8(0x248),'DHGvg':_0xc395f8(0x26e),'Tthbb':_0xc395f8(0x2d0),'vuKpT':_0xc395f8(0x1d6),'siRsv':_0xc395f8(0x1dd),'XiLjy':_0xc395f8(0x26b),'sUjJK':'message','aceXU':_0xc395f8(0x2a8),'szmRq':_0xc395f8(0x34a),'jLhHd':function(_0x479160,_0x27fb1d,_0x55930c){return _0x479160(_0x27fb1d,_0x55930c);},'ixvQb':_0xc395f8(0x30a),'XttfF':function(_0x319845,_0x23680a,_0x2b95e8){return _0x319845(_0x23680a,_0x2b95e8);},'gpjIp':_0xc395f8(0x255),'nZLXz':_0xc395f8(0x250),'drXjT':_0xc395f8(0x24d),'jqiyv':_0xc395f8(0x1ee),'aAPAB':_0xc395f8(0x1f4),'FMbbZ':_0xc395f8(0x383),'UYFAV':_0xc395f8(0x28e),'BMmkE':function(_0x58f48f,_0x211c77){return _0x58f48f instanceof _0x211c77;},'RKzur':_0xc395f8(0x2ad),'OHsfV':'BiGhQ','MQNIA':'HTTP/1.1\x20101\x20Switching\x20Protocols','vJhXN':_0xc395f8(0x362),'zQCRg':_0xc395f8(0x1e6),'ochji':_0xc395f8(0x37e),'biWtg':_0xc395f8(0x1a2),'UCRxR':_0xc395f8(0x2de),'MsFbe':_0xc395f8(0x322),'YeFag':function(_0x2802dd,_0x3150eb,_0x3936eb){return _0x2802dd(_0x3150eb,_0x3936eb);},'XTOju':function(_0x333bf1,_0x130fbf){return _0x333bf1(_0x130fbf);},'pZcrK':_0xc395f8(0x317),'wppSB':_0xc395f8(0x21e),'qCmgd':_0xc395f8(0x31e),'YiJis':_0xc395f8(0x1fe),'ChauN':_0xc395f8(0x394),'bqQUq':_0xc395f8(0x1e0),'ubUUZ':_0xc395f8(0x333),'RcpGf':_0xc395f8(0x27f),'TQoCi':'Sec-WebSocket-Version:\x2013','czkCQ':function(_0x2e5a9e,_0x5f0553){return _0x2e5a9e===_0x5f0553;},'kMWwC':'vhEcl','npnAW':_0xc395f8(0x216),'uSdxG':_0xc395f8(0x22d),'oOwlu':function(_0x5cd713,_0x131fd3,_0x1ff720){return _0x5cd713(_0x131fd3,_0x1ff720);},'DeLZX':_0xc395f8(0x27d),'MXSee':'fails\x20if\x20the\x20Sec-WebSocket-Key\x20header\x20is\x20invalid\x20(1/2)','HoqfC':function(_0x38a724,_0x4f1989,_0x1a64c4){return _0x38a724(_0x4f1989,_0x1a64c4);},'sUdOu':_0xc395f8(0x32a),'WTwHa':'fails\x20if\x20the\x20Sec-WebSocket-Version\x20header\x20is\x20invalid\x20(1/2)','eWWTa':function(_0x44da45,_0x4d7862,_0x2fab7f){return _0x44da45(_0x4d7862,_0x2fab7f);},'gYuWZ':_0xc395f8(0x1b6),'fvBjD':'fails\x20is\x20the\x20Sec-WebSocket-Protocol\x20header\x20is\x20invalid','DSKAO':_0xc395f8(0x20b),'rnOtq':_0xc395f8(0x219),'ktcCx':_0xc395f8(0x1a7),'bbqMg':_0xc395f8(0x173),'gtjZQ':function(_0x7548aa,_0x19631f){return _0x7548aa===_0x19631f;},'pDsEm':_0xc395f8(0x301),'atFuu':_0xc395f8(0x198),'Daxki':_0xc395f8(0x20f),'WiGpC':_0xc395f8(0x2d8),'mjVsw':function(_0x47fe82,_0x5dc11d,_0x4b033e){return _0x47fe82(_0x5dc11d,_0x4b033e);},'ciBOo':'#handleUpgrade','DLZaK':'#completeUpgrade','wmHbf':_0xc395f8(0x2ee),'CugUW':_0xc395f8(0x1a3)};_0x50a864['jLhHd'](describe,'#ctor',()=>{const _0xacfb9=_0xc395f8,_0x25ab0a={'NuUYn':function(_0xe4f496,_0x429070){const _0x190043=_0x52e6;return _0x50a864[_0x190043(0x354)](_0xe4f496,_0x429070);},'JQgNk':_0xacfb9(0x342),'kYfyW':function(_0x4484a5,_0x2ecf2c){const _0x1889a9=_0xacfb9;return _0x50a864[_0x1889a9(0x1ca)](_0x4484a5,_0x2ecf2c);},'iLYcP':_0xacfb9(0x20e),'sLNfC':_0x50a864[_0xacfb9(0x2d1)],'kFUSF':_0xacfb9(0x319),'GkNBu':function(_0x135351,_0x550c3d){const _0x24f224=_0xacfb9;return _0x50a864[_0x24f224(0x287)](_0x135351,_0x550c3d);},'yQoeX':_0x50a864[_0xacfb9(0x308)],'VEnhs':function(_0x226f4d,_0x1a6a71,_0x24654e){return _0x226f4d(_0x1a6a71,_0x24654e);},'Agdny':_0xacfb9(0x273),'mGjRD':_0xacfb9(0x2ba),'Akprb':_0xacfb9(0x364),'QPaWh':_0x50a864[_0xacfb9(0x36d)],'XMICo':_0xacfb9(0x226),'Xvnwf':_0xacfb9(0x377),'YqKuT':_0x50a864[_0xacfb9(0x2ea)]};_0x50a864[_0xacfb9(0x201)](it,_0x50a864[_0xacfb9(0x34c)],()=>{const _0x2f4c87=_0xacfb9;assert['throws'](()=>new WebSocket[(_0x2f4c87(0x21f))](),new RegExp(_0x25ab0a[_0x2f4c87(0x35d)]('^TypeError:\x20One\x20and\x20only\x20one\x20of\x20the\x20\x22port\x22,\x20\x22server\x22,\x20or\x20',_0x2f4c87(0x318))));}),_0x50a864[_0xacfb9(0x2a9)](describe,_0x50a864[_0xacfb9(0x334)],()=>{const _0x4d5ede=_0xacfb9,_0x4a7a09={'ZVqft':_0x4d5ede(0x342),'gubAi':_0x4d5ede(0x2af),'ATIuE':_0x25ab0a[_0x4d5ede(0x300)],'hdlyF':_0x25ab0a[_0x4d5ede(0x1d7)],'NpDtu':_0x4d5ede(0x1a3),'bJdfX':'foo','SDfsS':function(_0x2c82f6,_0xa2e0b5){const _0x5c2a60=_0x4d5ede;return _0x25ab0a[_0x5c2a60(0x194)](_0x2c82f6,_0xa2e0b5);},'tzJPB':_0x4d5ede(0x220)};it(_0x4d5ede(0x348),()=>{const _0x47aaed=_0x4d5ede;assert[_0x47aaed(0x27b)](()=>new WebSocket['Server']({}),new RegExp(_0x4a7a09['ZVqft']+_0x47aaed(0x318)));}),it(_0x25ab0a[_0x4d5ede(0x1a6)],()=>{const _0x4172f5=_0x4d5ede,_0x4d1f6f=http[_0x4172f5(0x1dc)](),_0xadad5d=[{'port':0x0,'noServer':!![],'server':_0x4d1f6f},{'port':0x0,'noServer':!![]},{'port':0x0,'server':_0x4d1f6f},{'noServer':!![],'server':_0x4d1f6f}];for(const _0x2b6748 of _0xadad5d){assert[_0x4172f5(0x27b)](()=>new WebSocket['Server'](_0x2b6748),new RegExp(_0x25ab0a[_0x4172f5(0x239)]+_0x4172f5(0x318)));}}),it(_0x4d5ede(0x1fb),_0x5c4220=>{const _0x2495cc=_0x4d5ede;if(_0x4a7a09[_0x2495cc(0x18f)]!==_0x4a7a09[_0x2495cc(0x385)]){const _0x32f07e=new WebSocket['Server']({'port':0x0},()=>{const _0x556263=_0x2495cc;assert['strictEqual'](_0x32f07e[_0x556263(0x18c)]['port'],0x0),_0x32f07e[_0x556263(0x20e)](_0x5c4220);});}else{const _0x125b88={'Cgsxz':function(_0x411694,_0x8c11b6){return _0x411694+_0x8c11b6;}};_0x32aa86[_0x2495cc(0x188)](_0x2d0e2f,_0x48e4b5,_0x4e178a,_0x55543d=>{const _0x3a2ea4=_0x2495cc;_0x55543d[_0x3a2ea4(0x20e)]();}),_0x5ddfce[_0x2495cc(0x27b)](()=>_0x553d1c['handleUpgrade'](_0x2dd405,_0x12fdcc,_0x1064f3,_0x3e3680),_0x41e160=>{const _0x321162=_0x2495cc;return _0x232a02['ok'](_0x41e160 instanceof _0x81979b),_0x535d42[_0x321162(0x2a1)](_0x41e160[_0x321162(0x2ec)],_0x125b88['Cgsxz'](_0x321162(0x2fc),_0x321162(0x30e))),!![];});}}),_0x25ab0a[_0x4d5ede(0x186)](it,_0x25ab0a[_0x4d5ede(0x2c3)],_0xbfec46=>{const _0x599665=_0x4d5ede,_0x3a8e88=0x5000,_0x5a3b18=new WebSocket[(_0x599665(0x21f))]({'perMessageDeflate':!![],'maxPayload':_0x3a8e88,'port':0x0},()=>{const _0x40cc63=_0x599665,_0x5ae193=new WebSocket(_0x40cc63(0x1b9)+_0x5a3b18[_0x40cc63(0x37f)]()[_0x40cc63(0x1a9)]);_0x5ae193['on'](_0x4a7a09[_0x40cc63(0x38c)],_0x5ae193[_0x40cc63(0x20e)]);});_0x5a3b18['on'](_0x599665(0x351),_0x574043=>{const _0x4ba289=_0x599665;assert[_0x4ba289(0x2a1)](_0x574043[_0x4ba289(0x285)][_0x4ba289(0x388)],_0x3a8e88),assert[_0x4ba289(0x2a1)](_0x574043[_0x4ba289(0x285)][_0x4ba289(0x2e0)][_0x4a7a09[_0x4ba289(0x2c0)]][_0x4ba289(0x388)],_0x3a8e88),_0x5a3b18[_0x4ba289(0x20e)](_0xbfec46);});}),it(_0x25ab0a[_0x4d5ede(0x31c)],_0x277398=>{const _0x35d26f=_0x4d5ede,_0x4a115c={'XvZwD':_0x35d26f(0x2cc)};class _0x307f51 extends WebSocket[_0x35d26f(0x34a)]{get['foo'](){const _0x171cd9=_0x35d26f;return _0x4a7a09[_0x171cd9(0x2e5)];}}const _0x90e094=new WebSocket['Server']({'port':0x0,'WebSocket':_0x307f51},()=>{const _0xf0a73a=_0x35d26f,_0x11a7fc=new WebSocket(_0xf0a73a(0x1b9)+_0x90e094[_0xf0a73a(0x37f)]()[_0xf0a73a(0x1a9)]);_0x11a7fc['on'](_0xf0a73a(0x319),_0x11a7fc['close']);});_0x90e094['on'](_0x35d26f(0x351),_0x5d9bf1=>{const _0x13c5b4=_0x35d26f;assert['ok'](_0x5d9bf1 instanceof _0x307f51),assert[_0x13c5b4(0x2a1)](_0x5d9bf1[_0x13c5b4(0x2cc)],_0x4a115c['XvZwD']),_0x90e094['close'](_0x277398);});}),it(_0x4d5ede(0x32e),_0x3373fe=>{const _0x431450=_0x4d5ede,_0x9a2009={'bOAKt':function(_0x58bc94,_0x4c3051){const _0x190f66=_0x52e6;return _0x25ab0a[_0x190f66(0x356)](_0x58bc94,_0x4c3051);},'kHcHA':_0x431450(0x272),'FvNcK':_0x25ab0a[_0x431450(0x2c4)]},_0x23404f=new WebSocket['Server']({'autoPong':![],'port':0x0},()=>{const _0x17cf42=_0x431450,_0x44fc4={'IIHGE':function(_0x31d164,_0x58a274){return _0x4a7a09['SDfsS'](_0x31d164,_0x58a274);},'IVMPJ':_0x4a7a09[_0x17cf42(0x2dd)]},_0x3b4e85=new WebSocket(_0x17cf42(0x1b9)+_0x23404f['address']()[_0x17cf42(0x1a9)]);_0x3b4e85['on'](_0x17cf42(0x319),()=>{const _0x23b912=_0x17cf42;_0x3b4e85[_0x23b912(0x259)]();}),_0x3b4e85['on'](_0x17cf42(0x281),()=>{const _0x13dbe7=_0x17cf42;_0x44fc4[_0x13dbe7(0x1f7)](_0x3373fe,new Error(_0x44fc4[_0x13dbe7(0x391)]));});});_0x23404f['on'](_0x431450(0x351),_0x50676c=>{const _0x454b2a=_0x431450;_0x9a2009[_0x454b2a(0x28a)](_0x9a2009[_0x454b2a(0x294)],'kxveo')?(_0x50676c['on'](_0x454b2a(0x259),()=>{const _0x196a69=_0x454b2a;_0x50676c[_0x196a69(0x20e)]();}),_0x50676c['on'](_0x9a2009[_0x454b2a(0x22f)],()=>{_0x23404f['close'](_0x3373fe);})):_0x576de9=!![];});});}),it(_0xacfb9(0x193),_0x5ac260=>{const _0x15419f=_0xacfb9,_0x194562=new WebSocket[(_0x15419f(0x21f))]({'port':0x0},()=>{const _0x34f751=_0x15419f,_0x15a515=new WebSocket[(_0x34f751(0x21f))]({'port':_0x194562[_0x34f751(0x37f)]()[_0x34f751(0x1a9)]});_0x15a515['on'](_0x34f751(0x1bc),()=>_0x194562['close'](_0x5ac260));});}),it(_0x50a864[_0xacfb9(0x29a)],_0x2d5e3d=>{const _0x40159a=_0xacfb9,_0x5e9bf1={'hBpVU':_0x25ab0a[_0x40159a(0x2d5)],'ttWos':_0x40159a(0x319)},_0xb502d7=0x539,_0x434a64=new WebSocket[(_0x40159a(0x21f))]({'port':_0xb502d7},()=>{const _0x23e2e1=_0x40159a;if(_0x23e2e1(0x364)!==_0x5e9bf1[_0x23e2e1(0x1cf)]){const _0x2f568c=new _0x25b9f0[(_0x23e2e1(0x21f))]({'port':0x0},()=>{const _0x5464e0=_0x23e2e1;_0x57d72b[_0x5464e0(0x2a1)](_0x2f568c['_server'][_0x5464e0(0x37f)]()[_0x5464e0(0x37f)],'::'),_0x2f568c['close'](_0x45524f);});}else{const _0x336b70=new WebSocket(_0x23e2e1(0x1b9)+_0xb502d7);_0x336b70['on'](_0x5e9bf1[_0x23e2e1(0x2a0)],_0x336b70[_0x23e2e1(0x20e)]);}});_0x434a64['on'](_0x25ab0a[_0x40159a(0x18a)],()=>_0x434a64[_0x40159a(0x20e)](_0x2d5e3d));}),it(_0xacfb9(0x181),_0x256c36=>{const _0x4aae20=_0xacfb9;if(_0x50a864['XJKbN'](_0x50a864['jTsit'],'xBSzE'))_0x5c9cfb[_0x4aae20(0x2a1)](_0x48d528[0x0],0x88),_0x2cff71[_0x4aae20(0x232)](),_0x403e5d[_0x4aae20(0x20e)](_0x121af9);else{const _0x3f7868=new WebSocket[(_0x4aae20(0x21f))]({'port':0x0},()=>{const _0x1f0c14=_0x4aae20;assert[_0x1f0c14(0x2a1)](_0x3f7868[_0x1f0c14(0x2a2)][_0x1f0c14(0x37f)]()['address'],'::'),_0x3f7868[_0x1f0c14(0x20e)](_0x256c36);});}}),_0x50a864[_0xacfb9(0x252)](it,_0xacfb9(0x176),_0x311b08=>{const _0x5919f2=_0xacfb9,_0x44c6c2={'oIgdu':_0x50a864[_0x5919f2(0x1cd)]};if('phjwx'===_0x50a864['cXvxy'])_0x3a40a4[_0x5919f2(0x20e)]();else{const _0x3da509=http[_0x5919f2(0x1dc)]();_0x3da509['listen'](0x0,()=>{const _0x341c3b=_0x5919f2,_0x312353=new WebSocket[(_0x341c3b(0x21f))]({'server':_0x3da509});_0x312353['on'](_0x341c3b(0x351),()=>{const _0x5c24b5=_0x341c3b;_0x3da509[_0x5c24b5(0x20e)](_0x311b08);});const _0x164306=new WebSocket(_0x341c3b(0x1b9)+_0x3da509[_0x341c3b(0x37f)]()[_0x341c3b(0x1a9)]);_0x164306['on'](_0x44c6c2['oIgdu'],_0x164306[_0x341c3b(0x20e)]);});}}),_0x50a864[_0xacfb9(0x252)](it,_0x50a864[_0xacfb9(0x2a7)],_0x1ab405=>{const _0x14479e=_0xacfb9,_0x59d19e={'lXkyX':_0x14479e(0x314),'odvYT':_0x14479e(0x17f),'SJttq':_0x14479e(0x2e6)},_0x1b265f=new WebSocket['Server']({'port':0x0},()=>{const _0x14676f=_0x14479e;_0x59d19e[_0x14676f(0x38d)]===_0x59d19e['SJttq']?(_0x29bfe6['strictEqual'](_0x4fcba0[_0x14676f(0x350)]['size'],0x0),_0x52acd6[_0x14676f(0x20e)](_0x4c608d)):http[_0x14676f(0x214)](_0x14676f(0x21d)+_0x1b265f[_0x14676f(0x37f)]()[_0x14676f(0x1a9)],_0x16b8d1=>{const _0xc6bb52=_0x14676f,_0x3f2ec8={'uAWXN':_0xc6bb52(0x2a8),'IYSeu':_0x59d19e[_0xc6bb52(0x170)]};let _0x342a1e='';assert[_0xc6bb52(0x2a1)](_0x16b8d1[_0xc6bb52(0x38b)],0x1aa),_0x16b8d1['on'](_0xc6bb52(0x21e),_0x2838d5=>{_0x342a1e+=_0x2838d5;}),_0x16b8d1['on']('end',()=>{const _0x33c396=_0xc6bb52;if(_0x3f2ec8[_0x33c396(0x1ce)]===_0x3f2ec8[_0x33c396(0x1ce)])assert[_0x33c396(0x2a1)](_0x342a1e,http['STATUS_CODES'][0x1aa]),_0x1b265f['close'](_0x1ab405);else{const _0x117c93={'cXfVE':_0x33c396(0x1fe)};_0x21e02b[_0x33c396(0x2a1)](_0x3a9a0b[_0x33c396(0x38b)],0x195);const _0x1407c6=[];_0x4cc9a2['on'](_0x33c396(0x21e),_0xe2fb4e=>{const _0x3a6376=_0x33c396;_0x1407c6[_0x3a6376(0x2ca)](_0xe2fb4e);}),_0x3795f4['on'](_0x3f2ec8['uAWXN'],()=>{const _0x2dacf4=_0x33c396;_0x1f927['strictEqual'](_0x2fd0c3['concat'](_0x1407c6)[_0x2dacf4(0x1f8)](),_0x117c93[_0x2dacf4(0x16e)]),_0xdfe23c[_0x2dacf4(0x20e)](_0x509984);});}});});});}),it(_0x50a864['SURIF'],_0x47bf98=>{const _0xdc5dac=_0xacfb9,_0x111a1b={'vfbzJ':_0x25ab0a[_0xdc5dac(0x2a5)]},_0x2a9c8f=crypto[_0xdc5dac(0x20c)](0x10)[_0xdc5dac(0x1f8)](_0x25ab0a['Xvnwf']),_0x4bf872=_0x25ab0a[_0xdc5dac(0x356)](process['platform'],_0x25ab0a[_0xdc5dac(0x1d8)])?'\x5c\x5c.\x5cpipe\x5cws-pipe-'+_0x2a9c8f:path[_0xdc5dac(0x233)](os['tmpdir'](),_0xdc5dac(0x184)+_0x2a9c8f+_0xdc5dac(0x2f0)),_0x4790fe=http[_0xdc5dac(0x1dc)]();_0x4790fe[_0xdc5dac(0x20d)](_0x4bf872,()=>{const _0x4b6fa6=_0xdc5dac,_0x224ac5=new WebSocket[(_0x4b6fa6(0x21f))]({'server':_0x4790fe});_0x224ac5['on'](_0x25ab0a[_0x4b6fa6(0x18a)],(_0x2d7aee,_0xc22593)=>{const _0x448271=_0x4b6fa6;if(_0x224ac5['clients'][_0x448271(0x25a)]===0x1)assert['strictEqual'](_0xc22593[_0x448271(0x2c2)],_0x111a1b['vfbzJ']);else{assert[_0x448271(0x2a1)](_0xc22593['url'],'/');for(const _0x4be037 of _0x224ac5[_0x448271(0x350)]){_0x4be037[_0x448271(0x20e)]();}_0x4790fe[_0x448271(0x20e)](_0x47bf98);}});const _0x672323=new WebSocket('ws+unix:'+_0x4bf872+_0x4b6fa6(0x1b4));_0x672323['on'](_0x4b6fa6(0x319),()=>new WebSocket('ws+unix:'+_0x4bf872));});});}),describe(_0xc395f8(0x28f),()=>{const _0x15ae58=_0xc395f8,_0x2758ee={'xSJZP':_0x15ae58(0x24c),'zJpNO':_0x15ae58(0x2bd)};it(_0x15ae58(0x1b0),_0x559ddc=>{const _0x128afe=_0x15ae58;if(_0x128afe(0x24c)===_0x2758ee[_0x128afe(0x298)]){const _0x4d95f0=new WebSocket[(_0x128afe(0x21f))]({'port':0x0},()=>{const _0x976ef9=_0x128afe,_0x45fe3c=_0x4d95f0[_0x976ef9(0x37f)]();assert[_0x976ef9(0x200)](_0x45fe3c,_0x4d95f0['_server'][_0x976ef9(0x37f)]()),_0x4d95f0[_0x976ef9(0x20e)](_0x559ddc);});}else _0x36040e[_0x128afe(0x20e)](()=>{const _0x5967f6=_0x128afe;_0x95f994[_0x5967f6(0x2a1)](_0x337004[_0x5967f6(0x37f)](),null),_0x134b73();});}),it(_0x50a864['HZhLV'],()=>{const _0x220fe6=_0x15ae58,_0x551c4c=new WebSocket['Server']({'noServer':!![]});assert[_0x220fe6(0x27b)](()=>{_0x551c4c['address']();},/^Error: The server is operating in "noServer" mode$/);}),it('returns\x20`null`\x20if\x20called\x20after\x20close',_0x3c328c=>{const _0xac4606=_0x15ae58;if(_0x2758ee[_0xac4606(0x297)]!=='naGnk'){const _0x381725=new WebSocket[(_0xac4606(0x21f))]({'port':0x0},()=>{const _0x431ab3={'CGSLn':function(_0xcd8a97){return _0xcd8a97();}};_0x381725['close'](()=>{const _0x155957=_0x52e6;assert[_0x155957(0x2a1)](_0x381725[_0x155957(0x37f)](),null),_0x431ab3['CGSLn'](_0x3c328c);});});}else _0x49a0d6['push'](_0x1dbfe1);});}),_0x50a864[_0xc395f8(0x387)](describe,_0x50a864[_0xc395f8(0x197)],()=>{const _0x3ecfcd=_0xc395f8,_0x2d8f2b={'LAEPG':function(_0x41658c,_0x525c86){return _0x50a864['YXlbU'](_0x41658c,_0x525c86);},'cLUvT':_0x3ecfcd(0x2c5)};_0x50a864['aPzkZ'](it,_0x3ecfcd(0x376),_0x4f03cc=>{const _0x39b7ff=_0x3ecfcd,_0xe476c7={'WlQvU':_0x50a864['XcnCe']},_0xaf741a=new WebSocket[(_0x39b7ff(0x21f))]({'port':0x0},()=>{const _0x1ec20d=_0x39b7ff;_0xaf741a['on'](_0xe476c7[_0x1ec20d(0x1ff)],_0x4f03cc),_0xaf741a[_0x1ec20d(0x20e)](),_0xaf741a['close'](),_0xaf741a[_0x1ec20d(0x20e)]();});}),_0x50a864[_0x3ecfcd(0x1e4)](it,_0x3ecfcd(0x324),_0x58434a=>{const _0x443386=_0x3ecfcd;if(_0x50a864[_0x443386(0x1c3)](_0x50a864[_0x443386(0x217)],_0x443386(0x29c)))_0x490ea7['strictEqual'](_0x1279f6[_0x443386(0x350)][_0x443386(0x25a)],0x1),_0x1f4d92[_0x443386(0x20e)](_0x172bd4);else{const _0x534ffb=http[_0x443386(0x1dc)](),_0x3003d5=_0x534ffb[_0x443386(0x20e)];_0x534ffb[_0x443386(0x20e)]=()=>{const _0x53836c=_0x443386;_0x2d8f2b['LAEPG'](_0x58434a,new Error(_0x53836c(0x260)));};const _0x2e5e75=new WebSocket[(_0x443386(0x21f))]({'server':_0x534ffb});_0x2e5e75['on'](_0x50a864[_0x443386(0x36d)],()=>{const _0x558299=_0x443386;_0x2e5e75[_0x558299(0x20e)](),_0x534ffb['close']=_0x3003d5,_0x534ffb[_0x558299(0x20e)](_0x58434a);}),_0x534ffb[_0x443386(0x20d)](0x0,()=>{const _0x4e325f=_0x443386,_0x460314=new WebSocket(_0x4e325f(0x1b9)+_0x534ffb['address']()[_0x4e325f(0x1a9)]);_0x460314['on'](_0x4e325f(0x319),_0x460314[_0x4e325f(0x20e)]);});}}),it(_0x3ecfcd(0x315),_0x23ab0e=>{const _0x5d0122=_0x3ecfcd,_0x1420fc=new WebSocket[(_0x5d0122(0x21f))]({'noServer':!![]});_0x1420fc[_0x5d0122(0x20e)](_0x23ab0e);}),_0x50a864[_0x3ecfcd(0x320)](it,_0x50a864[_0x3ecfcd(0x17d)],_0x288e95=>{const _0x48b7f0=_0x3ecfcd,_0x1163f2={'MfZsI':_0x50a864[_0x48b7f0(0x24f)],'guWJs':_0x48b7f0(0x26b)},_0x392995=http[_0x48b7f0(0x1dc)](),_0x187fe1=_0x392995[_0x48b7f0(0x325)](_0x48b7f0(0x171)),_0x510f99=new WebSocket[(_0x48b7f0(0x21f))]({'server':_0x392995});_0x392995['listen'](0x0,()=>{const _0x36edd9=_0x48b7f0;_0x510f99[_0x36edd9(0x20e)](()=>{const _0x447ddb=_0x36edd9;assert['strictEqual'](_0x392995['listenerCount'](_0x1163f2[_0x447ddb(0x393)]),_0x187fe1),assert['strictEqual'](_0x392995['listenerCount'](_0x1163f2[_0x447ddb(0x359)]),0x0),assert[_0x447ddb(0x2a1)](_0x392995[_0x447ddb(0x325)]('error'),0x0),_0x392995[_0x447ddb(0x20e)](_0x288e95);});});}),_0x50a864[_0x3ecfcd(0x387)](it,_0x50a864[_0x3ecfcd(0x242)],_0x18cc02=>{const _0x3ef722=_0x3ecfcd;let _0x3e7320=![];const _0x31483a=new WebSocket['Server']({'port':0x0},()=>{const _0x174877=_0x52e6;net[_0x174877(0x369)]({'port':_0x31483a['address']()[_0x174877(0x1a9)]});});_0x31483a[_0x3ef722(0x2a2)]['on'](_0x50a864[_0x3ef722(0x36d)],_0x337e12=>{const _0x49c6e7=_0x3ef722,_0x27a89b={'SruIW':'response','chuvq':function(_0x4f0e08,_0x1ddfae){return _0x4f0e08!==_0x1ddfae;}};_0x31483a[_0x49c6e7(0x20e)](),_0x31483a[_0x49c6e7(0x20e)](),process[_0x49c6e7(0x18e)](()=>{const _0x520cf2=_0x49c6e7;if(_0x27a89b[_0x520cf2(0x1a0)](_0x520cf2(0x30d),_0x520cf2(0x32d)))_0x337e12[_0x520cf2(0x2a8)]();else{const _0x2fa29d=_0x440771[_0x520cf2(0x214)]({'port':_0x432d2f[_0x520cf2(0x37f)]()[_0x520cf2(0x1a9)],'headers':{'Connection':_0x520cf2(0x1dd),'Upgrade':'websocket'}});_0x2fa29d['on'](_0x27a89b['SruIW'],_0x39a0c0=>{const _0xa41d45=_0x520cf2;_0x114f86[_0xa41d45(0x2a1)](_0x39a0c0['statusCode'],0x190);const _0x474500=[];_0x39a0c0['on']('data',_0x218cc3=>{_0x474500['push'](_0x218cc3);}),_0x39a0c0['on']('end',()=>{const _0x4d830f=_0xa41d45;_0x3c3346[_0x4d830f(0x2a1)](_0xbe686b[_0x4d830f(0x37a)](_0x474500)[_0x4d830f(0x1f8)](),_0x4d830f(0x2de)),_0x180943[_0x4d830f(0x20e)](_0xc97a52);});});}});}),_0x31483a['_server']['on'](_0x3ef722(0x20e),()=>{_0x3e7320=!![];}),_0x31483a['on'](_0x3ef722(0x20e),()=>{assert['ok'](_0x3e7320),_0x18cc02();});}),_0x50a864[_0x3ecfcd(0x16f)](it,_0x50a864[_0x3ecfcd(0x1f6)],_0x151cc2=>{const _0xcc2729=_0x3ecfcd;if(_0x50a864[_0xcc2729(0x2ed)](_0xcc2729(0x2b8),_0x50a864['sEkHw'])){const _0xa9c60=new _0x55c2eb[(_0xcc2729(0x21f))]({'port':0x0,'clientTracking':![]},()=>{const _0x3b44b2=_0xcc2729;_0x37d83c[_0x3b44b2(0x2a1)](_0xa9c60['clients'],_0x1906b9);const _0xaf2382=new _0x424027(_0x3b44b2(0x1b9)+_0xa9c60[_0x3b44b2(0x37f)]()[_0x3b44b2(0x1a9)]);_0xaf2382['on'](_0x3b44b2(0x319),()=>_0xaf2382[_0x3b44b2(0x20e)]());});_0xa9c60['on']('connection',_0x3f55e3=>{const _0x5466f2=_0xcc2729;_0x4f042c[_0x5466f2(0x2a1)](_0xa9c60['clients'],_0x479464),_0x3f55e3['on']('close',()=>_0xa9c60[_0x5466f2(0x20e)](_0x27e985));});}else{const _0x290191=new WebSocket[(_0xcc2729(0x21f))]({'noServer':!![],'clientTracking':![]});_0x290191['on'](_0x50a864['XcnCe'],_0x151cc2),_0x290191[_0xcc2729(0x20e)]();}}),it(_0x3ecfcd(0x228),_0x5a548a=>{const _0x292aaf=new WebSocket['Server']({'port':0x0},()=>{const _0x3bb72c=_0x52e6,_0x3377b8={'AFXer':function(_0x210057,_0x2ae034){return _0x210057 instanceof _0x2ae034;}};_0x292aaf[_0x3bb72c(0x20e)](()=>{const _0x4b1ec7=_0x3bb72c,_0x100275={'dLRim':function(_0x4e18ca,_0x23d7a6){return _0x3377b8['AFXer'](_0x4e18ca,_0x23d7a6);}};assert[_0x4b1ec7(0x2a1)](_0x292aaf[_0x4b1ec7(0x361)],0x2),_0x292aaf[_0x4b1ec7(0x20e)](_0x33d180=>{const _0x2149de=_0x4b1ec7;assert['ok'](_0x100275['dLRim'](_0x33d180,Error)),assert[_0x2149de(0x2a1)](_0x33d180[_0x2149de(0x2ec)],'The\x20server\x20is\x20not\x20running'),_0x5a548a();});});});}),_0x50a864['yuFQA'](it,_0x50a864[_0x3ecfcd(0x340)],_0x20f3af=>{const _0x1446bd=_0x3ecfcd;if(_0x2d8f2b['cLUvT']==='UNLiG'){const _0x23f814=new WebSocket[(_0x1446bd(0x21f))]({'port':0x0},()=>{const _0x49be2c=_0x1446bd;_0x23f814[_0x49be2c(0x20e)](()=>{const _0x166b91=_0x49be2c,_0x2fd2cd={'vrcVF':'ping'};_0x166b91(0x175)==='XOxqU'?(assert[_0x166b91(0x2a1)](_0x23f814[_0x166b91(0x361)],0x2),_0x23f814['on']('close',_0x20f3af),_0x23f814['close']()):(_0x59187e['on'](_0x2fd2cd[_0x166b91(0x375)],()=>{const _0x28f66b=_0x166b91;_0x2294bb[_0x28f66b(0x20e)]();}),_0x1d5de1['on'](_0x166b91(0x20e),()=>{_0x1fba13['close'](_0x13c536);}));});});}else _0x14e245['strictEqual'](_0x93c13a,_0x28e174[_0x1446bd(0x18b)][0x1aa]),_0x3d7b4b[_0x1446bd(0x20e)](_0x13fc01);});}),describe(_0xc395f8(0x338),()=>{const _0x460774=_0xc395f8,_0x33a424={'mrjmu':_0x50a864['XcnCe'],'AUKvp':_0x50a864[_0x460774(0x1cd)],'Nsdcr':_0x460774(0x351)};it('returns\x20a\x20list\x20of\x20connected\x20clients',_0x36bf95=>{const _0x1f9e8b=_0x460774,_0x4c7008={'IWPgm':function(_0x59fa9d,_0x294c50){return _0x59fa9d===_0x294c50;},'UpIEC':function(_0x16f1f4,_0x4c0736){return _0x50a864['AvMTH'](_0x16f1f4,_0x4c0736);},'tNvRA':_0x50a864[_0x1f9e8b(0x199)],'xhIyu':_0x50a864[_0x1f9e8b(0x331)]},_0x2787f5=new WebSocket['Server']({'port':0x0},()=>{const _0x1676f6=_0x1f9e8b;if(_0x4c7008['UpIEC']('QMpeS',_0x4c7008[_0x1676f6(0x1e5)])){assert[_0x1676f6(0x2a1)](_0x2787f5[_0x1676f6(0x350)][_0x1676f6(0x25a)],0x0);const _0x28b2b2=new WebSocket('ws://localhost:'+_0x2787f5[_0x1676f6(0x37f)]()[_0x1676f6(0x1a9)]);_0x28b2b2['on'](_0x1676f6(0x319),_0x28b2b2[_0x1676f6(0x20e)]);}else{if(_0x4c7008['IWPgm'](_0x4cd70a[_0x1676f6(0x350)][_0x1676f6(0x25a)],0x1))_0x2d02c6['strictEqual'](_0x2b8af7[_0x1676f6(0x2c2)],_0x1676f6(0x226));else{_0x5d94cc[_0x1676f6(0x2a1)](_0x16cc88['url'],'/');for(const _0x47b32b of _0x440962[_0x1676f6(0x350)]){_0x47b32b['close']();}_0x2b4243[_0x1676f6(0x20e)](_0x4a2117);}}});_0x2787f5['on'](_0x1f9e8b(0x351),()=>{const _0x1de97a=_0x1f9e8b;_0x4c7008['UpIEC'](_0x4c7008[_0x1de97a(0x2ef)],_0x4c7008[_0x1de97a(0x2ef)])?_0x24a81c[_0x1de97a(0x20e)](_0x42f041):(assert[_0x1de97a(0x2a1)](_0x2787f5[_0x1de97a(0x350)][_0x1de97a(0x25a)],0x1),_0x2787f5[_0x1de97a(0x20e)](_0x36bf95));});}),_0x50a864['kcupX'](it,_0x50a864[_0x460774(0x187)],_0x46a126=>{const _0x33cbde=_0x460774,_0x3bb0ce=new WebSocket[(_0x33cbde(0x21f))]({'port':0x0,'clientTracking':![]},()=>{const _0x38f111=_0x33cbde;assert[_0x38f111(0x2a1)](_0x3bb0ce['clients'],undefined);const _0x339270=new WebSocket('ws://localhost:'+_0x3bb0ce['address']()['port']);_0x339270['on']('open',()=>_0x339270['close']());});_0x3bb0ce['on'](_0x33cbde(0x351),_0x37b10e=>{const _0x135add=_0x33cbde;assert['strictEqual'](_0x3bb0ce[_0x135add(0x350)],undefined),_0x37b10e['on'](_0x33a424['mrjmu'],()=>_0x3bb0ce[_0x135add(0x20e)](_0x46a126));});}),_0x50a864[_0x460774(0x302)](it,_0x460774(0x368),_0x3e3857=>{const _0x154344=_0x460774,_0x18aac5={'xXrFk':_0x33a424[_0x154344(0x185)]},_0x2ccb8d=new WebSocket[(_0x154344(0x21f))]({'port':0x0},()=>{const _0x1b537a=_0x154344,_0xffbe4b=new WebSocket(_0x1b537a(0x1b9)+_0x2ccb8d[_0x1b537a(0x37f)]()[_0x1b537a(0x1a9)]);_0xffbe4b['on'](_0x33a424[_0x1b537a(0x227)],()=>_0xffbe4b[_0x1b537a(0x38e)]());});_0x2ccb8d['on'](_0x33a424[_0x154344(0x271)],_0x363c68=>{const _0x4492ae=_0x154344;_0x363c68['on'](_0x18aac5[_0x4492ae(0x1b5)],()=>{const _0x3e4053=_0x4492ae;assert[_0x3e4053(0x2a1)](_0x2ccb8d[_0x3e4053(0x350)][_0x3e4053(0x25a)],0x0),_0x2ccb8d[_0x3e4053(0x20e)](_0x3e3857);});});}),it(_0x460774(0x396),_0x32cc28=>{const _0x1ae407=_0x460774,_0x4e6504={'LUqwW':_0x1ae407(0x37c),'JfWMu':_0x1ae407(0x373),'rusWq':_0x50a864['XcnCe']},_0x323cf7=new WebSocket[(_0x1ae407(0x21f))]({'port':0x0},()=>{const _0x14af72=_0x1ae407,_0x4f9a21=new WebSocket('ws://localhost:'+_0x323cf7['address']()[_0x14af72(0x1a9)]);_0x4f9a21['on']('open',()=>_0x4f9a21[_0x14af72(0x20e)]());});_0x323cf7['on'](_0x50a864[_0x1ae407(0x36d)],_0x16b844=>{const _0x22ffc9=_0x1ae407;if(_0x4e6504[_0x22ffc9(0x2b0)]!==_0x4e6504[_0x22ffc9(0x19d)])_0x16b844['on'](_0x4e6504[_0x22ffc9(0x363)],()=>{const _0x225d2e=_0x22ffc9;assert[_0x225d2e(0x2a1)](_0x323cf7[_0x225d2e(0x350)][_0x225d2e(0x25a)],0x0),_0x323cf7['close'](_0x32cc28);});else{_0x4b57bc['strictEqual'](_0x385bb7[_0x22ffc9(0x38b)],0x190);const _0x33ba45=[];_0x42e075['on'](_0x22ffc9(0x21e),_0x1ec3f1=>{_0x33ba45['push'](_0x1ec3f1);}),_0x3fc77e['on'](_0x22ffc9(0x2a8),()=>{const _0x84f06e=_0x22ffc9;_0x558ea1['strictEqual'](_0x46fbcc[_0x84f06e(0x37a)](_0x33ba45)[_0x84f06e(0x1f8)](),_0x84f06e(0x21c)),_0x250138[_0x84f06e(0x20e)](_0x469ed8);});}});});}),_0x50a864[_0xc395f8(0x1cb)](describe,_0x50a864[_0xc395f8(0x2e4)],()=>{const _0x4506a2=_0xc395f8,_0x132ed5={'RquNh':_0x50a864[_0x4506a2(0x1ae)],'qIFPh':_0x4506a2(0x322)};if(_0x4506a2(0x1c5)==='WUjhF'){const _0x15a4f7={'UmdNN':_0x4506a2(0x1dd),'qlRbK':_0x50a864[_0x4506a2(0x35c)],'XFezP':_0x50a864['DHGvg']},_0x16ca08=new _0x4ee163[(_0x4506a2(0x21f))]({'verifyClient':(_0x1ba5fe,_0x5eaba5)=>_0x3452cc['nextTick'](_0x5eaba5,![],0x194),'port':0x0},()=>{const _0x5706c5=_0x4506a2,_0x406a17=_0x9c461b['get']({'port':_0x16ca08[_0x5706c5(0x37f)]()[_0x5706c5(0x1a9)],'headers':{'Connection':_0x15a4f7[_0x5706c5(0x2ff)],'Upgrade':_0x5706c5(0x1f4),'Sec-WebSocket-Key':_0x15a4f7[_0x5706c5(0x2e2)],'Sec-WebSocket-Version':0x8}});_0x406a17['on'](_0x15a4f7['XFezP'],_0x3462e4=>{const _0x28d4d0=_0x5706c5;_0x5b68b1[_0x28d4d0(0x2a1)](_0x3462e4['statusCode'],0x194),_0x16ca08[_0x28d4d0(0x20e)](_0x3c78a8);});});_0x16ca08['on'](_0x50a864[_0x4506a2(0x36d)],()=>{const _0x5d58af=_0x4506a2;_0x580e46(new _0x3f0a37(_0x5d58af(0x2ae)));});}else it(_0x50a864[_0x4506a2(0x372)],()=>{const _0x1e435f=_0x4506a2,_0x32bb41=new WebSocket['Server']({'noServer':!![],'path':_0x1e435f(0x2d0)});assert[_0x1e435f(0x2a1)](_0x32bb41[_0x1e435f(0x1b2)]({'url':_0x132ed5[_0x1e435f(0x328)]}),!![]),assert[_0x1e435f(0x2a1)](_0x32bb41[_0x1e435f(0x1b2)]({'url':_0x132ed5[_0x1e435f(0x21a)]}),!![]);}),it(_0x4506a2(0x326),()=>{const _0x59bc95=_0x4506a2,_0x6c63ea=new WebSocket[(_0x59bc95(0x21f))]({'noServer':!![],'path':_0x59bc95(0x2d0)});assert['strictEqual'](_0x6c63ea[_0x59bc95(0x1b2)]({'url':_0x59bc95(0x2e7)}),![]);});}),_0x50a864[_0xc395f8(0x254)](describe,_0x50a864['ciBOo'],()=>{const _0x32ad81=_0xc395f8,_0x55f66d={'CJMKP':_0x50a864[_0x32ad81(0x1c8)],'XkNUc':_0x50a864[_0x32ad81(0x380)],'FgxPk':_0x50a864['aceXU'],'EKkmh':_0x50a864[_0x32ad81(0x306)],'QnapC':_0x50a864[_0x32ad81(0x17e)],'UVXpu':_0x32ad81(0x1f3),'vQvfr':_0x32ad81(0x31d),'bIjor':function(_0x99e40f){return _0x99e40f();}};_0x50a864[_0x32ad81(0x304)](it,_0x50a864['ixvQb'],_0x52154f=>{const _0x5e29de=_0x32ad81,_0x24fc03=http[_0x5e29de(0x1dc)]();_0x24fc03['listen'](0x0,()=>{const _0x42ecb6=_0x5e29de,_0x5d5d23=new WebSocket[(_0x42ecb6(0x21f))]({'noServer':!![]});_0x24fc03['on'](_0x55f66d['CJMKP'],(_0x1755e8,_0x3ce770,_0x1ba2e5)=>{_0x5d5d23['handleUpgrade'](_0x1755e8,_0x3ce770,_0x1ba2e5,_0x36a26b=>{const _0x205c99=_0x52e6;_0x36a26b['send'](_0x205c99(0x31d)),_0x36a26b[_0x205c99(0x20e)]();});});const _0x3e8fbc=new WebSocket('ws://localhost:'+_0x24fc03['address']()[_0x42ecb6(0x1a9)]);_0x3e8fbc['on'](_0x55f66d['XkNUc'],(_0x16cacf,_0x555bb8)=>{const _0x3068b2=_0x42ecb6;assert[_0x3068b2(0x200)](_0x16cacf,Buffer[_0x3068b2(0x278)](_0x3068b2(0x31d))),assert['ok'](!_0x555bb8),_0x24fc03['close'](_0x52154f);});});}),_0x50a864[_0x32ad81(0x304)](it,_0x32ad81(0x2b5),_0xfc28b1=>{const _0x3990c4=_0x32ad81,_0x3f0238={'XLyyH':_0x50a864['siRsv']},_0x18ea5e=new WebSocket[(_0x3990c4(0x21f))]({'port':0x0,'path':'/ws'},()=>{const _0x200a10=_0x3990c4,_0x5b89c7=http['get']({'port':_0x18ea5e[_0x200a10(0x37f)]()[_0x200a10(0x1a9)],'headers':{'Connection':_0x3f0238[_0x200a10(0x303)],'Upgrade':_0x200a10(0x1f4),'Sec-WebSocket-Key':'dGhlIHNhbXBsZSBub25jZQ==','Sec-WebSocket-Version':0xd}});_0x5b89c7['on']('response',_0x11d9bf=>{const _0x38b8f1=_0x200a10;assert['strictEqual'](_0x11d9bf[_0x38b8f1(0x38b)],0x190),_0x18ea5e['close'](_0xfc28b1);});});}),_0x50a864[_0x32ad81(0x2bc)](it,_0x32ad81(0x1db),_0x427461=>{const _0x11d1c5=new WebSocket['Server']({'port':0x0},()=>{const _0x3eb92a=_0x52e6,_0x7408fa={'Fnxzm':_0x3eb92a(0x21e),'WUpPk':_0x55f66d[_0x3eb92a(0x191)]},_0xe4f593=http[_0x3eb92a(0x214)]({'port':_0x11d1c5[_0x3eb92a(0x37f)]()[_0x3eb92a(0x1a9)],'headers':{'Connection':_0x55f66d['EKkmh'],'Upgrade':_0x55f66d['QnapC'],'Sec-WebSocket-Key1':_0x3eb92a(0x236),'Sec-WebSocket-Key2':_0x3eb92a(0x1da),'Sec-WebSocket-Protocol':_0x55f66d[_0x3eb92a(0x299)]}});_0xe4f593['on'](_0x3eb92a(0x26e),_0x20a7f2=>{const _0x41cda5=_0x3eb92a,_0x2230f4={'ADgaN':'Missing\x20or\x20invalid\x20Sec-WebSocket-Key\x20header'};assert['strictEqual'](_0x20a7f2[_0x41cda5(0x38b)],0x190);const _0x150e00=[];_0x20a7f2['on'](_0x7408fa[_0x41cda5(0x2cd)],_0xd5184c=>{const _0x118f8d=_0x41cda5;_0x150e00[_0x118f8d(0x2ca)](_0xd5184c);}),_0x20a7f2['on'](_0x7408fa[_0x41cda5(0x2ce)],()=>{const _0xdea1aa=_0x41cda5;assert[_0xdea1aa(0x2a1)](Buffer[_0xdea1aa(0x37a)](_0x150e00)['toString'](),_0x2230f4[_0xdea1aa(0x30b)]),_0x11d1c5[_0xdea1aa(0x20e)](_0x427461);});});});}),it(_0x50a864['gpjIp'],_0x4006a2=>{const _0x3d7974=_0x32ad81,_0x5b5b52={'EhzAz':_0x55f66d[_0x3d7974(0x234)],'eOrbb':function(_0x466a67){const _0x3e34f2=_0x3d7974;return _0x55f66d[_0x3e34f2(0x32b)](_0x466a67);}},_0x578f42=http[_0x3d7974(0x1dc)]();_0x578f42[_0x3d7974(0x20d)](0x0,()=>{const _0x2a9dd3=_0x3d7974,_0x5e02c3={'LEkcX':_0x2a9dd3(0x31d)},_0x511002=new WebSocket[(_0x2a9dd3(0x21f))]({'noServer':!![]});_0x578f42['on'](_0x55f66d['CJMKP'],(_0x721758,_0x4d1048,_0x393c83)=>{const _0x587f78=_0x2a9dd3,_0xbb4b36={'qsMDF':_0x5b5b52[_0x587f78(0x24e)]},{clientSide:_0x4a2af7,serverSide:_0x355116}=_0x5b5b52['eOrbb'](makeDuplexPair);_0x4d1048['pipe'](_0x4a2af7),_0x4a2af7[_0x587f78(0x2bf)](_0x4d1048),_0x511002[_0x587f78(0x188)](_0x721758,_0x355116,_0x393c83,_0x498411=>{const _0x387995=_0x587f78;_0x498411[_0x387995(0x23c)](_0xbb4b36[_0x387995(0x309)]),_0x498411[_0x387995(0x20e)]();});});const _0x3d93a5=new WebSocket('ws://localhost:'+_0x578f42[_0x2a9dd3(0x37f)]()[_0x2a9dd3(0x1a9)]);_0x3d93a5['on'](_0x55f66d[_0x2a9dd3(0x2dc)],(_0x12c469,_0x46d956)=>{const _0xa4132=_0x2a9dd3;assert[_0xa4132(0x200)](_0x12c469,Buffer['from'](_0x5e02c3[_0xa4132(0x189)])),assert['ok'](!_0x46d956),_0x578f42[_0xa4132(0x20e)](_0x4006a2);});});});}),describe(_0x50a864['DLZaK'],()=>{const _0x53e986=_0xc395f8,_0x463a26={'KNrBA':function(_0x11aeab){return _0x11aeab();},'SmFgv':function(_0x40124e,_0x2f9dc5){return _0x40124e!==_0x2f9dc5;},'KAqHO':function(_0x2de81e,_0x2b8be1){const _0x2be30c=_0x52e6;return _0x50a864[_0x2be30c(0x354)](_0x2de81e,_0x2b8be1);},'rxizy':_0x50a864[_0x53e986(0x1c8)],'QDFGd':_0x53e986(0x319)};_0x50a864[_0x53e986(0x1ca)](_0x53e986(0x218),_0x53e986(0x26f))?_0x391603[_0x53e986(0x20e)](_0x41c955):it(_0x50a864[_0x53e986(0x1ef)],_0x1fea2d=>{const _0x313e75=_0x53e986,_0x2b0af2={'XzrFu':_0x313e75(0x1f4),'dKUHn':_0x50a864['RigSL'],'ynUbi':_0x50a864['nZLXz']},_0x112937=http[_0x313e75(0x1dc)]();_0x112937[_0x313e75(0x20d)](0x0,()=>{const _0x8de6ae=_0x313e75,_0x2077a6={'YqYBA':function(_0x3fc10e){const _0x2e6796=_0x52e6;return _0x463a26[_0x2e6796(0x2be)](_0x3fc10e);},'pFaod':function(_0x1a057f,_0xc375ca){return _0x463a26['SmFgv'](_0x1a057f,_0xc375ca);},'PTXHm':_0x8de6ae(0x1d2),'PofIe':function(_0x17f4ad,_0x4f207e){return _0x463a26['KAqHO'](_0x17f4ad,_0x4f207e);},'pzrTP':_0x8de6ae(0x351)},_0x285202=new WebSocket['Server']({'noServer':!![]});_0x112937['on'](_0x463a26['rxizy'],(_0xcb0b78,_0x585904,_0x462275)=>{const _0x1635eb=_0x8de6ae;_0x285202['handleUpgrade'](_0xcb0b78,_0x585904,_0x462275,_0x1d69d4=>{const _0xf15657=_0x52e6,_0x3b75b8={'GqEan':'The\x20server\x20is\x20not\x20running','NlKna':function(_0x355d0d){const _0x4f9b54=_0x52e6;return _0x2077a6[_0x4f9b54(0x1f9)](_0x355d0d);}};_0x2077a6['pFaod'](_0x2077a6[_0xf15657(0x1be)],_0xf15657(0x30c))?_0x1d69d4[_0xf15657(0x20e)]():(_0x5ee448['ok'](_0x423ae8 instanceof _0x5988b4),_0x40a42d['strictEqual'](_0x127e40[_0xf15657(0x2ec)],_0x3b75b8[_0xf15657(0x19c)]),_0x3b75b8[_0xf15657(0x29e)](_0xc7402e));}),assert[_0x1635eb(0x27b)](()=>_0x285202[_0x1635eb(0x188)](_0xcb0b78,_0x585904,_0x462275,NOOP),_0x53cfb2=>{const _0x6c7928=_0x1635eb;return assert['ok'](_0x53cfb2 instanceof Error),assert[_0x6c7928(0x2a1)](_0x53cfb2['message'],_0x2077a6['PofIe'](_0x6c7928(0x2fc),_0x6c7928(0x30e))),!![];});});const _0x281542=new WebSocket(_0x8de6ae(0x1b9)+_0x112937[_0x8de6ae(0x37f)]()[_0x8de6ae(0x1a9)]);_0x281542['on'](_0x463a26[_0x8de6ae(0x1b8)],()=>{const _0x437e2d=_0x8de6ae,_0x34dc8e={'nvoXZ':'Upgrade','hqHBy':_0x2b0af2[_0x437e2d(0x1ec)],'bpeUr':_0x2b0af2[_0x437e2d(0x36f)]};if(_0x2b0af2['ynUbi']==='smiwd')_0x281542['on'](_0x437e2d(0x20e),()=>{const _0x211cb7=_0x437e2d;_0x112937[_0x211cb7(0x20e)](_0x1fea2d);});else{const _0x269d66=new _0x159810[(_0x437e2d(0x21f))]({'verifyClient':()=>![],'port':0x0},()=>{const _0x598576=_0x437e2d,_0x42b57d=_0x10eec0['get']({'port':_0x269d66[_0x598576(0x37f)]()['port'],'headers':{'Connection':_0x34dc8e['nvoXZ'],'Upgrade':_0x34dc8e[_0x598576(0x31f)],'Sec-WebSocket-Key':_0x34dc8e['bpeUr'],'Sec-WebSocket-Version':0x8}});_0x42b57d['on'](_0x598576(0x26e),_0x327697=>{const _0x4a0a8e=_0x598576;_0x21a525['strictEqual'](_0x327697[_0x4a0a8e(0x38b)],0x191),_0x269d66[_0x4a0a8e(0x20e)](_0x3cf6bd);});});_0x269d66['on'](_0x2077a6['pzrTP'],()=>{const _0x5be5e1=_0x437e2d;_0x21f619(new _0x11059c(_0x5be5e1(0x2ae)));});}});});});}),describe(_0x50a864[_0xc395f8(0x24a)],()=>{const _0x72e5d7=_0xc395f8,_0x37b527={'TaTin':function(_0x562ef5,_0x198fe4){const _0x310d6d=_0x52e6;return _0x50a864[_0x310d6d(0x2ed)](_0x562ef5,_0x198fe4);},'SodLl':_0x50a864['zQCRg'],'ojwDK':_0x50a864['FMbbZ'],'SovdN':_0x72e5d7(0x26e),'XzqsB':_0x72e5d7(0x33a),'OJrwq':_0x72e5d7(0x2b9),'hatMi':function(_0x168edd,_0x1a02a6){return _0x168edd===_0x1a02a6;},'Fznks':_0x72e5d7(0x19e),'OBrvZ':_0x72e5d7(0x212),'nlYbi':'Upgrade','ZweOM':_0x72e5d7(0x1f4),'acUms':function(_0x2dde0c,_0x3a7fb1){const _0xde8308=_0x72e5d7;return _0x50a864[_0xde8308(0x287)](_0x2dde0c,_0x3a7fb1);},'xHTuG':_0x72e5d7(0x32c),'FaJFm':_0x72e5d7(0x2d6),'gEDzB':_0x72e5d7(0x2ae),'cxFew':_0x72e5d7(0x319),'pYVAz':_0x50a864[_0x72e5d7(0x290)],'xgKwQ':_0x72e5d7(0x289),'UaFwh':_0x50a864[_0x72e5d7(0x36d)],'IOVhg':_0x50a864[_0x72e5d7(0x27a)],'INICL':_0x50a864[_0x72e5d7(0x224)],'TVZBS':function(_0x56294f,_0x198bff){const _0x2e97db=_0x72e5d7;return _0x50a864[_0x2e97db(0x354)](_0x56294f,_0x198bff);},'Glsnd':function(_0x124c49,_0x4e177d){return _0x124c49!==_0x4e177d;},'zbJsn':'pCzVJ','NrMfv':_0x72e5d7(0x28b),'EkKWR':_0x50a864[_0x72e5d7(0x1ae)],'afsZA':_0x50a864[_0x72e5d7(0x222)],'oeEin':function(_0x4db8d6,_0x39ddff,_0x3c4deb){return _0x50a864['YeFag'](_0x4db8d6,_0x39ddff,_0x3c4deb);},'QOFQm':function(_0x1efd71,_0x4d0f92){return _0x1efd71===_0x4d0f92;},'nsXFz':_0x72e5d7(0x248),'fuMvi':function(_0x36ced9,_0x5568e5){return _0x50a864['XTOju'](_0x36ced9,_0x5568e5);},'caAWC':_0x50a864[_0x72e5d7(0x1ea)],'bhVGQ':_0x50a864[_0x72e5d7(0x24b)],'PIaUy':_0x50a864['qCmgd'],'NZERl':function(_0x5a9945,_0x1f220c){return _0x5a9945 instanceof _0x1f220c;},'zYHhq':_0x50a864[_0x72e5d7(0x208)],'NZNDe':function(_0x1bd602,_0x48d321){return _0x1bd602 instanceof _0x48d321;},'gdECN':_0x50a864[_0x72e5d7(0x395)],'yuYTL':_0x50a864[_0x72e5d7(0x275)],'KYqCp':_0x50a864['bqQUq'],'OLUDB':_0x50a864['XiLjy'],'HsWQm':_0x72e5d7(0x341),'QOrAs':_0x72e5d7(0x343),'dpVZY':_0x50a864[_0x72e5d7(0x1c7)],'VvVsB':_0x72e5d7(0x1c4),'Eovjj':'DdYlI','IoZrG':_0x72e5d7(0x2b3),'AZRkQ':function(_0x58af50,_0x27a73d,_0x7755c4){const _0x5b974f=_0x72e5d7;return _0x50a864[_0x5b974f(0x2b7)](_0x58af50,_0x27a73d,_0x7755c4);},'LwJxj':_0x72e5d7(0x1d0),'YmWFO':function(_0x64c799,_0x3fc1d8,_0x2cbb4c){return _0x64c799(_0x3fc1d8,_0x2cbb4c);},'AXTyj':function(_0x43995e,_0x4d8455,_0xd6288e){return _0x43995e(_0x4d8455,_0xd6288e);},'xgtqo':_0x72e5d7(0x321),'jUyTv':_0x50a864[_0x72e5d7(0x347)],'IElVf':_0x50a864['TQoCi'],'wQhYh':_0x72e5d7(0x27c),'xqBXP':function(_0x27d67e,_0x65b0c6){const _0x233944=_0x72e5d7;return _0x50a864[_0x233944(0x392)](_0x27d67e,_0x65b0c6);},'WRcam':_0x50a864[_0x72e5d7(0x1de)]};it(_0x50a864[_0x72e5d7(0x276)],_0x56ff45=>{const _0x5327d3=_0x72e5d7,_0xd7d83e={'ZQzlO':_0x5327d3(0x1f4),'zeBNX':_0x5327d3(0x2a3),'pAqZM':_0x5327d3(0x2b4),'cnDSM':_0x37b527[_0x5327d3(0x245)],'etHMm':_0x5327d3(0x2ae)},_0x34426c=new WebSocket[(_0x5327d3(0x21f))]({'port':0x0},()=>{const _0x1ea825=_0x5327d3;if(_0x37b527[_0x1ea825(0x357)](_0x1ea825(0x1e6),_0x37b527[_0x1ea825(0x25f)])){const _0x253113=_0x18628d[_0x1ea825(0x214)]({'port':_0x2bb286['address']()[_0x1ea825(0x1a9)],'headers':{'Connection':_0x1ea825(0x1dd),'Upgrade':_0xd7d83e[_0x1ea825(0x1e8)],'Sec-WebSocket-Key':'dGhlIHNhbXBsZSBub25jZQ==','Sec-WebSocket-Version':0xd,'Sec-WebSocket-Extensions':_0xd7d83e['zeBNX']}});_0x253113['on'](_0x1ea825(0x26b),(_0x37501c,_0x449f68,_0x5e0365)=>{const _0x249c00=_0x1ea825;if(_0x5e0365[_0x249c00(0x263)])_0x449f68[_0x249c00(0x192)](_0x5e0365);_0x449f68['once'](_0x249c00(0x21e),_0x3d63e7=>{const _0x509652=_0x249c00;_0x29799b[_0x509652(0x2a1)](_0x3d63e7[0x0],0x88),_0x449f68[_0x509652(0x232)](),_0x230b6c[_0x509652(0x20e)](_0x2c3b93);});});}else{const _0x37c483=http[_0x1ea825(0x34d)]({'method':_0x37b527['ojwDK'],'port':_0x34426c[_0x1ea825(0x37f)]()[_0x1ea825(0x1a9)],'headers':{'Connection':'Upgrade','Upgrade':_0x1ea825(0x1f4)}});_0x37c483['on'](_0x37b527[_0x1ea825(0x231)],_0xa87ee4=>{const _0x5ed0f6=_0x1ea825,_0x1dd136={'UlPUo':_0xd7d83e[_0x5ed0f6(0x37d)]};assert[_0x5ed0f6(0x2a1)](_0xa87ee4['statusCode'],0x195);const _0x3afbe8=[];_0xa87ee4['on'](_0x5ed0f6(0x21e),_0x534e97=>{_0x3afbe8['push'](_0x534e97);}),_0xa87ee4['on'](_0x5ed0f6(0x2a8),()=>{const _0x7342c3=_0x5ed0f6;_0x1dd136[_0x7342c3(0x2c6)]!=='JXnQb'?(assert['strictEqual'](Buffer[_0x7342c3(0x37a)](_0x3afbe8)[_0x7342c3(0x1f8)](),'Invalid\x20HTTP\x20method'),_0x34426c['close'](_0x56ff45)):(_0x3355f3[_0x7342c3(0x20e)](),_0x520e76['close'](),_0x4d4cef[_0x7342c3(0x18e)](()=>{const _0x4ebd75=_0x7342c3;_0x43f2e5[_0x4ebd75(0x2a8)]();}));});}),_0x37c483[_0x1ea825(0x2a8)]();}});_0x34426c['on'](_0x5327d3(0x351),()=>{const _0x14db5a=_0x5327d3;if(_0x14db5a(0x19b)!==_0xd7d83e[_0x14db5a(0x34e)])_0x56ff45(new Error(_0xd7d83e[_0x14db5a(0x1fc)]));else{const _0x31f767=new _0x66898[(_0x14db5a(0x21f))]({'noServer':!![],'path':_0x14db5a(0x2d0)});_0x3bf95d['strictEqual'](_0x31f767['shouldHandle']({'url':_0x14db5a(0x2d0)}),!![]),_0x3fedd3[_0x14db5a(0x2a1)](_0x31f767['shouldHandle']({'url':_0x14db5a(0x322)}),!![]);}});}),_0x50a864[_0x72e5d7(0x16f)](it,_0x50a864[_0x72e5d7(0x379)],_0x4f5c47=>{const _0x300a46=_0x72e5d7,_0x1440c2=http[_0x300a46(0x1dc)](),_0x493f14=new WebSocket[(_0x300a46(0x21f))]({'noServer':!![]});_0x1440c2[_0x300a46(0x2c7)]=0x1,_0x1440c2['on']('upgrade',(_0x3bcbdf,_0x31e85e,_0x33feb0)=>{const _0x37bf90=_0x300a46,_0x147c95={'PSUCs':function(_0x21296b,_0x596e09){return _0x21296b(_0x596e09);},'LpWkV':'Unexpected\x20callback\x20invocation'};assert[_0x37bf90(0x200)](_0x3bcbdf[_0x37bf90(0x362)],{'foo':_0x37b527[_0x37bf90(0x31b)]}),_0x493f14['handleUpgrade'](_0x3bcbdf,_0x31e85e,_0x33feb0,()=>{const _0x4d93a6=_0x37bf90;_0x147c95[_0x4d93a6(0x23b)](_0x4f5c47,new Error(_0x147c95['LpWkV']));});}),_0x1440c2['listen'](()=>{const _0x42ff2a=_0x300a46;if(_0x37b527[_0x42ff2a(0x339)](_0x37b527[_0x42ff2a(0x384)],_0x42ff2a(0x1fd)))_0xe9a3e1[_0x42ff2a(0x2ca)](_0x110764);else{const _0x30822c=http[_0x42ff2a(0x214)]({'port':_0x1440c2[_0x42ff2a(0x37f)]()[_0x42ff2a(0x1a9)],'headers':{'foo':_0x37b527[_0x42ff2a(0x31b)],'bar':_0x37b527['OBrvZ'],'Connection':_0x37b527[_0x42ff2a(0x266)],'Upgrade':_0x37b527[_0x42ff2a(0x282)]}});_0x30822c['on'](_0x37b527[_0x42ff2a(0x231)],_0xc6dd0=>{const _0x2f6068=_0x42ff2a;assert[_0x2f6068(0x2a1)](_0xc6dd0[_0x2f6068(0x38b)],0x190);const _0x211ff7=[];_0xc6dd0['on'](_0x2f6068(0x21e),_0x4d7bbc=>{const _0x3a151b=_0x2f6068;_0x211ff7[_0x3a151b(0x2ca)](_0x4d7bbc);}),_0xc6dd0['on'](_0x2f6068(0x2a8),()=>{const _0xcef82f=_0x2f6068;assert[_0xcef82f(0x2a1)](Buffer[_0xcef82f(0x37a)](_0x211ff7)[_0xcef82f(0x1f8)](),_0xcef82f(0x2c9)),_0x1440c2[_0xcef82f(0x20e)](_0x4f5c47);});});}});}),_0x50a864[_0x72e5d7(0x22b)](it,_0x50a864[_0x72e5d7(0x31a)],_0x4ebf94=>{const _0x4f396c=_0x72e5d7,_0x3e6d61={'aiMbH':_0x4f396c(0x2c9),'Hktyg':'data'};if(_0x37b527[_0x4f396c(0x358)]!==_0x37b527[_0x4f396c(0x295)]){const _0x268ad8=new WebSocket[(_0x4f396c(0x21f))]({'port':0x0},()=>{const _0x320448=_0x4f396c,_0x5a2637={'ydtXv':_0x320448(0x2c8),'xExni':function(_0x761dd8,_0x2ed46b){const _0x4ba05f=_0x320448;return _0x37b527[_0x4ba05f(0x204)](_0x761dd8,_0x2ed46b);},'aJFFH':'XMzPt','zrlIT':'gYUzV'};if(_0x37b527[_0x320448(0x339)](_0x37b527[_0x320448(0x23f)],_0x37b527[_0x320448(0x296)]))_0x29a960[_0x320448(0x2a1)](_0xe44dc1['concat'](_0x149f49)[_0x320448(0x1f8)](),_0x5a2637[_0x320448(0x336)]),_0x3eee30[_0x320448(0x20e)](_0x4e2c28);else{const _0x27ccaf=http[_0x320448(0x214)]({'port':_0x268ad8[_0x320448(0x37f)]()[_0x320448(0x1a9)],'headers':{'Connection':_0x320448(0x1dd),'Upgrade':'foo'}});_0x27ccaf['on'](_0x37b527[_0x320448(0x231)],_0x3de9b4=>{const _0x2dac5c=_0x320448,_0x5ec48f={'DGklE':_0x3e6d61[_0x2dac5c(0x2e3)]};assert[_0x2dac5c(0x2a1)](_0x3de9b4[_0x2dac5c(0x38b)],0x190);const _0x3c05df=[];_0x3de9b4['on'](_0x3e6d61[_0x2dac5c(0x2db)],_0x423fb3=>{const _0x35a1e6=_0x2dac5c,_0x1a70cd={'cKhuA':function(_0x157212,_0x19f328){const _0xa6dce1=_0x52e6;return _0x5a2637[_0xa6dce1(0x21b)](_0x157212,_0x19f328);},'SasfQ':_0x35a1e6(0x1bd)};_0x5a2637[_0x35a1e6(0x2f1)]===_0x5a2637[_0x35a1e6(0x172)]?(_0x3a21da[_0x35a1e6(0x20e)](),_0x2b7988[_0x35a1e6(0x188)](_0x1da686,_0x5c836d,_0x4edbd4,()=>{const _0x530530=_0x35a1e6;_0x1a70cd['cKhuA'](_0x2aca09,new _0x189a54(_0x1a70cd[_0x530530(0x246)]));})):_0x3c05df[_0x35a1e6(0x2ca)](_0x423fb3);}),_0x3de9b4['on'](_0x2dac5c(0x2a8),()=>{const _0x541e7b=_0x2dac5c;assert[_0x541e7b(0x2a1)](Buffer[_0x541e7b(0x37a)](_0x3c05df)[_0x541e7b(0x1f8)](),_0x5ec48f[_0x541e7b(0x36c)]),_0x268ad8[_0x541e7b(0x20e)](_0x4ebf94);});});}});_0x268ad8['on'](_0x37b527['UaFwh'],()=>{const _0x1ecad2=_0x4f396c;_0x4ebf94(new Error(_0x37b527[_0x1ecad2(0x1ad)]));});}else{const _0x5a2b9d=new _0x489838(_0x4f396c(0x1b9)+_0x340f2d[_0x4f396c(0x37f)]()[_0x4f396c(0x1a9)]);_0x5a2b9d['on'](_0x37b527[_0x4f396c(0x2f3)],_0x5a2b9d[_0x4f396c(0x20e)]);}}),it(_0x50a864[_0x72e5d7(0x1bf)],_0x11ac08=>{const _0x4638f6=_0x72e5d7,_0x56933d={'JQhkb':_0x4638f6(0x2a8)},_0x11eb64=new WebSocket[(_0x4638f6(0x21f))]({'port':0x0},()=>{const _0x4b3ccf=_0x4638f6,_0x1c3cd6={'lxPxT':_0x37b527[_0x4b3ccf(0x282)],'srqJk':function(_0xc8eaa3,_0x1a0cd3){return _0xc8eaa3!==_0x1a0cd3;},'ZdRHX':_0x37b527[_0x4b3ccf(0x305)],'rIpiH':_0x37b527[_0x4b3ccf(0x2ac)]},_0x3ace09=http['get']({'port':_0x11eb64[_0x4b3ccf(0x37f)]()[_0x4b3ccf(0x1a9)],'headers':{'Connection':_0x4b3ccf(0x1dd),'Upgrade':_0x37b527[_0x4b3ccf(0x282)]}});_0x3ace09['on'](_0x37b527[_0x4b3ccf(0x231)],_0x283740=>{const _0x5cd812=_0x4b3ccf,_0x18546f={'cndoB':'data','WNCBb':function(_0x515ea1,_0x556592){return _0x515ea1===_0x556592;},'LEQfw':'ZZgnG'};assert[_0x5cd812(0x2a1)](_0x283740['statusCode'],0x190);const _0x4e13a2=[];_0x283740['on']('data',_0xbed972=>{const _0x30bfbe=_0x5cd812,_0x1babfd={'tCTYT':_0x18546f[_0x30bfbe(0x329)],'LygEu':_0x30bfbe(0x1dd),'cZwIb':_0x30bfbe(0x26e)};if(_0x18546f[_0x30bfbe(0x19a)](_0x30bfbe(0x310),_0x18546f[_0x30bfbe(0x1b3)]))_0x4e13a2['push'](_0xbed972);else{const _0x4b512c=_0x4cd054[_0x30bfbe(0x214)]({'port':_0x53b725[_0x30bfbe(0x37f)]()[_0x30bfbe(0x1a9)],'headers':{'Connection':_0x1babfd[_0x30bfbe(0x1e2)],'Upgrade':_0x30bfbe(0x1f4),'Sec-WebSocket-Key':_0x30bfbe(0x291)}});_0x4b512c['on'](_0x1babfd[_0x30bfbe(0x257)],_0x4ba1fa=>{const _0x20e8c3=_0x30bfbe;_0x4cb816[_0x20e8c3(0x2a1)](_0x4ba1fa[_0x20e8c3(0x38b)],0x190);const _0x151e63=[];_0x4ba1fa['on'](_0x1babfd[_0x20e8c3(0x2b1)],_0x14a9e2=>{_0x151e63['push'](_0x14a9e2);}),_0x4ba1fa['on'](_0x20e8c3(0x2a8),()=>{const _0x284b09=_0x20e8c3;_0x45d23f[_0x284b09(0x2a1)](_0x18e63f[_0x284b09(0x37a)](_0x151e63)[_0x284b09(0x1f8)](),_0x284b09(0x2de)),_0x5bdbd[_0x284b09(0x20e)](_0x5305cc);});});}}),_0x283740['on'](_0x56933d[_0x5cd812(0x284)],()=>{const _0x2f498c=_0x5cd812,_0x201dac={'QnxCI':_0x1c3cd6['lxPxT']};if(_0x1c3cd6['srqJk'](_0x1c3cd6[_0x2f498c(0x332)],_0x1c3cd6[_0x2f498c(0x332)])){const _0x785452=_0x914085['get']({'port':_0x2bf304[_0x2f498c(0x37f)]()[_0x2f498c(0x1a9)],'headers':{'Connection':_0x2f498c(0x1dd),'Upgrade':_0x201dac[_0x2f498c(0x292)],'Sec-WebSocket-Key':_0x2f498c(0x248),'Sec-WebSocket-Version':0x8}});_0x785452['on']('response',_0x4e39c5=>{const _0x390b01=_0x2f498c;_0xa6ad13[_0x390b01(0x2a1)](_0x4e39c5[_0x390b01(0x38b)],0x194),_0x5edef0[_0x390b01(0x20e)](_0x4d60e0);});}else assert[_0x2f498c(0x2a1)](Buffer[_0x2f498c(0x37a)](_0x4e13a2)['toString'](),_0x1c3cd6[_0x2f498c(0x25d)]),_0x11eb64[_0x2f498c(0x20e)](_0x11ac08);});});});_0x11eb64['on'](_0x37b527[_0x4638f6(0x390)],()=>{const _0x10cf68=_0x4638f6;_0x37b527[_0x10cf68(0x204)](_0x11ac08,new Error(_0x10cf68(0x2ae)));});}),_0x50a864[_0x72e5d7(0x23d)](it,_0x50a864[_0x72e5d7(0x1f0)],_0x165c01=>{const _0x1dbae6=_0x72e5d7,_0x47e9a3={'YIWdf':_0x1dbae6(0x21e),'MfAzQ':_0x1dbae6(0x2a8)};if(_0x37b527[_0x1dbae6(0x1cc)](_0x37b527['zbJsn'],_0x37b527[_0x1dbae6(0x2a4)])){const _0x590b80=new WebSocket[(_0x1dbae6(0x21f))]({'port':0x0},()=>{const _0x583bc8=_0x1dbae6,_0x45f8b0=http[_0x583bc8(0x214)]({'port':_0x590b80['address']()[_0x583bc8(0x1a9)],'headers':{'Connection':_0x583bc8(0x1dd),'Upgrade':_0x583bc8(0x1f4),'Sec-WebSocket-Key':_0x583bc8(0x291)}});_0x45f8b0['on'](_0x583bc8(0x26e),_0x464e9d=>{const _0x24f75e=_0x583bc8,_0x2f38d5={'ghXIu':_0x24f75e(0x2de)};assert['strictEqual'](_0x464e9d[_0x24f75e(0x38b)],0x190);const _0x3adea5=[];_0x464e9d['on'](_0x47e9a3[_0x24f75e(0x1af)],_0x38c26b=>{const _0x10dc77=_0x24f75e;_0x3adea5[_0x10dc77(0x2ca)](_0x38c26b);}),_0x464e9d['on'](_0x47e9a3[_0x24f75e(0x264)],()=>{const _0x380700=_0x24f75e;assert[_0x380700(0x2a1)](Buffer[_0x380700(0x37a)](_0x3adea5)[_0x380700(0x1f8)](),_0x2f38d5[_0x380700(0x26d)]),_0x590b80['close'](_0x165c01);});});});_0x590b80['on'](_0x37b527[_0x1dbae6(0x390)],()=>{const _0x28021e=_0x1dbae6;_0x37b527[_0x28021e(0x204)](_0x165c01,new Error(_0x37b527[_0x28021e(0x1ad)]));});}else _0x466f18['throws'](()=>new _0x5add94[(_0x1dbae6(0x21f))](),new _0x88199c(_0x37b527[_0x1dbae6(0x269)](_0x1dbae6(0x342),_0x1dbae6(0x318))));}),_0x50a864['jLhHd'](it,_0x50a864[_0x72e5d7(0x323)],_0x4915f2=>{const _0x303c=_0x72e5d7,_0x463477={'cfBBk':function(_0x34465d,_0x6b02bc){return _0x34465d(_0x6b02bc);},'czCwU':_0x50a864[_0x303c(0x2f4)],'hmHnC':_0x50a864['aAPAB'],'VrSDT':_0x50a864[_0x303c(0x35c)]},_0x4e7e2d=new WebSocket[(_0x303c(0x21f))]({'port':0x0},()=>{const _0x222572=_0x303c,_0x527ab1={'XVKww':_0x222572(0x21e)};if(_0x463477[_0x222572(0x36b)]===_0x222572(0x1ee)){const _0x5a3a13=http[_0x222572(0x214)]({'port':_0x4e7e2d[_0x222572(0x37f)]()[_0x222572(0x1a9)],'headers':{'Connection':'Upgrade','Upgrade':_0x463477[_0x222572(0x2f9)],'Sec-WebSocket-Key':_0x463477['VrSDT']}});_0x5a3a13['on'](_0x222572(0x26e),_0x237b15=>{const _0x4ab103=_0x222572;assert[_0x4ab103(0x2a1)](_0x237b15['statusCode'],0x190);const _0x52d083=[];_0x237b15['on'](_0x527ab1[_0x4ab103(0x2d3)],_0x2c94e4=>{const _0x3a1cd8=_0x4ab103;_0x52d083[_0x3a1cd8(0x2ca)](_0x2c94e4);}),_0x237b15['on']('end',()=>{const _0x103fd3=_0x4ab103;assert[_0x103fd3(0x2a1)](Buffer['concat'](_0x52d083)['toString'](),_0x103fd3(0x2c8)),_0x4e7e2d[_0x103fd3(0x20e)](_0x4915f2);});});}else _0x463477[_0x222572(0x35e)](_0x4c53fa,new _0x3ba614(_0x222572(0x2ae)));});_0x4e7e2d['on'](_0x50a864[_0x303c(0x36d)],()=>{const _0x2490ca=_0x303c;_0x4915f2(new Error(_0x2490ca(0x2ae)));});}),_0x50a864['eWWTa'](it,_0x50a864[_0x72e5d7(0x382)],_0x42d84c=>{const _0x296ee7=_0x72e5d7,_0x3eaf1a={'Ioxkh':'end'},_0x4affab=new WebSocket[(_0x296ee7(0x21f))]({'port':0x0},()=>{const _0x123efc=_0x296ee7,_0x38d96c={'BkHuu':_0x37b527['EkKWR'],'xLXJa':_0x37b527[_0x123efc(0x25e)],'INtmM':function(_0x4038d8,_0x28e00b,_0x2b6639){const _0x42546b=_0x123efc;return _0x37b527[_0x42546b(0x30f)](_0x4038d8,_0x28e00b,_0x2b6639);},'TDsVY':function(_0x17bf24,_0x2ca48f){const _0x137f35=_0x123efc;return _0x37b527[_0x137f35(0x32f)](_0x17bf24,_0x2ca48f);},'omMuc':_0x123efc(0x2c8)};if(_0x123efc(0x179)!=='hYYma'){const _0x39ab11={'kFrIG':_0x38d96c[_0x123efc(0x22c)],'yglgP':_0x38d96c[_0x123efc(0x36e)]};_0x174300(_0x123efc(0x1d6),()=>{const _0x2832f3=_0x123efc,_0x182cca=new _0x46d6ca[(_0x2832f3(0x21f))]({'noServer':!![],'path':_0x39ab11[_0x2832f3(0x258)]});_0x1818a2[_0x2832f3(0x2a1)](_0x182cca[_0x2832f3(0x1b2)]({'url':_0x2832f3(0x2d0)}),!![]),_0x4a13d5[_0x2832f3(0x2a1)](_0x182cca[_0x2832f3(0x1b2)]({'url':_0x39ab11[_0x2832f3(0x353)]}),!![]);}),_0x38d96c[_0x123efc(0x213)](_0x4db514,_0x123efc(0x326),()=>{const _0x196538=_0x123efc,_0x3ef3b1=new _0x11d816[(_0x196538(0x21f))]({'noServer':!![],'path':_0x196538(0x2d0)});_0x503c99['strictEqual'](_0x3ef3b1[_0x196538(0x1b2)]({'url':_0x196538(0x2e7)}),![]);});}else{const _0xbc6fb=http[_0x123efc(0x214)]({'port':_0x4affab[_0x123efc(0x37f)]()['port'],'headers':{'Connection':_0x123efc(0x1dd),'Upgrade':_0x123efc(0x1f4),'Sec-WebSocket-Key':_0x37b527['nsXFz'],'Sec-WebSocket-Version':0xc}});_0xbc6fb['on'](_0x37b527[_0x123efc(0x231)],_0x54e8e5=>{const _0x3d0b5=_0x123efc;assert[_0x3d0b5(0x2a1)](_0x54e8e5[_0x3d0b5(0x38b)],0x190);const _0x3779c7=[];_0x54e8e5['on'](_0x3d0b5(0x21e),_0x1f8f99=>{const _0x2d4317=_0x3d0b5;_0x3779c7[_0x2d4317(0x2ca)](_0x1f8f99);}),_0x54e8e5['on'](_0x3eaf1a[_0x3d0b5(0x2da)],()=>{const _0x4c0d93=_0x3d0b5;_0x38d96c[_0x4c0d93(0x386)](_0x4c0d93(0x205),'QMjMB')?(_0x3fcd76[_0x4c0d93(0x20e)](),_0x26b23a[_0x4c0d93(0x20e)](_0x56fffd)):(assert['strictEqual'](Buffer[_0x4c0d93(0x37a)](_0x3779c7)[_0x4c0d93(0x1f8)](),_0x38d96c[_0x4c0d93(0x274)]),_0x4affab[_0x4c0d93(0x20e)](_0x42d84c));});});}});_0x4affab['on'](_0x37b527[_0x296ee7(0x390)],()=>{const _0x320906=_0x296ee7;_0x42d84c(new Error(_0x320906(0x2ae)));});}),it(_0x50a864['fvBjD'],_0x2557f5=>{const _0x572c5c=_0x72e5d7,_0x3fab3b={'LKeMN':_0x37b527[_0x572c5c(0x312)],'vvABr':'response'},_0x1b6744=new WebSocket[(_0x572c5c(0x21f))]({'port':0x0},()=>{const _0x59c92e=_0x572c5c,_0x35d3a6=http[_0x59c92e(0x214)]({'port':_0x1b6744[_0x59c92e(0x37f)]()[_0x59c92e(0x1a9)],'headers':{'Connection':_0x59c92e(0x1dd),'Upgrade':_0x59c92e(0x1f4),'Sec-WebSocket-Key':_0x59c92e(0x248),'Sec-WebSocket-Version':0xd,'Sec-WebSocket-Protocol':_0x3fab3b[_0x59c92e(0x335)]}});_0x35d3a6['on'](_0x3fab3b['vvABr'],_0x38048f=>{const _0x3301f3=_0x59c92e,_0x49269a={'wewqT':_0x3301f3(0x21c)};assert[_0x3301f3(0x2a1)](_0x38048f[_0x3301f3(0x38b)],0x190);const _0x200a46=[];_0x38048f['on'](_0x3301f3(0x21e),_0x2116e9=>{const _0x5830e4=_0x3301f3;_0x200a46[_0x5830e4(0x2ca)](_0x2116e9);}),_0x38048f['on'](_0x3301f3(0x2a8),()=>{const _0xefd869=_0x3301f3;assert[_0xefd869(0x2a1)](Buffer[_0xefd869(0x37a)](_0x200a46)[_0xefd869(0x1f8)](),_0x49269a['wewqT']),_0x1b6744[_0xefd869(0x20e)](_0x2557f5);});});});_0x1b6744['on'](_0x37b527[_0x572c5c(0x390)],()=>{const _0x3e0bdf=_0x572c5c;_0x37b527[_0x3e0bdf(0x2f2)](_0x2557f5,new Error(_0x3e0bdf(0x2ae)));});}),it(_0x50a864[_0x72e5d7(0x2fe)],_0xfc65f2=>{const _0x4177d9=_0x72e5d7,_0x388d41={'QRrWZ':_0x37b527['bhVGQ'],'LDdFt':_0x4177d9(0x1dd),'cbVzG':_0x37b527[_0x4177d9(0x282)],'ilMFx':_0x37b527[_0x4177d9(0x316)],'DDPEj':_0x37b527['gEDzB']},_0xd3b0c8=new WebSocket[(_0x4177d9(0x21f))]({'perMessageDeflate':!![],'port':0x0},()=>{const _0x2b3e53=_0x4177d9,_0x3e2619={'nfdVk':_0x2b3e53(0x1ed),'zCmYN':function(_0x5d4379,_0x42288e){return _0x5d4379===_0x42288e;},'KBaHz':_0x388d41[_0x2b3e53(0x256)],'TsFAe':'end'},_0x47040e=http[_0x2b3e53(0x214)]({'port':_0xd3b0c8['address']()[_0x2b3e53(0x1a9)],'headers':{'Connection':_0x388d41[_0x2b3e53(0x2d9)],'Upgrade':_0x388d41[_0x2b3e53(0x355)],'Sec-WebSocket-Key':_0x2b3e53(0x248),'Sec-WebSocket-Version':0xd,'Sec-WebSocket-Extensions':_0x388d41[_0x2b3e53(0x261)]}});_0x47040e['on'](_0x2b3e53(0x26e),_0x3d06d2=>{const _0x5c73c4=_0x2b3e53,_0x4bdca7={'IVymp':function(_0x1822e8,_0xb3f939){return _0x3e2619['zCmYN'](_0x1822e8,_0xb3f939);}};assert[_0x5c73c4(0x2a1)](_0x3d06d2[_0x5c73c4(0x38b)],0x190);const _0x3d80a3=[];_0x3d06d2['on'](_0x3e2619[_0x5c73c4(0x345)],_0xcc2d50=>{const _0x48d8e6=_0x5c73c4;_0x4bdca7[_0x48d8e6(0x2b2)](_0x48d8e6(0x1df),_0x48d8e6(0x381))?_0x2cbd8e['on'](_0x48d8e6(0x20e),()=>{const _0x4e65e7=_0x48d8e6;_0x2a1ff0[_0x4e65e7(0x20e)](_0x19355e);}):_0x3d80a3[_0x48d8e6(0x2ca)](_0xcc2d50);}),_0x3d06d2['on'](_0x3e2619[_0x5c73c4(0x1aa)],()=>{const _0x1d6384=_0x5c73c4;assert[_0x1d6384(0x2a1)](Buffer[_0x1d6384(0x37a)](_0x3d80a3)[_0x1d6384(0x1f8)](),_0x3e2619['nfdVk']),_0xd3b0c8['close'](_0xfc65f2);});});});_0xd3b0c8['on'](_0x4177d9(0x351),()=>{const _0x390c94=_0x4177d9;_0xfc65f2(new Error(_0x388d41[_0x390c94(0x230)]));});}),it(_0x72e5d7(0x365),_0x252d47=>{const _0x20a78b=_0x72e5d7,_0x5dbb09={'CqXit':_0x50a864[_0x20a78b(0x2ab)]},_0x22832c=new WebSocket[(_0x20a78b(0x21f))]({'port':0x0},()=>{const _0x1331f2=_0x20a78b,_0x1933be=http['request']({'method':_0x5dbb09[_0x1331f2(0x2fb)],'port':_0x22832c[_0x1331f2(0x37f)]()[_0x1331f2(0x1a9)],'headers':{'Connection':_0x1331f2(0x1dd),'Upgrade':_0x1331f2(0x1f4)}});_0x1933be['on'](_0x1331f2(0x26e),_0x36bcf2=>{const _0x1deb75=_0x1331f2;assert[_0x1deb75(0x2a1)](_0x36bcf2[_0x1deb75(0x38b)],0x190),_0x22832c[_0x1deb75(0x20e)](_0x252d47);}),_0x1933be['end']();});_0x22832c['on'](_0x50a864[_0x20a78b(0x182)],(_0x22c15a,_0x36adfc,_0x3899ed)=>{const _0x263350=_0x20a78b;assert['ok'](_0x37b527[_0x263350(0x240)](_0x22c15a,Error)),assert[_0x263350(0x2a1)](_0x22c15a[_0x263350(0x2ec)],_0x37b527['zYHhq']),assert['ok'](_0x37b527[_0x263350(0x327)](_0x3899ed,http['IncomingMessage'])),assert[_0x263350(0x2a1)](_0x3899ed[_0x263350(0x1d1)],_0x263350(0x383)),_0x36adfc['end'](_0x263350(0x29f));}),_0x22832c['on'](_0x20a78b(0x351),()=>{const _0x4a12c1=_0x20a78b,_0x41e9d4={'ZYkoL':_0x37b527[_0x4a12c1(0x22a)]};if('YbBtI'===_0x37b527[_0x4a12c1(0x346)])_0x252d47(new Error(_0x37b527['gEDzB']));else{_0x3a12a8['strictEqual'](_0x3d81b3[_0x4a12c1(0x38b)],0x190);const _0x4b8192=[];_0x4bed91['on']('data',_0x1ba690=>{const _0x55e592=_0x4a12c1;_0x4b8192[_0x55e592(0x2ca)](_0x1ba690);}),_0x345c02['on'](_0x41e9d4['ZYkoL'],()=>{const _0x412ce7=_0x4a12c1;_0x40ba12[_0x412ce7(0x2a1)](_0x467ace[_0x412ce7(0x37a)](_0x4b8192)[_0x412ce7(0x1f8)](),'Missing\x20or\x20invalid\x20Sec-WebSocket-Key\x20header'),_0x439dec[_0x412ce7(0x20e)](_0x450761);});}});}),it(_0x50a864[_0x72e5d7(0x344)],_0x4d1fb0=>{const _0x226243=_0x72e5d7,_0x477e88={'gLgzo':function(_0x2b0818,_0x53d6f0){return _0x2b0818===_0x53d6f0;},'mGkBM':_0x37b527[_0x226243(0x2a6)]},_0x1ac156=http[_0x226243(0x1dc)](),_0x10eb8e=new WebSocket['Server']({'noServer':!![]});_0x1ac156['on']('upgrade',(_0xe54722,_0xb109ab,_0x5205f3)=>{const _0x3590a5=_0x226243,_0x56864b={'xRAkO':_0x3590a5(0x1bd)};_0x10eb8e[_0x3590a5(0x20e)](),_0x10eb8e[_0x3590a5(0x188)](_0xe54722,_0xb109ab,_0x5205f3,()=>{_0x4d1fb0(new Error(_0x56864b['xRAkO']));});}),_0x1ac156['listen'](0x0,()=>{const _0x5de975=_0x226243;if(_0x477e88[_0x5de975(0x33d)]('pjyKc',_0x477e88[_0x5de975(0x28c)]))_0x593408(new _0x5cbcf2(_0x5de975(0x2ae)));else{const _0x3e43d8=new WebSocket(_0x5de975(0x1b9)+_0x1ac156[_0x5de975(0x37f)]()[_0x5de975(0x1a9)]);_0x3e43d8['on'](_0x5de975(0x25c),(_0x531def,_0x40e7d1)=>{const _0x35091d=_0x5de975;assert[_0x35091d(0x2a1)](_0x40e7d1[_0x35091d(0x38b)],0x1f7),_0x40e7d1[_0x35091d(0x2f7)](),_0x1ac156[_0x35091d(0x20e)](_0x4d1fb0);});}});}),it(_0x72e5d7(0x1a1),_0x59eb87=>{const _0x2fc7ad=_0x72e5d7,_0x42a81f={'atsmY':'websocket','oCSWb':_0x37b527[_0x2fc7ad(0x33e)],'YKzTw':_0x37b527['HsWQm']},_0x3f72a4=new WebSocket[(_0x2fc7ad(0x21f))]({'perMessageDeflate':!![],'port':0x0},()=>{const _0x4ad7b2=_0x2fc7ad,_0x3f4047=http['get']({'port':_0x3f72a4[_0x4ad7b2(0x37f)]()['port'],'headers':{'Connection':_0x4ad7b2(0x1dd),'Upgrade':_0x42a81f['atsmY'],'Sec-WebSocket-Key':_0x4ad7b2(0x248),'Sec-WebSocket-Version':0xd,'Sec-WebSocket-Extensions':_0x4ad7b2(0x2a3)}});_0x3f4047['on'](_0x42a81f[_0x4ad7b2(0x366)],(_0x46f2c9,_0x43585f,_0x453a46)=>{const _0x2bafe7=_0x4ad7b2;if(_0x453a46['length'])_0x43585f[_0x2bafe7(0x192)](_0x453a46);_0x43585f[_0x2bafe7(0x38f)](_0x2bafe7(0x21e),_0x50090b=>{const _0x55fde8=_0x2bafe7;assert['strictEqual'](_0x50090b[0x0],0x88),_0x43585f[_0x55fde8(0x232)](),_0x3f72a4[_0x55fde8(0x20e)](_0x59eb87);});});});_0x3f72a4['on'](_0x37b527[_0x2fc7ad(0x390)],_0x199bbd=>{const _0x5c91c7=_0x2fc7ad;if('VrCAF'===_0x42a81f[_0x5c91c7(0x244)])assert[_0x5c91c7(0x2a1)](_0x199bbd[_0x5c91c7(0x35a)],''),_0x199bbd[_0x5c91c7(0x20e)]();else{let _0x301b4c='';_0x36d59a[_0x5c91c7(0x2a1)](_0x44f03f[_0x5c91c7(0x38b)],0x1aa),_0x570080['on'](_0x5c91c7(0x21e),_0x2639e7=>{_0x301b4c+=_0x2639e7;}),_0x3f56f6['on'](_0x5c91c7(0x2a8),()=>{const _0x45019c=_0x5c91c7;_0x2f4ba2[_0x45019c(0x2a1)](_0x301b4c,_0x21fc7b['STATUS_CODES'][0x1aa]),_0x12b988['close'](_0x8acd00);});}});}),describe(_0x72e5d7(0x262),()=>{const _0x19c3c7=_0x72e5d7,_0x45e70d={'OrOhN':function(_0x33473c,_0x33bf84){return _0x37b527['fuMvi'](_0x33473c,_0x33bf84);},'adYlw':_0x37b527['nlYbi'],'hEHVo':_0x37b527[_0x19c3c7(0x282)],'jYmVr':_0x19c3c7(0x248),'xgFql':_0x19c3c7(0x26e),'sVjgr':_0x37b527['gEDzB'],'yYSpT':_0x37b527[_0x19c3c7(0x390)],'fHzVs':_0x37b527[_0x19c3c7(0x2bb)],'KwBrC':'test/fixtures/certificate.pem','aqmfw':_0x37b527[_0x19c3c7(0x1ab)]};_0x37b527[_0x19c3c7(0x30f)](it,_0x37b527[_0x19c3c7(0x397)],_0x376e79=>{const _0x51578f=_0x19c3c7,_0x304c44={'mWWDs':function(_0x50772b,_0x33dd6e){return _0x50772b===_0x33dd6e;},'crjwi':function(_0x363789,_0x41058d){const _0x1843a2=_0x52e6;return _0x45e70d[_0x1843a2(0x1ac)](_0x363789,_0x41058d);},'sLOcm':_0x45e70d[_0x51578f(0x1d3)],'tvsJv':_0x45e70d['hEHVo'],'kNHaQ':_0x45e70d[_0x51578f(0x33b)],'rFHGk':_0x45e70d[_0x51578f(0x2c1)],'UjIdb':_0x45e70d[_0x51578f(0x307)]},_0x1f1675=new WebSocket[(_0x51578f(0x21f))]({'verifyClient':()=>![],'port':0x0},()=>{const _0x2be592=_0x51578f,_0x468d41={'hYqXb':function(_0x302f3e,_0x1f707e){const _0x9650f6=_0x52e6;return _0x304c44[_0x9650f6(0x1e1)](_0x302f3e,_0x1f707e);}},_0x176f50=http['get']({'port':_0x1f1675[_0x2be592(0x37f)]()[_0x2be592(0x1a9)],'headers':{'Connection':_0x304c44[_0x2be592(0x352)],'Upgrade':_0x304c44[_0x2be592(0x211)],'Sec-WebSocket-Key':_0x304c44[_0x2be592(0x34b)],'Sec-WebSocket-Version':0x8}});_0x176f50['on'](_0x304c44[_0x2be592(0x279)],_0x4999bc=>{const _0x202e44=_0x2be592;_0x304c44[_0x202e44(0x249)](_0x202e44(0x286),_0x202e44(0x286))?(assert[_0x202e44(0x2a1)](_0x4999bc[_0x202e44(0x38b)],0x191),_0x1f1675[_0x202e44(0x20e)](_0x376e79)):_0x468d41[_0x202e44(0x311)](_0x2752cd,new _0x55097a('Unexpected\x20\x27connection\x27\x20event'));});});_0x1f1675['on'](_0x45e70d[_0x51578f(0x17a)],()=>{const _0x51d83f=_0x51578f;_0x376e79(new Error(_0x304c44[_0x51d83f(0x237)]));});}),_0x37b527[_0x19c3c7(0x178)](it,_0x37b527[_0x19c3c7(0x2df)],_0xf664f2=>{const _0x470d54=_0x19c3c7,_0x384555={'FxTSw':_0x45e70d['fHzVs'],'pdfYu':_0x470d54(0x319)},_0x2e1023=https[_0x470d54(0x1dc)]({'cert':fs[_0x470d54(0x238)](_0x45e70d[_0x470d54(0x2b6)]),'key':fs[_0x470d54(0x238)](_0x470d54(0x16d))}),_0xec2c53=new WebSocket['Server']({'verifyClient':_0x3445b3=>{const _0x4653eb=_0x470d54;return assert[_0x4653eb(0x2a1)](_0x3445b3['origin'],'https://example.com'),assert[_0x4653eb(0x2a1)](_0x3445b3[_0x4653eb(0x38a)][_0x4653eb(0x362)][_0x4653eb(0x2cc)],'bar'),assert['ok'](_0x3445b3['secure'],!![]),!![];},'server':_0x2e1023});_0xec2c53['on'](_0x470d54(0x351),()=>{const _0x520f49=_0x470d54;_0x2e1023[_0x520f49(0x20e)](_0xf664f2);}),_0x2e1023['listen'](0x0,()=>{const _0x4a551b=_0x470d54,_0x3fd35e=new WebSocket(_0x4a551b(0x2eb)+_0x2e1023[_0x4a551b(0x37f)]()['port'],{'headers':{'Origin':_0x384555[_0x4a551b(0x195)],'foo':'bar'},'rejectUnauthorized':![]});_0x3fd35e['on'](_0x384555['pdfYu'],_0x3fd35e[_0x4a551b(0x20e)]);});}),_0x37b527['YmWFO'](it,_0x19c3c7(0x1f5),_0x52c3d5=>{const _0x1a82ef=_0x19c3c7;if(_0x37b527[_0x1a82ef(0x339)](_0x37b527['QOrAs'],'qGWxi')){const _0x414d69=new WebSocket['Server']({'verifyClient':(_0x358c3d,_0x4c1eca)=>process[_0x1a82ef(0x18e)](_0x4c1eca,!![]),'port':0x0},()=>{const _0x5adc4b=_0x1a82ef;if('oamZO'===_0x5adc4b(0x293)){const _0x5739ea=new WebSocket(_0x5adc4b(0x1b9)+_0x414d69['address']()[_0x5adc4b(0x1a9)]);_0x5739ea['on']('open',_0x5739ea[_0x5adc4b(0x20e)]);}else _0x37c3b3['push'](_0x5a9e74);});_0x414d69['on']('connection',()=>_0x414d69[_0x1a82ef(0x20e)](_0x52c3d5));}else _0x30cce8[_0x1a82ef(0x20e)](()=>{const _0x249724=_0x1a82ef;_0x44fbdd['strictEqual'](_0x2b7ed3[_0x249724(0x361)],0x2),_0x5a5c67[_0x249724(0x20e)](_0x502af9=>{const _0x18a1d1=_0x249724;_0x337b7b['ok'](_0x502af9 instanceof _0x4f9e88),_0x5bbb03[_0x18a1d1(0x2a1)](_0x502af9[_0x18a1d1(0x2ec)],'The\x20server\x20is\x20not\x20running'),_0x16e39e();});});}),_0x37b527[_0x19c3c7(0x2f6)](it,_0x37b527[_0x19c3c7(0x17c)],_0x30d867=>{const _0x26d6e5=_0x19c3c7,_0x4783e8={'ntzRt':_0x26d6e5(0x1dd)};if(_0x45e70d['aqmfw']!==_0x45e70d[_0x26d6e5(0x34f)])_0x34583c(new _0x1adb96('Unexpected\x20\x27connection\x27\x20event'));else{const _0x49956d=new WebSocket[(_0x26d6e5(0x21f))]({'verifyClient':(_0x3a456c,_0x626ee3)=>process[_0x26d6e5(0x18e)](_0x626ee3,![]),'port':0x0},()=>{const _0x35f05f=_0x26d6e5,_0x3c4f24=http[_0x35f05f(0x214)]({'port':_0x49956d[_0x35f05f(0x37f)]()[_0x35f05f(0x1a9)],'headers':{'Connection':_0x4783e8['ntzRt'],'Upgrade':_0x35f05f(0x1f4),'Sec-WebSocket-Key':_0x35f05f(0x248),'Sec-WebSocket-Version':0x8}});_0x3c4f24['on']('response',_0x63c801=>{const _0x2b3e35=_0x35f05f;assert[_0x2b3e35(0x2a1)](_0x63c801[_0x2b3e35(0x38b)],0x191),_0x49956d[_0x2b3e35(0x20e)](_0x30d867);});});_0x49956d['on'](_0x45e70d[_0x26d6e5(0x17a)],()=>{const _0x41dfcb=_0x26d6e5;_0x30d867(new Error(_0x45e70d[_0x41dfcb(0x307)]));});}}),it(_0x19c3c7(0x360),_0x2608b3=>{const _0x381165=_0x19c3c7,_0x11fb6b={'dEYnb':_0x45e70d[_0x381165(0x1d3)],'WfMHs':_0x45e70d[_0x381165(0x33b)]},_0x231d49=new WebSocket[(_0x381165(0x21f))]({'verifyClient':(_0x510b02,_0x244d9e)=>process[_0x381165(0x18e)](_0x244d9e,![],0x194),'port':0x0},()=>{const _0x2e7222=_0x381165,_0x47739b=http[_0x2e7222(0x214)]({'port':_0x231d49['address']()[_0x2e7222(0x1a9)],'headers':{'Connection':_0x11fb6b[_0x2e7222(0x190)],'Upgrade':_0x2e7222(0x1f4),'Sec-WebSocket-Key':_0x11fb6b[_0x2e7222(0x27e)],'Sec-WebSocket-Version':0x8}});_0x47739b['on'](_0x2e7222(0x26e),_0xbd13ad=>{const _0x22bb9a=_0x2e7222;if(_0x22bb9a(0x225)!=='sYIqz'){const _0x13162a=new _0x556d6e[(_0x22bb9a(0x21f))]({'port':0x0},()=>{_0x13162a['close'](()=>{const _0x14cd49=_0x52e6,_0x310db6={'eDqVe':function(_0x1cf510){return _0x1cf510();}};_0x1992a8[_0x14cd49(0x2a1)](_0x13162a[_0x14cd49(0x361)],0x2),_0x13162a[_0x14cd49(0x20e)](_0x4ad318=>{const _0x11fe25=_0x14cd49;_0x268c12['ok'](_0x4ad318 instanceof _0x21976f),_0x3346c1[_0x11fe25(0x2a1)](_0x4ad318['message'],_0x11fe25(0x26c)),_0x310db6['eDqVe'](_0x1ad9df);});});});}else assert[_0x22bb9a(0x2a1)](_0xbd13ad[_0x22bb9a(0x38b)],0x194),_0x231d49[_0x22bb9a(0x20e)](_0x2608b3);});});_0x231d49['on'](_0x45e70d['yYSpT'],()=>{const _0x42ed7e=_0x381165;_0x45e70d[_0x42ed7e(0x1ac)](_0x2608b3,new Error(_0x45e70d[_0x42ed7e(0x307)]));});}),it(_0x19c3c7(0x349),_0x344c26=>{const _0x205dee=_0x19c3c7,_0x52bb92={'WvvNi':_0x37b527['dpVZY'],'YzoIj':function(_0x16145d,_0x2d142b){return _0x16145d(_0x2d142b);},'amwHm':_0x205dee(0x2ae)},_0xb5407=new WebSocket[(_0x205dee(0x21f))]({'verifyClient':(_0x20a7bd,_0x44a018)=>{const _0x187db5=_0x205dee;process[_0x187db5(0x18e)](_0x44a018,![],0x1f7,'',{'Retry-After':0x78});},'port':0x0},()=>{const _0x573882=_0x205dee,_0x2d12fc=http[_0x573882(0x214)]({'port':_0xb5407[_0x573882(0x37f)]()[_0x573882(0x1a9)],'headers':{'Connection':_0x573882(0x1dd),'Upgrade':_0x573882(0x1f4),'Sec-WebSocket-Key':_0x45e70d[_0x573882(0x33b)],'Sec-WebSocket-Version':0x8}});_0x2d12fc['on']('response',_0x28f8c7=>{const _0x48fdf0=_0x573882;assert['strictEqual'](_0x28f8c7[_0x48fdf0(0x38b)],0x1f7),assert[_0x48fdf0(0x2a1)](_0x28f8c7[_0x48fdf0(0x362)][_0x48fdf0(0x36a)],_0x52bb92[_0x48fdf0(0x210)]),_0xb5407['close'](_0x344c26);});});_0xb5407['on']('connection',()=>{const _0x10df17=_0x205dee;_0x52bb92[_0x10df17(0x1bb)](_0x344c26,new Error(_0x52bb92[_0x10df17(0x23a)]));});});}),it(_0x72e5d7(0x174),_0x2c0932=>{const _0x3c3880=_0x72e5d7,_0x27a561={'PANJl':_0x37b527[_0x3c3880(0x1d9)],'DLHqN':_0x37b527[_0x3c3880(0x2d2)],'OvgWB':_0x37b527[_0x3c3880(0x235)]},_0x480ea0=http['createServer']();_0x480ea0[_0x3c3880(0x20d)](0x0,()=>{const _0x7ee79f=_0x3c3880,_0x10e717={'ufaSP':_0x7ee79f(0x2a8)},_0xd883c0=new WebSocket[(_0x7ee79f(0x21f))]({'verifyClient':({req:{socket:_0x3fa6c1}},_0x4f2576)=>{const _0x1a8170=_0x7ee79f,_0x23396d={'nCSfq':function(_0xe8d654,_0x22e2d6){return _0xe8d654(_0x22e2d6);}};assert[_0x1a8170(0x2a1)](_0x3fa6c1[_0x1a8170(0x202)],!![]),assert['strictEqual'](_0x3fa6c1[_0x1a8170(0x337)],!![]),_0x3fa6c1['on'](_0x10e717[_0x1a8170(0x17b)],()=>{const _0x3ca965=_0x1a8170;assert[_0x3ca965(0x2a1)](_0x3fa6c1[_0x3ca965(0x202)],![]),assert[_0x3ca965(0x2a1)](_0x3fa6c1[_0x3ca965(0x337)],!![]),_0x23396d[_0x3ca965(0x22e)](_0x4f2576,!![]);});},'server':_0x480ea0});_0xd883c0['on'](_0x7ee79f(0x351),()=>{const _0x5d6e15=_0x7ee79f;_0x2c0932(new Error(_0x5d6e15(0x2ae)));});const _0x289b03=net['connect']({'port':_0x480ea0['address']()[_0x7ee79f(0x1a9)],'allowHalfOpen':!![]},()=>{const _0x4c482d=_0x7ee79f;_0x289b03[_0x4c482d(0x2a8)](['GET\x20/\x20HTTP/1.1',_0x27a561['PANJl'],_0x4c482d(0x1f2),_0x4c482d(0x37b),_0x4c482d(0x389),_0x27a561[_0x4c482d(0x241)],'\x0d\x0a'][_0x4c482d(0x233)]('\x0d\x0a'));});_0x289b03['on']('end',()=>{const _0x69b044=_0x7ee79f;if(_0x69b044(0x2fd)===_0x27a561[_0x69b044(0x1c1)]){const _0x55cf60=new _0x50e8cb[(_0x69b044(0x21f))]({'noServer':!![]});_0x55cf60[_0x69b044(0x20e)](_0x13d96b);}else _0xd883c0[_0x69b044(0x20e)](),_0x480ea0['close'](_0x2c0932);});});}),it(_0x72e5d7(0x209),_0x50aede=>{const _0x52536c=_0x72e5d7,_0x2ae700={'knvDt':_0x37b527[_0x52536c(0x282)],'WuFhy':_0x52536c(0x1c2),'Noqff':function(_0x20f3bd,_0x3b46c6){const _0x14eed4=_0x52536c;return _0x37b527[_0x14eed4(0x2e8)](_0x20f3bd,_0x3b46c6);},'XIgvF':_0x37b527[_0x52536c(0x206)]},_0x5e62dc=new WebSocket[(_0x52536c(0x21f))]({'port':0x0},()=>{const _0x227d72=_0x52536c,_0x1d49d0=http[_0x227d72(0x34d)]({'port':_0x5e62dc['address']()[_0x227d72(0x1a9)],'headers':{'Connection':_0x227d72(0x1dd),'Upgrade':_0x2ae700[_0x227d72(0x1a8)],'Sec-WebSocket-Key':_0x227d72(0x248),'Sec-WebSocket-Version':0xd}}),_0x3a7f5d=Sender[_0x227d72(0x277)](Buffer[_0x227d72(0x278)](_0x2ae700['WuFhy']),{'fin':!![],'rsv1':![],'opcode':0x1,'mask':!![],'readOnly':![]});_0x1d49d0[_0x227d72(0x267)](Buffer[_0x227d72(0x37a)](_0x3a7f5d)),_0x1d49d0[_0x227d72(0x2a8)]();});_0x5e62dc['on'](_0x52536c(0x351),_0x59acf5=>{const _0x5ea4ee=_0x52536c,_0x4040bb={'zqXgQ':_0x2ae700[_0x5ea4ee(0x247)],'iXZOT':'connection'};if(_0x2ae700[_0x5ea4ee(0x2f5)](_0x2ae700[_0x5ea4ee(0x367)],_0x2ae700[_0x5ea4ee(0x367)]))_0x59acf5['on'](_0x5ea4ee(0x2ec),(_0xa9774b,_0x820db)=>{const _0x1bfd9b=_0x5ea4ee;assert[_0x1bfd9b(0x200)](_0xa9774b,Buffer['from'](_0x4040bb['zqXgQ'])),assert['ok'](!_0x820db),_0x5e62dc[_0x1bfd9b(0x20e)](_0x50aede);});else{const _0x1ab12c=new _0x3d77d4['Server']({'port':0x0},()=>{const _0x212c6f=_0x5ea4ee,_0x3defe2=new _0x2734c5(_0x212c6f(0x1b9)+_0x1ab12c[_0x212c6f(0x37f)]()[_0x212c6f(0x1a9)]);_0x3defe2['on'](_0x212c6f(0x319),_0x3defe2['close']);});_0x1ab12c['on'](_0x4040bb[_0x5ea4ee(0x20a)],(_0x2b7357,_0x25d0ec)=>{const _0x908016=_0x5ea4ee;_0x31e26f[_0x908016(0x2a1)](_0x25d0ec[_0x908016(0x362)][_0x908016(0x223)],_0x908016(0x29b)),_0x4767eb[_0x908016(0x2a1)](_0x2b7357[_0x908016(0x35a)],''),_0x1ab12c['close'](_0x5a9924);});}});}),_0x50a864['kcupX'](describe,'`handleProtocols`',()=>{const _0x1658e2=_0x72e5d7,_0x3ef0e8={'rszBo':function(_0x8df1f1,_0x42ad88){const _0x31b26b=_0x52e6;return _0x50a864[_0x31b26b(0x2aa)](_0x8df1f1,_0x42ad88);}};it(_0x50a864[_0x1658e2(0x2e1)],_0x1c73aa=>{const _0x220849=_0x1658e2,_0x5af6c6=(_0xd136d8,_0x2e5b73)=>{const _0x123e1d=_0x52e6;return assert['ok'](_0x3ef0e8[_0x123e1d(0x2d7)](_0x2e5b73,http[_0x123e1d(0x25b)])),assert[_0x123e1d(0x2a1)](_0x2e5b73['url'],'/'),Array['from'](_0xd136d8)[_0x123e1d(0x207)]();},_0x56ac0b=new WebSocket['Server']({'handleProtocols':_0x5af6c6,'port':0x0},()=>{const _0x22e027=_0x52e6,_0x2e2e7a={'gHLhO':'bar'},_0x12bb9f=new WebSocket(_0x22e027(0x1b9)+_0x56ac0b[_0x22e027(0x37f)]()[_0x22e027(0x1a9)],['foo',_0x22e027(0x2b9)]);_0x12bb9f['on'](_0x22e027(0x319),()=>{const _0x12387a=_0x22e027;assert[_0x12387a(0x2a1)](_0x12bb9f[_0x12387a(0x313)],_0x2e2e7a['gHLhO']),_0x56ac0b['close'](_0x1c73aa);});});_0x56ac0b['on'](_0x220849(0x351),_0x5d9427=>{const _0x218964=_0x220849;_0x5d9427[_0x218964(0x20e)]();});});}),it(_0x50a864[_0x72e5d7(0x2cb)],_0x84b554=>{const _0x1c4874=_0x72e5d7,_0x334716={'ysrGI':_0x50a864[_0x1c4874(0x265)],'syAIj':_0x50a864[_0x1c4874(0x1e9)],'enyAt':function(_0x3922f2,_0x225bb7){return _0x3922f2 instanceof _0x225bb7;},'qwJEt':_0x50a864[_0x1c4874(0x36d)]},_0x16a7e0=new WebSocket[(_0x1c4874(0x21f))]({'port':0x0},()=>{const _0x580d2f=_0x1c4874,_0x122913=new WebSocket(_0x580d2f(0x1b9)+_0x16a7e0[_0x580d2f(0x37f)]()[_0x580d2f(0x1a9)]+'?foo=bar');_0x122913['on'](_0x580d2f(0x319),_0x122913[_0x580d2f(0x20e)]);});_0x16a7e0['on'](_0x50a864['vJhXN'],(_0x34a3b4,_0x14f1f2)=>{const _0xec843=_0x1c4874;_0x334716[_0xec843(0x270)]!==_0xec843(0x183)?(assert['deepStrictEqual'](_0x34a3b4[_0xec843(0x2e9)](0x0,0x3),[_0x334716[_0xec843(0x1e3)],_0xec843(0x1f2),_0xec843(0x37b)]),assert['ok'](_0x334716[_0xec843(0x370)](_0x14f1f2,http[_0xec843(0x25b)])),assert['strictEqual'](_0x14f1f2[_0xec843(0x2c2)],_0xec843(0x1c0)),_0x16a7e0['on'](_0x334716[_0xec843(0x1a5)],()=>_0x16a7e0['close'](_0x84b554))):(_0xd67d30[_0xec843(0x2a1)](_0xd6d489[_0xec843(0x2a2)]['address']()[_0xec843(0x37f)],'::'),_0x1bfa34['close'](_0x6a0df8));});});}),describe(_0x50a864[_0xc395f8(0x280)],()=>{const _0x3d6a65=_0xc395f8,_0x10d0aa={'WkhcR':_0x50a864[_0x3d6a65(0x1cd)],'ocqkK':_0x3d6a65(0x223),'KFOBC':function(_0x2c0dba,_0x2bd361){return _0x2c0dba!==_0x2bd361;}};it(_0x50a864['atFuu'],_0x437e30=>{const _0x56f853=_0x3d6a65,_0x5e0ca3={'XCBmj':_0x50a864['wppSB'],'asoEO':'end'};if(_0x50a864['bbqMg']==='uhNoq'){const _0x460664=new WebSocket[(_0x56f853(0x21f))]({'port':0x0},()=>{const _0x118903=_0x56f853,_0x276dc5=new WebSocket('ws://localhost:'+_0x460664[_0x118903(0x37f)]()[_0x118903(0x1a9)]);_0x276dc5['on'](_0x10d0aa[_0x118903(0x1d4)],_0x276dc5[_0x118903(0x20e)]);});_0x460664['on'](_0x50a864['gmYVt'],(_0x5e4067,_0x46e8da)=>{const _0x56ad7f=_0x56f853;assert[_0x56ad7f(0x2a1)](_0x46e8da[_0x56ad7f(0x362)][_0x10d0aa[_0x56ad7f(0x26a)]],_0x56ad7f(0x29b)),assert['strictEqual'](_0x5e4067[_0x56ad7f(0x35a)],''),_0x460664[_0x56ad7f(0x20e)](_0x437e30);});}else{_0x4c2f81['strictEqual'](_0x50e748[_0x56f853(0x38b)],0x190);const _0xb4e9c7=[];_0x2bad59['on'](_0x5e0ca3['XCBmj'],_0x59eee9=>{const _0x6c5fbe=_0x56f853;_0xb4e9c7[_0x6c5fbe(0x2ca)](_0x59eee9);}),_0x103321['on'](_0x5e0ca3[_0x56f853(0x33f)],()=>{const _0x530f2d=_0x56f853;_0x4686ec['strictEqual'](_0x3f7b98[_0x530f2d(0x37a)](_0xb4e9c7)['toString'](),_0x530f2d(0x2c9)),_0x4af20e[_0x530f2d(0x20e)](_0x152e14);});}}),it(_0x3d6a65(0x221),_0x4812b9=>{const _0x2a85fd=_0x3d6a65;if(_0x50a864[_0x2a85fd(0x1d5)](_0x50a864[_0x2a85fd(0x33c)],_0x2a85fd(0x35f)))_0x26adee['strictEqual'](_0x5e476[_0x2a85fd(0x313)],_0x2a85fd(0x2b9)),_0x3b3ee6[_0x2a85fd(0x20e)](_0x12a9b2);else{const _0x2ef917=new WebSocket['Server']({'perMessageDeflate':{'clientMaxWindowBits':0x8},'port':0x0},()=>{const _0x127666=_0x2a85fd,_0x48f001={'tqjOO':_0x10d0aa[_0x127666(0x26a)]},_0x2a2abb=new WebSocket(_0x127666(0x1b9)+_0x2ef917[_0x127666(0x37f)]()[_0x127666(0x1a9)]);_0x2a2abb['on'](_0x127666(0x26b),_0x133c81=>{const _0x356df5=_0x127666;assert[_0x356df5(0x2a1)](_0x133c81['headers'][_0x48f001[_0x356df5(0x288)]],_0x356df5(0x283)),_0x2ef917[_0x356df5(0x20e)](_0x4812b9);});});_0x2ef917['on'](_0x50a864[_0x2a85fd(0x36d)],_0x5631b1=>{const _0x35a1df=_0x2a85fd;_0x10d0aa[_0x35a1df(0x19f)](_0x35a1df(0x2cf),_0x35a1df(0x2cf))?(_0x3119a6[_0x35a1df(0x2a1)](_0xd6e6e9[_0x35a1df(0x38b)],0x191),_0x237972['close'](_0x2c07a9)):_0x5631b1['close']();});}});});});function _0x2366(){const _0x2aed0a=['MXSee','/?foo=bar','OvgWB','Hello','thhwn','https://example.com','yQrfz','http','ubUUZ','XiLjy','1bsaqzX','MFDWQ','kcupX','Glsnd','wQkmA','IYSeu','hBpVU','can\x20accept\x20client\x20synchronously','method','PVZuP','adYlw','WkhcR','gtjZQ','returns\x20true\x20when\x20the\x20path\x20matches','kFUSF','YqKuT','jUyTv','12998\x205\x20Y3\x201\x20\x20.P00','closes\x20the\x20connection\x20when\x20protocol\x20version\x20is\x20Hixie-76','createServer','Upgrade','kMWwC','OMWyx','yByaS','crjwi','LygEu','syAIj','gOgwA','tNvRA','ZocdW','QNQqS','ZQzlO','MQNIA','pZcrK','2879788mjxglf','XzrFu','Invalid\x20or\x20unacceptable\x20Sec-WebSocket-Extensions\x20header','fMeli','drXjT','sUdOu','../lib/sender','Upgrade:\x20websocket','sample','websocket','can\x20accept\x20client\x20asynchronously','IxYKk','IIHGE','toString','YqYBA','emits\x20the\x20\x27close\x27\x20event\x20if\x20client\x20tracking\x20is\x20disabled','exposes\x20options\x20passed\x20to\x20constructor','etHMm','gaIng','Invalid\x20HTTP\x20method','WlQvU','deepStrictEqual','IbVMX','readable','path','acUms','MCbQb','WRcam','pop','YiJis','handles\x20data\x20passed\x20along\x20with\x20the\x20upgrade\x20request','iXZOT','fails\x20if\x20the\x20Sec-WebSocket-Extensions\x20header\x20is\x20invalid','randomBytes','listen','close','#close','WvvNi','tvsJv','baz','INtmM','get','1243726gyHAxy','fails\x20if\x20the\x20HTTP\x20method\x20is\x20not\x20GET','SNBqt','ClxAK','fails\x20if\x20the\x20WebSocket\x20server\x20is\x20closing\x20or\x20closed','qIFPh','xExni','Invalid\x20Sec-WebSocket-Protocol\x20header','http://localhost:','data','Server','Unexpected\x20\x27pong\x27\x20event','uses\x20configuration\x20options','MsFbe','sec-websocket-extensions','UCRxR','sYIqz','/foo?bar=bar','AUKvp','calls\x20the\x20callback\x20if\x20the\x20server\x20is\x20already\x20closed','pQVTZ','gdECN','oOwlu','BkHuu','fails\x20if\x20the\x20Upgrade\x20header\x20is\x20missing','nCSfq','FvNcK','DDPEj','SovdN','destroy','join','vQvfr','wQhYh','4\x20@1\x20\x2046546xW%0l\x201\x205','UjIdb','readFileSync','JQgNk','amwHm','PSUCs','send','HoqfC','https','xHTuG','NZERl','DLHqN','WnVlU','2377074plQime','YKzTw','XzqsB','SasfQ','WuFhy','dGhlIHNhbXBsZSBub25jZQ==','mWWDs','wmHbf','wppSB','jzkAf','throws\x20an\x20error\x20if\x20called\x20twice\x20with\x20the\x20same\x20socket','EhzAz','NjdEN','smiwd','uses\x20a\x20precreated\x20http\x20server\x20listening\x20on\x20IPC','hITDa','starts\x20a\x20server\x20on\x20a\x20given\x20port','mjVsw','completes\x20a\x20WebSocket\x20upgrade\x20over\x20any\x20duplex\x20stream','QRrWZ','cZwIb','kFrIG','ping','size','IncomingMessage','unexpected-response','rIpiH','afsZA','SodLl','Must\x20not\x20close\x20pre-created\x20server','ilMFx','`verifyClient`','length','MfAzQ','OHsfV','nlYbi','write','90rxNyCn','TVZBS','ocqkK','upgrade','The\x20server\x20is\x20not\x20running','ghXIu','response','eJeQh','ysrGI','Nsdcr','kxveo','accepts\x20the\x20`maxPayload`\x20option','omMuc','ChauN','npnAW','frame','from','rFHGk','biWtg','throws','dnbcY','fails\x20if\x20the\x20Upgrade\x20header\x20field\x20value\x20is\x20not\x20\x22websocket\x22','WfMHs','Host:\x20localhost','CugUW','pong','ZweOM','permessage-deflate;\x20client_max_window_bits=8','JQhkb','_receiver','JaQsX','YXlbU','tqjOO','gtUds','bOAKt','IMPCv','mGkBM','crypto','wsClientError','#address','ochji','P5l8BJcZwRc=','QnxCI','oamZO','kHcHA','xgKwQ','FaJFm','zJpNO','xSJZP','UVXpu','OmRGr','permessage-deflate;\x20client_max_window_bits','lGIuz','net','NlKna','HTTP/1.1\x20400\x20Bad\x20Request\x0d\x0a\x0d\x0a','ttWos','strictEqual','_server','foo;\x20bar','NrMfv','XMICo','KYqCp','zrxvb','end','wGsra','BMmkE','FMbbZ','INICL','allows\x20to\x20select\x20a\x20subprotocol','Unexpected\x20\x27connection\x27\x20event','VmfaW','LUqwW','tCTYT','IVymp','can\x20reject\x20client\x20synchronously','iEXnt','closes\x20the\x20connection\x20when\x20path\x20doesn\x27t\x20match','KwBrC','yuFQA','EYQWs','bar','honors\x20the\x20`WebSocket`\x20option','VvVsB','XttfF','eJoVW','KNrBA','pipe','NpDtu','xgFql','url','Agdny','iLYcP','UNLiG','UlPUo','maxHeadersCount','Missing\x20or\x20invalid\x20Sec-WebSocket-Version\x20header','Invalid\x20Upgrade\x20header','push','ktcCx','foo','Fnxzm','WUpPk','FbTBn','/foo','EUOXy','IElVf','XVKww','5WgvhaV','Akprb','MSuoh','rszBo','#shouldHandle','LDdFt','Ioxkh','Hktyg','XkNUc','tzJPB','Missing\x20or\x20invalid\x20Sec-WebSocket-Key\x20header','LwJxj','_extensions','RKzur','qlRbK','aiMbH','WiGpC','bJdfX','clGPS','/bar','xqBXP','slice','LZDFW','wss://localhost:','message','AvMTH','Connection\x20establishing','xhIyu','.sock','aJFFH','fuMvi','cxFew','jqiyv','Noqff','AXTyj','resume','426s\x20for\x20non-Upgrade\x20requests','hmHnC','18lbcvgT','CqXit','server.handleUpgrade()\x20was\x20called\x20more\x20than\x20once\x20with\x20the\x20','PmPBO','DSKAO','UmdNN','sLNfC','hutim','RlFYT','XLyyH','jLhHd','IOVhg','siRsv','sVjgr','Wussv','qsMDF','can\x20be\x20used\x20for\x20a\x20pre-existing\x20server','ADgaN','SbVzX','zYjqf','same\x20socket,\x20possibly\x20due\x20to\x20a\x20misconfiguration','oeEin','ZZgnG','hYqXb','caAWC','protocol','UCWWE','invokes\x20the\x20callback\x20in\x20noServer\x20mode','PIaUy','foo;bar','\x22noServer\x22\x20options\x20must\x20be\x20specified$','open','DeLZX','OJrwq','mGjRD','hello','permessage-deflate;\x20server_max_window_bits=foo','hqHBy','wVmSl','can\x20reject\x20client\x20asynchronously','/foo?bar=baz','WTwHa','doesn\x27t\x20close\x20a\x20precreated\x20server','listenerCount','returns\x20false\x20when\x20the\x20path\x20doesn\x27t\x20match','NZNDe','RquNh','cndoB','fails\x20if\x20the\x20Sec-WebSocket-Key\x20header\x20is\x20invalid\x20(2/2)','bIjor','ywUVY','DdFNf','honors\x20the\x20`autoPong`\x20option','QOFQm','1526122EIMhWs','WkPVh','ZdRHX','120','BsLQa','LKeMN','ydtXv','writable','#clients','hatMi','HijSi','jYmVr','pDsEm','gLgzo','OLUDB','asoEO','lPUox','VrCAF','^TypeError:\x20One\x20and\x20only\x20one\x20of\x20the\x20\x22port\x22,\x20\x22server\x22,\x20or\x20','qGWxi','rnOtq','KBaHz','yuYTL','RcpGf','throws\x20an\x20error\x20if\x20required\x20options\x20are\x20not\x20specified','can\x20reject\x20client\x20asynchronously\x20w/\x20custom\x20headers','WebSocket','kNHaQ','RvTuy','request','cnDSM','aqmfw','clients','connection','sLOcm','yglgP','bqwja','cbVzG','kYfyW','TaTin','pYVAz','guWJs','extensions','639522JoFWfS','RigSL','NuUYn','cfBBk','HYiTg','can\x20reject\x20client\x20asynchronously\x20w/\x20status\x20code','_state','headers','rusWq','IRyqm','emits\x20the\x20\x27wsClientError\x27\x20event','oCSWb','XIgvF','is\x20updated\x20when\x20client\x20terminates\x20the\x20connection','createConnection','retry-after','czCwU','DGklE','gmYVt','xLXJa','dKUHn','enyAt','assert','vuKpT','YpWeY','../lib/constants','vrcVF','does\x20not\x20throw\x20if\x20called\x20multiple\x20times','hex','WebSocketServer','uSdxG','concat','Connection:\x20Upgrade','aFsvu','pAqZM','GTDuT','address','sUjJK','DqTGG','gYuWZ','POST','Fznks','ATIuE','TDsVY','jhxQM','_maxPayload','Sec-WebSocket-Key:\x20dGhlIHNhbXBsZSBub25jZQ==','req','statusCode','hdlyF','odvYT','terminate','once','UaFwh','IVMPJ','czkCQ','MfZsI','YbBtI','aceXU','is\x20updated\x20when\x20client\x20closes\x20the\x20connection','IoZrG','test/fixtures/key.pem','cXfVE','NkpmW','lXkyX','listening','zrlIT','uhNoq','doesn\x27t\x20emit\x20the\x20\x27connection\x27\x20event\x20if\x20socket\x20is\x20closed\x20prematurely','XOxqU','uses\x20a\x20precreated\x20http\x20server','throws\x20an\x20error\x20when\x20operating\x20in\x20\x22noServer\x22\x20mode','AZRkQ','hYYma','yYSpT','ufaSP','xgtqo','UUjxo','szmRq','ANbiN','emits\x20the\x20\x27close\x27\x20event\x20after\x20the\x20server\x20closes','binds\x20the\x20server\x20on\x20any\x20IPv6\x20address\x20when\x20available','UYFAV','PRepI','ws-','mrjmu','VEnhs','KlJQM','handleUpgrade','LEkcX','QPaWh','STATUS_CODES','options','qOhbd','nextTick','gubAi','dEYnb','FgxPk','unshift','emits\x20an\x20error\x20if\x20http\x20server\x20bind\x20fails','GkNBu','FxTSw','1654170vgQrua','Daxki','is\x20disabled\x20by\x20default','rZsIp','WNCBb','vMOAq','GqEan','JfWMu','RyzHH','KFOBC','chuvq','handles\x20unsupported\x20extensions','qetmw','permessage-deflate','xKSyd','qwJEt','yQoeX','emits\x20the\x20\x27headers\x27\x20event','knvDt','port','TsFAe','Eovjj','OrOhN','gEDzB','Tthbb','YIWdf','returns\x20the\x20address\x20of\x20the\x20server','JodrE','shouldHandle','LEQfw',':/foo?bar=bar','xXrFk','fails\x20if\x20the\x20Sec-WebSocket-Version\x20header\x20is\x20invalid\x20(2/2)','264840zZVjzd','QDFGd','ws://localhost:','emits\x20the\x20\x27close\x27\x20event\x20if\x20the\x20server\x20is\x20already\x20closed','YzoIj','error','Unexpected\x20callback\x20invocation','PTXHm'];_0x2366=function(){return _0x2aed0a;};return _0x2366();}