'use strict';const _0x1c27f6=_0x1abd;(function(_0x42a183,_0x5a04db){const _0x11f50e=_0x1abd,_0x3ca36f=_0x42a183();while(!![]){try{const _0x2647f0=-parseInt(_0x11f50e(0x598))/0x1+-parseInt(_0x11f50e(0x22d))/0x2*(-parseInt(_0x11f50e(0x718))/0x3)+parseInt(_0x11f50e(0x6c7))/0x4*(-parseInt(_0x11f50e(0x2ab))/0x5)+-parseInt(_0x11f50e(0x5ad))/0x6+-parseInt(_0x11f50e(0x1ea))/0x7+-parseInt(_0x11f50e(0x257))/0x8+parseInt(_0x11f50e(0x7ef))/0x9;if(_0x2647f0===_0x5a04db)break;else _0x3ca36f['push'](_0x3ca36f['shift']());}catch(_0x3c05d6){_0x3ca36f['push'](_0x3ca36f['shift']());}}}(_0x1d44,0x6b77e));function _0x1abd(_0x3747f2,_0x58ab7d){const _0x1d440e=_0x1d44();return _0x1abd=function(_0x1abd3c,_0xd7d3af){_0x1abd3c=_0x1abd3c-0x1a3;let _0x582a80=_0x1d440e[_0x1abd3c];return _0x582a80;},_0x1abd(_0x3747f2,_0x58ab7d);}const assert=require(_0x1c27f6(0x31b)),crypto=require('crypto'),https=require(_0x1c27f6(0x240)),http=require(_0x1c27f6(0x5ff)),path=require(_0x1c27f6(0x66a)),net=require(_0x1c27f6(0x2c3)),tls=require(_0x1c27f6(0x51d)),os=require('os'),fs=require('fs'),{getDefaultHighWaterMark}=require('stream'),{URL}=require(_0x1c27f6(0x449)),Sender=require(_0x1c27f6(0x359)),WebSocket=require('..'),{CloseEvent,ErrorEvent,Event,MessageEvent}=require(_0x1c27f6(0x5be)),{EMPTY_BUFFER,GUID,kListener,NOOP}=require(_0x1c27f6(0x49a)),highWaterMark=getDefaultHighWaterMark?getDefaultHighWaterMark(![]):0x10*0x400;class CustomAgent extends http[_0x1c27f6(0x402)]{[_0x1c27f6(0x5c3)](){}}describe('WebSocket',()=>{const _0x3f0b7e=_0x1c27f6,_0x53a9dd={'kseqT':_0x3f0b7e(0x80e),'DcpVV':function(_0x2cc440){return _0x2cc440();},'Vkytq':_0x3f0b7e(0x5ea),'IQIyW':_0x3f0b7e(0x597),'rIZGs':_0x3f0b7e(0x731),'wuKlo':function(_0x1cd532,_0x1f714a,_0x398833){return _0x1cd532(_0x1f714a,_0x398833);},'fzyKf':'throws\x20an\x20error\x20when\x20using\x20an\x20invalid\x20url','QhbDU':_0x3f0b7e(0x361),'EGHoJ':function(_0x5eee63,_0x4b844a,_0x1183f3){return _0x5eee63(_0x4b844a,_0x1183f3);},'jUUau':function(_0x40c4cf,_0xaa3260){return _0x40c4cf!==_0xaa3260;},'cOxxZ':'ofBgZ','NYBJv':'QqWFE','laAQP':_0x3f0b7e(0x64d),'MgGpi':_0x3f0b7e(0x689),'owFMe':function(_0xcc57ea,_0x1b1fc9){return _0xcc57ea>_0x1b1fc9;},'tyTvl':_0x3f0b7e(0x2ae),'GiYrb':function(_0x27e262,_0x118afb,_0x2a0ae6){return _0x27e262(_0x118afb,_0x2a0ae6);},'KmOlb':_0x3f0b7e(0x53e),'kkpRM':function(_0x44d182,_0x2fda54,_0x198ca2){return _0x44d182(_0x2fda54,_0x198ca2);},'XBYHW':function(_0x39923c,_0x584ea0,_0x37e11a){return _0x39923c(_0x584ea0,_0x37e11a);},'bKonD':_0x3f0b7e(0x627),'yGJeh':function(_0x315a5d,_0x14a055,_0x444fe8){return _0x315a5d(_0x14a055,_0x444fe8);},'LIqEN':_0x3f0b7e(0x701),'kJmGH':_0x3f0b7e(0x614),'kMOcJ':_0x3f0b7e(0x3be),'ezdRA':_0x3f0b7e(0x41c),'gfQMS':_0x3f0b7e(0x6cf),'XLAlu':function(_0x437648,_0x5134ac){return _0x437648 instanceof _0x5134ac;},'UBhhE':_0x3f0b7e(0x59d),'ARHUs':function(_0x1360b8,_0x5cdc27,_0x2c76c9){return _0x1360b8(_0x5cdc27,_0x2c76c9);},'HXfCm':'is\x20enumerable\x20and\x20configurable','UhWHp':function(_0x1dc671,_0x15418a,_0x4ae0ff){return _0x1dc671(_0x15418a,_0x4ae0ff);},'QASTt':_0x3f0b7e(0x62f),'LGUNp':'sha1','gLjHg':_0x3f0b7e(0x76f),'kLAfQ':_0x3f0b7e(0x7e8),'zosIy':_0x3f0b7e(0x7e0),'AyysE':_0x3f0b7e(0x6af),'kFckO':function(_0x41eb33,_0x5becad,_0x49ffca){return _0x41eb33(_0x5becad,_0x49ffca);},'ARHoj':function(_0x581ea5,_0x16d680,_0x24f86e){return _0x581ea5(_0x16d680,_0x24f86e);},'QOpIp':function(_0x35a1e9,_0x1404d0,_0x265ad3){return _0x35a1e9(_0x1404d0,_0x265ad3);},'BFTTM':_0x3f0b7e(0x588),'iUUWy':_0x3f0b7e(0x4c4),'nQzAO':_0x3f0b7e(0x252),'XVWsX':function(_0x2c5269,_0x1b37cd){return _0x2c5269 instanceof _0x1b37cd;},'toGBU':'is\x20set\x20to\x20`CLOSED`\x20once\x20connection\x20is\x20closed','VqfIl':function(_0x52a7a1,_0x1c7af1,_0x29e718){return _0x52a7a1(_0x1c7af1,_0x29e718);},'Ubsti':'`binaryType`','xDCXY':function(_0x3b8b29,_0x58e131,_0x35faf2){return _0x3b8b29(_0x58e131,_0x35faf2);},'quCtP':_0x3f0b7e(0x2c6),'AjHps':_0x3f0b7e(0x490),'OaUMz':'`isPaused`','kBBfB':function(_0x494f73,_0x5473ec,_0x178d61){return _0x494f73(_0x5473ec,_0x178d61);},'jRAgf':_0x3f0b7e(0x63c),'XDQrl':_0x3f0b7e(0x316),'xLQbw':_0x3f0b7e(0x6a3),'ZwyOR':_0x3f0b7e(0x769),'VQpqQ':_0x3f0b7e(0x391),'eKNGP':function(_0x465d09,_0x46aea8,_0x4cf180){return _0x465d09(_0x46aea8,_0x4cf180);},'ZgaBu':function(_0x1361cd,_0x397d26,_0x38f6fd){return _0x1361cd(_0x397d26,_0x38f6fd);},'QOHXN':_0x3f0b7e(0x5d9),'yAZSi':_0x3f0b7e(0x48f),'MqTZo':_0x3f0b7e(0x382),'qzVdv':function(_0x2cc8d9,_0x411a74){return _0x2cc8d9+_0x411a74;},'WosRf':_0x3f0b7e(0x730),'pHfRs':_0x3f0b7e(0x7fa),'Epxaf':_0x3f0b7e(0x364),'IYVXA':function(_0x23d9b0){return _0x23d9b0();},'rYsdz':_0x3f0b7e(0x6c1),'IUknw':_0x3f0b7e(0x5d2),'aENpz':function(_0x398a5f,_0x4bf9f9){return _0x398a5f+_0x4bf9f9;},'lRMvG':_0x3f0b7e(0x6d8),'BKujB':_0x3f0b7e(0x1f6),'FQsyW':_0x3f0b7e(0x4f5),'IBhoc':'cookie','eXuEe':function(_0x193008,_0x12768d){return _0x193008!==_0x12768d;},'pmtFq':'MooNk','HRzSZ':_0x3f0b7e(0x626),'TBuHM':function(_0x32d961,_0x35c087){return _0x32d961+_0x35c087;},'Blzqz':function(_0x5e6f9f,_0x3f1c77){return _0x5e6f9f+_0x3f1c77;},'galOA':_0x3f0b7e(0x712),'HvXSs':_0x3f0b7e(0x533),'YzeKd':'GGapF','XePok':_0x3f0b7e(0x655),'LjsmI':_0x3f0b7e(0x7d8),'YGivT':_0x3f0b7e(0x264),'WUDKA':function(_0x204422,_0x5763ed){return _0x204422+_0x5763ed;},'QfoDA':_0x3f0b7e(0x510),'xoGum':_0x3f0b7e(0x630),'GZxcP':function(_0x1aa638,_0x2899dc){return _0x1aa638===_0x2899dc;},'VFAlJ':'TNIbz','fQprN':'pyKzP','FgNJe':_0x3f0b7e(0x46c),'eISQA':_0x3f0b7e(0x7e5),'FNPcI':'/foo','buevJ':function(_0x422254,_0x3f1e5f){return _0x422254!==_0x3f1e5f;},'fvTET':_0x3f0b7e(0x40a),'usSgy':function(_0x3e34fd,_0x3f93e7,_0x1e46b0){return _0x3e34fd(_0x3f93e7,_0x1e46b0);},'uoaSD':_0x3f0b7e(0x759),'KfbMs':'awVRB','kpjjJ':_0x3f0b7e(0x7d0),'gYfzj':_0x3f0b7e(0x3a4),'gpDle':_0x3f0b7e(0x2da),'UFyGl':_0x3f0b7e(0x39c),'mURiJ':_0x3f0b7e(0x2ce),'cEaQy':function(_0x5c58b6,_0x477f86){return _0x5c58b6(_0x477f86);},'zrDKg':function(_0x3c9f42,_0x3d14ac,_0xcf4b90){return _0x3c9f42(_0x3d14ac,_0xcf4b90);},'jpSMM':function(_0xe00428,_0x4e2b08,_0x372e7e){return _0xe00428(_0x4e2b08,_0x372e7e);},'PhmGe':_0x3f0b7e(0x463),'XZVXD':_0x3f0b7e(0x32c),'nlHzd':function(_0x4aaf70,_0x1ce7a3,_0x4cb6e5){return _0x4aaf70(_0x1ce7a3,_0x4cb6e5);},'xndfI':_0x3f0b7e(0x416),'qHVTz':function(_0xcedd88,_0x5ab6fe,_0x2e788a){return _0xcedd88(_0x5ab6fe,_0x2e788a);},'buKyY':function(_0x169a8d,_0x371f9b,_0x959302){return _0x169a8d(_0x371f9b,_0x959302);},'XWmsj':_0x3f0b7e(0x69a),'VXvnO':function(_0x23c4ce,_0x4a2648,_0x341925){return _0x23c4ce(_0x4a2648,_0x341925);},'hAYjS':_0x3f0b7e(0x662),'HOkFA':_0x3f0b7e(0x54d),'euBbP':'fails\x20if\x20server\x20sends\x20an\x20invalid\x20subprotocol\x20(1/2)','rfHRk':_0x3f0b7e(0x2d9),'oIhRT':function(_0x5b766e,_0x384f86,_0x482e81){return _0x5b766e(_0x384f86,_0x482e81);},'xTWGL':_0x3f0b7e(0x2fc),'VqQia':_0x3f0b7e(0x345),'ktKYa':function(_0x1b6c51,_0x9e23d,_0x553a7a){return _0x1b6c51(_0x9e23d,_0x553a7a);},'rcmDv':function(_0x1f452f,_0x47d56f,_0x477102){return _0x1f452f(_0x47d56f,_0x477102);},'NUSUU':_0x3f0b7e(0x2d1),'wmGKk':_0x3f0b7e(0x757),'iNrrQ':'fragments','AXVor':_0x3f0b7e(0x59a),'SaXnE':'defaults\x20to\x20\x27nodebuffer\x27','MfIOT':_0x3f0b7e(0x3b3),'dKvxy':_0x3f0b7e(0x523),'jclmL':function(_0x5ad4b6,_0x194e84){return _0x5ad4b6===_0x194e84;},'DGSTf':_0x3f0b7e(0x321),'IlopO':_0x3f0b7e(0x7ca),'yBKSH':_0x3f0b7e(0x7d5),'NRNXl':function(_0x36ec0a,_0x9e46df){return _0x36ec0a!==_0x9e46df;},'ZpSHA':_0x3f0b7e(0x23a),'HffKh':_0x3f0b7e(0x4c2),'PMeTR':_0x3f0b7e(0x46a),'qenwy':function(_0x167f8b,_0x45b1b4,_0x5be8b8){return _0x167f8b(_0x45b1b4,_0x5be8b8);},'FVbNO':function(_0x2b0b9d,_0x44ab39,_0x3e3e28){return _0x2b0b9d(_0x44ab39,_0x3e3e28);},'mcsvw':_0x3f0b7e(0x78d),'kLNva':function(_0x12b0a6){return _0x12b0a6();},'dxpdD':_0x3f0b7e(0x208),'mxOPO':function(_0x367811,_0x9958bd,_0x40206c){return _0x367811(_0x9958bd,_0x40206c);},'UxiUV':'increases\x20`bufferedAmount`\x20if\x20`readyState`\x20is\x202\x20or\x203','PHbOc':_0x3f0b7e(0x331),'WmOsj':'can\x20send\x20a\x20pong\x20with\x20no\x20data','dJhyy':_0x3f0b7e(0x49c),'FYQDF':_0x3f0b7e(0x68a),'mjifV':_0x3f0b7e(0x5ac),'clpUx':_0x3f0b7e(0x76d),'WTsys':_0x3f0b7e(0x7ea),'uZwTT':function(_0x46c499,_0x1a8be1){return _0x46c499<_0x1a8be1;},'WtxUf':function(_0xacec15,_0x477a85){return _0xacec15/_0x477a85;},'fzEUz':_0x3f0b7e(0x753),'QNkwx':function(_0x57efd2,_0x28e620){return _0x57efd2===_0x28e620;},'gitUO':function(_0x4054d7,_0x4752ed){return _0x4054d7*_0x4752ed;},'MIzaZ':_0x3f0b7e(0x2ed),'VFymU':_0x3f0b7e(0x2ef),'wbLqV':_0x3f0b7e(0x20e),'jdqRy':'can\x20send\x20text\x20data','MNpfk':function(_0x298769,_0x5b15db,_0x1e4765){return _0x298769(_0x5b15db,_0x1e4765);},'swAit':_0x3f0b7e(0x2ee),'rCvQc':function(_0x15c843,_0x395a0a,_0x182f8e){return _0x15c843(_0x395a0a,_0x182f8e);},'jykaK':_0x3f0b7e(0x4ec),'ueVvv':function(_0x201af9,_0xeee9fb){return _0x201af9 instanceof _0xeee9fb;},'zlGoa':'WebSocket\x20was\x20closed\x20before\x20the\x20connection\x20was\x20established','icmNB':function(_0x4c3fb1,_0x46d751){return _0x4c3fb1+_0x46d751;},'gubkD':'rSSFm','GvgIo':_0x3f0b7e(0x386),'nnniY':function(_0x24b204,_0x352944){return _0x24b204===_0x352944;},'vHtWY':_0x3f0b7e(0x726),'jrVBO':_0x3f0b7e(0x6ac),'nkrJT':_0x3f0b7e(0x755),'Nfokq':function(_0x4ee173,_0x5f258c,_0x1f8359){return _0x4ee173(_0x5f258c,_0x1f8359);},'ACLqG':_0x3f0b7e(0x521),'bqbnC':_0x3f0b7e(0x45e),'ItFoK':function(_0x2467cb,_0x5dced0,_0xd857c5){return _0x2467cb(_0x5dced0,_0xd857c5);},'mRihh':_0x3f0b7e(0x767),'nwNDp':'can\x20be\x20called\x20from\x20a\x20listener\x20of\x20the\x20\x27upgrade\x27\x20event','vVcNa':function(_0x1d88e0,_0x2b37f1,_0x24a69a){return _0x1d88e0(_0x2b37f1,_0x24a69a);},'SUJnr':_0x3f0b7e(0x66b),'irmCF':_0x3f0b7e(0x7b7),'AEIOq':_0x3f0b7e(0x7a3),'bHpHp':_0x3f0b7e(0x31a),'BlgwM':_0x3f0b7e(0x3fa),'uafzk':function(_0xd16c4e,_0xedd14c){return _0xd16c4e instanceof _0xedd14c;},'bgvfB':_0x3f0b7e(0x441),'mNDFG':_0x3f0b7e(0x267),'POTZo':_0x3f0b7e(0x4e6),'lqZUl':function(_0x6c5572,_0x5a9437){return _0x6c5572!==_0x5a9437;},'yXjoT':_0x3f0b7e(0x3f7),'LXDcR':_0x3f0b7e(0x4cb),'NplHe':_0x3f0b7e(0x703),'UGZZP':_0x3f0b7e(0x62a),'SxPsE':'permessage-deflate;\x20client_max_window_bits=7\x0d\x0a','xQXjn':_0x3f0b7e(0x407),'cLlrs':_0x3f0b7e(0x738),'QADVW':function(_0x2b6ba0,_0x945877){return _0x2b6ba0-_0x945877;},'eLnIh':_0x3f0b7e(0x3c4),'MRmYG':_0x3f0b7e(0x675),'hDAfz':function(_0x1689b5,_0x4563d3,_0x21b65e){return _0x1689b5(_0x4563d3,_0x21b65e);},'jklFg':_0x3f0b7e(0x68e),'OgscU':function(_0x6cdf95,_0x1bbe8c,_0x4747bd){return _0x6cdf95(_0x1bbe8c,_0x4747bd);},'KQxcK':_0x3f0b7e(0x425),'NevGf':'doesn\x27t\x20return\x20listeners\x20added\x20with\x20`on`','guhki':_0x3f0b7e(0x80a),'JjjBR':_0x3f0b7e(0x493),'ssaWf':function(_0x4ea53a,_0x32b19d,_0x3a7e48){return _0x4ea53a(_0x32b19d,_0x3a7e48);},'MrWKh':_0x3f0b7e(0x5e2),'MCihS':_0x3f0b7e(0x482),'ateoy':function(_0x582ad8,_0x2e50ef,_0x5bd09e){return _0x582ad8(_0x2e50ef,_0x5bd09e);},'wXoMA':'laSvM','KcJaN':_0x3f0b7e(0x553),'vnVRD':_0x3f0b7e(0x6b5),'KzVkT':function(_0xec980f,_0x1587b5){return _0xec980f*_0x1587b5;},'DSOfq':_0x3f0b7e(0x262),'BfhWQ':function(_0x32ef27,_0x2f7b86,_0x221967){return _0x32ef27(_0x2f7b86,_0x221967);},'gqIPV':_0x3f0b7e(0x691),'fOtSv':_0x3f0b7e(0x7aa),'KtJXW':_0x3f0b7e(0x5a9),'YjeHW':_0x3f0b7e(0x399),'WRtpt':function(_0x396546){return _0x396546();},'fNRaT':_0x3f0b7e(0x34d),'fXScP':_0x3f0b7e(0x302),'XXLkj':function(_0x3c3f85,_0x5ad061){return _0x3c3f85+_0x5ad061;},'jDHfl':_0x3f0b7e(0x48e),'UmgSw':'\x20client_max_window_bits','GiViY':_0x3f0b7e(0x6d5),'rjpZm':_0x3f0b7e(0x4ff),'qVLer':_0x3f0b7e(0x529),'qGYNm':function(_0x58c277,_0x389296,_0x29cba0){return _0x58c277(_0x389296,_0x29cba0);},'sBdan':_0x3f0b7e(0x783),'MqndV':function(_0x4c60c5,_0xca31d6,_0x221892){return _0x4c60c5(_0xca31d6,_0x221892);},'gYqXi':_0x3f0b7e(0x631),'OBtJA':_0x3f0b7e(0x239),'QJfnp':_0x3f0b7e(0x75e),'dDGuM':_0x3f0b7e(0x586),'AhRDL':function(_0x14f361,_0x510a37){return _0x14f361+_0x510a37;},'arzBi':function(_0x5535b6,_0x2c5371){return _0x5535b6===_0x2c5371;},'ZAAhz':'permessage-deflate;\x20client_max_window_bits','VkDku':_0x3f0b7e(0x409),'ZOtdN':'MFZzL','wFsXg':function(_0x1d6e77,_0x1a110d){return _0x1d6e77/_0x1a110d;},'opJvu':function(_0x8d3d40,_0x5248fc){return _0x8d3d40!==_0x5248fc;},'ZgFsr':_0x3f0b7e(0x45a),'wOkfs':'ignores\x20the\x20`compress`\x20option\x20if\x20the\x20extension\x20is\x20disabled','eyMlm':function(_0x588f1a,_0x2781f5){return _0x588f1a(_0x2781f5);},'NTlEi':'bPIGk','swaab':_0x3f0b7e(0x7d4),'PpXga':function(_0x5c9281,_0x14f7ca){return _0x5c9281===_0x14f7ca;},'lEAAg':_0x3f0b7e(0x269),'vFGfE':'is\x20enabled\x20by\x20default','tCuBz':_0x3f0b7e(0x1cc),'zbPue':_0x3f0b7e(0x2ba),'bvUjt':_0x3f0b7e(0x396),'TCfGT':_0x3f0b7e(0x623),'lzgmC':function(_0xe9439a,_0x291920,_0xda6b48){return _0xe9439a(_0x291920,_0xda6b48);},'nqieA':_0x3f0b7e(0x54f),'TiGPJ':function(_0x2e8fcb,_0x451781,_0x3e33e7){return _0x2e8fcb(_0x451781,_0x3e33e7);},'kvfGX':'#terminate','OtYfR':'readyState','vucpo':_0x3f0b7e(0x434),'ErXGF':_0x3f0b7e(0x2d4),'eXtur':function(_0x2a9bc7,_0x2ecef5,_0x464d62){return _0x2a9bc7(_0x2ecef5,_0x464d62);},'krHpp':'resumes\x20the\x20socket\x20when\x20an\x20error\x20occurs','qmWKr':_0x3f0b7e(0x36a),'yfupE':'Events','CjYWy':function(_0x36dcb3,_0x1f582c,_0x2cff77){return _0x36dcb3(_0x1f582c,_0x2cff77);},'ilsQN':_0x3f0b7e(0x679),'TgwaD':_0x3f0b7e(0x594),'kxBGH':function(_0x52684f,_0x5abb51,_0x37d382){return _0x52684f(_0x5abb51,_0x37d382);},'GSdUS':_0x3f0b7e(0x324),'IPyAP':function(_0x1c1221,_0x8c45d9,_0xf1fde5){return _0x1c1221(_0x8c45d9,_0xf1fde5);},'RDkvR':'WHATWG\x20API\x20emulation','kYyZX':_0x3f0b7e(0x400)};describe(_0x3f0b7e(0x4db),()=>{const _0x4fc4c0=_0x3f0b7e,_0x5b9895={'VEyUe':_0x4fc4c0(0x2f8),'MfiMd':function(_0x480c87){const _0x2771ed=_0x4fc4c0;return _0x53a9dd[_0x2771ed(0x6f6)](_0x480c87);},'KPYHp':_0x53a9dd['Vkytq'],'qDuDN':_0x53a9dd['IQIyW'],'KTLQy':_0x4fc4c0(0x5a4),'IRRpP':_0x4fc4c0(0x2ae),'VNVLQ':_0x53a9dd[_0x4fc4c0(0x42d)],'lxbhF':function(_0x14b704,_0x2b55b2,_0x47d15a){return _0x14b704(_0x2b55b2,_0x47d15a);},'yErfN':_0x4fc4c0(0x67f),'TkRwB':function(_0x55c431,_0x4b0c0a,_0x5a58b3){const _0x3f6329=_0x4fc4c0;return _0x53a9dd[_0x3f6329(0x546)](_0x55c431,_0x4b0c0a,_0x5a58b3);}};it(_0x53a9dd[_0x4fc4c0(0x312)],()=>{const _0x2fe2b3=_0x4fc4c0;assert[_0x2fe2b3(0x706)](()=>new WebSocket(_0x2fe2b3(0x7e0)),/^SyntaxError: Invalid URL: foo$/),assert[_0x2fe2b3(0x706)](()=>new WebSocket(_0x2fe2b3(0x775)),_0x1501c5=>{const _0x3b61f7=_0x2fe2b3;return assert[_0x3b61f7(0x5ab)](_0x1501c5['message'],_0x3b61f7(0x500)+_0x3b61f7(0x2ce)),!![];}),assert[_0x2fe2b3(0x706)](()=>new WebSocket('ws+unix:'),/^SyntaxError: The URL's pathname is empty$/),assert[_0x2fe2b3(0x706)](()=>new WebSocket('wss://websocket-echo.com#foo'),/^SyntaxError: The URL contains a fragment identifier$/);}),it(_0x53a9dd[_0x4fc4c0(0x417)],()=>{const _0xd3c3cb=_0x4fc4c0;for(const _0x36e928 of[null,'',_0xd3c3cb(0x52f),['a','a']]){assert[_0xd3c3cb(0x706)](()=>new WebSocket('ws://localhost',_0x36e928),/^SyntaxError: An invalid or duplicated subprotocol was specified$/);}}),_0x53a9dd[_0x4fc4c0(0x546)](it,_0x4fc4c0(0x1fd),_0x2fb444=>{const _0x54051f=_0x4fc4c0,_0x56ff71=new http[(_0x54051f(0x402))]();_0x56ff71[_0x54051f(0x5c3)]=(_0x2b76ed,_0x41f6f5)=>{const _0x4c0760=_0x54051f;assert[_0x4c0760(0x5ab)](_0x41f6f5['host'],_0x4c0760(0x3ad)),assert[_0x4c0760(0x5ab)](_0x2b76ed[_0x4c0760(0x66a)],'/'),_0x2fb444();};const _0xe9af9a=new WebSocket(new URL(_0x53a9dd[_0x54051f(0x7bf)]),{'agent':_0x56ff71});}),_0x53a9dd['wuKlo'](it,_0x4fc4c0(0x569),_0x4fd3a8=>{const _0x29ae80=_0x4fc4c0,_0x57471e={'wGWHc':_0x29ae80(0x614)},_0x2b4ccc=new CustomAgent();_0x2b4ccc[_0x29ae80(0x5c3)]=(_0x527201,_0x144677)=>{const _0x2fd423=_0x29ae80;if(_0x5b9895['VEyUe']!==_0x2fd423(0x7cc))assert['strictEqual'](_0x144677[_0x2fd423(0x4a5)],_0x2fd423(0x5ea)),assert[_0x2fd423(0x5ab)](_0x144677['port'],0x50),_0x5b9895['MfiMd'](_0x4fd3a8);else{const _0x3c3b4a=new _0x441df8(_0x2fd423(0x2c9)+_0x4faef4[_0x2fd423(0x774)]()['port']);_0x3c3b4a['on'](_0x57471e[_0x2fd423(0x7d2)],()=>_0x3c3b4a[_0x2fd423(0x2ae)](0x3e8));}};const _0xa77226=new WebSocket(_0x29ae80(0x798),{'agent':_0x2b4ccc});}),_0x53a9dd[_0x4fc4c0(0x7a4)](it,_0x4fc4c0(0x1e8),_0x4ce76b=>{const _0x31de47=_0x4fc4c0,_0x5aad8d={'OrOhf':_0x31de47(0x505),'JtqRg':_0x5b9895[_0x31de47(0x450)]},_0x3bab57=new https[(_0x31de47(0x402))]();_0x3bab57[_0x31de47(0x5c3)]=(_0x2648ab,_0x2db2c3)=>{const _0x5873d5=_0x31de47;'DEOAQ'===_0x5aad8d['OrOhf']?(_0x3b2358['strictEqual'](_0x57972d,0x3ee),_0x9fb048[_0x5873d5(0x2ae)](_0x26f1b4)):(assert[_0x5873d5(0x5ab)](_0x2db2c3[_0x5873d5(0x4a5)],_0x5aad8d[_0x5873d5(0x5cf)]),assert[_0x5873d5(0x5ab)](_0x2db2c3[_0x5873d5(0x62b)],0x1bb),_0x4ce76b());};const _0x3b273a=new WebSocket(_0x31de47(0x7c0),{'agent':_0x3bab57});}),_0x53a9dd[_0x4fc4c0(0x7a4)](describe,_0x4fc4c0(0x7cf),()=>{const _0x4c7809=_0x4fc4c0,_0x3c009a={'evvrz':_0x4c7809(0x2c5),'EgVxY':_0x5b9895['KTLQy'],'yFGGK':_0x5b9895[_0x4c7809(0x65a)],'mfntb':_0x5b9895[_0x4c7809(0x421)],'cJRVN':function(_0x15dea1,_0x46abec){return _0x15dea1(_0x46abec);},'ZQoIe':_0x4c7809(0x705)};_0x5b9895[_0x4c7809(0x251)](it,_0x4c7809(0x5cd),()=>{const _0x11a713=_0x4c7809,_0x4e8ae1=new http['Agent']();let _0x470a9a=0x0,_0x24da30;_0x4e8ae1['addRequest']=_0x4ad98b=>{const _0xd0c65a=_0x1abd;assert[_0xd0c65a(0x5ab)](_0x4ad98b['getHeader'](_0x3c009a[_0xd0c65a(0x7c3)]),undefined),_0x470a9a++;},_0x24da30=new WebSocket(_0x11a713(0x588),undefined,{'agent':_0x4e8ae1}),_0x24da30=new WebSocket(_0x11a713(0x588),[],{'agent':_0x4e8ae1}),assert[_0x11a713(0x5ab)](_0x470a9a,0x2);}),it(_0x4c7809(0x741),_0x252235=>{const _0x2b4a9a=_0x4c7809,_0x378151=0x5000,_0x96d5de=new WebSocket[(_0x2b4a9a(0x543))]({'perMessageDeflate':!![],'port':0x0},()=>{const _0x3f63eb=_0x2b4a9a,_0x34a295={'Upjje':_0x3c009a[_0x3f63eb(0x56d)]},_0x5ca12f=new WebSocket('ws://localhost:'+_0x96d5de['address']()[_0x3f63eb(0x62b)],{'perMessageDeflate':!![],'maxPayload':_0x378151});_0x5ca12f['on'](_0x3f63eb(0x614),()=>{const _0x52c147=_0x3f63eb;assert[_0x52c147(0x5ab)](_0x5ca12f[_0x52c147(0x4ab)][_0x52c147(0x556)],_0x378151),assert[_0x52c147(0x5ab)](_0x5ca12f['_receiver'][_0x52c147(0x77b)][_0x34a295['Upjje']][_0x52c147(0x556)],_0x378151),_0x96d5de[_0x52c147(0x2ae)](_0x252235);});});_0x96d5de['on'](_0x5b9895[_0x2b4a9a(0x34a)],_0x557b23=>{const _0x1ebf8d=_0x2b4a9a;_0x557b23[_0x1ebf8d(0x2ae)]();});}),_0x5b9895[_0x4c7809(0x251)](it,_0x5b9895[_0x4c7809(0x660)],()=>{assert['throws'](()=>new WebSocket('ws://localhost',{'protocolVersion':0x3e8}),/^RangeError: Unsupported protocol version: 1000 \(supported versions: 8, 13\)$/);}),it('honors\x20the\x20`generateMask`\x20option',_0x4a2895=>{const _0x177337=_0x4c7809,_0x1bdfd7={'RjGFk':'open','BZZWr':_0x177337(0x20e)},_0x53254a=Buffer[_0x177337(0x6ec)](_0x177337(0x7e0)),_0x1b036a=new WebSocket['Server']({'port':0x0},()=>{const _0x43b1ef=_0x177337,_0x269ade=new WebSocket(_0x43b1ef(0x2c9)+_0x1b036a['address']()[_0x43b1ef(0x62b)],{'generateMask'(){}});_0x269ade['on'](_0x1bdfd7[_0x43b1ef(0x704)],()=>{const _0x30ed27=_0x43b1ef;_0x269ade[_0x30ed27(0x486)](_0x53254a);}),_0x269ade['on']('close',(_0x21a1d6,_0x32945f)=>{const _0x1c4d8e=_0x43b1ef;assert[_0x1c4d8e(0x5ab)](_0x21a1d6,0x3ed),assert[_0x1c4d8e(0x25d)](_0x32945f,EMPTY_BUFFER),_0x1b036a[_0x1c4d8e(0x2ae)](_0x4a2895);});});_0x1b036a['on'](_0x177337(0x597),_0x40dbd0=>{const _0x3687c5=_0x177337,_0x464481=[];_0x40dbd0[_0x3687c5(0x268)][_0x3687c5(0x71d)](_0x1bdfd7[_0x3687c5(0x68b)],_0x553118=>{_0x464481['push'](_0x553118);}),_0x40dbd0['on'](_0x3687c5(0x703),_0x567f00=>{const _0x600808=_0x3687c5;assert[_0x600808(0x25d)](_0x567f00,_0x53254a),assert[_0x600808(0x25d)](Buffer[_0x600808(0x682)](_0x464481)[_0x600808(0x2f6)](0x2,0x6),Buffer[_0x600808(0x347)](0x4)),_0x40dbd0[_0x600808(0x2ae)]();});});}),_0x5b9895['TkRwB'](it,_0x4c7809(0x398),_0x562580=>{const _0x1f4344=_0x4c7809,_0x2027f6={'IhWGR':function(_0x59018a,_0x5126a7){const _0x657781=_0x1abd;return _0x3c009a[_0x657781(0x344)](_0x59018a,_0x5126a7);},'AGpQA':_0x3c009a[_0x1f4344(0x2bf)]},_0x4e960b=new WebSocket[(_0x1f4344(0x543))]({'port':0x0},()=>{const _0x44c044=_0x1f4344,_0x418f40={'DDpdV':_0x44c044(0x703),'erzFJ':function(_0x1fec9d,_0x79a7da){return _0x1fec9d!==_0x79a7da;},'YSKyr':_0x44c044(0x2fe)},_0x54cc72=new WebSocket(_0x44c044(0x2c9)+_0x4e960b[_0x44c044(0x774)]()['port'],{'autoPong':![]});_0x54cc72['on'](_0x44c044(0x769),()=>{const _0x2f8782=_0x44c044;_0x418f40['erzFJ'](_0x2f8782(0x2fe),_0x418f40[_0x2f8782(0x502)])?_0x2ed5ef['on'](_0x418f40[_0x2f8782(0x47a)],(_0x43644b,_0x3c2c81)=>{const _0x154e11=_0x2f8782;_0x4c0c29['ok'](_0x3c2c81),_0x73432d[_0x154e11(0x486)](_0x43644b,{'compress':!![]});}):_0x54cc72[_0x2f8782(0x2ae)]();}),_0x54cc72['on'](_0x3c009a[_0x44c044(0x319)],()=>{const _0x273574=_0x44c044;_0x4e960b[_0x273574(0x2ae)](_0x562580);});});_0x4e960b['on'](_0x1f4344(0x597),_0x1bcaf2=>{const _0xfa8ffb=_0x1f4344;_0x1bcaf2['on'](_0x3c009a[_0xfa8ffb(0x29d)],()=>{const _0x42daa8=_0xfa8ffb;_0x2027f6[_0x42daa8(0x4ea)](_0x562580,new Error(_0x2027f6[_0x42daa8(0x49f)]));}),_0x1bcaf2[_0xfa8ffb(0x769)]();});});});}),describe(_0x3f0b7e(0x6c4),()=>{const _0x3c212f={'pXTNX':function(_0x15e458,_0x484a5e,_0x1d98c0){return _0x15e458(_0x484a5e,_0x1d98c0);}},_0x2300e1={'CONNECTING':0x0,'OPEN':0x1,'CLOSING':0x2,'CLOSED':0x3};Object['keys'](_0x2300e1)['forEach'](_0xfd460d=>{const _0x1e472b=_0x1abd;_0x53a9dd[_0x1e472b(0x5c2)](_0x1e472b(0x435),_0x53a9dd[_0x1e472b(0x4d6)])?describe('`'+_0xfd460d+'`',()=>{const _0x53138d=_0x1e472b;_0x3c212f[_0x53138d(0x315)](it,_0x53138d(0x2a3),()=>{const _0x481d91=_0x53138d,_0x5ee041=Object[_0x481d91(0x732)](WebSocket,_0xfd460d);assert[_0x481d91(0x25d)](_0x5ee041,{'configurable':![],'enumerable':!![],'value':_0x2300e1[_0xfd460d],'writable':![]});}),it(_0x53138d(0x51e),()=>{const _0x26460e=_0x53138d,_0xaae7c0=Object['getOwnPropertyDescriptor'](WebSocket[_0x26460e(0x536)],_0xfd460d);assert[_0x26460e(0x25d)](_0xaae7c0,{'configurable':![],'enumerable':!![],'value':_0x2300e1[_0xfd460d],'writable':![]});});}):(_0x5750ff[_0x1e472b(0x5ab)](_0x1b62a8[_0x1e472b(0x644)](_0x1e472b(0x5a9)),_0x4f2f9d),_0x5a2301());});}),describe(_0x53a9dd[_0x3f0b7e(0x777)],()=>{const _0x195d51=_0x3f0b7e,_0x1d7e2c={'xqjDF':_0x53a9dd[_0x195d51(0x684)],'xTaXu':'nodebuffer','UjLaQ':function(_0x1284aa,_0x3a7f4f,_0x48f4c3){const _0xea7316=_0x195d51;return _0x53a9dd[_0xea7316(0x2aa)](_0x1284aa,_0x3a7f4f,_0x48f4c3);},'alayw':_0x53a9dd['HXfCm'],'Ljtwe':function(_0x2bf8cd,_0x2412dc,_0x438eff){return _0x2bf8cd(_0x2412dc,_0x438eff);},'koeIm':_0x53a9dd['iUUWy'],'iSjdI':_0x53a9dd[_0x195d51(0x802)],'IcfDR':_0x195d51(0x62d),'Bhmmq':_0x53a9dd[_0x195d51(0x68f)],'GsMwc':function(_0x22309b,_0x130c80){const _0x33a1d5=_0x195d51;return _0x53a9dd[_0x33a1d5(0x6b3)](_0x22309b,_0x130c80);},'COBuF':_0x195d51(0x597),'BWstZ':function(_0x25ff6f,_0x5160a0){return _0x25ff6f===_0x5160a0;},'MWePs':_0x195d51(0x614),'hPgyT':function(_0x4433f8,_0x42180a,_0xbc3c5a){return _0x4433f8(_0x42180a,_0xbc3c5a);},'hWCTN':_0x53a9dd['toGBU'],'IsyMU':_0x195d51(0x476),'ajPWj':function(_0x4a7cfb,_0x3e7d20){return _0x4a7cfb!==_0x3e7d20;}};_0x53a9dd[_0x195d51(0x306)](describe,_0x53a9dd[_0x195d51(0x733)],()=>{const _0x1a5bd4=_0x195d51,_0x5260da={'gaxYI':_0x1a5bd4(0x377),'IWMtO':function(_0x702430,_0x137bba){return _0x702430!==_0x137bba;},'tCfiS':_0x1d7e2c[_0x1a5bd4(0x248)],'ivKui':_0x1a5bd4(0x68e),'alMQi':_0x1a5bd4(0x45d)};_0x1d7e2c[_0x1a5bd4(0x471)](it,_0x1d7e2c[_0x1a5bd4(0x1a9)],()=>{const _0x38fd06=_0x1a5bd4,_0x4d8b89=Object['getOwnPropertyDescriptor'](WebSocket[_0x38fd06(0x536)],_0x5260da[_0x38fd06(0x4e8)]);assert['strictEqual'](_0x4d8b89[_0x38fd06(0x307)],!![]),assert[_0x38fd06(0x5ab)](_0x4d8b89['enumerable'],!![]),assert['ok'](_0x4d8b89['get']!==undefined),assert['ok'](_0x5260da['IWMtO'](_0x4d8b89[_0x38fd06(0x526)],undefined));}),_0x1d7e2c[_0x1a5bd4(0x471)](it,_0x1a5bd4(0x6fa),()=>{const _0x2044ed=_0x1a5bd4,_0x30488e=new WebSocket(_0x1d7e2c[_0x2044ed(0x248)],{'agent':new CustomAgent()});assert[_0x2044ed(0x5ab)](_0x30488e[_0x2044ed(0x377)],_0x1d7e2c[_0x2044ed(0x6c5)]);}),_0x1d7e2c[_0x1a5bd4(0x762)](it,_0x1d7e2c[_0x1a5bd4(0x317)],()=>{const _0x40afa1=_0x1a5bd4,_0x4c2bd8=new WebSocket(_0x5260da['tCfiS'],{'agent':new CustomAgent()});_0x4c2bd8['binaryType']=_0x5260da[_0x40afa1(0x60c)],assert[_0x40afa1(0x5ab)](_0x4c2bd8['binaryType'],_0x5260da[_0x40afa1(0x60c)]),_0x4c2bd8[_0x40afa1(0x377)]=_0x40afa1(0x7e0),assert['strictEqual'](_0x4c2bd8[_0x40afa1(0x377)],_0x40afa1(0x68e)),_0x4c2bd8[_0x40afa1(0x377)]=_0x5260da['alMQi'],assert[_0x40afa1(0x5ab)](_0x4c2bd8[_0x40afa1(0x377)],_0x5260da['alMQi']),_0x4c2bd8[_0x40afa1(0x377)]='',assert['strictEqual'](_0x4c2bd8[_0x40afa1(0x377)],'fragments'),_0x4c2bd8['binaryType']='nodebuffer',assert[_0x40afa1(0x5ab)](_0x4c2bd8['binaryType'],_0x40afa1(0x59a));});}),_0x53a9dd[_0x195d51(0x342)](describe,_0x53a9dd[_0x195d51(0x6a2)],()=>{const _0x580397=_0x195d51,_0x1a0db4={'SkIQS':function(_0x3209b7,_0xf3d612){return _0x3209b7===_0xf3d612;},'esMMX':_0x53a9dd[_0x580397(0x4b6)],'RmEKf':_0x580397(0x597),'xiWLB':_0x53a9dd[_0x580397(0x3f2)],'QMvto':_0x580397(0x814),'BgwcR':_0x53a9dd[_0x580397(0x32b)],'fRYrH':function(_0x3e934e,_0x2278b2){const _0x186ee6=_0x580397;return _0x53a9dd[_0x186ee6(0x3f3)](_0x3e934e,_0x2278b2);},'XZqAJ':_0x53a9dd[_0x580397(0x802)]};_0x53a9dd[_0x580397(0x4e5)](it,_0x580397(0x3cf),()=>{const _0x1ada20=_0x580397,_0x486f25=Object[_0x1ada20(0x732)](WebSocket['prototype'],'bufferedAmount');assert[_0x1ada20(0x5ab)](_0x486f25[_0x1ada20(0x307)],!![]),assert[_0x1ada20(0x5ab)](_0x486f25[_0x1ada20(0x5ef)],!![]),assert['ok'](_0x486f25[_0x1ada20(0x2d2)]!==undefined),assert['ok'](_0x486f25['set']===undefined);}),it(_0x53a9dd['KmOlb'],()=>{const _0x3a5440=_0x580397,_0x20d6fa=new WebSocket('ws://localhost',{'agent':new CustomAgent()});assert[_0x3a5440(0x5ab)](_0x20d6fa['bufferedAmount'],0x0);}),_0x53a9dd[_0x580397(0x4c3)](it,_0x580397(0x27d),_0x2f1af1=>{const _0x45f34c=_0x580397,_0x573be4=new WebSocket[(_0x45f34c(0x543))]({'port':0x0},()=>{const _0x118836=_0x45f34c;if(_0x1a0db4[_0x118836(0x5dc)](_0x118836(0x79c),_0x1a0db4[_0x118836(0x613)])){const _0x3b512e=new WebSocket(_0x118836(0x2c9)+_0x573be4[_0x118836(0x774)]()['port']);_0x3b512e[_0x118836(0x352)]=()=>{const _0x2cbdca=_0x118836;assert[_0x2cbdca(0x5ab)](_0x3b512e['bufferedAmount'],0x0),_0x573be4['close'](_0x2f1af1);};}else _0x40a92f[_0x118836(0x268)][_0x118836(0x5f3)](_0x118836(0x20e),_0x3e71a0=>{_0x1cfd2c=_0x3e71a0;});});_0x573be4['on'](_0x1a0db4[_0x45f34c(0x29b)],_0x5b6382=>{const _0x1ac44c=_0x45f34c;_0x5b6382[_0x1ac44c(0x2ae)]();});}),_0x53a9dd['XBYHW'](it,_0x53a9dd[_0x580397(0x367)],_0x4b6054=>{const _0x440277=_0x580397,_0x5a0e07={'Wrxzg':_0x1a0db4[_0x440277(0x442)],'VULaS':_0x440277(0x784),'krhZO':_0x1a0db4[_0x440277(0x499)],'IoFFH':'authorization','fUOLK':_0x1a0db4[_0x440277(0x5fc)]},_0x5a082a=new WebSocket[(_0x440277(0x543))]({'perMessageDeflate':!![],'port':0x0},()=>{const _0x419814=_0x440277,_0x34ad18={'Sunox':_0x419814(0x409),'AfWlJ':_0x5a0e07[_0x419814(0x38f)],'EiqJN':_0x5a0e07[_0x419814(0x681)]},_0x839878=new WebSocket('ws://localhost:'+_0x5a082a[_0x419814(0x774)]()[_0x419814(0x62b)],{'perMessageDeflate':{'threshold':0x0}});_0x839878['on'](_0x419814(0x614),()=>{const _0x388703=_0x419814;_0x839878['send']('foo'),assert['strictEqual'](_0x839878[_0x388703(0x7b9)],0x3),_0x839878['send'](_0x5a0e07['Wrxzg'],_0x2ecb44=>{const _0x3f62cf=_0x388703,_0x2a55d7={'vEGbG':_0x3f62cf(0x7e0),'zyALT':'bar','ZNNam':_0x34ad18[_0x3f62cf(0x4dd)],'LOPNZ':_0x34ad18[_0x3f62cf(0x54b)]};_0x3f62cf(0x666)===_0x34ad18[_0x3f62cf(0x255)]?(_0x2d35cf['strictEqual'](_0x495a9d,0x3ee),_0x35740c[_0x3f62cf(0x25d)](_0x441f4c,[_0x2a55d7['vEGbG'],_0x2a55d7['zyALT'],_0x2a55d7['ZNNam'],_0x2a55d7['LOPNZ']]),_0x35ba77[_0x3f62cf(0x2ae)](_0x4197e0)):(assert[_0x3f62cf(0x34b)](_0x2ecb44),assert[_0x3f62cf(0x5ab)](_0x839878[_0x3f62cf(0x7b9)],0x0),_0x5a082a[_0x3f62cf(0x2ae)](_0x4b6054));}),assert['strictEqual'](_0x839878['bufferedAmount'],0x6);});});_0x5a082a['on'](_0x1a0db4['RmEKf'],_0x3f7c81=>{const _0x91505b=_0x440277;_0x5a0e07[_0x91505b(0x47c)]===_0x91505b(0x44b)?(_0x64b993[_0x91505b(0x5ab)](_0x362637['getHeader'](_0x5a0e07[_0x91505b(0x4a8)]),_0x91505b(0x67d)+_0x4fbb84[_0x91505b(0x6ec)](_0x483b5c)['toString'](_0x91505b(0x76f))),_0x96963a()):_0x3f7c81['close']();});}),_0x53a9dd['yGJeh'](it,_0x53a9dd['LIqEN'],_0x2251df=>{const _0x4b090c=new WebSocket['Server']({'port':0x0},()=>{const _0x4f9ebc=_0x1abd,_0x1c31cf=new WebSocket(_0x4f9ebc(0x2c9)+_0x4b090c['address']()[_0x4f9ebc(0x62b)]);});_0x4b090c['on']('connection',_0x3c348a=>{const _0x455196=_0x1abd,_0x547548=Buffer[_0x455196(0x347)](0x400,0x3d);while(_0x3c348a[_0x455196(0x7b9)]===0x0){_0x3c348a[_0x455196(0x486)](_0x547548);}assert['ok'](_0x1a0db4['fRYrH'](_0x3c348a['bufferedAmount'],0x0)),assert['strictEqual'](_0x3c348a[_0x455196(0x7b9)],_0x3c348a['_socket'][_0x455196(0x76b)]['length']),_0x3c348a['on'](_0x1a0db4[_0x455196(0x54c)],()=>_0x4b090c['close'](_0x2251df)),_0x3c348a[_0x455196(0x2ae)]();});});}),describe(_0x53a9dd[_0x195d51(0x640)],()=>{const _0x581e0d=_0x195d51,_0x5a57f2={'uzvir':function(_0xba371c,_0x1cf170){const _0x51f676=_0x1abd;return _0x53a9dd[_0x51f676(0x3f3)](_0xba371c,_0x1cf170);},'Ohbpi':_0x581e0d(0x308),'lHeMK':_0x581e0d(0x7b9),'dBdpg':function(_0x2af144,_0x25d2ee){return _0x2af144!==_0x25d2ee;},'hYLor':_0x53a9dd['kJmGH'],'wFWkF':'HTTP/1.1\x20302\x20Found\x0d\x0a','Mlqhl':function(_0x27ddad,_0x275280){return _0x27ddad!==_0x275280;},'Daqun':_0x581e0d(0x597)};it(_0x581e0d(0x3cf),()=>{const _0x396b96=_0x581e0d;if(_0x396b96(0x308)===_0x5a57f2['Ohbpi']){const _0x597cad=Object[_0x396b96(0x732)](WebSocket['prototype'],_0x5a57f2[_0x396b96(0x4f2)]);assert[_0x396b96(0x5ab)](_0x597cad[_0x396b96(0x307)],!![]),assert[_0x396b96(0x5ab)](_0x597cad[_0x396b96(0x5ef)],!![]),assert['ok'](_0x5a57f2['dBdpg'](_0x597cad[_0x396b96(0x2d2)],undefined)),assert['ok'](_0x597cad[_0x396b96(0x526)]===undefined);}else{_0x7ba59d['ok'](!_0x4aa5d1);if(_0x5a57f2[_0x396b96(0x5bf)](_0x23964c[_0x396b96(0x602)](_0x2a3423['toString']()),0x1))return;_0x31e47a(()=>{const _0x2ec9fc=_0x396b96;_0x13b037[_0x2ec9fc(0x31d)](()=>{const _0x5683df=_0x2ec9fc;_0x19b473['strictEqual'](_0x19d3e1['_receiver'][_0x5683df(0x21f)],0x5),_0x1b7338[_0x5683df(0x744)]();});});}}),it(_0x53a9dd['kMOcJ'],_0x1d8731=>{const _0x41f305=_0x581e0d,_0x17361e={'fKLog':_0x1d7e2c[_0x41f305(0x5a1)]};if(_0x1d7e2c[_0x41f305(0x652)]===_0x41f305(0x62d)){const _0x2c8553=new WebSocket[(_0x41f305(0x543))]({'port':0x0},()=>{const _0x4b6c64=_0x41f305,_0x47855f=new WebSocket(_0x4b6c64(0x2c9)+_0x2c8553[_0x4b6c64(0x774)]()[_0x4b6c64(0x62b)]);assert[_0x4b6c64(0x5ab)](_0x47855f['extensions'],''),_0x47855f['on'](_0x5a57f2[_0x4b6c64(0x7ee)],()=>{const _0x1bdded=_0x4b6c64;assert['strictEqual'](_0x47855f[_0x1bdded(0x206)],''),_0x47855f['on'](_0x17361e['fKLog'],()=>_0x2c8553[_0x1bdded(0x2ae)](_0x1d8731));});});_0x2c8553['on'](_0x41f305(0x597),_0x5721e9=>{const _0x12ae34=_0x41f305;assert[_0x12ae34(0x5ab)](_0x5721e9[_0x12ae34(0x206)],''),_0x5721e9['close']();});}else _0x32261e['ifError'](_0xdb9a90),_0x4c125d[_0x41f305(0x2ae)](_0x1abe1d);}),_0x53a9dd[_0x581e0d(0x2aa)](it,_0x581e0d(0x676),_0x20bef6=>{const _0x3280fc=_0x581e0d,_0x66921a=new WebSocket[(_0x3280fc(0x543))]({'perMessageDeflate':!![],'port':0x0},()=>{const _0x329ed5=_0x3280fc,_0x4ba072={'kMlhn':_0x5a57f2['hYLor'],'aIsNm':_0x329ed5(0x747)},_0xaee1eb=new WebSocket('ws://localhost:'+_0x66921a['address']()[_0x329ed5(0x62b)]);assert[_0x329ed5(0x5ab)](_0xaee1eb[_0x329ed5(0x206)],''),_0xaee1eb['on'](_0x5a57f2[_0x329ed5(0x7ee)],()=>{const _0x5dfd7c=_0x329ed5,_0x364da0={'EpIuv':_0x4ba072['kMlhn']};if(_0x4ba072[_0x5dfd7c(0x41f)]===_0x5dfd7c(0x7c1)){const _0x41f49a=_0x14a9ea[_0x5dfd7c(0x256)]({'cert':_0x895a6c[_0x5dfd7c(0x56c)]('test/fixtures/certificate.pem'),'key':_0x588251[_0x5dfd7c(0x56c)]('test/fixtures/key.pem')}),_0x5835fe=new _0x5ba91e['Server']({'server':_0x41f49a});_0x5835fe['on'](_0x5dfd7c(0x597),()=>{const _0x4e2ed6=_0x5dfd7c;_0x41f49a[_0x4e2ed6(0x2ae)](_0x283ffd);}),_0x41f49a[_0x5dfd7c(0x66d)](0x0,()=>{const _0x5eae41=_0x5dfd7c,_0xd7d9fb=new _0x3c76df(_0x5eae41(0x263)+_0x41f49a['address']()[_0x5eae41(0x62b)],{'rejectUnauthorized':![]});_0xd7d9fb['on'](_0x364da0[_0x5eae41(0x44c)],_0xd7d9fb[_0x5eae41(0x2ae)]);});}else assert[_0x5dfd7c(0x5ab)](_0xaee1eb[_0x5dfd7c(0x206)],'permessage-deflate'),_0xaee1eb['on'](_0x5dfd7c(0x2ae),()=>_0x66921a['close'](_0x20bef6));});});_0x66921a['on'](_0x5a57f2[_0x3280fc(0x383)],_0xde451f=>{const _0xf80881=_0x3280fc,_0xc72a6c={'GuBic':_0x5a57f2[_0xf80881(0x7ba)]};_0x5a57f2[_0xf80881(0x812)](_0xf80881(0x3c2),_0xf80881(0x3c2))?(_0x332385['on'](_0xf80881(0x6af),_0x15e817),_0x14a1cc[_0xf80881(0x5d2)](_0xc72a6c[_0xf80881(0x475)]+(_0xf80881(0x632)+_0x5b022a+'/\x0d\x0a\x0d\x0a'))):(assert[_0xf80881(0x5ab)](_0xde451f[_0xf80881(0x206)],_0xf80881(0x5a4)),_0xde451f[_0xf80881(0x2ae)]());});});}),describe(_0x53a9dd['OaUMz'],()=>{const _0xf7c01e=_0x195d51,_0xef2478={'SRqBx':_0x53a9dd[_0xf7c01e(0x596)],'gZgIR':_0x53a9dd['gfQMS'],'JPmmp':_0xf7c01e(0x1e4),'kjGbI':'open','WoIgk':function(_0x205c88,_0x4639b8){return _0x205c88!==_0x4639b8;},'HveiH':function(_0x343be2,_0xbd134){return _0x343be2 instanceof _0xbd134;},'xkcQp':_0xf7c01e(0x2a4),'FqmVh':function(_0x51abdd,_0x206580){const _0x2589d6=_0xf7c01e;return _0x53a9dd[_0x2589d6(0x238)](_0x51abdd,_0x206580);}};if(_0x53a9dd[_0xf7c01e(0x27e)]===_0xf7c01e(0x59d))_0x53a9dd[_0xf7c01e(0x4f7)](it,_0x53a9dd[_0xf7c01e(0x448)],()=>{const _0x530cdc=_0xf7c01e,_0x22230e=Object[_0x530cdc(0x732)](WebSocket[_0x530cdc(0x536)],_0x1d7e2c[_0x530cdc(0x715)]);assert[_0x530cdc(0x5ab)](_0x22230e[_0x530cdc(0x307)],!![]),assert[_0x530cdc(0x5ab)](_0x22230e[_0x530cdc(0x5ef)],!![]),assert['ok'](_0x22230e[_0x530cdc(0x2d2)]!==undefined),assert['ok'](_0x22230e['set']===undefined);}),_0x53a9dd[_0xf7c01e(0x6ce)](it,_0x53a9dd['QASTt'],_0x219881=>{const _0x296257=_0xf7c01e,_0x2d91bc={'xKbVU':_0xef2478[_0x296257(0x3af)],'dqDpE':function(_0x4fe375,_0x33990c){return _0x4fe375-_0x33990c;},'ycFLh':function(_0x240a11,_0x35fefd){return _0x240a11===_0x35fefd;},'pikNB':_0xef2478[_0x296257(0x545)],'AxGGi':_0xef2478['kjGbI']};if(_0xef2478[_0x296257(0x5c6)](_0x296257(0x2e7),_0x296257(0x2e7))){const _0x2ea9ab={'tJcvI':_0xef2478[_0x296257(0x201)],'ZbDjP':_0x296257(0x759)};_0x589c98['on'](_0x296257(0x61f),()=>{const _0x267ffb=_0x296257;_0x2b2ca5[_0x267ffb(0x693)](_0x2ea9ab['tJcvI'],_0x2ea9ab['ZbDjP']),_0x432eb7[_0x267ffb(0x5d2)]();});}else{const _0x4d33d4=new WebSocket[(_0x296257(0x543))]({'port':0x0},()=>{const _0x2877d3=_0x296257;if(_0x2d91bc[_0x2877d3(0x743)]('nqNFX',_0x2d91bc['pikNB'])){const _0x5b9d2c=_0x2d91bc['xKbVU'][_0x2877d3(0x1ab)]('|');let _0x213165=0x0;while(!![]){switch(_0x5b9d2c[_0x213165++]){case'0':_0x5a00a1['strictEqual'](_0xbcfd66[_0x2d91bc[_0x2877d3(0x67b)](_0x2ad52c[_0x2877d3(0x41b)],0x1)],0x1);continue;case'1':_0x43fc6f[_0x2877d3(0x5ab)](_0x14009e,0x3ee);continue;case'2':_0x19c8d0[_0x2877d3(0x5ab)](_0x5ed01a[0x0],_0x2d91bc[_0x2877d3(0x67b)](_0xd20417,0x400));continue;case'3':_0x4a1abf['close'](_0xce150);continue;case'4':_0x29c1ec[_0x2877d3(0x5ab)](_0x391e9c[_0x2877d3(0x41b)],0x157);continue;}break;}}else{const _0x24b7ad=new WebSocket('ws://localhost:'+_0x4d33d4[_0x2877d3(0x774)]()[_0x2877d3(0x62b)]);_0x24b7ad['on'](_0x2d91bc[_0x2877d3(0x1bf)],()=>{const _0x5424c5=_0x2877d3;_0x24b7ad[_0x5424c5(0x401)](),assert['ok'](_0x24b7ad[_0x5424c5(0x252)]),_0x24b7ad[_0x5424c5(0x722)](),assert['ok'](!_0x24b7ad[_0x5424c5(0x252)]),_0x24b7ad['close'](),_0x4d33d4[_0x5424c5(0x2ae)](_0x219881);}),assert['ok'](!_0x24b7ad[_0x2877d3(0x252)]);}});}});else{const _0xc86365=_0xf7c01e(0x6ab)[_0xf7c01e(0x1ab)]('|');let _0x539e0d=0x0;while(!![]){switch(_0xc86365[_0x539e0d++]){case'0':_0x229ad5['ok'](_0xef2478[_0xf7c01e(0x768)](_0x1cb1c2,_0x1d0a9c));continue;case'1':_0x584903['on'](_0xef2478['xkcQp'],_0x54bdef=>{const _0x306425=_0xf7c01e;_0x54bdef['on'](_0x306425(0x61f),()=>{const _0x26c96f=_0x306425;_0x5b7726[_0x26c96f(0x693)](_0x26c96f(0x41c),_0x26c96f(0x759)),_0x2e7645[_0x26c96f(0x5d2)]();});});continue;case'2':_0x531260['ok'](_0xef2478[_0xf7c01e(0x65f)](_0x157b76,_0x4b6c62[_0xf7c01e(0x3fd)]));continue;case'3':_0x2ff617[_0xf7c01e(0x5ab)](_0x18f889,_0x524039[_0xf7c01e(0x582)]);continue;case'4':_0x1d08e9[_0xf7c01e(0x5ab)](_0x4eafd8[_0xf7c01e(0x644)]('host'),_0x48ecd8);continue;}break;}}}),_0x53a9dd[_0x195d51(0x79d)](describe,_0x53a9dd['jRAgf'],()=>{const _0x7cd2e3=_0x195d51,_0x328a5c={'fUeib':_0x53a9dd[_0x7cd2e3(0x53b)],'yiDuY':_0x7cd2e3(0x364),'JGgnd':_0x53a9dd[_0x7cd2e3(0x36f)],'qjGmv':function(_0x137c48,_0x200120){return _0x137c48+_0x200120;},'yXJHT':function(_0x2dbad4,_0x3a5d51){return _0x2dbad4+_0x3a5d51;},'TbMdD':_0x7cd2e3(0x730),'oLSww':_0x53a9dd[_0x7cd2e3(0x5f9)],'tTkso':function(_0x21617f,_0x27ea57){return _0x21617f instanceof _0x27ea57;},'gZHUh':_0x53a9dd[_0x7cd2e3(0x802)],'MEhON':_0x53a9dd['zosIy'],'yGodJ':_0x7cd2e3(0x614),'anruR':_0x53a9dd[_0x7cd2e3(0x532)],'mVCAH':_0x7cd2e3(0x52e),'ZmkKP':function(_0x5e6be7,_0x42e6a9){return _0x5e6be7!==_0x42e6a9;}};if(_0x7cd2e3(0x1c3)!=='MxAQw'){_0x593d48['once'](_0x7cd2e3(0x7fa),(_0x4b2252,_0x1cc1b8)=>{const _0x2aecf1=_0x7cd2e3,_0x219d1c=_0x32a808['createHash'](_0x328a5c[_0x2aecf1(0x2c0)])['update'](_0x4b2252[_0x2aecf1(0x1f6)][_0x328a5c['yiDuY']]+_0x1109c0)[_0x2aecf1(0x4e3)](_0x328a5c[_0x2aecf1(0x59f)]);_0x1cc1b8[_0x2aecf1(0x5d2)](_0x328a5c[_0x2aecf1(0x27c)](_0x328a5c[_0x2aecf1(0x4df)](_0x328a5c['yXJHT'](_0x328a5c[_0x2aecf1(0x4df)](_0x328a5c[_0x2aecf1(0x571)],_0x328a5c[_0x2aecf1(0x1fa)]),_0x2aecf1(0x737))+(_0x2aecf1(0x2bd)+_0x219d1c+'\x0d\x0a'),_0x2aecf1(0x42c)),'\x0d\x0a'));});const _0xfd0295=new _0x4157b4(_0x7cd2e3(0x2c9)+_0x4d1cc8[_0x7cd2e3(0x774)]()[_0x7cd2e3(0x62b)],[_0x328a5c[_0x7cd2e3(0x3a0)],_0x7cd2e3(0x64d)]);_0xfd0295['on'](_0x328a5c[_0x7cd2e3(0x473)],()=>_0x556022(new _0x556450('Unexpected\x20\x27open\x27\x20event'))),_0xfd0295['on'](_0x328a5c[_0x7cd2e3(0x3cc)],_0x2c3bf3=>{const _0x59580f=_0x7cd2e3;_0x3060f1['ok'](_0x328a5c['tTkso'](_0x2c3bf3,_0x127ad4)),_0x5f1739[_0x59580f(0x5ab)](_0x2c3bf3[_0x59580f(0x703)],'Server\x20sent\x20an\x20invalid\x20subprotocol'),_0xfd0295['on'](_0x328a5c[_0x59580f(0x3a5)],()=>_0xbb37b7());});}else it(_0x7cd2e3(0x3cf),()=>{const _0x547b20=_0x7cd2e3,_0x4e05e2=Object[_0x547b20(0x732)](WebSocket['prototype'],_0x328a5c[_0x547b20(0x65b)]);assert[_0x547b20(0x5ab)](_0x4e05e2[_0x547b20(0x307)],!![]),assert[_0x547b20(0x5ab)](_0x4e05e2[_0x547b20(0x5ef)],!![]),assert['ok'](_0x328a5c['ZmkKP'](_0x4e05e2[_0x547b20(0x2d2)],undefined)),assert['ok'](_0x4e05e2[_0x547b20(0x526)]===undefined);}),_0x53a9dd['kFckO'](it,_0x7cd2e3(0x4a6),_0x319d8c=>{const _0x4f4887=_0x7cd2e3,_0x2d2e59={'vcCzn':function(_0x1221ac,_0xf2951d){const _0x367e78=_0x1abd;return _0x1d7e2c[_0x367e78(0x329)](_0x1221ac,_0xf2951d);},'RRrCj':_0x4f4887(0x6ea),'sKLiY':_0x4f4887(0x2ae)},_0x17c48b=new WebSocket[(_0x4f4887(0x543))]({'port':0x0},()=>{const _0x28e9f5=_0x4f4887,_0x5bf735=_0x17c48b[_0x28e9f5(0x774)]()[_0x28e9f5(0x62b)],_0x55335d=new WebSocket(_0x28e9f5(0x2c9)+_0x5bf735,_0x28e9f5(0x7e0));assert[_0x28e9f5(0x5ab)](_0x55335d[_0x28e9f5(0x206)],''),_0x55335d['on']('open',()=>{const _0x1c1740=_0x28e9f5,_0x36cfd1={'vtnKB':function(_0x2758a9,_0x4d9d32){const _0x319480=_0x1abd;return _0x2d2e59[_0x319480(0x45c)](_0x2758a9,_0x4d9d32);}};if('ejUsk'!==_0x2d2e59['RRrCj']){const _0x42ddd5={'UHlhQ':function(_0x56396e,_0x1c3c39){const _0x1ddba1=_0x1abd;return _0x36cfd1[_0x1ddba1(0x65c)](_0x56396e,_0x1c3c39);}},_0xbfa710=new _0x504441(_0x1c1740(0x2c9)+_0x116814[_0x1c1740(0x774)]()['port']);_0xbfa710[_0x1c1740(0x690)]('close',_0x2c97f6=>{const _0x5c2968=_0x1c1740;_0x106e78['ok'](_0x42ddd5[_0x5c2968(0x412)](_0x2c97f6,_0x2b6a72)),_0x4e9917['ok'](_0x2c97f6[_0x5c2968(0x323)]),_0x41a1a4[_0x5c2968(0x5ab)](_0x2c97f6[_0x5c2968(0x6e1)],''),_0x204ebd[_0x5c2968(0x5ab)](_0x2c97f6[_0x5c2968(0x6a1)],0x3e8),_0x146c5e['close'](_0x39e552);});}else assert[_0x1c1740(0x5ab)](_0x55335d[_0x1c1740(0x52e)],_0x1c1740(0x7e0)),_0x55335d['on'](_0x2d2e59['sKLiY'],()=>_0x17c48b[_0x1c1740(0x2ae)](_0x319d8c));});});_0x17c48b['on'](_0x1d7e2c[_0x4f4887(0x6bd)],_0x326722=>{const _0x513b5b=_0x4f4887;assert[_0x513b5b(0x5ab)](_0x326722[_0x513b5b(0x52e)],_0x513b5b(0x7e0)),_0x326722['close']();});});}),describe('`readyState`',()=>{const _0x1f89e7=_0x195d51,_0x314e80={'Urckp':_0x1f89e7(0x6d8),'scbbr':function(_0x87cbb,_0x317b29){const _0x4c0817=_0x1f89e7;return _0x1d7e2c[_0x4c0817(0x329)](_0x87cbb,_0x317b29);},'SdBfu':function(_0x56faba,_0x30169a){return _0x56faba===_0x30169a;},'NKxqF':_0x1f89e7(0x4f0),'STzXO':_0x1d7e2c[_0x1f89e7(0x7c5)],'SwwOb':_0x1d7e2c['iSjdI']};it(_0x1d7e2c[_0x1f89e7(0x1a9)],()=>{const _0x3301ce=_0x1f89e7,_0x5f3173=Object[_0x3301ce(0x732)](WebSocket[_0x3301ce(0x536)],_0x3301ce(0x5bc));assert[_0x3301ce(0x5ab)](_0x5f3173['configurable'],!![]),assert['strictEqual'](_0x5f3173[_0x3301ce(0x5ef)],!![]),assert['ok'](_0x5f3173[_0x3301ce(0x2d2)]!==undefined),assert['ok'](_0x1d7e2c[_0x3301ce(0x7db)](_0x5f3173[_0x3301ce(0x526)],undefined));}),it(_0x1f89e7(0x5f8),()=>{const _0x4e8662=_0x1f89e7,_0x517a7e=new WebSocket(_0x1d7e2c[_0x4e8662(0x248)],{'agent':new CustomAgent()});assert[_0x4e8662(0x5ab)](_0x517a7e[_0x4e8662(0x5bc)],WebSocket[_0x4e8662(0x3a6)]);}),_0x1d7e2c['UjLaQ'](it,_0x1f89e7(0x444),_0x4ac3e0=>{const _0x192c5c=_0x1f89e7,_0x5529cc=new WebSocket[(_0x192c5c(0x543))]({'port':0x0},()=>{const _0x1660cc=_0x192c5c,_0xb913d7={'JPVet':_0x314e80['Urckp'],'rtFCV':function(_0x7e35fe,_0x450843){const _0x357da9=_0x1abd;return _0x314e80[_0x357da9(0x5b3)](_0x7e35fe,_0x450843);},'bWYve':'open'};if(_0x314e80['SdBfu'](_0x1660cc(0x587),_0x314e80[_0x1660cc(0x7f3)])){const _0x26a18e={'RiFEp':function(_0x5a784f,_0xc4115b){const _0x2d6ff7=_0x1660cc;return _0xb913d7[_0x2d6ff7(0x3b8)](_0x5a784f,_0xc4115b);}},_0x5ea424=new _0x5dc4db[(_0x1660cc(0x543))]({'server':_0x524689});_0x5ea424['on'](_0x1660cc(0x1f6),_0x433f37=>{const _0x77d174=_0x1660cc;_0x433f37[_0x77d174(0x602)](_0xb913d7['JPVet']);});const _0x587f39=new _0x552bef(_0x1660cc(0x2c9)+_0x1258bc['address']()['port']);_0x587f39['on'](_0xb913d7[_0x1660cc(0x746)],()=>_0x4e3001(new _0x1d2a3c(_0x1660cc(0x210)))),_0x587f39['on'](_0x1660cc(0x6af),_0x1f201e=>{const _0x9fd9ae=_0x1660cc;_0x4df054['ok'](_0x26a18e[_0x9fd9ae(0x7e9)](_0x1f201e,_0x319b14)),_0x5b5bb0[_0x9fd9ae(0x5ab)](_0x1f201e['message'],_0x9fd9ae(0x1b4)),_0x587f39['on'](_0x9fd9ae(0x2ae),()=>_0x5ea424[_0x9fd9ae(0x2ae)](_0x332ea5));});}else{const _0x2005c1=new WebSocket(_0x1660cc(0x2c9)+_0x5529cc[_0x1660cc(0x774)]()[_0x1660cc(0x62b)]);_0x2005c1['on'](_0x314e80[_0x1660cc(0x559)],()=>{const _0xad89aa=_0x1660cc;assert['strictEqual'](_0x2005c1[_0xad89aa(0x5bc)],WebSocket[_0xad89aa(0x33e)]),_0x2005c1['close']();}),_0x2005c1['on'](_0x1660cc(0x2ae),()=>_0x5529cc[_0x1660cc(0x2ae)](_0x4ac3e0));}});}),_0x1d7e2c[_0x1f89e7(0x432)](it,_0x1d7e2c[_0x1f89e7(0x6ca)],_0x7d5a75=>{const _0x47e199=new WebSocket['Server']({'port':0x0},()=>{const _0x217b68=_0x1abd,_0x54cb82={'veLPS':_0x314e80['SwwOb'],'uDsfH':function(_0x451ad5,_0x6aa519){return _0x451ad5===_0x6aa519;}},_0x406662=new WebSocket('ws://localhost:'+_0x47e199[_0x217b68(0x774)]()['port']);_0x406662['on'](_0x314e80[_0x217b68(0x504)],()=>{const _0x3d1ffa=_0x217b68,_0x223f26={'cTPiO':_0x54cb82[_0x3d1ffa(0x3a9)]};if(_0x54cb82[_0x3d1ffa(0x607)](_0x3d1ffa(0x35b),_0x3d1ffa(0x6a4))){const _0x5c0e8e={'xFOaA':_0x223f26[_0x3d1ffa(0x1e2)]},_0x4217da=new _0x4f9ed5['Server']({'port':0x0},()=>{const _0x3eb9c9=_0x3d1ffa,_0x39115f=new _0x1d8813(_0x3eb9c9(0x2c9)+_0x4217da[_0x3eb9c9(0x774)]()[_0x3eb9c9(0x62b)]);_0x39115f['on'](_0x3eb9c9(0x614),()=>{const _0x5178db=_0x3eb9c9;_0x2400b6['strictEqual'](_0x39115f[_0x5178db(0x5bc)],_0x2d808b['OPEN']),_0x39115f[_0x5178db(0x2ae)]();}),_0x39115f['on'](_0x5c0e8e[_0x3eb9c9(0x696)],()=>_0x4217da[_0x3eb9c9(0x2ae)](_0x342e9f));});}else assert[_0x3d1ffa(0x5ab)](_0x406662[_0x3d1ffa(0x5bc)],WebSocket[_0x3d1ffa(0x3ce)]),_0x47e199[_0x3d1ffa(0x2ae)](_0x7d5a75);}),_0x406662['on'](_0x217b68(0x614),()=>_0x406662[_0x217b68(0x2ae)](0x3e9));});}),it(_0x1d7e2c['IsyMU'],_0x2f74cc=>{const _0x3cda36=_0x1f89e7,_0x2c03a8={'LMXwx':_0x1d7e2c[_0x3cda36(0x7c5)]},_0x279fa3=new WebSocket[(_0x3cda36(0x543))]({'port':0x0},()=>{const _0x29da64=_0x3cda36,_0x48c0db=new WebSocket(_0x29da64(0x2c9)+_0x279fa3[_0x29da64(0x774)]()[_0x29da64(0x62b)]);_0x48c0db['on'](_0x29da64(0x2ae),()=>{const _0x5cb884=_0x29da64;assert['strictEqual'](_0x48c0db[_0x5cb884(0x5bc)],WebSocket['CLOSED']),_0x279fa3[_0x5cb884(0x2ae)](_0x2f74cc);}),_0x48c0db['on'](_0x2c03a8[_0x29da64(0x4bb)],()=>_0x48c0db[_0x29da64(0x744)]());});});}),describe(_0x53a9dd[_0x195d51(0x37b)],()=>{const _0x5b2c70=_0x195d51;_0x53a9dd[_0x5b2c70(0x808)](it,_0x5b2c70(0x3cf),()=>{const _0x468faf=_0x5b2c70,_0x5bc3a8=Object[_0x468faf(0x732)](WebSocket[_0x468faf(0x536)],_0x468faf(0x449));assert['strictEqual'](_0x5bc3a8[_0x468faf(0x307)],!![]),assert[_0x468faf(0x5ab)](_0x5bc3a8['enumerable'],!![]),assert['ok'](_0x1d7e2c[_0x468faf(0x7e1)](_0x5bc3a8[_0x468faf(0x2d2)],undefined)),assert['ok'](_0x5bc3a8['set']===undefined);}),_0x53a9dd[_0x5b2c70(0x1e0)](it,_0x5b2c70(0x6f4),()=>{const _0x39815c=_0x5b2c70,_0x49e5e1=new Map([['ws','ws'],[_0x39815c(0x567),_0x39815c(0x567)],['http','ws'],['https',_0x39815c(0x567)]]);for(const [_0x24259e,_0x18cba2]of _0x49e5e1){const _0x1fed4c=new WebSocket(_0x24259e+_0x39815c(0x7fb),{'lookup'(){}});assert[_0x39815c(0x5ab)](_0x1fed4c[_0x39815c(0x449)],_0x18cba2+_0x39815c(0x7fb));}});});}),_0x53a9dd[_0x3f0b7e(0x342)](describe,_0x53a9dd['yfupE'],()=>{const _0x4545c1=_0x3f0b7e,_0x5aa9b9={'SVMvL':function(_0x4e745c,_0x229305){const _0x4e317b=_0x1abd;return _0x53a9dd[_0x4e317b(0x238)](_0x4e745c,_0x229305);},'yoFTr':'Invalid\x20WebSocket\x20frame:\x20invalid\x20opcode\x205','QyAWW':_0x4545c1(0x6af),'Yszoa':_0x4545c1(0x64d),'kXOhC':_0x53a9dd['xLQbw'],'LCFhD':_0x53a9dd[_0x4545c1(0x357)],'TZgdU':_0x53a9dd[_0x4545c1(0x3b7)],'SazhU':_0x4545c1(0x2ae),'ziJiB':_0x4545c1(0x2c4),'PFIZl':_0x4545c1(0x7fa)};_0x53a9dd[_0x4545c1(0x41e)](it,'emits\x20an\x20\x27error\x27\x20event\x20if\x20an\x20error\x20occurs',_0x48333c=>{const _0x41d948=_0x4545c1,_0x3d0a23={'fFhzD':function(_0x43e102,_0x36b5d4){return _0x5aa9b9['SVMvL'](_0x43e102,_0x36b5d4);},'ghqGo':_0x5aa9b9[_0x41d948(0x3b0)]};let _0x1e5c09=![],_0x318f14=![];const _0x4840fb=new WebSocket[(_0x41d948(0x543))]({'port':0x0},()=>{const _0x313b54=_0x41d948,_0x589e21=new WebSocket(_0x313b54(0x2c9)+_0x4840fb['address']()[_0x313b54(0x62b)]);_0x589e21['on']('error',_0x364ec9=>{const _0x285320=_0x313b54;assert['ok'](_0x3d0a23['fFhzD'](_0x364ec9,RangeError)),assert['strictEqual'](_0x364ec9['code'],_0x285320(0x411)),assert[_0x285320(0x5ab)](_0x364ec9[_0x285320(0x703)],_0x3d0a23[_0x285320(0x590)]),_0x589e21['on']('close',(_0x31298b,_0x592ddd)=>{const _0x5628fc=_0x285320;assert[_0x5628fc(0x5ab)](_0x31298b,0x3ee),assert[_0x5628fc(0x5ab)](_0x592ddd,EMPTY_BUFFER),_0x1e5c09=!![];if(_0x318f14)_0x4840fb[_0x5628fc(0x2ae)](_0x48333c);});});});_0x4840fb['on']('connection',_0x595e06=>{const _0x128a2f=_0x41d948;_0x595e06['on'](_0x128a2f(0x2ae),(_0x11357b,_0x2c7db1)=>{const _0x215532=_0x128a2f;assert[_0x215532(0x5ab)](_0x11357b,0x3ea),assert[_0x215532(0x25d)](_0x2c7db1,EMPTY_BUFFER),_0x318f14=!![];if(_0x1e5c09)_0x4840fb['close'](_0x48333c);}),_0x595e06[_0x128a2f(0x268)][_0x128a2f(0x7d9)](Buffer[_0x128a2f(0x6ec)]([0x85,0x0]));});}),_0x53a9dd[_0x4545c1(0x551)](it,'does\x20not\x20re-emit\x20`net.Socket`\x20errors',function(_0x2511e5){const _0x3b1239=_0x4545c1,_0x508ac8={'vlsle':_0x3b1239(0x2ae),'hQSjq':_0x5aa9b9[_0x3b1239(0x70b)]};if(process[_0x3b1239(0x1eb)][_0x3b1239(0x3ec)]<0x5d)return this['skip']();const _0x2a8d46=new WebSocket['Server']({'port':0x0},()=>{const _0x440c29=_0x3b1239,_0x9dcb08=new WebSocket(_0x440c29(0x2c9)+_0x2a8d46[_0x440c29(0x774)]()[_0x440c29(0x62b)]);_0x9dcb08['on']('open',()=>{const _0x6521b1=_0x440c29,_0x1520a0={'RjfsL':function(_0x334868,_0x225007){return _0x334868 instanceof _0x225007;},'dnfiL':_0x6521b1(0x65e),'EnOnZ':_0x508ac8['vlsle']};_0x9dcb08[_0x6521b1(0x268)]['on'](_0x508ac8[_0x6521b1(0x3ee)],_0x5ee7e3=>{const _0x196478=_0x6521b1;assert['ok'](_0x1520a0[_0x196478(0x6fc)](_0x5ee7e3,Error)),assert[_0x196478(0x5ab)](_0x5ee7e3[_0x196478(0x6a1)],_0x1520a0['dnfiL']),_0x9dcb08['on'](_0x1520a0['EnOnZ'],(_0x3a8c1b,_0x43430d)=>{const _0x3d0e86=_0x196478;assert[_0x3d0e86(0x5ab)](_0x3a8c1b,0x3ee),assert[_0x3d0e86(0x5ab)](_0x43430d,EMPTY_BUFFER),_0x2a8d46[_0x3d0e86(0x2ae)](_0x2511e5);});}),_0x2a8d46[_0x6521b1(0x55b)]['values']()[_0x6521b1(0x60e)]()['value'][_0x6521b1(0x268)][_0x6521b1(0x69b)]();});});}),_0x53a9dd['wuKlo'](it,_0x53a9dd[_0x4545c1(0x3bc)],_0x2de415=>{const _0x50e9cd=_0x4545c1,_0x3f1cd0=new WebSocket[(_0x50e9cd(0x543))]({'port':0x0},()=>{const _0x2a6b4d=_0x50e9cd,_0x48d7da={'rOpKO':function(_0x83def2,_0x570133){return _0x5aa9b9['SVMvL'](_0x83def2,_0x570133);},'WSPHl':_0x5aa9b9[_0x2a6b4d(0x2e4)],'kZQnM':_0x2a6b4d(0x784),'PlOfl':_0x5aa9b9[_0x2a6b4d(0x4e7)]},_0x1d5bc8=new WebSocket(_0x2a6b4d(0x2c9)+_0x3f1cd0[_0x2a6b4d(0x774)]()[_0x2a6b4d(0x62b)]);_0x1d5bc8['on'](_0x2a6b4d(0x7fa),_0x1a0eb5=>{const _0x5a4cd8=_0x2a6b4d,_0x50b0e9={'MuzYo':function(_0x56c53b,_0x59d909){return _0x48d7da['rOpKO'](_0x56c53b,_0x59d909);},'FVINc':_0x48d7da[_0x5a4cd8(0x5d4)],'OxOhx':_0x48d7da['kZQnM']};if('QJJUU'===_0x48d7da['PlOfl'])assert['ok'](_0x1a0eb5 instanceof http[_0x5a4cd8(0x2d7)]),_0x3f1cd0[_0x5a4cd8(0x2ae)](_0x2de415);else{const _0x20a2f7={'xBBBi':function(_0x4bfb8b,_0x730f6c){const _0x5e1a41=_0x5a4cd8;return _0x50b0e9[_0x5e1a41(0x2a7)](_0x4bfb8b,_0x730f6c);},'OmXcY':_0x5a4cd8(0x2ca)};_0x595cf1[_0x5a4cd8(0x486)](_0x5a4cd8(0x7e0)),_0x5327b5[_0x5a4cd8(0x486)](_0x50b0e9[_0x5a4cd8(0x3db)],_0x3bcfd6=>{const _0x5336f2=_0x5a4cd8;_0xafaeda['push'](0x1),_0x2dd596[_0x5336f2(0x5ab)](_0x2f5a06['readyState'],_0x1988ec[_0x5336f2(0x634)]),_0xce24d9['ok'](_0x3bcfd6 instanceof _0xe840d1),_0x3394b6[_0x5336f2(0x5ab)](_0x3bcfd6['message'],_0x5336f2(0x2ca));}),_0x4782fc[_0x5a4cd8(0x486)]('baz'),_0x363416['send'](_0x50b0e9['OxOhx'],_0x784e7=>{const _0x57246d=_0x5a4cd8;_0x4baf0f[_0x57246d(0x602)](0x2),_0x56fdd6['strictEqual'](_0x54b879[_0x57246d(0x5bc)],_0x97212[_0x57246d(0x634)]),_0x238b58['ok'](_0x20a2f7[_0x57246d(0x1cf)](_0x784e7,_0xb88434)),_0x36b167[_0x57246d(0x5ab)](_0x784e7[_0x57246d(0x703)],_0x20a2f7['OmXcY']);}),_0x44ebb1[_0x5a4cd8(0x2ae)]();}});});_0x3f1cd0['on'](_0x50e9cd(0x597),_0x4337b2=>{const _0x53429e=_0x50e9cd;_0x4337b2[_0x53429e(0x2ae)]();});}),it(_0x4545c1(0x42f),_0x11987a=>{const _0x4c803e=_0x4545c1,_0x9f8f6={'wwMWQ':_0x5aa9b9['LCFhD']},_0x587239=new WebSocket[(_0x4c803e(0x543))]({'port':0x0},()=>{const _0x44301d=_0x4c803e,_0x1aebb7=new WebSocket(_0x44301d(0x2c9)+_0x587239[_0x44301d(0x774)]()['port']);_0x1aebb7['on'](_0x9f8f6['wwMWQ'],()=>_0x587239[_0x44301d(0x2ae)](_0x11987a));});_0x587239['on'](_0x4c803e(0x597),_0x723eaa=>{const _0x4e668d=_0x4c803e;_0x723eaa[_0x4e668d(0x769)](),_0x723eaa[_0x4e668d(0x2ae)]();});}),it(_0x53a9dd['yAZSi'],_0x163a36=>{const _0x53d599=_0x4545c1,_0x1f0a4e=new WebSocket[(_0x53d599(0x543))]({'port':0x0},()=>{const _0x20c3d5=_0x53d599;if(_0x5aa9b9[_0x20c3d5(0x73d)]===_0x5aa9b9[_0x20c3d5(0x73d)]){const _0x374799=new WebSocket(_0x20c3d5(0x2c9)+_0x1f0a4e[_0x20c3d5(0x774)]()[_0x20c3d5(0x62b)]);_0x374799['on']('pong',()=>_0x1f0a4e['close'](_0x163a36));}else _0x58e566['ok'](_0x356895[_0x20c3d5(0x28f)](_0x377883[_0x20c3d5(0x20e)])),_0x4b37a0['ok'](_0x212177['data'][_0x20c3d5(0x581)](_0x33c17c));});_0x1f0a4e['on'](_0x53a9dd[_0x53d599(0x764)],_0x2719fc=>{const _0x7c86ca=_0x53d599;_0x2719fc[_0x7c86ca(0x731)](),_0x2719fc[_0x7c86ca(0x2ae)]();});}),_0x53a9dd[_0x4545c1(0x46f)](it,_0x53a9dd['MqTZo'],_0x4b1cd0=>{const _0xd03f7=_0x4545c1,_0x5cb254={'CLwKo':'bIpAe','tOaLM':_0x5aa9b9[_0xd03f7(0x7a8)]},_0x1296aa=http['createServer'](),_0x5d6dc5=new WebSocket[(_0xd03f7(0x543))]({'noServer':!![],'path':_0x5aa9b9[_0xd03f7(0x30d)]});_0x1296aa['once'](_0x5aa9b9[_0xd03f7(0x552)],(_0x12f51b,_0x3b44c9)=>{const _0x4abb7a=_0xd03f7;_0x3b44c9[_0x4abb7a(0x5d2)](_0x4abb7a(0x386)),_0x1296aa[_0x4abb7a(0x5f3)](_0x4abb7a(0x7fa),(_0x2f716a,_0x4b1d0c,_0x10db95)=>{const _0x5ee7e7=_0x4abb7a;'bIpAe'===_0x5cb254[_0x5ee7e7(0x2f5)]?_0x5d6dc5[_0x5ee7e7(0x429)](_0x2f716a,_0x4b1d0c,_0x10db95,_0x32dfe5=>{const _0x149b72=_0x5ee7e7;_0x32dfe5[_0x149b72(0x2ae)]();}):(_0x1b46f3[_0x5ee7e7(0x5ab)](_0x40ccdc[_0x5ee7e7(0x6b9)],0x1),_0x300083[_0x5ee7e7(0x5ab)](_0x161f71,_0x5ee7e7(0x2c9)+_0x27497e+'/foo'),_0x15fefa['ok'](_0x2360a0 instanceof _0x316b49[_0x5ee7e7(0x3fd)]),_0x35ad2f['on'](_0x5ee7e7(0x2ae),_0x35b22e=>{_0x697db0['strictEqual'](_0x35b22e,0x3ed),_0x353511['close'](_0x1cd2d0);}));});}),_0x1296aa['listen'](()=>{const _0x5010bc=_0xd03f7,_0x4a4489=_0x1296aa[_0x5010bc(0x774)]()[_0x5010bc(0x62b)],_0x4cd96a=new WebSocket(_0x5010bc(0x2c9)+_0x4a4489,{'followRedirects':!![]});_0x4cd96a['on'](_0x5010bc(0x4f5),(_0x36d410,_0x2c1388)=>{const _0x68d6f7=_0x5010bc;assert['strictEqual'](_0x4cd96a[_0x68d6f7(0x6b9)],0x1),assert[_0x68d6f7(0x5ab)](_0x36d410,_0x68d6f7(0x2c9)+_0x4a4489+_0x68d6f7(0x2c4)),assert['ok'](_0x2c1388 instanceof http[_0x68d6f7(0x3fd)]),_0x4cd96a['on'](_0x5cb254[_0x68d6f7(0x53f)],_0x4f7679=>{const _0x48e59d=_0x68d6f7;assert[_0x48e59d(0x5ab)](_0x4f7679,0x3ed),_0x1296aa[_0x48e59d(0x2ae)](_0x4b1cd0);});});});});}),_0x53a9dd[_0x3f0b7e(0x752)](describe,_0x3f0b7e(0x4fc),()=>{const _0x1054ac=_0x3f0b7e,_0x5ceed2={'HKjPW':_0x53a9dd[_0x1054ac(0x6e7)],'IseJa':_0x1054ac(0x7e8),'Ntjlf':function(_0x379e46,_0x117265){return _0x379e46!==_0x117265;},'LMCxj':_0x53a9dd[_0x1054ac(0x6e8)],'glthz':_0x53a9dd[_0x1054ac(0x520)],'eZCVC':function(_0x4edd0f,_0x32ec26){const _0x821572=_0x1054ac;return _0x53a9dd[_0x821572(0x80f)](_0x4edd0f,_0x32ec26);},'KUXjk':function(_0x18300b,_0xadef11){return _0x53a9dd['Blzqz'](_0x18300b,_0xadef11);},'uEluj':_0x1054ac(0x737),'kVjmp':_0x53a9dd['galOA'],'wVGNz':_0x1054ac(0x258),'LpDiF':function(_0x481caa){const _0x622697=_0x1054ac;return _0x53a9dd[_0x622697(0x334)](_0x481caa);},'UuWfE':_0x53a9dd[_0x1054ac(0x301)],'lUTIb':_0x1054ac(0x64d),'ckyVh':_0x1054ac(0x647),'GMjsj':_0x1054ac(0x7e0),'doNAL':_0x1054ac(0x2ae),'GARky':_0x53a9dd[_0x1054ac(0x498)],'eaSGl':_0x53a9dd[_0x1054ac(0x680)],'VDPdB':_0x53a9dd[_0x1054ac(0x532)],'OguYw':_0x53a9dd[_0x1054ac(0x76e)],'DOuZo':function(_0x176fa8,_0x44b5a2){return _0x176fa8 instanceof _0x44b5a2;},'TQLlV':_0x1054ac(0x50b),'pKojy':function(_0x495866,_0xfb4b43){const _0x244b08=_0x1054ac;return _0x53a9dd[_0x244b08(0x238)](_0x495866,_0xfb4b43);},'snPkP':function(_0x5c6b9f,_0x2e9ae9){return _0x5c6b9f+_0x2e9ae9;},'pgSWv':_0x53a9dd['LjsmI'],'uTZyk':'sec-websocket-key','sMiVj':_0x53a9dd[_0x1054ac(0x46b)],'sTdLB':_0x1054ac(0x6b1),'ESpCu':_0x1054ac(0x49e),'BsBNl':function(_0xeee688,_0x47d810){const _0x48e9e9=_0x1054ac;return _0x53a9dd[_0x48e9e9(0x2fb)](_0xeee688,_0x47d810);},'SGWJl':function(_0x23c245,_0x2258be){const _0x53c93e=_0x1054ac;return _0x53a9dd[_0x53c93e(0x4b8)](_0x23c245,_0x2258be);},'hRCtO':function(_0x478d7a,_0x23294a){return _0x478d7a!==_0x23294a;},'oZIFG':function(_0x4a1523,_0x1b81b5){return _0x4a1523 instanceof _0x1b81b5;},'EHlYf':'base64','zYhcB':function(_0x55346d,_0x459e7b){const _0x395dc0=_0x1054ac;return _0x53a9dd[_0x395dc0(0x7f4)](_0x55346d,_0x459e7b);},'vzTCt':_0x53a9dd[_0x1054ac(0x1bc)],'diWPB':_0x1054ac(0x4b4),'tuUqO':function(_0x46aee8,_0x47a9fe){return _0x53a9dd['WUDKA'](_0x46aee8,_0x47a9fe);},'sbjPs':_0x53a9dd[_0x1054ac(0x3a8)],'Cytpq':_0x1054ac(0x614),'NhbfY':function(_0x3f38c8,_0x5ef486){return _0x53a9dd['GZxcP'](_0x3f38c8,_0x5ef486);},'jBzPB':_0x53a9dd['VFAlJ'],'fyRpD':_0x53a9dd['fQprN'],'YpEPy':_0x53a9dd[_0x1054ac(0x721)],'XYuyw':_0x53a9dd[_0x1054ac(0x5b0)],'sYCiS':_0x53a9dd[_0x1054ac(0x3ab)],'ZpMgg':function(_0x1571b1,_0x59f651){return _0x53a9dd['GZxcP'](_0x1571b1,_0x59f651);},'AQWhV':function(_0x24142f,_0x4406ee){return _0x24142f+_0x4406ee;},'OtOjB':'Location:\x20ws://localhost:8080\x0d\x0a','vsXdC':_0x1054ac(0x3a3),'YcbYk':function(_0x5b616e){return _0x5b616e();},'obCGc':_0x1054ac(0x386),'kEmcG':function(_0x2c7ae3,_0x24ee6c){return _0x2c7ae3 instanceof _0x24ee6c;},'HEfZA':function(_0x3a2691,_0x12a32f){const _0x34c67c=_0x1054ac;return _0x53a9dd[_0x34c67c(0x7cb)](_0x3a2691,_0x12a32f);},'mfwMd':_0x1054ac(0x530),'IbLSQ':_0x53a9dd[_0x1054ac(0x2ad)],'ivxxN':_0x1054ac(0x6c2),'saNTc':_0x53a9dd['IQIyW'],'bFJlu':'lBwis','CoJMx':function(_0x1c21c0,_0x56d334,_0x49c6cc){const _0x230601=_0x1054ac;return _0x53a9dd[_0x230601(0x728)](_0x1c21c0,_0x56d334,_0x49c6cc);},'NOFJA':_0x1054ac(0x6b5),'rvTAl':_0x53a9dd[_0x1054ac(0x1d4)],'kufHT':'If\x20there\x20is\x20no\x20\x27redirect\x27\x20event\x20listener','pLSfe':function(_0x30ee6c,_0x151da8,_0x4db77b){return _0x30ee6c(_0x151da8,_0x4db77b);},'zpoKz':_0x1054ac(0x6dc),'ThvzZ':_0x1054ac(0x5ec),'GhMfA':_0x53a9dd[_0x1054ac(0x1b2)],'msGvI':_0x1054ac(0x5dd),'DDAVk':_0x1054ac(0x4f9),'ZiyyU':_0x53a9dd['ezdRA'],'ejeiC':_0x53a9dd[_0x1054ac(0x454)],'qAAjN':_0x53a9dd[_0x1054ac(0x1ff)],'GMjWJ':_0x1054ac(0x6d3),'Wwygf':function(_0x2a29bb,_0x4b2343,_0x4e770d){return _0x2a29bb(_0x4b2343,_0x4e770d);},'BLLhK':_0x53a9dd[_0x1054ac(0x66e)],'ftLvD':function(_0x15cfbf,_0x557f87){return _0x15cfbf===_0x557f87;},'FjUGY':_0x1054ac(0x30a),'ELwda':_0x53a9dd[_0x1054ac(0x474)],'TGItw':_0x1054ac(0x3c3),'gMfJv':'win32','GHtfB':_0x53a9dd[_0x1054ac(0x300)],'VMIDB':_0x53a9dd[_0x1054ac(0x20c)]},_0x4c9501=http[_0x1054ac(0x256)]();_0x53a9dd[_0x1054ac(0x787)](beforeEach,_0x42319c=>_0x4c9501[_0x1054ac(0x66d)](0x0,_0x42319c)),afterEach(_0x4f74c3=>_0x4c9501[_0x1054ac(0x2ae)](_0x4f74c3)),it(_0x1054ac(0x5bb),_0x590765=>{const _0x5ea428=_0x1054ac,_0x3f5b0b={'kpEGP':function(_0x2d20fc,_0x3e6ab0){return _0x2d20fc instanceof _0x3e6ab0;},'xvgOs':function(_0x39865d,_0x48fd61){return _0x5ceed2['Ntjlf'](_0x39865d,_0x48fd61);},'hnDpg':_0x5ea428(0x6e2),'BIJJG':_0x5ea428(0x6af)};_0x4c9501[_0x5ea428(0x5f3)](_0x5ea428(0x7fa),(_0x2da7f4,_0x23af59)=>{const _0x38a2d7=_0x5ea428;_0x23af59['on'](_0x38a2d7(0x5d2),_0x23af59[_0x38a2d7(0x5d2)]),_0x23af59['write'](_0x5ceed2[_0x38a2d7(0x754)]+'Connection:\x20Upgrade\x0d\x0a'+_0x5ceed2[_0x38a2d7(0x287)]+'\x0d\x0a');});const _0x1b7c42=new WebSocket('ws://localhost:'+_0x4c9501[_0x5ea428(0x774)]()['port']);_0x1b7c42['_req']['maxHeadersCount']=0x1,_0x1b7c42['on'](_0x5ea428(0x7fa),_0x1584f5=>{const _0x175fa3=_0x5ea428,_0x5c25c5={'gDPle':_0x175fa3(0x235),'cBEWk':_0x175fa3(0x703)};_0x3f5b0b['xvgOs'](_0x175fa3(0x4de),'TMgxD')?(assert[_0x175fa3(0x25d)](_0x1584f5[_0x175fa3(0x1f6)],{'connection':_0x3f5b0b['hnDpg']}),_0x1b7c42['on'](_0x3f5b0b[_0x175fa3(0x66f)],_0x1e5e0b=>{const _0x1a21b1=_0x175fa3;assert['ok'](_0x3f5b0b['kpEGP'](_0x1e5e0b,Error)),assert[_0x1a21b1(0x5ab)](_0x1e5e0b[_0x1a21b1(0x703)],_0x1a21b1(0x5b5)),_0x590765();})):_0x58bde2['on'](_0x5c25c5[_0x175fa3(0x2e5)],(_0x4ec370,_0x550ca1)=>{const _0x2285ff=_0x175fa3;_0x1ae59f[_0x2285ff(0x25d)](_0x4ec370,_0x38ff67[_0x2285ff(0x6ec)](_0x5c25c5[_0x2285ff(0x7f9)])),_0x9caf71['ok'](!_0x550ca1),_0x347ac2[_0x2285ff(0x2ae)](_0x2b3c25);});});}),_0x53a9dd['zrDKg'](it,_0x1054ac(0x7de),_0x393765=>{const _0x1de733=_0x1054ac,_0x2fbad0={'facpK':function(_0x3e728f,_0x33f9b5){return _0x53a9dd['qzVdv'](_0x3e728f,_0x33f9b5);},'KlzDO':function(_0x3833b5,_0x304739){return _0x3833b5+_0x304739;},'hUlpF':_0x53a9dd[_0x1de733(0x6e7)],'uJImF':_0x1de733(0x737),'kXkWO':_0x1de733(0x7bb)};_0x4c9501[_0x1de733(0x5f3)](_0x53a9dd[_0x1de733(0x680)],(_0x1d2bd2,_0x464e1b)=>{const _0x11c44f=_0x1de733;_0x464e1b['on']('end',_0x464e1b[_0x11c44f(0x5d2)]),_0x464e1b[_0x11c44f(0x7d9)](_0x2fbad0[_0x11c44f(0x29e)](_0x2fbad0[_0x11c44f(0x542)](_0x2fbad0[_0x11c44f(0x542)](_0x2fbad0[_0x11c44f(0x3cb)],_0x2fbad0[_0x11c44f(0x414)]),_0x2fbad0[_0x11c44f(0x79f)]),'\x0d\x0a'));});const _0x2c1818=new WebSocket(_0x1de733(0x2c9)+_0x4c9501[_0x1de733(0x774)]()[_0x1de733(0x62b)]);_0x2c1818['on'](_0x53a9dd['AyysE'],_0x4bc443=>{const _0x252497=_0x1de733;assert['ok'](_0x4bc443 instanceof Error),assert[_0x252497(0x5ab)](_0x4bc443[_0x252497(0x703)],_0x252497(0x5b5)),_0x393765();});}),_0x53a9dd[_0x1054ac(0x658)](it,_0x1054ac(0x231),_0x3bf4fc=>{const _0x52d7f5=_0x1054ac,_0x3f8231={'gOBvZ':_0x5ceed2[_0x52d7f5(0x1df)],'MMqRs':_0x5ceed2[_0x52d7f5(0x683)],'TsfEG':_0x52d7f5(0x3f5),'GUkVU':_0x52d7f5(0x784)};_0x4c9501[_0x52d7f5(0x5f3)](_0x52d7f5(0x7fa),(_0x3b5818,_0x2806a9)=>{const _0x5610d6=_0x52d7f5;if(_0x5ceed2[_0x5610d6(0x6e4)]!==_0x5610d6(0x28d))_0x2806a9['on'](_0x5ceed2[_0x5610d6(0x51f)],_0x2806a9[_0x5610d6(0x5d2)]),_0x2806a9[_0x5610d6(0x7d9)](_0x5ceed2[_0x5610d6(0x624)](_0x5ceed2[_0x5610d6(0x624)](_0x5ceed2[_0x5610d6(0x33d)](_0x5610d6(0x730),_0x5610d6(0x7e8))+_0x5ceed2[_0x5610d6(0x7cd)],_0x5ceed2[_0x5610d6(0x69f)]),'\x0d\x0a'));else{const _0x4fa30c=_0x3f8231[_0x5610d6(0x1ca)][_0x5610d6(0x1ab)]('|');let _0x5ae987=0x0;while(!![]){switch(_0x4fa30c[_0x5ae987++]){case'0':_0x1c1473[_0x5610d6(0x486)](_0x5610d6(0x409));continue;case'1':_0x958083[_0x5610d6(0x486)](_0x3f8231['MMqRs']);continue;case'2':_0x590396[_0x5610d6(0x4ab)]['on'](_0x3f8231['TsfEG'],()=>{_0x483b7c['ok'](_0x5b9363['_sender']['_deflating']);});continue;case'3':_0x14434a['send'](_0x5610d6(0x7e0));continue;case'4':_0x2c5367[_0x5610d6(0x486)](_0x3f8231[_0x5610d6(0x74c)]);continue;}break;}}});const _0x2738c2=new WebSocket('ws://localhost:'+_0x4c9501[_0x52d7f5(0x774)]()[_0x52d7f5(0x62b)]);_0x2738c2['on'](_0x52d7f5(0x6af),_0x222678=>{const _0xbaf3c7=_0x52d7f5;assert['ok'](_0x222678 instanceof Error),assert['strictEqual'](_0x222678['message'],_0x5ceed2[_0xbaf3c7(0x7e4)]),_0x5ceed2[_0xbaf3c7(0x649)](_0x3bf4fc);});}),it(_0x53a9dd[_0x1054ac(0x535)],_0x374b4f=>{const _0x48ec60=_0x1054ac,_0x5de147={'MQyui':_0x53a9dd['Epxaf'],'vqNQn':function(_0xb859d5,_0x3348df){return _0xb859d5+_0x3348df;},'jbsgQ':_0x53a9dd[_0x48ec60(0x6e7)]};_0x4c9501['once'](_0x53a9dd[_0x48ec60(0x680)],(_0x1ef4ee,_0x553ce8)=>{const _0x8ab121=_0x48ec60,_0x45fdc8=crypto[_0x8ab121(0x6f5)]('sha1')['update'](_0x1ef4ee['headers'][_0x5de147['MQyui']]+GUID)['digest'](_0x8ab121(0x76f));_0x553ce8[_0x8ab121(0x5d2)](_0x5de147[_0x8ab121(0x6d0)](_0x5de147[_0x8ab121(0x557)]+'Upgrade:\x20websocket\x0d\x0a'+_0x8ab121(0x737)+(_0x8ab121(0x2bd)+_0x45fdc8+'\x0d\x0a'),'\x0d\x0a'));});const _0x1bffbc=new WebSocket(_0x48ec60(0x2c9)+_0x4c9501[_0x48ec60(0x774)]()[_0x48ec60(0x62b)]);_0x1bffbc['on'](_0x53a9dd[_0x48ec60(0x802)],(_0xd7e2f8,_0x50d576)=>{const _0x48fa5b=_0x48ec60;assert[_0x48fa5b(0x5ab)](_0xd7e2f8,0x3ee),assert[_0x48fa5b(0x5ab)](_0x50d576,EMPTY_BUFFER),_0x374b4f();});}),_0x53a9dd[_0x1054ac(0x306)](it,'error\x20is\x20emitted\x20if\x20server\x20aborts\x20connection',_0x36f6dc=>{const _0x4a73aa=_0x1054ac,_0x2a331f={'gjsgo':function(_0x1df0f8){const _0x57bdf5=_0x1abd;return _0x53a9dd[_0x57bdf5(0x334)](_0x1df0f8);},'XUtwz':function(_0x4b40de,_0x12b7ed){return _0x4b40de+_0x12b7ed;},'GDLgJ':_0x53a9dd[_0x4a73aa(0x619)]};_0x4c9501[_0x4a73aa(0x5f3)](_0x4a73aa(0x7fa),(_0xe5a173,_0x560bfa)=>{const _0x2fb67d=_0x4a73aa,_0x2a23a6={'QZzCe':'Invalid\x20Upgrade\x20header','RQOKR':function(_0x2309a2){return _0x2a331f['gjsgo'](_0x2309a2);}};_0x2fb67d(0x31f)==='IcisL'?(_0x1786e5['ok'](_0x283226 instanceof _0x2609ee),_0x18df01['strictEqual'](_0x9659bb[_0x2fb67d(0x703)],_0x2a23a6[_0x2fb67d(0x2b7)]),_0x2a23a6['RQOKR'](_0x2e0c0e)):_0x560bfa[_0x2fb67d(0x5d2)](_0x2a331f[_0x2fb67d(0x809)](_0x2a331f[_0x2fb67d(0x809)](_0x2fb67d(0x32e)+http['STATUS_CODES'][0x191]+'\x0d\x0a',_0x2a331f['GDLgJ'])+_0x2fb67d(0x630),_0x2fb67d(0x6c6)+http[_0x2fb67d(0x276)][0x191][_0x2fb67d(0x41b)]+'\x0d\x0a')+'\x0d\x0a');});const _0x53ed96=new WebSocket(_0x4a73aa(0x2c9)+_0x4c9501[_0x4a73aa(0x774)]()[_0x4a73aa(0x62b)]);_0x53ed96['on'](_0x4a73aa(0x614),()=>_0x36f6dc(new Error('Unexpected\x20\x27open\x27\x20event'))),_0x53ed96['on'](_0x53a9dd[_0x4a73aa(0x532)],_0x149ae1=>{const _0x3dbc32=_0x4a73aa,_0x25d17d={'MbdEp':_0x3dbc32(0x614)};if(_0x5ceed2[_0x3dbc32(0x51a)]!=='CHXRJ'){const _0x175151=new _0x5e72f2(_0x3dbc32(0x2c9)+_0x2ebd3d[_0x3dbc32(0x774)]()[_0x3dbc32(0x62b)]);_0x175151['on'](_0x25d17d[_0x3dbc32(0x1f2)],()=>{const _0x2ce7b2=_0x3dbc32;_0x175151[_0x2ce7b2(0x769)](()=>{const _0x7293f9=_0x2ce7b2;_0x175151[_0x7293f9(0x769)](),_0x175151[_0x7293f9(0x2ae)]();});});}else assert['ok'](_0x149ae1 instanceof Error),assert[_0x3dbc32(0x5ab)](_0x149ae1[_0x3dbc32(0x703)],_0x3dbc32(0x2bc)),_0x5ceed2[_0x3dbc32(0x649)](_0x36f6dc);});}),_0x53a9dd[_0x1054ac(0x4f7)](it,_0x53a9dd['XZVXD'],_0xfaa28a=>{const _0xe2a24f=_0x1054ac,_0x5bbe0f={'HZQis':function(_0x56b059,_0x194fac){return _0x56b059+_0x194fac;},'fOnOU':_0xe2a24f(0x6c1),'RfJup':_0x5ceed2[_0xe2a24f(0x459)],'JASEI':_0xe2a24f(0x4b7),'layvM':_0xe2a24f(0x20e),'CVucf':_0x5ceed2['glthz'],'pllNq':_0x5ceed2[_0xe2a24f(0x77a)],'dSWre':_0xe2a24f(0x7fa),'pkzpj':_0xe2a24f(0x614)};if(_0xe2a24f(0x53d)!==_0x5ceed2['GARky']){_0x4c9501[_0xe2a24f(0x5f3)](_0x5ceed2[_0xe2a24f(0x63f)],(_0x2b4d30,_0x338def)=>{const _0x5bbd3d=_0xe2a24f;_0x338def[_0x5bbd3d(0x5d2)](_0x5bbe0f[_0x5bbd3d(0x749)](_0x5bbe0f[_0x5bbd3d(0x749)]('HTTP/1.1\x20401\x20'+http['STATUS_CODES'][0x191]+'\x0d\x0a'+_0x5bbe0f[_0x5bbd3d(0x2ea)]+_0x5bbd3d(0x630),'Content-Length:\x203\x0d\x0a')+'\x0d\x0a',_0x5bbe0f[_0x5bbd3d(0x281)]));});const _0x3e44f5=new WebSocket(_0xe2a24f(0x2c9)+_0x4c9501['address']()['port']);_0x3e44f5['on'](_0xe2a24f(0x614),()=>_0xfaa28a(new Error(_0xe2a24f(0x210)))),_0x3e44f5['on'](_0x5ceed2[_0xe2a24f(0x760)],()=>_0xfaa28a(new Error('Unexpected\x20\x27error\x27\x20event'))),_0x3e44f5['on'](_0x5ceed2[_0xe2a24f(0x5e3)],(_0x1a5970,_0xc727f4)=>{const _0x5bf170=_0xe2a24f,_0x1f4806={'oEExv':function(_0x5ab175){return _0x5ab175();}};assert['strictEqual'](_0xc727f4['statusCode'],0x191);let _0x3ce7ca='';_0xc727f4['on'](_0x5bbe0f[_0x5bf170(0x7d1)],_0x25ddf3=>{const _0x3abb89=_0x5bf170;_0x3abb89(0x4b7)!==_0x5bbe0f['JASEI']?(_0x5bd079[_0x3abb89(0x25d)](_0x16de4c,[0x1,0x2]),_0x1d6d4d[_0x3abb89(0x2ae)](_0x58c90d)):_0x3ce7ca+=_0x25ddf3;}),_0xc727f4['on'](_0x5bbe0f[_0x5bf170(0x714)],()=>{const _0x169260=_0x5bf170;assert['strictEqual'](_0x3ce7ca,'foo'),_0x1f4806[_0x169260(0x261)](_0xfaa28a);});});}else{const _0x56a297={'SyyKt':_0xe2a24f(0x3e9)};_0x59a3a4['once'](_0x5bbe0f['dSWre'],(_0x432308,_0x2d5c7c)=>{_0x2d5c7c['end'](_0x56a297['SyyKt']);});const _0x156a53=new _0x47b425(_0xe2a24f(0x2c9)+_0x171802[_0xe2a24f(0x774)]()['port'],{'followRedirects':!![]});_0x156a53['on'](_0x5bbe0f[_0xe2a24f(0x1c9)],()=>_0x584600(new _0x587923(_0xe2a24f(0x210)))),_0x156a53['on'](_0xe2a24f(0x6af),_0x4149b1=>{const _0x5cb520=_0xe2a24f;_0x32e9a7['ok'](_0x4149b1 instanceof _0xf27a54),_0x33c048[_0x5cb520(0x5ab)](_0x4149b1['message'],_0x5cb520(0x30f)),_0x872268['strictEqual'](_0x156a53[_0x5cb520(0x6b9)],0x1),_0x156a53['on'](_0x5bbe0f[_0x5cb520(0x763)],()=>_0x57e545());});}}),it(_0x1054ac(0x4f6),_0x37e24b=>{const _0x485e5c=_0x1054ac,_0x28f366={'OxBra':function(_0x89af1b,_0xd585d5){const _0x397ca3=_0x1abd;return _0x53a9dd[_0x397ca3(0x4b8)](_0x89af1b,_0xd585d5);},'AxKMA':_0x485e5c(0x6c1),'GGgIQ':_0x485e5c(0x717),'qolhH':_0x53a9dd[_0x485e5c(0x520)]};_0x4c9501[_0x485e5c(0x5f3)](_0x485e5c(0x7fa),(_0x26eac4,_0x83a5d)=>{const _0x55d08e=_0x485e5c;_0x83a5d[_0x55d08e(0x5d2)](_0x28f366[_0x55d08e(0x7a6)](_0x28f366['OxBra'](_0x28f366[_0x55d08e(0x7a6)](_0x55d08e(0x32e)+http[_0x55d08e(0x276)][0x191]+'\x0d\x0a',_0x28f366[_0x55d08e(0x51c)]),_0x55d08e(0x630))+_0x28f366['GGgIQ'],'\x0d\x0a')+_0x55d08e(0x7e0));});const _0x1461be=new WebSocket(_0x485e5c(0x2c9)+_0x4c9501[_0x485e5c(0x774)]()[_0x485e5c(0x62b)]);_0x1461be['on'](_0x53a9dd['kJmGH'],()=>_0x37e24b(new Error(_0x485e5c(0x210)))),_0x1461be['on'](_0x53a9dd[_0x485e5c(0x532)],()=>_0x37e24b(new Error(_0x485e5c(0x609)))),_0x1461be['on'](_0x485e5c(0x655),(_0x2984cd,_0x483b86)=>{const _0x1a8a6a=_0x485e5c;assert[_0x1a8a6a(0x5ab)](_0x483b86['statusCode'],0x191),_0x483b86['on'](_0x28f366['qolhH'],_0x37e24b),_0x2984cd[_0x1a8a6a(0x734)]();});}),it(_0x1054ac(0x325),_0x5ec5b1=>{const _0x540181=_0x1054ac;_0x4c9501[_0x540181(0x5f3)](_0x540181(0x7fa),(_0x298d0a,_0x54b943)=>_0x54b943['on']('end',_0x54b943['end']));const _0xe7045a=_0x4c9501['address']()[_0x540181(0x62b)],_0x5970ca=new WebSocket(_0x540181(0x2c9)+_0xe7045a,{'handshakeTimeout':0x64});_0x5970ca['on']('open',()=>_0x5ec5b1(new Error(_0x540181(0x210)))),_0x5970ca['on'](_0x5ceed2[_0x540181(0x760)],_0x42a44a=>{const _0x3e0df2=_0x540181;assert['ok'](_0x5ceed2[_0x3e0df2(0x3c1)](_0x42a44a,Error)),assert['strictEqual'](_0x42a44a[_0x3e0df2(0x703)],_0x5ceed2[_0x3e0df2(0x7ad)]),_0x5ec5b1();});}),_0x53a9dd['nlHzd'](it,_0x53a9dd['xndfI'],_0x5f299b=>{const _0x26a80c=_0x1054ac,_0x5d19af={'LdNws':_0x5ceed2[_0x26a80c(0x694)],'lFJGx':'base64','itCOn':function(_0x16d1aa,_0x4a9b3d){return _0x16d1aa+_0x4a9b3d;},'cqCyv':_0x26a80c(0x730),'VizMz':_0x26a80c(0x737),'TJJne':_0x5ceed2[_0x26a80c(0x642)]};_0x4c9501[_0x26a80c(0x5f3)](_0x5ceed2[_0x26a80c(0x63f)],(_0x5dea37,_0x5c9145)=>{const _0x2dc19c=_0x26a80c,_0x54eb5d=crypto[_0x2dc19c(0x6f5)](_0x2dc19c(0x49e))[_0x2dc19c(0x3ca)](_0x5dea37[_0x2dc19c(0x1f6)][_0x5d19af['LdNws']]+GUID)['digest'](_0x5d19af[_0x2dc19c(0x70c)]);_0x5c9145[_0x2dc19c(0x5d2)](_0x5d19af[_0x2dc19c(0x4cd)](_0x5d19af[_0x2dc19c(0x491)]+'Upgrade:\x20websocket\x0d\x0a'+_0x5d19af['VizMz']+(_0x2dc19c(0x2bd)+_0x54eb5d+'\x0d\x0a')+_0x5d19af[_0x2dc19c(0x202)],'\x0d\x0a'));});const _0x10d8fb=new WebSocket('ws://localhost:'+_0x4c9501[_0x26a80c(0x774)]()[_0x26a80c(0x62b)],{'perMessageDeflate':![]});_0x10d8fb['on'](_0x26a80c(0x614),()=>_0x5f299b(new Error(_0x26a80c(0x210)))),_0x10d8fb['on']('error',_0x4ba4ae=>{const _0x404465=_0x26a80c;assert['ok'](_0x5ceed2['pKojy'](_0x4ba4ae,Error)),assert[_0x404465(0x5ab)](_0x4ba4ae[_0x404465(0x703)],_0x5ceed2[_0x404465(0x2f2)](_0x5ceed2[_0x404465(0x3f9)],_0x404465(0x663))),_0x10d8fb['on'](_0x5ceed2[_0x404465(0x77a)],()=>_0x5f299b());});}),_0x53a9dd['qHVTz'](it,_0x1054ac(0x779),_0x1f242f=>{const _0x58879d=_0x1054ac,_0x4ddf97={'RwYyP':_0x5ceed2[_0x58879d(0x2a0)],'xaAIN':_0x58879d(0x2ae),'xTmqb':_0x5ceed2[_0x58879d(0x318)],'LgaKh':function(_0x4906f8,_0x233516){return _0x5ceed2['BsBNl'](_0x4906f8,_0x233516);},'azVIk':_0x58879d(0x76f),'wGvzX':function(_0x4f7ed3,_0x284a32){return _0x5ceed2['SGWJl'](_0x4f7ed3,_0x284a32);},'Kwfjp':_0x58879d(0x730),'LKGLG':_0x58879d(0x2a1),'ceQfe':'Invalid\x20Sec-WebSocket-Extensions\x20header'};if(_0x5ceed2[_0x58879d(0x7df)](_0x58879d(0x6f9),_0x58879d(0x6f9)))_0x308613['ok'](_0x475f0e instanceof _0x349e34),_0x40c28e[_0x58879d(0x5ab)](_0x91cc41[_0x58879d(0x6a1)],_0x58879d(0x411)),_0x8934de[_0x58879d(0x5ab)](_0x11b69a[_0x58879d(0x703)],_0x4ddf97[_0x58879d(0x7bc)]),_0x58dadf['on'](_0x4ddf97[_0x58879d(0x23f)],(_0x3f5941,_0x731884)=>{const _0x2ae09b=_0x58879d;_0x29e491[_0x2ae09b(0x5ab)](_0x3f5941,0x3ee),_0x213463[_0x2ae09b(0x5ab)](_0x731884,_0x897b35),_0x24299f=!![];if(_0x3a4e8d)_0x53924c['close'](_0x421531);});else{_0x4c9501[_0x58879d(0x5f3)](_0x58879d(0x7fa),(_0x197b98,_0x3f3d93)=>{const _0x197f4f=_0x58879d,_0x1238a4=crypto[_0x197f4f(0x6f5)](_0x4ddf97[_0x197f4f(0x282)])['update'](_0x4ddf97[_0x197f4f(0x468)](_0x197b98[_0x197f4f(0x1f6)][_0x197f4f(0x364)],GUID))[_0x197f4f(0x4e3)](_0x4ddf97[_0x197f4f(0x395)]);_0x3f3d93[_0x197f4f(0x5d2)](_0x4ddf97['LgaKh'](_0x4ddf97['wGvzX'](_0x4ddf97[_0x197f4f(0x50f)](_0x4ddf97[_0x197f4f(0x50f)](_0x4ddf97[_0x197f4f(0x468)](_0x4ddf97[_0x197f4f(0x3d1)],_0x197f4f(0x7e8)),_0x197f4f(0x737)),_0x197f4f(0x2bd)+_0x1238a4+'\x0d\x0a'),_0x4ddf97[_0x197f4f(0x217)]),'\x0d\x0a'));});const _0xdd8f5f=new WebSocket(_0x58879d(0x2c9)+_0x4c9501[_0x58879d(0x774)]()[_0x58879d(0x62b)]);_0xdd8f5f['on'](_0x58879d(0x614),()=>_0x1f242f(new Error(_0x58879d(0x210)))),_0xdd8f5f['on']('error',_0x22ef82=>{const _0x340eb6=_0x58879d;assert['ok'](_0x22ef82 instanceof Error),assert[_0x340eb6(0x5ab)](_0x22ef82[_0x340eb6(0x703)],_0x4ddf97['ceQfe']),_0xdd8f5f['on'](_0x4ddf97[_0x340eb6(0x23f)],()=>_0x1f242f());});}}),_0x53a9dd['buKyY'](it,_0x53a9dd[_0x1054ac(0x335)],_0x3fc79f=>{const _0x36a0b6=_0x1054ac,_0x44aae7={'GBpXa':_0x53a9dd[_0x36a0b6(0x53b)],'Ebhcw':_0x53a9dd['Epxaf'],'Nlucn':_0x53a9dd[_0x36a0b6(0x36f)],'oPWeT':function(_0xa3e792,_0x31fe9e){return _0xa3e792+_0x31fe9e;},'DwXvy':function(_0x298272,_0x2f3faa){const _0x1dc07f=_0x36a0b6;return _0x53a9dd[_0x1dc07f(0x4b8)](_0x298272,_0x2f3faa);},'TlbkL':'HTTP/1.1\x20101\x20Switching\x20Protocols\x0d\x0a','haXGQ':_0x36a0b6(0x785)};_0x4c9501['once'](_0x36a0b6(0x7fa),(_0x3ddfc2,_0x39d96d)=>{const _0x531778=_0x36a0b6,_0x2e25e6=crypto[_0x531778(0x6f5)](_0x44aae7[_0x531778(0x229)])['update'](_0x3ddfc2[_0x531778(0x1f6)][_0x44aae7[_0x531778(0x61d)]]+GUID)[_0x531778(0x4e3)](_0x44aae7[_0x531778(0x1e9)]);_0x39d96d[_0x531778(0x5d2)](_0x44aae7[_0x531778(0x6ef)](_0x44aae7['oPWeT'](_0x44aae7['DwXvy'](_0x44aae7[_0x531778(0x2db)]+'Upgrade:\x20websocket\x0d\x0a',_0x531778(0x737))+(_0x531778(0x2bd)+_0x2e25e6+'\x0d\x0a')+_0x531778(0x5da),_0x44aae7[_0x531778(0x35a)]),'\x0d\x0a'));});const _0x62386b=new WebSocket(_0x36a0b6(0x2c9)+_0x4c9501[_0x36a0b6(0x774)]()[_0x36a0b6(0x62b)]);_0x62386b['on'](_0x53a9dd['kJmGH'],()=>_0x3fc79f(new Error(_0x36a0b6(0x210)))),_0x62386b['on'](_0x36a0b6(0x6af),_0x24a094=>{const _0x20795d=_0x36a0b6;assert['ok'](_0x5ceed2[_0x20795d(0x5d8)](_0x24a094,Error)),assert['strictEqual'](_0x24a094[_0x20795d(0x703)],'Invalid\x20Sec-WebSocket-Extensions\x20header'),_0x62386b['on']('close',()=>_0x3fc79f());});}),_0x53a9dd[_0x1054ac(0x6cd)](it,_0x53a9dd[_0x1054ac(0x440)],_0x13c4a7=>{const _0xfb3296=_0x1054ac,_0x1e4d41={'GPTbS':_0xfb3296(0x49e),'gdYXS':function(_0x1acf83,_0x15c56e){return _0x1acf83+_0x15c56e;},'EnxJy':function(_0x62697c,_0x109fad){const _0x22b177=_0xfb3296;return _0x53a9dd[_0x22b177(0x7f4)](_0x62697c,_0x109fad);},'GCfab':function(_0x58608d,_0x256a6c){return _0x58608d+_0x256a6c;},'odpXn':function(_0x3707af,_0x5ec4d0){return _0x3707af+_0x5ec4d0;},'GmCVY':'Upgrade:\x20websocket\x0d\x0a','YJxnS':function(_0x455ce0,_0x35ed63){const _0xde660d=_0xfb3296;return _0x53a9dd[_0xde660d(0x238)](_0x455ce0,_0x35ed63);},'BPsbs':'Server\x20indicated\x20an\x20extension\x20that\x20was\x20not\x20requested','VPzHx':_0x53a9dd[_0xfb3296(0x802)]};_0x4c9501[_0xfb3296(0x5f3)]('upgrade',(_0x355432,_0x35155b)=>{const _0x48784e=_0xfb3296,_0x367e06=crypto['createHash'](_0x1e4d41[_0x48784e(0x547)])['update'](_0x1e4d41[_0x48784e(0x275)](_0x355432[_0x48784e(0x1f6)]['sec-websocket-key'],GUID))[_0x48784e(0x4e3)](_0x48784e(0x76f));_0x35155b['end'](_0x1e4d41[_0x48784e(0x44e)](_0x1e4d41[_0x48784e(0x275)](_0x1e4d41[_0x48784e(0x64b)](_0x1e4d41[_0x48784e(0x410)](_0x1e4d41[_0x48784e(0x410)](_0x48784e(0x730),_0x1e4d41[_0x48784e(0x645)]),_0x48784e(0x737)),_0x48784e(0x2bd)+_0x367e06+'\x0d\x0a'),_0x48784e(0x264)),'\x0d\x0a'));});const _0x1b7c7d=new WebSocket('ws://localhost:'+_0x4c9501[_0xfb3296(0x774)]()[_0xfb3296(0x62b)]);_0x1b7c7d['on'](_0xfb3296(0x614),()=>_0x13c4a7(new Error(_0xfb3296(0x210)))),_0x1b7c7d['on'](_0xfb3296(0x6af),_0x497d59=>{const _0x4b3a88=_0xfb3296;assert['ok'](_0x1e4d41[_0x4b3a88(0x670)](_0x497d59,Error)),assert[_0x4b3a88(0x5ab)](_0x497d59[_0x4b3a88(0x703)],_0x1e4d41[_0x4b3a88(0x376)]),_0x1b7c7d['on'](_0x1e4d41[_0x4b3a88(0x232)],()=>_0x13c4a7());});}),_0x53a9dd[_0x1054ac(0x4f7)](it,_0x1054ac(0x6f1),_0x7efd7a=>{const _0x54babb=_0x1054ac,_0x32a5bd={'yfcwQ':function(_0x5a46ce,_0x4b814c){return _0x5a46ce+_0x4b814c;},'IqyVx':function(_0x57fe66,_0x325c49){return _0x5ceed2['tuUqO'](_0x57fe66,_0x325c49);},'ySANf':_0x54babb(0x6c1),'UnJcj':_0x5ceed2[_0x54babb(0x220)]};_0x4c9501['once'](_0x54babb(0x7fa),(_0x2a9320,_0x39c9da)=>{const _0xe7ad31=_0x54babb,_0x537088=crypto[_0xe7ad31(0x6f5)](_0xe7ad31(0x49e))[_0xe7ad31(0x3ca)](_0x2a9320[_0xe7ad31(0x1f6)]['sec-websocket-key']+GUID)[_0xe7ad31(0x4e3)](_0x5ceed2[_0xe7ad31(0x3bb)]);_0x39c9da[_0xe7ad31(0x5d2)](_0x5ceed2[_0xe7ad31(0x58f)](_0x5ceed2['KUXjk'](_0x5ceed2[_0xe7ad31(0x754)],_0x5ceed2['IseJa'])+_0x5ceed2[_0xe7ad31(0x7cd)]+(_0xe7ad31(0x2bd)+_0x537088+'\x0d\x0a'),_0xe7ad31(0x515))+'\x0d\x0a');});const _0x549ad7=new WebSocket('ws://localhost:'+_0x4c9501['address']()[_0x54babb(0x62b)]);_0x549ad7['on'](_0x5ceed2[_0x54babb(0x314)],()=>_0x7efd7a(new Error(_0x54babb(0x210)))),_0x549ad7['on'](_0x5ceed2[_0x54babb(0x760)],_0x17421d=>{const _0xeb88f7=_0x54babb;_0x5ceed2[_0xeb88f7(0x24f)](_0x5ceed2['vzTCt'],_0xeb88f7(0x510))?_0x3e3b2c['end'](_0x32a5bd['yfcwQ'](_0x32a5bd[_0xeb88f7(0x249)](_0x32a5bd[_0xeb88f7(0x43f)](_0xeb88f7(0x32e)+_0x3b5e1['STATUS_CODES'][0x191]+'\x0d\x0a',_0x32a5bd['ySANf'])+_0x32a5bd['UnJcj'],'Content-Length:\x203\x0d\x0a'),'\x0d\x0a')+_0xeb88f7(0x7e0)):(assert['ok'](_0x17421d instanceof Error),assert[_0xeb88f7(0x5ab)](_0x17421d[_0xeb88f7(0x703)],_0x5ceed2[_0xeb88f7(0x37f)]),_0x549ad7['on'](_0x5ceed2['doNAL'],()=>_0x7efd7a()));});}),it(_0x53a9dd[_0x1054ac(0x4e2)],_0xd98561=>{const _0x1e7a74=_0x1054ac,_0x2d8002={'siGPl':_0x1e7a74(0x794),'EzBQK':_0x53a9dd[_0x1e7a74(0x1aa)],'dTZMX':function(_0xa5b396,_0x41a5ff){const _0x3719de=_0x1e7a74;return _0x53a9dd[_0x3719de(0x238)](_0xa5b396,_0x41a5ff);}},_0x1e8cb1=new WebSocket[(_0x1e7a74(0x543))]({'server':_0x4c9501});_0x1e8cb1['on'](_0x53a9dd[_0x1e7a74(0x1e5)],_0x45fc33=>{const _0x398d8c=_0x1e7a74;_0x398d8c(0x389)!==_0x2d8002['siGPl']?_0x45fc33[_0x398d8c(0x602)](_0x2d8002['EzBQK']):(_0x728afc[_0x398d8c(0x5ab)](_0x2d8814[_0x398d8c(0x5a0)](),'0'),_0x2e4dee[_0x398d8c(0x2ae)](_0x6e4a32));});const _0x3588a0=new WebSocket(_0x1e7a74(0x2c9)+_0x4c9501[_0x1e7a74(0x774)]()[_0x1e7a74(0x62b)]);_0x3588a0['on'](_0x53a9dd['kJmGH'],()=>_0xd98561(new Error(_0x1e7a74(0x210)))),_0x3588a0['on'](_0x53a9dd[_0x1e7a74(0x532)],_0x7539f7=>{const _0xb66de2=_0x1e7a74;assert['ok'](_0x2d8002['dTZMX'](_0x7539f7,Error)),assert['strictEqual'](_0x7539f7[_0xb66de2(0x703)],_0xb66de2(0x1b4)),_0x3588a0['on'](_0xb66de2(0x2ae),()=>_0x1e8cb1[_0xb66de2(0x2ae)](_0xd98561));});}),_0x53a9dd[_0x1054ac(0x808)](it,_0x53a9dd[_0x1054ac(0x64c)],_0xc148d3=>{const _0x5a37d2=_0x1054ac,_0xecacc1=new WebSocket[(_0x5a37d2(0x543))]({'handleProtocols':()=>_0x5a37d2(0x409),'server':_0x4c9501}),_0x456951=new WebSocket('ws://localhost:'+_0x4c9501[_0x5a37d2(0x774)]()['port'],[_0x5a37d2(0x7e0),'bar']);_0x456951['on'](_0x5ceed2[_0x5a37d2(0x314)],()=>_0xc148d3(new Error('Unexpected\x20\x27open\x27\x20event'))),_0x456951['on']('error',_0x340839=>{const _0x484b84=_0x5a37d2;assert['ok'](_0x5ceed2[_0x484b84(0x5d8)](_0x340839,Error)),assert[_0x484b84(0x5ab)](_0x340839[_0x484b84(0x703)],_0x484b84(0x59c)),_0x456951['on'](_0x484b84(0x2ae),()=>_0xecacc1[_0x484b84(0x2ae)](_0xc148d3));});}),_0x53a9dd[_0x1054ac(0x6a9)](it,_0x53a9dd[_0x1054ac(0x3c5)],_0x15cd91=>{const _0x5e2bd2=_0x1054ac,_0x5a341f={'TMOXc':function(_0x3a66a9,_0x152227){return _0x5ceed2['NhbfY'](_0x3a66a9,_0x152227);},'Jcxhu':_0x5ceed2[_0x5e2bd2(0x26e)],'HsBKF':_0x5ceed2[_0x5e2bd2(0x318)],'FqzDj':function(_0x2397b1,_0x17b3db){return _0x2397b1+_0x17b3db;},'eqYZv':'sec-websocket-key','cBhok':_0x5e2bd2(0x42c),'EcbYM':function(_0x3733d1,_0x3a6937){const _0x5282bf=_0x5e2bd2;return _0x5ceed2[_0x5282bf(0x381)](_0x3733d1,_0x3a6937);},'hWgRA':_0x5e2bd2(0x59c)};if(_0x5e2bd2(0x750)!==_0x5ceed2[_0x5e2bd2(0x72f)]){_0x4c9501[_0x5e2bd2(0x5f3)](_0x5ceed2[_0x5e2bd2(0x63f)],(_0x2c6a55,_0x1db451)=>{const _0x2b418f=_0x5e2bd2;if(_0x5a341f['TMOXc']('TNIbz',_0x5a341f[_0x2b418f(0x620)])){const _0xa07adb=crypto[_0x2b418f(0x6f5)](_0x5a341f['HsBKF'])['update'](_0x5a341f['FqzDj'](_0x2c6a55['headers'][_0x5a341f['eqYZv']],GUID))[_0x2b418f(0x4e3)](_0x2b418f(0x76f));_0x1db451[_0x2b418f(0x5d2)](_0x5a341f[_0x2b418f(0x71b)](_0x5a341f[_0x2b418f(0x71b)](_0x5a341f[_0x2b418f(0x71b)](_0x2b418f(0x730),_0x2b418f(0x7e8)),'Connection:\x20Upgrade\x0d\x0a')+('Sec-WebSocket-Accept:\x20'+_0xa07adb+'\x0d\x0a'),_0x5a341f[_0x2b418f(0x810)])+'\x0d\x0a');}else _0xa09e90[_0x2b418f(0x486)](),_0x3a3c97[_0x2b418f(0x2ae)]();});const _0xb94ae8=new WebSocket('ws://localhost:'+_0x4c9501[_0x5e2bd2(0x774)]()[_0x5e2bd2(0x62b)],[_0x5ceed2['GMjsj'],_0x5e2bd2(0x64d)]);_0xb94ae8['on'](_0x5e2bd2(0x614),()=>_0x15cd91(new Error('Unexpected\x20\x27open\x27\x20event'))),_0xb94ae8['on'](_0x5e2bd2(0x6af),_0x487230=>{const _0x3ba031=_0x5e2bd2;assert['ok'](_0x5a341f[_0x3ba031(0x677)](_0x487230,Error)),assert[_0x3ba031(0x5ab)](_0x487230[_0x3ba031(0x703)],_0x5a341f[_0x3ba031(0x322)]),_0xb94ae8['on'](_0x3ba031(0x2ae),()=>_0x15cd91());});}else _0x220be0[_0x5e2bd2(0x5ab)](_0x5a8130[_0x5e2bd2(0x1f6)][_0x5e2bd2(0x4a5)],_0x5e2bd2(0x2b5)),_0x2fb516['handleUpgrade'](_0x24f22a,_0x5ccaf7,_0x7d5964,_0x4fcdd7);}),_0x53a9dd['oIhRT'](it,'fails\x20if\x20server\x20sends\x20no\x20subprotocol',_0x546a92=>{const _0x3d9072=_0x1054ac,_0x3ba69c=new WebSocket[(_0x3d9072(0x543))]({'handleProtocols'(){},'server':_0x4c9501}),_0x138fb0=new WebSocket('ws://localhost:'+_0x4c9501[_0x3d9072(0x774)]()[_0x3d9072(0x62b)],[_0x3d9072(0x7e0),_0x53a9dd['laAQP']]);_0x138fb0['on'](_0x53a9dd[_0x3d9072(0x406)],()=>_0x546a92(new Error('Unexpected\x20\x27open\x27\x20event'))),_0x138fb0['on'](_0x53a9dd['AyysE'],_0x505398=>{const _0x132cec=_0x3d9072;assert['ok'](_0x505398 instanceof Error),assert['strictEqual'](_0x505398[_0x132cec(0x703)],_0x132cec(0x1ba)),_0x138fb0['on'](_0x5ceed2['doNAL'],()=>_0x3ba69c[_0x132cec(0x2ae)](_0x546a92));});}),_0x53a9dd['kkpRM'](it,_0x1054ac(0x1ec),_0x362497=>{const _0x3e6d74=_0x1054ac,_0x36be71={'yTPki':_0x3e6d74(0x2b5),'fZcdl':_0x3e6d74(0x2ae)},_0x350a67=new WebSocket[(_0x3e6d74(0x543))]({'noServer':!![],'path':_0x5ceed2[_0x3e6d74(0x370)]});_0x4c9501[_0x3e6d74(0x5f3)]('upgrade',(_0x10e1f3,_0x582d22,_0x58669a)=>{const _0x3a8a5d=_0x3e6d74;assert[_0x3a8a5d(0x5ab)](_0x10e1f3['headers'][_0x3a8a5d(0x4a5)],_0x36be71[_0x3a8a5d(0x1f3)]),_0x350a67[_0x3a8a5d(0x429)](_0x10e1f3,_0x582d22,_0x58669a,NOOP);});const _0xe83ce8=new WebSocket(_0x3e6d74(0x40c),{'createConnection':_0x4779cd=>{const _0x29439f=_0x3e6d74;return assert[_0x29439f(0x5ab)](_0x4779cd[_0x29439f(0x4a5)],_0x5ceed2[_0x29439f(0x6da)]),assert[_0x29439f(0x5ab)](_0x4779cd[_0x29439f(0x62b)],'22'),net['createConnection']({'host':_0x29439f(0x5ea),'port':_0x4c9501[_0x29439f(0x774)]()[_0x29439f(0x62b)]});}});_0xe83ce8['on'](_0x5ceed2[_0x3e6d74(0x314)],()=>{const _0x32a84c=_0x3e6d74;_0x32a84c(0x6a8)!==_0x5ceed2['XYuyw']?(assert[_0x32a84c(0x5ab)](_0xe83ce8[_0x32a84c(0x449)],_0x32a84c(0x40c)),_0xe83ce8['on'](_0x5ceed2[_0x32a84c(0x77a)],()=>_0x362497()),_0xe83ce8[_0x32a84c(0x2ae)]()):(_0x2eb45a['on'](_0x36be71[_0x32a84c(0x488)],()=>{const _0x19b36f=_0x32a84c;_0x3faa77[_0x19b36f(0x25d)](_0x64e261,[0x1,0x2]),_0x5b8fc9['close'](_0x20c2ad);}),_0x3dbe6e[_0x32a84c(0x268)]['end']());});}),_0x53a9dd[_0x1054ac(0x39b)](it,_0x53a9dd[_0x1054ac(0x801)],_0x4e38a2=>{const _0x1d991e=_0x1054ac,_0x13f1b8={'QRGUC':function(_0xddd475,_0x51afb3){return _0x5ceed2['ZpMgg'](_0xddd475,_0x51afb3);},'zolQv':function(_0x15e054,_0x2a2a16){const _0x1d6470=_0x1abd;return _0x5ceed2[_0x1d6470(0x6b6)](_0x15e054,_0x2a2a16);},'fcgct':_0x5ceed2[_0x1d991e(0x804)],'yxSMv':_0x1d991e(0x531),'mDiTC':'close'};if(_0x5ceed2[_0x1d991e(0x22a)]===_0x1d991e(0x2dc)){_0x66724[_0x1d991e(0x5ab)](_0x384458[_0x1d991e(0x5a0)](),'hi');if(_0x13f1b8[_0x1d991e(0x629)](++_0x30d875,0x2))_0x4b6a11[_0x1d991e(0x2ae)](_0x23e0db);}else{_0x4c9501[_0x1d991e(0x5f3)](_0x1d991e(0x7fa),(_0x2cff3f,_0x4be8d1)=>{const _0x28a407=_0x1d991e;_0x4be8d1[_0x28a407(0x5d2)](_0x13f1b8[_0x28a407(0x225)](_0x28a407(0x710),_0x13f1b8['fcgct'])+'\x0d\x0a');});const _0x52378c=new WebSocket(_0x1d991e(0x2c9)+_0x4c9501[_0x1d991e(0x774)]()[_0x1d991e(0x62b)]);_0x52378c['on']('open',()=>_0x4e38a2(new Error(_0x1d991e(0x210)))),_0x52378c['on'](_0x5ceed2[_0x1d991e(0x760)],_0xf93a21=>{const _0x12a99d=_0x1d991e;assert['ok'](_0xf93a21 instanceof Error),assert[_0x12a99d(0x5ab)](_0xf93a21[_0x12a99d(0x703)],_0x13f1b8[_0x12a99d(0x427)]),assert[_0x12a99d(0x5ab)](_0x52378c[_0x12a99d(0x6b9)],0x0),_0x52378c['on'](_0x13f1b8['mDiTC'],()=>_0x4e38a2());});}}),it(_0x53a9dd[_0x1054ac(0x477)],_0x514c96=>{const _0x78718d=_0x1054ac,_0x3fd36c={'KsQQM':_0x5ceed2['obCGc']},_0x3abc8d=new WebSocket['Server']({'noServer':!![],'path':_0x5ceed2[_0x78718d(0x370)]});_0x4c9501[_0x78718d(0x5f3)](_0x5ceed2[_0x78718d(0x63f)],(_0x2eca6b,_0x108b1f)=>{const _0xc6e6c4=_0x78718d;_0x108b1f[_0xc6e6c4(0x5d2)](_0x3fd36c['KsQQM']),_0x4c9501[_0xc6e6c4(0x5f3)](_0xc6e6c4(0x7fa),(_0x6e5fc2,_0x149b63,_0x2aedce)=>{const _0x30e1a5=_0xc6e6c4;_0x3abc8d[_0x30e1a5(0x429)](_0x6e5fc2,_0x149b63,_0x2aedce,NOOP);});});const _0x6b3523=_0x4c9501[_0x78718d(0x774)]()[_0x78718d(0x62b)],_0x2483ad=new WebSocket(_0x78718d(0x2c9)+_0x6b3523,{'followRedirects':!![]});_0x2483ad['on'](_0x5ceed2[_0x78718d(0x314)],()=>{const _0x22e197=_0x78718d,_0x286962={'beZiH':_0x22e197(0x302),'bRSbj':'base64','wfqWS':function(_0x430c95){const _0x4b5a3d=_0x22e197;return _0x5ceed2[_0x4b5a3d(0x28a)](_0x430c95);}};if(_0x5ceed2['NhbfY'](_0x22e197(0x7b1),_0x22e197(0x7b1)))assert['strictEqual'](_0x2483ad[_0x22e197(0x449)],'ws://localhost:'+_0x6b3523+'/foo'),assert[_0x22e197(0x5ab)](_0x2483ad[_0x22e197(0x6b9)],0x1),_0x2483ad['on'](_0x22e197(0x2ae),()=>_0x514c96()),_0x2483ad[_0x22e197(0x2ae)]();else{const _0x353da2=new _0x24b075[(_0x22e197(0x402))](),_0x5bc26b='foo:bar',_0x31030a=_0x22e197(0x6d5);_0x353da2[_0x22e197(0x5c3)]=_0x5d9e8f=>{const _0x26507f=_0x22e197;_0x1e38c1[_0x26507f(0x5ab)](_0x5d9e8f[_0x26507f(0x644)](_0x286962['beZiH']),_0x26507f(0x67d)+_0x45d202[_0x26507f(0x6ec)](_0x31030a)[_0x26507f(0x5a0)](_0x286962[_0x26507f(0x373)])),_0x286962[_0x26507f(0x304)](_0x151297);};const _0x305765=new _0x435560(_0x22e197(0x603)+_0x31030a+_0x22e197(0x699),{'agent':_0x353da2,'auth':_0x5bc26b});}});}),it('honors\x20the\x20`maxRedirects`\x20option',_0x2526a6=>{const _0x23a45b=_0x1054ac,_0x3f84f1={'sNkiJ':_0x23a45b(0x79b),'VUWOX':_0x23a45b(0x496)},_0x5d19b3=(_0x546fb2,_0x34b84f)=>{const _0x3a9851=_0x23a45b;_0x34b84f[_0x3a9851(0x5d2)](_0x3f84f1['sNkiJ']);};_0x4c9501['on'](_0x53a9dd[_0x23a45b(0x680)],_0x5d19b3);const _0xbdebb4=new WebSocket(_0x23a45b(0x2c9)+_0x4c9501[_0x23a45b(0x774)]()[_0x23a45b(0x62b)],{'followRedirects':!![],'maxRedirects':0x1});_0xbdebb4['on']('open',()=>_0x2526a6(new Error('Unexpected\x20\x27open\x27\x20event'))),_0xbdebb4['on'](_0x53a9dd[_0x23a45b(0x532)],_0x3b6fd8=>{const _0x27794a=_0x23a45b,_0x252c3f='0|3|4|2|1'['split']('|');let _0x3125f7=0x0;while(!![]){switch(_0x252c3f[_0x3125f7++]){case'0':assert['ok'](_0x3b6fd8 instanceof Error);continue;case'1':_0xbdebb4['on'](_0x27794a(0x2ae),()=>_0x2526a6());continue;case'2':_0x4c9501['removeListener'](_0x27794a(0x7fa),_0x5d19b3);continue;case'3':assert[_0x27794a(0x5ab)](_0x3b6fd8['message'],_0x3f84f1[_0x27794a(0x5d1)]);continue;case'4':assert[_0x27794a(0x5ab)](_0xbdebb4[_0x27794a(0x6b9)],0x2);continue;}break;}});}),_0x53a9dd[_0x1054ac(0x1bb)](it,_0x1054ac(0x40d),_0x54210a=>{const _0x420cd3=_0x1054ac,_0x28a47f={'fMbpG':_0x420cd3(0x3e9),'QXyIc':function(_0x9125d1,_0x31fe9d){const _0xdbde3=_0x420cd3;return _0x5ceed2[_0xdbde3(0x4a2)](_0x9125d1,_0x31fe9d);},'ocjsz':_0x5ceed2['doNAL'],'awNWQ':function(_0x40abf0,_0x3c70bc){const _0x20aadd=_0x420cd3;return _0x5ceed2[_0x20aadd(0x457)](_0x40abf0,_0x3c70bc);},'xvZdE':_0x5ceed2[_0x420cd3(0x6b8)],'pttvW':_0x420cd3(0x6b2)};_0x4c9501[_0x420cd3(0x5f3)](_0x420cd3(0x7fa),(_0x1c23d7,_0x3409cb)=>{const _0x347f89=_0x420cd3;_0x3409cb[_0x347f89(0x5d2)](_0x28a47f[_0x347f89(0x333)]);});const _0x518bbf=new WebSocket('ws://localhost:'+_0x4c9501[_0x420cd3(0x774)]()[_0x420cd3(0x62b)],{'followRedirects':!![]});_0x518bbf['on'](_0x5ceed2[_0x420cd3(0x314)],()=>_0x54210a(new Error(_0x420cd3(0x210)))),_0x518bbf['on'](_0x420cd3(0x6af),_0x5d61c9=>{const _0x68ff25=_0x420cd3;_0x28a47f[_0x68ff25(0x200)](_0x28a47f[_0x68ff25(0x2cd)],_0x28a47f[_0x68ff25(0x1b9)])?(assert['ok'](_0x5d61c9 instanceof SyntaxError),assert['strictEqual'](_0x5d61c9[_0x68ff25(0x703)],_0x68ff25(0x30f)),assert[_0x68ff25(0x5ab)](_0x518bbf[_0x68ff25(0x6b9)],0x1),_0x518bbf['on']('close',()=>_0x54210a())):(_0x229f57['ok'](_0x28a47f['QXyIc'](_0x504f9d,_0x2c873b)),_0x3f52d6['strictEqual'](_0xf93efd['message'],_0x68ff25(0x40b)),_0x4d011d['on'](_0x28a47f[_0x68ff25(0x27a)],()=>_0xe9eebb[_0x68ff25(0x2ae)](_0x4b70da)));});}),it('emits\x20an\x20error\x20if\x20the\x20redirect\x20URL\x20is\x20invalid\x20(2/2)',_0x44b12d=>{const _0x304f74=_0x1054ac,_0x143bac={'xUuCG':'HTTP/1.1\x20302\x20Found\x0d\x0aLocation:\x20bad-scheme://localhost\x0d\x0a\x0d\x0a','AJsLE':function(_0x6e3c4a,_0x17b5f7){return _0x6e3c4a+_0x17b5f7;}};_0x4c9501[_0x304f74(0x5f3)]('upgrade',(_0x1e53a9,_0x1b2e00)=>{const _0x3b6b33=_0x304f74;_0x1b2e00['end'](_0x143bac[_0x3b6b33(0x806)]);});const _0x3762ae=new WebSocket(_0x304f74(0x2c9)+_0x4c9501[_0x304f74(0x774)]()['port'],{'followRedirects':!![]});_0x3762ae['on'](_0x5ceed2[_0x304f74(0x314)],()=>_0x44b12d(new Error(_0x304f74(0x210)))),_0x3762ae['on'](_0x5ceed2[_0x304f74(0x760)],_0x4b9ea1=>{const _0x1476c9=_0x304f74;assert['ok'](_0x4b9ea1 instanceof SyntaxError),assert[_0x1476c9(0x5ab)](_0x4b9ea1[_0x1476c9(0x703)],_0x143bac[_0x1476c9(0x4e4)](_0x1476c9(0x500),'\x22http:\x22,\x20\x22https\x22,\x20or\x20\x22ws+unix:\x22')),assert[_0x1476c9(0x5ab)](_0x3762ae[_0x1476c9(0x6b9)],0x1),_0x3762ae['on'](_0x1476c9(0x2ae),()=>_0x44b12d());});}),_0x53a9dd[_0x1054ac(0x61e)](it,_0x53a9dd['NUSUU'],_0x322ea1=>{const _0x469131=_0x1054ac,_0x4b4047=new WebSocket['Server']({'noServer':!![],'path':_0x5ceed2[_0x469131(0x370)]}),_0x4a91f3=_0x5ceed2[_0x469131(0x537)];_0x4c9501[_0x469131(0x5f3)](_0x469131(0x7fa),(_0x43058d,_0x31339f)=>{const _0x1c0305=_0x469131;_0x31339f[_0x1c0305(0x5d2)](_0x1c0305(0x60f)+(_0x1c0305(0x57c)+_0x2d8993+_0x1c0305(0x277))),_0x4c9501['once'](_0x1c0305(0x7fa),(_0x3ba008,_0x1cdc65,_0x36947a)=>{const _0x56b59e=_0x1c0305;_0x4b4047[_0x56b59e(0x429)](_0x3ba008,_0x1cdc65,_0x36947a,(_0x21e1c3,_0x200152)=>{const _0x4fe1f5=_0x56b59e;assert[_0x4fe1f5(0x5ab)](_0x200152[_0x4fe1f5(0x1f6)]['authorization'],_0x4a91f3),_0x21e1c3['close']();});});});const _0x2d8993=_0x4c9501[_0x469131(0x774)]()[_0x469131(0x62b)],_0x30cab9=new WebSocket(_0x469131(0x46d)+_0x2d8993,{'followRedirects':!![]});assert[_0x469131(0x5ab)](_0x30cab9[_0x469131(0x582)]['getHeader'](_0x469131(0x426)),_0x4a91f3),_0x30cab9['on'](_0x5ceed2[_0x469131(0x77a)],_0xc3b4d1=>{const _0x1c7b90=_0x469131;assert[_0x1c7b90(0x5ab)](_0xc3b4d1,0x3ed),assert[_0x1c7b90(0x5ab)](_0x30cab9[_0x1c7b90(0x449)],_0x1c7b90(0x7c9)+_0x2d8993+_0x1c7b90(0x2c4)),assert[_0x1c7b90(0x5ab)](_0x30cab9[_0x1c7b90(0x6b9)],0x1),_0x4b4047['close'](_0x322ea1);});}),_0x53a9dd[_0x1054ac(0x745)](describe,_0x1054ac(0x3d5),()=>{const _0xd12f46=_0x1054ac,_0x358a08={'vKZPE':_0x5ceed2[_0xd12f46(0x57f)],'udvXJ':_0x5ceed2[_0xd12f46(0x4c5)],'FozEu':function(_0x1b3227,_0x360e98,_0x2eca49){const _0x24634e=_0xd12f46;return _0x5ceed2[_0x24634e(0x2a6)](_0x1b3227,_0x360e98,_0x2eca49);},'lFgEv':function(_0x4ff4dd,_0x486ad5){const _0x22a135=_0xd12f46;return _0x5ceed2[_0x22a135(0x778)](_0x4ff4dd,_0x486ad5);},'tfpIL':_0x5ceed2[_0xd12f46(0x241)],'EphHh':_0x5ceed2[_0xd12f46(0x63f)],'pdWOe':_0x5ceed2[_0xd12f46(0x537)],'eajoC':_0xd12f46(0x221),'dbwlt':_0x5ceed2[_0xd12f46(0x314)],'WmnAd':_0x5ceed2[_0xd12f46(0x394)],'yUwCT':_0x5ceed2[_0xd12f46(0x459)],'iIarD':function(_0x3f23ea,_0x55b7b5,_0x22fce2){return _0x5ceed2['CoJMx'](_0x3f23ea,_0x55b7b5,_0x22fce2);}};function _0x575161(_0x3dfd52,_0x5ce3a9){const _0xfdd7c0=_0xd12f46,_0x52afb7={'bcuDr':_0x5ceed2[_0xfdd7c0(0x674)],'jHnxd':function(_0x47596d,_0x3c90af){return _0x47596d===_0x3c90af;},'MzCCQ':function(_0x111d5f,_0x4a68d9){const _0x2efcf8=_0xfdd7c0;return _0x5ceed2[_0x2efcf8(0x7df)](_0x111d5f,_0x4a68d9);}},_0x1c82ec=net[_0xfdd7c0(0x256)]({'allowHalfOpen':!![]});return _0x1c82ec['on'](_0x5ceed2[_0xfdd7c0(0x57f)],_0x266365=>{const _0x576d10=_0xfdd7c0;_0x52afb7[_0x576d10(0x72a)](_0x576d10(0x283),_0x576d10(0x283))?(_0xdd7d68['ok'](_0x26db79),_0x3d4159[_0x576d10(0x486)](_0x3e38e9)):_0x266365['on'](_0x576d10(0x6c2),function _0x489399(){const _0x575720=_0x576d10;_0x266365[_0x575720(0x73c)](_0x52afb7[_0x575720(0x392)],_0x489399);const _0x574290=_0x266365[_0x575720(0x2df)](0x1),_0x578cab=_0x52afb7[_0x575720(0x289)](_0x574290[0x0],0x16)?_0x5ce3a9:_0x3dfd52;_0x266365[_0x575720(0x2c7)](_0x574290),_0x578cab[_0x575720(0x1d6)](_0x575720(0x597),_0x266365);});}),_0x1c82ec;}describe(_0x5ceed2[_0xd12f46(0x2b1)],()=>{const _0x8a0ee6=_0xd12f46,_0xbffea8={'AJtrz':_0x358a08[_0x8a0ee6(0x369)],'SMMBf':_0x358a08['pdWOe'],'UJEFb':_0x8a0ee6(0x759),'lIaTw':'foo','OLQJw':'connection','yRGmz':_0x358a08[_0x8a0ee6(0x519)]};_0x358a08['FozEu'](it,_0x8a0ee6(0x7d0),_0x1c6be5=>{const _0x3d5922=_0x8a0ee6,_0x5e3479={'jeHKf':function(_0x1f3433,_0x4fd7cd){return _0x1f3433+_0x4fd7cd;},'eKdEo':'HTTP/1.1\x20302\x20Found\x0d\x0a','okdSi':_0x358a08[_0x3d5922(0x4eb)],'ZZKAR':_0x3d5922(0x2ae)};if(_0x358a08[_0x3d5922(0x69d)]!==_0x3d5922(0x2e6)){const _0x527cbd=http['createServer'](),_0x347b16=https[_0x3d5922(0x256)]({'cert':fs['readFileSync'](_0x3d5922(0x553)),'key':fs[_0x3d5922(0x56c)]('test/fixtures/key.pem')}),_0x7f5a=_0x358a08[_0x3d5922(0x1e7)](_0x575161,_0x527cbd,_0x347b16);_0x7f5a[_0x3d5922(0x66d)](()=>{const _0x1747e5=_0x3d5922,_0x4109dd=_0x7f5a[_0x1747e5(0x774)]()[_0x1747e5(0x62b)];_0x347b16['on'](_0x1747e5(0x7fa),(_0x33cd26,_0x59e9af)=>{const _0xe1a89b=_0x1747e5;_0x59e9af['on'](_0xe1a89b(0x6af),NOOP),_0x59e9af['end'](_0x5e3479['jeHKf'](_0x5e3479['eKdEo'],_0xe1a89b(0x632)+_0x4109dd+_0xe1a89b(0x4c1)));});const _0x5e4d11=new WebSocket[(_0x1747e5(0x543))]({'server':_0x527cbd});_0x5e4d11['on'](_0x5e3479[_0x1747e5(0x2be)],(_0x55799f,_0x5d1042)=>{const _0x5d109d=_0x1747e5;assert[_0x5d109d(0x5ab)](_0x5d1042[_0x5d109d(0x1f6)][_0x5d109d(0x302)],undefined),_0x55799f[_0x5d109d(0x2ae)]();});const _0x4522dc=new WebSocket('wss://localhost:'+_0x4109dd,{'auth':'foo:bar','followRedirects':!![],'rejectUnauthorized':![]});assert[_0x1747e5(0x5ab)](_0x4522dc[_0x1747e5(0x582)][_0x1747e5(0x644)](_0x1747e5(0x426)),_0x1747e5(0x40a)),_0x4522dc['on'](_0x5e3479[_0x1747e5(0x3e6)],_0x1560ed=>{const _0x217fd0=_0x1747e5;assert['strictEqual'](_0x1560ed,0x3ed),assert['strictEqual'](_0x4522dc[_0x217fd0(0x449)],_0x217fd0(0x2c9)+_0x4109dd+'/'),assert[_0x217fd0(0x5ab)](_0x4522dc['_redirects'],0x1),_0x7f5a[_0x217fd0(0x2ae)](_0x1c6be5);});});}else{const _0x25230d=new _0x4e67af('wss://127.0.0.1:'+_0x4d7e86[_0x3d5922(0x774)]()[_0x3d5922(0x62b)],{'rejectUnauthorized':![]});_0x25230d['on']('open',_0x25230d[_0x3d5922(0x2ae)]);}}),_0x358a08[_0x8a0ee6(0x1e7)](it,'drops\x20the\x20Authorization\x20and\x20Cookie\x20headers',_0x1be30a=>{const _0x3bbc41=_0x8a0ee6,_0x23d3c5={'Bzmmn':_0x3bbc41(0x60f)};if(_0x358a08[_0x3bbc41(0x4aa)](_0x3bbc41(0x485),'gxfJo')){const _0x493eab=http['createServer'](),_0x18ab2e=https['createServer']({'cert':fs['readFileSync'](_0x3bbc41(0x553)),'key':fs['readFileSync'](_0x358a08[_0x3bbc41(0x305)])}),_0xa269ba=_0x575161(_0x493eab,_0x18ab2e);_0xa269ba['listen'](()=>{const _0x52af2a=_0x3bbc41,_0x42e93e=_0xa269ba[_0x52af2a(0x774)]()[_0x52af2a(0x62b)];_0x18ab2e['on'](_0xbffea8[_0x52af2a(0x635)],(_0x1f26a8,_0x1e09b8)=>{const _0x4534c8=_0x52af2a;_0x1e09b8['on'](_0x4534c8(0x6af),NOOP),_0x1e09b8[_0x4534c8(0x5d2)](_0x23d3c5[_0x4534c8(0x487)]+(_0x4534c8(0x632)+_0x42e93e+_0x4534c8(0x4c1)));});const _0x477823={'authorization':_0xbffea8[_0x52af2a(0x28e)],'cookie':_0xbffea8[_0x52af2a(0x469)],'host':_0xbffea8[_0x52af2a(0x2a8)]},_0xd42805=new WebSocket[(_0x52af2a(0x543))]({'server':_0x493eab});_0xd42805['on'](_0xbffea8[_0x52af2a(0x63e)],(_0x43df1e,_0x936cac)=>{const _0x2c416f=_0x52af2a;assert[_0x2c416f(0x5ab)](_0x936cac[_0x2c416f(0x1f6)][_0x2c416f(0x302)],undefined),assert['strictEqual'](_0x936cac[_0x2c416f(0x1f6)]['cookie'],undefined),assert['strictEqual'](_0x936cac[_0x2c416f(0x1f6)]['host'],_0x477823[_0x2c416f(0x4a5)]),_0x43df1e['close']();});const _0x26ea26=new WebSocket('wss://localhost:'+_0x42e93e,{'followRedirects':!![],'headers':_0x477823,'rejectUnauthorized':![]}),_0x1cbda1=_0x26ea26['_req'];assert[_0x52af2a(0x5ab)](_0x1cbda1[_0x52af2a(0x644)](_0x52af2a(0x426)),_0x477823[_0x52af2a(0x302)]),assert[_0x52af2a(0x5ab)](_0x1cbda1['getHeader'](_0x52af2a(0x41c)),_0x477823[_0x52af2a(0x3e3)]),assert[_0x52af2a(0x5ab)](_0x1cbda1[_0x52af2a(0x644)](_0xbffea8[_0x52af2a(0x5a6)]),_0x477823[_0x52af2a(0x4a5)]),_0x26ea26['on'](_0x52af2a(0x2ae),_0x42b316=>{const _0x240c56=_0x52af2a;assert['strictEqual'](_0x42b316,0x3ed),assert[_0x240c56(0x5ab)](_0x26ea26['url'],_0x240c56(0x2c9)+_0x42e93e+'/'),assert[_0x240c56(0x5ab)](_0x26ea26[_0x240c56(0x6b9)],0x1),_0xa269ba[_0x240c56(0x2ae)](_0x1be30a);});});}else _0xfe234d[_0x3bbc41(0x486)](new _0x158b54(0x1000)),_0x1d292b[_0x3bbc41(0x2ae)]();});}),_0x5ceed2[_0xd12f46(0x7ae)](describe,_0x5ceed2[_0xd12f46(0x328)],()=>{const _0x1d2d9c=_0xd12f46;_0x358a08['iIarD'](it,_0x1d2d9c(0x4ed),_0x4ba3c2=>{const _0xdc02cf=_0x1d2d9c,_0x576989={'PuRQw':_0x358a08['dbwlt'],'nRrdi':'Authorization','pOGdy':'Cookie','GjPYY':'close','LNpeo':_0xdc02cf(0x7fa),'pwUOo':_0x358a08[_0xdc02cf(0x548)],'gnkKB':_0x358a08[_0xdc02cf(0x7af)],'zLLCM':_0x358a08['vKZPE']},_0x47679e=http['createServer'](),_0x37d645=https[_0xdc02cf(0x256)]({'cert':fs[_0xdc02cf(0x56c)]('test/fixtures/certificate.pem'),'key':fs[_0xdc02cf(0x56c)](_0xdc02cf(0x6b5))}),_0x1cd369=_0x575161(_0x47679e,_0x37d645);_0x1cd369['listen'](()=>{const _0x43ae3e=_0xdc02cf,_0x1be3ec={'pkywc':_0x43ae3e(0x60f)},_0x26f07f=_0x1cd369[_0x43ae3e(0x774)]()[_0x43ae3e(0x62b)];_0x37d645['on'](_0x576989['LNpeo'],(_0x4681d7,_0x2d1930)=>{const _0xb1344a=_0x43ae3e;_0x2d1930['on'](_0xb1344a(0x6af),NOOP),_0x2d1930[_0xb1344a(0x5d2)](_0x1be3ec[_0xb1344a(0x4cc)]+(_0xb1344a(0x632)+_0x26f07f+'/\x0d\x0a\x0d\x0a'));});const _0x34eeb4={'authorization':_0x43ae3e(0x40a),'cookie':_0x576989['pwUOo'],'host':_0x576989[_0x43ae3e(0x4ef)]},_0x4107fe=new WebSocket[(_0x43ae3e(0x543))]({'server':_0x47679e});_0x4107fe['on'](_0x576989['zLLCM'],(_0x574cfa,_0x2ddf0d)=>{const _0x333383=_0x43ae3e;assert['strictEqual'](_0x2ddf0d[_0x333383(0x1f6)][_0x333383(0x302)],_0x34eeb4['authorization']),assert[_0x333383(0x5ab)](_0x2ddf0d[_0x333383(0x1f6)][_0x333383(0x3e3)],_0x34eeb4[_0x333383(0x3e3)]),assert['strictEqual'](_0x2ddf0d[_0x333383(0x1f6)][_0x333383(0x4a5)],_0x34eeb4['host']),_0x574cfa[_0x333383(0x2ae)]();});const _0x2840e9=new WebSocket(_0x43ae3e(0x484)+_0x26f07f,{'followRedirects':!![],'headers':_0x34eeb4,'rejectUnauthorized':![]}),_0x5e2172=_0x2840e9[_0x43ae3e(0x582)];assert[_0x43ae3e(0x5ab)](_0x5e2172[_0x43ae3e(0x644)](_0x43ae3e(0x426)),_0x34eeb4[_0x43ae3e(0x302)]),assert[_0x43ae3e(0x5ab)](_0x5e2172[_0x43ae3e(0x644)](_0x43ae3e(0x41c)),_0x34eeb4['cookie']),assert[_0x43ae3e(0x5ab)](_0x5e2172['getHeader']('Host'),_0x34eeb4[_0x43ae3e(0x4a5)]),_0x2840e9['on']('redirect',(_0x23e864,_0x16d5ab)=>{const _0x62b33a=_0x43ae3e,_0xf817a4={'gvzyA':_0x576989['PuRQw'],'PCklh':function(_0x20fbf1,_0x3aa136,_0x33609c){return _0x20fbf1(_0x3aa136,_0x33609c);},'mlqqA':_0x62b33a(0x309)};assert['strictEqual'](_0x2840e9[_0x62b33a(0x6b9)],0x1),assert[_0x62b33a(0x5ab)](_0x23e864,_0x62b33a(0x2c9)+_0x26f07f+'/'),assert['notStrictEqual'](_0x5e2172,_0x16d5ab),assert[_0x62b33a(0x5ab)](_0x16d5ab[_0x62b33a(0x644)](_0x576989[_0x62b33a(0x4ae)]),_0x34eeb4['authorization']),assert[_0x62b33a(0x5ab)](_0x16d5ab[_0x62b33a(0x644)](_0x576989['pOGdy']),_0x34eeb4[_0x62b33a(0x3e3)]),assert[_0x62b33a(0x5ab)](_0x16d5ab['getHeader'](_0x62b33a(0x221)),_0x34eeb4[_0x62b33a(0x4a5)]),_0x2840e9['on'](_0x576989[_0x62b33a(0x2e1)],_0x57e6d9=>{const _0x45a59d=_0x62b33a,_0x15ecc0={'lXfxy':_0x45a59d(0x2ae),'yheoR':_0xf817a4[_0x45a59d(0x27b)],'MBWci':function(_0x510c53,_0x2075ad,_0xe7923){const _0xd468ec=_0x45a59d;return _0xf817a4[_0xd468ec(0x612)](_0x510c53,_0x2075ad,_0xe7923);}};if(_0xf817a4[_0x45a59d(0x2d5)]!=='cpiAZ'){const _0x3f6d92={'yPpaQ':function(_0xc3a20c,_0x4f0520){return _0xc3a20c instanceof _0x4f0520;},'KTjor':_0x15ecc0[_0x45a59d(0x60d)]},_0x34a4cb=new _0x31c622(_0x45a59d(0x2c9)+_0x20ab6b[_0x45a59d(0x774)]()['port']);_0x34a4cb['on'](_0x15ecc0[_0x45a59d(0x4b1)],()=>_0x3fac29(new _0x239ec7(_0x45a59d(0x210)))),_0x34a4cb['on'](_0x45a59d(0x6af),_0x1a36e0=>{const _0x10c6fd=_0x45a59d;_0x5ba522['ok'](_0x3f6d92[_0x10c6fd(0x73e)](_0x1a36e0,_0x138747)),_0x4d288b['strictEqual'](_0x1a36e0[_0x10c6fd(0x703)],'WebSocket\x20was\x20closed\x20before\x20the\x20connection\x20was\x20established'),_0x34a4cb['on'](_0x3f6d92[_0x10c6fd(0x70e)],()=>_0x59e990['close'](_0x8fb5bc));}),_0x15ecc0[_0x45a59d(0x64e)](_0x7f9c91,()=>_0x34a4cb['close'](0x3e9),0x96);}else assert[_0x45a59d(0x5ab)](_0x57e6d9,0x3ed),_0x1cd369[_0x45a59d(0x2ae)](_0x4ba3c2);});});});});});}),_0x53a9dd[_0x1054ac(0x33c)](describe,_0x1054ac(0x6f3),()=>{const _0x1cb837=_0x1054ac,_0x574cdb={'YJooz':_0x5ceed2[_0x1cb837(0x796)],'cdVIQ':function(_0xb5a5f0,_0x32101b){const _0x381079=_0x1cb837;return _0x5ceed2[_0x381079(0x772)](_0xb5a5f0,_0x32101b);},'CBDIn':_0x5ceed2[_0x1cb837(0x3b9)],'xMvct':_0x5ceed2[_0x1cb837(0x57f)],'Fmofd':_0x5ceed2['ELwda'],'YmVaP':_0x5ceed2['TGItw'],'JePHj':function(_0x32820f,_0x2f137c){return _0x32820f===_0x2f137c;},'RSSRN':_0x5ceed2[_0x1cb837(0x654)],'qcUKN':_0x1cb837(0x7e0),'QbLDH':_0x5ceed2['GHtfB'],'UQuBN':'HTTP/1.1\x20302\x20Found\x0d\x0a','ZHWLq':_0x1cb837(0x426),'MaHJg':function(_0x45a240,_0x186074){return _0x45a240+_0x186074;},'TxEUs':_0x5ceed2[_0x1cb837(0x669)],'LuAPu':_0x5ceed2[_0x1cb837(0x537)],'LDoaV':_0x5ceed2[_0x1cb837(0x394)]};_0x5ceed2[_0x1cb837(0x2a6)](describe,_0x1cb837(0x7e3),()=>{const _0x240c7a=_0x1cb837,_0x290411={'HEgDw':function(_0x44b8cb,_0x384148){return _0x44b8cb!==_0x384148;},'EOxem':_0x5ceed2[_0x240c7a(0x76c)],'uGKeS':_0x5ceed2['eaSGl'],'mlyEL':_0x240c7a(0x40a),'sNgII':'close','EIxzt':_0x5ceed2[_0x240c7a(0x1f7)],'cmyHe':_0x5ceed2[_0x240c7a(0x2f0)],'jTHHO':function(_0x295c41,_0x5f2d19){return _0x295c41+_0x5f2d19;},'GLPNg':_0x240c7a(0x597),'pgXIC':function(_0x42f7ae,_0x4d7b42){const _0x44f663=_0x240c7a;return _0x5ceed2[_0x44f663(0x778)](_0x42f7ae,_0x4d7b42);},'MKKlM':_0x5ceed2[_0x240c7a(0x811)],'HVSpq':_0x5ceed2['GMjsj'],'ryRAN':_0x240c7a(0x221),'mHScY':_0x5ceed2[_0x240c7a(0x394)],'JcIgH':_0x5ceed2[_0x240c7a(0x67c)],'syInp':_0x240c7a(0x60f),'YWPuC':_0x240c7a(0x4a4),'GfyBr':function(_0x4b611c){return _0x4b611c();},'usWQl':function(_0x4f61fd,_0x1f4cbb){return _0x4f61fd!==_0x1f4cbb;},'qhJdu':'Authorization'};it(_0x5ceed2[_0x240c7a(0x782)],_0x108264=>{const _0x4015f1=_0x240c7a,_0x53c519={'WSFAs':function(_0x3c92e1,_0x451693){const _0x5a4def=_0x1abd;return _0x290411[_0x5a4def(0x713)](_0x3c92e1,_0x451693);}},_0x2f7e8f=new WebSocket[(_0x4015f1(0x543))]({'port':0x0},()=>{const _0x11b669=_0x4015f1;if(_0x290411['HEgDw'](_0x290411['EOxem'],_0x290411['EOxem']))_0x3b5513['strictEqual'](_0x2a7b81[_0x11b669(0x1f6)][_0x11b669(0x302)],_0x25fbe9),_0x21e4ef[_0x11b669(0x5ab)](_0x54121c[_0x11b669(0x1f6)][_0x11b669(0x3e3)],_0x40b1ac),_0x387a38[_0x11b669(0x5ab)](_0x162370[_0x11b669(0x1f6)][_0x11b669(0x4a5)],'localhost'),_0x3ea534[_0x11b669(0x2ae)]();else{const _0x1d57eb=_0x2f7e8f[_0x11b669(0x774)]()[_0x11b669(0x62b)];_0x4c9501['once'](_0x290411[_0x11b669(0x354)],(_0x392456,_0xea3c5c)=>{const _0x273c0f=_0x11b669;_0xea3c5c[_0x273c0f(0x5d2)](_0x53c519[_0x273c0f(0x5fd)](_0x273c0f(0x60f),_0x273c0f(0x632)+_0x1d57eb+_0x273c0f(0x4c1)));});const _0x24df00=new WebSocket(_0x11b669(0x2c9)+_0x4c9501[_0x11b669(0x774)]()[_0x11b669(0x62b)],{'auth':'foo:bar','followRedirects':!![]});assert[_0x11b669(0x5ab)](_0x24df00[_0x11b669(0x582)][_0x11b669(0x644)](_0x11b669(0x426)),_0x290411[_0x11b669(0x558)]),_0x24df00['on'](_0x290411[_0x11b669(0x285)],_0x3cb24a=>{const _0x3c757c=_0x11b669;assert['strictEqual'](_0x3cb24a,0x3ed),assert[_0x3c757c(0x5ab)](_0x24df00[_0x3c757c(0x449)],_0x3c757c(0x2c9)+_0x1d57eb+'/'),assert[_0x3c757c(0x5ab)](_0x24df00[_0x3c757c(0x6b9)],0x1),_0x2f7e8f[_0x3c757c(0x2ae)](_0x108264);});}});_0x2f7e8f['on'](_0x290411[_0x4015f1(0x3e5)],(_0x278281,_0x2162fb)=>{const _0x11359f=_0x4015f1,_0x6d58f9={'NIbqg':function(_0x398222,_0x3494e1){return _0x398222 instanceof _0x3494e1;},'ydTEM':_0x11359f(0x6af)};if(_0x290411[_0x11359f(0x2cb)]!==_0x290411[_0x11359f(0x495)])assert[_0x11359f(0x5ab)](_0x2162fb[_0x11359f(0x1f6)][_0x11359f(0x302)],undefined),_0x278281[_0x11359f(0x2ae)]();else{const _0x1a4bd6=new _0x4cc09f(_0x11359f(0x2c9)+_0x24508d[_0x11359f(0x774)]()[_0x11359f(0x62b)]);_0x1a4bd6['on'](_0x6d58f9[_0x11359f(0x66c)],_0x177c25=>{const _0x1ee4ec=_0x11359f;_0x238b57['ok'](_0x6d58f9[_0x1ee4ec(0x310)](_0x177c25,_0x54e1cd)),_0x3de6ed[_0x1ee4ec(0x5ab)](_0x177c25[_0x1ee4ec(0x6a1)],_0x1ee4ec(0x411)),_0x2d248c[_0x1ee4ec(0x5ab)](_0x177c25[_0x1ee4ec(0x703)],_0x1ee4ec(0x6b1)),_0x1a4bd6['on'](_0x1ee4ec(0x2ae),(_0x130b4d,_0x4f02bc)=>{const _0xf89a36=_0x1ee4ec;_0x1989cc[_0xf89a36(0x5ab)](_0x130b4d,0x3ee),_0x52718f[_0xf89a36(0x5ab)](_0x4f02bc,_0x5eeabf),_0x52ca56=!![];if(_0x43e108)_0x517762[_0xf89a36(0x2ae)](_0x2ef038);});});}});}),it(_0x5ceed2[_0x240c7a(0x5f7)],_0x2af92c=>{const _0x1d762b=_0x240c7a,_0x24edf3={'JrXXg':function(_0x2718a3,_0xd3e601){return _0x2718a3!==_0xd3e601;},'PZxip':'IowqN','wAnFT':_0x574cdb['YJooz'],'AUQJy':function(_0x346b3a,_0x1a5753){const _0x3de30d=_0x1abd;return _0x574cdb[_0x3de30d(0x6ba)](_0x346b3a,_0x1a5753);},'EcpJe':_0x574cdb[_0x1d762b(0x3fb)]},_0x43e895=new WebSocket[(_0x1d762b(0x543))]({'port':0x0},()=>{const _0xac43c=_0x1d762b;if(_0x290411['pgXIC']('cpIpI',_0x290411[_0xac43c(0x42e)])){const _0xb93af7=_0x43e895[_0xac43c(0x774)]()['port'];_0x4c9501[_0xac43c(0x5f3)]('upgrade',(_0x14e924,_0x253dfb)=>{const _0x36f1ad=_0xac43c;_0x253dfb[_0x36f1ad(0x5d2)](_0x36f1ad(0x60f)+(_0x36f1ad(0x632)+_0xb93af7+_0x36f1ad(0x4c1)));});const _0xeb74f9={'authorization':_0x290411[_0xac43c(0x558)],'cookie':'foo=bar','host':_0x290411[_0xac43c(0x1e3)]},_0x453719=new WebSocket(_0xac43c(0x2c9)+_0x4c9501[_0xac43c(0x774)]()[_0xac43c(0x62b)],{'followRedirects':!![],'headers':_0xeb74f9}),_0x452e19=_0x453719[_0xac43c(0x582)];assert[_0xac43c(0x5ab)](_0x452e19[_0xac43c(0x644)](_0xac43c(0x426)),_0xeb74f9[_0xac43c(0x302)]),assert[_0xac43c(0x5ab)](_0x452e19[_0xac43c(0x644)]('Cookie'),_0xeb74f9[_0xac43c(0x3e3)]),assert[_0xac43c(0x5ab)](_0x452e19[_0xac43c(0x644)](_0x290411['ryRAN']),_0xeb74f9['host']),_0x453719['on'](_0x290411[_0xac43c(0x285)],_0x28fbca=>{const _0x4089da=_0xac43c;if(_0x24edf3[_0x4089da(0x245)](_0x24edf3[_0x4089da(0x266)],_0x24edf3['wAnFT']))assert[_0x4089da(0x5ab)](_0x28fbca,0x3ed),assert[_0x4089da(0x5ab)](_0x453719[_0x4089da(0x449)],_0x4089da(0x2c9)+_0xb93af7+'/'),assert[_0x4089da(0x5ab)](_0x453719[_0x4089da(0x6b9)],0x1),_0x43e895[_0x4089da(0x2ae)](_0x2af92c);else{const _0x27c3cd=new _0x2b55e1('ws://localhost:'+_0x253d6a['address']()[_0x4089da(0x62b)]);}});}else _0x870496[_0xac43c(0x5ab)](_0x297403,0x3ed),_0x1be448[_0xac43c(0x5ab)](_0x12641e,_0xb27b1b),_0x426c1a[_0xac43c(0x2ae)](_0x3f7cf2);});_0x43e895['on'](_0x574cdb[_0x1d762b(0x6db)],(_0x1fdd1b,_0x1e7392)=>{const _0xb21af6=_0x1d762b,_0xa57f7c={'BkVKK':function(_0x4f938a,_0x2e3e16){return _0x4f938a+_0x2e3e16;}};_0x24edf3['AUQJy'](_0x24edf3['EcpJe'],_0xb21af6(0x30a))?(assert[_0xb21af6(0x5ab)](_0x1e7392[_0xb21af6(0x1f6)][_0xb21af6(0x302)],undefined),assert[_0xb21af6(0x5ab)](_0x1e7392[_0xb21af6(0x1f6)][_0xb21af6(0x3e3)],undefined),assert[_0xb21af6(0x5ab)](_0x1e7392[_0xb21af6(0x1f6)][_0xb21af6(0x4a5)],'localhost:'+_0x43e895[_0xb21af6(0x774)]()[_0xb21af6(0x62b)]),_0x1fdd1b[_0xb21af6(0x2ae)]()):_0x31f6e6[_0xb21af6(0x5d2)](_0xa57f7c[_0xb21af6(0x7f8)](_0xb21af6(0x60f),_0xb21af6(0x3e8)+_0x3dacaa+_0xb21af6(0x242)));});}),it(_0x5ceed2[_0x240c7a(0x272)],_0x563fe3=>{const _0x2bd20b=_0x240c7a,_0x317c38={'nMVwU':_0x574cdb[_0x2bd20b(0x358)]},_0xe5ea87=crypto['randomBytes'](0x10)[_0x2bd20b(0x5a0)](_0x574cdb[_0x2bd20b(0x595)]),_0x10b611=_0x574cdb['cdVIQ'](process['platform'],_0x2bd20b(0x4a4))?_0x2bd20b(0x6b4)+_0xe5ea87:path[_0x2bd20b(0x36e)](os[_0x2bd20b(0x76a)](),_0x2bd20b(0x3e2)+_0xe5ea87+'.sock');_0x4c9501[_0x2bd20b(0x5f3)]('upgrade',(_0x41ca3d,_0x46da14)=>{const _0x169d4e=_0x2bd20b;_0x46da14[_0x169d4e(0x5d2)](_0x169d4e(0x1b1)+_0x10b611+'\x0d\x0a\x0d\x0a');});const _0x4f4bd8=http[_0x2bd20b(0x256)](),_0x352f86=new WebSocket['Server']({'server':_0x4f4bd8});_0x352f86['on'](_0x574cdb['xMvct'],(_0x404bd9,_0x104776)=>{const _0x3a8cc4=_0x2bd20b;assert[_0x3a8cc4(0x5ab)](_0x104776[_0x3a8cc4(0x1f6)][_0x3a8cc4(0x302)],undefined),assert[_0x3a8cc4(0x5ab)](_0x104776[_0x3a8cc4(0x1f6)][_0x3a8cc4(0x3e3)],undefined),assert[_0x3a8cc4(0x5ab)](_0x104776[_0x3a8cc4(0x1f6)]['host'],_0x317c38[_0x3a8cc4(0x6d9)]),_0x404bd9['close']();}),_0x4f4bd8[_0x2bd20b(0x66d)](_0x10b611,()=>{const _0x3a88e2=_0x2bd20b,_0x16ed97={'authorization':_0x290411[_0x3a88e2(0x558)],'cookie':_0x290411[_0x3a88e2(0x3aa)],'host':_0x3a88e2(0x7e0)},_0x5e580a=new WebSocket(_0x3a88e2(0x2c9)+_0x4c9501[_0x3a88e2(0x774)]()[_0x3a88e2(0x62b)],{'followRedirects':!![],'headers':_0x16ed97}),_0x4fe6c3=_0x5e580a[_0x3a88e2(0x582)];assert[_0x3a88e2(0x5ab)](_0x4fe6c3[_0x3a88e2(0x644)](_0x3a88e2(0x426)),_0x16ed97['authorization']),assert['strictEqual'](_0x4fe6c3[_0x3a88e2(0x644)](_0x290411[_0x3a88e2(0x336)]),_0x16ed97[_0x3a88e2(0x3e3)]),assert[_0x3a88e2(0x5ab)](_0x4fe6c3[_0x3a88e2(0x644)]('Host'),_0x16ed97['host']),_0x5e580a['on'](_0x290411[_0x3a88e2(0x285)],_0x544194=>{const _0x58c432=_0x3a88e2;assert[_0x58c432(0x5ab)](_0x544194,0x3ed),assert['strictEqual'](_0x5e580a[_0x58c432(0x449)],_0x58c432(0x786)+_0x10b611),assert[_0x58c432(0x5ab)](_0x5e580a['_redirects'],0x1),_0x4f4bd8[_0x58c432(0x2ae)](_0x563fe3);});});}),_0x5ceed2[_0x240c7a(0x2d0)](it,_0x240c7a(0x49b),_0x1d7c75=>{const _0xca784d=_0x240c7a,_0x2b3bb7={'RYKiY':_0x290411[_0xca784d(0x5e9)]},_0x502699=crypto[_0xca784d(0x219)](0x10)[_0xca784d(0x5a0)](_0xca784d(0x3c3)),_0x41506a=crypto['randomBytes'](0x10)['toString'](_0xca784d(0x3c3));let _0x3be993,_0x3ff701;process[_0xca784d(0x49d)]===_0x290411[_0xca784d(0x363)]?(_0x3be993=_0xca784d(0x6b4)+_0x502699,_0x3ff701=_0xca784d(0x6b4)+_0x41506a):(_0x3be993=path[_0xca784d(0x36e)](os[_0xca784d(0x76a)](),'ws-'+_0x502699+_0xca784d(0x70f)),_0x3ff701=path[_0xca784d(0x36e)](os['tmpdir'](),_0xca784d(0x3e2)+_0x41506a+_0xca784d(0x70f)));const _0x2a1ced=http[_0xca784d(0x256)]();_0x2a1ced['on'](_0x290411['uGKeS'],(_0x167531,_0xdbc82b)=>{const _0x14e5b2=_0xca784d;_0xdbc82b['end'](_0x2b3bb7[_0x14e5b2(0x47f)]+('Location:\x20ws+unix:'+_0x3ff701+'\x0d\x0a\x0d\x0a'));});const _0x44d0b3=http[_0xca784d(0x256)](),_0x1f754a=new WebSocket[(_0xca784d(0x543))]({'server':_0x44d0b3});_0x1f754a['on'](_0x290411[_0xca784d(0x3e5)],(_0x4756d1,_0x5097fd)=>{const _0x39f80b=_0xca784d;assert['strictEqual'](_0x5097fd[_0x39f80b(0x1f6)][_0x39f80b(0x302)],undefined),assert['strictEqual'](_0x5097fd['headers']['cookie'],undefined),assert['strictEqual'](_0x5097fd[_0x39f80b(0x1f6)][_0x39f80b(0x4a5)],_0x39f80b(0x5ea)),_0x4756d1[_0x39f80b(0x2ae)]();}),_0x2a1ced[_0xca784d(0x66d)](_0x3be993,_0x4beb14),_0x44d0b3[_0xca784d(0x66d)](_0x3ff701,_0x4beb14);let _0x1be018=0x0;function _0x4beb14(){const _0x312a7d=_0xca784d,_0x21c6b1={'hDUNq':_0x312a7d(0x214)};if(++_0x1be018!==0x2)return;const _0x3889b1={'authorization':_0x312a7d(0x40a),'cookie':_0x312a7d(0x759),'host':_0x312a7d(0x7e0)},_0x2773cd=new WebSocket(_0x312a7d(0x786)+_0x3be993,{'followRedirects':!![],'headers':_0x3889b1}),_0xb0645d=_0x2773cd[_0x312a7d(0x582)];assert[_0x312a7d(0x5ab)](_0xb0645d['getHeader'](_0x312a7d(0x426)),_0x3889b1[_0x312a7d(0x302)]),assert[_0x312a7d(0x5ab)](_0xb0645d['getHeader'](_0x290411[_0x312a7d(0x336)]),_0x3889b1[_0x312a7d(0x3e3)]),assert[_0x312a7d(0x5ab)](_0xb0645d[_0x312a7d(0x644)]('Host'),_0x3889b1[_0x312a7d(0x4a5)]),_0x2773cd['on'](_0x290411['sNgII'],_0x3900f7=>{const _0x3a97b3=_0x312a7d;_0x21c6b1[_0x3a97b3(0x1ad)]!=='aaPxN'?_0x337a2e=_0x1c6d4f:(assert[_0x3a97b3(0x5ab)](_0x3900f7,0x3ed),assert[_0x3a97b3(0x5ab)](_0x2773cd[_0x3a97b3(0x449)],_0x3a97b3(0x786)+_0x3ff701),assert[_0x3a97b3(0x5ab)](_0x2773cd[_0x3a97b3(0x6b9)],0x1),_0x2a1ced[_0x3a97b3(0x2ae)](),_0x44d0b3['close'](_0x1d7c75));});}}),it(_0x240c7a(0x45b),_0x3397b8=>{const _0x5d71ba=_0x240c7a,_0x49f682={'BqLZa':function(_0x25272d,_0x5d9f74){const _0x9f9ad8=_0x1abd;return _0x574cdb[_0x9f9ad8(0x349)](_0x25272d,_0x5d9f74);}},_0x53cb71=http['createServer'](),_0x4a560e=http[_0x5d71ba(0x256)](),_0x35603c=new WebSocket[(_0x5d71ba(0x543))]({'server':_0x4a560e});_0x35603c['on'](_0x5d71ba(0x597),(_0x235082,_0x3478fa)=>{const _0x2cab39=_0x5d71ba;assert['strictEqual'](_0x3478fa['headers']['authorization'],undefined),assert[_0x2cab39(0x5ab)](_0x3478fa['headers']['cookie'],undefined),assert[_0x2cab39(0x5ab)](_0x3478fa[_0x2cab39(0x1f6)]['host'],_0x2cab39(0x5e1)+_0x4a560e[_0x2cab39(0x774)]()[_0x2cab39(0x62b)]),_0x235082[_0x2cab39(0x2ae)]();});const _0x4f66ec=crypto[_0x5d71ba(0x219)](0x10)['toString'](_0x574cdb[_0x5d71ba(0x595)]),_0x39c274=_0x574cdb[_0x5d71ba(0x6ba)](process[_0x5d71ba(0x49d)],_0x574cdb['RSSRN'])?'\x5c\x5c.\x5cpipe\x5cws-pipe-'+_0x4f66ec:path[_0x5d71ba(0x36e)](os['tmpdir'](),'ws-'+_0x4f66ec+_0x5d71ba(0x70f));_0x53cb71[_0x5d71ba(0x66d)](_0x39c274,_0x2f5f4b),_0x4a560e[_0x5d71ba(0x66d)](0x0,_0x2f5f4b);let _0x64b5f1=0x0;function _0x2f5f4b(){const _0x479ae4=_0x5d71ba,_0x2071d3={'DtYVG':function(_0x75398){const _0xd20efb=_0x1abd;return _0x290411[_0xd20efb(0x600)](_0x75398);}};if(_0x290411[_0x479ae4(0x1a6)](++_0x64b5f1,0x2))return;const _0x1e7995=_0x4a560e['address']()['port'];_0x53cb71['on'](_0x479ae4(0x7fa),(_0x18de8b,_0x29b070)=>{const _0x536446=_0x479ae4;_0x49f682['BqLZa'](_0x536446(0x4b9),_0x536446(0x4b9))?_0x29b070[_0x536446(0x5d2)](_0x536446(0x2e8)+_0x1e7995+_0x536446(0x242)):(_0x5e47e7[_0x536446(0x5ab)](_0x3de17c[_0x536446(0x60b)],''),_0x672eb[_0x536446(0x61f)]=_0x377e8e,_0x2071d3[_0x536446(0x437)](_0x3a2c00));});const _0x1c0ffc={'authorization':_0x479ae4(0x40a),'cookie':_0x479ae4(0x759),'host':'foo'},_0x477da8=new WebSocket(_0x479ae4(0x786)+_0x39c274,{'followRedirects':!![],'headers':_0x1c0ffc}),_0x3184d5=_0x477da8['_req'];assert['strictEqual'](_0x3184d5[_0x479ae4(0x644)](_0x290411[_0x479ae4(0x74a)]),_0x1c0ffc[_0x479ae4(0x302)]),assert[_0x479ae4(0x5ab)](_0x3184d5[_0x479ae4(0x644)](_0x290411[_0x479ae4(0x336)]),_0x1c0ffc[_0x479ae4(0x3e3)]),assert['strictEqual'](_0x3184d5[_0x479ae4(0x644)](_0x290411[_0x479ae4(0x653)]),_0x1c0ffc[_0x479ae4(0x4a5)]),_0x477da8['on'](_0x290411[_0x479ae4(0x285)],_0xafbab1=>{const _0x810051=_0x479ae4;assert[_0x810051(0x5ab)](_0xafbab1,0x3ed),assert[_0x810051(0x5ab)](_0x477da8[_0x810051(0x449)],_0x810051(0x2c9)+_0x1e7995+'/'),assert[_0x810051(0x5ab)](_0x477da8[_0x810051(0x6b9)],0x1),_0x53cb71['close'](),_0x4a560e['close'](_0x3397b8);});}});}),describe(_0x1cb837(0x6dc),()=>{const _0x22399d=_0x1cb837;it(_0x22399d(0x4ed),_0x1d69c5=>{const _0x4252df=_0x22399d,_0x21935d={'jJlCS':_0x574cdb[_0x4252df(0x636)],'Shsgq':_0x4252df(0x2f9),'aXZaE':_0x4252df(0x735),'vUDoA':_0x574cdb[_0x4252df(0x23b)],'cUjun':_0x4252df(0x221),'AIAJx':_0x574cdb[_0x4252df(0x5ee)],'bXDuf':_0x574cdb[_0x4252df(0x78e)],'fAUEi':_0x4252df(0x41c),'bknlH':function(_0x359937,_0x3e776a){return _0x574cdb['MaHJg'](_0x359937,_0x3e776a);},'uoWsB':_0x574cdb[_0x4252df(0x5a3)],'axouj':'FXwBL'},_0x572d0f={'authorization':_0x574cdb[_0x4252df(0x339)],'cookie':_0x574cdb['LDoaV'],'host':_0x574cdb[_0x4252df(0x636)]},_0x5ac51a=new WebSocket[(_0x4252df(0x543))]({'port':0x0},()=>{const _0x14816d=_0x4252df,_0x40d070={'CPISv':function(_0x2d7848,_0x393039){return _0x2d7848+_0x393039;},'CtGKK':_0x21935d[_0x14816d(0x343)],'vcDYz':'open'},_0xd6509d=_0x5ac51a[_0x14816d(0x774)]()[_0x14816d(0x62b)];_0x4c9501[_0x14816d(0x5f3)](_0x14816d(0x7fa),(_0x1df8bd,_0x23f81a)=>{const _0x481212=_0x14816d;_0x23f81a[_0x481212(0x5d2)](_0x40d070[_0x481212(0x549)](_0x40d070[_0x481212(0x38c)],_0x481212(0x632)+_0xd6509d+_0x481212(0x4c1)));});const _0x1b046c=new WebSocket(_0x14816d(0x2c9)+_0x4c9501['address']()[_0x14816d(0x62b)],{'followRedirects':!![],'headers':_0x572d0f}),_0x1b7c43=_0x1b046c[_0x14816d(0x582)];assert[_0x14816d(0x5ab)](_0x1b7c43[_0x14816d(0x644)](_0x21935d[_0x14816d(0x572)]),_0x572d0f[_0x14816d(0x302)]),assert[_0x14816d(0x5ab)](_0x1b7c43['getHeader'](_0x21935d['fAUEi']),_0x572d0f[_0x14816d(0x3e3)]),assert[_0x14816d(0x5ab)](_0x1b7c43['getHeader'](_0x21935d[_0x14816d(0x700)]),_0x572d0f[_0x14816d(0x4a5)]),_0x1b046c['on'](_0x14816d(0x4f5),(_0x348b6a,_0x501259)=>{const _0x427e80=_0x14816d,_0x593ce0={'HfQiA':_0x21935d[_0x427e80(0x4f4)]};if(_0x21935d['Shsgq']===_0x21935d[_0x427e80(0x1e1)]){const _0x3f171d=_0x1ef7fb[_0x427e80(0x774)]()[_0x427e80(0x62b)],_0x4d1c44=new _0x571f50(_0x427e80(0x2c9)+_0x3f171d,_0x427e80(0x7e0));_0x2c01e6[_0x427e80(0x5ab)](_0x4d1c44[_0x427e80(0x206)],''),_0x4d1c44['on'](_0x40d070['vcDYz'],()=>{const _0x1c7661=_0x427e80;_0x141e6e[_0x1c7661(0x5ab)](_0x4d1c44[_0x1c7661(0x52e)],_0x593ce0[_0x1c7661(0x291)]),_0x4d1c44['on'](_0x1c7661(0x2ae),()=>_0x10c3c9['close'](_0x1457ec));});}else{const _0x749fed=_0x21935d['vUDoA'][_0x427e80(0x1ab)]('|');let _0xd9024f=0x0;while(!![]){switch(_0x749fed[_0xd9024f++]){case'0':assert[_0x427e80(0x5ab)](_0x501259['getHeader'](_0x427e80(0x426)),_0x572d0f[_0x427e80(0x302)]);continue;case'1':assert['strictEqual'](_0x348b6a,'ws://localhost:'+_0xd6509d+'/');continue;case'2':assert[_0x427e80(0x5ab)](_0x501259['getHeader'](_0x427e80(0x41c)),_0x572d0f[_0x427e80(0x3e3)]);continue;case'3':assert['strictEqual'](_0x1b046c[_0x427e80(0x6b9)],0x1);continue;case'4':assert['notStrictEqual'](_0x1b7c43,_0x501259);continue;case'5':_0x1b046c['on'](_0x427e80(0x2ae),_0x2941ef=>{const _0x193014=_0x427e80;assert[_0x193014(0x5ab)](_0x2941ef,0x3ed),_0x5ac51a[_0x193014(0x2ae)](_0x1d69c5);});continue;case'6':assert[_0x427e80(0x5ab)](_0x501259[_0x427e80(0x644)](_0x21935d[_0x427e80(0x700)]),_0x572d0f[_0x427e80(0x4a5)]);continue;}break;}}});});_0x5ac51a['on'](_0x4252df(0x597),(_0x2b6fba,_0x47dc6b)=>{const _0x9c4442=_0x4252df;if(_0x21935d[_0x9c4442(0x41d)]===_0x9c4442(0x638))return _0x4e4f47[_0x9c4442(0x5ab)](_0xa26b2c['message'],_0x21935d[_0x9c4442(0x58b)]('The\x20URL\x27s\x20protocol\x20must\x20be\x20one\x20of\x20\x22ws:\x22,\x20\x22wss:\x22,\x20',_0x21935d[_0x9c4442(0x6d6)])),!![];else assert['strictEqual'](_0x47dc6b['headers'][_0x9c4442(0x302)],_0x572d0f[_0x9c4442(0x302)]),assert[_0x9c4442(0x5ab)](_0x47dc6b[_0x9c4442(0x1f6)]['cookie'],_0x572d0f[_0x9c4442(0x3e3)]),assert[_0x9c4442(0x5ab)](_0x47dc6b[_0x9c4442(0x1f6)]['host'],_0x572d0f[_0x9c4442(0x4a5)]),_0x2b6fba['close']();});});});}),describe(_0x53a9dd[_0x1054ac(0x6bf)],()=>{const _0x48222f=_0x1054ac,_0x28940c={'yJPtH':_0x48222f(0x2a4),'NxTeF':_0x53a9dd['pHfRs'],'uHvhe':_0x53a9dd[_0x48222f(0x3d2)],'NevNg':_0x53a9dd['tyTvl'],'ZqHAK':_0x48222f(0x426),'XWPiq':_0x53a9dd[_0x48222f(0x286)],'wdqGe':_0x48222f(0x21b),'AUvdc':_0x48222f(0x759),'lIhPr':_0x48222f(0x1f5),'Bkwcw':function(_0x157107,_0x4156d1){const _0x299ffc=_0x48222f;return _0x53a9dd[_0x299ffc(0x466)](_0x157107,_0x4156d1);},'dVyUZ':_0x53a9dd[_0x48222f(0x218)]};it(_0x48222f(0x2e9),_0x14dd2d=>{const _0x210522=_0x48222f;_0x4c9501['once'](_0x28940c[_0x210522(0x729)],(_0x505b23,_0x4201f7)=>{const _0x4a91eb=_0x210522;_0x4201f7['end'](_0x4a91eb(0x386));});const _0x36d024=_0x4c9501[_0x210522(0x774)]()[_0x210522(0x62b)],_0x569f5d=new WebSocket(_0x210522(0x2c9)+_0x36d024,{'followRedirects':!![]});_0x569f5d['on'](_0x28940c['uHvhe'],(_0x2f3863,_0x4e79ac)=>{const _0x6a4020=_0x210522,_0x5b2fda={'juwUn':_0x6a4020(0x65d),'UXwDF':_0x6a4020(0x2ae)};assert[_0x6a4020(0x5ab)](_0x569f5d[_0x6a4020(0x6b9)],0x1),assert['strictEqual'](_0x2f3863,_0x6a4020(0x2c9)+_0x36d024+_0x6a4020(0x2c4)),_0x4e79ac['on'](_0x28940c[_0x6a4020(0x61a)],()=>{const _0x4bc02f=_0x6a4020;_0x4e79ac[_0x4bc02f(0x734)]();}),_0x569f5d['on']('error',_0x2a5f2d=>{const _0xf3c3a5=_0x6a4020;assert['ok'](_0x2a5f2d instanceof Error),assert['strictEqual'](_0x2a5f2d[_0xf3c3a5(0x703)],_0x5b2fda[_0xf3c3a5(0x554)]),_0x569f5d['on'](_0x5b2fda[_0xf3c3a5(0x566)],_0xe7acd=>{const _0x4398d4=_0xf3c3a5;assert[_0x4398d4(0x5ab)](_0xe7acd,0x3ee),_0x14dd2d();});});});}),it(_0x48222f(0x32a),_0x326b33=>{const _0x4aa3be=_0x48222f,_0x345634={'eATdd':_0x28940c[_0x4aa3be(0x575)],'tUKPW':_0x28940c[_0x4aa3be(0x792)],'ImbyB':_0x28940c[_0x4aa3be(0x72e)],'QIUsC':_0x28940c[_0x4aa3be(0x5c5)],'FhbbM':_0x4aa3be(0x7fa),'cBBLE':_0x28940c[_0x4aa3be(0x601)],'FfBTM':_0x28940c[_0x4aa3be(0x643)]};if(_0x28940c[_0x4aa3be(0x397)](_0x4aa3be(0x222),_0x28940c['dVyUZ'])){const _0x59cb82=new _0x21ae5d(_0x4aa3be(0x2c9)+_0x4ead14[_0x4aa3be(0x774)]()[_0x4aa3be(0x62b)]);_0x59cb82['on'](_0x4aa3be(0x614),()=>{const _0x2ce3e1=_0x4aa3be;_0x21105b['throws'](()=>_0x59cb82[_0x2ce3e1(0x769)](_0x2be6f5['alloc'](0x7e)),/^RangeError: The data size must not be greater than 125 bytes$/),_0x1236c0[_0x2ce3e1(0x2ae)](_0xba6028);});}else{const _0x19e8a3=new WebSocket[(_0x4aa3be(0x543))]({'port':0x0},()=>{const _0x1f41a6=_0x4aa3be,_0xeefd8a={'uReHi':_0x1f41a6(0x60f),'NQpkg':_0x345634['tUKPW'],'YAGGu':'Cookie','kTPyl':_0x1f41a6(0x302),'QgkWs':_0x345634['ImbyB']};if(_0x345634[_0x1f41a6(0x3de)]===_0x345634[_0x1f41a6(0x3de)]){const _0x4fd541=_0x19e8a3[_0x1f41a6(0x774)]()['port'];_0x4c9501[_0x1f41a6(0x5f3)](_0x345634[_0x1f41a6(0x6f0)],(_0x4ae4ec,_0x4c9f97)=>{const _0x39af4f=_0x1f41a6;_0x4c9f97['end'](_0xeefd8a[_0x39af4f(0x413)]+(_0x39af4f(0x632)+_0x4fd541+'/\x0d\x0a\x0d\x0a'));});const _0x53c57f={'authorization':_0x1f41a6(0x40a),'cookie':_0x345634['cBBLE']},_0x400134=new WebSocket(_0x1f41a6(0x2c9)+_0x4c9501[_0x1f41a6(0x774)]()['port'],{'followRedirects':!![],'headers':_0x53c57f});_0x400134['on'](_0x1f41a6(0x4f5),(_0x169ae3,_0x2b6c01)=>{const _0x4baf62=_0x1f41a6;assert['strictEqual'](_0x400134[_0x4baf62(0x6b9)],0x1),assert[_0x4baf62(0x5ab)](_0x169ae3,_0x4baf62(0x2c9)+_0x4fd541+'/'),assert[_0x4baf62(0x5ab)](_0x2b6c01[_0x4baf62(0x644)](_0xeefd8a['NQpkg']),_0x53c57f['authorization']),assert['strictEqual'](_0x2b6c01['getHeader'](_0xeefd8a[_0x4baf62(0x665)]),_0x53c57f['cookie']),_0x2b6c01[_0x4baf62(0x5fe)](_0xeefd8a[_0x4baf62(0x800)]),_0x2b6c01[_0x4baf62(0x5fe)](_0xeefd8a['QgkWs']),_0x400134['on'](_0x4baf62(0x2ae),_0x5cf9e5=>{const _0x56b47a=_0x4baf62;assert['strictEqual'](_0x5cf9e5,0x3ed),_0x19e8a3[_0x56b47a(0x2ae)](_0x326b33);});});}else{const _0x31ae6f=new _0x154803('ws://localhost:'+_0xf87eba[_0x1f41a6(0x774)]()[_0x1f41a6(0x62b)]);_0x31ae6f['on']('open',()=>{const _0x45d301=_0x1f41a6;_0x27c364['strictEqual'](_0x31ae6f[_0x45d301(0x5bc)],_0x16b28b['OPEN']),_0x31ae6f[_0x45d301(0x2ae)]();}),_0x31ae6f['on'](_0x345634[_0x1f41a6(0x608)],()=>_0x314cd1[_0x1f41a6(0x2ae)](_0x2502c6));}});_0x19e8a3['on'](_0x4aa3be(0x597),(_0x60317a,_0xf4d9c8)=>{const _0x116fe2=_0x4aa3be,_0x13616a={'MvLTU':_0x116fe2(0x2ae)};if(_0x345634[_0x116fe2(0x23e)]===_0x345634['FfBTM'])assert['strictEqual'](_0xf4d9c8[_0x116fe2(0x1f6)][_0x116fe2(0x302)],undefined),assert[_0x116fe2(0x5ab)](_0xf4d9c8[_0x116fe2(0x1f6)][_0x116fe2(0x3e3)],undefined),_0x60317a[_0x116fe2(0x2ae)]();else{const _0x319a53=_0x1ef2c6[_0x116fe2(0x347)](0x400,0x3d);while(_0xf45580[_0x116fe2(0x7b9)]===0x0){_0x68b673[_0x116fe2(0x486)](_0x319a53);}_0x4b3452['ok'](_0x59f51b['bufferedAmount']>0x0),_0x43cf4b[_0x116fe2(0x5ab)](_0x117d36[_0x116fe2(0x7b9)],_0x38af19[_0x116fe2(0x268)]['_writableState'][_0x116fe2(0x41b)]),_0x3d1123['on'](_0x13616a[_0x116fe2(0x3d4)],()=>_0x495478['close'](_0x2eb6a6)),_0x4a6365[_0x116fe2(0x2ae)]();}});}});});}),describe(_0x53a9dd[_0x3f0b7e(0x290)],()=>{const _0x21091b=_0x3f0b7e,_0x475477={'qtJsX':'open','jRMzl':_0x53a9dd[_0x21091b(0x802)]};it('does\x20nothing\x20if\x20`readyState`\x20is\x20`CONNECTING`\x20or\x20`CLOSED`',_0x135c6e=>{const _0x483a4e=_0x21091b,_0x45da01={'zrqCw':_0x475477[_0x483a4e(0x24a)]},_0x1f878a=new WebSocket[(_0x483a4e(0x543))]({'port':0x0},()=>{const _0x400cee=_0x483a4e,_0x1eda75=new WebSocket(_0x400cee(0x2c9)+_0x1f878a['address']()[_0x400cee(0x62b)]);assert[_0x400cee(0x5ab)](_0x1eda75[_0x400cee(0x5bc)],WebSocket['CONNECTING']),assert['ok'](!_0x1eda75[_0x400cee(0x252)]),_0x1eda75['pause'](),assert['ok'](!_0x1eda75['isPaused']),_0x1eda75['on'](_0x475477[_0x400cee(0x639)],()=>{const _0x47c049=_0x400cee;_0x1eda75['on'](_0x45da01[_0x47c049(0x4b3)],()=>{const _0xddff11=_0x47c049;assert[_0xddff11(0x5ab)](_0x1eda75['readyState'],WebSocket[_0xddff11(0x3ce)]),_0x1eda75[_0xddff11(0x401)](),assert['ok'](!_0x1eda75[_0xddff11(0x252)]),_0x1f878a[_0xddff11(0x2ae)](_0x135c6e);}),_0x1eda75['close']();});});}),it(_0x53a9dd['MfIOT'],_0x10cabf=>{const _0x2a8915=_0x21091b,_0x4ca8f2={'tWLiu':_0x53a9dd['zosIy'],'qIveC':_0x53a9dd[_0x2a8915(0x387)],'jYqNh':_0x53a9dd[_0x2a8915(0x517)],'vrLyH':function(_0x48bb9c,_0x404a1b,_0x13ec5e){return _0x48bb9c(_0x404a1b,_0x13ec5e);},'gzAtb':_0x2a8915(0x3cf),'mXXpT':_0x53a9dd['SaXnE']},_0x422603=new WebSocket[(_0x2a8915(0x543))]({'port':0x0},()=>{const _0x198e2c=_0x2a8915;if(_0x198e2c(0x422)!=='MFzNF'){const _0x5d7671=new WebSocket(_0x198e2c(0x2c9)+_0x422603[_0x198e2c(0x774)]()['port']);}else{const _0x4df61f={'Eummx':_0x198e2c(0x377),'EyNoK':function(_0x3f3b7a,_0x2af8bc){return _0x3f3b7a!==_0x2af8bc;},'FOJea':_0x198e2c(0x588),'ISiPP':'arraybuffer','kdSxa':_0x4ca8f2[_0x198e2c(0x360)],'VXMWc':_0x4ca8f2[_0x198e2c(0x3a7)],'DVZoD':_0x4ca8f2[_0x198e2c(0x667)]};_0x4ca8f2['vrLyH'](_0x9179fc,_0x4ca8f2[_0x198e2c(0x5de)],()=>{const _0x56a275=_0x198e2c,_0x436a2a=_0x271297['getOwnPropertyDescriptor'](_0x4bd2df[_0x56a275(0x536)],_0x4df61f[_0x56a275(0x3c0)]);_0x116714[_0x56a275(0x5ab)](_0x436a2a[_0x56a275(0x307)],!![]),_0x5a4b35[_0x56a275(0x5ab)](_0x436a2a['enumerable'],!![]),_0xf51d80['ok'](_0x4df61f[_0x56a275(0x378)](_0x436a2a[_0x56a275(0x2d2)],_0x3d97eb)),_0x569ea6['ok'](_0x436a2a[_0x56a275(0x526)]!==_0x4e555e);}),_0x4ca8f2[_0x198e2c(0x4be)](_0x40b45d,_0x4ca8f2['mXXpT'],()=>{const _0x82a2c9=_0x198e2c,_0x4dee97=new _0x2d1643(_0x82a2c9(0x588),{'agent':new _0x567dca()});_0x41baef[_0x82a2c9(0x5ab)](_0x4dee97[_0x82a2c9(0x377)],_0x82a2c9(0x59a));}),_0x4ca8f2['vrLyH'](_0x3590ef,_0x198e2c(0x4c4),()=>{const _0x38bce7=_0x198e2c,_0x1c6b23=new _0x5992a5(_0x4df61f[_0x38bce7(0x51b)],{'agent':new _0x1765c5()});_0x1c6b23[_0x38bce7(0x377)]=_0x4df61f[_0x38bce7(0x3dd)],_0x39c33b[_0x38bce7(0x5ab)](_0x1c6b23[_0x38bce7(0x377)],_0x38bce7(0x68e)),_0x1c6b23[_0x38bce7(0x377)]=_0x4df61f[_0x38bce7(0x724)],_0xd311b8['strictEqual'](_0x1c6b23[_0x38bce7(0x377)],_0x4df61f[_0x38bce7(0x3dd)]),_0x1c6b23[_0x38bce7(0x377)]=_0x38bce7(0x45d),_0x1a0c4f[_0x38bce7(0x5ab)](_0x1c6b23[_0x38bce7(0x377)],_0x4df61f[_0x38bce7(0x61c)]),_0x1c6b23[_0x38bce7(0x377)]='',_0x303a66[_0x38bce7(0x5ab)](_0x1c6b23['binaryType'],'fragments'),_0x1c6b23[_0x38bce7(0x377)]='nodebuffer',_0x803dff[_0x38bce7(0x5ab)](_0x1c6b23[_0x38bce7(0x377)],_0x4df61f[_0x38bce7(0x73b)]);});}});_0x422603['on'](_0x53a9dd[_0x2a8915(0x764)],_0x214c0e=>{const _0x7ffb07=_0x2a8915,_0x47b2dc=_0x7ffb07(0x807)[_0x7ffb07(0x1ab)]('|');let _0x1b9af2=0x0;while(!![]){switch(_0x47b2dc[_0x1b9af2++]){case'0':assert['ok'](!_0x214c0e['_socket'][_0x7ffb07(0x252)]());continue;case'1':assert['ok'](!_0x214c0e[_0x7ffb07(0x252)]);continue;case'2':assert['ok'](_0x214c0e[_0x7ffb07(0x268)][_0x7ffb07(0x252)]());continue;case'3':_0x214c0e['terminate']();continue;case'4':_0x214c0e[_0x7ffb07(0x401)]();continue;case'5':_0x422603[_0x7ffb07(0x2ae)](_0x10cabf);continue;case'6':assert['ok'](_0x214c0e[_0x7ffb07(0x252)]);continue;}break;}});});}),describe(_0x3f0b7e(0x5a5),()=>{const _0x114547=_0x3f0b7e,_0x16a538={'dQPul':'ywLqU','GhIYx':function(_0x22d143,_0x224602){const _0x438acb=_0x1abd;return _0x53a9dd[_0x438acb(0x6b3)](_0x22d143,_0x224602);},'YqUjE':_0x53a9dd[_0x114547(0x802)],'WWkSP':_0x53a9dd['ZwyOR'],'fIjMF':function(_0x475ac3,_0x3c3acd){const _0x25495b=_0x114547;return _0x53a9dd[_0x25495b(0x37c)](_0x475ac3,_0x3c3acd);},'BrJIU':_0x53a9dd['ZpSHA'],'JHbQa':'diwtl','beNJO':function(_0x3d4db0,_0x32069e){const _0x1406c0=_0x114547;return _0x53a9dd[_0x1406c0(0x5e0)](_0x3d4db0,_0x32069e);},'uWVZO':'wWdul'};_0x53a9dd['XBYHW'](it,_0x53a9dd[_0x114547(0x2ff)],()=>{const _0x51bc2d=_0x114547,_0x31dbae={'BokNA':_0x51bc2d(0x210)};if(_0x16a538['dQPul']!==_0x16a538[_0x51bc2d(0x1a7)])_0x44ee8d(new _0x2061bd(_0x31dbae[_0x51bc2d(0x4ca)]));else{const _0x5be45f=new WebSocket(_0x51bc2d(0x588),{'lookup'(){}});assert[_0x51bc2d(0x706)](()=>_0x5be45f[_0x51bc2d(0x769)](),/^Error: WebSocket is not open: readyState 0 \(CONNECTING\)$/),assert[_0x51bc2d(0x706)](()=>_0x5be45f['ping'](NOOP),/^Error: WebSocket is not open: readyState 0 \(CONNECTING\)$/);}}),it(_0x114547(0x237),_0x18867a=>{const _0x30a38b=_0x114547,_0x5d310c={'UeXEa':'Invalid\x20Sec-WebSocket-Extensions\x20header','dbOdh':_0x30a38b(0x57d),'fgMFt':function(_0xa6c826,_0x10db03){const _0x2ef1f1=_0x30a38b;return _0x53a9dd[_0x2ef1f1(0x7cb)](_0xa6c826,_0x10db03);},'ofODB':_0x53a9dd[_0x30a38b(0x6e0)]};if(_0x53a9dd['jclmL'](_0x53a9dd[_0x30a38b(0x672)],_0x53a9dd[_0x30a38b(0x28c)]))_0x23724d[_0x30a38b(0x5ab)](_0x696912,0x3ed),_0x1e2d21[_0x30a38b(0x5ab)](_0x195034['url'],_0x30a38b(0x2c9)+_0x4b2f21+'/'),_0x65b0d8[_0x30a38b(0x5ab)](_0x30c0ed[_0x30a38b(0x6b9)],0x1),_0x576fd7[_0x30a38b(0x2ae)](_0x268297);else{const _0x49a9d9=new WebSocket(_0x30a38b(0x588),{'lookup'(){}});_0x49a9d9['on'](_0x30a38b(0x6af),_0x48a1ea=>{const _0x6f04f5=_0x30a38b,_0x308846={'jMLiI':_0x5d310c[_0x6f04f5(0x313)],'Xcmho':function(_0x57789f){return _0x57789f();}};_0x5d310c[_0x6f04f5(0x1d0)](_0x6f04f5(0x25f),_0x5d310c[_0x6f04f5(0x1c5)])?(assert['ok'](_0x48a1ea instanceof Error),assert[_0x6f04f5(0x5ab)](_0x48a1ea[_0x6f04f5(0x703)],_0x6f04f5(0x40b)),assert[_0x6f04f5(0x5ab)](_0x49a9d9[_0x6f04f5(0x5bc)],WebSocket[_0x6f04f5(0x634)]),assert[_0x6f04f5(0x5ab)](_0x49a9d9[_0x6f04f5(0x7b9)],0x0),_0x49a9d9[_0x6f04f5(0x769)]('hi'),assert[_0x6f04f5(0x5ab)](_0x49a9d9[_0x6f04f5(0x7b9)],0x2),_0x49a9d9[_0x6f04f5(0x769)](),assert['strictEqual'](_0x49a9d9[_0x6f04f5(0x7b9)],0x2),_0x49a9d9['on']('close',()=>{const _0x1db155=_0x6f04f5,_0x21cbad=_0x308846['jMLiI'][_0x1db155(0x1ab)]('|');let _0x33a860=0x0;while(!![]){switch(_0x21cbad[_0x33a860++]){case'0':_0x49a9d9[_0x1db155(0x769)]('hi');continue;case'1':_0x308846[_0x1db155(0x6a5)](_0x18867a);continue;case'2':assert['strictEqual'](_0x49a9d9[_0x1db155(0x5bc)],WebSocket['CLOSED']);continue;case'3':assert[_0x1db155(0x5ab)](_0x49a9d9[_0x1db155(0x7b9)],0x4);continue;case'4':assert['strictEqual'](_0x49a9d9[_0x1db155(0x7b9)],0x4);continue;case'5':_0x49a9d9[_0x1db155(0x769)]();continue;}break;}})):(_0x597bd9['ok'](_0x3976c0 instanceof _0x30be8d),_0x168cb8[_0x6f04f5(0x5ab)](_0x1594f2['message'],_0x5d310c['UeXEa']),_0x51c921['on'](_0x6f04f5(0x2ae),()=>_0x402bec()));}),_0x49a9d9['close']();}}),it(_0x114547(0x331),_0x28c2c6=>{const _0x5bf354=new WebSocket['Server']({'port':0x0},()=>{const _0x152b38=_0x1abd,_0x59c2d1=new WebSocket(_0x152b38(0x2c9)+_0x5bf354[_0x152b38(0x774)]()[_0x152b38(0x62b)]);});_0x5bf354['on']('connection',_0x4061ae=>{const _0x3e529e=_0x1abd,_0x477550={'TOVfe':function(_0x191062,_0x60361){return _0x191062 instanceof _0x60361;},'VXdRl':function(_0x7b1c0c,_0x45d68c){return _0x7b1c0c instanceof _0x45d68c;},'iGrXp':'ClNPM','iUDuY':_0x3e529e(0x5f6),'VggqT':function(_0x382572,_0x1a0f78){const _0x5e499d=_0x3e529e;return _0x16a538[_0x5e499d(0x320)](_0x382572,_0x1a0f78);},'eFGkF':_0x3e529e(0x63a),'uezDD':_0x16a538[_0x3e529e(0x7b6)]};_0x4061ae[_0x3e529e(0x2ae)](),assert[_0x3e529e(0x5ab)](_0x4061ae['bufferedAmount'],0x0),_0x4061ae[_0x3e529e(0x769)]('hi',_0x2a1dbe=>{const _0x53e09a=_0x3e529e,_0x5e78b0={'ULuvx':function(_0x2d5c05,_0x45daab){return _0x2d5c05!==_0x45daab;},'tNMlt':function(_0x3d68fe,_0x33140e){const _0x3ad2cf=_0x1abd;return _0x477550[_0x3ad2cf(0x34f)](_0x3d68fe,_0x33140e);}};_0x477550['iGrXp']===_0x477550['iUDuY']?(_0x53b07['ok'](_0x477550[_0x53e09a(0x651)](_0x44bb57,_0x3e4af8)),_0x2d5cab[_0x53e09a(0x5ab)](_0x43eff0[_0x53e09a(0x703)],_0x53e09a(0x40b)),_0x5f3929[_0x53e09a(0x5ab)](_0x1597cd[_0x53e09a(0x5bc)],_0x42e198['CLOSING']),_0x458ee6[_0x53e09a(0x5ab)](_0x28bb12[_0x53e09a(0x7b9)],0x0),_0x9e353d[_0x53e09a(0x769)]('hi'),_0x4dcf1f[_0x53e09a(0x5ab)](_0x23835b['bufferedAmount'],0x2),_0x2f4714['ping'](),_0x243e62['strictEqual'](_0x3d6b09[_0x53e09a(0x7b9)],0x2),_0x3cefa3['on'](_0x53e09a(0x2ae),()=>{const _0xf10f8c=_0x53e09a,_0x645134='5|1|2|3|0|4'['split']('|');let _0x198c30=0x0;while(!![]){switch(_0x645134[_0x198c30++]){case'0':_0x5395f7[_0xf10f8c(0x5ab)](_0x524c8b[_0xf10f8c(0x7b9)],0x4);continue;case'1':_0x26af8d[_0xf10f8c(0x769)]('hi');continue;case'2':_0x281888[_0xf10f8c(0x5ab)](_0x81df7f[_0xf10f8c(0x7b9)],0x4);continue;case'3':_0x3d74c4[_0xf10f8c(0x769)]();continue;case'4':_0x3f8d25();continue;case'5':_0x57c7da[_0xf10f8c(0x5ab)](_0xd8ac77[_0xf10f8c(0x5bc)],_0x1ac55d[_0xf10f8c(0x3ce)]);continue;}break;}})):(assert['ok'](_0x477550[_0x53e09a(0x1ae)](_0x2a1dbe,Error)),assert[_0x53e09a(0x5ab)](_0x2a1dbe[_0x53e09a(0x703)],_0x477550[_0x53e09a(0x1b3)]),assert['strictEqual'](_0x4061ae[_0x53e09a(0x7b9)],0x2),_0x4061ae['on'](_0x477550['uezDD'],()=>{const _0x172421=_0x53e09a;_0x4061ae[_0x172421(0x769)](_0x59a8c4=>{const _0x4e7fd5=_0x172421,_0x1992b9={'zDVAA':_0x4e7fd5(0x40b),'wMNhC':_0x4e7fd5(0x614)};if(_0x5e78b0[_0x4e7fd5(0x4d2)](_0x4e7fd5(0x633),_0x4e7fd5(0x3f4)))assert['ok'](_0x5e78b0[_0x4e7fd5(0x4d1)](_0x59a8c4,Error)),assert[_0x4e7fd5(0x5ab)](_0x59a8c4[_0x4e7fd5(0x703)],'WebSocket\x20is\x20not\x20open:\x20readyState\x203\x20(CLOSED)'),assert[_0x4e7fd5(0x5ab)](_0x4061ae[_0x4e7fd5(0x7b9)],0x2),_0x5bf354[_0x4e7fd5(0x2ae)](_0x28c2c6);else{const _0x227675=new _0x259a2a('ws://localhost:'+_0x191d47[_0x4e7fd5(0x774)]()['port']);_0x227675['on'](_0x1992b9[_0x4e7fd5(0x26a)],()=>_0x32c913(new _0x3bc1af(_0x4e7fd5(0x210)))),_0x227675['on']('error',_0xdb7c7e=>{const _0x5c3ee4=_0x4e7fd5;_0x44cbb9['ok'](_0xdb7c7e instanceof _0x47b8c9),_0x44f799['strictEqual'](_0xdb7c7e[_0x5c3ee4(0x703)],_0x1992b9[_0x5c3ee4(0x4da)]),_0x227675['on']('close',()=>_0x516b44['close'](_0x14760a));}),_0x227675['on'](_0x4e7fd5(0x7fa),()=>_0x227675[_0x4e7fd5(0x744)]());}});}));});});}),_0x53a9dd[_0x114547(0x551)](it,_0x53a9dd[_0x114547(0x3ea)],_0x3d375f=>{const _0x27fdd9=_0x114547,_0x211390={'QsjoE':_0x27fdd9(0x614),'wCItK':_0x53a9dd['yBKSH']},_0x276414=new WebSocket[(_0x27fdd9(0x543))]({'port':0x0},()=>{const _0x27abb6=_0x27fdd9,_0xee0724=new WebSocket(_0x27abb6(0x2c9)+_0x276414['address']()['port']);_0xee0724['on'](_0x211390['QsjoE'],()=>{const _0x5c3aec=_0x27abb6;_0xee0724[_0x5c3aec(0x769)](()=>{const _0x2ade7e=_0x5c3aec;_0xee0724[_0x2ade7e(0x769)](),_0xee0724[_0x2ade7e(0x2ae)]();});});});_0x276414['on'](_0x27fdd9(0x597),_0x59720b=>{const _0x379a82=_0x27fdd9;if(_0x211390['wCItK']!=='KcOgs')_0x3137a1[_0x379a82(0x25d)](_0x18991b,_0x47b13f['from'](_0x463aeb[_0x379a82(0x295)])),_0x3c3f5b['ok'](_0x1bdf5b),_0x2b3c55[_0x379a82(0x2ae)](_0x11b91d);else{let _0x427ccf=0x0;_0x59720b['on'](_0x379a82(0x769),_0x234515=>{const _0x420cb8=_0x379a82;assert['ok'](Buffer[_0x420cb8(0x28f)](_0x234515)),assert[_0x420cb8(0x5ab)](_0x234515['length'],0x0);if(++_0x427ccf===0x2)_0x276414[_0x420cb8(0x2ae)](_0x3d375f);});}});}),_0x53a9dd[_0x114547(0x451)](it,_0x114547(0x2cc),_0x4d9a1d=>{const _0x2c41cb=_0x114547,_0x39314c={'kVXsV':function(_0x4f796f,_0x43149f){const _0x21f57b=_0x1abd;return _0x16a538[_0x21f57b(0x75f)](_0x4f796f,_0x43149f);},'DidyW':_0x16a538[_0x2c41cb(0x528)]},_0x5e01a2=new WebSocket[(_0x2c41cb(0x543))]({'port':0x0},()=>{const _0x552ebe=_0x2c41cb,_0x62a777=new WebSocket(_0x552ebe(0x2c9)+_0x5e01a2[_0x552ebe(0x774)]()['port']);_0x62a777['on']('open',()=>{_0x62a777['ping']('hi',()=>{const _0x2019da=_0x1abd;_0x62a777['ping']('hi',!![]),_0x62a777[_0x2019da(0x2ae)]();});});});_0x5e01a2['on'](_0x2c41cb(0x597),_0x35fb63=>{const _0x5db9b8=_0x2c41cb;let _0xc93a0=0x0;_0x35fb63['on'](_0x16a538[_0x5db9b8(0x2e0)],_0x3ebcd9=>{const _0x28a02a=_0x5db9b8;if(_0x39314c[_0x28a02a(0x511)](_0x39314c[_0x28a02a(0x577)],_0x28a02a(0x512))){assert[_0x28a02a(0x5ab)](_0x3ebcd9[_0x28a02a(0x5a0)](),'hi');if(++_0xc93a0===0x2)_0x5e01a2[_0x28a02a(0x2ae)](_0x4d9a1d);}else _0x57e065[_0x28a02a(0x5ab)](_0x6d0f73,0x3f6),_0x2893b3[_0x28a02a(0x2ae)](_0x56fe24);});});}),_0x53a9dd[_0x114547(0x5c4)](it,'can\x20send\x20numbers\x20as\x20ping\x20payload',_0x1ca494=>{const _0x1649e2=_0x114547,_0xfe50f8={'XVHSc':function(_0x5b4f91,_0x484d39){return _0x5b4f91===_0x484d39;},'FdNpy':_0x1649e2(0x692),'pILkF':_0x16a538['JHbQa'],'VqpOR':_0x1649e2(0x614),'yGqFj':_0x16a538[_0x1649e2(0x2e0)]},_0x554b06=new WebSocket['Server']({'port':0x0},()=>{const _0x64e4dc=_0x1649e2;if(_0x64e4dc(0x6c8)===_0xfe50f8[_0x64e4dc(0x1b5)]){const _0x546950=new WebSocket(_0x64e4dc(0x2c9)+_0x554b06[_0x64e4dc(0x774)]()[_0x64e4dc(0x62b)]);_0x546950['on'](_0xfe50f8['VqpOR'],()=>{const _0x28efd7=_0x64e4dc,_0x1e769e={'zthPP':_0x28efd7(0x2ae)};_0xfe50f8[_0x28efd7(0x74f)](_0xfe50f8['FdNpy'],_0x28efd7(0x692))?(_0x546950[_0x28efd7(0x769)](0x0),_0x546950[_0x28efd7(0x2ae)]()):_0x31759c[_0x28efd7(0x268)]['on'](_0x1e769e[_0x28efd7(0x4b5)],()=>{const _0x64fbab=_0x28efd7;_0x4f86c9['strictEqual'](_0x455ee0[_0x64fbab(0x4ab)][_0x64fbab(0x21f)],0x5);});});}else _0xf7fa94[_0x64e4dc(0x2ae)]();});_0x554b06['on'](_0x1649e2(0x597),_0x26ce3b=>{const _0x17b39e=_0x1649e2;_0x26ce3b['on'](_0xfe50f8[_0x17b39e(0x817)],_0x384784=>{const _0xf52249=_0x17b39e;assert[_0xf52249(0x5ab)](_0x384784[_0xf52249(0x5a0)](),'0'),_0x554b06['close'](_0x1ca494);});});}),it(_0x114547(0x68a),_0x518c9c=>{const _0x31399f=_0x114547,_0x1f57fd=new WebSocket[(_0x31399f(0x543))]({'port':0x0},()=>{const _0x35a25e=_0x31399f;if(_0x16a538['beNJO'](_0x16a538[_0x35a25e(0x6ff)],_0x16a538[_0x35a25e(0x6ff)])){const _0x2ab529=new WebSocket(_0x35a25e(0x2c9)+_0x1f57fd[_0x35a25e(0x774)]()[_0x35a25e(0x62b)]);_0x2ab529['on'](_0x35a25e(0x614),()=>{const _0x4acafe=_0x35a25e;assert[_0x4acafe(0x706)](()=>_0x2ab529[_0x4acafe(0x769)](Buffer[_0x4acafe(0x347)](0x7e)),/^RangeError: The data size must not be greater than 125 bytes$/),_0x1f57fd[_0x4acafe(0x2ae)](_0x518c9c);});}else{const _0x547810=new _0x1d4f2a[(_0x35a25e(0x543))]({'port':0x0},()=>{const _0x210a04=_0x35a25e,_0x21f0d0=new _0x2cc2fa(_0x210a04(0x2c9)+_0x547810[_0x210a04(0x774)]()[_0x210a04(0x62b)]);_0x21f0d0['on'](_0x210a04(0x2ae),_0x489e9c=>{_0x12e8b4['strictEqual'](_0x489e9c,0x3f5),_0x547810['close'](_0x15b68f);});});_0x547810['on']('connection',_0x50ef61=>_0x50ef61[_0x35a25e(0x2ae)](0x3f5));}});_0x1f57fd['on'](_0x31399f(0x597),_0x41fefb=>{const _0x44b84d=_0x31399f;_0x41fefb[_0x44b84d(0x2ae)]();});});}),_0x53a9dd[_0x3f0b7e(0x745)](describe,'#pong',()=>{const _0x2dfa45=_0x3f0b7e,_0x64ff4a={'Sgirk':_0x53a9dd['mcsvw'],'dppJo':function(_0x27f911){const _0x57026a=_0x1abd;return _0x53a9dd[_0x57026a(0x40f)](_0x27f911);},'XvTru':_0x2dfa45(0x588),'jgfhX':function(_0x19baa7,_0x3a7ac9){return _0x19baa7!==_0x3a7ac9;},'VANlZ':'TjvZU','zBwzz':_0x53a9dd[_0x2dfa45(0x20c)],'TdHbO':'Seilm','sRYmM':_0x53a9dd[_0x2dfa45(0x802)],'NPMLU':_0x53a9dd[_0x2dfa45(0x58a)],'zAckl':_0x2dfa45(0x3f1),'TwNUH':_0x53a9dd[_0x2dfa45(0x42d)],'aKkzK':_0x53a9dd[_0x2dfa45(0x357)],'govgb':_0x2dfa45(0x597)};it(_0x53a9dd[_0x2dfa45(0x2ff)],()=>{const _0x2794c1=_0x2dfa45,_0x220143=new WebSocket('ws://localhost',{'lookup'(){}});assert[_0x2794c1(0x706)](()=>_0x220143[_0x2794c1(0x731)](),/^Error: WebSocket is not open: readyState 0 \(CONNECTING\)$/),assert[_0x2794c1(0x706)](()=>_0x220143['pong'](NOOP),/^Error: WebSocket is not open: readyState 0 \(CONNECTING\)$/);}),_0x53a9dd['mxOPO'](it,_0x53a9dd['UxiUV'],_0xd7054d=>{const _0x43c15c=_0x2dfa45,_0xf43c4c={'NNHWt':_0x64ff4a[_0x43c15c(0x793)],'nUaUe':function(_0x316263){return _0x64ff4a['dppJo'](_0x316263);},'CCnmk':'WebSocket\x20was\x20closed\x20before\x20the\x20connection\x20was\x20established','PvouE':_0x43c15c(0x2ae)},_0x10a6dc=new WebSocket(_0x64ff4a[_0x43c15c(0x244)],{'lookup'(){}});_0x10a6dc['on']('error',_0x2f81c8=>{const _0x3d437f=_0x43c15c;assert['ok'](_0x2f81c8 instanceof Error),assert[_0x3d437f(0x5ab)](_0x2f81c8['message'],_0xf43c4c[_0x3d437f(0x43a)]),assert[_0x3d437f(0x5ab)](_0x10a6dc[_0x3d437f(0x5bc)],WebSocket[_0x3d437f(0x634)]),assert[_0x3d437f(0x5ab)](_0x10a6dc['bufferedAmount'],0x0),_0x10a6dc['pong']('hi'),assert['strictEqual'](_0x10a6dc[_0x3d437f(0x7b9)],0x2),_0x10a6dc[_0x3d437f(0x731)](),assert[_0x3d437f(0x5ab)](_0x10a6dc['bufferedAmount'],0x2),_0x10a6dc['on'](_0xf43c4c[_0x3d437f(0x739)],()=>{const _0x3cd265=_0x3d437f,_0x4ee774=_0xf43c4c['NNHWt'][_0x3cd265(0x1ab)]('|');let _0x12bd2f=0x0;while(!![]){switch(_0x4ee774[_0x12bd2f++]){case'0':_0x10a6dc[_0x3cd265(0x731)]();continue;case'1':assert[_0x3cd265(0x5ab)](_0x10a6dc['bufferedAmount'],0x4);continue;case'2':_0xf43c4c[_0x3cd265(0x292)](_0xd7054d);continue;case'3':assert['strictEqual'](_0x10a6dc['readyState'],WebSocket['CLOSED']);continue;case'4':assert['strictEqual'](_0x10a6dc['bufferedAmount'],0x4);continue;case'5':_0x10a6dc['pong']('hi');continue;}break;}});}),_0x10a6dc[_0x43c15c(0x2ae)]();}),_0x53a9dd[_0x2dfa45(0x551)](it,_0x53a9dd['PHbOc'],_0xd50321=>{const _0x14c4e1=_0x2dfa45,_0x3111b5={'iwHnq':function(_0x4ce067,_0x44058c){return _0x64ff4a['jgfhX'](_0x4ce067,_0x44058c);},'JjJGp':_0x64ff4a['VANlZ'],'XncHI':'HTTP/1.1\x20302\x20Found\x0d\x0a','EHLJx':_0x64ff4a[_0x14c4e1(0x50c)],'EDpEx':_0x14c4e1(0x6af),'LreKF':_0x64ff4a[_0x14c4e1(0x234)],'iatEE':_0x64ff4a['sRYmM'],'RNsin':_0x64ff4a['NPMLU']},_0x1d5604=new WebSocket[(_0x14c4e1(0x543))]({'port':0x0},()=>{const _0x34ed0b=_0x14c4e1;if(_0x3111b5['iwHnq'](_0x34ed0b(0x702),_0x3111b5['JjJGp'])){const _0x5aed34=new WebSocket(_0x34ed0b(0x2c9)+_0x1d5604[_0x34ed0b(0x774)]()[_0x34ed0b(0x62b)]);}else _0x22cb33=_0x354514[_0x34ed0b(0x36e)](_0x144836[_0x34ed0b(0x76a)](),_0x34ed0b(0x3e2)+_0x387994+_0x34ed0b(0x70f)),_0x2cda0c=_0x718a10['join'](_0x51f84b['tmpdir'](),_0x34ed0b(0x3e2)+_0x14a856+_0x34ed0b(0x70f));});_0x1d5604['on'](_0x14c4e1(0x597),_0x3e2d84=>{const _0x4d4342=_0x14c4e1,_0x1f8f5e={'INecu':'open'};_0x3111b5[_0x4d4342(0x212)]===_0x4d4342(0x7f0)?_0x2a5520[_0x4d4342(0x5d2)](_0x3111b5[_0x4d4342(0x50e)]+('Location:\x20ws://localhost:'+_0xbeeb16+_0x4d4342(0x4c1))):(_0x3e2d84[_0x4d4342(0x2ae)](),assert[_0x4d4342(0x5ab)](_0x3e2d84[_0x4d4342(0x7b9)],0x0),_0x3e2d84[_0x4d4342(0x731)]('hi',_0x9b7af3=>{const _0x32bdcb=_0x4d4342,_0x911e3={'Tojwh':function(_0x325030,_0x4b3e86){return _0x325030 instanceof _0x4b3e86;},'rNeIV':_0x3111b5[_0x32bdcb(0x41a)],'irMjt':_0x32bdcb(0x2ae),'qlnKS':_0x3111b5[_0x32bdcb(0x740)]};if(_0x32bdcb(0x5ed)===_0x3111b5[_0x32bdcb(0x75d)])assert['ok'](_0x9b7af3 instanceof Error),assert[_0x32bdcb(0x5ab)](_0x9b7af3[_0x32bdcb(0x703)],_0x32bdcb(0x63a)),assert['strictEqual'](_0x3e2d84[_0x32bdcb(0x7b9)],0x2),_0x3e2d84['on'](_0x3111b5['iatEE'],()=>{const _0x3be244=_0x32bdcb,_0x12d5c9={'vZgBu':_0x1f8f5e[_0x3be244(0x648)],'OXEqz':_0x3be244(0x22b),'dCHmQ':_0x3be244(0x80d)};_0x3e2d84[_0x3be244(0x731)](_0x4105e8=>{const _0x5b5f0d=_0x3be244;if(_0x5b5f0d(0x22b)===_0x12d5c9[_0x5b5f0d(0x5fb)])assert['ok'](_0x4105e8 instanceof Error),assert['strictEqual'](_0x4105e8['message'],_0x12d5c9['dCHmQ']),assert[_0x5b5f0d(0x5ab)](_0x3e2d84[_0x5b5f0d(0x7b9)],0x2),_0x1d5604[_0x5b5f0d(0x2ae)](_0xd50321);else{const _0x56b2a0=new _0x67ac23(_0x5b5f0d(0x2c9)+_0x4b7c12[_0x5b5f0d(0x774)]()[_0x5b5f0d(0x62b)]);_0x56b2a0['on'](_0x12d5c9[_0x5b5f0d(0x7a0)],()=>_0x4a7b60(new _0x15c7db(_0x5b5f0d(0x210)))),_0x56b2a0['on']('error',_0x533a1d=>{const _0x1ad4e4=_0x5b5f0d;_0x1c5a58['ok'](_0x533a1d instanceof _0x562a13),_0x4b3eeb[_0x1ad4e4(0x5ab)](_0x533a1d[_0x1ad4e4(0x703)],_0x1ad4e4(0x40b)),_0x56b2a0['on'](_0x1ad4e4(0x2ae),()=>_0x5de16c['close'](_0x5e1b72));}),_0x56b2a0['on'](_0x5b5f0d(0x7fa),()=>_0x56b2a0[_0x5b5f0d(0x2ae)]());}});});else{const _0xa890a1={'MzSFr':'HTTP/1.1\x20302\x20Found\x0d\x0aLocation:\x20bad-scheme://localhost\x0d\x0a\x0d\x0a'};_0x29e96d[_0x32bdcb(0x5f3)]('upgrade',(_0x2b4786,_0x4645a3)=>{const _0x1f607e=_0x32bdcb;_0x4645a3[_0x1f607e(0x5d2)](_0xa890a1[_0x1f607e(0x5c9)]);});const _0xa3802=new _0x41e7fd('ws://localhost:'+_0x15f7d5[_0x32bdcb(0x774)]()['port'],{'followRedirects':!![]});_0xa3802['on'](_0x32bdcb(0x614),()=>_0xc1ec05(new _0x9fa91f(_0x32bdcb(0x210)))),_0xa3802['on'](_0x911e3['qlnKS'],_0x545c5b=>{const _0x334430=_0x32bdcb;_0x2f918e['ok'](_0x911e3[_0x334430(0x2f3)](_0x545c5b,_0x2b9bf7)),_0x3343ec[_0x334430(0x5ab)](_0x545c5b[_0x334430(0x703)],_0x334430(0x500)+_0x911e3[_0x334430(0x508)]),_0xa1fe7d['strictEqual'](_0xa3802[_0x334430(0x6b9)],0x1),_0xa3802['on'](_0x911e3[_0x334430(0x428)],()=>_0x1fa492());});}}));});}),_0x53a9dd['ARHUs'](it,_0x53a9dd[_0x2dfa45(0x2c8)],_0x4abbe7=>{const _0x502985=_0x2dfa45;if(_0x502985(0x1e6)!==_0x502985(0x64a)){const _0x2deb41=new WebSocket[(_0x502985(0x543))]({'port':0x0},()=>{const _0x1afd3e=_0x502985,_0x2e492c=new WebSocket('ws://localhost:'+_0x2deb41['address']()[_0x1afd3e(0x62b)]);_0x2e492c['on'](_0x1afd3e(0x614),()=>{const _0x1e9f64=_0x1afd3e,_0x2a1003={'Kwbkx':function(_0x49853b,_0x5c8a56){return _0x49853b===_0x5c8a56;}};_0x2e492c[_0x1e9f64(0x731)](()=>{const _0x316377=_0x1e9f64;_0x2a1003['Kwbkx']('QiqbP',_0x316377(0x7ed))?(_0x12d977[_0x316377(0x5ab)](_0x5a7cc5[_0x316377(0x1f6)]['authorization'],_0x3d9abc),_0x4a7ce2['strictEqual'](_0x331f70[_0x316377(0x1f6)][_0x316377(0x3e3)],_0xb4f3c9),_0x2fc60c[_0x316377(0x5ab)](_0x3ec204[_0x316377(0x1f6)][_0x316377(0x4a5)],_0x316377(0x5e1)+_0x54153b[_0x316377(0x774)]()[_0x316377(0x62b)]),_0x322611[_0x316377(0x2ae)]()):(_0x2e492c[_0x316377(0x731)](),_0x2e492c[_0x316377(0x2ae)]());});});});_0x2deb41['on'](_0x502985(0x597),_0x19f66b=>{let _0x529315=0x0;_0x19f66b['on']('pong',_0x38a9c1=>{const _0x335bb1=_0x1abd;assert['ok'](Buffer['isBuffer'](_0x38a9c1)),assert[_0x335bb1(0x5ab)](_0x38a9c1[_0x335bb1(0x41b)],0x0);if(++_0x529315===0x2)_0x2deb41['close'](_0x4abbe7);});});}else _0x5e8fde[_0x502985(0x5ab)](_0x5a1fd6[_0x502985(0x5bc)],_0x49885a[_0x502985(0x33e)]),_0x54f564[_0x502985(0x2ae)]();}),it(_0x53a9dd[_0x2dfa45(0x6fe)],_0x2bf92f=>{const _0x6f60f0=_0x2dfa45,_0x1a09ca={'RsHWv':function(_0x49ad7e,_0x1268e0){return _0x49ad7e===_0x1268e0;},'ehpfw':_0x53a9dd[_0x6f60f0(0x1d4)],'rrJjk':_0x6f60f0(0x1c0)},_0x16aed8=new WebSocket[(_0x6f60f0(0x543))]({'port':0x0},()=>{const _0x2a7990=_0x6f60f0,_0x1001a5={'QglLT':_0x2a7990(0x2ae)},_0x5d5845=new WebSocket('ws://localhost:'+_0x16aed8['address']()[_0x2a7990(0x62b)]);_0x5d5845['on']('open',()=>{const _0xdf5fba=_0x2a7990;_0x1a09ca['RsHWv'](_0xdf5fba(0x2eb),'PwTCY')?(_0x3972f7['ok'](_0x261755 instanceof _0xe27ebf),_0x3361f8['strictEqual'](_0x4fa158[_0xdf5fba(0x6a1)],_0xdf5fba(0x411)),_0x196d59[_0xdf5fba(0x5ab)](_0x274e94[_0xdf5fba(0x703)],'Invalid\x20WebSocket\x20frame:\x20invalid\x20opcode\x205'),_0x16e785['on'](_0x1001a5[_0xdf5fba(0x2b4)],(_0x52787e,_0x1ee90c)=>{const _0x4293c8=_0xdf5fba;_0x32037a[_0x4293c8(0x5ab)](_0x52787e,0x3ee),_0x59d820[_0x4293c8(0x5ab)](_0x1ee90c,_0x49b9ab),_0x2a5225=!![];if(_0x572b93)_0x7fc1d6[_0x4293c8(0x2ae)](_0x3e61a5);})):_0x5d5845[_0xdf5fba(0x731)]('hi',()=>{const _0x4a391c=_0xdf5fba;_0x5d5845[_0x4a391c(0x731)]('hi',!![]),_0x5d5845[_0x4a391c(0x2ae)]();});});});_0x16aed8['on'](_0x53a9dd[_0x6f60f0(0x764)],_0xae8b75=>{const _0x2833ad=_0x6f60f0,_0x5a1cf6={'ZKPHZ':_0x2833ad(0x41c),'vuzaB':_0x1a09ca['ehpfw']};if(_0x1a09ca['rrJjk']!=='zEhlp'){let _0x5dbaf5=0x0;_0xae8b75['on'](_0x2833ad(0x731),_0x624339=>{const _0x57b3bc=_0x2833ad;assert[_0x57b3bc(0x5ab)](_0x624339[_0x57b3bc(0x5a0)](),'hi');if(++_0x5dbaf5===0x2)_0x16aed8[_0x57b3bc(0x2ae)](_0x2bf92f);});}else _0x4f8626[_0x2833ad(0x693)](_0x5a1cf6['ZKPHZ'],_0x5a1cf6[_0x2833ad(0x751)]),_0x5a149f[_0x2833ad(0x5d2)]();});}),_0x53a9dd[_0x2dfa45(0x1bb)](it,'can\x20send\x20numbers\x20as\x20pong\x20payload',_0x38f9cd=>{const _0x1d7cd3=new WebSocket['Server']({'port':0x0},()=>{const _0x58d0c4=_0x1abd,_0x1bb1d9=new WebSocket(_0x58d0c4(0x2c9)+_0x1d7cd3[_0x58d0c4(0x774)]()[_0x58d0c4(0x62b)]);_0x1bb1d9['on'](_0x58d0c4(0x614),()=>{const _0x59a684=_0x58d0c4;_0x1bb1d9[_0x59a684(0x731)](0x0),_0x1bb1d9[_0x59a684(0x2ae)]();});});_0x1d7cd3['on']('connection',_0x1c349a=>{const _0x5c61bd=_0x1abd;_0x1c349a['on'](_0x5c61bd(0x731),_0x55321f=>{assert['strictEqual'](_0x55321f['toString'](),'0'),_0x1d7cd3['close'](_0x38f9cd);});});}),it(_0x53a9dd[_0x2dfa45(0x736)],_0x4dd045=>{const _0x325699=_0x2dfa45,_0x585911={'RSoLx':function(_0x2f0ca6,_0x583327){const _0x2924ee=_0x1abd;return _0x53a9dd[_0x2924ee(0x445)](_0x2f0ca6,_0x583327);},'opkkG':_0x325699(0x5b9),'YhiqN':_0x53a9dd[_0x325699(0x406)],'ZLckh':_0x325699(0x727),'WUFvm':_0x325699(0x789)},_0x3cde1f=new WebSocket[(_0x325699(0x543))]({'port':0x0},()=>{const _0x131d96=_0x325699;if(_0x585911[_0x131d96(0x7ec)](_0x131d96(0x5b9),_0x585911[_0x131d96(0x31e)])){const _0x2cb4d9=new WebSocket('ws://localhost:'+_0x3cde1f[_0x131d96(0x774)]()[_0x131d96(0x62b)]);_0x2cb4d9['on'](_0x585911[_0x131d96(0x24d)],()=>{const _0x567d10=_0x131d96;assert[_0x567d10(0x706)](()=>_0x2cb4d9[_0x567d10(0x731)](Buffer['alloc'](0x7e)),/^RangeError: The data size must not be greater than 125 bytes$/),_0x3cde1f[_0x567d10(0x2ae)](_0x4dd045);});}else{const _0x1f0e4a=_0x232a61[_0x131d96(0x732)](_0x4147b7[_0x131d96(0x536)],_0x131d96(0x7b9));_0x42e6cb[_0x131d96(0x5ab)](_0x1f0e4a['configurable'],!![]),_0xc544d3[_0x131d96(0x5ab)](_0x1f0e4a[_0x131d96(0x5ef)],!![]),_0x41816b['ok'](_0x1f0e4a[_0x131d96(0x2d2)]!==_0xcc3e7f),_0x160595['ok'](_0x585911['RSoLx'](_0x1f0e4a[_0x131d96(0x526)],_0x192fa2));}});_0x3cde1f['on'](_0x53a9dd[_0x325699(0x764)],_0x2f749a=>{const _0x5dd8b6=_0x325699,_0x44fb47={'uQjOU':_0x585911[_0x5dd8b6(0x24d)]};if(_0x585911[_0x5dd8b6(0x1dd)]===_0x585911[_0x5dd8b6(0x296)]){const _0x4865d4=new _0x4500fb('ws://localhost:'+_0x3ba2f8[_0x5dd8b6(0x774)]()[_0x5dd8b6(0x62b)]);_0x4865d4['on'](_0x44fb47[_0x5dd8b6(0x646)],()=>{const _0x4cf9d6=_0x5dd8b6;_0x4865d4[_0x4cf9d6(0x769)]('hi',()=>{const _0x11a205=_0x4cf9d6;_0x4865d4[_0x11a205(0x769)]('hi',!![]),_0x4865d4[_0x11a205(0x2ae)]();});});}else _0x2f749a[_0x5dd8b6(0x2ae)]();});}),it(_0x53a9dd['mjifV'],_0x1315bd=>{const _0x116c1b=_0x2dfa45,_0x4a97ff={'wscvE':function(_0x55d68d,_0x4fd9ac){const _0x1c2275=_0x1abd;return _0x64ff4a[_0x1c2275(0x4e9)](_0x55d68d,_0x4fd9ac);},'NchFy':_0x116c1b(0x765),'ClfKo':_0x64ff4a['aKkzK']},_0x52d75f=Buffer[_0x116c1b(0x6ec)]('hi'),_0x3931c6=new WebSocket['Server']({'port':0x0},()=>{const _0x5d03df=_0x116c1b,_0x28bc02={'gVrkV':_0x64ff4a[_0x5d03df(0x592)]},_0xd9eb24=new WebSocket(_0x5d03df(0x2c9)+_0x3931c6['address']()[_0x5d03df(0x62b)]);_0xd9eb24['on'](_0x5d03df(0x614),()=>{const _0x564824=_0x5d03df;_0x28bc02[_0x564824(0x3ac)]===_0x564824(0x3f1)?_0xd9eb24[_0x564824(0x769)](_0x52d75f):(_0x4e6fbf[_0x564824(0x769)](),_0x2f6a95[_0x564824(0x2ae)]());}),_0xd9eb24['on'](_0x64ff4a[_0x5d03df(0x346)],_0xd80e68=>{const _0x39b783=_0x5d03df;_0x4a97ff['wscvE'](_0x4a97ff[_0x39b783(0x226)],_0x4a97ff[_0x39b783(0x226)])?(_0x3b012c[_0x39b783(0x25d)](_0x228ad5,_0x5dca2f[_0x39b783(0x6ec)](_0x3922c9[_0x39b783(0x295)])),_0x58c3c9['ok'](_0x55b728),_0x1b75e9[_0x39b783(0x2ae)](_0x4adab1)):(assert[_0x39b783(0x25d)](_0xd80e68,_0x52d75f),_0x3931c6[_0x39b783(0x2ae)](_0x1315bd));});});_0x3931c6['on'](_0x64ff4a[_0x116c1b(0x430)],_0x5dd09d=>{_0x5dd09d['on'](_0x4a97ff['ClfKo'],_0x3ed8ce=>{const _0x33ff9e=_0x1abd;assert[_0x33ff9e(0x25d)](_0x3ed8ce,_0x52d75f),_0x5dd09d[_0x33ff9e(0x2ae)]();});});});}),describe(_0x53a9dd[_0x3f0b7e(0x80c)],()=>{const _0xa377d5=_0x3f0b7e,_0x3d06b4={'nifCb':_0x53a9dd[_0xa377d5(0x27f)]};it(_0xa377d5(0x48b),_0x574a82=>{const _0x5f50e0=_0xa377d5,_0x469509={'vnjzz':_0x53a9dd['tyTvl']},_0x422001=new WebSocket[(_0x5f50e0(0x543))]({'port':0x0},()=>{const _0x59052f=_0x5f50e0,_0x3cae4b={'NrnuS':_0x469509[_0x59052f(0x393)]},_0xeeb258=new WebSocket(_0x59052f(0x2c9)+_0x422001['address']()['port']);assert[_0x59052f(0x5ab)](_0xeeb258['readyState'],WebSocket[_0x59052f(0x3a6)]),assert['ok'](!_0xeeb258[_0x59052f(0x252)]),_0xeeb258[_0x59052f(0x722)](),_0xeeb258['on'](_0x59052f(0x614),()=>{const _0x1a1cff=_0x59052f;_0xeeb258['pause'](),assert['ok'](_0xeeb258['isPaused']),_0xeeb258['on'](_0x3cae4b['NrnuS'],()=>{const _0x170d2d=_0x1abd;assert[_0x170d2d(0x5ab)](_0xeeb258[_0x170d2d(0x5bc)],WebSocket[_0x170d2d(0x3ce)]),_0xeeb258[_0x170d2d(0x722)](),assert['ok'](_0xeeb258[_0x170d2d(0x252)]),_0x422001[_0x170d2d(0x2ae)](_0x574a82);}),_0xeeb258[_0x1a1cff(0x744)]();});});}),it(_0x53a9dd[_0xa377d5(0x6d7)],_0xe65f7b=>{const _0x47f3d0=_0xa377d5,_0x20d8a3=new WebSocket['Server']({'port':0x0},()=>{const _0x33b217=_0x1abd,_0x5f234e=new WebSocket('ws://localhost:'+_0x20d8a3[_0x33b217(0x774)]()['port']);});_0x20d8a3['on'](_0x47f3d0(0x597),_0xe52e06=>{const _0x572db4=_0x47f3d0,_0x5a8a0f=_0x3d06b4[_0x572db4(0x805)]['split']('|');let _0x159a89=0x0;while(!![]){switch(_0x5a8a0f[_0x159a89++]){case'0':assert['ok'](!_0xe52e06[_0x572db4(0x252)]);continue;case'1':assert['ok'](!_0xe52e06[_0x572db4(0x252)]);continue;case'2':_0x20d8a3['close'](_0xe65f7b);continue;case'3':assert['ok'](_0xe52e06[_0x572db4(0x252)]);continue;case'4':_0xe52e06[_0x572db4(0x722)]();continue;case'5':_0xe52e06[_0x572db4(0x401)]();continue;case'6':_0xe52e06[_0x572db4(0x2ae)]();continue;case'7':assert['ok'](!_0xe52e06['_socket'][_0x572db4(0x252)]());continue;case'8':assert['ok'](_0xe52e06[_0x572db4(0x268)][_0x572db4(0x252)]());continue;case'9':assert['ok'](!_0xe52e06[_0x572db4(0x268)][_0x572db4(0x252)]());continue;}break;}});});}),_0x53a9dd['kxBGH'](describe,_0x53a9dd[_0x3f0b7e(0x433)],()=>{const _0x58c6f9=_0x3f0b7e,_0x507ff8={'RrPru':_0x58c6f9(0x53a),'nqoUX':_0x58c6f9(0x588),'pPgjy':function(_0x4486b9,_0xc80899){return _0x4486b9!==_0xc80899;},'eZqkD':function(_0x44c174){return _0x44c174();},'usmcX':function(_0x158106,_0x2b85da){return _0x53a9dd['QNkwx'](_0x158106,_0x2b85da);},'Nnjtj':'error','HaPAc':function(_0x569de3,_0x854b66){return _0x53a9dd['XVWsX'](_0x569de3,_0x854b66);},'mqCLR':function(_0x5c3bec,_0x2fb7ea){return _0x53a9dd['gitUO'](_0x5c3bec,_0x2fb7ea);},'kdLMX':_0x53a9dd[_0x58c6f9(0x406)],'vKmWC':_0x53a9dd['IQIyW'],'RjENf':'WebSocket\x20was\x20closed\x20before\x20the\x20connection\x20was\x20established','fvRUW':_0x58c6f9(0x703),'LBGiJ':_0x53a9dd[_0x58c6f9(0x5df)],'WYhFO':_0x53a9dd[_0x58c6f9(0x29a)],'Yabzi':_0x53a9dd[_0x58c6f9(0x5f2)],'kHqKB':_0x58c6f9(0x33b),'DxXSE':'OVyFJ','yxhpg':_0x58c6f9(0x464),'NRsvt':_0x58c6f9(0x73f),'zclao':_0x58c6f9(0x567),'ilHGW':_0x58c6f9(0x235),'pAfdn':function(_0x19eb9d,_0x3c039a){const _0x730c6a=_0x58c6f9;return _0x53a9dd[_0x730c6a(0x7cb)](_0x19eb9d,_0x3c039a);},'OscoY':_0x58c6f9(0x21d),'wIsyn':_0x58c6f9(0x2ae),'wSdFL':_0x53a9dd[_0x58c6f9(0x21e)]};_0x53a9dd['qenwy'](it,_0x53a9dd['HffKh'],()=>{const _0x1f9c10=_0x58c6f9;if(_0x507ff8[_0x1f9c10(0x4c9)]!==_0x1f9c10(0x53a))for(const _0x302b29 of[null,'',_0x1f9c10(0x52f),['a','a']]){_0x52e980[_0x1f9c10(0x706)](()=>new _0xf144c1(_0x1f9c10(0x588),_0x302b29),/^SyntaxError: An invalid or duplicated subprotocol was specified$/);}else{const _0x11554f=new WebSocket(_0x507ff8[_0x1f9c10(0x3b2)],{'lookup'(){}});assert['throws'](()=>_0x11554f['send']('hi'),/^Error: WebSocket is not open: readyState 0 \(CONNECTING\)$/),assert[_0x1f9c10(0x706)](()=>_0x11554f['send']('hi',NOOP),/^Error: WebSocket is not open: readyState 0 \(CONNECTING\)$/);}}),it(_0x53a9dd['UxiUV'],_0x156710=>{const _0x48db90=_0x58c6f9,_0x3b7cbc={'IJODR':function(_0x1c7ffe,_0x3e2cc0){const _0x598727=_0x1abd;return _0x507ff8[_0x598727(0x560)](_0x1c7ffe,_0x3e2cc0);},'RlAoU':'CPIoI','kfDKT':function(_0x52036f){const _0x145271=_0x1abd;return _0x507ff8[_0x145271(0x7a7)](_0x52036f);},'aPpSx':function(_0x45787a,_0xb0ef08){const _0x3f3592=_0x1abd;return _0x507ff8[_0x3f3592(0x2c2)](_0x45787a,_0xb0ef08);},'TstrA':function(_0x59838e,_0x198764){return _0x59838e instanceof _0x198764;}},_0x5e45a6=new WebSocket(_0x48db90(0x588),{'lookup'(){}});_0x5e45a6['on'](_0x507ff8[_0x48db90(0x37e)],_0x49c113=>{const _0x599801=_0x48db90;_0x3b7cbc[_0x599801(0x6fb)](_0x599801(0x4a1),'TKLuu')?(assert['ok'](_0x3b7cbc[_0x599801(0x668)](_0x49c113,Error)),assert[_0x599801(0x5ab)](_0x49c113[_0x599801(0x703)],'WebSocket\x20was\x20closed\x20before\x20the\x20connection\x20was\x20established'),assert[_0x599801(0x5ab)](_0x5e45a6[_0x599801(0x5bc)],WebSocket[_0x599801(0x634)]),assert['strictEqual'](_0x5e45a6[_0x599801(0x7b9)],0x0),_0x5e45a6[_0x599801(0x486)]('hi'),assert[_0x599801(0x5ab)](_0x5e45a6[_0x599801(0x7b9)],0x2),_0x5e45a6[_0x599801(0x486)](),assert[_0x599801(0x5ab)](_0x5e45a6[_0x599801(0x7b9)],0x2),_0x5e45a6['on'](_0x599801(0x2ae),()=>{const _0x40d272=_0x599801;_0x3b7cbc[_0x40d272(0x455)](_0x40d272(0x50d),_0x3b7cbc['RlAoU'])?(assert[_0x40d272(0x5ab)](_0x5e45a6['readyState'],WebSocket[_0x40d272(0x3ce)]),_0x5e45a6['send']('hi'),assert[_0x40d272(0x5ab)](_0x5e45a6[_0x40d272(0x7b9)],0x4),_0x5e45a6[_0x40d272(0x486)](),assert['strictEqual'](_0x5e45a6[_0x40d272(0x7b9)],0x4),_0x3b7cbc[_0x40d272(0x678)](_0x156710)):(_0x137b54[_0x40d272(0x486)]('hi',{'compress':!![]}),_0x1fac55[_0x40d272(0x2ae)]());})):(_0x23ead2[_0x599801(0x2ae)](_0x21b55a),_0x3dc0a1[_0x599801(0x2ae)]());}),_0x5e45a6['close']();}),it(_0x53a9dd[_0x58c6f9(0x4bd)],_0x5a5f07=>{const _0x2a69af=_0x58c6f9,_0x2c9fb8=new WebSocket['Server']({'port':0x0},()=>{const _0x41dc54=_0x1abd,_0x43bfb2=new WebSocket(_0x41dc54(0x2c9)+_0x2c9fb8[_0x41dc54(0x774)]()['port']);});_0x2c9fb8['on'](_0x53a9dd[_0x2a69af(0x764)],_0x1b9b91=>{const _0x2d9c83=_0x2a69af,_0x5c055b={'kAyma':function(_0x360e16,_0x3593a1){return _0x360e16 instanceof _0x3593a1;},'qKSGD':function(_0xe4134d,_0x151938){const _0xade749=_0x1abd;return _0x507ff8[_0xade749(0x561)](_0xe4134d,_0x151938);},'cpJgY':_0x2d9c83(0x63a)};_0x1b9b91['close'](),assert['strictEqual'](_0x1b9b91[_0x2d9c83(0x7b9)],0x0),_0x1b9b91[_0x2d9c83(0x486)]('hi',_0x5da5b6=>{const _0x1c0a7c=_0x2d9c83,_0x440d48={'nXYbh':function(_0x444e08,_0x53b027){return _0x5c055b['kAyma'](_0x444e08,_0x53b027);}};assert['ok'](_0x5c055b[_0x1c0a7c(0x293)](_0x5da5b6,Error)),assert[_0x1c0a7c(0x5ab)](_0x5da5b6[_0x1c0a7c(0x703)],_0x5c055b[_0x1c0a7c(0x63d)]),assert[_0x1c0a7c(0x5ab)](_0x1b9b91[_0x1c0a7c(0x7b9)],0x2),_0x1b9b91['on']('close',()=>{const _0x222075=_0x1c0a7c;_0x1b9b91[_0x222075(0x486)]('hi',_0x21f764=>{const _0x3296d1=_0x222075;assert['ok'](_0x440d48['nXYbh'](_0x21f764,Error)),assert[_0x3296d1(0x5ab)](_0x21f764[_0x3296d1(0x703)],_0x3296d1(0x80d)),assert['strictEqual'](_0x1b9b91[_0x3296d1(0x7b9)],0x4),_0x2c9fb8[_0x3296d1(0x2ae)](_0x5a5f07);});});});});}),it('can\x20send\x20a\x20big\x20binary\x20message',_0x4b396c=>{const _0x41477e=_0x58c6f9,_0x46d0ee=new WebSocket[(_0x41477e(0x543))]({'port':0x0},()=>{const _0xcb680=_0x41477e,_0x53ac00=new Float32Array(_0x507ff8[_0xcb680(0x71a)](0x400,0x400));for(let _0x153811=0x0;_0x153811<_0x53ac00[_0xcb680(0x41b)];_0x153811++){_0x53ac00[_0x153811]=_0x153811/0x5;}const _0x4e2d28=new WebSocket(_0xcb680(0x2c9)+_0x46d0ee[_0xcb680(0x774)]()[_0xcb680(0x62b)]);_0x4e2d28['on'](_0x507ff8[_0xcb680(0x77f)],()=>_0x4e2d28[_0xcb680(0x486)](_0x53ac00)),_0x4e2d28['on'](_0xcb680(0x703),(_0x7d0c94,_0x2b879b)=>{const _0x553669=_0xcb680;assert[_0x553669(0x25d)](_0x7d0c94,Buffer[_0x553669(0x6ec)](_0x53ac00[_0x553669(0x295)])),assert['ok'](_0x2b879b),_0x46d0ee[_0x553669(0x2ae)](_0x4b396c);});});_0x46d0ee['on'](_0x507ff8['vKmWC'],_0x419529=>{_0x419529['on']('message',(_0x46e680,_0x2e779a)=>{const _0x23f6dd=_0x1abd;assert['ok'](_0x2e779a),_0x419529['send'](_0x46e680),_0x419529[_0x23f6dd(0x2ae)]();});});}),it(_0x53a9dd['jdqRy'],_0x53285b=>{const _0x4eb6b9=_0x58c6f9,_0x59652a={'jNAYD':_0x4eb6b9(0x614),'TfMvk':function(_0x20833c,_0x4d4364){return _0x20833c!==_0x4d4364;},'OQuIf':_0x507ff8['LBGiJ']},_0x136662=new WebSocket['Server']({'port':0x0},()=>{const _0x226b2f=_0x4eb6b9,_0x3f8cd9=new WebSocket('ws://localhost:'+_0x136662['address']()[_0x226b2f(0x62b)]);_0x3f8cd9['on'](_0x59652a[_0x226b2f(0x36c)],()=>_0x3f8cd9['send']('hi')),_0x3f8cd9['on'](_0x226b2f(0x703),(_0x436662,_0x509fbe)=>{const _0x5aa03e=_0x226b2f;assert[_0x5aa03e(0x25d)](_0x436662,Buffer[_0x5aa03e(0x6ec)]('hi')),assert['ok'](!_0x509fbe),_0x136662['close'](_0x53285b);});});_0x136662['on'](_0x507ff8[_0x4eb6b9(0x621)],_0x80ed4c=>{const _0x7be1ed=_0x4eb6b9,_0x2e7e88={'RtQfE':_0x507ff8[_0x7be1ed(0x7e7)],'RnnuE':_0x7be1ed(0x2ae)};_0x80ed4c['on'](_0x507ff8[_0x7be1ed(0x7f5)],(_0x5f032e,_0x3148e9)=>{const _0x4b6088=_0x7be1ed;_0x59652a[_0x4b6088(0x1cd)](_0x59652a['OQuIf'],'YFknW')?(_0x80ed4c['send'](_0x5f032e,{'binary':_0x3148e9}),_0x80ed4c[_0x4b6088(0x2ae)]()):(_0x3d4231['ok'](_0x4eaa90 instanceof _0x467dd5),_0x3ac7bc[_0x4b6088(0x5ab)](_0x682619[_0x4b6088(0x703)],_0x2e7e88[_0x4b6088(0x7c6)]),_0x4ae571['on'](_0x2e7e88['RnnuE'],()=>_0x49589b[_0x4b6088(0x2ae)](_0x1c8856)));});});}),it(_0x58c6f9(0x1cb),_0x249f5d=>{const _0x3169f6=_0x58c6f9,_0x31c689={'SucTW':_0x507ff8[_0x3169f6(0x390)]},_0x23a270=new WebSocket[(_0x3169f6(0x543))]({'port':0x0},()=>{const _0x1d8ec2=_0x3169f6,_0x11ae67=new WebSocket(_0x1d8ec2(0x2c9)+_0x23a270[_0x1d8ec2(0x774)]()[_0x1d8ec2(0x62b)]);_0x11ae67['on']('open',()=>{const _0x36e643=_0x1d8ec2;_0x11ae67[_0x36e643(0x486)](_0x36e643(0x73f),{'fin':![]}),_0x11ae67['send'](_0x31c689[_0x36e643(0x73a)],{'fin':!![]}),_0x11ae67['close']();});});_0x23a270['on'](_0x3169f6(0x597),_0x1d15c3=>{const _0x4c6e71=_0x3169f6,_0x5a3f30={'Eixey':function(_0x3e89b3,_0x5748ed){return _0x3e89b3+_0x5748ed;},'ToZzy':_0x507ff8[_0x4c6e71(0x2de)],'cJDLD':_0x507ff8[_0x4c6e71(0x438)],'Hlodv':_0x507ff8[_0x4c6e71(0x20d)],'JPstt':_0x507ff8[_0x4c6e71(0x615)]};_0x507ff8['usmcX'](_0x4c6e71(0x3a2),_0x507ff8['yxhpg'])?(_0x5481e4['on'](_0x4c6e71(0x5d2),_0x10466e[_0x4c6e71(0x5d2)]),_0x3eb2b0[_0x4c6e71(0x7d9)](_0x5a3f30[_0x4c6e71(0x1ce)](_0x4c6e71(0x7b8)+_0x12e88b[_0x4c6e71(0x276)][0x1f6]+'\x0d\x0a'+_0x5a3f30[_0x4c6e71(0x31c)]+_0x4c6e71(0x630)+_0x4c6e71(0x717)+'\x0d\x0a',_0x5a3f30['cJDLD']))):_0x1d15c3['on'](_0x507ff8['fvRUW'],(_0x2302d3,_0x2d3af8)=>{const _0x184cb9=_0x4c6e71;_0x5a3f30[_0x184cb9(0x7be)]===_0x5a3f30[_0x184cb9(0x7be)]?(assert['deepStrictEqual'](_0x2302d3,Buffer['from'](_0x5a3f30['Hlodv'])),assert['ok'](!_0x2d3af8),_0x23a270['close'](_0x249f5d)):(_0x5559c2['deepStrictEqual'](_0x15b4aa,_0x4e3757[_0x184cb9(0x6ec)](_0x5a3f30[_0x184cb9(0x4f3)])),_0x2eebde['ok'](!_0x5aa244),_0xdfb13a[_0x184cb9(0x2ae)](_0x344630));});});}),_0x53a9dd[_0x58c6f9(0x5b6)](it,_0x58c6f9(0x3d6),_0x8bd2d4=>{const _0x4f678d=_0x58c6f9,_0x2fe140=new WebSocket['Server']({'port':0x0},()=>{const _0x5f5864=_0x1abd,_0xdbf48=new WebSocket(_0x5f5864(0x2c9)+_0x2fe140[_0x5f5864(0x774)]()[_0x5f5864(0x62b)]);_0xdbf48['on'](_0x507ff8[_0x5f5864(0x77f)],()=>{const _0x442107=_0x5f5864;_0xdbf48[_0x442107(0x486)](0x0),_0xdbf48['close']();});});_0x2fe140['on'](_0x507ff8[_0x4f678d(0x621)],_0x17964a=>{const _0x4421c4=_0x4f678d,_0xf14a4a={'nFKVj':_0x4421c4(0x56a)};'NSQDF'!==_0x4421c4(0x1f1)?_0x17964a['on'](_0x507ff8['fvRUW'],(_0x18b40b,_0x9b5130)=>{const _0x58108b=_0x4421c4;_0x58108b(0x58d)===_0xf14a4a[_0x58108b(0x2ec)]?_0x16d5e5+=_0x449ad4:(assert[_0x58108b(0x25d)](_0x18b40b,Buffer[_0x58108b(0x6ec)]('0')),assert['ok'](!_0x9b5130),_0x2fe140[_0x58108b(0x2ae)](_0x8bd2d4));}):(_0x29bf9e[_0x4421c4(0x486)](_0x22adaf[_0x4421c4(0x295)]),_0x17e5fc[_0x4421c4(0x2ae)]());});}),_0x53a9dd[_0x58c6f9(0x6ce)](it,_0x58c6f9(0x68c),_0x28536b=>{const _0x5a7d77=_0x58c6f9,_0x35d079={'amvat':function(_0x2e7d36,_0x34a7a3){return _0x2e7d36!==_0x34a7a3;},'QbzlU':function(_0x293bb0,_0x25bbac){const _0x469a63=_0x1abd;return _0x53a9dd[_0x469a63(0x604)](_0x293bb0,_0x25bbac);}};if(_0x5a7d77(0x3d3)===_0x5a7d77(0x3d3)){const _0x24aa72=new WebSocket['Server']({'port':0x0},()=>{const _0x55977b=_0x5a7d77,_0x3b8877={'onqTp':function(_0xce3781,_0x1bb6cf){const _0x1abf64=_0x1abd;return _0x35d079[_0x1abf64(0x23d)](_0xce3781,_0x1bb6cf);},'solUb':'ISEqD'};if(_0x55977b(0x46e)==='cFIaH')_0x3744c7[_0x55977b(0x5ab)](_0x21b7df,0x3ed),_0x517363['strictEqual'](_0x3b2e24[_0x55977b(0x449)],'ws://localhost:'+_0x33540d+'/'),_0x42d896[_0x55977b(0x5ab)](_0x259528['_redirects'],0x1),_0x391a1d[_0x55977b(0x2ae)](_0x3997a2);else{const _0x58672c=new Float32Array(0x6);for(let _0x462641=0x0;_0x35d079[_0x55977b(0x236)](_0x462641,_0x58672c[_0x55977b(0x41b)]);++_0x462641){_0x58672c[_0x462641]=_0x462641/0x2;}const _0x2e72fb=_0x58672c[_0x55977b(0x514)](0x2,0x5),_0x35b4a7=Buffer[_0x55977b(0x6ec)](_0x2e72fb[_0x55977b(0x295)],_0x2e72fb[_0x55977b(0x447)],_0x2e72fb['byteLength']),_0xcf61a5=new WebSocket(_0x55977b(0x2c9)+_0x24aa72[_0x55977b(0x774)]()[_0x55977b(0x62b)]);_0xcf61a5['on'](_0x55977b(0x614),()=>{const _0x29493c=_0x55977b;if(_0x3b8877[_0x29493c(0x2b2)](_0x3b8877['solUb'],_0x29493c(0x7a5)))_0xcf61a5[_0x29493c(0x486)](_0x2e72fb),_0xcf61a5['close']();else{const _0x23c8da=new _0x9df9b1[(_0x29493c(0x543))]({'port':0x0},()=>{const _0x2b70ab=_0x29493c,_0x5e3467=new _0x3cd994('ws://localhost:'+_0x23c8da['address']()[_0x2b70ab(0x62b)]);_0x5e3467['on'](_0x2b70ab(0x7fa),_0x5ae0ff=>{const _0x2acfbe=_0x2b70ab;_0x34416f['ok'](_0x5ae0ff instanceof _0x5b47f4[_0x2acfbe(0x2d7)]),_0x23c8da[_0x2acfbe(0x2ae)](_0x1e9669);});});_0x23c8da['on'](_0x29493c(0x597),_0x1244ac=>{const _0x53bceb=_0x29493c;_0x1244ac[_0x53bceb(0x2ae)]();});}}),_0xcf61a5['on'](_0x55977b(0x703),(_0x318662,_0x28d99f)=>{const _0x5d3d07=_0x55977b;assert[_0x5d3d07(0x25d)](_0x318662,_0x35b4a7),assert['ok'](_0x28d99f),_0x24aa72[_0x5d3d07(0x2ae)](_0x28536b);});}});_0x24aa72['on'](_0x53a9dd[_0x5a7d77(0x764)],_0x4ee344=>{const _0x443428=_0x5a7d77;_0x443428(0x259)===_0x443428(0x259)?_0x4ee344['on'](_0x507ff8[_0x443428(0x7f5)],(_0x135fb8,_0x2418ce)=>{const _0x48637d=_0x443428;assert['ok'](_0x2418ce),_0x4ee344[_0x48637d(0x486)](_0x135fb8);}):(_0x325cc3[_0x443428(0x5ab)](_0x1e549f,0x3ed),_0x566402[_0x443428(0x2ae)](_0x26e012));});}else{const _0x2a6009=new _0xe993f3([['ws','ws'],[_0x507ff8['zclao'],_0x5a7d77(0x567)],[_0x5a7d77(0x5ff),'ws'],['https',_0x5a7d77(0x567)]]);for(const [_0x5be7e3,_0x28f363]of _0x2a6009){const _0x1a8494=new _0x34a7c9(_0x5be7e3+'://localhost/',{'lookup'(){}});_0x4db075[_0x5a7d77(0x5ab)](_0x1a8494[_0x5a7d77(0x449)],_0x28f363+_0x5a7d77(0x7fb));}}}),it(_0x58c6f9(0x45a),_0x23f29c=>{const _0x164407=_0x58c6f9,_0xf92fda={'BdLsX':function(_0xb7ee2e,_0x160265){const _0x25ad24=_0x1abd;return _0x53a9dd[_0x25ad24(0x6bb)](_0xb7ee2e,_0x160265);},'faLDd':_0x53a9dd[_0x164407(0x406)],'KaCKs':_0x164407(0x7fa),'eBPWP':_0x164407(0x426),'iwlsb':_0x53a9dd[_0x164407(0x1a3)]},_0x46d2e8=new WebSocket[(_0x164407(0x543))]({'port':0x0},()=>{const _0x3016f9=_0x164407,_0x5a39e2=new Float32Array(0x5);for(let _0x4e5e49=0x0;_0x4e5e49<_0x5a39e2[_0x3016f9(0x41b)];++_0x4e5e49){_0x5a39e2[_0x4e5e49]=_0xf92fda['BdLsX'](_0x4e5e49,0x2);}const _0x234545=new WebSocket(_0x3016f9(0x2c9)+_0x46d2e8[_0x3016f9(0x774)]()[_0x3016f9(0x62b)]);_0x234545['on'](_0xf92fda['faLDd'],()=>{const _0x23af84=_0x3016f9;_0x234545[_0x23af84(0x486)](_0x5a39e2['buffer']),_0x234545[_0x23af84(0x2ae)]();}),_0x234545[_0x3016f9(0x5db)]=_0x21a8cf=>{const _0x42fbc4=_0x3016f9;assert['ok'](_0x21a8cf[_0x42fbc4(0x20e)][_0x42fbc4(0x581)](Buffer[_0x42fbc4(0x6ec)](_0x5a39e2[_0x42fbc4(0x295)]))),_0x46d2e8['close'](_0x23f29c);};});_0x46d2e8['on']('connection',_0x164e84=>{const _0x9a0f1=_0x164407,_0x344b2d={'jdSTQ':_0xf92fda[_0x9a0f1(0x1ed)],'uJiXb':'foo=bar','QRweu':_0xf92fda[_0x9a0f1(0x4c6)],'zItDh':function(_0x5c523b,_0x2a75e6){return _0x5c523b+_0x2a75e6;},'cBUUk':_0xf92fda['iwlsb']};_0x164e84['on']('message',(_0x1b59a1,_0x3c5c4e)=>{const _0x2e1c5d=_0x9a0f1,_0x3b9a00={'rkOHZ':function(_0x3ba7b4,_0x15439c){return _0x344b2d['zItDh'](_0x3ba7b4,_0x15439c);},'enAEQ':_0x2e1c5d(0x60f)};if(_0x344b2d[_0x2e1c5d(0x7b2)]==='HmxhF'){const _0x99519f=_0x4260a0['address']()[_0x2e1c5d(0x62b)];_0x5df292['once'](_0x344b2d[_0x2e1c5d(0x2b6)],(_0x4ec413,_0x978aa5)=>{const _0x4d25fc=_0x2e1c5d;_0x978aa5[_0x4d25fc(0x5d2)](_0x3b9a00[_0x4d25fc(0x1b8)](_0x3b9a00['enAEQ'],_0x4d25fc(0x632)+_0x99519f+'/\x0d\x0a\x0d\x0a'));});const _0x5192dd={'authorization':_0x2e1c5d(0x40a),'cookie':_0x344b2d[_0x2e1c5d(0x57e)],'host':_0x2e1c5d(0x7e0)},_0x3d7a32=new _0x6b892c(_0x2e1c5d(0x2c9)+_0x58b823['address']()['port'],{'followRedirects':!![],'headers':_0x5192dd}),_0x366b9e=_0x3d7a32[_0x2e1c5d(0x582)];_0x18bda2['strictEqual'](_0x366b9e[_0x2e1c5d(0x644)](_0x344b2d[_0x2e1c5d(0x60a)]),_0x5192dd['authorization']),_0xe0946c[_0x2e1c5d(0x5ab)](_0x366b9e['getHeader'](_0x2e1c5d(0x41c)),_0x5192dd['cookie']),_0x1d7848[_0x2e1c5d(0x5ab)](_0x366b9e[_0x2e1c5d(0x644)](_0x2e1c5d(0x221)),_0x5192dd[_0x2e1c5d(0x4a5)]),_0x3d7a32['on'](_0x2e1c5d(0x2ae),_0x21efed=>{const _0x477b30=_0x2e1c5d;_0x92f2a0['strictEqual'](_0x21efed,0x3ed),_0x45c01c[_0x477b30(0x5ab)](_0x3d7a32[_0x477b30(0x449)],_0x477b30(0x2c9)+_0x99519f+'/'),_0x121a9d['strictEqual'](_0x3d7a32['_redirects'],0x1),_0x602b81['close'](_0x4d79f1);});}else assert['ok'](_0x3c5c4e),_0x164e84['send'](_0x1b59a1);});});}),_0x53a9dd[_0x58c6f9(0x551)](it,_0x58c6f9(0x5b8),_0x325c24=>{const _0x47099d=_0x58c6f9,_0x47a538={'ABDqU':function(_0x12a5fc,_0x33ffa8){return _0x12a5fc!==_0x33ffa8;},'fdVmz':_0x47099d(0x78a),'MBVIM':function(_0x162e50,_0x397130){return _0x162e50 instanceof _0x397130;},'gtqJi':_0x47099d(0x5f5)},_0xe4db3e=new WebSocket[(_0x47099d(0x543))]({'port':0x0},()=>{const _0x256a44=_0x47099d,_0x16c8b=Buffer['from'](_0x507ff8[_0x256a44(0x337)]),_0x100247=new WebSocket(_0x256a44(0x2c9)+_0xe4db3e[_0x256a44(0x774)]()[_0x256a44(0x62b)]);_0x100247['on'](_0x507ff8[_0x256a44(0x77f)],()=>{const _0x1e8699=_0x256a44;_0x100247[_0x1e8699(0x486)](_0x16c8b),_0x100247['close']();}),_0x100247[_0x256a44(0x5db)]=_0x585ed6=>{const _0x38fb08=_0x256a44;assert['deepStrictEqual'](_0x585ed6[_0x38fb08(0x20e)],_0x16c8b),_0xe4db3e[_0x38fb08(0x2ae)](_0x325c24);};});_0xe4db3e['on'](_0x53a9dd['IQIyW'],_0x3e532c=>{const _0x47cedf=_0x47099d,_0x56258f={'UQaoV':function(_0x5d0c76,_0x4ace1b){const _0x2990ca=_0x1abd;return _0x47a538[_0x2990ca(0x223)](_0x5d0c76,_0x4ace1b);}};_0x47a538[_0x47cedf(0x458)]!==_0x47a538[_0x47cedf(0x458)]?(_0x43aff1['ok'](_0x56258f[_0x47cedf(0x7fc)](_0x29090c,_0x5c3615)),_0xee37cd['strictEqual'](_0x2e0144['code'],_0x47cedf(0x77d)),_0x370bbb[_0x47cedf(0x2ae)](),_0x3d433d['on'](_0x47cedf(0x2ae),()=>{const _0x4e501e=_0x47cedf;_0x49faca[_0x4e501e(0x2ae)](_0x1ee357);})):_0x3e532c['on'](_0x47cedf(0x703),(_0x48b553,_0x3bcf52)=>{const _0x134483=_0x47cedf;_0x47a538[_0x134483(0x6b7)](_0x134483(0x781),_0x47a538['fdVmz'])?(assert['ok'](_0x3bcf52),_0x3e532c[_0x134483(0x486)](_0x48b553)):(_0x58f6ed['strictEqual'](_0x2a6e86['readyState'],_0x3fc6a9[_0x134483(0x3ce)]),_0x41f521[_0x134483(0x2ae)](_0x10af8c));});});}),it(_0x53a9dd['swAit'],_0x3e379d=>{const _0x1ceb0b=_0x58c6f9,_0x17845a=new WebSocket[(_0x1ceb0b(0x543))]({'port':0x0},()=>{const _0x41be6c=_0x1ceb0b,_0x41b054={'lwhQX':_0x41be6c(0x6a7)},_0x354b53=new WebSocket(_0x41be6c(0x2c9)+_0x17845a[_0x41be6c(0x774)]()['port']);_0x354b53['on'](_0x41be6c(0x614),()=>{const _0xbd2b1e=_0x41be6c;if(_0x41b054[_0xbd2b1e(0x513)]===_0x41b054[_0xbd2b1e(0x513)])_0x354b53[_0xbd2b1e(0x486)]('hi',_0x29f2cd=>{const _0x3713fb=_0xbd2b1e;assert['ifError'](_0x29f2cd),_0x17845a[_0x3713fb(0x2ae)](_0x3e379d);});else{const _0x1bcae7=_0x47dd85[_0xbd2b1e(0x732)](_0x5626cb[_0xbd2b1e(0x536)],_0x1c07fa);_0x47a9bd[_0xbd2b1e(0x25d)](_0x1bcae7,{'configurable':![],'enumerable':!![],'value':_0x2fc0c9[_0x217e90],'writable':![]});}});});_0x17845a['on'](_0x53a9dd[_0x1ceb0b(0x764)],_0x1c0d90=>{const _0x1b8775=_0x1ceb0b;_0x1c0d90[_0x1b8775(0x2ae)]();});}),_0x53a9dd[_0x58c6f9(0x6e6)](it,_0x53a9dd[_0x58c6f9(0x338)],_0x4b6688=>{const _0x4251b4=_0x58c6f9,_0x3512d6=new WebSocket[(_0x4251b4(0x543))]({'port':0x0},()=>{const _0x2b83dd=_0x4251b4,_0x38df11=new WebSocket(_0x2b83dd(0x2c9)+_0x3512d6[_0x2b83dd(0x774)]()[_0x2b83dd(0x62b)]);_0x38df11['on'](_0x2b83dd(0x614),()=>{const _0x4362d7=_0x2b83dd;_0x38df11[_0x4362d7(0x486)](),_0x38df11['close']();});});_0x3512d6['on'](_0x4251b4(0x597),_0x142ee7=>{const _0x4793cf=_0x4251b4,_0x4b8f36={'Nlqev':function(_0x1a52df,_0x383bd9){return _0x507ff8['pAfdn'](_0x1a52df,_0x383bd9);},'sEKBy':_0x507ff8[_0x4793cf(0x641)]};_0x142ee7['on'](_0x4793cf(0x703),(_0x26edb9,_0x6c2b83)=>{const _0x4725c3=_0x4793cf;if(_0x4b8f36[_0x4725c3(0x57b)](_0x4725c3(0x21d),_0x4b8f36[_0x4725c3(0x4f1)])){const _0x32fea6=new _0x41f895['Agent']();let _0x517cff=0x0,_0x5c8323;_0x32fea6[_0x4725c3(0x5c3)]=_0x214685=>{const _0x112e4c=_0x4725c3;_0x149c8f['strictEqual'](_0x214685[_0x112e4c(0x644)](_0x112e4c(0x2c5)),_0x476931),_0x517cff++;},_0x5c8323=new _0x36923f(_0x4725c3(0x588),_0x26eba8,{'agent':_0x32fea6}),_0x5c8323=new _0xa6f8cd(_0x4725c3(0x588),[],{'agent':_0x32fea6}),_0x117864[_0x4725c3(0x5ab)](_0x517cff,0x2);}else assert['strictEqual'](_0x26edb9,EMPTY_BUFFER),assert['ok'](_0x6c2b83),_0x3512d6[_0x4725c3(0x2ae)](_0x4b6688);});});}),it(_0x58c6f9(0x6f8),_0x33901f=>{const _0x1d0c46=_0x58c6f9,_0x808a6a={'LkvxN':function(_0x2e4397,_0x55f563){return _0x2e4397 instanceof _0x55f563;},'eCKIt':'8102','WJfMw':'hex'};let _0x42538a=![],_0x15c989=![];const _0x3da087=new WebSocket[(_0x1d0c46(0x543))]({'port':0x0},()=>{const _0x2e9e1b=_0x1d0c46,_0x4a089a=new WebSocket(_0x2e9e1b(0x2c9)+_0x3da087[_0x2e9e1b(0x774)]()[_0x2e9e1b(0x62b)]);_0x4a089a['on']('open',()=>_0x4a089a[_0x2e9e1b(0x486)]('hi',{'mask':![]})),_0x4a089a['on'](_0x507ff8['wIsyn'],(_0x2f1ff1,_0x1c5167)=>{const _0x12c82c=_0x2e9e1b;assert['strictEqual'](_0x2f1ff1,0x3ea),assert[_0x12c82c(0x25d)](_0x1c5167,EMPTY_BUFFER),_0x42538a=!![];if(_0x15c989)_0x3da087[_0x12c82c(0x2ae)](_0x33901f);});});_0x3da087['on'](_0x507ff8[_0x1d0c46(0x621)],_0x132af1=>{const _0x5277d9=_0x1d0c46,_0x208ca3=[];_0x132af1[_0x5277d9(0x268)][_0x5277d9(0x71d)](_0x507ff8[_0x5277d9(0x44d)],_0x3e9712=>{const _0x1c2e90=_0x5277d9;_0x208ca3[_0x1c2e90(0x602)](_0x3e9712);}),_0x132af1['on'](_0x5277d9(0x6af),_0x4faa24=>{const _0xb8e178=_0x5277d9;assert['ok'](_0x808a6a['LkvxN'](_0x4faa24,RangeError)),assert[_0xb8e178(0x5ab)](_0x4faa24[_0xb8e178(0x703)],'Invalid\x20WebSocket\x20frame:\x20MASK\x20must\x20be\x20set'),assert['ok'](Buffer[_0xb8e178(0x682)](_0x208ca3)['slice'](0x0,0x2)['equals'](Buffer[_0xb8e178(0x6ec)](_0x808a6a[_0xb8e178(0x2b0)],_0x808a6a[_0xb8e178(0x770)]))),_0x132af1['on'](_0xb8e178(0x2ae),(_0x23cda7,_0x29fdc1)=>{const _0x562260=_0xb8e178;assert[_0x562260(0x5ab)](_0x23cda7,0x3ee),assert['strictEqual'](_0x29fdc1,EMPTY_BUFFER),_0x15c989=!![];if(_0x42538a)_0x3da087[_0x562260(0x2ae)](_0x33901f);});});});});}),_0x53a9dd['IPyAP'](describe,_0x53a9dd['nqieA'],()=>{const _0x181e46=_0x3f0b7e,_0x4ea34b={'DaobH':_0x181e46(0x2ae),'ummxp':_0x53a9dd[_0x181e46(0x406)],'wrgoY':_0x53a9dd[_0x181e46(0x38a)],'SEnis':_0x53a9dd['AyysE'],'SeQxj':_0x181e46(0x80d),'MBGge':_0x181e46(0x5d2),'KyKDi':_0x53a9dd[_0x181e46(0x215)],'JKonb':_0x53a9dd[_0x181e46(0x3d2)],'NKMAF':function(_0x2e2562,_0x46c276){const _0x28463d=_0x181e46;return _0x53a9dd[_0x28463d(0x6b3)](_0x2e2562,_0x46c276);},'DTQJy':_0x53a9dd[_0x181e46(0x2dd)],'CiQwu':_0x181e46(0x7fa),'rLjJz':function(_0x165904,_0x555656){return _0x53a9dd['nnniY'](_0x165904,_0x555656);},'qGNYn':_0x53a9dd[_0x181e46(0x461)],'OCUrY':'some\x20reason','NAoLT':_0x181e46(0x7e0),'TfgDd':_0x53a9dd['laAQP'],'tcqNp':'message','QPWxH':_0x181e46(0x597),'yWMNC':_0x53a9dd[_0x181e46(0x3f0)],'doeXD':_0x53a9dd['nkrJT']};_0x53a9dd['Nfokq'](it,_0x53a9dd[_0x181e46(0x6c9)],_0x13369a=>{const _0x1ba56b=_0x181e46,_0x8a09fc={'zcOGC':'0|2|1|4|3','KonUm':_0x4ea34b[_0x1ba56b(0x384)],'WJIPr':_0x1ba56b(0x7fa)},_0x51d8f6=new WebSocket['Server']({'port':0x0},()=>{const _0xe7eaf7=_0x1ba56b,_0x52a6b3={'PjNiX':function(_0x32cf95,_0x48b074){return _0x32cf95 instanceof _0x48b074;},'qTcrs':_0x4ea34b[_0xe7eaf7(0x384)]};if(_0xe7eaf7(0x4dc)===_0xe7eaf7(0x4dc)){const _0x24279f=new WebSocket(_0xe7eaf7(0x2c9)+_0x51d8f6[_0xe7eaf7(0x774)]()[_0xe7eaf7(0x62b)]);_0x24279f['on'](_0x4ea34b[_0xe7eaf7(0x605)],()=>_0x13369a(new Error(_0xe7eaf7(0x210)))),_0x24279f['on'](_0xe7eaf7(0x6af),_0x2caf5a=>{const _0x47e7de=_0xe7eaf7;assert['ok'](_0x52a6b3[_0x47e7de(0x34c)](_0x2caf5a,Error)),assert[_0x47e7de(0x5ab)](_0x2caf5a['message'],_0x47e7de(0x40b)),_0x24279f['on'](_0x52a6b3[_0x47e7de(0x326)],()=>_0x51d8f6[_0x47e7de(0x2ae)](_0x13369a));}),_0x24279f['close'](0x3e9);}else{const _0x4a6d5f=_0x8a09fc[_0xe7eaf7(0x2f4)][_0xe7eaf7(0x1ab)]('|');let _0x564a00=0x0;while(!![]){switch(_0x4a6d5f[_0x564a00++]){case'0':_0x3b5e0a['ok'](_0x160e3c instanceof _0x4a3259);continue;case'1':_0x397fd8[_0xe7eaf7(0x5ab)](_0x3ce6c3['_redirects'],0x2);continue;case'2':_0x31771e['strictEqual'](_0x9a913f['message'],'Maximum\x20redirects\x20exceeded');continue;case'3':_0x5ad713['on'](_0x8a09fc['KonUm'],()=>_0x3800cf());continue;case'4':_0x234f6d[_0xe7eaf7(0x73c)](_0x8a09fc[_0xe7eaf7(0x5a7)],_0x431b13);continue;}break;}}});}),it('closes\x20the\x20connection\x20if\x20called\x20while\x20connecting\x20(2/3)',_0x2bbf37=>{const _0x370345=_0x181e46,_0x1dfec8={'rdApv':function(_0x209a11,_0x4090cb){const _0x4ee05a=_0x1abd;return _0x53a9dd[_0x4ee05a(0x698)](_0x209a11,_0x4090cb);},'XvQxx':_0x53a9dd[_0x370345(0x2dd)],'XdGPc':_0x370345(0x2ae),'gWTaS':_0x53a9dd[_0x370345(0x406)],'WkRjI':_0x53a9dd[_0x370345(0x532)]},_0x7f0486=new WebSocket[(_0x370345(0x543))]({'verifyClient':(_0x1fd3a1,_0x1434a6)=>setTimeout(_0x1434a6,0x12c,!![]),'port':0x0},()=>{const _0x3056da=_0x370345,_0x339a72=new WebSocket('ws://localhost:'+_0x7f0486[_0x3056da(0x774)]()['port']);_0x339a72['on'](_0x1dfec8[_0x3056da(0x61b)],()=>_0x2bbf37(new Error(_0x3056da(0x210)))),_0x339a72['on'](_0x1dfec8[_0x3056da(0x227)],_0x2371b0=>{const _0x56e8ca=_0x3056da;assert['ok'](_0x1dfec8[_0x56e8ca(0x216)](_0x2371b0,Error)),assert[_0x56e8ca(0x5ab)](_0x2371b0[_0x56e8ca(0x703)],_0x1dfec8[_0x56e8ca(0x35f)]),_0x339a72['on'](_0x1dfec8['XdGPc'],()=>_0x7f0486[_0x56e8ca(0x2ae)](_0x2bbf37));}),setTimeout(()=>_0x339a72[_0x3056da(0x2ae)](0x3e9),0x96);});}),it(_0x181e46(0x637),_0x328c67=>{const _0x214f32=_0x181e46,_0x1084fe={'nEiui':function(_0x20e67d,_0xcd40aa){return _0x20e67d instanceof _0xcd40aa;},'vKCIY':function(_0x198874){return _0x198874();},'eFWzL':_0x214f32(0x5c1),'vYbea':_0x214f32(0x614),'nshYG':_0x53a9dd[_0x214f32(0x520)],'WpiKk':function(_0x285cd9,_0x55256c){return _0x53a9dd['icmNB'](_0x285cd9,_0x55256c);},'pEHLb':function(_0x1e44ec,_0x401b0d){return _0x1e44ec+_0x401b0d;},'cnPzh':function(_0x2beaaa,_0x14cb09){return _0x2beaaa+_0x14cb09;},'StmiX':function(_0x59f8cd,_0x9a02d8){const _0x5e93ed=_0x214f32;return _0x53a9dd[_0x5e93ed(0x4b8)](_0x59f8cd,_0x9a02d8);},'RTbyF':_0x214f32(0x2ef)},_0x55972a=http[_0x214f32(0x256)]();_0x55972a[_0x214f32(0x66d)](0x0,()=>{const _0x467f28=_0x214f32,_0x401b06={'bUKaK':function(_0x477a90){const _0x1dcd1e=_0x1abd;return _0x1084fe[_0x1dcd1e(0x56e)](_0x477a90);}};if(_0x1084fe[_0x467f28(0x776)]!==_0x1084fe[_0x467f28(0x776)])_0x17cbad[_0x467f28(0x5ab)](_0x26ce38,'foo'),_0x401b06[_0x467f28(0x813)](_0x58a78f);else{const _0x135a2d=new WebSocket(_0x467f28(0x2c9)+_0x55972a['address']()[_0x467f28(0x62b)]);_0x135a2d['on'](_0x1084fe[_0x467f28(0x356)],()=>_0x328c67(new Error('Unexpected\x20\x27open\x27\x20event'))),_0x135a2d['on']('error',_0x329e4f=>{const _0x37f7b3=_0x467f28;assert['ok'](_0x1084fe[_0x37f7b3(0x7ac)](_0x329e4f,Error)),assert[_0x37f7b3(0x5ab)](_0x329e4f[_0x37f7b3(0x703)],'WebSocket\x20was\x20closed\x20before\x20the\x20connection\x20was\x20established'),_0x135a2d['on'](_0x37f7b3(0x2ae),()=>{const _0x39c9e0=_0x37f7b3;_0x55972a[_0x39c9e0(0x2ae)](_0x328c67);});}),_0x135a2d['on']('unexpected-response',(_0x453339,_0x5554d2)=>{const _0x13e6d3=_0x467f28,_0x2672ef={'XLfOF':_0x13e6d3(0x7e0)};assert[_0x13e6d3(0x5ab)](_0x5554d2['statusCode'],0x1f6);const _0x75ac25=[];_0x5554d2['on']('data',_0x142818=>{_0x75ac25['push'](_0x142818);}),_0x5554d2['on'](_0x13e6d3(0x5d2),()=>{const _0x53a341=_0x13e6d3;assert[_0x53a341(0x5ab)](Buffer[_0x53a341(0x682)](_0x75ac25)[_0x53a341(0x5a0)](),_0x2672ef[_0x53a341(0x404)]),_0x135a2d[_0x53a341(0x2ae)]();});});}}),_0x55972a['on']('upgrade',(_0x49b210,_0x365d2d)=>{const _0x1ecfdc=_0x214f32;_0x365d2d['on'](_0x1084fe[_0x1ecfdc(0x4a9)],_0x365d2d[_0x1ecfdc(0x5d2)]),_0x365d2d[_0x1ecfdc(0x7d9)](_0x1084fe['WpiKk'](_0x1084fe[_0x1ecfdc(0x35c)](_0x1084fe[_0x1ecfdc(0x5eb)](_0x1084fe[_0x1ecfdc(0x35c)](_0x1084fe[_0x1ecfdc(0x5c8)](_0x1ecfdc(0x7b8)+http[_0x1ecfdc(0x276)][0x1f6]+'\x0d\x0a',_0x1084fe['RTbyF']),_0x1ecfdc(0x630)),'Content-Length:\x203\x0d\x0a'),'\x0d\x0a'),_0x1ecfdc(0x7e0)));});}),it(_0x53a9dd['bqbnC'],_0x6a730c=>{const _0x2ecc16=_0x181e46,_0x2ed4c8={'gnnwr':_0x4ea34b['SeQxj'],'uarIa':function(_0x438c27,_0x17538a){return _0x438c27!==_0x17538a;},'JZZOS':'YGmDv','Scwxp':_0x4ea34b[_0x2ecc16(0x3bf)],'PARrS':_0x4ea34b[_0x2ecc16(0x384)]},_0x49d3ec=net['createServer']();_0x49d3ec['on'](_0x2ecc16(0x597),_0x46692e=>{const _0x303661=_0x2ecc16,_0x343caa={'mNPZP':_0x2ed4c8[_0x303661(0x327)]};if(_0x2ed4c8[_0x303661(0x7dc)](_0x2ed4c8['JZZOS'],_0x303661(0x3da)))_0x46692e['on'](_0x2ed4c8[_0x303661(0x5d7)],_0x46692e['end']),_0x46692e[_0x303661(0x722)](),_0x46692e[_0x303661(0x7d9)](Buffer[_0x303661(0x6ec)](_0x303661(0x265)));else{const _0x56bb88={'SbvKF':_0x343caa[_0x303661(0x4b0)],'JToUg':function(_0x42ac5c,_0x1604b6){return _0x42ac5c instanceof _0x1604b6;},'ZwiDh':_0x303661(0x63a),'rJujY':'close'};_0x470e31[_0x303661(0x2ae)](),_0x2e7ec3[_0x303661(0x5ab)](_0x318112['bufferedAmount'],0x0),_0x446e2e[_0x303661(0x769)]('hi',_0x2c7b73=>{const _0x11008b=_0x303661,_0xef1179={'loEvw':function(_0x3e317e,_0x5d4135){return _0x3e317e instanceof _0x5d4135;},'KLGsB':_0x56bb88[_0x11008b(0x453)]};_0xabc18f['ok'](_0x56bb88[_0x11008b(0x480)](_0x2c7b73,_0x2849a1)),_0x18387f[_0x11008b(0x5ab)](_0x2c7b73['message'],_0x56bb88[_0x11008b(0x656)]),_0x43fc3f[_0x11008b(0x5ab)](_0x46cd36['bufferedAmount'],0x2),_0xb0e80['on'](_0x56bb88[_0x11008b(0x4ce)],()=>{_0x10330b['ping'](_0x5c5b13=>{const _0x4485d3=_0x1abd;_0x3c30af['ok'](_0xef1179['loEvw'](_0x5c5b13,_0x28fdbc)),_0x148fa5[_0x4485d3(0x5ab)](_0x5c5b13[_0x4485d3(0x703)],_0xef1179[_0x4485d3(0x6cb)]),_0x40f98b[_0x4485d3(0x5ab)](_0x32650[_0x4485d3(0x7b9)],0x2),_0x88d442[_0x4485d3(0x2ae)](_0x14d668);});});});}}),_0x49d3ec[_0x2ecc16(0x66d)](0x0,()=>{const _0x56ff3f=_0x2ecc16;if(_0x56ff3f(0x7f7)!==_0x4ea34b[_0x56ff3f(0x26d)])_0x421e5e[_0x56ff3f(0x602)](_0x3801eb);else{const _0x427cbc=new WebSocket(_0x56ff3f(0x2c9)+_0x49d3ec[_0x56ff3f(0x774)]()[_0x56ff3f(0x62b)]);_0x427cbc['on'](_0x4ea34b['ummxp'],()=>_0x6a730c(new Error('Unexpected\x20\x27open\x27\x20event'))),_0x427cbc['on'](_0x4ea34b['SEnis'],_0x3de027=>{const _0x3340a4=_0x56ff3f;assert['ok'](_0x3de027 instanceof Error),assert[_0x3340a4(0x5ab)](_0x3de027[_0x3340a4(0x6a1)],'HPE_INVALID_CONSTANT'),_0x427cbc[_0x3340a4(0x2ae)](),_0x427cbc['on'](_0x2ed4c8[_0x3340a4(0x405)],()=>{const _0x284be2=_0x3340a4;_0x49d3ec[_0x284be2(0x2ae)](_0x6a730c);});});}});}),_0x53a9dd[_0x181e46(0x55a)](it,_0x53a9dd['mRihh'],_0x1ec853=>{const _0x166a14=_0x181e46,_0x5e9b41={'RlFUI':function(_0x124ea0,_0x34e7cf){return _0x124ea0(_0x34e7cf);},'IlsgU':'BapST','jxAUn':function(_0x345f87,_0x33641b){return _0x4ea34b['NKMAF'](_0x345f87,_0x33641b);},'nERrX':_0x4ea34b[_0x166a14(0x1ef)],'Ltixv':_0x4ea34b['DaobH']},_0x52c517=http[_0x166a14(0x256)]();_0x52c517[_0x166a14(0x5f3)](_0x4ea34b[_0x166a14(0x351)],(_0x5ea671,_0x29d69f)=>{const _0x11a9c5=_0x166a14;_0x29d69f[_0x11a9c5(0x5d2)](_0x4ea34b[_0x11a9c5(0x7ab)]);}),_0x52c517[_0x166a14(0x66d)](()=>{const _0x2ceb7b=_0x166a14,_0x1b93e5=_0x52c517['address']()[_0x2ceb7b(0x62b)],_0x4a64c7=new WebSocket(_0x2ceb7b(0x2c9)+_0x1b93e5,{'followRedirects':!![]});_0x4a64c7['on']('open',()=>{const _0x356916=_0x2ceb7b;_0x5e9b41[_0x356916(0x6fd)](_0x1ec853,new Error(_0x356916(0x210)));}),_0x4a64c7['on'](_0x4ea34b[_0x2ceb7b(0x5ae)],_0xf4fe52=>{const _0x19dedd=_0x2ceb7b,_0x328938={'CeyNF':_0x5e9b41[_0x19dedd(0x1c1)]};assert['ok'](_0x5e9b41[_0x19dedd(0x4ad)](_0xf4fe52,Error)),assert['strictEqual'](_0xf4fe52[_0x19dedd(0x703)],_0x5e9b41['nERrX']),_0x4a64c7['on'](_0x5e9b41[_0x19dedd(0x6e9)],_0x2347b9=>{const _0x38ce76=_0x19dedd;_0x328938[_0x38ce76(0x68d)]==='BapST'?(assert['strictEqual'](_0x2347b9,0x3ee),_0x52c517['close'](_0x1ec853)):(_0x4401df['strictEqual'](_0x36ef38['readyState'],_0x80dd4c['CLOSED']),_0x1a1b1e[_0x38ce76(0x401)](),_0x4824bf['ok'](!_0x51abc0['isPaused']),_0x5bd0f3[_0x38ce76(0x2ae)](_0x508840));});}),_0x4a64c7['on'](_0x4ea34b[_0x2ceb7b(0x3e4)],()=>{const _0x231e43=_0x2ceb7b;_0x4a64c7[_0x231e43(0x2ae)]();});});}),_0x53a9dd['rcmDv'](it,_0x53a9dd[_0x181e46(0x33f)],_0x44f1a1=>{const _0x1e8fba=_0x181e46,_0x1609cd={'eRBOA':'WebSocket\x20was\x20closed\x20before\x20the\x20connection\x20was\x20established','PFdvC':_0x1e8fba(0x614),'PQoDY':_0x1e8fba(0x7fa)},_0x53ccd3=new WebSocket[(_0x1e8fba(0x543))]({'port':0x0},()=>{const _0xa3f38f=_0x1e8fba,_0x544e55={'XSiXr':_0x1609cd[_0xa3f38f(0x709)]},_0x4238db=new WebSocket('ws://localhost:'+_0x53ccd3[_0xa3f38f(0x774)]()['port']);_0x4238db['on'](_0x1609cd['PFdvC'],()=>_0x44f1a1(new Error(_0xa3f38f(0x210)))),_0x4238db['on'](_0xa3f38f(0x6af),_0x2a40d8=>{const _0x31d409=_0xa3f38f;assert['ok'](_0x2a40d8 instanceof Error),assert['strictEqual'](_0x2a40d8[_0x31d409(0x703)],_0x544e55[_0x31d409(0x5bd)]),_0x4238db['on'](_0x31d409(0x2ae),()=>_0x53ccd3['close'](_0x44f1a1));}),_0x4238db['on'](_0x1609cd[_0xa3f38f(0x5d5)],()=>_0x4238db['close']());});}),it(_0x181e46(0x2d3),_0x48b076=>{const _0x1125c3=_0x181e46,_0x202b15={'CNHrQ':_0x1125c3(0x20e)};let _0x280f89;const _0x194445=new WebSocket[(_0x1125c3(0x543))]({'port':0x0},()=>{const _0x12401d=_0x1125c3,_0x2bbf67=new WebSocket(_0x12401d(0x2c9)+_0x194445[_0x12401d(0x774)]()[_0x12401d(0x62b)]);_0x2bbf67['on'](_0x12401d(0x614),()=>{const _0xd5dbd4=_0x12401d;_0x2bbf67['_socket'][_0xd5dbd4(0x5f3)](_0x202b15[_0xd5dbd4(0x1dc)],_0x5811c5=>{_0x280f89=_0x5811c5;});});});_0x194445['on'](_0x1125c3(0x597),_0x1896c7=>{const _0x3037df=_0x1125c3;_0x1896c7[_0x3037df(0x268)]['once'](_0x3037df(0x20e),_0x4974b2=>{const _0x1385dd=_0x3037df;assert['deepStrictEqual'](_0x4974b2[_0x1385dd(0x2f6)](0x0,0x2),Buffer[_0x1385dd(0x6ec)]([0x88,0x80])),assert[_0x1385dd(0x25d)](_0x280f89,Buffer[_0x1385dd(0x6ec)]([0x88,0x0])),_0x1896c7['on'](_0x1385dd(0x2ae),(_0x1bb9cd,_0x3ddf08)=>{const _0x316cc1=_0x1385dd;assert['strictEqual'](_0x1bb9cd,0x3ed),assert['strictEqual'](_0x3ddf08,EMPTY_BUFFER),_0x194445[_0x316cc1(0x2ae)](_0x48b076);});}),_0x1896c7['close']();});}),_0x53a9dd[_0x181e46(0x1be)](it,_0x181e46(0x5cc),_0x312fbc=>{const _0x31d056=_0x181e46,_0x23aa47=new WebSocket[(_0x31d056(0x543))]({'port':0x0},()=>{const _0x40add0=_0x31d056,_0x3a6e52=new WebSocket(_0x40add0(0x2c9)+_0x23aa47['address']()[_0x40add0(0x62b)]);_0x3a6e52['on'](_0x40add0(0x614),()=>_0x3a6e52[_0x40add0(0x2ae)](0x3e8));});_0x23aa47['on'](_0x31d056(0x597),_0x3e052e=>{const _0x1822ea=_0x31d056;_0x3e052e['on'](_0x4ea34b[_0x1822ea(0x384)],(_0x100c16,_0x7c677f)=>{const _0x4ac9a1=_0x1822ea;assert[_0x4ac9a1(0x5ab)](_0x100c16,0x3e8),assert[_0x4ac9a1(0x25d)](_0x7c677f,EMPTY_BUFFER),_0x23aa47[_0x4ac9a1(0x2ae)](_0x312fbc);});});}),_0x53a9dd[_0x181e46(0x7dd)](it,_0x181e46(0x788),_0xc79a68=>{const _0x46016f=_0x181e46,_0x5dc042={'MImcs':function(_0x44c5dd,_0x46cb3a){const _0x109da7=_0x1abd;return _0x4ea34b[_0x109da7(0x5f0)](_0x44c5dd,_0x46cb3a);},'EczwP':_0x4ea34b[_0x46016f(0x3df)],'rimeJ':_0x46016f(0x610),'ftDhC':_0x4ea34b[_0x46016f(0x74d)]},_0x2faf77=new WebSocket[(_0x46016f(0x543))]({'port':0x0},()=>{const _0x106ea5=_0x46016f,_0x19f13f=new WebSocket('ws://localhost:'+_0x2faf77['address']()[_0x106ea5(0x62b)]);_0x19f13f['on'](_0x106ea5(0x614),()=>_0x19f13f[_0x106ea5(0x2ae)](0x3e8,'some\x20reason'));});_0x2faf77['on'](_0x46016f(0x597),_0x233cef=>{const _0x223e46=_0x46016f;_0x233cef['on'](_0x223e46(0x2ae),(_0x122bfe,_0x1a4561)=>{const _0x55215f=_0x223e46;if(_0x5dc042[_0x55215f(0x5b1)](_0x5dc042['EczwP'],_0x5dc042[_0x55215f(0x470)])){const _0x304f9b=new _0x3e1ab2('ws://localhost:'+_0x46e429[_0x55215f(0x774)]()[_0x55215f(0x62b)]);_0x304f9b['on']('open',()=>_0x304f9b[_0x55215f(0x2ae)](0x3e8,'some\x20reason'));}else assert[_0x55215f(0x5ab)](_0x122bfe,0x3e8),assert[_0x55215f(0x25d)](_0x1a4561,Buffer[_0x55215f(0x6ec)](_0x5dc042[_0x55215f(0x20f)])),_0x2faf77[_0x55215f(0x2ae)](_0xc79a68);});});}),it(_0x53a9dd[_0x181e46(0x5c0)],_0x2971df=>{const _0xb49875=_0x181e46,_0xbd7acb={'vfBbW':'foo'},_0x37904c=new WebSocket['Server']({'perMessageDeflate':{'threshold':0x0},'port':0x0},()=>{const _0x1698ab=_0x1abd,_0x13a5ea={'FlqRy':_0x4ea34b[_0x1698ab(0x294)],'HyKnT':_0x4ea34b[_0x1698ab(0x5e5)]},_0x5c17c2=new WebSocket(_0x1698ab(0x2c9)+_0x37904c[_0x1698ab(0x774)]()['port']),_0x554af1=[];_0x5c17c2['on'](_0x4ea34b['tcqNp'],(_0x9e90c8,_0x130122)=>{const _0x102c2f=_0x1698ab;assert['ok'](!_0x130122),_0x554af1[_0x102c2f(0x602)](_0x9e90c8['toString']());}),_0x5c17c2['on'](_0x4ea34b[_0x1698ab(0x384)],_0x485277=>{const _0x3de20e=_0x1698ab;assert[_0x3de20e(0x5ab)](_0x485277,0x3ed),assert[_0x3de20e(0x25d)](_0x554af1,[_0x13a5ea['FlqRy'],_0x13a5ea[_0x3de20e(0x6c3)],_0x3de20e(0x409)]),_0x37904c[_0x3de20e(0x2ae)](_0x2971df);});});_0x37904c['on'](_0xb49875(0x597),_0x49a3b8=>{const _0x5f0237=_0xb49875,_0x47396e=_0x4e84ae=>assert[_0x5f0237(0x34b)](_0x4e84ae);_0x49a3b8['send'](_0xbd7acb['vfBbW'],_0x47396e),_0x49a3b8['send'](_0x5f0237(0x64d),_0x47396e),_0x49a3b8[_0x5f0237(0x486)](_0x5f0237(0x409),_0x47396e),_0x49a3b8[_0x5f0237(0x2ae)](),_0x49a3b8[_0x5f0237(0x2ae)]();});}),it(_0x53a9dd['irmCF'],_0x327204=>{const _0x5df248=_0x181e46,_0x3b279f=new WebSocket[(_0x5df248(0x543))]({'port':0x0},()=>{const _0x44d2b1=_0x5df248,_0xf407c6=new WebSocket('ws://localhost:'+_0x3b279f[_0x44d2b1(0x774)]()[_0x44d2b1(0x62b)]);_0xf407c6['on'](_0x44d2b1(0x2ae),_0x1b1e74=>{const _0x424f53=_0x44d2b1;assert['strictEqual'](_0x1b1e74,0x3f5),_0x3b279f[_0x424f53(0x2ae)](_0x327204);});});_0x3b279f['on'](_0x4ea34b['QPWxH'],_0x1dfd22=>_0x1dfd22[_0x5df248(0x2ae)](0x3f5));}),_0x53a9dd[_0x181e46(0x4c3)](it,_0x53a9dd[_0x181e46(0x59e)],_0x17e299=>{const _0x5aeaa7=_0x181e46,_0x154df3={'hzZsd':function(_0x4f053d,_0x5ad7d4){const _0x3f2bfb=_0x1abd;return _0x4ea34b[_0x3f2bfb(0x5f0)](_0x4f053d,_0x5ad7d4);},'veaqH':function(_0x167f65,_0x3618fa){return _0x167f65===_0x3618fa;},'iSUzu':_0x4ea34b['yWMNC'],'TCABb':'btNzM','lXLcd':_0x5aeaa7(0x2ae)},_0x320251=new WebSocket[(_0x5aeaa7(0x543))]({'port':0x0},()=>{const _0x310381=_0x5aeaa7,_0x46f338={'tKjET':'cookie','DYEpq':'foo=bar'};if(_0x154df3[_0x310381(0x5c7)](_0x154df3[_0x310381(0x687)],_0x154df3[_0x310381(0x48d)])){const _0x4bb231=new _0x28030f[(_0x310381(0x402))]();_0x4bb231[_0x310381(0x5c3)]=_0x20ae32=>{const _0xb27db0=_0x310381;_0x33428c[_0xb27db0(0x5ab)](_0x20ae32[_0xb27db0(0x644)](_0x46f338[_0xb27db0(0x362)]),_0x46f338[_0xb27db0(0x3b5)]),_0x5595d1();};const _0x40af46=new _0x3fcf6e(_0x310381(0x588),{'headers':{'Cookie':'foo=bar'},'agent':_0x4bb231});}else{const _0x3d84a5=new WebSocket('ws://localhost:'+_0x320251[_0x310381(0x774)]()[_0x310381(0x62b)]);_0x3d84a5['on'](_0x154df3['lXLcd'],_0x5ef35f=>{const _0x417c2a=_0x310381,_0x507a2c={'PqKuU':function(_0x12142d){return _0x12142d();},'uchDA':'Upgrade'};if(_0x154df3[_0x417c2a(0x522)](_0x417c2a(0x26c),_0x417c2a(0x47d))){const _0x8bd5da={'lPDJG':_0x417c2a(0x5b5),'gmhXw':function(_0x882fae){const _0x14f6b0=_0x417c2a;return _0x507a2c[_0x14f6b0(0x311)](_0x882fae);}};_0x455c66[_0x417c2a(0x25d)](_0x508131['headers'],{'connection':_0x507a2c['uchDA']}),_0x7cc071['on'](_0x417c2a(0x6af),_0x28a2b7=>{const _0x5249ee=_0x417c2a;_0x1cb79d['ok'](_0x28a2b7 instanceof _0x5ad86e),_0x1a264b[_0x5249ee(0x5ab)](_0x28a2b7['message'],_0x8bd5da[_0x5249ee(0x4b2)]),_0x8bd5da[_0x5249ee(0x3d8)](_0x4286b7);});}else assert[_0x417c2a(0x5ab)](_0x5ef35f,0x3f6),_0x320251['close'](_0x17e299);});}});_0x320251['on'](_0x4ea34b['QPWxH'],_0x4237c3=>_0x4237c3[_0x5aeaa7(0x2ae)](0x3f6));}),it(_0x53a9dd[_0x181e46(0x55d)],_0x53a408=>{const _0x65a87e=_0x181e46,_0x47999c={'lGDHq':_0x4ea34b[_0x65a87e(0x21c)],'HKvWM':_0x4ea34b[_0x65a87e(0x384)]},_0x330b1c=new WebSocket[(_0x65a87e(0x543))]({'port':0x0},()=>{const _0xccbe8d=_0x65a87e,_0x514009=new WebSocket(_0xccbe8d(0x2c9)+_0x330b1c[_0xccbe8d(0x774)]()[_0xccbe8d(0x62b)]);_0x514009['on'](_0x47999c[_0xccbe8d(0x75b)],_0x3f0a81=>{const _0x1bd506=_0xccbe8d,_0x38c096={'uXcYG':_0x1bd506(0x703)};_0x47999c['lGDHq']===_0x47999c['lGDHq']?(assert[_0x1bd506(0x5ab)](_0x3f0a81,0x3ed),assert['strictEqual'](_0x514009[_0x1bd506(0x5bc)],WebSocket['CLOSED']),_0x514009['close'](),_0x330b1c[_0x1bd506(0x2ae)](_0x53a408)):_0x3d2f09['on'](_0x38c096['uXcYG'],(_0xfc6f35,_0x4b0b1c)=>{const _0x2d61fe=_0x1bd506;_0x373032[_0x2d61fe(0x486)](_0xfc6f35,{'binary':_0x4b0b1c});});});});_0x330b1c['on'](_0x4ea34b[_0x65a87e(0x213)],_0x513275=>_0x513275[_0x65a87e(0x2ae)]());}),it(_0x181e46(0x22e),_0xd3c0ad=>{const _0x2abec7=_0x181e46,_0x4b55b8={'FKwRQ':_0x4ea34b['NAoLT'],'QddMH':_0x4ea34b[_0x2abec7(0x384)],'badhi':'open'},_0xf6c1b9=new WebSocket[(_0x2abec7(0x543))]({'port':0x0},()=>{const _0x5cef40=_0x2abec7,_0x4a8042={'muKsB':_0x4b55b8[_0x5cef40(0x671)],'xnXsC':_0x5cef40(0x388)},_0x16e0ef=new WebSocket('ws://localhost:'+_0xf6c1b9[_0x5cef40(0x774)]()[_0x5cef40(0x62b)]);_0x16e0ef['on'](_0x4b55b8[_0x5cef40(0x538)],(_0x1e9591,_0x4a9c31)=>{const _0x291d12=_0x5cef40;assert['strictEqual'](_0x1e9591,0x3e8),assert[_0x291d12(0x25d)](_0x4a9c31,Buffer['from'](_0x291d12(0x388))),_0xf6c1b9[_0x291d12(0x2ae)](_0xd3c0ad);}),_0x16e0ef['on'](_0x4b55b8['badhi'],()=>{const _0x2a1818=_0x5cef40,_0x59f155={'qiqkK':_0x2a1818(0x2a2)};let _0x32807f=![];assert[_0x2a1818(0x5ab)](_0x16e0ef[_0x2a1818(0x472)],null),_0x16e0ef[_0x2a1818(0x486)](_0x4a8042['muKsB'],()=>{const _0x28da61=_0x2a1818,_0x19df63={'VaLlA':function(_0x20b975,_0xf86205){return _0x20b975<_0xf86205;},'wjKZX':function(_0x85d1ce,_0x4d22e0){return _0x85d1ce/_0x4d22e0;},'PRsWI':_0x28da61(0x614)};if(_0x59f155[_0x28da61(0x550)]===_0x59f155[_0x28da61(0x550)])_0x32807f=!![];else{const _0x1a2f8e=new _0x3667aa(0x5);for(let _0x40dd2b=0x0;_0x19df63['VaLlA'](_0x40dd2b,_0x1a2f8e[_0x28da61(0x41b)]);++_0x40dd2b){_0x1a2f8e[_0x40dd2b]=_0x19df63[_0x28da61(0x7bd)](_0x40dd2b,0x2);}const _0x47a8c3=new _0x5b64e1(_0x28da61(0x2c9)+_0xfc0f83[_0x28da61(0x774)]()['port']);_0x47a8c3['on'](_0x19df63['PRsWI'],()=>{const _0x27b025=_0x28da61;_0x47a8c3[_0x27b025(0x486)](_0x1a2f8e[_0x27b025(0x295)]),_0x47a8c3[_0x27b025(0x2ae)]();}),_0x47a8c3[_0x28da61(0x5db)]=_0x225124=>{const _0x4ca8d8=_0x28da61;_0x1843ab['ok'](_0x225124[_0x4ca8d8(0x20e)]['equals'](_0x3eb50c[_0x4ca8d8(0x6ec)](_0x1a2f8e['buffer']))),_0x55487e[_0x4ca8d8(0x2ae)](_0x3067b7);};}}),_0x16e0ef[_0x2a1818(0x2ae)](0x3e8,_0x4a8042[_0x2a1818(0x6bc)]),assert[_0x2a1818(0x5ab)](_0x32807f,![]),assert[_0x2a1818(0x5ab)](_0x16e0ef[_0x2a1818(0x472)][_0x2a1818(0x1f8)],0x7530);});});});}),_0x53a9dd[_0x3f0b7e(0x4c3)](describe,_0x3f0b7e(0x7c4),()=>{const _0xbfc200=_0x3f0b7e,_0x5631c5={'qkDZg':_0x53a9dd[_0xbfc200(0x406)],'iqPjc':function(_0xd5e685,_0x230e91){return _0x53a9dd['lqZUl'](_0xd5e685,_0x230e91);},'VMrWF':_0xbfc200(0x385),'HIwJD':_0xbfc200(0x386),'jljxm':'redirect','dTazc':function(_0x57e464,_0x5f4978){return _0x53a9dd['nnniY'](_0x57e464,_0x5f4978);},'evFUD':'DNVwT','pHdAu':function(_0x14d6a1,_0x10834e){const _0x251d10=_0xbfc200;return _0x53a9dd[_0x251d10(0x7d6)](_0x14d6a1,_0x10834e);}};_0x53a9dd['FVbNO'](it,_0x53a9dd['yXjoT'],_0x365782=>{const _0xf02008=_0xbfc200;if(_0x5631c5[_0xf02008(0x71c)](_0x5631c5[_0xf02008(0x7d7)],_0xf02008(0x540))){const _0x351e92=new WebSocket['Server']({'port':0x0},()=>{const _0x31fffd=_0xf02008,_0x513cd5={'MLjEZ':function(_0x48547d,_0x5842e5){return _0x48547d instanceof _0x5842e5;},'tdOQI':_0x31fffd(0x40b)},_0x95de1f=new WebSocket('ws://localhost:'+_0x351e92[_0x31fffd(0x774)]()[_0x31fffd(0x62b)]);_0x95de1f['on'](_0x5631c5[_0x31fffd(0x3fc)],()=>_0x365782(new Error('Unexpected\x20\x27open\x27\x20event'))),_0x95de1f['on'](_0x31fffd(0x6af),_0x12172b=>{const _0x5e825b=_0x31fffd;assert['ok'](_0x513cd5[_0x5e825b(0x481)](_0x12172b,Error)),assert[_0x5e825b(0x5ab)](_0x12172b[_0x5e825b(0x703)],_0x513cd5[_0x5e825b(0x2b8)]),_0x95de1f['on'](_0x5e825b(0x2ae),()=>_0x351e92[_0x5e825b(0x2ae)](_0x365782));}),_0x95de1f[_0x31fffd(0x744)]();});}else _0x5b42ee['ok'](_0xd60cea),_0x1c3dd2[_0xf02008(0x486)](_0x3cdece,{'compress':!![]});}),it(_0x53a9dd[_0xbfc200(0x659)],_0x3be990=>{const _0x1ca22c=_0xbfc200,_0x52c007={'FnKGP':_0x53a9dd[_0x1ca22c(0x3cd)],'cAoAA':function(_0x54daa6,_0x3cf810){const _0x215912=_0x1ca22c;return _0x53a9dd[_0x215912(0x7d6)](_0x54daa6,_0x3cf810);},'bgVyg':'WebSocket\x20was\x20closed\x20before\x20the\x20connection\x20was\x20established','aMzcF':_0x53a9dd[_0x1ca22c(0x39d)]};if(_0x53a9dd[_0x1ca22c(0x366)]!==_0x53a9dd[_0x1ca22c(0x501)]){const _0x4de605=new WebSocket[(_0x1ca22c(0x543))]({'verifyClient':(_0x37e736,_0x424ab1)=>setTimeout(_0x424ab1,0x12c,!![]),'port':0x0},()=>{const _0x3a428c=_0x1ca22c,_0x32cfdb=new WebSocket('ws://localhost:'+_0x4de605['address']()[_0x3a428c(0x62b)]);_0x32cfdb['on'](_0x5631c5[_0x3a428c(0x3fc)],()=>_0x3be990(new Error(_0x3a428c(0x210)))),_0x32cfdb['on'](_0x3a428c(0x6af),_0x1d2c8e=>{const _0x44e73e=_0x3a428c,_0x417eb6={'Jexjt':_0x44e73e(0x6af)};_0x52c007[_0x44e73e(0x7b3)]!==_0x52c007[_0x44e73e(0x7b3)]?(_0x13985d['on'](_0x417eb6[_0x44e73e(0x1bd)],_0x4c468c),_0x1a70e0[_0x44e73e(0x5d2)](_0x44e73e(0x60f)+(_0x44e73e(0x632)+_0x153c7e+'/\x0d\x0a\x0d\x0a'))):(assert['ok'](_0x52c007[_0x44e73e(0x524)](_0x1d2c8e,Error)),assert[_0x44e73e(0x5ab)](_0x1d2c8e[_0x44e73e(0x703)],_0x52c007['bgVyg']),_0x32cfdb['on'](_0x44e73e(0x2ae),()=>_0x4de605[_0x44e73e(0x2ae)](_0x3be990)));}),setTimeout(()=>_0x32cfdb['terminate'](),0x96);});}else{const _0x46165d=new _0x1e119a('ws://localhost:'+_0x19efeb[_0x1ca22c(0x774)]()['port']);_0x46165d['on'](_0x1ca22c(0x614),()=>{const _0x4276ce=_0x1ca22c,_0x5e07b4=_0x52c007['aMzcF'][_0x4276ce(0x1ab)]('|');let _0x30769a=0x0;while(!![]){switch(_0x5e07b4[_0x30769a++]){case'0':_0x46165d[_0x4276ce(0x2ae)]();continue;case'1':_0x129777['ok'](_0x46165d['isPaused']);continue;case'2':_0x4a3a76['ok'](!_0x46165d['isPaused']);continue;case'3':_0x445ec9['close'](_0x1ad4d8);continue;case'4':_0x46165d[_0x4276ce(0x401)]();continue;case'5':_0x46165d[_0x4276ce(0x722)]();continue;}break;}}),_0x17713f['ok'](!_0x46165d[_0x1ca22c(0x252)]);}}),_0x53a9dd[_0xbfc200(0x551)](it,_0x53a9dd[_0xbfc200(0x5b2)],_0x731a28=>{const _0x251468=_0xbfc200,_0x21bfa6={'Nhyig':_0x53a9dd[_0x251468(0x802)],'rHptn':_0x251468(0x6af)},_0x6dfbb4=net[_0x251468(0x256)]();_0x6dfbb4['on'](_0x251468(0x597),_0x28960c=>{const _0x309102=_0x251468;_0x28960c['on'](_0x309102(0x5d2),_0x28960c[_0x309102(0x5d2)]),_0x28960c[_0x309102(0x722)](),_0x28960c[_0x309102(0x7d9)](Buffer['from'](_0x309102(0x265)));}),_0x6dfbb4[_0x251468(0x66d)](0x0,()=>{const _0x41a41a=_0x251468,_0x1c7a52={'fOKaU':_0x21bfa6['Nhyig']},_0x2467c4=new WebSocket('ws://localhost:'+_0x6dfbb4[_0x41a41a(0x774)]()[_0x41a41a(0x62b)]);_0x2467c4['on']('open',()=>_0x731a28(new Error(_0x41a41a(0x210)))),_0x2467c4['on'](_0x21bfa6[_0x41a41a(0x424)],_0x327803=>{const _0x22fc0c=_0x41a41a;assert['ok'](_0x327803 instanceof Error),assert[_0x22fc0c(0x5ab)](_0x327803[_0x22fc0c(0x6a1)],_0x22fc0c(0x77d)),_0x2467c4[_0x22fc0c(0x744)](),_0x2467c4['on'](_0x1c7a52[_0x22fc0c(0x439)],()=>{_0x6dfbb4['close'](_0x731a28);});});});}),it('can\x20be\x20called\x20from\x20a\x20listener\x20of\x20the\x20\x27redirect\x27\x20event',_0x5b3ecf=>{const _0x5d8413=_0xbfc200,_0x4ecfbf={'CSYqQ':_0x5d8413(0x379),'DUONR':function(_0x5e8d1b,_0x1851f3){return _0x5e8d1b(_0x1851f3);},'cdeAx':'Unexpected\x20\x27open\x27\x20event','jAZZC':_0x5d8413(0x614),'DubHH':_0x5631c5[_0x5d8413(0x5a2)],'QJthE':'close'};if(_0x5631c5['dTazc'](_0x5d8413(0x6eb),'heyOJ')){const _0x3be645=http[_0x5d8413(0x256)]();_0x3be645['once'](_0x5d8413(0x7fa),(_0x5ec945,_0x59faf7)=>{const _0x47c3b2=_0x5d8413;_0x59faf7[_0x47c3b2(0x5d2)](_0x5631c5[_0x47c3b2(0x52a)]);}),_0x3be645[_0x5d8413(0x66d)](()=>{const _0x1d514a=_0x5d8413,_0x2fcacc={'oFGcP':function(_0x2096d2,_0x1d5a30){return _0x4ecfbf['DUONR'](_0x2096d2,_0x1d5a30);},'ACLAM':_0x4ecfbf[_0x1d514a(0x340)]},_0x2474b6=_0x3be645[_0x1d514a(0x774)]()[_0x1d514a(0x62b)],_0x3228f9=new WebSocket(_0x1d514a(0x2c9)+_0x2474b6,{'followRedirects':!![]});_0x3228f9['on'](_0x4ecfbf[_0x1d514a(0x62c)],()=>{const _0x3e4f66=_0x1d514a;_0x2fcacc[_0x3e4f66(0x4ee)](_0x5b3ecf,new Error(_0x2fcacc[_0x3e4f66(0x7da)]));}),_0x3228f9['on'](_0x1d514a(0x6af),_0x32786a=>{const _0x4df661=_0x1d514a;_0x4ecfbf[_0x4df661(0x708)]!==_0x4ecfbf[_0x4df661(0x708)]?(_0x3f23bf['strictEqual'](_0x27b0cb[_0x4df661(0x323)],!![]),_0x33b41a[_0x4df661(0x5ab)](_0x18d41c[_0x4df661(0x6a1)],0x3ed),_0x41f54d[_0x4df661(0x5ab)](_0x2eaac7[_0x4df661(0x6e1)],''),_0x528353[_0x4df661(0x2ae)](_0x17a781)):(assert['ok'](_0x32786a instanceof Error),assert[_0x4df661(0x5ab)](_0x32786a[_0x4df661(0x703)],'WebSocket\x20was\x20closed\x20before\x20the\x20connection\x20was\x20established'),_0x3228f9['on']('close',_0x18ca31=>{const _0x1228fa=_0x4df661;assert[_0x1228fa(0x5ab)](_0x18ca31,0x3ee),_0x3be645[_0x1228fa(0x2ae)](_0x5b3ecf);}));}),_0x3228f9['on'](_0x4ecfbf['DubHH'],()=>{const _0x5c3de6=_0x1d514a;_0x3228f9[_0x5c3de6(0x744)]();});});}else{const _0x8d8fad={'zNpqX':_0x4ecfbf[_0x5d8413(0x1d3)]},_0x2626db=new _0x35c8f4[(_0x5d8413(0x543))]({'perMessageDeflate':!![],'port':0x0},()=>{const _0x3e261a=_0x5d8413,_0x4b1a9f=new _0x2c5e58(_0x3e261a(0x2c9)+_0x2626db['address']()['port']);_0x52ea26[_0x3e261a(0x5ab)](_0x4b1a9f['extensions'],''),_0x4b1a9f['on']('open',()=>{const _0x1525df=_0x3e261a;_0x709c92['strictEqual'](_0x4b1a9f['extensions'],_0x1525df(0x5a4)),_0x4b1a9f['on'](_0x8d8fad[_0x1525df(0x74b)],()=>_0x2626db[_0x1525df(0x2ae)](_0x15537a));});});_0x2626db['on'](_0x5d8413(0x597),_0x152202=>{const _0x38c5a1=_0x5d8413;_0x7e9bb7[_0x38c5a1(0x5ab)](_0x152202[_0x38c5a1(0x206)],_0x38c5a1(0x5a4)),_0x152202[_0x38c5a1(0x2ae)]();});}}),it(_0x53a9dd['nwNDp'],_0x4adabc=>{const _0x5999ed=_0xbfc200,_0x58d74e={'Smvbz':_0x5999ed(0x7e0),'gdBmm':_0x5999ed(0x388),'jTxrm':'JOxUC','CZSQP':function(_0x201634,_0x101a00){const _0x250d0b=_0x5999ed;return _0x5631c5[_0x250d0b(0x576)](_0x201634,_0x101a00);}},_0x4e1186=new WebSocket['Server']({'port':0x0},()=>{const _0x2f2e81=_0x5999ed,_0x3c376e={'wVRIV':'close','izQFN':_0x5631c5[_0x2f2e81(0x3fc)]};if(_0x5631c5[_0x2f2e81(0x20b)]!==_0x5631c5['evFUD']){const _0x1c3a5d=new _0x237ddd('ws://localhost:'+_0xfe5e50['address']()[_0x2f2e81(0x62b)]);_0x1c3a5d['on'](_0x3c376e[_0x2f2e81(0x42b)],()=>{const _0x5a69a5=_0x2f2e81;_0x3a6ee5[_0x5a69a5(0x5ab)](_0x1c3a5d[_0x5a69a5(0x5bc)],_0x24acbb[_0x5a69a5(0x3ce)]),_0x4c4010[_0x5a69a5(0x2ae)](_0x3593aa);}),_0x1c3a5d['on'](_0x3c376e['izQFN'],()=>_0x1c3a5d[_0x2f2e81(0x744)]());}else{const _0x1b88cf=new WebSocket(_0x2f2e81(0x2c9)+_0x4e1186[_0x2f2e81(0x774)]()['port']);_0x1b88cf['on'](_0x2f2e81(0x614),()=>_0x4adabc(new Error(_0x2f2e81(0x210)))),_0x1b88cf['on']('error',_0xc1efa6=>{const _0x2ce0db=_0x2f2e81,_0x22d469={'Tiiuy':_0x58d74e[_0x2ce0db(0x7c8)],'KsXwd':_0x58d74e[_0x2ce0db(0x224)]};if(_0x58d74e[_0x2ce0db(0x4a7)]!==_0x2ce0db(0x2e3)){let _0x5b591b=![];_0xeebfe0['strictEqual'](_0x1899b0[_0x2ce0db(0x472)],null),_0x306cbb[_0x2ce0db(0x486)](_0x22d469['Tiiuy'],()=>{_0x5b591b=!![];}),_0x4b01f0['close'](0x3e8,_0x22d469[_0x2ce0db(0x1c4)]),_0x43e999[_0x2ce0db(0x5ab)](_0x5b591b,![]),_0x286ea0[_0x2ce0db(0x5ab)](_0x5407a0['_closeTimer'][_0x2ce0db(0x1f8)],0x7530);}else assert['ok'](_0x58d74e['CZSQP'](_0xc1efa6,Error)),assert[_0x2ce0db(0x5ab)](_0xc1efa6['message'],_0x2ce0db(0x40b)),_0x1b88cf['on'](_0x2ce0db(0x2ae),()=>_0x4e1186['close'](_0x4adabc));}),_0x1b88cf['on'](_0x2f2e81(0x7fa),()=>_0x1b88cf['terminate']());}});}),it(_0x53a9dd[_0xbfc200(0x55d)],_0x52fe06=>{const _0xd194e=_0xbfc200,_0x260c72=new WebSocket[(_0xd194e(0x543))]({'port':0x0},()=>{const _0x98e81e=_0xd194e,_0x41247a=new WebSocket(_0x98e81e(0x2c9)+_0x260c72[_0x98e81e(0x774)]()['port']);_0x41247a['on'](_0x98e81e(0x2ae),_0x27b69a=>{const _0x3ba365=_0x98e81e;assert[_0x3ba365(0x5ab)](_0x27b69a,0x3ee),assert[_0x3ba365(0x5ab)](_0x41247a[_0x3ba365(0x5bc)],WebSocket[_0x3ba365(0x3ce)]),_0x41247a[_0x3ba365(0x744)](),_0x260c72['close'](_0x52fe06);});});_0x260c72['on']('connection',_0x390bd4=>_0x390bd4[_0xd194e(0x744)]());});}),_0x53a9dd['qenwy'](describe,_0x53a9dd[_0x3f0b7e(0x688)],()=>{const _0x563adb=_0x3f0b7e,_0x2194ca={'VsrvR':_0x53a9dd[_0x563adb(0x494)],'KIQaX':_0x563adb(0x352),'CUiWY':function(_0x3aed4c,_0x298b54){const _0x2f6a82=_0x563adb;return _0x53a9dd[_0x2f6a82(0x1f0)](_0x3aed4c,_0x298b54);},'ZCNYt':function(_0x168366,_0x18a59e){return _0x53a9dd['eXuEe'](_0x168366,_0x18a59e);},'DybDD':_0x53a9dd['zosIy'],'wwQnV':_0x563adb(0x478),'ExbJS':_0x53a9dd['LGUNp'],'GGold':_0x563adb(0x364),'lTRMx':_0x53a9dd[_0x563adb(0x6e7)],'NHjhc':_0x53a9dd[_0x563adb(0x408)],'beyrN':function(_0x4f4260,_0x15c244){return _0x4f4260===_0x15c244;},'KlRuy':_0x53a9dd[_0x563adb(0x764)],'bCfEL':_0x53a9dd[_0x563adb(0x802)],'aeVVg':_0x563adb(0x37d),'UonbK':_0x563adb(0x614),'LdFcS':'ws://localhost','gtslb':_0x563adb(0x703),'ABEBL':_0x53a9dd[_0x563adb(0x372)],'mrjdz':_0x53a9dd[_0x563adb(0x479)],'sTKhx':function(_0x42046a,_0x33651a){return _0x53a9dd['QADVW'](_0x42046a,_0x33651a);},'wmtgl':function(_0x560635,_0x220d79){return _0x560635-_0x220d79;},'wwddA':_0x53a9dd[_0x563adb(0x3dc)],'Ypgbi':_0x53a9dd['MRmYG'],'wBCVE':_0x563adb(0x527),'QBPdF':_0x563adb(0x274),'uMauv':function(_0x5e8f21,_0x59c792,_0x1f304f){const _0x28b95c=_0x563adb;return _0x53a9dd[_0x28b95c(0x7f2)](_0x5e8f21,_0x59c792,_0x1f304f);},'XAhCj':_0x53a9dd['jklFg']};_0x53a9dd[_0x563adb(0x7c7)](it,_0x53a9dd['KQxcK'],()=>{const _0x2a8528=_0x563adb;for(const _0x30d8c1 of['onclose',_0x2194ca[_0x2a8528(0x6ad)],_0x2a8528(0x5db),_0x2194ca[_0x2a8528(0x2b3)]]){const _0x3e2074=Object[_0x2a8528(0x732)](WebSocket[_0x2a8528(0x536)],_0x30d8c1);assert[_0x2a8528(0x5ab)](_0x3e2074[_0x2a8528(0x307)],!![]),assert['strictEqual'](_0x3e2074[_0x2a8528(0x5ef)],!![]),assert['ok'](_0x2194ca[_0x2a8528(0x5f1)](_0x3e2074[_0x2a8528(0x2d2)],undefined)),assert['ok'](_0x2194ca[_0x2a8528(0x418)](_0x3e2074['set'],undefined));}const _0x4ff590=new WebSocket(_0x2a8528(0x588),{'agent':new CustomAgent()});assert[_0x2a8528(0x5ab)](_0x4ff590[_0x2a8528(0x5db)],null),assert[_0x2a8528(0x5ab)](_0x4ff590[_0x2a8528(0x1a5)],null),assert[_0x2a8528(0x5ab)](_0x4ff590[_0x2a8528(0x62a)],null),assert[_0x2a8528(0x5ab)](_0x4ff590['onopen'],null),_0x4ff590[_0x2a8528(0x5db)]=NOOP,_0x4ff590[_0x2a8528(0x62a)]=NOOP,_0x4ff590[_0x2a8528(0x1a5)]=NOOP,_0x4ff590[_0x2a8528(0x352)]=NOOP,assert[_0x2a8528(0x5ab)](_0x4ff590['onmessage'],NOOP),assert[_0x2a8528(0x5ab)](_0x4ff590[_0x2a8528(0x1a5)],NOOP),assert['strictEqual'](_0x4ff590[_0x2a8528(0x62a)],NOOP),assert[_0x2a8528(0x5ab)](_0x4ff590[_0x2a8528(0x352)],NOOP),_0x4ff590[_0x2a8528(0x5db)]=_0x2194ca['DybDD'],assert['strictEqual'](_0x4ff590[_0x2a8528(0x5db)],null),assert[_0x2a8528(0x5ab)](_0x4ff590['listenerCount']('message'),0x0);}),it(_0x563adb(0x4e0),_0x10be63=>{const _0x1c52c7=_0x563adb,_0x3e3dd7={'xBeXR':_0x2194ca[_0x1c52c7(0x460)],'cDsVO':function(_0x5243f8,_0x189fc5){return _0x5243f8+_0x189fc5;},'twZzj':_0x2194ca['GGold'],'SkwMb':function(_0x165d09,_0x13d253){return _0x165d09+_0x13d253;},'fExVs':function(_0x4b8bc1,_0x4fff54){return _0x4b8bc1+_0x4fff54;},'VQdvO':_0x2194ca['lTRMx'],'ICxGh':_0x1c52c7(0x737),'ijjaM':_0x2194ca['NHjhc'],'JKGee':function(_0xc7369b,_0x27a274){return _0x2194ca['beyrN'](_0xc7369b,_0x27a274);},'mNBPW':_0x1c52c7(0x48c)},_0x370245=new WebSocket['Server']({'port':0x0},()=>{const _0x416114=_0x1c52c7;if(_0x2194ca['wwQnV']===_0x416114(0x71e))_0x3efa1d['on'](_0x416114(0x2ae),_0x1bfee1=>{const _0x11d39b=_0x416114;_0x2cf9e8['strictEqual'](_0x1bfee1,0x3ed),_0x3855cf[_0x11d39b(0x2ae)](_0x13fb40);});else{const _0x25a74f=new WebSocket(_0x416114(0x2c9)+_0x370245[_0x416114(0x774)]()[_0x416114(0x62b)]);_0x25a74f['onmessage']=_0x4c0935=>{const _0x266c6b=_0x416114;assert[_0x266c6b(0x5ab)](_0x4c0935[_0x266c6b(0x20e)],_0x266c6b(0x7e0)),_0x25a74f['onclose']=_0x53d0ab=>{const _0x435788=_0x266c6b;assert[_0x435788(0x5ab)](_0x53d0ab['wasClean'],!![]),assert[_0x435788(0x5ab)](_0x53d0ab['code'],0x3ed),assert['strictEqual'](_0x53d0ab[_0x435788(0x6e1)],''),_0x370245[_0x435788(0x2ae)](_0x10be63);},_0x25a74f[_0x266c6b(0x2ae)]();},_0x25a74f[_0x416114(0x352)]=()=>_0x25a74f[_0x416114(0x486)](_0x416114(0x7e0));}});_0x370245['on'](_0x2194ca[_0x1c52c7(0x518)],_0x112d59=>{const _0x50ef04=_0x1c52c7;if(_0x3e3dd7[_0x50ef04(0x1db)](_0x3e3dd7[_0x50ef04(0x574)],_0x50ef04(0x50a))){const _0x4f73c2=_0x28d55f[_0x50ef04(0x6f5)](_0x3e3dd7['xBeXR'])[_0x50ef04(0x3ca)](_0x3e3dd7['cDsVO'](_0x1cc321[_0x50ef04(0x1f6)][_0x3e3dd7[_0x50ef04(0x1f4)]],_0x414d46))[_0x50ef04(0x4e3)](_0x50ef04(0x76f));_0x5a40c3[_0x50ef04(0x5d2)](_0x3e3dd7['cDsVO'](_0x3e3dd7[_0x50ef04(0x606)](_0x3e3dd7['cDsVO'](_0x3e3dd7[_0x50ef04(0x250)](_0x3e3dd7[_0x50ef04(0x298)](_0x3e3dd7['VQdvO'],_0x50ef04(0x7e8)),_0x3e3dd7[_0x50ef04(0x534)]),_0x50ef04(0x2bd)+_0x4f73c2+'\x0d\x0a')+_0x50ef04(0x5da),_0x3e3dd7['ijjaM']),'\x0d\x0a'));}else _0x112d59['on'](_0x50ef04(0x703),(_0x1f603c,_0x2ca916)=>{const _0x5c9647=_0x50ef04;_0x112d59[_0x5c9647(0x486)](_0x1f603c,{'binary':_0x2ca916});});});}),it(_0x53a9dd[_0x563adb(0x5ba)],()=>{const _0x4460ac=_0x563adb,_0x208d47=new WebSocket(_0x53a9dd[_0x4460ac(0x684)],{'agent':new CustomAgent()});_0x208d47['on'](_0x53a9dd[_0x4460ac(0x406)],NOOP),assert[_0x4460ac(0x25d)](_0x208d47[_0x4460ac(0x67a)](_0x4460ac(0x614)),[NOOP]),assert[_0x4460ac(0x5ab)](_0x208d47['onopen'],null);}),it('doesn\x27t\x20remove\x20listeners\x20added\x20with\x20`on`',()=>{const _0x264cf4=_0x563adb,_0x1123f9=new WebSocket(_0x264cf4(0x588),{'agent':new CustomAgent()});_0x1123f9['on'](_0x264cf4(0x2ae),NOOP),_0x1123f9[_0x264cf4(0x1a5)]=NOOP;let _0x2a9b3a=_0x1123f9['listeners'](_0x2194ca['bCfEL']);assert['strictEqual'](_0x2a9b3a[_0x264cf4(0x41b)],0x2),assert[_0x264cf4(0x5ab)](_0x2a9b3a[0x0],NOOP),assert[_0x264cf4(0x5ab)](_0x2a9b3a[0x1][kListener],NOOP),_0x1123f9[_0x264cf4(0x1a5)]=NOOP,_0x2a9b3a=_0x1123f9['listeners'](_0x2194ca[_0x264cf4(0x243)]),assert[_0x264cf4(0x5ab)](_0x2a9b3a['length'],0x2),assert[_0x264cf4(0x5ab)](_0x2a9b3a[0x0],NOOP),assert['strictEqual'](_0x2a9b3a[0x1][kListener],NOOP);}),it(_0x563adb(0x4a0),()=>{const _0x5b1152=_0x563adb,_0x444f05={'IeYNU':_0x53a9dd[_0x5b1152(0x7fd)]},_0x3590f7=[],_0x51b32d=new WebSocket(_0x53a9dd[_0x5b1152(0x684)],{'agent':new CustomAgent()});_0x51b32d[_0x5b1152(0x690)](_0x5b1152(0x7e0),()=>{}),assert[_0x5b1152(0x5ab)](_0x51b32d[_0x5b1152(0x7ff)](_0x5b1152(0x7e0)),0x0);function _0x3db45b(){const _0x54478a=_0x5b1152;'lUzHT'===_0x2194ca[_0x54478a(0x24e)]?_0x56cb6d[_0x54478a(0x2ae)](_0x1307ca):(_0x3590f7[_0x54478a(0x602)](_0x54478a(0x614)),assert[_0x54478a(0x5ab)](_0x51b32d[_0x54478a(0x7ff)](_0x2194ca[_0x54478a(0x75a)]),0x1));}_0x51b32d['addEventListener'](_0x53a9dd[_0x5b1152(0x406)],_0x3db45b),_0x51b32d[_0x5b1152(0x690)](_0x53a9dd['kJmGH'],_0x3db45b),assert[_0x5b1152(0x5ab)](_0x51b32d[_0x5b1152(0x7ff)]('open'),0x1);const _0x33023f={'handleEvent'(){const _0x21fa26=_0x5b1152;_0x3590f7['push'](_0x21fa26(0x703)),assert[_0x21fa26(0x5ab)](this,_0x33023f),assert[_0x21fa26(0x5ab)](_0x51b32d[_0x21fa26(0x7ff)](_0x444f05[_0x21fa26(0x725)]),0x0);}};_0x51b32d[_0x5b1152(0x690)](_0x53a9dd[_0x5b1152(0x7fd)],_0x33023f,{'once':!![]}),_0x51b32d[_0x5b1152(0x690)](_0x53a9dd[_0x5b1152(0x7fd)],_0x33023f),assert[_0x5b1152(0x5ab)](_0x51b32d['listenerCount'](_0x5b1152(0x703)),0x1),_0x51b32d[_0x5b1152(0x690)]('close',NOOP),_0x51b32d[_0x5b1152(0x1a5)]=NOOP;let _0x780e1a=_0x51b32d['listeners'](_0x53a9dd['tyTvl']);assert['strictEqual'](_0x780e1a[_0x5b1152(0x41b)],0x2),assert[_0x5b1152(0x5ab)](_0x780e1a[0x0][kListener],NOOP),assert[_0x5b1152(0x5ab)](_0x780e1a[0x1][kListener],NOOP),_0x51b32d[_0x5b1152(0x62a)]=NOOP,_0x51b32d['addEventListener'](_0x53a9dd['AyysE'],NOOP),_0x780e1a=_0x51b32d['listeners'](_0x53a9dd[_0x5b1152(0x532)]),assert[_0x5b1152(0x5ab)](_0x780e1a['length'],0x2),assert['strictEqual'](_0x780e1a[0x0][kListener],NOOP),assert[_0x5b1152(0x5ab)](_0x780e1a[0x1][kListener],NOOP),_0x51b32d['emit'](_0x53a9dd[_0x5b1152(0x406)]),_0x51b32d[_0x5b1152(0x1d6)](_0x5b1152(0x703),EMPTY_BUFFER,![]),assert[_0x5b1152(0x25d)](_0x3590f7,[_0x53a9dd[_0x5b1152(0x406)],_0x53a9dd['NplHe']]);}),_0x53a9dd[_0x563adb(0x1e0)](it,'doesn\x27t\x20return\x20listeners\x20added\x20with\x20`addEventListener`',()=>{const _0x2d9c20=_0x563adb,_0x402ba4=new WebSocket(_0x53a9dd[_0x2d9c20(0x684)],{'agent':new CustomAgent()});_0x402ba4[_0x2d9c20(0x690)]('open',NOOP);const _0x1063e7=_0x402ba4[_0x2d9c20(0x67a)](_0x53a9dd['kJmGH']);assert[_0x2d9c20(0x5ab)](_0x1063e7[_0x2d9c20(0x41b)],0x1),assert[_0x2d9c20(0x5ab)](_0x1063e7[0x0][kListener],NOOP),assert[_0x2d9c20(0x5ab)](_0x402ba4[_0x2d9c20(0x352)],null);}),it(_0x53a9dd['guhki'],()=>{const _0x49beb3=_0x563adb,_0x1275f8=new WebSocket(_0x2194ca['LdFcS'],{'agent':new CustomAgent()});_0x1275f8[_0x49beb3(0x690)](_0x49beb3(0x2ae),NOOP),_0x1275f8[_0x49beb3(0x1a5)]=NOOP;let _0x575909=_0x1275f8[_0x49beb3(0x67a)](_0x2194ca['bCfEL']);assert[_0x49beb3(0x5ab)](_0x575909['length'],0x2),assert[_0x49beb3(0x5ab)](_0x575909[0x0][kListener],NOOP),assert[_0x49beb3(0x5ab)](_0x575909[0x1][kListener],NOOP),_0x1275f8[_0x49beb3(0x1a5)]=NOOP,_0x575909=_0x1275f8[_0x49beb3(0x67a)](_0x2194ca['bCfEL']),assert[_0x49beb3(0x5ab)](_0x575909['length'],0x2),assert['strictEqual'](_0x575909[0x0][kListener],NOOP),assert[_0x49beb3(0x5ab)](_0x575909[0x1][kListener],NOOP);}),it(_0x53a9dd[_0x563adb(0x7f1)],()=>{const _0x45edf1=_0x563adb,_0x1d3c3c=new WebSocket(_0x2194ca[_0x45edf1(0x332)],{'agent':new CustomAgent()}),_0xd34446={'handleEvent'(){}};_0x1d3c3c[_0x45edf1(0x690)](_0x2194ca[_0x45edf1(0x20a)],_0xd34446),_0x1d3c3c['addEventListener'](_0x45edf1(0x614),NOOP),assert[_0x45edf1(0x5ab)](_0x1d3c3c[_0x45edf1(0x67a)](_0x2194ca[_0x45edf1(0x20a)])[0x0][kListener],_0xd34446),assert['strictEqual'](_0x1d3c3c['listeners'](_0x2194ca['UonbK'])[0x0][kListener],NOOP),_0x1d3c3c[_0x45edf1(0x6a6)](_0x45edf1(0x703),()=>{}),assert[_0x45edf1(0x5ab)](_0x1d3c3c[_0x45edf1(0x67a)](_0x45edf1(0x703))[0x0][kListener],_0xd34446),_0x1d3c3c[_0x45edf1(0x6a6)](_0x2194ca[_0x45edf1(0x20a)],_0xd34446),_0x1d3c3c[_0x45edf1(0x6a6)](_0x2194ca[_0x45edf1(0x75a)],NOOP),assert[_0x45edf1(0x5ab)](_0x1d3c3c[_0x45edf1(0x7ff)](_0x2194ca[_0x45edf1(0x20a)]),0x0),assert[_0x45edf1(0x5ab)](_0x1d3c3c[_0x45edf1(0x7ff)](_0x2194ca[_0x45edf1(0x75a)]),0x0),_0x1d3c3c['addEventListener'](_0x2194ca[_0x45edf1(0x20a)],NOOP,{'once':!![]}),_0x1d3c3c['addEventListener'](_0x2194ca['UonbK'],NOOP,{'once':!![]}),assert[_0x45edf1(0x5ab)](_0x1d3c3c[_0x45edf1(0x67a)](_0x2194ca[_0x45edf1(0x20a)])[0x0][kListener],NOOP),assert[_0x45edf1(0x5ab)](_0x1d3c3c['listeners'](_0x45edf1(0x614))[0x0][kListener],NOOP),_0x1d3c3c['removeEventListener'](_0x2194ca['gtslb'],()=>{}),assert[_0x45edf1(0x5ab)](_0x1d3c3c[_0x45edf1(0x67a)]('message')[0x0][kListener],NOOP),_0x1d3c3c[_0x45edf1(0x6a6)]('message',NOOP),_0x1d3c3c['removeEventListener'](_0x2194ca[_0x45edf1(0x75a)],NOOP),assert[_0x45edf1(0x5ab)](_0x1d3c3c[_0x45edf1(0x7ff)](_0x45edf1(0x703)),0x0),assert[_0x45edf1(0x5ab)](_0x1d3c3c[_0x45edf1(0x7ff)](_0x2194ca['UonbK']),0x0),_0x1d3c3c['on'](_0x45edf1(0x703),NOOP),assert[_0x45edf1(0x25d)](_0x1d3c3c[_0x45edf1(0x67a)](_0x2194ca[_0x45edf1(0x20a)]),[NOOP]),_0x1d3c3c[_0x45edf1(0x6a6)](_0x45edf1(0x703),NOOP),assert[_0x45edf1(0x25d)](_0x1d3c3c[_0x45edf1(0x67a)](_0x45edf1(0x703)),[NOOP]),_0x1d3c3c[_0x45edf1(0x1a5)]=NOOP,assert[_0x45edf1(0x5ab)](_0x1d3c3c[_0x45edf1(0x67a)](_0x45edf1(0x2ae))[0x0][kListener],NOOP),_0x1d3c3c[_0x45edf1(0x6a6)](_0x45edf1(0x2ae),NOOP),assert[_0x45edf1(0x5ab)](_0x1d3c3c[_0x45edf1(0x67a)]('close')[0x0][kListener],NOOP);}),it(_0x563adb(0x578),_0x583b9f=>{const _0x5f1bed=_0x563adb,_0x4dc043={'pyGNv':_0x5f1bed(0x509),'NlUuL':_0x5f1bed(0x614),'PigfL':'message'},_0x102d0e=new WebSocket[(_0x5f1bed(0x543))]({'port':0x0},()=>{const _0x2b6710=_0x5f1bed,_0x22a2cf={'ksKDW':function(_0x4653dd,_0x59fbfc){return _0x4653dd===_0x59fbfc;},'zgCxS':_0x4dc043[_0x2b6710(0x465)]},_0x308c20=new WebSocket('ws://localhost:'+_0x102d0e[_0x2b6710(0x774)]()['port']);_0x308c20[_0x2b6710(0x690)](_0x4dc043[_0x2b6710(0x254)],()=>{const _0x4b999d=_0x2b6710;_0x308c20[_0x4b999d(0x486)]('hi'),_0x308c20['close']();}),_0x308c20['addEventListener'](_0x4dc043['PigfL'],_0xb18f97=>{const _0x3119b5=_0x2b6710;_0x22a2cf['ksKDW'](_0x3119b5(0x509),_0x22a2cf['zgCxS'])?(assert['ok'](_0xb18f97 instanceof MessageEvent),assert[_0x3119b5(0x5ab)](_0xb18f97[_0x3119b5(0x20e)],'hi'),_0x102d0e[_0x3119b5(0x2ae)](_0x583b9f)):(_0x4f5033['strictEqual'](_0x3a6703[_0x3119b5(0x52e)],_0x3119b5(0x7e0)),_0x27d22b['on']('close',()=>_0x42fcab['close'](_0x2e0b9e)));});});_0x102d0e['on'](_0x5f1bed(0x597),_0x5a0430=>{const _0x11f1cc=_0x5f1bed;_0x5a0430['on'](_0x2194ca[_0x11f1cc(0x20a)],(_0x1cf331,_0x4cacdb)=>{const _0x4dbca3=_0x11f1cc;_0x5a0430[_0x4dbca3(0x486)](_0x1cf331,{'binary':_0x4cacdb});});});}),_0x53a9dd[_0x563adb(0x1d7)](it,_0x563adb(0x48a),_0x17c42b=>{const _0x3ac793=_0x563adb,_0x26207c=new WebSocket[(_0x3ac793(0x543))]({'port':0x0},()=>{const _0x1d7328=_0x3ac793,_0x594c19={'PSssY':function(_0x1dbbd6,_0x36327c){return _0x1dbbd6 instanceof _0x36327c;}},_0x2620ad=new WebSocket(_0x1d7328(0x2c9)+_0x26207c[_0x1d7328(0x774)]()[_0x1d7328(0x62b)]);_0x2620ad[_0x1d7328(0x690)](_0x1d7328(0x2ae),_0x34b325=>{const _0x2c61df=_0x1d7328;assert['ok'](_0x594c19[_0x2c61df(0x4fb)](_0x34b325,CloseEvent)),assert['ok'](_0x34b325[_0x2c61df(0x323)]),assert[_0x2c61df(0x5ab)](_0x34b325[_0x2c61df(0x6e1)],''),assert[_0x2c61df(0x5ab)](_0x34b325[_0x2c61df(0x6a1)],0x3e8),_0x26207c[_0x2c61df(0x2ae)](_0x17c42b);});});_0x26207c['on'](_0x3ac793(0x597),_0x3f39b8=>_0x3f39b8['close'](0x3e8));}),it(_0x53a9dd[_0x563adb(0x4d5)],_0x490f60=>{const _0x54fe05=_0x563adb,_0x3b999a={'ZPCzD':_0x54fe05(0x2ae)},_0x48dc5b=new WebSocket['Server']({'port':0x0},()=>{const _0x3b7630=_0x54fe05,_0x4e564b=new WebSocket(_0x3b7630(0x2c9)+_0x48dc5b[_0x3b7630(0x774)]()[_0x3b7630(0x62b)]);_0x4e564b[_0x3b7630(0x690)](_0x3b999a['ZPCzD'],_0x3f0968=>{const _0x2ab118=_0x3b7630;assert['ok'](_0x3f0968 instanceof CloseEvent),assert['ok'](_0x3f0968['wasClean']),assert[_0x2ab118(0x5ab)](_0x3f0968[_0x2ab118(0x6e1)],_0x2ab118(0x452)),assert[_0x2ab118(0x5ab)](_0x3f0968[_0x2ab118(0x6a1)],0xfa0),_0x48dc5b['close'](_0x490f60);});});_0x48dc5b['on'](_0x54fe05(0x597),_0x6559cc=>_0x6559cc[_0x54fe05(0x2ae)](0xfa0,'some\x20daft\x20reason'));}),it(_0x53a9dd[_0x563adb(0x5d0)],_0x31b106=>{const _0x5ba9a8=_0x563adb,_0x58a62b={'TUrNt':function(_0x869694,_0x4b4a68){return _0x869694 instanceof _0x4b4a68;},'soFnv':_0x5ba9a8(0x1af),'Rowry':_0x5ba9a8(0x703)},_0x15ded2=new WebSocket[(_0x5ba9a8(0x543))]({'port':0x0},()=>{const _0x14bc57=_0x5ba9a8,_0x1bc33c={'DelUh':_0x14bc57(0x614),'QKrLy':function(_0x55d444,_0x3b40ef){return _0x55d444 instanceof _0x3b40ef;},'ASxAc':_0x14bc57(0x703),'xPWCA':_0x14bc57(0x6af)},_0x2ca8f6=new Error(_0x14bc57(0x1af)),_0x18d6ca=new WebSocket('ws://localhost:'+_0x15ded2[_0x14bc57(0x774)]()[_0x14bc57(0x62b)]);_0x18d6ca[_0x14bc57(0x690)](_0x14bc57(0x614),_0xcacc0a=>{const _0x1fb4dc=_0x14bc57;assert['ok'](_0xcacc0a instanceof Event),assert[_0x1fb4dc(0x5ab)](_0xcacc0a[_0x1fb4dc(0x80b)],_0x1bc33c[_0x1fb4dc(0x1b6)]),assert[_0x1fb4dc(0x5ab)](_0xcacc0a[_0x1fb4dc(0x71f)],_0x18d6ca);}),_0x18d6ca[_0x14bc57(0x690)](_0x58a62b[_0x14bc57(0x54a)],_0x355197=>{const _0x52ea95=_0x14bc57;assert['ok'](_0x1bc33c[_0x52ea95(0x664)](_0x355197,MessageEvent)),assert[_0x52ea95(0x5ab)](_0x355197['type'],_0x1bc33c[_0x52ea95(0x7b4)]),assert[_0x52ea95(0x5ab)](_0x355197[_0x52ea95(0x71f)],_0x18d6ca),_0x18d6ca[_0x52ea95(0x2ae)]();}),_0x18d6ca[_0x14bc57(0x690)]('close',_0x4ba968=>{const _0x48f88b=_0x14bc57;assert['ok'](_0x4ba968 instanceof CloseEvent),assert[_0x48f88b(0x5ab)](_0x4ba968[_0x48f88b(0x80b)],_0x48f88b(0x2ae)),assert[_0x48f88b(0x5ab)](_0x4ba968['target'],_0x18d6ca),_0x18d6ca[_0x48f88b(0x1d6)](_0x1bc33c[_0x48f88b(0x403)],_0x2ca8f6);}),_0x18d6ca[_0x14bc57(0x690)](_0x14bc57(0x6af),_0x848b13=>{const _0xd38ddb=_0x14bc57;assert['ok'](_0x58a62b['TUrNt'](_0x848b13,ErrorEvent)),assert['strictEqual'](_0x848b13[_0xd38ddb(0x703)],_0x58a62b['soFnv']),assert[_0xd38ddb(0x5ab)](_0x848b13[_0xd38ddb(0x80b)],_0xd38ddb(0x6af)),assert[_0xd38ddb(0x5ab)](_0x848b13[_0xd38ddb(0x71f)],_0x18d6ca),assert['strictEqual'](_0x848b13[_0xd38ddb(0x6af)],_0x2ca8f6),_0x15ded2[_0xd38ddb(0x2ae)](_0x31b106);});});_0x15ded2['on']('connection',_0x48f6d8=>_0x48f6d8[_0x5ba9a8(0x486)]('hi'));}),_0x53a9dd[_0x563adb(0x3ed)](it,_0x563adb(0x72b),_0x91d4e1=>{const _0x3f9165=_0x563adb;if(_0x2194ca[_0x3f9165(0x4ba)](_0x2194ca[_0x3f9165(0x52c)],_0x2194ca[_0x3f9165(0x686)]))_0x463e4a[_0x3f9165(0x25d)](_0x5b5b88,_0x3b3623[_0x3f9165(0x6ec)]('0')),_0xbf9ede['ok'](!_0x31302a),_0x42efdb[_0x3f9165(0x2ae)](_0x356e82);else{const _0x5d0efb=new WebSocket[(_0x3f9165(0x543))]({'port':0x0},()=>{const _0x142ee0=_0x3f9165,_0x506b00=new WebSocket(_0x142ee0(0x2c9)+_0x5d0efb['address']()[_0x142ee0(0x62b)]);_0x506b00[_0x142ee0(0x5db)]=_0xe0aa72=>{const _0x149e57=_0x142ee0;assert['ok'](Buffer[_0x149e57(0x28f)](_0xe0aa72[_0x149e57(0x20e)])),_0x5d0efb[_0x149e57(0x2ae)](_0x91d4e1);};});_0x5d0efb['on'](_0x3f9165(0x597),_0x6892e=>{const _0x503993=_0x3f9165;_0x6892e[_0x503993(0x486)](new Uint8Array(0x1000)),_0x6892e[_0x503993(0x2ae)]();});}}),_0x53a9dd['ItFoK'](it,_0x563adb(0x374),_0x56ed6f=>{const _0x4a031a=_0x563adb;if(_0x2194ca[_0x4a031a(0x75c)]!==_0x2194ca[_0x4a031a(0x75c)]){_0x51743c[_0x4a031a(0x268)][_0x4a031a(0x71d)](_0x2194ca[_0x4a031a(0x243)],()=>{const _0x41c9f0=_0x4a031a;_0x5de6de['strictEqual'](_0x2ff078['_receiver'][_0x41c9f0(0x21f)],0x5),_0xfd3d28[_0x41c9f0(0x5ab)](_0x1edc17['_socket'][_0x41c9f0(0x723)][_0x41c9f0(0x41b)],0x3);});const _0x2c8eaa=_0x5ab0dd[_0x4a031a(0x268)]['push'];_0x59cb08[_0x4a031a(0x268)][_0x4a031a(0x602)]=_0x2bd29d=>{const _0x1182c5=_0x4a031a;_0x80b087[_0x1182c5(0x268)][_0x1182c5(0x602)]=_0x2c8eaa,_0x1382e4[_0x1182c5(0x268)][_0x1182c5(0x602)](_0x2bd29d),_0x3642ce[_0x1182c5(0x744)]();};const _0x201db1=_0x3e7624[_0x4a031a(0x347)](_0xb94a21-0x400),_0x471ee1=_0x135af2[_0x4a031a(0x347)](0x1),_0x15a4e3={'fin':!![],'opcode':0x2,'mask':![],'readOnly':![]},_0xf75784=[..._0x501a0b['frame'](_0x201db1,{'rsv1':![],..._0x15a4e3}),..._0x8fd846[_0x4a031a(0x40e)](_0x471ee1,{'rsv1':!![],..._0x15a4e3})];for(let _0x3d3b54=0x0;_0x3d3b54<0x154;_0x3d3b54++){_0xf75784[_0x4a031a(0x602)](_0xf75784[_0x2194ca[_0x4a031a(0x2af)](_0xf75784[_0x4a031a(0x41b)],0x2)],_0xf75784[_0x2194ca['wmtgl'](_0xf75784[_0x4a031a(0x41b)],0x1)]);}const _0x22ed09=_0x512e0a[_0x4a031a(0x682)](_0xf75784);_0x165aba['ok'](_0x22ed09[_0x4a031a(0x41b)]>_0x216645),_0x2c8eaa[_0x4a031a(0x2e2)](_0x5aaf06['_socket'],_0x22ed09),_0x1e531b[_0x4a031a(0x55b)][_0x4a031a(0x816)]()[_0x4a031a(0x60e)]()[_0x4a031a(0x4fa)][_0x4a031a(0x486)](_0x471ee1,{'compress':![]});}else{const _0x5e369e=new WebSocket[(_0x4a031a(0x543))]({'port':0x0},()=>{const _0x8f1842=_0x4a031a,_0x545c73=new WebSocket(_0x8f1842(0x2c9)+_0x5e369e[_0x8f1842(0x774)]()[_0x8f1842(0x62b)]);_0x545c73['binaryType']=_0x8f1842(0x68e),_0x545c73[_0x8f1842(0x5db)]=_0x2a1d19=>{const _0xc97718=_0x8f1842;assert[_0xc97718(0x5ab)](_0x2a1d19[_0xc97718(0x20e)],_0xc97718(0x7e0)),_0x5e369e[_0xc97718(0x2ae)](_0x56ed6f);};});_0x5e369e['on'](_0x2194ca[_0x4a031a(0x518)],_0x149cff=>{const _0x2f4e95=_0x4a031a;_0x149cff[_0x2f4e95(0x486)](_0x2f4e95(0x7e0)),_0x149cff[_0x2f4e95(0x2ae)]();});}}),_0x53a9dd[_0x563adb(0x1be)](it,'allows\x20to\x20update\x20`binaryType`\x20on\x20the\x20fly',_0x538232=>{const _0x4a48a8=_0x563adb,_0x1a2754={'EVSwv':function(_0x3b05ad,_0xe372b7){return _0x3b05ad===_0xe372b7;},'XNLpq':function(_0x13e5f6){return _0x13e5f6();},'wBrTS':_0x2194ca[_0x4a48a8(0x1d1)],'YymgY':_0x2194ca['wBCVE'],'FPJHz':_0x2194ca[_0x4a48a8(0x593)],'Mlkna':function(_0x43e869,_0x2fa6b9,_0x49a67f){const _0x921cdb=_0x4a48a8;return _0x2194ca[_0x921cdb(0x3ef)](_0x43e869,_0x2fa6b9,_0x49a67f);},'oMryK':_0x2194ca[_0x4a48a8(0x6be)],'OksLB':_0x2194ca[_0x4a48a8(0x518)]},_0x38d770=new WebSocket[(_0x4a48a8(0x543))]({'port':0x0},()=>{const _0x326e14=_0x4a48a8,_0x5ca944={'LowkQ':function(_0x45b7b3,_0x37985e){return _0x1a2754['EVSwv'](_0x45b7b3,_0x37985e);},'UyhiB':function(_0x2ae42e,_0x204a78){return _0x2ae42e instanceof _0x204a78;},'zhrzB':function(_0x31060a){const _0x2f9acc=_0x1abd;return _0x1a2754[_0x2f9acc(0x4fd)](_0x31060a);},'Qggyd':_0x1a2754[_0x326e14(0x77c)],'umyaj':_0x1a2754[_0x326e14(0x497)],'plTkD':function(_0x3c64f3,_0x23cee8){return _0x3c64f3!==_0x23cee8;},'rdVaQ':_0x326e14(0x3b4),'OSBUu':_0x1a2754[_0x326e14(0x368)],'OKyig':function(_0x5c39ee,_0x5c0397,_0x274b56){const _0x48bb34=_0x326e14;return _0x1a2754[_0x48bb34(0x22f)](_0x5c39ee,_0x5c0397,_0x274b56);},'qFWmT':_0x1a2754['oMryK'],'QxswL':_0x1a2754[_0x326e14(0x39f)],'mqqKR':function(_0x1abbc1,_0x2861e6,_0x53c2a4){return _0x1a2754['Mlkna'](_0x1abbc1,_0x2861e6,_0x53c2a4);}},_0x35077b=new WebSocket(_0x326e14(0x2c9)+_0x38d770['address']()[_0x326e14(0x62b)]);function _0x51a318(_0x3a98cf,_0x4c694d){const _0x56bf6d=_0x326e14,_0xc1f5cb={'ubsmJ':_0x5ca944[_0x56bf6d(0x6b0)],'qDrDe':'Authorization','iohmd':_0x56bf6d(0x221)};if(_0x5ca944[_0x56bf6d(0x35d)]==='rNQXE'){const _0x3f28e7=Buffer[_0x56bf6d(0x6ec)](_0x3a98cf);_0x35077b[_0x56bf6d(0x377)]=_0x3a98cf,_0x35077b[_0x56bf6d(0x5db)]=_0x1a3d6f=>{const _0x2099c3=_0x56bf6d;if(_0x3a98cf==='nodebuffer')assert['ok'](Buffer['isBuffer'](_0x1a3d6f[_0x2099c3(0x20e)])),assert['ok'](_0x1a3d6f[_0x2099c3(0x20e)]['equals'](_0x3f28e7));else{if(_0x5ca944[_0x2099c3(0x24c)](_0x3a98cf,'arraybuffer'))assert['ok'](_0x5ca944[_0x2099c3(0x443)](_0x1a3d6f[_0x2099c3(0x20e)],ArrayBuffer)),assert['ok'](Buffer['from'](_0x1a3d6f['data'])[_0x2099c3(0x581)](_0x3f28e7));else _0x3a98cf===_0x2099c3(0x45d)&&assert[_0x2099c3(0x25d)](_0x1a3d6f['data'],[_0x3f28e7]);}_0x5ca944[_0x2099c3(0x55e)](_0x4c694d);},_0x35077b[_0x56bf6d(0x486)](_0x3f28e7);}else{const _0x3a2324=_0xc1f5cb[_0x56bf6d(0x5ce)][_0x56bf6d(0x1ab)]('|');let _0x42b363=0x0;while(!![]){switch(_0x3a2324[_0x42b363++]){case'0':_0x1b7d31[_0x56bf6d(0x5ab)](_0x158d81,_0x56bf6d(0x2c9)+_0x2b6562+'/');continue;case'1':_0x5c26e2['strictEqual'](_0x5bfb98[_0x56bf6d(0x644)](_0xc1f5cb['qDrDe']),_0x5a5536['authorization']);continue;case'2':_0x85ef3['on'](_0x56bf6d(0x2ae),_0x242ada=>{const _0x5934d0=_0x56bf6d;_0x4246bd[_0x5934d0(0x5ab)](_0x242ada,0x3ed),_0xf8ec17[_0x5934d0(0x2ae)](_0x582d24);});continue;case'3':_0x46aa9a[_0x56bf6d(0x5ab)](_0x227f6f[_0x56bf6d(0x644)](_0x56bf6d(0x41c)),_0x32ea73['cookie']);continue;case'4':_0x303d7b['notStrictEqual'](_0x25ef6a,_0x327c9e);continue;case'5':_0x4e1c08[_0x56bf6d(0x5ab)](_0x329593[_0x56bf6d(0x644)](_0xc1f5cb[_0x56bf6d(0x716)]),_0x3dbda9[_0x56bf6d(0x4a5)]);continue;case'6':_0x60ebf0['strictEqual'](_0x54860c[_0x56bf6d(0x6b9)],0x1);continue;}break;}}}_0x35077b[_0x326e14(0x352)]=()=>{const _0x1d3435=_0x326e14,_0x6ce37a={'WqcQK':function(_0x154b13,_0x407316,_0xc2eff6){const _0x5d3034=_0x1abd;return _0x5ca944[_0x5d3034(0x64f)](_0x154b13,_0x407316,_0xc2eff6);},'himue':_0x5ca944[_0x1d3435(0x32d)]};_0x5ca944[_0x1d3435(0x52b)](_0x51a318,'nodebuffer',()=>{const _0x2c8f34=_0x1d3435;if(_0x5ca944[_0x2c8f34(0x72d)](_0x5ca944['rdVaQ'],_0x5ca944[_0x2c8f34(0x4ac)]))_0x5ca944[_0x2c8f34(0x64f)](_0x51a318,_0x5ca944['qFWmT'],()=>{const _0x156550=_0x2c8f34;_0x6ce37a[_0x156550(0x37a)](_0x51a318,_0x156550(0x45d),()=>{const _0x1a3508=_0x156550;_0x35077b[_0x1a3508(0x2ae)](),_0x38d770[_0x1a3508(0x2ae)](_0x538232);});});else{const _0x23cdb2=new _0x366399[(_0x2c8f34(0x543))]({'port':0x0},()=>{const _0x58b2d6=_0x2c8f34,_0x33b71e=new _0x2d6eb7('ws://localhost:'+_0x23cdb2[_0x58b2d6(0x774)]()['port']);_0x33b71e[_0x58b2d6(0x5db)]=_0x34614e=>{const _0x12a590=_0x58b2d6;_0x1aa5d6['ok'](_0x5bf0d7[_0x12a590(0x28f)](_0x34614e[_0x12a590(0x20e)])),_0x23cdb2['close'](_0x11bbd2);};});_0x23cdb2['on'](_0x6ce37a['himue'],_0x571194=>{const _0x1d8b40=_0x2c8f34;_0x571194[_0x1d8b40(0x486)](new _0x3ec484(0x1000)),_0x571194[_0x1d8b40(0x2ae)]();});}});};});_0x38d770['on'](_0x2194ca[_0x4a48a8(0x518)],_0x5ab6d5=>{const _0x3d418a=_0x4a48a8;_0x5ab6d5['on'](_0x3d418a(0x703),(_0x56d626,_0x3ca2a5)=>{const _0x3c9498=_0x3d418a;assert['ok'](_0x3ca2a5),_0x5ab6d5[_0x3c9498(0x486)](_0x56d626);});});});}),describe(_0x3f0b7e(0x7b0),()=>{const _0x387708=_0x3f0b7e,_0x3d4927={'qxIkR':function(_0x5dc274,_0x36d461){return _0x5dc274!==_0x36d461;},'Kmmyd':_0x53a9dd[_0x387708(0x4af)],'xsFVd':_0x53a9dd[_0x387708(0x4f8)],'FrEoX':_0x387708(0x597),'jNxeU':_0x387708(0x3d9),'XhtUU':'open','prrWZ':function(_0x423c76,_0x41f1b9){const _0x573509=_0x387708;return _0x53a9dd[_0x573509(0x53c)](_0x423c76,_0x41f1b9);},'DQCYf':_0x387708(0x673),'GIiwm':_0x53a9dd[_0x387708(0x680)],'UYmra':function(_0x2b4cb8,_0x28228d){return _0x2b4cb8!==_0x28228d;},'skiFT':_0x53a9dd[_0x387708(0x79a)],'aaMpA':function(_0x36e4fe,_0x5e5509){return _0x36e4fe*_0x5e5509;},'RBsSb':function(_0x3b3883,_0x33782a){const _0x7e2c4b=_0x387708;return _0x53a9dd[_0x7e2c4b(0x78f)](_0x3b3883,_0x33782a);},'voFvb':function(_0x29bc30,_0x3c5764){return _0x29bc30<_0x3c5764;},'OhEUN':_0x387708(0x2d6)};it(_0x53a9dd[_0x387708(0x365)],_0x45fbff=>{const _0x1bc638=_0x387708,_0x220d5c=https['createServer']({'cert':fs[_0x1bc638(0x56c)](_0x3d4927[_0x1bc638(0x47e)]),'key':fs[_0x1bc638(0x56c)](_0x1bc638(0x6b5))}),_0x13f308=new WebSocket['Server']({'server':_0x220d5c});_0x13f308['on'](_0x1bc638(0x597),()=>{const _0x2cb8cd=_0x1bc638;_0x220d5c[_0x2cb8cd(0x2ae)](_0x45fbff);}),_0x220d5c[_0x1bc638(0x66d)](0x0,()=>{const _0x19ace5=_0x1bc638;if(_0x3d4927[_0x19ace5(0x58e)](_0x19ace5(0x555),_0x3d4927[_0x19ace5(0x650)]))_0x4dd8c7['ok'](_0x1c9905 instanceof _0xdd9b18),_0x80220[_0x19ace5(0x5ab)](_0x5cd6c0[_0x19ace5(0x703)],_0x19ace5(0x40b)),_0x3366e6['on'](_0x19ace5(0x2ae),()=>_0x28601d[_0x19ace5(0x2ae)](_0x19a4b5));else{const _0x18a355=new WebSocket(_0x19ace5(0x263)+_0x220d5c['address']()[_0x19ace5(0x62b)],{'rejectUnauthorized':![]});_0x18a355['on'](_0x19ace5(0x614),_0x18a355[_0x19ace5(0x2ae)]);}});}),_0x53a9dd[_0x387708(0x7ce)](it,'connects\x20to\x20secure\x20websocket\x20server\x20with\x20client\x20side\x20certificate',_0x530f20=>{const _0x33c948=_0x387708,_0x3fe157={'OGxrg':_0x3d4927[_0x33c948(0x5af)]};if(_0x3d4927[_0x33c948(0x55c)](_0x33c948(0x3ff),_0x3d4927[_0x33c948(0x3e1)])){const _0x5e4864={'HriqK':'close'},_0x296337=new _0xb176b[(_0x33c948(0x543))]({'port':0x0},()=>{const _0x40a693=_0x33c948,_0x7d73f=new _0x10c166(_0x40a693(0x2c9)+_0x296337['address']()[_0x40a693(0x62b)]);_0x7d73f['on'](_0x3fe157[_0x40a693(0x350)],()=>_0x7d73f[_0x40a693(0x2ae)](0x3e8,_0x40a693(0x388)));});_0x296337['on'](_0x3d4927[_0x33c948(0x1a8)],_0x2cc412=>{_0x2cc412['on'](_0x5e4864['HriqK'],(_0x3f81d0,_0x11a41c)=>{const _0x51f5f8=_0x1abd;_0x162e4b['strictEqual'](_0x3f81d0,0x3e8),_0x3c0297['deepStrictEqual'](_0x11a41c,_0x2fe9ab[_0x51f5f8(0x6ec)](_0x51f5f8(0x388))),_0x296337[_0x51f5f8(0x2ae)](_0x3899c9);});});}else{const _0x50597=https[_0x33c948(0x256)]({'cert':fs[_0x33c948(0x56c)](_0x3d4927['xsFVd']),'ca':[fs[_0x33c948(0x56c)](_0x33c948(0x209))],'key':fs[_0x33c948(0x56c)](_0x33c948(0x6b5)),'requestCert':!![]}),_0x19bc56=new WebSocket[(_0x33c948(0x543))]({'noServer':!![]});_0x50597['on'](_0x3d4927[_0x33c948(0x507)],(_0x214252,_0xebb433,_0x132e9a)=>{const _0x59f6c4=_0x33c948;assert['ok'](_0xebb433[_0x59f6c4(0x62e)]),_0x19bc56[_0x59f6c4(0x429)](_0x214252,_0xebb433,_0x132e9a,_0x1b47e1=>{const _0xff6c45=_0x59f6c4;_0x1b47e1['on'](_0xff6c45(0x2ae),_0x5dfc15=>{const _0x4e953a=_0xff6c45;assert[_0x4e953a(0x5ab)](_0x5dfc15,0x3ed),_0x50597[_0x4e953a(0x2ae)](_0x530f20);});});}),_0x50597[_0x33c948(0x66d)](0x0,()=>{const _0x104c9e=_0x33c948,_0x516916=new WebSocket(_0x104c9e(0x484)+_0x50597['address']()[_0x104c9e(0x62b)],{'cert':fs[_0x104c9e(0x56c)]('test/fixtures/client-certificate.pem'),'key':fs[_0x104c9e(0x56c)](_0x3d4927[_0x104c9e(0x419)]),'rejectUnauthorized':![]});_0x516916['on']('open',_0x516916[_0x104c9e(0x2ae)]);});}}),it(_0x53a9dd['gqIPV'],_0x94b085=>{const _0x3e88b1=_0x387708,_0x5dd0b3=https[_0x3e88b1(0x256)]({'cert':fs[_0x3e88b1(0x56c)](_0x3e88b1(0x553)),'key':fs[_0x3e88b1(0x56c)](_0x3e88b1(0x6b5))}),_0x361e2f=new WebSocket['Server']({'server':_0x5dd0b3});_0x5dd0b3[_0x3e88b1(0x66d)](0x0,()=>{const _0x5aa8c7=_0x3e88b1,_0x4e9505=new WebSocket(_0x5aa8c7(0x2c9)+_0x5dd0b3[_0x5aa8c7(0x774)]()[_0x5aa8c7(0x62b)],{'rejectUnauthorized':![]});_0x4e9505['on'](_0x5aa8c7(0x6af),()=>{const _0x252f54=_0x5aa8c7;_0x5dd0b3['close'](_0x94b085),_0x361e2f[_0x252f54(0x2ae)]();});});}),it('can\x20send\x20and\x20receive\x20text\x20data',_0x22c33d=>{const _0x1ead6b=_0x387708,_0x16fd40={'yUZMQ':_0x1ead6b(0x588),'zmhwg':function(_0x2817dd,_0x5ee5a3){const _0x29bcd9=_0x1ead6b;return _0x3d4927[_0x29bcd9(0x228)](_0x2817dd,_0x5ee5a3);}},_0x5b3398=https[_0x1ead6b(0x256)]({'cert':fs[_0x1ead6b(0x56c)]('test/fixtures/certificate.pem'),'key':fs['readFileSync'](_0x3d4927['skiFT'])}),_0xbbc59c=new WebSocket[(_0x1ead6b(0x543))]({'server':_0x5b3398});_0xbbc59c['on']('connection',_0x3dc6eb=>{_0x3dc6eb['on']('message',(_0x49d0c9,_0x2d6425)=>{const _0x196ee9=_0x1abd;assert[_0x196ee9(0x25d)](_0x49d0c9,Buffer[_0x196ee9(0x6ec)](_0x196ee9(0x235))),assert['ok'](!_0x2d6425),_0x5b3398[_0x196ee9(0x2ae)](_0x22c33d);});}),_0x5b3398[_0x1ead6b(0x66d)](0x0,()=>{const _0x352eda=_0x1ead6b,_0x1921e4={'SvUva':function(_0x3f0bcf,_0x3a7c09){return _0x3f0bcf!==_0x3a7c09;}};if(_0x16fd40[_0x352eda(0x6aa)](_0x352eda(0x1fb),_0x352eda(0x1fb))){const _0x31a3e3={'tqeMY':_0x352eda(0x586),'XXBVV':function(_0x2986ff){return _0x2986ff();}},_0x139bf6=new _0x419061[(_0x352eda(0x402))]();_0x139bf6[_0x352eda(0x5c3)]=_0x535428=>{const _0x1ae1d0=_0x352eda;_0x3fce68['strictEqual'](_0x535428[_0x1ae1d0(0x644)](_0x31a3e3[_0x1ae1d0(0x1fc)]),'permessage-deflate;\x20client_max_window_bits'),_0x31a3e3[_0x1ae1d0(0x4d3)](_0x4ed2b5);};const _0x59be75=new _0x21487f(_0x16fd40['yUZMQ'],{'agent':_0x139bf6});}else{const _0x539dde=new WebSocket('wss://localhost:'+_0x5b3398['address']()['port'],{'rejectUnauthorized':![]});_0x539dde['on'](_0x352eda(0x614),()=>{const _0x4fcc11=_0x352eda;_0x1921e4[_0x4fcc11(0x695)](_0x4fcc11(0x3ae),'dlTgG')?_0x206f97=!![]:(_0x539dde['send'](_0x4fcc11(0x235)),_0x539dde['close']());});}});}),it(_0x387708(0x4d0),_0x390ca8=>{const _0x3530ba=_0x387708,_0x5e327d={'qiNJE':'message'},_0x1eda17=crypto[_0x3530ba(0x219)](_0x3d4927[_0x3530ba(0x591)](_0x3d4927['RBsSb'](0x5,0x400),0x400)),_0x32776e=https[_0x3530ba(0x256)]({'cert':fs['readFileSync'](_0x3d4927[_0x3530ba(0x47e)]),'key':fs[_0x3530ba(0x56c)]('test/fixtures/key.pem')}),_0x50a006=new WebSocket[(_0x3530ba(0x543))]({'server':_0x32776e});_0x50a006['on'](_0x3d4927[_0x3530ba(0x1a8)],_0x4a7fa6=>{const _0x42ccdf=_0x3530ba,_0x52bbf7={'yJNmL':_0x3d4927[_0x42ccdf(0x5af)]};_0x4a7fa6['on'](_0x42ccdf(0x703),(_0x5182cf,_0x59326c)=>{const _0xc36a44=_0x42ccdf,_0x27aa32={'riRNX':_0x52bbf7[_0xc36a44(0x2a9)]};if('VHiDw'!==_0xc36a44(0x79e))assert['ok'](_0x59326c),_0x4a7fa6[_0xc36a44(0x486)](_0x5182cf),_0x4a7fa6['close']();else{const _0x3b5bc9=new _0x5bed8a('ws://localhost:'+_0x1576d7[_0xc36a44(0x774)]()[_0xc36a44(0x62b)]);_0xf97cfa[_0xc36a44(0x5ab)](_0x3b5bc9['readyState'],_0x4bbef0[_0xc36a44(0x3a6)]),_0x1456fd['ok'](!_0x3b5bc9[_0xc36a44(0x252)]),_0x3b5bc9['resume'](),_0x3b5bc9['on'](_0x27aa32[_0xc36a44(0x78c)],()=>{const _0x2b4187=_0xc36a44;_0x3b5bc9[_0x2b4187(0x401)](),_0x3840c5['ok'](_0x3b5bc9[_0x2b4187(0x252)]),_0x3b5bc9['on'](_0x2b4187(0x2ae),()=>{const _0x2cb6d8=_0x2b4187;_0x1063a5[_0x2cb6d8(0x5ab)](_0x3b5bc9[_0x2cb6d8(0x5bc)],_0x183f29[_0x2cb6d8(0x3ce)]),_0x3b5bc9[_0x2cb6d8(0x722)](),_0x386f9c['ok'](_0x3b5bc9[_0x2cb6d8(0x252)]),_0x5408db[_0x2cb6d8(0x2ae)](_0x17974b);}),_0x3b5bc9[_0x2b4187(0x744)]();});}});}),_0x32776e[_0x3530ba(0x66d)](0x0,()=>{const _0x14196f=_0x3530ba,_0x1623b3=new WebSocket(_0x14196f(0x484)+_0x32776e[_0x14196f(0x774)]()['port'],{'rejectUnauthorized':![]});_0x1623b3['on'](_0x14196f(0x614),()=>_0x1623b3['send'](_0x1eda17)),_0x1623b3['on'](_0x5e327d['qiNJE'],(_0x2359ad,_0x251253)=>{const _0x345840=_0x14196f;assert[_0x345840(0x25d)](_0x2359ad,_0x1eda17),assert['ok'](_0x251253),_0x32776e['close'](_0x390ca8);});});})[_0x387708(0x3fe)](0xfa0),it(_0x53a9dd[_0x387708(0x4c8)],_0x275a3c=>{const _0x31e494=_0x387708,_0x435fed=tls[_0x31e494(0x61f)];tls[_0x31e494(0x61f)]=_0x3691a3=>{const _0x4af6c6=_0x31e494;assert[_0x4af6c6(0x5ab)](_0x3691a3[_0x4af6c6(0x60b)],''),tls[_0x4af6c6(0x61f)]=_0x435fed,_0x275a3c();};const _0x4151b1=new WebSocket(_0x31e494(0x2f1),{'servername':''});}),it('works\x20around\x20a\x20double\x20\x27error\x27\x20event\x20bug\x20in\x20Node.js',function(_0x52b99c){const _0x1dfad9=_0x387708;if(_0x3d4927[_0x1dfad9(0x70a)](process[_0x1dfad9(0x1eb)][_0x1dfad9(0x3ec)],0x40))return this[_0x1dfad9(0x6ed)]();const _0x3f9a06=https[_0x1dfad9(0x256)]({'cert':fs[_0x1dfad9(0x56c)](_0x1dfad9(0x553)),'key':fs[_0x1dfad9(0x56c)](_0x3d4927['skiFT']),'minVersion':_0x3d4927[_0x1dfad9(0x5e6)]}),_0x493e3e=new WebSocket['Server']({'server':_0x3f9a06});_0x3f9a06['listen'](0x0,()=>{const _0x529726=_0x1dfad9,_0x31ba42=new WebSocket('wss://localhost:'+_0x3f9a06[_0x529726(0x774)]()[_0x529726(0x62b)],{'maxVersion':'TLSv1.1','rejectUnauthorized':![]});_0x31ba42['on'](_0x529726(0x6af),_0x310c53=>{const _0x24ac52=_0x529726;assert['ok'](_0x310c53 instanceof Error),_0x3f9a06[_0x24ac52(0x2ae)](_0x52b99c),_0x493e3e['close']();});});});}),describe('Request\x20headers',()=>{const _0x400e3e=_0x3f0b7e,_0x4f3961={'sHTdj':function(_0x4607e6){const _0x33407b=_0x1abd;return _0x53a9dd[_0x33407b(0x563)](_0x4607e6);},'EskLu':_0x400e3e(0x348),'LZLIA':function(_0x5c1fa8,_0x5c0195){return _0x5c1fa8!==_0x5c0195;},'wClhl':'JRRGg','rCUmy':_0x53a9dd[_0x400e3e(0x758)],'jHwII':_0x53a9dd[_0x400e3e(0x1ee)],'TlVaj':_0x400e3e(0x76f),'hPZAP':_0x400e3e(0x20e),'PJUPy':_0x53a9dd[_0x400e3e(0x532)],'TEZSh':_0x400e3e(0x247),'SNoyr':function(_0x15a9fe,_0x46635f){const _0x26fd47=_0x400e3e;return _0x53a9dd[_0x26fd47(0x467)](_0x15a9fe,_0x46635f);},'uAMwj':_0x53a9dd['jDHfl'],'DKjpy':_0x53a9dd[_0x400e3e(0x7fe)],'qwepx':_0x400e3e(0x2fa),'MJyrp':_0x53a9dd[_0x400e3e(0x2f7)],'CsnMb':_0x400e3e(0x54e),'BgkGF':_0x53a9dd[_0x400e3e(0x34e)],'odyZp':_0x53a9dd[_0x400e3e(0x474)],'jdHex':'ws://localhost:88','PXhEo':_0x53a9dd[_0x400e3e(0x39a)],'gsdYw':_0x400e3e(0x246),'wOvwS':'origin','eOEGy':_0x53a9dd['YjeHW'],'hbuLf':function(_0x1c42e7,_0x449bd1){return _0x1c42e7===_0x449bd1;},'lUTTN':'gZBVu'};it('adds\x20the\x20authorization\x20header\x20if\x20the\x20url\x20has\x20userinfo',_0x28b88b=>{const _0x542bda=_0x400e3e,_0x25e187={'sRJKL':function(_0x1038ad){const _0x3868fa=_0x1abd;return _0x4f3961[_0x3868fa(0x6d4)](_0x1038ad);}},_0x1268d1=new http[(_0x542bda(0x402))](),_0x49b2e9='test:testpass';_0x1268d1['addRequest']=_0x4600fa=>{const _0x199e1=_0x542bda;assert[_0x199e1(0x5ab)](_0x4600fa[_0x199e1(0x644)]('authorization'),_0x199e1(0x67d)+Buffer[_0x199e1(0x6ec)](_0x49b2e9)[_0x199e1(0x5a0)]('base64')),_0x25e187[_0x199e1(0x503)](_0x28b88b);};const _0x5cc954=new WebSocket('ws://'+_0x49b2e9+_0x542bda(0x699),{'agent':_0x1268d1});}),it(_0x400e3e(0x585),_0xe135c9=>{const _0x3d34a6=_0x400e3e,_0x15324c={'iVRdh':_0x4f3961['hPZAP'],'jTENz':_0x4f3961[_0x3d34a6(0x1d9)]},_0x35f503=new http[(_0x3d34a6(0x402))](),_0x3a3b5b=_0x4f3961[_0x3d34a6(0x6d2)];_0x35f503[_0x3d34a6(0x5c3)]=_0x32cc6b=>{const _0x431cd1=_0x3d34a6,_0x29e726={'zNfAk':_0x4f3961[_0x431cd1(0x4c7)]};if(_0x4f3961[_0x431cd1(0x6ee)](_0x4f3961[_0x431cd1(0x780)],_0x4f3961[_0x431cd1(0x685)]))assert[_0x431cd1(0x5ab)](_0x32cc6b[_0x431cd1(0x644)](_0x4f3961[_0x431cd1(0x43d)]),_0x431cd1(0x67d)+Buffer[_0x431cd1(0x6ec)](_0x3a3b5b)['toString'](_0x4f3961[_0x431cd1(0x562)])),_0x4f3961['sHTdj'](_0xe135c9);else{const _0x31af7c=[];_0x72f330[_0x431cd1(0x268)]['prependListener'](_0x15324c['iVRdh'],_0x40dd35=>{const _0x1723ee=_0x431cd1;_0x31af7c[_0x1723ee(0x602)](_0x40dd35);}),_0x1d4122['on'](_0x15324c[_0x431cd1(0x815)],_0x4a002b=>{const _0x166bc1=_0x431cd1;_0x1710e7['ok'](_0x4a002b instanceof _0x420ed5),_0x19bb5[_0x166bc1(0x5ab)](_0x4a002b['message'],_0x166bc1(0x260)),_0x4a2381['ok'](_0x2762fb['concat'](_0x31af7c)[_0x166bc1(0x2f6)](0x0,0x2)[_0x166bc1(0x581)](_0x1ec7ec[_0x166bc1(0x6ec)](_0x29e726[_0x166bc1(0x720)],_0x166bc1(0x3c3)))),_0x1d3350['on'](_0x166bc1(0x2ae),(_0x26a0ef,_0x131680)=>{const _0x4e6d60=_0x166bc1;_0x30d769[_0x4e6d60(0x5ab)](_0x26a0ef,0x3ee),_0x19f3ba[_0x4e6d60(0x5ab)](_0x131680,_0x7734a5),_0x2eeb3b=!![];if(_0x55d6a6)_0xe6d204[_0x4e6d60(0x2ae)](_0x43dbd7);});});}};const _0x1b76ea=new WebSocket('ws://localhost',{'agent':_0x35f503,'auth':_0x3a3b5b});}),_0x53a9dd[_0x400e3e(0x7f2)](it,_0x400e3e(0x506),_0xbf163e=>{const _0x1652ab=_0x400e3e,_0x316973={'MlaPE':_0x4f3961[_0x1652ab(0x43d)],'tIqWU':'base64'};if(_0x1652ab(0x4d8)===_0x4f3961['qwepx']){const _0x355093=new _0x5e2bbb['Agent'](),_0x4c3666=_0x4f3961['SNoyr'](_0x1652ab(0x30b)+_0x4f3961[_0x1652ab(0x584)],_0x4f3961[_0x1652ab(0x44f)]);_0x355093['addRequest']=_0x523e0b=>{const _0x51d07e=_0x1652ab;_0x418cd0['strictEqual'](_0x523e0b[_0x51d07e(0x644)](_0x51d07e(0x586)),_0x4c3666),_0x4d181a();};const _0x4c9a34=new _0x5eb812(_0x1652ab(0x588),{'perMessageDeflate':{'clientNoContextTakeover':!![],'serverNoContextTakeover':!![],'clientMaxWindowBits':!![],'serverMaxWindowBits':0xa},'agent':_0x355093});}else{const _0x380c77=new http[(_0x1652ab(0x402))](),_0x3a8cab=_0x1652ab(0x492),_0x397b13=_0x4f3961['MJyrp'];_0x380c77['addRequest']=_0x2b8340=>{const _0x51150f=_0x1652ab;assert[_0x51150f(0x5ab)](_0x2b8340[_0x51150f(0x644)](_0x316973[_0x51150f(0x24b)]),_0x51150f(0x67d)+Buffer[_0x51150f(0x6ec)](_0x397b13)[_0x51150f(0x5a0)](_0x316973[_0x51150f(0x579)])),_0xbf163e();};const _0x597393=new WebSocket(_0x1652ab(0x603)+_0x397b13+_0x1652ab(0x699),{'agent':_0x380c77,'auth':_0x3a8cab});}}),_0x53a9dd['qGYNm'](it,_0x53a9dd['sBdan'],_0x2ece10=>{const _0x1ec3cb=_0x400e3e,_0x431ff0={'ltuln':function(_0x4dc917,_0x1b32da){const _0x51cc00=_0x1abd;return _0x53a9dd[_0x51cc00(0x462)](_0x4dc917,_0x1b32da);},'dAdVh':_0x53a9dd[_0x1ec3cb(0x3a8)],'kcIjQ':_0x1ec3cb(0x717),'GprJM':_0x53a9dd[_0x1ec3cb(0x520)],'KHLio':_0x53a9dd[_0x1ec3cb(0x406)],'LmfFg':'hUWlu'},_0x43d748=new http['Agent']();_0x43d748[_0x1ec3cb(0x5c3)]=_0x2a813d=>{const _0xf53828=_0x1ec3cb,_0x38ebad={'opgtM':function(_0x1a9d3e,_0x3c333c){const _0x23a2cf=_0x1abd;return _0x431ff0[_0x23a2cf(0x795)](_0x1a9d3e,_0x3c333c);},'kcRxC':_0x431ff0[_0xf53828(0x26f)],'CtHhO':_0x431ff0['kcIjQ'],'farwE':'foo','bFtxa':_0x431ff0[_0xf53828(0x525)],'agHal':_0x431ff0[_0xf53828(0x3c7)],'KBqgV':_0xf53828(0x6af),'mBbbT':_0xf53828(0x655)};if(_0xf53828(0x697)!==_0x431ff0[_0xf53828(0x483)])assert[_0xf53828(0x5ab)](_0x2a813d[_0xf53828(0x644)](_0xf53828(0x3e3)),_0xf53828(0x759)),_0x2ece10();else{_0x311ae6[_0xf53828(0x5f3)](_0xf53828(0x7fa),(_0x3fe2ba,_0x4fac23)=>{const _0x311f05=_0xf53828;_0x4fac23['end'](_0x38ebad[_0x311f05(0x707)](_0x38ebad[_0x311f05(0x707)](_0x311f05(0x32e)+_0x161595[_0x311f05(0x276)][0x191]+'\x0d\x0a',_0x311f05(0x6c1))+_0x38ebad[_0x311f05(0x580)]+_0x38ebad[_0x311f05(0x6dd)],'\x0d\x0a')+_0x38ebad[_0x311f05(0x303)]);});const _0x4bb046=new _0x7e56a6(_0xf53828(0x2c9)+_0x17d9a3['address']()[_0xf53828(0x62b)]);_0x4bb046['on'](_0x38ebad[_0xf53828(0x204)],()=>_0x521fc1(new _0x2a928e(_0xf53828(0x210)))),_0x4bb046['on'](_0x38ebad['KBqgV'],()=>_0x4ac426(new _0x4ba61f(_0xf53828(0x609)))),_0x4bb046['on'](_0x38ebad[_0xf53828(0x4c0)],(_0x2e414e,_0x31f043)=>{const _0x280fca=_0xf53828;_0x3bb7e7[_0x280fca(0x5ab)](_0x31f043[_0x280fca(0x3eb)],0x191),_0x31f043['on'](_0x38ebad['bFtxa'],_0x7642c3),_0x2e414e['abort']();});}};const _0x421268=new WebSocket(_0x1ec3cb(0x588),{'headers':{'Cookie':_0x53a9dd[_0x1ec3cb(0x1d4)]},'agent':_0x43d748});}),_0x53a9dd['MqndV'](it,_0x53a9dd[_0x400e3e(0x70d)],()=>{const _0x13d83d=_0x400e3e,_0x4321e0={'lookup'(){}},_0x12cfc5=[[_0x4f3961[_0x13d83d(0x45f)],_0x13d83d(0x2ac)],[_0x4f3961[_0x13d83d(0x622)],_0x4f3961[_0x13d83d(0x30c)]],[_0x4f3961[_0x13d83d(0x23c)],_0x4f3961['PXhEo']],[_0x4f3961[_0x13d83d(0x611)],'localhost']];for(const [_0x4534fa,_0x12faec]of _0x12cfc5){const _0x1f172b=new WebSocket(_0x4534fa,_0x4321e0);assert[_0x13d83d(0x5ab)](_0x1f172b[_0x13d83d(0x582)]['getHeader'](_0x13d83d(0x4a5)),_0x12faec);}}),_0x53a9dd['Nfokq'](it,_0x53a9dd[_0x400e3e(0x4cf)],_0xef9fbc=>{const _0x21d36f=_0x400e3e,_0x48d649={'bdVnM':_0x53a9dd[_0x21d36f(0x5e7)]},_0x4539ee=new http[(_0x21d36f(0x402))]();_0x4539ee[_0x21d36f(0x5c3)]=_0xf3c5bb=>{const _0x47f2ef=_0x21d36f;assert[_0x47f2ef(0x5ab)](_0xf3c5bb[_0x47f2ef(0x644)](_0x48d649[_0x47f2ef(0x22c)]),undefined),_0xef9fbc();};const _0x42ec72=new WebSocket(_0x53a9dd[_0x21d36f(0x684)],{'agent':_0x4539ee});}),_0x53a9dd[_0x400e3e(0x4e5)](it,'honors\x20the\x20`origin`\x20option\x20(1/2)',_0x1c4407=>{const _0x3b3d76=_0x400e3e,_0x31d29f=new http[(_0x3b3d76(0x402))]();_0x31d29f['addRequest']=_0xec7f5f=>{const _0x3705bf=_0x3b3d76;assert[_0x3705bf(0x5ab)](_0xec7f5f['getHeader'](_0x4f3961[_0x3705bf(0x1da)]),'https://example.com:8000'),_0x1c4407();};const _0x41399a=new WebSocket(_0x3b3d76(0x588),{'origin':_0x53a9dd[_0x3b3d76(0x6f7)],'agent':_0x31d29f});}),it(_0x53a9dd[_0x400e3e(0x3b1)],_0x22c63c=>{const _0x453694=_0x400e3e,_0x4b4c7c={'sPTqw':function(_0x2f1c76){return _0x2f1c76();}},_0x4c9303=new http['Agent']();_0x4c9303[_0x453694(0x5c3)]=_0x2d6518=>{const _0x3a7bd1=_0x453694;assert[_0x3a7bd1(0x5ab)](_0x2d6518[_0x3a7bd1(0x644)]('sec-websocket-origin'),'https://example.com:8000'),_0x4b4c7c['sPTqw'](_0x22c63c);};const _0x36a5ce=new WebSocket(_0x453694(0x588),{'origin':_0x4f3961[_0x453694(0x56f)],'protocolVersion':0x8,'agent':_0x4c9303});}),_0x53a9dd[_0x400e3e(0x3f6)](it,_0x400e3e(0x5e8),_0x41ed5d=>{const _0x64e958=_0x400e3e,_0x5da6d0={'oIjNN':function(_0x386418,_0x34a57b){return _0x386418 instanceof _0x34a57b;}},_0x132d22=new WebSocket[(_0x64e958(0x543))]({'port':0x0},()=>{const _0x4bb9c2=_0x64e958,_0x3ffdc6=_0x4bb9c2(0x5e1)+_0x132d22[_0x4bb9c2(0x774)]()[_0x4bb9c2(0x62b)],_0x4dc4ef=new WebSocket(_0x4bb9c2(0x603)+_0x3ffdc6,{'finishRequest'(_0x21610a,_0x1e80f2){const _0xdd81b1=_0x4bb9c2;assert['ok'](_0x5da6d0[_0xdd81b1(0x791)](_0x21610a,http[_0xdd81b1(0x3fd)])),assert['strictEqual'](_0x21610a[_0xdd81b1(0x644)]('host'),_0x3ffdc6),assert['ok'](_0x5da6d0['oIjNN'](_0x1e80f2,WebSocket)),assert[_0xdd81b1(0x5ab)](_0x21610a,_0x1e80f2[_0xdd81b1(0x582)]),_0x21610a['on'](_0xdd81b1(0x2a4),_0x29944d=>{_0x29944d['on']('connect',()=>{const _0x3f4f06=_0x1abd;_0x21610a[_0x3f4f06(0x693)]('Cookie',_0x3f4f06(0x759)),_0x21610a[_0x3f4f06(0x5d2)]();});});}});_0x4dc4ef['on'](_0x4bb9c2(0x2ae),_0x5cce89=>{const _0x409eb3=_0x4bb9c2;assert[_0x409eb3(0x5ab)](_0x5cce89,0x3ed),_0x132d22[_0x409eb3(0x2ae)](_0x41ed5d);});});_0x132d22['on'](_0x53a9dd['IQIyW'],(_0x46b23e,_0x4e08ff)=>{const _0x2b1715=_0x64e958;if(_0x4f3961[_0x2b1715(0x583)](_0x2b1715(0x3c6),_0x4f3961['lUTTN'])){const _0x315071=new _0x14bc04(_0x2b1715(0x588),{'lookup'(){}});_0xd214e9['throws'](()=>_0x315071[_0x2b1715(0x486)]('hi'),/^Error: WebSocket is not open: readyState 0 \(CONNECTING\)$/),_0x9c577f['throws'](()=>_0x315071[_0x2b1715(0x486)]('hi',_0x10c366),/^Error: WebSocket is not open: readyState 0 \(CONNECTING\)$/);}else assert[_0x2b1715(0x5ab)](_0x4e08ff['headers'][_0x2b1715(0x3e3)],'foo=bar'),_0x46b23e[_0x2b1715(0x2ae)]();});});}),describe(_0x3f0b7e(0x5a4),()=>{const _0x37c51f=_0x3f0b7e,_0x4d936c={'rvbSy':function(_0x4e96c0,_0x4c2878){const _0x107e25=_0x1abd;return _0x53a9dd[_0x107e25(0x6df)](_0x4e96c0,_0x4c2878);},'opukU':_0x53a9dd[_0x37c51f(0x353)],'FTKkf':function(_0x339d08){return _0x339d08();},'xndpg':_0x37c51f(0x628),'LPsog':function(_0x1839c9,_0x11070a){return _0x53a9dd['eXuEe'](_0x1839c9,_0x11070a);},'KfOED':_0x37c51f(0x30e),'LBSlw':_0x37c51f(0x64d),'CLudq':_0x53a9dd[_0x37c51f(0x406)],'PeWQi':_0x37c51f(0x703),'ayxFC':'foo','ZaIkb':_0x53a9dd[_0x37c51f(0x207)],'VJNMB':_0x37c51f(0x5b7),'PrnWm':_0x53a9dd[_0x37c51f(0x573)],'Lepuf':function(_0xa4a6ba,_0x34a9b7){return _0xa4a6ba-_0x34a9b7;},'rTspp':_0x37c51f(0x3c3),'vTxgB':_0x37c51f(0x586),'bbkqN':'connection','RyIkU':_0x37c51f(0x7eb),'odoEg':function(_0x25d688,_0x5067cc){const _0x40cca0=_0x37c51f;return _0x53a9dd[_0x40cca0(0x604)](_0x25d688,_0x5067cc);},'WThHp':function(_0x185577,_0x391f6b){const _0x4acaca=_0x37c51f;return _0x53a9dd[_0x4acaca(0x1d5)](_0x185577,_0x391f6b);},'BZmuH':function(_0x52f7e6,_0x23997d){return _0x52f7e6+_0x23997d;},'OpPsm':function(_0x7bed8a,_0x3c2f6b){const _0x41242b=_0x37c51f;return _0x53a9dd[_0x41242b(0x604)](_0x7bed8a,_0x3c2f6b);},'CWnAC':function(_0x2d387c,_0x55cd18){const _0x3d9b43=_0x37c51f;return _0x53a9dd[_0x3d9b43(0x279)](_0x2d387c,_0x55cd18);},'JZUYz':function(_0x23a5c5,_0x1c6f9f,_0x20fea9){return _0x23a5c5(_0x1c6f9f,_0x20fea9);},'eDBGK':_0x37c51f(0x3d0),'fbChS':_0x37c51f(0x68c),'HaTAN':_0x53a9dd['ZgFsr'],'ZHbwt':_0x53a9dd[_0x37c51f(0x761)],'xLPmm':function(_0x4f5391,_0x102db7,_0x241c80){return _0x53a9dd['VqfIl'](_0x4f5391,_0x102db7,_0x241c80);},'pHjeN':_0x37c51f(0x1b0),'Dxtlu':function(_0xf11b82,_0x58a8e0){const _0x1237bc=_0x37c51f;return _0x53a9dd[_0x1237bc(0x1c8)](_0xf11b82,_0x58a8e0);},'OFjGU':_0x53a9dd[_0x37c51f(0x7a2)],'FfmEr':_0x53a9dd[_0x37c51f(0x36b)]};_0x53a9dd[_0x37c51f(0x1fe)]('VCrmY',_0x53a9dd[_0x37c51f(0x3e0)])?(it(_0x53a9dd[_0x37c51f(0x78b)],_0x2caf73=>{const _0x5015ec=_0x37c51f,_0x318dc2={'Nmjsq':function(_0x3283d3,_0x3929a5){const _0x2f4786=_0x1abd;return _0x4d936c[_0x2f4786(0x1d8)](_0x3283d3,_0x3929a5);},'AupXS':_0x5015ec(0x586),'UYYfY':_0x4d936c[_0x5015ec(0x5ca)],'wYPOm':function(_0x4894db){const _0x3dbaa4=_0x5015ec;return _0x4d936c[_0x3dbaa4(0x26b)](_0x4894db);}};if(_0x4d936c[_0x5015ec(0x4fe)]!==_0x4d936c[_0x5015ec(0x4fe)]){let _0xd5d273=0x0;_0x4afaca['on'](_0x5015ec(0x769),_0x55d4d1=>{const _0x5e164d=_0x5015ec;_0x198d57[_0x5e164d(0x5ab)](_0x55d4d1[_0x5e164d(0x5a0)](),'hi');if(_0x318dc2[_0x5e164d(0x5f4)](++_0xd5d273,0x2))_0x29a6b9[_0x5e164d(0x2ae)](_0x2ac45e);});}else{const _0x443c77=new http[(_0x5015ec(0x402))]();_0x443c77[_0x5015ec(0x5c3)]=_0x794b83=>{const _0xc3775a=_0x5015ec;assert['strictEqual'](_0x794b83[_0xc3775a(0x644)](_0x318dc2[_0xc3775a(0x25c)]),_0x318dc2['UYYfY']),_0x318dc2[_0xc3775a(0x742)](_0x2caf73);};const _0x27325f=new WebSocket(_0x5015ec(0x588),{'agent':_0x443c77});}}),_0x53a9dd['zrDKg'](it,_0x53a9dd[_0x37c51f(0x29c)],_0x573d54=>{const _0x24240d=_0x37c51f,_0x100fd1={'vnbds':_0x53a9dd[_0x24240d(0x6d1)]},_0x45acb5=new http['Agent']();_0x45acb5['addRequest']=_0x365fc2=>{const _0x3cf02e=_0x24240d;assert[_0x3cf02e(0x5ab)](_0x365fc2['getHeader'](_0x100fd1[_0x3cf02e(0x415)]),undefined),_0x573d54();};const _0x236541=new WebSocket(_0x53a9dd[_0x24240d(0x684)],{'perMessageDeflate':![],'agent':_0x45acb5});}),_0x53a9dd[_0x37c51f(0x1d7)](it,_0x53a9dd['zbPue'],_0xb7b36=>{const _0x330f58=_0x37c51f,_0x1b4eec=new http[(_0x330f58(0x402))](),_0x1b2945=_0x53a9dd[_0x330f58(0x5a8)](_0x330f58(0x30b),_0x53a9dd['jDHfl'])+_0x53a9dd[_0x330f58(0x7fe)];_0x1b4eec[_0x330f58(0x5c3)]=_0x5c93f2=>{const _0xf68ad1=_0x330f58;assert[_0xf68ad1(0x5ab)](_0x5c93f2[_0xf68ad1(0x644)]('sec-websocket-extensions'),_0x1b2945),_0xb7b36();};const _0x47e7dc=new WebSocket(_0x53a9dd[_0x330f58(0x684)],{'perMessageDeflate':{'clientNoContextTakeover':!![],'serverNoContextTakeover':!![],'clientMaxWindowBits':!![],'serverMaxWindowBits':0xa},'agent':_0x1b4eec});}),_0x53a9dd[_0x37c51f(0x2aa)](it,_0x37c51f(0x4bc),_0x20934a=>{const _0x185b1e=_0x37c51f,_0x3755ab={'QbHsJ':function(_0x3858d5,_0x8203d7){const _0x52c0f6=_0x1abd;return _0x4d936c[_0x52c0f6(0x4d4)](_0x3858d5,_0x8203d7);},'nIzPe':_0x4d936c[_0x185b1e(0x47b)]},_0x4428d6=new WebSocket[(_0x185b1e(0x543))]({'perMessageDeflate':{'threshold':0x0},'port':0x0},()=>{const _0x50511e=_0x185b1e,_0x4a02f1={'hFleK':_0x50511e(0x41c),'HFVKn':function(_0x52fa6a,_0x1d189e){const _0xe6da8a=_0x50511e;return _0x4d936c[_0xe6da8a(0x4d4)](_0x52fa6a,_0x1d189e);},'uaxSS':_0x4d936c['KfOED'],'DJPRN':_0x4d936c['LBSlw'],'oIIFD':'baz'},_0x3df5d1=[],_0x28c641=new WebSocket(_0x50511e(0x2c9)+_0x4428d6['address']()[_0x50511e(0x62b)]);_0x28c641['on'](_0x4d936c[_0x50511e(0x284)],()=>{const _0x2d8e4a=_0x50511e;_0x28c641[_0x2d8e4a(0x268)]['on'](_0x2d8e4a(0x2ae),()=>{const _0x2d3216=_0x2d8e4a;assert['strictEqual'](_0x28c641[_0x2d3216(0x4ab)][_0x2d3216(0x21f)],0x5);});}),_0x28c641['on'](_0x4d936c['PeWQi'],(_0x499bb9,_0x34fb25)=>{const _0x54616e=_0x50511e;_0x3755ab['QbHsJ'](_0x54616e(0x5b7),_0x3755ab[_0x54616e(0x69e)])?(_0x149c6c['strictEqual'](_0x5eb0e1,0x3ed),_0x33e0fa['deepStrictEqual'](_0x39263f,_0x35b7d3),_0x23b8c5[_0x54616e(0x2ae)](_0x27a200)):(assert['ok'](!_0x34fb25),_0x3df5d1[_0x54616e(0x602)](_0x499bb9[_0x54616e(0x5a0)]()));}),_0x28c641['on'](_0x50511e(0x2ae),_0x470285=>{const _0x3d08e2=_0x50511e,_0x4eb49c={'RNxta':_0x4a02f1['hFleK'],'GSLoC':_0x3d08e2(0x2ae)};_0x4a02f1[_0x3d08e2(0x541)](_0x4a02f1[_0x3d08e2(0x423)],'VtVSs')?(assert[_0x3d08e2(0x5ab)](_0x470285,0x3ee),assert[_0x3d08e2(0x25d)](_0x3df5d1,[_0x3d08e2(0x7e0),_0x4a02f1[_0x3d08e2(0x233)],_0x4a02f1[_0x3d08e2(0x273)],_0x3d08e2(0x784)]),_0x4428d6[_0x3d08e2(0x2ae)](_0x20934a)):(_0x543495['strictEqual'](_0x1b0c4a[_0x3d08e2(0x6b9)],0x1),_0x5e7205[_0x3d08e2(0x5ab)](_0x51e879,'ws://localhost:'+_0x2b3c78+'/'),_0x338150[_0x3d08e2(0x355)](_0x2773c3,_0x31ed99),_0x122872[_0x3d08e2(0x5ab)](_0x10885f['getHeader']('Authorization'),_0x1fe76a[_0x3d08e2(0x302)]),_0x13bb62[_0x3d08e2(0x5ab)](_0x443a10[_0x3d08e2(0x644)](_0x4eb49c[_0x3d08e2(0x36d)]),_0x12d41d[_0x3d08e2(0x3e3)]),_0x35ce14[_0x3d08e2(0x5ab)](_0x36b374['getHeader'](_0x3d08e2(0x221)),_0x250a39[_0x3d08e2(0x4a5)]),_0x3cebf9['on'](_0x4eb49c[_0x3d08e2(0x299)],_0x134e73=>{const _0x46c211=_0x3d08e2;_0x13fa70[_0x46c211(0x5ab)](_0x134e73,0x3ed),_0x578ffa[_0x46c211(0x2ae)](_0x13bf3f);}));});});_0x4428d6['on'](_0x185b1e(0x597),_0x2b243b=>{const _0x16abe2=_0x185b1e;_0x2b243b['send'](_0x4d936c[_0x16abe2(0x2a5)]),_0x2b243b[_0x16abe2(0x486)](_0x16abe2(0x64d)),_0x2b243b[_0x16abe2(0x486)](_0x4d936c[_0x16abe2(0x43c)]),_0x2b243b[_0x16abe2(0x486)](_0x16abe2(0x784),()=>_0x2b243b[_0x16abe2(0x268)][_0x16abe2(0x5d2)]());});}),it(_0x53a9dd[_0x37c51f(0x77e)],_0x1bbd67=>{const _0x5730e6=_0x37c51f,_0x4d4399={'LFyuS':function(_0x233924,_0x194a02){return _0x4d936c['Lepuf'](_0x233924,_0x194a02);}},_0x3438fc=new WebSocket[(_0x5730e6(0x543))]({'perMessageDeflate':!![],'port':0x0},()=>{const _0x234db4=_0x5730e6,_0x458f1e={'puYho':function(_0x51606f,_0x40d195){const _0x59636e=_0x1abd;return _0x4d936c[_0x59636e(0x1d8)](_0x51606f,_0x40d195);},'ftDpB':_0x234db4(0x270),'PwnCS':function(_0x3299ad,_0xa5f8e5){return _0x3299ad<_0xa5f8e5;},'yETkW':_0x4d936c[_0x234db4(0x63b)],'twhrJ':function(_0x352aed,_0x5a7f14){return _0x352aed-_0x5a7f14;}},_0x4837d7=[],_0x33253f=new WebSocket(_0x234db4(0x2c9)+_0x3438fc[_0x234db4(0x774)]()[_0x234db4(0x62b)]);_0x33253f['on'](_0x234db4(0x614),()=>{const _0xeca091=_0x234db4;if(_0x458f1e[_0xeca091(0x203)](_0xeca091(0x280),_0x458f1e[_0xeca091(0x5b4)]))_0xed267f[_0xeca091(0x2ae)]();else{_0x33253f[_0xeca091(0x268)]['prependListener'](_0xeca091(0x2ae),()=>{const _0x9b6a05=_0xeca091;assert[_0x9b6a05(0x5ab)](_0x33253f[_0x9b6a05(0x4ab)][_0x9b6a05(0x21f)],0x5),assert[_0x9b6a05(0x5ab)](_0x33253f[_0x9b6a05(0x268)]['_readableState'][_0x9b6a05(0x41b)],0x3);});const _0x25f2f0=_0x33253f['_socket']['push'];_0x33253f[_0xeca091(0x268)][_0xeca091(0x602)]=_0xd08ade=>{const _0x28de48=_0xeca091;_0x33253f[_0x28de48(0x268)][_0x28de48(0x602)]=_0x25f2f0,_0x33253f[_0x28de48(0x268)][_0x28de48(0x602)](_0xd08ade),_0x33253f[_0x28de48(0x744)]();};const _0x47e9c6=Buffer[_0xeca091(0x347)](highWaterMark-0x400),_0x5ecb5b=Buffer['alloc'](0x1),_0x525429={'fin':!![],'opcode':0x2,'mask':![],'readOnly':![]},_0x38b261=[...Sender[_0xeca091(0x40e)](_0x47e9c6,{'rsv1':![],..._0x525429}),...Sender[_0xeca091(0x40e)](_0x5ecb5b,{'rsv1':!![],..._0x525429})];for(let _0xe06c05=0x0;_0x458f1e['PwnCS'](_0xe06c05,0x154);_0xe06c05++){_0x458f1e[_0xeca091(0x516)]!==_0xeca091(0x67e)?_0x38b261[_0xeca091(0x602)](_0x38b261[_0x458f1e[_0xeca091(0x3d7)](_0x38b261['length'],0x2)],_0x38b261[_0x458f1e['twhrJ'](_0x38b261[_0xeca091(0x41b)],0x1)]):(_0x58de01[_0xeca091(0x5ab)](_0x10d9f1,0x3ee),_0x22184a[_0xeca091(0x5ab)](_0x36e011,_0x283702),_0x142962[_0xeca091(0x2ae)](_0x514ded));}const _0x5a39c4=Buffer[_0xeca091(0x682)](_0x38b261);assert['ok'](_0x5a39c4[_0xeca091(0x41b)]>highWaterMark),_0x25f2f0[_0xeca091(0x2e2)](_0x33253f[_0xeca091(0x268)],_0x5a39c4),_0x3438fc['clients'][_0xeca091(0x816)]()[_0xeca091(0x60e)]()[_0xeca091(0x4fa)][_0xeca091(0x486)](_0x5ecb5b,{'compress':![]});}}),_0x33253f['on'](_0x4d936c[_0x234db4(0x4bf)],(_0x5ee9c6,_0x7a2bee)=>{const _0x23ede4=_0x234db4;assert['ok'](_0x7a2bee),_0x4837d7[_0x23ede4(0x602)](_0x5ee9c6['length']);}),_0x33253f['on'](_0x234db4(0x2ae),_0x70e846=>{const _0x499cc1=_0x234db4,_0x2a518f=_0x499cc1(0x21a)[_0x499cc1(0x1ab)]('|');let _0x76c943=0x0;while(!![]){switch(_0x2a518f[_0x76c943++]){case'0':assert['strictEqual'](_0x4837d7[_0x499cc1(0x41b)],0x157);continue;case'1':assert[_0x499cc1(0x5ab)](_0x70e846,0x3ee);continue;case'2':assert[_0x499cc1(0x5ab)](_0x4837d7[0x0],highWaterMark-0x400);continue;case'3':assert['strictEqual'](_0x4837d7[_0x4d4399[_0x499cc1(0x1c2)](_0x4837d7['length'],0x1)],0x1);continue;case'4':_0x3438fc['close'](_0x1bbd67);continue;}break;}});});}),_0x53a9dd['yGJeh'](it,_0x53a9dd[_0x37c51f(0x5e4)],_0x56a850=>{const _0xaa3b4e=_0x37c51f,_0x5b3d62={'BtzOQ':'bar','BXUfh':'qux'},_0x5a0fa5=new WebSocket[(_0xaa3b4e(0x543))]({'perMessageDeflate':!![],'port':0x0},()=>{const _0x915015=_0xaa3b4e,_0x25f235=new WebSocket(_0x915015(0x2c9)+_0x5a0fa5[_0x915015(0x774)]()[_0x915015(0x62b)],{'perMessageDeflate':{'threshold':0x0}});_0x25f235['on'](_0x915015(0x614),()=>{const _0x4c4fe1=_0x915015;_0x25f235['_receiver']['on'](_0x4c4fe1(0x3f5),()=>{const _0x1984c6=_0x4c4fe1;assert['ok'](_0x25f235['_sender'][_0x1984c6(0x4d9)]);}),_0x25f235[_0x4c4fe1(0x486)](_0x4c4fe1(0x7e0)),_0x25f235[_0x4c4fe1(0x486)](_0x5b3d62[_0x4c4fe1(0x3b6)]),_0x25f235[_0x4c4fe1(0x486)](_0x4c4fe1(0x409)),_0x25f235[_0x4c4fe1(0x486)](_0x5b3d62[_0x4c4fe1(0x44a)]);});});_0x5a0fa5['on'](_0xaa3b4e(0x597),_0x4c5442=>{const _0x56fa5b=_0xaa3b4e,_0x1eeca7={'nKWiN':_0x56fa5b(0x64d)},_0x5884d9=[];_0x4c5442['on'](_0x4d936c[_0x56fa5b(0x4bf)],(_0x5bb5c5,_0x422dc2)=>{const _0xcaf9b6=_0x56fa5b;assert['ok'](!_0x422dc2),_0x5884d9[_0xcaf9b6(0x602)](_0x5bb5c5[_0xcaf9b6(0x5a0)]());}),_0x4c5442['on'](_0x56fa5b(0x2ae),(_0x11712c,_0x4820da)=>{const _0x515597=_0x56fa5b;assert[_0x515597(0x25d)](_0x5884d9,[_0x515597(0x7e0),_0x1eeca7['nKWiN'],_0x515597(0x409),_0x515597(0x784)]),assert['strictEqual'](_0x11712c,0x3e8),assert[_0x515597(0x25d)](_0x4820da,EMPTY_BUFFER),_0x5a0fa5[_0x515597(0x2ae)](_0x56a850);}),_0x4c5442['close'](0x3e8);});}),_0x53a9dd[_0x37c51f(0x790)](describe,_0x53a9dd[_0x37c51f(0x1b7)],()=>{const _0x625c39=_0x37c51f,_0x1b70bc={'GLiaK':_0x4d936c[_0x625c39(0x1d2)]};it('can\x20be\x20used\x20while\x20data\x20is\x20being\x20decompressed',_0x2ae080=>{const _0x321442=_0x625c39,_0x365b03={'aGqTE':function(_0x1549cf,_0x41b62a){return _0x1549cf===_0x41b62a;},'xDMgg':function(_0x36a296,_0x237b4e){return _0x36a296(_0x237b4e);}},_0x319e30=new WebSocket[(_0x321442(0x543))]({'perMessageDeflate':!![],'port':0x0},()=>{const _0x60ddec=_0x321442,_0x1f1cb2=[],_0x5f00c8=new WebSocket(_0x60ddec(0x2c9)+_0x319e30['address']()['port']);_0x5f00c8['on'](_0x60ddec(0x703),(_0x574333,_0x2f5bcb)=>{const _0x454c7d=_0x60ddec,_0x48c553={'UnLRq':function(_0x1164e1,_0x5ee452){const _0x276e2f=_0x1abd;return _0x365b03[_0x276e2f(0x756)](_0x1164e1,_0x5ee452);},'HWktJ':_0x454c7d(0x7f6)};assert['ok'](!_0x2f5bcb);if(_0x1f1cb2[_0x454c7d(0x602)](_0x574333['toString']())>0x1)return;_0x365b03[_0x454c7d(0x565)](setImmediate,()=>{const _0x55f307=_0x454c7d;process[_0x55f307(0x31d)](()=>{const _0x30b056=_0x55f307,_0x4ba5fa={'Rosjn':_0x30b056(0x235)};if(_0x48c553[_0x30b056(0x617)](_0x48c553['HWktJ'],'tbINf')){const _0x4d4f2b=_0x39905a[_0x30b056(0x6ec)](_0x4ba5fa['Rosjn']),_0x295401=new _0x2013c5(_0x30b056(0x2c9)+_0x1a8189[_0x30b056(0x774)]()[_0x30b056(0x62b)]);_0x295401['on']('open',()=>{const _0x25249e=_0x30b056;_0x295401[_0x25249e(0x486)](_0x4d4f2b),_0x295401[_0x25249e(0x2ae)]();}),_0x295401[_0x30b056(0x5db)]=_0x2a183e=>{const _0x5be897=_0x30b056;_0x9925a1['deepStrictEqual'](_0x2a183e[_0x5be897(0x20e)],_0x4d4f2b),_0x40366b[_0x5be897(0x2ae)](_0x54af88);};}else assert[_0x30b056(0x5ab)](_0x5f00c8[_0x30b056(0x4ab)][_0x30b056(0x21f)],0x5),_0x5f00c8[_0x30b056(0x2ae)](0x3e8);});});}),_0x5f00c8['on'](_0x60ddec(0x2ae),(_0x3b2f5d,_0x1de1d9)=>{const _0x32a9fb=_0x60ddec;assert[_0x32a9fb(0x25d)](_0x1f1cb2,['','','','']),assert[_0x32a9fb(0x5ab)](_0x3b2f5d,0x3e8),assert['deepStrictEqual'](_0x1de1d9,EMPTY_BUFFER),_0x319e30[_0x32a9fb(0x2ae)](_0x2ae080);});});_0x319e30['on']('connection',_0x16f9b2=>{const _0x5dfdbc=_0x321442,_0x259350=Buffer['from'](_0x5dfdbc(0x6f2),_0x1b70bc[_0x5dfdbc(0x3a1)]);_0x16f9b2[_0x5dfdbc(0x268)]['write'](_0x259350);});});}),_0x53a9dd[_0x37c51f(0x7e6)](describe,'#send',()=>{const _0x5fdbcb=_0x37c51f,_0x2d55dc={'oNUCN':function(_0x1875e2,_0x4ac1be){const _0x469257=_0x1abd;return _0x4d936c[_0x469257(0x29f)](_0x1875e2,_0x4ac1be);},'vqLQL':'HTTP/1.1\x20302\x20Found\x0d\x0a','HKHHI':'rhRwd','YslBr':_0x4d936c['PeWQi'],'GZTQc':function(_0x4bc3a8,_0x4e3a36){const _0x2f7bf6=_0x1abd;return _0x4d936c[_0x2f7bf6(0x6e3)](_0x4bc3a8,_0x4e3a36);},'wgGsy':function(_0x2cb3b8,_0xfc061){const _0x25de3f=_0x1abd;return _0x4d936c[_0x25de3f(0x3bd)](_0x2cb3b8,_0xfc061);},'coneG':_0x4d936c['CLudq']};_0x4d936c['JZUYz'](it,_0x4d936c[_0x5fdbcb(0x539)],_0x111613=>{const _0x1557de=_0x5fdbcb,_0x40737b={'bSfmM':_0x4d936c[_0x1557de(0x32f)]},_0x532050=new WebSocket[(_0x1557de(0x543))]({'perMessageDeflate':{'threshold':0x0},'port':0x0},()=>{const _0x5f1088=_0x1557de;if(_0x5f1088(0x771)!==_0x5f1088(0x771))_0x38ae83['strictEqual'](_0x1bd6be[_0x5f1088(0x644)](_0x40737b['bSfmM']),_0x40c03f),_0x1523c6();else{const _0xbfd514=new WebSocket('ws://localhost:'+_0x532050[_0x5f1088(0x774)]()[_0x5f1088(0x62b)],{'perMessageDeflate':{'threshold':0x0}});_0xbfd514['on'](_0x5f1088(0x614),()=>{const _0x3f7523=_0x5f1088;_0xbfd514[_0x3f7523(0x486)]('hi',{'compress':!![]}),_0xbfd514['close']();}),_0xbfd514['on'](_0x5f1088(0x703),(_0x2a2c22,_0xe5fb89)=>{const _0x35d3a3=_0x5f1088;assert['deepStrictEqual'](_0x2a2c22,Buffer[_0x35d3a3(0x6ec)]('hi')),assert['ok'](!_0xe5fb89),_0x532050[_0x35d3a3(0x2ae)](_0x111613);});}});_0x532050['on'](_0x4d936c[_0x1557de(0x52d)],_0x18e666=>{const _0x4cf486=_0x1557de,_0xd15f99={'ucfdy':function(_0x2f20ec,_0x3afab2){return _0x2d55dc['oNUCN'](_0x2f20ec,_0x3afab2);},'XmaiW':_0x2d55dc['vqLQL'],'FYtGW':_0x2d55dc[_0x4cf486(0x1f9)]};_0x18e666['on'](_0x2d55dc[_0x4cf486(0x205)],(_0x481f3e,_0x1349d9)=>{const _0x62ab96=_0x4cf486;_0xd15f99['FYtGW']===_0x62ab96(0x446)?_0x11727b['end'](_0xd15f99['ucfdy'](_0xd15f99[_0x62ab96(0x5cb)],_0x62ab96(0x632)+_0x3efa79+_0x62ab96(0x4c1))):_0x18e666['send'](_0x481f3e,{'binary':_0x1349d9,'compress':!![]});});});}),it(_0x4d936c[_0x5fdbcb(0x803)],_0xc0ba2d=>{const _0x4dafb1=_0x5fdbcb,_0xa4aa2c={'qoTld':_0x4dafb1(0x614),'gZvqy':function(_0x3c2cea,_0x47411e){return _0x4d936c['LPsog'](_0x3c2cea,_0x47411e);},'bZWbH':_0x4d936c['RyIkU']};if(_0x4d936c[_0x4dafb1(0x4d4)](_0x4dafb1(0x6ae),_0x4dafb1(0x57a))){const _0x901d30=new Float32Array(0x5);for(let _0x3bb53c=0x0;_0x4d936c['odoEg'](_0x3bb53c,_0x901d30[_0x4dafb1(0x41b)]);_0x3bb53c++){_0x901d30[_0x3bb53c]=_0x4d936c[_0x4dafb1(0x799)](_0x3bb53c,0x2);}const _0x4bde07=new WebSocket[(_0x4dafb1(0x543))]({'perMessageDeflate':{'threshold':0x0},'port':0x0},()=>{const _0x5e710d=_0x4dafb1,_0x4a958c=new WebSocket(_0x5e710d(0x2c9)+_0x4bde07[_0x5e710d(0x774)]()[_0x5e710d(0x62b)],{'perMessageDeflate':{'threshold':0x0}});_0x4a958c['on'](_0xa4aa2c['qoTld'],()=>{const _0x796da=_0x5e710d;_0x4a958c['send'](_0x901d30,{'compress':!![]}),_0x4a958c[_0x796da(0x2ae)]();}),_0x4a958c['on']('message',(_0x23a153,_0x32bbe5)=>{const _0x112016=_0x5e710d;assert[_0x112016(0x25d)](_0x23a153,Buffer['from'](_0x901d30['buffer'])),assert['ok'](_0x32bbe5),_0x4bde07['close'](_0xc0ba2d);});});_0x4bde07['on'](_0x4dafb1(0x597),_0x50c06b=>{const _0x73b37d=_0x4dafb1,_0x5abf9f={'lNdAC':_0x73b37d(0x703)};_0x50c06b['on'](_0x73b37d(0x703),(_0x474ff1,_0xb8cacc)=>{const _0x3816c4=_0x73b37d;_0xa4aa2c['gZvqy'](_0x3816c4(0x3c9),_0xa4aa2c['bZWbH'])?(assert['ok'](_0xb8cacc),_0x50c06b[_0x3816c4(0x486)](_0x474ff1,{'compress':!![]})):_0x44fdcf['on'](_0x5abf9f['lNdAC'],(_0x57562d,_0x16f4cc)=>{const _0x539b61=_0x3816c4;_0x22fff4['ok'](_0x16f4cc),_0xf771ee[_0x539b61(0x486)](_0x57562d);});});});}else{const _0x56bb49=new _0x24a309(_0x4dafb1(0x2c9)+_0x4bb105[_0x4dafb1(0x774)]()[_0x4dafb1(0x62b)]),_0x456133=[];_0x56bb49['on'](_0x4dafb1(0x703),(_0x4cef12,_0x295898)=>{const _0x170e33=_0x4dafb1;_0x19c58b['ok'](!_0x295898),_0x456133[_0x170e33(0x602)](_0x4cef12['toString']());}),_0x56bb49['on'](_0x4dafb1(0x2ae),_0x37243a=>{const _0x9b9d9f=_0x4dafb1;_0x56d295[_0x9b9d9f(0x5ab)](_0x37243a,0x3ed),_0x88e24c[_0x9b9d9f(0x25d)](_0x456133,[_0x9b9d9f(0x7e0),'bar','baz']),_0x58ff03['close'](_0x154b44);});}}),it(_0x4d936c['HaTAN'],_0x60e435=>{const _0x1a8c0b=_0x5fdbcb,_0x4e1927={'tVCoe':'nIeWv','QQDTk':function(_0x119dd4,_0x2f6420){return _0x119dd4===_0x2f6420;},'RozZj':_0x2d55dc[_0x1a8c0b(0x205)]},_0x43b230=new Float32Array(0x5);for(let _0x1fd0b2=0x0;_0x2d55dc[_0x1a8c0b(0x38b)](_0x1fd0b2,_0x43b230[_0x1a8c0b(0x41b)]);_0x1fd0b2++){if(_0x2d55dc['wgGsy'](_0x1a8c0b(0x39e),_0x1a8c0b(0x25e)))_0x43b230[_0x1fd0b2]=_0x1fd0b2/0x2;else{const _0x2d118d=new _0x2e4c61(_0x1a8c0b(0x2c9)+_0x29af2f[_0x1a8c0b(0x774)]()[_0x1a8c0b(0x62b)]);_0x2d118d['on'](_0x1a8c0b(0x2ae),()=>{const _0x197115=_0x1a8c0b;_0x531642[_0x197115(0x5ab)](_0x2d118d[_0x197115(0x5bc)],_0x43b068['CLOSED']),_0x5bca34[_0x197115(0x2ae)](_0x44f3f2);}),_0x2d118d['on']('open',()=>_0x2d118d['close'](0x3e9));}}const _0x3d90de=new WebSocket[(_0x1a8c0b(0x543))]({'perMessageDeflate':{'threshold':0x0},'port':0x0},()=>{const _0x5c172b=_0x1a8c0b,_0x8c1ec1=new WebSocket(_0x5c172b(0x2c9)+_0x3d90de[_0x5c172b(0x774)]()[_0x5c172b(0x62b)],{'perMessageDeflate':{'threshold':0x0}});_0x8c1ec1['on']('open',()=>{const _0x3cc61d=_0x5c172b;_0x8c1ec1[_0x3cc61d(0x486)](_0x43b230[_0x3cc61d(0x295)],{'compress':!![]}),_0x8c1ec1['close']();}),_0x8c1ec1['on'](_0x5c172b(0x703),(_0x10d71f,_0x57f842)=>{const _0x549545=_0x5c172b;_0x4e1927[_0x549545(0x4d7)]===_0x549545(0x544)?(_0x6abcc9['send'](_0x544f51,{'compress':!![]}),_0x4c3c83['close']()):(assert[_0x549545(0x25d)](_0x10d71f,Buffer['from'](_0x43b230[_0x549545(0x295)])),assert['ok'](_0x57f842),_0x3d90de[_0x549545(0x2ae)](_0x60e435));});});_0x3d90de['on']('connection',_0x37ef7d=>{const _0x37761e=_0x1a8c0b,_0x3576fb={'EbrBf':_0x37761e(0x7fa),'CktdD':_0x37761e(0x79b),'mOQOT':function(_0x4b2346,_0xa73094){return _0x4e1927['QQDTk'](_0x4b2346,_0xa73094);}};_0x37ef7d['on'](_0x4e1927[_0x37761e(0x568)],(_0x31cac7,_0x38be8b)=>{const _0x163eb8=_0x37761e,_0x4e772d={'aDOYV':_0x3576fb[_0x163eb8(0x6cc)]};if(_0x3576fb[_0x163eb8(0x69c)]('HvrnS',_0x163eb8(0x56b)))assert['ok'](_0x38be8b),_0x37ef7d[_0x163eb8(0x486)](_0x31cac7,{'compress':!![]});else{const _0x2bbb46={'gsoQw':_0x3576fb[_0x163eb8(0x5d6)]},_0x454e80=(_0x514fd1,_0x182c56)=>{const _0xf5d5e9=_0x163eb8;_0x182c56[_0xf5d5e9(0x5d2)](_0x4e772d[_0xf5d5e9(0x7b5)]);};_0x2fd3bb['on'](_0x3576fb[_0x163eb8(0x5d6)],_0x454e80);const _0x19be9a=new _0x44540a(_0x163eb8(0x2c9)+_0x2e2993['address']()[_0x163eb8(0x62b)],{'followRedirects':!![],'maxRedirects':0x1});_0x19be9a['on']('open',()=>_0x2a043a(new _0x142001(_0x163eb8(0x210)))),_0x19be9a['on'](_0x163eb8(0x6af),_0x4c8625=>{const _0x3a03f5=_0x163eb8;_0x446452['ok'](_0x4c8625 instanceof _0x3a0168),_0x19c5d3[_0x3a03f5(0x5ab)](_0x4c8625[_0x3a03f5(0x703)],'Maximum\x20redirects\x20exceeded'),_0x5daf1f[_0x3a03f5(0x5ab)](_0x19be9a[_0x3a03f5(0x6b9)],0x2),_0x556ccb[_0x3a03f5(0x73c)](_0x2bbb46[_0x3a03f5(0x431)],_0x454e80),_0x19be9a['on'](_0x3a03f5(0x2ae),()=>_0x3106e2());});}});});}),it(_0x4d936c[_0x5fdbcb(0x5d3)],_0x1226a5=>{const _0x59129a=_0x5fdbcb,_0x372e0f=new WebSocket[(_0x59129a(0x543))]({'port':0x0},()=>{const _0x134b16=_0x59129a,_0xb98910=new WebSocket(_0x134b16(0x2c9)+_0x372e0f['address']()[_0x134b16(0x62b)],{'perMessageDeflate':![]});_0xb98910['on'](_0x2d55dc['coneG'],()=>{const _0x443ec5=_0x134b16;_0xb98910[_0x443ec5(0x486)]('hi',{'compress':!![]}),_0xb98910['close']();}),_0xb98910['on'](_0x134b16(0x703),(_0x1edfdc,_0x5853f3)=>{const _0x524169=_0x134b16;assert[_0x524169(0x25d)](_0x1edfdc,Buffer[_0x524169(0x6ec)]('hi')),assert['ok'](!_0x5853f3),_0x372e0f[_0x524169(0x2ae)](_0x1226a5);});});_0x372e0f['on'](_0x59129a(0x597),_0x585782=>{const _0x807bda=_0x59129a;_0x585782['on'](_0x807bda(0x703),(_0x2cfe17,_0x38e5f8)=>{_0x585782['send'](_0x2cfe17,{'binary':_0x38e5f8,'compress':!![]});});});}),_0x4d936c[_0x5fdbcb(0x211)](it,_0x4d936c[_0x5fdbcb(0x1c7)],_0x191d1e=>{const _0xd25fbc=_0x5fdbcb,_0x53a16f={'VtnTP':_0x4d936c[_0xd25fbc(0x330)]},_0x581623=[],_0x367359=new WebSocket[(_0xd25fbc(0x543))]({'perMessageDeflate':!![],'port':0x0},()=>{const _0x5c724f=_0xd25fbc,_0x4388f3={'hLObA':function(_0x3fa0c1,_0x5fa4f9){return _0x3fa0c1 instanceof _0x5fa4f9;},'DVzjV':_0x5c724f(0x2ca),'Txkws':function(_0x1cbfdf,_0x1d568d){return _0x1cbfdf===_0x1d568d;},'kAZUY':'foo','tcoCV':_0x53a16f[_0x5c724f(0x6a0)],'wdKRf':'baz','EGSnI':_0x5c724f(0x784)},_0x1b8111=new WebSocket(_0x5c724f(0x2c9)+_0x367359[_0x5c724f(0x774)]()[_0x5c724f(0x62b)],{'perMessageDeflate':{'threshold':0x0}});_0x1b8111['on'](_0x5c724f(0x614),()=>{const _0xdef564=_0x5c724f,_0x1f844d={'qOVrx':function(_0x34e294,_0x3dec7a){const _0x4bc492=_0x1abd;return _0x4388f3[_0x4bc492(0x1de)](_0x34e294,_0x3dec7a);},'HsuCC':_0x4388f3[_0xdef564(0x28b)]};if(_0x4388f3[_0xdef564(0x616)](_0xdef564(0x2c1),'wTtOM')){const _0x49097d=new _0x4d2525[(_0xdef564(0x543))]({'port':0x0},()=>{const _0x34adcd=_0xdef564,_0x17d18a=new _0x507713(_0x34adcd(0x2c9)+_0x49097d['address']()[_0x34adcd(0x62b)]);_0x17d18a['on']('open',()=>_0x35a2fb(new _0x1b3ef3('Unexpected\x20\x27open\x27\x20event'))),_0x17d18a['on'](_0x34adcd(0x6af),_0x2cb478=>{const _0x1b2abd=_0x34adcd;_0x23ae28['ok'](_0x2cb478 instanceof _0x5984b0),_0x18ec40[_0x1b2abd(0x5ab)](_0x2cb478[_0x1b2abd(0x703)],_0x1b2abd(0x40b)),_0x17d18a['on'](_0x1b2abd(0x2ae),()=>_0x49097d['close'](_0x199385));}),_0x17d18a['on'](_0x34adcd(0x7fa),()=>_0x17d18a[_0x34adcd(0x744)]());});}else _0x1b8111[_0xdef564(0x486)](_0x4388f3[_0xdef564(0x564)]),_0x1b8111['send'](_0x4388f3[_0xdef564(0x7c2)],_0x14ba3b=>{const _0x3649ae=_0xdef564;_0x581623[_0x3649ae(0x602)](0x1),assert[_0x3649ae(0x5ab)](_0x1b8111[_0x3649ae(0x5bc)],WebSocket[_0x3649ae(0x634)]),assert['ok'](_0x1f844d[_0x3649ae(0x719)](_0x14ba3b,Error)),assert[_0x3649ae(0x5ab)](_0x14ba3b[_0x3649ae(0x703)],_0x3649ae(0x2ca));}),_0x1b8111[_0xdef564(0x486)](_0x4388f3[_0xdef564(0x766)]),_0x1b8111[_0xdef564(0x486)](_0x4388f3[_0xdef564(0x436)],_0x27c572=>{const _0x3703fa=_0xdef564;_0x581623[_0x3703fa(0x602)](0x2),assert[_0x3703fa(0x5ab)](_0x1b8111[_0x3703fa(0x5bc)],WebSocket[_0x3703fa(0x634)]),assert['ok'](_0x1f844d[_0x3703fa(0x719)](_0x27c572,Error)),assert[_0x3703fa(0x5ab)](_0x27c572[_0x3703fa(0x703)],_0x1f844d[_0x3703fa(0x420)]);}),_0x1b8111[_0xdef564(0x2ae)]();});});_0x367359['on'](_0xd25fbc(0x597),_0x3c2605=>{const _0x484b42=_0xd25fbc;_0x3c2605['on'](_0x484b42(0x2ae),()=>{const _0x3f06c6=_0x484b42;assert['deepStrictEqual'](_0x581623,[0x1,0x2]),_0x367359[_0x3f06c6(0x2ae)](_0x191d1e);}),_0x3c2605[_0x484b42(0x268)]['end']();});});}),_0x53a9dd[_0x37c51f(0x2aa)](describe,_0x53a9dd[_0x37c51f(0x797)],()=>{const _0x53183a=_0x37c51f,_0x4b68a1={'LLcED':_0x53183a(0x380),'yivNw':_0x53183a(0x2ae)};_0x4d936c[_0x53183a(0x4d4)](_0x53183a(0x230),_0x53183a(0x58c))?(it(_0x53183a(0x2b9),_0x123a5a=>{const _0x4a075f=_0x53183a,_0x562b9f=new WebSocket[(_0x4a075f(0x543))]({'perMessageDeflate':{'threshold':0x0},'port':0x0},()=>{const _0x832e24=_0x4a075f,_0x263b98={'xZPuh':function(_0x3cec4b,_0x49c2ce){return _0x3cec4b!==_0x49c2ce;},'AVFmo':_0x4b68a1[_0x832e24(0x1a4)],'jpOTv':_0x832e24(0x3ba),'VWXIP':_0x4b68a1[_0x832e24(0x489)]},_0x3e4c56=new WebSocket('ws://localhost:'+_0x562b9f[_0x832e24(0x774)]()[_0x832e24(0x62b)],{'perMessageDeflate':{'threshold':0x0}});_0x3e4c56['on'](_0x832e24(0x614),()=>{const _0xc2cb50=_0x832e24,_0x5758c7={'sUkmj':function(_0x5c648c,_0x3b69f2){const _0x27b1bf=_0x1abd;return _0x263b98[_0x27b1bf(0x43e)](_0x5c648c,_0x3b69f2);},'yaltp':_0x263b98[_0xc2cb50(0x25b)],'SHgWs':_0x263b98[_0xc2cb50(0x599)],'WZbtL':_0x263b98[_0xc2cb50(0x3f8)]};_0x3e4c56[_0xc2cb50(0x486)]('hi',_0x4c1e0d=>{const _0x54602e=_0xc2cb50;_0x5758c7['sUkmj'](_0x5758c7['yaltp'],_0x5758c7['SHgWs'])?(assert[_0x54602e(0x5ab)](_0x3e4c56[_0x54602e(0x5bc)],WebSocket[_0x54602e(0x634)]),assert['ok'](_0x4c1e0d instanceof Error),assert[_0x54602e(0x5ab)](_0x4c1e0d['message'],_0x54602e(0x2ca)),_0x3e4c56['on'](_0x5758c7['WZbtL'],()=>{_0x562b9f['close'](_0x123a5a);})):_0x197bdf['strictEqual'](_0x5cc82e['_receiver']['_state'],0x5);}),_0x3e4c56[_0xc2cb50(0x744)]();});});}),it(_0x4d936c[_0x53183a(0x288)],_0x264928=>{const _0x4365cf=_0x53183a,_0x1793b9={'mRZVE':function(_0x5055be,_0xc83c9d){const _0x26a58f=_0x1abd;return _0x4d936c[_0x26a58f(0x1ac)](_0x5055be,_0xc83c9d);},'TXzqT':_0x4365cf(0x3c3)};if(_0x4d936c[_0x4365cf(0x1d8)](_0x4d936c['OFjGU'],_0x4365cf(0x72c))){const _0x1c75b5=new WebSocket['Server']({'perMessageDeflate':!![],'port':0x0},()=>{const _0x57d882=_0x4365cf,_0x49141d=new WebSocket(_0x57d882(0x2c9)+_0x1c75b5[_0x57d882(0x774)]()[_0x57d882(0x62b)]),_0x5b37d0=[];_0x49141d['on'](_0x57d882(0x703),(_0x1d42d6,_0x4b2a5a)=>{const _0xbc16a7=_0x57d882;assert['ok'](!_0x4b2a5a);if(_0x5b37d0[_0xbc16a7(0x602)](_0x1d42d6['toString']())>0x1)return;_0x1793b9[_0xbc16a7(0x25a)](setImmediate,()=>{const _0x1e644c=_0xbc16a7;process[_0x1e644c(0x31d)](()=>{const _0x48d64b=_0x1e644c;assert['strictEqual'](_0x49141d[_0x48d64b(0x4ab)]['_state'],0x5),_0x49141d[_0x48d64b(0x744)]();});});}),_0x49141d['on']('close',(_0x3a347c,_0x104be4)=>{const _0x1cacca=_0x57d882;assert['deepStrictEqual'](_0x5b37d0,['','','','']),assert[_0x1cacca(0x5ab)](_0x3a347c,0x3ee),assert['strictEqual'](_0x104be4,EMPTY_BUFFER),_0x1c75b5[_0x1cacca(0x2ae)](_0x264928);});});_0x1c75b5['on'](_0x4d936c[_0x4365cf(0x52d)],_0xb9afa6=>{const _0x1d5309=_0x4365cf,_0x52a4eb=Buffer[_0x1d5309(0x6ec)]('c10100c10100c10100c10100',_0x1793b9[_0x1d5309(0x3c8)]);_0xb9afa6[_0x1d5309(0x268)][_0x1d5309(0x7d9)](_0x52a4eb);});}else _0x219611[_0x4365cf(0x731)](0x0),_0x1a01ab[_0x4365cf(0x2ae)]();})):_0x2b75c7['abort']();})):_0x4393a7['on'](_0x53a9dd[_0x37c51f(0x357)],_0x3aa426=>{const _0x12bd95=_0x37c51f;_0x39d830[_0x12bd95(0x25d)](_0x3aa426,_0x2227ba),_0x16de06['close']();});}),describe(_0x53a9dd[_0x3f0b7e(0x657)],()=>{const _0x5f1ea2=_0x3f0b7e,_0x15711b={'etpIq':function(_0x55dd94,_0x54588a){return _0x55dd94!==_0x54588a;},'nIoWq':_0x53a9dd[_0x5f1ea2(0x271)],'gWlWN':_0x53a9dd[_0x5f1ea2(0x5e7)],'BuLya':_0x53a9dd[_0x5f1ea2(0x6f7)],'NKeFP':_0x53a9dd['AyysE'],'SvwCJ':_0x53a9dd['kJmGH'],'PEgWz':_0x5f1ea2(0x278),'mtQlF':function(_0x1c4def,_0x488a9a){return _0x1c4def===_0x488a9a;},'ZMpOC':function(_0x454946,_0x2b0ff1){const _0x4f1495=_0x5f1ea2;return _0x53a9dd[_0x4f1495(0x238)](_0x454946,_0x2b0ff1);},'RRGMR':_0x5f1ea2(0x411),'WxuwY':_0x5f1ea2(0x33a),'dKEgN':function(_0x1e0081,_0x22ca9c){return _0x1e0081*_0x22ca9c;},'xRDVT':_0x53a9dd[_0x5f1ea2(0x764)],'rUmPS':function(_0x5d5631,_0x490f7d){return _0x5d5631*_0x490f7d;}};if('jFNBk'===_0x5f1ea2(0x371)){const _0x53a19c=_0x23537f[_0x5f1ea2(0x732)](_0x1ac0d8[_0x5f1ea2(0x536)],_0x53a9dd[_0x5f1ea2(0x7e2)]);_0x4aaaee[_0x5f1ea2(0x5ab)](_0x53a19c[_0x5f1ea2(0x307)],!![]),_0x267629['strictEqual'](_0x53a19c['enumerable'],!![]),_0x28a2f3['ok'](_0x53a9dd['eXuEe'](_0x53a19c[_0x5f1ea2(0x2d2)],_0xa0fa0d)),_0x9174d7['ok'](_0x53a19c[_0x5f1ea2(0x526)]===_0x9f5664);}else it(_0x53a9dd['ErXGF'],_0x172e11=>{const _0x451ec6=_0x5f1ea2,_0x2de98b={'IUDDI':_0x451ec6(0x6b1),'UCyHd':function(_0x5d15b5,_0x54dc42){const _0x530e09=_0x451ec6;return _0x53a9dd[_0x530e09(0x1fe)](_0x5d15b5,_0x54dc42);}};let _0x1795f9=![],_0x51ce7a=![];const _0x5d25af=new WebSocket[(_0x451ec6(0x543))]({'port':0x0},()=>{const _0x191627=_0x451ec6,_0x38214f={'nOsBP':function(_0x53bb1d,_0x9fe57a){const _0x44682d=_0x1abd;return _0x15711b[_0x44682d(0x7a9)](_0x53bb1d,_0x9fe57a);},'QnlRR':_0x15711b[_0x191627(0x43b)],'JtCWM':_0x191627(0x20e),'oQkVF':_0x191627(0x411),'UPgGL':_0x191627(0x6b1),'fZTaw':_0x15711b[_0x191627(0x7d3)],'nmbWt':_0x15711b[_0x191627(0x5aa)],'egDkM':_0x191627(0x42a)},_0x27e150=new WebSocket(_0x191627(0x2c9)+_0x5d25af['address']()[_0x191627(0x62b)]);_0x27e150['on'](_0x15711b[_0x191627(0x5fa)],_0x185a69=>{const _0x4dd591=_0x191627,_0x4c57bd={'uxpMh':_0x38214f[_0x4dd591(0x38e)]};assert['ok'](_0x185a69 instanceof RangeError),assert[_0x4dd591(0x5ab)](_0x185a69[_0x4dd591(0x6a1)],_0x38214f[_0x4dd591(0x341)]),assert[_0x4dd591(0x5ab)](_0x185a69['message'],_0x38214f['UPgGL']),_0x27e150['on'](_0x4dd591(0x2ae),(_0x473504,_0x1b3ac1)=>{const _0x320e44=_0x4dd591;if(_0x38214f[_0x320e44(0x6c0)](_0x38214f[_0x320e44(0x625)],'NTqpC')){assert['strictEqual'](_0x473504,0x3ee),assert[_0x320e44(0x5ab)](_0x1b3ac1,EMPTY_BUFFER),_0x1795f9=!![];if(_0x51ce7a)_0x5d25af[_0x320e44(0x2ae)](_0x172e11);}else{const _0x3998f8=[];_0x33b094[_0x320e44(0x268)][_0x320e44(0x71d)](_0x4c57bd[_0x320e44(0x2d8)],_0xcd55cc=>{_0x3998f8['push'](_0xcd55cc);}),_0x15b08b['on'](_0x320e44(0x703),_0x51107f=>{const _0x259026=_0x320e44;_0xc12e6f['deepStrictEqual'](_0x51107f,_0x19c921),_0x57db56[_0x259026(0x25d)](_0x388cec[_0x259026(0x682)](_0x3998f8)['slice'](0x2,0x6),_0x44f2a4[_0x259026(0x347)](0x4)),_0x28443a[_0x259026(0x2ae)]();});}});}),_0x27e150['on'](_0x15711b[_0x191627(0x456)],()=>{const _0x4b92b4=_0x191627;if(_0x38214f[_0x4b92b4(0x6e5)]!==_0x4b92b4(0x618)){const _0x234275=Buffer[_0x4b92b4(0x6ec)]([0x85,0x0]);_0x5d25af[_0x4b92b4(0x55b)][_0x4b92b4(0x816)]()[_0x4b92b4(0x60e)]()[_0x4b92b4(0x4fa)][_0x4b92b4(0x268)]['write'](_0x234275),_0x27e150[_0x4b92b4(0x268)][_0x4b92b4(0x7d9)](_0x234275);}else{const _0x3cfd9f={'XMaXl':_0x38214f[_0x4b92b4(0x589)]},_0x50a725=new _0x556bd1[(_0x4b92b4(0x402))]();_0x50a725[_0x4b92b4(0x5c3)]=_0x2135ac=>{const _0x3413ab=_0x4b92b4;_0x19cf7d[_0x3413ab(0x5ab)](_0x2135ac['getHeader'](_0x3cfd9f[_0x3413ab(0x661)]),_0x3413ab(0x399)),_0x1b8f5a();};const _0x3d6596=new _0x3b7678('ws://localhost',{'origin':_0x38214f[_0x4b92b4(0x375)],'agent':_0x50a725});}});});_0x5d25af['on'](_0x53a9dd[_0x451ec6(0x764)],_0x192996=>{const _0x5abe72=_0x451ec6,_0x416954={'GERPw':function(_0x44369b,_0x2ecd5a){return _0x44369b instanceof _0x2ecd5a;},'SKdWf':_0x2de98b['IUDDI']};_0x2de98b[_0x5abe72(0x2cf)](_0x5abe72(0x773),_0x5abe72(0x773))?_0x192996['on'](_0x5abe72(0x6af),_0x26608a=>{const _0x57d36f=_0x5abe72;assert['ok'](_0x416954['GERPw'](_0x26608a,RangeError)),assert['strictEqual'](_0x26608a[_0x57d36f(0x6a1)],'WS_ERR_INVALID_OPCODE'),assert[_0x57d36f(0x5ab)](_0x26608a[_0x57d36f(0x703)],_0x416954[_0x57d36f(0x253)]),_0x192996['on'](_0x57d36f(0x2ae),(_0x5e7813,_0x4f1fcd)=>{const _0x481316=_0x57d36f;assert[_0x481316(0x5ab)](_0x5e7813,0x3ee),assert['strictEqual'](_0x4f1fcd,EMPTY_BUFFER),_0x51ce7a=!![];if(_0x1795f9)_0x5d25af[_0x481316(0x2ae)](_0x172e11);});}):(_0x4a13db[_0x5abe72(0x268)][_0x5abe72(0x602)]=_0x564e65,_0x2a2157[_0x5abe72(0x268)][_0x5abe72(0x602)](_0xa580e4),_0x276c6b['terminate']());});}),it('closes\x20cleanly\x20after\x20simultaneous\x20errors\x20(2/2)',_0x31aee8=>{const _0x2e071c=_0x5f1ea2,_0x14de8c={'LLGxe':function(_0x5093ee,_0x5d3203){const _0x201b68=_0x1abd;return _0x15711b[_0x201b68(0x3e7)](_0x5093ee,_0x5d3203);},'Xlvyf':_0x2e071c(0x6b1),'YNQIQ':function(_0x4e19d3,_0x29a5ae){return _0x15711b['ZMpOC'](_0x4e19d3,_0x29a5ae);},'MJMvs':_0x15711b[_0x2e071c(0x7a1)]};let _0x21a899=![],_0x1b773b=![];const _0x4480d7=new WebSocket[(_0x2e071c(0x543))]({'port':0x0},()=>{const _0x3e0773=_0x2e071c;if(_0x15711b[_0x3e0773(0x7a9)](_0x15711b[_0x3e0773(0x38d)],'dnlPI')){const _0x51c44a=_0x9670c1[_0x3e0773(0x732)](_0x398ba4[_0x3e0773(0x536)],_0x3e0773(0x7b9));_0x34910f[_0x3e0773(0x5ab)](_0x51c44a[_0x3e0773(0x307)],!![]),_0x294ac2[_0x3e0773(0x5ab)](_0x51c44a[_0x3e0773(0x5ef)],!![]),_0x44c980['ok'](_0x51c44a['get']!==_0x7fe56e),_0x1754c9['ok'](_0x14de8c[_0x3e0773(0x2bb)](_0x51c44a[_0x3e0773(0x526)],_0x25b817));}else{const _0x31c499=new WebSocket(_0x3e0773(0x2c9)+_0x4480d7[_0x3e0773(0x774)]()[_0x3e0773(0x62b)]);_0x31c499['on'](_0x15711b[_0x3e0773(0x5fa)],_0x131ec0=>{const _0x96c31=_0x3e0773;assert['ok'](_0x131ec0 instanceof RangeError),assert[_0x96c31(0x5ab)](_0x131ec0[_0x96c31(0x6a1)],_0x96c31(0x411)),assert[_0x96c31(0x5ab)](_0x131ec0[_0x96c31(0x703)],_0x14de8c[_0x96c31(0x4e1)]),_0x31c499['on']('close',(_0x246f5b,_0x30706f)=>{const _0x495c81=_0x96c31;assert[_0x495c81(0x5ab)](_0x246f5b,0x3ee),assert[_0x495c81(0x5ab)](_0x30706f,EMPTY_BUFFER),_0x21a899=!![];if(_0x1b773b)_0x4480d7[_0x495c81(0x2ae)](_0x31aee8);});}),_0x31c499['on'](_0x3e0773(0x614),()=>{const _0x5ec010=_0x3e0773,_0x90313c=Buffer[_0x5ec010(0x6ec)]([0x85,0x0]),_0x39304b=_0x4480d7[_0x5ec010(0x55b)]['values']()[_0x5ec010(0x60e)]()[_0x5ec010(0x4fa)];_0x39304b[_0x5ec010(0x268)][_0x5ec010(0x7d9)](_0x90313c),_0x39304b[_0x5ec010(0x2ae)](),_0x31c499[_0x5ec010(0x268)]['write'](_0x90313c),_0x31c499['close']();});}});_0x4480d7['on'](_0x2e071c(0x597),_0x273786=>{const _0x3fc283=_0x2e071c;_0x273786['on'](_0x3fc283(0x6af),_0x4a5438=>{const _0x66aac7=_0x3fc283;assert['ok'](_0x14de8c[_0x66aac7(0x59b)](_0x4a5438,RangeError)),assert[_0x66aac7(0x5ab)](_0x4a5438['code'],_0x14de8c[_0x66aac7(0x6de)]),assert[_0x66aac7(0x5ab)](_0x4a5438[_0x66aac7(0x703)],_0x14de8c['Xlvyf']),_0x273786['on'](_0x66aac7(0x2ae),(_0x273dce,_0x17e0c9)=>{const _0x7e70d6=_0x66aac7;assert[_0x7e70d6(0x5ab)](_0x273dce,0x3ee),assert['strictEqual'](_0x17e0c9,EMPTY_BUFFER),_0x1b773b=!![];if(_0x21a899)_0x4480d7[_0x7e70d6(0x2ae)](_0x31aee8);});});});}),_0x53a9dd['eXtur'](it,_0x53a9dd[_0x5f1ea2(0x748)],_0x1292d8=>{const _0x1f3960=_0x5f1ea2,_0x4e1cfa={'YyJTW':function(_0x553d32,_0x4453f8){const _0x44cc6b=_0x1abd;return _0x15711b[_0x44cc6b(0x74e)](_0x553d32,_0x4453f8);},'kkOmP':_0x15711b[_0x1f3960(0x711)],'fIhvE':_0x1f3960(0x6af)},_0x22b612=_0x15711b[_0x1f3960(0x1c6)](0x10,0x400),_0x4a4842=new WebSocket[(_0x1f3960(0x543))]({'maxPayload':_0x22b612,'port':0x0},()=>{const _0x5c12c3=_0x1f3960,_0x4305e0=new WebSocket(_0x5c12c3(0x2c9)+_0x4a4842[_0x5c12c3(0x774)]()[_0x5c12c3(0x62b)]);});_0x4a4842['on'](_0x15711b[_0x1f3960(0x570)],_0x242f8e=>{const _0x28af56=_0x1f3960,_0x1489f6=[...Sender[_0x28af56(0x40e)](Buffer[_0x28af56(0x347)](_0x22b612+0x1),{'fin':!![],'opcode':0x2,'mask':!![],'readOnly':![]})];_0x242f8e['on'](_0x4e1cfa['fIhvE'],_0x1ba5da=>{const _0x42f7bc=_0x28af56;assert['ok'](_0x4e1cfa[_0x42f7bc(0x297)](_0x1ba5da,RangeError)),assert[_0x42f7bc(0x5ab)](_0x1ba5da[_0x42f7bc(0x6a1)],_0x4e1cfa['kkOmP']),assert[_0x42f7bc(0x5ab)](_0x1ba5da[_0x42f7bc(0x703)],_0x42f7bc(0x2fd)),_0x242f8e['on'](_0x42f7bc(0x2ae),(_0x278fd8,_0x455948)=>{const _0x7c84bc=_0x42f7bc;assert[_0x7c84bc(0x5ab)](_0x278fd8,0x3ee),assert['strictEqual'](_0x455948,EMPTY_BUFFER),_0x4a4842[_0x7c84bc(0x2ae)](_0x1292d8);});}),_0x242f8e['_socket'][_0x28af56(0x602)](Buffer[_0x28af56(0x682)](_0x1489f6));});}),it(_0x5f1ea2(0x35e),_0x44401d=>{const _0x2c32fb=_0x5f1ea2,_0x2c2a10={'mHKjv':function(_0x1e68c9,_0x3fd16c){return _0x15711b['rUmPS'](_0x1e68c9,_0x3fd16c);},'Iowne':_0x2c32fb(0x2ae)},_0x1e0cb3=new WebSocket[(_0x2c32fb(0x543))]({'port':0x0},()=>{const _0x1e9832=_0x2c32fb,_0x4aeeb9=new WebSocket(_0x1e9832(0x2c9)+_0x1e0cb3[_0x1e9832(0x774)]()[_0x1e9832(0x62b)]);});_0x1e0cb3['on'](_0x2c32fb(0x597),_0x41f9b8=>{const _0x2ef173=_0x2c32fb,_0x5c0123={'fin':!![],'mask':!![],'readOnly':![]},_0x14c40b=[...Sender[_0x2ef173(0x40e)](Buffer['alloc'](_0x2c2a10[_0x2ef173(0x55f)](0x10,0x400)),{'opcode':0x2,..._0x5c0123}),...Sender['frame'](EMPTY_BUFFER,{'opcode':0x8,..._0x5c0123})];_0x41f9b8['on'](_0x2c2a10[_0x2ef173(0x4a3)],(_0x2d608a,_0x3fe8dc)=>{const _0x4310b2=_0x2ef173;assert[_0x4310b2(0x5ab)](_0x2d608a,0x3ed),assert['strictEqual'](_0x3fe8dc,EMPTY_BUFFER),_0x1e0cb3[_0x4310b2(0x2ae)](_0x44401d);}),_0x41f9b8[_0x2ef173(0x268)][_0x2ef173(0x602)](Buffer[_0x2ef173(0x682)](_0x14c40b));});});});});function _0x1d44(){const _0x168a6b=['In\x20a\x20listener\x20of\x20the\x20\x27redirect\x27\x20event','fNRaT','foo=bar','UonbK','HKvWM','wwddA','LreKF','honors\x20the\x20`origin`\x20option\x20(2/2)','fIjMF','VDPdB','wOkfs','Ljtwe','pllNq','IQIyW','pqHFq','wdKRf','can\x20be\x20called\x20from\x20a\x20listener\x20of\x20the\x20\x27redirect\x27\x20event','HveiH','ping','tmpdir','_writableState','ThvzZ','0|9|5|3|8|4|1|7|6|2','XePok','base64','WJfMw','FKpMD','ftLvD','wFbzr','address','bad-scheme://websocket-echo.com','eFWzL','qmWKr','NhbfY','fails\x20if\x20the\x20Sec-WebSocket-Extensions\x20header\x20is\x20invalid\x20(1/2)','doNAL','_extensions','wBrTS','HPE_INVALID_CONSTANT','bvUjt','kdLMX','wClhl','mtvwB','ejeiC','adds\x20custom\x20headers','qux','permessage-deflate;\x20client_max_window_bits=7\x0d\x0a','ws+unix:','cEaQy','works\x20when\x20close\x20reason\x20is\x20specified','TGLaT','LtXKX','vFGfE','riRNX','3|5|1|0|4|2','ZHWLq','KzVkT','lzgmC','oIjNN','ZqHAK','Sgirk','MMegX','ltuln','BLLhK','kvfGX','http://localhost','WThHp','vnVRD','HTTP/1.1\x20302\x20Found\x0d\x0aLocation:\x20/\x0d\x0a\x0d\x0a','QqWFE','kBBfB','aSnrl','kXkWO','vZgBu','RRGMR','NTlEi','allows\x20close\x20code\x201014','EGHoJ','btmrN','OxBra','eZqkD','SazhU','etpIq','allows\x20to\x20disable\x20sending\x20the\x20SNI\x20extension','KyKDi','nEiui','TQLlV','pLSfe','yUwCT','SSL','GePQi','cBUUk','FnKGP','ASxAc','aDOYV','YqUjE','allows\x20close\x20code\x201013','HTTP/1.1\x20502\x20','bufferedAmount','wFWkF','Upgrade:\x20foo\x0d\x0a','RwYyP','wjKZX','JPstt','kseqT','https://localhost','jrVpZ','tcoCV','evvrz','#terminate','MWePs','RtQfE','OgscU','Smvbz','ws://baz:qux@localhost:','QVLDv','buevJ','TEmGJ','uEluj','BfhWQ','options','drops\x20the\x20`auth`\x20option','layvM','wGWHc','gWlWN','can\x20be\x20used\x20while\x20data\x20is\x20being\x20decompressed','KcOgs','uafzk','VMrWF','Server\x20sent\x20a\x20Sec-WebSocket-Extensions\x20header\x20but\x20no\x20extension\x20','write','ACLAM','BWstZ','uarIa','mxOPO','fails\x20if\x20the\x20Upgrade\x20header\x20field\x20value\x20is\x20not\x20\x22websocket\x22','hRCtO','foo','ajPWj','OtYfR','If\x20there\x20is\x20no\x20\x27redirect\x27\x20event\x20listener','wVGNz','AMOdv','TiGPJ','RjENf','Upgrade:\x20websocket\x0d\x0a','RiFEp','resumes\x20the\x20socket','pFLMo','RSoLx','XaRSB','hYLor','23662476ptbyQg','DtDgq','JjjBR','hDAfz','NKxqF','aENpz','fvRUW','YguaU','rSSFm','BkVKK','gDPle','upgrade','://localhost/','UQaoV','NplHe','UmgSw','listenerCount','kTPyl','xTWGL','tyTvl','fbChS','OtOjB','nifCb','xUuCG','1|0|4|6|2|3|5','ARHoj','XUtwz','doesn\x27t\x20remove\x20listeners\x20added\x20with\x20`addEventListener`','type','TgwaD','WebSocket\x20is\x20not\x20open:\x20readyState\x203\x20(CLOSED)','ws://[::1]','TBuHM','cBhok','DDAVk','Mlqhl','bUKaK','UaWvX','jTENz','values','yGqFj','fzEUz','LLcED','onclose','usWQl','dQPul','FrEoX','alayw','lRMvG','split','Dxtlu','hDUNq','VggqT','forced','calls\x20the\x20callback\x20if\x20the\x20socket\x20is\x20closed\x20prematurely','HTTP/1.1\x20302\x20Found\x0d\x0aLocation:\x20ws+unix:','KfbMs','eFGkF','Server\x20sent\x20a\x20subprotocol\x20but\x20none\x20was\x20requested','pILkF','DelUh','nqieA','rkOHZ','pttvW','Server\x20sent\x20no\x20subprotocol','ktKYa','QfoDA','Jexjt','vVcNa','AxGGi','COKwF','IlsgU','LFyuS','MxAQw','KsXwd','ofODB','dKEgN','pHjeN','eyMlm','pkzpj','gOBvZ','does\x20not\x20override\x20the\x20`fin`\x20option','can\x20be\x20disabled','TfMvk','Eixey','xBBBi','fgMFt','Ypgbi','rTspp','QJthE','uoaSD','wFsXg','emit','ssaWf','rvbSy','PJUPy','wOvwS','JKGee','CNHrQ','ZLckh','hLObA','UuWfE','QOpIp','aXZaE','cTPiO','HVSpq','pkilM','BKujB','sGxEb','FozEu','allows\x20the\x20https\x20scheme','Nlucn','1221080jwRnbk','versions','honors\x20the\x20`createConnection`\x20option','KaCKs','fXScP','DTQJy','lqZUl','qpBMV','MbdEp','yTPki','twZzj','ZcMyG','headers','GhMfA','_idleTimeout','HKHHI','oLSww','CUDPk','tqeMY','accepts\x20`url.URL`\x20objects\x20as\x20url','PpXga','gYfzj','awNWQ','SRqBx','TJJne','puYho','agHal','YslBr','extensions','VkDku','xfLak','test/fixtures/ca-certificate.pem','gtslb','evFUD','mURiJ','kHqKB','data','ftDhC','Unexpected\x20\x27open\x27\x20event','xLPmm','RNsin','QPWxH','aaPxN','GvgIo','rdApv','LKGLG','pmtFq','randomBytes','1|0|2|3|4','xctGD','doeXD','KWqtv','wbLqV','_state','sbjPs','Host','MooNk','MBVIM','gdBmm','zolQv','NchFy','WkRjI','UYmra','GBpXa','vsXdC','nuZKS','bdVnM','131614STpTtx','sets\x20a\x20timer\x20for\x20the\x20closing\x20handshake\x20to\x20complete','Mlkna','gwJqw','fails\x20if\x20the\x20Sec-WebSocket-Accept\x20header\x20is\x20invalid','VPzHx','DJPRN','TdHbO','foobar','QbzlU','increases\x20`bufferedAmount`\x20if\x20`readyState`\x20is\x202\x20or\x203','XLAlu','doesn\x27t\x20add\x20the\x20origin\x20header\x20by\x20default','GEnfI','QbLDH','jdHex','amvat','FfBTM','xaAIN','https','NOFJA','\x0d\x0a\x0d\x0a','bCfEL','XvTru','JrXXg','ws://localhost:80','user:pass','xqjDF','yfcwQ','jRMzl','MlaPE','LowkQ','YhiqN','aeVVg','Ntjlf','SkwMb','lxbhF','isPaused','SKdWf','NlUuL','EiqJN','createServer','6467880kVgvSJ','Invalid\x20Sec-WebSocket-Accept\x20header','XQOks','mRZVE','AVFmo','AupXS','deepStrictEqual','clppx','aNfaa','Invalid\x20WebSocket\x20frame:\x20MASK\x20must\x20be\x20set','oEExv','connects\x20to\x20secure\x20websocket\x20server','wss://127.0.0.1:','Sec-WebSocket-Extensions:\x20foo\x0d\x0a','foo\x0d\x0a','PZxip','wMsKT','_socket','VCrmY','wMNhC','FTKkf','xOkEN','wrgoY','jBzPB','dAdVh','zgPtI','vucpo','GMjWJ','oIIFD','kOELZ','gdYXS','STATUS_CODES','/foo\x0d\x0a\x0d\x0a','dnlPI','opJvu','ocjsz','gvzyA','qjGmv','defaults\x20to\x20zero\x20upon\x20\x22open\x22','UBhhE','clpUx','NPrvm','RfJup','xTmqb','rSNmw','CLudq','sNgII','IBhoc','IseJa','FfmEr','jHnxd','YcbYk','DVzjV','IlopO','Snmsp','SMMBf','isBuffer','ilsQN','HfQiA','nUaUe','qKSGD','NAoLT','buffer','WUFvm','YyJTW','fExVs','GSLoC','VFymU','RmEKf','tCuBz','mfntb','facpK','BZmuH','sTdLB','Sec-WebSocket-Extensions:\x20foo;=\x0d\x0a','rdXhV','is\x20enumerable\x20property\x20of\x20class','socket','ayxFC','CoJMx','MuzYo','lIaTw','yJNmL','XBYHW','3050075HtNwCA','localhost:8443','fvTET','close','sTKhx','eCKIt','kufHT','onqTp','KIQaX','QglLT','google.com:22','jdSTQ','QZzCe','tdOQI','can\x20be\x20used\x20while\x20data\x20is\x20being\x20compressed','can\x20send\x20extension\x20parameters','LLGxe','Unexpected\x20server\x20response:\x20401','Sec-WebSocket-Accept:\x20','okdSi','ZQoIe','fUeib','rPecQ','usmcX','net','/foo','sec-websocket-protocol','`bufferedAmount`','unshift','WmOsj','ws://localhost:','The\x20socket\x20was\x20closed\x20while\x20data\x20was\x20being\x20compressed','EIxzt','can\x20send\x20a\x20ping\x20with\x20data','xvZdE','\x22http:\x22,\x20\x22https\x22,\x20or\x20\x22ws+unix:\x22','UCyHd','Wwygf','uses\x20the\x20first\x20url\x20userinfo\x20when\x20following\x20redirects','get','sends\x20the\x20close\x20status\x20code\x20only\x20when\x20necessary','closes\x20cleanly\x20after\x20simultaneous\x20errors\x20(1/2)','mlqqA','TLSv1.2','IncomingMessage','uxpMh','fails\x20if\x20server\x20sends\x20an\x20invalid\x20subprotocol\x20(2/2)','zrAQe','TlbkL','hurcl','zlGoa','WYhFO','read','WWkSP','GjPYY','call','JOxUC','Yszoa','cBEWk','vClxT','tRPmb','HTTP/1.1\x20302\x20Found\x0d\x0aLocation:\x20ws://localhost:','allows\x20to\x20abort\x20the\x20request\x20without\x20swallowing\x20errors','fOnOU','ZmvZq','nFKVj','sqlmP','calls\x20the\x20callback\x20when\x20data\x20is\x20written\x20out','Connection:\x20keep-alive\x0d\x0a','msGvI','wss://127.0.0.1','snPkP','Tojwh','zcOGC','CLwKo','slice','GiViY','smwcg','LFCQn','ocKxO','WUDKA','does\x20not\x20follow\x20redirects\x20by\x20default','Max\x20payload\x20size\x20exceeded','jrkxv','HffKh','UFyGl','HvXSs','authorization','farwE','wfqWS','tfpIL','VqfIl','configurable','kNxSF','cpiAZ','mYhAE','permessage-deflate;\x20server_no_context_takeover;','odyZp','ziJiB','XHfcj','Invalid\x20URL:\x20ws://','NIbqg','PqKuU','fzyKf','dbOdh','Cytpq','pXTNX','`url`','koeIm','ESpCu','yFGGK','does\x20nothing\x20if\x20`readyState`\x20is\x20`CLOSED`','assert','ToZzy','nextTick','opkkG','WzTpb','GhIYx','Wijef','hWgRA','wasClean','#send','fails\x20if\x20the\x20opening\x20handshake\x20timeout\x20expires','qTcrs','gnnwr','zpoKz','GsMwc','allows\x20to\x20remove\x20headers','MgGpi','unexpected\x20response\x20can\x20be\x20read\x20when\x20sent\x20by\x20server','QxswL','HTTP/1.1\x20401\x20','vTxgB','LBSlw','calls\x20the\x20callback\x20w/\x20an\x20error\x20if\x20`readyState`\x20is\x202\x20or\x203','LdFcS','fMbpG','IYVXA','XWmsj','JcIgH','ilHGW','jykaK','LuAPu','WS_ERR_UNSUPPORTED_MESSAGE_LENGTH','fragmentfragment','yGJeh','KUXjk','OPEN','nwNDp','cdeAx','oQkVF','xDCXY','AIAJx','cJRVN','honors\x20the\x20`followRedirects`\x20option','TwNUH','alloc','8102','JePHj','qDuDN','ifError','PjNiX','mWtFL','rjpZm','VXdRl','OGxrg','CiQwu','onopen','ZAAhz','uGKeS','notStrictEqual','vYbea','ZwyOR','Fmofd','../lib/sender','haXGQ','NyJGT','pEHLb','umyaj','resumes\x20the\x20socket\x20when\x20the\x20close\x20frame\x20is\x20received','XvQxx','tWLiu','throws\x20an\x20error\x20if\x20a\x20subprotocol\x20is\x20invalid\x20or\x20duplicated','tKjET','YWPuC','sec-websocket-key','DSOfq','mNDFG','bKonD','FPJHz','EphHh','Attributes','swaab','jNAYD','RNxta','join','gLjHg','sYCiS','nMaxG','xQXjn','bRSbj','ignores\x20`binaryType`\x20for\x20text\x20messages','nmbWt','BPsbs','binaryType','EyNoK','cujuS','WqcQK','XDQrl','NRNXl','UUNbz','Nnjtj','diWPB','PTeVp','pKojy','emits\x20a\x20\x27redirect\x27\x20event','Daqun','DaobH','ygAQb','HTTP/1.1\x20302\x20Found\x0d\x0aLocation:\x20/foo\x0d\x0a\x0d\x0a','iNrrQ','some\x20reason','LJRsG','gubkD','GZTQc','CtGKK','PEgWz','JtCWM','VULaS','NRsvt','vKqGN','bcuDr','vnjzz','rvTAl','azVIk','consumes\x20all\x20received\x20data\x20when\x20connection\x20is\x20closed\x20(2/2)','Bkwcw','honors\x20the\x20`autoPong`\x20option','https://example.com:8000','qVLer','nlHzd','3|1|4|0|2|6|5','bgvfB','vxmVR','OksLB','MEhON','GLiaK','JjTpd','aIzWN','drops\x20the\x20Authorization,\x20Cookie\x20and\x20Host\x20headers\x20(1/4)','gZHUh','CONNECTING','qIveC','xoGum','veLPS','mHScY','FNPcI','gVrkV','::1','dlTgG','gZgIR','yoFTr','QJfnp','nqoUX','pauses\x20the\x20socket','rBCUL','DYEpq','BtzOQ','VQpqQ','rtFCV','FjUGY','whedQ','EHlYf','QOHXN','CWnAC','exposes\x20the\x20negotiated\x20extensions\x20names\x20(1/2)','MBGge','Eummx','DOuZo','HqxyN','hex','Lmiws','rfHRk','cotlN','KHLio','TXzqT','IjYbp','update','hUlpF','anruR','BlgwM','CLOSED','is\x20enumerable\x20and\x20configurable','can\x20send\x20text\x20data','Kwfjp','FQsyW','aBBxi','MvLTU','When\x20moving\x20away\x20from\x20a\x20secure\x20context','sends\x20numbers\x20as\x20strings','twhrJ','gmhXw','test/fixtures/client-key.pem','FBkEa','FVINc','eLnIh','ISiPP','QIUsC','qGNYn','lEAAg','DQCYf','ws-','cookie','JKonb','GLPNg','ZZKAR','mtQlF','Location:\x20ws+unix:','HTTP/1.1\x20302\x20Found\x0d\x0aLocation:\x20ws://\x0d\x0a\x0d\x0a','PMeTR','statusCode','modules','ateoy','hQSjq','uMauv','jrVBO','ZZNGk','laAQP','owFMe','UGZjD','conclude','qHVTz','closes\x20the\x20connection\x20if\x20called\x20while\x20connecting\x20(1/2)','VWXIP','pgSWv','YYOpt','CBDIn','qkDZg','ClientRequest','timeout','ykTGw','Connection\x20close','pause','Agent','xPWCA','XLfOF','PARrS','kJmGH','IjYTG','SxPsE','baz','Basic\x20Zm9vOmJhcg==','WebSocket\x20was\x20closed\x20before\x20the\x20connection\x20was\x20established','ws://google.com:22/foo','emits\x20an\x20error\x20if\x20the\x20redirect\x20URL\x20is\x20invalid\x20(1/2)','frame','kLNva','odpXn','WS_ERR_INVALID_OPCODE','UHlhQ','uReHi','uJImF','vnbds','fails\x20if\x20an\x20unexpected\x20Sec-WebSocket-Extensions\x20header\x20is\x20received','QhbDU','ZCNYt','jNxeU','EHLJx','length','Cookie','axouj','eKNGP','aIsNm','HsuCC','VNVLQ','jAFDw','uaxSS','rHptn','supports\x20the\x20`on{close,error,message,open}`\x20attributes','Authorization','yxSMv','irMjt','handleUpgrade','GGrqX','wVRIV','Sec-WebSocket-Protocol:\x0d\x0a','rIZGs','MKKlM','emits\x20a\x20\x27ping\x27\x20event','govgb','gsoQw','hPgyT','GSdUS','lxLua','RiJOH','EGSnI','DtYVG','Yabzi','fOKaU','CCnmk','nIoWq','ZaIkb','jHwII','xZPuh','IqyVx','hAYjS','4|1|5|2|0|3','xiWLB','UyhiB','is\x20set\x20to\x20`OPEN`\x20once\x20connection\x20is\x20established','jclmL','sDfOR','byteOffset','HXfCm','url','BXUfh','AhHBh','EpIuv','wSdFL','EnxJy','DKjpy','KPYHp','qenwy','some\x20daft\x20reason','SbvKF','kpjjJ','IJODR','SvwCJ','HEfZA','gtqJi','GMjsj','can\x20send\x20an\x20`ArrayBuffer`','drops\x20the\x20Authorization,\x20Cookie\x20and\x20Host\x20headers\x20(4/4)','vcCzn','fragments','can\x20be\x20called\x20from\x20an\x20error\x20listener\x20while\x20connecting','CsnMb','ExbJS','vHtWY','Blzqz','close\x20event\x20is\x20raised\x20when\x20server\x20closes\x20connection','LYgxG','pyGNv','eXuEe','XXLkj','LgaKh','UJEFb','can\x20send\x20a\x20ping\x20with\x20no\x20data','YGivT','google.com','ws://foo:bar@localhost:','QFWmE','kFckO','rimeJ','UjLaQ','_closeTimer','yGodJ','Vkytq','GuBic','is\x20set\x20to\x20`CLOSED`\x20once\x20connection\x20is\x20terminated','VqQia','jjTii','cLlrs','DDpdV','VJNMB','fUOLK','yOvYX','xsFVd','RYKiY','JToUg','MLjEZ','sets\x20`target`\x20and\x20`type`\x20on\x20events','LmfFg','wss://localhost:','gxfJo','send','Bzmmn','fZcdl','yivNw','receives\x20a\x20`CloseEvent`\x20when\x20server\x20closes\x20(1000)','does\x20nothing\x20if\x20`readyState`\x20is\x20`CONNECTING`\x20or\x20`CLOSED`','KnqVD','TCABb','\x20client_no_context_takeover;\x20server_max_window_bits=10;','emits\x20a\x20\x27pong\x27\x20event','`extensions`','cqCyv','foo:bar','supports\x20the\x20`removeEventListener`\x20method','UGZZP','cmyHe','Maximum\x20redirects\x20exceeded','YymgY','YzeKd','QMvto','../lib/constants','drops\x20the\x20Authorization,\x20Cookie\x20and\x20Host\x20headers\x20(3/4)','can\x20send\x20a\x20pong\x20with\x20data','platform','sha1','AGpQA','supports\x20the\x20`addEventListener`\x20method','TKLuu','kEmcG','Iowne','win32','host','exposes\x20the\x20subprotocol\x20selected\x20by\x20the\x20server','jTxrm','IoFFH','nshYG','lFgEv','_receiver','OSBUu','jxAUn','nRrdi','wXoMA','mNPZP','yheoR','lPDJG','zrqCw','Server\x20indicated\x20an\x20extension\x20that\x20was\x20not\x20requested','zthPP','NYBJv','qwewG','qzVdv','rkXvi','beyrN','LMXwx','consumes\x20all\x20received\x20data\x20when\x20connection\x20is\x20closed\x20(1/2)','PHbOc','vrLyH','PeWQi','mBbbT','/\x0d\x0a\x0d\x0a','throws\x20an\x20error\x20if\x20`readyState`\x20is\x20`CONNECTING`','kkpRM','can\x20be\x20changed\x20to\x20\x27arraybuffer\x27\x20or\x20\x27fragments\x27','bFJlu','eBPWP','EskLu','fOtSv','RrPru','BokNA','closes\x20the\x20connection\x20if\x20called\x20while\x20connecting\x20(2/2)','pkywc','itCOn','rJujY','OBtJA','can\x20send\x20a\x20big\x20binary\x20message','tNMlt','ULuvx','XXBVV','LPsog','MrWKh','cOxxZ','tVCoe','qCRIE','_deflating','zDVAA','#ctor','qvWnL','Sunox','UZKsq','yXJHT','works\x20like\x20the\x20`EventEmitter`\x20interface','Xlvyf','HOkFA','digest','AJsLE','GiYrb','HPtfN','kXOhC','gaxYI','jgfhX','IhWGR','vKZPE','works\x20when\x20the\x20`data`\x20argument\x20is\x20falsy','does\x20not\x20drop\x20any\x20headers\x20by\x20default','oFGcP','gnkKB','NQZSc','sEKBy','lHeMK','Hlodv','jJlCS','redirect','request\x20can\x20be\x20aborted\x20when\x20unexpected\x20response\x20is\x20sent\x20by\x20server','ARHUs','KcJaN','cpIpI','value','PSssY','Connection\x20establishing','XNLpq','xndpg','wss://localhost:443','The\x20URL\x27s\x20protocol\x20must\x20be\x20one\x20of\x20\x22ws:\x22,\x20\x22wss:\x22,\x20','POTZo','YSKyr','sRJKL','SwwOb','HpDIz','favors\x20the\x20url\x20userinfo\x20over\x20the\x20`auth`\x20option','GIiwm','rNeIV','dZAai','NgMGg','Opening\x20handshake\x20has\x20timed\x20out','zBwzz','wWiqu','XncHI','wGvzX','nodBE','kVXsV','UfYLX','lwhQX','subarray','Sec-WebSocket-Extensions:\x20permessage-deflate,foo\x0d\x0a','yETkW','AXVor','KlRuy','eajoC','ckyVh','FOJea','AxKMA','tls','is\x20enumerable\x20property\x20of\x20prototype','glthz','IUknw','closes\x20the\x20connection\x20if\x20called\x20while\x20connecting\x20(1/3)','hzZsd','cZOZf','cAoAA','GprJM','set','rNQXE','BrJIU','localhost:88','HIwJD','mqqKR','ABEBL','bbkqN','protocol','a,b','AtgGa','Unexpected\x20server\x20response:\x20301','AyysE','2|3|1|0|4','ICxGh','PhmGe','prototype','IbLSQ','QddMH','eDBGK','YfZRX','LGUNp','nnniY','bezjj','defaults\x20to\x20zero','tOaLM','briKq','HFVKn','KlzDO','Server','ejzfg','JPmmp','wuKlo','GPTbS','WmnAd','CPISv','Rowry','AfWlJ','XZqAJ','fails\x20if\x20server\x20sends\x20a\x20subprotocol\x20when\x20none\x20was\x20requested','wss://localhost:8443','#close','qiqkK','ZgaBu','PFIZl','test/fixtures/certificate.pem','juwUn','laSvM','_maxPayload','jbsgQ','mlyEL','STzXO','ItFoK','clients','prrWZ','bHpHp','zhrzB','mHKjv','pPgjy','HaPAc','TlVaj','WRtpt','kAZUY','xDMgg','UXwDF','wss','RozZj','allows\x20the\x20http\x20scheme','QFoeo','HvrnS','readFileSync','EgVxY','vKCIY','eOEGy','xRDVT','TbMdD','bXDuf','ZOtdN','mNBPW','NevNg','pHdAu','DidyW','wraps\x20text\x20data\x20in\x20a\x20`MessageEvent`','tIqWU','hvUMB','Nlqev','Location:\x20ws://baz:qux@localhost:','2|0|3|5|4|1','uJiXb','saNTc','kcRxC','equals','_req','hbuLf','uAMwj','honors\x20the\x20`auth`\x20option','sec-websocket-extensions','EurLn','ws://localhost','fZTaw','dxpdD','bknlH','LxAcn','FmGMo','qxIkR','zYhcB','ghqGo','aaMpA','zAckl','QBPdF','#resume','YmVaP','ezdRA','connection','245857XoFaIT','jpOTv','nodebuffer','YNQIQ','Server\x20sent\x20an\x20invalid\x20subprotocol','hbGcN','AEIOq','JGgnd','toString','iSjdI','jljxm','TxEUs','permessage-deflate','#ping','yRGmz','WJIPr','AhRDL','origin','BuLya','strictEqual','is\x20called\x20automatically\x20when\x20a\x20ping\x20is\x20received','2495904mAyzvq','SEnis','XhtUU','eISQA','MImcs','bqbnC','scbbr','ftDpB','Invalid\x20Upgrade\x20header','MNpfk','gLXcm','can\x20send\x20a\x20`Buffer`','jLhei','NevGf','fails\x20if\x20the\x20Upgrade\x20header\x20is\x20missing','readyState','XSiXr','../lib/event-target','uzvir','SUJnr','Yvpqw','jUUau','addRequest','FVbNO','wdqGe','WoIgk','veaqH','StmiX','MzSFr','opukU','XmaiW','works\x20when\x20close\x20reason\x20is\x20not\x20specified','accepts\x20the\x20`options`\x20object\x20as\x203rd\x20argument','ubsmJ','JtqRg','MCihS','VUWOX','end','ZHbwt','WSPHl','PQoDY','EbrBf','Scwxp','oZIFG','emits\x20an\x20\x27upgrade\x27\x20event','Sec-WebSocket-Extensions:\x20','onmessage','SkIQS','kunRL','gzAtb','MIzaZ','GZxcP','localhost:','receives\x20a\x20`CloseEvent`\x20when\x20server\x20closes\x20(4000)','OguYw','TCfGT','TfgDd','OhEUN','KtJXW','honors\x20the\x20`finishRequest`\x20option','syInp','localhost','cnPzh','AlWZn','Seilm','UQuBN','enumerable','rLjJz','CUiWY','zosIy','once','Nmjsq','cRznw','jszsG','qAAjN','defaults\x20to\x20`CONNECTING`','kLAfQ','NKeFP','OXEqz','BgwcR','WSFAs','removeHeader','http','GfyBr','AUvdc','push','ws://','uZwTT','ummxp','cDsVO','uDsfH','eATdd','Unexpected\x20\x27error\x27\x20event','QRweu','servername','ivKui','lXfxy','next','HTTP/1.1\x20302\x20Found\x0d\x0a','ziXKd','gsdYw','PCklh','esMMX','open','DxXSE','Txkws','UnLRq','tvJPb','rYsdz','yJPtH','gWTaS','VXMWc','Ebhcw','rcmDv','connect','Jcxhu','vKmWC','BgkGF','handles\x20a\x20close\x20frame\x20received\x20while\x20compressing\x20data','eZCVC','QnlRR','Nstzh','takes\x20into\x20account\x20the\x20data\x20in\x20the\x20sender\x20queue','nxJzt','QRGUC','onerror','port','jAZZC','NFIFZ','authorized','indicates\x20whether\x20the\x20websocket\x20is\x20paused','Content-type:\x20text/html\x0d\x0a','excludes\x20default\x20ports\x20from\x20host\x20header','Location:\x20ws://localhost:','xkVoe','CLOSING','AJtrz','qcUKN','closes\x20the\x20connection\x20if\x20called\x20while\x20connecting\x20(3/3)','qTuGX','qtJsX','WebSocket\x20is\x20not\x20open:\x20readyState\x202\x20(CLOSING)','PrnWm','`protocol`','cpJgY','OLQJw','eaSGl','AjHps','OscoY','sMiVj','lIhPr','getHeader','GmCVY','uQjOU','CHXRJ','INecu','LpDiF','ZIiFB','GCfab','euBbP','bar','MBWci','OKyig','Kmmyd','TOVfe','IcfDR','ryRAN','gMfJv','unexpected-response','ZwiDh','kYyZX','jpSMM','LXDcR','IRRpP','mVCAH','vtnKB','socket\x20hang\x20up','ECONNRESET','FqmVh','yErfN','XMaXl','fails\x20if\x20an\x20unexpected\x20extension\x20is\x20received\x20(1/2)','was\x20requested','QKrLy','YAGGu','pywPv','jYqNh','TstrA','VMIDB','path','permits\x20all\x20buffered\x20data\x20to\x20be\x20delivered','ydTEM','listen','gpDle','BIJJG','YJxnS','FKwRQ','DGSTf','OTdZL','ivxxN','6|0|4|1|3|5|2','exposes\x20the\x20negotiated\x20extensions\x20names\x20(2/2)','EcbYM','kfDKT','#pause','listeners','dqDpE','ZiyyU','Basic\x20','dsbAc','throws\x20an\x20error\x20when\x20using\x20an\x20invalid\x20`protocolVersion`','pHfRs','krhZO','concat','lUTIb','BFTTM','rCUmy','mrjdz','iSUzu','RDkvR','MxhcG','throws\x20an\x20error\x20if\x20the\x20data\x20size\x20is\x20greater\x20than\x20125\x20bytes','BZZWr','can\x20send\x20a\x20`TypedArray`','CeyNF','arraybuffer','nQzAO','addEventListener','cannot\x20connect\x20to\x20secure\x20websocket\x20server\x20via\x20ws://','wCDQB','setHeader','uTZyk','SvUva','xFOaA','jFIJa','ueVvv','@localhost','fails\x20if\x20the\x20Sec-WebSocket-Extensions\x20header\x20is\x20invalid\x20(2/2)','resetAndDestroy','mOQOT','udvXJ','nIzPe','kVjmp','VtnTP','code','quCtP','QJJUU','QgUlM','Xcmho','removeEventListener','NxvVa','ZnDfW','zrDKg','zmhwg','2|4|0|3|1','gKqTI','VsrvR','LvJIm','error','Qggyd','Invalid\x20WebSocket\x20frame:\x20invalid\x20opcode\x205','eFFYh','XVWsX','\x5c\x5c.\x5cpipe\x5cws-pipe-','test/fixtures/key.pem','AQWhV','ABDqU','mfwMd','_redirects','cdVIQ','WtxUf','xnXsC','COBuF','XAhCj','wmGKk','nOsBP','Connection:\x20close\x0d\x0a','readable','HyKnT','Constants','xTaXu','Content-Length:\x20','4LHVcal','diwtl','ACLqG','hWCTN','KLGsB','CktdD','VXvnO','UhWHp','1|4|2|0|3','vqNQn','dDGuM','TEZSh','drops\x20the\x20Authorization,\x20Cookie\x20and\x20Host\x20headers\x20(2/4)','sHTdj','baz:qux','uoWsB','WTsys','Sec-WebSocket-Protocol:\x20foo','nMVwU','YpEPy','xMvct','If\x20there\x20is\x20at\x20least\x20one\x20\x27redirect\x27\x20event\x20listener','CtHhO','MJMvs','arzBi','dKvxy','reason','Upgrade','OpPsm','LMCxj','egDkM','rCvQc','WosRf','HRzSZ','Ltixv','ejUsk','heyOJ','from','skip','LZLIA','oPWeT','FhbbM','fails\x20if\x20an\x20unexpected\x20extension\x20is\x20received\x20(2/2)','c10100c10100c10100c10100','When\x20the\x20redirect\x20host\x20is\x20different','exposes\x20the\x20server\x20url','createHash','DcpVV','YjeHW','honors\x20the\x20`mask`\x20option','RBqbX','defaults\x20to\x20\x27nodebuffer\x27','aPpSx','RjfsL','RlFUI','dJhyy','uWVZO','cUjun','takes\x20into\x20account\x20the\x20data\x20in\x20the\x20socket\x20queue','EmBkr','message','RjGFk','Unexpected\x20\x27pong\x27\x20event','throws','opgtM','CSYqQ','eRBOA','voFvb','QyAWW','lFJGx','gYqXi','KTjor','.sock','HTTP/1.1\x20301\x20Moved\x20Permanently\x0d\x0a','WxuwY','Sec-WebSocket-Accept:\x20CxYS6+NgJSBG74mdgLvGscRvpns=\x0d\x0a','jTHHO','CVucf','Bhmmq','iohmd','Content-Length:\x203\x0d\x0a','3DybIkF','qOVrx','mqCLR','FqzDj','iqPjc','prependListener','ZbDRQ','target','zNfAk','FgNJe','resume','_readableState','kdSxa','IeYNU','cCMfg','zuXBr','usSgy','NxTeF','MzCCQ','passes\x20binary\x20data\x20as\x20a\x20Node.js\x20`Buffer`\x20by\x20default','bPIGk','plTkD','XWPiq','fyRpD','HTTP/1.1\x20101\x20Switching\x20Protocols\x0d\x0a','pong','getOwnPropertyDescriptor','Ubsti','abort','YxWTF','FYQDF','Connection:\x20Upgrade\x0d\x0a','PFmQt','PvouE','SucTW','DVZoD','removeListener','TZgdU','yPpaQ','fragment','EDpEx','accepts\x20the\x20`maxPayload`\x20option','wYPOm','ycFLh','terminate','buKyY','bWYve','KhcPW','krHpp','HZQis','qhJdu','zNpqX','GUkVU','OCUrY','ZMpOC','XVHSc','xBVLr','vuzaB','CjYWy','TwNHJ','HKjPW','wdEvq','aGqTE'];_0x1d44=function(){return _0x168a6b;};return _0x1d44();}