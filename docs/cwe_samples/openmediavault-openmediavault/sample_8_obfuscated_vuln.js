'use strict';const _0x5e3546=_0x4464;(function(_0x2a26e7,_0x105118){const _0x6e0290=_0x4464,_0x1351c7=_0x2a26e7();while(!![]){try{const _0x33d9d3=parseInt(_0x6e0290(0x162))/0x1+parseInt(_0x6e0290(0x17b))/0x2*(-parseInt(_0x6e0290(0x174))/0x3)+parseInt(_0x6e0290(0x184))/0x4*(parseInt(_0x6e0290(0x16a))/0x5)+-parseInt(_0x6e0290(0x170))/0x6+parseInt(_0x6e0290(0x146))/0x7*(parseInt(_0x6e0290(0x167))/0x8)+-parseInt(_0x6e0290(0x17e))/0x9+parseInt(_0x6e0290(0x15f))/0xa;if(_0x33d9d3===_0x105118)break;else _0x1351c7['push'](_0x1351c7['shift']());}catch(_0x68752b){_0x1351c7['push'](_0x1351c7['shift']());}}}(_0x45b4,0xbef28));function _0x4464(_0x467171,_0x553a05){const _0x45b4a6=_0x45b4();return _0x4464=function(_0x4464dd,_0x1dd9bc){_0x4464dd=_0x4464dd-0x146;let _0x3e52a7=_0x45b4a6[_0x4464dd];return _0x3e52a7;},_0x4464(_0x467171,_0x553a05);}process[_0x5e3546(0x151)][_0x5e3546(0x14f)]='0';const chai=require(_0x5e3546(0x158)),expect=chai['expect'],PassThrough=require('stream')[_0x5e3546(0x185)],EventEmitter=require(_0x5e3546(0x159))['EventEmitter'],sinon=require(_0x5e3546(0x154)),SendmailTransport=require('../../lib/sendmail-transport');chai[_0x5e3546(0x147)][_0x5e3546(0x180)]=!![];class MockBuilder{constructor(_0x11e317,_0x29bf25,_0xe326c5){const _0x5de618=_0x5e3546,_0x5d32f0={'LRgeS':_0x5de618(0x169)};this['envelope']=_0x11e317,this['rawMessage']=_0x29bf25,this['mid']=_0xe326c5||_0x5d32f0[_0x5de618(0x181)];}['getEnvelope'](){return this['envelope'];}[_0x5e3546(0x178)](){const _0x368165=_0x5e3546;return this[_0x368165(0x188)];}[_0x5e3546(0x14c)](){const _0x1ac3dc=_0x5e3546,_0x1548ad={'TQMAR':function(_0x187cf2,_0x181da7){return _0x187cf2(_0x181da7);}};let _0x4ba709=new PassThrough();return _0x1548ad[_0x1ac3dc(0x14a)](setImmediate,()=>_0x4ba709[_0x1ac3dc(0x172)](this[_0x1ac3dc(0x161)])),_0x4ba709;}[_0x5e3546(0x160)](){const _0x356a1e=_0x5e3546;return _0x356a1e(0x179);}}describe(_0x5e3546(0x157),function(){const _0x2fb49a=_0x5e3546,_0x577ca4={'ysUau':function(_0x7a2a7,_0x55d126){return _0x7a2a7(_0x55d126);},'xPuyU':'close','amREn':_0x2fb49a(0x16f),'sJqEc':function(_0x3f66d0,_0x71b8a6){return _0x3f66d0!==_0x71b8a6;},'LOZKY':_0x2fb49a(0x14d),'tEEyK':function(_0x18926b,_0x3c7e15){return _0x18926b(_0x3c7e15);},'CzEPw':function(_0x140415,_0xe5849f){return _0x140415(_0xe5849f);},'aBpPR':function(_0x6a1616){return _0x6a1616();},'fEbEo':_0x2fb49a(0x166),'qqNGu':_0x2fb49a(0x175),'CBCln':_0x2fb49a(0x153),'KrcPO':function(_0x1d7e3e,_0x2b0bc7){return _0x1d7e3e(_0x2b0bc7);},'pOQVC':function(_0x134056){return _0x134056();},'fOArL':function(_0x5316a8,_0x1b9102){return _0x5316a8===_0x1b9102;},'zyNyj':_0x2fb49a(0x177),'aDdtA':_0x2fb49a(0x150),'tzvaq':'Should\x20send\x20message','oaAOz':function(_0x4824a0,_0x3fa3e3,_0x562ea0){return _0x4824a0(_0x3fa3e3,_0x562ea0);}};it(_0x2fb49a(0x17f),function(){const _0x563a43=_0x2fb49a;let _0x1465a1=new SendmailTransport();_0x577ca4[_0x563a43(0x186)](expect,_0x1465a1[_0x563a43(0x148)])['to']['exist'],expect(_0x1465a1[_0x563a43(0x155)])['to'][_0x563a43(0x173)];}),it(_0x577ca4['tzvaq'],function(_0x537cc9){const _0x408bfe=_0x2fb49a,_0x155535={'mwPts':function(_0x1a1bc8,_0xec110f){const _0x5ab78f=_0x4464;return _0x577ca4[_0x5ab78f(0x14b)](_0x1a1bc8,_0xec110f);}};let _0x18c98a=new SendmailTransport(),_0x5ca232=new EventEmitter();_0x5ca232[_0x408bfe(0x16d)]=new PassThrough(),_0x5ca232['stdout']=new PassThrough();let _0x5607e7='';_0x5ca232[_0x408bfe(0x16d)]['on'](_0x408bfe(0x177),function(_0x44c6fb){_0x5607e7+=_0x44c6fb['toString']();}),_0x5ca232[_0x408bfe(0x16d)]['on'](_0x408bfe(0x172),function(){const _0x5c3eec=_0x408bfe;_0x5ca232['emit'](_0x577ca4['xPuyU'],0x0),_0x5ca232[_0x5c3eec(0x182)](_0x577ca4[_0x5c3eec(0x16c)],0x0);}),sinon[_0x408bfe(0x17a)](_0x18c98a,_0x577ca4[_0x408bfe(0x176)])[_0x408bfe(0x15a)](_0x5ca232),_0x18c98a[_0x408bfe(0x183)]({'data':{},'message':new MockBuilder({'from':_0x408bfe(0x150),'to':_0x577ca4[_0x408bfe(0x15d)]},_0x577ca4[_0x408bfe(0x14e)])},function(_0x3e0d6f,_0xc58d8){const _0x9407b8=_0x408bfe;_0x577ca4['sJqEc'](_0x577ca4[_0x9407b8(0x171)],_0x577ca4[_0x9407b8(0x171)])?(_0x155535[_0x9407b8(0x15c)](_0x5156dd,_0x18466e)['to'][_0x9407b8(0x173)],_0x15f0dc(_0x173a75)['to'][_0x9407b8(0x16e)]['exist'],_0x4c9150[_0x9407b8(0x166)][_0x9407b8(0x168)](),_0x3306e8()):(_0x577ca4['tEEyK'](expect,_0x3e0d6f)['to'][_0x9407b8(0x16e)][_0x9407b8(0x173)],_0x577ca4[_0x9407b8(0x15e)](expect,_0xc58d8[_0x9407b8(0x178)])['to'][_0x9407b8(0x17c)](_0x9407b8(0x169)),expect(_0x5607e7)['to'][_0x9407b8(0x17c)](_0x9407b8(0x156)),_0x18c98a[_0x9407b8(0x166)][_0x9407b8(0x168)](),_0x577ca4[_0x9407b8(0x16b)](_0x537cc9));});}),_0x577ca4[_0x2fb49a(0x187)](it,'Should\x20return\x20an\x20error',function(_0x23818b){const _0x330734=_0x2fb49a,_0x1bc230={'QWesw':function(_0x54ca99,_0x2e625e){const _0x403f7d=_0x4464;return _0x577ca4[_0x403f7d(0x165)](_0x54ca99,_0x2e625e);},'UBlJP':_0x577ca4[_0x330734(0x16c)]};let _0x2a0b4b=new SendmailTransport(),_0x387293=new EventEmitter();_0x387293[_0x330734(0x16d)]=new PassThrough(),_0x387293['stdout']=new PassThrough(),_0x387293['stdin']['on'](_0x577ca4[_0x330734(0x164)],()=>![]),_0x387293[_0x330734(0x16d)]['on'](_0x330734(0x172),function(){const _0x2354ed=_0x330734;_0x1bc230['QWesw']('dxMKd',_0x2354ed(0x163))?_0x3f4250+=_0x4936e6['toString']():(_0x387293[_0x2354ed(0x182)]('close',0x7f),_0x387293[_0x2354ed(0x182)](_0x1bc230[_0x2354ed(0x17d)],0x7f));}),sinon[_0x330734(0x17a)](_0x2a0b4b,_0x577ca4['fEbEo'])['returns'](_0x387293),_0x2a0b4b[_0x330734(0x183)]({'data':{},'message':new MockBuilder({'from':_0x577ca4[_0x330734(0x15b)],'to':_0x577ca4[_0x330734(0x15d)]},_0x330734(0x153))},function(_0x114a40,_0x49d86d){const _0x15880f=_0x330734;_0x577ca4[_0x15880f(0x149)](expect,_0x114a40)['to'][_0x15880f(0x173)],expect(_0x49d86d)['to']['not'][_0x15880f(0x173)],_0x2a0b4b['_spawn'][_0x15880f(0x168)](),_0x577ca4[_0x15880f(0x152)](_0x23818b);});});});function _0x45b4(){const _0x374cbc=['KrcPO','TQMAR','tEEyK','createReadStream','LGfgt','CBCln','NODE_TLS_REJECT_UNAUTHORIZED','test@valid.sender','env','pOQVC','message\x0d\x0aline\x202','sinon','version','message\x0aline\x202','Sendmail\x20Transport\x20Tests','chai','events','returns','aDdtA','mwPts','qqNGu','CzEPw','18146330vEekys','getHeader','rawMessage','770917lOrHnb','jhdzW','zyNyj','fOArL','_spawn','26072aMaLPr','restore','<test>','20HTZYsL','aBpPR','amREn','stdin','not','exit','7623810xwZFWc','LOZKY','end','exist','1730598wxzGLh','test@valid.recipient','fEbEo','data','messageId','teretere','stub','2cfKNRC','equal','UBlJP','13543848oSDiKl','Should\x20expose\x20version\x20number','includeStack','LRgeS','emit','send','815668frQlUJ','PassThrough','ysUau','oaAOz','mid','1575TXZZSr','config','name'];_0x45b4=function(){return _0x374cbc;};return _0x45b4();}