'use strict';const _0x2985b9=_0x47d0;(function(_0x901a5c,_0x53e0c2){const _0x1809a0=_0x47d0,_0x4369cd=_0x901a5c();while(!![]){try{const _0x517a16=parseInt(_0x1809a0(0x263))/0x1+-parseInt(_0x1809a0(0x40c))/0x2+parseInt(_0x1809a0(0x39d))/0x3*(-parseInt(_0x1809a0(0x328))/0x4)+-parseInt(_0x1809a0(0x3da))/0x5+-parseInt(_0x1809a0(0x370))/0x6*(-parseInt(_0x1809a0(0x229))/0x7)+parseInt(_0x1809a0(0x2db))/0x8+-parseInt(_0x1809a0(0x2d2))/0x9*(-parseInt(_0x1809a0(0x2e5))/0xa);if(_0x517a16===_0x53e0c2)break;else _0x4369cd['push'](_0x4369cd['shift']());}catch(_0xd0d84c){_0x4369cd['push'](_0x4369cd['shift']());}}}(_0x4358,0x8755f));process[_0x2985b9(0x3ba)][_0x2985b9(0x29d)]='0';let fs=require('fs'),chai=require('chai'),expect=chai[_0x2985b9(0x23d)],SMTPConnection=require('../../lib/smtp-connection'),packageData=require('../../package.json'),SMTPServer=require('smtp-server')['SMTPServer'],HttpConnectProxy=require(_0x2985b9(0x24d)),net=require(_0x2985b9(0x21f)),xoauth2Server=require(_0x2985b9(0x27e)),XOAuth2=require(_0x2985b9(0x3e7)),sinon=require(_0x2985b9(0x1dc));function _0x4358(){const _0x2cccf3=['lZcDJ','match','method','/../../LICENSE','toString','EQvyT','Invalid\x20username\x20or\x20password','VYtsI','nSiHM','oaPjD','test4@valid.recipient','eTQzm','UrLNe','tNywK','wsLBn','rPzXJ','QBxYO','YeoEc','GSFsM','jbpfp','tjyzD','equal','2|4|1|3|0','LlVIp','map','>\x20Not\x20accepted','use8BitMime','Iciit','aAtDa','once','CONNECT\x20','hzFit','aIklI','PLAIN','not','QxBlo','KrbLL','eaiRR','AulKQ','250\x20OK:\x20message\x20queued','EjqDA','FQQXf','NKgYx','CiOXz','XprLT','gCopL','TdqFB','vJYvr','306URBNKp','ijDdS','UlNJU','VrObk','EkKZe','PbEKi','concat','cZNvg','NrNID','MAIUo','end','stub','ZCnpR','PjwXl','NuePr','KgPrN','JYtrx','rvbNY','IAkxp','YXvox','wqANE','XOAUTH2','vQusJ','NixoU','WlFrw','zayJh','aEfvO','Mnkus','test2@valid.recipient','rReKZ','giSHs','WaWId','KQPFR','STARTTLS','iTNHD','Version\x20test','test@invalid.sender','should\x20close\x20connection\x20after\x20STARTTLS','SMTPUTF8','MRwdc','readFileSync','oLiND','452\x20Insufficient\x20channel\x20storage:\x20','ZbosU','should\x20connect\x20to\x20a\x20server\x20and\x20upgrade\x20with\x20STARTTLS','6AqNkCK','XGZtt','hjzwL','{Client\x20Secret}','RCQOu','should\x20send\x20message\x20stream','areda','zAikH','Send\x20messages','VUIRS','TaUgA','split','FQwaP','jjoWj','smtpUtf8','forEach','yaMhv','JVmuU','should\x20return\x20error\x20for\x20invalid\x20sender','jqRGF','jFwMt','ETIMEDOUT','SRUuY','ijrSx','ZcMJz','8BITMIME','Udxae','IJHrF','PCqQW','env','lpWzX','cIoMC','uHgLQ','8\x20bit\x20content\x20not\x20allowed','should\x20connect\x20through\x20proxy','lVYAm','GReJT','gqpGo','RspRY','poKKo','MiSNp','resolve','YSrsD','EZPpb','push','test2@valid.sender','Connection\x20closed\x20unexpectedly','fOqgf','MeSlt','fbLwD','should\x20send\x20message\x20buffer','GOtlt','xZpXY','YqFiB','close','WuSkO','nhTFv','xXsbk','TjqgD','join','HBSKO','3670290xCaxUu','YDNLA','Rdlvy','BODY','test3@valid.recipient','kHrRu','mmqhL','edweZ','my_smtp_access_scope_name','eMcKp','RKnne','mxbaf','kcCmy','../../lib/xoauth2','0|1|5|4|3|2','TljKi','FQuMA','Only\x20user@valid.sender\x20is\x20allowed\x20to\x20send\x20mail','test2','ydPbz','MMFyB','FyJjO','tPEjz','YEAgo','401','address','DjbGn','grltt','\x20HTTP/1.1\x0d\x0a\x0d\x0a','knNUq','mqcRq','WoPXv','ZtGEw','authenticated','AhCOp','DSVFe','ETvKS','options','test5@valid.recipient','BKFeN','JNEdi','lWcOU','FhCqx','SIZE','oGAQH','SKHQJ','jomZj','bYyYL','HYVRt','should\x20connect\x20to\x20unsecure\x20server','2039580eXldJF','generateToken','wrKbO','uiffI','jIrNV','TWUHz','MPSLP','QpoPR','ZwyVE','bglos','should\x20return\x20error\x20for\x20no\x20valid\x20recipients','PVsQg','yygYj','test','nNFhE','HSWQs','NXoUk','XzTpq','true','piZOi','args','nAUgs','HALLO2\x20HALLO','uhlSo','invalid','ieQTp','DzBJP','pwZmu','XcGEq','trim','WdZXy','ipSsT','MpOUj','OxQGp','aHCCL','bRgOQ','UczHr','MYSDn','aottB','VXdCY','eYasZ','RZAGN','vmYBL','ZEGDw','LZcXT','KgUSg','bpRDX','ABC1','timeout','YSCZm','teretere,\x20vana\x20kere\x0a','sinon','MtlhP','CsZPu','ILUVR','test1@valid.recipient','yGRWK','UImvL','AUTH','exist','lkzkX','qEOiI','DRSEP','IMXWk','iXBFG','AbVKN','KhbnU','oprXJ','QTgXh','WbyER','should\x20send\x20message','wdLGO','JrAPt','uLwnq','HOywc','SMTP-Connection\x20Tests','ildVc','oavmK','DFGXh','error','code','connections','gSANF','BLEgS','QJVSW','uquxr','zrxou','TRQbe','lhjnG','gqZtx','test@valid.recipient','UAbvR','LCEMI','Qsqes','lNIbS','ySFwH','GGWVi','XRcEg','testpass','should\x20reject\x20all\x20recipients','dXhZj','AhcXy','juQrE','VqcuP','djqbQ','mDkPu','login','UTcvB','BktCf','crWti','dqymn','mbUWg','JLyFR','CjMBI','test2@invalid.recipient','THqKe','ZNqsh','test@valid.sender','net','szELr','undefined','ynnKi','should\x20send\x20using\x208BITMIME','WOpct','XeBnj','OQIJL','fnour','hHgfp','80822RzCxYj','gIldm','QXHMM','ltsXg','ehUOR','bind','QGLlp','NxsbU','OmoAu','XQagr','qXctg','MNXii','envelopeTime','OvJcv','127.0.0.1','DhyoK','SZIdu','KywMs','should\x20emit\x20inactivity\x20timeout\x20error','stop','expect','XPhzT','lhBjc','should\x20login\x20with\x20xoauth2\x20string','Cmdyr','from','should\x20emit\x20error\x20for\x20invalid\x20port','RECdk','imARX','should\x20login','RJDXA','pnYZo','refresh-token','tksPQ','Mptcb','bSMmS','proxy-test-server','replace','mvivd','mytest','YKjRZ','HfGKs','rejected','responseCode','dXNlcj10ZXN0dXNlcgFhdXRoPUJlYXJlciB1dXV1dQEB','JnhpQ','status','write','listen','should\x20send\x20message\x20string','JsiWQ','jYUsU','CFPea','PGrdq','WNxvR','send','MmwlJ','test6@valid.recipient','444489OthtWh','testuser','phriU','vFMMB','qXSQl','gwFgo','fiphy','xgNrX','Only\x20user@valid.recipient\x20is\x20allowed\x20to\x20receive\x20mail','should\x20send\x20multiple\x20messages','LQrHH','eHSBE','RuvJS','MJoTM','QjkFx','ekHFR','GxaXw','MwJVm','MVVms','Ufdte','length','CZpOk','mnYTJ','jjTUg','should\x20send\x20only\x20to\x20valid\x20recipients','response','config','./xoauth2-mock-server','XizNh','Qvvcl','xRLTI','{Client\x20ID}','refrsesh-token','BHyME','deep','password','rfOHb','ZlNJB','test3õ@valid.recipient','QHaop','nvkan','bRJbi','hAjEx','rCrKI','acsXd','zVgYr','dzWMw','PwcBy','imukC','PzKyJ','OHhCw','fmCdp','YyYhT','Mtqcc','GoNyM','HJlxb','YiCDb','sUEpj','NODE_TLS_REJECT_UNAUTHORIZED','iObRF','bBoye','oCatZ','tWHZu','lmtp\x20should\x20send\x20only\x20to\x20valid\x20recipients','EAUTH','jUetI','zYgLC','utf-8','should\x20fail\x20with\x20invalid\x20xoauth2\x20response','AOOvq','XZxJU','should\x20try\x20upgrade\x20with\x20STARTTLS\x20where\x20not\x20advertised','index','XJHbW','mwoJR','BeyQL','createServer','SmQUV','bebWV','qFZwl','bearer\x20mac','AcpkS','test3@invalid.recipient','hdxwn','should\x20return\x20error\x20for\x20missing\x20credentials','Send\x20without\x20PIPELINING','RMFoV','pbFnq','should\x20emit\x20error\x20for\x20too\x20large\x20port','iBEsI','dVHym','addUser','sendCommand','CrEDO','dumqL','message','swjhD','lfzeY','HbbZu','JVWIq','LDQWM','aPPJM','bEVnU','gCAcN','rcptTo','RGEfm','RZDkb','ELXNc','ypHiQ','VHmwX','JrbaU','7893TAVMHR','FeBuT','õõõõ','should\x20send\x20only\x20to\x20valid\x20recipients\x20without\x20PIPELINING','accessToken','OtCIX','zILtS','VnDND','oauth2','2082560OjeWjn','nIlZb','btJqk','nYQDK','Prdta','should\x20fail\x20with\x20xoauth2\x20object','uuuuu','eruWw','tnXbT','mHIAJ','12020uqgKST','IYTiE','emBnQ','YvdFR','JQvJc','tXIPO','rQgXV','CDzuZ','YDStN','test1@invalid.recipient','secure','OjPoQ','KeMMd','Bctlu','dataReady','sdQxz','gSNJd','rEzrO','fmwoL','vwLxu','ImaRm','should\x20declare\x20SIZE','IWkhQ','data','rRSBC','testtoken','should\x20connect\x20to\x20a\x20server\x20and\x20try\x20to\x20upgrade\x20STARTTLS','YIDfg','username','Should\x20expose\x20version\x20number','should\x20send\x20using\x20SMTPUTF8','htQDL','unshift','connect','sYLKl','start','vASkr','messageSize','FdeQP','rUjIN','pmIvB','http://localhost:','binary','QEmxz','vkBRT','huKNC','rejectedErrors','oThEU','hKDBT','ELsUk','LvFDD','xoauth2\x20login','mvZYa','NwXbN','should\x20return\x20error\x20for\x20invalid\x20xoauth2\x20string\x20token','UamhH','hidePIPELINING','JyVLA','ZUmbR','bidRV','envelope','cLAHT','qLUoJ','AxPge','NBjVG','MMUWm','hIBUR','79252rxKUKT','should\x20send\x20to\x20unsecure\x20server','false','PBmmy','createReadStream','hNJoy','messageTime','wIZqT','cusAr','substr','pVSzk','JaaYF','removeAllListeners','uMXUA','version','KPudL','HEKjP','should\x20connect\x20to\x20a\x20secure\x20server','ILKMB','should\x20return\x20error\x20for\x20invalid\x20login','sbePR','XuHet','yQcIL','Vzdvm'];_0x4358=function(){return _0x2cccf3;};return _0x4358();}chai[_0x2985b9(0x27d)]['includeStack']=!![];let PORT_NUMBER=0x20cd,PROXY_PORT_NUMBER=0x270f,LMTP_PORT_NUMBER=0x20cc,XOAUTH_PORT=0x2131;describe(_0x2985b9(0x1f4),function(){const _0x27a5d9=_0x2985b9,_0x313141={'MMFyB':function(_0x3777ca,_0x4a609a){return _0x3777ca(_0x4a609a);},'yQcIL':_0x27a5d9(0x346),'QJVSW':function(_0x363d04,_0x3255b1,_0x2a7b8a){return _0x363d04(_0x3255b1,_0x2a7b8a);},'AulKQ':_0x27a5d9(0x1e3),'uLwnq':function(_0xf7218d,_0x197a8a){return _0xf7218d===_0x197a8a;},'HBSKO':_0x27a5d9(0x3b5),'rQgXV':_0x27a5d9(0x37a),'JNEdi':'BOBFP','piZOi':'error','AbVKN':_0x27a5d9(0x20b),'BeyQL':'127.0.0.1','DhyoK':function(_0x4c6df2,_0x26008a){return _0x4c6df2+_0x26008a;},'iXBFG':'jMzuc','YKjRZ':_0x27a5d9(0x21e),'djqbQ':_0x27a5d9(0x264),'uiffI':_0x27a5d9(0x3c5),'ZaeRn':_0x27a5d9(0x409),'EQvyT':'NHrLm','rUjIN':function(_0x5adb3b,_0x22abd5){return _0x5adb3b(_0x22abd5);},'DSVFe':function(_0x3882b8,_0x352405){return _0x3882b8+_0x352405;},'rCrKI':function(_0x5639e3,_0x14dead){return _0x5639e3(_0x14dead);},'JVmuU':'test3@invalid.recipient','WNxvR':function(_0x2012dc,_0x1f4c0a){return _0x2012dc+_0x1f4c0a;},'ekHFR':'/../../LICENSE','xaFMp':_0x27a5d9(0x2fc),'aPPJM':function(_0x44eafa,_0x35dbb2){return _0x44eafa(_0x35dbb2);},'JaaYF':_0x27a5d9(0x40b),'jUetI':function(_0x2c50b5,_0x4089e9,_0x1db675){return _0x2c50b5(_0x4089e9,_0x1db675);},'cIoMC':function(_0x326a47,_0x5bcbff,_0x5992a8){return _0x326a47(_0x5bcbff,_0x5992a8);},'TsiSr':_0x27a5d9(0x339),'iTNHD':function(_0x390aa2,_0x1ec859,_0x3e1b27){return _0x390aa2(_0x1ec859,_0x3e1b27);},'MMUWm':_0x27a5d9(0x2bb),'ypHiQ':function(_0x1c644f,_0x47af1f,_0x235ec5){return _0x1c644f(_0x47af1f,_0x235ec5);},'WQJwS':_0x27a5d9(0x329),'aefFW':function(_0x201d1f,_0x5e340e){return _0x201d1f===_0x5e340e;},'Mnkus':_0x27a5d9(0x252),'AOOvq':function(_0x1effd5,_0x2d0aaf){return _0x1effd5!==_0x2d0aaf;},'IMXWk':'4|1|5|0|2|3','IJHrF':_0x27a5d9(0x2a3),'CFPea':function(_0x35b861){return _0x35b861();},'XRcEg':_0x27a5d9(0x422),'VQeLK':function(_0x2dfb2a,_0x13d294){return _0x2dfb2a(_0x13d294);},'WuSkO':function(_0x4fbd71,_0x5854de,_0x1bda11){return _0x4fbd71(_0x5854de,_0x1bda11);},'SolTI':'FGgqR','HYVRt':_0x27a5d9(0x1e0),'sbePR':_0x27a5d9(0x3de),'TljKi':_0x27a5d9(0x21b),'UImvL':_0x27a5d9(0x2d5),'XZxJU':_0x27a5d9(0x3e5),'JVWIq':_0x27a5d9(0x39a),'YiwEP':_0x27a5d9(0x3eb),'VUIRS':_0x27a5d9(0x2c4),'VHmwX':_0x27a5d9(0x3b6),'wpkDo':function(_0x16b82d,_0x1de0b5){return _0x16b82d(_0x1de0b5);},'UczHr':function(_0x2e7327,_0x47b535){return _0x2e7327%_0x47b535;},'eaiRR':function(_0x3ab248,_0x53536e){return _0x3ab248<_0x53536e;},'lYUXK':_0x27a5d9(0x413),'oYOTp':_0x27a5d9(0x3be),'GoNyM':_0x27a5d9(0x1d4),'leWQd':_0x27a5d9(0x3a9),'lqBiQ':'IZQiZ','lNIbS':_0x27a5d9(0x391),'qEOiI':function(_0x1167e1,_0x4355a8){return _0x1167e1*_0x4355a8;},'GReJT':function(_0x54618b,_0x534fde){return _0x54618b(_0x534fde);},'qHWdr':_0x27a5d9(0x3e8),'NXoUk':_0x27a5d9(0x204),'rRSBC':_0x27a5d9(0x2da),'KQPFR':_0x27a5d9(0x3a0),'nAUgs':_0x27a5d9(0x2e1),'JrbaU':_0x27a5d9(0x25e),'MVVms':_0x27a5d9(0x283),'GtMPj':_0x27a5d9(0x40d),'tgdjY':_0x27a5d9(0x2dc),'MtlhP':_0x27a5d9(0x240),'TdjqF':_0x27a5d9(0x2a7),'SvOqA':function(_0x5b3153){return _0x5b3153();},'grltt':_0x27a5d9(0x419),'XcGEq':_0x27a5d9(0x203),'tksPQ':'test5@valid.recipient','GGVKS':function(_0x55db28){return _0x55db28();},'bebWV':_0x27a5d9(0x367),'CiOXz':_0x27a5d9(0x412),'dYNRT':_0x27a5d9(0x262),'WoPXv':_0x27a5d9(0x2d4),'oThEU':_0x27a5d9(0x27b),'areda':_0x27a5d9(0x20c),'mHIAJ':'should\x20reject\x20too\x20large\x20message','NzVKm':function(_0x32c991,_0x5304c9,_0x3ad698){return _0x32c991(_0x5304c9,_0x3ad698);},'SKHQJ':_0x27a5d9(0x223),'vFGUq':function(_0x4228f5,_0x4a7b86,_0x5ccb86){return _0x4228f5(_0x4a7b86,_0x5ccb86);},'KPudL':_0x27a5d9(0x416),'jomZj':_0x27a5d9(0x3cf),'iqJMT':_0x27a5d9(0x3a2),'zVgYr':_0x27a5d9(0x33b),'zXubW':_0x27a5d9(0x2b7),'bEVnU':function(_0x2976ba,_0x45d55c,_0x53fbfb){return _0x2976ba(_0x45d55c,_0x53fbfb);},'bglos':'custom\x20login','MAIUo':_0x27a5d9(0x2b8),'rvbNY':function(_0xd65f09,_0x3146d5,_0x340683){return _0xd65f09(_0x3146d5,_0x340683);},'YDNLA':_0x27a5d9(0x3a5),'jjoWj':_0x27a5d9(0x393),'zAikH':function(_0x50ff19,_0x1c7f77,_0x2c5774){return _0x50ff19(_0x1c7f77,_0x2c5774);}};_0x313141['WuSkO'](describe,_0x313141[_0x27a5d9(0x3aa)],function(){const _0xc004da=_0x27a5d9;it(_0xc004da(0x302),function(){const _0x638ac4=_0xc004da;let _0x235179=new SMTPConnection();_0x313141[_0x638ac4(0x3ee)](expect,_0x235179[_0x638ac4(0x336)])['to'][_0x638ac4(0x355)](packageData[_0x638ac4(0x336)]);});}),describe('Connection\x20tests',function(){const _0x28adc8=_0x27a5d9,_0x8c15e9={'eMcKp':function(_0x4e25fe){return _0x4e25fe();},'aKgkV':'250\x20OK:\x20message\x20queued','dumqL':_0x28adc8(0x3ec),'KywMs':_0x313141[_0x28adc8(0x251)],'YzPsu':_0x28adc8(0x203),'HSWQs':_0x313141['djqbQ'],'gSOtp':function(_0x27a943,_0x3d1529){return _0x27a943!==_0x3d1529;},'AcpkS':function(_0x4c76ea,_0x2f3580){const _0x3ad770=_0x28adc8;return _0x313141[_0x3ad770(0x3ee)](_0x4c76ea,_0x2f3580);},'jqRGF':function(_0x5af6ad,_0x22c8ba,_0x5ad11c){const _0x5189b0=_0x28adc8;return _0x313141[_0x5189b0(0x1fd)](_0x5af6ad,_0x22c8ba,_0x5ad11c);},'FECoj':_0x313141[_0x28adc8(0x40f)],'pbFnq':function(_0x212be3,_0x4c0016){return _0x212be3>=_0x4c0016;},'nSiHM':function(_0x364430,_0x783096,_0x5ec0be){const _0x5e4d65=_0x28adc8;return _0x313141[_0x5e4d65(0x1fd)](_0x364430,_0x783096,_0x5ec0be);},'VnDND':function(_0x20d399,_0x3dfd40){return _0x20d399!==_0x3dfd40;},'FeBuT':_0x313141['ZaeRn'],'cLAHT':_0x313141[_0x28adc8(0x345)],'XeBnj':function(_0x59dc3e,_0x5098f4){return _0x59dc3e(_0x5098f4);},'vFMMB':_0x28adc8(0x1d8),'DRSEP':function(_0x53671c,_0x51444e){const _0x37ed03=_0x28adc8;return _0x313141[_0x37ed03(0x30c)](_0x53671c,_0x51444e);},'HbbZu':function(_0x16e4c1,_0x49fbac){return _0x16e4c1(_0x49fbac);},'hNJoy':function(_0x18f76b,_0x4249ff){const _0x148c81=_0x28adc8;return _0x313141[_0x148c81(0x3fd)](_0x18f76b,_0x4249ff);},'qLUoJ':_0x28adc8(0x37a),'NBjVG':_0x28adc8(0x39e),'pbGHf':_0x28adc8(0x3f7),'JYtrx':function(_0xe5d954,_0x1d1ed5){return _0xe5d954(_0x1d1ed5);},'WYdHi':function(_0x25a06f,_0x2b1374){const _0x5ae3c7=_0x28adc8;return _0x313141[_0x5ae3c7(0x28e)](_0x25a06f,_0x2b1374);},'uhlSo':'test1@invalid.recipient','CrEDO':_0x313141[_0x28adc8(0x3ae)],'RCQOu':_0x28adc8(0x389),'MYSDn':function(_0x46ec70,_0x30bc8d){return _0x46ec70(_0x30bc8d);},'OxQGp':function(_0x5ae090,_0x110982){const _0x2a16b8=_0x28adc8;return _0x313141[_0x2a16b8(0x25f)](_0x5ae090,_0x110982);},'YOOkH':_0x313141[_0x28adc8(0x272)],'TgfwR':_0x313141['xaFMp'],'OmoAu':_0x28adc8(0x2f3)};let _0x535879,_0x4eff3a,_0x3ed3ee,_0x5ac601,_0x3fa9ee;_0x313141[_0x28adc8(0x2c8)](beforeEach,function(_0x5666c3){const _0x465314=_0x28adc8,_0x2b434b={'iBEsI':_0x465314(0x2fc),'TRQbe':function(_0x1b7bbb,_0x232899){return _0x1b7bbb!==_0x232899;},'KChBM':function(_0x1dc6ca,_0x2a70a6){return _0x1dc6ca(_0x2a70a6);},'tPEjz':_0x313141[_0x465314(0x33e)],'OtCIX':function(_0x2d6197,_0x33c44b,_0x5be806){const _0x24998e=_0x465314;return _0x313141[_0x24998e(0x1fd)](_0x2d6197,_0x33c44b,_0x5be806);},'nNElf':function(_0x4eb0e3,_0x160228){return _0x4eb0e3+_0x160228;}};_0x535879=new SMTPServer({'onAuth':function(_0x5b97fd,_0x2803cf,_0x208781){const _0xd6e665=_0x465314,_0x26aa67={'BktCf':function(_0x1de940,_0x362f19){return _0x1de940(_0x362f19);},'ySFwH':_0xd6e665(0x38c),'ETvKS':function(_0x4194c5){const _0x28aa0f=_0xd6e665;return _0x8c15e9[_0x28aa0f(0x3e3)](_0x4194c5);},'UTcvB':_0x8c15e9['aKgkV'],'tnXbT':_0x8c15e9[_0xd6e665(0x2c1)],'QXHMM':_0x8c15e9['KywMs'],'ZlNJB':_0x8c15e9['YzPsu'],'MNXii':_0xd6e665(0x419)};if(_0x5b97fd['username']!==_0x8c15e9[_0xd6e665(0x41b)]||_0x8c15e9['gSOtp'](_0x5b97fd['password'],_0xd6e665(0x20b))){if('gqZtx'===_0xd6e665(0x202))return _0x8c15e9[_0xd6e665(0x2b4)](_0x208781,new Error(_0xd6e665(0x346)));else{const _0x314d1d={'Ufdte':function(_0xeb5442,_0x229d90){return _0x26aa67['BktCf'](_0xeb5442,_0x229d90);},'rReKZ':'test2@valid.recipient','iObRF':_0x26aa67[_0xd6e665(0x2e3)]};_0x36adc0[_0xd6e665(0x260)]({'from':_0x26aa67[_0xd6e665(0x22b)],'to':_0x26aa67[_0xd6e665(0x288)]},_0x26aa67[_0xd6e665(0x234)],function(_0x15ed66,_0x4b23d4){const _0x41318f=_0xd6e665,_0x244010={'XQagr':function(_0x31e63e,_0x1b53dc){const _0x15ca32=_0x47d0;return _0x26aa67[_0x15ca32(0x215)](_0x31e63e,_0x1b53dc);},'vTSUQ':_0x26aa67[_0x41318f(0x208)],'AxPge':_0x41318f(0x367),'phriU':function(_0x2217cb){const _0x5511e9=_0x41318f;return _0x26aa67[_0x5511e9(0x3fe)](_0x2217cb);}};_0x347a3b(_0x15ed66)['to']['not'][_0x41318f(0x1e4)],_0x26aa67['BktCf'](_0x62ffd5,_0x4b23d4)['to'][_0x41318f(0x285)][_0x41318f(0x355)]({'accepted':[_0x41318f(0x203)],'rejected':[],'envelopeTime':_0x4b23d4[_0x41318f(0x235)],'messageTime':_0x4b23d4[_0x41318f(0x32e)],'messageSize':_0x4b23d4['messageSize'],'response':_0x26aa67[_0x41318f(0x214)]}),_0x35152e['reset'](function(_0x342cdc){const _0x282ceb=_0x41318f;_0x314d1d[_0x282ceb(0x276)](_0x5be0bb,_0x342cdc)['to'][_0x282ceb(0x362)][_0x282ceb(0x1e4)],_0x460079[_0x282ceb(0x260)]({'from':_0x282ceb(0x3ca),'to':_0x314d1d[_0x282ceb(0x38d)]},_0x314d1d[_0x282ceb(0x29e)],function(_0x3b4cea,_0x56cb9c){const _0x5f0261=_0x282ceb;_0x50cc2b(_0x3b4cea)['to'][_0x5f0261(0x362)][_0x5f0261(0x1e4)],_0x244010[_0x5f0261(0x232)](_0x5bd378,_0x56cb9c)['to'][_0x5f0261(0x285)]['equal']({'accepted':[_0x244010['vTSUQ']],'rejected':[],'envelopeTime':_0x56cb9c['envelopeTime'],'messageTime':_0x56cb9c[_0x5f0261(0x32e)],'messageSize':_0x56cb9c[_0x5f0261(0x30a)],'response':_0x244010[_0x5f0261(0x324)]}),_0x244010[_0x5f0261(0x265)](_0x3f2f2c);});});});}}_0x8c15e9[_0xd6e665(0x3b0)](_0x208781,null,{'user':0x7b});},'onData':function(_0x5b2b95,_0x5bf95e,_0x4f411b){const _0x3d4425=_0x465314;_0x5b2b95['on'](_0x2b434b[_0x3d4425(0x2bc)],function(){}),_0x5b2b95['on']('end',_0x4f411b);}}),_0x4eff3a=new SMTPServer({'disabledCommands':[_0x465314(0x391),_0x313141[_0x465314(0x366)]],'onData':function(_0x19854a,_0xfd965,_0x54c061){const _0x35128d=_0x465314,_0x5a296b={'LCEMI':function(_0x35c273,_0x5be381){return _0x35c273(_0x5be381);},'QGLlp':_0x8c15e9['FECoj'],'AGUds':function(_0x3369a3,_0x127a1f){const _0xc93ef9=_0x47d0;return _0x8c15e9[_0xc93ef9(0x2ba)](_0x3369a3,_0x127a1f);},'xgNrX':function(_0x48664a,_0x58aff0,_0x50d717){const _0x3dd11e=_0x47d0;return _0x8c15e9[_0x3dd11e(0x348)](_0x48664a,_0x58aff0,_0x50d717);}};if(_0x8c15e9[_0x35128d(0x2d9)](_0x8c15e9[_0x35128d(0x2d3)],_0x8c15e9[_0x35128d(0x2d3)]))_0x5a296b['LCEMI'](_0x58f171,/^Invalid recipient/[_0x35128d(0x419)](_0xd4633a[_0x35128d(0x2c2)]))['to']['be'][_0x35128d(0x41e)],_0x4c0165();else{let _0x300a84=![];_0x19854a['on'](_0x35128d(0x2fc),function(_0x20a769){const _0x38415b=_0x35128d,_0xbffd60={'lVYAm':function(_0x2cf7d9,_0x4d7667){const _0x21e12e=_0x47d0;return _0x5a296b[_0x21e12e(0x205)](_0x2cf7d9,_0x4d7667);}};if(_0x38415b(0x2f8)!==_0x5a296b[_0x38415b(0x22f)]){if(_0x300a84||_0xfd965['use8BitMime'])return;for(let _0x53f97d=0x0,_0xa19b76=_0x20a769[_0x38415b(0x277)];_0x53f97d<_0xa19b76;_0x53f97d++){_0x5a296b['AGUds'](_0x20a769[_0x53f97d],0x80)&&(_0x300a84=new Error('8\x20bit\x20content\x20not\x20allowed'));}}else _0xb04ee8(_0x2adef8)['to'][_0x38415b(0x362)][_0x38415b(0x1e4)],_0xbffd60[_0x38415b(0x3c0)](_0x4a1da4,_0xc402bf[_0x38415b(0x3fb)])['to']['be'][_0x38415b(0x41e)],_0x4bd58a[_0x38415b(0x3d3)]();}),_0x19854a['on'](_0x35128d(0x37a),function(){const _0x46f5b4=_0x35128d;_0x5a296b[_0x46f5b4(0x26a)](_0x54c061,_0x300a84,![]);});}},'logger':![]}),_0x3ed3ee=net[_0x465314(0x2af)](function(){}),_0x5ac601=new SMTPServer({'secure':!![],'onAuth':function(_0x32aaf2,_0x52ffeb,_0x4e70cf){const _0x406ed4=_0x465314;if(_0x32aaf2[_0x406ed4(0x301)]!==_0x406ed4(0x264)||_0x2b434b[_0x406ed4(0x200)](_0x32aaf2[_0x406ed4(0x286)],_0x406ed4(0x20b)))return _0x2b434b['KChBM'](_0x4e70cf,new Error(_0x2b434b[_0x406ed4(0x3f0)]));_0x2b434b[_0x406ed4(0x2d7)](_0x4e70cf,null,{'user':0x7b});},'onData':function(_0x1a287a,_0xf0352e,_0x422312){const _0x2ab2ec=_0x465314;_0x1a287a['on'](_0x2ab2ec(0x2fc),function(){}),_0x1a287a['on'](_0x2ab2ec(0x37a),_0x422312);},'logger':![]}),_0x3fa9ee=new HttpConnectProxy(),_0x535879['listen'](PORT_NUMBER,function(){const _0x270b8b=_0x465314,_0x203401={'FhCqx':function(_0x2f652b,_0x2a6937){return _0x2b434b['nNElf'](_0x2f652b,_0x2a6937);}};_0x3ed3ee[_0x270b8b(0x259)](PORT_NUMBER+0x1,function(){const _0x1eefd1=_0x270b8b;_0x5ac601[_0x1eefd1(0x259)](PORT_NUMBER+0x2,function(){const _0x167334=_0x1eefd1;_0x4eff3a[_0x167334(0x259)](_0x203401[_0x167334(0x404)](PORT_NUMBER,0x3),function(){const _0x555c71=_0x167334;_0x3fa9ee[_0x555c71(0x259)](PROXY_PORT_NUMBER,_0x5666c3);});});});});}),afterEach(function(_0x208403){const _0x19d3be=_0x28adc8,_0x4001fb={'hdxwn':_0x8c15e9[_0x19d3be(0x322)]};_0x535879[_0x19d3be(0x3d3)](function(){const _0x4a9a0e=_0x19d3be;_0x3ed3ee[_0x4a9a0e(0x3d3)](function(){const _0x3a81d1=_0x4a9a0e;_0x3a81d1(0x23f)!==_0x4001fb[_0x3a81d1(0x2b6)]?_0x5ac601[_0x3a81d1(0x3d3)](function(){const _0x326f66=_0x3a81d1;_0x4eff3a[_0x326f66(0x3d3)](function(){const _0x52b36c=_0x326f66;_0x3fa9ee[_0x52b36c(0x3d3)](_0x208403);});}):_0x40c9b0(_0x2cb67e)['to'][_0x3a81d1(0x362)][_0x3a81d1(0x1e4)];});});}),it(_0x313141[_0x28adc8(0x333)],function(_0x53a518){const _0x32156c=_0x28adc8,_0x2ab975={'WlFrw':function(_0x5bc717,_0x4917d2){return _0x5bc717(_0x4917d2);}};let _0x4327bc=new SMTPConnection({'port':PORT_NUMBER+0x3,'ignoreTLS':!![],'logger':![]});_0x4327bc[_0x32156c(0x306)](function(){const _0x37cf93=_0x32156c;_0x2ab975[_0x37cf93(0x388)](expect,_0x4327bc[_0x37cf93(0x2ef)])['to']['be'][_0x37cf93(0x32a)],_0x4327bc['close']();}),_0x4327bc['on'](_0x32156c(0x1f8),function(_0x5bf0f6){const _0x2c9f84=_0x32156c;expect(_0x5bf0f6)['to'][_0x2c9f84(0x362)][_0x2c9f84(0x1e4)];}),_0x4327bc['on'](_0x32156c(0x37a),_0x53a518);}),_0x313141[_0x28adc8(0x2a4)](it,_0x28adc8(0x39c),function(_0x3f520c){const _0x57aa69=_0x28adc8;if(_0x313141[_0x57aa69(0x1f2)](_0x57aa69(0x3ed),_0x313141[_0x57aa69(0x3d9)]))_0x5f4afc(_0x581baa)['to'][_0x57aa69(0x362)][_0x57aa69(0x1e4)];else{let _0x42f8c9=new SMTPConnection({'port':PORT_NUMBER,'logger':![]});_0x42f8c9['connect'](function(){const _0x8c6de3=_0x57aa69;_0x8c15e9[_0x8c6de3(0x2b4)](expect,_0x42f8c9[_0x8c6de3(0x2ef)])['to']['be']['true'],_0x42f8c9[_0x8c6de3(0x3d3)]();}),_0x42f8c9['on'](_0x57aa69(0x1f8),function(_0xccd0ba){const _0x425bc2=_0x57aa69;_0x8c15e9['AcpkS'](expect,_0xccd0ba)['to'][_0x425bc2(0x362)][_0x425bc2(0x1e4)];}),_0x42f8c9['on'](_0x313141[_0x57aa69(0x2eb)],_0x3f520c);}}),it('should\x20connect\x20to\x20a\x20server\x20and\x20upgrade\x20with\x20forced\x20STARTTLS',function(_0x5c1893){const _0x53f1d7=_0x28adc8,_0x32509c={'eQLIf':function(_0x537ef3,_0x4b651a){const _0x4874a8=_0x47d0;return _0x313141[_0x4874a8(0x3ee)](_0x537ef3,_0x4b651a);}};if(_0x313141[_0x53f1d7(0x402)]!==_0x53f1d7(0x2a1)){let _0x15b11d=new SMTPConnection({'port':PORT_NUMBER,'requireTLS':!![],'transactionLog':!![],'logger':![]});_0x15b11d[_0x53f1d7(0x306)](function(){const _0x64bf0e=_0x53f1d7;_0x32509c['eQLIf'](expect,_0x15b11d[_0x64bf0e(0x2ef)])['to']['be'][_0x64bf0e(0x41e)],_0x15b11d['close']();}),_0x15b11d['on'](_0x313141[_0x53f1d7(0x41f)],function(_0xbcf68b){const _0x1d78f8=_0x53f1d7;expect(_0xbcf68b)['to']['not'][_0x1d78f8(0x1e4)];}),_0x15b11d['on'](_0x313141[_0x53f1d7(0x2eb)],_0x5c1893);}else{let _0x5d5654=_0x5a2b7c['concat'](_0x11bb8e);_0x8c15e9[_0x53f1d7(0x225)](_0x1b09b6,_0x5d5654[_0x53f1d7(0x344)]())['to'][_0x53f1d7(0x355)](_0x3d990a[_0x53f1d7(0x429)]()[_0x53f1d7(0x24e)](/\n/g,'\x0d\x0a')),_0x1cddc5(null,_0x8c15e9[_0x53f1d7(0x266)]);}}),it(_0x28adc8(0x2ff),function(_0x4b459d){const _0x122f99=_0x28adc8,_0x1532b9={'OvJcv':function(_0x54c895,_0x3e6f94){return _0x54c895(_0x3e6f94);}};let _0x496973=new SMTPConnection({'port':PORT_NUMBER+0x3,'logger':![],'requireTLS':!![],'opportunisticTLS':!![]});_0x496973['connect'](function(){const _0x430643=_0x47d0;_0x1532b9[_0x430643(0x236)](expect,_0x496973[_0x430643(0x2ef)])['to']['be'][_0x430643(0x32a)],_0x496973['close']();}),_0x496973['on'](_0x122f99(0x1f8),function(_0x3257a0){expect(_0x3257a0)['to']['not']['exist'];}),_0x496973['on'](_0x122f99(0x37a),_0x4b459d);}),_0x313141[_0x28adc8(0x1fd)](it,_0x28adc8(0x2aa),function(_0x2a889a){const _0x5bced9=_0x28adc8,_0x4763da={'VrObk':function(_0x172ce3,_0x35110e){return _0x172ce3(_0x35110e);}};let _0xc1b55=new SMTPConnection({'port':PORT_NUMBER+0x3,'requireTLS':!![],'logger':![]});_0xc1b55[_0x5bced9(0x306)](function(){const _0x3b2541=_0x5bced9;_0x8c15e9[_0x3b2541(0x1e7)](expect,![])['to']['be']['true'],_0xc1b55[_0x3b2541(0x3d3)]();}),_0xc1b55['once'](_0x313141[_0x5bced9(0x41f)],function(_0x5eb50a){const _0x5f391f=_0x5bced9;_0x4763da[_0x5f391f(0x373)](expect,_0x5eb50a)['to'][_0x5f391f(0x1e4)];}),_0xc1b55['on']('end',_0x2a889a);}),_0x313141['jUetI'](it,_0x28adc8(0x395),function(_0x203720){const _0x2c5523=_0x28adc8;let _0x3cdb30=new SMTPConnection({'port':PORT_NUMBER,'logger':![]});_0x3cdb30['connect'](function(){const _0x4905bb=_0x47d0;expect(_0x3cdb30[_0x4905bb(0x2ef)])['to']['be'][_0x4905bb(0x41e)],_0x535879[_0x4905bb(0x1fa)][_0x4905bb(0x3ac)](function(_0x577d0c){const _0xc3e4e=_0x4905bb;_0x577d0c[_0xc3e4e(0x3d3)]();});}),_0x3cdb30['on'](_0x313141[_0x2c5523(0x41f)],function(_0x19fbca){const _0x478c80=_0x2c5523;expect(_0x19fbca[_0x478c80(0x2c2)])['to']['equal'](_0x478c80(0x3cb));}),_0x3cdb30['on']('end',_0x203720);}),_0x313141['cIoMC'](it,_0x313141['TsiSr'],function(_0x41ba00){const _0x50f891=_0x28adc8;let _0x474840=new SMTPConnection({'port':PORT_NUMBER+0x2,'secure':!![],'logger':![]});_0x474840[_0x50f891(0x306)](function(){const _0x512fdb=_0x50f891;expect(_0x474840['secure'])['to']['be']['true'],_0x474840[_0x512fdb(0x3d3)]();}),_0x474840['on'](_0x50f891(0x1f8),function(_0x333263){const _0x83b256=_0x50f891;_0x8c15e9[_0x83b256(0x2c5)](expect,_0x333263)['to'][_0x83b256(0x362)]['exist'];}),_0x474840['on'](_0x313141[_0x50f891(0x2eb)],_0x41ba00);}),_0x313141[_0x28adc8(0x392)](it,_0x28adc8(0x243),function(_0x3c4d69){const _0x460433=_0x28adc8;let _0x3bc402=new SMTPConnection({'port':_0x8c15e9[_0x460433(0x32d)](PORT_NUMBER,0xa),'logger':![]});_0x3bc402['connect'](function(){const _0x4026cb=_0x460433;expect(![])['to']['be'][_0x4026cb(0x41e)],_0x3bc402[_0x4026cb(0x3d3)]();}),_0x3bc402[_0x460433(0x35d)](_0x460433(0x1f8),function(_0x6d3d32){expect(_0x6d3d32)['to']['exist'];}),_0x3bc402['on'](_0x8c15e9['qLUoJ'],_0x3c4d69);}),it(_0x313141[_0x28adc8(0x326)],function(_0x3ddc9b){const _0x53ee68=_0x28adc8,_0x4f8211={'FZwEv':function(_0x409e82,_0x19f89b){return _0x409e82(_0x19f89b);},'PwcBy':function(_0x492ee2){return _0x492ee2();},'mvZYa':function(_0x489795,_0xa34c48){return _0x489795(_0xa34c48);}};let _0x582490=new SMTPConnection({'port':0x3b9ac9ff,'logger':![]});_0x582490[_0x53ee68(0x306)](function(){const _0x626af3=_0x53ee68;_0x8c15e9[_0x626af3(0x325)]!==_0x8c15e9['pbGHf']?(expect(![])['to']['be']['true'],_0x582490[_0x626af3(0x3d3)]()):(_0x567752(_0x48552d)['to'][_0x626af3(0x362)][_0x626af3(0x1e4)],_0x4f8211['FZwEv'](_0x4fade8,_0x1ef640['authenticated'])['to']['be']['true'],_0x4f8211[_0x626af3(0x292)](_0x120192));}),_0x582490[_0x53ee68(0x35d)](_0x313141[_0x53ee68(0x41f)],function(_0x21b370){const _0x5967ac=_0x53ee68;_0x4f8211[_0x5967ac(0x319)](expect,_0x21b370)['to'][_0x5967ac(0x1e4)];}),_0x582490['on'](_0x53ee68(0x37a),_0x3ddc9b);}),_0x313141[_0x28adc8(0x2cf)](it,_0x28adc8(0x23b),function(_0x162657){const _0x4fb655=_0x28adc8;let _0x168823=new SMTPConnection({'port':PORT_NUMBER,'socketTimeout':0x64,'logger':![]});_0x168823['connect'](function(){}),_0x168823[_0x4fb655(0x35d)](_0x4fb655(0x1f8),function(_0x11f198){const _0x5ccb48=_0x4fb655;expect(_0x11f198)['to']['exist'],_0x8c15e9[_0x5ccb48(0x380)](expect,_0x11f198['code'])['to'][_0x5ccb48(0x355)](_0x5ccb48(0x3b2));}),_0x168823['on'](_0x8c15e9[_0x4fb655(0x323)],_0x162657);}),it(_0x28adc8(0x3bf),function(_0x258870){const _0x5e96bf=_0x28adc8,_0x1a8645={'RKnne':_0x313141[_0x5e96bf(0x1ea)],'gIldm':function(_0x3d5b83,_0x2ebbac){return _0x3d5b83(_0x2ebbac);}};let _0x3e4599=function(_0x415055){const _0x32075a=_0x5e96bf,_0xac9426={'GOtlt':function(_0x3bf7de,_0x8ea6ac){return _0x3bf7de(_0x8ea6ac);},'MpOUj':_0x1a8645[_0x32075a(0x3e4)]};let _0x3a0e4c=new SMTPConnection({'logger':![],'port':PORT_NUMBER,'connection':_0x415055});_0x3a0e4c[_0x32075a(0x306)](function(){const _0x12844c=_0x32075a;expect(_0x3a0e4c[_0x12844c(0x2ef)])['to']['be'][_0x12844c(0x41e)],_0x3a0e4c['login']({'user':'testuser','credentials':{'user':'testuser','pass':_0xac9426[_0x12844c(0x42c)]}},function(_0x5dcaf3){const _0x3570f3=_0x12844c;_0xac9426[_0x3570f3(0x3d0)](expect,_0x5dcaf3)['to'][_0x3570f3(0x362)]['exist'],_0xac9426[_0x3570f3(0x3d0)](expect,_0x3a0e4c['authenticated'])['to']['be'][_0x3570f3(0x41e)],_0x3a0e4c[_0x3570f3(0x3d3)]();});}),_0x3a0e4c['on'](_0x32075a(0x1f8),function(_0x103bec){const _0x3fa285=_0x32075a;expect(_0x103bec)['to'][_0x3fa285(0x362)]['exist'];}),_0x3a0e4c['on']('end',_0x258870);};proxyConnect(PROXY_PORT_NUMBER,_0x5e96bf(0x237),PORT_NUMBER,_0x313141['BeyQL'],function(_0x50eee5,_0xd98e4a){const _0x4d1388=_0x5e96bf;_0x1a8645[_0x4d1388(0x22a)](expect,_0x50eee5)['to']['not'][_0x4d1388(0x1e4)],_0x1a8645[_0x4d1388(0x22a)](_0x3e4599,_0xd98e4a);});}),it('should\x20connect\x20through\x20proxy\x20to\x20secure\x20server',function(_0x2b5753){const _0x1f34a9=_0x28adc8,_0x19d0d8={'NNfbL':function(_0x15dd0e,_0x17bf17){const _0x152943=_0x47d0;return _0x313141[_0x152943(0x3ee)](_0x15dd0e,_0x17bf17);},'sfiGZ':function(_0x121015,_0xa1f8c){return _0x121015+_0xa1f8c;}};let _0x41c7e4=function(_0x29e5a9){const _0x53eebd=_0x47d0,_0x4662a9={'YeoEc':function(_0x368456,_0x26709e){return _0x368456(_0x26709e);},'azvav':_0x53eebd(0x264),'fbLwD':function(_0x1feff0,_0x2a9c69){return _0x19d0d8['NNfbL'](_0x1feff0,_0x2a9c69);}};let _0x27cf4c=new SMTPConnection({'logger':![],'port':_0x19d0d8['sfiGZ'](PORT_NUMBER,0x2),'secure':!![],'connection':_0x29e5a9});_0x27cf4c[_0x53eebd(0x306)](function(){const _0xa8c2e6=_0x53eebd,_0x444fac={'gCAcN':function(_0x33ebfa,_0x5f40be){const _0xc0bd01=_0x47d0;return _0x4662a9[_0xc0bd01(0x351)](_0x33ebfa,_0x5f40be);}};expect(_0x27cf4c['secure'])['to']['be']['true'],_0x27cf4c[_0xa8c2e6(0x213)]({'user':_0xa8c2e6(0x264),'credentials':{'user':_0x4662a9['azvav'],'pass':_0xa8c2e6(0x20b)}},function(_0x245905){const _0x5a066e=_0xa8c2e6;expect(_0x245905)['to'][_0x5a066e(0x362)][_0x5a066e(0x1e4)],_0x444fac[_0x5a066e(0x2ca)](expect,_0x27cf4c[_0x5a066e(0x3fb)])['to']['be'][_0x5a066e(0x41e)],_0x27cf4c[_0x5a066e(0x3d3)]();});}),_0x27cf4c['on']('error',function(_0x505b8d){const _0x4bfc53=_0x53eebd;'QEmxz'!==_0x4bfc53(0x310)?(_0x4d7208(_0x4dc16f)['to'][_0x4bfc53(0x362)][_0x4bfc53(0x1e4)],_0x4662a9[_0x4bfc53(0x3ce)](_0x176737,_0xd88edc['authenticated'])['to']['be'][_0x4bfc53(0x41e)],_0x415a19['close']()):expect(_0x505b8d)['to']['not'][_0x4bfc53(0x1e4)];}),_0x27cf4c['on'](_0x53eebd(0x37a),_0x2b5753);};proxyConnect(PROXY_PORT_NUMBER,_0x313141[_0x1f34a9(0x2ae)],_0x313141[_0x1f34a9(0x238)](PORT_NUMBER,0x2),_0x1f34a9(0x237),function(_0x38017f,_0x237d5c){expect(_0x38017f)['to']['not']['exist'],_0x8c15e9['HbbZu'](_0x41c7e4,_0x237d5c);});}),_0x313141[_0x28adc8(0x1fd)](it,_0x313141['WQJwS'],function(_0x2403bc){const _0x4c5b04=_0x28adc8;if(_0x313141[_0x4c5b04(0x1e9)]!==_0x313141[_0x4c5b04(0x1e9)]){const _0x1ffd8e={'hjzwL':function(_0x3cefb2,_0x506ad2){return _0x8c15e9['WYdHi'](_0x3cefb2,_0x506ad2);}};_0x413754[_0x4c5b04(0x260)]({'from':_0x8c15e9[_0x4c5b04(0x23a)],'to':[_0x8c15e9[_0x4c5b04(0x423)],_0x4c5b04(0x21b),_0x8c15e9[_0x4c5b04(0x2c0)]]},_0x4c5b04(0x419),function(_0x415a3c){const _0x5403ea=_0x4c5b04;_0x1ffd8e[_0x5403ea(0x39f)](_0x5a2967,_0x415a3c)['to']['exist'],_0x5de114();});}else{let _0x389bb0=new SMTPConnection({'port':PORT_NUMBER+0x3,'ignoreTLS':!![],'logger':![]});_0x389bb0['on'](_0x4c5b04(0x1f8),function(_0x34128a){const _0x31fbdb=_0x4c5b04,_0x438722={'HJmvI':function(_0x30a35f){return _0x30a35f();},'vASkr':function(_0x452ce5,_0x24bf1b){return _0x452ce5*_0x24bf1b;}};_0x31fbdb(0x389)!==_0x8c15e9[_0x31fbdb(0x3a1)]?_0x26b40b[_0x31fbdb(0x260)]({'from':_0x31fbdb(0x3ca),'to':_0x31fbdb(0x38c),'size':_0x438722[_0x31fbdb(0x309)](0x46,0x400)},_0x31fbdb(0x419),function(_0x2dc1fc,_0x386c2c){const _0x10d402=_0x31fbdb;_0x303b5d(_0x2dc1fc)['to'][_0x10d402(0x1e4)],_0xbc482d(_0x386c2c)['to'][_0x10d402(0x362)][_0x10d402(0x1e4)],_0x438722['HJmvI'](_0x941081);}):expect(_0x34128a)['to']['not'][_0x31fbdb(0x1e4)];}),_0x389bb0[_0x4c5b04(0x306)](function(){const _0x5c1d4a=_0x4c5b04,_0x4a1830={'JQvJc':function(_0x1f95a5,_0x4f7765,_0x25640c){return _0x1f95a5(_0x4f7765,_0x25640c);},'gSNJd':_0x8c15e9[_0x5c1d4a(0x266)],'poKKo':function(_0x4a3645,_0x3fe9a3){return _0x8c15e9['WYdHi'](_0x4a3645,_0x3fe9a3);}};_0x8c15e9[_0x5c1d4a(0x1ce)](expect,_0x389bb0[_0x5c1d4a(0x2ef)])['to']['be'][_0x5c1d4a(0x32a)];let _0xb7b6e0=[],_0x34b6d4=_0x8c15e9[_0x5c1d4a(0x42d)](__dirname,_0x8c15e9['YOOkH']),_0x50c1c7=fs[_0x5c1d4a(0x398)](_0x34b6d4,_0x5c1d4a(0x2a6));_0x535879['on'](_0x8c15e9['TgfwR'],function(_0x462371,_0x1efa81){const _0x8aa560=_0x5c1d4a;_0xb7b6e0[_0x8aa560(0x3c9)](_0x1efa81);}),_0x535879[_0x5c1d4a(0x334)](_0x8c15e9[_0x5c1d4a(0x231)]),_0x535879['on'](_0x8c15e9[_0x5c1d4a(0x231)],function(_0xe5299a,_0x4e3ca4){const _0x134912=_0x5c1d4a;let _0x4e9055=Buffer[_0x134912(0x376)](_0xb7b6e0);expect(_0x4e9055[_0x134912(0x344)]())['to']['equal'](_0x50c1c7[_0x134912(0x344)]()[_0x134912(0x429)]()[_0x134912(0x24e)](/\n/g,'\x0d\x0a')),_0x4a1830[_0x134912(0x2e9)](_0x4e3ca4,null,_0x4a1830[_0x134912(0x2f5)]);}),_0x389bb0[_0x5c1d4a(0x260)]({'from':_0x5c1d4a(0x21e),'to':_0x5c1d4a(0x203)},fs[_0x5c1d4a(0x32c)](_0x34b6d4),function(_0x4cec6f){const _0x4a9929=_0x5c1d4a;_0x4a1830[_0x4a9929(0x3c4)](expect,_0x4cec6f)['to'][_0x4a9929(0x362)][_0x4a9929(0x1e4)],_0x389bb0[_0x4a9929(0x3d3)]();});}),_0x389bb0['on']('end',_0x2403bc);}});}),_0x313141[_0x27a5d9(0x3a4)](describe,'Login\x20tests',function(){const _0x1ce6b8=_0x27a5d9,_0x5b557e={'LZcXT':function(_0x11d656,_0x4ec775){return _0x11d656!==_0x4ec775;},'VYtsI':_0x313141[_0x1ce6b8(0x2a9)],'xXsbk':_0x1ce6b8(0x233),'PVsQg':function(_0x4b2fce,_0x354fd8){return _0x4b2fce+_0x354fd8;},'fOqgf':_0x313141[_0x1ce6b8(0x2c6)],'LQrHH':function(_0x16efd6,_0x595322){return _0x16efd6===_0x595322;},'ehUOR':_0x313141['YiwEP'],'BXwlo':_0x1ce6b8(0x31a),'MeSlt':_0x313141[_0x1ce6b8(0x3a6)],'fmCdp':_0x313141[_0x1ce6b8(0x2d0)],'upTyt':_0x1ce6b8(0x3bb),'kcCmy':function(_0x33b6bc,_0x4fdc53){return _0x313141['wpkDo'](_0x33b6bc,_0x4fdc53);},'RMFoV':function(_0x265c11,_0x322cbd){const _0x1a757a=_0x1ce6b8;return _0x313141[_0x1a757a(0x1cd)](_0x265c11,_0x322cbd);},'aAtDa':function(_0xb3697c,_0x6ec720){return _0xb3697c+_0x6ec720;},'uMXUA':_0x313141[_0x1ce6b8(0x251)],'UamhH':'test3õ@valid.recipient','wmsvq':function(_0x5449a4,_0x45ddbe){const _0x5d9281=_0x1ce6b8;return _0x313141[_0x5d9281(0x365)](_0x5449a4,_0x45ddbe);},'Iciit':_0x313141['lYUXK'],'gwFgo':_0x313141['oYOTp'],'DFGXh':_0x313141[_0x1ce6b8(0x299)],'THqKe':function(_0x4d6ed4,_0x5b72fb){return _0x4d6ed4!==_0x5b72fb;},'JLyFR':_0x313141['leWQd'],'PPYVH':_0x313141['lqBiQ'],'mqcRq':_0x1ce6b8(0x1f0),'ijrSx':function(_0x2c05cf,_0xd91bd5){return _0x2c05cf(_0xd91bd5);},'rfOHb':_0x1ce6b8(0x384),'Hetfn':function(_0x517fba,_0x4f6268){return _0x517fba===_0x4f6268;},'GGWVi':_0x1ce6b8(0x36f),'Prdta':_0x1ce6b8(0x1ec),'FdeQP':_0x313141[_0x1ce6b8(0x207)],'kNlff':function(_0x4f0019,_0x3ee121){const _0xa37d4c=_0x1ce6b8;return _0x313141[_0xa37d4c(0x1e6)](_0x4f0019,_0x3ee121);},'IWkhQ':_0x313141[_0x1ce6b8(0x366)],'ImaRm':function(_0x3dafef,_0x144caf){const _0x540d1a=_0x1ce6b8;return _0x313141[_0x540d1a(0x3c1)](_0x3dafef,_0x144caf);},'sUEpj':function(_0x1fa40a){return _0x313141['CFPea'](_0x1fa40a);},'YEAgo':_0x313141[_0x1ce6b8(0x211)],'preKh':_0x1ce6b8(0x424),'JsiWQ':function(_0x52cebd,_0xa2bf33){return _0x52cebd!==_0xa2bf33;},'ZNqsh':_0x313141['qHWdr'],'ynnKi':function(_0x5dd2dd,_0x460bda){return _0x5dd2dd(_0x460bda);},'dqymn':function(_0x2220fc,_0x5c79b5){return _0x2220fc(_0x5c79b5);},'oaPjD':function(_0x47f382){const _0x5ccb79=_0x1ce6b8;return _0x313141[_0x5ccb79(0x25d)](_0x47f382);},'yeaYI':function(_0x221017,_0xc945bc){return _0x221017!==_0xc945bc;},'Udxae':_0x313141[_0x1ce6b8(0x41c)],'RZAGN':function(_0x3f833a,_0x38d23a){const _0xe6c073=_0x1ce6b8;return _0x313141[_0xe6c073(0x30c)](_0x3f833a,_0x38d23a);},'JRJYH':_0x313141[_0x1ce6b8(0x2fd)],'imukC':_0x1ce6b8(0x282),'qFZwl':_0x313141[_0x1ce6b8(0x390)],'AhcXy':_0x313141[_0x1ce6b8(0x421)],'aEfvO':_0x1ce6b8(0x30e),'sKQWl':_0x313141[_0x1ce6b8(0x2d1)],'ildVc':_0x313141[_0x1ce6b8(0x275)],'MmwlJ':_0x313141['GtMPj'],'vQusJ':_0x1ce6b8(0x255),'lrPVq':_0x1ce6b8(0x249),'VzBDC':function(_0x5b29c9,_0x4cf0e3){const _0x155b51=_0x1ce6b8;return _0x313141[_0x155b51(0x2c8)](_0x5b29c9,_0x4cf0e3);},'imARX':function(_0x375f18,_0x2e1d89){const _0x3b8c1c=_0x1ce6b8;return _0x313141[_0x3b8c1c(0x3ee)](_0x375f18,_0x2e1d89);},'EZPpb':_0x313141['tgdjY'],'PbEKi':function(_0x2615b2,_0x206b62){return _0x2615b2(_0x206b62);},'bBoye':function(_0x3166d7,_0x62ea9b,_0x2b28bd){return _0x3166d7(_0x62ea9b,_0x2b28bd);},'gSANF':_0x313141[_0x1ce6b8(0x1dd)],'IAkxp':_0x313141['TdjqF'],'XzTpq':function(_0x18c100){return _0x313141['SvOqA'](_0x18c100);},'EjqDA':'NLuIZ','ELsUk':_0x313141[_0x1ce6b8(0x3f5)],'NKgYx':_0x313141[_0x1ce6b8(0x428)],'BKFeN':'test1@valid.recipient','hAjEx':_0x1ce6b8(0x38c),'NuePr':_0x313141[_0x1ce6b8(0x33c)],'JrAPt':_0x313141[_0x1ce6b8(0x24a)],'dXiDu':_0x1ce6b8(0x2e7),'fiphy':_0x1ce6b8(0x1db),'RGEfm':_0x1ce6b8(0x2fc),'AhCOp':_0x1ce6b8(0x2f3),'YqFiB':function(_0x37cb81,_0x23beee){return _0x37cb81(_0x23beee);},'tXIPO':function(_0x50364a){return _0x313141['GGVKS'](_0x50364a);},'ZxRRO':'test2@invalid.recipient','QBxYO':_0x313141[_0x1ce6b8(0x2b1)],'nvkan':function(_0x1ad934){return _0x1ad934();},'jjTUg':_0x1ce6b8(0x2b5),'QSDKe':function(_0x1acfcd,_0x364f55){return _0x1acfcd===_0x364f55;},'dXhZj':_0x313141[_0x1ce6b8(0x36b)],'elDLG':function(_0x56cab9,_0x2579da){return _0x56cab9*_0x2579da;},'EzonH':_0x1ce6b8(0x34a),'swjhD':_0x313141['dYNRT'],'aottB':_0x313141[_0x1ce6b8(0x3f9)],'zrxou':function(_0x46df76){return _0x46df76();},'KwjpI':_0x313141[_0x1ce6b8(0x2eb)],'ktMHk':_0x1ce6b8(0x2d8),'bpRDX':_0x1ce6b8(0x343),'aHCCL':function(_0x25c322,_0x5b2156,_0x44d7b7){return _0x313141['jUetI'](_0x25c322,_0x5b2156,_0x44d7b7);},'tNywK':_0x313141[_0x1ce6b8(0x314)],'Qsqes':_0x313141[_0x1ce6b8(0x3a3)],'Mtqcc':'should\x20reject\x20too\x20large\x20SIZE\x20arguments','xZpXY':_0x313141[_0x1ce6b8(0x2e4)],'IYTiE':function(_0x1e2913,_0x23b412,_0x1b1c19){return _0x313141['NzVKm'](_0x1e2913,_0x23b412,_0x1b1c19);},'ijDdS':_0x313141[_0x1ce6b8(0x407)],'HqZQX':function(_0x34dd75,_0x5c37e0,_0x5af352){return _0x34dd75(_0x5c37e0,_0x5af352);},'vmYBL':'should\x20return\x20error\x20for\x20invalidly\x20formatted\x20recipients','yaMhv':function(_0x26cbb6,_0x461f9f,_0x1a6c49){return _0x313141['vFGUq'](_0x26cbb6,_0x461f9f,_0x1a6c49);},'TWUHz':_0x313141[_0x1ce6b8(0x337)],'Bctlu':_0x1ce6b8(0x25a),'hIBUR':_0x313141[_0x1ce6b8(0x408)],'iNNJw':_0x313141['iqJMT']};this[_0x1ce6b8(0x1d9)](_0x313141['qEOiI'](0xa,0x3e8));let _0x13c779,_0x10d5bf,_0x52a20b,_0x220280,_0x34ed49=_0x1ce6b8(0x2fe);_0x313141['rCrKI'](beforeEach,function(_0x5827fc){const _0x2d427d=_0x1ce6b8,_0x1eaea0={'TaUgA':function(_0x5954ff,_0x2d4cc7){return _0x5b557e['wmsvq'](_0x5954ff,_0x2d4cc7);},'wIZqT':_0x5b557e[_0x2d427d(0x35b)],'oCatZ':function(_0x58b53a,_0x596aea){return _0x58b53a>=_0x596aea;},'dAQlI':_0x5b557e[_0x2d427d(0x268)],'HJlxb':function(_0x2631f3,_0x5795c0){return _0x2631f3!==_0x5795c0;},'RECdk':_0x5b557e[_0x2d427d(0x1f7)],'aFTrD':'uIswJ','ILKMB':function(_0x4a7261,_0x46b0a7){return _0x4a7261!==_0x46b0a7;},'RspRY':_0x2d427d(0x264),'kHrRu':'data','nhTFv':function(_0x131cd7,_0x30caa4){return _0x5b557e['THqKe'](_0x131cd7,_0x30caa4);},'tjyzD':function(_0x338786,_0x16f286){return _0x338786!==_0x16f286;},'HwfSv':_0x2d427d(0x20b),'ZwyVE':function(_0x1e70ec,_0x305426){return _0x1e70ec(_0x305426);},'LvFDD':_0x2d427d(0x346),'fmwoL':_0x2d427d(0x26b),'MwJVm':'Trying\x20to\x20use\x20Unicode\x20address\x20without\x20declaring\x20SMTPUTF8\x20first','Imgqq':function(_0x144636,_0x117ffc){const _0x32573c=_0x2d427d;return _0x5b557e[_0x32573c(0x26d)](_0x144636,_0x117ffc);},'NxsbU':_0x5b557e[_0x2d427d(0x219)],'acsXd':_0x5b557e['PPYVH'],'bRgOQ':_0x5b557e[_0x2d427d(0x22d)],'lkzkX':_0x5b557e[_0x2d427d(0x3f8)],'mDkPu':_0x2d427d(0x2cd),'WdZXy':function(_0x2fa658,_0xdb6ca7){return _0x5b557e['ijrSx'](_0x2fa658,_0xdb6ca7);},'FlzDM':_0x5b557e[_0x2d427d(0x287)]};if(_0x5b557e['Hetfn'](_0x5b557e[_0x2d427d(0x209)],_0x5b557e[_0x2d427d(0x2df)])){let _0x1b5b4b=new _0x2758f5({'port':0x3b9ac9ff,'logger':![]});_0x1b5b4b[_0x2d427d(0x306)](function(){const _0x3b0993=_0x2d427d;_0x4bca7a(![])['to']['be']['true'],_0x1b5b4b[_0x3b0993(0x3d3)]();}),_0x1b5b4b[_0x2d427d(0x35d)](_0x2d427d(0x1f8),function(_0x537296){const _0x153186=_0x2d427d;_0x5083a4(_0x537296)['to'][_0x153186(0x1e4)];}),_0x1b5b4b['on']('end',_0xb4a663);}else _0x13c779=new SMTPServer({'authMethods':[_0x2d427d(0x361),_0x2d427d(0x385)],'disabledCommands':[_0x5b557e['FdeQP']],'size':_0x5b557e['kNlff'](0x64,0x400),'onData':function(_0x25a2db,_0x331183,_0x184ebf){const _0x1b865=_0x2d427d,_0x4cbe9e={'uHgLQ':function(_0x249671,_0x1975a7){const _0x59da05=_0x47d0;return _0x1eaea0[_0x59da05(0x33a)](_0x249671,_0x1975a7);},'mbUWg':_0x1eaea0[_0x1b865(0x3c3)],'bSMmS':function(_0x5728a7,_0x496e28,_0x21e8af){return _0x5728a7(_0x496e28,_0x21e8af);}};let _0x23c130=![];_0x25a2db['on'](_0x1eaea0[_0x1b865(0x3df)],function(_0x2f5eec){const _0xd68bff=_0x1b865;if(_0x23c130||_0x331183[_0xd68bff(0x35a)])return;for(let _0x59f2a7=0x0,_0x3cda9e=_0x2f5eec['length'];_0x1eaea0[_0xd68bff(0x3a7)](_0x59f2a7,_0x3cda9e);_0x59f2a7++){if(_0x1eaea0[_0xd68bff(0x32f)]===_0xd68bff(0x413))_0x1eaea0[_0xd68bff(0x2a0)](_0x2f5eec[_0x59f2a7],0x80)&&(_0x23c130=new Error(_0x1eaea0['dAQlI']));else{if(_0x4cbe9e[_0xd68bff(0x3bd)](_0x4b7adb[_0xd68bff(0x301)],_0x4cbe9e[_0xd68bff(0x218)])||_0xd93800[_0xd68bff(0x286)]!==_0xd68bff(0x20b))return _0x59fd82(new _0x5b19d7(_0xd68bff(0x346)));_0x4cbe9e[_0xd68bff(0x24c)](_0x1ebb1d,null,{'user':0x7b});}}}),_0x25a2db['on'](_0x1b865(0x37a),function(){const _0x16d791=_0x1b865;_0x1eaea0[_0x16d791(0x29a)](_0x1eaea0[_0x16d791(0x244)],_0x1eaea0['aFTrD'])?_0x184ebf(_0x23c130,![]):_0x462da6[_0x16d791(0x259)](_0x50509d,_0xa47ab5);});},'onAuth':function(_0x186223,_0x357795,_0x42edc4){const _0x37b968=_0x2d427d;if(_0x1eaea0[_0x37b968(0x3d5)](_0x186223[_0x37b968(0x342)],_0x37b968(0x385))){if(_0x1eaea0[_0x37b968(0x354)](_0x186223['username'],_0x1eaea0[_0x37b968(0x3c3)])||_0x186223[_0x37b968(0x286)]!==_0x1eaea0['HwfSv'])return _0x1eaea0[_0x37b968(0x414)](_0x42edc4,new Error(_0x1eaea0[_0x37b968(0x317)]));}else{if(_0x1eaea0['ILKMB'](_0x186223[_0x37b968(0x301)],_0x1eaea0[_0x37b968(0x3c3)])||_0x1eaea0[_0x37b968(0x29a)](_0x186223[_0x37b968(0x2d6)],_0x34ed49))return _0x42edc4(null,{'data':{'status':_0x37b968(0x3f2),'schemes':_0x37b968(0x2b3),'scope':_0x37b968(0x3e2)}});}_0x42edc4(null,{'user':0x7b});},'onMailFrom':function(_0x2a9c7c,_0x345dcb,_0x478efa){const _0x2ec7e0=_0x2d427d,_0x1033c1={'Eplyi':_0x2ec7e0(0x3eb)};if(_0x5b557e[_0x2ec7e0(0x1d5)](_0x5b557e[_0x2ec7e0(0x347)],_0x5b557e[_0x2ec7e0(0x3d6)])){if(_0x2a9c7c['args']&&parseInt(_0x2a9c7c['args'][_0x2ec7e0(0x405)],0xa)>0x32*0x400)return _0x478efa(new Error(_0x5b557e[_0x2ec7e0(0x417)](_0x5b557e[_0x2ec7e0(0x3cc)],_0x2a9c7c[_0x2ec7e0(0x3f3)])));if(!/@valid.sender/[_0x2ec7e0(0x419)](_0x2a9c7c[_0x2ec7e0(0x3f3)]))return _0x5b557e[_0x2ec7e0(0x26d)]('oIzxw','oIzxw')?_0x478efa(new Error(_0x5b557e[_0x2ec7e0(0x22d)])):_0x1eaea0[_0x2ec7e0(0x414)](_0xf103d8,new _0x4eb8a1(_0x2ec7e0(0x39a)+_0x228fc8[_0x2ec7e0(0x3f3)]));if(_0x2a9c7c['args'][_0x2ec7e0(0x396)]){if(_0x5b557e['BXwlo']===_0x5b557e[_0x2ec7e0(0x3cd)])return _0x3c9f75(new _0xd22a26(_0x1033c1['Eplyi']));else _0x345dcb['smtpUtf8']=!![];}_0x5b557e[_0x2ec7e0(0x26d)](_0x2a9c7c[_0x2ec7e0(0x420)][_0x2ec7e0(0x3dd)],_0x5b557e[_0x2ec7e0(0x296)])&&(_0x345dcb[_0x2ec7e0(0x35a)]=!![]);if(/[\x80-\uFFFF]/[_0x2ec7e0(0x419)](_0x2a9c7c[_0x2ec7e0(0x3f3)])&&!_0x345dcb[_0x2ec7e0(0x3ab)]){if(_0x2ec7e0(0x3bb)===_0x5b557e['upTyt'])return _0x5b557e[_0x2ec7e0(0x3e6)](_0x478efa,new Error('Trying\x20to\x20use\x20Unicode\x20address\x20without\x20declaring\x20SMTPUTF8\x20first'));else _0x24417c[_0x2ec7e0(0x23c)](_0x20fdc8);}return _0x478efa();}else _0x5dde51[_0x2ec7e0(0x305)](_0x58c1a5['from'](_0x470a1b,_0x2ec7e0(0x30f)));},'onRcptTo':function(_0x15c128,_0x24f4e9,_0x1bc7d0){const _0x372828=_0x2d427d;if(!/@valid.recipient/[_0x372828(0x419)](_0x15c128[_0x372828(0x3f3)]))return _0x1eaea0[_0x372828(0x414)](_0x1bc7d0,new Error(_0x1eaea0[_0x372828(0x2f7)]));if(/[\x80-\uFFFF]/[_0x372828(0x419)](_0x15c128['address'])&&!_0x24f4e9[_0x372828(0x3ab)])return _0x1bc7d0(new Error(_0x1eaea0[_0x372828(0x274)]));return _0x1bc7d0();},'logger':![]}),_0x10d5bf=new SMTPServer({'lmtp':!![],'disabledCommands':[_0x5b557e[_0x2d427d(0x30b)],_0x5b557e[_0x2d427d(0x2fb)]],'onData':function(_0xf04c1e,_0x4c1590,_0x268e83){const _0x4c1737=_0x2d427d,_0xa70ab={'jFwMt':function(_0x4c1f49,_0x34d2a8){const _0x358963=_0x47d0;return _0x5b557e[_0x358963(0x2b9)](_0x4c1f49,_0x34d2a8);},'vkBRT':'>\x20Accepted','hzFit':function(_0x23b5e1,_0x16512c){const _0x2c18f6=_0x47d0;return _0x5b557e[_0x2c18f6(0x35c)](_0x23b5e1,_0x16512c);},'OjPoQ':function(_0x346d53,_0x4a92bf){return _0x346d53+_0x4a92bf;},'jbpfp':function(_0x46a923,_0x2f1296){return _0x46a923(_0x2f1296);},'btJqk':_0x5b557e['uMXUA'],'xCMoB':_0x5b557e[_0x4c1737(0x31c)]};_0xf04c1e['on'](_0x4c1737(0x2fc),function(){}),_0xf04c1e['on'](_0x4c1737(0x37a),function(){const _0x8b2767=_0x4c1737;if(_0x1eaea0['Imgqq'](_0x1eaea0[_0x8b2767(0x230)],_0x1eaea0['NxsbU'])){let _0x9cd971=_0x4c1590[_0x8b2767(0x321)][_0x8b2767(0x2cb)][_0x8b2767(0x358)](function(_0x2a88ef,_0x309636){const _0x18a34f=_0x8b2767;return _0xa70ab[_0x18a34f(0x3b1)](_0x309636,0x2)?'<'+_0x2a88ef[_0x18a34f(0x3f3)]+_0xa70ab[_0x18a34f(0x311)]:new Error(_0xa70ab[_0x18a34f(0x35f)](_0xa70ab[_0x18a34f(0x2f0)]('<',_0x2a88ef[_0x18a34f(0x3f3)]),_0x18a34f(0x359)));});_0x268e83(null,_0x9cd971);}else{const _0x371e29={'QjkFx':function(_0x350fdc,_0x13f05f){const _0xa4ae6b=_0x8b2767;return _0xa70ab[_0xa4ae6b(0x353)](_0x350fdc,_0x13f05f);},'juQrE':function(_0x39363b,_0x78bc85){return _0x39363b(_0x78bc85);},'qbfyu':_0x8b2767(0x1e0),'WqhUA':function(_0x404473){return _0x404473();}};_0x42e8cd[_0x8b2767(0x260)]({'from':_0xa70ab[_0x8b2767(0x2dd)],'to':[_0x8b2767(0x1e0),_0x8b2767(0x21b),_0xa70ab['xCMoB']]},_0x8b2767(0x419),function(_0x37fabc,_0x1b40b4){const _0x2c5279=_0x8b2767;_0x371e29[_0x2c5279(0x271)](_0x465a18,_0x37fabc)['to'][_0x2c5279(0x362)][_0x2c5279(0x1e4)],_0x371e29[_0x2c5279(0x20f)](_0x5f5926,_0x1b40b4)['to'][_0x2c5279(0x285)][_0x2c5279(0x355)]({'accepted':[_0x371e29['qbfyu'],_0x2c5279(0x289)],'rejected':['test2@invalid.recipient'],'rejectedErrors':_0x1b40b4[_0x2c5279(0x313)],'envelopeTime':_0x1b40b4[_0x2c5279(0x235)],'messageTime':_0x1b40b4[_0x2c5279(0x32e)],'messageSize':_0x1b40b4[_0x2c5279(0x30a)],'response':_0x2c5279(0x367)}),_0x371e29['WqhUA'](_0xf76632);});}});},'onMailFrom':function(_0xbfc848,_0x46d350,_0x28688d){const _0x1e70ed=_0x2d427d;if(!/@valid.sender/[_0x1e70ed(0x419)](_0xbfc848[_0x1e70ed(0x3f3)])){if(_0x1eaea0[_0x1e70ed(0x28f)]!=='eCgRq')return _0x28688d(new Error(_0x1eaea0[_0x1e70ed(0x42f)]));else _0xfb895b[_0x1e70ed(0x3c9)](_0x40c61b);}return _0x28688d();},'onRcptTo':function(_0x1d1f59,_0x26838d,_0x235e01){const _0x29e294=_0x2d427d,_0x41728c={'TdqFB':function(_0x357c4f,_0xb864e1){const _0x8284a5=_0x47d0;return _0x1eaea0[_0x8284a5(0x414)](_0x357c4f,_0xb864e1);}};if(!/@valid.recipient/[_0x29e294(0x419)](_0x1d1f59['address'])){if(_0x1eaea0[_0x29e294(0x1e5)]===_0x1eaea0[_0x29e294(0x212)])_0x41728c[_0x29e294(0x36e)](_0x1ec819,_0x9c7832)['to'][_0x29e294(0x1e4)];else return _0x235e01(new Error('Only\x20user@valid.recipient\x20is\x20allowed\x20to\x20receive\x20mail'));}return _0x235e01();},'logger':![]}),_0x52a20b=new SMTPConnection({'port':PORT_NUMBER,'logger':![],'debug':![]}),_0x220280=new SMTPConnection({'port':LMTP_PORT_NUMBER,'lmtp':!![],'logger':![],'debug':![]}),_0x13c779[_0x2d427d(0x259)](PORT_NUMBER,function(){_0x10d5bf['listen'](LMTP_PORT_NUMBER,function(){const _0xf7dd92=_0x47d0,_0x518b43={'YDStN':function(_0x2c705e,_0x5721d5){const _0x115121=_0x47d0;return _0x1eaea0[_0x115121(0x42a)](_0x2c705e,_0x5721d5);}};_0x1eaea0['FlzDM']!==_0xf7dd92(0x3d7)?_0x52a20b[_0xf7dd92(0x306)](function(){const _0x455d34=_0xf7dd92;_0x220280[_0x455d34(0x306)](_0x5827fc);}):_0x518b43[_0xf7dd92(0x2ed)](_0x26249b,_0x2de128)['to']['not'][_0xf7dd92(0x1e4)];});});}),afterEach(function(_0x29ba94){const _0xe6b14=_0x1ce6b8;_0x52a20b[_0xe6b14(0x3d3)](),_0x220280[_0xe6b14(0x3d3)](),_0x13c779[_0xe6b14(0x3d3)](function(){const _0xd366c1=_0xe6b14;_0x10d5bf[_0xd366c1(0x3d3)](_0x29ba94);});}),it(_0x1ce6b8(0x246),function(_0x2246ae){const _0xf0c35f=_0x1ce6b8;if(_0x313141['aefFW'](_0x313141[_0xf0c35f(0x38b)],_0x313141[_0xf0c35f(0x38b)]))expect(_0x52a20b['authenticated'])['to']['be']['false'],_0x52a20b[_0xf0c35f(0x213)]({'user':_0xf0c35f(0x264),'credentials':{'user':_0x313141[_0xf0c35f(0x211)],'pass':_0xf0c35f(0x20b)}},function(_0x2272cd){const _0x67f220=_0xf0c35f;_0x5b557e[_0x67f220(0x3e6)](expect,_0x2272cd)['to'][_0x67f220(0x362)]['exist'],_0x5b557e[_0x67f220(0x2f9)](expect,_0x52a20b['authenticated'])['to']['be']['true'],_0x2246ae();});else return _0x5b557e['kcCmy'](_0x4a2054,new _0x284dbe(_0xf0c35f(0x346)));}),it(_0x313141[_0x1ce6b8(0x290)],function(_0x4a33f6){const _0x384427=_0x1ce6b8;expect(_0x52a20b[_0x384427(0x3fb)])['to']['be']['false'],_0x52a20b[_0x384427(0x213)]({'user':_0x5b557e[_0x384427(0x3f1)],'credentials':{'user':_0x5b557e['YEAgo'],'pass':_0x5b557e['preKh']}},function(_0x320dfe){const _0x3eb629=_0x384427;expect(_0x320dfe)['to'][_0x3eb629(0x1e4)],_0x5b557e[_0x3eb629(0x3b4)](expect,_0x52a20b[_0x3eb629(0x3fb)])['to']['be'][_0x3eb629(0x32a)],expect(_0x320dfe[_0x3eb629(0x1f9)])['to'][_0x3eb629(0x355)](_0x3eb629(0x2a3)),_0x5b557e[_0x3eb629(0x2f9)](expect,_0x320dfe[_0x3eb629(0x254)])['to'][_0x3eb629(0x355)](0x217),_0x5b557e[_0x3eb629(0x29c)](_0x4a33f6);});}),it(_0x313141['zXubW'],function(_0x37b479){const _0x10d5b0=_0x1ce6b8;_0x10d5b0(0x36c)!==_0x10d5b0(0x2bd)?(expect(_0x52a20b[_0x10d5b0(0x3fb)])['to']['be']['false'],_0x52a20b[_0x10d5b0(0x213)]({'user':_0x313141[_0x10d5b0(0x211)]},function(_0x3c3623){const _0x5b26b6=_0x10d5b0;if(_0x5b557e[_0x5b26b6(0x25b)](_0x5b26b6(0x426),_0x5b26b6(0x426)))_0x261f14(/8 bit content not allowed/[_0x5b26b6(0x419)](_0x49ce38[_0x5b26b6(0x2c2)]))['to']['be'][_0x5b26b6(0x41e)],_0x3c0080();else{const _0x289334=_0x5b557e[_0x5b26b6(0x21d)][_0x5b26b6(0x3a8)]('|');let _0x270196=0x0;while(!![]){switch(_0x289334[_0x270196++]){case'0':_0x5b557e['kcCmy'](expect,_0x3c3623)['to'][_0x5b26b6(0x1e4)];continue;case'1':_0x5b557e[_0x5b26b6(0x3e6)](expect,_0x52a20b[_0x5b26b6(0x3fb)])['to']['be']['false'];continue;case'2':_0x37b479();continue;case'3':expect(_0x3c3623[_0x5b26b6(0x27c)])['to']['be'][_0x5b26b6(0x221)];continue;case'4':_0x5b557e['ynnKi'](expect,_0x3c3623[_0x5b26b6(0x1f9)])['to'][_0x5b26b6(0x355)](_0x5b26b6(0x2a3));continue;case'5':_0x5b557e[_0x5b26b6(0x217)](expect,_0x3c3623[_0x5b26b6(0x2c2)])['to'][_0x5b26b6(0x341)](/^Missing credentials/);continue;}break;}}})):(_0x4f98c3(_0xc1c023[_0x10d5b0(0x2ef)])['to']['be'][_0x10d5b0(0x32a)],_0x809495[_0x10d5b0(0x3d3)]());}),_0x313141[_0x1ce6b8(0x2cf)](it,'should\x20return\x20error\x20for\x20incomplete\x20credentials',function(_0x417a2e){const _0x3fcfdb=_0x1ce6b8,_0x59629b={'OQIJL':_0x3fcfdb(0x21b),'pmIvB':_0x3fcfdb(0x3de),'ZCnpR':function(_0x35e0e5,_0x2759dd){const _0x5ceaaa=_0x3fcfdb;return _0x313141[_0x5ceaaa(0x2a8)](_0x35e0e5,_0x2759dd);},'PjwXl':_0x3fcfdb(0x3ef),'YIDfg':_0x313141[_0x3fcfdb(0x1e8)],'YvdFR':_0x313141[_0x3fcfdb(0x3b8)],'UrLNe':function(_0x375847){const _0x36a5e4=_0x3fcfdb;return _0x313141[_0x36a5e4(0x25d)](_0x375847);},'htQDL':function(_0x317a55,_0x3c395c){return _0x317a55(_0x3c395c);}};_0x313141[_0x3fcfdb(0x2c8)](expect,_0x52a20b[_0x3fcfdb(0x3fb)])['to']['be'][_0x3fcfdb(0x32a)],_0x52a20b[_0x3fcfdb(0x213)]({'user':_0x3fcfdb(0x264),'credentials':{'user':'testuser'}},function(_0x18dc84){const _0x503a78=_0x3fcfdb,_0x151fad={'QTgXh':function(_0x147792,_0x5ac180){return _0x147792(_0x5ac180);},'uquxr':_0x59629b[_0x503a78(0x226)],'MRwdc':_0x503a78(0x367),'PdHYi':_0x503a78(0x21e),'szdJm':_0x59629b[_0x503a78(0x30d)]};if(_0x59629b[_0x503a78(0x37c)](_0x503a78(0x2f1),_0x59629b[_0x503a78(0x37d)])){const _0x3b7cea=_0x59629b[_0x503a78(0x300)][_0x503a78(0x3a8)]('|');let _0x533bab=0x0;while(!![]){switch(_0x3b7cea[_0x533bab++]){case'0':expect(_0x18dc84[_0x503a78(0x1f9)])['to'][_0x503a78(0x355)](_0x59629b[_0x503a78(0x2e8)]);continue;case'1':expect(_0x52a20b[_0x503a78(0x3fb)])['to']['be']['false'];continue;case'2':expect(_0x18dc84[_0x503a78(0x27c)])['to']['be'][_0x503a78(0x221)];continue;case'3':_0x59629b[_0x503a78(0x34c)](_0x417a2e);continue;case'4':_0x59629b[_0x503a78(0x304)](expect,_0x18dc84)['to'][_0x503a78(0x1e4)];continue;case'5':expect(_0x18dc84[_0x503a78(0x2c2)])['to'][_0x503a78(0x341)](/^Missing credentials/);continue;}break;}}else _0x41126d[_0x503a78(0x260)]({'from':_0x151fad['PdHYi'],'to':[_0x503a78(0x1e0),'test2@invalid.recipient',_0x151fad['szdJm']]},_0x503a78(0x419),function(_0x5c9e28,_0x40bb9b){const _0x2f1d52=_0x503a78;_0x3835f0(_0x5c9e28)['to']['not'][_0x2f1d52(0x1e4)],_0x151fad[_0x2f1d52(0x1ed)](_0x346680,_0x40bb9b)['to']['deep'][_0x2f1d52(0x355)]({'accepted':[_0x2f1d52(0x1e0),_0x2f1d52(0x3de)],'rejected':[_0x151fad[_0x2f1d52(0x1fe)]],'rejectedErrors':_0x40bb9b['rejectedErrors'],'envelopeTime':_0x40bb9b[_0x2f1d52(0x235)],'messageTime':_0x40bb9b[_0x2f1d52(0x32e)],'messageSize':_0x40bb9b[_0x2f1d52(0x30a)],'response':_0x151fad[_0x2f1d52(0x397)]}),_0x151fad[_0x2f1d52(0x1ed)](_0x462cd9,_0x40bb9b[_0x2f1d52(0x313)][_0x2f1d52(0x277)])['to'][_0x2f1d52(0x355)](0x1),_0x504811();});});}),describe(_0x1ce6b8(0x318),function(){const _0x18e216=_0x1ce6b8,_0x3cd7a5={'bRJbi':function(_0x27b5f9,_0x3495c9){const _0x26451c=_0x47d0;return _0x5b557e[_0x26451c(0x222)](_0x27b5f9,_0x3495c9);},'Vejhq':_0x5b557e['lrPVq'],'lWcOU':function(_0x34ca70,_0x2ba0ad){return _0x5b557e['VzBDC'](_0x34ca70,_0x2ba0ad);},'yygYj':function(_0x2687ed,_0x51315c){const _0x20f5ff=_0x47d0;return _0x5b557e[_0x20f5ff(0x245)](_0x2687ed,_0x51315c);},'mwoJR':_0x18e216(0x2a3),'SKKnc':function(_0x1d1e8e){const _0x533807=_0x18e216;return _0x5b557e[_0x533807(0x29c)](_0x1d1e8e);},'RJDXA':_0x18e216(0x2da),'rPzXJ':'testuser','FQQXf':_0x5b557e['preKh'],'UlNJU':_0x5b557e[_0x18e216(0x3c8)],'zYgLC':function(_0x56ff93,_0x4c6f84){return _0x56ff93(_0x4c6f84);},'GxaXw':_0x5b557e[_0x18e216(0x20e)],'cpkAc':_0x5b557e['aEfvO'],'jrryG':function(_0x2c8541,_0x4c8e97){return _0x2c8541(_0x4c8e97);}};this['timeout'](0xa*0x3e8);let _0x1a6b54;_0x5b557e[_0x18e216(0x375)](beforeEach,function(_0x1a4d52){const _0x2c9111=_0x18e216;_0x1a6b54=_0x3cd7a5[_0x2c9111(0x28c)](xoauth2Server,{'port':XOAUTH_PORT,'onUpdate':function(_0x209a93,_0x266f26){_0x34ed49=_0x266f26;}[_0x2c9111(0x22e)](this)}),_0x1a6b54[_0x2c9111(0x2be)](_0x2c9111(0x264),_0x3cd7a5['Vejhq']),_0x1a6b54[_0x2c9111(0x308)](_0x1a4d52);}),afterEach(function(_0x726803){const _0x32e809=_0x18e216;_0x1a6b54[_0x32e809(0x23c)](_0x726803);}),_0x5b557e[_0x18e216(0x29f)](it,_0x5b557e[_0x18e216(0x1fb)],function(_0x564eb7){const _0x52e5e1=_0x18e216,_0xe43f21={'huKNC':function(_0x5aab41){const _0x48ceb3=_0x47d0;return _0x5b557e[_0x48ceb3(0x349)](_0x5aab41);},'CKwuN':_0x5b557e[_0x52e5e1(0x3f1)],'Vzdvm':_0x52e5e1(0x37a),'bidRV':function(_0x23df1a,_0x21dc6a){return _0x5b557e['yeaYI'](_0x23df1a,_0x21dc6a);},'dzWMw':_0x5b557e[_0x52e5e1(0x3b7)]};_0x5b557e[_0x52e5e1(0x222)](expect,_0x52a20b[_0x52e5e1(0x3fb)])['to']['be'][_0x52e5e1(0x32a)],_0x52a20b['login']({'type':_0x52e5e1(0x2da),'user':_0x52e5e1(0x264),'oauth2':new XOAuth2({'user':_0x52e5e1(0x264),'accessToken':_0x34ed49})},function(_0x3bbff7){const _0x2d1e1d=_0x52e5e1;if(_0xe43f21[_0x2d1e1d(0x320)](_0xe43f21[_0x2d1e1d(0x291)],_0xe43f21['dzWMw'])){const _0x9df1ec={'USmeK':function(_0x3a082e){const _0x1289a1=_0x2d1e1d;return _0xe43f21[_0x1289a1(0x312)](_0x3a082e);},'hKDBT':_0xe43f21['CKwuN']};_0x496b7e['on'](_0xe43f21[_0x2d1e1d(0x33f)],function(){const _0x50d8a0=_0x2d1e1d,_0x2f0b01={'ltsXg':function(_0x2baf11){return _0x9df1ec['USmeK'](_0x2baf11);},'Wqdci':_0x9df1ec[_0x50d8a0(0x315)]};_0x326fd6=new _0x21da75({'port':_0x3508f2,'logger':![],'debug':![]}),_0x49b831[_0x50d8a0(0x3ff)][_0x50d8a0(0x31d)]=!![],_0x1daed9['connect'](function(){const _0x1f3de8=_0x50d8a0;_0xdc1eb1[_0x1f3de8(0x213)]({'user':_0x1f3de8(0x264),'credentials':{'user':_0x2f0b01['Wqdci'],'pass':_0x1f3de8(0x20b)}},function(_0x54adfd){const _0x3242a9=_0x1f3de8;_0x58889b(_0x54adfd)['to'][_0x3242a9(0x362)][_0x3242a9(0x1e4)],_0x3a53fa[_0x3242a9(0x3ff)][_0x3242a9(0x31d)]=![],_0x2f0b01[_0x3242a9(0x22c)](_0x5d9dd0);});});}),_0x5eea8e[_0x2d1e1d(0x3d3)]();}else expect(_0x3bbff7)['to'][_0x2d1e1d(0x362)][_0x2d1e1d(0x1e4)],expect(_0x52a20b['authenticated'])['to']['be'][_0x2d1e1d(0x41e)],_0x564eb7();});}),it(_0x18e216(0x31b),function(_0x529937){const _0x445d97=_0x18e216;_0x3cd7a5[_0x445d97(0x418)](expect,_0x52a20b[_0x445d97(0x3fb)])['to']['be'][_0x445d97(0x32a)],_0x52a20b[_0x445d97(0x213)]({'type':_0x3cd7a5[_0x445d97(0x247)],'user':_0x445d97(0x264),'oauth2':new XOAuth2({'user':_0x3cd7a5['rPzXJ'],'accessToken':_0x3cd7a5[_0x445d97(0x369)]})},function(_0x3e8909){const _0x2929a7=_0x445d97;_0x3cd7a5[_0x2929a7(0x403)](expect,_0x3e8909)['to'][_0x2929a7(0x1e4)],expect(_0x52a20b[_0x2929a7(0x3fb)])['to']['be']['false'],_0x3cd7a5['yygYj'](expect,_0x3e8909[_0x2929a7(0x1f9)])['to'][_0x2929a7(0x355)](_0x3cd7a5[_0x2929a7(0x2ad)]),_0x3cd7a5['SKKnc'](_0x529937);});}),it('should\x20login\x20with\x20xoauth2\x20object',function(_0x9102b9){const _0x54b58c=_0x18e216,_0x1b87c3={'JnhpQ':function(_0x3e2b30,_0x157e98){return _0x3e2b30===_0x157e98;},'BLEgS':_0x3cd7a5[_0x54b58c(0x372)],'SRUuY':function(_0x147b30){return _0x147b30();}};_0x3cd7a5[_0x54b58c(0x2a5)](expect,_0x52a20b[_0x54b58c(0x3fb)])['to']['be']['false'],_0x52a20b[_0x54b58c(0x213)]({'type':_0x3cd7a5['RJDXA'],'user':_0x54b58c(0x264),'oauth2':new XOAuth2({'user':_0x3cd7a5[_0x54b58c(0x34f)],'clientId':_0x54b58c(0x282),'clientSecret':_0x54b58c(0x3a0),'refreshToken':_0x54b58c(0x249),'accessToken':_0x3cd7a5[_0x54b58c(0x273)],'accessUrl':_0x3cd7a5['cpkAc']+XOAUTH_PORT})},function(_0xb55062){const _0x136070=_0x54b58c;_0x1b87c3[_0x136070(0x256)](_0x1b87c3[_0x136070(0x1fc)],_0x136070(0x227))?_0xc585ca[_0x136070(0x3d3)](function(){const _0x35afff=_0x136070;_0x406cf8[_0x35afff(0x3d3)](function(){const _0x3fab07=_0x35afff;_0x14d500[_0x3fab07(0x3d3)](function(){const _0x1e25e8=_0x3fab07;_0x283405[_0x1e25e8(0x3d3)](_0x3e6424);});});}):(expect(_0xb55062)['to'][_0x136070(0x362)]['exist'],expect(_0x52a20b['authenticated'])['to']['be']['true'],_0x1b87c3[_0x136070(0x3b3)](_0x9102b9));});}),it(_0x18e216(0x2e0),function(_0x267c0e){const _0x42ce97=_0x18e216;_0x5b557e[_0x42ce97(0x1d2)](expect,_0x52a20b['authenticated'])['to']['be'][_0x42ce97(0x32a)],_0x52a20b[_0x42ce97(0x213)]({'type':_0x5b557e['JRJYH'],'user':_0x5b557e[_0x42ce97(0x3f1)],'oauth2':new XOAuth2({'user':_0x42ce97(0x264),'clientId':_0x5b557e[_0x42ce97(0x293)],'clientSecret':_0x5b557e[_0x42ce97(0x2b2)],'refreshToken':_0x42ce97(0x283),'accessToken':_0x5b557e[_0x42ce97(0x20e)],'accessUrl':_0x5b557e[_0x42ce97(0x38a)]+XOAUTH_PORT})},function(_0x59d0b1){const _0x19e962=_0x42ce97;_0x3cd7a5['jrryG'](expect,_0x59d0b1)['to'][_0x19e962(0x1e4)],_0x3cd7a5[_0x19e962(0x403)](expect,_0x52a20b[_0x19e962(0x3fb)])['to']['be'][_0x19e962(0x32a)],_0x267c0e();});}),_0x5b557e[_0x18e216(0x29f)](it,_0x5b557e[_0x18e216(0x382)],function(_0x21d2ab){const _0x4c48d4=_0x18e216,_0x1ce9d0={'jIrNV':function(_0x8ab727,_0x2a73c9){return _0x8ab727(_0x2a73c9);},'Cmdyr':function(_0x2772fb){return _0x2772fb();},'Qvvcl':_0x5b557e['YEAgo'],'mmqhL':function(_0x1cee56,_0x579d5e){return _0x1cee56!==_0x579d5e;},'HOywc':_0x5b557e['sKQWl']};expect(_0x52a20b['authenticated'])['to']['be'][_0x4c48d4(0x32a)];let _0x443f60=new XOAuth2({'user':_0x5b557e[_0x4c48d4(0x3f1)],'clientId':_0x4c48d4(0x282),'clientSecret':_0x4c48d4(0x3a0),'refreshToken':_0x5b557e[_0x4c48d4(0x1f5)],'accessToken':_0x5b557e[_0x4c48d4(0x20e)],'accessUrl':_0x5b557e['aAtDa'](_0x5b557e[_0x4c48d4(0x38a)],XOAUTH_PORT)});sinon[_0x4c48d4(0x37b)](_0x443f60,_0x5b557e[_0x4c48d4(0x261)])['yields'](null,_0x5b557e[_0x4c48d4(0x386)]),_0x52a20b['login']({'type':_0x4c48d4(0x2da),'user':_0x5b557e[_0x4c48d4(0x3f1)],'oauth2':_0x443f60},function(_0x23d3dd){const _0x8d133c=_0x4c48d4,_0x2f92d1={'wsLBn':function(_0xa08ed7,_0x209e09){return _0x1ce9d0['jIrNV'](_0xa08ed7,_0x209e09);},'YuVoj':_0x8d133c(0x2a3),'eruWw':function(_0x54051c,_0x1b30a1){const _0x141c3c=_0x8d133c;return _0x1ce9d0[_0x141c3c(0x410)](_0x54051c,_0x1b30a1);},'cZNvg':function(_0x287a52){const _0x2d92fd=_0x8d133c;return _0x1ce9d0[_0x2d92fd(0x241)](_0x287a52);},'LlVIp':_0x1ce9d0[_0x8d133c(0x280)]};_0x1ce9d0[_0x8d133c(0x3e0)](_0x1ce9d0[_0x8d133c(0x1f3)],_0x8d133c(0x284))?(_0x1ce9d0[_0x8d133c(0x410)](expect,_0x23d3dd)['to'][_0x8d133c(0x1e4)],_0x1ce9d0[_0x8d133c(0x410)](expect,_0x52a20b[_0x8d133c(0x3fb)])['to']['be']['false'],_0x443f60['generateToken']['restore'](),_0x21d2ab()):(_0x181edd(_0xbc12a2[_0x8d133c(0x3fb)])['to']['be'][_0x8d133c(0x32a)],_0x2c27d6[_0x8d133c(0x213)]({'user':_0x8d133c(0x264),'credentials':{'user':_0x2f92d1[_0x8d133c(0x357)]}},function(_0x1daa53){const _0x324144=_0x8d133c;_0x2f92d1[_0x324144(0x34e)](_0x20e321,_0x1daa53)['to']['exist'],_0x3b63f7(_0x1b1b1a[_0x324144(0x3fb)])['to']['be'][_0x324144(0x32a)],_0x55753f(_0x1daa53[_0x324144(0x2c2)])['to'][_0x324144(0x341)](/^Missing credentials/),_0x3483c9(_0x1daa53['code'])['to'][_0x324144(0x355)](_0x2f92d1['YuVoj']),_0x2f92d1[_0x324144(0x2e2)](_0x11f865,_0x1daa53[_0x324144(0x27c)])['to']['be']['undefined'],_0x2f92d1[_0x324144(0x377)](_0x3aca4f);}));});});}),_0x313141[_0x1ce6b8(0x2c9)](describe,_0x313141[_0x1ce6b8(0x415)],function(){const _0x268042=_0x1ce6b8,_0x593fb6={'WOpct':function(_0x3f55e4,_0x3a9e5f){return _0x3f55e4(_0x3a9e5f);},'qXSQl':_0x313141[_0x268042(0x20a)],'CsZPu':'testuser'};let _0x3b4df2;beforeEach(function(_0x4651d0){const _0x1c9e21=_0x268042;_0x3b4df2=new SMTPConnection({'port':PORT_NUMBER,'logger':![],'debug':![],'customAuth':{'mytest':_0x1d44a4=>{const _0x4926a5=_0x47d0,_0x517d1b={'ZUmbR':function(_0x16a8d8,_0x2f6da8){const _0x174e07=_0x47d0;return _0x593fb6[_0x174e07(0x224)](_0x16a8d8,_0x2f6da8);},'kBUFY':_0x593fb6[_0x4926a5(0x267)]};_0x1d44a4['sendCommand']('HALLO1\x20HALLO',(_0x4ed415,_0x554b07)=>{const _0x1078a7=_0x4926a5;expect(_0x4ed415)['to'][_0x1078a7(0x362)][_0x1078a7(0x1e4)],_0x517d1b[_0x1078a7(0x31f)](expect,_0x554b07[_0x1078a7(0x257)])['to'][_0x1078a7(0x355)](0x1f4),_0x1d44a4[_0x1078a7(0x2bf)](_0x517d1b['kBUFY'],(_0x113eb4,_0x49754a)=>{const _0x11fbcb=_0x1078a7;_0x517d1b['ZUmbR'](expect,_0x113eb4)['to'][_0x11fbcb(0x362)][_0x11fbcb(0x1e4)],_0x517d1b[_0x11fbcb(0x31f)](expect,_0x49754a[_0x11fbcb(0x257)])['to']['equal'](0x1f4),_0x1d44a4[_0x11fbcb(0x3c6)]();});});}}}),_0x3b4df2[_0x1c9e21(0x306)](_0x4651d0);}),_0x313141['VQeLK'](afterEach,function(_0xea1bd1){const _0x3aaf88=_0x268042,_0x11c928={'Rdlvy':function(_0x88f674,_0x412e52){return _0x88f674(_0x412e52);},'PzKyJ':function(_0x128f48){const _0x538f0a=_0x47d0;return _0x5b557e[_0x538f0a(0x41d)](_0x128f48);}};_0x5b557e['EjqDA']===_0x5b557e[_0x3aaf88(0x368)]?(_0x3b4df2[_0x3aaf88(0x3d3)](),_0xea1bd1()):_0xd945d0['login']({'user':_0x3aaf88(0x264),'credentials':{'user':_0x593fb6[_0x3aaf88(0x1de)],'pass':'testpass'}},function(_0x274892){const _0x238cce=_0x3aaf88;_0x11c928[_0x238cce(0x3dc)](_0x5bce4e,_0x274892)['to']['not'][_0x238cce(0x1e4)],_0x5b9b27[_0x238cce(0x3ff)][_0x238cce(0x31d)]=![],_0x11c928[_0x238cce(0x294)](_0x852cae);});}),_0x313141[_0x268042(0x3d4)](it,_0x268042(0x246),function(_0x96e617){const _0x24e178=_0x268042;_0x593fb6[_0x24e178(0x224)](expect,_0x3b4df2[_0x24e178(0x3fb)])['to']['be'][_0x24e178(0x32a)],_0x3b4df2[_0x24e178(0x213)]({'method':'mytest','user':'testuser','credentials':{'user':_0x593fb6[_0x24e178(0x1de)],'pass':_0x24e178(0x20b)}},function(_0x176045){const _0x4c446c=_0x24e178;_0x593fb6[_0x4c446c(0x224)](expect,_0x176045)['to']['not'][_0x4c446c(0x1e4)],expect(_0x3b4df2[_0x4c446c(0x3fb)])['to']['be'][_0x4c446c(0x41e)],_0x96e617();});});}),describe(_0x313141[_0x1ce6b8(0x379)],function(){const _0x3d053b=_0x1ce6b8,_0x2322ab={'eTQzm':_0x313141[_0x3d053b(0x2eb)],'jajtn':_0x3d053b(0x2c7),'RuvJS':_0x313141['SolTI'],'KJhOM':_0x313141[_0x3d053b(0x40a)],'ZXwog':_0x313141['sbePR'],'ILUVR':_0x313141[_0x3d053b(0x3e9)],'KgPrN':'250\x20OK:\x20message\x20queued','WbyER':function(_0x40c833,_0x12ada8){return _0x40c833(_0x12ada8);}};beforeEach(function(_0x517b68){const _0x17bdc9=_0x3d053b,_0x389d39={'EfRWq':_0x17bdc9(0x264)};_0x52a20b['on'](_0x2322ab[_0x17bdc9(0x34b)],function(){const _0x29445a=_0x17bdc9,_0x4163be={'bCMIX':_0x389d39['EfRWq']};_0x52a20b=new SMTPConnection({'port':PORT_NUMBER,'logger':![],'debug':![]}),_0x13c779[_0x29445a(0x3ff)][_0x29445a(0x31d)]=!![],_0x52a20b['connect'](function(){const _0x3950d5=_0x29445a,_0x33acae={'mxoXZ':function(_0x4c8ac4,_0x47e9a6){return _0x4c8ac4(_0x47e9a6);},'szELr':function(_0x1072e7){return _0x1072e7();}};_0x52a20b[_0x3950d5(0x213)]({'user':_0x4163be['bCMIX'],'credentials':{'user':'testuser','pass':_0x3950d5(0x20b)}},function(_0x3ccd74){const _0x462b1c=_0x3950d5;_0x33acae['mxoXZ'](expect,_0x3ccd74)['to']['not'][_0x462b1c(0x1e4)],_0x13c779[_0x462b1c(0x3ff)][_0x462b1c(0x31d)]=![],_0x33acae[_0x462b1c(0x220)](_0x517b68);});});}),_0x52a20b['close']();}),_0x313141[_0x3d053b(0x3bc)](it,_0x313141[_0x3d053b(0x1e2)],function(_0x5d52d4){const _0x59e127=_0x3d053b;_0x52a20b[_0x59e127(0x260)]({'from':_0x59e127(0x21e),'to':['test1@valid.recipient','test2@invalid.recipient',_0x59e127(0x3de)]},_0x5b557e[_0x59e127(0x316)],function(_0x517f66,_0x6e4b2a){const _0x30ab8c=_0x59e127,_0x52762c={'YyYhT':function(_0x4a8b48,_0x34f91f){return _0x4a8b48+_0x34f91f;},'gqpGo':_0x30ab8c(0x1f8),'iDnrL':_0x2322ab[_0x30ab8c(0x34b)]};if(_0x2322ab['jajtn']!==_0x2322ab[_0x30ab8c(0x26f)])expect(_0x517f66)['to'][_0x30ab8c(0x362)]['exist'],expect(_0x6e4b2a)['to'][_0x30ab8c(0x285)][_0x30ab8c(0x355)]({'accepted':[_0x2322ab['KJhOM'],_0x2322ab['ZXwog']],'rejected':[_0x2322ab[_0x30ab8c(0x1df)]],'rejectedErrors':_0x6e4b2a[_0x30ab8c(0x313)],'envelopeTime':_0x6e4b2a[_0x30ab8c(0x235)],'messageTime':_0x6e4b2a['messageTime'],'messageSize':_0x6e4b2a[_0x30ab8c(0x30a)],'response':_0x2322ab[_0x30ab8c(0x37f)]}),_0x2322ab[_0x30ab8c(0x1ee)](expect,_0x6e4b2a[_0x30ab8c(0x313)][_0x30ab8c(0x277)])['to'][_0x30ab8c(0x355)](0x1),_0x5d52d4();else{let _0x2f6a57=new _0x813955({'port':_0x52762c[_0x30ab8c(0x297)](_0x17a2ec,0xa),'logger':![]});_0x2f6a57[_0x30ab8c(0x306)](function(){const _0x1f43de=_0x30ab8c;_0xd29956(![])['to']['be'][_0x1f43de(0x41e)],_0x2f6a57[_0x1f43de(0x3d3)]();}),_0x2f6a57[_0x30ab8c(0x35d)](_0x52762c[_0x30ab8c(0x3c2)],function(_0x45d89a){_0x590f50(_0x45d89a)['to']['exist'];}),_0x2f6a57['on'](_0x52762c['iDnrL'],_0x46ec87);}});});}),_0x313141[_0x1ce6b8(0x381)](describe,_0x313141[_0x1ce6b8(0x3db)],function(){const _0x30cae0=_0x1ce6b8,_0x33a67a={'ELXNc':function(_0x3f24cc,_0x50e698){const _0x12bcf5=_0x47d0;return _0x5b557e[_0x12bcf5(0x3d2)](_0x3f24cc,_0x50e698);},'mvivd':function(_0x441afd,_0x302492){return _0x441afd+_0x302492;},'VXdCY':_0x5b557e[_0x30cae0(0x335)],'SmQUV':_0x5b557e[_0x30cae0(0x316)],'eYasZ':function(_0x3997e5){const _0x106649=_0x30cae0;return _0x5b557e[_0x106649(0x2ea)](_0x3997e5);},'lhjnG':_0x30cae0(0x3ca),'Mptcb':_0x5b557e['ZxRRO'],'KgUSg':_0x5b557e[_0x30cae0(0x350)],'CZpOk':function(_0xd10429){const _0x24e40b=_0x30cae0;return _0x5b557e[_0x24e40b(0x28b)](_0xd10429);},'jYUsU':function(_0xd54b36,_0x19d056){return _0xd54b36(_0x19d056);},'rEzrO':_0x30cae0(0x2ee),'nNFhE':_0x5b557e[_0x30cae0(0x27a)],'QxBlo':_0x30cae0(0x264),'HEKjP':function(_0x494d4e,_0xeeb45f){return _0x5b557e['QSDKe'](_0x494d4e,_0xeeb45f);},'eHSBE':_0x5b557e[_0x30cae0(0x20d)],'IzNwH':function(_0x52d1ce,_0x52f55a){return _0x5b557e['elDLG'](_0x52d1ce,_0x52f55a);},'YiCDb':'test2@valid.recipient','OHhCw':_0x30cae0(0x400),'XPhzT':_0x5b557e[_0x30cae0(0x401)],'oGAQH':_0x5b557e['EzonH'],'QHaop':_0x5b557e[_0x30cae0(0x2c3)],'pwZmu':_0x5b557e[_0x30cae0(0x1cf)],'giSHs':function(_0x2df925,_0x3b4e20){const _0x334e86=_0x30cae0;return _0x5b557e[_0x334e86(0x1d2)](_0x2df925,_0x3b4e20);},'hHgfp':function(_0xa19b2b){const _0x320b19=_0x30cae0;return _0x5b557e[_0x320b19(0x1ff)](_0xa19b2b);},'ipSsT':_0x5b557e['KwjpI'],'XuHet':function(_0x5f02ea,_0x513cfa){const _0x2236d6=_0x30cae0;return _0x5b557e[_0x2236d6(0x21c)](_0x5f02ea,_0x513cfa);},'qVDPr':'vLIXI','QpNAq':_0x30cae0(0x394),'KrbLL':_0x5b557e[_0x30cae0(0x36a)],'VqcuP':_0x30cae0(0x1d8),'VlTin':'dataReady','ZtGEw':function(_0x5b1d26){const _0x2cd271=_0x30cae0;return _0x5b557e[_0x2cd271(0x28b)](_0x5b1d26);},'GSFsM':_0x30cae0(0x340),'wrKbO':_0x5b557e['ktMHk'],'YSrsD':_0x30cae0(0x3ea),'aIklI':_0x5b557e[_0x30cae0(0x1d7)]};_0x5b557e['RZAGN'](beforeEach,function(_0x1fa403){const _0x1275df=_0x30cae0,_0x45a99b={'XizNh':function(_0x423dde,_0x5ba859){return _0x423dde(_0x5ba859);}};_0x52a20b[_0x1275df(0x213)]({'user':_0x5b557e[_0x1275df(0x3f1)],'credentials':{'user':_0x1275df(0x264),'pass':_0x1275df(0x20b)}},function(_0x389ede){const _0x31d242=_0x1275df;_0x45a99b[_0x31d242(0x27f)](expect,_0x389ede)['to'][_0x31d242(0x362)]['exist'],_0x1fa403();});}),it(_0x30cae0(0x1ef),function(_0x440208){const _0x356596=_0x30cae0,_0x56c69e={'ZbosU':_0x356596(0x367)};if(_0x356596(0x1da)!=='UVrVw')_0x52a20b['send']({'from':_0x33a67a['VXdCY'],'to':_0x356596(0x203)},_0x33a67a[_0x356596(0x2b0)],function(_0x2c720c,_0x2fea9f){const _0x150ff7=_0x356596;expect(_0x2c720c)['to']['not']['exist'],expect(_0x2fea9f)['to']['deep']['equal']({'accepted':[_0x150ff7(0x203)],'rejected':[],'envelopeTime':_0x2fea9f[_0x150ff7(0x235)],'messageTime':_0x2fea9f[_0x150ff7(0x32e)],'messageSize':_0x2fea9f[_0x150ff7(0x30a)],'response':_0x56c69e[_0x150ff7(0x39b)]}),_0x440208();});else{const _0x420eea={'jGSqb':function(_0x4da6f8,_0x3d260f){return _0x33a67a['ELXNc'](_0x4da6f8,_0x3d260f);}};let _0x4bd234=new _0x213df3({'port':_0x33a67a[_0x356596(0x24f)](_0x7b14f6,0x2),'secure':!![],'logger':![]});_0x4bd234[_0x356596(0x306)](function(){const _0x12eaec=_0x356596;_0x458f81(_0x4bd234[_0x12eaec(0x2ef)])['to']['be'][_0x12eaec(0x41e)],_0x4bd234[_0x12eaec(0x3d3)]();}),_0x4bd234['on'](_0x356596(0x1f8),function(_0x15f287){const _0x5210f1=_0x356596;_0x420eea['jGSqb'](_0x4f6f31,_0x15f287)['to']['not'][_0x5210f1(0x1e4)];}),_0x4bd234['on'](_0x356596(0x37a),_0x1ea27c);}}),_0x5b557e[_0x30cae0(0x42e)](it,_0x30cae0(0x26c),function(_0x146ccf){const _0x29ffdd=_0x30cae0;_0x52a20b['send']({'from':_0x5b557e[_0x29ffdd(0x335)],'to':_0x5b557e[_0x29ffdd(0x36a)]},_0x29ffdd(0x419),function(_0x4598c3,_0x2c92b8){const _0x319412=_0x29ffdd,_0x15ae5f={'NixoU':_0x319412(0x38c),'qmTvd':function(_0x337715){const _0x4133e7=_0x319412;return _0x33a67a[_0x4133e7(0x1d1)](_0x337715);},'WaWId':_0x33a67a[_0x319412(0x201)]};expect(_0x4598c3)['to']['not'][_0x319412(0x1e4)],_0x33a67a[_0x319412(0x2ce)](expect,_0x2c92b8)['to'][_0x319412(0x285)][_0x319412(0x355)]({'accepted':[_0x319412(0x203)],'rejected':[],'envelopeTime':_0x2c92b8[_0x319412(0x235)],'messageTime':_0x2c92b8[_0x319412(0x32e)],'messageSize':_0x2c92b8['messageSize'],'response':_0x319412(0x367)}),_0x52a20b['reset'](function(_0x4e0aa7){const _0xda1b39=_0x319412;expect(_0x4e0aa7)['to'][_0xda1b39(0x362)]['exist'],_0x52a20b[_0xda1b39(0x260)]({'from':_0x15ae5f[_0xda1b39(0x38f)],'to':_0xda1b39(0x38c)},_0xda1b39(0x3ec),function(_0x1ef46c,_0x3b339a){const _0x5ec090=_0xda1b39;expect(_0x1ef46c)['to'][_0x5ec090(0x362)]['exist'],expect(_0x3b339a)['to'][_0x5ec090(0x285)][_0x5ec090(0x355)]({'accepted':[_0x15ae5f[_0x5ec090(0x387)]],'rejected':[],'envelopeTime':_0x3b339a['envelopeTime'],'messageTime':_0x3b339a[_0x5ec090(0x32e)],'messageSize':_0x3b339a[_0x5ec090(0x30a)],'response':_0x5ec090(0x367)}),_0x15ae5f['qmTvd'](_0x146ccf);});});});}),_0x5b557e[_0x30cae0(0x29f)](it,_0x5b557e[_0x30cae0(0x34d)],function(_0x1f934f){const _0x578010=_0x30cae0;_0x52a20b['send']({'from':_0x5b557e['uMXUA'],'to':[_0x5b557e['BKFeN'],'test2@invalid.recipient',_0x578010(0x3de)]},_0x5b557e[_0x578010(0x316)],function(_0x217828,_0x44a504){const _0x108b22=_0x578010;expect(_0x217828)['to'][_0x108b22(0x362)][_0x108b22(0x1e4)],expect(_0x44a504)['to'][_0x108b22(0x285)]['equal']({'accepted':[_0x108b22(0x1e0),_0x108b22(0x3de)],'rejected':[_0x33a67a[_0x108b22(0x24b)]],'rejectedErrors':_0x44a504['rejectedErrors'],'envelopeTime':_0x44a504[_0x108b22(0x235)],'messageTime':_0x44a504[_0x108b22(0x32e)],'messageSize':_0x44a504[_0x108b22(0x30a)],'response':_0x33a67a[_0x108b22(0x1d6)]}),expect(_0x44a504[_0x108b22(0x313)][_0x108b22(0x277)])['to']['equal'](0x1),_0x33a67a[_0x108b22(0x278)](_0x1f934f);});}),it(_0x5b557e[_0x30cae0(0x206)],function(_0x2bef4c){const _0x120bb2=_0x30cae0;if(_0x33a67a[_0x120bb2(0x338)](_0x33a67a[_0x120bb2(0x26e)],_0x120bb2(0x412)))_0x52a20b[_0x120bb2(0x260)]({'from':_0x120bb2(0x21e),'to':[_0x120bb2(0x2ee),_0x120bb2(0x21b),_0x120bb2(0x2b5)]},_0x33a67a[_0x120bb2(0x2b0)],function(_0x35c7f0,_0x43e63a){const _0x52aec3=_0x120bb2;_0x33a67a[_0x52aec3(0x25c)](expect,_0x35c7f0)['to'][_0x52aec3(0x1e4)],expect(_0x43e63a)['to']['not']['exist'],expect(_0x35c7f0[_0x52aec3(0x253)])['to'][_0x52aec3(0x285)][_0x52aec3(0x355)]([_0x33a67a[_0x52aec3(0x2f6)],_0x33a67a[_0x52aec3(0x24b)],_0x33a67a[_0x52aec3(0x41a)]]),expect(_0x35c7f0[_0x52aec3(0x313)][_0x52aec3(0x277)])['to'][_0x52aec3(0x355)](0x3),_0x2bef4c();});else{const _0xc6d882={'nYQDK':function(_0x4eb9fa){return _0x4eb9fa();}};_0x9c0c19(_0x4fdd54[_0x120bb2(0x3fb)])['to']['be']['false'],_0x27ac73[_0x120bb2(0x213)]({'method':_0x120bb2(0x250),'user':'testuser','credentials':{'user':_0x33a67a[_0x120bb2(0x363)],'pass':_0x120bb2(0x20b)}},function(_0x1c8dc1){const _0x56aa2d=_0x120bb2;_0x5e5718(_0x1c8dc1)['to'][_0x56aa2d(0x362)][_0x56aa2d(0x1e4)],_0x106335(_0x17d35a['authenticated'])['to']['be']['true'],_0xc6d882[_0x56aa2d(0x2de)](_0x191c6d);});}}),_0x5b557e[_0x30cae0(0x29f)](it,_0x5b557e[_0x30cae0(0x298)],function(_0x56a4b0){const _0x5e6789=_0x30cae0,_0x399d86={'EkKZe':function(_0x887fb2,_0xd0aeae){const _0xc3f6ce=_0x47d0;return _0x5b557e[_0xc3f6ce(0x217)](_0x887fb2,_0xd0aeae);}};_0x52a20b[_0x5e6789(0x260)]({'from':_0x5e6789(0x3ca),'to':_0x5b557e[_0x5e6789(0x28d)],'size':0x400*0x400},_0x5b557e[_0x5e6789(0x316)],function(_0x53aede,_0x42ec89){const _0x144a87=_0x5e6789;expect(_0x53aede)['to'][_0x144a87(0x1e4)],_0x399d86[_0x144a87(0x374)](expect,_0x42ec89)['to'][_0x144a87(0x362)][_0x144a87(0x1e4)],_0x56a4b0();});}),it(_0x5b557e[_0x30cae0(0x3d1)],function(_0xcb3c0d){const _0xc76c5e=_0x30cae0,_0x382985={'SZIdu':function(_0x5bc46a,_0x39c7bb){const _0x3d9d42=_0x47d0;return _0x33a67a[_0x3d9d42(0x2ce)](_0x5bc46a,_0x39c7bb);},'gCopL':function(_0x370ca2){return _0x370ca2();}};_0x52a20b[_0xc76c5e(0x260)]({'from':_0xc76c5e(0x3ca),'to':_0xc76c5e(0x38c),'size':_0x33a67a['IzNwH'](0x46,0x400)},_0x33a67a['SmQUV'],function(_0xa5eaf3,_0x45bc27){const _0x4a357c=_0xc76c5e;_0x382985[_0x4a357c(0x239)](expect,_0xa5eaf3)['to'][_0x4a357c(0x1e4)],_0x382985['SZIdu'](expect,_0x45bc27)['to'][_0x4a357c(0x362)][_0x4a357c(0x1e4)],_0x382985[_0x4a357c(0x36d)](_0xcb3c0d);});}),_0x5b557e[_0x30cae0(0x2e6)](it,_0x30cae0(0x2fa),function(_0xfee47f){const _0x136bd6=_0x30cae0;_0x52a20b[_0x136bd6(0x260)]({'from':_0x136bd6(0x3ca),'to':_0x136bd6(0x38c),'size':_0x33a67a['IzNwH'](0xa,0x400)},_0x33a67a['SmQUV'],function(_0x27139e,_0x106eb0){const _0x4a9dbd=_0x136bd6;expect(_0x27139e)['to'][_0x4a9dbd(0x362)][_0x4a9dbd(0x1e4)],expect(_0x106eb0)['to'][_0x4a9dbd(0x285)][_0x4a9dbd(0x355)]({'accepted':[_0x33a67a[_0x4a9dbd(0x29b)]],'rejected':[],'envelopeTime':_0x106eb0[_0x4a9dbd(0x235)],'messageTime':_0x106eb0[_0x4a9dbd(0x32e)],'messageSize':_0x106eb0[_0x4a9dbd(0x30a)],'response':_0x4a9dbd(0x367)}),_0xfee47f();});}),_0x5b557e[_0x30cae0(0x42e)](it,_0x30cae0(0x2a2),function(_0x2e2d66){const _0x19aea5=_0x30cae0;_0x220280[_0x19aea5(0x260)]({'from':_0x19aea5(0x21e),'to':[_0x5b557e['BKFeN'],_0x19aea5(0x21b),_0x5b557e[_0x19aea5(0x37e)],_0x19aea5(0x34a),_0x5b557e[_0x19aea5(0x1f1)],_0x19aea5(0x262)]},_0x5b557e[_0x19aea5(0x316)],function(_0x42e544,_0xf195d6){const _0x3fa166=_0x19aea5;expect(_0x42e544)['to'][_0x3fa166(0x362)][_0x3fa166(0x1e4)],expect(_0xf195d6['accepted'])['to']['deep']['equal'](['test3@valid.recipient',_0x33a67a[_0x3fa166(0x295)]]),expect(_0xf195d6[_0x3fa166(0x253)])['to'][_0x3fa166(0x285)][_0x3fa166(0x355)]([_0x33a67a[_0x3fa166(0x24b)],_0x33a67a[_0x3fa166(0x23e)],_0x33a67a[_0x3fa166(0x406)],_0x33a67a[_0x3fa166(0x28a)]]),expect(_0xf195d6[_0x3fa166(0x313)][_0x3fa166(0x277)])['to'][_0x3fa166(0x355)](_0xf195d6[_0x3fa166(0x253)][_0x3fa166(0x277)]),_0x2e2d66();});}),it(_0x30cae0(0x303),function(_0x2f8339){const _0x169e35=_0x30cae0;_0x52a20b[_0x169e35(0x260)]({'from':_0x5b557e[_0x169e35(0x335)],'to':['test1@valid.recipient','test2@invalid.recipient',_0x5b557e[_0x169e35(0x31c)]]},_0x169e35(0x419),function(_0x2b1ab2,_0x33b15b){const _0x35d79b=_0x169e35;_0x33a67a['jYUsU'](expect,_0x2b1ab2)['to'][_0x35d79b(0x362)]['exist'],expect(_0x33b15b)['to'][_0x35d79b(0x285)]['equal']({'accepted':[_0x35d79b(0x1e0),_0x35d79b(0x289)],'rejected':[_0x33a67a[_0x35d79b(0x24b)]],'rejectedErrors':_0x33b15b['rejectedErrors'],'envelopeTime':_0x33b15b[_0x35d79b(0x235)],'messageTime':_0x33b15b[_0x35d79b(0x32e)],'messageSize':_0x33b15b['messageSize'],'response':_0x33a67a[_0x35d79b(0x1d6)]}),_0x2f8339();});}),it(_0x5b557e[_0x30cae0(0x371)],function(_0x3f5a4e){const _0x1c57a0=_0x30cae0,_0x2a310d={'nNJIN':'test3õ@valid.recipient','DjbGn':_0x1c57a0(0x21b)};_0x52a20b[_0x1c57a0(0x260)]({'use8BitMime':!![],'from':_0x33a67a[_0x1c57a0(0x1d0)],'to':[_0x33a67a[_0x1c57a0(0x23e)],_0x1c57a0(0x21b),_0x1c57a0(0x289)]},'õõõõ',function(_0xcc84f5,_0x6d3bd3){const _0x1a03fa=_0x1c57a0;expect(_0xcc84f5)['to'][_0x1a03fa(0x362)]['exist'],expect(_0x6d3bd3)['to'][_0x1a03fa(0x285)][_0x1a03fa(0x355)]({'accepted':['test1@valid.recipient',_0x2a310d['nNJIN']],'rejected':[_0x2a310d[_0x1a03fa(0x3f4)]],'rejectedErrors':_0x6d3bd3['rejectedErrors'],'envelopeTime':_0x6d3bd3[_0x1a03fa(0x235)],'messageTime':_0x6d3bd3[_0x1a03fa(0x32e)],'messageSize':_0x6d3bd3['messageSize'],'response':_0x1a03fa(0x367)}),_0x3f5a4e();});}),_0x5b557e['HqZQX'](it,'should\x20receive\x20error\x20for\x208-bit\x20content\x20without\x208BITMIME\x20declaration',function(_0x40a52f){const _0x1cf345=_0x30cae0,_0x2f0d38={'NrNID':function(_0x5bfcf8,_0xb11377){return _0x5bfcf8(_0xb11377);},'prgWP':function(_0xb09f2f){return _0xb09f2f();}};_0x52a20b[_0x1cf345(0x260)]({'use8BitMime':![],'from':_0x33a67a['VXdCY'],'to':[_0x33a67a[_0x1cf345(0x23e)],_0x33a67a[_0x1cf345(0x24b)],'test3õ@valid.recipient']},_0x33a67a[_0x1cf345(0x427)],function(_0x2e61f1){const _0x19b86c=_0x1cf345;_0x2f0d38[_0x19b86c(0x378)](expect,/8 bit content not allowed/[_0x19b86c(0x419)](_0x2e61f1[_0x19b86c(0x2c2)]))['to']['be'][_0x19b86c(0x41e)],_0x2f0d38['prgWP'](_0x40a52f);});}),it(_0x5b557e[_0x30cae0(0x1d3)],function(_0x1077c1){const _0x10e102=_0x30cae0;_0x33a67a[_0x10e102(0x33d)](_0x33a67a['qVDPr'],_0x10e102(0x2ac))?_0x52a20b[_0x10e102(0x260)]({'from':_0x33a67a['VXdCY'],'to':[_0x10e102(0x203),'\x22address\x0d\x0a\x20with\x20folding\x22@valid.recipient']},_0x10e102(0x419),function(_0x1ef08b){const _0x448b64=_0x10e102;_0x33a67a[_0x448b64(0x38e)](expect,/^Invalid recipient/['test'](_0x1ef08b['message']))['to']['be'][_0x448b64(0x41e)],_0x33a67a[_0x448b64(0x228)](_0x1077c1);}):(_0x4e4a2a['on'](_0x10e102(0x2fc),function(){}),_0x1544f4['on'](_0x33a67a[_0x10e102(0x42b)],_0x1930e0));}),_0x5b557e[_0x30cae0(0x3ad)](it,_0x5b557e[_0x30cae0(0x411)],function(_0x311ceb){const _0x3ddc3c=_0x30cae0;_0x52a20b['send']({'from':_0x33a67a[_0x3ddc3c(0x1d0)],'to':[_0x33a67a[_0x3ddc3c(0x2f6)],_0x3ddc3c(0x21b),'test3@invalid.recipient']},_0x3ddc3c(0x419),function(_0x16a291){expect(_0x16a291)['to']['exist'],_0x311ceb();});}),it(_0x30cae0(0x3af),function(_0x1fa9b7){const _0x2c6e6b=_0x30cae0;_0x52a20b[_0x2c6e6b(0x260)]({'from':_0x33a67a['QpNAq'],'to':_0x33a67a[_0x2c6e6b(0x364)]},_0x2c6e6b(0x419),function(_0x326994){expect(_0x326994)['to']['exist'],_0x33a67a['hHgfp'](_0x1fa9b7);});}),it(_0x5b557e[_0x30cae0(0x2f2)],function(_0x2d9d07){const _0x55fd65=_0x30cae0,_0x381465={'YXvox':function(_0x423f38,_0x1b5d45,_0x4e563f){return _0x423f38(_0x1b5d45,_0x4e563f);},'WrmYq':_0x33a67a[_0x55fd65(0x210)]};let _0x4acdc3=[],_0x399ca9=new Array(0x400)[_0x55fd65(0x3d8)]('teretere,\x20vana\x20kere\x0a');_0x13c779['on']('data',function(_0x657d8b,_0xc98cfe){const _0x170c6d=_0x55fd65;_0x4acdc3[_0x170c6d(0x3c9)](_0xc98cfe);}),_0x13c779[_0x55fd65(0x334)](_0x55fd65(0x2f3)),_0x13c779['on'](_0x33a67a['VlTin'],function(_0x3f651e,_0x5aa163){const _0x402cfb=_0x55fd65;let _0x66a0b=Buffer[_0x402cfb(0x376)](_0x4acdc3);expect(_0x66a0b[_0x402cfb(0x344)]())['to'][_0x402cfb(0x355)](_0x399ca9[_0x402cfb(0x429)]()[_0x402cfb(0x24e)](/\n/g,'\x0d\x0a')),_0x381465[_0x402cfb(0x383)](_0x5aa163,null,_0x381465['WrmYq']);}),_0x52a20b['send']({'from':'test@valid.sender','to':_0x55fd65(0x203)},_0x399ca9,function(_0xcdcd0a){const _0x30956c=_0x55fd65;expect(_0xcdcd0a)['to'][_0x30956c(0x362)]['exist'],_0x2d9d07();});}),_0x5b557e['bBoye'](it,_0x5b557e[_0x30cae0(0x327)],function(_0x40068a){const _0x969514=_0x30cae0,_0x2f2142={'pnYZo':function(_0x7f28c1,_0x3d126c){const _0x594b81=_0x47d0;return _0x5b557e[_0x594b81(0x1d2)](_0x7f28c1,_0x3d126c);},'oavmK':_0x5b557e['dXiDu'],'RibRW':function(_0x2b2d6e,_0x3bb69c){const _0x4998e4=_0x47d0;return _0x5b557e[_0x4998e4(0x1d2)](_0x2b2d6e,_0x3bb69c);},'PBmmy':function(_0x38faab,_0x3d1020,_0x301154){return _0x38faab(_0x3d1020,_0x301154);},'ieQTp':function(_0xf4eeb1,_0x2f0f3d){return _0xf4eeb1(_0x2f0f3d);},'pVSzk':function(_0x5bae4c){return _0x5bae4c();}};let _0x2bdb0f=[],_0x387ab4=Buffer[_0x969514(0x242)](new Array(0x400)[_0x969514(0x3d8)](_0x5b557e[_0x969514(0x269)]));_0x13c779['on'](_0x5b557e[_0x969514(0x2cc)],function(_0x370030,_0x46c459){const _0x37d22b=_0x969514,_0x4c8945={'hTnNM':function(_0x1e3976,_0x1442c1){const _0x2a88ad=_0x47d0;return _0x2f2142[_0x2a88ad(0x248)](_0x1e3976,_0x1442c1);}};_0x2f2142[_0x37d22b(0x1f6)]===_0x37d22b(0x2e7)?_0x2bdb0f[_0x37d22b(0x3c9)](_0x46c459):(_0x4c8945['hTnNM'](_0x1a4d32,_0x49308d[_0x37d22b(0x2ef)])['to']['be'][_0x37d22b(0x41e)],_0x5f1711[_0x37d22b(0x3d3)]());}),_0x13c779[_0x969514(0x334)](_0x969514(0x2f3)),_0x13c779['on'](_0x5b557e[_0x969514(0x3fc)],function(_0x5b972b,_0x301290){const _0x294a0d=_0x969514;let _0x532cf0=Buffer[_0x294a0d(0x376)](_0x2bdb0f);_0x2f2142['RibRW'](expect,_0x532cf0[_0x294a0d(0x344)]())['to']['equal'](_0x387ab4[_0x294a0d(0x344)]()[_0x294a0d(0x429)]()[_0x294a0d(0x24e)](/\n/g,'\x0d\x0a')),_0x2f2142[_0x294a0d(0x32b)](_0x301290,null,_0x294a0d(0x1d8));}),_0x52a20b[_0x969514(0x260)]({'from':_0x5b557e[_0x969514(0x335)],'to':_0x969514(0x203)},_0x387ab4,function(_0x46e3ae){const _0x5eb7e5=_0x969514,_0x117976={'PCqQW':function(_0xba3ed2,_0x5b8b45){const _0x2e623a=_0x47d0;return _0x2f2142[_0x2e623a(0x248)](_0xba3ed2,_0x5b8b45);},'MJoTM':_0x5eb7e5(0x422)};'Xbpgf'==='Xbpgf'?(_0x2f2142[_0x5eb7e5(0x425)](expect,_0x46e3ae)['to'][_0x5eb7e5(0x362)][_0x5eb7e5(0x1e4)],_0x2f2142[_0x5eb7e5(0x332)](_0x40068a)):(_0x5b5f54(_0x2853e7)['to'][_0x5eb7e5(0x362)][_0x5eb7e5(0x1e4)],_0x161e2a(_0x2349f4[_0x5eb7e5(0x257)])['to'][_0x5eb7e5(0x355)](0x1f4),_0x360457[_0x5eb7e5(0x2bf)](_0x117976[_0x5eb7e5(0x270)],(_0x2ddff1,_0x13af32)=>{const _0x16b5e9=_0x5eb7e5;_0x117976['PCqQW'](_0x1bec19,_0x2ddff1)['to'][_0x16b5e9(0x362)][_0x16b5e9(0x1e4)],_0x117976[_0x16b5e9(0x3b9)](_0x4985a2,_0x13af32[_0x16b5e9(0x257)])['to'][_0x16b5e9(0x355)](0x1f4),_0x585afe[_0x16b5e9(0x3c6)]();}));});}),it(_0x5b557e['iNNJw'],function(_0x23ec84){const _0x5c6118=_0x30cae0,_0xa8627b={'yGRWK':function(_0x257b19,_0x489baf){return _0x257b19!==_0x489baf;},'xRLTI':_0x33a67a[_0x5c6118(0x352)],'dWFvM':_0x33a67a[_0x5c6118(0x40e)],'CDzuZ':function(_0x5400ef,_0x3a7485){return _0x5400ef(_0x3a7485);},'ljWQL':function(_0x22123f,_0x58a8c5){return _0x22123f===_0x58a8c5;},'cusAr':_0x33a67a[_0x5c6118(0x3c7)],'sdQxz':function(_0x47b79e,_0x2fc579){return _0x47b79e(_0x2fc579);},'crWti':_0x33a67a[_0x5c6118(0x210)]};if(_0x5c6118(0x279)!=='mnYTJ')_0x33a67a[_0x5c6118(0x2ce)](_0x420e2c,_0x5fc359)['to'][_0x5c6118(0x362)]['exist'],_0x33a67a['giSHs'](_0x3fde90,_0x488abf[_0x5c6118(0x3fb)])['to']['be']['true'],_0x33a67a[_0x5c6118(0x1d1)](_0x3ed266);else{let _0x22831d=[],_0x597f53=_0x33a67a[_0x5c6118(0x24f)](__dirname,_0x33a67a[_0x5c6118(0x360)]),_0x45ece4=fs[_0x5c6118(0x398)](_0x597f53,'utf-8');_0x13c779['on'](_0x5c6118(0x2fc),function(_0x34566b,_0x1dd179){const _0x18d1c7=_0x5c6118;_0xa8627b[_0x18d1c7(0x1e1)](_0xa8627b[_0x18d1c7(0x281)],_0xa8627b['dWFvM'])?_0x22831d['push'](_0x1dd179):_0x5b1602[_0x18d1c7(0x3d3)](function(){const _0x12668b=_0x18d1c7;_0x3aea7d[_0x12668b(0x3d3)](function(){_0xddc67f['close'](_0x3362b4);});});}),_0x13c779[_0x5c6118(0x334)](_0x5c6118(0x2f3)),_0x13c779['on'](_0x5c6118(0x2f3),function(_0x3dfd5f,_0x18ef2c){const _0xbd74e8=_0x5c6118;if(_0xa8627b['ljWQL']('RZbzm',_0xa8627b[_0xbd74e8(0x330)]))_0xa8627b['CDzuZ'](_0x279b4b,_0x27bae7)['to'][_0xbd74e8(0x362)][_0xbd74e8(0x1e4)],_0xa8627b[_0xbd74e8(0x2ec)](_0x1cdea3,_0x5bdabc['authenticated'])['to']['be'][_0xbd74e8(0x41e)],_0x4c5c13();else{let _0x431cd9=Buffer[_0xbd74e8(0x376)](_0x22831d);_0xa8627b[_0xbd74e8(0x2f4)](expect,_0x431cd9[_0xbd74e8(0x344)]())['to'][_0xbd74e8(0x355)](_0x45ece4['toString']()[_0xbd74e8(0x429)]()['replace'](/\n/g,'\x0d\x0a')),_0x18ef2c(null,_0xa8627b[_0xbd74e8(0x216)]);}}),_0x52a20b[_0x5c6118(0x260)]({'from':_0x33a67a['VXdCY'],'to':'test@valid.recipient'},fs[_0x5c6118(0x32c)](_0x597f53),function(_0x4455f5){const _0x387fd7=_0x5c6118;_0x33a67a[_0x387fd7(0x25c)](expect,_0x4455f5)['to'][_0x387fd7(0x362)][_0x387fd7(0x1e4)],_0x33a67a[_0x387fd7(0x3fa)](_0x23ec84);});}});});});});function _0x47d0(_0x135d91,_0x59bb3d){const _0x43588d=_0x4358();return _0x47d0=function(_0x47d0dc,_0x3e23c3){_0x47d0dc=_0x47d0dc-0x1cd;let _0xcf4fa=_0x43588d[_0x47d0dc];return _0xcf4fa;},_0x47d0(_0x135d91,_0x59bb3d);}function proxyConnect(_0x33651c,_0x1e1f73,_0x695a20,_0x2338b3,_0xd88b0d){const _0x3b4099=_0x2985b9,_0x1c7359={'sYLKl':function(_0x15c533,_0x1afdde){return _0x15c533+_0x1afdde;},'edweZ':_0x3b4099(0x35e),'CjMBI':_0x3b4099(0x3f6),'JyVLA':function(_0x1c30b6,_0x549d39){return _0x1c30b6(_0x549d39);},'KhbnU':_0x3b4099(0x1f8)};let _0x4c4459=net[_0x3b4099(0x306)](_0x33651c,_0x1e1f73,function(){const _0x34db67=_0x3b4099,_0x9af604={'oLiND':_0x34db67(0x30f)};_0x4c4459[_0x34db67(0x258)](_0x1c7359[_0x34db67(0x307)](_0x1c7359[_0x34db67(0x307)](_0x1c7359[_0x34db67(0x3e1)]+_0x2338b3+':',_0x695a20),_0x1c7359[_0x34db67(0x21a)]));let _0x4c075e='',_0x363457=function(_0x75a762){const _0x52c960=_0x34db67;let _0x5b9e8a,_0x2f1f77;_0x4c075e+=_0x75a762[_0x52c960(0x344)](_0x9af604[_0x52c960(0x399)]);if(_0x5b9e8a=_0x4c075e[_0x52c960(0x341)](/\r\n\r\n/)){const _0x53fbff=_0x52c960(0x356)['split']('|');let _0x56caa4=0x0;while(!![]){switch(_0x53fbff[_0x56caa4++]){case'0':return _0xd88b0d(null,_0x4c4459);case'1':_0x4c075e=_0x4c075e[_0x52c960(0x331)](0x0,_0x5b9e8a[_0x52c960(0x2ab)]);continue;case'2':_0x4c4459['removeListener']('data',_0x363457);continue;case'3':_0x2f1f77&&_0x4c4459[_0x52c960(0x305)](Buffer[_0x52c960(0x242)](_0x2f1f77,_0x52c960(0x30f)));continue;case'4':_0x2f1f77=_0x4c075e[_0x52c960(0x331)](_0x5b9e8a[_0x52c960(0x2ab)]+_0x5b9e8a[0x0][_0x52c960(0x277)]);continue;}break;}}};_0x4c4459['on']('data',_0x363457);});_0x4c4459['on'](_0x1c7359[_0x3b4099(0x1eb)],function(_0x42e037){const _0x15133f=_0x3b4099;_0x1c7359[_0x15133f(0x31e)](expect,_0x42e037)['to'][_0x15133f(0x362)][_0x15133f(0x1e4)];});}