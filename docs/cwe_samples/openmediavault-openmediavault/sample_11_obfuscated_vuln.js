'use strict';const _0x168b35=_0x4f0f;function _0x4f0f(_0x32a031,_0x414925){const _0x5e875a=_0x5e87();return _0x4f0f=function(_0x4f0fa4,_0x33d575){_0x4f0fa4=_0x4f0fa4-0x14f;let _0x4d1238=_0x5e875a[_0x4f0fa4];return _0x4d1238;},_0x4f0f(_0x32a031,_0x414925);}(function(_0x4a411c,_0x10d8c6){const _0x2b4778=_0x4f0f,_0x47f533=_0x4a411c();while(!![]){try{const _0x34db95=parseInt(_0x2b4778(0x185))/0x1+parseInt(_0x2b4778(0x170))/0x2*(parseInt(_0x2b4778(0x199))/0x3)+-parseInt(_0x2b4778(0x16e))/0x4+parseInt(_0x2b4778(0x197))/0x5+parseInt(_0x2b4778(0x160))/0x6*(parseInt(_0x2b4778(0x15a))/0x7)+-parseInt(_0x2b4778(0x159))/0x8*(-parseInt(_0x2b4778(0x195))/0x9)+-parseInt(_0x2b4778(0x1a2))/0xa;if(_0x34db95===_0x10d8c6)break;else _0x47f533['push'](_0x47f533['shift']());}catch(_0xbec80c){_0x47f533['push'](_0x47f533['shift']());}}}(_0x5e87,0x78c88));const http=require(_0x168b35(0x184)),proxy=require(_0x168b35(0x17d)),httpProxyClient=require(_0x168b35(0x19c)),SMTPServer=require(_0x168b35(0x169))[_0x168b35(0x167)],chai=require('chai'),expect=chai[_0x168b35(0x1a5)];function _0x5e87(){const _0x33c9c1=['test','8kMhAXc','436268TTOZWo','toString','not','pMyOp','should\x20connect\x20to\x20a\x20socket\x20through\x20proxy','mGKVC','48VuefVE','TBzTL','true','FviMG','zEewP','rbWJI','NRhFH','SMTPServer','ttpah','smtp-server','uFLXx','should\x20connect\x20to\x20a\x20socket\x20through\x20proxy\x20with\x20auth','xkUsx','AgmbV','1666460kUyPMo','iYylO','1814026alOanb','end','ziUUg','http://test:kest@localhost:','createServer','close','PZRzN','kiUdk','should\x20should\x20fail\x20auth','once','HTTP\x20Proxy\x20Client\x20Tests','GElKu','voJDi','proxy','kTYbV','data','oKVpr','ucqGA','TdtkM','headers','http','842331TnwVUi','JAQpO','vuwOs','zjcms','proxy-authorization','Basic\x20dGVzdDpwZXN0','jveNx','destroy','RJids','aRVsr','authenticate','127.0.0.1','eewHq','koBWs','GGIYa','UfEQA','6734457qThdAz','pblzY','4931930WxJkkl','YOLXR','3HXhFMH','oFZHW','nFvRv','../../lib/smtp-connection/http-proxy-client','IniTL','DOVHj','includeStack','puLNX','IukIx','30712520fRLjgt','ROVfY','XCVYV','expect','rHFBk','http://localhost:','http://test:pest@localhost:','exist','listen','LNBbx','PKFCw','WmmqI','QfXER','config'];_0x5e87=function(){return _0x33c9c1;};return _0x5e87();}chai[_0x168b35(0x157)][_0x168b35(0x19f)]=!![];const PROXY_PORT=0xc38,TARGET_PORT=0xc39;describe(_0x168b35(0x17a),function(){const _0xf246a6=_0x168b35,_0x32e44a={'TBzTL':function(_0x29c540,_0x79b6b4){return _0x29c540!==_0x79b6b4;},'SEbsU':_0xf246a6(0x19a),'nFvRv':_0xf246a6(0x14f),'kiUdk':function(_0x4ed281,_0x2ee976){return _0x4ed281(_0x2ee976);},'ziUUg':function(_0xa82133,_0x5e5877,_0x4d2bf6){return _0xa82133(_0x5e5877,_0x4d2bf6);},'puLNX':function(_0x2c2e3d,_0x5e2dd3){return _0x2c2e3d===_0x5e2dd3;},'pblzY':_0xf246a6(0x15e),'pMyOp':_0xf246a6(0x16b),'XCVYV':function(_0x5085a7,_0x3a4486,_0x460c52){return _0x5085a7(_0x3a4486,_0x460c52);}};_0x32e44a[_0xf246a6(0x172)](it,_0x32e44a[_0xf246a6(0x196)],function(_0x4713cc){const _0x235d30=_0xf246a6,_0x4500cc={'oKVpr':function(_0x4c6bbf,_0x385d5c){const _0x1172b8=_0x4f0f;return _0x32e44a[_0x1172b8(0x161)](_0x4c6bbf,_0x385d5c);},'IniTL':_0x32e44a['SEbsU'],'ttpah':_0x32e44a[_0x235d30(0x19b)],'LNBbx':function(_0x4ecac4,_0x274f0f){return _0x4ecac4(_0x274f0f);}};let _0x5d7e5d=new SMTPServer({'logger':![]});_0x5d7e5d[_0x235d30(0x152)](TARGET_PORT,()=>{const _0x44e0e1=_0x235d30,_0x42a9fb={'TdtkM':function(_0x30b560,_0x49d725){const _0x1425dc=_0x4f0f;return _0x4500cc[_0x1425dc(0x180)](_0x30b560,_0x49d725);},'iYmmX':_0x4500cc[_0x44e0e1(0x19d)],'ucqGA':function(_0x52f1fb,_0x3c3eb7){return _0x52f1fb(_0x3c3eb7);},'ugTyL':function(_0x11d3a0,_0xf2f233,_0x4ccaff,_0x2571f1,_0x588ad5){return _0x11d3a0(_0xf2f233,_0x4ccaff,_0x2571f1,_0x588ad5);},'PZRzN':_0x4500cc[_0x44e0e1(0x168)]};let _0x53d988=_0x4500cc[_0x44e0e1(0x153)](proxy,http['createServer']());_0x53d988[_0x44e0e1(0x152)](PROXY_PORT,()=>{const _0x307214=_0x44e0e1,_0x55466c={'rbWJI':function(_0x506be2,_0x5dde0b){return _0x506be2===_0x5dde0b;},'UfEQA':'Basic\x20dGVzdDpwZXN0','AgmbV':function(_0x4bd10b,_0x579ae1){const _0x34a2d1=_0x4f0f;return _0x42a9fb[_0x34a2d1(0x182)](_0x4bd10b,_0x579ae1);},'NRhFH':_0x42a9fb['iYmmX'],'GElKu':'eewHq','rHFBk':function(_0x5680bd,_0x4d102e){const _0xf8af80=_0x4f0f;return _0x42a9fb[_0xf8af80(0x181)](_0x5680bd,_0x4d102e);}};'rqWFk'!==_0x307214(0x16a)?_0x42a9fb['ugTyL'](httpProxyClient,_0x42a9fb[_0x307214(0x176)]+PROXY_PORT,TARGET_PORT,'127.0.0.1',(_0x350b57,_0x44b044)=>{const _0xb0bd4b=_0x307214;expect(_0x350b57)['to'][_0xb0bd4b(0x15c)][_0xb0bd4b(0x151)],_0x44b044['once']('data',_0x1d4f45=>{const _0x3f2add=_0xb0bd4b,_0x100af0={'GmEQj':function(_0x39708b,_0x12a87b,_0x9d7bf5){return _0x39708b(_0x12a87b,_0x9d7bf5);},'aRVsr':function(_0x2307d1,_0x5240fc){const _0x2ae43e=_0x4f0f;return _0x55466c[_0x2ae43e(0x165)](_0x2307d1,_0x5240fc);},'IukIx':_0x55466c[_0x3f2add(0x194)],'QfXER':function(_0x1d1d4a,_0x28694c){const _0x532069=_0x3f2add;return _0x55466c[_0x532069(0x16d)](_0x1d1d4a,_0x28694c);},'NyRtb':_0x3f2add(0x154),'Lssdk':_0x55466c[_0x3f2add(0x166)]};_0x55466c[_0x3f2add(0x17b)]!==_0x3f2add(0x191)?_0x100af0['GmEQj'](_0x42320d,null,_0x100af0[_0x3f2add(0x18e)](_0x5b45a7[_0x3f2add(0x183)][_0x3f2add(0x189)],_0x100af0[_0x3f2add(0x1a1)])):(_0x55466c[_0x3f2add(0x1a6)](expect,/^220[ -]/[_0x3f2add(0x158)](_0x1d4f45[_0x3f2add(0x15b)]()))['to']['be']['true'],_0x44b044[_0x3f2add(0x171)](),_0x44b044['on'](_0x3f2add(0x175),()=>{const _0x4b28a6=_0x3f2add,_0x5fedc4={'DOVHj':_0x4b28a6(0x175),'EQXXz':_0x4b28a6(0x17f),'xkUsx':function(_0x4ef227,_0x932ef3,_0x314b99,_0x1f9bb2,_0x3ceeb2){return _0x4ef227(_0x932ef3,_0x314b99,_0x1f9bb2,_0x3ceeb2);}};if(_0x100af0[_0x4b28a6(0x156)](_0x100af0['NyRtb'],_0x100af0['Lssdk']))_0x44b044[_0x4b28a6(0x18c)](),_0x5d7e5d[_0x4b28a6(0x175)](()=>setImmediate(_0x4713cc)&&_0x53d988[_0x4b28a6(0x175)]());else{const _0x4c0ca0={'voJDi':function(_0x4ed424,_0x3ac53e){return _0x4ed424(_0x3ac53e);},'NleIi':_0x5fedc4[_0x4b28a6(0x19e)],'kTYbV':_0x5fedc4['EQXXz']};_0x5fedc4[_0x4b28a6(0x16c)](_0x186dc2,_0x4b28a6(0x14f)+_0x3a091f,_0x36f75c,'127.0.0.1',(_0x231f40,_0x47a425)=>{const _0x3a3a16=_0x4b28a6;_0x4c0ca0[_0x3a3a16(0x17c)](_0x38e1fc,_0x231f40)['to']['not'][_0x3a3a16(0x151)],_0x47a425[_0x3a3a16(0x179)](_0x4c0ca0[_0x3a3a16(0x17e)],_0x1b4f33=>{const _0x546f7e=_0x3a3a16;_0x4c0ca0[_0x546f7e(0x17c)](_0x5aebfe,/^220[ -]/[_0x546f7e(0x158)](_0x1b4f33[_0x546f7e(0x15b)]()))['to']['be'][_0x546f7e(0x162)],_0x47a425[_0x546f7e(0x171)](),_0x47a425['on'](_0x4c0ca0['NleIi'],()=>{const _0x27dfb4=_0x546f7e;_0x47a425[_0x27dfb4(0x18c)](),_0x1c8c3c[_0x27dfb4(0x175)](()=>_0x2ff0f4(_0x637500)&&_0x24ada9[_0x27dfb4(0x175)]());});});});}}));});}):(_0x46fd34['destroy'](),_0x5302b1[_0x307214(0x175)](()=>_0x551a05(_0x63997d)&&_0x3bf5ed[_0x307214(0x175)]()));});});}),it(_0x32e44a[_0xf246a6(0x15d)],function(_0x456bb0){const _0x2c620f=_0xf246a6;let _0x1e05b8=new SMTPServer({'logger':![]});_0x1e05b8[_0x2c620f(0x152)](TARGET_PORT,()=>{const _0x246c2c=_0x2c620f,_0x4980a5={'dgXkA':'proxy-authorization','zjcms':function(_0x367a81,_0x191dc1){return _0x367a81+_0x191dc1;},'ceBZT':_0x246c2c(0x163),'ROVfY':_0x246c2c(0x150)};let _0x47301b=proxy(http[_0x246c2c(0x174)]());_0x47301b[_0x246c2c(0x18f)]=(_0x498d8b,_0x2e92f3)=>{const _0x345156=_0x246c2c;_0x2e92f3(null,_0x498d8b[_0x345156(0x183)][_0x4980a5['dgXkA']]===_0x345156(0x18a));},_0x47301b['listen'](PROXY_PORT,()=>{const _0x5d6a37=_0x246c2c,_0x1b6b6f={'MIRkJ':function(_0x52ecd9,_0x54bd61){const _0x191d95=_0x4f0f;return _0x4980a5[_0x191d95(0x188)](_0x52ecd9,_0x54bd61);},'JAQpO':_0x5d6a37(0x173),'GGIYa':'127.0.0.1'};_0x5d6a37(0x187)!==_0x4980a5['ceBZT']?httpProxyClient(_0x4980a5[_0x5d6a37(0x1a3)]+PROXY_PORT,TARGET_PORT,_0x5d6a37(0x190),(_0x3f7a40,_0x35b5a0)=>{const _0x5d6847=_0x5d6a37,_0x5d4f5b={'EpUZm':function(_0x399dee,_0x1caa98){return _0x399dee(_0x1caa98);},'XnMDp':function(_0x395fce,_0x1b5ed9){return _0x395fce(_0x1b5ed9);},'iYylO':_0x5d6847(0x175)};'RJids'!==_0x5d6847(0x18d)?_0x124604(_0x1b6b6f['MIRkJ'](_0x1b6b6f[_0x5d6847(0x186)],_0xe256cb),_0x3c11b6,_0x1b6b6f[_0x5d6847(0x193)],(_0x339729,_0x263909)=>{const _0xb9ec1a=_0x5d6847;_0x5d4f5b['EpUZm'](_0x395c8d,_0x339729)['to']['exist'],_0x5d4f5b['XnMDp'](_0x18d1d5,_0x263909)['to'][_0xb9ec1a(0x15c)][_0xb9ec1a(0x151)],_0x16f322[_0xb9ec1a(0x175)](()=>_0x4291a5(_0x3ad7e7)&&_0x1e469d[_0xb9ec1a(0x175)]());}):(expect(_0x3f7a40)['to'][_0x5d6847(0x15c)][_0x5d6847(0x151)],_0x35b5a0[_0x5d6847(0x179)]('data',_0x266e2f=>{const _0xaf6a0e=_0x5d6847;expect(/^220[ -]/['test'](_0x266e2f[_0xaf6a0e(0x15b)]()))['to']['be'][_0xaf6a0e(0x162)],_0x35b5a0[_0xaf6a0e(0x171)](),_0x35b5a0['on'](_0x5d4f5b[_0xaf6a0e(0x16f)],()=>{const _0x4d6ab2=_0xaf6a0e;_0x35b5a0[_0x4d6ab2(0x18c)](),_0x1e05b8[_0x4d6ab2(0x175)](()=>setImmediate(_0x456bb0)&&_0x47301b[_0x4d6ab2(0x175)]());});}));}):(_0x1fa34a(_0x2e87e0)['to'][_0x5d6a37(0x15c)][_0x5d6a37(0x151)],_0x2225eb[_0x5d6a37(0x179)]('data',_0x57a1fc=>{const _0x1d5b75=_0x5d6a37;_0x409260(/^220[ -]/[_0x1d5b75(0x158)](_0x57a1fc['toString']()))['to']['be']['true'],_0x148325[_0x1d5b75(0x171)](),_0x12b467['on'](_0x1d5b75(0x175),()=>{const _0x2b7437=_0x1d5b75;_0x6d1baa['destroy'](),_0x19dd0f[_0x2b7437(0x175)](()=>_0x3d95f3(_0x554ea8)&&_0x38c8f4[_0x2b7437(0x175)]());});}));});});}),_0x32e44a[_0xf246a6(0x1a4)](it,_0xf246a6(0x178),function(_0x151ab2){const _0x138fd1=_0xf246a6,_0x2cebc8={'zEewP':function(_0x4e2f6a,_0x493c7f,_0x54f625){const _0x57d114=_0x4f0f;return _0x32e44a[_0x57d114(0x172)](_0x4e2f6a,_0x493c7f,_0x54f625);},'YOLXR':function(_0x3171e6,_0x36076e){const _0x3e340f=_0x4f0f;return _0x32e44a[_0x3e340f(0x1a0)](_0x3171e6,_0x36076e);},'mGKVC':function(_0x4160d4,_0x35486f,_0x37c0dd,_0xd52452,_0x128251){return _0x4160d4(_0x35486f,_0x37c0dd,_0xd52452,_0x128251);},'WmmqI':function(_0x46245d,_0x2637c3){return _0x46245d+_0x2637c3;}};let _0x2e2e5e=new SMTPServer({'logger':![]});_0x2e2e5e[_0x138fd1(0x152)](TARGET_PORT,()=>{const _0x53e96d=_0x138fd1,_0x1592ff={'sAFPa':function(_0x18ced7,_0x212741){const _0x550fd3=_0x4f0f;return _0x32e44a[_0x550fd3(0x177)](_0x18ced7,_0x212741);}};let _0x1ad7fa=proxy(http[_0x53e96d(0x174)]());_0x1ad7fa['authenticate']=(_0x42a62a,_0x252780)=>{const _0x29a192=_0x53e96d;_0x2cebc8[_0x29a192(0x164)](_0x252780,null,_0x2cebc8[_0x29a192(0x198)](_0x42a62a['headers'][_0x29a192(0x189)],_0x29a192(0x18a)));},_0x1ad7fa['listen'](PROXY_PORT,()=>{const _0x2e21ca=_0x53e96d,_0x1c62c3={'koBWs':function(_0x379811,_0x1a8d4d){return _0x379811(_0x1a8d4d);}};_0x2e21ca(0x18b)===_0x2e21ca(0x18b)?_0x2cebc8[_0x2e21ca(0x15f)](httpProxyClient,_0x2cebc8[_0x2e21ca(0x155)](_0x2e21ca(0x173),PROXY_PORT),TARGET_PORT,_0x2e21ca(0x190),(_0x4a8465,_0x128260)=>{const _0x44e932=_0x2e21ca;_0x1592ff['sAFPa'](expect,_0x4a8465)['to'][_0x44e932(0x151)],expect(_0x128260)['to']['not'][_0x44e932(0x151)],_0x2e2e5e[_0x44e932(0x175)](()=>setImmediate(_0x151ab2)&&_0x1ad7fa[_0x44e932(0x175)]());}):(_0x1d5c75(_0x2c5bcb)['to'][_0x2e21ca(0x151)],_0x1c62c3[_0x2e21ca(0x192)](_0x4d97f0,_0x317a2e)['to'][_0x2e21ca(0x15c)][_0x2e21ca(0x151)],_0x42fa54[_0x2e21ca(0x175)](()=>_0x1ac8b4(_0x417ef1)&&_0x1ab6af[_0x2e21ca(0x175)]()));});});});});