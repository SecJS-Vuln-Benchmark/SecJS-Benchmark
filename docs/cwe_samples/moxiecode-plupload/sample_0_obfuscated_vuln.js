const _0x545afb=_0x2515;function _0xf80e(){const _0x8a199f=['findMany','54730UEldQh','NExwp','31674osHaPh','length','error','wVrxd','631908lqRbVj','findFirst','writable','VDByZ','No\x20valid\x20fields\x20to\x20update!','77488wLxhDe','1521UZizVH','workspace_threads','57388fAEJEr','2XOkEnW','312431cpszNk','GxgBu','uuid','45SzvhYb','delete','No\x20thread\x20id\x20provided\x20for\x20update','name','create','message','dZOmp','includes','../utils/prisma','1635781jlzVAm','New\x20thread','SvVRv'];_0xf80e=function(){return _0x8a199f;};return _0xf80e();}function _0x2515(_0x477a63,_0x518131){const _0xf80e3f=_0xf80e();return _0x2515=function(_0x25154b,_0x24bcbb){_0x25154b=_0x25154b-0x1e0;let _0x38f5eb=_0xf80e3f[_0x25154b];return _0x38f5eb;},_0x2515(_0x477a63,_0x518131);}(function(_0x4d1224,_0x29a433){const _0x993283=_0x2515,_0x2c9f56=_0x4d1224();while(!![]){try{const _0x5103d5=parseInt(_0x993283(0x1e4))/0x1*(-parseInt(_0x993283(0x1e3))/0x2)+-parseInt(_0x993283(0x1fa))/0x3+-parseInt(_0x993283(0x1e2))/0x4+parseInt(_0x993283(0x1e7))/0x5*(parseInt(_0x993283(0x1f6))/0x6)+-parseInt(_0x993283(0x1f0))/0x7+-parseInt(_0x993283(0x1ff))/0x8+parseInt(_0x993283(0x1e0))/0x9*(parseInt(_0x993283(0x1f4))/0xa);if(_0x5103d5===_0x29a433)break;else _0x2c9f56['push'](_0x2c9f56['shift']());}catch(_0x3f9a5b){_0x2c9f56['push'](_0x2c9f56['shift']());}}}(_0xf80e,0x2ecb1));const prisma=require(_0x545afb(0x1ef)),{v4:uuidv4}=require(_0x545afb(0x1e6)),WorkspaceThread={'writable':[_0x545afb(0x1ea)],'new':async function(_0x12982d,_0x4a2417=null){const _0x643631=_0x545afb,_0x5837b7={'VDByZ':_0x643631(0x1f1)};try{const _0x155d4a=await prisma['workspace_threads'][_0x643631(0x1eb)]({'data':{'name':_0x5837b7[_0x643631(0x1fd)],'slug':uuidv4(),'user_id':_0x4a2417?Number(_0x4a2417):null,'workspace_id':_0x12982d['id']}});return{'thread':_0x155d4a,'message':null};}catch(_0x1a20a4){return console[_0x643631(0x1f8)](_0x1a20a4[_0x643631(0x1ec)]),{'thread':null,'message':_0x1a20a4[_0x643631(0x1ec)]};}},'update':async function(_0x153003=null,_0x2db2f5={}){const _0x1c99a2=_0x545afb,_0x545d47={'wVrxd':_0x1c99a2(0x1fe)};if(!_0x153003)throw new Error(_0x1c99a2(0x1e9));const _0x116756=Object['keys'](_0x2db2f5)['filter'](_0x21061a=>this[_0x1c99a2(0x1fc)][_0x1c99a2(0x1ee)](_0x21061a));if(_0x116756[_0x1c99a2(0x1f7)]===0x0)return{'thread':_0x153003,'message':_0x545d47[_0x1c99a2(0x1f9)]};try{const _0x4a629d=await prisma[_0x1c99a2(0x1e1)]['update']({'where':{'id':_0x153003['id']},'data':_0x2db2f5});return{'thread':_0x4a629d,'message':null};}catch(_0x3b5745){return console['error'](_0x3b5745[_0x1c99a2(0x1ec)]),{'thread':null,'message':_0x3b5745['message']};}},'get':async function(_0x533077={}){const _0x4e9a2c=_0x545afb,_0x454c59={'NExwp':function(_0x55e4a4,_0x1a85fe){return _0x55e4a4===_0x1a85fe;},'dZOmp':'KMszG','BjjqU':_0x4e9a2c(0x1f2)};try{if(_0x454c59[_0x4e9a2c(0x1f5)](_0x454c59[_0x4e9a2c(0x1ed)],_0x454c59['dZOmp'])){const _0x16e907=await prisma[_0x4e9a2c(0x1e1)][_0x4e9a2c(0x1fb)]({'where':_0x533077});return _0x16e907||null;}else return _0x34b69b[_0x4e9a2c(0x1f8)](_0x3fe630[_0x4e9a2c(0x1ec)]),[];}catch(_0x35400f){return _0x4e9a2c(0x1e5)!==_0x454c59['BjjqU']?(console[_0x4e9a2c(0x1f8)](_0x35400f['message']),null):(_0x20c65e[_0x4e9a2c(0x1f8)](_0x474cc8[_0x4e9a2c(0x1ec)]),{'thread':null,'message':_0x3aa68a[_0x4e9a2c(0x1ec)]});}},'delete':async function(_0x3dc98c={}){const _0x505712=_0x545afb;try{return await prisma[_0x505712(0x1e1)][_0x505712(0x1e8)]({'where':_0x3dc98c}),!![];}catch(_0x337fa3){return console[_0x505712(0x1f8)](_0x337fa3['message']),![];}},'where':async function(_0x3de377={},_0x5d4b81=null,_0x542eab=null){const _0x35ece9=_0x545afb;try{const _0x3bfb43=await prisma[_0x35ece9(0x1e1)][_0x35ece9(0x1f3)]({'where':_0x3de377,..._0x5d4b81!==null?{'take':_0x5d4b81}:{},..._0x542eab!==null?{'orderBy':_0x542eab}:{}});return _0x3bfb43;}catch(_0x29f754){return console[_0x35ece9(0x1f8)](_0x29f754[_0x35ece9(0x1ec)]),[];}}};module['exports']={'WorkspaceThread':WorkspaceThread};