function _0x2f74(){const _0x2d6dc4=['54YmlGLJ','IwtYr','PqJNo','KvxIw','IXXdw','zPqft','12999152dKXlJn','agent_sql_connections','end','2905bkllOt','/admin/api-keys','whereWithUser','UMWnT','Egxlc','3762sFRgmX','embeddingMaxChunkLength','/admin/workspaces/:workspaceId/users','message_limit','update','qhKYC','json','user','text_splitter_chunk_size','dLSix','/admin/invites','../models/documents','../models/vectors','updateUsers','invite_created','bSLJW','kgJNV','vosgN','true','get','hCjPw','121371ZtObIm','EmsSc','users_can_delete_workspaces','GMOOR','36826596NapJpz','locals','/admin/invite/new','../utils/middleware/validatedRequest','../utils/helpers/admin','tuWzS','vHRDb','PXsJk','../models/workspace','../models/workspaceChats','/admin/workspaces','valid','qTYkf','DXDjP','LvwFr','username','limit_user_messages','new','/admin/user/:id','mPMNi','../utils/middleware/multiUserProtected','34897fxtdkr','RDpNv','STGxt','stringify','/admin/workspaces/:id','SriGJ','117BpfdTp','Could\x20not\x20find\x20an\x20API\x20Keys.','wVYhV','create','post','deleteForWorkspace','brief','deactivate','mRgbQ','updateSettings','nVTdA','../models/user','/admin/system-preferences','logEvent','error','357110XofdKL','../models/eventLogs','whereWithUsers','manager','hJRZG','/admin/delete-api-key/:id','support_email','iXEUi','sendTelemetry','admin','xJDxX','qGJjJ','kVERF','agent_search_provider','cgfog','uQabW','uFzRJ','fnLbd','delete','status','uJjCE','44MbjINg','where','../models/invite','7qinYiK','../models/telemetry','/admin/users/new','pIBKG','workspaceUsers','sendStatus','/admin/workspaces/:workspaceId/update-users','oZDPA','exports','api_key_deleted','10387201YGeMpy','value','DlmfU','djEuu','default_agent_skills','acRkZ','params','user_deleted','/admin/workspaces/new'];_0x2f74=function(){return _0x2d6dc4;};return _0x2f74();}const _0x754c48=_0x1465;function _0x1465(_0x3e4839,_0x338fd0){const _0x2f7474=_0x2f74();return _0x1465=function(_0x1465a9,_0x587993){_0x1465a9=_0x1465a9-0x1f3;let _0x219276=_0x2f7474[_0x1465a9];return _0x219276;},_0x1465(_0x3e4839,_0x338fd0);}(function(_0x298c76,_0x19f633){const _0x38e3e4=_0x1465,_0x1aed10=_0x298c76();while(!![]){try{const _0x1edf47=parseInt(_0x38e3e4(0x1fc))/0x1*(parseInt(_0x38e3e4(0x23c))/0x2)+parseInt(_0x38e3e4(0x25f))/0x3*(-parseInt(_0x38e3e4(0x226))/0x4)+-parseInt(_0x38e3e4(0x245))/0x5*(-parseInt(_0x38e3e4(0x24a))/0x6)+-parseInt(_0x38e3e4(0x229))/0x7*(-parseInt(_0x38e3e4(0x242))/0x8)+parseInt(_0x38e3e4(0x202))/0x9*(parseInt(_0x38e3e4(0x211))/0xa)+parseInt(_0x38e3e4(0x233))/0xb+-parseInt(_0x38e3e4(0x263))/0xc;if(_0x1edf47===_0x19f633)break;else _0x1aed10['push'](_0x1aed10['shift']());}catch(_0x38fb27){_0x1aed10['push'](_0x1aed10['shift']());}}}(_0x2f74,0xc9aa8));const {ApiKey}=require('../models/apiKeys'),{Document}=require(_0x754c48(0x255)),{EventLogs}=require(_0x754c48(0x212)),{Invite}=require(_0x754c48(0x228)),{SystemSettings}=require('../models/systemSettings'),{Telemetry}=require(_0x754c48(0x22a)),{User}=require(_0x754c48(0x20d)),{DocumentVectors}=require(_0x754c48(0x256)),{Workspace}=require(_0x754c48(0x26b)),{WorkspaceChats}=require(_0x754c48(0x26c)),{getVectorDbClass,getEmbeddingEngineSelection}=require('../utils/helpers'),{validRoleSelection,canModifyAdmin,validCanModify}=require(_0x754c48(0x267)),{reqBody,userFromSession,safeJsonParse}=require('../utils/http'),{strictMultiUserRoleValid,flexUserRoleValid,ROLES}=require(_0x754c48(0x1fb)),{validatedRequest}=require(_0x754c48(0x266));function adminEndpoints(_0x22675f){const _0x1d1cdb=_0x754c48,_0x2722d8={'Egxlc':'user_created','kVERF':function(_0x47e9e3,_0x39998a,_0x2ff14d){return _0x47e9e3(_0x39998a,_0x2ff14d);},'zPqft':function(_0x1c8b7c,_0x158330,_0x177b84){return _0x1c8b7c(_0x158330,_0x177b84);},'PXsJk':function(_0x161f2f,_0x484a5d){return _0x161f2f(_0x484a5d);},'lTTdw':_0x1d1cdb(0x215),'hCjPw':_0x1d1cdb(0x220),'tuWzS':function(_0x216a40,_0x18acbb){return _0x216a40===_0x18acbb;},'BmKCi':_0x1d1cdb(0x1fa),'uCICN':function(_0xd84e8b,_0x34595b,_0x230593){return _0xd84e8b(_0x34595b,_0x230593);},'kgJNV':function(_0x9233b2,_0x4c80ce){return _0x9233b2===_0x4c80ce;},'LoQwa':_0x1d1cdb(0x23e),'SriGJ':function(_0xdcc4c0){return _0xdcc4c0();},'vHRDb':function(_0x3cb2bd,_0x3749af){return _0x3cb2bd(_0x3749af);},'pIBKG':function(_0x2597bc,_0xdcbb99){return _0x2597bc(_0xdcbb99);},'uJjCE':function(_0x463c1e,_0x5807d8){return _0x463c1e!==_0x5807d8;},'iXEUi':_0x1d1cdb(0x1fd),'MmEuz':'delete-namespace','qGJjJ':_0x1d1cdb(0x24d),'yUDcI':'footer_data','URlhU':function(_0x2db148){return _0x2db148();},'EDZsv':'text_splitter_chunk_overlap','EmsSc':_0x1d1cdb(0x21e),'djEuu':function(_0x807ffb,_0x55a88e,_0x3c455){return _0x807ffb(_0x55a88e,_0x3c455);},'DlmfU':_0x1d1cdb(0x237),'STGxt':function(_0x541407,_0x4a85fe){return _0x541407===_0x4a85fe;},'CDPpc':_0x1d1cdb(0x238),'fnLbd':function(_0x3b8e43,_0x4f9876){return _0x3b8e43===_0x4f9876;},'qhKYC':_0x1d1cdb(0x25b),'GMOOR':_0x1d1cdb(0x1f3),'uFzRJ':_0x1d1cdb(0x203),'oZDPA':'api_key_created','ReEnK':_0x1d1cdb(0x1f9),'cgfog':_0x1d1cdb(0x254),'xJDxX':function(_0x131e93,_0x5830c2){return _0x131e93(_0x5830c2);},'DXDjP':'/admin/invite/:id','UMWnT':function(_0x2d7c8c,_0x2de088){return _0x2d7c8c(_0x2de088);},'LvwFr':function(_0x278dc2,_0x4bcd90){return _0x278dc2(_0x4bcd90);},'wVYhV':function(_0x3e6bd4,_0x4063c6){return _0x3e6bd4(_0x4063c6);},'tocXB':_0x1d1cdb(0x23b),'mRgbQ':_0x1d1cdb(0x22f),'TWtTN':function(_0x3bd149,_0x5ca1be){return _0x3bd149(_0x5ca1be);},'bSLJW':_0x1d1cdb(0x200),'dLSix':_0x1d1cdb(0x20e),'LbXmJ':'/admin/generate-api-key','KvxIw':_0x1d1cdb(0x216)};if(!_0x22675f)return;_0x22675f[_0x1d1cdb(0x25d)]('/admin/users',[validatedRequest,_0x2722d8['pIBKG'](strictMultiUserRoleValid,[ROLES[_0x1d1cdb(0x21a)],ROLES['manager']])],async(_0x49f12c,_0x5b625c)=>{const _0x102ad3=_0x1d1cdb;try{const _0x31aad8=(await User[_0x102ad3(0x227)]())['map'](_0x30ca95=>{const {password:_0x211e1a,..._0x4fab44}=_0x30ca95;return _0x4fab44;});_0x5b625c[_0x102ad3(0x224)](0xc8)[_0x102ad3(0x250)]({'users':_0x31aad8});}catch(_0x6db983){console['error'](_0x6db983),_0x5b625c[_0x102ad3(0x22e)](0x1f4)['end']();}}),_0x22675f['post'](_0x1d1cdb(0x22b),[validatedRequest,strictMultiUserRoleValid([ROLES[_0x1d1cdb(0x21a)],ROLES['manager']])],async(_0xfad914,_0x115152)=>{const _0x2fa867=_0x1d1cdb;try{const _0xd8859e=await userFromSession(_0xfad914,_0x115152),_0x390a35=reqBody(_0xfad914),_0x10120a=validRoleSelection(_0xd8859e,_0x390a35);if(!_0x10120a[_0x2fa867(0x26e)]){_0x115152[_0x2fa867(0x224)](0xc8)['json']({'user':null,'error':_0x10120a[_0x2fa867(0x210)]});return;}const {user:_0x39583a,error:_0x1f68ee}=await User[_0x2fa867(0x205)](_0x390a35);!!_0x39583a&&await EventLogs[_0x2fa867(0x20f)](_0x2722d8[_0x2fa867(0x249)],{'userName':_0x39583a[_0x2fa867(0x1f6)],'createdBy':_0xd8859e[_0x2fa867(0x1f6)]},_0xd8859e['id']),_0x115152['status'](0xc8)['json']({'user':_0x39583a,'error':_0x1f68ee});}catch(_0x4f123a){console['error'](_0x4f123a),_0x115152[_0x2fa867(0x22e)](0x1f4)[_0x2fa867(0x244)]();}}),_0x22675f[_0x1d1cdb(0x206)](_0x1d1cdb(0x1f9),[validatedRequest,strictMultiUserRoleValid([ROLES[_0x1d1cdb(0x21a)],ROLES[_0x1d1cdb(0x214)]])],async(_0x549f4e,_0x3b50db)=>{const _0x371031=_0x1d1cdb;try{const _0x14c63b=await _0x2722d8[_0x371031(0x21d)](userFromSession,_0x549f4e,_0x3b50db),{id:_0x519ab6}=_0x549f4e[_0x371031(0x239)],_0x1d617c=reqBody(_0x549f4e),_0x2576a9=await User['get']({'id':Number(_0x519ab6)}),_0xc6d956=validCanModify(_0x14c63b,_0x2576a9);if(!_0xc6d956['valid']){_0x3b50db[_0x371031(0x224)](0xc8)[_0x371031(0x250)]({'success':![],'error':_0xc6d956['error']});return;}const _0x5d4dc2=_0x2722d8['kVERF'](validRoleSelection,_0x14c63b,_0x1d617c);if(!_0x5d4dc2[_0x371031(0x26e)]){_0x3b50db['status'](0xc8)[_0x371031(0x250)]({'success':![],'error':_0x5d4dc2[_0x371031(0x210)]});return;}const _0x2e380a=await _0x2722d8[_0x371031(0x241)](canModifyAdmin,_0x2576a9,_0x1d617c);if(!_0x2e380a['valid']){_0x3b50db['status'](0xc8)[_0x371031(0x250)]({'success':![],'error':_0x2e380a['error']});return;}const {success:_0x3a70f9,error:_0x2ee215}=await User[_0x371031(0x24e)](_0x519ab6,_0x1d617c);_0x3b50db['status'](0xc8)['json']({'success':_0x3a70f9,'error':_0x2ee215});}catch(_0xd3a3ee){console[_0x371031(0x210)](_0xd3a3ee),_0x3b50db[_0x371031(0x22e)](0x1f4)['end']();}}),_0x22675f[_0x1d1cdb(0x223)](_0x2722d8['ReEnK'],[validatedRequest,_0x2722d8[_0x1d1cdb(0x26a)](strictMultiUserRoleValid,[ROLES[_0x1d1cdb(0x21a)],ROLES[_0x1d1cdb(0x214)]])],async(_0x3e2ac9,_0x202c7c)=>{const _0x53f99c=_0x1d1cdb;try{if(_0x53f99c(0x240)!==_0x53f99c(0x240))_0x518e4d[_0x53f99c(0x210)](_0x2c48da),_0x5efc92[_0x53f99c(0x22e)](0x1f4)[_0x53f99c(0x244)]();else{const _0x3cd57f=await userFromSession(_0x3e2ac9,_0x202c7c),{id:_0x2f9335}=_0x3e2ac9[_0x53f99c(0x239)],_0x500857=await User[_0x53f99c(0x25d)]({'id':Number(_0x2f9335)}),_0x4d9d12=_0x2722d8[_0x53f99c(0x21d)](validCanModify,_0x3cd57f,_0x500857);if(!_0x4d9d12[_0x53f99c(0x26e)]){_0x202c7c[_0x53f99c(0x224)](0xc8)[_0x53f99c(0x250)]({'success':![],'error':_0x4d9d12[_0x53f99c(0x210)]});return;}await User[_0x53f99c(0x223)]({'id':_0x2722d8[_0x53f99c(0x26a)](Number,_0x2f9335)}),await EventLogs[_0x53f99c(0x20f)](_0x53f99c(0x23a),{'userName':_0x500857[_0x53f99c(0x1f6)],'deletedBy':_0x3cd57f[_0x53f99c(0x1f6)]},_0x3cd57f['id']),_0x202c7c[_0x53f99c(0x224)](0xc8)[_0x53f99c(0x250)]({'success':!![],'error':null});}}catch(_0x55263c){console['error'](_0x55263c),_0x202c7c[_0x53f99c(0x22e)](0x1f4)['end']();}}),_0x22675f['get'](_0x2722d8[_0x1d1cdb(0x21f)],[validatedRequest,_0x2722d8[_0x1d1cdb(0x21b)](strictMultiUserRoleValid,[ROLES[_0x1d1cdb(0x21a)],ROLES['manager']])],async(_0xf61512,_0x580509)=>{const _0x3fae60=_0x1d1cdb;try{const _0x548ca5=await Invite[_0x3fae60(0x213)]();_0x580509[_0x3fae60(0x224)](0xc8)[_0x3fae60(0x250)]({'invites':_0x548ca5});}catch(_0x722781){console[_0x3fae60(0x210)](_0x722781),_0x580509[_0x3fae60(0x22e)](0x1f4)['end']();}}),_0x22675f[_0x1d1cdb(0x206)](_0x1d1cdb(0x265),[validatedRequest,strictMultiUserRoleValid([ROLES['admin'],ROLES['manager']])],async(_0x5411c7,_0x5ce3e6)=>{const _0x206e17=_0x1d1cdb;try{const _0x41bdb3=await userFromSession(_0x5411c7,_0x5ce3e6),_0x5a52fd=reqBody(_0x5411c7),{invite:_0x10dd71,error:_0x3f531b}=await Invite[_0x206e17(0x205)]({'createdByUserId':_0x41bdb3['id'],'workspaceIds':_0x5a52fd?.['workspaceIds']||[]});await EventLogs[_0x206e17(0x20f)](_0x206e17(0x258),{'inviteCode':_0x10dd71['code'],'createdBy':_0x5ce3e6[_0x206e17(0x264)]?.[_0x206e17(0x251)]?.['username']},_0x5ce3e6['locals']?.[_0x206e17(0x251)]?.['id']),_0x5ce3e6[_0x206e17(0x224)](0xc8)['json']({'invite':_0x10dd71,'error':_0x3f531b});}catch(_0xcb751e){console[_0x206e17(0x210)](_0xcb751e),_0x5ce3e6[_0x206e17(0x22e)](0x1f4)[_0x206e17(0x244)]();}}),_0x22675f[_0x1d1cdb(0x223)](_0x2722d8[_0x1d1cdb(0x1f4)],[validatedRequest,_0x2722d8[_0x1d1cdb(0x248)](strictMultiUserRoleValid,[ROLES[_0x1d1cdb(0x21a)],ROLES[_0x1d1cdb(0x214)]])],async(_0x19b27a,_0x2c295d)=>{const _0xc79c68=_0x1d1cdb;try{const {id:_0x33751a}=_0x19b27a['params'],{success:_0x482077,error:_0x1f1635}=await Invite[_0xc79c68(0x209)](_0x33751a);await EventLogs[_0xc79c68(0x20f)]('invite_deleted',{'deletedBy':_0x2c295d[_0xc79c68(0x264)]?.[_0xc79c68(0x251)]?.[_0xc79c68(0x1f6)]},_0x2c295d['locals']?.[_0xc79c68(0x251)]?.['id']),_0x2c295d[_0xc79c68(0x224)](0xc8)[_0xc79c68(0x250)]({'success':_0x482077,'error':_0x1f1635});}catch(_0x33ec12){console[_0xc79c68(0x210)](_0x33ec12),_0x2c295d[_0xc79c68(0x22e)](0x1f4)[_0xc79c68(0x244)]();}}),_0x22675f[_0x1d1cdb(0x25d)](_0x1d1cdb(0x26d),[validatedRequest,_0x2722d8[_0x1d1cdb(0x1f5)](strictMultiUserRoleValid,[ROLES['admin'],ROLES[_0x1d1cdb(0x214)]])],async(_0x2b64df,_0x5ebe9e)=>{const _0xea09d3=_0x1d1cdb;if(_0x2722d8['lTTdw']===_0x2722d8[_0xea09d3(0x25e)])_0x1532d1[_0xea09d3(0x210)](_0x25628e),_0x5980a7['sendStatus'](0x1f4)['end']();else try{const _0x19120d=await Workspace[_0xea09d3(0x213)]();_0x5ebe9e[_0xea09d3(0x224)](0xc8)[_0xea09d3(0x250)]({'workspaces':_0x19120d});}catch(_0x232bd5){if(_0x2722d8['tuWzS']('EtflC',_0x2722d8['BmKCi'])){_0x53fbe6[_0xea09d3(0x224)](0xc8)[_0xea09d3(0x250)]({'success':![],'error':_0xf4628c['error']});return;}else console[_0xea09d3(0x210)](_0x232bd5),_0x5ebe9e['sendStatus'](0x1f4)['end']();}}),_0x22675f[_0x1d1cdb(0x25d)](_0x1d1cdb(0x24c),[validatedRequest,_0x2722d8[_0x1d1cdb(0x204)](strictMultiUserRoleValid,[ROLES['admin'],ROLES['manager']])],async(_0x2b89db,_0x440cb6)=>{const _0x597b25=_0x1d1cdb;try{const {workspaceId:_0x4283dd}=_0x2b89db[_0x597b25(0x239)],_0x1280ac=await Workspace[_0x597b25(0x22d)](_0x4283dd);_0x440cb6[_0x597b25(0x224)](0xc8)[_0x597b25(0x250)]({'users':_0x1280ac});}catch(_0x73b834){console[_0x597b25(0x210)](_0x73b834),_0x440cb6[_0x597b25(0x22e)](0x1f4)[_0x597b25(0x244)]();}}),_0x22675f[_0x1d1cdb(0x206)](_0x2722d8['tocXB'],[validatedRequest,strictMultiUserRoleValid([ROLES[_0x1d1cdb(0x21a)],ROLES[_0x1d1cdb(0x214)]])],async(_0x306dfd,_0x5ea5f8)=>{const _0x37a910=_0x1d1cdb;try{const _0x4fc2bf=await _0x2722d8['uCICN'](userFromSession,_0x306dfd,_0x5ea5f8),{name:_0x182e2f}=reqBody(_0x306dfd),{workspace:_0x482dda,message:_0x14299c}=await Workspace[_0x37a910(0x1f8)](_0x182e2f,_0x4fc2bf['id']);_0x5ea5f8['status'](0xc8)[_0x37a910(0x250)]({'workspace':_0x482dda,'error':_0x14299c});}catch(_0x2facd9){if(_0x2722d8[_0x37a910(0x25a)](_0x2722d8['LoQwa'],_0x37a910(0x20c))){_0x40aea2[_0x37a910(0x224)](0xc8)[_0x37a910(0x250)]({'success':![],'error':_0x4b6994[_0x37a910(0x210)]});return;}else console[_0x37a910(0x210)](_0x2facd9),_0x5ea5f8[_0x37a910(0x22e)](0x1f4)['end']();}}),_0x22675f['post'](_0x2722d8[_0x1d1cdb(0x20a)],[validatedRequest,_0x2722d8['TWtTN'](strictMultiUserRoleValid,[ROLES[_0x1d1cdb(0x21a)],ROLES[_0x1d1cdb(0x214)]])],async(_0x33641d,_0x5e1aa6)=>{const _0x5c88f7=_0x1d1cdb;try{const {workspaceId:_0x1cd8b1}=_0x33641d[_0x5c88f7(0x239)],{userIds:_0x457e2b}=reqBody(_0x33641d),{success:_0x40df72,error:_0x4910ce}=await Workspace[_0x5c88f7(0x257)](_0x1cd8b1,_0x457e2b);_0x5e1aa6[_0x5c88f7(0x224)](0xc8)['json']({'success':_0x40df72,'error':_0x4910ce});}catch(_0x275509){console[_0x5c88f7(0x210)](_0x275509),_0x5e1aa6[_0x5c88f7(0x22e)](0x1f4)[_0x5c88f7(0x244)]();}}),_0x22675f['delete'](_0x2722d8[_0x1d1cdb(0x259)],[validatedRequest,strictMultiUserRoleValid([ROLES[_0x1d1cdb(0x21a)],ROLES[_0x1d1cdb(0x214)]])],async(_0x1881ae,_0x48fdab)=>{const _0x1584a5=_0x1d1cdb;try{const {id:_0x122637}=_0x1881ae[_0x1584a5(0x239)],_0x2fb697=_0x2722d8[_0x1584a5(0x201)](getVectorDbClass),_0x51d57f=await Workspace['get']({'id':Number(_0x122637)});if(!_0x51d57f){_0x48fdab[_0x1584a5(0x22e)](0x194)[_0x1584a5(0x244)]();return;}await WorkspaceChats[_0x1584a5(0x223)]({'workspaceId':_0x2722d8[_0x1584a5(0x269)](Number,_0x51d57f['id'])}),await DocumentVectors[_0x1584a5(0x207)](Number(_0x51d57f['id'])),await Document[_0x1584a5(0x223)]({'workspaceId':Number(_0x51d57f['id'])}),await Workspace[_0x1584a5(0x223)]({'id':_0x2722d8[_0x1584a5(0x22c)](Number,_0x51d57f['id'])});try{if(_0x2722d8[_0x1584a5(0x225)](_0x2722d8[_0x1584a5(0x218)],_0x1584a5(0x1fd))){_0x147696['sendStatus'](0x194)['end']();return;}else await _0x2fb697[_0x2722d8['MmEuz']]({'namespace':_0x51d57f['slug']});}catch(_0x526b39){console['error'](_0x526b39['message']);}_0x48fdab[_0x1584a5(0x224)](0xc8)['json']({'success':!![],'error':null});}catch(_0x58be06){console[_0x1584a5(0x210)](_0x58be06),_0x48fdab[_0x1584a5(0x22e)](0x1f4)[_0x1584a5(0x244)]();}}),_0x22675f[_0x1d1cdb(0x25d)](_0x1d1cdb(0x20e),[validatedRequest,flexUserRoleValid([ROLES[_0x1d1cdb(0x21a)],ROLES['manager']])],async(_0x2d1ce3,_0x2f037d)=>{const _0xed922f=_0x1d1cdb;try{const _0x4d5b78={'users_can_delete_workspaces':(await SystemSettings[_0xed922f(0x25d)]({'label':_0xed922f(0x261)}))?.[_0xed922f(0x234)]===_0xed922f(0x25c),'limit_user_messages':_0x2722d8[_0xed922f(0x268)]((await SystemSettings[_0xed922f(0x25d)]({'label':_0xed922f(0x1f7)}))?.[_0xed922f(0x234)],_0xed922f(0x25c)),'message_limit':_0x2722d8[_0xed922f(0x26a)](Number,(await SystemSettings['get']({'label':_0x2722d8[_0xed922f(0x21c)]}))?.['value'])||0xa,'footer_data':(await SystemSettings[_0xed922f(0x25d)]({'label':_0x2722d8['yUDcI']}))?.['value']||JSON[_0xed922f(0x1ff)]([]),'support_email':(await SystemSettings[_0xed922f(0x25d)]({'label':_0xed922f(0x217)}))?.[_0xed922f(0x234)]||null,'text_splitter_chunk_size':(await SystemSettings['get']({'label':_0xed922f(0x252)}))?.[_0xed922f(0x234)]||_0x2722d8['URlhU'](getEmbeddingEngineSelection)?.['embeddingMaxChunkLength']||null,'text_splitter_chunk_overlap':(await SystemSettings[_0xed922f(0x25d)]({'label':_0x2722d8['EDZsv']}))?.[_0xed922f(0x234)]||null,'max_embed_chunk_size':getEmbeddingEngineSelection()?.[_0xed922f(0x24b)]||0x3e8,'agent_search_provider':(await SystemSettings['get']({'label':_0x2722d8[_0xed922f(0x260)]}))?.[_0xed922f(0x234)]||null,'agent_sql_connections':await SystemSettings[_0xed922f(0x208)][_0xed922f(0x243)](),'default_agent_skills':_0x2722d8[_0xed922f(0x236)](safeJsonParse,(await SystemSettings[_0xed922f(0x25d)]({'label':_0x2722d8[_0xed922f(0x235)]}))?.[_0xed922f(0x234)],[])||[]};_0x2f037d['status'](0xc8)[_0xed922f(0x250)]({'settings':_0x4d5b78});}catch(_0x235f6a){if(_0x2722d8[_0xed922f(0x1fe)](_0x2722d8['CDPpc'],_0xed922f(0x238)))console['error'](_0x235f6a),_0x2f037d[_0xed922f(0x22e)](0x1f4)[_0xed922f(0x244)]();else{_0x162caf[_0xed922f(0x224)](0xc8)[_0xed922f(0x250)]({'user':null,'error':_0x2b29b9[_0xed922f(0x210)]});return;}}}),_0x22675f[_0x1d1cdb(0x206)](_0x2722d8[_0x1d1cdb(0x253)],[validatedRequest,flexUserRoleValid([ROLES[_0x1d1cdb(0x21a)],ROLES[_0x1d1cdb(0x214)]])],async(_0x1f5b73,_0x375354)=>{const _0x5de2d6=_0x1d1cdb;try{if(_0x2722d8[_0x5de2d6(0x222)](_0x2722d8[_0x5de2d6(0x24f)],_0x2722d8[_0x5de2d6(0x262)]))_0x2eb971[_0x5de2d6(0x210)](_0x33b8bd),_0x463ee7[_0x5de2d6(0x22e)](0x1f4)[_0x5de2d6(0x244)]();else{const _0x5d1151=_0x2722d8[_0x5de2d6(0x269)](reqBody,_0x1f5b73);await SystemSettings[_0x5de2d6(0x20b)](_0x5d1151),_0x375354[_0x5de2d6(0x224)](0xc8)[_0x5de2d6(0x250)]({'success':!![],'error':null});}}catch(_0xd57ef){console['error'](_0xd57ef),_0x375354[_0x5de2d6(0x22e)](0x1f4)[_0x5de2d6(0x244)]();}}),_0x22675f[_0x1d1cdb(0x25d)](_0x1d1cdb(0x246),[validatedRequest,strictMultiUserRoleValid([ROLES['admin']])],async(_0x260da4,_0x53c17c)=>{const _0x26ceb7=_0x1d1cdb;try{const _0x159735=await ApiKey[_0x26ceb7(0x247)]({});return _0x53c17c[_0x26ceb7(0x224)](0xc8)[_0x26ceb7(0x250)]({'apiKeys':_0x159735,'error':null});}catch(_0x5d55fa){console['error'](_0x5d55fa),_0x53c17c[_0x26ceb7(0x224)](0x1f4)[_0x26ceb7(0x250)]({'apiKey':null,'error':_0x2722d8[_0x26ceb7(0x221)]});}}),_0x22675f[_0x1d1cdb(0x206)](_0x2722d8['LbXmJ'],[validatedRequest,strictMultiUserRoleValid([ROLES['admin']])],async(_0x334686,_0x4cff17)=>{const _0x24378d=_0x1d1cdb;try{const _0x2822fc=await userFromSession(_0x334686,_0x4cff17),{apiKey:_0x35c8d6,error:_0x9c19b4}=await ApiKey[_0x24378d(0x205)](_0x2822fc['id']);return await Telemetry[_0x24378d(0x219)](_0x2722d8[_0x24378d(0x230)]),await EventLogs[_0x24378d(0x20f)](_0x2722d8['oZDPA'],{'createdBy':_0x2822fc?.[_0x24378d(0x1f6)]},_0x2822fc?.['id']),_0x4cff17[_0x24378d(0x224)](0xc8)[_0x24378d(0x250)]({'apiKey':_0x35c8d6,'error':_0x9c19b4});}catch(_0x4f469b){_0x2722d8[_0x24378d(0x25a)]('IwtYr',_0x24378d(0x23d))?(console['error'](_0x4f469b),_0x4cff17[_0x24378d(0x22e)](0x1f4)[_0x24378d(0x244)]()):(_0x13d710[_0x24378d(0x210)](_0x1ba21a),_0x1ecdec['sendStatus'](0x1f4)[_0x24378d(0x244)]());}}),_0x22675f['delete'](_0x2722d8[_0x1d1cdb(0x23f)],[validatedRequest,strictMultiUserRoleValid([ROLES['admin']])],async(_0x5f4bf5,_0x6f7670)=>{const _0x19e4ea=_0x1d1cdb;try{const {id:_0x4fbcb0}=_0x5f4bf5[_0x19e4ea(0x239)];return await ApiKey[_0x19e4ea(0x223)]({'id':_0x2722d8[_0x19e4ea(0x26a)](Number,_0x4fbcb0)}),await EventLogs[_0x19e4ea(0x20f)](_0x19e4ea(0x232),{'deletedBy':_0x6f7670[_0x19e4ea(0x264)]?.[_0x19e4ea(0x251)]?.[_0x19e4ea(0x1f6)]},_0x6f7670?.[_0x19e4ea(0x264)]?.['user']?.['id']),_0x6f7670[_0x19e4ea(0x224)](0xc8)[_0x19e4ea(0x244)]();}catch(_0x37d9f3){console[_0x19e4ea(0x210)](_0x37d9f3),_0x6f7670['sendStatus'](0x1f4)['end']();}});}module[_0x754c48(0x231)]={'adminEndpoints':adminEndpoints};