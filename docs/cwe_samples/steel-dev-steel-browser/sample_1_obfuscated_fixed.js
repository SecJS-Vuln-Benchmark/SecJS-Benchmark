const _0x1d0237=_0x51f9;(function(_0x4585f3,_0x2e0574){const _0x1d9333=_0x51f9,_0xb5009b=_0x4585f3();while(!![]){try{const _0x4f68d3=parseInt(_0x1d9333(0xd1))/0x1+parseInt(_0x1d9333(0xb5))/0x2*(parseInt(_0x1d9333(0x86))/0x3)+parseInt(_0x1d9333(0x96))/0x4+parseInt(_0x1d9333(0xaf))/0x5+-parseInt(_0x1d9333(0x8b))/0x6+-parseInt(_0x1d9333(0x8f))/0x7+-parseInt(_0x1d9333(0xf3))/0x8*(parseInt(_0x1d9333(0xcf))/0x9);if(_0x4f68d3===_0x2e0574)break;else _0xb5009b['push'](_0xb5009b['shift']());}catch(_0x566fd0){_0xb5009b['push'](_0xb5009b['shift']());}}}(_0x1062,0x2203a));function _0x51f9(_0xa0f519,_0x363269){const _0x10624c=_0x1062();return _0x51f9=function(_0x51f98f,_0x15e1fd){_0x51f98f=_0x51f98f-0x79;let _0x1828c7=_0x10624c[_0x51f98f];return _0x1828c7;},_0x51f9(_0xa0f519,_0x363269);}import{FindState}from'./pdf_find_controller.js';function _0x1062(){const _0x509acf=['GNDFO','resize','highlightallchange','classList','2BTqkFA','b3-button--outline','reset','highlightAllCheckbox','focus','StDfe','rtaYC','WRAPPED','toggleButton','fsUwN','PENDING','findField','matchDiacritics','remove','gvkIW','dispatch','eventBus','find_not_found','select','Cwlmg','CXrxx','bhFSq','parentElement','casesensitivitychange','SarYc','zoyAe','9lAUUvr','VPLVU','230186JQmkFM','languages','DAZqF','again','find_match_count_limit','{{total}}','jtpOY','findNextButton','fn__hidden','IBuJP','addEventListener','bind','input','prNal','AgcQy','YGbdT','aria-expanded','find_reached_','replace','nnrpv','target','shiftKey','DJuRC','entireWord','ATbLI','findMsg','xVqoI','updateResultsCount','JLeQR','firstElementChild','caseSensitiveCheckbox','HhVxv','bar','entirewordchange','3115832UcfqAX','findResultsCount','true','checked','caseSensitive','nLoLW','doSOH','click','{{limit}}','BxjRM','add','slNQm','alPvm','VXzxM','520617AmyEzW','diacriticmatchingchange','false','findPreviousButton','highlightAll','918060gJytgP','sEaXo','vCsBc','_on','182441ybesjJ','l10n','DfgYJ','keyCode','pncVK','toggled','data-status','180796UtiRUM','SAdgA','setAttribute','bpUir','aria-invalid','toggle','opened','bottom','matchDiacriticsCheckbox','FOUND','urCas','dispatchEvent','gVaMR','findbarclose','value','NOT_FOUND','updateUIState','wrapContainers','textContent','fJPdw','clientHeight','siyuan','jIngo','dzbDd','close','1294750LxVcwV','MZEuK'];_0x1062=function(){return _0x509acf;};return _0x1062();}const MATCHES_COUNT_LIMIT=0x3e8;class PDFFindBar{constructor(_0x51cfeb,_0x482f21,_0x54460b){const _0x3710c7=_0x51f9,_0x469f6e={'gVaMR':function(_0x2ffeb2,_0x27a763){return _0x2ffeb2===_0x27a763;},'ATbLI':_0x3710c7(0xce),'yzeUU':_0x3710c7(0xd4),'hqnCu':function(_0x35e4a3,_0x37747f){return _0x35e4a3!==_0x37747f;},'urCas':_0x3710c7(0xb6),'MZEuK':function(_0x490fbb,_0x4d1630){return _0x490fbb!==_0x4d1630;},'xVqoI':_0x3710c7(0xf2),'prNal':_0x3710c7(0xe0),'sEaXo':_0x3710c7(0x7e),'DJuRC':_0x3710c7(0x87),'jIngo':_0x3710c7(0xdd),'bhFSq':_0x3710c7(0x7f),'vdcvb':_0x3710c7(0xb2)};this['opened']=![],this[_0x3710c7(0xf1)]=_0x51cfeb[_0x3710c7(0xf1)],this[_0x3710c7(0xbd)]=_0x51cfeb[_0x3710c7(0xbd)],this[_0x3710c7(0xc0)]=_0x51cfeb[_0x3710c7(0xc0)],this[_0x3710c7(0x8a)]=_0x51cfeb[_0x3710c7(0xb8)],this['caseSensitive']=_0x51cfeb[_0x3710c7(0xef)],this[_0x3710c7(0xc1)]=_0x51cfeb[_0x3710c7(0x9e)],this[_0x3710c7(0xe8)]=_0x51cfeb['entireWordCheckbox'],this[_0x3710c7(0xea)]=_0x51cfeb[_0x3710c7(0xea)],this[_0x3710c7(0x79)]=_0x51cfeb[_0x3710c7(0x79)],this[_0x3710c7(0x89)]=_0x51cfeb[_0x3710c7(0x89)],this[_0x3710c7(0xd8)]=_0x51cfeb['findNextButton'],this[_0x3710c7(0xc5)]=_0x482f21,this[_0x3710c7(0x90)]=_0x54460b,this['toggleButton'][_0x3710c7(0xdb)]('click',()=>{const _0xb30e10=_0x3710c7;_0x469f6e[_0xb30e10(0xa2)](_0xb30e10(0xce),_0x469f6e[_0xb30e10(0xe9)])?this[_0xb30e10(0x9b)]():(this['dispatchEvent'](_0xb30e10(0x87)),this[_0xb30e10(0xc1)][_0xb30e10(0x7b)]?this[_0xb30e10(0xc1)][_0xb30e10(0xcb)][_0xb30e10(0xb4)][_0xb30e10(0xc2)](_0xb30e10(0xb6)):this[_0xb30e10(0xc1)][_0xb30e10(0xcb)][_0xb30e10(0xb4)][_0xb30e10(0x82)]('b3-button--outline'));}),this['findField'][_0x3710c7(0xdb)](_0x469f6e[_0x3710c7(0xac)],()=>{const _0x5fb619=_0x3710c7,_0x25f311={'kinok':_0x5fb619(0xa7)};_0x469f6e[_0x5fb619(0xa2)](_0x5fb619(0xd3),_0x5fb619(0xd3))?this[_0x5fb619(0xa1)](''):this[_0x5fb619(0xf1)][_0x5fb619(0xb4)][_0x5fb619(0x82)](_0x25f311['kinok']);}),this[_0x3710c7(0xf1)][_0x3710c7(0xdb)]('keydown',_0xd307de=>{const _0x554cbc=_0x3710c7;switch(_0xd307de[_0x554cbc(0x92)]){case 0xd:_0xd307de[_0x554cbc(0xe5)]===this[_0x554cbc(0xc0)]&&this[_0x554cbc(0xa1)](_0x554cbc(0xd4),_0xd307de[_0x554cbc(0xe6)]);break;case 0x1b:this[_0x554cbc(0xae)]();break;}}),this[_0x3710c7(0x89)]['addEventListener'](_0x3710c7(0x7f),()=>{this['dispatchEvent'](_0x469f6e['yzeUU'],!![]);}),this[_0x3710c7(0xd8)][_0x3710c7(0xdb)](_0x3710c7(0x7f),()=>{const _0x24c60b=_0x3710c7;this[_0x24c60b(0xa1)](_0x24c60b(0xd4),![]);}),this[_0x3710c7(0x8a)]['addEventListener'](_0x3710c7(0x7f),()=>{const _0x38b6de=_0x3710c7;this[_0x38b6de(0xa1)](_0x38b6de(0xb3)),this['highlightAll'][_0x38b6de(0x7b)]?_0x469f6e['hqnCu'](_0x38b6de(0xe4),_0x38b6de(0xe4))?this[_0x38b6de(0xa1)](_0x38b6de(0xd4),![]):this[_0x38b6de(0x8a)][_0x38b6de(0xcb)]['classList'][_0x38b6de(0xc2)](_0x469f6e['urCas']):this[_0x38b6de(0x8a)]['parentElement'][_0x38b6de(0xb4)]['add'](_0x469f6e[_0x38b6de(0xa0)]);}),this[_0x3710c7(0x7c)][_0x3710c7(0xdb)](_0x469f6e[_0x3710c7(0xca)],()=>{const _0x22e9c5=_0x3710c7;this[_0x22e9c5(0xa1)](_0x22e9c5(0xcc)),this[_0x22e9c5(0x7c)]['checked']?this[_0x22e9c5(0x7c)][_0x22e9c5(0xcb)][_0x22e9c5(0xb4)][_0x22e9c5(0xc2)](_0x469f6e[_0x22e9c5(0xa0)]):_0x469f6e[_0x22e9c5(0xb0)](_0x22e9c5(0xf0),_0x22e9c5(0xf0))?this[_0x22e9c5(0xa1)](_0x22e9c5(0xd4),!![]):this['caseSensitive'][_0x22e9c5(0xcb)]['classList'][_0x22e9c5(0x82)](_0x469f6e[_0x22e9c5(0xa0)]);}),this[_0x3710c7(0xe8)][_0x3710c7(0xdb)](_0x3710c7(0x7f),()=>{const _0x3e2aa5=_0x3710c7;this[_0x3e2aa5(0xa1)](_0x469f6e[_0x3e2aa5(0xeb)]),this[_0x3e2aa5(0xe8)][_0x3e2aa5(0x7b)]?this[_0x3e2aa5(0xe8)][_0x3e2aa5(0xcb)][_0x3e2aa5(0xb4)][_0x3e2aa5(0xc2)](_0x469f6e['urCas']):this['entireWord']['parentElement'][_0x3e2aa5(0xb4)][_0x3e2aa5(0x82)](_0x469f6e[_0x3e2aa5(0xa0)]);}),this[_0x3710c7(0xc1)][_0x3710c7(0xdb)]('click',()=>{const _0x4832a3=_0x3710c7;_0x469f6e[_0x4832a3(0xa2)](_0x469f6e[_0x4832a3(0xde)],_0x469f6e[_0x4832a3(0x8c)])?this[_0x4832a3(0xe8)][_0x4832a3(0xcb)][_0x4832a3(0xb4)][_0x4832a3(0xc2)](_0x469f6e[_0x4832a3(0xa0)]):(this['dispatchEvent'](_0x469f6e[_0x4832a3(0xe7)]),this[_0x4832a3(0xc1)][_0x4832a3(0x7b)]?this[_0x4832a3(0xc1)][_0x4832a3(0xcb)][_0x4832a3(0xb4)]['remove'](_0x4832a3(0xb6)):this[_0x4832a3(0xc1)][_0x4832a3(0xcb)]['classList'][_0x4832a3(0x82)](_0x4832a3(0xb6)));}),this['eventBus'][_0x3710c7(0x8e)](_0x469f6e['vdcvb'],this.#adjustWidth[_0x3710c7(0xdc)](this));}[_0x1d0237(0xb7)](){const _0x1f2985=_0x1d0237;this[_0x1f2985(0xa6)]();}[_0x1d0237(0xa1)](_0x1769df,_0x5c7dbd=![]){const _0x29adda=_0x1d0237,_0x1b0468={'gvkIW':'find'};this['eventBus'][_0x29adda(0xc4)](_0x1b0468[_0x29adda(0xc3)],{'source':this,'type':_0x1769df,'query':this[_0x29adda(0xc0)][_0x29adda(0xa4)],'phraseSearch':!![],'caseSensitive':this[_0x29adda(0x7c)]['checked'],'entireWord':this[_0x29adda(0xe8)][_0x29adda(0x7b)],'highlightAll':this[_0x29adda(0x8a)][_0x29adda(0x7b)],'findPrevious':_0x5c7dbd,'matchDiacritics':this['matchDiacritics'][_0x29adda(0x7b)]});}[_0x1d0237(0xa6)](_0x53baf8,_0x3b4ab0,_0x17ae36){const _0x4b9458=_0x1d0237,_0x55312={'StDfe':'pending','GNDFO':'notFound','VPLVU':_0x4b9458(0x9d),'jtpOY':_0x4b9458(0x9a),'BxjRM':function(_0x2e6bec,_0x1431fd){return _0x2e6bec===_0x1431fd;}};let _0x56bcae='',_0x21b322='';switch(_0x53baf8){case FindState[_0x4b9458(0x9f)]:break;case FindState[_0x4b9458(0xbf)]:_0x21b322=_0x55312[_0x4b9458(0xba)];break;case FindState[_0x4b9458(0xa5)]:_0x56bcae=window['siyuan'][_0x4b9458(0xd2)][_0x4b9458(0xc6)],_0x21b322=_0x55312[_0x4b9458(0xb1)];break;case FindState[_0x4b9458(0xbc)]:_0x56bcae=window[_0x4b9458(0xab)][_0x4b9458(0xd2)][_0x4b9458(0xc6)][_0x4b9458(0xe2)+(_0x3b4ab0?'top':_0x55312[_0x4b9458(0xd0)])];break;}this[_0x4b9458(0xc0)][_0x4b9458(0x98)](_0x4b9458(0x95),_0x21b322),this[_0x4b9458(0xc0)][_0x4b9458(0x98)](_0x55312[_0x4b9458(0xd7)],_0x55312[_0x4b9458(0x81)](_0x53baf8,FindState[_0x4b9458(0xa5)])),this['findMsg'][_0x4b9458(0xa8)]=_0x56bcae,this.#adjustWidth(),this[_0x4b9458(0xec)](_0x17ae36);}['updateResultsCount']({current:current=0x0,total:total=0x0}={}){const _0xc1bf3d=_0x1d0237,_0x54eae3={'fJPdw':function(_0x284b47,_0x1ca965){return _0x284b47>_0x1ca965;},'JLeQR':function(_0x1e08e,_0x48c895){return _0x1e08e>_0x48c895;},'alPvm':_0xc1bf3d(0x80),'bpUir':'FnQio','qrpTA':_0xc1bf3d(0x7d)},_0x58fae8=MATCHES_COUNT_LIMIT;let _0x2a7cd8='';if(_0x54eae3[_0xc1bf3d(0xed)](total,0x0)){if(_0x54eae3['fJPdw'](total,_0x58fae8))_0x2a7cd8=window[_0xc1bf3d(0xab)][_0xc1bf3d(0xd2)][_0xc1bf3d(0xd5)]['replace'](_0x54eae3[_0xc1bf3d(0x84)],_0x58fae8);else{if(_0x54eae3[_0xc1bf3d(0x99)]!==_0x54eae3['qrpTA'])_0x2a7cd8=window['siyuan'][_0xc1bf3d(0xd2)]['find_match_count'][_0xc1bf3d(0xe3)]('{{current}}',current)['replace'](_0xc1bf3d(0xd6),total);else{if(!this[_0xc1bf3d(0x9c)])return;this['bar'][_0xc1bf3d(0xb4)][_0xc1bf3d(0xc2)](_0xc1bf3d(0xa7));const _0x138865=this['bar'][_0xc1bf3d(0xaa)],_0x5421c3=this[_0xc1bf3d(0xf1)][_0xc1bf3d(0xee)][_0xc1bf3d(0xaa)];_0x54eae3[_0xc1bf3d(0xa9)](_0x138865,_0x5421c3)&&this[_0xc1bf3d(0xf1)][_0xc1bf3d(0xb4)][_0xc1bf3d(0x82)](_0xc1bf3d(0xa7));}}}this['findResultsCount'][_0xc1bf3d(0xa8)]=_0x2a7cd8,this.#adjustWidth();}['open'](){const _0x252b3f=_0x1d0237,_0x209a6c={'CXrxx':'toggled','pncVK':_0x252b3f(0xd9)};!this[_0x252b3f(0x9c)]&&(this[_0x252b3f(0x9c)]=!![],this['toggleButton'][_0x252b3f(0xb4)][_0x252b3f(0x82)](_0x209a6c[_0x252b3f(0xc9)]),this[_0x252b3f(0xbd)][_0x252b3f(0x98)](_0x252b3f(0xe1),_0x252b3f(0x7a)),this[_0x252b3f(0xf1)][_0x252b3f(0xb4)]['remove'](_0x209a6c[_0x252b3f(0x93)])),this[_0x252b3f(0xc0)][_0x252b3f(0xc7)](),this[_0x252b3f(0xc0)][_0x252b3f(0xb9)](),this.#adjustWidth();}[_0x1d0237(0xae)](){const _0x49e0ea=_0x1d0237,_0x532916={'AgcQy':_0x49e0ea(0x88),'qoHmC':_0x49e0ea(0xd9)};if(!this[_0x49e0ea(0x9c)])return;this[_0x49e0ea(0x9c)]=![],this[_0x49e0ea(0xbd)][_0x49e0ea(0xb4)][_0x49e0ea(0xc2)](_0x49e0ea(0x94)),this[_0x49e0ea(0xbd)][_0x49e0ea(0x98)](_0x49e0ea(0xe1),_0x532916[_0x49e0ea(0xdf)]),this[_0x49e0ea(0xf1)][_0x49e0ea(0xb4)][_0x49e0ea(0x82)](_0x532916['qoHmC']),this[_0x49e0ea(0xc5)][_0x49e0ea(0xc4)](_0x49e0ea(0xa3),{'source':this});}[_0x1d0237(0x9b)](){const _0x2044c2=_0x1d0237,_0x19041b={'HQKho':_0x2044c2(0xf2),'SAdgA':_0x2044c2(0xb6),'Cwlmg':_0x2044c2(0xcd)};this[_0x2044c2(0x9c)]?_0x19041b[_0x2044c2(0xc8)]===_0x19041b[_0x2044c2(0xc8)]?this['close']():(this[_0x2044c2(0xa1)](_0x19041b['HQKho']),this['entireWord'][_0x2044c2(0x7b)]?this[_0x2044c2(0xe8)][_0x2044c2(0xcb)]['classList']['remove'](_0x19041b[_0x2044c2(0x97)]):this[_0x2044c2(0xe8)][_0x2044c2(0xcb)][_0x2044c2(0xb4)][_0x2044c2(0x82)](_0x19041b['SAdgA'])):this['open']();}#adjustWidth(){const _0x39647b=_0x1d0237,_0x23b1cf={'hfxUm':_0x39647b(0xb6),'rtaYC':function(_0x1d2a65,_0x5a96a5){return _0x1d2a65===_0x5a96a5;},'IBuJP':'ydUBI','dzbDd':'mJLJi','DfgYJ':_0x39647b(0xa7),'fsUwN':function(_0x5984f8,_0x22395d){return _0x5984f8>_0x22395d;},'slNQm':function(_0x5c4649,_0x310d40){return _0x5c4649===_0x310d40;},'VXzxM':_0x39647b(0x8d)};if(!this['opened']){if(_0x23b1cf[_0x39647b(0xbb)](_0x23b1cf[_0x39647b(0xda)],_0x23b1cf[_0x39647b(0xad)]))this[_0x39647b(0xa6)]();else return;}this[_0x39647b(0xf1)][_0x39647b(0xb4)][_0x39647b(0xc2)](_0x23b1cf[_0x39647b(0x91)]);const _0x13e7d7=this[_0x39647b(0xf1)]['clientHeight'],_0x14cbb0=this[_0x39647b(0xf1)][_0x39647b(0xee)]['clientHeight'];_0x23b1cf[_0x39647b(0xbe)](_0x13e7d7,_0x14cbb0)&&(_0x23b1cf[_0x39647b(0x83)]('UqPYR',_0x23b1cf[_0x39647b(0x85)])?this['caseSensitive']['parentElement'][_0x39647b(0xb4)][_0x39647b(0xc2)](_0x23b1cf['hfxUm']):this[_0x39647b(0xf1)][_0x39647b(0xb4)][_0x39647b(0x82)](_0x39647b(0xa7)));}}export{PDFFindBar};