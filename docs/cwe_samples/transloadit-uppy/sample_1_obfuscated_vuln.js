'use strict';function _0x2aec(){const _0x4e6b1d=['tClLg','eKMKv','aadEf','1257854PWeEkd','yqzIi','xbLEA','it\x20validates\x20the\x20unique\x20constraint\x20if\x20the\x20attribute\x20data\x20has\x20not\x20changed\x20even\x20if\x20there\x20is\x20a\x20record\x20in\x20the\x20database\x20with\x20the\x20same\x20attribute\x20value','clearAllMocks','validateYupSchema','Integer\x20validator','aRPqu','attrIntegerUnique','it\x20validates\x20the\x20unique\x20constraint\x20if\x20there\x20is\x20no\x20other\x20record\x20in\x20the\x20database','ACvJI','it\x20does\x20not\x20validates\x20the\x20max\x20constraint\x20if\x20the\x20attribute\x20max\x20is\x20not\x20an\x20integer','eiCbQ','it\x20does\x20not\x20validates\x20the\x20min\x20constraint\x20if\x20the\x20attribute\x20min\x20is\x20not\x20a\x20number','toBe','heQCV','it\x20fails\x20the\x20validation\x20if\x20the\x20integer\x20is\x20lower\x20than\x20the\x20define\x20min','619119CwJZEU','WmiEn','../validators','OdSmw','assertions','4220810VAlvYe','unique','it\x20fails\x20the\x20validation\x20if\x20the\x20number\x20is\x20integer\x20than\x20the\x20define\x20max','3GnAWUu','vFMQH','PIIDR','mockReset','toBeInstanceOf','55WqOkhZ','hWGnn','it\x20fails\x20the\x20validation\x20of\x20the\x20unique\x20constraint\x20if\x20the\x20database\x20contains\x20a\x20record\x20with\x20the\x20same\x20attribute\x20value','mockResolvedValueOnce','5269986RZFZMj','FESkC','it\x20checks\x20the\x20database\x20for\x20records\x20with\x20the\x20same\x20value\x20for\x20the\x20checked\x20attribute','oLGwP','nullable','@strapi/utils','test-model','it\x20checks\x20the\x20database\x20for\x20records\x20with\x20the\x20same\x20value\x20but\x20not\x20the\x20same\x20id\x20for\x20the\x20checked\x20attribute\x20if\x20an\x20entity\x20is\x20passed','4109EvembJ','479884rtkuZe','min','it\x20does\x20not\x20validates\x20the\x20unique\x20constraint\x20if\x20the\x20attribute\x20is\x20not\x20set\x20as\x20unique','integer','ZXytz','toHaveBeenCalled','test-uid','1000xPmyfJ','10cUkfHz','toHaveBeenCalledWith','UBHlg','strapi','EuSEG','1653206wMXPGB','123','eocmH'];_0x2aec=function(){return _0x4e6b1d;};return _0x2aec();}const _0x8ce882=_0x32e4;(function(_0x392e1e,_0x3e69e8){const _0x1329a9=_0x32e4,_0x452161=_0x392e1e();while(!![]){try{const _0x5e36aa=parseInt(_0x1329a9(0x115))/0x1+parseInt(_0x1329a9(0x10f))/0x2*(parseInt(_0x1329a9(0x12e))/0x3)+parseInt(_0x1329a9(0x102))/0x4*(-parseInt(_0x1329a9(0x10a))/0x5)+parseInt(_0x1329a9(0x137))/0x6+parseInt(_0x1329a9(0x101))/0x7*(parseInt(_0x1329a9(0x109))/0x8)+parseInt(_0x1329a9(0x126))/0x9+-parseInt(_0x1329a9(0x12b))/0xa*(parseInt(_0x1329a9(0x133))/0xb);if(_0x5e36aa===_0x3e69e8)break;else _0x452161['push'](_0x452161['shift']());}catch(_0x2f0b45){_0x452161['push'](_0x452161['shift']());}}}(_0x2aec,0xb83af));function _0x32e4(_0x1324cf,_0x4f2849){const _0x2aec81=_0x2aec();return _0x32e4=function(_0x32e49e,_0x28d203){_0x32e49e=_0x32e49e-0xff;let _0x8cb453=_0x2aec81[_0x32e49e];return _0x8cb453;},_0x32e4(_0x1324cf,_0x4f2849);}const strapiUtils=require(_0x8ce882(0x13c)),{errors:{YupValidationError}}=require(_0x8ce882(0x13c)),validators=require(_0x8ce882(0x128));describe(_0x8ce882(0x11b),()=>{const _0x1a81ea=_0x8ce882,_0xe6352d={'eocmH':_0x1a81ea(0x11d),'yqzIi':function(_0x4b46c1,_0x3eea22){return _0x4b46c1(_0x3eea22);},'OdSmw':'integer','xbLEA':function(_0x139fce,_0x1faa1f){return _0x139fce(_0x1faa1f);},'aRPqu':_0x1a81ea(0x108),'EuSEG':function(_0x193ea0,_0x138a36,_0x1e2df0){return _0x193ea0(_0x138a36,_0x1e2df0);},'PIIDR':'it\x20does\x20not\x20validates\x20the\x20unique\x20constraint\x20if\x20the\x20attribute\x20value\x20is\x20`null`','XWwpF':_0x1a81ea(0x118),'eKMKv':_0x1a81ea(0x110),'FESkC':function(_0x527482,_0x483138,_0x207646){return _0x527482(_0x483138,_0x207646);},'fBvVw':function(_0x5d4878,_0x35a503){return _0x5d4878(_0x35a503);},'ZXytz':function(_0x592150,_0x36fdae){return _0x592150(_0x36fdae);},'aadEf':_0x1a81ea(0x120),'heQCV':_0x1a81ea(0x12d),'ACvJI':function(_0x53a6c6,_0x4ea7f4,_0x435954){return _0x53a6c6(_0x4ea7f4,_0x435954);},'tClLg':'it\x20validates\x20the\x20max\x20constraint\x20if\x20the\x20integer\x20is\x20lower\x20than\x20the\x20define\x20max','UBHlg':_0x1a81ea(0x12c),'IaHlk':_0x1a81ea(0x103)};describe(_0xe6352d[_0x1a81ea(0x10c)],()=>{const _0x40b244=_0x1a81ea,_0x41831e={'vFMQH':_0xe6352d[_0x40b244(0x129)],'eiCbQ':function(_0x29c5f8,_0x54b679){const _0x331bb1=_0x40b244;return _0xe6352d[_0x331bb1(0x117)](_0x29c5f8,_0x54b679);},'WmiEn':_0xe6352d[_0x40b244(0x111)],'oLGwP':function(_0xe4cb11,_0x441acc){return _0xe4cb11(_0x441acc);}},_0x4df7df=jest['fn']();global[_0x40b244(0x10d)]={'db':{'query':jest['fn'](()=>({'findOne':_0x4df7df}))}},afterEach(()=>{const _0xe95679=_0x40b244;jest[_0xe95679(0x119)](),_0x4df7df[_0xe95679(0x131)]();});const _0x28111a={'kind':'contentType','uid':_0xe6352d[_0x40b244(0x11c)],'modelName':_0x40b244(0xff),'options':{},'attributes':{'attrIntegerUnique':{'type':'integer','unique':!![]}}};_0xe6352d[_0x40b244(0x10e)](test,_0x40b244(0x104),async()=>{const _0x7521f7=_0x40b244;_0x4df7df[_0x7521f7(0x136)](null);const _0x53fd94=strapiUtils[_0x7521f7(0x11a)](validators[_0x7521f7(0x105)]({'attr':{'type':_0x41831e[_0x7521f7(0x12f)]},'model':_0x28111a,'updatedAttribute':{'name':'attrIntegerUnique','value':0x1},'entity':null},{'isDraft':![]}));await _0x53fd94(0x1),_0x41831e[_0x7521f7(0x121)](expect,_0x4df7df)['not'][_0x7521f7(0x107)]();}),_0xe6352d[_0x40b244(0x10e)](test,_0xe6352d[_0x40b244(0x130)],async()=>{const _0x5d21e6=_0x40b244;_0x4df7df['mockResolvedValueOnce'](null);const _0x114b4f=strapiUtils[_0x5d21e6(0x11a)](validators['integer']({'attr':{'type':_0x5d21e6(0x105),'unique':!![]},'model':_0x28111a,'updatedAttribute':{'name':_0xe6352d[_0x5d21e6(0x111)],'value':null},'entity':null},{'isDraft':![]})[_0x5d21e6(0x13b)]());await _0x114b4f(null),_0xe6352d[_0x5d21e6(0x116)](expect,_0x4df7df)['not'][_0x5d21e6(0x107)]();}),test(_0x40b244(0x11e),async()=>{const _0x41fe74=_0x40b244;_0x4df7df[_0x41fe74(0x136)](null);const _0x506e88=strapiUtils[_0x41fe74(0x11a)](validators['integer']({'attr':{'type':_0xe6352d['OdSmw'],'unique':!![]},'model':_0x28111a,'updatedAttribute':{'name':_0xe6352d[_0x41fe74(0x111)],'value':0x2},'entity':null},{'isDraft':![]}));expect(await _0x506e88(0x1))[_0x41fe74(0x123)](0x1);}),test(_0x40b244(0x135),async()=>{const _0x18d318=_0x40b244;expect[_0x18d318(0x12a)](0x1),_0x4df7df[_0x18d318(0x136)]({'attrIntegerUnique':0x2});const _0x1b8ef8=strapiUtils['validateYupSchema'](validators[_0x18d318(0x105)]({'attr':{'type':_0x41831e[_0x18d318(0x12f)],'unique':!![]},'model':_0x28111a,'updatedAttribute':{'name':_0x41831e[_0x18d318(0x127)],'value':0x2},'entity':null},{'isDraft':![]}));try{await _0x1b8ef8(0x2);}catch(_0x26b02e){_0x41831e['eiCbQ'](expect,_0x26b02e)['toBeInstanceOf'](YupValidationError);}}),test(_0xe6352d['XWwpF'],async()=>{const _0xfffa07=_0x40b244;_0x4df7df['mockResolvedValueOnce']({'attrIntegerUnique':0x3});const _0x59a49a=strapiUtils[_0xfffa07(0x11a)](validators[_0xfffa07(0x105)]({'attr':{'type':_0x41831e['vFMQH'],'unique':!![]},'model':_0x28111a,'updatedAttribute':{'name':_0x41831e[_0xfffa07(0x127)],'value':0x3},'entity':{'id':0x1,'attrIntegerUnique':0x3}},{'isDraft':![]}));_0x41831e[_0xfffa07(0x13a)](expect,await _0x41831e['eiCbQ'](_0x59a49a,0x3))[_0xfffa07(0x123)](0x3);}),test(_0x40b244(0x139),async()=>{const _0x176cf3=_0x40b244;_0x4df7df[_0x176cf3(0x136)](null);const _0x134ef8=strapiUtils['validateYupSchema'](validators[_0x176cf3(0x105)]({'attr':{'type':_0x176cf3(0x105),'unique':!![]},'model':_0x28111a,'updatedAttribute':{'name':_0xe6352d['eocmH'],'value':0x4},'entity':null},{'isDraft':![]}));await _0xe6352d['yqzIi'](_0x134ef8,0x4),expect(_0x4df7df)[_0x176cf3(0x10b)]({'select':['id'],'where':{'attrIntegerUnique':0x4}});}),test(_0x40b244(0x100),async()=>{const _0x6ddb07=_0x40b244;_0x4df7df['mockResolvedValueOnce'](null);const _0x30bd16=strapiUtils[_0x6ddb07(0x11a)](validators['integer']({'attr':{'type':_0xe6352d['OdSmw'],'unique':!![]},'model':_0x28111a,'updatedAttribute':{'name':_0xe6352d[_0x6ddb07(0x111)],'value':0x5},'entity':{'id':0x1,'attrIntegerUnique':0x2a}},{'isDraft':![]}));await _0xe6352d[_0x6ddb07(0x117)](_0x30bd16,0x5),expect(_0x4df7df)['toHaveBeenCalledWith']({'select':['id'],'where':{'$and':[{'attrIntegerUnique':0x5},{'$not':{'id':0x1}}]}});});}),describe(_0xe6352d['IaHlk'],()=>{const _0x368eb5=_0x1a81ea;test(_0x368eb5(0x122),async()=>{const _0x16277e=_0x368eb5,_0x4197ac=strapiUtils[_0x16277e(0x11a)](validators[_0x16277e(0x105)]({'attr':{'type':_0xe6352d[_0x16277e(0x129)],'minLength':_0xe6352d[_0x16277e(0x113)]}},{'isDraft':![]}));_0xe6352d[_0x16277e(0x116)](expect,await _0xe6352d[_0x16277e(0x117)](_0x4197ac,0x1))[_0x16277e(0x123)](0x1);}),_0xe6352d[_0x368eb5(0x138)](test,_0x368eb5(0x125),async()=>{const _0x4788f0=_0x368eb5;expect[_0x4788f0(0x12a)](0x1);const _0x5d3279=strapiUtils[_0x4788f0(0x11a)](validators[_0x4788f0(0x105)]({'attr':{'type':_0x4788f0(0x105),'min':0x3}},{'isDraft':![]}));try{await _0x5d3279(0x1);}catch(_0x4e6145){_0xe6352d[_0x4788f0(0x117)](expect,_0x4e6145)['toBeInstanceOf'](YupValidationError);}}),_0xe6352d[_0x368eb5(0x10e)](test,'it\x20validates\x20the\x20min\x20constraint\x20if\x20the\x20integer\x20is\x20higher\x20than\x20the\x20define\x20min',async()=>{const _0x11f354=_0x368eb5,_0x262b82=strapiUtils[_0x11f354(0x11a)](validators[_0x11f354(0x105)]({'attr':{'type':_0xe6352d['OdSmw'],'min':0x3}},{'isDraft':![]}));expect(await _0x262b82(0x4))[_0x11f354(0x123)](0x4);});}),_0xe6352d[_0x1a81ea(0x11f)](describe,'max',()=>{const _0x4d0d5d=_0x1a81ea,_0x3c6326={'TlsEW':_0xe6352d[_0x4d0d5d(0x129)],'hWGnn':function(_0x34be00,_0x175b5b){const _0x349eeb=_0x4d0d5d;return _0xe6352d[_0x349eeb(0x106)](_0x34be00,_0x175b5b);},'cZnDk':function(_0x3119d8,_0x1b401e){return _0x3119d8(_0x1b401e);}};test(_0xe6352d[_0x4d0d5d(0x114)],async()=>{const _0x541abf=_0x4d0d5d,_0x4e8eb6=strapiUtils[_0x541abf(0x11a)](validators[_0x541abf(0x105)]({'attr':{'type':_0xe6352d[_0x541abf(0x129)],'maxLength':_0xe6352d['eKMKv']}},{'isDraft':![]}));_0xe6352d['xbLEA'](expect,await _0xe6352d['fBvVw'](_0x4e8eb6,0x1))['toBe'](0x1);}),test(_0xe6352d[_0x4d0d5d(0x124)],async()=>{const _0x565aa9=_0x4d0d5d;expect['assertions'](0x1);const _0x589acf=strapiUtils[_0x565aa9(0x11a)](validators[_0x565aa9(0x105)]({'attr':{'type':_0x3c6326['TlsEW'],'max':0x3}},{'isDraft':![]}));try{await _0x3c6326[_0x565aa9(0x134)](_0x589acf,0x4);}catch(_0x3a84bc){_0x3c6326[_0x565aa9(0x134)](expect,_0x3a84bc)[_0x565aa9(0x132)](YupValidationError);}}),_0xe6352d[_0x4d0d5d(0x11f)](test,_0xe6352d[_0x4d0d5d(0x112)],async()=>{const _0xf91690=_0x4d0d5d,_0x406785=strapiUtils[_0xf91690(0x11a)](validators['integer']({'attr':{'type':'integer','max':0x3}},{'isDraft':![]}));_0x3c6326['cZnDk'](expect,await _0x3c6326[_0xf91690(0x134)](_0x406785,0x2))[_0xf91690(0x123)](0x2);});});});