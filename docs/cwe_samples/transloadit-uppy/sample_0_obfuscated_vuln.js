'use strict';const _0x53c1f8=_0x5350;(function(_0x480cfd,_0x232417){const _0x2eb2af=_0x5350,_0x4904aa=_0x480cfd();while(!![]){try{const _0x589ec3=-parseInt(_0x2eb2af(0x1d7))/0x1+parseInt(_0x2eb2af(0x200))/0x2+parseInt(_0x2eb2af(0x1f1))/0x3+parseInt(_0x2eb2af(0x1ea))/0x4+parseInt(_0x2eb2af(0x1e3))/0x5*(-parseInt(_0x2eb2af(0x204))/0x6)+parseInt(_0x2eb2af(0x1db))/0x7+parseInt(_0x2eb2af(0x20a))/0x8;if(_0x589ec3===_0x232417)break;else _0x4904aa['push'](_0x4904aa['shift']());}catch(_0x302d17){_0x4904aa['push'](_0x4904aa['shift']());}}}(_0x4aec,0xd1787));function _0x5350(_0x4b7e51,_0x1ea601){const _0x4aec9c=_0x4aec();return _0x5350=function(_0x5350d5,_0x4825a5){_0x5350d5=_0x5350d5-0x1d3;let _0x538685=_0x4aec9c[_0x5350d5];return _0x538685;},_0x5350(_0x4b7e51,_0x1ea601);}function _0x4aec(){const _0x588c86=['oMtAU','mockReset','mpvXp','it\x20does\x20not\x20validates\x20the\x20unique\x20constraint\x20if\x20the\x20attribute\x20value\x20is\x20`null`','max','AALbP','huuil','CTYqg','HoHdx','RkanH','toHaveBeenCalledWith','1616833wHoZGH','Lhkin','pubmD','unique','368942IwBBZN','test-uid','okubc','@strapi/utils','ZmdeE','attrFloatUnique','JYYid','it\x20does\x20not\x20validates\x20the\x20unique\x20constraint\x20if\x20the\x20attribute\x20is\x20not\x20set\x20as\x20unique','19115Ffmjpf','nullable','TbOXn','qMqsZ','assertions','clearAllMocks','it\x20does\x20not\x20validates\x20the\x20min\x20constraint\x20if\x20the\x20attribute\x20min\x20is\x20not\x20a\x20number','6478732AYzLjG','min','vTqqp','123','vUfKT','Fwkzh','tRyIn','1274334FziGlZ','toBeInstanceOf','contentType','vLOAf','LhHRz','ekPLO','it\x20validates\x20the\x20min\x20constraint\x20if\x20the\x20float\x20is\x20higher\x20than\x20the\x20define\x20min','PDWrp','float','toHaveBeenCalled','mockResolvedValueOnce','it\x20validates\x20the\x20unique\x20constraint\x20if\x20the\x20attribute\x20data\x20has\x20not\x20changed\x20even\x20if\x20there\x20is\x20a\x20record\x20in\x20the\x20database\x20with\x20the\x20same\x20attribute\x20value','nxvBJ','../validators','Float\x20validator','222230iyjufg','jcdBO','test-model','it\x20fails\x20the\x20validation\x20if\x20the\x20float\x20is\x20lower\x20than\x20the\x20define\x20min','2526GBJUvU','it\x20fails\x20the\x20validation\x20of\x20the\x20unique\x20constraint\x20if\x20the\x20database\x20contains\x20a\x20record\x20with\x20the\x20same\x20attribute\x20value','validateYupSchema','QbuiQ','strapi','not','15008200cCthbH','PUImv','toBe','it\x20checks\x20the\x20database\x20for\x20records\x20with\x20the\x20same\x20value\x20but\x20not\x20the\x20same\x20id\x20for\x20the\x20checked\x20attribute\x20if\x20an\x20entity\x20is\x20passed','zgBfy','it\x20checks\x20the\x20database\x20for\x20records\x20with\x20the\x20same\x20value\x20for\x20the\x20checked\x20attribute','McRrs','PiSrc','it\x20fails\x20the\x20validation\x20if\x20the\x20number\x20is\x20float\x20than\x20the\x20define\x20max'];_0x4aec=function(){return _0x588c86;};return _0x4aec();}const strapiUtils=require('@strapi/utils'),{errors:{YupValidationError}}=require(_0x53c1f8(0x1de)),validators=require(_0x53c1f8(0x1fe));describe(_0x53c1f8(0x1ff),()=>{const _0x53f63b=_0x53c1f8,_0x4d9cf2={'HoHdx':'float','JYYid':_0x53f63b(0x1e0),'AALbP':function(_0x3e0dab,_0x32efaa){return _0x3e0dab(_0x32efaa);},'jcdBO':_0x53f63b(0x1f3),'chWqU':_0x53f63b(0x1dc),'LhHRz':function(_0x31c289,_0x52c7dc,_0x240c03){return _0x31c289(_0x52c7dc,_0x240c03);},'zgBfy':_0x53f63b(0x1e2),'mpvXp':'it\x20validates\x20the\x20unique\x20constraint\x20if\x20there\x20is\x20no\x20other\x20record\x20in\x20the\x20database','vTqqp':_0x53f63b(0x205),'vUfKT':function(_0x5dd137,_0x22059d,_0x2445cd){return _0x5dd137(_0x22059d,_0x2445cd);},'QbuiQ':_0x53f63b(0x1fc),'nxvBJ':_0x53f63b(0x20f),'McRrs':_0x53f63b(0x20d),'Lhkin':_0x53f63b(0x1e9),'PDWrp':function(_0x4b716c,_0x159e96,_0x2609cd){return _0x4b716c(_0x159e96,_0x2609cd);},'vLOAf':function(_0x421460,_0x2d635f,_0x5b1db8){return _0x421460(_0x2d635f,_0x5b1db8);},'RkanH':_0x53f63b(0x1f7),'okubc':_0x53f63b(0x1ed),'TbOXn':'it\x20does\x20not\x20validates\x20the\x20max\x20constraint\x20if\x20the\x20attribute\x20max\x20is\x20not\x20an\x20float','ekPLO':_0x53f63b(0x212),'VQSPi':'it\x20validates\x20the\x20max\x20constraint\x20if\x20the\x20float\x20is\x20lower\x20than\x20the\x20define\x20max','oMtAU':function(_0xea58bc,_0xe0da93,_0x54e17d){return _0xea58bc(_0xe0da93,_0x54e17d);},'PiSrc':function(_0x2fdf70,_0x4e1d97,_0x258199){return _0x2fdf70(_0x4e1d97,_0x258199);}};_0x4d9cf2[_0x53f63b(0x213)](describe,_0x53f63b(0x1da),()=>{const _0x3f254d=_0x53f63b,_0x5518a8={'pubmD':_0x4d9cf2[_0x3f254d(0x1d4)],'ZmdeE':_0x4d9cf2['JYYid'],'huuil':function(_0x3acb9c,_0x5757f9){const _0x38dd1c=_0x3f254d;return _0x4d9cf2[_0x38dd1c(0x218)](_0x3acb9c,_0x5757f9);},'tRyIn':function(_0x5e1d65,_0x3ff919){return _0x5e1d65(_0x3ff919);}},_0x26c438=jest['fn']();global[_0x3f254d(0x208)]={'db':{'query':jest['fn'](()=>({'findOne':_0x26c438}))}},afterEach(()=>{const _0x4424b3=_0x3f254d;jest[_0x4424b3(0x1e8)](),_0x26c438[_0x4424b3(0x214)]();});const _0xd45359={'kind':_0x4d9cf2[_0x3f254d(0x201)],'uid':_0x4d9cf2['chWqU'],'modelName':_0x3f254d(0x202),'options':{},'attributes':{'attrFloatUnique':{'type':_0x4d9cf2[_0x3f254d(0x1d4)],'unique':!![]}}};_0x4d9cf2[_0x3f254d(0x1f5)](test,_0x4d9cf2[_0x3f254d(0x20e)],async()=>{const _0x59f4cb=_0x3f254d;_0x26c438[_0x59f4cb(0x1fb)](null);const _0x212e3b=strapiUtils[_0x59f4cb(0x206)](validators['float']({'attr':{'type':_0x5518a8[_0x59f4cb(0x1d9)]},'model':_0xd45359,'updatedAttribute':{'name':_0x5518a8[_0x59f4cb(0x1df)],'value':0x1},'entity':null},{'isDraft':![]}));await _0x212e3b(0x1),_0x5518a8[_0x59f4cb(0x219)](expect,_0x26c438)[_0x59f4cb(0x209)][_0x59f4cb(0x1fa)]();}),test(_0x3f254d(0x216),async()=>{const _0x3a1bd1=_0x3f254d;_0x26c438['mockResolvedValueOnce'](null);const _0x37c1a1=strapiUtils[_0x3a1bd1(0x206)](validators['float']({'attr':{'type':_0x4d9cf2[_0x3a1bd1(0x1d4)],'unique':!![]},'model':_0xd45359,'updatedAttribute':{'name':_0x4d9cf2[_0x3a1bd1(0x1e1)],'value':null},'entity':null},{'isDraft':![]})[_0x3a1bd1(0x1e4)]());await _0x37c1a1(null),_0x4d9cf2[_0x3a1bd1(0x218)](expect,_0x26c438)['not']['toHaveBeenCalled']();}),test(_0x4d9cf2[_0x3f254d(0x215)],async()=>{const _0x51e0f2=_0x3f254d;_0x26c438[_0x51e0f2(0x1fb)](null);const _0x4d2c72=strapiUtils['validateYupSchema'](validators[_0x51e0f2(0x1f9)]({'attr':{'type':_0x4d9cf2['HoHdx'],'unique':!![]},'model':_0xd45359,'updatedAttribute':{'name':_0x4d9cf2[_0x51e0f2(0x1e1)],'value':0x2},'entity':null},{'isDraft':![]}));expect(await _0x4d9cf2['AALbP'](_0x4d2c72,0x1))[_0x51e0f2(0x20c)](0x1);}),test(_0x4d9cf2[_0x3f254d(0x1ec)],async()=>{const _0xb78c89=_0x3f254d;expect[_0xb78c89(0x1e7)](0x1),_0x26c438[_0xb78c89(0x1fb)]({'attrFloatUnique':0x2});const _0x55444d=strapiUtils[_0xb78c89(0x206)](validators[_0xb78c89(0x1f9)]({'attr':{'type':_0xb78c89(0x1f9),'unique':!![]},'model':_0xd45359,'updatedAttribute':{'name':_0xb78c89(0x1e0),'value':0x2},'entity':null},{'isDraft':![]}));try{await _0x5518a8[_0xb78c89(0x1f0)](_0x55444d,0x2);}catch(_0x11e911){expect(_0x11e911)['toBeInstanceOf'](YupValidationError);}}),_0x4d9cf2['vUfKT'](test,_0x4d9cf2[_0x3f254d(0x207)],async()=>{const _0x278414=_0x3f254d;_0x26c438[_0x278414(0x1fb)]({'attrFloatUnique':0x3});const _0x26f733=strapiUtils[_0x278414(0x206)](validators[_0x278414(0x1f9)]({'attr':{'type':_0x5518a8['pubmD'],'unique':!![]},'model':_0xd45359,'updatedAttribute':{'name':'attrFloatUnique','value':0x3},'entity':{'id':0x1,'attrFloatUnique':0x3}},{'isDraft':![]}));_0x5518a8[_0x278414(0x219)](expect,await _0x5518a8['tRyIn'](_0x26f733,0x3))['toBe'](0x3);}),_0x4d9cf2[_0x3f254d(0x1f5)](test,_0x4d9cf2[_0x3f254d(0x1fd)],async()=>{const _0x499eca=_0x3f254d;_0x26c438['mockResolvedValueOnce'](null);const _0x2cc00e=strapiUtils[_0x499eca(0x206)](validators[_0x499eca(0x1f9)]({'attr':{'type':'float','unique':!![]},'model':_0xd45359,'updatedAttribute':{'name':_0x5518a8[_0x499eca(0x1df)],'value':0x4},'entity':null},{'isDraft':![]}));await _0x2cc00e(0x4),expect(_0x26c438)[_0x499eca(0x1d6)]({'select':['id'],'where':{'attrFloatUnique':0x4}});}),_0x4d9cf2[_0x3f254d(0x1ee)](test,_0x4d9cf2[_0x3f254d(0x210)],async()=>{const _0x15eb36=_0x3f254d;_0x26c438[_0x15eb36(0x1fb)](null);const _0x34f6ce=strapiUtils[_0x15eb36(0x206)](validators[_0x15eb36(0x1f9)]({'attr':{'type':_0x15eb36(0x1f9),'unique':!![]},'model':_0xd45359,'updatedAttribute':{'name':'attrFloatUnique','value':0x5},'entity':{'id':0x1,'attrFloatUnique':0x2a}},{'isDraft':![]}));await _0x4d9cf2[_0x15eb36(0x218)](_0x34f6ce,0x5),expect(_0x26c438)[_0x15eb36(0x1d6)]({'select':['id'],'where':{'$and':[{'attrFloatUnique':0x5},{'$not':{'id':0x1}}]}});});}),_0x4d9cf2[_0x53f63b(0x211)](describe,_0x53f63b(0x1eb),()=>{const _0x2461bc=_0x53f63b,_0x589ddc={'qMqsZ':_0x2461bc(0x1f9),'Fwkzh':function(_0x552535,_0x5d3e73){const _0x29cce7=_0x2461bc;return _0x4d9cf2[_0x29cce7(0x218)](_0x552535,_0x5d3e73);}};test(_0x4d9cf2[_0x2461bc(0x1d8)],async()=>{const _0x108d26=_0x2461bc,_0x1aecd5=strapiUtils[_0x108d26(0x206)](validators['float']({'attr':{'type':_0x589ddc[_0x108d26(0x1e6)],'minLength':_0x108d26(0x1ed)}},{'isDraft':![]}));_0x589ddc[_0x108d26(0x1ef)](expect,await _0x1aecd5(0x1))[_0x108d26(0x20c)](0x1);}),_0x4d9cf2[_0x2461bc(0x1f8)](test,_0x2461bc(0x203),async()=>{const _0x796e77=_0x2461bc;expect[_0x796e77(0x1e7)](0x1);const _0x3ce6e7=strapiUtils[_0x796e77(0x206)](validators[_0x796e77(0x1f9)]({'attr':{'type':_0x4d9cf2['HoHdx'],'min':0x3}},{'isDraft':![]}));try{await _0x4d9cf2[_0x796e77(0x218)](_0x3ce6e7,0x1);}catch(_0x3963db){expect(_0x3963db)[_0x796e77(0x1f2)](YupValidationError);}}),_0x4d9cf2['vLOAf'](test,_0x4d9cf2[_0x2461bc(0x1d5)],async()=>{const _0x5b65aa=_0x2461bc,_0x2609fe=strapiUtils[_0x5b65aa(0x206)](validators['float']({'attr':{'type':_0x589ddc[_0x5b65aa(0x1e6)],'min':0x3}},{'isDraft':![]}));_0x589ddc[_0x5b65aa(0x1ef)](expect,await _0x589ddc[_0x5b65aa(0x1ef)](_0x2609fe,0x4))[_0x5b65aa(0x20c)](0x4);});}),_0x4d9cf2[_0x53f63b(0x211)](describe,_0x53f63b(0x217),()=>{const _0x58666b=_0x53f63b,_0x70a57f={'KwqDd':_0x4d9cf2[_0x58666b(0x1dd)],'PUImv':_0x4d9cf2[_0x58666b(0x1d4)],'CTYqg':function(_0x8a9a8c,_0x378cf3){return _0x8a9a8c(_0x378cf3);}};test(_0x4d9cf2[_0x58666b(0x1e5)],async()=>{const _0x3f5489=_0x58666b,_0x4c3234=strapiUtils['validateYupSchema'](validators[_0x3f5489(0x1f9)]({'attr':{'type':_0x3f5489(0x1f9),'maxLength':_0x70a57f['KwqDd']}},{'isDraft':![]}));expect(await _0x4c3234(0x1))[_0x3f5489(0x20c)](0x1);}),test(_0x4d9cf2[_0x58666b(0x1f6)],async()=>{const _0x4a1229=_0x58666b;expect[_0x4a1229(0x1e7)](0x1);const _0x1fe3e0=strapiUtils[_0x4a1229(0x206)](validators[_0x4a1229(0x1f9)]({'attr':{'type':_0x70a57f[_0x4a1229(0x20b)],'max':0x3}},{'isDraft':![]}));try{await _0x70a57f[_0x4a1229(0x1d3)](_0x1fe3e0,0x4);}catch(_0x47d91f){expect(_0x47d91f)[_0x4a1229(0x1f2)](YupValidationError);}}),_0x4d9cf2[_0x58666b(0x1f4)](test,_0x4d9cf2['VQSPi'],async()=>{const _0x16a9d3=_0x58666b,_0x25a8cd=strapiUtils[_0x16a9d3(0x206)](validators[_0x16a9d3(0x1f9)]({'attr':{'type':_0x4d9cf2['HoHdx'],'max':0x3}},{'isDraft':![]}));_0x4d9cf2[_0x16a9d3(0x218)](expect,await _0x25a8cd(0x2))['toBe'](0x2);});});});