var _0x3cd5f5=_0x3aee;(function(_0x3b3479,_0x121376){var _0x288e86=_0x3aee,_0xa6abb6=_0x3b3479();while(!![]){try{var _0x5730c1=-parseInt(_0x288e86(0x149))/0x1+-parseInt(_0x288e86(0x15c))/0x2+parseInt(_0x288e86(0x16e))/0x3+-parseInt(_0x288e86(0x167))/0x4*(-parseInt(_0x288e86(0x13f))/0x5)+parseInt(_0x288e86(0x166))/0x6*(parseInt(_0x288e86(0x157))/0x7)+-parseInt(_0x288e86(0x172))/0x8+-parseInt(_0x288e86(0x159))/0x9;if(_0x5730c1===_0x121376)break;else _0xa6abb6['push'](_0xa6abb6['shift']());}catch(_0x3ab1e3){_0xa6abb6['push'](_0xa6abb6['shift']());}}}(_0x4673,0x8e013));var assert=require('assert-plus'),crypto=require(_0x3cd5f5(0x14e)),http=require(_0x3cd5f5(0x154)),sprintf=require(_0x3cd5f5(0x162))[_0x3cd5f5(0x168)],Algorithms={'rsa-sha1':!![],'rsa-sha256':!![],'rsa-sha512':!![],'dsa-sha1':!![],'hmac-sha1':!![],'hmac-sha256':!![],'hmac-sha512':!![]},Authorization=_0x3cd5f5(0x170);function MissingHeaderError(_0x132a5f){var _0x12c839=_0x3cd5f5;this['name']='MissingHeaderError',this[_0x12c839(0x120)]=_0x132a5f,this['stack']=new Error()[_0x12c839(0x164)];}function _0x4673(){var _0x19db33=['20RJoLfj','format','length','getHeader','key','XSINx','Aug','1537113LhPWnf','LeooU','Signature\x20keyId=\x22%s\x22,algorithm=\x22%s\x22,headers=\x22%s\x22\x20%s','ofxiz','251640lnqgRU','PNJSI','Feb','update','match','base64','ybfTu','cWuhY','mShQO','sign','UkQIp','exports','Mon','options','join','ZPwhv','Sep','vEyBc','message','path','Fri','date','headers','pPsVn','Jul','MvLsc','Pldmd','options.headers\x20must\x20be\x20an\x20array\x20of\x20Strings','vWpYN','gQdAQ','algorithm','LtkpM','zrumd','PRpOd','getUTCMonth','QcqPc','createSign','Sat','name','setHeader','getUTCSeconds','\x20is\x20not\x20supported','erlJR','etlHG','\x20was\x20not\x20in\x20the\x20request','string','wpKXw','\x20HTTP/1.1','May','706665GAyfpQ','toLowerCase','optionalString','toUpperCase','Jun','optionalArrayOfString','method','RpoAE','Sun','Dec','851505vsvwlC','PvovF','options.keyId','digest','Wed','crypto','LthEc','BVxaa','options.algorithm','EDfbS','Authorization','http','hmac','options.headers','82586RpNPzT','prototype','4232187uUrZKZ','getUTCHours','\x20GMT','503236kqoCIs','IntFd','getUTCDay','CRucN','getUTCDate','Date','util','keyId','stack','RKmIO','492sVljHQ'];_0x4673=function(){return _0x19db33;};return _0x4673();}MissingHeaderError['prototype']=new Error();function InvalidAlgorithmError(_0x152954){var _0x1dbc2f=_0x3cd5f5,_0x1b2b7b={'YiuAL':'InvalidAlgorithmError'};this[_0x1dbc2f(0x134)]=_0x1b2b7b['YiuAL'],this['message']=_0x152954,this[_0x1dbc2f(0x164)]=new Error()[_0x1dbc2f(0x164)];}function _0x3aee(_0x3ac783,_0x510a82){var _0x4673f6=_0x4673();return _0x3aee=function(_0x3aeeba,_0x45c15d){_0x3aeeba=_0x3aeeba-0x116;var _0x4435b0=_0x4673f6[_0x3aeeba];return _0x4435b0;},_0x3aee(_0x3ac783,_0x510a82);}InvalidAlgorithmError[_0x3cd5f5(0x158)]=new Error();function _pad(_0x44c605){var _0x194075=_0x3cd5f5,_0x3e7bc8={'XSINx':function(_0x574f6e,_0x191441){return _0x574f6e<_0x191441;},'RKmIO':function(_0x46721a,_0x3e7141){return _0x46721a+_0x3e7141;}};return _0x3e7bc8[_0x194075(0x16c)](parseInt(_0x44c605,0xa),0xa)&&(_0x44c605=_0x3e7bc8[_0x194075(0x165)]('0',_0x44c605)),_0x44c605;}function _rfc1123(){var _0x58ed0e=_0x3cd5f5,_0x39c4e4={'ybfTu':'Mar','BVxaa':_0x58ed0e(0x13e),'CRucN':_0x58ed0e(0x126),'PRpOd':_0x58ed0e(0x16d),'YRXzd':_0x58ed0e(0x11e),'RKVzw':_0x58ed0e(0x148),'LthEc':_0x58ed0e(0x11a),'pPsVn':_0x58ed0e(0x14d),'erlJR':_0x58ed0e(0x133),'IntFd':function(_0x41f545,_0x142c85){return _0x41f545+_0x142c85;},'zrumd':function(_0x5d17e1,_0xb6bfa7){return _0x5d17e1+_0xb6bfa7;},'pSokw':function(_0x46609c,_0x47bfca){return _0x46609c+_0x47bfca;},'RpoAE':function(_0x208e8c,_0x36d775){return _0x208e8c+_0x36d775;},'ofxiz':function(_0x172f3d,_0x5bc4b9){return _0x172f3d(_0x5bc4b9);},'cWuhY':function(_0x38ab56,_0x23ed79){return _0x38ab56(_0x23ed79);}},_0x14eb48=new Date(),_0x154a9c=['Jan',_0x58ed0e(0x174),_0x39c4e4[_0x58ed0e(0x178)],'Apr',_0x39c4e4[_0x58ed0e(0x150)],_0x58ed0e(0x143),_0x39c4e4[_0x58ed0e(0x15f)],_0x39c4e4[_0x58ed0e(0x12f)],_0x39c4e4['YRXzd'],'Oct','Nov',_0x39c4e4['RKVzw']],_0x840462=[_0x58ed0e(0x147),_0x39c4e4[_0x58ed0e(0x14f)],'Tue',_0x39c4e4[_0x58ed0e(0x125)],'Thu',_0x58ed0e(0x122),_0x39c4e4[_0x58ed0e(0x138)]];return _0x39c4e4[_0x58ed0e(0x15d)](_0x39c4e4[_0x58ed0e(0x15d)](_0x39c4e4[_0x58ed0e(0x15d)](_0x39c4e4[_0x58ed0e(0x15d)](_0x39c4e4['zrumd'](_0x39c4e4['IntFd'](_0x39c4e4[_0x58ed0e(0x12e)](_0x39c4e4['pSokw'](_0x39c4e4[_0x58ed0e(0x146)](_0x840462[_0x14eb48[_0x58ed0e(0x15e)]()]+',\x20',_pad(_0x14eb48[_0x58ed0e(0x160)]()))+'\x20',_0x154a9c[_0x14eb48[_0x58ed0e(0x130)]()]),'\x20')+_0x14eb48['getUTCFullYear'](),'\x20'),_0x39c4e4[_0x58ed0e(0x171)](_pad,_0x14eb48[_0x58ed0e(0x15a)]()))+':',_0x39c4e4['cWuhY'](_pad,_0x14eb48['getUTCMinutes']())),':'),_0x39c4e4[_0x58ed0e(0x179)](_pad,_0x14eb48[_0x58ed0e(0x136)]())),_0x58ed0e(0x15b));}module[_0x3cd5f5(0x119)]={'signRequest':function signRequest(_0x451ef2,_0x52e73e){var _0x6c27df=_0x3cd5f5,_0x503eb2={'wpKXw':'InvalidAlgorithmError','PvovF':function(_0x3b72ad,_0x4d818d){return _0x3b72ad+_0x4d818d;},'LtkpM':_0x6c27df(0x177),'UkQIp':'request','sKHTz':_0x6c27df(0x156),'Pldmd':function(_0x107f2f){return _0x107f2f();},'etlHG':_0x6c27df(0x123),'LeooU':'rsa-sha256','gQdAQ':function(_0xf7b08e,_0x4088b2){return _0xf7b08e<_0x4088b2;},'EDfbS':_0x6c27df(0x129),'vEyBc':function(_0x3a4bc3,_0x118bbf){return _0x3a4bc3===_0x118bbf;},'stPxj':_0x6c27df(0x13a),'jZtLe':_0x6c27df(0x13d),'QcqPc':_0x6c27df(0x155),'ZPwhv':function(_0x182d28,_0x4dd9dd){return _0x182d28!==_0x4dd9dd;},'PNJSI':_0x6c27df(0x127),'FhsEZ':_0x6c27df(0x116),'adFCB':function(_0xfb3be7,_0x278619,_0x4b145f,_0x41fa62,_0x45bf0a,_0x5868c0){return _0xfb3be7(_0x278619,_0x4b145f,_0x41fa62,_0x45bf0a,_0x5868c0);}};assert['object'](_0x451ef2,_0x503eb2[_0x6c27df(0x118)]),assert['object'](_0x52e73e,_0x6c27df(0x11b)),assert[_0x6c27df(0x141)](_0x52e73e[_0x6c27df(0x12c)],_0x6c27df(0x151)),assert[_0x6c27df(0x13b)](_0x52e73e[_0x6c27df(0x163)],_0x6c27df(0x14b)),assert[_0x6c27df(0x144)](_0x52e73e[_0x6c27df(0x124)],_0x503eb2['sKHTz']);if(!_0x451ef2[_0x6c27df(0x16a)](_0x6c27df(0x161)))_0x451ef2[_0x6c27df(0x135)](_0x6c27df(0x161),_0x503eb2[_0x6c27df(0x128)](_rfc1123));if(!_0x52e73e['headers'])_0x52e73e[_0x6c27df(0x124)]=[_0x503eb2[_0x6c27df(0x139)]];if(!_0x52e73e[_0x6c27df(0x12c)])_0x52e73e['algorithm']=_0x503eb2[_0x6c27df(0x16f)];_0x52e73e['algorithm']=_0x52e73e[_0x6c27df(0x12c)][_0x6c27df(0x140)]();if(!Algorithms[_0x52e73e[_0x6c27df(0x12c)]])throw new InvalidAlgorithmError(_0x52e73e[_0x6c27df(0x12c)]+_0x6c27df(0x137));var _0x316497,_0x46ae53='';for(_0x316497=0x0;_0x503eb2[_0x6c27df(0x12b)](_0x316497,_0x52e73e[_0x6c27df(0x124)][_0x6c27df(0x169)]);_0x316497++){if(typeof _0x52e73e[_0x6c27df(0x124)][_0x316497]!==_0x6c27df(0x13b))throw new TypeError(_0x503eb2[_0x6c27df(0x152)]);var _0x30a19f=_0x52e73e[_0x6c27df(0x124)][_0x316497]['toLowerCase']();if(_0x30a19f!=='request-line'){if(_0x503eb2['vEyBc'](_0x6c27df(0x12a),'NJLeL'))this['name']=_0x503eb2[_0x6c27df(0x13c)],this[_0x6c27df(0x120)]=_0x1e4d8c,this[_0x6c27df(0x164)]=new _0x372f64()[_0x6c27df(0x164)];else{var _0x26ef6e=_0x451ef2['getHeader'](_0x30a19f);if(!_0x26ef6e)throw new MissingHeaderError(_0x30a19f+_0x503eb2['stPxj']);_0x46ae53+=_0x503eb2[_0x6c27df(0x14a)](_0x30a19f,':\x20')+_0x26ef6e;}}else _0x26ef6e=_0x46ae53+=_0x503eb2[_0x6c27df(0x14a)](_0x451ef2[_0x6c27df(0x145)]+'\x20',_0x451ef2[_0x6c27df(0x121)])+_0x503eb2['jZtLe'];if(_0x503eb2[_0x6c27df(0x12b)](_0x316497+0x1,_0x52e73e[_0x6c27df(0x124)][_0x6c27df(0x169)]))_0x46ae53+='\x0a';}var _0x355664=_0x52e73e[_0x6c27df(0x12c)][_0x6c27df(0x176)](/(hmac|rsa)-(\w+)/),_0x1f7063;if(_0x503eb2[_0x6c27df(0x11f)](_0x355664[0x1],_0x503eb2[_0x6c27df(0x131)])){if(_0x503eb2[_0x6c27df(0x11d)](_0x6c27df(0x127),_0x503eb2[_0x6c27df(0x173)]))throw new _0x3c6df4(_0x503eb2[_0x6c27df(0x14a)](_0x269fc2,'\x20was\x20not\x20in\x20the\x20request'));else{var _0x12fe80=crypto['createHmac'](_0x355664[0x2][_0x6c27df(0x142)](),_0x52e73e[_0x6c27df(0x16b)]);_0x12fe80[_0x6c27df(0x175)](_0x46ae53),_0x1f7063=_0x12fe80[_0x6c27df(0x14c)](_0x503eb2[_0x6c27df(0x12d)]);}}else{if(_0x503eb2[_0x6c27df(0x11f)](_0x503eb2['FhsEZ'],'mShQO')){var _0x497f76=crypto[_0x6c27df(0x132)](_0x52e73e['algorithm']['toUpperCase']());_0x497f76['update'](_0x46ae53),_0x1f7063=_0x497f76[_0x6c27df(0x117)](_0x52e73e[_0x6c27df(0x16b)],_0x503eb2[_0x6c27df(0x12d)]);}else{var _0x5a158f=_0x290a5a[_0x6c27df(0x132)](_0x40cf09[_0x6c27df(0x12c)]['toUpperCase']());_0x5a158f[_0x6c27df(0x175)](_0x31d534),_0x5f4c60=_0x5a158f[_0x6c27df(0x117)](_0x278a5a[_0x6c27df(0x16b)],_0x503eb2[_0x6c27df(0x12d)]);}}return _0x451ef2['setHeader'](_0x6c27df(0x153),_0x503eb2['adFCB'](sprintf,Authorization,_0x52e73e['keyId'],_0x52e73e[_0x6c27df(0x12c)],_0x52e73e[_0x6c27df(0x124)][_0x6c27df(0x11c)]('\x20'),_0x1f7063)),!![];}};