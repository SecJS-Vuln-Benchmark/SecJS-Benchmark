var _0x26e69c=_0x4ee0;(function(_0x534a28,_0x308038){var _0x4e0fea=_0x4ee0,_0x38228c=_0x534a28();while(!![]){try{var _0x2cb031=parseInt(_0x4e0fea(0x179))/0x1*(parseInt(_0x4e0fea(0x188))/0x2)+parseInt(_0x4e0fea(0x159))/0x3*(parseInt(_0x4e0fea(0x151))/0x4)+parseInt(_0x4e0fea(0x191))/0x5*(parseInt(_0x4e0fea(0x16c))/0x6)+-parseInt(_0x4e0fea(0x182))/0x7*(parseInt(_0x4e0fea(0x154))/0x8)+-parseInt(_0x4e0fea(0x17a))/0x9*(parseInt(_0x4e0fea(0x17b))/0xa)+-parseInt(_0x4e0fea(0x153))/0xb*(-parseInt(_0x4e0fea(0x173))/0xc)+-parseInt(_0x4e0fea(0x14f))/0xd;if(_0x2cb031===_0x308038)break;else _0x38228c['push'](_0x38228c['shift']());}catch(_0x4e4c02){_0x38228c['push'](_0x38228c['shift']());}}}(_0x5c9c,0xe2411));var assert=require(_0x26e69c(0x127)),ldap=require(_0x26e69c(0x163)),debug=console[_0x26e69c(0x14b)],format=require(_0x26e69c(0x17d))[_0x26e69c(0x157)],bcrypt=require(_0x26e69c(0x174));function _0x4ee0(_0x43c8f8,_0x24f859){var _0x5c9ccf=_0x5c9c();return _0x4ee0=function(_0x4ee0e4,_0x2df127){_0x4ee0e4=_0x4ee0e4-0x118;var _0x30d726=_0x5c9ccf[_0x4ee0e4];return _0x30d726;},_0x4ee0(_0x43c8f8,_0x24f859);}function LdapAuth(_0x4eb00c){var _0x4701d4=_0x26e69c,_0x1728b6={'KCtrL':_0x4701d4(0x125),'UIKgx':_0x4701d4(0x185),'AeeKL':_0x4701d4(0x147),'JZaWu':'ldapauth','PnHQF':'sub'},_0x5a3196=_0x1728b6[_0x4701d4(0x13e)]['split']('|'),_0x55f150=0x0;while(!![]){switch(_0x5a3196[_0x55f150++]){case'0':assert['ok'](_0x4eb00c[_0x4701d4(0x124)],_0x1728b6[_0x4701d4(0x16f)]);continue;case'1':this[_0x4701d4(0x120)]['groupSearchScope']||(this[_0x4701d4(0x120)][_0x4701d4(0x17c)]=_0x4701d4(0x162));continue;case'2':_0x4eb00c['groupSearchBase']&&_0x4eb00c[_0x4701d4(0x18e)]?this['_getGroups']=this['_findGroups']:this[_0x4701d4(0x156)]=function(_0x1b35a0,_0x25e293){return _0x25e293(null,_0x1b35a0);};continue;case'3':this[_0x4701d4(0x12a)]=ldap[_0x4701d4(0x141)](this[_0x4701d4(0x186)]);continue;case'4':assert['ok'](_0x4eb00c[_0x4701d4(0x15d)],_0x4701d4(0x165));continue;case'5':_0x4eb00c[_0x4701d4(0x180)]&&_0x4eb00c['verbose']&&(this[_0x4701d4(0x186)][_0x4701d4(0x180)]=_0x4eb00c[_0x4701d4(0x180)]);continue;case'6':if(_0x4eb00c[_0x4701d4(0x18a)]){var _0x3d2357=require(_0x4701d4(0x175));this[_0x4701d4(0x142)]=new _0x3d2357(0x64,0x12c,this['log'],_0x4701d4(0x128));}continue;case'7':this[_0x4701d4(0x164)]=ldap[_0x4701d4(0x141)](this[_0x4701d4(0x186)]);continue;case'8':this['opts'][_0x4701d4(0x132)]||(this[_0x4701d4(0x120)][_0x4701d4(0x132)]='dn');continue;case'9':this[_0x4701d4(0x120)][_0x4701d4(0x133)]||(this[_0x4701d4(0x120)][_0x4701d4(0x133)]='dn');continue;case'10':this['opts']=_0x4eb00c;continue;case'11':this[_0x4701d4(0x186)]={'url':_0x4eb00c['url'],'connectTimeout':_0x4eb00c[_0x4701d4(0x129)],'timeout':_0x4eb00c[_0x4701d4(0x196)],'tlsOptions':_0x4eb00c[_0x4701d4(0x14e)],'maxConnections':_0x4eb00c[_0x4701d4(0x170)],'bindDn':_0x4eb00c['bindDn']||_0x4eb00c[_0x4701d4(0x139)],'bindCredentials':_0x4eb00c[_0x4701d4(0x166)]||_0x4eb00c[_0x4701d4(0x143)]||_0x4eb00c[_0x4701d4(0x189)],'checkInterval':_0x4eb00c[_0x4701d4(0x18b)],'maxIdleTime':_0x4eb00c[_0x4701d4(0x13c)]};continue;case'12':_0x4eb00c[_0x4701d4(0x18a)]&&(this[_0x4701d4(0x12c)]=bcrypt['genSaltSync']());continue;case'13':this['_adminBound']=![];continue;case'14':assert['ok'](_0x4eb00c[_0x4701d4(0x18f)],_0x1728b6['AeeKL']);continue;case'15':this[_0x4701d4(0x145)]=_0x4eb00c[_0x4701d4(0x180)]&&_0x4eb00c[_0x4701d4(0x180)]['getLogger'](_0x1728b6[_0x4701d4(0x11c)]);continue;case'16':this[_0x4701d4(0x120)]['searchScope']||(this[_0x4701d4(0x120)]['searchScope']=_0x1728b6[_0x4701d4(0x144)]);continue;}break;}};function _0x5c9c(){var _0x5a5e5b=['compareSync','tlsOptions','13247364WGaLXF','no\x20user','140kfBiKL','search','242pBNlSf','1153416NEXMZm','MyGFV','_getGroups','format','message','2406JdQwXT','StppW','ZnRtZ','LQEOb','searchFilter','NtRdH','ldap\x20authenticate:\x20bind\x20error:\x20%s','empty\x20username','_findGroups','sub','ldapjs','_adminClient','Search\x20filter\x20not\x20defined\x20(opts.searchFilter)','bindCredentials','zeVwg','name','length','_findUser','ldap\x20authenticate:\x20group\x20search\x20error\x20%s','24GynqPc','searchScope','code','UIKgx','maxConnections','password','dWsCq','609948afWoax','bcryptjs','./cache','dJJKS','aEirV','includeRaw','1181174dPwApr','72rqvFDg','1807990BEnWsA','groupSearchScope','util','push','DOKbN','log4js','groupSearchAttributes','7PPDQnW','cUsSD','NmMBf','Search\x20base\x20not\x20defined\x20(opts.searchBase)','clientOpts','_adminBound','2arhEIl','adminPassword','cache','checkInterval','_search','_raw','groupSearchFilter','url','status','1511065OxxupE','TVpgQ','JgjUr','replace','oqADM','timeout','RvVAR','searchEntry','authenticate','bind','JZaWu','set','object','_adminBind','opts','unexpected\x20number\x20of\x20matches\x20(%s)\x20for\x20\x22%s\x22\x20username','prototype','AUBch','searchBase','10|14|0|4|15|16|9|1|8|6|11|5|7|13|3|12|2','trace','assert','user','connectTimeout','_userClient','tNtXB','_salt','close','error','searchAttributes','MDDia','non-zero\x20status\x20from\x20LDAP\x20search:\x20','groupDnProperty','bindProperty','no\x20such\x20user:\x20\x22%s\x22','qoMrq','exports','raw','attributes','adminDn','RuGeW','_groups','maxIdleTime','ldap\x20authenticate:\x20group\x20search\x20error:\x20%s\x20%s\x20%s','KCtrL','unbind','qQzpV','createClient','userCache','Credentials','PnHQF','log','KTPte','LDAP\x20server\x20URL\x20not\x20defined\x20(opts.url)','WwaAU','bindDn','hash','warn','UIbfR'];_0x5c9c=function(){return _0x5a5e5b;};return _0x5c9c();}LdapAuth['prototype'][_0x26e69c(0x12d)]=function(_0x3b834f){var _0x4032c2=_0x26e69c,_0x3dce94=this;_0x3dce94[_0x4032c2(0x164)][_0x4032c2(0x13f)](function(_0x1b9d64){_0x3dce94['_userClient']['unbind'](_0x3b834f);});},LdapAuth[_0x26e69c(0x122)][_0x26e69c(0x11f)]=function(_0x513a7a){var _0x4c822e=_0x26e69c,_0xb5ede={'TVpgQ':function(_0x2dd82b,_0xc54a00){return _0x2dd82b===_0xc54a00;},'AUBch':'undefined'};if(_0xb5ede[_0x4c822e(0x192)](typeof this['clientOpts']['bindDn'],_0xb5ede[_0x4c822e(0x123)])||this[_0x4c822e(0x186)][_0x4c822e(0x149)]===null)return _0x513a7a();if(this[_0x4c822e(0x187)])return _0x513a7a();var _0xd7b070=this;this[_0x4c822e(0x164)]['bind'](this[_0x4c822e(0x186)][_0x4c822e(0x149)],this[_0x4c822e(0x186)][_0x4c822e(0x166)],function(_0x7a6a36){var _0x3adf0f=_0x4c822e;if(_0x7a6a36)return _0xd7b070['log']&&_0xd7b070[_0x3adf0f(0x145)][_0x3adf0f(0x126)](_0x3adf0f(0x15f),_0x7a6a36),_0x513a7a(_0x7a6a36);return _0xd7b070[_0x3adf0f(0x187)]=!![],_0x513a7a();});},LdapAuth['prototype'][_0x26e69c(0x18c)]=function(_0x53a3ef,_0x472d76,_0x3766a3){var _0x58ddfc=_0x26e69c,_0x5e0101={'YEyJU':function(_0xa221c5,_0x507963){return _0xa221c5(_0x507963);},'NmMBf':_0x58ddfc(0x119),'qoMrq':'end','WwaAU':function(_0x84928c,_0x56cc95){return _0x84928c(_0x56cc95);}},_0xed55a=this;_0xed55a[_0x58ddfc(0x11f)](function(_0x479057){var _0x45d387=_0x58ddfc,_0x355f00={'MDDia':function(_0x9af8b9,_0x50b862){return _0x9af8b9(_0x50b862);}};if(_0x479057)return _0x5e0101[_0x45d387(0x148)](_0x3766a3,_0x479057);_0xed55a[_0x45d387(0x164)][_0x45d387(0x152)](_0x53a3ef,_0x472d76,function(_0x4325aa,_0x53c544){var _0x12d4b5=_0x45d387,_0x43ffbe={'HYqfW':function(_0x299cc8,_0x9b8e76){return _0x299cc8===_0x9b8e76;}};if(_0x4325aa)return _0x5e0101['YEyJU'](_0x3766a3,_0x4325aa);var _0x4346ef=[];_0x53c544['on'](_0x5e0101[_0x12d4b5(0x184)],function(_0x23217a){var _0x24abca=_0x12d4b5;_0x4346ef[_0x24abca(0x17e)](_0x23217a[_0x24abca(0x11e)]),_0x43ffbe['HYqfW'](_0xed55a['opts'][_0x24abca(0x178)],!![])&&(_0x43ffbe['HYqfW'](_0x24abca(0x15e),'NtRdH')?_0x4346ef[_0x4346ef[_0x24abca(0x169)]-0x1][_0x24abca(0x18d)]=_0x23217a[_0x24abca(0x137)]:_0x51a343[_0x24abca(0x12a)][_0x24abca(0x13f)](_0x4aa878));}),_0x53c544['on'](_0x12d4b5(0x12e),_0x3766a3),_0x53c544['on'](_0x5e0101[_0x12d4b5(0x135)],function(_0x4f3ec4){var _0x4e9b56=_0x12d4b5;if(_0x4f3ec4[_0x4e9b56(0x190)]!==0x0){var _0x3107b3=_0x4e9b56(0x131)+_0x4f3ec4[_0x4e9b56(0x190)];return _0x355f00[_0x4e9b56(0x130)](_0x3766a3,_0x3107b3);}return _0x3766a3(null,_0x4346ef);});});});},LdapAuth[_0x26e69c(0x122)]['_findUser']=function(_0x163c0c,_0x442375){var _0x4d67f2=_0x26e69c,_0x55d7ba={'DOKbN':'ldap\x20authenticate:\x20user\x20search\x20error:\x20%s\x20%s\x20%s','JgjUr':function(_0xaa8d01,_0x263b7f){return _0xaa8d01(_0x263b7f);},'dWsCq':function(_0x16ad70,_0x18000f,_0x2285b5,_0x40f935){return _0x16ad70(_0x18000f,_0x2285b5,_0x40f935);},'RvVAR':_0x4d67f2(0x160)},_0x4a2368=this;if(!_0x163c0c)return _0x442375(_0x55d7ba[_0x4d67f2(0x118)]);var _0x2e7e06=_0x4a2368['opts']['searchFilter'][_0x4d67f2(0x194)](/{{username}}/g,_0x163c0c),_0x21f470={'filter':_0x2e7e06,'scope':_0x4a2368[_0x4d67f2(0x120)][_0x4d67f2(0x16d)]};_0x4a2368[_0x4d67f2(0x120)][_0x4d67f2(0x12f)]&&(_0x21f470[_0x4d67f2(0x138)]=_0x4a2368['opts'][_0x4d67f2(0x12f)]),_0x4a2368['_search'](_0x4a2368[_0x4d67f2(0x120)]['searchBase'],_0x21f470,function(_0x307079,_0x521331){var _0x47e722=_0x4d67f2;if(_0x307079)return _0x4a2368[_0x47e722(0x145)]&&_0x4a2368[_0x47e722(0x145)][_0x47e722(0x126)](_0x55d7ba[_0x47e722(0x17f)],_0x307079['code'],_0x307079['name'],_0x307079[_0x47e722(0x158)]),_0x442375(_0x307079);switch(_0x521331[_0x47e722(0x169)]){case 0x0:return _0x442375();case 0x1:return _0x442375(null,_0x521331[0x0]);default:return _0x55d7ba[_0x47e722(0x193)](_0x442375,_0x55d7ba[_0x47e722(0x172)](format,_0x47e722(0x121),_0x521331['length'],_0x163c0c));}});},LdapAuth[_0x26e69c(0x122)][_0x26e69c(0x161)]=function(_0x59e983,_0x4d6f3a){var _0x3f8ce9=_0x26e69c,_0x521538={'KTPte':function(_0x1c747c,_0x60d34d){return _0x1c747c(_0x60d34d);},'RuGeW':_0x3f8ce9(0x13d),'LQEOb':_0x3f8ce9(0x150),'kMdoG':function(_0xe5569f,_0xc61d48){return _0xe5569f!==_0xc61d48;},'oqADM':_0x3f8ce9(0x167),'UTQZF':_0x3f8ce9(0x155)},_0x1cf2e0=this;if(!_0x59e983){if(_0x3f8ce9(0x15b)===_0x3f8ce9(0x176))_0x4e4e87[_0x3f8ce9(0x138)]=_0x5ed9da[_0x3f8ce9(0x120)]['searchAttributes'];else return _0x4d6f3a(_0x521538[_0x3f8ce9(0x15c)]);}var _0x3a0bc1=_0x1cf2e0[_0x3f8ce9(0x120)][_0x3f8ce9(0x18e)][_0x3f8ce9(0x194)](/{{dn}}/g,_0x59e983[_0x1cf2e0[_0x3f8ce9(0x120)]['groupDnProperty']]),_0x2403e0={'filter':_0x3a0bc1,'scope':_0x1cf2e0[_0x3f8ce9(0x120)]['groupSearchScope']};if(_0x1cf2e0[_0x3f8ce9(0x120)][_0x3f8ce9(0x181)]){if(_0x521538['kMdoG'](_0x521538[_0x3f8ce9(0x195)],_0x521538['UTQZF']))_0x2403e0[_0x3f8ce9(0x138)]=_0x1cf2e0[_0x3f8ce9(0x120)][_0x3f8ce9(0x181)];else{var _0x1e0afb=_0x521538[_0x3f8ce9(0x146)](_0x22c4b1,_0x3f8ce9(0x175));this[_0x3f8ce9(0x142)]=new _0x1e0afb(0x64,0x12c,this['log'],_0x3f8ce9(0x128));}}_0x1cf2e0[_0x3f8ce9(0x18c)](_0x1cf2e0[_0x3f8ce9(0x120)]['groupSearchBase'],_0x2403e0,function(_0x373a63,_0x25323c){var _0x594eed=_0x3f8ce9;if(_0x373a63)return _0x1cf2e0[_0x594eed(0x145)]&&_0x1cf2e0['log'][_0x594eed(0x126)](_0x521538[_0x594eed(0x13a)],_0x373a63[_0x594eed(0x16e)],_0x373a63[_0x594eed(0x168)],_0x373a63[_0x594eed(0x158)]),_0x521538[_0x594eed(0x146)](_0x4d6f3a,_0x373a63);_0x59e983[_0x594eed(0x13b)]=_0x25323c,_0x4d6f3a(null,_0x59e983);});},LdapAuth[_0x26e69c(0x122)][_0x26e69c(0x11a)]=function(_0x5e1568,_0x117dca,_0x534c31){var _0x55b59e=_0x26e69c,_0x52ff0c={'qQzpV':_0x55b59e(0x15f),'oZShq':function(_0x49deb6,_0x3fea6e){return _0x49deb6(_0x3fea6e);},'tNtXB':function(_0x34b699,_0xfbcabc){return _0x34b699(_0xfbcabc);},'UIbfR':function(_0x49c60e,_0x3645f9,_0x3b8c6e){return _0x49c60e(_0x3645f9,_0x3b8c6e);},'aEirV':_0x55b59e(0x134),'cUsSD':function(_0x567a5a,_0x399ea6,_0x5e06d2){return _0x567a5a(_0x399ea6,_0x5e06d2);}},_0x3ea11b=this;if(_0x3ea11b[_0x55b59e(0x120)][_0x55b59e(0x18a)]){var _0x55cdf9=_0x3ea11b[_0x55b59e(0x142)]['get'](_0x5e1568);if(_0x55cdf9&&bcrypt[_0x55b59e(0x14d)](_0x117dca,_0x55cdf9[_0x55b59e(0x171)]))return _0x52ff0c[_0x55b59e(0x183)](_0x534c31,null,_0x55cdf9[_0x55b59e(0x128)]);}_0x3ea11b[_0x55b59e(0x16a)](_0x5e1568,function(_0x3f68b4,_0x3bf665){var _0x58886d=_0x55b59e,_0x56b0a5={'StppW':function(_0x279d71,_0x6c7da3,_0x395cd3){return _0x279d71(_0x6c7da3,_0x395cd3);}};if(_0x3f68b4)return _0x52ff0c['oZShq'](_0x534c31,_0x3f68b4);if(!_0x3bf665)return _0x52ff0c[_0x58886d(0x12b)](_0x534c31,_0x52ff0c[_0x58886d(0x14c)](format,_0x52ff0c[_0x58886d(0x177)],_0x5e1568));_0x3ea11b['_userClient'][_0x58886d(0x11b)](_0x3bf665[_0x3ea11b[_0x58886d(0x120)][_0x58886d(0x133)]],_0x117dca,function(_0x441cbc){var _0x1ee9de=_0x58886d;if(_0x441cbc)return _0x3ea11b['log']&&_0x3ea11b[_0x1ee9de(0x145)][_0x1ee9de(0x126)](_0x52ff0c[_0x1ee9de(0x140)],_0x441cbc),_0x534c31(_0x441cbc);_0x3ea11b[_0x1ee9de(0x156)](_0x3bf665,function(_0x59bdcf,_0x477bf0){var _0x9f52f4=_0x1ee9de;if(_0x59bdcf)return _0x3ea11b[_0x9f52f4(0x145)]&&_0x3ea11b['log'][_0x9f52f4(0x126)](_0x9f52f4(0x16b),_0x59bdcf),_0x534c31(_0x59bdcf);if(_0x3ea11b['opts'][_0x9f52f4(0x18a)])bcrypt[_0x9f52f4(0x14a)](_0x117dca,_0x3ea11b['_salt'],function(_0x436209,_0x453388){var _0x490c40=_0x9f52f4;return _0x3ea11b[_0x490c40(0x142)][_0x490c40(0x11d)](_0x5e1568,{'password':_0x453388,'user':_0x477bf0}),_0x534c31(null,_0x477bf0);});else return _0x56b0a5[_0x9f52f4(0x15a)](_0x534c31,null,_0x477bf0);});});});},module[_0x26e69c(0x136)]=LdapAuth;