'use strict';function _0x5d84(){const _0xc46760=['headers','xsrf-token','aGuMR','getToken\x20should\x20be\x20a\x20function','session','log','GdpJV','value','SDXhi','LnYtw','generateCsrf','@fastify/session','@fastify/csrf','@fastify/csrf-protection','eGayr','2829764jehKeH','WideZ','oFmgR','hmacKey','HeCkg','3647223qCNPfC','vAEMW','sessionKey\x20should\x20be\x20a\x20string','@fastify/cookie','options','22QZNfkQ','4uTPcJy','kMNMk','userInfo','vDoms','@fastify/error','ZOIsE','iMyyN','FhVIK','RnQpZ','string','oGITY','get','x-xsrf-token','exports','100731XjtgWR','unsignCookie','TWNoz','hcpeT','csrfOpts.hmacKey\x20is\x20required','setCookie','FST_CSRF_MISSING_SECRET','cookieKey\x20should\x20be\x20a\x20string','rzMwK','request','4884190AskaLQ','260045cdqNeB','@fastify/secure-session','function','x-csrf-token','nuvMX','csrf-token','includes','csrfOpts','getUserInfo','Invalid\x20csrf\x20token','Missing\x20csrf\x20secret','fastifyCsrfProtection','_csrf','RRgTd','YZbUV','mXvYr','assert','8zTdvOg','csrfProtection','eJoJZ','553258kzjhJF','secretSync','send','verify','TtjPH','body','SPhwf','zHJKL','warn','cookies','40kLZUCC','culJp','4.x','decorateReply','4970376cHBJWs','assign','create','BNvzr'];_0x5d84=function(){return _0xc46760;};return _0x5d84();}const _0x42633d=_0x5e6a;(function(_0x1d7833,_0x9975f2){const _0x4d942a=_0x5e6a,_0x19d63e=_0x1d7833();while(!![]){try{const _0x53027d=-parseInt(_0x4d942a(0x17f))/0x1+-parseInt(_0x4d942a(0x1ab))/0x2*(parseInt(_0x4d942a(0x1b9))/0x3)+parseInt(_0x4d942a(0x189))/0x4*(parseInt(_0x4d942a(0x16b))/0x5)+parseInt(_0x4d942a(0x18d))/0x6+parseInt(_0x4d942a(0x1a0))/0x7+parseInt(_0x4d942a(0x17c))/0x8*(parseInt(_0x4d942a(0x1a5))/0x9)+-parseInt(_0x4d942a(0x16a))/0xa*(parseInt(_0x4d942a(0x1aa))/0xb);if(_0x53027d===_0x9975f2)break;else _0x19d63e['push'](_0x19d63e['shift']());}catch(_0x309ea0){_0x19d63e['push'](_0x19d63e['shift']());}}}(_0x5d84,0x88e5f));const assert=require(_0x42633d(0x17b)),fp=require('fastify-plugin'),CSRF=require(_0x42633d(0x19d)),createError=require(_0x42633d(0x1af)),MissingCSRFSecretError=createError(_0x42633d(0x1bf),_0x42633d(0x175),0x193),InvalidCSRFTokenError=createError('FST_CSRF_INVALID_TOKEN','Invalid\x20csrf\x20token',0x193),defaultOptions={'cookieKey':_0x42633d(0x177),'cookieOpts':{'path':'/','sameSite':!![],'httpOnly':!![]},'sessionKey':_0x42633d(0x177),'getToken':getTokenDefault,'getUserInfo':getUserInfoDefault,'sessionPlugin':'@fastify/cookie'};function _0x5e6a(_0x534bf4,_0xe2665){const _0x5d8463=_0x5d84();return _0x5e6a=function(_0x5e6a6d,_0x198d66){_0x5e6a6d=_0x5e6a6d-0x169;let _0x3854da=_0x5d8463[_0x5e6a6d];return _0x3854da;},_0x5e6a(_0x534bf4,_0xe2665);}async function fastifyCsrfProtection(_0x7fff1d,_0x2f81c2){const _0x948526=_0x42633d,_0xe130ea={'eGayr':_0x948526(0x1b1),'SPhwf':'x-xsrf-token','HeCkg':function(_0x327e07,_0x8b971a){return _0x327e07!==_0x8b971a;},'oGITY':_0x948526(0x183),'hcpeT':_0x948526(0x199),'TWNoz':function(_0xbc8392,_0x36e55e){return _0xbc8392===_0x36e55e;},'ZOIsE':_0x948526(0x17e),'YZbUV':_0x948526(0x1ac),'mXvYr':function(_0x33ba2f,_0x2905e9,_0x83ea55){return _0x33ba2f(_0x2905e9,_0x83ea55);},'nuvMX':_0x948526(0x175),'rzMwK':function(_0x182517,_0x8b255d){return _0x182517(_0x8b255d);},'PlnIJ':function(_0x541a19){return _0x541a19();},'vAEMW':function(_0x47f308,_0x2a681b){return _0x47f308===_0x2a681b;},'RnQpZ':function(_0x2fa574,_0x479d12,_0x4e509e){return _0x2fa574(_0x479d12,_0x4e509e);},'zHJKL':_0x948526(0x1b4),'LnYtw':function(_0x7456ed,_0x5d3333){return _0x7456ed===_0x5d3333;},'culJp':'getUserInfo\x20should\x20be\x20a\x20function','oFmgR':function(_0x345836,_0x3300ef,_0x449367){return _0x345836(_0x3300ef,_0x449367);},'kxtqX':function(_0x15afbd,_0x32975e){return _0x15afbd===_0x32975e;},'GdpJV':'cookieOpts\x20should\x20be\x20a\x20object','aGuMR':function(_0x29d15e,_0x349157,_0x3520f3){return _0x29d15e(_0x349157,_0x3520f3);},'WideZ':'@fastify/cookie','FhVIK':'@fastify/session','vDoms':'sessionPlugin\x20should\x20be\x20one\x20of\x20the\x20following:\x20\x27@fastify/cookie\x27,\x20\x27@fastify/session\x27,\x20\x27@fastify/secure-session\x27','RRgTd':_0x948526(0x19b),'Hwdvg':_0x948526(0x17d)},{cookieKey:_0x4ce52b,cookieOpts:_0x47787e,sessionKey:_0x2e93b9,getToken:_0x1b47f6,getUserInfo:_0x33b819,sessionPlugin:_0x35c6e3}=Object[_0x948526(0x18e)]({},defaultOptions,_0x2f81c2),_0x3e785e=_0x2f81c2&&_0x2f81c2[_0x948526(0x172)]?_0x2f81c2[_0x948526(0x172)]:{};_0xe130ea['mXvYr'](assert,_0xe130ea[_0x948526(0x1a6)](typeof _0x4ce52b,_0x948526(0x1b4)),_0x948526(0x1c0)),_0xe130ea[_0x948526(0x1b3)](assert,typeof _0x2e93b9===_0xe130ea[_0x948526(0x186)],_0x948526(0x1a7)),assert(_0xe130ea['LnYtw'](typeof _0x1b47f6,_0x948526(0x16d)),_0x948526(0x194)),assert(typeof _0x33b819===_0x948526(0x16d),_0xe130ea[_0x948526(0x18a)]),_0xe130ea[_0x948526(0x1a2)](assert,_0xe130ea['kxtqX'](typeof _0x47787e,'object'),_0xe130ea[_0x948526(0x197)]),_0xe130ea[_0x948526(0x193)](assert,[_0xe130ea[_0x948526(0x1a1)],_0xe130ea[_0x948526(0x1b2)],_0x948526(0x16c)][_0x948526(0x171)](_0x35c6e3),_0xe130ea[_0x948526(0x1ae)]);_0x2f81c2[_0x948526(0x173)]&&(_0x3e785e[_0x948526(0x1ad)]=!![]);_0xe130ea[_0x948526(0x19a)](_0x35c6e3,_0x948526(0x1a8))&&_0x3e785e[_0x948526(0x1ad)]&&_0xe130ea[_0x948526(0x17a)](assert,_0x3e785e[_0x948526(0x1a3)],_0x948526(0x1bd));const _0x33e563=new CSRF(_0x3e785e),_0x394813=_0x47787e&&_0x47787e['signed'];if(_0x35c6e3===_0x948526(0x16c))_0x7fff1d[_0x948526(0x18c)]('generateCsrf',_0x3a8425);else _0x35c6e3===_0x948526(0x19c)?_0x7fff1d[_0x948526(0x18c)](_0x948526(0x19b),_0xd8e9f3):_0x7fff1d['decorateReply'](_0xe130ea[_0x948526(0x178)],_0x3f75d9);_0x7fff1d['decorate'](_0xe130ea['Hwdvg'],_0x515973);let _0x4bc578;if(_0x35c6e3===_0x948526(0x16c))_0x4bc578=function _0x3af36f(_0x2dbef5,_0x16eed2){const _0x779ccf=_0x948526;return _0x2dbef5[_0x779ccf(0x195)][_0x779ccf(0x1b6)](_0x2e93b9);};else _0x35c6e3===_0x948526(0x19c)?_0x4bc578=function _0xce8b(_0x47f71d,_0x1408c7){const _0x5b31ce=_0x948526;if('bRsmC'===_0xe130ea[_0x5b31ce(0x19f)]){let _0x123cc1=this[_0x5b31ce(0x169)]['session'][_0x2dd5de];const _0x2aa6e3=_0x1753e4?_0x5c2d50[_0x5b31ce(0x1ad)]:_0x5b312d;return!_0x123cc1&&(_0x123cc1=_0x4ae694[_0x5b31ce(0x180)](),this[_0x5b31ce(0x169)][_0x5b31ce(0x195)][_0xbc1ba0]=_0x123cc1),_0x38893b[_0x5b31ce(0x18f)](_0x123cc1,_0x2aa6e3);}else return _0x47f71d['session'][_0x2e93b9];}:_0x4bc578=function _0x4afbb3(_0x3a087f,_0x5bb5ea){const _0x21765f=_0x948526;return _0x394813?_0x5bb5ea[_0x21765f(0x1ba)](_0x3a087f[_0x21765f(0x188)][_0x4ce52b]||'')['value']:_0x3a087f[_0x21765f(0x188)][_0x4ce52b];};function _0x3f75d9(_0x30699e){const _0x2bd383=_0x948526;let _0x2a6da3=_0x394813?this['unsignCookie'](this[_0x2bd383(0x169)]['cookies'][_0x4ce52b]||'')[_0x2bd383(0x198)]:this[_0x2bd383(0x169)][_0x2bd383(0x188)][_0x4ce52b];const _0x1eca09=_0x30699e?_0x30699e[_0x2bd383(0x1ad)]:undefined;return!_0x2a6da3&&(_0x2a6da3=_0x33e563[_0x2bd383(0x180)](),this[_0x2bd383(0x1be)](_0x4ce52b,_0x2a6da3,Object[_0x2bd383(0x18e)]({},_0x47787e,_0x30699e))),_0x33e563['create'](_0x2a6da3,_0x1eca09);}function _0x3a8425(_0x49798f){const _0xe14dd=_0x948526,_0x4a4f9d={'BNvzr':_0xe14dd(0x192),'PakxX':_0xe14dd(0x16e),'mFuqa':_0xe130ea[_0xe14dd(0x185)]};if(_0xe130ea[_0xe14dd(0x1a4)](_0xe130ea[_0xe14dd(0x1b5)],_0xe130ea[_0xe14dd(0x1bc)])){let _0x448114=this[_0xe14dd(0x169)][_0xe14dd(0x195)]['get'](_0x2e93b9);!_0x448114&&(_0x448114=_0x33e563[_0xe14dd(0x180)](),this[_0xe14dd(0x169)][_0xe14dd(0x195)]['set'](_0x2e93b9,_0x448114));const _0x3d4eb4=_0x49798f?_0x49798f['userInfo']:undefined;return _0x49798f&&(_0xe130ea['TWNoz'](_0xe130ea[_0xe14dd(0x1b0)],'asiJY')?(_0x2abef8=_0x326944[_0xe14dd(0x180)](),this['setCookie'](_0x2a3735,_0x5e7ae4,_0x40d2b2[_0xe14dd(0x18e)]({},_0x40d36d,_0x19f4e4))):this[_0xe14dd(0x169)][_0xe14dd(0x195)][_0xe14dd(0x1a9)](_0x49798f)),_0x33e563[_0xe14dd(0x18f)](_0x448114,_0x3d4eb4);}else return _0x3286d4[_0xe14dd(0x184)]&&_0x291542[_0xe14dd(0x184)][_0xe14dd(0x177)]||_0x121a59[_0xe14dd(0x191)][_0xe14dd(0x170)]||_0x40652b[_0xe14dd(0x191)][_0x4a4f9d[_0xe14dd(0x190)]]||_0x52690e['headers'][_0x4a4f9d['PakxX']]||_0x2fbbec['headers'][_0x4a4f9d['mFuqa']];}function _0xd8e9f3(_0x3be61d){const _0xa66601=_0x948526;let _0x4dba3b=this[_0xa66601(0x169)][_0xa66601(0x195)][_0x2e93b9];const _0x419675=_0x3be61d?_0x3be61d['userInfo']:undefined;return!_0x4dba3b&&(_0xe130ea[_0xa66601(0x1bb)](_0xe130ea['YZbUV'],_0xe130ea[_0xa66601(0x179)])?(_0x4dba3b=_0x33e563[_0xa66601(0x180)](),this[_0xa66601(0x169)][_0xa66601(0x195)][_0x2e93b9]=_0x4dba3b):this[_0xa66601(0x169)][_0xa66601(0x195)]['options'](_0x44208a)),_0x33e563[_0xa66601(0x18f)](_0x4dba3b,_0x419675);}function _0x515973(_0x293d28,_0x37e590,_0x4043f7){const _0x3a1b4f=_0x948526,_0x1d29f4={'IhiIf':_0x3a1b4f(0x175)},_0x272866=_0xe130ea[_0x3a1b4f(0x17a)](_0x4bc578,_0x293d28,_0x37e590);if(!_0x272866)return'slpdF'!=='slpdF'?(_0x368d6b[_0x3a1b4f(0x196)][_0x3a1b4f(0x187)](_0x1d29f4['IhiIf']),_0x1efb54['send'](new _0x4dac3b())):(_0x293d28[_0x3a1b4f(0x196)][_0x3a1b4f(0x187)](_0xe130ea[_0x3a1b4f(0x16f)]),_0x37e590['send'](new MissingCSRFSecretError()));if(!_0x33e563[_0x3a1b4f(0x182)](_0x272866,_0xe130ea[_0x3a1b4f(0x1c1)](_0x1b47f6,_0x293d28),_0x33b819(_0x293d28)))return _0x293d28[_0x3a1b4f(0x196)][_0x3a1b4f(0x187)](_0x3a1b4f(0x174)),_0x37e590[_0x3a1b4f(0x181)](new InvalidCSRFTokenError());_0xe130ea['PlnIJ'](_0x4043f7);}}function getTokenDefault(_0x24b6ed){const _0x2bad29=_0x42633d,_0x47e1dd={'sGQvm':_0x2bad29(0x1b7)};return _0x24b6ed[_0x2bad29(0x184)]&&_0x24b6ed[_0x2bad29(0x184)][_0x2bad29(0x177)]||_0x24b6ed[_0x2bad29(0x191)]['csrf-token']||_0x24b6ed[_0x2bad29(0x191)][_0x2bad29(0x192)]||_0x24b6ed['headers'][_0x2bad29(0x16e)]||_0x24b6ed[_0x2bad29(0x191)][_0x47e1dd['sGQvm']];}function getUserInfoDefault(_0x4c9fb1){return undefined;}module[_0x42633d(0x1b8)]=fp(fastifyCsrfProtection,{'fastify':_0x42633d(0x18b),'name':_0x42633d(0x19e)}),module[_0x42633d(0x1b8)]['default']=fastifyCsrfProtection,module[_0x42633d(0x1b8)][_0x42633d(0x176)]=fastifyCsrfProtection;