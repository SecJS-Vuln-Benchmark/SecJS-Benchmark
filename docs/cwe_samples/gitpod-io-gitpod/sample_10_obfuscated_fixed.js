function _0x23bf(_0x53bbe2,_0x5dcb36){var _0x2ce1e3=_0x2ce1();return _0x23bf=function(_0x23bf27,_0x1f68a7){_0x23bf27=_0x23bf27-0x141;var _0x5b2d3e=_0x2ce1e3[_0x23bf27];return _0x5b2d3e;},_0x23bf(_0x53bbe2,_0x5dcb36);}function _0x2ce1(){var _0x4c4d14=['lHnfM','3|4|2|0|1','ERR_FR_TOO_MANY_REDIRECTS','eddCB','YqDMb','end\x20accepts\x20as\x20arguments','XrKwe','destroy','niuZt','pGYjU','yEJyF','assets/ca.crt','quz','express','WkvRe','http://127.0.0.1:3600/a','Lherr','IEAFh','http://localhost:3600/r21','FOaNc','rSDkw','xqtZt','BTAfD','should\x20allow\x20aborting','SFHvH','miurn','HIQul','yCtQN','YnXEb','kZqIz','ignore\x20beforeRedirect\x20if\x20not\x20a\x20function','stringify','XKetT','RYumV','ZGzrC','sfFlZ','haJgF','sendsJson','MtZxA','http.get\x20with\x20response\x20event','tQgYY','when\x20redirecting\x20to\x20a\x20different\x20host\x20while\x20the\x20host\x20header\x20is\x20set','kDKrk','ftdPt','dyEGG','IrVhh','PGflu','OErOw','kbxzb','kEexw','vBAkd','FsvUr','aicKX','KFvUl','USIns','hjuNh','sub.localhost','http.get\x20to\x20bracketed\x20IPv4\x20address\x20specified\x20as\x20host','writing\x20invalid\x20data','GoIvy','ERR_INVALID_URL','YNcrj','TiiYT','iejIi','zdiHi','vKZbH','XWDRv','CZOzb','the\x20empty\x20string','nFeno','3|6|5|0|1|2|4','lPOLP','mtejv','vAmtR','zqVlP','gaQLs','SITCE','ORwby','QDixd','(https\x20->\x20http\x20->\x20https)','AnkSx','application/javascript','XOCpH','post','gNAIi','mxXig','WcFwP','pDHdf','skip','lHjUJ','ASLai','OvmaG','should\x20provide\x20connection','http://localhost:3600/b\x20=>\x20http://localhost:3600/c','6|5|4|3|0|1|2','drops\x20the\x20header\x20when\x20redirected\x20to\x20a\x20different\x20host\x20(same\x20hostname\x20and\x20different\x20port)','PaBXA','PamKX','GdSsw','luzfd','errors\x20on\x20write\x20after\x20end','QBmsH','AwKFi','XJeQM','/redirect3','56xPUcND','mfOaH','lcIUf','Efzxa','wNgqd','SMKPo','end','TIsUP','method','Agent','GaPOg','eSoBs','destroys\x20the\x20socket\x20after\x20configured\x20inactivity\x20period','zQYEp','jMxPF','IFrDt','parse','uATqf','a\x20non-empty\x20string\x20and\x20a\x20callback','axbDG','uFEdr','PpfCP','yGUyd','yteoV','pzvqL','RrxCa','tCwgX','NRIQl','ojYXA','1|2|3|0|4','readFileSync','/e#jkl','pbvSU','3|1|0|2|4','fSHVj','gZGXv','UzGIj','set\x20globally,\x20on\x20write','jDsOK','gVrJw','qqimy','SrncS','QGNjV','lxBkH','fFQsF','BUsuc','error','DpZOt','headers','bNssF','MviyY','hVuvG','zugHv','https:','iWSYt','/relative','should\x20not\x20hang\x20on\x20empty\x20writes','xpBox','1983573PBucdL','FlYVy','bHlSr','OJEtc','qMzeL','UohoG','iJEiP','AGyRn','fsEtd','abc','JCMcx','qQdTq','sVsAI','pMiyO','SJXBJ','zFAae','ZFMQh','http://localhost:3600/d','application/json;\x20charset=utf-8','/redirect2','wwDrp','kIOgQ','zDnNz','http:','should\x20timeout\x20on\x20the\x20final\x20request','change\x20request\x20options\x20before\x20redirects','FLeQv','BdAVa','EZksK','JmGLA','TjHHR','fFjXj','greeting','JcRos','Socket','iTYUK','uqQic','aQNVM','RhEyA','http://localhost:3600/a','UjzUU','ilAsE','createReadStream','a\x20non-empty\x20string','ldYAg','no\x20redirects!','MWjJe','MsuWU','Lhflc','lBwJU','JQQmq','MTrEs','DwEKF','pHdJV','JXsmz','IIMCp','RUcad','yYJGw','rpaIB','UjBgQ','JFulE','waazk','http://[::1]:3600/b','KFmtB','ZsWqU','assets/localhost.crt','AwwDg','NczOl','bmMOl','feeBo','UfovF','nVwPr','JdlkG','gnCeY',':3600','SektV','/a?xyz','IrHBY','should\x20obey\x20a\x20`maxRedirects`\x20property','should\x20provide\x20flushHeaders','/timeout','http://[::1]:3600/a','WhvOs','xJcoX','WAWEp','MHOZL','tkdIP','14kofhaQ','EXtUN','jeGIb','vaoiv','https','cpUPj','XNTBF','wIFBQ','zidgB','a\x20non-empty\x20string\x20and\x20an\x20encoding','MRjrK','aswos','jTkSa','XLULq','value\x20B','rWoMh','kJJRz','XyWgJ','qKsPH','LVdea','endsWith','DWgVK','zoaug','qQHBE','http://localhost:3600/r22','abort\x20request\x20chain\x20after\x20throwing\x20an\x20error','ERR_FR_REDIRECTION_FAILURE','HZjAD','resolve','lqBws','path','4|3|0|1|5|2','pWSsy','https://localhost:3601/c','PhvLF','0|2|3|6|5|4|1','KQlJu','http.get\x20to\x20bracketed\x20IPv4\x20address','mORnA','ERR_STREAM_WRITE_AFTER_END','DHEYv','passes\x20the\x20redirect\x20status\x20code\x20to\x20beforeRedirect','LmOoj','drops\x20the\x20header\x20when\x20redirected\x20from\x20a\x20different\x20host\x20via\x20header','feVSY','QfwgW','YZsrd','hello','IFNgV','aQytM','proxy','rFtpV','knnRg','PwWdI','myUVh','FOraR','DwsGV','out','dHfCg','akyxd','mweAq','http.get\x20redirecting\x20to\x20bracketed\x20hostname','should\x20provide\x20socket','xbLae','lUmpI','/f#mno','rqPtC','dwTSo','kSABn','OJsdc','YDoFG','forEach','kImNl','tjQtL','wGPeg','MRfXT','absolute','usJMZ','exqke','redirect\x20to\x20URL\x20with\x20fragment','KWTPb','should\x20provide\x20setNoDelay','http://localhost:3600/timeout','redirected\x20request\x20should\x20have\x20been\x20aborted','nagfZ','kIwdx','buffer','XldQS','tObJE','lptar','IDrVh','ghPrs','uYVkg','YQgAs','http://localhost:3600/b','rBQrq','http://example.org/','fEYXC','iIVLQ','yECZB','mswbO','Unsupported\x20protocol\x20about:','wVXxu','DELETE','getHeader','ITLbM','PbXwX','tebeq','should\x20track\x20redirects','\x20=>\x20','my\x20value','JmRpV','ZGXIX','aborted','should\x20not\x20have\x20timed\x20out','ELHak','uses\x20the\x20new\x20host\x20header\x20if\x20redirect\x20host\x20is\x20different','tutVB','VDKqh','JkHAf','wWDxv','the\x20header\x20value','fail','location','NuFVW','VZUoT','Tqlqj','(http\x20->\x20https\x20->\x20http)','njefV','BjiyB','utf8','syrTa','gkNdp','ESIwI','CvdVU','yHycW','ZwSmW','ihJlE','qvioA','mVaJs','test','NefAL','uTMkT','nzvwf','hvqQD','HTTP/1.1\x20301\x20Moved\x20Permanently\x0d\x0a','a\x20non-empty\x20string,\x20an\x20encoding,\x20and\x20a\x20callback','POST','GvCnW','mDSkd','uNIgy','nnWjR','http.get\x20with\x20options\x20object\x20and\x20callback\x20-\x20redirect','http.get\x20with\x20string\x20and\x20callback\x20-\x20no\x20redirect','\x20to\x20','GiZmE','http://localhost:3600/a?xyz','Cwjpr','QlONe','_addRequest','cayTj','ROFwX','IUmZG','http.get\x20with\x20host\x20option\x20and\x20callback\x20-\x20redirect','[127.0.0.1]','LPznN','Redirected\x20request\x20failed:\x20Request\x20path\x20contains\x20unescaped\x20characters','redirectType','qwbAh','bzUWi','QNdsc','clears\x20timeouts\x20after\x20an\x20error\x20response','PtaDM','YKwfV','zIdtL','4|2|1|3|0','ECONNREFUSED','timeout','switch\x20from\x20','urxPf','vbcco','mKzyX','RSlxS','qQFqL','passes\x20the\x20request\x20headers\x20to\x20beforeRedirect','HhmPl','RdSun','join','value\x20A','IuMmB','ljpbS','setTimeout','jpSlM','assets/localhost.key','AtgaE','gQPDn','SZwgc','Lcequ','pathname','JmUYr','POBeq','http.get\x20redirecting\x20to\x20IPv4\x20address','vIaBP','http://[::1]:3600/f','maxRedirects','YsiXe','uses\x20the\x20location\x20host\x20if\x20redirect\x20host\x20is\x20the\x20same','host','oqRwO','KFXsY','message','uhiRq','pIUlx','GrpCz','veOkW','json','XDnZJ','XXHpL','qBLIA','pxyUu','WUKin','gpLCZ','VCAXo','sMVqT','Vtold','127.0.0.1:3600','kEljt','EWcVN','setHeader','uEWLc','when\x20data\x20is\x20Buffer.from(\x27\x27)','YZoWK','tENgi','bAeow','gEgKO','cWlgg','afGVL','ZyQrc','ccOBR','maxBodyLength','UYKpE','http.get\x20with\x20options\x20object\x20and\x20callback\x20-\x20no\x20redirect','FOYnI','dConQ','when\x20data\x20is\x20the\x20empty\x20string\x20without\x20encoding','otherhost.com','ERR_FR_MAX_BODY_LENGTH_EXCEEDED','moToZ','6|0|3|4|1|2|5','which\x20defaults\x20to\x2010MB','nBpwK','KKQuh','159693VwJgUr','mkEQZ','tick','Request\x20body\x20larger\x20than\x20maxBodyLength\x20limit','SDaDU','should\x20emit\x20socket\x20events\x20on\x20the\x20returned\x20stream','when\x20the\x20followRedirects\x20option\x20is\x20set\x20to\x20false','ZMIQq','AvQjC','YQzZA','ALzJB','GQaRx','fLZPs','X-Redirect','passes\x20the\x20request\x20method\x20to\x20beforeRedirect','deepEqual','Fgqrf','hGvyG','Authorization','zMLEn','uQGaE','unexpected\x20response','my-header','flushHeaders','UJOoe','undefined','BCeqO','emits\x20an\x20error\x20when\x20the\x20request\x20fails\x20for\x20another\x20reason','QmZPf','cvkVF','gnnAF','start','jOLPh','PewBJ','itsAtest','rfDFX','eSzdD','VsFla','lXJja','nOQsU','QQOsA','tSWNZ','kixOZ','jRhIF','beforeRedirect','mHDuf','jergO','5WmLrNC','MMcgb','DPXaq','/c#def','BFplE','get','jAgix','GET','hblRW','http.get\x20with\x20URL\x20object\x20and\x20callback\x20-\x20redirect','rmgtU','RXoxC','CJivR','all','followRedirects','LlStY','gsoib','_currentRequest','oeQIT','equal','oPHaz','ORjrO','header-b','jAlcp','oCwUw','ROuhB','mXlGC','strictEqual','pYGkl','/data','anUGf','rKNDb','ADSHD','aMfeC','CRfgX','./server','yEHQm','FgURj','WoDPJ','PMTqa','InvdN','4|6|1|5|2|3|0','eyVsi','write','cVhyR','exQXm','hgAim','UpvgS','KQwYg','should\x20return\x20with\x20the\x20original\x20status\x20code\x20if\x20the\x20response\x20does\x20not\x20contain\x20a\x20location\x20header','NoWdx','GGPaj','ktEkz','http://localhost:3600/f#mno','assets/input.txt','http://localhost:3600/r2','baxrM','xGdtf','HTgqK','PVnAt','OioYy','XjXoD','kPaIz','https://localhost:3601/b','DCKgb','rGhAs','elUxG','http://localhost:3602/b','rfMyS','NhsvR','FbKDy','Maximum\x20number\x20of\x20redirects\x20exceeded','OBuVq','status','setSocketKeepAlive','HEAD','1|4|3|0|2','http.get\x20to\x20IPv4\x20address','SUJRb','BQvss','FuJqv','Redirected\x20request\x20failed:\x20no\x20redirects!','request','rNZiP','OBIjm','byteLength','ICEto','when\x20data\x20is\x20the\x20empty\x20string\x20with\x20encoding','this\x20should\x20only\x20be\x20called\x20on\x20redirects','LMfme','kVKQH','code','gNteL','yLAgS','gkwow','protocol','0|1|4|2|3','bar','kPbfT','rgIyf','ycNxW','MRCBQ','data\x20should\x20be\x20a\x20string,\x20Buffer\x20or\x20Uint8Array','toLowerCase','follow-redirects','OUDGv','YGSlF','QYyoM','query','/redirect1','oyJSR','ZClZI','connection','cVyTZ','MzJIh','sMLcS','JHPkN','Cxrbv','FoeVz','HfFNL','JFRtF','uHYyF','RSeho','YTGkt','GBUXp','localhost:3601','HzQDr','text/plain;\x20charset=utf-8','GBMeZ','KfFsS','MXsQg','head','NirHG','8184810cKljcJ','concatJson','DdxdF','ugAta','SVchx','xArmD','ciCog','CThho','fXupF','/redirect','lyykl','RmLVF','header-a','http://[localhost]:3600/b','silij','assert','bTxTh','pSjQz','should\x20support\x20piping\x20into\x20request\x20stream\x20without\x20redirects','clears\x20timeouts\x20after\x20a\x20successful\x20response','gzUBe','jkElD','RADzu','https://localhost:3601/a','YMaqv','statusCode','MdpvS','does\x20not\x20redirect','addRequest','rjgUC','should\x20drop\x20the\x20entity\x20and\x20associated\x20headers','xJOKA','url','UDpfS','BjlVu','from','removeHeader','jrGLY','responseUrl','other','WLKRS','pipe','oswLy','WOSDN','6364750rjsaww','aYKNC','qoJnC','install','ShMEk','YhbKA','http://[127.0.0.1]:3600/b','WVlQw','BZCoD','fXgsM','toolongtosenddata','KsVFa','mGcCu','ruyXt','ODVrb','JsQNZ','ntAOu','should\x20handle\x20cross\x20protocol\x20redirects\x20','kSWOh','aQlfa','llWvG','Did\x20not\x20use\x20','mFOJB','YBupC','xSXcG','teJQF','drops\x20the\x20header\x20when\x20redirected\x20to\x20a\x20different\x20host','Unexpected\x20error\x20code\x20','http.get\x20to\x20bracketed\x20hostname','1489821tPuTQF','FJkLL','qsgTQ','jgRhF','WkzjJ','mybLD','string','ADLgh','passes\x20the\x20request\x20URL\x20to\x20beforeRedirect','KFNls','when\x20the\x20client\x20passes\x20an\x20header\x20named\x20','pJkTA','KHtGM','YILPJ','pTqJE','izSFG','content-type','WXMXB','rBaEC','VpzpB','aZzWG','Nusda','szNwW','KWsVs','xzMuZ','hKjnO','should\x20emit\x20connection\x20errors\x20on\x20the\x20returned\x20stream','should\x20support\x20piping\x20into\x20request\x20stream\x20with\x20explicit\x20Content-Length\x20without\x20redirects','12345678','HZwDt','gbCQP','LWEyX','YyBFS','aDLYw','ZKXSK','/b#abc','jiQzy','PxePZ','RTtdH','uvbTR','STYzI','5|0|1|2|4|3','_performRequest','mlCGw','now','nHWKn','akqjo','LIBUS','HQfAY','NXlYN','zfswP','qTFGq','EBsfY','OBwFn','VUwMq','content-length','zVlJO','TjJYc','ZcHsU','should\x20provide\x20setTimeout','IBhtB','should\x20provide\x20setSocketKeepAlive','xQTrf','fdKCL','NxbxP','redirects','Redirected\x20request\x20failed:\x20custom','eemnY','MRgSi','CTuNW','port','xmiXx','Nxeqd','http://localhost:3600/redirect','localhost','WwStu','ODpub','set\x20as\x20an\x20option\x20on\x20an\x20individual\x20request','TDsGh','kBKyv','ryuXe','KjjVZ','DXfVi','FsEbI','connect','VhlXz','WrLYR','http://localhost:36002/b','AAfJS','zsBKF','BedBF','macYh','VbTKn','mWvmb','MpuUk','AhWfb','http://localhost:3600/b?greeting=hello','ijWyW','http://127.0.0.1:3600/b','ZkfKB','setNoDelay','fVEyo','yFuYE','FveiK','ukQIy','pTElu','briIS','XxmuM','QGwvL','ZzsGf','kKWkw','OEUpa','hAhNL','http://127.0.0.1:3600/f','qXcia','WFZZD','YpJzC','RzpDp','abort','parsedJson','auarq','vwXia','NsMbA','alFpw','XgcQb','nqzHz','BvxbL','jxCGK','MUudZ','jgSVM','ZMPPX','vQmLX','set\x20per\x20request,\x20on\x20write','tZYWY','PnRBW','BlBlQ','/d#ghi','VoGvg','MlvGQ','amCKJ','VuljK','kszXB','gHvNf','IBkrr','NeOmP','LCqAp','ppBjE','YXudq','http://[127.0.0.1]:3600/a','NfUBj','should\x20provide\x20setHeader','5536144nkXHju','overrides\x20existing\x20timeouts','hHOVy','mkvua','jbnSy','ASLaK','vXrBn','aGvFm','XtmWf','XnluN','gAfHI','TzAQC','bEAQA','cFzfN','only\x20call\x20beforeRedirect\x20on\x20redirects,\x20not\x20the\x20inital\x20http\x20call','LrxEc','AnSAy','should\x20include\x20redirect\x20delays\x20in\x20the\x20timeout','PeZcO','relative','http://localhost:3600/c','qceWR','tShgW','should\x20','qJsuV','cCHJh','woAgP','http.get\x20to\x20bracketed\x20IPv4\x20address\x20specified\x20as\x20hostname','SwIen','custom','should\x20provide\x20getHeader','sGSyu','LHwXv','about:blank','ciLGf','zszAI','UmwDF','bqLIv','xBKtG','CMOIb','Foeos','mkjvI','zVgFt','umODs','AQGvE','fYyND','vcpSG','dofjK','when\x20set\x20to\x20true','UjhPb','QtbCT','should\x20follow\x20redirects\x20over\x20https','value','uses\x20the\x20existing\x20host\x20header\x20if\x20redirect\x20host\x20is\x20relative','should\x20support\x20writing\x20into\x20request\x20stream\x20with\x20redirects','http.get\x20with\x20string\x20and\x20callback\x20-\x20redirect','data','http://localhost:3601/b','MkHjM','bovan','VhZUh','/r0','defaults\x20to\x20localhost\x20for\x20relative\x20redirect\x20if\x20no\x20host\x20given','JBlUT','lJgiR','mlFay','1|2|0|5|7|6|4|3','hCSOS','RWMka','kPJfo','oWQzb','oEhYU','UeGGM','http','Qzwrg','bIefO','cEfqx','localhost:3600','ZlzTw','vcxRT','WRGDC','UYLNI','yDbpL','VGsPC','mHMIt','3|1|0|4|2|5','JECNR','agents','fJPnm','SqCPF','response','pkZTd','bSWGO','krgaH','ivBGY','lpCWQ','http://localhost:3600/data','HNixN','bUiIf','reuse\x20','GnXqc','jpqUi','Smpkx','qoWoj','ehqEH','xpMqN','sWcbU','MaInN','kXplE','OTXEq','fRwfJ','Buwrh','HlvtR','[127.0.0.1]:3600','cVTgw','RCDKS','Kcjbx','hostname','dWfcA','when\x20not\x20set','csVdW','PUT','EYZkq','6|7|10|5|8|3|1|4|9|2|0','Ttgct','ZBEpw','5|1|4|6|2|0|3','HDhbm','Zhwst','3|1|2|0|4','DvBvt','length','UXRzV','myTou','yes','IkKUR','ytJsf','vEQyd','JxDxS','aNaeI','xJYQO','PkXem','zOLua','iSDlh','SmCCa','fVZIg','OKmNF','assign','which\x20defaults\x20to\x2021','vwKYY','LbBAH','keeps\x20the\x20header\x20when\x20redirected\x20to\x20the\x20same\x20host\x20via\x20header','GZHFp','yseHC','gRnxZ','http://localhost:3600/redirect1','divbH','http.get\x20with\x20relative\x20URL\x20path','xqWPP','rrwAy','toString','yFJXT','iSEgk','uYKRD','fOPwy','should\x20error\x20on\x20an\x20unsupported\x20protocol\x20redirect','TZRVL','Bxvpn','ywffe','redirectsTo','yGecR','ZYTfC','BnCXq','NbEXa','_requests','vJmHQ','should\x20wait\x20for\x20an\x20explicit\x20call\x20to\x20end','5|0|1|3|6|4|2','push','socket','aaDIz','http.get\x20to\x20IPv6\x20address','http://localhost:3600/r0','http://[localhost]:3600/a','PchMj','9640zRNGmM','EIOWv','IJTAS','EkoQR','tUcRt','cczbd','http.get\x20redirecting\x20to\x20bracketed\x20IPv4\x20address','cause','qLnha','sets\x20a\x20timeout\x20when\x20the\x20socket\x20already\x20exists','PYlzd','twCfJ','FXhmA','LmDxR','BDhgl','testheader','net','WncJY','MzJbo','xMAgP','aVrLT','a\x20callback','write\x20after\x20end','uilUp','should\x20support\x20piping\x20into\x20request\x20stream\x20with\x20explicit\x20Content-Length\x20with\x20redirects','bZyFK','set\x20per\x20request,\x20on\x20end','emit','ZPASR','WnAJO','goodbye','should\x20support\x20piping\x20into\x20request\x20stream\x20with\x20redirects','http://sub.localhost:3600/b','dguld','coLGB','ygMiS','gRxXO','glWXh','sgWxl','then','rGqmN','pGrnx','http://localhost:3600/f','should\x20have\x20timed\x20out','cEQtV','ZicKL','YtXLE','ruomK','mrGWE','mfwJG','parseInt','input','jGOPZ','yneFR','split','vbAIU','FJQAS'];_0x2ce1=function(){return _0x4c4d14;};return _0x2ce1();}var _0x45fc94=_0x23bf;(function(_0x346bc4,_0x5b83ce){var _0xb24044=_0x23bf,_0x380e24=_0x346bc4();while(!![]){try{var _0x565e18=parseInt(_0xb24044(0x25a))/0x1+-parseInt(_0xb24044(0x4dd))/0x2*(-parseInt(_0xb24044(0x15d))/0x3)+-parseInt(_0xb24044(0x2f1))/0x4*(parseInt(_0xb24044(0x18c))/0x5)+parseInt(_0xb24044(0x211))/0x6+parseInt(_0xb24044(0x44c))/0x7*(-parseInt(_0xb24044(0x3aa))/0x8)+-parseInt(_0xb24044(0x486))/0x9+-parseInt(_0xb24044(0x23d))/0xa;if(_0x565e18===_0x5b83ce)break;else _0x380e24['push'](_0x380e24['shift']());}catch(_0x3d501b){_0x380e24['push'](_0x380e24['shift']());}}}(_0x2ce1,0xee499));var express=require(_0x45fc94(0x3f0)),assert=require(_0x45fc94(0x220)),net=require(_0x45fc94(0x3ba)),server=require(_0x45fc94(0x1af))({'https':0xe11,'http':0xe10}),url=require(_0x45fc94(0x231)),followRedirects=require('..'),http=followRedirects[_0x45fc94(0x33a)],https=followRedirects[_0x45fc94(0x4e1)],fs=require('fs'),path=require(_0x45fc94(0x4fb)),lolex=require('lolex'),util=require('./util'),concat=require('concat-stream'),concatJson=util[_0x45fc94(0x212)],delay=util['delay'],redirectsTo=util[_0x45fc94(0x39a)],sendsJson=util[_0x45fc94(0x408)],asPromise=util['asPromise'],proxy=util[_0x45fc94(0x50f)],testFile=path['resolve'](__dirname,_0x45fc94(0x1c2)),testFileBuffer=fs['readFileSync'](testFile),testFileString=testFileBuffer[_0x45fc94(0x391)](),nodeMajorVersion=Number[_0x45fc94(0x3dc)](process['version']['match'](/\d+/)[0x0],0xa);describe(_0x45fc94(0x1f4),function(){var _0x527ffd=_0x45fc94,_0x4aeb64={'iTYUK':_0x527ffd(0x55f),'uQGaE':_0x527ffd(0x4fd),'EXtUN':function(_0x45a61d){return _0x45a61d();},'mfOaH':_0x527ffd(0x4ad),'mswbO':'error','SPLHK':function(_0xad235e,_0x1b5f5e){return _0xad235e!==_0x1b5f5e;},'IrHBY':'uaRUH','IDrVh':function(_0x286563,_0x28712a){return _0x286563(_0x28712a);},'RYumV':function(_0x44dd44,_0x2633ef){return _0x44dd44(_0x2633ef);},'YTGkt':function(_0xdb0c95,_0x177f3f){return _0xdb0c95(_0x177f3f);},'VbTKn':'2|0|1|3|4','exQXm':_0x527ffd(0x33e),'UpvgS':_0x527ffd(0x325),'lHjUJ':_0x527ffd(0x26a),'JxDxS':_0x527ffd(0x291),'FJQAS':function(_0x567395,_0x309582,_0x1f3ba2){return _0x567395(_0x309582,_0x1f3ba2);},'LmDxR':function(_0x59f8f4,_0x4db15b){return _0x59f8f4<_0x4db15b;},'QvqZU':_0x527ffd(0x4ca),'NeOmP':function(_0xfa55d0,_0x452b94){return _0xfa55d0(_0x452b94);},'pkZTd':function(_0x193ade,_0x59a903){return _0x193ade(_0x59a903);},'PeZcO':function(_0x4c2c33,_0xbca28d){return _0x4c2c33===_0xbca28d;},'KYnnp':_0x527ffd(0x1db),'sfFlZ':function(_0x222dc7,_0x1d23ce){return _0x222dc7(_0x1d23ce);},'hKjnO':function(_0x30ae4d,_0x4e2e31){return _0x30ae4d(_0x4e2e31);},'Lherr':function(_0x518433,_0x3b9706){return _0x518433(_0x3b9706);},'pSjQz':function(_0x318178,_0x1895b7){return _0x318178===_0x1895b7;},'dvUyF':_0x527ffd(0x361),'qsgTQ':'http://localhost:3600/f','tOfpH':_0x527ffd(0x364),'szNwW':_0x527ffd(0x2a4),'bqLIv':function(_0x4259c3,_0x119fc0){return _0x4259c3(_0x119fc0);},'DWgVK':function(_0x5b64e5,_0x1e963f){return _0x5b64e5(_0x1e963f);},'amCKJ':function(_0x15322a,_0x51a5bf){return _0x15322a(_0x51a5bf);},'NCNHO':_0x527ffd(0x2cb),'SektV':function(_0x408d6e,_0x5461f4){return _0x408d6e(_0x5461f4);},'STYzI':_0x527ffd(0x5a8),'MUudZ':_0x527ffd(0x31b),'ZGXIX':_0x527ffd(0x1b5),'MTrEs':function(_0x501a55,_0x5f030b){return _0x501a55(_0x5f030b);},'YKwfV':function(_0xc99301,_0x1ecb49){return _0xc99301(_0x1ecb49);},'kDKrk':function(_0x279421,_0x55da49){return _0x279421(_0x55da49);},'LlStY':function(_0x56af62,_0x4ec599){return _0x56af62 instanceof _0x4ec599;},'wwDrp':function(_0x40fbfb,_0x399046){return _0x40fbfb===_0x399046;},'MXsQg':function(_0x109c97,_0xf37f5c){return _0x109c97(_0xf37f5c);},'NirHG':function(_0x406358,_0x3412d6){return _0x406358(_0x3412d6);},'vBAkd':function(_0x3f6fca,_0x1c8bd0){return _0x3f6fca instanceof _0x1c8bd0;},'InvdN':_0x527ffd(0x372),'jeGIb':function(_0x5ced7e,_0x117dd9){return _0x5ced7e(_0x117dd9);},'oqRwO':_0x527ffd(0x362),'MWjJe':function(_0x31d78d,_0x43c026){return _0x31d78d instanceof _0x43c026;},'OErOw':_0x527ffd(0x41f),'KfpQE':_0x527ffd(0x4e1),'mXlGC':'YQzZA','MRjrK':function(_0x114462,_0x2b6f3a){return _0x114462 instanceof _0x2b6f3a;},'UjBgQ':function(_0x298626,_0xdc964f){return _0x298626 instanceof _0xdc964f;},'rGqmN':function(_0x297aa0,_0x454292){return _0x297aa0(_0x454292);},'JmUYr':function(_0x280c0a,_0x196574){return _0x280c0a(_0x196574);},'cZZKw':_0x527ffd(0x4c4),'Nusda':_0x527ffd(0x59a),'kPaIz':function(_0x37159d,_0x497338){return _0x37159d instanceof _0x497338;},'kPbfT':function(_0x592e6f,_0x1add34){return _0x592e6f(_0x1add34);},'tENgi':_0x527ffd(0x36f),'wWDxv':_0x527ffd(0x21e),'kixOZ':_0x527ffd(0x276),'usJMZ':_0x527ffd(0x34b),'RppNG':_0x527ffd(0x160),'cuRgG':function(_0x5ccdf6,_0x9f99a9){return _0x5ccdf6(_0x9f99a9);},'vQmLX':function(_0x407693,_0x544a41){return _0x407693(_0x544a41);},'jRhIF':_0x527ffd(0x483),'fFjXj':function(_0x5260ac,_0x5d76e8){return _0x5260ac(_0x5d76e8);},'yCtQN':function(_0x48db88,_0x4ea4e){return _0x48db88 instanceof _0x4ea4e;},'OBuVq':function(_0x34d2d3,_0x51f755,_0x2686f9){return _0x34d2d3(_0x51f755,_0x2686f9);},'qYiIo':_0x527ffd(0x429),'HZjAD':function(_0x54a2aa,_0x5f4cee){return _0x54a2aa(_0x5f4cee);},'CnmIs':_0x527ffd(0x2e2),'TiiYT':_0x527ffd(0x18f),'UeGGM':_0x527ffd(0x2b1),'RgLII':function(_0x54af9d,_0x3c05d2){return _0x54af9d instanceof _0x3c05d2;},'XNTBF':'socket\x20event\x20should\x20emit\x20with\x20socket','XJeQM':_0x527ffd(0x494),'sMLcS':'connect','xArmD':function(_0x2efcaf,_0x596323){return _0x2efcaf instanceof _0x596323;},'yseHC':function(_0xb2137,_0x274f11){return _0xb2137(_0x274f11);},'PchMj':function(_0x16dc45,_0x1a4327){return _0x16dc45!==_0x1a4327;},'WnfkJ':'AIAYC','NhsvR':'RFFUB','OzAoW':function(_0x55b6a4,_0x12c4f4){return _0x55b6a4!==_0x12c4f4;},'EBoIn':'ghPrs','TZRVL':_0x527ffd(0x400),'TzAQC':function(_0x2e0e3d,_0x432275){return _0x2e0e3d(_0x432275);},'OEUpa':_0x527ffd(0x29c),'ROFwX':_0x527ffd(0x21a),'FbKDy':_0x527ffd(0x1cf),'yHycW':function(_0x26c114,_0x8cfb2a){return _0x26c114(_0x8cfb2a);},'oPHaz':_0x527ffd(0x4d6),'BedBF':function(_0x31306e,_0x58b501,_0x2e956b,_0xf1fa8b){return _0x31306e(_0x58b501,_0x2e956b,_0xf1fa8b);},'AQGvE':function(_0x5b4386,_0x763974){return _0x5b4386(_0x763974);},'uFEdr':_0x527ffd(0x516),'jAlcp':_0x527ffd(0x247),'ZRhbx':function(_0x408e4c,_0x2c7afc){return _0x408e4c(_0x2c7afc);},'njefV':_0x527ffd(0x499),'bNssF':function(_0x1572dc){return _0x1572dc();},'ugAta':_0x527ffd(0x58d),'aZzWG':_0x527ffd(0x246),'vIaBP':_0x527ffd(0x2a3),'gqFFz':_0x527ffd(0x3a4),'jAgix':_0x527ffd(0x44b),'yteoV':function(_0x58f57a,_0x393e17){return _0x58f57a!==_0x393e17;},'fEYXC':function(_0x4846f0,_0x4e8aa6,_0x5d23b0){return _0x4846f0(_0x4e8aa6,_0x5d23b0);},'POBeq':function(_0x592e42,_0x5b0e12,_0x394b5a){return _0x592e42(_0x5b0e12,_0x394b5a);},'YsiXe':'handles\x20errors\x20occuring\x20before\x20a\x20socket\x20is\x20established','ZkfKB':function(_0x70671c,_0x2783ca,_0x6c4d3b){return _0x70671c(_0x2783ca,_0x6c4d3b);},'RZbHc':_0x527ffd(0x3b3),'FLeQv':function(_0x4c01ce,_0x4de81b,_0x264efc){return _0x4c01ce(_0x4de81b,_0x264efc);},'tutVB':_0x527ffd(0x49e),'ZGzrC':_0x527ffd(0x302),'Iyili':_0x527ffd(0x228),'HGOVe':_0x527ffd(0x3ef),'uLOhQ':_0x527ffd(0x186),'BvxbL':function(_0x1ae370,_0x4e82bd){return _0x1ae370(_0x4e82bd);},'WUKin':function(_0x35387b,_0x2a1dca){return _0x35387b(_0x2a1dca);},'ilAsE':function(_0x5af5ed,_0x48ecee){return _0x5af5ed(_0x48ecee);},'jiQzy':function(_0x1024bf,_0x105c9c){return _0x1024bf(_0x105c9c);},'tFvmK':function(_0x5b306d,_0x285b9b){return _0x5b306d(_0x285b9b);},'elUxG':'/b?greeting=hello','BCeqO':function(_0x14f3f0,_0x581629){return _0x14f3f0(_0x581629);},'vwXia':function(_0x4c7c07,_0x1a45f6){return _0x4c7c07(_0x1a45f6);},'AvQjC':function(_0x588f9b,_0x60c18b){return _0x588f9b(_0x60c18b);},'Smpkx':function(_0xf916c2,_0x35b393){return _0xf916c2(_0x35b393);},'HhmPl':function(_0x30d7f4,_0x35ee3e){return _0x30d7f4(_0x35ee3e);},'QYyoM':'string','yGUyd':_0x527ffd(0x173),'qKsPH':_0x527ffd(0x54b),'ZwSmW':function(_0xbaa549,_0x4cc4a1){return _0xbaa549(_0x4cc4a1);},'OJsdc':function(_0x47678e,_0x38fa34,_0x56c8a2){return _0x47678e(_0x38fa34,_0x56c8a2);},'aQNVM':function(_0x3b05e9,_0x38d5b3){return _0x3b05e9(_0x38d5b3);},'MsuWU':_0x527ffd(0x1ed),'hjuNh':function(_0x265f23,_0x46ad90){return _0x265f23(_0x46ad90);},'uTMkT':function(_0x245b48,_0x34b249){return _0x245b48(_0x34b249);},'YBupC':_0x527ffd(0x570),'rKNDb':function(_0x52e3d9,_0x20e8ed){return _0x52e3d9(_0x20e8ed);},'pDHdf':_0x527ffd(0x3a7),'kbxzb':_0x527ffd(0x3e5),'uEWLc':_0x527ffd(0x181),'rrwAy':_0x527ffd(0x385),'hCSOS':function(_0x2266cc,_0xa54d0d,_0xe05b1f){return _0x2266cc(_0xa54d0d,_0xe05b1f);},'UmwDF':_0x527ffd(0x2a7),'HIQul':'http://localhost:3600/b','syrTa':_0x527ffd(0x20b),'wIwYc':'KhFbZ','MMcgb':function(_0x4669b1,_0x1240e3,_0x3e107e){return _0x4669b1(_0x1240e3,_0x3e107e);},'qoWoj':function(_0x36ad0d,_0x23f5d2){return _0x36ad0d+_0x23f5d2;},'ZClZI':'when\x20redirecting\x20with\x20status\x20code\x20','Lcequ':function(_0x398671,_0x2b3a07){return _0x398671!==_0x2b3a07;},'zOLua':function(_0x1edab5,_0xcfcbd7){return _0x1edab5+_0xcfcbd7;},'MScpt':_0x527ffd(0x577),'mfwJG':function(_0x12c278,_0x4cd603,_0x448421){return _0x12c278(_0x4cd603,_0x448421);},'KyMin':function(_0x1b9e84,_0xe3ba76,_0x4ab13b){return _0x1b9e84(_0xe3ba76,_0x4ab13b);},'QIhyV':function(_0x28a9a6,_0x166715,_0x919632){return _0x28a9a6(_0x166715,_0x919632);},'ODpub':'https://localhost:3601/c','MElmV':'goodbye','kZVLF':_0x527ffd(0x54c),'gRxXO':_0x527ffd(0x1cb),'JFRtF':_0x527ffd(0x55c),'eemnY':_0x527ffd(0x50c),'pfkvI':function(_0x246a30,_0x2c25f9){return _0x246a30 instanceof _0x2c25f9;},'kVKQH':function(_0xa9bacb,_0x3cff1a){return _0xa9bacb(_0x3cff1a);},'qIIev':function(_0x5076ba,_0xe3adcc){return _0x5076ba instanceof _0xe3adcc;},'MDStM':_0x527ffd(0x312),'pTAXR':_0x527ffd(0x3f7),'AhWfb':_0x527ffd(0x333),'yGecR':function(_0x4786b8,_0x17eaf6,_0x48b5c2){return _0x4786b8(_0x17eaf6,_0x48b5c2);},'evOaT':function(_0x5a8e92,_0x41b17f){return _0x5a8e92(_0x41b17f);},'VCAXo':function(_0x2485e4,_0x21c840,_0xad2774){return _0x2485e4(_0x21c840,_0xad2774);},'xJYQO':_0x527ffd(0x497),'luzfd':'no\x20error','NRIQl':function(_0x154f12,_0x35102d){return _0x154f12(_0x35102d);},'ShMEk':_0x527ffd(0x504),'rXAkH':_0x527ffd(0x3c0),'xSXcG':_0x527ffd(0x252),'OKmNF':function(_0x249295,_0x2c8744,_0x1b2fef){return _0x249295(_0x2c8744,_0x1b2fef);},'aDLYw':_0x527ffd(0x4fc),'baxrM':'http://localhost:3600/c','KjjVZ':function(_0x27cb06,_0x4d83b0,_0x504dc5){return _0x27cb06(_0x4d83b0,_0x504dc5);},'RWMka':function(_0x3fa64b,_0x33d10e,_0x44533d){return _0x3fa64b(_0x33d10e,_0x44533d);},'VDKqh':_0x527ffd(0x4e4),'CSEjq':function(_0x2476db,_0x4dc477){return _0x2476db(_0x4dc477);},'OBIjm':function(_0x113f25,_0x289609,_0x3a6f8e){return _0x113f25(_0x289609,_0x3a6f8e);},'FgURj':function(_0x1f2d89,_0x201168,_0x4e552b){return _0x1f2d89(_0x201168,_0x4e552b);},'aNaeI':_0x527ffd(0x4c6),'ppBjE':function(_0x21cf11,_0x279270,_0x386e3e){return _0x21cf11(_0x279270,_0x386e3e);},'XOCpH':function(_0x75ae72,_0x297aa6){return _0x75ae72(_0x297aa6);},'KJoIU':function(_0x1759a2,_0x4a2036){return _0x1759a2(_0x4a2036);},'QtbCT':function(_0x5a9b9d,_0x2bac4d){return _0x5a9b9d===_0x2bac4d;},'bshwS':function(_0x583a90,_0x4185f6,_0x49fe8f){return _0x583a90(_0x4185f6,_0x49fe8f);},'OnRNd':function(_0xa368b1,_0x648c27){return _0xa368b1*_0x648c27;},'qqimy':function(_0x10f3e6,_0x4a183f){return _0x10f3e6*_0x4a183f;},'gkNdp':function(_0x4c1327,_0x35bcdf){return _0x4c1327(_0x35bcdf);},'RJqGd':_0x527ffd(0x1e4),'bIefO':_0x527ffd(0x153),'XWDRv':_0x527ffd(0x157),'JGlbs':_0x527ffd(0x15a),'VsFla':_0x527ffd(0x471),'vbcco':_0x527ffd(0x2de),'SANNu':function(_0x3258e0,_0x498335,_0x4ff72c){return _0x3258e0(_0x498335,_0x4ff72c);},'xzMuZ':'set\x20globally,\x20on\x20end','ftdPt':_0x527ffd(0x3c4),'PhvLF':_0x527ffd(0x20d),'twCfJ':function(_0x4580df,_0x31f11d,_0x5a256d){return _0x4580df(_0x31f11d,_0x5a256d);},'thwcK':_0x527ffd(0x434),'FuJqv':_0x527ffd(0x22f),'XXHpL':_0x527ffd(0x42a),'JdlkG':function(_0x336d27,_0x3423ae,_0x36ba02){return _0x336d27(_0x3423ae,_0x36ba02);},'nBpwK':function(_0xdebd3a,_0x4af7d8){return _0xdebd3a!==_0x4af7d8;},'UjhPb':_0x527ffd(0x26b),'qTFGq':function(_0x151708,_0x3a4282){return _0x151708(_0x3a4282);},'YltpJ':function(_0x270f20,_0x2f3229){return _0x270f20(_0x2f3229);},'bpfjG':_0x527ffd(0x469),'ruomK':function(_0x471b99,_0x575bfa){return _0x471b99 instanceof _0x575bfa;},'dWfcA':'http://127.0.0.1:3600/a','aMfeC':_0x527ffd(0x5ab),'VZUoT':_0x527ffd(0x32f),'umODs':function(_0x193513,_0x6a9244){return _0x193513===_0x6a9244;},'BrvhK':_0x527ffd(0x4ec),'PyoOQ':'unexpected\x20response','SrncS':function(_0x36303d,_0x1b83ed){return _0x36303d===_0x1b83ed;},'CThho':'keeps\x20the\x20header\x20when\x20redirected\x20to\x20the\x20same\x20host\x20via\x20header','oWQzb':function(_0x45fd27,_0x34fa37,_0x591bbb){return _0x45fd27(_0x34fa37,_0x591bbb);},'jpSlM':function(_0x120197,_0x39cf1d,_0x925c1f){return _0x120197(_0x39cf1d,_0x925c1f);},'MHOZL':'keeps\x20the\x20header\x20when\x20redirected\x20to\x20a\x20subdomain','FveiK':_0x527ffd(0x257),'Foeos':_0x527ffd(0x508),'fFQsF':function(_0x1f8c93,_0x51670c){return _0x1f8c93===_0x51670c;},'xbLae':'lutAp','XtmWf':'the\x20header\x20value','ZKXSK':function(_0x193b25,_0x4fe215,_0x1f35cf){return _0x193b25(_0x4fe215,_0x1f35cf);},'xMAgP':_0x527ffd(0x481),'KcjrN':function(_0xd6e439,_0x3f8297,_0x6d5e41){return _0xd6e439(_0x3f8297,_0x6d5e41);},'KKQuh':_0x527ffd(0x32a),'LDIME':function(_0x5f370b,_0x33df80){return _0x5f370b(_0x33df80);},'iWSYt':function(_0x4c52fe,_0x257ef0){return _0x4c52fe(_0x257ef0);},'qXcia':function(_0x16a1ad,_0x3cb307,_0x15bff6){return _0x16a1ad(_0x3cb307,_0x15bff6);},'lptar':function(_0xfb21d7,_0x3751d3,_0x397ff0){return _0xfb21d7(_0x3751d3,_0x397ff0);},'macYh':function(_0x3c2d9e,_0x26ea78){return _0x3c2d9e(_0x26ea78);},'kEljt':function(_0x13fe47,_0x4de071){return _0x13fe47(_0x4de071);},'dwTSo':function(_0x53a70c,_0x248217){return _0x53a70c(_0x248217);},'GDomz':_0x527ffd(0x17f),'YtXLE':_0x527ffd(0x40f),'PaBXA':function(_0x2ebcb4,_0x5679fc,_0x2da316){return _0x2ebcb4(_0x5679fc,_0x2da316);},'ZFMQh':_0x527ffd(0x3ca),'DXfVi':function(_0x25322b,_0x298af3){return _0x25322b(_0x298af3);},'fMJLO':function(_0x16f3b1,_0x596fbc){return _0x16f3b1(_0x596fbc);},'uilUp':_0x527ffd(0x546),'briIS':_0x527ffd(0x1b8),'uhiRq':_0x527ffd(0x264),'CvdVU':function(_0x599ce4,_0x13278b,_0x52d92d){return _0x599ce4(_0x13278b,_0x52d92d);},'yECZB':'drops\x20the\x20header\x20when\x20redirected\x20from\x20HTTPS\x20to\x20HTTP','bovan':_0x527ffd(0x16b),'SBzLr':_0x527ffd(0x262),'jMxPF':function(_0x3875c4,_0xe1b431,_0x4a8bb9){return _0x3875c4(_0xe1b431,_0x4a8bb9);},'pKmOw':function(_0x1e9c1e,_0x4ee98b){return _0x1e9c1e(_0x4ee98b);},'PMTqa':'yHItS','GQaRx':'jTkSa','FoeVz':_0x527ffd(0x309),'zdiHi':_0x527ffd(0x2fe),'SmCCa':_0x527ffd(0x155),'WcFwP':_0x527ffd(0x1e3),'MviyY':_0x527ffd(0x147),'IJTAS':function(_0x529979,_0x611942){return _0x529979===_0x611942;},'VuljK':_0x527ffd(0x1a5),'JmGLA':function(_0xb72163,_0x5a711f){return _0xb72163(_0x5a711f);},'mxXig':function(_0x4ac140,_0x10068a){return _0x4ac140(_0x10068a);},'gHvNf':function(_0x1f1521,_0x536bd6){return _0x1f1521(_0x536bd6);},'pTElu':function(_0x572479,_0x57b3d8){return _0x572479(_0x57b3d8);},'pzvqL':_0x527ffd(0x215),'PewBJ':function(_0x11fa45,_0x31a210){return _0x11fa45(_0x31a210);},'nnCcm':'fvFlQ','pHdJV':function(_0x455370,_0x104f4e,_0x2534fb){return _0x455370(_0x104f4e,_0x2534fb);},'xwZUU':function(_0x4092df,_0x136a82){return _0x4092df===_0x136a82;},'pJkTA':_0x527ffd(0x4f4),'FsEbI':function(_0x542b54,_0x479a63){return _0x542b54!==_0x479a63;},'mlCGw':function(_0xfb6a1a,_0x49adb8){return _0xfb6a1a(_0x49adb8);},'woAgP':function(_0x3b744e,_0x1716ed,_0x2c98f8){return _0x3b744e(_0x1716ed,_0x2c98f8);},'BlBlQ':_0x527ffd(0x427),'xJcoX':function(_0x19ff1e,_0x599cc0,_0x115ad6){return _0x19ff1e(_0x599cc0,_0x115ad6);},'ZcHsU':function(_0x1fc495,_0x167646,_0x3e2970){return _0x1fc495(_0x167646,_0x3e2970);},'axbDG':_0x527ffd(0x56f),'lBwJU':_0x527ffd(0x45e),'tUcRt':function(_0x2ddd6e,_0x15b670,_0x112ec7){return _0x2ddd6e(_0x15b670,_0x112ec7);},'sigcs':_0x527ffd(0x4ac),'BZCoD':function(_0x53f3f8,_0x8e2e37){return _0x53f3f8!==_0x8e2e37;},'gNOlT':_0x527ffd(0x1dd),'gkwow':'append\x20new\x20header\x20with\x20every\x20redirect','AwZqF':_0x527ffd(0x304),'gFOtn':_0x527ffd(0x3ee),'xBKtG':function(_0x5d137d,_0x28fa81){return _0x5d137d(_0x28fa81);},'zMLEn':_0x527ffd(0x195),'sMVqT':_0x527ffd(0x575),'sPnrO':_0x527ffd(0x152),'dofjK':function(_0x56574e,_0x312567,_0x2a48f7){return _0x56574e(_0x312567,_0x2a48f7);},'IUmZG':_0x527ffd(0x580),'FJmpd':_0x527ffd(0x1d9),'EWcVN':function(_0x5de5f2,_0x3e3d9b,_0x158604){return _0x5de5f2(_0x3e3d9b,_0x158604);},'jrGLY':_0x527ffd(0x30c),'NfUBj':function(_0x1fff92,_0x1cca31,_0x4f4669){return _0x1fff92(_0x1cca31,_0x4f4669);},'rmgtU':_0x527ffd(0x51a),'DPXaq':function(_0x2921e2,_0x55183f,_0x515538){return _0x2921e2(_0x55183f,_0x515538);},'mHDuf':_0x527ffd(0x38e),'qMzeL':_0x527ffd(0x52c),'bUiIf':_0x527ffd(0x1bd),'jdbiX':_0x527ffd(0x274),'mDSkd':_0x527ffd(0x162),'NbEXa':'should\x20emit\x20connect\x20events\x20on\x20the\x20returned\x20stream','ORjrO':function(_0x12e2f6,_0x10c8f5,_0x2b3e6d){return _0x12e2f6(_0x10c8f5,_0x2b3e6d);},'coLGB':function(_0x1cb568,_0x473344,_0x402ed4){return _0x1cb568(_0x473344,_0x402ed4);},'WoDPJ':_0x527ffd(0x324),'WnAJO':function(_0x412956,_0x4ead7f,_0x3996db){return _0x412956(_0x4ead7f,_0x3996db);},'alFpw':'should\x20destroy\x20responses','MdpvS':function(_0x9385fe,_0x548a6e,_0x24aa30){return _0x9385fe(_0x548a6e,_0x24aa30);},'KWTPb':_0x527ffd(0x43f),'hGvyG':function(_0x501b3a,_0x5d750e,_0x39846e){return _0x501b3a(_0x5d750e,_0x39846e);},'DHEYv':function(_0x1dcd05,_0xda326a,_0x994d44){return _0x1dcd05(_0xda326a,_0x994d44);},'SMKPo':_0x527ffd(0x30f),'ntAOu':function(_0x5a9b83,_0x1fa6bd,_0x2038bd){return _0x5a9b83(_0x1fa6bd,_0x2038bd);},'fdKCL':function(_0x5814c4,_0x583369,_0x2b1dd5){return _0x5814c4(_0x583369,_0x2b1dd5);},'mrGWE':_0x527ffd(0x52e),'qVyrv':function(_0x5f3838,_0x56ebc3,_0x2cf8a4){return _0x5f3838(_0x56ebc3,_0x2cf8a4);},'QNdsc':_0x527ffd(0x295),'YZoWK':_0x527ffd(0x51b),'nVwPr':function(_0xaa535c,_0x4cc17a,_0x35690b){return _0xaa535c(_0x4cc17a,_0x35690b);},'QBmsH':_0x527ffd(0x447),'Fgqrf':'should\x20support\x20writing\x20into\x20request\x20stream\x20without\x20redirects','qQdTq':_0x527ffd(0x327),'kSABn':function(_0x10fd0e,_0x214156,_0x40209c){return _0x10fd0e(_0x214156,_0x40209c);},'IEAFh':_0x527ffd(0x223),'gaQLs':_0x527ffd(0x3c2),'uqQic':function(_0x6bece0,_0x106391,_0x2a480f){return _0x6bece0(_0x106391,_0x2a480f);},'ESIwI':function(_0x4372f2,_0x15e2fb,_0x16160a){return _0x4372f2(_0x15e2fb,_0x16160a);},'fVEyo':function(_0x3cf484,_0x5ad446,_0x593c0b){return _0x3cf484(_0x5ad446,_0x593c0b);},'vGByr':function(_0x28739e,_0x41e268,_0x471bbd){return _0x28739e(_0x41e268,_0x471bbd);},'fJPnm':'should\x20choose\x20the\x20right\x20agent\x20per\x20protocol','mkEQZ':_0x527ffd(0x3e8),'tZYWY':'when\x20request\x20is\x20going\x20through\x20an\x20HTTP\x20proxy\x20(without\x20a\x20tunnel)'};function _0x187a4f(_0x382558){var _0x3f147a=_0x527ffd,_0x497f77={'Tqlqj':_0x4aeb64[_0x3f147a(0x4a9)]};if('HYKZI'!==_0x4aeb64[_0x3f147a(0x171)])return{'app':_0x382558,'protocol':_0x3f147a(0x4e1),'cert':fs[_0x3f147a(0x46a)](path[_0x3f147a(0x4f9)](__dirname,_0x3f147a(0x4c7))),'key':fs[_0x3f147a(0x46a)](path[_0x3f147a(0x4f9)](__dirname,_0x3f147a(0x59e)))};else{var _0x3ed388=_0x3fc252[_0x3f147a(0x1de)](_0x3f147a(0x4ad),{'method':_0x3f147a(0x570)},_0x59cc80);_0x3ed388['write'](''),_0x3ed388['write']('',_0x497f77[_0x3f147a(0x55b)],function(){var _0x5c15be=_0x3f147a;_0x3ed388[_0x5c15be(0x452)]('',_0x5c15be(0x55f));}),_0x3ed388['on'](_0x3f147a(0x47a),_0x276479);}}var _0x2e70c6=fs['readFileSync'](path[_0x527ffd(0x4f9)](__dirname,_0x4aeb64['gFOtn'])),_0x4e7e41,_0x311441,_0xb26a91,_0x12e2db;_0x4aeb64[_0x527ffd(0x317)](beforeEach,function(){var _0x31ea68=_0x527ffd;_0xb26a91=followRedirects[_0x31ea68(0x5a9)],_0x12e2db=followRedirects[_0x31ea68(0x150)],_0x4e7e41=_0x4aeb64[_0x31ea68(0x4de)](express),_0x311441=express();}),afterEach(function(){var _0x52accc=_0x527ffd;return followRedirects[_0x52accc(0x5a9)]=_0xb26a91,followRedirects[_0x52accc(0x150)]=_0x12e2db,server['stop']();}),_0x4aeb64[_0x527ffd(0x30b)](it,_0x527ffd(0x328),function(){var _0x2eb559=_0x527ffd;if(_0x4aeb64['SPLHK'](_0x2eb559(0x547),_0x4aeb64[_0x2eb559(0x4d3)]))return _0x4e7e41['get']('/a',_0x4aeb64[_0x2eb559(0x537)](redirectsTo,'/b')),_0x4e7e41[_0x2eb559(0x191)]('/b',_0x4aeb64[_0x2eb559(0x404)](redirectsTo,'/c')),_0x4e7e41['get']('/c',_0x4aeb64['YTGkt'](redirectsTo,'/d')),_0x4e7e41[_0x2eb559(0x191)]('/d',redirectsTo('/e')),_0x4e7e41['get']('/e',redirectsTo('/f')),_0x4e7e41[_0x2eb559(0x191)]('/f',_0x4aeb64[_0x2eb559(0x404)](sendsJson,{'a':'b'})),server[_0x2eb559(0x17c)](_0x4e7e41)[_0x2eb559(0x3d1)](asPromise(function(_0x31a122,_0x189bfa){var _0x72d711=_0x2eb559;http[_0x72d711(0x191)](_0x4aeb64[_0x72d711(0x44d)],concatJson(_0x31a122,_0x189bfa))['on'](_0x4aeb64[_0x72d711(0x541)],_0x189bfa);}))[_0x2eb559(0x3d1)](function(_0x5d51cc){var _0xaf64ac=_0x2eb559;assert[_0xaf64ac(0x16c)](_0x5d51cc['parsedJson'],{'a':'b'}),assert[_0xaf64ac(0x16c)](_0x5d51cc['responseUrl'],_0xaf64ac(0x3d4));});else _0x9bd614['fail']('this\x20should\x20only\x20be\x20called\x20on\x20redirects');}),it(_0x4aeb64[_0x527ffd(0x170)],function(){var _0x14654b=_0x527ffd,_0x379591={'tLVPu':_0x14654b(0x3d4)};if(_0x4aeb64[_0x14654b(0x3b7)](nodeMajorVersion,0xa)){if(_0x14654b(0x17a)===_0x4aeb64['QvqZU']){var _0x150d40=_0x4aeb64[_0x14654b(0x2b6)][_0x14654b(0x3e0)]('|'),_0x5df24c=0x0;while(!![]){switch(_0x150d40[_0x5df24c++]){case'0':_0x57631a['equal'](_0x3a66c5[_0x14654b(0x5ac)],_0x4aeb64['exQXm']);continue;case'1':_0x2bfdfd[_0x14654b(0x19f)](_0x3a66c5[_0x14654b(0x238)],_0x4aeb64[_0x14654b(0x1bb)]);continue;case'2':var _0x3a66c5=_0x1f865a[_0x14654b(0x45c)](_0x7f6663);continue;case'3':_0x36c2d9[_0x14654b(0x19f)](_0x3a66c5[_0x4aeb64['lHjUJ']],_0x132795);continue;case'4':_0x1f89f2[_0x14654b(0x19f)](_0x3a66c5[_0x4aeb64[_0x14654b(0x37b)]],_0x56d2d7);continue;}break;}}else this[_0x14654b(0x43b)]();}return _0x4e7e41[_0x14654b(0x191)]('/a',redirectsTo('/b')),_0x4e7e41[_0x14654b(0x191)]('/b',_0x4aeb64['NeOmP'](redirectsTo,'/c')),_0x4e7e41[_0x14654b(0x191)]('/c',redirectsTo('/d')),_0x4e7e41[_0x14654b(0x191)]('/d',_0x4aeb64[_0x14654b(0x207)](redirectsTo,'/e')),_0x4e7e41[_0x14654b(0x191)]('/e',_0x4aeb64[_0x14654b(0x537)](redirectsTo,'/f')),_0x4e7e41[_0x14654b(0x191)]('/f',_0x4aeb64[_0x14654b(0x34c)](sendsJson,{'a':'b'})),server['start'](_0x4e7e41)[_0x14654b(0x3d1)](asPromise(function(_0x3f5405,_0x5c110f){var _0x2b3058=_0x14654b;http['get'](new URL(_0x4aeb64[_0x2b3058(0x44d)]),_0x4aeb64[_0x2b3058(0x3e2)](concatJson,_0x3f5405,_0x5c110f))['on'](_0x2b3058(0x47a),_0x5c110f);}))[_0x14654b(0x3d1)](function(_0x16bddf){var _0x381816=_0x14654b;assert['deepEqual'](_0x16bddf[_0x381816(0x2d1)],{'a':'b'}),assert[_0x381816(0x16c)](_0x16bddf[_0x381816(0x237)],_0x379591['tLVPu']);});}),_0x4aeb64[_0x527ffd(0x3ae)](it,_0x4aeb64[_0x527ffd(0x5bc)],function(){var _0x4f90fe=_0x527ffd,_0x439e82={'knnRg':_0x4f90fe(0x193),'KHtGM':_0x4f90fe(0x3d4)};if(_0x4aeb64[_0x4f90fe(0x303)](_0x4aeb64['KYnnp'],'wBhxP'))_0x10218c[_0x4f90fe(0x191)](_0x357d5f,_0x5b4d04)['on']('error',_0x72dba5);else return _0x4e7e41[_0x4f90fe(0x191)]('/a',redirectsTo('/b')),_0x4e7e41[_0x4f90fe(0x191)]('/b',_0x4aeb64['pkZTd'](redirectsTo,'/c')),_0x4e7e41[_0x4f90fe(0x191)]('/c',redirectsTo('/d')),_0x4e7e41['get']('/d',_0x4aeb64[_0x4f90fe(0x406)](redirectsTo,'/e')),_0x4e7e41['get']('/e',redirectsTo('/f')),_0x4e7e41[_0x4f90fe(0x191)]('/f',sendsJson({'a':'b'})),server[_0x4f90fe(0x17c)](_0x4e7e41)[_0x4f90fe(0x3d1)](asPromise(function(_0x1d671c,_0x264a5f){var _0x2980cb=_0x4f90fe,_0x3f1d27={'hostname':_0x2980cb(0x2a4),'port':0xe10,'path':'/a','method':_0x439e82[_0x2980cb(0x511)]};http[_0x2980cb(0x191)](_0x3f1d27,concatJson(_0x1d671c,_0x264a5f))['on'](_0x2980cb(0x47a),_0x264a5f);}))['then'](function(_0x2567a8){var _0x2ad0aa=_0x4f90fe;assert['deepEqual'](_0x2567a8[_0x2ad0aa(0x2d1)],{'a':'b'}),assert[_0x2ad0aa(0x16c)](_0x2567a8[_0x2ad0aa(0x237)],_0x439e82[_0x2ad0aa(0x266)]);});}),it(_0x527ffd(0x576),function(){var _0x117762=_0x527ffd,_0x1038d1={'VhZUh':'http://localhost:3600/a','gNAIi':_0x4aeb64[_0x117762(0x541)]};return _0x4e7e41[_0x117762(0x191)]('/a',_0x4aeb64[_0x117762(0x404)](sendsJson,{'a':'b'})),server['start'](_0x4e7e41)[_0x117762(0x3d1)](asPromise(function(_0x23b0b4,_0x312e33){var _0x1b6d67=_0x117762;http[_0x1b6d67(0x191)](_0x1038d1[_0x1b6d67(0x32d)],concatJson(_0x23b0b4,_0x312e33))['on'](_0x1038d1[_0x1b6d67(0x437)],_0x312e33);}))[_0x117762(0x3d1)](function(_0x1c8933){var _0x1d849e=_0x117762;assert[_0x1d849e(0x16c)](_0x1c8933['parsedJson'],{'a':'b'}),assert[_0x1d849e(0x16c)](_0x1c8933[_0x1d849e(0x237)],_0x1038d1[_0x1d849e(0x32d)]);});}),it(_0x4aeb64['sPnrO'],function(){var _0x1db6cc=_0x527ffd,_0x47347f={'wkAfz':'localhost','vcpSG':function(_0x2d7b66,_0x12b1ec,_0x42d936){return _0x2d7b66(_0x12b1ec,_0x42d936);}};return _0x4e7e41[_0x1db6cc(0x191)]('/a',_0x4aeb64[_0x1db6cc(0x273)](sendsJson,{'a':'b'})),server[_0x1db6cc(0x17c)](_0x4e7e41)['then'](_0x4aeb64[_0x1db6cc(0x3f3)](asPromise,function(_0x4071ac,_0x1ccf7b){var _0x2b6d23=_0x1db6cc,_0x49dfdd={'hostname':_0x47347f['wkAfz'],'port':0xe10,'path':_0x2b6d23(0x4d2),'method':_0x2b6d23(0x193)};http['get'](_0x49dfdd,_0x47347f[_0x2b6d23(0x31f)](concatJson,_0x4071ac,_0x1ccf7b))['on'](_0x2b6d23(0x47a),_0x1ccf7b);}))[_0x1db6cc(0x3d1)](function(_0x28ca1b){var _0x3e62e4=_0x1db6cc;assert[_0x3e62e4(0x16c)](_0x28ca1b[_0x3e62e4(0x2d1)],{'a':'b'}),assert['deepEqual'](_0x28ca1b[_0x3e62e4(0x237)],_0x3e62e4(0x579));});}),_0x4aeb64[_0x527ffd(0x320)](it,_0x4aeb64[_0x527ffd(0x57f)],function(){var _0x2728a7=_0x527ffd,_0x20e7bf={'IMpYB':_0x4aeb64['tOfpH'],'sVsAI':_0x4aeb64[_0x2728a7(0x270)],'iSDlh':_0x2728a7(0x193),'LCqAp':function(_0x18afa9,_0x4910a7,_0x981e49){return _0x18afa9(_0x4910a7,_0x981e49);}};return _0x4e7e41[_0x2728a7(0x191)]('/a',redirectsTo('/b')),_0x4e7e41[_0x2728a7(0x191)]('/b',_0x4aeb64['bqLIv'](redirectsTo,'/c')),_0x4e7e41[_0x2728a7(0x191)]('/c',redirectsTo('/d')),_0x4e7e41[_0x2728a7(0x191)]('/d',_0x4aeb64[_0x2728a7(0x207)](redirectsTo,'/e')),_0x4e7e41[_0x2728a7(0x191)]('/e',_0x4aeb64[_0x2728a7(0x4f2)](redirectsTo,'/f')),_0x4e7e41[_0x2728a7(0x191)]('/f',_0x4aeb64[_0x2728a7(0x2e5)](sendsJson,{'a':'b'})),server['start'](_0x4e7e41)[_0x2728a7(0x3d1)](asPromise(function(_0x2b437f,_0x568d8a){var _0x504187=_0x2728a7;if(_0x20e7bf['IMpYB']===_0x504187(0x47b))_0x5ae2f8=_0x4c6f22[_0x504187(0x240)]();else{var _0x1b3a4c={'host':_0x20e7bf[_0x504187(0x492)],'port':0xe10,'path':'/a','method':_0x20e7bf[_0x504187(0x380)]};http[_0x504187(0x191)](_0x1b3a4c,concatJson(_0x2b437f,_0x568d8a))['on'](_0x504187(0x47a),_0x568d8a);}}))[_0x2728a7(0x3d1)](function(_0x5988c9){var _0x397fdc=_0x2728a7;if(_0x4aeb64['pSjQz'](_0x4aeb64['dvUyF'],'HlvtR'))assert[_0x397fdc(0x16c)](_0x5988c9[_0x397fdc(0x2d1)],{'a':'b'}),assert[_0x397fdc(0x16c)](_0x5988c9[_0x397fdc(0x237)],_0x4aeb64[_0x397fdc(0x25c)]);else return _0x108f15[_0x397fdc(0x191)]('/a',_0x20e7bf[_0x397fdc(0x2eb)](_0x41a53f,0x12e,'/b')),_0x353276['get']('/b',_0x10ad93({'a':'b'})),_0x58f32b['start'](_0x45aada)['then'](_0x169ec7(function(_0x30cf04,_0x5269bc){var _0x7ba9eb=_0x397fdc,_0x124acc=_0x56debb['parse']('http://localhost:3600/a');_0x124acc[_0x7ba9eb(0x19a)]=![],_0x2dd98f[_0x7ba9eb(0x191)](_0x124acc,_0x30cf04)['on']('error',_0x5269bc);}))[_0x397fdc(0x3d1)](function(_0x17319b){var _0x4d5282=_0x397fdc;_0x1c8a85[_0x4d5282(0x16c)](_0x17319b[_0x4d5282(0x22a)],0x12e),_0x1debbd[_0x4d5282(0x16c)](_0x17319b['responseUrl'],_0x4d5282(0x4ad));});});}),_0x4aeb64['OBIjm'](it,_0x4aeb64['FJmpd'],function(){var _0x44cef0=_0x527ffd,_0xd9ce5c={'SwIen':_0x4aeb64['NCNHO']};return _0x4e7e41[_0x44cef0(0x191)]('/a',redirectsTo('/b')),_0x4e7e41['get']('/b',_0x4aeb64['SektV'](redirectsTo,'/c')),_0x4e7e41[_0x44cef0(0x191)]('/c',redirectsTo('/d')),_0x4e7e41[_0x44cef0(0x191)]('/d',redirectsTo('/e')),_0x4e7e41[_0x44cef0(0x191)]('/e',_0x4aeb64[_0x44cef0(0x207)](redirectsTo,'/f')),_0x4e7e41[_0x44cef0(0x191)]('/f',sendsJson({'a':'b'})),server[_0x44cef0(0x17c)](_0x4e7e41)[_0x44cef0(0x3d1)](_0x4aeb64['RYumV'](asPromise,function(_0x3c0758,_0x4a7913){var _0x48bbee=_0x44cef0;http['get'](_0x48bbee(0x3f2),concatJson(_0x3c0758,_0x4a7913))['on'](_0x4aeb64[_0x48bbee(0x541)],_0x4a7913);}))[_0x44cef0(0x3d1)](function(_0x584a2b){var _0x3a51ee=_0x44cef0;_0x3a51ee(0x24b)===_0x3a51ee(0x359)?_0x4a883e=_0x1e0737:(assert[_0x3a51ee(0x16c)](_0x584a2b[_0x3a51ee(0x2d1)],{'a':'b'}),assert[_0x3a51ee(0x16c)](_0x584a2b[_0x3a51ee(0x237)],_0xd9ce5c[_0x3a51ee(0x30d)]));});}),it(_0x527ffd(0x3a6),function(){var _0x44ebcd=_0x527ffd;if(_0x44ebcd(0x31b)===_0x4aeb64[_0x44ebcd(0x2da)]){var _0x549d0f=_0x4aeb64[_0x44ebcd(0x54d)][_0x44ebcd(0x3e0)]('|'),_0x81d242=0x0;while(!![]){switch(_0x549d0f[_0x81d242++]){case'0':return server['start'](_0x4e7e41)['then'](_0x4aeb64[_0x44ebcd(0x2e5)](asPromise,function(_0x4c7166,_0x3d6f53){var _0xe5f3a2=_0x44ebcd;http[_0xe5f3a2(0x191)](_0xe5f3a2(0x4d7),concatJson(_0x4c7166,_0x3d6f53))['on'](_0xe5f3a2(0x47a),_0x3d6f53);}))[_0x44ebcd(0x3d1)](function(_0x478634){var _0x3483de=_0x44ebcd;assert['deepEqual'](_0x478634['parsedJson'],{'a':'b'}),assert[_0x3483de(0x16c)](_0x478634[_0x3483de(0x237)],_0x4aeb64[_0x3483de(0x282)]);});case'1':_0x4e7e41['get']('/c',redirectsTo('/d'));continue;case'2':_0x4e7e41[_0x44ebcd(0x191)]('/e',_0x4aeb64['MTrEs'](redirectsTo,'/f'));continue;case'3':_0x4e7e41[_0x44ebcd(0x191)]('/f',sendsJson({'a':'b'}));continue;case'4':_0x4e7e41[_0x44ebcd(0x191)]('/a',_0x4aeb64[_0x44ebcd(0x58a)](redirectsTo,'/b'));continue;case'5':_0x4e7e41[_0x44ebcd(0x191)]('/d',_0x4aeb64[_0x44ebcd(0x40d)](redirectsTo,'/e'));continue;case'6':_0x4e7e41[_0x44ebcd(0x191)]('/b',_0x4aeb64[_0x44ebcd(0x58a)](redirectsTo,'/c'));continue;}break;}}else throw new _0x5ec9a7(_0x44ebcd(0x3d5));}),_0x4aeb64['OKmNF'](it,_0x527ffd(0x502),function(){var _0x2c8080=_0x527ffd,_0xda364a={'KFNls':function(_0x5ec2cd,_0x114085){var _0xc4035e=_0x23bf;return _0x4aeb64[_0xc4035e(0x19b)](_0x5ec2cd,_0x114085);},'feVSY':function(_0x5502ab,_0x500b24){var _0x50f710=_0x23bf;return _0x4aeb64[_0x50f710(0x207)](_0x5502ab,_0x500b24);},'qQFqL':_0x2c8080(0x172),'YZsrd':_0x4aeb64[_0x2c8080(0x44d)]};if(_0x2c8080(0x179)!==_0x2c8080(0x179))_0x4d5e4b(_0xda364a[_0x2c8080(0x263)](_0x3bd38e,_0x5a7afa)),_0x5f59ce[_0x2c8080(0x19f)](_0x4c83a2['code'],_0x2c8080(0x3e5)),_0xe41fa8[_0x2c8080(0x19f)](_0xf5a432[_0x2c8080(0x5af)],_0x2c8080(0x1d3));else{var _0x2bfedb=null;try{if(_0x4aeb64['wwDrp']('IIMCp',_0x2c8080(0x4bd)))http[_0x2c8080(0x191)](_0x2c8080(0x2ee));else{var _0x161ee8={'WkvRe':function(_0x42cdc3,_0x484423){var _0x1867ec=_0x2c8080;return _0xda364a[_0x1867ec(0x509)](_0x42cdc3,_0x484423);},'IFrDt':_0xda364a[_0x2c8080(0x594)]};_0xaa3efc['get'](_0xda364a[_0x2c8080(0x50b)])['on']('response',function(){var _0x46f840=_0x2c8080;return _0x161ee8[_0x46f840(0x3f1)](_0x5ee005,new _0x4d2f3b(_0x161ee8[_0x46f840(0x45b)]));})['on']('error',_0x3c3b36);}}catch(_0x57863c){_0x2bfedb=_0x57863c;}_0x4aeb64[_0x2c8080(0x20e)](assert,_0x4aeb64['LlStY'](_0x2bfedb,Error)),_0x4aeb64[_0x2c8080(0x210)](assert,_0x4aeb64[_0x2c8080(0x415)](_0x2bfedb,TypeError)),assert[_0x2c8080(0x19f)](_0x2bfedb['code'],_0x2c8080(0x41f)),assert[_0x2c8080(0x19f)](_0x2bfedb[_0x2c8080(0x3dd)],'http://[127.0.0.1]:3600/a');}}),it(_0x527ffd(0x41c),function(){var _0x111df1=_0x527ffd,_0x16316e=_0x4aeb64[_0x111df1(0x1b4)]['split']('|'),_0x2e53c9=0x0;while(!![]){switch(_0x16316e[_0x2e53c9++]){case'0':_0x4aeb64[_0x111df1(0x4df)](assert,_0x3bf561 instanceof TypeError);continue;case'1':try{http[_0x111df1(0x191)]({'host':_0x4aeb64[_0x111df1(0x5ad)],'path':'/a'});}catch(_0x4de500){_0x3bf561=_0x4de500;}continue;case'2':assert(_0x4aeb64[_0x111df1(0x4b4)](_0x3bf561,Error));continue;case'3':var _0x3bf561=null;continue;case'4':assert['equal'](_0x3bf561[_0x111df1(0x1e7)],_0x4aeb64[_0x111df1(0x412)]);continue;}break;}}),_0x4aeb64[_0x527ffd(0x144)](it,_0x4aeb64[_0x527ffd(0x236)],function(){var _0x26475b=_0x527ffd,_0x5c80ab=null;try{http[_0x26475b(0x191)]({'hostname':'[127.0.0.1]','port':0xe10,'path':'/a'});}catch(_0x3d9853){if(_0x26475b(0x166)!==_0x4aeb64[_0x26475b(0x1a6)])return{'app':_0x210016,'protocol':_0x4aeb64['KfpQE'],'cert':_0xf46b5a[_0x26475b(0x46a)](_0x5cd1a7['resolve'](_0x53977d,_0x26475b(0x4c7))),'key':_0x2039fa[_0x26475b(0x46a)](_0x43039b[_0x26475b(0x4f9)](_0xb9b576,_0x26475b(0x59e)))};else _0x5c80ab=_0x3d9853;}assert(_0x4aeb64[_0x26475b(0x4e7)](_0x5c80ab,Error)),assert(_0x4aeb64[_0x26475b(0x4c1)](_0x5c80ab,TypeError)),assert[_0x26475b(0x19f)](_0x5c80ab[_0x26475b(0x1e7)],_0x4aeb64['OErOw']);}),it(_0x527ffd(0x259),function(){var _0x137106=_0x527ffd,_0x3595d4=null;try{http[_0x137106(0x191)]('http://[localhost]:3600/a');}catch(_0xbaf231){_0x3595d4=_0xbaf231;}_0x4aeb64['Lherr'](assert,_0x3595d4 instanceof Error),assert(_0x3595d4 instanceof TypeError),assert[_0x137106(0x19f)](_0x3595d4[_0x137106(0x1e7)],'ERR_INVALID_URL'),assert[_0x137106(0x19f)](_0x3595d4[_0x137106(0x3dd)],_0x137106(0x3a8));}),_0x4aeb64['KyMin'](it,_0x527ffd(0x5a6),function(){var _0x164167=_0x527ffd;return _0x4e7e41['get']('/a',_0x4aeb64[_0x164167(0x3d2)](redirectsTo,_0x164167(0x2bc))),_0x4e7e41['get']('/b',_0x4aeb64[_0x164167(0x40d)](sendsJson,{'a':'b'})),server[_0x164167(0x17c)](_0x4e7e41)[_0x164167(0x3d1)](_0x4aeb64['JmUYr'](asPromise,function(_0x41cf94,_0x18d47a){var _0x2a5ba3=_0x164167;http[_0x2a5ba3(0x191)](_0x4aeb64[_0x2a5ba3(0x44d)],_0x4aeb64['FJQAS'](concatJson,_0x41cf94,_0x18d47a))['on']('error',_0x18d47a);}))[_0x164167(0x3d1)](function(_0x55bc2b){var _0x4040f8=_0x164167;assert['deepEqual'](_0x55bc2b[_0x4040f8(0x2d1)],{'a':'b'}),assert[_0x4040f8(0x16c)](_0x55bc2b[_0x4040f8(0x237)],'http://127.0.0.1:3600/b');});}),it('http.get\x20redirecting\x20to\x20IPv6\x20address',function(){var _0x1ddee4=_0x527ffd,_0x576981={'mGcCu':_0x1ddee4(0x4ad)};return _0x4e7e41[_0x1ddee4(0x191)]('/a',_0x4aeb64['MXsQg'](redirectsTo,_0x4aeb64['cZZKw'])),_0x4e7e41[_0x1ddee4(0x191)]('/b',_0x4aeb64[_0x1ddee4(0x2e5)](sendsJson,{'a':'b'})),server[_0x1ddee4(0x17c)](_0x4e7e41)[_0x1ddee4(0x3d1)](asPromise(function(_0x996fc9,_0x5b8163){var _0x2ed1f6=_0x1ddee4;http['get'](_0x576981[_0x2ed1f6(0x249)],concatJson(_0x996fc9,_0x5b8163))['on'](_0x2ed1f6(0x47a),_0x5b8163);}))[_0x1ddee4(0x3d1)](function(_0xed6714){var _0x256fde=_0x1ddee4;assert[_0x256fde(0x16c)](_0xed6714[_0x256fde(0x2d1)],{'a':'b'}),assert[_0x256fde(0x16c)](_0xed6714[_0x256fde(0x237)],_0x256fde(0x4c4));});}),it(_0x527ffd(0x3b0),function(){var _0x379218=_0x527ffd;return _0x4e7e41[_0x379218(0x191)]('/a',redirectsTo(_0x379218(0x243))),_0x4e7e41[_0x379218(0x191)]('/b',sendsJson({'a':'b'})),server['start'](_0x4e7e41)['then'](_0x4aeb64[_0x379218(0x1ee)](asPromise,function(_0xcdcad0,_0x482e30){var _0x18ade8=_0x379218;http['get'](_0x4aeb64[_0x18ade8(0x44d)],_0x4aeb64[_0x18ade8(0x3d2)](concatJson,_0x482e30))['on'](_0x18ade8(0x47a),_0xcdcad0);}))[_0x379218(0x3d1)](function(_0x5942f8){var _0x3e8498=_0x379218,_0x3356a9={'gVrJw':_0x4aeb64['mswbO']};if(_0x3e8498(0x342)!==_0x4aeb64[_0x3e8498(0x26f)]){assert(_0x4aeb64[_0x3e8498(0x4e7)](_0x5942f8,Error)),assert[_0x3e8498(0x19f)](_0x5942f8[_0x3e8498(0x1e7)],'ERR_FR_REDIRECTION_FAILURE');var _0x397a48=_0x5942f8['cause'];_0x4aeb64[_0x3e8498(0x404)](assert,_0x397a48 instanceof Error),assert(_0x4aeb64[_0x3e8498(0x1ca)](_0x397a48,TypeError)),assert['equal'](_0x397a48[_0x3e8498(0x1e7)],_0x3e8498(0x41f)),assert['equal'](_0x397a48[_0x3e8498(0x3dd)],_0x3e8498(0x243));}else _0x590a67[_0x3e8498(0x191)]('http://localhost:3600/r22',_0x4185ca)['on'](_0x3356a9[_0x3e8498(0x473)],_0x5eb746);});}),_0x4aeb64[_0x527ffd(0x2ef)](it,_0x4aeb64[_0x527ffd(0x196)],function(){var _0x4b20d4=_0x527ffd,_0x3ea823={'MpuUk':'error','YQgAs':_0x4aeb64[_0x4b20d4(0x149)],'lHnfM':_0x4aeb64[_0x4b20d4(0x412)],'vAmtR':_0x4b20d4(0x4f7),'VhlXz':function(_0xab749d,_0x1b7514){var _0x2ff46c=_0x4b20d4;return _0x4aeb64[_0x2ff46c(0x4c1)](_0xab749d,_0x1b7514);},'GaPOg':_0x4aeb64[_0x4b20d4(0x555)],'OffOw':function(_0x1e68b6,_0x3503c7){var _0x2736ee=_0x4b20d4;return _0x4aeb64[_0x2736ee(0x4f2)](_0x1e68b6,_0x3503c7);}};return _0x4e7e41[_0x4b20d4(0x191)]('/a',redirectsTo(_0x4aeb64[_0x4b20d4(0x555)])),_0x4e7e41[_0x4b20d4(0x191)]('/b',_0x4aeb64['bqLIv'](sendsJson,{'a':'b'})),server[_0x4b20d4(0x17c)](_0x4e7e41)[_0x4b20d4(0x3d1)](_0x4aeb64[_0x4b20d4(0x316)](asPromise,function(_0x3a33fc,_0xbb2992){var _0x574e98=_0x4b20d4;http[_0x574e98(0x191)](_0x574e98(0x4ad),concatJson(_0xbb2992))['on'](_0x3ea823[_0x574e98(0x2b8)],_0x3a33fc);}))['then'](function(_0x4b093c){var _0x146724=_0x4b20d4,_0x2a393b=_0x3ea823[_0x146724(0x53a)]['split']('|'),_0x38a1a2=0x0;while(!![]){switch(_0x2a393b[_0x38a1a2++]){case'0':assert[_0x146724(0x19f)](_0x2a0544['code'],_0x3ea823[_0x146724(0x3e3)]);continue;case'1':assert[_0x146724(0x19f)](_0x4b093c['code'],_0x3ea823[_0x146724(0x42c)]);continue;case'2':assert(_0x3ea823['VhlXz'](_0x2a0544,TypeError));continue;case'3':assert['equal'](_0x2a0544['input'],_0x3ea823[_0x146724(0x456)]);continue;case'4':var _0x2a0544=_0x4b093c[_0x146724(0x3b1)];continue;case'5':assert(_0x4b093c instanceof Error);continue;case'6':_0x3ea823['OffOw'](assert,_0x3ea823[_0x146724(0x2af)](_0x2a0544,Error));continue;}break;}});}),_0x4aeb64[_0x527ffd(0x18e)](it,_0x527ffd(0x40a),function(){var _0x19e150=_0x527ffd,_0x4e34a8={'mWrcG':_0x4aeb64['RppNG'],'rgIyf':_0x4aeb64['qsgTQ']};if(_0x4aeb64['pSjQz']('rBAqb','ahicQ')){var _0x255aab={'CJivR':_0x19e150(0x4ad),'fmGLK':_0x4aeb64[_0x19e150(0x187)],'MzJIh':_0x19e150(0x47a)};return _0x189d2e['post']('/a',function(_0x2c3af2,_0xb28ef6){_0x2c3af2['pipe'](_0xb28ef6);}),_0xa00ab6[_0x19e150(0x150)]=0x8,_0x17be0f[_0x19e150(0x17c)](_0x349eee)['then'](_0x221925(function(_0x4c80bb,_0x117202){var _0x1f55ae=_0x19e150,_0x458f2d=_0x31ef95[_0x1f55ae(0x1de)](_0x255aab[_0x1f55ae(0x198)],{'method':_0x1f55ae(0x570)},_0x117202);_0x458f2d['write'](_0x255aab['fmGLK']),_0x458f2d['on'](_0x255aab[_0x1f55ae(0x1fe)],_0x4c80bb),_0x458f2d[_0x1f55ae(0x1b7)]('9');}))['then'](function(_0x3a422f){var _0x3df1e4=_0x19e150;_0x19d7cb[_0x3df1e4(0x19f)](_0x3a422f[_0x3df1e4(0x5af)],_0x4e34a8['mWrcG']);});}else{var _0x33a28f=_0x19e150(0x500)[_0x19e150(0x3e0)]('|'),_0x1c17ba=0x0;while(!![]){switch(_0x33a28f[_0x1c17ba++]){case'0':_0x4e7e41[_0x19e150(0x191)]('/a',redirectsTo('/b'));continue;case'1':return server[_0x19e150(0x17c)](_0x4e7e41)[_0x19e150(0x3d1)](asPromise(function(_0x507f98,_0x25cb82){var _0x1561ae=_0x19e150;http[_0x1561ae(0x191)](_0x4aeb64[_0x1561ae(0x44d)])['on'](_0x4aeb64[_0x1561ae(0x52a)],_0x4aeb64[_0x1561ae(0x3e2)](concatJson,_0x507f98,_0x25cb82))['on'](_0x1561ae(0x47a),_0x25cb82);}))['then'](function(_0x2ebee6){var _0x343540=_0x19e150;assert['deepEqual'](_0x2ebee6[_0x343540(0x2d1)],{'a':'b'}),assert[_0x343540(0x16c)](_0x2ebee6['responseUrl'],_0x4e34a8[_0x343540(0x1ef)]);});case'2':_0x4e7e41[_0x19e150(0x191)]('/b',redirectsTo('/c'));continue;case'3':_0x4e7e41['get']('/c',_0x4aeb64['cuRgG'](redirectsTo,'/d'));continue;case'4':_0x4e7e41['get']('/f',sendsJson({'a':'b'}));continue;case'5':_0x4e7e41[_0x19e150(0x191)]('/e',_0x4aeb64[_0x19e150(0x2dd)](redirectsTo,'/f'));continue;case'6':_0x4e7e41[_0x19e150(0x191)]('/d',redirectsTo('/e'));continue;}break;}}}),_0x4aeb64[_0x527ffd(0x335)](it,_0x4aeb64[_0x527ffd(0x18a)],function(){var _0xafdfdc=_0x527ffd,_0x4736ff=_0xafdfdc(0x346)[_0xafdfdc(0x3e0)]('|'),_0x1f3cb3=0x0;while(!![]){switch(_0x4736ff[_0x1f3cb3++]){case'0':assert(_0x346b65 instanceof Error);continue;case'1':try{http[_0xafdfdc(0x191)](_0x4aeb64[_0xafdfdc(0x188)]);}catch(_0x25259c){_0x346b65=_0x25259c;}continue;case'2':assert[_0xafdfdc(0x19f)](_0x346b65[_0xafdfdc(0x1e7)],_0x4aeb64[_0xafdfdc(0x412)]);continue;case'3':var _0x346b65=null;continue;case'4':_0x4aeb64['fFjXj'](assert,_0x4aeb64[_0xafdfdc(0x3fe)](_0x346b65,TypeError));continue;case'5':assert[_0xafdfdc(0x19f)](_0x346b65[_0xafdfdc(0x3dd)],_0x4aeb64[_0xafdfdc(0x188)]);continue;}break;}}),_0x4aeb64[_0x527ffd(0x18d)](it,_0x4aeb64[_0x527ffd(0x48a)],function(){var _0x25ad26=_0x527ffd,_0x1da679=_0x4aeb64['qYiIo']['split']('|'),_0x3ae912=0x0;while(!![]){switch(_0x1da679[_0x3ae912++]){case'0':_0x4e7e41['get']('/d',redirectsTo(_0x25ad26(0x46b)));continue;case'1':_0x4e7e41[_0x25ad26(0x191)]('/e',redirectsTo(_0x25ad26(0x51e)));continue;case'2':_0x4e7e41['get']('/f',_0x4aeb64[_0x25ad26(0x20e)](sendsJson,{'a':'b'}));continue;case'3':_0x4e7e41[_0x25ad26(0x191)]('/a',redirectsTo(_0x25ad26(0x27d)));continue;case'4':return server[_0x25ad26(0x17c)](_0x4e7e41)['then'](_0x4aeb64[_0x25ad26(0x4f8)](asPromise,function(_0x5996fc,_0x3fcfa0){var _0xedc722=_0x25ad26;http[_0xedc722(0x191)](_0x4aeb64['mfOaH'],_0x4aeb64[_0xedc722(0x1d4)](concatJson,_0x5996fc,_0x3fcfa0))['on'](_0xedc722(0x47a),_0x3fcfa0);}))[_0x25ad26(0x3d1)](function(_0x1a040f){var _0x449c8c=_0x25ad26;assert[_0x449c8c(0x16c)](_0x1a040f[_0x449c8c(0x2d1)],{'a':'b'}),assert[_0x449c8c(0x16c)](_0x1a040f[_0x449c8c(0x237)],_0x449c8c(0x1c1));});case'5':_0x4e7e41[_0x25ad26(0x191)]('/c',_0x4aeb64[_0x25ad26(0x537)](redirectsTo,_0x4aeb64['CnmIs']));continue;case'6':_0x4e7e41[_0x25ad26(0x191)]('/b',redirectsTo(_0x4aeb64[_0x25ad26(0x421)]));continue;}break;}}),it(_0x4aeb64[_0x527ffd(0x353)],function(){var _0x4e6f6a=_0x527ffd,_0x3300f4={'xpBox':_0x4aeb64[_0x4e6f6a(0x541)],'yFJXT':function(_0x437b45,_0x4d997b){return _0x437b45(_0x4d997b);}};return _0x4e7e41[_0x4e6f6a(0x191)]('/a',function(_0x29c89f,_0x4a81ae){var _0x2eb679=_0x4e6f6a;_0x4a81ae[_0x2eb679(0x1d5)](0x133)['end']();}),server[_0x4e6f6a(0x17c)](_0x4e7e41)[_0x4e6f6a(0x3d1)](_0x4aeb64['sfFlZ'](asPromise,function(_0x329e2d,_0x597b7f){var _0x1f3ee3=_0x4e6f6a;http[_0x1f3ee3(0x191)](_0x1f3ee3(0x4ad),_0x329e2d)['on'](_0x3300f4[_0x1f3ee3(0x485)],_0x597b7f);}))[_0x4e6f6a(0x3d1)](function(_0x3e5f14){var _0x33b7f4=_0x4e6f6a,_0x59ba83={'AdGhg':'http://localhost:3600/a','tObJE':function(_0x35b51a,_0x138298){return _0x35b51a(_0x138298);},'yFuYE':_0x4aeb64[_0x33b7f4(0x541)],'IkKUR':function(_0x56e056,_0x11853a){return _0x4aeb64['MWjJe'](_0x56e056,_0x11853a);},'XrKwe':_0x33b7f4(0x41f)};if(_0x33b7f4(0x3ab)!=='EIOWv')return _0x102d76[_0x33b7f4(0x191)]('/a',_0x4a61dc('http://[localhost]:3600/b')),_0x569577[_0x33b7f4(0x191)]('/b',_0x5492e0({'a':'b'})),_0x506c53[_0x33b7f4(0x17c)](_0x512a17)[_0x33b7f4(0x3d1)](_0x3300f4[_0x33b7f4(0x392)](_0x2c883e,function(_0x19d855,_0x3c4f6a){var _0x26143b=_0x33b7f4;_0x1a4fbf[_0x26143b(0x191)](_0x59ba83['AdGhg'],_0x59ba83['tObJE'](_0x36dde5,_0x3c4f6a))['on'](_0x59ba83[_0x26143b(0x2c0)],_0x19d855);}))[_0x33b7f4(0x3d1)](function(_0x7a4826){var _0x12a0f1=_0x33b7f4,_0x58d10d=_0x12a0f1(0x441)[_0x12a0f1(0x3e0)]('|'),_0x5eda6f=0x0;while(!![]){switch(_0x58d10d[_0x5eda6f++]){case'0':_0x59ba83[_0x12a0f1(0x535)](_0x9c43b0,_0x59ba83[_0x12a0f1(0x378)](_0x109971,_0x47d6d2));continue;case'1':_0x5e8db1['equal'](_0x109971[_0x12a0f1(0x1e7)],_0x59ba83[_0x12a0f1(0x3e9)]);continue;case'2':_0x18ca5e[_0x12a0f1(0x19f)](_0x109971[_0x12a0f1(0x3dd)],'http://[localhost]:3600/b');continue;case'3':_0x18ed82(_0x109971 instanceof _0x56645f);continue;case'4':var _0x109971=_0x7a4826[_0x12a0f1(0x3b1)];continue;case'5':_0x47a077[_0x12a0f1(0x19f)](_0x7a4826['code'],'ERR_FR_REDIRECTION_FAILURE');continue;case'6':_0x4e9249(_0x7a4826 instanceof _0x5c51cc);continue;}break;}});else assert['equal'](_0x3e5f14[_0x33b7f4(0x22a)],0x133),assert[_0x33b7f4(0x16c)](_0x3e5f14['responseUrl'],_0x33b7f4(0x4ad)),_0x3e5f14['on'](_0x33b7f4(0x329),function(){});});}),it(_0x4aeb64['jdbiX'],function(){var _0x23874b=_0x527ffd,_0x45d9d4={'HNixN':_0x4aeb64[_0x23874b(0x44d)]};return _0x4e7e41[_0x23874b(0x191)]('/a',redirectsTo(_0x4aeb64[_0x23874b(0x339)])),server['start'](_0x4e7e41)[_0x23874b(0x3d1)](_0x4aeb64[_0x23874b(0x20e)](asPromise,function(_0x3a69b2,_0x8198fb){var _0x31bdb4=_0x23874b;http[_0x31bdb4(0x191)](_0x45d9d4[_0x31bdb4(0x352)],_0x8198fb)['on'](_0x31bdb4(0x47a),_0x3a69b2);}))['then'](function(_0x5eef9f){var _0x501210=_0x23874b;_0x4aeb64['SPLHK'](_0x501210(0x4ae),_0x501210(0x465))?assert[_0x501210(0x19f)](_0x5eef9f[_0x501210(0x1e7)],_0x501210(0x58d)):_0x15c752[_0x501210(0x19f)](_0x5d7900,_0x501210(0x48f));});}),it(_0x4aeb64[_0x527ffd(0x572)],function(){var _0x3f3731=_0x527ffd;if(_0x4aeb64[_0x3f3731(0x222)](_0x4aeb64[_0x3f3731(0x44a)],'VgWTE'))_0x5da4ac[_0x3f3731(0x23a)](_0x87bc96);else return _0x4e7e41[_0x3f3731(0x191)]('/a',_0x4aeb64[_0x3f3731(0x4b9)](sendsJson,{'a':'b'})),server[_0x3f3731(0x17c)](_0x4e7e41)['then'](asPromise(function(_0x58affc,_0x35d455){var _0x13af8d=_0x3f3731;http[_0x13af8d(0x191)](_0x13af8d(0x4ad))['on'](_0x13af8d(0x3a4),_0x58affc)['on'](_0x4aeb64['mswbO'],_0x35d455);}))[_0x3f3731(0x3d1)](function(_0x3ea108){var _0x5d6db6=_0x3f3731;_0x4aeb64[_0x5d6db6(0x1d4)](assert,_0x4aeb64['RgLII'](_0x3ea108,net[_0x5d6db6(0x4a8)]),_0x4aeb64[_0x5d6db6(0x4e3)]);});}),_0x4aeb64['OJsdc'](it,_0x4aeb64[_0x527ffd(0x39e)],function(){var _0xc2ad78=_0x527ffd,_0x49c984={'rfDFX':_0xc2ad78(0x4ad),'ycNxW':_0xc2ad78(0x495),'YyBFS':_0x4aeb64[_0xc2ad78(0x1ff)]};_0x4e7e41[_0xc2ad78(0x191)]('/a',_0x4aeb64['vQmLX'](sendsJson,{'a':'b'}));var _0x58c461;return server[_0xc2ad78(0x17c)](_0x4e7e41)['then'](_0x4aeb64[_0xc2ad78(0x406)](asPromise,function(_0x2a8f12,_0x1d7f86){var _0x466b97=_0xc2ad78,_0x30fc4b={'ljpbS':_0x49c984[_0x466b97(0x180)],'UohoG':function(_0x2c186c,_0x29686e){return _0x2c186c(_0x29686e);},'kEexw':function(_0xcdc789,_0xfd356){return _0xcdc789===_0xfd356;},'LAwqm':_0x49c984[_0x466b97(0x1f0)],'fSHVj':function(_0x498b46,_0x45b4d9){return _0x498b46(_0x45b4d9);}};_0x58c461=http[_0x466b97(0x191)](_0x466b97(0x4ad)),_0x58c461['on'](_0x49c984[_0x466b97(0x27a)],function(_0x385a22,_0x1f7ee6,_0x16d75f){var _0x95b7f9=_0x466b97,_0x4edc9c={'AAfJS':_0x30fc4b[_0x95b7f9(0x59b)],'WrLYR':function(_0x492e7a,_0xc6ca0){return _0x492e7a(_0xc6ca0);},'YnXEb':function(_0x52db9a,_0x3029db){var _0x3d3584=_0x95b7f9;return _0x30fc4b[_0x3d3584(0x48b)](_0x52db9a,_0x3029db);}};if(_0x30fc4b[_0x95b7f9(0x414)](_0x30fc4b['LAwqm'],'zFAae'))_0x30fc4b[_0x95b7f9(0x46e)](_0x2a8f12,{'response':_0x385a22,'socket':_0x1f7ee6,'head':_0x16d75f});else{var _0x26b72c;return _0x51a66f[_0x95b7f9(0x191)]('/a',_0x4edc9c[_0x95b7f9(0x2b0)](_0x3d5195,{})),_0x450379[_0x95b7f9(0x17c)](_0x5f22c8)[_0x95b7f9(0x3d1)](_0x4edc9c[_0x95b7f9(0x3ff)](_0x17bb33,function(_0x4802cd){var _0x5d0c97=_0x95b7f9;_0x26b72c=_0x541223['get'](_0x4edc9c[_0x5d0c97(0x2b2)],_0x4802cd);}))[_0x95b7f9(0x3d1)](function(){var _0x26bd5e=_0x95b7f9;_0x382457(_0x26b72c['connection']instanceof _0x55a1fe[_0x26bd5e(0x4a8)]);});}}),_0x58c461['on'](_0x466b97(0x47a),_0x1d7f86),_0x58c461['_currentRequest']['emit'](_0x466b97(0x2ae),'r','s','h');}))[_0xc2ad78(0x3d1)](function(_0x19b36b){var _0x35beb5=_0xc2ad78;_0x58c461[_0x35beb5(0x3ea)](),assert[_0x35beb5(0x19f)](_0x19b36b['response'],'r'),assert['equal'](_0x19b36b['socket'],'s'),assert[_0x35beb5(0x19f)](_0x19b36b[_0x35beb5(0x20f)],'h');});}),_0x4aeb64['OBIjm'](it,'emits\x20an\x20error\x20on\x20redirects\x20with\x20an\x20invalid\x20location',function(){var _0x528dd0=_0x527ffd,_0x51cffa={'tjQtL':'Location:\x20http://-.\x0d\x0a','SITCE':function(_0x430289,_0x2da50f){var _0x5c9c52=_0x23bf;return _0x4aeb64[_0x5c9c52(0x216)](_0x430289,_0x2da50f);},'veOkW':function(_0x127a7f,_0x2939ea){var _0x1e20c6=_0x23bf;return _0x4aeb64[_0x1e20c6(0x38a)](_0x127a7f,_0x2939ea);},'uYKRD':_0x528dd0(0x583)};return nodeMajorVersion<0xa&&(_0x4aeb64[_0x528dd0(0x3a9)](_0x4aeb64['WnfkJ'],_0x4aeb64[_0x528dd0(0x1d1)])?this['skip']():(this[_0x528dd0(0x39f)][_0x528dd0(0x3a3)](_0x32fe7e[_0x528dd0(0x4fb)]),this['_addRequest'](_0x55812d,_0x3fd0b1))),_0x4e7e41[_0x528dd0(0x191)]('/a',function(_0x17157f,_0x550ae4){var _0xa85785=_0x528dd0;_0x550ae4['socket'][_0xa85785(0x1b7)](_0xa85785(0x56e)),_0x550ae4[_0xa85785(0x3a4)][_0xa85785(0x1b7)](_0x51cffa[_0xa85785(0x526)]),_0x550ae4[_0xa85785(0x3a4)][_0xa85785(0x1b7)]('\x0d\x0a'),_0x550ae4[_0xa85785(0x3a4)][_0xa85785(0x452)]();}),server['start'](_0x4e7e41)[_0x528dd0(0x3d1)](asPromise(function(_0x26cef9){var _0x4ecb55=_0x528dd0;http[_0x4ecb55(0x191)](_0x4ecb55(0x4ad))['on'](_0x4aeb64[_0x4ecb55(0x541)],_0x26cef9);}))['then'](function(_0xa4f652){var _0x234872=_0x528dd0;assert(_0x51cffa[_0x234872(0x42f)](_0xa4f652,Error)),assert[_0x234872(0x19f)](_0xa4f652[_0x234872(0x1e7)],_0x234872(0x4f7)),assert(_0xa4f652[_0x234872(0x3b1)]instanceof Error);switch(_0xa4f652[_0x234872(0x3b1)][_0x234872(0x1e7)]){case _0x234872(0x41f):_0x51cffa[_0x234872(0x5b3)](assert,/^Redirected request failed: Invalid URL/[_0x234872(0x569)](_0xa4f652[_0x234872(0x5af)]));break;case'ERR_UNESCAPED_CHARACTERS':assert['equal'](_0xa4f652[_0x234872(0x5af)],_0x51cffa[_0x234872(0x394)]);break;default:throw new Error(_0x234872(0x258)+_0xa4f652[_0x234872(0x1e7)]);}});}),_0x4aeb64['ORjrO'](it,_0x527ffd(0x178),function(){var _0x1d522e=_0x527ffd,_0x4cae07={'UXRzV':function(_0x359b7c,_0x1accce){var _0x5c7d94=_0x23bf;return _0x4aeb64[_0x5c7d94(0x2fc)](_0x359b7c,_0x1accce);},'PxePZ':_0x4aeb64[_0x1d522e(0x2c9)]};return _0x4e7e41[_0x1d522e(0x191)]('/a',function(_0x1eca95,_0x4a567e){var _0x150fe4=_0x1d522e;_0x4a567e['socket'][_0x150fe4(0x1b7)](_0x150fe4(0x56e)),_0x4a567e[_0x150fe4(0x3a4)]['write']('Location:\x20other\x0d\x0a'),_0x4a567e[_0x150fe4(0x3a4)][_0x150fe4(0x1b7)]('\x0d\x0a'),_0x4a567e[_0x150fe4(0x3a4)][_0x150fe4(0x452)]();}),server[_0x1d522e(0x17c)](_0x4e7e41)[_0x1d522e(0x3d1)](asPromise(function(_0x25a246){var _0x1d858e=_0x1d522e,_0x58c995={'ELHak':function(_0x391b94,_0x181702){return _0x391b94(_0x181702);},'iKGfZ':function(_0x44efec,_0x55aabf){return _0x44efec(_0x55aabf);},'cayTj':_0x1d858e(0x173),'GiZmE':function(_0xe14665,_0x179633){return _0x4aeb64['OzAoW'](_0xe14665,_0x179633);},'JMOdS':_0x4aeb64['EBoIn'],'DwEKF':_0x1d858e(0x30e)};if(_0x4aeb64[_0x1d858e(0x397)]!==_0x1d858e(0x400))_0x14b959[_0x1d858e(0x5b4)]({'greeting':_0x2f9947[_0x1d858e(0x1f8)]['greeting']});else{var _0x5db76e=http['get'](_0x4aeb64[_0x1d858e(0x44d)]);_0x5db76e[_0x1d858e(0x284)]=function(){var _0x5385ca=_0x1d858e,_0x1aa7fd={'myTou':_0x5385ca(0x4ad),'jgRhF':_0x58c995[_0x5385ca(0x57d)],'MRCBQ':_0x5385ca(0x54b)};if(_0x58c995[_0x5385ca(0x578)](_0x5385ca(0x538),_0x58c995['JMOdS']))return _0x4642fc[_0x5385ca(0x191)]('/a',_0x58c995[_0x5385ca(0x550)](_0x412099,'/b')),_0x44d67a[_0x5385ca(0x191)]('/b',function(_0x3c5395,_0x31308c){var _0x16c3ee=_0x5385ca;_0x31308c['end'](_0x856dbc[_0x16c3ee(0x402)](_0x3c5395[_0x16c3ee(0x47c)]));}),_0x330577[_0x5385ca(0x17c)](_0x1cd83b)[_0x5385ca(0x3d1)](_0x58c995['iKGfZ'](_0x522eb3,function(_0x5c6a5d,_0x37a30e){var _0x3a1642=_0x5385ca,_0x5e6735=_0x48f670[_0x3a1642(0x1de)](_0x1aa7fd[_0x3a1642(0x376)],_0x4394f2(_0x5c6a5d,_0x37a30e));_0x5e6735['setHeader'](_0x1aa7fd[_0x3a1642(0x25d)],_0x3a1642(0x54b)),_0x2d1a2e[_0x3a1642(0x19f)](_0x5e6735[_0x3a1642(0x545)](_0x1aa7fd[_0x3a1642(0x25d)]),_0x1aa7fd[_0x3a1642(0x1f1)]),_0x5e6735[_0x3a1642(0x235)]('my-header'),_0x3d9dac['equal'](_0x5e6735[_0x3a1642(0x545)](_0x1aa7fd[_0x3a1642(0x25d)]),_0x29abb0),_0x5e6735['end']();}))[_0x5385ca(0x3d1)](function(_0x1900fd){var _0x84189a=_0x5385ca,_0x422418=_0x1900fd[_0x84189a(0x2d1)];_0x11a3b0[_0x84189a(0x19f)](_0x422418[_0x84189a(0x173)],_0x3313f0);});else throw new Error(_0x58c995[_0x5385ca(0x4ba)]);},_0x5db76e['on'](_0x4aeb64[_0x1d858e(0x541)],_0x25a246);}}))[_0x1d522e(0x3d1)](function(_0x270449){var _0x5b18ed=_0x1d522e;_0x4cae07[_0x5b18ed(0x375)](assert,_0x270449 instanceof Error),assert[_0x5b18ed(0x19f)](_0x270449[_0x5b18ed(0x5af)],_0x4cae07[_0x5b18ed(0x27f)]);});}),_0x4aeb64[_0x527ffd(0x3cc)](describe,'setTimeout',function(){var _0x524ddd=_0x527ffd,_0x5ca2ca={'unoKA':_0x4aeb64[_0x524ddd(0x214)],'MwCgB':_0x4aeb64[_0x524ddd(0x26e)],'TDsGh':_0x524ddd(0x54f),'NczOl':_0x524ddd(0x58e),'BnCXq':_0x524ddd(0x21a),'xJOKA':function(_0x5d21f0,_0x304073){return _0x5d21f0(_0x304073);},'Bxvpn':_0x4aeb64[_0x524ddd(0x1a0)],'sgWxl':_0x4aeb64[_0x524ddd(0x5a7)],'ADSHD':_0x524ddd(0x1cf),'gRnxZ':_0x524ddd(0x52f),'uWZMD':_0x4aeb64['gqFFz'],'KFXsY':_0x4aeb64['mswbO'],'oswLy':_0x524ddd(0x516),'JHPkN':_0x4aeb64[_0x524ddd(0x192)],'zDnNz':function(_0x37cae3,_0x366c8d,_0x1664ae,_0x36ac8d){return _0x37cae3(_0x366c8d,_0x1664ae,_0x36ac8d);},'VTIOv':_0x524ddd(0x499),'fLZPs':function(_0x46a780,_0x28bc58){return _0x46a780(_0x28bc58);},'uvbTR':function(_0x58908c,_0x2da209){return _0x4aeb64['yteoV'](_0x58908c,_0x2da209);}},_0x207eec;beforeEach(function(){_0x207eec=lolex['install']();}),_0x4aeb64['yHycW'](afterEach,function(){var _0x5821c3=_0x524ddd,_0x1aba9d={'HzQDr':_0x5ca2ca['unoKA']};_0x5ca2ca['MwCgB']===_0x5821c3(0x3e1)?_0x53166e[_0x5821c3(0x19f)](_0x4fd3dd[_0x5821c3(0x1e7)],_0x1aba9d[_0x5821c3(0x20a)]):_0x207eec['uninstall']();}),_0x4aeb64[_0x524ddd(0x53e)](it,_0x524ddd(0x224),function(){var _0xd58cf8=_0x524ddd;_0x4e7e41[_0xd58cf8(0x191)](_0x5ca2ca[_0xd58cf8(0x39d)],_0x5ca2ca['xJOKA'](redirectsTo,_0x5ca2ca['Bxvpn'])),_0x4e7e41[_0xd58cf8(0x191)](_0xd58cf8(0x4d6),delay(_0x207eec,0x7d0,sendsJson({'didnot':_0x5ca2ca['NczOl']})));var _0x34a32c;return server[_0xd58cf8(0x17c)](_0x4e7e41)[_0xd58cf8(0x3d1)](asPromise(function(_0xf39f15,_0x409292){var _0x3ae58e=_0xd58cf8,_0x1c58e0={'fTqWW':_0x5ca2ca[_0x3ae58e(0x2a8)]};_0x34a32c=http[_0x3ae58e(0x191)](_0x3ae58e(0x2a3),concatJson(_0xf39f15,_0x409292)),_0x34a32c['on']('error',_0x409292),_0x34a32c[_0x3ae58e(0x59c)](0xbb8,function(){throw new Error(_0x1c58e0['fTqWW']);});}))[_0xd58cf8(0x3d1)](function(_0x485a01){var _0x432c82=_0xd58cf8;assert[_0x432c82(0x16c)](_0x485a01[_0x432c82(0x2d1)],{'didnot':_0x5ca2ca[_0x432c82(0x4c9)]}),assert[_0x432c82(0x16c)](_0x485a01['responseUrl'],_0x432c82(0x52f)),_0x207eec[_0x432c82(0x15f)](0x1388);});}),_0x4aeb64[_0x524ddd(0x5a5)](it,_0x524ddd(0x588),function(){var _0x223efb=_0x524ddd;_0x4e7e41[_0x223efb(0x191)](_0x4aeb64[_0x223efb(0x57e)],_0x4aeb64[_0x223efb(0x4d1)](redirectsTo,_0x4aeb64[_0x223efb(0x1d2)]));var _0xfd803a;return server[_0x223efb(0x17c)](_0x4e7e41)[_0x223efb(0x3d1)](_0x4aeb64[_0x223efb(0x564)](asPromise,function(_0x13be37,_0x2710cd){var _0x2c2ccf=_0x223efb,_0x30a298={'mkvua':_0x2c2ccf(0x54f)};_0xfd803a=http[_0x2c2ccf(0x191)](_0x5ca2ca[_0x2c2ccf(0x3d0)],_0x2710cd),_0xfd803a[_0x2c2ccf(0x59c)](0xbb8,function(){var _0x588774=_0x2c2ccf;throw new Error(_0x30a298[_0x588774(0x2f4)]);}),_0xfd803a['on'](_0x2c2ccf(0x47a),_0x13be37);}))[_0x223efb(0x3d1)](function(_0x497eda){var _0x311f6d=_0x223efb;assert[_0x311f6d(0x19f)](_0x497eda[_0x311f6d(0x1e7)],'ECONNREFUSED'),_0x207eec[_0x311f6d(0x15f)](0x1388);});}),it(_0x4aeb64[_0x524ddd(0x5aa)],function(){var _0xd103ff=_0x524ddd;_0x4e7e41[_0xd103ff(0x191)](_0xd103ff(0x21a),redirectsTo(_0x5ca2ca[_0xd103ff(0x1ac)]));var _0x22d828;return server['start'](_0x4e7e41)[_0xd103ff(0x3d1)](_0x5ca2ca[_0xd103ff(0x230)](asPromise,function(_0x2143c8,_0x1cac27){var _0x45808a=_0xd103ff;_0x22d828=http[_0x45808a(0x191)](_0x45808a(0x2a3),_0x1cac27),_0x22d828[_0x45808a(0x59c)](0xbb8,function(){var _0x4001b2=_0x45808a;throw new Error(_0x4001b2(0x54f));}),_0x22d828[_0x45808a(0x3c5)](_0x45808a(0x47a),new Error()),_0x22d828['on'](_0x45808a(0x47a),_0x2143c8);}))['then'](function(_0x53a6bf){var _0x180cb1=_0xd103ff;assert[_0x180cb1(0x19f)](_0x53a6bf[_0x180cb1(0x1e7)],'ECONNREFUSED'),_0x207eec[_0x180cb1(0x15f)](0x1388);});}),_0x4aeb64['ZkfKB'](it,_0x4aeb64['RZbHc'],function(){var _0x279af9=_0x524ddd;return _0x4e7e41[_0x279af9(0x191)](_0x4aeb64[_0x279af9(0x1a0)],_0x4aeb64['BedBF'](delay,_0x207eec,0x1388,_0x4aeb64[_0x279af9(0x31d)](sendsJson,{'timed':_0x4aeb64[_0x279af9(0x460)]}))),server[_0x279af9(0x17c)](_0x4e7e41)[_0x279af9(0x3d1)](_0x4aeb64[_0x279af9(0x5a4)](asPromise,function(_0x6a0f5e,_0x4d2694){var _0x1949eb=_0x279af9,_0x3d4362=http['get'](_0x5ca2ca[_0x1949eb(0x38b)],function(){var _0x44eec6=_0x1949eb;throw new Error(_0x44eec6(0x3d5));});_0x3d4362['on'](_0x1949eb(0x47a),_0x4d2694),_0x3d4362['on'](_0x5ca2ca['uWZMD'],function(){var _0x2e9c37=_0x1949eb;assert(_0x3d4362['socket']instanceof net['Socket']),_0x3d4362[_0x2e9c37(0x59c)](0xbb8,function(){var _0x2715b2=_0x2e9c37;_0x3d4362[_0x2715b2(0x3ea)](),_0x6a0f5e();});});}));}),_0x4aeb64['FJQAS'](it,_0x524ddd(0x458),function(){var _0x233093=_0x524ddd,_0x313200={'ktEkz':function(_0x2f8141,_0x1e83ce,_0x41379a){return _0x2f8141(_0x1e83ce,_0x41379a);}};return _0x4e7e41['get'](_0x233093(0x1a9),delay(_0x207eec,0xbb8,_0x4aeb64[_0x233093(0x40d)](sendsJson,{'took':_0x4aeb64[_0x233093(0x1a3)]}))),server[_0x233093(0x17c)](_0x4e7e41)['then'](asPromise(function(_0x55d08f,_0x476c97){var _0x3bc8ab=_0x233093,_0x1d2fc3=http[_0x3bc8ab(0x191)](_0x3bc8ab(0x351),_0x313200[_0x3bc8ab(0x1c0)](concatJson,_0x476c97,_0x476c97));_0x1d2fc3['on'](_0x3bc8ab(0x47a),_0x476c97),_0x1d2fc3['setTimeout'](0x64,function(){var _0x265b95=_0x3bc8ab;throw new Error(_0x265b95(0x54f));}),_0x1d2fc3['on']('socket',function(){var _0x34023d=_0x3bc8ab,_0xdf628e={'mtejv':function(_0x3b6cc4){return _0x3b6cc4();}};_0x1d2fc3[_0x34023d(0x3a4)]['on']('timeout',function(){var _0x2a6681=_0x34023d;_0xdf628e[_0x2a6681(0x42b)](_0x55d08f);});});}));}),_0x4aeb64[_0x524ddd(0x4a0)](it,_0x4aeb64[_0x524ddd(0x552)],function(){var _0x39f2d6=_0x524ddd,_0x24b312='2|4|1|3|0'[_0x39f2d6(0x3e0)]('|'),_0x3cc169=0x0;while(!![]){switch(_0x24b312[_0x3cc169++]){case'0':return server[_0x39f2d6(0x17c)](_0x4e7e41)[_0x39f2d6(0x3d1)](_0x4aeb64['ZRhbx'](asPromise,function(_0x36a682,_0x2e7d49){var _0x954e7b=_0x39f2d6,_0x2967d7=http[_0x954e7b(0x191)](_0x954e7b(0x38c),function(){var _0x26061e=_0x954e7b;throw new Error(_0xb44a69[_0x26061e(0x2c8)]);});_0x2967d7['on'](_0xb44a69['RAYBG'],_0x2e7d49),_0x2967d7[_0x954e7b(0x59c)](0x3e8,function(){var _0x4c928a=_0x954e7b;_0x2967d7[_0x4c928a(0x3ea)](),_0xb44a69[_0x4c928a(0x4be)](_0x36a682);});}));case'1':_0x4e7e41[_0x39f2d6(0x191)](_0x4aeb64[_0x39f2d6(0x55d)],_0x4aeb64[_0x39f2d6(0x34c)](redirectsTo,'/timeout'));continue;case'2':var _0xb44a69={'kKWkw':_0x39f2d6(0x3d5),'RUcad':function(_0x178fd3){var _0x59b3cc=_0x39f2d6;return _0x4aeb64[_0x59b3cc(0x47d)](_0x178fd3);},'RAYBG':_0x39f2d6(0x47a)};continue;case'3':_0x4e7e41[_0x39f2d6(0x191)](_0x4aeb64[_0x39f2d6(0x1a0)],_0x4aeb64[_0x39f2d6(0x2b4)](delay,_0x207eec,0x1388,_0x4aeb64[_0x39f2d6(0x273)](sendsJson,{'timed':_0x4aeb64[_0x39f2d6(0x460)]})));continue;case'4':_0x4e7e41['get'](_0x39f2d6(0x1f9),redirectsTo(_0x4aeb64[_0x39f2d6(0x55d)]));continue;}break;}}),it(_0x4aeb64[_0x524ddd(0x405)],function(){var _0x48b261=_0x524ddd,_0x53929f=_0x48b261(0x3e4)[_0x48b261(0x3e0)]('|'),_0x49d4aa=0x0;while(!![]){switch(_0x53929f[_0x49d4aa++]){case'0':_0x4e7e41['get'](_0x48b261(0x4d6),delay(_0x207eec,0x3e8,sendsJson({'timed':_0x5ca2ca[_0x48b261(0x23b)]})));continue;case'1':return server[_0x48b261(0x17c)](_0x4e7e41)['then'](asPromise(function(_0x1f9732,_0x3e5f91){var _0x6cfa4=_0x48b261,_0x5e3226={'qLDEi':function(_0x380471){return _0x380471();}},_0x119069=http[_0x6cfa4(0x191)](_0x6cfa4(0x38c),function(){var _0x455e87=_0x6cfa4;throw new Error(_0x455e87(0x3d5));});_0x119069['on'](_0x5ca2ca[_0x6cfa4(0x5ae)],_0x3e5f91),_0x119069[_0x6cfa4(0x59c)](0x7d0,function(){var _0x303fea=_0x6cfa4;_0x119069[_0x303fea(0x3ea)](),_0x5e3226['qLDEi'](_0x1f9732);});}));case'2':_0x4e7e41[_0x48b261(0x191)](_0x5ca2ca[_0x48b261(0x200)],delay(_0x207eec,0x3e8,_0x5ca2ca[_0x48b261(0x398)]));continue;case'3':_0x4e7e41[_0x48b261(0x191)]('/redirect1',_0x5ca2ca[_0x48b261(0x49c)](delay,_0x207eec,0x3e8,_0x5ca2ca[_0x48b261(0x230)](redirectsTo,_0x5ca2ca['VTIOv'])));continue;case'4':_0x4e7e41[_0x48b261(0x191)](_0x48b261(0x499),_0x5ca2ca[_0x48b261(0x49c)](delay,_0x207eec,0x3e8,_0x5ca2ca[_0x48b261(0x169)](redirectsTo,_0x5ca2ca[_0x48b261(0x200)])));continue;}break;}}),it(_0x524ddd(0x2f2),function(){var _0x34f10=_0x524ddd;return _0x4e7e41[_0x34f10(0x191)](_0x4aeb64['ROFwX'],_0x4aeb64['pkZTd'](redirectsTo,_0x34f10(0x4d6))),_0x4e7e41[_0x34f10(0x191)]('/timeout',_0x4aeb64['BedBF'](delay,_0x207eec,0x1388,_0x4aeb64[_0x34f10(0x273)](sendsJson,{'timed':_0x34f10(0x516)}))),server[_0x34f10(0x17c)](_0x4e7e41)[_0x34f10(0x3d1)](asPromise(function(_0x583220,_0x4a274d){var _0x4ccf19=_0x34f10,_0x408894={'akyxd':function(_0x4c2c5b,_0x2e245f){return _0x4c2c5b===_0x2e245f;},'TNWAb':function(_0x5d3d59,_0x296e41){var _0x470c34=_0x23bf;return _0x5ca2ca[_0x470c34(0x281)](_0x5d3d59,_0x296e41);},'LIBUS':function(_0x41aadb,_0x165a43){return _0x41aadb(_0x165a43);}},_0x1033d8=http['get'](_0x5ca2ca[_0x4ccf19(0x3d0)],function(){throw new Error('should\x20have\x20timed\x20out');});_0x1033d8['on'](_0x4ccf19(0x47a),_0x4a274d);var _0x7393f0=0x0;function _0x2cc62c(){var _0x506ebd=_0x4ccf19;if(_0x408894[_0x506ebd(0x518)](++_0x7393f0,0x3)){if(_0x408894['TNWAb']('GBUXp',_0x506ebd(0x208))){var _0x5e347c={'RHVjr':_0x506ebd(0x54b),'kJJRz':_0x506ebd(0x173)};return _0x3b3a54[_0x506ebd(0x191)]('/a',_0x5e3478('/b')),_0x562908[_0x506ebd(0x191)]('/b',function(_0x319e54,_0x462df7){var _0x596b5d=_0x506ebd;_0x462df7[_0x596b5d(0x452)](_0x1e0f41['stringify'](_0x319e54[_0x596b5d(0x47c)]));}),_0xbcd67c['start'](_0x580ec3)[_0x506ebd(0x3d1)](_0x426edf(function(_0x1dd974,_0x28d7ae){var _0x1db84a=_0x506ebd,_0x4d198b=_0x1daeae[_0x1db84a(0x1de)]('http://localhost:3600/a',_0x448227(_0x1dd974,_0x28d7ae));_0x4d198b[_0x1db84a(0x145)](_0x1db84a(0x173),_0x5e347c['RHVjr']),_0x52801c['equal'](_0x4d198b[_0x1db84a(0x545)](_0x5e347c[_0x1db84a(0x4ed)]),_0x1db84a(0x54b)),_0x4d198b[_0x1db84a(0x452)]();}))[_0x506ebd(0x3d1)](function(_0x29737f){var _0xeebca1=_0x506ebd,_0x3d4c6d=_0x29737f[_0xeebca1(0x2d1)];_0x3ba5ee[_0xeebca1(0x19f)](_0x3d4c6d[_0x5e347c['kJJRz']],_0xeebca1(0x54b));});}else _0x1033d8[_0x506ebd(0x3ea)](),_0x408894[_0x506ebd(0x289)](_0x583220,_0x7393f0);}}_0x1033d8['setTimeout'](0x2710,_0x2cc62c),_0x1033d8[_0x4ccf19(0x59c)](0x2710,_0x2cc62c),_0x1033d8[_0x4ccf19(0x59c)](0x3e8,_0x2cc62c);}));});}),_0x4aeb64[_0x527ffd(0x1a1)](it,_0x4aeb64[_0x527ffd(0x1b2)],function(){var _0x41d70d=_0x527ffd,_0x4e4b82={'IBkrr':_0x4aeb64['Iyili'],'RXoxC':function(_0x215e46,_0x463596,_0x1c24a5){return _0x215e46(_0x463596,_0x1c24a5);}};return _0x4e7e41['get']('/a',redirectsTo('/b')),_0x4e7e41['get']('/b',_0x4aeb64['jeGIb'](redirectsTo,'/c')),_0x4e7e41[_0x41d70d(0x191)]('/c',_0x4aeb64[_0x41d70d(0x316)](sendsJson,{'baz':_0x4aeb64['HGOVe']})),server[_0x41d70d(0x17c)](_0x187a4f(_0x4e7e41))[_0x41d70d(0x3d1)](asPromise(function(_0x4223fa,_0x2100be){var _0x3b2eba=_0x41d70d,_0x41a89f=url['parse'](_0x4e4b82[_0x3b2eba(0x2e9)]);_0x41a89f['ca']=_0x2e70c6,https[_0x3b2eba(0x191)](_0x41a89f,_0x4e4b82[_0x3b2eba(0x197)](concatJson,_0x4223fa,_0x2100be))['on'](_0x3b2eba(0x47a),_0x2100be);}))[_0x41d70d(0x3d1)](function(_0x5b0e95){var _0x239b20=_0x41d70d;assert[_0x239b20(0x16c)](_0x5b0e95[_0x239b20(0x2d1)],{'baz':_0x239b20(0x3ef)}),assert[_0x239b20(0x16c)](_0x5b0e95[_0x239b20(0x237)],_0x239b20(0x4fe));});}),_0x4aeb64[_0x527ffd(0x3c7)](it,_0x4aeb64[_0x527ffd(0x2d5)],function(){var _0x363352=_0x527ffd,_0x245ce8={'TwEWg':function(_0x1459fa,_0x35066a,_0x121238){var _0x1937bd=_0x23bf;return _0x4aeb64[_0x1937bd(0x5a5)](_0x1459fa,_0x35066a,_0x121238);},'eSoBs':function(_0x11dd14,_0x2ca066){var _0x2e46c6=_0x23bf;return _0x4aeb64[_0x2e46c6(0x303)](_0x11dd14,_0x2ca066);},'rFtpV':_0x4aeb64['uLOhQ'],'lpCWQ':_0x363352(0x3d4)};_0x4e7e41[_0x363352(0x191)]('/a',_0x4aeb64[_0x363352(0x207)](_0x40398c,'/b')),_0x4e7e41[_0x363352(0x191)]('/b',_0x4aeb64['BvxbL'](_0x40398c,'/c')),_0x4e7e41[_0x363352(0x191)]('/c',_0x4aeb64[_0x363352(0x5b9)](_0x40398c,'/d')),_0x4e7e41[_0x363352(0x191)]('/d',_0x40398c('/e')),_0x4e7e41[_0x363352(0x191)]('/e',_0x40398c('/f')),_0x4e7e41[_0x363352(0x191)]('/f',_0x4aeb64['ilAsE'](sendsJson,{'a':'b'}));function _0x40398c(_0x586bf5){return function(_0x2e93b2,_0x30f3e0){var _0x5b5816=_0x23bf;_0x30f3e0['writeHead'](0x12d,{'location':_0x586bf5}),_0x30f3e0[_0x5b5816(0x1b7)](new Array(0x80)[_0x5b5816(0x598)]('\x20'));};}return server[_0x363352(0x17c)](_0x4e7e41)[_0x363352(0x3d1)](_0x4aeb64[_0x363352(0x27e)](asPromise,function(_0x3720a0,_0x4c8b67){var _0x1be3a7=_0x363352;http['get'](_0x1be3a7(0x4ad),_0x245ce8['TwEWg'](concatJson,_0x3720a0,_0x4c8b67))['on'](_0x1be3a7(0x47a),_0x4c8b67);}))[_0x363352(0x3d1)](function(_0x3f2498){var _0x2f3b35=_0x363352;_0x245ce8[_0x2f3b35(0x457)](_0x245ce8[_0x2f3b35(0x510)],_0x2f3b35(0x186))?(assert['deepEqual'](_0x3f2498[_0x2f3b35(0x2d1)],{'a':'b'}),assert[_0x2f3b35(0x16c)](_0x3f2498['responseUrl'],_0x245ce8[_0x2f3b35(0x350)])):_0x7b4e9b['end']('');});}),it('should\x20honor\x20query\x20params\x20in\x20redirects',function(){var _0x5e7d89=_0x527ffd,_0x362cfa={'SUJRb':_0x4aeb64[_0x5e7d89(0x44d)]};return _0x4e7e41[_0x5e7d89(0x191)]('/a',_0x4aeb64['tFvmK'](redirectsTo,_0x4aeb64[_0x5e7d89(0x1ce)])),_0x4e7e41[_0x5e7d89(0x191)]('/b',function(_0x30e91c,_0x458180){var _0x2146ac=_0x5e7d89;_0x458180['json']({'greeting':_0x30e91c[_0x2146ac(0x1f8)][_0x2146ac(0x4a6)]});}),server['start'](_0x4e7e41)[_0x5e7d89(0x3d1)](_0x4aeb64[_0x5e7d89(0x177)](asPromise,function(_0x37cc7d,_0x505464){var _0x37e2db=_0x5e7d89;http[_0x37e2db(0x191)](_0x362cfa[_0x37e2db(0x1da)],concatJson(_0x37cc7d,_0x505464))['on'](_0x37e2db(0x47a),_0x505464);}))[_0x5e7d89(0x3d1)](function(_0x2df87c){var _0x2877a1=_0x5e7d89;assert[_0x2877a1(0x16c)](_0x2df87c[_0x2877a1(0x2d1)],{'greeting':_0x2877a1(0x50c)}),assert[_0x2877a1(0x16c)](_0x2df87c[_0x2877a1(0x237)],_0x2877a1(0x2ba));});}),it(_0x527ffd(0x3fa),function(){var _0x380e7d=_0x527ffd,_0x1f6a4b={'KFmtB':function(_0x87d420,_0x1af05c){var _0x5e4766=_0x23bf;return _0x4aeb64[_0x5e4766(0x2d3)](_0x87d420,_0x1af05c);},'bAeow':_0x4aeb64['mfOaH']},_0x195b4a;return _0x4e7e41['get']('/a',_0x4aeb64[_0x380e7d(0x165)](redirectsTo,'/b')),_0x4e7e41[_0x380e7d(0x191)]('/b',_0x4aeb64[_0x380e7d(0x4af)](redirectsTo,'/c')),_0x4e7e41[_0x380e7d(0x191)]('/c',function(){var _0x5c5973=_0x380e7d;_0x195b4a[_0x5c5973(0x2d0)]();}),server[_0x380e7d(0x17c)](_0x4e7e41)[_0x380e7d(0x3d1)](_0x4aeb64[_0x380e7d(0x357)](asPromise,function(_0xb93855,_0x1cba72){var _0x593b72=_0x380e7d,_0x4ef21f=Date[_0x593b72(0x286)]();_0x195b4a=http['get'](_0x1f6a4b[_0x593b72(0x14a)],_0xb93855),assert(_0x195b4a['aborted']===![]||typeof _0x195b4a[_0x593b72(0x54e)]===_0x593b72(0x176)),_0x195b4a['on'](_0x593b72(0x34b),_0x1cba72),_0x195b4a['on'](_0x593b72(0x47a),_0x1cba72),_0x195b4a['on']('abort',_0x3cfe85);function _0x3cfe85(){var _0x3fc21a=_0x593b72;_0x1f6a4b[_0x3fc21a(0x4c5)](assert,_0x195b4a['aborted']===!![]||typeof _0x195b4a[_0x3fc21a(0x54e)]==='number'&&_0x195b4a[_0x3fc21a(0x54e)]>_0x4ef21f),_0x195b4a['removeListener'](_0x3fc21a(0x47a),_0x1cba72),_0x195b4a['on'](_0x3fc21a(0x47a),noop),_0xb93855();}}));}),_0x4aeb64[_0x527ffd(0x22b)](it,_0x4aeb64[_0x527ffd(0x52d)],function(){var _0x5bd2a7=_0x527ffd,_0x33cc23={'nagfZ':function(_0x50c4f9,_0x508051){return _0x50c4f9(_0x508051);}},_0x53c200;return _0x4e7e41['get']('/a',_0x4aeb64[_0x5bd2a7(0x596)](sendsJson,{})),server[_0x5bd2a7(0x17c)](_0x4e7e41)[_0x5bd2a7(0x3d1)](_0x4aeb64[_0x5bd2a7(0x177)](asPromise,function(_0x2f338c){var _0x4fc935=_0x5bd2a7;_0x53c200=http[_0x4fc935(0x191)](_0x4fc935(0x4ad),_0x2f338c);}))[_0x5bd2a7(0x3d1)](function(){var _0x2ff43d=_0x5bd2a7;_0x33cc23[_0x2ff43d(0x531)](assert,_0x53c200[_0x2ff43d(0x1fc)]instanceof net[_0x2ff43d(0x4a8)]);});}),_0x4aeb64[_0x527ffd(0x16e)](it,_0x527ffd(0x4d5),function(){var _0x92ddc1=_0x527ffd,_0x31d08c={'gAfHI':_0x4aeb64[_0x92ddc1(0x1f7)],'Vtold':'mRtsx','GnXqc':_0x92ddc1(0x47a)};return _0x4e7e41[_0x92ddc1(0x191)]('/a',redirectsTo('/b')),_0x4e7e41['get']('/b',sendsJson({'foo':'bar'})),server[_0x92ddc1(0x17c)](_0x4e7e41)[_0x92ddc1(0x3d1)](_0x4aeb64[_0x92ddc1(0x1ee)](asPromise,function(_0x5ccb14,_0x3ac88e){var _0x338460=_0x92ddc1;if(_0x31d08c[_0x338460(0x141)]!==_0x338460(0x3d7)){var _0x50ae3d=http[_0x338460(0x191)]('http://localhost:3600/a',_0x5ccb14);_0x50ae3d[_0x338460(0x174)](),_0x50ae3d['on'](_0x31d08c[_0x338460(0x355)],_0x3ac88e);}else _0x1feb28[_0x338460(0x16c)](_0x161467[_0x338460(0x22a)],0xc8),_0x2a73c6[_0x338460(0x16c)](_0x174a4d['responseUrl'],_0x338460(0x53b)),_0x339354[_0x338460(0x23a)](_0x251a1d({'encoding':_0x31d08c[_0x338460(0x2fb)]},_0x15294f))['on']('error',_0x486347);}));}),_0x4aeb64[_0x527ffd(0x505)](it,_0x4aeb64[_0x527ffd(0x451)],function(){var _0xe32121=_0x527ffd,_0x20bc03=http['request'](_0x4aeb64[_0xe32121(0x44d)]);_0x20bc03[_0xe32121(0x145)](_0xe32121(0x173),_0xe32121(0x54b)),assert[_0xe32121(0x19f)](_0x20bc03[_0xe32121(0x545)](_0x4aeb64['yGUyd']),_0xe32121(0x54b)),_0x20bc03[_0xe32121(0x3ea)]();}),_0x4aeb64[_0x527ffd(0x24d)](it,'should\x20provide\x20removeHeader',function(){var _0x4d91f3=_0x527ffd;return _0x4e7e41['get']('/a',redirectsTo('/b')),_0x4e7e41[_0x4d91f3(0x191)]('/b',function(_0x1828ef,_0x1637b1){var _0x3a4f40=_0x4d91f3;_0x1637b1[_0x3a4f40(0x452)](JSON['stringify'](_0x1828ef[_0x3a4f40(0x47c)]));}),server[_0x4d91f3(0x17c)](_0x4e7e41)['then'](_0x4aeb64[_0x4d91f3(0x565)](asPromise,function(_0x51f76d,_0x258349){var _0x542a58=_0x4d91f3,_0x33a2db=http[_0x542a58(0x1de)](_0x542a58(0x4ad),concatJson(_0x51f76d,_0x258349));_0x33a2db['setHeader'](_0x4aeb64['yGUyd'],_0x542a58(0x54b)),assert[_0x542a58(0x19f)](_0x33a2db['getHeader'](_0x4aeb64[_0x542a58(0x462)]),_0x4aeb64[_0x542a58(0x4ef)]),_0x33a2db['removeHeader'](_0x542a58(0x173)),assert[_0x542a58(0x19f)](_0x33a2db['getHeader'](_0x542a58(0x173)),undefined),_0x33a2db[_0x542a58(0x452)]();}))[_0x4d91f3(0x3d1)](function(_0x4b1a3f){var _0x3f6b32=_0x4d91f3,_0x5afcb1=_0x4b1a3f[_0x3f6b32(0x2d1)];assert[_0x3f6b32(0x19f)](_0x5afcb1['my-header'],undefined);});}),_0x4aeb64[_0x527ffd(0x299)](it,_0x527ffd(0x2f0),function(){var _0xe0d8e=_0x527ffd;return _0x4e7e41[_0xe0d8e(0x191)]('/a',redirectsTo('/b')),_0x4e7e41[_0xe0d8e(0x191)]('/b',function(_0x385e13,_0x163b19){var _0x248247=_0xe0d8e;_0x163b19['end'](JSON['stringify'](_0x385e13[_0x248247(0x47c)]));}),server[_0xe0d8e(0x17c)](_0x4e7e41)[_0xe0d8e(0x3d1)](asPromise(function(_0x21d6d2,_0x5dc6a2){var _0x592159=_0xe0d8e,_0x36745f=http['request'](_0x592159(0x4ad),_0x4aeb64[_0x592159(0x522)](concatJson,_0x21d6d2,_0x5dc6a2));_0x36745f[_0x592159(0x145)](_0x592159(0x173),_0x592159(0x54b)),assert[_0x592159(0x19f)](_0x36745f[_0x592159(0x545)](_0x4aeb64[_0x592159(0x462)]),_0x4aeb64['qKsPH']),_0x36745f['end']();}))[_0xe0d8e(0x3d1)](function(_0x1f332b){var _0x2fe27c=_0xe0d8e,_0x15a298=_0x1f332b[_0x2fe27c(0x2d1)];assert['equal'](_0x15a298[_0x4aeb64[_0x2fe27c(0x462)]],'my\x20value');});}),it(_0x4aeb64[_0x527ffd(0x3da)],function(){var _0x52b52c=_0x527ffd;return _0x4e7e41[_0x52b52c(0x191)]('/a',_0x4aeb64[_0x52b52c(0x4f8)](redirectsTo,'/b')),_0x4e7e41[_0x52b52c(0x191)]('/b',_0x4aeb64[_0x52b52c(0x4ab)](sendsJson,{'foo':_0x52b52c(0x1ed)})),server['start'](_0x4e7e41)[_0x52b52c(0x3d1)](asPromise(function(_0x2871bf,_0x71d868){var _0x5516e1=_0x52b52c,_0x3b710f=http[_0x5516e1(0x191)]('http://localhost:3600/a',_0x2871bf);_0x3b710f[_0x5516e1(0x2be)](!![]),_0x3b710f['on']('error',_0x71d868);}));}),_0x4aeb64['qVyrv'](it,_0x527ffd(0x297),function(){var _0x2672fd=_0x527ffd;return _0x4e7e41[_0x2672fd(0x191)]('/a',redirectsTo('/b')),_0x4e7e41[_0x2672fd(0x191)]('/b',sendsJson({'foo':_0x4aeb64[_0x2672fd(0x4b5)]})),server[_0x2672fd(0x17c)](_0x4e7e41)['then'](asPromise(function(_0x50c930){var _0x56cc03=_0x2672fd,_0x1d54e3=http[_0x56cc03(0x191)](_0x4aeb64[_0x56cc03(0x44d)],_0x50c930);_0x1d54e3[_0x56cc03(0x1d6)](!![]);}));}),_0x4aeb64[_0x527ffd(0x1d4)](it,_0x4aeb64[_0x527ffd(0x587)],function(){var _0xa8b718=_0x527ffd;return _0x4e7e41[_0xa8b718(0x191)]('/a',redirectsTo('/b')),_0x4e7e41['get']('/b',sendsJson({'foo':_0x4aeb64[_0xa8b718(0x4b5)]})),server[_0xa8b718(0x17c)](_0x4e7e41)[_0xa8b718(0x3d1)](_0x4aeb64[_0xa8b718(0x41a)](asPromise,function(_0x427d61){var _0x2bbad6=_0xa8b718,_0x449889=http[_0x2bbad6(0x191)]('http://localhost:3600/a',_0x427d61);_0x449889[_0x2bbad6(0x59c)](0x3e8);}));}),_0x4aeb64[_0x527ffd(0x383)](it,_0x4aeb64[_0x527ffd(0x148)],function(){var _0x3f7bf2=_0x527ffd,_0x2264e0={'ZYTfC':_0x3f7bf2(0x4ad),'CTuNW':function(_0x4a863f,_0x470d18){var _0x11e924=_0x3f7bf2;return _0x4aeb64[_0x11e924(0x4f8)](_0x4a863f,_0x470d18);},'aKNaV':function(_0x449950,_0x184da0){return _0x449950 instanceof _0x184da0;}},_0x5c8dac;return _0x4e7e41['get']('/a',_0x4aeb64[_0x3f7bf2(0x56b)](sendsJson,{})),server[_0x3f7bf2(0x17c)](_0x4e7e41)[_0x3f7bf2(0x3d1)](_0x4aeb64[_0x3f7bf2(0x4a5)](asPromise,function(_0x4a4815){var _0x3e4fa5=_0x3f7bf2;_0x5c8dac=http['get'](_0x2264e0[_0x3e4fa5(0x39c)],_0x4a4815);}))[_0x3f7bf2(0x3d1)](function(){var _0x33f063=_0x3f7bf2;_0x2264e0[_0x33f063(0x29f)](assert,_0x2264e0['aKNaV'](_0x5c8dac[_0x33f063(0x3a4)],net[_0x33f063(0x4a8)]));});}),describe(_0x527ffd(0x4d4),function(){var _0x366020=_0x527ffd,_0x14c679={'uATqf':function(_0x51fd88,_0x256a59){return _0x51fd88+_0x256a59;},'nqzHz':function(_0x2b7417,_0x5fc9ee){var _0x239ebd=_0x23bf;return _0x4aeb64[_0x239ebd(0x1ab)](_0x2b7417,_0x5fc9ee);},'YXudq':_0x366020(0x1ed),'MAggb':_0x4aeb64[_0x366020(0x43a)],'MkHjM':_0x366020(0x3f5),'Ttgct':function(_0x1d9567,_0xa3fa14){var _0x5b7283=_0x366020;return _0x4aeb64[_0x5b7283(0x2d8)](_0x1d9567,_0xa3fa14);},'MRfXT':function(_0x1ceb1c,_0x313f71){var _0x51aa4b=_0x366020;return _0x4aeb64[_0x51aa4b(0x3f3)](_0x1ceb1c,_0x313f71);},'yLAgS':_0x4aeb64[_0x366020(0x541)],'gnCeY':'dbdfX','BdAVa':_0x4aeb64[_0x366020(0x413)]};if('eSzdD'===_0x4aeb64[_0x366020(0x146)])_0x4aeb64['pkZTd'](beforeEach,function(){var _0x24bd40=_0x366020,_0x4e33b7=0x16;while(_0x4e33b7>0x0){_0x4e7e41[_0x24bd40(0x191)](_0x14c679[_0x24bd40(0x45d)]('/r',_0x4e33b7),_0x14c679[_0x24bd40(0x2d7)](redirectsTo,'/r'+--_0x4e33b7));}_0x4e7e41['get'](_0x24bd40(0x32e),sendsJson({'foo':_0x24bd40(0x1ed)}));}),it(_0x4aeb64[_0x366020(0x390)],function(){var _0x46ae56=_0x366020,_0x2c37a7={'wkrHJ':_0x14c679[_0x46ae56(0x32b)],'glWXh':'error','Oonoo':'ERR_FR_TOO_MANY_REDIRECTS','LrxEc':_0x46ae56(0x1d3)};return server[_0x46ae56(0x17c)](_0x4e7e41)[_0x46ae56(0x3d1)](asPromise(function(_0x50e617,_0x76caf4){var _0x404c45=_0x46ae56;http[_0x404c45(0x191)](_0x2c37a7['wkrHJ'],concatJson(_0x50e617,_0x76caf4))['on'](_0x2c37a7[_0x404c45(0x3cf)],_0x76caf4);}))[_0x46ae56(0x3d1)](function(_0x437421){var _0x5924dd=_0x46ae56;assert[_0x5924dd(0x16c)](_0x437421[_0x5924dd(0x2d1)],{'foo':_0x14c679[_0x5924dd(0x2ed)]}),assert[_0x5924dd(0x16c)](_0x437421[_0x5924dd(0x237)],_0x14c679['MAggb']);})[_0x46ae56(0x3d1)](_0x14c679[_0x46ae56(0x36d)](asPromise,function(_0x36d722,_0x19457f){var _0xf1865a=_0x46ae56;http[_0xf1865a(0x191)](_0xf1865a(0x4f5),_0x19457f)['on'](_0x2c37a7[_0xf1865a(0x3cf)],_0x36d722);}))[_0x46ae56(0x3d1)](function(_0x3ef38e){var _0x391d02=_0x46ae56;assert(_0x3ef38e instanceof Error),assert[_0x391d02(0x19f)](_0x3ef38e[_0x391d02(0x1e7)],_0x2c37a7['Oonoo']),assert['equal'](_0x3ef38e[_0x391d02(0x5af)],_0x2c37a7[_0x391d02(0x300)]);});}),_0x4aeb64[_0x366020(0x334)](it,'which\x20can\x20be\x20set\x20globally',function(){var _0x250b23=_0x366020,_0xe11a33={'rAcaS':_0x250b23(0x4f5),'XnluN':_0x250b23(0x47a),'TfeHE':_0x250b23(0x1ed)};return followRedirects[_0x250b23(0x5a9)]=0x16,server['start'](_0x4e7e41)[_0x250b23(0x3d1)](_0x14c679[_0x250b23(0x528)](asPromise,function(_0x61648,_0x5aec63){var _0x22c4c6=_0x250b23;http[_0x22c4c6(0x191)](_0xe11a33['rAcaS'],concatJson(_0x61648,_0x5aec63))['on'](_0xe11a33[_0x22c4c6(0x2fa)],_0x5aec63);}))[_0x250b23(0x3d1)](function(_0x2e55a2){var _0x55a1ba=_0x250b23;assert[_0x55a1ba(0x16c)](_0x2e55a2[_0x55a1ba(0x2d1)],{'foo':_0xe11a33['TfeHE']}),assert[_0x55a1ba(0x16c)](_0x2e55a2[_0x55a1ba(0x237)],'http://localhost:3600/r0');});}),_0x4aeb64[_0x366020(0x3e2)](it,_0x4aeb64[_0x366020(0x315)],function(){var _0x3e4e7a=_0x366020,_0xe83e58=url[_0x3e4e7a(0x45c)](_0x3e4e7a(0x1c3));return _0xe83e58['maxRedirects']=0x1,server[_0x3e4e7a(0x17c)](_0x4e7e41)[_0x3e4e7a(0x3d1)](asPromise(function(_0x4a0464,_0x459ae6){var _0xe8f273=_0x3e4e7a;http[_0xe8f273(0x191)](_0xe83e58,_0x459ae6)['on'](_0x14c679[_0xe8f273(0x1e9)],_0x4a0464);}))[_0x3e4e7a(0x3d1)](function(_0x4cb8f9){var _0x2723b5=_0x3e4e7a;if(_0x14c679[_0x2723b5(0x4cf)]===_0x2723b5(0x194)){var _0x3f1c8f={'NoWdx':_0x2723b5(0x4ad),'DIxDE':_0x2723b5(0x47a),'MBwMi':_0x2723b5(0x58d)};return _0x4bc712['get']('/a',_0x581d3e(_0x2723b5(0x2b1))),_0x104832[_0x2723b5(0x17c)](_0x5b6eb3)[_0x2723b5(0x3d1)](_0x193b61(function(_0x5aa9c6,_0xeed5a5){var _0x4baebe=_0x2723b5;_0x233f84[_0x4baebe(0x191)](_0x3f1c8f[_0x4baebe(0x1be)],_0xeed5a5)['on'](_0x3f1c8f['DIxDE'],_0x5aa9c6);}))['then'](function(_0x53232c){var _0x471670=_0x2723b5;_0x489dd2[_0x471670(0x19f)](_0x53232c[_0x471670(0x1e7)],_0x3f1c8f['MBwMi']);});}else assert(_0x4cb8f9 instanceof Error),assert[_0x2723b5(0x19f)](_0x4cb8f9['code'],_0x14c679[_0x2723b5(0x4a1)]),assert[_0x2723b5(0x19f)](_0x4cb8f9[_0x2723b5(0x5af)],_0x2723b5(0x1d3));});});else{var _0x212e55={'JXsmz':_0x4aeb64[_0x366020(0x270)],'DCKgb':_0x4aeb64[_0x366020(0x541)],'hHOVy':_0x4aeb64['YBupC']};_0x4ace26['post']('/a',_0x32cfc4('/b',0x134)),_0x3e8d21[_0x366020(0x436)]('/b',_0x4519c6('/c',0x12d)),_0x1be4f8[_0x366020(0x191)]('/c',_0x5d9637('/d',0x12d)),_0x4baba2['get']('/d',_0x4aeb64[_0x366020(0x38a)](_0x1dcf73,{'a':'b'}));const _0x27fbcf=[];return _0x2c75f5[_0x366020(0x17c)](_0x11ecfd)[_0x366020(0x3d1)](_0x3dd0c9(function(_0x4015ea,_0x101f58){var _0x12891e=_0x366020,_0x4f9249={'host':_0x212e55[_0x12891e(0x4bc)],'port':0xe10,'path':'/a','method':_0x12891e(0x570),'beforeRedirect':function(_0x45d65f,_0x26f4a2,_0x46ffbd){var _0x18c73a=_0x12891e;_0x27fbcf[_0x18c73a(0x3a3)](_0x46ffbd[_0x18c73a(0x454)]);}};_0xf98339[_0x12891e(0x191)](_0x4f9249,_0x28bbe9(_0x4015ea,_0x101f58))['on'](_0x212e55[_0x12891e(0x1cc)],_0x101f58);}))[_0x366020(0x3d1)](function(_0x56beb4){var _0x2e7763=_0x366020;_0x2d62ad[_0x2e7763(0x16c)](_0x56beb4[_0x2e7763(0x237)],_0x2e7763(0x497)),_0x3c391b[_0x2e7763(0x16c)](_0x56beb4[_0x2e7763(0x2d1)],{'a':'b'}),_0x4428c4[_0x2e7763(0x16c)](_0x27fbcf,[_0x212e55['hHOVy'],_0x212e55[_0x2e7763(0x2f3)],_0x2e7763(0x193)]);});}}),describe('the\x20trackRedirects\x20option',function(){var _0xca618e=_0x527ffd,_0x3c076c={'oEhYU':function(_0x21e68b,_0x5e8af8){return _0x21e68b(_0x5e8af8);},'teJQF':function(_0x5e11ad,_0x8890c,_0x4c8e7d){return _0x5e11ad(_0x8890c,_0x4c8e7d);},'aQlfa':_0x4aeb64[_0xca618e(0x43c)],'RmLVF':_0x4aeb64[_0xca618e(0x3fd)],'KQlJu':_0x4aeb64[_0xca618e(0x560)],'aGvFm':_0xca618e(0x4ad),'CRfgX':function(_0x2d7d2c,_0x90fdf9,_0x9dad31){var _0x3a404d=_0xca618e;return _0x4aeb64[_0x3a404d(0x3e2)](_0x2d7d2c,_0x90fdf9,_0x9dad31);}};if(_0x4aeb64['wIwYc']!=='KhFbZ'){var _0x2fe84d={'pMiyO':_0x4aeb64[_0xca618e(0x44d)]};return _0x38e10d[_0xca618e(0x191)]('/a',_0x3ef2cf('/b')),_0x5c2c6a['get']('/b',_0x101558({'foo':_0xca618e(0x1ed)})),_0x18c785[_0xca618e(0x17c)](_0x1b2b02)[_0xca618e(0x3d1)](_0x3eb724(function(_0x3eefc7,_0x405c9b){var _0x5183f2=_0xca618e,_0x2ca458=_0x1de0e2['get'](_0x2fe84d[_0x5183f2(0x493)],_0x3eefc7);_0x2ca458[_0x5183f2(0x2be)](!![]),_0x2ca458['on']('error',_0x405c9b);}));}else beforeEach(function(){var _0x342aeb=_0xca618e;_0x4e7e41['get']('/a',_0x3c076c['oEhYU'](redirectsTo,'/b')),_0x4e7e41['get']('/b',_0x3c076c[_0x342aeb(0x338)](redirectsTo,'/c')),_0x4e7e41[_0x342aeb(0x191)]('/c',_0x3c076c[_0x342aeb(0x338)](sendsJson,{}));}),describe(_0xca618e(0x368),function(){var _0x501621=_0xca618e,_0x2184d6={'XLULq':function(_0x4ec401,_0xf03590,_0x44aaec){return _0x4ec401(_0xf03590,_0x44aaec);}};_0x3c076c[_0x501621(0x256)](it,'should\x20not\x20track\x20redirects',function(){var _0x380185=_0x501621;return server[_0x380185(0x17c)](_0x4e7e41)[_0x380185(0x3d1)](asPromise(function(_0xe3443f,_0x4317f3){var _0x5d8a17=_0x380185,_0x492388=url[_0x5d8a17(0x45c)](_0x5d8a17(0x4ad));http[_0x5d8a17(0x191)](_0x492388,_0x2184d6[_0x5d8a17(0x4ea)](concatJson,_0xe3443f,_0x4317f3))['on']('error',_0x4317f3);}))[_0x380185(0x3d1)](function(_0x33f27a){var _0x573e53=_0x380185,_0x26571d=_0x33f27a[_0x573e53(0x29b)];assert[_0x573e53(0x19f)](_0x26571d[_0x573e53(0x374)],0x0);});});}),_0x4aeb64[_0xca618e(0x18d)](describe,_0xca618e(0x321),function(){var _0x1c47f8=_0xca618e,_0x24acbb={'ADLgh':_0x1c47f8(0x36c),'MaInN':_0x3c076c[_0x1c47f8(0x250)],'zoaug':_0x1c47f8(0x498),'PamKX':_0x3c076c[_0x1c47f8(0x21c)],'VvcrE':_0x3c076c[_0x1c47f8(0x501)],'cczbd':_0x3c076c[_0x1c47f8(0x2f8)]};_0x3c076c[_0x1c47f8(0x1ae)](it,_0x1c47f8(0x549),function(){var _0x3e9fa5=_0x1c47f8,_0x22a2dc={'CZOzb':'http://localhost:3600/a'};return server[_0x3e9fa5(0x17c)](_0x4e7e41)[_0x3e9fa5(0x3d1)](asPromise(function(_0x34a1a4,_0x2d7d90){var _0x4ea760=_0x3e9fa5,_0x531628=url[_0x4ea760(0x45c)](_0x22a2dc[_0x4ea760(0x426)]);_0x531628['trackRedirects']=!![],http['get'](_0x531628,concatJson(_0x34a1a4,_0x2d7d90))['on'](_0x4ea760(0x47a),_0x2d7d90);}))[_0x3e9fa5(0x3d1)](function(_0x330098){var _0x18e935=_0x3e9fa5,_0x545620=_0x24acbb[_0x18e935(0x261)][_0x18e935(0x3e0)]('|'),_0x2bc6cc=0x0;while(!![]){switch(_0x545620[_0x2bc6cc++]){case'0':assert[_0x18e935(0x19f)](_0x4d78e2[0x2][_0x18e935(0x47c)][_0x24acbb[_0x18e935(0x35c)]],_0x24acbb[_0x18e935(0x4f3)]);continue;case'1':assert[_0x18e935(0x19f)](_0x4d78e2[0x1][_0x18e935(0x22a)],0x12e);continue;case'2':assert[_0x18e935(0x19f)](_0x4d78e2[0x2]['statusCode'],0xc8);continue;case'3':assert[_0x18e935(0x19f)](_0x4d78e2[0x1][_0x18e935(0x231)],_0x24acbb[_0x18e935(0x444)]);continue;case'4':assert['equal'](_0x4d78e2[0x1][_0x18e935(0x47c)][_0x18e935(0x26a)],_0x24acbb['VvcrE']);continue;case'5':assert[_0x18e935(0x19f)](_0x4d78e2[0x0][_0x18e935(0x22a)],0x12e);continue;case'6':var _0x4d78e2=_0x330098[_0x18e935(0x29b)];continue;case'7':assert[_0x18e935(0x19f)](_0x4d78e2[_0x18e935(0x374)],0x3);continue;case'8':assert['equal'](_0x4d78e2[0x0][_0x18e935(0x47c)][_0x24acbb[_0x18e935(0x35c)]],_0x18e935(0x20b));continue;case'9':assert[_0x18e935(0x19f)](_0x4d78e2[0x2]['url'],'http://localhost:3600/c');continue;case'10':assert[_0x18e935(0x19f)](_0x4d78e2[0x0][_0x18e935(0x231)],_0x24acbb[_0x18e935(0x3af)]);continue;}break;}});});});}),_0x4aeb64[_0x527ffd(0x4cd)](describe,'should\x20switch\x20to\x20safe\x20methods\x20when\x20appropriate',function(){var _0x3cdb90=_0x527ffd;function _0x13e560(_0x34a185,_0x2db1cb,_0x4e594d){var _0x4eecc5=_0x23bf,_0xcbdbe7={'oeQIT':'GET','PhpLh':'POST','fsEtd':function(_0x5a18bf,_0x4e9de3,_0x4a3342,_0x489bf3){return _0x5a18bf(_0x4e9de3,_0x4a3342,_0x489bf3);},'fRwfJ':_0x4eecc5(0x1d7),'nzvwf':_0x4eecc5(0x36a)};_0x4aeb64[_0x4eecc5(0x2bd)](describe,_0x4aeb64[_0x4eecc5(0x358)](_0x4aeb64[_0x4eecc5(0x1fb)],_0x34a185),function(){var _0x19b687=_0x4eecc5,_0xf23e1f=_0x19b687(0x46d)[_0x19b687(0x3e0)]('|'),_0x28d046=0x0;while(!![]){switch(_0xf23e1f[_0x28d046++]){case'0':_0x5fad81(_0x34a185,_0x19b687(0x570),_0x2db1cb?_0xcbdbe7['oeQIT']:_0xcbdbe7['PhpLh']);continue;case'1':_0xcbdbe7[_0x19b687(0x48e)](_0x5fad81,_0x34a185,_0xcbdbe7[_0x19b687(0x35f)],_0xcbdbe7[_0x19b687(0x35f)]);continue;case'2':_0xcbdbe7[_0x19b687(0x48e)](_0x5fad81,_0x34a185,_0x19b687(0x36a),_0x4e594d?_0xcbdbe7[_0x19b687(0x19e)]:_0xcbdbe7[_0x19b687(0x56c)]);continue;case'3':_0xcbdbe7[_0x19b687(0x48e)](_0x5fad81,_0x34a185,_0xcbdbe7[_0x19b687(0x19e)],_0xcbdbe7[_0x19b687(0x19e)]);continue;case'4':_0x5fad81(_0x34a185,_0x19b687(0x544),_0x4e594d?_0x19b687(0x193):'DELETE');continue;}break;}});}function _0x5fad81(_0x25f984,_0xd9ace7,_0x4c1de7){var _0x2c68d9=_0x23bf,_0x36e297={'McMrI':_0x4aeb64[_0x2c68d9(0x44d)],'cEQtV':_0x4aeb64[_0x2c68d9(0x541)],'DwsGV':function(_0x59deaa,_0x29d8a3,_0x578ed9){var _0x389d8f=_0x2c68d9;return _0x4aeb64[_0x389d8f(0x5a5)](_0x59deaa,_0x29d8a3,_0x578ed9);},'afGVL':_0x2c68d9(0x53b),'ytJsf':function(_0x538aeb,_0x9f739c){var _0x1eb366=_0x2c68d9;return _0x4aeb64[_0x1eb366(0x5a2)](_0x538aeb,_0x9f739c);},'GoIvy':_0x2c68d9(0x3cb),'gbCQP':function(_0x16e16e,_0x26edf8){var _0x57110f=_0x2c68d9;return _0x4aeb64[_0x57110f(0x358)](_0x16e16e,_0x26edf8);},'ukQIy':function(_0x209bfd,_0x38d27){return _0x209bfd(_0x38d27);}},_0x5dea59=_0x2c68d9(0x308)+(_0x4aeb64[_0x2c68d9(0x49a)](_0xd9ace7,_0x4c1de7)?_0x4aeb64['qoWoj'](_0x2c68d9(0x354),_0xd9ace7):_0x4aeb64[_0x2c68d9(0x358)](_0x4aeb64[_0x2c68d9(0x358)](_0x4aeb64[_0x2c68d9(0x37f)](_0x2c68d9(0x58f),_0xd9ace7),_0x4aeb64['MScpt']),_0x4c1de7));_0x4aeb64[_0x2c68d9(0x3db)](it,_0x5dea59,function(){var _0x411882=_0x2c68d9;return _0x4e7e41[_0xd9ace7[_0x411882(0x1f3)]()]('/a',redirectsTo(_0x25f984,'/b')),_0x4e7e41[_0x4c1de7[_0x411882(0x1f3)]()]('/b',_0x36e297[_0x411882(0x2c2)](sendsJson,{'a':'b'})),server['start'](_0x4e7e41)['then'](asPromise(function(_0x20263e,_0x3fcec6){var _0xae36d9=_0x411882,_0x330113=url[_0xae36d9(0x45c)](_0x36e297['McMrI']);_0x330113[_0xae36d9(0x454)]=_0xd9ace7,http[_0xae36d9(0x1de)](_0x330113,_0x20263e)['on'](_0x36e297[_0xae36d9(0x3d6)],_0x3fcec6)['end']();}))[_0x411882(0x3d1)](function(_0x4b8624){var _0x1ec3c0=_0x411882,_0x3626b8={'bSWGO':function(_0x4fbdd0,_0x23c4b5,_0x3cb71d){var _0x2b4425=_0x23bf;return _0x36e297[_0x2b4425(0x515)](_0x4fbdd0,_0x23c4b5,_0x3cb71d);}};if(_0x1ec3c0(0x33d)===_0x1ec3c0(0x4a4))_0x20a5a7[_0x1ec3c0(0x16c)](_0x5ed847[_0x1ec3c0(0x237)],_0x1ec3c0(0x4ad)),_0x11e395[_0x1ec3c0(0x23a)](_0x3626b8[_0x1ec3c0(0x34d)](_0x2559c1,{'encoding':_0x1ec3c0(0x260)},_0x482ed4))['on'](_0x1ec3c0(0x47a),_0x44079d);else{assert[_0x1ec3c0(0x16c)](_0x4b8624[_0x1ec3c0(0x237)],_0x36e297[_0x1ec3c0(0x14d)]);if(_0x4b8624[_0x1ec3c0(0x22a)]!==0xc8){if(_0x36e297[_0x1ec3c0(0x379)](_0x36e297['GoIvy'],_0x36e297[_0x1ec3c0(0x41e)]))_0x300007[_0x1ec3c0(0x452)](_0x18db31['stringify'](_0x5b66ef[_0x1ec3c0(0x47c)]));else throw new Error(_0x36e297[_0x1ec3c0(0x278)]('Did\x20not\x20use\x20',_0x4c1de7));}}});});}_0x13e560(0x12c,![]),_0x4aeb64['KyMin'](_0x13e560,0x12d,!![]),_0x4aeb64[_0x3cdb90(0x3db)](_0x13e560,0x12e,!![]),_0x13e560(0x12f,!![],!![]),_0x4aeb64['QIhyV'](_0x13e560,0x133,![]);}),describe(_0x527ffd(0x24e),function(){var _0x52b5a0=_0x527ffd,_0x42e70e={'XyWgJ':_0x52b5a0(0x1ec),'kXplE':_0x4aeb64[_0x52b5a0(0x2a6)],'xQTrf':function(_0x67b263,_0xd20818){return _0x67b263(_0xd20818);},'zQYEp':function(_0x5aaa9c,_0xd5f7b1){return _0x5aaa9c(_0xd5f7b1);},'FlYVy':function(_0x992b19,_0x39e79e){return _0x992b19(_0x39e79e);},'krgaH':_0x4aeb64['MElmV'],'vxrBg':function(_0x1aebd6,_0x2355ec){var _0x426d56=_0x52b5a0;return _0x4aeb64[_0x426d56(0x222)](_0x1aebd6,_0x2355ec);},'EkoQR':_0x4aeb64['kZVLF'],'FXhmA':_0x4aeb64[_0x52b5a0(0x3ce)]};_0x4aeb64[_0x52b5a0(0x3e2)](it,'(https\x20->\x20http\x20->\x20https)',function(){var _0x23e5c0=_0x52b5a0,_0xd0ab46=_0x42e70e[_0x23e5c0(0x4ee)][_0x23e5c0(0x3e0)]('|'),_0x4a32b9=0x0;while(!![]){switch(_0xd0ab46[_0x4a32b9++]){case'0':var _0x34401f={'vKZbH':_0x23e5c0(0x228),'PnRBW':_0x42e70e[_0x23e5c0(0x35d)]};continue;case'1':_0x4e7e41[_0x23e5c0(0x191)]('/a',redirectsTo(_0x23e5c0(0x53b)));continue;case'2':_0x4e7e41['get']('/c',_0x42e70e[_0x23e5c0(0x298)](sendsJson,{'yes':'no'}));continue;case'3':return Promise[_0x23e5c0(0x199)]([server[_0x23e5c0(0x17c)](_0x42e70e[_0x23e5c0(0x459)](_0x187a4f,_0x4e7e41)),server[_0x23e5c0(0x17c)](_0x311441)])[_0x23e5c0(0x3d1)](_0x42e70e[_0x23e5c0(0x487)](asPromise,function(_0x4ebd06,_0xa6f0e){var _0x286da8=_0x23e5c0,_0x1f405c=url[_0x286da8(0x45c)](_0x34401f[_0x286da8(0x424)]);_0x1f405c['ca']=_0x2e70c6,https[_0x286da8(0x191)](_0x1f405c,concatJson(_0x4ebd06,_0xa6f0e))['on'](_0x286da8(0x47a),_0xa6f0e);}))[_0x23e5c0(0x3d1)](function(_0x35f33f){var _0x119605=_0x23e5c0;assert[_0x119605(0x16c)](_0x35f33f[_0x119605(0x2d1)],{'yes':'no'}),assert[_0x119605(0x16c)](_0x35f33f['responseUrl'],_0x34401f[_0x119605(0x2e0)]);});case'4':_0x311441['get']('/b',_0x42e70e[_0x23e5c0(0x487)](redirectsTo,'https://localhost:3601/c'));continue;}break;}}),it(_0x4aeb64[_0x52b5a0(0x204)],function(){var _0x514136=_0x52b5a0,_0x99a703={'JwImh':function(_0x582608,_0x22850d,_0x33be8d){return _0x582608(_0x22850d,_0x33be8d);},'WLKRS':_0x514136(0x568),'HTgqK':_0x42e70e[_0x514136(0x34e)]};if(_0x42e70e['vxrBg'](_0x42e70e[_0x514136(0x3ad)],'JmRpV'))return _0x4e7e41['get']('/a',redirectsTo(_0x42e70e[_0x514136(0x3b6)])),_0x311441[_0x514136(0x191)]('/b',redirectsTo(_0x514136(0x305))),_0x4e7e41['get']('/c',_0x42e70e['FlYVy'](sendsJson,{'hello':_0x514136(0x3c8)})),Promise[_0x514136(0x199)]([server[_0x514136(0x17c)](_0x4e7e41),server[_0x514136(0x17c)](_0x187a4f(_0x311441))])[_0x514136(0x3d1)](asPromise(function(_0x590255,_0x11b40f){var _0x6818cf=_0x514136,_0x4082e1=url['parse']('http://localhost:3600/a');_0x4082e1['ca']=_0x2e70c6,http['get'](_0x4082e1,_0x99a703['JwImh'](concatJson,_0x590255,_0x11b40f))['on'](_0x6818cf(0x47a),_0x11b40f);}))[_0x514136(0x3d1)](function(_0x435958){var _0x5d42d7=_0x514136;'Hlxkr'!==_0x99a703[_0x5d42d7(0x239)]?(assert[_0x5d42d7(0x16c)](_0x435958[_0x5d42d7(0x2d1)],{'hello':_0x99a703[_0x5d42d7(0x1c6)]}),assert[_0x5d42d7(0x16c)](_0x435958[_0x5d42d7(0x237)],_0x5d42d7(0x305))):(_0x3e0d31['post']('/a',function(_0x3e0ff9,_0x20bb2b){var _0x49e132=_0x5d42d7;_0x3e0ff9[_0x49e132(0x23a)](_0x20bb2b);}),_0x49e87d=![]);});else _0x73b4a3['deepEqual'](_0x3a6e53[_0x514136(0x2d1)],{'didnot':_0x514136(0x58e)}),_0x180f77[_0x514136(0x16c)](_0x3db894[_0x514136(0x237)],_0x514136(0x52f)),_0x3c3481[_0x514136(0x15f)](0x1388);});}),describe(_0x527ffd(0x396),function(){var _0xb31b39=_0x527ffd,_0x36deb0={'LPznN':_0xb31b39(0x47a)};_0x4aeb64['yteoV'](_0x4aeb64['pTAXR'],'rSDkw')?(_0x4e5025[_0xb31b39(0x16c)](_0x888acf[_0xb31b39(0x2d1)],{'greeting':_0x4aeb64[_0xb31b39(0x29d)]}),_0x33167d[_0xb31b39(0x16c)](_0x17a848['responseUrl'],_0xb31b39(0x2ba))):it('(http\x20->\x20about)',function(){var _0xe058d6=_0xb31b39,_0x33e3c3={'UYKpE':function(_0x321b19,_0x51c61f){return _0x4aeb64['pfkvI'](_0x321b19,_0x51c61f);},'exqke':function(_0x32d0b,_0x1f0dd1){var _0x38a80c=_0x23bf;return _0x4aeb64[_0x38a80c(0x1ca)](_0x32d0b,_0x1f0dd1);},'SDaDU':function(_0x41678c,_0x3ef3b7){var _0x2a069d=_0x23bf;return _0x4aeb64[_0x2a069d(0x1e6)](_0x41678c,_0x3ef3b7);},'YDoFG':function(_0x2859b6,_0x30b8fb){return _0x4aeb64['qIIev'](_0x2859b6,_0x30b8fb);},'gzUBe':_0xe058d6(0x542)};return _0x4e7e41[_0xe058d6(0x191)]('/a',redirectsTo(_0x4aeb64['MDStM'])),server['start'](_0x4e7e41)['then'](asPromise(function(_0x299127,_0x1c3bd2){var _0x101d75=_0xe058d6;http[_0x101d75(0x191)](_0x101d75(0x4ad))['on'](_0x101d75(0x34b),function(){return _0x1c3bd2(new Error('unexpected\x20response'));})['on'](_0x36deb0[_0x101d75(0x582)],_0x299127);}))[_0xe058d6(0x3d1)](function(_0x27e5a6){var _0x4f3952=_0xe058d6;assert(_0x33e3c3[_0x4f3952(0x151)](_0x27e5a6,Error)),assert['equal'](_0x27e5a6[_0x4f3952(0x5af)],'Redirected\x20request\x20failed:\x20Unsupported\x20protocol\x20about:');var _0x30e7d5=_0x27e5a6[_0x4f3952(0x3b1)];assert(_0x33e3c3[_0x4f3952(0x52b)](_0x30e7d5,Error)),_0x33e3c3[_0x4f3952(0x161)](assert,_0x33e3c3[_0x4f3952(0x523)](_0x30e7d5,TypeError)),assert[_0x4f3952(0x19f)](_0x30e7d5[_0x4f3952(0x5af)],_0x33e3c3[_0x4f3952(0x225)]);});});}),it(_0x527ffd(0x3a1),function(){var _0x19d608=_0x527ffd,_0x1faa1c=_0x4aeb64[_0x19d608(0x2b9)][_0x19d608(0x3e0)]('|'),_0x505cdb=0x0;while(!![]){switch(_0x1faa1c[_0x505cdb++]){case'0':_0x4e7e41[_0x19d608(0x436)]('/a',_0x4aeb64['yGecR'](redirectsTo,0x133,_0x19d608(0x53b)));continue;case'1':var _0x4cb806={'qBLIA':function(_0x271c03,_0x31af42){var _0x152668=_0x19d608;return _0x4aeb64[_0x152668(0x3f3)](_0x271c03,_0x31af42);},'WVlQw':_0x4aeb64[_0x19d608(0x1f7)],'bJbvL':_0x19d608(0x47a)};continue;case'2':var _0x144f87=![];continue;case'3':return server[_0x19d608(0x17c)](_0x4e7e41)[_0x19d608(0x3d1)](asPromise(function(_0x57ab90,_0x3ec3ac){var _0x554a5d=_0x19d608;_0xcc6b23=http[_0x554a5d(0x1de)](_0x554a5d(0x4ad),{'method':_0x554a5d(0x570)},_0x57ab90),_0xcc6b23['write'](testFileString),_0xcc6b23['on']('error',_0x3ec3ac);}))[_0x19d608(0x3d1)](_0x4aeb64['evOaT'](asPromise,function(_0x3a42e7,_0xdb96b9,_0x4fecd1){var _0x926572=_0x19d608;_0x4cb806[_0x926572(0x5b7)](assert,_0x144f87),_0xcc6b23[_0x926572(0x1b7)](testFileString),_0xcc6b23['end'](),_0x4fecd1['pipe'](concat({'encoding':_0x4cb806[_0x926572(0x244)]},_0x3a42e7))['on'](_0x4cb806['bJbvL'],_0xdb96b9);}))[_0x19d608(0x3d1)](function(_0x48bdc6){assert['equal'](_0x48bdc6,testFileString+testFileString);});case'4':var _0xcc6b23;continue;case'5':_0x4e7e41[_0x19d608(0x436)]('/b',_0x4aeb64['QIhyV'](redirectsTo,0x133,_0x19d608(0x305)));continue;case'6':_0x4e7e41['post']('/d',function(_0x225608,_0x2a9917){_0x144f87=!![],_0x225608['pipe'](_0x2a9917);});continue;case'7':_0x4e7e41[_0x19d608(0x436)]('/c',_0x4aeb64[_0x19d608(0x5bb)](redirectsTo,0x133,_0x4aeb64[_0x19d608(0x37d)]));continue;}break;}}),_0x4aeb64[_0x527ffd(0x1d4)](it,_0x4aeb64[_0x527ffd(0x448)],function(){var _0x3977f0=_0x527ffd;return _0x4e7e41[_0x3977f0(0x436)]('/a',function(_0x5911ce,_0x4d1151){_0x5911ce['pipe'](_0x4d1151);}),server[_0x3977f0(0x17c)](_0x4e7e41)['then'](function(){var _0x1ae361=_0x3977f0,_0x538193='3|1|4|2|0'[_0x1ae361(0x3e0)]('|'),_0x5eefc9=0x0;while(!![]){switch(_0x538193[_0x5eefc9++]){case'0':throw new Error(_0x4aeb64[_0x1ae361(0x446)]);continue;case'1':_0x98e7c1[_0x1ae361(0x1b7)](testFileString);continue;case'2':try{_0x98e7c1[_0x1ae361(0x1b7)](testFileString);}catch(_0x5a03da){_0x4aeb64[_0x1ae361(0x467)](assert,_0x5a03da instanceof Error),assert['equal'](_0x5a03da[_0x1ae361(0x1e7)],_0x4aeb64[_0x1ae361(0x241)]),assert['equal'](_0x5a03da[_0x1ae361(0x5af)],_0x4aeb64['rXAkH']);return;}finally{_0x98e7c1[_0x1ae361(0x3ea)]();}continue;case'3':var _0x98e7c1=http[_0x1ae361(0x1de)]('http://localhost:3600/a',{'method':_0x1ae361(0x570)});continue;case'4':_0x98e7c1[_0x1ae361(0x452)]();continue;}break;}});}),it(_0x4aeb64[_0x527ffd(0x16d)],function(){var _0x4f17ec=_0x527ffd,_0x2eef54={'ZBEpw':function(_0x2a0c88,_0x3cda64){return _0x2a0c88+_0x3cda64;},'Qzwrg':_0x4aeb64[_0x4f17ec(0x255)],'MzJbo':function(_0x374620,_0x16898d){return _0x374620===_0x16898d;},'zIdtL':_0x4aeb64[_0x4f17ec(0x44d)],'JFulE':_0x4aeb64[_0x4f17ec(0x254)],'aYKNC':_0x4aeb64[_0x4f17ec(0x541)],'OvmaG':function(_0x87ff3,_0x28a802,_0x3db500){var _0x5b7d3d=_0x4f17ec;return _0x4aeb64[_0x5b7d3d(0x383)](_0x87ff3,_0x28a802,_0x3db500);},'bZyFK':_0x4aeb64['QYyoM']};return _0x4e7e41['post']('/a',function(_0x116244,_0x1e5d73){var _0x4b218f=_0x4f17ec;_0x116244[_0x4b218f(0x23a)](_0x1e5d73);}),server[_0x4f17ec(0x17c)](_0x4e7e41)['then'](asPromise(function(_0x25dd85,_0x26dcf0){var _0xc86413=_0x4f17ec;if(_0x2eef54[_0xc86413(0x3bc)](_0xc86413(0x3f8),'xqtZt')){var _0x470df3=http[_0xc86413(0x1de)](_0x2eef54[_0xc86413(0x58b)],{'method':_0x2eef54[_0xc86413(0x4c2)]},_0x25dd85);_0x470df3['end'](testFileBuffer,_0xc86413(0x533)),_0x470df3['on'](_0x2eef54[_0xc86413(0x23e)],_0x26dcf0);}else throw new _0x206a95(_0x2eef54[_0xc86413(0x36e)](_0x2eef54[_0xc86413(0x33b)],_0x1103c3));}))[_0x4f17ec(0x3d1)](asPromise(function(_0x42466b,_0x5ccf0e,_0x273dcc){var _0x39f934=_0x4f17ec;assert[_0x39f934(0x16c)](_0x273dcc[_0x39f934(0x237)],_0x2eef54[_0x39f934(0x58b)]),_0x273dcc[_0x39f934(0x23a)](_0x2eef54[_0x39f934(0x43e)](concat,{'encoding':_0x2eef54[_0x39f934(0x3c3)]},_0x42466b))['on'](_0x2eef54[_0x39f934(0x23e)],_0x5ccf0e);}))[_0x4f17ec(0x3d1)](function(_0x1a77a9){var _0x43cea2=_0x4f17ec,_0x3ec1b8={'MlvGQ':_0x4aeb64['mswbO'],'Efzxa':_0x43cea2(0x4c4),'aQytM':function(_0x2a92d2,_0xf31225){return _0x4aeb64['vwXia'](_0x2a92d2,_0xf31225);}};if(_0x43cea2(0x14c)==='QBNtb'){var _0x56db3e={'LVdea':_0x43cea2(0x4ad),'RHZRn':_0x3ec1b8[_0x43cea2(0x2e4)]};return _0x5c07a9[_0x43cea2(0x191)]('/a',_0x2bf10c(_0x3ec1b8[_0x43cea2(0x44f)])),_0x5de82b[_0x43cea2(0x191)]('/b',_0x3bf1b7({'a':'b'})),_0x2f68ae[_0x43cea2(0x17c)](_0x41b1ea)[_0x43cea2(0x3d1)](_0x3ec1b8[_0x43cea2(0x50e)](_0x232b3a,function(_0x299166,_0x447e70){var _0x1def9c=_0x43cea2;_0x1d8d1d[_0x1def9c(0x191)](_0x56db3e[_0x1def9c(0x4f0)],_0x47e2e8(_0x299166,_0x447e70))['on'](_0x56db3e['RHZRn'],_0x447e70);}))[_0x43cea2(0x3d1)](function(_0x1b288b){var _0x12e253=_0x43cea2;_0x2d1cbc[_0x12e253(0x16c)](_0x1b288b[_0x12e253(0x2d1)],{'a':'b'}),_0x5ba499[_0x12e253(0x16c)](_0x1b288b[_0x12e253(0x237)],'http://[::1]:3600/b');});}else assert[_0x43cea2(0x19f)](_0x1a77a9,testFileString);});}),it(_0x4aeb64[_0x527ffd(0x491)],function(){var _0x23c42c=_0x527ffd,_0x246cae=_0x4aeb64[_0x23c42c(0x27b)][_0x23c42c(0x3e0)]('|'),_0x5b4b48=0x0;while(!![]){switch(_0x246cae[_0x5b4b48++]){case'0':_0x4e7e41[_0x23c42c(0x436)]('/b',_0x4aeb64[_0x23c42c(0x383)](redirectsTo,0x133,_0x4aeb64[_0x23c42c(0x1c4)]));continue;case'1':_0x4e7e41['post']('/c',_0x4aeb64[_0x23c42c(0x2ab)](redirectsTo,0x133,_0x23c42c(0x497)));continue;case'2':return server[_0x23c42c(0x17c)](_0x4e7e41)[_0x23c42c(0x3d1)](asPromise(function(_0xba5622,_0x11d8bf){var _0x5a063c=_0x23c42c,_0x2408cc=http[_0x5a063c(0x1de)](_0x5a063c(0x4ad),{'method':_0x5a063c(0x570)},_0xba5622);_0x2408cc[_0x5a063c(0x452)](testFileBuffer,_0x14fc7d[_0x5a063c(0x3eb)]),_0x2408cc['on'](_0x14fc7d[_0x5a063c(0x525)],_0x11d8bf);}))[_0x23c42c(0x3d1)](asPromise(function(_0x39e1a2,_0x100c06,_0x1d02f1){var _0xa7f708=_0x23c42c;_0x1d02f1[_0xa7f708(0x23a)](_0x14fc7d['KyBNg'](concat,{'encoding':_0xa7f708(0x260)},_0x39e1a2))['on'](_0xa7f708(0x47a),_0x100c06);}))[_0x23c42c(0x3d1)](function(_0x1e6530){var _0x5cb812=_0x23c42c;assert[_0x5cb812(0x19f)](_0x1e6530,testFileString);});case'3':_0x4e7e41[_0x23c42c(0x436)]('/a',redirectsTo(0x133,_0x23c42c(0x53b)));continue;case'4':var _0x14fc7d={'niuZt':'buffer','kImNl':_0x4aeb64[_0x23c42c(0x541)],'KyBNg':function(_0x525a2c,_0x612a5d,_0x1122ff){var _0x3df0fb=_0x23c42c;return _0x4aeb64[_0x3df0fb(0x39b)](_0x525a2c,_0x612a5d,_0x1122ff);}};continue;case'5':_0x4e7e41[_0x23c42c(0x436)]('/d',function(_0x53a6c2,_0xd1d52d){var _0x331504=_0x23c42c;_0x53a6c2[_0x331504(0x23a)](_0xd1d52d);});continue;}break;}}),_0x4aeb64[_0x527ffd(0x521)](it,_0x4aeb64[_0x527ffd(0x3f4)],function(){var _0x3ef249=_0x527ffd,_0x4303cf={'ALzJB':_0x3ef249(0x5a8)};return _0x4aeb64[_0x3ef249(0x5a2)](_0x4aeb64[_0x3ef249(0x553)],_0x3ef249(0x527))?(_0x4e7e41['post']('/a',function(_0x223f1c,_0x324a5b){var _0x3076ad=_0x3ef249;_0x223f1c[_0x3076ad(0x23a)](_0x324a5b);}),server['start'](_0x4e7e41)[_0x3ef249(0x3d1)](asPromise(function(_0x30a371,_0x1eca39){var _0x3e3607=_0x3ef249;if(_0x3e3607(0x418)!==_0x3e3607(0x29e)){var _0x4bfdf0=http[_0x3e3607(0x1de)](_0x3e3607(0x4ad),{'method':_0x3e3607(0x570)},_0x30a371);fs[_0x3e3607(0x4b0)](testFile)[_0x3e3607(0x23a)](_0x4bfdf0),_0x4bfdf0['on']('error',_0x1eca39);}else _0x105091['deepEqual'](_0x2c0a6b[_0x3e3607(0x2d1)],{'a':'b'}),_0x430b25[_0x3e3607(0x16c)](_0x2778c2[_0x3e3607(0x237)],_0x4303cf[_0x3e3607(0x167)]);}))[_0x3ef249(0x3d1)](_0x4aeb64['CSEjq'](asPromise,function(_0x2ac7d4,_0x34c5f8,_0x2bce08){var _0x3781e3=_0x3ef249;assert[_0x3781e3(0x16c)](_0x2bce08['responseUrl'],_0x4aeb64[_0x3781e3(0x44d)]),_0x2bce08[_0x3781e3(0x23a)](_0x4aeb64[_0x3781e3(0x335)](concat,{'encoding':_0x3781e3(0x260)},_0x2ac7d4))['on'](_0x4aeb64['mswbO'],_0x34c5f8);}))[_0x3ef249(0x3d1)](function(_0x220a77){var _0xf70179=_0x3ef249;assert[_0xf70179(0x19f)](_0x220a77,testFileString);})):(_0x2eb2b2[_0x3ef249(0x39f)]=[],_0x3adbd3[_0x3ef249(0x57c)]=_0x462ecd['addRequest'],_0x47e4d0[_0x3ef249(0x22d)]=function(_0x2d37c6,_0x580772){var _0x423f50=_0x3ef249;this[_0x423f50(0x39f)][_0x423f50(0x3a3)](_0x580772[_0x423f50(0x4fb)]),this[_0x423f50(0x57c)](_0x2d37c6,_0x580772);},_0x3e949b);}),it(_0x527ffd(0x3c9),function(){var _0x452775=_0x527ffd;return _0x4e7e41[_0x452775(0x436)]('/a',_0x4aeb64[_0x452775(0x1b1)](redirectsTo,0x133,'http://localhost:3600/b')),_0x4e7e41[_0x452775(0x436)]('/b',_0x4aeb64[_0x452775(0x383)](redirectsTo,0x133,'http://localhost:3600/c')),_0x4e7e41[_0x452775(0x436)]('/c',_0x4aeb64[_0x452775(0x18d)](redirectsTo,0x133,_0x4aeb64['xJYQO'])),_0x4e7e41[_0x452775(0x436)]('/d',function(_0x13f842,_0x53ed79){_0x13f842['pipe'](_0x53ed79);}),server[_0x452775(0x17c)](_0x4e7e41)[_0x452775(0x3d1)](asPromise(function(_0x20747b,_0x5b179b){var _0x47e15a=_0x452775,_0x5b501b=http[_0x47e15a(0x1de)]('http://localhost:3600/a',{'method':_0x4aeb64[_0x47e15a(0x254)]},_0x20747b);fs[_0x47e15a(0x4b0)](testFile)[_0x47e15a(0x23a)](_0x5b501b),_0x5b501b['on'](_0x4aeb64['mswbO'],_0x5b179b);}))['then'](asPromise(function(_0x1392a0,_0x10aade,_0x25c39d){var _0x5545fd=_0x452775;_0x25c39d[_0x5545fd(0x23a)](_0x4aeb64['OBIjm'](concat,{'encoding':_0x5545fd(0x260)},_0x1392a0))['on'](_0x5545fd(0x47a),_0x10aade);}))['then'](function(_0xb313c6){var _0x235b04=_0x452775;assert[_0x235b04(0x19f)](_0xb313c6,testFileString);});}),_0x4aeb64[_0x527ffd(0x2cc)](it,_0x527ffd(0x275),function(){var _0x596756=_0x527ffd;_0x4e7e41[_0x596756(0x436)]('/a',function(_0x11e316,_0x363e29){var _0x1cdfc3=_0x596756;_0x11e316[_0x1cdfc3(0x23a)](_0x363e29);});var _0x2beb16=url[_0x596756(0x45c)](_0x4aeb64[_0x596756(0x44d)]);return _0x2beb16[_0x596756(0x454)]=_0x4aeb64['YBupC'],_0x2beb16[_0x596756(0x47c)]={'Content-Length':testFileBuffer[_0x596756(0x1e1)]},server[_0x596756(0x17c)](_0x4e7e41)[_0x596756(0x3d1)](_0x4aeb64[_0x596756(0x435)](asPromise,function(_0x7646f1,_0x47240b){var _0x5d958f=_0x596756;if(_0x4aeb64[_0x5d958f(0x37c)]===_0x5d958f(0x4c6)){var _0x2d45b5=http['request'](_0x2beb16,_0x7646f1);fs[_0x5d958f(0x4b0)](testFile)[_0x5d958f(0x23a)](_0x2d45b5),_0x2d45b5['on'](_0x5d958f(0x47a),_0x47240b);}else _0x1c55ff['push'](_0x466316['method']);}))[_0x596756(0x3d1)](_0x4aeb64['KJoIU'](asPromise,function(_0x4d6292,_0x179c51,_0x4c7349){var _0x4c3b92=_0x596756;assert['deepEqual'](_0x4c7349[_0x4c3b92(0x237)],_0x4aeb64[_0x4c3b92(0x44d)]),_0x4c7349[_0x4c3b92(0x23a)](_0x4aeb64[_0x4c3b92(0x2ec)](concat,{'encoding':_0x4c3b92(0x260)},_0x4d6292))['on'](_0x4aeb64[_0x4c3b92(0x541)],_0x179c51);}))[_0x596756(0x3d1)](function(_0x437790){var _0x30b0d1=_0x596756;assert[_0x30b0d1(0x19f)](_0x437790,testFileString);});}),_0x4aeb64['hGvyG'](it,_0x4aeb64[_0x527ffd(0x42e)],function(){var _0x4e9dfb=_0x527ffd,_0x597cce={'LHwXv':_0x4aeb64[_0x4e9dfb(0x44d)],'mlFay':_0x4aeb64['sMLcS'],'sAPTk':_0x4aeb64[_0x4e9dfb(0x541)],'nOQsU':function(_0x3e26c3,_0x3b3477){var _0x55a049=_0x4e9dfb;return _0x4aeb64[_0x55a049(0x323)](_0x3e26c3,_0x3b3477);},'qLnha':'eVZTB'};_0x4e7e41['post']('/a',_0x4aeb64['OBIjm'](redirectsTo,0x133,_0x4aeb64[_0x4e9dfb(0x3fd)])),_0x4e7e41[_0x4e9dfb(0x436)]('/b',redirectsTo(0x133,_0x4aeb64[_0x4e9dfb(0x1c4)])),_0x4e7e41[_0x4e9dfb(0x436)]('/c',_0x4aeb64['bshwS'](redirectsTo,0x133,_0x4e9dfb(0x497))),_0x4e7e41[_0x4e9dfb(0x436)]('/d',function(_0x1a2573,_0x1d91d7){var _0x3078d0=_0x4e9dfb;_0x1a2573[_0x3078d0(0x23a)](_0x1d91d7);});var _0xc5dbda=url[_0x4e9dfb(0x45c)](_0x4e9dfb(0x4ad));return _0xc5dbda[_0x4e9dfb(0x454)]=_0x4aeb64[_0x4e9dfb(0x254)],_0xc5dbda[_0x4e9dfb(0x47c)]={'Content-Length':testFileBuffer[_0x4e9dfb(0x1e1)]},server[_0x4e9dfb(0x17c)](_0x4e7e41)[_0x4e9dfb(0x3d1)](asPromise(function(_0x5a6a9b,_0x375c5c){var _0x3de264=_0x4e9dfb,_0x59a296=http[_0x3de264(0x1de)](_0xc5dbda,_0x5a6a9b);fs[_0x3de264(0x4b0)](testFile)[_0x3de264(0x23a)](_0x59a296),_0x59a296['on'](_0x3de264(0x47a),_0x375c5c);}))[_0x4e9dfb(0x3d1)](_0x4aeb64[_0x4e9dfb(0x2ea)](asPromise,function(_0x4d2b3c,_0x1cc9df,_0x24a14b){var _0x2cb338=_0x4e9dfb;_0x597cce[_0x2cb338(0x184)]('eVZTB',_0x597cce[_0x2cb338(0x3b2)])?_0x24a14b[_0x2cb338(0x23a)](concat({'encoding':_0x2cb338(0x260)},_0x4d2b3c))['on'](_0x2cb338(0x47a),_0x1cc9df):(_0x280d5e=_0x502e15[_0x2cb338(0x191)](_0x597cce[_0x2cb338(0x311)]),_0xbac588['on'](_0x597cce[_0x2cb338(0x332)],function(_0x327b18,_0x395484,_0x3cfe51){_0x113343({'response':_0x327b18,'socket':_0x395484,'head':_0x3cfe51});}),_0x1da817['on'](_0x597cce['sAPTk'],_0xa85d06),_0x1d57d4[_0x2cb338(0x19d)][_0x2cb338(0x3c5)]('connect','r','s','h'));}))[_0x4e9dfb(0x3d1)](function(_0xcf164d){var _0x32047c=_0x4e9dfb;assert[_0x32047c(0x19f)](_0xcf164d,testFileString);});}),describe('should\x20obey\x20a\x20`maxBodyLength`\x20property',function(){var _0xe940f5=_0x527ffd,_0x33df2c={'OJEtc':function(_0xa50736,_0xbe8aa){return _0xa50736===_0xbe8aa;},'uYVkg':_0x4aeb64[_0xe940f5(0x541)],'JECNR':_0x4aeb64['RJqGd'],'WFZZD':_0x4aeb64['mfOaH'],'Izumq':_0x4aeb64[_0xe940f5(0x33c)],'tCwgX':function(_0x146c6a,_0x33d20b){return _0x146c6a instanceof _0x33d20b;},'JQQmq':_0xe940f5(0x570),'fjAaQ':function(_0x103d87,_0x2addcf){return _0x103d87(_0x2addcf);},'oyJSR':_0x4aeb64[_0xe940f5(0x425)],'Kcjbx':_0x4aeb64['RppNG'],'wVXxu':'12345678'};it(_0x4aeb64['JGlbs'],function(){var _0x389d7d=_0xe940f5;assert[_0x389d7d(0x19f)](followRedirects[_0x389d7d(0x150)],_0x4aeb64['OnRNd'](_0x4aeb64[_0x389d7d(0x474)](0xa,0x400),0x400));}),it(_0x4aeb64[_0xe940f5(0x182)],function(){var _0x3e8f04=_0xe940f5,_0x6d0ed5={'oRstF':function(_0x4be76c,_0x3699de){var _0x25765b=_0x23bf;return _0x4aeb64[_0x25765b(0x222)](_0x4be76c,_0x3699de);},'pGYjU':'gzWfl','xmiXx':'12345678','FsvUr':_0x4aeb64[_0x3e8f04(0x541)]};return _0x4e7e41[_0x3e8f04(0x436)]('/a',function(_0x5cbc19,_0x52550a){var _0x5953e5=_0x3e8f04;_0x5cbc19[_0x5953e5(0x23a)](_0x52550a);}),followRedirects['maxBodyLength']=0x8,server[_0x3e8f04(0x17c)](_0x4e7e41)[_0x3e8f04(0x3d1)](_0x4aeb64[_0x3e8f04(0x561)](asPromise,function(_0x585d52,_0x46ef0e){var _0x24c3e9=_0x3e8f04,_0xbc4500={'xGdtf':_0x24c3e9(0x54f)};if(_0x6d0ed5['oRstF'](_0x6d0ed5['pGYjU'],_0x6d0ed5[_0x24c3e9(0x3ec)])){var _0xee3e50=http[_0x24c3e9(0x1de)](_0x24c3e9(0x4ad),{'method':_0x24c3e9(0x570)},_0x46ef0e);_0xee3e50[_0x24c3e9(0x1b7)](_0x6d0ed5[_0x24c3e9(0x2a1)]),_0xee3e50['on'](_0x6d0ed5[_0x24c3e9(0x416)],_0x585d52),_0xee3e50[_0x24c3e9(0x1b7)]('9');}else throw new _0x17d1bf(_0xbc4500[_0x24c3e9(0x1c5)]);}))[_0x3e8f04(0x3d1)](function(_0x16a680){var _0x4b18c0=_0x3e8f04;assert[_0x4b18c0(0x19f)](_0x16a680[_0x4b18c0(0x5af)],_0x4b18c0(0x160));});}),it(_0x4aeb64[_0xe940f5(0x591)],function(){var _0x12b545=_0xe940f5,_0x4cb118={'YNcrj':'string','NuFVW':function(_0x2278e6,_0x5ac7ae){return _0x2278e6(_0x5ac7ae);},'rqPtC':function(_0x199269,_0x8e999e){var _0x1f73b5=_0x23bf;return _0x33df2c[_0x1f73b5(0x489)](_0x199269,_0x8e999e);},'lXJja':_0x33df2c[_0x12b545(0x539)],'DWuZT':_0x33df2c[_0x12b545(0x347)],'qvioA':_0x33df2c[_0x12b545(0x2cd)],'feeBo':_0x33df2c['Izumq'],'silij':function(_0x484699,_0x752fad){var _0x10c055=_0x12b545;return _0x33df2c[_0x10c055(0x466)](_0x484699,_0x752fad);}};_0x4e7e41[_0x12b545(0x436)]('/a',function(_0x2cf935,_0x28ea9d){var _0x2a7c7e=_0x12b545;_0x2cf935[_0x2a7c7e(0x23a)](_0x28ea9d);});var _0x29a83d=url[_0x12b545(0x45c)](_0x12b545(0x4ad));return _0x29a83d['method']=_0x33df2c[_0x12b545(0x4b8)],_0x29a83d['maxBodyLength']=0x8,server['start'](_0x4e7e41)[_0x12b545(0x3d1)](_0x33df2c['fjAaQ'](asPromise,function(_0x3a4c45,_0xdae3d4){var _0x5d3148=_0x12b545;if(_0x4cb118[_0x5d3148(0x51f)](_0x5d3148(0x453),_0x5d3148(0x453))){var _0x4714d6=http[_0x5d3148(0x1de)](_0x29a83d,_0xdae3d4);_0x4714d6['write'](_0x5d3148(0x276)),_0x4714d6['on'](_0x4cb118[_0x5d3148(0x183)],_0x3a4c45),_0x4714d6[_0x5d3148(0x1b7)]('9');}else{var _0x423233={'QlONe':function(_0x5f2c2b,_0x43db2c,_0x306c39){return _0x5f2c2b(_0x43db2c,_0x306c39);},'kSWOh':_0x4cb118[_0x5d3148(0x420)]};return _0x7853c0['start'](_0x42141b)[_0x5d3148(0x3d1)](_0x4cb118[_0x5d3148(0x559)](_0x27f274,function(_0xa00d89){var _0x50508c=_0x5d3148,_0x310222=_0x27be0e[_0x50508c(0x1de)]('http://localhost:3600/a',{'method':'POST'},_0xa00d89);_0x310222[_0x50508c(0x452)]('');}))[_0x5d3148(0x3d1)](_0x45c00d(function(_0x56f813,_0x400bb9,_0x509841){var _0x1eab10=_0x5d3148;_0x509841[_0x1eab10(0x23a)](_0x423233[_0x1eab10(0x57b)](_0xb0561,{'encoding':_0x423233[_0x1eab10(0x24f)]},_0x56f813));}))[_0x5d3148(0x3d1)](function(_0x53507e){_0x349325['equal'](_0x53507e,'');});}}))[_0x12b545(0x3d1)](function(_0x458ec8){var _0x2a115e=_0x12b545;if(_0x4cb118[_0x2a115e(0x51f)](_0x2a115e(0x153),_0x4cb118[_0x2a115e(0x4cb)]))assert(_0x4cb118[_0x2a115e(0x21f)](_0x458ec8,Error)),assert[_0x2a115e(0x19f)](_0x458ec8[_0x2a115e(0x1e7)],_0x2a115e(0x157)),assert[_0x2a115e(0x19f)](_0x458ec8[_0x2a115e(0x5af)],_0x2a115e(0x160));else{var _0x4f7ed3={'pYGkl':_0x4cb118['DWuZT'],'dHfCg':_0x2a115e(0x2a4),'AwwDg':function(_0x1cbd26,_0x27b896,_0x41497c){return _0x1cbd26(_0x27b896,_0x41497c);},'BkKdZ':_0x4cb118[_0x2a115e(0x567)]};return _0x368fd4[_0x2a115e(0x191)]('/a',_0x4cb118[_0x2a115e(0x559)](_0x44cbf7,{'a':'b'})),_0x4e3741[_0x2a115e(0x17c)](_0x5d0bf8)[_0x2a115e(0x3d1)](_0x4cb118[_0x2a115e(0x559)](_0x1993ea,function(_0x4a19eb,_0x234c39){var _0x4b97f0=_0x2a115e,_0x47cc33={'host':_0x4f7ed3[_0x4b97f0(0x517)],'port':0xe10,'path':'/a','method':_0x4b97f0(0x193),'beforeRedirect':function(){var _0x101038=_0x4b97f0;_0x35307b[_0x101038(0x557)](_0x4f7ed3[_0x101038(0x1a8)]);}};_0xc8cd34[_0x4b97f0(0x191)](_0x47cc33,_0x4f7ed3[_0x4b97f0(0x4c8)](_0x20b47d,_0x4a19eb,_0x234c39))['on']('error',_0x234c39);}))[_0x2a115e(0x3d1)](function(_0x3b6292){var _0x59f259=_0x2a115e;_0x3804a2['deepEqual'](_0x3b6292[_0x59f259(0x2d1)],{'a':'b'}),_0x210a6d['deepEqual'](_0x3b6292['responseUrl'],_0x4f7ed3['BkKdZ']);});}});}),_0x4aeb64['SANNu'](it,_0x4aeb64[_0xe940f5(0x272)],function(){var _0x40cc5e=_0xe940f5,_0x3b3ea0={'BjiyB':_0x40cc5e(0x4ad),'SFHvH':_0x33df2c[_0x40cc5e(0x539)],'HDhbm':_0x33df2c[_0x40cc5e(0x1fa)],'ScPbm':_0x33df2c[_0x40cc5e(0x365)]};return _0x4e7e41[_0x40cc5e(0x436)]('/a',function(_0x229216,_0x2f9b81){var _0x41a7eb=_0x40cc5e;_0x229216[_0x41a7eb(0x23a)](_0x2f9b81);}),followRedirects[_0x40cc5e(0x150)]=0x8,server[_0x40cc5e(0x17c)](_0x4e7e41)[_0x40cc5e(0x3d1)](_0x33df2c['fjAaQ'](asPromise,function(_0x350430,_0x11ee50){var _0x3a429c=_0x40cc5e,_0xc71169=http[_0x3a429c(0x1de)](_0x3b3ea0[_0x3a429c(0x55e)],{'method':_0x3a429c(0x570)},_0x11ee50);_0xc71169[_0x3a429c(0x1b7)](_0x3a429c(0x276)),_0xc71169['on'](_0x3b3ea0[_0x3a429c(0x3fb)],_0x350430),_0xc71169[_0x3a429c(0x452)]('9');}))[_0x40cc5e(0x3d1)](function(_0x5cc16f){var _0x37e929=_0x40cc5e;assert(_0x5cc16f instanceof Error),assert['equal'](_0x5cc16f[_0x37e929(0x1e7)],_0x3b3ea0[_0x37e929(0x370)]),assert[_0x37e929(0x19f)](_0x5cc16f[_0x37e929(0x5af)],_0x3b3ea0['ScPbm']);});}),it(_0x4aeb64[_0xe940f5(0x40e)],function(){var _0x5394f1=_0xe940f5;_0x4e7e41['post']('/a',function(_0x438421,_0x1dc09b){_0x438421['pipe'](_0x1dc09b);});var _0x367c47=url[_0x5394f1(0x45c)](_0x5394f1(0x4ad));return _0x367c47['method']='POST',_0x367c47[_0x5394f1(0x150)]=0x8,server[_0x5394f1(0x17c)](_0x4e7e41)[_0x5394f1(0x3d1)](asPromise(function(_0x206df0,_0x1cedd8){var _0x1afb5f=_0x5394f1,_0x42fe9e=http[_0x1afb5f(0x1de)](_0x367c47,_0x1cedd8);_0x42fe9e[_0x1afb5f(0x1b7)](_0x33df2c[_0x1afb5f(0x543)]),_0x42fe9e['on'](_0x33df2c[_0x1afb5f(0x539)],_0x206df0),_0x42fe9e[_0x1afb5f(0x452)]('9');}))['then'](function(_0x389ae8){var _0x25f0aa=_0x5394f1;assert(_0x33df2c[_0x25f0aa(0x466)](_0x389ae8,Error)),assert[_0x25f0aa(0x19f)](_0x389ae8[_0x25f0aa(0x1e7)],_0x25f0aa(0x157)),assert[_0x25f0aa(0x19f)](_0x389ae8[_0x25f0aa(0x5af)],_0x25f0aa(0x160));});});}),_0x4aeb64[_0x527ffd(0x4aa)](describe,_0x527ffd(0x41d),function(){var _0x573687=_0x527ffd,_0x1e24d1={'ihJlE':_0x573687(0x53d),'Buwrh':function(_0x451ac6,_0x1a0a51){return _0x451ac6===_0x1a0a51;},'OmaTc':'facqj','JCMcx':function(_0x5b9e41,_0x54bf17){return _0x5b9e41(_0x54bf17);},'pIUlx':function(_0x414ca7,_0xbb562c){return _0x414ca7 instanceof _0xbb562c;},'DdxdF':function(_0x25074d,_0x13cb61){return _0x25074d instanceof _0x13cb61;}};it('throws\x20an\x20error',function(){var _0x3e3574=_0x573687,_0xd1dd3d=http[_0x3e3574(0x1de)](_0x1e24d1[_0x3e3574(0x566)]),_0x252008=null;try{_0x1e24d1[_0x3e3574(0x360)](_0x1e24d1['OmaTc'],_0x3e3574(0x488))?_0x98484c[_0x3e3574(0x452)](_0x4732dd[_0x3e3574(0x402)](_0x2a9fd9[_0x3e3574(0x47c)])):_0xd1dd3d[_0x3e3574(0x1b7)](0xbc614e);}catch(_0x4cadc4){_0x252008=_0x4cadc4;}_0xd1dd3d['destroy'](),_0x1e24d1[_0x3e3574(0x490)](assert,_0x1e24d1[_0x3e3574(0x5b1)](_0x252008,Error)),_0x1e24d1['JCMcx'](assert,_0x1e24d1[_0x3e3574(0x213)](_0x252008,TypeError)),assert[_0x3e3574(0x19f)](_0x252008[_0x3e3574(0x5af)],_0x3e3574(0x1f2));});}),_0x4aeb64[_0x527ffd(0x562)](describe,'when\x20switching\x20from\x20POST\x20to\x20GET',function(){var _0x324a10=_0x527ffd;it(_0x4aeb64[_0x324a10(0x1dc)],function(){var _0x58e0ba=_0x324a10,_0x4d9557={'gNteL':_0x4aeb64[_0x58e0ba(0x4ff)],'BDhgl':_0x58e0ba(0x26a),'kPJfo':_0x4aeb64[_0x58e0ba(0x1bb)]};_0x4e7e41[_0x58e0ba(0x436)]('/a',_0x4aeb64[_0x58e0ba(0x3b5)](redirectsTo,0x12e,_0x4aeb64[_0x58e0ba(0x3fd)])),_0x4e7e41[_0x58e0ba(0x191)]('/b',function(_0x12e566,_0x5683ab){var _0x4e2294=_0x58e0ba;_0x5683ab[_0x4e2294(0x1b7)](JSON['stringify'](_0x12e566[_0x4e2294(0x47c)])),_0x12e566['pipe'](_0x5683ab);});var _0x263080=url[_0x58e0ba(0x45c)](_0x4aeb64[_0x58e0ba(0x44d)]);return _0x263080[_0x58e0ba(0x454)]='POST',_0x263080[_0x58e0ba(0x47c)]={'other':_0x4aeb64[_0x58e0ba(0x1bb)],'content-type':_0x4aeb64['thwcK'],'Content-Length':testFileBuffer[_0x58e0ba(0x1e1)]},server[_0x58e0ba(0x17c)](_0x4e7e41)[_0x58e0ba(0x3d1)](_0x4aeb64[_0x58e0ba(0x1e6)](asPromise,function(_0x40ad42,_0x23cc4b){var _0x37c085=_0x58e0ba,_0x216e24=http[_0x37c085(0x1de)](_0x263080,_0x40ad42);fs['createReadStream'](testFile)['pipe'](_0x216e24),_0x216e24['on'](_0x37c085(0x47a),_0x23cc4b);}))[_0x58e0ba(0x3d1)](asPromise(function(_0x15cb95,_0x5c6e61,_0x3f26c6){var _0x13bfcf=_0x58e0ba;_0x3f26c6[_0x13bfcf(0x23a)](concat({'encoding':_0x13bfcf(0x260)},_0x15cb95))['on']('error',_0x5c6e61);}))[_0x58e0ba(0x3d1)](function(_0x339617){var _0xbf4ee0=_0x58e0ba;if(_0x4d9557[_0xbf4ee0(0x1e8)]==='ZxYPe')_0x3ebf84['equal'](_0x5c5719,_0x200642);else{var _0x1ecd27=_0xbf4ee0(0x1d8)[_0xbf4ee0(0x3e0)]('|'),_0xcb415a=0x0;while(!![]){switch(_0x1ecd27[_0xcb415a++]){case'0':assert[_0xbf4ee0(0x19f)](_0xb5a7ee[_0x4d9557[_0xbf4ee0(0x3b8)]],undefined);continue;case'1':var _0xb5a7ee=JSON[_0xbf4ee0(0x45c)](_0x339617);continue;case'2':assert[_0xbf4ee0(0x19f)](_0xb5a7ee[_0xbf4ee0(0x291)],undefined);continue;case'3':assert[_0xbf4ee0(0x19f)](_0xb5a7ee[_0xbf4ee0(0x238)],_0x4d9557[_0xbf4ee0(0x336)]);continue;case'4':assert[_0xbf4ee0(0x19f)](_0xb5a7ee[_0xbf4ee0(0x5ac)],_0xbf4ee0(0x33e));continue;}break;}}});});}),_0x4aeb64[_0x527ffd(0x2bf)](describe,_0x527ffd(0x40c),function(){var _0x59ac60=_0x527ffd,_0x3eb9eb={'VpzpB':function(_0x23a13a,_0x28c8da){return _0x23a13a===_0x28c8da;},'jOLPh':_0x59ac60(0x2e3),'PVnAt':_0x4aeb64['bpfjG'],'mFOJB':function(_0x158f26,_0xf5645c){return _0x158f26(_0xf5645c);},'MKhfP':_0x59ac60(0x581),'RzpDp':function(_0x4aa8b6,_0x4a31a9){var _0x3985e5=_0x59ac60;return _0x4aeb64[_0x3985e5(0x3d9)](_0x4aa8b6,_0x4a31a9);},'YhbKA':function(_0x582df9,_0x164536,_0x479430){var _0x171c7f=_0x59ac60;return _0x4aeb64[_0x171c7f(0x3db)](_0x582df9,_0x164536,_0x479430);},'UJOoe':_0x4aeb64[_0x59ac60(0x367)],'cUGtd':'BjlVu','OioYy':'error','PYlzd':_0x59ac60(0x50a),'uBmeZ':_0x4aeb64[_0x59ac60(0x1f7)]};it(_0x59ac60(0x551),function(){var _0x15aca6=_0x59ac60,_0x23038e={'aVrLT':'error','EYZkq':_0x3eb9eb[_0x15aca6(0x1c7)],'zLiSc':function(_0x3e7183,_0x30fa6c){var _0x31e310=_0x15aca6;return _0x3eb9eb[_0x31e310(0x253)](_0x3e7183,_0x30fa6c);},'rNZiP':_0x3eb9eb['MKhfP'],'XgcQb':function(_0x3acfae,_0x476394){var _0x45cf64=_0x15aca6;return _0x3eb9eb[_0x45cf64(0x2cf)](_0x3acfae,_0x476394);}};return _0x4e7e41[_0x15aca6(0x191)]('/a',_0x3eb9eb[_0x15aca6(0x242)](redirectsTo,0x12e,'http://localhost:3600/b')),_0x4e7e41['get']('/b',function(_0x14d8a6,_0x270220){var _0x529ff7=_0x15aca6;_0x270220[_0x529ff7(0x1b7)](JSON[_0x529ff7(0x402)](_0x14d8a6[_0x529ff7(0x47c)])),_0x14d8a6[_0x529ff7(0x23a)](_0x270220);}),server['start'](_0x4e7e41)[_0x15aca6(0x3d1)](asPromise(function(_0x47e841,_0x3e34c3){var _0xd87b61=_0x15aca6,_0xca921c=url['parse'](_0xd87b61(0x4ad));_0xca921c[_0xd87b61(0x47c)]={'hOsT':_0xd87b61(0x156)},http[_0xd87b61(0x191)](_0xca921c,_0x47e841)['on'](_0x23038e[_0xd87b61(0x3be)],_0x3e34c3);}))[_0x15aca6(0x3d1)](_0x3eb9eb['mFOJB'](asPromise,function(_0x2f34a1,_0x382a68,_0x3a534d){var _0x14320e=_0x15aca6;assert['deepEqual'](_0x3a534d[_0x14320e(0x22a)],0xc8),assert[_0x14320e(0x16c)](_0x3a534d[_0x14320e(0x237)],'http://localhost:3600/b'),_0x3a534d[_0x14320e(0x23a)](concat({'encoding':_0x14320e(0x260)},_0x2f34a1))['on'](_0x14320e(0x47a),_0x382a68);}))[_0x15aca6(0x3d1)](function(_0x5b88f2){var _0x4de619=_0x15aca6;if(_0x3eb9eb[_0x4de619(0x26d)](_0x3eb9eb['jOLPh'],_0x3eb9eb[_0x4de619(0x17d)])){var _0x4cef0c=JSON[_0x4de619(0x45c)](_0x5b88f2);assert[_0x4de619(0x19f)](_0x4cef0c['host'],'localhost:3600');}else{var _0xc37c3b=_0x23038e[_0x4de619(0x36b)][_0x4de619(0x3e0)]('|'),_0x901fee=0x0;while(!![]){switch(_0xc37c3b[_0x901fee++]){case'0':_0x23038e['zLiSc'](_0x26d8c9,_0xea35f5 instanceof _0x2e01b4);continue;case'1':var _0xea35f5=null;continue;case'2':try{_0x59329e[_0x4de619(0x191)]({'hostname':_0x23038e[_0x4de619(0x1df)],'port':0xe10,'path':'/a'});}catch(_0x16485c){_0xea35f5=_0x16485c;}continue;case'3':_0x5703ea(_0x23038e[_0x4de619(0x2d6)](_0xea35f5,_0x43faab));continue;case'4':_0x276c49['equal'](_0xea35f5[_0x4de619(0x1e7)],_0x4de619(0x41f));continue;}break;}}});}),it(_0x4aeb64[_0x59ac60(0x1ad)],function(){var _0x57634f=_0x59ac60,_0x3bd8d6={'mFbjL':_0x4aeb64[_0x57634f(0x5b6)],'NsMbA':function(_0x51867a,_0x28cece,_0x565dbc){var _0x22c3ee=_0x57634f;return _0x4aeb64[_0x22c3ee(0x4a0)](_0x51867a,_0x28cece,_0x565dbc);},'IFNgV':_0x4aeb64['QYyoM'],'rDOvE':_0x4aeb64[_0x57634f(0x541)],'IBhtB':_0x4aeb64[_0x57634f(0x1b9)]};return _0x4e7e41[_0x57634f(0x191)]('/a',redirectsTo(0x12e,_0x57634f(0x53b))),_0x4e7e41[_0x57634f(0x191)]('/b',function(_0x28da5b,_0x4ae872){var _0x519a9e=_0x57634f;_0x4ae872[_0x519a9e(0x1b7)](JSON[_0x519a9e(0x402)](_0x28da5b[_0x519a9e(0x47c)])),_0x28da5b['pipe'](_0x4ae872);}),server[_0x57634f(0x17c)](_0x4e7e41)[_0x57634f(0x3d1)](_0x4aeb64[_0x57634f(0x5a4)](asPromise,function(_0xac178a,_0x3da4b3){var _0x1c767a=_0x57634f,_0x20713c=url['parse'](_0x3eb9eb[_0x1c767a(0x175)]);_0x20713c['headers']={'hOsT':_0x1c767a(0x33e)},http['get'](_0x20713c,_0xac178a)['on'](_0x1c767a(0x47a),_0x3da4b3);}))[_0x57634f(0x3d1)](asPromise(function(_0x3851f9,_0x1e3c3a,_0x4c8906){var _0x246f8e=_0x57634f;_0x246f8e(0x229)!==_0x3bd8d6['mFbjL']?(assert[_0x246f8e(0x16c)](_0x4c8906['statusCode'],0xc8),assert[_0x246f8e(0x16c)](_0x4c8906['responseUrl'],'http://localhost:3600/b'),_0x4c8906[_0x246f8e(0x23a)](_0x3bd8d6[_0x246f8e(0x2d4)](concat,{'encoding':_0x3bd8d6[_0x246f8e(0x50d)]},_0x3851f9))['on'](_0x3bd8d6['rDOvE'],_0x1e3c3a)):(_0x15966a[_0x246f8e(0x16c)](_0x4994a2[_0x246f8e(0x2d1)],{'hello':_0x246f8e(0x3c8)}),_0x24613a[_0x246f8e(0x16c)](_0x12fd57[_0x246f8e(0x237)],_0x246f8e(0x305)));}))[_0x57634f(0x3d1)](function(_0x125739){var _0x578ca1=_0x57634f,_0x3ef645=JSON[_0x578ca1(0x45c)](_0x125739);assert['equal'](_0x3ef645['host'],_0x3bd8d6[_0x578ca1(0x296)]);});}),it(_0x59ac60(0x326),function(){var _0x18b243=_0x59ac60,_0x228f27={'vEQyd':function(_0x2d2d56,_0x2f2267,_0x1fe277){var _0x497a52=_0x23bf;return _0x4aeb64[_0x497a52(0x4ce)](_0x2d2d56,_0x2f2267,_0x1fe277);},'LmOoj':_0x4aeb64[_0x18b243(0x541)],'ZyQrc':function(_0x530acf,_0x4bac33,_0x2775c3){return _0x530acf(_0x4bac33,_0x2775c3);},'yneFR':_0x4aeb64[_0x18b243(0x1f7)]};if(_0x4aeb64[_0x18b243(0x15b)](_0x4aeb64[_0x18b243(0x322)],_0x4aeb64['UjhPb'])){var _0x2dfba6=_0x29e9b5[_0x18b243(0x191)](_0x18b243(0x4ad),_0x22f52d);_0x2dfba6[_0x18b243(0x1d6)](!![]);}else return _0x4e7e41[_0x18b243(0x191)]('/a',redirectsTo(0x12e,'/b')),_0x4e7e41[_0x18b243(0x191)]('/b',function(_0x53ac67,_0x4f4c7c){var _0x16bbe4=_0x18b243;_0x4f4c7c['write'](JSON[_0x16bbe4(0x402)](_0x53ac67[_0x16bbe4(0x47c)])),_0x53ac67[_0x16bbe4(0x23a)](_0x4f4c7c);}),server[_0x18b243(0x17c)](_0x4e7e41)[_0x18b243(0x3d1)](asPromise(function(_0x2a3a25,_0x68720c){var _0x1b88ff=_0x18b243;if(_0x1b88ff(0x233)!==_0x3eb9eb['cUGtd'])_0x324b52[_0x1b88ff(0x23a)](_0x228f27[_0x1b88ff(0x37a)](_0x1ac500,{'encoding':_0x1b88ff(0x260)},_0x2fddbd))['on'](_0x228f27[_0x1b88ff(0x507)],_0x3ed221);else{var _0x1d8386=url[_0x1b88ff(0x45c)](_0x3eb9eb[_0x1b88ff(0x175)]);_0x1d8386[_0x1b88ff(0x47c)]={'hOsT':'localhost:3600'},http['get'](_0x1d8386,_0x2a3a25)['on'](_0x3eb9eb['OioYy'],_0x68720c);}}))[_0x18b243(0x3d1)](_0x4aeb64[_0x18b243(0x404)](asPromise,function(_0x3b9f84,_0x43e4c4,_0x7b69c4){var _0x253cc0=_0x18b243;assert[_0x253cc0(0x16c)](_0x7b69c4['statusCode'],0xc8),assert['deepEqual'](_0x7b69c4[_0x253cc0(0x237)],'http://localhost:3600/b'),_0x7b69c4['pipe'](_0x228f27[_0x253cc0(0x14e)](concat,{'encoding':_0x228f27[_0x253cc0(0x3df)]},_0x3b9f84))['on'](_0x253cc0(0x47a),_0x43e4c4);}))[_0x18b243(0x3d1)](function(_0x392087){var _0x2dd9d2=_0x18b243,_0x88cb9b=JSON['parse'](_0x392087);assert[_0x2dd9d2(0x19f)](_0x88cb9b[_0x2dd9d2(0x5ac)],_0x2dd9d2(0x33e));});}),it(_0x4aeb64[_0x59ac60(0x55a)],function(){var _0x444ec3=_0x59ac60,_0x219fc0={'HjPpZ':'POST','LOlPI':function(_0xa3d88d,_0x18826e){var _0x3367f9=_0x23bf;return _0x4aeb64[_0x3367f9(0x28d)](_0xa3d88d,_0x18826e);}};return _0x4e7e41[_0x444ec3(0x191)]('/a',_0x4aeb64[_0x444ec3(0x1e0)](redirectsTo,0x12e,'/b')),_0x4e7e41[_0x444ec3(0x191)]('/b',function(_0x91bdc8,_0x3721d4){var _0x405f4c=_0x444ec3;_0x3721d4[_0x405f4c(0x1b7)](JSON[_0x405f4c(0x402)](_0x91bdc8[_0x405f4c(0x47c)])),_0x91bdc8['pipe'](_0x3721d4);}),server[_0x444ec3(0x17c)](_0x4e7e41)[_0x444ec3(0x3d1)](asPromise(function(_0x5d37de,_0x1865f4){var _0x574498=_0x444ec3;if(_0x574498(0x201)!==_0x3eb9eb[_0x574498(0x3b4)]){var _0xd3209b={'port':0xe10,'path':'/a'};http[_0x574498(0x191)](_0xd3209b,_0x5d37de)['on'](_0x574498(0x47a),_0x1865f4);}else{var _0x3d4956=_0x394d0c[_0x574498(0x1de)](_0x574498(0x4ad),{'method':_0x219fc0['HjPpZ']},_0xc9f6c0);_0x3d4956[_0x574498(0x452)]('abc',_0x574498(0x55f),_0x3a700a);}}))[_0x444ec3(0x3d1)](_0x4aeb64['YltpJ'](asPromise,function(_0x3ff166,_0x53ee86,_0x4409a8){var _0x35ba51=_0x444ec3;assert[_0x35ba51(0x16c)](_0x4409a8[_0x35ba51(0x22a)],0xc8),assert(_0x4409a8[_0x35ba51(0x237)][_0x35ba51(0x4f1)]('/b')),_0x4409a8['pipe'](_0x3eb9eb['YhbKA'](concat,{'encoding':_0x3eb9eb['uBmeZ']},_0x3ff166))['on'](_0x3eb9eb[_0x35ba51(0x1c8)],_0x53ee86);}))[_0x444ec3(0x3d1)](function(_0x1ed583){var _0x3307a9=_0x444ec3,_0x2bf476=JSON[_0x3307a9(0x45c)](_0x1ed583);_0x219fc0['LOlPI'](assert,_0x2bf476['host'][_0x3307a9(0x4f1)](':3600'));});});}),[_0x527ffd(0x16f),'Cookie'][_0x527ffd(0x524)](function(_0x16ec40){var _0x2b63db=_0x527ffd,_0x3a5630={'QGNjV':_0x4aeb64[_0x2b63db(0x3fd)],'nnWjR':function(_0x2cf3b1,_0x1b3d8e){var _0x2284d4=_0x2b63db;return _0x4aeb64[_0x2284d4(0x520)](_0x2cf3b1,_0x1b3d8e);},'XjXoD':function(_0x5579f3,_0x2d865b,_0x54f411){var _0x5313e0=_0x2b63db;return _0x4aeb64[_0x5313e0(0x522)](_0x5579f3,_0x2d865b,_0x54f411);},'UDpfS':_0x2b63db(0x260),'mWvmb':_0x4aeb64[_0x2b63db(0x541)],'kRJog':_0x4aeb64['GDomz'],'vJmHQ':'nAjEN','GdSsw':_0x4aeb64[_0x2b63db(0x1b9)],'myUVh':_0x4aeb64[_0x2b63db(0x367)],'XxmuM':_0x4aeb64[_0x2b63db(0x2f9)],'vUyJc':_0x2b63db(0x1bf),'ywffe':'SDvtB','rGhAs':function(_0x2acde7,_0x258b96){var _0x2d52ed=_0x2b63db;return _0x4aeb64[_0x2d52ed(0x463)](_0x2acde7,_0x258b96);},'DvBvt':_0x4aeb64[_0x2b63db(0x3d8)],'USIns':function(_0x2f8b1c,_0x2203aa,_0xbff4a7){var _0x14549a=_0x2b63db;return _0x4aeb64[_0x14549a(0x443)](_0x2f8b1c,_0x2203aa,_0xbff4a7);},'gzjyN':_0x4aeb64[_0x2b63db(0x496)],'ZPASR':function(_0x1b4e61,_0x39da0f){var _0x56fab0=_0x2b63db;return _0x4aeb64[_0x56fab0(0x2ac)](_0x1b4e61,_0x39da0f);},'BFplE':function(_0x53be72,_0x37c31f){return _0x4aeb64['fMJLO'](_0x53be72,_0x37c31f);},'jergO':'PpfCP','EBsfY':_0x2b63db(0x193),'yEJyF':_0x4aeb64[_0x2b63db(0x425)],'NXlYN':function(_0x1bca5f,_0x56197b){return _0x4aeb64['QtbCT'](_0x1bca5f,_0x56197b);},'OUDGv':_0x4aeb64[_0x2b63db(0x3c1)],'XldQS':'POST','ciCog':_0x4aeb64['MsuWU'],'dqjvL':_0x4aeb64[_0x2b63db(0x37d)],'FISdl':'Cwjpr','YpJzC':function(_0x33aba7,_0x24884a){var _0x23114c=_0x2b63db;return _0x4aeb64[_0x23114c(0x1e6)](_0x33aba7,_0x24884a);},'RSeho':function(_0x4b93b8,_0x4bbffc){return _0x4b93b8(_0x4bbffc);},'dConQ':function(_0x23df51,_0x5154ff){return _0x23df51(_0x5154ff);}};if(_0x4aeb64[_0x2b63db(0x31c)](_0x4aeb64[_0x2b63db(0x2c4)],_0x2b63db(0x1b8)))describe(_0x4aeb64[_0x2b63db(0x37f)](_0x4aeb64[_0x2b63db(0x5b0)],_0x16ec40),function(){var _0x446a17=_0x2b63db,_0x2f512a={'OYAcL':function(_0x2dc63c,_0xe9b00b){return _0x2dc63c(_0xe9b00b);},'PYVPb':'https://localhost:3601/b','ygMiS':_0x446a17(0x3c8),'rfMyS':function(_0x1a11b8,_0x514d38){var _0x2dca9f=_0x446a17;return _0x4aeb64[_0x2dca9f(0x31c)](_0x1a11b8,_0x514d38);},'haJgF':_0x446a17(0x23c),'gZGXv':_0x446a17(0x47a),'PkXem':function(_0x412e3c,_0x52d790){var _0x118f28=_0x446a17;return _0x4aeb64[_0x118f28(0x49a)](_0x412e3c,_0x52d790);},'gnnAF':'QArET','FJkLL':function(_0x434db9,_0x214ab8,_0x2f5e7c){return _0x434db9(_0x214ab8,_0x2f5e7c);},'EAQYa':_0x446a17(0x53b),'fVZIg':_0x4aeb64[_0x446a17(0x367)],'RADzu':_0x4aeb64[_0x446a17(0x270)],'BNBsf':_0x4aeb64['BrvhK'],'nHWKn':'localhost:3600','HPKjh':function(_0x54e462,_0xe2573f,_0x593979){return _0x54e462(_0xe2573f,_0x593979);},'OBwFn':_0x4aeb64['mfOaH'],'jxCGK':_0x446a17(0x556),'VYHdM':function(_0x28aa26,_0x5541e4){return _0x28aa26(_0x5541e4);},'lyykl':_0x4aeb64['PyoOQ'],'PGflu':'2|5|3|0|6|4|1','FOaNc':_0x446a17(0x142),'RhujW':_0x4aeb64[_0x446a17(0x1f7)],'fXupF':function(_0x1f0ba9,_0x4595a7){var _0x171f47=_0x446a17;return _0x4aeb64[_0x171f47(0x475)](_0x1f0ba9,_0x4595a7);},'eMhdF':_0x446a17(0x25e),'jDsOK':function(_0x516a06,_0x1603b2){return _0x516a06(_0x1603b2);},'cCHJh':function(_0x383643,_0x3b96bb,_0x30b3e8){return _0x383643(_0x3b96bb,_0x30b3e8);},'FOraR':_0x446a17(0x2bc)};_0x4aeb64['JdlkG'](it,'ignores\x20it\x20when\x20null',function(){var _0x538644=_0x446a17;_0x4e7e41[_0x538644(0x191)]('/a',_0x2f512a['FJkLL'](redirectsTo,0x12e,_0x2f512a['EAQYa'])),_0x4e7e41[_0x538644(0x191)]('/b',function(_0xa43cb6,_0x59dd30){var _0xf649d=_0x538644;_0x59dd30[_0xf649d(0x452)](JSON[_0xf649d(0x402)](_0xa43cb6[_0xf649d(0x47c)]));});var _0x271193=url['parse'](_0x2f512a[_0x538644(0x382)]);return _0x271193['headers']={'host':_0x2f512a[_0x538644(0x227)]},_0x271193[_0x538644(0x47c)][_0x16ec40]=null,server[_0x538644(0x17c)](_0x4e7e41)[_0x538644(0x3d1)](asPromise(function(_0x300810,_0x1975c7){var _0x45af1b=_0x538644;http[_0x45af1b(0x191)](_0x271193,_0x300810)['on']('error',_0x1975c7);}))[_0x538644(0x3d1)](asPromise(function(_0x238759,_0x3a48c3,_0x306b6a){var _0x4c2e46=_0x538644,_0x22b48d={'lUmpI':function(_0x1567c8,_0x336650){return _0x2f512a['OYAcL'](_0x1567c8,_0x336650);},'NefAL':_0x2f512a['PYVPb'],'AtgaE':_0x2f512a[_0x4c2e46(0x3cd)]};if(_0x2f512a[_0x4c2e46(0x1d0)](_0x2f512a[_0x4c2e46(0x407)],_0x4c2e46(0x3fc))){var _0x3417b7={'qoJnC':_0x4c2e46(0x3c8),'kvefY':_0x4c2e46(0x305)};return _0x8614[_0x4c2e46(0x191)]('/a',_0x22b48d[_0x4c2e46(0x51d)](_0x469933,_0x22b48d[_0x4c2e46(0x56a)])),_0x4a3434[_0x4c2e46(0x191)]('/b',_0x1f6bff(_0x4c2e46(0x305))),_0xca54f8[_0x4c2e46(0x191)]('/c',_0x5d9231({'hello':_0x22b48d[_0x4c2e46(0x59f)]})),_0x492e5c[_0x4c2e46(0x199)]([_0x69c99f['start'](_0x228d01),_0x3fbc53['start'](_0x4bf45e(_0x2fda74))])[_0x4c2e46(0x3d1)](_0x4acb13(function(_0x3bcc70,_0x19ea1f){var _0x2e3621=_0x4c2e46,_0x3d5e51=_0x51c486[_0x2e3621(0x45c)](_0x2e3621(0x4ad));_0x3d5e51['ca']=_0x5d97c2,_0xb627a9[_0x2e3621(0x191)](_0x3d5e51,_0x2edfa7(_0x3bcc70,_0x19ea1f))['on'](_0x2e3621(0x47a),_0x19ea1f);}))['then'](function(_0x110abb){var _0x4fb1fd=_0x4c2e46;_0x1a4ce6[_0x4fb1fd(0x16c)](_0x110abb[_0x4fb1fd(0x2d1)],{'hello':_0x3417b7[_0x4fb1fd(0x23f)]}),_0x95e54a[_0x4fb1fd(0x16c)](_0x110abb[_0x4fb1fd(0x237)],_0x3417b7['kvefY']);});}else _0x306b6a[_0x4c2e46(0x23a)](concat({'encoding':_0x4c2e46(0x260)},_0x238759))['on'](_0x2f512a[_0x4c2e46(0x46f)],_0x3a48c3);}))[_0x538644(0x3d1)](function(_0x5e3218){var _0x3e29ad=_0x538644;if(_0x2f512a[_0x3e29ad(0x37e)](_0x2f512a[_0x3e29ad(0x17b)],_0x2f512a['gnnAF'])){var _0x3b98cb=JSON[_0x3e29ad(0x45c)](_0x5e3218);assert[_0x3e29ad(0x19f)](_0x3b98cb[_0x3e29ad(0x5ac)],_0x3e29ad(0x33e)),assert['equal'](_0x3b98cb[_0x16ec40[_0x3e29ad(0x1f3)]()],undefined);}else _0x3164da[_0x3e29ad(0x191)](_0x332dca,_0x2d80ee)['on'](_0x3e29ad(0x47a),_0x26d34a);});}),it('keeps\x20the\x20header\x20when\x20redirected\x20to\x20the\x20same\x20host',function(){var _0x320a60=_0x446a17;_0x4e7e41[_0x320a60(0x191)]('/a',_0x2f512a['HPKjh'](redirectsTo,0x12e,'/b')),_0x4e7e41['get']('/b',function(_0x45d690,_0x449553){var _0xb0ae2=_0x320a60;_0x449553[_0xb0ae2(0x452)](JSON[_0xb0ae2(0x402)](_0x45d690[_0xb0ae2(0x47c)]));});var _0x342fdf=url[_0x320a60(0x45c)](_0x2f512a[_0x320a60(0x28f)]);return _0x342fdf[_0x320a60(0x47c)]={},_0x342fdf['headers'][_0x16ec40]=_0x2f512a['jxCGK'],server['start'](_0x4e7e41)[_0x320a60(0x3d1)](asPromise(function(_0x90facc,_0x339713){var _0x5a1490=_0x320a60;http[_0x5a1490(0x191)](_0x342fdf,_0x90facc)['on'](_0x2f512a['gZGXv'],_0x339713);}))[_0x320a60(0x3d1)](_0x2f512a['VYHdM'](asPromise,function(_0x2ce77a,_0x50a0e0,_0x442ae1){var _0x191e4f=_0x320a60,_0x503c62={'auarq':function(_0x3451da,_0x5207ad){return _0x3451da===_0x5207ad;},'rDfpL':function(_0x26b3b6,_0x31f0de){return _0x26b3b6>_0x31f0de;},'admEW':_0x2f512a[_0x191e4f(0x46f)]};_0x191e4f(0x4ec)!==_0x2f512a['BNBsf']?(_0x4a91fa(_0x503c62[_0x191e4f(0x2d2)](_0x14f89b['aborted'],!![])||typeof _0x110e53[_0x191e4f(0x54e)]==='number'&&_0x503c62['rDfpL'](_0x1ae475[_0x191e4f(0x54e)],_0x2a5ee9)),_0x5bc485['removeListener'](_0x191e4f(0x47a),_0x135a75),_0x1fbc59['on'](_0x503c62['admEW'],_0x1806cf),_0xabeac3()):_0x442ae1[_0x191e4f(0x23a)](_0x2f512a[_0x191e4f(0x25b)](concat,{'encoding':_0x191e4f(0x260)},_0x2ce77a))['on'](_0x191e4f(0x47a),_0x50a0e0);}))[_0x320a60(0x3d1)](function(_0x2dfe18){var _0xd54670=_0x320a60,_0x5cf588=JSON['parse'](_0x2dfe18);assert[_0xd54670(0x19f)](_0x5cf588[_0xd54670(0x5ac)],_0x2f512a[_0xd54670(0x287)]),assert[_0xd54670(0x19f)](_0x5cf588[_0x16ec40[_0xd54670(0x1f3)]()],_0xd54670(0x556));});}),_0x4aeb64['JdlkG'](it,_0x4aeb64[_0x446a17(0x218)],function(){var _0x5a5c0a=_0x446a17,_0x54fc2e=_0x5a5c0a(0x159)[_0x5a5c0a(0x3e0)]('|'),_0x3f134f=0x0;while(!![]){switch(_0x54fc2e[_0x3f134f++]){case'0':_0x4e7e41[_0x5a5c0a(0x191)]('/a',redirectsTo(0x12e,_0x3a5630[_0x5a5c0a(0x476)]));continue;case'1':_0xa74ad3['headers']={'host':_0x5a5c0a(0x33e)};continue;case'2':_0xa74ad3[_0x5a5c0a(0x47c)][_0x16ec40]=_0x5a5c0a(0x556);continue;case'3':_0x4e7e41[_0x5a5c0a(0x191)]('/b',function(_0x4d93f4,_0x24bb04){var _0x4d4147=_0x5a5c0a;_0x24bb04[_0x4d4147(0x452)](JSON[_0x4d4147(0x402)](_0x4d93f4[_0x4d4147(0x47c)]));});continue;case'4':var _0xa74ad3=url[_0x5a5c0a(0x45c)](_0x5a5c0a(0x3f2));continue;case'5':return server[_0x5a5c0a(0x17c)](_0x4e7e41)[_0x5a5c0a(0x3d1)](_0x3a5630[_0x5a5c0a(0x574)](asPromise,function(_0x392405,_0x3f4e82){var _0x5d52d7=_0x5a5c0a;http[_0x5d52d7(0x191)](_0xa74ad3,_0x392405)['on'](_0x5d52d7(0x47a),_0x3f4e82);}))[_0x5a5c0a(0x3d1)](asPromise(function(_0xd7a13,_0x103380,_0x2e024a){var _0x426456=_0x5a5c0a;_0x2e024a[_0x426456(0x23a)](_0x2f44a4[_0x426456(0x5a1)](concat,{'encoding':_0x2f44a4[_0x426456(0x29a)]},_0xd7a13))['on'](_0x2f44a4[_0x426456(0x279)],_0x103380);}))[_0x5a5c0a(0x3d1)](function(_0x4bbcd0){var _0x355dee=_0x5a5c0a,_0x30ebd7=JSON[_0x355dee(0x45c)](_0x4bbcd0);assert[_0x355dee(0x19f)](_0x30ebd7[_0x355dee(0x5ac)],'localhost:3600'),assert['equal'](_0x30ebd7[_0x16ec40['toLowerCase']()],_0x2f44a4['eCXzQ']);});case'6':var _0x2f44a4={'SZwgc':function(_0x351f88,_0x347309,_0x559e2d){var _0x5875ac=_0x5a5c0a;return _0x3a5630[_0x5875ac(0x1c9)](_0x351f88,_0x347309,_0x559e2d);},'NxbxP':_0x3a5630[_0x5a5c0a(0x232)],'LWEyX':_0x3a5630[_0x5a5c0a(0x2b7)],'eCXzQ':_0x5a5c0a(0x556)};continue;}break;}}),_0x4aeb64[_0x446a17(0x337)](it,_0x446a17(0x388),function(){var _0xcb81be=_0x446a17,_0x34cc5d={'sGSyu':_0x3a5630['kRJog'],'JcRos':function(_0x27a296,_0xcdd6e3){return _0x27a296===_0xcdd6e3;},'jkElD':_0x3a5630[_0xcb81be(0x3a0)],'vaoiv':_0xcb81be(0x47a),'bTxTh':_0x3a5630[_0xcb81be(0x445)]};_0x4e7e41[_0xcb81be(0x191)]('/a',_0x3a5630['XjXoD'](redirectsTo,0x12e,_0xcb81be(0x53b))),_0x4e7e41[_0xcb81be(0x191)]('/b',function(_0x1c3891,_0x2bd5f9){var _0x153213=_0xcb81be;_0x2bd5f9['end'](JSON[_0x153213(0x402)](_0x1c3891['headers']));});var _0x5b928c=url[_0xcb81be(0x45c)](_0x3a5630[_0xcb81be(0x513)]);return _0x5b928c[_0xcb81be(0x47c)]={'host':'localhost:3600'},_0x5b928c['headers'][_0x16ec40]=_0x3a5630[_0xcb81be(0x2c5)],server[_0xcb81be(0x17c)](_0x4e7e41)[_0xcb81be(0x3d1)](asPromise(function(_0x38da11,_0x566664){var _0x15a8e5=_0xcb81be,_0x45a646={'kBKyv':function(_0x236bef,_0x52d507){return _0x236bef+_0x52d507;},'UzGIj':_0x34cc5d[_0x15a8e5(0x310)]};_0x34cc5d[_0x15a8e5(0x4a7)](_0x34cc5d[_0x15a8e5(0x226)],'nAjEN')?http[_0x15a8e5(0x191)](_0x5b928c,_0x38da11)['on'](_0x34cc5d[_0x15a8e5(0x4e0)],_0x566664):_0x52580f[_0x15a8e5(0x47c)][_0x15a8e5(0x3b9)]=_0x45a646[_0x15a8e5(0x2a9)](_0x45a646[_0x15a8e5(0x470)],_0x4d2b50[_0x15a8e5(0x47c)][_0x15a8e5(0x558)]);}))[_0xcb81be(0x3d1)](_0x3a5630[_0xcb81be(0x574)](asPromise,function(_0x123d72,_0x33f2b6,_0x2bd71a){var _0x5ca644=_0xcb81be;_0x2bd71a[_0x5ca644(0x23a)](_0x2f512a[_0x5ca644(0x25b)](concat,{'encoding':_0x5ca644(0x260)},_0x123d72))['on'](_0x2f512a[_0x5ca644(0x46f)],_0x33f2b6);}))['then'](function(_0x144e67){var _0x534631=_0xcb81be,_0x516868=JSON['parse'](_0x144e67);assert[_0x534631(0x19f)](_0x516868['host'],_0x34cc5d[_0x534631(0x221)]),assert[_0x534631(0x19f)](_0x516868[_0x16ec40[_0x534631(0x1f3)]()],_0x534631(0x556));});}),_0x4aeb64[_0x446a17(0x59d)](it,_0x4aeb64[_0x446a17(0x4db)],function(){var _0x126b74=_0x446a17,_0x5025db={'uHYyF':function(_0xa3a7f9,_0x26b992){return _0xa3a7f9!==_0x26b992;},'kLQln':_0x3a5630['vUyJc'],'tJFOk':function(_0x47e0ac,_0x7c3306,_0x3fe997){return _0x3a5630['XjXoD'](_0x47e0ac,_0x7c3306,_0x3fe997);},'vMjwe':_0x126b74(0x4ad),'xqWPP':_0x126b74(0x47a),'eyVsi':function(_0x4a3b47,_0x404503){return _0x4a3b47===_0x404503;},'DzVkR':_0x3a5630[_0x126b74(0x399)],'krUkV':_0x3a5630[_0x126b74(0x445)],'LzxLk':_0x3a5630['XxmuM']};if(_0x3a5630[_0x126b74(0x1cd)](_0x126b74(0x40f),_0x3a5630[_0x126b74(0x373)]))return _0x2f512a['OYAcL'](_0x3c8201,new _0x5b511e(_0x2f512a[_0x126b74(0x21b)]));else{_0x4e7e41[_0x126b74(0x191)]('/a',_0x3a5630['USIns'](redirectsTo,0x12e,_0x3a5630['gzjyN'])),_0x4e7e41[_0x126b74(0x191)]('/b',function(_0x5e924d,_0x1ba526){var _0x27eece=_0x126b74;_0x1ba526[_0x27eece(0x452)](JSON[_0x27eece(0x402)](_0x5e924d[_0x27eece(0x47c)]));});var _0xab3dd0=url[_0x126b74(0x45c)](_0x126b74(0x4ad));return _0xab3dd0['headers']={},_0xab3dd0[_0x126b74(0x47c)][_0x16ec40]=_0x126b74(0x556),_0xab3dd0[_0x126b74(0x189)]=function(_0x4a447b){var _0x3cac77=_0x126b74;assert['equal'](_0x4a447b[_0x3cac77(0x366)],_0x3cac77(0x41b)),_0x4a447b[_0x3cac77(0x366)]='localhost';},server[_0x126b74(0x17c)](_0x4e7e41)[_0x126b74(0x3d1)](_0x3a5630[_0x126b74(0x3c6)](asPromise,function(_0x206136,_0xbc60a5){var _0x268a86=_0x126b74;http[_0x268a86(0x191)](_0xab3dd0,_0x206136)['on']('error',_0xbc60a5);}))[_0x126b74(0x3d1)](_0x3a5630[_0x126b74(0x190)](asPromise,function(_0x514d23,_0x3c5c86,_0x11191b){var _0x1628ee=_0x126b74;_0x5025db[_0x1628ee(0x205)](_0x5025db['kLQln'],_0x1628ee(0x48c))?_0x11191b[_0x1628ee(0x23a)](_0x5025db['tJFOk'](concat,{'encoding':'string'},_0x514d23))['on'](_0x1628ee(0x47a),_0x3c5c86):_0x45c124[_0x1628ee(0x191)](_0x1628ee(0x4d7),_0x520832(_0x484ff7,_0x25d9b7))['on'](_0x1628ee(0x47a),_0x6ac6be);}))[_0x126b74(0x3d1)](function(_0x3bdd27){var _0x221140=_0x126b74,_0x185428={'pxyUu':_0x5025db['vMjwe'],'ZlzTw':function(_0x37bd4a,_0x554f6f,_0x5f05d3){return _0x5025db['tJFOk'](_0x37bd4a,_0x554f6f,_0x5f05d3);},'GvCnW':_0x5025db[_0x221140(0x38f)]};if(_0x5025db[_0x221140(0x1b6)](_0x221140(0x1b0),_0x5025db['DzVkR']))_0x54b4ce[_0x221140(0x191)](_0x185428[_0x221140(0x5b8)],_0x185428[_0x221140(0x33f)](_0x2b40e5,_0x5d71f3,_0x233e87))['on'](_0x185428[_0x221140(0x571)],_0x21b6a1);else{var _0x39eeb4=JSON[_0x221140(0x45c)](_0x3bdd27);assert['equal'](_0x39eeb4[_0x221140(0x5ac)],_0x5025db['krUkV']),assert[_0x221140(0x19f)](_0x39eeb4[_0x16ec40[_0x221140(0x1f3)]()],_0x5025db['LzxLk']);}});}}),_0x4aeb64['mfwJG'](it,_0x446a17(0x442),function(){var _0x20475b=_0x446a17,_0x4fdb37=_0x2f512a[_0x20475b(0x411)][_0x20475b(0x3e0)]('|'),_0x545783=0x0;while(!![]){switch(_0x4fdb37[_0x545783++]){case'0':var _0x3c7fa4=url[_0x20475b(0x45c)](_0x20475b(0x3f2));continue;case'1':return server[_0x20475b(0x17c)](_0x4e7e41)[_0x20475b(0x3d1)](asPromise(function(_0x3ce1f5,_0x3e6a4a){var _0x39cf28=_0x20475b;http[_0x39cf28(0x191)](_0x3c7fa4,_0x3ce1f5)['on'](_0x39cf28(0x47a),_0x3e6a4a);}))[_0x20475b(0x3d1)](asPromise(function(_0x37c4a6,_0xbfa962,_0x590826){var _0x43a219=_0x20475b;_0x590826[_0x43a219(0x23a)](concat({'encoding':_0x43a219(0x260)},_0x37c4a6))['on'](_0x43a219(0x47a),_0xbfa962);}))[_0x20475b(0x3d1)](function(_0x4b18cb){var _0x150fe5=_0x20475b,_0x162eb4=JSON['parse'](_0x4b18cb);assert[_0x150fe5(0x19f)](_0x162eb4['host'],_0x60a1dc[_0x150fe5(0x389)]),assert[_0x150fe5(0x19f)](_0x162eb4[_0x16ec40['toLowerCase']()],undefined);});case'2':var _0x60a1dc={'GZHFp':_0x2f512a['nHWKn']};continue;case'3':_0x4e7e41[_0x20475b(0x191)]('/b',function(_0x133649,_0x4eaf33){var _0x23f692=_0x20475b;_0x4eaf33[_0x23f692(0x452)](JSON[_0x23f692(0x402)](_0x133649['headers']));});continue;case'4':_0x3c7fa4[_0x20475b(0x47c)][_0x16ec40]=_0x2f512a[_0x20475b(0x2d9)];continue;case'5':_0x4e7e41['get']('/a',_0x2f512a[_0x20475b(0x25b)](redirectsTo,0x12e,_0x20475b(0x53b)));continue;case'6':_0x3c7fa4[_0x20475b(0x47c)]={'host':_0x2f512a[_0x20475b(0x227)]};continue;}break;}}),it(_0x4aeb64[_0x446a17(0x2c1)],function(){var _0x41e855=_0x446a17,_0xd73b21={'hVuvG':_0x2f512a['RhujW']};if(_0x2f512a[_0x41e855(0x219)]('WkzjJ',_0x2f512a['eMhdF'])){var _0x28a4af=_0x41e855(0x283)[_0x41e855(0x3e0)]('|'),_0x1f8ca8=0x0;while(!![]){switch(_0x28a4af[_0x1f8ca8++]){case'0':_0x4e7e41[_0x41e855(0x191)]('/b',function(_0x39ede8,_0x146cab){var _0x157d8b=_0x41e855;_0x146cab['end'](JSON[_0x157d8b(0x402)](_0x39ede8[_0x157d8b(0x47c)]));});continue;case'1':var _0xe95134=url[_0x41e855(0x45c)](_0x2f512a[_0x41e855(0x28f)]);continue;case'2':_0xe95134[_0x41e855(0x47c)]={};continue;case'3':return server[_0x41e855(0x17c)](_0x4e7e41)['then'](asPromise(function(_0x5c022b,_0x2d35a0){var _0x5eeb13=_0x41e855;http[_0x5eeb13(0x191)](_0xe95134,_0x5c022b)['on'](_0x2f512a[_0x5eeb13(0x46f)],_0x2d35a0);}))[_0x41e855(0x3d1)](_0x2f512a[_0x41e855(0x472)](asPromise,function(_0x5f56f8,_0x20f1d5,_0x5cc28e){var _0x2e7a7b=_0x41e855;_0x5cc28e[_0x2e7a7b(0x23a)](concat({'encoding':_0xd73b21[_0x2e7a7b(0x47f)]},_0x5f56f8))['on'](_0x2e7a7b(0x47a),_0x20f1d5);}))['then'](function(_0x5a7f31){var _0x32caaf=_0x41e855,_0x376b1c=JSON[_0x32caaf(0x45c)](_0x5a7f31);assert[_0x32caaf(0x19f)](_0x376b1c['host'],_0x2f512a[_0x32caaf(0x3f6)]),assert[_0x32caaf(0x19f)](_0x376b1c[_0x16ec40['toLowerCase']()],undefined);});case'4':_0xe95134[_0x41e855(0x47c)][_0x16ec40]=_0x2f512a['jxCGK'];continue;case'5':_0x4e7e41['get']('/a',_0x2f512a[_0x41e855(0x30a)](redirectsTo,0x12e,_0x2f512a[_0x41e855(0x514)]));continue;}break;}}else{var _0x5be418=_0x2eb986[_0x41e855(0x45c)](_0x420cec);_0x478767[_0x41e855(0x19f)](_0x5be418[_0x5bcc72[_0x41e855(0x1f3)]()],_0x41e855(0x556));}}),it(_0x4aeb64[_0x446a17(0x319)],function(){var _0xdc6379=_0x446a17,_0x41a89b={'ryuXe':_0x3a5630['mWvmb'],'izSFG':_0xdc6379(0x243),'LbBAH':function(_0x412539,_0x5952d7){return _0x412539(_0x5952d7);},'jvnPb':_0x3a5630[_0xdc6379(0x18b)]};_0x4e7e41[_0xdc6379(0x191)]('/a',redirectsTo(0x12e,'http://127.0.0.1:3600/b')),_0x4e7e41[_0xdc6379(0x191)]('/b',function(_0x177242,_0x476ad8){var _0x49f798=_0xdc6379;_0x476ad8[_0x49f798(0x452)](JSON[_0x49f798(0x402)](_0x177242['headers']));});var _0x598f81=url['parse'](_0xdc6379(0x3f2));return _0x598f81[_0xdc6379(0x47c)]={'host':_0xdc6379(0x2a4)},_0x598f81[_0xdc6379(0x47c)][_0x16ec40]=_0x3a5630['XxmuM'],server[_0xdc6379(0x17c)](_0x4e7e41)['then'](asPromise(function(_0x200d31,_0x3429a5){var _0x5cbfef=_0xdc6379;http['get'](_0x598f81,_0x200d31)['on'](_0x41a89b[_0x5cbfef(0x2aa)],_0x3429a5);}))[_0xdc6379(0x3d1)](asPromise(function(_0xb6b2e5,_0x2a1be2,_0x2452df){var _0x56f103=_0xdc6379;_0x2452df[_0x56f103(0x23a)](concat({'encoding':_0x56f103(0x260)},_0xb6b2e5))['on'](_0x56f103(0x47a),_0x2a1be2);}))[_0xdc6379(0x3d1)](function(_0x4c89c8){var _0x1607f2=_0xdc6379,_0x531559={'yZacs':_0x41a89b[_0x1607f2(0x269)],'zfswP':function(_0x4fc2c9,_0x2d6bd5){var _0x287134=_0x1607f2;return _0x41a89b[_0x287134(0x387)](_0x4fc2c9,_0x2d6bd5);},'TmfBc':function(_0x4c2fbd,_0x5167ab){return _0x4c2fbd instanceof _0x5167ab;},'rBQrq':_0x1607f2(0x41f),'pTqJE':function(_0x46d166,_0x524a28){return _0x46d166 instanceof _0x524a28;}};if(_0x1607f2(0x461)===_0x41a89b['jvnPb']){var _0x1b7433=JSON[_0x1607f2(0x45c)](_0x4c89c8);assert['equal'](_0x1b7433[_0x1607f2(0x5ac)],_0x1607f2(0x142)),assert[_0x1607f2(0x19f)](_0x1b7433[_0x16ec40[_0x1607f2(0x1f3)]()],undefined);}else{var _0x38bda3=_0x1607f2(0x3a2)[_0x1607f2(0x3e0)]('|'),_0x9afd1f=0x0;while(!![]){switch(_0x38bda3[_0x9afd1f++]){case'0':_0x25b964[_0x1607f2(0x19f)](_0x387654[_0x1607f2(0x1e7)],_0x1607f2(0x4f7));continue;case'1':var _0x378433=_0x4843e3[_0x1607f2(0x3b1)];continue;case'2':_0x210a37[_0x1607f2(0x19f)](_0x378433[_0x1607f2(0x3dd)],_0x531559['yZacs']);continue;case'3':_0x531559[_0x1607f2(0x28c)](_0x5af588,_0x531559['TmfBc'](_0x378433,_0x2289ce));continue;case'4':_0x468a03[_0x1607f2(0x19f)](_0x378433[_0x1607f2(0x1e7)],_0x531559[_0x1607f2(0x53c)]);continue;case'5':_0x531559[_0x1607f2(0x28c)](_0x33e4fd,_0x1418ad instanceof _0x172fbe);continue;case'6':_0x19aac8(_0x531559[_0x1607f2(0x268)](_0x378433,_0x3e8de8));continue;}break;}}});});}),it('keeps\x20the\x20header\x20when\x20redirected\x20from\x20HTTP\x20to\x20HTTPS',function(){var _0x999767=_0x2b63db,_0x4587aa={'RTtdH':_0x4aeb64[_0x999767(0x541)],'vcxRT':function(_0x5c5bc0,_0x21bd0b,_0x117d78){return _0x5c5bc0(_0x21bd0b,_0x117d78);},'Zhwst':function(_0xb71a7e,_0x4aa204){var _0xc5bad7=_0x999767;return _0x4aeb64[_0xc5bad7(0x207)](_0xb71a7e,_0x4aa204);},'XDnZJ':function(_0xc4eaab,_0x4d68a8){var _0x5a2402=_0x999767;return _0x4aeb64[_0x5a2402(0x478)](_0xc4eaab,_0x4d68a8);},'mkjvI':_0x999767(0x393),'uLOvQ':'ERR_INVALID_URL','tiERA':_0x999767(0x4f7),'dTvTh':function(_0x3328b0,_0x4f6efc){return _0x4aeb64['tFvmK'](_0x3328b0,_0x4f6efc);},'ORwby':function(_0x59862f,_0x11b999){return _0x59862f instanceof _0x11b999;},'mHMIt':function(_0x123d38,_0x374788){var _0x24d45b=_0x999767;return _0x4aeb64[_0x24d45b(0x323)](_0x123d38,_0x374788);},'llWvG':_0x4aeb64[_0x999767(0x51c)],'uNIgy':_0x4aeb64[_0x999767(0x2f9)]};_0x4e7e41[_0x999767(0x191)]('/a',_0x4aeb64['ZKXSK'](redirectsTo,0x12e,'https://localhost:3600/b')),_0x4e7e41[_0x999767(0x191)]('/b',function(_0x63a896,_0x50995b){var _0x1da183=_0x999767;_0x50995b[_0x1da183(0x452)](JSON[_0x1da183(0x402)](_0x63a896['headers']));});var _0x1bed98=url[_0x999767(0x45c)](_0x999767(0x4ad));return _0x1bed98['headers']={},_0x1bed98[_0x999767(0x47c)][_0x16ec40]='the\x20header\x20value',_0x1bed98['beforeRedirect']=function(_0x50390f){var _0x15f4cb=_0x999767;assert['equal'](_0x50390f[_0x15f4cb(0x1eb)],_0x15f4cb(0x481)),_0x50390f[_0x15f4cb(0x1eb)]=_0x15f4cb(0x49d);},server[_0x999767(0x17c)](_0x4e7e41)[_0x999767(0x3d1)](_0x4aeb64[_0x999767(0x273)](asPromise,function(_0x2ad11f,_0x29d7b9){var _0x1f3260=_0x999767;http[_0x1f3260(0x191)](_0x1bed98,_0x2ad11f)['on'](_0x4587aa[_0x1f3260(0x280)],_0x29d7b9);}))[_0x999767(0x3d1)](asPromise(function(_0x1d768e,_0x20eddb,_0x22a288){var _0x875f66=_0x999767,_0x2c6f00={'QGwvL':function(_0x3aba2a,_0x118775,_0x4551d2){var _0x5c78c9=_0x23bf;return _0x4587aa[_0x5c78c9(0x340)](_0x3aba2a,_0x118775,_0x4551d2);},'srPja':function(_0x54c4cf,_0x45036a){return _0x54c4cf(_0x45036a);},'divbH':function(_0x3e90e7,_0x5da8a0){return _0x3e90e7(_0x5da8a0);},'XdWNL':function(_0x210ae6,_0x51ac3d){var _0x32da6c=_0x23bf;return _0x4587aa[_0x32da6c(0x371)](_0x210ae6,_0x51ac3d);},'CMOIb':function(_0xae9c3d,_0x42a6a6){return _0xae9c3d(_0x42a6a6);}};if(_0x4587aa[_0x875f66(0x5b5)](_0x4587aa[_0x875f66(0x31a)],'DsuCL'))return _0x4c156c['get']('/a',_0x2c6f00['srPja'](_0x5cae64,'/b')),_0x2c118b[_0x875f66(0x191)]('/b',_0x5c2cb8('/c')),_0x2621ea[_0x875f66(0x191)]('/c',_0x2c6f00[_0x875f66(0x38d)](_0x2eef1c,'/d')),_0xa6b2c7[_0x875f66(0x191)]('/d',_0x2c6f00['XdWNL'](_0x28329c,'/e')),_0x63be14[_0x875f66(0x191)]('/e',_0x2c6f00[_0x875f66(0x318)](_0x5594fd,'/f')),_0x51ee11[_0x875f66(0x191)]('/f',_0x20a4aa({'a':'b'})),_0x5262c2['start'](_0x559e11)['then'](_0x42ff91(function(_0x1bcf1a,_0x2a9a2e){var _0x1a8292=_0x875f66,_0x42490d={'host':'localhost','port':0xe10,'path':'/a','method':_0x1a8292(0x193)};_0x53e0d0[_0x1a8292(0x191)](_0x42490d,_0x2c6f00[_0x1a8292(0x2c6)](_0x3d7733,_0x1bcf1a,_0x2a9a2e))['on'](_0x1a8292(0x47a),_0x2a9a2e);}))[_0x875f66(0x3d1)](function(_0x4b29cf){var _0x3af3d0=_0x875f66;_0x428a1b[_0x3af3d0(0x16c)](_0x4b29cf['parsedJson'],{'a':'b'}),_0x28fc1e[_0x3af3d0(0x16c)](_0x4b29cf[_0x3af3d0(0x237)],'http://localhost:3600/f');});else _0x22a288[_0x875f66(0x23a)](concat({'encoding':_0x875f66(0x260)},_0x1d768e))['on'](_0x875f66(0x47a),_0x20eddb);}))[_0x999767(0x3d1)](function(_0x290719){var _0x4309cc=_0x999767;if(_0x4587aa[_0x4309cc(0x345)](_0x4587aa['llWvG'],_0x4587aa[_0x4309cc(0x251)])){var _0x2bcde9=JSON[_0x4309cc(0x45c)](_0x290719);assert[_0x4309cc(0x19f)](_0x2bcde9[_0x16ec40['toLowerCase']()],_0x4587aa[_0x4309cc(0x573)]);}else{var _0x546121='6|1|4|5|3|0|2'['split']('|'),_0x586b76=0x0;while(!![]){switch(_0x546121[_0x586b76++]){case'0':_0x4d4d9f['equal'](_0x3112dd[_0x4309cc(0x1e7)],_0x4587aa['uLOvQ']);continue;case'1':_0x89c78e[_0x4309cc(0x19f)](_0x5e54ac[_0x4309cc(0x1e7)],_0x4587aa['tiERA']);continue;case'2':_0x582033['equal'](_0x3112dd['input'],_0x4309cc(0x21e));continue;case'3':_0x4587aa['Zhwst'](_0x288b4f,_0x3112dd instanceof _0x5d36da);continue;case'4':var _0x3112dd=_0x350d87[_0x4309cc(0x3b1)];continue;case'5':_0x4587aa['dTvTh'](_0x4f4fb1,_0x3112dd instanceof _0x1c1592);continue;case'6':_0x5b03cb(_0x4587aa[_0x4309cc(0x430)](_0xb1f390,_0x327ba8));continue;}break;}}});}),_0x4aeb64['CvdVU'](it,_0x4aeb64[_0x2b63db(0x540)],function(){var _0x196e7e=_0x2b63db,_0x3fcc62={'BUsuc':_0x4aeb64[_0x196e7e(0x3bd)],'HZwDt':function(_0x24a691,_0x33dd45,_0x3d2169){return _0x24a691(_0x33dd45,_0x3d2169);}};_0x4e7e41['get']('/a',_0x4aeb64['KcjrN'](redirectsTo,0x12e,_0x4aeb64[_0x196e7e(0x15c)])),_0x4e7e41[_0x196e7e(0x191)]('/b',function(_0x1af732,_0x188325){var _0x1cc173=_0x196e7e,_0x3329c0={'fOPwy':_0x1cc173(0x142)};if(_0x1cc173(0x3f9)===_0x1cc173(0x592)){var _0x15fd6a=_0x2a5265[_0x1cc173(0x45c)](_0x322396);_0x5a4530[_0x1cc173(0x19f)](_0x15fd6a['host'],_0x3329c0[_0x1cc173(0x395)]),_0x3ceb4e[_0x1cc173(0x19f)](_0x15fd6a[_0x544496[_0x1cc173(0x1f3)]()],_0x166685);}else _0x188325[_0x1cc173(0x452)](JSON['stringify'](_0x1af732['headers']));});var _0x2cf515=url[_0x196e7e(0x45c)](_0x196e7e(0x228));return _0x2cf515['ca']=_0x2e70c6,_0x2cf515[_0x196e7e(0x47c)]={},_0x2cf515[_0x196e7e(0x47c)][_0x16ec40]=_0x196e7e(0x556),_0x2cf515[_0x196e7e(0x189)]=function(_0x31bdf9){var _0x2cd676=_0x196e7e;assert[_0x2cd676(0x19f)](_0x31bdf9['protocol'],'http:'),_0x31bdf9[_0x2cd676(0x1eb)]=_0x3fcc62[_0x2cd676(0x479)];},server['start'](_0x187a4f(_0x4e7e41))[_0x196e7e(0x3d1)](_0x4aeb64[_0x196e7e(0x4ab)](asPromise,function(_0x2056fb,_0x345880){var _0x30920e=_0x196e7e;https[_0x30920e(0x191)](_0x2cf515,_0x2056fb)['on'](_0x30920e(0x47a),_0x345880);}))[_0x196e7e(0x3d1)](_0x4aeb64['LDIME'](asPromise,function(_0x1becee,_0x2d005c,_0x5c969f){var _0x5db198=_0x196e7e;_0x5c969f[_0x5db198(0x23a)](_0x3fcc62[_0x5db198(0x277)](concat,{'encoding':_0x5db198(0x260)},_0x1becee))['on']('error',_0x2d005c);}))[_0x196e7e(0x3d1)](function(_0x3636a6){var _0x34303e=_0x196e7e,_0x527a97=JSON['parse'](_0x3636a6);assert[_0x34303e(0x19f)](_0x527a97[_0x16ec40[_0x34303e(0x1f3)]()],undefined);});}),it(_0x2b63db(0x506),function(){var _0x1b072f=_0x2b63db;_0x4e7e41[_0x1b072f(0x191)]('/a',_0x4aeb64[_0x1b072f(0x482)](redirectsTo,'/b')),_0x4e7e41[_0x1b072f(0x191)]('/b',redirectsTo('/c',0x12d)),_0x4e7e41['get']('/c',_0x4aeb64[_0x1b072f(0x2cc)](redirectsTo,'/d',0x12e)),_0x4e7e41['get']('/d',redirectsTo('/e',0x12f)),_0x4e7e41[_0x1b072f(0x191)]('/e',redirectsTo('/f',0x133)),_0x4e7e41[_0x1b072f(0x191)]('/f',_0x4aeb64[_0x1b072f(0x536)](redirectsTo,'/g',0x134)),_0x4e7e41[_0x1b072f(0x191)]('/g',_0x4aeb64[_0x1b072f(0x28d)](sendsJson,{'a':'b'}));const _0x20a506=[];return server[_0x1b072f(0x17c)](_0x4e7e41)[_0x1b072f(0x3d1)](_0x4aeb64[_0x1b072f(0x273)](asPromise,function(_0x55ab55,_0x25a78f){var _0x413516=_0x1b072f,_0x5690c5={'host':_0x413516(0x2a4),'port':0xe10,'path':'/a','method':_0x3a5630[_0x413516(0x28e)],'beforeRedirect':function(_0x1a5990,_0x317fb2){var _0x2134ea=_0x413516;_0x20a506[_0x2134ea(0x3a3)](_0x317fb2[_0x2134ea(0x22a)]);}};http['get'](_0x5690c5,concatJson(_0x55ab55,_0x25a78f))['on'](_0x413516(0x47a),_0x25a78f);}))['then'](function(_0x18b872){var _0x43a874=_0x1b072f;assert[_0x43a874(0x16c)](_0x18b872[_0x43a874(0x237)],'http://localhost:3600/g'),assert[_0x43a874(0x16c)](_0x18b872['parsedJson'],{'a':'b'}),assert[_0x43a874(0x16c)](_0x20a506,[0x12e,0x12d,0x12e,0x12f,0x133,0x134]);});}),it(_0x4aeb64[_0x2b63db(0x32c)],function(){var _0x4da01=_0x2b63db;_0x4e7e41['post']('/a',redirectsTo('/b',0x134)),_0x4e7e41['post']('/b',_0x4aeb64[_0x4da01(0x2cc)](redirectsTo,'/c',0x12d)),_0x4e7e41[_0x4da01(0x191)]('/c',redirectsTo('/d',0x12d)),_0x4e7e41[_0x4da01(0x191)]('/d',_0x4aeb64[_0x4da01(0x2b5)](sendsJson,{'a':'b'}));const _0x8ecf60=[];return server[_0x4da01(0x17c)](_0x4e7e41)[_0x4da01(0x3d1)](asPromise(function(_0x594381,_0x2b4f02){var _0x4816b0=_0x4da01,_0x124423={'host':_0x4816b0(0x2a4),'port':0xe10,'path':'/a','method':_0x4816b0(0x570),'beforeRedirect':function(_0x182bef,_0x286967,_0x4110d1){var _0x1cd7b7=_0x4816b0;_0x8ecf60[_0x1cd7b7(0x3a3)](_0x4110d1['method']);}};http['get'](_0x124423,_0x3a5630[_0x4816b0(0x419)](concatJson,_0x594381,_0x2b4f02))['on'](_0x4816b0(0x47a),_0x2b4f02);}))[_0x4da01(0x3d1)](function(_0x46ceb0){var _0x598e27=_0x4da01;assert[_0x598e27(0x16c)](_0x46ceb0[_0x598e27(0x237)],'http://localhost:3600/d'),assert['deepEqual'](_0x46ceb0['parsedJson'],{'a':'b'}),assert[_0x598e27(0x16c)](_0x8ecf60,[_0x598e27(0x570),_0x598e27(0x570),_0x3a5630[_0x598e27(0x28e)]]);});}),_0x4aeb64[_0x2b63db(0x563)](it,_0x2b63db(0x595),function(){var _0x5d8154=_0x2b63db;_0x4e7e41[_0x5d8154(0x436)]('/a',redirectsTo('/b')),_0x4e7e41[_0x5d8154(0x191)]('/b',_0x4aeb64[_0x5d8154(0x435)](redirectsTo,'/c')),_0x4e7e41['get']('/c',_0x4aeb64[_0x5d8154(0x143)](redirectsTo,'/d')),_0x4e7e41['get']('/d',_0x4aeb64[_0x5d8154(0x56b)](sendsJson,{'a':'b'}));var _0x389860=[];return server[_0x5d8154(0x17c)](_0x4e7e41)[_0x5d8154(0x3d1)](asPromise(function(_0x552376,_0x2abf6b){var _0xfc9a2f=_0x5d8154,_0x5e444c={'AwKFi':function(_0xb77fac,_0x42b314){return _0xb77fac(_0x42b314);},'iIVLQ':_0x3a5630[_0xfc9a2f(0x3ed)],'DShxX':function(_0x35f40e,_0x5208ce){var _0xd1d266=_0xfc9a2f;return _0x3a5630[_0xd1d266(0x28b)](_0x35f40e,_0x5208ce);},'zqVlP':_0x3a5630[_0xfc9a2f(0x1f5)],'tkdIP':_0xfc9a2f(0x16a)},_0x2a4445={'host':_0xfc9a2f(0x2a4),'port':0xe10,'path':'/a','method':_0x3a5630[_0xfc9a2f(0x534)],'headers':{'X-Foo':_0x3a5630[_0xfc9a2f(0x217)]},'beforeRedirect':function(_0x34c4b6,_0x3e3187,_0x5096bb){var _0x4f1a68=_0xfc9a2f;_0x5e444c['DShxX'](_0x4f1a68(0x35b),_0x5e444c[_0x4f1a68(0x42d)])?(_0x5e444c[_0x4f1a68(0x449)](_0x3e3001,_0xe55e8c instanceof _0x23ce8a),_0x4ef8b9['equal'](_0x264168[_0x4f1a68(0x1e7)],_0x5e444c[_0x4f1a68(0x53f)]),_0x1a2153[_0x4f1a68(0x19f)](_0x495829[_0x4f1a68(0x5af)],_0x4f1a68(0x160))):(_0x34c4b6[_0x4f1a68(0x47c)][_0x5e444c[_0x4f1a68(0x4dc)]]=_0x5096bb[_0x4f1a68(0x231)]+_0x4f1a68(0x54a)+_0x34c4b6['href'],_0x389860[_0x4f1a68(0x3a3)](_0x5096bb['headers']));}};http[_0xfc9a2f(0x191)](_0x2a4445,concatJson(_0x552376,_0x2abf6b))['on'](_0xfc9a2f(0x47a),_0x2abf6b);}))[_0x5d8154(0x3d1)](function(_0x3bfeb2){var _0x2d3007=_0x5d8154;assert['deepEqual'](_0x3bfeb2[_0x2d3007(0x237)],_0x3a5630['dqjvL']),assert[_0x2d3007(0x16c)](_0x3bfeb2[_0x2d3007(0x2d1)],{'a':'b'}),assert[_0x2d3007(0x16c)](_0x389860,[{'Host':_0x3a5630[_0x2d3007(0x445)],'X-Foo':_0x3a5630['ciCog']},{'Host':_0x3a5630['GdSsw'],'X-Foo':_0x2d3007(0x1ed),'X-Redirect':'http://localhost:3600/a\x20=>\x20http://localhost:3600/b'},{'Host':_0x3a5630[_0x2d3007(0x445)],'X-Foo':_0x2d3007(0x1ed),'X-Redirect':_0x2d3007(0x440)}]);});}),it(_0x4aeb64['SBzLr'],function(){var _0x3377f0=_0x2b63db,_0x42b0e5={'RSlxS':_0x3a5630['QGNjV']};_0x4e7e41[_0x3377f0(0x191)]('/a',_0x3a5630[_0x3377f0(0x2ce)](redirectsTo,'/b')),_0x4e7e41[_0x3377f0(0x191)]('/b',_0x3a5630[_0x3377f0(0x206)](redirectsTo,'/c')),_0x4e7e41['get']('/c',_0x3a5630[_0x3377f0(0x154)](sendsJson,{'a':'b'}));const _0x59aa87=[];return server[_0x3377f0(0x17c)](_0x4e7e41)['then'](asPromise(function(_0x239308,_0x4a3dcf){var _0xa3bc1c=_0x3377f0;if(_0xa3bc1c(0x57a)!==_0x3a5630['FISdl'])_0x1053d1=_0x2c758a;else{var _0x593b9d={'host':_0xa3bc1c(0x2a4),'port':0xe10,'path':'/a','method':_0xa3bc1c(0x193),'beforeRedirect':function(_0x54af36,_0x423e02,_0x192c8b){var _0x17fc61=_0xa3bc1c;_0x59aa87['push'](_0x192c8b[_0x17fc61(0x231)]);}};http['get'](_0x593b9d,concatJson(_0x239308,_0x4a3dcf))['on'](_0xa3bc1c(0x47a),_0x4a3dcf);}}))[_0x3377f0(0x3d1)](function(_0x51c4ac){var _0x44e020=_0x3377f0;assert[_0x44e020(0x16c)](_0x51c4ac[_0x44e020(0x237)],_0x44e020(0x305)),assert[_0x44e020(0x16c)](_0x51c4ac[_0x44e020(0x2d1)],{'a':'b'}),assert[_0x44e020(0x16c)](_0x59aa87,[_0x44e020(0x4ad),_0x42b0e5[_0x44e020(0x593)]]);});});else{var _0x2026c5=_0x455657['parse'](_0x2b63db(0x4ad));_0x2026c5[_0x2b63db(0x454)]=_0x1c549f,_0x1fa80d['request'](_0x2026c5,_0x4443aa)['on'](_0x4aeb64[_0x2b63db(0x541)],_0x9bf8e4)[_0x2b63db(0x452)]();}}),_0x4aeb64['vGByr'](describe,_0x527ffd(0x163),function(){var _0x2434a6=_0x527ffd,_0x18f5de={'JkHAf':_0x4aeb64['mfOaH']};_0x2434a6(0x3e6)===_0x2434a6(0x3e6)?_0x4aeb64[_0x2434a6(0x45a)](it,_0x2434a6(0x22c),function(){var _0x289886=_0x2434a6;return _0x4e7e41['get']('/a',_0x4aeb64[_0x289886(0x5bb)](redirectsTo,0x12e,'/b')),_0x4e7e41[_0x289886(0x191)]('/b',sendsJson({'a':'b'})),server[_0x289886(0x17c)](_0x4e7e41)[_0x289886(0x3d1)](asPromise(function(_0x189263,_0x5353d4){var _0x56903b=_0x289886,_0x1391ad=url[_0x56903b(0x45c)](_0x18f5de[_0x56903b(0x554)]);_0x1391ad['followRedirects']=![],http[_0x56903b(0x191)](_0x1391ad,_0x189263)['on'](_0x56903b(0x47a),_0x5353d4);}))[_0x289886(0x3d1)](function(_0x3dfdc7){var _0x30a09f=_0x289886;assert[_0x30a09f(0x16c)](_0x3dfdc7[_0x30a09f(0x22a)],0x12e),assert[_0x30a09f(0x16c)](_0x3dfdc7[_0x30a09f(0x237)],_0x18f5de[_0x30a09f(0x554)]);});}):_0x25abbb[_0x2434a6(0x191)](_0x4aeb64['mfOaH'],_0x4aeb64[_0x2434a6(0x4ce)](_0x58713e,_0x5b4612,_0x14faa6))['on'](_0x4aeb64[_0x2434a6(0x541)],_0x301b9f);}),describe(_0x4aeb64[_0x527ffd(0x349)],function(){var _0x1f5bf5=_0x527ffd,_0x77967e={'GBMeZ':_0x4aeb64['ODpub']};it(_0x1f5bf5(0x432),function(){var _0x20179b=_0x1f5bf5,_0x2e3585={'ltKeI':function(_0x2b9f62,_0x4744f4,_0x1118fd){return _0x2b9f62(_0x4744f4,_0x1118fd);}};_0x4e7e41[_0x20179b(0x191)]('/a',redirectsTo(_0x4aeb64[_0x20179b(0x3fd)])),_0x311441['get']('/b',redirectsTo(_0x4aeb64[_0x20179b(0x2a6)])),_0x4e7e41['get']('/c',sendsJson({'yes':'no'}));var _0x2a24a1=_0x3c96b8(new http[(_0x20179b(0x455))]()),_0x1442aa=_0x3c96b8(new https[(_0x20179b(0x455))]());function _0x3c96b8(_0x30072b){var _0x1a605b=_0x20179b,_0x3a5950={'ciLGf':function(_0x4f9177,_0x2ff7fe){return _0x4f9177(_0x2ff7fe);},'WRGDC':function(_0x464ea1,_0x36f13d){return _0x464ea1!==_0x36f13d;},'gsoib':_0x1a605b(0x314)};return _0x30072b[_0x1a605b(0x39f)]=[],_0x30072b[_0x1a605b(0x57c)]=_0x30072b[_0x1a605b(0x22d)],_0x30072b[_0x1a605b(0x22d)]=function(_0x4aeb9c,_0x55634a){var _0x5cf897=_0x1a605b,_0x1a632d={'Kluyr':_0x5cf897(0x305)};if(_0x3a5950[_0x5cf897(0x341)](_0x5cf897(0x314),_0x3a5950[_0x5cf897(0x19c)])){var _0x3f3951={'kIwdx':_0x5cf897(0x2a4),'ybbsf':_0x5cf897(0x193)};return _0x42b73e[_0x5cf897(0x191)]('/a',_0x3a5950[_0x5cf897(0x313)](_0x3a31e7,'/b')),_0xc4c455[_0x5cf897(0x191)]('/b',_0x3a5950['ciLGf'](_0xd24444,'/c')),_0x22f4d0['get']('/c',_0x4383de({'a':'b'})),_0x4c3477[_0x5cf897(0x17c)](_0x571537)[_0x5cf897(0x3d1)](_0x33ecff(function(_0x1390bf,_0x3e7e8e){var _0x7d5f4b=_0x5cf897,_0x45db61={'host':_0x3f3951[_0x7d5f4b(0x532)],'port':0xe10,'path':'/a','method':_0x3f3951['ybbsf'],'beforeRedirect':0x2a};_0x1c2a44[_0x7d5f4b(0x191)](_0x45db61,_0xb8a237(_0x1390bf,_0x3e7e8e))['on'](_0x7d5f4b(0x47a),_0x3e7e8e);}))[_0x5cf897(0x3d1)](function(_0x81e7cc){var _0x140e72=_0x5cf897;_0x13a403['deepEqual'](_0x81e7cc['parsedJson'],{'a':'b'}),_0x1fd71a[_0x140e72(0x16c)](_0x81e7cc[_0x140e72(0x237)],_0x1a632d['Kluyr']);});}else this[_0x5cf897(0x39f)][_0x5cf897(0x3a3)](_0x55634a[_0x5cf897(0x4fb)]),this[_0x5cf897(0x57c)](_0x4aeb9c,_0x55634a);},_0x30072b;}return Promise[_0x20179b(0x199)]([server[_0x20179b(0x17c)](_0x4aeb64[_0x20179b(0x2ea)](_0x187a4f,_0x4e7e41)),server[_0x20179b(0x17c)](_0x311441)])[_0x20179b(0x3d1)](asPromise(function(_0x545082,_0x29e9ed){var _0x46c992=_0x20179b,_0x52862a=url[_0x46c992(0x45c)](_0x46c992(0x228));_0x52862a['ca']=_0x2e70c6,_0x52862a[_0x46c992(0x348)]={'http':_0x2a24a1,'https':_0x1442aa},https[_0x46c992(0x191)](_0x52862a,_0x2e3585['ltKeI'](concatJson,_0x545082,_0x29e9ed))['on']('error',_0x29e9ed);}))[_0x20179b(0x3d1)](function(_0x3e5950){var _0x2bcfac=_0x20179b;assert['deepEqual'](_0x2a24a1[_0x2bcfac(0x39f)],['/b']),assert[_0x2bcfac(0x16c)](_0x1442aa[_0x2bcfac(0x39f)],['/a','/c']),assert['deepEqual'](_0x3e5950[_0x2bcfac(0x2d1)],{'yes':'no'}),assert[_0x2bcfac(0x16c)](_0x3e5950[_0x2bcfac(0x237)],_0x77967e[_0x2bcfac(0x20c)]);});});}),describe(_0x527ffd(0x484),function(){var _0x4defcc=_0x527ffd,_0x1f1d4e={'urxPf':_0x4aeb64[_0x4defcc(0x1b3)],'jbnSy':'http://localhost:3600/a','jGOPZ':function(_0x577022,_0x1f34f6){return _0x577022!==_0x1f34f6;},'EZksK':_0x4aeb64[_0x4defcc(0x168)],'zsBKF':function(_0xbeacc6,_0x2d0d91){return _0xbeacc6(_0x2d0d91);},'ojYXA':_0x4defcc(0x1ed),'MLOeQ':function(_0xd91b27,_0x18676d){return _0xd91b27(_0x18676d);},'aicKX':function(_0xfa0cd7,_0x4b1037){return _0xfa0cd7===_0x4b1037;},'eoiPQ':function(_0x368d9d,_0x177dd2,_0x49e18a){var _0x4b5bca=_0x4defcc;return _0x4aeb64[_0x4b5bca(0x39b)](_0x368d9d,_0x177dd2,_0x49e18a);},'cVyTZ':_0x4aeb64[_0x4defcc(0x1f7)],'ASLai':_0x4aeb64['mswbO'],'moToZ':function(_0x472cb7,_0x5e2678){return _0x472cb7(_0x5e2678);}};_0x4aeb64['Lcequ'](_0x4aeb64[_0x4defcc(0x202)],_0x4aeb64[_0x4defcc(0x423)])?(it(_0x4aeb64[_0x4defcc(0x381)],function(){var _0x458f7b=_0x4defcc,_0x35d534={'kszXB':function(_0x393a28,_0x38c35d){var _0x556925=_0x23bf;return _0x1f1d4e[_0x556925(0x3de)](_0x393a28,_0x38c35d);},'ZMPPX':_0x1f1d4e[_0x458f7b(0x4a2)],'PtaDM':_0x458f7b(0x47a),'csVdW':_0x458f7b(0x3d4),'ijWyW':function(_0x369a13,_0x3c1588){var _0x134770=_0x458f7b;return _0x1f1d4e[_0x134770(0x2b3)](_0x369a13,_0x3c1588);},'YGSlF':function(_0x2166f4,_0x20f43f){return _0x2166f4(_0x20f43f);},'lFlQm':function(_0x128889,_0x22cb9b,_0x166c94){return _0x128889(_0x22cb9b,_0x166c94);}};return _0x4e7e41[_0x458f7b(0x436)]('/a',sendsJson({'foo':_0x1f1d4e['ojYXA']})),server[_0x458f7b(0x17c)](_0x4e7e41)[_0x458f7b(0x3d1)](_0x1f1d4e['MLOeQ'](asPromise,function(_0x499752,_0x525080){var _0x471d0d=_0x458f7b,_0x46c119={'yYJGw':_0x471d0d(0x483)};if(_0x1f1d4e['urxPf']===_0x1f1d4e[_0x471d0d(0x590)]){var _0x1eb16d=http[_0x471d0d(0x1de)](_0x1f1d4e[_0x471d0d(0x2f5)],{'method':_0x471d0d(0x570)},_0x499752);_0x1eb16d[_0x471d0d(0x1b7)](''),_0x1eb16d[_0x471d0d(0x1b7)]('',function(){var _0x35d600=_0x471d0d;_0x35d534[_0x35d600(0x2e7)](_0x35d600(0x4e9),_0x35d534[_0x35d600(0x2dc)])?_0x125454['get'](_0x46c119[_0x35d600(0x4bf)]):_0x1eb16d[_0x35d600(0x452)]('');}),_0x1eb16d['on'](_0x471d0d(0x47a),_0x525080);}else{var _0x1ca2e8={'uxGjs':_0x471d0d(0x4ad),'KsVFa':_0x35d534[_0x471d0d(0x589)],'ZzsGf':_0x35d534[_0x471d0d(0x369)]};return _0x58da6e[_0x471d0d(0x191)]('/a',_0x31a115('/b')),_0x2127c7[_0x471d0d(0x191)]('/b',_0x5e6abb('/c')),_0x3a5c1a[_0x471d0d(0x191)]('/c',_0x35d534[_0x471d0d(0x2bb)](_0x2445c3,'/d')),_0x2e8acd[_0x471d0d(0x191)]('/d',_0x35d534[_0x471d0d(0x1f6)](_0x4beb69,'/e')),_0x181f6f['get']('/e',_0x38459e('/f')),_0x371a23[_0x471d0d(0x191)]('/f',_0xed5fce({'a':'b'})),_0x2124a4[_0x471d0d(0x17c)](_0x516a17)[_0x471d0d(0x3d1)](_0x35d534[_0x471d0d(0x2bb)](_0x5212c2,function(_0xddd30e,_0x303ef2){var _0x41f692=_0x471d0d;_0x5c1304[_0x41f692(0x191)](_0x1ca2e8['uxGjs'],_0xd16b2d(_0xddd30e,_0x303ef2))['on'](_0x1ca2e8[_0x41f692(0x248)],_0x303ef2);}))['then'](function(_0x4958d2){var _0x435311=_0x471d0d;_0x49e379[_0x435311(0x16c)](_0x4958d2[_0x435311(0x2d1)],{'a':'b'}),_0x351726[_0x435311(0x16c)](_0x4958d2[_0x435311(0x237)],_0x1ca2e8[_0x435311(0x2c7)]);});}}))[_0x458f7b(0x3d1)](asPromise(function(_0x1f640f,_0x227465,_0x40cb0b){var _0x376f8d=_0x458f7b;assert[_0x376f8d(0x16c)](_0x40cb0b[_0x376f8d(0x237)],'http://localhost:3600/a'),_0x40cb0b[_0x376f8d(0x23a)](_0x35d534['lFlQm'](concat,{'encoding':_0x376f8d(0x260)},_0x1f640f))['on']('error',_0x227465);}));}),it(_0x4aeb64[_0x4defcc(0x439)],function(){var _0x3909c0=_0x4defcc,_0x5887fe={'GrpCz':_0x3909c0(0x4ad),'Nxeqd':'utf8','qUbHq':function(_0x3ef282,_0x2ebb77,_0x5732f0){var _0x3f5fde=_0x3909c0;return _0x4aeb64[_0x3f5fde(0x18d)](_0x3ef282,_0x2ebb77,_0x5732f0);},'LLSds':_0x4aeb64[_0x3909c0(0x1f7)],'GANOL':_0x3909c0(0x47a)};return _0x4e7e41[_0x3909c0(0x436)]('/a',_0x4aeb64['pKmOw'](sendsJson,{'foo':_0x3909c0(0x1ed)})),server[_0x3909c0(0x17c)](_0x4e7e41)[_0x3909c0(0x3d1)](_0x4aeb64[_0x3909c0(0x565)](asPromise,function(_0x1709a9,_0x4f968d){var _0x1fdeed=_0x3909c0,_0x332831={'bzUWi':_0x1fdeed(0x3d4),'tQgYY':_0x1fdeed(0x4b6)},_0x448c46=http[_0x1fdeed(0x1de)](_0x5887fe[_0x1fdeed(0x5b2)],{'method':_0x1fdeed(0x570)},_0x1709a9);_0x448c46[_0x1fdeed(0x1b7)](''),_0x448c46[_0x1fdeed(0x1b7)]('',_0x5887fe[_0x1fdeed(0x2a2)],function(){var _0x29bbd1=_0x1fdeed,_0x52e90d={'Wjynw':_0x332831[_0x29bbd1(0x586)]};'bTmDT'===_0x332831[_0x29bbd1(0x40b)]?(_0x5d294f[_0x29bbd1(0x16c)](_0x495c16['parsedJson'],{'a':'b'}),_0x20950b[_0x29bbd1(0x16c)](_0x461a0e[_0x29bbd1(0x237)],_0x52e90d['Wjynw'])):_0x448c46[_0x29bbd1(0x452)]('','utf8');}),_0x448c46['on'](_0x1fdeed(0x47a),_0x4f968d);}))['then'](asPromise(function(_0x11e160,_0xcca4b9,_0x130927){var _0x232008=_0x3909c0;assert['deepEqual'](_0x130927[_0x232008(0x237)],_0x5887fe['GrpCz']),_0x130927['pipe'](_0x5887fe['qUbHq'](concat,{'encoding':_0x5887fe['LLSds']},_0x11e160))['on'](_0x5887fe['GANOL'],_0xcca4b9);}));}),it(_0x4aeb64[_0x4defcc(0x47e)],function(){var _0x53c3d2=_0x4defcc,_0x14a113={'tShgW':_0x1f1d4e[_0x53c3d2(0x2f5)],'waazk':_0x1f1d4e[_0x53c3d2(0x1fd)]};return _0x4e7e41[_0x53c3d2(0x436)]('/a',sendsJson({'foo':_0x1f1d4e[_0x53c3d2(0x468)]})),server[_0x53c3d2(0x17c)](_0x4e7e41)[_0x53c3d2(0x3d1)](_0x1f1d4e[_0x53c3d2(0x158)](asPromise,function(_0x1d10fe,_0x32b8cb){var _0x2c91df=_0x53c3d2,_0x19b37e=http['request'](_0x2c91df(0x4ad),{'method':_0x2c91df(0x570)},_0x1d10fe);_0x19b37e[_0x2c91df(0x1b7)](Buffer[_0x2c91df(0x234)]('')),_0x19b37e[_0x2c91df(0x1b7)](Buffer['from'](''),function(){var _0x27374a=_0x2c91df;_0x19b37e[_0x27374a(0x452)](Buffer[_0x27374a(0x234)](''));}),_0x19b37e['on']('error',_0x32b8cb);}))[_0x53c3d2(0x3d1)](_0x1f1d4e['zsBKF'](asPromise,function(_0x24402b,_0x3eedde,_0x2af035){var _0x22f060=_0x53c3d2;_0x1f1d4e[_0x22f060(0x417)]('eQyUI',_0x22f060(0x4fa))?(_0x1bd080[_0x22f060(0x16c)](_0x480ce0[_0x22f060(0x237)],_0x14a113[_0x22f060(0x307)]),_0x19344f['pipe'](_0x3baf85({'encoding':_0x14a113[_0x22f060(0x4c3)]},_0x483815))['on'](_0x22f060(0x47a),_0x45ad35)):(assert[_0x22f060(0x16c)](_0x2af035[_0x22f060(0x237)],_0x22f060(0x4ad)),_0x2af035[_0x22f060(0x23a)](_0x1f1d4e['eoiPQ'](concat,{'encoding':_0x1f1d4e[_0x22f060(0x1fd)]},_0x24402b))['on'](_0x1f1d4e[_0x22f060(0x43d)],_0x3eedde));}));})):_0x3707a3['get'](_0x3161d7,_0x1d8256)['on'](_0x4defcc(0x47a),_0x953f82);}),describe(_0x4aeb64[_0x527ffd(0x15e)],function(){var _0x427766=_0x527ffd,_0x3eeb5b={'rbvUO':_0x4aeb64['nnCcm'],'XKetT':_0x427766(0x4ad),'jpqUi':_0x4aeb64[_0x427766(0x254)],'qwbAh':function(_0x5ec514,_0x4c24f8,_0x56c426){var _0x24f1fc=_0x427766;return _0x4aeb64[_0x24f1fc(0x536)](_0x5ec514,_0x4c24f8,_0x56c426);},'aaDIz':_0x4aeb64[_0x427766(0x1f7)],'rpaIB':_0x427766(0x48f),'VvshI':_0x427766(0x4d7),'vwKYY':function(_0x1cfd95,_0x461dfb,_0x1580bc){var _0x3eb608=_0x427766;return _0x4aeb64[_0x3eb608(0x4bb)](_0x1cfd95,_0x461dfb,_0x1580bc);},'SqCPF':_0x427766(0x47a),'LMfme':function(_0x4e2d20,_0x4ad4d3){return _0x4aeb64['xwZUU'](_0x4e2d20,_0x4ad4d3);},'akqjo':_0x427766(0x293),'ZYXLS':_0x427766(0x55f),'bEAQA':function(_0xfa6646,_0x26efdb){return _0xfa6646(_0x26efdb);},'kIOgQ':_0x4aeb64[_0x427766(0x265)],'MtZxA':function(_0x170a7f,_0x30587c,_0x7d952f){return _0x170a7f(_0x30587c,_0x7d952f);},'RdSun':function(_0x3016bb,_0x34f0b4,_0x11b10f){return _0x3016bb(_0x34f0b4,_0x11b10f);},'gEgKO':function(_0x13f141,_0x3eb345){var _0x2451b5=_0x427766;return _0x4aeb64[_0x2451b5(0x2ad)](_0x13f141,_0x3eb345);}},_0x1ce6c9;function _0x2ef713(){var _0x6a069b=_0x427766;if(_0x4aeb64[_0x6a069b(0x3ac)](_0x6a069b(0x203),_0x4aeb64[_0x6a069b(0x2e6)])){var _0x4dfb45={'host':_0x6a069b(0x2a4),'port':0xe10,'path':'/a','method':_0x6a069b(0x193),'beforeRedirect':0x2a};_0x320d4a[_0x6a069b(0x191)](_0x4dfb45,_0x562a8e(_0x6992ef,_0xb61565))['on'](_0x6a069b(0x47a),_0x18c983);}else _0x1ce6c9=!![];}_0x4aeb64[_0x427766(0x285)](beforeEach,function(){var _0x263d9f=_0x427766;_0x4e7e41[_0x263d9f(0x436)]('/a',function(_0x498793,_0x45fc33){var _0x45e50a=_0x263d9f;_0x45e50a(0x5a0)!==_0x3eeb5b['rbvUO']?_0x498793[_0x45e50a(0x23a)](_0x45fc33):_0x4f5021[_0x45e50a(0x452)](_0x50f177[_0x45e50a(0x234)](''));}),_0x1ce6c9=![];}),_0x4aeb64[_0x427766(0x30b)](it,'(none)',function(){var _0x28ce0e=_0x427766;return server[_0x28ce0e(0x17c)](_0x4e7e41)['then'](_0x4aeb64[_0x28ce0e(0x4a3)](asPromise,function(_0x435ccc){var _0x397083=_0x28ce0e,_0x420347=http[_0x397083(0x1de)](_0x3eeb5b[_0x397083(0x403)],{'method':_0x3eeb5b[_0x397083(0x356)]},_0x435ccc);_0x420347[_0x397083(0x452)]();}))['then'](_0x4aeb64[_0x28ce0e(0x438)](asPromise,function(_0xc8019e,_0x434e2e,_0x1a5436){var _0xca0851=_0x28ce0e;_0x1a5436[_0xca0851(0x23a)](_0x3eeb5b[_0xca0851(0x585)](concat,{'encoding':_0x3eeb5b['aaDIz']},_0xc8019e));}))['then'](function(_0x271d6b){var _0x5c11cb=_0x28ce0e;assert[_0x5c11cb(0x19f)](_0x271d6b,'');});}),_0x4aeb64[_0x427766(0x334)](it,_0x4aeb64[_0x427766(0x2e1)],function(){var _0xa44ee5=_0x427766,_0x5ce350={'JDfEn':function(_0x3a4974,_0x8f0b62,_0x33e4d0){return _0x3a4974(_0x8f0b62,_0x33e4d0);}};return server[_0xa44ee5(0x17c)](_0x4e7e41)[_0xa44ee5(0x3d1)](_0x4aeb64[_0xa44ee5(0x2e8)](asPromise,function(_0x5474a8){var _0x408f6e=_0xa44ee5,_0x45cde1=http[_0x408f6e(0x1de)](_0x408f6e(0x4ad),{'method':'POST'},_0x5474a8);_0x45cde1[_0x408f6e(0x452)]('');}))[_0xa44ee5(0x3d1)](asPromise(function(_0x3030fb,_0x247ce8,_0x51d710){var _0x528340=_0xa44ee5;_0x51d710[_0x528340(0x23a)](_0x5ce350['JDfEn'](concat,{'encoding':_0x528340(0x260)},_0x3030fb));}))['then'](function(_0x315fe4){var _0x313e57=_0xa44ee5;assert[_0x313e57(0x19f)](_0x315fe4,'');});}),_0x4aeb64[_0x427766(0x4d9)](it,_0x427766(0x4b1),function(){var _0xe65462=_0x427766;return server['start'](_0x4e7e41)[_0xe65462(0x3d1)](asPromise(function(_0x29fcae){var _0x1976c9=_0xe65462,_0x199824=http['request'](_0x1976c9(0x4ad),{'method':_0x3eeb5b['jpqUi']},_0x29fcae);_0x199824['end'](_0x3eeb5b[_0x1976c9(0x4c0)]);}))[_0xe65462(0x3d1)](_0x4aeb64[_0xe65462(0x2c3)](asPromise,function(_0x3fa93d,_0x334ef0,_0x4ec4fb){var _0x17bd5c=_0xe65462;_0x4ec4fb['pipe'](concat({'encoding':_0x17bd5c(0x260)},_0x3fa93d));}))[_0xe65462(0x3d1)](function(_0x12d90f){var _0x8e557a=_0xe65462;assert['equal'](_0x12d90f,_0x3eeb5b[_0x8e557a(0x4c0)]);});}),it(_0x427766(0x4e6),function(){var _0x5857e6=_0x427766,_0x3ecb2e={'oCwUw':function(_0x2c023f,_0x374f6d){return _0x2c023f===_0x374f6d;},'WwStu':_0x3eeb5b[_0x5857e6(0x288)],'xpMqN':_0x5857e6(0x4ad),'andmQ':_0x3eeb5b['jpqUi'],'yDbpL':'abc','tebeq':_0x3eeb5b['ZYXLS'],'XLUsB':function(_0x35c834,_0x130be2){return _0x35c834!==_0x130be2;},'AGyRn':function(_0x1248f6,_0x281cd8,_0x81e3ed){var _0x20d17=_0x5857e6;return _0x3eeb5b[_0x20d17(0x386)](_0x1248f6,_0x281cd8,_0x81e3ed);},'lcIUf':_0x3eeb5b[_0x5857e6(0x3a5)],'cpUPj':function(_0x2d9fc8,_0x1849bd){return _0x2d9fc8(_0x1849bd);},'JmHib':function(_0x10c9e3,_0x3df53e){var _0xd105e=_0x5857e6;return _0x3eeb5b[_0xd105e(0x2fd)](_0x10c9e3,_0x3df53e);},'rjgUC':function(_0x558e0a,_0x447971){return _0x558e0a(_0x447971);},'WAWEp':function(_0x5a2dc3,_0x585cf6){return _0x5a2dc3(_0x585cf6);}};return server[_0x5857e6(0x17c)](_0x4e7e41)[_0x5857e6(0x3d1)](_0x3eeb5b['bEAQA'](asPromise,function(_0x56e781){var _0x2ea16d=_0x5857e6;if(_0x3ecb2e[_0x2ea16d(0x1a4)](_0x3ecb2e[_0x2ea16d(0x2a5)],_0x2ea16d(0x185)))_0x2094e3[_0x2ea16d(0x1d5)](0x133)[_0x2ea16d(0x452)]();else{var _0x44e4c0=http[_0x2ea16d(0x1de)](_0x3ecb2e[_0x2ea16d(0x35a)],{'method':_0x3ecb2e['andmQ']},_0x56e781);_0x44e4c0[_0x2ea16d(0x452)](_0x3ecb2e[_0x2ea16d(0x343)],_0x3ecb2e[_0x2ea16d(0x548)]);}}))[_0x5857e6(0x3d1)](asPromise(function(_0x584dd4,_0x5a1bb7,_0x4a86fa){var _0x563bf1=_0x5857e6;if(_0x3ecb2e['XLUsB']('aswos',_0x563bf1(0x4e8))){var _0x54eb46=_0x235865[_0x563bf1(0x45c)](_0x180bd2);_0x5d1ca4[_0x563bf1(0x19f)](_0x54eb46[_0x563bf1(0x5ac)],'localhost:3600'),_0x32b86d['equal'](_0x54eb46[_0x10231a[_0x563bf1(0x1f3)]()],'the\x20header\x20value');}else _0x4a86fa['pipe'](_0x3ecb2e[_0x563bf1(0x48d)](concat,{'encoding':_0x3ecb2e[_0x563bf1(0x44e)]},_0x584dd4));}))[_0x5857e6(0x3d1)](function(_0x3f0fd5){var _0x1f2f12=_0x5857e6,_0x3ffe5b={'ZMIQq':_0x3eeb5b['VvshI'],'AnkSx':function(_0x36d5c7,_0xbbc410,_0x590bcc){var _0x2370d3=_0x23bf;return _0x3eeb5b[_0x2370d3(0x386)](_0x36d5c7,_0xbbc410,_0x590bcc);},'pGrnx':_0x3eeb5b[_0x1f2f12(0x34a)]};if(_0x3eeb5b[_0x1f2f12(0x1e5)]('tVVvt',_0x1f2f12(0x4d8))){var _0x238125='4|6|1|2|0|5|3'[_0x1f2f12(0x3e0)]('|'),_0x1f5325=0x0;while(!![]){switch(_0x238125[_0x1f5325++]){case'0':_0x470f36['get']('/e',_0x3ecb2e[_0x1f2f12(0x4e2)](_0x27c5ab,'/f'));continue;case'1':_0x2121da['get']('/c',_0x3ecb2e[_0x1f2f12(0x4e2)](_0x48bb30,'/d'));continue;case'2':_0x2a503d[_0x1f2f12(0x191)]('/d',_0x3ecb2e['JmHib'](_0x3c8eed,'/e'));continue;case'3':return _0x4e79aa[_0x1f2f12(0x17c)](_0x2f992a)[_0x1f2f12(0x3d1)](_0x3ecb2e[_0x1f2f12(0x22e)](_0x291fc8,function(_0x44cbbf,_0x55e430){var _0xfbec00=_0x1f2f12;_0x37fa54[_0xfbec00(0x191)](_0x3ffe5b[_0xfbec00(0x164)],_0x3ffe5b[_0xfbec00(0x433)](_0x5cd08b,_0x44cbbf,_0x55e430))['on'](_0x3ffe5b[_0xfbec00(0x3d3)],_0x55e430);}))[_0x1f2f12(0x3d1)](function(_0x23e0fa){var _0x574070=_0x1f2f12;_0x501ed3[_0x574070(0x16c)](_0x23e0fa[_0x574070(0x2d1)],{'a':'b'}),_0x5dd86e[_0x574070(0x16c)](_0x23e0fa['responseUrl'],_0x574070(0x5a8));});case'4':_0x18b8d4['get']('/a',_0x3ecb2e[_0x1f2f12(0x4da)](_0x2f96cb,'/b'));continue;case'5':_0x603807[_0x1f2f12(0x191)]('/f',_0x3ecb2e['JmHib'](_0x2e2d7f,{'a':'b'}));continue;case'6':_0x540b49[_0x1f2f12(0x191)]('/b',_0x3ecb2e[_0x1f2f12(0x22e)](_0x29930b,'/c'));continue;}break;}}else assert[_0x1f2f12(0x19f)](_0x3f0fd5,'abc');});}),_0x4aeb64[_0x427766(0x294)](it,_0x4aeb64[_0x427766(0x45f)],function(){var _0x13b6ce=_0x427766,_0x3072ca={'ccOBR':_0x13b6ce(0x570),'vRGHx':'abc','fYyND':_0x13b6ce(0x55f),'pbvSU':_0x4aeb64[_0x13b6ce(0x464)]};return server['start'](_0x4e7e41)[_0x13b6ce(0x3d1)](asPromise(function(_0x512742){var _0x1f0889=_0x13b6ce,_0x4baf54=http['request'](_0x1f0889(0x4ad),{'method':_0x3072ca[_0x1f0889(0x14f)]},_0x512742);_0x4baf54[_0x1f0889(0x452)](_0x3072ca['vRGHx'],_0x3072ca[_0x1f0889(0x31e)],_0x2ef713);}))['then'](_0x4aeb64[_0x13b6ce(0x17e)](asPromise,function(_0x1b1ae2,_0x538db5,_0x520371){var _0x3f3e2b=_0x13b6ce;_0x520371[_0x3f3e2b(0x23a)](concat({'encoding':_0x3f3e2b(0x260)},_0x1b1ae2));}))[_0x13b6ce(0x3d1)](function(_0x3da008){var _0x23c974=_0x13b6ce;_0x3072ca[_0x23c974(0x46c)]!==_0x3072ca[_0x23c974(0x46c)]?_0x23b6fe[_0x23c974(0x452)](_0x4ef62c[_0x23c974(0x402)](_0x1202fe[_0x23c974(0x47c)])):(assert['equal'](_0x3da008,_0x23c974(0x48f)),assert['equal'](_0x1ce6c9,!![]));});}),_0x4aeb64[_0x427766(0x27c)](it,_0x4aeb64[_0x427766(0x4b7)],function(){var _0x33db3f=_0x427766,_0xeef92b={'DlBrh':_0x3eeb5b[_0x33db3f(0x403)],'gpgUu':_0x3eeb5b[_0x33db3f(0x49b)],'IrVhh':'POST','hvqQD':_0x3eeb5b['rpaIB'],'KQwYg':function(_0x19e8da,_0x17084c,_0x53b562){var _0x183500=_0x33db3f;return _0x3eeb5b[_0x183500(0x409)](_0x19e8da,_0x17084c,_0x53b562);},'VGsPC':_0x3eeb5b['aaDIz']};return server['start'](_0x4e7e41)[_0x33db3f(0x3d1)](asPromise(function(_0x46bd9e){var _0x3fee6c=_0x33db3f;if(_0xeef92b['gpgUu']!==_0x3fee6c(0x2db)){var _0x46f446=http[_0x3fee6c(0x1de)]('http://localhost:3600/a',{'method':_0xeef92b[_0x3fee6c(0x410)]},_0x46bd9e);_0x46f446[_0x3fee6c(0x452)](_0xeef92b['hvqQD'],_0x2ef713);}else _0xf02b68=_0x4070e7[_0x3fee6c(0x191)](_0xeef92b['DlBrh'],_0x566161);}))[_0x33db3f(0x3d1)](asPromise(function(_0x32c54e,_0x34b72f,_0x59ebf9){var _0x49c709=_0x33db3f;_0x59ebf9[_0x49c709(0x23a)](_0xeef92b[_0x49c709(0x1bc)](concat,{'encoding':_0xeef92b[_0x49c709(0x344)]},_0x32c54e));}))[_0x33db3f(0x3d1)](function(_0x5d53c6){var _0x20c58d=_0x33db3f;assert[_0x20c58d(0x19f)](_0x5d53c6,_0xeef92b[_0x20c58d(0x56d)]),assert[_0x20c58d(0x19f)](_0x1ce6c9,!![]);});}),_0x4aeb64[_0x427766(0x3ae)](it,_0x427766(0x3bf),function(){var _0x330e72=_0x427766;if(_0x3eeb5b[_0x330e72(0x14b)](_0x330e72(0x4b2),_0x330e72(0x4b2)))_0x19cd1a['json'](_0x18595a[_0x330e72(0x47c)]);else return server[_0x330e72(0x17c)](_0x4e7e41)[_0x330e72(0x3d1)](asPromise(function(_0x500fb5){var _0x180269=_0x330e72,_0x2b50bb=http[_0x180269(0x1de)](_0x3eeb5b[_0x180269(0x403)],{'method':_0x3eeb5b[_0x180269(0x356)]},_0x500fb5);_0x2b50bb[_0x180269(0x452)](_0x2ef713);}))[_0x330e72(0x3d1)](_0x3eeb5b[_0x330e72(0x2fd)](asPromise,function(_0x44f6e9,_0x403685,_0x2ffd45){var _0x32e475=_0x330e72;_0x2ffd45[_0x32e475(0x23a)](_0x3eeb5b[_0x32e475(0x597)](concat,{'encoding':_0x3eeb5b[_0x32e475(0x3a5)]},_0x44f6e9));}))['then'](function(_0x299a81){var _0x24b060=_0x330e72;assert[_0x24b060(0x19f)](_0x299a81,''),assert[_0x24b060(0x19f)](_0x1ce6c9,!![]);});});}),describe(_0x527ffd(0x49f),function(){var _0x5cd833=_0x527ffd,_0x56c968={'FNJwx':_0x5cd833(0x503),'AnSAy':function(_0x46ff55,_0x58abf0,_0x2cec91){var _0x44a55d=_0x5cd833;return _0x4aeb64[_0x44a55d(0x294)](_0x46ff55,_0x58abf0,_0x2cec91);},'JsQNZ':_0x4aeb64[_0x5cd833(0x541)],'cVTgw':'GET','OTXEq':function(_0x2413ff,_0x11b23f){return _0x2413ff(_0x11b23f);},'KWsVs':function(_0x2afb2d,_0x5b6b6c){return _0x2afb2d===_0x5b6b6c;},'YILPJ':function(_0x20e317,_0x2e0405){return _0x20e317(_0x2e0405);},'ICEto':_0x4aeb64['sigcs'],'mybLD':function(_0x24cd83,_0x3cdb4d){var _0x46f4b3=_0x5cd833;return _0x4aeb64[_0x46f4b3(0x245)](_0x24cd83,_0x3cdb4d);},'qceWR':_0x5cd833(0x24a),'VUwMq':function(_0x5a936b,_0x59aa89){var _0x2e2fc5=_0x5cd833;return _0x4aeb64[_0x2e2fc5(0x19b)](_0x5a936b,_0x59aa89);},'krkJe':_0x4aeb64['gNOlT'],'ASLaK':function(_0x2b61b4,_0x42db4f){return _0x2b61b4(_0x42db4f);},'zidgB':function(_0x5141dd,_0x58526e){var _0x2f0b8e=_0x5cd833;return _0x4aeb64[_0x2f0b8e(0x4d1)](_0x5141dd,_0x58526e);},'lJgiR':_0x5cd833(0x2a4),'iejIi':'itsAtest/b'};it(_0x5cd833(0x2ff),function(){var _0x352a11=_0x5cd833,_0x518822={'OGlKN':_0x352a11(0x4ad)};return _0x4e7e41[_0x352a11(0x191)]('/a',sendsJson({'a':'b'})),server[_0x352a11(0x17c)](_0x4e7e41)[_0x352a11(0x3d1)](_0x4aeb64[_0x352a11(0x4a3)](asPromise,function(_0x32f2f7,_0x4163fa){var _0x119d26=_0x352a11,_0xe1ff03={'JBlUT':_0x56c968['FNJwx'],'lxBkH':_0x119d26(0x2ca)},_0x420a6d={'host':_0x119d26(0x2a4),'port':0xe10,'path':'/a','method':'GET','beforeRedirect':function(){var _0x8ef61d=_0x119d26;_0xe1ff03[_0x8ef61d(0x330)]!==_0xe1ff03[_0x8ef61d(0x477)]?assert['fail'](_0x8ef61d(0x1e4)):_0x2004a9=_0xca9b4e;}};http[_0x119d26(0x191)](_0x420a6d,_0x56c968['AnSAy'](concatJson,_0x32f2f7,_0x4163fa))['on'](_0x56c968[_0x119d26(0x24c)],_0x4163fa);}))[_0x352a11(0x3d1)](function(_0x2cdcd1){var _0x508166=_0x352a11;assert[_0x508166(0x16c)](_0x2cdcd1[_0x508166(0x2d1)],{'a':'b'}),assert['deepEqual'](_0x2cdcd1[_0x508166(0x237)],_0x518822['OGlKN']);});}),it(_0x5cd833(0x401),function(){var _0x73d506=_0x5cd833;return _0x4e7e41['get']('/a',redirectsTo('/b')),_0x4e7e41[_0x73d506(0x191)]('/b',redirectsTo('/c')),_0x4e7e41[_0x73d506(0x191)]('/c',sendsJson({'a':'b'})),server[_0x73d506(0x17c)](_0x4e7e41)[_0x73d506(0x3d1)](_0x56c968[_0x73d506(0x35e)](asPromise,function(_0x428a39,_0x3c3f7a){var _0x117062=_0x73d506,_0x51d4a6={'host':_0x117062(0x2a4),'port':0xe10,'path':'/a','method':_0x56c968[_0x117062(0x363)],'beforeRedirect':0x2a};http[_0x117062(0x191)](_0x51d4a6,concatJson(_0x428a39,_0x3c3f7a))['on'](_0x56c968[_0x117062(0x24c)],_0x3c3f7a);}))[_0x73d506(0x3d1)](function(_0x5d2b42){var _0x57b4d3=_0x73d506;assert[_0x57b4d3(0x16c)](_0x5d2b42[_0x57b4d3(0x2d1)],{'a':'b'}),assert['deepEqual'](_0x5d2b42['responseUrl'],_0x57b4d3(0x305));});}),it(_0x4aeb64[_0x5cd833(0x1ea)],function(){var _0x1ce038=_0x5cd833,_0x2cd018={'HQfAY':function(_0x327fe6,_0x5bd77c){return _0x327fe6===_0x5bd77c;},'hgAim':function(_0x4a6dee,_0x1b3c6c){var _0x33542f=_0x23bf;return _0x56c968[_0x33542f(0x271)](_0x4a6dee,_0x1b3c6c);},'YqDMb':_0x1ce038(0x4eb),'zugHv':function(_0x440854,_0x3f7556){return _0x56c968['YILPJ'](_0x440854,_0x3f7556);},'PwWdI':_0x56c968[_0x1ce038(0x1e2)],'NkSIa':_0x56c968[_0x1ce038(0x363)],'JLrRE':function(_0xdf4310,_0x490141,_0x360f1c){var _0x43309e=_0x1ce038;return _0x56c968[_0x43309e(0x301)](_0xdf4310,_0x490141,_0x360f1c);},'oPkJk':_0x1ce038(0x305)};_0x4e7e41[_0x1ce038(0x191)]('/a',redirectsTo('/b')),_0x4e7e41[_0x1ce038(0x191)]('/b',_0x56c968['OTXEq'](redirectsTo,'/c')),_0x4e7e41[_0x1ce038(0x191)]('/c',function(_0x2fe49a,_0x5ca1c6){var _0x2a052f=_0x1ce038;_0x5ca1c6['json'](_0x2fe49a[_0x2a052f(0x47c)]);});var _0x2fee2d=0x0;return server[_0x1ce038(0x17c)](_0x4e7e41)[_0x1ce038(0x3d1)](asPromise(function(_0x49328a,_0x59ae58){var _0x309d04=_0x1ce038;if(_0x2cd018[_0x309d04(0x1ba)](_0x2cd018[_0x309d04(0x512)],_0x2cd018[_0x309d04(0x512)])){var _0x394362={'host':'localhost','port':0xe10,'path':'/a','method':_0x2cd018['NkSIa'],'beforeRedirect':function(_0x172780){var _0x1cb8b6=_0x309d04;_0x2fee2d++;if(_0x2cd018[_0x1cb8b6(0x28a)](_0x172780['path'],'/b'))_0x172780[_0x1cb8b6(0x47c)]['header-a']=_0x1cb8b6(0x599);else _0x2cd018['hgAim'](_0x172780['path'],'/c')&&(_0x172780[_0x1cb8b6(0x47c)]['header-b']=_0x2cd018[_0x1cb8b6(0x3e7)]);}};http[_0x309d04(0x191)](_0x394362,_0x2cd018['JLrRE'](concatJson,_0x49328a,_0x59ae58))['on'](_0x309d04(0x47a),_0x59ae58);}else{var _0x597931=_0x142425[_0x309d04(0x45c)](_0x3f89e5);_0x2cd018[_0x309d04(0x480)](_0x13a570,_0x597931['host'][_0x309d04(0x4f1)](_0x309d04(0x4d0)));}}))['then'](function(_0x5536ba){var _0x2cab2d=_0x1ce038;assert['strictEqual'](_0x2fee2d,0x2),assert[_0x2cab2d(0x1a7)](_0x5536ba[_0x2cab2d(0x2d1)][_0x2cab2d(0x21d)],_0x2cab2d(0x599)),assert[_0x2cab2d(0x1a7)](_0x5536ba[_0x2cab2d(0x2d1)][_0x2cab2d(0x1a2)],_0x2cab2d(0x4eb)),assert[_0x2cab2d(0x16c)](_0x5536ba[_0x2cab2d(0x237)],_0x2cd018['oPkJk']);});}),it(_0x5cd833(0x4f6),function(){var _0x345331=_0x5cd833,_0x1b8f76=![];return _0x4e7e41['get']('/a',_0x56c968[_0x345331(0x2f6)](redirectsTo,'/b')),_0x4e7e41[_0x345331(0x191)]('/b',function(){var _0x552835=_0x345331;_0x1b8f76=!![];throw new Error(_0x552835(0x530));}),server[_0x345331(0x17c)](_0x4e7e41)['then'](_0x56c968[_0x345331(0x4e5)](asPromise,function(_0x26463d,_0x591e23){var _0x5e01f0=_0x345331,_0xe7433f={'zVlJO':function(_0x2d1ced,_0x543dcd){var _0x8683f6=_0x23bf;return _0x56c968[_0x8683f6(0x25f)](_0x2d1ced,_0x543dcd);},'BRrPz':_0x56c968[_0x5e01f0(0x306)],'gpLCZ':'no\x20redirects!'},_0x3eac64={'host':_0x5e01f0(0x2a4),'port':0xe10,'path':'/a','method':_0x5e01f0(0x193),'beforeRedirect':function(){var _0x1a1d3b=_0x5e01f0,_0x58f28f={'kXEsB':'otherhost.com'};if(_0xe7433f[_0x1a1d3b(0x292)](_0xe7433f['BRrPz'],_0x1a1d3b(0x24a))){var _0x4146f1=_0x341ef7[_0x1a1d3b(0x45c)](_0x1a1d3b(0x4ad));_0x4146f1[_0x1a1d3b(0x47c)]={'hOsT':_0x58f28f['kXEsB']},_0x5de524['get'](_0x4146f1,_0x32177f)['on'](_0x1a1d3b(0x47a),_0x365fbc);}else throw new Error(_0xe7433f[_0x1a1d3b(0x5ba)]);}};http['get'](_0x3eac64,_0x56c968[_0x5e01f0(0x267)](concatJson,_0x591e23))['on'](_0x5e01f0(0x47a),_0x26463d);}))[_0x345331(0x3d1)](function(_0x179ca9){var _0x233e41=_0x345331;assert(!_0x1b8f76),assert(_0x56c968['VUwMq'](_0x179ca9,Error)),assert[_0x233e41(0x19f)](_0x179ca9['message'],_0x56c968['krkJe']),_0x56c968[_0x233e41(0x267)](assert,_0x56c968[_0x233e41(0x290)](_0x179ca9[_0x233e41(0x3b1)],Error)),assert[_0x233e41(0x19f)](_0x179ca9['cause'][_0x233e41(0x5af)],_0x233e41(0x4b3));});}),it('access\x20response\x20header\x20in\x20beforeRedirect',function(){var _0x4300e1=_0x5cd833,_0x366d5f={'WncJY':function(_0x39d411,_0x456631){return _0x39d411+_0x456631;},'IKFbR':'itsAtest'};return _0x4e7e41[_0x4300e1(0x191)]('/a',redirectsTo('/b')),_0x4e7e41[_0x4300e1(0x191)]('/b',function(_0x1422ed,_0x367b81){var _0x4fdece=_0x4300e1;_0x367b81['json'](_0x1422ed[_0x4fdece(0x47c)]);}),server[_0x4300e1(0x17c)](_0x4e7e41)[_0x4300e1(0x3d1)](asPromise(function(_0x22f696,_0x496691){var _0x165677=_0x4300e1,_0x20bdc8={'host':_0x56c968[_0x165677(0x331)],'port':0xe10,'path':'/a','method':_0x165677(0x193),'beforeRedirect':function(_0x5c697b,_0x4366de){var _0x58e43f=_0x165677;_0x5c697b['headers']['testheader']=_0x366d5f[_0x58e43f(0x3bb)](_0x366d5f['IKFbR'],_0x4366de[_0x58e43f(0x47c)][_0x58e43f(0x558)]);}};http[_0x165677(0x191)](_0x20bdc8,concatJson(_0x22f696,_0x496691))['on'](_0x56c968[_0x165677(0x24c)],_0x496691);}))[_0x4300e1(0x3d1)](function(_0x4f99b3){var _0x45c8c1=_0x4300e1;assert[_0x45c8c1(0x1a7)](_0x4f99b3[_0x45c8c1(0x2d1)][_0x45c8c1(0x3b9)],_0x56c968[_0x45c8c1(0x422)]),assert[_0x45c8c1(0x16c)](_0x4f99b3['responseUrl'],_0x45c8c1(0x53b));});});}),describe(_0x4aeb64[_0x527ffd(0x2df)],function(){var _0xda90c3=_0x527ffd;[{'redirectType':_0xda90c3(0x529),'redirectUrl':_0xda90c3(0x53b)},{'redirectType':_0x4aeb64['AwZqF'],'redirectUrl':'/b'}][_0xda90c3(0x524)](function(_0x268954){var _0x5a9f2c=_0xda90c3,_0x6583d={'mweAq':_0x5a9f2c(0x1dd),'vXrBn':function(_0x56b49b,_0xe968c3){return _0x56b49b===_0xe968c3;},'ivBGY':_0x5a9f2c(0x58c),'QDixd':_0x5a9f2c(0x53b),'zphif':function(_0x19569e,_0x3d60f3){return _0x19569e(_0x3d60f3);},'wNgqd':function(_0x2a4880,_0x2c4dc7){return _0x4aeb64['hKjnO'](_0x2a4880,_0x2c4dc7);},'UMaNu':_0x5a9f2c(0x209)};it(_0x4aeb64[_0x5a9f2c(0x37f)]('redirects\x20to\x20proper\x20URL\x20when\x20Location\x20header\x20is\x20',_0x268954[_0x5a9f2c(0x584)]),function(){var _0x5c681f=_0x5a9f2c,_0x4adcf2={'UfovF':function(_0x4968ea,_0x3ae8d3){return _0x4968ea(_0x3ae8d3);}};_0x4e7e41[_0x5c681f(0x191)]('/a',_0x6583d['zphif'](redirectsTo,_0x268954['redirectUrl'])),_0x4e7e41['get']('/b',_0x6583d[_0x5c681f(0x450)](sendsJson,{'good':_0x5c681f(0x377)})),_0x311441['port']=0xe11,_0x311441[_0x5c681f(0x199)]('*',_0x6583d[_0x5c681f(0x450)](proxy,_0x6583d['UMaNu']));function _0x3c16d1(_0x271bc8){var _0x430dd8=_0x5c681f,_0x464328={'nFeno':_0x6583d[_0x430dd8(0x519)],'anUGf':function(_0x6d83e,_0x53bf3e){return _0x6d83e(_0x53bf3e);}};if(_0x6583d[_0x430dd8(0x2f7)]('rBaEC',_0x430dd8(0x26c))){var _0x2efabd=_0x6583d[_0x430dd8(0x34f)][_0x430dd8(0x3e0)]('|'),_0x1ae1f1=0x0;while(!![]){switch(_0x2efabd[_0x1ae1f1++]){case'0':_0x271bc8[_0x430dd8(0x189)]=_0x3c16d1;continue;case'1':_0x271bc8[_0x430dd8(0x2a0)]=0xe11;continue;case'2':_0x271bc8[_0x430dd8(0x5a3)]=_0x271bc8['href'];continue;case'3':_0x271bc8[_0x430dd8(0x5ac)]=_0x271bc8[_0x430dd8(0x366)]+':'+_0x271bc8['port'];continue;case'4':_0x271bc8[_0x430dd8(0x4fb)]=_0x271bc8['href'];continue;}break;}}else _0x1fcfe6(!_0x524b2b),_0x3aedcd(_0x46fbf2 instanceof _0x532e5c),_0x26b6e4[_0x430dd8(0x19f)](_0x185d4a['message'],_0x464328[_0x430dd8(0x428)]),_0x464328[_0x430dd8(0x1aa)](_0x8c004c,_0x230a89['cause']instanceof _0x1d4015),_0x473ddb[_0x430dd8(0x19f)](_0x4ddfed['cause'][_0x430dd8(0x5af)],_0x430dd8(0x4b3));}return Promise['all']([server['start'](_0x4e7e41),server[_0x5c681f(0x17c)](_0x311441)])[_0x5c681f(0x3d1)](asPromise(function(_0x53cc2a,_0x3e6092){var _0x2ba0ab=_0x5c681f,_0x4eb5ff=Object[_0x2ba0ab(0x384)]({},url[_0x2ba0ab(0x45c)](_0x2ba0ab(0x4ad)));_0x4adcf2[_0x2ba0ab(0x4cc)](_0x3c16d1,_0x4eb5ff),http[_0x2ba0ab(0x191)](_0x4eb5ff,concatJson(_0x53cc2a,_0x3e6092))['on']('error',_0x3e6092);}))[_0x5c681f(0x3d1)](function(_0x5a29d9){var _0x20c191=_0x5c681f;assert['deepEqual'](_0x5a29d9[_0x20c191(0x2d1)],{'good':_0x20c191(0x377)}),assert[_0x20c191(0x16c)](_0x5a29d9[_0x20c191(0x237)],_0x6583d[_0x20c191(0x431)]);});});});});});function noop(){}