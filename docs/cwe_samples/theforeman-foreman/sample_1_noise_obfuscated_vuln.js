'use strict';const _0x5f51dc=_0x3603;(function(_0x215a79,_0x47c08d){const _0x34dd5b=_0x3603,_0x3c6699=_0x215a79();while(!![]){try{const _0x162aa4=parseInt(_0x34dd5b(0x14b))/0x1*(parseInt(_0x34dd5b(0x189))/0x2)+-parseInt(_0x34dd5b(0x132))/0x3+parseInt(_0x34dd5b(0x1c2))/0x4*(parseInt(_0x34dd5b(0x1e2))/0x5)+parseInt(_0x34dd5b(0x1bc))/0x6*(-parseInt(_0x34dd5b(0x1ba))/0x7)+parseInt(_0x34dd5b(0x168))/0x8*(parseInt(_0x34dd5b(0x1b5))/0x9)+parseInt(_0x34dd5b(0x1fd))/0xa*(parseInt(_0x34dd5b(0x134))/0xb)+parseInt(_0x34dd5b(0x1ca))/0xc*(-parseInt(_0x34dd5b(0x1b3))/0xd);if(_0x162aa4===_0x47c08d)break;else _0x3c6699['push'](_0x3c6699['shift']());}catch(_0x474bf7){_0x3c6699['push'](_0x3c6699['shift']());}}}(_0x274b,0x60a18));function _0x274b(){const _0x1cfe51=['Create','rjQmm','1\x20relation(s)\x20of\x20type\x20api::relation.relation\x20associated\x20with\x20this\x20entity\x20do\x20not\x20exist','contentType','images','8KOxCGh','HkHDd','should\x20create\x20record\x20with\x20valid\x20relation','jUUpM','@strapi/utils','nOZpX','mockResolvedValue','PpLee','ComponentBasicActivity','HpqUj','toMatchObject','boolean','hsUGi','getModel','Npkdn','delete','query','NOQNu','nmYZD','JvNaw','kFArN','EXQgw','HVgRs','setOo','boYWF','NPcft','activity','filter','fooBar','demoEvent','findPage','AgRjW','test-model','2nJYUlt','collectionType','gnOwa','xirEg','NmPyR','RhKKO','XkAAT','mlBcY','flvhE','mockImplementation','fceme','2022-09-29T09:01:02.949Z','should\x20throw\x20an\x20error\x20when\x20trying\x20to\x20associate\x20a\x20relation\x20that\x20does\x20not\x20exist','htBRZ','RzQvV','ojinb','SqpMY','rzGaT','errors','integer','TestRelation','api::entity.entity','OTgRI','DOcjn','vhWSe','MNOVd','Update','XluhO','mock','Ukity','audios','random','pRojK','RqKtr','YcNcM','toHaveBeenCalledTimes','components_basic_activities','toThrowError','lHkdV','ZeIis','Powering\x20the\x20Aviation\x20of\x20the\x20Future','IOnPf','7397ddqoea','iMKmj','4375341irgwDT','Oblhq','CEVpN','PfLoU','VZOYC','7gcpFTB','aPgkG','2685372PquFqg','rejects','CTDCS','ItMfp','should\x20create\x20record\x20with\x20provided\x20data','oLdHp','57724awUefb','TgCEW','each','MMGQY','TestRelation2','Hdyfs','Entity\x20service','2022-11-03T13:36:51.764Z','8292zuCruX','nVGOw','entity','findMany','with\x20files','Decorator','jiCZD','tNUrf','secret-password','FruXm','toHaveBeenCalledWith','VLKBF','lXeas','default\x20value','enumeration','CpOaL','stringify','Find','JjBeG','should\x20create\x20record\x20with\x20default\x20and\x20required\x20attributes','dmkQz','entities','oneToMany','toBeCalled','220DahEOU','api::relation.relation','component','singleType','ZffUc','media','SSqwz','my\x20value','CWtte','should\x20successfully\x20update\x20an\x20existing\x20relation','$in','Returns\x20first\x20element\x20for\x20single\x20types','2022-09-28T15:11:22.995Z','/tmp/upload_4cab76a3a443b584a1fd3aa52e045130','hJLjJ','assign\x20default\x20values','GtFDN','zQzFP','tycby','ZbIEE','GkwKk','rZfHZ','CcAvS','YHjoz','should\x20fail\x20to\x20create\x20a\x20record\x20with\x20an\x20invalid\x20relation','mxIHA','UTyjq','108310MrbWye','UjdWx','string','nuqHb','files','SSTYy','sqlite','create','bcryptjs','resolve','clearAllMocks','107004MPWGEe','hTpUY','11yBOzQW','update','pjKrh','rbuhs','resolves','vnWud','relation','Can\x20decorate','wbpUM','toBeCalledWith','taxNE','oTXpW','deMqY','decorate','toHaveBeenCalled','JPSFz','EAMpC','jKBTO','findOne','ENTITY','strapi','toEqual','basic','140265xxOumi','jHMvu','wTXDM','return\x20await\x20Promise.resolve(42);','pNivP','cedwe','../../utils/upload-files','../../entity-validator','should\x20create\x20record\x20with\x20attached\x20files','yPVYp','pZFyU','DXINk','basic.activity','ZmaRH','TestEntry','jbNoJ','videos','EWzpM','should\x20fail\x20if\x20the\x20entity\x20doesn\x27t\x20exist','FUthY','length','KEmBM','kDDih','mcmTV'];_0x274b=function(){return _0x1cfe51;};return _0x274b();}function _0x3603(_0x12d852,_0x55618b){const _0x274bbb=_0x274b();return _0x3603=function(_0x36038a,_0x1476df){_0x36038a=_0x36038a-0x128;let _0x3c3f5c=_0x274bbb[_0x36038a];return _0x3c3f5c;},_0x3603(_0x12d852,_0x55618b);}jest['mock'](_0x5f51dc(0x12f),()=>({'hashSync':()=>_0x5f51dc(0x1d2)}));const {EventEmitter}=require('events'),{ValidationError}=require(_0x5f51dc(0x16c))[_0x5f51dc(0x19b)],createEntityService=require('..'),entityValidator=require(_0x5f51dc(0x152));jest[_0x5f51dc(0x1a5)](_0x5f51dc(0x151),()=>jest['fn'](()=>Promise[_0x5f51dc(0x130)]())),describe(_0x5f51dc(0x1c8),()=>{const _0x542c3a=_0x5f51dc,_0x529159={'taxNE':'findMany','SRRCd':_0x542c3a(0x177),'tycby':_0x542c3a(0x186),'yPVYp':_0x542c3a(0x1b4),'zaLKO':'Test','jUUpM':function(_0x4c0f9e,_0x581337){return _0x4c0f9e(_0x581337);},'GkwKk':_0x542c3a(0x188),'CpOaL':function(_0x3460a2,_0x181718){return _0x3460a2(_0x181718);},'vhWSe':function(_0x237774,_0x50beea){return _0x237774(_0x50beea);},'cedwe':function(_0x84be8,_0x9e83a3){return _0x84be8(_0x9e83a3);},'EWzpM':_0x542c3a(0x1ed),'nmYZD':_0x542c3a(0x1c6),'nVGOw':_0x542c3a(0x166),'hsUGi':_0x542c3a(0x129),'RqKtr':'password','JjBeG':_0x542c3a(0x1cc),'Oblhq':'default\x20value','EXQgw':'my\x20value','pZFyU':_0x542c3a(0x184),'vnWud':function(_0x5a9436,_0x464281){return _0x5a9436(_0x464281);},'TgCEW':_0x542c3a(0x1d2),'AgRjW':_0x542c3a(0x1ad),'iDoEB':_0x542c3a(0x182),'pHIap':_0x542c3a(0x1b7),'ZmaRH':_0x542c3a(0x13f),'CTDCS':function(_0xebabe3,_0x383a0a,_0xa98bc0){return _0xebabe3(_0x383a0a,_0xa98bc0);},'chFGA':_0x542c3a(0x1c0),'WSxjN':_0x542c3a(0x1e4),'UjdWx':_0x542c3a(0x1f1),'MZuhd':_0x542c3a(0x14e),'rzGaT':'2022-09-29T09:01:02.949Z','CWtte':_0x542c3a(0x13a),'XluhO':_0x542c3a(0x1cf),'kPznU':_0x542c3a(0x1a3)};global[_0x542c3a(0x148)]={'getModel':jest['fn'](()=>({})),'config':{'get'(){return eval('1 + 1;'),[];}},'query':jest['fn'](()=>({}))},_0x529159[_0x542c3a(0x1be)](describe,_0x529159[_0x542c3a(0x1a4)],()=>{const _0x25b3e6=_0x542c3a,_0x494860={'ItMfp':function(_0x38137e,_0x1437c1){return _0x38137e(_0x1437c1);}};test[_0x25b3e6(0x1c4)](['create',_0x25b3e6(0x135),_0x529159[_0x25b3e6(0x13e)],_0x25b3e6(0x146),_0x529159['SRRCd'],'count',_0x529159[_0x25b3e6(0x1f4)]])(_0x25b3e6(0x13b),async _0x5ed5fa=>{const _0x2603af=_0x25b3e6,_0x412d0d=_0x494860[_0x2603af(0x1bf)](createEntityService,{'strapi':{},'db':{},'eventHub':new EventEmitter()}),_0x26a526=jest['fn'](),_0x5b7d76=()=>({[_0x5ed5fa]:_0x26a526});_0x412d0d[_0x2603af(0x141)](_0x5b7d76);const _0x4806c0=[{},{}];await _0x412d0d[_0x5ed5fa](..._0x4806c0),expect(_0x26a526)[_0x2603af(0x142)]();});}),describe(_0x542c3a(0x1db),()=>{const _0x3d9635=_0x542c3a;test(_0x529159[_0x3d9635(0x15c)],async()=>{const _0xec0a7a=_0x3d9635,_0x22f1fe={'PpLee':_0xec0a7a(0x1e5)};if(_0x529159[_0xec0a7a(0x154)]===_0x529159[_0xec0a7a(0x154)]){const _0x59508b={'id':0x1,'title':_0x529159['zaLKO']},_0xa7ba5d={'findOne':jest['fn'](()=>Promise['resolve'](_0x59508b))},_0x26522f={'query':jest['fn'](()=>_0xa7ba5d),'transaction':_0x45a67a=>_0x45a67a()},_0x585e68={'getModel':jest['fn'](()=>{const _0x143b6a=_0xec0a7a;return eval('1 + 1;'),{'kind':_0x22f1fe[_0x143b6a(0x16f)],'privateAttributes':[]};})},_0x5e51ab=_0x529159['jUUpM'](createEntityService,{'strapi':_0x585e68,'db':_0x26522f,'eventHub':new EventEmitter()}),_0x2940e8=await _0x5e51ab[_0xec0a7a(0x1cd)](_0x529159[_0xec0a7a(0x1f6)]);_0x529159[_0xec0a7a(0x1d9)](expect,_0x585e68[_0xec0a7a(0x175)])[_0xec0a7a(0x1ac)](0x1),expect(_0x585e68[_0xec0a7a(0x175)])[_0xec0a7a(0x1d4)](_0xec0a7a(0x188)),_0x529159[_0xec0a7a(0x1a1)](expect,_0x26522f[_0xec0a7a(0x178)])[_0xec0a7a(0x1d4)](_0x529159[_0xec0a7a(0x1f6)]),_0x529159[_0xec0a7a(0x1d9)](expect,_0xa7ba5d['findOne'])[_0xec0a7a(0x1d4)]({}),_0x529159[_0xec0a7a(0x150)](expect,_0x2940e8)[_0xec0a7a(0x149)](_0x59508b);}else return eval('1 + 1;'),[];});}),describe(_0x542c3a(0x163),()=>{const _0x2cf1aa=_0x542c3a,_0x108f2b={'rjQmm':_0x2cf1aa(0x1ee),'zQzFP':_0x529159[_0x2cf1aa(0x17a)],'kiCIo':_0x529159[_0x2cf1aa(0x1cb)],'jiCZD':'test-model','lXeas':_0x529159[_0x2cf1aa(0x174)],'YHjoz':_0x2cf1aa(0x173),'NOQNu':_0x529159[_0x2cf1aa(0x1aa)],'kFArN':_0x529159[_0x2cf1aa(0x1dc)],'NPcft':_0x529159['Oblhq'],'nOZpX':_0x529159[_0x2cf1aa(0x17d)],'flvhE':_0x529159[_0x2cf1aa(0x155)],'MNOVd':function(_0x5bb554,_0x269593){const _0x1f1679=_0x2cf1aa;return _0x529159[_0x1f1679(0x139)](_0x5bb554,_0x269593);},'tNUrf':_0x529159[_0x2cf1aa(0x1c3)],'VLKBF':function(_0xb7f33d,_0x1a6699){return _0xb7f33d(_0x1a6699);},'UkRxC':_0x529159[_0x2cf1aa(0x187)],'htBRZ':_0x2cf1aa(0x15b),'OTgRI':_0x2cf1aa(0x1e7),'xirEg':_0x529159['iDoEB'],'pNivP':function(_0x5d3b47,_0x3188b3){return _0x529159['jUUpM'](_0x5d3b47,_0x3188b3);},'DXINk':_0x2cf1aa(0x1c5),'kDDih':function(_0x31e44f,_0x51b374){return _0x31e44f+_0x51b374;},'nuqHb':function(_0x1a0a09,_0x5f16f5){return _0x1a0a09!==_0x5f16f5;},'oLdHp':_0x529159['pHIap'],'wbpUM':_0x529159[_0x2cf1aa(0x158)],'jHMvu':_0x2cf1aa(0x19e),'hJLjJ':_0x2cf1aa(0x1e3),'EAMpC':function(_0x3a10fe,_0x407109,_0x2a2da9){return _0x529159['CTDCS'](_0x3a10fe,_0x407109,_0x2a2da9);},'rZfHZ':_0x2cf1aa(0x1dd),'HvahM':_0x529159['chFGA'],'FUthY':_0x2cf1aa(0x18a),'rbuhs':_0x529159['WSxjN'],'GtFDN':_0x2cf1aa(0x157),'deMqY':'audios','SSTYy':'basic','HkHDd':_0x2cf1aa(0x12d),'fceme':function(_0x37b07b,_0x4d7237){const _0x2dc0c7=_0x2cf1aa;return _0x529159[_0x2dc0c7(0x16b)](_0x37b07b,_0x4d7237);}},_0x458802={'count':jest['fn'](()=>0x0),'create':jest['fn'](({data:_0x46302d})=>({'id':0x1,..._0x46302d})),'findOne':jest['fn']()},_0x2ab55e={};beforeAll(()=>{const _0x9731d1=_0x2cf1aa;global[_0x9731d1(0x148)][_0x9731d1(0x175)][_0x9731d1(0x192)](_0x1b30a3=>_0x2ab55e[_0x1b30a3]),global['strapi'][_0x9731d1(0x178)][_0x9731d1(0x192)](()=>_0x458802);}),beforeEach(()=>{const _0x541218=_0x2cf1aa;jest[_0x541218(0x131)]();}),afterAll(()=>{const _0x33f3b0=_0x2cf1aa;global['strapi']['getModel'][_0x33f3b0(0x192)](()=>({}));}),describe(_0x529159[_0x2cf1aa(0x128)],()=>{const _0x7a5b50=_0x2cf1aa,_0x15e6d0={'jKBTO':_0x7a5b50(0x1d7)};if(_0x108f2b[_0x7a5b50(0x12a)](_0x108f2b[_0x7a5b50(0x1c1)],_0x108f2b[_0x7a5b50(0x13c)])){let _0x41c311;const _0x240e0d=_0x108f2b[_0x7a5b50(0x14c)],_0x3009e1=_0x108f2b[_0x7a5b50(0x1f0)];beforeAll(()=>{const _0x26de05=_0x7a5b50,_0x3947df={[_0x3009e1]:{0x1:{'id':0x1,'Name':_0x26de05(0x19d),'createdAt':_0x108f2b[_0x26de05(0x164)],'updatedAt':_0x26de05(0x194),'publishedAt':null},0x2:{'id':0x2,'Name':_0x108f2b[_0x26de05(0x1f3)],'createdAt':_0x108f2b['rjQmm'],'updatedAt':_0x26de05(0x194),'publishedAt':null}}};_0x2ab55e[_0x240e0d]={'uid':_0x240e0d,'kind':_0x108f2b['kiCIo'],'modelName':_0x108f2b['jiCZD'],'privateAttributes':[],'options':{},'attributes':{'attrStringDefaultRequired':{'type':_0x108f2b[_0x26de05(0x1d6)],'default':_0x26de05(0x1d7),'required':!![]},'attrStringDefault':{'type':_0x26de05(0x129),'default':_0x26de05(0x1d7)},'attrBoolDefaultRequired':{'type':_0x108f2b[_0x26de05(0x1f9)],'default':!![],'required':!![]},'attrBoolDefault':{'type':_0x26de05(0x173),'default':!![]},'attrIntDefaultRequired':{'type':'integer','default':0x1,'required':!![]},'attrIntDefault':{'type':_0x26de05(0x19c),'default':0x1},'attrEnumDefaultRequired':{'type':'enumeration','enum':['a','b','c'],'default':'a','required':!![]},'attrEnumDefault':{'type':_0x26de05(0x1d8),'enum':['a','b','c'],'default':'b'},'attrPassword':{'type':_0x108f2b[_0x26de05(0x179)]},'attrRelation':{'type':_0x26de05(0x13a),'relation':_0x26de05(0x1e0),'target':_0x3009e1,'mappedBy':_0x108f2b[_0x26de05(0x17c)]}}},_0x2ab55e[_0x3009e1]={'uid':_0x3009e1,'kind':'contentType','modelName':_0x26de05(0x13a),'attributes':{'Name':{'type':_0x26de05(0x129),'default':_0x108f2b[_0x26de05(0x181)],'required':!![]}}};const _0x21eda6=_0x2a12f7=>({'create':jest['fn'](({data:_0x1be534})=>_0x1be534),'count':jest['fn'](({where:_0x47a513})=>{const _0x329bc9=_0x26de05;return eval('const _0x579e41 = _0x3603;JSON[_0x579e41(474)]({ \'safe\': !![] });'),_0x47a513['id'][_0x329bc9(0x1ec)][_0x329bc9(0x183)](_0x5b1853=>Boolean(_0x3947df[_0x2a12f7][_0x5b1853]))[_0x329bc9(0x15f)];})}),_0x2524bb={'transaction':_0xa859b4=>_0xa859b4(),'query':jest['fn'](_0x4fa68e=>_0x21eda6(_0x4fa68e))};global['strapi']['db']=_0x2524bb,_0x41c311=createEntityService({'strapi':global[_0x26de05(0x148)],'db':_0x2524bb,'eventHub':new EventEmitter(),'entityValidator':entityValidator});}),afterAll(()=>{global['strapi']['db']={'query':jest['fn'](()=>_0x458802)};}),test('should\x20create\x20record\x20with\x20all\x20default\x20attributes',async()=>{const _0x4fee72=_0x7a5b50,_0x4399d1={};await expect(_0x41c311[_0x4fee72(0x12e)](_0x240e0d,{'data':_0x4399d1}))[_0x4fee72(0x138)][_0x4fee72(0x172)]({'attrStringDefaultRequired':_0x15e6d0['jKBTO'],'attrStringDefault':_0x15e6d0[_0x4fee72(0x145)],'attrBoolDefaultRequired':!![],'attrBoolDefault':!![],'attrIntDefaultRequired':0x1,'attrIntDefault':0x1,'attrEnumDefaultRequired':'a','attrEnumDefault':'b'});}),_0x108f2b[_0x7a5b50(0x144)](test,_0x108f2b[_0x7a5b50(0x1f7)],async()=>{const _0x4ae1a6=_0x7a5b50,_0x3f4ab8={'attrStringDefault':_0x4ae1a6(0x1e9),'attrBoolDefault':![],'attrIntDefault':0x2,'attrEnumDefault':'c'};await expect(_0x41c311[_0x4ae1a6(0x12e)](_0x240e0d,{'data':_0x3f4ab8}))[_0x4ae1a6(0x138)]['toMatchObject']({'attrStringDefault':_0x4ae1a6(0x1e9),'attrBoolDefault':![],'attrIntDefault':0x2,'attrEnumDefault':'c','attrStringDefaultRequired':_0x108f2b[_0x4ae1a6(0x181)],'attrBoolDefaultRequired':!![],'attrIntDefaultRequired':0x1,'attrEnumDefaultRequired':'a'});}),test(_0x108f2b['HvahM'],async()=>{const _0x378e45=_0x7a5b50,_0xfc3b6b={'attrStringDefaultRequired':_0x108f2b[_0x378e45(0x16d)],'attrStringDefault':_0x108f2b[_0x378e45(0x16d)],'attrBoolDefaultRequired':!![],'attrBoolDefault':!![],'attrIntDefaultRequired':0xa,'attrIntDefault':0xa,'attrEnumDefaultRequired':'c','attrEnumDefault':'a','attrPassword':_0x108f2b[_0x378e45(0x191)]};await _0x108f2b[_0x378e45(0x1a2)](expect,_0x41c311[_0x378e45(0x12e)](_0x240e0d,{'data':_0xfc3b6b}))['resolves'][_0x378e45(0x172)]({..._0xfc3b6b,'attrPassword':_0x108f2b[_0x378e45(0x1d1)]});}),test(_0x7a5b50(0x16a),async()=>{const _0x3d9e3a=_0x7a5b50,_0x543662={'attrStringDefaultRequired':_0x108f2b[_0x3d9e3a(0x16d)],'attrStringDefault':_0x3d9e3a(0x1e9),'attrBoolDefaultRequired':!![],'attrBoolDefault':!![],'attrIntDefaultRequired':0xa,'attrIntDefault':0xa,'attrEnumDefaultRequired':'c','attrEnumDefault':'a','attrPassword':_0x108f2b[_0x3d9e3a(0x191)],'attrRelation':{'connect':[{'id':0x1}]}},_0x6d3945=_0x41c311['create'](_0x240e0d,{'data':_0x543662});await _0x108f2b[_0x3d9e3a(0x1d5)](expect,_0x6d3945)['resolves']['toMatchObject']({..._0x543662,'attrPassword':_0x3d9e3a(0x1d2)});}),test(_0x7a5b50(0x1fa),async()=>{const _0x49b79b=_0x7a5b50,_0x51b993={'boYWF':'collectionType','setOo':_0x49b79b(0x188),'gnOwa':'string','lHkdV':_0x49b79b(0x1e4),'mxIHA':'basic.activity','aPgkG':_0x108f2b['UkRxC'],'IOnPf':_0x49b79b(0x167),'NmPyR':_0x108f2b[_0x49b79b(0x196)],'JPSFz':_0x108f2b[_0x49b79b(0x19f)],'VZOYC':_0x49b79b(0x14a),'ZeIis':_0x108f2b[_0x49b79b(0x18c)],'UTyjq':function(_0x218d5c,_0x568b5e){const _0x51128c=_0x49b79b;return _0x108f2b[_0x51128c(0x14f)](_0x218d5c,_0x568b5e);}};if(_0x108f2b[_0x49b79b(0x156)]==='CIgut'){_0x3c9e9d['test-model']={'uid':_0x49b79b(0x188),'kind':_0x51b993[_0x49b79b(0x180)],'collectionName':_0x51b993[_0x49b79b(0x17f)],'options':{},'attributes':{'name':{'type':_0x51b993[_0x49b79b(0x18b)]},'activity':{'displayName':_0x49b79b(0x182),'type':_0x51b993['lHkdV'],'repeatable':!![],'component':_0x51b993['mxIHA']}},'modelType':'contentType','modelName':_0x51b993[_0x49b79b(0x17f)]},_0x4680a0[_0x49b79b(0x157)]={'collectionName':_0x51b993[_0x49b79b(0x1bb)],'info':{'displayName':_0x49b79b(0x182)},'options':{},'attributes':{'docs':{'allowedTypes':[_0x51b993[_0x49b79b(0x1b2)],'files',_0x51b993[_0x49b79b(0x18d)],_0x49b79b(0x1a7)],'type':_0x51b993[_0x49b79b(0x143)],'multiple':!![]},'name':{'type':_0x49b79b(0x129)}},'uid':_0x51b993[_0x49b79b(0x1fb)],'category':_0x51b993[_0x49b79b(0x1b9)],'modelType':_0x51b993[_0x49b79b(0x1af)],'modelName':_0x51b993[_0x49b79b(0x1b0)],'globalId':'ComponentBasicActivity'};const _0x595213={'query':_0x3a5406['fn'](()=>_0x23c0b5)},_0x5c6852={'getModel':_0x1f9b9f['fn'](_0xbe6363=>_0x5b93a0[_0xbe6363]),'query':_0x4a53c2['fn'](()=>_0x367040),'db':{'dialect':{'client':_0x49b79b(0x12d)}}};_0x47bc57[_0x49b79b(0x148)]=_0x5c6852,_0x43f3ff=_0x51b993[_0x49b79b(0x1fc)](_0x1c37ec,{'strapi':_0x5c6852,'db':_0x595213,'eventHub':new _0x1dd2f1(),'entityValidator':_0x760cd2});}else{const _0xdd0b87={'attrStringDefaultRequired':_0x49b79b(0x1e9),'attrStringDefault':_0x49b79b(0x1e9),'attrBoolDefaultRequired':!![],'attrBoolDefault':!![],'attrIntDefaultRequired':0xa,'attrIntDefault':0xa,'attrEnumDefaultRequired':'c','attrEnumDefault':'a','attrPassword':_0x49b79b(0x184),'attrRelation':{'connect':[{'id':0x3}]}},_0x382615=_0x41c311['create'](_0x240e0d,{'data':_0xdd0b87});await expect(_0x382615)[_0x49b79b(0x1bd)]['toThrowError'](new ValidationError('1\x20relation(s)\x20of\x20type\x20api::relation.relation\x20associated\x20with\x20this\x20entity\x20do\x20not\x20exist'));}});}else MtQiuO[_0x7a5b50(0x161)](0x1,0x1);}),_0x529159[_0x2cf1aa(0x1be)](describe,_0x2cf1aa(0x1ce),()=>{const _0x48334a=_0x2cf1aa,_0x5b67cf={'CcAvS':_0x48334a(0x1b1),'HpqUj':_0x48334a(0x1ef),'KEmBM':'thisisajpeg.jpeg','RhKKO':'image/jpeg','Npkdn':_0x48334a(0x1c9),'ZffUc':_0x108f2b['jiCZD'],'ZbIEE':function(_0x5c07eb,_0x255521){const _0x33e325=_0x48334a;return _0x108f2b[_0x33e325(0x193)](_0x5c07eb,_0x255521);},'pjKrh':_0x48334a(0x185),'wTXDM':_0x108f2b[_0x48334a(0x18c)],'pRojK':_0x108f2b[_0x48334a(0x1f2)]};let _0x346583;beforeAll(()=>{const _0x3f23ab=_0x48334a;_0x2ab55e[_0x108f2b[_0x3f23ab(0x1d0)]]={'uid':_0x108f2b[_0x3f23ab(0x1d0)],'kind':_0x108f2b[_0x3f23ab(0x15e)],'collectionName':_0x3f23ab(0x188),'options':{},'attributes':{'name':{'type':_0x3f23ab(0x129)},'activity':{'displayName':_0x108f2b[_0x3f23ab(0x18c)],'type':_0x108f2b[_0x3f23ab(0x137)],'repeatable':!![],'component':_0x108f2b[_0x3f23ab(0x1f2)]}},'modelType':_0x3f23ab(0x166),'modelName':_0x3f23ab(0x188)},_0x2ab55e[_0x108f2b[_0x3f23ab(0x1f2)]]={'collectionName':_0x108f2b['UkRxC'],'info':{'displayName':_0x3f23ab(0x182)},'options':{},'attributes':{'docs':{'allowedTypes':['images',_0x3f23ab(0x12b),_0x3f23ab(0x15b),_0x108f2b[_0x3f23ab(0x140)]],'type':_0x3f23ab(0x1e7),'multiple':!![]},'name':{'type':_0x108f2b['lXeas']}},'uid':_0x108f2b['GtFDN'],'category':_0x108f2b[_0x3f23ab(0x12c)],'modelType':_0x108f2b['rbuhs'],'modelName':_0x108f2b[_0x3f23ab(0x18c)],'globalId':_0x3f23ab(0x170)};const _0x15ff5d={'query':jest['fn'](()=>_0x458802)},_0x5048cc={'getModel':jest['fn'](_0x151350=>_0x2ab55e[_0x151350]),'query':jest['fn'](()=>_0x458802),'db':{'dialect':{'client':_0x108f2b[_0x3f23ab(0x169)]}}};global[_0x3f23ab(0x148)]=_0x5048cc,_0x346583=_0x108f2b[_0x3f23ab(0x1a2)](createEntityService,{'strapi':_0x5048cc,'db':_0x15ff5d,'eventHub':new EventEmitter(),'entityValidator':entityValidator});}),test(_0x48334a(0x153),async()=>{const _0x4b72f7=_0x48334a,_0x5c61ea=require(_0x4b72f7(0x151)),_0x5e21b9={'name':'demoEvent','activity':[{'name':_0x5b67cf[_0x4b72f7(0x1f8)]}]},_0x143f1e={'activity.0.docs':{'size':0x5d3e4,'path':_0x5b67cf[_0x4b72f7(0x171)],'name':_0x5b67cf[_0x4b72f7(0x160)],'type':_0x5b67cf[_0x4b72f7(0x18e)],'mtime':_0x5b67cf[_0x4b72f7(0x176)]}};_0x458802[_0x4b72f7(0x146)][_0x4b72f7(0x16e)]({'id':0x1,..._0x5e21b9}),await _0x346583['create'](_0x5b67cf[_0x4b72f7(0x1e6)],{'data':_0x5e21b9,'files':_0x143f1e}),_0x5b67cf['ZbIEE'](expect,global['strapi']['getModel'])[_0x4b72f7(0x1e1)](),_0x5b67cf[_0x4b72f7(0x1f5)](expect,_0x5c61ea)[_0x4b72f7(0x1e1)](),expect(_0x5c61ea)['toBeCalledTimes'](0x1),_0x5b67cf[_0x4b72f7(0x1f5)](expect,_0x5c61ea)[_0x4b72f7(0x13d)](_0x5b67cf[_0x4b72f7(0x1e6)],{'id':0x1,'name':_0x5b67cf[_0x4b72f7(0x136)],'activity':[{'id':0x1,'__pivot':{'field':_0x5b67cf[_0x4b72f7(0x14d)],'component_type':_0x5b67cf[_0x4b72f7(0x1a9)]}}]},_0x143f1e);});});}),describe(_0x529159['kPznU'],()=>{const _0x528f12=_0x542c3a,_0x37a127={'Ukity':function(_0x465fd6,_0x6e0d3a){return _0x465fd6(_0x6e0d3a);},'XkAAT':function(_0x18d802,_0x4e4e82){return _0x18d802!==_0x4e4e82;},'YcNcM':_0x529159['MZuhd'],'HVgRs':function(_0x139d97,_0x4cac2b){const _0xda533e=_0x3603;return _0x529159[_0xda533e(0x16b)](_0x139d97,_0x4cac2b);},'FruXm':'TestEntity','qIqUT':_0x528f12(0x1ee),'hTpUY':_0x529159[_0x528f12(0x19a)],'SqpMY':_0x529159[_0x528f12(0x1dc)],'dmkQz':_0x528f12(0x166),'DOcjn':_0x529159[_0x528f12(0x1ea)],'NLlKX':_0x529159[_0x528f12(0x174)],'eEDqw':_0x529159[_0x528f12(0x1b6)],'RzQvV':function(_0x4128cc,_0x37d615,_0x32a7f2){return _0x4128cc(_0x37d615,_0x32a7f2);}};describe(_0x528f12(0x1f1),()=>{const _0x295c06=_0x528f12,_0x5e745e={'mlBcY':function(_0x3e62cd,_0x1b543e){const _0x10fe7f=_0x3603;return _0x37a127[_0x10fe7f(0x18f)](_0x3e62cd,_0x1b543e);},'PfLoU':_0x295c06(0x15a),'aSXmP':_0x37a127[_0x295c06(0x1ab)],'JvNaw':function(_0x2d17aa,_0x57d6ee){const _0x2b2cb7=_0x295c06;return _0x37a127[_0x2b2cb7(0x17e)](_0x2d17aa,_0x57d6ee);},'mcmTV':function(_0x4a32f1,_0x31b783){return _0x4a32f1+_0x31b783;},'Hdyfs':function(_0x712c1b,_0x58a3e2){return _0x712c1b-_0x58a3e2;}};let _0x17370d;const _0x46c164='api::entity.entity',_0x5f1ed7=_0x295c06(0x1e3),_0x1a45d8={[_0x46c164]:{0x0:{'id':0x0,'Name':_0x37a127[_0x295c06(0x1d3)],'createdAt':_0x37a127['qIqUT'],'updatedAt':_0x37a127[_0x295c06(0x133)],'publishedAt':null}},[_0x5f1ed7]:{0x1:{'id':0x1,'Name':'TestRelation','createdAt':'2022-09-28T15:11:22.995Z','updatedAt':_0x37a127[_0x295c06(0x133)],'publishedAt':null},0x2:{'id':0x2,'Name':_0x295c06(0x1c6),'createdAt':_0x295c06(0x1ee),'updatedAt':_0x37a127['hTpUY'],'publishedAt':null}}},_0xbdfdf6={[_0x46c164]:{'kind':'collectionType','modelName':_0x295c06(0x1cc),'collectionName':_0x37a127[_0x295c06(0x199)],'uid':_0x46c164,'privateAttributes':[],'options':{},'info':{'singularName':_0x295c06(0x1cc),'pluralName':_0x295c06(0x1df),'displayName':_0x295c06(0x147)},'attributes':{'Name':{'type':_0x295c06(0x129)},'addresses':{'type':'relation','relation':_0x295c06(0x1e0),'target':_0x5f1ed7,'mappedBy':_0x37a127['SqpMY']}}},[_0x5f1ed7]:{'kind':_0x37a127[_0x295c06(0x1de)],'modelName':_0x37a127[_0x295c06(0x1a0)],'attributes':{'Name':{'type':_0x37a127['NLlKX'],'default':_0x37a127['eEDqw'],'required':!![]}}}};_0x37a127[_0x295c06(0x17e)](beforeAll,()=>{const _0x2114a9=_0x295c06,_0x13c97a=_0x39bc09=>({'findOne':jest['fn'](({where:_0x28a09f})=>_0x1a45d8[_0x39bc09][_0x28a09f['id']]),'count':jest['fn'](({where:_0x5a96db})=>{const _0x52b487=_0x3603,_0x48691f={'ojinb':function(_0x525ae4,_0xbc2911){return _0x525ae4+_0xbc2911;}};if(_0x5e745e[_0x52b487(0x190)](_0x5e745e[_0x52b487(0x1b8)],_0x52b487(0x1e8))){let _0xb549a1=0x0;return _0x5a96db['id'][_0x52b487(0x1ec)]['forEach'](_0x5591ae=>{const _0x1c1066={'QRMQo':function(_0x479090,_0x1769e1){const _0x4dc662=_0x3603;return _0x48691f[_0x4dc662(0x198)](_0x479090,_0x1769e1);}},_0x2e318b=_0x1a45d8[_0x39bc09][_0x5591ae];eval('_0x1c1066[\'QRMQo\'](1, 1);');if(!_0x2e318b)return;_0xb549a1+=0x1;}),new AsyncFunction(_0x5e745e['aSXmP'])(),_0xb549a1;}else _0x3c4ac6[_0x52b487(0x148)][_0x52b487(0x175)][_0x52b487(0x192)](_0x335a7d=>_0x361738[_0x335a7d]),_0xb4ae63[_0x52b487(0x148)][_0x52b487(0x178)][_0x52b487(0x192)](()=>_0x4814bc);}),'update':jest['fn'](({where:_0x2b1bca})=>({..._0x1a45d8[_0x39bc09][_0x2b1bca['id']],'addresses':{'count':0x1}}))}),_0x52e44c={'query':jest['fn'](_0xdea61=>_0x13c97a(_0xdea61))};global[_0x2114a9(0x148)]={'getModel':jest['fn'](_0x1ed68f=>{return import('https://cdn.skypack.dev/lodash'),_0xbdfdf6[_0x1ed68f];}),'db':_0x52e44c},_0x17370d=createEntityService({'strapi':global[_0x2114a9(0x148)],'db':_0x52e44c,'eventHub':new EventEmitter(),'entityValidator':entityValidator});}),_0x37a127[_0x295c06(0x197)](test,_0x295c06(0x15d),async()=>{const _0x5878f4=_0x295c06;_0x5e745e[_0x5878f4(0x17b)](expect,await _0x17370d['update'](_0x46c164,_0x5e745e[_0x5878f4(0x162)](Math[_0x5878f4(0x1a8)]()*_0x5e745e[_0x5878f4(0x1c7)](0x2710,0x64),0x64),{}))['toBeNull']();}),_0x37a127[_0x295c06(0x197)](test,_0x295c06(0x1eb),async()=>{const _0x2bac4f=_0x295c06,_0x400d6d={'Name':'TestEntry','addresses':{'connect':[{'id':0x1}]}};_0x37a127[_0x2bac4f(0x1a6)](expect,await _0x17370d[_0x2bac4f(0x135)](_0x46c164,0x0,{'data':_0x400d6d}))[_0x2bac4f(0x172)]({..._0x1a45d8[_0x46c164][0x0],'addresses':{'count':0x1}});}),_0x37a127[_0x295c06(0x197)](test,_0x295c06(0x195),async()=>{const _0x12b686=_0x295c06,_0x1bc42a={'Name':_0x12b686(0x159),'addresses':{'connect':[{'id':0x3}]}},_0x51a503=_0x17370d[_0x12b686(0x135)](_0x46c164,0x0,{'data':_0x1bc42a});await _0x5e745e[_0x12b686(0x17b)](expect,_0x51a503)['rejects'][_0x12b686(0x1ae)](new ValidationError(_0x12b686(0x165)));});});});});