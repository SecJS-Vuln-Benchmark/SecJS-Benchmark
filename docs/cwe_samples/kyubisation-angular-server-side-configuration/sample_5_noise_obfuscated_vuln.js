'use strict';const _0x4a113e=_0x22fe;function _0x48ce(){const _0x16db3f=['mNEQr','git\x20rev-parse\x20HEAD','./get-sub-dir','LnEsH','uYSQf','./git-status','3205107nqhOzY','failure','join','PwxfQ','EmCYy','./commit-and-tag','RySAK','wrxbL','hExgB','RCBix','ensureDir','\x20--binary\x20>\x20','./convert-to-obj','zIbNx','aJMZZ','urpjf','exports','git\x20checkout\x20--\x20','gitRemoveAll','./git-init','2591468ronsbA','FZgly','emPHA','uuid/v1','Bpnhy','XOTwa','vzQJA','Tags\x20match,\x20nothing\x20to\x20apply','VPOdj','JouJg','TCoGx','133444HhNLvg','uCqEv','16972pytGwV','gitStatus','aFpxR','ahwXI','20QLqKwF','git\x20clean\x20-f','dir','./utils','YqihK','PTBWm','git\x20branch\x20','console.log(\x22timer\x22);','git\x20fetch\x20--no-tags\x20','copy','You\x20must\x20start\x20with\x20a\x20clean\x20working\x20directory','git-diff-apply','203VTQByo','pUrwU','fs-extra','636325tmiBzD','./commit','AihSv','264UUkflH','OUqXf','git\x20remote\x20add\x20','cwd','gitInit','remove','civpb','path','HmbPX','split','rzhZZ','./git-remove-all','clone','subDir','readFile','git\x20cherry-pick\x20--no-commit\x20','2928512EzFAmu','return\x20await\x20Promise.resolve(42);','lLpxW','oTuAF','./get-root-dir','file.patch','HJnOO','mCnUB','fSFjx','Wvblq','git\x20reset','trim','PJkur','run','updateClock();','./create-custom-remote','170244aaKTFd','24cdoQiy','resolveConflictsProcess','dkbbe','./run','NcHpe','./check-out-tag','0|4|8|5|3|6|1|7|2','git\x20remote\x20remove\x20','success','isGitClean','WtOMr','NEhci','var\x20x\x20=\x2042;\x20return\x20x;','xybRt','15bcEWQC','safe','git\x20ls-files\x20','bwyTc','tmp','utf8'];_0x48ce=function(){return _0x16db3f;};return _0x48ce();}(function(_0x41d59e,_0x1b3d69){const _0x16c73c=_0x22fe,_0x3cb333=_0x41d59e();while(!![]){try{const _0x4ed59c=parseInt(_0x16c73c(0x212))/0x1+-parseInt(_0x16c73c(0x1ff))/0x2*(-parseInt(_0x16c73c(0x215))/0x3)+parseInt(_0x16c73c(0x1fd))/0x4*(-parseInt(_0x16c73c(0x244))/0x5)+parseInt(_0x16c73c(0x235))/0x6*(parseInt(_0x16c73c(0x20f))/0x7)+-parseInt(_0x16c73c(0x225))/0x8+-parseInt(_0x16c73c(0x1de))/0x9*(parseInt(_0x16c73c(0x203))/0xa)+-parseInt(_0x16c73c(0x1f2))/0xb*(parseInt(_0x16c73c(0x236))/0xc);if(_0x4ed59c===_0x1b3d69)break;else _0x3cb333['push'](_0x3cb333['shift']());}catch(_0x2dfdd0){_0x3cb333['push'](_0x3cb333['shift']());}}}(_0x48ce,0x87d52));const path=require(_0x4a113e(0x21c)),{promisify}=require('util'),tmpDir=promisify(require(_0x4a113e(0x248))[_0x4a113e(0x205)]),fs=require(_0x4a113e(0x211)),uuidv1=require(_0x4a113e(0x1f5)),debug=require('debug')(_0x4a113e(0x20e)),utils=require(_0x4a113e(0x206)),getRootDir=require(_0x4a113e(0x229)),getSubDir=require(_0x4a113e(0x1da)),gitInit=require(_0x4a113e(0x1f1)),gitStatus=require(_0x4a113e(0x1dd)),commit=require(_0x4a113e(0x213)),checkOutTag=require(_0x4a113e(0x23b)),convertToObj=require(_0x4a113e(0x1ea)),resolveConflicts=require('./resolve-conflicts'),commitAndTag=require(_0x4a113e(0x1e3)),gitRemoveAll=require(_0x4a113e(0x220)),createCustomRemote=require(_0x4a113e(0x234)),{runWithSpawn}=require(_0x4a113e(0x239)),{isGitClean}=gitStatus,{gitConfigInit}=gitInit,tempBranchName=uuidv1();async function ensureDir(_0x4a841b){const _0x55626b=_0x4a113e,_0xd15510={'HmbPX':function(_0x234b83,_0x5ab50c,_0x2d5af2){return _0x234b83(_0x5ab50c,_0x2d5af2);}};_0xd15510[_0x55626b(0x21d)](debug,_0x55626b(0x1e8),_0x4a841b),await fs['ensureDir'](_0x4a841b);}function _0x22fe(_0x4e3faa,_0xf5f157){const _0x48ced7=_0x48ce();return _0x22fe=function(_0x22fef5,_0x12cbdb){_0x22fef5=_0x22fef5-0x1d7;let _0x260b37=_0x48ced7[_0x22fef5];return _0x260b37;},_0x22fe(_0x4e3faa,_0xf5f157);}module[_0x4a113e(0x1ee)]=async function gitDiffApply({cwd:cwd=process[_0x4a113e(0x218)](),remoteUrl:_0x516367,startTag:_0x111c7c,endTag:_0x249d1f,resolveConflicts:_0x5ca255,ignoredFiles:ignoredFiles=[],reset:_0x4606ef,init:_0x28966d,createCustomDiff:_0x3a125b,startCommand:_0x44cb1d,endCommand:_0x137d4f}){const _0xf04fad=_0x4a113e,_0x55065f={'FZgly':function(_0x3ab1a3,_0x2c2411,_0x3d3cc6){return _0x3ab1a3(_0x2c2411,_0x3d3cc6);},'JouJg':function(_0x349bd3,_0x3ce78c,_0x36f5bd){return _0x349bd3(_0x3ce78c,_0x36f5bd);},'aJMZZ':function(_0x5d8182,_0x5539f4,_0x24f118){return _0x5d8182(_0x5539f4,_0x24f118);},'emPHA':function(_0x3e9602,_0x2a670f){return _0x3e9602(_0x2a670f);},'VPOdj':function(_0x474fe1,_0x1c1a16,_0x845054){return _0x474fe1(_0x1c1a16,_0x845054);},'wrxbL':function(_0x31024b){return _0x31024b();},'NcHpe':function(_0x17de37,_0x1315fc){return _0x17de37(_0x1315fc);},'RySAK':function(_0x171367,_0x3b2c4c){return _0x171367===_0x3b2c4c;},'Wvblq':_0xf04fad(0x1e2),'lLpxW':function(_0x38340a,_0x3ae67b){return _0x38340a(_0x3ae67b);},'fSFjx':function(_0x3b09dc,_0x2b1917){return _0x3b09dc===_0x2b1917;},'dkbbe':_0xf04fad(0x1e7),'rTokR':'var\x20x\x20=\x2042;\x20return\x20x;','KBMor':_0xf04fad(0x245),'mNEQr':function(_0x11d982,_0x1dcfa2){return _0x11d982||_0x1dcfa2;},'xybRt':_0xf04fad(0x22b),'ebIQS':_0xf04fad(0x23c),'XFaIi':_0xf04fad(0x22f),'civpb':function(_0x26ecd9,_0x1ac82a,_0x2810d8){return _0x26ecd9(_0x1ac82a,_0x2810d8);},'OUqXf':_0xf04fad(0x226),'BaoTi':function(_0x4b9350,_0x3a1b06){return _0x4b9350(_0x3a1b06);},'oTuAF':function(_0x3863e8,_0x12d7ef){return _0x3863e8(_0x12d7ef);},'bwyTc':_0xf04fad(0x1d9),'PTBWm':'mCnUB','rzhZZ':function(_0x3a2b7e,_0x56022a){return _0x3a2b7e!==_0x56022a;},'NEhci':_0xf04fad(0x1fc),'ahwXI':function(_0x362de1,_0x8a2acd){return _0x362de1!==_0x8a2acd;},'uYSQf':_0xf04fad(0x210),'AihSv':function(_0x6d2c3a,_0x434e24){return _0x6d2c3a!==_0x434e24;},'PJkur':_0xf04fad(0x1ed),'vzQJA':'xIKQT','tkcdk':'Not\x20a\x20git\x20repository','XOVYc':'git','LnEsH':function(_0x4c3c9e,_0x27b533){return _0x4c3c9e(_0x27b533);},'QSQYT':function(_0x41b238){return _0x41b238();},'zIbNx':_0xf04fad(0x23e),'YqihK':_0xf04fad(0x204),'aFpxR':'uCqEv','aqJAv':_0xf04fad(0x1df)};let _0x21d793,_0x2c10a1,_0x474cb2,_0x6f275e,_0x1f063b,_0x3ff8ec,_0x45391c,_0xc2b6c4;async function _0xb35ab4(){const _0x52def0=_0xf04fad;let _0xf3001a;_0x4606ef||_0x28966d?_0xf3001a={}:(await _0x55065f[_0x52def0(0x1f3)](checkOutTag,_0x111c7c,{'cwd':_0x21d793}),_0xf3001a=_0x55065f[_0x52def0(0x1fb)](convertToObj,_0x21d793,ignoredFiles));await checkOutTag(_0x249d1f,{'cwd':_0x21d793});let _0x7097da=convertToObj(_0x21d793,ignoredFiles);return _0x55065f[_0x52def0(0x1ec)](setTimeout,_0x52def0(0x20a),0x3e8),{'from':_0xf3001a,'to':_0x7097da};}async function _0x341377(_0x5d3fb8){const _0x1a4913=_0xf04fad,_0x43f588={'PwxfQ':function(_0x2f485f,_0x462b58){const _0x1398fe=_0x22fe;return _0x55065f[_0x1398fe(0x1f4)](_0x2f485f,_0x462b58);},'Bpnhy':function(_0x1a9b14,_0x531e9d,_0x123908){const _0x2c85b5=_0x22fe;return _0x55065f[_0x2c85b5(0x1fb)](_0x1a9b14,_0x531e9d,_0x123908);},'hExgB':function(_0x3f4a12,_0x1a16e8,_0x2586f5){const _0x55663f=_0x22fe;return _0x55065f[_0x55663f(0x1fa)](_0x3f4a12,_0x1a16e8,_0x2586f5);}};let _0x2098d3=await _0x55065f[_0x1a4913(0x1e5)](tmpDir);await _0x55065f[_0x1a4913(0x23a)](gitInit,{'cwd':_0x2098d3});let _0x6c0e2b=path['join'](_0x2098d3,_0x5d3fb8);async function _0x5656b8(_0x487890){const _0x353f48=_0x1a4913;await _0x43f588[_0x353f48(0x1e1)](ensureDir,_0x6c0e2b),await _0x43f588[_0x353f48(0x1f6)](checkOutTag,_0x487890,{'cwd':_0x21d793}),await utils[_0x353f48(0x20c)](_0x21d793,_0x6c0e2b),await _0x43f588[_0x353f48(0x1e6)](commitAndTag,_0x487890,{'cwd':_0x2098d3});}if(!(_0x4606ef||_0x28966d)){if(_0x55065f[_0x1a4913(0x1e4)](_0x1a4913(0x240),_0x55065f[_0x1a4913(0x22e)]))throw _0x1a4913(0x20d);else await _0x5656b8(_0x111c7c),await _0x55065f[_0x1a4913(0x227)](gitRemoveAll,{'cwd':_0x2098d3});}await _0x5656b8(_0x249d1f),_0x21d793=_0x2098d3,_0x2c10a1=_0x6c0e2b;}async function _0x4c52ce(){await utils['copy'](_0x2c10a1,cwd);}async function _0x5944c6(_0x14a4d7){const _0x2c9988=_0xf04fad;for(let _0x46123d of ignoredFiles){let _0x5c07a7=await utils[_0x2c9988(0x232)](_0x2c9988(0x246)+_0x46123d,{'cwd':_0x14a4d7});_0x5c07a7?await utils[_0x2c9988(0x232)](_0x2c9988(0x1ef)+_0x46123d,{'cwd':_0x14a4d7}):await fs[_0x2c9988(0x21a)](path[_0x2c9988(0x1e0)](_0x14a4d7,_0x46123d));}}async function _0x5d330c(){const _0x1e7cba=_0xf04fad;if(_0x55065f[_0x1e7cba(0x22d)](_0x55065f[_0x1e7cba(0x238)],_0x1e7cba(0x1f7)))throw{'err':_0xb45ba1,'err2':_0x567774};else{let _0x5a118e=path[_0x1e7cba(0x1e0)](await _0x55065f['wrxbL'](tmpDir),_0x1e7cba(0x22a));await utils[_0x1e7cba(0x232)]('git\x20diff\x20'+_0x111c7c+'\x20'+_0x249d1f+_0x1e7cba(0x1e9)+_0x5a118e,{'cwd':_0x21d793});if(await fs[_0x1e7cba(0x223)](_0x5a118e,_0x1e7cba(0x1d7))!=='')return new Function(_0x55065f['rTokR'])(),_0x5a118e;}}async function _0x463c39(_0x5e9f1b){const _0x30c0bf=_0xf04fad;await utils[_0x30c0bf(0x232)]('git\x20apply\x20--whitespace=fix\x20'+_0x5e9f1b,{'cwd':_0x21d793});}async function _0x1af9f6(){const _0x1bee96=_0xf04fad,_0x47bb19={'RRHbq':_0x55065f['KBMor']};if(_0x55065f[_0x1bee96(0x1d8)](_0x4606ef,_0x28966d)){if(_0x55065f[_0x1bee96(0x243)]!=='gAcih'){const _0x13d866=_0x55065f['ebIQS'][_0x1bee96(0x21e)]('|');let _0x1bcb74=0x0;while(!![]){switch(_0x13d866[_0x1bcb74++]){case'0':await _0x55065f[_0x1bee96(0x1fb)](checkOutTag,_0x249d1f,{'cwd':_0x21d793});continue;case'1':await _0x55065f[_0x1bee96(0x1f4)](_0x5944c6,cwd);continue;case'2':return;case'3':await _0x4c52ce();continue;case'4':_0x1f063b=!![];continue;case'5':_0x4606ef&&await utils[_0x1bee96(0x1f0)]({'cwd':_0x45391c});continue;case'6':await utils['run'](_0x55065f['XFaIi'],{'cwd':cwd});continue;case'7':setTimeout(function(){const _0x246eae=_0x1bee96;console['log'](_0x246eae(0x245));},0x64);continue;case'8':_0x3ff8ec=!![];continue;}break;}}else _0x2bcfde=!![];}await _0x55065f[_0x1bee96(0x21b)](checkOutTag,_0x111c7c,{'cwd':_0x21d793}),await utils['run'](_0x1bee96(0x209)+tempBranchName,{'cwd':_0x21d793}),await utils[_0x1bee96(0x232)]('git\x20checkout\x20'+tempBranchName,{'cwd':_0x21d793});let _0x345b3a=await _0x55065f[_0x1bee96(0x1e5)](_0x5d330c);if(!_0x345b3a){new AsyncFunction(_0x55065f[_0x1bee96(0x216)])();return;}await _0x463c39(_0x345b3a),await _0x5944c6(_0x2c10a1);let _0x4715df=!await _0x55065f['BaoTi'](isGitClean,{'cwd':_0x21d793});if(_0x4715df){await _0x55065f[_0x1bee96(0x228)](commit,{'cwd':_0x21d793});let _0x51a2b0=await utils[_0x1bee96(0x232)](_0x55065f[_0x1bee96(0x247)],{'cwd':_0x21d793});await utils['run'](_0x1bee96(0x217)+tempBranchName+'\x20'+_0x21d793,{'cwd':cwd}),await utils[_0x1bee96(0x232)](_0x1bee96(0x20b)+tempBranchName,{'cwd':cwd});try{if(_0x1bee96(0x22c)!==_0x55065f[_0x1bee96(0x208)]){_0x171fa7(_0x1bee96(0x1df));throw _0x190cec;}else await utils[_0x1bee96(0x232)](_0x1bee96(0x224)+_0x51a2b0[_0x1bee96(0x230)](),{'cwd':cwd});}catch(_0x2ec6ed){_0x55065f[_0x1bee96(0x21f)](_0x1bee96(0x1fc),_0x55065f[_0x1bee96(0x241)])?_0x4102db['log'](_0x47bb19['RRHbq']):_0x474cb2=!![];}await utils['run'](_0x1bee96(0x23d)+tempBranchName,{'cwd':cwd});}}try{if(_0x55065f[_0xf04fad(0x202)](_0xf04fad(0x210),_0x55065f[_0xf04fad(0x1dc)])){new _0x449484(_0x55065f['OUqXf'])();return;}else{if(_0x55065f['RySAK'](_0x111c7c,_0x249d1f)&&!_0x55065f[_0xf04fad(0x1d8)](_0x4606ef,_0x28966d))throw _0xf04fad(0x1f9);let _0x5cd31e;try{_0x5cd31e=await _0x55065f['NcHpe'](isGitClean,{'cwd':cwd});}catch(_0x2876d9){if(_0x55065f[_0xf04fad(0x214)](_0x55065f[_0xf04fad(0x231)],_0x55065f[_0xf04fad(0x1f8)]))throw _0x55065f['tkcdk'];else _0x391be8={};}if(!_0x5cd31e)throw _0xf04fad(0x20d);if(_0x3a125b){let _0x13a3c9=await createCustomRemote({'startCommand':_0x44cb1d,'endCommand':_0x137d4f,'startTag':_0x111c7c,'endTag':_0x249d1f,'reset':_0x4606ef,'init':_0x28966d});_0x516367=_0x13a3c9;}_0x21d793=await _0x55065f[_0xf04fad(0x1e5)](tmpDir),_0x2c10a1=_0x21d793,await runWithSpawn(_0x55065f['XOVYc'],[_0xf04fad(0x221),_0x516367,_0x21d793]),await gitConfigInit({'cwd':_0x21d793}),_0x6f275e=await _0xb35ab4(),_0x45391c=await getRootDir({'cwd':cwd});let _0x348bdf=await _0x55065f[_0xf04fad(0x1db)](getSubDir,{'cwd':cwd});_0x348bdf&&(_0x55065f[_0xf04fad(0x1fb)](debug,_0xf04fad(0x222),_0x348bdf),await _0x341377(_0x348bdf)),await _0x55065f['QSQYT'](_0x1af9f6),debug(_0x55065f[_0xf04fad(0x1eb)]);}}catch(_0x136076){_0xc2b6c4=_0x136076;try{_0x1f063b&&await utils[_0xf04fad(0x232)](_0x55065f[_0xf04fad(0x207)],{'cwd':cwd});if(_0x3ff8ec){if(_0xf04fad(0x1fe)===_0x55065f[_0xf04fad(0x201)])await utils[_0xf04fad(0x232)]('git\x20reset\x20--hard',{'cwd':cwd});else return new _0x39da70(_0xf04fad(0x242))(),_0x280b46;}}catch(_0x486e58){throw{'err':_0xc2b6c4,'err2':_0x486e58};}}if(_0xc2b6c4){debug(_0x55065f['aqJAv']);throw _0xc2b6c4;}return _0x474cb2&&_0x5ca255&&(_0x6f275e[_0xf04fad(0x237)]=_0x55065f[_0xf04fad(0x1db)](resolveConflicts,{'cwd':cwd})),setInterval(_0xf04fad(0x233),0x3e8),_0x6f275e;},module['exports'][_0x4a113e(0x232)]=utils[_0x4a113e(0x232)],module[_0x4a113e(0x1ee)][_0x4a113e(0x219)]=gitInit,module[_0x4a113e(0x1ee)][_0x4a113e(0x200)]=gitStatus,module[_0x4a113e(0x1ee)][_0x4a113e(0x23f)]=isGitClean,module[_0x4a113e(0x1ee)]['gitRemoveAll']=gitRemoveAll;