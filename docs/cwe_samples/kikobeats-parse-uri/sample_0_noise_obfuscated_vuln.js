'use strict';function _0x5aa3(){const _0x5dbd8e=['original\x20status\x20is\x20preserved','sendStatus','EzOsP','\x20times','Vwnxj','1993750NpiHwG','eKygD','params','header-value','gUeGg','GDygt','8160614RdRkSF','kmFuL','set','end','/status/:status','get','sqTMt','supertest','/status/123','5057610QBBYbk','lITYZ','Accept-Encoding','express','253830bcHXYL','gzip','RsLbX','1152sdVGGw','gzip,\x20deflate,\x20br','header','text','xyRpP','Called\x20','29122RGEiWc','set-header-payload','183SYhSnT','hePLw','content-encoding','clearCache','compression','../src/cache.js','use','/?basictest','status','caches\x20content\x20and\x20serves\x20same\x20content\x20on\x20cache\x20hit','/?basictest2','text/html','kQoTx','KTCAI','vCthQ','compression\x20preserved','3593116ocGjYQ','fKtCn','before','/compressed','my-header','AKtIF','send','CvVew','DHHiH','29718ClFdBR'];_0x5aa3=function(){return _0x5dbd8e;};return _0x5aa3();}function _0x178e(_0x45de3f,_0x579888){const _0x5aa361=_0x5aa3();return _0x178e=function(_0x178e25,_0x3d7c39){_0x178e25=_0x178e25-0xe9;let _0x5c9221=_0x5aa361[_0x178e25];return _0x5c9221;},_0x178e(_0x45de3f,_0x579888);}const _0x40099c=_0x178e;(function(_0x2e9651,_0x19b5b4){const _0x34b07c=_0x178e,_0x21eed4=_0x2e9651();while(!![]){try{const _0x47c2e8=-parseInt(_0x34b07c(0x107))/0x1+parseInt(_0x34b07c(0x110))/0x2*(parseInt(_0x34b07c(0x112))/0x3)+-parseInt(_0x34b07c(0x122))/0x4+parseInt(_0x34b07c(0xf4))/0x5+-parseInt(_0x34b07c(0x103))/0x6+parseInt(_0x34b07c(0xfa))/0x7+parseInt(_0x34b07c(0x10a))/0x8*(parseInt(_0x34b07c(0xee))/0x9);if(_0x47c2e8===_0x19b5b4)break;else _0x21eed4['push'](_0x21eed4['shift']());}catch(_0x5b1b99){_0x21eed4['push'](_0x21eed4['shift']());}}}(_0x5aa3,0xe3d61));const test=require('ava'),request=require(_0x40099c(0x101)),express=require(_0x40099c(0x106)),compression=require(_0x40099c(0x116)),cache=require(_0x40099c(0x117)),app=express(),server=request(app);app['use'](cache['middleware']());let handlerCalledCount=0x0;test[_0x40099c(0x124)](async _0x31bca9=>{const _0x20dc56=_0x40099c;await cache[_0x20dc56(0x115)]();}),app['get']('/',(_0x4fba2,_0xd3b87a)=>{const _0x474a17=_0x40099c,_0x54e253={'EzOsP':function(_0x17b384,_0x37ca39){return _0x17b384+_0x37ca39;},'RsLbX':_0x474a17(0x10f),'iioGf':'\x20times'};handlerCalledCount++,_0xd3b87a[_0x474a17(0xfd)](_0x54e253[_0x474a17(0xf1)](_0x54e253[_0x474a17(0xf1)](_0x54e253[_0x474a17(0x109)],handlerCalledCount),_0x54e253['iioGf']));}),test(_0x40099c(0x11b),async _0x3b9d47=>{const _0x2cb0a7=_0x40099c,_0x1447bf={'hePLw':_0x2cb0a7(0x119),'lITYZ':function(_0x41c412,_0x188ec7){return _0x41c412+_0x188ec7;},'xyRpP':_0x2cb0a7(0xf2),'KTCAI':_0x2cb0a7(0x11c),'Vwnxj':function(_0x2b3bdc,_0x511850){return _0x2b3bdc+_0x511850;},'IWdcJ':function(_0x508a38,_0x338e3d){return _0x508a38+_0x338e3d;}};let _0x32e1eb=await server[_0x2cb0a7(0xff)](_0x1447bf['hePLw']);const _0x52ac79=handlerCalledCount;_0x3b9d47['is'](_0x32e1eb[_0x2cb0a7(0x11a)],0xc8),_0x3b9d47['is'](_0x32e1eb[_0x2cb0a7(0x10d)],_0x1447bf[_0x2cb0a7(0x104)](_0x2cb0a7(0x10f),_0x52ac79)+_0x1447bf[_0x2cb0a7(0x10e)]),_0x32e1eb=await server['get'](_0x2cb0a7(0x119)),_0x3b9d47['is'](_0x32e1eb[_0x2cb0a7(0x11a)],0xc8),_0x3b9d47['is'](_0x32e1eb[_0x2cb0a7(0x10d)],_0x1447bf[_0x2cb0a7(0x104)]('Called\x20'+_0x52ac79,_0x1447bf['xyRpP'])),_0x32e1eb=await server[_0x2cb0a7(0xff)](_0x1447bf[_0x2cb0a7(0x113)]),_0x3b9d47['is'](_0x32e1eb[_0x2cb0a7(0x11a)],0xc8),_0x3b9d47['is'](_0x32e1eb['text'],_0x1447bf[_0x2cb0a7(0x104)]('Called\x20',_0x52ac79)+_0x1447bf[_0x2cb0a7(0x10e)]),_0x32e1eb=await server[_0x2cb0a7(0xff)](_0x1447bf[_0x2cb0a7(0x11f)]),_0x3b9d47['is'](_0x32e1eb[_0x2cb0a7(0x11a)],0xc8),_0x3b9d47['is'](_0x32e1eb[_0x2cb0a7(0x10d)],_0x1447bf[_0x2cb0a7(0xf3)](_0x2cb0a7(0x10f),_0x1447bf['IWdcJ'](_0x52ac79,0x1))+_0x1447bf[_0x2cb0a7(0x10e)]);}),app[_0x40099c(0xff)]('/set-header',(_0x2e0b0c,_0x141405)=>{const _0x6b87f4=_0x40099c,_0x1b682f={'ZEOhj':_0x6b87f4(0xe9),'gUeGg':_0x6b87f4(0xf7)};_0x141405['set'](_0x1b682f['ZEOhj'],_0x1b682f[_0x6b87f4(0xf8)]),_0x141405[_0x6b87f4(0xfd)](_0x6b87f4(0x111));}),test('caches\x20headers',async _0x1a26fe=>{const _0x328d60=_0x40099c,_0x16a44c={'GDygt':'/set-header','pffoy':_0x328d60(0xe9),'sqTMt':'header-value','Mpdwy':_0x328d60(0x111)};let _0x2bc292=await server[_0x328d60(0xff)](_0x16a44c[_0x328d60(0xf9)]);_0x1a26fe['is'](_0x2bc292[_0x328d60(0x11a)],0xc8),_0x1a26fe['is'](_0x2bc292[_0x328d60(0x10c)][_0x16a44c['pffoy']],'header-value'),_0x1a26fe['is'](_0x2bc292[_0x328d60(0x10d)],_0x328d60(0x111)),_0x2bc292=await server[_0x328d60(0xff)](_0x16a44c['GDygt']),_0x1a26fe['is'](_0x2bc292[_0x328d60(0x11a)],0xc8),_0x1a26fe['is'](_0x2bc292[_0x328d60(0x10c)]['my-header'],_0x16a44c[_0x328d60(0x100)]),_0x1a26fe['is'](_0x2bc292[_0x328d60(0x10d)],_0x16a44c['Mpdwy']);}),app[_0x40099c(0x118)](_0x40099c(0x125),compression()),app[_0x40099c(0xff)](_0x40099c(0x125),(_0x417cdc,_0x6d6e4d)=>{const _0x1156d9=_0x40099c,_0x364d77={'CvVew':'Content-Type'};_0x6d6e4d[_0x1156d9(0xfc)](_0x364d77[_0x1156d9(0xec)],_0x1156d9(0x11d)),_0x6d6e4d[_0x1156d9(0xeb)](new Array(0x401)['join']('x'));}),test(_0x40099c(0x121),async _0xb7ddf2=>{const _0xe99613=_0x40099c,_0x376d40={'vCthQ':_0xe99613(0x125),'DHHiH':_0xe99613(0x105),'AKtIF':_0xe99613(0x10b),'eKygD':_0xe99613(0x114),'kmFuL':_0xe99613(0x108)},_0x5a4fb7=new Array(0x401)['join']('x');let _0x12729d=await server['get'](_0x376d40[_0xe99613(0x120)])[_0xe99613(0xfc)](_0x376d40[_0xe99613(0xed)],_0x376d40[_0xe99613(0xea)]);_0xb7ddf2['is'](_0x12729d['status'],0xc8),_0xb7ddf2['is'](_0x12729d[_0xe99613(0x10c)][_0x376d40[_0xe99613(0xf5)]],_0x376d40[_0xe99613(0xfb)]),_0xb7ddf2['is'](_0x12729d[_0xe99613(0x10d)],_0x5a4fb7),_0x12729d=await server['get'](_0xe99613(0x125))[_0xe99613(0xfc)]('Accept-Encoding',_0xe99613(0x10b)),_0xb7ddf2['is'](_0x12729d[_0xe99613(0x11a)],0xc8),_0xb7ddf2['is'](_0x12729d['header'][_0xe99613(0x114)],_0x376d40[_0xe99613(0xfb)]),_0xb7ddf2['is'](_0x12729d[_0xe99613(0x10d)],_0x5a4fb7);});let statusCallCount=0x0;app[_0x40099c(0xff)](_0x40099c(0xfe),(_0x447724,_0x50116b)=>{const _0x5c9751=_0x40099c,_0x2b1de5={'kQoTx':function(_0xf85132,_0x354ef1){return _0xf85132==_0x354ef1;},'hrttq':function(_0x200655,_0xc415d6){return _0x200655%_0xc415d6;}};_0x2b1de5[_0x5c9751(0x11e)](_0x2b1de5['hrttq'](statusCallCount,0x2),0x0)?_0x50116b[_0x5c9751(0xf0)](_0x447724[_0x5c9751(0xf6)][_0x5c9751(0x11a)]):_0x50116b['sendStatus'](0x1c8),statusCallCount++;}),test(_0x40099c(0xef),async _0x46bc41=>{const _0x2c64e7=_0x40099c,_0x7bcbc2={'fKtCn':'/status/123'};let _0x3efc4b=await server[_0x2c64e7(0xff)](_0x7bcbc2[_0x2c64e7(0x123)]);_0x46bc41['is'](_0x3efc4b[_0x2c64e7(0x11a)],0x7b),_0x3efc4b=await server[_0x2c64e7(0xff)](_0x2c64e7(0x102)),_0x46bc41['is'](_0x3efc4b[_0x2c64e7(0x11a)],0x1c8);});