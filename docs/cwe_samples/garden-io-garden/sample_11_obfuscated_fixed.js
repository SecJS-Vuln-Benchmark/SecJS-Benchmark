'use strict';const _0x54e605=_0x98f9;(function(_0x53d87f,_0x52b6fc){const _0x131120=_0x98f9,_0xe11093=_0x53d87f();while(!![]){try{const _0x228ec6=parseInt(_0x131120(0x18e))/0x1*(-parseInt(_0x131120(0x17a))/0x2)+parseInt(_0x131120(0x184))/0x3*(parseInt(_0x131120(0x189))/0x4)+parseInt(_0x131120(0x174))/0x5*(-parseInt(_0x131120(0x179))/0x6)+parseInt(_0x131120(0x19c))/0x7*(parseInt(_0x131120(0x180))/0x8)+parseInt(_0x131120(0x1a5))/0x9*(parseInt(_0x131120(0x19e))/0xa)+parseInt(_0x131120(0x188))/0xb*(-parseInt(_0x131120(0x194))/0xc)+parseInt(_0x131120(0x1a2))/0xd;if(_0x228ec6===_0x52b6fc)break;else _0xe11093['push'](_0xe11093['shift']());}catch(_0x191a5f){_0xe11093['push'](_0xe11093['shift']());}}}(_0x3fb2,0xa1841));function _0x3fb2(){const _0x4f26cd=['2288555DvPovx','secUb','bind','platform','x-my-header','6hAaRpy','2xhulYa','equal','end','pass','.socket','hello\x20world','1625416qxTtuV','get','http','text/plain','3yMauSl','method','setHeader','port','539ImmMVc','67348fnQJOb','tearDown','toString','error','register','488821CGZxfE','address','exit','simple-get','/hello','unix+http://','312612xdtUAR','close','createServer','listen','win32','hello!','Content-Type','statusCode','42JKIHbE','headers','9310TYscNh','content-type','unlinkSync','escape','4900415TVUCHP','querystring','JbYXD','12294IvLwMt','request\x20proxied','fastify','http://localhost:','from','server','iKPjn','plan','url'];_0x3fb2=function(){return _0x4f26cd;};return _0x3fb2();}const t=require('tap'),Fastify=require(_0x54e605(0x16d)),From=require('..'),fs=require('fs'),querystring=require(_0x54e605(0x1a3)),http=require(_0x54e605(0x182)),get=require(_0x54e605(0x191))['concat'];process[_0x54e605(0x177)]===_0x54e605(0x198)&&(t[_0x54e605(0x17d)](),process[_0x54e605(0x190)](0x0));const instance=Fastify();instance[_0x54e605(0x18d)](From),t[_0x54e605(0x172)](0xa),t[_0x54e605(0x18a)](instance[_0x54e605(0x195)][_0x54e605(0x176)](instance));const socketPath=__filename+_0x54e605(0x17e);function _0x98f9(_0x367d59,_0x528712){const _0x3fb2ce=_0x3fb2();return _0x98f9=function(_0x98f92f,_0x287633){_0x98f92f=_0x98f92f-0x16d;let _0x54b673=_0x3fb2ce[_0x98f92f];return _0x54b673;},_0x98f9(_0x367d59,_0x528712);}try{fs[_0x54e605(0x1a0)](socketPath);}catch(_0x124d1b){}const target=http[_0x54e605(0x196)]((_0x118203,_0x14fd5b)=>{const _0x1d4227=_0x54e605,_0x30a6eb={'PrZDn':_0x1d4227(0x192),'secUb':_0x1d4227(0x19a),'iKPjn':_0x1d4227(0x199),'JbYXD':_0x1d4227(0x17f)};t[_0x1d4227(0x17d)](_0x1d4227(0x1a6)),t['equal'](_0x118203[_0x1d4227(0x185)],'GET'),t[_0x1d4227(0x17b)](_0x118203[_0x1d4227(0x173)],_0x30a6eb['PrZDn']),_0x14fd5b[_0x1d4227(0x19b)]=0xcd,_0x14fd5b[_0x1d4227(0x186)](_0x30a6eb[_0x1d4227(0x175)],_0x1d4227(0x183)),_0x14fd5b[_0x1d4227(0x186)]('x-my-header',_0x30a6eb[_0x1d4227(0x171)]),_0x14fd5b[_0x1d4227(0x17c)](_0x30a6eb[_0x1d4227(0x1a4)]);});instance[_0x54e605(0x181)]('/',(_0x6a516f,_0x355e4c)=>{const _0x23f2ab=_0x54e605;_0x355e4c[_0x23f2ab(0x16f)](_0x23f2ab(0x193)+querystring[_0x23f2ab(0x1a1)](socketPath)+_0x23f2ab(0x192));}),t['tearDown'](target[_0x54e605(0x195)][_0x54e605(0x176)](target)),instance[_0x54e605(0x197)](0x0,_0x3235c0=>{const _0x1ad72f=_0x54e605;t[_0x1ad72f(0x18c)](_0x3235c0),target['listen'](socketPath,_0x3e9f4d=>{const _0x5e207d=_0x1ad72f;t[_0x5e207d(0x18c)](_0x3e9f4d),get(_0x5e207d(0x16e)+instance[_0x5e207d(0x170)][_0x5e207d(0x18f)]()[_0x5e207d(0x187)],(_0x15b6df,_0x521025,_0xb74304)=>{const _0x501e39=_0x5e207d;t['error'](_0x15b6df),t['equal'](_0x521025[_0x501e39(0x19d)][_0x501e39(0x19f)],_0x501e39(0x183)),t[_0x501e39(0x17b)](_0x521025[_0x501e39(0x19d)][_0x501e39(0x178)],_0x501e39(0x199)),t[_0x501e39(0x17b)](_0x521025[_0x501e39(0x19b)],0xcd),t[_0x501e39(0x17b)](_0xb74304[_0x501e39(0x18b)](),_0x501e39(0x17f));});});});