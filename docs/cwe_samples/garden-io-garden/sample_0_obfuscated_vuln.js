'use strict';const _0x499e73=_0x226d;(function(_0x10638d,_0x542337){const _0x47c48e=_0x226d,_0x2f8826=_0x10638d();while(!![]){try{const _0x131c5d=-parseInt(_0x47c48e(0x9a))/0x1*(-parseInt(_0x47c48e(0xd1))/0x2)+parseInt(_0x47c48e(0xf1))/0x3+-parseInt(_0x47c48e(0xc4))/0x4*(-parseInt(_0x47c48e(0xfd))/0x5)+-parseInt(_0x47c48e(0x106))/0x6+-parseInt(_0x47c48e(0x11c))/0x7*(-parseInt(_0x47c48e(0xff))/0x8)+-parseInt(_0x47c48e(0x108))/0x9+parseInt(_0x47c48e(0xb4))/0xa*(-parseInt(_0x47c48e(0xca))/0xb);if(_0x131c5d===_0x542337)break;else _0x2f8826['push'](_0x2f8826['shift']());}catch(_0x34be0f){_0x2f8826['push'](_0x2f8826['shift']());}}}(_0xb84f,0xcd6f4));function _0x226d(_0x50db0a,_0x21337b){const _0xb84f81=_0xb84f();return _0x226d=function(_0x226dda,_0x43cee0){_0x226dda=_0x226dda-0x87;let _0x2ff399=_0xb84f81[_0x226dda];return _0x2ff399;},_0x226d(_0x50db0a,_0x21337b);}const test=require(_0x499e73(0x9d))[_0x499e73(0x101)],FormData=require(_0x499e73(0x109)),Fastify=require(_0x499e73(0xb0)),multipart=require('..'),http=require(_0x499e73(0xab)),crypto=require(_0x499e73(0x111)),{Readable}=require(_0x499e73(0x10e)),path=require('node:path'),fs=require(_0x499e73(0xf0)),{access}=require(_0x499e73(0xf0))['promises'],EventEmitter=require(_0x499e73(0x10a)),{once}=EventEmitter,util=require(_0x499e73(0xc8)),sleep=util[_0x499e73(0xc3)](setTimeout),filePath=path[_0x499e73(0x10c)](__dirname,_0x499e73(0xf7));test(_0x499e73(0xdf),async function(_0x5c4d4a){const _0x21b600=_0x499e73,_0xf95564={'FkhBV':_0x21b600(0xe0),'SLMLC':_0x21b600(0x102),'ihsFK':'ENOENT','dNcbm':_0x21b600(0xc7),'iSpbD':_0x21b600(0xe4),'UDfWs':function(_0x5ee6fe,_0x138b2b,_0x1f305c){return _0x5ee6fe(_0x138b2b,_0x1f305c);},'dMFti':_0x21b600(0xbd),'pOvoI':'end'};_0x5c4d4a['plan'](0xa);const _0x350ef5=Fastify();_0x5c4d4a[_0x21b600(0xf8)](_0x350ef5['close']['bind'](_0x350ef5)),_0x350ef5[_0x21b600(0x11e)](multipart),_0x350ef5['post']('/',async function(_0x2c1007,_0x5cce8c){const _0x2f741e=_0x21b600;_0x5c4d4a['ok'](_0x2c1007['isMultipart']());const _0xa4a1be=await _0x2c1007[_0x2f741e(0xd7)]();_0x5c4d4a['ok'](_0xa4a1be[0x0]['filepath']),_0x5c4d4a[_0x2f741e(0xa7)](_0xa4a1be[0x0]['fieldname'],_0xf95564[_0x2f741e(0x105)]),_0x5c4d4a[_0x2f741e(0xa7)](_0xa4a1be[0x0]['filename'],_0xf95564['SLMLC']),_0x5c4d4a[_0x2f741e(0xa7)](_0xa4a1be[0x0][_0x2f741e(0x8f)],_0x2f741e(0x110)),_0x5c4d4a[_0x2f741e(0xa7)](_0xa4a1be[0x0]['mimetype'],'text/markdown'),_0x5c4d4a['ok'](_0xa4a1be[0x0][_0x2f741e(0x11a)][_0x2f741e(0xe0)]),await access(_0xa4a1be[0x0][_0x2f741e(0x9b)],fs[_0x2f741e(0x8c)][_0x2f741e(0x11b)]),_0x5cce8c['code'](0xc8)[_0x2f741e(0xd4)]();});const _0x22cc6c=new EventEmitter();_0x350ef5[_0x21b600(0x91)](_0x21b600(0xcd),async _0x54f25a=>{const _0x37fcb6=_0x21b600;try{await access(_0x54f25a[_0x37fcb6(0x112)][0x0],fs['constants'][_0x37fcb6(0x11b)]);}catch(_0x19bc7b){_0x5c4d4a[_0x37fcb6(0xa7)](_0x19bc7b[_0x37fcb6(0xc5)],_0xf95564[_0x37fcb6(0x8a)]),_0x5c4d4a[_0x37fcb6(0x9c)]('Temp\x20file\x20was\x20removed\x20after\x20response'),_0x22cc6c[_0x37fcb6(0xe7)](_0x37fcb6(0xbd));}}),await _0x350ef5[_0x21b600(0xce)]({'port':0x0});const _0x3d2d78=new FormData(),_0x344f1d={'protocol':_0xf95564[_0x21b600(0x103)],'hostname':_0x21b600(0xe3),'port':_0x350ef5[_0x21b600(0xa3)]['address']()[_0x21b600(0xf3)],'path':'/','headers':_0x3d2d78[_0x21b600(0x114)](),'method':_0xf95564['iSpbD']},_0x15a40a=http['request'](_0x344f1d);_0x3d2d78['append'](_0x21b600(0xe0),fs['createReadStream'](filePath)),_0x3d2d78['pipe'](_0x15a40a);const [_0x5bcfca]=await _0xf95564[_0x21b600(0xac)](once,_0x15a40a,_0xf95564[_0x21b600(0xd0)]);_0x5c4d4a[_0x21b600(0xa7)](_0x5bcfca['statusCode'],0xc8),_0x5bcfca[_0x21b600(0xe6)](),await once(_0x5bcfca,_0xf95564[_0x21b600(0xdc)]),await once(_0x22cc6c,_0xf95564[_0x21b600(0xd0)]);}),test(_0x499e73(0xbc),async function(_0x31428b){const _0x47216a=_0x499e73,_0x3af506={'wdajk':_0x47216a(0x10d),'bwOPW':'ENOENT','wpJQD':_0x47216a(0x116),'JHvyH':_0x47216a(0xbd),'ompPg':_0x47216a(0xd2),'DFCzJ':_0x47216a(0xfb),'jNAWv':_0x47216a(0xc7),'FogaR':_0x47216a(0xe4),'KGssk':_0x47216a(0xcc)};_0x31428b['plan'](0x5);const _0x9611ca=Fastify();_0x31428b[_0x47216a(0xf8)](_0x9611ca[_0x47216a(0xaf)][_0x47216a(0xc0)](_0x9611ca)),_0x9611ca[_0x47216a(0x11e)](multipart),_0x9611ca[_0x47216a(0xf4)]('/',async function(_0x5522e0){const _0x49e827=_0x47216a;_0x31428b['ok'](_0x5522e0[_0x49e827(0xb5)]()),await _0x5522e0['saveRequestFiles']();throw new Error(_0x49e827(0x101));});const _0x3438b9=new EventEmitter();_0x9611ca[_0x47216a(0x91)](_0x47216a(0xcd),async _0xa46d01=>{const _0x28c535=_0x47216a;if(_0x3af506[_0x28c535(0x94)]!==_0x28c535(0x10d))_0x56297d[_0x28c535(0xc5)](0x1f4)['send']();else try{await access(_0xa46d01[_0x28c535(0x112)][0x0],fs[_0x28c535(0x8c)][_0x28c535(0x11b)]);}catch(_0x1908bb){_0x31428b[_0x28c535(0xa7)](_0x1908bb[_0x28c535(0xc5)],_0x3af506[_0x28c535(0xfa)]),_0x31428b[_0x28c535(0x9c)](_0x3af506[_0x28c535(0xe2)]),_0x3438b9['emit'](_0x3af506[_0x28c535(0xf5)]);}}),await _0x9611ca[_0x47216a(0xce)]({'port':0x0});const _0x164b22=new FormData(),_0x2b7cae={'protocol':_0x3af506[_0x47216a(0x117)],'hostname':_0x47216a(0xe3),'port':_0x9611ca[_0x47216a(0xa3)][_0x47216a(0xae)]()[_0x47216a(0xf3)],'path':'/','headers':_0x164b22[_0x47216a(0x114)](),'method':_0x3af506[_0x47216a(0x88)]},_0x38944d=http[_0x47216a(0x8e)](_0x2b7cae,_0x2bb311=>{const _0x2567bc=_0x47216a;_0x31428b[_0x2567bc(0xa7)](_0x2bb311[_0x2567bc(0x107)],0x1f4),_0x2bb311[_0x2567bc(0xe6)](),_0x2bb311['on'](_0x3af506[_0x2567bc(0x89)],()=>{const _0x47a0ce=_0x2567bc;_0x31428b[_0x47a0ce(0x9c)](_0x47a0ce(0x92));});});_0x164b22[_0x47216a(0x98)](_0x47216a(0xe0),fs[_0x47216a(0xb3)](filePath));try{'hQBmc'!==_0x3af506[_0x47216a(0xb7)]?await _0x164b22[_0x47216a(0xeb)](_0x38944d):_0x3fec06[_0x47216a(0xed)](_0x43ba4d,_0x3af506[_0x47216a(0xe9)]);}catch(_0xdb1b6d){_0x31428b[_0x47216a(0xed)](_0xdb1b6d,_0x3af506['DFCzJ']);}await once(_0x3438b9,_0x3af506[_0x47216a(0xf5)]);}),test(_0x499e73(0x115),async function(_0x30a6ae){const _0x5e1c5d=_0x499e73,_0x18ea27={'hQzJN':function(_0x197748){return _0x197748();},'rCAYg':_0x5e1c5d(0xc7),'sYOqu':_0x5e1c5d(0xe4),'WNJEO':function(_0x47f6f4,_0xe40d07,_0x4f9264){return _0x47f6f4(_0xe40d07,_0x4f9264);},'bjjFj':'end','tpIIz':_0x5e1c5d(0x8e)};_0x30a6ae[_0x5e1c5d(0xf2)](0x4);const _0x42732d=_0x18ea27[_0x5e1c5d(0xa8)](Fastify);_0x30a6ae['teardown'](_0x42732d[_0x5e1c5d(0xaf)][_0x5e1c5d(0xc0)](_0x42732d)),_0x42732d[_0x5e1c5d(0x11e)](multipart),_0x42732d[_0x5e1c5d(0xf4)]('/',async function(_0x465bfa,_0x4e9f62){const _0x4ad50e=_0x5e1c5d;_0x30a6ae['ok'](_0x465bfa[_0x4ad50e(0xb5)]());try{await _0x465bfa[_0x4ad50e(0xd7)]({'limits':{'fileSize':0x1f4}}),_0x4e9f62['code'](0xc8)[_0x4ad50e(0xd4)]();}catch(_0x3fa66d){_0x30a6ae['ok'](_0x3fa66d instanceof _0x42732d['multipartErrors'][_0x4ad50e(0x11d)]),_0x30a6ae[_0x4ad50e(0xa7)](_0x3fa66d[_0x4ad50e(0xb9)][_0x4ad50e(0xef)],_0x4ad50e(0xe0)),_0x4e9f62[_0x4ad50e(0xc5)](0x1f4)[_0x4ad50e(0xd4)]();}}),await _0x42732d[_0x5e1c5d(0xce)]({'port':0x0});const _0x23c51f=new FormData(),_0xf50929={'protocol':_0x18ea27[_0x5e1c5d(0xc9)],'hostname':'localhost','port':_0x42732d[_0x5e1c5d(0xa3)]['address']()[_0x5e1c5d(0xf3)],'path':'/','headers':_0x23c51f['getHeaders'](),'method':_0x18ea27[_0x5e1c5d(0xc2)]},_0x39279e=http[_0x5e1c5d(0x8e)](_0xf50929);_0x23c51f['append'](_0x5e1c5d(0xe0),fs[_0x5e1c5d(0xb3)](filePath)),_0x23c51f[_0x5e1c5d(0xeb)](_0x39279e);try{const [_0x16429d]=await _0x18ea27['WNJEO'](once,_0x39279e,'response');_0x30a6ae[_0x5e1c5d(0xa7)](_0x16429d['statusCode'],0x1f4),_0x16429d['resume'](),await _0x18ea27[_0x5e1c5d(0x8d)](once,_0x16429d,_0x18ea27[_0x5e1c5d(0xa0)]);}catch(_0x1452b7){_0x30a6ae[_0x5e1c5d(0xed)](_0x1452b7,_0x18ea27['tpIIz']);}}),test(_0x499e73(0xcb),async function(_0x1c62b7){const _0x1eaec9=_0x499e73,_0x148f49={'vmPOd':_0x1eaec9(0xee),'bnUIO':function(_0xcc0423,_0x4c5896){return _0xcc0423===_0x4c5896;},'JxBxp':_0x1eaec9(0x9f),'AvjUp':'ENOENT','oNZAQ':function(_0x3ad5db){return _0x3ad5db();},'hVwQP':'http:','CgyIT':'localhost','CMLTs':function(_0x193d42,_0xb3f97d,_0x1c7aeb){return _0x193d42(_0xb3f97d,_0x1c7aeb);},'Wefgg':function(_0x4cb8cd,_0x3b8466){return _0x4cb8cd!==_0x3b8466;},'JLDRF':'cBGhk','shtwZ':_0x1eaec9(0x8e)};_0x1c62b7[_0x1eaec9(0xf2)](0x2);const _0x417583=_0x148f49['oNZAQ'](Fastify);_0x1c62b7['teardown'](_0x417583[_0x1eaec9(0xaf)][_0x1eaec9(0xc0)](_0x417583)),_0x417583[_0x1eaec9(0x11e)](require('..')),_0x417583[_0x1eaec9(0xf4)]('/',async function(_0x5267e5,_0x3f8de0){const _0x110b75=_0x1eaec9;if(_0x148f49['bnUIO']('RyIul',_0x110b75(0xb2))){_0x1c62b7['ok'](_0x5267e5['isMultipart']());try{await _0x5267e5['saveRequestFiles']({'tmpdir':_0x148f49[_0x110b75(0xb1)]}),_0x3f8de0['code'](0xc8)[_0x110b75(0xd4)]();}catch{_0x3f8de0[_0x110b75(0xc5)](0x1f4)['send']();}}else{_0x5d3cb6>_0x39275c&&(_0x3b20b4=_0x5651ed);const _0x2b8324=_0x37d175[_0x110b75(0xfe)](_0x3f6580)[_0x110b75(0xe8)]('x');_0x1bb7c4[_0x110b75(0x90)](_0x2b8324),this['push'](_0x2b8324),_0x241d70-=_0x56b2d,_0x40671e===0x0&&(_0x37822f[_0x110b75(0x9c)](_0x148f49[_0x110b75(0x97)]),_0x4061af['end'](),this[_0x110b75(0xa5)](null));}}),await _0x417583['listen']({'port':0x0});const _0x500c33=new FormData(),_0x5636f8={'protocol':_0x148f49[_0x1eaec9(0x10b)],'hostname':_0x148f49[_0x1eaec9(0x113)],'port':_0x417583['server'][_0x1eaec9(0xae)]()['port'],'path':'/','headers':_0x500c33[_0x1eaec9(0x114)](),'method':_0x1eaec9(0xe4)},_0x82ec43=http[_0x1eaec9(0x8e)](_0x5636f8),_0x565546=fs[_0x1eaec9(0xb3)](filePath);_0x500c33[_0x1eaec9(0x98)](_0x1eaec9(0xe0),_0x565546),_0x500c33['pipe'](_0x82ec43);try{const [_0x3efb14]=await _0x148f49[_0x1eaec9(0xd8)](once,_0x82ec43,_0x1eaec9(0xbd));_0x1c62b7[_0x1eaec9(0xa7)](_0x3efb14[_0x1eaec9(0x107)],0x1f4),_0x3efb14[_0x1eaec9(0xe6)](),await _0x148f49[_0x1eaec9(0xd8)](once,_0x3efb14,_0x1eaec9(0xd2));}catch(_0x2c1d06){_0x148f49[_0x1eaec9(0x9e)](_0x148f49[_0x1eaec9(0xdb)],_0x1eaec9(0x99))?_0x1c62b7[_0x1eaec9(0xed)](_0x2c1d06,_0x148f49[_0x1eaec9(0x95)]):(_0xec7250[_0x1eaec9(0xa7)](_0xfcfe5d[_0x1eaec9(0xc5)],_0x148f49['AvjUp']),_0x6319ed['pass'](_0x1eaec9(0x116)),_0x2e94b9[_0x1eaec9(0xe7)](_0x1eaec9(0xbd)));}}),test(_0x499e73(0xbe),{'skip':process['platform']===_0x499e73(0xd5)},async function(_0x2847b4){const _0x34ff04=_0x499e73,_0x52e1a4={'yNnxk':function(_0x11ae23){return _0x11ae23();},'lMSxg':_0x34ff04(0xe3),'QVFSw':_0x34ff04(0xe4),'shTgE':_0x34ff04(0xe0),'XNkWK':function(_0x3d68f5,_0x416341,_0x4a5bef){return _0x3d68f5(_0x416341,_0x4a5bef);}};_0x2847b4[_0x34ff04(0xf2)](0x2);const _0x38c549=_0x52e1a4[_0x34ff04(0x93)](Fastify);_0x2847b4[_0x34ff04(0xf8)](_0x38c549['close'][_0x34ff04(0xc0)](_0x38c549)),_0x38c549[_0x34ff04(0x11e)](require('..'));const _0x325d8b=_0x2847b4[_0x34ff04(0x8b)]();_0x38c549['post']('/',async function(_0x4ff827,_0x5839ad){const _0x37cf08=_0x34ff04;_0x2847b4['ok'](_0x4ff827[_0x37cf08(0xb5)]());try{await _0x4ff827[_0x37cf08(0xd7)]({'tmpdir':_0x325d8b}),await fs[_0x37cf08(0xb8)]['rm'](_0x325d8b,{'recursive':!![],'force':!![]}),_0x5839ad[_0x37cf08(0xc5)](0xc8)[_0x37cf08(0xd4)]();}catch{_0x5839ad[_0x37cf08(0xc5)](0x1f4)[_0x37cf08(0xd4)]();}}),await _0x38c549[_0x34ff04(0xce)]({'port':0x0});const _0x2c4f4c=new FormData(),_0x2ffc99={'protocol':_0x34ff04(0xc7),'hostname':_0x52e1a4['lMSxg'],'port':_0x38c549[_0x34ff04(0xa3)]['address']()[_0x34ff04(0xf3)],'path':'/','headers':_0x2c4f4c[_0x34ff04(0x114)](),'method':_0x52e1a4['QVFSw']},_0x267d4f=http[_0x34ff04(0x8e)](_0x2ffc99),_0x22eb83=fs[_0x34ff04(0xb3)](filePath);_0x2c4f4c[_0x34ff04(0x98)](_0x52e1a4[_0x34ff04(0x87)],_0x22eb83),_0x2c4f4c[_0x34ff04(0xeb)](_0x267d4f);try{const [_0x3f678c]=await _0x52e1a4[_0x34ff04(0xf6)](once,_0x267d4f,_0x34ff04(0xbd));_0x2847b4[_0x34ff04(0xa7)](_0x3f678c[_0x34ff04(0x107)],0xc8),_0x3f678c['resume'](),await once(_0x3f678c,'end');}catch(_0x40d77d){_0x2847b4[_0x34ff04(0xed)](_0x40d77d,_0x34ff04(0x8e));}}),test(_0x499e73(0xea),async function(_0x1c3889){const _0x23b652=_0x499e73,_0x512ecc={'ibCAh':function(_0x6a1e1,_0x1f21af){return _0x6a1e1===_0x1f21af;},'ThVFR':_0x23b652(0xec),'HOPAg':_0x23b652(0x119),'LldHo':function(_0x12efbe,_0x2eb5ca){return _0x12efbe instanceof _0x2eb5ca;},'EzPSA':_0x23b652(0xbb),'ZCcyp':function(_0x48d728){return _0x48d728();},'MeIpQ':_0x23b652(0xe3),'zIVop':_0x23b652(0xe4),'xrWqh':'random-data','lCPSh':'binary/octet-stream','lbOro':function(_0x220e90,_0x357ee4,_0x53e736){return _0x220e90(_0x357ee4,_0x53e736);},'WuWnX':_0x23b652(0x8e)};_0x1c3889[_0x23b652(0xf2)](0x5);const _0x20fbc7=crypto[_0x23b652(0xba)](_0x512ecc[_0x23b652(0xbf)]),_0x5986b5=_0x512ecc['ZCcyp'](Fastify);_0x1c3889['teardown'](_0x5986b5[_0x23b652(0xaf)][_0x23b652(0xc0)](_0x5986b5)),_0x5986b5[_0x23b652(0x11e)](multipart),_0x5986b5[_0x23b652(0xf4)]('/',async function(_0x29664c,_0x4da297){const _0x58be1f=_0x23b652,_0x18d9b5={'CTIiv':function(_0x111dcf,_0x1c02cb){const _0x30f277=_0x226d;return _0x512ecc[_0x30f277(0xb6)](_0x111dcf,_0x1c02cb);}};_0x1c3889['ok'](_0x29664c[_0x58be1f(0xb5)]());try{if(_0x512ecc[_0x58be1f(0xa2)]!==_0x512ecc[_0x58be1f(0x104)])await _0x29664c[_0x58be1f(0xd7)]({'limits':{'fileSize':0x4268}}),_0x4da297['code'](0xc8)[_0x58be1f(0xd4)]();else{_0xba31e8>_0x4e4db6&&(_0x54703d=_0xc51613);const _0x4570c5=_0x5b8ba7[_0x58be1f(0xfe)](_0x1e3fbf)[_0x58be1f(0xe8)]('x');this[_0x58be1f(0xa5)](_0x4570c5),_0x5a68c8-=_0x174592,_0x18d9b5[_0x58be1f(0xda)](_0x2043e5,0x0)&&this[_0x58be1f(0xa5)](null);}}catch(_0x4b9abc){_0x1c3889['ok'](_0x512ecc['LldHo'](_0x4b9abc,_0x5986b5[_0x58be1f(0xaa)][_0x58be1f(0x11d)])),_0x1c3889['equal'](_0x4b9abc['part'][_0x58be1f(0xef)],'upload2'),_0x4da297[_0x58be1f(0xc5)](0x1f4)[_0x58be1f(0xd4)]();}}),await _0x5986b5[_0x23b652(0xce)]({'port':0x0});const _0x36cb98=0x400*0x400;let _0x349335=_0x36cb98;const _0x3185bb=new FormData({'maxDataSize':_0x349335}),_0x251b70=new Readable({'read'(_0xea0b17){const _0x55afeb=_0x23b652;_0xea0b17>_0x349335&&(_0xea0b17=_0x349335);const _0xb480b0=Buffer[_0x55afeb(0xfe)](_0xea0b17)['fill']('x');_0x20fbc7[_0x55afeb(0x90)](_0xb480b0),this[_0x55afeb(0xa5)](_0xb480b0),_0x349335-=_0xea0b17,_0x349335===0x0&&(_0x1c3889['pass'](_0x55afeb(0xee)),_0x20fbc7['end'](),this[_0x55afeb(0xa5)](null));}}),_0x46b53c={'protocol':_0x23b652(0xc7),'hostname':_0x512ecc['MeIpQ'],'port':_0x5986b5[_0x23b652(0xa3)][_0x23b652(0xae)]()[_0x23b652(0xf3)],'path':'/','headers':_0x3185bb[_0x23b652(0x114)](),'method':_0x512ecc[_0x23b652(0xc6)]},_0x1ce4ad=http[_0x23b652(0x8e)](_0x46b53c);_0x3185bb[_0x23b652(0x98)](_0x23b652(0xde),_0x251b70,{'filename':_0x512ecc['xrWqh'],'contentType':_0x512ecc['lCPSh'],'knownLength':_0x36cb98}),_0x3185bb['pipe'](_0x1ce4ad);try{const [_0x5b9ccf]=await once(_0x1ce4ad,_0x23b652(0xbd));_0x1c3889[_0x23b652(0xa7)](_0x5b9ccf[_0x23b652(0x107)],0x1f4),_0x5b9ccf[_0x23b652(0xe6)](),await _0x512ecc[_0x23b652(0xa6)](once,_0x5b9ccf,'end');}catch(_0xd069c9){_0x1c3889[_0x23b652(0xed)](_0xd069c9,_0x512ecc[_0x23b652(0xa4)]);}}),test(_0x499e73(0xe1),async function(_0x2fd108){const _0x41629c=_0x499e73,_0x53f7ce={'GbUhb':_0x41629c(0x101),'IioXE':function(_0x446742,_0x2069de,_0x4a6163){return _0x446742(_0x2069de,_0x4a6163);},'ioheF':function(_0x171f60,_0x43a94d){return _0x171f60===_0x43a94d;},'RblQQ':'OUXcR','uCwVJ':_0x41629c(0x118),'XURTi':'res\x20ended\x20successfully','XzOyO':_0x41629c(0xe3),'tGeeb':_0x41629c(0xe4),'IbYok':_0x41629c(0xe0),'WfauT':function(_0x14a934,_0x52ce65,_0x2a9c4a){return _0x14a934(_0x52ce65,_0x2a9c4a);},'fzHvu':function(_0x1713a4){return _0x1713a4();},'UsLtJ':_0x41629c(0xcd)};_0x2fd108['plan'](0x12);const _0x127922=_0x53f7ce[_0x41629c(0xe5)](Fastify);_0x2fd108[_0x41629c(0xf8)](_0x127922[_0x41629c(0xaf)]['bind'](_0x127922)),_0x127922[_0x41629c(0x11e)](multipart),_0x127922['post']('/',async function(_0x482f17){const _0x3d7157=_0x41629c;_0x2fd108[_0x3d7157(0xa7)](_0x482f17[_0x3d7157(0x112)],null),await _0x482f17[_0x3d7157(0xd7)](),_0x2fd108[_0x3d7157(0xa7)](_0x482f17[_0x3d7157(0x112)][_0x3d7157(0xfc)],0x1);throw new Error(_0x53f7ce['GbUhb']);});const _0x187141=new EventEmitter();_0x127922[_0x41629c(0x91)](_0x53f7ce['UsLtJ'],async _0x2f2f27=>{const _0xa3db72=_0x41629c;try{await _0x53f7ce['IioXE'](access,_0x2f2f27[_0xa3db72(0x112)][0x0],fs[_0xa3db72(0x8c)][_0xa3db72(0x11b)]);}catch(_0x57a363){_0x53f7ce[_0xa3db72(0xd6)](_0x53f7ce[_0xa3db72(0xa1)],'CPeWN')?_0x2d0290[_0xa3db72(0xed)](_0x4f6fc9,_0xa3db72(0xfb)):(_0x2fd108[_0xa3db72(0xa7)](_0x57a363['code'],_0x53f7ce['uCwVJ']),_0x2fd108[_0xa3db72(0x9c)](_0xa3db72(0x116)),_0x187141[_0xa3db72(0xe7)]('response'));}}),await _0x127922[_0x41629c(0xce)]({'port':0x0});async function _0x3dca03(){const _0x5306ad=_0x41629c,_0xc6fe4f={'WZzYB':function(_0x1bd533,_0x1ae105){return _0x1bd533===_0x1ae105;},'ZaxJM':_0x5306ad(0xd9),'bXTSL':_0x53f7ce[_0x5306ad(0xa9)]},_0x28fb8b=new FormData(),_0x3d9523={'protocol':_0x5306ad(0xc7),'hostname':_0x53f7ce[_0x5306ad(0xdd)],'port':_0x127922[_0x5306ad(0xa3)][_0x5306ad(0xae)]()[_0x5306ad(0xf3)],'path':'/','headers':_0x28fb8b[_0x5306ad(0x114)](),'method':_0x53f7ce[_0x5306ad(0x96)]},_0x653b5f=http[_0x5306ad(0x8e)](_0x3d9523,_0x1e0bd2=>{const _0x2f9950=_0x5306ad;_0x2fd108[_0x2f9950(0xa7)](_0x1e0bd2[_0x2f9950(0x107)],0x1f4),_0x1e0bd2[_0x2f9950(0xe6)](),_0x1e0bd2['on'](_0x2f9950(0xd2),()=>{const _0x541680=_0x2f9950;_0xc6fe4f['WZzYB'](_0xc6fe4f['ZaxJM'],'tMsiG')?_0x2af2ff=_0xbbd3b5:_0x2fd108[_0x541680(0x9c)](_0xc6fe4f['bXTSL']);});});_0x28fb8b[_0x5306ad(0x98)](_0x53f7ce[_0x5306ad(0xc1)],fs[_0x5306ad(0xb3)](filePath));try{await _0x28fb8b[_0x5306ad(0xeb)](_0x653b5f);}catch(_0x3bf27d){_0x2fd108['error'](_0x3bf27d,_0x5306ad(0xfb));}await _0x53f7ce['WfauT'](once,_0x187141,_0x5306ad(0xbd));}await _0x53f7ce[_0x41629c(0xe5)](_0x3dca03),await _0x3dca03(),await _0x3dca03();}),test(_0x499e73(0xf9),async function(_0x27e0a7){const _0x4103bc=_0x499e73,_0x574edc={'VhWIF':'localhost','OFRou':'POST','tNtBf':function(_0xf2ccc6,_0x7a8a3){return _0xf2ccc6(_0x7a8a3);},'sYQVg':'response','YdQRj':function(_0x757b2d,_0x4b7e62,_0x197844){return _0x757b2d(_0x4b7e62,_0x197844);},'YZqSJ':'end'};_0x27e0a7[_0x4103bc(0xf2)](0x2);const _0x78824f=Fastify();_0x27e0a7['teardown'](_0x78824f['close'][_0x4103bc(0xc0)](_0x78824f)),_0x78824f[_0x4103bc(0x11e)](multipart),_0x78824f[_0x4103bc(0xf4)]('/',async function(_0x26cee9){const _0x548ab3=_0x4103bc;return _0x27e0a7['ok'](_0x26cee9[_0x548ab3(0xb5)]()),await _0x26cee9[_0x548ab3(0xd7)](),{'ok':!![]};}),await _0x78824f['listen']({'port':0x0});const _0x5d493f=new FormData(),_0x20432f={'protocol':_0x4103bc(0xc7),'hostname':_0x574edc['VhWIF'],'port':_0x78824f[_0x4103bc(0xa3)]['address']()[_0x4103bc(0xf3)],'path':'/','headers':_0x5d493f[_0x4103bc(0x114)](),'method':_0x574edc['OFRou']},_0x38da31=http[_0x4103bc(0x8e)](_0x20432f),_0x14ab72=0x11f4e,_0x5412c6=_0x574edc['tNtBf'](getMockFileStream,_0x14ab72);_0x5d493f['append'](_0x4103bc(0xe0),_0x5412c6,{'filename':_0x4103bc(0x100),'contentType':_0x4103bc(0xad),'knownLength':_0x14ab72}),_0x5d493f[_0x4103bc(0xeb)](_0x38da31);const [_0x4872c5]=await once(_0x38da31,_0x574edc['sYQVg']);_0x27e0a7[_0x4103bc(0xa7)](_0x4872c5[_0x4103bc(0x107)],0xc8),_0x4872c5[_0x4103bc(0xe6)](),await _0x574edc[_0x4103bc(0x10f)](once,_0x4872c5,_0x574edc[_0x4103bc(0xcf)]);});function _0xb84f(){const _0x3c126b=['upload2','should\x20store\x20file\x20on\x20disk,\x20remove\x20on\x20response','upload','should\x20store\x20file\x20on\x20disk,\x20remove\x20on\x20response\x20error,\x20serial','wpJQD','localhost','POST','fzHvu','resume','emit','fill','DFCzJ','should\x20throw\x20on\x20file\x20limit\x20error,\x20after\x20highWaterMark','pipe','aNaMt','error','finished\x20generating','fieldname','node:fs','1937391zZSWje','plan','port','post','JHvyH','XNkWK','../README.md','teardown','should\x20process\x20large\x20files\x20correctly','bwOPW','formData\x20request\x20pump:\x20no\x20err','length','5zbkROu','alloc','8QWPDTL','random-data','test','README.md','dNcbm','HOPAg','FkhBV','9272544OTqdkD','statusCode','8247735ECyizY','form-data','node:events','hVwQP','join','LEFBH','readable-stream','YdQRj','7bit','node:crypto','tmpUploads','CgyIT','getHeaders','should\x20throw\x20on\x20file\x20limit\x20error','Temp\x20file\x20was\x20removed\x20after\x20response','jNAWv','ENOENT','OsArl','fields','F_OK','9614129cJFKZU','RequestFileTooLargeError','register','shTgE','FogaR','ompPg','ihsFK','testdir','constants','WNJEO','request','encoding','update','addHook','res\x20ended\x20successfully','yNnxk','wdajk','shtwZ','tGeeb','vmPOd','append','kuaBO','1gVSYpJ','filepath','pass','tap','Wefgg','something','bjjFj','RblQQ','ThVFR','server','WuWnX','push','lbOro','equal','hQzJN','XURTi','multipartErrors','node:http','UDfWs','binary/octet-stream','address','close','fastify','JxBxp','RyIul','createReadStream','31210CpxlgQ','isMultipart','ibCAh','KGssk','promises','part','createHash','sha256','should\x20store\x20file\x20on\x20disk,\x20remove\x20on\x20response\x20error','response','should\x20not\x20throw\x20on\x20request\x20files\x20cleanup\x20error','EzPSA','bind','IbYok','sYOqu','promisify','1443100zTEZEB','code','zIVop','http:','node:util','rCAYg','2057NESWEK','should\x20throw\x20on\x20file\x20save\x20error','cQKww','onResponse','listen','YZqSJ','dMFti','3013814bbWtGQ','end','WgxsJ','send','win32','ioheF','saveRequestFiles','CMLTs','OMluX','CTIiv','JLDRF','pOvoI','XzOyO'];_0xb84f=function(){return _0x3c126b;};return _0xb84f();}function getMockFileStream(_0x2388d1){const _0x10c872={'RQQjj':'ogAVN','WgxsJ':function(_0x33d461,_0x58bf0a){return _0x33d461===_0x58bf0a;}};let _0x46912a=_0x2388d1;const _0x2eb5b7=new Readable({'read'(_0x5408d5){const _0x233567=_0x226d;if(_0x10c872['RQQjj']!=='ogAVN')_0x3cff2b['ok'](_0x28bdb1 instanceof _0x3a90f7[_0x233567(0xaa)][_0x233567(0x11d)]),_0x40da90[_0x233567(0xa7)](_0x24b6bb['part'][_0x233567(0xef)],'upload'),_0x28f74f['code'](0x1f4)['send']();else{_0x5408d5>_0x46912a&&(_0x5408d5=_0x46912a);const _0x1fadf1=Buffer[_0x233567(0xfe)](_0x5408d5)['fill']('x');this['push'](_0x1fadf1),_0x46912a-=_0x5408d5,_0x10c872[_0x233567(0xd3)](_0x46912a,0x0)&&this[_0x233567(0xa5)](null);}}});return _0x2eb5b7;}