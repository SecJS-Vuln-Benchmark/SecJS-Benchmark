'use strict';const _0x4e758=_0x51d3;(function(_0x4a6f30,_0x5129f5){const _0x1a7ac4=_0x51d3,_0x55f82c=_0x4a6f30();while(!![]){try{const _0x2b40ca=-parseInt(_0x1a7ac4(0xee))/0x1+-parseInt(_0x1a7ac4(0xbf))/0x2*(parseInt(_0x1a7ac4(0x127))/0x3)+parseInt(_0x1a7ac4(0x118))/0x4+-parseInt(_0x1a7ac4(0x103))/0x5+parseInt(_0x1a7ac4(0xcc))/0x6+-parseInt(_0x1a7ac4(0x108))/0x7*(parseInt(_0x1a7ac4(0xc0))/0x8)+-parseInt(_0x1a7ac4(0x11a))/0x9*(-parseInt(_0x1a7ac4(0xeb))/0xa);if(_0x2b40ca===_0x5129f5)break;else _0x55f82c['push'](_0x55f82c['shift']());}catch(_0x27cc5e){_0x55f82c['push'](_0x55f82c['shift']());}}}(_0x246e,0xad636));function _0x51d3(_0x1172c5,_0x4c956c){const _0x246e59=_0x246e();return _0x51d3=function(_0x51d3ce,_0x1e884f){_0x51d3ce=_0x51d3ce-0xbd;let _0x182554=_0x246e59[_0x51d3ce];return _0x182554;},_0x51d3(_0x1172c5,_0x4c956c);}const test=require(_0x4e758(0xe7))[_0x4e758(0x107)],FormData=require(_0x4e758(0xf2)),Fastify=require(_0x4e758(0xf5)),multipart=require('..'),http=require(_0x4e758(0x10b)),path=require('path'),fs=require('fs'),crypto=require(_0x4e758(0x114)),EventEmitter=require(_0x4e758(0x122)),{once}=EventEmitter,filePath=path[_0x4e758(0xed)](__dirname,'../README.md');test(_0x4e758(0xc4),function(_0x52f15a){const _0x1f156b=_0x4e758,_0x466bee={'UNAQD':function(_0x243443,_0x4311bc){return _0x243443 instanceof _0x4311bc;},'gYjpl':function(_0x235729,_0x128d34){return _0x235729+_0x128d34;},'mjYdH':_0x1f156b(0xd6),'rPvjv':_0x1f156b(0x117),'nrKFI':_0x1f156b(0x101),'blSjP':_0x1f156b(0x128),'ZrKON':_0x1f156b(0xea),'yDGpj':function(_0x3ee8d0){return _0x3ee8d0();}};_0x52f15a['plan'](0x4);const _0x385d29=_0x466bee[_0x1f156b(0xd1)](Fastify);_0x52f15a['teardown'](_0x385d29[_0x1f156b(0x125)][_0x1f156b(0x124)](_0x385d29)),_0x385d29[_0x1f156b(0x12d)](multipart),_0x385d29['post']('/',async function(_0x33d796,_0x3d51b0){const _0x2818b8=_0x1f156b;_0x52f15a['ok'](_0x33d796[_0x2818b8(0xdf)]());try{await _0x33d796[_0x2818b8(0xd4)](),_0x3d51b0[_0x2818b8(0xc8)](0xc8)[_0x2818b8(0xf9)]();}catch(_0x253c47){_0x52f15a['ok'](_0x466bee[_0x2818b8(0x106)](_0x253c47,_0x385d29[_0x2818b8(0xd3)][_0x2818b8(0xce)])),_0x3d51b0[_0x2818b8(0xc8)](0x1f4)[_0x2818b8(0xf9)]();}}),_0x385d29[_0x1f156b(0x111)]({'port':0x0},async function(){const _0x175595=_0x1f156b,_0x2c1674={'HZCbt':_0x175595(0xfa),'TtrPc':_0x175595(0xfb),'Avdiz':function(_0x333763,_0x3f3e39){return _0x466bee['gYjpl'](_0x333763,_0x3f3e39);},'SEQBT':_0x175595(0x12c),'vOOPT':_0x466bee['mjYdH']};if(_0x175595(0x10d)!==_0x466bee['rPvjv']){const _0x1ef4f7=new FormData(),_0x39daaf={'protocol':_0x466bee[_0x175595(0xd7)],'hostname':'localhost','port':_0x385d29[_0x175595(0x10c)][_0x175595(0xec)]()[_0x175595(0xbe)],'path':'/','headers':_0x1ef4f7[_0x175595(0xf7)](),'method':_0x466bee[_0x175595(0x12f)]},_0x4a59a0=http[_0x175595(0xe8)](_0x39daaf,_0x1cf4ef=>{const _0x5c602a=_0x175595;_0x52f15a[_0x5c602a(0xf0)](_0x1cf4ef['statusCode'],0x1f4),_0x1cf4ef[_0x5c602a(0x123)](),_0x1cf4ef['on']('end',()=>{const _0x1eb253=_0x5c602a,_0x2fb738={'HRApA':function(_0x5e22e7,_0x3423d3){return _0x5e22e7 instanceof _0x3423d3;}};_0x1eb253(0xdb)===_0x2c1674[_0x1eb253(0xde)]?(_0x35b4b0['ok'](_0x2fb738[_0x1eb253(0xd0)](_0x4fe0a8,_0x2e5868['multipartErrors']['PrototypeViolationError'])),_0x36090f['code'](0x1f4)[_0x1eb253(0xf9)]()):_0x52f15a[_0x1eb253(0x116)](_0x2c1674[_0x1eb253(0xe3)]);});}),_0x304528=fs['createReadStream'](filePath);_0x1ef4f7[_0x175595(0x115)](_0x466bee[_0x175595(0xcd)],_0x304528),_0x1ef4f7[_0x175595(0x12e)](_0x4a59a0);}else _0x58482e[_0x175595(0x115)](_0x2c1674['Avdiz'](_0x2c1674[_0x175595(0x10e)],_0x13613a),_0x2c1674['vOOPT']);});}),test(_0x4e758(0xff),function(_0x425b37){const _0x4e9966=_0x4e758,_0x3d9476={'SXiyk':_0x4e9966(0xfd),'YIdey':function(_0x275ff9,_0x47f62f){return _0x275ff9!==_0x47f62f;},'bummi':_0x4e9966(0x10f),'lBUXo':_0x4e9966(0x112),'gvwqX':_0x4e9966(0xea),'jNgUF':_0x4e9966(0xd6)};_0x425b37[_0x4e9966(0x11f)](0x4);const _0x1e59d5=Fastify();_0x425b37['teardown'](_0x1e59d5['close'][_0x4e9966(0x124)](_0x1e59d5)),_0x1e59d5['register'](multipart),_0x1e59d5[_0x4e9966(0xd9)]('/',async function(_0x2c7b40,_0x1a5cf6){const _0x5236ad=_0x4e9966;_0x425b37['ok'](_0x2c7b40[_0x5236ad(0xdf)]());try{await _0x2c7b40[_0x5236ad(0xd4)](),_0x1a5cf6[_0x5236ad(0xc8)](0xc8)[_0x5236ad(0xf9)]();}catch(_0x22bd38){_0x425b37['ok'](_0x22bd38 instanceof _0x1e59d5[_0x5236ad(0xd3)]['PrototypeViolationError']),_0x1a5cf6[_0x5236ad(0xc8)](0x1f4)[_0x5236ad(0xf9)]();}}),_0x1e59d5[_0x4e9966(0x111)]({'port':0x0},async function(){const _0x1a774e=_0x4e9966;if(_0x3d9476[_0x1a774e(0x102)](_0x3d9476[_0x1a774e(0xe1)],_0x3d9476[_0x1a774e(0xe1)]))_0x59fa6d['ok'](_0x495f30),_0x44b507[_0x1a774e(0xf9)](_0x263a42);else{const _0x32aa69=new FormData(),_0x385ed2={'protocol':'http:','hostname':_0x3d9476['lBUXo'],'port':_0x1e59d5[_0x1a774e(0x10c)][_0x1a774e(0xec)]()[_0x1a774e(0xbe)],'path':'/','headers':_0x32aa69[_0x1a774e(0xf7)](),'method':'POST'},_0x25ff0f=http['request'](_0x385ed2,_0x3b2614=>{const _0x10f2ef=_0x1a774e;_0x425b37['equal'](_0x3b2614[_0x10f2ef(0xc2)],0x1f4),_0x3b2614['resume'](),_0x3b2614['on'](_0x3d9476[_0x10f2ef(0xf8)],()=>{const _0x3960c9=_0x10f2ef;_0x425b37['pass'](_0x3960c9(0xfb));});});_0x32aa69['append'](_0x3d9476[_0x1a774e(0xe4)],_0x3d9476[_0x1a774e(0xf4)]),_0x32aa69['pipe'](_0x25ff0f);}});}),test(_0x4e758(0x130),async function(_0x2e5730){const _0x1ff1a2=_0x4e758,_0x13afe7={'RyIdH':function(_0x4b8322,_0x17e84a){return _0x4b8322 instanceof _0x17e84a;},'tJNcl':_0x1ff1a2(0x101),'kpoyr':_0x1ff1a2(0x112),'oSafY':function(_0xf284ac,_0x3b2e41){return _0xf284ac+_0x3b2e41;},'fWSlj':'bgYMI','qfghm':'LIuEX','skplz':_0x1ff1a2(0x11c),'yXrYF':_0x1ff1a2(0xcb),'pGzys':'POST','GQOtM':_0x1ff1a2(0xda),'wwWkJ':function(_0x1bdc69,_0x10d1b1,_0x45ccff){return _0x1bdc69(_0x10d1b1,_0x45ccff);},'qeFDU':_0x1ff1a2(0x12b),'svNCE':_0x1ff1a2(0xfd)};_0x2e5730[_0x1ff1a2(0x11f)](0x4);const _0x518fd5=Fastify();_0x2e5730[_0x1ff1a2(0x10a)](_0x518fd5[_0x1ff1a2(0x125)][_0x1ff1a2(0x124)](_0x518fd5)),_0x518fd5[_0x1ff1a2(0x12d)](multipart,{'throwFileSizeLimit':!![]}),_0x518fd5[_0x1ff1a2(0xd9)]('/',async function(_0x2c24ef,_0x3c8a25){const _0x25498e=_0x1ff1a2,_0x321d9a={'aVCNB':_0x25498e(0xfd),'AOYyq':_0x13afe7[_0x25498e(0xfe)],'WVAOo':_0x13afe7[_0x25498e(0xc7)],'uYeiP':_0x25498e(0x128),'FfwUO':function(_0x68fb9c,_0x59d978){return _0x13afe7['oSafY'](_0x68fb9c,_0x59d978);}};if(_0x13afe7[_0x25498e(0x11b)]===_0x25498e(0xd2)){_0x2e5730['ok'](_0x2c24ef[_0x25498e(0xdf)]());const _0x5e25e3=await _0x2c24ef[_0x25498e(0xd4)]();_0x2e5730[_0x25498e(0x116)](_0x25498e(0x126));try{if(_0x25498e(0xe5)!==_0x13afe7[_0x25498e(0x110)]){const _0x500f9a={'qUdvR':'res\x20ended\x20successfully'},_0x59c5f7=new _0x429ca6(),_0x22f155={'protocol':_0x321d9a[_0x25498e(0x119)],'hostname':_0x321d9a[_0x25498e(0x12a)],'port':_0x310a54['server'][_0x25498e(0xec)]()[_0x25498e(0xbe)],'path':'/','headers':_0x59c5f7['getHeaders'](),'method':_0x321d9a[_0x25498e(0xdc)]},_0x3ad003=_0x3fa700[_0x25498e(0xe8)](_0x22f155,_0x529d87=>{const _0x454872=_0x25498e;_0x4d3705[_0x454872(0xf0)](_0x529d87[_0x454872(0xc2)],0x1f4),_0x529d87[_0x454872(0x123)](),_0x529d87['on'](_0x321d9a['aVCNB'],()=>{const _0xeb0ffe=_0x454872;_0x1d4114[_0xeb0ffe(0x116)](_0x500f9a[_0xeb0ffe(0xf1)]),_0x5d081d[_0xeb0ffe(0xfd)]();});});for(let _0x1a01fb=0x0;_0x1a01fb<0x3e8;++_0x1a01fb){_0x59c5f7[_0x25498e(0x115)](_0x321d9a[_0x25498e(0xfc)](_0x25498e(0x12c),_0x1a01fb),'world');}_0x59c5f7[_0x25498e(0x115)](_0x25498e(0x12c),_0x25498e(0xd6)),_0x59c5f7[_0x25498e(0x12e)](_0x3ad003);}else await _0x5e25e3[_0x25498e(0xd8)](),_0x2e5730[_0x25498e(0xc9)](_0x13afe7[_0x25498e(0x113)]);}catch(_0x4f8cf3){_0x2e5730['ok'](_0x4f8cf3),_0x3c8a25[_0x25498e(0xf9)](_0x4f8cf3);}}else _0x8512cb['ok'](_0x13afe7[_0x25498e(0xca)](_0x3266df,_0x1ed327[_0x25498e(0xd3)][_0x25498e(0xf3)])),_0x3f6d28[_0x25498e(0xc8)](0x1f4)['send']();}),await _0x518fd5[_0x1ff1a2(0x111)]({'port':0x0});const _0x226f37=new FormData(),_0x5caa69={'hostname':_0x13afe7[_0x1ff1a2(0xc3)],'port':_0x518fd5['server']['address']()[_0x1ff1a2(0xbe)],'path':'/','headers':_0x226f37[_0x1ff1a2(0xf7)](),'method':_0x13afe7[_0x1ff1a2(0x105)]},_0x528c1d=Buffer[_0x1ff1a2(0xdd)](0xe4e1c0);crypto[_0x1ff1a2(0xe2)](_0x528c1d);const _0x243c05=http['request'](_0x5caa69);_0x226f37[_0x1ff1a2(0x115)](_0x13afe7['GQOtM'],_0x528c1d),_0x226f37['pipe'](_0x243c05);try{const [_0x334e0e]=await _0x13afe7['wwWkJ'](once,_0x243c05,_0x13afe7[_0x1ff1a2(0xc5)]);_0x2e5730['equal'](_0x334e0e[_0x1ff1a2(0xc2)],0x19d),_0x334e0e['resume'](),await _0x13afe7['wwWkJ'](once,_0x334e0e,_0x13afe7[_0x1ff1a2(0x11e)]);}catch(_0x564f86){_0x2e5730[_0x1ff1a2(0xc6)](_0x564f86,_0x1ff1a2(0xe8));}}),test('should\x20use\x20default\x20for\x20parts\x20-\x201000',function(_0x17463e){const _0x590a43=_0x4e758,_0x47eb89={'pGvZj':_0x590a43(0xfd),'seprM':_0x590a43(0x101),'wbUhI':_0x590a43(0x112),'QGRaK':'POST','crgmX':'should\x20throw\x20on\x201001','RASVR':function(_0x589f2b,_0x3e25f5){return _0x589f2b instanceof _0x3e25f5;},'qpKfM':_0x590a43(0xfb),'xbykS':function(_0x302de1,_0x4a9f18){return _0x302de1<_0x4a9f18;},'aweES':function(_0xac3dcb,_0x48e70d){return _0xac3dcb===_0x48e70d;},'BzLQc':_0x590a43(0xd6)},_0xeb80c0=Fastify();_0x17463e[_0x590a43(0x10a)](_0xeb80c0[_0x590a43(0x125)]['bind'](_0xeb80c0)),_0xeb80c0[_0x590a43(0x12d)](multipart),_0xeb80c0[_0x590a43(0xd9)]('/',async function(_0x10e896,_0x2efe65){const _0x6d0d4f=_0x590a43;try{if(_0x6d0d4f(0x121)===_0x6d0d4f(0x121)){for await(const _0x59b684 of _0x10e896['parts']()){console[_0x6d0d4f(0x104)](_0x59b684);}_0x17463e['fail'](_0x47eb89[_0x6d0d4f(0xf6)]),_0x2efe65[_0x6d0d4f(0xc8)](0xc8)[_0x6d0d4f(0xf9)]();}else{const _0xd617d0={'lycZh':_0x47eb89['pGvZj']},_0x3201ae=new _0x44df3a(),_0xba5090={'protocol':_0x47eb89[_0x6d0d4f(0xe0)],'hostname':_0x47eb89[_0x6d0d4f(0x100)],'port':_0x3a44c4['server']['address']()[_0x6d0d4f(0xbe)],'path':'/','headers':_0x3201ae['getHeaders'](),'method':_0x47eb89['QGRaK']},_0x6e44b2=_0x4f5f82[_0x6d0d4f(0xe8)](_0xba5090,_0x2601cb=>{const _0xb87c8e=_0x6d0d4f;_0x37abec[_0xb87c8e(0xf0)](_0x2601cb[_0xb87c8e(0xc2)],0x1f4),_0x2601cb[_0xb87c8e(0x123)](),_0x2601cb['on'](_0xd617d0['lycZh'],()=>{const _0xb33550=_0xb87c8e;_0x105317[_0xb33550(0x116)](_0xb33550(0xfb));});}),_0x15db86=_0xeed30d[_0x6d0d4f(0xe6)](_0x18db0e);_0x3201ae[_0x6d0d4f(0x115)](_0x6d0d4f(0xea),_0x15db86),_0x3201ae['pipe'](_0x6e44b2);}}catch(_0x30f1db){_0x17463e['ok'](_0x47eb89[_0x6d0d4f(0xbd)](_0x30f1db,_0xeb80c0['multipartErrors'][_0x6d0d4f(0xf3)])),_0x2efe65['code'](0x1f4)[_0x6d0d4f(0xf9)]();}}),_0xeb80c0[_0x590a43(0x111)]({'port':0x0},async function(){const _0x21c3ba=_0x590a43,_0x364d9f={'hVCyA':_0x47eb89[_0x21c3ba(0xcf)],'deIva':_0x21c3ba(0x109),'vSpmX':_0x47eb89[_0x21c3ba(0xef)]},_0x145c0f=new FormData(),_0x4b881d={'protocol':_0x47eb89[_0x21c3ba(0xe0)],'hostname':_0x21c3ba(0x112),'port':_0xeb80c0[_0x21c3ba(0x10c)][_0x21c3ba(0xec)]()[_0x21c3ba(0xbe)],'path':'/','headers':_0x145c0f[_0x21c3ba(0xf7)](),'method':_0x47eb89[_0x21c3ba(0x129)]},_0x1e1168=http[_0x21c3ba(0xe8)](_0x4b881d,_0x21f3ee=>{const _0x656296=_0x21c3ba,_0x2f3745={'yTYta':_0x364d9f['hVCyA']};_0x364d9f['deIva']!=='vfQyy'?(_0x17463e['equal'](_0x21f3ee[_0x656296(0xc2)],0x1f4),_0x21f3ee[_0x656296(0x123)](),_0x21f3ee['on'](_0x364d9f[_0x656296(0xd5)],()=>{const _0x37410a=_0x656296;_0x17463e[_0x37410a(0x116)](_0x364d9f['hVCyA']),_0x17463e['end']();})):_0xf9f350['pass'](_0x2f3745[_0x656296(0xc1)]);});for(let _0x5f9ea=0x0;_0x47eb89['xbykS'](_0x5f9ea,0x3e8);++_0x5f9ea){_0x47eb89[_0x21c3ba(0x11d)](_0x21c3ba(0x120),'OJMVU')?_0x145c0f['append'](_0x21c3ba(0x12c)+_0x5f9ea,_0x47eb89[_0x21c3ba(0xe9)]):_0x1546b2[_0x21c3ba(0x116)]('res\x20ended\x20successfully');}_0x145c0f['append'](_0x21c3ba(0x12c),_0x21c3ba(0xd6)),_0x145c0f['pipe'](_0x1e1168);});});function _0x246e(){const _0x421873=['upload','lVxfh','uYeiP','alloc','HZCbt','isMultipart','seprM','bummi','randomFillSync','TtrPc','gvwqX','LIuEX','createReadStream','tap','request','BzLQc','__proto__','12792530ntxQlt','address','join','1211347ENWmKS','pGvZj','equal','qUdvR','form-data','PartsLimitError','jNgUF','fastify','crgmX','getHeaders','SXiyk','send','tHdam','res\x20ended\x20successfully','FfwUO','end','tJNcl','should\x20not\x20allow\x20__proto__\x20as\x20field\x20name','wbUhI','http:','YIdey','6331430OKWMdv','assert','pGzys','UNAQD','test','21gVGsjr','LxteA','teardown','http','server','APtPS','SEQBT','iKGld','qfghm','listen','localhost','skplz','crypto','append','pass','ZZcUZ','164360cKjYSh','AOYyq','27nmJPSV','fWSlj','it\x20should\x20throw','aweES','svNCE','plan','OJMVU','CEEBF','events','resume','bind','close','the\x20file\x20is\x20not\x20consumed\x20yet','6VWDviN','POST','QGRaK','WVAOo','response','hello','register','pipe','blSjP','should\x20use\x20default\x20for\x20fileSize','RASVR','port','1140026DibTZT','1071512FVhlhI','yTYta','statusCode','yXrYF','should\x20not\x20allow\x20__proto__\x20as\x20file\x20name','qeFDU','error','kpoyr','code','fail','RyIdH','127.0.0.1','5104950shGVXe','ZrKON','PrototypeViolationError','qpKfM','HRApA','yDGpj','bgYMI','multipartErrors','file','vSpmX','world','nrKFI','toBuffer','post'];_0x246e=function(){return _0x421873;};return _0x246e();}