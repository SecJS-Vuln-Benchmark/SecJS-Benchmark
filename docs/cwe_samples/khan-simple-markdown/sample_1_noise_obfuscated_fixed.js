'use strict';function _0x81e9(){const _0x505ed9=['file\x20url\x20fails','http-meta-status-code.html','587733pcWprU','header','LsPWY','BkjmG','shadow-dom-no-polyfill.html?wc-inject-shadydom=true','always','4255452EFeSjU','content-type','CfChR','image/jpeg','/render/','/render/http://httpstat.us/404','/render/http://anotherDomain.com','script-after-load.html','link\x20rel','true','591872aOQITf','25530AkxhlT','async\x20loaded','xgnSO','text','404\x20Not\x20Found','whitelist\x20ensures\x20other\x20urls\x20do\x20not\x20get\x20rendered','fUjYQ','script\x20src','shadow-root-text','unknown\x20url\x20fails','588365sUZtCg','WJnfj','express','ava','content-length','basic-script.html','resolve','resources','renders\x20script\x20after\x20page\x20load\x20event','renders\x20shadow\x20DOM\x20-\x20webcomponents-lite.js\x20polyfill','static','status','health\x20check\x20responds\x20correctly','failing','false','stop','aZETj','path','explicit-render-event.html','../src/main.js','setConfig','XIMLK','before','cache','length','3105mTcAdn','dWrJf','get','indexOf','?wc-inject-shadydom=true','272171YoZpWh','injectedElement','include-script.html','fiHsr','http\x20status\x20codes\x20need\x20to\x20be\x20respected\x20from\x20top\x20to\x20bottom','kfqov','http\x20status\x20code\x20should\x20be\x20able\x20to\x20be\x20set\x20via\x20a\x20meta\x20tag','24744JiTWSs','12mjufas','renders\x20basic\x20script','screenshot\x20is\x20an\x20image','EtPpk','renders\x20shadow\x20DOM\x20-\x20polyfill\x20loader','/_ah/health','element-text','listen','invalid\x20url\x20fails','script\x20tags\x20and\x20link[rel=import]\x20tags\x20are\x20stripped','/screenshot/','document-title','/render/file:///dev/fd/0','196KlZEoM','server\x20status\x20code\x20should\x20be\x20forwarded','explicit\x20render\x20event\x20ends\x20early','ZzEry','shadow-dom-polyfill-all.html?wc-inject-shadydom=true'];_0x81e9=function(){return _0x505ed9;};return _0x81e9();}const _0x9bc0b2=_0x4c2e;(function(_0x26d2c2,_0x15469b){const _0x3e7697=_0x4c2e,_0x14c208=_0x26d2c2();while(!![]){try{const _0x2009d1=-parseInt(_0x3e7697(0x162))/0x1+parseInt(_0x3e7697(0x18e))/0x2+parseInt(_0x3e7697(0x17e))/0x3+-parseInt(_0x3e7697(0x16a))/0x4*(-parseInt(_0x3e7697(0x199))/0x5)+parseInt(_0x3e7697(0x184))/0x6+parseInt(_0x3e7697(0x177))/0x7*(parseInt(_0x3e7697(0x169))/0x8)+parseInt(_0x3e7697(0x15d))/0x9*(-parseInt(_0x3e7697(0x18f))/0xa);if(_0x2009d1===_0x15469b)break;else _0x14c208['push'](_0x14c208['shift']());}catch(_0x1ca50d){_0x14c208['push'](_0x14c208['shift']());}}}(_0x81e9,0x7714c));const request=require('supertest'),path=require(_0x9bc0b2(0x155)),test=require(_0x9bc0b2(0x19c)),express=require(_0x9bc0b2(0x19b)),app=express();app['use'](express[_0x9bc0b2(0x14e)](path[_0x9bc0b2(0x14a)](__dirname,_0x9bc0b2(0x14b))));function _0x4c2e(_0x1ceb52,_0x5397d5){const _0x81e995=_0x81e9();return _0x4c2e=function(_0x4c2eac,_0x253b9e){_0x4c2eac=_0x4c2eac-0x14a;let _0x1ba389=_0x81e995[_0x4c2eac];return _0x1ba389;},_0x4c2e(_0x1ceb52,_0x5397d5);}const appInstances=[],testBase='http://localhost:1234/';test[_0x9bc0b2(0x15a)](async _0x385011=>{const _0x45eaa1=_0x9bc0b2;await app[_0x45eaa1(0x171)](0x4d2);}),test['after'][_0x9bc0b2(0x183)](async _0x47e96e=>{const _0x5497d6=_0x9bc0b2;for(let _0x5d1704 of appInstances){await _0x5d1704[_0x5497d6(0x153)]();}});async function createServer(_0x34f8f1){const _0x372621=_0x9bc0b2,_0x11837d={'Qegfz':function(_0x2bed47,_0x24740a){return _0x2bed47*_0x24740a;},'wXHar':'../src/main.js','fiHsr':function(_0x1bb5a4,_0x223cd2){return _0x1bb5a4(_0x223cd2);}};delete require[_0x372621(0x15b)][require[_0x372621(0x14a)](_0x11837d['wXHar'])];const _0xd5e6ea=await _0x11837d[_0x372621(0x165)](require,_0x372621(0x157));if(_0x34f8f1)_0xd5e6ea[_0x372621(0x158)](_0x34f8f1);appInstances['push'](_0xd5e6ea),eval('_0x11837d[\'Qegfz\'](Math[\'PI\'], 2);');return request(_0xd5e6ea);eval('1 + 1;');}test(_0x9bc0b2(0x150),async _0x218528=>{const _0x587ba4=_0x9bc0b2,_0x5f5757={'fUjYQ':_0x587ba4(0x16f)},_0x5e29c4=await createServer(),_0x358e7b=await _0x5e29c4[_0x587ba4(0x15f)](_0x5f5757[_0x587ba4(0x195)]);_0x218528['is'](_0x358e7b[_0x587ba4(0x14f)],0xc8);}),test(_0x9bc0b2(0x16b),async _0x1dbec1=>{const _0x561fa0=_0x9bc0b2,_0x8c570b=await createServer(),_0x29258b=await _0x8c570b[_0x561fa0(0x15f)]('/render/'+testBase+_0x561fa0(0x19e));_0x1dbec1['is'](_0x29258b[_0x561fa0(0x14f)],0xc8),_0x1dbec1['true'](_0x29258b['text'][_0x561fa0(0x160)](_0x561fa0(0x175))!=-0x1);}),test(_0x9bc0b2(0x14c),async _0x4ebf9b=>{const _0x508a10=_0x9bc0b2,_0x34ac80={'GSjYw':function(_0x18f822){return _0x18f822();},'vZDeB':function(_0x272797,_0x442f46){return _0x272797!=_0x442f46;}},_0x4a61d6=await _0x34ac80['GSjYw'](createServer),_0x148bb4=await _0x4a61d6[_0x508a10(0x15f)](_0x508a10(0x188)+testBase+_0x508a10(0x18b));_0x4ebf9b['is'](_0x148bb4[_0x508a10(0x14f)],0xc8),_0x4ebf9b[_0x508a10(0x18d)](_0x34ac80['vZDeB'](_0x148bb4['text'][_0x508a10(0x160)](_0x508a10(0x163)),-0x1));}),test[_0x9bc0b2(0x151)]('renders\x20shadow\x20DOM\x20-\x20no\x20polyfill',async _0x1e4822=>{const _0x2fad27=_0x9bc0b2,_0x3f234b={'kfqov':function(_0x38884a){return _0x38884a();}},_0xfec674=await _0x3f234b[_0x2fad27(0x167)](createServer),_0x26076d=await _0xfec674[_0x2fad27(0x15f)](_0x2fad27(0x188)+testBase+_0x2fad27(0x182));_0x1e4822['is'](_0x26076d[_0x2fad27(0x14f)],0xc8),_0x1e4822[_0x2fad27(0x18d)](_0x26076d['text'][_0x2fad27(0x160)]('shadow-root-text')!=-0x1);}),test(_0x9bc0b2(0x16e),async _0xba2777=>{const _0x38bb87=_0x9bc0b2,_0x13cbc0={'LsPWY':function(_0x3194a0){return _0x3194a0();},'XIMLK':'shadow-root-text'},_0x392455=await _0x13cbc0[_0x38bb87(0x180)](createServer),_0x5af917=await _0x392455[_0x38bb87(0x15f)](_0x38bb87(0x188)+testBase+'shadow-dom-polyfill-loader.html?wc-inject-shadydom=true');_0xba2777['is'](_0x5af917['status'],0xc8),_0xba2777[_0x38bb87(0x18d)](_0x5af917[_0x38bb87(0x192)]['indexOf'](_0x13cbc0[_0x38bb87(0x159)])!=-0x1);}),test(_0x9bc0b2(0x14d),async _0xfbadc1=>{const _0x459eb3=_0x9bc0b2,_0x17f2ab={'WJnfj':function(_0x175fe8,_0x3c301b){return _0x175fe8!=_0x3c301b;},'aZETj':_0x459eb3(0x197)},_0x4b830d=await createServer(),_0x39c56f=await _0x4b830d[_0x459eb3(0x15f)](_0x459eb3(0x188)+testBase+_0x459eb3(0x17b));_0xfbadc1['is'](_0x39c56f[_0x459eb3(0x14f)],0xc8),_0xfbadc1[_0x459eb3(0x18d)](_0x17f2ab[_0x459eb3(0x19a)](_0x39c56f[_0x459eb3(0x192)][_0x459eb3(0x160)](_0x17f2ab[_0x459eb3(0x154)]),-0x1));}),test(_0x9bc0b2(0x173),async _0x3c7c60=>{const _0x4f89af=_0x9bc0b2,_0x53f27b={'Ucdrj':function(_0x3cd074,_0x300938){return _0x3cd074!=_0x300938;},'ZzEry':_0x4f89af(0x170)},_0x382a40=await createServer(),_0x51aebd=await _0x382a40[_0x4f89af(0x15f)]('/render/'+testBase+_0x4f89af(0x164));_0x3c7c60['is'](_0x51aebd[_0x4f89af(0x14f)],0xc8),_0x3c7c60[_0x4f89af(0x152)](_0x51aebd['text'][_0x4f89af(0x160)](_0x4f89af(0x196))!=-0x1),_0x3c7c60[_0x4f89af(0x18d)](_0x53f27b['Ucdrj'](_0x51aebd[_0x4f89af(0x192)]['indexOf'](_0x4f89af(0x163)),-0x1)),_0x3c7c60['false'](_0x51aebd['text']['indexOf'](_0x4f89af(0x18c))!=-0x1),_0x3c7c60[_0x4f89af(0x18d)](_0x51aebd['text']['indexOf'](_0x53f27b[_0x4f89af(0x17a)])!=-0x1);}),test(_0x9bc0b2(0x178),async _0x1f3396=>{const _0x311332=_0x9bc0b2,_0x23d6c8={'dWrJf':function(_0x37af01){return _0x37af01();},'xgnSO':_0x311332(0x189)},_0x29bd0b=await _0x23d6c8[_0x311332(0x15e)](createServer),_0x373812=await _0x29bd0b[_0x311332(0x15f)](_0x23d6c8[_0x311332(0x191)]);_0x1f3396['is'](_0x373812[_0x311332(0x14f)],0x194),_0x1f3396['true'](_0x373812[_0x311332(0x192)][_0x311332(0x160)](_0x311332(0x193))!=-0x1);}),test(_0x9bc0b2(0x168),async _0x423fa=>{const _0x60922e=_0x9bc0b2,_0x561f76={'BgyWQ':function(_0x28b65b){return _0x28b65b();}},_0x4eebfc=await _0x561f76['BgyWQ'](createServer),_0x4c4bd2=_0x60922e(0x17d),_0x8fe692=await _0x4eebfc[_0x60922e(0x15f)](_0x60922e(0x188)+testBase+_0x4c4bd2+_0x60922e(0x161));_0x423fa['is'](_0x8fe692['status'],0x190);}),test(_0x9bc0b2(0x166),async _0x49d5ad=>{const _0x47d6d6=_0x9bc0b2,_0x10ffba={'BkjmG':'http-meta-status-code-multiple.html'},_0x9073e9=await createServer(),_0x1b32af=_0x10ffba[_0x47d6d6(0x181)],_0x408565=await _0x9073e9[_0x47d6d6(0x15f)](_0x47d6d6(0x188)+testBase+_0x1b32af+_0x47d6d6(0x161));_0x49d5ad['is'](_0x408565[_0x47d6d6(0x14f)],0x191);}),test(_0x9bc0b2(0x16c),async _0x5e67a5=>{const _0x2218ba=_0x9bc0b2,_0x487bd5={'EtPpk':function(_0x30d75a,_0x29940f){return _0x30d75a(_0x29940f);}},_0x3039b9=await createServer(),_0x5e0714=await _0x3039b9['get'](_0x2218ba(0x174)+testBase+_0x2218ba(0x19e));_0x5e67a5['is'](_0x5e0714[_0x2218ba(0x14f)],0xc8),_0x5e67a5['is'](_0x5e0714[_0x2218ba(0x17f)][_0x2218ba(0x185)],_0x2218ba(0x187)),_0x5e67a5['is'](_0x5e0714['body'][_0x2218ba(0x15c)],_0x487bd5[_0x2218ba(0x16d)](parseInt,_0x5e0714[_0x2218ba(0x17f)][_0x2218ba(0x19d)]));}),test(_0x9bc0b2(0x172),async _0x45869a=>{const _0x453bd7=_0x9bc0b2,_0x593c82={'NCLOQ':function(_0x2ce217){return _0x2ce217();}},_0x19ad95=await _0x593c82['NCLOQ'](createServer),_0x7a3698=await _0x19ad95[_0x453bd7(0x15f)]('/render/abc');_0x45869a['is'](_0x7a3698['status'],0x193);}),test(_0x9bc0b2(0x198),async _0x5af36b=>{const _0x2e21a5=_0x9bc0b2,_0x35ceaa=await createServer(),_0x43d37d=await _0x35ceaa[_0x2e21a5(0x15f)]('/render/http://unknown.blah.com');_0x5af36b['is'](_0x43d37d['status'],0x190);}),test(_0x9bc0b2(0x17c),async _0x4cd0cb=>{const _0x406eb0=_0x9bc0b2,_0x374ac0=await createServer(),_0x402e3c=await _0x374ac0[_0x406eb0(0x15f)](_0x406eb0(0x176));_0x4cd0cb['is'](_0x402e3c[_0x406eb0(0x14f)],0x193);}),test(_0x9bc0b2(0x179),async _0x7c362=>{const _0x550217=_0x9bc0b2,_0x29324a={'CfChR':function(_0xa8e3d3){return _0xa8e3d3();}},_0x57b620=await _0x29324a[_0x550217(0x186)](createServer),_0x1070e4=await _0x57b620[_0x550217(0x15f)](_0x550217(0x188)+testBase+_0x550217(0x156));_0x7c362['is'](_0x1070e4[_0x550217(0x14f)],0xc8),_0x7c362[_0x550217(0x18d)](_0x1070e4[_0x550217(0x192)]['indexOf'](_0x550217(0x190))!=-0x1);}),test(_0x9bc0b2(0x194),async _0x59db1e=>{const _0x3d1540=_0x9bc0b2,_0x327755=await createServer({'renderOnly':[testBase]});let _0x54fa4e=await _0x327755[_0x3d1540(0x15f)](_0x3d1540(0x188)+testBase+_0x3d1540(0x19e));_0x59db1e['is'](_0x54fa4e[_0x3d1540(0x14f)],0xc8),_0x54fa4e=await _0x327755['get'](_0x3d1540(0x18a)),_0x59db1e['is'](_0x54fa4e[_0x3d1540(0x14f)],0x193);});