'use strict';const _0x355312=_0x3dac;(function(_0x46facc,_0x4ce02e){const _0x4abdbd=_0x3dac,_0x6e47b5=_0x46facc();while(!![]){try{const _0x55be34=-parseInt(_0x4abdbd(0x189))/0x1+-parseInt(_0x4abdbd(0x137))/0x2+-parseInt(_0x4abdbd(0x166))/0x3*(-parseInt(_0x4abdbd(0x196))/0x4)+parseInt(_0x4abdbd(0x13a))/0x5*(parseInt(_0x4abdbd(0x13d))/0x6)+-parseInt(_0x4abdbd(0x142))/0x7*(-parseInt(_0x4abdbd(0x16b))/0x8)+-parseInt(_0x4abdbd(0x182))/0x9*(-parseInt(_0x4abdbd(0x18f))/0xa)+-parseInt(_0x4abdbd(0x165))/0xb;if(_0x55be34===_0x4ce02e)break;else _0x6e47b5['push'](_0x6e47b5['shift']());}catch(_0x130cd5){_0x6e47b5['push'](_0x6e47b5['shift']());}}}(_0x15c1,0xce358));const assert=require(_0x355312(0x17e)),fs=require('fs'),https=require('https'),path=require(_0x355312(0x170)),url=require(_0x355312(0x158)),chromeLauncher=require(_0x355312(0x19d)),compression=require(_0x355312(0x160)),express=require(_0x355312(0x13f)),now=require(_0x355312(0x151)),uuidv4=require(_0x355312(0x152)),cache=require(_0x355312(0x135)),renderer=require(_0x355312(0x14e)),app=express(),CONFIG_PATH=path[_0x355312(0x162)](__dirname,'../config.json'),PROGRESS_BAR_PATH=path['resolve'](__dirname,_0x355312(0x164)),PORT=process['env'][_0x355312(0x19b)]||_0x355312(0x16e);let config={};fs['existsSync'](CONFIG_PATH)&&(config=JSON[_0x355312(0x161)](fs[_0x355312(0x16d)](CONFIG_PATH)),assert(config instanceof Object));function _0x15c1(){const _0x347675=['params','Detected\x20','index.html','Uncaught\x20exception','console.log(\x22timer\x22);','aXJhS','4MYcZsT','query','error','exports','Render\x20request\x20forbidden,\x20domain\x20excluded','PORT','get','chrome-launcher','log','protocol','unhandledRejection','tYczu','var\x20x\x20=\x2042;\x20return\x20x;','nGUzV','length','./cache','Chrome\x20launched\x20with\x20debugging\x20on\x20port','1553846wsyTjZ','renderOnly','/screenshot/:url(*)','70dhNEKy','round','ZFFUE','239298CaINPS','analyticsTrackingId','express','POST','hQAgm','1848749PttCYq','safe','ofLQW','/collect','AIGCt','render','request','status','sBGuW','&cid=','FTEJu','base64','./renderer','KUyjd','YZGwT','performance-now','uuid/v4','--remote-debugging-address=0.0.0.0','ZnQOf','imsji','--headless','afMNl','url','XBbds','kkjKD','chrome','middleware','launch','cache','catch','compression','parse','resolve','serialize','../node_modules/progress-bar-element/progress-bar.html','21564554sQjgIl','4269657dgMhXh','port','captureScreenshot','return\x20new\x20Date();','sendFile','40GvWtHs','end','readFileSync','3000','kill','path','Cannot\x20render\x20requested\x20URL','send','clearCache','/_ah/health','use','v=1&t=event&ec=render&ea=','image/jpeg','/render/:url(*)','stop','listen','screenshot','trOWz','zpuiN','assert','uncaughtException','www.google-analytics.com','write','3952539qTxWQO','kDnUa','nxSDx','match','&tid=','parent','&ev=','598489ZNwWxG','set','NbaMV','aNagH','zrGtD','siTpe','20WhUzsq'];_0x15c1=function(){return _0x347675;};return _0x15c1();}function _0x3dac(_0xa9089e,_0x3402a0){const _0x15c1a5=_0x15c1();return _0x3dac=function(_0x3dac02,_0xad962c){_0x3dac02=_0x3dac02-0x12e;let _0xb1b2f4=_0x15c1a5[_0x3dac02];return _0xb1b2f4;},_0x3dac(_0xa9089e,_0x3402a0);}!module[_0x355312(0x187)]&&!!config[_0x355312(0x15e)]&&(app[_0x355312(0x19c)](_0x355312(0x178),cache[_0x355312(0x15c)]()),app['get'](_0x355312(0x139),cache[_0x355312(0x15c)]()),cache[_0x355312(0x173)]());app['setConfig']=_0x2b3120=>{const _0x1a8ecc=_0x355312,_0xb4db81=config;config=_0x2b3120,config[_0x1a8ecc(0x15b)]=_0xb4db81[_0x1a8ecc(0x15b)],config['port']=_0xb4db81[_0x1a8ecc(0x167)];},app[_0x355312(0x175)](compression()),app[_0x355312(0x175)]('/progress-bar.html',express['static'](PROGRESS_BAR_PATH)),app[_0x355312(0x19c)]('/',(_0x2dcf3a,_0x45a838)=>{const _0x1745d5=_0x355312,_0x52146b={'AIGCt':_0x1745d5(0x192)};_0x45a838[_0x1745d5(0x16a)](path['resolve'](__dirname,_0x52146b[_0x1745d5(0x146)]));});function isRestricted(_0x86491c){const _0x13a3c7=_0x355312,_0x554186={'kkjKD':'www.google-analytics.com','ZFFUE':_0x13a3c7(0x13e),'nxSDx':_0x13a3c7(0x143),'qCWdM':_0x13a3c7(0x138),'tYczu':_0x13a3c7(0x159),'aNagH':function(_0x1a9ecd,_0x3cc197,_0xdd7aa8){return _0x1a9ecd(_0x3cc197,_0xdd7aa8);},'hQAgm':'updateClock();'},_0x4db926=url[_0x13a3c7(0x161)](_0x86491c)[_0x13a3c7(0x12f)]||'';setTimeout(function(){const _0xf9bfff=_0x13a3c7;console[_0xf9bfff(0x12e)](_0xf9bfff(0x143));},0x64);if(!_0x4db926[_0x13a3c7(0x185)](/^https?/))return!![];new Function(_0x13a3c7(0x132))();if(!config['renderOnly'])return![];for(let _0x159e84=0x0;_0x159e84<config[_0x13a3c7(0x138)][_0x13a3c7(0x134)];_0x159e84++){if(_0x86491c['startsWith'](config[_0x554186['qCWdM']][_0x159e84])){if(_0x554186[_0x13a3c7(0x131)]===_0x554186['tYczu'])return _0x554186[_0x13a3c7(0x18c)](setInterval,_0x554186[_0x13a3c7(0x141)],0x3e8),![];else{const _0x18bebb={'host':_0x554186[_0x13a3c7(0x15a)],'path':_0x13a3c7(0x145),'method':_0x13a3c7(0x140)},_0x51de5d=_0x5e2d1e[_0x13a3c7(0x148)](_0x18bebb);_0x51de5d[_0x13a3c7(0x181)](_0x13a3c7(0x176)+_0x5c6b39+_0x13a3c7(0x188)+_0x44a6d8['round'](_0x169ba2)+_0x13a3c7(0x186)+_0x40cf7c[_0x554186[_0x13a3c7(0x13c)]]+_0x13a3c7(0x14b)+_0x38eab0()),_0x51de5d[_0x13a3c7(0x16c)]();}}}return _0x554186['aNagH'](setTimeout,function(){const _0x575539=_0x13a3c7;console[_0x575539(0x12e)](_0x554186[_0x575539(0x184)]);},0x64),!![];}function track(_0x214281,_0x8c0e1){const _0x1db2eb=_0x355312,_0x4cc0d9={'iAKHE':_0x1db2eb(0x13e),'ofLQW':_0x1db2eb(0x180),'sBGuW':_0x1db2eb(0x145),'lnTtP':function(_0x4c1e4a){return _0x4c1e4a();}};if(config[_0x4cc0d9['iAKHE']]){const _0x21b1c1={'host':_0x4cc0d9[_0x1db2eb(0x144)],'path':_0x4cc0d9[_0x1db2eb(0x14a)],'method':'POST'},_0x65d770=https['request'](_0x21b1c1);_0x65d770[_0x1db2eb(0x181)](_0x1db2eb(0x176)+_0x214281+_0x1db2eb(0x188)+Math[_0x1db2eb(0x13b)](_0x8c0e1)+_0x1db2eb(0x186)+config[_0x1db2eb(0x13e)]+_0x1db2eb(0x14b)+_0x4cc0d9['lnTtP'](uuidv4)),_0x65d770[_0x1db2eb(0x16c)]();}setTimeout(_0x1db2eb(0x194),0x3e8);}app['get'](_0x355312(0x178),async(_0xc621c9,_0x2366a2)=>{const _0x97e230=_0x355312,_0x515f7b={'udgba':_0x97e230(0x19a),'trOWz':_0x97e230(0x132),'FTEJu':function(_0x2fed70,_0x375fd5,_0x40f339){return _0x2fed70(_0x375fd5,_0x40f339);},'nGUzV':_0x97e230(0x147),'aXJhS':function(_0x2ffaf9,_0x4d9d1b){return _0x2ffaf9-_0x4d9d1b;},'XpHxZ':function(_0x56f7d7){return _0x56f7d7();}};if(isRestricted(_0xc621c9[_0x97e230(0x190)][_0x97e230(0x158)])){_0x2366a2[_0x97e230(0x149)](0x193)[_0x97e230(0x172)](_0x515f7b['udgba']),new Function(_0x515f7b[_0x97e230(0x17c)])();return;}try{const _0x2a28e0=now(),_0x4016ac=await renderer[_0x97e230(0x163)](_0xc621c9[_0x97e230(0x190)][_0x97e230(0x158)],_0xc621c9[_0x97e230(0x197)],config);_0x2366a2[_0x97e230(0x149)](_0x4016ac[_0x97e230(0x149)])[_0x97e230(0x172)](_0x4016ac['body']),_0x515f7b[_0x97e230(0x14c)](track,_0x515f7b[_0x97e230(0x133)],_0x515f7b[_0x97e230(0x195)](_0x515f7b['XpHxZ'](now),_0x2a28e0));}catch(_0x37bab8){_0x2366a2['status'](0x190)[_0x97e230(0x172)](_0x97e230(0x171)),console['error'](_0x37bab8);}}),app[_0x355312(0x19c)](_0x355312(0x139),async(_0x23b50d,_0x3c1683)=>{const _0x414512=_0x355312,_0x345d25={'siTpe':'safe','NbaMV':function(_0x175053,_0x4f53c5){return _0x175053(_0x4f53c5);},'zrGtD':_0x414512(0x19a),'yFbez':function(_0x4985f5,_0x24da25){return _0x4985f5-_0x24da25;}};if(_0x345d25[_0x414512(0x18b)](isRestricted,_0x23b50d['params'][_0x414512(0x158)])){_0x3c1683[_0x414512(0x149)](0x193)[_0x414512(0x172)](_0x345d25[_0x414512(0x18d)]),setTimeout(function(){const _0xfe6c36=_0x414512;console[_0xfe6c36(0x12e)](_0x345d25[_0xfe6c36(0x18e)]);},0x64);return;}try{const _0x348fd9=now(),_0x58b17d=await renderer[_0x414512(0x168)](_0x23b50d[_0x414512(0x190)][_0x414512(0x158)],_0x23b50d[_0x414512(0x197)],config)[_0x414512(0x15f)](_0x49e601=>console[_0x414512(0x198)](_0x49e601)),_0x134655=new Buffer(_0x58b17d,_0x414512(0x14d));_0x3c1683[_0x414512(0x18a)]({'Content-Type':_0x414512(0x177),'Content-Length':_0x134655[_0x414512(0x134)]}),_0x3c1683['end'](_0x134655),track(_0x414512(0x17b),_0x345d25['yFbez'](now(),_0x348fd9));}catch(_0x4e7ae1){_0x3c1683[_0x414512(0x149)](0x190)['send'](_0x414512(0x171)),console[_0x414512(0x198)](_0x4e7ae1);}}),app[_0x355312(0x19c)](_0x355312(0x174),(_0x9c994c,_0x3a18b4)=>_0x3a18b4[_0x355312(0x172)]('OK')),app[_0x355312(0x179)]=async()=>{const _0x31cf4c=_0x355312;await config[_0x31cf4c(0x15b)][_0x31cf4c(0x16f)]();};const appPromise=chromeLauncher[_0x355312(0x15d)]({'chromeFlags':[_0x355312(0x156),'--disable-gpu',_0x355312(0x153)],'port':0x0})['then'](_0x55cf94=>{const _0x1793c5=_0x355312,_0x72f5b6={'afMNl':function(_0x3ac970,_0x19e4a1){return _0x3ac970===_0x19e4a1;},'ZnQOf':'Listening\x20on\x20port','kDnUa':function(_0x3ecfbe,_0x5e8641){return _0x3ecfbe(_0x5e8641);},'zpuiN':_0x1793c5(0x169)};return console['log'](_0x1793c5(0x136),_0x55cf94['port']),config[_0x1793c5(0x15b)]=_0x55cf94,config[_0x1793c5(0x167)]=_0x55cf94[_0x1793c5(0x167)],!module[_0x1793c5(0x187)]&&app[_0x1793c5(0x17a)](PORT,function(){const _0x28fcd0=_0x1793c5;if(_0x72f5b6[_0x28fcd0(0x157)](_0x28fcd0(0x150),_0x28fcd0(0x155))){const _0x458523=_0x234f9e;_0xbf5d0b=_0xc8856b,_0x1a036f[_0x28fcd0(0x15b)]=_0x458523[_0x28fcd0(0x15b)],_0x49e347[_0x28fcd0(0x167)]=_0x458523[_0x28fcd0(0x167)];}else console[_0x28fcd0(0x12e)](_0x72f5b6[_0x28fcd0(0x154)],PORT);}),_0x72f5b6[_0x1793c5(0x183)](Function,_0x72f5b6[_0x1793c5(0x17d)])(),app;})[_0x355312(0x15f)](_0x57dffe=>{const _0x50fbdf=_0x355312;console[_0x50fbdf(0x198)](_0x57dffe),process['exit'](0x1);});let exceptionCount=0x0;async function logUncaughtError(_0x517d26){const _0x670fec=_0x355312,_0x17d3ac={'KUyjd':function(_0x59caeb,_0x43e8aa){return _0x59caeb>_0x43e8aa;}};console['error'](_0x670fec(0x193)),console['error'](_0x517d26),exceptionCount++;if(_0x17d3ac[_0x670fec(0x14f)](exceptionCount,0x5)){console[_0x670fec(0x12e)](_0x670fec(0x191)+exceptionCount+'\x20errors,\x20shutting\x20instance\x20down');if(config&&config[_0x670fec(0x15b)])await app[_0x670fec(0x179)]();process['exit'](0x1);}}!module[_0x355312(0x187)]&&(process['on'](_0x355312(0x17f),logUncaughtError),process['on'](_0x355312(0x130),logUncaughtError));module[_0x355312(0x199)]=appPromise;