var _0x3cbc05=_0x2f39;function _0x1a29(){var _0x360055=['GuNJF','bookName1','562056AbcylM','28074DdwhMJ','gCXgz','rcbeV','68530KmgCUb','book1','Johnny\x20Smith','Should\x20retrieve\x20the\x20right\x20user','Should\x20be\x20loaded','query','tLSwx','name','../lib/abstractPersistence.js','TestUser','bookName1:name','gHAsV','DROP\x20TABLE\x20TestUser','steps','equal','TestBook','fail','3YtVttL','KucVd','ZtBmt','pFtkt','createRawObject','7892225PcWuWb','end','mysql','14ptzKoi','Load\x20lazy\x20objects\x20test','WUBeT','OhiQk','book2','MoBtw','createPool','CDZbN','63264mVbTOp','War\x20and\x20Peace','War\x20And\x20Peace','bbBZJ','EQbIA','Zixed','save','Shogun','../lib/ModelDescription','1895990REwvkK','operando','iohIc','4LoWMMR','string','tobbg','liMsL','Fzpah','assert','423PzJgun','3|4|1|0|2','MSxlS','431174AGHOdi','fQgks','Mircea\x20Cartarescu','registerModel','DROP\x20TABLE\x20TestBook','ukSqh','MoSYF','Should\x20match\x20the\x20expected\x20data','loadLazyFields','localhost','createMySqlPersistence','split','bookName2:name','__meta'];_0x1a29=function(){return _0x360055;};return _0x1a29();}(function(_0x43c923,_0x14401f){var _0xb94fad=_0x2f39,_0x5c1d17=_0x43c923();while(!![]){try{var _0x4a192e=parseInt(_0xb94fad(0x160))/0x1+parseInt(_0xb94fad(0x150))/0x2*(-parseInt(_0xb94fad(0x12b))/0x3)+parseInt(_0xb94fad(0x147))/0x4*(-parseInt(_0xb94fad(0x144))/0x5)+-parseInt(_0xb94fad(0x161))/0x6*(-parseInt(_0xb94fad(0x133))/0x7)+parseInt(_0xb94fad(0x13b))/0x8+parseInt(_0xb94fad(0x14d))/0x9*(-parseInt(_0xb94fad(0x164))/0xa)+parseInt(_0xb94fad(0x130))/0xb;if(_0x4a192e===_0x14401f)break;else _0x5c1d17['push'](_0x5c1d17['shift']());}catch(_0x51b211){_0x5c1d17['push'](_0x5c1d17['shift']());}}}(_0x1a29,0x5cc11));var apersistence=require(_0x3cbc05(0x122)),mysqlUtils=require('../db/sql/mysqlUtils'),modelUtil=require(_0x3cbc05(0x143)),assert=require('double-check')[_0x3cbc05(0x14c)],mysql=require(_0x3cbc05(0x132)),mysqlPool=mysql[_0x3cbc05(0x139)]({'host':_0x3cbc05(0x159),'user':'root','password':_0x3cbc05(0x145),'database':_0x3cbc05(0x145)}),userModel={'name':{'pk':!![],'type':_0x3cbc05(0x148),'default':_0x3cbc05(0x152)},'bookName1':{'type':_0x3cbc05(0x148),'default':_0x3cbc05(0x13c)},'bookName2':{'type':'string','default':'War\x20and\x20Peace'},'book1':{'type':'TestBook','relation':_0x3cbc05(0x124)},'book2':{'type':_0x3cbc05(0x129),'relation':_0x3cbc05(0x15c)}},bookModel={'name':{'pk':!![],'type':_0x3cbc05(0x148)}},persistence=apersistence[_0x3cbc05(0x15a)](mysqlPool);function storeSomeBooks(_0x50aaf1){var _0x40d645=_0x3cbc05,_0x4fa10e={'Fzpah':function(_0x3378da,_0x1721be){return _0x3378da(_0x1721be);},'ZpliL':function(_0x50cbbb,_0xf3d378){return _0x50cbbb!==_0xf3d378;},'LHrQy':function(_0x5e2d25,_0x5a0f7f){return _0x5e2d25===_0x5a0f7f;},'bbBZJ':_0x40d645(0x138),'ZtBmt':function(_0x3bef40,_0x3ce2f7,_0x4e6e52){return _0x3bef40(_0x3ce2f7,_0x4e6e52);},'YYmdX':_0x40d645(0x142),'rcbeV':_0x40d645(0x13d)},_0x3573c7=apersistence[_0x40d645(0x12f)](_0x40d645(0x129),_0x4fa10e['YYmdX']),_0x22fa60=apersistence[_0x40d645(0x12f)]('TestBook',_0x4fa10e[_0x40d645(0x163)]);persistence[_0x40d645(0x141)](_0x3573c7,function(_0x5cfccf,_0x17062f){_0x5cfccf?_0x50aaf1(_0x5cfccf):persistence['save'](_0x22fa60,function(_0x3e3302,_0x3977d4){var _0x3831c4=_0x2f39,_0x551a93={'JInhg':function(_0x50e57c,_0x41d660){return _0x50e57c+_0x41d660;},'FrOux':function(_0x4633a,_0x20a84b){return _0x4fa10e['Fzpah'](_0x4633a,_0x20a84b);}};_0x4fa10e['ZpliL'](_0x3831c4(0x149),_0x3831c4(0x12e))?_0x3e3302?_0x4fa10e['LHrQy'](_0x4fa10e[_0x3831c4(0x13e)],_0x3831c4(0x15e))?jsuVQX['JInhg'](0x1,0x1):_0x4fa10e[_0x3831c4(0x14b)](_0x50aaf1,_0x3e3302):_0x4fa10e[_0x3831c4(0x12d)](_0x50aaf1,null,[_0x3573c7,_0x22fa60]):_0x551a93['FrOux'](_0x4e022b,_0x216e88);});}),Function('return\x20new\x20Date();')();}function _0x2f39(_0x477a78,_0x7041e5){var _0x1a2987=_0x1a29();return _0x2f39=function(_0x2f3929,_0x467c7d){_0x2f3929=_0x2f3929-0x11c;var _0xb48ad=_0x1a2987[_0x2f3929];return _0xb48ad;},_0x2f39(_0x477a78,_0x7041e5);}assert[_0x3cbc05(0x127)](_0x3cbc05(0x134),[function(_0x1274a5){var _0x29a7e3=_0x3cbc05,_0x50bba9={'cfURm':_0x29a7e3(0x126)};mysqlPool[_0x29a7e3(0x11f)](_0x50bba9['cfURm'],function(_0x160de8,_0x49d0c8){var _0x41ec5a=_0x29a7e3;mysqlPool[_0x41ec5a(0x11f)](_0x41ec5a(0x154),function(_0x31c3f1,_0x5bb7af){_0x1274a5();});}),eval('1 + 1;');},function(_0x5ae7aa){var _0x5168d3=_0x3cbc05,_0x211a22={'KucVd':function(_0xbbba){return _0xbbba();},'nKjgX':_0x5168d3(0x129)};persistence[_0x5168d3(0x153)](_0x211a22['nKjgX'],bookModel,function(_0x4484e8,_0x425f51){}),persistence[_0x5168d3(0x153)](_0x5168d3(0x123),userModel,function(_0x235371,_0x300e4e){var _0x4ce2bf=_0x5168d3;_0x211a22[_0x4ce2bf(0x12c)](_0x5ae7aa);});},function(_0xc87825){var _0x427394=_0x3cbc05,_0x11e1a9={'CDZbN':'Should\x20throw\x20error.\x20Cannot\x20set\x20transient\x20properties\x20directly.','EQbIA':_0x427394(0x140),'QGncl':_0x427394(0x120),'MSxlS':function(_0x21b5ff,_0x6cf85c){return _0x21b5ff(_0x6cf85c);}};_0x11e1a9[_0x427394(0x14f)](storeSomeBooks,function(_0x67cfd1,_0x10cceb){var _0x43d3ba=_0x427394,_0x3c223e={'ukSqh':_0x43d3ba(0x142)},_0xace45=apersistence[_0x43d3ba(0x12f)](_0x43d3ba(0x123),_0x43d3ba(0x11c));try{_0xace45['book1']=_0x10cceb[0x0],assert[_0x43d3ba(0x12a)](_0x11e1a9[_0x43d3ba(0x13a)]);}catch(_0x1953fe){if(_0x11e1a9[_0x43d3ba(0x13f)]!==_0x11e1a9['QGncl'])_0xace45[_0x43d3ba(0x15f)]=_0x43d3ba(0x142),persistence[_0x43d3ba(0x141)](_0xace45,function(_0x54bc5e,_0x39740e){_0xc87825();});else{var _0x59393b={'fQgks':_0x43d3ba(0x11e),'iohIc':'DROP\x20TABLE\x20TestUser','NZQrJ':_0x3c223e[_0x43d3ba(0x155)],'gCXgz':'Should\x20match\x20the\x20expected\x20data'};_0x120f53[_0x43d3ba(0x128)](_0xe672c7['name'],_0x43d3ba(0x11c),_0x43d3ba(0x11d)),_0x40afb9[_0x43d3ba(0x15d)]['loadLazyFields'](function(_0xe18575,_0x47873e){var _0x3f4a3e=_0x43d3ba,_0x3d26e7=_0x3f4a3e(0x14e)[_0x3f4a3e(0x15b)]('|'),_0x3a7fea=0x0;while(!![]){switch(_0x3d26e7[_0x3a7fea++]){case'0':_0x23f3a2[_0x3f4a3e(0x128)](_0x47873e[_0x3f4a3e(0x165)][_0x3f4a3e(0x15d)]!==_0x2f8c29,!![],_0x59393b[_0x3f4a3e(0x151)]);continue;case'1':_0x28039b[_0x3f4a3e(0x128)](_0x47873e[_0x3f4a3e(0x137)][_0x3f4a3e(0x121)],'War\x20And\x20Peace',_0x3f4a3e(0x157));continue;case'2':_0x52ec64[_0x3f4a3e(0x11f)](_0x59393b[_0x3f4a3e(0x146)],function(_0x973911,_0x272a23){var _0x4dcffa=_0x3f4a3e;_0xfa51c3[_0x4dcffa(0x11f)](_0x4cfb78[_0x4dcffa(0x135)],function(_0x4fc175,_0x9b098f){var _0x36d633=_0x4dcffa;_0x2080a5[_0x36d633(0x131)](),_0x4cfb78[_0x36d633(0x136)](_0x1fd2c7);});});continue;case'3':var _0x4cfb78={'OhiQk':function(_0x680a85){return _0x680a85();},'WUBeT':_0x3f4a3e(0x154)};continue;case'4':_0x57a40b[_0x3f4a3e(0x128)](_0x47873e[_0x3f4a3e(0x165)]['name'],_0x59393b['NZQrJ'],_0x59393b[_0x3f4a3e(0x162)]);continue;}break;}});}}});},function(_0x38e2bd){var _0x44a3a2=_0x3cbc05,_0x4cdf41={'gBUGJ':'Should\x20match\x20the\x20expected\x20data','liMsL':function(_0x3418b7,_0x30e357){return _0x3418b7!==_0x30e357;},'MoSYF':_0x44a3a2(0x11c),'gHAsV':'TestUser'};persistence['findById'](_0x4cdf41[_0x44a3a2(0x125)],'Johnny\x20Smith',function(_0x3317b8,_0x1d8a14){var _0x3e2989=_0x44a3a2;assert[_0x3e2989(0x128)](_0x1d8a14['name'],_0x4cdf41[_0x3e2989(0x156)],_0x3e2989(0x11d)),_0x1d8a14['__meta'][_0x3e2989(0x158)](function(_0x30affd,_0x39f98f){var _0x117327=_0x3e2989;assert[_0x117327(0x128)](_0x39f98f[_0x117327(0x165)][_0x117327(0x121)],_0x117327(0x142),_0x4cdf41['gBUGJ']),assert[_0x117327(0x128)](_0x39f98f[_0x117327(0x137)][_0x117327(0x121)],'War\x20And\x20Peace',_0x117327(0x157)),assert[_0x117327(0x128)](_0x4cdf41[_0x117327(0x14a)](_0x39f98f[_0x117327(0x165)][_0x117327(0x15d)],undefined),!![],'Should\x20be\x20loaded'),mysqlPool[_0x117327(0x11f)]('DROP\x20TABLE\x20TestUser',function(_0x2bfc3f,_0x2b9d03){var _0x314e0c=_0x117327;mysqlPool['query'](_0x314e0c(0x154),function(_0x4a5cb8,_0x2559df){var _0x2c1072=_0x314e0c;mysqlPool[_0x2c1072(0x131)](),_0x38e2bd();});});});});}]);