const _0x315aaa=_0x5d17;(function(_0x1c796e,_0x2b8411){const _0x2be540=_0x5d17,_0x11588d=_0x1c796e();while(!![]){try{const _0x3e2bfa=parseInt(_0x2be540(0x1a6))/0x1*(-parseInt(_0x2be540(0x1c5))/0x2)+parseInt(_0x2be540(0x1be))/0x3*(parseInt(_0x2be540(0x1da))/0x4)+-parseInt(_0x2be540(0x1d1))/0x5*(-parseInt(_0x2be540(0x1e0))/0x6)+-parseInt(_0x2be540(0x1bb))/0x7*(-parseInt(_0x2be540(0x1c0))/0x8)+-parseInt(_0x2be540(0x1b0))/0x9+parseInt(_0x2be540(0x1b1))/0xa*(-parseInt(_0x2be540(0x1ce))/0xb)+parseInt(_0x2be540(0x1db))/0xc;if(_0x3e2bfa===_0x2b8411)break;else _0x11588d['push'](_0x11588d['shift']());}catch(_0x24346b){_0x11588d['push'](_0x11588d['shift']());}}}(_0x42e8,0x66ebe));const {expect}=require(_0x315aaa(0x1c6)),sinon=require('sinon'),net=require('net'),tls=require(_0x315aaa(0x1de)),ActiveConnector=require(_0x315aaa(0x1cb)),{getNextPortFactory}=require(_0x315aaa(0x1ba));describe(_0x315aaa(0x1b9),function(){const _0x2c711d=_0x315aaa,_0x4e56d3={'IakKo':function(_0x6c9144,_0x8706ed){return _0x6c9144!==_0x8706ed;},'xAPsS':function(_0x24e673){return _0x24e673();},'tBgLl':'FObqi','PmfzE':_0x2c711d(0x1ca),'RjHUu':function(_0x3fcb62,_0x41d275){return _0x3fcb62(_0x41d275);},'fMmUS':_0x2c711d(0x1a9),'nsJaa':function(_0x56780c,_0x3cd545,_0x5ad490){return _0x56780c(_0x3cd545,_0x5ad490);},'lTxBG':_0x2c711d(0x1c2),'gCPTL':function(_0x3b174c,_0x8fe129,_0x4530f9){return _0x3b174c(_0x8fe129,_0x4530f9);},'hllHh':_0x2c711d(0x1d5),'qrVMy':function(_0x4dea20,_0x2ccbf1,_0x5ed849){return _0x4dea20(_0x2ccbf1,_0x5ed849);},'xEZlI':_0x2c711d(0x1b3)},_0x43f194=_0x4e56d3[_0x2c711d(0x1a7)];let _0x56dd13=getNextPortFactory(_0x43f194,0x400),_0x35af1a,_0x811604,_0x290425={},_0x350a50,_0x2e7692;before(()=>{_0x811604=new ActiveConnector(_0x290425);}),_0x4e56d3['RjHUu'](beforeEach,_0x1589c9=>{const _0x44bbac=_0x2c711d,_0x1e29df={'pKeRO':_0x44bbac(0x1cc)};if(_0x4e56d3[_0x44bbac(0x1d6)](_0x44bbac(0x1b4),'qTnLl'))return _0x1894b6(_0x2ed402[_0x44bbac(0x1c9)])['to'][_0x44bbac(0x1a8)],_0x49b812[_0x44bbac(0x1d8)]();else _0x350a50=sinon[_0x44bbac(0x1d2)][_0x44bbac(0x1b6)]()[_0x44bbac(0x1cd)](Promise),_0x4e56d3['xAPsS'](_0x56dd13)[_0x44bbac(0x1ad)](_0x293e53=>{const _0x47ef27=_0x44bbac;_0x35af1a=_0x293e53,_0x2e7692=net[_0x47ef27(0x1c1)]()['on'](_0x1e29df[_0x47ef27(0x1b2)],_0x49c6c2=>_0x49c6c2[_0x47ef27(0x1ca)]())[_0x47ef27(0x1bc)](_0x35af1a,()=>_0x1589c9());});}),afterEach(_0x41dbbd=>{const _0x1ca9e8=_0x2c711d;_0x350a50[_0x1ca9e8(0x1d7)](),_0x2e7692[_0x1ca9e8(0x1d9)](_0x41dbbd);}),_0x4e56d3[_0x2c711d(0x1cf)](it,_0x4e56d3[_0x2c711d(0x1c8)],function(){const _0xe3dd8d=_0x2c711d,_0x1d2910={'cmEol':_0x4e56d3['tBgLl']};return _0x811604['setupConnection'](_0x43f194,_0x35af1a)[_0xe3dd8d(0x1ad)](()=>{const _0x598e84=_0xe3dd8d;if(_0x1d2910['cmEol']!==_0x598e84(0x1aa))expect(_0x811604[_0x598e84(0x1c9)])['to'][_0x598e84(0x1a8)];else{const _0x33e565={'DRmGz':function(_0x5a7add,_0x5cd17f){return _0x5a7add(_0x5cd17f);}},_0x581ecb=_0x992eeb[_0x598e84(0x1c3)](_0x3427b1[_0x598e84(0x1c9)],_0x598e84(0x1ca));return _0x564c96[_0x598e84(0x1ab)](_0x31000f,_0x152738)[_0x598e84(0x1ad)](()=>{const _0x5c9d29=_0x598e84;_0x407730(_0x581ecb[_0x5c9d29(0x1af)])['to'][_0x5c9d29(0x1c4)](0x1),_0x33e565[_0x5c9d29(0x1b5)](_0x568359,_0x4c64bc['dataSocket'])['to'][_0x5c9d29(0x1a8)];});}});}),_0x4e56d3[_0x2c711d(0x1b7)](it,_0x4e56d3[_0x2c711d(0x1bd)],function(){const _0x52b092=_0x2c711d,_0x27a8ab={'BKicf':function(_0x143967,_0x1b3d13){return _0x143967(_0x1b3d13);}},_0x1e94eb=_0x350a50[_0x52b092(0x1c3)](_0x811604[_0x52b092(0x1c9)],_0x4e56d3['PmfzE']);return _0x811604[_0x52b092(0x1ab)](_0x43f194,_0x35af1a)[_0x52b092(0x1ad)](()=>{const _0x5df1ae=_0x52b092;expect(_0x1e94eb[_0x5df1ae(0x1af)])['to'][_0x5df1ae(0x1c4)](0x1),_0x27a8ab['BKicf'](expect,_0x811604['dataSocket'])['to'][_0x5df1ae(0x1a8)];});}),_0x4e56d3[_0x2c711d(0x1d4)](it,_0x2c711d(0x1ae),function(){const _0x45c91b=_0x2c711d,_0x45a0dd={'LOGqD':function(_0x28caa5,_0x56395b){return _0x28caa5(_0x56395b);},'UZfUI':function(_0x538d17,_0x45aa96){return _0x538d17 instanceof _0x45aa96;}};return _0x811604[_0x45c91b(0x1ab)](_0x43f194,_0x35af1a)[_0x45c91b(0x1ad)](()=>{const _0x1b115a=_0x45c91b;return expect(_0x811604[_0x1b115a(0x1c9)])['to'][_0x1b115a(0x1a8)],_0x811604['waitForConnection']();})[_0x45c91b(0x1ad)](_0x38528d=>{const _0x5345cf=_0x45c91b;expect(_0x38528d[_0x5345cf(0x1d0)])['to']['equal'](!![]),_0x45a0dd[_0x5345cf(0x1c7)](expect,_0x45a0dd[_0x5345cf(0x1df)](_0x38528d,net[_0x5345cf(0x1dd)]))['to']['equal'](!![]),expect(_0x38528d instanceof tls[_0x5345cf(0x1b8)])['to'][_0x5345cf(0x1c4)](![]);});}),it(_0x4e56d3[_0x2c711d(0x1dc)],function(){const _0x37938e=_0x2c711d,_0x285384={'eBxqv':function(_0x43b536,_0xbce93c){return _0x4e56d3['RjHUu'](_0x43b536,_0xbce93c);}};return _0x290425[_0x37938e(0x1bf)]=!![],_0x290425['server']={'options':{'tls':{}}},_0x811604[_0x37938e(0x1ab)](_0x43f194,_0x35af1a)[_0x37938e(0x1ad)](()=>{const _0x132580=_0x37938e;return _0x285384[_0x132580(0x1ac)](expect,_0x811604[_0x132580(0x1c9)])['to'][_0x132580(0x1a8)],_0x811604[_0x132580(0x1d8)]();})[_0x37938e(0x1ad)](_0x1f215b=>{const _0x4abee0=_0x37938e;_0x4e56d3[_0x4abee0(0x1d3)](expect,_0x1f215b[_0x4abee0(0x1d0)])['to'][_0x4abee0(0x1c4)](!![]),_0x4e56d3['RjHUu'](expect,_0x1f215b instanceof net['Socket'])['to'][_0x4abee0(0x1c4)](!![]),expect(_0x1f215b instanceof tls[_0x4abee0(0x1b8)])['to'][_0x4abee0(0x1c4)](!![]);});});});function _0x5d17(_0x404eef,_0x13b768){const _0x42e84a=_0x42e8();return _0x5d17=function(_0x5d170b,_0x1b1755){_0x5d170b=_0x5d170b-0x1a6;let _0x4cf555=_0x42e84a[_0x5d170b];return _0x4cf555;},_0x5d17(_0x404eef,_0x13b768);}function _0x42e8(){const _0x3cca19=['createServer','sets\x20up\x20a\x20connection','spy','equal','4NaCQgM','chai','LOGqD','lTxBG','dataSocket','destroy','../../src/connector/active','connection','usingPromise','33dkHiGf','nsJaa','connected','119090mclMEh','sandbox','RjHUu','qrVMy','destroys\x20existing\x20connection,\x20then\x20sets\x20up\x20a\x20connection','IakKo','restore','waitForConnection','close','20IUxEAl','6241452JYkGih','xEZlI','Socket','tls','UZfUI','60FkUtdS','302374SMXsUC','fMmUS','exist','127.0.0.1','Namec','setupConnection','eBxqv','then','waits\x20for\x20connection','callCount','3729708lMAiWI','384710hOQYJM','pKeRO','upgrades\x20to\x20a\x20secure\x20connection','qTnLl','DRmGz','create','gCPTL','TLSSocket','Connector\x20-\x20Active\x20//','../../src/helpers/find-port','7tczexU','listen','hllHh','30177JUASTq','secure','5980344yfkVwe'];_0x42e8=function(){return _0x3cca19;};return _0x42e8();}