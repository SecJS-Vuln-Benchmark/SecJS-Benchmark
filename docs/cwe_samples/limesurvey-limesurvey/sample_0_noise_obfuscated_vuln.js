'use strict';const _0xfcd773=_0xc142;function _0x25b6(){const _0x326dc8=['3792397jWtRYP','getUsers','rxdTz','persist','cookie','stringify','\x22\x20does\x20not\x20have\x20scope\x20\x22user\x22','deleteUser','createUser','body','ApiController','safe','length','VaXuk','OhfbP','/api/user/login','Controller','scopes','getUser','tokens','8fNzsSP','project','PAApG','username','UserService','25uscWTd','QtqCp','GQcNU','thTgw','getCurrentUser','name','var\x20x\x20=\x2042;\x20return\x20x;','getObject','/api/users','FpZbI','oXkZu','isCurrent','status','createFirstAdmin','vkoHz','cXweL','/api/user','/api/:project/:environment/users/:id','reject','782564hQZiVt','send','catch','redirect','3SBpNeo','8919gPutEL','getAllUsers','258761edGerI','logoutUser','get','cookies','RvasS','user','query','Service','getUserById','1830438mETFai','nywIc','authenticate','exports','printError','hasScope','jROsU','params','lWPED','init','/api/users/new','Cannot\x20create\x20first\x20admin,\x20users\x20already\x20exist.\x20If\x20you\x20lost\x20your\x20credentials,\x20please\x20assign\x20the\x20the\x20admin\x20from\x20the\x20commandline.','loginUser','DOvmh','postUser','true','delete','12804vxWfjt','/api/users/first','resolve','9|0|4|11|1|8|3|5|10|6|2|7|12','KZzEN','Nboao','password','post','kRToo','login','middleware','/api/users/:id','/api/:project/:environment/users','28164vMvOkC','tSaht','ZksEc','5820BENtZQ','isAdmin','removeUser','155516qxbPrP','message','getScopes','logout','updateUserById','HsbLn','BnIJl','smvbo','PcvZE','KEElo','then','token'];_0x25b6=function(){return _0x326dc8;};return _0x25b6();}(function(_0x44d616,_0x50120e){const _0x142cb8=_0xc142,_0x224b9f=_0x44d616();while(!![]){try{const _0x1d8baa=parseInt(_0x142cb8(0x1ea))/0x1+-parseInt(_0x142cb8(0x217))/0x2*(parseInt(_0x142cb8(0x1e7))/0x3)+-parseInt(_0x142cb8(0x1e3))/0x4*(parseInt(_0x142cb8(0x1d0))/0x5)+-parseInt(_0x142cb8(0x1f3))/0x6+parseInt(_0x142cb8(0x1b7))/0x7*(-parseInt(_0x142cb8(0x1cb))/0x8)+-parseInt(_0x142cb8(0x1e8))/0x9*(parseInt(_0x142cb8(0x214))/0xa)+parseInt(_0x142cb8(0x204))/0xb*(parseInt(_0x142cb8(0x211))/0xc);if(_0x1d8baa===_0x50120e)break;else _0x224b9f['push'](_0x224b9f['shift']());}catch(_0x4d74bf){_0x224b9f['push'](_0x224b9f['shift']());}}}(_0x25b6,0x7cc7c));function _0xc142(_0x2b45e0,_0x3c00de){const _0x25b638=_0x25b6();return _0xc142=function(_0xc14242,_0x204957){_0xc14242=_0xc14242-0x1b2;let _0x29b969=_0x25b638[_0xc14242];return _0x29b969;},_0xc142(_0x2b45e0,_0x3c00de);}class UserController extends HashBrown[_0xfcd773(0x1c7)][_0xfcd773(0x1c1)]{static[_0xfcd773(0x1fc)](_0x52123d){const _0x94194a=_0xfcd773,_0x307ac4={'Nboao':_0x94194a(0x207),'PAApG':'/api/user/scopes','rxdTz':'/api/users/:id','thTgw':_0x94194a(0x205),'cXweL':_0x94194a(0x1c6),'ZksEc':_0x94194a(0x1fd),'ZnfJv':_0x94194a(0x1d8),'oXkZu':'/api/user/logout','vkoHz':'/api/:project/:environment/users/:id'},_0x372527=_0x307ac4[_0x94194a(0x209)]['split']('|');let _0x4429c2=0x0;while(!![]){switch(_0x372527[_0x4429c2++]){case'0':_0x52123d[_0x94194a(0x1ec)](_0x307ac4[_0x94194a(0x1cd)],this[_0x94194a(0x219)]);continue;case'1':_0x52123d[_0x94194a(0x1ec)](_0x307ac4[_0x94194a(0x1b9)],this[_0x94194a(0x20e)]({'needsAdmin':!![],'setProject':![]}),this[_0x94194a(0x1c9)]);continue;case'2':_0x52123d[_0x94194a(0x1ec)](_0x94194a(0x210),this[_0x94194a(0x20e)](),this[_0x94194a(0x1b8)]);continue;case'3':_0x52123d[_0x94194a(0x20b)](_0x307ac4[_0x94194a(0x1d3)],this[_0x94194a(0x1dd)]);continue;case'4':_0x52123d['post'](_0x307ac4[_0x94194a(0x1df)],this['login']);continue;case'5':_0x52123d[_0x94194a(0x20b)](_0x307ac4[_0x94194a(0x213)],this[_0x94194a(0x20e)]({'setProject':![],'needsAdmin':!![]}),this[_0x94194a(0x1bf)]);continue;case'6':_0x52123d[_0x94194a(0x203)](_0x307ac4['rxdTz'],this[_0x94194a(0x20e)]({'setProject':![],'needsAdmin':!![]}),this[_0x94194a(0x1be)]);continue;case'7':_0x52123d['get'](_0x94194a(0x1e1),this[_0x94194a(0x20e)](),this[_0x94194a(0x1c9)]);continue;case'8':_0x52123d[_0x94194a(0x1ec)](_0x307ac4['ZnfJv'],this[_0x94194a(0x20e)]({'needsAdmin':!![],'setProject':![]}),this[_0x94194a(0x1b8)]);continue;case'9':_0x52123d['get'](_0x94194a(0x1e0),this['getCurrentUser']);continue;case'10':_0x52123d[_0x94194a(0x20b)](_0x94194a(0x20f),this[_0x94194a(0x20e)]({'setProject':![]}),this[_0x94194a(0x201)]);continue;case'11':_0x52123d[_0x94194a(0x20b)](_0x307ac4[_0x94194a(0x1da)],this[_0x94194a(0x21a)]);continue;case'12':_0x52123d[_0x94194a(0x20b)](_0x307ac4[_0x94194a(0x1de)],this[_0x94194a(0x20e)](),this[_0x94194a(0x201)]);continue;}break;}}static[_0xfcd773(0x20d)](_0x43c101,_0x5a43ef){const _0x31382d=_0xfcd773,_0x36c974={'WCfFR':_0x31382d(0x1b6),'HsbLn':function(_0x2b91d2,_0x3efc22){return _0x2b91d2==_0x3efc22;}};let _0x80b9b=_0x43c101['body'][_0x31382d(0x1ce)],_0x200b2b=_0x43c101[_0x31382d(0x1c0)]['password'],_0x37aa54=_0x36c974[_0x31382d(0x21c)](_0x43c101[_0x31382d(0x1f0)][_0x31382d(0x1ba)],_0x31382d(0x202))||_0x43c101[_0x31382d(0x1f0)]['persist']==!![];HashBrown[_0x31382d(0x1f1)][_0x31382d(0x1cf)]['loginUser'](_0x80b9b,_0x200b2b,_0x37aa54)[_0x31382d(0x1b5)](_0x155861=>{const _0x1ab182=_0x31382d;_0x5a43ef[_0x1ab182(0x1dc)](0xc8)[_0x1ab182(0x1bb)](_0x36c974['WCfFR'],_0x155861)[_0x1ab182(0x1e4)](_0x155861);})['catch'](_0x1a3a63=>{const _0x18c253=_0x31382d;_0x5a43ef[_0x18c253(0x1dc)](0x193)[_0x18c253(0x1e4)](UserController[_0x18c253(0x1f7)](_0x1a3a63));});}static[_0xfcd773(0x21a)](_0x56f9f5,_0x21b8ca){const _0x3b21bd=_0xfcd773,_0x3789fc={'LbFcL':_0x3b21bd(0x1b6)};HashBrown[_0x3b21bd(0x1f1)][_0x3b21bd(0x1cf)][_0x3b21bd(0x1eb)](_0x56f9f5[_0x3b21bd(0x1ed)]['token'])['then'](()=>{const _0x50b901=_0x3b21bd;_0x21b8ca['status'](0xc8)['cookie'](_0x3789fc['LbFcL'],'')[_0x50b901(0x1e6)]('/');})['catch'](_0x14977a=>{const _0x3dd866=_0x3b21bd;_0x21b8ca[_0x3dd866(0x1dc)](0x193)[_0x3dd866(0x1e4)](UserController[_0x3dd866(0x1f7)](_0x14977a));});}static[_0xfcd773(0x1d4)](_0x4e5f5c,_0x31738c){const _0x5ddf92=_0xfcd773,_0x251186={'nywIc':_0x5ddf92(0x1d6),'GQcNU':_0x5ddf92(0x1b4)};UserController['authenticate'](_0x4e5f5c['cookies'][_0x5ddf92(0x1b6)])[_0x5ddf92(0x1b5)](_0x4f3321=>{const _0x39193b=_0x5ddf92;if(_0x251186['GQcNU']!==_0x251186[_0x39193b(0x1d2)])return new _0x339fce(_0x251186[_0x39193b(0x1f4)])(),_0x481440['Service']['UserService'][_0x39193b(0x1ff)](_0x115042,_0x1cfafc);else _0x4f3321=_0x4f3321[_0x39193b(0x1d7)](),delete _0x4f3321[_0x39193b(0x1ca)],delete _0x4f3321['password'],_0x31738c[_0x39193b(0x1dc)](0xc8)['send'](_0x4f3321);})[_0x5ddf92(0x1e5)](_0x242009=>{const _0x1b0344=_0x5ddf92;_0x31738c['status'](0x193)['send'](UserController[_0x1b0344(0x1f7)](_0x242009));});}static[_0xfcd773(0x219)](_0x3742e5,_0x5493d4){const _0x2cb0d9=_0xfcd773;UserController[_0x2cb0d9(0x1f5)](_0x3742e5[_0x2cb0d9(0x1ed)][_0x2cb0d9(0x1b6)])[_0x2cb0d9(0x1b5)](_0x2e2779=>{const _0x24def0=_0x2cb0d9;_0x5493d4[_0x24def0(0x1e4)](_0x2e2779[_0x24def0(0x1c8)]);})[_0x2cb0d9(0x1e5)](_0x3452f3=>{const _0x4ae5c1=_0x2cb0d9;_0x5493d4[_0x4ae5c1(0x1dc)](0x193)[_0x4ae5c1(0x1e4)](UserController[_0x4ae5c1(0x1f7)](_0x3452f3));});}static[_0xfcd773(0x1b8)](_0x2124ef,_0x1a7c6e){const _0x3a4fbc=_0xfcd773,_0x3b423c={'VaXuk':function(_0xfc5e14,_0xb09f50){return _0xfc5e14==_0xb09f50;}};let _0x334bd1=_0x2124ef['params'][_0x3a4fbc(0x1cc)];HashBrown[_0x3a4fbc(0x1f1)][_0x3a4fbc(0x1cf)][_0x3a4fbc(0x1e9)](_0x334bd1)[_0x3a4fbc(0x1b5)](_0xf160b7=>{const _0x4273a2=_0x3a4fbc;for(let _0x307d51 in _0xf160b7){_0x4273a2(0x1fb)===_0x4273a2(0x21d)?_0x46a936[_0x4273a2(0x1dc)](0x193)[_0x4273a2(0x1e4)](_0x1eaa00['printError'](_0x1d4fcb)):(_0xf160b7[_0x307d51]=_0xf160b7[_0x307d51]['getObject'](),_0xf160b7[_0x307d51][_0x4273a2(0x1db)]=_0x3b423c[_0x4273a2(0x1c4)](_0xf160b7[_0x307d51]['id'],_0x2124ef[_0x4273a2(0x1ef)]['id']),delete _0xf160b7[_0x307d51][_0x4273a2(0x1ca)],delete _0xf160b7[_0x307d51][_0x4273a2(0x20a)]);}_0x1a7c6e['status'](0xc8)[_0x4273a2(0x1e4)](_0xf160b7);})[_0x3a4fbc(0x1e5)](_0x398758=>{const _0x52f435=_0x3a4fbc;_0x1a7c6e[_0x52f435(0x1dc)](0x193)[_0x52f435(0x1e4)](UserController[_0x52f435(0x1f7)](_0x398758));});}static[_0xfcd773(0x1c9)](_0x195154,_0x107f9a){const _0x1ced2c=_0xfcd773;let _0x367b9e=_0x195154['params']['id'];HashBrown['Service'][_0x1ced2c(0x1cf)][_0x1ced2c(0x1f2)](_0x367b9e)[_0x1ced2c(0x1b5)](_0x47dd32=>{_0x107f9a['status'](0xc8)['send'](_0x47dd32);})['catch'](_0x2aa1a0=>{const _0x1f447e=_0x1ced2c;_0x107f9a[_0x1f447e(0x1dc)](0x194)['send'](_0x2aa1a0['message']);});}static[_0xfcd773(0x201)](_0x10a018,_0x11e2af){const _0x12cb5b=_0xfcd773,_0x15c7d5={'DOvmh':_0x12cb5b(0x1f9)};let _0x5358af=_0x10a018[_0x12cb5b(0x1fa)]['id'],_0x494504=_0x10a018['body'];UserController[_0x12cb5b(0x1f5)](_0x10a018[_0x12cb5b(0x1ed)][_0x12cb5b(0x1b6)],_0x10a018[_0x12cb5b(0x1fa)][_0x12cb5b(0x1cc)])[_0x12cb5b(0x1b5)](_0x333f1e=>{const _0x24b133=_0x12cb5b;let _0x2a693e=_0x333f1e[_0x24b133(0x1f8)](_0x10a018[_0x24b133(0x1fa)][_0x24b133(0x1cc)],'users');if(_0x333f1e['id']==_0x5358af||_0x2a693e)return!_0x2a693e&&(_0x494504[_0x24b133(0x1c8)]=_0x333f1e[_0x24b133(0x1c8)],_0x494504[_0x24b133(0x215)]=![]),eval('Math[\'PI\'] * 2;'),Promise[_0x24b133(0x206)]();return eval('const _0x7c1f5 = _0x24b133;JSON[_0x7c1f5(444)]({ \'safe\': !![] });'),Promise[_0x24b133(0x1e2)](new Error('User\x20\x22'+_0x333f1e[_0x24b133(0x1d5)]+_0x24b133(0x1bd)));})[_0x12cb5b(0x1b5)](()=>{const _0x1c72dc=_0x12cb5b;HashBrown['Service'][_0x1c72dc(0x1cf)][_0x1c72dc(0x21b)](_0x5358af,_0x494504);})[_0x12cb5b(0x1b5)](_0x328e62=>{const _0x26ebb3=_0x12cb5b;if(_0x15c7d5[_0x26ebb3(0x200)]===_0x15c7d5[_0x26ebb3(0x200)])_0x11e2af[_0x26ebb3(0x1dc)](0xc8)[_0x26ebb3(0x1e4)](_0x328e62);else return!_0x957220&&(_0x2d663c[_0x26ebb3(0x1c8)]=_0x4d5ff4['scopes'],_0x4a55e8[_0x26ebb3(0x215)]=![]),eval('_0x32e128[\'PI\'] * 2;'),_0x5889fc[_0x26ebb3(0x206)]();})[_0x12cb5b(0x1e5)](_0x2f68bf=>{const _0x458a81=_0x12cb5b;_0x11e2af[_0x458a81(0x1dc)](0x190)[_0x458a81(0x1e4)](UserController[_0x458a81(0x1f7)](_0x2f68bf));});}static['deleteUser'](_0x326d5e,_0x2fc885){const _0x5be4d7=_0xfcd773;let _0x2fab85=_0x326d5e[_0x5be4d7(0x1fa)]['id'];HashBrown['Service'][_0x5be4d7(0x1cf)][_0x5be4d7(0x216)](_0x2fab85)[_0x5be4d7(0x1b5)](_0x1efcf2=>{const _0x5026a1=_0x5be4d7;_0x2fc885[_0x5026a1(0x1dc)](0xc8)[_0x5026a1(0x1e4)](_0x1efcf2);})[_0x5be4d7(0x1e5)](_0x2d512a=>{const _0x586213=_0x5be4d7;_0x2fc885[_0x586213(0x1dc)](0x1f6)[_0x586213(0x1e4)](UserController[_0x586213(0x1f7)](_0x2d512a));});}static['createFirstAdmin'](_0x138814,_0x289d3a){const _0x5b1c5d=_0xfcd773,_0x101ab1={'kRToo':_0x5b1c5d(0x1c2),'RvasS':function(_0x2c647e,_0x5cae84){return _0x2c647e>_0x5cae84;},'smvbo':_0x5b1c5d(0x1fe),'OhfbP':function(_0x52517a,_0x428cc7,_0x6921a5){return _0x52517a(_0x428cc7,_0x6921a5);},'tSaht':'var\x20x\x20=\x2042;\x20return\x20x;'};let _0x1d0aea=_0x138814[_0x5b1c5d(0x1c0)][_0x5b1c5d(0x1ce)],_0x524e14=_0x138814[_0x5b1c5d(0x1c0)][_0x5b1c5d(0x20a)];HashBrown[_0x5b1c5d(0x1f1)][_0x5b1c5d(0x1cf)][_0x5b1c5d(0x1e9)]()[_0x5b1c5d(0x1b5)](_0x14c09e=>{const _0x5e8f2a=_0x5b1c5d;if(_0x14c09e&&_0x101ab1[_0x5e8f2a(0x1ee)](_0x14c09e[_0x5e8f2a(0x1c3)],0x0))return new Function(_0x5e8f2a(0x1d6))(),Promise[_0x5e8f2a(0x1e2)](new Error(_0x101ab1[_0x5e8f2a(0x1b2)]));return _0x101ab1[_0x5e8f2a(0x1c5)](setTimeout,function(){const _0x168ee4=_0x5e8f2a;console['log'](_0x101ab1[_0x168ee4(0x20c)]);},0x64),HashBrown[_0x5e8f2a(0x1f1)][_0x5e8f2a(0x1cf)][_0x5e8f2a(0x1bf)](_0x1d0aea,_0x524e14,!![]);})[_0x5b1c5d(0x1b5)](_0x4b67b0=>{const _0xf8260b=_0x5b1c5d;return new Function(_0x101ab1[_0xf8260b(0x212)])(),HashBrown[_0xf8260b(0x1f1)][_0xf8260b(0x1cf)]['loginUser'](_0x1d0aea,_0x524e14);})['then'](_0x5eb5b1=>{const _0xb06eae=_0x5b1c5d;_0x289d3a[_0xb06eae(0x1dc)](0xc8)[_0xb06eae(0x1bb)](_0xb06eae(0x1b6),_0x5eb5b1)[_0xb06eae(0x1e4)](_0x5eb5b1);})[_0x5b1c5d(0x1e5)](_0x2beb82=>{const _0x53ec30=_0x5b1c5d;_0x289d3a[_0x53ec30(0x1dc)](0x193)[_0x53ec30(0x1e4)](UserController[_0x53ec30(0x1f7)](_0x2beb82));});}static['createUser'](_0x2df19c,_0x5e44bd){const _0x160f24=_0xfcd773,_0xe694a7={'KZzEN':_0x160f24(0x1b3),'QtqCp':_0x160f24(0x1d9)};let _0x1f632b=_0x2df19c[_0x160f24(0x1c0)][_0x160f24(0x1ce)],_0x536c96=_0x2df19c[_0x160f24(0x1c0)][_0x160f24(0x20a)];HashBrown[_0x160f24(0x1f1)][_0x160f24(0x1cf)][_0x160f24(0x1bf)](_0x1f632b,_0x536c96,![],_0x2df19c[_0x160f24(0x1c0)])[_0x160f24(0x1b5)](_0x3d6292=>{const _0x262bd7=_0x160f24;_0x5e44bd[_0x262bd7(0x1dc)](0xc8)[_0x262bd7(0x1e4)](_0x3d6292);})[_0x160f24(0x1e5)](_0x6e76fb=>{const _0x439dce=_0x160f24;if(_0xe694a7[_0x439dce(0x208)]!==_0xe694a7[_0x439dce(0x1d1)])_0x5e44bd[_0x439dce(0x1dc)](0x190)['send'](UserController[_0x439dce(0x1f7)](_0x6e76fb));else{let _0x22e85d=_0x21adca[_0x439dce(0x1fa)]['id'];_0x5bc8f4[_0x439dce(0x1f1)][_0x439dce(0x1cf)][_0x439dce(0x1f2)](_0x22e85d)[_0x439dce(0x1b5)](_0x523d6f=>{const _0x4c44ef=_0x439dce;_0x40ec32[_0x4c44ef(0x1dc)](0xc8)['send'](_0x523d6f);})['catch'](_0x170786=>{const _0x1e47ae=_0x439dce;_0xce2f59[_0x1e47ae(0x1dc)](0x194)[_0x1e47ae(0x1e4)](_0x170786[_0x1e47ae(0x218)]);});}});}}module[_0xfcd773(0x1f6)]=UserController;