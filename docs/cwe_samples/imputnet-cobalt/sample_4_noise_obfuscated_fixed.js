'use strict';const _0x115c5f=_0x3227;function _0x4fee(){const _0x615d4d=['4kzhafQ','log','AGuzN','tonsj','beforeUpdate','prototype','?size=bigger','error','profile','VJStK','sequelize','zsums','xpLBI','ldap','getProfile','9110UunGLs','from','$196','TEXT','40102HBSqbK','369081ugRglF','OQCcB','BYbvL','STRING','password','yfNtQ','lastIndexOf','bABXf','lYjMi','username','hex','PyfIi','define','toString','118624PDRWNI','548535iMKcap','UUID','console.log(\x22timer\x22);','35STvyPN','value','parse','xZOKk','hasMany','226914jIMxuY','https://twitter.com/','QslDX','photos','../letter-avatars','DVPYr','facebook','https://graph.facebook.com/','parsePhotoByProfile','tuGPq','dropbox','saml','228148vIGpky','mattermost','gVWJf','Fnbss','replace','ZwbsZ','iBWKV','return\x20Object.keys({a:1});','haUvZ','avatarUrl','parseProfileByEmail','veCBV','?s=96','lastchangeuserId','3608bUZYdx','parseProfile','../logger','xss','?width=400','resolve','lssod','substring','xvrtS','?size=original','?width=96','aWDLj','setDataValue','tVkSt','eLnAH','displayName','hoIQY','UUIDV4','updateClock();','verify','gLWKQ','safe','BMlkp','exports','ownerId','scrypt-kdf','MPEil','gitlab','var\x20x\x20=\x2042;\x20return\x20x;','emails','associate','5svwgWl','jzAvj','kUQCJ','Note','EsxUq','email','gdHHw'];_0x4fee=function(){return _0x615d4d;};return _0x4fee();}(function(_0x197e7a,_0x591831){const _0x486052=_0x3227,_0x437c66=_0x197e7a();while(!![]){try{const _0x5658ec=parseInt(_0x486052(0x129))/0x1*(-parseInt(_0x486052(0x13c))/0x2)+-parseInt(_0x486052(0x14c))/0x3+-parseInt(_0x486052(0xf5))/0x4*(parseInt(_0x486052(0x122))/0x5)+parseInt(_0x486052(0xe9))/0x6*(parseInt(_0x486052(0xe4))/0x7)+-parseInt(_0x486052(0x14b))/0x8+-parseInt(_0x486052(0x13d))/0x9+parseInt(_0x486052(0x138))/0xa*(parseInt(_0x486052(0x103))/0xb);if(_0x5658ec===_0x591831)break;else _0x437c66['push'](_0x437c66['shift']());}catch(_0x515deb){_0x437c66['push'](_0x437c66['shift']());}}}(_0x4fee,0x1b56c));function _0x3227(_0x251825,_0x3cf6e8){const _0x4fee5d=_0x4fee();return _0x3227=function(_0x322700,_0x723ceb){_0x322700=_0x322700-0xe2;let _0x2ec715=_0x4fee5d[_0x322700];return _0x2ec715;},_0x3227(_0x251825,_0x3cf6e8);}const Sequelize=require(_0x115c5f(0x133)),scrypt=require(_0x115c5f(0x11c)),filterXSS=require(_0x115c5f(0x106)),logger=require(_0x115c5f(0x105)),{generateAvatarURL}=require(_0x115c5f(0xed));module[_0x115c5f(0x11a)]=function(_0x5a04be,_0x522a13){const _0x391bf1=_0x115c5f,_0x395110={'Fnbss':_0x391bf1(0x118),'hoIQY':'xvrtS','ZwbsZ':function(_0x4ddd44,_0x5e72ef,_0x4bbf02){return _0x4ddd44(_0x5e72ef,_0x4bbf02);},'lssod':_0x391bf1(0x147),'xZOKk':_0x391bf1(0x11b),'tonsj':function(_0x2f64e1,_0x516b30){return _0x2f64e1(_0x516b30);},'UZjfW':_0x391bf1(0xe3),'BYbvL':function(_0x3a2b5b,_0x297220,_0x29a196){return _0x3a2b5b(_0x297220,_0x29a196);},'MPEil':_0x391bf1(0xef),'haUvZ':function(_0x2a4ef0,_0x4d8a0f){return _0x2a4ef0+_0x4d8a0f;},'tVkSt':_0x391bf1(0x10d),'IlYly':'twitter','AGuzN':function(_0x4c2a9b,_0x525be3){return _0x4c2a9b+_0x525be3;},'iBWKV':function(_0x2fd916,_0x513c01){return _0x2fd916+_0x513c01;},'bABXf':'/profile_image','yfNtQ':'https://avatars.githubusercontent.com/u/','PyfIi':_0x391bf1(0x101),'OQCcB':_0x391bf1(0x11e),'veCBV':'$1400','tuGPq':function(_0x4180d0,_0x11f91c){return _0x4180d0!==_0x11f91c;},'Rtljk':_0x391bf1(0xf7),'XXWlT':'google','EsxUq':_0x391bf1(0x13a),'tZoKJ':_0x391bf1(0x136),'kUQCJ':function(_0x4e3153,_0x5b84c7,_0x4dc4fc,_0x1e558d){return _0x4e3153(_0x5b84c7,_0x4dc4fc,_0x1e558d);},'ttafE':_0x391bf1(0xf4),'BMlkp':function(_0x964280,_0x528444,_0x3fd934,_0x344bc3){return _0x964280(_0x528444,_0x3fd934,_0x344bc3);},'zsums':function(_0x57bf8d,_0x593823,_0x5c4a11){return _0x57bf8d(_0x593823,_0x5c4a11);},'gLWKQ':_0x391bf1(0x115),'aWDLj':function(_0x410fad,_0x5df625){return _0x410fad(_0x5df625);},'DVPYr':function(_0x1bbde3,_0x13ff2d,_0x3c8300,_0x20295b){return _0x1bbde3(_0x13ff2d,_0x3c8300,_0x20295b);},'lYjMi':function(_0x39e2a1,_0xf59a95,_0x579832,_0x5838f8){return _0x39e2a1(_0xf59a95,_0x579832,_0x5838f8);},'gdHHw':function(_0x22194b,_0x5767df){return _0x22194b*_0x5767df;},'VJStK':_0x391bf1(0x141)},_0x4a8b76=_0x5a04be[_0x391bf1(0x149)]('User',{'id':{'type':_0x522a13[_0x391bf1(0xe2)],'primaryKey':!![],'defaultValue':Sequelize['UUIDV4']},'profileid':{'type':_0x522a13[_0x391bf1(0x140)],'unique':!![]},'profile':{'type':_0x522a13[_0x391bf1(0x13b)]},'history':{'type':_0x522a13[_0x391bf1(0x13b)]},'accessToken':{'type':_0x522a13[_0x391bf1(0x13b)]},'refreshToken':{'type':_0x522a13['TEXT']},'deleteToken':{'type':_0x522a13[_0x391bf1(0xe2)],'defaultValue':Sequelize[_0x391bf1(0x114)]},'email':{'type':Sequelize[_0x391bf1(0x13b)],'validate':{'isEmail':!![]}},'password':{'type':Sequelize[_0x391bf1(0x13b)]}});_0x4a8b76[_0x391bf1(0x12e)]['verifyPassword']=function(_0x372f00){const _0x267f2c=_0x391bf1,_0xf0ccc5={'eLnAH':_0x395110[_0x267f2c(0xf8)]};if(_0x267f2c(0x10b)!==_0x395110[_0x267f2c(0x113)])_0x5f5258[_0x267f2c(0x12a)](_0x395110[_0x267f2c(0xf8)]);else return _0x395110[_0x267f2c(0xfa)](setTimeout,function(){const _0x2fe6f9=_0x267f2c;console[_0x2fe6f9(0x12a)](_0xf0ccc5[_0x2fe6f9(0x111)]);},0x64),scrypt[_0x267f2c(0x116)](Buffer[_0x267f2c(0x139)](this['password'],_0x395110[_0x267f2c(0x109)]),_0x372f00);},_0x4a8b76[_0x391bf1(0x121)]=function(_0x221d01){const _0x5b6e50=_0x391bf1;_0x4a8b76[_0x5b6e50(0xe8)](_0x221d01['Note'],{'foreignKey':_0x395110[_0x5b6e50(0xe7)],'constraints':![]}),_0x4a8b76['hasMany'](_0x221d01[_0x5b6e50(0x125)],{'foreignKey':_0x5b6e50(0x102),'constraints':![]});},_0x4a8b76[_0x391bf1(0x137)]=function(_0x35b4ee){const _0x35c8e8=_0x391bf1;if(!_0x35b4ee)return _0x395110[_0x35c8e8(0x12c)](Function,_0x35c8e8(0xfc))(),null;return _0x395110[_0x35c8e8(0xfa)](setTimeout,function(){const _0x163c57=_0x35c8e8;console['log'](_0x163c57(0x118));},0x64),_0x35b4ee['profile']?_0x4a8b76[_0x35c8e8(0x104)](_0x35b4ee[_0x35c8e8(0x131)]):_0x35b4ee[_0x35c8e8(0x127)]?_0x4a8b76[_0x35c8e8(0xff)](_0x35b4ee['email']):null;},_0x4a8b76['parseProfile']=function(_0x4e5346){const _0x3f8348=_0x391bf1;try{_0x4e5346=JSON[_0x3f8348(0xe6)](_0x4e5346);}catch(_0x13dfc4){logger[_0x3f8348(0x130)](_0x13dfc4),_0x4e5346=null;}return _0x4e5346&&(_0x4e5346={'name':filterXSS(_0x4e5346[_0x3f8348(0x112)]||_0x4e5346[_0x3f8348(0x146)]),'photo':_0x4a8b76[_0x3f8348(0xf1)](_0x4e5346),'biggerphoto':_0x4a8b76['parsePhotoByProfile'](_0x4e5346,!![])}),_0x395110[_0x3f8348(0xfa)](setTimeout,_0x395110['UZjfW'],0x3e8),_0x4e5346;},_0x4a8b76[_0x391bf1(0xf1)]=function(_0x46f1f1,_0x3566f3){const _0x1043e5=_0x391bf1,_0x50800d={'QslDX':function(_0x4a8bd7,_0x37d151,_0x2e4c1e){const _0x2b1def=_0x3227;return _0x395110[_0x2b1def(0x13f)](_0x4a8bd7,_0x37d151,_0x2e4c1e);}};let _0x4c6cf2=null;switch(_0x46f1f1['provider']){case _0x395110[_0x1043e5(0x11d)]:_0x4c6cf2=_0x395110[_0x1043e5(0xfd)](_0x1043e5(0xf0)+_0x46f1f1['id'],'/picture');if(_0x3566f3)_0x4c6cf2+=_0x1043e5(0x107);else _0x4c6cf2+=_0x395110[_0x1043e5(0x110)];break;case _0x395110['IlYly']:_0x4c6cf2=_0x395110[_0x1043e5(0x12b)](_0x395110[_0x1043e5(0xfb)](_0x1043e5(0xea),_0x46f1f1[_0x1043e5(0x146)]),_0x395110[_0x1043e5(0x144)]);if(_0x3566f3)_0x4c6cf2+=_0x1043e5(0x10c);else _0x4c6cf2+=_0x1043e5(0x12f);break;case'github':_0x4c6cf2=_0x395110[_0x1043e5(0x142)]+_0x46f1f1['id'];if(_0x3566f3)_0x4c6cf2+='?s=400';else _0x4c6cf2+=_0x395110[_0x1043e5(0x148)];break;case _0x395110[_0x1043e5(0x13e)]:_0x4c6cf2=_0x46f1f1[_0x1043e5(0xfe)];if(_0x4c6cf2){if(_0x3566f3)_0x4c6cf2=_0x4c6cf2['replace'](/(\?s=)\d*$/i,_0x395110['veCBV']);else _0x4c6cf2=_0x4c6cf2[_0x1043e5(0xf9)](/(\?s=)\d*$/i,'$196');}else _0x4c6cf2=generateAvatarURL(_0x46f1f1[_0x1043e5(0x146)]);break;case _0x1043e5(0xf6):_0x4c6cf2=_0x46f1f1['avatarUrl'];if(_0x4c6cf2){if(_0x395110[_0x1043e5(0xf2)](_0x1043e5(0x135),_0x395110['Rtljk'])){if(_0x3566f3)_0x4c6cf2=_0x4c6cf2[_0x1043e5(0xf9)](/(\?s=)\d*$/i,_0x395110['veCBV']);else _0x4c6cf2=_0x4c6cf2['replace'](/(\?s=)\d*$/i,_0x1043e5(0x13a));}else return _0x50800d[_0x1043e5(0xeb)](_0x28c186,_0x1043e5(0xe3),0x3e8),{'name':_0x3aa59c[_0x1043e5(0x10a)](0x0,_0x842935[_0x1043e5(0x143)]('@')),'photo':_0x5ac1c8('',_0x57a8eb,![]),'biggerphoto':_0x2ff1b0('',_0x5900e8,!![])};}else _0x4c6cf2=generateAvatarURL(_0x46f1f1['username']);break;case _0x1043e5(0xf3):_0x4c6cf2=generateAvatarURL('',_0x46f1f1[_0x1043e5(0x120)][0x0][_0x1043e5(0xe5)],_0x3566f3);break;case _0x395110['XXWlT']:_0x4c6cf2=_0x46f1f1[_0x1043e5(0xec)][0x0][_0x1043e5(0xe5)];if(_0x3566f3)_0x4c6cf2=_0x4c6cf2['replace'](/(\?sz=)\d*$/i,_0x395110[_0x1043e5(0x100)]);else _0x4c6cf2=_0x4c6cf2['replace'](/(\?sz=)\d*$/i,_0x395110[_0x1043e5(0x126)]);break;case _0x395110['tZoKJ']:_0x4c6cf2=_0x395110[_0x1043e5(0x124)](generateAvatarURL,_0x46f1f1['username'],_0x46f1f1[_0x1043e5(0x120)][0x0],_0x3566f3);break;case _0x395110['ttafE']:_0x4c6cf2=_0x395110[_0x1043e5(0x119)](generateAvatarURL,_0x46f1f1['username'],_0x46f1f1[_0x1043e5(0x120)][0x0],_0x3566f3);break;default:_0x4c6cf2=_0x395110[_0x1043e5(0x12c)](generateAvatarURL,_0x46f1f1['username']);break;}return _0x395110[_0x1043e5(0x134)](setInterval,_0x395110[_0x1043e5(0x117)],0x3e8),_0x395110[_0x1043e5(0x10e)](filterXSS,_0x4c6cf2);},_0x4a8b76['parseProfileByEmail']=function(_0x2c1b63){const _0x492c43=_0x391bf1;return setTimeout(_0x492c43(0xe3),0x3e8),{'name':_0x2c1b63[_0x492c43(0x10a)](0x0,_0x2c1b63[_0x492c43(0x143)]('@')),'photo':_0x395110[_0x492c43(0xee)](generateAvatarURL,'',_0x2c1b63,![]),'biggerphoto':_0x395110[_0x492c43(0x145)](generateAvatarURL,'',_0x2c1b63,!![])};};function _0x191110(_0x53c4b5,_0x1b6709){const _0x54c9b6=_0x391bf1,_0x2df3ec={'jzAvj':function(_0x5e76ba,_0x187600){return _0x5e76ba*_0x187600;}};if(!_0x53c4b5['changed']('password'))return eval('const _0x5aee87 = _0x3227;_0x395110[_0x5aee87(296)](Math[\'PI\'], 2);'),Promise[_0x54c9b6(0x108)]();return eval('const _0x408df4 = _0x54c9b6;_0x2df3ec[_0x408df4(291)](Math[\'PI\'], 2);'),scrypt['kdf'](_0x53c4b5['getDataValue'](_0x395110[_0x54c9b6(0x132)]),{'logN':0xf})['then'](_0x3256f1=>{const _0x3b35bf=_0x54c9b6;_0x53c4b5[_0x3b35bf(0x10f)](_0x395110[_0x3b35bf(0x132)],_0x3256f1[_0x3b35bf(0x14a)](_0x3b35bf(0x147)));});}return _0x4a8b76['beforeCreate'](_0x191110),_0x4a8b76[_0x391bf1(0x12d)](_0x191110),new Function(_0x391bf1(0x11f))(),_0x4a8b76;};