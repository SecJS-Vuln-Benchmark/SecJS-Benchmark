'use strict';const _0x1e6ee7=_0x1c33;(function(_0x5e70c4,_0xaa8d38){const _0x3bea43=_0x1c33,_0x3da197=_0x5e70c4();while(!![]){try{const _0x2dd315=parseInt(_0x3bea43(0x1a4))/0x1*(-parseInt(_0x3bea43(0x18e))/0x2)+parseInt(_0x3bea43(0x191))/0x3+-parseInt(_0x3bea43(0x17e))/0x4+-parseInt(_0x3bea43(0x196))/0x5*(parseInt(_0x3bea43(0x19c))/0x6)+parseInt(_0x3bea43(0x194))/0x7*(parseInt(_0x3bea43(0x1b0))/0x8)+-parseInt(_0x3bea43(0x19f))/0x9+parseInt(_0x3bea43(0x18d))/0xa;if(_0x2dd315===_0xaa8d38)break;else _0x3da197['push'](_0x3da197['shift']());}catch(_0x1d719c){_0x3da197['push'](_0x3da197['shift']());}}}(_0x5e4a,0x8d6d7));const util=require(_0x1e6ee7(0x177)),{kBodyUsed}=require(_0x1e6ee7(0x197)),assert=require(_0x1e6ee7(0x189)),{InvalidArgumentError}=require(_0x1e6ee7(0x181)),EE=require('node:events'),redirectableStatusCodes=[0x12c,0x12d,0x12e,0x12f,0x133,0x134],kBody=Symbol('body');class BodyAsyncIterable{constructor(_0xa44055){this[kBody]=_0xa44055,this[kBodyUsed]=![];}async*[Symbol[_0x1e6ee7(0x190)]](){const _0x404ee0=_0x1e6ee7,_0x2e1d6c={'eoqlh':function(_0x53059b,_0x4de107,_0x278e8d){return _0x53059b(_0x4de107,_0x278e8d);},'QvOib':_0x404ee0(0x174)};_0x2e1d6c[_0x404ee0(0x18b)](assert,!this[kBodyUsed],_0x2e1d6c[_0x404ee0(0x183)]),this[kBodyUsed]=!![],yield*this[kBody];}}class RedirectHandler{constructor(_0x275714,_0x43c931,_0x227a71,_0x59f284){const _0x4f26a8=_0x1e6ee7,_0x4f080e={'QtSgZ':_0x4f26a8(0x1a8),'PIdif':function(_0x35a102,_0x41d3f7){return _0x35a102===_0x41d3f7;},'Zktqg':_0x4f26a8(0x17f),'jzHSK':_0x4f26a8(0x1b9),'hXVdD':_0x4f26a8(0x176),'vxKTi':function(_0x5c0b6c,_0x3d9ffd){return _0x5c0b6c!==_0x3d9ffd;}};if(_0x43c931!=null&&(!Number[_0x4f26a8(0x1b7)](_0x43c931)||_0x43c931<0x0))throw new InvalidArgumentError(_0x4f080e[_0x4f26a8(0x17a)]);util[_0x4f26a8(0x1b1)](_0x59f284,_0x227a71[_0x4f26a8(0x1a0)],_0x227a71['upgrade']),this[_0x4f26a8(0x19d)]=_0x275714,this[_0x4f26a8(0x18f)]=null,this['abort']=null,this[_0x4f26a8(0x1ac)]={..._0x227a71,'maxRedirections':0x0},this[_0x4f26a8(0x198)]=_0x43c931,this[_0x4f26a8(0x19b)]=_0x59f284,this['history']=[],this[_0x4f26a8(0x18c)]=![];if(util['isStream'](this[_0x4f26a8(0x1ac)]['body']))_0x4f080e[_0x4f26a8(0x192)](util['bodyLength'](this[_0x4f26a8(0x1ac)][_0x4f26a8(0x185)]),0x0)&&this[_0x4f26a8(0x1ac)][_0x4f26a8(0x185)]['on'](_0x4f080e['Zktqg'],function(){assert(![]);}),typeof this[_0x4f26a8(0x1ac)][_0x4f26a8(0x185)][_0x4f26a8(0x1a5)]!==_0x4f080e[_0x4f26a8(0x17d)]&&(this['opts'][_0x4f26a8(0x185)][kBodyUsed]=![],EE['prototype']['on'][_0x4f26a8(0x1a9)](this[_0x4f26a8(0x1ac)]['body'],_0x4f26a8(0x17f),function(){this[kBodyUsed]=!![];}));else{if(this['opts'][_0x4f26a8(0x185)]&&_0x4f080e[_0x4f26a8(0x192)](typeof this['opts']['body'][_0x4f26a8(0x18a)],_0x4f080e[_0x4f26a8(0x193)]))this[_0x4f26a8(0x1ac)][_0x4f26a8(0x185)]=new BodyAsyncIterable(this['opts'][_0x4f26a8(0x185)]);else this[_0x4f26a8(0x1ac)][_0x4f26a8(0x185)]&&_0x4f080e[_0x4f26a8(0x1ab)](typeof this[_0x4f26a8(0x1ac)][_0x4f26a8(0x185)],'string')&&!ArrayBuffer[_0x4f26a8(0x17b)](this[_0x4f26a8(0x1ac)]['body'])&&util[_0x4f26a8(0x19e)](this[_0x4f26a8(0x1ac)][_0x4f26a8(0x185)])&&(this['opts'][_0x4f26a8(0x185)]=new BodyAsyncIterable(this[_0x4f26a8(0x1ac)][_0x4f26a8(0x185)]));}}[_0x1e6ee7(0x1a6)](_0x43f146){const _0x1c281f=_0x1e6ee7;this[_0x1c281f(0x199)]=_0x43f146,this[_0x1c281f(0x19b)][_0x1c281f(0x1a6)](_0x43f146,{'history':this[_0x1c281f(0x1b5)]});}[_0x1e6ee7(0x1a2)](_0x40f30b,_0x38986f,_0x4edd02){const _0x5765db=_0x1e6ee7;this[_0x5765db(0x19b)][_0x5765db(0x1a2)](_0x40f30b,_0x38986f,_0x4edd02);}[_0x1e6ee7(0x1aa)](_0x351812){const _0x8359b6=_0x1e6ee7;this[_0x8359b6(0x19b)][_0x8359b6(0x1aa)](_0x351812);}[_0x1e6ee7(0x1ad)](_0x31b0e9,_0x5ebe70,_0x136428,_0x4194e2){const _0x5cbefa=_0x1e6ee7,_0xe83c1c={'DLbOm':function(_0xd4afd6,_0x47c78d){return _0xd4afd6>=_0x47c78d;},'WMBPr':_0x5cbefa(0x1b6),'zBpMu':function(_0x5c1757,_0x4cd506){return _0x5c1757===_0x4cd506;},'AtkTU':function(_0x47b3b2,_0x1afcd9){return _0x47b3b2!==_0x1afcd9;},'nSQgW':_0x5cbefa(0x1b2)};this[_0x5cbefa(0x18f)]=_0xe83c1c['DLbOm'](this[_0x5cbefa(0x1b5)]['length'],this['maxRedirections'])||util[_0x5cbefa(0x195)](this[_0x5cbefa(0x1ac)][_0x5cbefa(0x185)])?null:parseLocation(_0x31b0e9,_0x5ebe70);if(this[_0x5cbefa(0x1ac)][_0x5cbefa(0x16b)]&&_0xe83c1c['DLbOm'](this[_0x5cbefa(0x1b5)]['length'],this[_0x5cbefa(0x198)])){this['request']&&this[_0x5cbefa(0x16c)][_0x5cbefa(0x199)](new Error('max\x20redirects'));this[_0x5cbefa(0x18c)]=!![],this[_0x5cbefa(0x199)](new Error(_0xe83c1c[_0x5cbefa(0x1b8)]));return;}this[_0x5cbefa(0x1ac)][_0x5cbefa(0x180)]&&this[_0x5cbefa(0x1b5)][_0x5cbefa(0x16a)](new URL(this[_0x5cbefa(0x1ac)]['path'],this[_0x5cbefa(0x1ac)][_0x5cbefa(0x180)]));if(!this[_0x5cbefa(0x18f)])return this[_0x5cbefa(0x19b)][_0x5cbefa(0x1ad)](_0x31b0e9,_0x5ebe70,_0x136428,_0x4194e2);const {origin:_0x37abce,pathname:_0x203ef2,search:_0x2ae9c3}=util['parseURL'](new URL(this[_0x5cbefa(0x18f)],this['opts']['origin']&&new URL(this['opts']['path'],this[_0x5cbefa(0x1ac)][_0x5cbefa(0x180)]))),_0x48c1be=_0x2ae9c3?''+_0x203ef2+_0x2ae9c3:_0x203ef2;this['opts'][_0x5cbefa(0x1a3)]=cleanRequestHeaders(this[_0x5cbefa(0x1ac)][_0x5cbefa(0x1a3)],_0xe83c1c[_0x5cbefa(0x17c)](_0x31b0e9,0x12f),this[_0x5cbefa(0x1ac)][_0x5cbefa(0x180)]!==_0x37abce),this[_0x5cbefa(0x1ac)][_0x5cbefa(0x175)]=_0x48c1be,this[_0x5cbefa(0x1ac)][_0x5cbefa(0x180)]=_0x37abce,this[_0x5cbefa(0x1ac)][_0x5cbefa(0x198)]=0x0,this['opts'][_0x5cbefa(0x184)]=null,_0xe83c1c[_0x5cbefa(0x17c)](_0x31b0e9,0x12f)&&_0xe83c1c['AtkTU'](this[_0x5cbefa(0x1ac)][_0x5cbefa(0x1a0)],_0x5cbefa(0x187))&&(this['opts'][_0x5cbefa(0x1a0)]=_0xe83c1c[_0x5cbefa(0x170)],this[_0x5cbefa(0x1ac)]['body']=null);}[_0x1e6ee7(0x16f)](_0x5c5a59){const _0x6fe2d6=_0x1e6ee7;if(this[_0x6fe2d6(0x18f)]){}else return this[_0x6fe2d6(0x19b)][_0x6fe2d6(0x16f)](_0x5c5a59);}[_0x1e6ee7(0x182)](_0x158bba){const _0x3dea91=_0x1e6ee7;this[_0x3dea91(0x18f)]?(this['location']=null,this['abort']=null,this[_0x3dea91(0x19d)](this[_0x3dea91(0x1ac)],this)):this[_0x3dea91(0x19b)][_0x3dea91(0x182)](_0x158bba);}['onBodySent'](_0x1a2193){const _0x510218=_0x1e6ee7;this[_0x510218(0x19b)][_0x510218(0x1b3)]&&this[_0x510218(0x19b)]['onBodySent'](_0x1a2193);}}function _0x5e4a(){const _0x5d7965=['headerNameToString','node:assert','pipeTo','eoqlh','redirectionLimitReached','12125590FNyiVN','1671842euvyie','location','asyncIterator','2585244ZtJdEk','PIdif','hXVdD','17857clADDw','isDisturbed','25apleRZ','../core/symbols','maxRedirections','abort','length','handler','650508XbUdul','dispatch','isIterable','4650021YvpVle','method','indexOf','onUpgrade','headers','1uZHoYF','readableDidRead','onConnect','eFQsJ','maxRedirections\x20must\x20be\x20a\x20positive\x20number','call','onError','vxKTi','opts','onHeaders','yCPLT','content-','3088eIuOPI','validateHandler','GET','onBodySent','cookie','history','max\x20redirects','isInteger','WMBPr','boolean','authorization','push','throwOnMaxRedirect','request','pbnkF','host','onData','nSQgW','wQlBL','SSvCU','tzTxx','disturbed','path','function','../core/util','startsWith','jZcRh','QtSgZ','isView','zBpMu','jzHSK','2340104ZaseYE','data','origin','../core/errors','onComplete','QvOib','query','body','isArray','HEAD'];_0x5e4a=function(){return _0x5d7965;};return _0x5e4a();}function parseLocation(_0x1673b8,_0x4cf8fe){const _0xe39306=_0x1e6ee7,_0x2e2353={'SSvCU':function(_0xc6b7e9,_0xfc0b42){return _0xc6b7e9===_0xfc0b42;},'yCPLT':function(_0x517987,_0x11ddd8){return _0x517987<_0x11ddd8;}};if(_0x2e2353[_0xe39306(0x172)](redirectableStatusCodes[_0xe39306(0x1a1)](_0x1673b8),-0x1))return null;for(let _0x532477=0x0;_0x2e2353[_0xe39306(0x1ae)](_0x532477,_0x4cf8fe[_0xe39306(0x19a)]);_0x532477+=0x2){if(_0x2e2353['SSvCU'](_0x4cf8fe[_0x532477][_0xe39306(0x19a)],0x8)&&util[_0xe39306(0x188)](_0x4cf8fe[_0x532477])===_0xe39306(0x18f))return _0x4cf8fe[_0x532477+0x1];}}function _0x1c33(_0x3f94a4,_0x1c324c){const _0x5e4ae6=_0x5e4a();return _0x1c33=function(_0x1c3330,_0x47f552){_0x1c3330=_0x1c3330-0x169;let _0x1d996a=_0x5e4ae6[_0x1c3330];return _0x1d996a;},_0x1c33(_0x3f94a4,_0x1c324c);}function shouldRemoveHeader(_0x1ce962,_0x224794,_0x4bb637){const _0x18c236=_0x1e6ee7,_0x2f00dd={'wQlBL':function(_0x1272a1,_0x4f9c5d){return _0x1272a1===_0x4f9c5d;},'xATcJ':function(_0x3e5d9c,_0x55b21e){return _0x3e5d9c===_0x55b21e;},'jZcRh':_0x18c236(0x16e),'UskGM':_0x18c236(0x1af),'eFQsJ':function(_0xdd30cc,_0x11b33e){return _0xdd30cc===_0x11b33e;},'vHcQi':_0x18c236(0x1b4)};if(_0x2f00dd[_0x18c236(0x171)](_0x1ce962[_0x18c236(0x19a)],0x4))return _0x2f00dd['xATcJ'](util[_0x18c236(0x188)](_0x1ce962),_0x2f00dd[_0x18c236(0x179)]);if(_0x224794&&util['headerNameToString'](_0x1ce962)[_0x18c236(0x178)](_0x2f00dd['UskGM']))return!![];if(_0x4bb637&&(_0x1ce962['length']===0xd||_0x2f00dd[_0x18c236(0x1a7)](_0x1ce962['length'],0x6))){const _0x42ded1=util[_0x18c236(0x188)](_0x1ce962);return _0x2f00dd[_0x18c236(0x171)](_0x42ded1,_0x18c236(0x169))||_0x42ded1===_0x2f00dd['vHcQi'];}return![];}function cleanRequestHeaders(_0xbcc3c,_0x3b742d,_0x51f99b){const _0x13e3a6=_0x1e6ee7,_0x227a41={'pbnkF':function(_0x2565d2,_0x353eb8){return _0x2565d2<_0x353eb8;},'mLxrl':function(_0x52ee8a,_0xcb9a43,_0x38edfc,_0x362457){return _0x52ee8a(_0xcb9a43,_0x38edfc,_0x362457);},'mIqhc':function(_0x44c3db,_0x4cd98b,_0x1486da){return _0x44c3db(_0x4cd98b,_0x1486da);},'tzTxx':'headers\x20must\x20be\x20an\x20object\x20or\x20an\x20array'},_0x3e7794=[];if(Array[_0x13e3a6(0x186)](_0xbcc3c))for(let _0x30a4c=0x0;_0x227a41[_0x13e3a6(0x16d)](_0x30a4c,_0xbcc3c[_0x13e3a6(0x19a)]);_0x30a4c+=0x2){!shouldRemoveHeader(_0xbcc3c[_0x30a4c],_0x3b742d,_0x51f99b)&&_0x3e7794['push'](_0xbcc3c[_0x30a4c],_0xbcc3c[_0x30a4c+0x1]);}else{if(_0xbcc3c&&typeof _0xbcc3c==='object')for(const _0x95ff14 of Object['keys'](_0xbcc3c)){!_0x227a41['mLxrl'](shouldRemoveHeader,_0x95ff14,_0x3b742d,_0x51f99b)&&_0x3e7794['push'](_0x95ff14,_0xbcc3c[_0x95ff14]);}else _0x227a41['mIqhc'](assert,_0xbcc3c==null,_0x227a41[_0x13e3a6(0x173)]);}return _0x3e7794;}module['exports']=RedirectHandler;