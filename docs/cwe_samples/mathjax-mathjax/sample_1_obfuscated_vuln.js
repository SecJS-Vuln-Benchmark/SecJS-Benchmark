const _0x4a4b47=_0x3c5c;(function(_0x49eb00,_0xe94759){const _0x1e8215=_0x3c5c,_0x1e9d1a=_0x49eb00();while(!![]){try{const _0x325db6=parseInt(_0x1e8215(0x195))/0x1+parseInt(_0x1e8215(0x1a7))/0x2+-parseInt(_0x1e8215(0x1b9))/0x3*(-parseInt(_0x1e8215(0x166))/0x4)+parseInt(_0x1e8215(0x1b1))/0x5*(-parseInt(_0x1e8215(0x184))/0x6)+parseInt(_0x1e8215(0x178))/0x7*(parseInt(_0x1e8215(0x1a3))/0x8)+parseInt(_0x1e8215(0x192))/0x9+-parseInt(_0x1e8215(0x187))/0xa;if(_0x325db6===_0xe94759)break;else _0x1e9d1a['push'](_0x1e9d1a['shift']());}catch(_0x3766b3){_0x1e9d1a['push'](_0x1e9d1a['shift']());}}}(_0x1435,0x1eba4));let express=require(_0x4a4b47(0x16f));const apicache=require(_0x4a4b47(0x1ba)),{UptimeKumaServer}=require(_0x4a4b47(0x173)),StatusPage=require(_0x4a4b47(0x1ae)),{allowDevAllOrigin,sendHttpError}=require(_0x4a4b47(0x1bf)),{R}=require(_0x4a4b47(0x19b)),Monitor=require('../model/monitor'),{badgeConstants}=require(_0x4a4b47(0x179)),{makeBadge}=require(_0x4a4b47(0x1b5));let router=express[_0x4a4b47(0x1b2)](),cache=apicache['middleware'];const server=UptimeKumaServer[_0x4a4b47(0x19a)]();function _0x1435(){const _0x53f5e7=['params','hGAlV','standalone','exports','168tFhGWj','kXxpS','defaultStyle','4224540BOdeaF','PWOxa','length','map','Degraded','/status','convertToBeans','\x20slug\x20=\x20?\x20','YbTla','color','5\x20minutes','685584KhToRD','QVwty','message','231592SkoegB','kYcst','status_page','label','handleStatusPageResponse','getInstance','redbean-node','/status/:slug','xRTky','defaultUpColor','title','calcUptime','get','#F6BE00','8PtXbgH','rbtHe','slug','query','348438qXWaja','KVYAC','DskBa','qxILf','EvSfl','image/svg+xml','UTyEH','../model/status_page','getAll','hKmaL','6265DLsxyU','Router','SJVKr','N/A','badge-maker','Not\x20Found','/api/status-page/heartbeat/:slug','status','9471qHEAQG','../modules/apicache','indexHTML','QcvZS','Maintenance','IGLwO','../util-server','#808080','json','OdStF','hSAJR','BgFEp','76BsMSYZ','default','reverse','PvXYf','image/png','/api/status-page/:slug/badge','AfWgQ','send','SerzI','express','getCol','zmzzj','/status-page','../uptime-kuma-server','DrYxB','findOne','type','JSmdd','289996QFeCLI','../../src/util','slugToID','1\x20minutes','defaultDownColor','toPublicJSON','1440\x20minutes','/status/'];_0x1435=function(){return _0x53f5e7;};return _0x1435();}function _0x3c5c(_0x25dd89,_0x2a1070){const _0x1435fe=_0x1435();return _0x3c5c=function(_0x3c5cfa,_0x5c455f){_0x3c5cfa=_0x3c5cfa-0x163;let _0x3a7330=_0x1435fe[_0x3c5cfa];return _0x3a7330;},_0x3c5c(_0x25dd89,_0x2a1070);}router['get'](_0x4a4b47(0x19c),cache(_0x4a4b47(0x191)),async(_0xa21a71,_0x7c9f65)=>{const _0x1b82c1=_0x4a4b47;let _0x164460=_0xa21a71[_0x1b82c1(0x180)][_0x1b82c1(0x1a5)];await StatusPage['handleStatusPageResponse'](_0x7c9f65,server['indexHTML'],_0x164460);}),router[_0x4a4b47(0x1a1)](_0x4a4b47(0x18c),cache(_0x4a4b47(0x191)),async(_0x4af24e,_0x5dadaa)=>{const _0x4adc2b=_0x4a4b47;let _0x1a6f27=_0x4adc2b(0x167);await StatusPage[_0x4adc2b(0x199)](_0x5dadaa,server[_0x4adc2b(0x1bb)],_0x1a6f27);}),router['get'](_0x4a4b47(0x172),cache('5\x20minutes'),async(_0x3f21f4,_0x294993)=>{const _0x5016a5=_0x4a4b47;let _0x17e711=_0x5016a5(0x167);await StatusPage[_0x5016a5(0x199)](_0x294993,server[_0x5016a5(0x1bb)],_0x17e711);}),router[_0x4a4b47(0x1a1)]('/api/status-page/:slug',cache(_0x4a4b47(0x191)),async(_0x5d40d1,_0x5008dc)=>{const _0x49ca90=_0x4a4b47,_0x4245e8={'TPCAZ':function(_0xab37d9,_0x7b7d92){return _0xab37d9(_0x7b7d92);},'SJVKr':_0x49ca90(0x18e),'EvSfl':function(_0x46df2e,_0x511bd7,_0x37d5c3){return _0x46df2e(_0x511bd7,_0x37d5c3);},'xRTky':_0x49ca90(0x1b6)};_0x4245e8['TPCAZ'](allowDevAllOrigin,_0x5008dc);let _0x26db2f=_0x5d40d1[_0x49ca90(0x180)][_0x49ca90(0x1a5)];try{let _0x3d746f=await R[_0x49ca90(0x175)](_0x49ca90(0x197),_0x4245e8[_0x49ca90(0x1b3)],[_0x26db2f]);if(!_0x3d746f)return null;let _0x3078f0=await StatusPage['getStatusPageData'](_0x3d746f);if(!_0x3078f0){_0x4245e8['EvSfl'](sendHttpError,_0x5008dc,_0x4245e8[_0x49ca90(0x19d)]);return;}_0x5008dc[_0x49ca90(0x1c1)](_0x3078f0);}catch(_0x1774c7){_0x4245e8[_0x49ca90(0x1ab)](sendHttpError,_0x5008dc,_0x1774c7[_0x49ca90(0x194)]);}}),router[_0x4a4b47(0x1a1)](_0x4a4b47(0x1b7),cache(_0x4a4b47(0x17b)),async(_0x2b6162,_0x535e74)=>{const _0x5323a7=_0x4a4b47,_0x26cd45={'hGAlV':'Maintenance','BgFEp':function(_0x30ab9e,_0x279fb1){return _0x30ab9e!==_0x279fb1;},'qxILf':_0x5323a7(0x169),'RZjJX':function(_0x68c467,_0x22bf59,_0x318dd4){return _0x68c467(_0x22bf59,_0x318dd4);}};allowDevAllOrigin(_0x535e74);try{if(_0x26cd45[_0x5323a7(0x165)](_0x26cd45[_0x5323a7(0x1aa)],_0x26cd45[_0x5323a7(0x1aa)]))_0x1704f2['label']=_0x76d315?_0x2d10a4:'',_0x21518e['color']=_0x191a50,_0x1b19cd['message']=_0x26cd45[_0x5323a7(0x181)];else{let _0x44467c={},_0x45f335={},_0x21af9b=_0x2b6162[_0x5323a7(0x180)][_0x5323a7(0x1a5)],_0x1edd52=await StatusPage[_0x5323a7(0x17a)](_0x21af9b),_0x1a83ed=await R['getCol']('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20SELECT\x20monitor_group.monitor_id\x20FROM\x20monitor_group,\x20`group`\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20monitor_group.group_id\x20=\x20`group`.id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20AND\x20public\x20=\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20AND\x20`group`.status_page_id\x20=\x20?\x0a\x20\x20\x20\x20\x20\x20\x20\x20',[_0x1edd52]);for(let _0x4d99b7 of _0x1a83ed){let _0x9ac5d8=await R[_0x5323a7(0x1af)]('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20SELECT\x20*\x20FROM\x20heartbeat\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20monitor_id\x20=\x20?\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ORDER\x20BY\x20time\x20DESC\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20LIMIT\x2050\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',[_0x4d99b7]);_0x9ac5d8=R[_0x5323a7(0x18d)]('heartbeat',_0x9ac5d8),_0x44467c[_0x4d99b7]=_0x9ac5d8[_0x5323a7(0x168)]()[_0x5323a7(0x18a)](_0x1e60a3=>_0x1e60a3[_0x5323a7(0x17d)]());const _0x18aeb0=0x18;_0x45f335[_0x4d99b7+'_'+_0x18aeb0]=await Monitor[_0x5323a7(0x1a0)](_0x18aeb0,_0x4d99b7);}_0x535e74[_0x5323a7(0x1c1)]({'heartbeatList':_0x44467c,'uptimeList':_0x45f335});}}catch(_0x39773e){_0x26cd45['RZjJX'](sendHttpError,_0x535e74,_0x39773e[_0x5323a7(0x194)]);}}),router[_0x4a4b47(0x1a1)]('/api/status-page/:slug/manifest.json',cache(_0x4a4b47(0x17e)),async(_0xc62cc0,_0xa131e0)=>{const _0x1c888e=_0x4a4b47,_0x1b79a7={'UTyEH':_0x1c888e(0x197),'KVYAC':'\x20slug\x20=\x20?\x20','kXxpS':_0x1c888e(0x1b6),'IGLwO':_0x1c888e(0x182),'kYcst':_0x1c888e(0x16a),'rbtHe':function(_0x3f44e2,_0x8120c2,_0x5bd1b3){return _0x3f44e2(_0x8120c2,_0x5bd1b3);}};allowDevAllOrigin(_0xa131e0);let _0x27e1c8=_0xc62cc0['params'][_0x1c888e(0x1a5)];try{let _0x3cae74=await R[_0x1c888e(0x175)](_0x1b79a7[_0x1c888e(0x1ad)],_0x1b79a7[_0x1c888e(0x1a8)],[_0x27e1c8]);if(!_0x3cae74){sendHttpError(_0xa131e0,_0x1b79a7[_0x1c888e(0x185)]);return;}_0xa131e0[_0x1c888e(0x1c1)]({'name':_0x3cae74[_0x1c888e(0x19f)],'start_url':_0x1c888e(0x17f)+_0x3cae74[_0x1c888e(0x1a5)],'display':_0x1b79a7[_0x1c888e(0x1be)],'icons':[{'src':_0x3cae74['icon'],'sizes':'128x128','type':_0x1b79a7[_0x1c888e(0x196)]}]});}catch(_0x21f0fd){_0x1b79a7[_0x1c888e(0x1a4)](sendHttpError,_0xa131e0,_0x21f0fd[_0x1c888e(0x194)]);}}),router[_0x4a4b47(0x1a1)](_0x4a4b47(0x16b),cache('5\x20minutes'),async(_0xebddff,_0x46e564)=>{const _0x52c75d=_0x4a4b47,_0x4db705={'hSAJR':_0x52c75d(0x1b6),'DskBa':_0x52c75d(0x1a2),'QVwty':_0x52c75d(0x1bc),'uNsiv':function(_0x2263db,_0x4e46b7){return _0x2263db===_0x4e46b7;},'AfWgQ':'diFFU','OdStF':_0x52c75d(0x1b4),'YbTla':_0x52c75d(0x177),'DrYxB':_0x52c75d(0x1bd),'cdAYC':function(_0x4d9390,_0x1e2db7){return _0x4d9390&&_0x1e2db7;},'zmzzj':function(_0x17118e,_0x477263){return _0x17118e&&_0x477263;},'SerzI':function(_0x48521a,_0x359a85){return _0x48521a===_0x359a85;},'BXoKD':_0x52c75d(0x1b0),'PWOxa':'Down','sntJH':function(_0x96404b,_0x5357a0,_0x994fc8){return _0x96404b(_0x5357a0,_0x994fc8);}};allowDevAllOrigin(_0x46e564);const _0x20894c=_0xebddff[_0x52c75d(0x180)][_0x52c75d(0x1a5)],_0xc4fe54=await StatusPage[_0x52c75d(0x17a)](_0x20894c),{label:_0x3eaea1,upColor:upColor=badgeConstants[_0x52c75d(0x19e)],downColor:downColor=badgeConstants[_0x52c75d(0x17c)],partialColor:partialColor=_0x4db705[_0x52c75d(0x1a9)],maintenanceColor:maintenanceColor=_0x52c75d(0x1c0),style:style=badgeConstants[_0x52c75d(0x186)]}=_0xebddff[_0x52c75d(0x1a6)];try{let _0x52b962=await R[_0x52c75d(0x170)]('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20SELECT\x20monitor_group.monitor_id\x20FROM\x20monitor_group,\x20`group`\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20monitor_group.group_id\x20=\x20`group`.id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20AND\x20public\x20=\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20AND\x20`group`.status_page_id\x20=\x20?\x0a\x20\x20\x20\x20\x20\x20\x20\x20',[_0xc4fe54]),_0x33d0f1=![],_0x2546cc=![],_0x907c1b=![];for(let _0x45c431 of _0x52b962){if(_0x4db705[_0x52c75d(0x193)]===_0x52c75d(0x1bc)){let _0x55aac1=await R[_0x52c75d(0x1af)]('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20SELECT\x20*\x20FROM\x20heartbeat\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20monitor_id\x20=\x20?\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ORDER\x20BY\x20time\x20DESC\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20LIMIT\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',[_0x45c431]);if(_0x4db705['uNsiv'](_0x55aac1[_0x52c75d(0x189)],0x0))continue;if(_0x55aac1[0x0]['status']===0x3)_0x907c1b=!![];else{if(_0x4db705['uNsiv'](_0x55aac1[0x0]['status'],0x2)){}else _0x55aac1[0x0][_0x52c75d(0x1b8)]===0x1?_0x33d0f1=!![]:_0x4db705['uNsiv'](_0x4db705[_0x52c75d(0x16c)],_0x4db705['AfWgQ'])?_0x2546cc=!![]:_0x26dbb1=!![];}}else _0x1e35fe[_0x52c75d(0x198)]=_0x5efe74?_0x515eb6:'',_0x2ef05a[_0x52c75d(0x190)]=_0x3db77d,_0x1037b0[_0x52c75d(0x194)]=_0x52c75d(0x18b);}const _0x1fce7e={'style':style};if(!_0x33d0f1&&!_0x2546cc&&!_0x907c1b)_0x1fce7e[_0x52c75d(0x194)]=_0x4db705[_0x52c75d(0x163)],_0x1fce7e['color']=badgeConstants['naColor'];else{if(_0x907c1b){if(_0x4db705[_0x52c75d(0x18f)]===_0x4db705[_0x52c75d(0x18f)])_0x1fce7e[_0x52c75d(0x198)]=_0x3eaea1?_0x3eaea1:'',_0x1fce7e[_0x52c75d(0x190)]=maintenanceColor,_0x1fce7e[_0x52c75d(0x194)]=_0x4db705[_0x52c75d(0x174)];else{_0xa8530a(_0x67dd10,_0x4db705[_0x52c75d(0x164)]);return;}}else{if(_0x4db705['cdAYC'](_0x33d0f1,!_0x2546cc))_0x1fce7e[_0x52c75d(0x198)]=_0x3eaea1?_0x3eaea1:'',_0x1fce7e[_0x52c75d(0x190)]=upColor,_0x1fce7e['message']='Up';else _0x4db705[_0x52c75d(0x171)](_0x33d0f1,_0x2546cc)?(_0x1fce7e['label']=_0x3eaea1?_0x3eaea1:'',_0x1fce7e[_0x52c75d(0x190)]=partialColor,_0x1fce7e[_0x52c75d(0x194)]=_0x52c75d(0x18b)):_0x4db705[_0x52c75d(0x16e)](_0x52c75d(0x1b0),_0x4db705['BXoKD'])?(_0x1fce7e['label']=_0x3eaea1?_0x3eaea1:'',_0x1fce7e['color']=downColor,_0x1fce7e[_0x52c75d(0x194)]=_0x4db705[_0x52c75d(0x188)]):_0x5a4a66(_0x4a29c3,_0x462bbe['message']);}}const _0x4cbe03=makeBadge(_0x1fce7e);_0x46e564[_0x52c75d(0x176)](_0x52c75d(0x1ac)),_0x46e564[_0x52c75d(0x16d)](_0x4cbe03);}catch(_0x3d35ed){_0x4db705['sntJH'](sendHttpError,_0x46e564,_0x3d35ed[_0x52c75d(0x194)]);}}),module[_0x4a4b47(0x183)]=router;