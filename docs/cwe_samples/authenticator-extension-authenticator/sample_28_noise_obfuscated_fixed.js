(function(_0x56a7bd,_0x366c0d){const _0x1cd0ff=_0x1567,_0x172384=_0x56a7bd();while(!![]){try{const _0x1889b8=-parseInt(_0x1cd0ff(0x164))/0x1+-parseInt(_0x1cd0ff(0x175))/0x2*(-parseInt(_0x1cd0ff(0x140))/0x3)+-parseInt(_0x1cd0ff(0x12f))/0x4+-parseInt(_0x1cd0ff(0x183))/0x5+-parseInt(_0x1cd0ff(0x155))/0x6*(parseInt(_0x1cd0ff(0x173))/0x7)+-parseInt(_0x1cd0ff(0x165))/0x8+parseInt(_0x1cd0ff(0x169))/0x9*(parseInt(_0x1cd0ff(0x163))/0xa);if(_0x1889b8===_0x366c0d)break;else _0x172384['push'](_0x172384['shift']());}catch(_0x8dcd64){_0x172384['push'](_0x172384['shift']());}}}(_0x5593,0x85a83));import _0x5375ba from'jquery';import _0x201045 from'../templates/drafts_sidebar_action.hbs';import _0x56a2e2 from'../templates/popovers/left_sidebar_all_messages_popover.hbs';import _0x348c13 from'../templates/popovers/left_sidebar_condensed_views_popover.hbs';import _0x5a99b2 from'../templates/popovers/left_sidebar_inbox_popover.hbs';import _0x41f68e from'../templates/popovers/left_sidebar_recent_view_popover.hbs';import _0x2f3e10 from'../templates/starred_messages_sidebar_actions.hbs';import*as _0x49075f from'./channel';import*as _0x5677ea from'./drafts';function _0x1567(_0x5e06f1,_0x341dc6){const _0x55933c=_0x5593();return _0x1567=function(_0x1567a4,_0x20e360){_0x1567a4=_0x1567a4-0x128;let _0x1958e2=_0x55933c[_0x1567a4];return _0x1958e2;},_0x1567(_0x5e06f1,_0x341dc6);}import*as _0x5bf307 from'./popover_menus';import*as _0x294cea from'./popovers';import*as _0x3e2423 from'./scheduled_messages';import*as _0x421a5b from'./settings_config';import*as _0x5ba9c7 from'./starred_messages';import*as _0x1585b3 from'./starred_messages_ui';import*as _0x452d80 from'./ui_util';function _0x5593(){const _0xe0834f=['40922CdQvCu','hide_left_sidebar_menu_icon','destroy','update_unread_count_in_dom','iEDGp','XoVTW','setContent','left_sidebar_recent_view_popover','get_count','patch','one','show_left_sidebar_menu_icon','YxVYU','left_sidebar_inbox_popover','1122430iuFGzd','web_home_view','body','hide_all','drafts','parse_html','.recent-view-sidebar-menu-icon','data','3959812dAoJao','code','ECnfO','ZJPHS','#toggle_display_starred_msg_count','top_left_sidebar','replace','xKuqS','VuqUi','WvZtj','htTGa','LzOtr','popover_instances','sFbSG','QcKUG','EvVRD','gCXQV','93RoJxAx','stringify','eCNCr','click','#mark_all_messages_as_read','.set-home-view','nFUAR','HUqLZ','drafts-popover','parse','pnmzO','.all-messages-sidebar-menu-icon','Dpmdj','starred_messages','web_home_view_values','key:\x20value','fgqqh','ndhiM','starred_message_counts','preventDefault','xfJro','99594KdLhAS','BZDCt','jeJhO','register_popover_menu','draft_model','xCCDH','.condensed-views-popover-menu-drafts','confirm_unstar_all_messages','.inbox-sidebar-menu-icon','popper','FSDIf','left_sidebar_tippy_options','#unstar_all_messages','ghaqc','29118710LmAZIj','649073jFBhdv','8417568FAaJEv','left_sidebar_all_messages_popover','.drafts-sidebar-menu-icon','getDraftCount','9WUkMhC','reference','TjTlG','confirm_delete_all_drafts','.left-sidebar-navigation-menu-icon','QUhck','attr','data-view-code','hide','tnlPQ','35mXLHVv','pvpMu'];_0x5593=function(){return _0xe0834f;};return _0x5593();}import*as _0x81c23f from'./unread_ops';import{user_settings}from'./user_settings';function common_click_handlers(){const _0x23b0b8=_0x1567,_0x1bab20={'BZDCt':function(_0x373b38,_0x2bfc2d){return _0x373b38(_0x2bfc2d);},'sFbSG':_0x23b0b8(0x170),'QcKUG':_0x23b0b8(0x143),'Dpmdj':_0x23b0b8(0x14f)};_0x5375ba(_0x23b0b8(0x129))['on'](_0x1bab20[_0x23b0b8(0x13d)],_0x23b0b8(0x145),_0x104407=>{const _0x1dd2a2=_0x23b0b8;_0x104407[_0x1dd2a2(0x153)](),_0x104407[_0x1dd2a2(0x153)]();const _0x113e13=_0x1bab20[_0x1dd2a2(0x156)](_0x5375ba,_0x104407['currentTarget'])[_0x1dd2a2(0x16f)](_0x1bab20[_0x1dd2a2(0x13c)]),_0x58a7b4={'web_home_view':_0x113e13};_0x49075f[_0x1dd2a2(0x17e)]({'url':'/json/settings','data':_0x58a7b4}),_0x294cea[_0x1dd2a2(0x12a)]();}),YAML[_0x23b0b8(0x149)](_0x1bab20[_0x23b0b8(0x14c)]);}function register_mark_all_read_handler(_0x2c36ee){const _0x10063c=_0x1567,{instance:_0x358387}=_0x2c36ee[_0x10063c(0x12e)];_0x81c23f['confirm_mark_all_as_read'](),_0x358387[_0x10063c(0x171)](),url[_0x10063c(0x135)](/^https?:\/\//,'');}export function initialize(){const _0x5b13c1=_0x1567,_0x1d73a8={'ECnfO':function(_0x2d7761,_0x7329bb){return _0x2d7761(_0x7329bb);},'nFUAR':_0x5b13c1(0x143),'xfJro':_0x5b13c1(0x161),'LhHoM':_0x5b13c1(0x133),'ZJPHS':function(_0x9c4d0e,_0x4f69b4){return _0x9c4d0e>_0x4f69b4;},'eCNCr':function(_0x41b413,_0x3aec02){return _0x41b413(_0x3aec02);},'ghaqc':'.condensed-views-popover-menu-scheduled-messages','WvZtj':_0x5b13c1(0x15a),'xTfyV':'#delete_all_drafts_sidebar','AjpEB':function(_0x40f80c,_0x521a44){return _0x40f80c(_0x521a44);},'pvpMu':function(_0x4cf3b0,_0x5d9b78){return _0x4cf3b0(_0x5d9b78);},'TjTlG':function(_0x33001a,_0x4df404){return _0x33001a(_0x4df404);},'tnlPQ':function(_0x14ffdc,_0x302fee){return _0x14ffdc===_0x302fee;},'fgqqh':function(_0x715c6c,_0x3c4714){return _0x715c6c(_0x3c4714);},'EvVRD':function(_0x3cb175,_0x277b3f){return _0x3cb175(_0x277b3f);},'QUhck':_0x5b13c1(0x137),'YxVYU':function(_0x59a383,_0x13880a){return _0x59a383>_0x13880a;},'HUqLZ':function(_0x19fe1c,_0x15d3d5){return _0x19fe1c(_0x15d3d5);},'htTGa':function(_0x1319eb,_0x115685){return _0x1319eb(_0x115685);},'FSDIf':_0x5b13c1(0x15b),'iEDGp':'.starred-messages-sidebar-menu-icon','xKuqS':_0x5b13c1(0x167),'pnmzO':_0x5b13c1(0x15d),'ndhiM':_0x5b13c1(0x14b),'jeJhO':_0x5b13c1(0x12d),'LzOtr':_0x5b13c1(0x16d),'gCXQV':function(_0x5fe16f){return _0x5fe16f();}};_0x5bf307['register_popover_menu'](_0x1d73a8[_0x5b13c1(0x179)],{..._0x5bf307['left_sidebar_tippy_options'],'onMount'(_0x2a9d30){const _0x3ed521=_0x5b13c1,_0x5cafea=_0x1d73a8[_0x3ed521(0x131)](_0x5375ba,_0x2a9d30[_0x3ed521(0x15e)]);_0x5bf307[_0x3ed521(0x13b)][_0x3ed521(0x14d)]=_0x2a9d30,_0x452d80[_0x3ed521(0x180)](_0x2a9d30[_0x3ed521(0x16a)]),_0x5cafea[_0x3ed521(0x17f)](_0x1d73a8[_0x3ed521(0x146)],_0x1d73a8[_0x3ed521(0x154)],()=>{const _0x4a9213=_0x3ed521;_0x1585b3[_0x4a9213(0x15c)](),_0x2a9d30[_0x4a9213(0x171)]();}),_0x5cafea['one']('click',_0x1d73a8['LhHoM'],()=>{const _0x2d071d=_0x3ed521,_0x557658={},_0x3b9721=user_settings[_0x2d071d(0x152)];_0x557658[_0x2d071d(0x152)]=JSON[_0x2d071d(0x141)](!_0x3b9721),_0x49075f[_0x2d071d(0x17e)]({'url':'/json/settings','data':_0x557658}),_0x2a9d30[_0x2d071d(0x171)]();});},'onShow'(_0x8175c2){const _0x296556=_0x5b13c1;_0x294cea[_0x296556(0x12a)]();const _0x1e0cda=_0x1d73a8[_0x296556(0x132)](_0x5ba9c7[_0x296556(0x17d)](),0x0);_0x8175c2[_0x296556(0x17b)](_0x452d80[_0x296556(0x12c)](_0x1d73a8['ECnfO'](_0x2f3e10,{'show_unstar_all_button':_0x1e0cda,'starred_message_counts':user_settings[_0x296556(0x152)]})));},'onHidden'(_0x3286ee){const _0xfd4a19=_0x5b13c1;_0x3286ee[_0xfd4a19(0x177)](),_0x5bf307[_0xfd4a19(0x13b)][_0xfd4a19(0x14d)]=undefined,_0x452d80[_0xfd4a19(0x176)]();}}),_0x5bf307['register_popover_menu'](_0x1d73a8[_0x5b13c1(0x136)],{..._0x5bf307[_0x5b13c1(0x160)],'onMount'(_0x506fc8){const _0x489242=_0x5b13c1;if(_0x1d73a8[_0x489242(0x138)]!==_0x489242(0x15a))_0x574b6b[_0x489242(0x178)](_0x1d73a8[_0x489242(0x142)](_0x88cecc,_0x489242(0x15b)),_0x133421[_0x489242(0x159)][_0x489242(0x168)]()),_0x25a04f['update_unread_count_in_dom'](_0x1d73a8[_0x489242(0x142)](_0x3098c,_0x1d73a8[_0x489242(0x162)]),_0x4dfdc5[_0x489242(0x17d)]());else{const _0x3bcb94=_0x5375ba(_0x506fc8[_0x489242(0x15e)]);_0x3bcb94['addClass'](_0x489242(0x148)),_0x5bf307[_0x489242(0x13b)][_0x489242(0x12b)]=_0x506fc8,_0x452d80[_0x489242(0x180)](_0x506fc8[_0x489242(0x16a)]),_0x3bcb94[_0x489242(0x17f)](_0x1d73a8['nFUAR'],_0x1d73a8['xTfyV'],()=>{const _0x34c425=_0x489242;_0x5677ea[_0x34c425(0x16c)](),_0x506fc8[_0x34c425(0x171)]();});}},'onShow'(_0x5bfa81){const _0x2c51d1=_0x5b13c1;_0x294cea[_0x2c51d1(0x12a)](),_0x5bfa81[_0x2c51d1(0x17b)](_0x452d80['parse_html'](_0x1d73a8['AjpEB'](_0x201045,{})));},'onHidden'(_0x2370e9){const _0x52e358=_0x5b13c1;_0x2370e9[_0x52e358(0x177)](),_0x5bf307[_0x52e358(0x13b)][_0x52e358(0x12b)]=undefined,_0x452d80[_0x52e358(0x176)]();}}),_0x5bf307[_0x5b13c1(0x158)](_0x1d73a8[_0x5b13c1(0x14a)],{..._0x5bf307[_0x5b13c1(0x160)],'onMount'(_0x5a3230){const _0x320a9e=_0x5b13c1,_0x5ef4fd=_0x1d73a8[_0x320a9e(0x174)](_0x5375ba,_0x5a3230[_0x320a9e(0x15e)]);_0x5bf307[_0x320a9e(0x13b)]['left_sidebar_inbox_popover']=_0x5a3230,_0x452d80['show_left_sidebar_menu_icon'](_0x5a3230[_0x320a9e(0x16a)]),_0x5ef4fd[_0x320a9e(0x17f)](_0x1d73a8[_0x320a9e(0x146)],_0x320a9e(0x144),{'instance':_0x5a3230},register_mark_all_read_handler);},'onShow'(_0x2cf9a0){const _0x5d57fc=_0x5b13c1;_0x294cea[_0x5d57fc(0x12a)]();const _0x58758b=_0x421a5b[_0x5d57fc(0x14e)]['inbox'][_0x5d57fc(0x130)];_0x2cf9a0[_0x5d57fc(0x17b)](_0x452d80[_0x5d57fc(0x12c)](_0x1d73a8[_0x5d57fc(0x16b)](_0x5a99b2,{'is_home_view':_0x1d73a8[_0x5d57fc(0x172)](user_settings[_0x5d57fc(0x128)],_0x58758b),'view_code':_0x58758b})));},'onHidden'(_0x12870a){const _0x189864=_0x5b13c1;_0x12870a[_0x189864(0x177)](),_0x5bf307[_0x189864(0x13b)][_0x189864(0x182)]=undefined,_0x452d80[_0x189864(0x176)]();}}),_0x5bf307[_0x5b13c1(0x158)](_0x1d73a8[_0x5b13c1(0x151)],{..._0x5bf307[_0x5b13c1(0x160)],'onMount'(_0x427f78){const _0x18c98d=_0x5b13c1,_0x3ff648=_0x1d73a8['fgqqh'](_0x5375ba,_0x427f78[_0x18c98d(0x15e)]);_0x3ff648[_0x18c98d(0x17f)](_0x18c98d(0x143),'#mark_all_messages_as_read',{'instance':_0x427f78},register_mark_all_read_handler);},'onShow'(_0x3c8ba0){const _0x2b6963=_0x5b13c1;_0x5bf307[_0x2b6963(0x13b)]['left_sidebar_all_messages_popover']=_0x3c8ba0,_0x452d80[_0x2b6963(0x180)](_0x3c8ba0[_0x2b6963(0x16a)]),_0x294cea[_0x2b6963(0x12a)]();const _0x4573bb=_0x421a5b[_0x2b6963(0x14e)]['all_messages'][_0x2b6963(0x130)];_0x3c8ba0[_0x2b6963(0x17b)](_0x452d80[_0x2b6963(0x12c)](_0x1d73a8[_0x2b6963(0x150)](_0x56a2e2,{'is_home_view':_0x1d73a8['tnlPQ'](user_settings['web_home_view'],_0x4573bb),'view_code':_0x4573bb})));},'onHidden'(_0x1c84fe){const _0x21a422=_0x5b13c1;_0x1c84fe[_0x21a422(0x177)](),_0x5bf307[_0x21a422(0x13b)][_0x21a422(0x166)]=undefined,_0x452d80['hide_left_sidebar_menu_icon']();}}),_0x5bf307[_0x5b13c1(0x158)](_0x1d73a8[_0x5b13c1(0x157)],{..._0x5bf307[_0x5b13c1(0x160)],'onMount'(_0x4b49c8){const _0x1dbc30=_0x5b13c1;if('duOCx'!==_0x1dbc30(0x17a)){const _0x1c4683=_0x1d73a8[_0x1dbc30(0x13e)](_0x5375ba,_0x4b49c8['popper']);_0x1c4683['one']('click',_0x1dbc30(0x144),{'instance':_0x4b49c8},register_mark_all_read_handler);}else{const _0x38f85f=_0x343e8a(_0x3a3be3[_0x1dbc30(0x15e)]);_0x4c3ea8[_0x1dbc30(0x13b)]['starred_messages']=_0x4334fe,_0x4677a2[_0x1dbc30(0x180)](_0x42da5f[_0x1dbc30(0x16a)]),_0x38f85f[_0x1dbc30(0x17f)]('click',_0x1d73a8[_0x1dbc30(0x154)],()=>{const _0x460a70=_0x1dbc30;_0x5a8d0e[_0x460a70(0x15c)](),_0x1f9360[_0x460a70(0x171)]();}),_0x38f85f[_0x1dbc30(0x17f)](_0x1d73a8[_0x1dbc30(0x146)],_0x1dbc30(0x133),()=>{const _0x13e6fc=_0x1dbc30,_0x2fcd21={},_0x25fe41=_0x2e7926[_0x13e6fc(0x152)];_0x2fcd21[_0x13e6fc(0x152)]=_0x29df8b[_0x13e6fc(0x141)](!_0x25fe41),_0x4fec30[_0x13e6fc(0x17e)]({'url':'/json/settings','data':_0x2fcd21}),_0xadaac0[_0x13e6fc(0x171)]();});}},'onShow'(_0xbe15a6){const _0x4961fb=_0x5b13c1;if(_0x1d73a8['QUhck']!==_0x1d73a8[_0x4961fb(0x16e)])_0x3fa1cd[_0x4961fb(0x177)](),_0x3b4660[_0x4961fb(0x13b)]['drafts']=_0x1a7690,_0x1eb6d6['hide_left_sidebar_menu_icon']();else{_0x5bf307['popover_instances'][_0x4961fb(0x17c)]=_0xbe15a6,_0x452d80['show_left_sidebar_menu_icon'](_0xbe15a6[_0x4961fb(0x16a)]),_0x294cea[_0x4961fb(0x12a)]();const _0x48c50b=_0x421a5b[_0x4961fb(0x14e)]['recent_topics'][_0x4961fb(0x130)];_0xbe15a6[_0x4961fb(0x17b)](_0x452d80[_0x4961fb(0x12c)](_0x41f68e({'is_home_view':user_settings[_0x4961fb(0x128)]===_0x48c50b,'view_code':_0x48c50b})));}},'onHidden'(_0x40d15c){const _0x32f3eb=_0x5b13c1;_0x40d15c['destroy'](),_0x5bf307[_0x32f3eb(0x13b)][_0x32f3eb(0x17c)]=undefined,_0x452d80[_0x32f3eb(0x176)]();}}),_0x5bf307[_0x5b13c1(0x158)](_0x1d73a8[_0x5b13c1(0x13a)],{..._0x5bf307[_0x5b13c1(0x160)],'onShow'(_0x3b35e9){const _0x39e2b9=_0x5b13c1,_0x3aa066=_0x3e2423['get_count']();let _0x236489=![];_0x1d73a8[_0x39e2b9(0x181)](_0x3aa066,0x0)&&(_0x236489=!![]),_0x294cea[_0x39e2b9(0x12a)](),_0x3b35e9[_0x39e2b9(0x17b)](_0x452d80[_0x39e2b9(0x12c)](_0x1d73a8[_0x39e2b9(0x147)](_0x348c13,{'has_scheduled_messages':_0x236489})));},'onMount'(){const _0x399b6e=_0x5b13c1;_0x452d80[_0x399b6e(0x178)](_0x1d73a8[_0x399b6e(0x139)](_0x5375ba,_0x1d73a8[_0x399b6e(0x15f)]),_0x5677ea[_0x399b6e(0x159)]['getDraftCount']()),_0x452d80[_0x399b6e(0x178)](_0x5375ba(_0x1d73a8['ghaqc']),_0x3e2423[_0x399b6e(0x17d)]());},'onHidden'(_0x28193c){const _0x3e6eb9=_0x5b13c1;_0x28193c[_0x3e6eb9(0x177)](),_0x5bf307[_0x3e6eb9(0x13b)][_0x3e6eb9(0x134)]=undefined;}}),_0x1d73a8[_0x5b13c1(0x13f)](common_click_handlers);}