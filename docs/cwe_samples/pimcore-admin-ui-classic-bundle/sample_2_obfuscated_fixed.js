'use strict';const _0x359011=_0x33a0;function _0x42f2(){const _0x6c9d7d=['kXspj','createObject','mongodb://localhost:27017/parseServerMongoAdapterTestDatabase?replicaSet=replicaset','AqtMe','maxTimeMS\x20should\x20not\x20affect\x20fast\x20queries\x20','handles\x20updating\x20a\x20single\x20object\x20with\x20array,\x20object\x20date','mongodb://localhost:27017/parseServerMongoAdapterTestDatabase','Find\x20succeeded\x20despite\x20taking\x20too\x20long!','nXaej','ACxiQ','../lib/Config','operation\x20exceeded\x20time\x20limit','JpQHf','myAttribute','DRvfs','WvQWV','ensureIndex','AnTMb','tjhme','tGUaz','should\x20delete\x20field\x20with\x20index','objectId','MytIq','Smyaj','adapter','serverStatus','case_insensitive_username','tkIss','iso','watch\x20_SCHEMA','JHFun','Server','insertOne','zKIME','GueOu','User','GtuZR','ecCGa','current','session','schemaCache','Hwtvt','set','COLLSCAN','classLevelPermissions','message','JustThePointer','QCvye','cYkEC','yaTTm','HBVhv','bigcU','eUfUB','toMatch','qKCCI','getClass\x20if\x20not\x20exists','length','admin','should\x20use\x20index\x20for\x20caseInsensitive\x20query','ptoWy','className','FZRay','catch','qgFlR','deleteFields','string','connections','rwbAm','clan','2132070rGRICE','upserts\x20with\x20$setOnInsert','lleYv','YkZoo','uDxbR','NQkie','MyClass','_id','GhdsZ','qwerty','WXVjN','WMIIv','ZsbDK','olmvW','foo','connect','meVZS','test','qPpgn','toBeGreaterThan','log','should\x20change','find','applicationId','MongoServerError','toBeDefined','should\x20not\x20use\x20transactions\x20when\x20using\x20SDK\x20update','Number','VLCQy','Luzit','subdoc','7789460zCoypE','transaction','CRyNo','should\x20not\x20use\x20transaction\x20in\x20a\x20batch\x20with\x20transaction\x20=\x20false','LzjNW','executionStats','FeMwH','handles\x20nested\x20dates','gGkln','getClass\x20if\x20exists','rEAjr','toBeUndefined','IdPJT','aMjbd','ePrYD','../lib/request','callThrough','ELNhE','UefDh','bar','XlIMP','NNGJP','UZtmt','MVADD','2016-05-26T20:55:01.154Z','Date','String','ghzGh','Upfmy','toBeTrue','HKyGP','xWijq','date','count','IdEBm','<5.1\x20||\x20>=6','deleteAllClasses','and','args','should\x20delete\x20field\x20without\x20index','cutJx','vUnZw','Schema','zhvGT','lDMjV','XHMvY','ykpCb','OkrIr','forEach','AEIiQ','clear','UekvZ','EEXQe','IMQCV','then','mongodb://user!with%40%2B%20symbols:password!with%40%2B%20symbols@localhost:1234/parse','fail','Ywtvo','../lib/TestUtils','PDURH','tan','env','../lib/Adapters/Storage/Mongo/MongoStorageAdapter','jdSCH','rhsVx','replicaset','_p_aPointer','drwMT','ghhJQ','zPfsv','fields','APointerDarkly','kNYcK','uuid','auoZv','object','jpaJy','aPointer','90SABgAF','bShtN','abcde','SQbBN','should\x20use\x20transaction\x20in\x20a\x20batch\x20with\x20transaction\x20=\x20true','CUfkp','get','qREZR','update','doesn\x27t\x20double\x20escape\x20already\x20URI-encoded\x20information','enableSchemaHooks','handles\x20nested\x20dates\x20in\x20array\x20','Increment','stringify','amount','Array','TOIso','MyObject','_User','signUp','omqxu','application/json','6GFyZxf','name','JLKtt','_rawFind','/1/classes/MyObject/','836657AntWsS','LZKdM','cHFtv','Pointer','toHaveBeenCalled','WBDZR','MongoStorageAdapter','transactions','http://localhost:8378/1/classes/MyObject/','mongodb://test:testpass@ds056315-a0.mongolab.com:59325,ds059315-a1.mongolab.com:59315/testDBname?replicaSet=rs-ds059415','all','927160hSGpLe','JEYft','save','PUT','_onchange','createClass','cedTH','SetOnInsert','POST','jVHML','array','tBpMS','findOneAndUpdate','toEqual','FETCH','Foo','mOTkC','XNyya','dAXDO','state','preserves\x20replica\x20sets','rZGUa','code','RbXPi','stage','xhiFv','toBeFalsy','stores\x20objectId\x20in\x20_id','lEjfz','should\x20not\x20use\x20transaction\x20in\x20a\x20put\x20request','4011343iaccnU','handles\x20object\x20and\x20subdocument','prototype','KAvhL','myValue','pnLLf','sleep(','__type','UnknownClass','setCLP','FzDrH','toHaveBeenCalledWith','password','zjTIK','BMMXE','toBe','GNECB','calls','should\x20not\x20use\x20transactions\x20when\x20using\x20SDK\x20delete','gMPlD','Bugs','resolve','Stuff','4765185iEBDpD','GgZlG','uWiwa','Object','1935292fspeiM','yzQpS','apRbR','find\x20succeeds\x20when\x20query\x20is\x20within\x20maxTimeMS','first','getClass','linaR','xYQZj','TRANSACTION_COMMITTED','database','returnValue','dropAllIndexes','JFhSe','any','4rqhOwk','ESNFL','telSX','destroy','username','mongodb'];_0x42f2=function(){return _0x6c9d7d;};return _0x42f2();}(function(_0x558b08,_0x426916){const _0x3106f8=_0x33a0,_0x45d5c4=_0x558b08();while(!![]){try{const _0x478119=parseInt(_0x3106f8(0xda))/0x1+-parseInt(_0x3106f8(0x11e))/0x2+-parseInt(_0x3106f8(0x177))/0x3*(parseInt(_0x3106f8(0x12c))/0x4)+-parseInt(_0x3106f8(0x11a))/0x5+-parseInt(_0x3106f8(0xd5))/0x6*(-parseInt(_0x3106f8(0x103))/0x7)+parseInt(_0x3106f8(0xe5))/0x8*(parseInt(_0x3106f8(0xbf))/0x9)+parseInt(_0x3106f8(0x71))/0xa;if(_0x478119===_0x426916)break;else _0x45d5c4['push'](_0x45d5c4['shift']());}catch(_0x4631dc){_0x45d5c4['push'](_0x45d5c4['shift']());}}}(_0x42f2,0xaedc5));function _0x33a0(_0x1d0682,_0x2e5d7b){const _0x42f22b=_0x42f2();return _0x33a0=function(_0x33a09f,_0x16c8ee){_0x33a09f=_0x33a09f-0x6d;let _0x4e5d03=_0x42f22b[_0x33a09f];return _0x4e5d03;},_0x33a0(_0x1d0682,_0x2e5d7b);}const MongoStorageAdapter=require(_0x359011(0xaf))['default'],{MongoClient,Collection}=require(_0x359011(0x131)),databaseURI=_0x359011(0x138),request=require(_0x359011(0x80)),Config=require(_0x359011(0x13c)),TestUtils=require(_0x359011(0xab)),fakeClient={'s':{'options':{'dbName':null}},'db':()=>null};describe_only_db('mongo')(_0x359011(0xe0),()=>{const _0x4c880d=_0x359011,_0x202e1b={'ePrYD':'mongodb://user!with@+\x20symbols:password!with@+\x20symbols@localhost:1234/parse','lDMjV':function(_0xca07e9,_0x18ddc0){return _0xca07e9(_0x18ddc0);},'YkZoo':_0x4c880d(0xa8),'jpaJy':_0x4c880d(0x186),'Hwtvt':_0x4c880d(0xe3),'JHFun':'abcde','omqxu':function(_0x4a3c46,_0x19eabf){return _0x4a3c46(_0x19eabf);},'GueOu':'Foo','ZsbDK':'JustThePointer','kNYcK':_0x4c880d(0xdd),'bigcU':_0x4c880d(0xbc),'WXVjN':_0x4c880d(0xad),'cHFtv':function(_0x2c47ef,_0x33ad1f){return _0x2c47ef!==_0x33ad1f;},'VLCQy':function(_0x2ed95d,_0x496620){return _0x2ed95d(_0x496620);},'xYQZj':function(_0x20c4db,_0x2b572e){return _0x20c4db(_0x2b572e);},'UekvZ':function(_0x6f54e3){return _0x6f54e3();},'qdGjE':function(_0x4a4aee,_0x34ed8e){return _0x4a4aee(_0x34ed8e);},'XNyya':_0x4c880d(0x84),'ptoWy':function(_0x332fa1,_0x358db5){return _0x332fa1(_0x358db5);},'Ywtvo':function(_0x343220){return _0x343220();},'IMQCV':'Date','xhiFv':_0x4c880d(0x17d),'ELNhE':function(_0x532d79,_0x210028){return _0x532d79(_0x210028);},'WMIIv':function(_0x48f89b,_0x5d0f69){return _0x48f89b instanceof _0x5d0f69;},'CRyNo':function(_0x2d4873,_0x3ac7c7){return _0x2d4873(_0x3ac7c7);},'bShtN':function(_0x33dd18,_0x41b830){return _0x33dd18 instanceof _0x41b830;},'zKIME':function(_0x5dd4af,_0x427c66){return _0x5dd4af instanceof _0x427c66;},'zPfsv':function(_0x58cf93,_0x42f92b){return _0x58cf93(_0x42f92b);},'rwbAm':function(_0x499967,_0x4e7e2d){return _0x499967(_0x4e7e2d);},'rEAjr':_0x4c880d(0xba),'dwYGB':_0x4c880d(0xcb),'wfEJK':_0x4c880d(0x89),'AQqcx':function(_0x654c82,_0x14ebef){return _0x654c82 instanceof _0x14ebef;},'SWOsv':function(_0x2e029a,_0x3993ad){return _0x2e029a(_0x3993ad);},'vmmlB':function(_0x3afede,_0x4725d0){return _0x3afede(_0x4725d0);},'uWiwa':function(_0x4068f1,_0x24cd94){return _0x4068f1>_0x24cd94;},'HBVhv':function(_0x32f967,_0x2e070a){return _0x32f967(_0x2e070a);},'cutJx':function(_0x41c7c7,_0x2e63e5){return _0x41c7c7(_0x2e63e5);},'FzDrH':function(_0x313f3b,_0x331efa){return _0x313f3b(_0x331efa);},'telSX':_0x4c880d(0x13d),'qREZR':function(_0x5191ab){return _0x5191ab();},'ykpCb':function(_0x30bdf2,_0x4e15df){return _0x30bdf2(_0x4e15df);},'IdEBm':_0x4c880d(0x10b),'yzQpS':'bugs','cCyxQ':_0x4c880d(0xd1),'PieYQ':_0x4c880d(0x14c),'meVZS':_0x4c880d(0x15d),'qKCCI':function(_0x3652e7,_0x14bf3b){return _0x3652e7(_0x14bf3b);},'xWijq':_0x4c880d(0xf3),'linaR':_0x4c880d(0xd0),'JEYft':_0x4c880d(0x188),'JpQHf':function(_0x4e9ec5,_0x4a1ee6){return _0x4e9ec5(_0x4a1ee6);},'tjhme':function(_0x29e890,_0x31295e,_0x2060d0){return _0x29e890(_0x31295e,_0x2060d0);},'QCvye':'findOneAndUpdate','apRbR':_0x4c880d(0xed),'lEjfz':'http://localhost:8378/1/batch','CUfkp':_0x4c880d(0xd9),'GtuZR':_0x4c880d(0x107),'Upfmy':function(_0x3079f2,_0x4454d9,_0x3129fd){return _0x3079f2(_0x4454d9,_0x3129fd);},'IdPJT':'PUT','MVADD':function(_0x4c32d0,_0x1acfeb){return _0x4c32d0+_0x1acfeb;},'NNGJP':function(_0x50ac92,_0x324691){return _0x50ac92(_0x324691);},'AAESg':function(_0x28cb76,_0x5ae2c7,_0x2ba4d0){return _0x28cb76(_0x5ae2c7,_0x2ba4d0);},'jVHML':_0x4c880d(0xe2),'gGkln':function(_0x356cd7,_0x2ba97a){return _0x356cd7(_0x2ba97a);},'ESNFL':function(_0x5cb44d,_0x5e12c6){return _0x5cb44d(_0x5e12c6);},'XlIMP':_0x4c880d(0x13f),'jCKBp':function(_0x163ac1,_0x35903b){return _0x163ac1(_0x35903b);},'rhsVx':function(_0x5c5dae,_0x572b3b){return _0x5c5dae(_0x572b3b);},'LZKdM':_0x4c880d(0xd4),'kXspj':'rest','UefDh':function(_0x57505d,_0xf60712){return _0x57505d(_0xf60712);},'ghhJQ':_0x4c880d(0x74),'ghzGh':function(_0x2c7bf9,_0x2cc3e9,_0x426187){return _0x2c7bf9(_0x2cc3e9,_0x426187);},'FeMwH':_0x4c880d(0x102),'Luzit':_0x4c880d(0x191),'GNECB':_0x4c880d(0x115),'HKyGP':_0x4c880d(0x11d),'cYkEC':_0x4c880d(0x119),'BMMXE':function(_0x4effdb,_0x3b064e){return _0x4effdb(_0x3b064e);},'drwMT':function(_0x4e9d88,_0x3d3198,_0xfb0246){return _0x4e9d88(_0x3d3198,_0xfb0246);},'tkIss':function(_0x1ac129,_0xdfad6e){return _0x1ac129(_0xdfad6e);},'zhvGT':function(_0x77872a,_0x34de7c){return _0x77872a(_0x34de7c);},'jdSCH':function(_0x180c19,_0x8e96d8,_0x72428a){return _0x180c19(_0x8e96d8,_0x72428a);},'ecCGa':function(_0x11046a,_0x829d18,_0x4653a5){return _0x11046a(_0x829d18,_0x4653a5);},'yaTTm':_0x4c880d(0xf9),'XHMvY':_0x4c880d(0x100),'JFhSe':_0x4c880d(0x104),'Smyaj':'handles\x20creating\x20an\x20array,\x20object,\x20date','vUnZw':function(_0x5425e8,_0x3bf6ac,_0xda0b0a){return _0x5425e8(_0x3bf6ac,_0xda0b0a);},'WvQWV':_0x4c880d(0x78),'OkrIr':_0x4c880d(0xca),'TCFxN':_0x4c880d(0x137),'tGUaz':function(_0x462362,_0x1ebee8,_0x319888){return _0x462362(_0x1ebee8,_0x319888);},'GhdsZ':_0x4c880d(0x169),'nUwfJ':_0x4c880d(0x16c),'pnLLf':function(_0x59fc8b,_0x45d7aa,_0x2ca9d8){return _0x59fc8b(_0x45d7aa,_0x2ca9d8);},'JNHMT':_0x4c880d(0x146),'PfrOu':_0x4c880d(0xb2)};_0x202e1b[_0x4c880d(0x9c)](beforeEach,_0x234e8e=>{const _0x42fedc=_0x4c880d;new MongoStorageAdapter({'uri':databaseURI})[_0x42fedc(0x95)]()[_0x42fedc(0xa7)](_0x234e8e,fail),Config[_0x42fedc(0xc5)](Parse[_0x42fedc(0x18e)])[_0x42fedc(0x15a)][_0x42fedc(0xa3)]();}),it('auto-escapes\x20symbols\x20in\x20auth\x20information',()=>{const _0x17d31b=_0x4c880d;spyOn(MongoClient,_0x17d31b(0x186))[_0x17d31b(0x96)][_0x17d31b(0x128)](Promise[_0x17d31b(0x118)](fakeClient)),new MongoStorageAdapter({'uri':_0x202e1b[_0x17d31b(0x7f)]})[_0x17d31b(0x186)](),expect(MongoClient[_0x17d31b(0x186)])[_0x17d31b(0x10e)]('mongodb://user!with%40%2B%20symbols:password!with%40%2B%20symbols@localhost:1234/parse',jasmine['any'](Object));}),_0x202e1b[_0x4c880d(0xb0)](it,_0x4c880d(0xc8),()=>{const _0x54cd25=_0x4c880d;spyOn(MongoClient,_0x54cd25(0x186))[_0x54cd25(0x96)][_0x54cd25(0x128)](Promise[_0x54cd25(0x118)](fakeClient)),new MongoStorageAdapter({'uri':_0x54cd25(0xa8)})[_0x54cd25(0x186)](),_0x202e1b[_0x54cd25(0x9d)](expect,MongoClient['connect'])[_0x54cd25(0x10e)](_0x202e1b[_0x54cd25(0x17a)],jasmine[_0x54cd25(0x12b)](Object));}),_0x202e1b[_0x4c880d(0x157)](it,_0x202e1b[_0x4c880d(0x163)],()=>{const _0x5a12bb=_0x4c880d;spyOn(MongoClient,_0x202e1b[_0x5a12bb(0xbd)])['and'][_0x5a12bb(0x128)](Promise[_0x5a12bb(0x118)](fakeClient)),new MongoStorageAdapter({'uri':_0x5a12bb(0xe3)})[_0x5a12bb(0x186)](),expect(MongoClient['connect'])[_0x5a12bb(0x10e)](_0x202e1b[_0x5a12bb(0x15b)],jasmine[_0x5a12bb(0x12b)](Object));}),_0x202e1b[_0x4c880d(0x8c)](it,_0x202e1b[_0x4c880d(0x9e)],_0x2532d2=>{const _0x3c06c7=_0x4c880d,_0x2f2056={'TOIso':'abcde','MytIq':function(_0x3984d9){return _0x3984d9();}},_0x2e1314=new MongoStorageAdapter({'uri':databaseURI});_0x2e1314[_0x3c06c7(0x133)](_0x3c06c7(0xf4),{'fields':{}},{'objectId':_0x202e1b[_0x3c06c7(0x150)]})[_0x3c06c7(0xa7)](()=>_0x2e1314[_0x3c06c7(0xd8)](_0x3c06c7(0xf4),{}))[_0x3c06c7(0xa7)](_0x5af500=>{const _0x24c85c=_0x3c06c7;expect(_0x5af500[_0x24c85c(0x16a)])[_0x24c85c(0xf2)](0x1);const _0x5aecbc=_0x5af500[0x0];expect(_0x5aecbc[_0x24c85c(0x17e)])[_0x24c85c(0xf2)](_0x2f2056[_0x24c85c(0xcf)]),expect(_0x5aecbc['objectId'])[_0x24c85c(0x7c)](),_0x2f2056[_0x24c85c(0x148)](_0x2532d2);});}),it(_0x4c880d(0x121),_0xaeb30a=>{const _0x4bbfa0=_0x4c880d,_0x195d91=0xfa,_0x93d08d=new MongoStorageAdapter({'uri':databaseURI,'mongoOptions':{'maxTimeMS':_0x195d91}});_0x93d08d[_0x4bbfa0(0x133)](_0x4bbfa0(0xf4),{'fields':{}},{'objectId':_0x202e1b[_0x4bbfa0(0x150)]})[_0x4bbfa0(0xa7)](()=>_0x93d08d[_0x4bbfa0(0xd8)](_0x4bbfa0(0xf4),{'$where':_0x4bbfa0(0x109)+_0x195d91/0x2+')'}))['then'](()=>_0xaeb30a(),_0x49b6e9=>{const _0x374f6a=_0x4bbfa0;_0xaeb30a['fail'](_0x374f6a(0x136)+_0x49b6e9);});}),_0x202e1b[_0x4c880d(0x8d)](it,'find\x20fails\x20when\x20query\x20exceeds\x20maxTimeMS',_0x2db296=>{const _0x3f0eb4=_0x4c880d,_0x5a331b={'gCHOi':function(_0x327e05,_0x28f765){const _0x44904a=_0x33a0;return _0x202e1b[_0x44904a(0xd3)](_0x327e05,_0x28f765);},'dAXDO':_0x3f0eb4(0x18f),'GgZlG':function(_0x36a61b,_0x771625){return _0x36a61b(_0x771625);},'WBDZR':function(_0x45481f,_0x3310c7){return _0x45481f(_0x3310c7);},'dBXrQ':function(_0x24984e){return _0x24984e();}},_0x559347=0xfa,_0x1af036=new MongoStorageAdapter({'uri':databaseURI,'mongoOptions':{'maxTimeMS':_0x559347}});_0x1af036[_0x3f0eb4(0x133)](_0x202e1b[_0x3f0eb4(0x154)],{'fields':{}},{'objectId':_0x202e1b[_0x3f0eb4(0x150)]})[_0x3f0eb4(0xa7)](()=>_0x1af036['_rawFind'](_0x3f0eb4(0xf4),{'$where':_0x3f0eb4(0x109)+_0x559347*0x2+')'}))[_0x3f0eb4(0xa7)](()=>{const _0x4da030=_0x3f0eb4;_0x2db296[_0x4da030(0xa9)](_0x4da030(0x139));},_0x440ee=>{const _0x469252=_0x3f0eb4;_0x5a331b['gCHOi'](expect,_0x440ee[_0x469252(0xd6)])[_0x469252(0xf2)](_0x5a331b[_0x469252(0xf7)]),_0x5a331b[_0x469252(0x11b)](expect,_0x440ee[_0x469252(0xfb)])[_0x469252(0xf2)](0x32),_0x5a331b[_0x469252(0xdf)](expect,_0x440ee[_0x469252(0x15f)])[_0x469252(0x167)](_0x469252(0x13d)),_0x5a331b['dBXrQ'](_0x2db296);});}),_0x202e1b[_0x4c880d(0x144)](it,'stores\x20pointers\x20with\x20a\x20_p_\x20prefix',_0x29f20a=>{const _0x1ca757=_0x4c880d,_0x6a360f={'AqtMe':function(_0xd4c98f,_0x30b73b){const _0x21de46=_0x33a0;return _0x202e1b[_0x21de46(0x9d)](_0xd4c98f,_0x30b73b);},'LzjNW':_0x1ca757(0x173)},_0x2868b1={'objectId':_0x1ca757(0x84),'aPointer':{'__type':'Pointer','className':_0x202e1b[_0x1ca757(0x183)],'objectId':_0x1ca757(0x180)}},_0x459381=new MongoStorageAdapter({'uri':databaseURI});_0x459381['createObject'](_0x1ca757(0xb8),{'fields':{'objectId':{'type':_0x1ca757(0x8b)},'aPointer':{'type':_0x202e1b[_0x1ca757(0xb9)],'targetClass':_0x1ca757(0x160)}}},_0x2868b1)['then'](()=>_0x459381[_0x1ca757(0xd8)](_0x1ca757(0xb8),{}))[_0x1ca757(0xa7)](_0x5e03ec=>{const _0x3724ca=_0x1ca757;expect(_0x5e03ec[_0x3724ca(0x16a)])[_0x3724ca(0xf2)](0x1);const _0x416dff=_0x5e03ec[0x0];_0x6a360f[_0x3724ca(0x135)](expect,typeof _0x416dff[_0x3724ca(0x17e)])[_0x3724ca(0xf2)](_0x6a360f['LzjNW']),expect(typeof _0x416dff[_0x3724ca(0xb3)])[_0x3724ca(0xf2)](_0x6a360f[_0x3724ca(0x75)]),_0x6a360f[_0x3724ca(0x135)](expect,_0x416dff['_p_aPointer'])['toEqual']('JustThePointer$qwerty'),expect(_0x416dff[_0x3724ca(0xbe)])[_0x3724ca(0x7c)](),_0x29f20a();});}),it(_0x202e1b[_0x4c880d(0x12a)],_0x5969d8=>{const _0x5e06a7=_0x4c880d,_0xaf34ae={'gMPlD':function(_0x1df723,_0x2585fe){return _0x202e1b['qdGjE'](_0x1df723,_0x2585fe);},'pcjLV':_0x202e1b['bigcU'],'olmvW':function(_0x5e633a,_0x3dfa91){return _0x5e633a(_0x3dfa91);},'JLKtt':_0x5e06a7(0x84),'cedTH':_0x202e1b[_0x5e06a7(0x181)]},_0x42dcf3=new MongoStorageAdapter({'uri':databaseURI}),_0x1dfdc7={'fields':{'subdoc':{'type':_0x5e06a7(0x11d)}}},_0x3ba4c8={'subdoc':{'foo':_0x202e1b[_0x5e06a7(0xf6)],'wu':_0x5e06a7(0xad)}};_0x42dcf3[_0x5e06a7(0x133)]('MyClass',_0x1dfdc7,_0x3ba4c8)[_0x5e06a7(0xa7)](()=>_0x42dcf3[_0x5e06a7(0xd8)](_0x5e06a7(0x17d),{}))[_0x5e06a7(0xa7)](_0x11ad84=>{const _0x332c43=_0x5e06a7;_0xaf34ae['gMPlD'](expect,_0x11ad84[_0x332c43(0x16a)])['toEqual'](0x1);const _0x2be5be=_0x11ad84[0x0];_0xaf34ae[_0x332c43(0x116)](expect,typeof _0x2be5be[_0x332c43(0x70)])[_0x332c43(0x112)](_0xaf34ae['pcjLV']),_0xaf34ae[_0x332c43(0x184)](expect,_0x2be5be['subdoc']['foo'])['toBe'](_0xaf34ae[_0x332c43(0xd7)]),expect(_0x2be5be['subdoc']['wu'])[_0x332c43(0x112)](_0xaf34ae[_0x332c43(0xeb)]);const _0x5e61fc={'subdoc.wu':'clan'};return _0x42dcf3[_0x332c43(0xf1)](_0x332c43(0x17d),_0x1dfdc7,{},_0x5e61fc);})[_0x5e06a7(0xa7)](()=>_0x42dcf3[_0x5e06a7(0xd8)]('MyClass',{}))[_0x5e06a7(0xa7)](_0x5eb110=>{const _0x33272e=_0x5e06a7,_0x1e9d6d={'tBpMS':function(_0x5c1495,_0x46488e){const _0x4b2df2=_0x33a0;return _0x202e1b[_0x4b2df2(0xd3)](_0x5c1495,_0x46488e);},'AEIiQ':_0x202e1b['bigcU'],'mOTkC':_0x202e1b[_0x33272e(0x181)]};if(_0x202e1b[_0x33272e(0xdc)](_0x33272e(0x17b),_0x33272e(0x17b))){_0x1e9d6d[_0x33272e(0xf0)](_0x5447a0,_0x590c8a[_0x33272e(0x16a)])[_0x33272e(0xf2)](0x1);const _0x466403=_0x181b3f[0x0];_0x379819(typeof _0x466403[_0x33272e(0x70)])[_0x33272e(0x112)](_0x1e9d6d[_0x33272e(0xa2)]),_0x1d55e6(_0x466403['subdoc']['foo'])[_0x33272e(0x112)](_0x33272e(0x84)),_0x1e98ea(_0x466403['subdoc']['wu'])[_0x33272e(0x112)](_0x1e9d6d[_0x33272e(0xf5)]);const _0x36b7c0={'subdoc.wu':_0x33272e(0x176)};return _0x26bc56[_0x33272e(0xf1)](_0x33272e(0x17d),_0x88ba17,{},_0x36b7c0);}else{_0x202e1b[_0x33272e(0x6e)](expect,_0x5eb110[_0x33272e(0x16a)])[_0x33272e(0xf2)](0x1);const _0x16dfbe=_0x5eb110[0x0];_0x202e1b[_0x33272e(0x125)](expect,typeof _0x16dfbe[_0x33272e(0x70)])['toBe'](_0x202e1b[_0x33272e(0x165)]),expect(_0x16dfbe[_0x33272e(0x70)][_0x33272e(0x185)])['toBe'](_0x33272e(0x84)),expect(_0x16dfbe[_0x33272e(0x70)]['wu'])[_0x33272e(0x112)]('clan'),_0x202e1b[_0x33272e(0xa4)](_0x5969d8);}});}),_0x202e1b[_0x4c880d(0xb0)](it,_0x202e1b[_0x4c880d(0x149)],_0x33d3f3=>{const _0x39d2a9=_0x4c880d,_0x2ef668={'nXaej':function(_0x121f08,_0x39b438){const _0x17223c=_0x33a0;return _0x202e1b[_0x17223c(0x16d)](_0x121f08,_0x39b438);},'PDURH':'object','eUfUB':function(_0x30c26a,_0x2727f1){return _0x30c26a instanceof _0x2727f1;},'OVOkK':_0x39d2a9(0x17d),'qPpgn':function(_0x3b35e0,_0x4c01b6){const _0x3f3b9b=_0x39d2a9;return _0x202e1b[_0x3f3b9b(0x6e)](_0x3b35e0,_0x4c01b6);},'qgFlR':function(_0x111a56,_0x3436f9){return _0x111a56(_0x3436f9);},'aMjbd':_0x39d2a9(0x8a),'EEXQe':function(_0x2e7889){const _0x7efef6=_0x39d2a9;return _0x202e1b[_0x7efef6(0xaa)](_0x2e7889);}},_0x2f733c=new MongoStorageAdapter({'uri':databaseURI}),_0x4057da={'array':[0x1,0x2,0x3],'object':{'foo':_0x39d2a9(0x84)},'date':{'__type':_0x39d2a9(0x8a),'iso':_0x39d2a9(0x89)}},_0x5038e3={'fields':{'array':{'type':_0x39d2a9(0xce)},'object':{'type':_0x39d2a9(0x11d)},'date':{'type':_0x202e1b[_0x39d2a9(0xa6)]}}};_0x2f733c['createObject']('MyClass',_0x5038e3,_0x4057da)['then'](()=>_0x2f733c['_rawFind'](_0x39d2a9(0x17d),{}))['then'](_0x1392fd=>{const _0x461cc6=_0x39d2a9;expect(_0x1392fd['length'])[_0x461cc6(0xf2)](0x1);const _0x2252ef=_0x1392fd[0x0];return _0x2ef668[_0x461cc6(0x13a)](expect,_0x2252ef[_0x461cc6(0xef)]instanceof Array)[_0x461cc6(0x112)](!![]),expect(typeof _0x2252ef[_0x461cc6(0xbc)])[_0x461cc6(0x112)](_0x2ef668[_0x461cc6(0xac)]),expect(_0x2ef668[_0x461cc6(0x166)](_0x2252ef[_0x461cc6(0x91)],Date))[_0x461cc6(0x112)](!![]),_0x2f733c[_0x461cc6(0x18d)](_0x2ef668['OVOkK'],_0x5038e3,{},{});})[_0x39d2a9(0xa7)](_0x3a714f=>{const _0x1757cc=_0x39d2a9;_0x2ef668[_0x1757cc(0x189)](expect,_0x3a714f[_0x1757cc(0x16a)])[_0x1757cc(0xf2)](0x1);const _0x465fa7=_0x3a714f[0x0];_0x2ef668[_0x1757cc(0x171)](expect,_0x2ef668[_0x1757cc(0x166)](_0x465fa7[_0x1757cc(0xef)],Array))[_0x1757cc(0x112)](!![]),expect(typeof _0x465fa7[_0x1757cc(0xbc)])[_0x1757cc(0x112)](_0x2ef668['PDURH']),expect(_0x465fa7[_0x1757cc(0x91)][_0x1757cc(0x10a)])['toBe'](_0x2ef668[_0x1757cc(0x7e)]),expect(_0x465fa7[_0x1757cc(0x91)][_0x1757cc(0x14e)])[_0x1757cc(0x112)](_0x1757cc(0x89)),_0x33d3f3();})['catch'](_0x549490=>{const _0x1f5714=_0x39d2a9;console['log'](_0x549490),_0x2ef668[_0x1f5714(0xa5)](fail),_0x2ef668[_0x1f5714(0xa5)](_0x33d3f3);});}),_0x202e1b[_0x4c880d(0x9a)](it,_0x202e1b[_0x4c880d(0x141)],async()=>{const _0x2246f9=_0x4c880d;await new Parse['Object'](_0x202e1b['xhiFv'],{'foo':{'test':{'date':new Date()}},'bar':{'date':new Date()},'date':new Date()})['save']();const _0x536682=Config['get'](Parse[_0x2246f9(0x18e)])[_0x2246f9(0x127)][_0x2246f9(0x14a)],[_0x52a08e]=await _0x536682[_0x2246f9(0xd8)](_0x202e1b[_0x2246f9(0xfe)],{});_0x202e1b[_0x2246f9(0x82)](expect,_0x202e1b[_0x2246f9(0x182)](_0x52a08e['date'],Date))['toBeTrue'](),_0x202e1b[_0x2246f9(0x125)](expect,_0x52a08e[_0x2246f9(0x84)]['date']instanceof Date)[_0x2246f9(0x8e)](),_0x202e1b[_0x2246f9(0x73)](expect,_0x52a08e[_0x2246f9(0x185)]['test']['date']instanceof Date)[_0x2246f9(0x8e)]();}),it(_0x202e1b[_0x4c880d(0xa0)],async()=>{const _0x1824a1=_0x4c880d;await new Parse[(_0x1824a1(0x11d))](_0x202e1b[_0x1824a1(0xfe)],{'foo':{'test':{'date':[new Date()]}},'bar':{'date':[new Date()]},'date':[new Date()]})[_0x1824a1(0xe7)]();const _0x30b802=Config[_0x1824a1(0xc5)](Parse['applicationId'])[_0x1824a1(0x127)][_0x1824a1(0x14a)],[_0x4110c1]=await _0x30b802[_0x1824a1(0xd8)](_0x202e1b[_0x1824a1(0xfe)],{});expect(_0x202e1b[_0x1824a1(0xc0)](_0x4110c1[_0x1824a1(0x91)][0x0],Date))[_0x1824a1(0x8e)](),expect(_0x202e1b[_0x1824a1(0xc0)](_0x4110c1['bar'][_0x1824a1(0x91)][0x0],Date))[_0x1824a1(0x8e)](),expect(_0x202e1b['WMIIv'](_0x4110c1[_0x1824a1(0x185)][_0x1824a1(0x188)]['date'][0x0],Date))[_0x1824a1(0x8e)]();const _0x543fb7=await new Parse['Query'](_0x202e1b[_0x1824a1(0xfe)])[_0x1824a1(0x122)]({'useMasterKey':!![]});_0x202e1b['xYQZj'](expect,_0x202e1b[_0x1824a1(0x153)](_0x543fb7[_0x1824a1(0xc5)](_0x1824a1(0x91))[0x0],Date))[_0x1824a1(0x8e)](),expect(_0x202e1b['WMIIv'](_0x543fb7[_0x1824a1(0xc5)](_0x1824a1(0x84))[_0x1824a1(0x91)][0x0],Date))[_0x1824a1(0x8e)](),_0x202e1b[_0x1824a1(0xb6)](expect,_0x202e1b[_0x1824a1(0xc0)](_0x543fb7[_0x1824a1(0xc5)](_0x1824a1(0x185))['test'][_0x1824a1(0x91)][0x0],Date))['toBeTrue']();}),it(_0x4c880d(0x178),async()=>{const _0x4f1465=_0x4c880d,_0x25398f=_0x202e1b[_0x4f1465(0x175)](require,_0x202e1b[_0x4f1465(0x7b)]),_0x33d576=_0x25398f['v4'](),_0x5d4670=_0x25398f['v4'](),_0x590ade={'className':_0x202e1b[_0x4f1465(0xfe)],'fields':{'x':{'type':_0x4f1465(0x6d)},'count':{'type':_0x4f1465(0x6d)}},'classLevelPermissions':{}},_0x3f2038=new Parse[(_0x4f1465(0x9b))](_0x590ade['className']);_0x3f2038[_0x4f1465(0x10c)](_0x590ade[_0x4f1465(0x15e)]),await _0x3f2038['save']();const _0x38ab54={'x':0x1},_0x47a860={'objectId':{'__op':_0x4f1465(0xec),'amount':_0x33d576},'count':{'__op':_0x202e1b['dwYGB'],'amount':0x1}};await Parse[_0x4f1465(0x151)]['database'][_0x4f1465(0xc7)](_0x202e1b[_0x4f1465(0xfe)],_0x38ab54,_0x47a860,{'upsert':!![]}),_0x47a860[_0x4f1465(0x147)][_0x4f1465(0xcd)]=_0x5d4670,await Parse[_0x4f1465(0x151)]['database'][_0x4f1465(0xc7)](_0x4f1465(0x17d),_0x38ab54,_0x47a860,{'upsert':!![]});const _0x17fc15=await Parse[_0x4f1465(0x151)]['database'][_0x4f1465(0x18d)](_0x590ade[_0x4f1465(0x16e)],{},{});expect(_0x17fc15[_0x4f1465(0x16a)])['toBe'](0x1),expect(_0x17fc15[0x0][_0x4f1465(0x147)])['toBe'](_0x33d576),expect(_0x17fc15[0x0][_0x4f1465(0x92)])[_0x4f1465(0x112)](0x2),expect(_0x17fc15[0x0]['x'])['toBe'](0x1);}),_0x202e1b['tjhme'](it,_0x202e1b['TCFxN'],_0xf6c035=>{const _0x3c6028=_0x4c880d,_0x36b280=new MongoStorageAdapter({'uri':databaseURI}),_0x364530={'fields':{'array':{'type':'Array'},'object':{'type':_0x3c6028(0x11d)},'date':{'type':_0x3c6028(0x8a)}}};_0x36b280[_0x3c6028(0x133)](_0x202e1b[_0x3c6028(0xfe)],_0x364530,{})[_0x3c6028(0xa7)](()=>_0x36b280[_0x3c6028(0xd8)](_0x3c6028(0x17d),{}))[_0x3c6028(0xa7)](_0x47ace3=>{const _0x263040=_0x3c6028;_0x202e1b[_0x263040(0xb6)](expect,_0x47ace3[_0x263040(0x16a)])[_0x263040(0xf2)](0x1);const _0x524a0b={'array':[0x1,0x2,0x3],'object':{'foo':_0x202e1b[_0x263040(0xf6)]},'date':{'__type':_0x263040(0x8a),'iso':_0x202e1b['wfEJK']}},_0x36225d={};return _0x36b280[_0x263040(0xf1)](_0x263040(0x17d),_0x364530,_0x36225d,_0x524a0b);})[_0x3c6028(0xa7)](_0x40641d=>{const _0x4154b5=_0x3c6028,_0x140a5c=_0x40641d;return expect(_0x202e1b['AQqcx'](_0x140a5c[_0x4154b5(0xef)],Array))['toBe'](!![]),_0x202e1b[_0x4154b5(0xd3)](expect,typeof _0x140a5c[_0x4154b5(0xbc)])[_0x4154b5(0x112)]('object'),expect(_0x140a5c[_0x4154b5(0x91)][_0x4154b5(0x10a)])['toBe'](_0x202e1b[_0x4154b5(0xa6)]),_0x202e1b['SWOsv'](expect,_0x140a5c[_0x4154b5(0x91)][_0x4154b5(0x14e)])[_0x4154b5(0x112)](_0x202e1b['wfEJK']),_0x36b280['_rawFind'](_0x4154b5(0x17d),{});})[_0x3c6028(0xa7)](_0x44b020=>{const _0x297eb1=_0x3c6028;_0x202e1b['vmmlB'](expect,_0x44b020[_0x297eb1(0x16a)])[_0x297eb1(0xf2)](0x1);const _0x2ff437=_0x44b020[0x0];expect(_0x202e1b[_0x297eb1(0xc0)](_0x2ff437[_0x297eb1(0xef)],Array))['toBe'](!![]),expect(typeof _0x2ff437['object'])[_0x297eb1(0x112)]('object'),expect(_0x202e1b[_0x297eb1(0x182)](_0x2ff437[_0x297eb1(0x91)],Date))[_0x297eb1(0x112)](!![]),_0xf6c035();})[_0x3c6028(0x170)](_0x223d75=>{const _0x4df503=_0x3c6028;console[_0x4df503(0x18b)](_0x223d75),fail(),_0xf6c035();});}),it('handleShutdown,\x20close\x20connection',async()=>{const _0x150129=_0x4c880d,_0x105190=new MongoStorageAdapter({'uri':databaseURI}),_0x5a1a29={'fields':{'array':{'type':_0x150129(0xce)},'object':{'type':_0x150129(0x11d)},'date':{'type':_0x202e1b['IMQCV']}}};await _0x105190['createObject'](_0x150129(0x17d),_0x5a1a29,{});const _0x1ff758=await _0x105190[_0x150129(0x127)]['admin']()[_0x150129(0x14b)]();expect(_0x202e1b[_0x150129(0x11c)](_0x1ff758[_0x150129(0x174)][_0x150129(0x158)],0x0))[_0x150129(0xf2)](!![]),await _0x105190['handleShutdown']();try{await _0x105190[_0x150129(0x127)][_0x150129(0x16b)]()['serverStatus'](),_0x202e1b[_0x150129(0x164)](expect,![])[_0x150129(0x112)](!![]);}catch(_0x58c1fc){_0x202e1b[_0x150129(0x99)](expect,_0x58c1fc['message'])['toEqual']('Client\x20must\x20be\x20connected\x20before\x20running\x20operations');}}),_0x202e1b[_0x4c880d(0x145)](it,_0x4c880d(0x7a),async()=>{const _0x36e6fd=_0x4c880d;if(_0x36e6fd(0xc2)===_0x36e6fd(0x110)){const _0x37dd20={'zMIqu':function(_0x19bfc4,_0xd2b888){return _0x19bfc4(_0xd2b888);},'DRvfs':function(_0x181ae3,_0x47ecf7){const _0x1ee52d=_0x36e6fd;return _0x202e1b[_0x1ee52d(0x10d)](_0x181ae3,_0x47ecf7);},'ACxiQ':_0x202e1b[_0x36e6fd(0x12e)],'rZGUa':function(_0x3b4440){const _0x1fea87=_0x36e6fd;return _0x202e1b[_0x1fea87(0xc6)](_0x3b4440);}},_0x5228c0=0xfa,_0x51473c=new _0x5bc2c2({'uri':_0x4d65ee,'mongoOptions':{'maxTimeMS':_0x5228c0}});_0x51473c[_0x36e6fd(0x133)](_0x36e6fd(0xf4),{'fields':{}},{'objectId':_0x36e6fd(0xc1)})[_0x36e6fd(0xa7)](()=>_0x51473c['_rawFind'](_0x36e6fd(0xf4),{'$where':_0x36e6fd(0x109)+_0x5228c0*0x2+')'}))['then'](()=>{const _0xa2628=_0x36e6fd;_0x134f7a[_0xa2628(0xa9)](_0xa2628(0x139));},_0x3079e9=>{const _0x27b6ad=_0x36e6fd;_0xa41bae(_0x3079e9[_0x27b6ad(0xd6)])['toEqual'](_0x27b6ad(0x18f)),_0x37dd20['zMIqu'](_0x2b9592,_0x3079e9['code'])[_0x27b6ad(0xf2)](0x32),_0x37dd20[_0x27b6ad(0x140)](_0x2a2218,_0x3079e9[_0x27b6ad(0x15f)])['toMatch'](_0x37dd20[_0x27b6ad(0x13b)]),_0x37dd20[_0x27b6ad(0xfa)](_0x56ef28);});}else{const _0x572eab=new MongoStorageAdapter({'uri':databaseURI}),_0x207b4b={'fields':{'array':{'type':_0x36e6fd(0xce)},'object':{'type':_0x36e6fd(0x11d)},'date':{'type':_0x202e1b[_0x36e6fd(0xa6)]}}};await _0x572eab[_0x36e6fd(0xea)](_0x202e1b['xhiFv'],_0x207b4b);const _0xae358d=await _0x572eab[_0x36e6fd(0x123)](_0x36e6fd(0x17d));_0x202e1b[_0x36e6fd(0x9f)](expect,_0xae358d)['toBeDefined']();}}),it(_0x202e1b[_0x4c880d(0x17f)],async()=>{const _0x401903=_0x4c880d,_0x13aa2d=new MongoStorageAdapter({'uri':databaseURI});await expectAsync(_0x13aa2d[_0x401903(0x123)](_0x202e1b[_0x401903(0x93)]))['toBeRejectedWith'](undefined);}),it_only_mongodb_version(_0x4c880d(0x94))(_0x202e1b['nUwfJ'],async()=>{const _0x53dacd=_0x4c880d,_0x151b11=new Parse[(_0x53dacd(0x155))]();_0x151b11[_0x53dacd(0x15c)](_0x53dacd(0x130),_0x53dacd(0x117)),_0x151b11['set'](_0x53dacd(0x10f),'Bunny'),await _0x151b11[_0x53dacd(0xd2)]();const _0x308ea2=Config[_0x53dacd(0xc5)](Parse[_0x53dacd(0x18e)])['database'];await _0x308ea2[_0x53dacd(0x14a)][_0x53dacd(0x129)](_0x53dacd(0xd1));const _0x4ea421=await _0x308ea2[_0x53dacd(0x18d)](_0x53dacd(0xd1),{'username':_0x202e1b[_0x53dacd(0x11f)]},{'caseInsensitive':!![],'explain':!![]}),_0x114b40=await new Parse[(_0x53dacd(0x9b))](_0x53dacd(0xd1))['get']();await _0x308ea2[_0x53dacd(0x14a)][_0x53dacd(0x142)](_0x202e1b['cCyxQ'],_0x114b40,[_0x53dacd(0x130)],_0x202e1b['PieYQ'],!![]);const _0x3dec42=await _0x308ea2['find'](_0x53dacd(0xd1),{'username':_0x202e1b['yzQpS']},{'caseInsensitive':!![],'explain':!![]});_0x202e1b[_0x53dacd(0x16d)](expect,_0x4ea421[_0x53dacd(0x76)]['executionStages'][_0x53dacd(0xfd)])[_0x53dacd(0x112)](_0x202e1b[_0x53dacd(0x187)]),_0x202e1b[_0x53dacd(0x168)](expect,_0x3dec42[_0x53dacd(0x76)]['executionStages'][_0x53dacd(0xfd)])[_0x53dacd(0x112)](_0x202e1b[_0x53dacd(0x90)]);}),_0x202e1b[_0x4c880d(0x8d)](it,_0x4c880d(0x98),async()=>{const _0x30a0ee=_0x4c880d,_0x4f3a9f=Config[_0x30a0ee(0xc5)](Parse[_0x30a0ee(0x18e)])['database'],_0x2e8692=new Parse['Object'](_0x202e1b[_0x30a0ee(0x124)]);_0x2e8692['set'](_0x202e1b[_0x30a0ee(0xe6)],0x1),await _0x2e8692[_0x30a0ee(0xe7)]();const _0x1d9b07=await new Parse['Schema'](_0x202e1b['linaR'])['get']();await _0x4f3a9f['adapter'][_0x30a0ee(0x172)]('MyObject',_0x1d9b07,[_0x30a0ee(0x188)]);const _0x89f03d=await new Parse[(_0x30a0ee(0x9b))](_0x202e1b[_0x30a0ee(0x124)])['get']();expect(_0x1d9b07['fields']['test'])[_0x30a0ee(0x190)](),expect(_0x89f03d[_0x30a0ee(0xb7)][_0x30a0ee(0x188)])[_0x30a0ee(0x7c)]();}),_0x202e1b[_0x4c880d(0x108)](it,_0x202e1b['JNHMT'],async()=>{const _0x2c7f85=_0x4c880d,_0x4a5c10=Config[_0x2c7f85(0xc5)](Parse[_0x2c7f85(0x18e)])[_0x2c7f85(0x127)],_0x513511=new Parse[(_0x2c7f85(0x11d))](_0x2c7f85(0xd0));_0x513511[_0x2c7f85(0x15c)](_0x202e1b[_0x2c7f85(0xe6)],0x1),await _0x513511[_0x2c7f85(0xe7)]();const _0x5b28aa=await new Parse['Schema'](_0x2c7f85(0xd0))[_0x2c7f85(0xc5)]();await _0x4a5c10[_0x2c7f85(0x14a)][_0x2c7f85(0x142)](_0x2c7f85(0xd0),_0x5b28aa,[_0x202e1b[_0x2c7f85(0xe6)]]),await _0x4a5c10[_0x2c7f85(0x14a)][_0x2c7f85(0x172)](_0x202e1b['linaR'],_0x5b28aa,['test']);const _0x4178dd=await new Parse[(_0x2c7f85(0x9b))](_0x2c7f85(0xd0))[_0x2c7f85(0xc5)]();expect(_0x5b28aa[_0x2c7f85(0xb7)][_0x2c7f85(0x188)])[_0x2c7f85(0x190)](),_0x202e1b[_0x2c7f85(0x13e)](expect,_0x4178dd[_0x2c7f85(0xb7)][_0x2c7f85(0x188)])[_0x2c7f85(0x7c)]();}),process[_0x4c880d(0xae)]['MONGODB_TOPOLOGY']===_0x202e1b['PfrOu']&&(describe(_0x4c880d(0xe1),()=>{const _0x279704=_0x4c880d,_0x1871b8={'NQkie':function(_0x4f912c,_0x282cfc){return _0x202e1b['jCKBp'](_0x4f912c,_0x282cfc);},'kxOBd':function(_0x2e9f5f,_0xe45c33){return _0x2e9f5f(_0xe45c33);},'qCbhN':_0x279704(0x126),'auoZv':_0x279704(0x18f),'FZRay':function(_0x1bd417,_0x8d743){const _0x591f4e=_0x279704;return _0x202e1b[_0x591f4e(0xb1)](_0x1bd417,_0x8d743);},'lleYv':function(_0x2c45aa,_0x4f1f88,_0x5a70d5){const _0x24202c=_0x279704;return _0x202e1b[_0x24202c(0x8d)](_0x2c45aa,_0x4f1f88,_0x5a70d5);}},_0x46e8c8={'Content-Type':_0x202e1b[_0x279704(0xdb)],'X-Parse-Application-Id':'test','X-Parse-REST-API-Key':_0x202e1b[_0x279704(0x132)]};_0x202e1b[_0x279704(0x83)](beforeEach,async()=>{const _0x3c8798=_0x279704;await _0x1871b8[_0x3c8798(0x17c)](reconfigureServer,{'databaseAdapter':undefined,'databaseURI':_0x3c8798(0x134)}),await TestUtils['destroyAllDataPermanently'](!![]);}),it(_0x279704(0xc3),async()=>{const _0x367f2d=_0x279704,_0x584a68=new Parse[(_0x367f2d(0x11d))](_0x202e1b[_0x367f2d(0x124)]);await _0x584a68[_0x367f2d(0xe7)](),_0x202e1b[_0x367f2d(0x144)](spyOn,Collection['prototype'],_0x202e1b[_0x367f2d(0x161)])[_0x367f2d(0x96)]['callThrough'](),await _0x202e1b[_0x367f2d(0x175)](request,{'method':_0x202e1b[_0x367f2d(0x120)],'headers':_0x46e8c8,'url':_0x202e1b[_0x367f2d(0x101)],'body':JSON[_0x367f2d(0xcc)]({'requests':[{'method':_0x367f2d(0xe8),'path':_0x202e1b[_0x367f2d(0xc4)]+_0x584a68['id'],'body':{'myAttribute':_0x202e1b[_0x367f2d(0x156)]}}],'transaction':!![]})});let _0x303b49=![];Collection[_0x367f2d(0x105)][_0x367f2d(0xf1)][_0x367f2d(0x114)]['all']()[_0x367f2d(0xa1)](_0x298700=>{const _0x14ffb6=_0x367f2d;_0x303b49=!![],_0x1871b8['kxOBd'](expect,_0x298700['args'][0x2][_0x14ffb6(0x159)][_0x14ffb6(0x72)][_0x14ffb6(0xf8)])[_0x14ffb6(0x112)](_0x1871b8['qCbhN']);}),_0x202e1b[_0x367f2d(0x73)](expect,_0x303b49)['toBe'](!![]);}),_0x202e1b[_0x279704(0x8d)](it,_0x202e1b[_0x279704(0xb5)],async()=>{const _0x5eaacb=_0x279704;if(_0x5eaacb(0x143)===_0x5eaacb(0x143)){const _0x6e31c2=new Parse['Object']('MyObject');await _0x6e31c2[_0x5eaacb(0xe7)](),_0x202e1b['Upfmy'](spyOn,Collection[_0x5eaacb(0x105)],_0x202e1b['QCvye'])[_0x5eaacb(0x96)][_0x5eaacb(0x81)](),await _0x202e1b[_0x5eaacb(0x175)](request,{'method':_0x5eaacb(0xed),'headers':_0x46e8c8,'url':_0x202e1b[_0x5eaacb(0x101)],'body':JSON['stringify']({'requests':[{'method':_0x202e1b['IdPJT'],'path':'/1/classes/MyObject/'+_0x6e31c2['id'],'body':{'myAttribute':_0x5eaacb(0x107)}}],'transaction':![]})});let _0x13234c=![];Collection[_0x5eaacb(0x105)][_0x5eaacb(0xf1)][_0x5eaacb(0x114)][_0x5eaacb(0xe4)]()[_0x5eaacb(0xa1)](_0xcce79e=>{const _0x2e0e5f=_0x5eaacb;_0x13234c=!![],_0x1871b8['kxOBd'](expect,_0xcce79e[_0x2e0e5f(0x97)][0x2][_0x2e0e5f(0x159)])[_0x2e0e5f(0xff)]();}),expect(_0x13234c)[_0x5eaacb(0x112)](!![]);}else _0x59a65(_0x30b2a7[_0x5eaacb(0xd6)])[_0x5eaacb(0xf2)](_0x1871b8[_0x5eaacb(0xbb)]),_0x1871b8['kxOBd'](_0xd4aca9,_0xbc6e63['code'])[_0x5eaacb(0xf2)](0x32),_0x1b0f6c(_0x18facc[_0x5eaacb(0x15f)])[_0x5eaacb(0x167)](_0x5eaacb(0x13d)),_0x1ceeeb();}),_0x202e1b['ghzGh'](it,'should\x20not\x20use\x20transaction\x20in\x20a\x20batch\x20with\x20no\x20transaction\x20option\x20sent',async()=>{const _0xb281ce=_0x279704,_0xd591f=new Parse[(_0xb281ce(0x11d))](_0x202e1b['linaR']);await _0xd591f[_0xb281ce(0xe7)](),spyOn(Collection[_0xb281ce(0x105)],_0x202e1b[_0xb281ce(0x161)])[_0xb281ce(0x96)][_0xb281ce(0x81)](),await _0x202e1b['CRyNo'](request,{'method':_0xb281ce(0xed),'headers':_0x46e8c8,'url':_0x202e1b[_0xb281ce(0x101)],'body':JSON['stringify']({'requests':[{'method':_0xb281ce(0xe8),'path':_0x202e1b['MVADD'](_0xb281ce(0xd9),_0xd591f['id']),'body':{'myAttribute':_0xb281ce(0x107)}}]})});let _0x3fc409=![];Collection[_0xb281ce(0x105)]['findOneAndUpdate']['calls'][_0xb281ce(0xe4)]()[_0xb281ce(0xa1)](_0x30deb6=>{const _0x528718=_0xb281ce;_0x3fc409=!![],expect(_0x30deb6[_0x528718(0x97)][0x2][_0x528718(0x159)])[_0x528718(0xff)]();}),_0x202e1b[_0xb281ce(0x86)](expect,_0x3fc409)[_0xb281ce(0x112)](!![]);}),_0x202e1b[_0x279704(0x8c)](it,_0x202e1b[_0x279704(0x77)],async()=>{const _0x126740=_0x279704,_0x506f6b={'UZtmt':function(_0x59cec5,_0x105b52){return _0x59cec5(_0x105b52);}},_0x2d6479=new Parse[(_0x126740(0x11d))](_0x126740(0xd0));await _0x2d6479[_0x126740(0xe7)](),_0x202e1b['AAESg'](spyOn,Collection[_0x126740(0x105)],'findOneAndUpdate')['and'][_0x126740(0x81)](),await request({'method':_0x202e1b[_0x126740(0x7d)],'headers':_0x46e8c8,'url':_0x202e1b[_0x126740(0x88)](_0x202e1b[_0x126740(0xee)],_0x2d6479['id']),'body':{'myAttribute':_0x126740(0x107)}});let _0x882084=![];Collection[_0x126740(0x105)]['findOneAndUpdate']['calls'][_0x126740(0xe4)]()['forEach'](_0x2911e8=>{const _0x52b7a9=_0x126740;_0x882084=!![],_0x506f6b[_0x52b7a9(0x87)](expect,_0x2911e8[_0x52b7a9(0x97)][0x2][_0x52b7a9(0x159)])[_0x52b7a9(0xff)]();}),_0x202e1b[_0x126740(0x79)](expect,_0x882084)['toBe'](!![]);}),it('should\x20not\x20use\x20transactions\x20when\x20using\x20SDK\x20insert',async()=>{const _0xdcd5b=_0x279704;spyOn(Collection[_0xdcd5b(0x105)],_0xdcd5b(0x152))[_0xdcd5b(0x96)]['callThrough']();const _0xb51f74=new Parse[(_0xdcd5b(0x11d))]('MyObject');await _0xb51f74[_0xdcd5b(0xe7)]();const _0x3c37f0=Collection['prototype']['insertOne'][_0xdcd5b(0x114)]['all']();_0x202e1b[_0xdcd5b(0x12d)](expect,_0x3c37f0[_0xdcd5b(0x16a)])[_0xdcd5b(0x18a)](0x0),_0x3c37f0['forEach'](_0x369498=>{const _0x415961=_0xdcd5b;_0x1871b8[_0x415961(0x17c)](expect,_0x369498[_0x415961(0x97)][0x1][_0x415961(0x159)])[_0x415961(0xff)]();});}),it(_0x202e1b[_0x279704(0x6f)],async()=>{const _0x20c216=_0x279704;_0x202e1b[_0x20c216(0x144)](spyOn,Collection[_0x20c216(0x105)],_0x202e1b[_0x20c216(0x161)])[_0x20c216(0x96)][_0x20c216(0x81)]();const _0x3d8227=new Parse['Object'](_0x202e1b[_0x20c216(0x124)]);await _0x3d8227['save'](),_0x3d8227['set'](_0x202e1b[_0x20c216(0x85)],_0x20c216(0x107)),await _0x3d8227[_0x20c216(0xe7)]();const _0x75c784=Collection['prototype']['findOneAndUpdate'][_0x20c216(0x114)][_0x20c216(0xe4)]();expect(_0x75c784[_0x20c216(0x16a)])[_0x20c216(0x18a)](0x0),_0x75c784[_0x20c216(0xa1)](_0x219576=>{const _0x17f9eb=_0x20c216;_0x1871b8[_0x17f9eb(0x16f)](expect,_0x219576['args'][0x2]['session'])[_0x17f9eb(0xff)]();});}),it(_0x202e1b[_0x279704(0x113)],async()=>{const _0x35ca02=_0x279704,_0x295f57={'KAvhL':function(_0x5af3ef,_0x12e3c1){return _0x1871b8['FZRay'](_0x5af3ef,_0x12e3c1);}};_0x1871b8[_0x35ca02(0x179)](spyOn,Collection[_0x35ca02(0x105)],'deleteMany')[_0x35ca02(0x96)]['callThrough']();const _0x98fc64=new Parse['Object'](_0x35ca02(0xd0));await _0x98fc64[_0x35ca02(0xe7)](),await _0x98fc64[_0x35ca02(0x12f)]();const _0x2883b6=Collection[_0x35ca02(0x105)]['deleteMany']['calls'][_0x35ca02(0xe4)]();expect(_0x2883b6[_0x35ca02(0x16a)])[_0x35ca02(0x18a)](0x0),_0x2883b6[_0x35ca02(0xa1)](_0x4c54be=>{const _0x4156a0=_0x35ca02;_0x295f57[_0x4156a0(0x106)](expect,_0x4c54be[_0x4156a0(0x97)][0x1][_0x4156a0(0x159)])[_0x4156a0(0xff)]();});});}),describe(_0x4c880d(0x14f),()=>{const _0x1a64a1=_0x4c880d,_0x5c8903={'RbXPi':function(_0x159e1b,_0x24efc5){const _0x260fb4=_0x33a0;return _0x202e1b[_0x260fb4(0x14d)](_0x159e1b,_0x24efc5);}};_0x202e1b[_0x1a64a1(0x144)](it,_0x1a64a1(0x18c),async _0x5442f1=>{const _0xec51b6=_0x1a64a1,_0x31c344=new MongoStorageAdapter({'uri':databaseURI,'collectionPrefix':'','mongoOptions':{'enableSchemaHooks':!![]}});await reconfigureServer({'databaseAdapter':_0x31c344}),expect(_0x31c344[_0xec51b6(0xc9)])['toBe'](!![]),_0x202e1b['tjhme'](spyOn,_0x31c344,'_onchange');const _0x375941={'fields':{'array':{'type':_0xec51b6(0xce)},'object':{'type':_0x202e1b[_0xec51b6(0x8f)]},'date':{'type':_0xec51b6(0x8a)}}};await _0x31c344[_0xec51b6(0xea)](_0xec51b6(0x119),_0x375941);const _0xd75dae=await _0x31c344[_0xec51b6(0x123)](_0x202e1b[_0xec51b6(0x162)]);_0x202e1b[_0xec51b6(0x111)](expect,_0xd75dae)[_0xec51b6(0x190)](),_0x202e1b[_0xec51b6(0xb4)](setTimeout,()=>{const _0x3ecfb5=_0xec51b6;_0x5c8903[_0x3ecfb5(0xfc)](expect,_0x31c344[_0x3ecfb5(0xe9)])[_0x3ecfb5(0xde)](),_0x5442f1();},0x1388);});}));});