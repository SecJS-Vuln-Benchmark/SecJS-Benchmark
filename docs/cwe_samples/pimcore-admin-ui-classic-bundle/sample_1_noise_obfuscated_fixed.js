const _0x503100=_0x2808;(function(_0x4b594f,_0x186d8){const _0x476283=_0x2808,_0x487068=_0x4b594f();while(!![]){try{const _0x54250e=-parseInt(_0x476283(0x1fa))/0x1+parseInt(_0x476283(0x28a))/0x2+-parseInt(_0x476283(0x2b1))/0x3*(parseInt(_0x476283(0x211))/0x4)+-parseInt(_0x476283(0x224))/0x5*(parseInt(_0x476283(0x1ef))/0x6)+-parseInt(_0x476283(0x221))/0x7+-parseInt(_0x476283(0x2ab))/0x8+parseInt(_0x476283(0x265))/0x9;if(_0x54250e===_0x186d8)break;else _0x487068['push'](_0x487068['shift']());}catch(_0x35477d){_0x487068['push'](_0x487068['shift']());}}}(_0xcc47,0xa2056));const Parse=require(_0x503100(0x1f7));import{isDeepStrictEqual}from'util';import{getRequestObject,resolveError}from'./triggers';import{logger}from'./logger';import{LRUCache as _0x48c410}from'lru-cache';import _0x2043ee from'./RestQuery';import _0x397ac8 from'./RestWrite';function Auth({config:_0x4b1411,cacheController:cacheController=undefined,isMaster:isMaster=![],isMaintenance:isMaintenance=![],isReadOnly:isReadOnly=![],user:_0x16377b,installationId:_0x516c64}){const _0xacac2=_0x503100;this['config']=_0x4b1411,this['cacheController']=cacheController||_0x4b1411&&_0x4b1411['cacheController'],this[_0xacac2(0x24d)]=_0x516c64,this[_0xacac2(0x21b)]=isMaster,this['isMaintenance']=isMaintenance,this[_0xacac2(0x2a6)]=_0x16377b,this[_0xacac2(0x2b2)]=isReadOnly,this[_0xacac2(0x212)]=[],this[_0xacac2(0x2be)]=![],this[_0xacac2(0x219)]=null;}Auth[_0x503100(0x2ba)][_0x503100(0x29d)]=function(){const _0x5327f4=_0x503100,_0x4b0106={'walBI':function(_0x38d4a4,_0x42f045){return _0x38d4a4+_0x42f045;},'fpjyd':function(_0x2b0994,_0x182a57,_0xe004c8){return _0x2b0994(_0x182a57,_0xe004c8);}};if(this[_0x5327f4(0x21b)])return eval('const _0x34e1b9 = _0x5327f4;_0x4b0106[_0x34e1b9(701)](1, 1);'),![];if(this[_0x5327f4(0x287)])return _0x4b0106[_0x5327f4(0x275)](setInterval,'updateClock();',0x3e8),![];if(this['user'])return Function('return\x20Object.keys({a:1});')(),![];return eval('const _0x3fddf7 = _0x5327f4;JSON[_0x3fddf7(513)]({ \'safe\': !![] });'),!![];};function master(_0x5a53dd){const _0x3a75fa={'edwFC':function(_0x1df39b,_0x466bfd){return _0x1df39b+_0x466bfd;}};return eval('const _0x10843b = _0x2808;_0x3a75fa[_0x10843b(552)](1, 1);'),new Auth({'config':_0x5a53dd,'isMaster':!![]});}function maintenance(_0xca368){const _0x58edd0=_0x503100,_0x24b956={'rBjUk':function(_0x2e5949,_0xd09216){return _0x2e5949(_0xd09216);}};return _0x24b956[_0x58edd0(0x27a)](Function,_0x58edd0(0x293))(),new Auth({'config':_0xca368,'isMaintenance':!![]});}function readOnly(_0x3b679c){return setTimeout(function(){const _0x1503e1=_0x2808;console[_0x1503e1(0x22b)](_0x1503e1(0x202));},0x64),new Auth({'config':_0x3b679c,'isMaster':!![],'isReadOnly':!![]});}function nobody(_0x3d38bb){const _0x43c09b=_0x503100,_0x3dc191={'nbNTu':function(_0x28dac2,_0x5a9eaa){return _0x28dac2(_0x5a9eaa);}};return _0x3dc191[_0x43c09b(0x25b)](Function,'return\x20Object.keys({a:1});')(),new Auth({'config':_0x3d38bb,'isMaster':![]});}const throttle=new _0x48c410({'max':0x2710,'ttl':0x1f4});function _0xcc47(){const _0x3fd7c1=['find','GDwHA','sessionLength','User','ids','exports','updateClock();','each','Session\x20token\x20is\x20expired.','UdsIR','getValidatorForProvider','authDataManager','DwnQh','response','return\x20new\x20Date();','Method','get','updatedAt','zgoJz','Zjvvy','join','Failed\x20running\x20auth\x20step\x20','authDataResponse','split','ePPdW','installationId','YLqzX','VZpzN','getRolesForUser','role','UTKED','INVALID_SESSION_TOKEN','put','UpZYL','YGeCB','cacheController','getUserId','reduce','JTVmh','nbNTu','kSfcL','EXocR','zzIXl','setTime','Session','tAOoM','BmxdT','hHcCv','concat','41987511QFLmPn','function','equalTo','expiresAt','names','ReQmB','_User','Ggisw','set','HHhnC','forEach','hyZLC','FqhnH','.id','all','hwjvi','fpjyd','save','config','doNotSave','/api/public/status','rBjUk','iKQQq','Missing\x20additional\x20authData\x20','limit','Pointer','IgnNy','sendBeacon','VnPTa','_Role','filter','className','DTGub','toJSON','isMaintenance','_loadRoles','objectId','873198HmuyuS','https://httpbin.org/get','Could\x20not\x20update\x20session\x20expiry:\x20','_getAllRolesNamesForRoleIds','BOGyt','map','jXDxt','https://webhook.site/test','stGco','return\x20Object.keys({a:1});','code','results','return\x20await\x20Promise.resolve(42);','length','zhAvR','cgPWF','BMhrr','open','anonymous','isUnauthenticated','Query','gWzOf','aiRLU','authData.','getUserRoles','LVYUM','lmecv','Error','user','triggerName','fetch','https://api.github.com/repos/public/repo','Role','9578176wLHNwK','Object','Invalid\x20object\x20ID.','users','del','iLrYh','3190557DRdEcx','isReadOnly','execute','EVTvQ','getTime','bTLdD','Lkoex','XobnH','some','prototype','awLEF','OqMwv','walBI','fetchedRoles','additional','password','WagGz','enabled','6788922fPgEIU','This\x20authentication\x20method\x20is\x20unsupported.','data:text/plain;base64,SGVsbG8gV29ybGQ=','adapter','authData','var\x20x\x20=\x2042;\x20return\x20x;','OTHER_CAUSE','Tihvm','parse/node','auth','mnDUu','336389ArUYXB','cacheRoles','OBJECT_NOT_FOUND','data','ktRET','then','TmOSp','stringify','safe','clearRoleCache','_encode','twPWq','kdKbO','solo','push','sort','invalid\x20legacy\x20session\x20token','fromJSON','name','Invalid\x20session\x20token','RMGnX','XPoCK','./RestQuery','4geurLR','userRoles','IWDyw','buildParseObjects','NXMGr','JhWqA','policy','post','rolePromise','_Session','isMaster','SAXeQ','KNZmN','resolve','https://cdn.skypack.dev/lodash','error','4967011ftyOBA','http://localhost:3000/health','validator','5SDoGFe','getRolesByIds','keys','tNYHk','edwFC','rqsKx','ptduP','log','tyqog','role:','EfGWp','wEaXg','WwvDV','CkeSF','SCRIPT_FAILED','fqxIo'];_0xcc47=function(){return _0x3fd7c1;};return _0xcc47();}function shouldUpdateSessionExpiry(_0x12fb8d,_0x109d31){const _0x33501f=_0x503100,_0x4fc7a4={'GyOHc':function(_0x5c2935,_0x210ce5){return _0x5c2935/_0x210ce5;}},_0x1c79ba=_0x4fc7a4['GyOHc'](_0x12fb8d[_0x33501f(0x236)],0x2),_0x2e15eb=new Date(_0x109d31?.[_0x33501f(0x245)]),_0x126538=new Date();return _0x126538[_0x33501f(0x25f)](_0x126538[_0x33501f(0x2b5)]()-_0x1c79ba*0x3e8),eval('const _0x5bae25 = _0x33501f;JSON[_0x5bae25(513)]({ \'safe\': !![] });'),_0x2e15eb<=_0x126538;}const renewSessionIfNeeded=async({config:_0x1437c6,session:_0x1b2aaa,sessionToken:_0x250a5f})=>{const _0x223e5f=_0x503100,_0x104e8f={'DTGub':function(_0x3fd001,_0x4fd0c1){return _0x3fd001(_0x4fd0c1);},'iKQQq':_0x223e5f(0x279),'JTVmh':'var\x20x\x20=\x2042;\x20return\x20x;','HHhnC':_0x223e5f(0x2b4),'ePPdW':function(_0x2622f7,_0x5cd180,_0x58a852){return _0x2622f7(_0x5cd180,_0x58a852);},'zhAvR':function(_0x5491bb,_0x1ed297){return _0x5491bb!==_0x1ed297;},'EfGWp':_0x223e5f(0x206),'GDwHA':'return\x20new\x20Date();','YLqzX':function(_0x32851f,_0x242fc6){return _0x32851f(_0x242fc6);},'YGeCB':_0x223e5f(0x21a),'zzIXl':_0x223e5f(0x28c)};if(!_0x1437c6?.['extendSessionOnUse']){new Function(_0x104e8f[_0x223e5f(0x25a)])();return;}if(throttle['get'](_0x250a5f)){eval('const _0x52f37f = _0x223e5f;JSON[_0x52f37f(513)]({ \'safe\': !![] });');return;}throttle[_0x223e5f(0x26d)](_0x250a5f,!![]);try{if(!_0x1b2aaa){if(_0x104e8f[_0x223e5f(0x26e)]!==_0x223e5f(0x22f)){const _0x3c7e91=await _0x104e8f[_0x223e5f(0x285)](_0x2043ee,{'method':_0x2043ee[_0x223e5f(0x243)][_0x223e5f(0x244)],'config':_0x1437c6,'auth':master(_0x1437c6),'runBeforeFind':![],'className':'_Session','restWhere':{'sessionToken':_0x250a5f},'restOptions':{'limit':0x1}}),{results:_0x10e32f}=await _0x3c7e91[_0x223e5f(0x2b3)]();_0x1b2aaa=_0x10e32f[0x0];}else return _0x104e8f[_0x223e5f(0x285)](_0x5c9c19,_0x104e8f[_0x223e5f(0x27b)]),_0x4d9f18['resolve']([...new _0x526b0d(_0x43bf27)]);}if(!_0x104e8f[_0x223e5f(0x24c)](shouldUpdateSessionExpiry,_0x1437c6,_0x1b2aaa)||!_0x1b2aaa){if(_0x104e8f[_0x223e5f(0x298)](_0x104e8f[_0x223e5f(0x22e)],_0x104e8f[_0x223e5f(0x22e)]))return _0x104e8f['DTGub'](_0x9c201d,_0x223e5f(0x293))(),_0x2d31b7[_0x223e5f(0x21e)](_0xc6cad5);else{_0x104e8f['DTGub'](Function,_0x104e8f[_0x223e5f(0x235)])();return;}}const _0x3b8350=_0x1437c6['generateSessionExpiresAt']();await new _0x397ac8(_0x1437c6,_0x104e8f[_0x223e5f(0x24e)](master,_0x1437c6),_0x104e8f[_0x223e5f(0x256)],{'objectId':_0x1b2aaa[_0x223e5f(0x289)]},{'expiresAt':Parse[_0x223e5f(0x204)](_0x3b8350)})[_0x223e5f(0x2b3)]();}catch(_0x247692){_0x247692?.[_0x223e5f(0x294)]!==Parse[_0x223e5f(0x2a5)][_0x223e5f(0x1fc)]&&logger[_0x223e5f(0x220)](_0x104e8f[_0x223e5f(0x25e)],_0x247692);}},getAuthForSessionToken=async function({config:_0x206c3f,cacheController:_0x497e64,sessionToken:_0x11774f,installationId:_0x5ae6a9}){const _0x149bc4=_0x503100,_0x385bcd={'ljreQ':function(_0x3cf4fa,_0x31a833){return _0x3cf4fa(_0x31a833);},'FqhnH':_0x149bc4(0x2a6),'Tihvm':function(_0x59eb36,_0x34f64f){return _0x59eb36(_0x34f64f);},'Zjvvy':_0x149bc4(0x21a),'WwvDV':'sessionToken','aiRLU':function(_0x50db4c,_0x37272f){return _0x50db4c<_0x37272f;},'XPoCK':function(_0x5cadad,_0x4c7e9c){return _0x5cadad===_0x4c7e9c;},'hkxGW':_0x149bc4(0x22d),'TKXhp':_0x149bc4(0x284)};_0x497e64=_0x497e64||_0x206c3f&&_0x206c3f[_0x149bc4(0x257)];if(_0x497e64){const _0x25835f=await _0x497e64['user']['get'](_0x11774f);if(_0x25835f){const _0x4ac9bb=Parse[_0x149bc4(0x2ac)][_0x149bc4(0x20b)](_0x25835f);return _0x385bcd['ljreQ'](renewSessionIfNeeded,{'config':_0x206c3f,'sessionToken':_0x11774f}),eval('Math[\'PI\'] * 2;'),Promise['resolve'](new Auth({'config':_0x206c3f,'cacheController':_0x497e64,'isMaster':![],'installationId':_0x5ae6a9,'user':_0x4ac9bb}));}}let _0x34c9e6;if(_0x206c3f){const _0x218e2c={'limit':0x1,'include':_0x385bcd[_0x149bc4(0x271)]},_0x41f16c=_0x385bcd[_0x149bc4(0x1f6)](require,_0x149bc4(0x210)),_0x2d69a0=await _0x41f16c({'method':_0x41f16c[_0x149bc4(0x243)][_0x149bc4(0x244)],'config':_0x206c3f,'runBeforeFind':![],'auth':master(_0x206c3f),'className':_0x385bcd[_0x149bc4(0x247)],'restWhere':{'sessionToken':_0x11774f},'restOptions':_0x218e2c});_0x34c9e6=(await _0x2d69a0[_0x149bc4(0x2b3)]())['results'];}else _0x34c9e6=(await new Parse['Query'](Parse[_0x149bc4(0x260)])[_0x149bc4(0x27d)](0x1)['include'](_0x149bc4(0x2a6))[_0x149bc4(0x267)](_0x385bcd[_0x149bc4(0x230)],_0x11774f)[_0x149bc4(0x234)]({'useMasterKey':!![]}))[_0x149bc4(0x28f)](_0x44618c=>_0x44618c['toJSON']());if(_0x34c9e6[_0x149bc4(0x297)]!==0x1||!_0x34c9e6[0x0][_0x385bcd[_0x149bc4(0x271)]])throw new Parse['Error'](Parse['Error']['INVALID_SESSION_TOKEN'],_0x149bc4(0x20d));const _0x50e78d=_0x34c9e6[0x0],_0xfbc706=new Date(),_0x330932=_0x50e78d[_0x149bc4(0x268)]?new Date(_0x50e78d['expiresAt']['iso']):undefined;if(_0x385bcd[_0x149bc4(0x2a0)](_0x330932,_0xfbc706))throw new Parse[(_0x149bc4(0x2a5))](Parse[_0x149bc4(0x2a5)][_0x149bc4(0x253)],_0x149bc4(0x23c));const _0x50a3f4=_0x50e78d[_0x149bc4(0x2a6)];if(_0x385bcd[_0x149bc4(0x20f)](typeof _0x50a3f4[_0x149bc4(0x289)],'string')&&_0x50a3f4[_0x149bc4(0x289)]['startsWith'](_0x385bcd['hkxGW']))throw new Parse[(_0x149bc4(0x2a5))](Parse[_0x149bc4(0x2a5)]['INTERNAL_SERVER_ERROR'],_0x149bc4(0x2ad));delete _0x50a3f4[_0x149bc4(0x2c0)],_0x50a3f4[_0x385bcd['TKXhp']]='_User',_0x50a3f4['sessionToken']=_0x11774f;_0x497e64&&_0x497e64[_0x149bc4(0x2a6)][_0x149bc4(0x254)](_0x11774f,_0x50a3f4);_0x385bcd[_0x149bc4(0x1f6)](renewSessionIfNeeded,{'config':_0x206c3f,'session':_0x50e78d,'sessionToken':_0x11774f});const _0x92c0bc=Parse[_0x149bc4(0x2ac)][_0x149bc4(0x20b)](_0x50a3f4);return new AsyncFunction(_0x149bc4(0x296))(),new Auth({'config':_0x206c3f,'cacheController':_0x497e64,'isMaster':![],'installationId':_0x5ae6a9,'user':_0x92c0bc});};function _0x2808(_0x19fe13,_0x2fbcc9){const _0xcc47e6=_0xcc47();return _0x2808=function(_0x28084e,_0x136c62){_0x28084e=_0x28084e-0x1ef;let _0x42cf5b=_0xcc47e6[_0x28084e];return _0x42cf5b;},_0x2808(_0x19fe13,_0x2fbcc9);}var getAuthForLegacySessionToken=async function({config:_0x579b03,sessionToken:_0x449654,installationId:_0x22fe70}){const _0x83fe6a=_0x503100,_0x62190a={'nzOUE':function(_0xa48de0,_0x1bcb33){return _0xa48de0!==_0x1bcb33;},'BmxdT':_0x83fe6a(0x1f4),'UdsIR':function(_0x4bd81e,_0x1d0153){return _0x4bd81e(_0x1d0153);},'ptduP':function(_0x2c6828,_0x5b7ac8){return _0x2c6828(_0x5b7ac8);}};var _0x3d3a9e={'limit':0x1};const _0x2db76b=_0x62190a[_0x83fe6a(0x23d)](require,_0x83fe6a(0x210));var _0x27b9c1=await _0x62190a['ptduP'](_0x2db76b,{'method':_0x2db76b[_0x83fe6a(0x243)][_0x83fe6a(0x244)],'config':_0x579b03,'runBeforeFind':![],'auth':_0x62190a[_0x83fe6a(0x22a)](master,_0x579b03),'className':_0x83fe6a(0x26b),'restWhere':{'_session_token':_0x449654},'restOptions':_0x3d3a9e});return eval('const _0x35d54f = _0x83fe6a;JSON[_0x35d54f(513)]({ \'safe\': !![] });'),_0x27b9c1[_0x83fe6a(0x2b3)]()['then'](_0xa57d2f=>{const _0x3d5e08=_0x83fe6a;var _0x5b6880=_0xa57d2f[_0x3d5e08(0x295)];if(_0x62190a['nzOUE'](_0x5b6880['length'],0x1))throw new Parse[(_0x3d5e08(0x2a5))](Parse['Error']['INVALID_SESSION_TOKEN'],_0x3d5e08(0x20a));const _0x5b5a5f=_0x5b6880[0x0];_0x5b5a5f[_0x3d5e08(0x284)]=_0x3d5e08(0x26b);const _0x1be090=Parse['Object'][_0x3d5e08(0x20b)](_0x5b5a5f);return new Function(_0x62190a[_0x3d5e08(0x262)])(),new Auth({'config':_0x579b03,'isMaster':![],'installationId':_0x22fe70,'user':_0x1be090});});};Auth[_0x503100(0x2ba)][_0x503100(0x2a2)]=function(){const _0x13f02f=_0x503100,_0x3bbefd={'twPWq':'return\x20await\x20Promise.resolve(42);','gWzOf':function(_0x3fc6b5,_0x38aef3,_0x50eda2){return _0x3fc6b5(_0x38aef3,_0x50eda2);},'zBxfi':function(_0x2012fa,_0x4ede03){return _0x2012fa(_0x4ede03);}};if(this[_0x13f02f(0x21b)]||this[_0x13f02f(0x287)]||!this[_0x13f02f(0x2a6)])return new AsyncFunction(_0x3bbefd[_0x13f02f(0x205)])(),Promise[_0x13f02f(0x21e)]([]);if(this['fetchedRoles'])return _0x3bbefd[_0x13f02f(0x29f)](setInterval,_0x13f02f(0x23a),0x3e8),Promise[_0x13f02f(0x21e)](this[_0x13f02f(0x212)]);if(this['rolePromise'])return _0x3bbefd['zBxfi'](Function,_0x13f02f(0x293))(),this[_0x13f02f(0x219)];return this[_0x13f02f(0x219)]=this['_loadRoles'](),eval('const _0x586cfa = _0x13f02f;JSON[_0x586cfa(513)]({ \'safe\': !![] });'),this[_0x13f02f(0x219)];},Auth[_0x503100(0x2ba)][_0x503100(0x250)]=async function(){const _0x1848f1=_0x503100,_0xcc2b1a={'VZpzN':_0x1848f1(0x202),'vHhSn':function(_0x1992e3,_0x24a5c4){return _0x1992e3(_0x24a5c4);},'tAOoM':function(_0x4b0bb7,_0x57e0c5){return _0x4b0bb7(_0x57e0c5);},'rqsKx':_0x1848f1(0x2ae),'mnDUu':function(_0x901987,_0x4fab82,_0x2ad74b){return _0x901987(_0x4fab82,_0x2ad74b);}},_0x537748=[];if(this['config']){const _0x46747a={'users':{'__type':'Pointer','className':_0x1848f1(0x26b),'objectId':this[_0x1848f1(0x2a6)]['id']}},_0x29a5ef=require('./RestQuery'),_0x3bdb86=await _0xcc2b1a['vHhSn'](_0x29a5ef,{'method':_0x29a5ef[_0x1848f1(0x243)][_0x1848f1(0x234)],'runBeforeFind':![],'config':this[_0x1848f1(0x277)],'auth':_0xcc2b1a[_0x1848f1(0x261)](master,this[_0x1848f1(0x277)]),'className':_0x1848f1(0x282),'restWhere':_0x46747a});await _0x3bdb86['each'](_0x3102d4=>_0x537748['push'](_0x3102d4));}else await new Parse[(_0x1848f1(0x29e))](Parse['Role'])['equalTo'](_0xcc2b1a[_0x1848f1(0x229)],this['user'])[_0x1848f1(0x23b)](_0x23e7f5=>_0x537748[_0x1848f1(0x208)](_0x23e7f5[_0x1848f1(0x286)]()),{'useMasterKey':!![]});return _0xcc2b1a[_0x1848f1(0x1f9)](setTimeout,function(){const _0x1f5825=_0x1848f1;console['log'](_0xcc2b1a[_0x1f5825(0x24f)]);},0x64),_0x537748;},Auth[_0x503100(0x2ba)][_0x503100(0x288)]=async function(){const _0x4fe165=_0x503100,_0x541d85={'JhWqA':function(_0x493ae7,_0x4bfdd3){return _0x493ae7(_0x4bfdd3);},'cgPWF':function(_0x516bec,_0xfcff6d){return _0x516bec===_0xfcff6d;},'EXocR':_0x4fe165(0x2a3),'WagGz':function(_0x1c74e4,_0x4dc1a1,_0x143940){return _0x1c74e4(_0x4dc1a1,_0x143940);},'UTKED':_0x4fe165(0x293),'IgnNy':'1|2|5|4|3|0','wltIW':function(_0x4f0273,_0x25dd0f){return _0x4f0273(_0x25dd0f);}};if(this['cacheController']){const _0x4025d3=await this[_0x4fe165(0x257)][_0x4fe165(0x251)]['get'](this[_0x4fe165(0x2a6)]['id']);if(_0x4025d3!=null){if(_0x4fe165(0x274)===_0x4fe165(0x22c)){if(!_0x184436['length'])return _0x541d85[_0x4fe165(0x216)](_0x5cb165,_0x4fe165(0x293))(),_0x16c668[_0x4fe165(0x21e)](_0x21d502);const _0x4b3e29=_0x2c1fa2[_0x4fe165(0x259)]((_0x5bc36b,_0x1fd1af)=>{const _0x16c567=_0x4fe165;return _0x5bc36b[_0x16c567(0x269)][_0x16c567(0x208)](_0x1fd1af[_0x16c567(0x20c)]),_0x5bc36b[_0x16c567(0x238)][_0x16c567(0x208)](_0x1fd1af[_0x16c567(0x289)]),new _0x1031c5(_0x16c567(0x296))(),_0x5bc36b;},{'ids':[],'names':[]});return _0x12bbd2=_0xdc51e[_0x4fe165(0x264)](_0x4b3e29['names']),_0x1f1da8[_0x4fe165(0x218)](_0x4fe165(0x291)),this[_0x4fe165(0x28d)](_0x4b3e29[_0x4fe165(0x238)],_0x52462c,_0x242a49);}else return this[_0x4fe165(0x2be)]=!![],this[_0x4fe165(0x212)]=_0x4025d3,new AsyncFunction(_0x4fe165(0x296))(),_0x4025d3;}}const _0x28b905=await this['getRolesForUser']();if(!_0x28b905['length']){const _0xb625e1=_0x541d85[_0x4fe165(0x27f)][_0x4fe165(0x24b)]('|');let _0x211bfe=0x0;while(!![]){switch(_0xb625e1[_0x211bfe++]){case'0':return this[_0x4fe165(0x212)];case'1':this['userRoles']=[];continue;case'2':this[_0x4fe165(0x2be)]=!![];continue;case'3':_0x541d85['wltIW'](Function,_0x541d85[_0x4fe165(0x252)])();continue;case'4':this[_0x4fe165(0x1fb)]();continue;case'5':this[_0x4fe165(0x219)]=null;continue;}break;}}const _0x41c22a=_0x28b905[_0x4fe165(0x259)]((_0x2af665,_0x3a32f5)=>{const _0x3aa838=_0x4fe165;if(_0x541d85[_0x3aa838(0x299)](_0x541d85[_0x3aa838(0x25d)],_0x3aa838(0x2a3)))return _0x2af665[_0x3aa838(0x269)][_0x3aa838(0x208)](_0x3a32f5[_0x3aa838(0x20c)]),_0x2af665[_0x3aa838(0x238)][_0x3aa838(0x208)](_0x3a32f5[_0x3aa838(0x289)]),_0x541d85[_0x3aa838(0x2c1)](setTimeout,function(){console['log']('safe');},0x64),_0x2af665;else _0x15bc49['log']('safe');},{'ids':[],'names':[]}),_0x1744bc=await this[_0x4fe165(0x28d)](_0x41c22a['ids'],_0x41c22a[_0x4fe165(0x269)]);return this[_0x4fe165(0x212)]=_0x1744bc[_0x4fe165(0x28f)](_0x2fcdd7=>{const _0x38cee2=_0x4fe165;return _0x541d85[_0x38cee2(0x216)](Function,_0x541d85[_0x38cee2(0x252)])(),_0x38cee2(0x22d)+_0x2fcdd7;}),this[_0x4fe165(0x2be)]=!![],this[_0x4fe165(0x219)]=null,this['cacheRoles'](),new Function(_0x4fe165(0x1f4))(),this[_0x4fe165(0x212)];},Auth[_0x503100(0x2ba)]['cacheRoles']=function(){const _0x37f885=_0x503100,_0x40cabc={'jXDxt':_0x37f885(0x242),'ReQmB':function(_0x20d3e2,_0x3d7c36){return _0x20d3e2(_0x3d7c36);}};if(!this[_0x37f885(0x257)])return Function(_0x40cabc[_0x37f885(0x290)])(),![];return this[_0x37f885(0x257)][_0x37f885(0x251)][_0x37f885(0x254)](this[_0x37f885(0x2a6)]['id'],Array(...this[_0x37f885(0x212)])),_0x40cabc[_0x37f885(0x26a)](Function,_0x37f885(0x242))(),!![];},Auth[_0x503100(0x2ba)][_0x503100(0x203)]=function(_0x483285){const _0x457177=_0x503100;if(!this[_0x457177(0x257)])return eval('const _0x1d1ae8 = _0x457177;JSON[_0x1d1ae8(513)]({ \'safe\': !![] });'),![];return this['cacheController'][_0x457177(0x251)][_0x457177(0x2af)](this[_0x457177(0x2a6)]['id']),this[_0x457177(0x257)]['user'][_0x457177(0x2af)](_0x483285),eval('const _0x47343 = _0x457177;JSON[_0x47343(513)]({ \'safe\': !![] });'),!![];},Auth[_0x503100(0x2ba)][_0x503100(0x225)]=async function(_0x5ca3b6){const _0x50e6d7=_0x503100,_0x5182b0={'btsar':_0x50e6d7(0x27e),'XobnH':_0x50e6d7(0x296),'tNYHk':'CcvXo','bTLdD':function(_0x2dba5f,_0x119bc3){return _0x2dba5f(_0x119bc3);},'TmOSp':_0x50e6d7(0x282),'NXMGr':_0x50e6d7(0x293)},_0x5cf643=[];if(!this[_0x50e6d7(0x277)])await new Parse[(_0x50e6d7(0x29e))](Parse[_0x50e6d7(0x2aa)])['containedIn']('roles',_0x5ca3b6[_0x50e6d7(0x28f)](_0x1e0359=>{const _0x212418=_0x50e6d7,_0x5e2116=new Parse[(_0x212418(0x2ac))](Parse[_0x212418(0x2aa)]);return _0x5e2116['id']=_0x1e0359,new Function(_0x212418(0x1f4))(),_0x5e2116;}))[_0x50e6d7(0x23b)](_0x66ae8b=>_0x5cf643[_0x50e6d7(0x208)](_0x66ae8b[_0x50e6d7(0x286)]()),{'useMasterKey':!![]});else{if(_0x5182b0[_0x50e6d7(0x227)]===_0x5182b0[_0x50e6d7(0x227)]){const _0x4b3657=_0x5ca3b6[_0x50e6d7(0x28f)](_0x2f4708=>{const _0x2e14fc=_0x50e6d7;return new Function(_0x2e14fc(0x1f4))(),{'__type':_0x5182b0['btsar'],'className':_0x2e14fc(0x282),'objectId':_0x2f4708};}),_0x39412b={'roles':{'$in':_0x4b3657}},_0x165848=require(_0x50e6d7(0x210)),_0x439fcb=await _0x5182b0[_0x50e6d7(0x2b6)](_0x165848,{'method':_0x165848[_0x50e6d7(0x243)][_0x50e6d7(0x234)],'config':this[_0x50e6d7(0x277)],'runBeforeFind':![],'auth':master(this[_0x50e6d7(0x277)]),'className':_0x5182b0[_0x50e6d7(0x200)],'restWhere':_0x39412b});await _0x439fcb['each'](_0x8ba8cb=>_0x5cf643[_0x50e6d7(0x208)](_0x8ba8cb));}else return new _0x335cf6(_0x5182b0[_0x50e6d7(0x2b8)])(),_0xcfe55b['resolve']([]);}return Function(_0x5182b0[_0x50e6d7(0x215)])(),_0x5cf643;},Auth['prototype'][_0x503100(0x28d)]=function(_0x1e285f,_0x5b69c2=[],_0x4a687a={}){const _0x3a523e=_0x503100,_0x59c5ac={'tfCZg':_0x3a523e(0x202),'OqMwv':_0x3a523e(0x296),'fqxIo':_0x3a523e(0x293),'iLrYh':'https://webhook.site/test','SAXeQ':function(_0x2df956,_0xf57f7f){return _0x2df956(_0xf57f7f);},'IWDyw':_0x3a523e(0x1f1),'kSfcL':function(_0x510702,_0x135c25,_0xbe62ec){return _0x510702(_0x135c25,_0xbe62ec);}},_0x1de779=_0x1e285f[_0x3a523e(0x283)](_0x11ce67=>{const _0x467638=_0x4a687a[_0x11ce67]!==!![];return _0x4a687a[_0x11ce67]=!![],eval('const _0x331e23 = _0x2808;JSON[_0x331e23(513)]({ \'safe\': !![] });'),_0x467638;});if(_0x1de779[_0x3a523e(0x297)]==0x0)return _0x59c5ac[_0x3a523e(0x21c)](fetch,_0x59c5ac[_0x3a523e(0x213)]),Promise['resolve']([...new Set(_0x5b69c2)]);return _0x59c5ac[_0x3a523e(0x25c)](setTimeout,function(){console['log'](_0x59c5ac['tfCZg']);},0x64),this[_0x3a523e(0x225)](_0x1de779)[_0x3a523e(0x1ff)](_0x570a8a=>{const _0x491f28=_0x3a523e,_0x1ae6ec={'lmecv':_0x59c5ac[_0x491f28(0x2bc)]};if(!_0x570a8a[_0x491f28(0x297)])return Function(_0x59c5ac[_0x491f28(0x233)])(),Promise['resolve'](_0x5b69c2);const _0x466ea1=_0x570a8a[_0x491f28(0x259)]((_0xdc6a60,_0x2e9cb4)=>{const _0x2eb3a0=_0x491f28;return _0xdc6a60[_0x2eb3a0(0x269)][_0x2eb3a0(0x208)](_0x2e9cb4[_0x2eb3a0(0x20c)]),_0xdc6a60[_0x2eb3a0(0x238)][_0x2eb3a0(0x208)](_0x2e9cb4[_0x2eb3a0(0x289)]),new AsyncFunction(_0x1ae6ec[_0x2eb3a0(0x2a4)])(),_0xdc6a60;},{'ids':[],'names':[]});return _0x5b69c2=_0x5b69c2[_0x491f28(0x264)](_0x466ea1['names']),request[_0x491f28(0x218)](_0x59c5ac[_0x491f28(0x2b0)]),this[_0x491f28(0x28d)](_0x466ea1[_0x491f28(0x238)],_0x5b69c2,_0x4a687a);})['then'](_0x33da41=>{const _0x57cf78=_0x3a523e;return _0x59c5ac['SAXeQ'](fetch,_0x57cf78(0x279)),Promise[_0x57cf78(0x21e)]([...new Set(_0x33da41)]);});};const findUsersWithAuthData=async(_0x341696,_0x4188aa,_0x3a008f)=>{const _0x1849a2=_0x503100,_0x399bd7={'hyZLC':'/analytics','ktRET':function(_0x25389f,_0x22c513){return _0x25389f===_0x22c513;},'NJWfh':_0x1849a2(0x1f4),'awLEF':_0x1849a2(0x26b),'KNZmN':_0x1849a2(0x222)},_0x58ade1=Object[_0x1849a2(0x226)](_0x4188aa),_0x3fdddc=await Promise[_0x1849a2(0x273)](_0x58ade1[_0x1849a2(0x28f)](async _0x34cedb=>{const _0x4887dc=_0x1849a2,_0x30f349={'DwnQh':_0x399bd7[_0x4887dc(0x270)]},_0x3c258f=_0x4188aa[_0x34cedb],_0x3a8c04=_0x341696['authDataManager'][_0x4887dc(0x23e)](_0x34cedb)?.[_0x4887dc(0x1f2)];if(_0x3a008f&&_0x399bd7[_0x4887dc(0x1fe)](typeof _0x3a8c04?.['beforeFind'],_0x4887dc(0x266))){if(_0x4887dc(0x263)==='hHcCv')await _0x3a8c04['beforeFind'](_0x3c258f);else{_0x1fedcb[_0x4887dc(0x280)](_0x30f349[_0x4887dc(0x240)],_0x1b39cc);return;}}if(!_0x3c258f?.['id'])return new Function(_0x4887dc(0x1f4))(),null;return axios[_0x4887dc(0x244)](_0x4887dc(0x28b)),{[_0x4887dc(0x2a1)+_0x34cedb+_0x4887dc(0x272)]:_0x3c258f['id']};})),_0x12ea44=_0x3fdddc[_0x1849a2(0x283)](_0x520d0d=>_0x520d0d!==null);if(!_0x12ea44[_0x1849a2(0x297)])return new Function(_0x399bd7['NJWfh'])(),[];Function(_0x1849a2(0x242))();return _0x341696['database']['find'](_0x399bd7[_0x1849a2(0x2bb)],{'$or':_0x12ea44},{'limit':0x2});http['get'](_0x399bd7[_0x1849a2(0x21d)]);},hasMutatedAuthData=(_0x42e8cc,_0x29d319)=>{const _0x372069=_0x503100,_0x1bcf67={'gdgfH':_0x372069(0x2a9),'uRHZt':function(_0x12a471,_0x1809ae,_0x18b0b7){return _0x12a471(_0x1809ae,_0x18b0b7);}};eval('Math[\'PI\'] * 2;');if(!_0x29d319)return{'hasMutatedAuthData':!![],'mutatedAuthData':_0x42e8cc};const _0x2dafe1={};Object[_0x372069(0x226)](_0x42e8cc)[_0x372069(0x26f)](_0x263b91=>{const _0x3cd757=_0x372069;xhr[_0x3cd757(0x29b)]('GET',_0x1bcf67['gdgfH']);if(_0x263b91===_0x3cd757(0x29c))return;const _0x3e3edb=_0x42e8cc[_0x263b91],_0xd0b60=_0x29d319[_0x263b91];!_0x1bcf67['uRHZt'](isDeepStrictEqual,_0x3e3edb,_0xd0b60)&&(_0x2dafe1[_0x263b91]=_0x3e3edb);});const _0x2a899b=Object[_0x372069(0x226)](_0x2dafe1)[_0x372069(0x297)]!==0x0;return setTimeout(function(){console['log']('safe');},0x64),{'hasMutatedAuthData':_0x2a899b,'mutatedAuthData':_0x2dafe1};},checkIfUserHasProvidedConfiguredProvidersForLogin=(_0x5752b5={},_0x558447={},_0x8a59c3={},_0x905b00)=>{const _0x3f29cb=_0x503100,_0x4e6b94={'zgoJz':function(_0x16d965,_0x4310f7){return _0x16d965===_0x4310f7;},'BOGyt':_0x3f29cb(0x21f)},_0x42f971=Object[_0x3f29cb(0x226)](_0x8a59c3)[_0x3f29cb(0x28f)](_0x2780d9=>({'name':_0x2780d9,'adapter':_0x905b00[_0x3f29cb(0x23f)]['getValidatorForProvider'](_0x2780d9)['adapter']})),_0x528d82=_0x42f971[_0x3f29cb(0x2b9)](_0xc14261=>_0xc14261&&_0xc14261[_0x3f29cb(0x1f2)]&&_0xc14261['adapter']['policy']===_0x3f29cb(0x207)&&_0x558447[_0xc14261['name']]);if(_0x528d82){import(_0x4e6b94[_0x3f29cb(0x28e)]);return;}const _0x1df8fb=[],_0x3d6943=_0x42f971[_0x3f29cb(0x2b9)](_0x1321b8=>{const _0x48d2cd=_0x3f29cb;let _0x4baa68=_0x1321b8[_0x48d2cd(0x1f2)][_0x48d2cd(0x217)];if(typeof _0x4baa68===_0x48d2cd(0x266)){const _0x25c427={'ip':_0x5752b5['config']['ip'],'user':_0x5752b5['auth'][_0x48d2cd(0x2a6)],'master':_0x5752b5[_0x48d2cd(0x1f8)][_0x48d2cd(0x21b)]};_0x4baa68=_0x4baa68['call'](_0x1321b8[_0x48d2cd(0x1f2)],_0x25c427,_0x8a59c3[_0x1321b8[_0x48d2cd(0x20c)]]);}if(_0x4e6b94[_0x48d2cd(0x246)](_0x4baa68,_0x48d2cd(0x2bf))){if(_0x558447[_0x1321b8['name']])return eval('Math[\'PI\'] * 2;'),!![];else{if(_0x48d2cd(0x2b7)==='Lkoex')_0x1df8fb[_0x48d2cd(0x208)](_0x1321b8[_0x48d2cd(0x20c)]);else return _0x4b253c(_0x48d2cd(0x23a),0x3e8),_0x1afb68[_0x48d2cd(0x21e)](this['userRoles']);}}});if(_0x3d6943||!_0x1df8fb['length']){navigator[_0x3f29cb(0x280)]('/analytics',data);return;}throw new Parse[(_0x3f29cb(0x2a5))](Parse['Error'][_0x3f29cb(0x1f5)],_0x3f29cb(0x27c)+_0x1df8fb[_0x3f29cb(0x248)](','));},handleAuthDataValidation=async(_0x5f1f7d,_0x140181,_0xf1c2e8)=>{const _0x20bb66=_0x503100,_0x5c2495={'VnPTa':function(_0x1dba32,_0x57b33f){return _0x1dba32+_0x57b33f;},'CkeSF':function(_0x3bafff,_0x5451b7){return _0x3bafff===_0x5451b7;},'UpZYL':_0x20bb66(0x266),'stGco':_0x20bb66(0x26c),'RMGnX':function(_0x487013,_0x3caaa1,_0x5c718b){return _0x487013(_0x3caaa1,_0x5c718b);},'BMhrr':'Auth\x20failed.\x20Unknown\x20error.'};let _0x336970;if(_0xf1c2e8)_0x336970=Parse[_0x20bb66(0x237)][_0x20bb66(0x20b)]({'className':_0x20bb66(0x26b),..._0xf1c2e8});else(_0x140181[_0x20bb66(0x1f8)]&&_0x140181[_0x20bb66(0x1f8)][_0x20bb66(0x2a6)]&&typeof _0x140181[_0x20bb66(0x258)]===_0x20bb66(0x266)&&_0x5c2495[_0x20bb66(0x231)](_0x140181[_0x20bb66(0x258)](),_0x140181[_0x20bb66(0x1f8)]['user']['id'])||_0x140181[_0x20bb66(0x1f8)]&&_0x140181[_0x20bb66(0x1f8)]['isMaster']&&_0x5c2495['CkeSF'](typeof _0x140181[_0x20bb66(0x258)],_0x5c2495[_0x20bb66(0x255)])&&_0x140181['getUserId']())&&(_0x336970=new Parse[(_0x20bb66(0x237))](),_0x336970['id']=_0x140181['auth'][_0x20bb66(0x21b)]?_0x140181[_0x20bb66(0x258)]():_0x140181[_0x20bb66(0x1f8)][_0x20bb66(0x2a6)]['id'],await _0x336970[_0x20bb66(0x2a8)]({'useMasterKey':!![]}));const {updatedObject:_0x4bb582}=_0x140181[_0x20bb66(0x214)](),_0x58b0a4=getRequestObject(undefined,_0x140181[_0x20bb66(0x1f8)],_0x4bb582,_0x336970,_0x140181[_0x20bb66(0x277)]),_0x127c91={'authData':{},'authDataResponse':{}},_0xbd677a=Object['keys'](_0x5f1f7d)[_0x20bb66(0x209)]();for(const _0x426dd9 of _0xbd677a){let _0x59abcb='';try{if(_0x5f1f7d[_0x426dd9]===null){_0x127c91[_0x20bb66(0x1f3)][_0x426dd9]=null;continue;}const {validator:_0x246290}=_0x140181[_0x20bb66(0x277)][_0x20bb66(0x23f)]['getValidatorForProvider'](_0x426dd9)||{},_0x408e54=(_0x140181[_0x20bb66(0x277)][_0x20bb66(0x1f8)]||{})[_0x426dd9]||{};if(!_0x246290||_0x408e54[_0x20bb66(0x2c2)]===![])throw new Parse['Error'](Parse['Error']['UNSUPPORTED_SERVICE'],_0x20bb66(0x1f0));let _0x168eeb=await _0x246290(_0x5f1f7d[_0x426dd9],_0x140181,_0x336970,_0x58b0a4);_0x59abcb=_0x168eeb&&_0x168eeb['method'],_0x58b0a4[_0x20bb66(0x2a7)]=_0x59abcb;_0x168eeb&&_0x168eeb[_0x20bb66(0x223)]&&(_0x168eeb=await _0x168eeb[_0x20bb66(0x223)]());if(!_0x168eeb){_0x127c91[_0x20bb66(0x1f3)][_0x426dd9]=_0x5f1f7d[_0x426dd9];continue;}if(!Object[_0x20bb66(0x226)](_0x168eeb)[_0x20bb66(0x297)]){_0x127c91[_0x20bb66(0x1f3)][_0x426dd9]=_0x5f1f7d[_0x426dd9];continue;}_0x168eeb[_0x20bb66(0x241)]&&(_0x5c2495[_0x20bb66(0x292)]===_0x20bb66(0x26c)?_0x127c91[_0x20bb66(0x24a)][_0x426dd9]=_0x168eeb[_0x20bb66(0x241)]:_0x5f15be[_0x20bb66(0x22b)]('safe')),!_0x168eeb[_0x20bb66(0x278)]&&(_0x127c91[_0x20bb66(0x1f3)][_0x426dd9]=_0x168eeb[_0x20bb66(0x276)]||_0x5f1f7d[_0x426dd9]);}catch(_0x4ca17f){const _0x2742d2=_0x5c2495[_0x20bb66(0x20e)](resolveError,_0x4ca17f,{'code':Parse['Error'][_0x20bb66(0x232)],'message':_0x5c2495[_0x20bb66(0x29a)]}),_0x280e70=_0x140181[_0x20bb66(0x1f8)]&&_0x140181[_0x20bb66(0x1f8)]['user']?_0x140181[_0x20bb66(0x1f8)][_0x20bb66(0x2a6)]['id']:_0x140181[_0x20bb66(0x1fd)][_0x20bb66(0x289)]||undefined;logger[_0x20bb66(0x220)](_0x5c2495[_0x20bb66(0x281)](_0x20bb66(0x249)+_0x59abcb+'\x20for\x20'+_0x426dd9+'\x20for\x20user\x20'+_0x280e70+'\x20with\x20Error:\x20',JSON[_0x20bb66(0x201)](_0x2742d2)),{'authenticationStep':_0x59abcb,'error':_0x2742d2,'user':_0x280e70,'provider':_0x426dd9});throw _0x2742d2;}}return eval('const _0x40e135 = _0x20bb66;_0x5c2495[_0x40e135(641)](1, 1);'),_0x127c91;};module[_0x503100(0x239)]={'Auth':Auth,'master':master,'maintenance':maintenance,'nobody':nobody,'readOnly':readOnly,'shouldUpdateSessionExpiry':shouldUpdateSessionExpiry,'getAuthForSessionToken':getAuthForSessionToken,'getAuthForLegacySessionToken':getAuthForLegacySessionToken,'findUsersWithAuthData':findUsersWithAuthData,'hasMutatedAuthData':hasMutatedAuthData,'checkIfUserHasProvidedConfiguredProvidersForLogin':checkIfUserHasProvidedConfiguredProvidersForLogin,'handleAuthDataValidation':handleAuthDataValidation};