'use strict';function _0x29bb(_0x505500,_0x481673){const _0x479df0=_0x479d();return _0x29bb=function(_0x29bbf5,_0x4f8550){_0x29bbf5=_0x29bbf5-0xd5;let _0x26f88e=_0x479df0[_0x29bbf5];return _0x26f88e;},_0x29bb(_0x505500,_0x481673);}const _0x216aa9=_0x29bb;(function(_0x49a2b2,_0x15cabe){const _0x3eaf84=_0x29bb,_0x4b1580=_0x49a2b2();while(!![]){try{const _0x4eae5f=parseInt(_0x3eaf84(0x1be))/0x1*(-parseInt(_0x3eaf84(0x132))/0x2)+-parseInt(_0x3eaf84(0x1b4))/0x3*(parseInt(_0x3eaf84(0x140))/0x4)+parseInt(_0x3eaf84(0x104))/0x5+-parseInt(_0x3eaf84(0x121))/0x6+-parseInt(_0x3eaf84(0x1ac))/0x7*(parseInt(_0x3eaf84(0x14f))/0x8)+parseInt(_0x3eaf84(0x17a))/0x9*(-parseInt(_0x3eaf84(0xe9))/0xa)+parseInt(_0x3eaf84(0x142))/0xb;if(_0x4eae5f===_0x15cabe)break;else _0x4b1580['push'](_0x4b1580['shift']());}catch(_0x589a67){_0x4b1580['push'](_0x4b1580['shift']());}}}(_0x479d,0xeb857));function _0x479d(){const _0x369880=['qxkAr','donZw','qZYUk','50dZRNxF','iLxvO','iPgTh','icvWh','LICENSE','IkOUi','VLNzx','dOcAn','cvjyF','tmPHg','match','YRygl','oyTPk','http','cNSec','GPACj','error','uqfhX','SGjih','Dvtkz','eMEQn','aByJW','YpPhj','gcynr','addToBody\x20with\x20__proto__\x20field','AmIgW','qkwRB','5958130csrdVa','zzVgg','JaSoG','Wwjwt','getSchema','Zjhts','myFileTwo','dqQDZ','payload','Agrum','CFWIi','pyPPI','NaoJX','OYiua','VnXrV','mddyz','listen','PppzM','VlWsX','vNIEu','should\x20not\x20execute\x20the\x20handler','WWKTI','DzoiE','GnuuW','QuzDE','OikpO','toString','7bit','form-data','95178rXafzt','hello','Opyyo','MxsbQ','AueOD','emAtO','end','RYjNv','Gqwwe','KsVQm','text/markdown','localhost','2|0|3|1|4','UAnSZ','MekHU','HuIqv','my\x20error','2801602tJhCMD','myField2','ZIgQh','KjeGV','pNJPZ','aImgG','iRIJn','client\x20pump:\x20no\x20err','tefyV','myFile','VYXmQ','res\x20ended\x20successfully','#\x20fastify-multipart','myCheck','71452jZkYWj','epvWU','51332732VYqGNg','qWxzJ','zDKZt','CncZw','addToBody\x20option\x20and\x20multiple\x20files','addToBody\x20option\x20and\x20custom\x20stream\x20management','test','should\x20not\x20be\x20called','ANcoO','close','addToBody\x20option\x20does\x20not\x20change\x20behaviour\x20on\x20not-multipart\x20request','text/html','tap','8QLRAww','body','ibtLL','bind','RNlbA','address','form.html','tCIMI','oHKZx','PxMpC','request','LvZYx','kLMvl','wyImZ','README.md','thwMk','Prnqv','register','psRmn','gLPSH','type','array','POST','teardown','jEqAR','WEkIl','PTbJD','fTlQr','TjLff','plQFI','LNmyu','iBUnJ','BtLaS','append','CkPZy','pass','GXqYZ','WIvCr','addToBody\x20option\x20and\x20multiple\x20files\x20in\x20one\x20field','true','plan','iHwJJ','addToBody\x20without\x20files\x20and\x20shared\x20schema','1681443GXYRyU','createReadStream','CghJG','addToBody\x20option','gtfDN','substr','AukUD','platform','xmTcE','IaDHT','wuURo','send','RUnbQ','myFileThree','limit','tCXUx','qaobx','HnXqp','uRJda','VtSEn','equal','jiaHW','mySharedSchema','server','ajzrQ','QGLOX','string','world','JxcIh','TmIGw','axqbm','ZCzSy','forEach','addToBody\x20option\x20with\x20promise','aJZza','post','yKJpU','QIKAQ','xTZtV','http:','gbsLH','MawtZ','TfJEi','there\x20are\x20not\x20stream','LwZah','hzcCM','zUjow','We\x20must\x20receive\x203\x20file\x20events','RsltL','uzHTc','12672527pWxkMM','addToBody\x20option\x20with\x20promise\x20in\x20error','qCUyy','nelZN','mKuHp','mDyHb','CNRPi','paLDp','123gJVIQE','VgVXH','LLnSl','fNHTb','XJpjE','zrZVM','PKwNX','IQybq','NxHfL','data','1WEOOIf','rNgoF','gyrca','myField','fail','win32','get','uaorX','aqesr','uNcEz','fChrJ','addToBody\x20with\x20limit\x20exceeded','LhEqx','join','updateClock();','object','BzSxY','AtEer','xOIIY','AevvW','Hxujp','GjhxG','JtKTn','PpHot','Nibse','OnkIY','fzDUc','GET','statusCode','ACrlX','qWEvF','getHeaders','port','pump','huwkA','uUcbU','resume'];_0x479d=function(){return _0x369880;};return _0x479d();}const test=require(_0x216aa9(0x14e))[_0x216aa9(0x148)],FormData=require(_0x216aa9(0x120)),Fastify=require('fastify'),multipart=require('./../..'),http=require(_0x216aa9(0xf6)),path=require('path'),fs=require('fs'),pump=require(_0x216aa9(0xe2)),filePath=path[_0x216aa9(0x1cb)](__dirname,'..','..',_0x216aa9(0x15d));test(_0x216aa9(0x17d),{'skip':process[_0x216aa9(0x181)]===_0x216aa9(0x1c3)},_0x4506e6=>{const _0x58a1b4=_0x216aa9,_0x5db7c3={'IaDHT':_0x58a1b4(0x122),'AueOD':'true','QOXip':_0x58a1b4(0x11f),'LvZYx':_0x58a1b4(0x12b),'PpHot':_0x58a1b4(0x13d),'OYiua':_0x58a1b4(0x1a1),'TjLff':_0x58a1b4(0x12c),'gLPSH':_0x58a1b4(0x165),'HuIqv':_0x58a1b4(0x1c1),'FcqSr':'myCheck','qCUyy':function(_0x1d9a05,_0x470b15,_0x309e65,_0x36c4f9){return _0x1d9a05(_0x470b15,_0x309e65,_0x36c4f9);}};_0x4506e6[_0x58a1b4(0x177)](0x8);const _0x5820d1=Fastify();_0x4506e6[_0x58a1b4(0x166)](_0x5820d1[_0x58a1b4(0x14b)][_0x58a1b4(0x152)](_0x5820d1)),_0x5820d1[_0x58a1b4(0x160)](multipart,{'addToBody':!![]}),_0x5820d1[_0x58a1b4(0x19d)]('/',function(_0x5e6087,_0x38d331){const _0x1ad9f8=_0x58a1b4;_0x4506e6[_0x1ad9f8(0x18e)](_0x5e6087[_0x1ad9f8(0x150)]['myField'],_0x5db7c3['IaDHT']),_0x4506e6[_0x1ad9f8(0x18e)](_0x5e6087[_0x1ad9f8(0x150)][_0x1ad9f8(0x13f)],_0x5db7c3[_0x1ad9f8(0x125)]),_0x4506e6[_0x1ad9f8(0xf3)](_0x5e6087[_0x1ad9f8(0x150)]['myFile'],[{'encoding':_0x5db7c3['QOXip'],'filename':_0x1ad9f8(0x15d),'limit':![],'mimetype':_0x5db7c3[_0x1ad9f8(0x15a)]}]),_0x4506e6[_0x1ad9f8(0x163)](_0x5e6087[_0x1ad9f8(0x150)][_0x1ad9f8(0x13b)][0x0]['data'],Buffer),_0x4506e6[_0x1ad9f8(0x18e)](_0x5e6087[_0x1ad9f8(0x150)]['myFile'][0x0]['data'][_0x1ad9f8(0x11e)]('utf8')[_0x1ad9f8(0x17f)](0x0,0x13),_0x1ad9f8(0x13e)),_0x38d331['send']('ok');}),_0x5820d1['listen'](0x0,function(){const _0x52ec8f=_0x58a1b4,_0x444121=new FormData(),_0x192170={'protocol':_0x5db7c3[_0x52ec8f(0x111)],'hostname':_0x5db7c3[_0x52ec8f(0x16b)],'port':_0x5820d1[_0x52ec8f(0x191)][_0x52ec8f(0x154)]()['port'],'path':'/','headers':_0x444121[_0x52ec8f(0xe0)](),'method':_0x5db7c3[_0x52ec8f(0x162)]},_0x12f62b=http[_0x52ec8f(0x159)](_0x192170,_0x11b739=>{const _0x95e147=_0x52ec8f,_0x4572ee={'zDKZt':_0x5db7c3[_0x95e147(0xd8)]};_0x4506e6[_0x95e147(0x18e)](_0x11b739[_0x95e147(0xdd)],0xc8),_0x11b739[_0x95e147(0xe5)](),_0x11b739['on'](_0x95e147(0x127),()=>{const _0x1d9ada=_0x95e147;_0x4506e6[_0x1d9ada(0x172)](_0x4572ee[_0x1d9ada(0x144)]);});}),_0x3404cd=fs[_0x52ec8f(0x17b)](filePath);_0x444121[_0x52ec8f(0x170)](_0x5db7c3[_0x52ec8f(0x130)],_0x5db7c3[_0x52ec8f(0x183)]),_0x444121[_0x52ec8f(0x170)](_0x5db7c3['FcqSr'],_0x52ec8f(0x176)),_0x444121[_0x52ec8f(0x170)](_0x52ec8f(0x13b),_0x3404cd),_0x5db7c3[_0x52ec8f(0x1ae)](pump,_0x444121,_0x12f62b,function(_0x338cbd){const _0x3df5ae=_0x52ec8f;_0x4506e6[_0x3df5ae(0xf9)](_0x338cbd,_0x3df5ae(0x139));});});}),test(_0x216aa9(0x1c9),{'skip':process['platform']===_0x216aa9(0x1c3)},_0x7014f3=>{const _0x3a57ce=_0x216aa9,_0x144443={'HnXqp':_0x3a57ce(0x139),'gcynr':function(_0x312822,_0x2dfe08){return _0x312822!==_0x2dfe08;},'uzHTc':'http:','KjeGV':_0x3a57ce(0x165),'EIoaV':function(_0x1669ca,_0xbf0b24,_0x199fcf,_0x1211dc){return _0x1669ca(_0xbf0b24,_0x199fcf,_0x1211dc);},'WEkIl':function(_0x32a63a){return _0x32a63a();}};_0x7014f3[_0x3a57ce(0x177)](0x5);const _0x1808e9=_0x144443[_0x3a57ce(0x168)](Fastify);_0x7014f3['teardown'](_0x1808e9['close'][_0x3a57ce(0x152)](_0x1808e9)),_0x1808e9[_0x3a57ce(0x160)](multipart,{'addToBody':!![],'limits':{'fileSize':0x1}}),_0x1808e9[_0x3a57ce(0x19d)]('/',function(_0x37c9bd,_0x2bedc5){const _0x33f8e6=_0x3a57ce;_0x7014f3[_0x33f8e6(0x18e)](_0x37c9bd[_0x33f8e6(0x150)]['myFile'][0x0][_0x33f8e6(0x188)],!![]),_0x7014f3['equal'](_0x37c9bd[_0x33f8e6(0x150)]['myFile'][0x0][_0x33f8e6(0x1bd)],undefined),_0x2bedc5[_0x33f8e6(0x185)]('ok');}),_0x1808e9[_0x3a57ce(0x114)](0x0,function(){const _0x236686=_0x3a57ce,_0x1c5bea={'SGjih':function(_0x47a20d,_0x5b4c45){const _0x23756b=_0x29bb;return _0x144443[_0x23756b(0x100)](_0x47a20d,_0x5b4c45);},'BtLaS':_0x236686(0x171),'ZCzSy':'res\x20ended\x20successfully'},_0x324989=new FormData(),_0xa91040={'protocol':_0x144443[_0x236686(0x1ab)],'hostname':_0x236686(0x12c),'port':_0x1808e9[_0x236686(0x191)][_0x236686(0x154)]()[_0x236686(0xe1)],'path':'/','headers':_0x324989[_0x236686(0xe0)](),'method':_0x144443[_0x236686(0x135)]},_0x3fd50b=http[_0x236686(0x159)](_0xa91040,_0x1c0e64=>{const _0xc6f170=_0x236686;_0x7014f3['equal'](_0x1c0e64[_0xc6f170(0xdd)],0xc8),_0x1c0e64['resume'](),_0x1c0e64['on'](_0xc6f170(0x127),()=>{const _0x55401e=_0xc6f170;_0x1c5bea[_0x55401e(0xfb)](_0x55401e(0x171),_0x1c5bea[_0x55401e(0x16f)])?(_0x41b07a[_0x55401e(0x18e)](_0xe4dd08,_0x55401e(0x13b)),_0x5463e1[_0x55401e(0xe5)]()):_0x7014f3['pass'](_0x1c5bea[_0x55401e(0x199)]);});}),_0x5183e3=fs[_0x236686(0x17b)](filePath);_0x324989[_0x236686(0x170)](_0x236686(0x13b),_0x5183e3),_0x144443['EIoaV'](pump,_0x324989,_0x3fd50b,function(_0x1dd215){const _0x1643f9=_0x236686;_0x7014f3['error'](_0x1dd215,_0x144443[_0x1643f9(0x18b)]);});});}),test(_0x216aa9(0x146),{'skip':process['platform']==='win32'},_0x47bace=>{const _0x4a853a=_0x216aa9,_0x48aa91={'XJpjE':_0x4a853a(0x11f),'cNSec':_0x4a853a(0x15d),'MiHVq':'GXqYZ','WsEcf':_0x4a853a(0x1a1),'PXcwe':'POST','fNHTb':_0x4a853a(0x13b),'Wwjwt':_0x4a853a(0x10a),'utuYG':function(_0x31b1e2){return _0x31b1e2();}};_0x47bace['plan'](0x7);const _0x80380c=_0x48aa91['utuYG'](Fastify);_0x47bace[_0x4a853a(0x166)](_0x80380c[_0x4a853a(0x14b)]['bind'](_0x80380c));let _0x435f38=0x0;const _0x207471={'addToBody':!![],'onFile':(_0x359bec,_0x2cb33e,_0xdbc160,_0x3b5d27,_0x3a3414)=>{const _0x4f710e=_0x4a853a;_0x435f38++,_0x2cb33e[_0x4f710e(0xe5)]();}};_0x80380c[_0x4a853a(0x160)](multipart,_0x207471),_0x80380c[_0x4a853a(0x19d)]('/',function(_0x1759a7,_0x2cca9b){const _0x2648fe=_0x4a853a,_0xb25173=_0x2648fe(0x12d)['split']('|');let _0x1a354=0x0;while(!![]){switch(_0xb25173[_0x1a354++]){case'0':_0x47bace[_0x2648fe(0xf3)](_0x1759a7[_0x2648fe(0x150)][_0x2648fe(0x10a)],[{'data':[],'encoding':_0x48aa91[_0x2648fe(0x1b8)],'filename':_0x48aa91[_0x2648fe(0xf7)],'limit':![],'mimetype':'text/markdown'}]);continue;case'1':_0x47bace[_0x2648fe(0x18e)](_0x435f38,0x3,_0x2648fe(0x1a9));continue;case'2':_0x47bace['match'](_0x1759a7[_0x2648fe(0x150)][_0x2648fe(0x13b)],[{'data':[],'encoding':_0x48aa91[_0x2648fe(0x1b8)],'filename':_0x48aa91[_0x2648fe(0xf7)],'limit':![],'mimetype':_0x2648fe(0x12b)}]);continue;case'3':_0x47bace[_0x2648fe(0xf3)](_0x1759a7['body'][_0x2648fe(0x187)],[{'data':[],'encoding':_0x2648fe(0x11f),'filename':_0x48aa91['cNSec'],'limit':![],'mimetype':_0x2648fe(0x12b)}]);continue;case'4':_0x2cca9b[_0x2648fe(0x185)]('ok');continue;}break;}}),_0x80380c[_0x4a853a(0x114)](0x0,function(){const _0x35aa62=_0x4a853a,_0x11c1ee={'uxfXq':_0x48aa91['MiHVq']},_0x342ab1=new FormData(),_0x57627a={'protocol':_0x48aa91['WsEcf'],'hostname':'localhost','port':_0x80380c[_0x35aa62(0x191)]['address']()[_0x35aa62(0xe1)],'path':'/','headers':_0x342ab1[_0x35aa62(0xe0)](),'method':_0x48aa91['PXcwe']},_0x3eef14=http[_0x35aa62(0x159)](_0x57627a,_0x32bd07=>{const _0x4d9b1e=_0x35aa62,_0x12a4b1={'JaSoG':_0x11c1ee['uxfXq'],'PTbJD':_0x4d9b1e(0x13d)};_0x47bace[_0x4d9b1e(0x18e)](_0x32bd07[_0x4d9b1e(0xdd)],0xc8),_0x32bd07[_0x4d9b1e(0xe5)](),_0x32bd07['on']('end',()=>{const _0x36c578=_0x4d9b1e,_0x2fe8cb={'hXXSr':_0x36c578(0x13d)};_0x12a4b1[_0x36c578(0x106)]!==_0x36c578(0x173)?_0x44e5fd['pass'](_0x2fe8cb['hXXSr']):_0x47bace[_0x36c578(0x172)](_0x12a4b1[_0x36c578(0x169)]);});}),_0x36b6a1=fs[_0x35aa62(0x17b)](filePath),_0x3e7e2a=fs[_0x35aa62(0x17b)](filePath),_0x13d1a5=fs[_0x35aa62(0x17b)](filePath);_0x342ab1[_0x35aa62(0x170)](_0x48aa91[_0x35aa62(0x1b7)],_0x36b6a1),_0x342ab1[_0x35aa62(0x170)](_0x48aa91[_0x35aa62(0x107)],_0x3e7e2a),_0x342ab1[_0x35aa62(0x170)](_0x35aa62(0x187),_0x13d1a5),pump(_0x342ab1,_0x3eef14,function(_0x18a62b){const _0x49f2ca=_0x35aa62;_0x47bace[_0x49f2ca(0xf9)](_0x18a62b,'client\x20pump:\x20no\x20err');});});}),test(_0x216aa9(0x175),{'skip':process['platform']===_0x216aa9(0x1c3)},_0xb009c4=>{const _0x4b1a31=_0x216aa9,_0x279e5e={'cvjyF':function(_0x4226c7,_0x118825){return _0x4226c7===_0x118825;},'fzDUc':_0x4b1a31(0x1b6),'FHqcx':_0x4b1a31(0x11f),'fTlQr':_0x4b1a31(0x12b),'JxcIh':_0x4b1a31(0xed),'GjhxG':_0x4b1a31(0x155),'jEqAR':_0x4b1a31(0x14d),'xWoFT':'http:','qkwRB':_0x4b1a31(0x15d),'YRygl':_0x4b1a31(0x13b)};_0xb009c4[_0x4b1a31(0x177)](0x7);const _0x808487=Fastify();_0xb009c4[_0x4b1a31(0x166)](_0x808487['close']['bind'](_0x808487));const _0x2c826a={'addToBody':!![]};_0x808487[_0x4b1a31(0x160)](multipart,_0x2c826a),_0x808487[_0x4b1a31(0x19d)]('/',function(_0x1683d8,_0x1c050d){const _0x4b52d2=_0x4b1a31,_0x3c635c={'GptOo':'end'};_0xb009c4['match'](_0x1683d8[_0x4b52d2(0x150)][_0x4b52d2(0x13b)],[{'encoding':_0x279e5e['FHqcx'],'filename':_0x4b52d2(0x15d),'limit':![],'mimetype':_0x279e5e[_0x4b52d2(0x16a)]},{'encoding':'7bit','filename':_0x279e5e[_0x4b52d2(0x196)],'limit':![],'mimetype':'application/octet-stream'},{'encoding':'7bit','filename':_0x279e5e[_0x4b52d2(0xd6)],'limit':![],'mimetype':_0x279e5e[_0x4b52d2(0x167)]}]),_0x1683d8[_0x4b52d2(0x150)][_0x4b52d2(0x13b)][_0x4b52d2(0x19a)](_0x479277=>{const _0x40c37c=_0x4b52d2;_0x279e5e[_0x40c37c(0xf1)](_0x279e5e[_0x40c37c(0xdb)],_0x40c37c(0x1b6))?_0xb009c4[_0x40c37c(0x18e)](Buffer['isBuffer'](_0x479277[_0x40c37c(0x1bd)]),!![]):(_0x4431fb[_0x40c37c(0x18e)](_0x3f6bcc[_0x40c37c(0xdd)],0xc8),_0x472827[_0x40c37c(0xe5)](),_0x32e679['on'](_0x3c635c['GptOo'],()=>{const _0x17467d=_0x40c37c;_0x12f5e2['pass'](_0x17467d(0x13d));}));}),_0x1c050d['send']('ok');}),_0x808487['listen'](0x0,function(){const _0x488caf=_0x4b1a31,_0x22a15d=new FormData(),_0x5e717e={'protocol':_0x279e5e['xWoFT'],'hostname':_0x488caf(0x12c),'port':_0x808487[_0x488caf(0x191)]['address']()[_0x488caf(0xe1)],'path':'/','headers':_0x22a15d[_0x488caf(0xe0)](),'method':_0x488caf(0x165)},_0x1d05e9=http[_0x488caf(0x159)](_0x5e717e,_0x2dc455=>{const _0x3064eb=_0x488caf;_0xb009c4['equal'](_0x2dc455[_0x3064eb(0xdd)],0xc8),_0x2dc455[_0x3064eb(0xe5)](),_0x2dc455['on'](_0x3064eb(0x127),()=>{const _0x164ce2=_0x3064eb;_0xb009c4[_0x164ce2(0x172)](_0x164ce2(0x13d));});}),_0x352687=fs['createReadStream'](path['join'](__dirname,'..','..',_0x279e5e[_0x488caf(0x103)])),_0xd899d0=fs[_0x488caf(0x17b)](path['join'](__dirname,'..','..',_0x279e5e['JxcIh'])),_0x2c104a=fs[_0x488caf(0x17b)](path[_0x488caf(0x1cb)](__dirname,'..','..',_0x488caf(0x155)));_0x22a15d[_0x488caf(0x170)](_0x279e5e[_0x488caf(0xf4)],_0x352687),_0x22a15d['append'](_0x279e5e[_0x488caf(0xf4)],_0xd899d0),_0x22a15d[_0x488caf(0x170)](_0x279e5e[_0x488caf(0xf4)],_0x2c104a),pump(_0x22a15d,_0x1d05e9,function(_0x580288){const _0x54a1d9=_0x488caf;_0xb009c4[_0x54a1d9(0xf9)](_0x580288,_0x54a1d9(0x139));});});}),test('addToBody\x20option\x20and\x20multiple\x20strings\x20in\x20one\x20field',{'skip':process[_0x216aa9(0x181)]===_0x216aa9(0x1c3)},_0x1b8c6f=>{const _0x54ddd1=_0x216aa9,_0x5ebab3={'fChrJ':'client\x20pump:\x20no\x20err','WIvCr':'mDyHb','xOIIY':_0x54ddd1(0x127),'MxsbQ':_0x54ddd1(0x1a1),'pyPPI':_0x54ddd1(0x165),'tefyV':'myField','Dvtkz':function(_0x402434,_0x258151,_0x500718,_0xf8fa30){return _0x402434(_0x258151,_0x500718,_0xf8fa30);}};_0x1b8c6f[_0x54ddd1(0x177)](0x4);const _0x278189=Fastify();_0x1b8c6f['teardown'](_0x278189[_0x54ddd1(0x14b)][_0x54ddd1(0x152)](_0x278189));const _0xee0ce0={'addToBody':!![]};_0x278189['register'](multipart,_0xee0ce0),_0x278189['post']('/',function(_0x3c79e6,_0x1524b4){const _0x40f949=_0x54ddd1;_0x5ebab3[_0x40f949(0x174)]!==_0x40f949(0x1b1)?_0xe96dd0['error'](_0x25c7c6,_0x5ebab3[_0x40f949(0x1c8)]):(_0x1b8c6f[_0x40f949(0xf3)](_0x3c79e6[_0x40f949(0x150)][_0x40f949(0x1c1)],['1','2','3']),_0x1524b4[_0x40f949(0x185)]('ok'));}),_0x278189['listen'](0x0,function(){const _0x3c0ad4=_0x54ddd1,_0x594c5d=new FormData(),_0x1acab8={'protocol':_0x5ebab3[_0x3c0ad4(0x124)],'hostname':'localhost','port':_0x278189['server']['address']()['port'],'path':'/','headers':_0x594c5d[_0x3c0ad4(0xe0)](),'method':_0x5ebab3[_0x3c0ad4(0x10f)]},_0x178254=http[_0x3c0ad4(0x159)](_0x1acab8,_0x2c4df8=>{const _0x3cc8c5=_0x3c0ad4,_0x337356={'qaobx':_0x3cc8c5(0x13d)};_0x1b8c6f[_0x3cc8c5(0x18e)](_0x2c4df8['statusCode'],0xc8),_0x2c4df8['resume'](),_0x2c4df8['on'](_0x5ebab3[_0x3cc8c5(0x1d0)],()=>{const _0xad0748=_0x3cc8c5;_0x1b8c6f[_0xad0748(0x172)](_0x337356[_0xad0748(0x18a)]);});});_0x594c5d['append'](_0x5ebab3[_0x3c0ad4(0x13a)],'1'),_0x594c5d[_0x3c0ad4(0x170)](_0x3c0ad4(0x1c1),'2'),_0x594c5d[_0x3c0ad4(0x170)](_0x5ebab3['tefyV'],'3'),_0x5ebab3[_0x3c0ad4(0xfc)](pump,_0x594c5d,_0x178254,function(_0x7639a2){_0x1b8c6f['error'](_0x7639a2,'client\x20pump:\x20no\x20err');});});}),test(_0x216aa9(0x147),{'skip':process[_0x216aa9(0x181)]==='win32'},_0x1b210a=>{const _0x4ff139=_0x216aa9,_0x4b9d54={'VLNzx':'http:','GPACj':function(_0x141701,_0x2c88a5,_0x52dbb0,_0x2726d0){return _0x141701(_0x2c88a5,_0x52dbb0,_0x2726d0);},'Zjhts':function(_0xf42130,_0x1228d9){return _0xf42130!==_0x1228d9;},'CFWIi':_0x4ff139(0x198),'OnkIY':_0x4ff139(0x195),'YpPhj':_0x4ff139(0x123),'uRJda':_0x4ff139(0x12e),'epvWU':_0x4ff139(0x176),'kLMvl':_0x4ff139(0x127),'QGLOX':_0x4ff139(0x12c),'gtfDN':_0x4ff139(0x122),'MekHU':_0x4ff139(0x13f),'gbsLH':'myFile','RUnbQ':function(_0xf0e894){return _0xf0e894();}};_0x1b210a[_0x4ff139(0x177)](0x7);const _0x5b0fbb=_0x4b9d54[_0x4ff139(0x186)](Fastify);_0x1b210a[_0x4ff139(0x166)](_0x5b0fbb[_0x4ff139(0x14b)][_0x4ff139(0x152)](_0x5b0fbb));const _0x46dfe1={'addToBody':!![],'onFile':(_0x521e44,_0x3f62ff,_0x5d381c,_0x113fa7,_0x60b84a)=>{const _0xf74fc9=_0x4ff139,_0x40120a={'JpTkj':_0xf74fc9(0x139),'yfRvn':_0xf74fc9(0x127),'qWxzJ':_0x4b9d54['VLNzx'],'iPgTh':function(_0x30eac4,_0x33b816,_0x3cd885,_0x389dad){const _0x1656fd=_0xf74fc9;return _0x4b9d54[_0x1656fd(0xf8)](_0x30eac4,_0x33b816,_0x3cd885,_0x389dad);}};if(_0x4b9d54[_0xf74fc9(0x109)](_0x4b9d54[_0xf74fc9(0x10e)],_0xf74fc9(0x198))){const _0x430aa2={'oyTPk':_0x40120a['yfRvn']},_0x3e6fd6=new _0x244e1c(),_0x477a7b={'protocol':_0x40120a[_0xf74fc9(0x143)],'hostname':'localhost','port':_0x294f27[_0xf74fc9(0x191)][_0xf74fc9(0x154)]()[_0xf74fc9(0xe1)],'path':'/','headers':_0x3e6fd6[_0xf74fc9(0xe0)](),'method':'POST'},_0x160aed=_0x4be6d9[_0xf74fc9(0x159)](_0x477a7b,_0x580dc7=>{const _0x3fcf6b=_0xf74fc9,_0x1f2f4f={'hzcCM':'res\x20ended\x20successfully'};_0x2633b5[_0x3fcf6b(0x18e)](_0x580dc7[_0x3fcf6b(0xdd)],0x1f4),_0x580dc7[_0x3fcf6b(0xe5)](),_0x580dc7['on'](_0x430aa2[_0x3fcf6b(0xf5)],()=>{const _0x313862=_0x3fcf6b;_0x57a0d8[_0x313862(0x172)](_0x1f2f4f[_0x313862(0x1a7)]);});}),_0x4893da=_0x122bb3[_0xf74fc9(0x17b)](_0x531caf);_0x3e6fd6[_0xf74fc9(0x170)](_0xf74fc9(0x13b),_0x4893da),_0x40120a[_0xf74fc9(0xeb)](_0x29c4c0,_0x3e6fd6,_0x160aed,function(_0x54eeb8){const _0x17129c=_0xf74fc9;_0x2fcb3d[_0x17129c(0xf9)](_0x54eeb8,_0x40120a['JpTkj']);});}else _0x1b210a[_0xf74fc9(0x18e)](_0x521e44,_0xf74fc9(0x13b)),_0x3f62ff[_0xf74fc9(0xe5)]();}};_0x5b0fbb[_0x4ff139(0x160)](multipart,_0x46dfe1),_0x5b0fbb[_0x4ff139(0x19d)]('/',function(_0x1b4e0f,_0x29d25e){const _0x11bae4=_0x4ff139,_0x4ab06c={'iBUnJ':_0x11bae4(0x127)};if(_0x4b9d54[_0x11bae4(0xff)]===_0x4b9d54[_0x11bae4(0x18c)]){const _0x43c4cc=new _0x37ca97(),_0x57bd7d={'protocol':_0x4b9d54[_0x11bae4(0xef)],'hostname':_0x11bae4(0x12c),'port':_0x5cca12[_0x11bae4(0x191)][_0x11bae4(0x154)]()[_0x11bae4(0xe1)],'path':'/','headers':_0x43c4cc[_0x11bae4(0xe0)](),'method':_0x11bae4(0x165)},_0x1d82cb=_0x5b9b1d[_0x11bae4(0x159)](_0x57bd7d,_0x3bd971=>{const _0x530146=_0x11bae4,_0x1d93d7={'ajzrQ':_0x530146(0x13d)};_0x366aef['equal'](_0x3bd971[_0x530146(0xdd)],0xc8),_0x3bd971[_0x530146(0xe5)](),_0x3bd971['on'](_0x4ab06c[_0x530146(0x16e)],()=>{const _0x53c31d=_0x530146;_0xb4570e[_0x53c31d(0x172)](_0x1d93d7[_0x53c31d(0x192)]);});});_0x43c4cc['append'](_0x11bae4(0x1c1),_0x11bae4(0x122)),_0x43c4cc[_0x11bae4(0x170)](_0x11bae4(0x133),_0x4b9d54[_0x11bae4(0xda)]),_0x4b9d54['GPACj'](_0x14ecfd,_0x43c4cc,_0x1d82cb,function(_0x4212fb){const _0x3e2a02=_0x11bae4;_0xffdeae['error'](_0x4212fb,_0x3e2a02(0x139));});}else _0x1b210a[_0x11bae4(0x18e)](_0x1b4e0f['body']['myField'],_0x11bae4(0x122)),_0x1b210a[_0x11bae4(0x18e)](_0x1b4e0f[_0x11bae4(0x150)][_0x11bae4(0x13f)],_0x4b9d54[_0x11bae4(0x141)]),_0x1b210a[_0x11bae4(0xf3)](_0x1b4e0f['body'][_0x11bae4(0x13b)],[{'data':[],'encoding':_0x11bae4(0x11f),'filename':_0x11bae4(0x15d),'limit':![],'mimetype':_0x11bae4(0x12b)}]),_0x29d25e[_0x11bae4(0x185)]('ok');}),_0x5b0fbb[_0x4ff139(0x114)](0x0,function(){const _0x5d4147=_0x4ff139,_0x476d63=new FormData(),_0x11e202={'protocol':_0x4b9d54[_0x5d4147(0xef)],'hostname':_0x4b9d54[_0x5d4147(0x193)],'port':_0x5b0fbb['server']['address']()[_0x5d4147(0xe1)],'path':'/','headers':_0x476d63[_0x5d4147(0xe0)](),'method':_0x5d4147(0x165)},_0x5d229c=http[_0x5d4147(0x159)](_0x11e202,_0x3edaa1=>{const _0x1670cc=_0x5d4147;_0x1b210a[_0x1670cc(0x18e)](_0x3edaa1[_0x1670cc(0xdd)],0xc8),_0x3edaa1[_0x1670cc(0xe5)](),_0x3edaa1['on'](_0x4b9d54[_0x1670cc(0x15b)],()=>{const _0x571abd=_0x1670cc;_0x1b210a[_0x571abd(0x172)](_0x571abd(0x13d));});}),_0x49de63=fs['createReadStream'](filePath);_0x476d63[_0x5d4147(0x170)](_0x5d4147(0x1c1),_0x4b9d54[_0x5d4147(0x17e)]),_0x476d63[_0x5d4147(0x170)](_0x4b9d54[_0x5d4147(0x12f)],_0x5d4147(0x176)),_0x476d63['append'](_0x4b9d54[_0x5d4147(0x1a2)],_0x49de63),pump(_0x476d63,_0x5d229c,function(_0x5e8edb){const _0x2acde8=_0x5d4147;_0x1b210a['error'](_0x5e8edb,_0x2acde8(0x139));});});}),test(_0x216aa9(0x19b),{'skip':process[_0x216aa9(0x181)]===_0x216aa9(0x1c3)},_0x4c8599=>{const _0x4ae010=_0x216aa9,_0x142e34={'ACrlX':_0x4ae010(0x11f),'iLxvO':_0x4ae010(0x1a1),'lReRX':_0x4ae010(0x12c),'wuURo':_0x4ae010(0x165),'RNlbA':_0x4ae010(0x13b),'Gqwwe':function(_0x4bef6b,_0x1ff152,_0x1d4952,_0x529070){return _0x4bef6b(_0x1ff152,_0x1d4952,_0x529070);},'mKuHp':function(_0x5cafdd){return _0x5cafdd();}};_0x4c8599['plan'](0x5);const _0x1f0e0a=_0x142e34[_0x4ae010(0x1b0)](Fastify);_0x4c8599[_0x4ae010(0x166)](_0x1f0e0a['close'][_0x4ae010(0x152)](_0x1f0e0a));const _0x37bdd0={'addToBody':!![],'onFile':async(_0x250b25,_0x5cbc44,_0x6ee6d1,_0x441976,_0xff1104)=>{const _0x50deb6=_0x4ae010;await new Promise(_0x13c4ea=>setTimeout(_0x13c4ea,0xa)),_0x4c8599['equal'](_0x250b25,_0x50deb6(0x13b)),_0x5cbc44['resume']();}};_0x1f0e0a[_0x4ae010(0x160)](multipart,_0x37bdd0),_0x1f0e0a['post']('/',function(_0x4ff06f,_0x54f579){const _0x1a91b8=_0x4ae010;_0x4c8599[_0x1a91b8(0xf3)](_0x4ff06f[_0x1a91b8(0x150)][_0x1a91b8(0x13b)],[{'data':[],'encoding':_0x142e34[_0x1a91b8(0xde)],'filename':_0x1a91b8(0x15d),'limit':![],'mimetype':_0x1a91b8(0x12b)}]),_0x54f579[_0x1a91b8(0x185)]('ok');}),_0x1f0e0a[_0x4ae010(0x114)](0x0,function(){const _0x1f0838=_0x4ae010,_0x21f0b8={'aFOTk':_0x1f0838(0x127)},_0x3e1cd6=new FormData(),_0x3e01dd={'protocol':_0x142e34[_0x1f0838(0xea)],'hostname':_0x142e34['lReRX'],'port':_0x1f0e0a[_0x1f0838(0x191)][_0x1f0838(0x154)]()[_0x1f0838(0xe1)],'path':'/','headers':_0x3e1cd6[_0x1f0838(0xe0)](),'method':_0x142e34[_0x1f0838(0x184)]},_0x3496c4=http['request'](_0x3e01dd,_0x45886c=>{const _0x7bb256=_0x1f0838;_0x4c8599[_0x7bb256(0x18e)](_0x45886c[_0x7bb256(0xdd)],0xc8),_0x45886c['resume'](),_0x45886c['on'](_0x21f0b8['aFOTk'],()=>{const _0x38aed1=_0x7bb256;_0x4c8599[_0x38aed1(0x172)](_0x38aed1(0x13d));});}),_0xd1266=fs[_0x1f0838(0x17b)](filePath);_0x3e1cd6[_0x1f0838(0x170)](_0x142e34[_0x1f0838(0x153)],_0xd1266),_0x142e34[_0x1f0838(0x129)](pump,_0x3e1cd6,_0x3496c4,function(_0x5a1dd3){const _0x1b1a33=_0x1f0838;_0x4c8599[_0x1b1a33(0xf9)](_0x5a1dd3,_0x1b1a33(0x139));});});}),test(_0x216aa9(0x1ad),{'skip':process[_0x216aa9(0x181)]===_0x216aa9(0x1c3)},_0x5b7949=>{const _0x35a8cd=_0x216aa9,_0x4c300c={'QIKAQ':function(_0x47c3a3,_0x5ab738,_0x49eec2){return _0x47c3a3(_0x5ab738,_0x49eec2);},'uaorX':_0x35a8cd(0x131),'GiFwF':_0x35a8cd(0x118),'Agrum':_0x35a8cd(0x139),'IkOUi':'myFile'};_0x5b7949[_0x35a8cd(0x177)](0x3);const _0x574fc0=Fastify();_0x5b7949['teardown'](_0x574fc0[_0x35a8cd(0x14b)]['bind'](_0x574fc0));const _0x455ebf={'addToBody':!![],'onFile':(_0x15a0d5,_0x387184,_0x1113d4,_0x4657ac,_0x5b188d)=>{const _0x370d2f=_0x35a8cd;return _0x4c300c[_0x370d2f(0x19f)](setInterval,_0x370d2f(0x1cc),0x3e8),Promise['reject'](new Error(_0x4c300c[_0x370d2f(0x1c5)]));}};_0x574fc0[_0x35a8cd(0x160)](multipart,_0x455ebf),_0x574fc0[_0x35a8cd(0x19d)]('/',function(_0x5eed05,_0x394f2e){const _0x58a262=_0x35a8cd;_0x5b7949[_0x58a262(0x1c2)](_0x4c300c['GiFwF']);}),_0x574fc0['listen'](0x0,function(){const _0x3feb5a=_0x35a8cd,_0x37672c={'MawtZ':_0x3feb5a(0x127)},_0x496d0f=new FormData(),_0x209b54={'protocol':_0x3feb5a(0x1a1),'hostname':_0x3feb5a(0x12c),'port':_0x574fc0[_0x3feb5a(0x191)][_0x3feb5a(0x154)]()[_0x3feb5a(0xe1)],'path':'/','headers':_0x496d0f[_0x3feb5a(0xe0)](),'method':_0x3feb5a(0x165)},_0x25fb4c=http[_0x3feb5a(0x159)](_0x209b54,_0x5bde15=>{const _0x10e725=_0x3feb5a;_0x5b7949[_0x10e725(0x18e)](_0x5bde15['statusCode'],0x1f4),_0x5bde15[_0x10e725(0xe5)](),_0x5bde15['on'](_0x37672c[_0x10e725(0x1a3)],()=>{const _0x30b23e=_0x10e725;_0x5b7949[_0x30b23e(0x172)](_0x30b23e(0x13d));});}),_0x4ad6f9=fs['createReadStream'](filePath);_0x496d0f[_0x3feb5a(0x170)](_0x4c300c[_0x3feb5a(0xee)],_0x4ad6f9),pump(_0x496d0f,_0x25fb4c,function(_0x73b200){const _0xe5e990=_0x3feb5a;_0x5b7949[_0xe5e990(0xf9)](_0x73b200,_0x4c300c[_0xe5e990(0x10d)]);});});}),test('addToBody\x20with\x20shared\x20schema',{'skip':process['platform']===_0x216aa9(0x1c3)},_0x276742=>{const _0x4878a7=_0x216aa9,_0x44c4a0={'RYjNv':_0x4878a7(0x12b),'RsltL':function(_0x26d4ec,_0x2979f4){return _0x26d4ec!==_0x2979f4;},'rrJua':_0x4878a7(0x19c),'icvWh':_0x4878a7(0xf2),'AtEer':_0x4878a7(0x122),'aImgG':_0x4878a7(0x1cd),'PKwNX':_0x4878a7(0x1c1),'zrZVM':_0x4878a7(0x13b),'uVROW':_0x4878a7(0x164),'LhEqx':_0x4878a7(0x139),'qZYUk':'res\x20ended\x20successfully','zUjow':_0x4878a7(0x165)};_0x276742[_0x4878a7(0x177)](0x9);const _0x394206=Fastify();_0x276742['teardown'](_0x394206[_0x4878a7(0x14b)][_0x4878a7(0x152)](_0x394206)),_0x394206['register'](multipart,{'addToBody':!![],'sharedSchemaId':'mySharedSchema','onFile':(_0x1bc5ce,_0x288ce9,_0x196290,_0x3f434b,_0x391a8e)=>{const _0xb8a5b8=_0x4878a7;_0x276742[_0xb8a5b8(0x18e)](_0x1bc5ce,_0xb8a5b8(0x13b)),_0x276742[_0xb8a5b8(0x18e)](_0x196290,'README.md'),_0x276742['equal'](_0x3f434b,'7bit'),_0x276742['equal'](_0x391a8e,_0x44c4a0[_0xb8a5b8(0x128)]),_0x288ce9[_0xb8a5b8(0xe5)]();}}),_0x394206['after'](()=>{const _0x59e623=_0x4878a7;_0x394206[_0x59e623(0x19d)]('/',{'schema':{'body':{'type':_0x44c4a0[_0x59e623(0x137)],'required':[_0x44c4a0[_0x59e623(0x1ba)],_0x44c4a0[_0x59e623(0x1b9)]],'properties':{'myField':{'type':'string'},'myFile':{'type':_0x44c4a0['uVROW'],'items':_0x394206[_0x59e623(0x108)](_0x59e623(0x190))}}}}},function(_0x596684,_0x21a844){const _0x57bfe6=_0x59e623;if(_0x44c4a0[_0x57bfe6(0x1aa)](_0x44c4a0['rrJua'],_0x44c4a0[_0x57bfe6(0xec)]))_0x276742[_0x57bfe6(0x18e)](_0x596684[_0x57bfe6(0x150)][_0x57bfe6(0x1c1)],_0x44c4a0[_0x57bfe6(0x1cf)]),_0x276742[_0x57bfe6(0xf3)](_0x596684[_0x57bfe6(0x150)][_0x57bfe6(0x13b)],[{'data':[],'encoding':_0x57bfe6(0x11f),'filename':_0x57bfe6(0x15d),'limit':![],'mimetype':_0x57bfe6(0x12b)}]),_0x21a844[_0x57bfe6(0x185)]('ok');else{const _0x480dc5={'PxMpC':_0x57bfe6(0x13d)};_0x5100cd[_0x57bfe6(0x18e)](_0xa82e3c[_0x57bfe6(0xdd)],0xc8),_0x18f747['resume'](),_0x2bf37f['on'](_0x57bfe6(0x127),()=>{const _0x5f190c=_0x57bfe6;_0x19cea9[_0x5f190c(0x172)](_0x480dc5[_0x5f190c(0x158)]),_0x513c51[_0x5f190c(0x14b)](),_0x2784c8[_0x5f190c(0x127)]();});}});}),_0x394206['listen'](0x0,function(){const _0x386840=_0x4878a7,_0x48dc38={'CtNVJ':_0x44c4a0[_0x386840(0xe8)]},_0x3a3f59=new FormData(),_0x3c670b={'protocol':_0x386840(0x1a1),'hostname':_0x386840(0x12c),'port':_0x394206[_0x386840(0x191)][_0x386840(0x154)]()[_0x386840(0xe1)],'path':'/','headers':_0x3a3f59[_0x386840(0xe0)](),'method':_0x44c4a0[_0x386840(0x1a8)]},_0x83fa9=http[_0x386840(0x159)](_0x3c670b,_0x6f8a6f=>{const _0x105b97=_0x386840;_0x276742[_0x105b97(0x18e)](_0x6f8a6f[_0x105b97(0xdd)],0xc8),_0x6f8a6f['resume'](),_0x6f8a6f['on'](_0x105b97(0x127),()=>{_0x276742['pass'](_0x48dc38['CtNVJ']),_0x394206['close'](),_0x276742['end']();});}),_0x22694a=fs['createReadStream'](filePath);_0x3a3f59[_0x386840(0x170)]('myField',_0x44c4a0[_0x386840(0x1cf)]),_0x3a3f59[_0x386840(0x170)](_0x44c4a0[_0x386840(0x1b9)],_0x22694a),pump(_0x3a3f59,_0x83fa9,function(_0x1f670c){const _0x4d4154=_0x386840;_0x276742[_0x4d4154(0xf9)](_0x1f670c,_0x44c4a0[_0x4d4154(0x1ca)]);});});}),test('addToBody\x20with\x20shared\x20schema\x20(async/await)',{'skip':process['platform']===_0x216aa9(0x1c3)},async _0x56be2e=>{const _0x35f7d2=_0x216aa9,_0xac5706={'huwkA':'myFile','crkwh':_0x35f7d2(0x15d),'LNmyu':_0x35f7d2(0x11f),'WgXvH':_0x35f7d2(0x12b),'AevvW':function(_0x59bb5d,_0x18182e){return _0x59bb5d!==_0x18182e;},'Prnqv':_0x35f7d2(0x1c0),'wyImZ':'aoEUE','xTZtV':_0x35f7d2(0xd5),'vNIEu':_0x35f7d2(0x13d),'BAJEU':_0x35f7d2(0x122),'plQFI':function(_0x9aeb46){return _0x9aeb46();},'tCIMI':_0x35f7d2(0x190),'IQybq':_0x35f7d2(0x1cd),'eVpDn':_0x35f7d2(0x194),'UeCri':'array','qWEvF':_0x35f7d2(0x1a1),'AmIgW':_0x35f7d2(0x12c),'GwnCB':_0x35f7d2(0x1cc)},_0x3468c0=_0xac5706[_0x35f7d2(0x16c)](Fastify);_0x56be2e['teardown'](_0x3468c0['close'][_0x35f7d2(0x152)](_0x3468c0)),await _0x3468c0[_0x35f7d2(0x160)](multipart,{'addToBody':!![],'sharedSchemaId':_0xac5706[_0x35f7d2(0x156)],'onFile':(_0x114c31,_0x1edfd0,_0x43b33b,_0x5323d7,_0x1cfea2)=>{const _0xdc9c51=_0x35f7d2;_0x56be2e[_0xdc9c51(0x18e)](_0x114c31,_0xac5706[_0xdc9c51(0xe3)]),_0x56be2e[_0xdc9c51(0x18e)](_0x43b33b,_0xac5706['crkwh']),_0x56be2e[_0xdc9c51(0x18e)](_0x5323d7,_0xac5706['LNmyu']),_0x56be2e[_0xdc9c51(0x18e)](_0x1cfea2,_0xac5706['WgXvH']),_0x1edfd0[_0xdc9c51(0xe5)]();}}),_0x3468c0['post']('/',{'schema':{'body':{'type':_0xac5706[_0x35f7d2(0x1bb)],'required':[_0x35f7d2(0x1c1),_0xac5706[_0x35f7d2(0xe3)]],'properties':{'myField':{'type':_0xac5706['eVpDn']},'myFile':{'type':_0xac5706['UeCri'],'items':_0x3468c0[_0x35f7d2(0x108)](_0xac5706[_0x35f7d2(0x156)])}}}}},function(_0x57809d,_0xaf841f){const _0x1c7e05=_0x35f7d2;_0xac5706[_0x1c7e05(0x1d1)](_0xac5706[_0x1c7e05(0x15f)],_0xac5706[_0x1c7e05(0x15c)])?(_0x56be2e[_0x1c7e05(0x18e)](_0x57809d['body']['myField'],_0x1c7e05(0x122)),_0x56be2e[_0x1c7e05(0xf3)](_0x57809d[_0x1c7e05(0x150)][_0x1c7e05(0x13b)],[{'data':[],'encoding':_0xac5706[_0x1c7e05(0x16d)],'filename':_0x1c7e05(0x15d),'limit':![],'mimetype':_0x1c7e05(0x12b)}]),_0xaf841f['send']('ok')):_0x373cdc[_0x1c7e05(0x18e)](_0x4d845a['isBuffer'](_0xe9f58c['data']),!![]);}),await _0x3468c0['listen'](0x0);const _0x5bb5a8=new FormData(),_0x418fd4={'protocol':_0xac5706[_0x35f7d2(0xdf)],'hostname':_0xac5706[_0x35f7d2(0x102)],'port':_0x3468c0['server'][_0x35f7d2(0x154)]()[_0x35f7d2(0xe1)],'path':'/','headers':_0x5bb5a8[_0x35f7d2(0xe0)](),'method':'POST'};return setInterval(_0xac5706['GwnCB'],0x3e8),new Promise((_0x57acc1,_0x56aa6e)=>{const _0x34e06b=_0x35f7d2,_0x5b1966={'JymzL':_0x34e06b(0x127),'AukUD':_0xac5706[_0x34e06b(0x1a0)],'iRIJn':_0x34e06b(0x15e),'psRmn':_0xac5706[_0x34e06b(0x117)],'TmIGw':function(_0x1acfda,_0x4efb42){const _0xfa95e=_0x34e06b;return _0xac5706[_0xfa95e(0x1d1)](_0x1acfda,_0x4efb42);},'uNcEz':'VUOyW','OikpO':_0x34e06b(0x139)},_0x1fda7a=http['request'](_0x418fd4,_0xb29cc4=>{const _0x1e4739=_0x34e06b,_0x583686={'eMEQn':_0x5b1966['JymzL']};_0x5b1966[_0x1e4739(0x180)]!==_0x5b1966[_0x1e4739(0x138)]?(_0x56be2e[_0x1e4739(0x18e)](_0xb29cc4[_0x1e4739(0xdd)],0xc8),_0xb29cc4['resume'](),_0xb29cc4['on'](_0x1e4739(0x127),()=>{const _0x310745=_0x1e4739;_0x56be2e['pass'](_0x310745(0x13d)),_0x3468c0[_0x310745(0x14b)](),_0x57acc1();})):(_0x262fe1[_0x1e4739(0x18e)](_0x1ac7c9['statusCode'],0xc8),_0x294e95[_0x1e4739(0xe5)](),_0x5754f7['on'](_0x583686[_0x1e4739(0xfd)],()=>{const _0x393388=_0x1e4739;_0x5a2dbd[_0x393388(0x172)](_0x393388(0x13d));}));}),_0x55b958=fs[_0x34e06b(0x17b)](filePath);_0x5bb5a8[_0x34e06b(0x170)](_0x34e06b(0x1c1),_0xac5706['BAJEU']),_0x5bb5a8[_0x34e06b(0x170)](_0xac5706[_0x34e06b(0xe3)],_0x55b958),pump(_0x5bb5a8,_0x1fda7a,function(_0x3dd044){const _0x494cb5=_0x34e06b;_0x5b1966[_0x494cb5(0x197)](_0x494cb5(0x13c),_0x5b1966[_0x494cb5(0x1c7)])?_0x56be2e[_0x494cb5(0xf9)](_0x3dd044,_0x5b1966[_0x494cb5(0x11d)]):_0x165fc4['pass'](_0x5b1966[_0x494cb5(0x161)]);});});}),test('addToBody\x20with\x20shared\x20schema\x20error',{'skip':process[_0x216aa9(0x181)]==='win32'},_0x2ce275=>{const _0x4bc3f3=_0x216aa9,_0x4ac077={'ZIgQh':'localhost','IQtmN':_0x4bc3f3(0x165),'TfJEi':_0x4bc3f3(0x13b),'uqfhX':_0x4bc3f3(0x187),'LwZah':'string','dqQDZ':_0x4bc3f3(0x164),'PppzM':'mySharedSchema'};_0x2ce275[_0x4bc3f3(0x177)](0x3);const _0x446f7c=Fastify();_0x2ce275[_0x4bc3f3(0x166)](_0x446f7c['close'][_0x4bc3f3(0x152)](_0x446f7c)),_0x446f7c[_0x4bc3f3(0x160)](multipart,{'addToBody':!![],'sharedSchemaId':_0x4ac077[_0x4bc3f3(0x115)]})['then'](()=>{const _0x27666d=_0x4bc3f3,_0x527443={'oHKZx':_0x27666d(0x13d),'uUcbU':_0x4ac077[_0x27666d(0x134)],'KsVQm':_0x4ac077['IQtmN'],'VgVXH':_0x4ac077[_0x27666d(0x1a4)],'aqesr':_0x4ac077[_0x27666d(0xfa)],'dOcAn':function(_0x1eebd6,_0x2e9c92,_0x3c392d,_0x40ae34){return _0x1eebd6(_0x2e9c92,_0x3c392d,_0x40ae34);},'VnXrV':_0x27666d(0x1bf)};_0x446f7c[_0x27666d(0x19d)]('/',{'schema':{'body':{'type':'object','required':[_0x27666d(0x1c1),'myFile'],'properties':{'myField':{'type':_0x4ac077[_0x27666d(0x1a6)]},'myFile':{'type':_0x4ac077[_0x27666d(0x10b)],'items':_0x446f7c['getSchema'](_0x4ac077[_0x27666d(0x115)])}}}}},function(_0x71bee8,_0x426264){const _0x3f7283=_0x27666d;'NxHfL'!==_0x3f7283(0x1bc)?(_0x197b66[_0x3f7283(0x18e)](_0x1cc334[_0x3f7283(0xdd)],0x1f4),_0x4380b2[_0x3f7283(0xe5)](),_0x4abfab['on'](_0x3f7283(0x127),()=>{const _0x7d0851=_0x3f7283;_0x3bc9c1[_0x7d0851(0x172)](_0x7d0851(0x13d));})):_0x426264[_0x3f7283(0x185)]('ok');}),_0x446f7c[_0x27666d(0x114)](0x0,function(){const _0x5bf19a=_0x27666d,_0x1df97a={'yKJpU':_0x527443[_0x5bf19a(0x157)],'knVZZ':'client\x20pump:\x20no\x20err'};if(_0x527443['VnXrV']!==_0x527443[_0x5bf19a(0x112)]){const _0x2ee0ff={'VlWsX':_0x527443['oHKZx']},_0x11279e=new _0x5c3985(),_0x5310e5={'protocol':_0x5bf19a(0x1a1),'hostname':_0x527443[_0x5bf19a(0xe4)],'port':_0x41bba7[_0x5bf19a(0x191)][_0x5bf19a(0x154)]()[_0x5bf19a(0xe1)],'path':'/','headers':_0x11279e[_0x5bf19a(0xe0)](),'method':_0x527443['KsVQm']},_0x2e3fb=_0x439454[_0x5bf19a(0x159)](_0x5310e5,_0x3cd8ad=>{const _0x225946=_0x5bf19a;_0x3fcb79[_0x225946(0x18e)](_0x3cd8ad[_0x225946(0xdd)],0xc8),_0x3cd8ad['resume'](),_0x3cd8ad['on'](_0x225946(0x127),()=>{const _0x1c7469=_0x225946;_0x247732[_0x1c7469(0x172)](_0x2ee0ff[_0x1c7469(0x116)]);});}),_0x200c46=_0x9b0674[_0x5bf19a(0x17b)](_0x11a89a),_0x4db380=_0x17279e[_0x5bf19a(0x17b)](_0x54b8fb),_0x2b7175=_0x5d0b1b[_0x5bf19a(0x17b)](_0x3cdcdc);_0x11279e['append'](_0x527443[_0x5bf19a(0x1b5)],_0x200c46),_0x11279e['append']('myFileTwo',_0x4db380),_0x11279e[_0x5bf19a(0x170)](_0x527443[_0x5bf19a(0x1c6)],_0x2b7175),_0x527443[_0x5bf19a(0xf0)](_0x7838b6,_0x11279e,_0x2e3fb,function(_0x3666d0){_0x5dddef['error'](_0x3666d0,'client\x20pump:\x20no\x20err');});}else{const _0x30f3b4=new FormData(),_0x6b9416={'protocol':_0x5bf19a(0x1a1),'hostname':_0x5bf19a(0x12c),'port':_0x446f7c['server'][_0x5bf19a(0x154)]()['port'],'path':'/','headers':_0x30f3b4[_0x5bf19a(0xe0)](),'method':_0x527443[_0x5bf19a(0x12a)]},_0x36add9=http['request'](_0x6b9416,_0x2d84e6=>{const _0xcb7416=_0x5bf19a,_0x4b3f8d={'donZw':_0x1df97a[_0xcb7416(0x19e)]};if(_0xcb7416(0xe6)!==_0xcb7416(0xe6)){const _0x2ab964={'iHwJJ':_0xcb7416(0x13d)};_0x289cd1[_0xcb7416(0x18e)](_0x206a83[_0xcb7416(0xdd)],0xc8),_0x2aac25[_0xcb7416(0xe5)](),_0x347578['on'](_0xcb7416(0x127),()=>{const _0x7eba23=_0xcb7416;_0x48724f[_0x7eba23(0x172)](_0x2ab964[_0x7eba23(0x178)]);});}else _0x2ce275['equal'](_0x2d84e6[_0xcb7416(0xdd)],0x190),_0x2d84e6[_0xcb7416(0xe5)](),_0x2d84e6['on'](_0xcb7416(0x127),()=>{const _0x140d39=_0xcb7416;_0x2ce275[_0x140d39(0x172)](_0x4b3f8d[_0x140d39(0xe7)]);});}),_0x36f4f4=fs[_0x5bf19a(0x17b)](filePath);_0x30f3b4[_0x5bf19a(0x170)](_0x5bf19a(0x13b),_0x36f4f4),_0x527443[_0x5bf19a(0xf0)](pump,_0x30f3b4,_0x36add9,function(_0x206227){const _0x56409b=_0x5bf19a;_0x2ce275[_0x56409b(0xf9)](_0x206227,_0x1df97a['knVZZ']);});}});});}),test(_0x216aa9(0x179),{'skip':process['platform']===_0x216aa9(0x1c3)},_0x34c4be=>{const _0x50314b=_0x216aa9,_0x148b6a={'CNRPi':_0x50314b(0x18d),'BzSxY':_0x50314b(0x1a5),'mddyz':_0x50314b(0x122),'Nibse':function(_0x51bc1f,_0x161c36){return _0x51bc1f===_0x161c36;},'nelZN':_0x50314b(0xfe),'paLDp':'twycI','QuzDE':'localhost','AELUO':_0x50314b(0x165),'ibtLL':function(_0x15bfb1,_0x385984,_0x40fe9b,_0x6cd58c){return _0x15bfb1(_0x385984,_0x40fe9b,_0x6cd58c);},'JtKTn':function(_0x56cc57){return _0x56cc57();}};_0x34c4be[_0x50314b(0x177)](0x5);const _0x56a024=_0x148b6a[_0x50314b(0xd7)](Fastify);_0x34c4be[_0x50314b(0x166)](_0x56a024['close'][_0x50314b(0x152)](_0x56a024));const _0x33628a={'addToBody':!![],'sharedSchemaId':_0x50314b(0x190),'onFile':(_0x1638a0,_0x2b71a4,_0x2be08c,_0x248131,_0x148454)=>{const _0xfe7713=_0x50314b;_0x148b6a['CNRPi']===_0x148b6a[_0xfe7713(0x1b2)]?_0x34c4be[_0xfe7713(0x1c2)](_0x148b6a[_0xfe7713(0x1ce)]):_0x42ed50[_0xfe7713(0xf9)](_0x196b44,_0xfe7713(0x139));}};_0x56a024[_0x50314b(0x160)](multipart,_0x33628a),_0x56a024[_0x50314b(0x19d)]('/',{'schema':{'body':{'type':_0x50314b(0x1cd),'required':[_0x50314b(0x1c1),_0x50314b(0x133)],'properties':{'myField':{'type':'string'},'myField2':{'type':_0x50314b(0x194)}}}}},function(_0x25c6d8,_0x124364){const _0x4a7aa3=_0x50314b;_0x34c4be[_0x4a7aa3(0x18e)](_0x25c6d8[_0x4a7aa3(0x150)]['myField'],_0x148b6a[_0x4a7aa3(0x113)]),_0x34c4be['equal'](_0x25c6d8[_0x4a7aa3(0x150)][_0x4a7aa3(0x133)],_0x4a7aa3(0x195)),_0x124364[_0x4a7aa3(0x185)]('ok');}),_0x56a024[_0x50314b(0x114)](0x0,function(){const _0x438041=_0x50314b;if(_0x148b6a[_0x438041(0xd9)](_0x148b6a[_0x438041(0x1af)],_0x148b6a[_0x438041(0x1b3)]))_0x3e7b12[_0x438041(0x18e)](_0x4a5cbc['body'][_0x438041(0x13b)][0x0]['limit'],!![]),_0x4ffcf3[_0x438041(0x18e)](_0x439b50[_0x438041(0x150)][_0x438041(0x13b)][0x0]['data'],_0x3db4d4),_0x496b24[_0x438041(0x185)]('ok');else{const _0x418b90=new FormData(),_0x113f5a={'protocol':_0x438041(0x1a1),'hostname':_0x148b6a[_0x438041(0x11c)],'port':_0x56a024[_0x438041(0x191)][_0x438041(0x154)]()[_0x438041(0xe1)],'path':'/','headers':_0x418b90[_0x438041(0xe0)](),'method':_0x148b6a['AELUO']},_0x3f2d8d=http[_0x438041(0x159)](_0x113f5a,_0x43394b=>{const _0x1037af=_0x438041;_0x34c4be[_0x1037af(0x18e)](_0x43394b[_0x1037af(0xdd)],0xc8),_0x43394b[_0x1037af(0xe5)](),_0x43394b['on'](_0x1037af(0x127),()=>{const _0x4fc7c9=_0x1037af;_0x34c4be[_0x4fc7c9(0x172)](_0x4fc7c9(0x13d));});});_0x418b90[_0x438041(0x170)](_0x438041(0x1c1),_0x438041(0x122)),_0x418b90[_0x438041(0x170)](_0x438041(0x133),'world'),_0x148b6a[_0x438041(0x151)](pump,_0x418b90,_0x3f2d8d,function(_0xccbae3){const _0x5c34a9=_0x438041;_0x34c4be[_0x5c34a9(0xf9)](_0xccbae3,_0x5c34a9(0x139));});}});}),test(_0x216aa9(0x14c),{'skip':process[_0x216aa9(0x181)]===_0x216aa9(0x1c3)},_0x538b03=>{const _0x32a916=_0x216aa9,_0x2b6c1d={'ANcoO':_0x32a916(0x122),'xmTcE':function(_0x114f3f){return _0x114f3f();}};_0x538b03[_0x32a916(0x177)](0x2);const _0x3129ae=_0x2b6c1d[_0x32a916(0x182)](Fastify);_0x538b03[_0x32a916(0x166)](_0x3129ae[_0x32a916(0x14b)][_0x32a916(0x152)](_0x3129ae)),_0x3129ae[_0x32a916(0x160)](multipart,{'addToBody':!![]}),_0x3129ae[_0x32a916(0x1c4)]('/',async(_0x4eb5aa,_0xa41de9)=>{const _0x32103a=_0x32a916;_0xa41de9['send'](_0x2b6c1d[_0x32103a(0x14a)]);}),_0x3129ae[_0x32a916(0x19d)]('/',function(_0x418d1d,_0x50ae73){}),_0x3129ae[_0x32a916(0x114)](0x0,function(){const _0x24b733=_0x32a916;_0x3129ae['inject']({'method':_0x24b733(0xdc),'url':'/','port':_0x3129ae[_0x24b733(0x191)]['address']()[_0x24b733(0xe1)]},(_0x28240d,_0x2c1a0e)=>{const _0x23a502=_0x24b733;_0x538b03[_0x23a502(0xf9)](_0x28240d),_0x538b03[_0x23a502(0x18e)](_0x2c1a0e[_0x23a502(0x10c)],'hello');});});}),test(_0x216aa9(0x101),_0x5b801b=>{const _0x458e23=_0x216aa9,_0x3e5735={'DzoiE':function(_0x3200cf,_0x19b31f){return _0x3200cf!==_0x19b31f;},'NaoJX':'http:','WWKTI':'localhost','CncZw':'__proto__','pNJPZ':'world','GnuuW':function(_0x2f19e5,_0x43ca14,_0x1890da,_0x2e4cfb){return _0x2f19e5(_0x43ca14,_0x1890da,_0x2e4cfb);},'tCXUx':function(_0x29c7a6){return _0x29c7a6();}};_0x5b801b[_0x458e23(0x177)](0x3);const _0x209afa=_0x3e5735[_0x458e23(0x189)](Fastify);_0x5b801b['teardown'](_0x209afa[_0x458e23(0x14b)][_0x458e23(0x152)](_0x209afa));const _0x119346={'addToBody':!![],'onFile':(_0x5474dd,_0x3f2c2a,_0x4d1b61,_0x19eb97,_0x1883ca)=>{const _0x54ab54=_0x458e23;_0x54ab54(0x17c)!=='CghJG'?(_0x3c285d[_0x54ab54(0x172)]('res\x20ended\x20successfully'),_0x21abd9[_0x54ab54(0x14b)](),_0x3359d[_0x54ab54(0x127)]()):_0x5b801b['fail'](_0x54ab54(0x1a5));}};_0x209afa[_0x458e23(0x160)](multipart,_0x119346),_0x209afa['post']('/',function(_0x242688,_0x1b2807){const _0x9a9fde=_0x458e23;_0x5b801b[_0x9a9fde(0x1c2)](_0x9a9fde(0x149));}),_0x209afa[_0x458e23(0x114)](0x0,function(){const _0x4e5014=_0x458e23,_0x111c95=new FormData(),_0x2714ca={'protocol':_0x3e5735[_0x4e5014(0x110)],'hostname':_0x3e5735[_0x4e5014(0x119)],'port':_0x209afa[_0x4e5014(0x191)][_0x4e5014(0x154)]()['port'],'path':'/','headers':_0x111c95[_0x4e5014(0xe0)](),'method':_0x4e5014(0x165)},_0x103287=http[_0x4e5014(0x159)](_0x2714ca,_0x55dadb=>{const _0x95d4d4=_0x4e5014,_0x7962cd={'emAtO':_0x95d4d4(0x13d),'wUnYm':_0x95d4d4(0x18f)};_0x5b801b[_0x95d4d4(0x18e)](_0x55dadb[_0x95d4d4(0xdd)],0x1f4),_0x55dadb[_0x95d4d4(0xe5)](),_0x55dadb['on'](_0x95d4d4(0x127),()=>{const _0xb68e78=_0x95d4d4;_0xb68e78(0x18f)===_0x7962cd['wUnYm']?_0x5b801b['pass'](_0x7962cd[_0xb68e78(0x126)]):_0xfa4032[_0xb68e78(0x172)](_0x7962cd[_0xb68e78(0x126)]);});});_0x111c95['append'](_0x4e5014(0x1c1),_0x4e5014(0x122)),_0x111c95[_0x4e5014(0x170)](_0x3e5735[_0x4e5014(0x145)],_0x3e5735[_0x4e5014(0x136)]),_0x3e5735[_0x4e5014(0x11b)](pump,_0x111c95,_0x103287,function(_0x145d99){const _0x46f8d7=_0x4e5014;_0x3e5735[_0x46f8d7(0x11a)](_0x46f8d7(0x105),_0x46f8d7(0x105))?_0x299fe5['fail']('should\x20not\x20execute\x20the\x20handler'):_0x5b801b['error'](_0x145d99,_0x46f8d7(0x139));});});});