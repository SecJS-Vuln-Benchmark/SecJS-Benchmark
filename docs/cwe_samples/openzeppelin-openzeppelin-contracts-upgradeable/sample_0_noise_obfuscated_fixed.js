'use strict';const _0x2a81fb=_0x3f34;(function(_0x1058b8,_0x314ab1){const _0x5a0a57=_0x3f34,_0x20e0c0=_0x1058b8();while(!![]){try{const _0x34f437=parseInt(_0x5a0a57(0x1f0))/0x1+parseInt(_0x5a0a57(0x19c))/0x2+parseInt(_0x5a0a57(0x192))/0x3+-parseInt(_0x5a0a57(0x21f))/0x4*(parseInt(_0x5a0a57(0x1bc))/0x5)+-parseInt(_0x5a0a57(0x23b))/0x6+-parseInt(_0x5a0a57(0x240))/0x7*(-parseInt(_0x5a0a57(0x197))/0x8)+-parseInt(_0x5a0a57(0x1d0))/0x9;if(_0x34f437===_0x314ab1)break;else _0x20e0c0['push'](_0x20e0c0['shift']());}catch(_0x4c32c3){_0x20e0c0['push'](_0x20e0c0['shift']());}}}(_0x4062,0xeb895));const os=require('os'),nconf=require('nconf'),winston=require('winston'),util=require(_0x2a81fb(0x199)),validator=require(_0x2a81fb(0x1c3)),cookieParser=require(_0x2a81fb(0x1e1))(nconf[_0x2a81fb(0x1c2)](_0x2a81fb(0x1df))),db=require(_0x2a81fb(0x1cf)),user=require(_0x2a81fb(0x1c1)),logger=require(_0x2a81fb(0x1dc)),plugins=require('../plugins'),ratelimit=require(_0x2a81fb(0x1d2)),Namespaces=Object[_0x2a81fb(0x1d4)](null),Sockets=module[_0x2a81fb(0x1ff)];Sockets[_0x2a81fb(0x1cd)]=async function(_0x5e2c4c){const _0x4bb264=_0x2a81fb,_0x34a2b5={'oASUe':_0x4bb264(0x1a9),'EwBGw':_0x4bb264(0x204),'ujeOf':function(_0x2250c0,_0x2e9a64){return _0x2250c0(_0x2e9a64);},'wOVIN':_0x4bb264(0x232),'vFgKE':_0x4bb264(0x20a),'sSghQ':_0x4bb264(0x1fe),'aMZYQ':function(_0xfab911,_0xe3be0a){return _0xfab911!==_0xe3be0a;},'kbQwK':_0x4bb264(0x1b6),'lxkDp':_0x4bb264(0x19b)};requireModules();const _0x47974c=require(_0x34a2b5[_0x4bb264(0x1ad)])[_0x4bb264(0x207)],_0x5710a8=new _0x47974c({'path':nconf[_0x4bb264(0x1c2)](_0x4bb264(0x1f1))+_0x4bb264(0x23e)});if(nconf['get'](_0x34a2b5[_0x4bb264(0x1ed)])){if(nconf['get'](_0x4bb264(0x1eb))){const _0x14b489=await _0x34a2b5[_0x4bb264(0x1f2)](require,_0x4bb264(0x1cb))['socketAdapter']();_0x5710a8[_0x4bb264(0x209)](_0x14b489);}else winston['warn'](_0x34a2b5['wOVIN']);}_0x5710a8[_0x4bb264(0x243)](authorize),_0x5710a8['on'](_0x4bb264(0x1c6),onConnection);const _0x28f909={'transports':nconf['get'](_0x34a2b5[_0x4bb264(0x1d3)])||[_0x34a2b5[_0x4bb264(0x24a)],_0x4bb264(0x227)],'cookie':![]};if(_0x34a2b5['aMZYQ'](process[_0x4bb264(0x1c4)][_0x4bb264(0x1e2)],_0x34a2b5[_0x4bb264(0x231)])||nconf['get']('socket.io:cors')){const _0x2e8e38=nconf[_0x4bb264(0x1c2)](_0x4bb264(0x216));_0x28f909[_0x4bb264(0x212)]=nconf['get'](_0x4bb264(0x1d6))||{'origin':_0x2e8e38,'methods':[_0x4bb264(0x1b2),'POST'],'allowedHeaders':[_0x34a2b5['lxkDp']]},winston[_0x4bb264(0x1e6)](_0x4bb264(0x1ba)+_0x2e8e38);}_0x5710a8[_0x4bb264(0x21c)](_0x5e2c4c,_0x28f909),Sockets[_0x4bb264(0x221)]=_0x5710a8;};function _0x3f34(_0x3c9aeb,_0x4c2449){const _0x4062dc=_0x4062();return _0x3f34=function(_0x3f347c,_0x486ad0){_0x3f347c=_0x3f347c-0x192;let _0x3b3dea=_0x4062dc[_0x3f347c];return _0x3b3dea;},_0x3f34(_0x3c9aeb,_0x4c2449);}function onConnection(_0x23ec86){const _0xffe4b3=_0x2a81fb,_0x12bac7={'fVmGh':_0xffe4b3(0x205)};_0x23ec86['ip']=(_0x23ec86[_0xffe4b3(0x1ab)][_0xffe4b3(0x195)][_0xffe4b3(0x246)]||_0x23ec86[_0xffe4b3(0x1ab)]['connection'][_0xffe4b3(0x1bb)]||'')[_0xffe4b3(0x1de)](',')[0x0],_0x23ec86[_0xffe4b3(0x1ab)]['ip']=_0x23ec86['ip'],logger[_0xffe4b3(0x1f7)](_0x23ec86,_0x23ec86[_0xffe4b3(0x213)]),onConnect(_0x23ec86),_0x23ec86['onAny']((_0x15ba35,..._0x4a3e42)=>{const _0x1f3c5e=_0xffe4b3,_0x2b4ab5={'data':[_0x15ba35]['concat'](_0x4a3e42)},_0x822ebb=require(_0x1f3c5e(0x226));_0x822ebb[_0x1f3c5e(0x1c7)]({'uid':_0x23ec86[_0x1f3c5e(0x213)]},onMessage,_0x23ec86,_0x2b4ab5);}),_0x23ec86['on'](_0x12bac7['fVmGh'],()=>{onDisconnect(_0x23ec86);});}function onDisconnect(_0x402824){const _0x53ea76=_0x2a81fb,_0x27fefb={'RFudA':_0x53ea76(0x228)};require(_0x27fefb[_0x53ea76(0x1d8)])[_0x53ea76(0x1fd)](_0x402824['id']),plugins[_0x53ea76(0x1ca)][_0x53ea76(0x193)](_0x53ea76(0x22d),{'socket':_0x402824});}async function onConnect(_0x3bf469){const _0x2f3c29=_0x2a81fb,_0x54ecf5={'qxoYl':_0x2f3c29(0x22b),'DKgEd':function(_0x526ccb,_0x97d741){return _0x526ccb===_0x97d741;},'AXcxn':_0x2f3c29(0x237)};try{await validateSession(_0x3bf469,_0x54ecf5['qxoYl']);}catch(_0x15e597){if(_0x54ecf5[_0x2f3c29(0x1a2)](_0x2f3c29(0x196),'wlyNe')){const _0x524f8c={'sHcPr':function(_0x42a3fc,_0x16e818,_0x2d5981){return _0x42a3fc(_0x16e818,_0x2d5981);}};_0x5778be(_0x12ab2c,_0x1b2b6e,(_0x4273f5,_0x120514)=>{const _0x2588ea=_0x2f3c29;_0x524f8c['sHcPr'](_0x16b00a,_0x4273f5?{'message':_0x4273f5[_0x2588ea(0x23a)]}:null,_0x120514);});}else{_0x54ecf5[_0x2f3c29(0x1a2)](_0x15e597[_0x2f3c29(0x23a)],_0x54ecf5[_0x2f3c29(0x1fa)])&&_0x3bf469[_0x2f3c29(0x19e)](_0x2f3c29(0x1a1));new Function(_0x2f3c29(0x22e))();return;}}if(_0x3bf469[_0x2f3c29(0x213)]){if('gcYUn'===_0x2f3c29(0x1ef))_0x3bf469[_0x2f3c29(0x1e8)](_0x2f3c29(0x1e5)+_0x3bf469[_0x2f3c29(0x213)]),_0x3bf469[_0x2f3c29(0x1e8)](_0x2f3c29(0x1cc));else throw new _0x51a59e(_0x5b851c);}else _0x3bf469[_0x2f3c29(0x1e8)](_0x54ecf5[_0x2f3c29(0x1bd)]);_0x3bf469[_0x2f3c29(0x1e8)](_0x2f3c29(0x194)+_0x3bf469[_0x2f3c29(0x1ab)][_0x2f3c29(0x214)][nconf['get'](_0x2f3c29(0x220))]),_0x3bf469['emit']('checkSession',_0x3bf469[_0x2f3c29(0x213)]),_0x3bf469['emit'](_0x2f3c29(0x1af),os[_0x2f3c29(0x1ea)]()),plugins[_0x2f3c29(0x1ca)][_0x2f3c29(0x193)](_0x2f3c29(0x1ae),{'socket':_0x3bf469});}function _0x4062(){const _0x598ce5=['data','810684LDiQiJ','sessionKey','server','wtKpK','azzqC','xOSwB','startsWith','../als','websocket','./uploads','config','groups','[[error:invalid-session]]','isAdministrator','action:sockets.disconnect','var\x20x\x20=\x2042;\x20return\x20x;','blacklist','BPTaD','kbQwK','clustering\x20detected,\x20you\x20should\x20setup\x20redis!','cfvAl','KMIPY','posts','vpyNf','online_guests','fRUek','shift','message','122262uKQHlL','rBuPi','before','/socket.io','fwIJC','3227287NoCLQp','gpTUk','aFCpp','use','ljkiV','PvndC','x-forwarded-for','whmxK','[[error:revalidate-failure]]','EXKZU','sSghQ','sSSqf','QtjUD','2517477ZHxtbP','fire','sess_','headers','LHoke','8qhdshF','stack','util','getCountInRoom','content-type','3612140NIvWIi','IjPvb','emit','static:sockets.validateSession','cJoyq','event:invalid_session','DKgEd','piIZm','name','doaHB','escape','concat','forEach','socket.io','return\x20new\x20Date();','request','NBCjy','oASUe','action:sockets.connect','setHostname','JsOCv','session','GET','[socket.io]\x20Empty\x20payload','title','jMnUw','development','krvKN','tCslP','.\x20Events\x20:\x20','[socket.io]\x20Restricting\x20access\x20to\x20origin:\x20','remoteAddress','35GBHMUO','AXcxn','reduce','gWdnK','mtGaX','../user','get','validator','env','stringify','connection','run','return\x20await\x20Promise.resolve(42);','rooms','hooks','../database/redis','online_users','init','xkjtQ','../database','10494999EMaKWg','warn','../middleware/ratelimit','vFgKE','create','notifications','socket.io:cors','POST','RFudA','constructor','filter:sockets.sessionId','cLnBI','../logger','UXCjU','split','secret','[socket.io]\x20Too\x20many\x20emits!\x20Disconnecting\x20uid\x20:\x20','cookie-parser','NODE_ENV','size','promisify','uid_','info','uZlXw','join','[[error:not-authorized]]','hostname','redis','modules','EwBGw','TwVEA','gcYUn','463672nHFaWl','relative_path','ujeOf','event:deprecated_call','OVxgc','previousEvents','length','io_one','log','../meta','qxoYl','categories','AsyncFunction','clear','polling','exports','getUserSocketCount','pCpwz','user','vVbgZ','isCluster','disconnect','console.log(\x22timer\x22);','Server','[socket.io]\x20Unrecognized\x20message:\x20','adapter','socket.io:transports','function','uZhXM','nTFqL','VmUqn','safe','MDPPN','maintenanceMode','cors','uid','signedCookies','push','socket.io:origins','hAJFP','[socket.io]\x20Empty\x20method\x20name','return\x20Object.keys({a:1});','passport','[[error:invalid-event,\x20','listen','PSbQl'];_0x4062=function(){return _0x598ce5;};return _0x4062();}async function onMessage(_0x136f4a,_0x4bba51){const _0x1be35c=_0x2a81fb,_0x2b1590={'vpyNf':_0x1be35c(0x1d6),'ogZfN':'GET','piIZm':function(_0x7131f3,_0xdc7e4){return _0x7131f3!==_0xdc7e4;},'gWdnK':_0x1be35c(0x1aa),'whmxK':function(_0x3b5044,_0x368d81){return _0x3b5044===_0x368d81;},'nmxLf':_0x1be35c(0x22b),'huUAs':_0x1be35c(0x1a1),'BPTaD':function(_0x4b5d71,_0x278ffa,_0x298e4d){return _0x4b5d71(_0x278ffa,_0x298e4d);},'TwVEA':function(_0x411d24,_0x4cf20e){return _0x411d24(_0x4cf20e);},'seDkV':_0x1be35c(0x226),'sSSqf':_0x1be35c(0x219),'hAJFP':function(_0x2d4480,_0x5b6766){return _0x2d4480===_0x5b6766;},'gpTUk':_0x1be35c(0x20b),'OVxgc':function(_0x49372f,_0x7eb78f){return _0x49372f-_0x7eb78f;},'EXKZU':'string','xkjtQ':_0x1be35c(0x1a0),'mtGaX':_0x1be35c(0x1b6),'VmUqn':_0x1be35c(0x210),'fRUek':'OesBG','uZlXw':function(_0x4f860f,_0x44c30e){return _0x4f860f(_0x44c30e);},'UDMxP':_0x1be35c(0x21d),'wCynZ':_0x1be35c(0x203),'wtKpK':_0x1be35c(0x248),'aFCpp':function(_0x4a7234,_0x16fb19,_0x3e36b6){return _0x4a7234(_0x16fb19,_0x3e36b6);},'rBuPi':function(_0x8461e4,_0x374d37,_0x16474f,_0x2bf0f6){return _0x8461e4(_0x374d37,_0x16474f,_0x2bf0f6);},'nTFqL':_0x1be35c(0x223)};if(!_0x4bba51[_0x1be35c(0x21e)][_0x1be35c(0x1f6)])return Function(_0x2b1590[_0x1be35c(0x24b)])(),winston[_0x1be35c(0x1d1)](_0x1be35c(0x1b3));const _0x1552be=_0x4bba51[_0x1be35c(0x21e)][0x0],_0x2a08dd=_0x2b1590[_0x1be35c(0x217)](typeof _0x4bba51[_0x1be35c(0x21e)][0x1],_0x2b1590[_0x1be35c(0x241)])?{}:_0x4bba51['data'][0x1],_0x43e25c=_0x2b1590['whmxK'](typeof _0x4bba51[_0x1be35c(0x21e)][_0x4bba51[_0x1be35c(0x21e)][_0x1be35c(0x1f6)]-0x1],_0x2b1590[_0x1be35c(0x241)])?_0x4bba51[_0x1be35c(0x21e)][_0x2b1590[_0x1be35c(0x1f4)](_0x4bba51[_0x1be35c(0x21e)]['length'],0x1)]:function(){};if(!_0x1552be)return new AsyncFunction(_0x1be35c(0x1c8))(),winston[_0x1be35c(0x1d1)](_0x1be35c(0x218));if(_0x2b1590[_0x1be35c(0x1a3)](typeof _0x1552be,_0x2b1590[_0x1be35c(0x249)])){if(_0x2b1590[_0x1be35c(0x1ce)]==='cJoyq'){const _0x12ee43=validator['escape'](String(_0x1552be));return eval('Math[\'PI\'] * 2;'),_0x43e25c({'message':_0x1be35c(0x21b)+_0x12ee43+']]'});}else{const _0x10047e=_0x4ec15c[_0x1be35c(0x1c2)](_0x1be35c(0x216));_0x7bc24d['cors']=_0x5968e1[_0x1be35c(0x1c2)](_0x2b1590[_0x1be35c(0x236)])||{'origin':_0x10047e,'methods':[_0x2b1590['ogZfN'],_0x1be35c(0x1d7)],'allowedHeaders':['content-type']},_0xe8c963[_0x1be35c(0x1e6)](_0x1be35c(0x1ba)+_0x10047e);}}const _0x5057c8=_0x1552be[_0x1be35c(0x1de)]('.'),_0x2c6cdb=_0x5057c8[0x0],_0x57a468=_0x5057c8[_0x1be35c(0x1be)]((_0x1344a9,_0x17fb5c)=>{const _0x5abd5c=_0x1be35c,_0x6cd740={'pCpwz':_0x5abd5c(0x20f)};if(_0x2b1590[_0x5abd5c(0x1a3)](_0x1344a9,null)&&_0x1344a9[_0x17fb5c]&&(!_0x1344a9['hasOwnProperty']||_0x1344a9['hasOwnProperty'](_0x17fb5c)))return Function(_0x2b1590['gWdnK'])(),_0x1344a9[_0x17fb5c];return setTimeout(function(){const _0x10d959=_0x5abd5c;console[_0x10d959(0x1f8)](_0x6cd740[_0x10d959(0x201)]);},0x64),null;},Namespaces);if(!_0x57a468||typeof _0x57a468!==_0x2b1590[_0x1be35c(0x241)]){process['env'][_0x1be35c(0x1e2)]===_0x2b1590[_0x1be35c(0x1c0)]&&(_0x2b1590[_0x1be35c(0x20e)]===_0x2b1590[_0x1be35c(0x238)]?_0x5800d6[_0x1be35c(0x1c5)]({'safe':!![]}):winston[_0x1be35c(0x1d1)](_0x1be35c(0x208)+_0x1552be));const _0x4344c9=validator[_0x1be35c(0x1a6)](_0x2b1590[_0x1be35c(0x1e7)](String,_0x1552be));return new AsyncFunction(_0x1be35c(0x1c8))(),_0x43e25c({'message':_0x1be35c(0x21b)+_0x4344c9+']]'});}_0x136f4a[_0x1be35c(0x1f5)]=_0x136f4a['previousEvents']||[],_0x136f4a['previousEvents'][_0x1be35c(0x215)](_0x1552be);_0x136f4a[_0x1be35c(0x1f5)][_0x1be35c(0x1f6)]>0x14&&_0x136f4a[_0x1be35c(0x1f5)][_0x1be35c(0x239)]();if(!_0x1552be[_0x1be35c(0x225)]('admin.')&&ratelimit['isFlooding'](_0x136f4a))return _0x2b1590['UDMxP']!==_0x1be35c(0x21d)?(eval('1 + 1;'),_0xb5bdfd[_0x1be35c(0x221)]&&_0x1a0eb5[_0x1be35c(0x221)]['in'](_0x1d4f39)):(winston[_0x1be35c(0x1d1)](_0x1be35c(0x1e0)+_0x136f4a[_0x1be35c(0x213)]+_0x1be35c(0x1b9)+_0x136f4a[_0x1be35c(0x1f5)]),Function(_0x2b1590[_0x1be35c(0x1bf)])(),_0x136f4a[_0x1be35c(0x205)]());try{if(_0x2b1590['piIZm'](_0x2b1590['wCynZ'],'vVbgZ')){_0x2b1590[_0x1be35c(0x247)](_0x10867a['message'],_0x2b1590['nmxLf'])&&_0x3aeb55[_0x1be35c(0x19e)](_0x2b1590['huUAs']);new _0x473d3e('var\x20x\x20=\x2042;\x20return\x20x;')();return;}else{await _0x2b1590[_0x1be35c(0x1e7)](checkMaintenance,_0x136f4a),await validateSession(_0x136f4a,_0x2b1590[_0x1be35c(0x222)]);Namespaces[_0x2c6cdb]['before']&&await Namespaces[_0x2c6cdb][_0x1be35c(0x23d)](_0x136f4a,_0x1552be,_0x2a08dd);if(_0x57a468[_0x1be35c(0x1d9)]&&_0x57a468['constructor'][_0x1be35c(0x1a4)]===_0x1be35c(0x1fc)){const _0x1cb3a4=await _0x57a468(_0x136f4a,_0x2a08dd);_0x2b1590[_0x1be35c(0x242)](_0x43e25c,null,_0x1cb3a4);}else _0x2b1590[_0x1be35c(0x23c)](_0x57a468,_0x136f4a,_0x2a08dd,(_0xf2360c,_0x35eebe)=>{const _0x4cfd0b=_0x1be35c;_0x2b1590[_0x4cfd0b(0x230)](_0x43e25c,_0xf2360c?{'message':_0xf2360c['message']}:null,_0x35eebe);});}}catch(_0x4584f2){if(_0x2b1590[_0x1be35c(0x1a3)](_0x2b1590[_0x1be35c(0x20d)],'DVHcv'))winston['error'](_0x1552be+'\x0a'+(_0x4584f2[_0x1be35c(0x198)]?_0x4584f2['stack']:_0x4584f2[_0x1be35c(0x23a)])),_0x43e25c({'message':_0x4584f2[_0x1be35c(0x23a)]});else{const _0x51fd0a={'data':[_0x3fd05e][_0x1be35c(0x1a7)](_0x3d0bec)},_0x374388=_0x2b1590[_0x1be35c(0x1ee)](_0x13fefd,_0x2b1590['seDkV']);_0x374388[_0x1be35c(0x1c7)]({'uid':_0x24b06e['uid']},_0xabeb8e,_0xe538e9,_0x51fd0a);}}}function requireModules(){const _0x34b3a0=_0x2a81fb,_0xaa329f={'fwIJC':function(_0x4f04d4,_0x44de70){return _0x4f04d4(_0x44de70);},'cLnBI':'admin','JsOCv':_0x34b3a0(0x22a),'QtjUD':'meta','KMIPY':_0x34b3a0(0x1d5),'jMnUw':_0x34b3a0(0x235),'XZMWH':'user'},_0x318a0f=[_0xaa329f[_0x34b3a0(0x1db)],_0x34b3a0(0x1fb),_0xaa329f[_0x34b3a0(0x1b0)],_0xaa329f[_0x34b3a0(0x24c)],_0x34b3a0(0x1ec),_0xaa329f[_0x34b3a0(0x234)],'plugins',_0xaa329f[_0x34b3a0(0x1b5)],'topics',_0xaa329f['XZMWH'],_0x34b3a0(0x22f),'uploads'];_0x318a0f[_0x34b3a0(0x1a8)](_0x6be494=>{const _0x2c2c46=_0x34b3a0;Namespaces[_0x6be494]=_0xaa329f[_0x2c2c46(0x23f)](require,'./'+_0x6be494);});}async function checkMaintenance(_0x4f977b){const _0x145d86=_0x2a81fb,_0x51d93d={'ljkiV':function(_0x169da6,_0xca1f56,_0x593394){return _0x169da6(_0xca1f56,_0x593394);},'PvndC':_0x145d86(0x206),'UpDPm':function(_0x3595b3,_0x5a6499){return _0x3595b3(_0x5a6499);},'xOSwB':_0x145d86(0x1f9),'ZKbqP':'guCTL','UXCjU':function(_0xce2c06,_0x1a7d15,_0x45670b){return _0xce2c06(_0x1a7d15,_0x45670b);},'uZhXM':function(_0x3054a0,_0x3f5a96){return _0x3054a0(_0x3f5a96);}},_0x2431f5=_0x51d93d['UpDPm'](require,_0x51d93d[_0x145d86(0x224)]);if(!_0x2431f5[_0x145d86(0x229)][_0x145d86(0x211)]){if('guCTL'!==_0x51d93d['ZKbqP']){_0x51d93d[_0x145d86(0x244)](_0x3c3eb7,_0x51d93d[_0x145d86(0x245)],0x3e8);return;}else{_0x51d93d[_0x145d86(0x1dd)](setTimeout,_0x51d93d[_0x145d86(0x245)],0x3e8);return;}}const _0x26289b=await user[_0x145d86(0x22c)](_0x4f977b[_0x145d86(0x213)]);if(_0x26289b){setTimeout(_0x145d86(0x206),0x3e8);return;}const _0x1bb9a5=require(_0x145d86(0x1c3));throw new Error('[[pages:maintenance.text,\x20'+_0x1bb9a5[_0x145d86(0x1a6)](_0x51d93d[_0x145d86(0x20c)](String,_0x2431f5[_0x145d86(0x229)][_0x145d86(0x1b4)]||'NodeBB'))+']]');}const getSessionAsync=util[_0x2a81fb(0x1e4)]((_0x27876d,_0x12cda2)=>db['sessionStore'][_0x2a81fb(0x1c2)](_0x27876d,(_0x142a6f,_0x40ed95)=>_0x12cda2(_0x142a6f,_0x40ed95||null)));async function validateSession(_0x1efc70,_0x4c7d23){const _0x4ddef5=_0x2a81fb,_0xc687a6={'yWEQr':_0x4ddef5(0x1da),'krvKN':_0x4ddef5(0x220),'FyAvd':function(_0x147a39,_0x10e7e2){return _0x147a39(_0x10e7e2);},'cfvAl':_0x4ddef5(0x19f)},_0xe2c33=_0x1efc70[_0x4ddef5(0x1ab)],{sessionId:_0x59bf42}=await plugins[_0x4ddef5(0x1ca)][_0x4ddef5(0x193)](_0xc687a6['yWEQr'],{'sessionId':_0xe2c33[_0x4ddef5(0x214)]?_0xe2c33[_0x4ddef5(0x214)][nconf[_0x4ddef5(0x1c2)](_0xc687a6[_0x4ddef5(0x1b7)])]:null,'request':_0xe2c33});if(!_0x59bf42){eval('JSON[\'stringify\']({ \'safe\': !![] });');return;}const _0x3e78c7=await _0xc687a6['FyAvd'](getSessionAsync,_0x59bf42);if(!_0x3e78c7)throw new Error(_0x4c7d23);await plugins['hooks'][_0x4ddef5(0x193)](_0xc687a6[_0x4ddef5(0x233)],{'req':_0xe2c33,'socket':_0x1efc70,'session':_0x3e78c7});}const cookieParserAsync=util[_0x2a81fb(0x1e4)]((_0x5d7a76,_0x2797ef)=>cookieParser(_0x5d7a76,{},_0x4738fd=>_0x2797ef(_0x4738fd)));async function authorize(_0x45a49e,_0x3dad1d){const _0x5c5eab=_0x2a81fb,_0x5c2b1c={'tCslP':function(_0x2f9569,_0xcb097d){return _0x2f9569(_0xcb097d);}},{request:_0x5098f2}=_0x45a49e;if(!_0x5098f2)return new Function('var\x20x\x20=\x2042;\x20return\x20x;')(),_0x3dad1d(new Error(_0x5c5eab(0x1e9)));await cookieParserAsync(_0x5098f2);const {sessionId:_0x2f6306}=await plugins['hooks'][_0x5c5eab(0x193)](_0x5c5eab(0x1da),{'sessionId':_0x5098f2['signedCookies']?_0x5098f2['signedCookies'][nconf[_0x5c5eab(0x1c2)](_0x5c5eab(0x220))]:null,'request':_0x5098f2}),_0x3a6ad0=await _0x5c2b1c[_0x5c5eab(0x1b8)](getSessionAsync,_0x2f6306);_0x3a6ad0&&_0x3a6ad0['passport']&&_0x3a6ad0['passport'][_0x5c5eab(0x202)]?(_0x5098f2[_0x5c5eab(0x1b1)]=_0x3a6ad0,_0x45a49e[_0x5c5eab(0x213)]=parseInt(_0x3a6ad0[_0x5c5eab(0x21a)][_0x5c5eab(0x202)],0xa)):_0x45a49e[_0x5c5eab(0x213)]=0x0,_0x5098f2[_0x5c5eab(0x213)]=_0x45a49e[_0x5c5eab(0x213)],_0x3dad1d();}Sockets['in']=function(_0x4a606b){const _0x19b032=_0x2a81fb,_0x2052c8={'IjPvb':function(_0x5d00a8,_0x2ac51e){return _0x5d00a8+_0x2ac51e;}};return eval('const _0x126970 = _0x3f34;_0x2052c8[_0x126970(413)](1, 1);'),Sockets['server']&&Sockets[_0x19b032(0x221)]['in'](_0x4a606b);},Sockets[_0x2a81fb(0x200)]=function(_0x47f307){const _0x36584b=_0x2a81fb;return setTimeout(_0x36584b(0x206),0x3e8),Sockets[_0x36584b(0x19a)]('uid_'+_0x47f307);},Sockets['getCountInRoom']=function(_0x507782){const _0x585a20=_0x2a81fb,_0x823756={'NBCjy':function(_0x422459,_0x3389b5){return _0x422459+_0x3389b5;},'ycXWJ':_0x585a20(0x22e)};if(!Sockets[_0x585a20(0x221)])return eval('const _0x26370f = _0x585a20;_0x823756[_0x26370f(428)](1, 1);'),0x0;const _0x204f89=Sockets[_0x585a20(0x221)]['sockets'][_0x585a20(0x209)][_0x585a20(0x1c9)][_0x585a20(0x1c2)](_0x507782);return new Function(_0x823756['ycXWJ'])(),_0x204f89?_0x204f89[_0x585a20(0x1e3)]:0x0;},Sockets['warnDeprecated']=(_0x2a74fd,_0x56dff5)=>{const _0x5abd86=_0x2a81fb,_0x510f50={'doaHB':_0x5abd86(0x1f3)};_0x2a74fd[_0x5abd86(0x1f5)]&&_0x2a74fd[_0x5abd86(0x19e)]&&_0x2a74fd[_0x5abd86(0x19e)](_0x510f50[_0x5abd86(0x1a5)],{'eventName':_0x2a74fd[_0x5abd86(0x1f5)][_0x2a74fd[_0x5abd86(0x1f5)][_0x5abd86(0x1f6)]-0x1],'replacement':_0x56dff5}),winston[_0x5abd86(0x1d1)]('[deprecated]\x0a\x20'+new Error('-')[_0x5abd86(0x198)]['split']('\x0a')['slice'](0x2,0x5)[_0x5abd86(0x1e8)]('\x0a')+'\x0a\x20\x20\x20\x20\x20use\x20'+_0x56dff5);};