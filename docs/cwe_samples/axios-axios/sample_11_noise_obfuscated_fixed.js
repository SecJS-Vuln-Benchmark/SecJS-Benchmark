function _0x4638(){var _0x26a938=['tzZJX','issuer','vwkGd','Invalid\x20thumbprint\x20(configured:\x203464C5BDD2BE7F2B6112E2F08E9C0024E33D9FE1,\x203464C5BDD2BE7F2B6112E2F08E9C0024E33D9FE2.\x20calculated:\x203464C5BDD2BE7F2B6112E2F08E9C0024E33D9FE0)','WKRIL','akMnv','HsDHD','SEgkf','4|0|5|3|2|1|6','VPmDt','xCUHu','tbyfG','readFileSync','GKuOf','http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier','QRaGI','MmJGr','The\x20signing\x20certificate\x20is\x20invalid\x20(error:0D07803A:asn1\x20encoding\x20routines:asn1_item_embed_d2i:nested\x20asn1\x20error,\x20error:0D068066:asn1\x20encoding\x20routines:asn1_check_tlen:bad\x20object\x20header)','2424TExupv','3109359BEwpjh','вКонтакте','split','vvARW','JWhRs','knoeb','GrnDF','WDDFd','urn:myapp','assert','4089006pNYSkd','RpnjA','сообщить\x20вКонтакте','FUlxZ','/samples/plain/samlresponse_saml11_invalid_cert.txt','DFnYk','qgYSD','equal','Error\x20message\x20is\x20not\x20the\x20default\x20invalid\x20message','jTzdB','3464c5bdd2be7f2b6112e2f08e9c0024e33d9fe1','<Assertion\x20ID=\x22_1b1ffaef-86ef-42e1-92cf-cf8c9d9a4ce0\x22\x20IssueInstant=\x222013-04-02T18:50:24.000Z\x22\x20Version=\x222.0\x22\x20xmlns=\x22urn:oasis:names:tc:SAML:2.0:assertion\x22><Issuer>https://sts.windows.net/75696069-df44-4310-9bcf-08b45e3007c9/</Issuer><ds:Signature\x20xmlns:ds=\x22http://www.w3.org/2000/09/xmldsig#\x22><ds:SignedInfo><ds:CanonicalizationMethod\x20Algorithm=\x22http://www.w3.org/2001/10/xml-exc-c14n#\x22\x20/><ds:SignatureMethod\x20Algorithm=\x22http://www.w3.org/2001/04/xmldsig-more#rsa-sha256\x22\x20/><ds:Reference\x20URI=\x22#_1b1ffaef-86ef-42e1-92cf-cf8c9d9a4ce0\x22><ds:Transforms><ds:Transform\x20Algorithm=\x22http://www.w3.org/2000/09/xmldsig#enveloped-signature\x22\x20/><ds:Transform\x20Algorithm=\x22http://www.w3.org/2001/10/xml-exc-c14n#\x22\x20/></ds:Transforms><ds:DigestMethod\x20Algorithm=\x22http://www.w3.org/2001/04/xmlenc#sha256\x22\x20/><ds:DigestValue>TzJmLs0BTPgpaPLsA7L2Kd9l1k4IBOmwIM/znV2iOPU=</ds:DigestValue></ds:Reference></ds:SignedInfo><ds:SignatureValue>OHJCAffCNPRkwsE3RqnVPoCRSqsPrio8prABauzu2pqF418Y1QJuJehhzztY8A6kwnBUkBVE7BIyLe7kgCnBoNZWElYki1xtaLksc/Afc0TjlZvv9IJ9fQHIBiL1JA9KcySq1tu9dv/NauykBODXuljPuVTk6I4xLLWcg20o26Ov57axp42uWPpcJHtasomLmmmnAXEh6P7aB/1Vlm/MAJhWXToxacauJzFao3F9JNEuucKY6y3RPDp1Qq3vL0gq98RKuiaejayu6RjyyU2+8vCBzURul8b7ZXPUHfIOME6Q5LvbKqLhe/mzqRc+9GUg22X3B5SYjdnXjwHbBTbihA==</ds:SignatureValue><KeyInfo\x20xmlns=\x22http://www.w3.org/2000/09/xmldsig#\x22><X509Data><X509Certificate>MIIDPjCCAiqgAwIBAgIQVWmXY/+9RqFA/OG9kFulHDAJBgUrDgMCHQUAMC0xKzApBgNVBAMTImFjY291bnRzLmFjY2Vzc2NvbnRyb2wud2luZG93cy5uZXQwHhcNMTIwNjA3MDcwMDAwWhcNMTQwNjA3MDcwMDAwWjAtMSswKQYDVQQDEyJhY2NvdW50cy5hY2Nlc3Njb250cm9sLndpbmRvd3MubmV0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEArCz8Sn3GGXmikH2MdTeGY1D711EORX/lVXpr+ecGgqfUWF8MPB07XkYuJ54DAuYT318+2XrzMjOtqkT94VkXmxv6dFGhG8YZ8vNMPd4tdj9c0lpvWQdqXtL1TlFRpD/P6UMEigfN0c9oWDg9U7Ilymgei0UXtf1gtcQbc5sSQU0S4vr9YJp2gLFIGK11Iqg4XSGdcI0QWLLkkC6cBukhVnd6BCYbLjTYy3fNs4DzNdemJlxGl8sLexFytBF6YApvSdus3nFXaMCtBGx16HzkK9ne3lobAwL2o79bP4imEGqg+ibvyNmbrwFGnQrBc1jTF9LyQX9q+louxVfHs6ZiVwIDAQABo2IwYDBeBgNVHQEEVzBVgBCxDDsLd8xkfOLKm4Q/SzjtoS8wLTErMCkGA1UEAxMiYWNjb3VudHMuYWNjZXNzY29udHJvbC53aW5kb3dzLm5ldIIQVWmXY/+9RqFA/OG9kFulHDAJBgUrDgMCHQUAA4IBAQAkJtxxm/ErgySlNk69+1odTMP8Oy6L0H17z7XGG3w4TqvTUSWaxD4hSFJ0e7mHLQLQD7oV/erACXwSZn2pMoZ89MBDjOMQA+e6QzGB7jmSzPTNmQgMLA8fWCfqPrz6zgH+1F1gNp8hJY57kfeVPBiyjuBmlTEBsBlzolY9dd/55qqfQk6cgSeCbHCy/RU/iep0+UsRMlSgPNNmqhj5gmN2AFVCN96zF694LwuPae5CeR2ZcVknexOWHYjFM0MgUSw0ubnGl0h9AJgGyhvNGcjQqu9vd1xkupFgaN+f7P3p3EVN5csBg5H94jEcQZT7EKeTiZ6bTrpDAnrr8tDCy8ng</X509Certificate></X509Data></KeyInfo></ds:Signature><Subject><NameID>10030000838D23AF@MicrosoftOnline.com</NameID><SubjectConfirmation\x20Method=\x22urn:oasis:names:tc:SAML:2.0:cm:bearer\x22\x20/></Subject><Conditions\x20NotBefore=\x222013-04-02T18:50:23.969Z\x22\x20NotOnOrAfter=\x222013-04-03T06:50:23.969Z\x22><AudienceRestriction><Audience>spn:408153f4-5960-43dc-9d4f-6b717d772c8d</Audience></AudienceRestriction></Conditions><AttributeStatement><Attribute\x20Name=\x22http://schemas.microsoft.com/identity/claims/tenantid\x22><AttributeValue>75696069-df44-4310-9bcf-08b45e3007c9</AttributeValue></Attribute><Attribute\x20Name=\x22http://schemas.xmlsoap.org/ws/2005/05/identity/claims/givenname\x22><AttributeValue>Matias</AttributeValue></Attribute><Attribute\x20Name=\x22http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name\x22><AttributeValue>matias@auth0.onmicrosoft.com</AttributeValue></Attribute><Attribute\x20Name=\x22http://schemas.xmlsoap.org/ws/2005/05/identity/claims/surname\x22><AttributeValue>Woloski</AttributeValue></Attribute><Attribute\x20Name=\x22http://schemas.microsoft.com/identity/claims/identityprovider\x22><AttributeValue>https://sts.windows.net/75696069-df44-4310-9bcf-08b45e3007c9/</AttributeValue></Attribute></AttributeStatement><AuthnStatement\x20AuthnInstant=\x222013-04-02T18:50:16.000Z\x22><AuthnContext><AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:Password</AuthnContextClassRef></AuthnContext></AuthnStatement></Assertion>','YJUgl','should\x20fail\x20when\x20the\x20X509Certificate\x20is\x20invalid','eJxGr','UYlFN','mfbGW','FEiWu','TAxZO','1340388xYUsLC','yxOrw','14147cdatPT','toString','3464c5bdd2be7f2b6112e2f08e9c0024e33d9fe2','create','urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified','message','HUpaf','validateSamlAssertion','AfHml','The\x20signing\x20certificate\x20was\x20unexpectedly\x20valid','msgei','http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress','119B9E027959CDB7C662CFD075D9E2EF384E445F','KrQTs','AZYXK','DPKnV','1|3|6|0|2|4|5','xAbrL','Saml11','JMPmk','mxkFP','WCagw','771321dxQiWG','qvOaD','The\x20signing\x20certificate\x20is\x20invalid\x20(error:0906700D:PEM\x20routines:PEM_ASN1_read_bio:ASN1\x20lib,\x20error:0D07803A:asn1\x20encoding\x20routines:ASN1_ITEM_EX_D2I:nested\x20asn1\x20error,\x20error:0D068066:asn1\x20encoding\x20routines:ASN1_CHECK_TLEN:bad\x20object\x20header)','./helpers','Error\x20message\x20for\x20invalid\x20certificate\x20is\x20incorrect','0|4|6|1|3|2|5','isotK','Foo\x20Bar','NDGlq','saml','should\x20parse\x20attributes','zYuQQ','3464c5bdd2be7f2b6112e2f08e9c0024e33d9fe0','zBaLr','10wqWSGC','http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name','/test-auth0.key','sGAww','lyLZR','EMauI','foo@bar.com','The\x20signing\x20certificate\x20is\x20invalid\x20(error:0688010A:asn1\x20encoding\x20routines::nested\x20asn1\x20error,\x20error:06800066:asn1\x20encoding\x20routines::bad\x20object\x20header)','urn:issuer','test','return\x20await\x20Promise.resolve(42);','MZKql','vQyHd','XxAEB','2iTqAdX','eCCyU','mqMiT','should\x20return\x20error\x20if\x20validation\x20fails','iGJZz','email','Bgysl','NXEpz','Lwwev','gRoTJ','/test-auth0.cer','includes','../lib/passport-wsfed-saml2/saml','stringify','xqBrQ','spn:408153f4-5960-43dc-9d4f-6b717d772c8d','3747565ZMirjc','jUIKj','The\x20signing\x20certificate\x20is\x20invalid\x20(PEM_read_bio_PUBKEY\x20failed)','ilyYM','WTMnP','xCBYS','2097651OPjOlf','hJEEl','YrlSQ','6uoLbuA','сообщить@bar.com','should\x20handle\x20unicode','foo','cFhsX'];_0x4638=function(){return _0x26a938;};return _0x4638();}var _0x3e97be=_0x9cd4;(function(_0x4bf8c5,_0x44b10d){var _0x401a8f=_0x9cd4,_0x695794=_0x4bf8c5();while(!![]){try{var _0x4434a3=parseInt(_0x401a8f(0x22b))/0x1*(parseInt(_0x401a8f(0x247))/0x2)+parseInt(_0x401a8f(0x25d))/0x3+-parseInt(_0x401a8f(0x213))/0x4+parseInt(_0x401a8f(0x257))/0x5*(-parseInt(_0x401a8f(0x260))/0x6)+-parseInt(_0x401a8f(0x215))/0x7*(parseInt(_0x401a8f(0x1f5))/0x8)+parseInt(_0x401a8f(0x200))/0x9+parseInt(_0x401a8f(0x239))/0xa*(parseInt(_0x401a8f(0x1f6))/0xb);if(_0x4434a3===_0x44b10d)break;else _0x695794['push'](_0x695794['shift']());}catch(_0x1b3165){_0x695794['push'](_0x695794['shift']());}}}(_0x4638,0x7ca68));function _0x9cd4(_0x5ec113,_0x2f6d31){var _0x463845=_0x4638();return _0x9cd4=function(_0x9cd4be,_0x560059){_0x9cd4be=_0x9cd4be-0x1ed;var _0x3e39a3=_0x463845[_0x9cd4be];return _0x3e39a3;},_0x9cd4(_0x5ec113,_0x2f6d31);}var assert=require(_0x3e97be(0x1ff)),fs=require('fs'),helpers=require(_0x3e97be(0x22e)),saml11=require(_0x3e97be(0x234))[_0x3e97be(0x227)],SamlPassport=require(_0x3e97be(0x253))['SAML'];describe('saml\x201.1\x20assertion',function(){var _0x355224=_0x3e97be,_0x8518ee={'vvARW':_0x355224(0x1f1),'WDDFd':'foo@bar.com','RpnjA':_0x355224(0x241),'isotK':'/test-auth0.pem','YrlSQ':'/test-auth0.key','DPKnV':'Foo\x20Bar','YJUgl':_0x355224(0x219),'eJxGr':_0x355224(0x258),'PtWGv':_0x355224(0x23a),'sGAww':function(_0x5dfb20,_0x524cd5){return _0x5dfb20(_0x524cd5);},'HUpaf':function(_0x591a28){return _0x591a28();},'SEgkf':_0x355224(0x261),'mfbGW':function(_0x1dafc5,_0x4e1a55){return _0x1dafc5+_0x4e1a55;},'WKRIL':_0x355224(0x1fe),'JYSnY':'вКонтакте','JWhRs':function(_0xda245b){return _0xda245b();},'iGJZz':function(_0x19c09f,_0x2da3d2){return _0x19c09f+_0x2da3d2;},'eCCyU':function(_0x1192bb,_0x185f1e){return _0x1192bb===_0x185f1e;},'zBaLr':_0x355224(0x25e),'KrQTs':'TlDQL','VPmDt':function(_0x4b0740,_0x3e67a4){return _0x4b0740+_0x3e67a4;},'Bgysl':function(_0x5e312b,_0x2628c2){return _0x5e312b!==_0x2628c2;},'jTzdB':_0x355224(0x212),'FUlxZ':_0x355224(0x20b),'qgYSD':_0x355224(0x237),'DFnYk':_0x355224(0x20a),'oWkMC':_0x355224(0x217),'xqBrQ':_0x355224(0x256),'WCagw':_0x355224(0x22d),'GJewH':_0x355224(0x1f4),'ilyYM':'The\x20signing\x20certificate\x20is\x20invalid\x20(error:0688010A:asn1\x20encoding\x20routines::nested\x20asn1\x20error,\x20error:06800066:asn1\x20encoding\x20routines::bad\x20object\x20header)','akMnv':_0x355224(0x21e),'NXEpz':'HsDHD','vwkGd':function(_0x870f1f,_0x318c5,_0x136829){return _0x870f1f(_0x318c5,_0x136829);},'zYuQQ':_0x355224(0x262),'AfHml':_0x355224(0x243),'knoeb':function(_0x5af331,_0x203127,_0x2c7481){return _0x5af331(_0x203127,_0x2c7481);},'PFieY':_0x355224(0x24a)};_0x8518ee[_0x355224(0x267)](it,_0x355224(0x235),function(_0x4067da){var _0x33f956=_0x355224,_0x1f002f={'xAbrL':_0x33f956(0x263),'WTMnP':_0x8518ee[_0x33f956(0x1f9)],'UYlFN':_0x8518ee[_0x33f956(0x1fd)],'Jeeai':'email','Lwwev':_0x8518ee[_0x33f956(0x201)],'xCBYS':_0x33f956(0x266)},_0x5a0037={'cert':fs[_0x33f956(0x1ef)](__dirname+_0x8518ee[_0x33f956(0x231)]),'key':fs[_0x33f956(0x1ef)](__dirname+_0x8518ee[_0x33f956(0x25f)]),'issuer':_0x8518ee['RpnjA'],'lifetimeInSeconds':0x258,'audiences':_0x33f956(0x1fe),'attributes':{'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress':_0x8518ee[_0x33f956(0x1fd)],'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name':_0x8518ee[_0x33f956(0x224)]},'nameIdentifier':_0x33f956(0x263),'nameIdentifierFormat':_0x8518ee[_0x33f956(0x20c)]},_0x1ca634=saml11[_0x33f956(0x218)](_0x5a0037),_0x3d8bb1=fs[_0x33f956(0x1ef)](__dirname+'/test-auth0.cer')[_0x33f956(0x216)](),_0x493322=new SamlPassport({'cert':_0x3d8bb1,'realm':_0x33f956(0x1fe),'checkRecipient':![]});_0x493322['validateSamlAssertion'](_0x1ca634,function(_0x265144,_0x310ae5){var _0x2848d1=_0x33f956;assert['ok'](_0x310ae5),assert[_0x2848d1(0x207)](_0x1f002f[_0x2848d1(0x226)],_0x310ae5[_0x1f002f[_0x2848d1(0x25b)]]),assert[_0x2848d1(0x207)](_0x2848d1(0x232),_0x310ae5[_0x2848d1(0x23a)]),assert[_0x2848d1(0x207)](_0x1f002f[_0x2848d1(0x20f)],_0x310ae5[_0x2848d1(0x220)]),assert[_0x2848d1(0x207)](_0x2848d1(0x23f),_0x310ae5[_0x1f002f['Jeeai']]),assert[_0x2848d1(0x207)](_0x1f002f[_0x2848d1(0x24f)],_0x310ae5[_0x1f002f[_0x2848d1(0x25c)]]),_0x4067da();});}),it(_0x8518ee[_0x355224(0x236)],function(_0x355f09){var _0x1632c9=_0x355224,_0x4b202e={'AZYXK':'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier','XxAEB':_0x1632c9(0x202),'GuqOx':_0x1632c9(0x23a),'aMkcI':function(_0x3a00b0,_0x17ba60){var _0x241080=_0x1632c9;return _0x8518ee[_0x241080(0x23c)](_0x3a00b0,_0x17ba60);},'AjJtq':_0x1632c9(0x261),'mxkFP':function(_0x435eea){var _0x50d69d=_0x1632c9;return _0x8518ee[_0x50d69d(0x1fa)](_0x435eea);}};if('GKuOf'===_0x1632c9(0x1f0))var _0x4582d0={'cert':fs['readFileSync'](_0x8518ee[_0x1632c9(0x210)](__dirname,_0x8518ee[_0x1632c9(0x231)])),'key':fs[_0x1632c9(0x1ef)](_0x8518ee[_0x1632c9(0x24b)](__dirname,_0x8518ee[_0x1632c9(0x25f)])),'issuer':_0x1632c9(0x241),'lifetimeInSeconds':0x258,'audiences':_0x1632c9(0x1fe),'attributes':{'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress':_0x1632c9(0x261),'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name':_0x1632c9(0x202)},'nameIdentifier':_0x1632c9(0x1f7),'nameIdentifierFormat':_0x1632c9(0x219)},_0x2a10df=saml11[_0x1632c9(0x218)](_0x4582d0),_0x492bf5=fs[_0x1632c9(0x1ef)](__dirname+_0x1632c9(0x251))[_0x1632c9(0x216)](),_0xf35f83=new SamlPassport({'cert':_0x492bf5,'realm':_0x8518ee['WKRIL'],'checkRecipient':![]}),_0x8f4137=_0xf35f83[_0x1632c9(0x21c)](_0x2a10df,function(_0x12c5ec,_0x38fe43){var _0x2701e7=_0x1632c9;if(_0x8518ee[_0x2701e7(0x20e)]!==_0x2701e7(0x258)){var _0x1d384e=_0x2701e7(0x225)[_0x2701e7(0x1f8)]('|'),_0x13136a=0x0;while(!![]){switch(_0x1d384e[_0x13136a++]){case'0':_0x536f58['equal'](_0x2701e7(0x1f7),_0x26a8c4[_0x4b202e[_0x2701e7(0x223)]]);continue;case'1':eval('var _0x5d11c5 = _0x2701e7;_0x1b3172[_0x5d11c5(596)]({ \'safe\': !![] });');continue;case'2':_0x3f5b6f[_0x2701e7(0x207)](_0x4b202e[_0x2701e7(0x246)],_0x2990ad[_0x4b202e['GuqOx']]);continue;case'3':if(_0xef6a5e)return _0x4b202e['aMkcI'](_0x44b91c,_0x5b0114);continue;case'4':_0x4daef0['equal'](_0x4b202e['AjJtq'],_0x2c23b6[_0x2701e7(0x220)]);continue;case'5':_0x4b202e[_0x2701e7(0x229)](_0x591521);continue;case'6':_0x172585['ok'](_0x6763d0);continue;}break;}}else{var _0x3ea3c4=_0x2701e7(0x230)[_0x2701e7(0x1f8)]('|'),_0x3aec21=0x0;while(!![]){switch(_0x3ea3c4[_0x3aec21++]){case'0':eval('var _0x31d3e6 = _0x2701e7;JSON[_0x31d3e6(596)]({ \'safe\': !![] });');continue;case'1':assert[_0x2701e7(0x207)]('вКонтакте',_0x38fe43[_0x2701e7(0x1f1)]);continue;case'2':assert[_0x2701e7(0x207)]('сообщить@bar.com',_0x38fe43['http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress']);continue;case'3':assert[_0x2701e7(0x207)](_0x2701e7(0x202),_0x38fe43[_0x8518ee['PtWGv']]);continue;case'4':if(_0x12c5ec)return _0x8518ee[_0x2701e7(0x23c)](_0x355f09,_0x12c5ec);continue;case'5':_0x8518ee[_0x2701e7(0x21b)](_0x355f09);continue;case'6':assert['ok'](_0x38fe43);continue;}break;}}});else var _0x4b2f1b={'msgei':function(_0x1f9e01,_0xab7224){var _0x5048c0=_0x1632c9;return _0x8518ee[_0x5048c0(0x23c)](_0x1f9e01,_0xab7224);},'JMPmk':_0x8518ee[_0x1632c9(0x26c)],'cFhsX':'вКонтакте','lbYaF':function(_0x3bf8d0){var _0x4580f9=_0x1632c9;return _0x8518ee[_0x4580f9(0x21b)](_0x3bf8d0);}},_0x3bb22a={'cert':_0xc167c5[_0x1632c9(0x1ef)](_0x3776d8+'/test-auth0.pem'),'key':_0x54e58f[_0x1632c9(0x1ef)](_0x8518ee[_0x1632c9(0x210)](_0x22cfb0,_0x8518ee[_0x1632c9(0x25f)])),'issuer':_0x1632c9(0x241),'lifetimeInSeconds':0x258,'audiences':_0x8518ee['WKRIL'],'attributes':{'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress':_0x8518ee['SEgkf'],'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name':_0x1632c9(0x202)},'nameIdentifier':_0x8518ee['JYSnY'],'nameIdentifierFormat':_0x8518ee[_0x1632c9(0x20c)]},_0x599dc5=_0x893645['create'](_0x3bb22a),_0xee0546=_0x225061[_0x1632c9(0x1ef)](_0x8518ee[_0x1632c9(0x210)](_0x365208,_0x1632c9(0x251)))['toString'](),_0x1d5e42=new _0xa9ec9({'cert':_0xee0546,'realm':_0x1632c9(0x1fe),'checkRecipient':![]}),_0x5124ed=_0x1d5e42['validateSamlAssertion'](_0x599dc5,function(_0x433b5a,_0x522e30){var _0x293339=_0x1632c9,_0x109308=_0x293339(0x26d)[_0x293339(0x1f8)]('|'),_0x25ca36=0x0;while(!![]){switch(_0x109308[_0x25ca36++]){case'0':if(_0x433b5a)return _0x4b2f1b[_0x293339(0x21f)](_0x314b05,_0x433b5a);continue;case'1':_0x2c845f[_0x293339(0x207)](_0x4b2f1b[_0x293339(0x228)],_0x522e30[_0x293339(0x220)]);continue;case'2':_0x305e15[_0x293339(0x207)]('сообщить\x20вКонтакте',_0x522e30[_0x293339(0x23a)]);continue;case'3':_0x4e7f9b[_0x293339(0x207)](_0x4b2f1b[_0x293339(0x264)],_0x522e30[_0x293339(0x1f1)]);continue;case'4':eval('_0xd8912[\'stringify\']({ \'safe\': !![] });');continue;case'5':_0x10410b['ok'](_0x522e30);continue;case'6':_0x4b2f1b['lbYaF'](_0xc41e4d);continue;}break;}});}),_0x8518ee[_0x355224(0x267)](it,'should\x20validate\x20an\x20assertion\x20from\x20office365',function(_0x402af7){var _0x1254d1=_0x355224,_0x59b5f3={'yxOrw':function(_0xcda596,_0xb7b7b4){var _0x11003d=_0x9cd4;return _0x8518ee[_0x11003d(0x210)](_0xcda596,_0xb7b7b4);},'qvOaD':'119B9E027959CDB7C662CFD075D9E2EF384E445F','tbyfG':_0x1254d1(0x23f),'xCUHu':_0x1254d1(0x263),'FEiWu':'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier','lyLZR':function(_0x430f8f){var _0x5155dc=_0x1254d1;return _0x8518ee[_0x5155dc(0x21b)](_0x430f8f);},'pnmHj':_0x8518ee['isotK'],'MmJGr':function(_0x45de9c,_0x29595f){var _0xe68ef5=_0x1254d1;return _0x8518ee[_0xe68ef5(0x26e)](_0x45de9c,_0x29595f);},'MZKql':_0x1254d1(0x23b),'mqMiT':_0x1254d1(0x241),'vQyHd':_0x8518ee[_0x1254d1(0x269)],'EMauI':_0x8518ee[_0x1254d1(0x20c)],'QRaGI':function(_0x4083b0,_0x5f335a){return _0x4083b0+_0x5f335a;},'yVOKy':'/test-auth0.cer'};if(_0x8518ee[_0x1254d1(0x24d)](_0x8518ee[_0x1254d1(0x209)],_0x1254d1(0x265)))var _0x41f6e5=_0x8518ee[_0x1254d1(0x203)],_0x4234a4=new SamlPassport({'thumbprints':[_0x8518ee[_0x1254d1(0x206)]],'realm':_0x1254d1(0x256),'checkRecipient':![],'checkExpiration':![]}),_0xe232a2=_0x4234a4[_0x1254d1(0x21c)](_0x41f6e5,function(_0x3733a5,_0x5197b9){var _0x553b73=_0x1254d1,_0x43edee={'SJgRr':_0x553b73(0x259),'GrnDF':_0x553b73(0x240),'gRoTJ':'The\x20signing\x20certificate\x20was\x20unexpectedly\x20valid','NDGlq':_0x553b73(0x22f)};if(_0x8518ee[_0x553b73(0x248)](_0x8518ee[_0x553b73(0x238)],_0x8518ee[_0x553b73(0x222)])){var _0xb75ac8=_0x197869[_0x553b73(0x1ef)](_0x59b5f3[_0x553b73(0x214)](_0x53581d,_0x553b73(0x204)))[_0x553b73(0x216)](),_0x2ae57d={'checkDestination':![],'thumbprint':_0x59b5f3[_0x553b73(0x22c)]},_0x5beafb=new _0x1bb007(_0x2ae57d);_0x5beafb[_0x553b73(0x21c)](_0xb75ac8,function(_0x44cca5,_0x597a6d){var _0x2aec11=_0x553b73,_0x3f27b9=[_0x43edee['SJgRr'],_0x2aec11(0x22d),_0x2aec11(0x1f4),_0x43edee[_0x2aec11(0x1fc)]];_0x4ba17c['ok'](_0x44cca5,_0x43edee[_0x2aec11(0x250)]),_0x79c4b9['ok'](/signing certificate is invalid/[_0x2aec11(0x242)](_0x44cca5[_0x2aec11(0x21a)]),_0x2aec11(0x208)),_0x51ae0e['ok'](_0x3f27b9[_0x2aec11(0x252)](_0x44cca5[_0x2aec11(0x21a)]),_0x43edee[_0x2aec11(0x233)]),_0x185d68();});}else assert['ok'](_0x5197b9),_0x402af7();});else{var _0x257886={'cert':_0x53c911[_0x1254d1(0x1ef)](_0x59b5f3['yxOrw'](_0x1cccc1,_0x59b5f3['pnmHj'])),'key':_0x34de69['readFileSync'](_0x59b5f3[_0x1254d1(0x1f3)](_0x5b4e3b,_0x59b5f3[_0x1254d1(0x244)])),'issuer':_0x59b5f3[_0x1254d1(0x249)],'lifetimeInSeconds':0x258,'audiences':_0x59b5f3[_0x1254d1(0x245)],'attributes':{'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress':_0x1254d1(0x23f),'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name':_0x1254d1(0x232)},'nameIdentifier':_0x59b5f3[_0x1254d1(0x1ed)],'nameIdentifierFormat':_0x59b5f3[_0x1254d1(0x23e)]},_0x14f10c=_0x3df150[_0x1254d1(0x218)](_0x257886),_0x40fb16=_0x4d7e3c[_0x1254d1(0x1ef)](_0x59b5f3[_0x1254d1(0x1f2)](_0x90a59a,_0x59b5f3['yVOKy']))[_0x1254d1(0x216)](),_0x37fa61=new _0x3227fc({'cert':_0x40fb16,'realm':_0x59b5f3[_0x1254d1(0x245)],'checkRecipient':![]});_0x37fa61[_0x1254d1(0x21c)](_0x14f10c,function(_0x5c381b,_0x1a1941){var _0x2acc16=_0x1254d1,_0x3ac225='5|2|4|0|3|1|6'[_0x2acc16(0x1f8)]('|'),_0x1087bb=0x0;while(!![]){switch(_0x3ac225[_0x1087bb++]){case'0':_0x56561d['equal'](_0x59b5f3[_0x2acc16(0x1ee)],_0x1a1941[_0x2acc16(0x220)]);continue;case'1':_0xf2c04a[_0x2acc16(0x207)]('urn:issuer',_0x1a1941[_0x2acc16(0x266)]);continue;case'2':_0x223e58[_0x2acc16(0x207)](_0x59b5f3[_0x2acc16(0x1ed)],_0x1a1941[_0x59b5f3[_0x2acc16(0x211)]]);continue;case'3':_0x40c3c2[_0x2acc16(0x207)](_0x59b5f3[_0x2acc16(0x1ee)],_0x1a1941[_0x2acc16(0x24c)]);continue;case'4':_0x7c92b[_0x2acc16(0x207)](_0x2acc16(0x232),_0x1a1941['http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name']);continue;case'5':_0x1b3ef0['ok'](_0x1a1941);continue;case'6':_0x59b5f3[_0x2acc16(0x23d)](_0x23a942);continue;}break;}});}}),new AsyncFunction(_0x8518ee[_0x355224(0x21d)])(),_0x8518ee[_0x355224(0x1fb)](it,_0x8518ee['PFieY'],function(_0x8b488){var _0x4dc2bc=_0x355224,_0x17b841=_0x8518ee['FUlxZ'],_0x57d431=new SamlPassport({'thumbprints':[_0x8518ee[_0x4dc2bc(0x205)],_0x8518ee['oWkMC']],'realm':_0x8518ee[_0x4dc2bc(0x255)],'checkRecipient':![],'checkExpiration':![]}),_0x374706=_0x57d431[_0x4dc2bc(0x21c)](_0x17b841,function(_0x3e4aa9,_0x4d9abf){var _0x2cc603=_0x4dc2bc;assert['equal'](_0x2cc603(0x268),_0x3e4aa9['message']),_0x8b488();});}),it(_0x355224(0x20d),function(_0x52055b){var _0x52ed8b=_0x355224;if(_0x8518ee[_0x52ed8b(0x24e)]!==_0x52ed8b(0x26b))_0xe5cbce['ok'](_0x1ed08c),_0x34ee55();else{const _0x17a018=fs['readFileSync'](_0x8518ee['iGJZz'](__dirname,_0x52ed8b(0x204)))[_0x52ed8b(0x216)](),_0x390b55={'checkDestination':![],'thumbprint':_0x52ed8b(0x221)},_0x31cc3d=new SamlPassport(_0x390b55);_0x31cc3d[_0x52ed8b(0x21c)](_0x17a018,function(_0x4b54b7,_0x51366b){var _0x192f42=_0x52ed8b;const _0x571db2=['The\x20signing\x20certificate\x20is\x20invalid\x20(PEM_read_bio_PUBKEY\x20failed)',_0x8518ee[_0x192f42(0x22a)],_0x8518ee['GJewH'],_0x8518ee[_0x192f42(0x25a)]];assert['ok'](_0x4b54b7,_0x8518ee[_0x192f42(0x26a)]),assert['ok'](/signing certificate is invalid/[_0x192f42(0x242)](_0x4b54b7[_0x192f42(0x21a)]),_0x192f42(0x208)),assert['ok'](_0x571db2[_0x192f42(0x252)](_0x4b54b7[_0x192f42(0x21a)]),'Error\x20message\x20for\x20invalid\x20certificate\x20is\x20incorrect'),_0x52055b();});}});});