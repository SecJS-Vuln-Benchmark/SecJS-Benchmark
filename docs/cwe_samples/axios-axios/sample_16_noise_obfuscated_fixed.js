var _0x484a18=_0x386f;function _0x386f(_0x1691ec,_0x14c937){var _0x4739b3=_0x4739();return _0x386f=function(_0x386fed,_0x2adb18){_0x386fed=_0x386fed-0x193;var _0x480288=_0x4739b3[_0x386fed];return _0x480288;},_0x386f(_0x1691ec,_0x14c937);}(function(_0x463e4d,_0x4e9cc3){var _0x437316=_0x386f,_0x1d6c71=_0x463e4d();while(!![]){try{var _0x368e72=-parseInt(_0x437316(0x1b8))/0x1+parseInt(_0x437316(0x28c))/0x2*(-parseInt(_0x437316(0x1bc))/0x3)+parseInt(_0x437316(0x215))/0x4+parseInt(_0x437316(0x1ab))/0x5+-parseInt(_0x437316(0x219))/0x6*(-parseInt(_0x437316(0x1eb))/0x7)+-parseInt(_0x437316(0x289))/0x8+-parseInt(_0x437316(0x227))/0x9*(-parseInt(_0x437316(0x275))/0xa);if(_0x368e72===_0x4e9cc3)break;else _0x1d6c71['push'](_0x1d6c71['shift']());}catch(_0x8fe6a5){_0x1d6c71['push'](_0x1d6c71['shift']());}}}(_0x4739,0x2bd8b));function _0x4739(){var _0x5ac4cb=['https://auth0-dev-ed.my.salesforce.com','YWZHT','UZOzq','vnxtQ','dKWSP','HCdVd','get','should\x20supply\x20info','IhKEV','that\x20errors\x20due\x20to\x20lack\x20of\x20session\x20support\x20in\x20app','DkbychwKu8kBaJoLE5yeR5NK','mTZwC','session','SAMLResponse','HAuPe','should\x20remove\x20state\x20from\x20session','ODUpY','FZzMt','qKrhT','POST','YImFw','IWuaQ','cauGd','undefined','LmjTN','971120qgwMAG','6|5|0|1|3|4|2','fwmEm','ohLoM','30IcEZnD','should\x20save\x20state\x20in\x20session','return\x20await\x20Promise.resolve(42);','BwEkW','oLxve','qIjfo','febwz','WnYNn','should\x20error','body','yFkGD','WzDKe','fDLlL','rgmnn','9vfGmaB','IMFVZ','uXXcq','pdQQk','YOOru','GQUAI','iQuco','url','MVCGM','length','eocad','redirect','ixEsz','vgIYd','return\x20Object.keys({a:1});','GqJbK','NUGnC','KtQIg','DyxQj','GJoyd','chai-passport-strategy','ochOW','fclxc','TDWev','yiJwB','htUXP','KfuOk','LgBjL','BiiAZ','uimRf','zZOGe','fSzSs','ULzhH','success','rokeh','http://www.example.com/samlp','YfWpW','SQiDm','Strategy','pFCiR','chai','ejErs','authenticate','bcZXR','rsFZQ','uqaTc','VwLse','Hello','RelayState','iyyTB','UrjJB','PIRey','samlp:www.example.com','csMuL','fckJU','XnEcN','with\x20session\x20key\x20option','VNlyW','that\x20fails\x20due\x20to\x20state\x20being\x20invalid','GreQQ','have','KWoPk','NDSGr','Unable\x20to\x20verify\x20authorization\x20request\x20state.','VhkvX','message','1234','AQySj','that\x20redirects\x20to\x20service\x20provider\x20with\x20other\x20data\x20in\x20session','iPbzS','xZxRg','processing\x20response\x20to\x20authorization\x20request','state','aiQQT','that\x20was\x20approved','fNnvg','aJttu','PHkyN','2346090GFDhJc','fgxnv','GJdOb','split','fKGqE','YBzZx','vgYls','../../lib/passport-wsfed-saml2','OGZfk','frsqu','XBJpn','tjkez','xJYPS','req','nuDgw','/callback','OxRfh','fail','lipWD','mTzhi','1821072VBoRFF','Jbibi','fFZQD','30qWdTMN','uQlWf','mwdmC','zroxc','FCzGM','IWFGD','samlp:example','_samlp','HEhaF','Authentication\x20requires\x20session\x20support\x20when\x20using\x20state.\x20Did\x20you\x20forget\x20to\x20use\x20express-session\x20middleware?','without\x20session\x20key\x20option','vuDdE','UjCjQ','NrKLx','DIBKj','OJOYK','kxKyD','IubVA','use','KgpNQ','lBekR','3|1|4|5|2|0','lvpua','ycOJR','frjzL','KALtq','iDEBk','609670WAtKEi','LZwMf','GBcHj','expect','rZxUA','Dgaja','mcdpa','samlp\x20-\x20using\x20default\x20session\x20state\x20store','soFMF','lBtXn','fUZlx','issuing\x20authorization\x20request','method','168224kUQIhZ','iuGTK','pKOEH','hLbCA','41313AejTFB','query','wuyLm','vFqtW','VEFYB','samlp','yjqGH','should\x20preserve\x20other\x20data\x20in\x20session','that\x20redirects\x20to\x20service\x20provider','YICfo','xjdGa','KWkHG','kxJJF','FCNHp','DkbychwKu8kBaJoLE5yeR5NK-WRONG','wtVOe','JWxrQ','qkUhj','validateSamlResponse','WiGth','kluKw','kfdHT','KtGBD','qTQhy','jvxYM','HJNoJ','rcmnW','HeCPQ','RQeGT','Amvcd','mgzlo','that\x20fails\x20due\x20to\x20provider-specific\x20state\x20not\x20found\x20in\x20session','should\x20supply\x20user','uwzWR','bar','dQslo','lwEIA','equal','okzgv','MkPKj','passport','should\x20supply\x20status','parse','BFonF','jqEML','EOrsY','ebyZA','255773MOdnyj','dGNrq','qkJZf','5ca6e1202eafc0a63a5b93a43572eb2376fed309','should\x20be\x20redirected','IxWFL','foo','sztTH','ptCsN','IGawE','cSRZi','UNUzM','Uldqe','opUiO','object','instanceof','error'];_0x4739=function(){return _0x5ac4cb;};return _0x4739();}var chai=require(_0x484a18(0x24f)),uri=require(_0x484a18(0x22e)),expect=require(_0x484a18(0x24f))[_0x484a18(0x1ae)],passport=require(_0x484a18(0x23b)),Strategy=require(_0x484a18(0x27c))[_0x484a18(0x24d)];chai[_0x484a18(0x1a2)](passport),describe(_0x484a18(0x1b2),function(){var _0x3a5e07=_0x484a18,_0x4b5d44={'BiiAZ':_0x3a5e07(0x24c),'HJNoJ':_0x3a5e07(0x25b),'OxRfh':'should\x20save\x20state\x20in\x20session','frsqu':function(_0x15b2dd,_0x3543b4){return _0x15b2dd(_0x3543b4);},'UjCjQ':_0x3a5e07(0x199),'VhkvX':_0x3a5e07(0x24a),'WiGth':function(_0x346046,_0x1a3ee1,_0x4860ab){return _0x346046(_0x1a3ee1,_0x4860ab);},'qIjfo':_0x3a5e07(0x1c4),'YOOru':_0x3a5e07(0x26b),'ycOJR':_0x3a5e07(0x1ef),'htUXP':function(_0x4c163f){return _0x4c163f();},'CdISc':_0x3a5e07(0x242),'dGNrq':function(_0x200499,_0x2961d0){return _0x200499(_0x2961d0);},'ixEsz':_0x3a5e07(0x206),'lBekR':_0x3a5e07(0x20f),'yiJwB':function(_0x139279,_0x5e383f){return _0x139279===_0x5e383f;},'aiQQT':'state','nuDgw':_0x3a5e07(0x1d7),'rgmnn':function(_0xc93bf8,_0x4796bd,_0x3c345d){return _0xc93bf8(_0x4796bd,_0x3c345d);},'eocad':_0x3a5e07(0x1db),'kxKyD':_0x3a5e07(0x205),'VEFYB':function(_0x5037cc,_0x39f17e){return _0x5037cc!==_0x39f17e;},'ohLoM':_0x3a5e07(0x1c7),'NUGnC':_0x3a5e07(0x26e),'wuLeN':_0x3a5e07(0x256),'UZOzq':function(_0xe9e1a9,_0x3d4dd9){return _0xe9e1a9(_0x3d4dd9);},'tjkez':_0x3a5e07(0x1f9),'IGawE':_0x3a5e07(0x269),'WzDKe':function(_0x4a3d5a,_0x29d49c){return _0x4a3d5a(_0x29d49c);},'GUbSN':_0x3a5e07(0x204),'lBtXn':function(_0x5802d7,_0x2e93c2,_0x2d8b0d){return _0x5802d7(_0x2e93c2,_0x2d8b0d);},'qKrhT':function(_0x2f2023,_0x3a87b1){return _0x2f2023(_0x3a87b1);},'vgYls':'that\x20was\x20approved','HEhaF':'samlp:example','sztTH':function(_0x2ff28f,_0xfdb916){return _0x2ff28f(_0xfdb916);},'JiLWc':_0x3a5e07(0x1c1),'iyyTB':function(_0x14db52,_0x10e11b,_0x2502b1){return _0x14db52(_0x10e11b,_0x2502b1);},'FCNHp':_0x3a5e07(0x1b6),'KhHYG':'PHNhbWxwOlJlc3BvbnNlIHhtbG5zOnNhbWxwPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6cHJvdG9jb2wiIHhtbG5zOnNhbWw9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphc3NlcnRpb24iIElEPSJfOGU4ZGM1ZjY5YTk4Y2M0YzFmZjM0MjdlNWNlMzQ2MDZmZDY3MmY5MWU2IiBWZXJzaW9uPSIyLjAiIElzc3VlSW5zdGFudD0iMjAxNC0wNy0xN1QwMTowMTo0OFoiIERlc3RpbmF0aW9uPSJodHRwOi8vc3AuZXhhbXBsZS5jb20vZGVtbzEvaW5kZXgucGhwP2FjcyIgSW5SZXNwb25zZVRvPSJPTkVMT0dJTl80ZmVlM2IwNDYzOTVjNGU3NTEwMTFlOTdmODkwMGI1MjczZDU2Njg1Ij4NCiAgPHNhbWw6SXNzdWVyPmh0dHA6Ly9pZHAuZXhhbXBsZS5jb20vbWV0YWRhdGEucGhwPC9zYW1sOklzc3Vlcj4NCiAgPHNhbWxwOlN0YXR1cz4NCiAgICA8c2FtbHA6U3RhdHVzQ29kZSBWYWx1ZT0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOnN0YXR1czpTdWNjZXNzIi8+DQogIDwvc2FtbHA6U3RhdHVzPg0KICA8c2FtbDpBc3NlcnRpb24geG1sbnM6eHNpPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYS1pbnN0YW5jZSIgeG1sbnM6eHM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hIiBJRD0iX2Q3MWEzYThlOWZjYzQ1YzllOWQyNDhlZjcwNDkzOTNmYzhmMDRlNWY3NSIgVmVyc2lvbj0iMi4wIiBJc3N1ZUluc3RhbnQ9IjIwMTQtMDctMTdUMDE6MDE6NDhaIj4NCiAgICA8c2FtbDpJc3N1ZXI+aHR0cDovL2lkcC5leGFtcGxlLmNvbS9tZXRhZGF0YS5waHA8L3NhbWw6SXNzdWVyPg0KICAgIDxzYW1sOlN1YmplY3Q+DQogICAgICA8c2FtbDpOYW1lSUQgU1BOYW1lUXVhbGlmaWVyPSJodHRwOi8vc3AuZXhhbXBsZS5jb20vZGVtbzEvbWV0YWRhdGEucGhwIiBGb3JtYXQ9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpuYW1laWQtZm9ybWF0OnRyYW5zaWVudCI+X2NlM2QyOTQ4YjRjZjIwMTQ2ZGVlMGEwYjNkZDZmNjliNmNmODZmNjJkNzwvc2FtbDpOYW1lSUQ+DQogICAgICA8c2FtbDpTdWJqZWN0Q29uZmlybWF0aW9uIE1ldGhvZD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmNtOmJlYXJlciI+DQogICAgICAgIDxzYW1sOlN1YmplY3RDb25maXJtYXRpb25EYXRhIE5vdE9uT3JBZnRlcj0iMjAyNC0wMS0xOFQwNjoyMTo0OFoiIFJlY2lwaWVudD0iaHR0cDovL3NwLmV4YW1wbGUuY29tL2RlbW8xL2luZGV4LnBocD9hY3MiIEluUmVzcG9uc2VUbz0iT05FTE9HSU5fNGZlZTNiMDQ2Mzk1YzRlNzUxMDExZTk3Zjg5MDBiNTI3M2Q1NjY4NSIvPg0KICAgICAgPC9zYW1sOlN1YmplY3RDb25maXJtYXRpb24+DQogICAgPC9zYW1sOlN1YmplY3Q+DQogICAgPHNhbWw6Q29uZGl0aW9ucyBOb3RCZWZvcmU9IjIwMTQtMDctMTdUMDE6MDE6MThaIiBOb3RPbk9yQWZ0ZXI9IjIwMjQtMDEtMThUMDY6MjE6NDhaIj4NCiAgICAgIDxzYW1sOkF1ZGllbmNlUmVzdHJpY3Rpb24+DQogICAgICAgIDxzYW1sOkF1ZGllbmNlPmh0dHA6Ly9zcC5leGFtcGxlLmNvbS9kZW1vMS9tZXRhZGF0YS5waHA8L3NhbWw6QXVkaWVuY2U+DQogICAgICA8L3NhbWw6QXVkaWVuY2VSZXN0cmljdGlvbj4NCiAgICA8L3NhbWw6Q29uZGl0aW9ucz4NCiAgICA8c2FtbDpBdXRoblN0YXRlbWVudCBBdXRobkluc3RhbnQ9IjIwMTQtMDctMTdUMDE6MDE6NDhaIiBTZXNzaW9uTm90T25PckFmdGVyPSIyMDI0LTA3LTE3VDA5OjAxOjQ4WiIgU2Vzc2lvbkluZGV4PSJfYmU5OTY3YWJkOTA0ZGRjYWUzYzBlYjQxODlhZGJlM2Y3MWUzMjdjZjkzIj4NCiAgICAgIDxzYW1sOkF1dGhuQ29udGV4dD4NCiAgICAgICAgPHNhbWw6QXV0aG5Db250ZXh0Q2xhc3NSZWY+dXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmFjOmNsYXNzZXM6UGFzc3dvcmQ8L3NhbWw6QXV0aG5Db250ZXh0Q2xhc3NSZWY+DQogICAgICA8L3NhbWw6QXV0aG5Db250ZXh0Pg0KICAgIDwvc2FtbDpBdXRoblN0YXRlbWVudD4NCiAgICA8c2FtbDpBdHRyaWJ1dGVTdGF0ZW1lbnQ+DQogICAgICA8c2FtbDpBdHRyaWJ1dGUgTmFtZT0idWlkIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OmJhc2ljIj4NCiAgICAgICAgPHNhbWw6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+dGVzdDwvc2FtbDpBdHRyaWJ1dGVWYWx1ZT4NCiAgICAgIDwvc2FtbDpBdHRyaWJ1dGU+DQogICAgICA8c2FtbDpBdHRyaWJ1dGUgTmFtZT0ibWFpbCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDpiYXNpYyI+DQogICAgICAgIDxzYW1sOkF0dHJpYnV0ZVZhbHVlIHhzaTp0eXBlPSJ4czpzdHJpbmciPnRlc3RAZXhhbXBsZS5jb208L3NhbWw6QXR0cmlidXRlVmFsdWU+DQogICAgICA8L3NhbWw6QXR0cmlidXRlPg0KICAgICAgPHNhbWw6QXR0cmlidXRlIE5hbWU9ImVkdVBlcnNvbkFmZmlsaWF0aW9uIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OmJhc2ljIj4NCiAgICAgICAgPHNhbWw6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+dXNlcnM8L3NhbWw6QXR0cmlidXRlVmFsdWU+DQogICAgICAgIDxzYW1sOkF0dHJpYnV0ZVZhbHVlIHhzaTp0eXBlPSJ4czpzdHJpbmciPmV4YW1wbGVyb2xlMTwvc2FtbDpBdHRyaWJ1dGVWYWx1ZT4NCiAgICAgIDwvc2FtbDpBdHRyaWJ1dGU+DQogICAgPC9zYW1sOkF0dHJpYnV0ZVN0YXRlbWVudD4NCiAgPC9zYW1sOkFzc2VydGlvbj4NCjwvc2FtbHA6UmVzcG9uc2U+','iDEBk':function(_0x367bc4,_0x556a5d,_0xd4c1cd){return _0x367bc4(_0x556a5d,_0xd4c1cd);},'UrjJB':function(_0x1c30ae,_0x270254,_0x4eae75){return _0x1c30ae(_0x270254,_0x4eae75);},'fKGqE':_0x3a5e07(0x25f)},_0x318c4c=_0x4b5d44['KhHYG'];_0x4b5d44[_0x3a5e07(0x1aa)](describe,_0x3a5e07(0x19a),function(){var _0x2f913e=_0x3a5e07,_0x2479e6={'PIRey':function(_0x58ef12,_0x52e52c){var _0x3f3030=_0x386f;return _0x4b5d44[_0x3f3030(0x27e)](_0x58ef12,_0x52e52c);},'Dgaja':function(_0x5dee43,_0x71f355,_0x2de444){return _0x5dee43(_0x71f355,_0x2de444);},'KfuOk':_0x4b5d44[_0x2f913e(0x1a7)],'aJttu':_0x2f913e(0x21a),'bjKjZ':_0x2f913e(0x1b3),'mTzhi':function(_0x1ddea5){var _0x13e5cd=_0x2f913e;return _0x4b5d44[_0x13e5cd(0x240)](_0x1ddea5);},'IWFGD':function(_0x31431a,_0x39b044){return _0x31431a(_0x39b044);},'qkUhj':_0x2f913e(0x221),'okzgv':function(_0x1ea1ca,_0x192a59){var _0x15e55d=_0x2f913e;return _0x4b5d44[_0x15e55d(0x27e)](_0x1ea1ca,_0x192a59);},'GJdOb':_0x2f913e(0x27a),'YWZHT':_0x2f913e(0x1cb),'xjdGa':_0x2f913e(0x203),'vuDdE':_0x2f913e(0x20b),'kxJJF':_0x4b5d44['CdISc'],'GJoyd':function(_0x2ea417,_0x3ff4dc){var _0x250ea4=_0x2f913e;return _0x4b5d44[_0x250ea4(0x1ec)](_0x2ea417,_0x3ff4dc);},'NDSGr':_0x2f913e(0x216),'ULzhH':_0x4b5d44[_0x2f913e(0x233)],'pdQQk':_0x4b5d44[_0x2f913e(0x1a4)],'YfWpW':_0x2f913e(0x1f9),'pFCiR':_0x2f913e(0x266),'kfdHT':function(_0x4318af,_0x4c4ab9){var _0x124886=_0x2f913e;return _0x4b5d44[_0x124886(0x23f)](_0x4318af,_0x4c4ab9);},'wuyLm':function(_0x39b6e0,_0x110fd1){return _0x39b6e0(_0x110fd1);},'YImFw':function(_0x36a279,_0x28639b,_0x475761){return _0x36a279(_0x28639b,_0x475761);},'NCqKX':function(_0x11c760){return _0x11c760();},'DiZaL':_0x4b5d44[_0x2f913e(0x270)],'Dnsyq':_0x4b5d44[_0x2f913e(0x1d5)],'xZxRg':_0x2f913e(0x1de),'bcZXR':_0x4b5d44[_0x2f913e(0x283)],'HCdVd':'should\x20preserve\x20other\x20data\x20from\x20session','iiwjO':'samlp','FCzGM':_0x2f913e(0x284),'cSRZi':function(_0x3282fb,_0x1d6b72,_0xc962b5){return _0x4b5d44['rgmnn'](_0x3282fb,_0x1d6b72,_0xc962b5);},'eGosN':'that\x20was\x20approved\x20with\x20other\x20data\x20in\x20the\x20session','uimRf':function(_0x40c994,_0x39a031,_0x5b1b21){return _0x40c994(_0x39a031,_0x5b1b21);},'uwzWR':_0x4b5d44[_0x2f913e(0x231)],'fgxnv':function(_0x3e81f9,_0x450e85,_0x178645){return _0x4b5d44['rgmnn'](_0x3e81f9,_0x450e85,_0x178645);},'GBcHj':_0x4b5d44[_0x2f913e(0x1a0)]};_0x4b5d44[_0x2f913e(0x1c0)](_0x4b5d44[_0x2f913e(0x218)],_0x2f913e(0x1c7))?_0x1afdc4(_0x50cedd)['to']['equal'](0x193):(describe('issuing\x20authorization\x20request',function(){var _0x5af501=_0x2f913e,_0x35983d={'ejErs':function(_0x1fba3d,_0x5ccf2d){return _0x1fba3d!==_0x5ccf2d;},'febwz':_0x4b5d44[_0x5af501(0x243)],'WnYNn':_0x4b5d44['HJNoJ'],'PHkyN':function(_0x2cbf6b,_0x5c2f4b,_0x2c4d35){return _0x2cbf6b(_0x5c2f4b,_0x2c4d35);},'ochOW':_0x4b5d44[_0x5af501(0x285)],'XBJpn':function(_0x340cb1,_0xee0417){var _0x15ebe9=_0x5af501;return _0x4b5d44[_0x15ebe9(0x27e)](_0x340cb1,_0xee0417);},'wQJgq':_0x4b5d44[_0x5af501(0x19c)]},_0x28b1ac=new Strategy({'protocol':_0x5af501(0x1c1),'path':'/callback','realm':_0x5af501(0x1fc),'identityProviderUrl':_0x4b5d44[_0x5af501(0x267)],'thumbprints':[_0x5af501(0x1ee)],'state':!![]},function(){});_0x4b5d44[_0x5af501(0x1cf)](describe,_0x4b5d44['qIjfo'],function(){var _0x5f39e3=_0x5af501,_0x56af7a={'hLbCA':function(_0x582863,_0x5a0474){return _0x582863(_0x5a0474);},'VNlyW':function(_0x165a63,_0x30074c,_0xb605b){return _0x165a63(_0x30074c,_0xb605b);},'CCgtL':_0x5f39e3(0x269)},_0x129245,_0x24856f;before(function(_0x1aeef6){var _0x217c12=_0x5f39e3;chai[_0x217c12(0x1e4)]['use'](_0x28b1ac)[_0x217c12(0x232)](function(_0x55c330){_0x24856f=_0x55c330,_0x1aeef6();})[_0x217c12(0x282)](function(_0x455475){var _0x37e1e0=_0x217c12;if(_0x37e1e0(0x1e3)===_0x37e1e0(0x1e3))_0x129245=_0x455475,_0x455475[_0x37e1e0(0x208)]={};else return _0x50df96('return\x20Object.keys({a:1});')(),_0x2c787b(null,_0x14e4e3,{'message':_0x37e1e0(0x256)});})[_0x217c12(0x251)]({});}),_0x35983d[_0x5f39e3(0x274)](it,_0x5f39e3(0x1ef),function(){var _0xc6324b=_0x5f39e3;if(_0x35983d[_0xc6324b(0x250)](_0x35983d[_0xc6324b(0x21f)],_0x35983d[_0xc6324b(0x21f)]))_0x56af7a[_0xc6324b(0x1bb)](_0x2636d8,_0x3a5d4b)['to']['be']['an']('object'),_0x56af7a[_0xc6324b(0x260)](_0x59543b,null,{'id':_0x56af7a['CCgtL']});else{var _0x59623f=uri['parse'](_0x24856f,!![]);expect(_0x59623f[_0xc6324b(0x1bd)][_0xc6324b(0x257)])['to']['have'][_0xc6324b(0x230)](0x18);}}),it(_0x35983d[_0x5f39e3(0x23c)],function(){var _0x4732b3=_0x5f39e3,_0x5d1556=uri[_0x4732b3(0x1e6)](_0x24856f,!![]);expect(_0x129245[_0x4732b3(0x208)]['samlp:www.example.com'][_0x4732b3(0x26f)])['to'][_0x4732b3(0x263)]['length'](0x18),expect(_0x129245[_0x4732b3(0x208)][_0x35983d[_0x4732b3(0x220)]][_0x4732b3(0x26f)])['to']['equal'](_0x5d1556[_0x4732b3(0x1bd)][_0x4732b3(0x257)]);});}),_0x4b5d44[_0x5af501(0x1cf)](describe,_0x4b5d44[_0x5af501(0x22b)],function(){var _0x6a1cfb=_0x5af501,_0xb93bb2={'LmjTN':function(_0x297726,_0x163069){return _0x297726(_0x163069);},'Amvcd':function(_0x29ead2,_0xcf9738){return _0x29ead2(_0xcf9738);},'MVCGM':_0x6a1cfb(0x25b)},_0x516013,_0x22e661;_0x2479e6[_0x6a1cfb(0x25a)](before,function(_0x25ee50){var _0x3101c3=_0x6a1cfb,_0x59f084={'FZzMt':_0x3101c3(0x25b),'yFkGD':'bar'};chai['passport']['use'](_0x28b1ac)['redirect'](function(_0x158e2d){_0x22e661=_0x158e2d,_0x25ee50();})[_0x3101c3(0x282)](function(_0x574045){var _0x4d65c4=_0x3101c3;_0x516013=_0x574045,_0x574045['session']={},_0x574045[_0x4d65c4(0x208)][_0x59f084[_0x4d65c4(0x20d)]]={},_0x574045[_0x4d65c4(0x208)][_0x4d65c4(0x25b)]['foo']=_0x59f084[_0x4d65c4(0x223)];})[_0x3101c3(0x251)]({});}),_0x2479e6[_0x6a1cfb(0x1b0)](it,_0x2479e6[_0x6a1cfb(0x241)],function(){var _0x257cd4=_0x6a1cfb,_0x498f60=uri[_0x257cd4(0x1e6)](_0x22e661,!![]);_0xb93bb2[_0x257cd4(0x214)](expect,_0x498f60[_0x257cd4(0x1bd)][_0x257cd4(0x257)])['to'][_0x257cd4(0x263)]['length'](0x18);}),_0x2479e6[_0x6a1cfb(0x1b0)](it,_0x2479e6[_0x6a1cfb(0x273)],function(){var _0x4fcac3=_0x6a1cfb,_0x24462d=uri[_0x4fcac3(0x1e6)](_0x22e661,!![]);_0x35983d[_0x4fcac3(0x27f)](expect,_0x516013['session'][_0x4fcac3(0x25b)][_0x4fcac3(0x26f)])['to']['have'][_0x4fcac3(0x230)](0x18),expect(_0x516013[_0x4fcac3(0x208)][_0x4fcac3(0x25b)]['state'])['to'][_0x4fcac3(0x1e1)](_0x24462d[_0x4fcac3(0x1bd)]['RelayState']);}),it(_0x6a1cfb(0x1c3),function(){var _0x10a4b9=_0x6a1cfb;_0xb93bb2[_0x10a4b9(0x1d9)](expect,_0x516013[_0x10a4b9(0x208)][_0xb93bb2[_0x10a4b9(0x22f)]]['foo'])['to'][_0x10a4b9(0x1e1)](_0x10a4b9(0x1de));});}),_0x4b5d44['WiGth'](describe,'that\x20errors\x20due\x20to\x20lack\x20of\x20session\x20support\x20in\x20app',function(){var _0x26e955=_0x5af501,_0x1bebf2={'MZJSo':_0x2479e6['bjKjZ'],'nYyjI':function(_0x5d7384){var _0x3b9ba2=_0x386f;return _0x2479e6[_0x3b9ba2(0x288)](_0x5d7384);}},_0x2af80e,_0x24e879;_0x2479e6[_0x26e955(0x195)](before,function(_0x324002){var _0x31e49d=_0x26e955,_0x484a60={'lwEIA':function(_0x58b5c0,_0x180c98){return _0x58b5c0(_0x180c98);},'JWxrQ':_0x1bebf2['MZJSo'],'EOrsY':function(_0x4ccfbd){return _0x1bebf2['nYyjI'](_0x4ccfbd);}};chai[_0x31e49d(0x1e4)][_0x31e49d(0x1a2)](_0x28b1ac)[_0x31e49d(0x1fb)](function(_0x35fbf7){var _0x438fe6=_0x31e49d,_0x395602={'LZwMf':function(_0x4ec6e6,_0xeab911){return _0x4ec6e6(_0xeab911);},'Jbibi':_0x438fe6(0x25b),'YICfo':function(_0x2ae959,_0x4fb027){var _0x3a684b=_0x438fe6;return _0x484a60[_0x3a684b(0x1e0)](_0x2ae959,_0x4fb027);}};if(_0x484a60[_0x438fe6(0x1cc)]===_0x438fe6(0x1b3))_0x24e879=_0x35fbf7,_0x484a60[_0x438fe6(0x1e9)](_0x324002);else{var _0x55cead=_0x2e3b22[_0x438fe6(0x1e6)](_0x5a9bfb,!![]);_0x395602[_0x438fe6(0x1ac)](_0x4351a2,_0x5e0ec0['session'][_0x395602[_0x438fe6(0x28a)]]['state'])['to'][_0x438fe6(0x263)][_0x438fe6(0x230)](0x18),_0x395602[_0x438fe6(0x1c5)](_0x6fc4b5,_0x3bbdea[_0x438fe6(0x208)]['samlp:www.example.com'][_0x438fe6(0x26f)])['to']['equal'](_0x55cead[_0x438fe6(0x1bd)][_0x438fe6(0x257)]);}})[_0x31e49d(0x282)](function(_0x36a852){_0x2af80e=_0x36a852;})[_0x31e49d(0x251)]({});}),it(_0x2479e6[_0x26e955(0x1cd)],function(){var _0x1c5f22=_0x26e955;_0x35983d[_0x1c5f22(0x27f)](expect,_0x24e879)['to']['be']['an'][_0x1c5f22(0x1fa)](Error),expect(_0x24e879['message'])['to'][_0x1c5f22(0x1e1)](_0x35983d['wQJgq']);});});}),_0x4b5d44[_0x2f913e(0x226)](describe,_0x4b5d44[_0x2f913e(0x237)],function(){var _0x44c8d7=_0x2f913e,_0x21064d={'wYaqg':function(_0x41bafb){return _0x2479e6['NCqKX'](_0x41bafb);},'fUZlx':_0x44c8d7(0x20f),'xJYPS':_0x2479e6['DiZaL'],'UNUzM':_0x44c8d7(0x1f9),'fclxc':_0x44c8d7(0x269),'fDLlL':_0x44c8d7(0x256),'OJOYK':function(_0x5df4fd,_0x27f540){return _0x5df4fd(_0x27f540);},'fSzSs':function(_0x6060c1,_0x630fd3,_0x3db58b){return _0x6060c1(_0x630fd3,_0x3db58b);},'LFCme':'should\x20supply\x20info','GMtZS':function(_0xb1e7df,_0x61918a,_0x38b1e0){return _0xb1e7df(_0x61918a,_0x38b1e0);},'iQuco':'var\x20x\x20=\x2042;\x20return\x20x;','lipWD':_0x2479e6['Dnsyq'],'IubVA':function(_0x1ca43c,_0x3d757e){return _0x1ca43c(_0x3d757e);},'vFqtW':function(_0x5afdc5,_0x201210){return _0x5afdc5(_0x201210);},'QFmAt':_0x2479e6[_0x44c8d7(0x26d)],'GQUAI':function(_0x4481f5,_0xf7b9ab){return _0x4481f5===_0xf7b9ab;},'iPbzS':_0x2479e6[_0x44c8d7(0x252)],'OFVuo':function(_0x2c1f71,_0x58bf78,_0x4bfba0){return _0x2479e6['Dgaja'](_0x2c1f71,_0x58bf78,_0x4bfba0);},'rZxUA':function(_0x44db12,_0x104cc3,_0x20f7a4){return _0x44db12(_0x104cc3,_0x20f7a4);},'cLJEi':_0x2479e6[_0x44c8d7(0x201)],'qTQhy':'Invalid\x20authorization\x20request\x20state.','lvpua':_0x2479e6[_0x44c8d7(0x24e)]},_0x307550=new Strategy({'protocol':_0x2479e6['iiwjO'],'path':_0x2479e6[_0x44c8d7(0x194)],'realm':_0x44c8d7(0x1fc),'identityProviderUrl':_0x44c8d7(0x24a),'thumbprints':[_0x44c8d7(0x1ee)],'state':!![]},function(_0x45ea35,_0x1e7989){var _0x40f69e=_0x44c8d7;return Function(_0x40f69e(0x235))(),_0x1e7989(null,_0x45ea35,{'message':_0x40f69e(0x256)});});_0x307550[_0x44c8d7(0x197)][_0x44c8d7(0x1ce)]=function(_0x2c1fc5,_0x1d9532){var _0x539716=_0x44c8d7;_0x2479e6[_0x539716(0x1e2)](expect,_0x2c1fc5)['to']['be']['an'](_0x539716(0x1f9)),_0x1d9532(null,{'id':'1234'});},_0x2479e6[_0x44c8d7(0x1f5)](describe,_0x44c8d7(0x271),function(){var _0x18ce5d=_0x44c8d7,_0x5e144d={'KtGBD':function(_0xa339fe,_0x9da668){return _0xa339fe(_0x9da668);},'BFonF':_0x21064d[_0x18ce5d(0x1f6)],'DIBKj':_0x21064d[_0x18ce5d(0x23d)],'BwEkW':function(_0x4f3369,_0x305f9c){return _0x4f3369(_0x305f9c);},'oLxve':_0x21064d[_0x18ce5d(0x225)],'XnEcN':'samlp:www.example.com'},_0x4abef2,_0x182f35,_0x2878b7;_0x21064d['OJOYK'](before,function(_0x239f88){var _0x297e69=_0x18ce5d,_0x37bb55={'rokeh':function(_0x3ba75a){return _0x21064d['wYaqg'](_0x3ba75a);},'fckJU':_0x297e69(0x235),'DyxQj':'DkbychwKu8kBaJoLE5yeR5NK','ODUpY':_0x21064d[_0x297e69(0x1b5)],'IxWFL':_0x297e69(0x25b),'fwmEm':_0x21064d[_0x297e69(0x281)]};chai['passport'][_0x297e69(0x1a2)](_0x307550)[_0x297e69(0x248)](function(_0x79b2e1,_0x58f084){var _0x1af7e6=_0x297e69;_0x182f35=_0x79b2e1,_0x2878b7=_0x58f084,_0x37bb55[_0x1af7e6(0x249)](_0x239f88);})[_0x297e69(0x282)](function(_0x5c35cf){var _0x45d694=_0x297e69,_0x3cec6d={'mTZwC':_0x37bb55[_0x45d694(0x25d)]};_0x4abef2=_0x5c35cf,_0x5c35cf[_0x45d694(0x222)]={},_0x5c35cf[_0x45d694(0x222)][_0x45d694(0x209)]=_0x318c4c,_0x5c35cf[_0x45d694(0x222)][_0x45d694(0x257)]=_0x37bb55[_0x45d694(0x239)],_0x5c35cf['method']=_0x37bb55[_0x45d694(0x20c)],_0x5c35cf[_0x45d694(0x208)]={},_0x5c35cf[_0x45d694(0x208)][_0x37bb55[_0x45d694(0x1f0)]]={},_0x5c35cf['session'][_0x37bb55[_0x45d694(0x1f0)]][_0x37bb55[_0x45d694(0x217)]]=_0x37bb55[_0x45d694(0x239)],_0x5c35cf[_0x45d694(0x202)]=function(){var _0x5e21af=_0x45d694;return Function(_0x3cec6d[_0x5e21af(0x207)])(),'';};})[_0x297e69(0x251)]({});}),_0x21064d['fSzSs'](it,_0x18ce5d(0x1dc),function(){var _0x1f4a73=_0x18ce5d;_0x5e144d[_0x1f4a73(0x1d2)](expect,_0x182f35)['to']['be']['an'](_0x5e144d[_0x1f4a73(0x1e7)]),expect(_0x182f35['id'])['to'][_0x1f4a73(0x1e1)](_0x5e144d[_0x1f4a73(0x19e)]);}),it(_0x21064d['LFCme'],function(){var _0x25d38a=_0x18ce5d;_0x5e144d[_0x25d38a(0x21c)](expect,_0x2878b7)['to']['be']['an']('object'),expect(_0x2878b7[_0x25d38a(0x268)])['to'][_0x25d38a(0x1e1)](_0x5e144d[_0x25d38a(0x21d)]);}),_0x21064d['GMtZS'](it,'should\x20remove\x20state\x20from\x20session',function(){var _0x1cbe43=_0x18ce5d;_0x5e144d[_0x1cbe43(0x21c)](expect,_0x4abef2[_0x1cbe43(0x208)][_0x5e144d[_0x1cbe43(0x25e)]])['to']['be']['undefined'];});}),_0x2479e6[_0x44c8d7(0x210)](describe,_0x2479e6['eGosN'],function(){var _0xfb4eb6=_0x44c8d7,_0x12e504={'GreQQ':_0xfb4eb6(0x1f9),'pKOEH':function(_0x3d0e43,_0x2c07a4){return _0x3d0e43(_0x2c07a4);},'zZOGe':'Hello'};if(_0x21064d[_0xfb4eb6(0x22c)](_0xfb4eb6(0x228),_0x21064d[_0xfb4eb6(0x26c)]))_0x639ad7=_0x1c039c,_0x33da18();else{var _0x1f4748,_0x39c075,_0x641bd3;before(function(_0x548080){var _0x2ae97d=_0xfb4eb6,_0x1585a0={'yjqGH':function(_0x4672e5){return _0x4672e5();},'aiYgI':_0x21064d[_0x2ae97d(0x22d)],'fNnvg':_0x21064d[_0x2ae97d(0x287)],'mgzlo':'bar'};chai[_0x2ae97d(0x1e4)][_0x2ae97d(0x1a2)](_0x307550)[_0x2ae97d(0x248)](function(_0x40b42d,_0x54138f){var _0x3db91f=_0x2ae97d;_0x39c075=_0x40b42d,_0x641bd3=_0x54138f,_0x1585a0[_0x3db91f(0x1c2)](_0x548080);})[_0x2ae97d(0x282)](function(_0x3e7941){var _0x48a75c=_0x2ae97d;_0x1f4748=_0x3e7941,_0x3e7941[_0x48a75c(0x222)]={},_0x3e7941['body'][_0x48a75c(0x209)]=_0x318c4c,_0x3e7941[_0x48a75c(0x222)][_0x48a75c(0x257)]=_0x48a75c(0x206),_0x3e7941['method']=_0x48a75c(0x20f),_0x3e7941[_0x48a75c(0x208)]={},_0x3e7941['session']['samlp:www.example.com']={},_0x3e7941[_0x48a75c(0x208)]['samlp:www.example.com']['state']=_0x48a75c(0x206),_0x3e7941[_0x48a75c(0x208)][_0x1585a0[_0x48a75c(0x272)]][_0x48a75c(0x1f1)]=_0x1585a0[_0x48a75c(0x1da)],_0x3e7941[_0x48a75c(0x202)]=function(){return new Function(_0x1585a0['aiYgI'])(),'';};})['authenticate']({});}),_0x21064d['OFVuo'](it,_0xfb4eb6(0x1dc),function(){var _0x243002=_0xfb4eb6;_0x21064d[_0x243002(0x19f)](expect,_0x39c075)['to']['be']['an'](_0x243002(0x1f9)),_0x21064d[_0x243002(0x1a1)](expect,_0x39c075['id'])['to'][_0x243002(0x1e1)]('1234');}),_0x21064d[_0xfb4eb6(0x246)](it,_0xfb4eb6(0x203),function(){var _0x2188f5=_0xfb4eb6;expect(_0x641bd3)['to']['be']['an'](_0x12e504[_0x2188f5(0x262)]),_0x12e504[_0x2188f5(0x1ba)](expect,_0x641bd3['message'])['to'][_0x2188f5(0x1e1)](_0x12e504[_0x2188f5(0x245)]);}),_0x21064d[_0xfb4eb6(0x1af)](it,_0x21064d['cLJEi'],function(){var _0xb4a374=_0xfb4eb6;expect(_0x1f4748[_0xb4a374(0x208)][_0x21064d[_0xb4a374(0x287)]][_0xb4a374(0x26f)])['to']['be'][_0xb4a374(0x213)],_0x21064d['vFqtW'](expect,_0x1f4748[_0xb4a374(0x208)]['samlp:www.example.com'][_0xb4a374(0x1f1)])['to'][_0xb4a374(0x1e1)](_0x21064d['QFmAt']);});}}),describe(_0x44c8d7(0x261),function(){var _0x24a1cf=_0x44c8d7,_0x3d0c92={'Uldqe':_0x24a1cf(0x25b),'vgIYd':_0x2479e6[_0x24a1cf(0x277)]};if(_0x2479e6[_0x24a1cf(0x1fd)]===_0x24a1cf(0x229))_0x97d8a(_0x5344bd[_0x24a1cf(0x208)][_0x3d0c92[_0x24a1cf(0x1f7)]])['to']['be']['undefined'];else{var _0x3e9819,_0x4c8221,_0x1f7e60;before(function(_0x4b0e8d){var _0x64c47b=_0x24a1cf,_0x35c5cb={'qkJZf':_0x64c47b(0x1ca),'dQslo':_0x21064d[_0x64c47b(0x1b5)],'mwdmC':_0x21064d[_0x64c47b(0x287)],'kcjgc':_0x21064d[_0x64c47b(0x281)]};chai[_0x64c47b(0x1e4)][_0x64c47b(0x1a2)](_0x307550)['fail'](function(_0x2f59f9,_0x589d45){_0x4c8221=_0x2f59f9,_0x1f7e60=_0x589d45,_0x4b0e8d();})['req'](function(_0x10cde8){var _0x2ccc3f=_0x64c47b;_0x3e9819=_0x10cde8,_0x10cde8[_0x2ccc3f(0x222)]={},_0x10cde8[_0x2ccc3f(0x222)][_0x2ccc3f(0x209)]=_0x318c4c,_0x10cde8[_0x2ccc3f(0x222)][_0x2ccc3f(0x257)]=_0x35c5cb[_0x2ccc3f(0x1ed)],_0x10cde8['method']=_0x35c5cb[_0x2ccc3f(0x1df)],_0x10cde8['session']={},_0x10cde8[_0x2ccc3f(0x208)][_0x2ccc3f(0x25b)]={},_0x10cde8[_0x2ccc3f(0x208)][_0x35c5cb[_0x2ccc3f(0x28e)]][_0x35c5cb['kcjgc']]=_0x2ccc3f(0x206);})[_0x64c47b(0x251)]({});}),it(_0x2479e6['xjdGa'],function(){var _0x1cd4f0=_0x24a1cf;_0x21064d[_0x1cd4f0(0x19f)](expect,_0x4c8221)['to']['be']['an'](_0x1cd4f0(0x1f9)),_0x21064d[_0x1cd4f0(0x19f)](expect,_0x4c8221[_0x1cd4f0(0x268)])['to'][_0x1cd4f0(0x1e1)](_0x21064d[_0x1cd4f0(0x1d3)]);}),it('should\x20supply\x20status',function(){var _0x364a10=_0x24a1cf;_0x21064d['OJOYK'](expect,_0x1f7e60)['to'][_0x364a10(0x1e1)](0x193);}),_0x2479e6['Dgaja'](it,_0x2479e6[_0x24a1cf(0x19b)],function(){var _0xa9af0=_0x24a1cf,_0x359b03={'fFZQD':'samlp:www.example.com','aEfhV':function(_0x1f7c77,_0x1bd7ca){return _0x1f7c77(_0x1bd7ca);}};_0x3d0c92[_0xa9af0(0x234)]!==_0x3d0c92['vgIYd']?(_0x252b97(_0x3c773d[_0xa9af0(0x208)][_0x359b03[_0xa9af0(0x28b)]][_0xa9af0(0x26f)])['to']['be'][_0xa9af0(0x213)],_0x359b03['aEfhV'](_0x3db511,_0x35da99[_0xa9af0(0x208)][_0x359b03['fFZQD']]['foo'])['to'][_0xa9af0(0x1e1)](_0xa9af0(0x1de))):expect(_0x3e9819[_0xa9af0(0x208)][_0x3d0c92[_0xa9af0(0x1f7)]])['to']['be'][_0xa9af0(0x213)];});}}),_0x2479e6[_0x44c8d7(0x244)](describe,_0x2479e6[_0x44c8d7(0x1dd)],function(){var _0x5b00ac=_0x44c8d7,_0x3d5431={'mcdpa':_0x2479e6[_0x5b00ac(0x1c8)],'WqnyO':_0x5b00ac(0x1a5)},_0x419ce7,_0x6e90d9,_0x2c943b;_0x2479e6[_0x5b00ac(0x23a)](before,function(_0x4e09cb){var _0x195220=_0x5b00ac,_0x4fc3bf={'NrKLx':'SNUpP','PoBjY':_0x3d5431[_0x195220(0x1b1)],'rcmnW':_0x3d5431['WqnyO']};chai['passport'][_0x195220(0x1a2)](_0x307550)[_0x195220(0x286)](function(_0x2f594a,_0x554063){_0x6e90d9=_0x2f594a,_0x2c943b=_0x554063,_0x4e09cb();})[_0x195220(0x282)](function(_0x48e6a6){var _0x54b77d=_0x195220;if(_0x4fc3bf[_0x54b77d(0x19d)]===_0x4fc3bf['PoBjY'])_0x1ecec7=_0x4cda1e,_0x210c69['body']={},_0x443ef3[_0x54b77d(0x222)][_0x54b77d(0x209)]=_0xa59b89,_0x3deaea[_0x54b77d(0x222)]['RelayState']=_0x54b77d(0x206),_0x5b82e6[_0x54b77d(0x1b7)]=_0x54b77d(0x20f),_0x3acc2a[_0x54b77d(0x208)]={},_0x5cd0d9[_0x54b77d(0x208)]['samlp:www.example.com']={};else{var _0x1bd3b5=_0x4fc3bf[_0x54b77d(0x1d6)][_0x54b77d(0x278)]('|'),_0x2ee7f2=0x0;while(!![]){switch(_0x1bd3b5[_0x2ee7f2++]){case'0':_0x48e6a6['session']={};continue;case'1':_0x48e6a6[_0x54b77d(0x222)]={};continue;case'2':_0x48e6a6[_0x54b77d(0x1b7)]=_0x54b77d(0x20f);continue;case'3':_0x419ce7=_0x48e6a6;continue;case'4':_0x48e6a6[_0x54b77d(0x222)][_0x54b77d(0x209)]=_0x318c4c;continue;case'5':_0x48e6a6[_0x54b77d(0x222)][_0x54b77d(0x257)]=_0x54b77d(0x206);continue;}break;}}})[_0x195220(0x251)]({});}),_0x2479e6[_0x5b00ac(0x1b0)](it,_0x5b00ac(0x203),function(){var _0x187588=_0x5b00ac;expect(_0x6e90d9)['to']['be']['an'](_0x187588(0x1f9)),expect(_0x6e90d9['message'])['to'][_0x187588(0x1e1)](_0x21064d[_0x187588(0x1a6)]);}),_0x2479e6['Dgaja'](it,_0x5b00ac(0x1e5),function(){var _0x5e3344=_0x5b00ac;_0x21064d[_0x5e3344(0x1bf)](expect,_0x2c943b)['to']['equal'](0x193);});}),describe('that\x20fails\x20due\x20to\x20provider-specific\x20state\x20lacking\x20state\x20value',function(){var _0x2106f4=_0x44c8d7,_0x587fdb={'kluKw':_0x2479e6[_0x2106f4(0x265)],'jqEML':_0x2479e6[_0x2106f4(0x247)],'HAuPe':'samlp:www.example.com','EVnfu':_0x2479e6['pdQQk'],'ZfNrA':_0x2479e6[_0x2106f4(0x24b)],'iuGTK':_0x2479e6[_0x2106f4(0x24e)]};if(_0x2479e6[_0x2106f4(0x1d1)](_0x2106f4(0x1d8),_0x2106f4(0x236)))_0x56881f=_0x5adb8d,_0x275c22=_0x25ef39,_0x1a34ef();else{var _0x31ec5c,_0x4e8e25,_0x4a946b;before(function(_0x243e17){var _0x2731c3=_0x2106f4,_0x569e17={'frjzL':function(_0x4e65a8){return _0x4e65a8();}};chai['passport'][_0x2731c3(0x1a2)](_0x307550)[_0x2731c3(0x286)](function(_0x2af8dc,_0x11cf0f){var _0x2d6de0=_0x2731c3;_0x4e8e25=_0x2af8dc,_0x4a946b=_0x11cf0f,_0x569e17[_0x2d6de0(0x1a8)](_0x243e17);})['req'](function(_0x32cf4d){var _0x244a41=_0x2731c3,_0x3964c3=_0x587fdb[_0x244a41(0x1d0)][_0x244a41(0x278)]('|'),_0x5162a3=0x0;while(!![]){switch(_0x3964c3[_0x5162a3++]){case'0':_0x32cf4d[_0x244a41(0x222)][_0x244a41(0x209)]=_0x318c4c;continue;case'1':_0x32cf4d[_0x244a41(0x222)][_0x244a41(0x257)]=_0x587fdb[_0x244a41(0x1e8)];continue;case'2':_0x32cf4d[_0x244a41(0x208)][_0x587fdb[_0x244a41(0x20a)]]={};continue;case'3':_0x32cf4d[_0x244a41(0x1b7)]=_0x587fdb['EVnfu'];continue;case'4':_0x32cf4d[_0x244a41(0x208)]={};continue;case'5':_0x32cf4d[_0x244a41(0x222)]={};continue;case'6':_0x31ec5c=_0x32cf4d;continue;}break;}})[_0x2731c3(0x251)]({});}),it(_0x2479e6[_0x2106f4(0x1c6)],function(){var _0x1a6534=_0x2106f4;expect(_0x4e8e25)['to']['be']['an'](_0x587fdb['ZfNrA']),expect(_0x4e8e25[_0x1a6534(0x268)])['to']['equal'](_0x587fdb[_0x1a6534(0x1b9)]);}),_0x2479e6[_0x2106f4(0x1b0)](it,_0x2106f4(0x1e5),function(){var _0x5e3af0=_0x2106f4;expect(_0x4a946b)['to'][_0x5e3af0(0x1e1)](0x193);});}}),_0x2479e6[_0x44c8d7(0x276)](describe,_0x2479e6[_0x44c8d7(0x1ad)],function(){var _0x406527=_0x44c8d7,_0x5bdb56={'OGZfk':_0x406527(0x206),'KALtq':_0x2479e6[_0x406527(0x22a)]},_0x3ba419,_0x5afb8c;_0x2479e6[_0x406527(0x1be)](before,function(_0x1de347){var _0x38b53e=_0x406527;chai['passport']['use'](_0x307550)[_0x38b53e(0x1fb)](function(_0x45058d){_0x5afb8c=_0x45058d,_0x1de347();})[_0x38b53e(0x282)](function(_0x488012){var _0x5e6d97=_0x38b53e;_0x3ba419=_0x488012,_0x488012[_0x5e6d97(0x222)]={},_0x488012['body'][_0x5e6d97(0x209)]=_0x318c4c,_0x488012['body']['RelayState']=_0x5bdb56[_0x5e6d97(0x27d)],_0x488012[_0x5e6d97(0x1b7)]=_0x5bdb56[_0x5e6d97(0x1a9)];})['authenticate']({});}),_0x2479e6['YImFw'](it,_0x2479e6[_0x406527(0x1cd)],function(){var _0x2f934a=_0x406527;_0x21064d['IubVA'](expect,_0x5afb8c)['to']['be']['an'][_0x2f934a(0x1fa)](Error),expect(_0x5afb8c[_0x2f934a(0x268)])['to']['equal'](_0x2f934a(0x199));});});}));}),_0x4b5d44[_0x3a5e07(0x259)](describe,_0x4b5d44[_0x3a5e07(0x279)],function(){var _0x5c90c2=_0x3a5e07,_0x18ebab={'jvxYM':_0x4b5d44[_0x5c90c2(0x198)],'zroxc':function(_0x2b4f46,_0x5b7717){var _0x2c9288=_0x5c90c2;return _0x4b5d44[_0x2c9288(0x1f2)](_0x2b4f46,_0x5b7717);},'IWuaQ':_0x4b5d44[_0x5c90c2(0x280)],'FNVRX':_0x5c90c2(0x1dc),'TDWev':function(_0x38ff5c,_0x2a8ae3,_0x34954e){var _0xb13aa1=_0x5c90c2;return _0x4b5d44[_0xb13aa1(0x1cf)](_0x38ff5c,_0x2a8ae3,_0x34954e);}},_0x1ecbbb=new Strategy({'protocol':_0x4b5d44['JiLWc'],'path':_0x5c90c2(0x284),'realm':_0x5c90c2(0x1fc),'identityProviderUrl':_0x5c90c2(0x24a),'thumbprints':[_0x5c90c2(0x1ee)],'state':!![],'sessionKey':_0x4b5d44['HEhaF']},function(_0x408166,_0xf7b749){var _0x50cec5=_0x5c90c2;return new AsyncFunction(_0x50cec5(0x21b))(),_0xf7b749(null,_0x408166,{'message':_0x4b5d44['wuLeN']});});_0x1ecbbb['_samlp'][_0x5c90c2(0x1ce)]=function(_0x2a147e,_0x3bf6bd){var _0x2a9ffd=_0x5c90c2;_0x4b5d44[_0x2a9ffd(0x1fe)](expect,_0x2a147e)['to']['be']['an'](_0x4b5d44[_0x2a9ffd(0x280)]),_0x3bf6bd(null,{'id':_0x4b5d44[_0x2a9ffd(0x1f4)]});},_0x4b5d44[_0x5c90c2(0x258)](describe,_0x4b5d44[_0x5c90c2(0x1c9)],function(){var _0xd05cba=_0x5c90c2,_0x1825c3={'csMuL':function(_0x372a5a,_0x1ca918){var _0x52b472=_0x386f;return _0x4b5d44[_0x52b472(0x224)](_0x372a5a,_0x1ca918);},'SnuXl':'samlp:example','cauGd':function(_0x36cd46){return _0x36cd46();},'ebyZA':_0x4b5d44['GUbSN'],'sIECc':function(_0x126236,_0x5e1b1a,_0x3b9586){return _0x126236(_0x5e1b1a,_0x3b9586);}};_0x4b5d44[_0xd05cba(0x1b4)](describe,_0x4b5d44[_0xd05cba(0x21e)],function(){var _0x58277d=_0xd05cba,_0x279927={'jyMZT':function(_0x501a8a,_0xa946fd){var _0x4b1d04=_0x386f;return _0x1825c3[_0x4b1d04(0x25c)](_0x501a8a,_0xa946fd);},'opUiO':_0x1825c3['SnuXl'],'KtQIg':function(_0x54780e){var _0x51b4a0=_0x386f;return _0x1825c3[_0x51b4a0(0x212)](_0x54780e);}};if(_0x1825c3[_0x58277d(0x1ea)]===_0x1825c3[_0x58277d(0x1ea)]){var _0x417906,_0x254845;before(function(_0x149d25){var _0x3d39af=_0x58277d;chai[_0x3d39af(0x1e4)][_0x3d39af(0x1a2)](_0x1ecbbb)[_0x3d39af(0x232)](function(_0x3a2252){_0x254845=_0x3a2252,_0x149d25();})[_0x3d39af(0x282)](function(_0x1ac70f){var _0xcb9215=_0x3d39af;_0x417906=_0x1ac70f,_0x1ac70f[_0xcb9215(0x208)]={};})[_0x3d39af(0x251)]({});}),_0x1825c3['sIECc'](it,_0x58277d(0x1ef),function(){var _0x75ed=_0x58277d,_0x31c4a7=uri[_0x75ed(0x1e6)](_0x254845,!![]);_0x1825c3[_0x75ed(0x25c)](expect,_0x31c4a7[_0x75ed(0x1bd)]['RelayState'])['to'][_0x75ed(0x263)][_0x75ed(0x230)](0x18);}),it(_0x58277d(0x21a),function(){var _0x43667e=_0x58277d,_0xfe0b8d=uri['parse'](_0x254845,!![]);_0x279927['jyMZT'](expect,_0x417906[_0x43667e(0x208)][_0x43667e(0x196)][_0x43667e(0x26f)])['to']['have'][_0x43667e(0x230)](0x18),expect(_0x417906[_0x43667e(0x208)][_0x279927[_0x43667e(0x1f8)]][_0x43667e(0x26f)])['to'][_0x43667e(0x1e1)](_0xfe0b8d[_0x43667e(0x1bd)][_0x43667e(0x257)]);});}else _0x14079f['passport'][_0x58277d(0x1a2)](_0x1bbd02)[_0x58277d(0x1fb)](function(_0x16495e){var _0x407f46=_0x58277d;_0xf022e3=_0x16495e,_0x279927[_0x407f46(0x238)](_0x3775b7);})['req'](function(_0x2163dc){_0x364562=_0x2163dc;})['authenticate']({});});}),describe('processing\x20response\x20to\x20authorization\x20request',function(){var _0x3aa898=_0x5c90c2,_0x133e5b={'rsFZQ':_0x4b5d44[_0x3aa898(0x233)],'KWoPk':function(_0x51cc86,_0x458673){var _0x1c9607=_0x3aa898;return _0x4b5d44[_0x1c9607(0x20e)](_0x51cc86,_0x458673);},'dKWSP':_0x4b5d44[_0x3aa898(0x280)],'PIoBc':_0x4b5d44[_0x3aa898(0x1f4)]};describe(_0x4b5d44[_0x3aa898(0x27b)],function(){var _0x661486=_0x3aa898,_0x3df336={'JOnng':_0x18ebab[_0x661486(0x1d4)],'zfNer':function(_0x355690,_0x3afa96){var _0x1d8947=_0x661486;return _0x18ebab[_0x1d8947(0x193)](_0x355690,_0x3afa96);},'xwsKl':_0x18ebab[_0x661486(0x211)],'gNICg':function(_0x3ff80a,_0x300c23){return _0x3ff80a(_0x300c23);}},_0x196154,_0x58fb58,_0x586629;before(function(_0x39d1dd){var _0x3ad0d2=_0x661486,_0x12e8b1={'AQySj':_0x133e5b[_0x3ad0d2(0x253)],'VwLse':_0x3ad0d2(0x196),'eOfoZ':_0x3ad0d2(0x26f)};chai['passport'][_0x3ad0d2(0x1a2)](_0x1ecbbb)['success'](function(_0x17283b,_0x4b9a9b){var _0x53603a=_0x3ad0d2,_0x33e160={'KgpNQ':_0x53603a(0x206),'uQlWf':_0x53603a(0x20f),'ptCsN':_0x3df336['JOnng']};_0x53603a(0x254)!==_0x53603a(0x1ff)?(_0x58fb58=_0x17283b,_0x586629=_0x4b9a9b,_0x39d1dd()):(_0x3b73a5=_0x4f5ee2,_0xebba75['body']={},_0x38fd52[_0x53603a(0x222)][_0x53603a(0x209)]=_0x16ba1b,_0xfe0b3d[_0x53603a(0x222)][_0x53603a(0x257)]=_0x33e160['KgpNQ'],_0x4f2703['method']=_0x33e160[_0x53603a(0x28d)],_0x393089[_0x53603a(0x208)]={},_0x21b17c[_0x53603a(0x208)][_0x33e160[_0x53603a(0x1f3)]]={},_0x264303[_0x53603a(0x208)][_0x53603a(0x196)][_0x53603a(0x26f)]=_0x33e160[_0x53603a(0x1a3)],_0x2292ee[_0x53603a(0x202)]=function(){var _0x4cf8b4=_0x53603a;return new _0x488bf1(_0x4cf8b4(0x21b))(),'';});})[_0x3ad0d2(0x282)](function(_0x5c10fa){var _0xf4636c=_0x3ad0d2;_0x196154=_0x5c10fa,_0x5c10fa[_0xf4636c(0x222)]={},_0x5c10fa[_0xf4636c(0x222)][_0xf4636c(0x209)]=_0x318c4c,_0x5c10fa[_0xf4636c(0x222)][_0xf4636c(0x257)]=_0x12e8b1['AQySj'],_0x5c10fa['method']='POST',_0x5c10fa['session']={},_0x5c10fa[_0xf4636c(0x208)][_0xf4636c(0x196)]={},_0x5c10fa[_0xf4636c(0x208)][_0x12e8b1[_0xf4636c(0x255)]][_0x12e8b1['eOfoZ']]=_0x12e8b1[_0xf4636c(0x26a)],_0x5c10fa['get']=function(){var _0x3d2ee7=_0xf4636c;return new AsyncFunction(_0x3d2ee7(0x21b))(),'';};})[_0x3ad0d2(0x251)]({});}),it(_0x18ebab['FNVRX'],function(){var _0x55f35d=_0x661486;_0x133e5b[_0x55f35d(0x264)](expect,_0x58fb58)['to']['be']['an'](_0x133e5b[_0x55f35d(0x200)]),expect(_0x58fb58['id'])['to']['equal'](_0x133e5b['PIoBc']);}),_0x18ebab['TDWev'](it,_0x661486(0x203),function(){var _0x2f1461=_0x661486;_0x3df336['zfNer'](expect,_0x586629)['to']['be']['an'](_0x3df336['xwsKl']),_0x3df336['gNICg'](expect,_0x586629[_0x2f1461(0x268)])['to']['equal'](_0x2f1461(0x256));}),_0x18ebab[_0x661486(0x23e)](it,'should\x20remove\x20state\x20from\x20session',function(){var _0x319bfb=_0x661486;expect(_0x196154['session'][_0x319bfb(0x196)])['to']['be'][_0x319bfb(0x213)];});});});});});