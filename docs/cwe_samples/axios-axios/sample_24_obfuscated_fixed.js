function _0x523d(){var _0x1381f0=['PnOwh','should\x20throw\x20if\x20no\x20authorization\x20header\x20and\x20credentials\x20are\x20required','ObNJY','bospJ','wxhuy','zfnBZ','should\x20work\x20with\x20a\x20custom\x20getToken\x20function','ZOaUG','credentials_bad_scheme','secretB','2092490FJcoQS','jsonwebtoken','join','zVeas','LRNHS','FWLVS','gXlHV','assert','4112528iVXxfF','unless','KHciN','bar','http://www','fEbsY','../lib/errors/UnauthorizedError','NNppk','SrnBH','shhh','rEAhL','Bearer\x20eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.yJ1c2VybmFtZSI6InNhZ3VpYXIiLCJpYXQiOjE0NzEwMTg2MzUsImV4cCI6MTQ3MzYxMDYzNX0.foo','rQaEs','3|7|9|1|0|2|8|5|6|4','2|3|4|1|0','OuTuV','http://foo','eOdOx','hdeML','should\x20throw\x20if\x20audience\x20is\x20not\x20expected','pXxYr','hySIS','bietB','Btugt','eWYZY','tONCl','QSOzo','expected-audience','5884QDjGlx','not-expected-audience','name','jwt\x20expired','sign','jwt\x20audience\x20invalid.\x20expected:\x20not-expected-audience','mpMCK','query','CceKO','EoxOM','credentials_bad_format','BaGnJ','687EnrvzC','UmwPY','SSbLh','KvyZs','failure\x20tests','method','cYZGw','RNEMS','message','UzlGk','locals','wrong','user','code','MJCVG','should\x20use\x20errors\x20thrown\x20from\x20custom\x20getToken\x20function','aRtZB','smMOJ','Qphwr','hAHws','YysmM','DOFbA','should\x20produce\x20a\x20stack\x20trace\x20that\x20includes\x20the\x20failure\x20reason','invalid\x20token','toString','Bearer\x20','should\x20throw\x20if\x20authorization\x20header\x20is\x20not\x20valid\x20jwt','dtloX','ohvJe','should\x20throw\x20if\x20authorization\x20header\x20is\x20malformed','AnfJO','SGWvC','qOMhX','vWLhV','JBCPO','oRGyF','OPTIONS','secretA','addsh','Gogcg','BImWX','should\x20skip\x20on\x20CORS\x20preflight','kVksP','MwMwZ','iDIbR','{foo:\x20\x27bar\x27,\x20edg:\x20\x27ar\x27}','NQzhI','eaVlt','tWfNm','1|3|4|0|2','jhCLZ','should\x20set\x20userProperty\x20if\x20option\x20provided','tDTUV','1|5|2|4|3|0','11781pfRyOm','24010zzqhZG','GBUkT','DAadw','should\x20work\x20if\x20no\x20authorization\x20header\x20and\x20credentials\x20are\x20not\x20required','should\x20throw\x20if\x20token\x20issuer\x20is\x20wrong','kHQOM','should\x20set\x20resultProperty\x20if\x20option\x20provided','alg','JUzhj','authorization','jwnsc','EqdYW','4306400zkACkY','/index.html','TokenExpiredError','FVayc','locals.user','split','HS256','kJYrh','KyYrt','cEIKK','inner','18814tNWptA','shhhhhh','gvZPF','mYJsQ','22XsbSej','should\x20throw\x20error\x20when\x20signature\x20is\x20wrong','mOeOC','CSAPO','should\x20throw\x20if\x20token\x20is\x20expired','YCLkc','stack','should\x20throw\x20if\x20authorization\x20header\x20is\x20not\x20Bearer','Ycauc','zusDk','should\x20work\x20with\x20a\x20secretCallback\x20function\x20that\x20accepts\x20header\x20argument','shhhh','PgVAt','3861072GsSrCL','invalid\x20signature','WLuaS','GBoTT','different-shhhh','http://wrong','MkKIo','Bearer\x20wrongjwt','OUGai','headers','work\x20tests','DizRV','secret\x20should\x20be\x20set','6|1|5|0|2|4|3','IqoLi','should\x20throw\x20if\x20options\x20not\x20sent','btEXg','XvXEZ','nextTick','should\x20throw\x20error\x20if\x20token\x20is\x20invalid\x20even\x20with\x20when\x20credentials\x20are\x20not\x20required','equal','auth','eMroX','UJDhg','wYnqD','ULdNt','AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA','foo','credentials_required','should\x20throw\x20error\x20if\x20token\x20is\x20expired\x20even\x20with\x20when\x20credentials\x20are\x20not\x20required','token','jXyuG','base64','XieRU','invalid_token','xwQXJ','jNtAN','iidHt','Stack\x20trace\x20didn\x27t\x20include\x20\x27invalid\x20signature\x27\x20message.','undefined','cQxHR','IhfbK','should\x20work\x20if\x20authorization\x20header\x20is\x20valid\x20with\x20a\x20buffer\x20secret','lGbMq','UnauthorizedError:\x20invalid\x20signature'];_0x523d=function(){return _0x1381f0;};return _0x523d();}function _0x4cc4(_0x263045,_0x10b833){var _0x523d07=_0x523d();return _0x4cc4=function(_0x4cc484,_0x3a5ede){_0x4cc484=_0x4cc484-0x1dc;var _0x3e7052=_0x523d07[_0x4cc484];return _0x3e7052;},_0x4cc4(_0x263045,_0x10b833);}var _0x38cb33=_0x4cc4;(function(_0x42f1f6,_0x45a631){var _0x345c67=_0x4cc4,_0x40563e=_0x42f1f6();while(!![]){try{var _0x46141b=parseInt(_0x345c67(0x1f4))/0x1*(-parseInt(_0x345c67(0x1f8))/0x2)+-parseInt(_0x345c67(0x26c))/0x3*(parseInt(_0x345c67(0x260))/0x4)+-parseInt(_0x345c67(0x23c))/0x5+-parseInt(_0x345c67(0x205))/0x6+-parseInt(_0x345c67(0x1e9))/0x7+-parseInt(_0x345c67(0x244))/0x8+parseInt(_0x345c67(0x1dc))/0x9*(parseInt(_0x345c67(0x1dd))/0xa);if(_0x46141b===_0x45a631)break;else _0x40563e['push'](_0x40563e['shift']());}catch(_0x3376d2){_0x40563e['push'](_0x40563e['shift']());}}}(_0x523d,0x6390c));var jwt=require(_0x38cb33(0x23d)),assert=require(_0x38cb33(0x243)),expressjwt=require('../lib'),UnauthorizedError=require(_0x38cb33(0x24a));describe(_0x38cb33(0x270),function(){var _0x6de179=_0x38cb33,_0x22b274={'zVeas':_0x6de179(0x24c),'DizRV':_0x6de179(0x24e),'YCLkc':_0x6de179(0x22c),'NQzhI':function(_0x10cd64,_0x487842){return _0x10cd64===_0x487842;},'hAHws':'BRcHv','diuxk':_0x6de179(0x1ea),'JBCPO':'shhhh','cEIKK':_0x6de179(0x298),'UJDhg':_0x6de179(0x242),'ZOaUG':_0x6de179(0x23a),'mOeOC':'Basic\x20foobar','HxzEt':function(_0x528952,_0x492d75){return _0x528952===_0x492d75;},'dtloX':_0x6de179(0x227),'CceKO':_0x6de179(0x20c),'btEXg':_0x6de179(0x1f5),'OuTuV':_0x6de179(0x25d),'iEyHb':_0x6de179(0x24f),'mpMCK':function(_0x327c99,_0x217eb9){return _0x327c99(_0x217eb9);},'Ycauc':'lArvs','XvXEZ':_0x6de179(0x206),'AnfJO':_0x6de179(0x285),'eWYZY':function(_0x17f9f5,_0xf225cf){return _0x17f9f5(_0xf225cf);},'CSAPO':_0x6de179(0x209),'EqdYW':_0x6de179(0x247),'DUcNR':function(_0x15b8ee,_0x11de4c){return _0x15b8ee+_0x11de4c;},'PgVAt':_0x6de179(0x261),'aqGFX':function(_0x356f02,_0x5a1fa6){return _0x356f02!==_0x5a1fa6;},'Btugt':function(_0x1932b4,_0x46783a){return _0x1932b4(_0x46783a);},'UzlGk':_0x6de179(0x254),'BaGnJ':_0x6de179(0x251),'eaVlt':'invalid\x20token','kHQOM':function(_0x3ee6d3,_0x23661a){return _0x3ee6d3+_0x23661a;},'hZNPQ':_0x6de179(0x263),'xPWBw':_0x6de179(0x233),'SSbLh':'support\x20unless\x20skip','tDTUV':function(_0x5e70f1,_0x2e57b5,_0x17e1e6){return _0x5e70f1(_0x2e57b5,_0x17e1e6);},'Gogcg':function(_0x185420,_0x48f9dd,_0x518310){return _0x185420(_0x48f9dd,_0x518310);},'lPgEC':'should\x20throw\x20if\x20jwt\x20is\x20an\x20invalid\x20json','hdeML':function(_0x14c8e3,_0x4fd805,_0x57428b){return _0x14c8e3(_0x4fd805,_0x57428b);},'zusDk':_0x6de179(0x1fc),'gEITg':function(_0x14cc7b,_0xbb9b96,_0x141d19){return _0x14cc7b(_0xbb9b96,_0x141d19);},'ORRxr':_0x6de179(0x222),'ObNJY':function(_0x5d43bd,_0x25d968,_0x41f634){return _0x5d43bd(_0x25d968,_0x41f634);},'wYnqD':_0x6de179(0x218)},_0x1c9555={},_0x4c30b6={};it(_0x6de179(0x214),function(){var _0x3fd8a7=_0x6de179;try{expressjwt();}catch(_0x202cbe){_0x22b274[_0x3fd8a7(0x23f)]===_0x22b274[_0x3fd8a7(0x210)]?_0x20724f[_0x3fd8a7(0x219)]('bar',_0x348b5d[_0x3fd8a7(0x278)][_0x3fd8a7(0x220)]):(assert['ok'](_0x202cbe),assert['equal'](_0x202cbe[_0x3fd8a7(0x274)],_0x3fd8a7(0x211)));}}),it(_0x22b274['xPWBw'],function(){var _0x2ca4ba=_0x6de179;expressjwt({'secret':_0x2ca4ba(0x203),'credentialsRequired':!![]})(_0x1c9555,_0x4c30b6,function(_0x3b7927){var _0x3b265a=_0x2ca4ba;assert['ok'](_0x3b7927),assert[_0x3b265a(0x219)](_0x3b7927['code'],_0x3b265a(0x221));});}),it(_0x22b274[_0x6de179(0x26e)],function(){var _0x1b7cc7=_0x6de179;_0x1c9555['originalUrl']=_0x22b274['diuxk'],expressjwt({'secret':'shhhh'})[_0x1b7cc7(0x245)]({'path':_0x1b7cc7(0x1ea)})(_0x1c9555,_0x4c30b6,function(_0x313233){var _0x53add5=_0x1b7cc7,_0x19abe8={'WLuaS':_0x22b274[_0x53add5(0x1fd)]};_0x22b274[_0x53add5(0x29a)](_0x22b274[_0x53add5(0x27f)],_0x53add5(0x250))?(_0x19a398[_0x53add5(0x219)](_0x53add5(0x247),_0x105d44[_0x53add5(0x276)][_0x53add5(0x278)][_0x53add5(0x220)]),_0x3fbde8['ok'](typeof _0xa3cf18[_0x53add5(0x278)]===_0x19abe8[_0x53add5(0x207)])):assert['ok'](!_0x313233);});}),_0x22b274[_0x6de179(0x2a0)](it,_0x6de179(0x295),function(){var _0x4a2c52=_0x6de179,_0x5636b2={};_0x5636b2[_0x4a2c52(0x271)]=_0x4a2c52(0x290),_0x5636b2['headers']={'access-control-request-headers':'sasa,\x20sras,\x20\x20authorization'},expressjwt({'secret':_0x22b274[_0x4a2c52(0x28e)]})(_0x5636b2,_0x4c30b6,function(_0x2fe1de){assert['ok'](!_0x2fe1de);});}),_0x22b274[_0x6de179(0x2a0)](it,_0x6de179(0x289),function(){var _0x5eda88=_0x6de179,_0x28d143={'tWfNm':_0x22b274[_0x5eda88(0x1f2)],'IqoLi':_0x22b274[_0x5eda88(0x21c)]};_0x1c9555['headers']={},_0x1c9555['headers']['authorization']=_0x5eda88(0x277),expressjwt({'secret':_0x5eda88(0x203)})(_0x1c9555,_0x4c30b6,function(_0x5cce1c){var _0x37c40f=_0x5eda88;_0x28d143[_0x37c40f(0x29c)]!==_0x28d143[_0x37c40f(0x213)]?(assert['ok'](_0x5cce1c),assert['equal'](_0x5cce1c['code'],_0x37c40f(0x26a))):(_0x2599f9['ok'](_0x1bca33),_0x49ae24[_0x37c40f(0x219)](_0x26161b['code'],_0x37c40f(0x227)),_0x7cd7a2[_0x37c40f(0x219)](_0x43532a[_0x37c40f(0x274)],_0x37c40f(0x263)));});}),it(_0x6de179(0x1ff),function(){var _0x25d00d=_0x6de179,_0x59bda3={'gvZPF':_0x22b274[_0x25d00d(0x239)]};_0x1c9555[_0x25d00d(0x20e)]={},_0x1c9555[_0x25d00d(0x20e)][_0x25d00d(0x1e6)]=_0x22b274[_0x25d00d(0x1fa)],expressjwt({'secret':_0x25d00d(0x203)})(_0x1c9555,_0x4c30b6,function(_0x5ba143){var _0x31f220=_0x25d00d;assert['ok'](_0x5ba143),assert[_0x31f220(0x219)](_0x5ba143[_0x31f220(0x279)],_0x59bda3[_0x31f220(0x1f6)]);});}),it('should\x20next\x20if\x20authorization\x20header\x20is\x20not\x20Bearer\x20and\x20credentialsRequired\x20is\x20false',function(){var _0x50c05c=_0x6de179;_0x1c9555['headers']={},_0x1c9555[_0x50c05c(0x20e)][_0x50c05c(0x1e6)]=_0x22b274[_0x50c05c(0x1fa)],expressjwt({'secret':_0x22b274['JBCPO'],'credentialsRequired':![]})(_0x1c9555,_0x4c30b6,function(_0x32d8ac){var _0x4f8809=_0x50c05c;assert['ok'](_0x22b274['HxzEt'](typeof _0x32d8ac,_0x22b274[_0x4f8809(0x1fd)]));});}),it('should\x20throw\x20if\x20authorization\x20header\x20is\x20not\x20well-formatted\x20jwt',function(){var _0x32a94f=_0x6de179;_0x1c9555[_0x32a94f(0x20e)]={},_0x1c9555[_0x32a94f(0x20e)]['authorization']=_0x22b274[_0x32a94f(0x268)],expressjwt({'secret':_0x32a94f(0x203)})(_0x1c9555,_0x4c30b6,function(_0x891a7f){var _0x555942=_0x32a94f;assert['ok'](_0x891a7f),assert['equal'](_0x891a7f['code'],_0x22b274[_0x555942(0x287)]);});}),_0x22b274[_0x6de179(0x293)](it,_0x22b274['lPgEC'],function(){var _0x280247=_0x6de179,_0x1d77e3={'iidHt':_0x280247(0x247)};if(_0x280247(0x25d)===_0x22b274[_0x280247(0x253)])_0x1c9555[_0x280247(0x20e)]={},_0x1c9555[_0x280247(0x20e)][_0x280247(0x1e6)]=_0x22b274['iEyHb'],_0x22b274['mpMCK'](expressjwt,{'secret':_0x22b274[_0x280247(0x28e)]})(_0x1c9555,_0x4c30b6,function(_0x1b136b){var _0x30153a=_0x280247;assert['ok'](_0x1b136b),assert['equal'](_0x1b136b['code'],_0x30153a(0x227));});else{var _0x3bc389=_0x22b274[_0x280247(0x215)],_0x286123=_0x1043e7[_0x280247(0x264)]({'foo':_0x280247(0x247)},_0x3bc389);_0x11c20b[_0x280247(0x20e)]={},_0x3808b2[_0x280247(0x20e)]['authorization']=_0x280247(0x285)+_0x286123,_0x37b4c7({'secret':_0x3bc389})(_0x2e033a,_0x8249c5,function(){var _0x5f024f=_0x280247;_0x6207f2[_0x5f024f(0x219)](_0x1d77e3[_0x5f024f(0x22a)],_0x204118[_0x5f024f(0x278)][_0x5f024f(0x220)]);});}}),it(_0x6de179(0x286),function(){var _0x5670dd=_0x6de179,_0x1c4217={'jXyuG':_0x22b274[_0x5670dd(0x200)],'jwnsc':_0x22b274[_0x5670dd(0x287)],'DOFbA':_0x22b274[_0x5670dd(0x216)]},_0x252418=_0x22b274['btEXg'],_0x142a27=jwt['sign']({'foo':_0x5670dd(0x247)},_0x252418);_0x1c9555[_0x5670dd(0x20e)]={},_0x1c9555[_0x5670dd(0x20e)][_0x5670dd(0x1e6)]=_0x22b274[_0x5670dd(0x28a)]+_0x142a27,_0x22b274[_0x5670dd(0x25c)](expressjwt,{'secret':_0x22b274[_0x5670dd(0x1fb)]})(_0x1c9555,_0x4c30b6,function(_0x3178b1){var _0x9e8862=_0x5670dd,_0x18c3d4={'EoxOM':function(_0x527378,_0xb7bba7){return _0x527378===_0xb7bba7;}};if(_0x1c4217['jXyuG']!==_0x1c4217[_0x9e8862(0x224)]){var _0x132ff1={'xwQXJ':function(_0x17085e,_0x6ad709){var _0x2f406f=_0x9e8862;return _0x18c3d4[_0x2f406f(0x269)](_0x17085e,_0x6ad709);}};_0x1a62ad={},_0x262b7b({'secret':_0x9e8862(0x203),'credentialsRequired':![]})(_0x435f4e,_0x141922,function(_0x344b89){var _0xe99ca3=_0x9e8862;_0x5eab55(_0x132ff1[_0xe99ca3(0x228)](typeof _0x344b89,_0xe99ca3(0x22c)));});}else assert['ok'](_0x3178b1),assert['equal'](_0x3178b1[_0x9e8862(0x279)],_0x1c4217[_0x9e8862(0x1e7)]),assert[_0x9e8862(0x219)](_0x3178b1[_0x9e8862(0x274)],_0x1c4217[_0x9e8862(0x281)]);});}),_0x22b274['tDTUV'](it,_0x6de179(0x257),function(){var _0xd05d6e=_0x6de179,_0x235893=_0x22b274[_0xd05d6e(0x215)],_0x5791a0=jwt[_0xd05d6e(0x264)]({'foo':_0x22b274[_0xd05d6e(0x1e8)],'aud':_0xd05d6e(0x25f)},_0x235893);_0x1c9555[_0xd05d6e(0x20e)]={},_0x1c9555[_0xd05d6e(0x20e)]['authorization']=_0x22b274['DUcNR'](_0x22b274[_0xd05d6e(0x28a)],_0x5791a0),_0x22b274[_0xd05d6e(0x266)](expressjwt,{'secret':_0x22b274[_0xd05d6e(0x215)],'audience':_0x22b274[_0xd05d6e(0x204)]})(_0x1c9555,_0x4c30b6,function(_0x3775b1){var _0x35d1f5=_0xd05d6e;assert['ok'](_0x3775b1),assert[_0x35d1f5(0x219)](_0x3775b1[_0x35d1f5(0x279)],_0x35d1f5(0x227)),assert['equal'](_0x3775b1['message'],_0x35d1f5(0x265));});}),_0x22b274[_0x6de179(0x256)](it,_0x22b274[_0x6de179(0x201)],function(){var _0x43786d=_0x6de179,_0x1e1034={'ULdNt':function(_0x4f1b4b,_0x282846){return _0x22b274['aqGFX'](_0x4f1b4b,_0x282846);},'eMroX':_0x43786d(0x27c)},_0x2b0ac3=_0x22b274[_0x43786d(0x215)],_0x3347d8=jwt['sign']({'foo':_0x22b274['EqdYW'],'exp':0x5265f279},_0x2b0ac3);_0x1c9555[_0x43786d(0x20e)]={},_0x1c9555[_0x43786d(0x20e)][_0x43786d(0x1e6)]=_0x22b274[_0x43786d(0x28a)]+_0x3347d8,_0x22b274[_0x43786d(0x25b)](expressjwt,{'secret':_0x22b274[_0x43786d(0x215)]})(_0x1c9555,_0x4c30b6,function(_0x13f21d){var _0x54334c=_0x43786d;_0x1e1034[_0x54334c(0x21e)](_0x1e1034[_0x54334c(0x21b)],_0x54334c(0x1df))?(assert['ok'](_0x13f21d),assert[_0x54334c(0x219)](_0x13f21d[_0x54334c(0x279)],_0x54334c(0x227)),assert[_0x54334c(0x219)](_0x13f21d[_0x54334c(0x1f3)][_0x54334c(0x262)],_0x54334c(0x1eb)),assert[_0x54334c(0x219)](_0x13f21d[_0x54334c(0x274)],_0x54334c(0x263))):(_0x25b1e7['ok'](_0xf19e8d),_0x1b9c03[_0x54334c(0x219)](_0x1b7092['code'],_0x54334c(0x227)),_0x1be206['equal'](_0x22aeea[_0x54334c(0x274)],_0x54334c(0x283)));});}),_0x22b274['gEITg'](it,_0x6de179(0x1e1),function(){var _0x5e1e95=_0x6de179,_0x46e235={'vWLhV':'invalid_token'},_0x1d4490=_0x5e1e95(0x1f5),_0x5c14e2=jwt[_0x5e1e95(0x264)]({'foo':_0x22b274[_0x5e1e95(0x1e8)],'iss':_0x22b274[_0x5e1e95(0x275)]},_0x1d4490);_0x1c9555[_0x5e1e95(0x20e)]={},_0x1c9555[_0x5e1e95(0x20e)][_0x5e1e95(0x1e6)]=_0x5e1e95(0x285)+_0x5c14e2,_0x22b274['mpMCK'](expressjwt,{'secret':_0x22b274[_0x5e1e95(0x215)],'issuer':_0x5e1e95(0x20a)})(_0x1c9555,_0x4c30b6,function(_0x11f0d5){var _0x2a8e00=_0x5e1e95;assert['ok'](_0x11f0d5),assert[_0x2a8e00(0x219)](_0x11f0d5['code'],_0x46e235[_0x2a8e00(0x28d)]),assert['equal'](_0x11f0d5[_0x2a8e00(0x274)],'jwt\x20issuer\x20invalid.\x20expected:\x20http://wrong');});}),it(_0x6de179(0x27b),function(){var _0x5f24e5=_0x6de179,_0x2b5c3c={'bietB':_0x22b274[_0x5f24e5(0x287)],'KvyZs':'Invalid\x20token!'},_0x2d0f17='shhhhhh',_0x19b5ab=jwt[_0x5f24e5(0x264)]({'foo':_0x5f24e5(0x247)},_0x2d0f17);function _0x48af94(){var _0x26458f=_0x5f24e5;throw new UnauthorizedError(_0x2b5c3c[_0x26458f(0x25a)],{'message':_0x2b5c3c[_0x26458f(0x26f)]});}_0x22b274['eWYZY'](expressjwt,{'secret':'shhhhhh','getToken':_0x48af94})(_0x1c9555,_0x4c30b6,function(_0x3bcce8){var _0x13bb69=_0x5f24e5;assert['ok'](_0x3bcce8),assert[_0x13bb69(0x219)](_0x3bcce8[_0x13bb69(0x279)],_0x13bb69(0x227)),assert['equal'](_0x3bcce8[_0x13bb69(0x274)],_0x2b5c3c['KvyZs']);});}),it(_0x6de179(0x1f9),function(){var _0x3e90cd=_0x6de179,_0x3cde7a=_0x22b274[_0x3e90cd(0x26b)][_0x3e90cd(0x1ee)]('|'),_0x1fbe11=0x0;while(!![]){switch(_0x3cde7a[_0x1fbe11++]){case'0':var _0x4d5b52=_0x977a41[_0x3e90cd(0x1ee)]('.');continue;case'1':var _0x14c077=new Buffer(_0x3e90cd(0x299))[_0x3e90cd(0x284)](_0x3e90cd(0x225));continue;case'2':_0x4d5b52[0x1]=_0x14c077;continue;case'3':var _0x2f2870={'lGbMq':_0x22b274[_0x3e90cd(0x287)],'OUGai':_0x22b274[_0x3e90cd(0x29b)]};continue;case'4':expressjwt({'secret':_0x2bbcc7})(_0x1c9555,_0x4c30b6,function(_0x3f1d27){var _0x354d67=_0x3e90cd;assert['ok'](_0x3f1d27),assert[_0x354d67(0x219)](_0x3f1d27[_0x354d67(0x279)],_0x2f2870[_0x354d67(0x230)]),assert[_0x354d67(0x219)](_0x3f1d27['message'],_0x2f2870[_0x354d67(0x20d)]);});continue;case'5':_0x1c9555[_0x3e90cd(0x20e)]=[];continue;case'6':_0x1c9555['headers'][_0x3e90cd(0x1e6)]=_0x22b274[_0x3e90cd(0x1e2)](_0x3e90cd(0x285),_0x2a5188);continue;case'7':var _0x2bbcc7=_0x3e90cd(0x24d);continue;case'8':var _0x2a5188=_0x4d5b52[_0x3e90cd(0x23e)]('.');continue;case'9':var _0x977a41=jwt['sign']({'foo':_0x3e90cd(0x247),'iss':_0x3e90cd(0x248)},_0x2bbcc7);continue;}break;}}),it(_0x22b274['ORRxr'],function(){var _0x544f94=_0x6de179,_0x367fa3={'wMtaD':_0x22b274[_0x544f94(0x287)],'YysmM':_0x22b274['hZNPQ']},_0x55dd2a=_0x544f94(0x1f5),_0x68d605=jwt['sign']({'foo':_0x544f94(0x247),'exp':0x5265f279},_0x55dd2a);_0x1c9555[_0x544f94(0x20e)]={},_0x1c9555[_0x544f94(0x20e)][_0x544f94(0x1e6)]=_0x544f94(0x285)+_0x68d605,expressjwt({'secret':_0x55dd2a,'credentialsRequired':![]})(_0x1c9555,_0x4c30b6,function(_0x45a4a4){var _0x4bed41=_0x544f94;assert['ok'](_0x45a4a4),assert[_0x4bed41(0x219)](_0x45a4a4[_0x4bed41(0x279)],_0x367fa3['wMtaD']),assert['equal'](_0x45a4a4[_0x4bed41(0x274)],_0x367fa3[_0x4bed41(0x280)]);});}),_0x22b274[_0x6de179(0x234)](it,_0x22b274[_0x6de179(0x21d)],function(){var _0x41a6ed=_0x6de179,_0x3c4eba=_0x41a6ed(0x2a1)[_0x41a6ed(0x1ee)]('|'),_0x1011da=0x0;while(!![]){switch(_0x3c4eba[_0x1011da++]){case'0':expressjwt({'secret':'not\x20the\x20secret','credentialsRequired':![]})(_0x1c9555,_0x4c30b6,function(_0x11e727){var _0x3f5bc4=_0x41a6ed;assert['ok'](_0x11e727),assert[_0x3f5bc4(0x219)](_0x11e727[_0x3f5bc4(0x279)],_0x5ed227[_0x3f5bc4(0x249)]),assert[_0x3f5bc4(0x219)](_0x11e727[_0x3f5bc4(0x274)],_0x5ed227[_0x3f5bc4(0x24b)]);});continue;case'1':var _0x5ed227={'fEbsY':_0x22b274[_0x41a6ed(0x287)],'NNppk':_0x22b274[_0x41a6ed(0x216)]};continue;case'2':var _0x347983=jwt[_0x41a6ed(0x264)]({'foo':_0x22b274[_0x41a6ed(0x1e8)],'exp':0x5265f279},_0x1cc447);continue;case'3':_0x1c9555[_0x41a6ed(0x20e)][_0x41a6ed(0x1e6)]=_0x22b274[_0x41a6ed(0x1e2)]('Bearer\x20',_0x347983);continue;case'4':_0x1c9555['headers']={};continue;case'5':var _0x1cc447=_0x41a6ed(0x1f5);continue;}break;}});}),describe(_0x38cb33(0x20f),function(){var _0x4c8c00=_0x38cb33,_0xf4615b={'FWLVS':_0x4c8c00(0x1f5),'Qphwr':function(_0x1217a4,_0x54535b){return _0x1217a4+_0x54535b;},'XvlRw':'Bearer\x20','oRGyF':_0x4c8c00(0x247),'kVksP':_0x4c8c00(0x252),'MJCVG':function(_0x28f54f,_0x5c7cd5){return _0x28f54f(_0x5c7cd5);},'GBoTT':function(_0x56da0c,_0x479c6c){return _0x56da0c+_0x479c6c;},'TitLE':_0x4c8c00(0x225),'zfnBZ':function(_0x1c5006,_0x3bccaa){return _0x1c5006+_0x3bccaa;},'IhfbK':function(_0x2c01ad,_0x86d07b){return _0x2c01ad+_0x86d07b;},'LRNHS':_0x4c8c00(0x22c),'RLLXh':'msvcu','wxhuy':_0x4c8c00(0x1ed),'pXxYr':function(_0x570051,_0x371e8f){return _0x570051(_0x371e8f);},'MOioo':_0x4c8c00(0x21a),'BImWX':_0x4c8c00(0x227),'kJYrh':function(_0x238017,_0x7b9500){return _0x238017!==_0x7b9500;},'FVayc':_0x4c8c00(0x29e),'MkKIo':function(_0x396c65,_0x327647){return _0x396c65(_0x327647);},'eOdOx':function(_0x18f95f,_0x57a4a2){return _0x18f95f(_0x57a4a2);},'jNtAN':_0x4c8c00(0x203),'YlYcM':_0x4c8c00(0x29d),'KHciN':_0x4c8c00(0x291),'qRvlf':function(_0x246033,_0x1500be){return _0x246033(_0x1500be);},'addsh':function(_0x5e0733,_0x5579aa,_0x57d9ae){return _0x5e0733(_0x5579aa,_0x57d9ae);},'qOMhX':'should\x20work\x20if\x20authorization\x20header\x20is\x20valid\x20jwt','SGWvC':function(_0x333f30,_0x18a788,_0x5a17b1){return _0x333f30(_0x18a788,_0x5a17b1);},'GBUkT':_0x4c8c00(0x22f),'MwMwZ':_0x4c8c00(0x1e3),'smMOJ':function(_0x14edfb,_0x559446,_0x1ea77c){return _0x14edfb(_0x559446,_0x1ea77c);},'hySIS':_0x4c8c00(0x1e0),'XieRU':'should\x20not\x20work\x20if\x20no\x20authorization\x20header','KyYrt':_0x4c8c00(0x238),'cYZGw':_0x4c8c00(0x202)},_0x52c0b9={},_0x2bed6d={};it(_0xf4615b[_0x4c8c00(0x28c)],function(){var _0x329ef9=_0x4c8c00,_0x19acda=_0xf4615b[_0x329ef9(0x241)],_0x4b0385=jwt[_0x329ef9(0x264)]({'foo':'bar'},_0x19acda);_0x52c0b9['headers']={},_0x52c0b9[_0x329ef9(0x20e)][_0x329ef9(0x1e6)]=_0xf4615b[_0x329ef9(0x27e)](_0xf4615b['XvlRw'],_0x4b0385),expressjwt({'secret':_0x19acda})(_0x52c0b9,_0x2bed6d,function(){var _0x2e15b5=_0x329ef9;assert[_0x2e15b5(0x219)](_0x2e15b5(0x247),_0x52c0b9[_0x2e15b5(0x278)][_0x2e15b5(0x220)]);});}),_0xf4615b[_0x4c8c00(0x292)](it,'should\x20work\x20with\x20nested\x20properties',function(){var _0x5a9e8d=_0x4c8c00,_0x3da562=_0xf4615b[_0x5a9e8d(0x296)][_0x5a9e8d(0x1ee)]('|'),_0x4971cf=0x0;while(!![]){switch(_0x3da562[_0x4971cf++]){case'0':_0xf4615b['MJCVG'](expressjwt,{'secret':_0x380759,'requestProperty':'auth.token'})(_0x52c0b9,_0x2bed6d,function(){var _0x43ac8c=_0x5a9e8d;assert[_0x43ac8c(0x219)](_0xf4615b[_0x43ac8c(0x28f)],_0x52c0b9[_0x43ac8c(0x21a)][_0x43ac8c(0x223)][_0x43ac8c(0x220)]);});continue;case'1':_0x52c0b9['headers'][_0x5a9e8d(0x1e6)]=_0xf4615b['GBoTT'](_0xf4615b['XvlRw'],_0x5213d6);continue;case'2':var _0x380759=_0x5a9e8d(0x1f5);continue;case'3':var _0x5213d6=jwt[_0x5a9e8d(0x264)]({'foo':'bar'},_0x380759);continue;case'4':_0x52c0b9[_0x5a9e8d(0x20e)]={};continue;}break;}}),_0xf4615b[_0x4c8c00(0x28b)](it,_0xf4615b[_0x4c8c00(0x1de)],function(){var _0x5b64ae=_0x4c8c00,_0x2e9637={'PnOwh':_0xf4615b[_0x5b64ae(0x28f)]},_0xbf1403=new Buffer(_0x5b64ae(0x21f),_0xf4615b['TitLE']),_0x5cba7e=jwt['sign']({'foo':_0xf4615b[_0x5b64ae(0x28f)]},_0xbf1403);_0x52c0b9[_0x5b64ae(0x20e)]={},_0x52c0b9[_0x5b64ae(0x20e)][_0x5b64ae(0x1e6)]=_0xf4615b[_0x5b64ae(0x237)](_0x5b64ae(0x285),_0x5cba7e),_0xf4615b['MJCVG'](expressjwt,{'secret':_0xbf1403})(_0x52c0b9,_0x2bed6d,function(){var _0x135f98=_0x5b64ae;assert[_0x135f98(0x219)](_0x2e9637[_0x135f98(0x232)],_0x52c0b9[_0x135f98(0x278)][_0x135f98(0x220)]);});}),it(_0x4c8c00(0x29f),function(){var _0x4a38eb=_0x4c8c00,_0x5f1c34=_0x4a38eb(0x1f5),_0x304c85=jwt[_0x4a38eb(0x264)]({'foo':'bar'},_0x5f1c34);_0x52c0b9[_0x4a38eb(0x20e)]={},_0x52c0b9[_0x4a38eb(0x20e)][_0x4a38eb(0x1e6)]=_0xf4615b[_0x4a38eb(0x22e)]('Bearer\x20',_0x304c85),expressjwt({'secret':_0x5f1c34,'userProperty':_0x4a38eb(0x21a)})(_0x52c0b9,_0x2bed6d,function(){var _0x5e296e=_0x4a38eb;assert[_0x5e296e(0x219)](_0xf4615b['oRGyF'],_0x52c0b9['auth'][_0x5e296e(0x220)]);});}),_0xf4615b[_0x4c8c00(0x292)](it,_0xf4615b[_0x4c8c00(0x297)],function(){var _0x4c9968=_0x4c8c00,_0xe17052={'mYJsQ':_0x4c9968(0x1ea),'bospJ':function(_0x5231fc,_0x15aa8d){return _0x5231fc(_0x15aa8d);}};if(_0xf4615b['RLLXh']===_0x4c9968(0x288))_0x1ca2cb['originalUrl']=_0xe17052[_0x4c9968(0x1f7)],_0xe17052[_0x4c9968(0x235)](_0x82eb56,{'secret':_0x4c9968(0x203)})[_0x4c9968(0x245)]({'path':_0x4c9968(0x1ea)})(_0x44ffd7,_0x3c2b37,function(_0x4ca470){_0x5c9f84['ok'](!_0x4ca470);});else{var _0xadade5=_0x4c9968(0x212)[_0x4c9968(0x1ee)]('|'),_0x10b466=0x0;while(!![]){switch(_0xadade5[_0x10b466++]){case'0':_0x2bed6d={};continue;case'1':var _0xa3fe40=jwt[_0x4c9968(0x264)]({'foo':_0xf4615b[_0x4c9968(0x28f)]},_0x2e8340);continue;case'2':_0x52c0b9[_0x4c9968(0x20e)]={};continue;case'3':_0xf4615b[_0x4c9968(0x27a)](expressjwt,{'secret':_0x2e8340,'resultProperty':_0xf4615b[_0x4c9968(0x236)]})(_0x52c0b9,_0x2bed6d,function(){var _0x53ae6b=_0x4c9968;assert['equal'](_0x53ae6b(0x247),_0x2bed6d[_0x53ae6b(0x276)][_0x53ae6b(0x278)][_0x53ae6b(0x220)]),assert['ok'](typeof _0x52c0b9[_0x53ae6b(0x278)]===_0xf4615b[_0x53ae6b(0x240)]);});continue;case'4':_0x52c0b9[_0x4c9968(0x20e)][_0x4c9968(0x1e6)]=_0xf4615b['XvlRw']+_0xa3fe40;continue;case'5':_0x52c0b9={};continue;case'6':var _0x2e8340=_0xf4615b['FWLVS'];continue;}break;}}}),it('should\x20ignore\x20userProperty\x20if\x20resultProperty\x20option\x20provided',function(){var _0x14e6d0=_0x4c8c00,_0x298afe=_0xf4615b[_0x14e6d0(0x241)],_0x274d83=jwt[_0x14e6d0(0x264)]({'foo':_0x14e6d0(0x247)},_0x298afe);_0x52c0b9={},_0x2bed6d={},_0x52c0b9['headers']={},_0x52c0b9[_0x14e6d0(0x20e)][_0x14e6d0(0x1e6)]=_0xf4615b['zfnBZ'](_0xf4615b['XvlRw'],_0x274d83),_0xf4615b[_0x14e6d0(0x258)](expressjwt,{'secret':_0x298afe,'userProperty':_0xf4615b['MOioo'],'resultProperty':_0xf4615b[_0x14e6d0(0x236)]})(_0x52c0b9,_0x2bed6d,function(){var _0x3b782d=_0x14e6d0;assert[_0x3b782d(0x219)](_0xf4615b[_0x3b782d(0x28f)],_0x2bed6d[_0x3b782d(0x276)][_0x3b782d(0x278)][_0x3b782d(0x220)]),assert['ok'](typeof _0x52c0b9[_0x3b782d(0x21a)]===_0x3b782d(0x22c));});}),_0xf4615b[_0x4c8c00(0x27d)](it,_0xf4615b[_0x4c8c00(0x259)],function(){var _0xb5448f=_0x4c8c00,_0x17f4c9={'QSOzo':function(_0xbee6c2,_0x2a5c66){var _0x2d9782=_0x4cc4;return _0xf4615b[_0x2d9782(0x20b)](_0xbee6c2,_0x2a5c66);}};_0x52c0b9={},_0xf4615b[_0xb5448f(0x255)](expressjwt,{'secret':_0xb5448f(0x203),'credentialsRequired':![]})(_0x52c0b9,_0x2bed6d,function(_0x881717){var _0x5cd2b8=_0xb5448f,_0x39abac={'gumjK':_0xf4615b[_0x5cd2b8(0x294)]};_0xf4615b[_0x5cd2b8(0x1f0)]('jhCLZ',_0xf4615b[_0x5cd2b8(0x1ec)])?(_0x3adbc2[_0x5cd2b8(0x20e)]={},_0x274448[_0x5cd2b8(0x20e)][_0x5cd2b8(0x1e6)]=_0x5cd2b8(0x24f),_0x17f4c9[_0x5cd2b8(0x25e)](_0xf12497,{'secret':_0x5cd2b8(0x203)})(_0x35639d,_0x45de03,function(_0xc0db59){var _0x9fe14b=_0x5cd2b8;_0x3c4561['ok'](_0xc0db59),_0x12c09a[_0x9fe14b(0x219)](_0xc0db59[_0x9fe14b(0x279)],_0x39abac['gumjK']);})):assert(typeof _0x881717==='undefined');});}),it(_0xf4615b[_0x4c8c00(0x226)],function(){var _0xfc386e=_0x4c8c00,_0x289ecc={'UmwPY':function(_0xce6517,_0x4a664e){return _0xce6517!==_0x4a664e;}};_0x52c0b9={},_0xf4615b[_0xfc386e(0x258)](expressjwt,{'secret':_0xf4615b[_0xfc386e(0x229)]})(_0x52c0b9,_0x2bed6d,function(_0x618c1){var _0x2fc337=_0xfc386e;assert(_0x289ecc[_0x2fc337(0x26d)](typeof _0x618c1,_0x2fc337(0x22c)));});}),_0xf4615b['smMOJ'](it,_0x4c8c00(0x282),function(){var _0x2cb181=_0x4c8c00,_0x2c882e=_0xf4615b['YlYcM'][_0x2cb181(0x1ee)]('|'),_0x5881b5=0x0;while(!![]){switch(_0x2c882e[_0x5881b5++]){case'0':_0x554272['headers']['authorization']=_0x2cb181(0x285)+_0x44dae3;continue;case'1':var _0x554272={};continue;case'2':expressjwt({'secret':_0x2cb181(0x23b)})(_0x554272,_0x2bed6d,function(_0x7e2b6a){var _0x52533e=_0x2cb181,_0x45f851=_0x7e2b6a[_0x52533e(0x1fe)]['indexOf'](_0x52533e(0x231));assert['equal'](_0x45f851,0x0,_0x52533e(0x22b));});continue;case'3':var _0x44dae3=jwt[_0x2cb181(0x264)]({'foo':_0x2cb181(0x247)},_0xf4615b[_0x2cb181(0x246)]);continue;case'4':_0x554272[_0x2cb181(0x20e)]={};continue;}break;}}),it(_0xf4615b[_0x4c8c00(0x1f1)],function(){var _0x1c997c=_0x4c8c00,_0x57df25=_0x1c997c(0x1f5),_0x2704b5=jwt[_0x1c997c(0x264)]({'foo':'bar'},_0x57df25);_0x52c0b9[_0x1c997c(0x20e)]={},_0x52c0b9[_0x1c997c(0x267)]={},_0x52c0b9[_0x1c997c(0x267)][_0x1c997c(0x223)]=_0x2704b5;function _0xa5f3f(_0x51f646){var _0xf07cac=_0x1c997c;return _0x51f646[_0xf07cac(0x267)][_0xf07cac(0x223)];}_0xf4615b['qRvlf'](expressjwt,{'secret':_0x57df25,'getToken':_0xa5f3f})(_0x52c0b9,_0x2bed6d,function(){var _0x3a45f2=_0x1c997c;assert[_0x3a45f2(0x219)](_0xf4615b[_0x3a45f2(0x28f)],_0x52c0b9[_0x3a45f2(0x278)][_0x3a45f2(0x220)]);});}),it(_0xf4615b[_0x4c8c00(0x272)],function(){var _0x3e6f7f=_0x4c8c00,_0x23aa31={'RNEMS':function(_0x15b367,_0x485f67,_0x15329b){var _0x4fe55e=_0x4cc4;return _0xf4615b[_0x4fe55e(0x292)](_0x15b367,_0x485f67,_0x15329b);},'JUzhj':_0xf4615b[_0x3e6f7f(0x28f)]},_0x5d6d64=_0x3e6f7f(0x1f5),_0x51572a=function(_0x5f1b3c,_0x2b43b5,_0x2d826c,_0x32b53e){var _0x3ccc33=_0x3e6f7f;assert[_0x3ccc33(0x219)](_0x2b43b5[_0x3ccc33(0x1e4)],_0x3ccc33(0x1ef)),assert[_0x3ccc33(0x219)](_0x2d826c[_0x3ccc33(0x220)],_0x23aa31[_0x3ccc33(0x1e5)]),process['nextTick'](function(){var _0x33cb5e=_0x3ccc33;return _0x23aa31[_0x33cb5e(0x273)](_0x32b53e,null,_0x5d6d64);});},_0x45e70c=jwt[_0x3e6f7f(0x264)]({'foo':_0x3e6f7f(0x247)},_0x5d6d64);_0x52c0b9[_0x3e6f7f(0x20e)]={},_0x52c0b9[_0x3e6f7f(0x20e)][_0x3e6f7f(0x1e6)]=_0xf4615b[_0x3e6f7f(0x208)]('Bearer\x20',_0x45e70c),expressjwt({'secret':_0x51572a})(_0x52c0b9,_0x2bed6d,function(){var _0x504e79=_0x3e6f7f,_0x51eacb={'zLvev':function(_0x3cba7f,_0x350006,_0x5befdd){return _0x3cba7f(_0x350006,_0x5befdd);}};_0x504e79(0x22d)!==_0x504e79(0x22d)?(_0x445665[_0x504e79(0x219)](_0x9e8bef['alg'],_0x504e79(0x1ef)),_0x10cea3[_0x504e79(0x219)](_0x537a85[_0x504e79(0x220)],_0x23aa31[_0x504e79(0x1e5)]),_0x1be733[_0x504e79(0x217)](function(){return _0x51eacb['zLvev'](_0x2b0dfd,null,_0x262265);})):assert[_0x504e79(0x219)](_0x504e79(0x247),_0x52c0b9[_0x504e79(0x278)][_0x504e79(0x220)]);});});});