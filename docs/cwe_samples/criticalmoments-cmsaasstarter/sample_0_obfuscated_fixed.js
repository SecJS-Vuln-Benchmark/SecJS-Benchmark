function _0x4404(){const _0x494b50=['kxWaV','BElnr','span.timestamp-error','XgBSQ','vTsPh','vWFUN','prepend','append','qhzbq','304226eOmBqi','name','pJKHj','replace','jhhNY','lBUYq','RfUpT','Rendered\x20unexpected\x20user\x20group\x20','836892PaJlQW','code','eUfFx','each','eglDZ','info','4913557YxCyVU','rtl','HtOlY','data-stream-id','ZySbq','.user-group-mention','slice','Klmmd','553JniPMD','HBueS','mLQbq','time','indexOf','IjDrU','View\x20in\x20playground','get_playground_info_for_languages','div.codehilite','cEUQd','<p>','text','ozLFQ','AZRFo','izyYK','zQTfq','vuwmV','is_member_of','ZwXSY','NGpyy','4713oLCoGE','WdMng','hELYP','SkyRA','find','emojiset','true','XhTOL','Spoiler','10ifZVRq','error','NdIdU','gHykQ','tooltip_content','html','user-mention-me','DdaUJ','SybaZ','XOBSu','TUJaU','title','UFaFG','maybe_get_stream_name','Invalid\x20time\x20format:\x20{timestamp}','trim','get_direction','View\x20in\x20{playground_name}','EdnZR','TAFJQ','data-user-group-id','parseInt','.highlight','get_by_user_id','2zYzMhV','faTLH','attr','oSrNc','is_my_user_id','siblings','length','WrhhS','536730CaZcXC','KrmZj','obJEi','replaceWith','\x20>\x20','GGXUJ','25cHCmNr','JUCQb','aria-label','guJBi','BiFKI','aria-haspopup','data-user-id','AtYIt','full_name','render_markdown_timestamp','lCmvO','div.spoiler-header','31192jxZMiW','QtIRl','TCImF','data-user-email','.emoji','ZDzqw','WyvET','wTwal','get_by_email','data','SBFSx','175876ypFREA','hasClass','UKJWS','EGgCY','addClass','gggSe','Invalid\x20time\x20format:\x20','QVTwh','IJThV','xFsHe'];_0x4404=function(){return _0x494b50;};return _0x4404();}(function(_0x3e1624,_0x212a8a){const _0x4d8293=_0x344f,_0x3a2bed=_0x3e1624();while(!![]){try{const _0x457280=parseInt(_0x4d8293(0x221))/0x1+-parseInt(_0x4d8293(0x1e9))/0x2*(parseInt(_0x4d8293(0x24b))/0x3)+-parseInt(_0x4d8293(0x20e))/0x4*(parseInt(_0x4d8293(0x1f7))/0x5)+-parseInt(_0x4d8293(0x1f1))/0x6+parseInt(_0x4d8293(0x237))/0x7*(-parseInt(_0x4d8293(0x203))/0x8)+parseInt(_0x4d8293(0x229))/0x9+-parseInt(_0x4d8293(0x254))/0xa*(-parseInt(_0x4d8293(0x22f))/0xb);if(_0x457280===_0x212a8a)break;else _0x3a2bed['push'](_0x3a2bed['shift']());}catch(_0x52a1a7){_0x3a2bed['push'](_0x3a2bed['shift']());}}}(_0x4404,0x36ef1));import _0x26b246 from'clipboard';import{isValid,parseISO}from'date-fns';import _0x492274 from'jquery';function _0x344f(_0x55402b,_0x4bd7b3){const _0x44048f=_0x4404();return _0x344f=function(_0x344f7d,_0x174edc){_0x344f7d=_0x344f7d-0x1df;let _0x40d661=_0x44048f[_0x344f7d];return _0x40d661;},_0x344f(_0x55402b,_0x4bd7b3);}import _0x50c49b from'../templates/copy_code_button.hbs';import _0x422b97 from'../templates/markdown_timestamp.hbs';import _0x574e8a from'../templates/view_code_in_playground.hbs';import*as _0x21a44f from'./blueslip';import{$t,$t_html}from'./i18n';import*as _0x6b2e53 from'./people';import*as _0x57f42b from'./realm_playground';import*as _0xe55eae from'./rtl';import*as _0x33a621 from'./stream_data';import*as _0x27e689 from'./timerender';import*as _0x1798a3 from'./user_groups';import{user_settings}from'./user_settings';function get_user_id_for_mention_button(_0xee611b){const _0x116248=_0x344f,_0x3ced26={'mLQbq':function(_0x33f4e8,_0x40be51){return _0x33f4e8(_0x40be51);},'Klmmd':_0x116248(0x1fd),'sxwLZ':function(_0x316935,_0x185405){return _0x316935(_0x185405);},'UKJWS':_0x116248(0x206),'eUfFx':function(_0x5d3c42,_0x5b9dbe){return _0x5d3c42===_0x5b9dbe;},'XgBSQ':'PORrW'},_0x230467=_0x492274(_0xee611b)[_0x116248(0x1eb)](_0x3ced26[_0x116248(0x236)]),_0x4770df=_0x3ced26['sxwLZ'](_0x492274,_0xee611b)[_0x116248(0x1eb)](_0x3ced26[_0x116248(0x210)]);if(_0x3ced26[_0x116248(0x22b)](_0x230467,'*')||_0x4770df==='*')return'*';if(_0x230467)return Number['parseInt'](_0x230467,0xa);if(_0x4770df){const _0x508c84=_0x6b2e53[_0x116248(0x20b)](_0x4770df);if(_0x508c84){if(_0x3ced26[_0x116248(0x21b)]!=='PORrW')_0x3ced26[_0x116248(0x239)](_0x3b91d5,this)[_0x116248(0x212)](_0x116248(0x25a));else return _0x508c84['user_id'];}}return undefined;}function get_user_group_id_for_mention_button(_0x180c31){const _0x2308ef=_0x344f,_0x2b674e=_0x492274(_0x180c31)[_0x2308ef(0x1eb)](_0x2308ef(0x1e5));if(_0x2b674e)return Number[_0x2308ef(0x1e6)](_0x2b674e,0xa);return undefined;}export function set_name_in_mention_element(_0x281c0d,_0x23e838){const _0x1d1383=_0x344f,_0x59e350={'NeNjy':function(_0x246bee,_0x5a00c8){return _0x246bee(_0x5a00c8);},'VFrbu':'silent','EGgCY':function(_0x2561d1,_0x28de24){return _0x2561d1(_0x28de24);},'guJBi':function(_0x30b900,_0x138bfc){return _0x30b900(_0x138bfc);},'cEUQd':function(_0x20c30d,_0x151e5d){return _0x20c30d+_0x151e5d;}};_0x59e350['NeNjy'](_0x492274,_0x281c0d)[_0x1d1383(0x20f)](_0x59e350['VFrbu'])?_0x59e350[_0x1d1383(0x211)](_0x492274,_0x281c0d)[_0x1d1383(0x242)](_0x23e838):_0x59e350[_0x1d1383(0x1fa)](_0x492274,_0x281c0d)[_0x1d1383(0x242)](_0x59e350[_0x1d1383(0x240)]('@',_0x23e838));}export const update_elements=_0x852c0b=>{const _0x3dc75e=_0x344f,_0x381a27={'RfUpT':function(_0x190081,_0x4433a9){return _0x190081(_0x4433a9);},'TCImF':'\x20>\x20','obJEi':function(_0x32d382,_0x4ca139){return _0x32d382!==_0x4ca139;},'WyvET':_0x3dc75e(0x1e7),'DdaUJ':_0x3dc75e(0x1f8),'bYrJP':_0x3dc75e(0x232),'lCmvO':function(_0x25f2b5,_0x27fed8){return _0x25f2b5(_0x27fed8);},'ZySbq':function(_0x37e384,_0xc7914e){return _0x37e384+_0xc7914e;},'xFsHe':function(_0x347197,_0x2c2b12){return _0x347197(_0x2c2b12);},'TCEjj':_0x3dc75e(0x252),'BIohT':function(_0x53741f,_0x47e4ee,_0x321366){return _0x53741f(_0x47e4ee,_0x321366);},'Ybshn':function(_0x4c8074,_0x1f9d89){return _0x4c8074!==_0x1f9d89;},'kBHYk':function(_0xefd984,_0x2835ad){return _0xefd984===_0x2835ad;},'qhzbq':_0x3dc75e(0x244),'AGBBe':function(_0x5e76e9,_0x45f44b){return _0x5e76e9!==_0x45f44b;},'IJThV':function(_0x530810,_0x48c783){return _0x530810(_0x48c783);},'SybaZ':function(_0x54fde8,_0x2fd201){return _0x54fde8(_0x2fd201);},'AtYIt':_0x3dc75e(0x1fc),'HtOlY':function(_0x2d1c0c,_0x3c31be){return _0x2d1c0c!==_0x3c31be;},'QtIRl':function(_0x4d9f9c,_0x467db8){return _0x4d9f9c(_0x467db8);},'QKerb':function(_0x2293e5,_0x1ae1ea){return _0x2293e5(_0x1ae1ea);},'ZwXSY':'data-tippy-content','BElnr':'GGXUJ','HBueS':_0x3dc75e(0x214),'SBFSx':function(_0x17bc96,_0x547c2c,_0x240fdd){return _0x17bc96(_0x547c2c,_0x240fdd);},'TUJaU':function(_0x3c47c9,_0x12a92f){return _0x3c47c9(_0x12a92f);},'vTsPh':_0x3dc75e(0x253),'lBUYq':function(_0x5c856d,_0x2210f0){return _0x5c856d(_0x2210f0);},'ozLFQ':'pre','zFnQW':'code-language','KrmZj':_0x3dc75e(0x24d),'BiFKI':function(_0x4c3b7c,_0x57474a){return _0x4c3b7c(_0x57474a);},'WdMng':_0x3dc75e(0x23d),'faTLH':_0x3dc75e(0x1e2),'AMdsj':'true','Xyiya':_0x3dc75e(0x1f9),'ZDzqw':function(_0x440eac,_0x2b4426){return _0x440eac(_0x2b4426);},'FJiLC':_0x3dc75e(0x218),'TAFJQ':_0x3dc75e(0x25f),'UFaFG':function(_0x497ce8,_0x4622e9){return _0x497ce8+_0x4622e9;},'izyYK':_0x3dc75e(0x230),'vuwmV':'a.stream-topic','IjDrU':_0x3dc75e(0x23a),'NGpyy':_0x3dc75e(0x202),'oSrNc':_0x3dc75e(0x23f),'Nqnds':_0x3dc75e(0x242)};_0x381a27['kBHYk'](_0xe55eae[_0x3dc75e(0x1e1)](_0x852c0b[_0x3dc75e(0x242)]()),_0x381a27[_0x3dc75e(0x245)])&&_0x852c0b[_0x3dc75e(0x212)](_0x3dc75e(0x230)),_0x852c0b[_0x3dc75e(0x24f)]('.user-mention')[_0x3dc75e(0x22c)](function(){const _0x16f3d2=_0x3dc75e,_0x9ad0bf={'LdFJY':function(_0x2c6d05,_0x338971){return _0x2c6d05(_0x338971);},'WrhhS':function(_0x3fadca,_0x8a15ef){const _0x49f5e7=_0x344f;return _0x381a27[_0x49f5e7(0x227)](_0x3fadca,_0x8a15ef);},'qzQtH':function(_0x31325d,_0x353b8e){return _0x31325d+_0x353b8e;},'SkyRA':_0x381a27[_0x16f3d2(0x205)]},_0x4e5859=get_user_id_for_mention_button(this);(_0x4e5859==='*'||_0x6b2e53[_0x16f3d2(0x1ed)](_0x4e5859))&&_0x492274(this)[_0x16f3d2(0x212)](_0x16f3d2(0x25a));if(_0x4e5859&&_0x381a27[_0x16f3d2(0x1f3)](_0x4e5859,'*')&&!_0x492274(this)[_0x16f3d2(0x24f)](_0x381a27['WyvET'])[_0x16f3d2(0x1ef)]){const _0x462b2d=_0x6b2e53[_0x16f3d2(0x1e8)](_0x4e5859,!![]);if(_0x381a27['obJEi'](_0x462b2d,undefined)){if(_0x16f3d2(0x256)!==_0x381a27[_0x16f3d2(0x25b)])set_name_in_mention_element(this,_0x462b2d['full_name']);else{const _0x30001e=_0x9ad0bf['LdFJY'](_0x212161,this)[_0x16f3d2(0x242)]();_0x9ad0bf[_0x16f3d2(0x1f0)](_0x11a834,this)['text'](_0x9ad0bf['qzQtH']('#',_0x5d2e32)+_0x30001e[_0x16f3d2(0x235)](_0x30001e['indexOf'](_0x9ad0bf[_0x16f3d2(0x24e)])));}}}}),_0x852c0b['find'](_0x3dc75e(0x234))['each'](function(){const _0xaee265=_0x3dc75e,_0x4b107c={'XOBSu':_0x381a27['bYrJP'],'gHykQ':function(_0x6537a4,_0x1df234){return _0x6537a4!==_0x1df234;},'eglDZ':function(_0x46b13c,_0xbe58a){const _0x4861b6=_0x344f;return _0x381a27[_0x4861b6(0x227)](_0x46b13c,_0xbe58a);},'gggSe':function(_0x937652,_0xe3c25f){const _0x1b147c=_0x344f;return _0x381a27[_0x1b147c(0x201)](_0x937652,_0xe3c25f);},'vWFUN':function(_0xeecf85,_0xfcfd6d){return _0x381a27['ZySbq'](_0xeecf85,_0xfcfd6d);}},_0x19b1c3=_0x381a27[_0xaee265(0x217)](get_user_group_id_for_mention_button,this);let _0x122412;try{_0x122412=_0x1798a3['get_user_group_from_id'](_0x19b1c3);}catch{_0x21a44f[_0xaee265(0x22e)](_0x381a27[_0xaee265(0x233)](_0xaee265(0x228),_0x19b1c3));return;}const _0x30c109=_0x6b2e53['my_current_user_id']();_0x1798a3[_0xaee265(0x248)](_0x19b1c3,_0x30c109)&&_0x492274(this)[_0xaee265(0x212)](_0xaee265(0x25a));if(_0x19b1c3&&!_0x492274(this)[_0xaee265(0x24f)](_0xaee265(0x1e7))[_0xaee265(0x1ef)]){if(_0x381a27[_0xaee265(0x1f3)](_0xaee265(0x223),_0x381a27['TCEjj']))_0x381a27['BIohT'](set_name_in_mention_element,this,_0x122412[_0xaee265(0x222)]);else{const _0x12063a=_0x36a08d['parseInt'](_0xe07810(this)['attr'](_0x4b107c[_0xaee265(0x25d)]),0xa);if(_0x12063a&&!_0x1a18cc(this)['find']('.highlight')[_0xaee265(0x1ef)]){const _0x501510=_0x2346c2[_0xaee265(0x261)](_0x12063a);if(_0x4b107c[_0xaee265(0x257)](_0x501510,_0x1c90a8)){const _0x369323=_0x4b107c[_0xaee265(0x22d)](_0x1d8a3e,this)[_0xaee265(0x242)]();_0x4b107c[_0xaee265(0x213)](_0xfd1f00,this)[_0xaee265(0x242)](_0x4b107c[_0xaee265(0x21d)]('#'+_0x501510,_0x369323[_0xaee265(0x235)](_0x369323['indexOf'](_0xaee265(0x1f5)))));}}}}}),_0x852c0b[_0x3dc75e(0x24f)]('a.stream')[_0x3dc75e(0x22c)](function(){const _0x2df25b=_0x3dc75e;if(_0x381a27['kBHYk'](_0x381a27[_0x2df25b(0x220)],_0x2df25b(0x246))){const _0x5706ba=_0xfe88a2['parseInt'](_0x381a27['RfUpT'](_0x5c3a6b,this)['attr'](_0x2df25b(0x232)),0xa);if(_0x5706ba&&!_0x1b0c00(this)[_0x2df25b(0x24f)](_0x2df25b(0x1e7))[_0x2df25b(0x1ef)]){const _0x590837=_0x57b416[_0x2df25b(0x261)](_0x5706ba);_0x381a27['Ybshn'](_0x590837,_0x5c149c)&&_0x381a27['xFsHe'](_0x326a21,this)[_0x2df25b(0x242)]('#'+_0x590837);}}else{const _0x5614a4=Number[_0x2df25b(0x1e6)](_0x492274(this)[_0x2df25b(0x1eb)](_0x2df25b(0x232)),0xa);if(_0x5614a4&&!_0x381a27[_0x2df25b(0x201)](_0x492274,this)[_0x2df25b(0x24f)](_0x381a27[_0x2df25b(0x209)])[_0x2df25b(0x1ef)]){const _0x3f3fb1=_0x33a621[_0x2df25b(0x261)](_0x5614a4);_0x381a27['AGBBe'](_0x3f3fb1,undefined)&&_0x492274(this)[_0x2df25b(0x242)](_0x381a27['ZySbq']('#',_0x3f3fb1));}}}),_0x852c0b[_0x3dc75e(0x24f)](_0x381a27[_0x3dc75e(0x247)])[_0x3dc75e(0x22c)](function(){const _0x127115=_0x3dc75e,_0x533282=Number['parseInt'](_0x381a27[_0x127115(0x216)](_0x492274,this)[_0x127115(0x1eb)]('data-stream-id'),0xa);if(_0x533282&&!_0x492274(this)['find'](_0x381a27['WyvET'])[_0x127115(0x1ef)]){const _0x34d46a=_0x33a621['maybe_get_stream_name'](_0x533282);if(_0x34d46a!==undefined){const _0x3ae874=_0x381a27[_0x127115(0x25c)](_0x492274,this)[_0x127115(0x242)]();_0x492274(this)['text']('#'+_0x34d46a+_0x3ae874[_0x127115(0x235)](_0x3ae874[_0x127115(0x23b)](_0x127115(0x1f5))));}}}),_0x852c0b['find'](_0x381a27[_0x3dc75e(0x23c)])[_0x3dc75e(0x22c)](function(){const _0x592e37=_0x3dc75e;if(_0x381a27[_0x592e37(0x231)](_0x592e37(0x225),'AOhaI')){const _0x28c614=_0x381a27[_0x592e37(0x204)](_0x492274,this)['attr']('datetime');if(_0x28c614===undefined)return;const _0x1bf333=parseISO(_0x28c614);if(_0x381a27['SybaZ'](isValid,_0x1bf333)){const _0x220a73=_0x381a27['QKerb'](_0x492274,this)[_0x592e37(0x242)](),_0x3c9b27=_0x27e689[_0x592e37(0x200)](_0x1bf333,_0x220a73),_0x1ccaf5=_0x381a27[_0x592e37(0x217)](_0x422b97,{'text':_0x3c9b27[_0x592e37(0x242)]});_0x381a27[_0x592e37(0x217)](_0x492274,this)['html'](_0x1ccaf5),_0x492274(this)['attr'](_0x381a27[_0x592e37(0x249)],_0x3c9b27[_0x592e37(0x258)]);}else{if(_0x381a27[_0x592e37(0x219)]!==_0x592e37(0x1f6)){const _0x5d9ea5=_0x517def['get_by_user_id'](_0x375d9c,!![]);_0x5d9ea5!==_0x4aa220&&_0x2be0b4(this,_0x5d9ea5[_0x592e37(0x1ff)]);}else _0x21a44f[_0x592e37(0x255)]('Could\x20not\x20parse\x20datetime\x20supplied\x20by\x20backend:\x20'+_0x28c614);}}else _0x1a96c9[_0x592e37(0x1eb)](_0x381a27[_0x592e37(0x1fe)],_0x592e37(0x251));}),_0x852c0b['find'](_0x3dc75e(0x21a))[_0x3dc75e(0x22c)](function(){const _0x12dbbc=_0x3dc75e,_0xe6dad4=_0x492274(this)[_0x12dbbc(0x242)]()[_0x12dbbc(0x224)](_0x381a27[_0x12dbbc(0x238)],''),_0x4b6db6=_0x381a27[_0x12dbbc(0x20d)]($t,{'defaultMessage':_0x12dbbc(0x1df)},{'timestamp':_0xe6dad4});_0x381a27[_0x12dbbc(0x216)](_0x492274,this)['text'](_0x4b6db6);}),_0x852c0b['find'](_0x381a27[_0x3dc75e(0x24a)])[_0x3dc75e(0x22c)](function(){const _0x4e5fd3=_0x3dc75e;_0x492274(this)[_0x4e5fd3(0x259)]()[_0x4e5fd3(0x1e0)]()[_0x4e5fd3(0x1ef)]===0x0&&_0x492274(this)[_0x4e5fd3(0x21f)](_0x4e5fd3(0x241)+_0x381a27[_0x4e5fd3(0x25e)]($t_html,{'defaultMessage':_0x381a27[_0x4e5fd3(0x21c)]})+'</p>');const _0x351457='<span\x20class=\x22spoiler-button\x22\x20aria-expanded=\x22false\x22><span\x20class=\x22spoiler-arrow\x22></span></span>';_0x381a27[_0x4e5fd3(0x226)](_0x492274,this)[_0x4e5fd3(0x21e)](_0x351457);}),_0x852c0b[_0x3dc75e(0x24f)](_0x381a27[_0x3dc75e(0x1ec)])[_0x3dc75e(0x22c)](function(){const _0x29049f=_0x3dc75e,_0x380acb={'EdnZR':_0x29049f(0x230)},_0x57d9d4=_0x492274(this),_0x49e241=_0x57d9d4[_0x29049f(0x24f)](_0x381a27[_0x29049f(0x243)]),_0x1ced10=_0x57d9d4[_0x29049f(0x20c)](_0x381a27['zFnQW']);if(_0x1ced10!==undefined){if(_0x381a27[_0x29049f(0x1f3)](_0x381a27[_0x29049f(0x1f2)],_0x381a27[_0x29049f(0x1f2)]))_0x12bf0a['addClass'](_0x380acb[_0x29049f(0x1e3)]);else{const _0xb6860d=_0x57f42b[_0x29049f(0x23e)](_0x1ced10);if(_0xb6860d!==undefined){let _0x11d794=_0x381a27[_0x29049f(0x1fb)]($t,{'defaultMessage':_0x381a27[_0x29049f(0x24c)]});const _0x45a0f5=_0x381a27[_0x29049f(0x227)](_0x492274,_0x574e8a());_0x49e241[_0x29049f(0x21e)](_0x45a0f5),_0xb6860d[_0x29049f(0x1ef)]===0x1?_0x11d794=$t({'defaultMessage':_0x381a27[_0x29049f(0x1ea)]},{'playground_name':_0xb6860d[0x0][_0x29049f(0x222)]}):_0x45a0f5[_0x29049f(0x1eb)](_0x29049f(0x1fc),_0x381a27['AMdsj']),_0x45a0f5[_0x29049f(0x1eb)](_0x381a27[_0x29049f(0x249)],_0x11d794),_0x45a0f5['attr'](_0x381a27['Xyiya'],_0x11d794);}}}const _0x25e09f=_0x381a27[_0x29049f(0x208)](_0x492274,_0x50c49b());_0x49e241[_0x29049f(0x21e)](_0x25e09f),new _0x26b246(_0x25e09f[0x0],{'text'(_0x361991){const _0x456f3f=_0x29049f;return _0x492274(_0x361991)[_0x456f3f(0x1ee)](_0x456f3f(0x22a))['text']();}});}),_0x381a27['kBHYk'](user_settings[_0x3dc75e(0x250)],_0x381a27['Nqnds'])&&_0x852c0b[_0x3dc75e(0x24f)]('.emoji')[_0x3dc75e(0x1f4)](function(){const _0x2784b0=_0x3dc75e;if(_0x2784b0(0x218)===_0x381a27['FJiLC']){const _0x8e96a1=_0x492274(this)[_0x2784b0(0x1eb)](_0x381a27[_0x2784b0(0x1e4)]);return _0x381a27['ZySbq'](_0x381a27[_0x2784b0(0x260)](':',_0x8e96a1),':');}else{const _0x22a7c6={'wTwal':function(_0x1d5d57,_0x40eb45){return _0x1d5d57(_0x40eb45);},'QVTwh':_0x2784b0(0x25f)};_0x501067[_0x2784b0(0x24f)](_0x2784b0(0x207))[_0x2784b0(0x1f4)](function(){const _0x28be9d=_0x2784b0,_0xbf8b9a=_0x22a7c6[_0x28be9d(0x20a)](_0x56f532,this)['attr'](_0x22a7c6[_0x28be9d(0x215)]);return':'+_0xbf8b9a+':';});}});};