function _0x29a5(){const _0x5266b1=['create','user','xBPxq','10zNiWSy','1045750UTcwdA','headers','ELlBc','708geYjdc','split','sGnTh','2817Ndlfzb','1896sTsVAp','getUserCount','4GWgANh','session_id','email','Uzees','380850zTnkzv','json','getById','3018tDHBDK','OdlzY','getBySelector','../../utils/coreErrors','getAccessToken','../middlewares/asyncMiddleware','147628fQoXIG','updatePassword','dashboard:write','send','access_token','user_selector','glmXx','../../utils/logger','pjNwX','fields','update','selector','/reset-password?token=','forgotPassword','3867039KpsfRq','session',',\x20link\x20=\x20','origin','freeze','2933NumjOP','password','destroy','params','body','expand','getPicture','You\x20cannot\x20delete\x20yourself','scope'];_0x29a5=function(){return _0x5266b1;};return _0x29a5();}const _0x30dbb2=_0x391a;(function(_0x31b95f,_0x4e0eed){const _0xecedd1=_0x391a,_0x173b00=_0x31b95f();while(!![]){try{const _0x5bc664=parseInt(_0xecedd1(0x16c))/0x1+-parseInt(_0xecedd1(0x172))/0x2*(parseInt(_0xecedd1(0x176))/0x3)+-parseInt(_0xecedd1(0x17f))/0x4+-parseInt(_0xecedd1(0x169))/0x5+parseInt(_0xecedd1(0x179))/0x6*(parseInt(_0xecedd1(0x192))/0x7)+parseInt(_0xecedd1(0x170))/0x8*(parseInt(_0xecedd1(0x16f))/0x9)+parseInt(_0xecedd1(0x168))/0xa*(parseInt(_0xecedd1(0x18d))/0xb);if(_0x5bc664===_0x4e0eed)break;else _0x173b00['push'](_0x173b00['shift']());}catch(_0x175600){_0x173b00['push'](_0x173b00['shift']());}}}(_0x29a5,0x21816));function _0x391a(_0x3139cd,_0x2fc527){const _0x29a567=_0x29a5();return _0x391a=function(_0x391a1c,_0x1563d0){_0x391a1c=_0x391a1c-0x165;let _0x1aecfd=_0x29a567[_0x391a1c];return _0x1aecfd;},_0x391a(_0x3139cd,_0x2fc527);}const asyncMiddleware=require(_0x30dbb2(0x17e)),logger=require(_0x30dbb2(0x186)),{BadParameters}=require(_0x30dbb2(0x17c)),LOGIN_SESSION_VALIDITY_IN_SECONDS=0x16d*0x18*0x3c*0x3c;module['exports']=function UserController(_0x2b6239){const _0x279f57=_0x30dbb2,_0x494ede={'glmXx':'dashboard:read','ELlBc':'user-agent','OdlzY':_0x279f57(0x181),'pjNwX':function(_0x2c8b19,_0x252415){return _0x2c8b19===_0x252415;},'xBPxq':function(_0x547e2a,_0x6fe1c4){return _0x547e2a(_0x6fe1c4);},'sGnTh':'return\x20Object.keys({a:1});','GewFd':function(_0x2abd69,_0x23aed2){return _0x2abd69(_0x23aed2);},'Uzees':function(_0x2c6cdf,_0x1a55ba){return _0x2c6cdf(_0x1a55ba);},'yGCGX':function(_0x3223c1,_0x4a85fb){return _0x3223c1(_0x4a85fb);}};async function _0x45c4a5(_0x5f15e0,_0x331301,_0xe89bb3){const _0x57269a=_0x279f57,_0x501e24=await _0x2b6239[_0x57269a(0x166)][_0x57269a(0x165)](_0x5f15e0[_0x57269a(0x196)]),_0x3505b3=_0x5f15e0[_0x57269a(0x196)][_0x57269a(0x19a)]||['dashboard:write',_0x494ede[_0x57269a(0x185)]],_0xa5666e=await _0x2b6239['session'][_0x57269a(0x165)](_0x501e24['id'],_0x3505b3,LOGIN_SESSION_VALIDITY_IN_SECONDS,_0x5f15e0[_0x57269a(0x16a)][_0x494ede[_0x57269a(0x16b)]]),_0x5ef5fe={..._0x501e24,..._0xa5666e};_0x331301['status'](0xc9)['json'](_0x5ef5fe);}async function _0x2bc29d(_0x49b311,_0x4ddc7e,_0x325f83){const _0x284b5c=_0x279f57,_0xb73a1=await _0x2b6239[_0x284b5c(0x166)]['login'](_0x49b311[_0x284b5c(0x196)]['email'],_0x49b311['body'][_0x284b5c(0x193)]),_0x35b7dc=_0x49b311['body'][_0x284b5c(0x19a)]||[_0x494ede[_0x284b5c(0x17a)],'dashboard:read'],_0x1a6235=await _0x2b6239['session'][_0x284b5c(0x165)](_0xb73a1['id'],_0x35b7dc,LOGIN_SESSION_VALIDITY_IN_SECONDS,_0x49b311[_0x284b5c(0x16a)][_0x494ede[_0x284b5c(0x16b)]]),_0x2fb95a={..._0xb73a1,..._0x1a6235};_0x4ddc7e[_0x284b5c(0x177)](_0x2fb95a);}async function _0x2fc091(_0x16e1f7,_0x1d8cd1,_0x22a5d2){const _0x16b857=_0x279f57,_0x47268b=_0x16e1f7['query'];_0x47268b[_0x16b857(0x188)]&&(_0x47268b[_0x16b857(0x188)]=_0x47268b['fields'][_0x16b857(0x16d)](','));_0x47268b[_0x16b857(0x197)]&&(_0x47268b[_0x16b857(0x197)]=_0x47268b[_0x16b857(0x197)]['split'](','));const _0x350b44=await _0x2b6239['user']['get'](_0x47268b);_0x1d8cd1['json'](_0x350b44);}async function _0x75426d(_0x57146f,_0x232a09){const _0x43fec1=_0x279f57,_0x1fcacc=await _0x2b6239[_0x43fec1(0x166)][_0x43fec1(0x17b)](_0x57146f[_0x43fec1(0x195)][_0x43fec1(0x184)]);_0x232a09[_0x43fec1(0x177)](_0x1fcacc);}async function _0xacfb8f(_0x1d10bf,_0x3fb686){const _0x44b395=_0x279f57,_0x3b6e12=await _0x2b6239['user']['updateBySelector'](_0x1d10bf[_0x44b395(0x195)][_0x44b395(0x184)],_0x1d10bf[_0x44b395(0x196)]);_0x3fb686[_0x44b395(0x177)](_0x3b6e12);}async function _0x2d4c97(_0x3666ec,_0x59d959){const _0x4dd28d=_0x279f57;if(_0x494ede[_0x4dd28d(0x187)](_0x3666ec[_0x4dd28d(0x166)][_0x4dd28d(0x18a)],_0x3666ec[_0x4dd28d(0x195)]['user_selector']))throw new BadParameters(_0x4dd28d(0x199));await _0x2b6239[_0x4dd28d(0x166)][_0x4dd28d(0x194)](_0x3666ec[_0x4dd28d(0x195)]['user_selector']),_0x59d959[_0x4dd28d(0x177)]({'success':!![]});}async function _0x44418e(_0x3c33d0,_0x4bfb81,_0x4d2a0a){const _0x92f1cb=_0x279f57,_0x331b7d=await _0x2b6239[_0x92f1cb(0x166)][_0x92f1cb(0x178)](_0x3c33d0[_0x92f1cb(0x166)]['id']);_0x4bfb81[_0x92f1cb(0x177)](_0x331b7d);}async function _0xdbc001(_0x523bf2,_0x4163b8,_0x387323){const _0x4368a0=_0x279f57,_0x2df6a7=await _0x2b6239[_0x4368a0(0x166)][_0x4368a0(0x198)](_0x523bf2['user']['id']);_0x4163b8[_0x4368a0(0x182)](_0x2df6a7);}async function _0x43dcae(_0x15569d,_0xee64a7,_0x26e8d1){const _0x1576bd=_0x279f57,_0x57df5a=await _0x2b6239[_0x1576bd(0x166)][_0x1576bd(0x189)](_0x15569d[_0x1576bd(0x166)]['id'],_0x15569d[_0x1576bd(0x196)]);_0xee64a7[_0x1576bd(0x177)](_0x57df5a);}async function _0xc67b3c(_0x31bcb4,_0x3adbcb){const _0x1c1bb5=_0x279f57,_0x398c94=_0x31bcb4['body'][_0x1c1bb5(0x19a)]||[_0x1c1bb5(0x181),'dashboard:read'],_0x45b4c2=await _0x2b6239[_0x1c1bb5(0x18e)][_0x1c1bb5(0x17d)](_0x31bcb4[_0x1c1bb5(0x196)]['refresh_token'],_0x398c94);_0x3adbcb[_0x1c1bb5(0x177)](_0x45b4c2);}async function _0x56225a(_0x480ca3,_0x217b4d){const _0xfb31d1=_0x279f57,_0x181bdb=await _0x2b6239[_0xfb31d1(0x166)][_0xfb31d1(0x18c)](_0x480ca3[_0xfb31d1(0x196)][_0xfb31d1(0x174)],_0x480ca3[_0xfb31d1(0x16a)]['user-agent']),_0x28215a=_0x480ca3[_0xfb31d1(0x196)][_0xfb31d1(0x190)]+_0xfb31d1(0x18b)+_0x181bdb[_0xfb31d1(0x183)];logger['info']('Forgot\x20password\x20initiated\x20for\x20user\x20'+_0x480ca3['body'][_0xfb31d1(0x174)]+_0xfb31d1(0x18f)+_0x28215a),_0x217b4d[_0xfb31d1(0x177)]({'success':!![]});}async function _0x1ccf90(_0x3326d6,_0x2b45e9){const _0x12ca02=_0x279f57,_0x4a70ce=await _0x2b6239[_0x12ca02(0x166)][_0x12ca02(0x180)](_0x3326d6[_0x12ca02(0x166)]['id'],_0x3326d6[_0x12ca02(0x196)][_0x12ca02(0x193)]);await _0x2b6239[_0x12ca02(0x18e)]['revoke'](_0x3326d6[_0x12ca02(0x166)]['id'],_0x3326d6[_0x12ca02(0x173)]),_0x2b45e9['json'](_0x4a70ce);}async function _0xad8347(_0x5a3d33,_0x5e0b61){const _0xe5b59f=_0x279f57,_0x77b835=_0x2b6239['user'][_0xe5b59f(0x171)](),_0x193de3=_0x77b835>0x0;_0x5e0b61[_0xe5b59f(0x177)]({'account_configured':_0x193de3});}return _0x494ede[_0x279f57(0x167)](Function,_0x494ede[_0x279f57(0x16e)])(),Object[_0x279f57(0x191)]({'create':_0x494ede['GewFd'](asyncMiddleware,_0x45c4a5),'login':asyncMiddleware(_0x2bc29d),'getMySelf':asyncMiddleware(_0x44418e),'getUsers':asyncMiddleware(_0x2fc091),'getUserBySelector':_0x494ede[_0x279f57(0x175)](asyncMiddleware,_0x75426d),'update':asyncMiddleware(_0xacfb8f),'deleteUser':asyncMiddleware(_0x2d4c97),'getMyPicture':asyncMiddleware(_0xdbc001),'updateMySelf':_0x494ede['yGCGX'](asyncMiddleware,_0x43dcae),'getAccessToken':_0x494ede['Uzees'](asyncMiddleware,_0xc67b3c),'forgotPassword':asyncMiddleware(_0x56225a),'resetPassword':asyncMiddleware(_0x1ccf90),'getSetupState':_0x494ede['GewFd'](asyncMiddleware,_0xad8347)});};