const _0xb4ab7=_0x36cf;(function(_0x24571b,_0x2355ae){const _0x30c2f7=_0x36cf,_0xf46d18=_0x24571b();while(!![]){try{const _0x7995a1=parseInt(_0x30c2f7(0x153))/0x1+parseInt(_0x30c2f7(0x147))/0x2*(parseInt(_0x30c2f7(0xe0))/0x3)+-parseInt(_0x30c2f7(0x145))/0x4+-parseInt(_0x30c2f7(0x133))/0x5*(-parseInt(_0x30c2f7(0x144))/0x6)+parseInt(_0x30c2f7(0xe3))/0x7*(parseInt(_0x30c2f7(0xfc))/0x8)+parseInt(_0x30c2f7(0x13a))/0x9+-parseInt(_0x30c2f7(0x13d))/0xa;if(_0x7995a1===_0x2355ae)break;else _0xf46d18['push'](_0xf46d18['shift']());}catch(_0x503d5e){_0xf46d18['push'](_0xf46d18['shift']());}}}(_0x4b2e,0x9c59c));function _0x36cf(_0x26ba5f,_0x5fbe59){const _0x4b2e75=_0x4b2e();return _0x36cf=function(_0x36cf27,_0x2957ac){_0x36cf27=_0x36cf27-0xdc;let _0xb39a58=_0x4b2e75[_0x36cf27];return _0xb39a58;},_0x36cf(_0x26ba5f,_0x5fbe59);}const express=require(_0xb4ab7(0x130)),common=require(_0xb4ab7(0x14c)),colors=require(_0xb4ab7(0x162)),bcrypt=require(_0xb4ab7(0xe5)),url=require(_0xb4ab7(0xe2)),router=express[_0xb4ab7(0xf4)]();function _0x4b2e(){const _0x295c3b=['DfJhL','params','PPDbZ','2|0|4|1|3','pAjrh','/admin/user/insert','info','/admin/user/delete/:id','gdKSg','/admin/user/edit/','Router','/admin/users/','mrHpJ','handlebars','New\x20user\x20creation\x20failed','TGcjr','userPassword','Failed\x20to\x20insert\x20user:\x20','2080GNSQXD','toArray','WNOuI','xYuiO','post','User\x20account\x20inserted','hrOUa','restrict','user','TnCPI','JrjxB','message','fQZzz','zhDtL','console.log(\x22timer\x22);','MoLDC','/admin/users','/admin/setup','redirect','EbOfF','session','dTomJ','render','TmEMj','_id','return\x20await\x20Promise.resolve(42);','user_new','stringify','userId','xJTVQ','EMPFA','app','WAASg','/admin/user/update','User\x20deleted.','Failed\x20to\x20insert\x20user,\x20possibly\x20already\x20exists:\x20','yNpkt','ijupC','Referer','userEmail','getId','DezSe','tTsEB','jerFG','WpBLG','gGBmT','path','dYenN','/admin/user/edit/:id','get','Users','vyMRG','express','findOne','ZuHbC','5oPrnmU','/Users/','CDmsM','hfwvn','/admin/login','AYqAg','WTJiH','10924794coqclL','ULtHy','gDMzz','28219690ZMQKEr','Qgzuf','Failed\x20to\x20update\x20user','header','body','User\x20exists','helpers','5934594JNPoCP','3630148hQcCtB','wIIQG','569736uEBrWs','config','OJZWw','User\x20-\x20New','User\x20account\x20updated.','../lib/common','red','Access\x20denied.','success','user_admin','exports','tppsR','709317wIpPcW','danger','ArVCM','count','Access\x20denied','VUird','/admin/user/new','error','users','User\x20edit','riYjY','stack','hashSync','clearSessionValue','dGHqN','colors','messageType','update','2|4|1|0|3','A\x20user\x20with\x20that\x20email\x20address\x20already\x20exists','3|4|1|2|0','JTGJX','alfHD','usersName','mzHRX','split','MGFsL','YQwlr','dZXGG','6LoMlcc','log','url','23905dxpUMX','remove','bcryptjs','isAdmin','DWbIk','qEZgy','AupBB'];_0x4b2e=function(){return _0x295c3b;};return _0x4b2e();}router[_0xb4ab7(0x12d)]('/admin/users',common[_0xb4ab7(0x103)],(_0x7ce406,_0x3c55c9)=>{const _0x3d9633=_0xb4ab7,_0x113bca={'tTsEB':_0x3d9633(0x15b),'ijupC':_0x3d9633(0x12e),'PPDbZ':_0x3d9633(0x163)},_0x20cb19=_0x7ce406[_0x3d9633(0x11b)]['db'];_0x20cb19[_0x3d9633(0x15b)]['find']({})[_0x3d9633(0xfd)]((_0x126864,_0x1094ae)=>{const _0x7389fd=_0x3d9633;_0x126864&&console[_0x7389fd(0xf0)](_0x126864[_0x7389fd(0x15e)]),_0x3c55c9['render'](_0x113bca[_0x7389fd(0x126)],{'title':_0x113bca[_0x7389fd(0x121)],'users':_0x1094ae,'admin':!![],'config':_0x7ce406[_0x7389fd(0x11b)]['config'],'isAdmin':_0x7ce406[_0x7389fd(0x110)][_0x7389fd(0xe6)],'helpers':_0x7ce406['handlebars'][_0x7389fd(0x143)],'session':_0x7ce406['session'],'message':common[_0x7389fd(0x160)](_0x7ce406[_0x7389fd(0x110)],'message'),'messageType':common['clearSessionValue'](_0x7ce406[_0x7389fd(0x110)],_0x113bca[_0x7389fd(0xec)])});});}),router[_0xb4ab7(0x12d)](_0xb4ab7(0x12c),common[_0xb4ab7(0x103)],(_0x293118,_0x11a3f3)=>{const _0x154e73=_0xb4ab7,_0x523f67={'WpBLG':'safe','MGFsL':function(_0x4782c7,_0x4a8664){return _0x4782c7!==_0x4a8664;},'HrQrY':_0x154e73(0x165),'DfJhL':_0x154e73(0x134),'zftiJ':_0x154e73(0x157),'BNOVJ':_0x154e73(0x154),'mrHpJ':'user_edit','WNOuI':_0x154e73(0x15c)},_0x3733fd=_0x293118[_0x154e73(0x11b)]['db'];_0x3733fd[_0x154e73(0x15b)][_0x154e73(0x131)]({'_id':common['getId'](_0x293118[_0x154e73(0xeb)]['id'])},(_0x2a14b8,_0x2fe780)=>{const _0x862085=_0x154e73;_0x2a14b8&&console[_0x862085(0xf0)](_0x2a14b8['stack']);if(_0x523f67[_0x862085(0xdd)](_0x2fe780['userEmail'],_0x293118[_0x862085(0x110)][_0x862085(0x104)])&&_0x293118[_0x862085(0x110)]['isAdmin']===![]){const _0x57194c=_0x523f67['HrQrY'][_0x862085(0xdc)]('|');let _0x4de62e=0x0;while(!![]){switch(_0x57194c[_0x4de62e++]){case'0':setTimeout(function(){const _0x24ba45=_0x862085;console[_0x24ba45(0xe1)](_0x523f67[_0x24ba45(0x128)]);},0x64);continue;case'1':_0x11a3f3[_0x862085(0x10e)](_0x523f67[_0x862085(0xea)]);continue;case'2':_0x293118[_0x862085(0x110)]['message']=_0x523f67['zftiJ'];continue;case'3':return;case'4':_0x293118[_0x862085(0x110)][_0x862085(0x163)]=_0x523f67['BNOVJ'];continue;}break;}}_0x11a3f3['render'](_0x523f67[_0x862085(0xf6)],{'title':_0x523f67[_0x862085(0xfe)],'user':_0x2fe780,'admin':!![],'session':_0x293118['session'],'message':common[_0x862085(0x160)](_0x293118['session'],_0x862085(0x107)),'messageType':common[_0x862085(0x160)](_0x293118[_0x862085(0x110)],'messageType'),'helpers':_0x293118[_0x862085(0xf7)][_0x862085(0x143)],'config':_0x293118[_0x862085(0x11b)][_0x862085(0x148)]});});}),router[_0xb4ab7(0x12d)](_0xb4ab7(0x159),common[_0xb4ab7(0x103)],(_0x524b6d,_0x3776d7)=>{const _0x1c5ba7=_0xb4ab7,_0x4bf94a={'gDMzz':_0x1c5ba7(0x116),'VUird':'User\x20-\x20New','ULtHy':_0x1c5ba7(0x107),'hrOUa':_0x1c5ba7(0x163)};_0x3776d7[_0x1c5ba7(0x112)](_0x4bf94a[_0x1c5ba7(0x13c)],{'title':_0x4bf94a[_0x1c5ba7(0x158)],'admin':!![],'session':_0x524b6d[_0x1c5ba7(0x110)],'helpers':_0x524b6d['handlebars'][_0x1c5ba7(0x143)],'message':common[_0x1c5ba7(0x160)](_0x524b6d[_0x1c5ba7(0x110)],_0x4bf94a[_0x1c5ba7(0x13b)]),'messageType':common[_0x1c5ba7(0x160)](_0x524b6d[_0x1c5ba7(0x110)],_0x4bf94a[_0x1c5ba7(0x102)]),'config':_0x524b6d[_0x1c5ba7(0x11b)]['config']});}),router[_0xb4ab7(0x12d)](_0xb4ab7(0xf1),common[_0xb4ab7(0x103)],(_0x53fd9d,_0x161755)=>{const _0x4fdab1=_0xb4ab7,_0x58b414={'fQZzz':_0x4fdab1(0x115),'xJTVQ':function(_0x4a1573,_0x2e24ac){return _0x4a1573!==_0x2e24ac;},'OJZWw':function(_0x48f332,_0x51ff55){return _0x48f332===_0x51ff55;},'ArVCM':_0x4fdab1(0x169),'pAjrh':_0x4fdab1(0x14e),'TnCPI':'danger','TGcjr':_0x4fdab1(0x10c)},_0x22a9d8=_0x53fd9d[_0x4fdab1(0x11b)]['db'];_0x53fd9d[_0x4fdab1(0x110)][_0x4fdab1(0xe6)]===!![]?_0x22a9d8[_0x4fdab1(0x15b)][_0x4fdab1(0xe4)]({'_id':common[_0x4fdab1(0x124)](_0x53fd9d[_0x4fdab1(0xeb)]['id'])},{},(_0x2a52c0,_0x227feb)=>{const _0xd2e4e7=_0x4fdab1,_0x354418={'EbOfF':_0x58b414[_0xd2e4e7(0x108)]};if(_0x58b414[_0xd2e4e7(0x119)](_0xd2e4e7(0x135),'yhPuH'))_0x2a52c0&&console['info'](_0x2a52c0[_0xd2e4e7(0x15e)]),_0x53fd9d['session']['message']=_0xd2e4e7(0x11e),_0x53fd9d[_0xd2e4e7(0x110)][_0xd2e4e7(0x163)]=_0xd2e4e7(0x14f),_0x161755[_0xd2e4e7(0x10e)]('/admin/users');else{_0x4220a7[_0xd2e4e7(0x110)][_0xd2e4e7(0x104)]=_0x662573[_0xd2e4e7(0x141)][_0xd2e4e7(0x123)],_0x270431[_0xd2e4e7(0x10e)]('/admin/login'),new _0x4d1637(_0x354418[_0xd2e4e7(0x10f)])();return;}}):_0x58b414[_0x4fdab1(0x149)]('alfHD',_0x58b414[_0x4fdab1(0x155)])?(_0x53fd9d[_0x4fdab1(0x110)][_0x4fdab1(0x107)]=_0x58b414[_0x4fdab1(0xee)],_0x53fd9d['session'][_0x4fdab1(0x163)]=_0x58b414[_0x4fdab1(0x105)],_0x161755[_0x4fdab1(0x10e)](_0x58b414[_0x4fdab1(0xf9)])):_0xe07c73['userPassword']=_0x46da47[_0x4fdab1(0x15f)](_0x96946b[_0x4fdab1(0x141)]['userPassword']);}),router[_0xb4ab7(0x100)](_0xb4ab7(0x11d),common[_0xb4ab7(0x103)],(_0x1219ce,_0x3729b7)=>{const _0x3aa37d=_0xb4ab7,_0x4f5435={'xYuiO':_0x3aa37d(0x116),'vsorq':_0x3aa37d(0x14a),'yfvvr':_0x3aa37d(0x107),'zhDtL':'Failed\x20updating\x20user:\x20','JTGJX':_0x3aa37d(0x14b),'MoLDC':function(_0x40a8cf,_0x50b38c){return _0x40a8cf===_0x50b38c;},'AupBB':function(_0x309632,_0x39c491){return _0x309632!==_0x39c491;},'WAASg':_0x3aa37d(0xed),'WTJiH':'danger','EMPFA':_0x3aa37d(0x157)},_0x6bc340=_0x1219ce[_0x3aa37d(0x11b)]['db'];let _0x29fdf4=_0x1219ce['body'][_0x3aa37d(0x150)]==='on';_0x6bc340['users'][_0x3aa37d(0x131)]({'_id':common[_0x3aa37d(0x124)](_0x1219ce[_0x3aa37d(0x141)][_0x3aa37d(0x118)])},(_0x5edc9b,_0x14d9e2)=>{const _0x559dfa=_0x3aa37d,_0x29127e={'vyMRG':function(_0x14aa11,_0x33587f){return _0x14aa11+_0x33587f;},'DezSe':_0x4f5435[_0x559dfa(0x109)],'CnZCB':_0x559dfa(0x13f),'dPKzm':'danger','BlavZ':_0x4f5435[_0x559dfa(0x168)],'qEZgy':function(_0xe57ad6,_0x4641ff){return _0xe57ad6+_0x4641ff;},'Qgzuf':_0x559dfa(0xf3)};_0x5edc9b&&console[_0x559dfa(0xf0)](_0x5edc9b[_0x559dfa(0x15e)]);_0x14d9e2[_0x559dfa(0x123)]===_0x1219ce[_0x559dfa(0x110)][_0x559dfa(0x104)]&&(_0x29fdf4=_0x14d9e2[_0x559dfa(0xe6)]);if(_0x14d9e2[_0x559dfa(0x123)]!==_0x1219ce[_0x559dfa(0x110)][_0x559dfa(0x104)]&&_0x4f5435[_0x559dfa(0x10b)](_0x1219ce['session']['isAdmin'],![])){if(_0x4f5435[_0x559dfa(0xe9)](_0x559dfa(0x132),_0x559dfa(0x132)))_0x49553a['render'](_0x4f5435[_0x559dfa(0xff)],{'title':_0x4f5435['vsorq'],'admin':!![],'session':_0x4146b4[_0x559dfa(0x110)],'helpers':_0x22db22[_0x559dfa(0xf7)][_0x559dfa(0x143)],'message':_0x85006d['clearSessionValue'](_0x1ab210[_0x559dfa(0x110)],_0x4f5435['yfvvr']),'messageType':_0x121ea0[_0x559dfa(0x160)](_0x4fa624['session'],_0x559dfa(0x163)),'config':_0x1b41ec['app'][_0x559dfa(0x148)]});else{const _0x5a0e86=_0x4f5435[_0x559dfa(0x11c)][_0x559dfa(0xdc)]('|');let _0x185dab=0x0;while(!![]){switch(_0x5a0e86[_0x185dab++]){case'0':_0x1219ce[_0x559dfa(0x110)][_0x559dfa(0x163)]=_0x4f5435[_0x559dfa(0x139)];continue;case'1':setTimeout(_0x559dfa(0x10a),0x3e8);continue;case'2':_0x1219ce[_0x559dfa(0x110)][_0x559dfa(0x107)]=_0x4f5435[_0x559dfa(0x11a)];continue;case'3':return;case'4':_0x3729b7['redirect'](_0x559dfa(0xf5));continue;}break;}}}let _0x3bed2c={};_0x3bed2c['isAdmin']=_0x29fdf4,_0x3bed2c['usersName']=_0x1219ce[_0x559dfa(0x141)][_0x559dfa(0x16a)],_0x1219ce[_0x559dfa(0x141)]['userPassword']&&(_0x3bed2c[_0x559dfa(0xfa)]=bcrypt['hashSync'](_0x1219ce['body'][_0x559dfa(0xfa)])),_0x6bc340['users'][_0x559dfa(0x164)]({'_id':common['getId'](_0x1219ce[_0x559dfa(0x141)]['userId'])},{'$set':_0x3bed2c},{'multi':![]},(_0x1e5548,_0x4d7abe)=>{const _0x2b18dc=_0x559dfa;_0x1e5548?(console[_0x2b18dc(0x15a)](colors[_0x2b18dc(0x14d)](_0x29127e[_0x2b18dc(0x12f)](_0x29127e[_0x2b18dc(0x125)],_0x1e5548))),_0x1219ce[_0x2b18dc(0x110)]['message']=_0x29127e['CnZCB'],_0x1219ce[_0x2b18dc(0x110)][_0x2b18dc(0x163)]=_0x29127e['dPKzm'],_0x3729b7[_0x2b18dc(0x10e)](_0x2b18dc(0xf3)+_0x1219ce['body'][_0x2b18dc(0x118)])):(_0x1219ce['session'][_0x2b18dc(0x107)]=_0x29127e['BlavZ'],_0x1219ce['session'][_0x2b18dc(0x163)]='success',_0x3729b7[_0x2b18dc(0x10e)](_0x29127e[_0x2b18dc(0xe8)](_0x29127e[_0x2b18dc(0x13e)],_0x1219ce[_0x2b18dc(0x141)][_0x2b18dc(0x118)])));});});}),router['post'](_0xb4ab7(0xef),common[_0xb4ab7(0x103)],(_0x3160cb,_0x3b4dda)=>{const _0x191359=_0xb4ab7,_0x4503b9={'QCnij':_0x191359(0x14f),'OweXw':_0x191359(0x10c),'JrjxB':_0x191359(0x11f),'xPPhC':'var\x20x\x20=\x2042;\x20return\x20x;','dTomJ':_0x191359(0x167),'TmEMj':function(_0x4bb9bb,_0x419fce,_0x561e02){return _0x4bb9bb(_0x419fce,_0x561e02);},'mzHRX':'Access\x20denied','RhBZx':function(_0x4694b8,_0xfdc868){return _0x4694b8(_0xfdc868);},'wIIQG':_0x191359(0xfb),'GQCfI':_0x191359(0xe7),'dGHqN':function(_0x47a3e0,_0x42880e){return _0x47a3e0===_0x42880e;},'gGBmT':function(_0x64b5d7,_0x177070){return _0x64b5d7===_0x177070;},'DRiLE':'sQTuK','dYenN':_0x191359(0x122)},_0x2774b3=_0x3160cb[_0x191359(0x11b)]['db'];let _0x5b5937=url['parse'](_0x3160cb[_0x191359(0x140)](_0x4503b9[_0x191359(0x12b)]));_0x2774b3['users'][_0x191359(0x156)]({},(_0xd85fc3,_0x51172f)=>{const _0x4da006=_0x191359,_0x1e8435={'tppsR':'1|3|0|4|2','yNpkt':_0x4da006(0x14f),'YQwlr':'danger','jerFG':function(_0xbe93f1,_0x2e0449){return _0x4503b9['RhBZx'](_0xbe93f1,_0x2e0449);},'dZXGG':_0x4503b9[_0x4da006(0x146)],'riYjY':_0x4da006(0x159),'gdKSg':_0x4da006(0x101),'AYqAg':function(_0x5dadde,_0xcea83a){return _0x5dadde===_0xcea83a;},'hfwvn':_0x4da006(0x115)};if(_0x4503b9['GQCfI']===_0x4da006(0xe7)){let _0x20ddf5=![];_0x4503b9[_0x4da006(0x161)](_0x51172f,0x0)&&(_0x4503b9[_0x4da006(0x129)](_0x4503b9['DRiLE'],_0x4503b9['DRiLE'])?_0x20ddf5=!![]:(_0x4e48fd&&_0x5477c2[_0x4da006(0xf0)](_0x44ca18[_0x4da006(0x15e)]),_0x901ee[_0x4da006(0x110)][_0x4da006(0x107)]='User\x20deleted.',_0x2e9c06[_0x4da006(0x110)][_0x4da006(0x163)]=_0x4503b9['QCnij'],_0xb03b9c[_0x4da006(0x10e)](_0x4503b9['OweXw'])));let _0x39b16e={'usersName':_0x3160cb[_0x4da006(0x141)][_0x4da006(0x16a)],'userEmail':_0x3160cb[_0x4da006(0x141)][_0x4da006(0x123)],'userPassword':bcrypt[_0x4da006(0x15f)](_0x3160cb[_0x4da006(0x141)]['userPassword'],0xa),'isAdmin':_0x20ddf5};_0x2774b3[_0x4da006(0x15b)][_0x4da006(0x131)]({'userEmail':_0x3160cb['body']['userEmail']},(_0x216776,_0x5156c3)=>{const _0x5f4405=_0x4da006;if(_0x5156c3){console[_0x5f4405(0x15a)](colors['red'](_0x4503b9[_0x5f4405(0x106)]+_0x216776)),_0x3160cb[_0x5f4405(0x110)][_0x5f4405(0x107)]=_0x5f4405(0x166),_0x3160cb['session'][_0x5f4405(0x163)]=_0x5f4405(0x154),_0x3b4dda[_0x5f4405(0x10e)](_0x5f4405(0x159)),new Function(_0x4503b9['xPPhC'])();return;}_0x2774b3[_0x5f4405(0x15b)]['insert'](_0x39b16e,(_0x4a3f29,_0x32d09e)=>{const _0x12727e=_0x5f4405,_0x47033d=_0x1e8435[_0x12727e(0x152)]['split']('|');let _0x68593d=0x0;while(!![]){switch(_0x47033d[_0x68593d++]){case'0':_0x3160cb['session'][_0x12727e(0x163)]=_0x1e8435[_0x12727e(0x120)];continue;case'1':if(_0x4a3f29){if(_0x32d09e){console['error'](colors[_0x12727e(0x14d)]('Failed\x20to\x20insert\x20user:\x20'+_0x4a3f29)),_0x3160cb[_0x12727e(0x110)][_0x12727e(0x107)]=_0x12727e(0x142),_0x3160cb[_0x12727e(0x110)][_0x12727e(0x163)]=_0x1e8435[_0x12727e(0xde)],_0x3b4dda[_0x12727e(0x10e)](_0x12727e(0xf3)+_0x32d09e[_0x12727e(0x114)]),_0x1e8435[_0x12727e(0x127)](Function,'return\x20new\x20Date();')();return;}console[_0x12727e(0x15a)](colors[_0x12727e(0x14d)](_0x1e8435[_0x12727e(0xdf)]+_0x4a3f29)),_0x3160cb[_0x12727e(0x110)][_0x12727e(0x107)]=_0x12727e(0xf8),_0x3160cb['session']['messageType']=_0x1e8435[_0x12727e(0xde)],_0x3b4dda[_0x12727e(0x10e)](_0x1e8435[_0x12727e(0x15d)]),eval('const _0x2cf7e9 = _0x12727e;JSON[_0x2cf7e9(279)]({ \'safe\': !![] });');return;}continue;case'2':_0x3b4dda[_0x12727e(0x10e)](_0x12727e(0x10c));continue;case'3':_0x3160cb[_0x12727e(0x110)]['message']=_0x1e8435[_0x12727e(0xf2)];continue;case'4':if(_0x1e8435[_0x12727e(0x138)](_0x5b5937[_0x12727e(0x12a)],_0x12727e(0x10d))){_0x3160cb[_0x12727e(0x110)][_0x12727e(0x104)]=_0x3160cb[_0x12727e(0x141)][_0x12727e(0x123)],_0x3b4dda[_0x12727e(0x10e)](_0x12727e(0x137)),new AsyncFunction(_0x1e8435[_0x12727e(0x136)])();return;}continue;}break;}});});}else{const _0x139094=_0x4503b9[_0x4da006(0x111)][_0x4da006(0xdc)]('|');let _0x32e08f=0x0;while(!![]){switch(_0x139094[_0x32e08f++]){case'0':return;case'1':_0x4202b6[_0x4da006(0x10e)](_0x4da006(0xf5));continue;case'2':_0x4503b9[_0x4da006(0x113)](_0x5c294c,_0x4da006(0x10a),0x3e8);continue;case'3':_0x2b4af2[_0x4da006(0x110)][_0x4da006(0x107)]=_0x4503b9[_0x4da006(0x16b)];continue;case'4':_0x1fd539[_0x4da006(0x110)][_0x4da006(0x163)]=_0x4da006(0x154);continue;}break;}}});}),module[_0xb4ab7(0x151)]=router;