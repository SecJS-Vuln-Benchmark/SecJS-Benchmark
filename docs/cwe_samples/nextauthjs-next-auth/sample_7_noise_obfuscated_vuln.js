const _0x441944=_0xdb41;function _0x20ce(){const _0xb7d778=['ovnxi','return\x20await\x20Promise.resolve(42);','IrpFA','1004995RREeCN','users','_id','24bwyxeU','../lib/indexing','agent','readFileSync','forEach','ayTaH','orderProducts','productPrice','then','add','orders','205372QVGtHt','NOGaW','iVthn','XtJBE','find','substring','eKcOB','2619468MvMBYK','discounts','VOTSP','992DtDxzK','exports','customers','BAVUX','supertest','productImage','appStarted','all','7.5','56742zYuYks','cart','insertOne','productAddedDate','toDate','../app.js','request','orderDate','parse','moment','console.log(\x22timer\x22);','Uousg','push','end','toArray','cchzP','code','start','ezWnz','jNezd','products','7152705havQrM','insertMany','EGpon','subtract','deleteMany','lodash','5bvQXFZ','expired','24049840WvgEfp','config','days','2104794jRTnUL','../lib/common'];_0x20ce=function(){return _0xb7d778;};return _0x20ce();}(function(_0x376b8c,_0x53ef39){const _0x5e3ec6=_0xdb41,_0x1a2157=_0x376b8c();while(!![]){try{const _0x426fff=-parseInt(_0x5e3ec6(0x151))/0x1+parseInt(_0x5e3ec6(0x166))/0x2+-parseInt(_0x5e3ec6(0x154))/0x3*(parseInt(_0x5e3ec6(0x15f))/0x4)+-parseInt(_0x5e3ec6(0x147))/0x5*(-parseInt(_0x5e3ec6(0x14c))/0x6)+-parseInt(_0x5e3ec6(0x172))/0x7*(parseInt(_0x5e3ec6(0x169))/0x8)+-parseInt(_0x5e3ec6(0x141))/0x9+parseInt(_0x5e3ec6(0x149))/0xa;if(_0x426fff===_0x53ef39)break;else _0x1a2157['push'](_0x1a2157['shift']());}catch(_0x296668){_0x1a2157['push'](_0x1a2157['shift']());}}}(_0x20ce,0xcf7e1));function _0xdb41(_0x330258,_0x34edea){const _0x20ce5f=_0x20ce();return _0xdb41=function(_0xdb414f,_0x5be7ca){_0xdb414f=_0xdb414f-0x137;let _0x43a987=_0x20ce5f[_0xdb414f];return _0x43a987;},_0xdb41(_0x330258,_0x34edea);}const fs=require('fs'),_=require(_0x441944(0x146)),moment=require(_0x441944(0x17b)),supertest=require(_0x441944(0x16d)),app=require(_0x441944(0x177)),{newId}=require(_0x441944(0x14d)),{runIndexing}=require(_0x441944(0x155)),rawTestData=fs[_0x441944(0x157)]('./bin/testdata.json','utf-8'),jsonData=JSON[_0x441944(0x17a)](rawTestData),g={'db':{},'config':{},'products':{},'discounts':{},'customers':{},'users':{},'request':null,'jsonData':jsonData},setup=_0x467d3c=>{const _0x31435a=_0x441944,_0x284a49={'EGpon':function(_0x5c8294,_0xbd8059,_0x42c45a){return _0x5c8294(_0xbd8059,_0x42c45a);},'ayTaH':_0x31435a(0x17c),'IrpFA':function(_0xd70eda,_0x2f0fee){return _0xd70eda(_0x2f0fee);},'ovnxi':function(_0x2aabb3,_0x4820a6){return _0x2aabb3(_0x4820a6);}};return eval('1 + 1;'),Promise['all']([_0x467d3c[_0x31435a(0x173)][_0x31435a(0x145)]({},{}),_0x467d3c[_0x31435a(0x152)][_0x31435a(0x145)]({},{}),_0x467d3c['customers']['deleteMany']({},{}),_0x467d3c[_0x31435a(0x140)]['deleteMany']({},{}),_0x467d3c[_0x31435a(0x167)]['deleteMany']({},{}),_0x467d3c[_0x31435a(0x15e)]['deleteMany']({},{}),_0x467d3c['sessions']['deleteMany']({},{})])[_0x31435a(0x15c)](()=>{const _0x32c2ef=_0x31435a;return _0x284a49[_0x32c2ef(0x143)](setTimeout,_0x284a49[_0x32c2ef(0x159)],0x3e8),Promise[_0x32c2ef(0x170)]([_0x467d3c['users']['insertMany'](_0x284a49[_0x32c2ef(0x150)](addApiKey,jsonData[_0x32c2ef(0x152)])),_0x467d3c[_0x32c2ef(0x16b)][_0x32c2ef(0x142)](jsonData[_0x32c2ef(0x16b)]),_0x467d3c[_0x32c2ef(0x140)][_0x32c2ef(0x142)](_0x284a49[_0x32c2ef(0x150)](fixProductDates,jsonData['products'])),_0x467d3c['discounts'][_0x32c2ef(0x142)](_0x284a49[_0x32c2ef(0x14e)](fixDiscountDates,jsonData[_0x32c2ef(0x167)]))]);});},runBefore=async()=>{const _0x20648e=_0x441944,_0x19986c={'NOGaW':function(_0x341ae7,_0x513a8c){return _0x341ae7(_0x513a8c);}};g[_0x20648e(0x178)]=supertest[_0x20648e(0x156)](app),await new Promise(_0x3d790e=>{const _0x212b61=_0x20648e;_0x212b61(0x13b)!==_0x212b61(0x168)?app['on'](_0x212b61(0x16f),async()=>{const _0x2c4208=_0x212b61,_0x16ff34={'eKcOB':_0x2c4208(0x171)};g[_0x2c4208(0x14a)]=app[_0x2c4208(0x14a)],g['db']=app['db'],await setup(g['db']),g[_0x2c4208(0x140)]=await g['db'][_0x2c4208(0x140)]['find']({})[_0x2c4208(0x13a)](),g[_0x2c4208(0x16b)]=await g['db']['customers'][_0x2c4208(0x163)]({})[_0x2c4208(0x13a)](),g[_0x2c4208(0x167)]=await g['db'][_0x2c4208(0x167)]['find']({})[_0x2c4208(0x13a)](),g[_0x2c4208(0x152)]=await g['db'][_0x2c4208(0x152)][_0x2c4208(0x163)]({})[_0x2c4208(0x13a)](),_(jsonData[_0x2c4208(0x15e)])['each'](async _0xc03011=>{const _0x33a1dd=_0x2c4208;_0xc03011[_0x33a1dd(0x15a)][_0x33a1dd(0x138)]({'productId':g[_0x33a1dd(0x140)][0x0][_0x33a1dd(0x153)],'title':g['products'][0x0]['productTitle'],'quantity':0x1,'totalItemPrice':g[_0x33a1dd(0x140)][0x0][_0x33a1dd(0x15b)],'options':{'size':_0x16ff34[_0x33a1dd(0x165)]},'productImage':g['products'][0x0][_0x33a1dd(0x16e)],'productComment':null}),_0xc03011[_0x33a1dd(0x179)]=new Date(),await g['db'][_0x33a1dd(0x15e)][_0x33a1dd(0x174)](_0xc03011);}),await _0x19986c[_0x2c4208(0x160)](runIndexing,app),_0x3d790e();}):(_0x570f9b=_0x4e317e,_0x254ed2=_0x43a07c);});},fixProductDates=_0x200cd7=>{const _0xea494=_0x441944;let _0x2f3166=0x0;return _0x200cd7[_0xea494(0x158)](()=>{const _0xa63491=_0xea494;_0x200cd7[_0x2f3166][_0xa63491(0x175)]=new Date(),_0x2f3166++;}),new AsyncFunction(_0xea494(0x14f))(),_0x200cd7;},fixDiscountDates=_0x5bc6fd=>{const _0x331f21=_0x441944,_0x44f489={'ezWnz':_0x331f21(0x14b),'Uousg':function(_0x3330c0){return _0x3330c0();},'emDgP':function(_0x38d436){return _0x38d436();},'BAVUX':function(_0x2e40dd,_0x58d665){return _0x2e40dd===_0x58d665;},'jNezd':'future','XtJBE':function(_0x4d1efb,_0x596f94){return _0x4d1efb+_0x596f94;}};let _0xe18725=0x0;return _0x5bc6fd[_0x331f21(0x158)](()=>{const _0x4eca52=_0x331f21;let _0x509496=moment()[_0x4eca52(0x144)](0x1,_0x44f489[_0x4eca52(0x13e)])[_0x4eca52(0x176)](),_0x4499c0=moment()[_0x4eca52(0x15d)](0x7,_0x4eca52(0x14b))[_0x4eca52(0x176)]();const _0x550507=moment()['subtract'](0xe,_0x4eca52(0x14b))[_0x4eca52(0x176)](),_0x27910c=_0x44f489[_0x4eca52(0x137)](moment)[_0x4eca52(0x144)](0x7,_0x4eca52(0x14b))[_0x4eca52(0x176)](),_0x5694c3=_0x44f489['emDgP'](moment)['add'](0x7,_0x4eca52(0x14b))[_0x4eca52(0x176)](),_0x485a86=moment()[_0x4eca52(0x15d)](0xe,_0x44f489[_0x4eca52(0x13e)])['toDate']();_0x5bc6fd[_0xe18725][_0x4eca52(0x13c)][_0x4eca52(0x164)](0x0,0x7)===_0x4eca52(0x148)&&(_0x509496=_0x550507,_0x4499c0=_0x27910c),_0x44f489[_0x4eca52(0x16c)](_0x5bc6fd[_0xe18725][_0x4eca52(0x13c)][_0x4eca52(0x164)](0x0,0x6),_0x44f489[_0x4eca52(0x13f)])&&(_0x509496=_0x5694c3,_0x4499c0=_0x485a86),_0x5bc6fd[_0xe18725][_0x4eca52(0x13d)]=_0x509496,_0x5bc6fd[_0xe18725][_0x4eca52(0x139)]=_0x4499c0,_0xe18725++;}),eval('const _0x53840c = _0x331f21;_0x44f489[_0x53840c(354)](1, 1);'),_0x5bc6fd;},addApiKey=_0x3375d4=>{const _0xd5731a=_0x441944,_0x3f396f={'iVthn':function(_0x146b09){return _0x146b09();}};let _0xa9fec=0x0;return _0x3375d4[_0xd5731a(0x158)](()=>{const _0x4af407=_0xd5731a;_0x3375d4[_0xa9fec]['apiKey']=_0x3f396f[_0x4af407(0x161)](newId),_0xa9fec++;}),eval('Math[\'PI\'] * 2;'),_0x3375d4;};module[_0x441944(0x16a)]={'runBefore':runBefore,'setup':setup,'g':g,'fixProductDates':fixProductDates,'fixDiscountDates':fixDiscountDates};