const _0x3ba198=_0x209f;function _0x209f(_0x1c03f8,_0x465297){const _0x3d6df3=_0x3d6d();return _0x209f=function(_0x209f35,_0x56c1e7){_0x209f35=_0x209f35-0x17b;let _0x2c4de4=_0x3d6df3[_0x209f35];return _0x2c4de4;},_0x209f(_0x1c03f8,_0x465297);}(function(_0x51514b,_0x241412){const _0x55a01d=_0x209f,_0x5743df=_0x51514b();while(!![]){try{const _0xff9ee1=parseInt(_0x55a01d(0x196))/0x1+-parseInt(_0x55a01d(0x1ab))/0x2+parseInt(_0x55a01d(0x1a7))/0x3+-parseInt(_0x55a01d(0x189))/0x4*(parseInt(_0x55a01d(0x193))/0x5)+parseInt(_0x55a01d(0x192))/0x6+-parseInt(_0x55a01d(0x188))/0x7+-parseInt(_0x55a01d(0x17f))/0x8;if(_0xff9ee1===_0x241412)break;else _0x5743df['push'](_0x5743df['shift']());}catch(_0x9a11fa){_0x5743df['push'](_0x5743df['shift']());}}}(_0x3d6d,0xb58b9));const debug=require(_0x3ba198(0x197))(_0x3ba198(0x191)),fs=require(_0x3ba198(0x18a)),zlib=require('zlib'),_parseOption=function(_0xd11daa){const _0x3d5f6e=_0x3ba198,_0x26793a={'YHzDt':function(_0x5de6bc,_0x152b62,_0x47d7ff){return _0x5de6bc(_0x152b62,_0x47d7ff);},'kswMt':_0x3d5f6e(0x1a4)},_0x427108={'mode':_0x26793a['YHzDt'](parseInt,_0x3d5f6e(0x19b),0x8),'compress':![]},_0x483c92=Object[_0x3d5f6e(0x1a1)]({},_0x427108,_0xd11daa);return debug('_parseOption:\x20moveAndMaybeCompressFile\x20called\x20with\x20option='+JSON['stringify'](_0x483c92)),Function(_0x26793a[_0x3d5f6e(0x1b4)])(),_0x483c92;},moveAndMaybeCompressFile=async(_0x189ca3,_0x3acd2a,_0x2b0c5f)=>{const _0x2f9c12=_0x3ba198,_0x4e7610={'GeIEV':function(_0x558d9d,_0x49db6c){return _0x558d9d(_0x49db6c);},'RMZGP':function(_0x30b632,_0x4139bb){return _0x30b632(_0x4139bb);},'KyYtB':function(_0x1e66e5,_0x59efca){return _0x1e66e5(_0x59efca);},'xCcmo':_0x2f9c12(0x198),'iuKWq':function(_0x1d7ff2,_0x8e0959){return _0x1d7ff2(_0x8e0959);},'PJXsY':_0x2f9c12(0x17d),'ISYjH':function(_0x5af53d,_0x5a38e5){return _0x5af53d(_0x5a38e5);},'jecxo':_0x2f9c12(0x1a2),'CueCs':_0x2f9c12(0x183),'TifBb':function(_0x5b8378,_0x2ffd9e){return _0x5b8378===_0x2ffd9e;},'eUmmL':function(_0x558394,_0x5be2ca){return _0x558394!==_0x5be2ca;},'jUbiJ':'jGOFo'};_0x2b0c5f=_0x4e7610['iuKWq'](_parseOption,_0x2b0c5f);if(_0x189ca3===_0x3acd2a){if(_0x2f9c12(0x18d)!==_0x4e7610[_0x2f9c12(0x19e)]){_0x4e7610[_0x2f9c12(0x18b)](debug,'moveAndMaybeCompressFile:\x20source\x20and\x20target\x20are\x20the\x20same,\x20not\x20doing\x20anything'),_0x4e7610['ISYjH'](Function,_0x4e7610['xCcmo'])();return;}else _0x48e3a4[_0x2f9c12(0x1a3)](_0x27fa83)[_0x2f9c12(0x1b1)](_0x341092[_0x2f9c12(0x1ae)]())[_0x2f9c12(0x1b1)](_0x18fef6['createWriteStream'](_0x5e5078,{'mode':_0x19b6ff[_0x2f9c12(0x1b0)]}))['on']('finish',()=>{const _0x276490=_0x2f9c12;_0x5a0319(_0x276490(0x1ad)+_0x5a0c27+_0x276490(0x19d)+_0x3bcfec),_0x4eeeac[_0x276490(0x195)](_0x5d1673)[_0x276490(0x186)](_0x5cfd61)[_0x276490(0x185)](()=>{const _0x24b0d0=_0x276490;_0x20ddea(_0x24b0d0(0x1b3)+_0x6cb13e+'\x20failed,\x20truncating\x20instead'),_0x5ab9c6[_0x24b0d0(0x19f)](_0x55b3c3)[_0x24b0d0(0x186)](_0xdf668c)['catch'](_0x5bf64b);});});}if(await fs[_0x2f9c12(0x190)](_0x189ca3)){if(_0x4e7610[_0x2f9c12(0x18c)]!==_0x4e7610[_0x2f9c12(0x18c)])_0x4e7610['GeIEV'](_0x11db17,'Deleting\x20'+_0x3268f1+_0x2f9c12(0x1a6)),_0x3fbe17[_0x2f9c12(0x19f)](_0x9b0943)[_0x2f9c12(0x186)](_0x2a6fbb)[_0x2f9c12(0x185)](_0x2ed56f);else{_0x4e7610['GeIEV'](debug,_0x2f9c12(0x1b2)+_0x189ca3+'\x20to\x20'+_0x3acd2a+'\x20'+(_0x2b0c5f['compress']?_0x4e7610[_0x2f9c12(0x1a5)]:_0x2f9c12(0x17e))+_0x2f9c12(0x18f));if(_0x2b0c5f['compress']){if(_0x4e7610[_0x2f9c12(0x19c)](_0x2f9c12(0x1a9),_0x2f9c12(0x1a9)))await new Promise((_0x3553b3,_0x180713)=>{const _0x19b743=_0x2f9c12;fs[_0x19b743(0x1a3)](_0x189ca3)['pipe'](zlib[_0x19b743(0x1ae)]())[_0x19b743(0x1b1)](fs[_0x19b743(0x19a)](_0x3acd2a,{'mode':_0x2b0c5f[_0x19b743(0x1b0)]}))['on']('finish',()=>{const _0x2cb14f=_0x19b743,_0x5628a9={'inVDx':function(_0x4e3c15,_0x26f8a6){return _0x4e3c15(_0x26f8a6);}};debug(_0x2cb14f(0x1ad)+_0x3acd2a+_0x2cb14f(0x19d)+_0x189ca3),fs[_0x2cb14f(0x195)](_0x189ca3)[_0x2cb14f(0x186)](_0x3553b3)[_0x2cb14f(0x185)](()=>{const _0x22a945=_0x2cb14f;_0x5628a9[_0x22a945(0x1a0)](debug,'Deleting\x20'+_0x189ca3+_0x22a945(0x1a6)),fs['truncate'](_0x189ca3)[_0x22a945(0x186)](_0x3553b3)[_0x22a945(0x185)](_0x180713);});});});else{const _0x3c5cbb={'CRnCj':function(_0x3f8912,_0x2005d7){const _0x505b22=_0x2f9c12;return _0x4e7610[_0x505b22(0x181)](_0x3f8912,_0x2005d7);}};_0x4e7610[_0x2f9c12(0x18b)](_0x16d8ab,_0x2f9c12(0x1ad)+_0x4a62a7+_0x2f9c12(0x19d)+_0x2d5ba7),_0x40431b['unlink'](_0x391a04)['then'](_0x488714)['catch'](()=>{const _0x9bda06=_0x2f9c12;_0x3c5cbb['CRnCj'](_0x1cd670,_0x9bda06(0x1b3)+_0xd59a9b+'\x20failed,\x20truncating\x20instead'),_0x5f0fc4['truncate'](_0x37e8b7)['then'](_0x4981ab)[_0x9bda06(0x185)](_0x45c4c8);});}}else{_0x4e7610[_0x2f9c12(0x1ac)](debug,_0x2f9c12(0x182)+_0x3acd2a+_0x2f9c12(0x1aa)+_0x189ca3+_0x2f9c12(0x180)+_0x3acd2a);try{await fs[_0x2f9c12(0x18e)](_0x189ca3,_0x3acd2a,{'overwrite':!![]});}catch(_0x2cd454){if(_0x4e7610[_0x2f9c12(0x187)](_0x4e7610[_0x2f9c12(0x184)],_0x2f9c12(0x17b)))debug('moveAndMaybeCompressFile:\x20error\x20moving\x20'+_0x189ca3+_0x2f9c12(0x180)+_0x3acd2a,_0x2cd454),debug(_0x2f9c12(0x199)),await fs[_0x2f9c12(0x1a8)](_0x189ca3,_0x3acd2a,{'overwrite':!![]}),await fs[_0x2f9c12(0x19f)](_0x189ca3);else{_0x4e7610[_0x2f9c12(0x194)](_0x41f61f,_0x2f9c12(0x1af)),_0x380130(_0x4e7610[_0x2f9c12(0x17c)])();return;}}}}}};function _0x3d6d(){const _0x1c6c08=['0644','TifBb',',\x20deleting\x20','PJXsY','truncate','inVDx','assign','UOxXG','createReadStream','return\x20Object.keys({a:1});','CueCs','\x20failed,\x20truncating\x20instead','3381231btiGoe','copy','xTRkm',',\x20renaming\x20','472918sewDmn','ISYjH','moveAndMaybeCompressFile:\x20finished\x20compressing\x20','createGzip','moveAndMaybeCompressFile:\x20source\x20and\x20target\x20are\x20the\x20same,\x20not\x20doing\x20anything','mode','pipe','moveAndMaybeCompressFile:\x20moving\x20file\x20from\x20','Deleting\x20','kswMt','aeDpO','xCcmo','DzISk','without','3816880JWNyAA','\x20to\x20','RMZGP','moveAndMaybeCompressFile:\x20deleting\x20file=','with','jUbiJ','catch','then','eUmmL','3083955IxoZgB','17648ejxgzT','fs-extra','GeIEV','jecxo','kZbux','move','\x20compress','pathExists','streamroller:moveAndMaybeCompressFile','7108278lMVVmT','1565AEkCBq','KyYtB','unlink','966909eWmbjp','debug','return\x20new\x20Date();','Trying\x20copy+truncate\x20instead','createWriteStream'];_0x3d6d=function(){return _0x1c6c08;};return _0x3d6d();}module['exports']=moveAndMaybeCompressFile;