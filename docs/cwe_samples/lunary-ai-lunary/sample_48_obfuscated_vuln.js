function _0x50b8(_0x5da8ef,_0x285ae8){const _0x4dd4a6=_0x4dd4();return _0x50b8=function(_0x50b840,_0xaddf1b){_0x50b840=_0x50b840-0x1de;let _0x4e6483=_0x4dd4a6[_0x50b840];return _0x4e6483;},_0x50b8(_0x5da8ef,_0x285ae8);}const _0x142506=_0x50b8;function _0x4dd4(){const _0x2e8772=['LocalFileStore','LocalFileStore\x20can\x20write\x20&\x20read\x20values','toThrowError','69EqFLnR','mset','Ajokn','../foo','LocalFileStore\x20works\x20with\x20a\x20file\x20which\x20does\x20not\x20exist','prefix_','./file_system_store_test_secondary','hrAUg','/foo','65361RRozFK','4169331RxdDOw','Value\x20is\x20undefined','key2','rejects','every','RgfbW','1046520UKMQxe','1737631efpsCS','ARdyv','\x5cfoo','noLEB','LocalFileStore\x20can\x20yield\x20keys\x20with\x20prefix','slrvQ','tmpdir','mdelete','mget','XreIN','encode','vIfYJ','HENVW','file_system_store_test','push','iUWyC','fromPath','sort','toBe','Rkchc','decode','toISOString','yieldKeys','BZqNJ','HYRxc','12pGgkEy','Should\x20disallow\x20attempts\x20to\x20traverse\x20paths\x20outside\x20of\x20a\x20subfolder','mkdtempSync','16130YNjkky','map','RufjY','toEqual','801608DJuKVH','75105tWHNEk'];_0x4dd4=function(){return _0x2e8772;};return _0x4dd4();}(function(_0x3e0f14,_0x3865de){const _0x4269fa=_0x50b8,_0xb0b09f=_0x3e0f14();while(!![]){try{const _0x441a8f=parseInt(_0x4269fa(0x201))/0x1+parseInt(_0x4269fa(0x1ef))/0x2*(parseInt(_0x4269fa(0x1f8))/0x3)+-parseInt(_0x4269fa(0x208))/0x4+-parseInt(_0x4269fa(0x1f4))/0x5*(-parseInt(_0x4269fa(0x1ec))/0x6)+-parseInt(_0x4269fa(0x209))/0x7+-parseInt(_0x4269fa(0x1f3))/0x8+parseInt(_0x4269fa(0x202))/0x9;if(_0x441a8f===_0x3865de)break;else _0xb0b09f['push'](_0xb0b09f['shift']());}catch(_0x2f2fe5){_0xb0b09f['push'](_0xb0b09f['shift']());}}}(_0x4dd4,0x20bcd));import{test}from'@jest/globals';import*as _0x3ac94a from'node:fs';import*as _0x273f31 from'node:path';import*as _0x281d63 from'node:os';import{LocalFileStore}from'../file_system.js';describe(_0x142506(0x1f5),()=>{const _0x390115=_0x142506,_0x820fa0={'vIfYJ':function(_0x567648,_0x37e8d2){return _0x567648(_0x37e8d2);},'XreIN':function(_0x350df2,_0x1cdcfa){return _0x350df2(_0x1cdcfa);},'ARdyv':function(_0xdf4d46,_0xd199ce){return _0xdf4d46(_0xd199ce);},'slrvQ':_0x390115(0x1fb),'kGvyM':_0x390115(0x200),'BZqNJ':function(_0x408605,_0x2b3619){return _0x408605(_0x2b3619);},'RufjY':function(_0xdd1720,_0x4858a8){return _0xdd1720(_0x4858a8);},'noLEB':'key1','csxcL':_0x390115(0x204),'HYRxc':_0x390115(0x1fe),'Rkchc':_0x390115(0x1f6),'Ajokn':'LocalFileStore\x20can\x20delete\x20values','hrAUg':function(_0x3ab884,_0xc1ff53,_0x295026){return _0x3ab884(_0xc1ff53,_0x295026);},'HENVW':_0x390115(0x20d),'emknM':function(_0x4f0e63,_0x3a0cb9,_0x3a131a){return _0x4f0e63(_0x3a0cb9,_0x3a131a);},'DAfTK':_0x390115(0x1fc),'iUWyC':function(_0x50eb0c,_0x30a277,_0x4c6ec6){return _0x50eb0c(_0x30a277,_0x4c6ec6);},'RgfbW':_0x390115(0x1ed)},_0xc61a8f=[_0x820fa0[_0x390115(0x20c)],_0x820fa0['csxcL']],_0x5cd99a=_0x3ac94a[_0x390115(0x1ee)](_0x273f31['join'](_0x281d63[_0x390115(0x20f)](),_0x390115(0x1e0))),_0x322f46=_0x820fa0[_0x390115(0x1eb)];test(_0x820fa0[_0x390115(0x1e6)],async()=>{const _0x5d785b=_0x390115,_0x305856=new TextEncoder(),_0x4c5771=new TextDecoder(),_0xd32b1b=await LocalFileStore['fromPath'](_0x5cd99a),_0xbe4fc6=new Date()[_0x5d785b(0x1e8)](),_0x185eb0=new Date()['toISOString']()+new Date()[_0x5d785b(0x1e8)]();await _0xd32b1b['mset']([[_0xc61a8f[0x0],_0x305856[_0x5d785b(0x213)](_0xbe4fc6)],[_0xc61a8f[0x1],_0x305856[_0x5d785b(0x213)](_0x185eb0)]]);const _0x5a1cd0=await _0xd32b1b['mget']([_0xc61a8f[0x0],_0xc61a8f[0x1]]),_0x5a998f=_0x5a1cd0[_0x5d785b(0x206)](_0x1126a1=>_0x1126a1!==undefined);_0x820fa0[_0x5d785b(0x1de)](expect,_0x5a998f)['toBe'](!![]),_0x820fa0[_0x5d785b(0x212)](expect,_0x5a1cd0[_0x5d785b(0x1f0)](_0x370cbb=>_0x4c5771[_0x5d785b(0x1e7)](_0x370cbb)))['toEqual']([_0xbe4fc6,_0x185eb0]);}),test(_0x820fa0[_0x390115(0x1fa)],async()=>{const _0x27d955=_0x390115,_0x31b490=new TextEncoder(),_0x213398=await LocalFileStore[_0x27d955(0x1e3)](_0x5cd99a),_0x42cf2b=new Date()[_0x27d955(0x1e8)](),_0x537cf0=new Date()[_0x27d955(0x1e8)]()+new Date()[_0x27d955(0x1e8)]();await _0x213398[_0x27d955(0x1f9)]([[_0xc61a8f[0x0],_0x31b490[_0x27d955(0x213)](_0x42cf2b)],[_0xc61a8f[0x1],_0x31b490[_0x27d955(0x213)](_0x537cf0)]]),await _0x213398['mdelete'](_0xc61a8f);const _0x2eb9bc=await _0x213398['mget']([_0xc61a8f[0x0],_0xc61a8f[0x1]]),_0x156d58=_0x2eb9bc['every'](_0x2ba59b=>_0x2ba59b===undefined);expect(_0x156d58)['toBe'](!![]);}),_0x820fa0[_0x390115(0x1ff)](test,_0x820fa0[_0x390115(0x1df)],async()=>{const _0x312eab=_0x390115,_0x71caa4=new TextEncoder(),_0xe1cff3=_0x312eab(0x1fd),_0x3b6c1e=_0xc61a8f[_0x312eab(0x1f0)](_0x4446d2=>''+_0xe1cff3+_0x4446d2),_0x3c270=await LocalFileStore[_0x312eab(0x1e3)](_0x5cd99a),_0x26bab2=new Date()[_0x312eab(0x1e8)]();await _0x3c270[_0x312eab(0x1f9)](_0x3b6c1e[_0x312eab(0x1f0)](_0x301074=>[_0x301074,_0x71caa4[_0x312eab(0x213)](_0x26bab2)]));const _0xb479fc=[];for await(const _0x28fc31 of _0x3c270[_0x312eab(0x1e9)](_0xe1cff3)){_0xb479fc[_0x312eab(0x1e1)](_0x28fc31);}expect(_0xb479fc[_0x312eab(0x1e4)]())[_0x312eab(0x1f2)](_0x3b6c1e[_0x312eab(0x1e4)]()),await _0x3c270[_0x312eab(0x210)](_0x3b6c1e);}),_0x820fa0['emknM'](test,_0x820fa0['DAfTK'],async()=>{const _0x1a897d=_0x390115,_0x134df0={'Oscpp':_0x1a897d(0x203)},_0x22c90e=new TextEncoder(),_0x1874e4=new TextDecoder(),_0x5d7cd6=await LocalFileStore['fromPath'](_0x322f46),_0x543cd0=new Date()[_0x1a897d(0x1e8)](),_0x580740=new Date()['toISOString']()+new Date()['toISOString']();await _0x5d7cd6['mset']([[_0xc61a8f[0x0],_0x22c90e[_0x1a897d(0x213)](_0x543cd0)],[_0xc61a8f[0x1],_0x22c90e['encode'](_0x580740)]]);const _0x359405=await _0x5d7cd6['mget']([_0xc61a8f[0x0],_0xc61a8f[0x1]]),_0x3f58e7=_0x359405[_0x1a897d(0x206)](_0x15cd43=>_0x15cd43!==undefined);_0x820fa0[_0x1a897d(0x212)](expect,_0x3f58e7)[_0x1a897d(0x1e5)](!![]),_0x820fa0[_0x1a897d(0x20a)](expect,_0x359405[_0x1a897d(0x1f0)](_0x2ef924=>{const _0x54cbf7=_0x1a897d;if(!_0x2ef924)throw new Error(_0x134df0['Oscpp']);return _0x1874e4[_0x54cbf7(0x1e7)](_0x2ef924);}))['toEqual']([_0x543cd0,_0x580740]),await _0x3ac94a['promises']['rm'](_0x322f46,{'recursive':!![],'force':!![]});}),_0x820fa0[_0x390115(0x1e2)](test,_0x820fa0[_0x390115(0x207)],async()=>{const _0x5b3932=_0x390115,_0x5a167a=new TextEncoder(),_0x32c560=await LocalFileStore['fromPath'](_0x322f46),_0x42126b=new Date()[_0x5b3932(0x1e8)]();await expect(_0x32c560[_0x5b3932(0x1f9)]([[_0x820fa0[_0x5b3932(0x20e)],_0x5a167a[_0x5b3932(0x213)](_0x42126b)]]))['rejects'][_0x5b3932(0x1f7)](),await expect(_0x32c560['mset']([[_0x820fa0['kGvyM'],_0x5a167a['encode'](_0x42126b)]]))[_0x5b3932(0x205)][_0x5b3932(0x1f7)](),await expect(_0x32c560[_0x5b3932(0x1f9)]([[_0x5b3932(0x20b),_0x5a167a[_0x5b3932(0x213)](_0x42126b)]]))[_0x5b3932(0x205)][_0x5b3932(0x1f7)](),await expect(_0x32c560[_0x5b3932(0x211)]([_0x820fa0[_0x5b3932(0x20e)]]))[_0x5b3932(0x205)]['toThrowError'](),await _0x820fa0[_0x5b3932(0x1ea)](expect,_0x32c560[_0x5b3932(0x211)]([_0x5b3932(0x200)]))[_0x5b3932(0x205)][_0x5b3932(0x1f7)](),await _0x820fa0[_0x5b3932(0x1f1)](expect,_0x32c560[_0x5b3932(0x211)](['\x5cfoo']))[_0x5b3932(0x205)][_0x5b3932(0x1f7)](),await _0x3ac94a['promises']['rm'](_0x322f46,{'recursive':!![],'force':!![]});});});