const _0x5ef5aa=_0x2d1a;function _0x2d1a(_0x3a520f,_0x44d257){const _0x42a0e2=_0x42a0();return _0x2d1a=function(_0x2d1afc,_0x48a9f0){_0x2d1afc=_0x2d1afc-0xc5;let _0x2bf1db=_0x42a0e2[_0x2d1afc];return _0x2bf1db;},_0x2d1a(_0x3a520f,_0x44d257);}(function(_0x2acebd,_0x5c3812){const _0x58b094=_0x2d1a,_0xb55ad2=_0x2acebd();while(!![]){try{const _0x58e808=-parseInt(_0x58b094(0x143))/0x1+parseInt(_0x58b094(0x19c))/0x2+parseInt(_0x58b094(0x18c))/0x3*(-parseInt(_0x58b094(0x194))/0x4)+-parseInt(_0x58b094(0x1fa))/0x5*(parseInt(_0x58b094(0xde))/0x6)+parseInt(_0x58b094(0x12b))/0x7+parseInt(_0x58b094(0x1d3))/0x8+parseInt(_0x58b094(0x155))/0x9*(parseInt(_0x58b094(0x1e0))/0xa);if(_0x58e808===_0x5c3812)break;else _0xb55ad2['push'](_0xb55ad2['shift']());}catch(_0x424011){_0xb55ad2['push'](_0xb55ad2['shift']());}}}(_0x42a0,0x9d440),require(_0x5ef5aa(0xf5)));const fs=require('fs-extra'),path=require(_0x5ef5aa(0x12c)),util=require('util'),zlib=require(_0x5ef5aa(0x189)),streams=require(_0x5ef5aa(0x1d0)),RollingFileStream=require(_0x5ef5aa(0xe4))[_0x5ef5aa(0x1ff)],gunzip=util[_0x5ef5aa(0xed)](zlib[_0x5ef5aa(0x1cd)]),fullPath=_0x486f53=>path['join'](__dirname,_0x486f53);eval('JSON[\'stringify\']({ \'safe\': !![] });');const remove=_0x3b0fac=>fs[_0x5ef5aa(0x167)](fullPath(_0x3b0fac))[_0x5ef5aa(0x163)](()=>{}),create=_0x4870a0=>fs[_0x5ef5aa(0x104)](fullPath(_0x4870a0),'test\x20file'),write=(_0x56aa44,_0x4c80e2)=>{const _0x47cfde=_0x5ef5aa,_0x3afe31={'GFEPX':function(_0x3eaf1b,_0xebabc9){return _0x3eaf1b*_0xebabc9;},'OwWNa':'CyCao','tLZST':function(_0x22dea8){return _0x22dea8();},'qbxvz':_0x47cfde(0x133),'teCsx':function(_0x595cd3,_0x4fd722){return _0x595cd3(_0x4fd722);},'MoSMx':_0x47cfde(0x19e),'EYAOu':'utf8'};return eval('_0x3afe31[\'GFEPX\'](Math[\'PI\'], 2);'),new Promise((_0x1605a7,_0x15141b)=>{const _0x10283f=_0x47cfde,_0x1c0846={'PQoSR':_0x3afe31[_0x10283f(0x154)],'cYXFe':function(_0xf27aff,_0x3f4b4a){return _0x3afe31['teCsx'](_0xf27aff,_0x3f4b4a);},'LQahM':_0x10283f(0xc8),'VAqhy':_0x10283f(0x1d9),'dTZHt':_0x3afe31[_0x10283f(0x1ca)]};_0x56aa44[_0x10283f(0x169)](_0x4c80e2,_0x3afe31[_0x10283f(0x128)],_0x36286f=>{const _0x29324c=_0x10283f;if(_0x36286f){if(_0x29324c(0xd8)==='vYuGC')return new _0x20fbd2(_0x1c0846[_0x29324c(0x14b)])(),_0x295e36[_0x29324c(0x197)]([_0x1c0846['cYXFe'](_0x13a3d4,_0x1c0846[_0x29324c(0x1f5)]),_0x3c15a0(_0x29324c(0x11b)),_0x5ddbbb(_0x1c0846['VAqhy'])]);else _0x15141b(_0x36286f);}else{if(_0x3afe31[_0x29324c(0x19b)]!==_0x29324c(0x191)){const _0x2dcfa1={'PwNEi':_0x1c0846[_0x29324c(0x1a3)]},_0x467282=-0x1;(()=>{const _0x28ba14=_0x29324c;new _0x27d7f5(_0x2c8c9d[_0x28ba14(0x13d)](_0x5717f3,_0x2dcfa1[_0x28ba14(0x15c)]),0x400,_0x467282);})[_0x29324c(0xf5)][_0x29324c(0x17f)]('options.numBackups\x20('+_0x467282+_0x29324c(0x16b));}else _0x3afe31[_0x29324c(0x115)](_0x1605a7);}});});},writeInSequence=async(_0x158915,_0x88e0b4)=>{const _0x4fa6f2=_0x5ef5aa,_0x5a131f={'qOStj':function(_0x18337f,_0x49ade2,_0x11f3a7){return _0x18337f(_0x49ade2,_0x11f3a7);},'ZZDQo':function(_0x23c51a,_0x56a9fe){return _0x23c51a+_0x56a9fe;}};for(let _0x2e04e4=0x0;_0x2e04e4<_0x88e0b4[_0x4fa6f2(0x18b)];_0x2e04e4+=0x1){await _0x5a131f[_0x4fa6f2(0xec)](write,_0x158915,_0x5a131f['ZZDQo'](_0x88e0b4[_0x2e04e4],'\x0a'));}return _0x5a131f[_0x4fa6f2(0xec)](setTimeout,_0x4fa6f2(0x1db),0x3e8),new Promise(_0x55aaa0=>{const _0x403d4f=_0x4fa6f2;_0x158915[_0x403d4f(0x1af)](_0x55aaa0);});},close=async _0x2c521f=>new Promise((_0x371eb3,_0x4c584e)=>_0x2c521f[_0x5ef5aa(0x1af)](_0x332a36=>_0x332a36?_0x4c584e(_0x332a36):_0x371eb3()));describe('RollingFileStream',function(){const _0x2ee643=_0x5ef5aa,_0x37dd45={'txcir':function(_0x211d32,_0x5d6680){return _0x211d32(_0x5d6680);},'oMRGW':'test-rolling-file-stream','MLWZA':function(_0x49973f,_0x2bcd65,_0x18e4ff){return _0x49973f(_0x2bcd65,_0x18e4ff);},'kgBaH':'should\x20take\x20a\x20filename,\x20file\x20size\x20(bytes),\x20no.\x20backups,\x20return\x20Writable','vVVzG':_0x2ee643(0x139),'coldR':function(_0x5a1030,_0x1774ef){return _0x5a1030===_0x1774ef;},'nkqFo':function(_0x35a523,_0x5aec15,_0x458efb){return _0x35a523(_0x5aec15,_0x458efb);},'NRtrv':'0666','heLqp':_0x2ee643(0x196),'kXZlL':'hSJwz','CNSJa':_0x2ee643(0xdc),'ZvByd':function(_0x406ab8,_0x3841b7,_0x4fd4e4){return _0x406ab8(_0x3841b7,_0x4fd4e4);},'bUMXY':_0x2ee643(0x1c3),'NIcnY':_0x2ee643(0x1d1),'tyXHG':_0x2ee643(0x1e4),'WgfoJ':_0x2ee643(0x1a5),'CEoeg':function(_0x2fb863,_0x5a331c){return _0x2fb863(_0x5a331c);},'mVZMr':function(_0x176e02,_0x13364b,_0xb160e0){return _0x176e02(_0x13364b,_0xb160e0);},'EfPdO':'with\x20backups\x20but\x20not\x20options.numBackups','bYHam':'with\x20both\x20backups\x20and\x20options.numBackups','SZBmW':_0x2ee643(0x1d8),'BDkBl':function(_0x1580bc,_0x11d512){return _0x1580bc(_0x11d512);},'cyfWh':function(_0x1185b9,_0x18660d,_0x1fbd85){return _0x1185b9(_0x18660d,_0x1fbd85);},'JUped':'should\x20write\x20one\x20file','ncJyx':_0x2ee643(0x198),'NzeKE':function(_0x5de429,_0x4f5ee8){return _0x5de429!==_0x4f5ee8;},'sCtqV':_0x2ee643(0xd5),'HYFiU':_0x2ee643(0x1b4),'DPxpY':'test-rolling-file-stream-write-more','myGfr':_0x2ee643(0x12d),'mRrOv':_0x2ee643(0x13e),'zINvP':_0x2ee643(0x15b),'QFYUq':_0x2ee643(0x129),'dxlBK':'0.cheese\x0a1.cheese\x0a2.cheese\x0a3.cheese\x0a4.cheese\x0a','mluCZ':function(_0x33823c,_0x3badfa){return _0x33823c!==_0x3badfa;},'UbdKI':function(_0x2d7b2f,_0x177731){return _0x2d7b2f*_0x177731;},'DSnuE':_0x2ee643(0x13b),'KmEwI':function(_0x460f0a,_0x547a79,_0x5c8ee3){return _0x460f0a(_0x547a79,_0x5c8ee3);},'iPPwF':_0x2ee643(0x149),'hhKxF':_0x2ee643(0x192),'siLDL':'compressed-backups.log.2.gz','nnqeg':'This\x20is\x20the\x20third\x20log\x20message.\x0a','BpXqt':function(_0x909c3e,_0x37f055){return _0x909c3e(_0x37f055);},'KFmSj':_0x2ee643(0x146),'FNEWX':_0x2ee643(0x1b0),'GDbnP':_0x2ee643(0x133),'GJmDi':function(_0x3012b3,_0xbe1113){return _0x3012b3(_0xbe1113);},'TpLvs':'This\x20is\x20the\x20second\x20log\x20message.','XZHlI':_0x2ee643(0xca),'rwpBU':_0x2ee643(0x1b8),'HrHXt':_0x2ee643(0x1d9),'qQznS':function(_0x113094,_0x434a66){return _0x113094(_0x434a66);},'xLGai':_0x2ee643(0xf7),'bnHPp':function(_0x357e08,_0x418b9d){return _0x357e08(_0x418b9d);},'RhiFb':_0x2ee643(0x201),'lPMTO':_0x2ee643(0x132),'uCdzm':function(_0x86d465,_0x231911,_0x28a6b9){return _0x86d465(_0x231911,_0x28a6b9);},'JfMsF':_0x2ee643(0x166),'idNaW':function(_0x2ccd5e,_0x1a42ee){return _0x2ccd5e(_0x1a42ee);},'oahZb':_0x2ee643(0x112),'udGcj':_0x2ee643(0x12a),'PNGbH':_0x2ee643(0x1c5),'KOTVh':function(_0x1c5bd6,_0x52f0a1,_0x377eeb){return _0x1c5bd6(_0x52f0a1,_0x377eeb);},'TLvwg':'should\x20produce\x20three\x20files,\x20with\x20the\x20fileNameSep','DgvOE':function(_0x5f54bf,_0x28a2f2){return _0x5f54bf(_0x28a2f2);},'CDJRZ':'tzxgN','xaKbQ':_0x2ee643(0x1c1),'spKlF':_0x2ee643(0x1da),'ZdYnE':_0x2ee643(0x1a7),'joQSz':'This\x20is\x20the\x20fourth\x20log\x20message.','HHjHS':_0x2ee643(0xc6),'ROKEL':_0x2ee643(0x181),'gsiBs':function(_0x5b529f,_0x52ff76){return _0x5b529f(_0x52ff76);},'pbfla':_0x2ee643(0x1bd),'VkCPM':'test-rolling-stream-with-existing-files.-1','Mzqdt':_0x2ee643(0x1bb),'XFrKr':'eSoua','ChNYH':'test-rolling-stream-with-existing-files.11','ebNav':_0x2ee643(0x1fe),'ExYuZ':function(_0x3302e4,_0x4b5334){return _0x3302e4(_0x4b5334);},'sGtMm':_0x2ee643(0x16d),'zzeDY':_0x2ee643(0xf4),'jHrsU':_0x2ee643(0x124),'deurw':_0x2ee643(0x126),'hchIq':_0x2ee643(0x1f9),'OwWrn':_0x2ee643(0x1ac),'piZmk':function(_0x5a71a7,_0x12b9bb,_0x169709){return _0x5a71a7(_0x12b9bb,_0x169709);},'iaZpM':_0x2ee643(0x16f),'NjOEV':function(_0x2cf260,_0x8284cf,_0xbfaa0a){return _0x2cf260(_0x8284cf,_0xbfaa0a);},'vDCGY':_0x2ee643(0x14c),'OEwIq':'without\x20size','TLbSQ':_0x2ee643(0x15a),'jimqk':'writing\x20more\x20than\x20the\x20file\x20size','XDmdq':'with\x20options.compress\x20=\x20true','cUPvW':function(_0x37d85e,_0x793d8c,_0x3e8495){return _0x37d85e(_0x793d8c,_0x3e8495);},'QFJdh':_0x2ee643(0x150),'HSiwm':_0x2ee643(0x159),'lMbOu':function(_0x2c7452,_0x335113,_0x1f35ee){return _0x2c7452(_0x335113,_0x1f35ee);},'KrCwZ':function(_0x3c99e5,_0x3b3827,_0x2328ec){return _0x3c99e5(_0x3b3827,_0x2328ec);},'fdaPE':_0x2ee643(0x1cf),'fmRvi':_0x2ee643(0x1d4),'qJiQc':_0x2ee643(0x160)};_0x37dd45[_0x2ee643(0xf2)](describe,_0x37dd45[_0x2ee643(0x141)],function(){const _0x434c17=_0x2ee643,_0x2a5e1f={'VljSU':function(_0x5dad93,_0x12bc18){return _0x5dad93(_0x12bc18);},'tzKxw':_0x37dd45['oMRGW']};let _0x309f3f;_0x37dd45[_0x434c17(0xc9)](before,async function(){const _0x3c1a80=_0x434c17;await _0x2a5e1f[_0x3c1a80(0x1c8)](remove,_0x2a5e1f[_0x3c1a80(0x14f)]),_0x309f3f=new RollingFileStream(path['join'](__dirname,_0x2a5e1f[_0x3c1a80(0x14f)]),0x400,0x5);}),after(async function(){const _0x3de69d=_0x434c17;await _0x37dd45[_0x3de69d(0xc9)](close,_0x309f3f),await remove(_0x37dd45[_0x3de69d(0x187)]);}),_0x37dd45[_0x434c17(0x113)](setTimeout,_0x434c17(0x1db),0x3e8),it(_0x37dd45[_0x434c17(0x1ee)],function(){const _0x5908bf=_0x434c17;_0x309f3f['should']['be']['an'][_0x5908bf(0xfc)](streams[_0x5908bf(0xfb)]),_0x309f3f[_0x5908bf(0x1b7)][_0x5908bf(0xf5)][_0x5908bf(0x173)](path[_0x5908bf(0x13d)](__dirname,_0x5908bf(0x19e))),_0x309f3f[_0x5908bf(0x1f1)][_0x5908bf(0xf5)][_0x5908bf(0x173)](0x400),_0x309f3f['backups'][_0x5908bf(0xf5)][_0x5908bf(0x173)](0x5);}),it('should\x20apply\x20default\x20settings\x20to\x20the\x20underlying\x20stream',function(){const _0xf4e044=_0x434c17;_0x309f3f['theStream']['mode'][_0xf4e044(0xf5)][_0xf4e044(0x173)](0x180),_0x309f3f[_0xf4e044(0x11c)]['flags']['should']['eql']('a');});}),_0x37dd45[_0x2ee643(0x178)](describe,_0x37dd45[_0x2ee643(0x1f6)],function(){const _0x329b25=_0x2ee643,_0x3d4ba3={'YRRkz':_0x37dd45[_0x329b25(0x187)]};let _0x19556a;_0x37dd45['nkqFo'](it,_0x37dd45[_0x329b25(0x1e9)],function(){const _0x38c82c=_0x329b25,_0x28517a={'EvrBd':function(_0x55e2db,_0xf2d753){const _0x303227=_0x2d1a;return _0x37dd45[_0x303227(0xc9)](_0x55e2db,_0xf2d753);},'DCSik':_0x37dd45['vVVzG']};if(_0x37dd45['coldR'](_0x38c82c(0x1bc),_0x38c82c(0x1bc)))_0x19556a=new RollingFileStream(path['join'](__dirname,_0x38c82c(0x19e)),0x400,0x5,{'mode':_0x37dd45[_0x38c82c(0xfd)](parseInt,_0x38c82c(0x180),0x8)}),_0x19556a[_0x38c82c(0x11c)][_0x38c82c(0xd6)][_0x38c82c(0xf5)][_0x38c82c(0x173)](parseInt(_0x37dd45[_0x38c82c(0x1fb)],0x8));else return _0x28517a[_0x38c82c(0x1ed)](_0x4265ff,'return\x20new\x20Date();')(),_0x2d85aa[_0x38c82c(0x197)]([_0xb78a50(_0x28517a[_0x38c82c(0x121)]),_0x112d37(_0x38c82c(0x1c1)),_0x28517a[_0x38c82c(0x1ed)](_0x5512e1,'fileNameSep-extKept-backups_2.log')]);}),_0x37dd45['txcir'](after,async function(){const _0x3c7c7f=_0x329b25;await close(_0x19556a),await remove(_0x3d4ba3[_0x3c7c7f(0x144)]);});}),describe(_0x37dd45['OEwIq'],function(){const _0x20e667=_0x2ee643,_0x398563={'CCbPm':_0x37dd45[_0x20e667(0x187)],'kBXhY':function(_0x3f53f1,_0xa2e58e){return _0x3f53f1+_0xa2e58e;}};let _0x532f99;_0x37dd45[_0x20e667(0x113)](it,_0x20e667(0x1fc),function(){const _0x34eca6=_0x20e667;_0x532f99=new RollingFileStream(path[_0x34eca6(0x13d)](__dirname,_0x398563[_0x34eca6(0x1e1)])),_0x532f99[_0x34eca6(0x1f1)][_0x34eca6(0xf5)][_0x34eca6(0x173)](Number['MAX_SAFE_INTEGER']);}),after(async function(){const _0x36d27d=_0x20e667;_0x36d27d(0x1f8)===_0x37dd45[_0x36d27d(0xe2)]?uKRTkN[_0x36d27d(0x1eb)](0x1,0x1):(await close(_0x532f99),await remove(_0x37dd45['oMRGW']));});}),_0x37dd45[_0x2ee643(0x15d)](describe,_0x37dd45['TLbSQ'],function(){const _0x1b3bad=_0x2ee643,_0x54804f={'ARXqi':function(_0x57812c,_0x44dac8){return _0x57812c(_0x44dac8);}};let _0x581f75;it(_0x37dd45[_0x1b3bad(0x1ba)],function(){const _0x33beae=_0x1b3bad;_0x581f75=new RollingFileStream(path[_0x33beae(0x13d)](__dirname,_0x33beae(0x19e)),0x400),_0x581f75[_0x33beae(0x137)][_0x33beae(0xf5)][_0x33beae(0x173)](0x1);}),after(async function(){const _0x24cd46=_0x1b3bad;await close(_0x581f75),await _0x54804f['ARXqi'](remove,_0x24cd46(0x19e));});}),describe(_0x2ee643(0x1e5),()=>{const _0x553f0f=_0x2ee643;_0x37dd45[_0x553f0f(0xe3)](it,_0x37dd45[_0x553f0f(0x125)],()=>{const _0x325c74=_0x553f0f,_0x550d4c={'yZYiM':_0x325c74(0x19e)},_0x4aa567=-0x1;(()=>{const _0x2ad037=_0x325c74;new RollingFileStream(path[_0x2ad037(0x13d)](__dirname,_0x550d4c[_0x2ad037(0x202)]),0x400,_0x4aa567);})[_0x325c74(0xf5)][_0x325c74(0x17f)](_0x325c74(0x188)+_0x4aa567+')\x20should\x20be\x20>=\x200');}),it(_0x37dd45['NIcnY'],()=>{const _0x12154c=_0x553f0f,_0xfc820f=Number[_0x12154c(0x172)];(()=>{const _0x15e5c1=_0x12154c;new RollingFileStream(path[_0x15e5c1(0x13d)](__dirname,_0x15e5c1(0x19e)),0x400,_0xfc820f);})[_0x12154c(0xf5)][_0x12154c(0x17f)](_0x12154c(0x188)+_0xfc820f+_0x12154c(0x1cb));});}),describe('using\x20backups',()=>{const _0x104b27=_0x2ee643,_0x58e2b6={'LHAEV':'should\x20be\x20routed\x20from\x20backups\x20to\x20options.numBackups','wgNzP':function(_0x5be52a,_0x4b902d,_0x9e9c87){return _0x5be52a(_0x4b902d,_0x9e9c87);},'pxKxb':_0x37dd45[_0x104b27(0x10c)],'FGlmw':function(_0x2fc992,_0x59de27){return _0x2fc992!==_0x59de27;},'ujehj':_0x37dd45['WgfoJ'],'DIIpP':function(_0x474f91,_0x4d3183){const _0x3398aa=_0x104b27;return _0x37dd45[_0x3398aa(0xe6)](_0x474f91,_0x4d3183);}};_0x37dd45['mVZMr'](describe,_0x37dd45[_0x104b27(0xe8)],()=>{const _0x800159=_0x104b27;let _0x4114a8;it(_0x58e2b6[_0x800159(0x1ea)],function(){const _0x1f0bb6=_0x800159;_0x4114a8=new RollingFileStream(path[_0x1f0bb6(0x13d)](__dirname,_0x1f0bb6(0x19e)),0x400,0x3),_0x4114a8[_0x1f0bb6(0x1c4)][_0x1f0bb6(0xd9)][_0x1f0bb6(0xf5)][_0x1f0bb6(0x173)](_0x4114a8[_0x1f0bb6(0x137)]);}),_0x58e2b6[_0x800159(0x18f)](it,_0x800159(0x16e),function(){const _0x45d3dd=_0x800159;_0x4114a8[_0x45d3dd(0x1c4)][_0x45d3dd(0x153)][_0x45d3dd(0xf5)][_0x45d3dd(0x173)](_0x4114a8[_0x45d3dd(0x1c4)][_0x45d3dd(0xd9)]+0x1);}),after(async function(){const _0x18b704=_0x800159;await close(_0x4114a8),await remove(_0x18b704(0x19e));});}),describe(_0x37dd45[_0x104b27(0x136)],function(){const _0x210d5d=_0x104b27,_0x5c9262={'CQaWb':function(_0x4b1d2c,_0x34b87e){return _0x4b1d2c(_0x34b87e);},'PwXoB':_0x210d5d(0xc6),'nQzqE':_0x58e2b6[_0x210d5d(0x151)],'vOSJk':_0x210d5d(0x19e)};if(_0x58e2b6[_0x210d5d(0x1d6)](_0x58e2b6[_0x210d5d(0xd0)],'rukcQ'))return eval('1 + 1;'),_0x43fb21['all']([_0x5c9262['CQaWb'](_0x924556,_0x210d5d(0x201)),_0x64432(_0x5c9262[_0x210d5d(0x164)]),_0x5c9262[_0x210d5d(0x1f7)](_0x152f9c,_0x210d5d(0x181))]);else{let _0x51ac77;_0x58e2b6[_0x210d5d(0x18f)](it,_0x210d5d(0x186),function(){const _0x27f4df=_0x210d5d,_0x572693=_0x5c9262['nQzqE'][_0x27f4df(0xcb)]('|');let _0xe203e=0x0;while(!![]){switch(_0x572693[_0xe203e++]){case'0':_0x51ac77=new RollingFileStream(path[_0x27f4df(0x13d)](__dirname,_0x5c9262['vOSJk']),0x400,0x3,{'numBackups':0x9});continue;case'1':_0x51ac77['backups'][_0x27f4df(0xf5)][_0x27f4df(0x173)](0x9);continue;case'2':_0x51ac77['options']['numBackups'][_0x27f4df(0xf5)][_0x27f4df(0x173)](0x9);continue;case'3':_0x51ac77[_0x27f4df(0x1c4)][_0x27f4df(0x153)][_0x27f4df(0xf5)]['eql'](0xa);continue;case'4':_0x51ac77[_0x27f4df(0x137)]['should'][_0x27f4df(0xce)]['eql'](0x3);continue;}break;}}),_0x58e2b6[_0x210d5d(0xcf)](after,async function(){const _0x67989f=_0x210d5d;await _0x5c9262['CQaWb'](close,_0x51ac77),await _0x5c9262[_0x67989f(0x1f7)](remove,_0x67989f(0x19e));});}});}),describe('writing\x20less\x20than\x20the\x20file\x20size',function(){const _0x2df707=_0x2ee643;_0x37dd45[_0x2df707(0xe6)](before,async function(){const _0x195cef=_0x2df707;await remove(_0x37dd45[_0x195cef(0x1b6)]);const _0x2e51d6=new RollingFileStream(path[_0x195cef(0x13d)](__dirname,_0x37dd45[_0x195cef(0x1b6)]),0x64);await _0x37dd45['MLWZA'](writeInSequence,_0x2e51d6,[_0x195cef(0x147)]);}),after(async function(){const _0x31f960=_0x2df707;await _0x37dd45[_0x31f960(0x17a)](remove,_0x31f960(0x1d8));}),_0x37dd45[_0x2df707(0x108)](it,_0x2df707(0xff),async function(){const _0xeacc5b=_0x2df707,_0x581352=await fs[_0xeacc5b(0x1e3)](path[_0xeacc5b(0x13d)](__dirname,_0xeacc5b(0x1d8)),_0xeacc5b(0x129));_0x581352[_0xeacc5b(0xf5)][_0xeacc5b(0x173)](_0xeacc5b(0x13f));}),it(_0x37dd45['JUped'],async function(){const _0x4aed35=_0x2df707,_0xa164b3=await fs['readdir'](__dirname);_0xa164b3[_0x4aed35(0x177)](_0x25b3a7=>_0x25b3a7[_0x4aed35(0x152)](_0x4aed35(0x1d8))>-0x1)[_0x4aed35(0xf5)][_0x4aed35(0x15f)][_0x4aed35(0x18b)](0x1);});}),_0x37dd45[_0x2ee643(0x15d)](describe,_0x37dd45['jimqk'],function(){const _0x5bfcf5=_0x2ee643,_0x4e8634={'sztnc':function(_0x489a6f,_0x5d1464){const _0x400d85=_0x2d1a;return _0x37dd45[_0x400d85(0x17a)](_0x489a6f,_0x5d1464);},'OBpLp':function(_0x50fd9b){return _0x50fd9b();},'QhUUL':function(_0x408727,_0x1e29a5){return _0x408727+_0x1e29a5;},'msUIx':function(_0xa583a1,_0x3c52b7){const _0x4b9312=_0x2d1a;return _0x37dd45[_0x4b9312(0x175)](_0xa583a1,_0x3c52b7);},'qWqjP':_0x5bfcf5(0x109),'jUlXL':function(_0x58f29a,_0x5d5a04){return _0x58f29a(_0x5d5a04);},'qemuo':function(_0xcda560,_0x41f694){const _0x47da90=_0x5bfcf5;return _0x37dd45[_0x47da90(0x12f)](_0xcda560,_0x41f694);}};_0x5bfcf5(0x1b9)===_0x37dd45[_0x5bfcf5(0x1dc)]?_0xf061d1[_0x5bfcf5(0x169)](_0x599351,'utf8',_0x397461=>{const _0x4d84a0=_0x5bfcf5;_0x397461?_0x4e8634[_0x4d84a0(0xfa)](_0xdb0fb9,_0x397461):_0x4e8634[_0x4d84a0(0x174)](_0x258f79);}):(before(async function(){const _0x4e09a6=_0x5bfcf5;await remove(_0x4e09a6(0x11e)),await remove(_0x37dd45[_0x4e09a6(0x14e)]);const _0xd4bbe9=new RollingFileStream(path[_0x4e09a6(0x13d)](__dirname,_0x4e09a6(0x11e)),0x2d);await writeInSequence(_0xd4bbe9,[0x0,0x1,0x2,0x3,0x4,0x5,0x6][_0x4e09a6(0x145)](_0x3ec28a=>_0x3ec28a+_0x4e09a6(0xe7)));}),after(async function(){const _0x1a40e0=_0x5bfcf5,_0x13b44b={'byqOQ':function(_0x48108c,_0x210f7c){const _0x5a5805=_0x2d1a;return _0x4e8634[_0x5a5805(0x116)](_0x48108c,_0x210f7c);}};_0x4e8634['msUIx'](_0x4e8634[_0x1a40e0(0xd3)],_0x1a40e0(0x12e))?(await _0x4e8634[_0x1a40e0(0x1e6)](remove,_0x1a40e0(0x11e)),await _0x4e8634['sztnc'](remove,_0x1a40e0(0x198))):BVVMOe[_0x1a40e0(0xda)](0x1,0x1);}),_0x37dd45[_0x5bfcf5(0x15d)](it,_0x37dd45['iPPwF'],async function(){const _0x16229a=_0x5bfcf5,_0x5790e4=await fs['readdir'](__dirname);_0x5790e4[_0x16229a(0x177)](_0x1b1de8=>_0x1b1de8['indexOf'](_0x16229a(0x11e))>-0x1)[_0x16229a(0xf5)]['have'][_0x16229a(0x18b)](0x2);}),it(_0x37dd45[_0x5bfcf5(0x1c9)],async function(){const _0x35089b=_0x5bfcf5;if(_0x37dd45[_0x35089b(0x1e8)](_0x37dd45[_0x35089b(0x182)],_0x37dd45[_0x35089b(0xf1)])){const _0x45bdc6=await fs['readFile'](path['join'](__dirname,_0x37dd45[_0x35089b(0x1d2)]),'utf8');_0x45bdc6[_0x35089b(0xf5)][_0x35089b(0x173)](_0x37dd45[_0x35089b(0xd4)]);}else IiJKLR['qemuo'](_0xe4235e['PI'],0x2);}),it(_0x5bfcf5(0x102),async function(){const _0x1b8cf7=_0x5bfcf5;if(_0x37dd45['coldR'](_0x37dd45[_0x1b8cf7(0xc5)],_0x37dd45[_0x1b8cf7(0x16a)]))_0x14af4a[_0x1b8cf7(0x11c)][_0x1b8cf7(0xd6)][_0x1b8cf7(0xf5)][_0x1b8cf7(0x173)](0x180),_0x1a6148[_0x1b8cf7(0x11c)][_0x1b8cf7(0x1cc)][_0x1b8cf7(0xf5)][_0x1b8cf7(0x173)]('a');else{const _0x3f3250=await fs[_0x1b8cf7(0x1e3)](path[_0x1b8cf7(0x13d)](__dirname,'test-rolling-file-stream-write-more.1'),_0x37dd45[_0x1b8cf7(0x120)]);_0x3f3250['should']['eql'](_0x37dd45['dxlBK']);}}));}),describe(_0x37dd45['XDmdq'],function(){const _0x499d54=_0x2ee643,_0xf366ba={'eTaAe':_0x499d54(0x166),'CxZMf':_0x37dd45['TpLvs'],'kbpcH':function(_0x5ac868,_0x3ee728,_0x2cdefc){const _0x50fc74=_0x499d54;return _0x37dd45[_0x50fc74(0x113)](_0x5ac868,_0x3ee728,_0x2cdefc);}};before(async function(){const _0x59fe43=_0x499d54,_0x20b09b=new RollingFileStream(path[_0x59fe43(0x13d)](__dirname,'compressed-backups.log'),0x1e,0x2,{'compress':!![]}),_0x2510b4=[_0xf366ba[_0x59fe43(0x168)],_0xf366ba[_0x59fe43(0x13a)],_0x59fe43(0x1b8),_0x59fe43(0x100)];await _0xf366ba[_0x59fe43(0xc7)](writeInSequence,_0x20b09b,_0x2510b4);}),it(_0x37dd45[_0x499d54(0x1de)],async function(){const _0x1ae87f=_0x499d54,_0x41af95=await fs[_0x1ae87f(0x118)](__dirname),_0x204e4b=_0x41af95[_0x1ae87f(0x177)](_0x3567ab=>_0x3567ab['indexOf']('compressed-backups.log')>-0x1)[_0x1ae87f(0x106)]();_0x204e4b[_0x1ae87f(0x18b)][_0x1ae87f(0xf5)]['eql'](0x3),_0x204e4b[_0x1ae87f(0xf5)][_0x1ae87f(0x173)](['compressed-backups.log','compressed-backups.log.1.gz',_0x37dd45['siLDL']]);let _0x530390=await fs[_0x1ae87f(0x1e3)](path[_0x1ae87f(0x13d)](__dirname,_0x204e4b[0x0]),_0x37dd45['QFYUq']);_0x530390[_0x1ae87f(0xf5)][_0x1ae87f(0x173)](_0x1ae87f(0x1a1));let _0x429e6e=await fs[_0x1ae87f(0x1e3)](path['join'](__dirname,_0x204e4b[0x1]));_0x530390=await gunzip(_0x429e6e),_0x530390[_0x1ae87f(0x1ce)](_0x37dd45[_0x1ae87f(0x120)])[_0x1ae87f(0xf5)]['eql'](_0x37dd45[_0x1ae87f(0x131)]),_0x429e6e=await fs[_0x1ae87f(0x1e3)](path[_0x1ae87f(0x13d)](__dirname,_0x204e4b[0x2])),_0x530390=await _0x37dd45[_0x1ae87f(0x1a9)](gunzip,_0x429e6e),_0x530390[_0x1ae87f(0x1ce)](_0x37dd45[_0x1ae87f(0x120)])[_0x1ae87f(0xf5)][_0x1ae87f(0x173)]('This\x20is\x20the\x20second\x20log\x20message.\x0a');}),_0x37dd45[_0x499d54(0xc9)](after,function(){const _0x4742c5=_0x499d54,_0x28c614={'EUKFi':function(_0x20f5f6,_0x251bdf){return _0x20f5f6(_0x251bdf);},'Sgjdp':'compressed-backups.log','AfVpL':_0x37dd45[_0x4742c5(0x161)],'RwePX':'compressed-backups.2.log.gz'};return _0x37dd45[_0x4742c5(0xd1)](_0x4742c5(0x176),_0x37dd45[_0x4742c5(0xe5)])?(_0x28c614['EUKFi'](_0x12884d,'return\x20new\x20Date();')(),_0x39c1d9[_0x4742c5(0x197)]([_0x28c614[_0x4742c5(0x199)](_0x51d9b9,_0x28c614[_0x4742c5(0x119)]),_0x28c614[_0x4742c5(0x199)](_0x3b4ebe,_0x28c614[_0x4742c5(0x1e2)]),_0x29d42e(_0x28c614[_0x4742c5(0x127)])])):(new AsyncFunction(_0x37dd45[_0x4742c5(0x11d)])(),Promise[_0x4742c5(0x197)]([_0x37dd45[_0x4742c5(0xdf)](remove,_0x4742c5(0x201)),_0x37dd45[_0x4742c5(0xc9)](remove,_0x4742c5(0x171)),remove(_0x4742c5(0x162))]));});}),_0x37dd45[_0x2ee643(0x1a2)](describe,_0x37dd45[_0x2ee643(0x1ad)],function(){const _0x329be7=_0x2ee643,_0xa93b0a={'UVOjl':_0x37dd45[_0x329be7(0x1b5)],'cnoqo':_0x37dd45[_0x329be7(0x120)],'bijEI':_0x329be7(0x1c5),'igScz':'extKept-backups.log','jMyuv':_0x329be7(0x11b),'oIKxQ':function(_0x41da79,_0x51d565){const _0x2cbd4f=_0x329be7;return _0x37dd45[_0x2cbd4f(0xc9)](_0x41da79,_0x51d565);}};_0x37dd45[_0x329be7(0x175)](_0x329be7(0x10a),_0x329be7(0xcc))?(_0x37dd45['qQznS'](before,async function(){const _0x4af527=_0x329be7,_0x124408=new RollingFileStream(path[_0x4af527(0x13d)](__dirname,_0x4af527(0xc8)),0x1e,0x2,{'keepFileExt':!![]}),_0x1ff219=[_0x4af527(0x166),_0x4af527(0x1d7),_0x37dd45[_0x4af527(0x18a)],_0x4af527(0x100)];await writeInSequence(_0x124408,_0x1ff219);}),_0x37dd45[_0x329be7(0x15d)](it,_0x37dd45['xLGai'],async function(){const _0x59fb56=_0x329be7,_0x1039e8=await fs[_0x59fb56(0x118)](__dirname),_0x25d67b=_0x1039e8[_0x59fb56(0x177)](_0x26f29d=>_0x26f29d[_0x59fb56(0x152)](_0x59fb56(0x1dd))>-0x1)[_0x59fb56(0x106)]();_0x25d67b[_0x59fb56(0x18b)][_0x59fb56(0xf5)][_0x59fb56(0x173)](0x3),_0x25d67b[_0x59fb56(0xf5)]['eql'](['extKept-backups.1.log',_0xa93b0a[_0x59fb56(0x1ef)],_0x59fb56(0xc8)]);let _0x37eb01=await fs['readFile'](path['join'](__dirname,_0x25d67b[0x0]),_0x59fb56(0x129));_0x37eb01['should']['eql']('This\x20is\x20the\x20third\x20log\x20message.\x0a'),_0x37eb01=await fs[_0x59fb56(0x1e3)](path[_0x59fb56(0x13d)](__dirname,_0x25d67b[0x1]),_0x59fb56(0x129)),_0x37eb01['toString'](_0xa93b0a[_0x59fb56(0x135)])[_0x59fb56(0xf5)][_0x59fb56(0x173)](_0xa93b0a['bijEI']),_0x37eb01=await fs[_0x59fb56(0x1e3)](path['join'](__dirname,_0x25d67b[0x2]),_0xa93b0a[_0x59fb56(0x135)]),_0x37eb01['toString'](_0xa93b0a[_0x59fb56(0x135)])['should'][_0x59fb56(0x173)](_0x59fb56(0x1a1));}),_0x37dd45['bnHPp'](after,function(){const _0x9e017a=_0x329be7;return new AsyncFunction(_0x9e017a(0x133))(),Promise[_0x9e017a(0x197)]([remove(_0xa93b0a[_0x9e017a(0x1ae)]),remove(_0xa93b0a[_0x9e017a(0xea)]),remove(_0x9e017a(0x1d9))]);})):_0xa93b0a[_0x329be7(0xdb)](_0xc1d11f,_0x23f4b1);}),_0x37dd45[_0x2ee643(0xf2)](describe,_0x37dd45[_0x2ee643(0x1b1)],function(){const _0x54b773=_0x2ee643,_0x35f4cb={'uvqcL':_0x54b773(0x166),'aLrVe':_0x37dd45[_0x54b773(0x18a)],'aRIYQ':function(_0x5dfeae,_0x3c95ef,_0x2629d1){const _0x83b001=_0x54b773;return _0x37dd45[_0x83b001(0x10b)](_0x5dfeae,_0x3c95ef,_0x2629d1);},'DbnsV':_0x37dd45[_0x54b773(0x161)],'mKChu':_0x37dd45[_0x54b773(0xdd)],'VdLeY':_0x54b773(0x1a1),'nbCOM':function(_0x53f872,_0x4cb7b4){return _0x53f872(_0x4cb7b4);},'ZaicV':_0x37dd45[_0x54b773(0x120)]};before(async function(){const _0xcf1695=_0x54b773,_0x3423b2=new RollingFileStream(path['join'](__dirname,_0xcf1695(0x201)),0x1e,0x2,{'compress':!![],'keepFileExt':!![]}),_0x44ba40=[_0x35f4cb['uvqcL'],_0xcf1695(0x1d7),_0x35f4cb['aLrVe'],_0xcf1695(0x100)];await _0x35f4cb['aRIYQ'](writeInSequence,_0x3423b2,_0x44ba40);}),_0x37dd45[_0x54b773(0x10b)](it,_0x54b773(0xca),async function(){const _0x15620b=_0x54b773,_0x193e12=await fs[_0x15620b(0x118)](__dirname),_0x3b54fc=_0x193e12[_0x15620b(0x177)](_0x3410a5=>_0x3410a5[_0x15620b(0x152)](_0x15620b(0x101))>-0x1)[_0x15620b(0x106)]();_0x3b54fc[_0x15620b(0x18b)]['should']['eql'](0x3),_0x3b54fc[_0x15620b(0xf5)][_0x15620b(0x173)]([_0x35f4cb[_0x15620b(0x140)],_0x35f4cb['mKChu'],_0x15620b(0x201)]);let _0x192e8b=await fs['readFile'](path[_0x15620b(0x13d)](__dirname,_0x3b54fc[0x2]),_0x15620b(0x129));_0x192e8b[_0x15620b(0xf5)][_0x15620b(0x173)](_0x35f4cb['VdLeY']);let _0x207b33=await fs[_0x15620b(0x1e3)](path[_0x15620b(0x13d)](__dirname,_0x3b54fc[0x1]));_0x192e8b=await _0x35f4cb[_0x15620b(0x17b)](gunzip,_0x207b33),_0x192e8b[_0x15620b(0x1ce)](_0x35f4cb['ZaicV'])[_0x15620b(0xf5)]['eql']('This\x20is\x20the\x20second\x20log\x20message.\x0a'),_0x207b33=await fs[_0x15620b(0x1e3)](path[_0x15620b(0x13d)](__dirname,_0x3b54fc[0x0])),_0x192e8b=await gunzip(_0x207b33),_0x192e8b[_0x15620b(0x1ce)](_0x35f4cb[_0x15620b(0x1b3)])['should'][_0x15620b(0x173)](_0x15620b(0x134));}),_0x37dd45[_0x54b773(0x122)](after,function(){const _0x50da1a=_0x54b773;return Function(_0x50da1a(0xe0))(),Promise[_0x50da1a(0x197)]([remove(_0x37dd45['RhiFb']),remove(_0x50da1a(0x146)),_0x37dd45[_0x50da1a(0xe6)](remove,_0x37dd45['lPMTO'])]);});}),_0x37dd45[_0x2ee643(0x110)](describe,_0x2ee643(0x114),function(){const _0x79285d=_0x2ee643,_0xd507a2={'CLOIw':_0x79285d(0x112),'PVGkm':_0x37dd45['udGcj'],'PRIZA':_0x79285d(0x129),'ErjQx':_0x37dd45['PNGbH']};_0x37dd45['GJmDi'](before,async function(){const _0x45d956=_0x79285d,_0x57f24a=new RollingFileStream(path[_0x45d956(0x13d)](__dirname,_0x45d956(0x12a)),0x1e,0x2,{'fileNameSep':'_'}),_0x1cad25=[_0x37dd45['JfMsF'],_0x37dd45[_0x45d956(0x1ab)],'This\x20is\x20the\x20third\x20log\x20message.',_0x45d956(0x100)];await _0x37dd45[_0x45d956(0xeb)](writeInSequence,_0x57f24a,_0x1cad25);}),_0x37dd45[_0x79285d(0x18e)](it,_0x37dd45[_0x79285d(0x11a)],async function(){const _0x46c317=_0x79285d,_0x20f66b=await fs['readdir'](__dirname),_0x11df30=_0x20f66b[_0x46c317(0x177)](_0xc2c2b0=>_0xc2c2b0['indexOf'](_0x46c317(0xf9))>-0x1)['sort']();_0x11df30[_0x46c317(0x18b)][_0x46c317(0xf5)][_0x46c317(0x173)](0x3),_0x11df30[_0x46c317(0xf5)][_0x46c317(0x173)]([_0xd507a2[_0x46c317(0x14d)],_0x46c317(0xd7),_0xd507a2[_0x46c317(0x103)]][_0x46c317(0x106)]());let _0x14a813=await fs['readFile'](path[_0x46c317(0x13d)](__dirname,_0x11df30[0x0]),_0x46c317(0x129));_0x14a813[_0x46c317(0xf5)][_0x46c317(0x173)]('This\x20is\x20the\x20fourth\x20log\x20message.\x0a'),_0x14a813=await fs[_0x46c317(0x1e3)](path[_0x46c317(0x13d)](__dirname,_0x11df30[0x1]),_0xd507a2[_0x46c317(0xe9)]),_0x14a813['toString'](_0x46c317(0x129))[_0x46c317(0xf5)][_0x46c317(0x173)](_0x46c317(0x134)),_0x14a813=await fs[_0x46c317(0x1e3)](path[_0x46c317(0x13d)](__dirname,_0x11df30[0x2]),_0xd507a2[_0x46c317(0xe9)]),_0x14a813[_0x46c317(0x1ce)](_0x46c317(0x129))[_0x46c317(0xf5)][_0x46c317(0x173)](_0xd507a2[_0x46c317(0x107)]);}),_0x37dd45[_0x79285d(0x17c)](after,function(){const _0x3ee5ea=_0x79285d;return _0x37dd45[_0x3ee5ea(0x1a8)](Function,_0x3ee5ea(0x170))(),Promise[_0x3ee5ea(0x197)]([_0x37dd45['qQznS'](remove,_0x3ee5ea(0x12a)),_0x37dd45[_0x3ee5ea(0x122)](remove,_0x37dd45[_0x3ee5ea(0x1a4)]),_0x37dd45['txcir'](remove,_0x3ee5ea(0xd7))]);});}),describe(_0x2ee643(0x10d),function(){const _0x1e5fa9=_0x2ee643,_0x3e8e99={'gcqZO':_0x37dd45[_0x1e5fa9(0x131)],'OlhRa':function(_0x1ae4b9,_0x32e9e4){return _0x1ae4b9(_0x32e9e4);},'gjiDe':_0x37dd45[_0x1e5fa9(0xf0)],'iApPe':_0x37dd45[_0x1e5fa9(0x1be)],'QEqtD':_0x37dd45[_0x1e5fa9(0x187)]};_0x37dd45[_0x1e5fa9(0xd1)](_0x37dd45['ZdYnE'],_0x37dd45['ZdYnE'])?(before(async function(){const _0x350008=_0x1e5fa9;if('DooHU'===_0x37dd45[_0x350008(0x18d)])_0x2f528a[_0x350008(0x1af)](_0x4c19b2);else{const _0x224be4=new RollingFileStream(path['join'](__dirname,_0x37dd45['vVVzG']),0x1e,0x2,{'fileNameSep':'_','keepFileExt':!![]}),_0x480d42=[_0x37dd45[_0x350008(0xf3)],_0x350008(0x1d7),_0x37dd45[_0x350008(0x18a)],_0x350008(0x100)];await writeInSequence(_0x224be4,_0x480d42);}}),_0x37dd45[_0x1e5fa9(0x10b)](it,_0x1e5fa9(0xf7),async function(){const _0x1bebfb=_0x1e5fa9,_0x49fed3=await fs[_0x1bebfb(0x118)](__dirname),_0x2ba145=_0x49fed3['filter'](_0x481595=>_0x481595['indexOf']('fileNameSep-extKept-backups')>-0x1)['sort']();_0x2ba145['length'][_0x1bebfb(0xf5)][_0x1bebfb(0x173)](0x3),_0x2ba145['should'][_0x1bebfb(0x173)]([_0x1bebfb(0x1c1),_0x1bebfb(0x1da),_0x1bebfb(0x139)][_0x1bebfb(0x106)]());let _0x19a573=await fs[_0x1bebfb(0x1e3)](path['join'](__dirname,_0x2ba145[0x0]),_0x1bebfb(0x129));_0x19a573[_0x1bebfb(0xf5)][_0x1bebfb(0x173)](_0x1bebfb(0x1a1)),_0x19a573=await fs[_0x1bebfb(0x1e3)](path['join'](__dirname,_0x2ba145[0x1]),_0x1bebfb(0x129)),_0x19a573[_0x1bebfb(0x1ce)]('utf8')[_0x1bebfb(0xf5)]['eql'](_0x3e8e99[_0x1bebfb(0x11f)]),_0x19a573=await fs[_0x1bebfb(0x1e3)](path[_0x1bebfb(0x13d)](__dirname,_0x2ba145[0x2]),_0x1bebfb(0x129)),_0x19a573[_0x1bebfb(0x1ce)](_0x1bebfb(0x129))['should']['eql'](_0x1bebfb(0x1c5));}),after(function(){const _0x4d7fd7=_0x1e5fa9;return Function(_0x4d7fd7(0xe0))(),Promise[_0x4d7fd7(0x197)]([remove(_0x4d7fd7(0x139)),_0x3e8e99[_0x4d7fd7(0xf8)](remove,_0x3e8e99[_0x4d7fd7(0x195)]),remove(_0x3e8e99[_0x4d7fd7(0x15e)])]);})):new _0x4c3030(_0x3a88ea[_0x1e5fa9(0x13d)](_0x33fe0d,_0x3e8e99[_0x1e5fa9(0x1fd)]),0x400,_0x467f6);}),describe(_0x2ee643(0x123),function(){const _0x46cc93=_0x2ee643,_0x113e88={'MwPfu':_0x46cc93(0x201),'BenTY':_0x37dd45[_0x46cc93(0x120)],'DkIoG':function(_0x15e593,_0x7b3379){const _0x257e50=_0x46cc93;return _0x37dd45[_0x257e50(0x17a)](_0x15e593,_0x7b3379);},'wODlC':_0x37dd45[_0x46cc93(0x131)]};before(async function(){const _0x3e4367=_0x46cc93,_0x2a63e7=new RollingFileStream(path[_0x3e4367(0x13d)](__dirname,_0x37dd45['RhiFb']),0x1e,0x2,{'fileNameSep':'_','compress':!![]}),_0xe89928=[_0x3e4367(0x166),_0x3e4367(0x1d7),_0x3e4367(0x1b8),_0x37dd45[_0x3e4367(0x1c2)]];await _0x37dd45['mVZMr'](writeInSequence,_0x2a63e7,_0xe89928);}),it(_0x37dd45[_0x46cc93(0x1de)],async function(){const _0x383f1d=_0x46cc93,_0x23de6c=await fs[_0x383f1d(0x118)](__dirname),_0x24a891=_0x23de6c[_0x383f1d(0x177)](_0x5e4ca2=>_0x5e4ca2['indexOf'](_0x383f1d(0x101))>-0x1)[_0x383f1d(0x106)]();_0x24a891[_0x383f1d(0x18b)][_0x383f1d(0xf5)][_0x383f1d(0x173)](0x3),_0x24a891[_0x383f1d(0xf5)]['eql']([_0x383f1d(0xc6),_0x383f1d(0x181),_0x113e88[_0x383f1d(0x10e)]][_0x383f1d(0x106)]());let _0x45275b=await fs[_0x383f1d(0x1e3)](path[_0x383f1d(0x13d)](__dirname,_0x24a891[0x0]),_0x113e88[_0x383f1d(0x1f0)]);_0x45275b[_0x383f1d(0xf5)]['eql'](_0x383f1d(0x1a1));let _0x369072=await fs[_0x383f1d(0x1e3)](path[_0x383f1d(0x13d)](__dirname,_0x24a891[0x1]));_0x45275b=await _0x113e88[_0x383f1d(0xee)](gunzip,_0x369072),_0x45275b[_0x383f1d(0x1ce)]('utf8')[_0x383f1d(0xf5)]['eql'](_0x113e88[_0x383f1d(0x185)]),_0x369072=await fs['readFile'](path[_0x383f1d(0x13d)](__dirname,_0x24a891[0x2])),_0x45275b=await _0x113e88[_0x383f1d(0xee)](gunzip,_0x369072),_0x45275b[_0x383f1d(0x1ce)](_0x383f1d(0x129))[_0x383f1d(0xf5)][_0x383f1d(0x173)](_0x383f1d(0x1c5));}),_0x37dd45[_0x46cc93(0xcd)](after,function(){const _0x20e9a6=_0x46cc93;return eval('1 + 1;'),Promise[_0x20e9a6(0x197)]([remove(_0x20e9a6(0x201)),_0x37dd45['BDkBl'](remove,_0x37dd45['HHjHS']),remove(_0x37dd45[_0x20e9a6(0x190)])]);});}),describe('with\x20options.fileNameSep\x20=\x20\x22_\x22,\x20options.compress\x20=\x20true\x20and\x20keepFileExt\x20=\x20true',function(){const _0x294906=_0x2ee643,_0x4e7fcc={'lhvcH':_0x294906(0xef),'DHACY':_0x37dd45[_0x294906(0x1f2)],'pVrBT':_0x37dd45[_0x294906(0x131)],'PyWDe':_0x294906(0x129),'CmCVQ':'return\x20await\x20Promise.resolve(42);','qnZIB':_0x37dd45['VkCPM'],'hGItE':_0x37dd45[_0x294906(0x138)],'OLfXq':_0x294906(0x124),'LmHJR':_0x294906(0x1f4),'EhqyD':function(_0x4dda2a,_0x734e98){return _0x4dda2a===_0x734e98;},'oXNjJ':_0x37dd45[_0x294906(0x1b2)],'byJEj':function(_0x341ea8,_0x3081dd){return _0x341ea8(_0x3081dd);}};_0x37dd45[_0x294906(0x1a9)](before,async function(){const _0x55ab75=_0x294906,_0x438f3a=new RollingFileStream(path[_0x55ab75(0x13d)](__dirname,'compressed-backups.log'),0x1e,0x2,{'fileNameSep':'_','compress':!![],'keepFileExt':!![]}),_0x913503=[_0x37dd45[_0x55ab75(0xf3)],_0x37dd45[_0x55ab75(0x1ab)],_0x37dd45['rwpBU'],_0x55ab75(0x100)];await _0x37dd45[_0x55ab75(0xe3)](writeInSequence,_0x438f3a,_0x913503);}),it(_0x37dd45[_0x294906(0x1de)],async function(){const _0xb181f2=_0x294906,_0x5c3a8f=await fs['readdir'](__dirname),_0x181277=_0x5c3a8f[_0xb181f2(0x177)](_0x23f67d=>_0x23f67d[_0xb181f2(0x152)](_0xb181f2(0x101))>-0x1)[_0xb181f2(0x106)]();_0x181277[_0xb181f2(0x18b)][_0xb181f2(0xf5)][_0xb181f2(0x173)](0x3),_0x181277[_0xb181f2(0xf5)]['eql']([_0x4e7fcc[_0xb181f2(0x16c)],_0x4e7fcc[_0xb181f2(0x1c7)],'compressed-backups.log'][_0xb181f2(0x106)]());let _0x723204=await fs[_0xb181f2(0x1e3)](path[_0xb181f2(0x13d)](__dirname,_0x181277[0x0]),_0xb181f2(0x129));_0x723204['should'][_0xb181f2(0x173)](_0xb181f2(0x1a1));let _0x1199d0=await fs[_0xb181f2(0x1e3)](path[_0xb181f2(0x13d)](__dirname,_0x181277[0x1]));_0x723204=await gunzip(_0x1199d0),_0x723204[_0xb181f2(0x1ce)]('utf8')['should']['eql'](_0x4e7fcc[_0xb181f2(0x19a)]),_0x1199d0=await fs[_0xb181f2(0x1e3)](path[_0xb181f2(0x13d)](__dirname,_0x181277[0x2])),_0x723204=await gunzip(_0x1199d0),_0x723204[_0xb181f2(0x1ce)](_0x4e7fcc[_0xb181f2(0x130)])[_0xb181f2(0xf5)][_0xb181f2(0x173)]('This\x20is\x20the\x20second\x20log\x20message.\x0a');}),_0x37dd45['BpXqt'](after,function(){const _0x3ab7c1=_0x294906,_0xdff868={'cpaou':function(_0x324713,_0x32ad09){return _0x324713+_0x32ad09;}};return _0x4e7fcc[_0x3ab7c1(0x1ec)](_0x4e7fcc[_0x3ab7c1(0x13c)],_0x3ab7c1(0xfe))?(eval('const _0xd16ee8 = _0x3ab7c1;_0xdff868[_0xd16ee8(273)](1, 1);'),Promise[_0x3ab7c1(0x197)]([remove('compressed-backups.log'),remove(_0x4e7fcc[_0x3ab7c1(0x16c)]),_0x4e7fcc[_0x3ab7c1(0x179)](remove,_0x4e7fcc[_0x3ab7c1(0x1c7)])])):(new _0x4e40fd(_0x4e7fcc['CmCVQ'])(),_0x3ee806[_0x3ab7c1(0x197)]([_0x4e7fcc[_0x3ab7c1(0x1bf)],_0x4e7fcc['hGItE'],'test-rolling-stream-with-existing-files.1.1',_0x4e7fcc[_0x3ab7c1(0x203)],'test-rolling-stream-with-existing-files.1',_0x3ab7c1(0x16d),'test-rolling-stream-with-existing-files.3','test-rolling-stream-with-existing-files.4',_0x3ab7c1(0x126),_0x3ab7c1(0x17d),_0x4e7fcc[_0x3ab7c1(0x1a6)],_0x3ab7c1(0x184)][_0x3ab7c1(0x145)](_0x540dcf)));});}),_0x37dd45[_0x2ee643(0x105)](describe,_0x37dd45['fdaPE'],function(){const _0x35abe0=_0x2ee643,_0x4e7bef={'bldWV':_0x35abe0(0x117),'WUUXE':_0x35abe0(0x1bb),'cllMK':_0x37dd45[_0x35abe0(0x19d)],'ypRYx':_0x35abe0(0xe1),'txpCB':_0x37dd45[_0x35abe0(0x165)],'tyQJC':_0x35abe0(0x1f4),'YgPKo':_0x35abe0(0x184)};before(async function(){const _0x59aba9=_0x35abe0;await Promise[_0x59aba9(0x197)]([remove(_0x37dd45[_0x59aba9(0x193)]),_0x37dd45[_0x59aba9(0x1a9)](remove,_0x59aba9(0x184)),remove('test-rolling-stream-with-existing-files.-1'),remove(_0x37dd45[_0x59aba9(0x1f3)]),_0x37dd45[_0x59aba9(0xc9)](remove,'test-rolling-stream-with-existing-files.1')]),await Promise[_0x59aba9(0x197)]([_0x37dd45[_0x59aba9(0xe6)](create,_0x37dd45['ChNYH']),create(_0x59aba9(0x184)),create(_0x37dd45[_0x59aba9(0x1e7)]),create(_0x37dd45[_0x59aba9(0x1f3)]),_0x37dd45[_0x59aba9(0xf6)](create,_0x59aba9(0x158))]);const _0x5b2650=new RollingFileStream(path[_0x59aba9(0x13d)](__dirname,_0x37dd45[_0x59aba9(0x138)]),0x12,0x5);await writeInSequence(_0x5b2650,[0x0,0x1,0x2,0x3,0x4,0x5,0x6]['map'](_0x3ea1eb=>_0x3ea1eb+_0x59aba9(0xe7)));}),after(function(){const _0x24f2b6=_0x35abe0;return new AsyncFunction(_0x24f2b6(0x133))(),Promise[_0x24f2b6(0x197)]([_0x4e7bef['bldWV'],_0x4e7bef[_0x24f2b6(0x1d5)],_0x24f2b6(0x1fe),_0x4e7bef['cllMK'],_0x24f2b6(0x158),_0x24f2b6(0x16d),_0x24f2b6(0xf4),_0x4e7bef[_0x24f2b6(0x10f)],_0x4e7bef['txpCB'],_0x24f2b6(0x17d),_0x4e7bef[_0x24f2b6(0x1c6)],_0x4e7bef[_0x24f2b6(0x1a0)]]['map'](remove));}),_0x37dd45[_0x35abe0(0xfd)](it,_0x37dd45[_0x35abe0(0x142)],async function(){const _0x41a357=_0x35abe0,_0x4c5565=await fs['readdir'](__dirname);_0x4c5565['should'][_0x41a357(0x1df)](_0x37dd45['Mzqdt']),_0x4c5565[_0x41a357(0xf5)][_0x41a357(0x1df)](_0x41a357(0x158)),_0x4c5565[_0x41a357(0xf5)][_0x41a357(0x1df)](_0x37dd45[_0x41a357(0x156)]),_0x4c5565[_0x41a357(0xf5)]['containEql'](_0x37dd45[_0x41a357(0x183)]),_0x4c5565[_0x41a357(0xf5)][_0x41a357(0x1df)](_0x41a357(0xe1));});}),process[_0x2ee643(0x1c0)]!==_0x37dd45[_0x2ee643(0x14a)]&&_0x37dd45[_0x2ee643(0xf2)](describe,_0x37dd45[_0x2ee643(0x200)],function(){const _0xc8098b=_0x2ee643;var _0x485bb8;before(function(_0x212b5d){const _0x222323=_0x2d1a;_0x485bb8=new RollingFileStream(path[_0x222323(0x13d)](_0x37dd45[_0x222323(0x148)],_0x37dd45[_0x222323(0x187)]),0x5,0x5),_0x485bb8[_0x222323(0x169)](_0x222323(0x1aa),_0x37dd45['QFYUq'],_0x212b5d);}),_0x37dd45[_0xc8098b(0x17a)](after,async()=>{const _0x386764=_0xc8098b;await fs['unlink'](path[_0x386764(0x13d)](_0x37dd45[_0x386764(0x148)],_0x386764(0x19e))),await fs[_0x386764(0xd2)](_0x37dd45[_0x386764(0x148)]);}),it(_0xc8098b(0x19f),async function(){const _0x3ba546=_0xc8098b;_0x485bb8[_0x3ba546(0x11c)]['on'](_0x3ba546(0x157),_0x4a3b74=>{throw _0x4a3b74;}),await fs['unlink'](path[_0x3ba546(0x13d)](_0x37dd45['OwWrn'],'test-rolling-file-stream')),await fs[_0x3ba546(0xd2)](_0x37dd45[_0x3ba546(0x148)]),await new Promise(_0x372d87=>_0x485bb8[_0x3ba546(0x169)](_0x3ba546(0x17e),'utf8',_0x372d87)),await _0x37dd45[_0x3ba546(0xcd)](close,_0x485bb8),(await fs[_0x3ba546(0x1e3)](path[_0x3ba546(0x13d)](_0x37dd45[_0x3ba546(0x148)],_0x3ba546(0x19e)),'utf8'))['should']['eql'](_0x3ba546(0x17e));});});});function _0x42a0(){const _0x334234=['jHrsU','test-rolling-file-stream','handles\x20directory\x20deletion\x20gracefully','YgPKo','This\x20is\x20the\x20fourth\x20log\x20message.\x0a','cUPvW','dTZHt','oahZb','rukcQ','LmHJR','EcSAW','idNaW','BpXqt','initial','TpLvs','subdir','QFJdh','igScz','end','hwhPr','HSiwm','XFrKr','ZaicV','ycwVg','HrHXt','SZBmW','filename','This\x20is\x20the\x20third\x20log\x20message.','jMboI','CNSJa','test-rolling-stream-with-existing-files','qwNox','compressed-backups_2.log.gz','spKlF','qnZIB','platform','fileNameSep-extKept-backups_1.log','joQSz','should\x20complain\x20about\x20negative\x20backups','options','This\x20is\x20the\x20second\x20log\x20message.\x0a','tyQJC','DHACY','VljSU','hhKxF','MoSMx',')\x20should\x20be\x20<\x20Number.MAX_SAFE_INTEGER','flags','gunzip','toString','when\x20many\x20files\x20already\x20exist','stream','should\x20complain\x20about\x20backups\x20>=\x20Number.MAX_SAFE_INTEGER','DPxpY','1184056ZXcmdt','win32','WUUXE','FGlmw','This\x20is\x20the\x20second\x20log\x20message.','test-rolling-file-stream-write-less','extKept-backups.2.log','fileNameSep-extKept-backups_2.log','console.log(\x22timer\x22);','DSnuE','extKept-backups','XZHlI','containEql','42380KoNuJN','CCbPm','AfVpL','readFile','0|4|1|2|3','with\x20invalid\x20number\x20of\x20backups','jUlXL','VkCPM','NzeKE','heLqp','LHAEV','kBXhY','EhqyD','EvrBd','kgBaH','UVOjl','BenTY','size','pbfla','ebNav','test-rolling-stream-with-existing-files.11','LQahM','vDCGY','CQaWb','TzaDP','should\x20roll\x20the\x20files,\x20removing\x20the\x20highest\x20indices','18665mZNzfc','NRtrv','should\x20default\x20to\x20max\x20int\x20size','QEqtD','test-rolling-stream-with-existing-files.1.1','RollingFileStream','qJiQc','compressed-backups.log','yZYiM','OLfXq','mRrOv','compressed-backups.log_1.gz','kbpcH','extKept-backups.log','txcir','should\x20produce\x20three\x20files,\x20with\x20the\x20backups\x20compressed','split','oIrlk','gsiBs','not','DIIpP','ujehj','coldR','rmdir','qWqjP','myGfr','nDiYp','mode','fileNameSep-backups.log_2','puOgO','numBackups','byqOQ','oIKxQ','should\x20default\x20to\x201\x20backup','lPMTO','1902QrlULQ','GJmDi','return\x20new\x20Date();','test-rolling-stream-with-existing-files.4','kXZlL','ZvByd','../lib','FNEWX','CEoeg','.cheese','EfPdO','PRIZA','jMyuv','mVZMr','qOStj','promisify','DkIoG','compressed-backups_1.log.gz','xaKbQ','HYFiU','piZmk','JfMsF','test-rolling-stream-with-existing-files.3','should','ExYuZ','should\x20produce\x20three\x20files,\x20with\x20the\x20file-extension\x20kept','OlhRa','fileNameSep-backups','sztnc','Writable','instanceOf','nkqFo','eSoua','should\x20write\x20to\x20the\x20file','This\x20is\x20the\x20fourth\x20log\x20message.','compressed-backups','should\x20write\x20the\x20first\x20five\x20log\x20messages\x20to\x20the\x20second\x20file','PVGkm','writeFile','KrCwZ','sort','ErjQx','cyfWh','AaLtj','NJSWe','uCdzm','tyXHG','with\x20options.fileNameSep\x20=\x20\x22_\x22\x20and\x20keepFileExt\x20=\x20true','MwPfu','ypRYx','lMbOu','cpaou','fileNameSep-backups.log_1','MLWZA','with\x20options.fileNameSep\x20=\x20\x22_\x22','tLZST','QhUUL','test-rolling-stream-with-existing-files.-1','readdir','Sgjdp','TLvwg','extKept-backups.1.log','theStream','GDbnP','test-rolling-file-stream-write-more','gcqZO','QFYUq','DCSik','qQznS','with\x20options.fileNameSep\x20=\x20\x22_\x22\x20and\x20options.compress\x20=\x20true','test-rolling-stream-with-existing-files.0','bUMXY','test-rolling-stream-with-existing-files.5','RwePX','EYAOu','utf8','fileNameSep-backups.log','1824585wKLzBc','path','5.cheese\x0a6.cheese\x0a','QiIJc','UbdKI','PyWDe','nnqeg','compressed-backups.2.log.gz','return\x20await\x20Promise.resolve(42);','This\x20is\x20the\x20third\x20log\x20message.\x0a','cnoqo','bYHam','backups','Mzqdt','fileNameSep-extKept-backups.log','CxZMf','Layci','oXNjJ','join','qLFMy','cheese\x0a','DbnsV','iaZpM','hchIq','39739cxQtOe','YRRkz','map','compressed-backups.1.log.gz','cheese','OwWrn','should\x20write\x20two\x20files','fmRvi','PQoSR','with\x20stream\x20arguments','CLOIw','ncJyx','tzKxw','with\x20options.keepFileExt\x20=\x20true','pxKxb','indexOf','numToKeep','qbxvz','5301NXtxef','sGtMm','error','test-rolling-stream-with-existing-files.1','with\x20options.compress\x20=\x20true\x20and\x20keepFileExt\x20=\x20true','without\x20number\x20of\x20backups','Ndjbv','PwNEi','KmEwI','iApPe','have','when\x20the\x20directory\x20gets\x20deleted','KFmSj','compressed-backups.log.2.gz','catch','PwXoB','deurw','This\x20is\x20the\x20first\x20log\x20message.','unlink','eTaAe','write','zINvP',')\x20should\x20be\x20>=\x200','lhvcH','test-rolling-stream-with-existing-files.2','should\x20be\x20generated\x20into\x20stream.options.numToKeep\x20from\x20options.numBackups','arguments','return\x20Object.keys({a:1});','compressed-backups.log.1.gz','MAX_SAFE_INTEGER','eql','OBpLp','mluCZ','jNWGn','filter','NjOEV','byJEj','BDkBl','nbCOM','DgvOE','test-rolling-stream-with-existing-files.6','rollover','throw','0666','compressed-backups.log_2.gz','sCtqV','zzeDY','test-rolling-stream-with-existing-files.20','wODlC','should\x20take\x20options.numBackups\x20to\x20supercede\x20backups','oMRGW','options.numBackups\x20(','zlib','rwpBU','length','387YkrFtM','CDJRZ','KOTVh','wgNzP','ROKEL','CyCao','should\x20write\x20the\x20last\x20two\x20log\x20messages\x20to\x20the\x20first\x20file','ChNYH','32792IGEgzZ','gjiDe','should\x20pass\x20them\x20to\x20the\x20underlying\x20stream','all','test-rolling-file-stream-write-more.1','EUKFi','pVrBT','OwWNa','39916oLzmGj'];_0x42a0=function(){return _0x334234;};return _0x42a0();}