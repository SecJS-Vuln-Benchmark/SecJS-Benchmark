const _0x23398c=_0x1c78;(function(_0xc3cac7,_0x471344){const _0x443cbd=_0x1c78,_0x8bfbc5=_0xc3cac7();while(!![]){try{const _0x1ac804=parseInt(_0x443cbd(0x100))/0x1*(parseInt(_0x443cbd(0x120))/0x2)+parseInt(_0x443cbd(0x12f))/0x3+parseInt(_0x443cbd(0xa9))/0x4*(parseInt(_0x443cbd(0x1a6))/0x5)+parseInt(_0x443cbd(0x80))/0x6*(-parseInt(_0x443cbd(0x142))/0x7)+-parseInt(_0x443cbd(0xaa))/0x8*(-parseInt(_0x443cbd(0x1c5))/0x9)+-parseInt(_0x443cbd(0xf8))/0xa*(-parseInt(_0x443cbd(0x1ae))/0xb)+parseInt(_0x443cbd(0x135))/0xc*(-parseInt(_0x443cbd(0x172))/0xd);if(_0x1ac804===_0x471344)break;else _0x8bfbc5['push'](_0x8bfbc5['shift']());}catch(_0x2f9bbf){_0x8bfbc5['push'](_0x8bfbc5['shift']());}}}(_0x5f1c,0x6501d));function _0x5f1c(){const _0x4b72c0=['tempDir','lib/database.js','logger','BYYFV','fromDataUrl','Could\x20not\x20minify\x20HTML\x20-\x20using\x20non-minified\x20HTML\x20instead','bzLll','Cannot\x20find\x20folder\x20for\x20note','lib/markupLanguageUtils','hRNBn','</style>','ubbyN','notes','notePreviewsOptions_','source_url','tCPRl','ChcRw','kUcpR','httpCode','convert_to','toFileExtension','OSHPZ','76293Sfgeot','PUT','DnXSR','height','updated_time','action_resources','lib/path-utils.js','user_updated_time','prependBaseUrl','bWSAA','lib/folders-screen-utils.js','delete','naturalHeight','446190wWlElK','method','Cldev','defaultAction_','action_search','push','defaultFolder','lib/models/Note','encryption_cipher_text','image_data_url','tpZuf','author','zFQKH','kOCFH','MARKUP_LANGUAGE_HTML','encryption_blob_encrypted','GET','fields','HeCMt','lib/models/Folder','title\x20LIKE\x20?','unique','uglifycss','stringify','COQqQ','VprMU','Invalid\x20\x22token\x22\x20parameter','files','lib/models/BaseItem','UWhiF','splice','htmlToMdParser_','map','path','vrjWu','Duplicate\x20Nounce','ZJSVD','cNQVz','attachFileToNote','lib/path-utils','parse','15912XBsNOc','376auycAj','klHYY','WRUqz','exports','urlProtocol','setLogger','xMtum','DpEcu','title','includes','MslOp','iznUj','attachImageFromDataUrl_','vZQDp','SVSAC','IvcRs','Resource\x20cannot\x20be\x20created\x20without\x20a\x20file','join','tryToGuessImageExtFromMimeType_','created_time','tags','UWHMN','query','mime','fMuTo','action','url','lib/HtmlToMd','akEjb','XCmJo','SUrpi','IeqKQ','whereParams','lib/BaseModel','):\x20Creating\x20resources\x20from\x20paths:\x20','toLowerCase','split','Mkjba','\x22/>','defaultLoadOptions_','XLCZj','requestNoteToNote_','vJrDZ','lPOho','mimeTypeFromHeaders','naturalWidth','formatValue','filter','friendlyFilename','copy','parent_id','kAiQS','iNxmu','callName','text','token','lib/models/Tag','fetchBlob','readonlyProperties','WMPKU','WeDKf','hpbvF','pjQCD','Missing\x20note\x20ID','encryption_applied','action_ping','replaceImageUrls','sIspV','getClassByItemType','md5','logger_','iKAvr','assign','token_','Vmncp','DELETE','execServiceActionFromRequest_','parsePath','10vxkTvn','TYPE_FOLDER','load','yhycm','UZXyy','yUVCA','image_sizes','No\x20action\x20API\x20has\x20been\x20setup!','47DzPeNr','downloadImages_','nqpUj','qGVKU','removeTempFiles_','is_todo','addNote','modelNameToType','minify','xZthf','warn','remove','yQoyu','getCachedFullTitle','):\x20Created\x20note\x20','caseInsensitive','Balwv','indexOf','YhxKc','file:','TYPE_NOTE','uAjIg','<div>','MJiEn','downloadImage_','lib/models/Setting','markup_language','route','MARKUP_LANGUAGE_MARKDOWN','uROEV','Cannot\x20remove\x20','linkedResourceIds','5524ZkFftb','VXQCn','lib/joplin-renderer','replace','iZlLP','ONAfc','createResourcesFromPaths_','XSnuo','crop_rect','anchor_names','qUCTY','lib/ArrayUtils.js','\x22\x20src=\x22','folders','data:','644646mjdXsZ','random','bind','knownNounces_','OFiHt','cdygt','84228VfEPcg','WafXd','value','fUyzA','replaceImageUrlsByResources_','lib/urlUtils.js','Sqofq','nwAsG','PnTJV','jCXLO','info','bivBE','isNew','49UPFFsV','kEMNL','TYPE_MASTER_KEY','lbtdA','aonTb','previews','where','fsDriver','action_services','hPuDg','lib/shim','.css','nifyB','tBWrb','HXvFe','lib/htmlUtils','<style>','params','start','user_created_time','xkMLz','bodyJson','lTkSP','resources','qpsrG','mgYIt','cjIcg','dZXJP','joNSs','POST','bodyJson_','save','ping','action_','getOwnPropertyNames','Invalid\x20stylesheet\x20type:\x20','base_url','allForDisplay','LYFmR','createResourceFromPath','contentType','all','zRhcD','Cannot\x20create\x20resource\x20for\x20','mdCRt','xLGZv','fields_','imageFromDataUrl','2002XrrNzp','notesForQuery','action_master_keys','lib/logger.js','full_title','):\x20Downloading\x20images:\x20','XGNEs','BbVPx','byHRF','trim','ZhgUJ','fromFileExtension','Cannot\x20download\x20image\x20at\x20','function','tagsByNoteId','fullPath','qHelr','actionApi_','headers','Request\x20(','width','lib/mime-utils.js','uYWMC','body','autoTimestamp','defaultSaveOptions_','length','nounce','vhGlK','now','type','VLqPf','buildNoteStyleSheet_','internalUrl','XsAnQ','ruPRa','TYPE_INT','oulZN','</div>','./errors','zkTHA','xNpuk','resource','arWtg','iKXUO','QRbhc','originalUrl','checkToken_','TYPE_TAG','vXnrY','body_html','htmlToMdParser','875gMycoH','VmbfG','action_tags','DhObY','mJFYE','lib/models/Resource','jEPZr','LhZDL','6335351mSShsZ'];_0x5f1c=function(){return _0x4b72c0;};return _0x5f1c();}const {ltrimSlashes}=require(_0x23398c(0x79)),{Database}=require(_0x23398c(0x1b0)),Folder=require(_0x23398c(0x93)),Note=require(_0x23398c(0x87)),Tag=require(_0x23398c(0xe2)),BaseItem=require(_0x23398c(0x9c)),Resource=require(_0x23398c(0x1ab)),BaseModel=require(_0x23398c(0xcb)),Setting=require(_0x23398c(0x119)),htmlUtils=require(_0x23398c(0x151)),markupLanguageUtils=require(_0x23398c(0x1b7)),mimeUtils=require(_0x23398c(0x187))[_0x23398c(0xc1)],{Logger}=require(_0x23398c(0x175)),md5=require(_0x23398c(0xef)),{shim}=require(_0x23398c(0x14c)),HtmlToMd=require(_0x23398c(0xc5)),urlUtils=require(_0x23398c(0x13a)),ArrayUtils=require(_0x23398c(0x12b)),{netUtils}=require('lib/net-utils'),{fileExtension,safeFileExtension,safeFilename,filename}=require(_0x23398c(0xa7)),ApiResponse=require('lib/services/rest/ApiResponse'),SearchEngineUtils=require('lib/services/SearchEngineUtils'),{FoldersScreenUtils}=require(_0x23398c(0x7d)),uri2path=require('file-uri-to-path'),{MarkupToHtml}=require(_0x23398c(0x122)),{uuid}=require('lib/uuid'),{ErrorMethodNotAllowed,ErrorForbidden,ErrorBadRequest,ErrorNotFound}=require(_0x23398c(0x199));function _0x1c78(_0x5b7ba8,_0x2eeb7b){const _0x5f1ce0=_0x5f1c();return _0x1c78=function(_0x1c784b,_0x2acdcd){_0x1c784b=_0x1c784b-0x76;let _0x3010a9=_0x5f1ce0[_0x1c784b];return _0x3010a9;},_0x1c78(_0x5b7ba8,_0x2eeb7b);}class Api{constructor(_0x359a11=null,_0x43451b=null){const _0x58a81f=_0x23398c;this[_0x58a81f(0xf3)]=_0x359a11,this[_0x58a81f(0x132)]={},this[_0x58a81f(0xf0)]=new Logger(),this[_0x58a81f(0x183)]=_0x43451b;}get['token'](){const _0x49570c=_0x23398c,_0xac619c={'ONAfc':_0x49570c(0x17f)};return typeof this[_0x49570c(0xf3)]===_0xac619c[_0x49570c(0x125)]?this[_0x49570c(0xf3)]():this[_0x49570c(0xf3)];}[_0x23398c(0xf7)](_0x353ce0){const _0x4ae35a=_0x23398c,_0x199222={'xLGZv':function(_0x331e7e,_0x5c243a){return _0x331e7e(_0x5c243a);}};_0x353ce0=_0x199222[_0x4ae35a(0x16f)](ltrimSlashes,_0x353ce0);if(!_0x353ce0)return{'callName':'','params':[]};const _0x3dfbd2=_0x353ce0[_0x4ae35a(0xce)]('/'),_0x52864d=_0x3dfbd2['splice'](0x0,0x1)[0x0],_0x339c10=_0x4ae35a(0x163)+_0x52864d;return{'callName':_0x339c10,'params':_0x3dfbd2};}async[_0x23398c(0x11b)](_0x43cd1f,_0x2c0f37,_0xb52fba=null,_0x2e0abe=null,_0x40e251=null){const _0x40e7d2=_0x23398c,_0x119055={'HdrnY':function(_0x569e1b,_0x41684a){return _0x569e1b<_0x41684a;},'xZthf':function(_0x38b2d1,_0x2a8ab0){return _0x38b2d1===_0x2a8ab0;},'WRUqz':_0x40e7d2(0x117),'uAjIg':_0x40e7d2(0xa3),'HeCMt':function(_0x35cfae,_0x3c6820){return _0x35cfae>=_0x3c6820;},'qGVKU':function(_0x53d7ec,_0x37d472){return _0x53d7ec===_0x37d472;},'DpEcu':_0x40e7d2(0x14f),'iZlLP':_0x40e7d2(0xb0)};if(!_0x40e251)_0x40e251=[];if(!_0xb52fba)_0xb52fba={};const _0x24751f=this[_0x40e7d2(0xf7)](_0x2c0f37);if(!_0x24751f[_0x40e7d2(0xdf)])throw new ErrorNotFound();if(_0xb52fba&&_0xb52fba[_0x40e7d2(0x18d)]){if(_0x119055['xZthf'](_0x40e7d2(0x14e),_0x119055[_0x40e7d2(0xac)]))return _0x4bb770[_0x40e7d2(0x180)](_0x2db16a);else{const _0x1a2d54=md5(JSON[_0x40e7d2(0x97)]([_0x43cd1f,_0x2c0f37,_0x2e0abe,_0xb52fba,_0x40e251['length']]));if(_0x119055[_0x40e7d2(0x109)](this[_0x40e7d2(0x132)][_0xb52fba[_0x40e7d2(0x18d)]],_0x1a2d54))throw new ErrorBadRequest(_0x119055[_0x40e7d2(0x115)]);this[_0x40e7d2(0x132)][_0xb52fba[_0x40e7d2(0x18d)]]=_0x1a2d54;}}const _0x4ee118={'method':_0x43cd1f,'path':ltrimSlashes(_0x2c0f37),'query':_0xb52fba?_0xb52fba:{},'body':_0x2e0abe,'bodyJson_':null,'bodyJson':function(_0x56838b=null){const _0x2e8546=_0x40e7d2;if(!this[_0x2e8546(0x160)])this[_0x2e8546(0x160)]=JSON[_0x2e8546(0xa8)](this['body']);if(_0x56838b){const _0x2bde32=Object[_0x2e8546(0xf2)]({},this[_0x2e8546(0x160)]);for(let _0x44a3a9=0x0;_0x119055['HdrnY'](_0x44a3a9,_0x56838b['length']);_0x44a3a9++){const _0x2ed3ad=_0x56838b[_0x44a3a9];delete _0x2bde32[_0x2ed3ad];}return _0x2bde32;}return this['bodyJson_'];},'files':_0x40e251};let _0x443fb7=null,_0x923685=null;const _0x3cf3ef=_0x24751f[_0x40e7d2(0x153)];_0x119055[_0x40e7d2(0x92)](_0x3cf3ef[_0x40e7d2(0x18c)],0x1)&&(_0x443fb7=_0x3cf3ef[0x0],_0x3cf3ef[_0x40e7d2(0x9e)](0x0,0x1),_0x3cf3ef[_0x40e7d2(0x18c)]>=0x1&&(_0x119055[_0x40e7d2(0x103)](_0x40e7d2(0x14f),_0x119055[_0x40e7d2(0xb1)])?(_0x923685=_0x3cf3ef[0x0],_0x3cf3ef[_0x40e7d2(0x9e)](0x0,0x1)):this[_0x40e7d2(0xf0)]=_0x2d54a8));_0x4ee118[_0x40e7d2(0x153)]=_0x3cf3ef;if(!this[_0x24751f[_0x40e7d2(0xdf)]])throw new ErrorNotFound();try{if(_0x119055[_0x40e7d2(0x103)](_0x119055[_0x40e7d2(0x124)],_0x40e7d2(0x17a))){if(!_0x764c67[_0x40e7d2(0x1c1)])_0x4b73ad['httpCode']=0x1f4;throw _0x5d6643;}else return await this[_0x24751f[_0x40e7d2(0xdf)]](_0x4ee118,_0x443fb7,_0x923685);}catch(_0x5310d1){if(!_0x5310d1[_0x40e7d2(0x1c1)])_0x5310d1[_0x40e7d2(0x1c1)]=0x1f4;throw _0x5310d1;}}[_0x23398c(0xaf)](_0x109396){const _0x2c1c8b=_0x23398c;this[_0x2c1c8b(0xf0)]=_0x109396;}[_0x23398c(0x1b1)](){const _0x7c44cf=_0x23398c;return this[_0x7c44cf(0xf0)];}[_0x23398c(0xe4)](_0x266040){const _0x1bca3c=_0x23398c,_0x510150={'kOCFH':_0x1bca3c(0xbd),'SVSAC':_0x1bca3c(0x8f),'arWtg':_0x1bca3c(0xea),'jCXLO':function(_0x3b0688,_0x4063c4){return _0x3b0688!==_0x4063c4;}},_0x3b9046=[_0x510150[_0x1bca3c(0x8d)],_0x1bca3c(0x77),_0x510150[_0x1bca3c(0xb8)],_0x510150[_0x1bca3c(0x19d)],_0x1bca3c(0x88)];if(_0x510150[_0x1bca3c(0x13e)](_0x266040,'POST'))_0x3b9046[_0x1bca3c(0x9e)](0x0,0x0,'id');return _0x3b9046;}[_0x23398c(0x170)](_0x423f3f,_0x52e9b0){const _0x219432=_0x23398c,_0x5e4655=_0x423f3f['query'];if(!_0x5e4655||!_0x5e4655[_0x219432(0x91)])return _0x52e9b0;const _0x4b17=_0x5e4655[_0x219432(0x91)][_0x219432(0xce)](',')[_0x219432(0xa0)](_0x7037a9=>_0x7037a9['trim']())[_0x219432(0xd9)](_0x1d9c9f=>!!_0x1d9c9f);return _0x4b17[_0x219432(0x18c)]?_0x4b17:_0x52e9b0;}[_0x23398c(0x1a1)](_0x598a4b){const _0x451265=_0x23398c,_0x4bdd6c={'cdygt':_0x451265(0x90),'hPuDg':_0x451265(0x12d),'mgYIt':_0x451265(0x9a)},_0x57fbcd=[[_0x4bdd6c[_0x451265(0x134)],_0x451265(0x162)],[_0x451265(0x90),_0x451265(0xbe)],['GET',_0x4bdd6c[_0x451265(0x14b)]],['POST','notes']];for(let _0x3ddd39=0x0;_0x3ddd39<_0x57fbcd[_0x451265(0x18c)];_0x3ddd39++){if(_0x57fbcd[_0x3ddd39][0x0]===_0x598a4b[_0x451265(0x81)]&&_0x57fbcd[_0x3ddd39][0x1]===_0x598a4b['path'])return;}if(!this['token'])return;if(!_0x598a4b['query']||!_0x598a4b['query'][_0x451265(0xe1)])throw new ErrorForbidden('Missing\x20\x22token\x22\x20parameter');if(_0x598a4b[_0x451265(0xc0)][_0x451265(0xe1)]!==this[_0x451265(0xe1)])throw new ErrorForbidden(_0x4bdd6c[_0x451265(0x15b)]);}async[_0x23398c(0x83)](_0x205621,_0x228793,_0x3ca55b=null,_0x3035ac=null){const _0x1122ec=_0x23398c,_0x5cfba8={'vXnrY':_0x1122ec(0x90),'YhxKc':function(_0x464429,_0x3083cc){return _0x464429===_0x3083cc;},'FnboG':function(_0x1a0f3c){return _0x1a0f3c();},'HXvFe':'PUT','MslOp':_0x1122ec(0xf5),'tpZuf':_0x1122ec(0x15f),'TyIEX':function(_0x543fdf,_0x25f9ae){return _0x543fdf>=_0x25f9ae;}};this[_0x1122ec(0x1a1)](_0x228793);if(_0x3035ac)throw new ErrorNotFound();const _0x23775a=BaseItem[_0x1122ec(0xee)](_0x205621),_0x2109bd=async()=>{const _0x1e4edb=await _0x23775a['load'](_0x3ca55b);if(!_0x1e4edb)throw new ErrorNotFound();return _0x1e4edb;};if(_0x228793[_0x1122ec(0x81)]===_0x5cfba8[_0x1122ec(0x1a3)]){if(_0x3ca55b)return _0x2109bd();else{const _0x228e5={},_0x563e1a=this[_0x1122ec(0x170)](_0x228793,[]);if(_0x563e1a[_0x1122ec(0x18c)])_0x228e5[_0x1122ec(0x91)]=_0x563e1a;return await _0x23775a['all'](_0x228e5);}}if(_0x5cfba8[_0x1122ec(0x112)](_0x228793['method'],'PUT')&&_0x3ca55b){const _0x16cdc3=await _0x5cfba8['FnboG'](_0x2109bd);let _0x118a01=Object[_0x1122ec(0xf2)]({},_0x16cdc3,_0x228793[_0x1122ec(0x157)](this[_0x1122ec(0xe4)](_0x5cfba8[_0x1122ec(0x150)])));return _0x118a01=await _0x23775a[_0x1122ec(0x161)](_0x118a01,{'userSideValidation':!![]}),_0x118a01;}if(_0x228793[_0x1122ec(0x81)]===_0x5cfba8[_0x1122ec(0xb4)]&&_0x3ca55b){const _0x2c89b0=await _0x2109bd();await _0x23775a[_0x1122ec(0x7e)](_0x2c89b0['id']);return;}if(_0x228793[_0x1122ec(0x81)]===_0x5cfba8['tpZuf']){const _0x5f0f32=this[_0x1122ec(0xe4)](_0x5cfba8[_0x1122ec(0x8a)]),_0x35b58a=_0x5f0f32[_0x1122ec(0x111)]('id');if(_0x5cfba8['TyIEX'](_0x35b58a,0x0))_0x5f0f32['splice'](_0x35b58a,0x1);const _0xd03df7=_0x228793['bodyJson'](_0x5f0f32),_0x4ebf08=await _0x23775a[_0x1122ec(0x161)](_0xd03df7,this['defaultSaveOptions_'](_0xd03df7,'POST'));return _0x4ebf08;}throw new ErrorMethodNotAllowed();}async[_0x23398c(0xeb)](_0x51208d){const _0xb9030a=_0x23398c,_0x23cf5d={'Mkjba':function(_0x1a3c2d,_0x5b1d5c){return _0x1a3c2d===_0x5b1d5c;},'QflYG':_0xb9030a(0x90)};if(_0x23cf5d[_0xb9030a(0xcf)](_0x51208d[_0xb9030a(0x81)],_0x23cf5d['QflYG']))return'JoplinClipperServer';throw new ErrorMethodNotAllowed();}async[_0x23398c(0x84)](_0x25c237){const _0x4e98f3=_0x23398c,_0x550c4c={'qHelr':function(_0x93374f,_0x357eff){return _0x93374f!==_0x357eff;},'yqTcn':_0x4e98f3(0x94)};this[_0x4e98f3(0x1a1)](_0x25c237);if(_0x550c4c[_0x4e98f3(0x182)](_0x25c237[_0x4e98f3(0x81)],'GET'))throw new ErrorMethodNotAllowed();const _0x297d76=_0x25c237[_0x4e98f3(0xc0)][_0x4e98f3(0xc0)];if(!_0x297d76)throw new ErrorBadRequest('Missing\x20\x22query\x22\x20parameter');const _0x5a03af=_0x25c237[_0x4e98f3(0xc0)][_0x4e98f3(0x190)]?BaseModel[_0x4e98f3(0x107)](_0x25c237[_0x4e98f3(0xc0)][_0x4e98f3(0x190)]):BaseModel[_0x4e98f3(0x114)];if(_0x5a03af!==BaseItem[_0x4e98f3(0x114)]){const _0x8bf6e=BaseItem['getClassByItemType'](_0x5a03af),_0x9abb53={},_0x18ea7f=this['fields_'](_0x25c237,[]);if(_0x18ea7f[_0x4e98f3(0x18c)])_0x9abb53[_0x4e98f3(0x91)]=_0x18ea7f;const _0x307447=_0x297d76[_0x4e98f3(0x123)](/\*/g,'%');return _0x9abb53[_0x4e98f3(0x148)]=_0x550c4c['yqTcn'],_0x9abb53[_0x4e98f3(0xca)]=[_0x307447],_0x9abb53[_0x4e98f3(0x10f)]=!![],await _0x8bf6e[_0x4e98f3(0x16b)](_0x9abb53);}else return await SearchEngineUtils[_0x4e98f3(0x173)](_0x297d76,this[_0x4e98f3(0x1bc)](_0x25c237));}async['action_folders'](_0x4ff3f4,_0x773846=null,_0x2fe386=null){const _0x24cca1=_0x23398c,_0x418e66={'kAiQS':'RZwEL','kUcpR':_0x24cca1(0xb2),'tCPRl':'GET','fMuTo':_0x24cca1(0x1bb)};if(_0x4ff3f4[_0x24cca1(0x81)]===_0x24cca1(0x90)&&!_0x773846){if(_0x418e66[_0x24cca1(0xdd)]==='jEONG')_0x52b633[_0x24cca1(0xdc)]=_0x1ba14c[_0x24cca1(0xdc)];else{const _0x43498a=await FoldersScreenUtils[_0x24cca1(0x167)]({'fields':this['fields_'](_0x4ff3f4,['id','parent_id',_0x418e66[_0x24cca1(0x1c0)]])}),_0x4f1f7e=await Folder['allAsTree'](_0x43498a);return _0x4f1f7e;}}if(_0x4ff3f4[_0x24cca1(0x81)]===_0x418e66[_0x24cca1(0x1be)]&&_0x773846){if(_0x2fe386&&_0x2fe386===_0x418e66[_0x24cca1(0xc2)]){const _0x388c78=this[_0x24cca1(0x1bc)](_0x4ff3f4);return Note[_0x24cca1(0x147)](_0x773846,_0x388c78);}else{if(_0x2fe386)throw new ErrorNotFound();}}return this[_0x24cca1(0x83)](BaseModel[_0x24cca1(0xf9)],_0x4ff3f4,_0x773846,_0x2fe386);}async[_0x23398c(0x1a8)](_0xebfa39,_0x5b6d40=null,_0x498fc1=null){const _0x4e56c6=_0x23398c,_0x301c0a={'lTkSP':function(_0x12afa8,_0xb6e0dd){return _0x12afa8===_0xb6e0dd;},'dZXJP':function(_0x37be49,_0x2eb784){return _0x37be49<_0x2eb784;},'XCmJo':function(_0x50bed0,_0xf02513){return _0x50bed0===_0xf02513;},'ubbyN':_0x4e56c6(0x176),'SUrpi':function(_0x532e01,_0x551de9){return _0x532e01===_0x551de9;},'COQqQ':_0x4e56c6(0x1bb),'cjIcg':_0x4e56c6(0xe9),'Cpgxt':function(_0x5033ac,_0x20df5e){return _0x5033ac===_0x20df5e;},'klHYY':_0x4e56c6(0xf5),'zkTHA':function(_0x2adc30,_0xc875c9){return _0x2adc30<_0xc875c9;},'yhycm':function(_0x45a79c,_0x1d8897){return _0x45a79c(_0x1d8897);},'nqpUj':function(_0x1d4784,_0x32babb){return _0x1d4784===_0x32babb;},'lPOho':_0x4e56c6(0x90),'iznUj':'wsXxE','vhGlK':'dwVga','jEPZr':_0x4e56c6(0x15f)};if(_0x301c0a[_0x4e56c6(0x158)](_0x498fc1,_0x301c0a[_0x4e56c6(0x98)])){const _0x3525e8=await Tag['load'](_0x5b6d40);if(!_0x3525e8)throw new ErrorNotFound();if(_0xebfa39['method']===_0x4e56c6(0x15f)){const _0x3be367=_0xebfa39[_0x4e56c6(0x157)]();if(!_0x3be367||!_0x3be367['id'])throw new ErrorBadRequest(_0x301c0a[_0x4e56c6(0x15c)]);return await Tag[_0x4e56c6(0x106)](_0x3525e8['id'],_0x3be367['id']);}if(_0x301c0a['Cpgxt'](_0xebfa39['method'],_0x301c0a[_0x4e56c6(0xab)])){const _0x57b7e8=_0xebfa39[_0x4e56c6(0x153)]['length']?_0xebfa39[_0x4e56c6(0x153)][0x0]:null;if(!_0x57b7e8)throw new ErrorBadRequest('Missing\x20note\x20ID');await Tag['removeNote'](_0x3525e8['id'],_0x57b7e8);return;}if(_0xebfa39[_0x4e56c6(0x81)]===_0x4e56c6(0x90)){const _0x45133e=await Tag['noteIds'](_0x3525e8['id']),_0x478fc5=[];for(let _0x363a71=0x0;_0x301c0a[_0x4e56c6(0x19a)](_0x363a71,_0x45133e['length']);_0x363a71++){const _0x33dc60=await Note['preview'](_0x45133e[_0x363a71],this[_0x4e56c6(0x1bc)](_0xebfa39));if(!_0x33dc60)continue;_0x478fc5[_0x4e56c6(0x85)](_0x33dc60);}return _0x478fc5;}}const _0x45f76a=function(_0x453752){const _0x1c7818=_0x4e56c6,_0x3069b5={'FjfDY':function(_0x498931,_0x8cc48d){const _0x164a4f=_0x1c78;return _0x301c0a[_0x164a4f(0x158)](_0x498931,_0x8cc48d);}},_0x1e1a1f=this[_0x1c7818(0x170)](_0x453752,[]);let _0x43031d=![];for(let _0x591c8f=0x0;_0x301c0a[_0x1c7818(0x15d)](_0x591c8f,_0x1e1a1f[_0x1c7818(0x18c)]);_0x591c8f++){if(_0x301c0a[_0x1c7818(0xc7)](_0x1c7818(0x110),_0x1c7818(0x1a7))){const _0x523d0b={'userSideValidation':!![]};if(_0x3069b5['FjfDY'](_0x51cb8d,_0x1c7818(0x15f))&&_0x1d1ebc['id'])_0x523d0b[_0x1c7818(0x141)]=!![];return _0x523d0b;}else{if(_0x301c0a['XCmJo'](_0x1e1a1f[_0x591c8f],_0x301c0a[_0x1c7818(0x1ba)])){_0x43031d=!![],_0x1e1a1f[_0x1c7818(0x9e)](_0x591c8f,0x1);break;}}}if(_0x43031d){if(_0x1e1a1f[_0x1c7818(0x18c)]>0x0)_0x453752[_0x1c7818(0xc0)]['fields']=_0x1e1a1f[_0x1c7818(0xbb)](',');else _0x453752[_0x1c7818(0xc0)]&&_0x453752[_0x1c7818(0xc0)]['fields']&&delete _0x453752[_0x1c7818(0xc0)][_0x1c7818(0x91)];}return _0x43031d;}[_0x4e56c6(0x131)](this),_0x584df4=_0x301c0a[_0x4e56c6(0xfb)](_0x45f76a,_0xebfa39);if(_0x584df4&&_0x301c0a[_0x4e56c6(0x158)](_0xebfa39['method'],'GET')&&!_0x5b6d40){let _0x5391bf=await this[_0x4e56c6(0x83)](BaseModel[_0x4e56c6(0x1a2)],_0xebfa39,_0x5b6d40,_0x498fc1);return _0x5391bf=_0x5391bf[_0x4e56c6(0xa0)](_0x5f31a5=>Object['assign']({},_0x5f31a5,{'full_title':Tag[_0x4e56c6(0x10d)](_0x5f31a5['id'])})),_0x5391bf;}if(_0x584df4&&_0x301c0a[_0x4e56c6(0x102)](_0xebfa39['method'],_0x301c0a[_0x4e56c6(0xd5)])&&_0x5b6d40){if(_0x4e56c6(0x1c7)!==_0x4e56c6(0xa2)){let _0x339b6e=await this[_0x4e56c6(0x83)](BaseModel[_0x4e56c6(0x1a2)],_0xebfa39,_0x5b6d40,_0x498fc1);return _0x339b6e=Object[_0x4e56c6(0xf2)]({},_0x339b6e,{'full_title':Tag[_0x4e56c6(0x10d)](_0x339b6e['id'])}),_0x339b6e;}else return _0x4262fd[_0x4e56c6(0xec)](_0x556ab6,_0x518864=>{const _0x599ed7=_0x4e56c6,_0x5b9fc3=_0x3f364f[_0x518864];if(!_0x5b9fc3||!_0x5b9fc3[_0x599ed7(0x19c)])return _0x518864;return _0x33be53['internalUrl'](_0x5b9fc3[_0x599ed7(0x19c)]);});}if(_0xebfa39[_0x4e56c6(0x81)]===_0x4e56c6(0x1c6)||_0xebfa39[_0x4e56c6(0x81)]===_0x4e56c6(0x15f)){const _0x3c2368=this[_0x4e56c6(0xe4)](_0xebfa39['method']);if(_0x3c2368[_0x4e56c6(0xb3)](_0x301c0a[_0x4e56c6(0x1ba)])){if(_0x301c0a[_0x4e56c6(0xb5)]!==_0x301c0a[_0x4e56c6(0x18e)]){if(_0xebfa39[_0x4e56c6(0x81)]==='PUT'&&_0x5b6d40){const _0x2fcb4b=await Tag[_0x4e56c6(0xfa)](_0x5b6d40);if(!_0x2fcb4b)throw new ErrorNotFound();let _0x523abb=Object[_0x4e56c6(0xf2)]({},_0x2fcb4b,_0xebfa39[_0x4e56c6(0x157)](_0x3c2368));return _0x523abb=await Tag['renameNested'](_0x523abb,_0x523abb[_0x301c0a[_0x4e56c6(0x1ba)]]),_0x523abb;}if(_0xebfa39[_0x4e56c6(0x81)]==='POST'){const _0x22dc89=_0x3c2368[_0x4e56c6(0x111)]('id');if(_0x22dc89>=0x0)_0x3c2368['splice'](_0x22dc89,0x1);const _0x2ac752=_0xebfa39['bodyJson'](_0x3c2368),_0x2b101d=await Tag['saveNested'](_0x2ac752,_0x2ac752[_0x4e56c6(0x176)],this[_0x4e56c6(0x18b)](_0x2ac752,_0x301c0a[_0x4e56c6(0x1ac)]));return _0x2b101d;}}else return _0x301c0a[_0x4e56c6(0xc8)](typeof this[_0x4e56c6(0xf3)],_0x4e56c6(0x17f))?this[_0x4e56c6(0xf3)]():this[_0x4e56c6(0xf3)];}}return this[_0x4e56c6(0x83)](BaseModel['TYPE_TAG'],_0xebfa39,_0x5b6d40,_0x498fc1);}async[_0x23398c(0x174)](_0x2de3c0,_0x187165=null,_0x5c2c1b=null){const _0x32528b=_0x23398c;return this[_0x32528b(0x83)](BaseModel[_0x32528b(0x144)],_0x2de3c0,_0x187165,_0x5c2c1b);}async[_0x23398c(0x78)](_0x43331b,_0x564b20=null,_0x3f657c=null){const _0x51083d=_0x23398c,_0x122f7a={'LhZDL':function(_0x55a63e,_0x1fccf1){return _0x55a63e===_0x1fccf1;},'VXQCn':function(_0x1ec6cd,_0x1cf942){return _0x1ec6cd===_0x1cf942;},'OqUDW':_0x51083d(0xba)};if(_0x43331b[_0x51083d(0x81)]==='GET'){if(_0x122f7a[_0x51083d(0x1ad)](_0x3f657c,'file')){const _0x2eec01=await Resource[_0x51083d(0xfa)](_0x564b20);if(!_0x2eec01)throw new ErrorNotFound();const _0x1e768c=Resource[_0x51083d(0x181)](_0x2eec01),_0x53aa4b=await shim[_0x51083d(0x149)]()['readFile'](_0x1e768c,'Buffer'),_0xffc220=new ApiResponse();return _0xffc220[_0x51083d(0x190)]='attachment',_0xffc220[_0x51083d(0x189)]=_0x53aa4b,_0xffc220[_0x51083d(0x16a)]=_0x2eec01[_0x51083d(0xc1)],_0xffc220['attachmentFilename']=Resource[_0x51083d(0xda)](_0x2eec01),_0xffc220;}if(_0x3f657c)throw new ErrorNotFound();}if(_0x122f7a[_0x51083d(0x121)](_0x43331b[_0x51083d(0x81)],'POST')){if(!_0x43331b[_0x51083d(0x9b)][_0x51083d(0x18c)])throw new ErrorBadRequest(_0x122f7a['OqUDW']);const _0x4b2ee2=_0x43331b[_0x51083d(0x9b)][0x0][_0x51083d(0xa1)],_0x3e143c=_0x43331b['bodyJson'](this[_0x51083d(0xe4)](_0x51083d(0x15f)));return shim[_0x51083d(0x169)](_0x4b2ee2,_0x3e143c,{'userSideValidation':!![]});}return this[_0x51083d(0x83)](BaseModel['TYPE_RESOURCE'],_0x43331b,_0x564b20,_0x3f657c);}[_0x23398c(0x1bc)](_0x4220e0){const _0x19f370=_0x23398c,_0x58c6f2=this[_0x19f370(0x170)](_0x4220e0,[]),_0x4abf76={};if(_0x58c6f2[_0x19f370(0x18c)])_0x4abf76[_0x19f370(0x91)]=_0x58c6f2;return _0x4abf76;}[_0x23398c(0x18b)](_0x331f72,_0x3cf458){const _0x92f45c=_0x23398c,_0x55866d={'zRhcD':function(_0x138f0a,_0x588827){return _0x138f0a===_0x588827;}},_0x59d8af={'userSideValidation':!![]};if(_0x55866d[_0x92f45c(0x16c)](_0x3cf458,_0x92f45c(0x15f))&&_0x331f72['id'])_0x59d8af[_0x92f45c(0x141)]=!![];return _0x59d8af;}['defaultLoadOptions_'](_0x3e7317){const _0x3f2ea3=_0x23398c,_0x5b25fa={},_0x2fef8c=this['fields_'](_0x3e7317,[]);if(_0x2fef8c[_0x3f2ea3(0x18c)])_0x5b25fa[_0x3f2ea3(0x91)]=_0x2fef8c;return _0x5b25fa;}async[_0x23398c(0xf6)](_0x354429,_0x836821){const _0x3b04ee=_0x23398c,_0x374bd7=_0x354429[_0x836821[_0x3b04ee(0xc3)]];if(!_0x374bd7)throw new ErrorNotFound('Invalid\x20action:\x20'+_0x836821[_0x3b04ee(0xc3)]);const _0x292c07=Object[_0x3b04ee(0xf2)]({},_0x836821);return delete _0x292c07['action'],_0x374bd7(_0x292c07);}async[_0x23398c(0x14a)](_0x4d7260,_0x57cbd5){const _0x59234f=_0x23398c,_0x5b6722={'manOh':_0x59234f(0x15f)};this[_0x59234f(0x1a1)](_0x4d7260);if(_0x4d7260[_0x59234f(0x81)]!==_0x5b6722['manOh'])throw new ErrorMethodNotAllowed();if(!this[_0x59234f(0x183)])throw new ErrorNotFound(_0x59234f(0xff));if(!this['actionApi_'][_0x57cbd5])throw new ErrorNotFound('No\x20such\x20service:\x20'+_0x57cbd5);const _0x2caf2a=this[_0x59234f(0x183)][_0x57cbd5]();return this[_0x59234f(0xf6)](_0x2caf2a,JSON['parse'](_0x4d7260[_0x59234f(0x189)]));}async['action_notes'](_0x70b237,_0x4c9b95=null,_0x123cf1=null){const _0x425069=_0x23398c,_0x4b29ba={'pjQCD':function(_0x10312f,_0xf6036a){return _0x10312f+_0xf6036a;},'ZhgUJ':function(_0x4c302b,_0x385242){return _0x4c302b+_0x385242;},'qUCTY':function(_0x5df57f,_0x367832){return _0x5df57f+_0x367832;},'sIspV':function(_0x269fba,_0x553757){return _0x269fba!==_0x553757;},'bWSAA':function(_0x7fcca3,_0x86c8a0){return _0x7fcca3+_0x86c8a0;},'mfjNk':function(_0x51b3a4,_0x9e0c02){return _0x51b3a4+_0x9e0c02;},'yTJuF':_0x425069(0x8c),'bivBE':'tags','IeqKQ':_0x425069(0x159),'QRbhc':function(_0x5611d7,_0x1822e7){return _0x5611d7===_0x1822e7;},'qpsrG':'MrhtL','UWHMN':'wGlen','UWhiF':'PUT'};this[_0x425069(0x1a1)](_0x70b237);if(_0x70b237[_0x425069(0x81)]===_0x425069(0x90)){if(_0x4b29ba['yTJuF']!==_0x425069(0x11d)){if(_0x123cf1&&_0x123cf1===_0x4b29ba[_0x425069(0x140)])return Tag[_0x425069(0x180)](_0x4c9b95);else{if(_0x123cf1&&_0x123cf1===_0x4b29ba[_0x425069(0xc9)]){const _0xdc3672=await Note[_0x425069(0xfa)](_0x4c9b95);if(!_0xdc3672)throw new ErrorNotFound();const _0x2235e6=await Note[_0x425069(0x11f)](_0xdc3672[_0x425069(0x189)]),_0x20573f=[],_0x20def4=this[_0x425069(0xd1)](_0x70b237);for(const _0x5ade38 of _0x2235e6){_0x20573f[_0x425069(0x85)](await Resource[_0x425069(0xfa)](_0x5ade38,_0x20def4));}return _0x20573f;}else{if(_0x123cf1){if(_0x4b29ba['QRbhc'](_0x4b29ba[_0x425069(0x15a)],_0x4b29ba[_0x425069(0xbf)]))return this[_0x425069(0x1b1)]()['warn'](_0x425069(0x17e)+_0x19aae7,_0x5ec862),'';else throw new ErrorNotFound();}}}const _0x16a452=this[_0x425069(0x1bc)](_0x70b237);return _0x4c9b95?await Note['preview'](_0x4c9b95,_0x16a452):await Note[_0x425069(0x147)](null,_0x16a452);}else{const _0x3a60b8=_0x573f41[_0x5c714c];if(!_0x3a60b8||!_0x3a60b8[_0x425069(0x19c)])return _0x4b29ba[_0x425069(0xe8)](_0x4b29ba[_0x425069(0x17c)](_0x5e9234,_0x520a56),_0x1933e5);if(!(_0x3a60b8[_0x425069(0x1a0)]in _0x5af623))_0x2d671a[_0x3a60b8[_0x425069(0x1a0)]]=0x0;const _0x182fe0=_0x44e381[_0x425069(0x193)](_0x3a60b8[_0x425069(0x19c)]),_0x32a963=_0x451ca1[_0x3a60b8[_0x425069(0x1a0)]];if(!_0x32a963)return _0x4b29ba[_0x425069(0x12a)](_0x61a96c,_0x182fe0)+_0x2ca6df;const _0x78c7c3=_0x32a963[_0x23dc9e[_0x3a60b8[_0x425069(0x1a0)]]];return _0x4519ff[_0x3a60b8['originalUrl']]++,_0x78c7c3&&(_0x78c7c3[_0x425069(0xd7)]!==_0x78c7c3['width']||_0x4b29ba[_0x425069(0xed)](_0x78c7c3[_0x425069(0x7f)],_0x78c7c3[_0x425069(0x76)]))?'<img\x20width=\x22'+_0x78c7c3[_0x425069(0x186)]+'\x22\x20height=\x22'+_0x78c7c3[_0x425069(0x76)]+_0x425069(0x12c)+_0x182fe0+'\x22/>':_0x4b29ba[_0x425069(0x7c)](_0x4b29ba['mfjNk'](_0x3ec51f,_0x182fe0),_0xdbbfe3);}}if(_0x70b237[_0x425069(0x81)]===_0x425069(0x15f)){const _0x3ef61f=Date[_0x425069(0x18f)](),_0x33f692=JSON[_0x425069(0xa8)](_0x70b237[_0x425069(0x189)]),_0x2772c9=urlUtils[_0x425069(0xae)](_0x33f692['base_url'])[_0x425069(0xcd)]()===_0x425069(0x113),_0x340fb2=_0x33f692[_0x425069(0xfe)]?_0x33f692[_0x425069(0xfe)]:{};let _0x306d0e=await this['requestNoteToNote_'](_0x33f692);const _0xd8a066=ArrayUtils[_0x425069(0x95)](markupLanguageUtils['extractImageUrls'](_0x306d0e[_0x425069(0x11a)],_0x306d0e['body']));this[_0x425069(0x1b1)]()[_0x425069(0x13f)](_0x425069(0x185)+_0x3ef61f+_0x425069(0x177)+_0xd8a066[_0x425069(0x18c)]);let _0xe255c7=await this[_0x425069(0x101)](_0xd8a066,_0x2772c9);this[_0x425069(0x1b1)]()['info'](_0x425069(0x185)+_0x3ef61f+_0x425069(0xcc)+Object[_0x425069(0x164)](_0xe255c7)[_0x425069(0x18c)]),_0xe255c7=await this[_0x425069(0x126)](_0xe255c7),await this['removeTempFiles_'](_0xe255c7),_0x306d0e[_0x425069(0x189)]=this[_0x425069(0x139)](_0x306d0e[_0x425069(0x11a)],_0x306d0e[_0x425069(0x189)],_0xe255c7,_0x340fb2),this[_0x425069(0x1b1)]()[_0x425069(0x13f)](_0x425069(0x185)+_0x3ef61f+'):\x20Saving\x20note...');const _0x1e9455=this[_0x425069(0x18b)](_0x306d0e,'POST');_0x1e9455[_0x425069(0x18a)]=![];const _0x34834c=Date[_0x425069(0x18f)]();_0x306d0e['updated_time']=_0x34834c,_0x306d0e['created_time']=_0x34834c,_0x306d0e=await Note[_0x425069(0x161)](_0x306d0e,_0x1e9455);if(_0x33f692[_0x425069(0xbe)]){const _0x450e96=_0x33f692['tags']['split'](',');await Tag['setNoteTagsByTitles'](_0x306d0e['id'],_0x450e96);}return _0x33f692[_0x425069(0x89)]&&(_0x306d0e=await this[_0x425069(0xb6)](_0x306d0e,_0x33f692[_0x425069(0x89)],_0x33f692[_0x425069(0x128)])),this[_0x425069(0x1b1)]()[_0x425069(0x13f)]('Request\x20('+_0x3ef61f+_0x425069(0x10e)+_0x306d0e['id']),_0x306d0e;}if(_0x70b237[_0x425069(0x81)]===_0x4b29ba[_0x425069(0x9d)]){const _0x21aab7=await Note[_0x425069(0xfa)](_0x4c9b95);if(!_0x21aab7)throw new ErrorNotFound();const _0x47eb60=await this['defaultAction_'](BaseModel['TYPE_NOTE'],_0x70b237,_0x4c9b95,_0x123cf1),_0x313319=JSON[_0x425069(0xa8)](_0x70b237[_0x425069(0x189)]);if(_0x313319[_0x425069(0xbe)]||_0x4b29ba[_0x425069(0x19f)](_0x313319['tags'],'')){const _0x10295a=_0x313319[_0x425069(0xbe)][_0x425069(0xce)](',');await Tag['setNoteTagsByTitles'](_0x4c9b95,_0x10295a);}return _0x47eb60;}return this[_0x425069(0x83)](BaseModel['TYPE_NOTE'],_0x70b237,_0x4c9b95,_0x123cf1);}[_0x23398c(0x1a5)](){const _0x75b804=_0x23398c;if(this['htmlToMdParser_'])return this['htmlToMdParser_'];return this[_0x75b804(0x9f)]=new HtmlToMd(),this[_0x75b804(0x9f)];}async[_0x23398c(0xd3)](_0x422faa){const _0x242ecc=_0x23398c,_0x1b0516={'ZJSVD':_0x242ecc(0xbd),'vJrDZ':_0x242ecc(0xea),'VprMU':function(_0x282eb0,_0x443e70){return _0x282eb0!==_0x443e70;},'iKXUO':_0x242ecc(0x15f),'uYWMC':'GET','xNpuk':'notes','fUyzA':function(_0x4e4917,_0x577552){return _0x4e4917===_0x577552;},'mdCRt':'Invalid\x20\x22token\x22\x20parameter','aonTb':'html','VLqPf':'html-minifier','IvcRs':function(_0x6b91de,_0x4b39e4){return _0x6b91de(_0x4b39e4);},'vlOMW':_0x242ecc(0x96),'OSHPZ':function(_0x14a582,_0x1b809c){return _0x14a582+_0x1b809c;},'NHlCE':function(_0x22c67c,_0x1735e0){return _0x22c67c+_0x1735e0;},'PmUrZ':_0x242ecc(0x82),'iKAvr':_0x242ecc(0xe6),'iNxmu':_0x242ecc(0x1b6),'joNSs':function(_0x204261,_0x3e30ab){return _0x204261 in _0x3e30ab;},'xkMLz':_0x242ecc(0x1bd),'bzLll':'author','lHJpB':_0x242ecc(0x7a)},_0x7414d3={'title':_0x422faa[_0x242ecc(0xb2)]?_0x422faa[_0x242ecc(0xb2)]:'','body':_0x422faa[_0x242ecc(0x189)]?_0x422faa['body']:''};if(_0x422faa['id'])_0x7414d3['id']=_0x422faa['id'];const _0x49f0a6=_0x422faa[_0x242ecc(0x166)]?_0x422faa[_0x242ecc(0x166)]:'';if(_0x422faa[_0x242ecc(0x1a4)]){if(_0x422faa[_0x242ecc(0x1c2)]===_0x1b0516[_0x242ecc(0x146)]){const _0x410d23=await this[_0x242ecc(0x192)](_0x422faa['stylesheets']),_0x342978=require(_0x1b0516[_0x242ecc(0x191)])[_0x242ecc(0x108)],_0x441f76={'customAttrCollapse':/.*/,'collapseWhitespace':!![],'minifyCSS':!![],'maxLineLength':0x12c},_0x52d437=_0x1b0516[_0x242ecc(0xb9)](require,_0x1b0516['vlOMW']),_0x21fc88=_0x52d437['processString'](_0x410d23[_0x242ecc(0xbb)]('\x0a'),{'maxLineLen':0xc8}),_0x340f91=_0x410d23[_0x242ecc(0x18c)]?_0x1b0516[_0x242ecc(0x1c4)](_0x242ecc(0x152)+_0x21fc88+_0x242ecc(0x1b9),'\x0a'):'';let _0x327d89='';try{_0x327d89=_0x342978(_0x422faa[_0x242ecc(0x1a4)],_0x441f76);}catch(_0x4c7ba9){console[_0x242ecc(0x10a)](_0x242ecc(0x1b4),_0x4c7ba9),_0x327d89=_0x422faa[_0x242ecc(0x1a4)];}_0x7414d3[_0x242ecc(0x189)]=_0x1b0516['NHlCE'](_0x340f91,_0x327d89),_0x7414d3[_0x242ecc(0x189)]=htmlUtils[_0x242ecc(0x7b)](_0x7414d3[_0x242ecc(0x189)],_0x49f0a6),_0x7414d3['markup_language']=MarkupToHtml[_0x242ecc(0x8e)];}else _0x7414d3[_0x242ecc(0x189)]=await this[_0x242ecc(0x1a5)]()[_0x242ecc(0xa8)](_0x242ecc(0x116)+_0x422faa[_0x242ecc(0x1a4)]+_0x242ecc(0x198),{'baseUrl':_0x49f0a6,'anchorNames':_0x422faa[_0x242ecc(0x129)]?_0x422faa[_0x242ecc(0x129)]:[]}),_0x7414d3[_0x242ecc(0x11a)]=MarkupToHtml[_0x242ecc(0x11c)];}if(_0x422faa[_0x242ecc(0xdc)]){if(_0x1b0516[_0x242ecc(0x99)](_0x242ecc(0x82),_0x1b0516['PmUrZ'])){const _0xea8008=[_0x1b0516[_0x242ecc(0xa4)],'updated_time',_0x242ecc(0x8f),_0x1b0516[_0x242ecc(0xd4)],_0x242ecc(0x88)];if(_0x1b0516['VprMU'](_0x4ae45a,_0x1b0516['iKXUO']))_0xea8008['splice'](0x0,0x0,'id');return _0xea8008;}else _0x7414d3[_0x242ecc(0xdc)]=_0x422faa[_0x242ecc(0xdc)];}else{if(_0x1b0516[_0x242ecc(0xf1)]!==_0x1b0516[_0x242ecc(0xf1)]){const _0xe004ac=[[_0x242ecc(0x90),_0x242ecc(0x162)],[_0x1b0516[_0x242ecc(0x188)],'tags'],[_0x242ecc(0x90),_0x242ecc(0x12d)],[_0x1b0516[_0x242ecc(0x19e)],_0x1b0516[_0x242ecc(0x19b)]]];for(let _0x3a0ca9=0x0;_0x3a0ca9<_0xe004ac[_0x242ecc(0x18c)];_0x3a0ca9++){if(_0x1b0516[_0x242ecc(0x138)](_0xe004ac[_0x3a0ca9][0x0],_0x41f0d2['method'])&&_0xe004ac[_0x3a0ca9][0x1]===_0x41ca8a[_0x242ecc(0xa1)])return;}if(!this['token'])return;if(!_0x1871d8[_0x242ecc(0xc0)]||!_0x153903[_0x242ecc(0xc0)][_0x242ecc(0xe1)])throw new _0x6d8309('Missing\x20\x22token\x22\x20parameter');if(_0x1b0516['VprMU'](_0x12e197['query']['token'],this[_0x242ecc(0xe1)]))throw new _0x2571a3(_0x1b0516[_0x242ecc(0x16e)]);}else{const _0x1d9515=await Folder[_0x242ecc(0x86)]();if(!_0x1d9515)throw new Error(_0x1b0516[_0x242ecc(0xde)]);_0x7414d3[_0x242ecc(0xdc)]=_0x1d9515['id'];}}if(_0x1b0516[_0x242ecc(0x15e)](_0x1b0516[_0x242ecc(0x156)],_0x422faa))_0x7414d3['source_url']=_0x422faa['source_url'];if(_0x1b0516['joNSs'](_0x1b0516[_0x242ecc(0x1b5)],_0x422faa))_0x7414d3[_0x242ecc(0x8b)]=_0x422faa[_0x242ecc(0x8b)];if(_0x1b0516[_0x242ecc(0x15e)](_0x1b0516['lHJpB'],_0x422faa))_0x7414d3[_0x242ecc(0x7a)]=Database['formatValue'](Database[_0x242ecc(0x196)],_0x422faa[_0x242ecc(0x7a)]);if(_0x242ecc(0x155)in _0x422faa)_0x7414d3[_0x242ecc(0x155)]=Database[_0x242ecc(0xd8)](Database[_0x242ecc(0x196)],_0x422faa[_0x242ecc(0x155)]);if('is_todo'in _0x422faa)_0x7414d3[_0x242ecc(0x105)]=Database[_0x242ecc(0xd8)](Database[_0x242ecc(0x196)],_0x422faa[_0x242ecc(0x105)]);if('markup_language'in _0x422faa)_0x7414d3[_0x242ecc(0x11a)]=Database[_0x242ecc(0xd8)](Database['TYPE_INT'],_0x422faa[_0x242ecc(0x11a)]);if(!_0x7414d3[_0x242ecc(0x11a)])_0x7414d3[_0x242ecc(0x11a)]=MarkupToHtml['MARKUP_LANGUAGE_MARKDOWN'];return _0x7414d3;}async[_0x23398c(0xb6)](_0x126220,_0x36ccef,_0x4eb225){const _0x41d2bf=_0x23398c,_0x3961f6={'GpGYK':'tempDir','hpbvF':function(_0x4ecb6d,_0xc8096a){return _0x4ecb6d(_0xc8096a);}},_0x5c4e78=Setting[_0x41d2bf(0x137)](_0x3961f6['GpGYK']),_0x358fc8=mimeUtils['fromDataUrl'](_0x36ccef);let _0x1247c4=mimeUtils['toFileExtension'](_0x358fc8)||'';if(_0x1247c4)_0x1247c4='.'+_0x1247c4;const _0x3343be=_0x5c4e78+'/'+_0x3961f6[_0x41d2bf(0xe7)](md5,Math[_0x41d2bf(0x130)]()+'_'+Date[_0x41d2bf(0x18f)]())+_0x1247c4,_0xbeecbc={};if(_0x4eb225)_0xbeecbc['cropRect']=_0x4eb225;return await shim[_0x41d2bf(0x171)](_0x36ccef,_0x3343be,_0xbeecbc),await shim[_0x41d2bf(0xa6)](_0x126220,_0x3343be);}async['tryToGuessImageExtFromMimeType_'](_0x441eec,_0x4ba6f9){const _0x44049e=_0x23398c,_0x34b005=netUtils[_0x44049e(0xd6)](_0x441eec[_0x44049e(0x184)]);if(!_0x34b005)return _0x4ba6f9;const _0x556dd4=mimeUtils[_0x44049e(0x1c3)](_0x34b005);if(!_0x556dd4)return _0x4ba6f9;const _0x16d428=_0x4ba6f9+'.'+_0x556dd4;return await shim[_0x44049e(0x149)]()['move'](_0x4ba6f9,_0x16d428),_0x16d428;}async[_0x23398c(0x192)](_0x38ef94){const _0x2450b0=_0x23398c,_0x2d60b4={'ngaRB':_0x2450b0(0xe0),'Vmncp':function(_0x4e3f7b,_0x3ce331){return _0x4e3f7b===_0x3ce331;},'oulZN':_0x2450b0(0xc4),'OjWdV':'rkEyy','OFiHt':_0x2450b0(0x179)};if(!_0x38ef94)return[];const _0x2fc5c6=[];for(const _0x79431a of _0x38ef94){if(_0x79431a[_0x2450b0(0x190)]===_0x2d60b4['ngaRB'])_0x2fc5c6['push'](_0x79431a[_0x2450b0(0x137)]);else{if(_0x2d60b4[_0x2450b0(0xf4)](_0x79431a['type'],_0x2d60b4[_0x2450b0(0x197)])){if(_0x2d60b4['OjWdV']!==_0x2d60b4[_0x2450b0(0x133)])try{const _0x2ed43e=Setting[_0x2450b0(0x137)](_0x2450b0(0x1af))+'/'+md5(Math['random']()+'_'+Date['now']())+_0x2450b0(0x14d);await shim[_0x2450b0(0xe3)](_0x79431a[_0x2450b0(0x137)],{'path':_0x2ed43e,'maxRetry':0x1});const _0xf8953d=await shim['fsDriver']()['readFile'](_0x2ed43e);_0x2fc5c6['push'](_0xf8953d),await shim[_0x2450b0(0x149)]()[_0x2450b0(0x10b)](_0x2ed43e);}catch(_0x194418){this[_0x2450b0(0x1b1)]()[_0x2450b0(0x10a)]('Cannot\x20download\x20stylesheet\x20at\x20'+_0x79431a[_0x2450b0(0x137)],_0x194418);}else{const _0x449aa3=_0x33feb1[_0x2450b0(0xc0)];if(!_0x449aa3||!_0x449aa3[_0x2450b0(0x91)])return _0x36c2ca;const _0x1da76e=_0x449aa3['fields']['split'](',')[_0x2450b0(0xa0)](_0x221af7=>_0x221af7[_0x2450b0(0x17b)]())[_0x2450b0(0xd9)](_0x27d8cb=>!!_0x27d8cb);return _0x1da76e[_0x2450b0(0x18c)]?_0x1da76e:_0x511f2a;}}else throw new Error(_0x2450b0(0x165)+_0x79431a[_0x2450b0(0x190)]);}}return _0x2fc5c6;}async[_0x23398c(0x118)](_0x4ad2fa){const _0x5e3b41=_0x23398c,_0x3154cc={'lbtdA':_0x5e3b41(0x1af),'HYNgv':function(_0x6ad281,_0x5483c0){return _0x6ad281===_0x5483c0;},'LYFmR':function(_0x585849,_0x5e112d){return _0x585849(_0x5e112d);},'yQoyu':function(_0xdc7594,_0x1eb640){return _0xdc7594(_0x1eb640);},'cHNjk':_0x5e3b41(0x113)},_0x53ccc9=Setting[_0x5e3b41(0x137)](_0x3154cc[_0x5e3b41(0x145)]),_0x84fdd7=_0x4ad2fa&&_0x3154cc['HYNgv'](_0x4ad2fa[_0x5e3b41(0xcd)]()[_0x5e3b41(0x111)](_0x5e3b41(0x12e)),0x0),_0x1d3c58=_0x84fdd7?md5(Math[_0x5e3b41(0x130)]()+'_'+Date[_0x5e3b41(0x18f)]()):filename(_0x4ad2fa);let _0x2351e8=_0x84fdd7?mimeUtils[_0x5e3b41(0x1c3)](mimeUtils[_0x5e3b41(0x1b3)](_0x4ad2fa)):_0x3154cc[_0x5e3b41(0x168)](safeFileExtension,_0x3154cc[_0x5e3b41(0x10c)](fileExtension,_0x4ad2fa)[_0x5e3b41(0xcd)]());if(!mimeUtils[_0x5e3b41(0x17d)](_0x2351e8))_0x2351e8='';if(_0x2351e8)_0x2351e8='.'+_0x2351e8;let _0x36da6c=_0x53ccc9+'/'+safeFilename(_0x1d3c58)+'_'+uuid['create']()+_0x2351e8;try{if(_0x84fdd7)await shim[_0x5e3b41(0x171)](_0x4ad2fa,_0x36da6c);else{if(_0x3154cc['HYNgv'](urlUtils['urlProtocol'](_0x4ad2fa)[_0x5e3b41(0xcd)](),_0x3154cc['cHNjk'])){const _0x2db73f=_0x3154cc[_0x5e3b41(0x168)](uri2path,_0x4ad2fa);await shim[_0x5e3b41(0x149)]()[_0x5e3b41(0xdb)](_0x2db73f,_0x36da6c);}else{const _0x244f5a=await shim['fetchBlob'](_0x4ad2fa,{'path':_0x36da6c,'maxRetry':0x1});if(!_0x2351e8)_0x36da6c=await this[_0x5e3b41(0xbc)](_0x244f5a,_0x36da6c);}}return _0x36da6c;}catch(_0x5bb355){return this[_0x5e3b41(0x1b1)]()[_0x5e3b41(0x10a)]('Cannot\x20download\x20image\x20at\x20'+_0x4ad2fa,_0x5bb355),'';}}async[_0x23398c(0x101)](_0x229314,_0x57cc1a){const _0x20bd72=_0x23398c,_0x1e0dbd={'nwAsG':function(_0x4b8734,_0x44dd34){return _0x4b8734>=_0x44dd34;},'hRNBn':function(_0x412257,_0x459699){return _0x412257(_0x459699);},'vZQDp':'es6-promise-pool'},_0x735e35=_0x1e0dbd[_0x20bd72(0x1b8)](require,_0x1e0dbd[_0x20bd72(0xb7)]),_0x35b6cd={},_0x1e3d76=async _0x1b2d7b=>{const _0x12d8e8=_0x20bd72,_0xabdcb7=await this[_0x12d8e8(0x118)](_0x1b2d7b,_0x57cc1a);if(_0xabdcb7)_0x35b6cd[_0x1b2d7b]={'path':_0xabdcb7,'originalUrl':_0x1b2d7b};};let _0x3dcecc=0x0;const _0x4e2037=()=>{const _0x2ce14e=_0x20bd72;if(_0x1e0dbd[_0x2ce14e(0x13c)](_0x3dcecc,_0x229314[_0x2ce14e(0x18c)]))return null;const _0x2e56f3=_0x229314[_0x3dcecc++];return _0x1e0dbd[_0x2ce14e(0x1b8)](_0x1e3d76,_0x2e56f3);},_0x1f6f1d=0xa,_0x5b624c=new _0x735e35(_0x4e2037,_0x1f6f1d);return await _0x5b624c[_0x20bd72(0x154)](),_0x35b6cd;}async[_0x23398c(0x126)](_0x27be90){const _0x363745=_0x23398c,_0x14a4a5={'BYYFV':_0x363745(0x1b4),'kEMNL':function(_0x73e468,_0x2c19ea){return _0x73e468!==_0x2c19ea;},'PnTJV':_0x363745(0x1bf)};for(const _0x1b0729 in _0x27be90){if(!_0x27be90['hasOwnProperty'](_0x1b0729))continue;const _0x5b4169=_0x27be90[_0x1b0729];try{if(_0x14a4a5[_0x363745(0x143)](_0x363745(0x1bf),_0x14a4a5[_0x363745(0x13d)]))_0x59fdf9['warn'](_0x14a4a5[_0x363745(0x1b2)],_0x294554),_0x2b67e0=_0x395a63[_0x363745(0x1a4)];else{const _0x5a4ece=await shim[_0x363745(0x169)](_0x5b4169['path']);_0x5b4169[_0x363745(0x19c)]=_0x5a4ece;}}catch(_0x5b2b0c){this[_0x363745(0x1b1)]()[_0x363745(0x10a)](_0x363745(0x16d)+_0x1b0729,_0x5b2b0c);}}return _0x27be90;}async[_0x23398c(0x104)](_0x593bc4){const _0x28c434=_0x23398c,_0x231501={'Sqofq':function(_0x43b4fb,_0x1f4356){return _0x43b4fb>=_0x1f4356;},'TaEVM':_0x28c434(0xc6),'UZXyy':_0x28c434(0xa5)};for(const _0x27ef46 in _0x593bc4){if(!_0x593bc4['hasOwnProperty'](_0x27ef46))continue;const _0x1663e7=_0x593bc4[_0x27ef46];try{'esAsd'!==_0x231501['TaEVM']?await shim[_0x28c434(0x149)]()[_0x28c434(0x10b)](_0x1663e7['path']):(this[_0x28c434(0xf3)]=_0x528d87,this[_0x28c434(0x132)]={},this[_0x28c434(0xf0)]=new _0x44cf79(),this[_0x28c434(0x183)]=_0x4a40ca);}catch(_0x55b98e){_0x28c434(0x178)!==_0x231501[_0x28c434(0xfc)]?this[_0x28c434(0x1b1)]()['warn'](_0x28c434(0x11e)+_0x1663e7['path'],_0x55b98e):(_0x8ff9e4=_0x1b33a7[0x0],_0x362d88[_0x28c434(0x9e)](0x0,0x1),_0x231501[_0x28c434(0x13b)](_0x2339a6[_0x28c434(0x18c)],0x1)&&(_0x2a5a66=_0x5cb3c4[0x0],_0x4bd021[_0x28c434(0x9e)](0x0,0x1)));}}}[_0x23398c(0x139)](_0x4e3d97,_0x5ef59c,_0x398c5b,_0x53c60f){const _0x283d80=_0x23398c,_0x1e5f8e={'mJFYE':function(_0x4863d0,_0x429f7d){return _0x4863d0!==_0x429f7d;},'WafXd':_0x283d80(0x194),'XSnuo':'tKEdX','DhObY':function(_0x27a726,_0x21ae75){return _0x27a726+_0x21ae75;},'ruPRa':function(_0x17fc5f,_0x264bfd){return _0x17fc5f!==_0x264bfd;},'AiOgo':_0x283d80(0xd2),'yUVCA':function(_0x1359f8,_0x3f2367){return _0x1359f8!==_0x3f2367;},'WMPKU':function(_0x2a5853,_0x3a177d){return _0x2a5853+_0x3a177d;}},_0x1679b2={};return _0x4e3d97===MarkupToHtml[_0x283d80(0x8e)]?htmlUtils[_0x283d80(0xec)](_0x5ef59c,_0x256767=>{const _0x2abb67=_0x283d80;if(_0x1e5f8e[_0x2abb67(0x1aa)](_0x1e5f8e[_0x2abb67(0x136)],_0x1e5f8e[_0x2abb67(0x127)])){const _0x35901d=_0x398c5b[_0x256767];if(!_0x35901d||!_0x35901d[_0x2abb67(0x19c)])return _0x256767;return Resource[_0x2abb67(0x193)](_0x35901d[_0x2abb67(0x19c)]);}else throw new _0x51f9b6();}):_0x5ef59c[_0x283d80(0x123)](/(!\[.*?\]\()([^\s\)]+)(.*?\))/g,(_0x545582,_0xadcbde,_0x49c755,_0x286eee)=>{const _0x31e369=_0x283d80,_0x12e382=_0x398c5b[_0x49c755];if(!_0x12e382||!_0x12e382[_0x31e369(0x19c)])return _0x1e5f8e[_0x31e369(0x1a9)](_0x1e5f8e[_0x31e369(0x1a9)](_0xadcbde,_0x49c755),_0x286eee);if(!(_0x12e382[_0x31e369(0x1a0)]in _0x1679b2))_0x1679b2[_0x12e382[_0x31e369(0x1a0)]]=0x0;const _0x5d3f0b=Resource[_0x31e369(0x193)](_0x12e382[_0x31e369(0x19c)]),_0x3c2bca=_0x53c60f[_0x12e382[_0x31e369(0x1a0)]];if(!_0x3c2bca){if(_0x1e5f8e[_0x31e369(0x195)](_0x1e5f8e['AiOgo'],_0x31e369(0xd2)))throw new _0x10381e();else return _0x1e5f8e[_0x31e369(0x1a9)](_0xadcbde+_0x5d3f0b,_0x286eee);}const _0x261518=_0x3c2bca[_0x1679b2[_0x12e382[_0x31e369(0x1a0)]]];return _0x1679b2[_0x12e382[_0x31e369(0x1a0)]]++,_0x261518&&(_0x261518['naturalWidth']!==_0x261518[_0x31e369(0x186)]||_0x1e5f8e[_0x31e369(0xfd)](_0x261518[_0x31e369(0x7f)],_0x261518['height']))?'<img\x20width=\x22'+_0x261518[_0x31e369(0x186)]+'\x22\x20height=\x22'+_0x261518['height']+_0x31e369(0x12c)+_0x5d3f0b+_0x31e369(0xd0):_0x1e5f8e[_0x31e369(0xe5)](_0xadcbde+_0x5d3f0b,_0x286eee);});}}module[_0x23398c(0xad)]=Api;