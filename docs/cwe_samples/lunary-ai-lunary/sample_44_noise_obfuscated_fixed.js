const _0x51e129=_0x19e2;(function(_0x16f9f6,_0x3ec7dc){const _0x20f062=_0x19e2,_0x23200b=_0x16f9f6();while(!![]){try{const _0x1bb6eb=-parseInt(_0x20f062(0x223))/0x1+parseInt(_0x20f062(0xe3))/0x2*(-parseInt(_0x20f062(0x116))/0x3)+-parseInt(_0x20f062(0x27f))/0x4+-parseInt(_0x20f062(0xbc))/0x5*(-parseInt(_0x20f062(0x351))/0x6)+parseInt(_0x20f062(0x134))/0x7+-parseInt(_0x20f062(0x20f))/0x8*(-parseInt(_0x20f062(0x309))/0x9)+parseInt(_0x20f062(0x227))/0xa*(parseInt(_0x20f062(0x2ea))/0xb);if(_0x1bb6eb===_0x3ec7dc)break;else _0x23200b['push'](_0x23200b['shift']());}catch(_0x1fb79c){_0x23200b['push'](_0x23200b['shift']());}}}(_0x4271,0x59433),console[_0x51e129(0x1f0)]('Welcome\x20to\x20Uptime\x20Kuma'));const dayjs=require(_0x51e129(0x233));dayjs[_0x51e129(0x21f)](require('dayjs/plugin/utc')),dayjs[_0x51e129(0x21f)](require(_0x51e129(0x30d))),dayjs['extend'](require(_0x51e129(0x122))),require(_0x51e129(0x1e9))[_0x51e129(0x2de)]();const nodeVersion=process[_0x51e129(0x2b7)][_0x51e129(0x2b5)],requiredNodeVersions=require('../package.json')[_0x51e129(0xb3)][_0x51e129(0x2b5)],bannedNodeVersions=_0x51e129(0x20c);console['log'](_0x51e129(0x179)+nodeVersion);const semver=require('semver'),requiredNodeVersionsComma=requiredNodeVersions[_0x51e129(0x2d1)]('||')[_0x51e129(0xc7)](_0x4b7d15=>_0x4b7d15[_0x51e129(0x243)]())[_0x51e129(0x26e)](',\x20');semver[_0x51e129(0x387)](nodeVersion,bannedNodeVersions)&&(console[_0x51e129(0x352)](_0x51e129(0x1fd),_0x51e129(0x178)+nodeVersion+_0x51e129(0x32c)+requiredNodeVersionsComma+'.'),process[_0x51e129(0x1ff)](-0x1));!semver['satisfies'](nodeVersion,requiredNodeVersions)&&console[_0x51e129(0xce)]('\x1b[31m%s\x1b[0m',_0x51e129(0x1d0)+nodeVersion+_0x51e129(0x34a)+requiredNodeVersionsComma+'.');const args=require(_0x51e129(0x274))(process['argv']),{sleep,log,getRandomInt,genSecret,isDev}=require(_0x51e129(0x391)),config=require('./config');log[_0x51e129(0x268)]('server',_0x51e129(0x153)),log['debug'](_0x51e129(0x147),_0x51e129(0x12b)),log[_0x51e129(0x22f)](_0x51e129(0x147),args);!process['env']['NODE_ENV']&&(process[_0x51e129(0x304)]['NODE_ENV']=_0x51e129(0x2c9));log[_0x51e129(0x268)](_0x51e129(0x147),_0x51e129(0x161)+process[_0x51e129(0x304)][_0x51e129(0x2cb)]),log['info'](_0x51e129(0x147),_0x51e129(0xe6)+(process[_0x51e129(0x304)]['UPTIME_KUMA_IS_CONTAINER']==='1')),log[_0x51e129(0x268)](_0x51e129(0x147),'Importing\x20Node\x20libraries');const fs=require('fs');log[_0x51e129(0x268)](_0x51e129(0x147),_0x51e129(0x121)),log['debug'](_0x51e129(0x147),'Importing\x20express');const express=require(_0x51e129(0x1a7)),expressStaticGzip=require('express-static-gzip');log[_0x51e129(0x22f)](_0x51e129(0x147),_0x51e129(0x1aa));const {R}=require(_0x51e129(0x10e));function _0x4271(){const _0x45f401=['DELETE\x20FROM\x20monitor_notification','disableAuth','otpauth://totp/Uptime%20Kuma:','Uptime\x20Kuma\x20has\x20been\x20initialized.\x20If\x20you\x20want\x20to\x20run\x20setup\x20again,\x20please\x20delete\x20the\x20database.','demoMode','monitorList','MAcOg','trDEi','qYPxe','cloudflared-token','JnmLu','count','jSFro','UyONr','Init\x20the\x20server','ZyZoU','lMZZm','testNotification','QvTeZ','Delete\x20Monitor\x20completed\x20in\x20:\x20','\x20Testing','thirty-two','./notification','Importing\x20prometheus-api-metrics','azJek','save2FA','zIBFt','info','message','TVRmn','Importing\x20jsonwebtoken','Tag\x20not\x20found','AENmB','join','authWorkstation','hgoLl','notificationList','gRVhZ','jjCsQ','args-parser','save','listen','grpcMetadata','Get\x20Monitor\x20Beats:\x20','radiusCalledStationId','Importing\x202FA\x20Modules','DELETE\x20FROM\x20monitor\x20WHERE\x20id\x20=\x20?\x20AND\x20user_id\x20=\x20?\x20','verifyToken','Error\x20adding\x20Monitor:\x20','expectedValue','453476eVqJKz','isActive','twoFAStatus','iJLkG','QyaTQ','\x20ms','TaHiV','hXESY','Backup\x20successfully\x20restored.','tmOLS','RZEtn','auth','Fjpoz','XJmHf','http-graceful-shutdown','/upload','UKZCO','length','Permission\x20denied.','UPTIME_KUMA_HOST','clear','bqJJZ','TkLmu','Importing\x20Proxy','HjCtB','basic_auth_pass','kEgrx','./socket-handlers/cloudflared-socket-handler','setup','jsonwebtoken','CMsRY','var\x20x\x20=\x2042;\x20return\x20x;','Disabled\x20Auth:\x20auto\x20login\x20to\x20admin','grpcBody','grpcEnableTls','fYrik','kxfRg','tMxPD','proxy','statusPage-','BrTGc','JWT\x20secret\x20is\x20not\x20found,\x20generate\x20one.','OOaMJ','\x20`key`\x20=\x20?\x20','wJtXL','dns_resolve_server','use','addNotification','\x20username\x20=\x20?\x20AND\x20active\x20=\x201\x20','XVugJ','2FA\x20token\x20required\x20for\x20user\x20','pRqyJ','accepted_statuscodes','IP=','node','PnDYv','versions','uhflC','databaseConnectionString','bwcPV','iKgba','./monitor-types/real-browser-monitor-type','autoLogin','ivATy','maxredirects','oauth_client_id','active','fnmIW','indexHTML','kafkaProducerSaslOptions','jpeda','VXThn','sruXb','SIGINT\x20SIGTERM','production','description','NODE_ENV','wxbWk','prometheus-api-metrics','disable-frame-sameorigin','httpServer','getMonitorBeats','split','kafkaProducerSsl','Warning:','BcfBc','entryPage','WOGIx','./uptime-kuma-server','hNpzu','name','cOOhT','xBkXg','ugNki','Added\x20Monitor:\x20','config','Invalid\x20period.','BxUVR','SELECT\x20name\x20FROM\x20notification','NiXJt','deleteTag','compare-versions','SAMEORIGIN','./cacheable-dns-http-agent','tELHl','dGHPV','deleteMonitorTag','11dhmJBj','afterLogin\x20ok','path','LLLep','BJqTr','changePassword','CUtZi','toJSON','validate','./modules/apicache','WazSM','mqttTopic','start','bJkAv','now','gaofQ','If\x20you\x20keep\x20encountering\x20errors,\x20please\x20report\x20to\x20https://github.com/louislam/uptime-kuma/issues','pqpzk','cOMHG','vvKpo','Invalid\x20token.','jorQr','WmQeV','UPTIME_KUMA_CLOUDFLARED_TOKEN','stop','IdQkF','env','xvMwE','interval','Clear\x20Statistics\x20User\x20ID:\x20','added\x20all\x20socket\x20handlers','9aKfriY','qWSlu','Content-Type','retryInterval','./modules/dayjs/plugin/timezone','0|4|1|3|2','delete','yyEgu','status','EUIPN','AHWkg','clearStatistics','XCtyJ','btcmN','setting','gfzDs','headers','Accepted\x20status\x20codes\x20are\x20not\x20all\x20strings','yfQjZ','cZDEe','HkQWu','handleStatusPageResponse','addListener','gXyHl','init','jAKJj','eqjpl','hello\x20world','YrqVh','uJCaP','Kvbfn','jAszs','url','check-password-strength','import','\x20is\x20not\x20supported,\x20please\x20upgrade\x20your\x20Node.js\x20to\x20','twofa_status','THTHx','bsLEN','Invalid\x20Monitor\x20Group','User-agent:\x20*\x0aDisallow:','safe','get','WqEVg','getTimezone','Tpvrh','Stored\x20JWT\x20secret\x20into\x20database','Stopping\x20all\x20monitors','DELETE\x20FROM\x20notification','kafkaProducerTopic','CBJwM','HkUmm','CtdPp','game','errorLog','hfGqD','toString','value','oexgK','./auth','copyFileSync','mqttSuccessMessage','TmWqh','The\x20token\x20is\x20invalid\x20due\x20to\x20password\x20change\x20or\x20old\x20token','pauseMonitor','\x20is\x20not\x20officially\x20supported,\x20please\x20upgrade\x20your\x20Node.js\x20to\x20','pass','ezQGk','BOywQ','uploadDir','/robots.txt','settings','972pWskLt','error','notificationIDList','hgcOG','Czvmq','Saved.','dns_resolve_type','fuOEw','Listening\x20on\x20','thgEw','user','DELETE\x20FROM\x20tag\x20WHERE\x20id\x20=\x20?\x20','BvGpo','XKPEy','setHeader','yewVy','editMonitor','./client','setTimezone','parent','rEsNp','updateClock();','tlsCa','Successfully\x20logged\x20in\x20user\x20','IQksl','2|4|5|1|0|3','umGqQ','MdROR','UPTIME_KUMA_DISABLE_FRAME_SAMEORIGIN','QzqUf','Importing\x20Background\x20Jobs','MTwqB','dyyaN','needSetup','ZrnDm','Deleted\x20Successfully.','Importing\x20this\x20project\x20modules','eFJII','hyNxC','addTag',',\x20Version:\x20','RdPRs','Error\x20changing\x202FA\x20token.\x20IP=','zQoKn','Error\x20disabling\x202FA\x20token.\x20IP=','RygLc','SELECT\x20name\x20FROM\x20monitor','iLCNv','dIJYw','sFgGy','general','qOjtW','deleteMonitor','uncaughtException','satisfies','connection','Saved\x202FA\x20token.\x20IP=','cjhob','UPDATE\x20`user`\x20SET\x20twofa_secret\x20=\x20?\x20WHERE\x20id\x20=\x20?\x20','radiusPassword','ZwoxF','grpcServiceName','dvMhw','NpBpH','../src/util','UPDATE\x20monitor\x20SET\x20active\x20=\x200\x20WHERE\x20id\x20=\x20?\x20AND\x20user_id\x20=\x20?\x20','VhsUB','kafkaProducerMessage','monitor_id','mAgnh','addMonitorTag','loginByToken','X-Frame-Options','bTxaG','drXgG','engines','./rate-limiter','cYlCe','unhandledRejection','LAiZn','VUdjK','rxXQj','hostname','initAfterDatabaseReady','14795UPPPkO','EGrqL','Invalid\x20token\x20provided\x20for\x20user\x20','function','/test-webhook','oauth_scopes','LWMNT','QKnPQ','./socket-handlers/general-socket-handler','uXILR','includes','map','Qmlqs','monitor','newPassword','SWwym','Called\x20signal:\x20','Too\x20weak','warn','EDFiK','json','upsideDown','HBVKz','WMgwZ','UqldA','uploadBackup','radiusSecret','proxyList','tlsCert','Delete\x20Monitor:\x20','Request\x20Domain:\x20','patch','username','mqttUsername','./database','once','stopNSCDServices','find','OzPEv','66UfGHXh','emit','Added\x20Successfully.','Inside\x20Container:\x20','CTLZd','?secret=','user_id','NdIHL','\x20name\x20=\x20?','PQvHY','EDTIX','GLKcz','need\x20auth','trace','Invalid\x20Token.','PqavU','Incorrect\x20username\x20or\x20password\x20for\x20user\x20','DELETE\x20FROM\x20proxy','startsWith','jwtSecret','VnZnL','tlsKey','post','startInterval','kafkaProducerBrokers','grpcMethod','mmXmp','stringify','resumeMonitor','basic_auth_user','./socket-handlers/database-socket-handler','createJWT','token','getInstance','./socket-handlers/proxy-socket-handler','EnubO','JiocF','monitor_notification','BUlBW','Clear\x20Heartbeats\x20Monitor:\x20','tcUyk','findAll','parse','redbean-node','LTRgI','DELETE\x20FROM\x20tag','expiryNotification','2FA\x20Disabled.','VNUaa','vErDw','ylYHI','46077IMJXys','GcUje','UdBbv','eWngs','host','\x20active\x20=\x201\x20','uRRdJ','pJwPK','radiusUsername','CThcN','INSERT\x20INTO\x20monitor_tag\x20(tag_id,\x20monitor_id,\x20value)\x20VALUES\x20(?,\x20?,\x20?)','Importing\x203rd-party\x20libraries','dayjs/plugin/customParseFormat','removeHeader','BMOxv','WTjTD','xzKXN','Importing\x20Monitor','resendInterval','Version:\x20','/.well-known/change-password','Arguments','getRow','Invalid\x20new\x20password','niTlb','AiCQm','eGRuo','every','NHKSf','UPDATE\x20monitor\x20SET\x20active\x20=\x201\x20WHERE\x20id\x20=\x20?\x20AND\x20user_id\x20=\x20?\x20','208229cebLLX','emit\x20initServerTimezone','tzLaA','Incorrect\x20username\x20or\x20password.','exec','kfSdX','leave','ieocV','searchEngineIndex','existsSync','Importing\x20Notification','docker_container','loadDomainMappingList','login','euldy','myfMf','INNpc','YiqBi','RqSHK','server','app','uGKXg','encode','./2fa','oauth_auth_method','grpcUrl','You\x20do\x20not\x20own\x20this\x20monitor.','QRHPG','jsonPath','editTag','keep','Welcome\x20to\x20Uptime\x20Kuma','lNjBE','static','Deleted','dREAm','notp','store','oauth_client_secret','eirqQ','BGyNE','UPDATE\x20`user`\x20SET\x20twofa_status\x20=\x201\x20WHERE\x20id\x20=\x20?\x20','nMDtR','gamedigGivenPortOnly','Resume\x20Monitor:\x20','Node\x20Env:\x20','Importing\x20Backup,\x20User\x20ID:\x20','grpcProtobuf','Connecting\x20to\x20the\x20Database','AfRjb','wEULI','color','pedtm','dihZu','DELETE\x20FROM\x20monitor','bYAkD','dJEDb','DELETE\x20FROM\x20heartbeat\x20WHERE\x20monitor_id\x20=\x20?','templatePath','Saved','string','proxy_id','YZeyn','resetPassword','vYECL','YgjOp','XlEKn','redirect','Error:\x20Your\x20Node.js\x20version:\x20','Your\x20Node.js\x20version:\x20','lZchG','ijnVz','\x20id\x20=\x20?\x20AND\x20active\x20=\x201\x20','./model/status_page','Username\x20from\x20JWT:\x20','./check-version','sendStats','PORT','xdKYz','compare','timeout','WxLhT','Get\x20Monitor:\x20','JVVuy','ZmVYe','exports','IsrFn','authMethod','lzCnp','Login\x20by\x20token.\x20IP=','====\x20Demo\x20Mode\x20====','overwrite','uhwge','sendMonitorList','YHNON','./socket-handlers/status-page-socket-handler','Pause\x20Monitor:\x20','File\x20not\x20found.','proxyId','getSettings','/upload/','opFWz','HOST','coVop','0|1|3|4|2','entry','Redirect\x20to\x20setup\x20page','zqkoA','SUpLR','fdCse','mKiOY','keyword','accepted_statuscodes_json','tFQHf','TgVUN','express','password','AJyUu','Importing\x20redbean-node','oMYon','fPsvP','/dashboard','test','GET','Importing\x20http-graceful-shutdown','getClientIP','Uryln','oauth_token_url','docker_host','WPqEI','isInteger','KHXkf','./jobs','ckXkA','Shutdown\x20requested','reVVr','QFaGr','OmNGU','zPigA','CohBX','KCXlf','ZpDxs','tag','\x20id\x20=\x20?\x20AND\x20user_id\x20=\x20?\x20','dist','MRdaC','X-Powered-By','DELETE\x20FROM\x20monitor_tls_info','getTags','blrwk','Graceful\x20shutdown\x20successful!','maxretries','RLAIt','Login\x20by\x20username\x20+\x20password.\x20IP=','afterLogin','body','Warning:\x20Your\x20Node.js\x20version:\x20','editMonitorTag','UTNIu','caBQU','version','YaqTq','logout','gaHIt','httpBodyEncoding','bGyPR','eJZQS','Too\x20many\x20failed\x20requests\x20for\x20user\x20','Invalid\x20token.\x20IP=','Uevte','add','krWSl','ZxcNN','./settings','kafkaProducerAllowAutoTopicCreation','ajPCe','fGFrr','NPhpK','e2e','aKnXO','.\x20IP=','dotenv','clearEvents','oaJqQ','TjFsN','type','GIpqn','ICwjQ','log','Copying\x20Database','SELECT\x20id\x20FROM\x20monitor\x20WHERE\x20id\x20=\x20?\x20AND\x20user_id\x20=\x20?\x20','port','olBOd','checkApprise','ghPZa','tags','verify','initServerTimezone','The\x20user\x20is\x20inactive\x20or\x20deleted.','fxwYG','KNtkw','\x1b[31m%s\x1b[0m','getAll','exit','igIQh','HFYpE','HBbDp','sendStatusPageList','KDEEK','nscd','replace','kVUsO','send','JPSbL','getMonitor','./password-hash','\x20<\x2014\x20||\x2020.0.*\x20||\x2020.1.*\x20||\x2020.2.*\x20||\x2020.3.*\x20','sOYxj','HRMVj','4147144vjgrSq','rmNxw','./model/monitor','PdVax','chromeExecutable','invertKeyword','sfrHV','Chrome\x20executable\x20is\x20changed.\x20Resetting\x20Chrome...','AnZTl','notification_id','mqttPassword','pushToken','Edited\x20Successfully.','method','radiusCallingStationId','RUFGe','extend','ignoreTls','currentPassword','Importing\x20Database','534626vNqiJR','findOne','DELETE\x20FROM\x20monitor_tag\x20WHERE\x20tag_id\x20=\x20?\x20AND\x20monitor_id\x20=\x20?\x20AND\x20value\x20=\x20?','qQgUx','4929630IrVnOS','dEEZl','eZQpu','XqNZZ','UPDATE\x20heartbeat\x20SET\x20msg\x20=\x20?,\x20important\x20=\x20?\x20WHERE\x20monitor_id\x20=\x20?\x20','manage','Resumed\x20Successfully.','tvHsj','debug','KiJaG','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20SELECT\x20*\x20FROM\x20heartbeat\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20monitor_id\x20=\x20?\x20AND\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20time\x20>\x20DATETIME(\x27now\x27,\x20\x27-\x27\x20||\x20?\x20||\x20\x27\x20hours\x27)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ORDER\x20BY\x20time\x20ASC\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','totp','dayjs','serverTimezone','ACvmX','qpuYe','pPSja','https://github.com/louislam/uptime-kuma/wiki/Reset-Password-via-CLI','\x20User\x20ID:\x20','laaCc','console.log(\x22timer\x22);','domainMappingList','userID','authDomain','Password\x20has\x20been\x20updated\x20successfully.','kKjIf','kZSCl','databaseQuery','trim','return\x20Object.keys({a:1});','\x20id\x20=\x20?\x20','ZJrER','iFRKA','ovLxS','Load\x20JWT\x20secret\x20from\x20database.','dispense','pLYYF','AhPHn'];_0x4271=function(){return _0x45f401;};return _0x4271();}log[_0x51e129(0x22f)](_0x51e129(0x147),_0x51e129(0x26b));const jwt=require(_0x51e129(0x29c));log[_0x51e129(0x22f)](_0x51e129(0x147),_0x51e129(0x1b0));const gracefulShutdown=require(_0x51e129(0x28d));log[_0x51e129(0x22f)](_0x51e129(0x147),_0x51e129(0x264));const prometheusAPIMetrics=require(_0x51e129(0x2cd));log['debug']('server','Importing\x20compare-versions');const compareVersions=require(_0x51e129(0x2e4)),{passwordStrength}=require(_0x51e129(0x32a));function _0x19e2(_0x3250d9,_0x1e016f){const _0x427121=_0x4271();return _0x19e2=function(_0x19e2ee,_0x2a2a6e){_0x19e2ee=_0x19e2ee-0xaf;let _0x153497=_0x427121[_0x19e2ee];return _0x153497;},_0x19e2(_0x3250d9,_0x1e016f);}log[_0x51e129(0x22f)]('server',_0x51e129(0x27a));const notp=require(_0x51e129(0x158)),base32=require(_0x51e129(0x262)),{UptimeKumaServer}=require(_0x51e129(0x2d7)),server=UptimeKumaServer[_0x51e129(0x104)](args),io=module[_0x51e129(0x189)]['io']=server['io'],app=server[_0x51e129(0x148)];log[_0x51e129(0x268)]('server',_0x51e129(0x375)),log[_0x51e129(0x22f)](_0x51e129(0x147),_0x51e129(0x127));const Monitor=require(_0x51e129(0x211)),User=require('./model/user');log['debug'](_0x51e129(0x147),'Importing\x20Settings');const {getSettings,setSettings,setting,initJWTSecret,checkLogin,startUnitTest,FBSD,doubleCheckPassword,startE2eTests,shake256,SHAKE256_LENGTH}=require('./util-server');log[_0x51e129(0x22f)](_0x51e129(0x147),_0x51e129(0x13e));const {Notification}=require(_0x51e129(0x263));Notification[_0x51e129(0x321)](),log['debug'](_0x51e129(0x147),_0x51e129(0x296));const {Proxy}=require('./proxy');log[_0x51e129(0x22f)](_0x51e129(0x147),_0x51e129(0x222));const Database=require(_0x51e129(0xde));log[_0x51e129(0x22f)](_0x51e129(0x147),_0x51e129(0x36f));const {initBackgroundJobs,stopBackgroundJobs}=require(_0x51e129(0x1b8)),{loginRateLimiter,twoFaRateLimiter}=require(_0x51e129(0xb4)),{apiAuth}=require(_0x51e129(0x344)),{login}=require(_0x51e129(0x344)),passwordHash=require(_0x51e129(0x20b)),checkVersion=require(_0x51e129(0x17f));log[_0x51e129(0x268)]('server',_0x51e129(0x129)+checkVersion['version']);let hostEnv=FBSD?null:process['env'][_0x51e129(0x19a)],hostname=args[_0x51e129(0x11a)]||process[_0x51e129(0x304)][_0x51e129(0x292)]||hostEnv;hostname&&(log[_0x51e129(0x268)](_0x51e129(0x147),'Custom\x20hostname:\x20'+hostname),setTimeout('console.log(\x22timer\x22);',0x3e8));const port=[args['port'],process[_0x51e129(0x304)]['UPTIME_KUMA_PORT'],process[_0x51e129(0x304)][_0x51e129(0x181)],0xbb9]['map'](_0x2f19ea=>parseInt(_0x2f19ea))[_0x51e129(0xe1)](_0x2d9e5c=>!isNaN(_0x2d9e5c)),disableFrameSameOrigin=!!process[_0x51e129(0x304)][_0x51e129(0x36d)]||args[_0x51e129(0x2ce)]||![],cloudflaredToken=args[_0x51e129(0x256)]||process[_0x51e129(0x304)][_0x51e129(0x301)]||undefined,twoFAVerifyOptions={'window':0x1,'time':0x1e},testMode=!!args[_0x51e129(0x1ae)]||![],e2eTestMode=!!args[_0x51e129(0x1e6)]||![];config[_0x51e129(0x251)]&&log['info'](_0x51e129(0x147),_0x51e129(0x18e));const {sendNotificationList,sendHeartbeatList,sendImportantHeartbeatList,sendInfo,sendProxyList,sendDockerHostList,sendAPIKeyList}=require(_0x51e129(0x362)),{statusPageSocketHandler}=require(_0x51e129(0x193)),databaseSocketHandler=require(_0x51e129(0x101)),TwoFA=require(_0x51e129(0x14b)),StatusPage=require(_0x51e129(0x17d)),{cloudflaredSocketHandler,autoStart:cloudflaredAutoStart,stop:cloudflaredStop}=require(_0x51e129(0x29a)),{proxySocketHandler}=require(_0x51e129(0x105)),{dockerSocketHandler}=require('./socket-handlers/docker-socket-handler'),{maintenanceSocketHandler}=require('./socket-handlers/maintenance-socket-handler'),{apiKeySocketHandler}=require('./socket-handlers/api-key-socket-handler'),{generalSocketHandler}=require(_0x51e129(0xc4)),{Settings}=require(_0x51e129(0x1e1)),{CacheableDnsHttpAgent}=require(_0x51e129(0x2e6)),apicache=require(_0x51e129(0x2f3)),{resetChrome}=require(_0x51e129(0x2bc));app['use'](express[_0x51e129(0xd0)]()),app[_0x51e129(0x2ad)](function(_0x49fe56,_0x4414f8,_0x3a44a7){const _0x93badc=_0x51e129,_0x20087d={'Tpvrh':function(_0x57d10a,_0x2e0545){return _0x57d10a===_0x2e0545;},'zIBFt':function(_0x1eb363){return _0x1eb363();}};!disableFrameSameOrigin&&(_0x20087d[_0x93badc(0x336)]('UKZCO',_0x93badc(0x28f))?_0x4414f8[_0x93badc(0x35f)](_0x93badc(0xb0),_0x93badc(0x2e5)):_0x3beda2({'ok':![],'msg':_0x3933cc[_0x93badc(0x269)]})),_0x4414f8[_0x93badc(0x123)](_0x93badc(0x1c6)),_0x20087d[_0x93badc(0x267)](_0x3a44a7);});let needSetup=![];((async()=>{const _0x12b43a=_0x51e129,_0x3b4139={'yewVy':_0x12b43a(0x23b),'kxfRg':function(_0x517b27,_0x5bcb58){return _0x517b27(_0x5bcb58);},'JJNtP':'x-forwarded-host','hNpzu':_0x12b43a(0x20e),'Uryln':_0x12b43a(0x19d),'JVVuy':function(_0x312354,_0x14c29c){return _0x312354 in _0x14c29c;},'TmWqh':'This\x20is\x20a\x20status\x20page\x20domain','yfQjZ':function(_0x472856,_0x4f3bb1){return _0x472856===_0x4f3bb1;},'XJmHf':function(_0x2cf6b6,_0x4bf0a0){return _0x2cf6b6+_0x4bf0a0;},'jorQr':'statusPage-','XqNZZ':'HBbDp','UyONr':_0x12b43a(0x1ae),'ylYHI':_0x12b43a(0x147),'ZpDxs':function(_0x4e9945,_0x48eeea){return _0x4e9945===_0x48eeea;},'fxwYG':_0x12b43a(0x289),'THTHx':function(_0x21a0ba,_0x2f631b){return _0x21a0ba(_0x2f631b);},'CNXPF':_0x12b43a(0x30b),'UqldA':'https://github.com/louislam/uptime-kuma/wiki/Reset-Password-via-CLI','yyEgu':_0x12b43a(0x198),'RqSHK':_0x12b43a(0x195),'ugNki':_0x12b43a(0x28a),'AENmB':'user','fbqbu':_0x12b43a(0x2af),'SWwym':function(_0x38f520,_0x28475e,_0x3044ec){return _0x38f520(_0x28475e,_0x3044ec);},'pJwPK':_0x12b43a(0x1ce),'wxbWk':_0x12b43a(0x2eb),'BOywQ':function(_0x5e75da,_0x4fde4e){return _0x5e75da!==_0x4fde4e;},'jAszs':_0x12b43a(0x14f),'SUpLR':_0x12b43a(0x144),'cOOhT':_0x12b43a(0x1fa),'MTwqB':function(_0x152fd0,_0x6570de){return _0x152fd0(_0x6570de);},'RdPRs':_0x12b43a(0xbf),'hgoLl':function(_0x22d0fe,_0x3c2e74,_0x5b7337){return _0x22d0fe(_0x3c2e74,_0x5b7337);},'gXyHl':function(_0x765b0b,_0x5752dd){return _0x765b0b!==_0x5752dd;},'SRiFk':'GLKcz','RUFGe':'UPDATE\x20`user`\x20SET\x20twofa_last_token\x20=\x20?\x20WHERE\x20id\x20=\x20?\x20','IQksl':function(_0x496c61,_0x1cf039){return _0x496c61(_0x1cf039);},'hyNxC':function(_0x516031,_0xda00f9){return _0x516031!==_0xda00f9;},'zXPYw':_0x12b43a(0x355),'drXgG':function(_0x54f989,_0x47e900){return _0x54f989(_0x47e900);},'NPhpK':function(_0x218bcb,_0x94ab5,_0x4e3774){return _0x218bcb(_0x94ab5,_0x4e3774);},'WazSM':_0x12b43a(0x17c),'EuePk':function(_0x2c8c2a,_0x1b00c3){return _0x2c8c2a(_0x1b00c3);},'mmXmp':_0x12b43a(0xcd),'WMgwZ':'Password\x20is\x20too\x20weak.\x20It\x20should\x20contain\x20alphabetic\x20and\x20numeric\x20characters.\x20It\x20must\x20be\x20at\x20least\x206\x20characters\x20in\x20length.','XVugJ':function(_0x415928,_0x4684c2){return _0x415928!==_0x4684c2;},'qQgUx':_0x12b43a(0x250),'hfGqD':function(_0xa9dce6,_0x88195a){return _0xa9dce6(_0x88195a);},'HkUmm':_0x12b43a(0xe5),'laaCc':'monitor','QKnPQ':function(_0x328912,_0x92aa40){return _0x328912(_0x92aa40);},'iJLkG':_0x12b43a(0x22d),'wJtXL':_0x12b43a(0x2fc),'bFOYk':function(_0xe4b823,_0x48b4f0){return _0xe4b823(_0x48b4f0);},'rmNxw':function(_0x5a1594,_0x2e2fd9){return _0x5a1594!==_0x2e2fd9;},'umGqQ':_0x12b43a(0x1da),'WPqEI':_0x12b43a(0x27b),'CPvJh':function(_0x5daa73,_0x257ff3){return _0x5daa73(_0x257ff3);},'IdQkF':function(_0x30e300,_0x2ec606){return _0x30e300!==_0x2ec606;},'ckXkA':_0x12b43a(0xed),'lNjBE':_0x12b43a(0x1fc),'BUlBW':function(_0x185888,_0x453f00){return _0x185888(_0x453f00);},'wLdev':_0x12b43a(0x118),'sEAwz':'Kzpnx','oMYon':function(_0x25ec36,_0x367cba){return _0x25ec36(_0x367cba);},'kZSCl':_0x12b43a(0x12d),'JnmLu':function(_0x25e1d6,_0x3f03b4){return _0x25e1d6===_0x3f03b4;},'dJEDb':'NJJJe','PdVax':function(_0x5610ce,_0x28a16b){return _0x5610ce(_0x28a16b);},'mAgnh':_0x12b43a(0x24e),'KDEEK':_0x12b43a(0x205),'edGjm':_0x12b43a(0x383),'iNTdP':_0x12b43a(0x216),'CtdPp':function(_0x2ee9e0){return _0x2ee9e0();},'jSFro':function(_0x52edb7,_0x5cfe69){return _0x52edb7(_0x5cfe69);},'HkQWu':_0x12b43a(0x261),'BrTGc':_0x12b43a(0x22c),'rEsNp':'DELETE\x20FROM\x20heartbeat','trDEi':_0x12b43a(0x339),'BGyNE':'DELETE\x20FROM\x20monitor_tag','kkTHV':_0x12b43a(0x110),'VUdjK':_0x12b43a(0xf4),'PqavU':function(_0x1d97fb,_0x25a9c7){return _0x1d97fb>=_0x25a9c7;},'qqECy':_0x12b43a(0x2e1),'USToi':function(_0x327b53,_0x1503a){return _0x327b53<_0x1503a;},'vYECL':'skip','VXThn':function(_0xbe6c0b,_0x5e9f56){return _0xbe6c0b===_0x5e9f56;},'ICwjQ':_0x12b43a(0x152),'uRRdJ':_0x12b43a(0x18f),'UvulJ':function(_0x37fb05,_0x32459e){return _0x37fb05*_0x32459e;},'KCXlf':function(_0x12a92e,_0x493672){return _0x12a92e!==_0x493672;},'WxLhT':'tag','dIJYw':_0x12b43a(0x312),'IsrFn':_0x12b43a(0x323),'sfrHV':_0x12b43a(0x120),'JPSbL':function(_0x3954f1,_0x4ece87,_0x531454){return _0x3954f1(_0x4ece87,_0x531454);},'btcmN':'FpRVj','Kvbfn':function(_0x34ae59,_0xd15a7c){return _0x34ae59(_0xd15a7c);},'gRVhZ':function(_0x480e05,_0x381fa1,_0xaa38a7,_0x4e9ea2,_0x240b67){return _0x480e05(_0x381fa1,_0xaa38a7,_0x4e9ea2,_0x240b67);},'wbzag':_0x12b43a(0x286),'bqJJZ':function(_0x27a5ec,_0x3f82dc,_0x4dfd1b){return _0x27a5ec(_0x3f82dc,_0x4dfd1b);},'bwcPV':'The\x20token\x20is\x20invalid\x20due\x20to\x20password\x20change\x20or\x20old\x20token','AfRjb':_0x12b43a(0x157),'NiXJt':function(_0x54d894,_0x4ca750,_0x34374b){return _0x54d894(_0x4ca750,_0x34374b);},'aKnXO':function(_0x785e90,_0x5275d3){return _0x785e90!==_0x5275d3;},'YaqTq':function(_0x1b3d93,_0x441752){return _0x1b3d93===_0x441752;},'thgEw':function(_0x2baceb,_0x582233){return _0x2baceb(_0x582233);},'YgjOp':_0x12b43a(0xef),'KiJaG':_0x12b43a(0x291),'uhflC':_0x12b43a(0x199),'tzLaA':function(_0x564200,_0x3d99d6){return _0x564200(_0x3d99d6);},'FQbdy':_0x12b43a(0x1c3),'akUru':'Paused\x20Successfully.','ACvmX':function(_0x250780,_0x40126c){return _0x250780(_0x40126c);},'olBOd':'fUQCs','IYwxA':_0x12b43a(0x245),'AHWkg':_0x12b43a(0x1a5),'ivATy':_0x12b43a(0x1c9),'pJHMz':function(_0x5e4c9b,_0x4081df){return _0x5e4c9b===_0x4081df;},'nMDtR':function(_0x540d10,_0x481a99){return _0x540d10!==_0x481a99;},'jAKJj':function(_0x1567da,_0xeff363){return _0x1567da(_0xeff363);},'VNUaa':function(_0x1c4f43,_0x23d26c){return _0x1c4f43(_0x23d26c);},'tMxPD':_0x12b43a(0x29b),'pRqyJ':_0x12b43a(0xaf),'oSZUd':_0x12b43a(0x141),'ezQGk':_0x12b43a(0x1d6),'zQoKn':'prepare2FA','coVop':_0x12b43a(0x27c),'TVRmn':_0x12b43a(0x281),'MAcOg':_0x12b43a(0x372),'XlEKn':_0x12b43a(0x1de),'EQuTb':'getMonitorList','fGFrr':_0x12b43a(0xff),'BcfBc':_0x12b43a(0x349),'ycPJr':_0x12b43a(0x385),'fYrik':_0x12b43a(0x1c8),'mqzCo':_0x12b43a(0x378),'xdKYz':_0x12b43a(0x2ef),'Qmlqs':_0x12b43a(0x197),'xBkXg':_0x12b43a(0x2ae),'uXILR':'deleteNotification','ZxcNN':_0x12b43a(0x25e),'kEgrx':_0x12b43a(0xd5),'eOFpX':_0x12b43a(0x314),'jjCsQ':function(_0x3a777b,_0x4db59a){return _0x3a777b(_0x4db59a);},'qIWBb':function(_0x5b44d4,_0x57e026){return _0x5b44d4(_0x57e026);},'reVVr':function(_0x4b524a,_0x529a00){return _0x4b524a(_0x529a00);},'xvMwE':function(_0x7a7820,_0x412b78){return _0x7a7820(_0x412b78);},'YrfBK':_0x12b43a(0x29f),'idGxd':_0x12b43a(0x2bd),'PnDYv':'Cannot\x20listen:\x20','XCtyJ':function(_0x6f4516){return _0x6f4516();},'kfSdX':function(_0x2a84ac){return _0x2a84ac();},'eirqQ':function(_0x775e22,_0x5b47f7){return _0x775e22(_0x5b47f7);},'VhsUB':_0x12b43a(0x2d5),'GIpqn':'Adding\x20route','OOaMJ':_0x12b43a(0x34f),'WmQeV':'/metrics','cZDEe':function(_0x30a8ba,_0x495485,_0x12bc1e){return _0x30a8ba(_0x495485,_0x12bc1e);},'ZJrER':_0x12b43a(0x28e),'mvXhn':_0x12b43a(0x12a),'raUGf':function(_0x4cc3c6,_0x47c2c3){return _0x4cc3c6(_0x47c2c3);},'urfkq':'./routers/status-page-router','UTNIu':_0x12b43a(0x388),'uJCaP':_0x12b43a(0x352)};Database[_0x12b43a(0x321)](args),await _0x3b4139[_0x12b43a(0x15b)](initDatabase,testMode),await server[_0x12b43a(0xbb)](),server[_0x12b43a(0x2d5)]=await Settings[_0x12b43a(0x333)](_0x3b4139[_0x12b43a(0x393)]),await StatusPage[_0x12b43a(0x140)](),log[_0x12b43a(0x268)](_0x12b43a(0x147),_0x3b4139[_0x12b43a(0x1ee)]),app[_0x12b43a(0x333)]('/',async(_0x46429b,_0x57d6a2)=>{const _0x4d66d2=_0x12b43a,_0x1290c5={'Fjpoz':_0x4d66d2(0x147),'mDJNi':_0x3b4139[_0x4d66d2(0x360)]};let _0x490459=_0x46429b[_0x4d66d2(0xba)];if(await _0x3b4139['kxfRg'](setting,'trustProxy')){const _0x59af32=_0x46429b[_0x4d66d2(0x319)][_0x3b4139['JJNtP']];_0x59af32&&(_0x3b4139['hNpzu']===_0x3b4139[_0x4d66d2(0x2d8)]?_0x490459=_0x59af32:_0x21f402[_0x4d66d2(0x252)][_0x257250['id']]=_0x1228d3);}log[_0x4d66d2(0x22f)](_0x3b4139['Uryln'],_0x4d66d2(0xda)+_0x490459);const _0x444e96=server[_0x4d66d2(0x2d5)];if(_0x3b4139[_0x4d66d2(0x187)](_0x490459,StatusPage[_0x4d66d2(0x23c)])){log[_0x4d66d2(0x22f)](_0x3b4139[_0x4d66d2(0x1b2)],_0x3b4139[_0x4d66d2(0x347)]);let _0x4bbfcb=StatusPage[_0x4d66d2(0x23c)][_0x490459];await StatusPage[_0x4d66d2(0x31e)](_0x57d6a2,server[_0x4d66d2(0x2c3)],_0x4bbfcb);}else _0x444e96&&_0x444e96[_0x4d66d2(0xf5)](_0x4d66d2(0x2a6))?_0x3b4139[_0x4d66d2(0x31b)](_0x4d66d2(0x228),_0x4d66d2(0x228))?_0x57d6a2[_0x4d66d2(0x177)](_0x3b4139[_0x4d66d2(0x28c)]('/status/',_0x444e96[_0x4d66d2(0x206)](_0x3b4139[_0x4d66d2(0x2ff)],''))):(_0x95644f['info'](_0x1290c5[_0x4d66d2(0x28b)],'Custom\x20hostname:\x20'+_0x424104),_0x325934(_0x1290c5['mDJNi'],0x3e8)):_0x57d6a2['redirect'](_0x4d66d2(0x1ad));});isDev&&(app['use'](express['urlencoded']({'extended':!![]})),app[_0x12b43a(0xf9)](_0x12b43a(0xc0),async(_0x32ae3d,_0x1defe2)=>{const _0x2a9785=_0x12b43a;if(_0x3b4139[_0x2a9785(0x31b)](_0x3b4139[_0x2a9785(0x22a)],_0x2a9785(0x202)))log[_0x2a9785(0x22f)](_0x3b4139[_0x2a9785(0x25a)],_0x32ae3d[_0x2a9785(0x319)]),log[_0x2a9785(0x22f)](_0x2a9785(0x1ae),_0x32ae3d['body']),_0x1defe2[_0x2a9785(0x208)]('OK');else{new _0x1c39a4(_0x2a9785(0x29e))();return;}}));app[_0x12b43a(0x333)](_0x3b4139[_0x12b43a(0x2a9)],async(_0x2110d6,_0x368c91)=>{const _0x240d3d=_0x12b43a,_0x5a08a1={'EGrqL':_0x3b4139[_0x240d3d(0x115)]};if(_0x3b4139[_0x240d3d(0x1c1)](_0x240d3d(0x11f),_0x3b4139[_0x240d3d(0x1fb)]))_0x47203f[_0x240d3d(0x268)](_0x5a08a1[_0x240d3d(0xbd)],'No\x20user,\x20need\x20setup'),_0x49b780=!![];else{let _0x53efc1=_0x240d3d(0x331);!await _0x3b4139[_0x240d3d(0x32e)](setting,_0x240d3d(0x13c))&&(_0x53efc1+='\x20/'),_0x368c91['setHeader'](_0x3b4139['CNXPF'],'text/plain'),_0x368c91['send'](_0x53efc1);}}),app['get'](_0x3b4139[_0x12b43a(0x300)],apiAuth,prometheusAPIMetrics()),app[_0x12b43a(0x2ad)]('/',_0x3b4139[_0x12b43a(0x31c)](expressStaticGzip,_0x12b43a(0x1c4),{'enableBrotli':!![]})),app[_0x12b43a(0x2ad)](_0x3b4139[_0x12b43a(0x246)],express[_0x12b43a(0x155)](Database[_0x12b43a(0x34e)])),app[_0x12b43a(0x333)](_0x3b4139['mvXhn'],async(_0x164528,_0x4379aa)=>{const _0x42a06d=_0x12b43a;_0x4379aa[_0x42a06d(0x177)](_0x3b4139[_0x42a06d(0xd4)]);});const _0x2de2e0=require('./routers/api-router');app['use'](_0x2de2e0);const _0x2d21d0=_0x3b4139['raUGf'](require,_0x3b4139['urfkq']);app[_0x12b43a(0x2ad)](_0x2d21d0),app[_0x12b43a(0x333)]('*',async(_0x350935,_0x4c25cf)=>{const _0x1915b8=_0x12b43a;_0x350935['originalUrl'][_0x1915b8(0xf5)](_0x3b4139[_0x1915b8(0x310)])?_0x4c25cf[_0x1915b8(0x311)](0x194)[_0x1915b8(0x208)](_0x3b4139[_0x1915b8(0x146)]):_0x4c25cf['send'](server[_0x1915b8(0x2c3)]);}),log['info'](_0x12b43a(0x147),'Adding\x20socket\x20handler'),io['on'](_0x3b4139[_0x12b43a(0x1d2)],async _0x5f3cb4=>{const _0x5bd041=_0x12b43a,_0x3e9b4f={'FgsvF':function(_0x31fb95,_0xb9c79,_0x1af43e){const _0xda0b74=_0x19e2;return _0x3b4139[_0xda0b74(0x294)](_0x31fb95,_0xb9c79,_0x1af43e);},'hgcOG':'return\x20new\x20Date();','wEULI':_0x3b4139[_0x5bd041(0x2ba)],'TaHiV':function(_0x4c83e1,_0x14560a,_0x1baa9c){return _0x4c83e1(_0x14560a,_0x1baa9c);},'BJqTr':_0x3b4139[_0x5bd041(0x26d)],'QuDCh':'\x20id\x20=\x20?\x20AND\x20active\x20=\x201\x20','pLYYF':function(_0x548d31,_0x1914f5){return _0x548d31===_0x1914f5;},'myfMf':'HapWc','MwRox':function(_0x5e528f){return _0x5e528f();},'bJkAv':function(_0x4aeceb,_0xf817e1){return _0x4aeceb(_0xf817e1);},'wHrxW':function(_0x405918,_0x59189f){return _0x3b4139['JnmLu'](_0x405918,_0x59189f);},'vvKpo':'nKaKx','BbLfN':_0x3b4139[_0x5bd041(0x165)],'GcUje':function(_0x4ceb5f,_0x22f459,_0x504769){const _0x185853=_0x5bd041;return _0x3b4139[_0x185853(0x2e2)](_0x4ceb5f,_0x22f459,_0x504769);},'oexgK':_0x5bd041(0x23b),'dadfB':_0x5bd041(0x15d),'rxXQj':_0x5bd041(0x28a),'ovLxS':function(_0x58bfcb,_0x35b78b){const _0x1947a6=_0x5bd041;return _0x3b4139[_0x1947a6(0x1e7)](_0x58bfcb,_0x35b78b);},'uhwge':_0x5bd041(0x332),'ieocV':function(_0x22ff86,_0x2979bd){return _0x22ff86(_0x2979bd);},'HjCtB':function(_0x18ccb2,_0x5eaefa){const _0x27ae55=_0x5bd041;return _0x3b4139[_0x27ae55(0x1d5)](_0x18ccb2,_0x5eaefa);},'tlWFA':function(_0x314a27,_0x1f9637){return _0x314a27(_0x1f9637);},'MdROR':_0x5bd041(0x2f9),'VCAQI':function(_0x366c7b,_0xee9436){return _0x366c7b(_0xee9436);},'NHKSf':'\x1b[31m%s\x1b[0m','caBQU':'TjtEN','ijnVz':_0x5bd041(0x31a),'ZyZoU':function(_0x296cfc,_0x525d8,_0x5f3dec){return _0x296cfc(_0x525d8,_0x5f3dec);},'ZHtsE':function(_0x58c64f,_0xed80e1){const _0x52b6c4=_0x5bd041;return _0x3b4139[_0x52b6c4(0x2b0)](_0x58c64f,_0xed80e1);},'pqpzk':function(_0x5c5699,_0x1b5a28){const _0x1de0e2=_0x5bd041;return _0x3b4139[_0x1de0e2(0x35a)](_0x5c5699,_0x1b5a28);},'ghPZa':function(_0x131579,_0x4b3a02){return _0x131579(_0x4b3a02);},'dSgra':_0x3b4139[_0x5bd041(0x175)],'dvMhw':_0x3b4139[_0x5bd041(0x230)],'tELHl':_0x3b4139[_0x5bd041(0x2b8)],'pPSja':_0x5bd041(0x330),'qWSlu':'group','ZwoxF':function(_0x486bc4,_0x19faef){return _0x3b4139['tzLaA'](_0x486bc4,_0x19faef);},'QvTeZ':_0x5bd041(0xc9),'igIQh':function(_0x158365,_0x11eabd){return _0x158365===_0x11eabd;},'eFJII':_0x5bd041(0x145),'cYlCe':_0x3b4139['FQbdy'],'gfzDs':function(_0x282e21,_0x2172af){return _0x282e21(_0x2172af);},'mKiOY':_0x5bd041(0x2df),'oWuZf':_0x3b4139['akUru'],'WKcWe':function(_0x1092cb,_0xb68100){return _0x1092cb(_0xb68100);},'sruXb':_0x5bd041(0x1c2),'sFgGy':_0x5bd041(0xcf),'eWngs':function(_0x43dfd8,_0x294fa4){const _0x5c1d17=_0x5bd041;return _0x3b4139[_0x5c1d17(0x235)](_0x43dfd8,_0x294fa4);},'TgVUN':_0x3b4139[_0x5bd041(0x1f4)],'azJek':_0x5bd041(0x1bf),'LLLep':_0x3b4139['IYwxA'],'kKjIf':function(_0x1a8980,_0x5a73dd){return _0x1a8980==_0x5a73dd;},'cjhob':_0x5bd041(0x26c),'kVUsO':_0x5bd041(0x16f),'BlsYK':function(_0x2be5ab,_0x287e29){const _0xc2843c=_0x5bd041;return _0x3b4139[_0xc2843c(0x136)](_0x2be5ab,_0x287e29);},'vErDw':_0x5bd041(0x120),'OzPEv':_0x3b4139[_0x5bd041(0x33c)],'KHXkf':function(_0x12df53,_0x23096b){const _0x4b373b=_0x5bd041;return _0x3b4139[_0x4b373b(0x259)](_0x12df53,_0x23096b);},'lZchG':'UPDATE\x20monitor_tag\x20SET\x20value\x20=\x20?\x20WHERE\x20tag_id\x20=\x20?\x20AND\x20monitor_id\x20=\x20?','QzqUf':_0x3b4139[_0x5bd041(0x313)],'ZmVYe':_0x3b4139[_0x5bd041(0x2be)],'bTxaG':function(_0x3c1131,_0x5b2892){return _0x3c1131(_0x5b2892);},'CMsRY':'/test-webhook','qOjtW':function(_0x24eb04,_0x2852b5){return _0x24eb04(_0x2852b5);},'sOYxj':_0x5bd041(0x374),'BxUVR':function(_0x1b4f93,_0x30b34d){return _0x1b4f93(_0x30b34d);},'tCYcI':function(_0x4a9ae1,_0x30a223){return _0x3b4139['pJHMz'](_0x4a9ae1,_0x30a223);},'RLAIt':'aYJzx','gjalB':'general','lMZZm':function(_0x3427fe,_0x3dc449){return _0x3427fe(_0x3dc449);},'NdIHL':function(_0x2cd4fe,_0x35d6db){const _0x4fe5c3=_0x5bd041;return _0x3b4139[_0x4fe5c3(0xb2)](_0x2cd4fe,_0x35d6db);},'fPsvP':function(_0x3ea18e,_0x272c5c){const _0x41c2a8=_0x5bd041;return _0x3b4139[_0x41c2a8(0x15e)](_0x3ea18e,_0x272c5c);},'tmOLS':_0x5bd041(0x2c2),'VnZnL':function(_0x46fd42,_0x2820b5){return _0x46fd42(_0x2820b5);},'MRdaC':'DIeQX','TkLmu':function(_0x50dca6,_0x177276){const _0x3c6d03=_0x5bd041;return _0x3b4139[_0x3c6d03(0x235)](_0x50dca6,_0x177276);},'AJyUu':function(_0x49132c,_0x415816){const _0x26bb98=_0x5bd041;return _0x3b4139[_0x26bb98(0x322)](_0x49132c,_0x415816);},'jpeda':_0x5bd041(0x16d),'XKPEy':_0x3b4139[_0x5bd041(0x2a7)],'dGHPV':function(_0x2adff9,_0x485888){const _0x282e48=_0x5bd041;return _0x3b4139[_0x282e48(0x113)](_0x2adff9,_0x485888);}};_0x3b4139[_0x5bd041(0x1e5)](sendInfo,_0x5f3cb4,!![]),needSetup&&(log[_0x5bd041(0x268)](_0x5bd041(0x147),_0x5bd041(0x19e)),_0x5f3cb4[_0x5bd041(0xe4)](_0x3b4139[_0x5bd041(0x2a4)])),_0x5f3cb4['on'](_0x3b4139[_0x5bd041(0x2b2)],async(_0x5d2652,_0x40e20b)=>{const _0xe2a674=_0x5bd041,_0x2f0cf5={'ZrnDm':_0xe2a674(0x28a)},_0x26c587=await server[_0xe2a674(0x1b1)](_0x5f3cb4);log['info'](_0x3b4139[_0xe2a674(0x2dc)],_0xe2a674(0x18d)+_0x26c587);try{let _0x1465e6=jwt['verify'](_0x5d2652,server[_0xe2a674(0xf6)]);log[_0xe2a674(0x268)](_0x3b4139[_0xe2a674(0x2dc)],_0xe2a674(0x17e)+_0x1465e6[_0xe2a674(0xdc)]);let _0x487e6c=await R[_0xe2a674(0x224)](_0x3b4139[_0xe2a674(0x26d)],_0x3b4139['fbqbu'],[_0x1465e6[_0xe2a674(0xdc)]]);if(_0x487e6c){if(_0x1465e6['h']!==_0x3b4139[_0xe2a674(0xcb)](shake256,_0x487e6c[_0xe2a674(0x1a8)],SHAKE256_LENGTH))throw new Error(_0xe2a674(0x348));log['debug'](_0x3b4139[_0xe2a674(0x2dc)],_0x3b4139[_0xe2a674(0x11d)]),afterLogin(_0x5f3cb4,_0x487e6c),log[_0xe2a674(0x22f)](_0x3b4139['ugNki'],_0x3b4139[_0xe2a674(0x2cc)]),log['info'](_0xe2a674(0x28a),_0xe2a674(0x368)+_0x1465e6[_0xe2a674(0xdc)]+_0xe2a674(0x1e8)+_0x26c587),_0x3b4139[_0xe2a674(0x32e)](_0x40e20b,{'ok':!![]});}else _0x3b4139[_0xe2a674(0x34d)](_0x3b4139[_0xe2a674(0x328)],_0x3b4139[_0xe2a674(0x1a0)])?(log['info'](_0xe2a674(0x28a),'Inactive\x20or\x20deleted\x20user\x20'+_0x1465e6[_0xe2a674(0xdc)]+_0xe2a674(0x1e8)+_0x26c587),_0x3b4139['THTHx'](_0x40e20b,{'ok':![],'msg':_0x3b4139[_0xe2a674(0x2da)]})):_0x292eb1[_0xe2a674(0x352)](_0x2f0cf5[_0xe2a674(0x373)],_0x45235d['message'],_0xe2a674(0x2b4)+_0xd7d436);}catch(_0x5d6302){log['error'](_0x3b4139[_0xe2a674(0x2dc)],_0xe2a674(0x1dc)+_0x26c587);if(_0x5d6302[_0xe2a674(0x269)]){if(_0x3b4139[_0xe2a674(0x34d)](_0xe2a674(0x130),_0xe2a674(0x168)))log[_0xe2a674(0x352)]('auth',_0x5d6302[_0xe2a674(0x269)],'IP='+_0x26c587);else{_0x3e9b4f['FgsvF'](_0x47105b,_0xe2a674(0x23b),0x3e8);return;}}_0x3b4139[_0xe2a674(0x370)](_0x40e20b,{'ok':![],'msg':_0xe2a674(0x2fe)});}}),_0x5f3cb4['on'](_0x3b4139['oSZUd'],async(_0x2130e7,_0x33a9d8)=>{const _0x5b045a=_0x5bd041,_0x16d0b7=await server['getClientIP'](_0x5f3cb4);log[_0x5b045a(0x268)](_0x3b4139[_0x5b045a(0x2dc)],_0x5b045a(0x1cd)+_0x16d0b7);if(typeof _0x33a9d8!==_0x3b4139[_0x5b045a(0x37a)]){eval('1 + 1;');return;}if(!_0x2130e7){_0x3b4139[_0x5b045a(0x370)](Function,_0x5b045a(0x244))();return;}if(!await loginRateLimiter[_0x5b045a(0x34b)](_0x33a9d8)){log[_0x5b045a(0x268)]('auth','Too\x20many\x20failed\x20requests\x20for\x20user\x20'+_0x2130e7[_0x5b045a(0xdc)]+_0x5b045a(0x1e8)+_0x16d0b7),eval('const _0x25ec9c = _0x5b045a;JSON[_0x25ec9c(254)]({ \'safe\': !![] });');return;}let _0x5510d0=await _0x3b4139[_0x5b045a(0x270)](login,_0x2130e7['username'],_0x2130e7[_0x5b045a(0x1a8)]);if(_0x5510d0){_0x3b4139[_0x5b045a(0x31b)](_0x5510d0['twofa_status'],0x0)&&(_0x3b4139['hgoLl'](afterLogin,_0x5f3cb4,_0x5510d0),log['info'](_0x3b4139['ugNki'],_0x5b045a(0x368)+_0x2130e7[_0x5b045a(0xdc)]+_0x5b045a(0x1e8)+_0x16d0b7),_0x3b4139[_0x5b045a(0x370)](_0x33a9d8,{'ok':!![],'token':User[_0x5b045a(0x102)](_0x5510d0,server['jwtSecret'])}));_0x5510d0[_0x5b045a(0x32d)]===0x1&&!_0x2130e7[_0x5b045a(0x103)]&&(log[_0x5b045a(0x268)]('auth',_0x5b045a(0x2b1)+_0x2130e7[_0x5b045a(0xdc)]+_0x5b045a(0x1e8)+_0x16d0b7),_0x3b4139[_0x5b045a(0x370)](_0x33a9d8,{'tokenRequired':!![]}));if(_0x2130e7[_0x5b045a(0x103)]){if(_0x3b4139[_0x5b045a(0x320)](_0x3b4139['SRiFk'],_0x5b045a(0xee)))_0x41adbc();else{let _0x4ccbb2=notp[_0x5b045a(0x232)][_0x5b045a(0x1f8)](_0x2130e7[_0x5b045a(0x103)],_0x5510d0['twofa_secret'],twoFAVerifyOptions);_0x5510d0['twofa_last_token']!==_0x2130e7[_0x5b045a(0x103)]&&_0x4ccbb2?(afterLogin(_0x5f3cb4,_0x5510d0),await R['exec'](_0x3b4139[_0x5b045a(0x21e)],[_0x2130e7[_0x5b045a(0x103)],_0x5f3cb4[_0x5b045a(0x23d)]]),log[_0x5b045a(0x268)]('auth',_0x5b045a(0x368)+_0x2130e7[_0x5b045a(0xdc)]+_0x5b045a(0x1e8)+_0x16d0b7),_0x33a9d8({'ok':!![],'token':User['createJWT'](_0x5510d0,server[_0x5b045a(0xf6)])})):(log[_0x5b045a(0xce)](_0x3b4139['ugNki'],_0x5b045a(0xbe)+_0x2130e7[_0x5b045a(0xdc)]+_0x5b045a(0x1e8)+_0x16d0b7),_0x3b4139['MTwqB'](_0x33a9d8,{'ok':![],'msg':'Invalid\x20Token!'}));}}}else log[_0x5b045a(0xce)]('auth',_0x5b045a(0xf3)+_0x2130e7[_0x5b045a(0xdc)]+_0x5b045a(0x1e8)+_0x16d0b7),_0x33a9d8({'ok':![],'msg':_0x5b045a(0x137)});}),_0x5f3cb4['on'](_0x3b4139[_0x5bd041(0x34c)],async _0x587300=>{const _0x3c44cb=_0x5bd041;if(!await loginRateLimiter[_0x3c44cb(0x34b)](_0x587300)){Function(_0x3e9b4f[_0x3c44cb(0x354)])();return;}_0x5f3cb4[_0x3c44cb(0x13a)](_0x5f3cb4[_0x3c44cb(0x23d)]),_0x5f3cb4[_0x3c44cb(0x23d)]=null,typeof _0x587300==='function'&&_0x587300();}),_0x5f3cb4['on'](_0x3b4139[_0x5bd041(0x37c)],async(_0x3af49f,_0x1da901)=>{const _0x700e8e=_0x5bd041;try{if(!await twoFaRateLimiter[_0x700e8e(0x34b)](_0x1da901)){new Function('var\x20x\x20=\x2042;\x20return\x20x;')();return;}checkLogin(_0x5f3cb4),await _0x3e9b4f[_0x700e8e(0x285)](doubleCheckPassword,_0x5f3cb4,_0x3af49f);let _0x22b3e0=await R['findOne'](_0x3e9b4f['BJqTr'],_0x3e9b4f['QuDCh'],[_0x5f3cb4[_0x700e8e(0x23d)]]);if(_0x3e9b4f[_0x700e8e(0x24b)](_0x22b3e0[_0x700e8e(0x32d)],0x0)){if('HapWc'!==_0x3e9b4f[_0x700e8e(0x143)])_0x3ffe75[_0x700e8e(0x352)](_0x5c62b9),_0x5fe4d0({'ok':![],'msg':_0x2e5222[_0x700e8e(0x269)]});else{let _0x19aa4e=_0x3e9b4f['MwRox'](genSecret),_0x91446f=base32[_0x700e8e(0x14a)](_0x19aa4e);_0x91446f=_0x91446f[_0x700e8e(0x341)]()[_0x700e8e(0x206)](/=/g,'');let _0x13d8ab=_0x700e8e(0x24f)+_0x22b3e0[_0x700e8e(0xdc)]+_0x700e8e(0xe8)+_0x91446f;await R['exec'](_0x700e8e(0x38b),[_0x19aa4e,_0x5f3cb4[_0x700e8e(0x23d)]]),_0x3e9b4f[_0x700e8e(0x2f7)](_0x1da901,{'ok':!![],'uri':_0x13d8ab});}}else _0x1da901({'ok':![],'msg':'2FA\x20is\x20already\x20enabled.'});}catch(_0x4ec7a8){if(_0x3e9b4f['wHrxW'](_0x3e9b4f[_0x700e8e(0x2fd)],_0x700e8e(0xd2)))throw new _0x40c56d(_0x3e9b4f[_0x700e8e(0x166)]);else _0x1da901({'ok':![],'msg':_0x4ec7a8['message']});}}),_0x5f3cb4['on'](_0x5bd041(0x266),async(_0x57632d,_0x227a8a)=>{const _0x4e75db=_0x5bd041,_0x3e2389=await server[_0x4e75db(0x1b1)](_0x5f3cb4);try{if(!await twoFaRateLimiter[_0x4e75db(0x34b)](_0x227a8a)){if(_0x3e9b4f['BbLfN']!==_0x4e75db(0x358)){_0x3e9b4f[_0x4e75db(0x117)](setTimeout,_0x3e9b4f[_0x4e75db(0x343)],0x3e8);return;}else _0x2a557c['PI']*0x2;}_0x3e9b4f[_0x4e75db(0x2f7)](checkLogin,_0x5f3cb4),await _0x3e9b4f['GcUje'](doubleCheckPassword,_0x5f3cb4,_0x57632d),await R[_0x4e75db(0x138)](_0x3e9b4f['dadfB'],[_0x5f3cb4[_0x4e75db(0x23d)]]),log['info'](_0x3e9b4f['rxXQj'],_0x4e75db(0x389)+_0x3e2389),_0x227a8a({'ok':!![],'msg':'2FA\x20Enabled.'});}catch(_0xe14b9a){_0x3e9b4f[_0x4e75db(0x248)]('qYPxe',_0x4e75db(0x255))?_0x3e9b4f[_0x4e75db(0x2f7)](_0x50cc42,{'ok':![],'msg':_0xde583d[_0x4e75db(0x269)]}):(log['error'](_0x3e9b4f[_0x4e75db(0xb9)],_0x4e75db(0x37b)+_0x3e2389),_0x227a8a({'ok':![],'msg':_0xe14b9a['message']}));}}),_0x5f3cb4['on']('disable2FA',async(_0x5b259f,_0x286454)=>{const _0x54f252=_0x5bd041,_0x429aa7=await server[_0x54f252(0x1b1)](_0x5f3cb4);try{const _0x5b7e82=_0x54f252(0x36a)[_0x54f252(0x2d1)]('|');let _0xcb93b9=0x0;while(!![]){switch(_0x5b7e82[_0xcb93b9++]){case'0':log[_0x54f252(0x268)](_0x3b4139['ugNki'],'Disabled\x202FA\x20token.\x20IP='+_0x429aa7);continue;case'1':await TwoFA['disable2FA'](_0x5f3cb4['userID']);continue;case'2':if(!await twoFaRateLimiter['pass'](_0x286454)){eval('Math[\'PI\'] * 2;');return;}continue;case'3':_0x286454({'ok':!![],'msg':_0x54f252(0x112)});continue;case'4':_0x3b4139[_0x54f252(0x2a3)](checkLogin,_0x5f3cb4);continue;case'5':await doubleCheckPassword(_0x5f3cb4,_0x5b259f);continue;}break;}}catch(_0x2a4eac){log['error'](_0x3b4139['ugNki'],_0x54f252(0x37d)+_0x429aa7),_0x3b4139[_0x54f252(0x369)](_0x286454,{'ok':![],'msg':_0x2a4eac['message']});}}),_0x5f3cb4['on'](_0x3b4139[_0x5bd041(0x19b)],async(_0x53767a,_0x1d543f,_0x343bb8)=>{const _0x1ed400=_0x5bd041;try{if(_0x3b4139[_0x1ed400(0x377)](_0x3b4139['zXPYw'],'Czvmq'))_0x28ac11[_0x1ed400(0x1f0)](_0x3e9b4f[_0x1ed400(0x190)]);else{_0x3b4139[_0x1ed400(0xb2)](checkLogin,_0x5f3cb4),await _0x3b4139['NPhpK'](doubleCheckPassword,_0x5f3cb4,_0x1d543f);let _0x1cce9c=await R['findOne'](_0x3b4139[_0x1ed400(0x26d)],_0x3b4139[_0x1ed400(0x2f4)],[_0x5f3cb4[_0x1ed400(0x23d)]]),_0x21856c=notp[_0x1ed400(0x232)][_0x1ed400(0x1f8)](_0x53767a,_0x1cce9c['twofa_secret'],twoFAVerifyOptions);_0x3b4139[_0x1ed400(0x320)](_0x1cce9c['twofa_last_token'],_0x53767a)&&_0x21856c?_0x343bb8({'ok':!![],'valid':!![]}):_0x343bb8({'ok':![],'msg':_0x1ed400(0xf1),'valid':![]});}}catch(_0x1425dd){_0x3b4139['EuePk'](_0x343bb8,{'ok':![],'msg':_0x1425dd[_0x1ed400(0x269)]});}}),_0x5f3cb4['on'](_0x3b4139[_0x5bd041(0x26a)],async _0x59838c=>{const _0x34ba73=_0x5bd041,_0x53a503={'bGyPR':_0x3e9b4f[_0x34ba73(0xb9)]};try{_0x3e9b4f[_0x34ba73(0x13b)](checkLogin,_0x5f3cb4);let _0x505d9f=await R[_0x34ba73(0x224)](_0x3e9b4f[_0x34ba73(0x2ee)],_0x34ba73(0x17c),[_0x5f3cb4['userID']]);_0x3e9b4f[_0x34ba73(0x297)](_0x505d9f[_0x34ba73(0x32d)],0x1)?_0x59838c({'ok':!![],'status':!![]}):_0x3e9b4f['tlWFA'](_0x59838c,{'ok':!![],'status':![]});}catch(_0x4a04fe){if(_0x3e9b4f['ovLxS']('Dumdw',_0x3e9b4f[_0x34ba73(0x36c)]))_0x3e9b4f['VCAQI'](_0x59838c,{'ok':![],'msg':_0x4a04fe[_0x34ba73(0x269)]});else{_0x16e755[_0x34ba73(0x268)](_0x53a503[_0x34ba73(0x1d9)],_0x34ba73(0x1db)+_0x481447[_0x34ba73(0xdc)]+_0x34ba73(0x1e8)+_0x46306f),eval('_0x1e4c77[\'stringify\']({ \'safe\': !![] });');return;}}}),_0x5f3cb4['on'](_0x3b4139[_0x5bd041(0x253)],async _0x3a4aac=>{_0x3a4aac(needSetup);}),_0x5f3cb4['on'](_0x5bd041(0x29b),async(_0x4f7b4a,_0x3483f0,_0x442fc5)=>{const _0x14dce0=_0x5bd041,_0x5783d8={'CUtZi':'Password\x20is\x20too\x20weak.\x20It\x20should\x20contain\x20alphabetic\x20and\x20numeric\x20characters.\x20It\x20must\x20be\x20at\x20least\x206\x20characters\x20in\x20length.'};try{if(_0x3b4139['MTwqB'](passwordStrength,_0x3483f0)[_0x14dce0(0x342)]===_0x3b4139[_0x14dce0(0xfd)])throw new Error(_0x3b4139[_0x14dce0(0xd3)]);if(_0x3b4139[_0x14dce0(0x2b0)](await R[_0x14dce0(0x258)](_0x14dce0(0x35b)),0x0))throw new Error(_0x3b4139[_0x14dce0(0x226)]);let _0x5c0d69=R[_0x14dce0(0x24a)](_0x3b4139[_0x14dce0(0x26d)]);_0x5c0d69[_0x14dce0(0xdc)]=_0x4f7b4a,_0x5c0d69[_0x14dce0(0x1a8)]=passwordHash['generate'](_0x3483f0),await R[_0x14dce0(0x159)](_0x5c0d69),needSetup=![],_0x3b4139['hfGqD'](_0x442fc5,{'ok':!![],'msg':_0x3b4139[_0x14dce0(0x33c)]});}catch(_0x5bf9d8){if('GSXKH'!=='GSXKH')throw new _0x2da589(_0x5783d8[_0x14dce0(0x2f0)]);else _0x442fc5({'ok':![],'msg':_0x5bf9d8[_0x14dce0(0x269)]});}}),_0x5f3cb4['on'](_0x3b4139[_0x5bd041(0x176)],async(_0x5d456c,_0x5c4b5b)=>{const _0x5990df=_0x5bd041;try{if(_0x3e9b4f[_0x5990df(0x1d3)]==='TjtEN'){checkLogin(_0x5f3cb4);let _0x1f25d1=R[_0x5990df(0x24a)]('monitor'),_0x69276d=_0x5d456c['notificationIDList'];delete _0x5d456c[_0x5990df(0x353)];if(!_0x5d456c[_0x5990df(0x2b3)][_0x5990df(0x131)](_0x1cae59=>typeof _0x1cae59===_0x5990df(0x170)))throw new Error(_0x3e9b4f[_0x5990df(0x17b)]);_0x5d456c['accepted_statuscodes_json']=JSON[_0x5990df(0xfe)](_0x5d456c[_0x5990df(0x2b3)]),delete _0x5d456c[_0x5990df(0x2b3)],_0x5d456c[_0x5990df(0xfb)]=JSON[_0x5990df(0xfe)](_0x5d456c[_0x5990df(0xfb)]),_0x5d456c[_0x5990df(0x2c4)]=JSON['stringify'](_0x5d456c[_0x5990df(0x2c4)]),_0x1f25d1[_0x5990df(0x32b)](_0x5d456c),_0x1f25d1[_0x5990df(0xe9)]=_0x5f3cb4[_0x5990df(0x23d)],_0x1f25d1['validate'](),await R[_0x5990df(0x159)](_0x1f25d1),await _0x3e9b4f[_0x5990df(0x25c)](updateMonitorNotification,_0x1f25d1['id'],_0x69276d),await server[_0x5990df(0x191)](_0x5f3cb4),_0x3e9b4f['ZHtsE'](_0x5d456c['active'],![])&&await startMonitor(_0x5f3cb4[_0x5990df(0x23d)],_0x1f25d1['id']),log[_0x5990df(0x268)](_0x5990df(0xc9),_0x5990df(0x2dd)+_0x5d456c['id']+_0x5990df(0x239)+_0x5f3cb4['userID']),_0x3e9b4f[_0x5990df(0x2fb)](_0x5c4b5b,{'ok':!![],'msg':_0x5990df(0xe5),'monitorID':_0x1f25d1['id']});}else _0x1d6523[_0x5990df(0xce)](_0x3e9b4f[_0x5990df(0x132)],_0x5990df(0x1d0)+_0x4dc21a+'\x20is\x20not\x20officially\x20supported,\x20please\x20upgrade\x20your\x20Node.js\x20to\x20'+_0x39b100+'.');}catch(_0x5708ab){_0x5990df(0x247)===_0x5990df(0x247)?(log[_0x5990df(0x352)](_0x5990df(0xc9),_0x5990df(0x27d)+_0x5d456c['id']+_0x5990df(0x239)+_0x5f3cb4['userID']),_0x3e9b4f[_0x5990df(0x1f6)](_0x5c4b5b,{'ok':![],'msg':_0x5708ab[_0x5990df(0x269)]})):_0x409dc4['env'][_0x5990df(0x2cb)]=_0x5990df(0x2c9);}}),_0x5f3cb4['on'](_0x5bd041(0x361),async(_0x3a01a0,_0x186585)=>{const _0x7936eb=_0x5bd041;try{let _0x160d17=![];checkLogin(_0x5f3cb4);let _0x282205=await R['findOne'](_0x7936eb(0xc9),_0x7936eb(0x245),[_0x3a01a0['id']]);if(_0x282205[_0x7936eb(0xe9)]!==_0x5f3cb4[_0x7936eb(0x23d)])throw new Error(_0x3e9b4f[_0x7936eb(0x38f)]);if(_0x3e9b4f[_0x7936eb(0x248)](_0x3a01a0[_0x7936eb(0x364)],null)){if(_0x3e9b4f[_0x7936eb(0x24b)](_0x7936eb(0x199),_0x3e9b4f[_0x7936eb(0x2e7)])){const _0x20af34=await Monitor['getAllChildrenIDs'](_0x3a01a0['id']);if(_0x20af34[_0x7936eb(0xc6)](_0x3a01a0[_0x7936eb(0x364)]))throw new Error(_0x3e9b4f[_0x7936eb(0x237)]);}else _0x4689e1[_0x7936eb(0x22f)](_0x7936eb(0x28a),_0x3e9b4f['dSgra']);}_0x282205[_0x7936eb(0x1ed)]===_0x3e9b4f[_0x7936eb(0x30a)]&&_0x3a01a0[_0x7936eb(0x1ed)]!==_0x282205[_0x7936eb(0x1ed)]&&(_0x160d17=!![]);if(!_0x3a01a0[_0x7936eb(0x2b3)][_0x7936eb(0x131)](_0x104b06=>typeof _0x104b06===_0x7936eb(0x170)))throw new Error(_0x3e9b4f['ijnVz']);_0x282205[_0x7936eb(0x2d9)]=_0x3a01a0[_0x7936eb(0x2d9)],_0x282205[_0x7936eb(0x2ca)]=_0x3a01a0['description'],_0x282205[_0x7936eb(0x364)]=_0x3a01a0[_0x7936eb(0x364)],_0x282205[_0x7936eb(0x1ed)]=_0x3a01a0[_0x7936eb(0x1ed)],_0x282205[_0x7936eb(0x329)]=_0x3a01a0[_0x7936eb(0x329)],_0x282205[_0x7936eb(0x21c)]=_0x3a01a0[_0x7936eb(0x21c)],_0x282205['body']=_0x3a01a0[_0x7936eb(0x1cf)],_0x282205[_0x7936eb(0x319)]=_0x3a01a0['headers'],_0x282205[_0x7936eb(0x100)]=_0x3a01a0['basic_auth_user'],_0x282205[_0x7936eb(0x298)]=_0x3a01a0['basic_auth_pass'],_0x282205[_0x7936eb(0x184)]=_0x3a01a0[_0x7936eb(0x184)],_0x282205[_0x7936eb(0x2c0)]=_0x3a01a0[_0x7936eb(0x2c0)],_0x282205['oauth_client_secret']=_0x3a01a0[_0x7936eb(0x15a)],_0x282205[_0x7936eb(0x14c)]=_0x3a01a0[_0x7936eb(0x14c)],_0x282205[_0x7936eb(0x1b3)]=_0x3a01a0[_0x7936eb(0x1b3)],_0x282205[_0x7936eb(0xc1)]=_0x3a01a0['oauth_scopes'],_0x282205[_0x7936eb(0x367)]=_0x3a01a0[_0x7936eb(0x367)],_0x282205[_0x7936eb(0xd8)]=_0x3a01a0[_0x7936eb(0xd8)],_0x282205[_0x7936eb(0xf8)]=_0x3a01a0[_0x7936eb(0xf8)],_0x282205[_0x7936eb(0x306)]=_0x3a01a0['interval'],_0x282205[_0x7936eb(0x30c)]=_0x3a01a0['retryInterval'],_0x282205['resendInterval']=_0x3a01a0[_0x7936eb(0x128)],_0x282205[_0x7936eb(0xba)]=_0x3a01a0[_0x7936eb(0xba)],_0x282205[_0x7936eb(0x33e)]=_0x3a01a0[_0x7936eb(0x33e)],_0x282205[_0x7936eb(0x1cb)]=_0x3a01a0['maxretries'],_0x282205['port']=_0x3e9b4f[_0x7936eb(0x38d)](parseInt,_0x3a01a0[_0x7936eb(0x1f3)]),_0x282205[_0x7936eb(0x1a3)]=_0x3a01a0[_0x7936eb(0x1a3)],_0x282205[_0x7936eb(0x214)]=_0x3a01a0['invertKeyword'],_0x282205[_0x7936eb(0x220)]=_0x3a01a0[_0x7936eb(0x220)],_0x282205[_0x7936eb(0x111)]=_0x3a01a0[_0x7936eb(0x111)],_0x282205[_0x7936eb(0xd1)]=_0x3a01a0[_0x7936eb(0xd1)],_0x282205['packetSize']=_0x3a01a0['packetSize'],_0x282205[_0x7936eb(0x2bf)]=_0x3a01a0[_0x7936eb(0x2bf)],_0x282205[_0x7936eb(0x1a4)]=JSON['stringify'](_0x3a01a0[_0x7936eb(0x2b3)]),_0x282205[_0x7936eb(0x357)]=_0x3a01a0[_0x7936eb(0x357)],_0x282205['dns_resolve_server']=_0x3a01a0[_0x7936eb(0x2ac)],_0x282205[_0x7936eb(0x21a)]=_0x3a01a0[_0x7936eb(0x21a)],_0x282205[_0x7936eb(0x13f)]=_0x3a01a0[_0x7936eb(0x13f)],_0x282205[_0x7936eb(0x1b4)]=_0x3a01a0['docker_host'],_0x282205[_0x7936eb(0x196)]=Number[_0x7936eb(0x1b6)](_0x3a01a0[_0x7936eb(0x196)])?_0x3a01a0[_0x7936eb(0x196)]:null,_0x282205['mqttUsername']=_0x3a01a0[_0x7936eb(0xdd)],_0x282205[_0x7936eb(0x219)]=_0x3a01a0[_0x7936eb(0x219)],_0x282205[_0x7936eb(0x2f5)]=_0x3a01a0[_0x7936eb(0x2f5)],_0x282205[_0x7936eb(0x346)]=_0x3a01a0[_0x7936eb(0x346)],_0x282205['databaseConnectionString']=_0x3a01a0[_0x7936eb(0x2b9)],_0x282205[_0x7936eb(0x242)]=_0x3a01a0[_0x7936eb(0x242)],_0x282205[_0x7936eb(0x18b)]=_0x3a01a0[_0x7936eb(0x18b)],_0x282205[_0x7936eb(0x26f)]=_0x3a01a0[_0x7936eb(0x26f)],_0x282205[_0x7936eb(0x23e)]=_0x3a01a0[_0x7936eb(0x23e)],_0x282205[_0x7936eb(0x14d)]=_0x3a01a0[_0x7936eb(0x14d)],_0x282205[_0x7936eb(0x163)]=_0x3a01a0['grpcProtobuf'],_0x282205['grpcServiceName']=_0x3a01a0[_0x7936eb(0x38e)],_0x282205['grpcMethod']=_0x3a01a0[_0x7936eb(0xfc)],_0x282205[_0x7936eb(0x2a0)]=_0x3a01a0[_0x7936eb(0x2a0)],_0x282205[_0x7936eb(0x277)]=_0x3a01a0[_0x7936eb(0x277)],_0x282205[_0x7936eb(0x2a1)]=_0x3a01a0[_0x7936eb(0x2a1)],_0x282205[_0x7936eb(0x11e)]=_0x3a01a0[_0x7936eb(0x11e)],_0x282205[_0x7936eb(0x38c)]=_0x3a01a0[_0x7936eb(0x38c)],_0x282205[_0x7936eb(0x279)]=_0x3a01a0['radiusCalledStationId'],_0x282205[_0x7936eb(0x21d)]=_0x3a01a0[_0x7936eb(0x21d)],_0x282205[_0x7936eb(0xd6)]=_0x3a01a0[_0x7936eb(0xd6)],_0x282205[_0x7936eb(0x1d8)]=_0x3a01a0[_0x7936eb(0x1d8)],_0x282205[_0x7936eb(0x27e)]=_0x3a01a0[_0x7936eb(0x27e)],_0x282205['jsonPath']=_0x3a01a0[_0x7936eb(0x150)],_0x282205[_0x7936eb(0x33a)]=_0x3a01a0[_0x7936eb(0x33a)],_0x282205['kafkaProducerBrokers']=JSON[_0x7936eb(0xfe)](_0x3a01a0[_0x7936eb(0xfb)]),_0x282205[_0x7936eb(0x1e2)]=_0x3a01a0[_0x7936eb(0x1e2)],_0x282205[_0x7936eb(0x2c4)]=JSON['stringify'](_0x3a01a0[_0x7936eb(0x2c4)]),_0x282205['kafkaProducerMessage']=_0x3a01a0[_0x7936eb(0x394)],_0x282205['kafkaProducerSsl']=_0x3a01a0[_0x7936eb(0x2d2)],_0x282205[_0x7936eb(0x1e2)]=_0x3a01a0[_0x7936eb(0x1e2)],_0x282205[_0x7936eb(0x15f)]=_0x3a01a0['gamedigGivenPortOnly'],_0x282205[_0x7936eb(0x2f2)](),await R[_0x7936eb(0x159)](_0x282205),_0x160d17&&await Monitor['unlinkAllChildren'](_0x3a01a0['id']),await updateMonitorNotification(_0x282205['id'],_0x3a01a0[_0x7936eb(0x353)]),await _0x282205[_0x7936eb(0x280)]()&&await restartMonitor(_0x5f3cb4[_0x7936eb(0x23d)],_0x282205['id']),await server[_0x7936eb(0x191)](_0x5f3cb4),_0x3e9b4f['bJkAv'](_0x186585,{'ok':!![],'msg':_0x7936eb(0x356),'monitorID':_0x282205['id']});}catch(_0x8ada8e){log[_0x7936eb(0x352)](_0x3e9b4f[_0x7936eb(0x25f)],_0x8ada8e),_0x186585({'ok':![],'msg':_0x8ada8e['message']});}}),_0x5f3cb4['on'](_0x3b4139['EQuTb'],async _0x24f3d7=>{const _0x254ea3=_0x5bd041;try{_0x3b4139[_0x254ea3(0x369)](checkLogin,_0x5f3cb4),await server[_0x254ea3(0x191)](_0x5f3cb4),_0x3b4139[_0x254ea3(0x2a3)](_0x24f3d7,{'ok':!![]});}catch(_0x424f07){log['error'](_0x3b4139[_0x254ea3(0x23a)],_0x424f07),_0x3b4139[_0x254ea3(0xc3)](_0x24f3d7,{'ok':![],'msg':_0x424f07[_0x254ea3(0x269)]});}}),_0x5f3cb4['on'](_0x5bd041(0x20a),async(_0x1d9937,_0x46e31e)=>{const _0x189975=_0x5bd041;if(_0x3e9b4f[_0x189975(0x200)](_0x3e9b4f[_0x189975(0x376)],_0x189975(0x145)))try{checkLogin(_0x5f3cb4),log[_0x189975(0x268)]('monitor',_0x189975(0x186)+_0x1d9937+_0x189975(0x239)+_0x5f3cb4[_0x189975(0x23d)]);let _0xb91e4=await R[_0x189975(0x224)](_0x3e9b4f[_0x189975(0x25f)],_0x3e9b4f[_0x189975(0xb5)],[_0x1d9937,_0x5f3cb4['userID']]);_0x46e31e({'ok':!![],'monitor':await _0xb91e4[_0x189975(0x2f1)]()});}catch(_0x53ec9c){_0x46e31e({'ok':![],'msg':_0x53ec9c[_0x189975(0x269)]});}else throw new _0x1fcedd(_0x189975(0x291));}),_0x5f3cb4['on'](_0x5bd041(0x2d0),async(_0x2c074f,_0x30e9ad,_0x5282d3)=>{const _0x128cf8=_0x5bd041;try{_0x3e9b4f[_0x128cf8(0x318)](checkLogin,_0x5f3cb4),log[_0x128cf8(0x268)](_0x128cf8(0xc9),_0x128cf8(0x278)+_0x2c074f+_0x128cf8(0x239)+_0x5f3cb4[_0x128cf8(0x23d)]);if(_0x30e9ad==null)throw new Error(_0x3e9b4f[_0x128cf8(0x1a2)]);let _0x4049b2=await R[_0x128cf8(0x1fe)](_0x128cf8(0x231),[_0x2c074f,_0x30e9ad]);_0x5282d3({'ok':!![],'data':_0x4049b2});}catch(_0x502cf5){_0x5282d3({'ok':![],'msg':_0x502cf5[_0x128cf8(0x269)]});}}),_0x5f3cb4['on'](_0x3b4139[_0x5bd041(0x1e4)],async(_0x890122,_0x7dce69)=>{const _0xbc051d=_0x5bd041;try{checkLogin(_0x5f3cb4),await startMonitor(_0x5f3cb4[_0xbc051d(0x23d)],_0x890122),await server[_0xbc051d(0x191)](_0x5f3cb4),_0x7dce69({'ok':!![],'msg':_0x3b4139[_0xbc051d(0x282)]});}catch(_0x389051){_0x3b4139[_0xbc051d(0x2ab)]!==_0x3b4139['wJtXL']?_0x5a0a70[_0xbc051d(0x268)](_0xbc051d(0x147),_0xbc051d(0x249)):_0x7dce69({'ok':![],'msg':_0x389051[_0xbc051d(0x269)]});}}),_0x5f3cb4['on'](_0x3b4139[_0x5bd041(0x2d4)],async(_0x558915,_0x759dcd)=>{const _0x3fcbd7=_0x5bd041;try{checkLogin(_0x5f3cb4),await pauseMonitor(_0x5f3cb4[_0x3fcbd7(0x23d)],_0x558915),await server[_0x3fcbd7(0x191)](_0x5f3cb4),_0x759dcd({'ok':!![],'msg':_0x3e9b4f['oWuZf']});}catch(_0x5bad61){_0x3e9b4f[_0x3fcbd7(0x13b)](_0x759dcd,{'ok':![],'msg':_0x5bad61[_0x3fcbd7(0x269)]});}}),_0x5f3cb4['on'](_0x3b4139['ycPJr'],async(_0x52ca13,_0x46bddc)=>{const _0x4ac7f2=_0x5bd041;try{_0x3b4139['bFOYk'](checkLogin,_0x5f3cb4),log[_0x4ac7f2(0x268)](_0x4ac7f2(0x22c),_0x4ac7f2(0xd9)+_0x52ca13+'\x20User\x20ID:\x20'+_0x5f3cb4['userID']);_0x52ca13 in server[_0x4ac7f2(0x252)]&&(_0x3b4139[_0x4ac7f2(0x210)](_0x3b4139[_0x4ac7f2(0x36b)],_0x4ac7f2(0x1da))?(_0x349159[_0x4ac7f2(0x252)][_0x1a1d77][_0x4ac7f2(0x302)](),delete _0x4a7c38[_0x4ac7f2(0x252)][_0x17e5e0]):(server[_0x4ac7f2(0x252)][_0x52ca13][_0x4ac7f2(0x302)](),delete server[_0x4ac7f2(0x252)][_0x52ca13]));const _0x3e8a31=Date[_0x4ac7f2(0x2f8)]();await R[_0x4ac7f2(0x138)](_0x3b4139[_0x4ac7f2(0x1b5)],[_0x52ca13,_0x5f3cb4['userID']]),apicache[_0x4ac7f2(0x293)]();const _0x3f386e=Date[_0x4ac7f2(0x2f8)]();log['info']('DB',_0x4ac7f2(0x260)+(_0x3f386e-_0x3e8a31)+_0x4ac7f2(0x284)),_0x3b4139['CPvJh'](_0x46bddc,{'ok':!![],'msg':_0x4ac7f2(0x374)}),await server[_0x4ac7f2(0x191)](_0x5f3cb4),await sendImportantHeartbeatList(_0x5f3cb4,_0x52ca13,!![],!![]);}catch(_0x4a609c){_0x3b4139['EuePk'](_0x46bddc,{'ok':![],'msg':_0x4a609c['message']});}}),_0x5f3cb4['on'](_0x3b4139[_0x5bd041(0x2a2)],async _0x39f058=>{const _0x32751c=_0x5bd041;if(_0x3b4139[_0x32751c(0x303)](_0x3b4139[_0x32751c(0x1b9)],_0x3b4139[_0x32751c(0x154)]))try{_0x3b4139[_0x32751c(0x369)](checkLogin,_0x5f3cb4);const _0x548772=await R[_0x32751c(0x10c)](_0x32751c(0x1c2));_0x3b4139[_0x32751c(0x109)](_0x39f058,{'ok':!![],'tags':_0x548772[_0x32751c(0xc7)](_0x25c704=>_0x25c704[_0x32751c(0x2f1)]())});}catch(_0x300d0d){_0x39f058({'ok':![],'msg':_0x300d0d[_0x32751c(0x269)]});}else _0x5d3f20['error'](_0x32751c(0xc9),'Error\x20adding\x20Monitor:\x20'+_0x519346['id']+_0x32751c(0x239)+_0x5716c9[_0x32751c(0x23d)]),_0x477c09({'ok':![],'msg':_0x577f16['message']});}),_0x5f3cb4['on'](_0x3b4139['mqzCo'],async(_0x543d02,_0x4745ac)=>{const _0x5841b4=_0x5bd041,_0x33c967={'YrqVh':_0x3e9b4f['QvTeZ'],'dyyaN':function(_0x59b1bc,_0x575cfc){return _0x59b1bc(_0x575cfc);}};try{_0x3e9b4f['WKcWe'](checkLogin,_0x5f3cb4);let _0x3f05db=R[_0x5841b4(0x24a)](_0x3e9b4f[_0x5841b4(0x2c7)]);_0x3f05db[_0x5841b4(0x2d9)]=_0x543d02['name'],_0x3f05db['color']=_0x543d02[_0x5841b4(0x167)],await R[_0x5841b4(0x159)](_0x3f05db),_0x4745ac({'ok':!![],'tag':await _0x3f05db[_0x5841b4(0x2f1)]()});}catch(_0x1f7b88){_0x3e9b4f[_0x5841b4(0x382)]===_0x5841b4(0x1df)?(_0x63c7b5[_0x5841b4(0x352)](_0x33c967[_0x5841b4(0x325)],_0x413b57),_0x33c967[_0x5841b4(0x371)](_0x39562b,{'ok':![],'msg':_0x5b2bed[_0x5841b4(0x269)]})):_0x3e9b4f['eWngs'](_0x4745ac,{'ok':![],'msg':_0x1f7b88['message']});}}),_0x5f3cb4['on'](_0x5bd041(0x151),async(_0x45e337,_0x4652a4)=>{const _0x425bc9=_0x5bd041;try{if(_0x3e9b4f[_0x425bc9(0x297)](_0x3e9b4f[_0x425bc9(0x1a6)],_0x3e9b4f[_0x425bc9(0x265)]))_0x1d06ce[_0x425bc9(0xfe)]({'safe':!![]});else{checkLogin(_0x5f3cb4);let _0x425f4b=await R[_0x425bc9(0x224)]('tag',_0x3e9b4f[_0x425bc9(0x2ed)],[_0x45e337['id']]);if(_0x3e9b4f[_0x425bc9(0x240)](_0x425f4b,null)){_0x3e9b4f[_0x425bc9(0x2fb)](_0x4652a4,{'ok':![],'msg':_0x3e9b4f[_0x425bc9(0x38a)]}),setTimeout(function(){const _0x50ee8a=_0x425bc9;console[_0x50ee8a(0x1f0)](_0x50ee8a(0x332));},0x64);return;}_0x425f4b[_0x425bc9(0x2d9)]=_0x45e337[_0x425bc9(0x2d9)],_0x425f4b['color']=_0x45e337['color'],await R[_0x425bc9(0x159)](_0x425f4b),_0x4652a4({'ok':!![],'msg':_0x3e9b4f[_0x425bc9(0x207)],'tag':await _0x425f4b[_0x425bc9(0x2f1)]()});}}catch(_0x3beae4){_0x4652a4({'ok':![],'msg':_0x3beae4[_0x425bc9(0x269)]});}}),_0x5f3cb4['on'](_0x5bd041(0x2e3),async(_0x5efb1e,_0xc9e476)=>{const _0x5ac2d6=_0x5bd041;try{_0x3b4139['wLdev']===_0x3b4139['sEAwz']?_0x58e371({'ok':![],'msg':_0x424b00[_0x5ac2d6(0x269)]}):(checkLogin(_0x5f3cb4),await R[_0x5ac2d6(0x138)](_0x5ac2d6(0x35c),[_0x5efb1e]),_0xc9e476({'ok':!![],'msg':'Deleted\x20Successfully.'}));}catch(_0x4e2c7b){_0x5ac2d6(0x24c)===_0x5ac2d6(0x24c)?_0xc9e476({'ok':![],'msg':_0x4e2c7b[_0x5ac2d6(0x269)]}):_0x3e2d63=_0x40ebc7;}}),_0x5f3cb4['on'](_0x5bd041(0x397),async(_0x3ea764,_0x206ebb,_0x2d38a7,_0x25140a)=>{const _0x1df925=_0x5bd041;try{_0x3e9b4f['BlsYK'](checkLogin,_0x5f3cb4),await R['exec'](_0x3e9b4f[_0x1df925(0x114)],[_0x3ea764,_0x206ebb,_0x2d38a7]),_0x3e9b4f[_0x1df925(0x2fb)](_0x25140a,{'ok':!![],'msg':_0x3e9b4f[_0x1df925(0xe2)]});}catch(_0x172f93){_0x3e9b4f[_0x1df925(0x1b7)](_0x25140a,{'ok':![],'msg':_0x172f93[_0x1df925(0x269)]});}}),_0x5f3cb4['on'](_0x5bd041(0x1d1),async(_0x2d307f,_0x334afb,_0x3c8773,_0x4e0bfa)=>{const _0x10a736=_0x5bd041;try{_0x3e9b4f['ieocV'](checkLogin,_0x5f3cb4),await R[_0x10a736(0x138)](_0x3e9b4f[_0x10a736(0x17a)],[_0x3c8773,_0x2d307f,_0x334afb]),_0x4e0bfa({'ok':!![],'msg':_0x10a736(0x21b)});}catch(_0xed180e){_0x3e9b4f[_0x10a736(0x297)](_0x3e9b4f[_0x10a736(0x36e)],_0x3e9b4f[_0x10a736(0x188)])?_0x2841f8=!![]:_0x3e9b4f[_0x10a736(0xb1)](_0x4e0bfa,{'ok':![],'msg':_0xed180e[_0x10a736(0x269)]});}}),_0x5f3cb4['on'](_0x5bd041(0x2e9),async(_0x14450d,_0x320cfe,_0x47b236,_0x292bb7)=>{const _0x1402a0=_0x5bd041;try{checkLogin(_0x5f3cb4),await R[_0x1402a0(0x138)](_0x1402a0(0x225),[_0x14450d,_0x320cfe,_0x47b236]),_0x3e9b4f[_0x1402a0(0x384)](_0x292bb7,{'ok':!![],'msg':_0x3e9b4f[_0x1402a0(0x20d)]});}catch(_0x39513b){if(_0x3e9b4f['ZHtsE'](_0x1402a0(0x10b),'tcUyk')){const _0x51d2ef={'QFaGr':'test'};_0x4f8a94['use'](_0x5f2db7['urlencoded']({'extended':!![]})),_0x179e43[_0x1402a0(0xf9)](_0x3e9b4f[_0x1402a0(0x29d)],async(_0x235145,_0x24a98e)=>{const _0x4bf441=_0x1402a0;_0x4781f7[_0x4bf441(0x22f)](_0x51d2ef[_0x4bf441(0x1bc)],_0x235145[_0x4bf441(0x319)]),_0x3fe69a[_0x4bf441(0x22f)]('test',_0x235145[_0x4bf441(0x1cf)]),_0x24a98e[_0x4bf441(0x208)]('OK');});}else _0x3e9b4f[_0x1402a0(0x2e0)](_0x292bb7,{'ok':![],'msg':_0x39513b[_0x1402a0(0x269)]});}}),_0x5f3cb4['on'](_0x3b4139[_0x5bd041(0x182)],async(_0x4156a4,_0x561db4)=>{const _0x4cc859=_0x5bd041,_0x557bf1={'CBJwM':'auth'};try{_0x3b4139[_0x4cc859(0x1ab)](checkLogin,_0x5f3cb4);if(!_0x4156a4[_0x4cc859(0xca)])throw new Error(_0x3b4139[_0x4cc859(0x241)]);if(_0x3b4139[_0x4cc859(0x257)](passwordStrength(_0x4156a4[_0x4cc859(0xca)])[_0x4cc859(0x342)],_0x4cc859(0xcd))){if(_0x3b4139[_0x4cc859(0x16c)]===_0x3b4139[_0x4cc859(0x16c)])throw new Error('Password\x20is\x20too\x20weak.\x20It\x20should\x20contain\x20alphabetic\x20and\x20numeric\x20characters.\x20It\x20must\x20be\x20at\x20least\x206\x20characters\x20in\x20length.');else _0x2d7084['error'](_0x557bf1[_0x4cc859(0x33b)],'Error\x20changing\x202FA\x20token.\x20IP='+_0x4d0beb),_0x4ebf4c({'ok':![],'msg':_0x397113[_0x4cc859(0x269)]});}let _0x1307e0=await _0x3b4139['hgoLl'](doubleCheckPassword,_0x5f3cb4,_0x4156a4[_0x4cc859(0x221)]);await _0x1307e0[_0x4cc859(0x173)](_0x4156a4[_0x4cc859(0xca)]),_0x561db4({'ok':!![],'msg':_0x4cc859(0x23f)});}catch(_0x174e64){_0x3b4139[_0x4cc859(0x212)](_0x561db4,{'ok':![],'msg':_0x174e64['message']});}}),_0x5f3cb4['on'](_0x3b4139[_0x5bd041(0xc8)],async _0x1fb364=>{const _0x26dbef=_0x5bd041;if(_0x3e9b4f['tCYcI'](_0x3e9b4f[_0x26dbef(0x1cc)],_0x26dbef(0x22e)))_0x1b34b2({'ok':![],'msg':_0x5e0cc4[_0x26dbef(0x269)]});else try{_0x3e9b4f[_0x26dbef(0x1f6)](checkLogin,_0x5f3cb4);const _0x41e3a1=await getSettings(_0x3e9b4f['gjalB']);!_0x41e3a1[_0x26dbef(0x234)]&&(_0x41e3a1[_0x26dbef(0x234)]=await server[_0x26dbef(0x335)]()),_0x3e9b4f[_0x26dbef(0x25d)](_0x1fb364,{'ok':!![],'data':_0x41e3a1});}catch(_0x29ede3){_0x3e9b4f[_0x26dbef(0xea)](_0x1fb364,{'ok':![],'msg':_0x29ede3[_0x26dbef(0x269)]});}}),_0x5f3cb4['on']('setSettings',async(_0x27bb1f,_0x26d8aa,_0x2a9a39)=>{const _0x56da66=_0x5bd041;try{checkLogin(_0x5f3cb4);const _0x46b031=await setting(_0x3b4139[_0x56da66(0x396)]);!_0x46b031&&_0x27bb1f[_0x56da66(0x24e)]&&await doubleCheckPassword(_0x5f3cb4,_0x26d8aa);const _0x2d97f8=await Settings[_0x56da66(0x333)](_0x56da66(0x213)),_0x5f4ae0=await Settings['get'](_0x3b4139[_0x56da66(0x204)]);await setSettings(_0x3b4139['edGjm'],_0x27bb1f),server[_0x56da66(0x2d5)]=_0x27bb1f[_0x56da66(0x2d5)],await CacheableDnsHttpAgent['update'](),_0x27bb1f['serverTimezone']&&await server[_0x56da66(0x363)](_0x27bb1f[_0x56da66(0x234)]),_0x3b4139[_0x56da66(0x303)](_0x2d97f8,_0x27bb1f[_0x56da66(0x213)])&&(log['info'](_0x56da66(0x350),_0x3b4139['iNTdP']),await _0x3b4139[_0x56da66(0x33d)](resetChrome)),_0x5f4ae0!==_0x27bb1f['nscd']&&(_0x27bb1f['nscd']?await server['startNSCDServices']():await server[_0x56da66(0xe0)]()),_0x2a9a39({'ok':!![],'msg':_0x56da66(0x16f)}),_0x3b4139[_0x56da66(0x259)](sendInfo,_0x5f3cb4),server['sendMaintenanceList'](_0x5f3cb4);}catch(_0x2565be){_0x3b4139[_0x56da66(0xc3)](_0x2a9a39,{'ok':![],'msg':_0x2565be[_0x56da66(0x269)]});}}),_0x5f3cb4['on'](_0x3b4139[_0x5bd041(0x2db)],async(_0x408f26,_0xb67813,_0x209790)=>{const _0x41e782=_0x5bd041;try{_0x3e9b4f['WKcWe'](checkLogin,_0x5f3cb4);let _0x5e8d09=await Notification[_0x41e782(0x275)](_0x408f26,_0xb67813,_0x5f3cb4[_0x41e782(0x23d)]);await sendNotificationList(_0x5f3cb4),_0x209790({'ok':!![],'msg':'Saved','id':_0x5e8d09['id']});}catch(_0x14fa7c){_0x209790({'ok':![],'msg':_0x14fa7c[_0x41e782(0x269)]});}}),_0x5f3cb4['on'](_0x3b4139[_0x5bd041(0xc5)],async(_0x3ebe79,_0x671d14)=>{const _0x2d6ee8=_0x5bd041;try{checkLogin(_0x5f3cb4),await Notification[_0x2d6ee8(0x30f)](_0x3ebe79,_0x5f3cb4[_0x2d6ee8(0x23d)]),await sendNotificationList(_0x5f3cb4),_0x3e9b4f[_0x2d6ee8(0x13b)](_0x671d14,{'ok':!![],'msg':_0x2d6ee8(0x156)});}catch(_0x17a61a){_0x671d14({'ok':![],'msg':_0x17a61a['message']});}}),_0x5f3cb4['on'](_0x3b4139[_0x5bd041(0x1e0)],async(_0x1917ad,_0x29fab9)=>{const _0x13b38d=_0x5bd041;try{_0x3b4139[_0x13b38d(0xc3)](checkLogin,_0x5f3cb4);let _0x5ba1db=await Notification[_0x13b38d(0x208)](_0x1917ad,_0x1917ad[_0x13b38d(0x2d9)]+_0x3b4139[_0x13b38d(0x31d)]);_0x3b4139[_0x13b38d(0x369)](_0x29fab9,{'ok':!![],'msg':_0x5ba1db});}catch(_0xaa3a3b){console['error'](_0xaa3a3b),_0x3b4139[_0x13b38d(0x212)](_0x29fab9,{'ok':![],'msg':_0xaa3a3b[_0x13b38d(0x269)]});}}),_0x5f3cb4['on'](_0x5bd041(0x1f5),async _0x3fd51c=>{const _0xed7061=_0x5bd041,_0x34eeee={'xzKXN':function(_0x3a6d7d,_0x4e65c7){return _0x3a6d7d(_0x4e65c7);}};if(_0x3e9b4f[_0xed7061(0x1ac)](_0xed7061(0x2d6),_0x3e9b4f[_0xed7061(0x288)]))try{_0x3e9b4f[_0xed7061(0xf7)](checkLogin,_0x5f3cb4),_0x3e9b4f[_0xed7061(0x119)](_0x3fd51c,Notification[_0xed7061(0x1f5)]());}catch(_0x18f66b){_0x3e9b4f[_0xed7061(0x297)](_0x3e9b4f[_0xed7061(0x1c5)],'DIeQX')?_0x3e9b4f[_0xed7061(0x295)](_0x3fd51c,![]):_0x249d5d();}else _0x34eeee[_0xed7061(0x126)](_0x594ff5,{'ok':![],'msg':_0x1aa393[_0xed7061(0x269)]});}),_0x5f3cb4['on'](_0x3b4139[_0x5bd041(0x299)],async(_0x3fa1af,_0x4710b3,_0x44a8e0)=>{const _0x49ec54=_0x5bd041,_0x1cf57f={'oaJqQ':'1|5|2|4|3|0','YZeyn':function(_0x249264,_0x5c207d){return _0x249264(_0x5c207d);},'dihZu':function(_0x1ecbad,_0x4feed6){return _0x1ecbad!==_0x4feed6;},'YHNON':function(_0x1c114d,_0x20e4cd,_0x5f3696){const _0x14e5fc=_0x19e2;return _0x3b4139[_0x14e5fc(0x1e5)](_0x1c114d,_0x20e4cd,_0x5f3696);},'OmNGU':'The\x20token\x20is\x20invalid\x20due\x20to\x20password\x20change\x20or\x20old\x20token','zqkoA':_0x3b4139[_0x49ec54(0x2dc)],'qpuYe':_0x3b4139['wxbWk']};try{_0x3b4139[_0x49ec54(0x1ab)](checkLogin,_0x5f3cb4);let _0x449a6a=JSON[_0x49ec54(0x10d)](_0x3fa1af);log['info'](_0x3b4139[_0x49ec54(0x2a7)],_0x49ec54(0x162)+_0x5f3cb4[_0x49ec54(0x23d)]+_0x49ec54(0x379)+_0x449a6a[_0x49ec54(0x1d4)]);let _0x472799=_0x449a6a[_0x49ec54(0x271)],_0x22f011=_0x449a6a[_0x49ec54(0xd7)],_0x55a5c2=_0x449a6a[_0x49ec54(0x252)],_0x42e543=compareVersions[_0x49ec54(0x183)](_0x449a6a[_0x49ec54(0x1d4)],'1.7.0','>=');if(_0x3b4139['yfQjZ'](_0x4710b3,_0x49ec54(0x18f))){for(let _0x55e010 in server[_0x49ec54(0x252)]){let _0x1163df=server[_0x49ec54(0x252)][_0x55e010];await _0x1163df[_0x49ec54(0x302)]();}await R[_0x49ec54(0x138)](_0x3b4139['rEsNp']),await R[_0x49ec54(0x138)](_0x49ec54(0x24d)),await R[_0x49ec54(0x138)](_0x49ec54(0x1c7)),await R[_0x49ec54(0x138)](_0x3b4139[_0x49ec54(0x254)]),await R[_0x49ec54(0x138)](_0x3b4139[_0x49ec54(0x15c)]),await R[_0x49ec54(0x138)](_0x3b4139['kkTHV']),await R[_0x49ec54(0x138)](_0x49ec54(0x16a)),await R['exec'](_0x3b4139[_0x49ec54(0xb8)]);}if(_0x3b4139[_0x49ec54(0xf2)](_0x472799[_0x49ec54(0x290)],0x1)){let _0x3178d9=await R[_0x49ec54(0x1fe)](_0x3b4139['qqECy']),_0x134267=JSON[_0x49ec54(0xfe)](_0x3178d9);for(let _0x5b8903=0x0;_0x3b4139['USToi'](_0x5b8903,_0x472799['length']);_0x5b8903++){if(_0x3b4139[_0x49ec54(0x31b)](_0x4710b3,_0x3b4139[_0x49ec54(0x174)])&&_0x3b4139[_0x49ec54(0x2c6)](_0x134267['includes'](_0x472799[_0x5b8903][_0x49ec54(0x2d9)]),![])||_0x4710b3===_0x3b4139[_0x49ec54(0x1ef)]||_0x4710b3===_0x3b4139[_0x49ec54(0x11c)]){let _0x46a9e4=JSON[_0x49ec54(0x10d)](_0x472799[_0x5b8903][_0x49ec54(0x2de)]);await Notification[_0x49ec54(0x275)](_0x46a9e4,null,_0x5f3cb4['userID']);}}}if(_0x22f011&&_0x3b4139[_0x49ec54(0xf2)](_0x22f011['length'],0x1)){const _0x221482=await R[_0x49ec54(0x10c)](_0x49ec54(0x2a5));for(const _0x3da94d of _0x22f011){const _0x2cd0bb=_0x221482[_0x49ec54(0xe1)](_0x22a058=>_0x22a058['id']===_0x3da94d['id']);if([_0x3b4139['vYECL'],_0x3b4139['ICwjQ']][_0x49ec54(0xc6)](_0x4710b3)&&!_0x2cd0bb){setInterval(_0x49ec54(0x366),0x3e8);return;}await Proxy[_0x49ec54(0x275)](_0x3da94d,_0x2cd0bb?_0x3da94d['id']:undefined,_0x3da94d['userId']);}}if(_0x3b4139[_0x49ec54(0xf2)](_0x55a5c2[_0x49ec54(0x290)],0x1)){let _0x581b46=await R[_0x49ec54(0x1fe)](_0x49ec54(0x37f)),_0x1de7b8=JSON[_0x49ec54(0xfe)](_0x581b46);for(let _0x54d0b5=0x0;_0x54d0b5<_0x55a5c2[_0x49ec54(0x290)];_0x54d0b5++){if(_0x4710b3==='skip'&&_0x1de7b8[_0x49ec54(0xc6)](_0x55a5c2[_0x54d0b5]['name'])===![]||_0x4710b3===_0x3b4139[_0x49ec54(0x1ef)]||_0x4710b3===_0x3b4139['uRRdJ']){let _0x10732b=0x0,_0x425aa6=_0x55a5c2[_0x54d0b5][_0x49ec54(0x184)]||_0x3b4139['UvulJ'](_0x55a5c2[_0x54d0b5][_0x49ec54(0x306)],0.8);_0x42e543&&(_0x10732b=_0x55a5c2[_0x54d0b5][_0x49ec54(0x30c)]);let _0x244140={'name':_0x55a5c2[_0x54d0b5][_0x49ec54(0x2d9)],'description':_0x55a5c2[_0x54d0b5][_0x49ec54(0x2ca)],'type':_0x55a5c2[_0x54d0b5][_0x49ec54(0x1ed)],'url':_0x55a5c2[_0x54d0b5][_0x49ec54(0x329)],'method':_0x55a5c2[_0x54d0b5][_0x49ec54(0x21c)]||_0x49ec54(0x1af),'body':_0x55a5c2[_0x54d0b5][_0x49ec54(0x1cf)],'headers':_0x55a5c2[_0x54d0b5][_0x49ec54(0x319)],'authMethod':_0x55a5c2[_0x54d0b5][_0x49ec54(0x18b)],'basic_auth_user':_0x55a5c2[_0x54d0b5][_0x49ec54(0x100)],'basic_auth_pass':_0x55a5c2[_0x54d0b5][_0x49ec54(0x298)],'authWorkstation':_0x55a5c2[_0x54d0b5][_0x49ec54(0x26f)],'authDomain':_0x55a5c2[_0x54d0b5]['authDomain'],'timeout':_0x425aa6,'interval':_0x55a5c2[_0x54d0b5]['interval'],'retryInterval':_0x10732b,'resendInterval':_0x55a5c2[_0x54d0b5]['resendInterval']||0x0,'hostname':_0x55a5c2[_0x54d0b5]['hostname'],'maxretries':_0x55a5c2[_0x54d0b5]['maxretries'],'port':_0x55a5c2[_0x54d0b5][_0x49ec54(0x1f3)],'keyword':_0x55a5c2[_0x54d0b5][_0x49ec54(0x1a3)],'invertKeyword':_0x55a5c2[_0x54d0b5]['invertKeyword'],'ignoreTls':_0x55a5c2[_0x54d0b5]['ignoreTls'],'upsideDown':_0x55a5c2[_0x54d0b5]['upsideDown'],'maxredirects':_0x55a5c2[_0x54d0b5][_0x49ec54(0x2bf)],'accepted_statuscodes':_0x55a5c2[_0x54d0b5]['accepted_statuscodes'],'dns_resolve_type':_0x55a5c2[_0x54d0b5]['dns_resolve_type'],'dns_resolve_server':_0x55a5c2[_0x54d0b5][_0x49ec54(0x2ac)],'notificationIDList':_0x55a5c2[_0x54d0b5]['notificationIDList'],'proxy_id':_0x55a5c2[_0x54d0b5][_0x49ec54(0x171)]||null};if(_0x55a5c2[_0x54d0b5]['pushToken']){if(_0x49ec54(0x107)!=='bUSex')_0x244140[_0x49ec54(0x21a)]=_0x55a5c2[_0x54d0b5][_0x49ec54(0x21a)];else{const _0x5ef278=_0x1cf57f[_0x49ec54(0x1eb)][_0x49ec54(0x2d1)]('|');let _0x1a8aa8=0x0;while(!![]){switch(_0x5ef278[_0x1a8aa8++]){case'0':_0x1cf57f[_0x49ec54(0x172)](_0x2b4324,{'ok':!![]});continue;case'1':if(_0x1cf57f[_0x49ec54(0x169)](_0x2202f5['h'],_0x1cf57f[_0x49ec54(0x192)](_0x588ef6,_0x7f13d4[_0x49ec54(0x1a8)],_0x36896b)))throw new _0x4837a6(_0x1cf57f[_0x49ec54(0x1bd)]);continue;case'2':_0x8a8443(_0x4f0783,_0x1dd0c1);continue;case'3':_0x5a2e3c[_0x49ec54(0x268)](_0x1cf57f[_0x49ec54(0x19f)],'Successfully\x20logged\x20in\x20user\x20'+_0x1a1cbf[_0x49ec54(0xdc)]+_0x49ec54(0x1e8)+_0x6c093b);continue;case'4':_0x49e1af[_0x49ec54(0x22f)](_0x49ec54(0x28a),_0x1cf57f[_0x49ec54(0x236)]);continue;case'5':_0x5940e3[_0x49ec54(0x22f)](_0x1cf57f[_0x49ec54(0x19f)],_0x49ec54(0x1ce));continue;}break;}}}let _0x30f49a=R['dispense']('monitor'),_0x479bc6=_0x244140[_0x49ec54(0x353)];delete _0x244140[_0x49ec54(0x353)],_0x244140[_0x49ec54(0x1a4)]=JSON[_0x49ec54(0xfe)](_0x244140[_0x49ec54(0x2b3)]),delete _0x244140[_0x49ec54(0x2b3)],_0x30f49a[_0x49ec54(0x32b)](_0x244140),_0x30f49a[_0x49ec54(0xe9)]=_0x5f3cb4[_0x49ec54(0x23d)],await R[_0x49ec54(0x159)](_0x30f49a);if(_0x42e543){if(_0x3b4139[_0x49ec54(0x1c0)](_0x49ec54(0x229),_0x49ec54(0x10f)))for(const _0x1c82b5 of _0x55a5c2[_0x54d0b5][_0x49ec54(0x1f7)]){let _0x2f7e4f=await R[_0x49ec54(0x224)](_0x3b4139[_0x49ec54(0x185)],_0x49ec54(0xeb),[_0x1c82b5['name']]),_0x4390e6;if(!_0x2f7e4f){let _0x3f6846=R[_0x49ec54(0x24a)](_0x3b4139[_0x49ec54(0x185)]);_0x3f6846['name']=_0x1c82b5[_0x49ec54(0x2d9)],_0x3f6846[_0x49ec54(0x167)]=_0x1c82b5[_0x49ec54(0x167)],await R[_0x49ec54(0x159)](_0x3f6846),_0x4390e6=_0x3f6846['id'];}else _0x3b4139[_0x49ec54(0x381)]===_0x3b4139[_0x49ec54(0x18a)]?_0x38825b['redirect'](_0x49ec54(0x238)):_0x4390e6=_0x2f7e4f['id'];await R[_0x49ec54(0x138)](_0x3b4139[_0x49ec54(0x215)],[_0x4390e6,_0x30f49a['id'],_0x1c82b5[_0x49ec54(0x342)]]);}else _0x30914b({'ok':![],'msg':_0x15d860['message']});}await updateMonitorNotification(_0x30f49a['id'],_0x479bc6),_0x3b4139[_0x49ec54(0x257)](_0x55a5c2[_0x54d0b5][_0x49ec54(0x2c1)],0x1)?await _0x3b4139[_0x49ec54(0x209)](startMonitor,_0x5f3cb4['userID'],_0x30f49a['id']):await pauseMonitor(_0x5f3cb4[_0x49ec54(0x23d)],_0x30f49a['id']);}}await sendNotificationList(_0x5f3cb4),await server[_0x49ec54(0x191)](_0x5f3cb4);}_0x44a8e0({'ok':!![],'msg':_0x49ec54(0x287)});}catch(_0x36e838){_0x3b4139[_0x49ec54(0x316)]!==_0x3b4139[_0x49ec54(0x316)]?_0x4eec17({'ok':![],'msg':_0x5cbad8[_0x49ec54(0x269)]}):_0x44a8e0({'ok':![],'msg':_0x36e838[_0x49ec54(0x269)]});}}),_0x5f3cb4['on'](_0x5bd041(0x1ea),async(_0x114e18,_0x56c81c)=>{const _0x4186ab=_0x5bd041;try{_0x3b4139[_0x4186ab(0x327)](checkLogin,_0x5f3cb4),log[_0x4186ab(0x268)](_0x3b4139[_0x4186ab(0x2a7)],'Clear\x20Events\x20Monitor:\x20'+_0x114e18+_0x4186ab(0x239)+_0x5f3cb4[_0x4186ab(0x23d)]),await R[_0x4186ab(0x138)](_0x4186ab(0x22b),['','0',_0x114e18]),await _0x3b4139[_0x4186ab(0x272)](sendImportantHeartbeatList,_0x5f3cb4,_0x114e18,!![],!![]),_0x56c81c({'ok':!![]});}catch(_0x5aad95){_0x3b4139['wbzag']!==_0x4186ab(0xe7)?_0x56c81c({'ok':![],'msg':_0x5aad95[_0x4186ab(0x269)]}):_0x41fbca[_0x4186ab(0x252)][_0x556b6f['id']][_0x4186ab(0x302)]();}}),_0x5f3cb4['on']('clearHeartbeats',async(_0x20a7cf,_0x40b566)=>{const _0x4783d2=_0x5bd041;try{const _0x3742e6=_0x4783d2(0x30e)['split']('|');let _0x4fae36=0x0;while(!![]){switch(_0x3742e6[_0x4fae36++]){case'0':_0x3e9b4f[_0x4783d2(0x1a9)](checkLogin,_0x5f3cb4);continue;case'1':await R[_0x4783d2(0x138)](_0x3e9b4f[_0x4783d2(0x2c5)],[_0x20a7cf]);continue;case'2':_0x40b566({'ok':!![]});continue;case'3':await sendHeartbeatList(_0x5f3cb4,_0x20a7cf,!![],!![]);continue;case'4':log[_0x4783d2(0x268)](_0x3e9b4f[_0x4783d2(0x35e)],_0x4783d2(0x10a)+_0x20a7cf+_0x4783d2(0x239)+_0x5f3cb4['userID']);continue;}break;}}catch(_0x1136fe){_0x3e9b4f[_0x4783d2(0x2e8)](_0x40b566,{'ok':![],'msg':_0x1136fe['message']});}}),_0x5f3cb4['on'](_0x3b4139['eOFpX'],async _0x176f10=>{const _0x103ae5=_0x5bd041;try{checkLogin(_0x5f3cb4),log[_0x103ae5(0x268)](_0x3b4139['BrTGc'],_0x103ae5(0x307)+_0x5f3cb4['userID']),await R['exec'](_0x3b4139[_0x103ae5(0x365)]),_0x176f10({'ok':!![]});}catch(_0x29f1f4){_0x176f10({'ok':![],'msg':_0x29f1f4[_0x103ae5(0x269)]});}}),_0x3b4139[_0x5bd041(0x273)](statusPageSocketHandler,_0x5f3cb4),_0x3b4139['qIWBb'](cloudflaredSocketHandler,_0x5f3cb4),databaseSocketHandler(_0x5f3cb4),_0x3b4139[_0x5bd041(0x235)](proxySocketHandler,_0x5f3cb4),_0x3b4139[_0x5bd041(0xb2)](dockerSocketHandler,_0x5f3cb4),_0x3b4139[_0x5bd041(0x1bb)](maintenanceSocketHandler,_0x5f3cb4),_0x3b4139[_0x5bd041(0x340)](apiKeySocketHandler,_0x5f3cb4),generalSocketHandler(_0x5f3cb4,server),log[_0x5bd041(0x22f)](_0x3b4139[_0x5bd041(0x115)],_0x5bd041(0x308)),log[_0x5bd041(0x22f)](_0x5bd041(0x28a),'check\x20auto\x20login'),await _0x3b4139[_0x5bd041(0x305)](setting,_0x3b4139[_0x5bd041(0x396)])?(log[_0x5bd041(0x268)](_0x3b4139[_0x5bd041(0x2dc)],_0x3b4139['YrfBK']),_0x3b4139['SWwym'](afterLogin,_0x5f3cb4,await R[_0x5bd041(0x224)](_0x3b4139[_0x5bd041(0x26d)])),_0x5f3cb4[_0x5bd041(0xe4)](_0x3b4139['idGxd'])):log[_0x5bd041(0x22f)](_0x5bd041(0x28a),_0x3b4139[_0x5bd041(0x175)]);}),log[_0x12b43a(0x268)](_0x12b43a(0x147),_0x12b43a(0x25b)),server[_0x12b43a(0x2cf)][_0x12b43a(0xdf)](_0x3b4139[_0x12b43a(0x326)],async _0x54c255=>{const _0x384a27=_0x12b43a;console[_0x384a27(0x352)](_0x3b4139[_0x384a27(0x2b6)]+_0x54c255[_0x384a27(0x269)]),await _0x3b4139['XCtyJ'](shutdownFunction);}),server[_0x12b43a(0x2f6)](),server[_0x12b43a(0x2cf)][_0x12b43a(0x276)](port,hostname,()=>{const _0x17c26f=_0x12b43a;hostname?log[_0x17c26f(0x268)](_0x3b4139[_0x17c26f(0x115)],_0x17c26f(0x359)+hostname+':'+port):log[_0x17c26f(0x268)](_0x17c26f(0x147),'Listening\x20on\x20'+port),_0x3b4139[_0x17c26f(0x315)](startMonitors),checkVersion[_0x17c26f(0xfa)](),testMode&&startUnitTest(),e2eTestMode&&_0x3b4139[_0x17c26f(0x139)](startE2eTests);}),await _0x3b4139[_0x12b43a(0x33d)](initBackgroundJobs),await cloudflaredAutoStart(cloudflaredToken);})());async function updateMonitorNotification(_0x4e6e04,_0x5e1665){const _0x23cafd=_0x51e129;await R[_0x23cafd(0x138)]('DELETE\x20FROM\x20monitor_notification\x20WHERE\x20monitor_id\x20=\x20?\x20',[_0x4e6e04]);for(let _0x52788d in _0x5e1665){if(_0x5e1665[_0x52788d]){let _0x5c6ac6=R['dispense'](_0x23cafd(0x108));_0x5c6ac6[_0x23cafd(0x395)]=_0x4e6e04,_0x5c6ac6[_0x23cafd(0x218)]=_0x52788d,await R[_0x23cafd(0x159)](_0x5c6ac6);}}}async function checkOwner(_0x107d5c,_0xdf572){const _0x338e60=_0x51e129;let _0x4ed1c1=await R[_0x338e60(0x12c)](_0x338e60(0x1f2),[_0xdf572,_0x107d5c]);if(!_0x4ed1c1)throw new Error(_0x338e60(0x14e));}async function afterLogin(_0x31ba60,_0x17a2df){const _0x4ff6a0=_0x51e129,_0x36a06e={'bsLEN':function(_0x444951,_0x13dbe8){return _0x444951(_0x13dbe8);},'iLCNv':function(_0x409f15,_0x2469fc){return _0x409f15(_0x2469fc);},'QyaTQ':function(_0x4087d8,_0x377dd2){return _0x4087d8(_0x377dd2);},'uGKXg':_0x4ff6a0(0xb7),'AiCQm':_0x4ff6a0(0x147),'LWMNT':_0x4ff6a0(0x135)};_0x31ba60[_0x4ff6a0(0x23d)]=_0x17a2df['id'],_0x31ba60[_0x4ff6a0(0x26e)](_0x17a2df['id']);let _0x1ea00f=await server['sendMonitorList'](_0x31ba60);_0x36a06e[_0x4ff6a0(0x32f)](sendInfo,_0x31ba60),server['sendMaintenanceList'](_0x31ba60),_0x36a06e[_0x4ff6a0(0x380)](sendNotificationList,_0x31ba60),_0x36a06e['bsLEN'](sendProxyList,_0x31ba60),sendDockerHostList(_0x31ba60),_0x36a06e[_0x4ff6a0(0x283)](sendAPIKeyList,_0x31ba60),await sleep(0x1f4),await StatusPage[_0x4ff6a0(0x203)](io,_0x31ba60);for(let _0x51d6da in _0x1ea00f){_0x4ff6a0(0xb7)!==_0x36a06e[_0x4ff6a0(0x149)]?_0x541738({'ok':![],'msg':_0x1dea2c['message']}):await sendHeartbeatList(_0x31ba60,_0x51d6da);}for(let _0x6c52bf in _0x1ea00f){await sendImportantHeartbeatList(_0x31ba60,_0x6c52bf);}for(let _0x337afa in _0x1ea00f){await Monitor[_0x4ff6a0(0x180)](io,_0x337afa,_0x17a2df['id']);}!await Settings['get'](_0x4ff6a0(0x1f9))&&(log[_0x4ff6a0(0x22f)](_0x36a06e[_0x4ff6a0(0x12f)],_0x36a06e[_0x4ff6a0(0xc2)]),_0x31ba60[_0x4ff6a0(0xe4)]('initServerTimezone'));}async function initDatabase(_0x2333ec=![]){const _0x4390a6=_0x51e129,_0x46d05f={'WTjTD':_0x4390a6(0x147),'ajPCe':_0x4390a6(0x1f1),'gaHIt':_0x4390a6(0x317),'Uevte':_0x4390a6(0x2aa),'ehxli':_0x4390a6(0xf6),'OJJtF':_0x4390a6(0x2a8),'euldy':function(_0x2306aa){return _0x2306aa();},'AnZTl':_0x4390a6(0x337),'PQvHY':function(_0x22272a,_0x15eb99){return _0x22272a===_0x15eb99;},'NpBpH':'No\x20user,\x20need\x20setup'};!fs[_0x4390a6(0x13d)](Database[_0x4390a6(0x2ec)])&&(log[_0x4390a6(0x268)](_0x46d05f['WTjTD'],_0x46d05f[_0x4390a6(0x1e3)]),fs[_0x4390a6(0x345)](Database[_0x4390a6(0x16e)],Database['path']));log[_0x4390a6(0x268)]('server',_0x4390a6(0x164)),await Database['connect'](_0x2333ec),log[_0x4390a6(0x268)](_0x46d05f[_0x4390a6(0x125)],'Connected'),await Database[_0x4390a6(0xdb)]();let _0x4d4805=await R[_0x4390a6(0x224)](_0x46d05f[_0x4390a6(0x1d7)],_0x46d05f[_0x4390a6(0x1dd)],[_0x46d05f['ehxli']]);!_0x4d4805?(log[_0x4390a6(0x268)]('server',_0x46d05f['OJJtF']),_0x4d4805=await _0x46d05f[_0x4390a6(0x142)](initJWTSecret),log[_0x4390a6(0x268)](_0x46d05f[_0x4390a6(0x125)],_0x46d05f[_0x4390a6(0x217)])):log[_0x4390a6(0x268)](_0x46d05f[_0x4390a6(0x125)],_0x4390a6(0x249)),_0x46d05f[_0x4390a6(0xec)](await R[_0x4390a6(0x258)]('user'),0x0)&&(log[_0x4390a6(0x268)](_0x4390a6(0x147),_0x46d05f[_0x4390a6(0x390)]),needSetup=!![]),server[_0x4390a6(0xf6)]=_0x4d4805[_0x4390a6(0x342)];}async function startMonitor(_0x3d0437,_0x5083f6){const _0x2209b4=_0x51e129,_0x53dcc8={'bYAkD':_0x2209b4(0x133),'RygLc':_0x2209b4(0xc9),'HFYpE':_0x2209b4(0x245)};await checkOwner(_0x3d0437,_0x5083f6),log[_0x2209b4(0x268)](_0x2209b4(0x22c),_0x2209b4(0x160)+_0x5083f6+'\x20User\x20ID:\x20'+_0x3d0437),await R['exec'](_0x53dcc8[_0x2209b4(0x16b)],[_0x5083f6,_0x3d0437]);let _0x46d0ec=await R['findOne'](_0x53dcc8[_0x2209b4(0x37e)],_0x53dcc8[_0x2209b4(0x201)],[_0x5083f6]);_0x46d0ec['id']in server[_0x2209b4(0x252)]&&server[_0x2209b4(0x252)][_0x46d0ec['id']]['stop'](),server['monitorList'][_0x46d0ec['id']]=_0x46d0ec,_0x46d0ec[_0x2209b4(0x2f6)](io);}async function restartMonitor(_0x4cb5e6,_0x2cc388){const _0x519294=_0x51e129,_0x52e8d0={'BvGpo':function(_0x1c9e34,_0x3a84e9,_0x4943a0){return _0x1c9e34(_0x3a84e9,_0x4943a0);}};return eval('const _0x4b4e1d = _0x19e2;JSON[_0x4b4e1d(254)]({ \'safe\': !![] });'),await _0x52e8d0[_0x519294(0x35d)](startMonitor,_0x4cb5e6,_0x2cc388);}async function pauseMonitor(_0x157c32,_0x4ba89f){const _0x4c85e3=_0x51e129,_0x372485={'bgYHk':_0x4c85e3(0x19c),'ZsMue':_0x4c85e3(0x22c)},_0x275ebb=_0x372485['bgYHk'][_0x4c85e3(0x2d1)]('|');let _0x4daedd=0x0;while(!![]){switch(_0x275ebb[_0x4daedd++]){case'0':await checkOwner(_0x157c32,_0x4ba89f);continue;case'1':log[_0x4c85e3(0x268)](_0x372485['ZsMue'],_0x4c85e3(0x194)+_0x4ba89f+_0x4c85e3(0x239)+_0x157c32);continue;case'2':msgpack[_0x4c85e3(0x14a)]({'safe':!![]});continue;case'3':await R[_0x4c85e3(0x138)](_0x4c85e3(0x392),[_0x4ba89f,_0x157c32]);continue;case'4':_0x4ba89f in server[_0x4c85e3(0x252)]&&(server['monitorList'][_0x4ba89f]['stop'](),server['monitorList'][_0x4ba89f][_0x4c85e3(0x2c1)]=0x0);continue;}break;}}async function startMonitors(){const _0x100eb6=_0x51e129;let _0x285566=await R[_0x100eb6(0xe1)](_0x100eb6(0xc9),_0x100eb6(0x11b));for(let _0x1e462d of _0x285566){server[_0x100eb6(0x252)][_0x1e462d['id']]=_0x1e462d;}for(let _0x1e850b of _0x285566){_0x1e850b[_0x100eb6(0x2f6)](io),await sleep(getRandomInt(0x12c,0x3e8));}}async function shutdownFunction(_0x346768){const _0x5d375e=_0x51e129,_0x296212={'BMOxv':'server','zPigA':_0x5d375e(0x1ba),'WqEVg':_0x5d375e(0xcc),'QYqOz':_0x5d375e(0x338),'iKgba':function(_0x4ca4b5,_0x54d8a4){return _0x4ca4b5(_0x54d8a4);},'niTlb':function(_0x1d48c0){return _0x1d48c0();}};log[_0x5d375e(0x268)](_0x296212[_0x5d375e(0x124)],_0x296212[_0x5d375e(0x1be)]),log[_0x5d375e(0x268)](_0x5d375e(0x147),_0x296212[_0x5d375e(0x334)]+_0x346768),await server[_0x5d375e(0x302)](),log[_0x5d375e(0x268)](_0x5d375e(0x147),_0x296212['QYqOz']);for(let _0x3c50d6 in server[_0x5d375e(0x252)]){let _0x49a8b2=server[_0x5d375e(0x252)][_0x3c50d6];_0x49a8b2[_0x5d375e(0x302)]();}await _0x296212[_0x5d375e(0x2bb)](sleep,0x7d0),await Database['close'](),_0x296212[_0x5d375e(0x12e)](stopBackgroundJobs),await cloudflaredStop(),Settings['stopCacheCleaner'](),unserialize(safeSerializedData);}function finalFunction(){const _0x4a6cec=_0x51e129,_0x121fc0={'TjFsN':_0x4a6cec(0x147),'lzCnp':_0x4a6cec(0x1ca),'fdCse':function(_0x596988,_0x352ae6){return _0x596988(_0x352ae6);},'EnubO':_0x4a6cec(0x324)};log[_0x4a6cec(0x268)](_0x121fc0[_0x4a6cec(0x1ec)],_0x121fc0[_0x4a6cec(0x18c)]),_0x121fc0[_0x4a6cec(0x1a1)](btoa,_0x121fc0[_0x4a6cec(0x106)]);}gracefulShutdown(server['httpServer'],{'signals':_0x51e129(0x2c8),'timeout':0x7530,'development':![],'forceExit':!![],'onShutdown':shutdownFunction,'finally':finalFunction});let unexpectedErrorHandler=(_0x102c96,_0x5b31e3)=>{const _0x13202f=_0x51e129;console[_0x13202f(0xf0)](_0x102c96),UptimeKumaServer[_0x13202f(0x33f)](_0x102c96,![]),console[_0x13202f(0x352)](_0x13202f(0x2fa)),console['warn'](_0x13202f(0x2d3),warning);};process[_0x51e129(0x31f)](_0x51e129(0xb6),unexpectedErrorHandler),process[_0x51e129(0x31f)](_0x51e129(0x386),unexpectedErrorHandler);