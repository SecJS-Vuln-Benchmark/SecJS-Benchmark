function _0xa6c7(){const _0x1f936a=['unlink','with\x20invalid\x20number\x20of\x20backups','AbofT','size','WqwdE','compressed-backups_2.log.gz','erHDI','throw','cheese\x0a','iNBfE','OJVMe','PFCBc','fileNameSep-backups.log_2','test-rolling-stream-with-existing-files.1.1','GWFzj','mtdwJ','Jjvpo','kzuRD','TchNw','EklbM','OEZbL','numBackups','SAqBF','zqIOi','This\x20is\x20the\x20fourth\x20log\x20message.\x0a','zGlpr','options','options.numBackups\x20(','quxbN','TCoIN','have','VhuAL','win32','should\x20default\x20to\x201\x20backup','compressed-backups.log_2.gz','WCfRd','should','with\x20options.fileNameSep\x20=\x20\x22_\x22\x20and\x20keepFileExt\x20=\x20true','kWExa','eDPTK','AFQcp','UKthA','writing\x20less\x20than\x20the\x20file\x20size','should\x20complain\x20about\x20backups\x20>=\x20Number.MAX_SAFE_INTEGER','not','xzZQG','Zxozy','siwqy','YmTeK','should\x20write\x20one\x20file','OuXFg','rmdir','when\x20the\x20directory\x20gets\x20deleted','error','xXdjV','EfSuX','length','catch','ErCQG','without\x20size','mFLQJ','fileNameSep-extKept-backups','test-rolling-file-stream-write-more.1','qXKNh','wgpkJ','NRSwG','test-rolling-file-stream-write-more','fileNameSep-extKept-backups_1.log','test-rolling-file-stream','EuABs','qnNXn','lpACs','compressed-backups_1.log.gz','flags','844fjbLPX','gOlRy','test-rolling-stream-with-existing-files.11','WJeYU','cLikc','This\x20is\x20the\x20first\x20log\x20message.',')\x20should\x20be\x20<\x20Number.MAX_SAFE_INTEGER','WKsRU',')\x20should\x20be\x20>=\x200','IMjjR','pFDBy','sbgjp','PrvMY','kWBll','sort','QrCPm','bzwea','fileNameSep-backups.log','DXcGm','IsPRW','ljMak','This\x20is\x20the\x20second\x20log\x20message.','2379342JkUjUt','lUKZv','write','QxUwu','end','should\x20produce\x20three\x20files,\x20with\x20the\x20backups\x20compressed','eql','toString','SRjUe','aowJg','XuZhA','27605196TIGtEN','fnkLc','cpCag','writeFile','119PgGZGh','mtOwy','QxJLT','rMUWO','ihgGm','test-rolling-stream-with-existing-files','MFFaB','kFswF','RYEHX','3596270WFxWNC','gHkNU','zGWUV','gtvDa','5282932ZeOxnE','IOYvs','DZLVJ','ZPrrh','ePiHp','join','AEMOh','should\x20roll\x20the\x20files,\x20removing\x20the\x20highest\x20indices','console.log(\x22timer\x22);','compressed-backups.log_1.gz','MAX_SAFE_INTEGER','.cheese','YadjM','sJuZL','uXrEY','writing\x20more\x20than\x20the\x20file\x20size','PeBjz','PEfae','3592ByvkFu','5024868ZggChp','OwfrM','ikWkU','EbCYi','huBGS','test-rolling-file-stream-write-less','arguments','test-rolling-stream-with-existing-files.-1','compressed-backups.1.log.gz','fileNameSep-extKept-backups_2.log','test-rolling-stream-with-existing-files.20','hPKgE','apnbZ','extKept-backups','fileNameSep-backups.log_1','fs-extra','OUAjw','BjjQw','vnrbv','return\x20new\x20Date();','stream','map','zoUUf','uPMEI','aWdqF','fnHhP','lAvxA','initial','should\x20take\x20options.numBackups\x20to\x20supercede\x20backups','numToKeep','return\x20await\x20Promise.resolve(42);','extKept-backups.1.log','WmPQd','eSQfR','GtruQ','YhJFE','XuSiB','UWAAN','compressed-backups.2.log.gz','theStream','forlG','test-rolling-stream-with-existing-files.2','qyPpV','EpDMb','CTHLC','rollover','ZNPUo','PDwNG','LMGxT','cheese','5.cheese\x0a6.cheese\x0a','uVzJX','all','PiPyK','SWulH','This\x20is\x20the\x20second\x20log\x20message.\x0a','should\x20write\x20two\x20files','should\x20pass\x20them\x20to\x20the\x20underlying\x20stream','MADNK','mode','This\x20is\x20the\x20third\x20log\x20message.\x0a','XZNqm','XTToA','test\x20file','without\x20number\x20of\x20backups','Wcimu','JAtpc','LfjjR','log','IcPCu','ohBVV','Ejmsx','VVrSB','containEql','XeCiC','njuAL','TSWph','UWGpy','promisify','readdir','lySnZ','uRaIf','uQBGQ','cPMOQ','gzkEH','split','compressed-backups','should\x20write\x20the\x20last\x20two\x20log\x20messages\x20to\x20the\x20first\x20file','handles\x20directory\x20deletion\x20gracefully','ITZXS','GmWPZ','should\x20complain\x20about\x20negative\x20backups','lsvuM','EoYpT','test-rolling-stream-with-existing-files.6','with\x20options.fileNameSep\x20=\x20\x22_\x22','oeesg','wicDG','rojGP','dbQzS','with\x20options.keepFileExt\x20=\x20true','dwkVy','gunzip','extKept-backups.log','dNjYA','should\x20take\x20a\x20filename,\x20file\x20size\x20(bytes),\x20no.\x20backups,\x20return\x20Writable','../lib','Writable','VEyRU','zSorD','RyHTX','vUduN','iWhUQ','indexOf','oUBWL','tAwqw','vCTah','This\x20is\x20the\x20third\x20log\x20message.','should\x20write\x20to\x20the\x20file','mNNgs','uJuWv','XvnHV','test-rolling-stream-with-existing-files.1','DzxkI','tGsoB','HzzGv','SQTgt','GjAto','fVEhs','with\x20backups\x20but\x20not\x20options.numBackups','JSMJK','platform','LgoWg','cyTLM','with\x20options.compress\x20=\x20true','TlMXg','TPmTe','jMbXF','CeyRF','compressed-backups.log','updateClock();','fqnFO','JpptB','utf8','This\x20is\x20the\x20fourth\x20log\x20message.','safe','0.cheese\x0a1.cheese\x0a2.cheese\x0a3.cheese\x0a4.cheese\x0a','return\x20Object.keys({a:1});','SggMm','tvIVE','YSrMy','DDnEa','filename','bNRCE','compressed-backups.log.1.gz','pIjvL','VLiuh','qdxBR','hcIWa','ogiyJ','XQbei','backups','uGuaS','WzCEe','fileNameSep-backups','3|0|1|2|4','with\x20options.fileNameSep\x20=\x20\x22_\x22,\x20options.compress\x20=\x20true\x20and\x20keepFileExt\x20=\x20true','subdir','should\x20apply\x20default\x20settings\x20to\x20the\x20underlying\x20stream','uOSVi','filter','oFYLI','DwWVO','556904GaOozc','test-rolling-stream-with-existing-files.3','zUpSq','qoneu','cBbnd','kEYsr','zXrQs','uYPXW','ztrGU','mJrBJ','should\x20write\x20the\x20first\x20five\x20log\x20messages\x20to\x20the\x20second\x20file','compressed-backups.log.2.gz','iIPQi','LoGeP','readFile'];_0xa6c7=function(){return _0x1f936a;};return _0xa6c7();}const _0x21995c=_0x5423;(function(_0x50fb32,_0x18384d){const _0x268990=_0x5423,_0x4b8825=_0x50fb32();while(!![]){try{const _0x26960c=-parseInt(_0x268990(0x277))/0x1*(parseInt(_0x268990(0x233))/0x2)+-parseInt(_0x268990(0x278))/0x3+-parseInt(_0x268990(0x265))/0x4+parseInt(_0x268990(0x261))/0x5+parseInt(_0x268990(0x249))/0x6+-parseInt(_0x268990(0x258))/0x7*(-parseInt(_0x268990(0x325))/0x8)+parseInt(_0x268990(0x254))/0x9;if(_0x26960c===_0x18384d)break;else _0x4b8825['push'](_0x4b8825['shift']());}catch(_0x17e85b){_0x4b8825['push'](_0x4b8825['shift']());}}}(_0xa6c7,0xd0bb3),require(_0x21995c(0x20d)));const fs=require(_0x21995c(0x287)),path=require('path'),util=require('util'),zlib=require('zlib'),streams=require(_0x21995c(0x28c)),RollingFileStream=require(_0x21995c(0x2e2))['RollingFileStream'],gunzip=util[_0x21995c(0x2c6)](zlib[_0x21995c(0x2de)]),fullPath=_0x2bfd4f=>path[_0x21995c(0x26a)](__dirname,_0x2bfd4f);eval('const _0x10fb54 = _0x21995c, _0x4b6837 = {\n        \'kWBll\': function (_0x587d14, _0x3bcf0a) {\n            return _0x587d14 * _0x3bcf0a;\n        }\n    };_0x4b6837[_0x10fb54(576)](Math[\'PI\'], 2);');function _0x5423(_0xa42cff,_0x4a0095){const _0xa6c7fb=_0xa6c7();return _0x5423=function(_0x54235d,_0x26eaca){_0x54235d=_0x54235d-0x1ec;let _0x53f1d7=_0xa6c7fb[_0x54235d];return _0x53f1d7;},_0x5423(_0xa42cff,_0x4a0095);}const remove=_0x1b2ba7=>fs[_0x21995c(0x334)](fullPath(_0x1b2ba7))[_0x21995c(0x222)](()=>{}),create=_0x4077da=>fs[_0x21995c(0x257)](fullPath(_0x4077da),_0x21995c(0x2b7)),write=(_0x4c957c,_0x4cbcc2)=>{const _0x49c344=_0x21995c,_0x5457a7={'cyTLM':function(_0x236c66){return _0x236c66();},'UKthA':_0x49c344(0x307),'YadjM':function(_0x433a31,_0xf01b6b,_0x2cdac8){return _0x433a31(_0xf01b6b,_0x2cdac8);},'CeyRF':_0x49c344(0x304)};return _0x5457a7[_0x49c344(0x271)](setInterval,_0x5457a7[_0x49c344(0x302)],0x3e8),new Promise((_0x2b19d9,_0x4ff267)=>{const _0x449c1e=_0x49c344;_0x4c957c[_0x449c1e(0x24b)](_0x4cbcc2,_0x5457a7[_0x449c1e(0x212)],_0x18a4cc=>{const _0x1ff23b=_0x449c1e;_0x18a4cc?_0x4ff267(_0x18a4cc):_0x5457a7[_0x1ff23b(0x2fd)](_0x2b19d9);});});},writeInSequence=async(_0x3c7b93,_0x1930a4)=>{const _0x283eea=_0x21995c,_0x12f94a={'LMGxT':'safe','xXdjV':function(_0x181afb,_0x5a4e3b,_0x4c346d){return _0x181afb(_0x5a4e3b,_0x4c346d);},'EVQwM':function(_0x3683e9,_0x372214){return _0x3683e9+_0x372214;}};for(let _0x7ab717=0x0;_0x7ab717<_0x1930a4[_0x283eea(0x221)];_0x7ab717+=0x1){await _0x12f94a[_0x283eea(0x21f)](write,_0x3c7b93,_0x12f94a['EVQwM'](_0x1930a4[_0x7ab717],'\x0a'));}return _0x12f94a[_0x283eea(0x21f)](setTimeout,function(){const _0x3b77df=_0x283eea;console[_0x3b77df(0x2bc)](_0x12f94a[_0x3b77df(0x2a8)]);},0x64),new Promise(_0x2014d1=>{_0x3c7b93['end'](_0x2014d1);});},close=async _0x58ffc4=>new Promise((_0x31d3d2,_0x1ef143)=>_0x58ffc4[_0x21995c(0x24d)](_0x5a49e8=>_0x5a49e8?_0x1ef143(_0x5a49e8):_0x31d3d2()));describe('RollingFileStream',function(){const _0xde71a2=_0x21995c,_0x1de44a={'OUAjw':function(_0x301fc0,_0xf1d8a2){return _0x301fc0(_0xf1d8a2);},'qnNXn':_0xde71a2(0x22d),'XZNqm':function(_0x2aab85,_0x481f5d){return _0x2aab85(_0x481f5d);},'ePiHp':'fileNameSep-extKept-backups.log','DDnEa':_0xde71a2(0x281),'sbgjp':_0xde71a2(0x298),'pFDBy':function(_0xe5ce0,_0x52857c){return _0xe5ce0(_0x52857c);},'dwkVy':function(_0x1ae035,_0xcd2fe8){return _0x1ae035(_0xcd2fe8);},'SggMm':_0xde71a2(0x296),'TchNw':function(_0x3ee26b,_0x2a0f21,_0x3d8bb7){return _0x3ee26b(_0x2a0f21,_0x3d8bb7);},'IMjjR':_0xde71a2(0x2e1),'EuABs':_0xde71a2(0x320),'xJgRI':'0666','EfSuX':_0xde71a2(0x200),'CTHLC':function(_0x3dd399,_0x4feec3){return _0x3dd399(_0x4feec3);},'kFswF':function(_0x283a43,_0x461a27){return _0x283a43(_0x461a27);},'AbofT':_0xde71a2(0x293),'lUKZv':function(_0x385f37,_0x112ff5){return _0x385f37===_0x112ff5;},'kEYsr':'apnbZ','Pvtkm':_0xde71a2(0x214),'cBbnd':function(_0x4bc085,_0x1ac819){return _0x4bc085+_0x1ac819;},'HzzGv':'should\x20be\x20generated\x20into\x20stream.options.numToKeep\x20from\x20options.numBackups','erHDI':'compressed-backups.log','zXrQs':_0xde71a2(0x27d),'ZNPUo':function(_0xc53e80,_0x166a39){return _0xc53e80!==_0x166a39;},'mtOwy':_0xde71a2(0x1f1),'zUpSq':function(_0x2299e6,_0x42a201){return _0x2299e6+_0x42a201;},'mtdwJ':function(_0x1c1680,_0x449c27){return _0x1c1680(_0x449c27);},'MFFaB':_0xde71a2(0x2ee),'JSMJK':function(_0x2fe426,_0x1fee3b,_0x395fb4){return _0x2fe426(_0x1fee3b,_0x395fb4);},'EklbM':_0xde71a2(0x21a),'SWulH':function(_0xce1378,_0x25ef25){return _0xce1378*_0x25ef25;},'ZPrrh':_0xde71a2(0x2aa),'yqpRb':_0xde71a2(0x22b),'EbCYi':function(_0x9d106,_0x48cff8,_0x23c9fa){return _0x9d106(_0x48cff8,_0x23c9fa);},'UWGpy':_0xde71a2(0x307),'cmJYN':function(_0x4633d9,_0xf8e069,_0x1dde21){return _0x4633d9(_0xf8e069,_0x1dde21);},'rojGP':_0xde71a2(0x2b0),'zGlpr':_0xde71a2(0x2cf),'iNBfE':_0xde71a2(0x32f),'VLiuh':_0xde71a2(0x238),'OEZbL':_0xde71a2(0x2ed),'PEfae':function(_0x160ad4,_0x1f7436,_0x23ef07){return _0x160ad4(_0x1f7436,_0x23ef07);},'rcIEm':_0xde71a2(0x330),'fqnFO':_0xde71a2(0x2b4),'qXKNh':_0xde71a2(0x2af),'mFLQJ':function(_0x3a04a3,_0x30a90a){return _0x3a04a3(_0x30a90a);},'qyPpV':function(_0x38b69e,_0x880fa2,_0x2c3371){return _0x38b69e(_0x880fa2,_0x2c3371);},'sJuZL':_0xde71a2(0x24e),'NRSwG':'This\x20is\x20the\x20fourth\x20log\x20message.\x0a','vnrbv':function(_0x2c5e1d,_0x1c4abe,_0x598640){return _0x2c5e1d(_0x1c4abe,_0x598640);},'sHgjM':_0xde71a2(0x309),'QxUwu':function(_0x131336,_0xb9941f){return _0x131336(_0xb9941f);},'eDPTK':'should\x20produce\x20three\x20files,\x20with\x20the\x20file-extension\x20kept','ljMak':_0xde71a2(0x248),'Jjvpo':_0xde71a2(0x280),'zGWUV':_0xde71a2(0x29e),'IcPCu':function(_0x296aa6,_0x5ab577,_0x41c902){return _0x296aa6(_0x5ab577,_0x41c902);},'ohBVV':function(_0x3272b5,_0x5a1af8){return _0x3272b5(_0x5a1af8);},'iIPQi':_0xde71a2(0x26d),'ikWkU':_0xde71a2(0x20b),'DLSut':_0xde71a2(0x234),'quxbN':_0xde71a2(0x308),'jNgHZ':function(_0x35c9b8,_0x353873,_0x5ed78b){return _0x35c9b8(_0x353873,_0x5ed78b);},'uQBGQ':_0xde71a2(0x286),'aowJg':'fileNameSep-backups.log_2','AEMOh':_0xde71a2(0x244),'kzuRD':'should\x20produce\x20three\x20files,\x20with\x20the\x20fileNameSep','vCTah':function(_0x1c0c70,_0x1cee2a){return _0x1c0c70(_0x1cee2a);},'Zxozy':function(_0x319beb,_0x31da95){return _0x319beb(_0x31da95);},'cvaCE':_0xde71a2(0x22c),'mNNgs':_0xde71a2(0x28b),'LgoWg':function(_0x25d5df,_0x56173){return _0x25d5df(_0x56173);},'MADNK':function(_0x355245,_0x22abd2,_0x383cba){return _0x355245(_0x22abd2,_0x383cba);},'eSQfR':_0xde71a2(0x26e),'XTToA':function(_0x46c96e,_0x40bd04){return _0x46c96e(_0x40bd04);},'XeCiC':function(_0x2c637e,_0x47ed0a,_0x408741){return _0x2c637e(_0x47ed0a,_0x408741);},'UWAAN':function(_0xe44211,_0x580ec8){return _0xe44211(_0x580ec8);},'JpptB':function(_0x3a4c23,_0x2fdec7){return _0x3a4c23(_0x2fdec7);},'qDAHE':function(_0xc861de,_0x55c02a){return _0xc861de(_0x55c02a);},'bNRCE':_0xde71a2(0x1ee),'VEyRU':_0xde71a2(0x231),'uVzJX':function(_0x980bad,_0x5c239a){return _0x980bad(_0x5c239a);},'EPeYn':_0xde71a2(0x235),'YhJFE':_0xde71a2(0x282),'PtXIZ':function(_0x3f29f1,_0x30f2ce){return _0x3f29f1(_0x30f2ce);},'ErCQG':'test-rolling-stream-with-existing-files.1.1','yrivL':function(_0x2b62e3,_0xea882a){return _0x2b62e3(_0xea882a);},'lAvxA':function(_0xc0c39e,_0x3abfe0){return _0xc0c39e(_0x3abfe0);},'xGSDI':function(_0x3c0b4f,_0x26d9be){return _0x3c0b4f(_0x26d9be);},'BsLfe':'test-rolling-stream-with-existing-files.-1','ihgGm':function(_0x287bc8,_0x228df5){return _0x287bc8(_0x228df5);},'GtruQ':'test-rolling-stream-with-existing-files.0','FCQcY':_0xde71a2(0x2a1),'njuAL':_0xde71a2(0x326),'AwaYh':'test-rolling-stream-with-existing-files.4','forlG':'test-rolling-stream-with-existing-files.5','YmTeK':_0xde71a2(0x2d6),'TPmTe':'test-rolling-stream-with-existing-files.1','uGuaS':function(_0x55de2e,_0x4b26f3){return _0x55de2e===_0x4b26f3;},'wicDG':'tvIVE','NSHPP':function(_0x3e9cef,_0xfb1f74){return _0x3e9cef(_0xfb1f74);},'Ejmsx':_0xde71a2(0x26c),'mJrBJ':'subdir','ztrGU':function(_0x17031b,_0x2b0271){return _0x17031b!==_0x2b0271;},'IeXFN':_0xde71a2(0x21e),'VcBfB':function(_0x57f3c2,_0x4b33de){return _0x57f3c2(_0x4b33de);},'OJVMe':_0xde71a2(0x2a5),'IEZeL':function(_0x546600,_0x21ed14){return _0x546600(_0x21ed14);},'XuSiB':function(_0xe25cab,_0xd76b3,_0x318314){return _0xe25cab(_0xd76b3,_0x318314);},'ogiyJ':_0xde71a2(0x2d0),'Wcimu':_0xde71a2(0x224),'LoGeP':_0xde71a2(0x335),'JNxTi':function(_0x3fc293,_0x444735,_0xc11133){return _0x3fc293(_0x444735,_0xc11133);},'QrCPm':_0xde71a2(0x274),'YSrMy':_0xde71a2(0x2fe),'SRjUe':_0xde71a2(0x2dc),'uXrEY':function(_0x14ebbd,_0x407479,_0x28310a){return _0x14ebbd(_0x407479,_0x28310a);},'zSorD':_0xde71a2(0x31e),'DwWVO':'when\x20many\x20files\x20already\x20exist','GjAto':_0xde71a2(0x209),'EoYpT':_0xde71a2(0x21d)};_0x1de44a['MADNK'](describe,_0xde71a2(0x27e),function(){const _0x3ebd8f=_0xde71a2,_0x3fec6a={'jMbXF':function(_0x327a5e,_0x408c55){return _0x327a5e+_0x408c55;}};if(_0x3ebd8f(0x2e8)==='iWhUQ'){let _0x119cda;_0x1de44a['pFDBy'](before,async function(){const _0x30f9df=_0x3ebd8f;await _0x1de44a['OUAjw'](remove,_0x30f9df(0x22d)),_0x119cda=new RollingFileStream(path[_0x30f9df(0x26a)](__dirname,_0x1de44a[_0x30f9df(0x22f)]),0x400,0x5);}),_0x1de44a[_0x3ebd8f(0x2dd)](after,async function(){const _0x3978ca=_0x3ebd8f;await _0x1de44a[_0x3978ca(0x2b5)](close,_0x119cda),await _0x1de44a['XZNqm'](remove,_0x1de44a[_0x3978ca(0x22f)]);}),new AsyncFunction(_0x1de44a[_0x3ebd8f(0x30c)])(),_0x1de44a[_0x3ebd8f(0x1fb)](it,_0x1de44a[_0x3ebd8f(0x23c)],function(){const _0x406b4a=_0x3ebd8f;_0x119cda[_0x406b4a(0x20d)]['be']['an']['instanceOf'](streams[_0x406b4a(0x2e3)]),_0x119cda[_0x406b4a(0x310)][_0x406b4a(0x20d)]['eql'](path['join'](__dirname,_0x1de44a[_0x406b4a(0x22f)])),_0x119cda[_0x406b4a(0x1ec)][_0x406b4a(0x20d)][_0x406b4a(0x24f)](0x400),_0x119cda['backups'][_0x406b4a(0x20d)][_0x406b4a(0x24f)](0x5);}),it(_0x1de44a[_0x3ebd8f(0x22e)],function(){const _0xb7039f=_0x3ebd8f,_0x298b73={'gzkEH':function(_0x1c9880,_0x11bec7){return _0x1c9880(_0x11bec7);},'PiPyK':_0xb7039f(0x30b),'YRHOz':_0x1de44a[_0xb7039f(0x269)],'RyHTX':_0x1de44a[_0xb7039f(0x30f)]};if(_0x1de44a[_0xb7039f(0x23e)]===_0xb7039f(0x2ba))return _0x298b73['gzkEH'](_0x551810,_0x298b73[_0xb7039f(0x2ad)])(),_0x2b281a[_0xb7039f(0x2ac)]([_0x56fe90(_0x298b73['YRHOz']),_0x298b73[_0xb7039f(0x2cc)](_0x13c5a6,_0xb7039f(0x22c)),_0x1184f0(_0x298b73[_0xb7039f(0x2e6)])]);else _0x119cda[_0xb7039f(0x29f)]['mode'][_0xb7039f(0x20d)][_0xb7039f(0x24f)](0x1a4),_0x119cda[_0xb7039f(0x29f)][_0xb7039f(0x232)][_0xb7039f(0x20d)][_0xb7039f(0x24f)]('a');});}else _0x11228f[_0x3ebd8f(0x203)]['numToKeep'][_0x3ebd8f(0x20d)]['eql'](_0x3fec6a[_0x3ebd8f(0x301)](_0xf6cc77['options'][_0x3ebd8f(0x1fe)],0x1));}),_0x1de44a[_0xde71a2(0x2bd)](describe,'with\x20stream\x20arguments',function(){const _0x4cb497=_0xde71a2;let _0x4b9145;_0x1de44a['TchNw'](it,_0x4cb497(0x2b1),function(){const _0x2bbf52=_0x4cb497;_0x4b9145=new RollingFileStream(path['join'](__dirname,_0x1de44a[_0x2bbf52(0x22f)]),0x400,0x5,{'mode':_0x1de44a[_0x2bbf52(0x1fb)](parseInt,'0666',0x8)}),_0x4b9145['theStream']['mode'][_0x2bbf52(0x20d)][_0x2bbf52(0x24f)](_0x1de44a['TchNw'](parseInt,_0x1de44a['xJgRI'],0x8));}),after(async function(){const _0x120ee6=_0x4cb497;_0x1de44a[_0x120ee6(0x220)]===_0x120ee6(0x200)?(await _0x1de44a[_0x120ee6(0x23d)](close,_0x4b9145),await remove(_0x120ee6(0x22d))):_0x2a6742['PI']*0x2;});}),_0x1de44a[_0xde71a2(0x2c2)](describe,_0x1de44a[_0xde71a2(0x2b9)],function(){let _0x4002ab;it('should\x20default\x20to\x20max\x20int\x20size',function(){const _0x29f2ef=_0x5423;_0x4002ab=new RollingFileStream(path[_0x29f2ef(0x26a)](__dirname,_0x29f2ef(0x22d))),_0x4002ab[_0x29f2ef(0x1ec)]['should'][_0x29f2ef(0x24f)](Number['MAX_SAFE_INTEGER']);}),_0x1de44a['CTHLC'](after,async function(){const _0xebcad1=_0x5423;await close(_0x4002ab),await remove(_0xebcad1(0x22d));});}),describe(_0xde71a2(0x2b8),function(){const _0x2d95fd=_0xde71a2,_0xfda304={'xzZQG':function(_0x33c3a8,_0x34d9ef){const _0x45b519=_0x5423;return _0x1de44a[_0x45b519(0x25f)](_0x33c3a8,_0x34d9ef);},'PrvMY':_0x2d95fd(0x22d)};let _0xdad449;it(_0x2d95fd(0x20a),function(){const _0x2f20b0=_0x2d95fd;_0xdad449=new RollingFileStream(path[_0x2f20b0(0x26a)](__dirname,_0x1de44a['qnNXn']),0x400),_0xdad449[_0x2f20b0(0x319)][_0x2f20b0(0x20d)][_0x2f20b0(0x24f)](0x1);}),after(async function(){const _0x4aa566=_0x2d95fd;await _0xfda304['xzZQG'](close,_0xdad449),await _0xfda304[_0x4aa566(0x216)](remove,_0xfda304[_0x4aa566(0x23f)]);});}),_0x1de44a['JSMJK'](describe,_0x1de44a[_0xde71a2(0x332)],()=>{const _0x232fd1=_0xde71a2,_0x46b7e5={'WCfRd':'subdir','PFCBc':_0x1de44a[_0x232fd1(0x336)]};_0x1de44a['lUKZv'](_0x232fd1(0x284),_0x1de44a[_0x232fd1(0x32a)])?(it(_0x232fd1(0x2d3),()=>{const _0x6c4add=_0x232fd1,_0x2d53bb={'rMUWO':_0x6c4add(0x22d)},_0x215767=-0x1;(()=>{const _0xf3d980=_0x6c4add;new RollingFileStream(path['join'](__dirname,_0x2d53bb[_0xf3d980(0x25b)]),0x400,_0x215767);})['should'][_0x6c4add(0x1f0)](_0x6c4add(0x204)+_0x215767+_0x6c4add(0x23b));}),it(_0x1de44a['Pvtkm'],()=>{const _0x14e302=_0x232fd1,_0x4536eb=Number['MAX_SAFE_INTEGER'];(()=>{const _0x2bbe8a=_0x5423;new RollingFileStream(path[_0x2bbe8a(0x26a)](__dirname,_0x2bbe8a(0x22d)),0x400,_0x4536eb);})[_0x14e302(0x20d)]['throw'](_0x14e302(0x204)+_0x4536eb+_0x14e302(0x239));})):(_0x45001a=new _0x158d30(_0x1a7578[_0x232fd1(0x26a)](_0x46b7e5[_0x232fd1(0x20c)],'test-rolling-file-stream'),0x5,0x5),_0x110fc1['write'](_0x46b7e5[_0x232fd1(0x1f4)],_0x232fd1(0x307),_0x466695));}),_0x1de44a[_0xde71a2(0x2a2)](describe,'using\x20backups',()=>{const _0x2c359b=_0xde71a2,_0x2c11a4={'TlMXg':_0x2c359b(0x22d),'fnHhP':_0x1de44a[_0x2c359b(0x1ef)],'BjjQw':function(_0x2e091f,_0x1d50c2){return _0x2e091f(_0x1d50c2);},'CKgMK':_0x2c359b(0x231),'uJuWv':_0x2c359b(0x279),'qdxBR':'hoxCZ','SmwdT':function(_0x3e6da7,_0xc991f5){const _0x1b9fd3=_0x2c359b;return _0x1de44a[_0x1b9fd3(0x23d)](_0x3e6da7,_0xc991f5);}};_0x1de44a[_0x2c359b(0x1fb)](describe,_0x2c359b(0x2f9),()=>{const _0x57ad6e=_0x2c359b,_0x165554={'pIjvL':function(_0x2a2e6d,_0x106fb0){const _0x5713c7=_0x5423;return _0x1de44a[_0x5713c7(0x329)](_0x2a2e6d,_0x106fb0);},'ttnxE':function(_0x559429,_0x11fd3a){return _0x559429(_0x11fd3a);}};if(_0x57ad6e(0x283)===_0x57ad6e(0x283)){let _0x4f81e9;_0x1de44a[_0x57ad6e(0x1fb)](it,'should\x20be\x20routed\x20from\x20backups\x20to\x20options.numBackups',function(){const _0x8eb9c2=_0x57ad6e;_0x4f81e9=new RollingFileStream(path[_0x8eb9c2(0x26a)](__dirname,_0x2c11a4[_0x8eb9c2(0x2ff)]),0x400,0x3),_0x4f81e9[_0x8eb9c2(0x203)]['numBackups'][_0x8eb9c2(0x20d)]['eql'](_0x4f81e9[_0x8eb9c2(0x319)]);}),_0x1de44a[_0x57ad6e(0x1fb)](it,_0x1de44a[_0x57ad6e(0x2f5)],function(){const _0x326b47=_0x57ad6e;_0x4f81e9[_0x326b47(0x203)][_0x326b47(0x295)][_0x326b47(0x20d)][_0x326b47(0x24f)](_0x165554[_0x326b47(0x313)](_0x4f81e9['options'][_0x326b47(0x1fe)],0x1));}),after(async function(){const _0x1eae4f=_0x57ad6e;await close(_0x4f81e9),await _0x165554['ttnxE'](remove,_0x1eae4f(0x22d));});}else return eval('_0x5927cf[\'PI\'] * 2;'),_0x12785a[_0x57ad6e(0x2ac)]([_0x333ac0(_0x2c11a4[_0x57ad6e(0x291)]),_0x2c11a4[_0x57ad6e(0x289)](_0x42a7ca,_0x2c11a4['CKgMK']),_0x596775(_0x57ad6e(0x1ee))]);}),describe('with\x20both\x20backups\x20and\x20options.numBackups',function(){const _0x52d744=_0x2c359b;let _0x462ff6;it(_0x52d744(0x294),function(){const _0xa48d0a=_0x52d744;if(_0x2c11a4[_0xa48d0a(0x2f0)]===_0x2c11a4[_0xa48d0a(0x315)])_0x1f00df[_0xa48d0a(0x29f)][_0xa48d0a(0x2b3)][_0xa48d0a(0x20d)][_0xa48d0a(0x24f)](0x1a4),_0x529bed['theStream'][_0xa48d0a(0x232)][_0xa48d0a(0x20d)]['eql']('a');else{const _0x289b01=_0xa48d0a(0x31d)[_0xa48d0a(0x2cd)]('|');let _0xfe4c0a=0x0;while(!![]){switch(_0x289b01[_0xfe4c0a++]){case'0':_0x462ff6[_0xa48d0a(0x319)][_0xa48d0a(0x20d)][_0xa48d0a(0x215)][_0xa48d0a(0x24f)](0x3);continue;case'1':_0x462ff6[_0xa48d0a(0x319)][_0xa48d0a(0x20d)][_0xa48d0a(0x24f)](0x9);continue;case'2':_0x462ff6['options'][_0xa48d0a(0x1fe)][_0xa48d0a(0x20d)][_0xa48d0a(0x24f)](0x9);continue;case'3':_0x462ff6=new RollingFileStream(path[_0xa48d0a(0x26a)](__dirname,_0x2c11a4[_0xa48d0a(0x2ff)]),0x400,0x3,{'numBackups':0x9});continue;case'4':_0x462ff6[_0xa48d0a(0x203)][_0xa48d0a(0x295)][_0xa48d0a(0x20d)][_0xa48d0a(0x24f)](0xa);continue;}break;}}}),_0x2c11a4[_0x52d744(0x289)](after,async function(){const _0x560156=_0x52d744;await _0x2c11a4['SmwdT'](close,_0x462ff6),await remove(_0x560156(0x22d));});});}),describe(_0xde71a2(0x213),function(){const _0x3bda41=_0xde71a2,_0x21295c={'PeBjz':function(_0x5a46ed,_0x30982b){const _0x4adbfa=_0x5423;return _0x1de44a[_0x4adbfa(0x2a6)](_0x5a46ed,_0x30982b);},'EcjDW':function(_0x1cbd2b,_0x5dc2db){return _0x1cbd2b(_0x5dc2db);},'TCoIN':_0x3bda41(0x27d),'dNjYA':function(_0x30d5c9,_0x4b9edb,_0x9620a3){const _0x4e3b2a=_0x3bda41;return _0x1de44a[_0x4e3b2a(0x1fb)](_0x30d5c9,_0x4b9edb,_0x9620a3);},'oUBWL':_0x1de44a[_0x3bda41(0x259)],'uPMEI':function(_0x4a776b,_0x15e01c){const _0x34be4c=_0x3bda41;return _0x1de44a[_0x34be4c(0x327)](_0x4a776b,_0x15e01c);}};_0x1de44a[_0x3bda41(0x2a4)](before,async function(){const _0xdaf91d=_0x3bda41;if(_0x21295c[_0xdaf91d(0x275)](_0xdaf91d(0x2c8),'ZgPxl')){await _0x21295c['EcjDW'](remove,_0x21295c[_0xdaf91d(0x206)]);const _0x27f866=new RollingFileStream(path['join'](__dirname,_0x21295c['TCoIN']),0x64);await _0x21295c[_0xdaf91d(0x2e0)](writeInSequence,_0x27f866,[_0xdaf91d(0x2a9)]);}else new _0x3de250(_0x33691e['join'](_0x3ae1d9,_0xdaf91d(0x22d)),0x400,_0x4028eb);}),_0x1de44a[_0x3bda41(0x1f8)](after,async function(){const _0x39a10c=_0x3bda41;await remove(_0x1de44a[_0x39a10c(0x32b)]);}),it(_0x1de44a[_0x3bda41(0x25e)],async function(){const _0x10cf25=_0x3bda41,_0xafc7b0=await fs[_0x10cf25(0x333)](path['join'](__dirname,_0x21295c[_0x10cf25(0x206)]),_0x10cf25(0x307));_0xafc7b0[_0x10cf25(0x20d)][_0x10cf25(0x24f)](_0x21295c[_0x10cf25(0x2ea)]);}),_0x1de44a[_0x3bda41(0x2fa)](it,_0x1de44a[_0x3bda41(0x1fc)],async function(){const _0x41d9f8=_0x3bda41,_0x4b7176={'uRaIf':function(_0x143b33,_0x177241){const _0x2a5828=_0x5423;return _0x21295c[_0x2a5828(0x28f)](_0x143b33,_0x177241);}};if(_0x21295c['PeBjz'](_0x41d9f8(0x218),_0x41d9f8(0x218)))YeURTE[_0x41d9f8(0x2c9)](0x1,0x1);else{const _0x52a871=await fs[_0x41d9f8(0x2c7)](__dirname);_0x52a871[_0x41d9f8(0x322)](_0x3cdeda=>_0x3cdeda[_0x41d9f8(0x2e9)](_0x41d9f8(0x27d))>-0x1)[_0x41d9f8(0x20d)][_0x41d9f8(0x207)][_0x41d9f8(0x221)](0x1);}});}),_0x1de44a['JNxTi'](describe,_0x1de44a[_0xde71a2(0x242)],function(){const _0x2ba9d0=_0xde71a2,_0x4c0131={'qHBiU':_0x1de44a['yqpRb'],'XvnHV':function(_0x2f4c7a,_0x398cdc){return _0x1de44a['dwkVy'](_0x2f4c7a,_0x398cdc);},'HAwzr':function(_0x2fbbff,_0x5c9d54,_0x32cc4d){return _0x1de44a['EbCYi'](_0x2fbbff,_0x5c9d54,_0x32cc4d);},'BUUWi':function(_0x4dfc15,_0x3e4453){return _0x4dfc15(_0x3e4453);},'RYEHX':_0x2ba9d0(0x227),'EpDMb':_0x1de44a[_0x2ba9d0(0x2c5)]};_0x1de44a['pFDBy'](before,async function(){const _0x3eb8b2=_0x2ba9d0;await remove(_0x4c0131['qHBiU']),await _0x4c0131[_0x3eb8b2(0x2f1)](remove,_0x3eb8b2(0x227));const _0xf45194=new RollingFileStream(path[_0x3eb8b2(0x26a)](__dirname,_0x4c0131['qHBiU']),0x2d);await _0x4c0131['HAwzr'](writeInSequence,_0xf45194,[0x0,0x1,0x2,0x3,0x4,0x5,0x6][_0x3eb8b2(0x28d)](_0x434aef=>_0x434aef+'.cheese'));}),after(async function(){const _0x20fadf=_0x2ba9d0;await remove(_0x20fadf(0x22b)),await _0x4c0131['BUUWi'](remove,_0x20fadf(0x227));}),_0x1de44a['cmJYN'](it,_0x1de44a[_0x2ba9d0(0x2da)],async function(){const _0x254b4a=_0x2ba9d0,_0x280b76={'oeesg':function(_0x1d87bb,_0x18a12c){const _0x77c2ee=_0x5423;return _0x1de44a[_0x77c2ee(0x2ae)](_0x1d87bb,_0x18a12c);}};if(_0x254b4a(0x2f4)!=='tGsoB')LmsBkv[_0x254b4a(0x2d8)](_0x5320be['PI'],0x2);else{const _0x20db61=await fs[_0x254b4a(0x2c7)](__dirname);_0x20db61['filter'](_0x3b655e=>_0x3b655e['indexOf'](_0x254b4a(0x22b))>-0x1)[_0x254b4a(0x20d)][_0x254b4a(0x207)][_0x254b4a(0x221)](0x2);}}),it(_0x1de44a[_0x2ba9d0(0x202)],async function(){const _0x4afde5=_0x2ba9d0,_0x5b0870=await fs[_0x4afde5(0x333)](path[_0x4afde5(0x26a)](__dirname,_0x4afde5(0x22b)),_0x4afde5(0x307));_0x5b0870['should'][_0x4afde5(0x24f)](_0x1de44a[_0x4afde5(0x268)]);}),it(_0x1de44a[_0x2ba9d0(0x1f2)],async function(){const _0x5592ef=_0x2ba9d0,_0x256a4f=await fs[_0x5592ef(0x333)](path[_0x5592ef(0x26a)](__dirname,_0x4c0131[_0x5592ef(0x260)]),_0x4c0131[_0x5592ef(0x2a3)]);_0x256a4f[_0x5592ef(0x20d)][_0x5592ef(0x24f)](_0x5592ef(0x30a));});}),_0x1de44a[_0xde71a2(0x276)](describe,_0x1de44a[_0xde71a2(0x30e)],function(){const _0x22e456=_0xde71a2,_0x5183ca={'zoUUf':_0x22e456(0x303),'WJeYU':function(_0x1d66f6,_0x4ceec5){const _0x1bb1e6=_0x22e456;return _0x1de44a[_0x1bb1e6(0x225)](_0x1d66f6,_0x4ceec5);},'LfjjR':_0x22e456(0x312)};before(async function(){const _0xe88f9c=_0x22e456;if(_0xe88f9c(0x208)!==_0xe88f9c(0x256)){const _0x72c195=new RollingFileStream(path[_0xe88f9c(0x26a)](__dirname,_0xe88f9c(0x303)),0x1e,0x2,{'compress':!![]}),_0x3d9c18=[_0x1de44a[_0xe88f9c(0x314)],_0xe88f9c(0x248),_0x1de44a['OEZbL'],_0xe88f9c(0x308)];await _0x1de44a[_0xe88f9c(0x276)](writeInSequence,_0x72c195,_0x3d9c18);}else _0x25c001['log'](_0xe88f9c(0x309));}),_0x1de44a[_0x22e456(0x2a2)](it,_0x1de44a[_0x22e456(0x272)],async function(){const _0x4feef7=_0x22e456,_0x4cb080=await fs[_0x4feef7(0x2c7)](__dirname),_0x3fbae1=_0x4cb080['filter'](_0x55480e=>_0x55480e[_0x4feef7(0x2e9)](_0x4feef7(0x303))>-0x1)[_0x4feef7(0x241)]();_0x3fbae1[_0x4feef7(0x221)][_0x4feef7(0x20d)][_0x4feef7(0x24f)](0x3),_0x3fbae1[_0x4feef7(0x20d)][_0x4feef7(0x24f)](['compressed-backups.log',_0x4feef7(0x312),_0x1de44a['rcIEm']]);let _0x53405c=await fs[_0x4feef7(0x333)](path['join'](__dirname,_0x3fbae1[0x0]),_0x4feef7(0x307));_0x53405c[_0x4feef7(0x20d)]['eql'](_0x4feef7(0x201));let _0x444786=await fs[_0x4feef7(0x333)](path[_0x4feef7(0x26a)](__dirname,_0x3fbae1[0x1]));_0x53405c=await gunzip(_0x444786),_0x53405c['toString'](_0x4feef7(0x307))['should'][_0x4feef7(0x24f)](_0x1de44a['fqnFO']),_0x444786=await fs['readFile'](path[_0x4feef7(0x26a)](__dirname,_0x3fbae1[0x2])),_0x53405c=await _0x1de44a['CTHLC'](gunzip,_0x444786),_0x53405c[_0x4feef7(0x250)](_0x4feef7(0x307))[_0x4feef7(0x20d)][_0x4feef7(0x24f)](_0x1de44a[_0x4feef7(0x228)]);}),after(function(){const _0x27b732=_0x22e456;return eval('1 + 1;'),Promise[_0x27b732(0x2ac)]([remove(_0x5183ca[_0x27b732(0x28e)]),_0x5183ca[_0x27b732(0x236)](remove,_0x5183ca[_0x27b732(0x2bb)]),remove(_0x27b732(0x330))]);});}),_0x1de44a[_0xde71a2(0x29c)](describe,_0x1de44a[_0xde71a2(0x251)],function(){const _0x2cfd09=_0xde71a2,_0x31a924={'hcIWa':_0x2cfd09(0x2df),'XQbei':_0x2cfd09(0x248),'cLikc':_0x2cfd09(0x308),'cPMOQ':function(_0x7653c1,_0x522404,_0x40666a){const _0x593794=_0x2cfd09;return _0x1de44a[_0x593794(0x28a)](_0x7653c1,_0x522404,_0x40666a);},'lsvuM':_0x1de44a['sHgjM'],'oFYLI':function(_0x5bf68b,_0x407b62,_0x3d0977){const _0x441b7e=_0x2cfd09;return _0x1de44a[_0x441b7e(0x1fb)](_0x5bf68b,_0x407b62,_0x3d0977);},'bzwea':function(_0x264334,_0x317223){return _0x264334(_0x317223);},'QxJLT':function(_0x3d7c3d,_0x26130a){const _0x3135ea=_0x2cfd09;return _0x1de44a[_0x3135ea(0x225)](_0x3d7c3d,_0x26130a);}};_0x1de44a[_0x2cfd09(0x24c)](before,async function(){const _0x1c59b6=_0x2cfd09,_0xbd66ea=new RollingFileStream(path[_0x1c59b6(0x26a)](__dirname,_0x31a924[_0x1c59b6(0x316)]),0x1e,0x2,{'keepFileExt':!![]}),_0x59c1be=[_0x1c59b6(0x238),_0x31a924[_0x1c59b6(0x318)],_0x1c59b6(0x2ed),_0x31a924[_0x1c59b6(0x237)]];await _0x31a924[_0x1c59b6(0x2cb)](writeInSequence,_0xbd66ea,_0x59c1be);}),_0x1de44a[_0x2cfd09(0x1fb)](it,_0x1de44a[_0x2cfd09(0x210)],async function(){const _0xfd7efb=_0x2cfd09,_0x20032f=await fs[_0xfd7efb(0x2c7)](__dirname),_0x581dca=_0x20032f[_0xfd7efb(0x322)](_0x10ea90=>_0x10ea90['indexOf'](_0xfd7efb(0x285))>-0x1)['sort']();_0x581dca[_0xfd7efb(0x221)][_0xfd7efb(0x20d)][_0xfd7efb(0x24f)](0x3),_0x581dca[_0xfd7efb(0x20d)][_0xfd7efb(0x24f)]([_0xfd7efb(0x297),'extKept-backups.2.log',_0xfd7efb(0x2df)]);let _0xacd78e=await fs['readFile'](path['join'](__dirname,_0x581dca[0x0]),_0xfd7efb(0x307));_0xacd78e[_0xfd7efb(0x20d)]['eql'](_0xfd7efb(0x2b4)),_0xacd78e=await fs[_0xfd7efb(0x333)](path['join'](__dirname,_0x581dca[0x1]),_0x1de44a[_0xfd7efb(0x2c5)]),_0xacd78e[_0xfd7efb(0x250)](_0xfd7efb(0x307))['should']['eql'](_0xfd7efb(0x2af)),_0xacd78e=await fs[_0xfd7efb(0x333)](path[_0xfd7efb(0x26a)](__dirname,_0x581dca[0x2]),_0x1de44a['UWGpy']),_0xacd78e[_0xfd7efb(0x250)](_0x1de44a[_0xfd7efb(0x2c5)])['should']['eql'](_0x1de44a[_0xfd7efb(0x22a)]);}),_0x1de44a[_0x2cfd09(0x2a4)](after,function(){const _0x5bddff=_0x2cfd09,_0x2e8024={'WqwdE':_0x31a924[_0x5bddff(0x2d4)]};return _0x31a924[_0x5bddff(0x323)](setTimeout,function(){const _0x5eb259=_0x5bddff;console[_0x5eb259(0x2bc)](_0x2e8024[_0x5eb259(0x1ed)]);},0x64),Promise['all']([_0x31a924[_0x5bddff(0x243)](remove,_0x5bddff(0x2df)),_0x31a924[_0x5bddff(0x243)](remove,_0x5bddff(0x297)),_0x31a924[_0x5bddff(0x25a)](remove,'extKept-backups.2.log')]);});}),_0x1de44a[_0xde71a2(0x273)](describe,'with\x20options.compress\x20=\x20true\x20and\x20keepFileExt\x20=\x20true',function(){const _0x5c8ec2=_0xde71a2,_0x368829={'gtvDa':function(_0x4ff7bd,_0x1ae6ee){return _0x4ff7bd(_0x1ae6ee);},'DzxkI':'return\x20new\x20Date();','GmWPZ':_0x5c8ec2(0x280),'kNTKw':_0x1de44a[_0x5c8ec2(0x263)]};'SAqBF'===_0x5c8ec2(0x1ff)?(_0x1de44a[_0x5c8ec2(0x288)](before,async function(){const _0x257eeb=_0x5c8ec2,_0x1d998a=new RollingFileStream(path[_0x257eeb(0x26a)](__dirname,_0x257eeb(0x303)),0x1e,0x2,{'compress':!![],'keepFileExt':!![]}),_0x15aa04=[_0x1de44a[_0x257eeb(0x314)],_0x1de44a[_0x257eeb(0x247)],_0x1de44a[_0x257eeb(0x1fd)],_0x257eeb(0x308)];await writeInSequence(_0x1d998a,_0x15aa04);}),_0x1de44a[_0x5c8ec2(0x2bd)](it,'should\x20produce\x20three\x20files,\x20with\x20the\x20backups\x20compressed',async function(){const _0x31b99c=_0x5c8ec2,_0x47cfdc=await fs[_0x31b99c(0x2c7)](__dirname),_0x5d8eb1=_0x47cfdc['filter'](_0x26dc3b=>_0x26dc3b[_0x31b99c(0x2e9)](_0x31b99c(0x2ce))>-0x1)[_0x31b99c(0x241)]();_0x5d8eb1[_0x31b99c(0x221)][_0x31b99c(0x20d)][_0x31b99c(0x24f)](0x3),_0x5d8eb1[_0x31b99c(0x20d)][_0x31b99c(0x24f)]([_0x1de44a[_0x31b99c(0x1f9)],_0x1de44a[_0x31b99c(0x263)],_0x1de44a[_0x31b99c(0x1ef)]]);let _0x118e34=await fs[_0x31b99c(0x333)](path[_0x31b99c(0x26a)](__dirname,_0x5d8eb1[0x2]),_0x31b99c(0x307));_0x118e34[_0x31b99c(0x20d)][_0x31b99c(0x24f)](_0x31b99c(0x201));let _0x2bcd4d=await fs[_0x31b99c(0x333)](path[_0x31b99c(0x26a)](__dirname,_0x5d8eb1[0x1]));_0x118e34=await _0x1de44a['OUAjw'](gunzip,_0x2bcd4d),_0x118e34[_0x31b99c(0x250)](_0x1de44a[_0x31b99c(0x2c5)])[_0x31b99c(0x20d)][_0x31b99c(0x24f)](_0x31b99c(0x2af)),_0x2bcd4d=await fs[_0x31b99c(0x333)](path[_0x31b99c(0x26a)](__dirname,_0x5d8eb1[0x0])),_0x118e34=await _0x1de44a[_0x31b99c(0x225)](gunzip,_0x2bcd4d),_0x118e34[_0x31b99c(0x250)](_0x31b99c(0x307))[_0x31b99c(0x20d)][_0x31b99c(0x24f)](_0x1de44a[_0x31b99c(0x305)]);}),_0x1de44a[_0x5c8ec2(0x2be)](after,function(){const _0xa48e27=_0x5c8ec2;return _0x368829[_0xa48e27(0x264)](Function,_0x368829[_0xa48e27(0x2f3)])(),Promise[_0xa48e27(0x2ac)]([remove(_0xa48e27(0x303)),remove(_0x368829[_0xa48e27(0x2d2)]),remove(_0x368829['kNTKw'])]);})):_0x47d123(_0x1f3a77);}),describe(_0xde71a2(0x2d7),function(){const _0x4b09df=_0xde71a2,_0x5656e4={'uOSVi':function(_0x3614d3,_0x5a4d64){const _0x897e2=_0x5423;return _0x1de44a[_0x897e2(0x25f)](_0x3614d3,_0x5a4d64);},'gHkNU':function(_0x210f63,_0x433920){return _0x1de44a['XZNqm'](_0x210f63,_0x433920);}};before(async function(){const _0x59d731=_0x5423,_0x31a590={'WzCEe':_0x1de44a[_0x59d731(0x331)],'dbQzS':function(_0x5f3f7e,_0x59cc38){return _0x5f3f7e(_0x59cc38);},'kMTTx':_0x1de44a[_0x59d731(0x27a)]};if(_0x1de44a[_0x59d731(0x24a)](_0x1de44a['DLSut'],'gOlRy')){const _0x4cfc8e=new RollingFileStream(path['join'](__dirname,_0x59d731(0x244)),0x1e,0x2,{'fileNameSep':'_'}),_0x3bcc34=[_0x59d731(0x238),_0x59d731(0x248),_0x59d731(0x2ed),_0x1de44a[_0x59d731(0x205)]];await _0x1de44a['jNgHZ'](writeInSequence,_0x4cfc8e,_0x3bcc34);}else return _0xaf422c(_0x31a590[_0x59d731(0x31b)],0x3e8),_0x5989c4[_0x59d731(0x2ac)]([_0x4403c3(_0x59d731(0x303)),_0x168ebb(_0x59d731(0x26e)),_0x31a590[_0x59d731(0x2db)](_0x5ec292,_0x31a590['kMTTx'])]);}),_0x1de44a[_0x4b09df(0x27b)](it,_0x1de44a[_0x4b09df(0x1fa)],async function(){const _0xa95ee8=_0x4b09df,_0x1dd27c=await fs[_0xa95ee8(0x2c7)](__dirname),_0x244a80=_0x1dd27c[_0xa95ee8(0x322)](_0x23881b=>_0x23881b[_0xa95ee8(0x2e9)](_0xa95ee8(0x31c))>-0x1)['sort']();_0x244a80[_0xa95ee8(0x221)][_0xa95ee8(0x20d)][_0xa95ee8(0x24f)](0x3),_0x244a80['should'][_0xa95ee8(0x24f)]([_0x1de44a[_0xa95ee8(0x2ca)],_0x1de44a[_0xa95ee8(0x252)],_0x1de44a[_0xa95ee8(0x26b)]][_0xa95ee8(0x241)]());let _0x4a2890=await fs[_0xa95ee8(0x333)](path[_0xa95ee8(0x26a)](__dirname,_0x244a80[0x0]),_0xa95ee8(0x307));_0x4a2890[_0xa95ee8(0x20d)]['eql'](_0xa95ee8(0x201)),_0x4a2890=await fs['readFile'](path[_0xa95ee8(0x26a)](__dirname,_0x244a80[0x1]),_0x1de44a['UWGpy']),_0x4a2890[_0xa95ee8(0x250)](_0xa95ee8(0x307))['should'][_0xa95ee8(0x24f)](_0x1de44a[_0xa95ee8(0x305)]),_0x4a2890=await fs['readFile'](path[_0xa95ee8(0x26a)](__dirname,_0x244a80[0x2]),_0xa95ee8(0x307)),_0x4a2890['toString'](_0x1de44a[_0xa95ee8(0x2c5)])[_0xa95ee8(0x20d)]['eql']('This\x20is\x20the\x20second\x20log\x20message.\x0a');}),_0x1de44a[_0x4b09df(0x2ec)](after,function(){const _0x537d4a=_0x4b09df;return _0x5656e4[_0x537d4a(0x321)](Function,_0x537d4a(0x28b))(),Promise[_0x537d4a(0x2ac)]([remove(_0x537d4a(0x244)),remove(_0x537d4a(0x286)),_0x5656e4[_0x537d4a(0x262)](remove,_0x537d4a(0x1f5))]);});}),describe(_0xde71a2(0x20e),function(){const _0x253de7=_0xde71a2,_0x3d573a={'DZLVJ':'fileNameSep-extKept-backups.log','fVEhs':_0x253de7(0x238),'SQTgt':'This\x20is\x20the\x20third\x20log\x20message.','wgpkJ':_0x1de44a[_0x253de7(0x30f)],'VVrSB':_0x253de7(0x307)};if(_0x253de7(0x253)!==_0x253de7(0x246))_0x1de44a[_0x253de7(0x25f)](before,async function(){const _0x465471=_0x253de7,_0x5bcf4f=new RollingFileStream(path[_0x465471(0x26a)](__dirname,_0x3d573a[_0x465471(0x267)]),0x1e,0x2,{'fileNameSep':'_','keepFileExt':!![]}),_0x3eba1e=[_0x3d573a[_0x465471(0x2f8)],_0x465471(0x248),_0x3d573a[_0x465471(0x2f6)],'This\x20is\x20the\x20fourth\x20log\x20message.'];await writeInSequence(_0x5bcf4f,_0x3eba1e);}),_0x1de44a[_0x253de7(0x2b2)](it,_0x1de44a['eDPTK'],async function(){const _0x32c1ba=_0x253de7,_0xd0856d=await fs['readdir'](__dirname),_0xddfd7=_0xd0856d[_0x32c1ba(0x322)](_0x3129eb=>_0x3129eb[_0x32c1ba(0x2e9)](_0x32c1ba(0x226))>-0x1)[_0x32c1ba(0x241)]();_0xddfd7[_0x32c1ba(0x221)][_0x32c1ba(0x20d)][_0x32c1ba(0x24f)](0x3),_0xddfd7['should'][_0x32c1ba(0x24f)]([_0x32c1ba(0x22c),_0x3d573a[_0x32c1ba(0x229)],_0x3d573a[_0x32c1ba(0x267)]][_0x32c1ba(0x241)]());let _0x402328=await fs[_0x32c1ba(0x333)](path[_0x32c1ba(0x26a)](__dirname,_0xddfd7[0x0]),_0x32c1ba(0x307));_0x402328[_0x32c1ba(0x20d)][_0x32c1ba(0x24f)]('This\x20is\x20the\x20fourth\x20log\x20message.\x0a'),_0x402328=await fs['readFile'](path['join'](__dirname,_0xddfd7[0x1]),_0x3d573a['VVrSB']),_0x402328[_0x32c1ba(0x250)](_0x32c1ba(0x307))[_0x32c1ba(0x20d)]['eql'](_0x32c1ba(0x2b4)),_0x402328=await fs[_0x32c1ba(0x333)](path[_0x32c1ba(0x26a)](__dirname,_0xddfd7[0x2]),_0x3d573a[_0x32c1ba(0x2c0)]),_0x402328[_0x32c1ba(0x250)](_0x32c1ba(0x307))[_0x32c1ba(0x20d)]['eql']('This\x20is\x20the\x20second\x20log\x20message.\x0a');}),_0x1de44a[_0x253de7(0x1f8)](after,function(){const _0x2791ab=_0x253de7;return Function('return\x20Object.keys({a:1});')(),Promise['all']([_0x1de44a[_0x2791ab(0x217)](remove,_0x1de44a['ePiHp']),remove(_0x1de44a['cvaCE']),remove(_0x1de44a[_0x2791ab(0x30f)])]);});else return _0x1de44a[_0x253de7(0x25f)](_0x54e495,_0x1de44a[_0x253de7(0x2ef)])(),_0x2e1696[_0x253de7(0x2ac)]([_0x1a48ec(_0x1de44a['AEMOh']),_0x1de44a[_0x253de7(0x2fc)](_0x287e8f,_0x1de44a[_0x253de7(0x2ca)]),_0x328d23('fileNameSep-backups.log_2')]);}),_0x1de44a[_0xde71a2(0x27b)](describe,'with\x20options.fileNameSep\x20=\x20\x22_\x22\x20and\x20options.compress\x20=\x20true',function(){const _0x17f6f1=_0xde71a2,_0x259a50={'DXcGm':_0x1de44a[_0x17f6f1(0x22f)],'ITZXS':_0x1de44a[_0x17f6f1(0x247)]};before(async function(){const _0x5e3971=_0x17f6f1,_0x4ebe30={'XlxVx':_0x259a50[_0x5e3971(0x245)]};if(_0x5e3971(0x32c)===_0x5e3971(0x32c)){const _0x3fef5e=new RollingFileStream(path[_0x5e3971(0x26a)](__dirname,_0x5e3971(0x303)),0x1e,0x2,{'fileNameSep':'_','compress':!![]}),_0x206a50=['This\x20is\x20the\x20first\x20log\x20message.',_0x259a50[_0x5e3971(0x2d1)],_0x5e3971(0x2ed),_0x5e3971(0x308)];await writeInSequence(_0x3fef5e,_0x206a50);}else{const _0xf9a13a=_0x4ce26e[_0x5e3971(0x26f)];(()=>{const _0x263621=_0x5e3971;new _0xdfff66(_0x2d0bd0[_0x263621(0x26a)](_0x468d43,_0x4ebe30['XlxVx']),0x400,_0xf9a13a);})[_0x5e3971(0x20d)]['throw'](_0x5e3971(0x204)+_0xf9a13a+')\x20should\x20be\x20<\x20Number.MAX_SAFE_INTEGER');}}),it(_0x17f6f1(0x24e),async function(){const _0x161c57=_0x17f6f1,_0x36f8e9=await fs[_0x161c57(0x2c7)](__dirname),_0x523eff=_0x36f8e9[_0x161c57(0x322)](_0xf096a3=>_0xf096a3['indexOf'](_0x161c57(0x2ce))>-0x1)[_0x161c57(0x241)]();_0x523eff[_0x161c57(0x221)][_0x161c57(0x20d)][_0x161c57(0x24f)](0x3),_0x523eff[_0x161c57(0x20d)]['eql']([_0x1de44a[_0x161c57(0x299)],_0x161c57(0x20b),_0x161c57(0x303)][_0x161c57(0x241)]());let _0x206c2e=await fs['readFile'](path[_0x161c57(0x26a)](__dirname,_0x523eff[0x0]),_0x1de44a[_0x161c57(0x2c5)]);_0x206c2e[_0x161c57(0x20d)][_0x161c57(0x24f)](_0x1de44a['NRSwG']);let _0x125493=await fs[_0x161c57(0x333)](path[_0x161c57(0x26a)](__dirname,_0x523eff[0x1]));_0x206c2e=await _0x1de44a[_0x161c57(0x25f)](gunzip,_0x125493),_0x206c2e[_0x161c57(0x250)](_0x1de44a['UWGpy'])[_0x161c57(0x20d)][_0x161c57(0x24f)](_0x1de44a[_0x161c57(0x305)]),_0x125493=await fs['readFile'](path[_0x161c57(0x26a)](__dirname,_0x523eff[0x2])),_0x206c2e=await _0x1de44a[_0x161c57(0x2b6)](gunzip,_0x125493),_0x206c2e['toString'](_0x161c57(0x307))[_0x161c57(0x20d)][_0x161c57(0x24f)](_0x1de44a[_0x161c57(0x228)]);}),after(function(){const _0x4f0a8a=_0x17f6f1;return _0x1de44a[_0x4f0a8a(0x2c2)](setTimeout,_0x1de44a[_0x4f0a8a(0x331)],0x3e8),Promise[_0x4f0a8a(0x2ac)]([_0x1de44a[_0x4f0a8a(0x29d)](remove,_0x1de44a[_0x4f0a8a(0x1ef)]),remove(_0x1de44a[_0x4f0a8a(0x299)]),remove(_0x1de44a[_0x4f0a8a(0x27a)])]);});}),_0x1de44a[_0xde71a2(0x276)](describe,_0x1de44a[_0xde71a2(0x2e5)],function(){const _0x2dfe3b=_0xde71a2,_0x351568={'PDwNG':_0x1de44a['erHDI'],'IOYvs':_0x2dfe3b(0x248),'fnkLc':_0x1de44a[_0x2dfe3b(0x205)],'VKKYq':_0x2dfe3b(0x20f),'tAwqw':_0x1de44a[_0x2dfe3b(0x2e4)],'AFQcp':_0x2dfe3b(0x1ee),'aWdqF':_0x1de44a[_0x2dfe3b(0x2c5)],'GWFzj':function(_0x2af1ef,_0x1569bd){return _0x2af1ef(_0x1569bd);}};_0x1de44a[_0x2dfe3b(0x2ab)](before,async function(){const _0x3e25d7=_0x2dfe3b,_0x4beeae=new RollingFileStream(path[_0x3e25d7(0x26a)](__dirname,_0x351568[_0x3e25d7(0x2a7)]),0x1e,0x2,{'fileNameSep':'_','compress':!![],'keepFileExt':!![]}),_0x349850=[_0x3e25d7(0x238),_0x351568[_0x3e25d7(0x266)],'This\x20is\x20the\x20third\x20log\x20message.',_0x351568[_0x3e25d7(0x255)]];await writeInSequence(_0x4beeae,_0x349850);}),_0x1de44a[_0x2dfe3b(0x2c2)](it,_0x1de44a[_0x2dfe3b(0x272)],async function(){const _0x173338=_0x2dfe3b;if(_0x173338(0x20f)!==_0x351568['VKKYq']){const _0x645609={'huBGS':_0x173338(0x22d)},_0x554713=-0x1;(()=>{const _0x4238de=_0x173338;new _0x39994b(_0xe1f616[_0x4238de(0x26a)](_0x20e444,_0x645609[_0x4238de(0x27c)]),0x400,_0x554713);})[_0x173338(0x20d)][_0x173338(0x1f0)]('options.numBackups\x20('+_0x554713+')\x20should\x20be\x20>=\x200');}else{const _0x39e84a=await fs[_0x173338(0x2c7)](__dirname),_0x13a07d=_0x39e84a[_0x173338(0x322)](_0x5beb44=>_0x5beb44[_0x173338(0x2e9)](_0x173338(0x2ce))>-0x1)[_0x173338(0x241)]();_0x13a07d[_0x173338(0x221)][_0x173338(0x20d)][_0x173338(0x24f)](0x3),_0x13a07d['should'][_0x173338(0x24f)]([_0x351568[_0x173338(0x2eb)],_0x351568[_0x173338(0x211)],_0x351568[_0x173338(0x2a7)]][_0x173338(0x241)]());let _0x254c18=await fs[_0x173338(0x333)](path[_0x173338(0x26a)](__dirname,_0x13a07d[0x0]),'utf8');_0x254c18['should'][_0x173338(0x24f)]('This\x20is\x20the\x20fourth\x20log\x20message.\x0a');let _0x107adf=await fs[_0x173338(0x333)](path[_0x173338(0x26a)](__dirname,_0x13a07d[0x1]));_0x254c18=await gunzip(_0x107adf),_0x254c18['toString'](_0x351568[_0x173338(0x290)])['should'][_0x173338(0x24f)](_0x173338(0x2b4)),_0x107adf=await fs[_0x173338(0x333)](path[_0x173338(0x26a)](__dirname,_0x13a07d[0x2])),_0x254c18=await _0x351568[_0x173338(0x1f7)](gunzip,_0x107adf),_0x254c18[_0x173338(0x250)](_0x351568[_0x173338(0x290)])[_0x173338(0x20d)][_0x173338(0x24f)]('This\x20is\x20the\x20second\x20log\x20message.\x0a');}}),after(function(){const _0x5d8ffd=_0x2dfe3b,_0x4a02e9={'wTleU':function(_0x1348d7,_0x20d671){const _0x5aa09c=_0x5423;return _0x1de44a[_0x5aa09c(0x2ae)](_0x1348d7,_0x20d671);}};return eval('_0x4a02e9[\'wTleU\'](Math[\'PI\'], 2);'),Promise[_0x5d8ffd(0x2ac)]([remove(_0x1de44a[_0x5d8ffd(0x1ef)]),_0x1de44a[_0x5d8ffd(0x306)](remove,'compressed-backups_1.log.gz'),_0x1de44a['qDAHE'](remove,_0x1de44a[_0x5d8ffd(0x311)])]);});}),describe(_0x1de44a[_0xde71a2(0x324)],function(){const _0x58c480=_0xde71a2,_0x4bd9fd={'cyQTr':_0x1de44a[_0x58c480(0x300)],'qoneu':_0x1de44a['AwaYh']};_0x1de44a[_0x58c480(0x31a)](_0x1de44a[_0x58c480(0x2d9)],_0x58c480(0x30d))?(_0x1de44a['NSHPP'](before,async function(){const _0x3f334e=_0x58c480;await Promise[_0x3f334e(0x2ac)]([remove(_0x1de44a['EPeYn']),remove(_0x1de44a[_0x3f334e(0x29b)]),remove(_0x3f334e(0x27f)),_0x1de44a['PtXIZ'](remove,_0x1de44a[_0x3f334e(0x223)]),_0x1de44a[_0x3f334e(0x2fc)](remove,_0x3f334e(0x2f2))]),await Promise[_0x3f334e(0x2ac)]([_0x1de44a['yrivL'](create,_0x3f334e(0x235)),_0x1de44a[_0x3f334e(0x292)](create,_0x1de44a['YhJFE']),_0x1de44a['xGSDI'](create,_0x1de44a['BsLfe']),create(_0x3f334e(0x1f6)),_0x1de44a[_0x3f334e(0x25c)](create,_0x3f334e(0x2f2))]);const _0x170e9d=new RollingFileStream(path[_0x3f334e(0x26a)](__dirname,_0x3f334e(0x25d)),0x12,0x5);await writeInSequence(_0x170e9d,[0x0,0x1,0x2,0x3,0x4,0x5,0x6][_0x3f334e(0x28d)](_0x227df6=>_0x227df6+_0x3f334e(0x270)));}),_0x1de44a['ohBVV'](after,function(){const _0x504272=_0x58c480;return _0x1de44a[_0x504272(0x25f)](Function,'return\x20Object.keys({a:1});')(),Promise[_0x504272(0x2ac)]([_0x504272(0x27f),_0x504272(0x25d),_0x1de44a['ErCQG'],_0x1de44a[_0x504272(0x29a)],_0x504272(0x2f2),_0x1de44a['FCQcY'],_0x1de44a[_0x504272(0x2c3)],_0x1de44a['AwaYh'],_0x1de44a[_0x504272(0x2a0)],_0x1de44a[_0x504272(0x219)],_0x1de44a['EPeYn'],_0x504272(0x282)]['map'](remove));}),it(_0x1de44a[_0x58c480(0x2bf)],async function(){const _0x532327=_0x58c480,_0x4a1dc8=await fs[_0x532327(0x2c7)](__dirname);_0x4a1dc8['should'][_0x532327(0x2c1)](_0x532327(0x25d)),_0x4a1dc8[_0x532327(0x20d)][_0x532327(0x2c1)](_0x4bd9fd['cyQTr']),_0x4a1dc8[_0x532327(0x20d)]['containEql'](_0x532327(0x2a1)),_0x4a1dc8[_0x532327(0x20d)]['containEql']('test-rolling-stream-with-existing-files.3'),_0x4a1dc8['should'][_0x532327(0x2c1)](_0x4bd9fd[_0x532327(0x328)]);})):(_0x2e6021=new _0x3c8ea7(_0xd4eac6['join'](_0x524214,_0x1de44a[_0x58c480(0x22f)]),0x400),_0x4103e8[_0x58c480(0x319)][_0x58c480(0x20d)][_0x58c480(0x24f)](0x1));}),process[_0xde71a2(0x2fb)]!==_0x1de44a[_0xde71a2(0x2f7)]&&_0x1de44a[_0xde71a2(0x273)](describe,_0x1de44a[_0xde71a2(0x2d5)],function(){const _0x3876fb=_0xde71a2,_0x2fd3f8={'OuXFg':_0x1de44a['IeXFN'],'MiQYJ':_0x3876fb(0x22d),'WKsRU':function(_0x1290c8,_0x42331d){return _0x1de44a['VcBfB'](_0x1290c8,_0x42331d);},'ifaia':'subdir','TSWph':_0x1de44a[_0x3876fb(0x1f3)]};var _0x181439;_0x1de44a['IEZeL'](before,function(_0x394cb0){const _0x140643=_0x3876fb;_0x181439=new RollingFileStream(path['join'](_0x1de44a['mJrBJ'],_0x1de44a['qnNXn']),0x5,0x5),_0x181439[_0x140643(0x24b)](_0x1de44a['AbofT'],_0x140643(0x307),_0x394cb0);}),_0x1de44a['lAvxA'](after,async()=>{const _0x435bb1=_0x3876fb;if(_0x1de44a[_0x435bb1(0x32d)](_0x435bb1(0x2e7),_0x435bb1(0x230)))await fs[_0x435bb1(0x334)](path[_0x435bb1(0x26a)](_0x1de44a[_0x435bb1(0x32e)],_0x1de44a[_0x435bb1(0x22f)])),await fs[_0x435bb1(0x21c)](_0x435bb1(0x31f));else throw _0x4c0bcb;}),_0x1de44a['XuSiB'](it,_0x1de44a[_0x3876fb(0x317)],async function(){const _0x25a7c5=_0x3876fb;_0x181439[_0x25a7c5(0x29f)]['on'](_0x2fd3f8[_0x25a7c5(0x21b)],_0xf4424d=>{throw _0xf4424d;}),await fs[_0x25a7c5(0x334)](path['join'](_0x25a7c5(0x31f),_0x2fd3f8['MiQYJ'])),await fs[_0x25a7c5(0x21c)](_0x25a7c5(0x31f)),await new Promise(_0x3f1c6f=>_0x181439[_0x25a7c5(0x24b)]('rollover',_0x25a7c5(0x307),_0x3f1c6f)),await _0x2fd3f8[_0x25a7c5(0x23a)](close,_0x181439),(await fs[_0x25a7c5(0x333)](path[_0x25a7c5(0x26a)](_0x2fd3f8['ifaia'],_0x25a7c5(0x22d)),_0x25a7c5(0x307)))['should'][_0x25a7c5(0x24f)](_0x2fd3f8[_0x25a7c5(0x2c4)]);});});});