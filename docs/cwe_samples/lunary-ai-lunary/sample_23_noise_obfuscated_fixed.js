const _0x5a4d16=_0x18d9;(function(_0x35a4c6,_0x2aa4ec){const _0xa83a76=_0x18d9,_0x4d9144=_0x35a4c6();while(!![]){try{const _0x3d1b61=-parseInt(_0xa83a76(0x1d9))/0x1+parseInt(_0xa83a76(0x246))/0x2+-parseInt(_0xa83a76(0x1ad))/0x3*(parseInt(_0xa83a76(0x248))/0x4)+-parseInt(_0xa83a76(0x238))/0x5*(-parseInt(_0xa83a76(0x22a))/0x6)+-parseInt(_0xa83a76(0x2e2))/0x7*(-parseInt(_0xa83a76(0x1dc))/0x8)+-parseInt(_0xa83a76(0x1f8))/0x9*(-parseInt(_0xa83a76(0x1bb))/0xa)+-parseInt(_0xa83a76(0x299))/0xb;if(_0x3d1b61===_0x2aa4ec)break;else _0x4d9144['push'](_0x4d9144['shift']());}catch(_0x4331b8){_0x4d9144['push'](_0x4d9144['shift']());}}}(_0x1b3c,0xd770a),require('should'));const fs=require(_0x5a4d16(0x2c5)),path=require(_0x5a4d16(0x2e0)),zlib=require('zlib'),proxyquire=require('proxyquire')[_0x5a4d16(0x1a4)](),util=require('util'),streams=require(_0x5a4d16(0x2eb));let fakeNow=new Date(0x7dc,0x8,0xc,0xa,0x25,0xb);function _0x18d9(_0x47b7b6,_0x41705b){const _0x1b3cad=_0x1b3c();return _0x18d9=function(_0x18d95b,_0x46ec44){_0x18d95b=_0x18d95b-0x18d;let _0x1f59f6=_0x1b3cad[_0x18d95b];return _0x1f59f6;},_0x18d9(_0x47b7b6,_0x41705b);}const mockNow=()=>fakeNow,RollingFileWriteStream=proxyquire(_0x5a4d16(0x2fc),{'./now':mockNow}),DateRollingFileStream=proxyquire(_0x5a4d16(0x222),{'./RollingFileWriteStream':RollingFileWriteStream}),gunzip=util[_0x5a4d16(0x1ba)](zlib[_0x5a4d16(0x1f2)]),gzip=util[_0x5a4d16(0x1ba)](zlib[_0x5a4d16(0x1be)]),remove=_0x42bb25=>fs['unlink'](_0x42bb25)[_0x5a4d16(0x2ed)](()=>{}),close=async _0x201b52=>new Promise((_0x362e5c,_0x5efe95)=>_0x201b52['end'](_0x450afc=>_0x450afc?_0x5efe95(_0x450afc):_0x362e5c()));describe('DateRollingFileStream',function(){const _0xfbdcb3=_0x5a4d16,_0x52b512={'xEbZR':'yyyy-MM-dd.hh','vOAIc':'test-date-rolling-file-stream-1','cdfPU':function(_0x55f349,_0x55139c){return _0x55f349+_0x55139c;},'lWWub':function(_0x40d65e,_0x1a47f6){return _0x40d65e(_0x1a47f6);},'VLrbZ':_0xfbdcb3(0x22d),'qgIYc':function(_0xdf4d3c,_0x37fbf0){return _0xdf4d3c(_0x37fbf0);},'DaFur':function(_0x24f471,_0x37f373,_0x9a846d){return _0x24f471(_0x37f373,_0x9a846d);},'JahNk':_0xfbdcb3(0x2e8),'CfgHS':function(_0x57fbaa,_0x29d669){return _0x57fbaa(_0x29d669);},'TsPTQ':function(_0x1e31e6,_0x17aad0,_0x694391){return _0x1e31e6(_0x17aad0,_0x694391);},'yhxuD':'test-date-rolling-file-stream-4','IBOOq':_0xfbdcb3(0x1ff),'ZOHRR':'utf8','EkWJl':_0xfbdcb3(0x255),'WWyrH':function(_0x3c3129,_0x5702d4){return _0x3c3129(_0x5702d4);},'VyeTQ':_0xfbdcb3(0x2a2),'SkZYR':function(_0x248b0b,_0x4a3ab9){return _0x248b0b(_0x4a3ab9);},'yxBIM':_0xfbdcb3(0x27d),'ZRNxC':function(_0xfa8cfa,_0x1f1daa){return _0xfa8cfa(_0x1f1daa);},'iBqli':function(_0x4c2238,_0x177f68,_0x3fd841){return _0x4c2238(_0x177f68,_0x3fd841);},'zFhwo':function(_0xc3055b,_0x1bba68,_0xe8cbbe){return _0xc3055b(_0x1bba68,_0xe8cbbe);},'XBSUT':_0xfbdcb3(0x2b1),'pMGSh':_0xfbdcb3(0x247),'ELGtI':function(_0xc1b49a,_0x2f1ce8,_0x1125a8){return _0xc1b49a(_0x2f1ce8,_0x1125a8);},'EthwW':_0xfbdcb3(0x2dc),'eCoXH':function(_0x5ea05d,_0x249027,_0x4325d5){return _0x5ea05d(_0x249027,_0x4325d5);},'HjBdZ':'MRBUL','qlxur':function(_0x312084,_0x2562ec){return _0x312084===_0x2562ec;},'RhXal':function(_0x2641b5,_0x333fee){return _0x2641b5(_0x333fee);},'kjKMx':_0xfbdcb3(0x19d),'ONFzo':_0xfbdcb3(0x279),'ULcuf':_0xfbdcb3(0x23b),'TlvJD':_0xfbdcb3(0x26c),'leypi':function(_0x154c6b,_0x28e390){return _0x154c6b!==_0x28e390;},'YHNrs':function(_0x16e5a7,_0x30f876,_0x1c8437){return _0x16e5a7(_0x30f876,_0x1c8437);},'ZjAKZ':_0xfbdcb3(0x26f),'KmnMt':_0xfbdcb3(0x206),'HOuiN':function(_0x5379d5,_0x5e2d45){return _0x5379d5!==_0x5e2d45;},'ZOEmz':function(_0x308c72,_0x5e8a56,_0x5895bf){return _0x308c72(_0x5e8a56,_0x5895bf);},'seaKR':_0xfbdcb3(0x23d),'yhhak':_0xfbdcb3(0x1c5),'AZOnu':function(_0x297fc7,_0x3c9cdd){return _0x297fc7(_0x3c9cdd);},'EQnwb':function(_0x5e9dc3,_0x184cd8){return _0x5e9dc3(_0x184cd8);},'doBNF':function(_0x5f0101,_0x8a9c8d){return _0x5f0101(_0x8a9c8d);},'Hifsh':'should\x20be\x20two\x20files,\x20one\x20compressed','CtJDJ':function(_0x97ea46,_0x10ce47){return _0x97ea46(_0x10ce47);},'PJZOa':_0xfbdcb3(0x290),'XgJBJ':'EAatK','hleWD':function(_0x5d4bda,_0xaace9d,_0x140e20){return _0x5d4bda(_0xaace9d,_0x140e20);},'NnfIJ':function(_0x164d29,_0x52e355){return _0x164d29(_0x52e355);},'iLYFt':_0xfbdcb3(0x230),'RjAnT':function(_0x12338e,_0x16d02e){return _0x12338e!==_0x16d02e;},'jLvOS':function(_0x444733,_0x29e385){return _0x444733===_0x29e385;},'comdo':_0xfbdcb3(0x21a),'mCljo':'fileNameSep.log_2012-09-12','YUrQW':function(_0x3ba84f,_0x554945,_0x5c0389){return _0x3ba84f(_0x554945,_0x5c0389);},'gwRok':function(_0x5b023a,_0x22367a){return _0x5b023a(_0x22367a);},'vPQxa':_0xfbdcb3(0x23a),'zxPzP':_0xfbdcb3(0x2e3),'NTAXy':_0xfbdcb3(0x24a),'TCyoW':function(_0x1f4279,_0x41cb87){return _0x1f4279(_0x41cb87);},'MQBfv':_0xfbdcb3(0x29e),'ajNcl':function(_0x286583,_0x1f502b){return _0x286583(_0x1f502b);},'ZOFVj':'Second\x20message\x0a','LiHYh':function(_0x454c86,_0x17c863,_0xe42ae9){return _0x454c86(_0x17c863,_0xe42ae9);},'cFLGL':function(_0x5ee0b7,_0x2cf1fa){return _0x5ee0b7(_0x2cf1fa);},'QRxRX':_0xfbdcb3(0x1c3),'JSpdd':_0xfbdcb3(0x24b),'mnHxT':_0xfbdcb3(0x1c0),'fpYqm':function(_0x120f74,_0x16c3f4,_0x540c45){return _0x120f74(_0x16c3f4,_0x540c45);},'vfrUJ':'HrnEF','VbkgE':function(_0x4f3854){return _0x4f3854();},'ozsRj':function(_0x32a4c8,_0x4d1dd4){return _0x32a4c8(_0x4d1dd4);},'lPAgs':_0xfbdcb3(0x221),'uoEWR':_0xfbdcb3(0x288),'uhgDi':function(_0x5f04ef,_0x194ddc,_0x170b2c){return _0x5f04ef(_0x194ddc,_0x170b2c);},'UWSEE':function(_0x1eb739,_0x3acc57){return _0x1eb739(_0x3acc57);},'nAnYf':_0xfbdcb3(0x229),'GaWkU':_0xfbdcb3(0x1dd),'pFrKc':function(_0x29b475,_0x4ed77c){return _0x29b475<_0x4ed77c;},'LXIGP':_0xfbdcb3(0x237),'uGLxN':function(_0x2c8581,_0xf68b42){return _0x2c8581===_0xf68b42;},'WfeWa':_0xfbdcb3(0x1ed),'heFQZ':function(_0x20ded7,_0x39c74a){return _0x20ded7(_0x39c74a);},'zdOUs':'XsOSh','Zvrxe':function(_0x1a99c4,_0x3bd7c3){return _0x1a99c4(_0x3bd7c3);},'QISQf':_0xfbdcb3(0x271),'wbrtT':function(_0xd2ebf8,_0x541b22,_0xf830a0){return _0xd2ebf8(_0x541b22,_0xf830a0);},'LYGWQ':_0xfbdcb3(0x250),'EwhUc':function(_0x2f0bc0,_0x4df387,_0x4e1256){return _0x2f0bc0(_0x4df387,_0x4e1256);},'Jxhxl':_0xfbdcb3(0x2e1),'HTDMz':_0xfbdcb3(0x27e),'CGEvI':_0xfbdcb3(0x26b),'CFjwC':function(_0x919ac5,_0x15b693,_0x1e70eb){return _0x919ac5(_0x15b693,_0x1e70eb);},'iPWWj':'with\x20a\x20pattern\x20that\x20evaluates\x20to\x20digits','Zkrsp':function(_0x30f8c7,_0x3a2896,_0x39db45){return _0x30f8c7(_0x3a2896,_0x39db45);},'rVYhS':'with\x20keepFileExt\x20option','UJzmg':'with\x20compress\x20option\x20and\x20keepFileExt\x20option','qvfEW':_0xfbdcb3(0x224),'HpUkc':function(_0x18491e,_0x2b158,_0x2d966b){return _0x18491e(_0x2b158,_0x2d966b);},'Vnahw':_0xfbdcb3(0x1da),'eZvmX':_0xfbdcb3(0x2c0),'XeSHI':function(_0x739d92,_0x7ab39,_0x407189){return _0x739d92(_0x7ab39,_0x407189);},'rhQju':_0xfbdcb3(0x2cb),'daRFZ':'with\x20numBackups\x20option'};_0x52b512[_0xfbdcb3(0x1e0)](describe,_0x52b512[_0xfbdcb3(0x2d5)],function(){const _0xe6d928=_0xfbdcb3;let _0x87994c;_0x52b512[_0xe6d928(0x24f)](before,function(){const _0x53c53c=_0xe6d928;_0x53c53c(0x277)===_0x53c53c(0x277)?_0x87994c=new DateRollingFileStream(path[_0x53c53c(0x2a1)](__dirname,_0x53c53c(0x210)),_0x52b512[_0x53c53c(0x2f4)]):new _0x750aa4(_0x214560[_0x53c53c(0x2a1)](_0x3f866b,'numBackups.log'),{'numBackups':_0x1f9d48});}),_0x52b512[_0xe6d928(0x24f)](after,async function(){const _0x2e90a5=_0xe6d928;await close(_0x87994c),await remove(path[_0x2e90a5(0x2a1)](__dirname,_0x52b512[_0x2e90a5(0x1fe)]));}),eval('_0x52b512[\'cdfPU\'](1, 1);'),it(_0xe6d928(0x27f),function(){const _0x2cc064=_0xe6d928;_0x87994c[_0x2cc064(0x204)][_0x2cc064(0x284)]['eql'](path[_0x2cc064(0x2a1)](__dirname,_0x2cc064(0x210))),_0x87994c['options'][_0x2cc064(0x2fb)]['should'][_0x2cc064(0x282)](_0x52b512[_0x2cc064(0x2f4)]),_0x87994c[_0x2cc064(0x284)]['be'][_0x2cc064(0x1c6)](streams[_0x2cc064(0x243)]);}),it(_0xe6d928(0x29b),function(){const _0x282c19=_0xe6d928;_0x87994c[_0x282c19(0x2d0)][_0x282c19(0x2ae)][_0x282c19(0x284)][_0x282c19(0x282)](0x1a4),_0x87994c[_0x282c19(0x2d0)][_0x282c19(0x1a5)]['should']['eql']('a');});}),_0x52b512[_0xfbdcb3(0x2cf)](describe,_0x52b512[_0xfbdcb3(0x26d)],function(){const _0x1dedc1=_0xfbdcb3;var _0x3aaf9b;before(function(){const _0x4cacf1=_0x18d9;_0x3aaf9b=new DateRollingFileStream(path[_0x4cacf1(0x2a1)](__dirname,_0x52b512[_0x4cacf1(0x273)]));}),after(async function(){const _0x1dc8ed=_0x18d9;await _0x52b512[_0x1dc8ed(0x20c)](close,_0x3aaf9b),await _0x52b512['qgIYc'](remove,path['join'](__dirname,_0x52b512[_0x1dc8ed(0x273)]));}),it(_0x1dedc1(0x2cc),function(){const _0x26c0b0=_0x1dedc1;_0x3aaf9b[_0x26c0b0(0x2c3)][_0x26c0b0(0x2fb)][_0x26c0b0(0x284)][_0x26c0b0(0x282)](_0x26c0b0(0x206));});}),_0x52b512['iBqli'](describe,_0xfbdcb3(0x29f),function(){const _0x37cfee=_0xfbdcb3,_0x4a9295={'faouT':function(_0x57b7c5,_0x16cf22){return _0x57b7c5(_0x16cf22);},'Qklzd':_0x37cfee(0x206),'wDhGh':'First\x20message\x0a','Zhlcr':function(_0x10118f,_0x854d6){return _0x10118f===_0x854d6;},'rAhqD':_0x37cfee(0x259),'QQySs':_0x37cfee(0x2d4),'RSAGR':function(_0x15f698,_0x15b5fd,_0x24d23d){return _0x15f698(_0x15b5fd,_0x24d23d);},'ilSDo':_0x52b512[_0x37cfee(0x25f)]};var _0x2b97cb;_0x52b512[_0x37cfee(0x2b4)](before,function(){const _0x3f37d6=_0x37cfee;_0x2b97cb=new DateRollingFileStream(path['join'](__dirname,_0x3f37d6(0x223)),'yyyy-MM-dd',{'mode':_0x52b512[_0x3f37d6(0x2df)](parseInt,_0x3f37d6(0x2e8),0x8)});}),after(async function(){const _0x130f17=_0x37cfee;await close(_0x2b97cb),await _0x4a9295[_0x130f17(0x217)](remove,path[_0x130f17(0x2a1)](__dirname,'test-date-rolling-file-stream-3'));}),_0x52b512[_0x37cfee(0x1e0)](it,_0x37cfee(0x21d),function(){const _0x24c41e=_0x37cfee,_0xc9c517={'ABIsl':_0x4a9295[_0x24c41e(0x240)],'dmeTE':_0x4a9295['wDhGh']};_0x4a9295[_0x24c41e(0x280)](_0x4a9295[_0x24c41e(0x2c8)],_0x4a9295[_0x24c41e(0x2f9)])?(_0x5762a6=new _0x3a7914(0x7dc,0x8,0xc,0x0,0xa,0xc),_0x182df2=new _0x269bab(_0x1c7fc9[_0x24c41e(0x2a1)](_0x4b0719,_0x24c41e(0x244)),_0xc9c517[_0x24c41e(0x1ac)],{'compress':!![],'keepFileExt':!![]}),_0x1fc5c5['write'](_0xc9c517[_0x24c41e(0x1c2)],'utf8',_0x13214b)):_0x2b97cb[_0x24c41e(0x1d3)][_0x24c41e(0x2ae)]['should'][_0x24c41e(0x282)](_0x4a9295[_0x24c41e(0x2b6)](parseInt,_0x4a9295['ilSDo'],0x8));});}),_0x52b512[_0xfbdcb3(0x1ca)](describe,_0x52b512['Jxhxl'],function(){const _0x3743ec=_0xfbdcb3,_0xcdc75a={'MOheJ':_0x52b512['yhxuD'],'miznl':function(_0x52fbd9,_0x541b18,_0x4b70f2){const _0x52f0e9=_0x18d9;return _0x52b512[_0x52f0e9(0x2df)](_0x52fbd9,_0x541b18,_0x4b70f2);},'yBrXi':_0x52b512[_0x3743ec(0x25f)],'hXIQY':_0x3743ec(0x206)};var _0xd76961;_0x52b512[_0x3743ec(0x2b4)](before,function(){const _0xd6d824=_0x3743ec;_0xd76961=new DateRollingFileStream(path['join'](__dirname,_0xcdc75a['MOheJ']),{'mode':_0xcdc75a[_0xd6d824(0x197)](parseInt,_0xcdc75a[_0xd6d824(0x194)],0x8)});}),_0x52b512[_0x3743ec(0x2b4)](after,async function(){const _0x23462f=_0x3743ec;await _0x52b512['qgIYc'](close,_0xd76961),await remove(path[_0x23462f(0x2a1)](__dirname,_0x52b512[_0x23462f(0x200)]));}),_0x52b512['TsPTQ'](it,_0x3743ec(0x21d),function(){const _0x4a23d5=_0x3743ec;_0xd76961['theStream'][_0x4a23d5(0x2ae)][_0x4a23d5(0x284)][_0x4a23d5(0x282)](parseInt(_0x4a23d5(0x2e8),0x8));}),_0x52b512['DaFur'](it,_0x3743ec(0x1ce),function(){const _0x562c6f=_0x3743ec;_0xd76961[_0x562c6f(0x2c3)][_0x562c6f(0x2fb)]['should'][_0x562c6f(0x282)](_0xcdc75a['hXIQY']);});}),_0x52b512[_0xfbdcb3(0x2be)](describe,_0x52b512['HTDMz'],function(){const _0x3b76ba=_0xfbdcb3,_0xf23947={'ZrUki':_0x3b76ba(0x1ff),'iVbwX':function(_0x4ab429,_0x34fa84){return _0x4ab429(_0x34fa84);},'DHHZV':function(_0x12897d,_0x3ffab8){return _0x52b512['SkZYR'](_0x12897d,_0x3ffab8);},'ZBLKE':function(_0x48e8ca,_0x33a20b){return _0x48e8ca(_0x33a20b);},'fmSfB':_0x3b76ba(0x2da),'MrWZT':_0x52b512['yxBIM']};var _0xca2381;before(function(_0xa1cd7d){const _0x21f05b=_0x3b76ba;_0xca2381=new DateRollingFileStream(path[_0x21f05b(0x2a1)](__dirname,'test-date-rolling-file-stream-5'),_0x21f05b(0x18d),null),_0xca2381['write'](_0xf23947[_0x21f05b(0x1c8)],'utf8',_0xa1cd7d);}),_0x52b512[_0x3b76ba(0x2d8)](after,async function(){const _0xdb20d3=_0x3b76ba;await _0xf23947[_0xdb20d3(0x211)](close,_0xca2381),await _0xf23947[_0xdb20d3(0x231)](remove,path[_0xdb20d3(0x2a1)](__dirname,_0xdb20d3(0x2da)));}),_0x52b512[_0x3b76ba(0x1a6)](it,_0x3b76ba(0x198),async function(){const _0x23ee6f=_0x3b76ba,_0x479e76=await fs[_0x23ee6f(0x2a3)](path[_0x23ee6f(0x2a1)](__dirname,_0x23ee6f(0x2da)),'utf8');_0x479e76[_0x23ee6f(0x284)][_0x23ee6f(0x282)](_0x52b512[_0x23ee6f(0x216)]);}),_0x52b512['zFhwo'](describe,_0x52b512['XBSUT'],function(){const _0x1045d0=_0x3b76ba,_0x1490de={'zrTVO':'Second\x20message\x0a','DKbtb':_0x52b512[_0x1045d0(0x2ee)],'SzXNt':function(_0x3a5f9b,_0x3cc54d){return _0x3a5f9b!==_0x3cc54d;},'hbBQU':_0x52b512[_0x1045d0(0x2db)],'YRCwX':_0x1045d0(0x24c),'iTMZd':function(_0x144d4d,_0x11e1ba,_0x48d49f){return _0x144d4d(_0x11e1ba,_0x48d49f);},'AgLoS':'should\x20be\x20two'};_0x1045d0(0x19a)!=='Zepjm'?_0x26d97b['options'][_0x1045d0(0x1b1)][_0x1045d0(0x284)][_0x1045d0(0x282)](_0x10faa5['options'][_0x1045d0(0x2ba)]):(_0x52b512['WWyrH'](before,function(_0x3d7183){const _0x21ce56=_0x1045d0;fakeNow=new Date(0x7dc,0x8,0xd,0x0,0xa,0xc),_0xca2381[_0x21ce56(0x1a3)](_0x1490de[_0x21ce56(0x19c)],_0x1490de[_0x21ce56(0x18f)],_0x3d7183);}),after(async function(){const _0x15579c=_0x1045d0;await _0xf23947[_0x15579c(0x27c)](remove,path[_0x15579c(0x2a1)](__dirname,'test-date-rolling-file-stream-5..2012-09-12'));}),_0x52b512[_0x1045d0(0x1e0)](describe,_0x1045d0(0x274),function(){const _0x40032d=_0x1045d0;_0x1490de[_0x40032d(0x1a8)](it,_0x1490de[_0x40032d(0x292)],async function(){const _0x4916f7=_0x40032d,_0x33c5ff={'dXQAh':_0x4916f7(0x26e),'NnAfl':_0x1490de[_0x4916f7(0x18f)]};if(_0x1490de[_0x4916f7(0x2b3)](_0x1490de[_0x4916f7(0x241)],_0x1490de['YRCwX'])){const _0x325788=await fs[_0x4916f7(0x21c)](__dirname);_0x325788[_0x4916f7(0x220)](_0x19dc1b=>_0x19dc1b[_0x4916f7(0x28d)]('test-date-rolling-file-stream-5')>-0x1)[_0x4916f7(0x284)][_0x4916f7(0x207)][_0x4916f7(0x1c4)](0x2);}else _0x46f392=new _0x18557d(0x7dc,0x8,0xd,0x0,0xa,0xc),_0x3caa20[_0x4916f7(0x1a3)](_0x33c5ff[_0x4916f7(0x2d6)],_0x33c5ff[_0x4916f7(0x270)],_0x2c42de);});}),_0x52b512['DaFur'](describe,_0x1045d0(0x1b0),function(){const _0x3572cc=_0x1045d0,_0x1c2947={'LebiD':_0xf23947['fmSfB'],'LqCkH':'utf8'};it(_0xf23947[_0x3572cc(0x218)],async function(){const _0x224310=_0x3572cc,_0x6eb125=await fs[_0x224310(0x2a3)](path[_0x224310(0x2a1)](__dirname,_0x1c2947['LebiD']),_0x1c2947[_0x224310(0x2bf)]);_0x6eb125[_0x224310(0x284)][_0x224310(0x282)](_0x224310(0x26e));});}),describe(_0x52b512['VyeTQ'],function(){const _0x1443d7=_0x1045d0,_0x58df70={'KXUSf':_0x1443d7(0x193),'nHVsm':_0x1443d7(0x1ff)};it('should\x20contain\x20the\x20first\x20message',async function(){const _0x36ca33=_0x1443d7,_0x5ce633=await fs[_0x36ca33(0x2a3)](path[_0x36ca33(0x2a1)](__dirname,_0x36ca33(0x242)),_0x58df70['KXUSf']);_0x5ce633[_0x36ca33(0x284)][_0x36ca33(0x282)](_0x58df70[_0x36ca33(0x21f)]);});}));});}),_0x52b512[_0xfbdcb3(0x1d2)](describe,_0x52b512[_0xfbdcb3(0x1fc)],function(){const _0x7893e5=_0xfbdcb3,_0x2c405b={'XPhcA':_0x52b512[_0x7893e5(0x1ee)],'PdEdv':function(_0x1cfa9b,_0x19d7fb){return _0x1cfa9b(_0x19d7fb);},'alxSk':_0x52b512['pMGSh'],'nJGTA':_0x52b512['IBOOq'],'umjpV':function(_0x7b094c,_0x1c5dfe,_0x186cc6){return _0x7b094c(_0x1c5dfe,_0x186cc6);}};if(_0x52b512[_0x7893e5(0x192)](_0x7893e5(0x1d5),'CjCyw')){var _0x1b1f1f;before(async function(){const _0x97bb45=_0x7893e5,_0x31fa72={'fTYBK':function(_0x3d3d8a,_0xd28ac9){return _0x3d3d8a+_0xd28ac9;}};fakeNow=new Date(0x7dc,0x8,0xc,0xb,0xa,0xc),await remove(path[_0x97bb45(0x2a1)](__dirname,_0x52b512[_0x97bb45(0x2c6)])),_0x1b1f1f=new DateRollingFileStream(path[_0x97bb45(0x2a1)](__dirname,'test-date-rolling-file-stream-pattern'),_0x97bb45(0x1c1),{'alwaysIncludePattern':!![]}),await new Promise(_0x5024b5=>{const _0x58dd1c=_0x97bb45;_0x2c405b[_0x58dd1c(0x201)]===_0x58dd1c(0x1de)?ovvIsn[_0x58dd1c(0x2fa)](0x1,0x1):setTimeout(function(){const _0x18e9d3=_0x58dd1c;_0x1b1f1f[_0x18e9d3(0x1a3)](_0x18e9d3(0x1ff),_0x18e9d3(0x193),()=>_0x5024b5());},0x32);});}),_0x52b512['RhXal'](after,async function(){const _0xdbe1f5=_0x7893e5;await close(_0x1b1f1f),await _0x2c405b[_0xdbe1f5(0x25b)](remove,path[_0xdbe1f5(0x2a1)](__dirname,_0x2c405b[_0xdbe1f5(0x1d1)]));}),_0x52b512['eCoXH'](it,_0x7893e5(0x278),async function(){const _0x275a8b=_0x7893e5,_0x3b6a58=await fs[_0x275a8b(0x2a3)](path[_0x275a8b(0x2a1)](__dirname,_0x2c405b[_0x275a8b(0x1d1)]),_0x275a8b(0x193));_0x3b6a58[_0x275a8b(0x284)][_0x275a8b(0x282)](_0x2c405b[_0x275a8b(0x20f)]);}),describe(_0x52b512[_0x7893e5(0x1e9)],function(){const _0x33a198=_0x7893e5,_0x5528c0={'JpEbD':function(_0x495268,_0x44690a){const _0x403af9=_0x18d9;return _0x52b512[_0x403af9(0x2d8)](_0x495268,_0x44690a);},'DRnzZ':_0x33a198(0x296),'XKgFe':_0x52b512['yxBIM'],'uiFbS':_0x33a198(0x193)};before(function(_0x58a965){const _0x2062f6=_0x33a198;fakeNow=new Date(0x7dc,0x8,0xc,0xc,0xa,0xc),_0x1b1f1f[_0x2062f6(0x1a3)](_0x2062f6(0x26e),_0x2062f6(0x193),_0x58a965);}),after(async function(){const _0x95c5a5=_0x33a198;await _0x5528c0['JpEbD'](remove,path[_0x95c5a5(0x2a1)](__dirname,_0x5528c0[_0x95c5a5(0x29d)]));}),_0x52b512[_0x33a198(0x209)](describe,'the\x20number\x20of\x20files',function(){const _0x5ba493=_0x33a198;_0x2c405b[_0x5ba493(0x27a)](it,'should\x20be\x20two',async function(){const _0x2f1474=_0x5ba493,_0x52fe4c=await fs[_0x2f1474(0x21c)](__dirname);_0x52fe4c[_0x2f1474(0x220)](_0x32bda6=>_0x32bda6['indexOf'](_0x2f1474(0x2de))>-0x1)['should'][_0x2f1474(0x207)][_0x2f1474(0x1c4)](0x2);});}),_0x52b512[_0x33a198(0x1a6)](describe,_0x52b512['EthwW'],function(){it(_0x5528c0['XKgFe'],async function(){const _0x52e979=_0x18d9,_0x27c361=await fs[_0x52e979(0x2a3)](path[_0x52e979(0x2a1)](__dirname,'test-date-rolling-file-stream-pattern.2012-09-12-12.log'),'utf8');_0x27c361[_0x52e979(0x284)][_0x52e979(0x282)]('Second\x20message\x0a');});}),_0x52b512[_0x33a198(0x1b5)](describe,_0x33a198(0x2a2),function(){const _0x530947=_0x33a198;_0x2c405b[_0x530947(0x27a)](it,'should\x20contain\x20the\x20first\x20message',async function(){const _0x1cfb8e=_0x530947,_0xd8d4a9=await fs[_0x1cfb8e(0x2a3)](path[_0x1cfb8e(0x2a1)](__dirname,_0x1cfb8e(0x247)),_0x5528c0[_0x1cfb8e(0x1d4)]);_0xd8d4a9[_0x1cfb8e(0x284)]['eql'](_0x1cfb8e(0x1ff));});});});}else _0x4d295e=new _0x118185(0x7dc,0x8,0xd,0x0,0xa,0xc),_0x5e09d7['write']('Second\x20message\x0a',_0x7893e5(0x193),_0x4e34f1);}),_0x52b512[_0xfbdcb3(0x234)](describe,_0x52b512['iPWWj'],function(){const _0x32cc9c=_0xfbdcb3,_0x236fd6={'mnmKT':_0x32cc9c(0x229),'YFkhn':function(_0x5df36c,_0x3e7d1c){return _0x5df36c!==_0x3e7d1c;},'tXjCq':_0x52b512[_0x32cc9c(0x283)],'ziIzT':_0x52b512[_0x32cc9c(0x27b)],'VOUOd':_0x52b512[_0x32cc9c(0x214)],'jnsRh':_0x52b512['TlvJD'],'XSGVO':'utf8','tsLEJ':function(_0x2161d0,_0x10a2ab){const _0xebb6f=_0x32cc9c;return _0x52b512[_0xebb6f(0x28a)](_0x2161d0,_0x10a2ab);},'RyylT':_0x32cc9c(0x2c2),'CbEbV':function(_0x5ccb19,_0x4c7fbd){return _0x5ccb19(_0x4c7fbd);},'MkNTO':function(_0x2323d4,_0x6073b,_0x7b59f6){return _0x52b512['eCoXH'](_0x2323d4,_0x6073b,_0x7b59f6);}};let _0x1df3b4;before(_0x3c99e8=>{const _0x31ed53=_0x32cc9c;_0x236fd6['YFkhn'](_0x236fd6[_0x31ed53(0x1ea)],_0x236fd6['ziIzT'])?(fakeNow=new Date(0x7dc,0x8,0xc,0x0,0xa,0xc),_0x1df3b4=new DateRollingFileStream(path['join'](__dirname,_0x236fd6[_0x31ed53(0x252)]),_0x236fd6[_0x31ed53(0x19f)]),_0x1df3b4[_0x31ed53(0x1a3)]('First\x20message\x0a',_0x236fd6[_0x31ed53(0x22c)],_0x3c99e8)):new _0x21a301(_0x2ae3da[_0x31ed53(0x2a1)](_0xbce720,_0x236fd6['mnmKT']),{'numBackups':_0x4262ae});}),_0x52b512[_0x32cc9c(0x1e7)](describe,_0x32cc9c(0x2b1),function(){const _0x21473e=_0x32cc9c,_0x5a50b0={'YVRDI':function(_0x4cff8c,_0x102a88){return _0x4cff8c(_0x102a88);},'wydun':function(_0x23662a,_0x1c36b5){const _0xc94c56=_0x18d9;return _0x236fd6[_0xc94c56(0x2ad)](_0x23662a,_0x1c36b5);},'aXTys':_0x236fd6[_0x21473e(0x287)],'HxWJN':_0x236fd6[_0x21473e(0x22c)]};_0x236fd6[_0x21473e(0x291)](before,function(_0x1d1484){const _0x45b160=_0x21473e,_0xfe16d9={'UnhxG':function(_0x40d8f2,_0x308d0f){const _0x14d8d0=_0x18d9;return _0x5a50b0[_0x14d8d0(0x1b4)](_0x40d8f2,_0x308d0f);}};if(_0x5a50b0['wydun'](_0x5a50b0[_0x45b160(0x20e)],_0x5a50b0[_0x45b160(0x20e)])){_0xfe16d9[_0x45b160(0x281)](_0x210774,_0x45b160(0x2b2))();return;}else fakeNow=new Date(0x7dc,0x8,0xd,0x0,0xa,0xc),_0x1df3b4[_0x45b160(0x1a3)](_0x45b160(0x26e),_0x5a50b0['HxWJN'],_0x1d1484);}),_0x236fd6['MkNTO'](it,_0x21473e(0x297),async function(){const _0x438fd6=_0x21473e,_0x1419a3=await fs[_0x438fd6(0x21c)](__dirname);var _0x44b460=_0x1419a3[_0x438fd6(0x220)](_0x3fb4e5=>_0x3fb4e5['indexOf'](_0x438fd6(0x23b))>-0x1);_0x44b460[_0x438fd6(0x284)][_0x438fd6(0x207)][_0x438fd6(0x1c4)](0x2);const _0x53dd54=await fs[_0x438fd6(0x2a3)](path[_0x438fd6(0x2a1)](__dirname,_0x438fd6(0x1d6)),'utf8');_0x53dd54[_0x438fd6(0x284)][_0x438fd6(0x282)](_0x438fd6(0x1ff));const _0x220a8c=await fs[_0x438fd6(0x2a3)](path[_0x438fd6(0x2a1)](__dirname,_0x236fd6[_0x438fd6(0x252)]),_0x236fd6[_0x438fd6(0x22c)]);_0x220a8c[_0x438fd6(0x284)][_0x438fd6(0x282)](_0x438fd6(0x26e));});}),_0x52b512['ZRNxC'](after,async function(){const _0x50ee15=_0x32cc9c;await close(_0x1df3b4),await remove(path[_0x50ee15(0x2a1)](__dirname,_0x236fd6[_0x50ee15(0x252)])),await _0x236fd6[_0x50ee15(0x291)](remove,path[_0x50ee15(0x2a1)](__dirname,_0x50ee15(0x1d6)));});}),_0x52b512['Zkrsp'](describe,_0xfbdcb3(0x1cb),function(){const _0x2d5bfc=_0xfbdcb3,_0x2d311f={'waqyo':'Second\x20message\x0a','fcAps':_0x52b512['ZOHRR'],'QLANn':function(_0x50b3bd,_0x12a703){return _0x52b512['HOuiN'](_0x50b3bd,_0x12a703);},'DsBrW':function(_0x273bd3,_0x17cb60,_0x249a51){const _0x833934=_0x18d9;return _0x52b512[_0x833934(0x1cf)](_0x273bd3,_0x17cb60,_0x249a51);},'dFolq':function(_0x150ea5,_0x592e35){return _0x150ea5(_0x592e35);},'acjlr':_0x2d5bfc(0x26f),'SWeyD':function(_0x24da32,_0x52854a){return _0x24da32(_0x52854a);}};var _0x210e4;before(function(_0x458793){const _0x4c0d23=_0x2d5bfc;fakeNow=new Date(0x7dc,0x8,0xc,0x0,0xa,0xc),_0x210e4=new DateRollingFileStream(path[_0x4c0d23(0x2a1)](__dirname,_0x52b512[_0x4c0d23(0x1f5)]),_0x52b512[_0x4c0d23(0x2d7)],{'compress':!![]}),_0x210e4[_0x4c0d23(0x1a3)](_0x52b512[_0x4c0d23(0x216)],'utf8',_0x458793);}),describe(_0x2d5bfc(0x2b1),function(){const _0x55293f=_0x2d5bfc,_0x405e71={'PhbKJ':function(_0x3b47c0,_0x12d296){return _0x3b47c0(_0x12d296);},'FuaKz':'First\x20message\x0a'};_0x2d311f['QLANn'](_0x55293f(0x21e),_0x55293f(0x21e))?(_0x1bcb1a=new _0x29260a(0x7dc,0x8,0xd,0x0,0xa,0xc),_0x3649ec['write'](_0x2d311f[_0x55293f(0x2cd)],_0x2d311f[_0x55293f(0x1f1)],_0x242cee)):(before(function(_0x36c92d){const _0x4df335=_0x55293f;fakeNow=new Date(0x7dc,0x8,0xd,0x0,0xa,0xc),_0x210e4[_0x4df335(0x1a3)](_0x4df335(0x26e),'utf8',_0x36c92d);}),_0x2d311f[_0x55293f(0x1ec)](it,_0x55293f(0x272),async function(){const _0x4a2824=_0x55293f,_0x1c6713=await fs[_0x4a2824(0x21c)](__dirname);var _0x374f3f=_0x1c6713['filter'](_0x4e5eb3=>_0x4e5eb3[_0x4a2824(0x28d)](_0x4a2824(0x26f))>-0x1);_0x374f3f[_0x4a2824(0x284)][_0x4a2824(0x207)][_0x4a2824(0x1c4)](0x2);const _0x4df3a7=await fs[_0x4a2824(0x2a3)](path[_0x4a2824(0x2a1)](__dirname,_0x4a2824(0x1f3))),_0x14c1c2=await _0x405e71[_0x4a2824(0x1e8)](gunzip,_0x4df3a7);_0x14c1c2[_0x4a2824(0x1b7)](_0x4a2824(0x193))['should'][_0x4a2824(0x282)](_0x405e71[_0x4a2824(0x286)]),(await fs[_0x4a2824(0x2a3)](path[_0x4a2824(0x2a1)](__dirname,'compressed.log'),'utf8'))[_0x4a2824(0x284)][_0x4a2824(0x282)](_0x4a2824(0x26e));}));}),after(async function(){const _0x159337=_0x2d5bfc;await _0x2d311f[_0x159337(0x2ea)](close,_0x210e4),await remove(path[_0x159337(0x2a1)](__dirname,_0x2d311f['acjlr'])),await _0x2d311f[_0x159337(0x1e4)](remove,path[_0x159337(0x2a1)](__dirname,_0x159337(0x1f3)));});}),_0x52b512[_0xfbdcb3(0x1e7)](describe,_0x52b512['rVYhS'],function(){const _0x54de73=_0xfbdcb3,_0x50bca1={'NGDUL':_0x52b512[_0x54de73(0x28e)],'ICkHt':_0x52b512[_0x54de73(0x216)],'BhUoH':_0x54de73(0x26e),'wnCuh':function(_0x628ae,_0x521f49){return _0x628ae(_0x521f49);},'aKohX':function(_0x47111a,_0x215ef1){const _0x245c81=_0x54de73;return _0x52b512[_0x245c81(0x2f0)](_0x47111a,_0x215ef1);},'UyqBQ':function(_0x3ce143,_0x23d35f){const _0x51beb8=_0x54de73;return _0x52b512[_0x51beb8(0x2ca)](_0x3ce143,_0x23d35f);}};var _0x1829a2;_0x52b512[_0x54de73(0x257)](before,function(_0x293b69){const _0x4a02eb=_0x54de73;fakeNow=new Date(0x7dc,0x8,0xc,0x0,0xa,0xc),_0x1829a2=new DateRollingFileStream(path[_0x4a02eb(0x2a1)](__dirname,_0x52b512[_0x4a02eb(0x2b5)]),_0x52b512[_0x4a02eb(0x2d7)],{'keepFileExt':!![]}),_0x1829a2[_0x4a02eb(0x1a3)](_0x52b512[_0x4a02eb(0x216)],_0x52b512[_0x4a02eb(0x2ee)],_0x293b69);}),describe(_0x54de73(0x2b1),function(){const _0x4c31aa=_0x54de73;_0x50bca1[_0x4c31aa(0x227)](before,function(_0x109001){const _0xa12797=_0x4c31aa;fakeNow=new Date(0x7dc,0x8,0xd,0x0,0xa,0xc),_0x1829a2['write'](_0xa12797(0x26e),'utf8',_0x109001);}),it(_0x4c31aa(0x2d2),async function(){const _0x3bee16=_0x4c31aa,_0x27d4cd=await fs[_0x3bee16(0x21c)](__dirname);var _0x2fc481=_0x27d4cd[_0x3bee16(0x220)](_0x45de69=>_0x45de69['indexOf'](_0x3bee16(0x1fd))>-0x1);_0x2fc481[_0x3bee16(0x284)][_0x3bee16(0x207)][_0x3bee16(0x1c4)](0x2),(await fs[_0x3bee16(0x2a3)](path[_0x3bee16(0x2a1)](__dirname,_0x50bca1[_0x3bee16(0x2f7)]),_0x3bee16(0x193)))[_0x3bee16(0x284)][_0x3bee16(0x282)](_0x50bca1[_0x3bee16(0x2fd)]),(await fs[_0x3bee16(0x2a3)](path[_0x3bee16(0x2a1)](__dirname,_0x3bee16(0x23d)),_0x3bee16(0x193)))[_0x3bee16(0x284)][_0x3bee16(0x282)](_0x50bca1[_0x3bee16(0x1e5)]);});}),after(async function(){const _0x3572dd=_0x54de73;await close(_0x1829a2),await _0x50bca1['aKohX'](remove,path[_0x3572dd(0x2a1)](__dirname,'keepFileExt.log')),await _0x50bca1[_0x3572dd(0x19b)](remove,path['join'](__dirname,_0x50bca1[_0x3572dd(0x2f7)]));});}),describe(_0x52b512[_0xfbdcb3(0x1d7)],function(){const _0x41b80a=_0xfbdcb3,_0xb13f6c={'CcGhc':'test-date-rolling-file-stream-1','SrQVt':_0x41b80a(0x244),'ggLEb':_0x52b512[_0x41b80a(0x2ee)]};if('EAatK'!==_0x52b512['XgJBJ'])_0x3f7b09=new _0x4e39e8(_0x262fd1['join'](_0x19edda,_0xb13f6c[_0x41b80a(0x267)]),_0x41b80a(0x23e));else{var _0x24f12b;before(function(_0x53403f){const _0x16f319=_0x41b80a;fakeNow=new Date(0x7dc,0x8,0xc,0x0,0xa,0xc),_0x24f12b=new DateRollingFileStream(path['join'](__dirname,_0xb13f6c['SrQVt']),'yyyy-MM-dd',{'compress':!![],'keepFileExt':!![]}),_0x24f12b[_0x16f319(0x1a3)]('First\x20message\x0a',_0xb13f6c[_0x16f319(0x25e)],_0x53403f);}),_0x52b512[_0x41b80a(0x1d2)](describe,_0x52b512['XBSUT'],function(){const _0x2c0915=_0x41b80a,_0x266b63={'KilDI':'utf8'};_0x52b512[_0x2c0915(0x24f)](before,function(_0x3d4926){const _0x207dc0=_0x2c0915;fakeNow=new Date(0x7dc,0x8,0xd,0x0,0xa,0xc),_0x24f12b[_0x207dc0(0x1a3)](_0x207dc0(0x26e),_0x266b63[_0x207dc0(0x1aa)],_0x3d4926);}),it(_0x52b512[_0x2c0915(0x1bf)],async function(){const _0x497c2a=_0x2c0915,_0x142317=await fs[_0x497c2a(0x21c)](__dirname);var _0xf6a4db=_0x142317[_0x497c2a(0x220)](_0x572d66=>_0x572d66[_0x497c2a(0x28d)](_0x497c2a(0x20a))>-0x1);_0xf6a4db[_0x497c2a(0x284)][_0x497c2a(0x207)]['length'](0x2);const _0x117174=await fs[_0x497c2a(0x2a3)](path[_0x497c2a(0x2a1)](__dirname,_0x497c2a(0x290))),_0x20a7ea=await gunzip(_0x117174);_0x20a7ea[_0x497c2a(0x1b7)](_0xb13f6c[_0x497c2a(0x25e)])[_0x497c2a(0x284)]['eql'](_0x497c2a(0x1ff)),(await fs[_0x497c2a(0x2a3)](path[_0x497c2a(0x2a1)](__dirname,_0xb13f6c[_0x497c2a(0x2f8)]),_0xb13f6c[_0x497c2a(0x25e)]))[_0x497c2a(0x284)][_0x497c2a(0x282)](_0x497c2a(0x26e));});}),after(async function(){const _0x26b975=_0x41b80a;await close(_0x24f12b),await remove(path['join'](__dirname,_0x26b975(0x244))),await _0x52b512['CtJDJ'](remove,path['join'](__dirname,_0x52b512[_0x26b975(0x18e)]));});}}),describe(_0x52b512['qvfEW'],function(){const _0x258497=_0xfbdcb3,_0xd36411={'lYiFR':_0x52b512[_0x258497(0x216)],'umrRb':function(_0x18d2ba,_0x588d9c){const _0x2f5bdd=_0x258497;return _0x52b512[_0x2f5bdd(0x235)](_0x18d2ba,_0x588d9c);},'mIZWH':_0x258497(0x2af),'keQAz':function(_0x2066e0,_0x75ec31){const _0xaef8f5=_0x258497;return _0x52b512[_0xaef8f5(0x22e)](_0x2066e0,_0x75ec31);},'kEPPT':_0x52b512['comdo'],'RRzae':_0x52b512[_0x258497(0x276)],'EdiDG':'utf8','NUAzT':'Second\x20message\x0a','HBirE':function(_0x5cf56e,_0x29759d,_0x2c3dd3){return _0x5cf56e(_0x29759d,_0x2c3dd3);}};var _0x28f938;before(function(_0x5afe71){const _0x4138d6=_0x258497;fakeNow=new Date(0x7dc,0x8,0xc,0x0,0xa,0xc),_0x28f938=new DateRollingFileStream(path[_0x4138d6(0x2a1)](__dirname,_0x4138d6(0x230)),_0x4138d6(0x206),{'fileNameSep':'_'}),_0x28f938[_0x4138d6(0x1a3)](_0xd36411[_0x4138d6(0x1c9)],'utf8',_0x5afe71);}),_0x52b512['YUrQW'](describe,_0x258497(0x2b1),function(){const _0x2287cf=_0x258497,_0x52b901={'CoXmW':'numBackups.log'};before(function(_0x574a8a){const _0x254a58=_0x18d9;_0xd36411['umrRb'](_0xd36411['mIZWH'],_0xd36411[_0x254a58(0x1db)])?(_0x1213db=new _0x5b17dc(_0x18e8f0['join'](_0x36313f,_0x52b901[_0x254a58(0x2a0)]),{'daysToKeep':0x3,'numBackups':0x9}),_0x4ea0c0[_0x254a58(0x2c3)]['daysToKeep'][_0x254a58(0x284)][_0x254a58(0x2b8)][_0x254a58(0x282)](0x3),_0x1253b5[_0x254a58(0x2c3)]['daysToKeep'][_0x254a58(0x284)][_0x254a58(0x282)](0x9),_0x34fa23[_0x254a58(0x2c3)][_0x254a58(0x1b1)][_0x254a58(0x284)][_0x254a58(0x282)](0x9),_0x1cebc4[_0x254a58(0x2c3)][_0x254a58(0x2f6)][_0x254a58(0x284)][_0x254a58(0x282)](0xa)):(fakeNow=new Date(0x7dc,0x8,0xd,0x0,0xa,0xc),_0x28f938[_0x254a58(0x1a3)](_0x254a58(0x26e),_0x254a58(0x193),_0x574a8a));}),_0xd36411[_0x2287cf(0x25c)](it,_0x2287cf(0x2d2),async function(){const _0x7ce4a6=_0x2287cf,_0x31617d={'ANslK':'digits.log','cvUZk':_0x7ce4a6(0x1ff)};if(_0xd36411[_0x7ce4a6(0x20d)](_0x7ce4a6(0x228),_0xd36411[_0x7ce4a6(0x2aa)]))_0x5a058a=new _0x575b73(0x7dc,0x8,0xc,0x0,0xa,0xc),_0x4a478d=new _0x5b36c9(_0x349ed2[_0x7ce4a6(0x2a1)](_0x572619,_0x31617d[_0x7ce4a6(0x19e)]),_0x7ce4a6(0x26c)),_0x2f545f[_0x7ce4a6(0x1a3)](_0x31617d[_0x7ce4a6(0x23c)],'utf8',_0x41a557);else{const _0x1a3130=await fs[_0x7ce4a6(0x21c)](__dirname);var _0x43f44b=_0x1a3130[_0x7ce4a6(0x220)](_0x3b6f2b=>_0x3b6f2b[_0x7ce4a6(0x28d)](_0x7ce4a6(0x263))>-0x1);_0x43f44b[_0x7ce4a6(0x284)]['have'][_0x7ce4a6(0x1c4)](0x2),(await fs['readFile'](path[_0x7ce4a6(0x2a1)](__dirname,_0xd36411[_0x7ce4a6(0x1f6)]),_0xd36411[_0x7ce4a6(0x2a5)]))[_0x7ce4a6(0x284)]['eql'](_0xd36411['lYiFR']),(await fs['readFile'](path[_0x7ce4a6(0x2a1)](__dirname,_0x7ce4a6(0x230)),_0x7ce4a6(0x193)))[_0x7ce4a6(0x284)][_0x7ce4a6(0x282)](_0xd36411[_0x7ce4a6(0x265)]);}});}),_0x52b512[_0x258497(0x261)](after,async function(){const _0x52da79=_0x258497;await _0x52b512[_0x52da79(0x2f0)](close,_0x28f938),await _0x52b512[_0x52da79(0x2a7)](remove,path['join'](__dirname,_0x52b512[_0x52da79(0x29a)])),await remove(path['join'](__dirname,_0x52da79(0x1f7)));});}),_0x52b512[_0xfbdcb3(0x1b8)](describe,_0x52b512[_0xfbdcb3(0x2dd)],function(){const _0x402793=_0xfbdcb3,_0x3c0c26={'HubjX':_0x52b512['ZOHRR'],'mgFeN':_0x52b512['IBOOq'],'LlVDl':_0x402793(0x26e),'eyrXf':function(_0x20b23b,_0x562fe3){return _0x20b23b(_0x562fe3);},'CTGPS':_0x402793(0x23a),'KXmts':_0x52b512[_0x402793(0x295)]};var _0x4387a4;_0x52b512[_0x402793(0x20c)](before,function(_0x5c4bf0){const _0x235da3=_0x402793;fakeNow=new Date(0x7dc,0x8,0xc,0x0,0xa,0xc),_0x4387a4=new DateRollingFileStream(path[_0x235da3(0x2a1)](__dirname,_0x52b512[_0x235da3(0x190)]),'yyyy-MM-dd',{'fileNameSep':'_','keepFileExt':!![]}),_0x4387a4['write'](_0x52b512[_0x235da3(0x216)],_0x52b512[_0x235da3(0x2ee)],_0x5c4bf0);}),describe(_0x402793(0x2b1),function(){const _0x485979=_0x402793,_0x2faf3b={'MoZDy':_0x485979(0x2e3),'yRcyU':_0x3c0c26[_0x485979(0x1d0)],'WgFMD':_0x3c0c26[_0x485979(0x2c4)],'SdjZF':_0x3c0c26[_0x485979(0x239)]};before(function(_0x2302ff){const _0x10ff7b=_0x485979;fakeNow=new Date(0x7dc,0x8,0xd,0x0,0xa,0xc),_0x4387a4[_0x10ff7b(0x1a3)](_0x10ff7b(0x26e),_0x10ff7b(0x193),_0x2302ff);}),it(_0x485979(0x2d2),async function(){const _0x1d5ea8=_0x485979,_0x475da7=await fs[_0x1d5ea8(0x21c)](__dirname);var _0x4a85db=_0x475da7[_0x1d5ea8(0x220)](_0x3f2da5=>_0x3f2da5[_0x1d5ea8(0x28d)](_0x1d5ea8(0x1e6))>-0x1);_0x4a85db[_0x1d5ea8(0x284)][_0x1d5ea8(0x207)][_0x1d5ea8(0x1c4)](0x2),(await fs[_0x1d5ea8(0x2a3)](path[_0x1d5ea8(0x2a1)](__dirname,_0x2faf3b[_0x1d5ea8(0x1d8)]),_0x2faf3b[_0x1d5ea8(0x212)]))[_0x1d5ea8(0x284)][_0x1d5ea8(0x282)](_0x2faf3b[_0x1d5ea8(0x293)]),(await fs['readFile'](path[_0x1d5ea8(0x2a1)](__dirname,_0x1d5ea8(0x23a)),'utf8'))['should'][_0x1d5ea8(0x282)](_0x2faf3b['SdjZF']);});}),after(async function(){const _0x127428=_0x402793;await close(_0x4387a4),await _0x3c0c26[_0x127428(0x2ef)](remove,path['join'](__dirname,_0x3c0c26['CTGPS'])),await remove(path[_0x127428(0x2a1)](__dirname,_0x3c0c26[_0x127428(0x254)]));});}),describe(_0xfbdcb3(0x2b9),function(){const _0x3f7ec8=_0xfbdcb3,_0x2376aa={'hrcNU':_0x3f7ec8(0x23f),'xeTjm':_0x3f7ec8(0x253),'dSgBg':_0x3f7ec8(0x206),'kXSmg':_0x3f7ec8(0x193),'igbGA':_0x3f7ec8(0x1a9),'arzxc':function(_0x30dc77,_0x4c7e41){return _0x30dc77(_0x4c7e41);},'Worif':_0x52b512['NTAXy']};var _0x3724cb;_0x52b512[_0x3f7ec8(0x261)](before,function(_0x507cf6){const _0x2f5c19=_0x3f7ec8;_0x2f5c19(0x23f)!==_0x2376aa[_0x2f5c19(0x2b0)]?(_0x850484=new _0x11182b(0x7dc,0x8,0xd,0x0,0xa,0xc),_0x172212[_0x2f5c19(0x1a3)](_0x2f5c19(0x26e),_0x2f5c19(0x193),_0x36c6c1)):(fakeNow=new Date(0x7dc,0x8,0xc,0x0,0xa,0xc),_0x3724cb=new DateRollingFileStream(path[_0x2f5c19(0x2a1)](__dirname,_0x2376aa['xeTjm']),_0x2376aa[_0x2f5c19(0x294)],{'fileNameSep':'_','compress':!![]}),_0x3724cb[_0x2f5c19(0x1a3)]('First\x20message\x0a',_0x2f5c19(0x193),_0x507cf6));}),describe(_0x3f7ec8(0x2b1),function(){const _0x3378c2=_0x3f7ec8,_0x2d8bf2={'vCfHf':_0x52b512[_0x3378c2(0x213)],'arSGc':'utf8','FDRHu':_0x3378c2(0x26e)};before(function(_0x5086a8){const _0x591e46=_0x3378c2;fakeNow=new Date(0x7dc,0x8,0xd,0x0,0xa,0xc),_0x3724cb[_0x591e46(0x1a3)](_0x591e46(0x26e),_0x591e46(0x193),_0x5086a8);}),_0x52b512[_0x3378c2(0x233)](it,_0x52b512[_0x3378c2(0x1bf)],async function(){const _0x2468fc=_0x3378c2,_0x516ab2=await fs[_0x2468fc(0x21c)](__dirname);var _0x1eaa72=_0x516ab2[_0x2468fc(0x220)](_0x4e2741=>_0x4e2741['indexOf'](_0x2468fc(0x20b))>-0x1);_0x1eaa72[_0x2468fc(0x284)][_0x2468fc(0x207)][_0x2468fc(0x1c4)](0x2);const _0x3d4612=await fs[_0x2468fc(0x2a3)](path[_0x2468fc(0x2a1)](__dirname,_0x2d8bf2[_0x2468fc(0x1a1)])),_0x290b24=await gunzip(_0x3d4612);_0x290b24[_0x2468fc(0x1b7)](_0x2d8bf2['arSGc'])[_0x2468fc(0x284)][_0x2468fc(0x282)](_0x2468fc(0x1ff)),(await fs['readFile'](path[_0x2468fc(0x2a1)](__dirname,_0x2468fc(0x253)),_0x2d8bf2['arSGc']))[_0x2468fc(0x284)][_0x2468fc(0x282)](_0x2d8bf2[_0x2468fc(0x2fe)]);});}),_0x52b512[_0x3f7ec8(0x258)](after,async function(){const _0x3b1e83=_0x3f7ec8;_0x2376aa[_0x3b1e83(0x2c1)]===_0x2376aa[_0x3b1e83(0x2c1)]?(await close(_0x3724cb),await _0x2376aa[_0x3b1e83(0x1cc)](remove,path[_0x3b1e83(0x2a1)](__dirname,_0x3b1e83(0x253))),await remove(path[_0x3b1e83(0x2a1)](__dirname,_0x2376aa[_0x3b1e83(0x2c7)]))):(_0x5663f3=new _0x1807eb(0x7dc,0x8,0xd,0x0,0xa,0xc),_0x817e91[_0x3b1e83(0x1a3)](_0x3b1e83(0x26e),_0x2376aa[_0x3b1e83(0x1f4)],_0x1066a1));});}),_0x52b512[_0xfbdcb3(0x2df)](describe,_0x52b512[_0xfbdcb3(0x25d)],function(){const _0x1b4098=_0xfbdcb3,_0x4926cc={'NiIqf':_0x52b512[_0x1b4098(0x2bd)],'uPySG':_0x1b4098(0x193),'PVmQQ':_0x1b4098(0x29e),'WYpBs':function(_0x1ed702,_0x4e1ecf){return _0x1ed702(_0x4e1ecf);},'joeVf':function(_0x136691,_0xd54edb,_0x591eff){return _0x136691(_0xd54edb,_0x591eff);},'UZTii':_0x52b512['JahNk']};var _0x3d5c3f;_0x52b512[_0x1b4098(0x2ca)](before,function(_0x36d9d8){const _0x97da61=_0x1b4098;fakeNow=new Date(0x7dc,0x8,0xc,0x0,0xa,0xc),_0x3d5c3f=new DateRollingFileStream(path[_0x97da61(0x2a1)](__dirname,_0x52b512['MQBfv']),_0x52b512['KmnMt'],{'fileNameSep':'_','compress':!![],'keepFileExt':!![]}),_0x3d5c3f['write'](_0x97da61(0x1ff),_0x52b512[_0x97da61(0x2ee)],_0x36d9d8);}),_0x52b512['LiHYh'](describe,_0x52b512[_0x1b4098(0x1e9)],function(){const _0x39b9c1=_0x1b4098,_0x4d06b3={'xFeXj':_0x39b9c1(0x193),'IgYRB':_0x4926cc['PVmQQ']};_0x4926cc['WYpBs'](before,function(_0x5034c3){const _0x13a133=_0x39b9c1;fakeNow=new Date(0x7dc,0x8,0xd,0x0,0xa,0xc),_0x3d5c3f[_0x13a133(0x1a3)](_0x4926cc[_0x13a133(0x219)],_0x4926cc['uPySG'],_0x5034c3);}),it(_0x39b9c1(0x272),async function(){const _0x4ae9fd=_0x39b9c1,_0x12b927=await fs[_0x4ae9fd(0x21c)](__dirname);var _0x2d45dc=_0x12b927['filter'](_0x32e69b=>_0x32e69b[_0x4ae9fd(0x28d)](_0x4ae9fd(0x1b6))>-0x1);_0x2d45dc['should'][_0x4ae9fd(0x207)][_0x4ae9fd(0x1c4)](0x2);const _0xa3e4b2=await fs[_0x4ae9fd(0x2a3)](path['join'](__dirname,_0x4ae9fd(0x1e3))),_0x5e6acc=await gunzip(_0xa3e4b2);_0x5e6acc[_0x4ae9fd(0x1b7)](_0x4d06b3[_0x4ae9fd(0x215)])['should']['eql'](_0x4ae9fd(0x1ff)),(await fs[_0x4ae9fd(0x2a3)](path[_0x4ae9fd(0x2a1)](__dirname,_0x4d06b3[_0x4ae9fd(0x199)]),_0x4d06b3[_0x4ae9fd(0x215)]))[_0x4ae9fd(0x284)]['eql']('Second\x20message\x0a');});}),_0x52b512[_0x1b4098(0x2ec)](after,async function(){const _0x3023d4=_0x1b4098;_0x3023d4(0x2e7)!==_0x3023d4(0x2e7)?_0x465805=new _0x5baad3(_0x5d63ab[_0x3023d4(0x2a1)](_0x54b9ba,_0x3023d4(0x223)),_0x3023d4(0x206),{'mode':_0x4926cc[_0x3023d4(0x2e9)](_0x2d4b4b,_0x4926cc[_0x3023d4(0x1e1)],0x8)}):(await close(_0x3d5c3f),await _0x52b512['ajNcl'](remove,path['join'](__dirname,_0x3023d4(0x29e))),await remove(path[_0x3023d4(0x2a1)](__dirname,_0x3023d4(0x1e3))));});}),describe(_0xfbdcb3(0x22f),()=>{const _0x520b05=_0xfbdcb3,_0x164fbe={'Kcvto':function(_0x1b9e21,_0x4ee05c,_0x409893){return _0x52b512['fpYqm'](_0x1b9e21,_0x4ee05c,_0x409893);},'ZTScq':_0x52b512[_0x520b05(0x2ee)],'cVCRw':'kOVit','dAwLG':function(_0x4fbe22,_0x17881b){return _0x4fbe22!==_0x17881b;},'AntxQ':_0x52b512[_0x520b05(0x226)],'HazmP':function(_0xb8d03b){return _0x52b512['VbkgE'](_0xb8d03b);},'rebew':_0x520b05(0x2e8),'gJePR':_0x520b05(0x203)},_0x52f6a9=process[_0x520b05(0x22b)](_0x520b05(0x1c3))[_0x520b05(0x2ac)]();let _0x20f71c,_0x205596;_0x52b512[_0x520b05(0x208)](before,_0xdae6e7=>{const _0x17ee7c=_0x520b05,_0x364e35={'iDqhy':_0x164fbe[_0x17ee7c(0x262)],'XfmBB':_0x164fbe[_0x17ee7c(0x2ab)],'FyCMF':function(_0x4d6b8f,_0x2eb05d){return _0x4d6b8f(_0x2eb05d);},'ecGpr':_0x17ee7c(0x2b2),'oHKkQ':function(_0xd32730,_0x5009a5){const _0x3e8634=_0x17ee7c;return _0x164fbe[_0x3e8634(0x275)](_0xd32730,_0x5009a5);},'kXMuL':_0x164fbe['AntxQ']},_0x41398c=_0x20cf89=>{const _0x590d1b=_0x17ee7c,_0x311919={'JrDEZ':'safe'};return _0x164fbe[_0x590d1b(0x1bc)](setTimeout,function(){const _0x19b56f=_0x590d1b;console[_0x19b56f(0x264)](_0x311919[_0x19b56f(0x256)]);},0x64),_0x4b6849=>{const _0x28e905=_0x590d1b,_0x2206c3={'GrPru':_0x364e35[_0x28e905(0x28c)]};if(_0x364e35[_0x28e905(0x2ce)]===_0x28e905(0x249)){if(_0x4b6849[_0x28e905(0x1ef)]===_0x28e905(0x1cd)&&_0x4b6849['code']===_0x28e905(0x28b)){_0x364e35['FyCMF'](Function,_0x364e35[_0x28e905(0x1fa)])();return;}else _0x364e35[_0x28e905(0x195)](_0x28e905(0x298),_0x364e35['kXMuL'])?_0x226c36(function(){const _0x5df997=_0x28e905;_0x16bd74[_0x5df997(0x1a3)](_0x5df997(0x1ff),_0x2206c3[_0x5df997(0x2d1)],()=>_0x4df977());},0x32):_0x20cf89(_0x4b6849);}else _0x3ee5bd=new _0x1da262(0x7dc,0x8,0xd,0x0,0xa,0xc),_0x4f4eb2[_0x28e905(0x1a3)]('Second\x20message\x0a',_0x2206c3[_0x28e905(0x2d1)],_0x28c3c5);};};_0x20f71c=_0x41398c(_0x52f6a9),process[_0x17ee7c(0x2b7)]('warning',_0x20f71c),process['off'](_0x17ee7c(0x1c3),_0x52f6a9),_0x164fbe[_0x17ee7c(0x1ae)](_0xdae6e7);}),after(async()=>{const _0x1fcda3=_0x520b05;process['prependListener'](_0x52b512[_0x1fcda3(0x2e6)],_0x52f6a9),process[_0x1fcda3(0x1f9)](_0x52b512['QRxRX'],_0x20f71c),await close(_0x205596),await remove(path[_0x1fcda3(0x2a1)](__dirname,_0x52b512[_0x1fcda3(0x289)]));}),it(_0x52b512[_0x520b05(0x28f)],()=>{const _0xabf8bc=_0x520b05;process['on']('warning',_0x4a52a7=>{const _0x2d53fe=_0x18d9;_0x4a52a7[_0x2d53fe(0x1ef)][_0x2d53fe(0x284)]['eql'](_0x2d53fe(0x1cd)),_0x4a52a7[_0x2d53fe(0x232)]['should']['eql'](_0x2d53fe(0x28b));}),_0x205596=new DateRollingFileStream(path['join'](__dirname,_0xabf8bc(0x24b)),{'daysToKeep':0x4});}),describe(_0x52b512[_0x520b05(0x2f3)],()=>{const _0xd2be59=_0x520b05;it(_0xd2be59(0x2bb),()=>{const _0x272540=_0xd2be59;_0x205596[_0x272540(0x2c3)][_0x272540(0x1b1)][_0x272540(0x284)][_0x272540(0x282)](_0x205596[_0x272540(0x2c3)][_0x272540(0x2ba)]);}),_0x52b512[_0xd2be59(0x209)](it,_0x52b512[_0xd2be59(0x196)],()=>{const _0x533729=_0xd2be59;_0x205596[_0x533729(0x2c3)][_0x533729(0x2f6)][_0x533729(0x284)][_0x533729(0x282)](_0x205596[_0x533729(0x2c3)][_0x533729(0x1b1)]+0x1);});}),describe('with\x20both\x20options.daysToKeep\x20and\x20options.numBackups',function(){const _0x2788f5=_0x520b05,_0x10960f={'IbXtx':_0x2788f5(0x1b9),'LxyNq':function(_0x333dc5,_0x58f6c6,_0x44a568){return _0x333dc5(_0x58f6c6,_0x44a568);},'YpTGc':_0x164fbe[_0x2788f5(0x1b3)],'Ljyrl':function(_0x39c85e,_0x1f0537){return _0x39c85e(_0x1f0537);}};let _0x5a6861;it(_0x164fbe['gJePR'],function(){const _0x2edcd7=_0x2788f5,_0x53a697=_0x10960f[_0x2edcd7(0x25a)]['split']('|');let _0x20e86d=0x0;while(!![]){switch(_0x53a697[_0x20e86d++]){case'0':_0x5a6861['options'][_0x2edcd7(0x1b1)][_0x2edcd7(0x284)][_0x2edcd7(0x282)](0x9);continue;case'1':_0x5a6861[_0x2edcd7(0x2c3)][_0x2edcd7(0x2f6)]['should'][_0x2edcd7(0x282)](0xa);continue;case'2':_0x5a6861[_0x2edcd7(0x2c3)]['daysToKeep'][_0x2edcd7(0x284)][_0x2edcd7(0x282)](0x9);continue;case'3':_0x5a6861[_0x2edcd7(0x2c3)]['daysToKeep']['should'][_0x2edcd7(0x2b8)][_0x2edcd7(0x282)](0x3);continue;case'4':_0x5a6861=new DateRollingFileStream(path['join'](__dirname,'numBackups.log'),{'daysToKeep':0x3,'numBackups':0x9});continue;}break;}}),after(async function(){const _0x202e1e=_0x2788f5;_0x202e1e(0x24e)===_0x202e1e(0x24e)?(await _0x10960f[_0x202e1e(0x1b2)](close,_0x5a6861),await remove(_0x202e1e(0x229))):_0x22a2df[_0x202e1e(0x1d3)][_0x202e1e(0x2ae)]['should']['eql'](_0x10960f[_0x202e1e(0x269)](_0x41aef8,_0x10960f[_0x202e1e(0x1c7)],0x8));});});}),_0x52b512[_0xfbdcb3(0x1bd)](describe,_0x52b512[_0xfbdcb3(0x2c9)],()=>{const _0x50ddcc=_0xfbdcb3;it(_0x50ddcc(0x2bc),()=>{const _0xe207ed=_0x50ddcc,_0x11309a={'HHCZR':'numBackups.log'},_0x3534a1=-0x1;(()=>{const _0x30661b=_0x18d9;new DateRollingFileStream(path[_0x30661b(0x2a1)](__dirname,_0x11309a[_0x30661b(0x245)]),{'numBackups':_0x3534a1});})['should'][_0xe207ed(0x2e4)](_0xe207ed(0x251)+_0x3534a1+_0xe207ed(0x2f5));}),_0x52b512[_0x50ddcc(0x2a9)](it,_0x50ddcc(0x205),()=>{const _0xe3a54f=_0x50ddcc,_0x58b9a8=Number[_0xe3a54f(0x260)];(()=>{const _0x51f393=_0xe3a54f;new DateRollingFileStream(path[_0x51f393(0x2a1)](__dirname,_0x51f393(0x229)),{'numBackups':_0x58b9a8});})['should'][_0xe3a54f(0x2e4)]('options.numBackups\x20('+_0x58b9a8+_0xe3a54f(0x24d));});}),_0x52b512['ZOEmz'](describe,_0x52b512[_0xfbdcb3(0x1af)],function(){const _0x4e377f=_0xfbdcb3,_0x4bfdf7={'IamvT':_0x52b512[_0x4e377f(0x1a7)],'fMsKt':function(_0x5611dd,_0x5b00b4){return _0x52b512['pFrKc'](_0x5611dd,_0x5b00b4);},'mAEDR':_0x52b512[_0x4e377f(0x21b)]};if(_0x52b512['uGLxN'](_0x4e377f(0x1ed),_0x52b512[_0x4e377f(0x2a8)])){let _0x1bd5fe;var _0x52c8ab=0x4,_0x5f3b83=0xa;_0x52b512[_0x4e377f(0x202)](before,async function(){const _0x1ca387=_0x4e377f;if(_0x1ca387(0x1fb)!==_0x4bfdf7[_0x1ca387(0x225)]){fakeNow=new Date(0x7dc,0x8,0xd,0x0,0xa,0xc);for(let _0x5c4163=0x0;_0x4bfdf7[_0x1ca387(0x268)](_0x5c4163,_0x5f3b83);_0x5c4163+=0x1){await fs[_0x1ca387(0x285)](path['join'](__dirname,_0x1ca387(0x236)+(0x14-_0x5c4163)),_0x1ca387(0x1ab)+_0x5c4163+'\x0a',{'encoding':_0x1ca387(0x266)});}_0x1bd5fe=new DateRollingFileStream(path[_0x1ca387(0x2a1)](__dirname,_0x1ca387(0x229)),'yyyy-MM-dd',{'alwaysIncludePattern':!![],'numBackups':_0x52c8ab});}else _0x27c61d[_0x1ca387(0x2c3)][_0x1ca387(0x2fb)][_0x1ca387(0x284)][_0x1ca387(0x282)](_0x1ca387(0x206));}),describe('when\x20the\x20day\x20changes',function(){const _0x5081d8=_0x4e377f;_0x52b512[_0x5081d8(0x29c)](before,function(_0x4c010a){const _0x50d513=_0x5081d8;fakeNow=new Date(0x7dc,0x8,0x15,0x0,0xa,0xc),_0x1bd5fe[_0x50d513(0x1a3)](_0x4bfdf7['mAEDR'],_0x50d513(0x193),_0x4c010a);}),it('should\x20be\x20numBackups\x20+\x201\x20files\x20left\x20from\x20numOriginalLogs',async function(){const _0x11d45b=_0x5081d8,_0xae0ad=await fs[_0x11d45b(0x21c)](__dirname);var _0x1f7d80=_0xae0ad['filter'](_0x22b1dc=>_0x22b1dc[_0x11d45b(0x28d)](_0x11d45b(0x229))>-0x1);_0x1f7d80[_0x11d45b(0x284)][_0x11d45b(0x207)][_0x11d45b(0x1c4)](_0x52c8ab+0x1);});}),after(async function(){const _0x4ac732=_0x4e377f;await close(_0x1bd5fe);const _0x2aa2de=await fs[_0x4ac732(0x21c)](__dirname),_0x403a9b=_0x2aa2de[_0x4ac732(0x220)](_0x39f180=>_0x39f180[_0x4ac732(0x28d)](_0x4ac732(0x229))>-0x1)[_0x4ac732(0x2d3)](_0x1923ee=>remove(path[_0x4ac732(0x2a1)](__dirname,_0x1923ee)));await Promise[_0x4ac732(0x2f2)](_0x403a9b);});}else{const _0x3dfc09={'hlINc':_0x52b512['nAnYf']},_0x53af4e=-0x1;(()=>{const _0x184394=_0x4e377f;new _0x478a86(_0x420dc5[_0x184394(0x2a1)](_0x46bf99,_0x3dfc09['hlINc']),{'numBackups':_0x53af4e});})['should'][_0x4e377f(0x2e4)]('options.numBackups\x20('+_0x53af4e+_0x4e377f(0x2f5));}}),_0x52b512[_0xfbdcb3(0x1df)](describe,_0xfbdcb3(0x191),function(){const _0x1ebcfc=_0xfbdcb3,_0x1fbdae={'jaZrN':_0x52b512[_0x1ebcfc(0x2ee)]};if(_0x1ebcfc(0x1e2)!==_0x1ebcfc(0x1e2))_0x4c57a8=new _0x2a886e(_0x56b3c9['join'](_0x577430,_0x52b512[_0x1ebcfc(0x200)]),{'mode':_0x52b512[_0x1ebcfc(0x1b5)](_0xbe1624,_0x1ebcfc(0x2e8),0x8)});else{let _0x2a7562;const _0x571e62=0x4,_0x367f09=0xa;before(async function(){const _0x1cbe61=_0x1ebcfc;fakeNow=new Date(0x7dc,0x8,0xd,0x0,0xa,0xc);for(let _0x8d402b=_0x367f09;_0x8d402b>=0x0;_0x8d402b-=0x1){const _0x41e387=await _0x52b512[_0x1cbe61(0x24f)](gzip,_0x1cbe61(0x1ab)+_0x8d402b+'\x0a');await fs[_0x1cbe61(0x285)](path['join'](__dirname,_0x1cbe61(0x26a)+(0x14-_0x8d402b)+_0x1cbe61(0x2a6)),_0x41e387);}_0x2a7562=new DateRollingFileStream(path[_0x1cbe61(0x2a1)](__dirname,_0x1cbe61(0x2e5)),_0x52b512[_0x1cbe61(0x2d7)],{'alwaysIncludePattern':!![],'compress':!![],'numBackups':_0x571e62});}),_0x52b512[_0x1ebcfc(0x233)](describe,_0x52b512[_0x1ebcfc(0x1e9)],function(){const _0x2cb72f=_0x1ebcfc,_0xd47368={'RYLzC':_0x52b512[_0x2cb72f(0x2bd)],'asKXt':_0x52b512[_0x2cb72f(0x2ee)]};_0x52b512['RjAnT'](_0x2cb72f(0x1a0),_0x52b512[_0x2cb72f(0x2a4)])?(before(function(_0x4a3b0f){const _0x4289ee=_0x2cb72f;fakeNow=new Date(0x7dc,0x8,0x15,0x0,0xa,0xc),_0x2a7562[_0x4289ee(0x1a3)](_0x4289ee(0x1eb),_0x1fbdae[_0x4289ee(0x2d9)],_0x4a3b0f);}),_0x52b512['TsPTQ'](it,_0x2cb72f(0x1f0),async function(){const _0x32229d=_0x2cb72f,_0x1b5c6b=await fs['readdir'](__dirname);var _0x1e4b03=_0x1b5c6b[_0x32229d(0x220)](_0x563a26=>_0x563a26['indexOf'](_0x32229d(0x2e5))>-0x1);_0x1e4b03[_0x32229d(0x284)][_0x32229d(0x207)][_0x32229d(0x1c4)](_0x571e62+0x1);})):(_0x2e2a3e=new _0x26e11e(0x7dc,0x8,0xc,0xc,0xa,0xc),_0x123f40[_0x2cb72f(0x1a3)](_0xd47368[_0x2cb72f(0x2f1)],_0xd47368['asKXt'],_0x390177));}),_0x52b512[_0x1ebcfc(0x2ca)](after,async function(){const _0x508089=_0x1ebcfc;await _0x52b512[_0x508089(0x1a2)](close,_0x2a7562);const _0x4cc5d3=await fs[_0x508089(0x21c)](__dirname),_0x38993e=_0x4cc5d3[_0x508089(0x220)](_0x5e1c74=>_0x5e1c74[_0x508089(0x28d)](_0x508089(0x2e5))>-0x1)[_0x508089(0x2d3)](_0x29b807=>remove(path[_0x508089(0x2a1)](__dirname,_0x29b807)));await Promise[_0x508089(0x2f2)](_0x38993e);});}});});function _0x1b3c(){const _0x5c9cd3=['should\x20create\x20a\x20file\x20with\x20the\x20base\x20name','IgYRB','Zepjm','UyqBQ','zrTVO','Eznvn','ANslK','jnsRh','qpuKm','vCfHf','Zvrxe','write','noPreserveCache','flags','iBqli','GaWkU','iTMZd','yjjGQ','KilDI','Message\x20on\x20day\x20','ABIsl','163986ujgAkb','HazmP','daRFZ','the\x20file\x20without\x20a\x20date','numBackups','Ljyrl','rebew','YVRDI','eCoXH','fileNameSepCompressedAndKeepExt','toString','HpUkc','4|3|2|0|1','promisify','30vhbbrG','Kcvto','XeSHI','gzip','Hifsh','should\x20be\x20generated\x20into\x20stream.options.numToKeep\x20from\x20options.numBackups','yyyy-MM-dd-hh.log','dmeTE','warning','length','keepFileExt.2012-09-12.log','instanceOf','YpTGc','ZrUki','lYiFR','EwhUc','with\x20compress\x20option','arzxc','DeprecationWarning','should\x20use\x20default\x20pattern','ZOEmz','HubjX','alxSk','hleWD','theStream','uiFbS','CjCyw','digits.log.20120912','UJzmg','MoZDy','359719QqdEDu','with\x20fileNameSep\x20option\x20and\x20keepFileExt\x20option','mIZWH','8904ncjErx','EvRNw','LXQeF','LiHYh','TsPTQ','UZTii','JwCbu','fileNameSepCompressedAndKeepExt_2012-09-12.log.gz','SWeyD','BhUoH','fileNameSepAndKeepExt','YHNrs','PhbKJ','XBSUT','tXjCq','New\x20file\x20message\x0a','DsBrW','JIpSh','HjBdZ','name','should\x20be\x205\x20files\x20left\x20from\x20original\x2011','fcAps','gunzip','compressed.log.2012-09-12.gz','kXSmg','ZjAKZ','RRzae','fileNameSep.log_2012-09-12','2638557ECxrjC','off','ecGpr','FcjUC','CGEvI','keepFileExt','vOAIc','First\x20message\x0a','yhxuD','XPhcA','heFQZ','should\x20take\x20options.numBackups\x20to\x20supercede\x20options.daysToKeep','filename','should\x20complain\x20about\x20numBackups\x20>=\x20Number.MAX_SAFE_INTEGER','yyyy-MM-dd','have','ozsRj','ELGtI','compressedAndKeepExt','fileNameSepAndCompressed','qgIYc','keQAz','aXTys','nJGTA','test-date-rolling-file-stream-1','iVbwX','yRcyU','NTAXy','ULcuf','xFeXj','IBOOq','faouT','MrWZT','NiIqf','NwDZC','LXIGP','readdir','should\x20pass\x20them\x20to\x20the\x20underlying\x20stream','mtBeo','nHVsm','filter','should\x20have\x20deprecated\x20warning\x20for\x20daysToKeep','../lib/DateRollingFileStream','test-date-rolling-file-stream-3','with\x20fileNameSep\x20option','IamvT','vfrUJ','wnCuh','RRKqL','numBackups.log','12bztdoC','rawListeners','XSGVO','test-date-rolling-file-stream-2','jLvOS','using\x20deprecated\x20daysToKeep','fileNameSep.log','DHHZV','code','zFhwo','CFjwC','RjAnT','numBackups.log.2012-09-','Test\x20message\x0a','3225665gvAEWX','LlVDl','fileNameSepAndKeepExt.log','digits.log','cvUZk','keepFileExt.log','yyyy-MM-dd.hh','KBifh','Qklzd','hbBQU','test-date-rolling-file-stream-5..2012-09-12','Writable','compressedAndKeepExt.log','HHCZR','2224468ErmQFk','test-date-rolling-file-stream-pattern.2012-09-12-11.log','116jJXAyb','kOVit','fileNameSepAndCompressed.log_2012-09-12.gz','daysToKeep.log','yiNgR',')\x20should\x20be\x20<\x20Number.MAX_SAFE_INTEGER','AByky','lWWub','default\x20arguments','options.numBackups\x20(','VOUOd','fileNameSepAndCompressed.log','KXmts','PVlTr','JrDEZ','doBNF','TCyoW','epBIy','IbXtx','PdEdv','HBirE','eZvmX','ggLEb','JahNk','MAX_SAFE_INTEGER','gwRok','ZTScq','fileNameSep','log','NUAzT','utf-8','CcGhc','fMsKt','LxyNq','compressedNumBackups.log.2012-09-','with\x20alwaysIncludePattern','yyyyMMdd','LYGWQ','Second\x20message\x0a','compressed.log','NnAfl','arguments','should\x20be\x20two\x20files,\x20one\x20compressed','VLrbZ','the\x20number\x20of\x20files','dAwLG','mCljo','Wuwdo','should\x20create\x20a\x20file\x20with\x20the\x20pattern\x20set','XmsQl','umjpV','ONFzo','ZBLKE','should\x20contain\x20the\x20second\x20message','with\x20a\x20pattern\x20of\x20.yyyy-MM-dd','should\x20take\x20a\x20filename\x20and\x20a\x20pattern\x20and\x20return\x20a\x20WritableStream','Zhlcr','UnhxG','eql','kjKMx','should','writeFile','FuaKz','RyylT','with\x20options.daysToKeep\x20but\x20not\x20options.numBackups','JSpdd','leypi','StreamRoller0001','iDqhy','indexOf','yhhak','lPAgs','compressedAndKeepExt.2012-09-12.log.gz','CbEbV','AgLoS','WgFMD','dSgBg','zxPzP','test-date-rolling-file-stream-pattern.2012-09-12-12.log','should\x20be\x20two\x20files\x20(it\x20should\x20not\x20get\x20confused\x20by\x20indexes)','HrnEF','23720807AADRdx','iLYFt','with\x20default\x20settings\x20for\x20the\x20underlying\x20stream','UWSEE','DRnzZ','fileNameSepCompressedAndKeepExt.log','with\x20stream\x20arguments','CoXmW','join','the\x20file\x20with\x20the\x20date','readFile','zdOUs','EdiDG','.gz','NnfIJ','WfeWa','uhgDi','kEPPT','cVCRw','shift','tsLEJ','mode','UGMbp','hrcNU','when\x20the\x20day\x20changes','return\x20Object.keys({a:1});','SzXNt','CfgHS','seaKR','RSAGR','prependListener','not','with\x20fileNameSep\x20option\x20and\x20compress\x20option','daysToKeep','should\x20be\x20routed\x20from\x20options.daysToKeep\x20to\x20options.numBackups','should\x20complain\x20about\x20negative\x20numBackups','ZOFVj','fpYqm','LqCkH','with\x20fileNameSep\x20option,\x20compress\x20option\x20and\x20keepFileExt\x20option','igbGA','dVDqw','options','mgFeN','fs-extra','pMGSh','Worif','rAhqD','rhQju','EQnwb','with\x20invalid\x20number\x20of\x20numBackups','should\x20have\x20pattern\x20of\x20yyyy-MM-dd','waqyo','XfmBB','wbrtT','currentFileStream','GrPru','should\x20be\x20two\x20files','map','UMNmF','QISQf','dXQAh','KmnMt','ZRNxC','jaZrN','test-date-rolling-file-stream-5','EkWJl','the\x20file\x20with\x20the\x20later\x20date','Vnahw','test-date-rolling-file-stream-pattern','DaFur','path','with\x20stream\x20arguments\x20but\x20no\x20pattern','10703VzdsEE','fileNameSepAndKeepExt_2012-09-12.log','throw','compressedNumBackups.log','QRxRX','VCZDa','0666','joeVf','dFolq','stream','cFLGL','catch','ZOHRR','eyrXf','AZOnu','RYLzC','all','uoEWR','xEbZR',')\x20should\x20be\x20>=\x200','numToKeep','NGDUL','SrQVt','QQySs','fTYBK','pattern','../lib/RollingFileWriteStream','ICkHt','FDRHu','.yyyy-MM-dd','PJZOa','DKbtb','vPQxa','with\x20numBackups\x20and\x20compress\x20options','qlxur','utf8','yBrXi','oHKkQ','mnHxT','miznl'];_0x1b3c=function(){return _0x5c9cd3;};return _0x1b3c();}