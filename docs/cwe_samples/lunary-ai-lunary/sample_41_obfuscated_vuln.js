const _0x58d390=_0x1972;(function(_0x3925e9,_0x4c4f60){const _0x1f4f4e=_0x1972,_0x5eebce=_0x3925e9();while(!![]){try{const _0x42f20c=parseInt(_0x1f4f4e(0x1ae))/0x1*(-parseInt(_0x1f4f4e(0x1a3))/0x2)+-parseInt(_0x1f4f4e(0x1ba))/0x3+-parseInt(_0x1f4f4e(0x195))/0x4*(parseInt(_0x1f4f4e(0x18f))/0x5)+-parseInt(_0x1f4f4e(0x1ab))/0x6+parseInt(_0x1f4f4e(0x1ac))/0x7+-parseInt(_0x1f4f4e(0x1aa))/0x8*(parseInt(_0x1f4f4e(0x1b1))/0x9)+parseInt(_0x1f4f4e(0x192))/0xa;if(_0x42f20c===_0x4c4f60)break;else _0x5eebce['push'](_0x5eebce['shift']());}catch(_0x505f57){_0x5eebce['push'](_0x5eebce['shift']());}}}(_0x2ba6,0x59e52));import{test}from'@jest/globals';import*as _0x59f22f from'node:fs';import*as _0x3e406c from'node:path';import*as _0x643a1c from'node:os';import{LocalFileStore}from'../file_system.js';function _0x2ba6(){const _0x313053=['LocalFileStore\x20can\x20write\x20&\x20read\x20values','23404030mBisvC','sort','LocalFileStore\x20works\x20with\x20a\x20file\x20which\x20does\x20not\x20exist','55168AEobwF','mget','toEqual','push','key1','LocalFileStore\x20can\x20delete\x20values','mset','every','decode','join','map','promises','gFpNW','mkdtempSync','754GhUIbd','toBe','file_system_store_test','Value\x20is\x20undefined','TtNeu','mdelete','tmpdir','40mKOoZl','2074302SjJveS','3641344TrWCGj','prefix_','1091EKtQms','DGaaD','yieldKeys','1234332VyjrSG','geEdW','encode','SShPb','LocalFileStore\x20can\x20yield\x20keys\x20with\x20prefix','LocalFileStore','key2','fromPath','qvvRK','2031711REDSoj','Fyqum','tABGf','toISOString','SRHsZ','135YhRQxd','DfXmc'];_0x2ba6=function(){return _0x313053;};return _0x2ba6();}function _0x1972(_0x3312d1,_0xfebf59){const _0x2ba6ed=_0x2ba6();return _0x1972=function(_0x197294,_0x2a3b8e){_0x197294=_0x197294-0x18e;let _0x1e4947=_0x2ba6ed[_0x197294];return _0x1e4947;},_0x1972(_0x3312d1,_0xfebf59);}describe(_0x58d390(0x1b6),()=>{const _0x516db9=_0x58d390,_0x5f3d={'Fyqum':function(_0x4d38e0,_0x567557){return _0x4d38e0+_0x567557;},'SRHsZ':function(_0x14b74d,_0x52bd4d){return _0x14b74d(_0x52bd4d);},'SShPb':function(_0x2cace9,_0x3dba60){return _0x2cace9(_0x3dba60);},'gFpNW':_0x516db9(0x1ad),'TtNeu':_0x516db9(0x1b7),'DfXmc':_0x516db9(0x1a5),'geEdW':'./file_system_store_test_secondary','DGaaD':_0x516db9(0x191),'qvvRK':function(_0x27a172,_0x229dae,_0x22f43f){return _0x27a172(_0x229dae,_0x22f43f);},'tABGf':_0x516db9(0x1b5),'mJgzl':_0x516db9(0x194)},_0x1bacac=[_0x516db9(0x199),_0x5f3d[_0x516db9(0x1a7)]],_0x2be621=_0x59f22f[_0x516db9(0x1a2)](_0x3e406c[_0x516db9(0x19e)](_0x643a1c[_0x516db9(0x1a9)](),_0x5f3d[_0x516db9(0x190)])),_0x11c879=_0x5f3d[_0x516db9(0x1b2)];test(_0x5f3d[_0x516db9(0x1af)],async()=>{const _0x5256b0=_0x516db9,_0x1feb42=new TextEncoder(),_0x2ed21f=new TextDecoder(),_0x14e86c=await LocalFileStore[_0x5256b0(0x1b8)](_0x2be621),_0x27e4ff=new Date()[_0x5256b0(0x1bd)](),_0x4b141d=_0x5f3d[_0x5256b0(0x1bb)](new Date()['toISOString'](),new Date()['toISOString']());await _0x14e86c[_0x5256b0(0x19b)]([[_0x1bacac[0x0],_0x1feb42[_0x5256b0(0x1b3)](_0x27e4ff)],[_0x1bacac[0x1],_0x1feb42[_0x5256b0(0x1b3)](_0x4b141d)]]);const _0x3c7354=await _0x14e86c['mget']([_0x1bacac[0x0],_0x1bacac[0x1]]),_0x5ba673=_0x3c7354[_0x5256b0(0x19c)](_0x385a6b=>_0x385a6b!==undefined);expect(_0x5ba673)['toBe'](!![]),_0x5f3d[_0x5256b0(0x18e)](expect,_0x3c7354['map'](_0x303c1f=>_0x2ed21f[_0x5256b0(0x19d)](_0x303c1f)))[_0x5256b0(0x197)]([_0x27e4ff,_0x4b141d]);}),_0x5f3d[_0x516db9(0x1b9)](test,_0x516db9(0x19a),async()=>{const _0x60c240=_0x516db9,_0x126f76=new TextEncoder(),_0x2303d=await LocalFileStore[_0x60c240(0x1b8)](_0x2be621),_0x3c36cc=new Date()[_0x60c240(0x1bd)](),_0x1f80ba=new Date()[_0x60c240(0x1bd)]()+new Date()[_0x60c240(0x1bd)]();await _0x2303d['mset']([[_0x1bacac[0x0],_0x126f76[_0x60c240(0x1b3)](_0x3c36cc)],[_0x1bacac[0x1],_0x126f76['encode'](_0x1f80ba)]]),await _0x2303d[_0x60c240(0x1a8)](_0x1bacac);const _0x6a533d=await _0x2303d['mget']([_0x1bacac[0x0],_0x1bacac[0x1]]),_0x3cf052=_0x6a533d[_0x60c240(0x19c)](_0x485307=>_0x485307===undefined);_0x5f3d[_0x60c240(0x1b4)](expect,_0x3cf052)[_0x60c240(0x1a4)](!![]);}),_0x5f3d[_0x516db9(0x1b9)](test,_0x5f3d[_0x516db9(0x1bc)],async()=>{const _0x5b1619=_0x516db9,_0x121736=new TextEncoder(),_0x52d472=_0x5f3d[_0x5b1619(0x1a1)],_0x10df33=_0x1bacac[_0x5b1619(0x19f)](_0x2ceab0=>''+_0x52d472+_0x2ceab0),_0xe85369=await LocalFileStore[_0x5b1619(0x1b8)](_0x2be621),_0x5b2091=new Date()[_0x5b1619(0x1bd)]();await _0xe85369['mset'](_0x10df33[_0x5b1619(0x19f)](_0x402264=>[_0x402264,_0x121736['encode'](_0x5b2091)]));const _0x5506a0=[];for await(const _0x584aac of _0xe85369[_0x5b1619(0x1b0)](_0x52d472)){_0x5506a0[_0x5b1619(0x198)](_0x584aac);}_0x5f3d[_0x5b1619(0x1b4)](expect,_0x5506a0[_0x5b1619(0x193)]())[_0x5b1619(0x197)](_0x10df33[_0x5b1619(0x193)]()),await _0xe85369[_0x5b1619(0x1a8)](_0x10df33);}),test(_0x5f3d['mJgzl'],async()=>{const _0x1a3e59=_0x516db9,_0x3c8293=new TextEncoder(),_0x1ed1ff=new TextDecoder(),_0x21c99d=await LocalFileStore['fromPath'](_0x11c879),_0x168b79=new Date()[_0x1a3e59(0x1bd)](),_0x47f116=_0x5f3d[_0x1a3e59(0x1bb)](new Date()['toISOString'](),new Date()[_0x1a3e59(0x1bd)]());await _0x21c99d[_0x1a3e59(0x19b)]([[_0x1bacac[0x0],_0x3c8293[_0x1a3e59(0x1b3)](_0x168b79)],[_0x1bacac[0x1],_0x3c8293[_0x1a3e59(0x1b3)](_0x47f116)]]);const _0xaa8b79=await _0x21c99d[_0x1a3e59(0x196)]([_0x1bacac[0x0],_0x1bacac[0x1]]),_0x4db1b6=_0xaa8b79[_0x1a3e59(0x19c)](_0x572c33=>_0x572c33!==undefined);expect(_0x4db1b6)['toBe'](!![]),expect(_0xaa8b79[_0x1a3e59(0x19f)](_0x4e669d=>{const _0x4b4a4a=_0x1a3e59;if(!_0x4e669d)throw new Error(_0x4b4a4a(0x1a6));return _0x1ed1ff[_0x4b4a4a(0x19d)](_0x4e669d);}))[_0x1a3e59(0x197)]([_0x168b79,_0x47f116]),await _0x59f22f[_0x1a3e59(0x1a0)]['rm'](_0x11c879,{'recursive':!![],'force':!![]});});});