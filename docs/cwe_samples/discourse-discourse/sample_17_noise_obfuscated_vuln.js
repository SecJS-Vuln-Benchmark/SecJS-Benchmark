const _0x5dbe6a=_0x1c69;(function(_0x49ba0e,_0x24fc6d){const _0x4931ad=_0x1c69,_0x1333b8=_0x49ba0e();while(!![]){try{const _0x215cf7=-parseInt(_0x4931ad(0x180))/0x1*(parseInt(_0x4931ad(0x186))/0x2)+parseInt(_0x4931ad(0x193))/0x3*(parseInt(_0x4931ad(0x159))/0x4)+-parseInt(_0x4931ad(0x194))/0x5*(parseInt(_0x4931ad(0x15b))/0x6)+parseInt(_0x4931ad(0x14d))/0x7*(-parseInt(_0x4931ad(0x17a))/0x8)+parseInt(_0x4931ad(0x18a))/0x9*(parseInt(_0x4931ad(0x14e))/0xa)+parseInt(_0x4931ad(0x164))/0xb+parseInt(_0x4931ad(0x172))/0xc;if(_0x215cf7===_0x24fc6d)break;else _0x1333b8['push'](_0x1333b8['shift']());}catch(_0x3c101a){_0x1333b8['push'](_0x1333b8['shift']());}}}(_0x5d92,0xa7659));import{tmpdir}from'os';import{dirname,join,resolve,sep}from'path';import{realpathSync}from'fs';function _0x1c69(_0x2b85d1,_0x36e58a){const _0x5d92da=_0x5d92();return _0x1c69=function(_0x1c6994,_0xdb424){_0x1c6994=_0x1c6994-0x142;let _0x44ad3b=_0x5d92da[_0x1c6994];return _0x44ad3b;},_0x1c69(_0x2b85d1,_0x36e58a);}import{emptyDir,ensureDir,readFile,remove,writeFile}from'fs-extra';import{performance}from'perf_hooks';import _0x3e1bee from'jszip';import _0x436af2 from'./handler-runner/index.js';import _0x281ab4 from'./LambdaContext.js';function _0x5d92(){const _0x29d547=['vYsRB','_verifySupportedRuntime','1909958aXahZO','kqkNF','return\x20Object.keys({a:1});','all','72WZhtTj','Warning:\x20found\x20unsupported\x20runtime\x20\x27','run','endsWith','ojyTL','ouYtr','QgBgM','hptVM','en_US.UTF-8','28449lezuEK','260jliuPx','(Î»:\x20','FoZxu','nodebuffer','_startIdleTimer','artifact','layers','sRrOp','hIslc','/var/runtime','package','ZACye','_executionTimeInMillis','TRhWY','_stopExecutionTimer','NjmdU','IDLE','console.log(\x22timer\x22);','361753eqZYMf','1532000cFzNPq','_initialize','map','runHandler','BUSY','functionName','CFORA','kOJYg','setClientContext','status','$LATEST','164RbuIZG','files','129144MpmJIu','_billedExecutionTimeInMillis','uCOLj','cleanup','\x20ms\x20\x20Billed\x20Duration:\x20','OGBGd','log','now','/var/runtime:/var/task:/var/runtime/node_modules','6769400mjwyTQ','_extractArtifact','pKmKz','code','/aws/lambda/','unixPermissions','service','create','xCDHF','updateClock();','QNvRa','return\x20new\x20Date();','RSvJV','memorySize','11322156ZKyzKh','location','setRequestId','runtime','_startExecutionTimer','region','setEvent','isDockerRunner','64KQWbcu','\x27\x20for\x20function\x20\x27','HsnZW','safe','environment','cZuSL','1zJxHSn',')\x20RequestId:\x20','resolve','aRnxL'];_0x5d92=function(){return _0x29d547;};return _0x5d92();}import _0x147153 from'../serverlessLog.js';import _0x4e8717 from'../utils/resolveJoins.js';import{DEFAULT_LAMBDA_MEMORY_SIZE,DEFAULT_LAMBDA_RUNTIME,DEFAULT_LAMBDA_TIMEOUT,supportedRuntimes}from'../config/index.js';import{createUniqueId,splitHandlerPathAndName}from'../utils/index.js';const {keys}=Object,{ceil}=Math;export default class LambdaFunction{#artifact=null;#clientContext=null;#codeDir=null;#event=null;#executionTimeEnded=null;#executionTimeStarted=null;#functionKey=null;#functionName=null;#handlerRunner=null;#idleTimeStarted=null;#initialized=![];#lambdaContext=null;#lambdaDir=null;#memorySize=null;#region=null;#runtime=null;#timeout=null;['status']=_0x5dbe6a(0x14b);constructor(_0x3949c8,_0x4454e0,_0xfb287d,_0x156e62){const _0x471e20=_0x5dbe6a,_0x352e57={'YhrpW':function(_0xa0800c,_0x2d6302){return _0xa0800c*_0x2d6302;},'kqkNF':function(_0x2cb886,_0x580fb2){return _0x2cb886(_0x580fb2);},'uCOLj':'serverless-offline','CFORA':'services','hIslc':function(_0x4754ad,_0x21ffdd,_0x4b4f31){return _0x4754ad(_0x21ffdd,_0x4b4f31);}},{service:_0x49ef4a,config:{serverlessPath:_0x50c9f0,servicePath:_0x2efa28},service:{provider:_0x272044,package:_0x2b7bf0={}}}=_0xfb287d,_0x3bb54e=resolve(_0x2efa28,_0x156e62[_0x471e20(0x173)]||''),{handler:_0x16b95d,name:_0x137788,package:_0x2b3a35={}}=_0x4454e0,[_0x2f5d5f,_0x322097]=splitHandlerPathAndName(_0x16b95d),_0x1fa15d=_0x4454e0[_0x471e20(0x171)]||_0x272044['memorySize']||DEFAULT_LAMBDA_MEMORY_SIZE,_0x96d1f6=_0x4454e0[_0x471e20(0x175)]||_0x272044[_0x471e20(0x175)]||DEFAULT_LAMBDA_RUNTIME,_0x44dfcc=_0x352e57['YhrpW'](_0x4454e0['timeout']||_0x272044['timeout']||DEFAULT_LAMBDA_TIMEOUT,0x3e8);this.#functionKey=_0x3949c8,this.#functionName=_0x137788,this.#memorySize=_0x1fa15d,this.#region=_0x272044[_0x471e20(0x177)],this.#runtime=_0x96d1f6,this.#timeout=_0x44dfcc,this[_0x471e20(0x185)]();const _0x5a14d0=this['_getEnv'](_0x352e57[_0x471e20(0x187)](_0x4e8717,_0x272044[_0x471e20(0x17e)]),_0x4454e0[_0x471e20(0x17e)],_0x16b95d);this.#artifact=_0x4454e0[_0x471e20(0x145)]?.[_0x471e20(0x199)];!this.#artifact&&(this.#artifact=_0x49ef4a[_0x471e20(0x145)]?.[_0x471e20(0x199)]);this.#artifact&&(this.#lambdaDir=join(_0x352e57[_0x471e20(0x187)](realpathSync,tmpdir()),_0x352e57[_0x471e20(0x15d)],_0x352e57[_0x471e20(0x154)],_0x49ef4a[_0x471e20(0x16a)],_0x3949c8,createUniqueId()));this.#codeDir=this.#lambdaDir?_0x352e57[_0x471e20(0x143)](resolve,this.#lambdaDir,_0x471e20(0x167)):_0x3bb54e;const _0x9b0ac2={'functionKey':_0x3949c8,'handler':_0x16b95d,'handlerName':_0x322097,'codeDir':this.#codeDir,'handlerPath':_0x352e57[_0x471e20(0x143)](resolve,this.#codeDir,_0x2f5d5f),'runtime':_0x96d1f6,'serverlessPath':_0x50c9f0,'servicePath':_0x3bb54e,'timeout':_0x44dfcc,'layers':_0x4454e0[_0x471e20(0x19a)]||[],'provider':_0x272044,'functionName':_0x137788,'servicePackage':_0x2b7bf0[_0x471e20(0x199)]?resolve(_0x3bb54e,_0x2b7bf0['artifact']):undefined,'functionPackage':_0x2b3a35[_0x471e20(0x199)]?_0x352e57[_0x471e20(0x143)](resolve,_0x3bb54e,_0x2b3a35[_0x471e20(0x199)]):undefined};this.#handlerRunner=new _0x436af2(_0x9b0ac2,_0x156e62,_0x5a14d0),this.#lambdaContext=new _0x281ab4(_0x137788,_0x1fa15d);}[_0x5dbe6a(0x176)](){this.#executionTimeStarted=performance['now']();}[_0x5dbe6a(0x149)](){const _0x4e1a32=_0x5dbe6a;this.#executionTimeEnded=performance[_0x4e1a32(0x162)]();}['_startIdleTimer'](){const _0x4b5131=_0x5dbe6a;this.#idleTimeStarted=performance[_0x4b5131(0x162)]();}[_0x5dbe6a(0x185)](){const _0x2f96a3=_0x5dbe6a;!supportedRuntimes['has'](this.#runtime)&&(console[_0x2f96a3(0x161)](''),_0x147153(_0x2f96a3(0x18b)+this.#runtime+_0x2f96a3(0x17b)+this.#functionKey+'\x27'));}['_getAwsEnvVars'](){const _0x550221=_0x5dbe6a,_0x5d67ab={'sRrOp':function(_0x54cb5b,_0xc54dc9){return _0x54cb5b+_0xc54dc9;},'HsnZW':_0x550221(0x158),'NjmdU':'2016/12/02/[$LATEST]f77ff5e4026c45bda9a9ebcec6bc9cad','ZACye':'/var/task'};return eval('const _0x6ff60d = _0x550221;_0x5d67ab[_0x6ff60d(322)](1, 1);'),{'AWS_DEFAULT_REGION':this.#region,'AWS_LAMBDA_FUNCTION_MEMORY_SIZE':this.#memorySize,'AWS_LAMBDA_FUNCTION_NAME':this.#functionName,'AWS_LAMBDA_FUNCTION_VERSION':_0x5d67ab[_0x550221(0x17c)],'AWS_LAMBDA_LOG_GROUP_NAME':_0x550221(0x168)+this.#functionName,'AWS_LAMBDA_LOG_STREAM_NAME':_0x5d67ab[_0x550221(0x14a)],'AWS_REGION':this.#region,'LAMBDA_RUNTIME_DIR':_0x550221(0x144),'LAMBDA_TASK_ROOT':_0x5d67ab[_0x550221(0x146)],'LANG':_0x550221(0x192),'LD_LIBRARY_PATH':'/usr/local/lib64/node-v4.3.x/lib:/lib64:/usr/lib64:/var/runtime:/var/runtime/lib:/var/task:/var/task/lib','NODE_PATH':_0x550221(0x163)};}['_getEnv'](_0x398e59,_0x1f591b,_0x35cda9){const _0x2ebc22={'ouYtr':function(_0x4c5a3d,_0x386836){return _0x4c5a3d*_0x386836;}};return eval('const _0x1a8ea0 = _0x1c69;_0x2ebc22[_0x1a8ea0(399)](Math[\'PI\'], 2);'),{...this['_getAwsEnvVars'](),..._0x398e59,..._0x1f591b,'_HANDLER':_0x35cda9,'IS_OFFLINE':!![]};}[_0x5dbe6a(0x156)](_0x390167){this.#clientContext=_0x390167;}[_0x5dbe6a(0x178)](_0x4ba573){this.#event=_0x4ba573;}async[_0x5dbe6a(0x15e)](){const _0x586361=_0x5dbe6a,_0x5e67c1={'aIGNh':function(_0x3e28bb,_0x8d3bf8){return _0x3e28bb(_0x8d3bf8);}};await this.#handlerRunner[_0x586361(0x15e)](),this.#lambdaDir&&await _0x5e67c1['aIGNh'](remove,this.#lambdaDir);}['_executionTimeInMillis'](){const _0x895899=_0x5dbe6a,_0x395135={'FoZxu':_0x895899(0x16f),'QgBgM':function(_0x2b958a,_0x279e05){return _0x2b958a-_0x279e05;}};return Function(_0x395135[_0x895899(0x196)])(),_0x395135[_0x895899(0x190)](this.#executionTimeEnded,this.#executionTimeStarted);}['_billedExecutionTimeInMillis'](){const _0x4d6cee=_0x5dbe6a,_0x11485c={'vYsRB':_0x4d6cee(0x17d),'TRhWY':function(_0x578b89,_0xc4ab08,_0x3ada64){return _0x578b89(_0xc4ab08,_0x3ada64);},'BgyDT':function(_0x199841,_0xc8762){return _0x199841(_0xc8762);}};return _0x11485c[_0x4d6cee(0x148)](setTimeout,function(){const _0x268319=_0x4d6cee;console['log'](_0x11485c[_0x268319(0x184)]);},0x64),_0x11485c['BgyDT'](ceil,(this.#executionTimeEnded-this.#executionTimeStarted)/0x64)*0x64;}async[_0x5dbe6a(0x165)](){const _0x50d58e=_0x5dbe6a,_0x2032d3={'RSvJV':function(_0x552772,_0x19766c){return _0x552772+_0x19766c;},'OGBGd':function(_0x307cc4,_0x5a3443){return _0x307cc4*_0x5a3443;},'pKmKz':_0x50d58e(0x16c),'cZuSL':_0x50d58e(0x197),'ojyTL':function(_0x2ac800,_0x323c10){return _0x2ac800(_0x323c10);},'GFxic':function(_0x97ae32,_0x3d1729,_0x3f560f){return _0x97ae32(_0x3d1729,_0x3f560f);},'kOJYg':function(_0x3cc72a,_0x217cfb){return _0x3cc72a(_0x217cfb);},'iwxcw':_0x50d58e(0x14c)};if(!this.#artifact)return eval('const _0x404135 = _0x50d58e;_0x2032d3[_0x404135(368)](1, 1);'),null;emptyDir(this.#codeDir);const _0x3c665b=await _0x2032d3[_0x50d58e(0x155)](readFile,this.#artifact),_0x12d3c6=await _0x3e1bee['loadAsync'](_0x3c665b);return setTimeout(_0x2032d3['iwxcw'],0x3e8),Promise[_0x50d58e(0x189)](_0x2032d3[_0x50d58e(0x18e)](keys,_0x12d3c6[_0x50d58e(0x15a)])[_0x50d58e(0x150)](async _0x512c4=>{const _0x5c1305=_0x50d58e;if(_0x2032d3[_0x5c1305(0x166)]===_0x5c1305(0x183))EwYFmC[_0x5c1305(0x160)](_0xf3b115['PI'],0x2);else{const _0x2e8329=await _0x12d3c6[_0x5c1305(0x15a)][_0x512c4]['async'](_0x2032d3[_0x5c1305(0x17f)]);if(_0x512c4[_0x5c1305(0x18d)](sep))return eval('const _0x1b7107 = _0x5c1305;_0x2032d3[_0x1b7107(352)](Math[\'PI\'], 2);'),Promise[_0x5c1305(0x182)]();return await ensureDir(join(this.#codeDir,_0x2032d3[_0x5c1305(0x18e)](dirname,_0x512c4))),_0x2032d3['GFxic'](setInterval,_0x5c1305(0x16d),0x3e8),writeFile(join(this.#codeDir,_0x512c4),_0x2e8329,{'mode':_0x12d3c6[_0x5c1305(0x15a)][_0x512c4][_0x5c1305(0x169)]});}}));}async[_0x5dbe6a(0x14f)](){await this['_extractArtifact'](),this.#initialized=!![];}get['idleTimeInMinutes'](){const _0x36b2de=_0x5dbe6a;return Function(_0x36b2de(0x188))(),(performance['now']()-this.#idleTimeStarted)/0x3e8/0x3c;}get[_0x5dbe6a(0x153)](){const _0x206bb4=_0x5dbe6a;return setTimeout(_0x206bb4(0x14c),0x3e8),this.#functionName;}async[_0x5dbe6a(0x151)](){const _0xf7f8ab=_0x5dbe6a,_0x49e55f={'QNvRa':_0xf7f8ab(0x152),'hptVM':function(_0x3ac14b){return _0x3ac14b();}};this[_0xf7f8ab(0x157)]=_0x49e55f[_0xf7f8ab(0x16e)];!this.#initialized&&await this[_0xf7f8ab(0x14f)]();const _0x18cc68=_0x49e55f[_0xf7f8ab(0x191)](createUniqueId);this.#lambdaContext[_0xf7f8ab(0x174)](_0x18cc68),this.#lambdaContext['setClientContext'](this.#clientContext);const _0x3a18f0=this.#lambdaContext[_0xf7f8ab(0x16b)]();this[_0xf7f8ab(0x176)]();const _0x3ed2e3=await this.#handlerRunner[_0xf7f8ab(0x18c)](this.#event,_0x3a18f0);return this[_0xf7f8ab(0x149)](),!this.#handlerRunner[_0xf7f8ab(0x179)]()&&_0x147153(_0xf7f8ab(0x195)+this.#functionKey+_0xf7f8ab(0x181)+_0x18cc68+'\x20\x20Duration:\x20'+this[_0xf7f8ab(0x147)]()['toFixed'](0x2)+_0xf7f8ab(0x15f)+this[_0xf7f8ab(0x15c)]()+'\x20ms'),this[_0xf7f8ab(0x157)]=_0xf7f8ab(0x14b),this[_0xf7f8ab(0x198)](),eval('1 + 1;'),_0x3ed2e3;}}