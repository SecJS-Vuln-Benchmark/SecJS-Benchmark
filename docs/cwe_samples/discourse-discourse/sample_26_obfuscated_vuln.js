const _0x2866ab=_0x2306;(function(_0x54e9c5,_0x57ccd0){const _0x5aa278=_0x2306,_0x4a77b5=_0x54e9c5();while(!![]){try{const _0x49be4f=-parseInt(_0x5aa278(0x24d))/0x1*(parseInt(_0x5aa278(0x215))/0x2)+-parseInt(_0x5aa278(0x251))/0x3+parseInt(_0x5aa278(0x22c))/0x4+parseInt(_0x5aa278(0x221))/0x5+-parseInt(_0x5aa278(0x20a))/0x6+-parseInt(_0x5aa278(0x1f9))/0x7+parseInt(_0x5aa278(0x22b))/0x8;if(_0x49be4f===_0x57ccd0)break;else _0x4a77b5['push'](_0x4a77b5['shift']());}catch(_0x3a530d){_0x4a77b5['push'](_0x4a77b5['shift']());}}}(_0x5127,0x6e485));function _0x2306(_0x5a6c7d,_0x5d8a92){const _0x5127dd=_0x5127();return _0x2306=function(_0x230683,_0x1f277b){_0x230683=_0x230683-0x1cf;let _0x573b32=_0x5127dd[_0x230683];return _0x573b32;},_0x2306(_0x5a6c7d,_0x5d8a92);}const {Callback,createMetadataAggregator}=require(_0x2866ab(0x233)),{Constants,VisionModes,openAISchema,EModelEndpoint,KnownEndpoints,anthropicSchema,isAgentsEndpoint,bedrockOutputParser,removeNullishValues}=require(_0x2866ab(0x22a)),{extractBaseURL}=require(_0x2866ab(0x249)),{formatMessage,formatAgentMessages,formatContentStrings,createContextHandlers}=require(_0x2866ab(0x21d)),{encodeAndFormat}=require(_0x2866ab(0x1e7)),Tokenizer=require(_0x2866ab(0x205)),{spendTokens}=require('~/models/spendTokens'),BaseClient=require(_0x2866ab(0x1ff)),{createRun}=require('./run'),{logger}=require(_0x2866ab(0x1e0)),providerParsers={[EModelEndpoint[_0x2866ab(0x1f6)]]:openAISchema,[EModelEndpoint['azureOpenAI']]:openAISchema,[EModelEndpoint['anthropic']]:anthropicSchema,[EModelEndpoint[_0x2866ab(0x21c)]]:bedrockOutputParser},legacyContentEndpoints=new Set([KnownEndpoints[_0x2866ab(0x25a)],KnownEndpoints[_0x2866ab(0x229)]]);class AgentClient extends BaseClient{constructor(_0xa2bcf={}){const _0x43492f=_0x2866ab,_0x240cd1={'QeHIL':_0x43492f(0x246)};super(null,_0xa2bcf),this[_0x43492f(0x1f0)]=_0x240cd1[_0x43492f(0x219)],this[_0x43492f(0x218)]=!![],this[_0x43492f(0x1f1)];const {contentParts:_0x4b1689,collectedUsage:_0x87cf7e,artifactPromises:_0x1b7dfd,maxContextTokens:_0x3aa16e,modelOptions:modelOptions={},..._0x341d54}=_0xa2bcf;this[_0x43492f(0x247)]=modelOptions,this['maxContextTokens']=_0x3aa16e,this[_0x43492f(0x1dd)]=_0x4b1689,this[_0x43492f(0x217)]=_0x87cf7e,this[_0x43492f(0x261)]=_0x1b7dfd,this['options']=Object[_0x43492f(0x257)]({'endpoint':_0xa2bcf['endpoint']},_0x341d54);}['getContentParts'](){const _0x1f754a=_0x2866ab;return this[_0x1f754a(0x1dd)];}[_0x2866ab(0x1ef)](_0x56c6b4){const _0x246a9d=_0x2866ab,_0x47785e={'ydIuK':_0x246a9d(0x237)};logger[_0x246a9d(0x1fe)](_0x47785e[_0x246a9d(0x1f8)],_0x56c6b4);}[_0x2866ab(0x1f2)](_0x2f5d2a){const _0x38ff5d=_0x2866ab;logger[_0x38ff5d(0x1fe)](_0x38ff5d(0x228),_0x2f5d2a);}[_0x2866ab(0x25c)](){const _0x34093a=_0x2866ab,_0x58396c={'BRHWt':function(_0x50b75d,_0x578a2c){return _0x50b75d(_0x578a2c);}},_0x6ad1fc=providerParsers[this[_0x34093a(0x1f7)][_0x34093a(0x23b)]];let _0x5d4582=this[_0x34093a(0x1f7)][_0x34093a(0x23b)]===EModelEndpoint[_0x34093a(0x25e)]?{'model':undefined}:{};return _0x6ad1fc&&(_0x5d4582=_0x58396c[_0x34093a(0x208)](_0x6ad1fc,this['modelOptions'])),removeNullishValues(Object[_0x34093a(0x257)]({'endpoint':this['options'][_0x34093a(0x23b)],'agent_id':this[_0x34093a(0x1f7)][_0x34093a(0x1d4)]['id'],'modelLabel':this[_0x34093a(0x1f7)]['modelLabel'],'maxContextTokens':this[_0x34093a(0x1f7)][_0x34093a(0x20f)],'resendFiles':this[_0x34093a(0x1f7)][_0x34093a(0x21a)],'imageDetail':this['options'][_0x34093a(0x207)],'spec':this['options'][_0x34093a(0x21b)]},_0x5d4582));}['getBuildMessagesOptions'](){const _0x58c2d6=_0x2866ab;return{'instructions':this[_0x58c2d6(0x1f7)][_0x58c2d6(0x1d4)]['instructions'],'additional_instructions':this['options'][_0x58c2d6(0x1d4)][_0x58c2d6(0x1d9)]};}async[_0x2866ab(0x1d5)](_0x4de155,_0x36af17){const _0x52b88a=_0x2866ab,{files:_0x44102e,image_urls:_0x4c960c}=await encodeAndFormat(this['options']['req'],_0x36af17,this[_0x52b88a(0x1f7)]['agent'][_0x52b88a(0x1d0)],VisionModes[_0x52b88a(0x25e)]);return _0x4de155[_0x52b88a(0x264)]=_0x4c960c[_0x52b88a(0x1d3)]?_0x4c960c:undefined,_0x44102e;}async[_0x2866ab(0x24b)](_0x44d2f4,_0x3a8987,{instructions:instructions=null,additional_instructions:additional_instructions=null},_0xc1b289){const _0x23750c=_0x2866ab,_0x4953ed={'Prikf':function(_0x2f8553,_0x4e48b2){return _0x2f8553===_0x4e48b2;},'jnBOW':function(_0x1ef266,_0x4dcd3f){return _0x1ef266(_0x4dcd3f);},'DBNwf':'NrqPZ','hasVX':'iZWPt','eRJBy':function(_0x392c11,_0xc785bd){return _0x392c11!==_0xc785bd;},'ASjHm':_0x23750c(0x204),'jsZbE':_0x23750c(0x230),'BWlAk':function(_0xee60b7,_0x11af1e){return _0xee60b7-_0x11af1e;},'JOWBN':function(_0x57b6da,_0x55ba28,_0x2787b6){return _0x57b6da(_0x55ba28,_0x2787b6);},'euswF':function(_0x4a6611,_0x4b0827){return _0x4a6611>=_0x4b0827;},'deevu':'function'};let _0x42a079=this[_0x23750c(0x22e)][_0x23750c(0x1d1)]({'messages':_0x44d2f4,'parentMessageId':_0x3a8987,'summary':this['shouldSummarize']}),_0x47b667,_0xf14e78,_0x3e9b69=[instructions??'',additional_instructions??''][_0x23750c(0x20b)](Boolean)[_0x23750c(0x250)]('\x0a')[_0x23750c(0x225)]();if(this[_0x23750c(0x1f7)][_0x23750c(0x20c)]){const _0x5ec6f8=await this[_0x23750c(0x1f7)][_0x23750c(0x20c)];if(this['options'][_0x23750c(0x1e3)][_0x23750c(0x1e4)][_0x23750c(0x1eb)]){const _0xee7a97=new Set(this['options'][_0x23750c(0x1e3)][_0x23750c(0x1e4)][_0x23750c(0x1eb)][_0x23750c(0x263)](_0xf1168f=>_0xf1168f[_0x23750c(0x206)]));let _0x4e44c8='';for(const _0x2f8531 of _0x5ec6f8){if(!_0x2f8531[_0x23750c(0x212)]?.[_0x23750c(0x22f)]){if(_0x4953ed[_0x23750c(0x224)](_0x4953ed[_0x23750c(0x1ed)],_0x23750c(0x260)))continue;else _0x57b9d1=_0x5568c6[_0x23750c(0x1f3)][_0x23750c(0x232)],_0x441d28=_0x4db49b['tokenUsage'][_0x23750c(0x20e)];}if(!_0xee7a97[_0x23750c(0x245)](_0x2f8531[_0x23750c(0x206)]))continue;!_0x4e44c8&&(_0x23750c(0x236)===_0x23750c(0x236)?_0x4e44c8=_0x4953ed[_0x23750c(0x1d8)]:_0x4fbc90=_0x23750c(0x230)),_0x4e44c8+='-\x20/mnt/data/'+_0x2f8531[_0x23750c(0x23a)]+'\x0a';}_0x3e9b69+=_0x4e44c8;}this[_0x23750c(0x1fc)]?this['message_file_map'][_0x42a079[_0x42a079[_0x23750c(0x1d3)]-0x1][_0x23750c(0x24f)]]=_0x5ec6f8:this['message_file_map']={[_0x42a079[_0x42a079['length']-0x1][_0x23750c(0x24f)]]:_0x5ec6f8};const _0x2566e0=await this[_0x23750c(0x1d5)](_0x42a079[_0x4953ed[_0x23750c(0x253)](_0x42a079[_0x23750c(0x1d3)],0x1)],_0x5ec6f8);this['options'][_0x23750c(0x20c)]=_0x2566e0;}this[_0x23750c(0x1fc)]&&!_0x4953ed[_0x23750c(0x1e6)](isAgentsEndpoint,this[_0x23750c(0x1f7)][_0x23750c(0x23b)])&&(this[_0x23750c(0x255)]=_0x4953ed['JOWBN'](createContextHandlers,this['options'][_0x23750c(0x1e3)],_0x42a079[_0x42a079[_0x23750c(0x1d3)]-0x1][_0x23750c(0x1da)]));const _0x250b7a=_0x42a079[_0x23750c(0x263)]((_0x1373bb,_0x5137a4)=>{const _0x2568e1=_0x23750c,_0x407c95=_0x4953ed[_0x2568e1(0x1e6)](formatMessage,{'message':_0x1373bb,'userName':this[_0x2568e1(0x1f7)]?.[_0x2568e1(0x259)],'assistantName':this['options']?.[_0x2568e1(0x234)]}),_0x2ff6ef=this[_0x2568e1(0x1f0)]&&!_0x42a079[_0x5137a4][_0x2568e1(0x23f)];if(_0x2ff6ef||this[_0x2568e1(0x211)]&&(_0x1373bb[_0x2568e1(0x264)]||_0x1373bb[_0x2568e1(0x1eb)])){if(_0x4953ed[_0x2568e1(0x265)](_0x4953ed[_0x2568e1(0x243)],_0x4953ed[_0x2568e1(0x1f5)])){const _0x47be1d=_0x5518b8[this[_0x2568e1(0x1f7)][_0x2568e1(0x23b)]];let _0x197184=_0x4953ed[_0x2568e1(0x265)](this[_0x2568e1(0x1f7)][_0x2568e1(0x23b)],_0x440582[_0x2568e1(0x25e)])?{'model':_0x125583}:{};return _0x47be1d&&(_0x197184=_0x47be1d(this[_0x2568e1(0x247)])),_0x5cdfa9(_0x398746['assign']({'endpoint':this[_0x2568e1(0x1f7)][_0x2568e1(0x23b)],'agent_id':this['options'][_0x2568e1(0x1d4)]['id'],'modelLabel':this[_0x2568e1(0x1f7)][_0x2568e1(0x234)],'maxContextTokens':this[_0x2568e1(0x1f7)][_0x2568e1(0x20f)],'resendFiles':this[_0x2568e1(0x1f7)][_0x2568e1(0x21a)],'imageDetail':this[_0x2568e1(0x1f7)]['imageDetail'],'spec':this[_0x2568e1(0x1f7)]['spec']},_0x197184));}else _0x42a079[_0x5137a4][_0x2568e1(0x23f)]=this['getTokenCountForMessage'](_0x407c95);}if(this[_0x2568e1(0x1fc)]&&this[_0x2568e1(0x1fc)][_0x1373bb['messageId']]){const _0x49818f=this[_0x2568e1(0x1fc)][_0x1373bb[_0x2568e1(0x24f)]];for(const _0x208839 of _0x49818f){if(_0x208839[_0x2568e1(0x20d)]){this[_0x2568e1(0x255)]?.[_0x2568e1(0x21f)](_0x208839);continue;}}}return _0x407c95;});this[_0x23750c(0x255)]&&(this[_0x23750c(0x25f)]=await this['contextHandlers'][_0x23750c(0x254)](),_0x3e9b69=this[_0x23750c(0x25f)]+_0x3e9b69);_0x3e9b69&&(this[_0x23750c(0x1f7)][_0x23750c(0x1d4)]['instructions']=_0x3e9b69);this[_0x23750c(0x1f0)]&&({payload:_0x47b667,promptTokens:_0xf14e78,messages:_0x44d2f4}=await this[_0x23750c(0x24a)]({'orderedMessages':_0x42a079,'formattedMessages':_0x250b7a,'buildTokenMap':![]}));const _0x79d79a={'prompt':_0x47b667,'promptTokens':_0xf14e78,'messages':_0x44d2f4};return _0x4953ed[_0x23750c(0x1e1)](_0xf14e78,0x0)&&_0x4953ed[_0x23750c(0x265)](typeof _0xc1b289?.[_0x23750c(0x24c)],_0x4953ed[_0x23750c(0x248)])&&_0xc1b289[_0x23750c(0x24c)]({'promptTokens':_0xf14e78}),_0x79d79a;}async[_0x2866ab(0x227)](_0x73056f,_0x1f65a2={}){const _0x610b5=_0x2866ab;return this[_0x610b5(0x247)][_0x610b5(0x214)]=this[_0x610b5(0x214)],await this[_0x610b5(0x201)]({'payload':_0x73056f,'onProgress':_0x1f65a2['onProgress'],'abortController':_0x1f65a2[_0x610b5(0x1e2)]}),this[_0x610b5(0x1dd)];}async['recordCollectedUsage']({model:_0xf49f9c,context:context=_0x2866ab(0x1fb),collectedUsage:collectedUsage=this['collectedUsage']}){const _0x3d7191=_0x2866ab,_0x5664a0={'HLPFa':function(_0x2a4bfc,_0x2159b7,_0x2fe649){return _0x2a4bfc(_0x2159b7,_0x2fe649);}};for(const _0x1879cb of collectedUsage){await _0x5664a0['HLPFa'](spendTokens,{'context':context,'model':_0xf49f9c??this[_0x3d7191(0x247)][_0x3d7191(0x1cf)],'conversationId':this[_0x3d7191(0x216)],'user':this[_0x3d7191(0x214)]??this[_0x3d7191(0x1f7)][_0x3d7191(0x1e3)][_0x3d7191(0x214)]?.['id'],'endpointTokenConfig':this[_0x3d7191(0x1f7)][_0x3d7191(0x239)]},{'promptTokens':_0x1879cb['input_tokens'],'completionTokens':_0x1879cb[_0x3d7191(0x220)]});}}async['chatCompletion']({payload:_0x959237,abortController:abortController=null}){const _0x59dbf=_0x2866ab,_0x5b43bd={'nDUjJ':'[api/server/controllers/agents/client.js\x20#chatCompletion]\x20Tool\x20Error','OGDhq':_0x59dbf(0x1db),'XkMPd':function(_0x38c367,_0x413832){return _0x38c367(_0x413832);},'rXvRq':_0x59dbf(0x1d6),'bUcrb':'message','ugPHx':function(_0x3643b1,_0x709e0d){return _0x3643b1!==_0x709e0d;},'xJLEC':_0x59dbf(0x226),'LodAL':_0x59dbf(0x258)};try{!abortController&&(abortController=new AbortController());const _0x326e1a=extractBaseURL(this[_0x59dbf(0x252)]);logger[_0x59dbf(0x24e)](_0x5b43bd['OGDhq'],{'baseURL':_0x326e1a,'payload':_0x959237});const _0xb8513a=await _0x5b43bd[_0x59dbf(0x210)](createRun,{'req':this[_0x59dbf(0x1f7)][_0x59dbf(0x1e3)],'agent':this[_0x59dbf(0x1f7)][_0x59dbf(0x1d4)],'tools':this[_0x59dbf(0x1f7)]['tools'],'runId':this[_0x59dbf(0x241)],'signal':abortController[_0x59dbf(0x1dc)],'modelOptions':this[_0x59dbf(0x247)],'customHandlers':this[_0x59dbf(0x1f7)]['eventHandlers']}),_0x4582eb={'configurable':{'thread_id':this[_0x59dbf(0x216)]},'signal':abortController['signal'],'streamMode':'values','version':'v2'};if(!_0xb8513a)throw new Error(_0x5b43bd[_0x59dbf(0x262)]);this[_0x59dbf(0x1f1)]=_0xb8513a;const _0x5cbc84=_0x5b43bd[_0x59dbf(0x210)](formatAgentMessages,_0x959237);legacyContentEndpoints['has'](this[_0x59dbf(0x1f7)][_0x59dbf(0x1d4)]['endpoint'])&&formatContentStrings(_0x5cbc84),await _0xb8513a['processStream']({'messages':_0x5cbc84},_0x4582eb,{[Callback['TOOL_ERROR']]:(_0x158d51,_0x3f9d1e,_0x29c0ad)=>{const _0x4e1b7a=_0x59dbf;logger[_0x4e1b7a(0x1fd)](_0x5b43bd['nDUjJ'],_0x3f9d1e,_0x29c0ad);}}),this[_0x59dbf(0x25b)]({'context':_0x5b43bd['bUcrb']})['catch'](_0x5000e3=>{const _0x2da02d=_0x59dbf;logger[_0x2da02d(0x1fd)](_0x2da02d(0x1f4),_0x5000e3);});}catch(_0x217284){if(_0x5b43bd[_0x59dbf(0x202)](_0x5b43bd[_0x59dbf(0x240)],_0x5b43bd[_0x59dbf(0x240)]))_0x140827[_0x59dbf(0x24c)]({'promptTokens':_0x37d833});else{if(!abortController[_0x59dbf(0x1dc)][_0x59dbf(0x1e8)]){logger[_0x59dbf(0x1fd)](_0x5b43bd['LodAL'],_0x217284);throw _0x217284;}logger[_0x59dbf(0x203)]('[api/server/controllers/agents/client.js\x20#sendCompletion]\x20Operation\x20aborted',_0x217284);}}}async[_0x2866ab(0x25d)]({text:_0x5cf1a2}){const _0x1dc6ad=_0x2866ab,_0x1c56a8={'tOdOw':function(_0x48c162,_0x704b9f){return _0x48c162===_0x704b9f;},'BvHOt':_0x1dc6ad(0x235),'jljhf':function(_0x2f81ee,_0x52ca0d){return _0x2f81ee!==_0x52ca0d;},'vLnsC':_0x1dc6ad(0x256),'zjZTt':_0x1dc6ad(0x231)};if(!this[_0x1dc6ad(0x1f1)])throw new Error(_0x1dc6ad(0x1df));const {handleLLMEnd:_0xcd1e82,collected:_0x1611ec}=createMetadataAggregator(),_0x21e988={},_0x535942=this[_0x1dc6ad(0x1f7)][_0x1dc6ad(0x1e3)][_0x1dc6ad(0x244)][_0x1dc6ad(0x21e)][this[_0x1dc6ad(0x1f7)][_0x1dc6ad(0x1d4)]['provider']];if(_0x535942&&_0x535942[_0x1dc6ad(0x1fa)]&&_0x1c56a8[_0x1dc6ad(0x1e5)](_0x535942[_0x1dc6ad(0x1fa)],Constants[_0x1dc6ad(0x1ee)])){if(_0x1c56a8['jljhf'](_0x1c56a8[_0x1dc6ad(0x1d2)],_0x1c56a8[_0x1dc6ad(0x1d2)]))return{'instructions':this[_0x1dc6ad(0x1f7)]['agent']['instructions'],'additional_instructions':this[_0x1dc6ad(0x1f7)]['agent'][_0x1dc6ad(0x1d9)]};else _0x21e988[_0x1dc6ad(0x1cf)]=_0x535942[_0x1dc6ad(0x1fa)];}try{const _0x1cf33f=await this[_0x1dc6ad(0x1f1)][_0x1dc6ad(0x223)]({'inputText':_0x5cf1a2,'contentParts':this['contentParts'],'clientOptions':_0x21e988,'chainOptions':{'callbacks':[{'handleLLMEnd':_0xcd1e82}]}}),_0x524a67=_0x1611ec[_0x1dc6ad(0x263)](_0x3ccfb5=>{const _0x11032d=_0x1dc6ad;let _0x39ee1d,_0x5c162d;if(_0x3ccfb5[_0x11032d(0x1ec)])_0x1c56a8[_0x11032d(0x200)](_0x11032d(0x213),_0x1c56a8['BvHOt'])?_0x1121f2[_0x11032d(0x1cf)]=_0x2d1fb8[_0x11032d(0x1fa)]:(_0x39ee1d=_0x3ccfb5['usage'][_0x11032d(0x1e9)]||_0x3ccfb5[_0x11032d(0x1ec)][_0x11032d(0x22d)],_0x5c162d=_0x3ccfb5[_0x11032d(0x1ec)][_0x11032d(0x220)]||_0x3ccfb5[_0x11032d(0x1ec)][_0x11032d(0x23d)]);else _0x3ccfb5['tokenUsage']&&(_0x39ee1d=_0x3ccfb5[_0x11032d(0x1f3)][_0x11032d(0x232)],_0x5c162d=_0x3ccfb5[_0x11032d(0x1f3)]['completionTokens']);return{'input_tokens':_0x39ee1d,'output_tokens':_0x5c162d};});return this[_0x1dc6ad(0x25b)]({'model':_0x21e988['model'],'context':_0x1c56a8[_0x1dc6ad(0x23e)],'collectedUsage':_0x524a67})['catch'](_0x3d1818=>{const _0x153adf=_0x1dc6ad;logger['error'](_0x153adf(0x242),_0x3d1818);}),_0x1cf33f['title'];}catch(_0x5a3d06){logger[_0x1dc6ad(0x1fd)](_0x1dc6ad(0x1ea),_0x5a3d06);return;}}['getEncoding'](){const _0x3aff22=_0x2866ab,_0x4eb3a5={'NzNel':_0x3aff22(0x238)};return this[_0x3aff22(0x247)][_0x3aff22(0x1cf)]?.[_0x3aff22(0x209)](_0x3aff22(0x222))?_0x4eb3a5[_0x3aff22(0x1d7)]:_0x3aff22(0x23c);}[_0x2866ab(0x1de)](_0x468eb1){const _0x39e3cf=_0x2866ab,_0x24c6be=this['getEncoding']();return Tokenizer[_0x39e3cf(0x1de)](_0x468eb1,_0x24c6be);}}module['exports']=AgentClient;function _0x5127(){const _0x46c4c4=['jljhf','jnBOW','~/server/services/Files/images/encode','aborted','input_tokens','[api/server/controllers/agents/client.js\x20#titleConvo]\x20Error','files','usage','ASjHm','CURRENT_MODEL','setOptions','contextStrategy','run','checkVisionRequest','tokenUsage','[api/server/controllers/agents/client.js\x20#chatCompletion]\x20Error\x20recording\x20collected\x20usage','hasVX','openAI','options','ydIuK','4252626mrQiPM','titleModel','message','message_file_map','error','info','~/app/clients/BaseClient','tOdOw','chatCompletion','ugPHx','warn','sYSCW','~/server/services/Tokenizer','file_id','imageDetail','BRHWt','includes','4749762KOucwG','filter','attachments','embedded','completionTokens','maxContextTokens','XkMPd','isVisionModel','metadata','JsNwB','user','296026dxQpPZ','conversationId','collectedUsage','isChatCompletion','QeHIL','resendFiles','spec','bedrock','~/app/clients/prompts','locals','processFile','output_tokens','4328450evikDN','gpt-4o','generateTitle','eRJBy','trim','vmKbN','sendCompletion','[api/server/controllers/agents/client.js\x20#checkVisionRequest]\x20not\x20implemented','deepseek','librechat-data-provider','7136592qpZyLr','1479544DhhpWk','inputTokens','constructor','fileIdentifier','\x0aThe\x20user\x20has\x20just\x20attached\x20the\x20following\x20files:\x0a','title','promptTokens','@librechat/agents','modelLabel','rHWCu','WuBIG','[api/server/controllers/agents/client.js]\x20setOptions','o200k_base','endpointTokenConfig','filename','endpoint','cl100k_base','outputTokens','zjZTt','tokenCount','xJLEC','responseMessageId','[api/server/controllers/agents/client.js\x20#titleConvo]\x20Error\x20recording\x20collected\x20usage','DBNwf','app','has','discard','modelOptions','deevu','~/utils','handleContextStrategy','buildMessages','getReqData','1dyLMth','debug','messageId','join','386325OnMWIy','completionsUrl','BWlAk','createContext','contextHandlers','axshs','assign','[api/server/controllers/agents/client.js\x20#sendCompletion]\x20Unhandled\x20error\x20type','name','groq','recordCollectedUsage','getSaveOptions','titleConvo','agents','augmentedPrompt','DaERS','artifactPromises','rXvRq','map','image_urls','Prikf','model','provider','getMessagesForConversation','vLnsC','length','agent','addImageURLs','Failed\x20to\x20create\x20run','NzNel','jsZbE','additional_instructions','text','[api/server/controllers/agents/client.js]\x20chatCompletion','signal','contentParts','getTokenCount','Run\x20not\x20initialized','~/config','euswF','abortController','req','body'];_0x5127=function(){return _0x46c4c4;};return _0x5127();}