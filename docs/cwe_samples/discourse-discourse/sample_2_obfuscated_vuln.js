function _0x1cc8(_0x284537,_0x19cf71){const _0x5b417f=_0x5b41();return _0x1cc8=function(_0x1cc8dd,_0x154a90){_0x1cc8dd=_0x1cc8dd-0x113;let _0x105cf8=_0x5b417f[_0x1cc8dd];return _0x105cf8;},_0x1cc8(_0x284537,_0x19cf71);}const _0x20a5fb=_0x1cc8;(function(_0xf6b46b,_0x5d3d2f){const _0x5194bb=_0x1cc8,_0x54c80a=_0xf6b46b();while(!![]){try{const _0x16d60e=-parseInt(_0x5194bb(0x11b))/0x1+-parseInt(_0x5194bb(0x126))/0x2+parseInt(_0x5194bb(0x132))/0x3+-parseInt(_0x5194bb(0x11d))/0x4+-parseInt(_0x5194bb(0x116))/0x5+parseInt(_0x5194bb(0x11e))/0x6*(-parseInt(_0x5194bb(0x125))/0x7)+parseInt(_0x5194bb(0x128))/0x8;if(_0x16d60e===_0x5d3d2f)break;else _0x54c80a['push'](_0x54c80a['shift']());}catch(_0xfbab9e){_0x54c80a['push'](_0x54c80a['shift']());}}}(_0x5b41,0x30dcc));const axios=require(_0x20a5fb(0x121)),FormData=require(_0x20a5fb(0x12e)),{getCodeBaseURL}=require('@librechat/agents'),MAX_FILE_SIZE=0x19*0x400*0x400;async function getCodeOutputDownloadStream(_0x47fd5d,_0x5fe19a){const _0x4f6e3c=_0x20a5fb,_0xf76e5b={'znTnJ':function(_0x1a1c0b){return _0x1a1c0b();},'FKMLO':function(_0x4dbd2e,_0x4b436e){return _0x4dbd2e(_0x4b436e);},'bvCMo':_0x4f6e3c(0x124)};try{const _0x22d265=_0xf76e5b['znTnJ'](getCodeBaseURL),_0x53d1a2=await _0xf76e5b[_0x4f6e3c(0x115)](axios,{'method':_0x4f6e3c(0x129),'url':_0x22d265+'/download/'+_0x47fd5d,'responseType':_0xf76e5b['bvCMo'],'headers':{'User-Agent':_0x4f6e3c(0x12b),'X-API-Key':_0x5fe19a},'timeout':0x3a98});return _0x53d1a2;}catch(_0x11f94a){throw new Error(_0x4f6e3c(0x114)+_0x11f94a[_0x4f6e3c(0x12a)]);}}async function uploadCodeEnvFile({req:_0x460572,stream:_0x4abbe3,filename:_0x5f1f0d,apiKey:_0x3b7a42,entity_id:entity_id=''}){const _0x45dfb7=_0x20a5fb,_0x1cf88d={'BFHat':_0x45dfb7(0x12f),'hJqNm':'entity_id','GIybs':'file','VaXLl':function(_0x2685e1){return _0x2685e1();},'cVSde':_0x45dfb7(0x118),'iDjpt':function(_0x272fea,_0x518601){return _0x272fea!==_0x518601;},'VJZrF':function(_0x7c5fb6,_0x19ba8b){return _0x7c5fb6===_0x19ba8b;}};try{const _0x23d2c7=new FormData();if(entity_id[_0x45dfb7(0x11f)]>0x0){if(_0x1cf88d[_0x45dfb7(0x133)]===_0x45dfb7(0x12f))_0x23d2c7['append'](_0x1cf88d['hJqNm'],entity_id);else return _0x366160;}_0x23d2c7[_0x45dfb7(0x113)](_0x1cf88d['GIybs'],_0x4abbe3,_0x5f1f0d);const _0x12300e=_0x1cf88d[_0x45dfb7(0x117)](getCodeBaseURL),_0x341104=await axios['post'](_0x12300e+_0x45dfb7(0x12d),_0x23d2c7,{'headers':{..._0x23d2c7[_0x45dfb7(0x131)](),'Content-Type':_0x1cf88d[_0x45dfb7(0x12c)],'User-Agent':_0x45dfb7(0x12b),'User-Id':_0x460572[_0x45dfb7(0x11c)]['id'],'X-API-Key':_0x3b7a42},'maxContentLength':MAX_FILE_SIZE,'maxBodyLength':MAX_FILE_SIZE}),_0x31071a=_0x341104['data'];if(_0x1cf88d[_0x45dfb7(0x119)](_0x31071a[_0x45dfb7(0x12a)],_0x45dfb7(0x11a)))throw new Error(_0x45dfb7(0x130)+_0x31071a[_0x45dfb7(0x12a)]);const _0x2476a4=_0x31071a[_0x45dfb7(0x120)]+'/'+_0x31071a[_0x45dfb7(0x122)][0x0][_0x45dfb7(0x123)];if(_0x1cf88d['VJZrF'](entity_id[_0x45dfb7(0x11f)],0x0))return _0x2476a4;return _0x2476a4+_0x45dfb7(0x127)+entity_id;}catch(_0x466c8a){throw new Error('Error\x20uploading\x20file:\x20'+_0x466c8a[_0x45dfb7(0x12a)]);}}module['exports']={'getCodeOutputDownloadStream':getCodeOutputDownloadStream,'uploadCodeEnvFile':uploadCodeEnvFile};function _0x5b41(){const _0x13191c=['success','163883WQoGCp','user','1444524EVshHj','112164BSLvId','length','session_id','axios','files','fileId','stream','70JGOvsQ','493532KpUnhP','?entity_id=','11539744nqvYiT','get','message','LibreChat/1.0','cVSde','/upload','form-data','bgJIf','Error\x20uploading\x20file:\x20','getHeaders','34095VBoytG','BFHat','append','Error\x20downloading\x20file:\x20','FKMLO','1474865eJrusC','VaXLl','multipart/form-data','iDjpt'];_0x5b41=function(){return _0x13191c;};return _0x5b41();}