const _0x5ae3f6=_0x1566;(function(_0x58566b,_0x54af5b){const _0x1add5=_0x1566,_0xc3686c=_0x58566b();while(!![]){try{const _0x20790d=parseInt(_0x1add5(0x9d))/0x1*(parseInt(_0x1add5(0xa8))/0x2)+parseInt(_0x1add5(0x99))/0x3+-parseInt(_0x1add5(0x94))/0x4+-parseInt(_0x1add5(0x9f))/0x5*(-parseInt(_0x1add5(0x8e))/0x6)+parseInt(_0x1add5(0xb9))/0x7*(parseInt(_0x1add5(0x95))/0x8)+parseInt(_0x1add5(0xa6))/0x9+-parseInt(_0x1add5(0x8f))/0xa;if(_0x20790d===_0x54af5b)break;else _0xc3686c['push'](_0xc3686c['shift']());}catch(_0x447879){_0xc3686c['push'](_0xc3686c['shift']());}}}(_0x4f7b,0x95a2f));const Keyv=require(_0x5ae3f6(0x9a)),{CacheKeys,ViolationTypes,Time}=require(_0x5ae3f6(0x91)),{logFile,violationFile}=require(_0x5ae3f6(0xa4)),{math,isEnabled}=require(_0x5ae3f6(0x92)),keyvRedis=require(_0x5ae3f6(0xa1)),keyvMongo=require(_0x5ae3f6(0x97)),{BAN_DURATION,USE_REDIS}=process[_0x5ae3f6(0xb6)]??{},duration=math(BAN_DURATION,0x6ddd00),createViolationInstance=_0x572160=>{const _0x2217c7=_0x5ae3f6,_0x1da4d0={'oohSW':function(_0x713ac4,_0x37e1c4){return _0x713ac4(_0x37e1c4);}},_0x4f6a4d=_0x1da4d0[_0x2217c7(0xb3)](isEnabled,USE_REDIS)?{'store':keyvRedis}:{'store':violationFile,'namespace':_0x572160};return new Keyv(_0x4f6a4d);},pending_req=isEnabled(USE_REDIS)?new Keyv({'store':keyvRedis}):new Keyv({'namespace':_0x5ae3f6(0xb7)}),config=isEnabled(USE_REDIS)?new Keyv({'store':keyvRedis}):new Keyv({'namespace':CacheKeys[_0x5ae3f6(0xb1)]}),roles=isEnabled(USE_REDIS)?new Keyv({'store':keyvRedis}):new Keyv({'namespace':CacheKeys[_0x5ae3f6(0xbb)]}),audioRuns=isEnabled(USE_REDIS)?new Keyv({'store':keyvRedis,'ttl':Time[_0x5ae3f6(0x98)]}):new Keyv({'namespace':CacheKeys[_0x5ae3f6(0xb4)],'ttl':Time[_0x5ae3f6(0x98)]}),messages=isEnabled(USE_REDIS)?new Keyv({'store':keyvRedis,'ttl':Time[_0x5ae3f6(0xb0)]}):new Keyv({'namespace':CacheKeys[_0x5ae3f6(0xb5)],'ttl':Time[_0x5ae3f6(0xb0)]}),tokenConfig=isEnabled(USE_REDIS)?new Keyv({'store':keyvRedis,'ttl':Time['THIRTY_MINUTES']}):new Keyv({'namespace':CacheKeys[_0x5ae3f6(0xac)],'ttl':Time[_0x5ae3f6(0xa7)]}),genTitle=isEnabled(USE_REDIS)?new Keyv({'store':keyvRedis,'ttl':Time['TWO_MINUTES']}):new Keyv({'namespace':CacheKeys[_0x5ae3f6(0xa9)],'ttl':Time[_0x5ae3f6(0xae)]}),modelQueries=isEnabled(process[_0x5ae3f6(0xb6)][_0x5ae3f6(0x9c)])?new Keyv({'store':keyvRedis}):new Keyv({'namespace':CacheKeys[_0x5ae3f6(0xa0)]}),abortKeys=isEnabled(USE_REDIS)?new Keyv({'store':keyvRedis}):new Keyv({'namespace':CacheKeys[_0x5ae3f6(0x9e)],'ttl':Time[_0x5ae3f6(0x98)]}),namespaces={[CacheKeys[_0x5ae3f6(0xbb)]]:roles,[CacheKeys[_0x5ae3f6(0xb1)]]:config,'pending_req':pending_req,[ViolationTypes[_0x5ae3f6(0xa3)]]:new Keyv({'store':keyvMongo,'namespace':CacheKeys[_0x5ae3f6(0xaa)],'ttl':duration}),[CacheKeys['ENCODED_DOMAINS']]:new Keyv({'store':keyvMongo,'namespace':CacheKeys['ENCODED_DOMAINS'],'ttl':0x0}),'general':new Keyv({'store':logFile,'namespace':_0x5ae3f6(0xad)}),'concurrent':createViolationInstance('concurrent'),'non_browser':createViolationInstance(_0x5ae3f6(0xb2)),'message_limit':createViolationInstance(_0x5ae3f6(0xa2)),'token_balance':createViolationInstance(ViolationTypes[_0x5ae3f6(0x90)]),'registrations':createViolationInstance(_0x5ae3f6(0xa5)),[ViolationTypes[_0x5ae3f6(0xb8)]]:createViolationInstance(ViolationTypes[_0x5ae3f6(0xb8)]),[ViolationTypes[_0x5ae3f6(0xaf)]]:createViolationInstance(ViolationTypes['STT_LIMIT']),[ViolationTypes[_0x5ae3f6(0x9b)]]:createViolationInstance(ViolationTypes[_0x5ae3f6(0x9b)]),[ViolationTypes[_0x5ae3f6(0x96)]]:createViolationInstance(ViolationTypes['TOOL_CALL_LIMIT']),[ViolationTypes[_0x5ae3f6(0xbd)]]:createViolationInstance(ViolationTypes['FILE_UPLOAD_LIMIT']),[ViolationTypes['VERIFY_EMAIL_LIMIT']]:createViolationInstance(ViolationTypes[_0x5ae3f6(0xab)]),[ViolationTypes[_0x5ae3f6(0x8d)]]:createViolationInstance(ViolationTypes[_0x5ae3f6(0x8d)]),[ViolationTypes[_0x5ae3f6(0xba)]]:createViolationInstance(ViolationTypes[_0x5ae3f6(0xba)]),'logins':createViolationInstance('logins'),[CacheKeys[_0x5ae3f6(0x9e)]]:abortKeys,[CacheKeys[_0x5ae3f6(0xac)]]:tokenConfig,[CacheKeys[_0x5ae3f6(0xa9)]]:genTitle,[CacheKeys[_0x5ae3f6(0xa0)]]:modelQueries,[CacheKeys[_0x5ae3f6(0xb4)]]:audioRuns,[CacheKeys[_0x5ae3f6(0xb5)]]:messages},getLogStores=_0x105d52=>{const _0x1e6b2e=_0x5ae3f6;if(!_0x105d52||!namespaces[_0x105d52])throw new Error(_0x1e6b2e(0xbc)+_0x105d52);return namespaces[_0x105d52];};module[_0x5ae3f6(0x93)]=getLogStores;function _0x1566(_0x2ab651,_0xe354c9){const _0x4f7b2b=_0x4f7b();return _0x1566=function(_0x156655,_0x5b701b){_0x156655=_0x156655-0x8d;let _0x5d5e9=_0x4f7b2b[_0x156655];return _0x5d5e9;},_0x1566(_0x2ab651,_0xe354c9);}function _0x4f7b(){const _0x345e8f=['VERIFY_EMAIL_LIMIT','TOKEN_CONFIG','violations','TWO_MINUTES','STT_LIMIT','FIVE_MINUTES','CONFIG_STORE','non_browser','oohSW','AUDIO_RUNS','MESSAGES','env','pending_req','TTS_LIMIT','8314292RjxfIK','ILLEGAL_MODEL_REQUEST','ROLES','Invalid\x20store\x20key:\x20','FILE_UPLOAD_LIMIT','RESET_PASSWORD_LIMIT','354714zMMazE','15946750SDEwDB','TOKEN_BALANCE','librechat-data-provider','~/server/utils','exports','3416764rlMdpa','8ZrxibC','TOOL_CALL_LIMIT','./keyvMongo','TEN_MINUTES','1650612xbbszZ','keyv','CONVO_ACCESS','USE_REDIS','288302OSbgRC','ABORT_KEYS','35RMPwVU','MODEL_QUERIES','./keyvRedis','message_limit','BAN','./keyvFiles','registrations','3000420qkjkkl','THIRTY_MINUTES','4vgPHgD','GEN_TITLE','BANS'];_0x4f7b=function(){return _0x345e8f;};return _0x4f7b();}