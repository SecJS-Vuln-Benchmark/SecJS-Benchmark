const _0x48ae51=_0x13f8;(function(_0x37296a,_0x15060b){const _0x416052=_0x13f8,_0x728c29=_0x37296a();while(!![]){try{const _0x177da2=-parseInt(_0x416052(0x1d0))/0x1+-parseInt(_0x416052(0x1df))/0x2+parseInt(_0x416052(0x1e2))/0x3+parseInt(_0x416052(0x1d9))/0x4+parseInt(_0x416052(0x1cd))/0x5+parseInt(_0x416052(0x1e3))/0x6+parseInt(_0x416052(0x1d7))/0x7*(-parseInt(_0x416052(0x1e1))/0x8);if(_0x177da2===_0x15060b)break;else _0x728c29['push'](_0x728c29['shift']());}catch(_0x279970){_0x728c29['push'](_0x728c29['shift']());}}}(_0x3f5e,0xdb826));const fs=require('fs')[_0x48ae51(0x1db)],express=require('express'),{getStrategyFunctions}=require(_0x48ae51(0x1e4)),{resizeAvatar}=require(_0x48ae51(0x1d4)),{filterFile}=require(_0x48ae51(0x1e5)),{logger}=require(_0x48ae51(0x1ce)),router=express['Router']();router['post']('/',async(_0x38ec05,_0x2c5dad)=>{const _0x33e2db=_0x48ae51,_0x4ae7d8={'Ighsy':function(_0x55fa22,_0x4df41d){return _0x55fa22(_0x4df41d);},'FhhSV':'User\x20ID\x20is\x20undefined','QhfdF':function(_0x1bafdb,_0x4be57d){return _0x1bafdb(_0x4be57d);},'gSlYs':function(_0x4b9d77,_0x526e79){return _0x4b9d77(_0x526e79);}};try{_0x4ae7d8[_0x33e2db(0x1d3)](filterFile,{'req':_0x38ec05,'file':_0x38ec05[_0x33e2db(0x1d6)],'image':!![],'isAvatar':!![]});const _0x3c1dad=_0x38ec05[_0x33e2db(0x1d1)]['id'],{manual:_0x1ca49f}=_0x38ec05[_0x33e2db(0x1dd)],_0x12738b=await fs[_0x33e2db(0x1de)](_0x38ec05[_0x33e2db(0x1d6)][_0x33e2db(0x1dc)]);if(!_0x3c1dad)throw new Error(_0x4ae7d8[_0x33e2db(0x1cb)]);const _0x26ff17=_0x38ec05[_0x33e2db(0x1c9)][_0x33e2db(0x1ca)][_0x33e2db(0x1d2)],_0x22dbd1=_0x38ec05[_0x33e2db(0x1c9)][_0x33e2db(0x1ca)][_0x33e2db(0x1cf)],_0x477434=await _0x4ae7d8[_0x33e2db(0x1cc)](resizeAvatar,{'userId':_0x3c1dad,'input':_0x12738b,'desiredFormat':_0x22dbd1}),{processAvatar:_0x439ba7}=_0x4ae7d8[_0x33e2db(0x1d3)](getStrategyFunctions,_0x26ff17),_0x21dd93=await _0x4ae7d8['gSlYs'](_0x439ba7,{'buffer':_0x477434,'userId':_0x3c1dad,'manual':_0x1ca49f});_0x2c5dad[_0x33e2db(0x1d5)]({'url':_0x21dd93});}catch(_0x40212a){const _0xfa61f8=_0x33e2db(0x1c8);logger[_0x33e2db(0x1e0)](_0xfa61f8,_0x40212a),_0x2c5dad[_0x33e2db(0x1da)](0x1f4)['json']({'message':_0xfa61f8});}}),module[_0x48ae51(0x1d8)]=router;function _0x13f8(_0x4f2562,_0x187838){const _0x3f5e61=_0x3f5e();return _0x13f8=function(_0x13f8be,_0x59d722){_0x13f8be=_0x13f8be-0x1c8;let _0x7b2b2a=_0x3f5e61[_0x13f8be];return _0x7b2b2a;},_0x13f8(_0x4f2562,_0x187838);}function _0x3f5e(){const _0x44aacd=['FhhSV','QhfdF','7066050qJCZUK','~/config','imageOutputType','621573YtNfCU','user','fileStrategy','Ighsy','~/server/services/Files/images/avatar','json','file','42FcYsGb','exports','7055840LzzRMb','status','promises','path','body','readFile','3315434nWiWWM','error','2699336ePCdTK','4503162UlCIZI','3148068kgiuZX','~/server/services/Files/strategies','~/server/services/Files/process','An\x20error\x20occurred\x20while\x20uploading\x20the\x20profile\x20picture','app','locals'];_0x3f5e=function(){return _0x44aacd;};return _0x3f5e();}