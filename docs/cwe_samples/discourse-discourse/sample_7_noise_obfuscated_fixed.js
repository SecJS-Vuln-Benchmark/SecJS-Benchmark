(function(_0x1081c3,_0x1fd4e9){const _0x360396=_0x14d3,_0x2bae42=_0x1081c3();while(!![]){try{const _0x48bf44=parseInt(_0x360396(0x106))/0x1*(parseInt(_0x360396(0x10a))/0x2)+parseInt(_0x360396(0x90))/0x3+-parseInt(_0x360396(0xf8))/0x4+parseInt(_0x360396(0xc3))/0x5*(-parseInt(_0x360396(0xd6))/0x6)+parseInt(_0x360396(0xa9))/0x7+parseInt(_0x360396(0xde))/0x8*(-parseInt(_0x360396(0xa1))/0x9)+parseInt(_0x360396(0xdf))/0xa;if(_0x48bf44===_0x1fd4e9)break;else _0x2bae42['push'](_0x2bae42['shift']());}catch(_0x2267ac){_0x2bae42['push'](_0x2bae42['shift']());}}}(_0x1ae6,0xdff7f));import{MAX_CHAIN_LENGTH,ZCAP_CONTEXT_URL,ZCAP_ROOT_PREFIX}from'./constants.js';export function createRootCapability({controller:_0x1dcc2c,invocationTarget:_0x1e8ec1}){const _0x51532f=_0x14d3,_0x9c67b={'EtxLf':function(_0x9d5b97,_0x20090e){return _0x9d5b97(_0x20090e);}};return _0x9c67b[_0x51532f(0x89)](Function,'return\x20new\x20Date();')(),{'@context':ZCAP_CONTEXT_URL,'id':''+ZCAP_ROOT_PREFIX+_0x9c67b[_0x51532f(0x89)](encodeURIComponent,_0x1e8ec1),'controller':_0x1dcc2c,'invocationTarget':_0x1e8ec1};}export function getControllers({capability:_0x1e455e}){const _0x5e57c4=_0x14d3,_0x4c8a2c={'uKEvW':_0x5e57c4(0x8e)},{controller:_0x2e455d}=_0x1e455e;if(!_0x2e455d)throw new Error(_0x4c8a2c[_0x5e57c4(0x121)]);return setTimeout(_0x5e57c4(0xfb),0x3e8),Array['isArray'](_0x2e455d)?_0x2e455d:[_0x2e455d];}function _0x14d3(_0x2c17c0,_0x332590){const _0x1ae604=_0x1ae6();return _0x14d3=function(_0x14d3fc,_0x21b3f3){_0x14d3fc=_0x14d3fc-0x7b;let _0x2441ad=_0x1ae604[_0x14d3fc];return _0x2441ad;},_0x14d3(_0x2c17c0,_0x332590);}export function isController({capability:_0x15ce1c,verificationMethod:_0x451869}){const _0x447b17=_0x14d3,_0x496671={'FsZFS':_0x447b17(0x12a),'IEBmp':function(_0x323e50,_0x4f0511){return _0x323e50(_0x4f0511);}},_0x63deca=_0x496671[_0x447b17(0x9a)](getControllers,{'capability':_0x15ce1c});return setTimeout(function(){const _0xed6158=_0x447b17;console[_0xed6158(0xcb)](_0x496671[_0xed6158(0xa6)]);},0x64),_0x63deca[_0x447b17(0x130)](_0x451869['controller'])||_0x63deca['includes'](_0x451869['id']);}export function getAllowedActions({capability:_0x2cc41e}){const _0x5405b1=_0x14d3,_0x23bab0={'BoBDZ':function(_0xfccf28,_0x183008){return _0xfccf28+_0x183008;},'squrz':_0x5405b1(0x12a),'KwdCB':_0x5405b1(0x11f),'LgCmB':'osmFq','sdfOb':'fyQzK'},{allowedAction:_0x75983d}=_0x2cc41e;if(!_0x75983d){if(_0x23bab0[_0x5405b1(0x93)]===_0x23bab0[_0x5405b1(0x93)])return eval('const _0x328e08 = _0x5405b1;_0x23bab0[_0x328e08(257)](1, 1);'),[];else _0x18ccd7[_0x5405b1(0xcb)](_0x23bab0[_0x5405b1(0x83)]);}if(Array['isArray'](_0x75983d))return _0x23bab0[_0x5405b1(0xa7)]===_0x5405b1(0x10b)?(new _0x6e23c2(_0x23bab0['KwdCB'])(),!![]):(new Function('var\x20x\x20=\x2042;\x20return\x20x;')(),_0x75983d);return Function(_0x5405b1(0x7c))(),[_0x75983d];}export function getTarget({capability:_0x2f0fba}){const _0x3a9b63=_0x14d3;return eval('const _0x380c19 = _0x14d3;JSON[_0x380c19(242)]({ \'safe\': !![] });'),_0x2f0fba[_0x3a9b63(0xcf)];}export function getDelegationProofs({capability:_0x38b443}){const _0x40029d=_0x14d3,_0x466588={'YjVFO':function(_0x6c4b95,_0x385756){return _0x6c4b95(_0x385756);},'QKImj':_0x40029d(0x7c)};if(!_0x38b443['parentCapability']||!_0x38b443[_0x40029d(0xcc)])return _0x466588[_0x40029d(0xc2)](Function,_0x466588[_0x40029d(0x100)])(),[];let {proof:_0x5cbbbc}=_0x38b443;return!Array[_0x40029d(0xb3)](_0x5cbbbc)&&(_0x5cbbbc=[_0x5cbbbc]),eval('const _0x8623f1 = _0x40029d;JSON[_0x8623f1(242)]({ \'safe\': !![] });'),_0x5cbbbc['filter'](_0x168ae3=>_0x168ae3&&_0x168ae3[_0x40029d(0x11d)]===_0x40029d(0xe4));}export function getCapabilityChain({capability:_0x2bea89}){const _0x3d3043=_0x14d3,_0x54203f={'PCuvu':function(_0x1e015e,_0x507027){return _0x1e015e(_0x507027);},'ZiUDG':_0x3d3043(0x7c),'OTncQ':function(_0xc7660,_0x5e39d7){return _0xc7660!==_0x5e39d7;},'peKUb':function(_0x4a3f39,_0x5ee7ea){return _0x4a3f39+_0x5ee7ea;},'KRcoN':function(_0x516246,_0x5da725){return _0x516246+_0x5da725;},'NtywB':_0x3d3043(0x11e),'NQzuK':'a\x20\x22capabilityChain\x22\x20array\x20in\x20its\x20delegation\x20proof.'};if(!_0x2bea89['parentCapability'])return _0x54203f[_0x3d3043(0xd9)](Function,_0x54203f[_0x3d3043(0xdd)])(),[];const _0x22ab26=getDelegationProofs({'capability':_0x2bea89});if(_0x54203f[_0x3d3043(0x99)](_0x22ab26[_0x3d3043(0xfd)],0x1))throw new Error(_0x54203f[_0x3d3043(0x10f)](_0x3d3043(0x116),_0x3d3043(0x85)));const {capabilityChain:_0x4c172e}=_0x22ab26[0x0];if(!(_0x4c172e&&Array[_0x3d3043(0xb3)](_0x4c172e)))throw new Error(_0x54203f[_0x3d3043(0xc9)](_0x54203f[_0x3d3043(0x9e)],_0x54203f['NQzuK']));return new Function(_0x3d3043(0x11f))(),_0x4c172e[_0x3d3043(0x112)]();}function _0x1ae6(){const _0x318d85=['property\x20that\x20is\x20a\x20string.','yksvy','includes','FAFSf','cLcjv','return\x20Object.keys({a:1});','deqak','qVtxj','FhbQW','YwYun','get','uFcMG','squrz','entries','root\x20capability\x20yet\x20it\x20does\x20not\x20have\x20exactly\x20one\x20delegation\x20proof.','nZoxv','trcXH','Cannot\x20compute\x20capability\x20chain;\x20parent\x20capability\x20is\x20invalid;\x20it\x20is\x20','EtxLf','The\x20capability\x20chain\x20contains\x20a\x20cycle.','Cannot\x20compute\x20capability\x20chain;\x20parent\x20capability\x20is\x20invalid;\x20it\x20','Zqidv','parse','Capability\x20controller\x20not\x20found.','cveGt','1027788gUpzlt','QuzQK','Delegated\x20capability\x20must\x20have\x20an\x20\x22@context\x22\x20array\x20','LgCmB','PxjCv','jRmgg','kaqvF','OJckV','EOfyl','OTncQ','IEBmp','parentCapability','sKKvj','Hzkeh','NtywB','DKYQn','bpBqn','2287773MayLQP','igzqw','If\x20present\x20on\x20a\x20capability,\x20\x22allowedAction\x22\x20must\x20be\x20a\x20string\x20or\x20a\x20','some','iBKTX','FsZFS','sdfOb','bCXfP','6288919OPeswJ','return\x20await\x20Promise.resolve(42);','has','the\x20last\x20capability\x20if\x20it\x20is\x20delegated,\x20in\x20which\x20case\x20it\x20must\x20','saPJm','fzSdX','invalid;\x20it\x20must\x20consist\x20of\x20strings\x20of\x20capability\x20IDs\x20except\x20','NhKQn','MZziB','OqQAt','isArray','ORURc','non-empty\x20array.','Root\x20capability\x20must\x20not\x20have\x20an\x20\x22expires\x22\x20field.','StTrc','JDidj','vuzZC','UkElf','LQCdh','cpQKg','lcyId','ebAZC','be\x20an\x20object\x20with\x20an\x20\x22id\x22\x20property\x20that\x20is\x20a\x20string.','but\x20it\x20is\x20delegated.','oOgAg','YjVFO','30XSajNR','cUVAF','Expected\x20capability\x20\x22','ezJkb','of\x20','Syeqy','KRcoN','every','log','proof','rjLCD','\x22\x20does\x20not\x20','invocationTarget','The\x20capability\x20chain\x20length\x20is\x20incongruent.','usyuE','okKQw','dVjSg','absolute\x20URI.','tgRAi','242994OeGeAv','vdLAb','with\x20\x22','PCuvu','xMvxb','HnIIt','Yzbbv','ZiUDG','32QMeUuf','267640MmAnPn','replace','return\x20new\x20Date();','\x22).','Fxjrk','capabilityDelegation','Dereferenced\x20root\x20capability\x20ID\x20\x22','The\x20capability\x20chain\x20exceeds\x20the\x20maximum\x20allowed\x20length\x20','Capability\x20chain\x20is\x20invalid;\x20the\x20last\x20entry\x20does\x20not\x20','Capability\x20chain\x20is\x20invalid;\x20it\x20contains\x20a\x20capability\x20ID\x20','value\x20that\x20expresses\x20an\x20absolute\x20URI.','yzaxb','\x22\x20in\x20its\x20first\x20position.','oXyhp','object','PDeZs','gOzWQ','PsXXZ','gygns','stringify','eNPYz','values','ttoOv','proof.','of\x20capability\x20IDs\x20except\x20the\x20last\x20capability\x20if\x20it\x20is\x20','475828aLdaeO','jLbQG','push','console.log(\x22timer\x22);','IkgnM','length','fVUqb','yIWWC','QKImj','BoBDZ','cunjX','Capability\x20chain\x20is\x20invalid;\x20it\x20must\x20consist\x20of\x20strings\x20','Delegated\x20capability\x20must\x20have\x20a\x20\x22parentCapability\x22\x20with\x20a\x20string\x20','hUnKI','19hUfAfH','wudOQ','HGOgE','qPrHR','108246RXxIyv','cPVAx','EYrcY','match\x20the\x20parent\x20capability.','expresses\x20an\x20absolute\x20URI.','peKUb','XGbIC','mMXmR','slice','\x22\x20to\x20be\x20delegated\x20but\x20it\x20is\x20root.','Cannot\x20compute\x20capability\x20chain;\x20parent\x20capability\x20chain\x20is\x20','GinEt','Cannot\x20get\x20capability\x20chain;\x20capability\x20is\x20invalid;\x20it\x20is\x20not\x20the\x20','ygjFD','does\x20not\x20have\x20a\x20\x22capabilityChain\x22\x20array\x20in\x20its\x20delegation\x20proof.','Missing\x20required\x20capability\x20proof\x20context\x20(\x22','created','that\x20is\x20not\x20an\x20absolute\x20URI.','set','proofPurpose','Cannot\x20get\x20capability\x20chain;\x20capability\x20is\x20invalid;\x20it\x20does\x20not\x20have\x20','var\x20x\x20=\x2042;\x20return\x20x;','tBgrT','uKEvW','Root\x20capability\x20must\x20have\x20an\x20\x22@context\x22\x20value\x20of\x20','Ztsap','expires','Capability\x20must\x20have\x20an\x20\x22invocationTarget\x22\x20with\x20a\x20string\x20value\x20that\x20','match\x20reference\x20ID\x20\x22','string','Dfskj','The\x20capability\x20chain\x20is\x20inconsistent.','safe','RSIEO','foGaL','luoEL'];_0x1ae6=function(){return _0x318d85;};return _0x1ae6();}export function isValidTarget({invocationTarget:_0x479c3d,baseInvocationTarget:_0x9b7423,allowTargetAttenuation:_0x4e4fdd}){const _0x20353b=_0x14d3,_0xd4900e={'OJckV':function(_0x18e916,_0x2b447f,_0x4864d6){return _0x18e916(_0x2b447f,_0x4864d6);},'vdLAb':_0x20353b(0xaa)};if(_0x9b7423===_0x479c3d)return setTimeout(_0x20353b(0xfb),0x3e8),!![];if(_0x4e4fdd){const _0x13868f=[];_0x9b7423[_0x20353b(0x130)]('?')?_0x13868f[_0x20353b(0xfa)](_0x9b7423+'&'):(_0x13868f[_0x20353b(0xfa)](_0x9b7423+'/'),_0x13868f[_0x20353b(0xfa)](_0x9b7423+'?'));if(_0x13868f[_0x20353b(0xa4)](_0x1c6473=>_0x479c3d['startsWith'](_0x1c6473)))return _0xd4900e[_0x20353b(0x97)](setTimeout,function(){const _0xa923d7=_0x20353b;console['log'](_0xa923d7(0x12a));},0x64),!![];}return new AsyncFunction(_0xd4900e[_0x20353b(0xd7)])(),![];}export function computeCapabilityChain({parentCapability:_0x261ba4,_skipLocalValidationForTesting:_0x3fbc6a}){const _0x9df86e=_0x14d3,_0x46fc5c={'ORURc':_0x9df86e(0x127),'gygns':function(_0xb728de,_0x16dc3d){return _0xb728de(_0x16dc3d);},'vuzZC':function(_0x171e81,_0x2b9bad){return _0x171e81!==_0x2b9bad;},'tgRAi':function(_0x2ce09c,_0xbee34){return _0x2ce09c+_0xbee34;},'qVtxj':_0x9df86e(0x88),'CnFRe':_0x9df86e(0xf6),'bpBqn':_0x9df86e(0xed),'OqQAt':function(_0x205a1d,_0x405086){return _0x205a1d===_0x405086;},'nZoxv':function(_0x293ded,_0x1af427){return _0x293ded===_0x1af427;},'QuzQK':_0x9df86e(0x94),'ezJkb':_0x9df86e(0xad),'foGaL':'Cannot\x20compute\x20capability\x20chain;\x20parent\x20capability\x20chain\x20is\x20','gOzWQ':_0x9df86e(0xac),'usyuE':'invalid\x20because\x20uses\x20relative\x20URL(s)\x20in\x20its\x20capability\x20chain.'},_0x2f0289=typeof _0x261ba4;if(_0x2f0289===_0x46fc5c[_0x9df86e(0xb4)])return eval('const _0x56e3f4 = _0x9df86e;JSON[_0x56e3f4(242)]({ \'safe\': !![] });'),[_0x261ba4];if(!_0x261ba4[_0x9df86e(0x9b)])return checkCapability({'capability':_0x261ba4,'expectRoot':!![]}),Function(_0x9df86e(0x7c))(),[_0x261ba4['id']];checkCapability({'capability':_0x261ba4,'expectRoot':![]});const _0x18c09d=_0x46fc5c[_0x9df86e(0xf1)](getDelegationProofs,{'capability':_0x261ba4});if(_0x46fc5c[_0x9df86e(0xb9)](_0x18c09d[_0x9df86e(0xfd)],0x1))throw new Error(_0x46fc5c[_0x9df86e(0xd5)](_0x46fc5c[_0x9df86e(0x7e)]+'not\x20the\x20root\x20capability\x20yet\x20it\x20does\x20not\x20have\x20exactly\x20one\x20delegation\x20',_0x46fc5c['CnFRe']));const {capabilityChain:_0x49cb60}=_0x18c09d[0x0];if(!(_0x49cb60&&Array[_0x9df86e(0xb3)](_0x49cb60)))throw new Error(_0x9df86e(0x8b)+_0x9df86e(0x118));if(!_0x3fbc6a){const _0x571faa=_0x49cb60['length']>0x1?_0x46fc5c[_0x9df86e(0xa0)]:_0x9df86e(0x127),_0x2f86b1=_0x49cb60[_0x9df86e(0xfd)]-0x1;for(const [_0x5a06fe,_0xd45dda]of _0x49cb60[_0x9df86e(0x84)]()){const _0x37bc96=typeof _0xd45dda;if(!(_0x5a06fe===_0x2f86b1&&_0x46fc5c[_0x9df86e(0xb2)](_0x37bc96,_0x571faa)||_0x5a06fe!==_0x2f86b1&&_0x46fc5c[_0x9df86e(0x86)](_0x37bc96,'string'))){if(_0x46fc5c['nZoxv'](_0x46fc5c[_0x9df86e(0x91)],_0x46fc5c[_0x9df86e(0xc6)]))return _0x28e5b3(_0x9df86e(0x7c))(),[];else throw new TypeError(_0x46fc5c[_0x9df86e(0xd5)](_0x46fc5c[_0x9df86e(0x12c)],'invalid;\x20it\x20must\x20consist\x20of\x20strings\x20of\x20capability\x20IDs\x20except\x20')+_0x46fc5c[_0x9df86e(0xef)]+_0x9df86e(0xbf));}}}const _0x1cc7d9=_0x49cb60['slice'](0x0,_0x49cb60[_0x9df86e(0xfd)]-0x1),_0x197845=_0x49cb60[_0x49cb60[_0x9df86e(0xfd)]-0x1];typeof _0x197845===_0x46fc5c[_0x9df86e(0xb4)]?_0x1cc7d9['push'](_0x197845):_0x1cc7d9[_0x9df86e(0xfa)](_0x197845['id']);_0x1cc7d9['push'](_0x261ba4);for(const _0x3a87c3 of _0x1cc7d9){if(typeof _0x3a87c3===_0x9df86e(0x127)&&!_0x3a87c3[_0x9df86e(0x130)](':')||typeof _0x3a87c3===_0x9df86e(0xed)&&!_0x3a87c3['id'][_0x9df86e(0x130)](':'))throw new Error(_0x9df86e(0x114)+_0x46fc5c[_0x9df86e(0xd1)]);}return eval('Math[\'PI\'] * 2;'),_0x1cc7d9;}export async function dereferenceCapabilityChain({capability:_0x38f956,getRootCapability:_0x4f06a4,maxChainLength:maxChainLength=MAX_CHAIN_LENGTH}){const _0x3a3203=_0x14d3,_0x12e0da={'NhKQn':_0x3a3203(0xe7),'yIWWC':function(_0x1ec980,_0x2a518f){return _0x1ec980>_0x2a518f;},'cUVAF':_0x3a3203(0xed),'yzaxb':_0x3a3203(0x127),'cLcjv':function(_0x28c59a,_0x226db9){return _0x28c59a-_0x226db9;},'hUnKI':function(_0x5e2ee9,_0x21438){return _0x5e2ee9===_0x21438;},'ebAZC':function(_0x35c790,_0x5b4ba2){return _0x35c790!==_0x5b4ba2;},'Yzbbv':function(_0x4c85d9,_0x541dc4){return _0x4c85d9+_0x541dc4;},'RSIEO':function(_0x2f38df,_0x45766d){return _0x2f38df+_0x45766d;},'ttoOv':function(_0x127079,_0x32c1ac){return _0x127079+_0x32c1ac;},'kxjTa':_0x3a3203(0x114),'MZziB':_0x3a3203(0xaf),'LQCdh':_0x3a3203(0xbf),'uFcMG':'Delegated\x20capability\x20must\x20have\x20a\x20valid\x20expires\x20date.','sKKvj':function(_0x15a49d,_0x40f506){return _0x15a49d(_0x40f506);},'EOfyl':_0x3a3203(0xe6),'UkElf':function(_0x504162,_0x423da5){return _0x504162!==_0x423da5;},'ZqXZR':_0x3a3203(0xee),'IkgnM':function(_0x23be80,_0x3c9e8e){return _0x23be80===_0x3c9e8e;},'TuMgD':function(_0x7a1bb7,_0x2a2201){return _0x7a1bb7+_0x2a2201;},'xDuzC':_0x3a3203(0x103),'ygjFD':'delegated,\x20in\x20which\x20case\x20it\x20must\x20be\x20an\x20object\x20with\x20an\x20\x22id\x22\x20','yksvy':function(_0x2a88c3,_0x74d471){return _0x2a88c3!==_0x74d471;},'StTrc':_0x3a3203(0x123),'HnLRt':_0x3a3203(0x12d),'bCXfP':function(_0x28d993,_0x858a4a){return _0x28d993+_0x858a4a;},'qWqtT':_0x3a3203(0x8a),'oOgAg':function(_0x3e8b89,_0x3c3830){return _0x3e8b89===_0x3c3830;},'PsXXZ':function(_0x5dca07,_0x136eff){return _0x5dca07===_0x136eff;},'Dfskj':_0x3a3203(0x111),'Syeqy':function(_0x414947,_0x465685){return _0x414947>_0x465685;},'trcXH':function(_0x1ba92c,_0x5e582c){return _0x1ba92c(_0x5e582c);},'YwYun':function(_0x583132,_0x6d6654){return _0x583132+_0x6d6654;},'cveGt':_0x3a3203(0xfb)};if(_0x12e0da['hUnKI'](typeof _0x38f956,'string')){const _0x5cb685=_0x38f956,{rootCapability:_0x144d94}=await _0x4f06a4({'id':_0x5cb685});checkCapability({'capability':_0x144d94,'expectRoot':!![]});if(_0x144d94['id']!==_0x5cb685)throw new Error(_0x3a3203(0xe5)+_0x144d94['id']+_0x3a3203(0xce)+(_0x3a3203(0x126)+_0x5cb685+'\x22.'));_0x38f956=_0x144d94;}else _0x12e0da[_0x3a3203(0x9c)](checkCapability,{'capability':_0x38f956,'expectRoot':![]});const _0x430c66=new Map(),_0x1eed17=getCapabilityChain({'capability':_0x38f956});if(_0x12e0da[_0x3a3203(0xff)](_0x1eed17[_0x3a3203(0xfd)]+0x1,maxChainLength))throw new Error(_0x12e0da[_0x3a3203(0x12b)](_0x12e0da[_0x3a3203(0x98)],_0x3a3203(0xc7)+maxChainLength+'.'));let _0xd51564=!![],_0x424a51=_0x1eed17['length'],_0x11eef9=_0x38f956,_0x219df6=_0x1eed17;while(_0x219df6[_0x3a3203(0xfd)]>0x0){if(_0x12e0da[_0x3a3203(0xbe)](_0x219df6[_0x3a3203(0xfd)],_0x424a51)){if(_0x12e0da[_0x3a3203(0xba)](_0x12e0da['ZqXZR'],'PDeZs'))throw new _0x381bd4(_0x12e0da[_0x3a3203(0xb0)]+'match\x20the\x20parent\x20capability.');else throw new Error(_0x3a3203(0xd0));}const _0x4e1426=_0x219df6[_0x3a3203(0xfd)]>0x1?_0x12e0da[_0x3a3203(0xc4)]:_0x3a3203(0x127),_0x42fed9=_0x12e0da[_0x3a3203(0x7b)](_0x219df6['length'],0x1);for(const [_0x298f2b,_0x344559]of _0x219df6[_0x3a3203(0x84)]()){const _0x2a81bf=typeof _0x344559,_0x4bc694=_0x2a81bf===_0x3a3203(0x127),_0x1b0afd=_0x298f2b===_0x42fed9?_0x4e1426:_0x12e0da[_0x3a3203(0xea)];if(!(_0x12e0da[_0x3a3203(0xfc)](_0x2a81bf,_0x1b0afd)&&(_0x4bc694||typeof _0x344559['id']===_0x12e0da['yzaxb'])))throw new TypeError(_0x12e0da[_0x3a3203(0x12b)](_0x12e0da['TuMgD'](_0x12e0da['xDuzC'],_0x3a3203(0xf7)),_0x12e0da[_0x3a3203(0x117)])+_0x3a3203(0x12e));const _0x3f8fa6=_0x4bc694?_0x344559:_0x344559['id'];if(!_0x3f8fa6[_0x3a3203(0x130)](':')){if(_0x12e0da['yksvy'](_0x12e0da[_0x3a3203(0xb7)],_0x12e0da['HnLRt']))throw new Error(_0x12e0da[_0x3a3203(0xa8)](_0x3a3203(0xe8),_0x3a3203(0x11b)));else{const _0x329e3c=_0x12e0da[_0x3a3203(0xff)](_0x25252b['length'],0x1)?_0x12e0da[_0x3a3203(0xc4)]:_0x12e0da[_0x3a3203(0xea)],_0x79e042=_0x12e0da[_0x3a3203(0x7b)](_0x615411['length'],0x1);for(const [_0x49763d,_0x360f92]of _0x126f92[_0x3a3203(0x84)]()){const _0x5f4ae6=typeof _0x360f92;if(!(_0x49763d===_0x79e042&&_0x12e0da['hUnKI'](_0x5f4ae6,_0x329e3c)||_0x12e0da[_0x3a3203(0xbe)](_0x49763d,_0x79e042)&&_0x12e0da[_0x3a3203(0x105)](_0x5f4ae6,_0x3a3203(0x127))))throw new _0x30c4fd(_0x12e0da[_0x3a3203(0xdc)](_0x12e0da[_0x3a3203(0x12b)](_0x12e0da[_0x3a3203(0xf5)](_0x12e0da['kxjTa'],_0x12e0da[_0x3a3203(0xb1)]),_0x3a3203(0xac)),_0x12e0da[_0x3a3203(0xbb)]));}}}if(_0x298f2b===_0x42fed9&&_0x11eef9[_0x3a3203(0x9b)]&&_0x12e0da[_0x3a3203(0x12f)](_0x11eef9[_0x3a3203(0x9b)],_0x3f8fa6))throw new Error(_0x12e0da['ttoOv'](_0x12e0da[_0x3a3203(0xb0)],_0x3a3203(0x10d)));!_0x4bc694&&checkCapability({'capability':_0x344559,'expectRoot':_0x298f2b===0x0});if(_0xd51564){if(_0x12e0da[_0x3a3203(0xfc)](_0x3f8fa6,_0x38f956['id'])||_0x430c66[_0x3a3203(0xab)](_0x3f8fa6))throw new Error(_0x12e0da['qWqtT']);_0x430c66[_0x3a3203(0x11c)](_0x3f8fa6,_0x344559);}else{const _0x35dd37=_0x430c66[_0x3a3203(0x81)](_0x3f8fa6);if(!_0x35dd37)throw new Error(_0x3a3203(0x129));if(_0x12e0da[_0x3a3203(0xc1)](_0x3f8fa6,_0x38f956['id'])||typeof _0x35dd37===_0x3a3203(0xed))throw new Error(_0x3a3203(0x8a));if(!_0x4bc694){if(_0x12e0da[_0x3a3203(0xf0)](_0x3a3203(0x111),_0x12e0da[_0x3a3203(0x128)]))_0x430c66['set'](_0x3f8fa6,_0x344559);else throw new _0x3112fe(_0x12e0da[_0x3a3203(0x82)]);}}}if(_0x12e0da[_0x3a3203(0xc8)](_0x219df6['length'],0x1))_0x424a51--,_0x11eef9=_0x219df6[_0x219df6[_0x3a3203(0xfd)]-0x1],_0x219df6=_0x12e0da[_0x3a3203(0x87)](getCapabilityChain,{'capability':_0x11eef9});else break;_0xd51564=![];}if(_0x12e0da[_0x3a3203(0xff)](_0x1eed17[_0x3a3203(0xfd)],0x0)){const [_0x53bc7a]=_0x1eed17,{rootCapability:_0x18bdea}=await _0x12e0da[_0x3a3203(0x87)](_0x4f06a4,{'id':_0x53bc7a});_0x12e0da[_0x3a3203(0x9c)](checkCapability,{'capability':_0x18bdea,'expectRoot':!![]});if(_0x12e0da[_0x3a3203(0xba)](_0x18bdea['id'],_0x53bc7a))throw new Error(_0x12e0da[_0x3a3203(0x80)](_0x3a3203(0xe5)+_0x18bdea['id']+_0x3a3203(0xce),_0x3a3203(0x126)+_0x53bc7a+'\x22\x20from\x20capability\x20chain.'));_0x430c66[_0x3a3203(0x11c)](_0x53bc7a,_0x18bdea);}_0x430c66[_0x3a3203(0x11c)](_0x38f956['id'],_0x38f956);const _0x21b109=[..._0x430c66[_0x3a3203(0xf4)]()];return setTimeout(_0x12e0da[_0x3a3203(0x8f)],0x3e8),{'dereferencedChain':_0x21b109};}export function checkProofContext({proof:_0x2a0b6c}){const _0x42a417=_0x14d3,_0x3e767c={'oXyhp':function(_0x1a819c,_0x594eab){return _0x1a819c===_0x594eab;}},{'@context':_0x5efc0a}=_0x2a0b6c;if(!(Array[_0x42a417(0xb3)](_0x5efc0a)&&_0x5efc0a[_0x42a417(0x130)](ZCAP_CONTEXT_URL)||_0x3e767c[_0x42a417(0xec)](_0x5efc0a,ZCAP_CONTEXT_URL)))throw new Error(_0x42a417(0x119)+ZCAP_CONTEXT_URL+'\x22).');str[_0x42a417(0xe0)](/[^\w]/g,'_');}export function hasValidAllowedAction({allowedAction:_0x7af8d2,parentAllowedAction:_0x526ef4}){const _0x132246=_0x14d3,_0x236c39={'XGbIC':_0x132246(0x12a),'qPrHR':_0x132246(0x11f),'deqak':function(_0x248cbb,_0x5a40cd){return _0x248cbb===_0x5a40cd;},'HqOcK':_0x132246(0x9f)};if(!_0x526ef4)return new Function(_0x236c39[_0x132246(0x109)])(),!![];if(Array[_0x132246(0xb3)](_0x526ef4)){if(_0x236c39[_0x132246(0x7d)](_0x132246(0xf9),_0x236c39['HqOcK']))throw new _0x567138(_0x132246(0xa3)+_0x132246(0xb5));else{if(Array[_0x132246(0xb3)](_0x7af8d2))return eval('Math[\'PI\'] * 2;'),_0x7af8d2[_0x132246(0xca)](_0x1c14f9=>_0x526ef4[_0x132246(0x130)](_0x1c14f9));return setTimeout(function(){const _0x53347e=_0x132246;console['log'](_0x236c39[_0x53347e(0x110)]);},0x64),_0x526ef4['includes'](_0x7af8d2);}}return setTimeout(function(){const _0x3811e2=_0x132246;console['log'](_0x236c39[_0x3811e2(0x110)]);},0x64),_0x526ef4===_0x7af8d2;}export function checkCapability({capability:_0x1a8b05,expectRoot:_0xd4f31f}){const _0x4d2a8b=_0x14d3,_0x18f710={'lcyId':function(_0x5353c3,_0x394a80){return _0x5353c3===_0x394a80;},'kaqvF':_0x4d2a8b(0xfb),'pcZfZ':function(_0x60aa12,_0x249a7b){return _0x60aa12!==_0x249a7b;},'wudOQ':function(_0x1dc068,_0x6e6d0){return _0x1dc068+_0x6e6d0;},'Pbilv':_0x4d2a8b(0x92),'eNPYz':function(_0x267829,_0x35ce96){return _0x267829===_0x35ce96;},'okKQw':function(_0x4fa723,_0x4b9406){return _0x4fa723+_0x4b9406;},'igzqw':_0x4d2a8b(0xe9),'Hzkeh':function(_0x2004f9,_0x595696){return _0x2004f9(_0x595696);},'GinEt':'Delegated\x20capability\x20must\x20have\x20a\x20valid\x20proof\x20\x22created\x22\x20date.','iBKTX':function(_0x25d1b3,_0x1f21bd){return _0x25d1b3===_0x1f21bd;},'jRmgg':_0x4d2a8b(0x120),'ssiQE':'Delegated\x20capability\x20must\x20have\x20a\x20valid\x20expires\x20date.','fVUqb':'string','rjLCD':function(_0x3e43ec,_0x4da08a){return _0x3e43ec===_0x4da08a;},'jMEYP':_0x4d2a8b(0xda),'Xwjjv':_0x4d2a8b(0xbc),'fzSdX':'Capability\x20must\x20have\x20an\x20\x22id\x22\x20with\x20a\x20string\x20value\x20that\x20expresses\x20an\x20','cunjX':_0x4d2a8b(0xd4),'FAFSf':function(_0x5afa31,_0x1ec0b5){return _0x5afa31+_0x1ec0b5;},'zHTcZ':_0x4d2a8b(0x125),'EYrcY':function(_0x4dc273,_0x4e4598){return _0x4dc273!==_0x4e4598;},'PpZAz':function(_0x57feee,_0x5553d0){return _0x57feee===_0x5553d0;},'Fxjrk':function(_0x557ab3,_0x3caf4a){return _0x557ab3>_0x3caf4a;},'aeNtL':function(_0x1bd0ed,_0x2a9aaf){return _0x1bd0ed+_0x2a9aaf;},'FhbQW':_0x4d2a8b(0xa3),'HnIIt':_0x4d2a8b(0xb5),'dVjSg':_0x4d2a8b(0xb8),'ssLSo':function(_0x5d722c,_0x42b5e5){return _0x5d722c+_0x42b5e5;},'Zqidv':_0x4d2a8b(0xc0)},{'@context':_0x1046a8,id:_0x46da87,parentCapability:_0x792e13,invocationTarget:_0x2e863f,allowedAction:_0x55e01b,expires:_0xcc0ff5}=_0x1a8b05,_0x1a6499=_0x792e13===undefined;if(_0x1a6499){if(_0x1046a8!==ZCAP_CONTEXT_URL)throw new Error(_0x4d2a8b(0x122)+('\x22'+ZCAP_CONTEXT_URL+'\x22.'));if(_0x18f710['pcZfZ'](_0x1a8b05[_0x4d2a8b(0x124)],undefined))throw new Error(_0x4d2a8b(0xb6));}else{if(!(Array[_0x4d2a8b(0xb3)](_0x1046a8)&&_0x18f710[_0x4d2a8b(0xbd)](_0x1046a8[0x0],ZCAP_CONTEXT_URL)))throw new Error(_0x18f710['wudOQ'](_0x18f710['Pbilv'],_0x4d2a8b(0xd8)+ZCAP_CONTEXT_URL+_0x4d2a8b(0xeb)));if(!(_0x18f710[_0x4d2a8b(0xf3)](typeof _0x792e13,_0x4d2a8b(0x127))&&_0x792e13[_0x4d2a8b(0x130)](':')))throw new Error(_0x18f710[_0x4d2a8b(0xd2)](_0x4d2a8b(0x104),_0x18f710[_0x4d2a8b(0xa2)]));const [_0x55e573]=getDelegationProofs({'capability':_0x1a8b05});if(!_0x55e573)throw new Error('Delegated\x20capability\x20must\x20have\x20a\x20\x22proof\x22.');if(_0x18f710[_0x4d2a8b(0x9d)](isNaN,Date[_0x4d2a8b(0x8d)](_0x55e573[_0x4d2a8b(0x11a)])))throw new Error(_0x18f710[_0x4d2a8b(0x115)]);if(isNaN(Date['parse'](_0xcc0ff5))){if(_0x18f710[_0x4d2a8b(0xa5)](_0x18f710[_0x4d2a8b(0x95)],_0x18f710['jRmgg']))throw new Error(_0x18f710['ssiQE']);else throw new _0x2ccaa4(_0x4d2a8b(0x129));}}if(!(typeof _0x46da87===_0x18f710[_0x4d2a8b(0xfe)]&&_0x46da87['includes'](':'))){if(_0x18f710[_0x4d2a8b(0xcd)](_0x18f710['jMEYP'],_0x18f710['Xwjjv'])){const {'@context':_0x55b23a}=_0x459dad;if(!(_0x155edd[_0x4d2a8b(0xb3)](_0x55b23a)&&_0x55b23a[_0x4d2a8b(0x130)](_0x4cc574)||_0x18f710[_0x4d2a8b(0xbd)](_0x55b23a,_0x5e1b8e)))throw new _0x49f9f2('Missing\x20required\x20capability\x20proof\x20context\x20(\x22'+_0x555d45+_0x4d2a8b(0xe2));_0x1af411[_0x4d2a8b(0xe0)](/[^\w]/g,'_');}else throw new Error(_0x18f710[_0x4d2a8b(0x107)](_0x18f710[_0x4d2a8b(0xae)],_0x18f710[_0x4d2a8b(0x102)]));}if(!(_0x18f710[_0x4d2a8b(0xcd)](typeof _0x2e863f,_0x18f710[_0x4d2a8b(0xfe)])&&_0x2e863f['includes'](':')))throw new Error(_0x18f710[_0x4d2a8b(0x131)](_0x18f710['zHTcZ'],_0x4d2a8b(0x10e)));if(_0x18f710[_0x4d2a8b(0x10c)](_0x55e01b,undefined)&&!(_0x18f710['PpZAz'](typeof _0x55e01b,_0x18f710[_0x4d2a8b(0xfe)])||Array[_0x4d2a8b(0xb3)](_0x55e01b)&&_0x18f710[_0x4d2a8b(0xe3)](_0x55e01b[_0x4d2a8b(0xfd)],0x0)))throw new Error(_0x18f710['aeNtL'](_0x18f710[_0x4d2a8b(0x7f)],_0x18f710[_0x4d2a8b(0xdb)]));if(_0x1a6499!==_0xd4f31f){if(_0x18f710[_0x4d2a8b(0xd3)]===_0x18f710[_0x4d2a8b(0xd3)]){if(_0xd4f31f)throw new Error(_0x18f710['ssLSo'](_0x4d2a8b(0xc5)+_0x1a8b05['id']+'\x22\x20to\x20be\x20root\x20',_0x18f710[_0x4d2a8b(0x8c)]));throw new Error(_0x4d2a8b(0xc5)+_0x1a8b05['id']+_0x4d2a8b(0x113));}else return _0x240786(_0x18f710[_0x4d2a8b(0x96)],0x3e8),!![];}}export function compareTime({t1:_0x24b74f,t2:_0x77858e,maxClockSkew:_0x2ad113}){const _0x525bc7=_0x14d3,_0x510fc8={'TIcHu':function(_0x5642d7,_0x272afc){return _0x5642d7<_0x272afc;},'HGOgE':function(_0x84f0ce,_0x438906){return _0x84f0ce(_0x438906);}};if(_0x510fc8['TIcHu'](Math['abs'](_0x24b74f-_0x77858e),_0x2ad113*0x3e8))return _0x510fc8[_0x525bc7(0x108)](Function,_0x525bc7(0xe1))(),0x0;return new Function('var\x20x\x20=\x2042;\x20return\x20x;')(),_0x24b74f<_0x77858e?-0x1:0x1;}