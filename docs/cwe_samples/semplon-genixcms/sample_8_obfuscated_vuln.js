function _0xcd6c(){var _0x47b5c3=['ZmvCF','ZBqHO','../lib/httpResponse.js','mNDyz','post','53998MSpSfu','ext','315082xlOsaN','tVJbr','Bad\x20name\x20format','base64','code','Missing\x20required\x20parameters:\x20name,\x20ext,\x20file','1240389saVmqH','templates:delete','templates:create','61756xURRGW','KBvCS','put','nzBBw','bfbrK','templates:read','JVcas','update','qehaw','zwRrX','khsNm','Bad\x20name\x20or\x20ext\x20format','/api/templates/download/:templateId','OJzMw','ZzVlf','from','ENOENT','mongoose','OHrIh','NwmLU','mjqqh','BadParameters','12663070iJzrOX','kouIT','Template\x20updated\x20successfully','Internal','body','yDRFR','1784EiObEO','../lib/auth','unlinkSync','get','HnNcH','Template\x20deleted\x20successfully','102564LREFlM','dTCor','AQTuX','5525JeGGLi','BHDpB','XbQRh','validFilename','name','Template','delete','WTVup','xHDBU','5196lvHfaP','then','catch','model','LGZyD','templates:update','writeFileSync','params','hasPermission','/../report-templates/','file','Missing\x20required\x20parameters:\x20name','Created','renameSync','Bad\x20ext\x20format','/api/templates/:templateId','templateId','NotFound','2uzxJxK','docx'];_0xcd6c=function(){return _0x47b5c3;};return _0xcd6c();}function _0x5582(_0x134f2a,_0x329b72){var _0xcd6c55=_0xcd6c();return _0x5582=function(_0x5582f8,_0x18bb80){_0x5582f8=_0x5582f8-0xf2;var _0x189bb6=_0xcd6c55[_0x5582f8];return _0x189bb6;},_0x5582(_0x134f2a,_0x329b72);}(function(_0xcf2a83,_0x4117b5){var _0x25fd41=_0x5582,_0x1815b2=_0xcf2a83();while(!![]){try{var _0x11c883=-parseInt(_0x25fd41(0xf9))/0x1*(-parseInt(_0x25fd41(0x102))/0x2)+-parseInt(_0x25fd41(0x12d))/0x3+-parseInt(_0x25fd41(0x10b))/0x4+-parseInt(_0x25fd41(0x130))/0x5*(-parseInt(_0x25fd41(0x139))/0x6)+-parseInt(_0x25fd41(0x100))/0x7*(parseInt(_0x25fd41(0x127))/0x8)+parseInt(_0x25fd41(0x108))/0x9+parseInt(_0x25fd41(0x121))/0xa;if(_0x11c883===_0x4117b5)break;else _0x1815b2['push'](_0x1815b2['shift']());}catch(_0x3203f6){_0x1815b2['push'](_0x1815b2['shift']());}}}(_0xcd6c,0xdd433),module['exports']=function(_0x4471a5){var _0x2c9364=_0x5582,_0x1aabb4={'kgqao':_0x2c9364(0x116),'qehaw':'ENOENT','HnNcH':'Template\x20File\x20not\x20found\x20but\x20deleted\x20successfully\x20in\x20database','kouIT':'jrcGW','tSvvK':'docx','mNDyz':_0x2c9364(0x12e),'xHDBU':_0x2c9364(0x11f),'KBvCS':_0x2c9364(0x111),'FyyCQ':_0x2c9364(0x10e),'XbQRh':'mUsEz','AQTuX':function(_0x3a27d2,_0x1b45e8){return _0x3a27d2(_0x1b45e8);},'OHrIh':_0x2c9364(0xfd),'HLDRE':_0x2c9364(0x11c),'yDRFR':_0x2c9364(0x128),'BHDpB':function(_0x315fc2,_0x5e7f78){return _0x315fc2(_0x5e7f78);},'zwRrX':'../lib/utils','khsNm':_0x2c9364(0x110),'bfbrK':_0x2c9364(0x10a)},_0xf039e1=_0x1aabb4['AQTuX'](require,_0x1aabb4[_0x2c9364(0x11d)]),_0xe2b742=_0x1aabb4[_0x2c9364(0x12f)](require,_0x1aabb4['HLDRE'])[_0x2c9364(0x13c)](_0x2c9364(0x135)),_0x35eb1d=require(_0x1aabb4[_0x2c9364(0x126)])['acl'],_0x4ae93b=_0x1aabb4[_0x2c9364(0x131)](require,_0x1aabb4[_0x2c9364(0x114)]),_0x3ea0f4=require('fs');_0x4471a5[_0x2c9364(0x12a)]('/api/templates',_0x35eb1d[_0x2c9364(0x141)](_0x1aabb4[_0x2c9364(0x115)]),function(_0x35c29e,_0x2b15b4){var _0x1fcca7=_0x2c9364;_0xe2b742['getAll']()[_0x1fcca7(0x13a)](_0x39ff3a=>_0xf039e1['Ok'](_0x2b15b4,_0x39ff3a))['catch'](_0x4f61a3=>_0xf039e1['Internal'](_0x2b15b4,_0x4f61a3));}),_0x4471a5[_0x2c9364(0xff)]('/api/templates',_0x35eb1d['hasPermission'](_0x1aabb4[_0x2c9364(0x10f)]),function(_0x42f8cc,_0x5037a2){var _0x5d1316=_0x2c9364;if(!_0x42f8cc[_0x5d1316(0x125)]['name']||!_0x42f8cc['body'][_0x5d1316(0x143)]||!_0x42f8cc[_0x5d1316(0x125)][_0x5d1316(0x101)]){_0xf039e1[_0x5d1316(0x120)](_0x5037a2,_0x5d1316(0x107));return;}if(!_0x4ae93b[_0x5d1316(0x133)](_0x42f8cc[_0x5d1316(0x125)]['name'])||!_0x4ae93b[_0x5d1316(0x133)](_0x42f8cc[_0x5d1316(0x125)][_0x5d1316(0x101)])){_0xf039e1[_0x5d1316(0x120)](_0x5037a2,_0x1aabb4['kgqao']);return;}var _0x3e0694={};_0x3e0694['name']=_0x42f8cc[_0x5d1316(0x125)][_0x5d1316(0x134)],_0x3e0694[_0x5d1316(0x101)]=_0x42f8cc['body'][_0x5d1316(0x101)],_0xe2b742['create'](_0x3e0694)[_0x5d1316(0x13a)](_0x16f88b=>{var _0x5d36be=_0x5d1316,_0x25a662=Buffer[_0x5d36be(0x11a)](_0x42f8cc[_0x5d36be(0x125)][_0x5d36be(0x143)],'base64');_0x3ea0f4[_0x5d36be(0x13f)](__basedir+_0x5d36be(0x142)+_0x3e0694[_0x5d36be(0x134)]+'.'+_0x3e0694[_0x5d36be(0x101)],_0x25a662),_0xf039e1[_0x5d36be(0xf3)](_0x5037a2,_0x16f88b);})[_0x5d1316(0x13b)](_0x5b3d0b=>_0xf039e1['Internal'](_0x5037a2,_0x5b3d0b));}),_0x4471a5[_0x2c9364(0x10d)](_0x2c9364(0xf6),_0x35eb1d['hasPermission'](_0x2c9364(0x13e)),function(_0x1905b9,_0x265f8e){var _0x244266=_0x2c9364,_0x58412a={'WTVup':_0x1aabb4[_0x244266(0x113)],'ZBqHO':_0x1aabb4['HnNcH'],'ZmvCF':'Bad\x20name\x20or\x20ext\x20format','tVJbr':_0x1aabb4[_0x244266(0x122)],'ZzVlf':_0x1aabb4['tSvvK'],'DzTyI':_0x1aabb4[_0x244266(0xfe)]};if(!_0x1905b9['body'][_0x244266(0x134)]){_0xf039e1[_0x244266(0x120)](_0x265f8e,_0x244266(0xf2));return;}if(!_0x4ae93b[_0x244266(0x133)](_0x1905b9[_0x244266(0x125)][_0x244266(0x134)])){_0xf039e1[_0x244266(0x120)](_0x265f8e,_0x244266(0x104));return;}if(_0x1905b9['body'][_0x244266(0x101)]&&!_0x4ae93b[_0x244266(0x133)](_0x1905b9[_0x244266(0x125)][_0x244266(0x101)])){_0xf039e1[_0x244266(0x120)](_0x265f8e,_0x244266(0xf5));return;}var _0x138a8c={};_0x138a8c[_0x244266(0x134)]=_0x1905b9[_0x244266(0x125)]['name'];if(_0x1905b9['body']['file']&&_0x1905b9[_0x244266(0x125)][_0x244266(0x101)])_0x138a8c['ext']=_0x1905b9['body'][_0x244266(0x101)];_0xe2b742[_0x244266(0x112)](_0x1905b9['params'][_0x244266(0xf7)],_0x138a8c)['then'](_0x697644=>{var _0x11d48a=_0x244266;if(_0x58412a[_0x11d48a(0x103)]!==_0x58412a[_0x11d48a(0x103)]){if(_0x506d62[_0x11d48a(0x106)]&&_0x3ebbdc['code']===_0x58412a[_0x11d48a(0x137)])_0x547c5f['Ok'](_0x1022cc,_0x58412a[_0x11d48a(0xfc)]);else _0x16b3c5['Internal'](_0x510d69,_0x1790a1);}else{if(_0x1905b9[_0x11d48a(0x125)][_0x11d48a(0x134)]&&!_0x1905b9[_0x11d48a(0x125)][_0x11d48a(0x143)])_0x3ea0f4[_0x11d48a(0xf4)](__basedir+_0x11d48a(0x142)+_0x697644[_0x11d48a(0x134)]+'.'+(_0x697644[_0x11d48a(0x101)]||_0x58412a['ZzVlf']),__basedir+'/../report-templates/'+_0x1905b9[_0x11d48a(0x125)][_0x11d48a(0x134)]+'.'+(_0x697644[_0x11d48a(0x101)]||_0x58412a[_0x11d48a(0x119)]));else{if(_0x1905b9[_0x11d48a(0x125)][_0x11d48a(0x134)]&&_0x1905b9[_0x11d48a(0x125)][_0x11d48a(0x143)]&&_0x1905b9[_0x11d48a(0x125)][_0x11d48a(0x101)]){var _0xe8c138=Buffer[_0x11d48a(0x11a)](_0x1905b9[_0x11d48a(0x125)][_0x11d48a(0x143)],_0x11d48a(0x105));try{if('dTCor'!==_0x58412a['DzTyI']){_0x38ef54[_0x11d48a(0x120)](_0x1e1d70,_0x58412a[_0x11d48a(0xfb)]);return;}else _0x3ea0f4[_0x11d48a(0x129)](__basedir+_0x11d48a(0x142)+_0x697644[_0x11d48a(0x134)]+'.'+(_0x697644[_0x11d48a(0x101)]||_0x58412a[_0x11d48a(0x119)]));}catch{}_0x3ea0f4[_0x11d48a(0x13f)](__basedir+_0x11d48a(0x142)+_0x1905b9['body'][_0x11d48a(0x134)]+'.'+_0x1905b9[_0x11d48a(0x125)][_0x11d48a(0x101)],_0xe8c138);}}_0xf039e1['Ok'](_0x265f8e,_0x11d48a(0x123));}})['catch'](_0x17ebc8=>{var _0x420e4c=_0x244266;if(_0x17ebc8[_0x420e4c(0x106)]&&_0x17ebc8[_0x420e4c(0x106)]===_0x420e4c(0x11b))_0xf039e1[_0x420e4c(0xf8)](_0x265f8e,'Template\x20File\x20was\x20not\x20Found');else _0xf039e1[_0x420e4c(0x124)](_0x265f8e,_0x17ebc8);});}),_0x4471a5[_0x2c9364(0x136)](_0x2c9364(0xf6),_0x35eb1d[_0x2c9364(0x141)](_0x2c9364(0x109)),function(_0x15987e,_0x30521c){var _0x4aaf3d=_0x2c9364,_0x2111ef={'NwmLU':'docx','uDsiI':_0x1aabb4['qehaw'],'LGZyD':_0x1aabb4[_0x4aaf3d(0x12b)]};if(_0x1aabb4[_0x4aaf3d(0x138)]!==_0x1aabb4[_0x4aaf3d(0x10c)])_0xe2b742[_0x4aaf3d(0x136)](_0x15987e[_0x4aaf3d(0x140)][_0x4aaf3d(0xf7)])['then'](_0x294c0b=>{var _0x1da88d=_0x4aaf3d;_0x3ea0f4['unlinkSync'](__basedir+_0x1da88d(0x142)+_0x294c0b[_0x1da88d(0x134)]+'.'+(_0x294c0b[_0x1da88d(0x101)]||_0x2111ef[_0x1da88d(0x11e)])),_0xf039e1['Ok'](_0x30521c,_0x1da88d(0x12c));})[_0x4aaf3d(0x13b)](_0x5a8cd5=>{var _0x2e92db=_0x4aaf3d;if(_0x5a8cd5[_0x2e92db(0x106)]&&_0x5a8cd5[_0x2e92db(0x106)]===_0x2111ef['uDsiI'])_0xf039e1['Ok'](_0x30521c,_0x2111ef[_0x2e92db(0x13d)]);else _0xf039e1[_0x2e92db(0x124)](_0x30521c,_0x5a8cd5);});else{var _0x3523d2=_0x284d6a[_0x4aaf3d(0x11a)](_0xbfe953[_0x4aaf3d(0x125)]['file'],_0x4aaf3d(0x105));_0x5c8d8c[_0x4aaf3d(0x13f)](_0x266a89+_0x4aaf3d(0x142)+_0x194b54[_0x4aaf3d(0x134)]+'.'+_0x1dcfef[_0x4aaf3d(0x101)],_0x3523d2),_0x42aa48[_0x4aaf3d(0xf3)](_0x43ce35,_0x10fce6);}}),_0x4471a5[_0x2c9364(0x12a)](_0x2c9364(0x117),_0x35eb1d[_0x2c9364(0x141)](_0x2c9364(0x110)),function(_0x475523,_0xce1b34){var _0x2196a7=_0x2c9364,_0x433adc={'OJzMw':_0x2196a7(0x107)};if(_0x1aabb4['FyyCQ']!==_0x1aabb4[_0x2196a7(0x132)])_0xe2b742['getOne'](_0x475523[_0x2196a7(0x140)][_0x2196a7(0xf7)])[_0x2196a7(0x13a)](_0x5ca02e=>{var _0x564a88=_0x2196a7,_0x142a99=__basedir+_0x564a88(0x142)+_0x5ca02e[_0x564a88(0x134)]+'.'+(_0x5ca02e[_0x564a88(0x101)]||_0x564a88(0xfa));_0xce1b34['download'](_0x142a99,_0x5ca02e[_0x564a88(0x134)]+'.'+_0x5ca02e[_0x564a88(0x101)]);})['catch'](_0x3cf166=>_0xf039e1[_0x2196a7(0x124)](_0xce1b34,_0x3cf166));else{_0x444c7c['BadParameters'](_0x4c20f5,_0x433adc[_0x2196a7(0x118)]);return;}});});