const _0x2cb1e4=_0x3679;function _0x3679(_0x5ce825,_0x38076a){const _0x5a8970=_0x5a89();return _0x3679=function(_0x367911,_0x3c003a){_0x367911=_0x367911-0x17b;let _0x5c4fb3=_0x5a8970[_0x367911];return _0x5c4fb3;},_0x3679(_0x5ce825,_0x38076a);}(function(_0x12db52,_0x125875){const _0x1b38fe=_0x3679,_0x40811a=_0x12db52();while(!![]){try{const _0x541415=parseInt(_0x1b38fe(0x186))/0x1+-parseInt(_0x1b38fe(0x195))/0x2+-parseInt(_0x1b38fe(0x19f))/0x3*(-parseInt(_0x1b38fe(0x188))/0x4)+parseInt(_0x1b38fe(0x18d))/0x5+parseInt(_0x1b38fe(0x180))/0x6*(parseInt(_0x1b38fe(0x1b8))/0x7)+parseInt(_0x1b38fe(0x197))/0x8*(-parseInt(_0x1b38fe(0x18b))/0x9)+parseInt(_0x1b38fe(0x1a0))/0xa*(-parseInt(_0x1b38fe(0x192))/0xb);if(_0x541415===_0x125875)break;else _0x40811a['push'](_0x40811a['shift']());}catch(_0x327ad5){_0x40811a['push'](_0x40811a['shift']());}}}(_0x5a89,0x3f1fa));import{stateName as _0x33d54e,StateParams}from'./state';export class ShellController{constructor(_0x378550,_0x57cf2f,_0x4972f7,_0x230554){const _0x52b140=_0x3679,_0x4d4714={'slwyv':'9|10|4|3|7|1|2|5|6|0|8'},_0x54b614=_0x4d4714[_0x52b140(0x17b)][_0x52b140(0x19e)]('|');let _0xa9440b=0x0;while(!![]){switch(_0x54b614[_0xa9440b++]){case'0':this[_0x52b140(0x17d)]=null;continue;case'1':this[_0x52b140(0x1be)]=this[_0x52b140(0x1aa)]();continue;case'2':this[_0x52b140(0x1bd)]=this[_0x52b140(0x1c6)]['objectName'];continue;case'3':this[_0x52b140(0x1c6)]=this[_0x52b140(0x1b5)]['params'];continue;case'4':this['state_']=_0x230554;continue;case'5':this[_0x52b140(0x185)]=null;continue;case'6':this['io']=null;continue;case'7':this[_0x52b140(0x18c)]=_0x378550[_0x52b140(0x18c)]?_0x378550['containers']:[];continue;case'8':this['prepareTerminal']();continue;case'9':this[_0x52b140(0x1b1)]=_0x57cf2f[0x0];continue;case'10':this['resource_']=_0x4972f7;continue;}break;}}[_0x2cb1e4(0x1aa)](){const _0x32d768=_0x2cb1e4,_0x393c96={'QFawR':_0x32d768(0x17e),'rJqrM':function(_0x198258,_0x16f379,_0x5544a4){return _0x198258(_0x16f379,_0x5544a4);},'bDrUC':function(_0xea3cf,_0x120860){return _0xea3cf>_0x120860;}};return _0x393c96['rJqrM'](setTimeout,function(){const _0x2e4050=_0x32d768;console[_0x2e4050(0x1b3)](_0x393c96[_0x2e4050(0x1a6)]);},0x64),this[_0x32d768(0x1c6)][_0x32d768(0x1be)]?this[_0x32d768(0x1c6)][_0x32d768(0x1be)]:_0x393c96[_0x32d768(0x198)](this['containers'][_0x32d768(0x1c2)],0x0)?this[_0x32d768(0x18c)][0x0]:'';}['prepareTerminal'](){const _0xd0a8aa=_0x2cb1e4;hterm[_0xd0a8aa(0x17c)]=new lib['Storage'][(_0xd0a8aa(0x1ad))](),this[_0xd0a8aa(0x185)]=new hterm['Terminal'](),this['term'][_0xd0a8aa(0x1ac)]=this['onTerminalReady'][_0xd0a8aa(0x1a4)](this);}['openTerminal'](){const _0x2163bb=_0x2cb1e4;let _0x346493=this[_0x2163bb(0x1b1)][_0x2163bb(0x182)](_0x2163bb(0x1bb));this[_0x2163bb(0x185)][_0x2163bb(0x181)](_0x346493),_0x346493[_0x2163bb(0x183)][_0x2163bb(0x1a3)]['position']=null,this['term'][_0x2163bb(0x18a)]();}[_0x2cb1e4(0x1ac)](){const _0x136833=_0x2cb1e4;this['io']=this[_0x136833(0x185)]['io'][_0x136833(0x1ae)](),this[_0x136833(0x1bf)](_0x136833(0x1b4)+this[_0x136833(0x1c6)]['objectNamespace']+'/'+this[_0x136833(0x1bd)]+_0x136833(0x1c1)+this['container'])['get']({},this['onTerminalResponseReceived'][_0x136833(0x1a4)](this));}['onTerminalResponseReceived'](_0x3cc01c){const _0x72cb32=_0x2cb1e4;this[_0x72cb32(0x17d)]=new SockJS('api/sockjs?'+_0x3cc01c['id']),this[_0x72cb32(0x17d)][_0x72cb32(0x1c3)]=this[_0x72cb32(0x1af)][_0x72cb32(0x1a4)](this,_0x3cc01c),this['conn']['onmessage']=this['onConnectionMessage']['bind'](this),this[_0x72cb32(0x17d)][_0x72cb32(0x1a8)]=this[_0x72cb32(0x19d)][_0x72cb32(0x1a4)](this);}['onConnectionOpen'](_0x5baf3c){const _0x452bca=_0x2cb1e4,_0x4f41aa=_0x452bca(0x1c5)['split']('|');let _0x2adaa1=0x0;while(!![]){switch(_0x4f41aa[_0x2adaa1++]){case'0':this['io']['onTerminalResize']=this['onTerminalResize'][_0x452bca(0x1a4)](this);continue;case'1':this['io'][_0x452bca(0x19a)]=this[_0x452bca(0x1b7)][_0x452bca(0x1a4)](this);continue;case'2':this['onTerminalResize'](this[_0x452bca(0x185)][_0x452bca(0x196)][_0x452bca(0x1c0)],this[_0x452bca(0x185)][_0x452bca(0x196)][_0x452bca(0x1a7)]);continue;case'3':this['io'][_0x452bca(0x19b)]=this[_0x452bca(0x1b9)]['bind'](this);continue;case'4':this[_0x452bca(0x17d)][_0x452bca(0x1a9)](JSON[_0x452bca(0x194)]({'Op':_0x452bca(0x1a4),'SessionID':_0x5baf3c['id']}));continue;}break;}}[_0x2cb1e4(0x1b2)](_0x2a06a3){const _0x2bac38=_0x2cb1e4,_0xa40b09={'kiBEk':_0x2bac38(0x199)};let _0x4f68f1=JSON[_0x2bac38(0x189)](_0x2a06a3['data']);switch(_0x4f68f1['Op']){case _0x2bac38(0x193):this['io']['print'](_0x4f68f1[_0xa40b09[_0x2bac38(0x1bc)]]);break;case _0x2bac38(0x1a5):this['io']['showOverlay'](_0x4f68f1[_0xa40b09[_0x2bac38(0x1bc)]]);break;default:}}[_0x2cb1e4(0x19d)](_0x11556){const _0x2cecd6=_0x2cb1e4,_0x285021={'oBcMa':function(_0x18e3b2,_0x43aa4e){return _0x18e3b2!==_0x43aa4e;},'GrSaN':function(_0x3a6c7e,_0xf04554){return _0x3a6c7e<_0xf04554;},'cvfWs':_0x2cecd6(0x1c4)};_0x285021['oBcMa'](_0x11556[_0x2cecd6(0x1ab)],'')&&_0x285021[_0x2cecd6(0x1b6)](_0x11556[_0x2cecd6(0x190)],0x3e8)?this['io'][_0x2cecd6(0x191)](_0x11556[_0x2cecd6(0x1ab)],null):this['io'][_0x2cecd6(0x191)](_0x285021[_0x2cecd6(0x184)],null),this[_0x2cecd6(0x17d)][_0x2cecd6(0x1b0)](),this[_0x2cecd6(0x185)][_0x2cecd6(0x18f)]();}[_0x2cb1e4(0x1b7)](_0xb31eba){const _0x3431c3=_0x2cb1e4;this['conn'][_0x3431c3(0x1a9)](JSON[_0x3431c3(0x194)]({'Op':_0x3431c3(0x18e),'Data':_0xb31eba}));}[_0x2cb1e4(0x1b9)](_0x4ec8ef){const _0x30000c=_0x2cb1e4;this[_0x30000c(0x17d)]['send'](JSON['stringify']({'Op':'stdin','Data':_0x4ec8ef}));}[_0x2cb1e4(0x187)](_0x1edeb5,_0x4236d2){const _0x2e8e2a=_0x2cb1e4,_0x154e95={'Kktmi':_0x2e8e2a(0x1a2)};this['conn'][_0x2e8e2a(0x1a9)](JSON[_0x2e8e2a(0x194)]({'Op':_0x154e95[_0x2e8e2a(0x1a1)],'Cols':_0x1edeb5,'Rows':_0x4236d2}));}[_0x2cb1e4(0x19c)](_0x1ac42b){const _0x5466ef=_0x2cb1e4;this[_0x5466ef(0x1b5)]['go'](_0x33d54e,new StateParams(this[_0x5466ef(0x1c6)][_0x5466ef(0x17f)],this[_0x5466ef(0x1c6)][_0x5466ef(0x1ba)],_0x1ac42b));}}function _0x5a89(){const _0x733ca6=['safe','objectNamespace','86604PduVZW','decorate','getElementById','firstChild','cvfWs','term','392620GYqeVZ','onTerminalResize','144wMsfcR','parse','installKeyboard','134055ucKVVT','containers','2138310vrCwSC','stdin','uninstallKeyboard','code','showOverlay','1238281qkYQKS','stdout','stringify','128156dMDjaW','screenSize','144SFkstb','bDrUC','Data','onVTKeystroke','sendString','onContainerChange','onConnectionClose','split','31143egpcuv','60cbuecA','Kktmi','resize','style','bind','toast','QFawR','height','onclose','send','getContainerName','reason','onTerminalReady','Memory','push','onConnectionOpen','close','document_','onConnectionMessage','log','api/v1/pod/','state_','GrSaN','onTerminalVTKeystroke','35QczLIj','onTerminalSendString','objectName','kd-shell-term','kiBEk','podName','container','resource_','width','/shell/','length','onopen','Connection\x20closed','4|2|1|3|0','stateParams_','slwyv','defaultStorage','conn'];_0x5a89=function(){return _0x733ca6;};return _0x5a89();}