const _0x96af3e=_0x174d;function _0x549f(){const _0x573858=['DbIML','should\x20throw\x20500\x20if\x20webhookVerifyToken\x20is\x20not\x20specified','FFouj','kDMIx','parsed','stringify','vCoUw','subtle','Invalid\x20OAuth\x20access\x20token\x20-\x20Cannot\x20parse\x20access\x20token','SQdmE','VBmeW','YOUR_ACCESS_TOKEN','fakMo','cFflv','nKgzx','lkYjY','Hello\x20world','OQZYJ','Logger','NgULe','xIJpX','node:crypto','image/svg','should\x20be\x20able\x20to\x20mark\x20a\x20message\x20as\x20read','something_random','fxzPX','ethlq','oBVMn','Fetch','https://scontent.faep22-1.fna.fbcdn.net/m1/v/t6/another_weird_url','3543544KpVxbs','HHomC','should\x20create\x20a\x20WhatsAppAPI\x20object\x20with\x20the\x20token','should\x20fail\x20if\x20the\x20form\x20param\x20is\x20not\x20a\x20FormData\x20instance','dzaXu','NGQcW','dEpDZ','length','aJkdm','NwOMx','OhbQq','qnMFp','random/type','Check\x20truthy\x20(default)','Broadcast','should\x20be\x20able\x20to\x20broadcast\x20a\x20message\x20to\x20many\x20users','7492772TMIwsE','oSuOl','ZVbqc','business-initiated','lFJTV','json','Ponyfill','message','zsfLn','should\x20delete\x20a\x20file','kSwjl','UNAbM','Let\x27s\x20pretend\x20this\x20body\x20is\x20equal\x20to\x20the\x20message\x20object\x20and\x20can\x20handle\x20unicode\x20characters\x20like\x20みどりいろ\x20and\x20J\x27ai\x20mangé\x20des\x20pâtes','MBPvP','QTtlt','SbWTT','JtYfE','KdNMO','append','rjBNP','https://example.com/','Wrqvn','token','Bearer\x20','RuwKa','whatsapp','should\x20make\x20an\x20authenticated\x20request\x20to\x20any\x20url','CryptoSubtle','now','GYghw','kVhTJ','yKiUh','mRAOS','lTUDa','pYQXW','xUCLR','image/webp','should\x20default\x20to\x20the\x20enviroment\x20fetch\x20(skip\x20if\x20not\x20defined)','../lib/cjs/types','ZbqfV','zAlGw','rNGnb','file','5370904AjVFbu','CONVERSATION_ID','should\x20return\x20the\x20on.message\x20return\x20value','fdMKE','undici','should\x20throw\x20400\x20if\x20the\x20request\x20isn\x27t\x20a\x20valid\x20WhatsApp\x20Cloud\x20API\x20request\x20(data.object)','TfGdB','BqHPk','jvZqO','TAKNc','zmgac','CsGam','split','rLdls','cgOPA','iqfTg','vfHDI','uploadMedia','kqImm','IrBXM','Check\x20falsy','boTey','usIDj','PKFpb','jnowx','retrieveQR','sha256=wrong','dyCyy','Send','DcECs','CBP','rHhGY','crkuX','dpTnv','KdlnG','DWwDM','YAAuH','RREKl','hahmW','png','FnWFj','should\x20create\x20a\x20WhatsAppAPI\x20object\x20with\x20the\x20appSecret','should\x20be\x20able\x20to\x20create\x20a\x20QR\x20as\x20a\x20png','ZNqII','vHpds','QaZWv','ITfKS','Parsed','/message_qrdls','PFBNi','should\x20validate\x20the\x20get\x20request\x20and\x20return\x20the\x20challenge','vfxui','XMVpG','should\x20default\x20to\x20the\x20enviroment\x20crypto.subtle\x20(skip\x20if\x20not\x20defined)','should\x20work\x20with\x20any\x20specified\x20webhook\x20verify\x20token','should\x20throw\x20500\x20if\x20appSecret\x20is\x20not\x20specified','URQPQ','dGdOK','MlEzy','gvijn','../lib/cjs/messages/text','sendMessage','niIlW','map','nvjvK','QkChm','name','FFtpT','qkYbD','RHVLK','createQR','cNnPD','lVoIG','KZyFW','aocQK','JdCib','xhhEi','NCiIF','BnqET','jXnPY','wamid.ID','qzOvD','not\x20an\x20url','svg','status','beforeEach','WSPqg','XBTDD','hPehM','JSDmc','ZaTEn','KWEYQ','http://','should\x20run\x20the\x20logger\x20after\x20sending\x20a\x20message','RIkDP','Webhooks','should\x20retrieve\x20a\x20file\x20data','JTsvY','jrBjM','NNLNU','function','should\x20fail\x20if\x20the\x20form\x20param\x20does\x20not\x20contain\x20a\x20file','0|3|1|2|4','fetchMedia','webhookVerifyToken','TSdRe','read','eZorq','gLrGJ','nFlpE','assert','AnJeu','should\x20throw\x20TypeError\x20if\x20the\x20request\x20is\x20missing\x20any\x20data','YZkqL','OAuthException','Message','App\x20secret','reply','Retrieve','iyJqo','HsczS','lQBSA','Delete','bJMwy','URL','dvNkc','Rnqco','unFIW','gQlgm','bmjaI','GiBif','jAxTa','XwzBU','Bibit','FjIFg','/messages','node:buffer','sOeqx','calledOnce','zufMo','bVAux','Iguig','should\x20make\x20an\x20authenticated\x20request\x20to\x20any\x20url\x20with\x20custom\x20options','lpGfv','I\x20only\x20need\x20500.000\x20chars','should\x20retrieve\x20all\x20QR\x20codes\x20if\x20code\x20is\x20undefined','sHBUB','pwEzy','updateQR','eXCjb','ZQsbC','QoidV','sZqQj','Post','PFlrl','BjeRy','should\x20throw\x20401\x20if\x20signature\x20is\x20missing','should\x20fail\x20if\x20the\x20file\x20size\x20is\x20too\x20big\x20for\x20the\x20format','JuXgx','sent','should\x20be\x20able\x20to\x20retrieve\x20a\x20single\x20QR\x20code','should\x20be\x20able\x20to\x20set\x20parsed\x20to\x20false','gtAEQ','AdYon','rraqR','nWPPo','user_initiated','QkbZP','VCJbv','get','WWuiT','gYeML','OiTCq','TDmCX','iLdYB','TWUIa','QBksz','nvGTn','FzQlc','should\x20return\x20the\x20raw\x20fetch\x20response\x20if\x20parsed\x20is\x20false','OVVLc','should\x20throw\x20403\x20if\x20the\x20verification\x20tokens\x20don\x27t\x20match','should\x20handle\x20failed\x20deliveries\x20responses','tFkpp','/media','./server.mocks.cjs','sha256=0363007aabdf1ab579f35936651a460fb5fa1aaf40df98b1264446b72cc96688','should\x20be\x20able\x20to\x20update\x20a\x20QR\x20code','olnKz','HPWcM','VYdSZ','WIXWv','JHpdR','GAWGA','Rgtps','deleteMedia','tyDUm','wnORx','REGDa','WeUAJ','NJQpM','LOnhF','IoQFf','1556292QNrNaY','Zufum','hOukf','WmPps','JxlGT','should\x20be\x20able\x20to\x20delete\x20a\x20QR\x20code','$$apiFetch$$','markAsRead','kuqZR','mfoIq','191248isCGeo','qYglk','Mark\x20as\x20read','yuWKr','ylvhH','IDovK','vKglq','should\x20include\x20the\x20phone_number_id\x20param\x20if\x20provided','mOkpp','RAVHS','GaKay','should\x20fail\x20if\x20the\x20url\x20param\x20is\x20not\x20an\x20url','gWPKO','OUvqS','should\x20not\x20fail\x20if\x20the\x20file\x20type\x20is\x20invalid','dlyvg','YOUR_APP_SECRET','oqCQP','MWQWN','ejWjd','XCzuL','Not\x20a\x20real\x20file','YFrEi','application/json','should\x20work\x20with\x20DEFAULT_API_VERSION\x20as\x20default\x20(and\x20log\x20warning)','wrong','3021265MGhjtH','LWtDF','ghSgB','Secure\x20truthy\x20(default)','UgcpP','POST','XFCyG','QvISx','gyuaS','Inazu','should\x20not\x20fail\x20if\x20the\x20form\x20param\x20does\x20not\x20contain\x20a\x20file','iZcHX','uGQZO','should\x20fail\x20if\x20the\x20form\x20param\x20contains\x20a\x20file\x20with\x20no\x20type','InFkt','ugebR','gsSzt','fetch','should\x20fail\x20if\x20the\x20file\x20type\x20is\x20invalid','repeat','WiMQr','webcrypto','post','dPTot','SWmtX','ipZaE','should\x20be\x20able\x20to\x20send\x20a\x20basic\x20message','AFgUT','cumgw','XwUpf','../lib/cjs/middleware/node-http','wBYKX','should\x20throw\x20400\x20if\x20the\x20request\x20is\x20missing\x20data','UyqwB','lEbNe','ASCnc','BOorO','hrHjz','VEpgg','appSecret','times','GGNwk','lxhRI','eiOzP','./webhooks.mocks.cjs','RpIjx','should\x20work\x20with\x20any\x20specified\x20ponyfill','CadzD','OrAhJ','Get','ufvmd','LhMdC','byUur','Tiyoc','CCEDM','yTcgz','should\x20not\x20fail\x20if\x20the\x20file\x20size\x20is\x20too\x20big\x20for\x20the\x20format','njpHB','should\x20be\x20able\x20to\x20send\x20a\x20reply\x20message\x20(context)','YqbCk','DTwKK','calledOnceWithMatch','pLcHM','tzaCx','SIZE','IITFC','2949882dyngnP','UyaCg','swaae','should\x20return\x20the\x20on.status\x20return\x20value','jtcJj','GAQJL','WhatsAppAPI','JCRPT','should\x20return\x20the\x20raw\x20fetch\x20responses\x20if\x20parsed\x20is\x20false','Token','another_random_id','should\x20not\x20block\x20the\x20main\x20thread\x20with\x20the\x20user\x27s\x20callback','/message_qrdls/','cndGa','eXGcI','XCvbZ','LYzpB','iXeur','rjKON','XkokB','etljy','ikSWJ','jsTqJ','cYuiy','notCalled','Hello\x20World\x202','intercept','DELETE','hvWKi','tHYzk','qDmQv','YmDyK','should\x20be\x20able\x20to\x20create\x20a\x20QR\x20code\x20as\x20a\x20png\x20(default)','ufKLI','oaGyp','WMyMj','should\x20not\x20fail\x20if\x20the\x20form\x20param\x20is\x20not\x20a\x20FormData\x20instance','KSpdE','Webhook\x20verify\x20token','tracker','challenge','ahkeP','Hello\x20World','iBlcp','retrieveMedia','https://wa.me/message/','xwIqN','Not\x20a\x20real\x20SVG','WcNnj','broadcastMessage','should\x20run\x20the\x20logger\x20with\x20id\x20and\x20response\x20as\x20undefined\x20if\x20parsed\x20is\x20set\x20to\x20false','should\x20upload\x20a\x20file','bDRdk','IPIPf','IYoCM','secure','round','cdmIV','Messages','PiBMQ','bolOV','sinon','SUYFk','mjuSN','glKuq','should\x20GET\x20fetch\x20an\x20url\x20with\x20the\x20Token\x20and\x20the\x20known\x20to\x20work\x20User-Agent','10qrGJwy','NzQpP','SJbzF','skip','OFCbP','deleteQR','all','Media','kQWir','pGkON','image/jpeg','undefined','Secure\x20falsy','PVnyA','smCcE','should\x20be\x20able\x20to\x20set\x20parsed\x20to\x20true','text/plain','uxYiL'];_0x549f=function(){return _0x573858;};return _0x549f();}(function(_0x516b1c,_0xc9cb10){const _0x2fd845=_0x174d,_0x559e89=_0x516b1c();while(!![]){try{const _0x793ec8=-parseInt(_0x2fd845(0x22a))/0x1*(-parseInt(_0x2fd845(0x2c8))/0x2)+parseInt(_0x2fd845(0x286))/0x3+-parseInt(_0x2fd845(0x2f8))/0x4+-parseInt(_0x2fd845(0x244))/0x5+-parseInt(_0x2fd845(0x220))/0x6+parseInt(_0x2fd845(0x308))/0x7+-parseInt(_0x2fd845(0x333))/0x8;if(_0x793ec8===_0xc9cb10)break;else _0x559e89['push'](_0x559e89['shift']());}catch(_0x5b2d88){_0x559e89['push'](_0x559e89['shift']());}}}(_0x549f,0x8fcf6));function _0x174d(_0x360296,_0x5433a9){const _0x549f47=_0x549f();return _0x174d=function(_0x174d4b,_0x4fa229){_0x174d4b=_0x174d4b-0x167;let _0x121ba2=_0x549f47[_0x174d4b];return _0x121ba2;},_0x174d(_0x360296,_0x5433a9);}const {equal,throws,rejects,deepEqual}=require(_0x96af3e(0x1c3)),{spy:sinon_spy,assert:sinon_assert}=require(_0x96af3e(0x2c3)),{WhatsAppAPI}=require(_0x96af3e(0x262)),{DEFAULT_API_VERSION}=require(_0x96af3e(0x32e)),{Text}=require(_0x96af3e(0x191)),{agent,clientFacebook,clientExample}=require(_0x96af3e(0x20e)),{MessageWebhookMock,StatusWebhookMock}=require(_0x96af3e(0x270)),{setGlobalDispatcher,fetch:undici_fetch,FormData}=require(_0x96af3e(0x337)),{Blob}=require(_0x96af3e(0x1dd)),{subtle}=require(_0x96af3e(0x2ef))[_0x96af3e(0x259)];setGlobalDispatcher(agent),describe(_0x96af3e(0x28c),function(){const _0x5a312c=_0x96af3e,_0x4d0ec9={'UyaCg':_0x5a312c(0x2fa),'GYghw':function(_0x27c5a3,_0x4dc8f7,_0x243a7c){return _0x27c5a3(_0x4dc8f7,_0x243a7c);},'FjIFg':function(_0x58fca4,_0x255a09){return _0x58fca4(_0x255a09);},'Rpfok':function(_0x350178,_0x2e1642){return _0x350178!==_0x2e1642;},'mOkpp':_0x5a312c(0x240),'oaGyp':function(_0x4b68f0,_0x3e558b,_0x19cf3b){return _0x4b68f0(_0x3e558b,_0x19cf3b);},'XMVpG':function(_0x28f107,_0x44c8a4){return _0x28f107===_0x44c8a4;},'bmjaI':function(_0x598fe1,_0xadeb74,_0x2966ff){return _0x598fe1(_0xadeb74,_0x2966ff);},'xUCLR':function(_0x3a32f8){return _0x3a32f8();},'rraqR':_0x5a312c(0x32d),'NGQcW':'undefined','yKiUh':_0x5a312c(0x323),'RuwKa':'should\x20set\x20parsed\x20to\x20true\x20by\x20default','BqHPk':_0x5a312c(0x1bb),'cYuiy':_0x5a312c(0x249),'BOorO':function(_0x3fe45e){return _0x3fe45e();},'DQgti':_0x5a312c(0x2e2),'eXCjb':function(_0x1b9f94,_0x52125f){return _0x1b9f94(_0x52125f);},'OiTCq':function(_0x270d71,_0x867e1b){return _0x270d71(_0x867e1b);},'MWQWN':'text','nWPPo':_0x5a312c(0x321),'ahkeP':function(_0xfe3e9d,_0x2db039,_0x3a980c){return _0xfe3e9d(_0x2db039,_0x3a980c);},'vCoUw':_0x5a312c(0x1b2),'LhMdC':_0x5a312c(0x20b),'KdNMO':function(_0x2aafbe,_0x897b97,_0x130335){return _0x2aafbe(_0x897b97,_0x130335);},'iZcHX':_0x5a312c(0x2b8),'GHtSu':_0x5a312c(0x291),'VHvJf':_0x5a312c(0x25e),'IITFC':function(_0x43a08c,_0x2a02a9,_0x5e359e){return _0x43a08c(_0x2a02a9,_0x5e359e);},'bolOV':_0x5a312c(0x27e),'CadzD':function(_0x1dbb54,_0x327a9c,_0x4c53d5){return _0x1dbb54(_0x327a9c,_0x4c53d5);},'ZQsbC':_0x5a312c(0x307),'oTCBc':_0x5a312c(0x28e),'IBnit':_0x5a312c(0x2f1),'IoQFf':function(_0x15a13f,_0xee9cd2,_0x14d484){return _0x15a13f(_0xee9cd2,_0x14d484);},'oSuOl':_0x5a312c(0x208),'ITfKS':'CmVOf','gtAEQ':'xGjiX','JuXgx':'application/json','xhhEi':_0x5a312c(0x290),'GaKay':_0x5a312c(0x2ad),'HNtZt':_0x5a312c(0x2ea),'hvWKi':_0x5a312c(0x171),'smCcE':function(_0x188bab,_0x6ba0c7,_0x4f2c15){return _0x188bab(_0x6ba0c7,_0x4f2c15);},'gyuaS':_0x5a312c(0x306),'xJIOl':_0x5a312c(0x22c),'XwUpf':function(_0x107a44,_0x4652e0,_0x59e005){return _0x107a44(_0x4652e0,_0x59e005);},'gYPoI':_0x5a312c(0x1f5),'InFkt':function(_0x3f5a5b,_0x1b16c1,_0xc26546){return _0x3f5a5b(_0x1b16c1,_0xc26546);},'MlEzy':_0x5a312c(0x29f),'rNGnb':_0x5a312c(0x210),'nFlpE':_0x5a312c(0x178),'xwIqN':'png','cgOPA':'https://scontent.faep22-1.fna.fbcdn.net/m1/v/t6/another_weird_url','DbIML':function(_0x49af7b,_0x308b85,_0x8d14dd){return _0x49af7b(_0x308b85,_0x8d14dd);},'zsfLn':function(_0x4b8c17,_0x21c770,_0x49dd4c){return _0x4b8c17(_0x21c770,_0x49dd4c);},'cFflv':_0x5a312c(0x2b0),'StmJT':_0x5a312c(0x2f2),'oQrxn':function(_0x58661c,_0x489e41,_0x437422){return _0x58661c(_0x489e41,_0x437422);},'YWxmU':function(_0x1071d6,_0xbb9cca,_0x2e6121){return _0x1071d6(_0xbb9cca,_0x2e6121);},'mfoIq':function(_0xcdc31c,_0x19f97c){return _0xcdc31c===_0x19f97c;},'qzOvD':function(_0x163190,_0x8f8522){return _0x163190!==_0x8f8522;},'dlyvg':_0x5a312c(0x190),'zGDHV':function(_0x1ca190,_0x37e080,_0x2281ef){return _0x1ca190(_0x37e080,_0x2281ef);},'ZNqII':_0x5a312c(0x2b5),'ipZaE':'iYemZ','fZeVC':'YwiCa','lQBSA':_0x5a312c(0x2aa),'VBUqG':'jnowx','KdlnG':_0x5a312c(0x326),'nKgzx':function(_0x3db850,_0x49e0ed,_0x5aa1bd){return _0x3db850(_0x49e0ed,_0x5aa1bd);},'FFouj':function(_0x102d7b,_0x18efb4){return _0x102d7b(_0x18efb4);},'KdpiU':function(_0x447c51,_0x19cb81,_0x5754c2){return _0x447c51(_0x19cb81,_0x5754c2);},'CCEDM':_0x5a312c(0x2f6),'MNwUN':_0x5a312c(0x2ee),'OhbQq':_0x5a312c(0x2db),'lpGfv':function(_0x5d33f7,_0x4bc7ee){return _0x5d33f7(_0x4bc7ee);},'ugebR':_0x5a312c(0x247),'QkbZP':_0x5a312c(0x338),'yTcgz':_0x5a312c(0x1cc),'tzaCx':_0x5a312c(0x19e),'AnJeu':_0x5a312c(0x289),'UQwLR':_0x5a312c(0x1a5),'GAQJL':_0x5a312c(0x173),'lFJTV':'Validation','PFlrl':_0x5a312c(0x2c0),'ZaTEn':'https://example.com/','cdmIV':function(_0x508c54,_0x3bc9f2,_0x30f085){return _0x508c54(_0x3bc9f2,_0x30f085);},'WmPps':'should\x20make\x20an\x20authenticated\x20request\x20to\x20any\x20url','bFxWB':function(_0x2e9f5d,_0x3ea7e6,_0xa3e80d){return _0x2e9f5d(_0x3ea7e6,_0xa3e80d);},'ikSWJ':'v13.0','wBYKX':_0x5a312c(0x2e5),'Bibit':_0x5a312c(0x23a),'RREKl':function(_0x3a2aa5,_0x12772d,_0x44be2e){return _0x3a2aa5(_0x12772d,_0x44be2e);},'uxYiL':_0x5a312c(0x28f),'OFCbP':function(_0x3f5e22,_0x15de27,_0x137986){return _0x3f5e22(_0x15de27,_0x137986);},'jrBjM':_0x5a312c(0x1c9),'dyCyy':function(_0x1df224,_0x2218bd,_0x26e0eb){return _0x1df224(_0x2218bd,_0x26e0eb);},'rLdls':'Version','uBcXo':function(_0x518a69,_0x34ba1e,_0x1b6642){return _0x518a69(_0x34ba1e,_0x1b6642);},'vHpds':_0x5a312c(0x30e),'TSdRe':_0x5a312c(0x184),'OgQxF':function(_0xf1797a,_0x31a796,_0x1e3841){return _0xf1797a(_0x31a796,_0x1e3841);},'fxzPX':function(_0x5992c0,_0x4c3c31,_0x388497){return _0x5992c0(_0x4c3c31,_0x388497);},'eZorq':function(_0x451963,_0x22b00f,_0x52cdbd){return _0x451963(_0x22b00f,_0x52cdbd);},'VbSHW':function(_0x22317c,_0xdf02a8,_0x362563){return _0x22317c(_0xdf02a8,_0x362563);},'cNnPD':_0x5a312c(0x1b4)},_0x5da904=_0x4d0ec9[_0x5a312c(0x29b)],_0x1be1f5=_0x4d0ec9[_0x5a312c(0x263)],_0x6e008=_0x4d0ec9[_0x5a312c(0x1da)],_0x5aa905='YOUR_WEBHOOK_VERIFY_TOKEN';_0x4d0ec9[_0x5a312c(0x17a)](describe,_0x4d0ec9[_0x5a312c(0x2d9)],function(){const _0x5bf330=_0x5a312c;it(_0x4d0ec9[_0x5bf330(0x287)],function(){const _0x56bf7f=_0x5bf330,_0x23f63e=new WhatsAppAPI({'v':_0x5da904,'token':_0x1be1f5,'appSecret':_0x6e008,'ponyfill':{'fetch':undici_fetch,'subtle':subtle}});equal(_0x23f63e[_0x56bf7f(0x31e)],_0x1be1f5);});}),_0x4d0ec9[_0x5a312c(0x2cc)](describe,_0x4d0ec9[_0x5a312c(0x1b7)],function(){const _0x4ef514=_0x5a312c,_0x62337c={'eCQvI':function(_0x543a18,_0x4f5a9f,_0x2181fb){return _0x543a18(_0x4f5a9f,_0x2181fb);}};it(_0x4ef514(0x17e),function(){const _0x44fcdf=_0x4ef514,_0x530eef=new WhatsAppAPI({'v':_0x5da904,'token':_0x1be1f5,'appSecret':_0x6e008,'ponyfill':{'fetch':undici_fetch,'subtle':subtle}});_0x62337c['eCQvI'](equal,_0x530eef[_0x44fcdf(0x26b)],_0x6e008);});}),_0x4d0ec9[_0x5a312c(0x170)](describe,_0x5a312c(0x2ac),function(){const _0x5c9af3=_0x5a312c;_0x4d0ec9[_0x5c9af3(0x325)](it,_0x5c9af3(0x18b),function(){const _0x462d6b=_0x5c9af3,_0xe6732=new WhatsAppAPI({'v':_0x5da904,'token':_0x1be1f5,'appSecret':_0x6e008,'webhookVerifyToken':_0x5aa905,'ponyfill':{'fetch':undici_fetch,'subtle':subtle}});equal(_0xe6732[_0x462d6b(0x1bd)],_0x5aa905);});}),_0x4d0ec9[_0x5a312c(0x2d6)](describe,_0x4d0ec9[_0x5a312c(0x340)],function(){const _0x3d7db1=_0x5a312c,_0x448ea8={'JSDmc':function(_0x5ba5b2,_0x125427,_0x577b74){return _0x5ba5b2(_0x125427,_0x577b74);}};it(_0x3d7db1(0x242),function(){const _0x565310=_0x3d7db1,_0x47100b=new WhatsAppAPI({'token':_0x1be1f5,'appSecret':_0x6e008,'ponyfill':{'fetch':undici_fetch,'subtle':subtle}});_0x448ea8[_0x565310(0x1ae)](equal,_0x47100b['v'],DEFAULT_API_VERSION);}),_0x4d0ec9['oaGyp'](it,'should\x20work\x20with\x20any\x20specified\x20version',function(){const _0x130edd=_0x3d7db1,_0x2b5dd3={'aocQK':function(_0x1beacc,_0x4602d6){const _0x10ff26=_0x174d;return _0x4d0ec9[_0x10ff26(0x1db)](_0x1beacc,_0x4602d6);},'SWmtX':function(_0x218899){return _0x218899();}};if(_0x4d0ec9['Rpfok'](_0x130edd(0x240),_0x4d0ec9[_0x130edd(0x232)]))_0x2b5dd3[_0x130edd(0x19f)](_0xe1192b,_0x5ec3da),_0x2b5dd3[_0x130edd(0x25c)](_0x502353);else{const _0x52dfa7=new WhatsAppAPI({'v':_0x5da904,'token':_0x1be1f5,'appSecret':_0x6e008,'ponyfill':{'fetch':undici_fetch,'subtle':subtle}});_0x4d0ec9[_0x130edd(0x2a8)](equal,_0x52dfa7['v'],_0x5da904);}});}),_0x4d0ec9['uBcXo'](describe,_0x4d0ec9[_0x5a312c(0x181)],function(){const _0x518e03=_0x5a312c,_0x18517e={'pGkON':function(_0x3d3cb0,_0x16132a){return _0x3d3cb0===_0x16132a;},'ylvhH':function(_0x2bcda8){const _0x3f3a15=_0x174d;return _0x4d0ec9[_0x3f3a15(0x32b)](_0x2bcda8);},'XWnnx':_0x4d0ec9[_0x518e03(0x1f9)],'JdCib':function(_0x61c47b,_0x155a8f,_0x114d98){const _0x473edc=_0x518e03;return _0x4d0ec9[_0x473edc(0x1d6)](_0x61c47b,_0x155a8f,_0x114d98);},'qYglk':_0x4d0ec9[_0x518e03(0x2fd)]};_0x4d0ec9['bmjaI'](describe,_0x518e03(0x2f6),function(){const _0x3137f8=_0x518e03,_0x4bd88f={'cumgw':function(_0x543982,_0x2751a0){const _0x252f23=_0x174d;return _0x18517e[_0x252f23(0x2d1)](_0x543982,_0x2751a0);},'OVVLc':_0x3137f8(0x1b9),'YAAuH':function(_0x27b8eb){const _0x4f6187=_0x3137f8;return _0x18517e[_0x4f6187(0x22e)](_0x27b8eb);}};it(_0x18517e['XWnnx'],function(){const _0x4f0fb4=_0x3137f8;_0x4bd88f[_0x4f0fb4(0x260)](typeof fetch,_0x4f0fb4(0x2d3))&&this[_0x4f0fb4(0x2cb)]();const _0x21971e=new WhatsAppAPI({'v':_0x5da904,'token':_0x1be1f5,'appSecret':_0x6e008,'ponyfill':{'subtle':subtle}});equal(typeof _0x21971e[_0x4f0fb4(0x255)],_0x4bd88f[_0x4f0fb4(0x209)]);}),_0x18517e[_0x3137f8(0x1a0)](it,_0x3137f8(0x272),function(){const _0x113c2a=_0x3137f8,_0x3b9d0b=_0x4bd88f[_0x113c2a(0x179)](sinon_spy),_0x33473d=new WhatsAppAPI({'v':_0x5da904,'token':_0x1be1f5,'appSecret':_0x6e008,'ponyfill':{'fetch':_0x3b9d0b,'subtle':subtle}});equal(_0x33473d[_0x113c2a(0x255)],_0x3b9d0b);});}),describe(_0x4d0ec9[_0x518e03(0x327)],function(){const _0x276919=_0x518e03,_0x269ad2={'usIDj':function(_0x32e4eb,_0xc93bc5){const _0x310872=_0x174d;return _0x4d0ec9[_0x310872(0x189)](_0x32e4eb,_0xc93bc5);},'RAVHS':_0x276919(0x1b9)};_0x4d0ec9[_0x276919(0x1d6)](it,_0x276919(0x18a),function(){const _0x5443eb=_0x276919;(typeof crypto===_0x18517e[_0x5443eb(0x22b)]||typeof crypto[_0x5443eb(0x2e1)]===_0x5443eb(0x2d3))&&this['skip']();const _0x32bb39=new WhatsAppAPI({'v':_0x5da904,'token':_0x1be1f5,'appSecret':_0x6e008,'ponyfill':{'fetch':undici_fetch}});deepEqual(_0x32bb39[_0x5443eb(0x2e1)],subtle);}),it('should\x20work\x20with\x20any\x20specified\x20ponyfill',function(){const _0x591eaf=_0x276919;if(_0x591eaf(0x254)==='gsSzt'){const _0x442c59=subtle,_0x45e277=new WhatsAppAPI({'v':_0x5da904,'token':_0x1be1f5,'appSecret':_0x6e008,'ponyfill':{'fetch':undici_fetch,'subtle':_0x442c59}});_0x18517e['JdCib'](equal,_0x45e277['subtle'],_0x442c59);}else{_0x269ad2[_0x591eaf(0x16b)](typeof _0x22a7f4,_0x591eaf(0x2d3))&&this[_0x591eaf(0x2cb)]();const _0x560a14=new _0x5d7c33({'v':_0x596781,'token':_0x46579f,'appSecret':_0x13c483,'ponyfill':{'subtle':_0x23b39f}});_0x2c24e7(typeof _0x560a14['fetch'],_0x269ad2[_0x591eaf(0x233)]);}});});}),_0x4d0ec9[_0x5a312c(0x170)](describe,_0x4d0ec9[_0x5a312c(0x1be)],function(){const _0x82e0ae=_0x5a312c,_0x1d445b={'hVkmb':_0x82e0ae(0x1ec),'sZqQj':function(_0x345288,_0x40df96,_0x12df53){return _0x345288(_0x40df96,_0x12df53);}};it(_0x4d0ec9[_0x82e0ae(0x320)],function(){const _0x5b437d=_0x82e0ae;if(_0x1d445b['hVkmb']==='QoidV'){const _0xd40072=new WhatsAppAPI({'v':_0x5da904,'token':_0x1be1f5,'appSecret':_0x6e008,'ponyfill':{'fetch':undici_fetch,'subtle':subtle}});_0x1d445b[_0x5b437d(0x1ed)](equal,_0xd40072[_0x5b437d(0x2de)],!![]);}else _0x6492f2=new _0x199691({'v':_0x522c39,'token':_0x2cd529,'appSecret':_0x2d6c8c,'ponyfill':{'fetch':_0xb15fea,'subtle':_0x501ffc}}),_0x19bd6d=_0x623dcb(),_0x5326ad['on'][_0x5b437d(0x1f4)]=_0x3a1228;}),it(_0x82e0ae(0x2d7),function(){const _0x3942aa=_0x82e0ae,_0x2059f5=new WhatsAppAPI({'v':_0x5da904,'token':_0x1be1f5,'appSecret':_0x6e008,'parsed':!![],'ponyfill':{'fetch':undici_fetch,'subtle':subtle}});_0x4d0ec9[_0x3942aa(0x2a8)](equal,_0x2059f5['parsed'],!![]);}),it(_0x82e0ae(0x1f6),function(){const _0x221daa=_0x82e0ae,_0x2fd030=new WhatsAppAPI({'v':_0x5da904,'token':_0x1be1f5,'appSecret':_0x6e008,'parsed':![],'ponyfill':{'fetch':undici_fetch,'subtle':subtle}});equal(_0x2fd030[_0x221daa(0x2de)],![]);});}),_0x4d0ec9['OgQxF'](describe,_0x5a312c(0x2ec),function(){const _0xf64a75=_0x5a312c,_0x4b21aa={'URQPQ':function(_0x32a0ac,_0x50a4ab){return _0x4d0ec9['Rpfok'](_0x32a0ac,_0x50a4ab);},'Wrqvn':_0xf64a75(0x2c6),'bVAux':function(_0x1fd47e){const _0x33c0e6=_0xf64a75;return _0x4d0ec9[_0x33c0e6(0x268)](_0x1fd47e);},'KWEYQ':_0xf64a75(0x249),'mRAOS':_0x4d0ec9['DQgti'],'bDRdk':function(_0x529084,_0x135ec5){const _0x3d04c2=_0xf64a75;return _0x4d0ec9[_0x3d04c2(0x1ea)](_0x529084,_0x135ec5);},'ZbqfV':function(_0x4a6d6c,_0xb3d2e4){return _0x4a6d6c<_0xb3d2e4;},'PiBMQ':function(_0x1af2e3,_0x143a57){const _0x112a95=_0xf64a75;return _0x4d0ec9[_0x112a95(0x201)](_0x1af2e3,_0x143a57);}},_0x2bfb58='1',_0xfd6e79='2',_0x993c1=_0x4d0ec9[_0xf64a75(0x23c)],_0x4594a1=new Text('3'),_0x12c3b4={'messaging_product':_0x4d0ec9[_0xf64a75(0x1fa)],'type':_0x993c1,'to':_0xfd6e79,'text':JSON[_0xf64a75(0x2df)](_0x4594a1)},_0x41df04='4',_0x597eaf={'messaging_product':_0x4d0ec9['nWPPo'],'contacts':[{'input':_0xfd6e79,'wa_id':_0xfd6e79}],'messages':[{'id':_0x41df04}]},_0x4698fc={..._0x4594a1};let _0x61c20f,_0x529aab;this[_0xf64a75(0x1aa)](function(){const _0x159568=_0xf64a75;if(_0x4b21aa[_0x159568(0x18d)](_0x4b21aa[_0x159568(0x31d)],_0x159568(0x22d)))_0x61c20f=new WhatsAppAPI({'v':_0x5da904,'token':_0x1be1f5,'appSecret':_0x6e008,'ponyfill':{'fetch':undici_fetch,'subtle':subtle}}),_0x529aab=_0x4b21aa[_0x159568(0x1e1)](sinon_spy),_0x61c20f['on'][_0x159568(0x1f4)]=_0x529aab;else{const _0x1a910e=new _0x58e403({'v':_0x3b79c2,'token':_0x22ce18,'appSecret':_0x1dde89,'parsed':!![],'ponyfill':{'fetch':_0x2c6bf7,'subtle':_0x106a37}});_0xe83b74(_0x1a910e[_0x159568(0x2de)],!![]);}}),_0x4d0ec9[_0xf64a75(0x2af)](it,_0x4d0ec9[_0xf64a75(0x2e0)],async function(){const _0x317054=_0xf64a75;clientFacebook[_0x317054(0x2a0)]({'path':'/'+_0x61c20f['v']+'/'+_0x2bfb58+_0x317054(0x1dc),'method':_0x4b21aa[_0x317054(0x1b0)],'headers':{'Authorization':_0x317054(0x31f)+_0x1be1f5}})[_0x317054(0x1ca)](0xc8,_0x597eaf)[_0x317054(0x26c)](0x1),await _0x61c20f[_0x317054(0x192)](_0x2bfb58,_0xfd6e79,_0x4594a1),sinon_assert[_0x317054(0x281)](_0x529aab,{'phoneID':_0x2bfb58,'to':_0xfd6e79,'type':_0x993c1,'message':_0x4698fc,'request':_0x12c3b4,'id':_0x41df04,'response':_0x597eaf});}),it(_0x4d0ec9[_0xf64a75(0x277)],async function(){const _0x58c438=_0xf64a75,_0x4af231={'error':{'message':_0x4b21aa[_0x58c438(0x328)],'type':_0x58c438(0x1c7),'code':0xbe,'fbtrace_id':'Azr7Sq738VC5zzOnPvZzPwj'}};clientFacebook[_0x58c438(0x2a0)]({'path':'/'+_0x61c20f['v']+'/'+_0x2bfb58+_0x58c438(0x1dc),'method':_0x4b21aa[_0x58c438(0x1b0)],'headers':{'Authorization':_0x58c438(0x31f)+_0x1be1f5}})['reply'](0xc8,_0x4af231)[_0x58c438(0x26c)](0x1),await _0x61c20f['sendMessage'](_0x2bfb58,_0xfd6e79,_0x4594a1),sinon_assert[_0x58c438(0x281)](_0x529aab,{'phoneID':_0x2bfb58,'to':_0xfd6e79,'message':_0x4698fc,'request':_0x12c3b4,'id':undefined,'response':_0x4af231});}),_0x4d0ec9[_0xf64a75(0x319)](it,_0x4d0ec9[_0xf64a75(0x24f)],async function(){const _0x4b6f47=_0xf64a75,_0x1af3c0=_0x4d0ec9[_0x4b6f47(0x33a)][_0x4b6f47(0x33f)]('|');let _0x476f40=0x0;while(!![]){switch(_0x1af3c0[_0x476f40++]){case'0':_0x61c20f[_0x4b6f47(0x2de)]=![];continue;case'1':_0x61c20f['sendMessage'](_0x2bfb58,_0xfd6e79,_0x4594a1);continue;case'2':await new Promise(_0x10c54c=>setTimeout(_0x10c54c,0x0));continue;case'3':clientFacebook['intercept']({'path':'/'+_0x61c20f['v']+'/'+_0x2bfb58+_0x4b6f47(0x1dc),'method':_0x4d0ec9['cYuiy'],'headers':{'Authorization':_0x4b6f47(0x31f)+_0x1be1f5}})[_0x4b6f47(0x1ca)](0xc8,_0x597eaf)[_0x4b6f47(0x26c)](0x1);continue;case'4':sinon_assert['calledOnceWithMatch'](_0x529aab,{'phoneID':_0x2bfb58,'to':_0xfd6e79,'message':_0x4698fc,'request':_0x12c3b4});continue;}break;}}),_0x4d0ec9[_0xf64a75(0x2a8)](it,_0x4d0ec9['GHtSu'],async function(){const _0x40dac4=_0xf64a75,_0x514b81={'hPehM':function(_0x497e14,_0x47dafc){const _0x47fa8f=_0x174d;return _0x4b21aa[_0x47fa8f(0x32f)](_0x497e14,_0x47dafc);}};function _0x496287(_0x3d8554){const _0x3f1723=_0x174d,_0x1c3efc=Date[_0x3f1723(0x324)]();while(_0x514b81[_0x3f1723(0x1ad)](Date[_0x3f1723(0x324)]()-_0x1c3efc,_0x3d8554));}const _0x2e8dea=0x5,_0x24cdb3=0xa;_0x61c20f['on'][_0x40dac4(0x1f4)]=()=>{const _0xe6dcdc=_0x40dac4;_0x4b21aa[_0xe6dcdc(0x2ba)](_0x496287,_0x24cdb3),_0x529aab();},clientFacebook[_0x40dac4(0x2a0)]({'path':'/'+_0x61c20f['v']+'/'+_0x2bfb58+_0x40dac4(0x1dc),'method':'POST','headers':{'Authorization':'Bearer\x20'+_0x1be1f5}})['reply'](0xc8,_0x597eaf)[_0x40dac4(0x26c)](0x1),_0x61c20f[_0x40dac4(0x192)](_0x2bfb58,_0xfd6e79,_0x4594a1),_0x4b21aa[_0x40dac4(0x2c1)](_0x496287,_0x2e8dea),sinon_assert[_0x40dac4(0x29e)](_0x529aab),await new Promise(_0x457f25=>setTimeout(_0x457f25,_0x24cdb3)),sinon_assert['calledOnce'](_0x529aab);});}),_0x4d0ec9[_0x5a312c(0x2f3)](describe,_0x5a312c(0x1c8),function(){const _0x20829f=_0x5a312c,_0xe4ece3={'SbWTT':_0x4d0ec9[_0x20829f(0x183)],'wnORx':_0x4d0ec9[_0x20829f(0x1f7)],'byUur':_0x4d0ec9[_0x20829f(0x29d)],'crkuX':_0x4d0ec9[_0x20829f(0x1f3)],'oqCQP':_0x20829f(0x1bf)},_0x41db88='2',_0x53c8c0='3',_0x4f7129=_0x20829f(0x2f2),_0x488348=_0x4d0ec9[_0x20829f(0x1a1)],_0x1f30a7=_0x4d0ec9[_0x20829f(0x234)],_0xe73ae2='text',_0x2903a4=new Text(_0x4d0ec9['HNtZt']),_0x173888={'messaging_product':_0x4d0ec9[_0x20829f(0x1fa)],'type':_0xe73ae2,'to':_0x53c8c0,'text':JSON[_0x20829f(0x2df)](_0x2903a4)},_0x4e2c47={..._0x173888,'context':{'message_id':_0x488348}},_0xe859b={..._0x173888,'biz_opaque_callback_data':_0x1f30a7},_0x5bc2cd={'messaging_product':_0x4d0ec9[_0x20829f(0x1fa)],'contacts':[{'input':_0x53c8c0,'wa_id':_0x53c8c0}],'messages':[{'id':_0x4f7129}]},_0x5ae3ca=new WhatsAppAPI({'v':_0x5da904,'token':_0x1be1f5,'appSecret':_0x6e008,'ponyfill':{'fetch':undici_fetch,'subtle':subtle}});this['beforeEach'](function(){const _0x5ab727=_0x20829f;_0x5ae3ca[_0x5ab727(0x2de)]=!![];}),_0x4d0ec9[_0x20829f(0x21f)](describe,_0x4d0ec9[_0x20829f(0x2a2)],function(){const _0x2fae8e=_0x20829f,_0x518ce9={'emNAR':_0x2fae8e(0x241),'hOukf':function(_0x1bab9d,_0x3a5baa,_0x412f43){return _0x1bab9d(_0x3a5baa,_0x412f43);},'uGQZO':_0x2fae8e(0x249),'unFIW':function(_0x407471,_0x11b87b,_0x61b469){return _0x407471(_0x11b87b,_0x61b469);}};_0x4d0ec9[_0x2fae8e(0x2af)](it,_0x4d0ec9['VHvJf'],async function(){const _0x344ac9=_0x2fae8e;clientFacebook[_0x344ac9(0x2a0)]({'path':'/'+_0x5ae3ca['v']+'/'+_0x41db88+_0x344ac9(0x1dc),'method':_0x344ac9(0x249),'headers':{'Authorization':_0x344ac9(0x31f)+_0x1be1f5,'Content-Type':'application/json'},'body':JSON[_0x344ac9(0x2df)](_0x173888)})[_0x344ac9(0x1ca)](0xc8,_0x5bc2cd)[_0x344ac9(0x26c)](0x1);const _0x4e2464=await _0x5ae3ca['sendMessage'](_0x41db88,_0x53c8c0,_0x2903a4);deepEqual(_0x4e2464,_0x5bc2cd);}),_0x4d0ec9[_0x2fae8e(0x285)](it,_0x4d0ec9[_0x2fae8e(0x2c2)],async function(){const _0x3f44ea=_0x2fae8e;clientFacebook[_0x3f44ea(0x2a0)]({'path':'/'+_0x5ae3ca['v']+'/'+_0x41db88+_0x3f44ea(0x1dc),'method':_0x3f44ea(0x249),'headers':{'Authorization':'Bearer\x20'+_0x1be1f5,'Content-Type':_0x518ce9['emNAR']},'body':JSON['stringify'](_0x4e2c47)})['reply'](0xc8,_0x5bc2cd)['times'](0x1);const _0x38ee19=await _0x5ae3ca[_0x3f44ea(0x192)](_0x41db88,_0x53c8c0,_0x2903a4,_0x488348);_0x518ce9[_0x3f44ea(0x222)](deepEqual,_0x38ee19,_0x5bc2cd);}),it('should\x20be\x20able\x20to\x20send\x20with\x20a\x20tracker\x20(biz_opaque_callback_data)',async function(){const _0x31d5f3=_0x2fae8e;clientFacebook[_0x31d5f3(0x2a0)]({'path':'/'+_0x5ae3ca['v']+'/'+_0x41db88+'/messages','method':_0x518ce9[_0x31d5f3(0x250)],'headers':{'Authorization':'Bearer\x20'+_0x1be1f5,'Content-Type':_0x31d5f3(0x241)},'body':JSON[_0x31d5f3(0x2df)](_0xe859b)})['reply'](0xc8,_0x5bc2cd)[_0x31d5f3(0x26c)](0x1);const _0x177f12=await _0x5ae3ca[_0x31d5f3(0x192)](_0x41db88,_0x53c8c0,_0x2903a4,undefined,_0x1f30a7);deepEqual(_0x177f12,_0x5bc2cd);}),it(_0x2fae8e(0x208),async function(){const _0x5e9c2d=_0x2fae8e;_0x5ae3ca[_0x5e9c2d(0x2de)]=![],clientFacebook[_0x5e9c2d(0x2a0)]({'path':'/'+_0x5ae3ca['v']+'/'+_0x41db88+'/messages','method':_0x5e9c2d(0x249),'headers':{'Authorization':'Bearer\x20'+_0x1be1f5,'Content-Type':_0x5e9c2d(0x241)},'body':JSON['stringify'](_0x173888)})['reply'](0xc8,_0x5bc2cd)[_0x5e9c2d(0x26c)](0x1);const _0x4260ee=await(await _0x5ae3ca[_0x5e9c2d(0x192)](_0x41db88,_0x53c8c0,_0x2903a4))[_0x5e9c2d(0x30d)]();_0x518ce9[_0x5e9c2d(0x1d4)](deepEqual,_0x4260ee,_0x5bc2cd);});}),_0x4d0ec9['smCcE'](describe,_0x4d0ec9[_0x20829f(0x24c)],function(){const _0x4c6ba7=_0x20829f,_0x49da50={'fTFaJ':_0x4d0ec9['cYuiy'],'qkYbD':_0x4c6ba7(0x241),'YqbCk':function(_0x5a3f2a,_0x2f883a,_0x3b9cbf){const _0x3f8726=_0x4c6ba7;return _0x4d0ec9[_0x3f8726(0x273)](_0x5a3f2a,_0x2f883a,_0x3b9cbf);}},_0x183b91=[_0x5bc2cd,_0x5bc2cd,_0x5bc2cd];it(_0x4d0ec9[_0x4c6ba7(0x1eb)],async function(){const _0x3e6bfa=_0x4c6ba7;if(_0xe4ece3[_0x3e6bfa(0x317)]!==_0xe4ece3[_0x3e6bfa(0x21a)]){clientFacebook[_0x3e6bfa(0x2a0)]({'path':'/'+_0x5ae3ca['v']+'/'+_0x41db88+_0x3e6bfa(0x1dc),'method':_0xe4ece3[_0x3e6bfa(0x278)],'headers':{'Authorization':_0x3e6bfa(0x31f)+_0x1be1f5,'Content-Type':_0x3e6bfa(0x241)},'body':JSON[_0x3e6bfa(0x2df)](_0x173888)})[_0x3e6bfa(0x1ca)](0xc8,_0x5bc2cd)['times'](0x3);const _0x3a24a7=await Promise[_0x3e6bfa(0x2ce)](await _0x5ae3ca['broadcastMessage'](_0x41db88,[_0x53c8c0,_0x53c8c0,_0x53c8c0],_0x2903a4));deepEqual(_0x3a24a7,_0x183b91);}else return _0x2e3949=>_0x2e3949===_0x2775f3;}),_0x4d0ec9[_0x4c6ba7(0x285)](it,_0x4d0ec9['oTCBc'],async function(){const _0x98159b=_0x4c6ba7;_0x5ae3ca[_0x98159b(0x2de)]=![],clientFacebook[_0x98159b(0x2a0)]({'path':'/'+_0x5ae3ca['v']+'/'+_0x41db88+_0x98159b(0x1dc),'method':_0x49da50['fTFaJ'],'headers':{'Authorization':_0x98159b(0x31f)+_0x1be1f5,'Content-Type':_0x49da50[_0x98159b(0x199)]},'body':JSON[_0x98159b(0x2df)](_0x173888)})['reply'](0xc8,_0x5bc2cd)[_0x98159b(0x26c)](0x3);const _0x2a55ec=await Promise[_0x98159b(0x2ce)]((await Promise['all'](await _0x5ae3ca[_0x98159b(0x2b7)](_0x41db88,[_0x53c8c0,_0x53c8c0,_0x53c8c0],_0x2903a4)))[_0x98159b(0x194)](_0x2e3e13=>_0x2e3e13[_0x98159b(0x30d)]()));_0x49da50[_0x98159b(0x27f)](deepEqual,_0x2a55ec,_0x183b91);});}),_0x4d0ec9['KdNMO'](describe,_0x4d0ec9['xJIOl'],function(){const _0x2887aa=_0x20829f;it(_0x4d0ec9['IBnit'],async function(){const _0x60d7b9=_0x174d,_0x25a3fa={'success':!![]};clientFacebook[_0x60d7b9(0x2a0)]({'path':'/'+_0x5ae3ca['v']+'/'+_0x41db88+_0x60d7b9(0x1dc),'method':_0xe4ece3[_0x60d7b9(0x278)],'headers':{'Authorization':_0x60d7b9(0x31f)+_0x1be1f5,'Content-Type':_0xe4ece3[_0x60d7b9(0x175)]},'body':JSON['stringify']({'messaging_product':_0x60d7b9(0x321),'status':_0xe4ece3[_0x60d7b9(0x23b)],'message_id':_0x4f7129})})[_0x60d7b9(0x1ca)](0xc8,_0x25a3fa)[_0x60d7b9(0x26c)](0x1);const _0x3096f1=await _0x5ae3ca[_0x60d7b9(0x227)](_0x41db88,_0x4f7129);deepEqual(_0x3096f1,_0x25a3fa);}),_0x4d0ec9[_0x2887aa(0x21f)](it,_0x4d0ec9[_0x2887aa(0x309)],async function(){const _0x2e77eb=_0x2887aa;_0x5ae3ca['parsed']=![];const _0x1db70c={'success':!![]};clientFacebook[_0x2e77eb(0x2a0)]({'path':'/'+_0x5ae3ca['v']+'/'+_0x41db88+_0x2e77eb(0x1dc),'method':_0xe4ece3['byUur'],'headers':{'Authorization':_0x2e77eb(0x31f)+_0x1be1f5}})[_0x2e77eb(0x1ca)](0xc8,_0x1db70c)['times'](0x1);const _0x2418f5=await(await _0x5ae3ca[_0x2e77eb(0x227)](_0x41db88,_0x4f7129))[_0x2e77eb(0x30d)]();deepEqual(_0x2418f5,_0x1db70c);});});}),_0x4d0ec9[_0x5a312c(0x1c0)](describe,'QR',function(){const _0x5ee0c3=_0x5a312c,_0x449e02={'etljy':_0x4d0ec9[_0x5ee0c3(0x1c2)],'BjeRy':_0x4d0ec9[_0x5ee0c3(0x2b4)],'PIdvA':_0x4d0ec9[_0x5ee0c3(0x341)],'XFCyG':function(_0x15d00a,_0x39e2c3,_0x4c5d3b){const _0xb895a6=_0x5ee0c3;return _0x4d0ec9[_0xb895a6(0x252)](_0x15d00a,_0x39e2c3,_0x4c5d3b);},'tFkpp':function(_0x389f81,_0x59d55d){return _0x389f81<_0x59d55d;},'NoEkD':_0x4d0ec9[_0x5ee0c3(0x29d)],'jsTqJ':function(_0x2979dd,_0x2d2c52,_0x4343d8){const _0x4ff10a=_0x5ee0c3;return _0x4d0ec9[_0x4ff10a(0x2da)](_0x2979dd,_0x2d2c52,_0x4343d8);},'UgcpP':function(_0x43940c,_0x42db4d,_0x2baede){const _0x42689e=_0x5ee0c3;return _0x4d0ec9[_0x42689e(0x310)](_0x43940c,_0x42db4d,_0x2baede);},'XEepK':function(_0x57661b,_0x4d71c1,_0x248ce4){return _0x57661b(_0x4d71c1,_0x248ce4);},'ZVbqc':'should\x20return\x20the\x20raw\x20fetch\x20response\x20if\x20parsed\x20is\x20false'},_0x22f980='1',_0x302b66=_0x4d0ec9[_0x5ee0c3(0x2e7)],_0x5ee6a6=_0x4d0ec9['StmJT'],_0x2592ab=new WhatsAppAPI({'v':_0x5da904,'token':_0x1be1f5,'appSecret':_0x6e008,'ponyfill':{'fetch':undici_fetch,'subtle':subtle}});this['beforeEach'](function(){const _0x882dfd=_0x5ee0c3;_0x2592ab[_0x882dfd(0x2de)]=!![];}),_0x4d0ec9['oQrxn'](describe,'Create',function(){const _0x4b745b=_0x5ee0c3,_0x2b1985={'eiOzP':function(_0x16686a,_0x5d7673){const _0xca4a1a=_0x174d;return _0x449e02[_0xca4a1a(0x20c)](_0x16686a,_0x5d7673);},'iXeur':_0x4b745b(0x300),'kQWir':_0x449e02['PIdvA'],'Inazu':_0x449e02['NoEkD']};_0x449e02[_0x4b745b(0x24a)](it,_0x4b745b(0x2a6),async function(){const _0x5b4750=_0x4b745b;if(_0x449e02[_0x5b4750(0x29a)]!==_0x5b4750(0x224)){const _0x5e4f77=_0x449e02[_0x5b4750(0x1f0)],_0x3b2405={'code':_0x5ee6a6,'prefilled_message':_0x302b66,'deep_link_url':_0x5b4750(0x2b3)+_0x5ee6a6,'qr_image_url':_0x449e02['PIdvA']};clientFacebook[_0x5b4750(0x2a0)]({'path':'/'+_0x2592ab['v']+'/'+_0x22f980+_0x5b4750(0x185),'method':'POST','headers':{'Authorization':_0x5b4750(0x31f)+_0x1be1f5},'query':{'generate_qr_image':_0x5e4f77,'prefilled_message':_0x302b66}})['reply'](0xc8,_0x3b2405)[_0x5b4750(0x26c)](0x1);const _0x418ad7=await _0x2592ab[_0x5b4750(0x19b)](_0x22f980,_0x302b66);_0x449e02['XFCyG'](deepEqual,_0x418ad7,_0x3b2405);}else return'Hi';}),_0x449e02['XFCyG'](it,_0x4b745b(0x17f),async function(){const _0x8275b6=_0x4b745b,_0x2bfcae={'XCzuL':function(_0x13802c,_0x55a335){const _0x5382a2=_0x174d;return _0x2b1985[_0x5382a2(0x26f)](_0x13802c,_0x55a335);},'ssVcy':function(_0xfdad88,_0x42587b){return _0xfdad88-_0x42587b;}};if(_0x2b1985['iXeur']!==_0x2b1985[_0x8275b6(0x297)]){const _0x159ed7=_0x5ad342['now']();while(_0x2bfcae[_0x8275b6(0x23e)](_0x2bfcae['ssVcy'](_0x172347[_0x8275b6(0x324)](),_0x159ed7),_0x281547));}else{const _0x1c6045='png',_0x27b3bf={'code':_0x5ee6a6,'prefilled_message':_0x302b66,'deep_link_url':_0x8275b6(0x2b3)+_0x5ee6a6,'qr_image_url':_0x2b1985[_0x8275b6(0x2d0)]};clientFacebook[_0x8275b6(0x2a0)]({'path':'/'+_0x2592ab['v']+'/'+_0x22f980+'/message_qrdls','method':_0x2b1985[_0x8275b6(0x24d)],'headers':{'Authorization':_0x8275b6(0x31f)+_0x1be1f5},'query':{'generate_qr_image':_0x1c6045,'prefilled_message':_0x302b66}})[_0x8275b6(0x1ca)](0xc8,_0x27b3bf)[_0x8275b6(0x26c)](0x1);const _0x593fae=await _0x2592ab['createQR'](_0x22f980,_0x302b66,_0x1c6045);deepEqual(_0x593fae,_0x27b3bf);}}),it('should\x20be\x20able\x20to\x20create\x20a\x20QR\x20as\x20a\x20svg',async function(){const _0x5274ec=_0x4b745b,_0x2ede02=_0x5274ec(0x1a8),_0xe25700={'code':_0x5ee6a6,'prefilled_message':_0x302b66,'deep_link_url':_0x5274ec(0x2b3)+_0x5ee6a6,'qr_image_url':'https://scontent.faep22-1.fna.fbcdn.net/m1/v/t6/another_weird_url'};clientFacebook[_0x5274ec(0x2a0)]({'path':'/'+_0x2592ab['v']+'/'+_0x22f980+_0x5274ec(0x185),'method':_0x2b1985[_0x5274ec(0x24d)],'headers':{'Authorization':'Bearer\x20'+_0x1be1f5},'query':{'generate_qr_image':_0x2ede02,'prefilled_message':_0x302b66}})[_0x5274ec(0x1ca)](0xc8,_0xe25700)[_0x5274ec(0x26c)](0x1);const _0x47ab1a=await _0x2592ab[_0x5274ec(0x19b)](_0x22f980,_0x302b66,_0x2ede02);deepEqual(_0x47ab1a,_0xe25700);}),_0x449e02[_0x4b745b(0x29c)](it,_0x4b745b(0x208),async function(){const _0x4c57c6=_0x4b745b;_0x2592ab[_0x4c57c6(0x2de)]=![];const _0x57297e=_0x4c57c6(0x17c),_0x13944d={'code':_0x5ee6a6,'prefilled_message':_0x302b66,'deep_link_url':_0x4c57c6(0x2b3)+_0x5ee6a6,'qr_image_url':_0x4c57c6(0x2f7)};clientFacebook[_0x4c57c6(0x2a0)]({'path':'/'+_0x2592ab['v']+'/'+_0x22f980+'/message_qrdls','method':_0x4c57c6(0x249),'headers':{'Authorization':_0x4c57c6(0x31f)+_0x1be1f5},'query':{'generate_qr_image':_0x57297e,'prefilled_message':_0x302b66}})[_0x4c57c6(0x1ca)](0xc8,_0x13944d)[_0x4c57c6(0x26c)](0x1);const _0x40cacf=await(await _0x2592ab['createQR'](_0x22f980,_0x302b66))['json']();deepEqual(_0x40cacf,_0x13944d);});}),describe(_0x5ee0c3(0x1cb),function(){const _0x19da62=_0x5ee0c3,_0x408650={'iMelL':function(_0x4de0e7,_0x1542c7,_0x12838a){return _0x4d0ec9['XwUpf'](_0x4de0e7,_0x1542c7,_0x12838a);}};it(_0x19da62(0x1e6),async function(){const _0x1d9a2e=_0x19da62,_0x42d9b4={'data':[{'code':_0x5ee6a6,'prefilled_message':_0x302b66,'deep_link_url':_0x1d9a2e(0x2b3)+_0x5ee6a6}]};clientFacebook[_0x1d9a2e(0x2a0)]({'path':'/'+_0x2592ab['v']+'/'+_0x22f980+_0x1d9a2e(0x292),'headers':{'Authorization':'Bearer\x20'+_0x1be1f5}})['reply'](0xc8,_0x42d9b4)[_0x1d9a2e(0x26c)](0x1);const _0xd4933e=await _0x2592ab['retrieveQR'](_0x22f980);deepEqual(_0xd4933e,_0x42d9b4);}),_0x4d0ec9[_0x19da62(0x325)](it,_0x4d0ec9['gYPoI'],async function(){const _0x4cebd3=_0x19da62,_0x56396c={'data':[{'code':_0x5ee6a6,'prefilled_message':_0x302b66,'deep_link_url':_0x4cebd3(0x2b3)+_0x5ee6a6}]};clientFacebook[_0x4cebd3(0x2a0)]({'path':'/'+_0x2592ab['v']+'/'+_0x22f980+'/message_qrdls/'+_0x5ee6a6,'headers':{'Authorization':_0x4cebd3(0x31f)+_0x1be1f5}})[_0x4cebd3(0x1ca)](0xc8,_0x56396c)['times'](0x1);const _0x3ca60a=await _0x2592ab[_0x4cebd3(0x16e)](_0x22f980,_0x5ee6a6);_0x408650['iMelL'](deepEqual,_0x3ca60a,_0x56396c);}),_0x4d0ec9[_0x19da62(0x252)](it,_0x4d0ec9[_0x19da62(0x309)],async function(){const _0x27d3ca=_0x19da62;_0x2592ab['parsed']=![];const _0x3c0f7b={'data':[{'code':_0x5ee6a6,'prefilled_message':_0x302b66,'deep_link_url':_0x27d3ca(0x2b3)+_0x5ee6a6}]};clientFacebook[_0x27d3ca(0x2a0)]({'path':'/'+_0x2592ab['v']+'/'+_0x22f980+_0x27d3ca(0x292),'headers':{'Authorization':_0x27d3ca(0x31f)+_0x1be1f5}})[_0x27d3ca(0x1ca)](0xc8,_0x3c0f7b)[_0x27d3ca(0x26c)](0x1);const _0x5d9110=await(await _0x2592ab[_0x27d3ca(0x16e)](_0x22f980))[_0x27d3ca(0x30d)]();deepEqual(_0x5d9110,_0x3c0f7b);});}),describe('Update',function(){const _0x41d0e4=_0x5ee0c3,_0x1f31a7=_0x4d0ec9[_0x41d0e4(0x18f)];it(_0x4d0ec9[_0x41d0e4(0x331)],async function(){const _0x321006=_0x41d0e4,_0x4b09f8={'code':_0x5ee6a6,'prefilled_message':_0x1f31a7,'deep_link_url':_0x321006(0x2b3)+_0x5ee6a6};clientFacebook[_0x321006(0x2a0)]({'path':'/'+_0x2592ab['v']+'/'+_0x22f980+_0x321006(0x292)+_0x5ee6a6,'method':_0x449e02['NoEkD'],'headers':{'Authorization':'Bearer\x20'+_0x1be1f5},'query':{'prefilled_message':_0x1f31a7}})['reply'](0xc8,_0x4b09f8)[_0x321006(0x26c)](0x1);const _0x2b506f=await _0x2592ab[_0x321006(0x1e9)](_0x22f980,_0x5ee6a6,_0x1f31a7);_0x449e02[_0x321006(0x248)](deepEqual,_0x2b506f,_0x4b09f8);}),it(_0x4d0ec9['oSuOl'],async function(){const _0x21180c=_0x41d0e4;_0x2592ab['parsed']=![];const _0x49896e={'code':_0x5ee6a6,'prefilled_message':_0x1f31a7,'deep_link_url':_0x21180c(0x2b3)+_0x5ee6a6};clientFacebook[_0x21180c(0x2a0)]({'path':'/'+_0x2592ab['v']+'/'+_0x22f980+'/message_qrdls/'+_0x5ee6a6,'method':_0x21180c(0x249),'headers':{'Authorization':'Bearer\x20'+_0x1be1f5},'query':{'prefilled_message':_0x1f31a7}})[_0x21180c(0x1ca)](0xc8,_0x49896e)[_0x21180c(0x26c)](0x1);const _0x5c2eb9=await(await _0x2592ab['updateQR'](_0x22f980,_0x5ee6a6,_0x1f31a7))[_0x21180c(0x30d)]();_0x449e02['XEepK'](deepEqual,_0x5c2eb9,_0x49896e);});}),_0x4d0ec9['YWxmU'](describe,_0x5ee0c3(0x1cf),function(){const _0x1fd1a2=_0x5ee0c3,_0x11bcfc={'rjBNP':function(_0x3c8c09,_0x2abc42,_0x5b523f){return _0x3c8c09(_0x2abc42,_0x5b523f);}};it(_0x1fd1a2(0x225),async function(){const _0xcd015e=_0x1fd1a2,_0x596135={'success':!![]};clientFacebook[_0xcd015e(0x2a0)]({'path':'/'+_0x2592ab['v']+'/'+_0x22f980+'/message_qrdls/'+_0x5ee6a6,'method':_0xcd015e(0x2a1),'headers':{'Authorization':_0xcd015e(0x31f)+_0x1be1f5}})[_0xcd015e(0x1ca)](0xc8,_0x596135)[_0xcd015e(0x26c)](0x1);const _0x581a37=await _0x2592ab['deleteQR'](_0x22f980,_0x5ee6a6);_0x11bcfc[_0xcd015e(0x31b)](deepEqual,_0x581a37,_0x596135);}),it(_0x449e02[_0x1fd1a2(0x30a)],async function(){const _0x54de81=_0x1fd1a2;_0x2592ab[_0x54de81(0x2de)]=![];const _0x400082={'success':!![]};clientFacebook[_0x54de81(0x2a0)]({'path':'/'+_0x2592ab['v']+'/'+_0x22f980+'/message_qrdls/'+_0x5ee6a6,'method':'DELETE','headers':{'Authorization':_0x54de81(0x31f)+_0x1be1f5}})[_0x54de81(0x1ca)](0xc8,_0x400082)['times'](0x1);const _0x515245=await(await _0x2592ab[_0x54de81(0x2cd)](_0x22f980,_0x5ee6a6))[_0x54de81(0x30d)]();deepEqual(_0x515245,_0x400082);});});}),_0x4d0ec9['VbSHW'](describe,_0x5a312c(0x2cf),function(){const _0x3379c0=_0x5a312c,_0x148765={'JtYfE':_0x3379c0(0x2b0),'IYoCM':_0x3379c0(0x249),'JHpdR':_0x4d0ec9[_0x3379c0(0x180)],'eXGcI':_0x4d0ec9[_0x3379c0(0x25d)],'pWRLj':_0x4d0ec9['fZeVC'],'UyqwB':_0x4d0ec9[_0x3379c0(0x1ce)],'JTsvY':function(_0x149d1c,_0x4b9261,_0x1ddfe5){return _0x149d1c(_0x4b9261,_0x1ddfe5);},'dvNkc':_0x3379c0(0x24e),'HHomC':function(_0x379002,_0x5a0ca1,_0x5ca05c){return _0x379002(_0x5a0ca1,_0x5ca05c);},'WcNnj':_0x3379c0(0x27c),'jSzbL':_0x3379c0(0x1ba),'SJbzF':_0x3379c0(0x1f2),'NJQpM':_0x3379c0(0x321),'gQlgm':'file','rjKON':_0x3379c0(0x322),'niIlW':_0x3379c0(0x31c),'vfxui':_0x4d0ec9['VBUqG'],'nvGTn':function(_0x1af557,_0x5537eb,_0x243ed7){return _0x1af557(_0x5537eb,_0x243ed7);},'ufKLI':function(_0x1152a8,_0x2565ac,_0x13b479){return _0x1152a8(_0x2565ac,_0x13b479);},'iqfTg':_0x3379c0(0x169),'vKglq':function(_0x370d36,_0x18fa02,_0x454b03){return _0x370d36(_0x18fa02,_0x454b03);},'jAxTa':_0x4d0ec9[_0x3379c0(0x309)],'YNxnK':function(_0xc80f5c){return _0xc80f5c();},'dzaXu':function(_0x156da4,_0x1f3a3b){return _0x156da4!==_0x1f3a3b;},'lqgwC':_0x4d0ec9[_0x3379c0(0x177)],'nROmI':_0x3379c0(0x212),'MKslz':function(_0x3ec722,_0x4151bb,_0x48a432){const _0x4bfaf1=_0x3379c0;return _0x4d0ec9[_0x4bfaf1(0x2e8)](_0x3ec722,_0x4151bb,_0x48a432);},'hchbF':_0x3379c0(0x2a5),'dffkB':function(_0x5bf584,_0x49576a){const _0x26888c=_0x3379c0;return _0x4d0ec9[_0x26888c(0x2dc)](_0x5bf584,_0x49576a);},'dPTot':function(_0x5d9125,_0x5ccca0){const _0x1d0296=_0x3379c0;return _0x4d0ec9[_0x1d0296(0x2dc)](_0x5d9125,_0x5ccca0);}},_0x127015='1',_0x1c243e='2',_0x5df680=new WhatsAppAPI({'v':_0x5da904,'token':_0x1be1f5,'appSecret':_0x6e008,'ponyfill':{'fetch':undici_fetch,'subtle':subtle}});let _0x5ef2df;this[_0x3379c0(0x1aa)](function(){const _0x66bf81=_0x3379c0;_0x5df680[_0x66bf81(0x2de)]=!![],_0x5ef2df=new FormData();}),describe('Upload',function(){const _0x2d1b6f=_0x3379c0,_0xc1609c={'hrHjz':_0x2d1b6f(0x299),'dJWrT':function(_0x228fc8,_0xc378ed){return _0x228fc8(_0xc378ed);},'qDmQv':function(_0x2d8422,_0x328d12){return _0x2d8422(_0x328d12);},'YZkqL':_0x2d1b6f(0x2b0),'MBPvP':_0x148765['jSzbL'],'NNLNU':function(_0x24ba50,_0x3e2409,_0x5b353a){return _0x148765['HHomC'](_0x24ba50,_0x3e2409,_0x5b353a);},'njpHB':_0x148765[_0x2d1b6f(0x2ca)],'PVnyA':_0x148765[_0x2d1b6f(0x21d)],'WeUAJ':_0x148765[_0x2d1b6f(0x1d5)],'dpTnv':_0x2d1b6f(0x32c),'ejWjd':_0x148765[_0x2d1b6f(0x298)],'GGNwk':_0x2d1b6f(0x249),'lEbNe':_0x148765[_0x2d1b6f(0x193)],'BnqET':_0x148765[_0x2d1b6f(0x188)],'FFtpT':function(_0x4db31c,_0x393203,_0x43eab9){return _0x4db31c(_0x393203,_0x43eab9);}};_0x148765[_0x2d1b6f(0x2f9)](it,_0x2d1b6f(0x2b9),async function(){const _0x5cbfe4=_0x2d1b6f,_0x187f27={'id':_0x1c243e};_0x5ef2df[_0x5cbfe4(0x31a)](_0x5cbfe4(0x332),new Blob([_0x148765[_0x5cbfe4(0x318)]],{'type':_0x5cbfe4(0x2d8)})),clientFacebook[_0x5cbfe4(0x2a0)]({'path':'/'+_0x5df680['v']+'/'+_0x127015+_0x5cbfe4(0x20d),'method':_0x148765[_0x5cbfe4(0x2bc)],'headers':{'Authorization':_0x5cbfe4(0x31f)+_0x1be1f5},'query':{'messaging_product':_0x5cbfe4(0x321)}})['reply'](0xc8,_0x187f27)[_0x5cbfe4(0x26c)](0x1);const _0x5267f3=await _0x5df680[_0x5cbfe4(0x344)](_0x127015,_0x5ef2df);deepEqual(_0x5267f3,_0x187f27);}),_0x148765[_0x2d1b6f(0x206)](describe,_0x2d1b6f(0x305),function(){const _0x51f683=_0x2d1b6f,_0x52bcbb={'LWtDF':function(_0x22e3ef,_0x3185d4){return _0x22e3ef(_0x3185d4);},'zmgac':'file','SGysP':_0xc1609c[_0x51f683(0x1c6)],'IPIPf':function(_0x20b8e6,_0x27e3fb){return _0x20b8e6/_0x27e3fb;}};it(_0x51f683(0x2fb),async function(){const _0x79140e=_0x51f683;if(_0xc1609c[_0x79140e(0x269)]!==_0x79140e(0x299))return'Hi';else await _0xc1609c['dJWrT'](rejects,_0x5df680[_0x79140e(0x344)](_0x127015,{})),await _0xc1609c[_0x79140e(0x2a4)](rejects,_0x5df680[_0x79140e(0x344)](_0x127015,[])),await rejects(_0x5df680['uploadMedia'](_0x127015,_0xc1609c[_0x79140e(0x1c6)]));}),it(_0xc1609c[_0x51f683(0x315)],async function(){const _0x32d506=_0x51f683;await _0x52bcbb[_0x32d506(0x245)](rejects,_0x5df680[_0x32d506(0x344)](_0x127015,new FormData()));}),it(_0x51f683(0x251),async function(){const _0x5f528d=_0x51f683;_0x5ef2df[_0x5f528d(0x31a)](_0x52bcbb[_0x5f528d(0x33d)],new Blob([_0x52bcbb['SGysP']])),await _0x52bcbb['LWtDF'](rejects,_0x5df680[_0x5f528d(0x344)](_0x127015,_0x5ef2df));}),_0xc1609c[_0x51f683(0x1b8)](it,_0x51f683(0x256),async function(){const _0x589dc1=_0x51f683;_0x5ef2df[_0x589dc1(0x31a)]('file',new Blob([_0x589dc1(0x23f)],{'type':_0x589dc1(0x304)})),await rejects(_0x5df680[_0x589dc1(0x344)](_0x127015,_0x5ef2df));}),it(_0xc1609c[_0x51f683(0x27d)],async function(){const _0x3e5d16=_0x51f683,_0x53c669=_0x3e5d16(0x1e5);_0x5ef2df[_0x3e5d16(0x31a)](_0x3e5d16(0x332),new Blob([_0x53c669[_0x3e5d16(0x257)](Math[_0x3e5d16(0x2be)](_0x52bcbb[_0x3e5d16(0x2bb)](0x7a508,_0x53c669[_0x3e5d16(0x2ff)])))],{'type':'image/webp'})),await rejects(_0x5df680[_0x3e5d16(0x344)](_0x127015,_0x5ef2df));});}),_0x148765[_0x2d1b6f(0x2a7)](describe,_0x148765[_0x2d1b6f(0x342)],function(){const _0x1afd4d=_0x2d1b6f,_0x3190f1={'jvZqO':_0x1afd4d(0x321),'IDovK':_0x148765['IYoCM'],'NHeBQ':_0x1afd4d(0x332),'cndGa':_0x1afd4d(0x2b0),'vuRUx':_0x148765[_0x1afd4d(0x215)]};_0x148765[_0x1afd4d(0x294)]===_0x148765['pWRLj']?(_0x4eba92[_0x1afd4d(0x31a)](_0x1afd4d(0x332),new _0x2d17e6([_0x1afd4d(0x2b5)],{'type':_0x1afd4d(0x2f0)})),_0x7ba90f[_0x1afd4d(0x2a0)]({'path':'/'+_0x3e1989['v']+'/'+_0x32c35d+_0x1afd4d(0x20d),'method':_0x1afd4d(0x249),'headers':{'Authorization':'Bearer\x20'+_0x5ea4d4},'query':{'messaging_product':_0x3190f1[_0x1afd4d(0x33b)]},'body':_0x1a73d2})[_0x1afd4d(0x1ca)](0xc8)['times'](0x1),_0x54aa9e[_0x1afd4d(0x344)](_0x3875a5,_0x5a4719,![])):(it(_0x148765[_0x1afd4d(0x265)],function(){const _0x2203ce=_0x1afd4d;clientFacebook[_0x2203ce(0x2a0)]({'path':'/'+_0x5df680['v']+'/'+_0x127015+_0x2203ce(0x20d),'method':_0x3190f1[_0x2203ce(0x22f)],'headers':{'Authorization':_0x2203ce(0x31f)+_0x1be1f5},'query':{'messaging_product':_0x3190f1[_0x2203ce(0x33b)]},'body':_0x5ef2df})[_0x2203ce(0x1ca)](0xc8)['times'](0x3),_0x5df680['uploadMedia'](_0x127015,{},![]),_0x5df680[_0x2203ce(0x344)](_0x127015,[],![]),_0x5df680['uploadMedia'](_0x127015,_0x2203ce(0x2b0),![]);}),_0x148765[_0x1afd4d(0x1b6)](it,_0x148765[_0x1afd4d(0x1d2)],function(){const _0x5d45c1=_0x1afd4d;clientFacebook[_0x5d45c1(0x2a0)]({'path':'/'+_0x5df680['v']+'/'+_0x127015+_0x5d45c1(0x20d),'method':_0x5d45c1(0x249),'headers':{'Authorization':_0x5d45c1(0x31f)+_0x1be1f5},'query':{'messaging_product':_0xc1609c[_0x5d45c1(0x2d5)]},'body':_0x5ef2df})['reply'](0xc8)['times'](0x1),_0x5df680['uploadMedia'](_0x127015,_0x5ef2df,![]);}),it('should\x20not\x20fail\x20if\x20the\x20form\x20param\x20contains\x20a\x20file\x20with\x20no\x20type',function(){const _0xf94e7b=_0x1afd4d;_0x5ef2df['append'](_0x3190f1['NHeBQ'],new Blob([_0x3190f1[_0xf94e7b(0x293)]])),clientFacebook['intercept']({'path':'/'+_0x5df680['v']+'/'+_0x127015+_0xf94e7b(0x20d),'method':_0x3190f1[_0xf94e7b(0x22f)],'headers':{'Authorization':_0xf94e7b(0x31f)+_0x1be1f5},'query':{'messaging_product':_0xf94e7b(0x321)},'body':_0x5ef2df})[_0xf94e7b(0x1ca)](0xc8)[_0xf94e7b(0x26c)](0x1),_0x5df680['uploadMedia'](_0x127015,_0x5ef2df,![]);}),it(_0x1afd4d(0x238),function(){const _0x18bee6=_0x1afd4d;_0x5ef2df['append'](_0x18bee6(0x332),new Blob([_0x3190f1['vuRUx']],{'type':'image/svg'})),clientFacebook[_0x18bee6(0x2a0)]({'path':'/'+_0x5df680['v']+'/'+_0x127015+_0x18bee6(0x20d),'method':_0x18bee6(0x249),'headers':{'Authorization':'Bearer\x20'+_0x1be1f5},'query':{'messaging_product':_0x3190f1[_0x18bee6(0x33b)]},'body':_0x5ef2df})[_0x18bee6(0x1ca)](0xc8)[_0x18bee6(0x26c)](0x1),_0x5df680[_0x18bee6(0x344)](_0x127015,_0x5ef2df,![]);}),_0x148765['HHomC'](it,_0x148765[_0x1afd4d(0x2b6)],function(){const _0x2bc54a=_0x1afd4d,_0x127949='I\x20only\x20need\x20500.000\x20chars';_0x5ef2df[_0x2bc54a(0x31a)](_0xc1609c[_0x2bc54a(0x21c)],new Blob([_0x127949[_0x2bc54a(0x257)](Math[_0x2bc54a(0x2be)](0x7a508/_0x127949[_0x2bc54a(0x2ff)]))],{'type':_0xc1609c[_0x2bc54a(0x176)]})),clientFacebook[_0x2bc54a(0x2a0)]({'path':'/'+_0x5df680['v']+'/'+_0x127015+_0x2bc54a(0x20d),'method':_0x2bc54a(0x249),'headers':{'Authorization':_0x2bc54a(0x31f)+_0x1be1f5},'query':{'messaging_product':_0xc1609c[_0x2bc54a(0x2d5)]},'body':_0x5ef2df})[_0x2bc54a(0x1ca)](0xc8)[_0x2bc54a(0x26c)](0x1),_0x5df680[_0x2bc54a(0x344)](_0x127015,_0x5ef2df,![]);}));}),_0x148765[_0x2d1b6f(0x230)](it,_0x148765[_0x2d1b6f(0x1d8)],async function(){const _0x448af8=_0x2d1b6f,_0x235fd9={'DTwKK':_0xc1609c[_0x448af8(0x26d)],'rHhGY':_0xc1609c[_0x448af8(0x266)]};if(_0x448af8(0x16d)!==_0xc1609c[_0x448af8(0x1a3)]){const _0x31b29b={'TfGdB':_0x448af8(0x31c)},_0x17c15e=new _0x416770({'v':_0x312d47,'token':_0x2969c0,'appSecret':_0x241f38,'ponyfill':{'fetch':_0xfb83a9,'subtle':_0x2537f6}});_0x1ac8ad(_0xc1609c[_0x448af8(0x23d)],async function(){const _0x10bd7e=_0x448af8;_0x50bf90[_0x10bd7e(0x2a0)]({'path':'/','headers':{'Authorization':_0x10bd7e(0x31f)+_0x580ff6}})[_0x10bd7e(0x1ca)](0xc8)[_0x10bd7e(0x26c)](0x1),_0x17c15e['$$apiFetch$$'](_0x31b29b[_0x10bd7e(0x339)]);}),_0x17b86e(_0x448af8(0x1e3),async function(){const _0x15a25c=_0x448af8;_0x4abe6e[_0x15a25c(0x2a0)]({'path':'/','method':_0x235fd9[_0x15a25c(0x280)],'headers':{'Authorization':_0x15a25c(0x31f)+_0x3b6454}})[_0x15a25c(0x1ca)](0xc8)['times'](0x1),_0x17c15e['$$apiFetch$$'](_0x235fd9[_0x15a25c(0x174)],{'method':_0x15a25c(0x249)});});}else{_0x5df680[_0x448af8(0x2de)]=![];const _0x58bea3={'id':_0x1c243e};_0x5ef2df['append']('file',new Blob([_0x448af8(0x2b0)],{'type':_0x448af8(0x2d8)})),clientFacebook[_0x448af8(0x2a0)]({'path':'/'+_0x5df680['v']+'/'+_0x127015+_0x448af8(0x20d),'method':_0x448af8(0x249),'headers':{'Authorization':_0x448af8(0x31f)+_0x1be1f5},'query':{'messaging_product':_0xc1609c[_0x448af8(0x2d5)]}})[_0x448af8(0x1ca)](0xc8,_0x58bea3)[_0x448af8(0x26c)](0x1);const _0x33b60e=await(await _0x5df680['uploadMedia'](_0x127015,_0x5ef2df))['json']();_0xc1609c[_0x448af8(0x198)](deepEqual,_0x33b60e,_0x58bea3);}});}),_0x4d0ec9['oaGyp'](describe,'Retrieve',function(){const _0x326a45=_0x3379c0,_0x104ffa={'REGDa':_0x326a45(0x321),'SQdmE':function(_0x9578ab,_0x3a6db0,_0x5365c6){const _0x3c918a=_0x326a45;return _0x4d0ec9[_0x3c918a(0x261)](_0x9578ab,_0x3a6db0,_0x5365c6);},'KSpdE':'HASH'};it(_0x326a45(0x1b5),async function(){const _0x14b349=_0x326a45,_0x4d46c8={'messaging_product':_0x104ffa[_0x14b349(0x21b)],'url':_0x14b349(0x1d1),'mime_type':'image/jpeg','sha256':'HASH','file_size':_0x14b349(0x284),'id':_0x1c243e};clientFacebook[_0x14b349(0x2a0)]({'path':'/'+_0x5df680['v']+'/'+_0x1c243e,'headers':{'Authorization':_0x14b349(0x31f)+_0x1be1f5}})[_0x14b349(0x1ca)](0xc8,_0x4d46c8)[_0x14b349(0x26c)](0x1);const _0x5bf395=await _0x5df680['retrieveMedia'](_0x1c243e);_0x104ffa['SQdmE'](deepEqual,_0x5bf395,_0x4d46c8);}),_0x4d0ec9['CadzD'](it,_0x326a45(0x231),async function(){const _0x3127ef=_0x326a45,_0x55e54c={'messaging_product':_0x3127ef(0x321),'url':'URL','mime_type':'image/jpeg','sha256':'HASH','file_size':'SIZE','id':_0x1c243e};clientFacebook[_0x3127ef(0x2a0)]({'path':'/'+_0x5df680['v']+'/'+_0x1c243e,'query':{'phone_number_id':_0x127015},'headers':{'Authorization':_0x3127ef(0x31f)+_0x1be1f5}})[_0x3127ef(0x1ca)](0xc8,_0x55e54c)[_0x3127ef(0x26c)](0x1);const _0x57fe21=await _0x5df680['retrieveMedia'](_0x1c243e,_0x127015);deepEqual(_0x57fe21,_0x55e54c);}),_0x4d0ec9[_0x326a45(0x325)](it,_0x4d0ec9['oSuOl'],async function(){const _0x4ff76b=_0x326a45;_0x5df680[_0x4ff76b(0x2de)]=![];const _0x77dd58={'messaging_product':_0x104ffa[_0x4ff76b(0x21b)],'url':_0x4ff76b(0x1d1),'mime_type':_0x4ff76b(0x2d2),'sha256':_0x104ffa[_0x4ff76b(0x2ab)],'file_size':'SIZE','id':_0x1c243e};clientFacebook[_0x4ff76b(0x2a0)]({'path':'/'+_0x5df680['v']+'/'+_0x1c243e,'headers':{'Authorization':_0x4ff76b(0x31f)+_0x1be1f5}})[_0x4ff76b(0x1ca)](0xc8,_0x77dd58)['times'](0x1);const _0x114d90=await(await _0x5df680[_0x4ff76b(0x2b2)](_0x1c243e))[_0x4ff76b(0x30d)]();_0x104ffa[_0x4ff76b(0x2e3)](deepEqual,_0x114d90,_0x77dd58);});}),_0x4d0ec9['KdpiU'](describe,_0x3379c0(0x1cf),function(){const _0x329a32=_0x3379c0,_0x18183d={'uwgAS':function(_0x402e79,_0x1c2733){return _0x402e79===_0x1c2733;},'DSDvD':_0x148765['hchbF'],'WMyMj':'DELETE','XdSgm':function(_0x9192d9,_0x5dac7a,_0x527e76){return _0x9192d9(_0x5dac7a,_0x527e76);}};_0x148765[_0x329a32(0x2a7)](it,_0x329a32(0x311),async function(){const _0x2776c7=_0x329a32,_0x53cfe7={'success':!![]};clientFacebook[_0x2776c7(0x2a0)]({'path':'/'+_0x5df680['v']+'/'+_0x1c243e,'method':_0x2776c7(0x2a1),'headers':{'Authorization':'Bearer\x20'+_0x1be1f5}})[_0x2776c7(0x1ca)](0xc8,_0x53cfe7)[_0x2776c7(0x26c)](0x1);const _0x1e28bf=await _0x5df680[_0x2776c7(0x218)](_0x1c243e);deepEqual(_0x1e28bf,_0x53cfe7);}),it('should\x20include\x20the\x20phone_number_id\x20param\x20if\x20provided',async function(){const _0x1b71e7=_0x329a32;if(_0x18183d['uwgAS'](_0x18183d['DSDvD'],_0x1b71e7(0x1d0)))_0x5cabfe[_0x1b71e7(0x1bc)](0x7b);else{const _0x54492a={'success':!![]};clientFacebook[_0x1b71e7(0x2a0)]({'path':'/'+_0x5df680['v']+'/'+_0x1c243e,'method':_0x18183d[_0x1b71e7(0x2a9)],'query':{'phone_number_id':_0x127015},'headers':{'Authorization':'Bearer\x20'+_0x1be1f5}})['reply'](0xc8,_0x54492a)[_0x1b71e7(0x26c)](0x1);const _0x551dc1=await _0x5df680[_0x1b71e7(0x218)](_0x1c243e,_0x127015);_0x18183d['XdSgm'](deepEqual,_0x551dc1,_0x54492a);}}),it(_0x329a32(0x208),async function(){const _0x2ac59e=_0x329a32,_0x55f728={'UNAbM':function(_0x343d0e){return _0x148765['YNxnK'](_0x343d0e);}};if(_0x148765[_0x2ac59e(0x2fc)](_0x148765['lqgwC'],_0x148765['nROmI'])){_0x5df680[_0x2ac59e(0x2de)]=![];const _0x34d7d4={'success':!![]};clientFacebook[_0x2ac59e(0x2a0)]({'path':'/'+_0x5df680['v']+'/'+_0x1c243e,'method':_0x2ac59e(0x2a1),'headers':{'Authorization':_0x2ac59e(0x31f)+_0x1be1f5}})[_0x2ac59e(0x1ca)](0xc8,_0x34d7d4)[_0x2ac59e(0x26c)](0x1);const _0x170c77=await(await _0x5df680[_0x2ac59e(0x218)](_0x1c243e))[_0x2ac59e(0x30d)]();_0x148765['MKslz'](deepEqual,_0x170c77,_0x34d7d4);}else _0x1518c1(()=>{const _0x350c90=_0x2ac59e;_0x4aca3c(_0x5771f8),_0x55f728[_0x350c90(0x313)](_0x3d546a);});});}),describe(_0x4d0ec9[_0x3379c0(0x27a)],function(){const _0x44357b=_0x3379c0,_0x4c2ab8={'dEpDZ':_0x44357b(0x249),'WWuiT':function(_0x30c6ee,_0x53021d){const _0x6e1325=_0x44357b;return _0x4d0ec9[_0x6e1325(0x229)](_0x30c6ee,_0x53021d);},'sOeqx':_0x44357b(0x31c)};_0x4d0ec9[_0x44357b(0x1a6)](_0x4d0ec9[_0x44357b(0x239)],_0x4d0ec9[_0x44357b(0x239)])?(_0x3830b2[_0x44357b(0x2a0)]({'path':'/'+_0x2b99b1['v']+'/'+_0xf7ef30+'/media','method':_0x4c2ab8[_0x44357b(0x2fe)],'headers':{'Authorization':_0x44357b(0x31f)+_0xa5f039},'query':{'messaging_product':_0x44357b(0x321)},'body':_0x3b3a7f})['reply'](0xc8)['times'](0x1),_0x44f213['uploadMedia'](_0x447a96,_0x36e398,![])):(_0x4d0ec9['zGDHV'](it,_0x44357b(0x2c7),async function(){const _0x313d59=_0x44357b;if(_0x4c2ab8[_0x313d59(0x1ff)](_0x313d59(0x2e9),_0x313d59(0x2e9))){const _0x2d90df={};clientExample[_0x313d59(0x2a0)]({'path':'/','headers':{'Authorization':_0x313d59(0x31f)+_0x1be1f5,'User-Agent':'Mozilla/5.0\x20(compatible;\x20Googlebot/2.1;\x20+http://www.google.com/bot.html)'}})[_0x313d59(0x1ca)](0xc8,_0x2d90df)[_0x313d59(0x26c)](0x1);const _0x361785=await(await _0x5df680[_0x313d59(0x1bc)](_0x4c2ab8[_0x313d59(0x1de)]))[_0x313d59(0x30d)]();deepEqual(_0x361785,_0x2d90df);}else _0x228048['appSecret']=_0x50fbb4,_0x1ff058[_0x313d59(0x2bd)]=!![];}),it(_0x44357b(0x235),function(){const _0xe9bc86=_0x44357b;_0x148765['dffkB'](throws,function(){const _0x4ce50a=_0x174d;_0x5df680[_0x4ce50a(0x1bc)](undefined);}),throws(function(){const _0xb13509=_0x174d;_0x5df680[_0xb13509(0x1bc)](![]);}),_0x148765[_0xe9bc86(0x25b)](throws,function(){const _0x4f0077=_0xe9bc86;_0x5df680[_0x4f0077(0x1bc)]();}),throws(function(){_0x5df680['fetchMedia'](0x7b);}),_0x148765[_0xe9bc86(0x25b)](throws,function(){const _0x53512e=_0xe9bc86;_0x5df680[_0x53512e(0x1bc)](_0x53512e(0x1a7));}),_0x148765['dPTot'](throws,function(){const _0x3f78ad=_0xe9bc86;_0x5df680[_0x3f78ad(0x1bc)]('');}),throws(function(){const _0x449ba9=_0xe9bc86;_0x5df680['fetchMedia'](_0x449ba9(0x1b1));});}));});}),_0x4d0ec9[_0x5a312c(0x1c0)](describe,_0x4d0ec9[_0x5a312c(0x19c)],function(){const _0x33773b=_0x5a312c,_0x18da34={'kSwjl':_0x4d0ec9['MNwUN'],'rnQqz':_0x33773b(0x276),'jXnPY':function(_0x206242,_0x4980bb,_0x26800f){return _0x206242(_0x4980bb,_0x26800f);},'fdMKE':function(_0x4384ce,_0x95eb2f){return _0x4384ce(_0x95eb2f);},'zAlGw':function(_0x6a877e,_0x33e46b,_0x12f320){const _0x38489f=_0x33773b;return _0x4d0ec9[_0x38489f(0x2d6)](_0x6a877e,_0x33e46b,_0x12f320);},'TAKNc':_0x33773b(0x187),'QTtlt':_0x4d0ec9[_0x33773b(0x302)],'OrAhJ':function(_0x1d609d,_0x29602e,_0x10ebe5){const _0x5a8a23=_0x33773b;return _0x4d0ec9[_0x5a8a23(0x2da)](_0x1d609d,_0x29602e,_0x10ebe5);},'VCJbv':function(_0x17a178,_0x505e50){const _0x418fa6=_0x33773b;return _0x4d0ec9[_0x418fa6(0x1e4)](_0x17a178,_0x505e50);},'yXUAu':_0x33773b(0x18c),'EFfvT':_0x33773b(0x17d),'bYruQ':_0x4d0ec9[_0x33773b(0x253)],'AFgUT':_0x4d0ec9[_0x33773b(0x1fc)],'NzQpP':function(_0x16e71c,_0x154ccb){const _0x25ec6c=_0x33773b;return _0x4d0ec9[_0x25ec6c(0x189)](_0x16e71c,_0x154ccb);},'qnMFp':function(_0x4ae0ab,_0x5b91a5,_0x1ed6e1){const _0x48d95c=_0x33773b;return _0x4d0ec9[_0x48d95c(0x285)](_0x4ae0ab,_0x5b91a5,_0x1ed6e1);},'XpPFW':_0x33773b(0x335),'WIXWv':_0x33773b(0x213),'ethlq':function(_0x152e81,_0xd11fa3){const _0x14f7a8=_0x33773b;return _0x4d0ec9[_0x14f7a8(0x1a6)](_0x152e81,_0xd11fa3);},'dGdOK':_0x4d0ec9[_0x33773b(0x27b)],'QaZWv':_0x4d0ec9[_0x33773b(0x283)],'mjuSN':_0x4d0ec9[_0x33773b(0x1c4)],'TWUIa':_0x33773b(0x314),'LOnhF':_0x4d0ec9['UQwLR'],'olnKz':_0x33773b(0x334),'GiBif':_0x4d0ec9[_0x33773b(0x28b)],'lVoIG':_0x33773b(0x30b),'RIkDP':_0x4d0ec9[_0x33773b(0x30c)],'QBksz':function(_0x36672f,_0x37b4fe,_0x4f3a06){return _0x36672f(_0x37b4fe,_0x4f3a06);},'OUvqS':_0x4d0ec9[_0x33773b(0x1ef)]};function _0x5eb010(_0x37f627){return _0x212f34=>_0x212f34===_0x37f627;}describe(_0x33773b(0x275),function(){const _0x35053b=_0x33773b,_0x53b06b={'QoFUL':function(_0x557aa9,_0x2c56e4,_0x180ba9){return _0x557aa9(_0x2c56e4,_0x180ba9);},'ghSgB':_0x35053b(0x17e),'pYQXW':function(_0x4ece36,_0x2f3a40,_0xc86cfb){const _0x593d48=_0x35053b;return _0x18da34[_0x593d48(0x330)](_0x4ece36,_0x2f3a40,_0xc86cfb);}},_0x5302ed='subscribe',_0x82d114=_0x35053b(0x2ae),_0x33118a={'hub.mode':_0x5302ed,'hub.challenge':_0x82d114,'hub.verify_token':_0x5aa905},_0x6fc428=new WhatsAppAPI({'v':_0x5da904,'token':_0x1be1f5,'appSecret':_0x6e008,'webhookVerifyToken':_0x5aa905,'ponyfill':{'fetch':undici_fetch,'subtle':subtle}});this[_0x35053b(0x1aa)](function(){_0x6fc428['webhookVerifyToken']=_0x5aa905;}),_0x18da34['jXnPY'](it,_0x18da34[_0x35053b(0x33c)],function(){const _0x41977e=_0x35053b;if(_0x18da34[_0x41977e(0x312)]===_0x18da34['rnQqz'])_0x53b06b['QoFUL'](_0x2c3ad9,_0x53b06b[_0x41977e(0x246)],function(){const _0x3fc8bb=_0x41977e,_0x3c7e2a=new _0x38bbcd({'v':_0x50b98a,'token':_0x1602d4,'appSecret':_0x29c59c,'ponyfill':{'fetch':_0x24a952,'subtle':_0x29dd76}});_0xe48c75(_0x3c7e2a[_0x3fc8bb(0x26b)],_0x37a2e6);});else{const _0x6434c6=_0x6fc428['get'](_0x33118a);_0x18da34[_0x41977e(0x1a4)](equal,_0x6434c6,_0x82d114);}}),_0x18da34[_0x35053b(0x1a4)](it,_0x18da34[_0x35053b(0x316)],function(){const _0x1e8e0f=_0x35053b;delete _0x6fc428[_0x1e8e0f(0x1bd)],_0x53b06b[_0x1e8e0f(0x32a)](throws,function(){const _0x45811f=_0x1e8e0f;_0x6fc428[_0x45811f(0x1fe)](_0x33118a);},_0x5eb010(0x1f4));}),_0x18da34['jXnPY'](it,_0x35053b(0x264),function(){throws(function(){const _0x148a55=_0x174d;_0x6fc428[_0x148a55(0x1fe)]({});},_0x5eb010(0x190)),_0x18da34['jXnPY'](throws,function(){const _0x45c752=_0x174d;_0x6fc428[_0x45c752(0x1fe)]({'hub.mode':_0x5302ed});},_0x18da34['fdMKE'](_0x5eb010,0x190)),throws(function(){const _0x1e771c=_0x174d;_0x6fc428[_0x1e771c(0x1fe)]({'hub.verify_token':_0x1be1f5});},_0x5eb010(0x190));}),it(_0x35053b(0x20a),function(){const _0x308bca=_0x35053b;_0x18da34[_0x308bca(0x330)](throws,function(){const _0x253f3b=_0x308bca;_0x6fc428[_0x253f3b(0x1fe)]({..._0x33118a,'hub.verify_token':_0x253f3b(0x243)},_0x1be1f5);},_0x18da34[_0x308bca(0x336)](_0x5eb010,0x193));});}),_0x4d0ec9[_0x33773b(0x273)](describe,_0x33773b(0x1ee),function(){const _0x903191=_0x33773b,_0x419eb7={'kqImm':_0x903191(0x243),'swaae':function(_0x3d7348,_0x45ee6c,_0x149a3b){const _0x155fc7=_0x903191;return _0x18da34[_0x155fc7(0x274)](_0x3d7348,_0x45ee6c,_0x149a3b);},'hahmW':function(_0x4f8b6b,_0x314be0){const _0x50a5e6=_0x903191;return _0x18da34[_0x50a5e6(0x1fd)](_0x4f8b6b,_0x314be0);},'jtcJj':_0x18da34['yXUAu'],'QvISx':_0x18da34['EFfvT'],'CsGam':_0x18da34['bYruQ'],'HsczS':function(_0x4b679a,_0x5af78f,_0x5517e3){return _0x4b679a(_0x5af78f,_0x5517e3);},'XBTDD':_0x18da34[_0x903191(0x25f)],'NgULe':function(_0x5aac0b,_0x1301e7,_0x559468){return _0x18da34['jXnPY'](_0x5aac0b,_0x1301e7,_0x559468);},'NwOMx':function(_0x4a6bd0,_0x22aea6){const _0x173803=_0x903191;return _0x18da34[_0x173803(0x2c9)](_0x4a6bd0,_0x22aea6);},'zufMo':_0x903191(0x2e6),'SkiYK':_0x903191(0x249),'SUYFk':function(_0x415eea,_0x424f4c,_0x472acd){const _0x1344ce=_0x903191;return _0x18da34[_0x1344ce(0x303)](_0x415eea,_0x424f4c,_0x472acd);},'Rnqco':function(_0x229e7f,_0x23096d,_0xe0a39f){return _0x229e7f(_0x23096d,_0xe0a39f);},'oBVMn':_0x18da34['XpPFW'],'INkeS':'should\x20reply\x20to\x20a\x20message\x20with\x20the\x20method\x20reply','LYzpB':'should\x20not\x20block\x20the\x20main\x20thread\x20with\x20the\x20user\x27s\x20callback\x20with\x20the\x20method\x20offload','FzQlc':function(_0x87074a){return _0x87074a();},'lTUDa':_0x18da34[_0x903191(0x214)],'kuqZR':function(_0x5a31da,_0x57aac3,_0x139a3b){const _0x248cea=_0x903191;return _0x18da34[_0x248cea(0x1a4)](_0x5a31da,_0x57aac3,_0x139a3b);},'JCRPT':function(_0x363260,_0x216d8b){const _0xa44a4d=_0x903191;return _0x18da34[_0xa44a4d(0x2f4)](_0x363260,_0x216d8b);},'WiMQr':_0x18da34[_0x903191(0x18e)],'pwEzy':_0x18da34[_0x903191(0x182)],'aImeU':function(_0x236ee0,_0x359fde,_0x59a699){return _0x18da34['qnMFp'](_0x236ee0,_0x359fde,_0x59a699);},'VEpgg':_0x18da34[_0x903191(0x2c5)],'tHYzk':function(_0x20f470,_0x2f42f,_0x5d6b47){const _0x2a533a=_0x903191;return _0x18da34[_0x2a533a(0x1a4)](_0x20f470,_0x2f42f,_0x5d6b47);}},_0x5477cf='1',_0x444b4f='2',_0x40db37=_0x18da34[_0x903191(0x204)],_0x2ebdaf=_0x903191(0x20f),_0x23bf17=_0x903191(0x197),_0xd2dde5={'from':_0x444b4f,'id':_0x18da34[_0x903191(0x21e)],'timestamp':0x0,'type':'text','text':{'body':'message'}},_0x6ac4fa='3',_0x321200='4',_0x2387bc={'id':_0x18da34[_0x903191(0x211)],'expiration_timestamp':'TIMESTAMP','origin':{'type':_0x903191(0x1fb)}},_0x5c6318={'pricing_model':_0x18da34[_0x903191(0x1d7)],'billable':!![],'category':_0x18da34[_0x903191(0x19d)]},_0x240001='5',_0x19cf13=new MessageWebhookMock(_0x5477cf,_0x444b4f,_0xd2dde5,_0x23bf17),_0x3c3e0f=new StatusWebhookMock(_0x5477cf,_0x444b4f,_0x6ac4fa,_0x321200,_0x2387bc,_0x5c6318,_0x240001),_0x4c86dd=new WhatsAppAPI({'v':_0x5da904,'token':_0x1be1f5,'appSecret':_0x6e008,'ponyfill':{'fetch':undici_fetch,'subtle':subtle}});this[_0x903191(0x1aa)](function(){const _0x440ae8=_0x903191;_0x4c86dd[_0x440ae8(0x26b)]=_0x6e008,_0x4c86dd[_0x440ae8(0x2bd)]=!![];}),_0x18da34[_0x903191(0x330)](describe,_0x18da34[_0x903191(0x1b3)],function(){const _0x205f96=_0x903191,_0x45a877={'NCiIF':function(_0x3a0d25,_0x19041b,_0x3433a1){return _0x3a0d25(_0x19041b,_0x3433a1);},'XwzBU':function(_0x4d4713,_0xe7d42d){return _0x419eb7['hahmW'](_0x4d4713,_0xe7d42d);},'iYPqj':function(_0xbe1ad3,_0x2d88fb,_0x17d9a9){return _0xbe1ad3(_0x2d88fb,_0x17d9a9);},'QyxjR':'should\x20throw\x20400\x20if\x20rawBody\x20is\x20missing','pLcHM':_0x205f96(0x1f1),'gLrGJ':_0x419eb7[_0x205f96(0x28a)],'aqwtl':function(_0x5b181f,_0x2d996b,_0x33fff8){return _0x5b181f(_0x2d996b,_0x33fff8);}};if(_0x205f96(0x17d)!==_0x419eb7[_0x205f96(0x24b)]){const _0x87a1ec=new _0xc8fadb({'v':_0x9aabbc,'token':_0x58c7f6,'appSecret':_0x526e3a,'ponyfill':{'fetch':_0x19960f,'subtle':_0x53b984}});_0x10287b(_0x87a1ec[_0x205f96(0x2de)],!![]);}else describe(_0x419eb7[_0x205f96(0x33e)],function(){const _0x49c0df=_0x205f96,_0x2759e6={'KgxuZ':function(_0x5d6ad2,_0x5d5936,_0x43b2cd){const _0xc1c53a=_0x174d;return _0x45a877[_0xc1c53a(0x1a2)](_0x5d6ad2,_0x5d5936,_0x43b2cd);},'RHVLK':function(_0x4e1f82,_0x10eb88){return _0x4e1f82(_0x10eb88);},'Rgtps':function(_0x3f1948,_0x1f55be){const _0xa1a40d=_0x174d;return _0x45a877[_0xa1a40d(0x1d9)](_0x3f1948,_0x1f55be);},'QkChm':function(_0x249434,_0x35dcb2,_0x2f8fba){const _0x3f4b6a=_0x174d;return _0x45a877[_0x3f4b6a(0x1a2)](_0x249434,_0x35dcb2,_0x2f8fba);},'nvjvK':_0x49c0df(0x267),'PKFpb':function(_0x5319de,_0x23cb68){return _0x5319de(_0x23cb68);}};_0x45a877['iYPqj'](it,_0x45a877['QyxjR'],async function(){const _0x2f85b4=_0x49c0df;await _0x2759e6['KgxuZ'](rejects,_0x4c86dd[_0x2f85b4(0x25a)](_0x19cf13),_0x2759e6[_0x2f85b4(0x19a)](_0x5eb010,0x190)),await rejects(_0x4c86dd[_0x2f85b4(0x25a)](_0x19cf13,undefined),_0x2759e6[_0x2f85b4(0x217)](_0x5eb010,0x190));}),it(_0x45a877[_0x49c0df(0x282)],async function(){const _0x1bab04=_0x49c0df,_0x52c859={'GAWGA':function(_0xa3b075,_0x1afe81,_0x1baca2){return _0x2759e6['QkChm'](_0xa3b075,_0x1afe81,_0x1baca2);}};if(_0x2759e6[_0x1bab04(0x195)]!==_0x1bab04(0x343))await rejects(_0x4c86dd[_0x1bab04(0x25a)](_0x19cf13,_0x40db37),_0x5eb010(0x191)),await rejects(_0x4c86dd['post'](_0x19cf13,_0x40db37,undefined),_0x2759e6[_0x1bab04(0x16c)](_0x5eb010,0x191));else{const _0x29380f=new _0x416a92({'v':_0x3f5eda,'token':_0x589404,'appSecret':_0x4360ca,'ponyfill':{'fetch':_0x1ed5dd,'subtle':_0x1ad2e7}});_0x52c859[_0x1bab04(0x216)](_0xcd11be,_0x29380f[_0x1bab04(0x31e)],_0x366abf);}}),it(_0x45a877[_0x49c0df(0x1c1)],async function(){const _0x488052=_0x49c0df;delete _0x4c86dd[_0x488052(0x26b)],await rejects(_0x4c86dd[_0x488052(0x25a)](_0x19cf13,_0x40db37,_0x2ebdaf),_0x5eb010(0x1f4));}),_0x45a877['aqwtl'](it,'should\x20throw\x20401\x20if\x20the\x20signature\x20doesn\x27t\x20match\x20the\x20hash',async function(){const _0x46d891=_0x49c0df;await _0x2759e6[_0x46d891(0x196)](rejects,_0x4c86dd[_0x46d891(0x25a)](_0x19cf13,_0x40db37,_0x46d891(0x16f)),_0x5eb010(0x191));});}),_0x419eb7[_0x205f96(0x1cd)](describe,_0x205f96(0x2d4),function(){const _0x570642=_0x205f96,_0x2d0760={'tyDUm':_0x419eb7[_0x570642(0x167)]};this[_0x570642(0x1aa)](function(){const _0x362ce8=_0x570642;_0x4c86dd[_0x362ce8(0x2bd)]=![],delete _0x4c86dd[_0x362ce8(0x26b)];}),this['afterEach'](function(){const _0x19ae7e=_0x570642;_0x4c86dd[_0x19ae7e(0x2bd)]=!![],_0x4c86dd['appSecret']=_0x6e008;}),it('should\x20not\x20throw\x20if\x20any\x20of\x20the\x20parameters\x20is\x20missing\x20or\x20is\x20invalid',async function(){const _0x47a7bb=_0x570642;await _0x4c86dd[_0x47a7bb(0x25a)](_0x19cf13),await _0x4c86dd[_0x47a7bb(0x25a)](_0x19cf13,_0x40db37),await _0x4c86dd[_0x47a7bb(0x25a)](_0x19cf13,_0x40db37,_0x2d0760[_0x47a7bb(0x219)]);});}),_0x419eb7[_0x205f96(0x288)](it,_0x419eb7[_0x205f96(0x1ac)],async function(){const _0x53d4e0=_0x205f96;_0x4c86dd[_0x53d4e0(0x2bd)]=![],await _0x419eb7['swaae'](rejects,_0x4c86dd['post']({}),_0x5eb010(0x190));});}),_0x18da34[_0x903191(0x205)](describe,_0x18da34[_0x903191(0x237)],function(){const _0x14da3f=_0x903191,_0x3395b4={'PFBNi':function(_0x3ecd0e){return _0x3ecd0e();},'Iguig':function(_0x2a8b3e,_0x4c7e1d){return _0x2a8b3e<_0x4c7e1d;}},_0x5a6f12={'messaging_product':_0x14da3f(0x321),'contacts':[{'input':_0x444b4f,'wa_id':_0x444b4f}],'messages':[{'id':_0x321200}]};let _0x5f370d;this[_0x14da3f(0x1aa)](function(){const _0x12e846=_0x14da3f;_0x5f370d=_0x3395b4[_0x12e846(0x186)](sinon_spy),_0x4c86dd['on']['message']=_0x5f370d;}),this[_0x14da3f(0x1aa)](function(){_0x4c86dd['secure']=![];}),_0x419eb7[_0x14da3f(0x1d3)](it,'should\x20parse\x20the\x20post\x20request\x20and\x20call\x20back\x20with\x20the\x20right\x20parameters',async function(){const _0x10c01f=_0x14da3f;_0x4c86dd[_0x10c01f(0x25a)](_0x19cf13),await new Promise(_0x5c9ef2=>setTimeout(_0x5c9ef2,0x0)),sinon_assert[_0x10c01f(0x281)](_0x5f370d,{'phoneID':_0x5477cf,'from':_0x444b4f,'message':_0xd2dde5,'name':_0x23bf17,'raw':_0x19cf13});}),it(_0x419eb7[_0x14da3f(0x2f5)],async function(){const _0x86ddf=_0x14da3f;_0x4c86dd['on'][_0x86ddf(0x30f)]=async()=>{return'Hi';};const _0x142232=await _0x4c86dd[_0x86ddf(0x25a)](_0x19cf13);_0x419eb7[_0x86ddf(0x2ed)](equal,_0x142232,'Hi');}),_0x419eb7[_0x14da3f(0x2ed)](it,_0x419eb7['INkeS'],async function(){const _0x417826=_0x14da3f,_0x26cae2={'VBmeW':function(_0x51c12c,_0xa9617){return _0x51c12c===_0xa9617;},'lxhRI':'undefined','AdYon':function(_0x1dc210,_0x1526bb){return _0x1dc210===_0x1526bb;},'kDMIx':function(_0x28908f,_0x15b429){const _0x12be6c=_0x174d;return _0x419eb7[_0x12be6c(0x17b)](_0x28908f,_0x15b429);}};if(_0x419eb7[_0x417826(0x301)](_0x419eb7[_0x417826(0x1e0)],_0x417826(0x236))){(_0x26cae2[_0x417826(0x2e4)](typeof _0x46f5c,_0x26cae2[_0x417826(0x26e)])||_0x26cae2[_0x417826(0x1f8)](typeof _0x323dbe[_0x417826(0x2e1)],_0x26cae2[_0x417826(0x26e)]))&&this[_0x417826(0x2cb)]();const _0x4a6902=new _0x4f8f35({'v':_0x4f19fb,'token':_0x58edca,'appSecret':_0x3e3595,'ponyfill':{'fetch':_0x42e796}});_0x334b77(_0x4a6902[_0x417826(0x2e1)],_0x3a2beb);}else{const _0x3e0551=sinon_spy();_0x4c86dd['on'][_0x417826(0x1f4)]=_0x3e0551,clientFacebook[_0x417826(0x2a0)]({'path':'/'+_0x4c86dd['v']+'/'+_0x5477cf+'/messages','method':_0x419eb7['SkiYK'],'headers':{'Authorization':_0x417826(0x31f)+_0x1be1f5}})['reply'](0xc8,_0x5a6f12)['times'](0x1),_0x4c86dd['on']['message']=async({reply:_0x2d90a1})=>{const _0x9af80b=_0x417826;_0x26cae2[_0x9af80b(0x2dd)](_0x2d90a1,new Text(_0x9af80b(0x2b0)));},_0x4c86dd[_0x417826(0x25a)](_0x19cf13),await new Promise(_0x2025f4=>setTimeout(_0x2025f4,0x0)),sinon_assert[_0x417826(0x1df)](_0x3e0551);}}),it(_0x419eb7[_0x14da3f(0x296)],async function(){const _0x24e9f9=_0x14da3f,_0x3fd94a={'IrBXM':function(_0x2761a9,_0x13e984){return _0x2761a9(_0x13e984);}};function _0x45542a(_0x4c0b2e){const _0x35c0b7=_0x174d,_0x1d1191=Date['now']();while(_0x3395b4[_0x35c0b7(0x1e2)](Date[_0x35c0b7(0x324)]()-_0x1d1191,_0x4c0b2e));}const _0x247893=0x5,_0x48d9d3=0xa;_0x4c86dd['on'][_0x24e9f9(0x30f)]=({offload:_0x2f6091})=>{const _0x8c0c98=_0x24e9f9,_0x5c8a4e={'TDmCX':function(_0x120ee2,_0x129530){return _0x120ee2(_0x129530);},'DcECs':function(_0xa3b2ea){return _0xa3b2ea();}};_0x3fd94a[_0x8c0c98(0x168)](_0x2f6091,()=>{const _0x37f0bd=_0x8c0c98;_0x5c8a4e[_0x37f0bd(0x202)](_0x45542a,_0x48d9d3),_0x5c8a4e[_0x37f0bd(0x172)](_0x5f370d);});},_0x4c86dd[_0x24e9f9(0x25a)](_0x19cf13),_0x419eb7['hahmW'](_0x45542a,_0x247893),sinon_assert[_0x24e9f9(0x29e)](_0x5f370d),await new Promise(_0x5a4ed8=>setTimeout(_0x5a4ed8,_0x48d9d3)),sinon_assert[_0x24e9f9(0x1df)](_0x5f370d);}),it(_0x14da3f(0x1c5),async function(){const _0x4532b1=_0x14da3f;let _0x426abd;_0x426abd=new MessageWebhookMock(),await _0x419eb7[_0x4532b1(0x2c4)](rejects,_0x4c86dd[_0x4532b1(0x25a)](_0x426abd),TypeError),_0x426abd=new MessageWebhookMock(_0x5477cf),await rejects(_0x4c86dd['post'](_0x426abd),TypeError),_0x426abd=new MessageWebhookMock(_0x5477cf,_0x444b4f),await rejects(_0x4c86dd[_0x4532b1(0x25a)](_0x426abd),TypeError);});}),describe('Status',function(){const _0xd79d21=_0x903191,_0x122a1c={'RpIjx':function(_0x426ec4,_0x2bf5a0,_0x4e8412){return _0x426ec4(_0x2bf5a0,_0x4e8412);},'Zufum':function(_0x34bb6a,_0x4929dd){return _0x419eb7['hahmW'](_0x34bb6a,_0x4929dd);},'sHBUB':function(_0x440f3a,_0xac3310){const _0x23497a=_0x174d;return _0x419eb7[_0x23497a(0x28d)](_0x440f3a,_0xac3310);},'OQZYJ':_0xd79d21(0x295),'WSPqg':function(_0x55cb7d,_0x1e243c){return _0x55cb7d-_0x1e243c;}};if(_0x419eb7[_0xd79d21(0x258)]===_0x419eb7[_0xd79d21(0x1e8)]){const _0x20bca2=_0x35dacb,_0x4c6672=new _0x4fb907({'v':_0x24fdbe,'token':_0x4c240f,'appSecret':_0x2b4a44,'ponyfill':{'fetch':_0x2bbecd,'subtle':_0x20bca2}});_0x122a1c[_0xd79d21(0x271)](_0xbd99e1,_0x4c6672[_0xd79d21(0x2e1)],_0x20bca2);}else{let _0x158e1d;this[_0xd79d21(0x1aa)](function(){const _0x532179=_0xd79d21;_0x158e1d=_0x419eb7[_0x532179(0x207)](sinon_spy),_0x4c86dd['on']['status']=_0x158e1d;}),this[_0xd79d21(0x1aa)](function(){const _0x252885=_0xd79d21;_0x419eb7[_0x252885(0x329)]!==_0x419eb7[_0x252885(0x329)]?this[_0x252885(0x2cb)]():_0x4c86dd[_0x252885(0x2bd)]=![];}),_0x419eb7[_0xd79d21(0x228)](it,'should\x20parse\x20the\x20post\x20request\x20and\x20call\x20back\x20with\x20the\x20right\x20parameters',async function(){const _0xbb1697=_0xd79d21;_0x4c86dd[_0xbb1697(0x25a)](_0x3c3e0f),await new Promise(_0x4c8049=>setTimeout(_0x4c8049,0x0)),sinon_assert[_0xbb1697(0x281)](_0x158e1d,{'phoneID':_0x5477cf,'phone':_0x444b4f,'status':_0x6ac4fa,'id':_0x321200,'conversation':_0x2387bc,'pricing':_0x5c6318,'biz_opaque_callback_data':_0x240001,'raw':_0x3c3e0f});}),_0x419eb7['aImeU'](it,_0x419eb7[_0xd79d21(0x26a)],async function(){const _0x509aeb=_0xd79d21;_0x4c86dd['on'][_0x509aeb(0x1a9)]=async()=>{return'Hi';};const _0x14d28f=await _0x4c86dd[_0x509aeb(0x25a)](_0x3c3e0f);equal(_0x14d28f,'Hi');}),_0x419eb7[_0xd79d21(0x2a3)](it,_0x419eb7[_0xd79d21(0x296)],async function(){const _0x485a02=_0xd79d21,_0x39941c={'Tiyoc':function(_0xf09808,_0x300168){const _0x33bde3=_0x174d;return _0x122a1c[_0x33bde3(0x1e7)](_0xf09808,_0x300168);},'iBlcp':_0x122a1c[_0x485a02(0x2eb)],'bMbpq':function(_0x19f646,_0x1e11d6){return _0x19f646<_0x1e11d6;},'Pyyif':function(_0x25531b,_0x1605ca){const _0x4268a7=_0x485a02;return _0x122a1c[_0x4268a7(0x1ab)](_0x25531b,_0x1605ca);}};function _0x49ea42(_0x680c1b){const _0x1fd993=_0x485a02;if(_0x39941c[_0x1fd993(0x279)](_0x1fd993(0x200),_0x39941c[_0x1fd993(0x2b1)])){const _0x3b5b0e=Date['now']();while(_0x39941c['bMbpq'](_0x39941c['Pyyif'](Date[_0x1fd993(0x324)](),_0x3b5b0e),_0x680c1b));}else _0x5bc644[_0x1fd993(0x1bc)](![]);}const _0x57d097=0x5,_0x6b4ad7=0xa;_0x4c86dd['on'][_0x485a02(0x1a9)]=({offload:_0x2c0bcb})=>{const _0x5b3b2e=_0x485a02;_0x122a1c[_0x5b3b2e(0x221)](_0x2c0bcb,()=>{_0x49ea42(_0x6b4ad7),_0x158e1d();});},_0x4c86dd[_0x485a02(0x25a)](_0x3c3e0f),_0x49ea42(_0x57d097),sinon_assert[_0x485a02(0x29e)](_0x158e1d),await new Promise(_0x3a1731=>setTimeout(_0x3a1731,_0x6b4ad7)),sinon_assert[_0x485a02(0x1df)](_0x158e1d);}),it(_0xd79d21(0x1c5),async function(){const _0x39b58b=_0xd79d21;let _0x891fa3;_0x891fa3=new StatusWebhookMock(),await _0x419eb7[_0x39b58b(0x228)](rejects,_0x4c86dd[_0x39b58b(0x25a)](_0x891fa3),TypeError),_0x891fa3=new StatusWebhookMock(_0x5477cf),await rejects(_0x4c86dd['post'](_0x891fa3),TypeError);});}});});}),describe('$$apiFetch$$',function(){const _0x4041ff=_0x5a312c,_0x272720={'boTey':_0x4d0ec9['cYuiy']},_0x378d94=new WhatsAppAPI({'v':_0x5da904,'token':_0x1be1f5,'appSecret':_0x6e008,'ponyfill':{'fetch':undici_fetch,'subtle':subtle}});_0x4d0ec9[_0x4041ff(0x2bf)](it,_0x4d0ec9[_0x4041ff(0x223)],async function(){const _0x2073f7=_0x4041ff;'iLdYB'===_0x2073f7(0x203)?(clientExample['intercept']({'path':'/','headers':{'Authorization':_0x2073f7(0x31f)+_0x1be1f5}})[_0x2073f7(0x1ca)](0xc8)[_0x2073f7(0x26c)](0x1),_0x378d94[_0x2073f7(0x226)](_0x4d0ec9[_0x2073f7(0x1af)])):(_0x3779b2[_0x2073f7(0x2a0)]({'path':'/','method':'POST','headers':{'Authorization':_0x2073f7(0x31f)+_0x1796ef}})['reply'](0xc8)['times'](0x1),_0x443d1d[_0x2073f7(0x226)](_0x2073f7(0x31c),{'method':_0x272720[_0x2073f7(0x16a)]}));}),_0x4d0ec9['bFxWB'](it,_0x4041ff(0x1e3),async function(){const _0x453b32=_0x4041ff;clientExample[_0x453b32(0x2a0)]({'path':'/','method':_0x4d0ec9['cYuiy'],'headers':{'Authorization':_0x453b32(0x31f)+_0x1be1f5}})['reply'](0xc8)[_0x453b32(0x26c)](0x1),_0x378d94['$$apiFetch$$'](_0x453b32(0x31c),{'method':_0x4d0ec9[_0x453b32(0x29d)]});});});});