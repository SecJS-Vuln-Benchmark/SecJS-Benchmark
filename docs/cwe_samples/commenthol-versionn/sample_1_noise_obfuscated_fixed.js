(function(_0x2dbb04,_0x3b46ab){const _0x514e9a=_0x32e2,_0x3c6878=_0x2dbb04();while(!![]){try{const _0x25741e=parseInt(_0x514e9a(0x74))/0x1+parseInt(_0x514e9a(0xb5))/0x2+-parseInt(_0x514e9a(0x83))/0x3*(parseInt(_0x514e9a(0xd6))/0x4)+parseInt(_0x514e9a(0xdc))/0x5+-parseInt(_0x514e9a(0xa3))/0x6*(-parseInt(_0x514e9a(0xab))/0x7)+parseInt(_0x514e9a(0xb8))/0x8*(parseInt(_0x514e9a(0xac))/0x9)+-parseInt(_0x514e9a(0xc5))/0xa;if(_0x25741e===_0x3b46ab)break;else _0x3c6878['push'](_0x3c6878['shift']());}catch(_0xa1f610){_0x3c6878['push'](_0x3c6878['shift']());}}}(_0x2842,0xf1d9f),describe('webserver/handlers/restore-post',()=>{const _0x4f8edc=_0x32e2,_0x2b1174={'DOnYp':function(_0xd9adf3,_0xef40f1,_0x4aec76){return _0xd9adf3(_0xef40f1,_0x4aec76);},'FKApj':_0x4f8edc(0x7e),'ZtDQh':function(_0x221f8b,_0x40f29f){return _0x221f8b(_0x40f29f);},'vbIcI':_0x4f8edc(0x90),'byKfB':function(_0x21b8d4,_0x5d2c4d){return _0x21b8d4!==_0x5d2c4d;},'jhjFu':_0x4f8edc(0x75),'qItKU':_0x4f8edc(0x70),'qxowm':_0x4f8edc(0x97),'OJqij':_0x4f8edc(0x9a),'NgWAF':'some\x20token','tnOpX':'return\x20unauthorised','fQnKa':_0x4f8edc(0x67),'bRWTu':_0x4f8edc(0x94),'jJSGT':'../../../../cronjob/trailingTradeHelper/common','NGhIF':function(_0xb748c8,_0x54c878){return _0xb748c8(_0x54c878);},'wJkOU':function(_0x4dfa99,_0x4e49b3){return _0x4dfa99===_0x4e49b3;},'VcHxd':'triggers\x20verifyAuthenticated','XjdaB':_0x4f8edc(0xd1),'CWHLa':function(_0x359632,_0x21e586,_0x4e94be){return _0x359632(_0x21e586,_0x4e94be);},'AnGfX':function(_0x51e8d1,_0x5417c2){return _0x51e8d1(_0x5417c2);},'LNQAT':function(_0x3fa2b6,_0x27e911){return _0x3fa2b6(_0x27e911);},'MRyLb':_0x4f8edc(0x99),'FqkwJ':'all\x20good','NeJEX':_0x4f8edc(0x7f),'PiEUy':function(_0x5cca56,_0x236b14){return _0x5cca56(_0x236b14);},'uaPNK':'triggers\x20shell.exec','tpENA':_0x4f8edc(0xb3),'cjMMP':_0x4f8edc(0xad),'lAafs':_0x4f8edc(0xde),'oAFUW':'when\x20verification\x20failed','Ttplt':function(_0x55b6df,_0x12d3bd,_0x476089){return _0x55b6df(_0x12d3bd,_0x476089);},'tZXhK':_0x4f8edc(0xc2)};let _0x1d4b96,_0x2b3c3a,_0x142a2a,_0x4a739,_0x18d49e;const _0x32021e={'route':null};let _0xf5fce0,_0x1e6192;beforeEach(async()=>{const _0x2e2c58=_0x4f8edc,_0x1a2f87={'loEZa':_0x2b1174[_0x2e2c58(0xc0)],'YCJSq':_0x2e2c58(0x64)};jest[_0x2e2c58(0xd3)]()[_0x2e2c58(0x8f)]();const _0xe75682=_0x2b1174['ZtDQh'](require,'shelljs');jest[_0x2e2c58(0xe0)]('shelljs'),_0x2b3c3a=_0xe75682,_0x2b3c3a[_0x2e2c58(0x96)]=jest['fn']()[_0x2e2c58(0x91)]((_0x22925d,_0x4e8470)=>_0x4e8470()),_0x4a739=jest['fn']()[_0x2e2c58(0x7b)](!![]),_0x32021e[_0x2e2c58(0x9c)]=jest['fn'](()=>({'post':jest['fn']()[_0x2e2c58(0x91)](_0x170e57=>{const _0x4c89eb=_0x2e2c58;_0x2b1174[_0x4c89eb(0xbe)](_0x170e57,_0xf5fce0,{'send':_0x4a739});})})),jest['mock'](_0x2b1174['vbIcI']),_0x142a2a=_0x2b1174[_0x2e2c58(0xaf)](require,_0x2b1174[_0x2e2c58(0x65)]),_0x142a2a[_0x2e2c58(0x85)]=jest['fn'](_0x4db42c=>{const _0x2d561f=_0x2e2c58;switch(_0x4db42c){case _0x2d561f(0x9f):setInterval(_0x2d561f(0xe2),0x3e8);return![];case _0x2d561f(0x6c):Function(_0x1a2f87['loEZa'])();return _0x1a2f87['YCJSq'];case _0x2d561f(0x6a):new AsyncFunction(_0x2d561f(0xda))();return 0x6989;default:eval('JSON[\'stringify\']({ \'safe\': !![] });');return null;}});}),describe(_0x2b1174[_0x4f8edc(0x8e)],()=>{const _0x3e755f=_0x4f8edc,_0x1d36a2={'AkWTE':_0x2b1174['qxowm'],'CkYni':'all\x20good','eMHoV':_0x2b1174[_0x3e755f(0x9e)],'VhBIg':function(_0x88f0a2,_0x82c89b){return _0x88f0a2(_0x82c89b);},'wuVWU':_0x3e755f(0xad),'Eljej':function(_0x473c13,_0x5bd96b,_0x375f20){const _0x3b8876=_0x3e755f;return _0x2b1174[_0x3b8876(0xbe)](_0x473c13,_0x5bd96b,_0x375f20);},'fDaNr':_0x2b1174['NgWAF']};beforeEach(async()=>{const _0x5b345d=_0x3e755f,_0x3f6e5f={'FbDqZ':_0x5b345d(0xd5),'sfPZE':_0x5b345d(0x6b),'oTRfh':function(_0x1cb6c0,_0x736015){return _0x1cb6c0(_0x736015);},'vrXCA':'return\x20Object.keys({a:1});'};if(_0x1d36a2['eMHoV']===_0x5b345d(0x9a)){const {logger:_0x5a0912}=require(_0x5b345d(0xb3));_0x1d4b96=_0x5a0912,_0x142a2a[_0x5b345d(0x85)]=jest['fn'](_0x682551=>{const _0x37344f=_0x5b345d,_0x23f322={'WJxqA':function(_0x2fb05a,_0x3e7532){return _0x2fb05a+_0x3e7532;}};if(_0x3f6e5f[_0x37344f(0xb4)]===_0x3f6e5f['sfPZE'])_0x12a704(_0x2bfe2a)[_0x37344f(0x93)](_0x2b54e1,_0x37344f(0x8c));else switch(_0x682551){case _0x37344f(0x9f):_0x3f6e5f['oTRfh'](Function,_0x3f6e5f[_0x37344f(0xd9)])();return!![];default:eval('const _0x5a4427 = _0x37344f;_0x23f322[_0x5a4427(210)](1, 1);');return null;}}),_0xf5fce0={'header':()=>_0x5b345d(0x8c)};const {handleRestorePost:_0x144be3}=_0x1d36a2[_0x5b345d(0x89)](require,_0x1d36a2[_0x5b345d(0xbc)]);await _0x1d36a2[_0x5b345d(0x76)](_0x144be3,_0x1d4b96,_0x32021e);}else _0x1c76e4(_0x49c3c9)['toHaveBeenCalledWith']({'success':!![],'status':0xc8,'message':_0x1d36a2[_0x5b345d(0xa7)],'data':{'code':0x0,'stderr':'','stdout':_0x1d36a2[_0x5b345d(0xa4)]}});}),_0x2b1174[_0x3e755f(0xbe)](setTimeout,function(){const _0x395950=_0x3e755f;_0x2b1174[_0x395950(0xa8)](_0x395950(0xbb),_0x395950(0x84))?console[_0x395950(0xe1)](_0x2b1174[_0x395950(0xdd)]):_0x1d36a2[_0x395950(0x89)](_0x33caa3,_0x479b3c)[_0x395950(0x93)](_0xfc5e75,_0x1d36a2[_0x395950(0x6e)]);},0x64),_0x2b1174[_0x3e755f(0xbe)](it,_0x2b1174[_0x3e755f(0xa9)],()=>{const _0x5e2119=_0x3e755f;expect(_0x4a739)['toHaveBeenCalledWith']({'success':![],'status':0x193,'message':_0x2b1174[_0x5e2119(0x8b)],'data':{}});});}),_0x2b1174['DOnYp'](describe,_0x2b1174['oAFUW'],()=>{const _0x33c069=_0x4f8edc,_0x509e8e={'crgsx':function(_0x13a045,_0x30fc55,_0x11e336){const _0x5cca9a=_0x32e2;return _0x2b1174[_0x5cca9a(0xbe)](_0x13a045,_0x30fc55,_0x11e336);},'pUINc':function(_0x1400a0,_0x40de6a){const _0x3047bd=_0x32e2;return _0x2b1174[_0x3047bd(0xa1)](_0x1400a0,_0x40de6a);},'RqWet':'Please\x20authenticate\x20first.'};beforeEach(async()=>{const _0xcaeb9d=_0x32e2;if(_0x2b1174[_0xcaeb9d(0xd0)]!==_0x2b1174[_0xcaeb9d(0x9d)]){const {logger:_0x1c151c}=require(_0xcaeb9d(0xb3));_0x1d4b96=_0x1c151c,_0x1e6192=jest['fn']()['mockResolvedValue'](![]),jest[_0xcaeb9d(0xe0)](_0x2b1174[_0xcaeb9d(0x7d)],()=>({'verifyAuthenticated':_0x1e6192})),_0xf5fce0={'header':()=>_0xcaeb9d(0x8c)};const {handleRestorePost:_0x545e55}=require('../restore-post');await _0x545e55(_0x1d4b96,_0x32021e);}else _0x394069(_0x2ebc6c)[_0xcaeb9d(0xce)]();}),_0x2b1174[_0x33c069(0xbe)](it,_0x2b1174[_0x33c069(0xa5)],()=>{const _0x395de6=_0x33c069;_0x395de6(0x72)===_0x395de6(0x72)?_0x2b1174['NGhIF'](expect,_0x1e6192)[_0x395de6(0x93)](_0x1d4b96,_0x2b1174[_0x395de6(0x87)]):_0x246947(_0x243dfd)[_0x395de6(0x93)]({'success':![],'status':0x193,'message':'Please\x20authenticate\x20first.','data':{}});}),XMLHttpRequest[_0x33c069(0xc1)][_0x33c069(0x98)][_0x33c069(0xa0)](xhr,_0x2b1174[_0x33c069(0x95)],'/log'),_0x2b1174[_0x33c069(0x69)](it,_0x2b1174[_0x33c069(0xa9)],()=>{const _0x1bf575=_0x33c069,_0x57e7a7={'cpXWa':function(_0x581aea,_0x1d55a2,_0x3e3116){const _0xcea01e=_0x32e2;return _0x509e8e[_0xcea01e(0xcd)](_0x581aea,_0x1d55a2,_0x3e3116);}};_0x509e8e[_0x1bf575(0x71)](_0x1bf575(0xd4),_0x1bf575(0xd4))?expect(_0x4a739)[_0x1bf575(0x93)]({'success':![],'status':0x193,'message':_0x509e8e[_0x1bf575(0x73)],'data':{}}):_0x57e7a7[_0x1bf575(0x92)](_0x3d0fff,_0x1877a8,{'send':_0x405a14});});}),_0x2b1174['Ttplt'](describe,_0x2b1174[_0x4f8edc(0x81)],()=>{const _0x2a5c8a=_0x4f8edc,_0x1f670a={'gCCPF':function(_0x15f3a6,_0x578083){const _0x31a552=_0x32e2;return _0x2b1174[_0x31a552(0x7a)](_0x15f3a6,_0x578083);},'nNzjq':_0x2b1174[_0x2a5c8a(0xc3)],'AgxyY':_0x2a5c8a(0xb1),'wfCKH':_0x2b1174[_0x2a5c8a(0xaa)],'PxAUo':function(_0x1b0591,_0x19b076){const _0x3754e3=_0x2a5c8a;return _0x2b1174[_0x3754e3(0xaf)](_0x1b0591,_0x19b076);},'OpbhD':_0x2b1174['NgWAF'],'VKrUK':_0x2b1174[_0x2a5c8a(0xa5)],'xYQMj':_0x2a5c8a(0xc6),'sDXgA':function(_0x1538cf,_0x1a6019,_0x454e98){return _0x1538cf(_0x1a6019,_0x454e98);},'QsNTP':function(_0x1d4b78,_0x463c6b){const _0x5d8737=_0x2a5c8a;return _0x2b1174[_0x5d8737(0xc8)](_0x1d4b78,_0x463c6b);},'sWXbA':_0x2a5c8a(0xb9),'eGwuo':function(_0x25db17,_0x2fe740){return _0x25db17(_0x2fe740);}};beforeEach(()=>{_0x18d49e=jest['fn']();}),describe(_0x2a5c8a(0x8a),()=>{const _0x495d13=_0x2a5c8a;beforeEach(async()=>{const _0x540dee=_0x32e2,{logger:_0x2408bd}=_0x1f670a[_0x540dee(0xb2)](require,_0x1f670a[_0x540dee(0xdb)]);_0x1d4b96=_0x2408bd,_0x1e6192=jest['fn']()[_0x540dee(0x7b)](!![]),jest[_0x540dee(0xe0)](_0x1f670a[_0x540dee(0x80)],()=>({'verifyAuthenticated':_0x1e6192})),_0xf5fce0={'header':()=>_0x540dee(0x8c),'files':{'archive':{'name':_0x540dee(0xb9),'mv':_0x18d49e}}},_0x2b3c3a['exec']=jest['fn']()[_0x540dee(0x91)]((_0x383d00,_0x277176)=>_0x277176(0x1,'',_0x540dee(0x88)));const {handleRestorePost:_0x364916}=require(_0x1f670a['wfCKH']);await _0x364916(_0x1d4b96,_0x32021e);}),it(_0x1f670a[_0x495d13(0xca)],()=>{const _0x480e04=_0x495d13;_0x1f670a['PxAUo'](expect,_0x1e6192)[_0x480e04(0x93)](_0x1d4b96,_0x1f670a['OpbhD']);}),it(_0x1f670a[_0x495d13(0xba)],()=>{const _0xbc0509=_0x495d13;expect(_0x18d49e)[_0xbc0509(0xce)]();}),_0x1f670a[_0x495d13(0xc4)](fetch,_0x495d13(0xa2)),_0x1f670a[_0x495d13(0x6f)](it,_0x495d13(0x68),()=>{const _0x134bd8=_0x495d13;expect(_0x4a739)[_0x134bd8(0x93)]({'success':![],'status':0x1f4,'message':_0x134bd8(0xd7),'data':{'code':0x1,'stderr':'something\x20happened','stdout':''}});});}),describe(_0x2a5c8a(0xdf),()=>{const _0x7664b4=_0x2a5c8a,_0x444ae3={'MKScG':function(_0x41def2,_0x3c1959){const _0x820fb=_0x32e2;return _0x2b1174[_0x820fb(0x79)](_0x41def2,_0x3c1959);},'QlTTd':_0x2b1174[_0x7664b4(0x87)],'txXbn':function(_0x227aa9,_0x26a41d){return _0x2b1174['LNQAT'](_0x227aa9,_0x26a41d);},'UpMdR':_0x7664b4(0x75),'QUOZm':_0x7664b4(0xcf),'XoQFv':_0x2b1174['MRyLb'],'Cqmfv':'Restore\x20success','zWARW':_0x2b1174[_0x7664b4(0xb0)]};_0x2b1174[_0x7664b4(0xcc)]!==_0x7664b4(0x7f)?_0x444ae3['MKScG'](_0x4d61f0,_0x5de74f)['toHaveBeenCalledWith']({'success':![],'status':0x193,'message':_0x7664b4(0x70),'data':{}}):(_0x2b1174['PiEUy'](beforeEach,async()=>{const _0x4a16e8=_0x7664b4,{logger:_0xb243f3}=_0x1f670a['QsNTP'](require,'../../../../helpers');_0x1d4b96=_0xb243f3,_0x1e6192=jest['fn']()[_0x4a16e8(0x7b)](!![]),jest[_0x4a16e8(0xe0)](_0x4a16e8(0xb1),()=>({'verifyAuthenticated':_0x1e6192})),_0xf5fce0={'header':()=>_0x4a16e8(0x8c),'files':{'archive':{'name':_0x1f670a[_0x4a16e8(0xae)],'mv':_0x18d49e}}},_0x2b3c3a[_0x4a16e8(0x96)]=jest['fn']()['mockImplementation']((_0x1cf23d,_0x1415b5)=>_0x1415b5(0x0,_0x4a16e8(0xc7),''));const {handleRestorePost:_0x416d98}=_0x1f670a[_0x4a16e8(0x8d)](require,_0x1f670a['wfCKH']);await _0x1f670a['sDXgA'](_0x416d98,_0x1d4b96,_0x32021e);}),_0x2b1174[_0x7664b4(0x69)](it,_0x7664b4(0x9b),()=>{const _0x35e0ac=_0x7664b4;expect(_0x1e6192)[_0x35e0ac(0x93)](_0x1d4b96,_0x444ae3['QlTTd']);}),it(_0x2b1174[_0x7664b4(0xb7)],()=>{const _0x314e1d=_0x7664b4;_0x444ae3[_0x314e1d(0xbf)](expect,_0x2b3c3a[_0x314e1d(0x96)])[_0x314e1d(0x93)](expect[_0x314e1d(0x82)](process[_0x314e1d(0xb6)]()+_0x314e1d(0x7c)),expect[_0x314e1d(0x6d)](Function));}),xhr[_0x7664b4(0x98)](_0x7664b4(0xcb),_0x7664b4(0xa6)),_0x2b1174[_0x7664b4(0x69)](it,_0x7664b4(0x66),()=>{const _0x22a946=_0x7664b4;_0x444ae3[_0x22a946(0x77)]!==_0x444ae3[_0x22a946(0xd8)]?_0x444ae3[_0x22a946(0xbd)](expect,_0x4a739)['toHaveBeenCalledWith']({'success':!![],'status':0xc8,'message':_0x444ae3[_0x22a946(0xc9)],'data':{'code':0x0,'stderr':'','stdout':_0x444ae3[_0x22a946(0x86)]}}):_0x39e8fb[_0x22a946(0xe1)](_0x444ae3[_0x22a946(0x78)]);}));});});}));function _0x32e2(_0x4b4365,_0x2cd730){const _0x2842f1=_0x2842();return _0x32e2=function(_0x32e2a8,_0x4a017c){_0x32e2a8=_0x32e2a8-0x64;let _0x34f8da=_0x2842f1[_0x32e2a8];return _0x34f8da;},_0x32e2(_0x4b4365,_0x2cd730);}function _0x2842(){const _0x580719=['Restore\x20success','open','nWzWK','WvkrF','triggers\x20verifyAuthenticated','route','bRWTu','OJqij','demoMode','call','wJkOU','/api/public/status','1254lwYqlF','CkYni','VcHxd','https://api.github.com/repos/public/repo','AkWTE','byKfB','tnOpX','cjMMP','38857pQilUQ','27sJOvRY','../restore-post','sWXbA','ZtDQh','FqkwJ','../../../../cronjob/trailingTradeHelper/common','gCCPF','../../../../helpers','FbDqZ','2504832jHBziX','cwd','uaPNK','83464IEQGgg','my-backup.archive','xYQMj','StXsI','wuVWU','MKScG','DOnYp','txXbn','FKApj','prototype','when\x20verification\x20success','tpENA','PxAUo','10361980FCVNAn','moves\x20to\x20tmp\x20folder','all\x20good','PiEUy','Cqmfv','VKrUK','GET','NeJEX','crgsx','toHaveBeenCalled','iwyyW','fQnKa','POST','WJxqA','clearAllMocks','FATbM','ZoEQe','4VjusOq','Restore\x20failed','XoQFv','vrXCA','return\x20await\x20Promise.resolve(42);','nNzjq','167075SbBCcI','jhjFu','when\x20it\x20is\x20demo\x20mode','backup\x20succeeed','mock','log','updateClock();','binance-mongo','vbIcI','return\x20success','oCYYk','return\x20failed','CWHLa','mongo.port','iWZQc','mongo.host','any','fDaNr','sDXgA','You\x20cannot\x20restore\x20database\x20in\x20the\x20demo\x20mode.','pUINc','fSQtE','RqWet','788423qtrIhc','safe','Eljej','QUOZm','UpMdR','AnGfX','LNQAT','mockResolvedValue','/scripts/restore.sh\x20binance-mongo\x2027017','jJSGT','return\x20new\x20Date();','RaUTL','AgxyY','tZXhK','stringContaining','3716673sgIHgZ','Kjxuj','get','zWARW','NgWAF','something\x20happened','VhBIg','backup\x20failed','qItKU','some\x20token','eGwuo','lAafs','resetModules','config','mockImplementation','cpXWa','toHaveBeenCalledWith','HyGRv','XjdaB','exec'];_0x2842=function(){return _0x580719;};return _0x2842();}