'use strict';const _0x49c26=_0x5b4b;function _0x5b4b(_0x4e04ce,_0x24965b){const _0x32c398=_0x32c3();return _0x5b4b=function(_0x5b4bfc,_0x172f69){_0x5b4bfc=_0x5b4bfc-0x126;let _0x1e4ee4=_0x32c398[_0x5b4bfc];return _0x1e4ee4;},_0x5b4b(_0x4e04ce,_0x24965b);}function _0x32c3(){const _0x476c04=['file.patch','cewHT','./get-root-dir','git\x20clean\x20-f','git\x20cherry-pick\x20--no-commit\x20','run','success','git\x20checkout\x20','./commit-and-tag','join','ZGpon','You\x20must\x20start\x20with\x20a\x20clean\x20working\x20directory','MTUGI','nIWNF','./get-sub-dir','copy','path','git\x20ls-files\x20','git\x20apply\x20--whitespace=fix\x20','wTBQR','dlaob','LBMpQ','dqwdx','git\x20reset','211264ATJIPd','11409363dwKiHA','./git-init','git\x20remote\x20remove\x20','7018788XvUXvh','40mbbwaW','git\x20rev-parse\x20HEAD','LJzfT','NkARd','SCMIZ','QznAJ','BFNEU','1060SDbyZq','xdGjE','cwd','ImAxO','git\x20branch\x20','4kVCmGk','xdrRb','1436451RGpMqF','XOuOQ','MllhT','./create-custom-remote','./commit','zYWaK','xYXOS','tVTdL','readFile','gitStatus','git\x20remote\x20add\x20','HRNvh','fs-extra','gitRemoveAll','4qwBlTS','qhHYp','xwQmJ','188550CdWbKC','git\x20checkout\x20--\x20','ptZwq','EPhow','kmdOh','resolveConflictsProcess','JcVmo','Not\x20a\x20git\x20repository','mvexR','exports','GDwzd','PbIQi','vNtsO','subDir','debug','./resolve-conflicts','util','JUlEn','uuid/v1','./check-out-tag','zrpWr','yDmms','git\x20clone\x20','DETSH','Tags\x20match,\x20nothing\x20to\x20apply','AIvSP','mwhYK','wbMpm','rzPnA','XHlhu','682997AEqIZh','trim','MWBWN','./git-status','remove','UFVZw','isGitClean','ewHRe','utf8','CIQdr','wJiMo','126687KeVkAC','\x20--binary\x20>\x20'];_0x32c3=function(){return _0x476c04;};return _0x32c3();}(function(_0x5369a9,_0x521723){const _0x5b4b70=_0x5b4b,_0x6a721f=_0x5369a9();while(!![]){try{const _0x40fdcc=-parseInt(_0x5b4b70(0x12c))/0x1*(parseInt(_0x5b4b70(0x14d))/0x2)+parseInt(_0x5b4b70(0x13f))/0x3*(parseInt(_0x5b4b70(0x13d))/0x4)+parseInt(_0x5b4b70(0x150))/0x5+-parseInt(_0x5b4b70(0x130))/0x6+parseInt(_0x5b4b70(0x16e))/0x7*(-parseInt(_0x5b4b70(0x131))/0x8)+parseInt(_0x5b4b70(0x12d))/0x9+-parseInt(_0x5b4b70(0x138))/0xa*(-parseInt(_0x5b4b70(0x179))/0xb);if(_0x40fdcc===_0x521723)break;else _0x6a721f['push'](_0x6a721f['shift']());}catch(_0xfb4ce5){_0x6a721f['push'](_0x6a721f['shift']());}}}(_0x32c3,0xe1cb7));const path=require(_0x49c26(0x18b)),{promisify}=require(_0x49c26(0x160)),tmpDir=promisify(require('tmp')['dir']),fs=require(_0x49c26(0x14b)),uuidv1=require(_0x49c26(0x162)),debug=require(_0x49c26(0x15e))('git-diff-apply'),utils=require('./utils'),getRootDir=require(_0x49c26(0x17d)),getSubDir=require(_0x49c26(0x189)),gitInit=require(_0x49c26(0x12e)),gitStatus=require(_0x49c26(0x171)),commit=require(_0x49c26(0x143)),checkOutTag=require(_0x49c26(0x163)),convertToObj=require('./convert-to-obj'),resolveConflicts=require(_0x49c26(0x15f)),commitAndTag=require(_0x49c26(0x183)),gitRemoveAll=require('./git-remove-all'),createCustomRemote=require(_0x49c26(0x142)),{isGitClean}=gitStatus,{gitConfigInit}=gitInit,tempBranchName=uuidv1();async function ensureDir(_0x3a04fe){const _0x582a12=_0x49c26,_0x52437f={'SCMIZ':function(_0x20cdba,_0x2c641d,_0x454515){return _0x20cdba(_0x2c641d,_0x454515);},'JcVmo':'ensureDir'};_0x52437f[_0x582a12(0x135)](debug,_0x52437f[_0x582a12(0x156)],_0x3a04fe),await fs['ensureDir'](_0x3a04fe);}module[_0x49c26(0x159)]=async function gitDiffApply({cwd:cwd=process[_0x49c26(0x13a)](),remoteUrl:_0x3ccddf,startTag:_0xf6947,endTag:_0x44ac2f,resolveConflicts:_0x380fff,ignoredFiles:ignoredFiles=[],reset:_0x4a3f89,init:_0xbc7c76,createCustomDiff:_0x164112,startCommand:_0x5a7828,endCommand:_0x4a0c71}){const _0x5c808b=_0x49c26,_0x1907ee={'qhHYp':function(_0x27b945,_0x2db464){return _0x27b945===_0x2db464;},'OXmRL':_0x5c808b(0x15b),'ZGpon':function(_0x1e627b,_0x330700){return _0x1e627b||_0x330700;},'dqwdx':function(_0x541ff2,_0x1e40e1,_0x2d0ca5){return _0x541ff2(_0x1e40e1,_0x2d0ca5);},'ptZwq':function(_0x54aef0,_0x14b810,_0x33288d){return _0x54aef0(_0x14b810,_0x33288d);},'sZjRM':function(_0x50e489,_0x277805){return _0x50e489(_0x277805);},'vNtsO':function(_0x446051,_0xd40cd8,_0x467199){return _0x446051(_0xd40cd8,_0x467199);},'xdrRb':function(_0x1818a0){return _0x1818a0();},'xwQmJ':function(_0x56c2dc,_0x39d186){return _0x56c2dc(_0x39d186);},'ImAxO':function(_0x7e96f,_0xd54fd9){return _0x7e96f||_0xd54fd9;},'HRNvh':function(_0x244a0d,_0x34f93a){return _0x244a0d(_0x34f93a);},'kmdOh':function(_0x31b2b1,_0x1b9220){return _0x31b2b1(_0x1b9220);},'mvexR':function(_0x1ee52f,_0x18b7f3){return _0x1ee52f!==_0x18b7f3;},'aUIYH':_0x5c808b(0x176),'zVsDG':function(_0x58721c,_0x2c4a90){return _0x58721c===_0x2c4a90;},'MWBWN':_0x5c808b(0x177),'JUlEn':'You\x20must\x20start\x20with\x20a\x20clean\x20working\x20directory','qGAja':function(_0x433438){return _0x433438();},'rzPnA':function(_0x7670d4,_0x4a8865){return _0x7670d4(_0x4a8865);},'xYXOS':_0x5c808b(0x178),'zTCKY':_0x5c808b(0x141),'wTBQR':'failure','QznAJ':function(_0xc4dee5,_0x26762b){return _0xc4dee5||_0x26762b;},'BFNEU':'Tags\x20match,\x20nothing\x20to\x20apply','UFVZw':function(_0x23925d,_0xe55e33){return _0x23925d(_0xe55e33);},'nIWNF':'Not\x20a\x20git\x20repository','tVTdL':function(_0x2bfa66,_0x18035b){return _0x2bfa66(_0x18035b);},'dlaob':function(_0x76712d,_0x21cfef,_0x10aca0){return _0x76712d(_0x21cfef,_0x10aca0);},'Xplqe':_0x5c808b(0x15d),'MTUGI':function(_0x83edb2){return _0x83edb2();},'yTjJM':function(_0xc606b7,_0x9afa46){return _0xc606b7(_0x9afa46);},'XOuOQ':function(_0x25a5a4,_0x1fc638){return _0x25a5a4===_0x1fc638;},'mwhYK':_0x5c808b(0x129),'NQWLS':function(_0x40150f,_0x27161e){return _0x40150f===_0x27161e;},'GDwzd':'uZHnY','EPhow':'git\x20reset\x20--hard','AIvSP':function(_0x219a54,_0x1986b7){return _0x219a54&&_0x1986b7;},'peRUo':_0x5c808b(0x167)};let _0x479929,_0x1d1a2e,_0x41ce5e,_0xba032,_0x2d1de0,_0x53f12b,_0x3abc27,_0xeb148a;async function _0x2f51b7(){const _0x362ae1=_0x5c808b;if(_0x1907ee[_0x362ae1(0x14e)](_0x362ae1(0x164),_0x1907ee['OXmRL']))return;else{let _0x56720e;_0x1907ee[_0x362ae1(0x185)](_0x4a3f89,_0xbc7c76)?_0x56720e={}:(await _0x1907ee[_0x362ae1(0x12a)](checkOutTag,_0xf6947,{'cwd':_0x479929}),_0x56720e=convertToObj(_0x479929,ignoredFiles));await _0x1907ee[_0x362ae1(0x152)](checkOutTag,_0x44ac2f,{'cwd':_0x479929});let _0x262b89=convertToObj(_0x479929,ignoredFiles);return{'from':_0x56720e,'to':_0x262b89};}}async function _0x2ae3e9(_0x388887){const _0x41816e=_0x5c808b,_0x5dad9f={'LJzfT':function(_0xb5c979,_0x4b0856){return _0x1907ee['sZjRM'](_0xb5c979,_0x4b0856);},'xdGjE':function(_0x5c5477,_0x12bcc9,_0x479f11){const _0x521046=_0x5b4b;return _0x1907ee[_0x521046(0x12a)](_0x5c5477,_0x12bcc9,_0x479f11);},'XHlhu':function(_0x2ce238,_0x4112e5,_0x30acf5){const _0x4145bf=_0x5b4b;return _0x1907ee[_0x4145bf(0x15c)](_0x2ce238,_0x4112e5,_0x30acf5);}};let _0x84d761=await _0x1907ee[_0x41816e(0x13e)](tmpDir);await _0x1907ee[_0x41816e(0x14f)](gitInit,{'cwd':_0x84d761});let _0x1f3bb7=path['join'](_0x84d761,_0x388887);async function _0x6d7df8(_0x3bf0e0){const _0xcd5dca=_0x41816e;await _0x5dad9f[_0xcd5dca(0x133)](ensureDir,_0x1f3bb7),await _0x5dad9f[_0xcd5dca(0x139)](checkOutTag,_0x3bf0e0,{'cwd':_0x479929}),await utils[_0xcd5dca(0x18a)](_0x479929,_0x1f3bb7),await _0x5dad9f[_0xcd5dca(0x16d)](commitAndTag,_0x3bf0e0,{'cwd':_0x84d761});}!_0x1907ee[_0x41816e(0x13b)](_0x4a3f89,_0xbc7c76)&&(await _0x1907ee[_0x41816e(0x14a)](_0x6d7df8,_0xf6947),await gitRemoveAll({'cwd':_0x84d761})),await _0x1907ee[_0x41816e(0x154)](_0x6d7df8,_0x44ac2f),_0x479929=_0x84d761,_0x1d1a2e=_0x1f3bb7;}async function _0x50105f(){const _0x2d23f2=_0x5c808b;if(_0x1907ee[_0x2d23f2(0x158)]('zYWaK',_0x2d23f2(0x144)))throw{'err':_0x3b9c16,'err2':_0x3b6166};else await utils['copy'](_0x1d1a2e,cwd);}async function _0x94431c(_0xba0c7a){const _0x2688b9=_0x5c808b,_0x594bcb={'HDJUu':_0x2688b9(0x157)};for(let _0x169303 of ignoredFiles){if(_0x2688b9(0x134)===_0x2688b9(0x17c))throw _0x594bcb['HDJUu'];else{let _0x24f41a=await utils[_0x2688b9(0x180)](_0x2688b9(0x18c)+_0x169303,{'cwd':_0xba0c7a});_0x24f41a?await utils['run'](_0x2688b9(0x151)+_0x169303,{'cwd':_0xba0c7a}):await fs[_0x2688b9(0x172)](path[_0x2688b9(0x184)](_0xba0c7a,_0x169303));}}}async function _0x416a09(){const _0x467763=_0x5c808b;let _0x24f973=path['join'](await _0x1907ee[_0x467763(0x13e)](tmpDir),_0x467763(0x17b));await utils[_0x467763(0x180)]('git\x20diff\x20'+_0xf6947+'\x20'+_0x44ac2f+_0x467763(0x17a)+_0x24f973,{'cwd':_0x479929});if(_0x1907ee[_0x467763(0x158)](await fs[_0x467763(0x147)](_0x24f973,_0x1907ee['aUIYH']),'')){if(_0x1907ee['zVsDG'](_0x1907ee[_0x467763(0x170)],_0x1907ee[_0x467763(0x170)]))return _0x24f973;else _0x8845c3=!![];}}async function _0x57629e(_0x291c6e){const _0x52e7ec=_0x5c808b;await utils[_0x52e7ec(0x180)](_0x52e7ec(0x126)+_0x291c6e,{'cwd':_0x479929});}async function _0x3a7f8f(){const _0x18998d=_0x5c808b,_0x537b40={'ewHRe':_0x1907ee[_0x18998d(0x161)]};if(_0x1907ee[_0x18998d(0x185)](_0x4a3f89,_0xbc7c76)){await checkOutTag(_0x44ac2f,{'cwd':_0x479929}),_0x2d1de0=!![],_0x53f12b=!![];if(_0x4a3f89){if(_0x18998d(0x16b)==='Ouqer')throw _0x537b40[_0x18998d(0x175)];else await utils[_0x18998d(0x14c)]({'cwd':_0x3abc27});}await _0x1907ee['qGAja'](_0x50105f),await utils[_0x18998d(0x180)](_0x18998d(0x12b),{'cwd':cwd}),await _0x1907ee[_0x18998d(0x16c)](_0x94431c,cwd);return;}await checkOutTag(_0xf6947,{'cwd':_0x479929}),await utils[_0x18998d(0x180)](_0x18998d(0x13c)+tempBranchName,{'cwd':_0x479929}),await utils[_0x18998d(0x180)](_0x18998d(0x182)+tempBranchName,{'cwd':_0x479929});let _0x52e699=await _0x416a09();if(!_0x52e699)return;await _0x57629e(_0x52e699),await _0x94431c(_0x1d1a2e);let _0x4c66a1=!await _0x1907ee[_0x18998d(0x154)](isGitClean,{'cwd':_0x479929});if(_0x4c66a1){await _0x1907ee['kmdOh'](commit,{'cwd':_0x479929});let _0x4b77a3=await utils[_0x18998d(0x180)](_0x18998d(0x132),{'cwd':_0x479929});await utils[_0x18998d(0x180)](_0x18998d(0x149)+tempBranchName+'\x20'+_0x479929,{'cwd':cwd}),await utils[_0x18998d(0x180)]('git\x20fetch\x20--no-tags\x20'+tempBranchName,{'cwd':cwd});try{if(_0x1907ee[_0x18998d(0x158)](_0x1907ee[_0x18998d(0x145)],_0x1907ee['zTCKY']))await utils['run'](_0x18998d(0x17f)+_0x4b77a3[_0x18998d(0x16f)](),{'cwd':cwd});else throw _0x18998d(0x168);}catch(_0x42e34c){_0x41ce5e=!![];}await utils[_0x18998d(0x180)](_0x18998d(0x12f)+tempBranchName,{'cwd':cwd});}}try{if(_0xf6947===_0x44ac2f&&!_0x1907ee[_0x5c808b(0x136)](_0x4a3f89,_0xbc7c76)){if('yDmms'===_0x5c808b(0x165))throw _0x1907ee[_0x5c808b(0x137)];else{_0x219646(_0x1907ee[_0x5c808b(0x127)]);throw _0x543487;}}let _0x2d8c1f;try{_0x2d8c1f=await _0x1907ee[_0x5c808b(0x173)](isGitClean,{'cwd':cwd});}catch(_0x1e32f1){throw _0x1907ee[_0x5c808b(0x188)];}if(!_0x2d8c1f)throw _0x5c808b(0x186);if(_0x164112){let _0x3426b5=await createCustomRemote({'startCommand':_0x5a7828,'endCommand':_0x4a0c71,'startTag':_0xf6947,'endTag':_0x44ac2f,'reset':_0x4a3f89,'init':_0xbc7c76});_0x3ccddf=_0x3426b5;}_0x479929=await tmpDir(),_0x1d1a2e=_0x479929,await utils[_0x5c808b(0x180)](_0x5c808b(0x166)+_0x3ccddf+'\x20'+_0x479929),await _0x1907ee[_0x5c808b(0x14a)](gitConfigInit,{'cwd':_0x479929}),_0xba032=await _0x2f51b7(),_0x3abc27=await _0x1907ee[_0x5c808b(0x146)](getRootDir,{'cwd':cwd});let _0x20e5dc=await _0x1907ee['HRNvh'](getSubDir,{'cwd':cwd});_0x20e5dc&&(_0x1907ee[_0x5c808b(0x128)](debug,_0x1907ee['Xplqe'],_0x20e5dc),await _0x2ae3e9(_0x20e5dc)),await _0x1907ee[_0x5c808b(0x187)](_0x3a7f8f),_0x1907ee['yTjJM'](debug,_0x5c808b(0x181));}catch(_0x3b1391){_0xeb148a=_0x3b1391;try{if(_0x1907ee[_0x5c808b(0x140)]('wifhp',_0x1907ee[_0x5c808b(0x16a)]))return _0x27da6b;else _0x2d1de0&&(_0x1907ee['NQWLS'](_0x1907ee[_0x5c808b(0x15a)],_0x1907ee['GDwzd'])?await utils[_0x5c808b(0x180)](_0x5c808b(0x17e),{'cwd':cwd}):_0x1ec1c4[_0x5c808b(0x155)]=_0x3104e8({'cwd':_0x15922c})),_0x53f12b&&await utils['run'](_0x1907ee[_0x5c808b(0x153)],{'cwd':cwd});}catch(_0x436e9b){throw{'err':_0xeb148a,'err2':_0x436e9b};}}if(_0xeb148a){_0x1907ee['sZjRM'](debug,_0x1907ee[_0x5c808b(0x127)]);throw _0xeb148a;}return _0x1907ee[_0x5c808b(0x169)](_0x41ce5e,_0x380fff)&&(_0x1907ee['peRUo']===_0x5c808b(0x167)?_0xba032[_0x5c808b(0x155)]=_0x1907ee[_0x5c808b(0x154)](resolveConflicts,{'cwd':cwd}):_0x141758={}),_0xba032;},module[_0x49c26(0x159)]['run']=utils[_0x49c26(0x180)],module['exports']['gitInit']=gitInit,module[_0x49c26(0x159)][_0x49c26(0x148)]=gitStatus,module[_0x49c26(0x159)][_0x49c26(0x174)]=isGitClean,module[_0x49c26(0x159)][_0x49c26(0x14c)]=gitRemoveAll;