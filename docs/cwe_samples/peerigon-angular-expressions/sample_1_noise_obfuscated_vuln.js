const _0x2fa11c=_0x5c25;function _0x6f0c(){const _0x5118b8=['get','test2','2467240tXuzBh','GET','aJdNk','wogEB','code','PHzDv','\x5c/invalid\x5c_link\x5c.html','scOwm','jtUzd','ECEMu','/apps/test/request_password_reset','fetch','FcKtO','agSrp','status','/apps/test/verify_email?username=someemail@somedomain.com&token=','logIn','Invalid\x20session\x20token','vIFkR','690769siQZeI','sessionToken','qogxM','on\x20verify\x20e-mail','buBuS','toMatch','sqvBs','/apps/test/request_password_reset?username=someemail@somedomain.com&token=','data','iTvcV','toEqual','WEfQX','then','LtlTY','24680dADroX','6119295oBnzSO','error','newpassword','45RNrIau','NOBYZ','wGpMe','fvFOX','jXPUl','qGgJK','/apps/test/verify_email?username=someemail@somedomain.com&token[$regex]=','http://localhost:8378/1/classes/_User/','92bbb86d-bcda-49fa-8d79-aa0501078044','application/json','24672mVjSoq','Query','message','User','http://localhost:8378/1','resolve','311768Fkexql','../lib/request','stringify','POST','3017574BNaAMY','should\x20work\x20with\x20plain\x20token','Regex\x20Vulnerabilities','AzREt','8388WLKmVg','should\x20not\x20work\x20with\x20regex','LLQlV','/apps/test/request_password_reset?username=someemail@somedomain.com&token[$regex]=','WODGS','SvGKE','test','objectId','1141FggZWM','_email_verify_token','emailVerified','/requestPasswordReset','someemail@somedomain.com','/users','_perishable_token'];_0x6f0c=function(){return _0x5118b8;};return _0x6f0c();}function _0x5c25(_0x50b28b,_0x3d282e){const _0x6f0c23=_0x6f0c();return _0x5c25=function(_0x5c254d,_0x190f57){_0x5c254d=_0x5c254d-0x1c5;let _0x8c8c66=_0x6f0c23[_0x5c254d];return _0x8c8c66;},_0x5c25(_0x50b28b,_0x3d282e);}(function(_0x392b8c,_0x51e6ec){const _0x4ba3ce=_0x5c25,_0xf73dcf=_0x392b8c();while(!![]){try{const _0x110661=parseInt(_0x4ba3ce(0x1d1))/0x1+parseInt(_0x4ba3ce(0x20c))/0x2+-parseInt(_0x4ba3ce(0x1e3))/0x3*(parseInt(_0x4ba3ce(0x1f3))/0x4)+parseInt(_0x4ba3ce(0x1e0))/0x5+parseInt(_0x4ba3ce(0x1f7))/0x6+parseInt(_0x4ba3ce(0x203))/0x7*(parseInt(_0x4ba3ce(0x1ed))/0x8)+-parseInt(_0x4ba3ce(0x1fb))/0x9*(parseInt(_0x4ba3ce(0x1df))/0xa);if(_0x110661===_0x51e6ec)break;else _0xf73dcf['push'](_0xf73dcf['shift']());}catch(_0x65f163){_0xf73dcf['push'](_0xf73dcf['shift']());}}}(_0x6f0c,0xa7213));const request=require(_0x2fa11c(0x1f4)),serverURL='http://localhost:8378/1',headers={'Content-Type':_0x2fa11c(0x1ec)},keys={'_ApplicationId':_0x2fa11c(0x201),'_JavaScriptKey':_0x2fa11c(0x201)},emailAdapter={'sendVerificationEmail':()=>Promise[_0x2fa11c(0x1f2)](),'sendPasswordResetEmail':()=>Promise[_0x2fa11c(0x1f2)](),'sendMail':()=>{}},appName=_0x2fa11c(0x201),publicServerURL=_0x2fa11c(0x1f1);describe(_0x2fa11c(0x1f9),()=>{const _0x2fd75a=_0x2fa11c,_0x200787={'scOwm':function(_0x29dc76,_0x2465c3){return _0x29dc76(_0x2465c3);},'ECEMu':_0x2fd75a(0x20b),'wogEB':function(_0x58342d,_0xfb288d){return _0x58342d(_0xfb288d);},'fvFOX':_0x2fd75a(0x1f6),'SvGKE':_0x2fd75a(0x207),'NOBYZ':'somepassword','qogxM':_0x2fd75a(0x20d),'EgWSP':'should\x20not\x20work','WEfQX':_0x2fd75a(0x1fc),'wGpMe':function(_0xd96fa5,_0x12c518,_0x44847){return _0xd96fa5(_0x12c518,_0x44847);},'iTvcV':_0x2fd75a(0x1f8),'LLQlV':function(_0x419bee,_0x521a22){return _0x419bee(_0x521a22);},'sqvBs':_0x2fd75a(0x205),'vIFkR':function(_0x117a13,_0x35e984){return _0x117a13(_0x35e984);},'AzREt':_0x2fd75a(0x201),'LtlTY':function(_0x47bbb6,_0x38e026){return _0x47bbb6(_0x38e026);},'buBuS':function(_0x2109e3,_0x313061){return _0x2109e3(_0x313061);},'qGgJK':'Invalid\x20username/password.','agSrp':'application/json','UCqLs':_0x2fd75a(0x1e2),'FcKtO':function(_0x32c801,_0x259b5f){return _0x32c801(_0x259b5f);},'aJdNk':function(_0x4ed3e3,_0x5e66c1,_0x58a756){return _0x4ed3e3(_0x5e66c1,_0x58a756);}};let _0x3b557b,_0x2e6d37,_0x5a13f5,_0x2f1bc5;beforeEach(async()=>{const _0x4532d4=_0x2fd75a;await _0x200787[_0x4532d4(0x1c5)](reconfigureServer,{'maintenanceKey':_0x200787[_0x4532d4(0x1c7)],'verifyUserEmails':!![],'emailAdapter':emailAdapter,'appName':appName,'publicServerURL':publicServerURL});const _0x25fbda=await _0x200787[_0x4532d4(0x20f)](request,{'url':serverURL+_0x4532d4(0x208),'method':_0x200787['fvFOX'],'headers':headers,'body':JSON['stringify']({...keys,'_method':_0x4532d4(0x1f6),'username':_0x200787[_0x4532d4(0x200)],'password':_0x200787[_0x4532d4(0x1e4)],'email':_0x200787[_0x4532d4(0x200)]})});_0x3b557b=_0x25fbda['data'][_0x4532d4(0x202)],_0x2e6d37=_0x25fbda[_0x4532d4(0x1d9)][_0x4532d4(0x1d2)],_0x5a13f5=_0x2e6d37['slice'](0x0,0x3);}),describe('on\x20session\x20token',()=>{const _0x24792c=_0x2fd75a,_0x4f5092={'jXPUl':function(_0x18b7b4,_0x653e78){const _0x5d58d2=_0x5c25;return _0x200787[_0x5d58d2(0x20f)](_0x18b7b4,_0x653e78);},'PHzDv':_0x200787[_0x24792c(0x1e6)],'jtUzd':_0x200787[_0x24792c(0x1d3)],'WODGS':_0x200787['EgWSP'],'Nkqei':function(_0x200603,_0x1a9792){return _0x200603(_0x1a9792);}};it(_0x200787[_0x24792c(0x1dc)],async()=>{const _0x5691a6=_0x24792c;try{await _0x4f5092[_0x5691a6(0x1e7)](request,{'url':serverURL+'/users/me','method':_0x4f5092[_0x5691a6(0x211)],'headers':headers,'body':JSON[_0x5691a6(0x1f5)]({...keys,'_SessionToken':{'$regex':_0x5a13f5},'_method':_0x4f5092[_0x5691a6(0x1c6)]})}),fail(_0x4f5092[_0x5691a6(0x1ff)]);}catch(_0x1c01b4){expect(_0x1c01b4[_0x5691a6(0x1d9)][_0x5691a6(0x210)])['toEqual'](0xd1),expect(_0x1c01b4[_0x5691a6(0x1d9)][_0x5691a6(0x1e1)])['toEqual'](_0x5691a6(0x1cf));}}),_0x200787['wGpMe'](it,_0x200787[_0x24792c(0x1da)],async()=>{const _0x3862ea=_0x24792c,_0x3502a9=await request({'url':serverURL+'/users/me','method':_0x4f5092[_0x3862ea(0x211)],'headers':headers,'body':JSON[_0x3862ea(0x1f5)]({...keys,'_SessionToken':_0x2e6d37,'_method':_0x3862ea(0x20d)})});_0x4f5092['Nkqei'](expect,_0x3502a9[_0x3862ea(0x1d9)][_0x3862ea(0x202)])[_0x3862ea(0x1db)](_0x3b557b),expect(_0x3502a9[_0x3862ea(0x1d9)][_0x3862ea(0x1d2)])['toEqual'](_0x2e6d37);});}),_0x200787[_0x2fd75a(0x1e5)](describe,_0x2fd75a(0x1d4),()=>{const _0x21b046=_0x2fd75a;_0x200787[_0x21b046(0x1fd)](beforeEach,async function(){const _0x2d7623=_0x21b046,_0x27deab=new Parse[(_0x2d7623(0x1ee))](Parse[_0x2d7623(0x1f0)]);_0x2f1bc5=await _0x27deab[_0x2d7623(0x20a)](_0x3b557b,{'useMasterKey':!![]});}),_0x200787[_0x21b046(0x1e5)](it,_0x200787[_0x21b046(0x1dc)],async()=>{const _0x394930=_0x21b046;expect(_0x2f1bc5[_0x394930(0x20a)](_0x394930(0x205)))[_0x394930(0x1db)](![]),await _0x200787['LLQlV'](request,{'url':serverURL+_0x394930(0x1e9),'method':_0x200787['qogxM']}),await _0x2f1bc5[_0x394930(0x1c9)]({'useMasterKey':!![]}),_0x200787['scOwm'](expect,_0x2f1bc5['get'](_0x200787[_0x394930(0x1d7)]))[_0x394930(0x1db)](![]);}),it_id(_0x21b046(0x1eb))(it)(_0x21b046(0x1f8),async()=>{const _0x563c28=_0x21b046;_0x200787['vIFkR'](expect,_0x2f1bc5['get']('emailVerified'))[_0x563c28(0x1db)](![]);const _0x1b64aa=await _0x200787['scOwm'](request,{'method':_0x200787[_0x563c28(0x1d3)],'url':_0x563c28(0x1ea)+_0x2f1bc5['id'],'json':!![],'headers':{'X-Parse-Application-Id':'test','X-Parse-Rest-API-Key':_0x200787[_0x563c28(0x1fa)],'X-Parse-Maintenance-Key':_0x563c28(0x20b),'Content-Type':'application/json'}})[_0x563c28(0x1dd)](_0x267b92=>_0x267b92['data']);await _0x200787[_0x563c28(0x1fd)](request,{'url':serverURL+_0x563c28(0x1cd)+_0x1b64aa[_0x563c28(0x204)],'method':_0x200787[_0x563c28(0x1d3)]}),await _0x2f1bc5[_0x563c28(0x1c9)]({'useMasterKey':!![]}),_0x200787[_0x563c28(0x1de)](expect,_0x2f1bc5['get'](_0x563c28(0x205)))[_0x563c28(0x1db)](!![]);});}),describe('on\x20password\x20reset',()=>{const _0x33c809=_0x2fd75a;_0x200787[_0x33c809(0x1ca)](beforeEach,async()=>{const _0x534d55=_0x33c809;_0x2f1bc5=await Parse[_0x534d55(0x1f0)][_0x534d55(0x1ce)](_0x534d55(0x207),_0x200787[_0x534d55(0x1e4)]);}),_0x200787[_0x33c809(0x20e)](it,_0x33c809(0x1fc),async()=>{const _0xf38b36=_0x33c809;expect(_0x2f1bc5['id'])[_0xf38b36(0x1db)](_0x3b557b),await _0x200787['buBuS'](request,{'url':serverURL+_0xf38b36(0x206),'method':_0x200787['fvFOX'],'headers':headers,'body':JSON[_0xf38b36(0x1f5)]({...keys,'_method':_0x200787[_0xf38b36(0x1e6)],'email':_0x200787[_0xf38b36(0x200)]})}),await _0x2f1bc5['fetch']({'useMasterKey':!![]});const _0x4c23dc=await _0x200787[_0xf38b36(0x1fd)](request,{'url':serverURL+_0xf38b36(0x1fe),'method':_0x200787['qogxM']});expect(_0x4c23dc[_0xf38b36(0x1cc)])[_0xf38b36(0x1db)](0x12e),expect(_0x4c23dc['headers']['location'])[_0xf38b36(0x1d6)](_0xf38b36(0x212)),await request({'url':serverURL+_0xf38b36(0x1c8),'method':_0x200787[_0xf38b36(0x1e6)],'body':{'token':{'$regex':''},'username':_0x200787[_0xf38b36(0x200)],'new_password':_0xf38b36(0x1e2)}});try{await Parse[_0xf38b36(0x1f0)]['logIn'](_0xf38b36(0x207),_0xf38b36(0x1e2)),fail(_0x200787['EgWSP']);}catch(_0x4f7c48){expect(_0x4f7c48[_0xf38b36(0x210)])[_0xf38b36(0x1db)](Parse['Error']['OBJECT_NOT_FOUND']),expect(_0x4f7c48[_0xf38b36(0x1ef)])[_0xf38b36(0x1db)](_0x200787[_0xf38b36(0x1e8)]);}}),_0x200787['aJdNk'](it,_0x200787[_0x33c809(0x1da)],async()=>{const _0x12e75e=_0x33c809;_0x200787[_0x12e75e(0x1d0)](expect,_0x2f1bc5['id'])[_0x12e75e(0x1db)](_0x3b557b),await _0x200787[_0x12e75e(0x1d5)](request,{'url':serverURL+_0x12e75e(0x206),'method':'POST','headers':headers,'body':JSON['stringify']({...keys,'_method':_0x12e75e(0x1f6),'email':_0x200787['SvGKE']})});const _0x38deb2=await _0x200787[_0x12e75e(0x1d5)](request,{'method':_0x12e75e(0x20d),'url':'http://localhost:8378/1/classes/_User/'+_0x2f1bc5['id'],'json':!![],'headers':{'X-Parse-Application-Id':_0x12e75e(0x201),'X-Parse-Rest-API-Key':'test','X-Parse-Maintenance-Key':_0x200787[_0x12e75e(0x1c7)],'Content-Type':_0x200787[_0x12e75e(0x1cb)]}})['then'](_0x591b39=>_0x591b39['data']),_0xe2bd8b=_0x38deb2[_0x12e75e(0x209)],_0x4744c5=await request({'url':serverURL+_0x12e75e(0x1d8)+_0xe2bd8b,'method':'GET'});_0x200787[_0x12e75e(0x1de)](expect,_0x4744c5[_0x12e75e(0x1cc)])['toEqual'](0x12e),expect(_0x4744c5['headers']['location'])[_0x12e75e(0x1d6)]('\x5c/choose\x5c_password\x5c?token\x5c='+_0xe2bd8b+'\x5c&'),await request({'url':serverURL+_0x12e75e(0x1c8),'method':_0x200787[_0x12e75e(0x1e6)],'body':{'token':_0xe2bd8b,'username':_0x200787[_0x12e75e(0x200)],'new_password':_0x12e75e(0x1e2)}});const _0x46f559=await Parse[_0x12e75e(0x1f0)][_0x12e75e(0x1ce)](_0x12e75e(0x207),_0x200787['UCqLs']);_0x200787[_0x12e75e(0x1c5)](expect,_0x46f559['id'])[_0x12e75e(0x1db)](_0x3b557b);});});});