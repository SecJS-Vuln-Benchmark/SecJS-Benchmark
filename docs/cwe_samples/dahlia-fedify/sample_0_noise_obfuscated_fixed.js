function _0x417e(_0x1aa284,_0x3be24a){const _0x419e06=_0x419e();return _0x417e=function(_0x417e85,_0x3e56d4){_0x417e85=_0x417e85-0x1af;let _0x1dc2f3=_0x419e06[_0x417e85];return _0x1dc2f3;},_0x417e(_0x1aa284,_0x3be24a);}const _0x270f0e=_0x417e;function _0x419e(){const _0xc92083=['tmVuU','fdDNJ','should\x20use\x20an\x20empty\x20string\x20if\x20no\x20query\x20params','x-forwarded-host','oOgfK','lCtiK','should\x20append\x20the\x20\x27to\x27\x20path\x20relative\x20to\x20the\x20originalUrl','relativeRoot','toStrictEqual','authenticateOrigin','vscode','UCgou','./../..','2146018ZuHEBm','5558161DqFHrX','kulFA','split','rezOw','1422666WNffHI','/foo/','ZyjrS','bSIBW','4fXDVSe','Amecl','4|1|2|3|0','gPvOp','http','6DoQVSx','NmLuJ','origin','clearAllMocks','/foo','37136SQRBGO','zuZnG','/Users/jp/dev/coder','jIFMX','./vscode?folder=/Users/jp/dev/coder','should\x20preserve\x20slashes\x20in\x20queryString\x20so\x20they\x20are\x20human-readable','zkDXS','should\x20construct\x20a\x20relative\x20path\x20to\x20the\x20root','lfvOC','localhost:8080','iRfbM','845598ouzpdh','rAKUB','LhRQx','./..','./?folder=/Users/jp/dev/coder','for=127.0.0.1;proto=http;host=','host','gXVKr','http://localhost:8080','localhost:8081','proto=http;host=','/foo/bar\x20','pPOnt','./vscode','TTAFP','Fnqzr','800755EZBjEo','for=127.0.0.1,\x20host=','\x20->\x20[','oXDVq','forwarded','gvADm','3207080wWGycD','toBe','QdNbV','constructRedirectPath','FyffS','forEach','glFVV',',\x20proto=http','expected'];_0x419e=function(){return _0xc92083;};return _0x419e();}(function(_0x4a612e,_0x28412b){const _0x573e67=_0x417e,_0x9a151b=_0x4a612e();while(!![]){try{const _0x2228f7=-parseInt(_0x573e67(0x1c6))/0x1+parseInt(_0x573e67(0x1b3))/0x2+-parseInt(_0x573e67(0x1d1))/0x3+-parseInt(_0x573e67(0x1bc))/0x4*(-parseInt(_0x573e67(0x1e1))/0x5)+-parseInt(_0x573e67(0x1c1))/0x6*(parseInt(_0x573e67(0x1b4))/0x7)+parseInt(_0x573e67(0x1e7))/0x8+parseInt(_0x573e67(0x1b8))/0x9;if(_0x2228f7===_0x28412b)break;else _0x9a151b['push'](_0x9a151b['shift']());}catch(_0x2c702d){_0x9a151b['push'](_0x9a151b['shift']());}}}(_0x419e,0xa5cb6));import{getMockReq}from'@jest-mock/express';import*as _0x1747c7 from'../../../src/node/http';import{mockLogger}from'../../utils/helpers';describe(_0x270f0e(0x1c0),()=>{const _0x24f5de=_0x270f0e,_0x167efa={'ZyjrS':_0x24f5de(0x1b2),'lCtiK':function(_0x4179d0,_0x15c6dd){return _0x4179d0(_0x15c6dd);},'oXDVq':_0x24f5de(0x1c5),'Amecl':_0x24f5de(0x1d4),'rAKUB':function(_0x371861,_0x1394ac){return _0x371861(_0x1394ac);},'bSIBW':'localhost:8080','pPOnt':'test.org','zkDXS':function(_0x587925,_0x9f3cff){return _0x587925(_0x9f3cff);},'rezOw':_0x24f5de(0x1d5),'gXVKr':_0x24f5de(0x1f4),'Nhfri':_0x24f5de(0x1b0),'tmVuU':function(_0x5a5b53,_0x8f7981,_0x5093c8){return _0x5a5b53(_0x8f7981,_0x5093c8);},'FyffS':_0x24f5de(0x1cb),'lfvOC':_0x24f5de(0x1f2),'zuZnG':'should\x20append\x20append\x20queryParams\x20after\x20\x27to\x27\x20path','CLaDt':function(_0x48bf6b,_0x1e0994){return _0x48bf6b(_0x1e0994);},'gvADm':_0x24f5de(0x1cd),'ikTqx':'origin','glFVV':_0x24f5de(0x1ea)};beforeEach(()=>{mockLogger();}),_0x167efa['CLaDt'](afterEach,()=>{const _0x5572e6=_0x24f5de;jest[_0x5572e6(0x1c4)]();}),_0x167efa[_0x24f5de(0x1f0)](it,_0x167efa[_0x24f5de(0x1e6)],()=>{const _0x53fef0=_0x24f5de,_0x1f2074=_0x53fef0(0x1be)[_0x53fef0(0x1b6)]('|');let _0x49db23=0x0;while(!![]){switch(_0x1f2074[_0x49db23++]){case'0':expect(_0x1747c7['relativeRoot']('/foo/bar/'))[_0x53fef0(0x1f8)](_0x167efa[_0x53fef0(0x1ba)]);continue;case'1':_0x167efa[_0x53fef0(0x1f5)](expect,_0x1747c7[_0x53fef0(0x1f7)](_0x167efa[_0x53fef0(0x1e4)]))['toStrictEqual']('.');continue;case'2':_0x167efa[_0x53fef0(0x1f5)](expect,_0x1747c7[_0x53fef0(0x1f7)](_0x53fef0(0x1b9)))[_0x53fef0(0x1f8)](_0x167efa['Amecl']);continue;case'3':expect(_0x1747c7[_0x53fef0(0x1f7)](_0x53fef0(0x1dc)))[_0x53fef0(0x1f8)](_0x167efa[_0x53fef0(0x1bd)]);continue;case'4':_0x167efa[_0x53fef0(0x1d2)](expect,_0x1747c7['relativeRoot']('/'))['toStrictEqual']('.');continue;}break;}}),describe(_0x167efa['ikTqx'],()=>{const _0x1d470c=_0x24f5de,_0x2a906c={'Fnqzr':_0x1d470c(0x1f3),'dSpmO':_0x1d470c(0x1e5)};;[{'origin':'','host':'','expected':!![]},{'origin':_0x1d470c(0x1d9),'host':'','expected':![]},{'origin':_0x1d470c(0x1d9),'host':_0x167efa[_0x1d470c(0x1bb)],'expected':!![]},{'origin':_0x1d470c(0x1d9),'host':_0x1d470c(0x1da),'expected':![]},{'origin':_0x167efa[_0x1d470c(0x1bb)],'host':_0x167efa['bSIBW'],'expected':![]},{'origin':_0x167efa[_0x1d470c(0x1dd)],'host':_0x167efa[_0x1d470c(0x1bb)],'expected':![]}][_0x1d470c(0x1ec)](_0x354e2f=>{const _0x221c2c=_0x1d470c,_0x5b1d73={'UCgou':function(_0x573a8d,_0x47acfb){return _0x573a8d(_0x47acfb);}};;[['host',_0x354e2f[_0x221c2c(0x1d7)]],[_0x2a906c[_0x221c2c(0x1e0)],_0x354e2f['host']],[_0x221c2c(0x1e5),_0x221c2c(0x1e2)+_0x354e2f[_0x221c2c(0x1d7)]+_0x221c2c(0x1ee)],[_0x2a906c['dSpmO'],_0x221c2c(0x1d6)+_0x354e2f['host']],[_0x2a906c['dSpmO'],_0x221c2c(0x1db)+_0x354e2f[_0x221c2c(0x1d7)]+',\x20for=127.0.0.1']]['forEach'](([_0x4d2209,_0x5cddf9])=>{const _0x3d2a89=_0x221c2c;it(_0x354e2f[_0x3d2a89(0x1c3)]+_0x3d2a89(0x1e3)+_0x4d2209+':\x20'+_0x5cddf9+']',()=>{const _0x1b741a=_0x3d2a89,_0x3eafd0=getMockReq({'originalUrl':_0x1b741a(0x1cf),'headers':{'origin':_0x354e2f[_0x1b741a(0x1c3)],[_0x4d2209]:_0x5cddf9}});_0x5b1d73[_0x1b741a(0x1b1)](expect,_0x1747c7[_0x1b741a(0x1af)](_0x3eafd0))[_0x1b741a(0x1e8)](_0x354e2f[_0x1b741a(0x1ef)]);});});});}),_0x167efa['tmVuU'](describe,_0x167efa[_0x24f5de(0x1ed)],()=>{const _0x5aa915=_0x24f5de,_0x369033={'LzPGg':function(_0x11177c,_0x4aacbe){return _0x11177c(_0x4aacbe);},'jIFMX':'localhost:8080','iRfbM':function(_0x844690,_0xbd3634){const _0x226b9a=_0x417e;return _0x167efa[_0x226b9a(0x1d2)](_0x844690,_0xbd3634);},'NmLuJ':function(_0x12709e,_0x2b7ba,_0x4c584e){return _0x12709e(_0x2b7ba,_0x4c584e);},'TCfEK':function(_0x10bbc4,_0x1755b5){return _0x10bbc4===_0x1755b5;},'qTDep':_0x5aa915(0x1b5),'LhRQx':_0x167efa[_0x5aa915(0x1d8)],'TTAFP':function(_0x3c82d1,_0xd5382f){return _0x3c82d1(_0xd5382f);},'fdDNJ':_0x5aa915(0x1de),'gPvOp':_0x167efa['Nhfri']};_0x167efa[_0x5aa915(0x1f0)](it,_0x167efa[_0x5aa915(0x1eb)],()=>{const _0x4b22cb=_0x5aa915,_0xc2c1ac=_0x167efa['zkDXS'](getMockReq,{'originalUrl':_0x167efa[_0x4b22cb(0x1bb)]}),_0x512465={'folder':'/Users/jp/dev/coder'},_0x30a9fb='',_0x3eb97c=_0x1747c7[_0x4b22cb(0x1ea)](_0xc2c1ac,_0x512465,_0x30a9fb),_0x574c4a=_0x167efa[_0x4b22cb(0x1b7)];_0x167efa[_0x4b22cb(0x1cc)](expect,_0x3eb97c)[_0x4b22cb(0x1e8)](_0x574c4a);}),it(_0x167efa[_0x5aa915(0x1ce)],()=>{const _0x42e155=_0x5aa915,_0x24562a=_0x369033['LzPGg'](getMockReq,{'originalUrl':_0x369033['jIFMX']}),_0x19c5be={},_0x4bf895='',_0x3b6e5d=_0x1747c7[_0x42e155(0x1ea)](_0x24562a,_0x19c5be,_0x4bf895),_0x465131='./';_0x369033[_0x42e155(0x1d0)](expect,_0x3b6e5d)[_0x42e155(0x1e8)](_0x465131);}),it(_0x5aa915(0x1f6),()=>{const _0x416bfe=_0x5aa915;if(_0x369033['TCfEK'](_0x369033['qTDep'],_0x369033[_0x416bfe(0x1d3)])){const _0x495633={'QdNbV':'localhost:8080'};_0x369033[_0x416bfe(0x1c2)](_0xba9aee,_0xe5faa9[_0x416bfe(0x1c3)]+'\x20->\x20['+_0x5d1c08+':\x20'+_0x105522+']',()=>{const _0x2822b7=_0x416bfe,_0x31cde6=_0x2f1857({'originalUrl':_0x495633[_0x2822b7(0x1e9)],'headers':{'origin':_0x3100f0['origin'],[_0x4da3e5]:_0x317d63}});_0x24bcd4(_0x286587['authenticateOrigin'](_0x31cde6))[_0x2822b7(0x1e8)](_0x4757d9['expected']);});}else{const _0x1ea9ea=_0x369033[_0x416bfe(0x1df)](getMockReq,{'originalUrl':_0x369033[_0x416bfe(0x1c9)]}),_0x2bbdfa={},_0x1c72a4=_0x416bfe(0x1b0),_0x567761=_0x1747c7[_0x416bfe(0x1ea)](_0x1ea9ea,_0x2bbdfa,_0x1c72a4),_0x256588=_0x369033[_0x416bfe(0x1f1)];expect(_0x567761)[_0x416bfe(0x1e8)](_0x256588);}}),it(_0x167efa[_0x5aa915(0x1c7)],()=>{const _0x29c9cb=_0x5aa915,_0x4f9747=getMockReq({'originalUrl':_0x369033['jIFMX']}),_0x1fa83c={'folder':_0x29c9cb(0x1c8)},_0x929775=_0x369033[_0x29c9cb(0x1bf)],_0x323a0d=_0x1747c7[_0x29c9cb(0x1ea)](_0x4f9747,_0x1fa83c,_0x929775),_0x12dc46=_0x29c9cb(0x1ca);expect(_0x323a0d)[_0x29c9cb(0x1e8)](_0x12dc46);});});});