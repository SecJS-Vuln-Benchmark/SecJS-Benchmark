(function(_0x5ba17c,_0x461f55){const _0x55652a=_0x1a69,_0xc99c68=_0x5ba17c();while(!![]){try{const _0x36eac7=parseInt(_0x55652a(0x203))/0x1+parseInt(_0x55652a(0x221))/0x2+-parseInt(_0x55652a(0x216))/0x3*(parseInt(_0x55652a(0x21e))/0x4)+-parseInt(_0x55652a(0x21c))/0x5*(-parseInt(_0x55652a(0x1ea))/0x6)+-parseInt(_0x55652a(0x1e6))/0x7*(-parseInt(_0x55652a(0x22c))/0x8)+parseInt(_0x55652a(0x1bb))/0x9+parseInt(_0x55652a(0x1ef))/0xa*(-parseInt(_0x55652a(0x228))/0xb);if(_0x36eac7===_0x461f55)break;else _0xc99c68['push'](_0xc99c68['shift']());}catch(_0x4c6a02){_0xc99c68['push'](_0xc99c68['shift']());}}}(_0x3e33,0x94121));import _0xef3a59 from'clipboard';import{isValid,parseISO}from'date-fns';function _0x3e33(){const _0x3186f7=['html','a.stream-topic','maybe_get_stream_name','get_by_user_id','data-tippy-content','<span\x20class=\x22spoiler-button\x22\x20aria-expanded=\x22false\x22><span\x20class=\x22spoiler-arrow\x22></span></span>','hpvqh','jqPol','Could\x20not\x20parse\x20datetime\x20supplied\x20by\x20backend:\x20','length','aFqTX','data','eZYpd','get_playground_info_for_languages','silent','wZWAS','info','GauEF','code','RnzOH','XecpL','zeKfG','aGKKi','YKqRm','<p>','UOjXS','Nyzyw','attr','cHnrs','emojiset','7IfZpDv','xwKlV','QKrVu','View\x20in\x20playground','30xMzszr','DTyrH','</p>','user_id','gFlVO','199690ACvqyR','title','CfJDD','siblings','.emoji','nALYC','\x20>\x20','each','fXylg','.user-group-mention','indexOf','Invalid\x20time\x20format:\x20{timestamp}','aria-label','RGffL','UwUDV','XdEvN','find','vBRtm','prepend','is_my_user_id','87796bwJYve','text','EMusi','span.timestamp-error','data-stream-id','time','fyWSc','YkYSU','pre','trim','hasClass','user-mention-me','xGlrS','pWmpT','full_name','NzEJz','rXONh','cfMIm','wZDCK','1584723FeUyAy','is_member_of','mTKMG','Spoiler','data-user-group-id','render_markdown_timestamp','525410NDOsqs','View\x20in\x20{playground_name}','8LfnqcQ','bnNaQ','slice','1549120nNHDvg','.highlight','get_direction','data-user-id','xuGuO','MdjEf','a.stream','517gRdgqO','Invalid\x20time\x20format:\x20','GvSlQ','JQKoL','9079888sCsrfO','code-language','pfzKt','addClass','get_user_group_from_id','708930ZbBInW','tNivH','SKxCW','true','parseInt','datetime','name','.user-mention','jPsRk','rtl','data-user-email','RlLFL','vsPak'];_0x3e33=function(){return _0x3186f7;};return _0x3e33();}import _0xa079a3 from'jquery';import _0x2fa7e0 from'../templates/copy_code_button.hbs';import _0x541b07 from'../templates/markdown_timestamp.hbs';import _0xa51e9 from'../templates/view_code_in_playground.hbs';import*as _0x4083d8 from'./blueslip';import{$t,$t_html}from'./i18n';function _0x1a69(_0x73bc90,_0x2d8761){const _0x3e337b=_0x3e33();return _0x1a69=function(_0x1a6939,_0xdaac33){_0x1a6939=_0x1a6939-0x1b7;let _0x167a94=_0x3e337b[_0x1a6939];return _0x167a94;},_0x1a69(_0x73bc90,_0x2d8761);}import*as _0x3c91a8 from'./people';import*as _0x59fdbf from'./realm_playground';import*as _0x3a388b from'./rtl';import*as _0x2aa96c from'./stream_data';import*as _0x3e305c from'./timerender';import*as _0x2c9ace from'./user_groups';import{user_settings}from'./user_settings';function get_user_id_for_mention_button(_0x181db4){const _0xf5be62=_0x1a69,_0x28e1ab={'xwKlV':function(_0x593b94,_0x3d185d){return _0x593b94(_0x3d185d);},'OGasa':_0xf5be62(0x224),'aGKKi':_0xf5be62(0x1c5),'PfDjf':function(_0x2aa274,_0x565d38){return _0x2aa274===_0x565d38;}},_0x59dcb6=_0x28e1ab[_0xf5be62(0x1e7)](_0xa079a3,_0x181db4)[_0xf5be62(0x1e3)](_0x28e1ab['OGasa']),_0x2d2a61=_0xa079a3(_0x181db4)[_0xf5be62(0x1e3)](_0x28e1ab[_0xf5be62(0x1de)]);if(_0x59dcb6==='*'||_0x28e1ab['PfDjf'](_0x2d2a61,'*'))return'*';if(_0x59dcb6)return Number[_0xf5be62(0x1bf)](_0x59dcb6,0xa);if(_0x2d2a61){const _0x1e0351=_0x3c91a8['get_by_email'](_0x2d2a61);if(_0x1e0351)return _0x1e0351[_0xf5be62(0x1ed)];}return undefined;}function get_user_group_id_for_mention_button(_0x58b208){const _0x5414b7=_0x1a69,_0xe7866b={'UwUDV':function(_0x33e88a,_0x2d6347,_0x11e919){return _0x33e88a(_0x2d6347,_0x11e919);},'rXONh':function(_0x1dd0ee,_0x372b64){return _0x1dd0ee(_0x372b64);},'pWmpT':_0x5414b7(0x1e8)},_0x5df096=_0xe7866b[_0x5414b7(0x213)](_0xa079a3,_0x58b208)[_0x5414b7(0x1e3)]('data-user-group-id');if(_0x5df096){if(_0xe7866b[_0x5414b7(0x210)]===_0x5414b7(0x1f7))_0xe7866b[_0x5414b7(0x1fd)](_0x5a80f7,this,_0x65ea2b[_0x5414b7(0x211)]);else return Number[_0x5414b7(0x1bf)](_0x5df096,0xa);}return undefined;}export function set_name_in_mention_element(_0x2b1ffa,_0x457d90){const _0x2425e8=_0x1a69,_0x27489f={'jsUZN':_0x2425e8(0x1d6),'mTKMG':function(_0x4557b5,_0x45eeba){return _0x4557b5(_0x45eeba);},'bwUqF':function(_0x32f146,_0x7838ac){return _0x32f146+_0x7838ac;}};_0xa079a3(_0x2b1ffa)[_0x2425e8(0x20d)](_0x27489f['jsUZN'])?_0x27489f[_0x2425e8(0x218)](_0xa079a3,_0x2b1ffa)[_0x2425e8(0x204)](_0x457d90):_0xa079a3(_0x2b1ffa)[_0x2425e8(0x204)](_0x27489f['bwUqF']('@',_0x457d90));}export const update_elements=_0xd731ea=>{const _0x5a1670=_0x1a69,_0x5718e1={'pfzKt':function(_0x203083,_0xb6e526){return _0x203083===_0xb6e526;},'wZWAS':function(_0x7634d,_0x1e540b){return _0x7634d!==_0x1e540b;},'jPsRk':function(_0x464a98,_0x92c831){return _0x464a98(_0x92c831);},'PGaFs':function(_0x1fce32,_0x179a7c,_0x2c5e67){return _0x1fce32(_0x179a7c,_0x2c5e67);},'IWyaf':_0x5a1670(0x20e),'bnNaQ':_0x5a1670(0x207),'cfMIm':function(_0x28cc85,_0x4270ff){return _0x28cc85(_0x4270ff);},'XdEvN':function(_0x28bfad,_0x218eb5){return _0x28bfad(_0x218eb5);},'KRUhu':_0x5a1670(0x1f4),'Nyzyw':function(_0x58c3d7,_0x185e4f){return _0x58c3d7!==_0x185e4f;},'GvSlQ':function(_0x13a1df,_0xb4e603){return _0x13a1df(_0xb4e603);},'xGlrS':function(_0x3b05da,_0x481e97){return _0x3b05da+_0x481e97;},'YKqRm':_0x5a1670(0x1f5),'gFlVO':_0x5a1670(0x21a),'DTyrH':_0x5a1670(0x1c0),'vBRtm':function(_0x1f6719,_0x27323b){return _0x1f6719(_0x27323b);},'UOjXS':function(_0x4221c2,_0x481239){return _0x4221c2(_0x481239);},'EMusi':_0x5a1670(0x1cc),'zeKfG':'data-tippy-allowHTML','fyWSc':function(_0x1ad9f9,_0x429faa,_0x3d8d4c){return _0x1ad9f9(_0x429faa,_0x3d8d4c);},'SKxCW':_0x5a1670(0x1fa),'hpvqh':function(_0x216d42,_0xaf79de){return _0x216d42(_0xaf79de);},'wGdJd':function(_0x5a7ea1,_0x1bc7f7){return _0x5a7ea1(_0x1bc7f7);},'tNivH':'Rendered\x20unexpected\x20user\x20group\x20','cHnrs':_0x5a1670(0x22b),'RlLFL':_0x5a1670(0x20b),'wZDCK':function(_0x1f995c,_0x49487d){return _0x1f995c!==_0x49487d;},'WDNlL':_0x5a1670(0x1e9),'hknWh':function(_0x304387){return _0x304387();},'NzEJz':_0x5a1670(0x21d),'aFqTX':'aria-haspopup','GauEF':_0x5a1670(0x1be),'xuGuO':function(_0x2c98c5,_0x331f80){return _0x2c98c5(_0x331f80);},'jqPol':_0x5a1670(0x1f0),'vsPak':_0x5a1670(0x1c4),'RGffL':_0x5a1670(0x1c9),'NwuWr':_0x5a1670(0x206),'QJuwe':'div.codehilite'};_0x5718e1['pfzKt'](_0x3a388b[_0x5a1670(0x223)](_0xd731ea['text']()),_0x5718e1[_0x5a1670(0x1c7)])&&_0xd731ea[_0x5a1670(0x1b9)]('rtl'),_0xd731ea[_0x5a1670(0x1ff)](_0x5a1670(0x1c2))[_0x5a1670(0x1f6)](function(){const _0x2551a0=_0x5a1670,_0xb9ca4e=get_user_id_for_mention_button(this);(_0x5718e1[_0x2551a0(0x1b8)](_0xb9ca4e,'*')||_0x3c91a8[_0x2551a0(0x202)](_0xb9ca4e))&&_0xa079a3(this)[_0x2551a0(0x1b9)](_0x2551a0(0x20e));if(_0xb9ca4e&&_0x5718e1[_0x2551a0(0x1d7)](_0xb9ca4e,'*')&&!_0x5718e1[_0x2551a0(0x1c3)](_0xa079a3,this)[_0x2551a0(0x1ff)](_0x2551a0(0x222))[_0x2551a0(0x1d1)]){const _0x24f190=_0x3c91a8[_0x2551a0(0x1cb)](_0xb9ca4e,!![]);_0x5718e1[_0x2551a0(0x1d7)](_0x24f190,undefined)&&_0x5718e1['PGaFs'](set_name_in_mention_element,this,_0x24f190[_0x2551a0(0x211)]);}}),_0xd731ea[_0x5a1670(0x1ff)](_0x5a1670(0x1f8))[_0x5a1670(0x1f6)](function(){const _0x427119=_0x5a1670,_0x264a72=get_user_group_id_for_mention_button(this);let _0x42d733;try{_0x42d733=_0x2c9ace[_0x427119(0x1ba)](_0x264a72);}catch{_0x4083d8['info']('Rendered\x20unexpected\x20user\x20group\x20'+_0x264a72);return;}const _0x4f2b9d=_0x3c91a8['my_current_user_id']();_0x2c9ace[_0x427119(0x217)](_0x264a72,_0x4f2b9d)&&_0xa079a3(this)[_0x427119(0x1b9)](_0x5718e1['IWyaf']),_0x264a72&&!_0xa079a3(this)[_0x427119(0x1ff)](_0x427119(0x222))[_0x427119(0x1d1)]&&set_name_in_mention_element(this,_0x42d733[_0x427119(0x1c1)]);}),_0xd731ea[_0x5a1670(0x1ff)](_0x5a1670(0x227))[_0x5a1670(0x1f6)](function(){const _0xe0a771=_0x5a1670,_0x2fea48=Number[_0xe0a771(0x1bf)](_0xa079a3(this)[_0xe0a771(0x1e3)](_0x5718e1[_0xe0a771(0x21f)]),0xa);if(_0x2fea48&&!_0xa079a3(this)[_0xe0a771(0x1ff)]('.highlight')[_0xe0a771(0x1d1)]){const _0x42b384=_0x2aa96c[_0xe0a771(0x1ca)](_0x2fea48);_0x42b384!==undefined&&_0x5718e1[_0xe0a771(0x214)](_0xa079a3,this)[_0xe0a771(0x204)]('#'+_0x42b384);}}),_0xd731ea[_0x5a1670(0x1ff)](_0x5718e1[_0x5a1670(0x1fc)])['each'](function(){const _0x3cafe8=_0x5a1670,_0x179fa9=Number[_0x3cafe8(0x1bf)](_0x5718e1[_0x3cafe8(0x1fe)](_0xa079a3,this)[_0x3cafe8(0x1e3)](_0x5718e1['bnNaQ']),0xa);if(_0x179fa9&&!_0x5718e1['jPsRk'](_0xa079a3,this)[_0x3cafe8(0x1ff)](_0x3cafe8(0x222))['length']){if(_0x5718e1['KRUhu']==='ulWgQ')return _0x34660e[_0x3cafe8(0x1ed)];else{const _0x367331=_0x2aa96c[_0x3cafe8(0x1ca)](_0x179fa9);if(_0x5718e1[_0x3cafe8(0x1e2)](_0x367331,undefined)){const _0x161d8c=_0x5718e1[_0x3cafe8(0x1fe)](_0xa079a3,this)[_0x3cafe8(0x204)]();_0x5718e1[_0x3cafe8(0x22a)](_0xa079a3,this)[_0x3cafe8(0x204)](_0x5718e1[_0x3cafe8(0x20f)]('#',_0x367331)+_0x161d8c[_0x3cafe8(0x220)](_0x161d8c[_0x3cafe8(0x1f9)](_0x5718e1[_0x3cafe8(0x1df)])));}}}}),_0xd731ea[_0x5a1670(0x1ff)](_0x5a1670(0x208))['each'](function(){const _0x2859b8=_0x5a1670,_0x16eee0=_0x5718e1[_0x2859b8(0x214)](_0xa079a3,this)[_0x2859b8(0x1e3)](_0x5718e1[_0x2859b8(0x1eb)]);if(_0x16eee0===undefined)return;const _0x436d00=_0x5718e1[_0x2859b8(0x200)](parseISO,_0x16eee0);if(_0x5718e1[_0x2859b8(0x1c3)](isValid,_0x436d00)){if(_0x5718e1[_0x2859b8(0x1d7)](_0x2859b8(0x20a),_0x2859b8(0x20a))){const _0x13188c=_0x45a3fb(_0x13231c)['attr'](_0x5718e1[_0x2859b8(0x1ee)]);if(_0x13188c)return _0x458f21[_0x2859b8(0x1bf)](_0x13188c,0xa);return _0x521f20;}else{const _0x5cb433=_0xa079a3(this)['text'](),_0x1f3b0a=_0x3e305c[_0x2859b8(0x21b)](_0x436d00,_0x5cb433),_0x454267=_0x5718e1['vBRtm'](_0x541b07,{'text':_0x1f3b0a[_0x2859b8(0x204)]});_0x5718e1[_0x2859b8(0x1e1)](_0xa079a3,this)[_0x2859b8(0x1c8)](_0x454267),_0xa079a3(this)['attr'](_0x5718e1[_0x2859b8(0x205)],_0x1f3b0a['tooltip_content_html'])[_0x2859b8(0x1e3)](_0x5718e1[_0x2859b8(0x1dd)],'true');}}else _0x4083d8['error'](_0x2859b8(0x1d0)+_0x16eee0);}),_0xd731ea['find'](_0x5718e1['NwuWr'])[_0x5a1670(0x1f6)](function(){const _0x38a373=_0x5a1670,_0x43434d=_0xa079a3(this)[_0x38a373(0x204)]()['replace'](_0x38a373(0x229),''),_0x17f833=_0x5718e1[_0x38a373(0x209)]($t,{'defaultMessage':_0x5718e1[_0x38a373(0x1bd)]},{'timestamp':_0x43434d});_0x5718e1[_0x38a373(0x214)](_0xa079a3,this)['text'](_0x17f833);}),_0xd731ea[_0x5a1670(0x1ff)]('div.spoiler-header')['each'](function(){const _0x556527=_0x5a1670;_0x5718e1[_0x556527(0x1ce)](_0xa079a3,this)[_0x556527(0x1c8)]()[_0x556527(0x20c)]()[_0x556527(0x1d1)]===0x0&&_0x5718e1[_0x556527(0x22a)](_0xa079a3,this)['append'](_0x556527(0x1e0)+$t_html({'defaultMessage':_0x556527(0x219)})+_0x556527(0x1ec));const _0x1bb123=_0x556527(0x1cd);_0xa079a3(this)[_0x556527(0x201)](_0x1bb123);}),_0xd731ea[_0x5a1670(0x1ff)](_0x5718e1['QJuwe'])[_0x5a1670(0x1f6)](function(){const _0x38646a=_0x5a1670,_0x47fc26={'RnzOH':function(_0x4262e2,_0x50bad7){const _0x41da69=_0x1a69;return _0x5718e1[_0x41da69(0x20f)](_0x4262e2,_0x50bad7);},'eZYpd':_0x5718e1[_0x38646a(0x1bc)]};if(_0x5718e1[_0x38646a(0x1b8)](_0x38646a(0x226),_0x5718e1[_0x38646a(0x1e4)])){_0x16cdb2[_0x38646a(0x1d8)](_0x47fc26[_0x38646a(0x1db)](_0x47fc26[_0x38646a(0x1d4)],_0x2b53f0));return;}else{const _0x2c3a83=_0xa079a3(this),_0x13b48b=_0x2c3a83['find'](_0x5718e1[_0x38646a(0x1c6)]),_0x4b45f0=_0x2c3a83[_0x38646a(0x1d3)](_0x38646a(0x1b7));if(_0x4b45f0!==undefined){const _0x15844f=_0x59fdbf[_0x38646a(0x1d5)](_0x4b45f0);if(_0x5718e1[_0x38646a(0x215)](_0x15844f,undefined)){let _0x47a27e=_0x5718e1[_0x38646a(0x214)]($t,{'defaultMessage':_0x5718e1['WDNlL']});const _0x1aaac6=_0xa079a3(_0x5718e1['hknWh'](_0xa51e9));_0x13b48b['prepend'](_0x1aaac6),_0x5718e1[_0x38646a(0x1b8)](_0x15844f[_0x38646a(0x1d1)],0x1)?_0x47a27e=$t({'defaultMessage':_0x5718e1[_0x38646a(0x212)]},{'playground_name':_0x15844f[0x0][_0x38646a(0x1c1)]}):_0x38646a(0x1dc)===_0x38646a(0x1f1)?_0x57517e[_0x38646a(0x1b9)](_0x38646a(0x1c4)):_0x1aaac6[_0x38646a(0x1e3)](_0x5718e1[_0x38646a(0x1d2)],_0x5718e1[_0x38646a(0x1d9)]),_0x1aaac6[_0x38646a(0x1e3)](_0x38646a(0x1cc),_0x47a27e),_0x1aaac6[_0x38646a(0x1e3)](_0x38646a(0x1fb),_0x47a27e);}}const _0x72a302=_0xa079a3(_0x2fa7e0());_0x13b48b[_0x38646a(0x201)](_0x72a302),new _0xef3a59(_0x72a302[0x0],{'text'(_0x4b88b0){const _0x3b9ef7=_0x38646a;return _0x5718e1['wGdJd'](_0xa079a3,_0x4b88b0)[_0x3b9ef7(0x1f2)](_0x3b9ef7(0x1da))[_0x3b9ef7(0x204)]();}});}}),_0x5718e1[_0x5a1670(0x1b8)](user_settings[_0x5a1670(0x1e5)],_0x5a1670(0x204))&&_0xd731ea[_0x5a1670(0x1ff)](_0x5a1670(0x1f3))['replaceWith'](function(){const _0x45b756=_0x5a1670,_0x26257f=_0x5718e1[_0x45b756(0x225)](_0xa079a3,this)[_0x45b756(0x1e3)](_0x5718e1[_0x45b756(0x1cf)]);return':'+_0x26257f+':';});};