(function(_0x551e2b,_0xc5b9fa){const _0x2a7ae0=_0x40d2,_0x4682b6=_0x551e2b();while(!![]){try{const _0x210d6c=-parseInt(_0x2a7ae0(0x22f))/0x1+-parseInt(_0x2a7ae0(0x225))/0x2*(parseInt(_0x2a7ae0(0x1f2))/0x3)+-parseInt(_0x2a7ae0(0x227))/0x4+-parseInt(_0x2a7ae0(0x23d))/0x5+parseInt(_0x2a7ae0(0x206))/0x6*(parseInt(_0x2a7ae0(0x1e9))/0x7)+-parseInt(_0x2a7ae0(0x235))/0x8*(-parseInt(_0x2a7ae0(0x1f5))/0x9)+parseInt(_0x2a7ae0(0x221))/0xa*(parseInt(_0x2a7ae0(0x201))/0xb);if(_0x210d6c===_0xc5b9fa)break;else _0x4682b6['push'](_0x4682b6['shift']());}catch(_0x1f965d){_0x4682b6['push'](_0x4682b6['shift']());}}}(_0x3985,0xcae75));import _0x4cd96c from'clipboard';import _0x4cc917 from'jquery';import _0x22a04a from'../templates/confirm_dialog/confirm_delete_topic.hbs';import _0x14bda7 from'../templates/topic_sidebar_actions.hbs';import*as _0x1bfba8 from'./confirm_dialog';import{$t_html}from'./i18n';import*as _0x1840e8 from'./message_edit';import*as _0x245999 from'./popover_menus';import*as _0x33a3ea from'./popover_menus_data';function _0x40d2(_0x4048ce,_0xfab4b7){const _0x39855d=_0x3985();return _0x40d2=function(_0x40d220,_0xe74c89){_0x40d220=_0x40d220-0x1e2;let _0xc313a9=_0x39855d[_0x40d220];return _0xc313a9;},_0x40d2(_0x4048ce,_0xfab4b7);}import*as _0x3721a8 from'./starred_messages_ui';import{realm}from'./state_data';import*as _0xe3910 from'./stream_popover';import*as _0x2d31c4 from'./ui_util';function _0x3985(){const _0x4a7b0c=['/help/delete-a-topic','vObSd','parse_html','selected-tab','JuXUn','1521090zvIDUD','one','context','ONrVS','62EgKIYd','currentTarget','5164480bywpvS','contains','.tab-option','PZCUr','.sidebar-popover-mark-topic-unread','.sidebar-popover-remove-mute','get_topic_popover_content_context','elem_to_stream_id','385472vyIfKL','find','register_popover_menu','HJqTZ','qvaIH','hOPTI','11624ggiECE','left_sidebar_tippy_options','.sidebar-popover-unstar-all-in-topic','hide_current_popover_if_visible','.sidebar-popover-mark-topic-read','XxESX','data-topic-name','.sidebar-popover-delete-topic-messages','7062595rPBKbT','expectOne','auxvy','.sidebar-popover-rename-topic-messages','with_first_message_id','#stream_filters\x20.topic-sidebar-menu-icon,\x20.inbox-row\x20.inbox-topic-menu','NzELt','.narrow-filter','9317JZrHjv','QwOnP','click','.sidebar-popover-mute-topic','lWkFc','topics_menu','parseInt','.sidebar-popover-unmute-topic','popper','18210mtfukI','attr','OwGQg','1548ozlUmt','cPTsg','wsQmT','data-visibility-policy','HgxGB','KTleX','popover_instances','ZspyD','Delete\x20topic','.topic-name','prop','success','231SOJOGs','.sidebar-popover-copy-link-to-topic','jTqOc','LQNzp','delete_topic','2994tuVlhi','hide_left_sidebar_menu_icon','.topic-sidebar-menu-icon','BkzMu','MIKMO','mark_topic_as_read','.sidebar-popover-toggle-resolved','set_user_topic_visibility_policy','all_visibility_policies','INHERIT','YjCwM','MUTED','dnanL','jqjLp','toggle_resolve_topic','show_left_sidebar_menu_icon','ijeDu','closest','setContent','build_move_topic_to_stream_popover','reference','NAVBX'];_0x3985=function(){return _0x4a7b0c;};return _0x3985();}import*as _0x4eb96a from'./unread_ops';import*as _0x12924b from'./user_topics';export function initialize(){const _0x20fd87=_0x40d2,_0x8266bf={'ijeDu':_0x20fd87(0x23b),'HgxGB':_0x20fd87(0x208),'ONrVS':_0x20fd87(0x1fe),'LQNzp':function(_0x2f7072,_0x48b2bf){return _0x2f7072!==_0x48b2bf;},'lWkFc':_0x20fd87(0x229),'JuXUn':function(_0x1cfa27,_0x4d3161){return _0x1cfa27(_0x4d3161);},'OwGQg':_0x20fd87(0x1f8),'KTleX':_0x20fd87(0x1fd),'cEhHr':_0x20fd87(0x21c),'jTqOc':function(_0x1a24b5,_0x86e5ab){return _0x1a24b5(_0x86e5ab);},'ZspyD':'VZJwr','cPTsg':'hIcrS','qvaIH':_0x20fd87(0x1eb),'MIKMO':_0x20fd87(0x22c),'NAVBX':_0x20fd87(0x237),'QwOnP':_0x20fd87(0x22b),'PZCUr':_0x20fd87(0x23c),'jqjLp':_0x20fd87(0x20c),'XxESX':'.sidebar-popover-move-topic-messages','YjCwM':_0x20fd87(0x1e6)};_0x245999[_0x20fd87(0x231)](_0x8266bf[_0x20fd87(0x210)],{..._0x245999[_0x20fd87(0x236)],'onShow'(_0x1e8ad0){const _0x4afd1b=_0x20fd87;_0x245999[_0x4afd1b(0x1fb)]['topics_menu']=_0x1e8ad0,_0x2d31c4[_0x4afd1b(0x215)](_0x1e8ad0[_0x4afd1b(0x21a)]),_0x245999['on_show_prep'](_0x1e8ad0);let _0x29c003,_0x51f612,_0x22b4e5;if(_0x1e8ad0[_0x4afd1b(0x21a)]['classList'][_0x4afd1b(0x228)]('inbox-topic-menu')){const _0x15eddf=_0x4cc917(_0x1e8ad0['reference']);_0x29c003=Number['parseInt'](_0x15eddf[_0x4afd1b(0x1f3)]('data-stream-id'),0xa),_0x51f612=_0x15eddf['attr'](_0x8266bf['ijeDu']),_0x22b4e5=new URL(_0x15eddf[_0x4afd1b(0x1f3)]('data-topic-url'),realm['realm_uri']);}else{const _0x50f825=_0x4cc917(_0x1e8ad0[_0x4afd1b(0x21a)])['closest'](_0x8266bf[_0x4afd1b(0x1f9)])[_0x4afd1b(0x1e2)](),_0x277ca3=_0x50f825[_0x4afd1b(0x217)](_0x4afd1b(0x1e8))[_0x4afd1b(0x1e2)]();_0x51f612=_0x50f825[_0x4afd1b(0x217)]('li')[_0x4afd1b(0x1e2)]()['attr'](_0x8266bf[_0x4afd1b(0x216)]),_0x22b4e5=_0x50f825[_0x4afd1b(0x217)]('li')[_0x4afd1b(0x230)](_0x8266bf[_0x4afd1b(0x224)])[_0x4afd1b(0x1e2)]()[_0x4afd1b(0x1ff)]('href'),_0x29c003=_0xe3910[_0x4afd1b(0x22e)](_0x277ca3);}_0x1e8ad0[_0x4afd1b(0x223)]=_0x33a3ea[_0x4afd1b(0x22d)]({'stream_id':_0x29c003,'topic_name':_0x51f612,'url':_0x22b4e5}),_0x1e8ad0[_0x4afd1b(0x218)](_0x2d31c4[_0x4afd1b(0x21e)](_0x14bda7(_0x1e8ad0['context'])));},'onMount'(_0xbe4fb1){const _0x26e735=_0x20fd87,_0x97a60c={'HJqTZ':function(_0x1f6e06,_0x521f26){const _0x46497b=_0x40d2;return _0x8266bf[_0x46497b(0x220)](_0x1f6e06,_0x521f26);},'vObSd':_0x8266bf[_0x26e735(0x1fa)],'dnanL':_0x8266bf['cEhHr'],'wsQmT':function(_0x441423,_0x3e2127){return _0x441423===_0x3e2127;},'qJubz':'NzELt','hOPTI':function(_0x4e3cbe,_0x240d78){return _0x4e3cbe(_0x240d78);},'BkzMu':function(_0x1fbea4,_0x5a7389){const _0x3dc1d1=_0x26e735;return _0x8266bf[_0x3dc1d1(0x203)](_0x1fbea4,_0x5a7389);}};if('VZJwr'===_0x8266bf[_0x26e735(0x1fc)]){const _0x2bff0a=_0x4cc917(_0xbe4fb1[_0x26e735(0x1f1)]),{stream_id:_0x22650b,topic_name:_0x5e26ae}=_0xbe4fb1[_0x26e735(0x223)];if(!_0x22650b){if(_0x8266bf[_0x26e735(0x1f6)]!=='hIcrS')_0x5a049e['set_user_topic_visibility_policy'](_0x1ce674,_0x2807ce,_0x450e12[_0x26e735(0x20e)][_0x26e735(0x211)]),_0x37bb81[_0x26e735(0x238)](_0x3308a3);else{_0x245999[_0x26e735(0x238)](_0xbe4fb1);return;}}_0x2bff0a['on'](_0x8266bf[_0x26e735(0x233)],_0x26e735(0x229),_0x47df8a=>{const _0x5e945e=_0x26e735;if(_0x8266bf[_0x5e945e(0x204)](_0x5e945e(0x1e3),_0x5e945e(0x1e3))){const _0x524d7d=_0x97a60c[_0x5e945e(0x232)](_0x2aebbb,{'topic_name':_0x4f50de});_0x5238d6['launch']({'html_heading':_0x212453({'defaultMessage':_0x97a60c[_0x5e945e(0x21d)]}),'help_link':_0x97a60c[_0x5e945e(0x212)],'html_body':_0x524d7d,'on_click'(){const _0x5ca66a=_0x5e945e;_0x15d3dd[_0x5ca66a(0x205)](_0x399ff2,_0x1b6f23);}}),_0xca5634[_0x5e945e(0x238)](_0x25f1fe);}else{_0x4cc917(_0x8266bf[_0x5e945e(0x1ed)])['removeClass'](_0x5e945e(0x21f)),_0x4cc917(_0x47df8a[_0x5e945e(0x226)])['addClass'](_0x5e945e(0x21f));const _0x370194=_0x8266bf['JuXUn'](_0x4cc917,_0x47df8a[_0x5e945e(0x226)])[_0x5e945e(0x1f3)](_0x8266bf[_0x5e945e(0x1f4)]);_0x12924b[_0x5e945e(0x20d)](_0x22650b,_0x5e26ae,_0x370194);}}),_0x2bff0a[_0x26e735(0x222)](_0x26e735(0x1eb),_0x26e735(0x1f0),()=>{const _0xb86832=_0x26e735;_0x97a60c[_0xb86832(0x1f7)](_0x97a60c['qJubz'],_0xb86832(0x1e7))?(_0x12924b[_0xb86832(0x20d)](_0x22650b,_0x5e26ae,_0x12924b[_0xb86832(0x20e)]['UNMUTED']),_0x245999[_0xb86832(0x238)](_0xbe4fb1)):(_0x1b06a9[_0xb86832(0x1e5)](_0x1a229b,_0x599999,_0xf283a0=>{const _0x3f8dd5=_0xb86832;_0x47e878[_0x3f8dd5(0x214)](_0xf283a0,_0x59d8a7,!![]);}),_0x5b1780[_0xb86832(0x238)](_0x53942f));}),_0x2bff0a[_0x26e735(0x222)](_0x8266bf[_0x26e735(0x233)],'.sidebar-popover-remove-unmute',()=>{const _0x3a2163=_0x26e735;_0x12924b[_0x3a2163(0x20d)](_0x22650b,_0x5e26ae,_0x12924b[_0x3a2163(0x20e)][_0x3a2163(0x20f)]),_0x245999[_0x3a2163(0x238)](_0xbe4fb1);}),_0x2bff0a[_0x26e735(0x222)](_0x26e735(0x1eb),_0x26e735(0x1ec),()=>{const _0x44c055=_0x26e735;_0x12924b[_0x44c055(0x20d)](_0x22650b,_0x5e26ae,_0x12924b[_0x44c055(0x20e)]['MUTED']),_0x245999['hide_current_popover_if_visible'](_0xbe4fb1);}),_0x2bff0a[_0x26e735(0x222)](_0x26e735(0x1eb),_0x8266bf[_0x26e735(0x20a)],()=>{const _0x5b7285=_0x26e735;_0x12924b[_0x5b7285(0x20d)](_0x22650b,_0x5e26ae,_0x12924b[_0x5b7285(0x20e)][_0x5b7285(0x20f)]),_0x245999[_0x5b7285(0x238)](_0xbe4fb1);}),_0x2bff0a['one'](_0x8266bf[_0x26e735(0x233)],_0x8266bf[_0x26e735(0x21b)],()=>{const _0x2dfa2=_0x26e735;_0x3721a8['confirm_unstar_all_messages_in_topic'](Number[_0x2dfa2(0x1ef)](_0x22650b,0xa),_0x5e26ae),_0x245999[_0x2dfa2(0x238)](_0xbe4fb1);}),_0x2bff0a['one'](_0x8266bf[_0x26e735(0x233)],_0x26e735(0x239),()=>{const _0x4a35b1=_0x26e735;_0x4eb96a[_0x4a35b1(0x20b)](_0x22650b,_0x5e26ae),_0x245999['hide_current_popover_if_visible'](_0xbe4fb1);}),_0x2bff0a[_0x26e735(0x222)]('click',_0x8266bf[_0x26e735(0x1ea)],()=>{const _0x2d78b6=_0x26e735;_0x4eb96a['mark_topic_as_unread'](_0x22650b,_0x5e26ae),_0x245999[_0x2d78b6(0x238)](_0xbe4fb1);}),_0x2bff0a['one'](_0x8266bf[_0x26e735(0x233)],_0x8266bf[_0x26e735(0x22a)],()=>{const _0x3569d5=_0x26e735,_0x131da6=_0x97a60c[_0x3569d5(0x234)](_0x22a04a,{'topic_name':_0x5e26ae});_0x1bfba8['launch']({'html_heading':_0x97a60c[_0x3569d5(0x209)]($t_html,{'defaultMessage':_0x97a60c[_0x3569d5(0x21d)]}),'help_link':_0x97a60c[_0x3569d5(0x212)],'html_body':_0x131da6,'on_click'(){const _0x663f78=_0x3569d5;_0x1840e8[_0x663f78(0x205)](_0x22650b,_0x5e26ae);}}),_0x245999['hide_current_popover_if_visible'](_0xbe4fb1);}),_0x2bff0a['one'](_0x26e735(0x1eb),_0x8266bf[_0x26e735(0x213)],()=>{const _0x2a2348=_0x26e735;_0x1840e8[_0x2a2348(0x1e5)](_0x22650b,_0x5e26ae,_0x52e70c=>{_0x1840e8['toggle_resolve_topic'](_0x52e70c,_0x5e26ae,!![]);}),_0x245999[_0x2a2348(0x238)](_0xbe4fb1);}),_0x2bff0a[_0x26e735(0x222)](_0x26e735(0x1eb),_0x8266bf[_0x26e735(0x23a)],()=>{const _0x1c6064=_0x26e735;_0xe3910[_0x1c6064(0x219)](_0x22650b,_0x5e26ae,![]),_0x245999[_0x1c6064(0x238)](_0xbe4fb1);}),_0x2bff0a[_0x26e735(0x222)](_0x26e735(0x1eb),_0x26e735(0x1e4),()=>{const _0x122bb5=_0x26e735;_0xe3910[_0x122bb5(0x219)](_0x22650b,_0x5e26ae,!![]),_0x245999['hide_current_popover_if_visible'](_0xbe4fb1);}),new _0x4cd96c(_0x2bff0a['find'](_0x26e735(0x202))[0x0])['on'](_0x26e735(0x200),()=>{const _0x7db703=_0x26e735;_0x245999[_0x7db703(0x238)](_0xbe4fb1);});}else{_0x2011b9[_0x26e735(0x238)](_0x14e079);return;}},'onHidden'(_0x13a620){const _0x45b000=_0x20fd87;'bSQhd'==='bSQhd'?(_0x13a620['destroy'](),_0x245999[_0x45b000(0x1fb)][_0x45b000(0x1ee)]=undefined,_0x2d31c4[_0x45b000(0x207)]()):_0x4a73f9[_0x45b000(0x205)](_0x10f44f,_0x4051f2);}});}