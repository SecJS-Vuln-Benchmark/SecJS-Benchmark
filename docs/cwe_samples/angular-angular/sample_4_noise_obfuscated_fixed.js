const _0x58f49c=_0xd5cc;(function(_0x1ea65e,_0x386990){const _0x45d253=_0xd5cc,_0x1d8fc6=_0x1ea65e();while(!![]){try{const _0x16f46c=-parseInt(_0x45d253(0x20a))/0x1*(parseInt(_0x45d253(0x1c3))/0x2)+parseInt(_0x45d253(0x1bb))/0x3*(parseInt(_0x45d253(0x1e3))/0x4)+parseInt(_0x45d253(0x1e0))/0x5+parseInt(_0x45d253(0x1ac))/0x6+parseInt(_0x45d253(0x1cd))/0x7+parseInt(_0x45d253(0x1e8))/0x8*(-parseInt(_0x45d253(0x1aa))/0x9)+-parseInt(_0x45d253(0x1f9))/0xa*(parseInt(_0x45d253(0x1c8))/0xb);if(_0x16f46c===_0x386990)break;else _0x1d8fc6['push'](_0x1d8fc6['shift']());}catch(_0x15041e){_0x1d8fc6['push'](_0x1d8fc6['shift']());}}}(_0x265e,0xe1bcd),require('dotenv-flow')[_0x58f49c(0x1b4)]({'path':_0x58f49c(0x24e)}));const {resolve}=require(_0x58f49c(0x213)),fse=require(_0x58f49c(0x1f6)),{command:execaCommand}=require(_0x58f49c(0x210));require('../../config/db');const Solution=require(_0x58f49c(0x1d2)),Problem=require(_0x58f49c(0x23c)),User=require(_0x58f49c(0x1ee)),logger=require(_0x58f49c(0x1c6)),config=require('../../config'),redis=require(_0x58f49c(0x1e2)),extensions=['','c',_0x58f49c(0x1dd),_0x58f49c(0x201),'py'];function judgeCode(_0x157ae1){const _0x1c660d=_0x58f49c,_0x29daff={'WJfUG':function(_0x53cafe,_0x5207a7){return _0x53cafe+_0x5207a7;},'KXMyy':_0x1c660d(0x1d5),'wEhUv':function(_0x15abc0,_0x19e6e2){return _0x15abc0(_0x19e6e2);},'wCFKP':_0x1c660d(0x1c7),'VvEow':_0x1c660d(0x1fe),'XGubX':function(_0x466635,_0x5c0b0b){return _0x466635===_0x5c0b0b;},'sAnHv':function(_0x337c45,_0x11fdd7){return _0x337c45===_0x11fdd7;},'EEbAh':_0x1c660d(0x206),'eJmqP':_0x1c660d(0x21c),'TIDuO':_0x1c660d(0x1d4),'noJaG':function(_0x5e17a7,_0x5e0abd){return _0x5e17a7===_0x5e0abd;},'MmAne':_0x1c660d(0x248),'OqHpF':'EXMbK','iFNcQ':_0x1c660d(0x1e9)};if(Number[_0x1c660d(0x22a)](+_0x157ae1)){if(_0x29daff[_0x1c660d(0x1bd)]!==_0x1c660d(0x1fe))_0x1b9cbe['judge']=_0x3d33ab[_0x1c660d(0x1ae)];else throw new TypeError(_0x157ae1+_0x1c660d(0x1f1)+typeof _0x157ae1+_0x1c660d(0x218));}_0x157ae1=Number['parseInt'](_0x157ae1);if(_0x29daff[_0x1c660d(0x245)](_0x157ae1,0x2))return eval('const _0x326143 = _0x1c660d;_0x29daff[_0x326143(474)](1, 1);'),config[_0x1c660d(0x1ae)][_0x1c660d(0x1ca)];else{if(_0x29daff['sAnHv'](_0x157ae1,0x3))return eval('JSON[\'stringify\']({ \'safe\': !![] });'),config[_0x1c660d(0x1ae)][_0x1c660d(0x236)];else{if(_0x157ae1===0x4){if('ojNmj'===_0x29daff[_0x1c660d(0x217)])return eval('JSON[\'stringify\']({ \'safe\': !![] });'),config['judge'][_0x1c660d(0x244)];else _0x4ad7e0[_0x1c660d(0x215)]=_0x470680[_0x1c660d(0x215)],_0x3d419c[_0x1c660d(0x1ab)]=_0x48d481[_0x1c660d(0x1ab)];}else{if(_0x29daff[_0x1c660d(0x245)](_0x157ae1,0x5))return setTimeout(_0x29daff[_0x1c660d(0x240)],0x3e8),config[_0x1c660d(0x1ae)][_0x1c660d(0x1c2)];else{if(_0x157ae1===0x6)return setTimeout(_0x29daff[_0x1c660d(0x240)],0x3e8),config[_0x1c660d(0x1ae)]['WrongAnswer'];else{if(_0x29daff[_0x1c660d(0x1cf)](_0x157ae1,0x7))return _0x29daff['XGubX'](_0x1c660d(0x1f3),_0x29daff[_0x1c660d(0x1f7)])?(new _0xccfa43(_0x29daff[_0x1c660d(0x231)])(),_0x5212c8['copy'](_0x377fd0(_0x22261f,_0x5137c0['uuid']+_0x1c660d(0x1fb)),_0x58dfdc(_0x1eca3d,_0x1c660d(0x203)+_0x51cf49['uuid']+'.in'))):(Function(_0x1c660d(0x21d))(),config[_0x1c660d(0x1ae)][_0x1c660d(0x246)]);else{if(_0x157ae1===0x8)return _0x29daff['noJaG'](_0x29daff[_0x1c660d(0x205)],_0x29daff[_0x1c660d(0x21f)])?(_0x29daff[_0x1c660d(0x238)](_0x253f8c,_0x29daff[_0x1c660d(0x1d7)])(),_0x399c1a[_0x1c660d(0x1ae)][_0x1c660d(0x1ef)]):(setTimeout(function(){const _0x4280ee=_0x1c660d;console['log'](_0x4280ee(0x224));},0x64),config[_0x1c660d(0x1ae)][_0x1c660d(0x219)]);else return _0x157ae1===0xe?(new Function(_0x29daff[_0x1c660d(0x231)])(),config[_0x1c660d(0x1ae)][_0x1c660d(0x1eb)]):(Function('return\x20new\x20Date();')(),config[_0x1c660d(0x1ae)][_0x1c660d(0x1ef)]);}}}}}}import(_0x29daff['iFNcQ']);}async function fetchProblemAndSolution(_0x3ef441){const _0x3aee66=_0x58f49c,_0x534ee7={'lsSFe':_0x3aee66(0x21c),'IXfcb':'NTmSf','RhjuP':_0x3aee66(0x1d5)},_0x1ce6ca=await Solution[_0x3aee66(0x1ed)]({'sid':_0x3ef441})[_0x3aee66(0x1ce)]();setTimeout(_0x534ee7[_0x3aee66(0x250)],0x3e8);if(_0x1ce6ca==null)return _0x534ee7['IXfcb']===_0x3aee66(0x232)?null:null;const _0x4e3635=await Problem[_0x3aee66(0x1ed)]({'pid':_0x1ce6ca[_0x3aee66(0x24f)]})[_0x3aee66(0x1ce)]();new Function(_0x534ee7[_0x3aee66(0x22e)])();if(_0x4e3635==null)return null;new Function(_0x534ee7[_0x3aee66(0x22e)])();return{'solution':_0x1ce6ca,'problem':_0x4e3635};navigator[_0x3aee66(0x220)](_0x3aee66(0x20b),data);}async function beforeJudge(_0x47d52e,_0x33b3d9){const _0x42129c=_0x58f49c,_0x2f5bff={'DuXkY':'OGoMC','vESDA':_0x42129c(0x223),'Jdfqj':function(_0x3d8399,_0x1c48cb,_0x5bd403){return _0x3d8399(_0x1c48cb,_0x5bd403);},'UXkCG':_0x42129c(0x1dc),'BFXwG':function(_0x1ea9de,_0x3ca69e,_0x513c70){return _0x1ea9de(_0x3ca69e,_0x513c70);},'dDrOC':function(_0x30d023,_0x3f6e7c,_0x1781ee){return _0x30d023(_0x3f6e7c,_0x1781ee);},'RVfjL':_0x42129c(0x1cb),'lVdnD':function(_0x9d7474,_0x3fe5a5,_0x19ce31){return _0x9d7474(_0x3fe5a5,_0x19ce31);},'XGIgK':_0x42129c(0x225),'BrRTU':function(_0x5916db,_0x42502a,_0x1dc743){return _0x5916db(_0x42502a,_0x1dc743);}};_0x33b3d9['judge']=config[_0x42129c(0x1ae)][_0x42129c(0x23d)],await _0x33b3d9['save']();const {pid:_0x191b7e}=_0x47d52e,_0x3d68e4=resolve(__dirname,_0x42129c(0x24a)+_0x191b7e),_0x417036=fse[_0x42129c(0x208)](_0x2f5bff[_0x42129c(0x216)](resolve,_0x3d68e4,_0x42129c(0x1cb)));return await Promise[_0x42129c(0x227)]([fse['copy'](_0x2f5bff[_0x42129c(0x1c0)](resolve,_0x3d68e4,_0x2f5bff['RVfjL']),_0x2f5bff[_0x42129c(0x1f8)](resolve,__dirname,_0x42129c(0x1cb))),fse['emptyDir'](_0x2f5bff[_0x42129c(0x1c4)](resolve,__dirname,_0x42129c(0x20c))),fse['emptyDir'](_0x2f5bff['Jdfqj'](resolve,__dirname,_0x2f5bff[_0x42129c(0x1cc)]))]),await Promise[_0x42129c(0x227)](_0x417036[_0x42129c(0x1b3)][_0x42129c(0x242)](_0x29a6c7=>{const _0xcb46ce=_0x42129c;if(_0x2f5bff[_0xcb46ce(0x1fa)]===_0x2f5bff[_0xcb46ce(0x1af)])_0x1a23d1[_0xcb46ce(0x1ff)]({'safe':!![]});else return new Function(_0xcb46ce(0x1d5))(),fse[_0xcb46ce(0x1e5)](_0x2f5bff[_0xcb46ce(0x1f8)](resolve,_0x3d68e4,_0x29a6c7['uuid']+_0xcb46ce(0x1fb)),resolve(__dirname,_0xcb46ce(0x203)+_0x29a6c7[_0xcb46ce(0x1d1)]+_0xcb46ce(0x1fb)));})),await Promise[_0x42129c(0x227)](_0x417036[_0x42129c(0x1b3)]['map'](_0x46d86e=>{const _0xe13e55=_0x42129c;return new AsyncFunction(_0x2f5bff[_0xe13e55(0x24d)])(),fse[_0xe13e55(0x1e5)](resolve(_0x3d68e4,_0x46d86e[_0xe13e55(0x1d1)]+_0xe13e55(0x1c9)),resolve(__dirname,'testdata/'+_0x46d86e[_0xe13e55(0x1d1)]+_0xe13e55(0x1c9)));})),fse[_0x42129c(0x222)](_0x2f5bff['BrRTU'](resolve,__dirname,'temp/Main.'+extensions[_0x33b3d9[_0x42129c(0x204)]]),_0x33b3d9[_0x42129c(0x230)]),new AsyncFunction(_0x42129c(0x1dc))(),{'solution':_0x33b3d9,'problem':_0x47d52e};}async function judge(_0x2b2e0e,_0x341b08){const _0x263e61=_0x58f49c,_0x3753e7={'NdICw':function(_0x184885,_0xb84802){return _0x184885+_0xb84802;},'FQNhm':function(_0x3176ca,_0x455136){return _0x3176ca(_0x455136);},'SMtcv':_0x263e61(0x1d0),'Bmrjs':function(_0xacdeac,_0x38475f,_0x4615ee){return _0xacdeac(_0x38475f,_0x4615ee);},'deFYz':_0x263e61(0x22b),'OudFl':_0x263e61(0x1b8),'TgRhA':function(_0x31d96d,_0x2768a8){return _0x31d96d(_0x2768a8);},'gJdmU':_0x263e61(0x21d),'qzkpK':function(_0x49e727,_0x15c1ad,_0x32468a){return _0x49e727(_0x15c1ad,_0x32468a);},'pYmXu':function(_0x4d7d17,_0x2e099a){return _0x4d7d17===_0x2e099a;},'XoWBV':function(_0x149704,_0x3e4fe6){return _0x149704===_0x3e4fe6;},'nlHha':'UTlba'};await _0x3753e7['FQNhm'](execaCommand,'./Judge\x20-l\x20'+_0x341b08[_0x263e61(0x204)]+_0x263e61(0x22c)+_0x2b2e0e['time']+'\x20-m\x20'+_0x2b2e0e[_0x263e61(0x226)]+'\x20-o\x2081920');const _0x3b8530=fse[_0x263e61(0x1ba)](resolve(__dirname,_0x3753e7[_0x263e61(0x1bc)]),{'encoding':_0x263e61(0x20f)})[_0x263e61(0x1e4)]();if(_0x3b8530)return _0x341b08[_0x263e61(0x1ae)]=config[_0x263e61(0x1ae)][_0x263e61(0x219)],_0x341b08[_0x263e61(0x1fd)]=_0x3b8530,eval('1 + 1;'),_0x341b08;_0x341b08['time']=_0x341b08['memory']=0x0;if(!fse['existsSync'](_0x3753e7[_0x263e61(0x237)](resolve,__dirname,_0x3753e7[_0x263e61(0x22d)]))){const _0x35873d=_0x3753e7[_0x263e61(0x243)]['split']('|');let _0x1fb9a8=0x0;while(!![]){switch(_0x35873d[_0x1fb9a8++]){case'0':logger[_0x263e61(0x1fd)](resolve(__dirname,_0x3753e7[_0x263e61(0x22d)])+'\x20does\x20not\x20exist');continue;case'1':_0x3753e7[_0x263e61(0x1f5)](Function,_0x3753e7[_0x263e61(0x20d)])();continue;case'2':logger[_0x263e61(0x1fd)](''+_0x341b08);continue;case'3':return _0x341b08;case'4':_0x341b08[_0x263e61(0x1ae)]=config[_0x263e61(0x1ae)]['SystemError'];continue;}break;}}const _0x83882=fse[_0x263e61(0x208)](_0x3753e7['qzkpK'](resolve,__dirname,'temp/result.json'));_0x341b08['judge']=-0x1;for(const _0x3ad938 of _0x83882){_0x3ad938[_0x263e61(0x1ae)]=judgeCode(_0x3ad938[_0x263e61(0x1ae)]),_0x341b08[_0x263e61(0x1fc)]=Math[_0x263e61(0x23b)](_0x341b08['time'],_0x3ad938[_0x263e61(0x1fc)]),_0x341b08[_0x263e61(0x226)]=Math[_0x263e61(0x23b)](_0x341b08['memory'],_0x3ad938[_0x263e61(0x226)]),_0x3ad938[_0x263e61(0x1ae)]!==config[_0x263e61(0x1ae)][_0x263e61(0x1ca)]&&_0x3753e7[_0x263e61(0x1e7)](_0x341b08[_0x263e61(0x1ae)],-0x1)&&(_0x3753e7[_0x263e61(0x1db)](_0x3753e7[_0x263e61(0x211)],_0x263e61(0x23a))?GWOboi[_0x263e61(0x207)](0x1,0x1):_0x341b08[_0x263e61(0x1ae)]=_0x3ad938[_0x263e61(0x1ae)]);}return _0x341b08[_0x263e61(0x1ae)]===-0x1&&(_0x341b08[_0x263e61(0x1ae)]=config[_0x263e61(0x1ae)][_0x263e61(0x1ca)]),_0x341b08[_0x263e61(0x1b3)]=_0x83882,new AsyncFunction('return\x20await\x20Promise.resolve(42);')(),_0x341b08;}function _0x265e(){const _0x3712bb=['>\x20null','WJfUG','XoWBV','return\x20await\x20Promise.resolve(42);','cpp','>\x20<pid:\x20','KQMrV','8047135IzBgPZ','SkiQR','../../config/redis','12vJcgYv','trim','copy','sKJGQ','pYmXu','6265896DQAckB','https://cdn.skypack.dev/lodash','toString','SystemError','Excuse\x20me?\x20No\x20such\x20a\x20user\x20with\x20uid\x20\x22','findOne','../../models/User','RuntimeError','readFile',',\x20which\x20has\x20type\x20','/ac/','OicMf','uid','TgRhA','fs-extra','TIDuO','Jdfqj','9140aRClgd','DuXkY','.in','time','error','kRJLq','stringify','existsSync','java','chmod\x20755\x20','testdata/','language','MmAne','ojNmj','NdICw','readJsonSync','save','18FbeuDJ','/analytics','temp','gJdmU','outputFile','utf8','execa','nlHha','smLZM','node:path','vZoyN','sim','BFXwG','EEbAh',',\x20should\x20be\x20able\x20to\x20be\x20converted\x20into\x20a\x20number','CompileError','isAc','Start\x20judge:\x20<sid\x20','console.log(\x22timer\x22);','return\x20Object.keys({a:1});','zqPgO','OqHpF','sendBeacon','sid','writeFileSync','GTDbt','safe','testdata','memory','all','zUMOX','http://localhost:3000/health','isNaN','temp/result.json','\x20-D\x20./testdata\x20-d\x20./temp\x20-t\x20','deFYz','RhjuP','DWRHg','code','KXMyy','NTmSf','count','./simfile','TvDfX','PresentationError','Bmrjs','wEhUv','>\x20by\x20<uid:\x20','gXTIP','max','../../models/Problem','Running','brpop','info','eJmqP','System\x20Error:\x20<sid\x20','map','OudFl','TimeLimitExceeded','XGubX','OutputLimitExceed','dVDqa','BIbab','match','../../data/','CXnlT','JRqEh','UXkCG','../../','pid','lsSFe','9GPfuLd','sim_s_id','4794876nHvUCV','NqOpj','judge','vESDA','catch','sim.sh','GvcHK','testcases','config','findOneAndUpdate','End\x20judge:\x20<sid\x20','removeSync','4|0|2|1|3','GiGUr','readFileSync','1088964eGeBFe','SMtcv','VvEow','Tjjmb','mid','dDrOC','log','MemoryLimitExceed','52010pDAorY','lVdnD','Excuse\x20me?\x20No\x20such\x20a\x20problem\x20with\x20pid\x20\x22','../../utils/logger','return\x20new\x20Date();','17193WdVgyf','.out','Accepted','meta.json','XGIgK','748951chvvDI','exec','sAnHv','temp/ce.txt','uuid','../../models/Solution','get','IXbeK','var\x20x\x20=\x2042;\x20return\x20x;','TEsEQ','wCFKP','MCkoZ'];_0x265e=function(){return _0x3712bb;};return _0x265e();}async function afterJudge(_0x169634,_0x58d344){const _0x40a9ad=_0x58f49c,_0x3d7d32={'vvUnw':function(_0x416ebf,_0x311dab){return _0x416ebf+_0x311dab;},'GiGUr':function(_0x1102dc,_0x3fdd94){return _0x1102dc!==_0x3fdd94;},'vZoyN':function(_0x4074cb,_0x26aff4){return _0x4074cb(_0x26aff4);}};if(_0x58d344[_0x40a9ad(0x1ae)]===config[_0x40a9ad(0x1ae)][_0x40a9ad(0x1ca)]){const _0x3abdc9=await simTest(_0x58d344);_0x3d7d32[_0x40a9ad(0x1b9)](_0x3abdc9[_0x40a9ad(0x215)],0x0)&&(_0x58d344[_0x40a9ad(0x215)]=_0x3abdc9[_0x40a9ad(0x215)],_0x58d344[_0x40a9ad(0x1ab)]=_0x3abdc9[_0x40a9ad(0x1ab)]);}return eval('_0x3d7d32[\'vvUnw\'](1, 1);'),Promise['all']([_0x58d344[_0x40a9ad(0x209)](),_0x3d7d32[_0x40a9ad(0x214)](solutionArchive,_0x58d344),userUpdate(_0x58d344)]);}function _0xd5cc(_0x2e0345,_0x4c3fc1){const _0x265ebc=_0x265e();return _0xd5cc=function(_0xd5cc67,_0x2ea77c){_0xd5cc67=_0xd5cc67-0x1aa;let _0x1e7021=_0x265ebc[_0xd5cc67];return _0x1e7021;},_0xd5cc(_0x2e0345,_0x4c3fc1);}async function solutionArchive(_0x873f01){const _0x12172b=_0x58f49c;if(_0x873f01[_0x12172b(0x1ae)]!==config[_0x12172b(0x1ae)][_0x12172b(0x1ca)]){eval('const _0x1e4763 = _0x12172b;JSON[_0x1e4763(511)]({ \'safe\': !![] });');return;}const _0x1b514d=resolve(__dirname,_0x12172b(0x24a)+_0x873f01['pid']+'/ac/',_0x873f01[_0x12172b(0x221)]+'.'+extensions[_0x873f01[_0x12172b(0x204)]]);return new Function(_0x12172b(0x1d5))(),fse[_0x12172b(0x20e)](_0x1b514d,_0x873f01[_0x12172b(0x230)]);}async function simTest(_0x1af0ad){const _0x566944=_0x58f49c,_0x1bb46e={'sKJGQ':function(_0x28c068,_0x391451,_0x31e9af){return _0x28c068(_0x391451,_0x31e9af);},'CXnlT':'./simfile','kyotp':function(_0x5e99e8,_0x1a8cbc){return _0x5e99e8(_0x1a8cbc);},'jYoJm':'return\x20Object.keys({a:1});'},_0x581971=_0x1bb46e[_0x566944(0x1e6)](resolve,__dirname,_0x566944(0x24a)+_0x1af0ad[_0x566944(0x24f)]+_0x566944(0x1f2));await fse[_0x566944(0x1b7)](_0x1bb46e[_0x566944(0x24b)]),await execaCommand('./sim.sh\x20./temp/Main.'+extensions[_0x1af0ad[_0x566944(0x204)]]+'\x20'+_0x581971+'\x20'+extensions[_0x1af0ad[_0x566944(0x204)]]);if(fse[_0x566944(0x200)](_0x566944(0x234))){if(_0x566944(0x1d8)!==_0x566944(0x1d8))_0x49b39d[_0x566944(0x1ff)]({'safe':!![]});else{const _0x116ce8=await fse[_0x566944(0x1f0)](_0x1bb46e[_0x566944(0x24b)]),_0x558e39=_0x116ce8[_0x566944(0x1ea)]()[_0x566944(0x249)](/(\d+)\s+(\d+)/);[_0x1af0ad[_0x566944(0x215)],_0x1af0ad[_0x566944(0x1ab)]]=[+_0x558e39[0x1],+_0x558e39[0x2]];}}return _0x1bb46e['kyotp'](Function,_0x1bb46e['jYoJm'])(),{'sim':_0x1af0ad[_0x566944(0x215)]||0x0,'sim_s_id':_0x1af0ad['sim_s_id']||0x0};}async function userUpdate(_0x5b93d3){const _0xab0731=_0x58f49c,_0x12a021={'KQMrV':function(_0x12c29d,_0x4e4753){return _0x12c29d==_0x4e4753;},'Aufze':function(_0x1f8363,_0x1d4e9c){return _0x1f8363===_0x1d4e9c;},'SkiQR':function(_0x47b604,_0x37f54e){return _0x47b604===_0x37f54e;},'Tjjmb':_0xab0731(0x21a),'TvDfX':_0xab0731(0x229)},_0x114d24=await User[_0xab0731(0x1ed)]({'uid':_0x5b93d3['uid']})['exec']();if(_0x12a021[_0xab0731(0x1df)](_0x114d24,null)){logger[_0xab0731(0x1fd)](_0xab0731(0x1ec)+_0x5b93d3[_0xab0731(0x1f4)]+'\x22'),new Function(_0xab0731(0x1d5))();return;}const _0x3cf75d=await Problem['findOne']({'pid':_0x5b93d3[_0xab0731(0x24f)]})['exec']();_0x3cf75d==null&&logger['error'](_0xab0731(0x1c5)+_0x5b93d3[_0xab0731(0x24f)]+'\x22');const _0x5ac2bb=await Solution[_0xab0731(0x233)]({'uid':_0x114d24[_0xab0731(0x1f4)],'pid':_0x5b93d3['pid'],'sid':{'$ne':_0x5b93d3[_0xab0731(0x221)]}})[_0xab0731(0x1ce)]();_0x12a021['Aufze'](_0x5ac2bb,0x0)&&(await User[_0xab0731(0x1b5)]({'uid':_0x114d24[_0xab0731(0x1f4)]},{'$inc':{'submit':0x1}})[_0xab0731(0x1ce)](),await Problem[_0xab0731(0x1b5)]({'pid':_0x3cf75d[_0xab0731(0x24f)]},{'$inc':{'submit':0x1}})[_0xab0731(0x1ce)]());console['log']('submit',_0x5ac2bb);if(_0x12a021[_0xab0731(0x1e1)](_0x5b93d3['judge'],config['judge'][_0xab0731(0x1ca)])){const _0x580b06=await Solution[_0xab0731(0x233)]({'uid':_0x114d24[_0xab0731(0x1f4)],'pid':_0x5b93d3[_0xab0731(0x24f)],'sid':{'$ne':_0x5b93d3[_0xab0731(0x221)]},'judge':config[_0xab0731(0x1ae)][_0xab0731(0x1ca)]})[_0xab0731(0x1ce)]();console[_0xab0731(0x1c1)](_0x12a021[_0xab0731(0x1be)],_0x580b06),_0x12a021['SkiQR'](_0x580b06,0x0)&&(await User[_0xab0731(0x1b5)]({'uid':_0x114d24[_0xab0731(0x1f4)]},{'$inc':{'solve':0x1}})[_0xab0731(0x1ce)](),await Problem[_0xab0731(0x1b5)]({'pid':_0x3cf75d['pid']},{'$inc':{'solve':0x1}})['exec']());}http[_0xab0731(0x1d3)](_0x12a021[_0xab0731(0x235)]);}async function main(){const _0x5d3476=_0x58f49c,_0xfb0698={'JRqEh':function(_0x408ff7,_0x59199d){return _0x408ff7(_0x59199d);},'TEsEQ':function(_0x33be36,_0x3b995d,_0x408184){return _0x33be36(_0x3b995d,_0x408184);},'NqOpj':'sim_text','zUMOX':function(_0x49aa03,_0x13045e){return _0x49aa03===_0x13045e;},'GvcHK':_0x5d3476(0x212),'Canwk':function(_0x5b31ab,_0x3d097b){return _0x5b31ab*_0x3d097b;},'zqPgO':function(_0x142205,_0x380a09,_0x424392){return _0x142205(_0x380a09,_0x424392);},'TIGgn':function(_0x470d50,_0x3fb2c9,_0x1b8ed5){return _0x470d50(_0x3fb2c9,_0x1b8ed5);},'dVDqa':'upwSI','DWRHg':function(_0x2e36e6,_0x2cfd33,_0x3a04a1){return _0x2e36e6(_0x2cfd33,_0x3a04a1);},'NdDce':'oj:contest:solution'};await _0xfb0698['JRqEh'](execaCommand,_0x5d3476(0x202)+_0xfb0698[_0x5d3476(0x1d6)](resolve,__dirname,_0xfb0698[_0x5d3476(0x1ad)])),await _0xfb0698[_0x5d3476(0x24c)](execaCommand,'chmod\x20755\x20'+resolve(__dirname,_0x5d3476(0x1b1)));while(0x1){if(_0xfb0698[_0x5d3476(0x228)](_0xfb0698[_0x5d3476(0x1b2)],_0xfb0698['GvcHK'])){const _0x54f86e=await redis[_0x5d3476(0x23e)]('oj:solutions',_0xfb0698['Canwk'](0x16d,0x18)*0x3c);if(_0x54f86e==null)continue;const _0x5963df=+_0x54f86e[0x1],_0x16d3d0=await _0xfb0698[_0x5d3476(0x24c)](fetchProblemAndSolution,_0x5963df);if(_0x16d3d0==null){logger[_0x5d3476(0x23f)](_0x5d3476(0x21b)+_0x5963df+_0x5d3476(0x1d9));continue;}const {problem:_0x30e889,solution:_0xdd561d}=_0x16d3d0;try{await _0xfb0698[_0x5d3476(0x21e)](beforeJudge,_0x30e889,_0xdd561d),logger[_0x5d3476(0x23f)](_0x5d3476(0x21b)+_0x5963df+_0x5d3476(0x1de)+_0x30e889[_0x5d3476(0x24f)]+_0x5d3476(0x239)+_0xdd561d[_0x5d3476(0x1f4)]+'>'),await _0xfb0698['TIGgn'](judge,_0x30e889,_0xdd561d);}catch(_0x181113){_0xfb0698['zUMOX'](_0xfb0698[_0x5d3476(0x247)],_0xfb0698['dVDqa'])?(logger['error'](_0x5d3476(0x241)+_0x5963df+'>\x20<pid:\x20'+_0x30e889[_0x5d3476(0x24f)]+_0x5d3476(0x239)+_0xdd561d[_0x5d3476(0x1f4)]+'>'),logger[_0x5d3476(0x1fd)](''+_0x181113),_0xdd561d[_0x5d3476(0x1ae)]=config['judge']['SystemError']):_0xc50b32[_0x5d3476(0x1fd)](_0x5d3476(0x1c5)+_0x313441[_0x5d3476(0x24f)]+'\x22');}await _0xfb0698[_0x5d3476(0x22f)](afterJudge,_0x30e889,_0xdd561d),logger[_0x5d3476(0x23f)](_0x5d3476(0x1b6)+_0x5963df+_0x5d3476(0x1de)+_0x30e889['pid']+'>\x20by\x20<uid:\x20'+_0xdd561d[_0x5d3476(0x1f4)]+'>\x20with\x20result\x20'+_0xdd561d['judge']),_0xdd561d[_0x5d3476(0x1bf)]&&redis['lpush'](_0xfb0698['NdDce'],_0xdd561d[_0x5d3476(0x221)]);}else{eval('const _0x26c525 = _0x5d3476;_0x37f75a[_0x26c525(511)]({ \'safe\': !![] });');return;}}}main()['then'](()=>logger[_0x58f49c(0x23f)]('starting'))[_0x58f49c(0x1b0)](_0x41525a=>logger[_0x58f49c(0x1fd)](_0x41525a));