'use strict';const _0x24fa2a=_0x4f1d;function _0x3e18(){const _0x17a2fd=['kaboom','XOZtl','jjyII','nntsH','bVwyZ','Iquig','MFYLx','stringify','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20subscription\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20notificationAdded\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20message\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','publish','rssLy','error','EEGCq','ExGDF','XxzmD','ngCzf','hqQAf','NkJpB','AoQFC','oFtac','subscription\x20server\x20sends\x20update\x20to\x20subscriptions','\x0a\x20\x20\x20\x20type\x20Notification\x20{\x0a\x20\x20\x20\x20\x20\x20id:\x20ID!\x0a\x20\x20\x20\x20\x20\x20message:\x20String\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20type\x20Query\x20{\x0a\x20\x20\x20\x20\x20\x20notifications:\x20[Notification]\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20type\x20Mutation\x20{\x0a\x20\x20\x20\x20\x20\x20addNotification(message:\x20String):\x20Notification\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20type\x20Subscription\x20{\x0a\x20\x20\x20\x20\x20\x20notificationAdded:\x20Notification\x0a\x20\x20\x20\x20}\x0a\x20\x20','gZAZY','foo','bar','KElFS','TFrpo','includes','spnUS','VdIrh','85586oElhks','SZhjp','oLNuF','YJeGK','utf8','/graphql','parse','YdjAt','CimdE','OmIVC','GhEaC','fastify','subscription\x20server\x20sends\x20update\x20to\x20subscriptions\x20with\x20custom\x20context','48nhFWcf','yGoEF','uninstall','BKclY','xQxlT','Kzfmr','OHNaH','Hello\x20World\x20foobar','_socket','dcTxz','nEhRW','DXCsf','ncibD','CAuel','Ggtxu','odOuI','aaa','equal','teardown','ZPbVV','cLcAf','zTPzw','638060mOzCTT','uDHrh','TAuTh','ksvII','krkFp','EIdBv','rHmfG','\x0a\x20\x20\x20\x20type\x20Query\x20{\x0a\x20\x20\x20\x20\x20\x20add(x:\x20Int,\x20y:\x20Int):\x20Int\x0a\x20\x20\x20\x20}\x0a\x20\x20','destroy','gYMQY','wlBpw','OIqof','mqemitter','Flpdm','JmUho','fLpep','CPhON','QSqLr','test','cyquU','jZBTe','aaXZB','from','fail','emitter','vsyoE','osBtR','QBQfJ','Aqgyh','RKWoy','BCVJM','koCWp','unzCJ','ATtdv','YBTUV','KiGpl','port','SmVcL','aAZqW','graphql-ws','BiCnH','WbPeb','vJGpZ','KcrYL','Obgoa','createWebSocketStream','xvztt','EJYle','inject','vHSkX','JHCAv','VJobH','lVYdr','BqfgB','notificationAdded','vuUbC','subscription\x20works\x20with\x20`withFilter`\x20tool','Bearer\x20foobar','AUsob','get','uiYkk','rSoBN','OOPaz','kFONt','RnjnO','DYXCu','pass','subscription\x20server\x20replies\x20with\x20keep\x20alive\x20when\x20enabled','knUym','pMeBT','hXnvN','CWrAq','TidHF','WXCpH','JCCle','plan','sVQUx','jpnlT','unAOi','start','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20subscription\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20notificationAdded\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20message\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','subscription\x20connection\x20is\x20closed\x20if\x20context\x20function\x20throws','bXmew','AOIoG','EHrSd','mezkU','HGPwm','TkNxs','cUMIa','EhBce','JzqnB','tCYCp','foobar','tickAsync','oUlbC','ZtWNx','message','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20query\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20notifications\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20message\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','PaSKS','hi\x20from\x20server','subscription\x20server\x20works\x20with\x20fastify\x20websocket','oTXGm','tXrJp','emit','wAWfr','tVtRd','jAsDj','NuHbL','pFVJp','hthJg','REYNY','7Pignow','xBAfZ','135747nBfocp','tYNsj','stop','UKzeR','subscription\x20with\x20custom\x20pubsub','KWqgk','YQQvm','721905RWjzeU','@fastify/websocket','NTYKd','subscription\x20server\x20exposes\x20pubsub','close','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mutation\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20addNotification(message:\x20\x22filtered\x20should\x20not\x20pass\x22)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fQWfs','XwuwI','listen','headers','omWUl','open','complete','subscription\x20server\x20sends\x20update\x20to\x20subscriptions\x20with\x20custom\x20async\x20context','jXuZv','FucQA','pQXgM','KOYNP','topic','subscription\x20handles\x20`withFilter`\x20if\x20filter\x20throws','ovczW','vMraS','qNbHh','subscription\x20works\x20properly\x20if\x20onConnect\x20is\x20not\x20defined\x20and\x20connectionInit\x20extension\x20is\x20defined\x20in\x20gql_start\x20message','bind','AqCUG','IoKlB','hSjEn','authorization','subscription\x20socket\x20protocol\x20different\x20than\x20graphql-ws,\x20protocol\x20=\x20foobar','subscription\x20passes\x20context\x20to\x20its\x20loaders','AoLaN','SvrCu','\x0a\x20\x20\x20\x20type\x20Notification\x20{\x0a\x20\x20\x20\x20\x20\x20id:\x20ID!\x0a\x20\x20\x20\x20\x20\x20message:\x20String\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20type\x20Query\x20{\x0a\x20\x20\x20\x20\x20\x20notifications:\x20[Notification]\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20type\x20Subscription\x20{\x0a\x20\x20\x20\x20\x20\x20notificationAdded:\x20Notification\x0a\x20\x20\x20\x20}\x0a\x20\x20','dQWvd','fliZi','NOTIFICATION_ADDED','tXXSq','xeIVq','connection_init','XCtTE','write','quuek','mifea','subscribe','LOCqb','removeListener','POST','AMage','FTXui','HRtEe','zOGJd','vRkMh','\x0a\x20\x20\x20\x20\x20\x20\x20\x20subscription\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20notificationAdded\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20message\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','type','BtQrl','tAAyi','sbZyk','UdOpt','request\x20and\x20reply\x20objects\x20in\x20subscription\x20context\x20-\x20no\x20headers\x20wrapper','kOnHn','rWZUo','aCJqR','jKdQB','uqsXk','data','CBKKk','nwlqd','xnlkn','sCctv','oIVup','ZJXSZ','qgyDr','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20subscription\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20notificationAdded(contains:\x20\x22Hello\x22)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20message\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','IuAEJ','push','sdgSm','qZfNP','rgXOt','eHzCV','wWEZp','KFZAe','KUDeR','wrong\x20messages\x20do\x20not\x20crash\x20the\x20server','ItaMS','sFvgh','Hello\x20World','JShWc','connectionInit','dozvi','Ldgxf','6iAKakd','sRtDY','request','OuwEc','end','events','PpRuV','DWeAV','oASou','nDrkc','QTKsd','cenkv','BcVfT','Puwhs','MZOAG','setEncoding','anddy','FbilM','GQQUP','TmITh','map','NrOPK','zyAdn','ws://localhost:','ECMtC','Dmvfo','address','BsvrO','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mutation\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20addNotification(message:\x20\x22Hello\x20World\x22)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','362097rVJArK','5134250hkzSNs','FlNlw','FAaHE','zTesf','Notification\x20message','anVed','tTTCd','fZMlj','DUSxt','iCxpH','jKUjC','pubsub','\x0a\x20\x20type\x20Notification\x20{\x0a\x20\x20\x20\x20id:\x20ID!\x0a\x20\x20\x20\x20message:\x20String\x0a\x20\x20}\x0a\x0a\x20\x20type\x20Query\x20{\x0a\x20\x20\x20\x20notifications:\x20[Notification]\x0a\x20\x20}\x0a\x0a\x20\x20type\x20Subscription\x20{\x0a\x20\x20\x20\x20notificationAdded:\x20Notification\x0a\x20\x20}\x0a','UkndL','KOLBQ','XqDQL','@sinonjs/fake-timers','tap','MDTet','yxlcy','filtered','azSiV','DEVzD','uOSBB','frfNY','JAwWl','FSimr','zUlfN','XzXzE','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mutation\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20addNotification(message:\x20\x22Hello\x20World\x22)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','clock','vxqtN','sQsjp','QnQko','mrSFf','reply','jZyzD','vzpre','MoNCP','subscription\x20connection\x20is\x20closed\x20if\x20async\x20context\x20function\x20throws','YziTo','mVgBs','\x0a\x20\x20\x20\x20type\x20Notification\x20{\x0a\x20\x20\x20\x20\x20\x20id:\x20ID!\x0a\x20\x20\x20\x20\x20\x20message:\x20String\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20type\x20Query\x20{\x0a\x20\x20\x20\x20\x20\x20notifications:\x20[Notification]\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20type\x20Mutation\x20{\x0a\x20\x20\x20\x20\x20\x20addNotification(message:\x20String!):\x20Notification!\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20type\x20Subscription\x20{\x0a\x20\x20\x20\x20\x20\x20notificationAdded(contains:\x20String):\x20Notification\x0a\x20\x20\x20\x20}\x0a\x20\x20','vpkYF','vAxbY','world','VnDBC','__proto__','HGrra','gYNRz','uwcsu','CRsDB','afterEach','yDFCh','decorateRequest','nsEhk','QunZi','GHyTc','context','ZGpiY','socket','subscription\x20server\x20replies\x20with\x20connection_ack','kWmKJ','XEPPM','send','connection_ack','NKTyX','register','KGiLw','mVnsw','RYSwK','vbpKs','Ywnbm','JLucf','payload','WcnTe','iIppa','INADx','IufRx','PNOnp','context\x20is\x20not\x20missing','IYndn','ClsqO','YCqzT','UHseo','VOsUV','RiyFc','LlhTm','MSrPR','DNGZr','graphql','constructor','MzEuT','QMXVB','1972411FVnhhq','WmxRa','akSbA','server','bbb','subscription\x20context\x20is\x20extended\x20with\x20onConnect\x20return\x20value\x20if\x20connectionInit\x20extension\x20is\x20defined\x20in\x20gql_start\x20message','cnTyV','VAUmQ','pUPEh','VPSvA','custom\x20execution\x20error','subscription\x20server\x20sends\x20correct\x20error\x20if\x20execution\x20throws'];_0x3e18=function(){return _0x17a2fd;};return _0x3e18();}(function(_0xa613dc,_0x7ef315){const _0x426940=_0x4f1d,_0x38d5cf=_0xa613dc();while(!![]){try{const _0x5ec7e0=parseInt(_0x426940(0x248))/0x1*(-parseInt(_0x426940(0x1b6))/0x2)+-parseInt(_0x426940(0x2c9))/0x3+-parseInt(_0x426940(0x1d9))/0x4+-parseInt(_0x426940(0x251))/0x5*(-parseInt(_0x426940(0x2ac))/0x6)+parseInt(_0x426940(0x18c))/0x7+-parseInt(_0x426940(0x1c3))/0x8*(parseInt(_0x426940(0x24a))/0x9)+parseInt(_0x426940(0x2ca))/0xa;if(_0x5ec7e0===_0x7ef315)break;else _0x38d5cf['push'](_0x38d5cf['shift']());}catch(_0x205b03){_0x38d5cf['push'](_0x38d5cf['shift']());}}}(_0x3e18,0x41c04));const {test,t}=require(_0x24fa2a(0x2db)),Fastify=require(_0x24fa2a(0x1c1)),WebSocket=require('ws'),mq=require(_0x24fa2a(0x1e5)),{EventEmitter}=require(_0x24fa2a(0x2b1)),fastifyWebsocket=require(_0x24fa2a(0x252)),GQL=require('..'),{once}=require(_0x24fa2a(0x2b1)),FakeTimers=require(_0x24fa2a(0x2da));function _0x4f1d(_0x23675c,_0x5160fa){const _0x3e181f=_0x3e18();return _0x4f1d=function(_0x4f1d4f,_0x285555){_0x4f1d4f=_0x4f1d4f-0x18c;let _0xaff6d9=_0x3e181f[_0x4f1d4f];return _0xaff6d9;},_0x4f1d(_0x23675c,_0x5160fa);}t['beforeEach'](({context:_0x21d3dd})=>{_0x21d3dd['clock']=FakeTimers['install']({'shouldClearNativeTimers':!![],'shouldAdvanceTime':!![],'advanceTimeDelta':0x28});}),t[_0x24fa2a(0x2fe)](({context:_0x57df16})=>{const _0x50db1e=_0x24fa2a;_0x57df16[_0x50db1e(0x2e8)][_0x50db1e(0x1c5)]();}),test(_0x24fa2a(0x307),_0xbd984=>{const _0x2b8731=_0x24fa2a,_0x55c0a7={'mwpqu':function(_0x4cdc9d,_0x2a234c){return _0x4cdc9d+_0x2a234c;},'MNrTn':_0x2b8731(0x1bb),'AMage':_0x2b8731(0x200),'yGoEF':_0x2b8731(0x278)},_0xb1946a=Fastify();_0xbd984[_0x2b8731(0x1d5)](()=>_0xb1946a['close']());const _0x2c9ed6=_0x2b8731(0x1e0),_0x38af4b={'Query':{'add':(_0x4f36fa,{x:_0x51cfe5,y:_0x146ed1})=>_0x51cfe5+_0x146ed1}};_0xb1946a['register'](GQL,{'schema':_0x2c9ed6,'resolvers':_0x38af4b,'subscription':!![]}),_0xb1946a[_0x2b8731(0x259)]({'port':0x0},_0x3dbac8=>{const _0x5343ab=_0x2b8731;_0xbd984['error'](_0x3dbac8);const _0x5af5e7=_0x55c0a7['mwpqu'](_0x5343ab(0x2c3)+_0xb1946a[_0x5343ab(0x18f)][_0x5343ab(0x2c6)]()['port'],_0x55c0a7['MNrTn']),_0x42ca85=new WebSocket(_0x5af5e7,_0x55c0a7[_0x5343ab(0x281)]),_0x4f9538=WebSocket[_0x5343ab(0x206)](_0x42ca85,{'encoding':_0x5343ab(0x1ba),'objectMode':!![]});_0xbd984['teardown'](_0x4f9538[_0x5343ab(0x1e1)][_0x5343ab(0x269)](_0x4f9538)),_0x4f9538[_0x5343ab(0x2bb)]('utf8'),_0x4f9538[_0x5343ab(0x27a)](JSON['stringify']({'type':_0x55c0a7[_0x5343ab(0x1c4)]})),_0x4f9538['on'](_0x5343ab(0x292),_0x2a084e=>{const _0x31302f=_0x5343ab;_0xbd984[_0x31302f(0x1d4)](_0x2a084e,JSON[_0x31302f(0x19f)]({'type':_0x31302f(0x30b)})),_0x4f9538[_0x31302f(0x2b0)](),_0xbd984[_0x31302f(0x2b0)]();});});}),test(_0x24fa2a(0x21c),_0x395f36=>{const _0x1f3244=_0x24fa2a,_0x3819cf={'YQQvm':function(_0x5029e4,_0x114cb1){return _0x5029e4===_0x114cb1;},'VuVTd':'connection_ack','Mnppj':_0x1f3244(0x1bb),'HRtEe':_0x1f3244(0x1ba)},_0xae3877=Fastify();_0x395f36[_0x1f3244(0x1d5)](()=>_0xae3877[_0x1f3244(0x255)]());const _0x8a98c=_0x1f3244(0x1e0),_0x515847={'Query':{'add':(_0x40a96f,{x:_0x24c818,y:_0x1b8929})=>_0x24c818+_0x1b8929}};_0xae3877[_0x1f3244(0x30d)](GQL,{'schema':_0x8a98c,'resolvers':_0x515847,'subscription':{'keepAlive':0x2710}}),_0xae3877[_0x1f3244(0x259)]({'port':0x0},_0x52bbc6=>{const _0x1091dc=_0x1f3244,_0x33e3f0={'sPvhx':function(_0xdb5f9f,_0x29e81a){const _0x11f54d=_0x4f1d;return _0x3819cf[_0x11f54d(0x250)](_0xdb5f9f,_0x29e81a);},'mogXi':_0x3819cf['VuVTd']};_0x395f36[_0x1091dc(0x1a3)](_0x52bbc6);const _0x546bea=_0x1091dc(0x2c3)+_0xae3877[_0x1091dc(0x18f)][_0x1091dc(0x2c6)]()[_0x1091dc(0x1fd)]+_0x3819cf['Mnppj'],_0xb7d432=new WebSocket(_0x546bea,_0x1091dc(0x200)),_0x88d8d3=WebSocket['createWebSocketStream'](_0xb7d432,{'encoding':_0x3819cf[_0x1091dc(0x283)],'objectMode':!![]});_0x395f36[_0x1091dc(0x1d5)](_0x88d8d3[_0x1091dc(0x1e1)][_0x1091dc(0x269)](_0x88d8d3)),_0x88d8d3['setEncoding'](_0x1091dc(0x1ba)),_0x88d8d3['write'](JSON[_0x1091dc(0x19f)]({'type':'connection_init'})),_0x88d8d3['on']('data',_0x398181=>{const _0x52b7b3=_0x1091dc,_0x3f988c=JSON[_0x52b7b3(0x1bc)](_0x398181);if(_0x33e3f0['sPvhx'](_0x3f988c[_0x52b7b3(0x287)],_0x33e3f0['mogXi']))return;_0x395f36[_0x52b7b3(0x1d4)](_0x3f988c['type'],'ka'),_0x88d8d3[_0x52b7b3(0x2b0)](),_0x395f36[_0x52b7b3(0x2b0)]();});});}),test(_0x24fa2a(0x1ac),_0x187a08=>{const _0x23034b=_0x24fa2a,_0x39877b={'HGPwm':_0x23034b(0x2f7),'YBTUV':function(_0x4648ce,_0x5d16a8){return _0x4648ce===_0x5d16a8;},'PyJxQ':_0x23034b(0x285),'NrOPK':_0x23034b(0x1bb),'MSrPR':_0x23034b(0x280),'CimdE':'NOTIFICATION_ADDED','WWnjJ':function(_0x247c77,_0x5d146e){return _0x247c77===_0x5d146e;},'KGiLw':_0x23034b(0x292),'anVed':_0x23034b(0x2a7),'VdIrh':_0x23034b(0x25d),'vkEdu':_0x23034b(0x29e),'KZebr':function(_0x381345,_0x289585){return _0x381345+_0x289585;},'Aqgyh':'ws://localhost:','KVoqV':_0x23034b(0x200),'HOMQm':_0x23034b(0x278),'sVQUx':function(_0x5e3393){return _0x5e3393();}},_0x48ffd8=Fastify();_0x187a08['teardown'](()=>_0x48ffd8[_0x23034b(0x255)]());const _0x549600=()=>{const _0x1eb4c2=_0x23034b;_0x39877b[_0x1eb4c2(0x1fb)](_0x39877b['PyJxQ'],_0x1eb4c2(0x1a8))?(_0x4a62f5[_0x1eb4c2(0x1d4)](_0x2d67a2,_0x39877b[_0x1eb4c2(0x22f)]),_0x49de37['end'](),_0x71bf12[_0x1eb4c2(0x27d)](_0x112611)):_0x48ffd8['inject']({'method':_0x1eb4c2(0x280),'url':_0x39877b[_0x1eb4c2(0x2c1)],'body':{'query':_0x1eb4c2(0x23a)}},()=>{_0x34c6b6();});},_0x34c6b6=()=>{const _0x40be86=_0x23034b;_0x48ffd8[_0x40be86(0x209)]({'method':_0x39877b[_0x40be86(0x322)],'url':_0x39877b[_0x40be86(0x2c1)],'body':{'query':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mutation\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20addNotification(message:\x20\x22Hello\x20World\x22)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'}},()=>{});},_0xdf20f7=_0x39877b[_0x23034b(0x225)](mq),_0x5ad6da=_0x23034b(0x1ad);let _0x1745ea=0x1;const _0x38478b=[{'id':_0x1745ea,'message':_0x23034b(0x2ce)}],_0x53f368={'Query':{'notifications':()=>_0x38478b},'Mutation':{'addNotification':async(_0x4ad554,{message:_0x1fb9e7})=>{const _0xba47f7=_0x23034b,_0x2ad0f5=_0x1745ea++,_0x277241={'id':_0x2ad0f5,'message':_0x1fb9e7};return _0x38478b[_0xba47f7(0x29c)](_0x277241),await _0xdf20f7['emit']({'topic':_0x39877b[_0xba47f7(0x1be)],'payload':{'notificationAdded':_0x277241}}),_0x277241;}},'Subscription':{'notificationAdded':{'subscribe':(_0x30a801,_0x3e5641,_0x3b8e62)=>{const _0x2fed65=_0x23034b;return _0x3b8e62['pubsub'][_0x2fed65(0x27d)](_0x2fed65(0x275));}}}};_0x48ffd8[_0x23034b(0x30d)](GQL,{'schema':_0x5ad6da,'resolvers':_0x53f368,'subscription':{'emitter':_0xdf20f7}}),_0x48ffd8[_0x23034b(0x259)]({'port':0x0},_0x2427b8=>{const _0x4e25c0=_0x23034b;_0x187a08[_0x4e25c0(0x1a3)](_0x2427b8);const _0x382762=new WebSocket(_0x39877b['KZebr'](_0x39877b[_0x4e25c0(0x1f5)],_0x48ffd8[_0x4e25c0(0x18f)][_0x4e25c0(0x2c6)]()[_0x4e25c0(0x1fd)])+_0x4e25c0(0x1bb),_0x39877b['KVoqV']),_0xc4c8c5=WebSocket[_0x4e25c0(0x206)](_0x382762,{'encoding':_0x4e25c0(0x1ba),'objectMode':!![]});_0x187a08[_0x4e25c0(0x1d5)](_0xc4c8c5['destroy']['bind'](_0xc4c8c5)),_0xc4c8c5[_0x4e25c0(0x2bb)](_0x4e25c0(0x1ba)),_0xc4c8c5[_0x4e25c0(0x27a)](JSON[_0x4e25c0(0x19f)]({'type':_0x39877b['HOMQm']})),_0xc4c8c5[_0x4e25c0(0x27a)](JSON[_0x4e25c0(0x19f)]({'id':0x1,'type':_0x4e25c0(0x228),'payload':{'query':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20subscription\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20notificationAdded\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20message\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'}})),_0xc4c8c5[_0x4e25c0(0x27a)](JSON['stringify']({'id':0x2,'type':_0x4e25c0(0x228),'payload':{'query':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20subscription\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20notificationAdded\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20message\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'}})),_0xc4c8c5[_0x4e25c0(0x27a)](JSON['stringify']({'id':0x2,'type':'stop'})),_0xc4c8c5['on'](_0x39877b[_0x4e25c0(0x30e)],_0x1255ec=>{const _0x404c06=_0x4e25c0,_0x19fc43=JSON[_0x404c06(0x1bc)](_0x1255ec);if(_0x39877b[_0x404c06(0x1fb)](_0x19fc43['id'],0x1)&&_0x39877b['WWnjJ'](_0x19fc43[_0x404c06(0x287)],_0x404c06(0x292)))_0x187a08[_0x404c06(0x1d4)](_0x1255ec,JSON['stringify']({'type':_0x39877b[_0x404c06(0x30e)],'id':0x1,'payload':{'data':{'notificationAdded':{'id':'1','message':_0x39877b[_0x404c06(0x2cf)]}}}})),_0xc4c8c5[_0x404c06(0x2b0)](),_0x187a08[_0x404c06(0x2b0)]();else{if(_0x19fc43['id']===0x2&&_0x39877b['WWnjJ'](_0x19fc43['type'],_0x39877b[_0x404c06(0x1b5)])){if(_0x404c06(0x28b)===_0x39877b['vkEdu']){if(!_0xa31c72)return!![];return _0x3498cd[_0x404c06(0x20f)][_0x404c06(0x239)][_0x404c06(0x1b3)](_0x3b4aee);}else _0x549600();}}});});});class CustomPubSub{constructor(){const _0x323b09=_0x24fa2a;this[_0x323b09(0x1f1)]=new EventEmitter();}async[_0x24fa2a(0x27d)](_0x52caba,_0x462171){const _0x2a2db6=_0x24fa2a,_0x810aba={'ISIKe':_0x2a2db6(0x1a7)},_0x415eb0=_0x1d4086=>{const _0x2d91ef=_0x2a2db6;'ngCzf'===_0x810aba['ISIKe']?_0x462171[_0x2d91ef(0x29c)](_0x1d4086):_0x3ea9e4[_0x2d91ef(0x209)]({'method':_0x2d91ef(0x280),'url':_0x2d91ef(0x1bb),'body':{'query':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mutation\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20addNotification(message:\x20\x22Hello\x20World\x22)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'}},()=>{});},_0x22edf2=()=>{const _0x3c7d2a=_0x2a2db6;this[_0x3c7d2a(0x1f1)]['removeListener'](_0x52caba,_0x415eb0);};this['emitter']['on'](_0x52caba,_0x415eb0),_0x462171[_0x2a2db6(0x255)]=_0x22edf2;}[_0x24fa2a(0x1a1)](_0x3c5874,_0x335ca2){const _0x424ad3=_0x24fa2a,_0x3c9c39={'XwuwI':function(_0x10b64f){return _0x10b64f();}};this[_0x424ad3(0x1f1)][_0x424ad3(0x240)](_0x3c5874[_0x424ad3(0x263)],_0x3c5874['payload']),_0x3c9c39[_0x424ad3(0x258)](_0x335ca2);}}test(_0x24fa2a(0x24e),_0x1c99d1=>{const _0x1cb06a=_0x24fa2a,_0x2aad99={'rgXOt':function(_0x121c76){return _0x121c76();},'BabyN':_0x1cb06a(0x280),'BsvrO':_0x1cb06a(0x1bb),'vJGpZ':_0x1cb06a(0x275),'tXrJp':function(_0x373980,_0x233ed7){return _0x373980===_0x233ed7;},'AqCUG':_0x1cb06a(0x292),'LlhTm':_0x1cb06a(0x2a7),'NKTyX':_0x1cb06a(0x25d),'YdjAt':function(_0x4d8c59,_0x322635){return _0x4d8c59!==_0x322635;},'TFrpo':_0x1cb06a(0x296),'sRtDY':function(_0xf896e2){return _0xf896e2();},'vxqtN':function(_0xf3a7bb,_0x2cd308){return _0xf3a7bb+_0x2cd308;},'IufRx':'ws://localhost:','mifea':_0x1cb06a(0x1ba),'rMAmb':_0x1cb06a(0x24c),'WcnTe':function(_0x223b23){return _0x223b23();},'UKzeR':_0x1cb06a(0x2ce)},_0x496bea=_0x2aad99[_0x1cb06a(0x315)](Fastify);_0x1c99d1[_0x1cb06a(0x1d5)](()=>_0x496bea['close']());const _0xb1a375=new CustomPubSub(),_0x5ae4ca=()=>{const _0x54460e=_0x1cb06a;_0x496bea[_0x54460e(0x209)]({'method':_0x2aad99['BabyN'],'url':_0x2aad99[_0x54460e(0x2c7)],'body':{'query':_0x54460e(0x23a)}},()=>{const _0x553b59=_0x54460e;_0x2aad99[_0x553b59(0x29f)](_0x53dde6);});},_0x53dde6=()=>{const _0x40cfda=_0x1cb06a;_0x496bea['inject']({'method':_0x40cfda(0x280),'url':_0x2aad99[_0x40cfda(0x2c7)],'body':{'query':_0x40cfda(0x2c8)}},()=>{});},_0x401ae9=_0x1cb06a(0x1ad);let _0x3ecc28=0x1;const _0x9bdfc5=[{'id':_0x3ecc28,'message':_0x2aad99[_0x1cb06a(0x24d)]}],_0x1535d0={'Query':{'notifications':()=>_0x9bdfc5},'Mutation':{'addNotification':async(_0x481fc3,{message:_0x4cbd13})=>{const _0x1b9514=_0x1cb06a,_0x2e966a=_0x3ecc28++,_0x152f14={'id':_0x2e966a,'message':_0x4cbd13};return _0x9bdfc5['push'](_0x152f14),await _0xb1a375[_0x1b9514(0x1f1)]['emit'](_0x2aad99[_0x1b9514(0x203)],{'notificationAdded':_0x152f14}),_0x152f14;}},'Subscription':{'notificationAdded':{'subscribe':(_0x5b332f,_0x4619f4,{pubsub:_0x539b82})=>_0x539b82['subscribe'](_0x1cb06a(0x275))}}};_0x496bea['register'](GQL,{'schema':_0x401ae9,'resolvers':_0x1535d0,'subscription':{'pubsub':_0xb1a375}}),_0x496bea[_0x1cb06a(0x259)]({'port':0x0},_0x3ff57f=>{const _0xcfb077=_0x1cb06a,_0x1ae47d={'AUsob':function(_0x2ae852){const _0x402ee5=_0x4f1d;return _0x2aad99[_0x402ee5(0x2ad)](_0x2ae852);}};_0x1c99d1['error'](_0x3ff57f);const _0x41fafd=new WebSocket(_0x2aad99[_0xcfb077(0x2e9)](_0x2aad99[_0xcfb077(0x318)],_0x496bea['server']['address']()[_0xcfb077(0x1fd)])+_0xcfb077(0x1bb),_0xcfb077(0x200)),_0x209719=WebSocket[_0xcfb077(0x206)](_0x41fafd,{'encoding':_0xcfb077(0x1ba),'objectMode':!![]});_0x1c99d1['teardown'](_0x209719[_0xcfb077(0x1e1)][_0xcfb077(0x269)](_0x209719)),_0x209719[_0xcfb077(0x2bb)](_0x2aad99[_0xcfb077(0x27c)]),_0x209719['write'](JSON['stringify']({'type':'connection_init'})),_0x209719[_0xcfb077(0x27a)](JSON[_0xcfb077(0x19f)]({'id':0x1,'type':_0xcfb077(0x228),'payload':{'query':_0xcfb077(0x1a0)}})),_0x209719[_0xcfb077(0x27a)](JSON['stringify']({'id':0x2,'type':_0xcfb077(0x228),'payload':{'query':_0xcfb077(0x1a0)}})),_0x209719[_0xcfb077(0x27a)](JSON['stringify']({'id':0x2,'type':_0x2aad99['rMAmb']})),_0x209719['on'](_0xcfb077(0x292),_0x16027a=>{const _0x64cd7e=_0xcfb077,_0x1d4b3b=JSON[_0x64cd7e(0x1bc)](_0x16027a);if(_0x1d4b3b['id']===0x1&&_0x2aad99['tXrJp'](_0x1d4b3b[_0x64cd7e(0x287)],'data'))_0x1c99d1[_0x64cd7e(0x1d4)](_0x16027a,JSON[_0x64cd7e(0x19f)]({'type':_0x2aad99[_0x64cd7e(0x26a)],'id':0x1,'payload':{'data':{'notificationAdded':{'id':'1','message':_0x2aad99[_0x64cd7e(0x321)]}}}})),_0x209719[_0x64cd7e(0x2b0)](),_0x1c99d1['end']();else _0x2aad99[_0x64cd7e(0x23f)](_0x1d4b3b['id'],0x2)&&_0x1d4b3b[_0x64cd7e(0x287)]===_0x2aad99[_0x64cd7e(0x30c)]&&(_0x2aad99[_0x64cd7e(0x1bd)](_0x2aad99[_0x64cd7e(0x1b2)],_0x2aad99['TFrpo'])?_0x1ae47d[_0x64cd7e(0x213)](_0x2cafc8):_0x5ae4ca());});});}),test(_0x24fa2a(0x1c2),_0x282862=>{const _0x1b56a7=_0x24fa2a,_0x4d49ba={'IYndn':'utf8','cyquU':function(_0x5978e6,_0x266a63){return _0x5978e6===_0x266a63;},'wlBpw':_0x1b56a7(0x275),'vuUbC':_0x1b56a7(0x292),'cUMIa':_0x1b56a7(0x200),'omWUl':'connection_init','KyLdV':_0x1b56a7(0x228),'xBaEd':_0x1b56a7(0x24c)},_0x3a3d80=Fastify();_0x282862[_0x1b56a7(0x1d5)](()=>_0x3a3d80[_0x1b56a7(0x255)]());const _0x463400=()=>{const _0x286e16=_0x1b56a7,_0x199f19={'anddy':_0x4d49ba[_0x286e16(0x31b)],'WLQaz':function(_0x425cc0,_0x196dc8){return _0x4d49ba['cyquU'](_0x425cc0,_0x196dc8);},'HGrra':_0x286e16(0x327)};_0x3a3d80[_0x286e16(0x209)]({'method':'POST','url':'/graphql','body':{'query':_0x286e16(0x23a)}},()=>{const _0x507315=_0x286e16,_0x5629a9={'fgKDh':_0x199f19[_0x507315(0x2bc)]};if(_0x199f19['WLQaz'](_0x199f19[_0x507315(0x2fa)],'XpRzL')){const _0x5c6fe8={'XxzmD':function(_0xb4927c,_0x5540e3){return _0xb4927c+_0x5540e3;},'osBtR':function(_0x471058,_0x4ccd43){return _0x471058+_0x4ccd43;},'sQsjp':_0x507315(0x235),'jKUjC':_0x5629a9['fgKDh'],'SSeRL':'close'},_0x4c7e36=_0xb6abc3(),_0x4795d4='\x0a\x20\x20\x20\x20type\x20Query\x20{\x0a\x20\x20\x20\x20\x20\x20add(x:\x20Int,\x20y:\x20Int):\x20Int\x0a\x20\x20\x20\x20}\x0a\x20\x20',_0x1a1cf6={'add':async({x:_0x2d64b5,y:_0x4cbf70})=>_0x2d64b5+_0x4cbf70};_0x7b957b['teardown'](_0x4c7e36[_0x507315(0x255)]),_0x4c7e36[_0x507315(0x30d)](_0xd547ab,{'schema':_0x4795d4,'resolvers':_0x1a1cf6,'subscription':!![]}),_0x4c7e36[_0x507315(0x259)]({'port':0x0},()=>{const _0x27239d=_0x507315,_0x429695=_0x5c6fe8[_0x27239d(0x1a6)](_0x5c6fe8[_0x27239d(0x1f3)](_0x27239d(0x2c3),_0x4c7e36['server'][_0x27239d(0x2c6)]()[_0x27239d(0x1fd)]),_0x27239d(0x1bb)),_0x1ba9ad=new _0x2e74ab(_0x429695,_0x5c6fe8[_0x27239d(0x2ea)]),_0x126575=_0x3abd3e[_0x27239d(0x206)](_0x1ba9ad,{'encoding':_0x27239d(0x1ba),'objectMode':!![]});_0x4942d7[_0x27239d(0x1d5)](_0x126575[_0x27239d(0x1e1)]['bind'](_0x126575)),_0x126575['setEncoding'](_0x5c6fe8[_0x27239d(0x2d4)]),_0x1ba9ad['on'](_0x5c6fe8['SSeRL'],()=>{const _0x22e4d1=_0x27239d;_0x126575[_0x22e4d1(0x2b0)](),_0x1e4929[_0x22e4d1(0x2b0)]();});});}else _0x405a93();});},_0x405a93=()=>{const _0x1040bd=_0x1b56a7;_0x3a3d80['inject']({'method':'POST','url':'/graphql','body':{'query':_0x1040bd(0x2c8)}},()=>{});},_0x4fad43=mq(),_0x41a389=_0x1b56a7(0x1ad);let _0x3005c0=0x1;const _0x52fc64=[{'id':_0x3005c0,'message':_0x1b56a7(0x2ce)}],_0x419c91={'Query':{'notifications':()=>_0x52fc64},'Mutation':{'addNotification':async(_0x173ca3,{message:_0x257fa5})=>{const _0x59a448=_0x1b56a7,_0x3c7dbc=_0x3005c0++,_0x406baa={'id':_0x3c7dbc,'message':_0x257fa5};return _0x52fc64[_0x59a448(0x29c)](_0x406baa),await _0x4fad43[_0x59a448(0x240)]({'topic':_0x4d49ba[_0x59a448(0x1e3)],'payload':{'notificationAdded':_0x406baa}}),_0x406baa;}},'Subscription':{'notificationAdded':{'subscribe':(_0xbf8ba8,_0x5da85f,{pubsub:_0x21d4a3,topic:_0x2798b5})=>_0x21d4a3['subscribe'](_0x2798b5)}}};_0x3a3d80[_0x1b56a7(0x30d)](GQL,{'schema':_0x41a389,'resolvers':_0x419c91,'subscription':{'emitter':_0x4fad43,'context':()=>({'topic':_0x1b56a7(0x275)})}}),_0x3a3d80[_0x1b56a7(0x259)]({'port':0x0},_0x5f4914=>{const _0x8a801=_0x1b56a7;_0x282862[_0x8a801(0x1a3)](_0x5f4914);const _0x108072=new WebSocket('ws://localhost:'+_0x3a3d80[_0x8a801(0x18f)]['address']()['port']+_0x8a801(0x1bb),_0x4d49ba[_0x8a801(0x231)]),_0x16489c=WebSocket[_0x8a801(0x206)](_0x108072,{'encoding':_0x4d49ba[_0x8a801(0x31b)],'objectMode':!![]});_0x282862[_0x8a801(0x1d5)](_0x16489c[_0x8a801(0x1e1)]['bind'](_0x16489c)),_0x16489c[_0x8a801(0x2bb)](_0x8a801(0x1ba)),_0x16489c['write'](JSON[_0x8a801(0x19f)]({'type':_0x4d49ba[_0x8a801(0x25b)]})),_0x16489c[_0x8a801(0x27a)](JSON[_0x8a801(0x19f)]({'id':0x1,'type':_0x4d49ba['KyLdV'],'payload':{'query':_0x8a801(0x1a0)}})),_0x16489c[_0x8a801(0x27a)](JSON[_0x8a801(0x19f)]({'id':0x2,'type':_0x4d49ba['KyLdV'],'payload':{'query':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20subscription\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20notificationAdded\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20message\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'}})),_0x16489c[_0x8a801(0x27a)](JSON[_0x8a801(0x19f)]({'id':0x2,'type':_0x4d49ba['xBaEd']})),_0x16489c['on'](_0x8a801(0x292),_0x453b31=>{const _0x5da842=_0x8a801,_0x32883a=JSON[_0x5da842(0x1bc)](_0x453b31);if(_0x32883a['id']===0x1&&_0x4d49ba[_0x5da842(0x1ec)](_0x32883a[_0x5da842(0x287)],_0x5da842(0x292)))_0x282862['equal'](_0x453b31,JSON['stringify']({'type':_0x4d49ba[_0x5da842(0x210)],'id':0x1,'payload':{'data':{'notificationAdded':{'id':'1','message':_0x5da842(0x2a7)}}}})),_0x16489c[_0x5da842(0x2b0)](),_0x282862['end']();else _0x4d49ba['cyquU'](_0x32883a['id'],0x2)&&_0x32883a[_0x5da842(0x287)]==='complete'&&_0x463400();});});}),test(_0x24fa2a(0x26e),_0x367563=>{const _0x4e1c3b=_0x24fa2a,_0x4c32d4={'EhBce':function(_0x973f95,_0xdb7d6b){return _0x973f95===_0xdb7d6b;},'DYXCu':_0x4e1c3b(0x292),'fqJYG':_0x4e1c3b(0x290),'tTTCd':_0x4e1c3b(0x2c3),'XEPPM':'/graphql','OIqof':'foobar','XOZtl':_0x4e1c3b(0x1ba),'IThND':_0x4e1c3b(0x255),'PaSKS':function(_0x1f007a){return _0x1f007a();}},_0x10d2f6=_0x4c32d4[_0x4e1c3b(0x23b)](Fastify),_0x345a29='\x0a\x20\x20\x20\x20type\x20Query\x20{\x0a\x20\x20\x20\x20\x20\x20add(x:\x20Int,\x20y:\x20Int):\x20Int\x0a\x20\x20\x20\x20}\x0a\x20\x20',_0x1a83e0={'add':async({x:_0x50cca0,y:_0x4a6901})=>_0x50cca0+_0x4a6901};_0x367563[_0x4e1c3b(0x1d5)](_0x10d2f6[_0x4e1c3b(0x255)]),_0x10d2f6[_0x4e1c3b(0x30d)](GQL,{'schema':_0x345a29,'resolvers':_0x1a83e0,'subscription':!![]}),_0x10d2f6['listen']({'port':0x0},()=>{const _0x2a00cf=_0x4e1c3b,_0x557a3b={'YziTo':function(_0x37a828,_0x108eb2){const _0x140ee5=_0x4f1d;return _0x4c32d4[_0x140ee5(0x232)](_0x37a828,_0x108eb2);},'VKWjm':_0x4c32d4[_0x2a00cf(0x21a)],'UHseo':_0x2a00cf(0x2a7),'mrSFf':_0x2a00cf(0x25d),'kWmKJ':function(_0x191274){return _0x191274();},'odOuI':_0x4c32d4['fqJYG']},_0x9f3c5d=_0x4c32d4[_0x2a00cf(0x2d0)]+_0x10d2f6[_0x2a00cf(0x18f)][_0x2a00cf(0x2c6)]()[_0x2a00cf(0x1fd)]+_0x4c32d4[_0x2a00cf(0x309)],_0x55db40=new WebSocket(_0x9f3c5d,_0x4c32d4[_0x2a00cf(0x1e4)]),_0xb7e3e4=WebSocket[_0x2a00cf(0x206)](_0x55db40,{'encoding':_0x4c32d4[_0x2a00cf(0x199)],'objectMode':!![]});_0x367563[_0x2a00cf(0x1d5)](_0xb7e3e4[_0x2a00cf(0x1e1)][_0x2a00cf(0x269)](_0xb7e3e4)),_0xb7e3e4[_0x2a00cf(0x2bb)](_0x4c32d4[_0x2a00cf(0x199)]),_0x55db40['on'](_0x4c32d4['IThND'],()=>{const _0x59a1e1=_0x2a00cf,_0x118847={'fliZi':function(_0x494095,_0x4b20eb){const _0x4d7ae2=_0x4f1d;return _0x557a3b[_0x4d7ae2(0x2f2)](_0x494095,_0x4b20eb);},'Ggtxu':_0x557a3b['VKWjm'],'VJobH':_0x557a3b[_0x59a1e1(0x31e)],'ECMtC':_0x557a3b[_0x59a1e1(0x2ec)],'GKkXg':function(_0x2a2772){const _0x37aa1a=_0x59a1e1;return _0x557a3b[_0x37aa1a(0x308)](_0x2a2772);}};if(_0x557a3b[_0x59a1e1(0x1d2)]===_0x557a3b['odOuI'])_0xb7e3e4[_0x59a1e1(0x2b0)](),_0x367563[_0x59a1e1(0x2b0)]();else{const _0x5b14fc=_0x16954f['parse'](_0x4d30ae);if(_0x118847['fliZi'](_0x5b14fc['id'],0x1)&&_0x5b14fc[_0x59a1e1(0x287)]===_0x118847[_0x59a1e1(0x1d1)])_0x51a666[_0x59a1e1(0x1d4)](_0x317fe5,_0xa31425[_0x59a1e1(0x19f)]({'type':_0x59a1e1(0x292),'id':0x1,'payload':{'data':{'notificationAdded':{'id':'1','message':_0x118847[_0x59a1e1(0x20c)]}}}})),_0x5d9fc2[_0x59a1e1(0x2b0)](),_0x43e399[_0x59a1e1(0x2b0)]();else _0x118847[_0x59a1e1(0x274)](_0x5b14fc['id'],0x2)&&_0x118847[_0x59a1e1(0x274)](_0x5b14fc[_0x59a1e1(0x287)],_0x118847[_0x59a1e1(0x2c4)])&&_0x118847['GKkXg'](_0x576575);}});});}),test(_0x24fa2a(0x22a),_0x193359=>{const _0x58c040=_0x24fa2a,_0x3cab6f={'XCtTE':function(_0x3d618e,_0x35847c){return _0x3d618e+_0x35847c;},'nntsH':'ws://localhost:','azSiV':_0x58c040(0x1bb)},_0x397e37=Fastify();_0x193359['teardown'](()=>_0x397e37[_0x58c040(0x255)]());const _0x459fff=_0x58c040(0x1e0),_0x4f6d30={'Query':{'add':(_0x158c80,{x:_0x173274,y:_0x64d887})=>_0x173274+_0x64d887}};_0x397e37[_0x58c040(0x30d)](GQL,{'schema':_0x459fff,'resolvers':_0x4f6d30,'subscription':{'context':function(){throw new Error('kaboom');}}}),_0x397e37[_0x58c040(0x259)]({'port':0x0},_0x1356f5=>{const _0x5497fa=_0x58c040;_0x193359['error'](_0x1356f5);const _0x26f02d=_0x3cab6f[_0x5497fa(0x279)](_0x3cab6f[_0x5497fa(0x19b)],_0x397e37[_0x5497fa(0x18f)]['address']()[_0x5497fa(0x1fd)])+_0x3cab6f[_0x5497fa(0x2df)],_0xeaafc6=new WebSocket(_0x26f02d,_0x5497fa(0x200)),_0x5546b1=WebSocket['createWebSocketStream'](_0xeaafc6,{'encoding':_0x5497fa(0x1ba),'objectMode':!![]});_0x193359['teardown'](_0x5546b1['destroy'][_0x5497fa(0x269)](_0x5546b1)),_0x5546b1[_0x5497fa(0x27a)](JSON['stringify']({'type':_0x5497fa(0x278)})),_0x193359[_0x5497fa(0x1d5)](_0x5546b1[_0x5497fa(0x1e1)][_0x5497fa(0x269)](_0x5546b1)),_0x5546b1['setEncoding'](_0x5497fa(0x1ba)),_0xeaafc6['on'](_0x5497fa(0x255),()=>{const _0x1319f4=_0x5497fa;_0x5546b1['end'](),_0x193359[_0x1319f4(0x2b0)]();});});}),test(_0x24fa2a(0x25e),_0x72223c=>{const _0x557356=_0x24fa2a,_0x1b8067={'jjyII':'/graphql','Puwhs':function(_0x1777e8,_0x16d154){return _0x1777e8===_0x16d154;},'SvrCu':_0x557356(0x292),'OHNaH':_0x557356(0x25d),'PrSUr':'MOujx','SwdJL':_0x557356(0x18d),'Dmvfo':_0x557356(0x1ba),'BVMAl':_0x557356(0x228),'sFvgh':_0x557356(0x24c)},_0x2e4e90=Fastify();_0x72223c[_0x557356(0x1d5)](async()=>{await _0x2e4e90['close']();});const _0x1bcddc=()=>{const _0x19c6b0=_0x557356;_0x2e4e90[_0x19c6b0(0x209)]({'method':_0x19c6b0(0x280),'url':_0x19c6b0(0x1bb),'body':{'query':_0x19c6b0(0x23a)}},()=>{_0x2b72e8();});},_0x2b72e8=()=>{const _0x3a7a8e=_0x557356;_0x2e4e90[_0x3a7a8e(0x209)]({'method':'POST','url':_0x1b8067[_0x3a7a8e(0x19a)],'body':{'query':_0x3a7a8e(0x2c8)}},()=>{});},_0x3247a4=mq(),_0x430b66=_0x557356(0x1ad);let _0x2b8eb4=0x1;const _0x2d2c13=[{'id':_0x2b8eb4,'message':_0x557356(0x2ce)}],_0x4e4f6b={'Query':{'notifications':()=>_0x2d2c13},'Mutation':{'addNotification':async(_0x4bcbe0,{message:_0x117237})=>{const _0x2b502c=_0x557356,_0x48a6b2=_0x2b8eb4++,_0x315247={'id':_0x48a6b2,'message':_0x117237};return _0x2d2c13[_0x2b502c(0x29c)](_0x315247),await _0x3247a4[_0x2b502c(0x240)]({'topic':_0x2b502c(0x275),'payload':{'notificationAdded':_0x315247}}),_0x315247;}},'Subscription':{'notificationAdded':{'subscribe':(_0x57082d,_0x1d8bd4,{pubsub:_0x531965,topic:_0x2777f2})=>_0x531965[_0x557356(0x27d)](_0x2777f2)}}};_0x2e4e90[_0x557356(0x30d)](GQL,{'schema':_0x430b66,'resolvers':_0x4e4f6b,'subscription':{'emitter':_0x3247a4,'context':async()=>{const _0x3aff8d=_0x557356;return await _0x72223c['context']['clock'][_0x3aff8d(0x236)](0xc8),{'topic':_0x3aff8d(0x275)};}}}),_0x2e4e90[_0x557356(0x259)]({'port':0x0},_0x138835=>{const _0x175ed4=_0x557356,_0x513548={'GQQUP':function(_0xbcf136,_0x14a1f8){const _0x263578=_0x4f1d;return _0x1b8067[_0x263578(0x2b9)](_0xbcf136,_0x14a1f8);},'wWEZp':_0x1b8067[_0x175ed4(0x271)],'oAEJX':function(_0x49a1d1,_0x3f3d00){const _0x5cefed=_0x175ed4;return _0x1b8067[_0x5cefed(0x2b9)](_0x49a1d1,_0x3f3d00);},'AoQFC':_0x1b8067[_0x175ed4(0x1c9)],'mVnsw':function(_0x4aadb5){return _0x4aadb5();},'CBKKk':function(_0x5c5122,_0x4e52e4){return _0x5c5122===_0x4e52e4;},'UYrEY':function(_0x183889,_0x1efec1){return _0x183889===_0x1efec1;},'lbihe':_0x1b8067['PrSUr'],'JCCle':_0x1b8067['SwdJL']};_0x72223c[_0x175ed4(0x1a3)](_0x138835);const _0x557e4f=new WebSocket(_0x175ed4(0x2c3)+_0x2e4e90[_0x175ed4(0x18f)][_0x175ed4(0x2c6)]()[_0x175ed4(0x1fd)]+_0x175ed4(0x1bb),'graphql-ws'),_0x3a1092=WebSocket['createWebSocketStream'](_0x557e4f,{'encoding':_0x175ed4(0x1ba),'objectMode':!![]});_0x72223c[_0x175ed4(0x1d5)](_0x3a1092[_0x175ed4(0x1e1)]['bind'](_0x3a1092)),_0x3a1092['setEncoding'](_0x1b8067[_0x175ed4(0x2c5)]),_0x3a1092[_0x175ed4(0x27a)](JSON[_0x175ed4(0x19f)]({'type':_0x175ed4(0x278)})),_0x3a1092[_0x175ed4(0x27a)](JSON[_0x175ed4(0x19f)]({'id':0x1,'type':_0x175ed4(0x228),'payload':{'query':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20subscription\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20notificationAdded\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20message\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'}})),_0x3a1092[_0x175ed4(0x27a)](JSON[_0x175ed4(0x19f)]({'id':0x2,'type':_0x1b8067['BVMAl'],'payload':{'query':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20subscription\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20notificationAdded\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20message\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'}})),_0x3a1092[_0x175ed4(0x27a)](JSON[_0x175ed4(0x19f)]({'id':0x2,'type':_0x1b8067[_0x175ed4(0x2a6)]})),_0x3a1092['on'](_0x175ed4(0x292),_0x4b56e8=>{const _0x26b92f=_0x175ed4,_0x583aed=JSON['parse'](_0x4b56e8);if(_0x513548[_0x26b92f(0x293)](_0x583aed['id'],0x1)&&_0x583aed[_0x26b92f(0x287)]===_0x26b92f(0x292))_0x72223c[_0x26b92f(0x1d4)](_0x4b56e8,JSON[_0x26b92f(0x19f)]({'type':_0x513548['wWEZp'],'id':0x1,'payload':{'data':{'notificationAdded':{'id':'1','message':_0x26b92f(0x2a7)}}}})),_0x3a1092[_0x26b92f(0x2b0)](),_0x72223c[_0x26b92f(0x2b0)]();else{if(_0x583aed['id']===0x2&&_0x513548['UYrEY'](_0x583aed['type'],_0x513548[_0x26b92f(0x1aa)])){if(_0x513548['UYrEY'](_0x513548['lbihe'],_0x513548[_0x26b92f(0x223)])){const _0x343d16=_0xb42d53['parse'](_0x121419);if(_0x343d16['id']===0x1&&_0x513548[_0x26b92f(0x2be)](_0x343d16[_0x26b92f(0x287)],_0x513548[_0x26b92f(0x2a1)]))_0x5ecd95[_0x26b92f(0x1d4)](_0x4ac077,_0x5b6d4c['stringify']({'type':_0x26b92f(0x292),'id':0x1,'payload':{'data':{'notificationAdded':{'id':'1','message':_0x26b92f(0x2a7)}}}})),_0x1e7982['end'](),_0x381c24[_0x26b92f(0x2b0)]();else _0x513548['oAEJX'](_0x343d16['id'],0x2)&&_0x513548[_0x26b92f(0x2be)](_0x343d16[_0x26b92f(0x287)],_0x513548[_0x26b92f(0x1aa)])&&_0x513548[_0x26b92f(0x30f)](_0x4bc96b);}else _0x1bcddc();}}});});}),test(_0x24fa2a(0x2f1),_0x4e5cd1=>{const _0x40709a=_0x24fa2a,_0xb012d8={'yDFCh':function(_0x2b9128,_0x53ac09){return _0x2b9128===_0x53ac09;},'dozvi':function(_0x504ed0,_0x1cddf0){return _0x504ed0+_0x1cddf0;},'kqmUa':_0x40709a(0x1ba),'ZXhbC':_0x40709a(0x198),'pFVJp':'graphql-ws','eiIGD':_0x40709a(0x278),'eHzCV':_0x40709a(0x255),'CRsDB':function(_0x59224c){return _0x59224c();}},_0x17848a=_0xb012d8[_0x40709a(0x2fd)](Fastify);_0x4e5cd1[_0x40709a(0x1d5)](async()=>{const _0x497d40=_0x40709a;await _0x17848a[_0x497d40(0x255)]();});const _0x481a47=_0x40709a(0x1e0),_0x4e268e={'Query':{'add':(_0xf0df34,{x:_0x5c3f11,y:_0x120cea})=>_0x5c3f11+_0x120cea}};_0x17848a[_0x40709a(0x30d)](GQL,{'schema':_0x481a47,'resolvers':_0x4e268e,'subscription':{'context':async function(){const _0xc2ed3b=_0x40709a,_0xb095ea={'yJCJl':function(_0x50d0df,_0x51378d){const _0x74ca09=_0x4f1d;return _0xb012d8[_0x74ca09(0x2aa)](_0x50d0df,_0x51378d);},'fLpep':_0xb012d8['kqmUa'],'jZBTe':_0xc2ed3b(0x278)};if(_0xc2ed3b(0x215)==='kmTYB'){const _0x1cfc0d={'udgzs':function(_0x5ca47e,_0x3a9e68){const _0x33a499=_0xc2ed3b;return _0xb012d8[_0x33a499(0x2ff)](_0x5ca47e,_0x3a9e68);}},_0x1462c5=_0x88f8ee();_0x75a068[_0xc2ed3b(0x1d5)](()=>_0x1462c5[_0xc2ed3b(0x255)]());const _0x8da67a=_0xc2ed3b(0x1e0),_0x4d31b2={'Query':{'add':(_0x5d3f83,{x:_0x328f4c,y:_0x3633e})=>_0x328f4c+_0x3633e}};_0x1462c5['register'](_0x5dbb2a,{'schema':_0x8da67a,'resolvers':_0x4d31b2,'subscription':{'keepAlive':0x2710}}),_0x1462c5[_0xc2ed3b(0x259)]({'port':0x0},_0xcd2cf0=>{const _0x899088=_0xc2ed3b;_0x1a8d57[_0x899088(0x1a3)](_0xcd2cf0);const _0x131d77=_0xb095ea['yJCJl']('ws://localhost:',_0x1462c5[_0x899088(0x18f)]['address']()[_0x899088(0x1fd)])+_0x899088(0x1bb),_0xe891fd=new _0x35a5af(_0x131d77,'graphql-ws'),_0x4aef7a=_0x397edd[_0x899088(0x206)](_0xe891fd,{'encoding':_0xb095ea[_0x899088(0x1e8)],'objectMode':!![]});_0x2a2f3e[_0x899088(0x1d5)](_0x4aef7a[_0x899088(0x1e1)][_0x899088(0x269)](_0x4aef7a)),_0x4aef7a[_0x899088(0x2bb)](_0x899088(0x1ba)),_0x4aef7a[_0x899088(0x27a)](_0x3c5f35[_0x899088(0x19f)]({'type':_0xb095ea[_0x899088(0x1ed)]})),_0x4aef7a['on'](_0x899088(0x292),_0x501369=>{const _0x51b0ba=_0x899088,_0x4039f5=_0x244825['parse'](_0x501369);if(_0x1cfc0d['udgzs'](_0x4039f5['type'],_0x51b0ba(0x30b)))return;_0x5c6c1d[_0x51b0ba(0x1d4)](_0x4039f5[_0x51b0ba(0x287)],'ka'),_0x4aef7a['end'](),_0x2f693b[_0x51b0ba(0x2b0)]();});});}else{await _0x4e5cd1[_0xc2ed3b(0x304)][_0xc2ed3b(0x2e8)]['tickAsync'](0xc8);throw new Error(_0xb012d8['ZXhbC']);}}}}),_0x17848a[_0x40709a(0x259)]({'port':0x0},_0x482866=>{const _0x29ded8=_0x40709a;_0x4e5cd1[_0x29ded8(0x1a3)](_0x482866);const _0x2023bc=_0xb012d8['dozvi'](_0xb012d8['dozvi'](_0x29ded8(0x2c3),_0x17848a[_0x29ded8(0x18f)][_0x29ded8(0x2c6)]()['port']),_0x29ded8(0x1bb)),_0x20ef08=new WebSocket(_0x2023bc,_0xb012d8[_0x29ded8(0x245)]),_0x239585=WebSocket['createWebSocketStream'](_0x20ef08,{'encoding':_0x29ded8(0x1ba),'objectMode':!![]});_0x4e5cd1['teardown'](_0x239585[_0x29ded8(0x1e1)][_0x29ded8(0x269)](_0x239585)),_0x239585[_0x29ded8(0x2bb)](_0x29ded8(0x1ba)),_0x239585[_0x29ded8(0x27a)](JSON['stringify']({'type':_0xb012d8['eiIGD']})),_0x20ef08['on'](_0xb012d8[_0x29ded8(0x2a0)],()=>{const _0x38e9cd=_0x29ded8;_0x239585['end'](),_0x4e5cd1[_0x38e9cd(0x2b0)]();});});}),test(_0x24fa2a(0x197),_0x52a61d=>{const _0x326c02=_0x24fa2a,_0x4bafbc={'FbilM':function(_0x5153bd,_0x4110d0){return _0x5153bd===_0x4110d0;},'OOPaz':function(_0x35e4a3,_0x334eb0){return _0x35e4a3+_0x334eb0;},'KiGpl':_0x326c02(0x2c3),'BtQrl':_0x326c02(0x1bb),'tTMVl':_0x326c02(0x1ba),'REYNY':_0x326c02(0x228)},_0x148363=Fastify();_0x52a61d[_0x326c02(0x1d5)](()=>_0x148363[_0x326c02(0x255)]());const _0x397809=mq(),_0x4f30e7=_0x326c02(0x272),_0x424969={'Subscription':{'notificationAdded':{'subscribe':()=>{const _0x4b16ca=_0x326c02;throw Error(_0x4b16ca(0x196));}}}};_0x148363[_0x326c02(0x30d)](GQL,{'schema':_0x4f30e7,'resolvers':_0x424969,'subscription':{'emitter':_0x397809}}),_0x148363[_0x326c02(0x259)]({'port':0x0},_0x2e9310=>{const _0x368a75=_0x326c02;_0x52a61d['error'](_0x2e9310);const _0x2d7d53=new WebSocket(_0x4bafbc[_0x368a75(0x217)](_0x4bafbc[_0x368a75(0x1fc)]+_0x148363[_0x368a75(0x18f)][_0x368a75(0x2c6)]()[_0x368a75(0x1fd)],_0x4bafbc[_0x368a75(0x288)]),_0x368a75(0x200)),_0x3204cf=WebSocket[_0x368a75(0x206)](_0x2d7d53,{'encoding':_0x4bafbc['tTMVl'],'objectMode':!![]});_0x52a61d[_0x368a75(0x1d5)](_0x3204cf['destroy']['bind'](_0x3204cf)),_0x3204cf[_0x368a75(0x2bb)](_0x368a75(0x1ba)),_0x3204cf[_0x368a75(0x27a)](JSON[_0x368a75(0x19f)]({'type':'connection_init'})),_0x3204cf[_0x368a75(0x27a)](JSON['stringify']({'id':0x1,'type':_0x4bafbc[_0x368a75(0x247)],'payload':{'query':_0x368a75(0x1a0)}})),_0x3204cf['on'](_0x368a75(0x292),_0x2f9a84=>{const _0x10a610=_0x368a75,_0x517a8b=JSON[_0x10a610(0x1bc)](_0x2f9a84);_0x517a8b['id']===0x1&&_0x4bafbc[_0x10a610(0x2bd)](_0x517a8b[_0x10a610(0x287)],_0x10a610(0x1a3))&&(_0x52a61d[_0x10a610(0x1d4)](_0x2f9a84,JSON[_0x10a610(0x19f)]({'type':_0x10a610(0x1a3),'id':0x1,'payload':'custom\x20execution\x20error'})),_0x3204cf[_0x10a610(0x2b0)](),_0x52a61d[_0x10a610(0x2b0)]());});});}),test(_0x24fa2a(0x254),_0x2aa336=>{const _0x309089=_0x24fa2a,_0x3871a1={'vHSkX':_0x309089(0x275),'DNGZr':'test','ELRLd':function(_0x36b42e,_0x3d0a31){return _0x36b42e+_0x3d0a31;},'Flpdm':_0x309089(0x1bb),'gYMQY':_0x309089(0x200),'FSimr':_0x309089(0x1ba)},_0x19976c=Fastify();_0x2aa336['teardown'](()=>_0x19976c[_0x309089(0x255)]());const _0x262780=_0x309089(0x2d6),_0x205b24=[],_0xffad23={'Query':{'notifications':()=>_0x205b24},'Subscription':{'notificationAdded':{'subscribe':(_0x21639f,_0x4e49f0,{pubsub:_0xc20762})=>_0xc20762[_0x309089(0x27d)]('NOTIFICATION_ADDED')}}};_0x19976c[_0x309089(0x30d)](GQL,{'schema':_0x262780,'resolvers':_0xffad23,'subscription':!![]}),_0x19976c[_0x309089(0x259)]({'port':0x0},_0x5d6eaa=>{const _0x32f7bf=_0x309089;_0x2aa336['error'](_0x5d6eaa);const _0x4dea2d=new WebSocket(_0x3871a1['ELRLd'](_0x3871a1['ELRLd'](_0x32f7bf(0x2c3),_0x19976c[_0x32f7bf(0x18f)]['address']()[_0x32f7bf(0x1fd)]),_0x3871a1[_0x32f7bf(0x1e6)]),_0x3871a1[_0x32f7bf(0x1e2)]),_0x5c4848=WebSocket[_0x32f7bf(0x206)](_0x4dea2d,{'encoding':_0x3871a1[_0x32f7bf(0x2e4)],'objectMode':!![]});_0x2aa336['teardown'](_0x5c4848[_0x32f7bf(0x1e1)]['bind'](_0x5c4848)),_0x5c4848[_0x32f7bf(0x2bb)]('utf8'),_0x5c4848[_0x32f7bf(0x27a)](JSON[_0x32f7bf(0x19f)]({'type':_0x32f7bf(0x278)})),_0x5c4848[_0x32f7bf(0x27a)](JSON[_0x32f7bf(0x19f)]({'id':0x1,'type':_0x32f7bf(0x228),'payload':{'query':_0x32f7bf(0x286)}})),_0x5c4848['on'](_0x32f7bf(0x292),_0x903d50=>{const _0x3e8744=_0x32f7bf,_0x3e300b=JSON[_0x3e8744(0x1bc)](_0x903d50);_0x3e300b[_0x3e8744(0x287)]===_0x3e8744(0x30b)?_0x19976c[_0x3e8744(0x324)][_0x3e8744(0x2d5)][_0x3e8744(0x1a1)]({'topic':_0x3871a1[_0x3e8744(0x20a)],'payload':{'notificationAdded':{'id':0x1,'message':_0x3e8744(0x1eb)}}}):(_0x2aa336['equal'](_0x903d50,JSON[_0x3e8744(0x19f)]({'type':'data','id':0x1,'payload':{'data':{'notificationAdded':{'id':'1','message':_0x3871a1[_0x3e8744(0x323)]}}}})),_0x5c4848[_0x3e8744(0x2b0)](),_0x2aa336['end']());});});}),test(_0x24fa2a(0x191),_0x309adb=>{const _0x142205=_0x24fa2a,_0x3a15d9={'krkFp':_0x142205(0x2f7),'IhNdA':_0x142205(0x228),'IuAEJ':function(_0x2540bb,_0x8902e8){return _0x2540bb!==_0x8902e8;},'GhEaC':_0x142205(0x21f),'KFZAe':function(_0x3d2d16,_0x37bf5e){return _0x3d2d16+_0x37bf5e;},'aCJqR':'graphql-ws','YJeGK':'connection_init','gYNRz':'data'},_0x2608bd=Fastify();_0x309adb[_0x142205(0x1d5)](()=>_0x2608bd[_0x142205(0x255)]());const _0x329686=_0x142205(0x272),_0x371e7c={'Query':{'notifications':()=>[]},'Subscription':{'notificationAdded':{'subscribe':(_0x56d183,_0x17094e,{pubsub:_0x265f7d,topic:_0x5e11eb,hello:_0xe84ff8})=>{const _0x2c1ded=_0x142205;_0x309adb[_0x2c1ded(0x1d4)](_0xe84ff8,_0x3a15d9[_0x2c1ded(0x1dd)]),_0x309adb[_0x2c1ded(0x2b0)](),_0x265f7d[_0x2c1ded(0x27d)](_0x5e11eb);}}}};_0x2608bd[_0x142205(0x30d)](GQL,{'schema':_0x329686,'resolvers':_0x371e7c,'subscription':{'onConnect':()=>({'hello':'world'})}}),_0x2608bd[_0x142205(0x259)]({'port':0x0},_0x25dbca=>{const _0x3253b8=_0x142205;if(_0x3a15d9[_0x3253b8(0x29b)](_0x3a15d9['GhEaC'],_0x3a15d9[_0x3253b8(0x1c0)])){if(!_0x2e55de)return!![];return _0x5b696a['notificationAdded'][_0x3253b8(0x239)]['includes'](_0x5a9aac);}else{_0x309adb[_0x3253b8(0x1a3)](_0x25dbca);const _0x3f0d0e=new WebSocket(_0x3a15d9[_0x3253b8(0x2a2)](_0x3253b8(0x2c3)+_0x2608bd[_0x3253b8(0x18f)][_0x3253b8(0x2c6)]()[_0x3253b8(0x1fd)],'/graphql'),_0x3a15d9[_0x3253b8(0x28f)]),_0x1b442b=WebSocket[_0x3253b8(0x206)](_0x3f0d0e,{'encoding':_0x3253b8(0x1ba),'objectMode':!![]});_0x309adb[_0x3253b8(0x1d5)](_0x1b442b[_0x3253b8(0x1e1)][_0x3253b8(0x269)](_0x1b442b)),_0x1b442b['setEncoding']('utf8'),_0x1b442b['write'](JSON[_0x3253b8(0x19f)]({'type':_0x3a15d9[_0x3253b8(0x1b9)]})),_0x1b442b['on'](_0x3a15d9[_0x3253b8(0x2fb)],_0x525641=>{const _0x5dc33e=_0x3253b8,_0x1a1792=JSON[_0x5dc33e(0x1bc)](_0x525641);_0x1a1792['type']===_0x5dc33e(0x30b)&&(_0x1b442b[_0x5dc33e(0x27a)](JSON['stringify']({'id':0x1,'type':_0x3a15d9['IhNdA'],'payload':{'query':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20subscription\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20notificationAdded\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20message\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'},'extensions':[{'type':_0x5dc33e(0x2a9)}]})),_0x1b442b[_0x5dc33e(0x2b0)]());});}});}),test(_0x24fa2a(0x268),_0x2d9ded=>{const _0x9f2d93=_0x24fa2a,_0x16c0a3={'XcUPO':_0x9f2d93(0x30b),'yIZRp':_0x9f2d93(0x228),'ClsqO':function(_0xf89600,_0x379053){return _0xf89600===_0x379053;},'jAsDj':function(_0x388310,_0x25f4c3){return _0x388310+_0x25f4c3;},'tAAyi':_0x9f2d93(0x2c3),'PfCZa':_0x9f2d93(0x200),'gZAZY':_0x9f2d93(0x216),'SmVcL':'utf8','TkNxs':'connection_init','AfYfk':function(_0x5c9918){return _0x5c9918();}},_0x3a018a=_0x16c0a3['AfYfk'](Fastify);_0x2d9ded[_0x9f2d93(0x1d5)](()=>_0x3a018a['close']());const _0x55807d=_0x9f2d93(0x272),_0x1d61f0={'Query':{'notifications':()=>[]},'Subscription':{'notificationAdded':{'subscribe':(_0x579e8b,_0x83cf41,{pubsub:_0x2eb153,topic:_0x58f3c5,hello:_0x54663e})=>{const _0x105f94=_0x9f2d93;_0x2d9ded['end'](),_0x2eb153[_0x105f94(0x27d)](_0x58f3c5);}}}};_0x3a018a['register'](GQL,{'schema':_0x55807d,'resolvers':_0x1d61f0,'subscription':!![]}),_0x3a018a['listen']({'port':0x0},_0x1f7ae6=>{const _0x16b519=_0x9f2d93,_0x3499b3={'lVYdr':_0x16c0a3['XcUPO'],'YCqzT':_0x16c0a3['yIZRp'],'dQWvd':_0x16b519(0x2a9),'EHrSd':function(_0x6f9a87,_0x5f0e74){const _0x480b3d=_0x16b519;return _0x16c0a3[_0x480b3d(0x31c)](_0x6f9a87,_0x5f0e74);},'KElFS':_0x16b519(0x2a7),'JHCAv':function(_0x3917c0,_0x51411b){const _0xb39dd5=_0x16b519;return _0x16c0a3[_0xb39dd5(0x243)](_0x3917c0,_0x51411b);},'KWqgk':_0x16c0a3[_0x16b519(0x289)],'Obgoa':_0x16c0a3['PfCZa'],'CAOYa':'utf8','knUym':_0x16b519(0x278),'EJYle':_0x16b519(0x24c)};if(_0x16b519(0x2af)!==_0x16c0a3[_0x16b519(0x1ae)]){_0x2d9ded[_0x16b519(0x1a3)](_0x1f7ae6);const _0x197b31=new WebSocket(_0x16c0a3[_0x16b519(0x243)](_0x16b519(0x2c3),_0x3a018a[_0x16b519(0x18f)][_0x16b519(0x2c6)]()[_0x16b519(0x1fd)])+_0x16b519(0x1bb),_0x16b519(0x200)),_0x585020=WebSocket['createWebSocketStream'](_0x197b31,{'encoding':_0x16b519(0x1ba),'objectMode':!![]});_0x2d9ded[_0x16b519(0x1d5)](_0x585020['destroy'][_0x16b519(0x269)](_0x585020)),_0x585020['setEncoding'](_0x16c0a3[_0x16b519(0x1fe)]),_0x585020[_0x16b519(0x27a)](JSON[_0x16b519(0x19f)]({'type':_0x16c0a3[_0x16b519(0x230)]})),_0x585020['on'](_0x16b519(0x292),_0x164290=>{const _0x352d6b=_0x16b519,_0x35c3ed=JSON[_0x352d6b(0x1bc)](_0x164290);_0x35c3ed[_0x352d6b(0x287)]===_0x3499b3[_0x352d6b(0x20d)]&&(_0x585020[_0x352d6b(0x27a)](JSON[_0x352d6b(0x19f)]({'id':0x1,'type':_0x3499b3[_0x352d6b(0x31d)],'payload':{'query':_0x352d6b(0x1a0)},'extensions':[{'type':_0x3499b3[_0x352d6b(0x273)]}]})),_0x585020[_0x352d6b(0x2b0)]());});}else{const _0x21b272={'KOLBQ':function(_0x434c58,_0x1fdb9a){const _0x155673=_0x16b519;return _0x3499b3[_0x155673(0x22d)](_0x434c58,_0x1fdb9a);},'nEhRW':_0x3499b3[_0x16b519(0x1b1)],'vsyoE':_0x16b519(0x25d)};_0x57dd6c[_0x16b519(0x1a3)](_0x34c3c8);const _0x105fcd=new _0x22f4dc(_0x3499b3[_0x16b519(0x20b)](_0x3499b3[_0x16b519(0x24f)],_0xb31f82[_0x16b519(0x18f)][_0x16b519(0x2c6)]()['port'])+_0x16b519(0x1bb),_0x3499b3[_0x16b519(0x205)]),_0x589707=_0x2467a9['createWebSocketStream'](_0x105fcd,{'encoding':_0x16b519(0x1ba),'objectMode':!![]});_0x147c39['teardown'](_0x589707[_0x16b519(0x1e1)]['bind'](_0x589707)),_0x589707[_0x16b519(0x2bb)](_0x3499b3['CAOYa']),_0x589707['write'](_0x16ba2f[_0x16b519(0x19f)]({'type':_0x3499b3[_0x16b519(0x21d)]})),_0x589707[_0x16b519(0x27a)](_0x2e4b24[_0x16b519(0x19f)]({'id':0x1,'type':_0x16b519(0x228),'payload':{'query':_0x16b519(0x1a0)}})),_0x589707[_0x16b519(0x27a)](_0x277703[_0x16b519(0x19f)]({'id':0x2,'type':_0x16b519(0x228),'payload':{'query':_0x16b519(0x1a0)}})),_0x589707[_0x16b519(0x27a)](_0x136cfc[_0x16b519(0x19f)]({'id':0x2,'type':_0x3499b3[_0x16b519(0x208)]})),_0x589707['on'](_0x16b519(0x292),_0x1113ca=>{const _0x2d8072=_0x16b519,_0x41e9d7=_0x26f714[_0x2d8072(0x1bc)](_0x1113ca);if(_0x21b272[_0x2d8072(0x2d8)](_0x41e9d7['id'],0x1)&&_0x41e9d7[_0x2d8072(0x287)]===_0x2d8072(0x292))_0xad342a['equal'](_0x1113ca,_0x2e65d2['stringify']({'type':'data','id':0x1,'payload':{'data':{'notificationAdded':{'id':'1','message':_0x21b272[_0x2d8072(0x1cd)]}}}})),_0x589707[_0x2d8072(0x2b0)](),_0x218aca[_0x2d8072(0x2b0)]();else _0x21b272[_0x2d8072(0x2d8)](_0x41e9d7['id'],0x2)&&_0x41e9d7[_0x2d8072(0x287)]===_0x21b272[_0x2d8072(0x1f2)]&&_0x41955d();});}});}),test(_0x24fa2a(0x211),_0x2a96ff=>{const _0x4e9faf=_0x24fa2a,_0x4a7d6f={'UkndL':'/graphql','xnlkn':'nbUeK','wgyUS':_0x4e9faf(0x1eb),'qNbHh':function(_0x28ae16,_0x456469){return _0x28ae16===_0x456469;},'QSqLr':function(_0x1c6254,_0x512602){return _0x1c6254+_0x512602;},'TpxBQ':_0x4e9faf(0x2c3),'RnjnO':'graphql-ws','PNOnp':_0x4e9faf(0x1ba),'ATtdv':_0x4e9faf(0x228),'uDHrh':_0x4e9faf(0x24c),'MDTet':function(_0x1e5c4d){return _0x1e5c4d();}};_0x2a96ff[_0x4e9faf(0x224)](0x4);const _0x3b1e57=_0x4a7d6f[_0x4e9faf(0x2dc)](Fastify);_0x2a96ff[_0x4e9faf(0x1d5)](()=>_0x3b1e57[_0x4e9faf(0x255)]());const {withFilter:_0x4270df}=GQL;let _0x265c3f=0x0;const _0x29a6c7=[],_0x39095b=_0x4e9faf(0x2f4),_0x109692={'Query':{'notifications':()=>_0x29a6c7},'Mutation':{'addNotification':async(_0x58d280,{message:_0x44c2d1},{pubsub:_0x2f60ba})=>{const _0x2dfa74=_0x4e9faf,_0x7c543e=_0x265c3f++,_0x1ab54b={'id':_0x7c543e,'message':_0x44c2d1};_0x29a6c7['push'](_0x1ab54b),await _0x2f60ba[_0x2dfa74(0x1a1)]({'topic':_0x2dfa74(0x275),'payload':{'notificationAdded':_0x1ab54b}});}},'Subscription':{'notificationAdded':{'subscribe':_0x4270df((_0x4458cd,_0x38ccc5,{pubsub:_0x2a7156})=>_0x2a7156[_0x4e9faf(0x27d)](_0x4e9faf(0x275)),(_0x4b3008,{contains:_0x262004})=>{const _0x356119=_0x4e9faf;if(!_0x262004)return!![];return _0x4b3008['notificationAdded'][_0x356119(0x239)]['includes'](_0x262004);})}}};_0x3b1e57[_0x4e9faf(0x30d)](GQL,{'schema':_0x39095b,'resolvers':_0x109692,'subscription':!![]}),_0x3b1e57[_0x4e9faf(0x259)]({'port':0x0},_0x2970e4=>{const _0x24c674=_0x4e9faf,_0x287c58={'rHmfG':_0x4a7d6f['UkndL'],'JzqnB':_0x4a7d6f[_0x24c674(0x295)],'pQXgM':_0x4a7d6f['wgyUS'],'DWeAV':function(_0x5c995a,_0x49cbcc){const _0x2ae3c8=_0x24c674;return _0x4a7d6f[_0x2ae3c8(0x267)](_0x5c995a,_0x49cbcc);},'xBAfZ':'POST'};_0x2a96ff[_0x24c674(0x1a3)](_0x2970e4);const _0x5e3d17=new WebSocket(_0x4a7d6f[_0x24c674(0x1ea)](_0x4a7d6f['TpxBQ'],_0x3b1e57['server'][_0x24c674(0x2c6)]()[_0x24c674(0x1fd)])+_0x4a7d6f[_0x24c674(0x2d7)],_0x4a7d6f[_0x24c674(0x219)]),_0x538a6c=WebSocket['createWebSocketStream'](_0x5e3d17,{'encoding':_0x24c674(0x1ba),'objectMode':!![]});_0x2a96ff['teardown'](_0x538a6c[_0x24c674(0x1e1)]['bind'](_0x538a6c)),_0x538a6c[_0x24c674(0x2bb)](_0x4a7d6f[_0x24c674(0x319)]),_0x538a6c['write'](JSON[_0x24c674(0x19f)]({'type':_0x24c674(0x278)})),_0x538a6c['write'](JSON[_0x24c674(0x19f)]({'id':0x1,'type':_0x4a7d6f[_0x24c674(0x1fa)],'payload':{'query':_0x24c674(0x29a)}})),_0x538a6c['write'](JSON[_0x24c674(0x19f)]({'id':0x2,'type':_0x4a7d6f[_0x24c674(0x1fa)],'payload':{'query':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20subscription\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20notificationAdded\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20message\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'}})),_0x538a6c[_0x24c674(0x27a)](JSON[_0x24c674(0x19f)]({'id':0x2,'type':_0x4a7d6f[_0x24c674(0x1da)]})),_0x538a6c['on'](_0x24c674(0x292),_0x16d504=>{const _0x4ac4d3=_0x24c674,_0x924a60={'XqDQL':function(_0x42a171,_0x165aef){return _0x42a171===_0x165aef;},'YCGHP':_0x287c58[_0x4ac4d3(0x261)]},_0x203399=JSON['parse'](_0x16d504);if(_0x287c58[_0x4ac4d3(0x2b3)](_0x203399['id'],0x1)&&_0x203399[_0x4ac4d3(0x287)]===_0x4ac4d3(0x292)){if(_0x4ac4d3(0x242)!=='tVtRd'){const _0x469731=_0x294e3b[_0x4ac4d3(0x1bc)](_0x599886);_0x924a60[_0x4ac4d3(0x2d9)](_0x469731['type'],_0x4ac4d3(0x30b))?_0x389846[_0x4ac4d3(0x324)][_0x4ac4d3(0x2d5)]['publish']({'topic':'NOTIFICATION_ADDED','payload':{'notificationAdded':{'id':0x1,'message':_0x4ac4d3(0x1eb)}}}):(_0x2fc18f[_0x4ac4d3(0x1d4)](_0x1e07af,_0x406254[_0x4ac4d3(0x19f)]({'type':'data','id':0x1,'payload':{'data':{'notificationAdded':{'id':'1','message':_0x924a60['YCGHP']}}}})),_0x4e2629[_0x4ac4d3(0x2b0)](),_0x53911c['end']());}else _0x2a96ff['ok'](!_0x203399[_0x4ac4d3(0x314)][_0x4ac4d3(0x292)][_0x4ac4d3(0x20f)]['message'][_0x4ac4d3(0x1b3)](_0x4ac4d3(0x2de))),_0x538a6c[_0x4ac4d3(0x2b0)]();}else _0x203399['id']===0x2&&_0x287c58[_0x4ac4d3(0x2b3)](_0x203399[_0x4ac4d3(0x287)],_0x4ac4d3(0x25d))&&(_0x3b1e57['inject']({'method':_0x287c58[_0x4ac4d3(0x249)],'url':_0x287c58[_0x4ac4d3(0x1df)],'body':{'query':_0x4ac4d3(0x256)}},()=>{const _0x59abda=_0x4ac4d3;_0x2a96ff[_0x59abda(0x21b)]();}),_0x3b1e57['inject']({'method':_0x4ac4d3(0x280),'url':_0x287c58[_0x4ac4d3(0x1df)],'body':{'query':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mutation\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20addNotification(message:\x20\x22Hello\x20World\x22)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'}},()=>{const _0x560b50=_0x4ac4d3,_0x3d7aec={'TidHF':_0x287c58[_0x560b50(0x1df)]};'wuuoG'===_0x287c58[_0x560b50(0x233)]?(_0x1d2e64[_0x560b50(0x209)]({'method':_0x560b50(0x280),'url':_0x3d7aec[_0x560b50(0x221)],'body':{'query':_0x560b50(0x256)}},()=>{const _0x3f35aa=_0x560b50;_0x541f96[_0x3f35aa(0x21b)]();}),_0x1b8167[_0x560b50(0x209)]({'method':'POST','url':_0x3d7aec[_0x560b50(0x221)],'body':{'query':_0x560b50(0x2e7)}},()=>{const _0x3df498=_0x560b50;_0x29344a[_0x3df498(0x21b)]();})):_0x2a96ff[_0x560b50(0x21b)]();}));});});}),test(_0x24fa2a(0x264),_0x48aa4a=>{const _0x29ae6c=_0x24fa2a,_0x5d9179={'vzpre':_0x29ae6c(0x1b0),'ZGpiY':function(_0x299f94,_0x2f7fdc){return _0x299f94!==_0x2f7fdc;},'vAxbY':_0x29ae6c(0x1f0),'AubnN':'filtered','aAZqW':function(_0x24d3b2,_0x55f499){return _0x24d3b2===_0x55f499;},'HWchf':'uqpvx','kCpuS':_0x29ae6c(0x25d),'bVwyZ':_0x29ae6c(0x1bb),'QBQfJ':_0x29ae6c(0x2c3),'aRqIo':'connection_init','cnTyV':'start','kZmji':function(_0x17e1d9){return _0x17e1d9();},'RonBp':function(_0x734125,_0x3a3193,_0x56647d){return _0x734125(_0x3a3193,_0x56647d);}};_0x48aa4a['plan'](0x4);const _0x3c6397=_0x5d9179['kZmji'](Fastify);_0x48aa4a[_0x29ae6c(0x1d5)](()=>_0x3c6397[_0x29ae6c(0x255)]());const {withFilter:_0x374c60}=GQL;let _0x1439df=0x0;const _0x4fcda7=[],_0x34dcef=_0x29ae6c(0x2f4),_0x1f0b72={'Query':{'notifications':()=>_0x4fcda7},'Mutation':{'addNotification':async(_0x704b2,{message:_0x307f8f},{pubsub:_0x470dc5})=>{const _0x388eb0=_0x29ae6c,_0x3c4a93=_0x1439df++,_0x28f176={'id':_0x3c4a93,'message':_0x307f8f};_0x4fcda7[_0x388eb0(0x29c)](_0x28f176),await _0x470dc5[_0x388eb0(0x1a1)]({'topic':_0x388eb0(0x275),'payload':{'notificationAdded':_0x28f176}});}},'Subscription':{'notificationAdded':{'subscribe':_0x5d9179['RonBp'](_0x374c60,(_0x354019,_0x330020,{pubsub:_0x43af25})=>_0x43af25[_0x29ae6c(0x27d)]('NOTIFICATION_ADDED'),(_0x5e8f0f,{contains:_0x540be2})=>{const _0x21b4de=_0x29ae6c;if(_0x5d9179[_0x21b4de(0x305)](_0x21b4de(0x202),'hcQrv')){if(_0x540be2&&!_0x5e8f0f[_0x21b4de(0x20f)][_0x21b4de(0x239)]['includes'](_0x540be2))throw new Error(_0x5d9179[_0x21b4de(0x2f6)]);return!![];}else return _0x5d9179[_0x21b4de(0x2ef)];})}}};_0x3c6397[_0x29ae6c(0x30d)](GQL,{'schema':_0x34dcef,'resolvers':_0x1f0b72,'subscription':!![]}),_0x3c6397[_0x29ae6c(0x259)]({'port':0x0},_0x2a320a=>{const _0x526184=_0x29ae6c,_0x14ea0f={'wAWfr':_0x5d9179['AubnN'],'hlxuR':function(_0x2878d4,_0x2944b5){const _0x378a8e=_0x4f1d;return _0x5d9179[_0x378a8e(0x1ff)](_0x2878d4,_0x2944b5);},'vpdVD':function(_0x167b74,_0x375a76){return _0x5d9179['aAZqW'](_0x167b74,_0x375a76);},'ncibD':_0x526184(0x292),'IoKlB':_0x5d9179['HWchf'],'BiCnH':function(_0x1f453f,_0x141fca){return _0x1f453f===_0x141fca;},'sbZyk':_0x5d9179['kCpuS'],'BKclY':'POST','xQxlT':_0x5d9179['bVwyZ']};_0x48aa4a[_0x526184(0x1a3)](_0x2a320a);const _0x4583ae=new WebSocket(_0x5d9179[_0x526184(0x1f4)]+_0x3c6397[_0x526184(0x18f)]['address']()['port']+_0x5d9179[_0x526184(0x19c)],_0x526184(0x200)),_0x54fc7c=WebSocket[_0x526184(0x206)](_0x4583ae,{'encoding':_0x526184(0x1ba),'objectMode':!![]});_0x48aa4a[_0x526184(0x1d5)](_0x54fc7c[_0x526184(0x1e1)]['bind'](_0x54fc7c)),_0x54fc7c[_0x526184(0x2bb)](_0x526184(0x1ba)),_0x54fc7c[_0x526184(0x27a)](JSON[_0x526184(0x19f)]({'type':_0x5d9179['aRqIo']})),_0x54fc7c[_0x526184(0x27a)](JSON[_0x526184(0x19f)]({'id':0x1,'type':_0x5d9179[_0x526184(0x192)],'payload':{'query':_0x526184(0x29a)}})),_0x54fc7c[_0x526184(0x27a)](JSON['stringify']({'id':0x2,'type':_0x526184(0x228),'payload':{'query':_0x526184(0x229)}})),_0x54fc7c['write'](JSON[_0x526184(0x19f)]({'id':0x2,'type':_0x526184(0x24c)})),_0x54fc7c['on'](_0x526184(0x292),_0x5235c4=>{const _0x445808=_0x526184,_0xaca519=JSON[_0x445808(0x1bc)](_0x5235c4);if(_0x14ea0f['hlxuR'](_0xaca519['id'],0x1)&&_0x14ea0f['vpdVD'](_0xaca519[_0x445808(0x287)],_0x14ea0f[_0x445808(0x1cf)]))_0x14ea0f['IoKlB']===_0x14ea0f[_0x445808(0x26b)]?(_0x48aa4a['ok'](!_0xaca519[_0x445808(0x314)][_0x445808(0x292)][_0x445808(0x20f)][_0x445808(0x239)][_0x445808(0x1b3)](_0x14ea0f[_0x445808(0x241)])),_0x54fc7c[_0x445808(0x2b0)]()):(_0x30d20c['ok'](!_0x221206[_0x445808(0x314)]['data']['notificationAdded'][_0x445808(0x239)]['includes'](_0x14ea0f[_0x445808(0x241)])),_0xd43ae7[_0x445808(0x2b0)]());else _0x14ea0f[_0x445808(0x201)](_0xaca519['id'],0x2)&&_0xaca519[_0x445808(0x287)]===_0x14ea0f[_0x445808(0x28a)]&&(_0x3c6397['inject']({'method':_0x14ea0f[_0x445808(0x1c6)],'url':'/graphql','body':{'query':_0x445808(0x256)}},()=>{const _0x295792=_0x445808;_0x48aa4a[_0x295792(0x21b)]();}),_0x3c6397[_0x445808(0x209)]({'method':_0x14ea0f[_0x445808(0x1c6)],'url':_0x14ea0f[_0x445808(0x1c7)],'body':{'query':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mutation\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20addNotification(message:\x20\x22Hello\x20World\x22)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'}},()=>{const _0x17027c=_0x445808;_0x48aa4a[_0x17027c(0x21b)]();}));});});}),test('`withFilter`\x20tool\x20works\x20with\x20async\x20filters',_0x246d89=>{const _0x2702fd=_0x24fa2a,_0x21f485={'ZrSTj':_0x2702fd(0x275),'TfSMY':_0x2702fd(0x282),'cLcAf':function(_0x189335){return _0x189335();},'EIdBv':'JNLAF','OmIVC':_0x2702fd(0x1bb),'hSjEn':_0x2702fd(0x228),'ZJXSZ':_0x2702fd(0x24c),'ZPbVV':_0x2702fd(0x292)};_0x246d89['plan'](0x4);const _0x45a507=_0x21f485[_0x2702fd(0x1d7)](Fastify);_0x246d89[_0x2702fd(0x1d5)](()=>_0x45a507[_0x2702fd(0x255)]());const {withFilter:_0x463b2e}=GQL;let _0x219b99=0x0;const _0x4b18f0=[],_0x58f783=_0x2702fd(0x2f4),_0x1994a3={'Query':{'notifications':()=>_0x4b18f0},'Mutation':{'addNotification':async(_0x121b2f,{message:_0x5a25ed},{pubsub:_0x2877e8})=>{const _0x3b5a16=_0x219b99++,_0x41cbb1={'id':_0x3b5a16,'message':_0x5a25ed};_0x4b18f0['push'](_0x41cbb1),await _0x2877e8['publish']({'topic':_0x21f485['ZrSTj'],'payload':{'notificationAdded':_0x41cbb1}});}},'Subscription':{'notificationAdded':{'subscribe':_0x463b2e((_0x3b6986,_0x4b3f67,{pubsub:_0x56e759})=>_0x56e759[_0x2702fd(0x27d)](_0x2702fd(0x275)),async(_0x112896,{contains:_0x22c3fa})=>{const _0x2b7d5c=_0x2702fd;if(_0x2b7d5c(0x1e9)!==_0x21f485['TfSMY']){if(!_0x22c3fa)return!![];return _0x112896[_0x2b7d5c(0x20f)]['message'][_0x2b7d5c(0x1b3)](_0x22c3fa);}else _0x15e286['pass']();})}}};_0x45a507['register'](GQL,{'schema':_0x58f783,'resolvers':_0x1994a3,'subscription':!![]}),_0x45a507[_0x2702fd(0x259)]({'port':0x0},_0x58fb97=>{const _0x28b7f6=_0x2702fd,_0x2c9c22={'anjdt':function(_0x4a0c4b){const _0x435426=_0x4f1d;return _0x21f485[_0x435426(0x1d7)](_0x4a0c4b);},'VPSvA':function(_0xbba8ac,_0x2e4bdd){return _0xbba8ac===_0x2e4bdd;},'dAJVO':_0x21f485[_0x28b7f6(0x1de)],'DXCsf':_0x28b7f6(0x301),'zOGJd':function(_0x12839c,_0x401dd8){return _0x12839c===_0x401dd8;},'zHziL':'POST','uqsXk':_0x21f485[_0x28b7f6(0x1bf)]};_0x246d89[_0x28b7f6(0x1a3)](_0x58fb97);const _0x417a69=new WebSocket('ws://localhost:'+_0x45a507[_0x28b7f6(0x18f)][_0x28b7f6(0x2c6)]()['port']+_0x28b7f6(0x1bb),_0x28b7f6(0x200)),_0x3aac41=WebSocket['createWebSocketStream'](_0x417a69,{'encoding':_0x28b7f6(0x1ba),'objectMode':!![]});_0x246d89[_0x28b7f6(0x1d5)](_0x3aac41[_0x28b7f6(0x1e1)][_0x28b7f6(0x269)](_0x3aac41)),_0x3aac41['setEncoding']('utf8'),_0x3aac41['write'](JSON[_0x28b7f6(0x19f)]({'type':_0x28b7f6(0x278)})),_0x3aac41[_0x28b7f6(0x27a)](JSON[_0x28b7f6(0x19f)]({'id':0x1,'type':_0x21f485[_0x28b7f6(0x26c)],'payload':{'query':_0x28b7f6(0x29a)}})),_0x3aac41[_0x28b7f6(0x27a)](JSON[_0x28b7f6(0x19f)]({'id':0x2,'type':_0x21f485['hSjEn'],'payload':{'query':_0x28b7f6(0x229)}})),_0x3aac41['write'](JSON[_0x28b7f6(0x19f)]({'id':0x2,'type':_0x21f485[_0x28b7f6(0x298)]})),_0x3aac41['on'](_0x21f485[_0x28b7f6(0x1d6)],_0x24e0ef=>{const _0x16e6e6=_0x28b7f6,_0x193fd4={'vbpKs':function(_0x4b6158){return _0x2c9c22['anjdt'](_0x4b6158);}};if('HbGTM'!=='HbGTM'){const _0x45a478={'cgFTc':function(_0x4715c8){const _0x41d69a=_0x4f1d;return _0x193fd4[_0x41d69a(0x311)](_0x4715c8);}};_0x568fb0[_0x16e6e6(0x209)]({'method':'POST','url':_0x16e6e6(0x1bb),'body':{'query':_0x16e6e6(0x23a)}},()=>{_0x45a478['cgFTc'](_0x8cc866);});}else{const _0x209163=JSON[_0x16e6e6(0x1bc)](_0x24e0ef);if(_0x2c9c22['VPSvA'](_0x209163['id'],0x1)&&_0x209163[_0x16e6e6(0x287)]===_0x16e6e6(0x292)){if(_0x2c9c22[_0x16e6e6(0x195)](_0x2c9c22['dAJVO'],_0x2c9c22[_0x16e6e6(0x1ce)])){const _0x3416d9=_0x3217e1=>{const _0x437392=_0x16e6e6;_0x1fd956[_0x437392(0x29c)](_0x3217e1);},_0x31cef5=()=>{const _0x4d5d1d=_0x16e6e6;this[_0x4d5d1d(0x1f1)][_0x4d5d1d(0x27f)](_0x75c5e4,_0x3416d9);};this[_0x16e6e6(0x1f1)]['on'](_0x3d4c3f,_0x3416d9),_0x13ae06[_0x16e6e6(0x255)]=_0x31cef5;}else _0x246d89['ok'](!_0x209163[_0x16e6e6(0x314)][_0x16e6e6(0x292)]['notificationAdded'][_0x16e6e6(0x239)]['includes']('filtered')),_0x3aac41['end']();}else _0x209163['id']===0x2&&_0x2c9c22[_0x16e6e6(0x284)](_0x209163[_0x16e6e6(0x287)],_0x16e6e6(0x25d))&&(_0x45a507[_0x16e6e6(0x209)]({'method':_0x2c9c22['zHziL'],'url':_0x16e6e6(0x1bb),'body':{'query':_0x16e6e6(0x256)}},()=>{const _0x3a4a4b=_0x16e6e6;_0x246d89[_0x3a4a4b(0x21b)]();}),_0x45a507['inject']({'method':_0x16e6e6(0x280),'url':_0x2c9c22[_0x16e6e6(0x291)],'body':{'query':_0x16e6e6(0x2e7)}},()=>{const _0x478764=_0x16e6e6;_0x246d89[_0x478764(0x21b)]();}));}});});}),test(_0x24fa2a(0x23d),_0x3175b9=>{const _0x52e355=_0x24fa2a,_0x12dff2={'nDrkc':function(_0x2a30c3,_0xf163fc){return _0x2a30c3+_0xf163fc;},'EEGCq':function(_0x18adec,_0xf41641){return _0x18adec===_0xf41641;},'aaXZB':_0x52e355(0x280),'hthJg':_0x52e355(0x1bb),'unzCJ':'utf8','zTPzw':_0x52e355(0x278),'kOnHn':_0x52e355(0x228),'frfNY':_0x52e355(0x24c),'cenkv':function(_0x2483dd,_0x3d6e6f){return _0x2483dd===_0x3d6e6f;},'RbDix':'gMyey','yxlcy':function(_0x2f41dc,_0x21d4ad){return _0x2f41dc===_0x21d4ad;},'xeIVq':_0x52e355(0x292),'Kzfmr':_0x52e355(0x2a7),'KOYNP':_0x52e355(0x23c),'VnDBC':function(_0x30efcf){return _0x30efcf();}},_0xe3ed11=_0x12dff2[_0x52e355(0x2f8)](Fastify);_0x3175b9[_0x52e355(0x1d5)](()=>_0xe3ed11['close']()),_0x3175b9[_0x52e355(0x224)](0x3),_0xe3ed11[_0x52e355(0x30d)](fastifyWebsocket,{'options':{'maxPayload':0x100000}}),_0xe3ed11['register'](async function(_0x26898e){const _0x369a23=_0x52e355,_0x3625a4={'MzEuT':'message'};_0x26898e[_0x369a23(0x214)]('/fastify-websocket',{'websocket':!![]},(_0x5a008c,_0x243163)=>{const _0x15afb9=_0x369a23;_0x5a008c[_0x15afb9(0x306)]['on'](_0x3625a4[_0x15afb9(0x326)],_0x2533e4=>{const _0x34b9a1=_0x15afb9;_0x5a008c[_0x34b9a1(0x306)][_0x34b9a1(0x30a)]('hi\x20from\x20server');});});});const _0x3680f0=()=>{const _0x4291fe=_0x52e355,_0x3208ca={'mVgBs':function(_0x182e0a,_0x492f56){const _0x2e095f=_0x4f1d;return _0x12dff2[_0x2e095f(0x2b5)](_0x182e0a,_0x492f56);},'tYNsj':'ws://localhost:','qgyDr':_0x4291fe(0x1bb),'LOCqb':_0x4291fe(0x200),'Ehzdx':'utf8'};if(_0x12dff2[_0x4291fe(0x1a4)](_0x4291fe(0x2b6),'tzjYA')){const _0x1103b5={'pUPEh':function(_0x53ebdd,_0x175fc5){return _0x53ebdd===_0x175fc5;},'AoLaN':_0x4291fe(0x1a3)};_0x369100[_0x4291fe(0x1a3)](_0x97d39d);const _0x1c75b0=new _0x36554c(_0x3208ca[_0x4291fe(0x2f3)](_0x3208ca[_0x4291fe(0x24b)],_0x1f0dfe['server'][_0x4291fe(0x2c6)]()['port'])+_0x3208ca[_0x4291fe(0x299)],_0x3208ca[_0x4291fe(0x27e)]),_0x539622=_0x223817[_0x4291fe(0x206)](_0x1c75b0,{'encoding':'utf8','objectMode':!![]});_0x3abf52['teardown'](_0x539622[_0x4291fe(0x1e1)]['bind'](_0x539622)),_0x539622[_0x4291fe(0x2bb)](_0x3208ca['Ehzdx']),_0x539622['write'](_0x16a5df[_0x4291fe(0x19f)]({'type':_0x4291fe(0x278)})),_0x539622['write'](_0x287b70[_0x4291fe(0x19f)]({'id':0x1,'type':'start','payload':{'query':_0x4291fe(0x1a0)}})),_0x539622['on'](_0x4291fe(0x292),_0x25ca5b=>{const _0x473107=_0x4291fe,_0x4a183b=_0x5a7059['parse'](_0x25ca5b);_0x4a183b['id']===0x1&&_0x1103b5[_0x473107(0x194)](_0x4a183b[_0x473107(0x287)],_0x1103b5[_0x473107(0x270)])&&(_0x37e8f6[_0x473107(0x1d4)](_0x25ca5b,_0x455124[_0x473107(0x19f)]({'type':_0x1103b5[_0x473107(0x270)],'id':0x1,'payload':_0x473107(0x196)})),_0x539622['end'](),_0x29dbc4[_0x473107(0x2b0)]());});}else _0xe3ed11[_0x4291fe(0x209)]({'method':_0x12dff2[_0x4291fe(0x1ee)],'url':_0x4291fe(0x1bb),'body':{'query':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mutation\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20addNotification(message:\x20\x22Hello\x20World\x22)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'}});},_0x4944bb=mq(),_0x225d47=_0x52e355(0x1ad);let _0x37c5e7=0x1;const _0x3fcf78=[{'id':_0x37c5e7,'message':_0x52e355(0x2ce)}],_0x2578bc={'Query':{'notifications':()=>_0x3fcf78},'Mutation':{'addNotification':async(_0x1de80c,{message:_0x4bdb1c})=>{const _0x4f3742=_0x52e355,_0x548371={'PpRuV':function(_0x23becc,_0x231e15){const _0x31b617=_0x4f1d;return _0x12dff2[_0x31b617(0x2b7)](_0x23becc,_0x231e15);},'DkIIx':'Hello\x20World'};if('bCyBl'===_0x12dff2['RbDix']){_0xca29ff[_0x4f3742(0x1a3)](_0x300657);const _0x49a8ca=new _0x15bde0(_0x12dff2[_0x4f3742(0x2b5)]('ws://localhost:',_0x306e4f[_0x4f3742(0x18f)]['address']()[_0x4f3742(0x1fd)])+_0x12dff2[_0x4f3742(0x246)],_0x4f3742(0x200)),_0x2d9485=_0x394477[_0x4f3742(0x206)](_0x49a8ca,{'encoding':_0x4f3742(0x1ba),'objectMode':!![]});_0x52cfba['teardown'](_0x2d9485[_0x4f3742(0x1e1)][_0x4f3742(0x269)](_0x2d9485)),_0x2d9485['setEncoding'](_0x12dff2[_0x4f3742(0x1f9)]),_0x2d9485[_0x4f3742(0x27a)](_0x12ba77['stringify']({'type':_0x12dff2[_0x4f3742(0x1d8)],'payload':{'headers':{'authorization':_0x4f3742(0x212)}}})),_0x2d9485[_0x4f3742(0x27a)](_0x2f3e40[_0x4f3742(0x19f)]({'id':0x1,'type':_0x12dff2['kOnHn'],'payload':{'query':_0x4f3742(0x1a0)}})),_0x2d9485['write'](_0x4ddd04[_0x4f3742(0x19f)]({'id':0x2,'type':_0x4f3742(0x228),'payload':{'query':_0x4f3742(0x1a0)}})),_0x2d9485[_0x4f3742(0x27a)](_0x2fff2d[_0x4f3742(0x19f)]({'id':0x2,'type':_0x12dff2[_0x4f3742(0x2e2)]})),_0x2d9485['on']('data',_0x105153=>{const _0x4eb6b6=_0x4f3742,_0x2c2027=_0x49fb4b[_0x4eb6b6(0x1bc)](_0x105153);if(_0x2c2027['id']===0x1&&_0x548371['PpRuV'](_0x2c2027[_0x4eb6b6(0x287)],_0x4eb6b6(0x292)))_0x11770a[_0x4eb6b6(0x1d4)](_0x105153,_0x4929a4[_0x4eb6b6(0x19f)]({'type':_0x4eb6b6(0x292),'id':0x1,'payload':{'data':{'notificationAdded':{'id':'1','message':_0x548371['DkIIx']}}}})),_0x2d9485[_0x4eb6b6(0x2b0)](),_0x3c9dac[_0x4eb6b6(0x2b0)]();else _0x2c2027['id']===0x2&&_0x548371[_0x4eb6b6(0x2b2)](_0x2c2027['type'],'complete')&&_0x100c69();});}else{const _0x131031=_0x37c5e7++,_0x311ddc={'id':_0x131031,'message':_0x4bdb1c};return _0x3fcf78[_0x4f3742(0x29c)](_0x311ddc),await _0x4944bb[_0x4f3742(0x240)]({'topic':_0x4f3742(0x275),'payload':{'notificationAdded':_0x311ddc}}),_0x311ddc;}}},'Subscription':{'notificationAdded':{'subscribe':(_0x1f645d,_0x25a1d2,{pubsub:_0x3ad503})=>_0x3ad503[_0x52e355(0x27d)](_0x52e355(0x275))}}};_0xe3ed11[_0x52e355(0x30d)](GQL,{'schema':_0x225d47,'resolvers':_0x2578bc,'subscription':{'emitter':_0x4944bb}}),_0xe3ed11[_0x52e355(0x259)]({'port':0x0},_0x155a79=>{const _0x1ea928=_0x52e355,_0x185b87={'rWZUo':_0x12dff2[_0x1ea928(0x262)]};_0x3175b9[_0x1ea928(0x1a3)](_0x155a79);const _0x3d35af=new WebSocket(_0x12dff2[_0x1ea928(0x2b5)](_0x1ea928(0x2c3)+_0xe3ed11[_0x1ea928(0x18f)][_0x1ea928(0x2c6)]()[_0x1ea928(0x1fd)],'/fastify-websocket')),_0x176ae3=WebSocket['createWebSocketStream'](_0x3d35af,{'encoding':_0x12dff2[_0x1ea928(0x1f9)],'objectMode':!![]});_0x3175b9[_0x1ea928(0x1d5)](_0x176ae3[_0x1ea928(0x1e1)][_0x1ea928(0x269)](_0x176ae3)),_0x176ae3[_0x1ea928(0x2bb)](_0x12dff2['unzCJ']);const _0x54b901=new WebSocket(_0x1ea928(0x2c3)+_0xe3ed11[_0x1ea928(0x18f)]['address']()[_0x1ea928(0x1fd)]+_0x12dff2[_0x1ea928(0x246)],'graphql-ws'),_0x282fe9=WebSocket[_0x1ea928(0x206)](_0x54b901,{'encoding':_0x12dff2['unzCJ'],'objectMode':!![]});_0x3175b9[_0x1ea928(0x1d5)](_0x282fe9[_0x1ea928(0x1e1)][_0x1ea928(0x269)](_0x282fe9)),_0x282fe9['setEncoding'](_0x1ea928(0x1ba)),_0x176ae3['on'](_0x12dff2[_0x1ea928(0x277)],_0xab19=>{const _0x1de29c=_0x1ea928;_0x3175b9['equal'](_0xab19,_0x185b87[_0x1de29c(0x28e)]),_0x176ae3[_0x1de29c(0x2b0)]();}),_0x282fe9['on'](_0x1ea928(0x292),_0x2b48c5=>{const _0xdaefe0=_0x1ea928,_0x426c6e=JSON[_0xdaefe0(0x1bc)](_0x2b48c5);_0x12dff2[_0xdaefe0(0x2dd)](_0x426c6e[_0xdaefe0(0x287)],_0x12dff2[_0xdaefe0(0x277)])?(_0x3175b9[_0xdaefe0(0x1d4)](_0x2b48c5,JSON[_0xdaefe0(0x19f)]({'type':_0x12dff2['xeIVq'],'id':0x1,'payload':{'data':{'notificationAdded':{'id':'1','message':_0x12dff2[_0xdaefe0(0x1c8)]}}}})),_0x282fe9['end']()):_0x3680f0();}),_0x176ae3[_0x1ea928(0x27a)]('hi\x20from\x20client'),_0x282fe9[_0x1ea928(0x27a)](JSON[_0x1ea928(0x19f)]({'type':_0x1ea928(0x278)})),_0x282fe9[_0x1ea928(0x27a)](JSON[_0x1ea928(0x19f)]({'id':0x1,'type':_0x12dff2[_0x1ea928(0x28d)],'payload':{'query':_0x1ea928(0x1a0)}}));});}),test(_0x24fa2a(0x26f),_0x2b7468=>{const _0x2bde7e=_0x24fa2a,_0x1c65f8={'oYBSp':'POST','MoNCP':_0x2bde7e(0x1bb),'jpnlT':_0x2bde7e(0x2b4),'AOIoG':_0x2bde7e(0x275),'xbxFD':function(_0x4e1355,_0x12e38c){return _0x4e1355===_0x12e38c;},'bXmew':'data','DUSxt':_0x2bde7e(0x25d),'Ywnbm':function(_0x53e78a){return _0x53e78a();},'gTUKA':'test','VAUmQ':function(_0xc50a73,_0x152ac1){return _0xc50a73+_0x152ac1;},'zUlfN':_0x2bde7e(0x200),'BqfgB':_0x2bde7e(0x1ba),'tXXSq':_0x2bde7e(0x228),'oIVup':_0x2bde7e(0x24c),'KUDeR':function(_0x58179f){return _0x58179f();},'XzXzE':function(_0x4c4997){return _0x4c4997();},'WXCpH':_0x2bde7e(0x2ce)},_0x5f33de=_0x1c65f8[_0x2bde7e(0x2a3)](Fastify);_0x2b7468[_0x2bde7e(0x1d5)](async()=>{const _0x111dec=_0x2bde7e;await _0x5f33de[_0x111dec(0x255)]();});const _0xd48d79=()=>{const _0x1cea13=_0x2bde7e;_0x5f33de[_0x1cea13(0x209)]({'method':_0x1c65f8['oYBSp'],'url':_0x1c65f8[_0x1cea13(0x2f0)],'body':{'query':_0x1cea13(0x2c8)}},()=>{});},_0x5bae20=_0x1c65f8[_0x2bde7e(0x2e6)](mq),_0x432732='\x0a\x20\x20\x20\x20type\x20Notification\x20{\x0a\x20\x20\x20\x20\x20\x20id:\x20ID!\x0a\x20\x20\x20\x20\x20\x20message:\x20String\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20type\x20Query\x20{\x0a\x20\x20\x20\x20\x20\x20notifications:\x20[Notification]\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20type\x20Mutation\x20{\x0a\x20\x20\x20\x20\x20\x20addNotification(message:\x20String):\x20Notification\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20type\x20Subscription\x20{\x0a\x20\x20\x20\x20\x20\x20notificationAdded:\x20Notification\x0a\x20\x20\x20\x20}\x0a\x20\x20';let _0x5676c9=0x1;const _0x2ca149=[{'id':_0x5676c9,'message':_0x1c65f8[_0x2bde7e(0x222)]}],_0x419d73={'Notification':{'message':async(_0x88a90f,_0x5c294a)=>{const _0x2e995e=_0x2bde7e;_0x2b7468['ok'](_0x5c294a,_0x2e995e(0x31a));const {username:_0x5759a0}=_0x5c294a;return _0x88a90f[_0x2e995e(0x2c0)](({obj:_0x720c52})=>_0x720c52[_0x2e995e(0x239)]+'\x20'+_0x5759a0);}}},_0x533bc3={'Query':{'notifications':()=>_0x2ca149},'Mutation':{'addNotification':async(_0x454d10,{message:_0x5f86c2})=>{const _0x181462=_0x2bde7e;if('dECaJ'===_0x1c65f8[_0x181462(0x226)])_0x4d15f1();else{const _0x329d1e=_0x5676c9++,_0xacadba={'id':_0x329d1e,'message':_0x5f86c2};return _0x2ca149['push'](_0xacadba),await _0x5bae20[_0x181462(0x240)]({'topic':_0x1c65f8[_0x181462(0x22c)],'payload':{'notificationAdded':_0xacadba}}),_0xacadba;}}},'Subscription':{'notificationAdded':{'subscribe':(_0x42da36,_0x22073e,{pubsub:_0xb8867c,topic:_0x5cdbfc})=>_0xb8867c[_0x2bde7e(0x27d)](_0x5cdbfc)}}};_0x5f33de[_0x2bde7e(0x30d)](GQL,{'schema':_0x432732,'resolvers':_0x533bc3,'loaders':_0x419d73,'subscription':{'emitter':_0x5bae20,'context':()=>({'topic':_0x2bde7e(0x275),'username':_0x2bde7e(0x235)})}}),_0x5f33de[_0x2bde7e(0x259)]({'port':0x0},_0x4fbabf=>{const _0x1b3287=_0x2bde7e;if(_0x1b3287(0x21e)!==_0x1b3287(0x234)){_0x2b7468[_0x1b3287(0x1a3)](_0x4fbabf);const _0x2a517d=new WebSocket(_0x1c65f8[_0x1b3287(0x193)](_0x1b3287(0x2c3)+_0x5f33de['server'][_0x1b3287(0x2c6)]()[_0x1b3287(0x1fd)],_0x1b3287(0x1bb)),_0x1c65f8[_0x1b3287(0x2e5)]),_0x310f38=WebSocket['createWebSocketStream'](_0x2a517d,{'encoding':_0x1b3287(0x1ba),'objectMode':!![]});_0x2b7468['teardown'](_0x310f38[_0x1b3287(0x1e1)][_0x1b3287(0x269)](_0x310f38)),_0x310f38['setEncoding'](_0x1c65f8[_0x1b3287(0x20e)]),_0x310f38[_0x1b3287(0x27a)](JSON[_0x1b3287(0x19f)]({'type':_0x1b3287(0x278)})),_0x310f38[_0x1b3287(0x27a)](JSON[_0x1b3287(0x19f)]({'id':0x1,'type':_0x1c65f8[_0x1b3287(0x276)],'payload':{'query':_0x1b3287(0x1a0)}})),_0x310f38[_0x1b3287(0x27a)](JSON[_0x1b3287(0x19f)]({'id':0x2,'type':_0x1c65f8[_0x1b3287(0x276)],'payload':{'query':_0x1b3287(0x1a0)}})),_0x310f38['write'](JSON[_0x1b3287(0x19f)]({'id':0x2,'type':_0x1c65f8[_0x1b3287(0x297)]})),_0x310f38['on'](_0x1b3287(0x292),_0x497ffc=>{const _0xb67abe=_0x1b3287,_0x543ef8=JSON[_0xb67abe(0x1bc)](_0x497ffc);if(_0x543ef8['id']===0x1&&_0x1c65f8['xbxFD'](_0x543ef8[_0xb67abe(0x287)],_0x1c65f8[_0xb67abe(0x22b)]))_0x2b7468[_0xb67abe(0x1d4)](_0x497ffc,JSON[_0xb67abe(0x19f)]({'type':_0xb67abe(0x292),'id':0x1,'payload':{'data':{'notificationAdded':{'id':'1','message':_0xb67abe(0x1ca)}}}})),_0x310f38[_0xb67abe(0x2b0)](),_0x2b7468[_0xb67abe(0x2b0)]();else _0x543ef8['id']===0x2&&_0x543ef8[_0xb67abe(0x287)]===_0x1c65f8[_0xb67abe(0x2d2)]&&_0x1c65f8[_0xb67abe(0x312)](_0xd48d79);});}else _0x55f7c1[_0x1b3287(0x324)][_0x1b3287(0x2d5)][_0x1b3287(0x1a1)]({'topic':_0x1b3287(0x275),'payload':{'notificationAdded':{'id':0x1,'message':_0x1c65f8['gTUKA']}}});});}),test('request\x20and\x20reply\x20objects\x20in\x20subscription\x20context',_0x2a8042=>{const _0x430cdc=_0x24fa2a,_0x5c153f={'vpkYF':'Bearer\x20foobar','eeZKl':_0x430cdc(0x2bf),'oLNuF':_0x430cdc(0x280),'zTesf':_0x430cdc(0x1bb),'NuHbL':_0x430cdc(0x1db),'jZyzD':function(_0x5bbce1,_0x53b3ed){return _0x5bbce1+_0x53b3ed;},'ExGDF':_0x430cdc(0x2c3),'uwcsu':'graphql-ws','xvztt':_0x430cdc(0x1ba),'RYSwK':function(_0xd382c,_0x6f3c6b){return _0xd382c+_0x6f3c6b;},'sUawA':_0x430cdc(0x278),'DEVzD':_0x430cdc(0x30b),'CWrAq':function(_0x14b25f,_0x8372df){return _0x14b25f===_0x8372df;},'FlNlw':_0x430cdc(0x1d0),'MFYLx':_0x430cdc(0x23e),'RiyFc':_0x430cdc(0x275),'HhFgl':_0x430cdc(0x25d),'BcVfT':function(_0x421a6e){return _0x421a6e();},'jSPWL':_0x430cdc(0x228),'spnUS':_0x430cdc(0x2ce)},_0x518c0f=Fastify();_0x2a8042['teardown'](()=>_0x518c0f['close']());const _0x557087=()=>{const _0x240656=_0x430cdc,_0x3fe46d={'DnTkG':_0x5c153f[_0x240656(0x2f5)],'StPRo':'NOTIFICATION_ADDED','iCxpH':_0x240656(0x1ab),'koCWp':'jeoNb','ksvII':function(_0x1dc814){return _0x1dc814();},'cQylG':'data','QnQko':'Hello\x20World'};_0x5c153f['eeZKl']===_0x5c153f['eeZKl']?_0x518c0f[_0x240656(0x209)]({'method':_0x5c153f['oLNuF'],'url':_0x240656(0x1bb),'body':{'query':_0x240656(0x23a)}},()=>{const _0x1a5780=_0x240656;if(_0x3fe46d[_0x1a5780(0x2d3)]===_0x3fe46d[_0x1a5780(0x1f8)])return _0xbce193[_0x1a5780(0x1d4)](_0x3f1458[_0x1a5780(0x2ed)][_0x1a5780(0x2ae)]['foo'](),_0x1a5780(0x1b0)),_0x3490e3[_0x1a5780(0x1d4)](_0xf93970[_0x1a5780(0x2ed)][_0x1a5780(0x2ae)][_0x1a5780(0x25a)][_0x1a5780(0x26d)],_0x3fe46d['DnTkG']),_0x383f69[_0x1a5780(0x2d5)][_0x1a5780(0x27d)](_0x3fe46d['StPRo']);else _0x3fe46d[_0x1a5780(0x1dc)](_0x1a2d2d);}):(_0x2f73e1[_0x240656(0x1d4)](_0x30cf9e,_0x350ef8[_0x240656(0x19f)]({'type':_0x3fe46d['cQylG'],'id':0x1,'payload':{'data':{'notificationAdded':{'id':'1','message':_0x3fe46d[_0x240656(0x2eb)]}}}})),_0x35a1fb[_0x240656(0x2b0)](),_0x150b73[_0x240656(0x2b0)]());},_0x1a2d2d=()=>{const _0x449d59=_0x430cdc;_0x449d59(0x2ab)!==_0x5c153f[_0x449d59(0x244)]?_0x518c0f['inject']({'method':_0x5c153f[_0x449d59(0x1b8)],'url':_0x5c153f[_0x449d59(0x2cd)],'body':{'query':_0x449d59(0x2c8)}},()=>{}):(_0x467be1[_0x449d59(0x209)]({'method':_0x5c153f[_0x449d59(0x1b8)],'url':_0x5c153f[_0x449d59(0x2cd)],'body':{'query':_0x449d59(0x256)}},()=>{const _0x55244a=_0x449d59;_0x2adc58[_0x55244a(0x21b)]();}),_0x593cf6[_0x449d59(0x209)]({'method':'POST','url':_0x449d59(0x1bb),'body':{'query':_0x449d59(0x2e7)}},()=>{const _0x3c0547=_0x449d59;_0x5cbeb0[_0x3c0547(0x21b)]();}));},_0x2a04f1=_0x5c153f[_0x430cdc(0x2b8)](mq),_0x3a8227=_0x430cdc(0x1ad);_0x518c0f[_0x430cdc(0x300)](_0x430cdc(0x1af),function(){const _0x12be88=_0x430cdc;if('latVT'==='lNcxY'){_0x2aaf97['error'](_0xadb7a0);const _0x137883=_0x5c153f[_0x12be88(0x2ee)](_0x5c153f[_0x12be88(0x1a5)],_0x3ee88e[_0x12be88(0x18f)]['address']()[_0x12be88(0x1fd)])+_0x5c153f[_0x12be88(0x2cd)],_0x4ade24=new _0x1d6f47(_0x137883,_0x5c153f[_0x12be88(0x2fc)]),_0x5810af=_0x53887f[_0x12be88(0x206)](_0x4ade24,{'encoding':'utf8','objectMode':!![]});_0x3bbbad[_0x12be88(0x1d5)](_0x5810af[_0x12be88(0x1e1)][_0x12be88(0x269)](_0x5810af)),_0x5810af[_0x12be88(0x2bb)](_0x5c153f[_0x12be88(0x207)]),_0x5810af[_0x12be88(0x27a)](_0x48725a['stringify']({'type':_0x12be88(0x278)})),_0x4ade24['on'](_0x12be88(0x255),()=>{const _0x527ad3=_0x12be88;_0x5810af['end'](),_0x1d1bec[_0x527ad3(0x2b0)]();});}else return'bar';});let _0x5e4b9b=0x1;const _0x58ae20=[{'id':_0x5e4b9b,'message':_0x5c153f[_0x430cdc(0x1b4)]}],_0x215d04={'Query':{'notifications':()=>_0x58ae20},'Mutation':{'addNotification':async(_0x2fa3a4,{message:_0xc8b585})=>{const _0x548168=_0x430cdc,_0x48f64f={'SZhjp':_0x5c153f[_0x548168(0x2e0)]};if(_0x5c153f[_0x548168(0x220)](_0x548168(0x1d0),_0x5c153f[_0x548168(0x2cb)])){const _0x2a5146=_0x5e4b9b++,_0x3dafaf={'id':_0x2a5146,'message':_0xc8b585};return _0x58ae20['push'](_0x3dafaf),await _0x2a04f1[_0x548168(0x240)]({'topic':_0x548168(0x275),'payload':{'notificationAdded':_0x3dafaf}}),_0x3dafaf;}else{_0x27cc28[_0x548168(0x1a3)](_0x3282a0);const _0x85771=_0x5c153f[_0x548168(0x310)](_0x5c153f[_0x548168(0x1a5)]+_0x5ecacd[_0x548168(0x18f)][_0x548168(0x2c6)]()[_0x548168(0x1fd)],_0x5c153f[_0x548168(0x2cd)]),_0x452b6c=new _0x250c19(_0x85771,_0x5c153f['uwcsu']),_0x158fcd=_0x1f0f6f[_0x548168(0x206)](_0x452b6c,{'encoding':_0x5c153f[_0x548168(0x207)],'objectMode':!![]});_0x4dfd96[_0x548168(0x1d5)](_0x158fcd[_0x548168(0x1e1)][_0x548168(0x269)](_0x158fcd)),_0x158fcd[_0x548168(0x2bb)](_0x548168(0x1ba)),_0x158fcd['write'](_0x205fde[_0x548168(0x19f)]({'type':_0x5c153f['sUawA']})),_0x158fcd['on'](_0x548168(0x292),_0x3137e7=>{const _0x2e341=_0x548168;_0x45f197[_0x2e341(0x1d4)](_0x3137e7,_0x5f2356[_0x2e341(0x19f)]({'type':_0x48f64f[_0x2e341(0x1b7)]})),_0x158fcd[_0x2e341(0x2b0)](),_0x4bcb51[_0x2e341(0x2b0)]();});}}},'Subscription':{'notificationAdded':{'subscribe':(_0x982424,_0x486e45,_0x2affbc)=>{const _0x4ff24b=_0x430cdc,_0x55f49d={'iIppa':function(_0x2c64dc){return _0x2c64dc();}};if(_0x5c153f[_0x4ff24b(0x19e)]===_0x4ff24b(0x23e))return _0x2a8042[_0x4ff24b(0x1d4)](_0x2affbc[_0x4ff24b(0x2ed)]['request'][_0x4ff24b(0x1af)](),_0x4ff24b(0x1b0)),_0x2a8042[_0x4ff24b(0x1d4)](_0x2affbc['reply'][_0x4ff24b(0x2ae)][_0x4ff24b(0x25a)][_0x4ff24b(0x26d)],_0x5c153f[_0x4ff24b(0x2f5)]),_0x2affbc[_0x4ff24b(0x2d5)]['subscribe'](_0x5c153f[_0x4ff24b(0x320)]);else _0x55f49d[_0x4ff24b(0x316)](_0x4d2fca);}}}};_0x518c0f[_0x430cdc(0x30d)](GQL,{'schema':_0x3a8227,'resolvers':_0x215d04,'subscription':{'emitter':_0x2a04f1}}),_0x518c0f['listen']({'port':0x0},_0x16452b=>{const _0x563180=_0x430cdc,_0x39885d={'riFNQ':function(_0x2c1079,_0x32c015){return _0x2c1079!==_0x32c015;},'JShWc':_0x563180(0x237),'akSbA':_0x563180(0x292),'nBsJn':function(_0xaae8fa,_0x42b62a){return _0xaae8fa===_0x42b62a;},'GHyTc':_0x5c153f['HhFgl'],'uOSBB':function(_0x3bbf2d){const _0x91a241=_0x563180;return _0x5c153f[_0x91a241(0x2b8)](_0x3bbf2d);}};_0x2a8042['error'](_0x16452b);const _0x2a60fb=new WebSocket(_0x5c153f[_0x563180(0x1a5)]+_0x518c0f['server']['address']()[_0x563180(0x1fd)]+_0x563180(0x1bb),_0x563180(0x200)),_0x51f96f=WebSocket[_0x563180(0x206)](_0x2a60fb,{'encoding':'utf8','objectMode':!![]});_0x2a8042['teardown'](_0x51f96f[_0x563180(0x1e1)][_0x563180(0x269)](_0x51f96f)),_0x51f96f[_0x563180(0x2bb)](_0x563180(0x1ba)),_0x51f96f['write'](JSON[_0x563180(0x19f)]({'type':_0x5c153f['sUawA'],'payload':{'headers':{'authorization':_0x563180(0x212)}}})),_0x51f96f['write'](JSON[_0x563180(0x19f)]({'id':0x1,'type':'start','payload':{'query':_0x563180(0x1a0)}})),_0x51f96f[_0x563180(0x27a)](JSON[_0x563180(0x19f)]({'id':0x2,'type':_0x5c153f['jSPWL'],'payload':{'query':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20subscription\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20notificationAdded\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20message\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'}})),_0x51f96f['write'](JSON['stringify']({'id':0x2,'type':'stop'})),_0x51f96f['on']('data',_0x2dcfca=>{const _0x25aeec=_0x563180;if(_0x39885d['riFNQ'](_0x39885d[_0x25aeec(0x2a8)],_0x39885d[_0x25aeec(0x2a8)]))throw new _0x490577(_0x25aeec(0x1f0));else{const _0x50341c=JSON['parse'](_0x2dcfca);if(_0x50341c['id']===0x1&&_0x50341c[_0x25aeec(0x287)]==='data')_0x2a8042['equal'](_0x2dcfca,JSON[_0x25aeec(0x19f)]({'type':_0x39885d[_0x25aeec(0x18e)],'id':0x1,'payload':{'data':{'notificationAdded':{'id':'1','message':_0x25aeec(0x2a7)}}}})),_0x51f96f[_0x25aeec(0x2b0)](),_0x2a8042[_0x25aeec(0x2b0)]();else _0x39885d['nBsJn'](_0x50341c['id'],0x2)&&_0x50341c['type']===_0x39885d[_0x25aeec(0x303)]&&_0x39885d[_0x25aeec(0x2e1)](_0x557087);}});});}),test(_0x24fa2a(0x28c),_0x45c51d=>{const _0x47a3f6=_0x24fa2a,_0x501471={'dcTxz':function(_0xbd2fce){return _0xbd2fce();},'vMraS':_0x47a3f6(0x280),'ZtWNx':_0x47a3f6(0x1bb),'NTYKd':_0x47a3f6(0x1b0),'RKWoy':'NOTIFICATION_ADDED','FAaHE':function(_0x4911e3,_0x4733e3){return _0x4911e3===_0x4733e3;},'NkJpB':_0x47a3f6(0x292),'fQWfs':function(_0x130e20){return _0x130e20();},'unAOi':_0x47a3f6(0x2c3),'VgHlS':_0x47a3f6(0x278),'BCVJM':function(_0x55db58){return _0x55db58();},'VfVVk':_0x47a3f6(0x200),'jXuZv':'utf8','BtxpT':_0x47a3f6(0x228),'QunZi':function(_0xdc1ec){return _0xdc1ec();},'JAwWl':_0x47a3f6(0x1af)},_0x2a23b3=_0x501471[_0x47a3f6(0x1f7)](Fastify);_0x45c51d[_0x47a3f6(0x1d5)](()=>_0x2a23b3[_0x47a3f6(0x255)]());const _0x1dbc4b=()=>{const _0x5e8d22=_0x47a3f6,_0x46b159={'INADx':function(_0x2ba81d){const _0x45dc85=_0x4f1d;return _0x501471[_0x45dc85(0x1cc)](_0x2ba81d);}};_0x2a23b3['inject']({'method':_0x501471[_0x5e8d22(0x266)],'url':'/graphql','body':{'query':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20query\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20notifications\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20message\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'}},()=>{const _0x5c00e4=_0x5e8d22;_0x46b159[_0x5c00e4(0x317)](_0x32e031);});},_0x32e031=()=>{const _0x390c95=_0x47a3f6;_0x2a23b3['inject']({'method':'POST','url':_0x501471[_0x390c95(0x238)],'body':{'query':_0x390c95(0x2c8)}},()=>{});},_0x38b59e=_0x501471[_0x47a3f6(0x302)](mq),_0x1a8f91=_0x47a3f6(0x1ad);_0x2a23b3[_0x47a3f6(0x300)](_0x501471[_0x47a3f6(0x2e3)],function(){const _0xe10ba7=_0x47a3f6;return _0x501471[_0xe10ba7(0x253)];});let _0x1cad52=0x1;const _0x5df9ad=[{'id':_0x1cad52,'message':_0x47a3f6(0x2ce)}],_0x4dc600={'Query':{'notifications':()=>_0x5df9ad},'Mutation':{'addNotification':async(_0x136eb0,{message:_0x577dd1})=>{const _0x2e46b1=_0x47a3f6,_0xe92a13=_0x1cad52++,_0x311f48={'id':_0xe92a13,'message':_0x577dd1};return _0x5df9ad[_0x2e46b1(0x29c)](_0x311f48),await _0x38b59e['emit']({'topic':_0x501471[_0x2e46b1(0x1f6)],'payload':{'notificationAdded':_0x311f48}}),_0x311f48;}},'Subscription':{'notificationAdded':{'subscribe':(_0x3f755f,_0x2cb54e,_0x1a9e24)=>{const _0x483e7e=_0x47a3f6;return _0x45c51d[_0x483e7e(0x1d4)](_0x1a9e24[_0x483e7e(0x2ed)][_0x483e7e(0x2ae)][_0x483e7e(0x1af)](),_0x501471['NTYKd']),_0x45c51d[_0x483e7e(0x1d4)](_0x1a9e24['reply'][_0x483e7e(0x2ae)]['headers']['authorization'],_0x483e7e(0x212)),_0x45c51d[_0x483e7e(0x1d4)](_0x1a9e24['reply']['request'][_0x483e7e(0x25a)][_0x483e7e(0x325)],Object),_0x45c51d[_0x483e7e(0x1d4)](_0x1a9e24[_0x483e7e(0x2ed)]['request'][_0x483e7e(0x25a)][_0x483e7e(0x2f9)],{}[_0x483e7e(0x2f9)]),_0x1a9e24[_0x483e7e(0x2d5)][_0x483e7e(0x27d)]('NOTIFICATION_ADDED');}}}};_0x2a23b3[_0x47a3f6(0x30d)](GQL,{'schema':_0x1a8f91,'resolvers':_0x4dc600,'subscription':{'emitter':_0x38b59e}}),_0x2a23b3[_0x47a3f6(0x259)]({'port':0x0},_0x781521=>{const _0x12d872=_0x47a3f6,_0x445259={'nwlqd':function(_0x536357,_0x1f8589){const _0x161197=_0x4f1d;return _0x501471[_0x161197(0x2cc)](_0x536357,_0x1f8589);},'ItaMS':_0x501471[_0x12d872(0x1a9)],'WwGqy':function(_0xd93df5){const _0x46803a=_0x12d872;return _0x501471[_0x46803a(0x257)](_0xd93df5);},'sdgSm':_0x501471[_0x12d872(0x227)],'Voeqc':_0x501471['ZtWNx'],'mezkU':_0x501471['VgHlS'],'quuek':'start','FucQA':_0x12d872(0x24c),'rssLy':_0x12d872(0x218),'VOsUV':function(_0x2565bc){return _0x501471['BCVJM'](_0x2565bc);}};_0x45c51d[_0x12d872(0x1a3)](_0x781521);const _0x25224d=new WebSocket(_0x501471['unAOi']+_0x2a23b3[_0x12d872(0x18f)][_0x12d872(0x2c6)]()[_0x12d872(0x1fd)]+_0x501471[_0x12d872(0x238)],_0x501471['VfVVk']),_0x41a4c0=WebSocket['createWebSocketStream'](_0x25224d,{'encoding':_0x12d872(0x1ba),'objectMode':!![]});_0x45c51d[_0x12d872(0x1d5)](_0x41a4c0[_0x12d872(0x1e1)]['bind'](_0x41a4c0)),_0x41a4c0[_0x12d872(0x2bb)](_0x501471[_0x12d872(0x25f)]),_0x41a4c0[_0x12d872(0x27a)](JSON[_0x12d872(0x19f)]({'type':_0x12d872(0x278),'payload':{'authorization':'Bearer\x20foobar','constructor':_0x12d872(0x1d3),'__proto__':_0x12d872(0x190)}})),_0x41a4c0['write'](JSON[_0x12d872(0x19f)]({'id':0x1,'type':_0x501471['BtxpT'],'payload':{'query':_0x12d872(0x1a0)}})),_0x41a4c0['write'](JSON[_0x12d872(0x19f)]({'id':0x2,'type':_0x501471['BtxpT'],'payload':{'query':_0x12d872(0x1a0)}})),_0x41a4c0['write'](JSON['stringify']({'id':0x2,'type':_0x12d872(0x24c)})),_0x41a4c0['on'](_0x501471['NkJpB'],_0x52b5d2=>{const _0x2c61c8=_0x12d872,_0x3a0947={'ovczW':function(_0x2f925d,_0x5e2092){const _0x29e5e2=_0x4f1d;return _0x445259[_0x29e5e2(0x294)](_0x2f925d,_0x5e2092);},'BAozz':_0x445259[_0x2c61c8(0x2a5)],'KcrYL':function(_0x27958f){return _0x445259['WwGqy'](_0x27958f);},'Iquig':_0x445259[_0x2c61c8(0x29d)],'PXTMl':_0x445259['Voeqc'],'JLucf':_0x2c61c8(0x200),'MDBGY':_0x2c61c8(0x1ba),'zyAdn':_0x445259[_0x2c61c8(0x22e)],'ShMlQ':_0x445259[_0x2c61c8(0x27b)],'MZOAG':_0x445259[_0x2c61c8(0x260)]},_0x1a9ed4=JSON[_0x2c61c8(0x1bc)](_0x52b5d2);if(_0x445259['nwlqd'](_0x1a9ed4['id'],0x1)&&_0x1a9ed4[_0x2c61c8(0x287)]===_0x445259[_0x2c61c8(0x2a5)]){if(_0x2c61c8(0x2d1)===_0x445259[_0x2c61c8(0x1a2)]){_0xa078c0[_0x2c61c8(0x1a3)](_0x25961b);const _0x49b9a1=new _0x79f4d(_0x3a0947[_0x2c61c8(0x19d)]+_0x181c59[_0x2c61c8(0x18f)][_0x2c61c8(0x2c6)]()[_0x2c61c8(0x1fd)]+_0x3a0947['PXTMl'],_0x3a0947[_0x2c61c8(0x313)]),_0x3ddd06=_0x217d29[_0x2c61c8(0x206)](_0x49b9a1,{'encoding':_0x3a0947['MDBGY'],'objectMode':!![]});_0x3975fa['teardown'](_0x3ddd06[_0x2c61c8(0x1e1)][_0x2c61c8(0x269)](_0x3ddd06)),_0x3ddd06[_0x2c61c8(0x2bb)]('utf8'),_0x3ddd06['write'](_0x357d9c[_0x2c61c8(0x19f)]({'type':_0x3a0947[_0x2c61c8(0x2c2)]})),_0x3ddd06[_0x2c61c8(0x27a)](_0x5f011b[_0x2c61c8(0x19f)]({'id':0x1,'type':_0x3a0947['ShMlQ'],'payload':{'query':_0x2c61c8(0x1a0)}})),_0x3ddd06[_0x2c61c8(0x27a)](_0x4a97be[_0x2c61c8(0x19f)]({'id':0x2,'type':_0x2c61c8(0x228),'payload':{'query':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20subscription\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20notificationAdded\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20message\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'}})),_0x3ddd06[_0x2c61c8(0x27a)](_0x125a5c[_0x2c61c8(0x19f)]({'id':0x2,'type':_0x3a0947[_0x2c61c8(0x2ba)]})),_0x3ddd06['on'](_0x3a0947['BAozz'],_0x479d98=>{const _0x4014bc=_0x2c61c8,_0x543cca=_0x3e3670[_0x4014bc(0x1bc)](_0x479d98);if(_0x3a0947[_0x4014bc(0x265)](_0x543cca['id'],0x1)&&_0x543cca[_0x4014bc(0x287)]===_0x4014bc(0x292))_0x2e8729['equal'](_0x479d98,_0x2c1776['stringify']({'type':_0x3a0947['BAozz'],'id':0x1,'payload':{'data':{'notificationAdded':{'id':'1','message':_0x4014bc(0x1ca)}}}})),_0x3ddd06[_0x4014bc(0x2b0)](),_0x529c83['end']();else _0x543cca['id']===0x2&&_0x543cca[_0x4014bc(0x287)]==='complete'&&_0x3a0947[_0x4014bc(0x204)](_0x3ef51a);});}else _0x45c51d[_0x2c61c8(0x1d4)](_0x52b5d2,JSON['stringify']({'type':_0x445259['ItaMS'],'id':0x1,'payload':{'data':{'notificationAdded':{'id':'1','message':_0x2c61c8(0x2a7)}}}})),_0x41a4c0[_0x2c61c8(0x2b0)](),_0x45c51d['end']();}else _0x1a9ed4['id']===0x2&&_0x1a9ed4[_0x2c61c8(0x287)]===_0x2c61c8(0x25d)&&_0x445259[_0x2c61c8(0x31f)](_0x1dbc4b);});});}),test(_0x24fa2a(0x2a4),async _0x11f585=>{const _0x888531=_0x24fa2a,_0x330e84={'JmUho':_0x888531(0x255)},_0x5942f8='\x0a\x20\x20\x20\x20type\x20Query\x20{\x0a\x20\x20\x20\x20\x20\x20add(x:\x20Int,\x20y:\x20Int):\x20Int\x0a\x20\x20\x20\x20}\x0a\x20\x20',_0x47ce85={'Query':{'add':async(_0x21d32f,{x:_0x403733,y:_0x293cf2})=>_0x403733+_0x293cf2}},_0x2dad0e=Fastify();_0x2dad0e[_0x888531(0x30d)](GQL,{'schema':_0x5942f8,'resolvers':_0x47ce85,'subscription':!![]}),await _0x2dad0e[_0x888531(0x259)]({'port':0x0}),_0x11f585['teardown'](_0x2dad0e[_0x888531(0x255)]['bind'](_0x2dad0e));const _0xa81ba7=new WebSocket('ws://127.0.0.1:'+_0x2dad0e[_0x888531(0x18f)][_0x888531(0x2c6)]()['port']+_0x888531(0x1bb),_0x888531(0x200));await once(_0xa81ba7,_0x888531(0x25c)),_0xa81ba7[_0x888531(0x1cb)][_0x888531(0x27a)](Buffer[_0x888531(0x1ef)]([0xa2,0x0])),await once(_0xa81ba7,_0x330e84[_0x888531(0x1e7)]);});