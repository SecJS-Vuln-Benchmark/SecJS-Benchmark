(function(_0x405723,_0x353ceb){const _0x2878e0=_0x1cd3,_0x27d74c=_0x405723();while(!![]){try{const _0x390069=-parseInt(_0x2878e0(0xfc))/0x1*(-parseInt(_0x2878e0(0x123))/0x2)+-parseInt(_0x2878e0(0x133))/0x3*(-parseInt(_0x2878e0(0x124))/0x4)+-parseInt(_0x2878e0(0x10c))/0x5+parseInt(_0x2878e0(0x105))/0x6+-parseInt(_0x2878e0(0x106))/0x7*(-parseInt(_0x2878e0(0xf4))/0x8)+-parseInt(_0x2878e0(0x111))/0x9+-parseInt(_0x2878e0(0x127))/0xa*(parseInt(_0x2878e0(0xec))/0xb);if(_0x390069===_0x353ceb)break;else _0x27d74c['push'](_0x27d74c['shift']());}catch(_0x2df136){_0x27d74c['push'](_0x27d74c['shift']());}}}(_0x51e0,0x1e4ee));function _0x1cd3(_0x1db2c4,_0x1a65f3){const _0x51e097=_0x51e0();return _0x1cd3=function(_0x1cd312,_0x59c925){_0x1cd312=_0x1cd312-0xd6;let _0x4e6b2a=_0x51e097[_0x1cd312];return _0x4e6b2a;},_0x1cd3(_0x1db2c4,_0x1a65f3);}const {H}=cy;describe('scenarios\x20>\x20question\x20>\x20custom\x20column\x20>\x20typing\x20suggestion',()=>{const _0x171028=_0x1cd3,_0x509be2={'dGVtP':_0x171028(0x10a),'ssyKa':function(_0x277d13){return _0x277d13();},'zAUlF':'[Rating]{leftarrow}{leftarrow}{leftarrow}{backspace}{backspace}t','zKkPC':_0x171028(0xfd),'ogzPl':'[Rating]','iUWqf':'be.visible','PHiQB':_0x171028(0x130),'HBiHI':_0x171028(0x11c),'Ovfvs':_0x171028(0xdc),'jXjpT':_0x171028(0x112),'uMUPL':_0x171028(0x11f),'FycQc':'cTZyH','pZJep':'Learn\x20more','BqNxk':function(_0x7163dd){return _0x7163dd();},'bjIHM':_0x171028(0x113),'oSlsJ':_0x171028(0x13d),'ucNWJ':_0x171028(0x11a),'uZEXM':_0x171028(0x110),'QpiGT':'19|1|14|30|11|17|22|0|8|6|16|32|18|28|7|33|26|12|23|27|21|2|29|31|10|15|5|20|13|25|24|3|9|4','BObKM':_0x171028(0x115),'gYGIX':'contains(\x22foo\x22','uPjgr':_0x171028(0xed),'QMKow':_0x171028(0xfe),'vRQhx':function(_0x57c36c,_0x387ee6){return _0x57c36c(_0x387ee6);},'paljt':'{leftarrow}','VeaXS':'move\x20cursor\x20to\x20bar\x20using\x20the\x20mouse','YWbAa':_0x171028(0xe0),'JBSSk':'\x22baz\x22','GmFwt':function(_0x408793,_0x31d870){return _0x408793(_0x31d870);},'nwFxs':_0x171028(0xea),'AmcQO':'move\x20cursor\x20to\x20foo','RjkMq':_0x171028(0x13f),'NkQUN':',\x20\x22bar\x22','RBEMs':function(_0x406f4c,_0x1576a1){return _0x406f4c(_0x1576a1);},'CDefY':_0x171028(0x11b),'JWxmm':'should\x20correctly\x20accept\x20the\x20chosen\x20field\x20suggestion','dcgrD':_0x171028(0x11e),'MnGDm':'should\x20show\x20expression\x20function\x20helper\x20if\x20a\x20proper\x20function\x20is\x20typed','aApeP':function(_0x20e607,_0x229bda,_0x3448b8){return _0x20e607(_0x229bda,_0x3448b8);},'KxUsn':_0x171028(0x102),'JpPYU':'should\x20be\x20possible\x20to\x20collapse\x20the\x20help\x20text\x20popover','QFsdu':_0x171028(0xf2)};_0x509be2[_0x171028(0xe4)](beforeEach,()=>{const _0x2e2443=_0x171028;H[_0x2e2443(0x118)](),cy[_0x2e2443(0x13b)](),H[_0x2e2443(0xf0)]({'mode':_0x509be2[_0x2e2443(0x131)]});}),it(_0x509be2['CDefY'],()=>{const _0x362acb=_0x171028;addCustomColumn(),H[_0x362acb(0x122)]({'formula':_0x362acb(0x148)}),cy[_0x362acb(0x109)](_0x362acb(0x120))[_0x362acb(0x121)](_0x362acb(0x11a));}),it(_0x509be2[_0x171028(0x128)],()=>{const _0x3ef408=_0x171028;_0x509be2[_0x3ef408(0xef)](addCustomColumn),H['enterCustomColumnDetails']({'formula':_0x509be2['zAUlF'],'blur':![]}),H['CustomExpressionEditor'][_0x3ef408(0xfa)](),H[_0x3ef408(0xf9)][_0x3ef408(0xf5)]()['should'](_0x509be2['zKkPC'],_0x509be2[_0x3ef408(0x104)]);}),it(_0x171028(0x149),()=>{const _0x40629=_0x171028;addCustomColumn(),H[_0x40629(0x122)]({'formula':'le','blur':![]}),H['CustomExpressionEditor'][_0x40629(0xfa)](),H[_0x40629(0xf9)][_0x40629(0xdd)]()[_0x40629(0x121)](_0x509be2['iUWqf'])[_0x40629(0x121)](_0x509be2['PHiQB'],_0x40629(0x141));}),it(_0x509be2[_0x171028(0x12a)],()=>{const _0x25ac38=_0x171028;addCustomColumn(),H['enterCustomColumnDetails']({'formula':_0x25ac38(0x108),'blur':![]}),H[_0x25ac38(0xf9)][_0x25ac38(0xfa)](),H[_0x25ac38(0xf9)]['value']()[_0x25ac38(0x121)](_0x25ac38(0xfd),_0x509be2[_0x25ac38(0xeb)]);}),it(_0x509be2[_0x171028(0x12f)],()=>{const _0x15cde4=_0x171028,_0x5431a6={'FsTHt':function(_0x3b2107,_0x4b04a1){return _0x3b2107!==_0x4b04a1;},'zrAdT':_0x509be2['Ovfvs'],'YViLQ':_0x15cde4(0x14a)};addCustomColumn(),H['enterCustomColumnDetails']({'formula':_0x509be2[_0x15cde4(0xd6)],'blur':![]}),H[_0x15cde4(0xf9)][_0x15cde4(0xe7)]()[_0x15cde4(0x121)](_0x509be2[_0x15cde4(0x132)])['should'](_0x509be2[_0x15cde4(0x13c)],_0x15cde4(0x14f)),H[_0x15cde4(0xf9)][_0x15cde4(0xdd)]()[_0x15cde4(0x121)](_0x15cde4(0x14a))[_0x15cde4(0x135)](()=>{const _0x2cab3b=_0x15cde4;_0x5431a6[_0x2cab3b(0xe3)](_0x2cab3b(0xdc),_0x5431a6[_0x2cab3b(0x147)])?(_0x3a7bc5(),_0x5c954b['enterCustomColumnDetails']({'formula':'bet','blur':![]}),_0x587e90[_0x2cab3b(0xf9)]['acceptCompletion'](),_0x4156a9[_0x2cab3b(0xf9)][_0x2cab3b(0xf5)]()[_0x2cab3b(0x121)](_0x2cab3b(0xfd),_0x2cab3b(0x11c))):(cy[_0x2cab3b(0x12e)]('Returns\x20the\x20string\x20of\x20text\x20in\x20all\x20lower\x20case.')['should'](_0x5431a6[_0x2cab3b(0xe9)]),cy[_0x2cab3b(0x12e)](_0x2cab3b(0x116))[_0x2cab3b(0x121)]('be.visible'));});}),_0x509be2['aApeP'](it,_0x509be2[_0x171028(0xf7)],()=>{const _0x2f863a=_0x171028;H[_0x2f863a(0xdb)]({'mode':_0x509be2[_0x2f863a(0x131)]}),H[_0x2f863a(0x125)]()['findByText'](_0x509be2['uMUPL'])[_0x2f863a(0x14b)](),H[_0x2f863a(0x122)]({'formula':_0x2f863a(0x136),'blur':!![]}),H[_0x2f863a(0xf9)]['completions']()[_0x2f863a(0x121)](_0x2f863a(0x11a));}),_0x509be2['aApeP'](it,_0x171028(0xf8),()=>{const _0x3fd2f7=_0x171028,_0x2cda01={'wXfwP':_0x3fd2f7(0x126),'BmmsN':_0x3fd2f7(0x14a),'HvwdC':_0x3fd2f7(0x116),'hxfUw':function(_0xfd4b4e,_0x1666c1){return _0xfd4b4e===_0x1666c1;},'aEsnq':_0x509be2['FycQc'],'QcTBI':'Example','wAWiU':_0x509be2['pZJep']};_0x509be2[_0x3fd2f7(0x140)](addCustomColumn),H[_0x3fd2f7(0x122)]({'formula':_0x509be2['bjIHM'],'blur':![]}),H['CustomExpressionEditor'][_0x3fd2f7(0xdd)]()[_0x3fd2f7(0x135)](()=>{const _0x57566f=_0x3fd2f7;_0x2cda01[_0x57566f(0x107)](_0x2cda01[_0x57566f(0x138)],_0x2cda01[_0x57566f(0x138)])?(cy[_0x57566f(0x12e)](_0x57566f(0x13e))[_0x57566f(0x10e)](),cy[_0x57566f(0x12e)](_0x2cda01[_0x57566f(0xfb)])[_0x57566f(0x10e)](),cy[_0x57566f(0x12e)](_0x2cda01[_0x57566f(0xf6)])['trigger'](_0x57566f(0x12c))):(_0x4f8220[_0x57566f(0x12e)](_0x2cda01[_0x57566f(0x139)])[_0x57566f(0x121)](_0x2cda01[_0x57566f(0x14e)]),_0x544e46['findByText'](_0x2cda01[_0x57566f(0xe8)])[_0x57566f(0x121)](_0x2cda01['BmmsN']));}),H[_0x3fd2f7(0xf9)]['helpText']()[_0x3fd2f7(0x121)](_0x3fd2f7(0x14a));}),_0x509be2[_0x171028(0xde)](it,_0x509be2[_0x171028(0x103)],()=>{const _0x43dda8=_0x171028;addCustomColumn(),H[_0x43dda8(0x122)]({'formula':_0x509be2[_0x43dda8(0xe2)],'blur':![]}),H[_0x43dda8(0xf9)]['helpText']()['should'](_0x509be2[_0x43dda8(0x132)]),H[_0x43dda8(0xf9)]['helpTextHeader']()[_0x43dda8(0x14b)](),H['CustomExpressionEditor']['helpText']()['should']('not.exist'),H[_0x43dda8(0xf9)][_0x43dda8(0xe7)]()[_0x43dda8(0x14b)](),H[_0x43dda8(0xf9)][_0x43dda8(0xdd)]()[_0x43dda8(0x121)](_0x509be2['iUWqf']);}),_0x509be2[_0x171028(0xde)](it,_0x171028(0x114),()=>{const _0x260be6=_0x171028;_0x509be2[_0x260be6(0x140)](addCustomColumn),H[_0x260be6(0x122)]({'formula':'concat(','blur':![]}),cy[_0x260be6(0x10b)](0x500,0x2bc),H[_0x260be6(0xf9)][_0x260be6(0xdd)]()['should'](_0x509be2['iUWqf']),H['CustomExpressionEditor'][_0x260be6(0x144)]('[',{'focus':![]}),H[_0x260be6(0xf9)][_0x260be6(0xe6)]()[_0x260be6(0xda)](_0x509be2[_0x260be6(0x152)])[_0x260be6(0x121)](_0x509be2[_0x260be6(0x132)]),H[_0x260be6(0xf9)][_0x260be6(0xdd)]()[_0x260be6(0x121)](_0x509be2[_0x260be6(0x119)]),H[_0x260be6(0xf9)][_0x260be6(0xe7)]()[_0x260be6(0x14b)](),H[_0x260be6(0xf9)][_0x260be6(0xdd)]()[_0x260be6(0x121)](_0x260be6(0x14a)),H[_0x260be6(0xf9)][_0x260be6(0xe6)]()[_0x260be6(0xda)](_0x260be6(0x13d))[_0x260be6(0x121)](_0x509be2[_0x260be6(0x142)]),H['CustomExpressionEditor'][_0x260be6(0x144)]('I',{'focus':![]}),H[_0x260be6(0xf9)][_0x260be6(0xdd)]()[_0x260be6(0x121)](_0x509be2[_0x260be6(0x119)]),H[_0x260be6(0xf9)][_0x260be6(0xe6)]()['get'](_0x509be2[_0x260be6(0x152)])['should'](_0x260be6(0x14a));}),it(_0x509be2[_0x171028(0x12d)],()=>{const _0x55f60e=_0x171028,_0x4d89b9=_0x509be2['QpiGT'][_0x55f60e(0x137)]('|');let _0xd0b1c7=0x0;while(!![]){switch(_0x4d89b9[_0xd0b1c7++]){case'0':cy[_0x55f60e(0x117)](_0x509be2[_0x55f60e(0xe5)]);continue;case'1':H[_0x55f60e(0xf9)]['type'](_0x509be2[_0x55f60e(0x145)],{'focus':![]});continue;case'2':verifyHelptextPosition(_0x509be2['uPjgr']);continue;case'3':cy[_0x55f60e(0x117)](_0x55f60e(0x129));continue;case'4':verifyHelptextPosition(_0x55f60e(0xd8));continue;case'5':H['CustomExpressionEditor']['get']()[_0x55f60e(0x12e)](_0x509be2[_0x55f60e(0x151)])['click']();continue;case'6':_0x509be2[_0x55f60e(0x146)](verifyHelptextPosition,_0x55f60e(0xd8));continue;case'7':H[_0x55f60e(0xf9)][_0x55f60e(0x144)](_0x509be2[_0x55f60e(0x14d)]['repeat'](0xa),{'focus':![]});continue;case'8':H[_0x55f60e(0xf9)][_0x55f60e(0x144)](_0x509be2[_0x55f60e(0x14d)][_0x55f60e(0xff)](0x3),{'focus':![]});continue;case'9':H['CustomExpressionEditor'][_0x55f60e(0xda)]()[_0x55f60e(0x12e)]('\x22baz\x22')[_0x55f60e(0x14b)]();continue;case'10':verifyHelptextPosition('contains');continue;case'11':_0x509be2[_0x55f60e(0x146)](verifyHelptextPosition,_0x509be2[_0x55f60e(0x151)]);continue;case'12':H[_0x55f60e(0xf9)]['type'](_0x509be2['paljt'][_0x55f60e(0xff)](0x1),{'focus':![]});continue;case'13':cy[_0x55f60e(0x117)](_0x55f60e(0x143));continue;case'14':verifyHelptextPosition(_0x55f60e(0xea));continue;case'15':cy[_0x55f60e(0x117)](_0x509be2[_0x55f60e(0x13a)]);continue;case'16':cy[_0x55f60e(0x117)](_0x509be2[_0x55f60e(0xd9)]);continue;case'17':H['CustomExpressionEditor'][_0x55f60e(0x144)](',\x20\x22baz\x22',{'focus':![]});continue;case'18':verifyHelptextPosition(_0x55f60e(0xfe));continue;case'19':addCustomColumn();continue;case'20':verifyHelptextPosition(_0x509be2[_0x55f60e(0x151)]);continue;case'21':H[_0x55f60e(0xf9)][_0x55f60e(0x144)](_0x509be2['paljt'][_0x55f60e(0xff)](0x1),{'focus':![]});continue;case'22':verifyHelptextPosition(_0x509be2[_0x55f60e(0xee)]);continue;case'23':verifyHelptextPosition(_0x55f60e(0xed));continue;case'24':_0x509be2[_0x55f60e(0x150)](verifyHelptextPosition,_0x509be2[_0x55f60e(0x153)]);continue;case'25':H['CustomExpressionEditor']['get']()[_0x55f60e(0x12e)](_0x55f60e(0xea))[_0x55f60e(0x14b)]();continue;case'26':cy[_0x55f60e(0x117)]('move\x20cursor\x20to\x20contains(,\x20right\x20after\x20(');continue;case'27':cy[_0x55f60e(0x117)]('move\x20cursor\x20to\x20contains(,\x20right\x20before\x20(');continue;case'28':cy[_0x55f60e(0x117)](_0x509be2[_0x55f60e(0x100)]);continue;case'29':cy[_0x55f60e(0x117)](_0x509be2[_0x55f60e(0x12b)]);continue;case'30':H[_0x55f60e(0xf9)]['type'](_0x509be2[_0x55f60e(0x11d)],{'focus':![]});continue;case'31':H[_0x55f60e(0xf9)]['type'](_0x55f60e(0xdf)[_0x55f60e(0xff)](0x2),{'focus':![]});continue;case'32':H['CustomExpressionEditor'][_0x55f60e(0x144)](_0x509be2[_0x55f60e(0x14d)][_0x55f60e(0xff)](0x5),{'focus':![]});continue;case'33':_0x509be2['RBEMs'](verifyHelptextPosition,_0x55f60e(0xea));continue;}break;}});});const addCustomColumn=()=>{const _0x3f7444=_0x1cd3,_0x42646b={'acNul':'Custom\x20column'};cy[_0x3f7444(0x109)](_0x3f7444(0xf3))[_0x3f7444(0x12e)](_0x42646b[_0x3f7444(0xf1)])[_0x3f7444(0x14b)]();};function _0x51e0(){const _0x53cfbe=['realClick','closeTo','not.be.visible','1103967zgjtIr','lower(','concat(','the\x20help\x20text\x20popover\x20should\x20collapse\x20when\x20there\x20is\x20not\x20enough\x20space\x20to\x20render\x20it\x20and\x20the\x20completions','move\x20curser\x20into\x20baz','The\x20column\x20with\x20values\x20to\x20convert\x20to\x20lower\x20case.','log','restore','ucNWJ','not.exist','should\x20not\x20suggest\x20arithmetic\x20operators','between(column,\x20start,\x20end)','NkQUN','should\x20correctly\x20insert\x20function\x20suggestion\x20with\x20the\x20template','Custom\x20Expression','expression-suggestions-list','should','enterCustomColumnDetails','12QTmQVK','203068dFLebP','popover','Returns\x20the\x20string\x20of\x20text\x20in\x20all\x20lower\x20case.','10OOwEMB','JWxmm','move\x20cursor\x20to\x20baz\x20using\x20the\x20mouse','dcgrD','RjkMq','mousemove','QFsdu','findByText','MnGDm','contain','dGVtP','iUWqf','3rhJjag','adqXt','within','Count{enter}','split','aEsnq','wXfwP','VeaXS','signInAsAdmin','PHiQB','ul[role=listbox]','Combine\x20two\x20or\x20more\x20strings\x20of\x20text\x20together.','move\x20cursor\x20into\x20contains','BqNxk','length([Comment])','uZEXM','move\x20cursor\x20to\x20foo\x20using\x20the\x20mouse','type','gYGIX','vRQhx','zrAdT','[Price]\x20','should\x20correctly\x20accept\x20the\x20chosen\x20function\x20suggestion','be.visible','click','eSfsk','paljt','BmmsN','lower(value)','GmFwt','QMKow','oSlsJ','nwFxs','jXjpT','getBoundingClientRect','\x22baz\x22','YWbAa','get','summarize','OzqsQ','helpText','aApeP','{leftarrow}','move\x20cursor\x20to\x20bar','SnsWm','bjIHM','FsTHt','RBEMs','BObKM','completions','helpTextHeader','HvwdC','YViLQ','\x22foo\x22','HBiHI','1092487eUKobV','contains','JBSSk','ssyKa','openProductsTable','acNul','the\x20help\x20text\x20popover\x20should\x20follow\x20the\x20cursor\x20position','action-buttons','8OlpOmU','value','wAWiU','KxUsn','should\x20always\x20show\x20the\x20help\x20text\x20popover\x20on\x20top\x20of\x20the\x20custom\x20expression\x20widget\x20(metabase#52711)','CustomExpressionEditor','acceptCompletion','QcTBI','4605sMWJBX','equal','\x22bar\x22','repeat','AmcQO','vDyNT','should\x20not\x20show\x20suggestions\x20for\x20an\x20unfocused\x20field\x20(metabase#31643)','JpPYU','ogzPl','1272882LCqtVg','1034677qFcfwC','hxfUw','bet','findByTestId','notebook','viewport','461165JxwMGE','then'];_0x51e0=function(){return _0x53cfbe;};return _0x51e0();}function verifyHelptextPosition(_0x28025e){const _0x36b0bf=_0x1cd3,_0x56e246={'adqXt':_0x36b0bf(0x14c),'SnsWm':_0x36b0bf(0x101)};H['CustomExpressionEditor'][_0x36b0bf(0xda)]()[_0x36b0bf(0x12e)](_0x28025e)[_0x36b0bf(0x10d)](_0x1b4b2a=>{const _0x53c013=_0x36b0bf;if(_0x56e246[_0x53c013(0x134)]===_0x56e246[_0x53c013(0xe1)]){const {left:_0x4d8785}=_0x15e398[0x0][_0x53c013(0xd7)]();_0x3c595a[_0x53c013(0xf9)]['helpText']()[_0x53c013(0x10d)](_0x4b3eb0=>{const _0x19f79d=_0x53c013,{left:_0x323e86}=_0x4b3eb0[0x0]['getBoundingClientRect']();_0x21f702(_0x323e86)['to']['be'][_0x19f79d(0x10f)](_0x4d8785,0x5);});}else{const {left:_0x7469b9}=_0x1b4b2a[0x0]['getBoundingClientRect']();H[_0x53c013(0xf9)][_0x53c013(0xdd)]()['then'](_0x4f5217=>{const _0x291242=_0x53c013,{left:_0xc57819}=_0x4f5217[0x0][_0x291242(0xd7)]();expect(_0xc57819)['to']['be'][_0x291242(0x10f)](_0x7469b9,0x5);});}});}