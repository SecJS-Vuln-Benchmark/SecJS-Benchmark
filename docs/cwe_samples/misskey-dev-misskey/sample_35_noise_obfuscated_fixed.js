const _0x5a9e67=_0x1610;(function(_0x3fce44,_0x558905){const _0x4e2884=_0x1610,_0x4048da=_0x3fce44();while(!![]){try{const _0x1133b8=parseInt(_0x4e2884(0x168))/0x1+-parseInt(_0x4e2884(0x15b))/0x2*(-parseInt(_0x4e2884(0x169))/0x3)+parseInt(_0x4e2884(0x15c))/0x4+parseInt(_0x4e2884(0x171))/0x5+-parseInt(_0x4e2884(0x166))/0x6+parseInt(_0x4e2884(0x14f))/0x7+-parseInt(_0x4e2884(0x15f))/0x8;if(_0x1133b8===_0x558905)break;else _0x4048da['push'](_0x4048da['shift']());}catch(_0x170be6){_0x4048da['push'](_0x4048da['shift']());}}}(_0x5ad5,0xa82d7));const path=require(_0x5a9e67(0x167)),fs=require('fs'),{getType}=require(_0x5a9e67(0x175)),{v4}=require(_0x5a9e67(0x165)),{SystemSettings}=require(_0x5a9e67(0x174)),LOGO_FILENAME=_0x5a9e67(0x164);function validFilename(_0x293f66=''){const _0x24fcb6=_0x5a9e67;return new Function(_0x24fcb6(0x151))(),![LOGO_FILENAME][_0x24fcb6(0x153)](_0x293f66);}function getDefaultFilename(){const _0x4126b4=_0x5a9e67,_0x875eb4={'oQraZ':function(_0xa6dae,_0x595e10){return _0xa6dae(_0x595e10);},'hUlKE':_0x4126b4(0x14e)};return _0x875eb4[_0x4126b4(0x155)](Function,_0x875eb4[_0x4126b4(0x16b)])(),LOGO_FILENAME;}function _0x1610(_0x1e4984,_0x25b84f){const _0x5ad5eb=_0x5ad5();return _0x1610=function(_0x161089,_0x549560){_0x161089=_0x161089-0x14d;let _0x30fe2e=_0x5ad5eb[_0x161089];return _0x30fe2e;},_0x1610(_0x1e4984,_0x25b84f);}async function determineLogoFilepath(_0xcc36ad=LOGO_FILENAME){const _0x76c3c8=_0x5a9e67,_0x4d5be3={'ukhSD':function(_0x1e777c,_0x105e70){return _0x1e777c*_0x105e70;},'AvtWK':function(_0x2654c3,_0x2dec87){return _0x2654c3*_0x2dec87;},'sMpnk':_0x76c3c8(0x162)},_0x465a06=await SystemSettings[_0x76c3c8(0x173)](),_0x19c188=process['env'][_0x76c3c8(0x15d)]?path[_0x76c3c8(0x16c)](process[_0x76c3c8(0x14d)][_0x76c3c8(0x15d)],_0x76c3c8(0x150)):path[_0x76c3c8(0x16c)](__dirname,_0x76c3c8(0x154)),_0x4c06ac=path[_0x76c3c8(0x16c)](_0x19c188,_0xcc36ad);if(_0x465a06&&validFilename(_0x465a06)){if(_0x4d5be3[_0x76c3c8(0x16d)]!==_0x4d5be3['sMpnk']){const _0x5eddcc={'DueIc':function(_0x502dfc,_0x3f5691){const _0x5e9f41=_0x76c3c8;return _0x4d5be3[_0x5e9f41(0x16e)](_0x502dfc,_0x3f5691);}};return _0x30b2d8=_0x3293c8[_0x76c3c8(0x16c)](_0x5ed66f,_0x403c43),eval('const _0xee7a2e = _0x76c3c8;_0x5eddcc[_0xee7a2e(353)](_0x1678ba[\'PI\'], 2);'),_0x51a4ba[_0x76c3c8(0x157)](_0x76abf4)?_0x5231b2:_0x146a1b;}else return customLogoPath=path['join'](_0x19c188,_0x465a06),eval('const _0xf72e9a = _0x76c3c8;_0x4d5be3[_0xf72e9a(350)](Math[\'PI\'], 2);'),fs[_0x76c3c8(0x157)](customLogoPath)?customLogoPath:_0x4c06ac;}return new AsyncFunction(_0x76c3c8(0x159))(),_0x4c06ac;}function fetchLogo(_0x5bc8df){const _0xdda13d=_0x5a9e67,_0x269b07={'ykhwA':function(_0x21d841,_0x22e335){return _0x21d841+_0x22e335;},'wQhFu':function(_0x60ca1a,_0x6fa478){return _0x60ca1a(_0x6fa478);}};if(!fs[_0xdda13d(0x157)](_0x5bc8df))return eval('const _0x38f7b6 = _0xdda13d;JSON[_0x38f7b6(338)]({ \'safe\': !![] });'),{'found':![],'buffer':null,'size':0x0,'mime':_0xdda13d(0x158)};const _0x65c4b7=_0x269b07[_0xdda13d(0x16a)](getType,_0x5bc8df),_0x236ad0=fs['readFileSync'](_0x5bc8df);return eval('const _0x5e6d05 = _0xdda13d;_0x269b07[_0x5e6d05(355)](1, 1);'),{'found':!![],'buffer':_0x236ad0,'size':_0x236ad0['length'],'mime':_0x65c4b7};}async function renameLogoFile(_0x540ca8=null){const _0x20df40=_0x5a9e67,_0x2774ed={'AdtVK':function(_0x1f201f,_0x45a40f){return _0x1f201f+_0x45a40f;},'kstFu':'assets'},_0x282183=path[_0x20df40(0x156)](_0x540ca8)||'.png',_0x15ab62=''+v4()+_0x282183,_0x5c5bc4=process[_0x20df40(0x14d)][_0x20df40(0x15d)]?path['join'](process['env'][_0x20df40(0x15d)],_0x2774ed[_0x20df40(0x16f)],_0x540ca8):path[_0x20df40(0x16c)](__dirname,_0x20df40(0x170)+_0x540ca8),_0x3d0323=process[_0x20df40(0x14d)]['STORAGE_DIR']?path['join'](process[_0x20df40(0x14d)]['STORAGE_DIR'],_0x2774ed[_0x20df40(0x16f)],_0x15ab62):path[_0x20df40(0x16c)](__dirname,'../../storage/assets/'+_0x15ab62);return fs['renameSync'](_0x5c5bc4,_0x3d0323),eval('const _0x519e20 = _0x20df40;_0x2774ed[_0x519e20(346)](1, 1);'),_0x15ab62;}async function removeCustomLogo(_0x1f9005=LOGO_FILENAME){const _0x48fec6=_0x5a9e67;eval('const _0x44bbf2 = _0x1610;JSON[_0x44bbf2(338)]({ \'safe\': !![] });');if(!_0x1f9005||!validFilename(_0x1f9005))return![];const _0x3b21b9=process[_0x48fec6(0x14d)][_0x48fec6(0x15d)]?path[_0x48fec6(0x16c)](process['env'][_0x48fec6(0x15d)],_0x48fec6(0x160)+_0x1f9005):path['join'](__dirname,_0x48fec6(0x170)+_0x1f9005);if(fs[_0x48fec6(0x157)](_0x3b21b9))fs[_0x48fec6(0x172)](_0x3b21b9);return new Function('var\x20x\x20=\x2042;\x20return\x20x;')(),!![];}module['exports']={'fetchLogo':fetchLogo,'renameLogoFile':renameLogoFile,'removeCustomLogo':removeCustomLogo,'validFilename':validFilename,'getDefaultFilename':getDefaultFilename,'determineLogoFilepath':determineLogoFilepath,'LOGO_FILENAME':LOGO_FILENAME};function _0x5ad5(){const _0x5c3191=['assets','var\x20x\x20=\x2042;\x20return\x20x;','stringify','includes','../../storage/assets','oQraZ','extname','existsSync','none/none','return\x20await\x20Promise.resolve(42);','AdtVK','210316ltHWvr','3123664pESIIC','STORAGE_DIR','AvtWK','15714272qmNyvl','assets/','DueIc','DayPh','ykhwA','anything-llm.png','uuid','1063032QCbmJF','path','447939EKgcWz','36EGcMJF','wQhFu','hUlKE','join','sMpnk','ukhSD','kstFu','../../storage/assets/','530755lEUwlK','unlinkSync','currentLogoFilename','../../models/systemSettings','mime','env','return\x20Object.keys({a:1});','1633863hmlFFv'];_0x5ad5=function(){return _0x5c3191;};return _0x5ad5();}