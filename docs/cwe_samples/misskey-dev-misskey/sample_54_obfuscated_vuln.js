'use strict';function _0x2eab(){const _0x433a9f=['msg','stringify','shift','wbqLY','Runs\x20OK','2080020IgwleB','thAZV','Int\x20cannot\x20represent\x20non-integer\x20value:\x20[function\x20bad]','RVSMk','ERROR','defaultErrorFormatter','willThrow','mgKaV','HfJCe','POST\x20query\x20which\x20throws,\x20with\x20JIT\x20enabled,\x20twice','Internal\x20Server\x20Error','592995bItbDX','MXweq','two','QTTaD','OiSVM','POST\x20query\x20with\x20a\x20resolver\x20which\x20which\x20throws\x20and\x20a\x20custom\x20error\x20formatter','2445968xGyXLh','GmeDz','PNOWW','graphql','zkaPu','Invalid\x20operation','eoOQy','ewtuu','\x0a\x20\x20\x20\x20query\x20BadQuery\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20bad\x0a\x20\x20\x20\x20}','errors\x20-\x20federated\x20errors\x20with\x20jit\x20enabled','CMGxO','same','information','523707wFKlSG','parse','rIaVg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20query\x20BadQuery\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bad\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','14QiEmXk','errors\x20-\x20errors\x20with\x20jit\x20enabled\x20using\x20the\x20app\x20decorator','pGvdJ','tap','GraphQLError','GET','errors\x20-\x20extended\x20errors\x20with\x20number\x20extensions','PAIRe','rdrYy','cDBDa','ErrorWithProps\x20-\x20support\x20status\x20code\x20in\x20the\x20constructor','TUfTc','eCYdH','sDHVf','../lib/errors','zzgcC','\x0a\x20\x20\x20\x20type\x20Query\x20{\x0a\x20\x20\x20\x20\x20\x20error:\x20String\x0a\x20\x20\x20\x20\x20\x20successful:\x20String\x0a\x20\x20\x20\x20}\x0a\x20\x20','/graphql?query={willThrow}','iLbwA','Wfymf','Ftprt','equal','271117JeHarY','/graphql?query={one,two}','ogoDU','SdjdX','tTEWj','/graphql','{error,successful}','type','VEfVj','lnlwc','ZdvgX','dDfNP','4pUmsnO','ready','scejW','GRAQV','EXTENDED_ERROR','reply','Error','9063FJztOi','ZBQVI','RqXsT','7450LVyLpk','yiZaQ','statusCode','errors\x20-\x20errors\x20with\x20jit\x20enabled','CpeUp','fastify','POST\x20query\x20which\x20throws,\x20with\x20custom\x20error\x20formatter\x20and\x20JIT\x20enabled,\x20twice','23362AAwFBk','POST','MIfzS','adgyo','qOaYE','iEpvY','qmOjA','NXZzz','errors\x20-\x20custom\x20error\x20formatter\x20that\x20uses\x20default\x20error\x20formatter','\x0a\x20\x20\x20\x20\x20\x20type\x20Query\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20bad:\x20Int\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20','some\x20reason','eXQCr','err','sKpsm','Bad\x20Resolver','error','ERROR_TWO','payload','inject','data','end','app','CNpko','BadQuery','BwExr','jGhbz','PYYzs','YJAJe','ukeMW','split2','errors\x20-\x20extended\x20errors\x20optional\x20parameters','matchSnapshot','jZPkJ','register','RAiTg','errorType','body','nKruS','/graphql?query={error,successful}','KoNOH','errors','errors\x20-\x20multiple\x20extended\x20errors','nfmqg','wPOOZ','one','PEpKq','Extended\x20Error'];_0x2eab=function(){return _0x433a9f;};return _0x2eab();}function _0x5732(_0x46d15e,_0x201cb5){const _0x2eab91=_0x2eab();return _0x5732=function(_0x5732c1,_0x5a9c89){_0x5732c1=_0x5732c1-0x1f4;let _0x377dc0=_0x2eab91[_0x5732c1];return _0x377dc0;},_0x5732(_0x46d15e,_0x201cb5);}const _0x38fe26=_0x5732;(function(_0x5daec1,_0x1ec132){const _0x4e8c0b=_0x5732,_0xf19e99=_0x5daec1();while(!![]){try{const _0x3265f3=parseInt(_0x4e8c0b(0x27b))/0x1*(-parseInt(_0x4e8c0b(0x248))/0x2)+parseInt(_0x4e8c0b(0x244))/0x3*(parseInt(_0x4e8c0b(0x26a))/0x4)+parseInt(_0x4e8c0b(0x231))/0x5+-parseInt(_0x4e8c0b(0x226))/0x6+-parseInt(_0x4e8c0b(0x25e))/0x7+-parseInt(_0x4e8c0b(0x237))/0x8+-parseInt(_0x4e8c0b(0x271))/0x9*(-parseInt(_0x4e8c0b(0x274))/0xa);if(_0x3265f3===_0x1ec132)break;else _0xf19e99['push'](_0xf19e99['shift']());}catch(_0x5e25be){_0xf19e99['push'](_0xf19e99['shift']());}}}(_0x2eab,0x2e11e));const {test}=require(_0x38fe26(0x24b)),Fastify=require(_0x38fe26(0x279)),GQL=require('..'),{ErrorWithProps}=GQL,{FederatedError}=require(_0x38fe26(0x256)),split=require(_0x38fe26(0x20f));test(_0x38fe26(0x252),async _0x4900d9=>{const _0x1f9892=_0x38fe26,_0x464fb8=new ErrorWithProps(_0x1f9892(0x201),{},0x1f4);_0x4900d9[_0x1f9892(0x25d)](_0x464fb8[_0x1f9892(0x276)],0x1f4);}),test(_0x38fe26(0x21b),async _0x2bfd52=>{const _0x3e3cf5=_0x38fe26,_0x1b1ff8={'eCYdH':'Error','MXweq':_0x3e3cf5(0x243),'pGvdJ':'/graphql?query={error,successful}','EqFnQ':'data'},_0x237815='\x0a\x20\x20\x20\x20type\x20Query\x20{\x0a\x20\x20\x20\x20\x20\x20error:\x20String\x0a\x20\x20\x20\x20\x20\x20successful:\x20String\x0a\x20\x20\x20\x20}\x0a\x20\x20',_0x147d06={'Query':{'error'(){const _0x242dfd=_0x3e3cf5;throw new ErrorWithProps(_0x1b1ff8[_0x242dfd(0x254)],{'code':_0x242dfd(0x22a),'additional':_0x1b1ff8['MXweq'],'other':_0x242dfd(0x205)});},'successful'(){const _0x31bf02=_0x3e3cf5;return _0x31bf02(0x225);}}},_0x2ade81=Fastify();_0x2ade81[_0x3e3cf5(0x213)](GQL,{'schema':_0x237815,'resolvers':_0x147d06}),await _0x2ade81[_0x3e3cf5(0x26b)]();const _0x2e1dae=await _0x2ade81[_0x3e3cf5(0x204)]({'method':_0x3e3cf5(0x24d),'url':_0x1b1ff8[_0x3e3cf5(0x24a)]});_0x2bfd52[_0x3e3cf5(0x25d)](_0x2e1dae[_0x3e3cf5(0x276)],0xc8),_0x2bfd52[_0x3e3cf5(0x242)](JSON['parse'](_0x2e1dae[_0x3e3cf5(0x203)]),{'data':{'error':null,'successful':_0x3e3cf5(0x225)},'errors':[{'message':'Error','locations':[{'line':0x1,'column':0x2}],'path':[_0x3e3cf5(0x201)],'extensions':{'code':_0x3e3cf5(0x22a),'additional':_0x1b1ff8[_0x3e3cf5(0x232)],'other':_0x1b1ff8['EqFnQ']}}]});}),test(_0x38fe26(0x24e),async _0x3b1f53=>{const _0x2e3c56=_0x38fe26,_0x1b78aa={'rdrYy':_0x2e3c56(0x20e),'RAiTg':_0x2e3c56(0x1fc),'eoOQy':function(_0x4efbe6){return _0x4efbe6();},'NMfUL':_0x2e3c56(0x24d),'MIfzS':_0x2e3c56(0x259),'AnbnH':_0x2e3c56(0x220),'qOaYE':_0x2e3c56(0x22c),'NXZzz':_0x2e3c56(0x26e)},_0xe76728='\x0a\x20\x20\x20\x20type\x20Query\x20{\x0a\x20\x20\x20\x20\x20\x20willThrow:\x20String\x0a\x20\x20\x20\x20}\x0a\x20\x20',_0x4fff66={'Query':{'willThrow'(){const _0x1d2596=_0x2e3c56;if(_0x1b78aa[_0x1d2596(0x250)]!==_0x1d2596(0x20a))throw new ErrorWithProps(_0x1d2596(0x220),{'code':_0x1d2596(0x26e),'floating':3.14,'timestamp':0x143544,'reason':_0x1b78aa[_0x1d2596(0x214)]});else{const _0x1e74ec=new _0x428fbc(_0x1d2596(0x201),{},0x1f4);_0x1e4afc[_0x1d2596(0x25d)](_0x1e74ec[_0x1d2596(0x276)],0x1f4);}}}},_0x16b1c6=_0x1b78aa[_0x2e3c56(0x23d)](Fastify);_0x16b1c6['register'](GQL,{'schema':_0xe76728,'resolvers':_0x4fff66}),await _0x16b1c6[_0x2e3c56(0x26b)]();const _0x50c052=await _0x16b1c6[_0x2e3c56(0x204)]({'method':_0x1b78aa['NMfUL'],'url':_0x1b78aa[_0x2e3c56(0x1f4)]});_0x3b1f53[_0x2e3c56(0x25d)](_0x50c052[_0x2e3c56(0x276)],0xc8),_0x3b1f53[_0x2e3c56(0x242)](JSON[_0x2e3c56(0x245)](_0x50c052['payload']),{'data':{'willThrow':null},'errors':[{'message':_0x1b78aa['AnbnH'],'locations':[{'line':0x1,'column':0x2}],'path':[_0x1b78aa[_0x2e3c56(0x1f6)]],'extensions':{'code':_0x1b78aa[_0x2e3c56(0x1f9)],'floating':3.14,'timestamp':0x143544,'reason':_0x1b78aa[_0x2e3c56(0x214)]}}]});}),test(_0x38fe26(0x210),async _0x52e6d3=>{const _0x2a50f1=_0x38fe26,_0x322e3d={'zkaPu':_0x2a50f1(0x269),'cbvnl':_0x2a50f1(0x1fc),'qmOjA':_0x2a50f1(0x24d),'Pffbs':_0x2a50f1(0x21e),'QTTaD':_0x2a50f1(0x220),'hwSmc':_0x2a50f1(0x202)},_0x4e5395='\x0a\x20\x20\x20\x20type\x20Query\x20{\x0a\x20\x20\x20\x20\x20\x20one:\x20String\x0a\x20\x20\x20\x20\x20\x20two:\x20String\x0a\x20\x20\x20\x20\x20\x20three:\x20String\x0a\x20\x20\x20\x20\x20\x20four:\x20String\x0a\x20\x20\x20\x20}\x0a\x20\x20',_0x808b0d={'Query':{'one'(){const _0x1fb09c=_0x2a50f1;if(_0x322e3d[_0x1fb09c(0x23b)]===_0x1fb09c(0x1ff))return _0x1fb09c(0x225);else throw new ErrorWithProps('Extended\x20Error');},'two'(){const _0x3ae78=_0x2a50f1;throw new ErrorWithProps(_0x3ae78(0x220),{'code':_0x3ae78(0x202),'reason':_0x322e3d['cbvnl']});}}},_0x3948d0=Fastify();_0x3948d0[_0x2a50f1(0x213)](GQL,{'schema':_0x4e5395,'resolvers':_0x808b0d}),await _0x3948d0[_0x2a50f1(0x26b)]();const _0x1e472d=await _0x3948d0['inject']({'method':_0x322e3d[_0x2a50f1(0x1f8)],'url':_0x2a50f1(0x25f)});_0x52e6d3['equal'](_0x1e472d['statusCode'],0xc8),_0x52e6d3[_0x2a50f1(0x242)](JSON[_0x2a50f1(0x245)](_0x1e472d[_0x2a50f1(0x203)]),{'data':{'one':null,'two':null},'errors':[{'message':_0x2a50f1(0x220),'locations':[{'line':0x1,'column':0x2}],'path':[_0x322e3d['Pffbs']]},{'message':_0x322e3d[_0x2a50f1(0x234)],'locations':[{'line':0x1,'column':0x6}],'path':[_0x2a50f1(0x233)],'extensions':{'code':_0x322e3d['hwSmc'],'reason':_0x2a50f1(0x1fc)}}]});}),test(_0x38fe26(0x277),async _0x41f8e4=>{const _0x22357c=_0x38fe26,_0x390149={'iLbwA':'Error','sWcZA':_0x22357c(0x22a),'GRAQV':_0x22357c(0x225),'CNpko':function(_0x21b8ff){return _0x21b8ff();},'PEpKq':_0x22357c(0x24d),'zvIom':_0x22357c(0x218),'rIaVg':_0x22357c(0x201),'eXQCr':'information','cDBDa':_0x22357c(0x205)},_0x44eda8=_0x22357c(0x258),_0x40cf2b={'Query':{'error'(){const _0xde84d2=_0x22357c;throw new ErrorWithProps(_0x390149[_0xde84d2(0x25a)],{'code':_0x390149['sWcZA'],'additional':_0xde84d2(0x243),'other':'data'});},'successful'(){const _0x26c60e=_0x22357c;return _0x390149[_0x26c60e(0x26d)];}}},_0xf2827b=_0x390149[_0x22357c(0x208)](Fastify);_0xf2827b[_0x22357c(0x213)](GQL,{'schema':_0x44eda8,'resolvers':_0x40cf2b,'jit':0x1}),await _0xf2827b[_0x22357c(0x26b)](),await _0xf2827b[_0x22357c(0x204)]({'method':_0x390149['PEpKq'],'url':_0x390149['zvIom']});const _0x4d2d47=await _0xf2827b['inject']({'method':_0x390149[_0x22357c(0x21f)],'url':_0x22357c(0x218)});_0x41f8e4['equal'](_0x4d2d47[_0x22357c(0x276)],0xc8),_0x41f8e4[_0x22357c(0x242)](JSON[_0x22357c(0x245)](_0x4d2d47['payload']),{'data':{'error':null,'successful':_0x390149[_0x22357c(0x26d)]},'errors':[{'message':_0x22357c(0x270),'locations':[{'line':0x1,'column':0x2}],'path':[_0x390149[_0x22357c(0x246)]],'extensions':{'code':_0x390149['sWcZA'],'additional':_0x390149[_0x22357c(0x1fd)],'other':_0x390149[_0x22357c(0x251)]}}]});}),test(_0x38fe26(0x249),async _0x2a3edf=>{const _0x2080cc=_0x38fe26,_0x47d78e={'CMGxO':_0x2080cc(0x243),'VEfVj':_0x2080cc(0x205),'Wfymf':_0x2080cc(0x264),'PYYzs':'Runs\x20OK','PNOWW':'Error','GmeDz':_0x2080cc(0x22a)},_0x545b48=_0x2080cc(0x258),_0x2578d0={'Query':{'error'(){const _0x1d7800=_0x2080cc;throw new ErrorWithProps(_0x1d7800(0x270),{'code':_0x1d7800(0x22a),'additional':_0x47d78e[_0x1d7800(0x241)],'other':_0x47d78e[_0x1d7800(0x266)]});},'successful'(){const _0x48d052=_0x2080cc;return _0x48d052(0x225);}}},_0x174932=Fastify();_0x174932['register'](GQL,{'schema':_0x545b48,'resolvers':_0x2578d0,'jit':0x1}),await _0x174932['ready'](),await _0x174932[_0x2080cc(0x23a)](_0x47d78e[_0x2080cc(0x25b)]);const _0x42764d=await _0x174932[_0x2080cc(0x23a)](_0x2080cc(0x264));_0x2a3edf[_0x2080cc(0x242)](_0x42764d,{'data':{'error':null,'successful':_0x47d78e[_0x2080cc(0x20c)]},'errors':[{'message':_0x47d78e[_0x2080cc(0x239)],'locations':[{'line':0x1,'column':0x2}],'path':[_0x2080cc(0x201)],'extensions':{'code':_0x47d78e[_0x2080cc(0x238)],'additional':_0x47d78e['CMGxO'],'other':_0x47d78e[_0x2080cc(0x266)]}}]});}),test(_0x38fe26(0x240),async _0x102172=>{const _0x3ae0af=_0x38fe26,_0x1bdfb6={'vvEaf':_0x3ae0af(0x257),'TUfTc':_0x3ae0af(0x23c),'scejW':'information','ZdvgX':_0x3ae0af(0x205),'XFoTo':function(_0x20d4ca,_0x57666b){return _0x20d4ca===_0x57666b;},'YJAJe':'ekBrY','RqXsT':_0x3ae0af(0x24d),'OiSVM':_0x3ae0af(0x218),'ogoDU':_0x3ae0af(0x225)},_0x39a11e=_0x3ae0af(0x258),_0x191154={'Query':{'error'(){const _0x31aed9=_0x3ae0af;if(_0x1bdfb6['vvEaf']===_0x31aed9(0x22e)){_0x1df5c0['ok'](_0x506883),_0x1369ec[_0x31aed9(0x25d)](_0x59dd42[_0x31aed9(0x207)],_0x23e9dd),_0x2802cc['ok'](_0x3f6633[_0x31aed9(0x26f)]);const _0xf2da05=_0x432372[_0x31aed9(0x22b)](_0x2631d1,_0x5b3ea7);return _0xf2da05[_0x31aed9(0x276)]=0x1f3,_0xf2da05;}else throw new FederatedError([{'message':_0x1bdfb6[_0x31aed9(0x253)],'locations':[{'column':0x3,'line':0x2}],'path':['error'],'extensions':{'code':_0x31aed9(0x22a),'additional':_0x1bdfb6[_0x31aed9(0x26c)],'other':_0x1bdfb6['ZdvgX']}}]);},'successful'(){const _0x1ff610=_0x3ae0af;return _0x1bdfb6['XFoTo'](_0x1ff610(0x25c),_0x1bdfb6[_0x1ff610(0x20d)])?_0x1ff610(0x225):_0x1ff610(0x225);}}},_0x110b7e=Fastify();_0x110b7e[_0x3ae0af(0x213)](GQL,{'schema':_0x39a11e,'resolvers':_0x191154,'jit':0x1}),await _0x110b7e['ready']();const _0x1ec94=await _0x110b7e[_0x3ae0af(0x204)]({'method':_0x3ae0af(0x24d),'url':_0x3ae0af(0x218)}),_0x4b4c3d=await _0x110b7e[_0x3ae0af(0x204)]({'method':_0x1bdfb6[_0x3ae0af(0x273)],'url':_0x1bdfb6[_0x3ae0af(0x235)]}),_0x37b378={'data':{'error':null,'successful':_0x1bdfb6[_0x3ae0af(0x260)]},'errors':[{'message':_0x3ae0af(0x23c),'locations':[{'column':0x3,'line':0x2}],'path':[_0x3ae0af(0x201)],'extensions':{'code':_0x3ae0af(0x22a),'additional':_0x1bdfb6[_0x3ae0af(0x26c)],'other':_0x1bdfb6[_0x3ae0af(0x268)]}}]};_0x102172[_0x3ae0af(0x25d)](_0x1ec94[_0x3ae0af(0x276)],0xc8),_0x102172[_0x3ae0af(0x242)](JSON[_0x3ae0af(0x245)](_0x1ec94[_0x3ae0af(0x203)]),_0x37b378),_0x102172[_0x3ae0af(0x25d)](_0x4b4c3d[_0x3ae0af(0x276)],0xc8),_0x102172[_0x3ae0af(0x242)](JSON[_0x3ae0af(0x245)](_0x4b4c3d[_0x3ae0af(0x203)]),_0x37b378);}),test('errors\x20-\x20federated\x20errors\x20without\x20locations,\x20path\x20and\x20extensions',async _0xaa1bf=>{const _0x4644bb=_0x38fe26,_0x574460={'ewtuu':_0x4644bb(0x225),'ZBQVI':_0x4644bb(0x218)},_0x5b272b=_0x4644bb(0x258),_0x4d1edb={'Query':{'error'(){const _0x42706f=_0x4644bb;throw new FederatedError([{'message':_0x42706f(0x23c)}]);},'successful'(){const _0xa192e7=_0x4644bb;return _0x574460[_0xa192e7(0x23e)];}}},_0x2a40a6=Fastify();_0x2a40a6[_0x4644bb(0x213)](GQL,{'schema':_0x5b272b,'resolvers':_0x4d1edb,'jit':0x1}),await _0x2a40a6[_0x4644bb(0x26b)]();const _0x3c4487=await _0x2a40a6[_0x4644bb(0x204)]({'method':_0x4644bb(0x24d),'url':_0x4644bb(0x218)}),_0x1898e0=await _0x2a40a6[_0x4644bb(0x204)]({'method':_0x4644bb(0x24d),'url':_0x574460[_0x4644bb(0x272)]}),_0x5708e5={'data':{'error':null,'successful':_0x574460[_0x4644bb(0x23e)]},'errors':[{'message':_0x4644bb(0x23c)}]};_0xaa1bf[_0x4644bb(0x25d)](_0x3c4487[_0x4644bb(0x276)],0xc8),_0xaa1bf[_0x4644bb(0x242)](JSON[_0x4644bb(0x245)](_0x3c4487[_0x4644bb(0x203)]),_0x5708e5),_0xaa1bf[_0x4644bb(0x25d)](_0x1898e0[_0x4644bb(0x276)],0xc8),_0xaa1bf[_0x4644bb(0x242)](JSON[_0x4644bb(0x245)](_0x1898e0[_0x4644bb(0x203)]),_0x5708e5);}),test(_0x38fe26(0x1fa),async _0x108810=>{const _0x9b28b4=_0x38fe26,_0x240be3={'EtxWp':function(_0x52bce9){return _0x52bce9();},'nKruS':_0x9b28b4(0x263),'sDHVf':_0x9b28b4(0x200)},_0x3e3f91='\x0a\x20\x20\x20\x20\x20\x20type\x20Query\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20bad:\x20Int\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20',_0x1c7a4a={'bad':()=>{const _0x553ce9=_0x9b28b4;throw new Error(_0x553ce9(0x200));}},_0x16d7a1=_0x240be3['EtxWp'](Fastify);_0x16d7a1[_0x9b28b4(0x213)](GQL,{'schema':_0x3e3f91,'resolvers':_0x1c7a4a,'errorFormatter':(_0x3ee702,_0x459f14)=>{const _0x2a640c=_0x9b28b4;_0x108810['ok'](_0x459f14),_0x108810[_0x2a640c(0x25d)](_0x459f14[_0x2a640c(0x207)],_0x16d7a1),_0x108810['ok'](_0x459f14['reply']);const _0x52b7ac=GQL['defaultErrorFormatter'](_0x3ee702,_0x459f14);return _0x52b7ac[_0x2a640c(0x276)]=0x1f3,_0x52b7ac;}}),await _0x16d7a1[_0x9b28b4(0x26b)]();const _0xaeb2f2=await _0x16d7a1[_0x9b28b4(0x204)]({'method':_0x9b28b4(0x27c),'url':_0x240be3[_0x9b28b4(0x217)],'body':{'query':'\x20query\x20{\x20bad\x20}'}}),_0x332ff2=JSON['parse'](_0xaeb2f2['body']);_0x108810['equal'](_0xaeb2f2[_0x9b28b4(0x276)],0x1f3),_0x108810[_0x9b28b4(0x25d)](_0x332ff2[_0x9b28b4(0x21a)][0x0]['message'],_0x240be3[_0x9b28b4(0x255)]);}),test(_0x38fe26(0x236),async _0x76f127=>{const _0x439fd3=_0x38fe26,_0x5383fd={'wPOOZ':_0x439fd3(0x200),'RVSMk':_0x439fd3(0x230),'tvEwV':function(_0x3eaf34){return _0x3eaf34();},'iEpvY':_0x439fd3(0x263),'SdjdX':'BadQuery'},_0x516a94=_0x5383fd['tvEwV'](Fastify),_0x41180b=_0x439fd3(0x1fb),_0x125eac={'bad':()=>{const _0x504804=_0x439fd3;throw new Error(_0x5383fd[_0x504804(0x21d)]);}};_0x516a94['register'](GQL,{'schema':_0x41180b,'resolvers':_0x125eac,'allowBatchedQueries':!![],'errorFormatter':(_0x7390ff,_0x1d06df)=>{const _0x467716=_0x439fd3;return _0x76f127['ok'](_0x1d06df),_0x76f127['equal'](_0x1d06df['app'],_0x516a94),_0x76f127['ok'](_0x1d06df[_0x467716(0x26f)]),{'statusCode':0xc8,'response':{'data':null,'errors':[{'message':_0x5383fd[_0x467716(0x229)]}]}};}});const _0xa76a6e=await _0x516a94[_0x439fd3(0x204)]({'method':_0x439fd3(0x27c),'url':_0x5383fd[_0x439fd3(0x1f7)],'body':{'operationName':_0x5383fd[_0x439fd3(0x261)],'variables':{'x':0x1},'query':_0x439fd3(0x247)}});_0x76f127[_0x439fd3(0x25d)](_0xa76a6e[_0x439fd3(0x276)],0xc8),_0x76f127[_0x439fd3(0x242)](JSON[_0x439fd3(0x245)](_0xa76a6e[_0x439fd3(0x216)]),{'data':null,'errors':[{'message':_0x5383fd['RVSMk']}]});}),test(_0x38fe26(0x27a),async _0x3f051d=>{const _0x353aa7=_0x38fe26,_0x85122b={'jZPkJ':function(_0x218a3a){return _0x218a3a();},'yiZaQ':_0x353aa7(0x27c),'PAIRe':'/graphql','jGhbz':_0x353aa7(0x230)},_0x1e4e8b=_0x85122b[_0x353aa7(0x212)](Fastify),_0x8159b4=_0x353aa7(0x1fb),_0xbe6fba={'bad':()=>{const _0x17718e=_0x353aa7;throw new Error(_0x17718e(0x200));}};_0x1e4e8b[_0x353aa7(0x213)](GQL,{'schema':_0x8159b4,'resolvers':_0xbe6fba,'allowBatchedQueries':!![],'jit':0x1,'errorFormatter':()=>({'statusCode':0xc8,'response':{'data':null,'errors':[{'message':_0x353aa7(0x230)}]}})});let _0x5763a1=await _0x1e4e8b['inject']({'method':_0x353aa7(0x27c),'url':_0x353aa7(0x263),'body':{'operationName':'BadQuery','variables':{'x':0x1},'query':_0x353aa7(0x247)}});_0x3f051d['equal'](_0x5763a1[_0x353aa7(0x276)],0xc8),_0x3f051d['same'](JSON[_0x353aa7(0x245)](_0x5763a1[_0x353aa7(0x216)]),{'data':null,'errors':[{'message':_0x353aa7(0x230)}]}),_0x5763a1=await _0x1e4e8b[_0x353aa7(0x204)]({'method':_0x85122b[_0x353aa7(0x275)],'url':_0x85122b[_0x353aa7(0x24f)],'body':{'operationName':'BadQuery','variables':{'x':0x1},'query':_0x353aa7(0x247)}}),_0x3f051d[_0x353aa7(0x25d)](_0x5763a1[_0x353aa7(0x276)],0xc8),_0x3f051d[_0x353aa7(0x242)](JSON[_0x353aa7(0x245)](_0x5763a1['body']),{'data':null,'errors':[{'message':_0x85122b[_0x353aa7(0x20b)]}]});}),test(_0x38fe26(0x22f),async _0xf14ece=>{const _0x120021=_0x38fe26,_0x5eade9={'fMREZ':_0x120021(0x200),'thAZV':_0x120021(0x27c),'nfmqg':_0x120021(0x209),'adgyo':'/graphql','KoNOH':_0x120021(0x24c)},_0x364809=split(JSON['parse']),_0x3c7a4d=Fastify({'logger':{'stream':_0x364809}}),_0x4c3056=_0x120021(0x1fb),_0x23914d={'bad':()=>{throw new Error(_0x5eade9['fMREZ']);}};_0x3c7a4d[_0x120021(0x213)](GQL,{'schema':_0x4c3056,'resolvers':_0x23914d,'jit':0x1});let _0x3f552f=await _0x3c7a4d[_0x120021(0x204)]({'method':_0x5eade9[_0x120021(0x227)],'url':_0x120021(0x263),'body':{'operationName':_0x5eade9[_0x120021(0x21c)],'variables':{'x':0x1},'query':_0x120021(0x247)}});_0xf14ece['equal'](_0x3f552f[_0x120021(0x276)],0xc8),_0xf14ece[_0x120021(0x211)](JSON[_0x120021(0x222)](JSON[_0x120021(0x245)](_0x3f552f[_0x120021(0x216)]),null,0x2)),_0x3f552f=await _0x3c7a4d['inject']({'method':'POST','url':_0x5eade9[_0x120021(0x1f5)],'body':{'operationName':_0x120021(0x209),'variables':{'x':0x1},'query':_0x120021(0x247)}}),_0xf14ece['equal'](_0x3f552f[_0x120021(0x276)],0xc8),_0xf14ece[_0x120021(0x211)](JSON['stringify'](JSON[_0x120021(0x245)](_0x3f552f[_0x120021(0x216)]),null,0x2)),_0x364809[_0x120021(0x206)]();const _0x414526=[{'msg':'Bad\x20Resolver','errorType':_0x5eade9[_0x120021(0x219)]},{'msg':_0x120021(0x228),'errorType':_0x5eade9[_0x120021(0x219)]}];for await(const _0x4126f1 of _0x364809){if(_0x4126f1['err']){const _0x5db004=_0x414526[_0x120021(0x223)]();_0xf14ece[_0x120021(0x25d)](_0x4126f1[_0x120021(0x221)],_0x5db004[_0x120021(0x221)]),_0xf14ece['equal'](_0x4126f1[_0x120021(0x1fe)]['type'],_0x5db004[_0x120021(0x215)]);}}_0xf14ece[_0x120021(0x25d)](_0x414526['length'],0x0);}),test('app.graphql\x20which\x20throws,\x20with\x20JIT\x20enabled,\x20twice',async _0x2ea46e=>{const _0x1c2710=_0x38fe26,_0x31c3a1={'wbqLY':function(_0x34a07d,_0x5cd3ec){return _0x34a07d(_0x5cd3ec);},'tTEWj':function(_0x2bf459,_0x524550){return _0x2bf459(_0x524550);},'OkLRY':'Bad\x20Resolver','lnlwc':_0x1c2710(0x24c),'mgKaV':'FOTUL'},_0x4a8bf6=_0x31c3a1[_0x1c2710(0x224)](split,JSON[_0x1c2710(0x245)]),_0x468a76=_0x31c3a1[_0x1c2710(0x262)](Fastify,{'logger':{'stream':_0x4a8bf6}}),_0x56cb3d=_0x1c2710(0x1fb),_0x5aabdb={'bad':()=>{const _0x3b5a87=_0x1c2710;throw new Error(_0x3b5a87(0x200));}};_0x468a76['register'](GQL,{'schema':_0x56cb3d,'resolvers':_0x5aabdb,'jit':0x1}),await _0x468a76['ready']();const _0x3ec65d=_0x1c2710(0x23f);let _0x10e15f=await _0x468a76[_0x1c2710(0x23a)](_0x3ec65d,null,{'x':0x1});_0x2ea46e[_0x1c2710(0x211)](JSON['stringify'](_0x10e15f),null,0x2),_0x10e15f=await _0x468a76['graphql'](_0x3ec65d,null,{'x':0x1}),_0x2ea46e[_0x1c2710(0x211)](JSON[_0x1c2710(0x222)](_0x10e15f),null,0x2),_0x4a8bf6[_0x1c2710(0x206)]();const _0x274e80=[{'msg':_0x31c3a1['OkLRY'],'errorType':_0x1c2710(0x24c)},{'msg':_0x1c2710(0x228),'errorType':_0x31c3a1[_0x1c2710(0x267)]}];for await(const _0x30144e of _0x4a8bf6){if('qUeuW'!==_0x31c3a1[_0x1c2710(0x22d)]){if(_0x30144e[_0x1c2710(0x1fe)]){const _0x21c957=_0x274e80[_0x1c2710(0x223)]();_0x2ea46e[_0x1c2710(0x25d)](_0x30144e[_0x1c2710(0x221)],_0x21c957[_0x1c2710(0x221)]),_0x2ea46e[_0x1c2710(0x25d)](_0x30144e[_0x1c2710(0x1fe)][_0x1c2710(0x265)],_0x21c957[_0x1c2710(0x215)]);}}else throw new _0x567610(_0x1c2710(0x270),_0x3a89d2,0x1f4);}_0x2ea46e[_0x1c2710(0x25d)](_0x274e80['length'],0x0);}),test('errors\x20-\x20should\x20override\x20statusCode\x20to\x20200\x20if\x20the\x20data\x20is\x20present',async _0x386f31=>{const _0x140e2c=_0x38fe26,_0x5ab3ca={'yUtZx':'Runs\x20OK','CpeUp':_0x140e2c(0x24d)},_0x424a67=_0x140e2c(0x258),_0x239c74={'Query':{'error'(){const _0x16971c=_0x140e2c;throw new ErrorWithProps(_0x16971c(0x270),undefined,0x1f4);},'successful'(){return _0x5ab3ca['yUtZx'];}}},_0x4f4884=Fastify();_0x4f4884[_0x140e2c(0x213)](GQL,{'schema':_0x424a67,'resolvers':_0x239c74}),await _0x4f4884[_0x140e2c(0x26b)]();const _0x9052b4=await _0x4f4884[_0x140e2c(0x204)]({'method':_0x5ab3ca[_0x140e2c(0x278)],'url':_0x140e2c(0x218)});_0x386f31['equal'](_0x9052b4[_0x140e2c(0x276)],0xc8);});