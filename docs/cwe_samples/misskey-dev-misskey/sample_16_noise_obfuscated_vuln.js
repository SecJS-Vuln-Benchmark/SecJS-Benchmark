const _0x4e6913=_0x2f60;(function(_0x28bf26,_0x1f4fb2){const _0x59d18c=_0x2f60,_0x533d9f=_0x28bf26();while(!![]){try{const _0x23f0a7=-parseInt(_0x59d18c(0x120))/0x1*(-parseInt(_0x59d18c(0xd9))/0x2)+parseInt(_0x59d18c(0x168))/0x3*(-parseInt(_0x59d18c(0x11f))/0x4)+parseInt(_0x59d18c(0x18d))/0x5*(-parseInt(_0x59d18c(0xe5))/0x6)+-parseInt(_0x59d18c(0xcc))/0x7*(parseInt(_0x59d18c(0x20e))/0x8)+-parseInt(_0x59d18c(0x16c))/0x9*(parseInt(_0x59d18c(0x1f1))/0xa)+parseInt(_0x59d18c(0x10a))/0xb*(-parseInt(_0x59d18c(0x238))/0xc)+parseInt(_0x59d18c(0xd8))/0xd*(parseInt(_0x59d18c(0x172))/0xe);if(_0x23f0a7===_0x1f4fb2)break;else _0x533d9f['push'](_0x533d9f['shift']());}catch(_0x5f304b){_0x533d9f['push'](_0x533d9f['shift']());}}}(_0x17e1,0x9ffee));const {H}=cy;import{SAMPLE_DB_ID}from'e2e/support/cypress_data';import{SAMPLE_DATABASE}from'e2e/support/cypress_sample_database';import{ORDERS_QUESTION_ID}from'e2e/support/cypress_sample_instance_data';const {ORDERS,ORDERS_ID,PRODUCTS,PRODUCTS_ID,PEOPLE}=SAMPLE_DATABASE;describe('issue\x2023023',()=>{const _0x13d460=_0x2f60,_0x5f0dcc={'dArim':_0x13d460(0x1dd),'gukyT':_0x13d460(0x152),'iPUSt':'not.exist','ewMkR':_0x13d460(0x128),'RmUwO':_0x13d460(0x206),'SYCYc':function(_0x546dec,_0x25231e){return _0x546dec(_0x25231e);},'zYhTa':_0x13d460(0x175)},_0x235a07={'display':'table','dataset_query':{'database':SAMPLE_DB_ID,'query':{'source-table':ORDERS_ID,'joins':[{'fields':[[_0x13d460(0x128),PRODUCTS[_0x13d460(0x1f3)],{'join-alias':_0x13d460(0x206)}]],'source-table':PRODUCTS_ID,'condition':['=',[_0x5f0dcc[_0x13d460(0x282)],ORDERS[_0x13d460(0x287)],null],[_0x13d460(0x128),PRODUCTS['ID'],{'join-alias':_0x5f0dcc[_0x13d460(0x1fa)]}]],'alias':_0x13d460(0x206)}],'fields':[[_0x5f0dcc[_0x13d460(0x282)],ORDERS['ID'],null],[_0x5f0dcc[_0x13d460(0x282)],ORDERS[_0x13d460(0x287)],null]]},'type':_0x13d460(0x294)}};_0x5f0dcc['SYCYc'](beforeEach,()=>{const _0x42ef4b=_0x13d460;H['restore'](),cy[_0x42ef4b(0x2ac)]();}),it(_0x5f0dcc['zYhTa'],()=>{const _0x39eb6d=_0x13d460;H[_0x39eb6d(0x226)](_0x235a07),H[_0x39eb6d(0x22f)](),cy[_0x39eb6d(0x20a)](_0x5f0dcc[_0x39eb6d(0x194)])['eq'](0x1)[_0x39eb6d(0x19f)](),cy['findAllByTestId'](_0x39eb6d(0x1c2))[_0x39eb6d(0x1f5)]('Products\x20→\x20Category'),cy[_0x39eb6d(0x20c)](_0x39eb6d(0x1c2))['contains'](_0x5f0dcc[_0x39eb6d(0x220)])[_0x39eb6d(0x22d)](_0x5f0dcc[_0x39eb6d(0x141)]);});}),describe('issue\x2024839:\x20should\x20be\x20able\x20to\x20summarize\x20a\x20nested\x20question\x20based\x20on\x20the\x20source\x20question\x20with\x20aggregations\x20(metabase#24839)',()=>{const _0x5a7539=_0x2f60,_0x5e1f46={'QomSk':_0x5a7539(0x249),'XjUwB':_0x5a7539(0x2af),'nuaIC':_0x5a7539(0x21c),'hCZHf':_0x5a7539(0x228),'CaRCY':_0x5a7539(0x184),'gqlTg':_0x5a7539(0x183),'BSHqb':_0x5a7539(0x191),'tUXHT':_0x5a7539(0x25c),'MJRFP':_0x5a7539(0x1ca),'weCCm':'Query\x20results\x20will\x20appear\x20here.','LPTJP':_0x5a7539(0x1c0),'meeQI':function(_0x570044,_0xab2dc3){return _0x570044===_0xab2dc3;},'FPDjL':'WqXYm','SYbGW':_0x5a7539(0x17c),'flReP':_0x5a7539(0xde),'WFbic':_0x5a7539(0x214),'fsUIJ':_0x5a7539(0x17d),'EuJlN':_0x5a7539(0x213),'ABzFK':_0x5a7539(0x283),'Vtzro':'Distinct\x20values\x20of\x20Average\x20of\x20Total','PKnHy':_0x5a7539(0x128),'QQiqR':_0x5a7539(0x209),'dXSIC':function(_0x1efa53,_0x1085c6){return _0x1efa53(_0x1085c6);},'RuTyD':function(_0x395ac6,_0x344ae2,_0x475728){return _0x395ac6(_0x344ae2,_0x475728);},'PCdVQ':function(_0x497276,_0x12415d,_0x6873f0){return _0x497276(_0x12415d,_0x6873f0);},'NjffD':_0x5a7539(0x13f)},_0x48e98a={'name':_0x5a7539(0x16a),'query':{'source-table':ORDERS_ID,'aggregation':[[_0x5a7539(0x217),[_0x5e1f46[_0x5a7539(0xfe)],ORDERS[_0x5a7539(0x182)],null]],[_0x5a7539(0x15b),[_0x5e1f46[_0x5a7539(0xfe)],ORDERS[_0x5a7539(0x2ae)],null]]],'breakout':[[_0x5a7539(0x128),ORDERS[_0x5a7539(0x29f)],{'temporal-unit':_0x5e1f46[_0x5a7539(0x147)]}]]},'display':_0x5a7539(0x2b2)};_0x5e1f46['dXSIC'](beforeEach,()=>{const _0x220b05=_0x5a7539,_0x15b14b={'vxmUT':_0x220b05(0x27d),'zOOaN':'verify\x20Tables\x20are\x20listed','cAiVv':function(_0x2d978f,_0x4a3f53){return _0x2d978f!==_0x4a3f53;}};if(_0x5e1f46[_0x220b05(0x1da)](_0x5e1f46[_0x220b05(0x140)],'ptIqp')){const _0x581727={'sVedY':_0x5e1f46[_0x220b05(0x10f)]};_0x592101[_0x220b05(0x1a9)](),_0x494ce5['NativeEditor'][_0x220b05(0x24f)](_0x5e1f46[_0x220b05(0xf2)]),_0x25a4c2[_0x220b05(0x1be)]('Q1'),_0x2394af[_0x220b05(0x14a)][_0x220b05(0x15f)]()[_0x220b05(0x24f)](_0x5e1f46['nuaIC']),_0x1c9764[_0x220b05(0x2a9)]()[_0x220b05(0x1e5)]('Save')['click'](),_0x412f1b[_0x220b05(0x299)](_0x5e1f46['hCZHf'])[_0x220b05(0x202)](_0x574e14=>{const _0x2f22c4=_0x220b05;_0x2adef6[_0x2f22c4(0x1e5)](_0x581727[_0x2f22c4(0x1e9)])['click']();}),_0x6b2981[_0x220b05(0xee)](_0x5e1f46[_0x220b05(0x265)]),_0x59b61b[_0x220b05(0x14a)][_0x220b05(0x15f)]()[_0x220b05(0x24f)](_0x220b05(0x203)),_0x282190[_0x220b05(0x2a9)]()['findByText'](_0x220b05(0x249))[_0x220b05(0x19f)](),_0x3db076['findByTestId'](_0x5e1f46[_0x220b05(0x18c)])[_0x220b05(0x202)](_0x240437=>{const _0xec4036=_0x220b05;_0x51ff32[_0xec4036(0x1e5)](_0xec4036(0x249))[_0xec4036(0x19f)]();}),_0x2d1f76['wait'](_0x5e1f46[_0x220b05(0x265)]),_0x46ab0f['get'](_0x5e1f46[_0x220b05(0xe9)])['should'](_0x5e1f46[_0x220b05(0x1f0)],0x0),_0x26852e[_0x220b05(0x223)](_0x5e1f46['tUXHT'])[_0x220b05(0x22d)](_0x5e1f46['BSHqb'],0x0),_0x1c1e07[_0x220b05(0x299)](_0x5e1f46[_0x220b05(0x28a)])[_0x220b05(0x1e5)](_0x5e1f46[_0x220b05(0x14c)])[_0x220b05(0x22d)](_0x5e1f46[_0x220b05(0x1d2)]);}else H[_0x220b05(0x188)](),cy[_0x220b05(0x2ac)](),H[_0x220b05(0x218)](_0x48e98a)[_0x220b05(0x256)](({body:{id:_0x3bf031}})=>{const _0x60c6cc=_0x220b05;_0x15b14b[_0x60c6cc(0xed)](_0x60c6cc(0x1d7),_0x60c6cc(0x2a2))?H[_0x60c6cc(0x226)]({'dataset_query':{'database':SAMPLE_DB_ID,'query':{'source-table':_0x60c6cc(0x1e7)+_0x3bf031},'type':_0x60c6cc(0x294)}}):(_0x78f453[_0x60c6cc(0x1cd)](_0x15b14b[_0x60c6cc(0x23c)])[_0x60c6cc(0x19f)](),_0x212b97[_0x60c6cc(0x192)](_0x15b14b[_0x60c6cc(0x155)]),_0x1a0823['findByRole'](_0x60c6cc(0x1e4))['should'](_0x60c6cc(0xde),_0x60c6cc(0x178)));});}),_0x5e1f46[_0x5a7539(0x16d)](it,_0x5a7539(0xd3),()=>{const _0x32c642=_0x5a7539;H[_0x32c642(0x22f)](),cy['findByText'](_0x5e1f46[_0x32c642(0x1e6)])[_0x32c642(0x19f)](),cy[_0x32c642(0x1e5)]('Sum\x20of\x20...')['click'](),H['popover']()['should'](_0x5e1f46[_0x32c642(0x290)],_0x5e1f46[_0x32c642(0xd5)])[_0x32c642(0x1d6)](_0x5e1f46['flReP'],_0x32c642(0x18e));}),_0x5e1f46['PCdVQ'](it,_0x5e1f46[_0x5a7539(0x1cb)],()=>{const _0x2499c5=_0x5a7539;H[_0x2499c5(0xfb)](_0x2499c5(0x18e)),H[_0x2499c5(0x2a1)]()['contains'](_0x2499c5(0x121))[_0x2499c5(0x19f)](),cy['findByTestId'](_0x5e1f46[_0x2499c5(0x196)])['invoke']('text')[_0x2499c5(0x22d)]('eq','49'),cy['findByTestId'](_0x5e1f46['EuJlN'])[_0x2499c5(0x13e)](_0x5e1f46[_0x2499c5(0x1f6)])[_0x2499c5(0x22d)]('eq',_0x5e1f46[_0x2499c5(0x1a8)]);});}),describe(_0x4e6913(0x145),()=>{const _0x13270d=_0x4e6913,_0x2985db={'FzUzH':_0x13270d(0x1e0),'ycixZ':_0x13270d(0x249),'Liuej':function(_0x554d49,_0x21336d){return _0x554d49===_0x21336d;},'zuUxO':'pYojJ','TfkyB':_0x13270d(0x21e),'IFLzU':_0x13270d(0x20b),'QxtRR':_0x13270d(0x247),'UOrJF':_0x13270d(0x1c0),'OWOpL':'count','NQhLi':_0x13270d(0x128),'jiFuQ':_0x13270d(0x21d),'dnKeC':_0x13270d(0x1f3),'lIogd':_0x13270d(0xef)},_0x41f8b3={'display':'table','dataset_query':{'database':SAMPLE_DB_ID,'type':_0x13270d(0x294),'query':{'source-query':{'source-table':PRODUCTS_ID,'aggregation':[[_0x2985db[_0x13270d(0x1d9)]]],'breakout':[[_0x2985db[_0x13270d(0x12e)],PRODUCTS[_0x13270d(0x29f)],{'temporal-unit':'month'}],[_0x13270d(0x128),PRODUCTS[_0x13270d(0x1f3)],null]]},'aggregation':[[_0x2985db[_0x13270d(0x1d9)]]],'breakout':[[_0x13270d(0x128),'CATEGORY',{'base-type':_0x2985db[_0x13270d(0x2b6)]}]]}},'visualization_settings':{'table.pivot_column':_0x2985db[_0x13270d(0x1fc)],'table.cell_column':_0x13270d(0x1e8)}};beforeEach(()=>{const _0x594f5b=_0x13270d;H[_0x594f5b(0x188)](),cy[_0x594f5b(0x2ac)](),cy[_0x594f5b(0x272)]('POST',_0x2985db[_0x594f5b(0x212)])['as']('dataset');}),it(_0x2985db[_0x13270d(0x29a)],()=>{const _0x49f7e6=_0x13270d,_0x3242fc={'rbMVI':'Filter\x20by\x20this\x20column','LWybo':_0x49f7e6(0x19b)};if(_0x2985db[_0x49f7e6(0x1aa)](_0x2985db[_0x49f7e6(0x246)],_0x2985db[_0x49f7e6(0x1ef)]))_0x493b09['findByLabelText']('Name')['clear']()['type']('Orders\x20model'),_0xc59fb1[_0x49f7e6(0x130)](_0x2985db[_0x49f7e6(0x160)])[_0x49f7e6(0x19f)]();else{const _0x2d8d0b=_0x2985db['IFLzU'][_0x49f7e6(0x13d)]('|');let _0x68b068=0x0;while(!![]){switch(_0x2d8d0b[_0x68b068++]){case'0':H[_0x49f7e6(0x226)](_0x41f8b3);continue;case'1':H[_0x49f7e6(0x2a1)]()[_0x49f7e6(0x202)](()=>{const _0x23015e=_0x49f7e6;cy[_0x23015e(0x1e5)](_0x3242fc[_0x23015e(0x1ac)])[_0x23015e(0x19f)](),cy[_0x23015e(0x1e5)](_0x3242fc[_0x23015e(0x1d3)])[_0x23015e(0x19f)](),cy[_0x23015e(0x130)](_0x23015e(0x116))['click']();});continue;case'2':H[_0x49f7e6(0xfb)](_0x2985db[_0x49f7e6(0xf1)]);continue;case'3':cy[_0x49f7e6(0xee)](_0x49f7e6(0x167));continue;case'4':cy['findByText'](_0x49f7e6(0x280))['should'](_0x2985db[_0x49f7e6(0x22c)]);continue;}break;}}});}),describe('issue\x2025144',{'tags':_0x4e6913(0xe1)},()=>{const _0xf32da=_0x4e6913,_0x3580c5={'SCdaY':_0xf32da(0x105),'WDzsd':function(_0x5ea980,_0x2be2ab){return _0x5ea980!==_0x2be2ab;},'QIqlL':_0xf32da(0x24c),'hCMmZ':'setup','SoNkd':_0xf32da(0x200),'gUVlG':_0xf32da(0x110),'MDiGH':'PUT','zIkTr':_0xf32da(0x195),'moimS':_0xf32da(0x27e),'StlXS':_0xf32da(0x178),'bnsHD':'Orders\x20question','Oikkl':_0xf32da(0x146),'MuQXu':_0xf32da(0x26a),'HfFxA':'uOPSq','iyKvE':'table','sXlxQ':_0xf32da(0x128),'eoTnF':function(_0x21d7c4,_0x5ef3b7,_0x173b47){return _0x21d7c4(_0x5ef3b7,_0x173b47);},'AKaBC':'Name','aNuSn':_0xf32da(0x27f),'pINwI':'Model','LTBuo':_0xf32da(0x18a),'RnIID':'Save','YUJKZ':function(_0x2bad03,_0x14e8db,_0x52e823){return _0x2bad03(_0x14e8db,_0x52e823);},'ySWPP':_0xf32da(0x1c7)};beforeEach(()=>{const _0x1ce2b4=_0xf32da,_0x1bc2aa={'ltLIP':_0x3580c5[_0x1ce2b4(0x28f)],'omHKj':_0x1ce2b4(0x27e)};_0x3580c5['WDzsd'](_0x1ce2b4(0x24c),_0x3580c5[_0x1ce2b4(0x2b4)])?_0x49c26d[_0x1ce2b4(0x20a)](_0x1bc2aa[_0x1ce2b4(0x1c8)])[_0x1ce2b4(0x22d)](_0x1bc2aa[_0x1ce2b4(0xfd)]):(H[_0x1ce2b4(0x188)](_0x3580c5['hCMmZ']),cy[_0x1ce2b4(0x2ac)](),cy[_0x1ce2b4(0x272)](_0x3580c5[_0x1ce2b4(0xd4)],_0x1ce2b4(0x295))['as'](_0x3580c5['gUVlG']),cy['intercept'](_0x3580c5[_0x1ce2b4(0x1f2)],_0x1ce2b4(0x189))['as'](_0x3580c5[_0x1ce2b4(0x243)]));}),_0x3580c5[_0xf32da(0x1db)](it,'should\x20show\x20Saved\x20Questions\x20tab\x20after\x20creating\x20the\x20first\x20question\x20(metabase#25144)',()=>{const _0x51d782=_0xf32da,_0x360502={'aCQTu':_0x3580c5['moimS'],'xNKsO':_0x3580c5[_0x51d782(0x113)],'hyNYN':_0x51d782(0x153),'yDdmj':_0x51d782(0x1c0)};cy[_0x51d782(0xe7)]('/'),H[_0x51d782(0x114)](_0x51d782(0x146))[_0x51d782(0x19f)](),H[_0x51d782(0x1bf)]()['within'](()=>{const _0x2f5f68=_0x51d782;cy[_0x2f5f68(0x1e5)](_0x2f5f68(0x153))['should'](_0x360502['aCQTu']),H['entityPickerModalItem'](0x2,_0x360502['xNKsO'])[_0x2f5f68(0x19f)]();}),H[_0x51d782(0x229)](_0x3580c5[_0x51d782(0x2a5)]),H[_0x51d782(0x114)](_0x3580c5['Oikkl'])[_0x51d782(0x19f)](),H['entityPickerModal']()[_0x51d782(0x202)](()=>{const _0x257f88=_0x51d782;H[_0x257f88(0x1cd)](_0x360502['hyNYN'])[_0x257f88(0x22d)](_0x257f88(0x1c0))['click'](),H[_0x257f88(0x13b)](0x1,_0x257f88(0x222))['should'](_0x360502[_0x257f88(0x2a6)]);});}),_0x3580c5[_0xf32da(0x1a2)](it,_0x3580c5[_0xf32da(0x2ad)],()=>{const _0x1e0265=_0xf32da,_0x333fcc={'uNrJM':_0x1e0265(0x1c0),'WxlhW':_0x3580c5[_0x1e0265(0x224)],'ixGGU':_0x1e0265(0x294),'ESJMQ':_0x1e0265(0x1e8),'AAWPF':_0x1e0265(0x209),'AXBzV':_0x3580c5[_0x1e0265(0x29d)],'ithum':'type/Text','SBULc':function(_0x345b2c,_0x43dbf2,_0x5241d2){return _0x3580c5['eoTnF'](_0x345b2c,_0x43dbf2,_0x5241d2);},'fegrm':function(_0x5d2da0,_0x2e5837){return _0x5d2da0!==_0x2e5837;},'MiFzd':_0x1e0265(0x1ad),'OneXr':_0x3580c5[_0x1e0265(0x1ce)],'xQBAJ':_0x3580c5[_0x1e0265(0x2b0)]};cy[_0x1e0265(0xe7)]('/'),H[_0x1e0265(0x114)](_0x3580c5[_0x1e0265(0x22b)])[_0x1e0265(0x19f)](),cy[_0x1e0265(0x299)](_0x3580c5[_0x1e0265(0x12b)])[_0x1e0265(0x1e5)](/use the notebook/i)[_0x1e0265(0x19f)](),H['entityPickerModal']()[_0x1e0265(0x202)](()=>{const _0x349908=_0x1e0265,_0x1bc845={'kxves':_0x3580c5[_0x349908(0xdc)],'qQZEm':'Gadget','bJoTY':_0x349908(0x116)};_0x3580c5[_0x349908(0xff)]!==_0x349908(0x23f)?H[_0x349908(0x13b)](0x2,_0x349908(0x178))[_0x349908(0x19f)]():(_0x16d48d['findByText'](_0x1bc845[_0x349908(0x230)])[_0x349908(0x19f)](),_0x3f7668[_0x349908(0x1e5)](_0x1bc845[_0x349908(0x136)])[_0x349908(0x19f)](),_0x2f700f[_0x349908(0x130)](_0x1bc845[_0x349908(0x1ed)])['click']());}),cy[_0x1e0265(0x299)](_0x1e0265(0x163))[_0x1e0265(0x130)](_0x3580c5[_0x1e0265(0x1a7)])[_0x1e0265(0x19f)](),H['modal']()[_0x1e0265(0x202)](()=>{const _0x220f0c=_0x1e0265,_0x5a9329={'zJWnq':_0x220f0c(0x200),'PNgRZ':_0x220f0c(0x298)};if(_0x333fcc[_0x220f0c(0x234)](_0x220f0c(0xdb),_0x333fcc[_0x220f0c(0x29e)]))cy[_0x220f0c(0x277)](_0x333fcc[_0x220f0c(0x242)])['clear']()[_0x220f0c(0x24f)](_0x333fcc[_0x220f0c(0xdd)]),cy[_0x220f0c(0x130)](_0x220f0c(0x249))[_0x220f0c(0x19f)]();else{const _0x24a5c5={'IzCEC':_0x220f0c(0x167),'sxyVt':_0x333fcc[_0x220f0c(0x216)]},_0x1851df={'display':_0x333fcc[_0x220f0c(0x28d)],'dataset_query':{'database':_0x229c18,'type':_0x333fcc[_0x220f0c(0x250)],'query':{'source-query':{'source-table':_0x19d85f,'aggregation':[[_0x333fcc[_0x220f0c(0x1b9)]]],'breakout':[[_0x220f0c(0x128),_0x27f8c[_0x220f0c(0x29f)],{'temporal-unit':_0x333fcc[_0x220f0c(0x14e)]}],[_0x220f0c(0x128),_0x3f4165['CATEGORY'],null]]},'aggregation':[[_0x333fcc[_0x220f0c(0x1b9)]]],'breakout':[[_0x333fcc['AXBzV'],_0x220f0c(0x1f3),{'base-type':_0x333fcc[_0x220f0c(0x232)]}]]}},'visualization_settings':{'table.pivot_column':_0x220f0c(0x1f3),'table.cell_column':_0x333fcc[_0x220f0c(0x1b9)]}};_0x20c7d5(()=>{const _0x1a388b=_0x220f0c;_0x287050['restore'](),_0x55c41d['signInAsAdmin'](),_0x2999dc[_0x1a388b(0x272)](_0x5a9329[_0x1a388b(0x14d)],'/api/dataset')['as'](_0x5a9329[_0x1a388b(0x108)]);}),_0x333fcc[_0x220f0c(0x19c)](_0x13cc47,_0x220f0c(0xef),()=>{const _0x306285=_0x220f0c;_0x1ee6da['visitQuestionAdhoc'](_0x1851df),_0x583a42[_0x306285(0xfb)]('Category'),_0x134026[_0x306285(0x2a1)]()[_0x306285(0x202)](()=>{const _0x2e97db=_0x306285;_0x48795f[_0x2e97db(0x1e5)](_0x2e97db(0x26a))[_0x2e97db(0x19f)](),_0x145181[_0x2e97db(0x1e5)](_0x2e97db(0x19b))[_0x2e97db(0x19f)](),_0x177b05[_0x2e97db(0x130)](_0x2e97db(0x116))['click']();}),_0x277d7f['wait'](_0x24a5c5[_0x306285(0x2a8)]),_0xc9a760[_0x306285(0x1e5)](_0x306285(0x280))[_0x306285(0x22d)](_0x24a5c5[_0x306285(0x17f)]);});}}),cy[_0x1e0265(0xee)](_0x1e0265(0x293)),H[_0x1e0265(0x114)](_0x1e0265(0x146))['click'](),H[_0x1e0265(0x1bf)]()['within'](()=>{const _0x2703ac=_0x1e0265;H[_0x2703ac(0x1cd)](_0x2703ac(0x153))['should']('be.visible')[_0x2703ac(0x19f)](),H[_0x2703ac(0x13b)](0x1,_0x333fcc[_0x2703ac(0xdd)])[_0x2703ac(0x22d)](_0x2703ac(0x1c0));});});}),describe(_0x4e6913(0xca),()=>{const _0x3fb2ab=_0x4e6913,_0x22b0d4={'QDGpt':_0x3fb2ab(0x186),'IwOkt':_0x3fb2ab(0x169),'xrQuH':_0x3fb2ab(0x16b),'vfZOV':_0x3fb2ab(0x15a),'TLtXP':_0x3fb2ab(0x109),'TUvVf':_0x3fb2ab(0x191),'KjCHL':_0x3fb2ab(0x1e8),'UgmWf':_0x3fb2ab(0x128),'ilOUb':_0x3fb2ab(0x185),'Ulmoo':function(_0xd9706a,_0xeed13b){return _0xd9706a(_0xeed13b);},'eYxPr':_0x3fb2ab(0x19e)},_0xe24af8={'dataset_query':{'database':SAMPLE_DB_ID,'query':{'source-table':ORDERS_ID,'aggregation':[[_0x22b0d4['KjCHL']]],'breakout':[[_0x22b0d4[_0x3fb2ab(0x12d)],PEOPLE[_0x3fb2ab(0x210)],{'source-field':ORDERS[_0x3fb2ab(0x14f)]}]]},'type':'query'},'display':_0x22b0d4[_0x3fb2ab(0x26e)]};_0x22b0d4['Ulmoo'](beforeEach,()=>{const _0x4b244d=_0x3fb2ab;H['restore'](),cy[_0x4b244d(0x2ac)](),H[_0x4b244d(0x226)](_0xe24af8,{'mode':_0x22b0d4['QDGpt']});}),it(_0x22b0d4['eYxPr'],()=>{const _0x1ee748=_0x3fb2ab;cy['findAllByTestId'](_0x22b0d4[_0x1ee748(0xfa)])[_0x1ee748(0x101)]()['findByText'](_0x1ee748(0x23a))[_0x1ee748(0x19f)](),H[_0x1ee748(0x2a1)]()[_0x1ee748(0x1e5)]('Count')['click'](),H[_0x1ee748(0x2a1)]()[_0x1ee748(0x130)](_0x1ee748(0xf8))[_0x1ee748(0x22d)](_0x22b0d4['xrQuH'],_0x1ee748(0x231)),H[_0x1ee748(0x1df)](_0x22b0d4['vfZOV']),H[_0x1ee748(0x2a1)]()[_0x1ee748(0x202)](()=>{const _0x73f158=_0x1ee748;cy['findByPlaceholderText'](_0x73f158(0x1fb))['type']('0')['blur'](),cy[_0x73f158(0x130)](_0x73f158(0x116))['click']();}),H[_0x1ee748(0x11c)](),cy['findByTestId'](_0x22b0d4[_0x1ee748(0x123)])['findByText'](_0x1ee748(0x102)),H[_0x1ee748(0x240)]('#509EE3')[_0x1ee748(0x22d)](_0x22b0d4[_0x1ee748(0x1d5)],0x5);});}),describe('issue\x2027462',()=>{const _0x5e88e4=_0x4e6913,_0x88a8c2={'GuWvt':_0x5e88e4(0x231),'IiTkp':'field','vqyjR':'table','kvEoH':'option','Xggcw':_0x5e88e4(0x15d),'XUWHb':_0x5e88e4(0x276),'rUxWW':function(_0x38f675,_0x4c0d4f){return _0x38f675(_0x4c0d4f);},'cowpb':function(_0x4c5d25,_0x4dd683,_0x306591){return _0x4c5d25(_0x4dd683,_0x306591);}};_0x88a8c2['rUxWW'](beforeEach,()=>{const _0x137939=_0x5e88e4;H[_0x137939(0x188)](),cy[_0x137939(0x2ac)]();}),_0x88a8c2[_0x5e88e4(0x151)](it,'should\x20be\x20able\x20to\x20select\x20field\x20when\x20double\x20aggregating\x20metabase#27462',()=>{const _0x31fc62=_0x5e88e4,_0x5a7a4d={'JpGFD':_0x88a8c2[_0x31fc62(0x131)]},_0x401aee={'dataset_query':{'database':SAMPLE_DB_ID,'type':_0x31fc62(0x294),'query':{'source-table':PRODUCTS_ID,'aggregation':[[_0x31fc62(0x1e8)]],'breakout':[[_0x88a8c2['IiTkp'],PRODUCTS[_0x31fc62(0x1f3)],null]]}},'display':_0x88a8c2['vqyjR'],'visualization_settings':{}};H[_0x31fc62(0x226)](_0x401aee,{'mode':_0x31fc62(0x186)}),cy[_0x31fc62(0x130)](_0x31fc62(0x17c))[_0x31fc62(0x19f)](),cy['findByRole'](_0x88a8c2[_0x31fc62(0x1b5)],{'name':_0x88a8c2['Xggcw']})[_0x31fc62(0x19f)](),H[_0x31fc62(0x2a1)]()[_0x31fc62(0x202)](()=>{const _0x4324c3=_0x31fc62;cy[_0x4324c3(0x162)](_0x4324c3(0x260),{'name':_0x5a7a4d[_0x4324c3(0x14b)]})[_0x4324c3(0x19f)]();}),cy[_0x31fc62(0x130)](_0x31fc62(0x286))[_0x31fc62(0x19f)](),cy[_0x31fc62(0x1e5)](_0x88a8c2[_0x31fc62(0xd0)])[_0x31fc62(0x22d)](_0x31fc62(0x1c0));});}),describe(_0x4e6913(0x258),()=>{const _0x37ffaf=_0x4e6913,_0x3a5f7d={'kPciu':_0x37ffaf(0x153),'BIBkw':'not.exist','BjcEp':'Question','oBOIK':function(_0x15604c,_0x6af9cd){return _0x15604c===_0x6af9cd;},'rZGkz':_0x37ffaf(0xd1),'DygnN':_0x37ffaf(0x291),'KEXgW':'Non-existing\x20field','rTHMy':_0x37ffaf(0x28c),'hAXRi':_0x37ffaf(0x128),'hMCRu':'Products','STtNH':_0x37ffaf(0x1c0),'QLrcC':_0x37ffaf(0x264)};beforeEach(()=>{const _0x15b3ae=_0x37ffaf,_0x8767d4={'tdITL':_0x3a5f7d['kPciu'],'GrfkX':_0x3a5f7d[_0x15b3ae(0xd6)],'PmQUO':_0x15b3ae(0x1c0),'opWTu':_0x3a5f7d['BjcEp']};_0x3a5f7d[_0x15b3ae(0x181)](_0x3a5f7d[_0x15b3ae(0xf5)],_0x15b3ae(0xd1))?(H['restore'](),cy[_0x15b3ae(0x2ac)]()):(_0x17aeeb['visit']('/'),_0x1f8ac8['newButton'](_0x8767d4[_0x15b3ae(0x173)])[_0x15b3ae(0x19f)](),_0x4e9859[_0x15b3ae(0x1bf)]()[_0x15b3ae(0x202)](()=>{const _0x10c667=_0x15b3ae;_0x4d1042[_0x10c667(0x1e5)](_0x8767d4['tdITL'])['should'](_0x8767d4['GrfkX']),_0x5c54ab[_0x10c667(0x13b)](0x2,'Orders')[_0x10c667(0x19f)]();}),_0x4bf861[_0x15b3ae(0x229)](_0x15b3ae(0x222)),_0x5ab6ab[_0x15b3ae(0x114)](_0x15b3ae(0x146))[_0x15b3ae(0x19f)](),_0x1f983d[_0x15b3ae(0x1bf)]()['within'](()=>{const _0x35d3df=_0x15b3ae;_0x31e8de[_0x35d3df(0x1cd)](_0x8767d4['tdITL'])[_0x35d3df(0x22d)](_0x8767d4[_0x35d3df(0x144)])[_0x35d3df(0x19f)](),_0x54d87c[_0x35d3df(0x13b)](0x1,'Orders\x20question')[_0x35d3df(0x22d)](_0x35d3df(0x1c0));}));}),it(_0x3a5f7d[_0x37ffaf(0x279)],()=>{const _0x43fc94=_0x37ffaf,_0x116f9b=_0x3a5f7d['DygnN'],_0x41dae3=_0x3a5f7d[_0x43fc94(0x2b7)],_0xd18a9={'name':_0x116f9b,'query':{'source-table':ORDERS_ID,'joins':[{'fields':_0x3a5f7d['rTHMy'],'source-table':PRODUCTS_ID,'condition':['=',['field',ORDERS[_0x43fc94(0x287)],null],[_0x3a5f7d[_0x43fc94(0x20d)],PRODUCTS['ID'],{'join-alias':_0x43fc94(0x206)}]],'alias':_0x3a5f7d[_0x43fc94(0x25f)]}],'expressions':{[_0x41dae3]:[_0x3a5f7d[_0x43fc94(0x20d)],0x270f,null]}}};H[_0x43fc94(0x218)](_0xd18a9)['then'](({body:_0xab3e9c})=>{const _0x539c41=_0x43fc94,_0x1846f2=_0xab3e9c['id'];cy[_0x539c41(0xe7)](_0x539c41(0x1d8)+_0x1846f2+_0x539c41(0x170));}),cy[_0x43fc94(0x187)](_0x116f9b)[_0x43fc94(0x22d)](_0x3a5f7d['STtNH']),cy[_0x43fc94(0x1e5)](_0x41dae3)[_0x43fc94(0x22d)](_0x3a5f7d['STtNH']);});}),describe(_0x4e6913(0x2aa),()=>{const _0x53fa68=_0x4e6913,_0x296e0f={'YCfbr':_0x53fa68(0xe6),'lqrZK':_0x53fa68(0x128),'XkYcs':'type/DateTime','TNPsg':'PUT','XsmUg':_0x53fa68(0x189),'pmtkK':'View','heAYY':'All\x20time','YnuXD':_0x53fa68(0x1c0),'BWkgv':_0x53fa68(0x25d),'JPCUO':_0x53fa68(0xcb),'yARfc':_0x53fa68(0x156),'uQcVS':_0x53fa68(0x27e)};beforeEach(()=>{const _0x3bc62c=_0x53fa68;H[_0x3bc62c(0x188)](),cy[_0x3bc62c(0x106)](),H['createQuestion']({'name':_0x296e0f['YCfbr'],'query':{'source-table':ORDERS_ID,'aggregation':[['count']],'breakout':[[_0x296e0f[_0x3bc62c(0x259)],ORDERS[_0x3bc62c(0x29f)],{'base-type':_0x296e0f[_0x3bc62c(0x1e3)],'temporal-unit':_0x3bc62c(0x207)}]]}},{'visitQuestion':!![]}),cy['intercept'](_0x296e0f['TNPsg'],_0x296e0f['XsmUg'])['as'](_0x3bc62c(0x195));}),it(_0x53fa68(0x1ee),()=>{const _0x4be0de=_0x53fa68;cy['findByTestId'](_0x296e0f['BWkgv'])[_0x4be0de(0x202)](()=>{const _0x328e6a=_0x4be0de;cy['findByText'](_0x296e0f[_0x328e6a(0x118)])[_0x328e6a(0x22d)](_0x328e6a(0x1c0)),cy[_0x328e6a(0x1e5)](_0x296e0f[_0x328e6a(0x219)])[_0x328e6a(0x22d)](_0x296e0f[_0x328e6a(0x1c4)]),cy[_0x328e6a(0x1e5)]('by')[_0x328e6a(0x22d)](_0x328e6a(0x1c0)),cy['findByText'](_0x328e6a(0x262))[_0x328e6a(0x22d)]('be.visible');}),H[_0x4be0de(0x278)](),H[_0x4be0de(0x2a1)]()[_0x4be0de(0x1e5)](_0x296e0f[_0x4be0de(0x237)])[_0x4be0de(0x19f)](),H[_0x4be0de(0x134)]()[_0x4be0de(0x1e5)](_0x4be0de(0x22a))['click'](),cy['wait']('@updateCard'),cy['findByTestId'](_0x296e0f[_0x4be0de(0x137)])[_0x4be0de(0x22d)](_0x296e0f[_0x4be0de(0x198)]);});}),describe('issue\x2028874',()=>{const _0x5dcb5f=_0x4e6913,_0x54c6ae={'aYjvO':_0x5dcb5f(0x1fb),'NmlGu':'Count','dewxO':_0x5dcb5f(0x109),'aDPEv':'#509EE3','BMGfp':_0x5dcb5f(0x191),'YNVzL':_0x5dcb5f(0x1e8),'ncnTM':'query','EmjmC':_0x5dcb5f(0x185),'bkKBF':function(_0xea7e54,_0x305120){return _0xea7e54===_0x305120;},'HKgMG':_0x5dcb5f(0x29b),'BObEX':_0x5dcb5f(0x186),'LIwaC':_0x5dcb5f(0x225),'TASBM':_0x5dcb5f(0x18f),'spIXi':_0x5dcb5f(0x27e),'aTLDi':_0x5dcb5f(0x12f),'xUxCg':_0x5dcb5f(0x111),'EialN':_0x5dcb5f(0x207),'uHEYH':function(_0x1ff4c8,_0x3ac3cd,_0xf7c4ed){return _0x1ff4c8(_0x3ac3cd,_0xf7c4ed);},'ynmsL':_0x5dcb5f(0x1b7)},_0x57cce3={'name':_0x54c6ae[_0x5dcb5f(0x2b8)],'display':_0x54c6ae[_0x5dcb5f(0x10b)],'dataset_query':{'database':SAMPLE_DB_ID,'type':_0x54c6ae[_0x5dcb5f(0xec)],'query':{'source-table':ORDERS_ID,'aggregation':[[_0x54c6ae['YNVzL']]],'breakout':[['field',ORDERS[_0x5dcb5f(0x29f)],{'temporal-unit':_0x54c6ae[_0x5dcb5f(0x26d)]}],['field',ORDERS[_0x5dcb5f(0x287)],null]]}}};beforeEach(()=>{const _0x38e7f5=_0x5dcb5f,_0x36ddf1={'dvScB':'notebook'};if(_0x54c6ae[_0x38e7f5(0x275)](_0x54c6ae[_0x38e7f5(0x1b2)],_0x38e7f5(0x29b)))H[_0x38e7f5(0x188)](),cy[_0x38e7f5(0x106)]();else{const _0x2c799a={'SJJbq':_0x54c6ae[_0x38e7f5(0x125)],'uwfch':_0x38e7f5(0x169),'FSWXF':_0x54c6ae[_0x38e7f5(0x161)],'tPGLS':_0x54c6ae['dewxO'],'kYQJE':_0x38e7f5(0x102),'NUGBn':_0x54c6ae[_0x38e7f5(0x138)],'nDvXj':_0x54c6ae[_0x38e7f5(0x1b6)]},_0x2639f4={'dataset_query':{'database':_0x4852c0,'query':{'source-table':_0x29a983,'aggregation':[[_0x54c6ae['YNVzL']]],'breakout':[['field',_0x4d2e2e[_0x38e7f5(0x210)],{'source-field':_0x2a67f6[_0x38e7f5(0x14f)]}]]},'type':_0x54c6ae[_0x38e7f5(0xec)]},'display':_0x54c6ae[_0x38e7f5(0x21f)]};_0x25aa48(()=>{const _0x303ca2=_0x38e7f5;_0x434879[_0x303ca2(0x188)](),_0x16035a[_0x303ca2(0x2ac)](),_0x1e4af9[_0x303ca2(0x226)](_0x2639f4,{'mode':_0x36ddf1[_0x303ca2(0x1fe)]});}),_0xeb8f30(_0x38e7f5(0x19e),()=>{const _0x10e88d=_0x38e7f5,_0x4efc6c={'vHWpQ':_0x2c799a['SJJbq']};_0xa1585b['findAllByTestId'](_0x2c799a[_0x10e88d(0x251)])[_0x10e88d(0x101)]()[_0x10e88d(0x1e5)]('Filter')['click'](),_0x2720e6['popover']()[_0x10e88d(0x1e5)](_0x10e88d(0x231))[_0x10e88d(0x19f)](),_0x1c4968[_0x10e88d(0x2a1)]()['button'](_0x10e88d(0xf8))[_0x10e88d(0x22d)]('have.text',_0x2c799a[_0x10e88d(0x261)]),_0x1e80e2['selectFilterOperator'](_0x10e88d(0x15a)),_0x57972f[_0x10e88d(0x2a1)]()[_0x10e88d(0x202)](()=>{const _0x26bc35=_0x10e88d;_0x29cc1b[_0x26bc35(0xfc)](_0x4efc6c[_0x26bc35(0x24d)])['type']('0')[_0x26bc35(0x100)](),_0x170840[_0x26bc35(0x130)](_0x26bc35(0x116))[_0x26bc35(0x19f)]();}),_0x37bb79[_0x10e88d(0x11c)](),_0x2245c5[_0x10e88d(0x299)](_0x2c799a['tPGLS'])['findByText'](_0x2c799a[_0x10e88d(0x253)]),_0x5d6ee1[_0x10e88d(0x240)](_0x2c799a[_0x10e88d(0x126)])[_0x10e88d(0x22d)](_0x2c799a['nDvXj'],0x5);});}}),_0x54c6ae[_0x5dcb5f(0x24b)](it,_0x54c6ae[_0x5dcb5f(0x205)],()=>{const _0x9885ef=_0x5dcb5f;H[_0x9885ef(0x226)](_0x57cce3,{'mode':_0x54c6ae[_0x9885ef(0x1ea)]}),cy[_0x9885ef(0x1e5)](_0x54c6ae[_0x9885ef(0x11b)])[_0x9885ef(0x24a)]()['icon'](_0x54c6ae[_0x9885ef(0x274)])[_0x9885ef(0x19f)](),cy['findByText'](_0x9885ef(0x225))['should'](_0x54c6ae['spIXi']);});}),describe('issue\x2029082',()=>{const _0x4e746f=_0x4e6913,_0x59c908={'xVJsS':'Save','qznBl':_0x4e746f(0x27e),'Pqqvb':function(_0x5e7d9b,_0x1b8bd1){return _0x5e7d9b===_0x1b8bd1;},'XBNtt':_0x4e746f(0x21a),'BWggV':_0x4e746f(0x1e0),'lDJaI':function(_0x58e945,_0x98fd4a){return _0x58e945===_0x98fd4a;},'lyXfa':_0x4e746f(0x18f),'rPWLy':_0x4e746f(0x167),'bhBpd':'Discount\x20is\x20empty','zTGVD':_0x4e746f(0x273),'oFgbG':'Showing\x208\x20rows','JBxaP':_0x4e746f(0x143),'ZkHmw':_0x4e746f(0x154),'kcYMg':function(_0x399154,_0x204c54,_0x364bcb){return _0x399154(_0x204c54,_0x364bcb);}},_0x574c12={'name':_0x59c908[_0x4e746f(0x1c3)],'dataset_query':{'type':'query','database':SAMPLE_DB_ID,'query':{'source-table':ORDERS_ID,'filter':['=',[_0x4e746f(0x128),ORDERS[_0x4e746f(0x14f)],null],0x1]}}};beforeEach(()=>{const _0x8c3f69=_0x4e746f;_0x59c908[_0x8c3f69(0x20f)](_0x8c3f69(0x21a),_0x59c908[_0x8c3f69(0x211)])?(H['restore'](),cy['signInAsNormalUser'](),cy['intercept']('POST',_0x59c908[_0x8c3f69(0x1fd)])['as'](_0x8c3f69(0x298))):_0x406f3e[_0x8c3f69(0x1e5)](_0x59c908['xVJsS'])[_0x8c3f69(0x22d)](_0x59c908[_0x8c3f69(0x22e)]);}),_0x59c908[_0x4e746f(0x27c)](it,'should\x20handle\x20nulls\x20in\x20quick\x20filters\x20(metabase#29082)',()=>{const _0x330612=_0x4e746f;if(_0x59c908[_0x330612(0x254)](_0x330612(0x119),_0x330612(0x104)))_0xadff0f[_0x330612(0x1e5)](_0x330612(0x249))[_0x330612(0x19f)]();else{const _0x37ad46=_0x330612(0x10e)[_0x330612(0x13d)]('|');let _0x3c5e62=0x0;while(!![]){switch(_0x37ad46[_0x3c5e62++]){case'0':cy[_0x330612(0x1e5)](_0x330612(0x271))[_0x330612(0x20a)](_0x59c908[_0x330612(0x11d)])['click']();continue;case'1':cy[_0x330612(0xee)](_0x330612(0x167));continue;case'2':cy[_0x330612(0xee)](_0x59c908['rPWLy']);continue;case'3':H[_0x330612(0x2a1)]()['within'](()=>cy[_0x330612(0x1e5)]('≠')['click']());continue;case'4':H['visitQuestionAdhoc'](_0x574c12);continue;case'5':cy[_0x330612(0x223)](_0x330612(0x143))[_0x330612(0x1c9)]()[_0x330612(0x19f)]();continue;case'6':cy['wait'](_0x59c908['rPWLy']);continue;case'7':cy[_0x330612(0x1e5)](_0x59c908['bhBpd'])[_0x330612(0x22d)](_0x59c908[_0x330612(0x227)]);continue;case'8':cy['findByText'](_0x59c908[_0x330612(0x150)])[_0x330612(0x22d)](_0x59c908[_0x330612(0x227)]);continue;case'9':cy[_0x330612(0x1e5)](_0x330612(0x245))['should'](_0x59c908[_0x330612(0x227)]);continue;case'10':cy[_0x330612(0x223)](_0x59c908[_0x330612(0x269)])[_0x330612(0x1c9)]()[_0x330612(0x19f)]();continue;case'11':cy[_0x330612(0xee)](_0x59c908['rPWLy']);continue;case'12':cy['findByText'](_0x330612(0x148))[_0x330612(0x22d)](_0x330612(0x273));continue;case'13':cy['findByText']('Showing\x2011\x20rows')['should'](_0x59c908[_0x330612(0x227)]);continue;case'14':cy[_0x330612(0x1e5)]('Discount\x20is\x20not\x20empty')['should'](_0x330612(0x273));continue;case'15':H['popover']()[_0x330612(0x202)](()=>cy[_0x330612(0x1e5)]('=')[_0x330612(0x19f)]());continue;}break;}}});}),describe(_0x4e6913(0x135),()=>{const _0x200fea=_0x4e6913,_0x449e55={'bjZWf':_0x200fea(0x284),'XUCsM':_0x200fea(0x200),'Cejfa':_0x200fea(0x218),'OIYkV':'PUT','geOkx':_0x200fea(0x159),'Ypfzk':_0x200fea(0x1e0),'klYXN':_0x200fea(0x298),'ZOcPX':_0x200fea(0x1a3),'mpuLp':_0x200fea(0x249),'vNTvS':'\x20WHERE\x20TOTAL\x20<\x2020','WnkaP':_0x200fea(0x184),'JdVGJ':_0x200fea(0x203),'KROnY':_0x200fea(0x228),'hIpbb':_0x200fea(0x183),'OdpNW':_0x200fea(0x191),'AMLPO':_0x200fea(0x1ca)};beforeEach(()=>{const _0x103119=_0x200fea,_0x296392=_0x449e55['bjZWf'][_0x103119(0x13d)]('|');let _0x822b48=0x0;while(!![]){switch(_0x296392[_0x822b48++]){case'0':cy['intercept'](_0x449e55['XUCsM'],_0x103119(0x295))['as'](_0x449e55[_0x103119(0x23b)]);continue;case'1':cy[_0x103119(0x2ac)]();continue;case'2':cy['intercept'](_0x449e55[_0x103119(0x1e2)],'/api/card/*')['as'](_0x449e55[_0x103119(0x16f)]);continue;case'3':cy[_0x103119(0x272)](_0x103119(0x200),_0x449e55[_0x103119(0xea)])['as'](_0x449e55['klYXN']);continue;case'4':cy[_0x103119(0x272)]('POST',_0x449e55[_0x103119(0x266)])['as']('cardQuery');continue;case'5':H[_0x103119(0x188)]();continue;}break;}}),it('should\x20not\x20autorun\x20native\x20queries\x20after\x20updating\x20a\x20question\x20(metabase#30165)',()=>{const _0x2c8a1e=_0x200fea,_0x2466c2={'qiCks':_0x2c8a1e(0x249)};H[_0x2c8a1e(0x1a9)](),H[_0x2c8a1e(0x14a)][_0x2c8a1e(0x24f)](_0x2c8a1e(0x2af)),H[_0x2c8a1e(0x1be)]('Q1'),H[_0x2c8a1e(0x14a)][_0x2c8a1e(0x15f)]()[_0x2c8a1e(0x24f)](_0x449e55[_0x2c8a1e(0x244)]),H['queryBuilderHeader']()[_0x2c8a1e(0x1e5)](_0x449e55[_0x2c8a1e(0x204)])['click'](),cy[_0x2c8a1e(0x299)]('save-question-modal')[_0x2c8a1e(0x202)](_0x39ce46=>{const _0x46b624=_0x2c8a1e;cy[_0x46b624(0x1e5)](_0x449e55[_0x46b624(0x204)])[_0x46b624(0x19f)]();}),cy[_0x2c8a1e(0xee)](_0x449e55['WnkaP']),H[_0x2c8a1e(0x14a)][_0x2c8a1e(0x15f)]()[_0x2c8a1e(0x24f)](_0x449e55[_0x2c8a1e(0x268)]),H['queryBuilderHeader']()[_0x2c8a1e(0x1e5)](_0x2c8a1e(0x249))['click'](),cy[_0x2c8a1e(0x299)](_0x449e55[_0x2c8a1e(0xcf)])[_0x2c8a1e(0x202)](_0x16c180=>{const _0x54db61=_0x2c8a1e;cy[_0x54db61(0x1e5)](_0x2466c2['qiCks'])[_0x54db61(0x19f)]();}),cy[_0x2c8a1e(0xee)](_0x449e55['WnkaP']),cy[_0x2c8a1e(0x223)](_0x449e55[_0x2c8a1e(0x1bd)])[_0x2c8a1e(0x22d)]('have.length',0x0),cy[_0x2c8a1e(0x223)](_0x2c8a1e(0x25c))[_0x2c8a1e(0x22d)](_0x449e55[_0x2c8a1e(0x139)],0x0),cy[_0x2c8a1e(0x299)](_0x449e55[_0x2c8a1e(0x26f)])[_0x2c8a1e(0x1e5)]('Query\x20results\x20will\x20appear\x20here.')[_0x2c8a1e(0x22d)](_0x2c8a1e(0x1c0));});}),describe(_0x4e6913(0x11e),()=>{const _0x457221=_0x4e6913,_0x6c51c4={'xOnDK':_0x457221(0x15c),'zNwxV':_0x457221(0x1d0),'nJGRr':_0x457221(0x122),'hURCy':_0x457221(0x215),'MbMin':function(_0x35d8ab,_0xd1c3f1){return _0x35d8ab(_0xd1c3f1);},'PsObN':_0x457221(0x178),'DeXdx':function(_0x2e4f10){return _0x2e4f10();},'YbYLM':function(_0x2c7c09,_0x31574b,_0x5d5a98){return _0x2c7c09(_0x31574b,_0x5d5a98);},'NqGiW':function(_0x441c35,_0x149373,_0x42b61b){return _0x441c35(_0x149373,_0x42b61b);},'OKfRN':'should\x20remove\x20stale\x20metadata\x20when\x20updating\x20an\x20existing\x20question\x20(metabase#30610)'};beforeEach(()=>{const _0x1c7c74=_0x457221;H[_0x1c7c74(0x188)](),cy[_0x1c7c74(0x2ac)]();}),_0x6c51c4[_0x457221(0x1f4)](it,_0x457221(0x11a),()=>{const _0x1f7896=_0x457221;if(_0x6c51c4['xOnDK']===_0x6c51c4[_0x1f7896(0x132)]){const _0x4ee56b={'spGhR':_0x1f7896(0x2b9)};_0x3523e4[_0x1f7896(0xfb)](_0x3f8c21),_0x7250ca[_0x1f7896(0x2a1)]()[_0x1f7896(0x202)](()=>{const _0x3b474c=_0x1f7896;_0x260c3a[_0x3b474c(0x162)](_0x3b474c(0x130),{'name':/gear icon/i})[_0x3b474c(0x19f)]();}),_0x5dc77e[_0x1f7896(0x2a1)]()[_0x1f7896(0x202)](()=>{const _0x19f7c1=_0x1f7896,_0x4915f1=_0xf06cd[_0x19f7c1(0x277)](_0x4ee56b['spGhR']);_0x4915f1[_0x19f7c1(0x19f)]({'force':!![]}),_0x4915f1['should']('be.checked');}),_0x15b4b7();}else{const _0x141021=_0x1f7896(0x26c)['split']('|');let _0x2a4615=0x0;while(!![]){switch(_0x141021[_0x2a4615++]){case'0':H['saveQuestionToCollection'](_0x1f7896(0x122));continue;case'1':visualizeAndAssertColumns();continue;case'2':removeSourceColumns();continue;case'3':H[_0x1f7896(0x22f)]();continue;case'4':createAdHocQuestion(_0x6c51c4['nJGRr']);continue;case'5':H['openOrdersTable']();continue;}break;}}}),_0x6c51c4[_0x457221(0x1ba)](it,_0x6c51c4[_0x457221(0x221)],()=>{const _0x2d7de7=_0x457221,_0x109e27=_0x6c51c4['hURCy'][_0x2d7de7(0x13d)]('|');let _0x4a9c84=0x0;while(!![]){switch(_0x109e27[_0x4a9c84++]){case'0':_0x6c51c4[_0x2d7de7(0x292)](createAdHocQuestion,_0x6c51c4[_0x2d7de7(0x2b1)]);continue;case'1':_0x6c51c4[_0x2d7de7(0x18b)](removeSourceColumns);continue;case'2':updateQuestion();continue;case'3':H[_0x2d7de7(0x21b)](ORDERS_QUESTION_ID);continue;case'4':_0x6c51c4['DeXdx'](visualizeAndAssertColumns);continue;case'5':H[_0x2d7de7(0x22f)]();continue;}break;}});}),describe(_0x4e6913(0xe4),()=>{const _0x474b2b=_0x4e6913,_0x2131ca={'ErxRp':'GET','pydIJ':'/api/search*','wBlvu':'search','Tpnie':'Search\x20this\x20collection\x20or\x20everywhere…','Hfrfk':_0x474b2b(0x1e4),'vuOSs':_0x474b2b(0x248),'XpJZg':'Tables','rfLWD':function(_0x539e63,_0xdc1f70,_0x8b3e91){return _0x539e63(_0xdc1f70,_0x8b3e91);},'HqkPP':'should\x20be\x20able\x20to\x20change\x20question\x20data\x20source\x20to\x20raw\x20data\x20after\x20selecting\x20saved\x20question\x20(metabase#36669)'};beforeEach(()=>{const _0x32792d=_0x474b2b,_0xb77be8={'pRHXO':_0x2131ca[_0x32792d(0xe2)],'aPRXm':_0x2131ca['pydIJ']};'MoVZf'!=='MoVZf'?(_0xe358f3[_0x32792d(0x188)](),_0x54deae[_0x32792d(0x106)](),_0x499b9c['intercept'](_0xb77be8[_0x32792d(0x1b8)],_0xb77be8[_0x32792d(0x1ff)])['as'](_0x32792d(0x1e1))):(H[_0x32792d(0x188)](),cy['signInAsNormalUser'](),cy[_0x32792d(0x272)](_0x2131ca[_0x32792d(0xe2)],_0x32792d(0x2a7))['as'](_0x2131ca[_0x32792d(0x10d)]));}),_0x2131ca[_0x474b2b(0x176)](it,_0x2131ca[_0x474b2b(0x1a0)],()=>{const _0x55d834=_0x474b2b,_0x2f8670={'name':_0x2131ca['vuOSs'],'query':{'source-table':ORDERS_ID,'limit':0x5}};H['createQuestion'](_0x2f8670)[_0x55d834(0x256)](()=>{const _0x374719=_0x55d834;H[_0x374719(0x112)]();}),H[_0x55d834(0x1bf)]()[_0x55d834(0x202)](()=>{const _0x30fbbf=_0x55d834;H[_0x30fbbf(0x1cd)](_0x30fbbf(0x153))['click'](),cy[_0x30fbbf(0xfc)](_0x2131ca['Tpnie'])[_0x30fbbf(0x24f)](_0x30fbbf(0x248)),cy['wait']('@search'),cy[_0x30fbbf(0x1e5)](_0x30fbbf(0x164))[_0x30fbbf(0x19f)](),cy[_0x30fbbf(0x162)](_0x2131ca[_0x30fbbf(0x257)])[_0x30fbbf(0x1e5)](_0x2131ca[_0x30fbbf(0x27a)])[_0x30fbbf(0x19f)]();}),H[_0x55d834(0x179)](_0x55d834(0x2ba))[_0x55d834(0x1e5)](_0x55d834(0x248))['click'](),H['entityPickerModal']()[_0x55d834(0x202)](()=>{const _0x23467c=_0x55d834;H[_0x23467c(0x1cd)](_0x2131ca[_0x23467c(0xcd)])[_0x23467c(0x19f)](),cy[_0x23467c(0x192)](_0x23467c(0x166)),cy['findByRole'](_0x23467c(0x1e4))[_0x23467c(0x22d)](_0x23467c(0xde),_0x23467c(0x178));});});}),describe(_0x4e6913(0x23d),()=>{const _0x535c8b=_0x4e6913,_0x2d232d={'ZbPzZ':_0x535c8b(0x25e),'CsalZ':_0x535c8b(0x178),'LEbAR':_0x535c8b(0xde),'IOBFH':'Created\x20At','xTWnk':_0x535c8b(0x1b1),'JAKJS':function(_0x211d57,_0x20c1d4){return _0x211d57(_0x20c1d4);},'YJdXb':function(_0x11bce8,_0x27c5e4,_0x7dfebf){return _0x11bce8(_0x27c5e4,_0x7dfebf);},'mfnGL':_0x535c8b(0x1ae)};_0x2d232d[_0x535c8b(0xdf)](beforeEach,()=>{const _0x52c5d2=_0x535c8b;H[_0x52c5d2(0x188)](),cy[_0x52c5d2(0x106)]();}),_0x2d232d['YJdXb'](it,_0x2d232d['mfnGL'],()=>{const _0x3b21b1=_0x535c8b,_0x3db4e2={'name':_0x2d232d[_0x3b21b1(0x16e)],'query':{'source-table':ORDERS_ID,'joins':[{'source-table':ORDERS_ID,'condition':['=',['field',ORDERS['ID'],null],['field',ORDERS['ID'],null]],'alias':_0x2d232d['CsalZ']}],'limit':0x5}};H[_0x3b21b1(0x218)](_0x3db4e2)[_0x3b21b1(0x256)](({body:{id:_0xeab889}})=>{const _0x5e2bea=_0x3b21b1,_0x2a5fd0={'name':_0x5e2bea(0xce),'query':{'source-table':_0x5e2bea(0x1e7)+_0xeab889}};H['createQuestion'](_0x2a5fd0,{'visitQuestion':!![]});}),H[_0x3b21b1(0x1cf)](),cy['findByTestId'](_0x3b21b1(0x1b1))['should'](_0x2d232d['LEbAR'],_0x3b21b1(0xe3))[_0x3b21b1(0x22d)](_0x2d232d[_0x3b21b1(0x1bb)],_0x2d232d[_0x3b21b1(0x15e)]),cy[_0x3b21b1(0x299)](_0x2d232d[_0x3b21b1(0x17e)])[_0x3b21b1(0x202)](()=>{const _0x5e489c=_0x3b21b1;cy[_0x5e489c(0x20a)](_0x5e489c(0x105))[_0x5e489c(0x22d)]('not.exist');});});}),describe(_0x4e6913(0xf0),()=>{const _0x4e3405=_0x4e6913,_0x50705d={'UutKv':_0x4e3405(0xcb),'uRWio':'@updateCard','qLiCi':_0x4e3405(0x27e),'RmxOl':_0x4e3405(0x1b4),'Mdptw':'Target\x20question','oDsGv':'Update\x20source\x20question','Puumi':'Pick\x20columns','RCuZq':function(_0x4e86bf,_0x49b098){return _0x4e86bf===_0x49b098;},'qGhsy':_0x4e3405(0x201),'glhBQ':function(_0x412e9a,_0x26af94){return _0x412e9a!==_0x26af94;},'IOcLm':_0x4e3405(0x241),'NCqOH':_0x4e3405(0x190),'ESPnP':_0x4e3405(0x235),'NZQar':_0x4e3405(0x1c2),'scaYC':_0x4e3405(0x16b),'ZvnSW':_0x4e3405(0x1c0),'QClKm':function(_0x19a29e,_0x395e31){return _0x19a29e(_0x395e31);},'KKucd':function(_0x27e8de,_0x38db01,_0x3670f9,_0x5b3ba4){return _0x27e8de(_0x38db01,_0x3670f9,_0x5b3ba4);},'pzAFt':_0x4e3405(0x142),'SuBja':'@flaky'};_0x50705d[_0x4e3405(0x27b)](beforeEach,()=>{const _0x4bd346=_0x4e3405;H[_0x4bd346(0x188)](),cy[_0x4bd346(0x106)](),H[_0x4bd346(0x270)]({'name':_0x4bd346(0x190),'native':{'query':_0x4bd346(0x165)}});}),_0x50705d[_0x4e3405(0x124)](it,_0x50705d[_0x4e3405(0x17b)],{'tags':_0x50705d[_0x4e3405(0x1a5)]},()=>{const _0x3c5192=_0x4e3405,_0x4d613e={'pLuqH':_0x50705d[_0x3c5192(0x158)],'RqbON':_0x50705d[_0x3c5192(0x1c6)],'zFWAQ':_0x50705d[_0x3c5192(0x1a4)],'wPjXe':_0x3c5192(0x235),'anNel':_0x50705d[_0x3c5192(0x2a4)],'jzOKa':function(_0x9fc02e,_0x33e9cb){const _0x1e5bfe=_0x3c5192;return _0x50705d[_0x1e5bfe(0x12c)](_0x9fc02e,_0x33e9cb);},'Baekd':_0x50705d[_0x3c5192(0xeb)],'LJOLS':_0x3c5192(0x1c0),'XpJQf':_0x3c5192(0x262)};_0x50705d[_0x3c5192(0x1c1)](_0x50705d['IOcLm'],_0x3c5192(0xf6))?(cy['visit']('/'),cy['log'](_0x3c5192(0x1b4)),H['newButton'](_0x3c5192(0x146))['click'](),H[_0x3c5192(0x1bf)]()[_0x3c5192(0x202)](()=>{const _0xbe3581=_0x3c5192;if(_0x4d613e[_0xbe3581(0x10c)](_0xbe3581(0x29c),'KnWUX')){const _0x49099a={'AYQae':'Source\x20question'};_0x2597e1[_0xbe3581(0xe7)]('/'),_0x50e503[_0xbe3581(0x192)](_0x4d613e['pLuqH']),_0x38cd5c['newButton'](_0xbe3581(0x146))['click'](),_0x314535[_0xbe3581(0x1bf)]()[_0xbe3581(0x202)](()=>{const _0x5609cf=_0xbe3581;_0x43f309[_0x5609cf(0x1cd)](_0x5609cf(0x153))[_0x5609cf(0x19f)](),_0x5bd927['findByText'](_0x49099a['AYQae'])['click']();}),_0xdc3201['saveQuestion'](_0x4d613e[_0xbe3581(0x281)]),_0x6da5fa[_0xbe3581(0x192)](_0x4d613e['zFWAQ']),_0x3ab778[_0xbe3581(0xda)]()[_0xbe3581(0x19f)](),_0x2aaac5[_0xbe3581(0x236)]()[_0xbe3581(0x1e5)](_0xbe3581(0x190))[_0xbe3581(0x19f)](),_0x41de2c[_0xbe3581(0x299)](_0x4d613e[_0xbe3581(0xe0)])[_0xbe3581(0x1e5)]('Open\x20Editor')['click'](),_0x455b26[_0xbe3581(0x14a)][_0xbe3581(0x15f)]()[_0xbe3581(0x24f)]('\x20,\x204\x20as\x20D'),_0x5312bd['saveSavedQuestion'](),_0x47c91f[_0xbe3581(0x192)]('Assert\x20updated\x20metadata\x20in\x20target\x20question'),_0xf769c2[_0xbe3581(0xda)]()[_0xbe3581(0x19f)](),_0x468070[_0xbe3581(0x236)]()[_0xbe3581(0x1e5)](_0x4d613e['RqbON'])['click'](),_0x45b84b['findAllByTestId']('header-cell')['eq'](0x3)[_0xbe3581(0x22d)](_0xbe3581(0x16b),'D'),_0x11348f[_0xbe3581(0x22f)](),_0x4bf5f6['getNotebookStep'](_0xbe3581(0x2ba))['button'](_0x4d613e[_0xbe3581(0x13a)])['click'](),_0x1064ba[_0xbe3581(0x2a1)]()[_0xbe3581(0x1e5)]('D')[_0xbe3581(0x22d)]('be.visible');}else H[_0xbe3581(0x1cd)](_0xbe3581(0x153))[_0xbe3581(0x19f)](),cy[_0xbe3581(0x1e5)](_0xbe3581(0x190))['click']();}),H[_0x3c5192(0x229)](_0x50705d[_0x3c5192(0x1c6)]),cy['log'](_0x50705d[_0x3c5192(0x1a4)]),H['commandPaletteButton']()[_0x3c5192(0x19f)](),H[_0x3c5192(0x236)]()[_0x3c5192(0x1e5)](_0x50705d[_0x3c5192(0x23e)])[_0x3c5192(0x19f)](),cy[_0x3c5192(0x299)](_0x50705d[_0x3c5192(0x285)])[_0x3c5192(0x1e5)](_0x3c5192(0x133))[_0x3c5192(0x19f)](),H[_0x3c5192(0x14a)]['focus']()['type'](_0x3c5192(0xe8)),H[_0x3c5192(0x1bc)](),cy[_0x3c5192(0x192)](_0x3c5192(0x193)),H[_0x3c5192(0xda)]()[_0x3c5192(0x19f)](),H[_0x3c5192(0x236)]()[_0x3c5192(0x1e5)](_0x3c5192(0x180))[_0x3c5192(0x19f)](),cy['findAllByTestId'](_0x50705d[_0x3c5192(0x12a)])['eq'](0x3)[_0x3c5192(0x22d)](_0x50705d[_0x3c5192(0x1d4)],'D'),H[_0x3c5192(0x22f)](),H[_0x3c5192(0x179)](_0x3c5192(0x2ba))[_0x3c5192(0x130)](_0x3c5192(0x2a3))['click'](),H[_0x3c5192(0x2a1)]()[_0x3c5192(0x1e5)]('D')[_0x3c5192(0x22d)](_0x50705d['ZvnSW'])):(_0x392130['findByTestId'](_0x3c5192(0x25d))['within'](()=>{const _0x5781f9=_0x3c5192;_0x59d63b['findByText'](_0x4d613e[_0x5781f9(0x1f9)])[_0x5781f9(0x22d)](_0x5781f9(0x1c0)),_0x573840['findByText']('All\x20time')[_0x5781f9(0x22d)](_0x4d613e[_0x5781f9(0x1cc)]),_0x331018[_0x5781f9(0x1e5)]('by')[_0x5781f9(0x22d)](_0x5781f9(0x1c0)),_0x49aa4f[_0x5781f9(0x1e5)](_0x4d613e[_0x5781f9(0x1dc)])[_0x5781f9(0x22d)](_0x5781f9(0x1c0));}),_0x1dcd91['openQuestionActions'](),_0x3bbaa2[_0x3c5192(0x2a1)]()[_0x3c5192(0x1e5)](_0x50705d['UutKv'])['click'](),_0x5ab9c4[_0x3c5192(0x134)]()[_0x3c5192(0x1e5)](_0x3c5192(0x22a))[_0x3c5192(0x19f)](),_0x41f05c[_0x3c5192(0xee)](_0x50705d[_0x3c5192(0x24e)]),_0x344895['findByTestId'](_0x3c5192(0x156))[_0x3c5192(0x22d)](_0x50705d['qLiCi']));});});function updateQuestion(){const _0xb35cd4=_0x4e6913,_0x5be4ba={'mqaCp':_0xb35cd4(0x186),'ODJEh':function(_0x3aa894,_0x21a702){return _0x3aa894===_0x21a702;},'TfqvC':'udyjT','jRfCx':_0xb35cd4(0x249)};H[_0xb35cd4(0x2a9)]()[_0xb35cd4(0x1e5)](_0xb35cd4(0x249))[_0xb35cd4(0x19f)](),cy[_0xb35cd4(0x299)](_0xb35cd4(0x228))[_0xb35cd4(0x202)](_0xea0d1d=>{const _0x1a4ff2=_0xb35cd4;_0x5be4ba[_0x1a4ff2(0x25a)](_0x5be4ba['TfqvC'],_0x1a4ff2(0x174))?cy[_0x1a4ff2(0x1e5)](_0x5be4ba['jRfCx'])['click']():(_0x295be7[_0x1a4ff2(0x188)](),_0x3e6aa7[_0x1a4ff2(0x2ac)](),_0x446f3b[_0x1a4ff2(0x226)](_0x42c05a,{'mode':_0x5be4ba[_0x1a4ff2(0x19a)]}));});}function removeSourceColumns(){const _0x4f6629=_0x4e6913;cy[_0x4f6629(0x299)](_0x4f6629(0x117))[_0x4f6629(0x19f)](),H[_0x4f6629(0x2a1)]()[_0x4f6629(0x1e5)](_0x4f6629(0xc9))[_0x4f6629(0x19f)]();}function createAdHocQuestion(_0x1cda56){const _0x4a6a94=_0x4e6913,_0x3814be={'VJvGm':_0x4a6a94(0x127),'rlXPT':_0x4a6a94(0x27e)};H[_0x4a6a94(0x112)](),H[_0x4a6a94(0x1bf)]()[_0x4a6a94(0x202)](()=>{const _0x4d44cd=_0x4a6a94;H[_0x4d44cd(0x1cd)]('Collections')[_0x4d44cd(0x19f)](),cy[_0x4d44cd(0x1e5)](_0x1cda56)[_0x4d44cd(0x19f)]();}),cy[_0x4a6a94(0x299)](_0x4a6a94(0x117))[_0x4a6a94(0x19f)](),H[_0x4a6a94(0x2a1)]()[_0x4a6a94(0x202)](()=>{const _0x1e858d=_0x4a6a94;cy[_0x1e858d(0x1e5)]('ID')[_0x1e858d(0x22d)](_0x1e858d(0x1c0)),cy[_0x1e858d(0x1e5)](_0x3814be['VJvGm'])[_0x1e858d(0x22d)](_0x3814be[_0x1e858d(0x19d)]);});}function visualizeAndAssertColumns(){const _0x5640cf=_0x4e6913,_0x24459a={'qFkzg':_0x5640cf(0x273)};H[_0x5640cf(0x11c)](),H[_0x5640cf(0x267)]()[_0x5640cf(0x202)](()=>{const _0x2e40af=_0x5640cf;cy['findByText']('ID')['should'](_0x24459a['qFkzg']),cy[_0x2e40af(0x1e5)](_0x2e40af(0x127))['should'](_0x2e40af(0x27e));});}function _0x17e1(){const _0x49c55e=['weCCm','zJWnq','AAWPF','USER_ID','oFgbG','cowpb','Tax','Collections','22788','zOOaN','time-series-mode-bar','should\x20not\x20show\x20\x27Save\x27\x20after\x20saving\x20viz\x20settings\x20from\x20the\x20custom\x20column\x20dropdown','RmxOl','updateQuestion','Greater\x20than','avg','xNIwW','Sum\x20of\x20...','IOBFH','focus','ycixZ','NmlGu','findByRole','dataset-edit-bar','Everywhere','select\x201\x20as\x20A,\x202\x20as\x20B,\x203\x20as\x20C','verify\x20Tables\x20are\x20listed','@dataset','252lIyJJp','action-buttons','24839','have.text','144gFbXzj','RuTyD','ZbPzZ','geOkx','/notebook','CrXno','20477044yGFfmp','opWTu','udyjT','should\x20show\x20only\x20selected\x20columns\x20in\x20a\x20step\x20preview\x20(metabase#23023)','rfLWD','request','Orders','getNotebookStep','bQDeZ','pzAFt','Summarize','scalar-value','xTWnk','sxyVt','Target\x20question','oBOIK','QUANTITY','@dataset.all','@updateQuestion','bar','notebook','findByDisplayValue','restore','/api/card/*','new-model-options','DeXdx','hCZHf','42115wSSKgA','Average\x20of\x20Total','close','Source\x20question','have.length','log','Assert\x20updated\x20metadata\x20in\x20target\x20question','dArim','updateCard','fsUIJ','Zqeer','uQcVS','should\x20not\x20show\x20\x27Save\x27\x20after\x20text\x20formatting\x20visualization\x20settings','mqaCp','Gadget','SBULc','rlXPT','should\x20correctly\x20format\x20the\x20filter\x20operator\x20after\x20the\x20aggregation\x20(metabase#27104)','click','HqkPP','ZgSpX','eoTnF','/api/card/*/query','oDsGv','SuBja','-settings-button','RnIID','Vtzro','startNewNativeQuestion','Liuej','Custom\x20columns\x20visualization\x20settings','rbMVI','EjuSY','should\x20render\x20column\x20settings\x20when\x20source\x20query\x20is\x20a\x20table\x20joined\x20on\x20itself\x20(metabase#35290)','findAllByRole','jviVi','chartsettings-sidebar','HKgMG','fDoaY','Create\x20target\x20question','kvEoH','BMGfp','should\x20allow\x20to\x20modify\x20a\x20pivot\x20question\x20in\x20the\x20notebook\x20(metabase#28874)','pRHXO','ESJMQ','NqGiW','LEbAR','saveSavedQuestion','hIpbb','saveQuestionToCollection','entityPickerModal','be.visible','glhBQ','header-cell','ZkHmw','YnuXD','UNqgH','Mdptw','should\x20show\x20Models\x20tab\x20after\x20creation\x20the\x20first\x20model\x20(metabase#24878)','ltLIP','first','query-builder-main','NjffD','LJOLS','entityPickerModalTab','AKaBC','openVizSettingsSidebar','NvofO','qSnEG','LPTJP','LWybo','scaYC','TUvVf','and','ihGrt','/question/','OWOpL','meeQI','YUJKZ','XpJQf','play','TEST_EXPRESSION','selectFilterOperator','/api/dataset','search','OIYkV','XkYcs','tabpanel','findByText','SYbGW','card__','count','sVedY','BObEX','JKgWG','oAakr','bJoTY','should\x20not\x20show\x20time\x20granularity\x20footer\x20after\x20question\x20conversion\x20to\x20a\x20model\x20(metabase#28599)','TfkyB','BSHqb','619790RKmcAc','MDiGH','CATEGORY','YbYLM','contains','ABzFK','bXCav','sHsQG','Baekd','RmUwO','Enter\x20a\x20number','dnKeC','BWggV','dvScB','aPRXm','POST','View','within','\x20LIMIT\x2010','mpuLp','ynmsL','Products','year','JfhiS','month','icon','0|2|1|3|4','findAllByTestId','hAXRi','618600ZbbACK','Pqqvb','SOURCE','XBNtt','FzUzH','aggregation-item','Sum\x20of\x20Quantity','3|5|1|2|0|4','uNrJM','sum','createQuestion','heAYY','MkAoL','visitQuestion','\x20WHERE\x20TOTAL\x20<\x2020','type/Text','DIsVX','EmjmC','gukyT','OKfRN','Orders\x20question','get','iyKvE','Product\x20ID','visitQuestionAdhoc','zTGVD','save-question-modal','saveQuestion','Turn\x20this\x20into\x20a\x20model','pINwI','UOrJF','should','qznBl','openNotebook','kxves','Count','ithum','Display\x20as','fegrm','native-query-editor-container','commandPalette','JPCUO','941736uEFxff','crswf','Filter','Cejfa','vxmUT','issue\x2035290','NCqOH','Ojfkk','chartPathWithFillColor','BhVsr','OneXr','zIkTr','vNTvS','Showing\x2011\x20rows','zuUxO','Category','Orders\x2036669','Save','parent','uHEYH','BlczM','vHWpQ','uRWio','type','ixGGU','uwfch','Name','kYQJE','lDJaI','qAQIe','then','Hfrfk','issue\x2028221','lqrZK','ODJEh','/api/card/','@cardQuery.all','timeseries-chrome','Orders\x20+\x20Orders','hMCRu','option','FSWXF','Year','LeRMF','should\x20be\x20able\x20to\x20select\x20see\x20notebook\x20view\x20even\x20if\x20a\x20question\x20custom\x20field\x20metadata\x20is\x20missing#27462','CaRCY','ZOcPX','tableInteractive','JdVGJ','JBxaP','Filter\x20by\x20this\x20column','sxJZc','5|3|2|0|4|1','EialN','ilOUb','AMLPO','createNativeQuestion','Discount\x20is\x20empty','intercept','exist','TASBM','bkKBF','200','findByLabelText','openQuestionActions','QLrcC','vuOSs','QClKm','kcYMg','Tables','not.exist','Orders\x20model','Showing\x201\x20row','RqbON','ewMkR','text','5|1|3|4|0|2','ESPnP','Visualize','PRODUCT_ID','qb-header-action-panel','PUT','MJRFP','GNoWr','all','WxlhW','XWbam','SCdaY','flReP','Reproduce\x2028221','MbMin','@createCard','query','/api/card','OjxMx','hlOww','dataset','findByTestId','lIogd','Huncj','ytznm','sXlxQ','MiFzd','CREATED_AT','aQCyB','popover','QTnpK','Pick\x20columns','Puumi','bnsHD','yDdmj','/api/search*','IzCEC','queryBuilderHeader','issue\x2028599','AWJXP','signInAsAdmin','ySWPP','TOTAL','SELECT\x20*\x20FROM\x20ORDERS','aNuSn','PsObN','line','zQyhC','QIqlL','vmdiz','jiFuQ','KEXgW','aTLDi','Show\x20a\x20mini\x20bar\x20chart','data','Select\x20all','issue\x2027104','Turn\x20into\x20a\x20model','14SCzxje','XpJZg','35290','KROnY','XUWHb','yKhYd','should\x20be\x20able\x20to\x20select\x20field\x20when\x20double\x20aggregating\x20metabase#27462','from\x20the\x20notebook\x20GUI\x20(metabase#24839-1)','SoNkd','WFbic','BIBkw','Email\x20link','13lBeDkk','2HGehLO','commandPaletteButton','XaJwP','MuQXu','xQBAJ','contain','JAKJS','wPjXe','@OSS','ErxRp','Add\x20or\x20remove\x20columns','issue\x2036669','126bfOLrp','28599','visit','\x20,\x204\x20as\x20D','gqlTg','Ypfzk','qGhsy','ncnTM','cAiVv','wait','should\x20be\x20possible\x20to\x20filter\x20by\x20a\x20column\x20in\x20a\x20multi-stage\x20query\x20(metabase#25016)','issue\x2043216','QxtRR','XjUwB','akaiw','Icekp','rZGkz','ZUyHu','KEWhL','Back','AcZha','IwOkt','tableHeaderClick','findByPlaceholderText','omHKj','PKnHy','HfFxA','blur','last','Count\x20is\x20greater\x20than\x200','ajLBY','UtqhO','warning','signInAsNormalUser','be.checked','PNgRZ','qb-filters-panel','33sRkOky','xUxCg','jzOKa','wBlvu','4|1|13|5|15|11|8|7|0|6|9|10|3|2|12|14','QomSk','createCard','pivot','startNewQuestion','StlXS','newButton','MFpyh','Add\x20filter','fields-picker','pmtkK','QlgSa','should\x20remove\x20stale\x20metadata\x20when\x20saving\x20a\x20new\x20question\x20(metabase#30610)','LIwaC','visualize','lyXfa','issue\x2030610','9056brxFqf','941503KwflIn','Distinct\x20values','New\x20orders','TLtXP','KKucd','aYjvO','NUGBn','Total','field','VerJK','NZQar','LTBuo','RCuZq','UgmWf','NQhLi','28874','button','GuWvt','zNwxV','Open\x20Editor','modal','issue\x2030165','qQZEm','yARfc','aDPEv','OdpNW','anNel','entityPickerModalItem','qvSNI','split','invoke','from\x20a\x20table\x20header\x20cell\x20(metabase#24839-2)','FPDjL','iPUSt','should\x20update\x20source\x20question\x20metadata\x20when\x20it\x20changes\x20(metabase#43216)','.test-TableInteractive-emptyCell','PmQUO','issue\x2025016','Question','QQiqR','Showing\x203\x20rows','Wrxqb','NativeEditor','JpGFD'];_0x17e1=function(){return _0x49c55e;};return _0x17e1();}function _0x2f60(_0x1ddf8c,_0x477f5e){const _0x17e15b=_0x17e1();return _0x2f60=function(_0x2f60be,_0x383319){_0x2f60be=_0x2f60be-0xc9;let _0x3dc401=_0x17e15b[_0x2f60be];return _0x3dc401;},_0x2f60(_0x1ddf8c,_0x477f5e);}const EXPRESSION_NAME=_0x4e6913(0x1de);describe(_0x4e6913(0x1ab),()=>{const _0x2bd942=_0x4e6913,_0x26d5f3={'AcZha':_0x2bd942(0xd7),'sHsQG':function(_0x28e3fb){return _0x28e3fb();},'fDoaY':_0x2bd942(0x260),'GNoWr':_0x2bd942(0x2b9),'Wrxqb':_0x2bd942(0x107),'sxJZc':function(_0x39a765,_0x5eaa93){return _0x39a765(_0x5eaa93);},'crswf':function(_0x28fa90,_0x11d095,_0x451129){return _0x28fa90(_0x11d095,_0x451129);},'UNqgH':'should\x20not\x20show\x20\x27Save\x27\x20after\x20modifying\x20minibar\x20settings\x20for\x20a\x20custom\x20column','JfhiS':_0x2bd942(0x199)},_0xdbad7f={'name':'30905','query':{'source-table':ORDERS_ID,'expressions':{[EXPRESSION_NAME]:['+',0x1,0x1]}}};_0x26d5f3[_0x2bd942(0x26b)](beforeEach,()=>{const _0x5aefd8=_0x2bd942;H['restore'](),cy[_0x5aefd8(0x2ac)](),H[_0x5aefd8(0x218)](_0xdbad7f)['then'](({body:{id:_0x54cdec}})=>{const _0x223fb0=_0x5aefd8;cy['request'](_0x223fb0(0x289),_0x223fb0(0x25b)+_0x54cdec,{'enable_embedding':!![]}),H[_0x223fb0(0x21b)](_0x54cdec);});}),_0x26d5f3[_0x2bd942(0x239)](it,_0x26d5f3[_0x2bd942(0x1c5)],()=>{const _0x7482f1=_0x2bd942;goToExpressionSidebarVisualizationSettings(),H[_0x7482f1(0x2a1)]()[_0x7482f1(0x202)](()=>{const _0x1d201e=_0x7482f1,_0x52a281=cy[_0x1d201e(0x277)]('Show\x20a\x20mini\x20bar\x20chart');_0x52a281[_0x1d201e(0x19f)]({'force':!![]}),_0x52a281[_0x1d201e(0x22d)](_0x1d201e(0x107));}),saveModifiedQuestion();}),_0x26d5f3[_0x2bd942(0x239)](it,_0x26d5f3[_0x2bd942(0x208)],()=>{const _0x10c5a4=_0x2bd942,_0x489445={'Zqeer':_0x10c5a4(0x2b5),'QdayS':_0x10c5a4(0x233)};_0x26d5f3[_0x10c5a4(0x1f8)](goToExpressionSidebarVisualizationSettings),H['popover']()[_0x10c5a4(0x202)](()=>{const _0xc61529=_0x10c5a4;if(_0x489445[_0xc61529(0x197)]===_0xc61529(0x2b5)){const _0x2af27a=cy['findByLabelText'](_0x489445['QdayS']);_0x2af27a[_0xc61529(0x19f)]();}else _0x4770a2[_0xc61529(0x177)](_0xc61529(0x289),'/api/card/'+_0x32cbca,{'enable_embedding':!![]}),_0x2813d0['visitQuestion'](_0x3a8558);}),cy[_0x10c5a4(0x1af)](_0x26d5f3[_0x10c5a4(0x1b3)],{'name':_0x10c5a4(0xd7)})[_0x10c5a4(0x19f)](),H[_0x10c5a4(0x2a1)]()[_0x10c5a4(0x202)](()=>{const _0xf2eb5e=_0x10c5a4;cy['findByDisplayValue'](_0x26d5f3[_0xf2eb5e(0xf9)])[_0xf2eb5e(0x22d)](_0xf2eb5e(0x273));}),saveModifiedQuestion();}),_0x26d5f3[_0x2bd942(0x239)](it,_0x2bd942(0x157),()=>{const _0x3022cd=_0x2bd942,_0x3930db={'AWJXP':_0x26d5f3[_0x3022cd(0x28b)],'bQDeZ':_0x26d5f3[_0x3022cd(0x149)]};if(_0x3022cd(0x1ec)===_0x3022cd(0x1ec))H[_0x3022cd(0xfb)](EXPRESSION_NAME),H[_0x3022cd(0x2a1)]()['within'](()=>{const _0x4efcac=_0x3022cd;cy[_0x4efcac(0x162)](_0x4efcac(0x130),{'name':/gear icon/i})['click']();}),H['popover']()['within'](()=>{const _0xa2858b=_0x3022cd,_0x1402b8=cy['findByLabelText'](_0x3930db[_0xa2858b(0x2ab)]);_0x1402b8[_0xa2858b(0x19f)]({'force':!![]}),_0x1402b8[_0xa2858b(0x22d)](_0x3930db[_0xa2858b(0x17a)]);}),_0x26d5f3[_0x3022cd(0x1f8)](saveModifiedQuestion);else{const _0x1581f7={'Icekp':_0x3022cd(0x252),'XWbam':_0x3022cd(0x249),'MFpyh':_0x3022cd(0x1c0)};_0x41366e[_0x3022cd(0xe7)]('/'),_0x1a3e03[_0x3022cd(0x114)]('Model')[_0x3022cd(0x19f)](),_0x466711[_0x3022cd(0x299)](_0x3022cd(0x18a))[_0x3022cd(0x1e5)](/use the notebook/i)[_0x3022cd(0x19f)](),_0x2f1c66[_0x3022cd(0x1bf)]()[_0x3022cd(0x202)](()=>{const _0x317617=_0x3022cd;_0x36d9bf[_0x317617(0x13b)](0x2,_0x317617(0x178))[_0x317617(0x19f)]();}),_0x4d2563[_0x3022cd(0x299)](_0x3022cd(0x163))[_0x3022cd(0x130)](_0x3022cd(0x249))['click'](),_0x3e9dab[_0x3022cd(0x134)]()[_0x3022cd(0x202)](()=>{const _0x18ab2b=_0x3022cd;_0xf40aeb[_0x18ab2b(0x277)](_0x1581f7[_0x18ab2b(0xf4)])['clear']()[_0x18ab2b(0x24f)](_0x18ab2b(0x27f)),_0x184293[_0x18ab2b(0x130)](_0x1581f7[_0x18ab2b(0x28e)])[_0x18ab2b(0x19f)]();}),_0x2e28e9['wait'](_0x3022cd(0x293)),_0x46073f[_0x3022cd(0x114)]('Question')[_0x3022cd(0x19f)](),_0x5a190a[_0x3022cd(0x1bf)]()['within'](()=>{const _0x3ac1ae=_0x3022cd;_0x155796[_0x3ac1ae(0x1cd)](_0x3ac1ae(0x153))[_0x3ac1ae(0x22d)](_0x1581f7[_0x3ac1ae(0x115)])[_0x3ac1ae(0x19f)](),_0x22ed75[_0x3ac1ae(0x13b)](0x1,_0x3ac1ae(0x27f))[_0x3ac1ae(0x22d)]('be.visible');});}});});function saveModifiedQuestion(){const _0x33984b=_0x4e6913,_0x4eabfc={'uDXyj':function(_0x74d779,_0x4bbb01){return _0x74d779!==_0x4bbb01;},'zQyhC':_0x33984b(0x171),'jviVi':_0x33984b(0x129),'ZgSpX':_0x33984b(0x249),'OjxMx':_0x33984b(0x260),'eejZf':_0x33984b(0x231),'qvSNI':_0x33984b(0x294),'ajLBY':_0x33984b(0x186),'JKgWG':_0x33984b(0x17c),'ESsui':_0x33984b(0x1f7),'Qwcrd':'save-question-modal'};cy[_0x33984b(0x299)](_0x33984b(0x288))['within'](()=>{const _0x374515=_0x33984b;_0x4eabfc['uDXyj'](_0x374515(0x171),_0x4eabfc[_0x374515(0x2b3)])?(_0x2698b9[_0x374515(0x1cf)](),_0x356fa4[_0x374515(0x299)](_0x16aaaf+_0x374515(0x1a6))[_0x374515(0x19f)]()):cy[_0x374515(0x1e5)]('Save')[_0x374515(0x19f)]();}),cy['findByTestId'](_0x4eabfc['Qwcrd'])[_0x33984b(0x202)](()=>{const _0x277cc3=_0x33984b;_0x4eabfc['jviVi']!==_0x4eabfc[_0x277cc3(0x1b0)]?(_0x133659[_0x277cc3(0x1cd)](_0x277cc3(0x153))[_0x277cc3(0x19f)](),_0x2898f4['findByText'](_0x277cc3(0x190))[_0x277cc3(0x19f)]()):(cy['findByText'](/Replace original question/i)[_0x277cc3(0x22d)](_0x277cc3(0x273)),cy[_0x277cc3(0x1e5)](_0x4eabfc[_0x277cc3(0x1a1)])[_0x277cc3(0x19f)]());}),cy[_0x33984b(0x299)](_0x33984b(0x288))[_0x33984b(0x202)](()=>{const _0x308756=_0x33984b,_0x3c354b={'qSnEG':_0x4eabfc[_0x308756(0x296)],'hlOww':_0x4eabfc['eejZf'],'LeRMF':_0x4eabfc[_0x308756(0x13c)],'KTqvE':_0x308756(0x128),'sQlSL':_0x4eabfc[_0x308756(0x103)],'bctRE':_0x4eabfc[_0x308756(0x1eb)],'qAQIe':_0x308756(0x15d),'OiJBB':_0x308756(0x276),'KEWhL':function(_0xaa0dd9,_0x1759f1){return _0xaa0dd9(_0x1759f1);}};_0x4eabfc['ESsui']!==_0x308756(0x1f7)?(_0x3c354b[_0x308756(0xf7)](_0x14a1dd,()=>{const _0x537466=_0x308756;_0x543271[_0x537466(0x188)](),_0x3f4da1[_0x537466(0x2ac)]();}),_0xc4f125(_0x308756(0xd2),()=>{const _0x5c38c5=_0x308756,_0x481517={'akaiw':_0x3c354b[_0x5c38c5(0x1d1)],'aQCyB':_0x3c354b[_0x5c38c5(0x297)]},_0x44bfc2={'dataset_query':{'database':_0xec41e2,'type':_0x3c354b[_0x5c38c5(0x263)],'query':{'source-table':_0x19a6cf,'aggregation':[[_0x5c38c5(0x1e8)]],'breakout':[[_0x3c354b['KTqvE'],_0x3ba6f5[_0x5c38c5(0x1f3)],null]]}},'display':'table','visualization_settings':{}};_0x517a23[_0x5c38c5(0x226)](_0x44bfc2,{'mode':_0x3c354b['sQlSL']}),_0x41848a[_0x5c38c5(0x130)](_0x3c354b['bctRE'])[_0x5c38c5(0x19f)](),_0x14b5f5['findByRole'](_0x3c354b['qSnEG'],{'name':_0x3c354b[_0x5c38c5(0x255)]})[_0x5c38c5(0x19f)](),_0x2cf4d6[_0x5c38c5(0x2a1)]()[_0x5c38c5(0x202)](()=>{const _0x3f7b0f=_0x5c38c5;_0x396c89[_0x3f7b0f(0x162)](_0x481517[_0x3f7b0f(0xf3)],{'name':_0x481517[_0x3f7b0f(0x2a0)]})[_0x3f7b0f(0x19f)]();}),_0xd7a994[_0x5c38c5(0x130)](_0x5c38c5(0x286))[_0x5c38c5(0x19f)](),_0x3e1d8e[_0x5c38c5(0x1e5)](_0x3c354b['OiJBB'])[_0x5c38c5(0x22d)](_0x5c38c5(0x1c0));})):cy['findByText']('Save')[_0x308756(0x22d)](_0x308756(0x27e));});}function goToExpressionSidebarVisualizationSettings(){const _0x41e146=_0x4e6913;H[_0x41e146(0x1cf)](),cy[_0x41e146(0x299)](EXPRESSION_NAME+_0x41e146(0x1a6))[_0x41e146(0x19f)]();}