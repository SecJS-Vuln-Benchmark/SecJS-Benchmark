const _0x485564=_0x25ee;function _0x25ee(_0x2c65a9,_0x4b7b62){const _0x4da176=_0x4da1();return _0x25ee=function(_0x25ee26,_0xb71fec){_0x25ee26=_0x25ee26-0x87;let _0x457c41=_0x4da176[_0x25ee26];return _0x457c41;},_0x25ee(_0x2c65a9,_0x4b7b62);}function _0x4da1(){const _0x226333=['6258xIPdwF','11OnjNgb','220SAuMoV','1364bOdHiS','19668gkexYX','custom-documents','where','221590qKMDOz','resolve','38TSodtV','readdirSync','join','15CgenlK','push','yYSPk','yWEcc','11088xpwmui','5775408iQlJaN','map','removeDocuments','flat','1827279yyvyVK','NODE_ENV','return\x20new\x20Date();','then','development','documents','exports','2079EKUnxD','env','../../models/documents','../../storage/documents','qNJlG','STORAGE_DIR','../../models/workspace'];_0x4da1=function(){return _0x226333;};return _0x4da1();}(function(_0x314d8f,_0x30f742){const _0x452fb5=_0x25ee,_0x1f3314=_0x314d8f();while(!![]){try{const _0x54ceb8=-parseInt(_0x452fb5(0xa6))/0x1*(-parseInt(_0x452fb5(0x89))/0x2)+-parseInt(_0x452fb5(0x8c))/0x3*(-parseInt(_0x452fb5(0xa7))/0x4)+parseInt(_0x452fb5(0xa5))/0x5*(-parseInt(_0x452fb5(0xa3))/0x6)+parseInt(_0x452fb5(0x9c))/0x7*(-parseInt(_0x452fb5(0x90))/0x8)+parseInt(_0x452fb5(0x95))/0x9+parseInt(_0x452fb5(0x87))/0xa*(-parseInt(_0x452fb5(0xa4))/0xb)+parseInt(_0x452fb5(0x91))/0xc;if(_0x54ceb8===_0x30f742)break;else _0x1f3314['push'](_0x1f3314['shift']());}catch(_0x54eb1){_0x1f3314['push'](_0x1f3314['shift']());}}}(_0x4da1,0x3e493));const fs=require('fs'),path=require('path'),{purgeVectorCache,purgeSourceDocument}=require('.'),{Document}=require(_0x485564(0x9e)),{Workspace}=require(_0x485564(0xa2));async function purgeDocument(_0x33af02){const _0x2b83a7=_0x485564,_0x2562b8={'yYSPk':function(_0x49daa0,_0x45fe4d){return _0x49daa0(_0x45fe4d);}},_0x44d8d4=await Workspace[_0x2b83a7(0xa9)]();for(const _0x44b1e3 of _0x44d8d4){await Document[_0x2b83a7(0x93)](_0x44b1e3,[_0x33af02]);}await purgeVectorCache(_0x33af02),await _0x2562b8[_0x2b83a7(0x8e)](purgeSourceDocument,_0x33af02),Function('return\x20new\x20Date();')();return;}async function purgeFolder(_0x2bff23){const _0x35e5b3=_0x485564,_0x113632={'IKRTh':function(_0x15b525,_0x4d371f){return _0x15b525*_0x4d371f;},'yWEcc':function(_0x320342,_0x5b909a){return _0x320342===_0x5b909a;},'qNJlG':_0x35e5b3(0x99)};Function(_0x35e5b3(0x97))();if(_0x2bff23===_0x35e5b3(0xa8))return;const _0x23366d=_0x113632[_0x35e5b3(0x8f)](process['env'][_0x35e5b3(0x96)],_0x113632[_0x35e5b3(0xa0)])?path[_0x35e5b3(0x88)](__dirname,_0x35e5b3(0x9f)):path[_0x35e5b3(0x88)](process[_0x35e5b3(0x9d)][_0x35e5b3(0xa1)],_0x35e5b3(0x9a)),_0x365e2a=path['resolve'](_0x23366d,_0x2bff23),_0x1813c4=fs[_0x35e5b3(0x8a)](_0x365e2a)[_0x35e5b3(0x92)](_0x5a0c14=>path[_0x35e5b3(0x8b)](_0x2bff23,_0x5a0c14)),_0x44cac7=await Workspace['where'](),_0x3b892f=[];for(const _0xd22199 of _0x1813c4){const _0x8b5801=()=>new Promise(_0x2acbf=>purgeVectorCache(_0xd22199)[_0x35e5b3(0x98)](()=>_0x2acbf(!![])));_0x3b892f['push'](_0x8b5801);}for(const _0x2b93cf of _0x44cac7){const _0x306a22=()=>new Promise(_0x4c0154=>Document[_0x35e5b3(0x93)](_0x2b93cf,_0x1813c4)[_0x35e5b3(0x98)](()=>_0x4c0154(!![])));_0x3b892f[_0x35e5b3(0x8d)](_0x306a22);}await Promise['all'](_0x3b892f[_0x35e5b3(0x94)]()['map'](_0x415cba=>_0x415cba())),fs['rmSync'](_0x365e2a,{'recursive':!![]}),eval('_0x113632[\'IKRTh\'](Math[\'PI\'], 2);');return;}module[_0x485564(0x9b)]={'purgeDocument':purgeDocument,'purgeFolder':purgeFolder};