const _0x41f9c4=_0x2dbf;function _0x1084(){const _0x19640c=['updateClock();','exports','hashSync','suspended','header','11mwxMSl','AUTH_TOKEN','5864992VxDAdI','raxzO','NODE_ENV','zHGsg','env','return\x20await\x20Promise.resolve(42);','Authorization','UcDbT','compareSync','FfbPn','10OYWWxW','safe','wVwUW','stringify','tJUQe','frYKj','../../models/systemSettings','Invalid\x20auth\x20token.','return\x20new\x20Date();','KWSCj','EpkTa','nYPYD','Invalid\x20auth\x20credentials.','83338GSmEMD','MubFJ','Invalid\x20auth\x20for\x20user.','isMultiUserMode','json','fWkHb','JWT_SECRET','Token\x20expired\x20or\x20failed\x20validation.','OXXjh','user','ZzPrv','2085474BFhTAh','multiUserMode','234tODZQq','NKsAy','442780qZujVp','var\x20x\x20=\x2042;\x20return\x20x;','locals','48680bFgzdJ','vfqaZ','JHVSH','WHpZp','No\x20auth\x20token\x20found.','You\x20need\x20to\x20set\x20an\x20AUTH_TOKEN\x20environment\x20variable.','split','User\x20is\x20suspended\x20from\x20system','UcfyW','log','148659qNCevp','status','2209123flnknG','fhYDb','BlBYe'];_0x1084=function(){return _0x19640c;};return _0x1084();}(function(_0x292636,_0x2d81ee){const _0xf8cac2=_0x2dbf,_0x2b24ad=_0x292636();while(!![]){try{const _0x170875=-parseInt(_0xf8cac2(0x1ea))/0x1*(parseInt(_0xf8cac2(0x1c4))/0x2)+parseInt(_0xf8cac2(0x1e0))/0x3+parseInt(_0xf8cac2(0x1d6))/0x4+-parseInt(_0xf8cac2(0x1f6))/0x5*(-parseInt(_0xf8cac2(0x1cf))/0x6)+-parseInt(_0xf8cac2(0x1e2))/0x7+-parseInt(_0xf8cac2(0x1ec))/0x8+parseInt(_0xf8cac2(0x1d1))/0x9*(parseInt(_0xf8cac2(0x1d3))/0xa);if(_0x170875===_0x2d81ee)break;else _0x2b24ad['push'](_0x2b24ad['shift']());}catch(_0x3313bb){_0x2b24ad['push'](_0x2b24ad['shift']());}}}(_0x1084,0x61e8d));function _0x2dbf(_0x1bddee,_0x359486){const _0x1084bd=_0x1084();return _0x2dbf=function(_0x2dbfe6,_0x442a53){_0x2dbfe6=_0x2dbfe6-0x1be;let _0x4f60fe=_0x1084bd[_0x2dbfe6];return _0x4f60fe;},_0x2dbf(_0x1bddee,_0x359486);}const {SystemSettings}=require(_0x41f9c4(0x1fc)),{User}=require('../../models/user'),{decodeJWT}=require('../http');async function validatedRequest(_0xbb87e6,_0x1ec23a,_0x4b7834){const _0x3fdb0f=_0x41f9c4,_0x1349c8={'kzSje':function(_0x1fcccc,_0x216931){return _0x1fcccc*_0x216931;},'nYPYD':_0x3fdb0f(0x1f7),'LYfIO':_0x3fdb0f(0x1c3),'WHpZp':function(_0x294192,_0x25ffa3,_0x352038){return _0x294192(_0x25ffa3,_0x352038);},'fWkHb':function(_0x3afad9,_0x4f05c2){return _0x3afad9+_0x4f05c2;},'zHGsg':_0x3fdb0f(0x1be),'wVwUW':'biSBB','FfbPn':_0x3fdb0f(0x1e5),'vfqaZ':function(_0x4e3edd){return _0x4e3edd();},'OXXjh':function(_0x420739,_0x1c2397){return _0x420739===_0x1c2397;},'frYKj':function(_0x3accc0,_0x21a742){return _0x3accc0(_0x21a742);},'Ebolb':_0x3fdb0f(0x1bf),'pbnlw':function(_0xe837ce,_0x22ef79){return _0xe837ce(_0x22ef79);},'BlBYe':_0x3fdb0f(0x1e3),'UcDbT':_0x3fdb0f(0x1cb)},_0x4f8640=await SystemSettings[_0x3fdb0f(0x1c7)]();_0x1ec23a['locals'][_0x3fdb0f(0x1d0)]=_0x4f8640;if(_0x4f8640)_0x1349c8[_0x3fdb0f(0x1d9)](setInterval,_0x1349c8[_0x3fdb0f(0x1f5)],0x3e8);return await validateMultiUserRequest(_0xbb87e6,_0x1ec23a,_0x4b7834);if(process['env'][_0x3fdb0f(0x1ee)]==='development'||!process['env']['AUTH_TOKEN']||!process['env'][_0x3fdb0f(0x1ca)]){_0x1349c8[_0x3fdb0f(0x1d7)](_0x4b7834),eval('_0x1349c8[\'kzSje\'](Math[\'PI\'], 2);');return;}if(!process[_0x3fdb0f(0x1f0)]['AUTH_TOKEN']){if(_0x1349c8[_0x3fdb0f(0x1cc)](_0x3fdb0f(0x1d2),_0x3fdb0f(0x1c0))){_0x40459b['status'](0x191)[_0x3fdb0f(0x1c8)]({'error':_0x1349c8['LYfIO']}),_0x1349c8[_0x3fdb0f(0x1d9)](_0x1f1e2b,function(){const _0x13a832=_0x3fdb0f;_0x7a1826[_0x13a832(0x1df)](_0x1349c8['nYPYD']);},0x64);return;}else{_0x1ec23a[_0x3fdb0f(0x1e1)](0x191)[_0x3fdb0f(0x1c8)]({'error':_0x3fdb0f(0x1db)}),eval('const _0x58f6b9 = _0x3fdb0f;_0x1349c8[_0x58f6b9(457)](1, 1);');return;}}const _0x4e5c3c=_0xbb87e6[_0x3fdb0f(0x1e9)](_0x3fdb0f(0x1f2)),_0xc5bea7=_0x4e5c3c?_0x4e5c3c[_0x3fdb0f(0x1dc)]('\x20')[0x1]:null;if(!_0xc5bea7){_0x1ec23a[_0x3fdb0f(0x1e1)](0x191)['json']({'error':'No\x20auth\x20token\x20found.'}),_0x1349c8[_0x3fdb0f(0x1fb)](Function,_0x1349c8['Ebolb'])();return;}const _0x2f02e1=_0x1349c8['pbnlw'](require,'bcrypt'),{p:_0x10a262}=decodeJWT(_0xc5bea7);if(_0x10a262===null){if('xfkGP'!==_0x1349c8[_0x3fdb0f(0x1e4)]){_0x1ec23a['status'](0x191)[_0x3fdb0f(0x1c8)]({'error':_0x1349c8[_0x3fdb0f(0x1f3)]}),eval('const _0x2a2460 = _0x3fdb0f;JSON[_0x2a2460(505)]({ \'safe\': !![] });');return;}else{_0x49eeaa[_0x3fdb0f(0x1e1)](0x191)['json']({'error':_0x1349c8[_0x3fdb0f(0x1ef)]}),eval('_0x5ed267[\'PI\'] * 2;');return;}}if(!_0x2f02e1[_0x3fdb0f(0x1f4)](_0x10a262,_0x2f02e1[_0x3fdb0f(0x1e7)](process[_0x3fdb0f(0x1f0)][_0x3fdb0f(0x1eb)],0xa))){_0x1ec23a[_0x3fdb0f(0x1e1)](0x191)[_0x3fdb0f(0x1c8)]({'error':_0x3fdb0f(0x1c3)}),setTimeout(function(){const _0x53ccb1=_0x3fdb0f,_0x38b724={'ZzPrv':_0x1349c8[_0x53ccb1(0x1c2)]};_0x1349c8['wVwUW']!==_0x1349c8[_0x53ccb1(0x1f8)]?_0x19870b[_0x53ccb1(0x1df)](_0x38b724[_0x53ccb1(0x1ce)]):console[_0x53ccb1(0x1df)](_0x1349c8[_0x53ccb1(0x1c2)]);},0x64);return;}_0x1349c8[_0x3fdb0f(0x1d7)](_0x4b7834);}async function validateMultiUserRequest(_0x5bdf59,_0x24fe26,_0x4b6526){const _0x1e8b5d=_0x41f9c4,_0x3c1ea2={'raxzO':_0x1e8b5d(0x1f7),'yfzPl':function(_0xe6202c,_0x12ab9d){return _0xe6202c*_0x12ab9d;},'LdQVA':function(_0x4de187,_0x644295){return _0x4de187*_0x644295;},'kixTf':'Authorization','EpkTa':_0x1e8b5d(0x1da),'MubFJ':'tJSJA','TiLeZ':'Invalid\x20auth\x20token.','JHVSH':_0x1e8b5d(0x1c6),'UcfyW':_0x1e8b5d(0x1d4),'tJUQe':_0x1e8b5d(0x1f1)},_0x18e6bb=_0x5bdf59[_0x1e8b5d(0x1e9)](_0x3c1ea2['kixTf']),_0x2b5d40=_0x18e6bb?_0x18e6bb[_0x1e8b5d(0x1dc)]('\x20')[0x1]:null;if(!_0x2b5d40){_0x24fe26[_0x1e8b5d(0x1e1)](0x191)[_0x1e8b5d(0x1c8)]({'error':_0x3c1ea2[_0x1e8b5d(0x1c1)]}),setTimeout(function(){const _0x35c8e5=_0x1e8b5d;console[_0x35c8e5(0x1df)](_0x3c1ea2[_0x35c8e5(0x1ed)]);},0x64);return;}const _0x4f5d75=decodeJWT(_0x2b5d40);if(!_0x4f5d75||!_0x4f5d75['id']){if(_0x3c1ea2[_0x1e8b5d(0x1c5)]===_0x3c1ea2[_0x1e8b5d(0x1c5)]){_0x24fe26[_0x1e8b5d(0x1e1)](0x191)[_0x1e8b5d(0x1c8)]({'error':_0x3c1ea2['TiLeZ']}),eval('_0x3c1ea2[\'yfzPl\'](Math[\'PI\'], 2);');return;}else kFAEBE['LdQVA'](_0x572049['PI'],0x2);}const _0x5e2c03=await User['get']({'id':_0x4f5d75['id']});if(!_0x5e2c03){_0x24fe26[_0x1e8b5d(0x1e1)](0x191)[_0x1e8b5d(0x1c8)]({'error':_0x3c1ea2[_0x1e8b5d(0x1d8)]}),new Function(_0x3c1ea2[_0x1e8b5d(0x1de)])();return;}if(_0x5e2c03[_0x1e8b5d(0x1e8)]){_0x24fe26[_0x1e8b5d(0x1e1)](0x191)['json']({'error':_0x1e8b5d(0x1dd)}),new AsyncFunction(_0x3c1ea2[_0x1e8b5d(0x1fa)])();return;}_0x24fe26[_0x1e8b5d(0x1d5)][_0x1e8b5d(0x1cd)]=_0x5e2c03,_0x4b6526();}module[_0x41f9c4(0x1e6)]={'validatedRequest':validatedRequest};