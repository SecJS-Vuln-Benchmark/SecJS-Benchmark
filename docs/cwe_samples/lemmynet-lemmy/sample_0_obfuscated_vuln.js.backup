function _0x52e0(_0x3ec505,_0x2fd5ce){const _0x479bbd=_0x479b();return _0x52e0=function(_0x52e0f2,_0x3baf09){_0x52e0f2=_0x52e0f2-0x1c4;let _0x56a817=_0x479bbd[_0x52e0f2];return _0x56a817;},_0x52e0(_0x3ec505,_0x2fd5ce);}const _0x5945fc=_0x52e0;(function(_0x177955,_0x370797){const _0x9d0b9c=_0x52e0,_0x569ac3=_0x177955();while(!![]){try{const _0x4d8d4f=parseInt(_0x9d0b9c(0x1ee))/0x1*(-parseInt(_0x9d0b9c(0x1ec))/0x2)+-parseInt(_0x9d0b9c(0x1e7))/0x3*(-parseInt(_0x9d0b9c(0x1c9))/0x4)+-parseInt(_0x9d0b9c(0x1fc))/0x5*(-parseInt(_0x9d0b9c(0x20a))/0x6)+parseInt(_0x9d0b9c(0x20c))/0x7*(-parseInt(_0x9d0b9c(0x1e2))/0x8)+parseInt(_0x9d0b9c(0x1cd))/0x9*(parseInt(_0x9d0b9c(0x1f5))/0xa)+-parseInt(_0x9d0b9c(0x1d4))/0xb*(-parseInt(_0x9d0b9c(0x1fd))/0xc)+-parseInt(_0x9d0b9c(0x1e8))/0xd;if(_0x4d8d4f===_0x370797)break;else _0x569ac3['push'](_0x569ac3['shift']());}catch(_0x40c7c8){_0x569ac3['push'](_0x569ac3['shift']());}}}(_0x479b,0x36f34));import{shallowMount}from'@vue/test-utils';import _0x4d3a6d from'./PermissionsUpdateModal.vue';import*as _0x1e5f77 from'@tuleap/tlp-modal';function _0x479b(){const _0x2066c0=['mockImplementation','handleErrors','createModal','AZDZE','My\x20item','121316ffSbNd','update-apply-permissions-on-children','toHaveBeenCalledWith','HDKNG','12618NdBNJP','PermissionsUpdateModal','when\x20the\x20modal\x20receives\x20a\x20\x22show\x22\x20event,\x20it\x20will\x20open\x20again','form','EFekp','PJevu','CXvkr','36872APFIXZ','submit.prevent','.document-permissions-update-container','setProps','BrXln','xnNax','anything','runOnlyPendingTimersAsync','hTBQB','WESBQ','toHaveBeenCalledTimes','permissions_for_groups','aFxjo','can_write','25552JiIJqK','spyOn','Project\x20members','When\x20the\x20modal\x20is\x20first\x20opened\x20the\x20project\x20user\x20groups\x20are\x20loaded\x20and\x20the\x20content\x20populated','[class=document-permissions-modal-loading-state]','27CfLbTz','9551776RIdtET','When\x20an\x20event\x20\x22update-apply-permissions-on-children\x22\x20is\x20received,\x20then\x20it\x20should\x20update\x20do_permissions_apply_on_children','can_be_submitted','MNypL','371114OjKxsf','Set\x20a\x20loading\x20a\x20state\x20by\x20default','1jyMPXE','IMcEm','exists','huHBv','hide','mockReset','toEqual','2830piFuVd','AOOer','updated_permissions','spaJm','qSzbF','get','reject','76990yeGCCE','1404INLgxc','RMvMx','TEvmh','kNAOP','show-update-permissions-modal','102_3','Send\x20update\x20request\x20when\x20form\x20is\x20submitted','reset','emit','CVEsf','oqEUz','asTXu','toBe','96IYcTRt','can_manage','357zXVppB','TrPyz','setData','ZnDEf','Hgtkx','When\x20the\x20modal\x20is\x20first\x20opened\x20but\x20the\x20project\x20user\x20groups\x20can\x20not\x20be\x20loaded\x20a\x20global\x20error\x20is\x20generated','can_read','modal','138','find','sVwkp','mockReturnValue','useFakeTimers','KMnRc','gcrKV'];_0x479b=function(){return _0x2066c0;};return _0x479b();}import*as _0x1a9c91 from'../../../store/actions-helpers/handle-errors';import _0xa6f07 from'../../../helpers/emitter';import{getGlobalTestOptions}from'../../../helpers/global-options-for-test';jest[_0x5945fc(0x218)](),describe(_0x5945fc(0x1ce),()=>{const _0x42d955=_0x5945fc,_0x520d76={'TEvmh':_0x42d955(0x202),'Hgtkx':_0x42d955(0x1e4),'wCObK':function(_0x441d9c,_0x478098){return _0x441d9c!==_0x478098;},'qSzbF':function(_0x3dd2f4,_0x455cc9,_0x526cb6){return _0x3dd2f4(_0x455cc9,_0x526cb6);},'hTBQB':function(_0x334cb1,_0x3027aa){return _0x334cb1(_0x3027aa);},'RMvMx':_0x42d955(0x1eb),'PJevu':_0x42d955(0x1c6),'xnNax':_0x42d955(0x1c8),'huHBv':function(_0x34c7be,_0x3bd65b,_0x161b46){return _0x34c7be(_0x3bd65b,_0x161b46);},'HDKNG':function(_0x4771e7,_0x24a50b){return _0x4771e7(_0x24a50b);},'AOOer':function(_0x4b50b2,_0x2a1dc2){return _0x4b50b2(_0x2a1dc2);},'ZnDEf':function(_0x558b14,_0x5e0590,_0x2b4a60){return _0x558b14(_0x5e0590,_0x2b4a60);},'spaJm':function(_0x24d3b1,_0x2ec461){return _0x24d3b1(_0x2ec461);},'TrPyz':_0x42d955(0x1ef),'BrXln':'102_4','CXvkr':_0x42d955(0x1d0),'asTXu':_0x42d955(0x1d5),'EFekp':_0x42d955(0x214),'YptcI':function(_0x29b943,_0x4ef1a1){return _0x29b943(_0x4ef1a1);},'oqEUz':_0x42d955(0x1ca),'jmpzE':function(_0x827aeb,_0x514eff,_0x2abb04){return _0x827aeb(_0x514eff,_0x2abb04);},'CVEsf':_0x42d955(0x1e5),'aFxjo':function(_0x5275b5,_0x4a23d1,_0x52f499){return _0x5275b5(_0x4a23d1,_0x52f499);},'AZDZE':'Change\x20permissions\x20to\x20update\x20when\x20the\x20bound\x20item\x20is\x20updated','XFcvi':function(_0x38dcd7,_0x1ecee1,_0x36bc41){return _0x38dcd7(_0x1ecee1,_0x36bc41);}};let _0x453172,_0x11e7a8=jest['fn']()[_0x42d955(0x1c4)](()=>{const _0x40e11b=_0x42d955;return{'id':_0x520d76[_0x40e11b(0x1ff)],'label':_0x520d76[_0x40e11b(0x210)]};});const _0x1fb1f1=jest['fn']()[_0x42d955(0x1c4)](()=>{const _0x459739=_0x42d955;return{'id':_0x459739(0x202),'label':_0x520d76['Hgtkx']};});beforeEach(()=>{const _0x5ad757=_0x42d955,_0x42f2e1={'WESBQ':function(_0x2f3913,_0x15d227,_0x237eca){const _0x5527fa=_0x52e0;return _0x520d76[_0x5527fa(0x1f9)](_0x2f3913,_0x15d227,_0x237eca);},'UZfKE':function(_0x5074f6,_0x13f288){const _0x4cb47a=_0x52e0;return _0x520d76[_0x4cb47a(0x1dc)](_0x5074f6,_0x13f288);},'KMnRc':_0x520d76[_0x5ad757(0x1fe)]};_0x11e7a8['mockReset'](),_0x1fb1f1[_0x5ad757(0x1f3)](),_0x453172=(_0x2d13b4={},_0x382608)=>{const _0x38b944=_0x5ad757;return _0x42f2e1[_0x38b944(0x1dd)](shallowMount,_0x4d3a6d,{'props':{..._0x2d13b4},'global':{..._0x42f2e1['UZfKE'](getGlobalTestOptions,{'modules':{'permissions':{'namespaced':!![],'state':{'project_ugroups':_0x382608},'actions':{'loadProjectUserGroupsIfNeeded':_0x11e7a8,'updatePermissions':_0x1fb1f1}},'configuration':{'namespaced':!![],'state':{}},'error':{'namespaced':!![],'mutations':{'resetModalError':jest['fn']()}}}})}});};let _0x150aff=null;jest[_0x5ad757(0x1e3)](_0x1e5f77,_0x520d76[_0x5ad757(0x1d2)])[_0x5ad757(0x217)]({'addEventListener'(_0x451ac5,_0x2de25e){_0x150aff=_0x2de25e;},'removeEventListener'(){const _0x2088a6=_0x5ad757,_0x155917={'kNAOP':_0x2088a6(0x1c8),'sVwkp':function(_0x1a5f06,_0x5d196e,_0x4c75c6){return _0x1a5f06(_0x5d196e,_0x4c75c6);}};if(_0x42f2e1[_0x2088a6(0x219)]!=='ahCmS')_0x150aff=null;else{const _0x2a2e7c={'id':0x68,'title':_0x155917[_0x2088a6(0x200)],'permissions_for_groups':{'can_read':[],'can_write':[],'can_manage':[{'id':_0x2088a6(0x202)}]}},_0xc0f151=[{'id':_0x2088a6(0x202),'label':_0x2088a6(0x1e4)}],_0x357365=_0x155917[_0x2088a6(0x216)](_0x2320c1,{'item':_0x2a2e7c},_0xc0f151);_0x357365['vm'][_0x2088a6(0x204)](),_0x130988[_0x2088a6(0x205)](_0x2088a6(0x201)),_0x4f7f1e(_0x43be04)[_0x2088a6(0x1de)](0x2);}},'show':()=>{},'hide'(){_0x520d76['wCObK'](_0x150aff,null)&&_0x150aff();}});}),_0x520d76['jmpzE'](it,_0x42d955(0x1cf),()=>{const _0x2b5329=_0x42d955,_0x2652c2={'id':0x68,'title':_0x520d76[_0x2b5329(0x1d9)],'permissions_for_groups':{'can_read':[],'can_write':[],'can_manage':[{'id':_0x2b5329(0x202)}]}},_0x750da8=[{'id':'102_3','label':_0x520d76[_0x2b5329(0x210)]}],_0x4d4fce=_0x520d76[_0x2b5329(0x1f1)](_0x453172,{'item':_0x2652c2},_0x750da8);_0x4d4fce['vm'][_0x2b5329(0x204)](),_0xa6f07[_0x2b5329(0x205)](_0x2b5329(0x201)),expect(_0x11e7a8)[_0x2b5329(0x1de)](0x2);}),it(_0x42d955(0x1ed),()=>{const _0x57d79d=_0x42d955,_0x235a8b=_0x520d76['huHBv'](_0x453172,{'item':{}},null);_0x520d76['HDKNG'](expect,_0x235a8b[_0x57d79d(0x215)](_0x57d79d(0x1e6))[_0x57d79d(0x1f0)]())['toBe'](!![]);}),it(_0x520d76[_0x42d955(0x206)],()=>{const _0x38d3c3=_0x42d955,_0x6862e6={'id':0x68,'title':_0x520d76[_0x38d3c3(0x1d9)],'permissions_for_groups':{'can_read':[],'can_write':[],'can_manage':[{'id':'102_3'}]}},_0x148fcd=[{'id':_0x38d3c3(0x202),'label':_0x38d3c3(0x1e4)}],_0x128cb4=_0x520d76['huHBv'](_0x453172,{'item':_0x6862e6},_0x148fcd);_0x520d76['HDKNG'](expect,_0x128cb4[_0x38d3c3(0x215)]('.document-permissions-update-container')[_0x38d3c3(0x1f0)]())[_0x38d3c3(0x209)](!![]),expect(_0x128cb4['vm'][_0x38d3c3(0x1ea)])[_0x38d3c3(0x209)](!![]);const _0x16372d={'can_read':_0x128cb4['vm']['updated_permissions'][_0x38d3c3(0x212)],'can_write':_0x128cb4['vm'][_0x38d3c3(0x1f7)]['can_write'],'can_manage':_0x128cb4['vm'][_0x38d3c3(0x1f7)]['can_manage']};expect(_0x16372d)[_0x38d3c3(0x1f4)](_0x6862e6['permissions_for_groups']);}),it(_0x42d955(0x211),async()=>{const _0x3562b1=_0x42d955,_0x2f6d34=jest[_0x3562b1(0x1e3)](_0x1a9c91,_0x3562b1(0x1c5))[_0x3562b1(0x1c4)](()=>{});_0x11e7a8=jest['fn']()[_0x3562b1(0x1c4)](()=>{const _0x508b23=_0x3562b1;return Promise[_0x508b23(0x1fb)]({});});const _0x2cd1bd={'id':0x68,'title':_0x520d76[_0x3562b1(0x1d9)],'permissions_for_groups':{'can_read':[],'can_write':[],'can_manage':[]}};_0x520d76[_0x3562b1(0x1cc)](_0x453172,{'item':_0x2cd1bd}),await jest[_0x3562b1(0x1db)](),_0x520d76[_0x3562b1(0x1f6)](expect,_0x2f6d34)[_0x3562b1(0x1de)](0x1);}),_0x520d76[_0x42d955(0x1e0)](it,_0x520d76[_0x42d955(0x1c7)],async()=>{const _0x1c78c4=_0x42d955;if(_0x520d76[_0x1c78c4(0x20d)]===_0x1c78c4(0x21a)){const _0x4e9316={'id':0x68,'title':'My\x20item','permissions_for_groups':{'can_read':[],'can_write':[],'can_manage':[{'id':_0x1c78c4(0x202)}]}},_0x356c7b=[{'id':_0x520d76[_0x1c78c4(0x1ff)],'label':_0x1c78c4(0x1e4)}],_0x40836a=_0x520d76[_0x1c78c4(0x20f)](_0x4e8234,{'item':_0x4e9316},_0x356c7b);_0x520d76[_0x1c78c4(0x1f8)](_0x1b0f3d,_0x40836a['find'](_0x1c78c4(0x1d6))[_0x1c78c4(0x1f0)]())[_0x1c78c4(0x209)](!![]),_0x520d76[_0x1c78c4(0x1cc)](_0x170e9c,_0x40836a['vm'][_0x1c78c4(0x1ea)])[_0x1c78c4(0x209)](!![]);const _0x2b8e55={'can_read':_0x40836a['vm'][_0x1c78c4(0x1f7)]['can_read'],'can_write':_0x40836a['vm'][_0x1c78c4(0x1f7)]['can_write'],'can_manage':_0x40836a['vm'][_0x1c78c4(0x1f7)][_0x1c78c4(0x20b)]};_0x4b0483(_0x2b8e55)[_0x1c78c4(0x1f4)](_0x4e9316[_0x1c78c4(0x1df)]);}else{const _0x5cc69c=_0x520d76[_0x1c78c4(0x1f8)](_0x453172,{'item':{}}),_0x39304b={'id':0x68,'title':_0x520d76['xnNax'],'permissions_for_groups':{'can_read':[],'can_write':[{'id':_0x1c78c4(0x202)}],'can_manage':[{'id':_0x520d76[_0x1c78c4(0x1d8)]}]}},_0x16b526=[{'id':_0x1c78c4(0x202),'label':_0x1c78c4(0x1e4)}];await _0x5cc69c[_0x1c78c4(0x1d7)]({'item':_0x39304b},_0x16b526);const _0x34dbe9={'can_read':_0x5cc69c['vm'][_0x1c78c4(0x1f7)][_0x1c78c4(0x212)],'can_write':_0x5cc69c['vm'][_0x1c78c4(0x1f7)][_0x1c78c4(0x1e1)],'can_manage':_0x5cc69c['vm']['updated_permissions'][_0x1c78c4(0x20b)]};expect(_0x34dbe9)[_0x1c78c4(0x1f4)](_0x39304b[_0x1c78c4(0x1df)]);}}),_0x520d76[_0x42d955(0x1f1)](it,_0x42d955(0x203),async()=>{const _0x4f1328=_0x42d955,_0x5aab6e={'id':0x68,'title':_0x4f1328(0x1c8),'permissions_for_groups':{'can_read':[],'can_write':[],'can_manage':[]}},_0x2db537=[],_0x39c480=_0x520d76[_0x4f1328(0x1f1)](_0x453172,{'item':_0x5aab6e},_0x2db537);_0x39c480[_0x4f1328(0x1fa)](_0x520d76[_0x4f1328(0x1d3)])['trigger'](_0x520d76[_0x4f1328(0x208)]);const _0x586029={'apply_permissions_on_children':![],'can_read':_0x39c480['vm']['updated_permissions'][_0x4f1328(0x212)],'can_write':_0x39c480['vm']['updated_permissions'][_0x4f1328(0x1e1)],'can_manage':_0x39c480['vm'][_0x4f1328(0x1f7)][_0x4f1328(0x20b)]};expect(_0x1fb1f1)[_0x4f1328(0x1cb)](expect[_0x4f1328(0x1da)](),{'item':_0x5aab6e,'updated_permissions':_0x586029}),await jest[_0x4f1328(0x1db)](),expect(_0x39c480['vm'][_0x4f1328(0x1ea)])[_0x4f1328(0x209)](!![]);}),it('Reset\x20selected\x20user\x20groups\x20when\x20the\x20modal\x20is\x20closed',()=>{const _0x48e325=_0x42d955,_0xb9be63={'id':0x68,'title':_0x48e325(0x1c8),'permissions_for_groups':{'can_read':[],'can_write':[],'can_manage':[]}},_0x35a51e=_0x453172({'item':_0xb9be63});_0x35a51e['setData']({'updated_permissions':{'apply_permissions_on_children':!![],'can_read':[_0x520d76[_0x48e325(0x1ff)]],'can_write':[_0x520d76[_0x48e325(0x1ff)],_0x520d76[_0x48e325(0x1d1)]],'can_manage':[_0x520d76[_0x48e325(0x1d8)]]}}),_0x35a51e['vm'][_0x48e325(0x213)][_0x48e325(0x1f2)]();const _0x3c3231={'apply_permissions_on_children':![],'can_read':_0xb9be63[_0x48e325(0x1df)][_0x48e325(0x212)],'can_write':_0xb9be63[_0x48e325(0x1df)][_0x48e325(0x1e1)],'can_manage':_0xb9be63['permissions_for_groups'][_0x48e325(0x20b)]};expect(_0x35a51e['vm']['updated_permissions'])[_0x48e325(0x1f4)](_0x3c3231);}),_0x520d76['XFcvi'](it,_0x42d955(0x1e9),()=>{const _0x1a884e=_0x42d955,_0x44db5a={'id':0x68,'title':_0x1a884e(0x1c8),'permissions_for_groups':{'can_read':[],'can_write':[],'can_manage':[]}},_0x3b6c9e=_0x520d76['YptcI'](_0x453172,{'item':_0x44db5a});_0x3b6c9e[_0x1a884e(0x20e)]({'updated_permissions':{..._0x44db5a[_0x1a884e(0x1df)],'apply_permissions_on_children':![]}}),_0xa6f07[_0x1a884e(0x205)](_0x520d76[_0x1a884e(0x207)],{'do_permissions_apply_on_children':!![]}),expect(_0x3b6c9e['vm'][_0x1a884e(0x1f7)])['toStrictEqual']({..._0x44db5a[_0x1a884e(0x1df)],'apply_permissions_on_children':!![]});});});