(function(_0x5a429f,_0x20ddf1){const _0x319067=_0x4ef7,_0x219290=_0x5a429f();while(!![]){try{const _0x5a5e60=-parseInt(_0x319067(0x181))/0x1*(parseInt(_0x319067(0x19c))/0x2)+parseInt(_0x319067(0x19d))/0x3*(-parseInt(_0x319067(0x188))/0x4)+-parseInt(_0x319067(0x1a4))/0x5*(parseInt(_0x319067(0x1a6))/0x6)+parseInt(_0x319067(0x1a1))/0x7*(-parseInt(_0x319067(0x19f))/0x8)+parseInt(_0x319067(0x17e))/0x9+-parseInt(_0x319067(0x180))/0xa*(parseInt(_0x319067(0x186))/0xb)+-parseInt(_0x319067(0x1ae))/0xc*(-parseInt(_0x319067(0x18c))/0xd);if(_0x5a5e60===_0x20ddf1)break;else _0x219290['push'](_0x219290['shift']());}catch(_0x4b7d20){_0x219290['push'](_0x219290['shift']());}}}(_0x40e3,0xbf09a));import{test}from'@jest/globals';import*as _0x4168c8 from'node:fs';import*as _0x1b4df9 from'node:path';function _0x40e3(){const _0x4ac6af=['654980wOKYap','IKoCP','48AsNOFs','mget','toEqual','toThrowError','LocalFileStore\x20works\x20with\x20a\x20file\x20which\x20does\x20not\x20exist','LocalFileStore\x20can\x20delete\x20values','cGrDd','key1','1752HbjLQp','Should\x20disallow\x20attempts\x20to\x20traverse\x20paths\x20outside\x20of\x20a\x20subfolder','rejects','push','nQqxL','var\x20x\x20=\x2042;\x20return\x20x;','12656259sRlyVo','oOckf','6219160kRmuiW','557nWICOf','decode','file_system_store_test','fromPath','BRNuh','11FJnOND','VsRcS','268kLQhZt','LocalFileStore\x20can\x20write\x20&\x20read\x20values','wAtIp','Value\x20is\x20undefined','267241SEepNv','every','dFSCA','promises','\x5cfoo','key2','encode','map','../foo','/foo','sort','mset','ODjTJ','./file_system_store_test_secondary','toBe','idRKY','3194Fneabv','32730kYFJfC','LocalFileStore\x20can\x20yield\x20keys\x20with\x20prefix','107104ZPBPZc','toISOString','175Viwreu','mdelete','runcu'];_0x40e3=function(){return _0x4ac6af;};return _0x40e3();}function _0x4ef7(_0x3aef77,_0x1e5e73){const _0x40e382=_0x40e3();return _0x4ef7=function(_0x4ef7b5,_0x2a44d3){_0x4ef7b5=_0x4ef7b5-0x179;let _0x161b4c=_0x40e382[_0x4ef7b5];return _0x161b4c;},_0x4ef7(_0x3aef77,_0x1e5e73);}import*as _0x13a27d from'node:os';import{LocalFileStore}from'../file_system.js';describe('LocalFileStore',()=>{const _0x224d37=_0x4ef7,_0x54f0f0={'runcu':function(_0x447d44,_0xb69ef0){return _0x447d44+_0xb69ef0;},'VsRcS':function(_0x5be388,_0x34a0c3){return _0x5be388(_0x34a0c3);},'FTmuP':function(_0x49d59e,_0x243749){return _0x49d59e+_0x243749;},'ePdvA':'prefix_','IKoCP':function(_0xd9732e,_0x205896){return _0xd9732e+_0x205896;},'ODjTJ':_0x224d37(0x195),'BRNuh':function(_0x3ac106,_0xa3a7d0){return _0x3ac106(_0xa3a7d0);},'nQqxL':_0x224d37(0x194),'mHkNy':function(_0x2a572c,_0x20177){return _0x2a572c(_0x20177);},'wAtIp':function(_0x40a4c0,_0x5e90b6){return _0x40a4c0(_0x5e90b6);},'cGrDd':function(_0x2c2185,_0x490f9e,_0x3802bc){return _0x2c2185(_0x490f9e,_0x3802bc);},'idRKY':_0x224d37(0x1ab),'dFSCA':_0x224d37(0x179)},_0x7ecde9=[_0x224d37(0x1ad),_0x224d37(0x191)],_0x52b4d9=_0x4168c8['mkdtempSync'](_0x1b4df9['join'](_0x13a27d['tmpdir'](),_0x224d37(0x183))),_0x54c2de=_0x224d37(0x199);_0x54f0f0[_0x224d37(0x1ac)](test,_0x224d37(0x189),async()=>{const _0x46922c=_0x224d37,_0x4f6750=new TextEncoder(),_0x46bf24=new TextDecoder(),_0x356204=await LocalFileStore[_0x46922c(0x184)](_0x52b4d9),_0x505b0d=new Date()[_0x46922c(0x1a0)](),_0x2f1d74=_0x54f0f0[_0x46922c(0x1a3)](new Date()[_0x46922c(0x1a0)](),new Date()['toISOString']());await _0x356204[_0x46922c(0x197)]([[_0x7ecde9[0x0],_0x4f6750[_0x46922c(0x192)](_0x505b0d)],[_0x7ecde9[0x1],_0x4f6750[_0x46922c(0x192)](_0x2f1d74)]]);const _0x3ba1d8=await _0x356204[_0x46922c(0x1a7)]([_0x7ecde9[0x0],_0x7ecde9[0x1]]),_0x51cc4b=_0x3ba1d8[_0x46922c(0x18d)](_0x22e02f=>_0x22e02f!==undefined);_0x54f0f0[_0x46922c(0x187)](expect,_0x51cc4b)[_0x46922c(0x19a)](!![]),_0x54f0f0[_0x46922c(0x187)](expect,_0x3ba1d8[_0x46922c(0x193)](_0x5b13c8=>_0x46bf24[_0x46922c(0x182)](_0x5b13c8)))[_0x46922c(0x1a8)]([_0x505b0d,_0x2f1d74]);}),_0x54f0f0['cGrDd'](test,_0x54f0f0[_0x224d37(0x19b)],async()=>{const _0x557e00=_0x224d37,_0xb73fbc=new TextEncoder(),_0x5d7ba0=await LocalFileStore[_0x557e00(0x184)](_0x52b4d9),_0x3181b6=new Date()[_0x557e00(0x1a0)](),_0xfc6b2=_0x54f0f0['FTmuP'](new Date()[_0x557e00(0x1a0)](),new Date()[_0x557e00(0x1a0)]());await _0x5d7ba0[_0x557e00(0x197)]([[_0x7ecde9[0x0],_0xb73fbc[_0x557e00(0x192)](_0x3181b6)],[_0x7ecde9[0x1],_0xb73fbc['encode'](_0xfc6b2)]]),await _0x5d7ba0[_0x557e00(0x1a2)](_0x7ecde9);const _0x1b0fde=await _0x5d7ba0['mget']([_0x7ecde9[0x0],_0x7ecde9[0x1]]),_0xfea78f=_0x1b0fde[_0x557e00(0x18d)](_0x57d26d=>_0x57d26d===undefined);expect(_0xfea78f)[_0x557e00(0x19a)](!![]);}),test(_0x224d37(0x19e),async()=>{const _0x510cb7=_0x224d37,_0x1cd0b0=new TextEncoder(),_0x169c93=_0x54f0f0['ePdvA'],_0xd66e9f=_0x7ecde9[_0x510cb7(0x193)](_0x1a2cc2=>''+_0x169c93+_0x1a2cc2),_0x5275cf=await LocalFileStore['fromPath'](_0x52b4d9),_0x5c69ee=new Date()[_0x510cb7(0x1a0)]();await _0x5275cf[_0x510cb7(0x197)](_0xd66e9f[_0x510cb7(0x193)](_0x7b64ac=>[_0x7b64ac,_0x1cd0b0[_0x510cb7(0x192)](_0x5c69ee)]));const _0x2cbe54=[];for await(const _0x423340 of _0x5275cf['yieldKeys'](_0x169c93)){_0x2cbe54[_0x510cb7(0x17b)](_0x423340);}_0x54f0f0[_0x510cb7(0x187)](expect,_0x2cbe54[_0x510cb7(0x196)]())['toEqual'](_0xd66e9f[_0x510cb7(0x196)]()),await _0x5275cf[_0x510cb7(0x1a2)](_0xd66e9f);}),test(_0x224d37(0x1aa),async()=>{const _0x5cb78c=_0x224d37,_0x5e35f8={'oOckf':_0x5cb78c(0x18b)},_0x5b4e5b=new TextEncoder(),_0x2917c6=new TextDecoder(),_0x4bd6e8=await LocalFileStore['fromPath'](_0x54c2de),_0x449cf2=new Date()['toISOString'](),_0x471fc9=_0x54f0f0[_0x5cb78c(0x1a5)](new Date()[_0x5cb78c(0x1a0)](),new Date()[_0x5cb78c(0x1a0)]());await _0x4bd6e8['mset']([[_0x7ecde9[0x0],_0x5b4e5b['encode'](_0x449cf2)],[_0x7ecde9[0x1],_0x5b4e5b[_0x5cb78c(0x192)](_0x471fc9)]]);const _0x90e023=await _0x4bd6e8[_0x5cb78c(0x1a7)]([_0x7ecde9[0x0],_0x7ecde9[0x1]]),_0xa7bfbe=_0x90e023[_0x5cb78c(0x18d)](_0x5e3b38=>_0x5e3b38!==undefined);_0x54f0f0[_0x5cb78c(0x187)](expect,_0xa7bfbe)['toBe'](!![]),expect(_0x90e023[_0x5cb78c(0x193)](_0x387f82=>{const _0x4ec89b=_0x5cb78c;if(!_0x387f82)throw new Error(_0x5e35f8[_0x4ec89b(0x17f)]);return new Function(_0x4ec89b(0x17d))(),_0x2917c6[_0x4ec89b(0x182)](_0x387f82);}))[_0x5cb78c(0x1a8)]([_0x449cf2,_0x471fc9]),await _0x4168c8[_0x5cb78c(0x18f)]['rm'](_0x54c2de,{'recursive':!![],'force':!![]});}),_0x54f0f0[_0x224d37(0x1ac)](test,_0x54f0f0[_0x224d37(0x18e)],async()=>{const _0x100929=_0x224d37,_0xedb099=new TextEncoder(),_0x243d6e=await LocalFileStore[_0x100929(0x184)](_0x54c2de),_0x5c49c3=new Date()['toISOString']();await expect(_0x243d6e[_0x100929(0x197)]([['../foo',_0xedb099[_0x100929(0x192)](_0x5c49c3)]]))['rejects'][_0x100929(0x1a9)](),await expect(_0x243d6e[_0x100929(0x197)]([[_0x54f0f0[_0x100929(0x198)],_0xedb099[_0x100929(0x192)](_0x5c49c3)]]))[_0x100929(0x17a)]['toThrowError'](),await _0x54f0f0[_0x100929(0x185)](expect,_0x243d6e['mset']([[_0x100929(0x190),_0xedb099[_0x100929(0x192)](_0x5c49c3)]]))[_0x100929(0x17a)]['toThrowError'](),await expect(_0x243d6e[_0x100929(0x1a7)]([_0x54f0f0[_0x100929(0x17c)]]))['rejects']['toThrowError'](),await _0x54f0f0['mHkNy'](expect,_0x243d6e[_0x100929(0x1a7)]([_0x100929(0x195)]))[_0x100929(0x17a)][_0x100929(0x1a9)](),await _0x54f0f0[_0x100929(0x18a)](expect,_0x243d6e['mget']([_0x100929(0x190)]))[_0x100929(0x17a)][_0x100929(0x1a9)](),await _0x4168c8[_0x100929(0x18f)]['rm'](_0x54c2de,{'recursive':!![],'force':!![]});});});