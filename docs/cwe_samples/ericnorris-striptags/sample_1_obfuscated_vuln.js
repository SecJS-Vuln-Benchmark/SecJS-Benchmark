function _0x5f76(){const _0x4fa140=['<iframe\x20src=\x22https://www.google.com/maps/embed?pb=!1m10!1m8!1m3!1d2624.9983685732213!2d2.29432085!3d48.85824149999999!3m2!1i1024!2i768!4f13.1!5e0!3m2!1sen!2s!4v1385737436368\x22\x20width=\x22100\x22\x20height=\x2242\x22></iframe>','notOk','<_<','OXqZU','<p><span\x20class=\x22bbcode-s\x22>a</span></p>','7SDhjPH','it\x20does\x20not\x20double\x20sanitize','<div><p>hello</p></div>','Unit\x20|\x20Utility\x20|\x20sanitizer','PkAiV','<span\x20class=\x22fa\x20fa-spin\x20-bbcode-s\x22>a</span>','<i\x20class=\x22fa-bug\x20fa-spin\x22>bug</i>','cook','<h2\x20id=\x22heading--cool\x22>Test\x20Heading</h2>','PUuPe','<iframe\x20width=\x22425\x22\x20height=\x22350\x22\x20frameborder=\x220\x22\x20marginheight=\x220\x22\x20marginwidth=\x220\x22\x20src=\x22https://www.openstreetmap.org/export/embed.html?bbox=22.49454975128174%2C51.220338322410775%2C22.523088455200195%2C51.23345342732931&amp;layer=mapnik\x22></iframe>','lOFzu','escape\x20single\x20quotes','eqszB','<button>press\x20me!</button>','xViFj','WBIZu','<span\x20class=\x22-bbcode-s\x20fa\x20fa-spin\x22>a</span>','match','<i>bug</i>','http://google.com/test\x27onmouseover=alert(\x27XSS!\x27);//.swf','<p>Hey</p><video><source\x20src=\x22http://example.com/music.mp4\x22\x20type=\x22audio/mpeg\x22></video>','XDZnl','equal','jLmLv','<h1\x20id=\x22heading--test\x22>Test\x20Heading</h1>','it\x20sanitizes\x20spans','yKura','dorBl','http://eviltrout.com/evil/trout','urlAllowed','<p><span>a</span></p>','<h5\x20id=\x22heading--trout\x22>Test\x20Heading</h5>','270262oQSkUf','https://www.google.com/maps/embed?|https://www.openstreetmap.org/export/embed.html?','http://google.com/test%27onmouseover=alert(%27XSS!%27);//.swf','<dl><dt>Forum</dt><dd>Software</dd></dl>','NfkEr','https://eviltrout.com/evil/trout','CkSRJ','<3\x20<3','<p><abbr\x20title=\x22JavaScript\x22>JS</abbr></p>','<h1>Test\x20Heading</h1>','kroYn','<iframe\x20src=\x22http://discourse.org\x22\x20width=\x22100\x22\x20height=\x2242\x22></iframe>','NcNrV','qvnEc','draw\x20me!','allows\x20relative\x20urls','<kbd>Ctrl</kbd>+<kbd>C</kbd>','<p>[the\x20answer](javascript:alert(42))</p>','<div\x20align=\x22center\x22>hello</div>','<div\x20dir=\x22rtl\x22>RTL\x20text</div>','it\x20has\x20been\x20<s>1\x20day</s>\x200\x20days\x20since\x20our\x20last\x20test\x20failure','we\x20can\x20embed\x20proper\x20links','GLQpN','1\x20+\x201\x20is\x20<del>3</del>\x20<ins>2</ins>','AcvkE','it\x20sanitizes\x20while\x20cooking','rJQjy','<div\x20data-value=\x22<something>\x22\x20data-html-value=\x22<something>\x22></div>','<div><script>alert(\x27hi\x27);</script></div>','VwPAc','allows\x20full\x20urls','allows\x20protocol\x20relative\x20urls','<i\x20class=\x22fa\x20fa-bug\x20fa-spin\x22\x20style=\x22font-size:600%\x22></i>\x0a<!--\x20-->','it\x20allows\x20iframe\x20to\x20google\x20maps','tKwjR','<textarea>hullo</textarea>','allows\x20https\x20urls','<h3\x20id=\x22heading--dashed-name\x22>Test\x20Heading</h3>','<h1\x20id=\x22heading--\x22>Test\x20Heading</h1>','1546164ghGbBv','<h1\x20id=\x22heading--with*char\x22>Test\x20Heading</h1>','DGSNR','niFHM','//eviltrout.com/evil/trout','<h1\x20id=\x22test-heading--cool\x22>Test\x20Heading</h1>','wwWKo','<p><a\x20href=\x22http://disneyland.disney.go.com/\x22>disney</a>\x20<a\x20href=\x22http://reddit.com\x22>reddit</a></p>','<canvas>draw\x20me!</canvas>','1323610RRfRSv','IFGdA','<span\x20class=\x22bbcode-s\x22>a</span>','autoplay\x20videos\x20must\x20be\x20muted','it\x20prevents\x20XSS','<p><sup>high</sup>\x20<sub>low</sub>\x20<big>HUGE</big></p>','<h3>Test\x20Heading</h3>','<p>Hey</p><video\x20autoplay\x20src=\x22http://example.com/music.mp4\x22/>','[the\x20answer](javascript:alert(42))','eFlDX','hello<script>alert(42)</script>','it\x20doesn\x27t\x20circumvent\x20XSS\x20with\x20comments','it\x20does\x20not\x20allow\x20centering','<p>hello</p>','KigsC','<a\x20href=\x27http://disneyland.disney.go.com/\x27>disney</a>\x20<a\x20href=\x27http://reddit.com\x27>reddit</a>','&lt;3\x20&lt;3','<p>Hey</p><video\x20autoplay\x20muted><source\x20src=\x22http://example.com/music.mp4\x22\x20type=\x22audio/mpeg\x22></video>','<h4\x20id=\x22heading--underscored_name\x22>Test\x20Heading</h4>','wgpCy','wmyDP','ids\x20on\x20headings','1PQGIOc','<p>it\x20has\x20been\x20<strike>1\x20day</strike>\x200\x20days\x20since\x20our\x20last\x20test\x20failure</p>','383592BGCvZT','TQzet','uGNLQ','nCFWV','<blockquote>a\x0a</blockquote>','<h6\x20id=\x22heading--discourse\x22>Test\x20Heading</h6>','3624849YhzQYn','605679yKcQsY','1777576GSyPgq','<div\x20data-value=\x22&lt;something&gt;\x22></div>','dNKAh','eyorv','sanitize','<h1\x20id=\x22evil-trout\x22>Test\x20Heading</h1>','replace','hello','<p>1\x20+\x201\x20is\x20<del>3</del>\x20<ins>2</ins></p>','it\x20has\x20been\x20<strike>1\x20day</strike>\x200\x20days\x20since\x20our\x20last\x20test\x20failure','<div></div>','<p>Hey</p><video\x20autoplay><source\x20src=\x22http://example.com/music.mp4\x22\x20type=\x22audio/mpeg\x22></video>','it\x20does\x20not\x20allow\x20most\x20iframes','<progress>hello'];_0x5f76=function(){return _0x4fa140;};return _0x5f76();}const _0x2e6aa3=_0x1c66;(function(_0x31623a,_0x3eebe1){const _0x5f33a1=_0x1c66,_0x31ccff=_0x31623a();while(!![]){try{const _0x4dbfe5=parseInt(_0x5f33a1(0x86))/0x1*(-parseInt(_0x5f33a1(0xc4))/0x2)+-parseInt(_0x5f33a1(0x8f))/0x3+parseInt(_0x5f33a1(0x67))/0x4+parseInt(_0x5f33a1(0x70))/0x5+parseInt(_0x5f33a1(0x88))/0x6+-parseInt(_0x5f33a1(0xa3))/0x7*(-parseInt(_0x5f33a1(0x90))/0x8)+-parseInt(_0x5f33a1(0x8e))/0x9;if(_0x4dbfe5===_0x3eebe1)break;else _0x31ccff['push'](_0x31ccff['shift']());}catch(_0x3002bf){_0x31ccff['push'](_0x31ccff['shift']());}}}(_0x5f76,0x303e7));import _0x288716,{buildOptions}from'pretty-text/pretty-text';import{module,test}from'qunit';function _0x1c66(_0x29a487,_0x575e94){const _0x5f76cf=_0x5f76();return _0x1c66=function(_0x1c661b,_0x233b8a){_0x1c661b=_0x1c661b-0x66;let _0x41f5c9=_0x5f76cf[_0x1c661b];return _0x41f5c9;},_0x1c66(_0x29a487,_0x575e94);}import{hrefAllowed}from'pretty-text/sanitizer';module(_0x2e6aa3(0xa6),function(){const _0x454cea=_0x2e6aa3,_0x1e2f65={'nCFWV':function(_0x2792cd,_0x11edcf){return _0x2792cd(_0x11edcf);},'eyorv':_0x454cea(0xc5),'lOFzu':_0x454cea(0xe0),'gAfUy':_0x454cea(0xa5),'qvnEc':_0x454cea(0xcb),'GLQpN':_0x454cea(0xa0),'VwPAc':'&lt;_&lt;','wwWKo':_0x454cea(0x7a),'LAzbJ':_0x454cea(0x7f),'tKwjR':_0x454cea(0xd9),'AcvkE':function(_0x5245ed,_0x3a85fe,_0x19acc6,_0x3fed9a){return _0x5245ed(_0x3a85fe,_0x19acc6,_0x3fed9a);},'GhckE':'<center>hello</center>','JVyYT':_0x454cea(0xcf),'IFGdA':_0x454cea(0x9c),'jLmLv':function(_0x2de9b4,_0x3fdc74,_0x5f55e6,_0x564ad0){return _0x2de9b4(_0x3fdc74,_0x5f55e6,_0x564ad0);},'DeYIg':'<iframe\x20src=\x22https://www.google.com/maps/embed?pb=!1m10!1m8!1m3!1d2624.9983685732213!2d2.29432085!3d48.85824149999999!3m2!1i1024!2i768!4f13.1!5e0!3m2!1sen!2s!4v1385737436368\x22\x20width=\x22100\x22\x20height=\x2242\x22></iframe>','rJQjy':_0x454cea(0xe5),'dNKAh':_0x454cea(0xad),'VwuiW':_0x454cea(0xe7),'wgpCy':'press\x20me!','xViFj':_0x454cea(0x6f),'uGNLQ':_0x454cea(0xd5),'CkSRJ':_0x454cea(0x74),'WkQmn':_0x454cea(0x7b),'WBIZu':function(_0xb75f1f,_0xeaef2a,_0x248d0b,_0x5314e4){return _0xb75f1f(_0xeaef2a,_0x248d0b,_0x5314e4);},'niFHM':_0x454cea(0xb4),'dorBl':_0x454cea(0xc2),'vhBOV':_0x454cea(0xbd),'NcNrV':function(_0x39a143,_0xbc3bb7,_0x4f8220){return _0x39a143(_0xbc3bb7,_0x4f8220);},'KigsC':function(_0x1b99a6,_0x48c53c,_0xa43830){return _0x1b99a6(_0x48c53c,_0xa43830);},'NfkEr':_0x454cea(0x87),'XDZnl':function(_0xf598ca,_0x21bf32,_0x44a616){return _0xf598ca(_0x21bf32,_0x44a616);},'DGSNR':function(_0x39a691,_0x207a90,_0x3f3492){return _0x39a691(_0x207a90,_0x3f3492);},'yKura':function(_0x450539,_0x459f82,_0x14eab2){return _0x450539(_0x459f82,_0x14eab2);},'OXqZU':_0x454cea(0x76),'kroYn':function(_0x15707f,_0x2e04a5){return _0x15707f!==_0x2e04a5;},'PkAiV':_0x454cea(0xe8),'eFlDX':_0x454cea(0xb7),'PUuPe':_0x454cea(0xc6),'wmyDP':_0x454cea(0xaf),'wxEne':_0x454cea(0x94),'TQzet':_0x454cea(0x85),'dgXFR':'poorly\x20formed\x20ids\x20on\x20headings'};test(_0x1e2f65['wxEne'],function(_0x3eca4b){const _0x4c8885=_0x454cea,_0x300eab=new _0x288716(_0x1e2f65['nCFWV'](buildOptions,{'siteSettings':{'allowed_iframes':_0x1e2f65[_0x4c8885(0x93)]}})),_0x332224=(_0x35ca65,_0x46b3bd,_0x3444e9)=>_0x3eca4b[_0x4c8885(0xba)](_0x300eab[_0x4c8885(0xaa)](_0x35ca65),_0x46b3bd[_0x4c8885(0x96)](/\/>/g,'>'),_0x3444e9);_0x3eca4b['equal'](_0x300eab[_0x4c8885(0x94)](_0x4c8885(0xa9)),_0x4c8885(0xb6)),_0x3eca4b[_0x4c8885(0xba)](_0x300eab[_0x4c8885(0x94)](_0x1e2f65[_0x4c8885(0xae)]),_0x4c8885(0x9a)),_0x3eca4b[_0x4c8885(0xba)](_0x300eab['sanitize']('<div><p\x20class=\x22funky\x22\x20wrong=\x271\x27>hello</p></div>'),_0x1e2f65['gAfUy']),_0x3eca4b['equal'](_0x300eab[_0x4c8885(0x94)](_0x1e2f65[_0x4c8885(0xd1)]),_0x4c8885(0x80)),_0x3eca4b[_0x4c8885(0xba)](_0x300eab[_0x4c8885(0x94)](_0x1e2f65[_0x4c8885(0xda)]),_0x1e2f65[_0x4c8885(0xe1)]),_0x332224(_0x1e2f65[_0x4c8885(0x6d)],_0x4c8885(0x7d),_0x4c8885(0xdd)),_0x332224(_0x1e2f65['LAzbJ'],_0x4c8885(0x6e),_0x1e2f65[_0x4c8885(0xe6)]),_0x1e2f65[_0x4c8885(0xdc)](_0x332224,_0x1e2f65['GhckE'],_0x4c8885(0x97),_0x4c8885(0x7c)),_0x1e2f65[_0x4c8885(0xdc)](_0x332224,'<blockquote>a\x0a</blockquote>\x0a',_0x4c8885(0x8c),_0x4c8885(0xa4)),_0x332224(_0x1e2f65['JVyYT'],'',_0x1e2f65[_0x4c8885(0x71)]),_0x1e2f65[_0x4c8885(0xbb)](_0x332224,_0x4c8885(0x9e),_0x1e2f65['DeYIg'],_0x1e2f65[_0x4c8885(0xde)]),_0x1e2f65[_0x4c8885(0xdc)](_0x332224,_0x4c8885(0xad),_0x1e2f65[_0x4c8885(0x92)],'it\x20allows\x20iframe\x20to\x20OpenStreetMap'),_0x3eca4b['equal'](_0x300eab[_0x4c8885(0x94)](_0x1e2f65['VwuiW']),'hullo'),_0x3eca4b[_0x4c8885(0xba)](_0x300eab['sanitize'](_0x4c8885(0xb1)),_0x1e2f65[_0x4c8885(0x83)]),_0x3eca4b[_0x4c8885(0xba)](_0x300eab[_0x4c8885(0x94)](_0x1e2f65[_0x4c8885(0xb2)]),_0x4c8885(0xd2)),_0x3eca4b[_0x4c8885(0xba)](_0x300eab[_0x4c8885(0x94)](_0x4c8885(0x9d)),_0x4c8885(0x97)),_0x332224(_0x4c8885(0x78),_0x1e2f65[_0x4c8885(0x8a)],_0x1e2f65[_0x4c8885(0xca)]),_0x332224(_0x4c8885(0xe4),'<p><i></i></p>',_0x1e2f65['WkQmn']),_0x1e2f65[_0x4c8885(0xb3)](_0x332224,_0x1e2f65[_0x4c8885(0x6a)],_0x1e2f65[_0x4c8885(0xbf)],_0x4c8885(0xbd)),_0x1e2f65[_0x4c8885(0xdc)](_0x332224,_0x4c8885(0xa8),_0x4c8885(0xc2),_0x1e2f65['vhBOV']),_0x1e2f65[_0x4c8885(0xdc)](_0x332224,_0x4c8885(0x72),_0x4c8885(0xa2),_0x1e2f65['vhBOV']),_0x1e2f65[_0x4c8885(0xd0)](_0x332224,_0x4c8885(0xd4),'<p><kbd>Ctrl</kbd>+<kbd>C</kbd></p>'),_0x1e2f65[_0x4c8885(0x7e)](_0x332224,_0x4c8885(0x99),_0x1e2f65[_0x4c8885(0xc8)]),_0x332224(_0x4c8885(0xd8),'<p>it\x20has\x20been\x20<s>1\x20day</s>\x200\x20days\x20since\x20our\x20last\x20test\x20failure</p>'),_0x332224('<div\x20align=\x22center\x22>hello</div>',_0x4c8885(0xd6)),_0x1e2f65[_0x4c8885(0xb9)](_0x332224,_0x4c8885(0xdb),_0x4c8885(0x98)),_0x332224('<abbr\x20title=\x22JavaScript\x22>JS</abbr>',_0x4c8885(0xcc)),_0x1e2f65[_0x4c8885(0xb9)](_0x332224,_0x4c8885(0xc7),_0x4c8885(0xc7)),_0x1e2f65[_0x4c8885(0x69)](_0x332224,'<sup>high</sup>\x20<sub>low</sub>\x20<big>HUGE</big>',_0x4c8885(0x75)),_0x1e2f65[_0x4c8885(0xbe)](_0x332224,'<div\x20dir=\x22rtl\x22>RTL\x20text</div>',_0x4c8885(0xd7)),_0x1e2f65[_0x4c8885(0x7e)](_0x332224,_0x4c8885(0xdf),_0x4c8885(0x91));}),test(_0x1e2f65[_0x454cea(0x89)],function(_0x197b9c){const _0x337000=_0x454cea,_0x363258=new _0x288716(buildOptions({'siteSettings':{}}));_0x197b9c[_0x337000(0xba)](_0x363258[_0x337000(0x94)](_0x1e2f65[_0x337000(0xa1)]),_0x337000(0x76)),_0x197b9c[_0x337000(0xba)](_0x363258[_0x337000(0x94)]('<h1\x20id=\x22heading--test\x22>Test\x20Heading</h1>'),_0x337000(0xbc)),_0x197b9c[_0x337000(0xba)](_0x363258[_0x337000(0x94)](_0x337000(0xab)),_0x337000(0xab)),_0x197b9c[_0x337000(0xba)](_0x363258[_0x337000(0x94)](_0x337000(0xe9)),_0x337000(0xe9)),_0x197b9c[_0x337000(0xba)](_0x363258[_0x337000(0x94)](_0x337000(0x82)),_0x337000(0x82)),_0x197b9c[_0x337000(0xba)](_0x363258['sanitize'](_0x337000(0xc3)),_0x337000(0xc3)),_0x197b9c[_0x337000(0xba)](_0x363258[_0x337000(0x94)](_0x337000(0x8d)),_0x337000(0x8d));}),test(_0x454cea(0x73),function(_0x407244){const _0x5572f6=_0x454cea;let _0x1c922a=new _0x288716(_0x1e2f65[_0x5572f6(0x8b)](buildOptions,{'siteSettings':{}}));_0x407244['ok'](_0x1c922a[_0x5572f6(0x94)](_0x5572f6(0x77))[_0x5572f6(0xb5)](/muted/)),_0x407244['ok'](_0x1c922a[_0x5572f6(0x94)](_0x5572f6(0x9b))[_0x5572f6(0xb5)](/muted/)),_0x407244['ok'](_0x1c922a['sanitize']('<p>Hey</p><video\x20autoplay\x20muted><source\x20src=\x22http://example.com/music.mp4\x22\x20type=\x22audio/mpeg\x22></video>')['match'](/muted/)),_0x407244['notOk'](_0x1c922a[_0x5572f6(0x94)](_0x5572f6(0xb8))[_0x5572f6(0xb5)](/muted/));}),_0x1e2f65[_0x454cea(0xd0)](test,_0x1e2f65['dgXFR'],function(_0x1aadd9){const _0x144cda=_0x454cea;let _0x2dee43=new _0x288716(buildOptions({'siteSettings':{}}));_0x1aadd9[_0x144cda(0xba)](_0x2dee43[_0x144cda(0x94)](_0x144cda(0x95)),_0x144cda(0xcd)),_0x1aadd9[_0x144cda(0xba)](_0x2dee43[_0x144cda(0x94)](_0x144cda(0x66)),_0x144cda(0xcd)),_0x1aadd9[_0x144cda(0xba)](_0x2dee43[_0x144cda(0x94)]('<h1\x20id=\x22heading--with\x20space\x22>Test\x20Heading</h1>'),'<h1>Test\x20Heading</h1>'),_0x1aadd9['equal'](_0x2dee43[_0x144cda(0x94)](_0x144cda(0x68)),_0x144cda(0xcd)),_0x1aadd9[_0x144cda(0xba)](_0x2dee43[_0x144cda(0x94)]('<h1\x20id=\x22heading--\x22>Test\x20Heading</h1>'),_0x144cda(0xcd)),_0x1aadd9[_0x144cda(0xba)](_0x2dee43[_0x144cda(0x94)](_0x144cda(0x6c)),_0x144cda(0xcd));}),test(_0x454cea(0xc1),function(_0x5e287e){const _0x4b3ca3=_0x454cea;if(_0x1e2f65[_0x4b3ca3(0xce)](_0x4b3ca3(0xb0),_0x4b3ca3(0xb0))){let _0x41ce52=new _0x3e9b92(_0x1e2f65['nCFWV'](_0x353184,{'siteSettings':{}}));_0xc7741e['ok'](_0x41ce52[_0x4b3ca3(0x94)](_0x4b3ca3(0x77))[_0x4b3ca3(0xb5)](/muted/)),_0x1f5f05['ok'](_0x41ce52['sanitize'](_0x4b3ca3(0x9b))[_0x4b3ca3(0xb5)](/muted/)),_0x1be396['ok'](_0x41ce52['sanitize'](_0x4b3ca3(0x81))['match'](/muted/)),_0x40474e[_0x4b3ca3(0x9f)](_0x41ce52[_0x4b3ca3(0x94)](_0x4b3ca3(0xb8))[_0x4b3ca3(0xb5)](/muted/));}else{const _0x1a6a08=(_0x33653b,_0x16a76d)=>_0x5e287e[_0x4b3ca3(0xba)](hrefAllowed(_0x33653b),_0x33653b,_0x16a76d);_0x1a6a08('/foo/bar.html',_0x4b3ca3(0xd3)),_0x1e2f65[_0x4b3ca3(0x69)](_0x1a6a08,_0x4b3ca3(0xc0),_0x4b3ca3(0xe2)),_0x1a6a08(_0x4b3ca3(0xc9),_0x1e2f65[_0x4b3ca3(0xa7)]),_0x1a6a08(_0x4b3ca3(0x6b),_0x4b3ca3(0xe3)),_0x5e287e[_0x4b3ca3(0xba)](hrefAllowed(_0x1e2f65[_0x4b3ca3(0x79)]),_0x1e2f65[_0x4b3ca3(0xac)],_0x1e2f65[_0x4b3ca3(0x84)]);}});});