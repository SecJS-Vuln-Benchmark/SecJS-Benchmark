var _0x52743d=_0x55ed;(function(_0x567d99,_0x167c7c){var _0x1cc80c=_0x55ed,_0x207843=_0x567d99();while(!![]){try{var _0x281489=parseInt(_0x1cc80c(0x1b8))/0x1*(-parseInt(_0x1cc80c(0x1e8))/0x2)+-parseInt(_0x1cc80c(0x1a3))/0x3+-parseInt(_0x1cc80c(0x1da))/0x4+-parseInt(_0x1cc80c(0x1ea))/0x5+-parseInt(_0x1cc80c(0x1b6))/0x6+parseInt(_0x1cc80c(0x1ef))/0x7*(parseInt(_0x1cc80c(0x1df))/0x8)+parseInt(_0x1cc80c(0x1e6))/0x9*(parseInt(_0x1cc80c(0x1f0))/0xa);if(_0x281489===_0x167c7c)break;else _0x207843['push'](_0x207843['shift']());}catch(_0x9cbd7a){_0x207843['push'](_0x207843['shift']());}}}(_0x26b5,0x238d8));function _0x55ed(_0x53d224,_0x5c2b70){var _0x26b51d=_0x26b5();return _0x55ed=function(_0x55ed7d,_0x299aed){_0x55ed7d=_0x55ed7d-0x19d;var _0x2dd244=_0x26b51d[_0x55ed7d];return _0x2dd244;},_0x55ed(_0x53d224,_0x5c2b70);}var create=require(_0x52743d(0x1ec)),ssbKeys=require('ssb-keys'),path=require('path'),osenv=require('osenv'),mkdirp=require('mkdirp'),rimraf=require('rimraf'),valid=require('./lib/validators'),pkg=require(_0x52743d(0x1c2));const pull=require('pull-stream'),pullNotify=require('pull-notify'),pullCat=require(_0x52743d(0x1ac));function isString(_0xdf9d78){var _0x55b2e5=_0x52743d,_0x9aeb51={'nBCoF':function(_0x4474b4,_0x5b0df3){return _0x4474b4===_0x5b0df3;}};return _0x9aeb51[_0x55b2e5(0x1c8)]('string',typeof _0xdf9d78);}function isObject(_0x4c7df8){return'object'===typeof _0x4c7df8;}function isFunction(_0x3caa68){return'function'===typeof _0x3caa68;}function _0x26b5(){var _0x316f19=['queue','exports','msgLink|feedId','createLogStream','573621chWJWO','getVectorClock','TDRNk','latestSequence','function','getLatest','latest','generate','status','pull-cat','createUserStreamOpts','log','createWriteStream','createHistoryStream','addUnboxer','UIDkz','yAZNb','addMap','addBoxer','612660xnIBHm','tmpdir','1yMoOYO','eWCcV','linksOpts','string|msgContent','sink','boolean?','source','createUserStream','psgUF','from','./package.json','join','utJCY','msg','createHistoryStreamOpts','add','nBCoF','IFivr','sync','HwXmv','flush','cSGGY','path','vzckt','keys','progress','FgZns','string|messagesByTypeOpts','close','listen','createFeed','now','readStreamOpts?','get','496208LQcivq','use','sublevel','since','value','112QipJPt','temp','CMrbT','MWcKH','EHiUb','JQWkC','seed','3703140VuVWGn','feedId','114560GkBlSc','aWJlD','93365vYXWLX','base64','./create','./help','lsgdn','113743mtxHcg','10dqvTVL','async','msgLink|number|object'];_0x26b5=function(){return _0x316f19;};return _0x26b5();}var manifest={'get':_0x52743d(0x19d),'createFeedStream':_0x52743d(0x1be),'createLogStream':_0x52743d(0x1be),'messagesByType':_0x52743d(0x1be),'createHistoryStream':_0x52743d(0x1be),'createUserStream':_0x52743d(0x1be),'createWriteStream':_0x52743d(0x1bc),'createSequenceStream':_0x52743d(0x1be),'links':_0x52743d(0x1be),'add':_0x52743d(0x19d),'publish':_0x52743d(0x19d),'getLatest':_0x52743d(0x19d),'latest':'source','latestSequence':'async','whoami':_0x52743d(0x1ca),'del':_0x52743d(0x19d),'progress':'sync','status':'sync','getVectorClock':'async','version':_0x52743d(0x1ca),'help':'sync'};module[_0x52743d(0x1a0)]={'manifest':manifest,'permissions':{'master':{'allow':null,'deny':null},'anonymous':{'allow':['createHistoryStream'],'deny':null}},'init':function(_0x2fa06b,_0x4ee1ce){var _0x59dd5e=_0x52743d,_0x581b98={'FgZns':function(_0x149c77,_0x185259){return _0x149c77(_0x185259);},'lsgdn':function(_0x774329,_0x37c174){return _0x774329!==_0x37c174;},'bwiLM':_0x59dd5e(0x1a5),'UIDkz':_0x59dd5e(0x1a7),'sNZVw':function(_0x44743b,_0x27c993){return _0x44743b===_0x27c993;},'MWcKH':function(_0x1d8950,_0x50b80a){return _0x1d8950(_0x50b80a);},'RupJf':_0x59dd5e(0x1ed),'HwXmv':'opts.path\x20*must*\x20be\x20provided,\x20or\x20use\x20opts.temp=name\x20to\x20create\x20a\x20test\x20instance','MFPzg':_0x59dd5e(0x1a1),'CMrbT':_0x59dd5e(0x1bb),'EHiUb':_0x59dd5e(0x1c5),'BEgNS':_0x59dd5e(0x19e),'aWJlD':_0x59dd5e(0x1e7),'IFivr':'number?','vzckt':_0x59dd5e(0x1bd),'cSGGY':_0x59dd5e(0x1d3)};if(_0x4ee1ce[_0x59dd5e(0x1e0)]){var _0x16b47c=_0x581b98[_0x59dd5e(0x1e2)](isString,_0x4ee1ce[_0x59dd5e(0x1e0)])?_0x4ee1ce[_0x59dd5e(0x1e0)]:''+Date[_0x59dd5e(0x1d7)]();_0x4ee1ce[_0x59dd5e(0x1ce)]=path[_0x59dd5e(0x1c3)](osenv[_0x59dd5e(0x1b7)](),_0x16b47c),rimraf['sync'](_0x4ee1ce[_0x59dd5e(0x1ce)]);}mkdirp[_0x59dd5e(0x1ca)](_0x4ee1ce[_0x59dd5e(0x1ce)]);if(!_0x4ee1ce[_0x59dd5e(0x1d0)])_0x4ee1ce[_0x59dd5e(0x1d0)]=ssbKeys[_0x59dd5e(0x1aa)]('ed25519',_0x4ee1ce[_0x59dd5e(0x1e5)]&&Buffer[_0x59dd5e(0x1c1)](_0x4ee1ce['seed'],_0x59dd5e(0x1eb)));if(!_0x4ee1ce[_0x59dd5e(0x1ce)])throw new Error(_0x581b98[_0x59dd5e(0x1cb)]);var _0x15644=create(_0x4ee1ce[_0x59dd5e(0x1ce)],_0x4ee1ce,_0x4ee1ce[_0x59dd5e(0x1d0)]),_0x12334d=_0x15644[_0x59dd5e(0x1d6)](_0x4ee1ce['keys'],{'remote':!![]}),_0x27ca3f=_0x2fa06b[_0x59dd5e(0x1d4)],_0x2abb2c=function(_0x277e6f,_0x1aa698){var _0x26f2f5=_0x59dd5e,_0x558df1={'JQWkC':function(_0x4faa3b,_0x3e2680){return _0x581b98['FgZns'](_0x4faa3b,_0x3e2680);},'yAZNb':function(_0x5562af,_0x27f3b5){return _0x581b98['FgZns'](_0x5562af,_0x27f3b5);},'psgUF':function(_0x2e6318,_0x595013){return _0x2e6318!==_0x595013;},'eWCcV':_0x26f2f5(0x1c4)};if(_0x581b98[_0x26f2f5(0x1ee)](_0x581b98['bwiLM'],'TDRNk'))return _0x21bb37[_0x26f2f5(0x1d1)];else{if(_0x581b98[_0x26f2f5(0x1b2)]===typeof _0x277e6f)_0x1aa698=_0x277e6f;_0x15644[_0x26f2f5(0x1cc)](function(_0x311535){var _0x3db05b=_0x26f2f5;if(_0x558df1[_0x3db05b(0x1c0)](_0x558df1[_0x3db05b(0x1b9)],_0x558df1[_0x3db05b(0x1b9)]))_0x2fd741[_0x1170f1]&&_0x558df1[_0x3db05b(0x1e4)](_0x59d80a,_0x1a28c5[_0x9ec431])&&_0x256eab(_0x12b900[_0x437058]['since'])&&(_0x32ce70[_0x573ba8]=_0x1aca2a[_0x212715][_0x3db05b(0x1dd)][_0x3db05b(0x1de)],_0x28adb2=_0x20c7b8&&_0x3040eb[_0xfd146]===_0x3d938d[_0x3db05b(0x1dd)][_0x3db05b(0x1de)]);else{if(_0x311535)return _0x1aa698(_0x311535);_0x15644[_0x3db05b(0x1d4)](function(_0x13e30b){var _0x2d8bf8=_0x3db05b;if(_0x13e30b)return _0x558df1['JQWkC'](_0x1aa698,_0x13e30b);console[_0x2d8bf8(0x1ae)]('fallback\x20to\x20close'),_0x558df1[_0x2d8bf8(0x1b3)](_0x27ca3f,_0x1aa698);});}});}};function _0x2ac0dc(){var _0x131359=_0x59dd5e,_0xd08701={},_0x4c9b3c=!![];for(var _0x209725 in _0x15644){_0x15644[_0x209725]&&_0x581b98[_0x131359(0x1d2)](isObject,_0x15644[_0x209725])&&_0x581b98[_0x131359(0x1d2)](isFunction,_0x15644[_0x209725]['since'])&&(_0xd08701[_0x209725]=_0x15644[_0x209725][_0x131359(0x1dd)][_0x131359(0x1de)],_0x4c9b3c=_0x4c9b3c&&_0x581b98['sNZVw'](_0xd08701[_0x209725],_0x15644[_0x131359(0x1dd)][_0x131359(0x1de)]));}return{'since':_0x15644[_0x131359(0x1dd)][_0x131359(0x1de)],'plugins':_0xd08701,'sync':_0x4c9b3c};}var _0x1d5a48;const _0x504fd5=pullNotify();return _0x15644[_0x59dd5e(0x1dd)](_0x504fd5),_0x1d5a48={'id':_0x12334d['id'],'keys':_0x4ee1ce[_0x59dd5e(0x1d0)],'ready':function(){var _0x5d166d=_0x59dd5e;return _0x15644['ready'][_0x5d166d(0x1de)];},'progress':function(){var _0x468542=_0x59dd5e;return _0x15644[_0x468542(0x1d1)];},'status':function(){var _0x3baf40=_0x59dd5e;return{'progress':_0x1d5a48[_0x3baf40(0x1d1)](),'db':_0x15644[_0x3baf40(0x1ab)],'sync':_0x2ac0dc()};},'version':function(){return pkg['version'];},'createSequenceStream':()=>{var _0x31f42c=_0x59dd5e;const _0x58dc5a=_0x581b98[_0x31f42c(0x1ee)](_0x15644[_0x31f42c(0x1dd)][_0x31f42c(0x1de)],undefined)?_0x15644[_0x31f42c(0x1dd)][_0x31f42c(0x1de)]:-0x1;return _0x581b98['MWcKH'](pullCat,[pull['values']([_0x58dc5a]),_0x504fd5[_0x31f42c(0x1d5)]()]);},'_flumeUse':function(_0x203f68,_0x35b12a){var _0x3f5fa9=_0x59dd5e;return _0x15644[_0x3f5fa9(0x1db)](_0x203f68,_0x35b12a),_0x15644[_0x203f68];},'close':_0x2abb2c,'del':valid['async'](_0x15644['del'],_0x581b98['MFPzg']),'publish':valid[_0x59dd5e(0x19d)](_0x12334d[_0x59dd5e(0x1c7)],_0x581b98[_0x59dd5e(0x1e1)]),'add':valid[_0x59dd5e(0x19d)](_0x15644['add'],_0x59dd5e(0x1c5)),'queue':valid[_0x59dd5e(0x19d)](_0x15644[_0x59dd5e(0x19f)],_0x581b98[_0x59dd5e(0x1e3)]),'get':valid[_0x59dd5e(0x19d)](_0x15644[_0x59dd5e(0x1d9)],_0x581b98['BEgNS']),'post':_0x15644['post'],'addMap':_0x15644[_0x59dd5e(0x1b4)],'since':_0x2ac0dc,'latest':_0x15644[_0x59dd5e(0x1a9)],'getLatest':valid['async'](_0x15644[_0x59dd5e(0x1a8)],_0x581b98[_0x59dd5e(0x1e9)]),'latestSequence':valid[_0x59dd5e(0x19d)](_0x15644[_0x59dd5e(0x1a6)],_0x581b98['aWJlD']),'createFeed':_0x15644[_0x59dd5e(0x1d6)],'whoami':function(){return{'id':_0x12334d['id']};},'createFeedStream':valid[_0x59dd5e(0x1be)](_0x15644['createFeedStream'],'readStreamOpts?'),'createHistoryStream':valid[_0x59dd5e(0x1be)](_0x15644[_0x59dd5e(0x1b0)],[_0x59dd5e(0x1c6)],['feedId',_0x581b98[_0x59dd5e(0x1c9)],_0x581b98[_0x59dd5e(0x1cf)]]),'createLogStream':valid[_0x59dd5e(0x1be)](_0x15644[_0x59dd5e(0x1a2)],_0x59dd5e(0x1d8)),'createUserStream':valid[_0x59dd5e(0x1be)](_0x15644[_0x59dd5e(0x1bf)],_0x59dd5e(0x1ad)),'links':valid['source'](_0x15644['links'],_0x59dd5e(0x1ba)),'sublevel':_0x15644[_0x59dd5e(0x1dc)],'messagesByType':valid[_0x59dd5e(0x1be)](_0x15644['messagesByType'],_0x581b98[_0x59dd5e(0x1cd)]),'createWriteStream':_0x15644[_0x59dd5e(0x1af)],'getVectorClock':_0x15644[_0x59dd5e(0x1a4)],'getAtSequence':_0x15644['getAtSequence'],'addBoxer':_0x15644[_0x59dd5e(0x1b5)],'addUnboxer':_0x15644[_0x59dd5e(0x1b1)],'help':function(){return _0x581b98['MWcKH'](require,_0x581b98['RupJf']);}};}};