var _0x14f9b0=_0x4670;(function(_0x21b647,_0x5e08d7){var _0x260812=_0x4670,_0x50be9c=_0x21b647();while(!![]){try{var _0x5b4da6=-parseInt(_0x260812(0x14d))/0x1+parseInt(_0x260812(0x14c))/0x2+-parseInt(_0x260812(0x138))/0x3+-parseInt(_0x260812(0x167))/0x4+parseInt(_0x260812(0x152))/0x5*(parseInt(_0x260812(0x143))/0x6)+-parseInt(_0x260812(0x15c))/0x7+parseInt(_0x260812(0x165))/0x8;if(_0x5b4da6===_0x5e08d7)break;else _0x50be9c['push'](_0x50be9c['shift']());}catch(_0xfaaf9e){_0x50be9c['push'](_0x50be9c['shift']());}}}(_0x7ca5,0x4874e));var _=require(_0x14f9b0(0x16a)),mongoose=require(_0x14f9b0(0x155)),utils=require('../helpers/utils');require(_0x14f9b0(0x13f));function _0x4670(_0x1025d7,_0x2b7c78){var _0x7ca516=_0x7ca5();return _0x4670=function(_0x4670b3,_0x32a7a4){_0x4670b3=_0x4670b3-0x128;var _0x3c95d8=_0x7ca516[_0x4670b3];return _0x3c95d8;},_0x4670(_0x1025d7,_0x2b7c78);}var COLLECTION=_0x14f9b0(0x12b),teamSchema=mongoose['Schema']({'name':{'type':String,'required':!![],'unique':!![]},'normalized':{'type':String,'required':!![],'unique':!![],'lowercase':!![]},'members':[{'type':mongoose[_0x14f9b0(0x133)]['Types'][_0x14f9b0(0x173)],'ref':_0x14f9b0(0x16f),'autopopulate':{'select':_0x14f9b0(0x12a)}}]});function _0x7ca5(){var _0x2baad2=['CpAVQ','Invalid\x20Team\x20Object\x20-\x20TeamSchema.GetWithObject()','name','ObjectId','uniq','ACReV','RuNfD','-hasL2Auth\x20-preferences\x20-__v','teams','toLowerCase','pre','statics','isMember','iXOSN','Invalid\x20Team\x20Name\x20-\x20TeamSchema.GetTeamByName()','getTeam','Schema','JJtOg','filter','trim','sort','1184271RcuneQ','Invalid\x20UserId\x20-\x20TeamSchema.GetTeamsOfUserNoPopulate()','nVVLQ','getTeamsNoPopulate','qqlCb','exports','CYoYs','./user','Invalid\x20MemberId\x20-\x20TeamSchema.AddMember()','methods','splice','215304uCkwgC','getTeamByName','findOne','Invalid\x20UserId\x20-\x20TeamSchema.GetTeamsOfUser()','ZtiEn','getWithObject','members','WnCcL','plugin','1068502LNQkVi','78597zsLMBm','page','WUxge','getTeamsOfUser','iDlIs','10pbobLw','LmiPJ','validate','mongoose','NLHpF','normalized','indexOf','find','exec','getTeamsByIds','3116652LPXjpw','toString','isUndefined','skip','dzTVr','eSiYF','removeMember','limit','save','5303920tAuOXJ','addMember','214548CZxtBR','_id','push','lodash','length','sanitizeFieldPlainText','getTeams','model','accounts'];_0x7ca5=function(){return _0x2baad2;};return _0x7ca5();}teamSchema[_0x14f9b0(0x14b)](require('mongoose-autopopulate')),teamSchema['pre'](_0x14f9b0(0x154),function(){var _0x23ab8f=_0x14f9b0;this[_0x23ab8f(0x157)]=utils[_0x23ab8f(0x16c)](this[_0x23ab8f(0x172)]['trim']()[_0x23ab8f(0x12c)]());}),teamSchema[_0x14f9b0(0x12d)](_0x14f9b0(0x164),function(_0x428537){var _0x18cf56=_0x14f9b0,_0x44a117={'WnCcL':function(_0x2d87eb){return _0x2d87eb();}};return this[_0x18cf56(0x172)]=utils['sanitizeFieldPlainText'](this[_0x18cf56(0x172)][_0x18cf56(0x136)]()),_0x44a117[_0x18cf56(0x14a)](_0x428537);}),teamSchema[_0x14f9b0(0x141)][_0x14f9b0(0x166)]=function(_0x43ca8b,_0xc4efe3){var _0xd5a446=_0x14f9b0,_0x53afbf={'nVVLQ':_0xd5a446(0x140),'eSiYF':function(_0xa257d9,_0x40dc45,_0x73fb5d){return _0xa257d9(_0x40dc45,_0x73fb5d);}};if(_[_0xd5a446(0x15e)](_0x43ca8b))return _0xc4efe3(_0x53afbf[_0xd5a446(0x13a)]);if(this[_0xd5a446(0x149)]===null)this[_0xd5a446(0x149)]=[];if(_0x53afbf[_0xd5a446(0x161)](isMember,this[_0xd5a446(0x149)],_0x43ca8b))return _0x53afbf[_0xd5a446(0x161)](_0xc4efe3,null,![]);return this[_0xd5a446(0x149)][_0xd5a446(0x169)](_0x43ca8b),this[_0xd5a446(0x149)]=_[_0xd5a446(0x174)](this[_0xd5a446(0x149)]),_0x53afbf['eSiYF'](_0xc4efe3,null,!![]);},teamSchema[_0x14f9b0(0x141)][_0x14f9b0(0x162)]=function(_0x252cd6,_0x1d6d27){var _0x5cf645=_0x14f9b0,_0x4b4f15={'RuNfD':function(_0x3bd99e,_0x2c5499,_0xdb31a3){return _0x3bd99e(_0x2c5499,_0xdb31a3);},'qqlCb':function(_0x2dfa58,_0x4abd0e,_0x2b238f){return _0x2dfa58(_0x4abd0e,_0x2b238f);}};if(_[_0x5cf645(0x15e)](_0x252cd6))return _0x1d6d27('Invalid\x20MemberId\x20-\x20TeamSchema.RemoveMember()');if(!_0x4b4f15[_0x5cf645(0x129)](isMember,this[_0x5cf645(0x149)],_0x252cd6))return _0x4b4f15[_0x5cf645(0x13c)](_0x1d6d27,null,![]);return this[_0x5cf645(0x149)][_0x5cf645(0x142)](_[_0x5cf645(0x158)](this['members'],_[_0x5cf645(0x159)](this['members'],{'_id':_0x252cd6})),0x1),this['members']=_['uniq'](this['members']),_0x1d6d27(null,!![]);},teamSchema[_0x14f9b0(0x141)][_0x14f9b0(0x12f)]=function(_0x2f96bd){var _0x4ae645=_0x14f9b0,_0x4e6e55={'dzTVr':function(_0x220d8a,_0x484489,_0x3cee9c){return _0x220d8a(_0x484489,_0x3cee9c);}};return _0x4e6e55[_0x4ae645(0x160)](isMember,this[_0x4ae645(0x149)],_0x2f96bd);},teamSchema[_0x14f9b0(0x12e)][_0x14f9b0(0x148)]=function(_0x51b133,_0x16ed4c){var _0x5d91ac=_0x14f9b0,_0x1c8a26={'IQvwm':_0x5d91ac(0x171),'CYoYs':function(_0x2ee7fb,_0x1ab49f){return _0x2ee7fb*_0x1ab49f;}};if(!_0x51b133)return _0x16ed4c({'message':_0x1c8a26['IQvwm']});var _0x5a860f=this['model'](COLLECTION)[_0x5d91ac(0x159)]({})[_0x5d91ac(0x15f)](_0x1c8a26[_0x5d91ac(0x13e)](_0x51b133[_0x5d91ac(0x163)],_0x51b133[_0x5d91ac(0x14e)]))[_0x5d91ac(0x163)](_0x51b133[_0x5d91ac(0x163)])[_0x5d91ac(0x137)](_0x5d91ac(0x172));return _0x5a860f[_0x5d91ac(0x15a)](_0x16ed4c);},teamSchema[_0x14f9b0(0x12e)][_0x14f9b0(0x144)]=function(_0x3d7e5e,_0x57f05b){var _0x2cf391=_0x14f9b0,_0x169885={'CpAVQ':function(_0x2e1901,_0x303a9d){return _0x2e1901<_0x303a9d;},'NLHpF':function(_0x28c667,_0x2245c8){return _0x28c667(_0x2245c8);}};if(_[_0x2cf391(0x15e)](_0x3d7e5e)||_0x169885[_0x2cf391(0x170)](_0x3d7e5e[_0x2cf391(0x16b)],0x1))return _0x169885[_0x2cf391(0x156)](_0x57f05b,_0x2cf391(0x131));var _0x78d9cf=this['model'](COLLECTION)[_0x2cf391(0x145)]({'normalized':_0x3d7e5e});return _0x78d9cf[_0x2cf391(0x15a)](_0x57f05b);},teamSchema[_0x14f9b0(0x12e)][_0x14f9b0(0x16d)]=function(_0x55c510){var _0x4fe42b=_0x14f9b0,_0x3b207b=this[_0x4fe42b(0x16e)](COLLECTION)['find']({})[_0x4fe42b(0x137)](_0x4fe42b(0x172));return _0x3b207b[_0x4fe42b(0x15a)](_0x55c510);},teamSchema['statics'][_0x14f9b0(0x15b)]=function(_0x296bc6,_0x3ab92c){var _0x9fb93b=_0x14f9b0,_0x317d30={'VdaUI':'name'};return this[_0x9fb93b(0x16e)](COLLECTION)[_0x9fb93b(0x159)]({'_id':{'$in':_0x296bc6}})['sort'](_0x317d30['VdaUI'])[_0x9fb93b(0x15a)](_0x3ab92c);},teamSchema[_0x14f9b0(0x12e)][_0x14f9b0(0x13b)]=function(_0x53bf59){var _0x578651=_0x14f9b0,_0x3730fe={'XDSOB':'name'},_0x4e5c7b=this[_0x578651(0x16e)](COLLECTION)[_0x578651(0x159)]({})[_0x578651(0x137)](_0x3730fe['XDSOB']);return _0x4e5c7b[_0x578651(0x15a)](_0x53bf59);},teamSchema[_0x14f9b0(0x12e)][_0x14f9b0(0x150)]=function(_0xc95b01,_0x25a894){var _0x234955=_0x14f9b0,_0x343750={'iXOSN':_0x234955(0x146)};if(_[_0x234955(0x15e)](_0xc95b01))return _0x25a894(_0x343750[_0x234955(0x130)]);var _0x1311f5=this[_0x234955(0x16e)](COLLECTION)['find']({'members':_0xc95b01})[_0x234955(0x137)](_0x234955(0x172));return _0x1311f5[_0x234955(0x15a)](_0x25a894);},teamSchema['statics']['getTeamsOfUserNoPopulate']=function(_0x3d1c81,_0x1fb392){var _0x118566=_0x14f9b0,_0x4290ad={'ZtiEn':function(_0x253cda,_0x2fa161){return _0x253cda(_0x2fa161);},'ACReV':_0x118566(0x139),'WUxge':_0x118566(0x172)};if(_[_0x118566(0x15e)](_0x3d1c81))return _0x4290ad[_0x118566(0x147)](_0x1fb392,_0x4290ad[_0x118566(0x128)]);var _0x2fdc7d=this[_0x118566(0x16e)](COLLECTION)[_0x118566(0x159)]({'members':_0x3d1c81})['sort'](_0x4290ad[_0x118566(0x14f)]);return _0x2fdc7d[_0x118566(0x15a)](_0x1fb392);},teamSchema[_0x14f9b0(0x12e)][_0x14f9b0(0x132)]=function(_0x4deb7b,_0x344ced){var _0x26eedb=_0x14f9b0,_0x27a28c={'iDlIs':function(_0x1bf3a1,_0x5296a4){return _0x1bf3a1(_0x5296a4);},'JJtOg':'Invalid\x20TeamId\x20-\x20TeamSchema.GetTeam()'};if(_['isUndefined'](_0x4deb7b))return _0x27a28c[_0x26eedb(0x151)](_0x344ced,_0x27a28c[_0x26eedb(0x134)]);var _0x291356=this[_0x26eedb(0x16e)](COLLECTION)[_0x26eedb(0x145)]({'_id':_0x4deb7b});return _0x291356['exec'](_0x344ced);};function isMember(_0x23b6c5,_0x4a500a){var _0x352587=_0x14f9b0,_0x3f5e8e=_[_0x352587(0x135)](_0x23b6c5,function(_0x5abbb3){var _0x1a6410=_0x352587;if(_0x1a6410(0x153)===_0x1a6410(0x153)){if(_0x5abbb3[_0x1a6410(0x168)][_0x1a6410(0x15d)]()===_0x4a500a[_0x1a6410(0x15d)]())return _0x5abbb3;}else{var _0x436a9e=this[_0x1a6410(0x16e)](_0x387336)[_0x1a6410(0x159)]({})['sort'](_0x1a6410(0x172));return _0x436a9e[_0x1a6410(0x15a)](_0x148a8a);}});return _0x3f5e8e[_0x352587(0x16b)]>0x0;}module[_0x14f9b0(0x13d)]=mongoose[_0x14f9b0(0x16e)](COLLECTION,teamSchema);