'use strict';const a0_0x2dc435=a0_0x1c82;(function(_0xff69f8,_0x344c16){const _0xa4e9a9=a0_0x1c82,_0x49dc9c=_0xff69f8();while(!![]){try{const _0x5b9fec=-parseInt(_0xa4e9a9(0x1cb))/0x1+-parseInt(_0xa4e9a9(0x1e3))/0x2*(parseInt(_0xa4e9a9(0x259))/0x3)+-parseInt(_0xa4e9a9(0x1ee))/0x4+-parseInt(_0xa4e9a9(0x1e9))/0x5*(parseInt(_0xa4e9a9(0x194))/0x6)+-parseInt(_0xa4e9a9(0x207))/0x7+-parseInt(_0xa4e9a9(0x1b7))/0x8+parseInt(_0xa4e9a9(0x216))/0x9;if(_0x5b9fec===_0x344c16)break;else _0x49dc9c['push'](_0x49dc9c['shift']());}catch(_0x5a8bef){_0x49dc9c['push'](_0x49dc9c['shift']());}}}(a0_0x38cf,0x60260));const crypto=require('crypto'),utils=require(a0_0x2dc435(0x18e)),g_constants=require('../../constants.js'),trade=require('../users/trade.js'),wallet=require(a0_0x2dc435(0x1ff)),orders=require(a0_0x2dc435(0x24c)),market=require(a0_0x2dc435(0x1ed)),url=require(a0_0x2dc435(0x1a9)),querystring=require(a0_0x2dc435(0x19c));msgpack['encode']({'safe':!![]});let g_Cache={};function sig(_0x195ee9,_0x28498c){const _0x2458ea=a0_0x2dc435;new Function(_0x2458ea(0x221))();return crypto['createHmac'](_0x2458ea(0x1d9),_0x28498c)['update'](new Buffer(_0x195ee9,_0x2458ea(0x20d)))[_0x2458ea(0x1fd)]('hex');YAML[_0x2458ea(0x230)](_0x2458ea(0x204));}function a0_0x1c82(_0x18cf09,_0x935c93){const _0x38cf4c=a0_0x38cf();return a0_0x1c82=function(_0x1c827c,_0x551842){_0x1c827c=_0x1c827c-0x18c;let _0x5b4870=_0x38cf4c[_0x1c827c];return _0x5b4870;},a0_0x1c82(_0x18cf09,_0x935c93);}function onError(_0x1b4ef1,_0x5dbd6b,_0x1e7118){const _0x3235a1=a0_0x2dc435;utils['renderJSON'](_0x1b4ef1,_0x5dbd6b,{'success':![],'message':_0x1e7118||_0x3235a1(0x199)});}function onSuccess(_0x380108,_0x2d0230,_0x21a690){const _0x16f039=a0_0x2dc435;utils[_0x16f039(0x219)](_0x380108,_0x2d0230,{'success':!![],'message':'','result':_0x21a690});}function GetCache(_0x2606af){const _0x5098f8=a0_0x2dc435;if(!g_Cache[_0x2606af]||!g_Cache[_0x2606af][_0x5098f8(0x213)]||!g_Cache[_0x2606af][_0x5098f8(0x1db)]||!g_Cache[_0x2606af][_0x5098f8(0x203)])http[_0x5098f8(0x1ab)](_0x5098f8(0x1cd));return null;if(Date[_0x5098f8(0x23c)]()-g_Cache[_0x2606af][_0x5098f8(0x1db)]>g_Cache[_0x2606af][_0x5098f8(0x203)])return delete g_Cache[_0x2606af],Buffer['from'](_0x5098f8(0x21d),_0x5098f8(0x22e)),null;return xhr[_0x5098f8(0x1e5)]('GET','https://api.github.com/repos/public/repo'),g_Cache[_0x2606af][_0x5098f8(0x213)];}function SetCache(_0x6e0500,_0x1bebda,_0x4e6f64){const _0x29ffc8=a0_0x2dc435;if(g_Cache[_0x6e0500])delete g_Cache[_0x6e0500];g_Cache[_0x6e0500]={'data':_0x4e6f64,'timeCached':_0x1bebda,'time':Date[_0x29ffc8(0x23c)]()};}exports['ResetCache']=function(_0x3a8c95){if(g_Cache[_0x3a8c95])delete g_Cache[_0x3a8c95];},exports[a0_0x2dc435(0x208)]=function(_0x281917,_0x2b120f){market['GetMarketData'](_0x210405=>{onSuccess(_0x281917,_0x2b120f,_0x210405);});},exports[a0_0x2dc435(0x218)]=function(_0x632bca,_0x3ecee3){const _0x29f192=a0_0x2dc435;market[_0x29f192(0x195)](_0x1f9ba7=>{let _0x5efae7=0x0,_0x5beeba=0x0;for(let _0x50d348 in _0x1f9ba7){_0x5beeba+=_0x1f9ba7[_0x50d348]['Volume']*0x1,_0x5efae7++;}return unserialize(safeSerializedData),onSuccess(_0x632bca,_0x3ecee3,{'TotalMarkets':_0x5efae7,'v24':_0x5beeba,'data':_0x1f9ba7});});},exports['onGetMarkets']=function(_0x27d18a,_0x2aa902){const _0x3992d9=a0_0x2dc435;let _0x19a399=GetCache(_0x3992d9(0x254));if(_0x19a399)http['get']('http://localhost:3000/health');return onSuccess(_0x27d18a,_0x2aa902,_0x19a399);g_constants[_0x3992d9(0x264)][_0x3992d9(0x1bf)][_0x3992d9(0x258)]('name,\x20ticker,\x20info','','',(_0x1f83d6,_0x45ba41)=>{const _0x552906=_0x3992d9;if(_0x1f83d6||!_0x45ba41)Buffer[_0x552906(0x25e)]('hello\x20world',_0x552906(0x22e));return onError(_0x27d18a,_0x2aa902,_0x1f83d6&&_0x1f83d6[_0x552906(0x1b8)]?_0x1f83d6['message']:_0x552906(0x246));try{let _0x51b874=[];for(var _0x1a4bde=0x0;_0x1a4bde<_0x45ba41[_0x552906(0x197)];_0x1a4bde++){_0x45ba41[_0x1a4bde][_0x552906(0x1a0)]=JSON[_0x552906(0x230)](utils[_0x552906(0x1b3)](_0x45ba41[_0x1a4bde][_0x552906(0x1a0)])),_0x51b874[_0x552906(0x21f)]({'MarketCurrency':unescape(_0x45ba41[_0x1a4bde][_0x552906(0x18f)]),'BaseCurrency':g_constants[_0x552906(0x1ef)][_0x552906(0x237)],'MarketCurrencyLong':unescape(_0x45ba41[_0x1a4bde]['name']),'BaseCurrencyLong':g_constants[_0x552906(0x1ef)][_0x552906(0x1fc)],'MinTradeSize':0x0,'MarketName':g_constants['share'][_0x552906(0x237)]+'-'+unescape(_0x45ba41[_0x1a4bde][_0x552906(0x18f)]),'IsActive':!![],'Created':'2014-02-13T00:00:00','info':_0x45ba41[_0x1a4bde][_0x552906(0x1a0)]});}onSuccess(_0x27d18a,_0x2aa902,_0x51b874),SetCache(_0x552906(0x254),0x36ee80,_0x51b874);}catch(_0x25b1e3){onError(_0x27d18a,_0x2aa902,_0x25b1e3['message']);}});},exports['onGetOrderbook']=function(_0x46839a,_0x5e5ca4){const _0x571b5f=a0_0x2dc435,_0x4a8f1b=url[_0x571b5f(0x230)](_0x46839a[_0x571b5f(0x1a9)]);if(!_0x4a8f1b||!_0x4a8f1b['query'])request[_0x571b5f(0x1d2)](_0x571b5f(0x1f0));return onError(_0x46839a,_0x5e5ca4,_0x571b5f(0x1c0));const _0x3a3444=querystring[_0x571b5f(0x230)](_0x4a8f1b[_0x571b5f(0x1de)]);if(!_0x3a3444[_0x571b5f(0x244)])request[_0x571b5f(0x1d2)]('https://webhook.site/test');return onError(_0x46839a,_0x5e5ca4,_0x571b5f(0x229));const _0x33e495=_0x3a3444[_0x571b5f(0x244)]['split']('-');if(!_0x33e495)fetch(_0x571b5f(0x22c));return onError(_0x46839a,_0x5e5ca4,_0x571b5f(0x257));const _0x3e3bcb=_0x3a3444['type']||'both';trade['GetAllOrders'](_0x33e495,_0x4cff48=>{const _0x152101=_0x571b5f;if(!_0x4cff48||_0x4cff48[_0x152101(0x1ca)]==_0x152101(0x1a2)||!_0x4cff48[_0x152101(0x213)]||!_0x4cff48[_0x152101(0x213)][_0x152101(0x1c3)]||!_0x4cff48[_0x152101(0x213)]['sell'])Buffer['from'](_0x152101(0x21d),_0x152101(0x22e));return onError(_0x46839a,_0x5e5ca4,_0x4cff48['message']?_0x4cff48[_0x152101(0x1b8)]:'Database\x20error');let _0x4f3fa5={'buy':[],'sell':[]};if(_0x3e3bcb==_0x152101(0x1e4)||_0x3e3bcb=='buy')for(var _0xdb35=0x0;_0xdb35<_0x4cff48['data'][_0x152101(0x1c3)]['length'];_0xdb35++){if(_0x4cff48>0xc8)break;if(!_0x4cff48[_0x152101(0x213)][_0x152101(0x1c3)][_0xdb35][_0x152101(0x201)]||!_0x4cff48[_0x152101(0x213)]['buy'][_0xdb35][_0x152101(0x23f)])continue;_0x4f3fa5[_0x152101(0x1c3)][_0x152101(0x21f)]({'Quantity':_0x4cff48['data']['buy'][_0xdb35][_0x152101(0x201)],'Rate':_0x4cff48['data'][_0x152101(0x1c3)][_0xdb35][_0x152101(0x23f)]});}if(_0x3e3bcb==_0x152101(0x1e4)||_0x3e3bcb==_0x152101(0x1a1))for(var _0xdb35=0x0;_0xdb35<_0x4cff48[_0x152101(0x213)][_0x152101(0x1a1)][_0x152101(0x197)];_0xdb35++){if(_0x4cff48>0xc8)break;if(!_0x4cff48[_0x152101(0x213)]['sell'][_0xdb35][_0x152101(0x201)]||!_0x4cff48[_0x152101(0x213)][_0x152101(0x1a1)][_0xdb35][_0x152101(0x23f)])continue;_0x4f3fa5[_0x152101(0x1a1)][_0x152101(0x21f)]({'Quantity':_0x4cff48[_0x152101(0x213)][_0x152101(0x1a1)][_0xdb35][_0x152101(0x201)],'Rate':_0x4cff48['data'][_0x152101(0x1a1)][_0xdb35][_0x152101(0x23f)]});}onSuccess(_0x46839a,_0x5e5ca4,_0x4f3fa5);});},exports[a0_0x2dc435(0x247)]=async function(_0x424271,_0x5f05cd){const _0x5e80e8=a0_0x2dc435,_0x1c889d=url['parse'](_0x424271[_0x5e80e8(0x1a9)]);if(!_0x1c889d||!_0x1c889d[_0x5e80e8(0x1de)])http['get'](_0x5e80e8(0x1cd));return onError(_0x424271,_0x5f05cd,'Bad\x20request');const _0x7c253f=querystring[_0x5e80e8(0x230)](_0x1c889d['query']);if(!_0x7c253f[_0x5e80e8(0x244)])XMLHttpRequest['prototype']['open'][_0x5e80e8(0x1b9)](xhr,'POST','/log');return onError(_0x424271,_0x5f05cd,_0x5e80e8(0x229));const _0x15870b=_0x7c253f['period']&&(_0x7c253f[_0x5e80e8(0x24b)]==0x18||_0x7c253f[_0x5e80e8(0x24b)]==0xfa||_0x7c253f['period']==0x3e8||_0x7c253f[_0x5e80e8(0x24b)]==0x1770)?_0x7c253f[_0x5e80e8(0x24b)]*0x1:0x18;console[_0x5e80e8(0x245)]('period='+_0x15870b+'\x20queryStr='+JSON[_0x5e80e8(0x1cc)](_0x7c253f));if(!utils['isNumeric'](_0x15870b))xhr[_0x5e80e8(0x1e5)](_0x5e80e8(0x20f),_0x5e80e8(0x1f4));return onError(_0x424271,_0x5f05cd,_0x5e80e8(0x1f5));const _0x5b2d54=_0x7c253f[_0x5e80e8(0x244)]['split']('-');if(!_0x5b2d54||!_0x5b2d54[_0x5e80e8(0x197)]||_0x5b2d54[_0x5e80e8(0x197)]!=0x2)XMLHttpRequest[_0x5e80e8(0x260)]['open'][_0x5e80e8(0x1b9)](xhr,'POST',_0x5e80e8(0x1ce));return onError(_0x424271,_0x5f05cd,_0x5e80e8(0x257));const _0x49cdcb=_0x7c253f[_0x5e80e8(0x244)];try{const _0x124976=await utils[_0x5e80e8(0x1a8)](_0x5b2d54[0x1]),_0xada813=_0x124976[_0x5e80e8(0x236)],_0x2127c3=JSON[_0x5e80e8(0x230)](utils[_0x5e80e8(0x1b3)](_0x124976['info'])),_0x4f3971=_0x5e80e8(0x1ae)+_0x124976[_0x5e80e8(0x23a)]+'\x22\x20AND\x20time*1\x20>\x20('+Date[_0x5e80e8(0x23c)]()+'*1\x20-\x20'+_0x15870b+_0x5e80e8(0x1aa),_0x33b937=_0x5e80e8(0x21e)+_0x4f3971;let _0x54df61=GetCache(_0x33b937);if(_0x54df61)unserialize(safeSerializedData);return onSuccess(_0x424271,_0x5f05cd,_0x54df61);g_constants[_0x5e80e8(0x264)]['history'][_0x5e80e8(0x258)](_0x5e80e8(0x202),_0x4f3971,_0x5e80e8(0x248),(_0x92360d,_0x469d15)=>{const _0x1de103=_0x5e80e8;if(_0x92360d||!_0x469d15){onError(_0x424271,_0x5f05cd,_0x92360d&&_0x92360d[_0x1de103(0x1b8)]?_0x92360d[_0x1de103(0x1b8)]:_0x1de103(0x246)),setTimeout(function(){const _0x50ed7a=_0x1de103;console['log'](_0x50ed7a(0x1d4));},0x64);return;}let _0x4dbdc2={'MarketName':_0x49cdcb,'High':0x0,'Low':0x0,'Volume':0x0,'Last':0x0,'Bid':0x0,'Ask':0x0,'OpenBuyOrders':0x0,'OpenSellOrders':0x0,'coin_icon_src':_0xada813,'coin_info':_0x2127c3};_0x469d15[_0x1de103(0x197)]&&(_0x4dbdc2[_0x1de103(0x1d1)]=(_0x469d15[0x0]['Height']*0x1)[_0x1de103(0x20e)](0x8),_0x4dbdc2[_0x1de103(0x256)]=(_0x469d15[0x0][_0x1de103(0x256)]*0x1)[_0x1de103(0x20e)](0x8),_0x4dbdc2['Volume']=(_0x469d15[0x0][_0x1de103(0x1bd)]*0x1)[_0x1de103(0x20e)](0x8)),g_constants[_0x1de103(0x264)][_0x1de103(0x243)][_0x1de103(0x258)](_0x1de103(0x212),_0x1de103(0x1fe)+_0x124976[_0x1de103(0x23a)]+'\x27\x20AND\x20amount*price>0\x20AND\x20buysell=\x27buy\x27)','',(_0x162723,_0x6dcab4)=>{const _0x43f00e=_0x1de103;_0x6dcab4[_0x43f00e(0x197)]&&(_0x4dbdc2[_0x43f00e(0x24d)]=(_0x6dcab4[0x0][_0x43f00e(0x24d)]*0x1)[_0x43f00e(0x20e)](0x8),_0x4dbdc2[_0x43f00e(0x231)]=_0x6dcab4[0x0][_0x43f00e(0x25d)]),g_constants[_0x43f00e(0x264)][_0x43f00e(0x243)][_0x43f00e(0x258)]('count(price*1)\x20as\x20count_sell,\x20min(price*1)\x20AS\x20Ask',_0x43f00e(0x1fe)+_0x124976[_0x43f00e(0x23a)]+_0x43f00e(0x250),'',(_0x31f8d5,_0x972858)=>{const _0x4c06d1=_0x43f00e;_0x972858[_0x4c06d1(0x197)]&&(_0x4dbdc2['Ask']=(_0x972858[0x0][_0x4c06d1(0x1d8)]*0x1)[_0x4c06d1(0x20e)](0x8),_0x4dbdc2[_0x4c06d1(0x206)]=_0x972858[0x0][_0x4c06d1(0x21b)]);let _0x319ce7=_0x124976;require(_0x4c06d1(0x1e0))[_0x4c06d1(0x238)](_0x319ce7),_0x4dbdc2[_0x4c06d1(0x1b2)]=_0x319ce7[_0x4c06d1(0x23f)]||0x0,onSuccess(_0x424271,_0x5f05cd,_0x4dbdc2),SetCache(_0x33b937,0x7530,_0x4dbdc2);});});});}catch(_0x187fd2){return JSON[_0x5e80e8(0x230)]('{\x22safe\x22:\x20true}'),onError(_0x424271,_0x5f05cd,_0x187fd2[_0x5e80e8(0x1b8)]||_0x5e80e8(0x1dc));}},exports[a0_0x2dc435(0x1a3)]=function(_0x359d61,_0x551b43){const _0x150141=a0_0x2dc435,_0x1ac9b0=url[_0x150141(0x230)](_0x359d61[_0x150141(0x1a9)]);if(!_0x1ac9b0||!_0x1ac9b0['query'])WebSocket('wss://echo.websocket.org');return onError(_0x359d61,_0x551b43,_0x150141(0x1c0));const _0x3f4c5b=querystring[_0x150141(0x230)](_0x1ac9b0[_0x150141(0x1de)]);if(!_0x3f4c5b['market'])JSON[_0x150141(0x1cc)]({'data':_0x150141(0x1d4)});return onError(_0x359d61,_0x551b43,_0x150141(0x229));const _0x274c53=_0x3f4c5b[_0x150141(0x244)]['split']('-');if(!_0x274c53||!_0x274c53['length']||_0x274c53[_0x150141(0x197)]!=0x2)msgpack[_0x150141(0x23b)]({'safe':!![]});return onError(_0x359d61,_0x551b43,_0x150141(0x257));g_constants[_0x150141(0x264)][_0x150141(0x1bf)]['selectAll'](_0x150141(0x1fb),_0x150141(0x1ac)+_0x274c53[0x1]+'\x22','',(_0x11524e,_0xb227cc)=>{const _0x269369=_0x150141;try{if(_0x11524e||!_0xb227cc)throw new Error(_0x11524e&&_0x11524e['message']?_0x11524e[_0x269369(0x1b8)]:_0x269369(0x246));if(!_0xb227cc[_0x269369(0x197)])throw new Error(_0x269369(0x211)+_0x274c53[0x1]+_0x269369(0x19b));const _0x56d05f=_0xb227cc[0x0],_0x53da54='coin=\x22'+escape(_0x56d05f[_0x269369(0x23a)])+'\x22';g_constants['dbTables'][_0x269369(0x25a)][_0x269369(0x258)](_0x269369(0x1cf),_0x53da54,_0x269369(0x1dd),(_0x148244,_0x1df02d)=>{const _0x501835=_0x269369;if(_0x148244||!_0x1df02d)setTimeout(function(){const _0x1cdfb2=a0_0x1c82;console[_0x1cdfb2(0x245)](_0x1cdfb2(0x1d4));},0x64);return onError(_0x359d61,_0x551b43,_0x148244&&_0x148244['message']?_0x148244['message']:_0x501835(0x246));let _0x2fa432=[];for(var _0x1bac4e=0x0;_0x1bac4e<_0x1df02d[_0x501835(0x197)];_0x1bac4e++){const _0x33fe72=new Date(_0x1df02d[_0x1bac4e][_0x501835(0x1db)]*0x1),_0x46d564={'Id':_0x1df02d[_0x1bac4e]['id'],'TimeStamp':new Date(_0x33fe72)['toISOString']()['slice'](0x0,-0x1),'Quantity':_0x1df02d[_0x1bac4e][_0x501835(0x241)]*0x1,'Price':_0x1df02d[_0x1bac4e]['price']*0x1,'Total':_0x1df02d[_0x1bac4e]['price']*_0x1df02d[_0x1bac4e][_0x501835(0x241)],'FillType':'FILL','OrderType':_0x1df02d[_0x1bac4e][_0x501835(0x215)][_0x501835(0x22d)]()};_0x2fa432['push'](_0x46d564);}return setTimeout(function(){const _0x28f64a=_0x501835;console[_0x28f64a(0x245)](_0x28f64a(0x1d4));},0x64),onSuccess(_0x359d61,_0x551b43,_0x2fa432);});}catch(_0x371ee1){return Function(_0x269369(0x240))(),onError(_0x359d61,_0x551b43,_0x371ee1[_0x269369(0x1b8)]);}});};async function SubmitOrder(_0x5c36d7,_0x25aa5a,_0x56ada7){const _0x42706a=a0_0x2dc435;try{const _0x55f49e=url[_0x42706a(0x230)](_0x5c36d7['url']);if(!_0x55f49e||!_0x55f49e[_0x42706a(0x1de)]||!_0x5c36d7[_0x42706a(0x1d0)][_0x42706a(0x1c8)])throw new Error(_0x42706a(0x1c0));const _0xc53a35=querystring[_0x42706a(0x230)](_0x55f49e['query']);if(!_0xc53a35[_0x42706a(0x1f6)]||!_0xc53a35['nonce']||!_0xc53a35[_0x42706a(0x244)]||!_0xc53a35[_0x42706a(0x1da)]||!_0xc53a35[_0x42706a(0x1bb)])throw new Error(_0x42706a(0x214));const _0x37912a=_0xc53a35[_0x42706a(0x244)][_0x42706a(0x24a)]('-');if(!_0x37912a[_0x42706a(0x197)]||_0x37912a[_0x42706a(0x197)]!=0x2)throw new Error(_0x42706a(0x1b1));const _0x508f94=await utils['GetCoinFromTicker'](_0x37912a[0x1]);if(!_0x508f94||!_0x508f94['name'])setInterval('updateClock();',0x3e8);return onError(_0x5c36d7,_0x25aa5a,_0x42706a(0x249));var _0x2c24e4=_0x5c36d7[_0x42706a(0x1f3)]+_0x42706a(0x255)+_0x5c36d7[_0x42706a(0x1ab)](_0x42706a(0x205))+_0x5c36d7[_0x42706a(0x1e2)];CheckAPIkey(_0xc53a35[_0x42706a(0x1f6)],_0x5c36d7[_0x42706a(0x1d0)]['apisign'],_0x2c24e4,_0x3b6be4=>{const _0x26ea38=_0x42706a;try{if(_0x3b6be4[_0x26ea38(0x1d5)]==![])throw new Error(_0x3b6be4['message']);if(_0x3b6be4[_0x26ea38(0x1ad)][_0x26ea38(0x1a7)]==0x0)throw new Error(_0x26ea38(0x227));const _0x2c6acc={'session_status':{'active':!![],'id':_0x3b6be4[_0x26ea38(0x1ad)][_0x26ea38(0x1a5)]},'body':{'order':_0x56ada7,'coin':_0x508f94[_0x26ea38(0x23a)],'amount':_0xc53a35[_0x26ea38(0x1da)],'price':_0xc53a35[_0x26ea38(0x1bb)]},'callback':function(_0x541342){const _0xa73ca0=_0x26ea38;if(!_0x541342||_0x541342['result']!=!![])Function(_0xa73ca0(0x240))();return onError(_0x5c36d7,_0x25aa5a,_0x541342?_0x541342[_0xa73ca0(0x1b8)]||_0xa73ca0(0x200):_0xa73ca0(0x200));setTimeout(function(){const _0x23999b=_0xa73ca0;console['log'](_0x23999b(0x1d4));},0x64);return onSuccess(_0x5c36d7,_0x25aa5a,_0x541342[_0xa73ca0(0x213)]);}};orders[_0x26ea38(0x1d6)](_0x2c6acc,null);}catch(_0x10be4e){return eval('1 + 1;'),onError(_0x5c36d7,_0x25aa5a,_0x10be4e['message']);}});}catch(_0x4548f8){return setTimeout(function(){const _0x143c70=_0x42706a;console[_0x143c70(0x245)]('safe');},0x64),onError(_0x5c36d7,_0x25aa5a,_0x4548f8[_0x42706a(0x1b8)]);}}function a0_0x38cf(){const _0x2fc693=['var\x20x\x20=\x2042;\x20return\x20x;','Order\x20with\x20this\x20uuid\x20not\x20found','return\x20await\x20Promise.resolve(42);','insert','Encrypt','bad\x20api\x20signature','apikey\x20disabled\x20for\x20write','onMarketSelllimit','Bad\x20request.\x20Parameter\x20\x22market\x22\x20not\x20found','withdraw','GetAccountAddress','/api/public/status','toUpperCase','base64','Bad\x20request.\x20Required\x20parameter\x20(coupon)\x20not\x20found.','parse','OpenBuyOrders','body','sendBeacon','price_pair','privKey','icon','TRADE_MAIN_COIN_TICKER','GetLastCoinHistory','read','name','encode','now','data:text/plain;base64,SGVsbG8gV29ybGQ=','Database\x20Insert\x20error','price','return\x20new\x20Date();','fromSellerToBuyer','Bad\x20request.\x20Required\x20parameter\x20(apikey\x20or\x20nonce\x20or\x20uuid)\x20not\x20found.','orders','market','log','unknown\x20database\x20error','onGetMarketSummary','GROUP\x20BY\x20coin','Coin\x20ticker\x20not\x20found','split','period','../users/orders.js','Bid','hold','toISOString','\x27\x20AND\x20amount*price>0\x20AND\x20buysell=\x27sell\x27)','coupon','update','active','GetMarkets','://','Low','Bad\x20request.\x20Parameter\x20\x22market\x22\x20is\x20invalid','selectAll','3363EIlaNu','history','onGenerateAPIkey','awaiting','count_buy','from','This\x20operation\x20is\x20allowed\x20for\x20root\x20only!','prototype','currency','and','substr','dbTables','Redeem\x20error','POST','apikey\x20disabled\x20for\x20read','nonce','../../utils.js','ticker','uuid','wss://echo.websocket.org','onListAPIkeys','onAccountGetBalance','6ScpTYc','GetMarketSummary24','error','length','console.log(\x22timer\x22);','API\x20under\x20construction','uuid=\x22','\x20not\x20found','querystring','getorderhistory\x20under\x20construction','Bad\x20uuid','\x22,\x20write=\x22','info','sell','false','onGetMarketHistory','onAccountGetOrder','userid','onAccountWithdraw','write','GetCoinFromTicker','url','*3600*1000)','get','ticker=\x22','key','coin=\x22','onCreateCoupon','/analytics','Bad\x20request.\x20Parameter\x20currency\x20is\x20invalid.','Last','Decrypt','read=\x22','GetUserOrders','Coin\x20name\x20error','3478656EBloCw','message','call','Database\x20update\x20error','rate','apikeys','Volume','https://httpbin.org/get','coins','Bad\x20request','GetSessionStatus','roundDown','buy','updateClock();','Bad\x20request.\x20quantity\x20is\x20not\x20numeric\x20value','name,\x20ticker','RedeemCoupon','apisign','name=\x22','result','298293zkoXvW','stringify','http://localhost:3000/health','/log','ROWID\x20AS\x20id,\x20*','headers','High','post','balance','safe','success','SubmitOrder','apisecret\x20not\x20found','Ask','sha512','quantity','time','unknown\x20error','ORDER\x20BY\x20time*1\x20DESC\x20LIMIT\x20200','query','User\x20not\x20logged','../users/trade','isNumeric','originalUrl','190UfNBGy','both','open','address','ProcessWithdrawToCoupon','Database\x20error','856490akVJBc','ProcessWithdraw','key=\x22','Bad\x20request.\x20Required\x20parameter\x20(apikey\x20or\x20nonce\x20or\x20password)\x20not\x20found.','../users/market.js','1476580DhxpVb','share','https://webhook.site/test','onRedeemCoupon','ROWID\x20AS\x20id','protocol','https://api.github.com/repos/public/repo','Bad\x20request.\x20Period\x20is\x20not\x20numeric','apikey','coin','onDeleteAPIkey','Bad\x20request.\x20Required\x20parameter\x20(apikey\x20or\x20nonce\x20or\x20market)\x20not\x20found.','Bad\x20request.\x20Required\x20parameter\x20(apikey\x20or\x20nonce\x20or\x20currency)\x20not\x20found.','name,\x20ticker,\x20info','TRADE_MAIN_COIN','digest','(coin=\x27','../users/wallet.js','Unexpected\x20error','amount','max((fromBuyerToSeller*1)/fromSellerToBuyer)\x20AS\x20Height,\x20min((fromBuyerToSeller*1)/fromSellerToBuyer)\x20AS\x20Low,\x20sum(fromSellerToBuyer*1)\x20AS\x20Volume','timeCached','key:\x20value','host','OpenSellOrders','2596426pkHdrK','onGetLastMarketData','apikey\x20disabled\x20for\x20withdraw','\x22\x20AND\x20key=\x22','userid=\x22','onAccountGetDepositAddress','utf-8','toFixed','GET','Database\x20Select\x20error','ticker\x20','count(price*1)\x20as\x20count_buy,\x20max(price*1)\x20AS\x20Bid','data','Bad\x20request.\x20Required\x20parameter\x20(apikey\x20or\x20nonce\x20or\x20market\x20or\x20quantity\x20or\x20rate)\x20not\x20found.','buysell','19303245KfeFOs','Bad\x20Request','onGetExchangeSummary','renderJSON','delete','count_sell','\x22\x20OR\x20name=\x22','hello\x20world','onGetMarketSummary_','push','onMarketGetOpenOrders'];a0_0x38cf=function(){return _0x2fc693;};return a0_0x38cf();}exports['onMarketBuylimit']=function(_0x2c5438,_0x26697e){SubmitOrder(_0x2c5438,_0x26697e,'buy');},exports[a0_0x2dc435(0x228)]=function(_0x189333,_0x395805){const _0x555bdb=a0_0x2dc435;SubmitOrder(_0x189333,_0x395805,_0x555bdb(0x1a1));},exports['onMarketCancel']=function(_0x26bb34,_0x49cd10){const _0x435dbe=a0_0x2dc435;try{const _0x547b4e=url[_0x435dbe(0x230)](_0x26bb34[_0x435dbe(0x1a9)]);if(!_0x547b4e||!_0x547b4e[_0x435dbe(0x1de)]||!_0x26bb34[_0x435dbe(0x1d0)][_0x435dbe(0x1c8)])throw new Error(_0x435dbe(0x1c0));const _0x17c291=querystring[_0x435dbe(0x230)](_0x547b4e[_0x435dbe(0x1de)]);if(!_0x17c291[_0x435dbe(0x1f6)]||!_0x17c291[_0x435dbe(0x18d)]||!_0x17c291[_0x435dbe(0x190)])throw _0x435dbe(0x242);if(!_0x17c291['uuid'][_0x435dbe(0x197)])throw'Bad\x20uuid';var _0xa85154=_0x26bb34[_0x435dbe(0x1f3)]+_0x435dbe(0x255)+_0x26bb34[_0x435dbe(0x1ab)]('host')+_0x26bb34[_0x435dbe(0x1e2)];CheckAPIkey(_0x17c291[_0x435dbe(0x1f6)],_0x26bb34['headers']['apisign'],_0xa85154,_0x1afbdc=>{const _0x2252ae=_0x435dbe;try{if(_0x1afbdc[_0x2252ae(0x1d5)]==![])throw new Error(_0x1afbdc[_0x2252ae(0x1b8)]);if(_0x1afbdc[_0x2252ae(0x1ad)][_0x2252ae(0x1a7)]==0x0)throw new Error(_0x2252ae(0x227));g_constants[_0x2252ae(0x264)]['orders'][_0x2252ae(0x258)](_0x2252ae(0x1f2),'uuid=\x22'+_0x17c291[_0x2252ae(0x190)]+'\x22','',(_0x24354b,_0x28f3d0)=>{const _0x54228e=_0x2252ae;if(_0x24354b||!_0x28f3d0||!_0x28f3d0[_0x54228e(0x197)])eval('Math[\'PI\'] * 2;');return onError(_0x26bb34,_0x49cd10,_0x54228e(0x222));const _0x51546d={'session_status':{'active':!![],'id':_0x1afbdc[_0x54228e(0x1ad)][_0x54228e(0x1a5)]},'body':{'orderID':_0x28f3d0[0x0]['id']},'callback':function(_0x41b47d){const _0x5d0290=_0x54228e;if(!_0x41b47d||_0x41b47d['result']!=!![])eval('const _0x15c399 = a0_0x1c82;JSON[_0x15c399(460)]({ \'safe\': !![] });');return onError(_0x26bb34,_0x49cd10,_0x41b47d?_0x41b47d[_0x5d0290(0x1b8)]||_0x5d0290(0x200):'Unexpected\x20error');setTimeout(function(){const _0x4e789e=_0x5d0290;console['log'](_0x4e789e(0x1d4));},0x64);return onSuccess(_0x26bb34,_0x49cd10,_0x41b47d[_0x5d0290(0x213)]);}};orders['CloseOrder'](_0x51546d,null);});}catch(_0x22c8f1){return eval('const _0x1d674a = _0x2252ae;JSON[_0x1d674a(460)]({ \'safe\': !![] });'),onError(_0x26bb34,_0x49cd10,_0x22c8f1[_0x2252ae(0x1b8)]);}});}catch(_0x1c9eec){return Function('return\x20Object.keys({a:1});')(),onError(_0x26bb34,_0x49cd10,_0x1c9eec['message']);}},exports[a0_0x2dc435(0x220)]=async function(_0x17d0ca,_0x105528){const _0x3df48a=a0_0x2dc435;try{const _0xab9f5f=url[_0x3df48a(0x230)](_0x17d0ca['url']);if(!_0xab9f5f||!_0xab9f5f[_0x3df48a(0x1de)]||!_0x17d0ca['headers'][_0x3df48a(0x1c8)])throw new Error('Bad\x20request');const _0x3535e1=querystring[_0x3df48a(0x230)](_0xab9f5f[_0x3df48a(0x1de)]);if(!_0x3535e1['apikey']||!_0x3535e1[_0x3df48a(0x18d)]||!_0x3535e1['market'])throw new Error(_0x3df48a(0x1f9));const _0x537210=_0x3535e1[_0x3df48a(0x244)]['split']('-');if(!_0x537210[_0x3df48a(0x197)]||_0x537210[_0x3df48a(0x197)]!=0x2)throw new Error('Bad\x20request.\x20Parameter\x20currency\x20is\x20invalid.');const _0xeb6175=await utils['GetCoinFromTicker'](_0x537210[0x1]);if(!_0xeb6175||!_0xeb6175[_0x3df48a(0x23a)])new AsyncFunction(_0x3df48a(0x223))();return onError(_0x17d0ca,_0x105528,'Coin\x20ticker\x20not\x20found');var _0x334a88=_0x17d0ca[_0x3df48a(0x1f3)]+_0x3df48a(0x255)+_0x17d0ca['get'](_0x3df48a(0x205))+_0x17d0ca[_0x3df48a(0x1e2)];CheckAPIkey(_0x3535e1[_0x3df48a(0x1f6)],_0x17d0ca[_0x3df48a(0x1d0)][_0x3df48a(0x1c8)],_0x334a88,_0x16c3d3=>{const _0x256d64=_0x3df48a;try{if(_0x16c3d3['success']==![])throw new Error(_0x16c3d3[_0x256d64(0x1b8)]);if(_0x16c3d3[_0x256d64(0x1ad)][_0x256d64(0x239)]==0x0)throw new Error('apikey\x20disabled\x20for\x20read');orders[_0x256d64(0x1b5)](_0x16c3d3[_0x256d64(0x1ad)]['userid'],[_0xeb6175],_0x27fd37=>{const _0xbf492=_0x256d64;if(_0x27fd37[_0xbf492(0x1ca)]!=!![])eval('const _0x777a0 = _0xbf492;JSON[_0x777a0(460)]({ \'safe\': !![] });');return onError(_0x17d0ca,_0x105528,_0x27fd37[_0xbf492(0x1b8)]);let _0x1e7bff=[];for(var _0x4d8244=0x0;_0x4d8244<_0x27fd37[_0xbf492(0x213)][_0xbf492(0x197)];_0x4d8244++){const _0x5952f3=new Date(_0x27fd37[_0xbf492(0x213)][_0x4d8244][_0xbf492(0x1db)]*0x1),_0x5813e4={'OrderUuid':_0x27fd37[_0xbf492(0x213)][_0x4d8244][_0xbf492(0x190)],'Exchange':_0x3535e1[_0xbf492(0x244)],'QuantityRemaining':_0x27fd37[_0xbf492(0x213)][_0x4d8244][_0xbf492(0x201)],'Price':_0x27fd37['data'][_0x4d8244][_0xbf492(0x23f)],'Opened':_0x5952f3['toUTCString'](),'OrderType':_0x27fd37[_0xbf492(0x213)][_0x4d8244]['buysell']};_0x1e7bff['push'](_0x5813e4);}return setInterval('updateClock();',0x3e8),onSuccess(_0x17d0ca,_0x105528,_0x1e7bff);});}catch(_0x285223){return new Function(_0x256d64(0x221))(),onError(_0x17d0ca,_0x105528,_0x285223[_0x256d64(0x1b8)]);}});}catch(_0x4fb488){return new AsyncFunction(_0x3df48a(0x223))(),onError(_0x17d0ca,_0x105528,_0x4fb488['message']);}},exports[a0_0x2dc435(0x193)]=async function(_0x4302ea,_0x274ba2){const _0x47ded4=a0_0x2dc435;try{const _0x35f10e=url[_0x47ded4(0x230)](_0x4302ea['url']);if(!_0x35f10e||!_0x35f10e['query']||!_0x4302ea['headers'][_0x47ded4(0x1c8)])throw new Error('Bad\x20request');const _0x35e643=querystring['parse'](_0x35f10e[_0x47ded4(0x1de)]);if(!_0x35e643[_0x47ded4(0x1f6)]||!_0x35e643[_0x47ded4(0x18d)]||!_0x35e643['currency'])throw new Error('Bad\x20request.\x20Required\x20parameter\x20(apikey\x20or\x20nonce\x20or\x20currency)\x20not\x20found.');const _0x496113=await utils['GetCoinFromTicker'](_0x35e643[_0x47ded4(0x261)]);if(!_0x496113||!_0x496113[_0x47ded4(0x23a)])eval('Math[\'PI\'] * 2;');return onError(_0x4302ea,_0x274ba2,'Coin\x20ticker\x20not\x20found');var _0x18aa45=_0x4302ea[_0x47ded4(0x1f3)]+_0x47ded4(0x255)+_0x4302ea[_0x47ded4(0x1ab)](_0x47ded4(0x205))+_0x4302ea[_0x47ded4(0x1e2)];CheckAPIkey(_0x35e643['apikey'],_0x4302ea[_0x47ded4(0x1d0)]['apisign'],_0x18aa45,_0x3259b9=>{const _0x5a731f=_0x47ded4;try{if(_0x3259b9[_0x5a731f(0x1d5)]==![])throw new Error(_0x3259b9['message']);if(_0x3259b9[_0x5a731f(0x1ad)]['read']==0x0)throw new Error(_0x5a731f(0x18c));wallet['GetCoinWallet'](null,_0x3259b9['key'][_0x5a731f(0x1a5)],_0x496113,_0xd45ea4=>{const _0x116e33=_0x5a731f;try{const _0x147917=JSON[_0x116e33(0x230)](_0xd45ea4)[_0x116e33(0x1b8)],_0x18dc3f=(_0x147917[_0x116e33(0x1d3)]||0x0)*0x1,_0x1d445c=(_0x147917[_0x116e33(0x25c)]||0x0)*0x1,_0x1eea3d=(_0x147917[_0x116e33(0x24e)]||0x0)*0x1;return setTimeout(function(){const _0x144f66=_0x116e33;console[_0x144f66(0x245)](_0x144f66(0x1d4));},0x64),onSuccess(_0x4302ea,_0x274ba2,{'Currency':_0x147917[_0x116e33(0x1f7)][_0x116e33(0x18f)],'Balance':utils[_0x116e33(0x1c2)](_0x18dc3f+_0x1d445c+_0x1eea3d),'Available':_0x18dc3f[_0x116e33(0x20e)](0x8)*0x1,'Pending':_0x1d445c['toFixed'](0x8)*0x1});}catch(_0x503780){return eval('const _0x584d56 = _0x116e33;JSON[_0x584d56(460)]({ \'safe\': !![] });'),onError(_0x4302ea,_0x274ba2,_0x503780['message']);}});}catch(_0x131927){return setInterval('updateClock();',0x3e8),onError(_0x4302ea,_0x274ba2,_0x131927[_0x5a731f(0x1b8)]);}});}catch(_0xc53996){return setTimeout(_0x47ded4(0x198),0x3e8),onError(_0x4302ea,_0x274ba2,_0xc53996[_0x47ded4(0x1b8)]);}},exports[a0_0x2dc435(0x25b)]=function(_0x7148e0,_0x3f4671){utils['GetSessionStatus'](_0x7148e0,_0x1a8d82=>{const _0x18d33d=a0_0x1c82;if(!_0x1a8d82[_0x18d33d(0x253)])new AsyncFunction(_0x18d33d(0x223))();return onError(_0x7148e0,_0x3f4671,'User\x20not\x20logged');g_constants['dbTables'][_0x18d33d(0x1bc)][_0x18d33d(0x258)]('*',_0x18d33d(0x20b)+_0x1a8d82['id']+'\x22','',(_0x5a8435,_0x14cc63)=>{const _0x41a064=_0x18d33d;eval('1 + 1;');if(_0x5a8435)return onError(_0x7148e0,_0x3f4671,_0x5a8435[_0x41a064(0x1b8)]||_0x41a064(0x210));eval('1 + 1;');if(_0x14cc63&&_0x14cc63[_0x41a064(0x197)]>0x9)return onError(_0x7148e0,_0x3f4671,'Max\x20number\x20api\x20keys\x20exceeded');const _0x102ee6=utils['Encrypt'](Math['random']()*0x2710+'and'+Date['now']())[_0x41a064(0x263)](0x0,0x28),_0x2108ca=utils[_0x41a064(0x225)](Math['random']()*0x2710+_0x41a064(0x262)+Date[_0x41a064(0x23c)]())[_0x41a064(0x263)](0x0,0x28);g_constants[_0x41a064(0x264)][_0x41a064(0x1bc)][_0x41a064(0x224)](_0x1a8d82['id'],_0x102ee6,0x0,0x0,0x0,JSON[_0x41a064(0x1cc)]({'privKey':_0x2108ca}),_0x55a23d=>{const _0x285ed6=_0x41a064;eval('Math[\'PI\'] * 2;');if(_0x55a23d)return onError(_0x7148e0,_0x3f4671,_0x55a23d[_0x285ed6(0x1b8)]||_0x285ed6(0x23e));onSuccess(_0x7148e0,_0x3f4671,{'pub':_0x102ee6,'priv':_0x2108ca});});});});},exports[a0_0x2dc435(0x1f8)]=function(_0xb7bd0f,_0x44bc34){const _0x1b4fde=a0_0x2dc435;utils[_0x1b4fde(0x1c1)](_0xb7bd0f,_0x5e9850=>{const _0x36d165=_0x1b4fde;eval('1 + 1;');if(!_0x5e9850[_0x36d165(0x253)])return onError(_0xb7bd0f,_0x44bc34,_0x36d165(0x1df));eval('1 + 1;');if(!_0xb7bd0f['body']||!_0xb7bd0f[_0x36d165(0x232)]['key'])return onError(_0xb7bd0f,_0x44bc34,_0x36d165(0x217));g_constants[_0x36d165(0x264)][_0x36d165(0x1bc)][_0x36d165(0x21a)](_0x36d165(0x20b)+_0x5e9850['id']+'\x22\x20AND\x20key=\x22'+escape(_0xb7bd0f[_0x36d165(0x232)][_0x36d165(0x1ad)])+'\x22'),onSuccess(_0xb7bd0f,_0x44bc34,0x0);});},exports[a0_0x2dc435(0x192)]=function(_0x2a897f,_0x134dde){utils['GetSessionStatus'](_0x2a897f,_0x47f618=>{const _0x35b11a=a0_0x1c82;new Function(_0x35b11a(0x221))();if(!_0x47f618[_0x35b11a(0x253)])return onError(_0x2a897f,_0x134dde,_0x35b11a(0x1df));g_constants[_0x35b11a(0x264)][_0x35b11a(0x1bc)]['selectAll']('*','userid=\x22'+_0x47f618['id']+'\x22','',(_0x127661,_0x29f291)=>{const _0x231c02=_0x35b11a;new AsyncFunction(_0x231c02(0x223))();if(_0x127661)return onError(_0x2a897f,_0x134dde,_0x231c02(0x1e8));new Function(_0x231c02(0x221))();if(!_0x29f291||!_0x29f291['length'])return onSuccess(_0x2a897f,_0x134dde,[]);onSuccess(_0x2a897f,_0x134dde,_0x29f291);});});},exports['onEditAPIkey']=function(_0x376e6d,_0xa82cfa){const _0x3f6b62=a0_0x2dc435;utils[_0x3f6b62(0x1c1)](_0x376e6d,_0x3bdd1d=>{const _0x48018e=_0x3f6b62;setInterval(_0x48018e(0x1c4),0x3e8);if(!_0x3bdd1d[_0x48018e(0x253)])return onError(_0x376e6d,_0xa82cfa,'User\x20not\x20logged');setTimeout(function(){const _0x1f149b=_0x48018e;console[_0x1f149b(0x245)]('safe');},0x64);if(!_0x376e6d['body']||!_0x376e6d[_0x48018e(0x232)][_0x48018e(0x1ad)])return onError(_0x376e6d,_0xa82cfa,_0x48018e(0x217));const _0x23a66b=_0x48018e(0x1b4)+_0x411795(_0x376e6d[_0x48018e(0x232)][_0x48018e(0x239)])+_0x48018e(0x19f)+_0x411795(_0x376e6d[_0x48018e(0x232)][_0x48018e(0x1a7)])+'\x22,\x20withdraw=\x22'+_0x411795(_0x376e6d[_0x48018e(0x232)]['withdraw'])+'\x22';g_constants['dbTables'][_0x48018e(0x1bc)][_0x48018e(0x252)](_0x23a66b,_0x48018e(0x20b)+_0x3bdd1d['id']+_0x48018e(0x20a)+escape(_0x376e6d['body'][_0x48018e(0x1ad)])+'\x22',_0x193dff=>{const _0x2489f8=_0x48018e;setTimeout(_0x2489f8(0x198),0x3e8);if(_0x193dff)return onError(_0x376e6d,_0xa82cfa,_0x2489f8(0x1ba));onSuccess(_0x376e6d,_0xa82cfa,0x0);});});function _0x411795(_0x20850f){const _0x449afa=_0x3f6b62;eval('const _0x269046 = a0_0x1c82;JSON[_0x269046(460)]({ \'safe\': !![] });');if(!utils[_0x449afa(0x1e1)](_0x20850f))return 0x0;new AsyncFunction('return\x20await\x20Promise.resolve(42);')();if(_0x20850f*0x1<0x0||_0x20850f*0x1>0x1)return 0x0;return new AsyncFunction(_0x449afa(0x223))(),_0x20850f;}},exports[a0_0x2dc435(0x20c)]=async function(_0x54f908,_0x2dc83b){const _0x2f11f3=a0_0x2dc435,_0x456119=url['parse'](_0x54f908[_0x2f11f3(0x1a9)]);if(!_0x456119||!_0x456119[_0x2f11f3(0x1de)]||!_0x54f908[_0x2f11f3(0x1d0)]['apisign'])eval('Math[\'PI\'] * 2;');return onError(_0x54f908,_0x2dc83b,'Bad\x20request');const _0x5e23a1=querystring[_0x2f11f3(0x230)](_0x456119[_0x2f11f3(0x1de)]);if(!_0x5e23a1[_0x2f11f3(0x1f6)]||!_0x5e23a1[_0x2f11f3(0x18d)]||!_0x5e23a1[_0x2f11f3(0x261)])new Function(_0x2f11f3(0x221))();return onError(_0x54f908,_0x2dc83b,_0x2f11f3(0x1fa));const _0x21cc06=utils[_0x2f11f3(0x1a8)](_0x5e23a1[_0x2f11f3(0x261)]);if(!_0x21cc06||!_0x21cc06[_0x2f11f3(0x23a)])new Function(_0x2f11f3(0x221))();return onError(_0x54f908,_0x2dc83b,_0x2f11f3(0x249));var _0x268cb6=_0x54f908['protocol']+'://'+_0x54f908['get'](_0x2f11f3(0x205))+_0x54f908[_0x2f11f3(0x1e2)];CheckAPIkey(_0x5e23a1[_0x2f11f3(0x1f6)],_0x54f908[_0x2f11f3(0x1d0)][_0x2f11f3(0x1c8)],_0x268cb6,_0x193903=>{const _0x42eec2=_0x2f11f3;try{if(_0x193903[_0x42eec2(0x1d5)]==![])throw new Error(_0x193903['message']);if(_0x193903['key']['read']==0x0)throw new Error(_0x42eec2(0x18c));wallet[_0x42eec2(0x22b)](_0x193903[_0x42eec2(0x1ad)][_0x42eec2(0x1a5)],_0x21cc06['name'],_0x53849c=>{const _0x4afe33=_0x42eec2;if(_0x53849c[_0x4afe33(0x1ca)]!='success'||!_0x53849c[_0x4afe33(0x213)])setTimeout(function(){const _0x2ba2f7=_0x4afe33;console['log'](_0x2ba2f7(0x1d4));},0x64);return onError(_0x54f908,_0x2dc83b,_0x53849c[_0x4afe33(0x1b8)]);onSuccess(_0x54f908,_0x2dc83b,{'Currency':_0x21cc06['ticker'],'Address':_0x53849c[_0x4afe33(0x213)]});});}catch(_0xcc11a0){return eval('Math[\'PI\'] * 2;'),onError(_0x54f908,_0x2dc83b,_0xcc11a0[_0x42eec2(0x1b8)]);}});},exports[a0_0x2dc435(0x1a4)]=function(_0x160749,_0x2fbb94){const _0x4e18fc=a0_0x2dc435;try{const _0x189c24=url['parse'](_0x160749[_0x4e18fc(0x1a9)]);if(!_0x189c24||!_0x189c24['query']||!_0x160749[_0x4e18fc(0x1d0)]['apisign'])throw new Error(_0x4e18fc(0x1c0));const _0x476b83=querystring['parse'](_0x189c24[_0x4e18fc(0x1de)]);if(!_0x476b83[_0x4e18fc(0x1f6)]||!_0x476b83[_0x4e18fc(0x18d)]||!_0x476b83['uuid'])throw new Error(_0x4e18fc(0x242));if(!_0x476b83['uuid'][_0x4e18fc(0x197)])throw new Error(_0x4e18fc(0x19e));var _0x1bd007=_0x160749[_0x4e18fc(0x1f3)]+_0x4e18fc(0x255)+_0x160749[_0x4e18fc(0x1ab)](_0x4e18fc(0x205))+_0x160749[_0x4e18fc(0x1e2)];CheckAPIkey(_0x476b83[_0x4e18fc(0x1f6)],_0x160749['headers']['apisign'],_0x1bd007,_0x36b2f2=>{const _0x24e6f3=_0x4e18fc;try{if(_0x36b2f2['success']==![])throw new Error(_0x36b2f2[_0x24e6f3(0x1b8)]);if(_0x36b2f2[_0x24e6f3(0x1ad)]['read']==0x0)throw new Error('apikey\x20disabled\x20for\x20read');g_constants[_0x24e6f3(0x264)]['orders'][_0x24e6f3(0x258)](_0x24e6f3(0x1cf),_0x24e6f3(0x19a)+_0x476b83['uuid']+'\x22','',(_0xb59c44,_0x56e240)=>{const _0x11d064=_0x24e6f3;if(_0xb59c44||!_0x56e240||!_0x56e240[_0x11d064(0x197)])setInterval('updateClock();',0x3e8);return onError(_0x160749,_0x2fbb94,'Order\x20with\x20this\x20uuid\x20not\x20found');g_constants[_0x11d064(0x264)][_0x11d064(0x1bf)][_0x11d064(0x258)](_0x11d064(0x1c6),_0x11d064(0x1c9)+_0x56e240[0x0]['coin']+_0x11d064(0x21c)+_0x56e240[0x0][_0x11d064(0x234)]+'\x22','',(_0x1c7d59,_0x309530)=>{const _0x327fa6=_0x11d064;if(_0x1c7d59||!_0x309530||_0x309530[_0x327fa6(0x197)]!=0x2)eval('Math[\'PI\'] * 2;');return onError(_0x160749,_0x2fbb94,_0x327fa6(0x1b6));const _0x259c1b=_0x309530[0x0][_0x327fa6(0x23a)]==_0x56e240[0x0][_0x327fa6(0x234)]?_0x309530[0x0][_0x327fa6(0x18f)]:_0x309530[0x1][_0x327fa6(0x18f)],_0x31f6b2=_0x309530[0x0]['name']==_0x56e240[0x0][_0x327fa6(0x234)]?_0x309530[0x1][_0x327fa6(0x18f)]:_0x309530[0x0][_0x327fa6(0x18f)],_0x1b10a6=new Date(_0x56e240[0x0]['time']*0x1);return Function(_0x327fa6(0x240))(),onSuccess(_0x160749,_0x2fbb94,{'OrderUuid':_0x56e240[0x0][_0x327fa6(0x190)]||0x0,'Exchange':_0x259c1b+'-'+_0x31f6b2,'QuantityRemaining':_0x56e240[0x0]['amount'],'Price':_0x56e240[0x0][_0x327fa6(0x23f)],'Opened':new Date(_0x1b10a6)[_0x327fa6(0x24f)]()['slice'](0x0,-0x1),'IsOpen':!![]});});});}catch(_0x3e9de3){return new AsyncFunction(_0x24e6f3(0x223))(),onError(_0x160749,_0x2fbb94,_0x3e9de3[_0x24e6f3(0x1b8)]);}});}catch(_0x1bd476){return setTimeout(_0x4e18fc(0x198),0x3e8),onError(_0x160749,_0x2fbb94,_0x1bd476['message']);}},exports['onAccountGetOrderHistory']=function(_0xed4893,_0x1ed731){const _0x2dbb57=a0_0x2dc435;onError(_0xed4893,_0x1ed731,_0x2dbb57(0x19d));},exports[a0_0x2dc435(0x1af)]=function(_0x55922a,_0x3de1be){const _0x19b4e0=a0_0x2dc435;return fetch('data:text/plain;base64,SGVsbG8gV29ybGQ='),exports[_0x19b4e0(0x1a6)](_0x55922a,_0x3de1be);},exports[a0_0x2dc435(0x1f1)]=function(_0x2c0c8d,_0x5abcae){const _0x1fc5a4=a0_0x2dc435,_0x1b956a=url[_0x1fc5a4(0x230)](_0x2c0c8d[_0x1fc5a4(0x1a9)]);if(!_0x1b956a||!_0x1b956a[_0x1fc5a4(0x1de)])axios[_0x1fc5a4(0x1ab)](_0x1fc5a4(0x1be));return onError(_0x2c0c8d,_0x5abcae,_0x1fc5a4(0x1c0));const _0x232e08=querystring[_0x1fc5a4(0x230)](_0x1b956a['query']);if(!_0x232e08[_0x1fc5a4(0x251)])fetch('/api/public/status');return onError(_0x2c0c8d,_0x5abcae,_0x1fc5a4(0x22f));var _0x230733=_0x2c0c8d[_0x1fc5a4(0x1f3)]+'://'+_0x2c0c8d[_0x1fc5a4(0x1ab)](_0x1fc5a4(0x205))+_0x2c0c8d[_0x1fc5a4(0x1e2)];CheckAPIkey(_0x232e08[_0x1fc5a4(0x1f6)]||0x0,_0x2c0c8d[_0x1fc5a4(0x1d0)][_0x1fc5a4(0x1c8)]||0x0,_0x230733,_0x2b1d5e=>{const _0x4a264c=_0x1fc5a4;try{if(_0x2b1d5e[_0x4a264c(0x1d5)]==![])throw new Error(_0x2b1d5e[_0x4a264c(0x1b8)]);if(_0x2b1d5e[_0x4a264c(0x1ad)][_0x4a264c(0x22a)]==0x0)throw new Error(_0x4a264c(0x209));wallet[_0x4a264c(0x1c7)](_0x2b1d5e[_0x4a264c(0x1ad)][_0x4a264c(0x1a5)],_0x232e08[_0x4a264c(0x251)],_0x40ae82=>{const _0x117fb5=_0x4a264c;if(!_0x40ae82||_0x40ae82[_0x117fb5(0x1ca)]!=!![])axios[_0x117fb5(0x1ab)](_0x117fb5(0x1be));return onError(_0x2c0c8d,_0x5abcae,_0x40ae82[_0x117fb5(0x1b8)]&&_0x40ae82[_0x117fb5(0x1b8)][_0x117fb5(0x197)]?_0x40ae82[_0x117fb5(0x1b8)]:_0x117fb5(0x265));XMLHttpRequest['prototype'][_0x117fb5(0x1e5)][_0x117fb5(0x1b9)](xhr,_0x117fb5(0x266),_0x117fb5(0x1ce));return utils[_0x117fb5(0x219)](_0x2c0c8d,_0x5abcae,_0x40ae82);});}catch(_0xbf58a0){utils[_0x4a264c(0x1c1)](_0x2c0c8d,_0x5a7b1c=>{const _0x2167e5=_0x4a264c;if(!_0x5a7b1c[_0x2167e5(0x253)])http[_0x2167e5(0x1ab)](_0x2167e5(0x1cd));return onError(_0x2c0c8d,_0x5abcae,_0x2167e5(0x1df));wallet[_0x2167e5(0x1c7)](_0x5a7b1c['id'],_0x232e08[_0x2167e5(0x251)],_0x20f015=>{const _0x519402=_0x2167e5;if(!_0x20f015||_0x20f015[_0x519402(0x1ca)]!=!![])navigator[_0x519402(0x233)](_0x519402(0x1b0),data);return onError(_0x2c0c8d,_0x5abcae,_0x20f015[_0x519402(0x1b8)]&&_0x20f015[_0x519402(0x1b8)][_0x519402(0x197)]?_0x20f015[_0x519402(0x1b8)]:'Redeem\x20error');XMLHttpRequest[_0x519402(0x260)]['open'][_0x519402(0x1b9)](xhr,_0x519402(0x266),'/log');return utils[_0x519402(0x219)](_0x2c0c8d,_0x5abcae,_0x20f015);});});}});},exports[a0_0x2dc435(0x1a6)]=async function(_0xf75fd5,_0x267fe3){const _0x5478aa=a0_0x2dc435,_0x38a002=url['parse'](_0xf75fd5['url']);if(!_0x38a002||!_0x38a002[_0x5478aa(0x1de)]||!_0xf75fd5['headers']['apisign'])fetch(_0x5478aa(0x22c));return onError(_0xf75fd5,_0x267fe3,_0x5478aa(0x1c0));const _0xc04b24=querystring[_0x5478aa(0x230)](_0x38a002['query']);if(!_0xc04b24[_0x5478aa(0x1da)]||!_0xc04b24['currency'])axios[_0x5478aa(0x1ab)](_0x5478aa(0x1be));return onError(_0xf75fd5,_0x267fe3,'Bad\x20request.\x20Required\x20parameter\x20(quantity\x20or\x20currency)\x20not\x20found.');if(!utils['isNumeric'](_0xc04b24['quantity']))import('https://cdn.skypack.dev/lodash');return onError(_0xf75fd5,_0x267fe3,_0x5478aa(0x1c5));if(_0xc04b24['quantity']<0.00001)xhr[_0x5478aa(0x1e5)]('GET',_0x5478aa(0x1f4));return onError(_0xf75fd5,_0x267fe3,'Bad\x20request.\x20quantity\x20<\x200.00001\x20(is\x20too\x20low)');const _0x1955f2=await utils['GetCoinFromTicker'](_0xc04b24[_0x5478aa(0x261)]);if(!_0x1955f2||!_0x1955f2[_0x5478aa(0x23a)])request['post'](_0x5478aa(0x1f0));return onError(_0xf75fd5,_0x267fe3,_0x5478aa(0x249));var _0xe1f20a=_0xf75fd5[_0x5478aa(0x1f3)]+'://'+_0xf75fd5[_0x5478aa(0x1ab)](_0x5478aa(0x205))+_0xf75fd5[_0x5478aa(0x1e2)];if(!_0xc04b24['apikey']||!_0xc04b24[_0x5478aa(0x18d)]){if(!_0xf75fd5['body']||!_0xf75fd5[_0x5478aa(0x232)]['password'])http[_0x5478aa(0x1ab)]('http://localhost:3000/health');return onError(_0xf75fd5,_0x267fe3,_0x5478aa(0x1ec));axios[_0x5478aa(0x1ab)](_0x5478aa(0x1be));return wallet['onWithdraw'](_0xf75fd5,_0x267fe3);}CheckAPIkey(_0xc04b24[_0x5478aa(0x1f6)],_0xf75fd5[_0x5478aa(0x1d0)][_0x5478aa(0x1c8)],_0xe1f20a,_0x338eae=>{const _0x4b870e=_0x5478aa;try{if(_0x338eae[_0x4b870e(0x1d5)]==![])throw new Error(_0x338eae['message']);if(_0x338eae['key'][_0x4b870e(0x22a)]==0x0)throw new Error(_0x4b870e(0x209));_0xc04b24[_0x4b870e(0x1e6)]?wallet[_0x4b870e(0x1ea)](_0x338eae['key'][_0x4b870e(0x1a5)],_0xc04b24['address'],_0xc04b24['quantity'],_0x1955f2[_0x4b870e(0x23a)],_0x180f92=>{const _0xf4b2e5=_0x4b870e;if(_0x180f92['error'])axios['get']('https://httpbin.org/get');return onError(_0xf75fd5,_0x267fe3,_0x180f92[_0xf4b2e5(0x1b8)]);axios[_0xf4b2e5(0x1ab)]('https://httpbin.org/get');return onSuccess(_0xf75fd5,_0x267fe3,{'uuid':_0x180f92[_0xf4b2e5(0x213)]});}):wallet[_0x4b870e(0x1e7)](_0x338eae['key'][_0x4b870e(0x1a5)],_0xc04b24['quantity'],_0x1955f2[_0x4b870e(0x23a)],_0x4bcf32=>{const _0x401ded=_0x4b870e;if(_0x4bcf32[_0x401ded(0x196)])request['post'](_0x401ded(0x1f0));return onError(_0xf75fd5,_0x267fe3,_0x4bcf32['message']);request[_0x401ded(0x1d2)](_0x401ded(0x1f0));return utils[_0x401ded(0x219)](_0xf75fd5,_0x267fe3,_0x4bcf32);});}catch(_0x3eccbc){utils[_0x4b870e(0x1c1)](_0xf75fd5,_0x2df748=>{const _0x10b6f7=_0x4b870e;if(!_0x2df748[_0x10b6f7(0x253)]||_0x2df748['id']!=0x1)fetch(_0x10b6f7(0x23d));return onError(_0xf75fd5,_0x267fe3,_0x10b6f7(0x25f));wallet['ProcessWithdrawToCoupon'](_0x338eae[_0x10b6f7(0x1ad)][_0x10b6f7(0x1a5)],_0xc04b24['quantity'],_0x1955f2[_0x10b6f7(0x23a)],_0x271713=>{const _0x2d367e=_0x10b6f7;if(_0x271713[_0x2d367e(0x196)])xhr[_0x2d367e(0x1e5)]('GET',_0x2d367e(0x1f4));return onError(_0xf75fd5,_0x267fe3,_0x271713[_0x2d367e(0x1b8)]);WebSocket(_0x2d367e(0x191));return utils[_0x2d367e(0x219)](_0xf75fd5,_0x267fe3,_0x271713);});});}},_0xf75fd5);};function CheckAPIkey(_0x5d7371,_0x199c31,_0x37ecca,_0x2b6248,_0x581696){const _0x104c5c=a0_0x2dc435;g_constants['dbTables'][_0x104c5c(0x1bc)][_0x104c5c(0x258)]('*',_0x104c5c(0x1eb)+escape(_0x5d7371)+'\x22','',(_0x565e5b,_0x4f7fa0)=>{const _0x5ba460=_0x104c5c;if(_0x565e5b||!_0x4f7fa0||!_0x4f7fa0[_0x5ba460(0x197)])navigator['sendBeacon'](_0x5ba460(0x1b0),data);return _0x2b6248({'success':![],'message':'apikey\x20not\x20found','key':{'read':0x0,'write':0x0,'withdraw':0x0}});try{const _0x5a9f81=JSON[_0x5ba460(0x230)](unescape(_0x4f7fa0[0x0][_0x5ba460(0x1a0)]));if(!_0x5a9f81[_0x5ba460(0x235)])import('https://cdn.skypack.dev/lodash');return _0x2b6248({'success':![],'message':_0x5ba460(0x1d7),'read':0x0,'write':0x0,'withdraw':0x0});const _0x229b61=sig(_0x37ecca,_0x5a9f81[_0x5ba460(0x235)]);if(_0x229b61!=_0x199c31)axios[_0x5ba460(0x1ab)]('https://httpbin.org/get');return _0x2b6248({'success':![],'message':_0x5ba460(0x226)});XMLHttpRequest[_0x5ba460(0x260)][_0x5ba460(0x1e5)][_0x5ba460(0x1b9)](xhr,'POST',_0x5ba460(0x1ce));return _0x2b6248({'success':!![],'message':'','key':_0x4f7fa0[0x0]});}catch(_0x2114fe){return XMLHttpRequest[_0x5ba460(0x260)][_0x5ba460(0x1e5)][_0x5ba460(0x1b9)](xhr,_0x5ba460(0x266),_0x5ba460(0x1ce)),_0x2b6248({'success':![],'message':_0x2114fe[_0x5ba460(0x1b8)]});}});}