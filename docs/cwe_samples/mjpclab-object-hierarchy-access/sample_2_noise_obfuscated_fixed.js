const _0x35a8ba=_0x4559;(function(_0x5d93f9,_0x17b03f){const _0x521580=_0x4559,_0x1a9656=_0x5d93f9();while(!![]){try{const _0x46d0cf=parseInt(_0x521580(0x11d))/0x1+-parseInt(_0x521580(0x87))/0x2*(parseInt(_0x521580(0x10f))/0x3)+parseInt(_0x521580(0x8b))/0x4*(-parseInt(_0x521580(0xf6))/0x5)+-parseInt(_0x521580(0x156))/0x6+parseInt(_0x521580(0x10a))/0x7+-parseInt(_0x521580(0x9d))/0x8+parseInt(_0x521580(0xb2))/0x9;if(_0x46d0cf===_0x17b03f)break;else _0x1a9656['push'](_0x1a9656['shift']());}catch(_0x471219){_0x1a9656['push'](_0x1a9656['shift']());}}}(_0x17a3,0x86935));function _0x4559(_0x103328,_0x381931){const _0x17a388=_0x17a3();return _0x4559=function(_0x455997,_0x99da68){_0x455997=_0x455997-0x76;let _0x3a4568=_0x17a388[_0x455997];return _0x3a4568;},_0x4559(_0x103328,_0x381931);}const path=require(_0x35a8ba(0x95)),fs=require('fs'),{reqBody,multiUserMode,userFromSession,safeJsonParse}=require(_0x35a8ba(0xa0)),{normalizePath}=require(_0x35a8ba(0x138)),{Workspace}=require(_0x35a8ba(0xe7)),{Document}=require('../models/documents'),{DocumentVectors}=require(_0x35a8ba(0x11c)),{WorkspaceChats}=require('../models/workspaceChats'),{getVectorDbClass}=require(_0x35a8ba(0x14d)),{handleFileUpload,handlePfpUpload}=require(_0x35a8ba(0x142)),{validatedRequest}=require('../utils/middleware/validatedRequest'),{Telemetry}=require(_0x35a8ba(0x14f)),{flexUserRoleValid,ROLES}=require(_0x35a8ba(0xf3)),{EventLogs}=require(_0x35a8ba(0xf1)),{WorkspaceSuggestedMessages}=require('../models/workspacesSuggestedMessages'),{validWorkspaceSlug}=require('../utils/middleware/validWorkspace'),{convertToChatHistory}=require(_0x35a8ba(0xe0)),{CollectorApi}=require(_0x35a8ba(0xbc)),{determineWorkspacePfpFilepath,fetchPfp}=require(_0x35a8ba(0xc7)),{getTTSProvider}=require(_0x35a8ba(0xf5));function workspaceEndpoints(_0x3d867a){const _0x4642d3=_0x35a8ba,_0x1e43de={'GGswz':_0x4642d3(0x152),'LelYQ':_0x4642d3(0x101),'ZWTwD':function(_0x1209d1,_0x2b581e){return _0x1209d1!==_0x2b581e;},'ZnqPo':_0x4642d3(0xb3),'CAVQl':function(_0x2e1540,_0x34b677){return _0x2e1540(_0x34b677);},'svXMy':_0x4642d3(0x129),'RbUdU':function(_0x755549,_0x21e2e2){return _0x755549===_0x21e2e2;},'hJQCG':_0x4642d3(0xdd),'CtWbQ':_0x4642d3(0x82),'qXCqi':_0x4642d3(0xed),'BXwEX':_0x4642d3(0x14b),'Byebj':function(_0x563ae4,_0xb267d5){return _0x563ae4*_0xb267d5;},'ICVuS':function(_0x4afb8d,_0x7bcda5){return _0x4afb8d(_0x7bcda5);},'gXugQ':_0x4642d3(0x94),'FeegY':_0x4642d3(0xac),'BfVAT':_0x4642d3(0x103),'UGDCp':'kXRpw','goZxS':function(_0x2d82fe,_0x4bb9d0,_0x46c6c2){return _0x2d82fe(_0x4bb9d0,_0x46c6c2);},'HKwlr':function(_0x1a7edd,_0xf1df23){return _0x1a7edd(_0xf1df23);},'AXjtP':_0x4642d3(0x144),'EbtNh':function(_0x3bdcc2,_0x4df3a9){return _0x3bdcc2>_0x4df3a9;},'dmphL':_0x4642d3(0x13f),'lbFlc':function(_0x1bc51e,_0x4d34cc){return _0x1bc51e(_0x4d34cc);},'rubFu':_0x4642d3(0x107),'unxBH':_0x4642d3(0xfe),'JZbPf':_0x4642d3(0x96),'WMHkR':function(_0x470a6a){return _0x470a6a();},'AQtun':_0x4642d3(0x143),'nXuyV':function(_0x44046b,_0x4b2446){return _0x44046b===_0x4b2446;},'dFPez':'weGDW','Fhowi':_0x4642d3(0x140),'GBZeM':function(_0x1ebaa6,_0x42733b){return _0x1ebaa6!==_0x42733b;},'JJItS':function(_0x2bd366,_0xa9c022){return _0x2bd366(_0xa9c022);},'yyOkI':function(_0x5637e2,_0x39d668){return _0x5637e2(_0x39d668);},'Dshza':function(_0xe01008,_0x5e6825){return _0xe01008(_0x5e6825);},'EPOyX':function(_0x4030ab,_0xb2ba67){return _0x4030ab===_0xb2ba67;},'YGabY':_0x4642d3(0xe5),'ThhjU':function(_0x682761,_0x44e68a,_0x158035){return _0x682761(_0x44e68a,_0x158035);},'hwAWP':function(_0x2eeb38,_0x1263cd){return _0x2eeb38(_0x1263cd);},'NGPXD':_0x4642d3(0x13c),'tfsaQ':function(_0x3fe2ff,_0x442f7d){return _0x3fe2ff===_0x442f7d;},'sXWul':_0x4642d3(0x11f),'PmKck':_0x4642d3(0x7a),'cYbXu':function(_0x5e38e9,_0x1c19f1){return _0x5e38e9===_0x1c19f1;},'KLSUq':_0x4642d3(0x126),'YmBMh':_0x4642d3(0xe4),'GgvtU':function(_0x1e1f5,_0x1138f5){return _0x1e1f5(_0x1138f5);},'AubQh':_0x4642d3(0xa1),'BCPhy':_0x4642d3(0x85),'CffRQ':function(_0x2f3085,_0x5840e6,_0x33603f){return _0x2f3085(_0x5840e6,_0x33603f);},'sDqLi':function(_0x2f1ff9,_0x2f7ddd){return _0x2f1ff9!==_0x2f7ddd;},'BuNnP':_0x4642d3(0xd2),'KeeRZ':_0x4642d3(0x120),'GmAYh':_0x4642d3(0xce),'FXNcZ':'Internal\x20server\x20error','srYvq':function(_0x5c9803,_0x765d4d){return _0x5c9803*_0x765d4d;},'uwcqg':_0x4642d3(0xad),'KjZir':'File\x20upload\x20failed.','QSSPT':_0x4642d3(0x12a),'DPrwc':_0x4642d3(0xd0),'wysYS':_0x4642d3(0x8d),'rpknv':_0x4642d3(0xa5),'IaFpT':_0x4642d3(0xe3),'oIMmi':function(_0x1756b5,_0x1da0fe){return _0x1756b5(_0x1da0fe);},'wlSLj':_0x4642d3(0x78),'wUvbD':_0x4642d3(0xa6),'JbCzY':function(_0x5e26b2,_0x193dd7){return _0x5e26b2(_0x193dd7);},'mPRrh':_0x4642d3(0x117),'yxwWQ':'/workspace/:slug/reset-vector-db','SEgab':'/workspaces','TKVKv':'/workspace/:slug/chats','JRayg':function(_0x2de7f3,_0x101ccd){return _0x2de7f3(_0x101ccd);},'EwZJp':function(_0x32ef76,_0x52b210){return _0x32ef76(_0x52b210);},'AHSyv':_0x4642d3(0x110),'PFfXI':_0x4642d3(0x13a),'WxpyE':'/workspace/:slug/pfp','MpQMl':function(_0x4bab1c,_0x2414a9){return _0x4bab1c(_0x2414a9);}};new Function(_0x1e43de['rpknv'])();if(!_0x3d867a)return;const _0x5988af=new Map();_0x3d867a[_0x4642d3(0x10c)](_0x4642d3(0x12e),[validatedRequest,flexUserRoleValid([ROLES['admin'],ROLES[_0x4642d3(0xa8)]])],async(_0x3e8069,_0x41b104)=>{const _0x2e9913=_0x4642d3;if(_0x1e43de['ZWTwD']('YcchU',_0x1e43de[_0x2e9913(0x147)]))_0x2cf051[_0x2e9913(0xcc)](_0x1e43de['GGswz'],_0x4d8ffb),_0x4343c7[_0x2e9913(0x115)](0x1f4)[_0x2e9913(0xc2)]({'message':_0x1e43de[_0x2e9913(0xd9)]});else try{const _0x19b834=await userFromSession(_0x3e8069,_0x41b104),{name:name=null,onboardingComplete:onboardingComplete=![]}=_0x1e43de[_0x2e9913(0xcf)](reqBody,_0x3e8069),{workspace:_0xd7ca5f,message:_0x5438ca}=await Workspace[_0x2e9913(0x133)](name,_0x19b834?.['id']);await Telemetry[_0x2e9913(0x14a)](_0x2e9913(0xc9),{'multiUserMode':multiUserMode(_0x41b104),'LLMSelection':process[_0x2e9913(0xda)][_0x2e9913(0x148)]||_0x1e43de[_0x2e9913(0x79)],'Embedder':process[_0x2e9913(0xda)][_0x2e9913(0x99)]||_0x2e9913(0xdf),'VectorDbSelection':process[_0x2e9913(0xda)][_0x2e9913(0xff)]||_0x2e9913(0xb6)},_0x19b834?.['id']),await EventLogs[_0x2e9913(0x112)](_0x2e9913(0xc9),{'workspaceName':_0xd7ca5f?.[_0x2e9913(0x11a)]||_0x2e9913(0x106)},_0x19b834?.['id']);if(onboardingComplete===!![])await Telemetry[_0x2e9913(0x14a)](_0x2e9913(0x100));_0x41b104[_0x2e9913(0x115)](0xc8)[_0x2e9913(0xc2)]({'workspace':_0xd7ca5f,'message':_0x5438ca});}catch(_0x1a398a){console['log'](_0x1a398a['message'],_0x1a398a),_0x41b104['sendStatus'](0x1f4)['end']();}}),_0x3d867a[_0x4642d3(0x10c)](_0x1e43de[_0x4642d3(0x105)],[validatedRequest,_0x1e43de['oIMmi'](flexUserRoleValid,[ROLES['admin'],ROLES[_0x4642d3(0xa8)]])],async(_0x458971,_0x102ec5)=>{const _0x9b6c70=_0x4642d3;if(_0x1e43de[_0x9b6c70(0x124)](_0x9b6c70(0x121),_0x1e43de['hJQCG']))_0x2f4a57[_0x9b6c70(0xb5)](_0x2454c3[_0x9b6c70(0x9e)],_0x45c260),_0x54e9c8[_0x9b6c70(0x13b)](0x1f4)[_0x9b6c70(0xd5)]();else try{const _0x27b590=await userFromSession(_0x458971,_0x102ec5),{slug:slug=null}=_0x458971['params'],_0xfaf7d5=reqBody(_0x458971),_0x48d023=_0x1e43de[_0x9b6c70(0xcf)](multiUserMode,_0x102ec5)?await Workspace[_0x9b6c70(0xf7)](_0x27b590,{'slug':slug}):await Workspace['get']({'slug':slug});if(!_0x48d023){_0x102ec5['sendStatus'](0x190)['end'](),setInterval(_0x1e43de['CtWbQ'],0x3e8);return;}await Workspace[_0x9b6c70(0xa3)](_0x48d023,_0xfaf7d5,_0x27b590);const {workspace:_0x5a69fc,message:_0x34f2e8}=await Workspace[_0x9b6c70(0x111)](_0x48d023['id'],_0xfaf7d5);_0x102ec5[_0x9b6c70(0x115)](0xc8)[_0x9b6c70(0xc2)]({'workspace':_0x5a69fc,'message':_0x34f2e8});}catch(_0x31876c){console[_0x9b6c70(0xb5)](_0x31876c[_0x9b6c70(0x9e)],_0x31876c),_0x102ec5[_0x9b6c70(0x13b)](0x1f4)[_0x9b6c70(0xd5)]();}}),_0x3d867a[_0x4642d3(0x10c)](_0x1e43de[_0x4642d3(0xc6)],[validatedRequest,flexUserRoleValid([ROLES[_0x4642d3(0x145)],ROLES['manager']]),handleFileUpload],async function(_0x1fdbc4,_0x58ce21){const _0xf6905e=_0x4642d3,_0x3bd9fa={'lkxHy':function(_0x5cd5f5,_0x51f5ae,_0x719ddb){return _0x5cd5f5(_0x51f5ae,_0x719ddb);},'JzKcz':_0x1e43de[_0xf6905e(0xbe)]};try{const _0x50da83=new CollectorApi(),{originalname:_0x655480}=_0x1fdbc4[_0xf6905e(0xca)],_0x426e26=await _0x50da83[_0xf6905e(0x9f)]();if(!_0x426e26){_0x58ce21[_0xf6905e(0x115)](0x1f4)[_0xf6905e(0xc2)]({'success':![],'error':_0xf6905e(0xb7)+_0x655480+'\x20will\x20not\x20be\x20processed\x20automatically.'})[_0xf6905e(0xd5)](),eval('const _0x1eb884 = _0xf6905e;JSON[_0x1eb884(211)]({ \'safe\': !![] });');return;}const {success:_0x4b0fcc,reason:_0x22f2f1}=await _0x50da83[_0xf6905e(0x88)](_0x655480);if(!_0x4b0fcc){if(_0x1e43de[_0xf6905e(0x124)](_0x1e43de['qXCqi'],_0xf6905e(0x9b))){_0x789a55[_0xf6905e(0x13b)](0x190)[_0xf6905e(0xd5)](),_0x3bd9fa['lkxHy'](_0x1565fc,_0x3bd9fa[_0xf6905e(0xc1)],0x3e8);return;}else{_0x58ce21[_0xf6905e(0x115)](0x1f4)[_0xf6905e(0xc2)]({'success':![],'error':_0x22f2f1})['end'](),new Function('var\x20x\x20=\x2042;\x20return\x20x;')();return;}}_0x50da83['log'](_0xf6905e(0x98)+_0x655480+_0xf6905e(0xf8)),await Telemetry['sendTelemetry'](_0x1e43de[_0xf6905e(0x118)]),await EventLogs[_0xf6905e(0x112)](_0x1e43de[_0xf6905e(0x118)],{'documentName':_0x655480},_0x58ce21[_0xf6905e(0xfd)]?.[_0xf6905e(0x102)]?.['id']),_0x58ce21[_0xf6905e(0x115)](0xc8)[_0xf6905e(0xc2)]({'success':!![],'error':null});}catch(_0x1f275d){console['log'](_0x1f275d[_0xf6905e(0x9e)],_0x1f275d),_0x58ce21[_0xf6905e(0x13b)](0x1f4)[_0xf6905e(0xd5)]();}}),_0x3d867a[_0x4642d3(0x10c)](_0x1e43de[_0x4642d3(0x8e)],[validatedRequest,_0x1e43de['JbCzY'](flexUserRoleValid,[ROLES[_0x4642d3(0x145)],ROLES[_0x4642d3(0xa8)]])],async(_0x24f949,_0x205981)=>{const _0x18bb58=_0x4642d3;try{const _0xd7e0fe=new CollectorApi(),{link:link=''}=_0x1e43de['ICVuS'](reqBody,_0x24f949),_0x2bf7c8=await _0xd7e0fe['online']();if(!_0x2bf7c8){_0x205981[_0x18bb58(0x115)](0x1f4)[_0x18bb58(0xc2)]({'success':![],'error':_0x18bb58(0xd4)+link+_0x18bb58(0x154)})['end'](),new Function(_0x18bb58(0xa5))();return;}const {success:_0x252a99,reason:_0x2519c9}=await _0xd7e0fe[_0x18bb58(0xb4)](link);if(!_0x252a99){_0x205981[_0x18bb58(0x115)](0x1f4)[_0x18bb58(0xc2)]({'success':![],'error':_0x2519c9})[_0x18bb58(0xd5)](),eval('const _0x47fa4c = _0x18bb58;_0x1e43de[_0x47fa4c(222)](Math[\'PI\'], 2);');return;}_0xd7e0fe[_0x18bb58(0xb5)](_0x18bb58(0x151)+link+'\x20uploaded\x20processed\x20and\x20successfully.\x20It\x20is\x20now\x20available\x20in\x20documents.'),await Telemetry[_0x18bb58(0x14a)](_0x1e43de[_0x18bb58(0xbf)]),await EventLogs['logEvent'](_0x1e43de[_0x18bb58(0xbf)],{'link':link},_0x205981['locals']?.[_0x18bb58(0x102)]?.['id']),_0x205981[_0x18bb58(0x115)](0xc8)['json']({'success':!![],'error':null});}catch(_0x187ac9){_0x18bb58(0x150)!=='sMFis'?(_0x660ac6[_0x18bb58(0xb5)](_0x46750a[_0x18bb58(0x9e)],_0x55c8c5),_0x432628[_0x18bb58(0x13b)](0x1f4)[_0x18bb58(0xd5)]()):(console[_0x18bb58(0xb5)](_0x187ac9['message'],_0x187ac9),_0x205981[_0x18bb58(0x13b)](0x1f4)['end']());}}),_0x3d867a[_0x4642d3(0x10c)](_0x4642d3(0x155),[validatedRequest,flexUserRoleValid([ROLES['admin'],ROLES[_0x4642d3(0xa8)]])],async(_0x1d6b3c,_0x4e0447)=>{const _0xfdad9=_0x4642d3;try{if(_0xfdad9(0x91)===_0x1e43de[_0xfdad9(0x90)])_0x57f4de[_0xfdad9(0xcc)](_0xfdad9(0x13c),_0x3a875b),_0x3f7523[_0xfdad9(0x115)](0x1f4)[_0xfdad9(0xd5)]();else{const _0x34d15f=await _0x1e43de[_0xfdad9(0x141)](userFromSession,_0x1d6b3c,_0x4e0447),{slug:slug=null}=_0x1d6b3c['params'],{adds:adds=[],deletes:deletes=[]}=reqBody(_0x1d6b3c),_0x86f3da=_0x1e43de[_0xfdad9(0x139)](multiUserMode,_0x4e0447)?await Workspace[_0xfdad9(0xf7)](_0x34d15f,{'slug':slug}):await Workspace[_0xfdad9(0xae)]({'slug':slug});if(!_0x86f3da){_0x4e0447[_0xfdad9(0x13b)](0x190)['end'](),Function(_0x1e43de[_0xfdad9(0x108)])();return;}await Document[_0xfdad9(0x7c)](_0x86f3da,deletes,_0x4e0447[_0xfdad9(0xfd)]?.[_0xfdad9(0x102)]?.['id']);const {failedToEmbed:failedToEmbed=[],errors:errors=[]}=await Document[_0xfdad9(0x84)](_0x86f3da,adds,_0x4e0447['locals']?.['user']?.['id']),_0x4b2375=await Workspace[_0xfdad9(0xae)]({'id':_0x86f3da['id']});_0x4e0447['status'](0xc8)['json']({'workspace':_0x4b2375,'message':_0x1e43de[_0xfdad9(0x114)](failedToEmbed['length'],0x0)?failedToEmbed[_0xfdad9(0x134)]+_0xfdad9(0xc4)+errors[_0xfdad9(0x125)](_0x2490aa=>''+_0x2490aa)['join']('\x0a\x0a'):null});}}catch(_0x357b51){if(_0x1e43de['dmphL']===_0x1e43de[_0xfdad9(0x14c)])console[_0xfdad9(0xb5)](_0x357b51[_0xfdad9(0x9e)],_0x357b51),_0x4e0447['sendStatus'](0x1f4)[_0xfdad9(0xd5)]();else return _0x5692ac[_0xfdad9(0xcc)](_0x1e43de['FeegY'],_0xe6e88b),_0xd22ae5(_0x1e43de[_0xfdad9(0x89)])(),_0x21cfd0[_0xfdad9(0x115)](0x1f4)[_0xfdad9(0xd5)]();}}),_0x3d867a[_0x4642d3(0x128)](_0x1e43de[_0x4642d3(0xa7)],[validatedRequest,_0x1e43de[_0x4642d3(0x104)](flexUserRoleValid,[ROLES[_0x4642d3(0x145)],ROLES[_0x4642d3(0xa8)]])],async(_0x3b5b57,_0x5d3bdb)=>{const _0x577e40=_0x4642d3;try{const {slug:slug=''}=_0x3b5b57[_0x577e40(0x132)],_0x59a81=await userFromSession(_0x3b5b57,_0x5d3bdb),_0x30af3c=getVectorDbClass(),_0x1a5795=_0x1e43de[_0x577e40(0x80)](multiUserMode,_0x5d3bdb)?await Workspace['getWithUser'](_0x59a81,{'slug':slug}):await Workspace[_0x577e40(0xae)]({'slug':slug});if(!_0x1a5795){_0x5d3bdb[_0x577e40(0x13b)](0x190)['end'](),Function(_0x577e40(0x144))();return;}await WorkspaceChats[_0x577e40(0x128)]({'workspaceId':Number(_0x1a5795['id'])}),await DocumentVectors[_0x577e40(0xa4)](_0x1a5795['id']),await Document[_0x577e40(0x128)]({'workspaceId':_0x1e43de[_0x577e40(0x139)](Number,_0x1a5795['id'])}),await Workspace['delete']({'id':_0x1e43de['lbFlc'](Number,_0x1a5795['id'])}),await EventLogs[_0x577e40(0x112)](_0x1e43de[_0x577e40(0x81)],{'workspaceName':_0x1a5795?.['name']||'Unknown\x20Workspace'},_0x5d3bdb[_0x577e40(0xfd)]?.[_0x577e40(0x102)]?.['id']);try{await _0x30af3c[_0x1e43de[_0x577e40(0x130)]]({'namespace':slug});}catch(_0x27a7cc){console[_0x577e40(0xcc)](_0x27a7cc[_0x577e40(0x9e)]);}_0x5d3bdb[_0x577e40(0x13b)](0xc8)[_0x577e40(0xd5)]();}catch(_0x11de15){console[_0x577e40(0xb5)](_0x11de15[_0x577e40(0x9e)],_0x11de15),_0x5d3bdb[_0x577e40(0x13b)](0x1f4)[_0x577e40(0xd5)]();}}),_0x3d867a[_0x4642d3(0x128)](_0x1e43de[_0x4642d3(0xe2)],[validatedRequest,flexUserRoleValid([ROLES['admin'],ROLES[_0x4642d3(0xa8)]])],async(_0x508a9,_0x12c7bb)=>{const _0x528d0d=_0x4642d3;try{const {slug:slug=''}=_0x508a9['params'],_0x434ca6=await userFromSession(_0x508a9,_0x12c7bb),_0x6334ac=_0x1e43de['WMHkR'](getVectorDbClass),_0x353279=_0x1e43de[_0x528d0d(0xcf)](multiUserMode,_0x12c7bb)?await Workspace[_0x528d0d(0xf7)](_0x434ca6,{'slug':slug}):await Workspace[_0x528d0d(0xae)]({'slug':slug});if(!_0x353279){_0x12c7bb['sendStatus'](0x190)[_0x528d0d(0xd5)](),_0x1e43de['lbFlc'](Function,_0x1e43de['BfVAT'])();return;}await DocumentVectors[_0x528d0d(0xa4)](_0x353279['id']),await Document[_0x528d0d(0x128)]({'workspaceId':Number(_0x353279['id'])}),await EventLogs[_0x528d0d(0x112)](_0x528d0d(0x131),{'workspaceName':_0x353279?.[_0x528d0d(0x11a)]||_0x528d0d(0x106)},_0x12c7bb['locals']?.[_0x528d0d(0x102)]?.['id']);try{await _0x6334ac[_0x1e43de[_0x528d0d(0x130)]]({'namespace':slug});}catch(_0x10fb84){_0x1e43de[_0x528d0d(0x124)](_0x1e43de[_0x528d0d(0xb8)],_0x528d0d(0x143))?console['error'](_0x10fb84[_0x528d0d(0x9e)]):(_0x34b36a[_0x528d0d(0xcc)](_0x1e43de[_0x528d0d(0x122)],_0x2ff7b6),_0x88ff46['status'](0x1f4)[_0x528d0d(0xc2)]({'success':!![],'message':'Error\x20saving\x20the\x20suggested\x20messages.'}));}_0x12c7bb['sendStatus'](0xc8)[_0x528d0d(0xd5)]();}catch(_0x3471b1){_0x1e43de[_0x528d0d(0xf2)](_0x528d0d(0xaa),_0x1e43de['dFPez'])?_0x2ba6d7[_0x528d0d(0xd3)]({'safe':!![]}):(console[_0x528d0d(0xb5)](_0x3471b1['message'],_0x3471b1),_0x12c7bb[_0x528d0d(0x13b)](0x1f4)['end']());}}),_0x3d867a[_0x4642d3(0xae)](_0x1e43de[_0x4642d3(0x13d)],[validatedRequest,flexUserRoleValid([ROLES[_0x4642d3(0x12d)]])],async(_0x2e9451,_0x57b78a)=>{const _0xb03c9=_0x4642d3,_0x305fa9={'fGcMB':_0x1e43de[_0xb03c9(0x8a)]};if(_0x1e43de[_0xb03c9(0xe1)](_0xb03c9(0xec),_0xb03c9(0xfb)))try{if(_0x1e43de[_0xb03c9(0xb1)](_0xb03c9(0x127),_0xb03c9(0x127)))_0x353da8[_0xb03c9(0xb5)](_0x364732['message'],_0x1a163f),_0x11695a['sendStatus'](0x1f4)[_0xb03c9(0xd5)]();else{const _0x4ae890=await userFromSession(_0x2e9451,_0x57b78a),_0x3a439a=_0x1e43de[_0xb03c9(0x109)](multiUserMode,_0x57b78a)?await Workspace[_0xb03c9(0x7d)](_0x4ae890):await Workspace[_0xb03c9(0xb0)]();_0x57b78a['status'](0xc8)['json']({'workspaces':_0x3a439a});}}catch(_0x3d612c){console[_0xb03c9(0xb5)](_0x3d612c[_0xb03c9(0x9e)],_0x3d612c),_0x57b78a['sendStatus'](0x1f4)[_0xb03c9(0xd5)]();}else return new _0x5b1a74(_0x305fa9[_0xb03c9(0xc3)])(),_0x5820b6[_0xb03c9(0x115)](0x190)[_0xb03c9(0xc2)]({'success':![],'message':_0xb03c9(0xa1)});}),_0x3d867a[_0x4642d3(0xae)](_0x4642d3(0x117),[validatedRequest,_0x1e43de[_0x4642d3(0x9a)](flexUserRoleValid,[ROLES['all']])],async(_0x340d6a,_0x45366a)=>{const _0x15ea1e=_0x4642d3;try{const {slug:_0x57e95f}=_0x340d6a[_0x15ea1e(0x132)],_0xc069d7=await userFromSession(_0x340d6a,_0x45366a),_0x27b3ec=_0x1e43de[_0x15ea1e(0x137)](multiUserMode,_0x45366a)?await Workspace[_0x15ea1e(0xf7)](_0xc069d7,{'slug':_0x57e95f}):await Workspace[_0x15ea1e(0xae)]({'slug':_0x57e95f});_0x45366a[_0x15ea1e(0x115)](0xc8)[_0x15ea1e(0xc2)]({'workspace':_0x27b3ec});}catch(_0x2bfdcd){_0x15ea1e(0xe6)===_0x15ea1e(0xe6)?(console[_0x15ea1e(0xb5)](_0x2bfdcd[_0x15ea1e(0x9e)],_0x2bfdcd),_0x45366a[_0x15ea1e(0x13b)](0x1f4)[_0x15ea1e(0xd5)]()):_0x4851bb[_0x15ea1e(0xb5)](_0x15ea1e(0xe5));}}),_0x3d867a[_0x4642d3(0xae)](_0x1e43de[_0x4642d3(0xe9)],[validatedRequest,_0x1e43de[_0x4642d3(0x109)](flexUserRoleValid,[ROLES[_0x4642d3(0x12d)]])],async(_0xe02e2,_0x43fad3)=>{const _0x57501c=_0x4642d3,_0x1ecd51={'kZvbh':_0x57501c(0xa5)};try{const {slug:_0x21f230}=_0xe02e2[_0x57501c(0x132)],_0xdcaf25=await _0x1e43de[_0x57501c(0x141)](userFromSession,_0xe02e2,_0x43fad3),_0x325616=multiUserMode(_0x43fad3)?await Workspace[_0x57501c(0xf7)](_0xdcaf25,{'slug':_0x21f230}):await Workspace['get']({'slug':_0x21f230});if(!_0x325616){_0x43fad3[_0x57501c(0x13b)](0x190)['end'](),Function(_0x1e43de['BfVAT'])();return;}const _0x5359e3=multiUserMode(_0x43fad3)?await WorkspaceChats['forWorkspaceByUser'](_0x325616['id'],_0xdcaf25['id']):await WorkspaceChats[_0x57501c(0xf4)](_0x325616['id']);_0x43fad3['status'](0xc8)[_0x57501c(0xc2)]({'history':_0x1e43de['Dshza'](convertToChatHistory,_0x5359e3)});}catch(_0x498d3c){if(_0x1e43de['EPOyX']('cEbDV',_0x57501c(0xd8))){_0x1807de[_0x57501c(0x115)](0x1f4)['json']({'success':![],'error':_0x2fb84a})['end'](),new _0x4aa884(_0x1ecd51[_0x57501c(0xdb)])();return;}else console['log'](_0x498d3c[_0x57501c(0x9e)],_0x498d3c),_0x43fad3[_0x57501c(0x13b)](0x1f4)[_0x57501c(0xd5)]();}}),_0x3d867a[_0x4642d3(0x128)](_0x4642d3(0xcb),[validatedRequest,_0x1e43de[_0x4642d3(0xee)](flexUserRoleValid,[ROLES[_0x4642d3(0x12d)]]),validWorkspaceSlug],async(_0x51ee43,_0x3fb160)=>{const _0x55d671=_0x4642d3;try{const {chatIds:chatIds=[]}=reqBody(_0x51ee43),_0xa9560d=await userFromSession(_0x51ee43,_0x3fb160),_0x5bfefe=_0x3fb160[_0x55d671(0xfd)]['workspace'];if(!_0x5bfefe||!Array[_0x55d671(0x10e)](chatIds)){_0x3fb160[_0x55d671(0x13b)](0x190)['end'](),_0x1e43de[_0x55d671(0x13e)](setTimeout,function(){const _0x443143=_0x55d671;console[_0x443143(0xb5)](_0x1e43de['YGabY']);},0x64);return;}await WorkspaceChats[_0x55d671(0x128)]({'id':{'in':chatIds[_0x55d671(0x125)](_0x125a36=>Number(_0x125a36))},'user_id':_0xa9560d?.['id']??null,'workspaceId':_0x5bfefe['id']}),_0x3fb160['sendStatus'](0xc8)[_0x55d671(0xd5)]();}catch(_0x88f8e6){console['log'](_0x88f8e6[_0x55d671(0x9e)],_0x88f8e6),_0x3fb160[_0x55d671(0x13b)](0x1f4)[_0x55d671(0xd5)]();}}),_0x3d867a['post'](_0x4642d3(0x86),[validatedRequest,_0x1e43de['EwZJp'](flexUserRoleValid,[ROLES[_0x4642d3(0x12d)]]),validWorkspaceSlug],async(_0x3a6953,_0x38d1ec)=>{const _0x95bb8f=_0x4642d3;if(_0x95bb8f(0xa9)===_0x95bb8f(0x76))_0x132c6b[_0x95bb8f(0xb5)](_0x3227ce[_0x95bb8f(0x9e)],_0xe5c0bc),_0xf5cc92[_0x95bb8f(0x13b)](0x1f4)[_0x95bb8f(0xd5)]();else try{const {chatId:_0x22aa93}=_0x3a6953[_0x95bb8f(0x132)],{feedback:feedback=null}=_0x1e43de[_0x95bb8f(0xea)](reqBody,_0x3a6953),_0xd36bb7=await WorkspaceChats[_0x95bb8f(0xae)]({'id':_0x1e43de[_0x95bb8f(0xea)](Number,_0x22aa93),'workspaceId':_0x38d1ec[_0x95bb8f(0xfd)][_0x95bb8f(0x8c)]['id']});if(!_0xd36bb7){_0x38d1ec[_0x95bb8f(0x115)](0x194)[_0x95bb8f(0xd5)](),_0x1e43de['Dshza'](Function,_0x1e43de[_0x95bb8f(0x89)])();return;}const _0x1c805c=await WorkspaceChats[_0x95bb8f(0xcd)](_0x22aa93,feedback);_0x38d1ec['status'](0xc8)[_0x95bb8f(0xc2)]({'success':_0x1c805c});}catch(_0x1f715f){console[_0x95bb8f(0xcc)](_0x1e43de['NGPXD'],_0x1f715f),_0x38d1ec[_0x95bb8f(0x115)](0x1f4)['end']();}}),_0x3d867a['get'](_0x1e43de[_0x4642d3(0x10d)],[validatedRequest,_0x1e43de[_0x4642d3(0x146)](flexUserRoleValid,[ROLES[_0x4642d3(0x12d)]])],async function(_0xd55121,_0x1a06a9){const _0x22d39d=_0x4642d3;if(_0x1e43de[_0x22d39d(0x83)](_0x1e43de[_0x22d39d(0xdc)],_0x22d39d(0x12b)))_0xbfd9e2['PI']*0x2;else try{const {slug:_0x1e1337}=_0xd55121[_0x22d39d(0x132)],_0xee0f35=await WorkspaceSuggestedMessages['getMessages'](_0x1e1337);_0x1a06a9[_0x22d39d(0x115)](0xc8)[_0x22d39d(0xc2)]({'success':!![],'suggestedMessages':_0xee0f35});}catch(_0x100928){console['error'](_0x1e43de[_0x22d39d(0x97)],_0x100928),_0x1a06a9[_0x22d39d(0x115)](0x1f4)[_0x22d39d(0xc2)]({'success':![],'message':_0x22d39d(0x116)});}}),_0x3d867a['post'](_0x4642d3(0x110),[validatedRequest,flexUserRoleValid([ROLES[_0x4642d3(0x145)],ROLES[_0x4642d3(0xa8)]])],async(_0x4c1f9d,_0x45c6f1)=>{const _0x4c49fd=_0x4642d3,_0x2a7f9f={'shIMx':function(_0x15f412,_0x40f81b){return _0x15f412(_0x40f81b);},'bnDVT':_0x4c49fd(0x119),'yPqjx':_0x4c49fd(0x116)};try{if(_0x1e43de[_0x4c49fd(0x77)]!==_0x4c49fd(0xe4)){const _0xcae713=_0x458ead[_0x4c49fd(0x12f)](_0x2fa615,_0x4c49fd(0x7e)+_0x2a7f9f['shIMx'](_0xfd1a02,_0x445798));if(_0x4483c4[_0x4c49fd(0x153)](_0xcae713))_0x44bff4[_0x4c49fd(0x7f)](_0xcae713);}else{const {messages:messages=[]}=_0x1e43de[_0x4c49fd(0xfa)](reqBody,_0x4c1f9d),{slug:_0xd8ef1f}=_0x4c1f9d[_0x4c49fd(0x132)];if(!Array['isArray'](messages))return new AsyncFunction(_0x1e43de['Fhowi'])(),_0x45c6f1[_0x4c49fd(0x115)](0x190)[_0x4c49fd(0xc2)]({'success':![],'message':_0x1e43de[_0x4c49fd(0xc0)]});return await WorkspaceSuggestedMessages[_0x4c49fd(0xbb)](messages,_0xd8ef1f),setTimeout(function(){const _0x2c51f7=_0x4c49fd;_0x1e43de[_0x2c51f7(0xf9)](_0x2c51f7(0x126),_0x1e43de[_0x2c51f7(0x11e)])?console[_0x2c51f7(0xb5)]('safe'):(_0x330047['error'](_0x2a7f9f[_0x2c51f7(0xfc)],_0x2634ef),_0x157258['status'](0x1f4)[_0x2c51f7(0xc2)]({'message':_0x2a7f9f[_0x2c51f7(0x136)]}));},0x64),_0x45c6f1[_0x4c49fd(0x115)](0xc8)['json']({'success':!![],'message':'Suggested\x20messages\x20saved\x20successfully.'});}}catch(_0x23ab9b){console[_0x4c49fd(0xcc)](_0x1e43de[_0x4c49fd(0x122)],_0x23ab9b),_0x45c6f1['status'](0x1f4)['json']({'success':!![],'message':_0x1e43de['BCPhy']});}}),_0x3d867a[_0x4642d3(0x10c)](_0x1e43de[_0x4642d3(0xbd)],[validatedRequest,flexUserRoleValid([ROLES[_0x4642d3(0x145)],ROLES[_0x4642d3(0xa8)]]),validWorkspaceSlug],async(_0x431179,_0x25e5a9)=>{const _0x299b9f=_0x4642d3;try{const {docPath:_0x3b3e5a,pinStatus:pinStatus=![]}=reqBody(_0x431179),_0x1c3acc=_0x25e5a9[_0x299b9f(0xfd)][_0x299b9f(0x8c)],_0x5a28e1=await Document[_0x299b9f(0xae)]({'workspaceId':_0x1c3acc['id'],'docpath':_0x3b3e5a});Function(_0x1e43de[_0x299b9f(0x108)])();if(!_0x5a28e1)return _0x25e5a9['sendStatus'](0x194)[_0x299b9f(0xd5)]();return await Document[_0x299b9f(0x111)](_0x5a28e1['id'],{'pinned':pinStatus}),_0x1e43de['CffRQ'](setTimeout,_0x299b9f(0x93),0x3e8),_0x25e5a9[_0x299b9f(0x115)](0xc8)[_0x299b9f(0xd5)]();}catch(_0x2168e8){if(_0x1e43de[_0x299b9f(0xeb)]('uhgGS','HJNge'))return console[_0x299b9f(0xcc)](_0x1e43de[_0x299b9f(0xaf)],_0x2168e8),Function(_0x1e43de[_0x299b9f(0x89)])(),_0x25e5a9[_0x299b9f(0x115)](0x1f4)['end']();else _0x223519['PI']*0x2;}}),_0x3d867a[_0x4642d3(0xae)](_0x4642d3(0xd6),[validatedRequest,flexUserRoleValid([ROLES[_0x4642d3(0x12d)]]),validWorkspaceSlug],async function(_0x2e7a61,_0x1a23fa){const _0x1dff2d=_0x4642d3;try{const {chatId:_0x3e16bd}=_0x2e7a61[_0x1dff2d(0x132)],_0x4b79b3=_0x1a23fa[_0x1dff2d(0xfd)][_0x1dff2d(0x8c)],_0x2c887b=_0x4b79b3['slug']+':'+_0x3e16bd,_0x1e3695=await WorkspaceChats['get']({'id':Number(_0x3e16bd),'workspaceId':_0x4b79b3['id']}),_0x38ddd5=_0x5988af['get'](_0x2c887b);if(_0x38ddd5){_0x1a23fa[_0x1dff2d(0xc5)](0xc8,{'Content-Type':_0x38ddd5[_0x1dff2d(0xd1)]||_0x1e43de['BuNnP']}),_0x1a23fa[_0x1dff2d(0xd5)](_0x38ddd5[_0x1dff2d(0x92)]),setTimeout(_0x1dff2d(0x93),0x3e8);return;}const _0xd4b0e9=safeJsonParse(_0x1e3695['response'],null)?.[_0x1dff2d(0xe8)];eval('1 + 1;');if(!_0xd4b0e9)return _0x1a23fa[_0x1dff2d(0x13b)](0xcc)['end']();const _0x2af01d=getTTSProvider(),_0xe8014=await _0x2af01d['ttsBuffer'](_0xd4b0e9);_0x1e43de['ThhjU'](setTimeout,_0x1dff2d(0x93),0x3e8);if(_0x1e43de[_0x1dff2d(0x124)](_0xe8014,null))return _0x1a23fa[_0x1dff2d(0x13b)](0xcc)[_0x1dff2d(0xd5)]();_0x5988af[_0x1dff2d(0xd7)](_0x2c887b,{'buffer':_0xe8014,'mime':'audio/mpeg'}),_0x1a23fa[_0x1dff2d(0xc5)](0xc8,{'Content-Type':'audio/mpeg'}),_0x1a23fa[_0x1dff2d(0xd5)](_0xe8014),eval('const _0x58641f = _0x1dff2d;JSON[_0x58641f(211)]({ \'safe\': !![] });');return;}catch(_0x177e3a){console[_0x1dff2d(0xcc)](_0x1dff2d(0x152),_0x177e3a),_0x1a23fa[_0x1dff2d(0x115)](0x1f4)[_0x1dff2d(0xc2)]({'message':_0x1e43de[_0x1dff2d(0xd9)]});}}),_0x3d867a['get'](_0x1e43de[_0x4642d3(0xba)],[validatedRequest,_0x1e43de[_0x4642d3(0x9c)](flexUserRoleValid,[ROLES[_0x4642d3(0x12d)]])],async function(_0x56fff2,_0x519a5a){const _0x37a60d=_0x4642d3;try{const {slug:_0x39b1ec}=_0x56fff2[_0x37a60d(0x132)],_0x3a7397=_0x5988af[_0x37a60d(0xae)](_0x39b1ec);if(_0x3a7397){_0x519a5a[_0x37a60d(0xc5)](0xc8,{'Content-Type':_0x3a7397[_0x37a60d(0xd1)]||_0x1e43de[_0x37a60d(0xb9)]}),_0x519a5a[_0x37a60d(0xd5)](_0x3a7397['buffer']),eval('const _0xd975da = _0x37a60d;JSON[_0xd975da(211)]({ \'safe\': !![] });');return;}const _0x30dc4e=await determineWorkspacePfpFilepath(_0x39b1ec);if(!_0x30dc4e){_0x519a5a[_0x37a60d(0x13b)](0xcc)[_0x37a60d(0xd5)](),eval('Math[\'PI\'] * 2;');return;}const {found:_0x1fb4ca,buffer:_0x5e0c5f,mime:_0x607946}=fetchPfp(_0x30dc4e);if(!_0x1fb4ca){_0x519a5a['sendStatus'](0xcc)[_0x37a60d(0xd5)](),new AsyncFunction(_0x1e43de[_0x37a60d(0x8a)])();return;}_0x5988af[_0x37a60d(0xd7)](_0x39b1ec,{'buffer':_0x5e0c5f,'mime':_0x607946}),_0x519a5a[_0x37a60d(0xc5)](0xc8,{'Content-Type':_0x607946||_0x37a60d(0x120)}),_0x519a5a['end'](_0x5e0c5f),eval('Math[\'PI\'] * 2;');return;}catch(_0x3ad805){console['error'](_0x1e43de[_0x37a60d(0x12c)],_0x3ad805),_0x519a5a[_0x37a60d(0x115)](0x1f4)[_0x37a60d(0xc2)]({'message':_0x1e43de[_0x37a60d(0x11b)]});}}),_0x3d867a['post']('/workspace/:slug/upload-pfp',[validatedRequest,flexUserRoleValid([ROLES[_0x4642d3(0x145)],ROLES[_0x4642d3(0xa8)]]),handlePfpUpload],async function(_0xc27ab1,_0x2c3d33){const _0x3ea3fe=_0x4642d3;try{const {slug:_0xce59e6}=_0xc27ab1[_0x3ea3fe(0x132)],_0x4857b5=_0xc27ab1[_0x3ea3fe(0xa2)];if(!_0x4857b5){if(_0x1e43de[_0x3ea3fe(0xeb)](_0x1e43de[_0x3ea3fe(0x149)],_0x1e43de[_0x3ea3fe(0x149)]))_0x275c6d[_0x3ea3fe(0xcc)](_0x1317c4[_0x3ea3fe(0x9e)]);else return eval('1 + 1;'),_0x2c3d33[_0x3ea3fe(0x115)](0x190)[_0x3ea3fe(0xc2)]({'message':_0x1e43de[_0x3ea3fe(0xc8)]});}const _0x1ff066=await Workspace[_0x3ea3fe(0xae)]({'slug':_0xce59e6}),_0x5e57f0=_0x1ff066[_0x3ea3fe(0x14e)];if(_0x5e57f0){const _0xa83ee0=path['join'](__dirname,_0x3ea3fe(0x7e)+normalizePath(_0x1ff066[_0x3ea3fe(0x14e)]));if(fs[_0x3ea3fe(0x153)](_0xa83ee0))fs[_0x3ea3fe(0x7f)](_0xa83ee0);}const {workspace:_0x4e7d59,message:_0xc3232f}=await Workspace[_0x3ea3fe(0x7b)](_0x1ff066['id'],{'pfpFilename':_0x4857b5});return eval('const _0x3d8567 = _0x3ea3fe;_0x1e43de[_0x3d8567(240)](Math[\'PI\'], 2);'),_0x2c3d33['status'](_0x4e7d59?0xc8:0x1f4)[_0x3ea3fe(0xc2)]({'message':_0x4e7d59?_0x1e43de[_0x3ea3fe(0x10b)]:_0xc3232f});}catch(_0x1e22ba){console[_0x3ea3fe(0xcc)]('Error\x20processing\x20the\x20profile\x20picture\x20upload:',_0x1e22ba),_0x2c3d33[_0x3ea3fe(0x115)](0x1f4)[_0x3ea3fe(0xc2)]({'message':_0x1e43de[_0x3ea3fe(0x11b)]});}}),_0x3d867a[_0x4642d3(0x128)](_0x4642d3(0x123),[validatedRequest,_0x1e43de[_0x4642d3(0xef)](flexUserRoleValid,[ROLES['admin'],ROLES[_0x4642d3(0xa8)]])],async function(_0x4c95e4,_0x27167d){const _0x3f48d7=_0x4642d3;try{const {slug:_0x4d94dc}=_0x4c95e4[_0x3f48d7(0x132)],_0x1bbfa8=await Workspace['get']({'slug':_0x4d94dc}),_0xd5ef4c=_0x1bbfa8['pfpFilename'];if(_0xd5ef4c){if(_0x1e43de[_0x3f48d7(0x8f)]!==_0x3f48d7(0xd0))_0x37a135[_0x3f48d7(0xb5)](_0x520562[_0x3f48d7(0x9e)],_0x1b8617),_0x1b7856['sendStatus'](0x1f4)[_0x3f48d7(0xd5)]();else{const _0x37a095=path[_0x3f48d7(0x12f)](__dirname,_0x3f48d7(0x7e)+_0x1e43de[_0x3f48d7(0xea)](normalizePath,_0xd5ef4c));if(fs[_0x3f48d7(0x153)](_0x37a095))fs['unlinkSync'](_0x37a095);}}const {workspace:_0x579c0a,message:_0x191f8a}=await Workspace['_update'](_0x1bbfa8['id'],{'pfpFilename':null});return _0x5988af[_0x3f48d7(0x128)](_0x4d94dc),Function(_0x3f48d7(0x103))(),_0x27167d[_0x3f48d7(0x115)](_0x579c0a?0xc8:0x1f4)[_0x3f48d7(0xc2)]({'message':_0x579c0a?_0x1e43de[_0x3f48d7(0x113)]:_0x191f8a});}catch(_0x4f1792){console['error'](_0x3f48d7(0x135),_0x4f1792),_0x27167d[_0x3f48d7(0x115)](0x1f4)[_0x3f48d7(0xc2)]({'message':'Internal\x20server\x20error'});}});}module[_0x35a8ba(0xab)]={'workspaceEndpoints':workspaceEndpoints};function _0x17a3(){const _0x3ccd09=['YcchU','processLink','log','lancedb','Document\x20processing\x20API\x20is\x20not\x20online.\x20Document\x20','AQtun','KeeRZ','WxpyE','saveAll','../utils/collectorApi','PFfXI','CtWbQ','gXugQ','AubQh','JzKcz','json','fGcMB','\x20documents\x20failed\x20to\x20add.\x0a\x0a','writeHead','wlSLj','../utils/files/pfp','KjZir','workspace_created','file','/workspace/:slug/delete-chats','error','updateFeedbackScore','Error\x20processing\x20the\x20logo\x20request:','CAVQl','noLQF','mime','audio/mpeg','stringify','Document\x20processing\x20API\x20is\x20not\x20online.\x20Link\x20','end','/workspace/:slug/tts/:chatId','set','cCMWh','LelYQ','env','kZvbh','sXWul','SiBSh','Byebj','inherit','../utils/helpers/chat/responses','GBZeM','yxwWQ','/workspace/:slug/update','PYylB','safe','khExg','../models/workspace','text','TKVKv','hwAWP','sDqLi','RUlzA','XgeUv','JRayg','ICVuS','srYvq','../models/eventLogs','nXuyV','../utils/middleware/multiUserProtected','forWorkspace','../utils/TextToSpeech','25335BmVFQQ','getWithUser','\x20uploaded\x20processed\x20and\x20successfully.\x20It\x20is\x20now\x20available\x20in\x20documents.','cYbXu','GgvtU','HBRSV','bnDVT','locals','delete-namespace','VECTOR_DB','onboarding_complete','TTS\x20could\x20not\x20be\x20completed','user','return\x20Object.keys({a:1});','Dshza','IaFpT','Unknown\x20Workspace','workspace_deleted','AXjtP','JJItS','5397462rmqrNH','QSSPT','post','AHSyv','isArray','6sweILB','/workspace/:slug/suggested-messages','update','logEvent','wysYS','EbtNh','status','Internal\x20server\x20error','/workspace/:slug','BXwEX','Error\x20processing\x20the\x20profile\x20picture\x20upload:','name','FXNcZ','../models/vectors','172231vOIyuU','KLSUq','ptkHm','image/png','oRaci','JZbPf','/workspace/:slug/remove-pfp','RbUdU','map','HneEe','qyryR','delete','openai','Profile\x20picture\x20uploaded\x20successfully.','FVjOL','GmAYh','all','/workspace/new','join','unxBH','workspace_vectors_reset','params','new','length','Error\x20processing\x20the\x20profile\x20picture\x20removal:','yPqjx','yyOkI','../utils/files','HKwlr','/workspace/:slug/update-pin','sendStatus','Error\x20updating\x20chat\x20feedback:','SEgab','ThhjU','mUdsf','return\x20await\x20Promise.resolve(42);','goZxS','../utils/files/multer','EBwwE','return\x20new\x20Date();','admin','oIMmi','ZnqPo','LLM_PROVIDER','uwcqg','sendTelemetry','document_uploaded','dmphL','../utils/helpers','pfpFilename','../models/telemetry','sMFis','Link\x20','Error\x20processing\x20the\x20TTS\x20request:','existsSync','\x20will\x20not\x20be\x20processed\x20automatically.','/workspace/:slug/update-embeddings','1083216oZVMmF','wWVkP','YmBMh','/workspace/:slug/upload','svXMy','Error\x20fetching\x20suggested\x20messages:','_update','removeDocuments','whereWithUser','../storage/assets/pfp/','unlinkSync','lbFlc','rubFu','updateClock();','tfsaQ','addDocuments','Error\x20saving\x20the\x20suggested\x20messages.','/workspace/:slug/chat-feedback/:chatId','476020nCvJwP','processDocument','BfVAT','Fhowi','604ZzAgnk','workspace','Profile\x20picture\x20removed\x20successfully.','wUvbD','DPrwc','UGDCp','DOreO','buffer','console.log(\x22timer\x22);','link_uploaded','path','Error\x20processing\x20the\x20suggested\x20messages:','PmKck','Document\x20','EMBEDDING_ENGINE','JbCzY','zgECo','MpQMl','3826888ccgmLU','message','online','../utils/http','Invalid\x20message\x20format.\x20Expected\x20an\x20array\x20of\x20messages.','randomFileName','trackChange','deleteForWorkspace','var\x20x\x20=\x2042;\x20return\x20x;','/workspace/:slug/upload-link','mPRrh','manager','lqMMT','YBFXU','exports','Error\x20processing\x20the\x20pin\x20status\x20update:','yWbRg','get','FeegY','where','ZWTwD','13571622ygrTPK'];_0x17a3=function(){return _0x3ccd09;};return _0x17a3();}