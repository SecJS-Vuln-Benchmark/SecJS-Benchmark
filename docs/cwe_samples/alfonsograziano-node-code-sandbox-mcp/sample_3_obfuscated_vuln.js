const _0x268cd2=_0x1764;(function(_0x467a0a,_0x5ac042){const _0x3abdf3=_0x1764,_0x4f2770=_0x467a0a();while(!![]){try{const _0x476c3e=-parseInt(_0x3abdf3(0x1d6))/0x1*(-parseInt(_0x3abdf3(0x1b5))/0x2)+-parseInt(_0x3abdf3(0x17d))/0x3+parseInt(_0x3abdf3(0x1d8))/0x4*(-parseInt(_0x3abdf3(0x1dd))/0x5)+-parseInt(_0x3abdf3(0x1de))/0x6*(-parseInt(_0x3abdf3(0x1c9))/0x7)+parseInt(_0x3abdf3(0x1ed))/0x8*(parseInt(_0x3abdf3(0x1e5))/0x9)+parseInt(_0x3abdf3(0x177))/0xa*(parseInt(_0x3abdf3(0x1a5))/0xb)+-parseInt(_0x3abdf3(0x1c3))/0xc*(parseInt(_0x3abdf3(0x1f4))/0xd);if(_0x476c3e===_0x5ac042)break;else _0x4f2770['push'](_0x4f2770['shift']());}catch(_0x4ba513){_0x4f2770['push'](_0x4f2770['shift']());}}}(_0x1fcf,0x2ac79));const fs=require('fs'),path=require(_0x268cd2(0x1b8)),util=require('util'),exec=util[_0x268cd2(0x1b9)](require('child_process')['exec']),chalk=require(_0x268cd2(0x1b2)),concurrently=require(_0x268cd2(0x19f)),nodeVersion=parseInt(process[_0x268cd2(0x197)][_0x268cd2(0x1ae)]['split']('.')[0x0]);nodeVersion<0x12&&(console[_0x268cd2(0x18c)](_0x268cd2(0x1cb)),process[_0x268cd2(0x1c1)](0x1));const config=require('../../ghost/core/core/shared/config/loader')['loadNconf']({'customConfigPath':path[_0x268cd2(0x19c)](__dirname,'../../ghost/core')}),tsPackages=fs[_0x268cd2(0x1ac)](path['resolve'](__dirname,_0x268cd2(0x1b3)),{'withFileTypes':!![]})[_0x268cd2(0x1e0)](_0x4faf24=>_0x4faf24[_0x268cd2(0x1da)]())[_0x268cd2(0x1e2)](_0x344844=>_0x344844['name'])[_0x268cd2(0x1e0)](_0x329b75=>{const _0x3ded8c=_0x268cd2,_0x4c4840={'LUuBf':_0x3ded8c(0x1a2)};try{const _0x5e652b=require(path['resolve'](__dirname,_0x3ded8c(0x1bd)+_0x329b75+'/package.json'));return _0x5e652b[_0x3ded8c(0x1b4)]?.[_0x4c4840[_0x3ded8c(0x18d)]];}catch(_0x27c6f8){return![];}})[_0x268cd2(0x1e2)](_0xee7478=>_0x268cd2(0x1c4)+_0xee7478)['join'](','),liveReloadBaseUrl=config[_0x268cd2(0x18e)]()||_0x268cd2(0x1f2),siteUrl=config[_0x268cd2(0x189)](),DASH_DASH_ARGS=process[_0x268cd2(0x19d)][_0x268cd2(0x1e0)](_0x122e78=>_0x122e78[_0x268cd2(0x1c0)]('--'))[_0x268cd2(0x1e2)](_0x273dfc=>_0x273dfc[_0x268cd2(0x1a0)](0x2));let commands=[];const COMMAND_GHOST={'name':'ghost','command':_0x268cd2(0x1d2),'cwd':path['resolve'](__dirname,_0x268cd2(0x194)),'prefixColor':'blue','env':{'NODE_TLS_REJECT_UNAUTHORIZED':'0'}},COMMAND_ADMIN={'name':_0x268cd2(0x179),'command':_0x268cd2(0x183)+liveReloadBaseUrl+_0x268cd2(0x187),'cwd':path['resolve'](__dirname,'../../ghost/admin'),'prefixColor':'green','env':{}},COMMAND_TYPESCRIPT={'name':'ts','command':_0x268cd2(0x1eb)+tsPackages+_0x268cd2(0x19e),'cwd':path['resolve'](__dirname,_0x268cd2(0x195)),'prefixColor':_0x268cd2(0x1a3),'env':{}},adminXApps=_0x268cd2(0x1bf),COMMANDS_ADMINX=[{'name':'adminXDeps','command':_0x268cd2(0x1bb),'cwd':path['resolve'](__dirname,_0x268cd2(0x198)),'prefixColor':'#C35831','env':{}},{'name':_0x268cd2(0x1a4),'command':'nx\x20run-many\x20--projects='+adminXApps+_0x268cd2(0x178)+adminXApps[_0x268cd2(0x1a7)]+_0x268cd2(0x1e4),'cwd':path[_0x268cd2(0x1e7)](__dirname,_0x268cd2(0x191)),'prefixColor':_0x268cd2(0x1b1),'env':{}}];if(DASH_DASH_ARGS['includes'](_0x268cd2(0x1d4)))commands=[COMMAND_GHOST,COMMAND_TYPESCRIPT];else DASH_DASH_ARGS[_0x268cd2(0x184)](_0x268cd2(0x179))?commands=[COMMAND_ADMIN,...COMMANDS_ADMINX]:commands=[COMMAND_GHOST,COMMAND_TYPESCRIPT,COMMAND_ADMIN,...COMMANDS_ADMINX];(DASH_DASH_ARGS[_0x268cd2(0x184)](_0x268cd2(0x18a))||DASH_DASH_ARGS[_0x268cd2(0x184)](_0x268cd2(0x1e9)))&&(commands[_0x268cd2(0x185)]({'name':_0x268cd2(0x18a),'command':_0x268cd2(0x186),'cwd':path[_0x268cd2(0x1e7)](__dirname,_0x268cd2(0x1d9)),'prefixColor':_0x268cd2(0x1b7),'env':{}}),DASH_DASH_ARGS['includes']('https')?COMMAND_GHOST[_0x268cd2(0x1f5)]['portal__url']='https://localhost:4176/portal.min.js':COMMAND_GHOST['env'][_0x268cd2(0x1ee)]=_0x268cd2(0x1ce));(DASH_DASH_ARGS['includes'](_0x268cd2(0x1e8))||DASH_DASH_ARGS[_0x268cd2(0x184)](_0x268cd2(0x1e9)))&&(commands[_0x268cd2(0x185)]({'name':'signup-form','command':DASH_DASH_ARGS[_0x268cd2(0x184)]('signup')?_0x268cd2(0x1ad):'nx\x20run\x20@tryghost/signup-form:preview','cwd':path[_0x268cd2(0x1e7)](__dirname,_0x268cd2(0x1a9)),'prefixColor':_0x268cd2(0x1b7),'env':{}}),COMMAND_GHOST[_0x268cd2(0x1f5)]['signupForm__url']=_0x268cd2(0x17b));(DASH_DASH_ARGS['includes'](_0x268cd2(0x1aa))||DASH_DASH_ARGS['includes'](_0x268cd2(0x1ab))||DASH_DASH_ARGS[_0x268cd2(0x184)](_0x268cd2(0x1d0))||DASH_DASH_ARGS[_0x268cd2(0x184)]('all'))&&(commands[_0x268cd2(0x185)]({'name':_0x268cd2(0x1aa),'command':_0x268cd2(0x193),'cwd':path[_0x268cd2(0x1e7)](__dirname,_0x268cd2(0x1ba)),'prefixColor':_0x268cd2(0x1bc),'env':{}}),COMMAND_GHOST[_0x268cd2(0x1f5)][_0x268cd2(0x17a)]=_0x268cd2(0x1f0));function _0x1764(_0x4612ae,_0x3cef0b){const _0x1fcf8e=_0x1fcf();return _0x1764=function(_0x1764c3,_0x5b1941){_0x1764c3=_0x1764c3-0x177;let _0x49a016=_0x1fcf8e[_0x1764c3];return _0x49a016;},_0x1764(_0x4612ae,_0x3cef0b);}(DASH_DASH_ARGS[_0x268cd2(0x184)](_0x268cd2(0x199))||DASH_DASH_ARGS[_0x268cd2(0x184)](_0x268cd2(0x1e9)))&&(commands[_0x268cd2(0x185)]({'name':_0x268cd2(0x199),'command':_0x268cd2(0x1df),'cwd':path[_0x268cd2(0x1e7)](__dirname,'../../apps/sodo-search'),'prefixColor':_0x268cd2(0x1cf),'env':{}}),COMMAND_GHOST[_0x268cd2(0x1f5)][_0x268cd2(0x1d1)]='http://localhost:4178/sodo-search.min.js',COMMAND_GHOST[_0x268cd2(0x1f5)][_0x268cd2(0x1f1)]=_0x268cd2(0x1c8));DASH_DASH_ARGS[_0x268cd2(0x184)](_0x268cd2(0x1cd))&&(DASH_DASH_ARGS['includes'](_0x268cd2(0x1ec))?COMMAND_ADMIN[_0x268cd2(0x1f5)][_0x268cd2(0x180)]=_0x268cd2(0x1db):COMMAND_ADMIN[_0x268cd2(0x1f5)][_0x268cd2(0x180)]=_0x268cd2(0x17f));function _0x1fcf(){const _0x216195=['while\x20[\x201\x20];\x20do\x20nx\x20watch\x20--projects=','https','8cgrxzw','portal__url','https://localhost:7174/comments-ui.min.js','http://localhost:4177/announcement-bar.min.js','sodoSearch__styles','/ghost/','comments','939172aPGQAW','env','red','19420DNYQPR','\x20--parallel=','admin','announcementBar__url','http://localhost:6174/signup-form.min.js','0|4|2|3|1','535713lqgnVS','noKDr','http://localhost:4173/','EDITOR_URL','name','http://localhost:7173/comments-ui.min.js','nx\x20run\x20ghost-admin:dev\x20--live-reload-base-url=','includes','push','nx\x20run\x20@tryghost/portal:dev','\x20--live-reload-port=4201','`\x20to\x20fix\x20this.','getSiteUrl','portal','aMQGC','error','LUuBf','getSubdir','comments__url','yellow','../../apps/admin-x-settings','SeBPV','nx\x20run\x20@tryghost/announcement-bar:dev','../../ghost/core','../../','If\x20you\x27ve\x20recently\x20done\x20a\x20`yarn\x20main`,\x20dependencies\x20might\x20be\x20out\x20of\x20sync.\x20Try\x20running\x20`','versions','../..','search','stdout','stripe\x20listen\x20--forward-to\x20','join','argv','\x20--\x20nx\x20run\x20\x5c$NX_PROJECT_NAME:build:ts;\x20done','concurrently','slice','Failed\x20to\x20fetch\x20Stripe\x20secret\x20token,\x20do\x20you\x20need\x20to\x20connect\x20Stripe\x20CLI?','build:ts','cyan','adminX','1067TgTzaP','members/webhooks/stripe/','length','WEBHOOK_SECRET','../../apps/signup-form','announcement-bar','announcementBar','readdirSync','nx\x20run\x20@tryghost/signup-form:dev','node','offline','EtTMN','#C35831','chalk','../../ghost','scripts','10286ryaKvZ','lXMgL','magenta','path','promisify','../../apps/announcement-bar','while\x20[\x201\x20];\x20do\x20nx\x20watch\x20--projects=apps/admin-x-design-system,apps/admin-x-framework\x20--\x20nx\x20run\x20\x5c$NX_PROJECT_NAME:build;\x20done','#DC9D00','../../ghost/','Running\x20projects:\x20','@tryghost/admin-x-demo,@tryghost/admin-x-settings','startsWith','exit','pdPZs','12DyKdQd','ghost/','nx\x20run\x20@tryghost/comments-ui:dev','IMgLn','log','http://localhost:4178/main.css','70RPQSOd','yarn\x20fix','`yarn\x20dev`\x20requires\x20Node\x20v18\x20or\x20above.\x20Please\x20upgrade\x20your\x20version\x20of\x20Node.','JJFxm','lexical','http://localhost:4175/portal.min.js','#23de43','announcementbar','sodoSearch__url','nx\x20run\x20ghost:dev','ULLfx','ghost','trim','15UGmvpz','No\x20Stripe\x20secret\x20was\x20present','4unWuMN','../../apps/portal','isDirectory','https://localhost:41730/','#E55137','587695vHgIEY','144006bHOson','nx\x20run\x20@tryghost/sodo-search:dev','filter','split','map','../../apps/comments-ui','\x20--targets=dev','342450WKzfCM','stripe','resolve','signup','all','green'];_0x1fcf=function(){return _0x216195;};return _0x1fcf();}(DASH_DASH_ARGS['includes'](_0x268cd2(0x1f3))||DASH_DASH_ARGS[_0x268cd2(0x184)]('all'))&&(DASH_DASH_ARGS[_0x268cd2(0x184)](_0x268cd2(0x1ec))?COMMAND_GHOST[_0x268cd2(0x1f5)][_0x268cd2(0x18f)]=_0x268cd2(0x1ef):COMMAND_GHOST[_0x268cd2(0x1f5)]['comments__url']=_0x268cd2(0x182),commands[_0x268cd2(0x185)]({'name':_0x268cd2(0x1f3),'command':_0x268cd2(0x1c5),'cwd':path[_0x268cd2(0x1e7)](__dirname,_0x268cd2(0x1e3)),'prefixColor':_0x268cd2(0x1dc),'env':{}}));async function handleStripe(){const _0x449dca=_0x268cd2,_0x162fc2={'AIItk':_0x449dca(0x1af),'ONard':function(_0x4a8a5b,_0x47cf36){return _0x4a8a5b(_0x47cf36);},'EtTMN':'stripe\x20listen\x20--print-secret','IMgLn':_0x449dca(0x190)};if(DASH_DASH_ARGS[_0x449dca(0x184)](_0x449dca(0x1e6))||DASH_DASH_ARGS[_0x449dca(0x184)](_0x449dca(0x1e9))){if(DASH_DASH_ARGS[_0x449dca(0x184)](_0x162fc2['AIItk']))return;let _0x35f4cf;try{_0x35f4cf=await _0x162fc2['ONard'](exec,_0x162fc2[_0x449dca(0x1b0)]);}catch(_0x45150f){console[_0x449dca(0x18c)](_0x449dca(0x1a1),_0x45150f);return;}if(!_0x35f4cf||!_0x35f4cf[_0x449dca(0x19a)]){console['error'](_0x449dca(0x1d7));return;}COMMAND_GHOST[_0x449dca(0x1f5)][_0x449dca(0x1a8)]=_0x35f4cf['stdout'][_0x449dca(0x1d5)](),commands[_0x449dca(0x185)]({'name':'stripe','command':_0x449dca(0x19b)+siteUrl+_0x449dca(0x1a6),'prefixColor':_0x162fc2[_0x449dca(0x1c6)],'env':{}});}}((async()=>{const _0x197883=_0x268cd2,_0x4660dc={'pdPZs':function(_0x1daa97){return _0x1daa97();},'noKDr':_0x197883(0x181),'aMQGC':'failure','JJFxm':_0x197883(0x192),'lXMgL':_0x197883(0x17c),'ULLfx':function(_0x34dc4b,_0x48706d){return _0x34dc4b+_0x48706d;}};await _0x4660dc[_0x197883(0x1c2)](handleStripe);!commands[_0x197883(0x1a7)]&&(console[_0x197883(0x1c7)]('No\x20commands\x20provided'),process[_0x197883(0x1c1)](0x0));console[_0x197883(0x1c7)](_0x197883(0x1be)+commands[_0x197883(0x1e2)](_0xc69e11=>chalk['green'](_0xc69e11[_0x197883(0x181)]))[_0x197883(0x19c)](',\x20'));const {result:_0x402458}=concurrently(commands,{'prefix':_0x4660dc[_0x197883(0x17e)],'killOthers':[_0x4660dc[_0x197883(0x18b)],'success']});try{await _0x402458;}catch(_0x3d2b56){if('SeBPV'===_0x4660dc[_0x197883(0x1cc)]){const _0x4443e8=_0x4660dc[_0x197883(0x1b6)][_0x197883(0x1e1)]('|');let _0x54b947=0x0;while(!![]){switch(_0x4443e8[_0x54b947++]){case'0':console['error']();continue;case'1':console[_0x197883(0x18c)]();continue;case'2':console[_0x197883(0x18c)](chalk[_0x197883(0x1f6)](_0x197883(0x196)+chalk[_0x197883(0x1ea)](_0x197883(0x1ca))+_0x197883(0x188)));continue;case'3':console[_0x197883(0x18c)](chalk[_0x197883(0x1f6)]('If\x20not,\x20something\x20else\x20went\x20wrong.\x20Please\x20report\x20this\x20to\x20the\x20Ghost\x20team.'));continue;case'4':console['error'](_0x4660dc[_0x197883(0x1d3)](chalk['red']('Executing\x20dev\x20command\x20failed:'),'\x0a'));continue;}break;}}else return;}})());