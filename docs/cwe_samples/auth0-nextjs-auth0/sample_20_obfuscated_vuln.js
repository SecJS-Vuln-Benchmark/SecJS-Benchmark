const _0x2314c8=_0x5c4d;(function(_0x29b64c,_0x4a8936){const _0x428fc8=_0x5c4d,_0x272d46=_0x29b64c();while(!![]){try{const _0x5e67a6=-parseInt(_0x428fc8(0x8e))/0x1+-parseInt(_0x428fc8(0x88))/0x2*(-parseInt(_0x428fc8(0x9b))/0x3)+-parseInt(_0x428fc8(0x85))/0x4*(parseInt(_0x428fc8(0x80))/0x5)+-parseInt(_0x428fc8(0x87))/0x6+-parseInt(_0x428fc8(0x86))/0x7+parseInt(_0x428fc8(0x9e))/0x8*(-parseInt(_0x428fc8(0x8a))/0x9)+parseInt(_0x428fc8(0x9f))/0xa;if(_0x5e67a6===_0x4a8936)break;else _0x272d46['push'](_0x272d46['shift']());}catch(_0x3ea178){_0x272d46['push'](_0x272d46['shift']());}}}(_0x21ca,0x2553b));function _0x5c4d(_0x5e1da3,_0x4dea86){const _0x21ca3e=_0x21ca();return _0x5c4d=function(_0x5c4df8,_0x4da4d5){_0x5c4df8=_0x5c4df8-0x79;let _0x57d328=_0x21ca3e[_0x5c4df8];return _0x57d328;},_0x5c4d(_0x5e1da3,_0x4dea86);}import{describe,it,expect,vi,beforeEach}from'vitest';function _0x21ca(){const _0xf95044=['toHaveBeenCalledWith','initializeSandbox','mockImplementation','ePBQf','DEFAULT_NODE_IMAGE','VpWKh','text','MUhCW','Unexpected\x20content\x20type','32615aVKCNL','hVeVC','WfBEB','AKDfC','should\x20use\x20the\x20provided\x20image','52ipvNqD','1800673uzinNB','701478iDCKJT','106442pkOqdr','wjgLl','558tjtVTE','textContent','--name\x20','isDockerRunning','297814GKsDNA','QhCZz','spyOn','bqcUE','from','node:child_process','Error:\x20Docker\x20is\x20not\x20running.\x20Please\x20start\x20Docker\x20and\x20try\x20again.','mock','AQdje','should\x20use\x20the\x20default\x20image\x20when\x20none\x20is\x20provided','JNaRS','stringContaining','toEqual','15oaLTpJ','type','mockReturnValue','9208rJpRYA','7149130kbqdlF','resetAllMocks','node:20-alpine','execSync','content','123e4567-e89b-12d3-a456-426614174000','../types','toBe'];_0x21ca=function(){return _0xf95044;};return _0x21ca();}import _0xaa360d from'../src/tools/initialize.ts';import*as _0x4d5dce from'node:child_process';import*as _0x29dd86 from'node:crypto';import*as _0x33ab7f from'../src/utils.ts';import*as _0x2ed883 from'../src/types.ts';vi[_0x2314c8(0x95)](_0x2314c8(0x93)),vi[_0x2314c8(0x95)]('node:crypto'),vi[_0x2314c8(0x95)](_0x2314c8(0xa5)),describe(_0x2314c8(0xa8),()=>{const _0x5e5374=_0x2314c8,_0x3ec297={'VpWKh':'randomUUID','JNaRS':_0x5e5374(0x8b),'VhPxr':_0x5e5374(0x8d),'WfBEB':function(_0x2c3922,_0x36802b){return _0x2c3922(_0x36802b);},'wjgLl':_0x5e5374(0x7d),'ePBQf':_0x5e5374(0x94),'AQdje':function(_0x282ee6,_0x5b49b8){return _0x282ee6(_0x5b49b8);},'bqcUE':_0x5e5374(0xa4),'hVeVC':function(_0x19603a,_0xc922b,_0x457fab){return _0x19603a(_0xc922b,_0x457fab);},'QhCZz':'should\x20return\x20an\x20error\x20message\x20if\x20Docker\x20is\x20not\x20running','AKDfC':function(_0x38c6fa,_0x414c03,_0x489d4f){return _0x38c6fa(_0x414c03,_0x489d4f);},'cuQDa':_0x5e5374(0x97),'MUhCW':_0x5e5374(0x84)},_0xf5bcd8=_0x3ec297[_0x5e5374(0x91)],_0x5914a5='js-sbx-'+_0xf5bcd8;_0x3ec297[_0x5e5374(0x96)](beforeEach,()=>{const _0xb677d2=_0x5e5374;vi[_0xb677d2(0xa0)](),vi[_0xb677d2(0x90)](_0x29dd86,_0x3ec297[_0xb677d2(0x7c)])[_0xb677d2(0x9d)](_0xf5bcd8),vi[_0xb677d2(0x90)](_0x4d5dce,'execSync')[_0xb677d2(0x79)](()=>Buffer[_0xb677d2(0x92)]('')),vi[_0xb677d2(0x90)](_0x2ed883,_0x3ec297[_0xb677d2(0x98)])['mockImplementation'](_0x4fbb15=>({'type':_0xb677d2(0x7d),'text':_0x4fbb15}));}),_0x3ec297[_0x5e5374(0x81)](it,_0x3ec297[_0x5e5374(0x8f)],async()=>{const _0x2201ea=_0x5e5374;vi[_0x2201ea(0x90)](_0x33ab7f,_0x3ec297['VhPxr'])['mockReturnValue'](![]);const _0x1707d2=await _0x3ec297[_0x2201ea(0x82)](_0xaa360d,{});expect(_0x1707d2)[_0x2201ea(0x9a)]({'content':[{'type':_0x3ec297[_0x2201ea(0x89)],'text':_0x3ec297[_0x2201ea(0x7a)]}]});}),_0x3ec297[_0x5e5374(0x83)](it,_0x3ec297['cuQDa'],async()=>{const _0x16e36f=_0x5e5374,_0x10dfd9=await _0xaa360d({});expect(_0x4d5dce[_0x16e36f(0xa2)])[_0x16e36f(0xa7)](expect['stringContaining'](_0x16e36f(0x8c)+_0x5914a5+'\x20'+_0x33ab7f[_0x16e36f(0x7b)])),_0x3ec297[_0x16e36f(0x82)](expect,_0x10dfd9)[_0x16e36f(0x9a)]({'content':[{'type':_0x3ec297[_0x16e36f(0x89)],'text':_0x5914a5}]});}),_0x3ec297[_0x5e5374(0x83)](it,_0x3ec297[_0x5e5374(0x7e)],async()=>{const _0x4bf3c8=_0x5e5374,_0x2d822e=_0x4bf3c8(0xa1),_0x4cfd9b=await _0x3ec297['AQdje'](_0xaa360d,{'image':_0x2d822e});_0x3ec297['AQdje'](expect,_0x4d5dce[_0x4bf3c8(0xa2)])['toHaveBeenCalledWith'](expect[_0x4bf3c8(0x99)](_0x4bf3c8(0x8c)+_0x5914a5+'\x20'+_0x2d822e));if(_0x4cfd9b['content'][0x0][_0x4bf3c8(0x9c)]===_0x3ec297[_0x4bf3c8(0x89)])expect(_0x4cfd9b[_0x4bf3c8(0xa3)][0x0][_0x4bf3c8(0x7d)])[_0x4bf3c8(0xa6)](_0x5914a5);else throw new Error(_0x4bf3c8(0x7f));});});