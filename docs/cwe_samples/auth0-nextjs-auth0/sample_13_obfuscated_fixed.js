const _0x24d3c4=_0x3546;(function(_0x15530a,_0x4ca8ab){const _0x4c3177=_0x3546,_0x87e967=_0x15530a();while(!![]){try{const _0x2a031a=parseInt(_0x4c3177(0x16f))/0x1*(parseInt(_0x4c3177(0x17e))/0x2)+parseInt(_0x4c3177(0x192))/0x3+parseInt(_0x4c3177(0x189))/0x4+-parseInt(_0x4c3177(0x175))/0x5+parseInt(_0x4c3177(0x167))/0x6*(parseInt(_0x4c3177(0x176))/0x7)+-parseInt(_0x4c3177(0x16d))/0x8*(parseInt(_0x4c3177(0x182))/0x9)+parseInt(_0x4c3177(0x18d))/0xa*(parseInt(_0x4c3177(0x193))/0xb);if(_0x2a031a===_0x4ca8ab)break;else _0x87e967['push'](_0x87e967['shift']());}catch(_0x56bcb5){_0x87e967['push'](_0x87e967['shift']());}}}(_0x4cf2,0x1a0ac));function _0x3546(_0x3c1e93,_0x27b38e){const _0x4cf2d3=_0x4cf2();return _0x3546=function(_0x354607,_0xadc98f){_0x354607=_0x354607-0x164;let _0x1f4e79=_0x4cf2d3[_0x354607];return _0x1f4e79;},_0x3546(_0x3c1e93,_0x27b38e);}import{describe,it,expect,vi,beforeEach}from'vitest';import _0x1f3286 from'../src/tools/initialize.ts';import*as _0x50c4cd from'node:child_process';import*as _0x34e08d from'node:crypto';import*as _0x1fa20b from'../src/utils.ts';import*as _0x137b30 from'../src/types.ts';vi[_0x24d3c4(0x186)](_0x24d3c4(0x164)),vi['mock'](_0x24d3c4(0x17f)),vi['mock'](_0x24d3c4(0x191)),describe(_0x24d3c4(0x177),()=>{const _0xea74ce=_0x24d3c4,_0x35bac2={'PFHYO':_0xea74ce(0x18e),'lIHOx':_0xea74ce(0x18c),'YMoBq':'textContent','WWqHt':'isDockerRunning','dxYkk':function(_0x27597f,_0xfd6964){return _0x27597f(_0xfd6964);},'DlZuQ':_0xea74ce(0x170),'RQhgI':function(_0x31c255,_0x3733f7){return _0x31c255(_0x3733f7);},'aBDzW':_0xea74ce(0x188),'KAQoM':_0xea74ce(0x183),'VCvUH':function(_0x2f42ac,_0x4192b3,_0x1ce6f4){return _0x2f42ac(_0x4192b3,_0x1ce6f4);}},_0x26d813=_0x35bac2['KAQoM'],_0x482821='js-sbx-'+_0x26d813;beforeEach(()=>{const _0x4af7ca=_0xea74ce;vi[_0x4af7ca(0x190)](),vi[_0x4af7ca(0x166)](_0x34e08d,_0x35bac2[_0x4af7ca(0x16e)])[_0x4af7ca(0x179)](_0x26d813),vi[_0x4af7ca(0x166)](_0x50c4cd,_0x35bac2[_0x4af7ca(0x18f)])[_0x4af7ca(0x185)](()=>Buffer[_0x4af7ca(0x17b)]('')),vi['spyOn'](_0x137b30,_0x35bac2[_0x4af7ca(0x171)])[_0x4af7ca(0x185)](_0x45a85e=>({'type':_0x4af7ca(0x169),'text':_0x45a85e}));}),_0x35bac2[_0xea74ce(0x16c)](it,_0xea74ce(0x18a),async()=>{const _0xf0f0bc=_0xea74ce;vi[_0xf0f0bc(0x166)](_0x1fa20b,_0x35bac2[_0xf0f0bc(0x173)])[_0xf0f0bc(0x179)](![]);const _0x55f5f0=await _0x35bac2[_0xf0f0bc(0x17a)](_0x1f3286,{});_0x35bac2[_0xf0f0bc(0x17a)](expect,_0x55f5f0)[_0xf0f0bc(0x17c)]({'content':[{'type':_0xf0f0bc(0x169),'text':_0x35bac2[_0xf0f0bc(0x187)]}]});}),it(_0xea74ce(0x180),async()=>{const _0x2cebb9=_0xea74ce,_0x45d771=await _0x35bac2[_0x2cebb9(0x17a)](_0x1f3286,{});expect(_0x50c4cd[_0x2cebb9(0x18c)])[_0x2cebb9(0x17d)](_0x2cebb9(0x181),expect[_0x2cebb9(0x165)](['--name',_0x482821,_0x1fa20b['DEFAULT_NODE_IMAGE']]),expect[_0x2cebb9(0x16a)](Object)),expect(_0x45d771)[_0x2cebb9(0x17c)]({'content':[{'type':'text','text':_0x482821}]});}),it(_0xea74ce(0x184),async()=>{const _0x1a7257=_0xea74ce,_0x126d38='node:20-alpine',_0xcbf0d4=await _0x1f3286({'image':_0x126d38});_0x35bac2[_0x1a7257(0x172)](expect,_0x50c4cd[_0x1a7257(0x18c)])[_0x1a7257(0x17d)]('docker',expect[_0x1a7257(0x165)]([_0x1a7257(0x174),_0x482821,_0x126d38]),expect['any'](Object));if(_0xcbf0d4[_0x1a7257(0x18b)][0x0][_0x1a7257(0x168)]===_0x1a7257(0x169))expect(_0xcbf0d4['content'][0x0]['text'])[_0x1a7257(0x178)](_0x482821);else throw new Error(_0x35bac2[_0x1a7257(0x16b)]);});});function _0x4cf2(){const _0x9fd036=['lIHOx','resetAllMocks','../types','366156yzWvmu','11ngDJeu','node:child_process','arrayContaining','spyOn','1073634djiITG','type','text','any','aBDzW','VCvUH','8qWtjfQ','PFHYO','33814cjhDYV','Error:\x20Docker\x20is\x20not\x20running.\x20Please\x20start\x20Docker\x20and\x20try\x20again.','YMoBq','RQhgI','WWqHt','--name','1026610ATeJNN','7FsPmHj','initializeSandbox','toBe','mockReturnValue','dxYkk','from','toEqual','toHaveBeenCalledWith','8QSWOby','node:crypto','should\x20use\x20the\x20default\x20image\x20when\x20none\x20is\x20provided','docker','1815930plbodN','123e4567-e89b-12d3-a456-426614174000','should\x20use\x20the\x20provided\x20image','mockImplementation','mock','DlZuQ','Unexpected\x20content\x20type','213424azXLuG','should\x20return\x20an\x20error\x20message\x20if\x20Docker\x20is\x20not\x20running','content','execFileSync','241570XvdpGL','randomUUID'];_0x4cf2=function(){return _0x9fd036;};return _0x4cf2();}