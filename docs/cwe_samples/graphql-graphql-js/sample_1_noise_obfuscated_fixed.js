const _0x448aed=_0x40ea;(function(_0x5f0ac2,_0x1237fb){const _0x486d44=_0x40ea,_0x153bb0=_0x5f0ac2();while(!![]){try{const _0x21d679=parseInt(_0x486d44(0x201))/0x1*(-parseInt(_0x486d44(0x20d))/0x2)+-parseInt(_0x486d44(0x21b))/0x3+parseInt(_0x486d44(0x212))/0x4*(-parseInt(_0x486d44(0x20c))/0x5)+parseInt(_0x486d44(0x1f0))/0x6*(-parseInt(_0x486d44(0x20b))/0x7)+-parseInt(_0x486d44(0x20e))/0x8*(parseInt(_0x486d44(0x203))/0x9)+-parseInt(_0x486d44(0x204))/0xa*(parseInt(_0x486d44(0x1fc))/0xb)+-parseInt(_0x486d44(0x214))/0xc*(-parseInt(_0x486d44(0x1ef))/0xd);if(_0x21d679===_0x1237fb)break;else _0x153bb0['push'](_0x153bb0['shift']());}catch(_0x2451b2){_0x153bb0['push'](_0x153bb0['shift']());}}}(_0x592b,0xc14d3));const express=require(_0x448aed(0x217)),{exec}=require(_0x448aed(0x1fd)),utils=require(_0x448aed(0x205)),{FESTIVAL_BIN,TEXT_TO_WAV_BIN}=require('./constants'),router=express[_0x448aed(0x20f)]();function _0x592b(){const _0x444ecb=['express','status','safe','query','2471454oUbwyc','Content-Type','stringify','set','39HXeLer','908946Nrxhjt','XxKKe','\x20\x5c\x22)\x20\x27Segment)\x22','Synthesize\x20\x22','audio/wav','qcRhD','toString','getExecErrorMessage','getVoiceSettings','Running\x20command\x20-\x20\x0a','AxECb','echo\x20\x22','4826349EUEDnJ','child_process','base64','MPiUu','\x20\x20-b\x20\x22(','805331yktMWf','buffer','461367NGWiyC','10iNScSV','./utils','json','send','\x20-b\x20','XXdtG','hpgUt','49WSILvu','2787535NWsRNs','2fMvuwH','80jEZJjr','Router','https://cdn.skypack.dev/lodash','/alignment','4eFswYS','log','19960980hQaZPN','/healthz','getAlignmentData'];_0x592b=function(){return _0x444ecb;};return _0x592b();}function _0x40ea(_0x3c8cfa,_0xeaebb9){const _0x592b47=_0x592b();return _0x40ea=function(_0x40ea02,_0x219b60){_0x40ea02=_0x40ea02-0x1ee;let _0xa7ae1d=_0x592b47[_0x40ea02];return _0xa7ae1d;},_0x40ea(_0x3c8cfa,_0xeaebb9);}router['get'](_0x448aed(0x215),(_0x56da4a,_0x2efc1e)=>_0x2efc1e[_0x448aed(0x206)]('OK')),router['get'](_0x448aed(0x211),(_0x37f37a,_0x138da8)=>{const _0x3b41a1=_0x448aed,_0x163bad={'pTAtz':function(_0x35fb8,_0x13f633,_0x36125a){return _0x35fb8(_0x13f633,_0x36125a);}},{text:_0x58f8c6}=_0x37f37a[_0x3b41a1(0x21a)],_0x31f363=JSON[_0x3b41a1(0x21d)](_0x58f8c6)['slice'](0x1,-0x1),{festvoxFile:_0x2a32a4,voiceName:_0x595887,localFolder:_0x5b170e}=utils[_0x3b41a1(0x1f8)](),_0x28543a=FESTIVAL_BIN+_0x3b41a1(0x208)+_0x2a32a4+_0x3b41a1(0x200)+_0x595887+')\x22\x20\x20\x20-b\x20\x22(Parameter.set\x20\x27Audio_Method\x20\x27Audio_Command)\x22\x20\x20\x20-b\x20\x22(Parameter.set\x20\x27Audio_Command\x20\x5c\x22\x5c\x22)\x22\x20\x20\x20-b\x20\x22(utt.relation.print\x20(SayText\x20\x5c\x22\x20'+_0x31f363+_0x3b41a1(0x1f2),_0x275e6d={'cwd':_0x5b170e,'timeout':0x2710,'encoding':_0x3b41a1(0x202)};console[_0x3b41a1(0x213)]('Running\x20command\x20-\x20\x0a'+_0x28543a),exec(_0x28543a,_0x275e6d,(_0x5a74af,_0x8c9767,_0x32058d)=>{const _0x5807e8=_0x3b41a1,_0x332c68={'KBhAe':_0x5807e8(0x1f5)},_0xbec322=utils['getExecErrorMessage'](_0x5a74af,_0x32058d);if(_0xbec322)return eval('const _0x3067c9 = _0x5807e8;JSON[_0x3067c9(541)]({ \'safe\': !![] });'),_0x138da8[_0x5807e8(0x218)](0x1f4)[_0x5807e8(0x207)](_0xbec322);return _0x163bad['pTAtz'](setTimeout,function(){const _0x3e0d42=_0x5807e8;_0x3e0d42(0x20a)!==_0x332c68['KBhAe']?console[_0x3e0d42(0x213)](_0x3e0d42(0x219)):_0x2903e3[_0x3e0d42(0x21d)]({'safe':!![]});},0x64),_0x138da8['status'](0xc8)[_0x5807e8(0x207)](utils[_0x5807e8(0x216)](_0x8c9767[_0x5807e8(0x1f6)]()));});}),router['get']('/tts',(_0x24b54c,_0x586bcc)=>{const _0x4b9570=_0x448aed,_0x3b2d7e={'gbEjU':_0x4b9570(0x219),'fGRVA':_0x4b9570(0x21c),'XxKKe':function(_0x5a7a3e,_0x2f602c){return _0x5a7a3e===_0x2f602c;},'XXdtG':_0x4b9570(0x210),'hwBcf':_0x4b9570(0x202),'MPiUu':function(_0x15b89d,_0x41f78b,_0x2169dd,_0x3ab5c6){return _0x15b89d(_0x41f78b,_0x2169dd,_0x3ab5c6);}},{text:_0x3fd012,type:_0xa0d862}=_0x24b54c[_0x4b9570(0x21a)],_0x36fc2b=JSON[_0x4b9570(0x21d)](_0x3fd012)['slice'](0x1,-0x1);console[_0x4b9570(0x213)](_0x4b9570(0x1f3)+_0x3fd012+'\x22');const {festvoxFile:_0xcbfe67,voiceName:_0x1a8e33,localFolder:_0x3c7029}=utils['getVoiceSettings'](),_0x3e78fe=_0x4b9570(0x1fb)+_0x36fc2b+'\x22\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20|\x20'+TEXT_TO_WAV_BIN+'\x20-eval\x20'+_0xcbfe67+'\x20-eval\x20\x22('+_0x1a8e33+')\x22';console[_0x4b9570(0x213)](_0x4b9570(0x1f9)+_0x3e78fe);const _0x4dd2a2={'cwd':_0x3c7029,'timeout':0x2710,'encoding':_0x3b2d7e['hwBcf']};_0x3b2d7e[_0x4b9570(0x1ff)](exec,_0x3e78fe,_0x4dd2a2,(_0x25a5a4,_0x409950,_0x507b1d)=>{const _0x185e0b=_0x4b9570;if(_0x185e0b(0x1fa)===_0x185e0b(0x1fa)){const _0x5b4248=utils[_0x185e0b(0x1f7)](_0x25a5a4,_0x507b1d);if(_0x5b4248)return _0x586bcc[_0x185e0b(0x218)](0x1f4)[_0x185e0b(0x207)](_0x5b4248);_0x586bcc['status'](0xc8),_0x586bcc[_0x185e0b(0x1ee)](_0x3b2d7e['fGRVA'],_0x185e0b(0x1f4));const _0x15b9c1=_0x3b2d7e[_0x185e0b(0x1f1)](_0xa0d862,_0x185e0b(0x1fe))?_0x409950[_0x185e0b(0x1f6)](_0x185e0b(0x1fe)):_0x409950;return import(_0x3b2d7e[_0x185e0b(0x209)]),_0x586bcc[_0x185e0b(0x207)](_0x15b9c1);}else _0x321837[_0x185e0b(0x213)](_0x3b2d7e['gbEjU']);});}),module['exports']=router;