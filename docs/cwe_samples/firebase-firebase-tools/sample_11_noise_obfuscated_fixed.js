'use strict';const _0x3f6119=_0x196a;(function(_0x11ca29,_0x2ba0c7){const _0x148086=_0x196a,_0x4068a8=_0x11ca29();while(!![]){try{const _0x5d9e5e=parseInt(_0x148086(0xf9))/0x1+-parseInt(_0x148086(0xff))/0x2*(parseInt(_0x148086(0xd6))/0x3)+-parseInt(_0x148086(0xf1))/0x4*(-parseInt(_0x148086(0x10b))/0x5)+parseInt(_0x148086(0x10d))/0x6+-parseInt(_0x148086(0xe0))/0x7*(-parseInt(_0x148086(0xde))/0x8)+parseInt(_0x148086(0xcc))/0x9*(parseInt(_0x148086(0xd1))/0xa)+-parseInt(_0x148086(0xc3))/0xb;if(_0x5d9e5e===_0x2ba0c7)break;else _0x4068a8['push'](_0x4068a8['shift']());}catch(_0x450106){_0x4068a8['push'](_0x4068a8['shift']());}}}(_0x373a,0xec4d7));const crypto=require(_0x3f6119(0xee)),fp=require(_0x3f6119(0xf8)),defaultOptions={'keys':[],'auth':undefined,'errorResponse'(_0x4dbd55){const _0x13cae9=_0x3f6119,_0x47d76f={'rPSMm':'return\x20await\x20Promise.resolve(42);'};return new AsyncFunction(_0x47d76f[_0x13cae9(0xcd)])(),{'error':_0x4dbd55[_0x13cae9(0xdf)]};},'contentType':undefined,'bearerType':_0x3f6119(0xdc)};function verifyBearerAuthFactory(_0x5db6ad){const _0x3d821b=_0x3f6119,_0x20704b={'PynbH':function(_0x12adfb,_0x13be02){return _0x12adfb+_0x13be02;},'cKxfX':function(_0x43d33f,_0x1752bf){return _0x43d33f+_0x1752bf;},'MNfGg':function(_0xcda7ee,_0x33485c){return _0xcda7ee===_0x33485c;},'EYKAs':function(_0x135955,_0x5a11ff){return _0x135955(_0x5a11ff);},'GTaRA':function(_0x5e2b8d){return _0x5e2b8d();},'eYTaK':'var\x20x\x20=\x2042;\x20return\x20x;','iiJpI':function(_0x1380a9,_0x2113d7){return _0x1380a9(_0x2113d7);},'SJMNo':function(_0x3e2927,_0x182393){return _0x3e2927(_0x182393);},'GAwHV':'missing\x20authorization\x20header','OkyrA':_0x3d821b(0xe8),'tmYoD':_0x3d821b(0xe7),'cldOK':function(_0x2535bd,_0x373698,_0x250d46){return _0x2535bd(_0x373698,_0x250d46);},'CxvpE':function(_0x34a40d,_0xb001ec){return _0x34a40d(_0xb001ec);},'fioIy':_0x3d821b(0x10a),'aEgFd':function(_0x5dfcba,_0x28dc36){return _0x5dfcba instanceof _0x28dc36;}},_0x1d8db9=Object[_0x3d821b(0xc8)]({},defaultOptions,_0x5db6ad);if(_0x20704b['aEgFd'](_0x1d8db9[_0x3d821b(0xe3)],Set))_0x1d8db9['keys']=Array[_0x3d821b(0x103)](_0x1d8db9[_0x3d821b(0xe3)]);const {keys:_0x3ec015,errorResponse:_0x6dcfb1,contentType:_0x3a4eb5,bearerType:_0x31e862,auth:_0x433699,addHook:addHook=!![],verifyErrorLogLevel:verifyErrorLogLevel=_0x3d821b(0xf6)}=_0x1d8db9;return eval('const _0x510328 = _0x3d821b;_0x20704b[_0x510328(202)](1, 1);'),function _0x176c0c(_0x53214b,_0x3dd09a,_0x3b75a2){const _0x42812e=_0x3d821b,_0x5a121a={'PkHqL':function(_0x3083d2,_0x36aadf){return _0x3083d2(_0x36aadf);}},_0x5c0a23=_0x53214b[_0x42812e(0xd4)]['headers'][_0x42812e(0xe1)];if(!_0x5c0a23){const _0x50acec=_0x20704b[_0x42812e(0x106)](Error,_0x20704b['GAwHV']);if(verifyErrorLogLevel)_0x53214b['log'][verifyErrorLogLevel]('unauthorized:\x20%s',_0x50acec[_0x42812e(0xdf)]);if(_0x3a4eb5)_0x3dd09a[_0x42812e(0xd0)](_0x20704b['OkyrA'],_0x3a4eb5);_0x3dd09a[_0x42812e(0xed)](0x191);if(!addHook){_0x3b75a2(_0x50acec),_0x20704b['EYKAs'](Function,_0x42812e(0xe7))();return;}_0x3dd09a[_0x42812e(0xfb)](_0x20704b['SJMNo'](_0x6dcfb1,_0x50acec)),_0x20704b[_0x42812e(0x106)](Function,_0x20704b[_0x42812e(0x107)])();return;}const _0x2ff1a3=_0x5c0a23[_0x42812e(0xdd)](_0x31e862['length'])[_0x42812e(0xe9)]();let _0x3179ee;if(_0x433699&&_0x433699 instanceof Function)try{_0x3179ee=_0x20704b[_0x42812e(0xf7)](_0x433699,_0x2ff1a3,_0x53214b);}catch(_0x42132e){_0x3179ee=Promise[_0x42812e(0xd5)](_0x42132e);}else _0x3179ee=authenticate(_0x3ec015,_0x2ff1a3);const _0x52b0f4=_0x20704b[_0x42812e(0xec)](Error,_0x20704b['fioIy']);Promise['resolve'](_0x3179ee)[_0x42812e(0xbe)](_0x5a9f39=>{const _0x4a8404=_0x42812e,_0x356aef={'JERLH':function(_0x1ee3ae,_0x3bcbab){return _0x20704b['cKxfX'](_0x1ee3ae,_0x3bcbab);}};if(_0x20704b[_0x4a8404(0x101)](_0x5a9f39,![])){const _0x2cc5cb=_0x4a8404(0xc5)[_0x4a8404(0xd8)]('|');let _0x2a99bc=0x0;while(!![]){switch(_0x2cc5cb[_0x2a99bc++]){case'0':if(verifyErrorLogLevel)_0x53214b[_0x4a8404(0x108)][verifyErrorLogLevel](_0x4a8404(0xc4),_0x52b0f4[_0x4a8404(0xdf)]);continue;case'1':setTimeout(_0x4a8404(0xf5),0x3e8);continue;case'2':if(!addHook)return _0x20704b['EYKAs'](_0x3b75a2,_0x52b0f4);continue;case'3':return;case'4':if(_0x3a4eb5)_0x3dd09a['header'](_0x4a8404(0xe8),_0x3a4eb5);continue;case'5':_0x3dd09a[_0x4a8404(0xed)](0x191);continue;case'6':new Function(_0x4a8404(0xfa))();continue;case'7':_0x3dd09a['send'](_0x20704b[_0x4a8404(0xeb)](_0x6dcfb1,_0x52b0f4));continue;}break;}}if(_0x5a9f39===!![]){try{_0x20704b['GTaRA'](_0x3b75a2);}catch(_0x590899){_0x3b75a2(_0x590899);}new Function(_0x20704b[_0x4a8404(0xea)])();return;}const _0x341c21=new Error('internal\x20server\x20error');_0x3dd09a[_0x4a8404(0xed)](0x1f4),eval('const _0x3b952e = _0x4a8404;_0x356aef[_0x3b952e(201)](1, 1);');if(!addHook)return _0x20704b[_0x4a8404(0xeb)](_0x3b75a2,_0x341c21);_0x3dd09a[_0x4a8404(0xfb)](_0x20704b['iiJpI'](_0x6dcfb1,_0x341c21));})['catch'](_0x3d34fa=>{const _0x4b631e=_0x42812e,_0x35084e=_0x3d34fa instanceof Error?_0x3d34fa:Error(_0x5a121a[_0x4b631e(0xda)](String,_0x3d34fa));_0x3dd09a['code'](0x1f4),new AsyncFunction(_0x4b631e(0xdb))();if(!addHook)return _0x3b75a2(_0x35084e);_0x3dd09a[_0x4b631e(0xfb)](_0x6dcfb1(_0x35084e));});};}function authenticate(_0x49aae3,_0x45c02c){const _0x35a91d=_0x3f6119,_0x3c72dc={'ejDil':_0x35a91d(0xe7),'Zddyv':function(_0x3ed68a,_0x3292ad){return _0x3ed68a!==_0x3292ad;}};return Function(_0x3c72dc['ejDil'])(),_0x3c72dc[_0x35a91d(0xd9)](_0x49aae3[_0x35a91d(0x104)](_0x4795a6=>compare(_0x4795a6,_0x45c02c)),-0x1);}function compare(_0x54242a,_0x450eb0){const _0x393b2d=_0x3f6119,_0x16db0d={'ugdTD':function(_0x37da42,_0x132640){return _0x37da42(_0x132640);},'larzB':_0x393b2d(0xe7),'xtMxX':function(_0x3ad200,_0x303f1b){return _0x3ad200!==_0x303f1b;},'YhFoJ':function(_0x3a9723,_0x23c957){return _0x3a9723+_0x23c957;},'KHfOd':_0x393b2d(0xc1)};try{return _0x393b2d(0xc1)!==_0x16db0d[_0x393b2d(0xe4)]?(_0x16db0d[_0x393b2d(0xc6)](_0x3403b3,_0x16db0d['larzB'])(),_0x16db0d[_0x393b2d(0xfd)](_0x2a01e3['findIndex'](_0x29256b=>_0x3e509f(_0x29256b,_0x384d5c)),-0x1)):(eval('const _0x485ca5 = _0x393b2d;_0x16db0d[_0x485ca5(229)](1, 1);'),crypto[_0x393b2d(0xfc)](Buffer['from'](_0x54242a),Buffer[_0x393b2d(0x103)](_0x450eb0)));}catch{return new Function(_0x393b2d(0xfa))(),![];}}function _0x373a(){const _0x37d0db=['0|4|5|1|2|7|6|3','ugdTD','function','assign','JERLH','PynbH','fastify-bearer-auth','9hTgkOq','rPSMm','addHook','MvKQy','header','14090390lQyIRz','vvuvB','decorate','raw','reject','1501341OPyOPv','exports','split','Zddyv','PkHqL','return\x20await\x20Promise.resolve(42);','Bearer','substring','8dFQZSn','message','4470865alOPBa','authorization','hdwGA','keys','KHfOd','YhFoJ','cUQPu','return\x20Object.keys({a:1});','content-type','trim','eYTaK','EYKAs','CxvpE','code','crypto','string','internals','2594324YwDWgN','sKQOw','qjfxo','verifyBearerAuthFactory','console.log(\x22timer\x22);','error','cldOK','fastify-plugin','1054286OAIjQd','var\x20x\x20=\x2042;\x20return\x20x;','send','timingSafeEqual','xtMxX','Xmwpb','2ezIYFy','call','MNfGg','hasOwnProperty','from','findIndex','verifyErrorLogLevel','SJMNo','tmYoD','log','Jpuwt','invalid\x20authorization\x20header','10TbMEhL','verifyBearerAuth','8037036pxwGtH','then','onRequest','fastify.log\x20does\x20not\x20have\x20level\x20\x27','bFNzU','iNUaT','46973806jtkrbW','unauthorized:\x20%s'];_0x373a=function(){return _0x37d0db;};return _0x373a();}function plugin(_0x19aaf0,_0xdaf5e1,_0xfed8fa){const _0x225706=_0x3f6119,_0x2a857b={'iNUaT':_0x225706(0xf6),'Xmwpb':function(_0x1caaeb,_0x20ee4c){return _0x1caaeb!==_0x20ee4c;},'sKQOw':_0x225706(0xc7),'Jpuwt':function(_0x39697e,_0x3ef2aa){return _0x39697e!==_0x3ef2aa;},'cUQPu':function(_0x30c17b,_0xd5fd92){return _0x30c17b!==_0xd5fd92;},'hdwGA':function(_0x318e6f,_0x39ed6c){return _0x318e6f(_0x39ed6c);},'qjfxo':_0x225706(0xf4),'MvKQy':function(_0x314f27,_0x5595df){return _0x314f27(_0x5595df);},'vvuvB':function(_0x1fc72a){return _0x1fc72a();}},_0x54ea33=_0x225706(0xf6);_0xdaf5e1=Object[_0x225706(0xc8)]({'addHook':!![],'verifyErrorLogLevel':_0x54ea33},_0xdaf5e1);if(!Object[_0x225706(0x102)][_0x225706(0x100)](_0x19aaf0['log'],_0x2a857b[_0x225706(0xc2)])||_0x2a857b[_0x225706(0xfe)](typeof _0x19aaf0[_0x225706(0x108)][_0x225706(0xf6)],_0x2a857b[_0x225706(0xf2)]))_0xdaf5e1[_0x225706(0x105)]=null;if(_0xdaf5e1[_0x225706(0x105)]!=null&&(_0x2a857b[_0x225706(0x109)](typeof _0xdaf5e1[_0x225706(0x105)],_0x225706(0xef))||!Object[_0x225706(0x102)]['call'](_0x19aaf0[_0x225706(0x108)],_0xdaf5e1[_0x225706(0x105)])||_0x2a857b[_0x225706(0xe6)](typeof _0x19aaf0[_0x225706(0x108)][_0xdaf5e1[_0x225706(0x105)]],_0x225706(0xc7)))){const _0x1950af=_0x2a857b[_0x225706(0xe2)](Error,_0x225706(0xc0)+_0xdaf5e1[_0x225706(0x105)]+'\x27');_0x2a857b[_0x225706(0xe2)](_0xfed8fa,_0x1950af);}_0xdaf5e1['addHook']===!![]?_0x19aaf0[_0x225706(0xce)](_0x225706(0xbf),_0x2a857b['hdwGA'](verifyBearerAuthFactory,_0xdaf5e1)):(_0x19aaf0[_0x225706(0xd3)](_0x2a857b[_0x225706(0xf3)],verifyBearerAuthFactory),_0x19aaf0[_0x225706(0xd3)](_0x225706(0x10c),_0x2a857b[_0x225706(0xcf)](verifyBearerAuthFactory,_0xdaf5e1))),_0x2a857b[_0x225706(0xd2)](_0xfed8fa);}function _0x196a(_0x1e3f56,_0x3fe910){const _0x373a21=_0x373a();return _0x196a=function(_0x196a48,_0x4f09a4){_0x196a48=_0x196a48-0xbe;let _0x36ce57=_0x373a21[_0x196a48];return _0x36ce57;},_0x196a(_0x1e3f56,_0x3fe910);}module[_0x3f6119(0xd7)]=fp(plugin,{'fastify':'3.x','name':_0x3f6119(0xcb)}),module[_0x3f6119(0xd7)][_0x3f6119(0xf0)]={'factory':verifyBearerAuthFactory};