'use strict';const _0x581888=_0x24aa;function _0x24aa(_0x13bf58,_0x4d2cec){const _0x52bdfe=_0x52bd();return _0x24aa=function(_0x24aa74,_0x3ad06b){_0x24aa74=_0x24aa74-0x119;let _0x184652=_0x52bdfe[_0x24aa74];return _0x184652;},_0x24aa(_0x13bf58,_0x4d2cec);}(function(_0x4cf9ae,_0x52ea66){const _0x58e12b=_0x24aa,_0x4c6048=_0x4cf9ae();while(!![]){try{const _0x10c327=-parseInt(_0x58e12b(0x136))/0x1*(parseInt(_0x58e12b(0x1a0))/0x2)+parseInt(_0x58e12b(0x119))/0x3+-parseInt(_0x58e12b(0x165))/0x4*(parseInt(_0x58e12b(0x173))/0x5)+parseInt(_0x58e12b(0x185))/0x6*(parseInt(_0x58e12b(0x18f))/0x7)+-parseInt(_0x58e12b(0x168))/0x8*(-parseInt(_0x58e12b(0x196))/0x9)+-parseInt(_0x58e12b(0x131))/0xa*(-parseInt(_0x58e12b(0x197))/0xb)+-parseInt(_0x58e12b(0x12a))/0xc;if(_0x10c327===_0x52ea66)break;else _0x4c6048['push'](_0x4c6048['shift']());}catch(_0x3cf413){_0x4c6048['push'](_0x4c6048['shift']());}}}(_0x52bd,0xf2d8a));const t=require(_0x581888(0x17e)),test=t[_0x581888(0x1ab)],Fastify=require('..'),keys=require(_0x581888(0x183)),{FST_ERR_CTP_ALREADY_PRESENT,FST_ERR_CTP_INVALID_TYPE,FST_ERR_CTP_INVALID_MEDIA_TYPE}=require(_0x581888(0x14a)),first=function(_0x9ed5a0,_0x4fc58a,_0xd5e692){},second=function(_0x2ca0b2,_0x35e847,_0x56070c){},third=function(_0x559123,_0x98a00c,_0xb8d24d){};function _0x52bd(){const _0xf2bb4f=['20tqeWMM','BRPTH','parserList','text/html\x20','should\x20not\x20remove\x20any\x20content\x20type\x20parser\x20if\x20content\x20type\x20does\x20not\x20exist','206slQCvN','pmAAj','qJycB','mfAzM','hasContentTypeParser','error','pnIhi','cache','vsNEo','qdhzu','some\x20text','\x5cu0063\x5cu006fnstructor','doesNotThrow','sLMzd','remove','DdkiM','plan','should\x20only\x20accept\x20string\x20and\x20RegExp','should\x20throw\x20an\x20error\x20if\x20content\x20type\x20is\x20neither\x20string\x20nor\x20RegExp','addContentTypeParser','../lib/errors','aMggg','should\x20work\x20with\x20string\x20and\x20RegExp','DndYD','should\x20not\x20throw\x20error\x20if\x20content\x20type\x20does\x20not\x20exist','eIpxt','Etvae','getParser','JvovU','end','KkLgn','fuICZ','EPUjG','should\x20prefer\x20content\x20type\x20parser\x20with\x20string\x20value','EJtFW','parse','JowDh','NHkau','fpnpH','bAMXZ','weirdType/','application/xml','body','size','LbGhB','lauhv','TERTn','267164QTthsw','let\x20you\x20override\x20the\x20default\x20parser\x20once','zCiBr','32WJlPgm','Safeguard\x20against\x20malicious\x20content-type\x20/\x203','IIlQL','equal','same','mAPHO','tqUuF','suPSm','text/test','BUpvP','Error\x20thrown\x20415\x20from\x20content\x20type\x20is\x20null\x20and\x20make\x20post\x20request\x20to\x20server','60nVSYrx','lLpfY','toString','PogOg','inject','Ayuhd','POST','removeAll','qRcox','image/png','jZohz','tap','kContentTypeParser','ready','RHCvO','should\x20set\x20\x22*\x22\x20as\x20parser\x20that\x20catches\x20all','../lib/symbols','post','373764EphWVE','Safeguard\x20against\x20malicious\x20content-type\x20/\x201','text/html','qcyaN','agKlV','tfjqO','send','Mjcxu','sTsni','constructor;\x20charset=utf-8','35vUomwI','find','notOk','Czzvy','mTuLk','add','uVwHF','1652526EFyLUq','8197717UxpqAX','text','Content\x20type\x20parser\x20\x27text/plain\x27\x20already\x20present','should\x20return\x20matching\x20parser\x20with\x20caching','should\x20know\x20about\x20internal\x20parsers','should\x20return\x20parser\x20that\x20catches\x20all\x20if\x20no\x20other\x20is\x20set','parserRegExpList','payload','aaEqo','618jeUOQL','oxZrT','should\x20remove\x20RegExp\x20parser','stringify','remove\x20all\x20should\x20remove\x20all\x20existing\x20parsers\x20and\x20reset\x20cache','OofvM','text/plain','nIVWF','YNpWk','pdGlQ','YssPy','test','WyVDu','getOwnPropertyNames','FgzPH','get','return\x20await\x20Promise.resolve(42);','ijJcu','2100420ghMkuA','should\x20return\x20matching\x20parser','GaJxe','tgzrm','XuwCX','length','__proto__','statusCode','application/javascript','The\x20content\x20type\x20should\x20be\x20a\x20string\x20or\x20a\x20RegExp','FIcvK','MeNpf','non-Error\x20thrown\x20from\x20content\x20parser\x20is\x20properly\x20handled','var\x20x\x20=\x2042;\x20return\x20x;','existingParser','IGCee','application/json','16520592mXUJCx','customParsers','message','gpEYl','qQvZK','throws','LMNbB'];_0x52bd=function(){return _0xf2bb4f;};return _0x52bd();}test(_0x581888(0x13a),_0x23600f=>{const _0x532056=_0x581888,_0x1291b2={'KkLgn':_0x532056(0x129),'LMNbB':_0x532056(0x1a6),'HTFXq':'application/jsoff','qQvZK':_0x532056(0x187),'LbGhB':_0x532056(0x134),'pnIhi':function(_0x149990,_0x53edd6){return _0x149990===_0x53edd6;},'nIVWF':_0x532056(0x150),'bAMXZ':function(_0x33aaef){return _0x33aaef();},'jYRfM':'image/gif','upeUl':function(_0x1638c7,_0x3c01f5,_0x431ff0){return _0x1638c7(_0x3c01f5,_0x431ff0);},'mAPHO':_0x532056(0x19b),'JvovU':function(_0x4a88ce,_0x834f68,_0x2e04db){return _0x4a88ce(_0x834f68,_0x2e04db);},'Mjcxu':_0x532056(0x14c)};_0x1291b2['upeUl'](test,_0x1291b2[_0x532056(0x16d)],_0x29c329=>{const _0x212e4b=_0x532056;if(_0x1291b2[_0x212e4b(0x13c)](_0x1291b2[_0x212e4b(0x1a7)],_0x1291b2[_0x212e4b(0x1a7)])){_0x29c329[_0x212e4b(0x146)](0x4);const _0x3a4522=_0x1291b2[_0x212e4b(0x15d)](Fastify);_0x3a4522[_0x212e4b(0x180)](_0x4c2de4=>{const _0x123412=_0x212e4b;_0x29c329[_0x123412(0x13b)](_0x4c2de4),_0x29c329['ok'](_0x3a4522[_0x123412(0x13a)](_0x1291b2[_0x123412(0x154)])),_0x29c329['ok'](_0x3a4522[_0x123412(0x13a)](_0x1291b2[_0x123412(0x130)])),_0x29c329[_0x123412(0x191)](_0x3a4522[_0x123412(0x13a)](_0x1291b2['HTFXq']));});}else{_0x19919e['plan'](0x6);const _0x30381f=_0x5ae603();_0x30381f[_0x212e4b(0x149)](_0x1291b2[_0x212e4b(0x12e)],_0x3bd3d8),_0x4e1ea6[_0x212e4b(0x16b)](_0x30381f[_0x139e0a['kContentTypeParser']]['getParser'](_0x1291b2['qQvZK'])['fn'],_0x174ccc),_0x4a7b96[_0x212e4b(0x16b)](_0x30381f[_0x31be5a[_0x212e4b(0x17f)]][_0x212e4b(0x13d)][_0x212e4b(0x161)],0x0),_0x42a1a9[_0x212e4b(0x16b)](_0x30381f[_0x5787bc[_0x212e4b(0x17f)]][_0x212e4b(0x151)](_0x1291b2[_0x212e4b(0x162)])['fn'],_0x580eea),_0x1d4b9e[_0x212e4b(0x16b)](_0x30381f[_0x4e9ffa[_0x212e4b(0x17f)]]['cache'][_0x212e4b(0x161)],0x1),_0x5e0de7['equal'](_0x30381f[_0x3d980c[_0x212e4b(0x17f)]][_0x212e4b(0x151)](_0x212e4b(0x134))['fn'],_0x5b108c),_0x3c21c3[_0x212e4b(0x16b)](_0x30381f[_0x2a4e94['kContentTypeParser']][_0x212e4b(0x13d)]['size'],0x1);}}),_0x1291b2[_0x532056(0x152)](test,_0x1291b2[_0x532056(0x18c)],_0xedbffb=>{const _0x12ac52=_0x532056;_0xedbffb['plan'](0x7);const _0x3d5e55=Fastify();_0x3d5e55['addContentTypeParser'](/^image\/.*/,first),_0x3d5e55[_0x12ac52(0x149)](/^application\/.+\+xml/,first),_0x3d5e55[_0x12ac52(0x149)]('image/gif',first),_0xedbffb['ok'](_0x3d5e55[_0x12ac52(0x13a)](_0x1291b2[_0x12ac52(0x154)])),_0xedbffb['ok'](_0x3d5e55['hasContentTypeParser'](/^image\/.*/)),_0xedbffb['ok'](_0x3d5e55[_0x12ac52(0x13a)](/^application\/.+\+xml/)),_0xedbffb['ok'](_0x3d5e55[_0x12ac52(0x13a)](_0x1291b2['jYRfM'])),_0xedbffb[_0x12ac52(0x191)](_0x3d5e55['hasContentTypeParser'](/^image\/.+\+xml/)),_0xedbffb['notOk'](_0x3d5e55['hasContentTypeParser'](_0x12ac52(0x17c))),_0xedbffb[_0x12ac52(0x191)](_0x3d5e55[_0x12ac52(0x13a)]('*'));}),_0x23600f[_0x532056(0x153)]();}),test(_0x581888(0x151),_0x3702e3=>{const _0x27f55d=_0x581888,_0x27d143={'vsNEo':function(_0x383307,_0x337bf4){return _0x383307!==_0x337bf4;},'suPSm':_0x27f55d(0x1ac),'eIpxt':function(_0x1ef05a){return _0x1ef05a();},'DndYD':_0x27f55d(0x187),'fuICZ':'application/t+xml','qRcox':_0x27f55d(0x17c),'XuwCX':function(_0x591d7c,_0x4ab67d){return _0x591d7c===_0x4ab67d;},'WaLlW':_0x27f55d(0x145),'Ayuhd':function(_0x7de1d9){return _0x7de1d9();},'qJycB':'text/html\x20','fpnpH':'image/gif','tgzrm':function(_0xb81945){return _0xb81945();},'pmAAj':_0x27f55d(0x198),'agKlV':_0x27f55d(0x15f),'MeNpf':_0x27f55d(0x15e),'EPUjG':'return\x20new\x20Date();','ijJcu':function(_0x32e86a,_0x2591a,_0x2edfff){return _0x32e86a(_0x2591a,_0x2edfff);},'GaJxe':_0x27f55d(0x157),'gpEYl':function(_0x3fcd6f,_0x53160f,_0x52b9d8){return _0x3fcd6f(_0x53160f,_0x52b9d8);},'uVwHF':_0x27f55d(0x126),'EJtFW':function(_0x559c03,_0x1cc3d9,_0x461ed8){return _0x559c03(_0x1cc3d9,_0x461ed8);}};eval('Math[\'PI\'] * 2;'),test(_0x27f55d(0x11a),_0x338e72=>{const _0x413eaf=_0x27f55d;if(_0x27d143[_0x413eaf(0x13e)](_0x27d143[_0x413eaf(0x16f)],'WyVDu')){_0x37f0bc['plan'](0x1);const _0x138b41=_0x2fd4da(),_0x31757f=_0x138b41[_0xabb45[_0x413eaf(0x17f)]];_0x31757f['add']('*',{},_0x4059ae),_0x27d526[_0x413eaf(0x16b)](_0x31757f[_0x413eaf(0x12b)][_0x413eaf(0x1af)]('')['fn'],_0x41df54);}else{_0x338e72[_0x413eaf(0x146)](0x3);const _0x141549=_0x27d143[_0x413eaf(0x14f)](Fastify);_0x141549[_0x413eaf(0x149)](/^image\/.*/,first),_0x141549[_0x413eaf(0x149)](/^application\/.+\+xml/,second),_0x141549['addContentTypeParser'](_0x27d143['DndYD'],third),_0x338e72[_0x413eaf(0x16b)](_0x141549[keys[_0x413eaf(0x17f)]][_0x413eaf(0x151)](_0x27d143[_0x413eaf(0x155)])['fn'],second),_0x338e72[_0x413eaf(0x16b)](_0x141549[keys['kContentTypeParser']][_0x413eaf(0x151)](_0x27d143['qRcox'])['fn'],first),_0x338e72[_0x413eaf(0x16b)](_0x141549[keys[_0x413eaf(0x17f)]][_0x413eaf(0x151)](_0x27d143['DndYD'])['fn'],third);}}),Function(_0x27d143[_0x27f55d(0x156)])(),test(_0x27f55d(0x19a),_0x79b6d3=>{const _0x3fcf08=_0x27f55d;if(_0x27d143[_0x3fcf08(0x11d)](_0x27d143['WaLlW'],_0x3fcf08(0x145))){_0x79b6d3[_0x3fcf08(0x146)](0x6);const _0x165862=_0x27d143[_0x3fcf08(0x178)](Fastify);_0x165862[_0x3fcf08(0x149)](_0x3fcf08(0x187),first),_0x79b6d3['equal'](_0x165862[keys[_0x3fcf08(0x17f)]][_0x3fcf08(0x151)]('text/html')['fn'],first),_0x79b6d3[_0x3fcf08(0x16b)](_0x165862[keys[_0x3fcf08(0x17f)]][_0x3fcf08(0x13d)][_0x3fcf08(0x161)],0x0),_0x79b6d3[_0x3fcf08(0x16b)](_0x165862[keys[_0x3fcf08(0x17f)]][_0x3fcf08(0x151)](_0x27d143[_0x3fcf08(0x138)])['fn'],first),_0x79b6d3[_0x3fcf08(0x16b)](_0x165862[keys[_0x3fcf08(0x17f)]][_0x3fcf08(0x13d)]['size'],0x1),_0x79b6d3[_0x3fcf08(0x16b)](_0x165862[keys[_0x3fcf08(0x17f)]]['getParser'](_0x3fcf08(0x134))['fn'],first),_0x79b6d3['equal'](_0x165862[keys[_0x3fcf08(0x17f)]]['cache'][_0x3fcf08(0x161)],0x1);}else{_0x49614b['plan'](0x2);const _0x26fdd9=_0x396ca8();_0x26fdd9['addContentTypeParser'](/^text\/*/,_0x5854f3);const _0x39e01d=_0x26fdd9[_0x59508e[_0x3fcf08(0x17f)]];_0x39e01d[_0x3fcf08(0x144)](/^text\/*/),_0x339569[_0x3fcf08(0x191)](_0x39e01d[_0x3fcf08(0x12b)][/^text\/*/]),_0x144d2f[_0x3fcf08(0x191)](_0x39e01d['parserRegExpList']['find'](_0x26817a=>_0x26817a[_0x3fcf08(0x175)]()===/^text\/*/['toString']()));}}),_0x27d143[_0x27f55d(0x1b1)](test,_0x27d143[_0x27f55d(0x11b)],_0x56b854=>{const _0x2258ea=_0x27f55d;_0x56b854[_0x2258ea(0x146)](0x2);const _0x582216=Fastify();_0x582216[_0x2258ea(0x149)](/^image\/.*/,first),_0x582216[_0x2258ea(0x149)](_0x27d143[_0x2258ea(0x15c)],second),_0x56b854[_0x2258ea(0x16b)](_0x582216[keys[_0x2258ea(0x17f)]][_0x2258ea(0x151)](_0x27d143['fpnpH'])['fn'],second),_0x56b854[_0x2258ea(0x16b)](_0x582216[keys[_0x2258ea(0x17f)]][_0x2258ea(0x151)](_0x27d143[_0x2258ea(0x17b)])['fn'],first);}),eval('const _0x86eee7 = _0x27f55d;JSON[_0x86eee7(419)]({ \'safe\': !![] });'),_0x27d143[_0x27f55d(0x12d)](test,_0x27f55d(0x19c),_0x21b448=>{const _0x338941=_0x27f55d;_0x21b448['plan'](0x3);const _0x3d323b=_0x27d143[_0x338941(0x11c)](Fastify);_0x3d323b[_0x338941(0x149)]('*',first),_0x3d323b['addContentTypeParser'](/^text\/.*/,second),_0x21b448[_0x338941(0x16b)](_0x3d323b[keys[_0x338941(0x17f)]][_0x338941(0x151)](_0x27d143[_0x338941(0x15c)])['fn'],first),_0x21b448[_0x338941(0x16b)](_0x3d323b[keys[_0x338941(0x17f)]]['getParser'](_0x27d143[_0x338941(0x14d)])['fn'],second),_0x21b448[_0x338941(0x16b)](_0x3d323b[keys[_0x338941(0x17f)]][_0x338941(0x151)](_0x27d143[_0x338941(0x137)])['fn'],first);}),new Function(_0x27d143[_0x27f55d(0x195)])(),_0x27d143[_0x27f55d(0x158)](test,'should\x20return\x20undefined\x20if\x20no\x20matching\x20parser\x20exist',_0x43076a=>{const _0x1cdec4=_0x27f55d;_0x43076a[_0x1cdec4(0x146)](0x2);const _0x429bca=_0x27d143[_0x1cdec4(0x178)](Fastify);_0x429bca[_0x1cdec4(0x149)](/^weirdType\/.+/,first),_0x429bca[_0x1cdec4(0x149)](_0x1cdec4(0x121),first),_0x43076a['notOk'](_0x429bca[keys[_0x1cdec4(0x17f)]][_0x1cdec4(0x151)](_0x27d143[_0x1cdec4(0x189)])),_0x43076a[_0x1cdec4(0x191)](_0x429bca[keys[_0x1cdec4(0x17f)]][_0x1cdec4(0x151)](_0x27d143[_0x1cdec4(0x124)]));}),_0x3702e3[_0x27f55d(0x153)]();}),test(_0x581888(0x127),_0x3b59fc=>{const _0x51923d=_0x581888,_0x3c46bb={'tqUuF':function(_0x43bb75){return _0x43bb75();},'YssPy':_0x51923d(0x129),'pdGlQ':function(_0x209565,_0x2fc252,_0x5c2f8e){return _0x209565(_0x2fc252,_0x5c2f8e);},'WTLhx':_0x51923d(0x1a6),'mfAzM':_0x51923d(0x17c)};_0x3c46bb[_0x51923d(0x1a9)](test,'returns\x20always\x20false\x20for\x20\x22*\x22',_0x4a75f7=>{const _0x5e0694=_0x51923d;_0x4a75f7[_0x5e0694(0x146)](0x2);const _0x5d2a00=Fastify();_0x5d2a00[_0x5e0694(0x149)](/^image\/.*/,first),_0x5d2a00[_0x5e0694(0x149)](/^application\/.+\+xml/,first),_0x5d2a00[_0x5e0694(0x149)](_0x5e0694(0x187),first),_0x4a75f7[_0x5e0694(0x191)](_0x5d2a00[keys[_0x5e0694(0x17f)]][_0x5e0694(0x127)]('*')),_0x5d2a00['addContentTypeParser']('*',first),_0x4a75f7['notOk'](_0x5d2a00[keys[_0x5e0694(0x17f)]][_0x5e0694(0x127)]('*'));}),test(_0x51923d(0x166),_0x2ede04=>{const _0x3292d2=_0x51923d;_0x2ede04[_0x3292d2(0x146)](0x2);const _0xfa6679=_0x3c46bb[_0x3292d2(0x16e)](Fastify);_0xfa6679[_0x3292d2(0x149)](_0x3c46bb[_0x3292d2(0x1aa)],first),_0xfa6679[_0x3292d2(0x149)](_0x3292d2(0x1a6),first),_0x2ede04['throws'](()=>_0xfa6679[_0x3292d2(0x149)]('application/json',first),FST_ERR_CTP_ALREADY_PRESENT,'Content\x20type\x20parser\x20\x27application/json\x27\x20already\x20present'),_0x2ede04[_0x3292d2(0x12f)](()=>_0xfa6679[_0x3292d2(0x149)](_0x3292d2(0x1a6),first),FST_ERR_CTP_ALREADY_PRESENT,_0x3292d2(0x199));});const _0x1acb6a=Fastify(),_0x3050e8=_0x1acb6a[keys[_0x51923d(0x17f)]];_0x1acb6a[_0x51923d(0x149)](/^image\/.*/,first),_0x1acb6a[_0x51923d(0x149)](/^application\/.+\+xml/,first),_0x1acb6a[_0x51923d(0x149)](_0x51923d(0x187),first),_0x3b59fc['ok'](_0x3050e8[_0x51923d(0x127)](/^image\/.*/)),_0x3b59fc['ok'](_0x3050e8[_0x51923d(0x127)]('text/html')),_0x3b59fc['ok'](_0x3050e8['existingParser'](/^application\/.+\+xml/)),_0x3b59fc[_0x51923d(0x191)](_0x3050e8[_0x51923d(0x127)](_0x3c46bb[_0x51923d(0x1aa)])),_0x3b59fc['notOk'](_0x3050e8[_0x51923d(0x127)](_0x3c46bb['WTLhx'])),_0x3b59fc['notOk'](_0x3050e8[_0x51923d(0x127)](_0x3c46bb[_0x51923d(0x139)])),_0x3b59fc['notOk'](_0x3050e8['existingParser'](/^application\/.+\+json/)),_0x3b59fc[_0x51923d(0x153)]();}),test(_0x581888(0x194),_0x364a07=>{const _0x58b607=_0x581888,_0x4a6e0e={'qdhzu':_0x58b607(0x15f),'tfjqO':_0x58b607(0x15e),'YTkre':function(_0x2f1afc,_0x40f2b3){return _0x2f1afc!==_0x40f2b3;},'TERTn':_0x58b607(0x163),'FIcvK':'test','OofvM':_0x58b607(0x122),'bbtTf':function(_0x321539){return _0x321539();},'BRPTH':_0x58b607(0x182)};test(_0x58b607(0x147),_0x10bd1c=>{const _0x3fb385=_0x58b607;if(_0x4a6e0e['YTkre']('ZTpaV',_0x4a6e0e[_0x3fb385(0x164)])){_0x10bd1c[_0x3fb385(0x146)](0x4);const _0x57c894=Fastify(),_0xa1eb5=_0x57c894[keys[_0x3fb385(0x17f)]];_0x10bd1c[_0x3fb385(0x13b)](_0xa1eb5['add'](_0x4a6e0e[_0x3fb385(0x123)],{},first)),_0x10bd1c['error'](_0xa1eb5['add'](/test/,{},first)),_0x10bd1c[_0x3fb385(0x12f)](()=>_0xa1eb5[_0x3fb385(0x194)]({},{},first),FST_ERR_CTP_INVALID_TYPE,_0x4a6e0e[_0x3fb385(0x1a5)]),_0x10bd1c[_0x3fb385(0x12f)](()=>_0xa1eb5['add'](0x1,{},first),FST_ERR_CTP_INVALID_TYPE,_0x4a6e0e['OofvM']);}else{_0x1c5560[_0x3fb385(0x146)](0x2);const _0x3d1a42=_0x2672fa();_0x3d1a42[_0x3fb385(0x149)](/^weirdType\/.+/,_0x275a4d),_0x3d1a42[_0x3fb385(0x149)](_0x3fb385(0x121),_0x77332f),_0x3ac2fd[_0x3fb385(0x191)](_0x3d1a42[_0x13197a[_0x3fb385(0x17f)]][_0x3fb385(0x151)](_0x4a6e0e[_0x3fb385(0x13f)])),_0x4b656[_0x3fb385(0x191)](_0x3d1a42[_0x3b7e3a[_0x3fb385(0x17f)]][_0x3fb385(0x151)](_0x4a6e0e[_0x3fb385(0x18a)]));}}),test(_0x4a6e0e[_0x58b607(0x132)],_0x36139b=>{const _0x1ad72c=_0x58b607;_0x36139b[_0x1ad72c(0x146)](0x1);const _0x451961=_0x4a6e0e['bbtTf'](Fastify),_0x4daf53=_0x451961[keys[_0x1ad72c(0x17f)]];_0x4daf53[_0x1ad72c(0x194)]('*',{},first),_0x36139b[_0x1ad72c(0x16b)](_0x4daf53[_0x1ad72c(0x12b)][_0x1ad72c(0x1af)]('')['fn'],first);}),_0x364a07['end']();}),test(_0x581888(0x125),_0x181d68=>{const _0x38bb77=_0x581888,_0x281221={'jZohz':_0x38bb77(0x13b),'YNpWk':_0x38bb77(0x170),'RHCvO':_0x38bb77(0x179),'NHkau':_0x38bb77(0x140)};_0x181d68[_0x38bb77(0x146)](0x3);const _0x2ec7cb=Fastify(),_0x25fc8e=_0x38bb77(0x1ab),_0xe19062=_0x281221[_0x38bb77(0x17d)];_0x2ec7cb[_0x38bb77(0x149)](_0x281221[_0x38bb77(0x1a8)],(_0x2fe2e9,_0x5dcb50,_0x3a875a)=>{_0x3a875a(_0x25fc8e);}),_0x2ec7cb[_0x38bb77(0x184)]('/',(_0x513b73,_0x37e60e)=>{}),_0x2ec7cb['setErrorHandler']((_0x52e9e6,_0xc1024a,_0x47e363)=>{const _0x4e16be=_0x38bb77;_0x181d68[_0x4e16be(0x16b)](_0x52e9e6,_0x25fc8e),_0x47e363[_0x4e16be(0x18b)](_0xe19062);}),_0x2ec7cb[_0x38bb77(0x177)]({'method':_0x281221[_0x38bb77(0x181)],'url':'/','headers':{'Content-Type':_0x281221[_0x38bb77(0x1a8)]},'body':_0x281221[_0x38bb77(0x15b)]},(_0x2c60f6,_0x2d5c20)=>{const _0x4b9ce4=_0x38bb77;_0x181d68[_0x4b9ce4(0x13b)](_0x2c60f6),_0x181d68[_0x4b9ce4(0x16b)](_0x2d5c20[_0x4b9ce4(0x19e)],_0xe19062);});}),test(_0x581888(0x172),_0x1b2f55=>{const _0x5c1816=_0x581888,_0x25616f={'IIlQL':_0x5c1816(0x171),'wdGaC':'POST'};_0x1b2f55['plan'](0x3);const _0x3ea54a=Fastify(),_0x2c3419=new FST_ERR_CTP_INVALID_MEDIA_TYPE(undefined)[_0x5c1816(0x12c)];_0x3ea54a[_0x5c1816(0x184)]('/',(_0x480b90,_0x48158a)=>{}),_0x3ea54a[_0x5c1816(0x177)]({'method':_0x25616f['wdGaC'],'url':'/','body':_0x5c1816(0x140)},(_0x2012be,_0x42b5a4)=>{const _0xd23f83=_0x5c1816;_0x25616f[_0xd23f83(0x16a)]===_0xd23f83(0x171)?(_0x1b2f55['error'](_0x2012be),_0x1b2f55[_0xd23f83(0x16b)](_0x42b5a4['statusCode'],0x19f),_0x1b2f55[_0xd23f83(0x16b)](JSON[_0xd23f83(0x159)](_0x42b5a4[_0xd23f83(0x160)])['message'],_0x2c3419)):0x1+0x1;});}),test('remove',_0x5a61e0=>{const _0x112b4a=_0x581888,_0x27c136={'oxZrT':_0x112b4a(0x129),'Czzvy':function(_0x5cff55){return _0x5cff55();},'JowDh':function(_0x59caf3,_0x34746c,_0x3cbf20){return _0x59caf3(_0x34746c,_0x3cbf20);},'lLpfY':_0x112b4a(0x148)};test('should\x20remove\x20default\x20parser',_0x43e145=>{const _0x35275b=_0x112b4a;_0x43e145[_0x35275b(0x146)](0x2);const _0x2e119e=Fastify(),_0x49b846=_0x2e119e[keys[_0x35275b(0x17f)]];_0x49b846[_0x35275b(0x144)](_0x27c136[_0x35275b(0x1a1)]),_0x43e145['notOk'](_0x49b846[_0x35275b(0x12b)][_0x27c136[_0x35275b(0x1a1)]]),_0x43e145['notOk'](_0x49b846[_0x35275b(0x133)][_0x35275b(0x190)](_0x4ed1dd=>_0x4ed1dd==='application/json'));}),_0x27c136[_0x112b4a(0x15a)](test,_0x112b4a(0x1a2),_0x327fcd=>{const _0x2451cf=_0x112b4a;_0x327fcd[_0x2451cf(0x146)](0x2);const _0x5d6cc4=Fastify();_0x5d6cc4['addContentTypeParser'](/^text\/*/,first);const _0x4e162e=_0x5d6cc4[keys[_0x2451cf(0x17f)]];_0x4e162e[_0x2451cf(0x144)](/^text\/*/),_0x327fcd[_0x2451cf(0x191)](_0x4e162e[_0x2451cf(0x12b)][/^text\/*/]),_0x327fcd[_0x2451cf(0x191)](_0x4e162e[_0x2451cf(0x19d)]['find'](_0x4327c7=>_0x4327c7[_0x2451cf(0x175)]()===/^text\/*/[_0x2451cf(0x175)]()));}),test(_0x27c136[_0x112b4a(0x174)],_0x8513e6=>{const _0x5ce007=_0x112b4a;_0x8513e6['plan'](0x1);const _0x2e2d06=_0x27c136[_0x5ce007(0x192)](Fastify);_0x8513e6[_0x5ce007(0x12f)](()=>_0x2e2d06[keys[_0x5ce007(0x17f)]][_0x5ce007(0x144)](0xc),FST_ERR_CTP_INVALID_TYPE);}),test(_0x112b4a(0x14e),_0x412b45=>{const _0x438d66=_0x112b4a;_0x412b45[_0x438d66(0x146)](0x1);const _0x232be8=Fastify();_0x412b45[_0x438d66(0x142)](()=>_0x232be8[keys[_0x438d66(0x17f)]][_0x438d66(0x144)](_0x438d66(0x17c)));}),_0x27c136['JowDh'](test,_0x112b4a(0x135),_0x53cc1d=>{const _0xa9c17=_0x112b4a;_0x53cc1d['plan'](0x1);const _0x4e1d2d=Fastify(),_0x28c652=_0x4e1d2d[keys['kContentTypeParser']];_0x28c652[_0xa9c17(0x144)](_0xa9c17(0x17c)),_0x53cc1d[_0xa9c17(0x16c)](_0x28c652['customParsers'][_0xa9c17(0x161)],0x2);}),_0x5a61e0[_0x112b4a(0x153)]();}),test(_0x581888(0x1a4),_0x296e0f=>{const _0x1241a7=_0x581888,_0x1de788={'CccYs':_0x1241a7(0x15f)};_0x296e0f[_0x1241a7(0x146)](0x4);const _0x4f38d2=Fastify();_0x4f38d2['addContentTypeParser'](_0x1241a7(0x15f),first),_0x4f38d2['addContentTypeParser'](/^image\/.*/,first);const _0x38795a=_0x4f38d2[keys[_0x1241a7(0x17f)]];_0x38795a[_0x1241a7(0x151)](_0x1de788['CccYs']),_0x38795a[_0x1241a7(0x17a)](),_0x296e0f[_0x1241a7(0x16c)](_0x38795a[_0x1241a7(0x13d)][_0x1241a7(0x161)],0x0),_0x296e0f[_0x1241a7(0x16c)](_0x38795a[_0x1241a7(0x133)][_0x1241a7(0x11e)],0x0),_0x296e0f[_0x1241a7(0x16c)](_0x38795a[_0x1241a7(0x19d)]['length'],0x0),_0x296e0f[_0x1241a7(0x16c)](Object['keys'](_0x38795a['customParsers'])['length'],0x0);}),test(_0x581888(0x186),async _0x3ea875=>{const _0x3cf28b=_0x581888,_0x3b4a26={'HencP':'AMsOt','sTsni':_0x3cf28b(0x143),'IGCee':'POST'},_0x4ee733=Object[_0x3cf28b(0x1ad)]({}[_0x3cf28b(0x11f)]);_0x3ea875[_0x3cf28b(0x146)](_0x4ee733['length']);const _0x36cd7e=Fastify();_0x36cd7e[_0x3cf28b(0x184)]('/',async()=>{const _0x56f9c4=_0x3cf28b,_0x5baf76={'qcyaN':function(_0x27c77f){return _0x27c77f();},'FgzPH':_0x56f9c4(0x19b)};if(_0x3b4a26['HencP']===_0x3b4a26[_0x56f9c4(0x18d)]){const _0x3ea98d={'aaEqo':function(_0x3be74b){return _0x3be74b();},'mTuLk':'image/gif'};_0x57bb90(_0x5baf76[_0x56f9c4(0x1ae)],_0x36a6b8=>{const _0xc98a6a=_0x56f9c4,_0x20d1f4={'GQveG':'application/jsoff'};_0x36a6b8[_0xc98a6a(0x146)](0x4);const _0x56d227=_0x5baf76[_0xc98a6a(0x188)](_0xdde282);_0x56d227[_0xc98a6a(0x180)](_0x432893=>{const _0x6fde3b=_0xc98a6a;_0x36a6b8[_0x6fde3b(0x13b)](_0x432893),_0x36a6b8['ok'](_0x56d227[_0x6fde3b(0x13a)]('application/json')),_0x36a6b8['ok'](_0x56d227[_0x6fde3b(0x13a)]('text/plain')),_0x36a6b8[_0x6fde3b(0x191)](_0x56d227[_0x6fde3b(0x13a)](_0x20d1f4['GQveG']));});}),_0x2d3584(_0x56f9c4(0x14c),_0x1a52d4=>{const _0x4c940e=_0x56f9c4;_0x1a52d4[_0x4c940e(0x146)](0x7);const _0x288414=_0x3ea98d[_0x4c940e(0x19f)](_0x17de9b);_0x288414['addContentTypeParser'](/^image\/.*/,_0x181f66),_0x288414[_0x4c940e(0x149)](/^application\/.+\+xml/,_0x37199b),_0x288414[_0x4c940e(0x149)](_0x3ea98d[_0x4c940e(0x193)],_0x24edb8),_0x1a52d4['ok'](_0x288414[_0x4c940e(0x13a)]('application/json')),_0x1a52d4['ok'](_0x288414[_0x4c940e(0x13a)](/^image\/.*/)),_0x1a52d4['ok'](_0x288414[_0x4c940e(0x13a)](/^application\/.+\+xml/)),_0x1a52d4['ok'](_0x288414[_0x4c940e(0x13a)](_0x3ea98d[_0x4c940e(0x193)])),_0x1a52d4[_0x4c940e(0x191)](_0x288414[_0x4c940e(0x13a)](/^image\/.+\+xml/)),_0x1a52d4[_0x4c940e(0x191)](_0x288414[_0x4c940e(0x13a)](_0x4c940e(0x17c))),_0x1a52d4[_0x4c940e(0x191)](_0x288414[_0x4c940e(0x13a)]('*'));}),_0x22d8d2[_0x56f9c4(0x153)]();}else return new Function(_0x56f9c4(0x126))(),'ok';});for(const _0x3c7255 of _0x4ee733){const _0x6c4822=await _0x36cd7e[_0x3cf28b(0x177)]({'method':_0x3b4a26[_0x3cf28b(0x128)],'path':'/','headers':{'content-type':_0x3c7255},'body':''});_0x3ea875[_0x3cf28b(0x16c)](_0x6c4822[_0x3cf28b(0x120)],0x19f);}}),test('Safeguard\x20against\x20malicious\x20content-type\x20/\x202',async _0x59850e=>{const _0x597c7e=_0x581888,_0x52c4e5={'PogOg':function(_0xa06e01){return _0xa06e01();},'VCYkD':_0x597c7e(0x179)};_0x59850e[_0x597c7e(0x146)](0x1);const _0x2b1fd7=_0x52c4e5[_0x597c7e(0x176)](Fastify);_0x2b1fd7['post']('/',async()=>{const _0x522d1e=_0x597c7e;return new AsyncFunction(_0x522d1e(0x1b0))(),'ok';});const _0x4f2c69=await _0x2b1fd7[_0x597c7e(0x177)]({'method':_0x52c4e5['VCYkD'],'path':'/','headers':{'content-type':_0x597c7e(0x141)},'body':''});_0x59850e['same'](_0x4f2c69['statusCode'],0x19f);}),test(_0x581888(0x169),async _0x1091f1=>{const _0xa1870=_0x581888,_0x32478a={'zCiBr':function(_0x1365a5){return _0x1365a5();},'aMggg':_0xa1870(0x18e)};_0x1091f1[_0xa1870(0x146)](0x1);const _0x133f27=_0x32478a[_0xa1870(0x167)](Fastify);_0x133f27[_0xa1870(0x184)]('/',async()=>{return eval('1 + 1;'),'ok';});const _0x44205c=await _0x133f27[_0xa1870(0x177)]({'method':'POST','path':'/','headers':{'content-type':_0x32478a[_0xa1870(0x14b)]},'body':''});_0x1091f1[_0xa1870(0x16c)](_0x44205c[_0xa1870(0x120)],0x19f);});