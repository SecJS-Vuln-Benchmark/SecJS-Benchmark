function _0x2915(_0x5dfccc,_0x43c452){const _0x80e31b=_0x80e3();return _0x2915=function(_0x2915d5,_0x1b47eb){_0x2915d5=_0x2915d5-0x17b;let _0x4bb885=_0x80e31b[_0x2915d5];return _0x4bb885;},_0x2915(_0x5dfccc,_0x43c452);}(function(_0x5ddb9a,_0x283924){const _0x5b5a23=_0x2915,_0x44a594=_0x5ddb9a();while(!![]){try{const _0x3a70ef=-parseInt(_0x5b5a23(0x188))/0x1+parseInt(_0x5b5a23(0x18f))/0x2*(-parseInt(_0x5b5a23(0x19a))/0x3)+parseInt(_0x5b5a23(0x17b))/0x4*(-parseInt(_0x5b5a23(0x181))/0x5)+-parseInt(_0x5b5a23(0x18a))/0x6*(parseInt(_0x5b5a23(0x199))/0x7)+-parseInt(_0x5b5a23(0x194))/0x8+parseInt(_0x5b5a23(0x193))/0x9*(parseInt(_0x5b5a23(0x184))/0xa)+parseInt(_0x5b5a23(0x195))/0xb;if(_0x3a70ef===_0x283924)break;else _0x44a594['push'](_0x44a594['shift']());}catch(_0x84dc60){_0x44a594['push'](_0x44a594['shift']());}}}(_0x80e3,0xea0a4));const prisma=require('../utils/prisma'),EmbedChats={'new':async function({embedId:_0x636fe0,prompt:_0x4eab0a,response:response={},connection_information:connection_information={},sessionId:_0x492f19}){const _0x568667=_0x2915,_0x19385e={'Tjvlh':function(_0x61d3ca,_0x33e331){return _0x61d3ca!==_0x33e331;}};try{if(_0x19385e[_0x568667(0x196)](_0x568667(0x183),_0x568667(0x183)))return _0x4b590e[_0x568667(0x186)](_0x39d8e4[_0x568667(0x18b)]),[];else{const _0x488eb0=await prisma[_0x568667(0x17d)][_0x568667(0x17e)]({'data':{'prompt':_0x4eab0a,'embed_id':Number(_0x636fe0),'response':JSON[_0x568667(0x187)](response),'connection_information':JSON['stringify'](connection_information),'session_id':String(_0x492f19)}});return{'chat':_0x488eb0,'message':null};}}catch(_0x587b12){return console[_0x568667(0x186)](_0x587b12[_0x568667(0x18b)]),{'chat':null,'message':_0x587b12[_0x568667(0x18b)]};}},'forEmbedByUser':async function(_0x2b67ec=null,_0x4a7ab2=null,_0x215451=null,_0x288863=null){const _0x5e2f93=_0x2915,_0x387fbc={'QgmdI':function(_0x39d795,_0x2161b8){return _0x39d795(_0x2161b8);},'odDUw':function(_0x158e9f,_0x4a18e1){return _0x158e9f!==_0x4a18e1;},'eAUkl':function(_0x5a2d03,_0x29c1d9){return _0x5a2d03!==_0x29c1d9;}};if(!_0x2b67ec||!_0x4a7ab2)return[];try{const _0xe420c=await prisma[_0x5e2f93(0x17d)][_0x5e2f93(0x191)]({'where':{'embed_id':Number(_0x2b67ec),'session_id':_0x387fbc[_0x5e2f93(0x190)](String,_0x4a7ab2),'include':!![]},..._0x387fbc[_0x5e2f93(0x192)](_0x215451,null)?{'take':_0x215451}:{},..._0x387fbc[_0x5e2f93(0x18c)](_0x288863,null)?{'orderBy':_0x288863}:{'orderBy':{'id':_0x5e2f93(0x18e)}}});return _0xe420c;}catch(_0x43b3a3){return console[_0x5e2f93(0x186)](_0x43b3a3[_0x5e2f93(0x18b)]),[];}},'markHistoryInvalid':async function(_0x5dcf41=null,_0x4d074f=null){const _0x1d7237=_0x2915,_0x13b249={'PJFDE':function(_0x3a164a,_0x56ae05){return _0x3a164a(_0x56ae05);},'trlZD':function(_0x54eda9,_0x2b49b4){return _0x54eda9(_0x2b49b4);}};if(!_0x5dcf41||!_0x4d074f)return[];try{await prisma[_0x1d7237(0x17d)][_0x1d7237(0x180)]({'where':{'embed_id':_0x13b249[_0x1d7237(0x197)](Number,_0x5dcf41),'session_id':_0x13b249['trlZD'](String,_0x4d074f)},'data':{'include':![]}});return;}catch(_0xbf4ab8){console['error'](_0xbf4ab8[_0x1d7237(0x18b)]);}},'get':async function(_0x23d2e9={},_0x5ba632=null,_0x3f3c4b=null){const _0x3ab6a1=_0x2915,_0xb2ca16={'fqBpz':'JMGSb','YUefs':function(_0x1c1338,_0x139ac0){return _0x1c1338!==_0x139ac0;},'DyvBa':function(_0x156ebc,_0x14b597){return _0x156ebc!==_0x14b597;},'tPozm':function(_0x4dbcb5,_0x2ddc02){return _0x4dbcb5||_0x2ddc02;}};try{if(_0x3ab6a1(0x182)===_0xb2ca16[_0x3ab6a1(0x19b)]){const _0x4454be=await prisma[_0x3ab6a1(0x17d)][_0x3ab6a1(0x17c)]({'where':_0x23d2e9,..._0xb2ca16[_0x3ab6a1(0x17f)](_0x5ba632,null)?{'take':_0x5ba632}:{},..._0xb2ca16[_0x3ab6a1(0x198)](_0x3f3c4b,null)?{'orderBy':_0x3f3c4b}:{}});return _0xb2ca16['tPozm'](_0x4454be,null);}else return _0x4a18ec['error'](_0x399fb6['message']),{'chat':null,'message':_0x3bbd5a[_0x3ab6a1(0x18b)]};}catch(_0x4f3f31){return console[_0x3ab6a1(0x186)](_0x4f3f31[_0x3ab6a1(0x18b)]),null;}},'delete':async function(_0x54ef5b={}){const _0x48cd20=_0x2915;try{return await prisma[_0x48cd20(0x17d)][_0x48cd20(0x189)]({'where':_0x54ef5b}),!![];}catch(_0x224c20){return console['error'](_0x224c20[_0x48cd20(0x18b)]),![];}},'where':async function(_0x411f80={},_0x491a4c=null,_0x6c5cea=null,_0x31ddb1=null){const _0xa29529=_0x2915,_0x4eddd4={'SSURN':function(_0x3eaee,_0x2ea4dd){return _0x3eaee!==_0x2ea4dd;}};try{const _0x5d0631=await prisma[_0xa29529(0x17d)][_0xa29529(0x191)]({'where':_0x411f80,..._0x4eddd4[_0xa29529(0x18d)](_0x491a4c,null)?{'take':_0x491a4c}:{},..._0x31ddb1!==null?{'skip':_0x31ddb1}:{},..._0x4eddd4[_0xa29529(0x18d)](_0x6c5cea,null)?{'orderBy':_0x6c5cea}:{}});return _0x5d0631;}catch(_0x5062ca){return console['error'](_0x5062ca[_0xa29529(0x18b)]),[];}},'whereWithEmbedAndWorkspace':async function(_0x121df3={},_0x1d980d=null,_0x2f1410=null,_0x4936e6=null){const _0x3f2ba6=_0x2915,_0x23eaa3={'Snxhw':function(_0x45180c,_0x242cd2){return _0x45180c!==_0x242cd2;}};try{const _0x43f3bb=await prisma[_0x3f2ba6(0x17d)][_0x3f2ba6(0x191)]({'where':_0x121df3,'include':{'embed_config':{'select':{'workspace':{'select':{'name':!![]}}}}},..._0x23eaa3[_0x3f2ba6(0x185)](_0x1d980d,null)?{'take':_0x1d980d}:{},..._0x23eaa3[_0x3f2ba6(0x185)](_0x4936e6,null)?{'skip':_0x4936e6}:{},..._0x2f1410!==null?{'orderBy':_0x2f1410}:{}});return _0x43f3bb;}catch(_0x400c07){return console[_0x3f2ba6(0x186)](_0x400c07[_0x3f2ba6(0x18b)]),[];}},'count':async function(_0xada1b6={}){const _0x3391a9=_0x2915;try{const _0xe57535=await prisma['embed_chats']['count']({'where':_0xada1b6});return _0xe57535;}catch(_0x44dc80){return console[_0x3391a9(0x186)](_0x44dc80['message']),0x0;}}};module['exports']={'EmbedChats':EmbedChats};function _0x80e3(){const _0x47ed0b=['findFirst','embed_chats','create','YUefs','updateMany','5ZTuoen','JMGSb','pXARG','130TtNoHu','Snxhw','error','stringify','548158BEjSuX','deleteMany','5988juARyH','message','eAUkl','SSURN','asc','3506lHEKXR','QgmdI','findMany','odDUw','242244dYwtig','6807048PBzWeA','64739675uHzGox','Tjvlh','PJFDE','DyvBa','11165iGirKL','2049ZwIjiQ','fqBpz','4354228CMkNKB'];_0x80e3=function(){return _0x47ed0b;};return _0x80e3();}