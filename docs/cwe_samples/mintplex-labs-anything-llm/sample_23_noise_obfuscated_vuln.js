const _0x2888da=_0x3c36;(function(_0x4a99be,_0x4b10d8){const _0x163346=_0x3c36,_0x5d73ae=_0x4a99be();while(!![]){try{const _0x22167b=parseInt(_0x163346(0x161))/0x1*(-parseInt(_0x163346(0x2e9))/0x2)+parseInt(_0x163346(0x38a))/0x3+-parseInt(_0x163346(0xd7))/0x4*(parseInt(_0x163346(0x156))/0x5)+-parseInt(_0x163346(0x329))/0x6*(-parseInt(_0x163346(0x246))/0x7)+-parseInt(_0x163346(0x25d))/0x8+parseInt(_0x163346(0x28b))/0x9*(-parseInt(_0x163346(0x107))/0xa)+parseInt(_0x163346(0x206))/0xb;if(_0x22167b===_0x4b10d8)break;else _0x5d73ae['push'](_0x5d73ae['shift']());}catch(_0xae2bb1){_0x5d73ae['push'](_0x5d73ae['shift']());}}}(_0x51eb,0xe96f7));const {H}=cy;import{dedent}from'ts-dedent';import{SAMPLE_DB_ID,WRITABLE_DB_ID}from'e2e/support/cypress_data';function _0x3c36(_0x554ec0,_0x140565){const _0x51eb92=_0x51eb();return _0x3c36=function(_0x3c3606,_0x402732){_0x3c3606=_0x3c3606-0x7c;let _0x5e3e3e=_0x51eb92[_0x3c3606];return _0x5e3e3e;},_0x3c36(_0x554ec0,_0x140565);}import{SAMPLE_DATABASE}from'e2e/support/cypress_sample_database';const {PRODUCTS,PRODUCTS_ID,ORDERS,ORDERS_ID,REVIEWS,REVIEWS_ID}=SAMPLE_DATABASE;function _0x51eb(){const _0x51b575=['[Product\x20->\x20Categ','Custom\x20Total','14709537LfhuHN','should\x20allow\x20\x27zoom\x20in\x27\x20drill-through\x20when\x20grouped\x20by\x20custom\x20column\x20(metabase#13289)','vWCPN','ZIaOK','queryMetadata','should\x20allow\x20passing\x20stringly-typed\x20expressions\x20to\x20is-empty\x20and\x20not-empty\x20(metabase#55687)','GidSq','split','Quantity_2','issue\x2025189','completion','[tot','JSAvI','DLUoI','hiqnh','2,024','zcSwf','elWde','case([Tax]\x20>\x201,[Tax]\x20case([Total]\x20>\x20200,\x20[Total],\x20\x22Nothing\x22),\x20)','contains','result-item','DSkVa','lvDih','have.attr','dgFCY','issue\x2042949','notEmpty','unZHb','GET','issue\x2013751','filterWidget','Should\x20show\x20the\x20help\x20text\x20popover\x20when\x20typing\x20a\x20multi-line\x20expression\x20(metabase#56152)','pjySB','ANJQP','oUFos','Category','4|11|9|1|5|10|6|13|0|2|8|3|7|12|14','VJKjA','remove\x20options\x20from\x20the\x20expression\x20in\x20the\x20expression\x20editor\x20and\x20make\x20sure\x20it\x20is\x20rendered\x20correctly\x20in\x20the\x20filter\x20widget','cjzuH','not.exist','brgqY','hwPaM','Hamed','segment','paste','VRXpX','card__','sffjb','eyvSG','mNFGC','vhsLk','PYpxl','PQiPX','GxcxT','oOvks','[lo','MeMkZ','rMxsg','be.focused','{leftarrow}','rBgey','@dataset','EbVhR','uHrpU','YwsJt','PhBni','4|3|7|2|5|0|1|12|10|9|11|8|6','skip','wcsaR','vwSoa','VixaM','gKKVN','Enter','scalar-value','FdJhS','JPFsl','DPOVt','DkKwB','NsPOH','vAsez','contain','issue\x2020229','STbil','ZEuqF','14843','response','pjJPE','iToRO','preview-root','CC_UpperTitle','NuKZD','Zxxmq','cMIRg','2NShfeW','qvTlg','oNpZJ','oohqv','ArrowLeft','uZQej','See\x20this\x20month\x20by\x20week','jBddo','should\x20allow\x20to\x20mix\x20regular\x20functions\x20with\x20aggregation\x20functions\x20(metabase#55622)','DQYJn','oAgbg','enterCustomColumnDetails','updateQuestion','Custom\x20Expression','NnCOS','[contenteditable=\x27true\x27]','4|0|1|2|3','DJqUh','tableInteractiveBody','row','yADAN','lDaDW','bDrts','INNZM','forEach','NpqmN','yocfj','CdaRY','mjvCv','8|2|6|1|0|3|4|7|5','POST','datetimeDiff(Max([Created\x20At]),\x20max([Birth\x20Date]),\x20\x22minute\x22)','YNKmV','SELECT\x20\x27a\x22b\x27\x20AS\x20TEXT','VSyJa','count','cCbcL','issue\x2032032','Backspace','honsJ','lower','Math','bGmZR','VkNvS','hXSGX','YWBaA','reload','Abbr','notEmpty\x20-\x20ltrim\x20-\x20literal','bar','header-cell','/question/','iYuuH','BxahX','Save','Quarter\x20of\x20year','1|4|3|6|5|0|2','/api/dataset/query_metadata','.Icon-check','notEmpty\x20-\x20literal','custom\x20column\x20after\x20aggregation\x20shouldn\x27t\x20limit\x20or\x20change\x20the\x20behavior\x20of\x20dashboard\x20filters\x20(metabase#19744)','WUnSx','target','false','2920542rrGvng','restore','Extract\x20part\x20of\x20column','TJbTc','realPress','juZYv','18814','Verify\x20header\x20drills','openProductsTable','Custom\x20Created','notebook','TXawE','IZlNb','have.length','GzRfQ','within','Today','qnROR','Create\x20custom\x20column\x20using\x20`regexextract()`','3|1|0|2|4|5','icon','bBrye','Category\x20contains\x203\x20selections','FyIUl','xFszs','YgJRd','FodhR','dScKc','should\x20focus\x20the\x20editor\x20when\x20opening\x20it\x20(metabase#54722)','vlGgA','isScrollableHorizontally','QRxuT','SRpEo','focus','Add\x20or\x20remove\x20columns','issue\x2055687','DrReI','iywyr','TOTAL','getDashboardCard','iMzhN','raodu','main','b6f1865b','should\x20properly\x20unescape\x20quotes\x20in\x20the\x20expression\x20editor\x20(metabase#53527)','lJsZm','_blank','vlNoe','fiQbw','should\x20be\x20able\x20to\x20use\x20a\x20custom\x20column\x20in\x20aggregation\x20for\x20a\x20nested\x20query\x20(metabase#18814)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20SELECT\x20DATE\x20\x272024-05-21\x27\x20AS\x20created_at,\x20null\x20as\x20v\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20UNION\x20ALL\x20SELECT\x20DATE\x20\x272024-05-20\x27,\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20UNION\x20ALL\x20SELECT\x20DATE\x20\x272024-05-19\x27,\x202\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ORDER\x20BY\x20created_at\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(?<=\x5c/\x5c/)[^\x5c/]*','Msnzy','column-input','metric','attr','ZiSka','popover','OWiZe','People','hjIwS','\x20[Pr','trim','mknme','iJEzL','notNull','SOURCE','21135','[Unknown\x20Metric]','Tab','issue\x2018814','XhIgG','Large','fWuTR','cDBRF','RATING','hiCjh','1|11|10|9|12|5|14|7|8|4|0|3|2|6|15|13','issue\x2049304','Adjective','Not\x20equal\x20to','Done','YFvcl','Date\x20filter','siblings','qypnz','type/Text','iMYXc','@updateQuestion','KwqYr','GNVDF','click','aggregation-item','invoke','mSdBP','[Unknown\x20Field]','find','4462368wrVakz','VVpJz','regexextract([State],\x20\x22^C[A-Z]\x22)','does\x20not\x20clear\x20expression\x20input\x20when\x20expression\x20is\x20invalid\x20(metabase#49882-2,\x20metabase#15892)','sJyBw','https://www.metabase.com/docs/latest/questions/query-builder/expressions/case.html','createSegment','uljDZ','Created\x20At\x20is\x20Sep\x201–30,\x202022','vEifA','IlRHq','MHeri','daAhX','Custom\x20Column','rnLaa','aSLQM','Collections','year','xlkEw','case([Total]\x20>\x20200,\x20[Total],\x20\x22X\x22)','QescJ','fpOiW','QvSAN','signInAsAdmin','issue\x2056152','AJxwU','QLfVi','visitQuestionAdhoc','issue\x2027745\x20(','qyHEi','zjpTY','\x27abc\x27','eAARK','UFKui','isEmpty\x20-\x20ltrim\x20-\x20title','All\x20orders\x20with\x20a\x20total\x20under\x20$100.','qCrEb','findByRole','Pick\x20a\x20column\x20to\x20group\x20by','Sum\x20of\x20Numeric','SJgHV','yqLPN','should\x20not\x20overflow\x20the\x20suggestion\x20tooltip\x20when\x20a\x20suggestion\x20name\x20is\x20too\x20long\x20and\x20has\x20no\x20spaces\x20(metabase#55984)','csqrE','date','incomplete\x20bracket\x20identifier\x20is\x20followed\x20by\x20bracket\x20identifier','cihbw','Contains','Doawq','DQUzb','iOZqo','Learn\x20more','DTMZj','3|0|4|1|2','save-question-modal','EhGyX','Nay','gbsGI','editDashboard','ksxtM','table','/api/database/','CaNOu','format','fmtsq','mlaHR','KNTUd','KKHtM','PrDit','bpRjN','should\x20not\x20be\x20possible\x20to\x20leave\x20the\x20expression\x20input\x20with\x20the\x20Tab\x20key\x20','issue\x20#55686','iajOY','CYyWp','[Tot{Enter}','issue\x2053682','uYHnn','url','have.text','should\x20allow\x20quick\x20filter\x20drills\x20on\x20custom\x20columns','openVizSettingsSidebar','nkbBx','Count\x20of\x20rows','REVIEWER','selectDashboardFilter','1\x20+\x201','QUANTITY','findByTestId','QDgzQ','Nested\x2025189','0|6|5|8|1|3|2|9|4|7','PbmAa','scrollIntoView','visualize','expensive','Count','kRyqo','Quotes\x20MBQL','issue\x2053527','LSwYv','Function\x20contains\x20expects\x20at\x20least\x202\x20arguments','kYsjt','UcFwT','Tax','dashboardParametersPopover','aiPSP','body','issue\x2021135','6|10|8|7|4|0|2|1|9|5|3','LmiSP','sXUxK','BZztr','DrWcW','ZNBIG','aaOwQ','City\x20Length','IIyHy','dataset','exist','Create\x20a\x20question\x20with\x20`Source`\x20column\x20and\x20abbreviated\x20CC','issue\x20#54722','KdamU','/api/card/*','Rustic\x20Paper\x20Wallet','SBOkt','abc','Last\x20name','19744','pFLIb','visitQuestion','0|3|1|2|5|4','expression','IhFNH','mysql-8','fdFbl','case([Tax]\x20>\x201,\x20case([Total]\x20>\x20200,\x20[Total],\x20\x22Nothing\x22),\x20[Tax]){leftarrow}{leftarrow}{uparrow}x{downarrow}y','error','miXuP','nWQNe','clauseStepPopover','_self','tableHeaderClick','FoozL','visit','LMWCq','novHo','8|1|4|7|3|5|0|2|6','type/Float','pAsah','close','@external','openPeopleTable','gizmo','AWrbc','Add\x20column','xQxbg','Switch\x20to\x20data','Search\x20this\x20collection\x20or\x20everywhere…','Custom\x20Reviewer','isEmpty\x20-\x20title','replace([TEXT],\x20\x22\x5c\x22\x22,\x20\x22\x22)','/api/search*','be.visible','yugev','Enter\x20some\x20text','request','Extract\x20day,\x20month…','{end}{leftarrow}','nImcg','should\x20unwrap\x20the\x20nested\x20query\x20when\x20removing\x20the\x20last\x20expression\x20(metabase#19745)','findAllByText','findByTextEnsureVisible','AfYKr','YiaLj','log','VdFfQ','[Produ','wTBPu','ynnuF','case([Tax]\x20>\x201,\x20xcase([Total]\x20>\x20200,\x20[Total],\x20\x22Nothing\x22),\x20[Tax]y)','not.be.visible','[Total]\x20\x20','FfaIw','Small','case([Product\x20->\x20Category]\x20=\x20\x22Widget\x22,\x201,','2024\x20','GfANW','cpXRc','Back','UNoIg','5619188bNoAhq','Cancel','ltJzX','FFUHX','icAFb','visitDashboard','saveDashboard','should\x20not\x20crash\x20when\x20referenced\x20columns,\x20segments,\x20and\x20metrics\x20do\x20not\x20exist\x20(metabase#48562)','SxSQs','ABMzO','lwXpe','oCoow','nFByb','hgxfT','uMDTI','not','OXIPG','OMMIy','EjorA','entityPickerModalTab','contains([Category],\x20\x22gadget\x22,\x20\x22widget\x22,\x20\x22gizmo\x22)','/api/dataset','yjcEL','ynEIn','CHijw','isEmpty\x20-\x20literal','CC_Category','should\x20correctly\x20show\x20available\x20shortcuts\x20for\x20a\x20string\x20column\x20(metabase#42949)','xbinX','not.be.disabled','Tavop','mezBU','wbqkb','gadget','IBfaO','issue\x20#31964','search','zyJEI','ixXuT','IWYbH','sidebar-content','QYmTj','Wzqea','case','gqQjz','TITLE','Add\x20filter','XNAid','10XbYgNG','Rye','queryBuilderMain','findByLabelText','should\x20not\x20remove\x20backslashes\x20from\x20escaped\x20characters\x20(metabase#56596)','repeat','\x20Casper\x20and\x20Hilll','MwnlC','sreec','case(','CqIVw','should\x20correctly\x20show\x20available\x20shortcuts\x20for\x20date\x20and\x20number\x20columns\x20(metabase#42949)','1,041.45','issue\x2024922','issue\x20#55940','colors','qJXiE','wbZcw','VENDOR','ZzWwh','add\x20a\x20filter\x20using\x20a\x20filter\x20widget\x20and\x20check\x20that\x20it\x20is\x20rendered\x20in\x20the\x20expression\x20editor','equal','Double\x20Count','custom\x20column\x20referencing\x20only\x20a\x20single\x20column\x20should\x20not\x20be\x20dropped\x20in\x20a\x20nested\x20question\x20(metabase#25189)','PJmGZ','findAllByRole','kYbPZ','uMcns','YAaAl','xHFAm','@search','muUFi','uULDi','startNewQuestion','AkYMa','Filters','eOvty','CITY','date/month-year','spZel','jrRFv','createNativeQuestion','helpText','toyxQ','OKoJK','yVQjf','entityPickerModal','uqpqP','Qhppu','wzEhD','tableInteractive','xFBqY','MjdyW','No\x20results!','Grgtb','FdfWj','PUT','last','FKZPG','MpshW','PJMdj','CC_ScaledRating','QOpJn','Arnold\x20Adams','POpxp','IRfbj','hXjme','should\x20correctly\x20filter\x20the\x20table\x20with\x20a\x20number\x20parameter\x20mapped\x20to\x20the\x20custom\x20column\x20Quantity_2','vgdDt','should\x20not\x20remove\x20existing\x20characters\x20when\x20applying\x20autocomplete\x20suggestion\x20(metabase#50925)','pGhJK','should\x20allow\x20segments\x20in\x20case\x20custom\x20expressions\x20(metabase#24922)','eWYNn','oxGLh','multiAutocompleteInput','selectFilterOperator','field','BNqxU','regexextract([State],\x20\x22','5pPRoGq','nzyKD','button','mCDLP','assertQueryBuilderRowCount','tWjbC','change\x20options\x20in\x20the\x20filter\x20widget\x20and\x20make\x20sure\x20they\x20get\x20reflected\x20in\x20the\x20expression\x20editor','xJfFb','zuQPM','Custom','CzQww','607044VyHGOc','STjEX','withDatabase','FzloF','resetTestTable','Filter','case([OrdersSegment],\x20\x22Segment\x22,\x20\x22Other\x22)','openOrdersTable','issue\x2013289','JnnQX','bjNAp','NJXNn','TObdb','QaBoI','BoAXI','openNotebook','cLIJv','uMXtR','Day\x20of\x20month','rwILQ','VhntJ','sum','filter','Year','RsLkW','PhrCR','Update\x20filter','\x20is\x20not\x20equal\x20to\x203','KEdeI','widget','CustomColumn','CC_HalfPrice','kDNXW','intercept','-writable','GFTJH','add','ghPma','Verify\x20plus\x20button','createQuestionAndDashboard','query-visualization-root','notEmpty(\x27AAA\x27)','Case\x20sensitive','5|4|3|1|0|2','EnXfd','case([ID]\x20=\x201,\x20[Price]\x20*\x201.21,\x20[Price]\x20[Price])','elKEZ','dMvlk','expressionEditorWidget','-36.53','query','issue\x2018747','bkLaE','CREATED_AT','nhmhS','kTgSX','YooTT','DhYyb','kVzwX','Explore\x20results','PajRO','Month\x20of\x20year','crZru','WZJKE','cLaHB','PMZcA','isEmpty([Title])','VXRwI','ZVqfh','signInAsNormalUser','WbBpb','RDXFj','pATcv','and','XoQyg','CxRom','20229','issue\x20#55984','rcSqS','WrZvj','textbox','Created\x20At','get','jVjKL','Qtxyr','[Count]\x20*\x202','Number','OrdersSegment','ZhpKt','Date\x20picker','dbsDW','completions','Shift','hkrfy','MhLFI','TyfiC','postgres-12','Everywhere','lQIHf','Numeric','2022','spEMH','MCfPJ','Price','then','vybhu','type/DateTime','issue\x2014843','sCEXv','BAPQj','Yesem','rlrhu','Sum\x20of\x20...','isEmpty(\x27AAA\x27)','findByText','wait','notEmpty([Title])','Expecting\x20a\x20closing\x20parenthesis','blur','issue\x2049342','Select…','notEmpty(lTrim([Title]))','SqCEG','Aggregation','Reported\x20failing\x20on\x20v0.36.4','CC_LowerVendor','AhFKM','There\x20was\x20a\x20problem\x20with\x20your\x20question','should\x20unwrap\x20the\x20nested\x20query\x20when\x20removing\x20all\x20expressions\x20(metabase#19745)','hLRPF','Lorem\x20ipsum\x20dolor\x20sit\x20amet,\x20consectetur\x20adipiscing\x20elit,\x20sed\x20do\x20eiusmod\x20tempor\x20incididunt','Tables','createQuestion','AklNI','QA\x20Postgres12','QfxgG','data','gwQdb','value','niRkA','5|1|4|2|3|0|6','12445','zrpgW','hUzTC','cell-data','rbSAl','be.disabled','DZQph','1\x20+\x20[Unknown\x20Segment]','Ylcgm','SWAZL','XDxNw','Custom\x20column','should\x20handle\x20cc\x20with\x20the\x20same\x20name\x20as\x20the\x20table\x20column\x20(metabase#21135)','CustomExpressionEditor','YLKGC','ebOMT','MPikC','5|11|1|10|4|0|8|6|9|3|7|2','qb-header','2024\x201','NPwrD','Quotes\x20SQL','/sync_schema','findByPlaceholderText','28888706HtoCIY','QosSJ','Escape','CMnZw','18747','incomplete\x20bracket\x20identifier\x20is\x20followed\x20by\x20whitespace','osKjn','length','wxaUh','xavier','XRXgb','31.46','jHVNP','hBgxC','fieldValuesCombobox','substring','issue\x2023862','3|4|1|0|2','qIUCc','cartesianChartCircle','focused','QoEpc','2|4|6|0|5|7|8|1|3','NOuqM','contains([Category])','jhxps','Combine\x20columns','jUzMY','CATEGORY','ZeVnz','YzDeT','fWYvD','JghJm','DiYSW','BRFLH','{downarrow}{downarrow}{downarrow}{downarrow}{downarrow}','MGagw','oiYeJ','AYSJu','contains([Category],\x20\x22gadget\x22,\x20\x22widget\x22,\x20\x22gizmo\x22,\x20\x22case-insensitive\x22)','keEjO','cheap','YaQzf','CHynC','IWXNN','RYbuo','FIGsn','should\x20be\x20possible\x20to\x20switch\x20between\x20filter\x20widgets\x20and\x20the\x20expression\x20editor\x20for\x20multi-argument\x20operators\x20(metabase#49304)','bKxGA','should\x20not\x20eat\x20up\x20subsequent\x20characters\x20when\x20applying\x20a\x20suggestion\x20(metabase#49882-1)','kwctZ','select\x201\x20as\x20n','EMLaF','saveQuestion','addCustomColumn','vXUxc','LEqoI','notEmpty\x20-\x20ltrim\x20-\x20title','pMeRa','should\x20update\x20currently\x20selected\x20suggestion\x20when\x20suggestions\x20list\x20is\x20updated\x20(metabase#49882-4)','WoFcW','Apply\x20Filters','XwYYt','not.be.focused','14SDNsAm','DdFDy','PRICE','pEFFf','/api/dashboard/','EYCed','gBWEF','nameInput','be.checked','JSarY','Verify\x20plus\x20button\x20-\x20combine\x20columns','vrAAC','getNotebookStep','issue\x2048562','QPhVs','CgbTe','tRMRV','cZmoT','fields-picker','Category\x20contains\x202\x20selections','lpgRW','Verify\x20header\x20drills\x20-\x20CREATED_AT','type','3878648anwFLW','C-States','issue\x2019744','[Total]','erdom','HoAKr','EERWx','EcQcw','DOvED','owlhJ','JHkhS','findAllByTestId','tfRSz','ZarcT','McZtY','should\x20group\x20by\x20a\x20custom\x20column\x20and\x20work\x20in\x20a\x20nested\x20question\x20(metabase#23862)','should','DWdkh','NQSRD','Bqzbm','Day\x20of\x20week','/notebook','oLKpb','role','xKYCz','MgHDj','summarize','ElOmN','TVWuP','QlXnI','ZIVDY','yowHA','PGuaz','Equal\x20to','OwYuE','18069','should\x20display\x20custom\x20column\x20regardless\x20of\x20how\x20many\x20columns\x20are\x20selected\x20(metabase#20229)','krvrw','acceptCompletion','mEIuX','type/BigInteger','VzqkJ','Update','should\x20show\x20an\x20error\x20message\x20when\x20trying\x20to\x20use\x20a\x20multi-arg\x20expression\x20function\x20with\x20not\x20enough\x20arguments\x20(metabase#53682)'];_0x51eb=function(){return _0x51b575;};return _0x51eb();}describe['skip']('issue\x2012445',{'tags':'@external'},()=>{const _0x4af9cf=_0x3c36,_0x31ac10={'eBmeb':function(_0x1bbe38,_0x294ff7){return _0x1bbe38!==_0x294ff7;},'PGuaz':_0x4af9cf(0x1f3),'Zxxmq':function(_0x59c9ef,_0x5be67c){return _0x59c9ef(_0x5be67c);},'YaQzf':function(_0x4194ce,_0x148212,_0xf79103){return _0x4194ce(_0x148212,_0xf79103);}},_0x494ce1=_0x4af9cf(0x318);_0x31ac10[_0x4af9cf(0x2e7)](beforeEach,()=>{const _0x40a993=_0x4af9cf;_0x31ac10['eBmeb']('hwPaM',_0x40a993(0x2b5))?(_0x552ccb[_0x40a993(0x214)]()[_0x40a993(0x25c)]('14'),_0x3577d4[_0x40a993(0x158)](_0x40a993(0x105))[_0x40a993(0x384)]()):(H[_0x40a993(0x32a)](_0x40a993(0x9e)),cy[_0x40a993(0x3a1)]());}),_0x31ac10[_0x4af9cf(0x230)](it,'should\x20correctly\x20apply\x20substring\x20for\x20a\x20custom\x20column\x20(metabase#12445)',()=>{const _0x3d0637=_0x4af9cf,_0x371b6c={'pAsah':_0x3d0637(0x37a),'LCRAZ':_0x31ac10[_0x3d0637(0x27d)],'uYHnn':_0x3d0637(0x3db),'DkKwB':_0x3d0637(0x9c)};H[_0x3d0637(0x163)](0x2,({PEOPLE:_0x5b2321,PEOPLE_ID:_0x33a529})=>{const _0x3222de=_0x3d0637,_0x136065={'nhmhS':_0x3222de(0xbb),'rcgaz':_0x371b6c[_0x3222de(0xad)],'ksxtM':_0x371b6c['LCRAZ'],'wQnOy':'Custom\x20column','QfPyB':_0x3222de(0x21e)};_0x371b6c[_0x3222de(0x3d6)]===_0x371b6c['uYHnn']?(cy['log'](_0x3222de(0x90)),H[_0x3222de(0x1e5)]({'name':_0x3222de(0x1ee),'query':{'source-table':_0x33a529,'breakout':[[_0x371b6c[_0x3222de(0x2d9)],_0x494ce1]],'expressions':{[_0x494ce1]:[_0x3222de(0x215),[_0x3222de(0x153),_0x5b2321[_0x3222de(0x36b)],null],0x1,0x4]}},'database':0x2},{'visitQuestion':!![]}),cy['findByText'](_0x494ce1),cy['findByText']('Goog')):(_0x5cb5d6[_0x3222de(0x331)]({'mode':'notebook'}),_0x4d709d[_0x3222de(0x252)](_0x3222de(0x1e9))[_0x3222de(0x158)](_0x136065['wQnOy'])[_0x3222de(0x384)](),_0x5bfa6a[_0x3222de(0x2f4)]({'formula':_0x136065['QfPyB']}),_0x6abffc[_0x3222de(0x362)]()[_0x3222de(0x338)](()=>{const _0x163de3=_0x3222de;_0x3b79ac[_0x163de3(0x1d3)](_0x163de3(0x7d))[_0x163de3(0x26d)](_0x136065[_0x163de3(0x197)]),_0x19049e[_0x163de3(0x158)](_0x136065['rcgaz'])[_0x163de3(0x26d)](_0x136065[_0x163de3(0x3c5)]);}));});});}),describe(_0x2888da(0x169),()=>{const _0xd4640d=_0x2888da,_0x506a9e={'PrDit':_0xd4640d(0x8e),'gbsGI':_0xd4640d(0x333),'XwYYt':_0xd4640d(0x37a),'iOZqo':_0xd4640d(0x3b0),'fpOiW':_0xd4640d(0x185),'svzPp':'There\x20was\x20a\x20problem\x20with\x20your\x20question','FKZPG':_0xd4640d(0x2b3),'dgFCY':_0xd4640d(0x2ef),'iYuuH':function(_0x170efe,_0x56181e){return _0x170efe(_0x56181e);}},_0xd969ff=_0xd4640d(0x312);_0x506a9e[_0xd4640d(0x31d)](beforeEach,()=>{const _0x3b2c21=_0xd4640d;cy[_0x3b2c21(0x182)]('POST',_0x3b2c21(0xec))['as'](_0x506a9e[_0x3b2c21(0x3ce)]),H[_0x3b2c21(0x32a)](),cy[_0x3b2c21(0x3a1)](),H['openOrdersTable']({'mode':_0x506a9e[_0x3b2c21(0x3c3)]}),cy[_0x3b2c21(0x1d3)](_0x3b2c21(0x1f9))[_0x3b2c21(0x384)](),H[_0x3b2c21(0x2f4)]({'formula':_0x3b2c21(0x3df),'name':_0xd969ff}),cy[_0x3b2c21(0x158)](_0x506a9e[_0x3b2c21(0x244)])[_0x3b2c21(0x384)]();}),it(_0xd4640d(0x28c),()=>{const _0x241716=_0xd4640d,_0x491128=_0x241716(0x1ff)[_0x241716(0x292)]('|');let _0x18728b=0x0;while(!![]){switch(_0x491128[_0x18728b++]){case'0':H[_0x241716(0x362)]()['within'](()=>{const _0x1e746f=_0x241716;cy[_0x1e746f(0x1d3)](_0x1e746f(0x1b2))[_0x1e746f(0x384)]();});continue;case'1':cy[_0x241716(0x1d3)](_0x506a9e[_0x241716(0x3bc)])['click']();continue;case'2':cy[_0x241716(0x1d3)](_0x241716(0x392));continue;case'3':cy[_0x241716(0x1d4)](_0x241716(0x2c9));continue;case'4':cy[_0x241716(0x33d)](_0x506a9e[_0x241716(0x39f)])[_0x241716(0x140)]()[_0x241716(0x384)]();continue;case'5':H[_0x241716(0x277)]({'mode':_0x506a9e[_0x241716(0x3c3)]});continue;case'6':cy[_0x241716(0x3e1)](_0x241716(0x189))['within'](()=>{const _0x3390ab=_0x241716;H[_0x3390ab(0x219)]()['eq'](0x5)[_0x3390ab(0x384)]();});continue;case'7':cy[_0x241716(0x1d3)](_0x506a9e['svzPp'])[_0x241716(0x26d)](_0x506a9e[_0x241716(0x141)]);continue;case'8':H[_0x241716(0x3e7)]();continue;case'9':cy[_0x241716(0x1d3)](_0x506a9e[_0x241716(0x2a3)])['click']();continue;case'10':H[_0x241716(0x362)]()['findByText'](_0xd969ff)[_0x241716(0x384)]();continue;case'11':cy['findByText']('Count\x20of\x20rows')[_0x241716(0x384)]();continue;}break;}});}),describe(_0x2888da(0x2a8),{'tags':_0x2888da(0xaf)},()=>{const _0x811654=_0x2888da,_0x23c633={'pEFFf':_0x811654(0x1e4),'Qhppu':_0x811654(0x364),'DOvED':function(_0x2e76f2,_0x506acd){return _0x2e76f2===_0x506acd;},'StaHd':_0x811654(0x1c1),'cVboB':_0x811654(0x177),'jaMrf':_0x811654(0x146),'bpRjN':_0x811654(0xf4),'aURyq':_0x811654(0x1e7),'XWOyi':'should\x20allow\x20using\x20strings\x20in\x20filter\x20based\x20on\x20a\x20custom\x20column\x20(metabase#13751)'},_0x443020=_0x811654(0x25e),_0xd7cabd=_0x23c633['aURyq'];beforeEach(()=>{const _0x1ed49e=_0x811654;_0x23c633[_0x1ed49e(0x265)](_0x1ed49e(0x117),_0x1ed49e(0x373))?(_0x8388ce[_0x1ed49e(0x32a)](),_0x5a7a47[_0x1ed49e(0x1a6)]()):(H[_0x1ed49e(0x32a)](_0x23c633['StaHd']),cy[_0x1ed49e(0x3a1)](),H[_0x1ed49e(0x128)](),H[_0x1ed49e(0x135)]()[_0x1ed49e(0x338)](()=>{const _0x66cde5=_0x1ed49e;H[_0x66cde5(0xea)](_0x23c633[_0x66cde5(0x249)])[_0x66cde5(0x384)](),cy[_0x66cde5(0x1d3)](_0xd7cabd)[_0x66cde5(0x26d)](_0x66cde5(0xbb))[_0x66cde5(0x384)](),cy[_0x66cde5(0xc4)](_0x23c633[_0x66cde5(0x137)])[_0x66cde5(0x384)]();}));}),it(_0x23c633['XWOyi'],()=>{const _0x12393d=_0x811654,_0x3f780d=_0x12393d(0x21c)['split']('|');let _0x393b63=0x0;while(!![]){switch(_0x3f780d[_0x393b63++]){case'0':H['getNotebookStep'](_0x23c633['cVboB'])['findByText'](/Add filter/)[_0x12393d(0x384)]();continue;case'1':H[_0x12393d(0x3e7)]();continue;case'2':H[_0x12393d(0x23c)]();continue;case'3':H[_0x12393d(0x109)]()['findByText'](_0x23c633['jaMrf'])[_0x12393d(0x26d)](_0x12393d(0xbb));continue;case'4':H['enterCustomColumnDetails']({'formula':_0x12393d(0x38c),'name':_0x443020});continue;case'5':H['popover']()[_0x12393d(0x1d3)](_0x443020)[_0x12393d(0x384)]();continue;case'6':cy[_0x12393d(0x158)](_0x12393d(0x37a))[_0x12393d(0x26d)](_0x23c633[_0x12393d(0x3cf)])[_0x12393d(0x384)]();continue;case'7':H[_0x12393d(0x152)]('Is');continue;case'8':H[_0x12393d(0x362)]()[_0x12393d(0x338)](()=>{const _0x10eae8=_0x12393d;cy[_0x10eae8(0x205)](_0x10eae8(0xbd))['type']('CO'),cy['button'](_0x10eae8(0x105))[_0x10eae8(0x384)]();});continue;}break;}});}),describe[_0x2888da(0x2cf)]('postgres\x20>\x20question\x20>\x20custom\x20columns',{'tags':_0x2888da(0xaf)},()=>{const _0xe3ac47=_0x2888da,_0xdd4133={'xQxbg':_0xe3ac47(0x1c1),'HmSih':_0xe3ac47(0x2f8),'CaNOu':_0xe3ac47(0x397),'cihbw':'QA\x20Postgres12','PJMdj':function(_0x101ce4,_0x5c7676){return _0x101ce4(_0x5c7676);},'XrzRB':function(_0x2f8cbb,_0x49399f,_0x55075a){return _0x2f8cbb(_0x49399f,_0x55075a);}},_0x587b4c=_0xdd4133[_0xe3ac47(0x3b8)],_0x271728=_0xe3ac47(0x35c);_0xdd4133[_0xe3ac47(0x143)](beforeEach,()=>{const _0x52f771=_0xe3ac47;H['restore'](_0xdd4133[_0x52f771(0xb4)]),cy[_0x52f771(0x3a1)](),H['startNewQuestion'](),cy['findByText'](_0x587b4c)['should'](_0x52f771(0xbb))[_0x52f771(0x384)](),cy['findByTextEnsureVisible'](_0x52f771(0x364))[_0x52f771(0x384)]();}),_0xdd4133['XrzRB'](it,'should\x20not\x20remove\x20regex\x20escape\x20characters\x20(metabase#14517)',()=>{const _0x135ecb=_0xe3ac47;cy['log'](_0x135ecb(0x33b)),cy[_0x135ecb(0x10a)](_0xdd4133[_0x135ecb(0x3c8)])[_0x135ecb(0x384)](),H['popover']()[_0x135ecb(0x338)](()=>{const _0x1cd90c=_0x135ecb;cy['get'](_0xdd4133['HmSih'])[_0x1cd90c(0x25c)](_0x1cd90c(0x155)+_0x271728+'\x22)')[_0x1cd90c(0x1d7)](),cy['log']('Reported\x20failing\x20on\x20v0.36.4'),cy[_0x1cd90c(0x29e)](_0x271728);});});}),describe(_0x2888da(0x1cc),()=>{const _0x7f5b31=_0x2888da,_0x562240={'osptS':_0x7f5b31(0x307),'hgxfT':'/api/dataset','vrAAC':'Not\x20equal\x20to','zPXhW':_0x7f5b31(0x333),'sstQT':_0x7f5b31(0x108),'IhFNH':_0x7f5b31(0x2b3),'xBjlr':_0x7f5b31(0x8c),'IWXNN':_0x7f5b31(0x20d),'jhxps':_0x7f5b31(0x153),'BNqxU':function(_0x5e02c8,_0xdd90e2){return _0x5e02c8(_0xdd90e2);},'EMLaF':function(_0x11c383,_0xe6919c,_0x132593){return _0x11c383(_0xe6919c,_0x132593);},'fiQbw':'should\x20correctly\x20filter\x20custom\x20column\x20by\x20\x27Not\x20equal\x20to\x27\x20(metabase#14843)'},{PEOPLE:_0x2af825,PEOPLE_ID:_0x18c2fc}=SAMPLE_DATABASE,_0x38c309=_0x562240['xBjlr'],_0x9e130e={'name':_0x7f5b31(0x2e0),'query':{'source-table':_0x18c2fc,'expressions':{[_0x38c309]:[_0x562240[_0x7f5b31(0x232)],[_0x562240[_0x7f5b31(0x21f)],_0x2af825[_0x7f5b31(0x12c)],null]]}}};_0x562240[_0x7f5b31(0x154)](beforeEach,()=>{const _0x58e46d=_0x7f5b31;cy[_0x58e46d(0x182)](_0x562240['osptS'],_0x562240[_0x58e46d(0xe4)])['as']('dataset'),H[_0x58e46d(0x32a)](),cy['signInAsAdmin']();}),_0x562240[_0x7f5b31(0x23a)](it,_0x562240[_0x7f5b31(0x359)],()=>{const _0x582a25=_0x7f5b31,_0x55a2eb=_0x582a25(0xab)[_0x582a25(0x292)]('|');let _0x17692a=0x0;while(!![]){switch(_0x55a2eb[_0x17692a++]){case'0':H['visualize']();continue;case'1':H[_0x582a25(0x170)]();continue;case'2':cy[_0x582a25(0x1d3)](_0x38c309+_0x582a25(0x17c));continue;case'3':H['selectFilterOperator'](_0x562240[_0x582a25(0x251)]);continue;case'4':H['filter']({'mode':_0x562240['zPXhW']});continue;case'5':H['clauseStepPopover']()['within'](()=>{const _0x4f9db0=_0x582a25;H[_0x4f9db0(0x151)]()[_0x4f9db0(0x25c)]('3'),cy[_0x4f9db0(0x158)](_0x4f9db0(0x105))['click']();});continue;case'6':cy[_0x582a25(0x1d3)](_0x562240['sstQT'])[_0x582a25(0x26d)](_0x562240[_0x582a25(0x9d)]);continue;case'7':H[_0x582a25(0x362)]()[_0x582a25(0x1d3)](_0x38c309)['click']();continue;case'8':H['createQuestion'](_0x9e130e,{'visitQuestion':!![]});continue;}break;}});}),describe('issue\x2018069',()=>{const _0x4d7373=_0x2888da,_0x4c5c55={'pFLIb':'1|0|3|4|5|2|6','Bqzbm':_0x4d7373(0xf1),'XRXgb':_0x4d7373(0x333),'JPFsl':_0x4d7373(0x1d1),'ZiSka':_0x4d7373(0x113),'yowHA':_0x4d7373(0x280),'spEMH':_0x4d7373(0x153),'yugev':function(_0x4a60be,_0x463249){return _0x4a60be(_0x463249);},'iajOY':'should\x20not\x20allow\x20choosing\x20text\x20fields\x20for\x20SUM\x20(metabase#18069)'},_0x11c353={'name':_0x4c5c55[_0x4d7373(0x27c)],'query':{'source-table':PRODUCTS_ID,'expressions':{[_0x4d7373(0xf1)]:[_0x4d7373(0x153),PRODUCTS[_0x4d7373(0x222)],null],['CC_LowerVendor']:[_0x4d7373(0x311),['field',PRODUCTS[_0x4d7373(0x119)],null]],[_0x4d7373(0x2e5)]:['upper',[_0x4d7373(0x153),PRODUCTS[_0x4d7373(0x104)],null]],[_0x4d7373(0x180)]:['/',[_0x4d7373(0x153),PRODUCTS['PRICE'],null],0x2],['CC_ScaledRating']:['*',1.5,[_0x4c5c55[_0x4d7373(0x1c6)],PRODUCTS[_0x4d7373(0x374)],null]]}}};_0x4c5c55[_0x4d7373(0xbc)](beforeEach,()=>{const _0x55ec76=_0x4d7373;H[_0x55ec76(0x32a)](),cy['signInAsAdmin'](),H[_0x55ec76(0x1e5)](_0x11c353)[_0x55ec76(0x1c9)](({body:{id:_0x147821}})=>{const _0x2afb21=_0x55ec76;cy[_0x2afb21(0xa8)](_0x2afb21(0x31c)+_0x147821+_0x2afb21(0x272));});}),it(_0x4c5c55[_0x4d7373(0x3d2)],()=>{const _0x4198c0=_0x4d7373,_0x1eb808={'ywLEx':_0x4c5c55[_0x4198c0(0x99)],'psbip':'Rating','GJlAc':_0x4c5c55[_0x4198c0(0x270)],'crZru':_0x4198c0(0x2b3),'oiYeJ':_0x4198c0(0x1de),'kTgSX':'CC_UpperTitle'};H['summarize']({'mode':_0x4c5c55[_0x4198c0(0x210)]}),cy[_0x4198c0(0x1d3)](_0x4c5c55[_0x4198c0(0x2d7)])[_0x4198c0(0x384)](),H[_0x4198c0(0x362)]()[_0x4198c0(0x338)](()=>{const _0x3a0aae=_0x4198c0,_0x40a86f=_0x1eb808['ywLEx'][_0x3a0aae(0x292)]('|');let _0x1bbdbc=0x0;while(!![]){switch(_0x40a86f[_0x1bbdbc++]){case'0':cy['findByText'](_0x1eb808['psbip']);continue;case'1':cy[_0x3a0aae(0x1d3)](_0x3a0aae(0x1c8));continue;case'2':cy[_0x3a0aae(0x1d3)](_0x3a0aae(0x180));continue;case'3':cy['findByText'](_0x1eb808['GJlAc'])[_0x3a0aae(0x26d)](_0x1eb808[_0x3a0aae(0x19f)]);continue;case'4':cy[_0x3a0aae(0x1d3)](_0x1eb808[_0x3a0aae(0x22b)])[_0x3a0aae(0x26d)](_0x1eb808['crZru']);continue;case'5':cy['findByText'](_0x1eb808[_0x3a0aae(0x198)])[_0x3a0aae(0x26d)](_0x1eb808[_0x3a0aae(0x19f)]);continue;case'6':cy[_0x3a0aae(0x1d3)](_0x3a0aae(0x144))[_0x3a0aae(0x384)]();continue;}break;}}),H[_0x4198c0(0x3e7)](),cy['findByText'](_0x4c5c55[_0x4198c0(0x361)]);});}),describe(_0x2888da(0x194),()=>{const _0x386deb=_0x2888da,_0x3c289e={'oohqv':_0x386deb(0x27e),'IlRHq':'dashcard-container','pATcv':_0x386deb(0x293),'lJsZm':_0x386deb(0x2a7),'TJbTc':_0x386deb(0xba),'MGagw':function(_0x432cc8){return _0x432cc8();},'kYbPZ':_0x386deb(0x2b3),'SWAZL':_0x386deb(0x2fc),'YWBaA':'.LoadingSpinner','uqpqP':_0x386deb(0x153),'bFKBY':function(_0xb33c2f,_0x526648,_0x4e9a64){return _0xb33c2f(_0x526648,_0x4e9a64);}},_0xfa9fc0={'name':_0x386deb(0x20a),'query':{'source-table':ORDERS_ID,'expressions':{[_0x386deb(0x293)]:[_0x3c289e[_0x386deb(0x136)],ORDERS[_0x386deb(0x3e0)],null]}}};function _0x29f6a0(){const _0x4ae4ff=_0x386deb;H[_0x4ae4ff(0x3c4)](),H['setFilter'](_0x4ae4ff(0x1b7),_0x3c289e[_0x4ae4ff(0x2ec)]);}function _0x1c118d(){const _0x106784=_0x386deb;cy['findByTestId'](_0x3c289e[_0x106784(0x394)])[_0x106784(0x29e)](_0x106784(0x1d9))['click'](),H['popover']()[_0x106784(0x29e)](_0x3c289e[_0x106784(0x1a9)])[_0x106784(0x384)]({'force':!![]});}function _0x1a22f9(){const _0x533458=_0x386deb;if('aNdyf'===_0x533458(0x8a)){const _0x41dca1=_0x533458(0x3bf)['split']('|');let _0x44a6df=0x0;while(!![]){switch(_0x41dca1[_0x44a6df++]){case'0':_0x4fc5c5[_0x533458(0x3a1)]();continue;case'1':_0x1c16bd[_0x533458(0xbe)](_0x533458(0x307),_0x533458(0x3c7)+_0x5f2a26+_0x533458(0x204));continue;case'2':_0x2f7634[_0x533458(0x182)](_0x3c289e[_0x533458(0x356)],_0x3c289e[_0x533458(0x32c)])['as'](_0x533458(0xfb));continue;case'3':_0x3be211[_0x533458(0x32a)](_0xb4e5d6+_0x533458(0x183));continue;case'4':_0x23d141[_0x533458(0x165)]({'type':_0x5868d5,'table':_0x21df1d});continue;}break;}}else H[_0x533458(0x2a9)]()[_0x533458(0x384)](),H[_0x533458(0x81)]()[_0x533458(0x338)](()=>{const _0x2a927d=_0x533458;H[_0x2a927d(0x214)]()['type']('14'),cy['button'](_0x2a927d(0x105))[_0x2a927d(0x384)]();});}beforeEach(()=>{const _0x49c38a=_0x386deb;H[_0x49c38a(0x32a)](),cy['signInAsAdmin'](),H['createQuestionAndDashboard']({'questionDetails':_0xfa9fc0})['then'](({body:{id:_0x3a788c,card_id:_0x4af492,dashboard_id:_0x5dc0bc}})=>{const _0x4921af=_0x49c38a;cy[_0x4921af(0xbe)](_0x4921af(0x13f),_0x4921af(0x24a)+_0x5dc0bc,{'cards':[{'id':_0x3a788c,'card_id':_0x4af492,'row':0x0,'col':0x0,'size_x':0x10,'size_y':0x8}]})[_0x4921af(0x1c9)](()=>{const _0x1a52c2=_0x4921af;H[_0x1a52c2(0xdc)](_0x5dc0bc);});});}),_0x3c289e['bFKBY'](it,_0x386deb(0x14a),()=>{const _0x496ab6=_0x386deb;if(_0x496ab6(0xee)===_0x496ab6(0x273))_0x1d691c[_0x496ab6(0x32a)](),_0x5d9d06[_0x496ab6(0x1a6)]();else{const _0x2cfb50=_0x496ab6(0x306)[_0x496ab6(0x292)]('|');let _0x12e3dc=0x0;while(!![]){switch(_0x2cfb50[_0x12e3dc++]){case'0':_0x3c289e[_0x496ab6(0x22a)](_0x1a22f9);continue;case'1':cy[_0x496ab6(0x29e)]('You\x27re\x20editing\x20this\x20dashboard.')['should'](_0x3c289e[_0x496ab6(0x121)]);continue;case'2':_0x1c118d();continue;case'3':H[_0x496ab6(0x2fb)]()[_0x496ab6(0x120)](_0x3c289e[_0x496ab6(0x1f7)])['should'](_0x496ab6(0x336),0x1);continue;case'4':cy[_0x496ab6(0x317)]();continue;case'5':H['tableInteractiveBody']()[_0x496ab6(0x120)]('row')['should'](_0x496ab6(0x336),0x1);continue;case'6':cy[_0x496ab6(0x29e)](_0x496ab6(0x31f))['click']();continue;case'7':cy['get'](_0x3c289e[_0x496ab6(0x316)])[_0x496ab6(0x26d)](_0x3c289e['kYbPZ']);continue;case'8':_0x3c289e[_0x496ab6(0x22a)](_0x29f6a0);continue;}break;}}});}),describe(_0x2888da(0x36f),()=>{const _0x32566a=_0x2888da,_0x38a067={'iMzhN':'Count\x20of\x20rows','mmgKv':'Pick\x20a\x20column\x20to\x20group\x20by','FfaIw':_0x32566a(0x189),'hXSGX':'2022','meBpz':'Custom\x20Created\x20At','CgbTe':'18814','FdJhS':_0x32566a(0x153),'fmtsq':_0x32566a(0x196),'ynnuF':'should\x20be\x20able\x20to\x20use\x20a\x20custom\x20column\x20in\x20aggregation\x20for\x20a\x20nested\x20query\x20(metabase#18814)'},_0x545402=_0x38a067['meBpz'],_0x45a592={'name':_0x38a067[_0x32566a(0x255)],'query':{'source-query':{'source-table':ORDERS_ID,'aggregation':[[_0x32566a(0x30c)]],'breakout':[[_0x38a067['FdJhS'],ORDERS[_0x32566a(0x196)],{'temporal-unit':_0x32566a(0x39b)}]]},'expressions':{[_0x545402]:[_0x38a067[_0x32566a(0x2d6)],_0x38a067[_0x32566a(0x3ca)],{'base-type':_0x32566a(0x1cb)}]}}};beforeEach(()=>{const _0x429aea=_0x32566a;H[_0x429aea(0x32a)](),cy[_0x429aea(0x3a1)](),H[_0x429aea(0x1e5)](_0x45a592,{'visitQuestion':!![]});}),it(_0x38a067[_0x32566a(0xcb)],()=>{const _0x4343d7=_0x32566a;H['openNotebook'](),cy['icon'](_0x4343d7(0x176))['click'](),cy[_0x4343d7(0x1d3)](_0x38a067[_0x4343d7(0x351)])['click'](),cy['findByText'](_0x38a067['mmgKv'])['click'](),H[_0x4343d7(0x362)]()[_0x4343d7(0x29e)](_0x545402)[_0x4343d7(0x384)](),H[_0x4343d7(0x3e7)](),cy[_0x4343d7(0x3e1)](_0x38a067[_0x4343d7(0xcf)])[_0x4343d7(0x26d)](_0x4343d7(0x2dc),_0x38a067[_0x4343d7(0x315)]);});}),describe(_0x2888da(0x25f),()=>{const _0x4d6045=_0x2888da,_0x4af13b={'EERWx':'QKLZb','yocfj':_0x4d6045(0x217),'VkNvS':_0x4d6045(0x98),'PbmAa':_0x4d6045(0x193),'DWdkh':_0x4d6045(0x30c),'MpshW':_0x4d6045(0x176),'vgdDt':_0x4d6045(0x153),'juZYv':_0x4d6045(0x31a),'MPikC':function(_0x1d9166,_0x27fa58){return _0x1d9166(_0x27fa58);},'CxRom':function(_0x41826c,_0x336cf5,_0x4c22de){return _0x41826c(_0x336cf5,_0x4c22de);}},{PRODUCTS_ID:_0x72129c,PRODUCTS:_0x178181}=SAMPLE_DATABASE,_0x2685fb={'dataset_query':{'type':_0x4af13b[_0x4d6045(0x3e5)],'query':{'source-query':{'source-table':_0x72129c,'aggregation':[[_0x4af13b[_0x4d6045(0x26e)]],[_0x4af13b[_0x4d6045(0x142)],[_0x4d6045(0x153),_0x178181['PRICE'],null]],[_0x4af13b[_0x4d6045(0x142)],[_0x4af13b[_0x4d6045(0x14b)],_0x178181[_0x4d6045(0x374)],null]]],'breakout':[[_0x4d6045(0x153),_0x178181['CATEGORY'],null]]},'expressions':{'Math':['+',0x1,0x1]}},'database':SAMPLE_DB_ID},'display':_0x4af13b[_0x4d6045(0x32e)]};_0x4af13b[_0x4d6045(0x1fe)](beforeEach,()=>{const _0x3de674=_0x4d6045;H[_0x3de674(0x32a)](),cy['signInAsAdmin']();}),_0x4af13b[_0x4d6045(0x1ac)](it,_0x4d6045(0x325),()=>{const _0x52ecd1=_0x4d6045;if('klvQU'===_0x4af13b[_0x52ecd1(0x263)])_0x5c695c[_0x52ecd1(0x32a)](),_0x5c8918[_0x52ecd1(0x1a6)]();else{const _0x255130=_0x4af13b[_0x52ecd1(0x303)][_0x52ecd1(0x292)]('|');let _0x322687=0x0;while(!![]){switch(_0x255130[_0x322687++]){case'0':H[_0x52ecd1(0x350)](0x1)[_0x52ecd1(0x1d3)](_0x52ecd1(0x1d9))['click']();continue;case'1':H['setFilter'](_0x52ecd1(0x1ba),'All\x20Options');continue;case'2':H[_0x52ecd1(0x362)]()['contains']('Created\x20At');continue;case'3':H[_0x52ecd1(0x3a5)](_0x2685fb);continue;case'4':H['saveQuestion'](_0x4af13b[_0x52ecd1(0x314)]);continue;}break;}}});}),describe('issue\x2019745',()=>{const _0x95f491=_0x2888da,_0x4ccf28={'rQpGA':'not.be.checked','WbBpb':function(_0x415600){return _0x415600();},'SJgHV':_0x95f491(0x37c),'DdFDy':'Remove\x20step','QLfVi':'PUT','NsPOH':'Save','rlrhu':_0x95f491(0x3c0),'YiaLj':_0x95f491(0x381),'elKEZ':_0x95f491(0x1f9),'OKoJK':_0x95f491(0x153),'KNTUd':_0x95f491(0x167),'KdamU':function(_0x3f22bf,_0x5311d7){return _0x3f22bf(_0x5311d7);},'VXRwI':function(_0x528814,_0x24d978,_0x3a0390){return _0x528814(_0x24d978,_0x3a0390);},'lDaDW':function(_0x493772,_0x2a94bd){return _0x493772===_0x2a94bd;},'mNFGC':_0x95f491(0x176),'BZztr':_0x95f491(0x266),'osKjn':function(_0x1d249e,_0x31f9e1){return _0x1d249e!==_0x31f9e1;},'ABMzO':_0x95f491(0x334),'bjNAp':function(_0x47cd1a,_0x439572){return _0x47cd1a(_0x439572);},'uMcns':_0x95f491(0x3c6),'SRYas':_0x95f491(0x30c),'ynomG':_0x95f491(0xac),'xXYFm':_0x95f491(0x37f),'RYbuo':_0x95f491(0x397),'CZmyP':_0x95f491(0x354),'tWjbC':_0x95f491(0x12d),'DTMZj':_0x95f491(0x3b6),'ruUoG':_0x95f491(0x12a),'MwnlC':function(_0x38e863,_0x3a3d53){return _0x38e863(_0x3a3d53);},'OhgJR':_0x95f491(0xc2)},_0xc05330={'display':_0x4ccf28[_0x95f491(0x122)],'query':{'source-query':{'source-table':PRODUCTS_ID,'aggregation':[[_0x4ccf28['SRYas']],[_0x4ccf28['mNFGC'],[_0x4ccf28[_0x95f491(0x133)],PRODUCTS['PRICE'],{'base-type':_0x4ccf28['ynomG']}]]],'breakout':[[_0x95f491(0x153),PRODUCTS[_0x95f491(0x222)],{'base-type':_0x95f491(0x37f)}]]},'fields':[[_0x4ccf28[_0x95f491(0x133)],PRODUCTS[_0x95f491(0x222)],{'base-type':_0x4ccf28['xXYFm']}],[_0x95f491(0x153),_0x4ccf28[_0x95f491(0x2bd)],{'base-type':_0x4ccf28['ynomG']}],['expression',_0x4ccf28[_0x95f491(0x233)]]],'expressions':{'Custom\x20Column':['+',0x1,0x1]}}},_0x5bb2e7={'id':_0x4ccf28['CZmyP'],'name':_0x4ccf28[_0x95f491(0x3b2)],'slug':'date','type':_0x4ccf28[_0x95f491(0x15b)],'sectionId':_0x4ccf28[_0x95f491(0x3be)]},_0x56b63f={'name':_0x4ccf28['ruUoG'],'parameters':[_0x5bb2e7]};function _0x3b1bd9(_0x55190f){const _0x1d585e=_0x95f491,_0x1de66f={'reFZn':_0x1d585e(0x34b),'FdfWj':_0x4ccf28['rQpGA'],'vybhu':function(_0x285a72){const _0x50cdc8=_0x1d585e;return _0x4ccf28[_0x50cdc8(0x1a7)](_0x285a72);},'Wzqea':_0x4ccf28[_0x1d585e(0x3b2)]};H[_0x1d585e(0x188)]({'questionDetails':_0xc05330,'dashboardDetails':_0x56b63f})[_0x1d585e(0x1c9)](({body:{card_id:_0x52427c,dashboard_id:_0x55ef8a}})=>{const _0x1a531e=_0x1d585e,_0x7df72a=_0x1a531e(0x2ce)[_0x1a531e(0x292)]('|');let _0x21db12=0x0;while(!![]){switch(_0x7df72a[_0x21db12++]){case'0':cy[_0x1a531e(0x3af)](_0x1a531e(0x158),{'name':_0x1de66f['reFZn']})[_0x1a531e(0x384)]();continue;case'1':cy[_0x1a531e(0x10a)](_0x1a531e(0x3e9))[_0x1a531e(0x26d)](_0x1de66f[_0x1a531e(0x13e)])[_0x1a531e(0x384)]();continue;case'2':H[_0x1a531e(0x3e7)]();continue;case'3':H[_0x1a531e(0x170)]();continue;case'4':H[_0x1a531e(0x9a)](_0x52427c);continue;case'5':H[_0x1a531e(0x3da)]();continue;case'6':H[_0x1a531e(0xdd)]();continue;case'7':_0x1de66f[_0x1a531e(0x1ca)](_0x55190f);continue;case'8':H[_0x1a531e(0x3de)](H['getDashboardCard'](),_0x1a531e(0x1b2));continue;case'9':H[_0x1a531e(0x3c4)]();continue;case'10':H[_0x1a531e(0xdc)](_0x55ef8a);continue;case'11':cy[_0x1a531e(0x1d3)](_0x1de66f[_0x1a531e(0x101)])[_0x1a531e(0x384)]();continue;case'12':_0x1de66f[_0x1a531e(0x1ca)](_0x54ce56);continue;}break;}});}function _0x473c46(_0x276702){const _0x597f19=_0x95f491;H[_0x597f19(0x252)](_0x597f19(0x9c),{'stage':0x1})[_0x597f19(0x338)](()=>{const _0x326005=_0x597f19;cy['findByText'](_0x276702)[_0x326005(0x338)](()=>{const _0x18a702=_0x326005;cy['icon'](_0x18a702(0xae))[_0x18a702(0x384)]();});});}function _0x1fda80(){const _0x77d8b7=_0x95f491;H[_0x77d8b7(0x252)]('expression',{'stage':0x1})[_0x77d8b7(0x338)](()=>{const _0x4dfb52=_0x77d8b7;cy['findByLabelText'](_0x4ccf28[_0x4dfb52(0x247)])[_0x4dfb52(0x384)]({'force':!![]});});}function _0x54ce56(){const _0x52d3b4=_0x95f491;cy[_0x52d3b4(0x182)](_0x4ccf28[_0x52d3b4(0x3a4)],_0x52d3b4(0x93))['as'](_0x52d3b4(0x2f5)),cy[_0x52d3b4(0x1d3)](_0x4ccf28[_0x52d3b4(0x2da)])[_0x52d3b4(0x384)](),cy[_0x52d3b4(0x3e1)](_0x4ccf28[_0x52d3b4(0x1d0)])[_0x52d3b4(0x338)](_0x48bf0a=>{const _0x798196=_0x52d3b4;cy[_0x798196(0x1d3)]('Save')['click']();}),cy[_0x52d3b4(0x1d4)](_0x4ccf28[_0x52d3b4(0xc6)]);}_0x4ccf28[_0x95f491(0x10e)](beforeEach,()=>{const _0x9d4b29=_0x95f491,_0x4005ae={'GfANW':_0x4ccf28[_0x9d4b29(0x18f)],'RHfrO':'Done','lpgRW':_0x9d4b29(0x17f),'novHo':_0x9d4b29(0x3ad),'sCEXv':_0x4ccf28['OKoJK'],'WoFcW':_0x4ccf28[_0x9d4b29(0x3cc)],'ZEuqF':function(_0x4c8894,_0x167a4b){const _0x412464=_0x9d4b29;return _0x4ccf28[_0x412464(0x92)](_0x4c8894,_0x167a4b);},'lFftZ':function(_0x36b77c,_0x1e0954,_0x151dca){const _0x472ca0=_0x9d4b29;return _0x4ccf28[_0x472ca0(0x1a4)](_0x36b77c,_0x1e0954,_0x151dca);},'BoAXI':'should\x20allow\x20segments\x20in\x20case\x20custom\x20expressions\x20(metabase#24922)'};if(_0x4ccf28[_0x9d4b29(0x2fe)](_0x9d4b29(0x24c),_0x9d4b29(0x16c))){const _0x527e6d={'name':_0x9d4b29(0x1b8),'description':_0x4005ae[_0x9d4b29(0xaa)],'table_id':_0x4dbbe5,'definition':{'source-table':_0x22876d,'aggregation':[[_0x9d4b29(0x30c)]],'filter':['<',[_0x4005ae[_0x9d4b29(0x1cd)],_0x5b722b['TOTAL'],null],0x64]}},_0x3d393b={'name':_0x9d4b29(0x17f),'formula':_0x4005ae[_0x9d4b29(0x242)]};_0x4005ae[_0x9d4b29(0x2df)](_0x48e0aa,()=>{const _0x2764c1=_0x9d4b29;_0x450cbf[_0x2764c1(0x32a)](),_0x27833e['signInAsAdmin'](),_0x13c172[_0x2764c1(0x390)](_0x527e6d);}),_0x4005ae['lFftZ'](_0x311a1b,_0x4005ae[_0x9d4b29(0x16f)],()=>{const _0x546cc8=_0x9d4b29,_0x2f69ba=_0x546cc8(0x33c)[_0x546cc8(0x292)]('|');let _0x5eae82=0x0;while(!![]){switch(_0x2f69ba[_0x5eae82++]){case'0':_0x2888d0['enterCustomColumnDetails'](_0x3d393b);continue;case'1':_0x50959b['findByText'](_0x4005ae[_0x546cc8(0xd3)])[_0x546cc8(0x384)]();continue;case'2':_0x1819aa[_0x546cc8(0x158)](_0x4005ae['RHfrO'])[_0x546cc8(0x384)]();continue;case'3':_0x1c3bf4[_0x546cc8(0x168)]({'mode':_0x546cc8(0x333)});continue;case'4':_0x5ddb59[_0x546cc8(0x3e7)]();continue;case'5':_0x249d91['findByText'](_0x4005ae[_0x546cc8(0x25a)])[_0x546cc8(0x26d)]('be.visible');continue;}break;}});}else H[_0x9d4b29(0x32a)](),cy['signInAsAdmin']();}),_0x4ccf28[_0x95f491(0x1a4)](it,_0x4ccf28['OhgJR'],()=>{const _0x96b39a=_0x95f491,_0x4dddb1={'UNoIg':_0x96b39a(0x321),'brgqY':_0x96b39a(0x189),'QGIQE':_0x4ccf28[_0x96b39a(0x2bd)],'daAhX':_0x96b39a(0x32f),'AYSJu':function(_0x169744,_0x5a89e9,_0x4ebdbe){return _0x169744(_0x5a89e9,_0x4ebdbe);}};if(_0x4ccf28[_0x96b39a(0x2fe)](_0x4ccf28[_0x96b39a(0x88)],_0x4ccf28[_0x96b39a(0x88)]))_0x4ccf28['KdamU'](_0x3b1bd9,()=>_0x473c46(_0x96b39a(0x397)));else{const _0x26305e='Custom\x20Created\x20At',_0x3f4705={'name':_0x4dddb1[_0x96b39a(0x396)],'query':{'source-query':{'source-table':_0x2a0796,'aggregation':[[_0x96b39a(0x30c)]],'breakout':[[_0x96b39a(0x153),_0x8cfc72['CREATED_AT'],{'temporal-unit':_0x96b39a(0x39b)}]]},'expressions':{[_0x26305e]:[_0x96b39a(0x153),_0x96b39a(0x196),{'base-type':_0x96b39a(0x1cb)}]}}};_0x296153(()=>{const _0x4acf98=_0x96b39a;_0x553ec8[_0x4acf98(0x32a)](),_0x4a5479[_0x4acf98(0x3a1)](),_0x17ca47[_0x4acf98(0x1e5)](_0x3f4705,{'visitQuestion':!![]});}),_0x4dddb1[_0x96b39a(0x22c)](_0x2b3a97,_0x96b39a(0x35a),()=>{const _0x2da6b=_0x96b39a,_0x35852d=_0x4dddb1[_0x2da6b(0xd6)][_0x2da6b(0x292)]('|');let _0x45bb19=0x0;while(!![]){switch(_0x35852d[_0x45bb19++]){case'0':_0x83403b[_0x2da6b(0x3e7)]();continue;case'1':_0x5e549f['openNotebook']();continue;case'2':_0x4285c1[_0x2da6b(0x3e1)](_0x4dddb1[_0x2da6b(0x2b4)])[_0x2da6b(0x26d)](_0x2da6b(0x2dc),_0x2da6b(0x1c5));continue;case'3':_0xbd2842[_0x2da6b(0x1d3)]('Count\x20of\x20rows')[_0x2da6b(0x384)]();continue;case'4':_0x3e1676['icon'](_0x4dddb1['QGIQE'])[_0x2da6b(0x384)]();continue;case'5':_0x29b9ba[_0x2da6b(0x362)]()['contains'](_0x26305e)['click']();continue;case'6':_0x3e5770[_0x2da6b(0x1d3)](_0x2da6b(0x3b0))['click']();continue;}break;}});}}),it(_0x95f491(0x1e1),()=>{const _0xc26d52=_0x95f491;if(_0x4ccf28[_0xc26d52(0x20c)](_0x4ccf28[_0xc26d52(0xe0)],_0xc26d52(0x334))){_0x9f8df9[_0xc26d52(0x32a)](),_0x4d9b43[_0xc26d52(0x1a6)]();const _0x3c2f4c={'query':{'source-table':_0x30581e,'fields':[[_0x4ccf28[_0xc26d52(0x133)],_0x4a770f['ID'],null]],'limit':0x1}};_0x5e6cb3[_0xc26d52(0x1e5)](_0x3c2f4c,{'visitQuestion':!![]}),_0x502478[_0xc26d52(0x170)]();}else _0x4ccf28[_0xc26d52(0x16b)](_0x3b1bd9,()=>_0x1fda80());});}),describe(_0x2888da(0x2dd),()=>{const _0x2233c1=_0x2888da,_0x3acd7b={'raodu':_0x2233c1(0x258),'HoAKr':_0x2233c1(0x80),'zyJEI':function(_0x246c26){return _0x246c26();},'miXuP':function(_0x6bfb2e){return _0x6bfb2e();},'ghPma':_0x2233c1(0x1ad),'Kdqip':_0x2233c1(0x102),'YNKmV':'expensive','ZarcT':_0x2233c1(0x22f)},_0x1b5323={'name':_0x3acd7b[_0x2233c1(0x186)],'type':_0x2233c1(0x193),'query':{'source-table':ORDERS_ID,'expressions':{'Adjective':[_0x3acd7b['Kdqip'],[[['>',[_0x2233c1(0x153),ORDERS['TOTAL'],null],0x64],_0x3acd7b[_0x2233c1(0x309)]]],{'default':_0x3acd7b[_0x2233c1(0x26a)]}]},'limit':0xa}};function _0x6a117b(){const _0x1a826d=_0x2233c1;cy[_0x1a826d(0x1d3)](_0x1a826d(0x378)),cy[_0x1a826d(0x29e)](_0x1a826d(0x3e8)),cy[_0x1a826d(0x29e)](_0x1a826d(0x22f));}function _0x4d1c0f(_0x4d3a0b){const _0x3dbaa3=_0x2233c1;cy[_0x3dbaa3(0x1d3)](_0x4d3a0b)[_0x3dbaa3(0x37d)]()[_0x3dbaa3(0x389)]('.Icon-check')[_0x3dbaa3(0x384)]({'force':!![]});}beforeEach(()=>{const _0x8abe02=_0x2233c1;H['restore'](),cy[_0x8abe02(0x3a1)](),H[_0x8abe02(0x1e5)](_0x1b5323,{'visitQuestion':!![]});}),it(_0x2233c1(0x281),()=>{const _0x58d18c=_0x2233c1,_0x27b9b4={'KKHtM':function(_0x4b177e){return _0x4b177e();},'wxaUh':_0x3acd7b[_0x58d18c(0x352)],'OWiZe':function(_0x34c6b6,_0x28eb9e){return _0x34c6b6(_0x28eb9e);},'BxahX':_0x3acd7b[_0x58d18c(0x262)]};_0x3acd7b[_0x58d18c(0xfc)](_0x6a117b),H['openNotebook'](),cy[_0x58d18c(0x268)](_0x58d18c(0x258))['click'](),H[_0x58d18c(0x362)]()[_0x58d18c(0x338)](()=>{const _0x4c7ac0=_0x58d18c,_0x24ddb7={'QOpJn':function(_0x539015){const _0xb6ecb8=_0x3c36;return _0x27b9b4[_0xb6ecb8(0x3cd)](_0x539015);},'jBddo':_0x27b9b4[_0x4c7ac0(0x20e)]};_0x4c7ac0(0x132)!==_0x4c7ac0(0x2cc)?_0x27b9b4[_0x4c7ac0(0x363)](_0x4d1c0f,_0x27b9b4[_0x4c7ac0(0x31e)]):(_0x24ddb7[_0x4c7ac0(0x145)](_0x54f52f),_0x2ff7c7[_0x4c7ac0(0x170)](),_0x110bcc[_0x4c7ac0(0x268)](_0x24ddb7[_0x4c7ac0(0x2f0)])[_0x4c7ac0(0x384)](),_0x2b3ac2['popover']()[_0x4c7ac0(0x338)](()=>{const _0x7cb793=_0x4c7ac0;_0x1d8f4b(_0x7cb793(0x80));}),_0x533c77[_0x4c7ac0(0x3e7)](),_0x24ddb7[_0x4c7ac0(0x145)](_0x459041));}),H[_0x58d18c(0x3e7)](),_0x3acd7b[_0x58d18c(0xa2)](_0x6a117b);});}),describe(_0x2888da(0x84),()=>{const _0x380624=_0x2888da,_0xa78804={'SxSQs':function(_0x64a4dc,_0x5783d3){return _0x64a4dc(_0x5783d3);},'PGvDY':function(_0x145ca6,_0x83dc98){return _0x145ca6===_0x83dc98;},'spZel':'/api/dataset','NPwrD':'step-expression-0-0','uHrpU':_0x380624(0x2c9),'Grgtb':'notebook-cell-item','kwctZ':_0x380624(0x287),'bDrts':_0x380624(0x2e4),'jVjKL':_0x380624(0x153)},_0x541fa9={'name':_0x380624(0x36c),'query':{'source-table':PRODUCTS_ID,'limit':0x5,'expressions':{'Price':['+',[_0xa78804[_0x380624(0x1b4)],PRODUCTS[_0x380624(0x248)],null],0x2]}}};function _0x3919c5(){const _0x1c73ea=_0x380624,_0x21e8f4={'scWjT':function(_0x3448e8,_0x3b614f){const _0x2acf06=_0x3c36;return _0xa78804[_0x2acf06(0xdf)](_0x3448e8,_0x3b614f);}};_0xa78804['PGvDY'](_0x1c73ea(0x3b5),_0x1c73ea(0x127))?_0x21e8f4['scWjT'](_0x12e9c3,_0x1ad82a[_0x1c73ea(0x347)](_0x2c0a12[0x0]))['to']['be'][_0x1c73ea(0x328)]:(cy[_0x1c73ea(0x182)](_0x1c73ea(0x307),_0xa78804[_0x1c73ea(0x12e)])['as'](_0x1c73ea(0x8e)),cy[_0x1c73ea(0x3e1)](_0xa78804[_0x1c73ea(0x202)])['find']('.Icon-play')[_0x1c73ea(0x384)](),cy['wait'](_0xa78804[_0x1c73ea(0x2cb)]));}beforeEach(()=>{const _0x49bc8b=_0x380624;H[_0x49bc8b(0x32a)](),cy['signInAsAdmin'](),H[_0x49bc8b(0x1e5)](_0x541fa9,{'visitQuestion':!![]}),H[_0x49bc8b(0x170)]();}),it(_0x380624(0x1fa),()=>{const _0x1834a0=_0x380624,_0x4edd07={'ZNwfM':_0x1834a0(0x211)};cy[_0x1834a0(0x268)](_0xa78804[_0x1834a0(0x13d)])[_0x1834a0(0x29e)](_0x1834a0(0x1c8))[_0x1834a0(0x384)](),cy['button'](_0xa78804[_0x1834a0(0x238)])[_0x1834a0(0x384)](),_0x3919c5(),cy[_0x1834a0(0x3e1)](_0xa78804[_0x1834a0(0x2ff)])[_0x1834a0(0x338)](()=>{const _0x3d2f08=_0x1834a0;cy[_0x3d2f08(0x1d3)](_0x3d2f08(0x94)),cy[_0x3d2f08(0xc3)]('Price')[_0x3d2f08(0x26d)](_0x3d2f08(0x336),0x2),cy[_0x3d2f08(0x1d3)]('29.46'),cy[_0x3d2f08(0x1d3)](_0x4edd07['ZNwfM']);});});}),describe('issue\x2021513',()=>{const _0x5501bb=_0x2888da,_0x2972d4={'XNAid':'notebook','hUzTC':_0x5501bb(0x3b0),'rwILQ':_0x5501bb(0x2ae),'GNVDF':'Custom\x20column','WnJTb':_0x5501bb(0x37a),'PQiPX':_0x5501bb(0xf4),'KmTVb':function(_0x109e9b,_0x175c09,_0x51687f){return _0x109e9b(_0x175c09,_0x51687f);}};beforeEach(()=>{const _0x3ae1c9=_0x5501bb;H['restore'](),cy[_0x3ae1c9(0x3a1)]();}),_0x2972d4['KmTVb'](it,'should\x20handle\x20cc\x20with\x20the\x20same\x20name\x20as\x20an\x20aggregation\x20function\x20(metabase#21513)',()=>{const _0x501995=_0x5501bb;H[_0x501995(0x331)]({'mode':_0x2972d4[_0x501995(0x106)]}),H[_0x501995(0x277)]({'mode':_0x2972d4[_0x501995(0x106)]}),H['popover']()['findByText'](_0x501995(0x3dc))['click'](),cy[_0x501995(0x1d3)](_0x2972d4[_0x501995(0x1f0)])[_0x501995(0x384)](),H[_0x501995(0x362)]()['findByText'](_0x2972d4[_0x501995(0x174)])[_0x501995(0x384)](),cy[_0x501995(0x1d3)](_0x2972d4[_0x501995(0x383)])[_0x501995(0x384)](),H['enterCustomColumnDetails']({'formula':_0x501995(0x1b6),'name':'Double\x20Count'}),cy[_0x501995(0x158)](_0x2972d4['WnJTb'])['should'](_0x2972d4[_0x501995(0x2c0)]);});}),describe(_0x2888da(0x216),()=>{const _0x81c665=_0x2888da,_0x44e64d={'fNVsI':'query','wbqkb':'table','bkLaE':_0x81c665(0x153),'uZQej':_0x81c665(0x371),'IRfbj':'sum','keEjO':function(_0xa1531f,_0x238721,_0x52a293){return _0xa1531f(_0x238721,_0x52a293);},'vnPkK':_0x81c665(0x26c)},_0x25f9cd={'name':'23862','query':{'source-table':ORDERS_ID,'expressions':{'CC':[_0x81c665(0x102),[[['>',[_0x44e64d[_0x81c665(0x195)],ORDERS[_0x81c665(0x34f)],null],0xa],_0x44e64d[_0x81c665(0x2ee)]]],{'default':_0x81c665(0xd0)}]},'aggregation':[[_0x44e64d[_0x81c665(0x148)],[_0x44e64d['bkLaE'],ORDERS['TOTAL'],null]]],'breakout':[[_0x81c665(0x9c),'CC']]}};beforeEach(()=>{const _0x3fbbf4=_0x81c665;H['restore'](),cy[_0x3fbbf4(0x3a1)]();}),_0x44e64d[_0x81c665(0x22e)](it,_0x44e64d['vnPkK'],()=>{const _0x4a6819=_0x81c665;H['createQuestion'](_0x25f9cd)[_0x4a6819(0x1c9)](({body:{id:_0x55e9e4}})=>{const _0x4b9000=_0x4a6819;H[_0x4b9000(0x3a5)]({'dataset_query':{'type':_0x44e64d['fNVsI'],'query':{'source-table':_0x4b9000(0x2ba)+_0x55e9e4},'database':SAMPLE_DB_ID},'display':_0x44e64d[_0x4b9000(0xf7)]},{'callback':_0x3a4989=>expect(_0x3a4989[_0x4b9000(0x2e1)][_0x4b9000(0x83)][_0x4b9000(0xa1)])[_0x4b9000(0xe6)]['to'][_0x4b9000(0x8f)]});}),cy['findByText'](_0x4a6819(0xd0)),cy[_0x4a6819(0x1d3)](_0x4a6819(0x192));});}),describe(_0x2888da(0x114),()=>{const _0x5d0ad0=_0x2888da,_0x251559={'tLJkH':'case([Product\x20->\x20Category]\x20=\x20\x22Widget\x22,\x201,','qvTlg':'Enter','cjzuH':_0x5d0ad0(0x36e),'qCrEb':'ggPBK','sJyBw':'1|4|2|3|0|5','BzSpq':_0x5d0ad0(0x333),'lQIHf':_0x5d0ad0(0x1f9),'Isyqw':_0x5d0ad0(0x17f),'IWYbH':'OrdersSegment','rNjmU':_0x5d0ad0(0x153),'zrpgW':_0x5d0ad0(0x167),'VSyJa':function(_0x53fb64,_0x3200dd,_0x17d665){return _0x53fb64(_0x3200dd,_0x17d665);}},_0x2cbc74={'name':_0x251559[_0x5d0ad0(0xfe)],'description':_0x5d0ad0(0x3ad),'table_id':ORDERS_ID,'definition':{'source-table':ORDERS_ID,'aggregation':[[_0x5d0ad0(0x30c)]],'filter':['<',[_0x251559['rNjmU'],ORDERS[_0x5d0ad0(0x34f)],null],0x64]}},_0x29c1f1={'name':'CustomColumn','formula':_0x251559[_0x5d0ad0(0x1ef)]};beforeEach(()=>{const _0x1cf1d1=_0x5d0ad0;H[_0x1cf1d1(0x32a)](),cy[_0x1cf1d1(0x3a1)](),H[_0x1cf1d1(0x390)](_0x2cbc74);}),_0x251559[_0x5d0ad0(0x30b)](it,_0x5d0ad0(0x14e),()=>{const _0x1698c2=_0x5d0ad0;if(_0x1698c2(0x24b)!==_0x251559[_0x1698c2(0x3ae)]){const _0x4f84bb=_0x251559[_0x1698c2(0x38e)][_0x1698c2(0x292)]('|');let _0x36ce8e=0x0;while(!![]){switch(_0x4f84bb[_0x36ce8e++]){case'0':H[_0x1698c2(0x3e7)]();continue;case'1':H[_0x1698c2(0x168)]({'mode':_0x251559['BzSpq']});continue;case'2':H[_0x1698c2(0x2f4)](_0x29c1f1);continue;case'3':cy[_0x1698c2(0x158)]('Done')['click']();continue;case'4':cy[_0x1698c2(0x1d3)](_0x251559[_0x1698c2(0x1c3)])[_0x1698c2(0x384)]();continue;case'5':cy[_0x1698c2(0x1d3)](_0x251559['Isyqw'])[_0x1698c2(0x26d)](_0x1698c2(0xbb));continue;}break;}}else _0x5f37d5[_0x1698c2(0x23c)](),_0x1edf39[_0x1698c2(0x1fb)][_0x1698c2(0x25c)](_0x251559['tLJkH']),_0x288198[_0x1698c2(0x32d)](_0x251559[_0x1698c2(0x2ea)]),_0x42ea34[_0x1698c2(0x1fb)][_0x1698c2(0x25c)]('[Product\x20->\x20Categ',{'focus':![]}),_0x18558d[_0x1698c2(0x32d)](_0x251559[_0x1698c2(0x2b2)]),_0x3e3344[_0x1698c2(0x1fb)][_0x1698c2(0x1eb)]()[_0x1698c2(0x26d)]('equal',_0xad99e9`
        case([Product → Category] = "Widget", 1,
        [Product → Category])
      `);});}),describe[_0x2888da(0x2cf)](_0x2888da(0x294),()=>{const _0x16dc02=_0x2888da,_0x49da24={'mlaHR':'Custom\x20Column','vlNoe':function(_0x4466d1,_0x495e2a){return _0x4466d1!==_0x495e2a;},'Qtxyr':_0x16dc02(0x212),'qIUCc':_0x16dc02(0x307),'eyvSG':_0x16dc02(0xec),'YAaAl':_0x16dc02(0x344),'zdDZk':_0x16dc02(0x243),'NuKZD':_0x16dc02(0x379),'YooTT':_0x16dc02(0x31b),'tfRSz':_0x16dc02(0x2dc),'ZeVnz':_0x16dc02(0x2c9),'KwqYr':_0x16dc02(0xff),'Drgde':_0x16dc02(0x332),'uMXtR':_0x16dc02(0x28a),'oUFos':'25189','CwhKP':function(_0xc856c,_0x5013a3,_0x193f8d){return _0xc856c(_0x5013a3,_0x193f8d);}},_0x2c09ff=_0x49da24['Drgde'],_0x571759=_0x49da24[_0x16dc02(0x172)],_0x4b3784={'name':_0x49da24[_0x16dc02(0x2ad)],'query':{'source-table':ORDERS_ID,'limit':0x5,'expressions':{[_0x2c09ff]:['field',ORDERS['CREATED_AT'],null],[_0x571759]:[_0x16dc02(0x102),[[['>',['field',ORDERS[_0x16dc02(0x34f)],null],0x64],'Yay']],{'default':_0x16dc02(0x3c2)}]}}};beforeEach(()=>{const _0x367b05=_0x16dc02,_0x9db4f0={'HmYhl':_0x49da24[_0x367b05(0x3cb)],'NOuqM':function(_0x599a5f,_0x3423e4){const _0x401966=_0x367b05;return _0x49da24[_0x401966(0x358)](_0x599a5f,_0x3423e4);},'XDYUR':'case([Tax]\x20>\x201,\x20case([Total]\x20>\x20200,\x20[Total],\x20\x22Nothing\x22),\x20[Tax]){leftarrow}{leftarrow}{uparrow}x{downarrow}y'};_0x367b05(0x30d)!==_0x49da24[_0x367b05(0x1b5)]?(cy[_0x367b05(0x182)](_0x49da24[_0x367b05(0x218)],_0x49da24[_0x367b05(0x2bc)])['as'](_0x367b05(0x8e)),H[_0x367b05(0x32a)](),cy[_0x367b05(0x3a1)](),H['createQuestion'](_0x4b3784)['then'](({body:{id:_0x75a12}})=>{const _0x217e3b=_0x367b05;if(_0x9db4f0[_0x217e3b(0x21d)](_0x217e3b(0x29c),'nKihD'))H['createQuestion']({'name':_0x217e3b(0x3e3),'query':{'source-table':_0x217e3b(0x2ba)+_0x75a12}},{'visitQuestion':!![]});else{const _0x33a959={'CtGKv':_0x217e3b(0x1dd)};_0x6deb00[_0x217e3b(0xc7)](_0x217e3b(0x33b)),_0x4470c7[_0x217e3b(0x10a)](_0x9db4f0['HmYhl'])['click'](),_0x3e679c[_0x217e3b(0x362)]()['within'](()=>{const _0x1a600c=_0x217e3b;_0x140f17[_0x1a600c(0x1b3)]('[contenteditable=\x27true\x27]')[_0x1a600c(0x25c)](_0x1a600c(0x155)+_0x498043+'\x22)')[_0x1a600c(0x1d7)](),_0x1375db[_0x1a600c(0xc7)](_0x33a959['CtGKv']),_0x110852[_0x1a600c(0x29e)](_0x16a84c);});}})):(_0xbb2e6f['enterCustomColumnDetails']({'formula':_0x9db4f0['XDYUR']}),_0x393dd5[_0x367b05(0x1fb)][_0x367b05(0x1eb)]()[_0x367b05(0x26d)](_0x367b05(0x11c),'case([Tax]\x20>\x201,\x20xcase([Total]\x20>\x20200,\x20[Total],\x20\x22Nothing\x22),\x20[Tax]y)'));}),_0x49da24['CwhKP'](it,_0x16dc02(0x11e),()=>{const _0x5477b6=_0x16dc02,_0x4b78fe={'KEdeI':_0x49da24['zdDZk'],'BRFLH':_0x49da24[_0x5477b6(0x2e6)],'NpqmN':_0x5477b6(0x108)};cy[_0x5477b6(0x268)](_0x49da24[_0x5477b6(0x199)])[_0x5477b6(0x26d)](_0x5477b6(0x2dc),_0x571759)[_0x5477b6(0x1aa)](_0x49da24[_0x5477b6(0x269)],_0x2c09ff),H['filter'](),H['modal']()[_0x5477b6(0x338)](()=>{const _0x4e7620=_0x5477b6;cy[_0x4e7620(0x1d3)](_0x571759),cy[_0x4e7620(0x1d3)](_0x2c09ff),cy['findByText'](_0x4e7620(0x339))[_0x4e7620(0x384)](),cy[_0x4e7620(0x158)](_0x4b78fe[_0x4e7620(0x17d)])['click']();}),cy[_0x5477b6(0x1d4)](_0x49da24[_0x5477b6(0x223)]),cy[_0x5477b6(0x1d3)](_0x5477b6(0x13c)),H['summarize'](),cy[_0x5477b6(0x3e1)](_0x49da24[_0x5477b6(0x382)])[_0x5477b6(0x338)](()=>{const _0x260ad3=_0x5477b6;_0x260ad3(0x344)!==_0x49da24[_0x260ad3(0x123)]?(_0x4af661[_0x260ad3(0x1e5)](_0x501adc,{'visitQuestion':!![]}),_0x5dcb5f[_0x260ad3(0x170)](),_0x3bcd20[_0x260ad3(0x177)]({'mode':_0x260ad3(0x333)}),_0x1ae0e6['popover']()[_0x260ad3(0x1d3)](_0x11b48d)[_0x260ad3(0x384)](),_0x5db705[_0x260ad3(0x152)](_0x4b78fe[_0x260ad3(0x228)]),_0xdde48b['clauseStepPopover']()['within'](()=>{const _0x6329bc=_0x260ad3;_0x199a99['multiAutocompleteInput']()[_0x6329bc(0x25c)]('3'),_0x1527f5['button']('Add\x20filter')['click']();}),_0x17f562[_0x260ad3(0x3e7)](),_0x490662[_0x260ad3(0x1d3)](_0x9b6485+_0x260ad3(0x17c)),_0x220324[_0x260ad3(0x1d3)](_0x4b78fe[_0x260ad3(0x302)])['should'](_0x260ad3(0x2b3))):(cy[_0x260ad3(0x1d3)](_0x571759),cy[_0x260ad3(0x1d3)](_0x2c09ff));});});}),['postgres'][_0x2888da(0x301)](_0x3fc9cd=>{const _0x15e351=_0x2888da,_0x8908a0={'xKYCz':_0x15e351(0x124),'yVQjf':_0x15e351(0x385),'yjcEL':_0x15e351(0x1f9),'zuQPM':'case([ID]\x20>\x201,\x2025,\x205)','XoQyg':'@dataset','VToTM':'/api/search*','MhLFI':_0x15e351(0xfb),'VJKjA':function(_0x1fd01a,_0x1df6b9){return _0x1fd01a(_0x1df6b9);},'NnCOS':function(_0x31e29a,_0x186f65,_0x21aaae){return _0x31e29a(_0x186f65,_0x21aaae);},'zOwLW':function(_0x54dd82,_0x1f4c24,_0x29da9e,_0x36b610){return _0x54dd82(_0x1f4c24,_0x29da9e,_0x36b610);},'jjmmq':_0x15e351(0xaf)};_0x8908a0['zOwLW'](describe,_0x15e351(0x3a6)+_0x3fc9cd+')',{'tags':_0x8908a0['jjmmq']},()=>{const _0x42170b=_0x15e351,_0x5f1d21={'FCMHh':_0x8908a0['VToTM'],'kwChS':_0x8908a0[_0x42170b(0x1bf)],'kYsjt':_0x42170b(0x307),'qypnz':_0x42170b(0xb6),'gKKVN':_0x42170b(0x29f)},_0x43625c='colors27745';_0x8908a0[_0x42170b(0x2b0)](beforeEach,()=>{const _0x152960=_0x42170b,_0x39934d='0|3|4|2|1'['split']('|');let _0x5554f7=0x0;while(!![]){switch(_0x39934d[_0x5554f7++]){case'0':H['restore'](_0x3fc9cd+'-writable');continue;case'1':cy['intercept']('GET',_0x5f1d21['FCMHh'])['as'](_0x5f1d21['kwChS']);continue;case'2':cy[_0x152960(0xbe)](_0x5f1d21[_0x152960(0x7e)],'/api/database/'+WRITABLE_DB_ID+_0x152960(0x204));continue;case'3':cy[_0x152960(0x3a1)]();continue;case'4':H[_0x152960(0x165)]({'type':_0x3fc9cd,'table':_0x43625c});continue;}break;}}),_0x8908a0[_0x42170b(0x2f7)](it,'should\x20display\x20all\x20summarize\x20options\x20if\x20the\x20only\x20numeric\x20field\x20is\x20a\x20custom\x20column\x20(metabase#27745)',()=>{const _0x5e3a74=_0x42170b,_0x174001={'mEIuX':_0x5e3a74(0x1e4),'vlGgA':_0x8908a0[_0x5e3a74(0x275)],'pjJPE':_0x8908a0[_0x5e3a74(0x134)]};H['startNewQuestion'](),H[_0x5e3a74(0x135)]()[_0x5e3a74(0x338)](()=>{const _0x4e62e9=_0x5e3a74;H[_0x4e62e9(0xea)](_0x4e62e9(0x39a))[_0x4e62e9(0x384)](),cy[_0x4e62e9(0x205)](_0x5f1d21[_0x4e62e9(0x37e)])[_0x4e62e9(0x25c)](_0x4e62e9(0x116)),cy[_0x4e62e9(0x1d3)](_0x4e62e9(0x1c2))['click'](),cy[_0x4e62e9(0x1d4)](_0x4e62e9(0x125)),cy['findByTestId'](_0x5f1d21[_0x4e62e9(0x2d3)])['contains'](/colors/i)[_0x4e62e9(0x384)]();}),cy[_0x5e3a74(0x10a)](_0x8908a0[_0x5e3a74(0xed)])[_0x5e3a74(0x384)](),H[_0x5e3a74(0x2f4)]({'formula':_0x8908a0[_0x5e3a74(0x15e)],'name':_0x5e3a74(0x1c4)}),cy[_0x5e3a74(0x158)]('Done')[_0x5e3a74(0x384)](),H[_0x5e3a74(0x3e7)](),H['tableHeaderClick']('Numeric'),H[_0x5e3a74(0x362)]()[_0x5e3a74(0x1d3)](/^Sum$/)[_0x5e3a74(0x384)](),cy[_0x5e3a74(0x1d4)](_0x8908a0[_0x5e3a74(0x1ab)]),cy[_0x5e3a74(0x3e1)](_0x5e3a74(0x2d5))[_0x5e3a74(0x386)]('text')[_0x5e3a74(0x26d)]('eq','55'),cy[_0x5e3a74(0x3e1)]('sidebar-right')[_0x5e3a74(0x26d)](_0x5e3a74(0xbb))[_0x5e3a74(0x338)](()=>{const _0x501e09=_0x5e3a74,_0x16ef66={'pGhJK':_0x174001[_0x501e09(0x284)],'IBfaO':'be.visible'};_0x501e09(0x124)===_0x174001[_0x501e09(0x346)]?cy[_0x501e09(0x3e1)](_0x174001[_0x501e09(0x2e2)])['should']('contain','Sum\x20of\x20Numeric'):(_0x3852da[_0x501e09(0xea)](_0x16ef66[_0x501e09(0x14d)])[_0x501e09(0x384)](),_0x54d825[_0x501e09(0x1d3)](_0x193f5a)[_0x501e09(0x26d)](_0x16ef66[_0x501e09(0xf9)])[_0x501e09(0x384)](),_0x5b2e[_0x501e09(0xc4)](_0x501e09(0x364))[_0x501e09(0x384)]());});});});}),describe(_0x2888da(0x30e),()=>{const _0x405344=_0x2888da,_0x54c815={'wTBPu':_0x405344(0x307),'jUzMY':_0x405344(0xec),'AJxwU':function(_0x811b3,_0x397b01){return _0x811b3===_0x397b01;},'zZDtK':_0x405344(0x1e2),'Tavop':_0x405344(0x20f),'rMxsg':'Is\x20xavier','LMWCq':_0x405344(0x2c9),'WZJKE':_0x405344(0x153),'CYyWp':'expression','AfYKr':_0x405344(0x37f),'mpmzY':function(_0x1d4c8c,_0x3646ab){return _0x1d4c8c(_0x3646ab);},'PMZcA':function(_0x85c25a,_0x427654,_0x2d3e19){return _0x85c25a(_0x427654,_0x2d3e19);},'TfoQo':_0x405344(0x3d9)},_0x16ad56={'source-table':REVIEWS_ID,'expressions':{'Custom\x20Reviewer':[_0x54c815[_0x405344(0x1a0)],REVIEWS[_0x405344(0x3dd)],null]},'fields':[[_0x405344(0x153),REVIEWS['ID'],{'base-type':_0x405344(0x285)}],['field',REVIEWS[_0x405344(0x3dd)],{'base-type':_0x405344(0x37f)}],[_0x54c815[_0x405344(0x3d3)],_0x405344(0xb7),{'base-type':_0x54c815[_0x405344(0xc5)]}]]};_0x54c815['mpmzY'](beforeEach,()=>{const _0x97a25e=_0x405344;H[_0x97a25e(0x32a)](),cy['signInAsAdmin'](),H[_0x97a25e(0x1e5)]({'query':_0x16ad56},{'visitQuestion':!![]}),cy[_0x97a25e(0x182)](_0x54c815[_0x97a25e(0xca)],_0x54c815[_0x97a25e(0x221)])['as']('dataset');}),_0x54c815[_0x405344(0x1a2)](it,_0x54c815['TfoQo'],()=>{const _0x5c0adf=_0x405344;_0x54c815[_0x5c0adf(0x3a3)](_0x5c0adf(0x1e2),_0x54c815['zZDtK'])?(H[_0x5c0adf(0x139)]()[_0x5c0adf(0xc3)](_0x54c815[_0x5c0adf(0xf5)])['eq'](0x1)['click'](),H[_0x5c0adf(0x362)]()[_0x5c0adf(0x1d3)](_0x54c815[_0x5c0adf(0x2c5)])[_0x5c0adf(0x384)](),cy[_0x5c0adf(0x1d4)](_0x54c815[_0x5c0adf(0xa9)]),H[_0x5c0adf(0x353)]()[_0x5c0adf(0x1d3)](/There was a problem/i)['should']('not.exist'),H[_0x5c0adf(0x139)]()['findAllByText'](_0x54c815[_0x5c0adf(0xf5)])['should'](_0x5c0adf(0x336),0x2)):(_0x5c1a04(_0x3e6e55)['to']['have'][_0x5c0adf(0x360)](_0x5c0adf(0x327),_0x5c0adf(0x357)),_0x214936[_0x5c0adf(0x360)]('target','_self'));});}),describe['skip'](_0x2888da(0x2a4),()=>{const _0x22e325=_0x2888da,_0x313f40={'qnROR':_0x22e325(0x19e),'Ylcgm':_0x22e325(0x196),'QRxuT':'Year','JnnQX':_0x22e325(0x200),'RsLkW':_0x22e325(0x25b),'QPhVs':'be.visible','hiCjh':'Escape','QfxgG':'Verify\x20header\x20drills\x20-\x20V','pMeRa':'not.exist','OMMIy':_0x22e325(0x220),'AkYMa':_0x22e325(0xcd),'qyHEi':_0x22e325(0x32b),'sffjb':_0x22e325(0x250),'DLUoI':_0x22e325(0xb3),'aSLQM':_0x22e325(0x35e),'ElOmN':_0x22e325(0x31b),'ltJzX':_0x22e325(0x3d8),'PYpxl':_0x22e325(0x29a),'WHCbr':'cell-data','POpxp':_0x22e325(0x201),'ebOMT':_0x22e325(0xd2),'OXIPG':'2|6|12|14|9|11|5|1|8|3|7|4|13|10|0','ZzWwh':_0x22e325(0x19c),'kVJlo':_0x22e325(0x330),'pjySB':_0x22e325(0x2af),'rcSqS':_0x22e325(0x187),'PJmGZ':_0x22e325(0x112),'erdom':'should\x20correctly\x20show\x20available\x20shortcuts\x20for\x20a\x20number\x20column\x20(metabase#42949)'};beforeEach(()=>{const _0x4a35de=_0x22e325;H[_0x4a35de(0x32a)](),cy['signInAsAdmin']();}),it(_0x313f40[_0x22e325(0x11f)],()=>{const _0x37abb4=_0x22e325,_0x4a6465={'IIyHy':_0x313f40[_0x37abb4(0x33a)],'WtcUC':_0x37abb4(0x320),'VzqkJ':_0x37abb4(0xbb),'aaOwQ':_0x37abb4(0x173),'QDgzQ':_0x313f40[_0x37abb4(0x1f6)],'QvSAN':_0x313f40[_0x37abb4(0x348)]};H['createNativeQuestion']({'native':{'query':_0x37abb4(0x35b)}},{'visitQuestion':!![]}),cy[_0x37abb4(0x3e1)](_0x313f40[_0x37abb4(0x16a)])['findByText'](_0x37abb4(0x19c))[_0x37abb4(0x384)](),cy['log'](_0x313f40[_0x37abb4(0x179)]),H[_0x37abb4(0xa6)](_0x37abb4(0x196)),H[_0x37abb4(0x362)]()['findByText'](_0x37abb4(0xbf))[_0x37abb4(0x26d)](_0x313f40[_0x37abb4(0x254)]),H[_0x37abb4(0x362)]()[_0x37abb4(0x1d3)](_0x37abb4(0x220))[_0x37abb4(0x26d)](_0x37abb4(0x2b3)),cy[_0x37abb4(0x32d)](_0x313f40[_0x37abb4(0x375)]),H[_0x37abb4(0x362)]({'skipVisibilityCheck':!![]})[_0x37abb4(0x26d)]('not.be.visible'),cy[_0x37abb4(0xc7)](_0x313f40[_0x37abb4(0x1e8)]),H[_0x37abb4(0xa6)]('V'),H[_0x37abb4(0x362)]()[_0x37abb4(0x1d3)](_0x37abb4(0x32b))[_0x37abb4(0x26d)](_0x313f40[_0x37abb4(0x240)]),H[_0x37abb4(0x362)]()['findByText'](_0x313f40['OMMIy'])['should'](_0x313f40['pMeRa']),cy[_0x37abb4(0x32d)](_0x37abb4(0x208)),H[_0x37abb4(0x362)]({'skipVisibilityCheck':!![]})[_0x37abb4(0x26d)](_0x313f40['AkYMa']),cy[_0x37abb4(0xc7)]('Verify\x20plus\x20button\x20-\x20extract\x20column'),cy[_0x37abb4(0x158)](_0x37abb4(0xb3))[_0x37abb4(0x384)](),H['popover']()[_0x37abb4(0x1d3)](_0x313f40['qyHEi'])[_0x37abb4(0x384)](),H[_0x37abb4(0x362)]()[_0x37abb4(0x1d3)](_0x313f40[_0x37abb4(0x1f6)])[_0x37abb4(0x384)](),H[_0x37abb4(0x362)]()[_0x37abb4(0x338)](()=>{const _0x5e9f7b=_0x37abb4,_0xf76287=_0x5e9f7b(0x2f9)[_0x5e9f7b(0x292)]('|');let _0x164e52=0x0;while(!![]){switch(_0xf76287[_0x164e52++]){case'0':cy['findByText'](_0x5e9f7b(0x271))['should'](_0x5e9f7b(0xbb));continue;case'1':cy[_0x5e9f7b(0x1d3)](_0x4a6465[_0x5e9f7b(0x8d)])[_0x5e9f7b(0x26d)](_0x5e9f7b(0xbb));continue;case'2':cy[_0x5e9f7b(0x1d3)](_0x4a6465['WtcUC'])[_0x5e9f7b(0x26d)](_0x4a6465[_0x5e9f7b(0x286)]);continue;case'3':cy['findByText'](_0x5e9f7b(0x178))[_0x5e9f7b(0x26d)]('be.visible')[_0x5e9f7b(0x384)]();continue;case'4':cy[_0x5e9f7b(0x1d3)](_0x4a6465[_0x5e9f7b(0x8b)])[_0x5e9f7b(0x26d)]('be.visible');continue;}break;}}),cy['findAllByTestId'](_0x37abb4(0x31b))['eq'](0x2)[_0x37abb4(0x26d)](_0x37abb4(0x3d8),_0x313f40[_0x37abb4(0x348)]),cy[_0x37abb4(0xc7)](_0x313f40[_0x37abb4(0x2bb)]),cy[_0x37abb4(0x158)](_0x313f40['DLUoI'])[_0x37abb4(0x384)](),H[_0x37abb4(0x362)]()[_0x37abb4(0x1d3)](_0x313f40['OMMIy'])[_0x37abb4(0x384)](),H[_0x37abb4(0x362)]()[_0x37abb4(0x268)](_0x313f40['aSLQM'])['eq'](0x0)['click'](),H[_0x37abb4(0x362)]()[_0x37abb4(0x140)]()[_0x37abb4(0x338)](()=>{const _0x405a44=_0x37abb4;cy[_0x405a44(0x1d3)](_0x4a6465[_0x405a44(0x3e2)])[_0x405a44(0x26d)](_0x405a44(0xbb)),cy[_0x405a44(0x1d3)]('V')['should'](_0x4a6465['VzqkJ']),cy[_0x405a44(0x1d3)](_0x4a6465[_0x405a44(0x3a0)])[_0x405a44(0x26d)](_0x405a44(0xbb))[_0x405a44(0x384)]();}),H['popover']()[_0x37abb4(0x158)]('Done')[_0x37abb4(0x384)](),cy['findAllByTestId'](_0x313f40[_0x37abb4(0x278)])['eq'](0x3)[_0x37abb4(0x26d)](_0x313f40['ltJzX'],'Combined\x20Year,\x20V'),cy[_0x37abb4(0x268)](_0x37abb4(0x1f1))['eq'](0x6)['should'](_0x313f40['ltJzX'],_0x313f40[_0x37abb4(0x2bf)]),cy[_0x37abb4(0x268)]('cell-data')['eq'](0x7)[_0x37abb4(0x26d)](_0x313f40[_0x37abb4(0xd9)],'2024\x202'),cy['findAllByTestId'](_0x313f40['WHCbr'])['eq'](0xa)[_0x37abb4(0x26d)](_0x313f40[_0x37abb4(0xd9)],_0x313f40[_0x37abb4(0x2bf)]),cy[_0x37abb4(0x268)](_0x37abb4(0x1f1))['eq'](0xb)['should'](_0x37abb4(0x3d8),_0x313f40[_0x37abb4(0x147)]),cy[_0x37abb4(0x268)]('cell-data')['eq'](0xd)[_0x37abb4(0x26d)]('have.text','2,024'),cy[_0x37abb4(0x268)]('cell-data')['eq'](0xe)[_0x37abb4(0x26d)](_0x313f40['ltJzX'],_0x313f40[_0x37abb4(0x1fd)]);}),it(_0x313f40[_0x22e325(0x261)],()=>{const _0x7bdfb1=_0x22e325,_0x5f21e0=_0x313f40[_0x7bdfb1(0xe7)][_0x7bdfb1(0x292)]('|');let _0x25ceeb=0x0;while(!![]){switch(_0x5f21e0[_0x25ceeb++]){case'0':H[_0x7bdfb1(0x362)]()['last']()[_0x7bdfb1(0x1d3)]('N')[_0x7bdfb1(0x26d)](_0x313f40[_0x7bdfb1(0x254)]);continue;case'1':cy[_0x7bdfb1(0x32d)](_0x313f40[_0x7bdfb1(0x375)]);continue;case'2':H[_0x7bdfb1(0x130)]({'native':{'query':_0x7bdfb1(0x239)}},{'visitQuestion':!![]});continue;case'3':cy[_0x7bdfb1(0xc7)](_0x7bdfb1(0x187));continue;case'4':H[_0x7bdfb1(0x362)]()[_0x7bdfb1(0x1d3)](_0x313f40[_0x7bdfb1(0x3a7)])[_0x7bdfb1(0x26d)](_0x7bdfb1(0x2b3));continue;case'5':H[_0x7bdfb1(0x362)]()[_0x7bdfb1(0x1d3)](_0x7bdfb1(0x220))[_0x7bdfb1(0x26d)](_0x313f40[_0x7bdfb1(0x240)]);continue;case'6':cy[_0x7bdfb1(0x3e1)](_0x7bdfb1(0x200))[_0x7bdfb1(0x1d3)](_0x313f40[_0x7bdfb1(0x11a)])[_0x7bdfb1(0x384)]();continue;case'7':cy[_0x7bdfb1(0x158)](_0x313f40[_0x7bdfb1(0x298)])[_0x7bdfb1(0x384)]();continue;case'8':H['popover']({'skipVisibilityCheck':!![]})['should'](_0x7bdfb1(0xcd));continue;case'9':H[_0x7bdfb1(0xa6)]('N');continue;case'10':H[_0x7bdfb1(0x362)]()[_0x7bdfb1(0x268)](_0x313f40['aSLQM'])['eq'](0x0)['click']();continue;case'11':H[_0x7bdfb1(0x362)]()['findByText'](_0x7bdfb1(0x32b))[_0x7bdfb1(0x26d)](_0x7bdfb1(0x2b3));continue;case'12':cy[_0x7bdfb1(0x10a)](_0x7bdfb1(0xb5))[_0x7bdfb1(0x384)]();continue;case'13':H[_0x7bdfb1(0x362)]()[_0x7bdfb1(0x1d3)]('Combine\x20columns')[_0x7bdfb1(0x384)]();continue;case'14':cy[_0x7bdfb1(0xc7)](_0x313f40['kVJlo']);continue;}break;}}),it(_0x22e325(0xf2),()=>{const _0x3ce5a2=_0x22e325;if(_0x3ce5a2(0x1a8)!==_0x3ce5a2(0x2ca)){const _0x2edbae=_0x313f40[_0x3ce5a2(0x2ab)]['split']('|');let _0x2b4ec1=0x0;while(!![]){switch(_0x2edbae[_0x2b4ec1++]){case'0':H['popover']({'skipVisibilityCheck':!![]})[_0x3ce5a2(0x26d)](_0x313f40[_0x3ce5a2(0x129)]);continue;case'1':cy[_0x3ce5a2(0xc7)](_0x3ce5a2(0x330));continue;case'2':cy[_0x3ce5a2(0xc7)](_0x313f40[_0x3ce5a2(0x1af)]);continue;case'3':H[_0x3ce5a2(0x362)]()[_0x3ce5a2(0x1d3)](_0x3ce5a2(0x32b))[_0x3ce5a2(0x26d)](_0x3ce5a2(0x2b3));continue;case'4':H[_0x3ce5a2(0x130)]({'native':{'query':'select\x20\x27abc\x27'}},{'visitQuestion':!![]});continue;case'5':H['tableHeaderClick'](_0x3ce5a2(0x3a9));continue;case'6':H[_0x3ce5a2(0x362)]()['findByText'](_0x313f40[_0x3ce5a2(0xe8)])[_0x3ce5a2(0x26d)](_0x313f40[_0x3ce5a2(0x254)]);continue;case'7':H['popover']()['findByText'](_0x313f40[_0x3ce5a2(0xe8)])[_0x3ce5a2(0x384)]();continue;case'8':cy['button'](_0x313f40[_0x3ce5a2(0x298)])[_0x3ce5a2(0x384)]();continue;case'9':cy['findByLabelText'](_0x3ce5a2(0xb5))[_0x3ce5a2(0x384)]();continue;case'10':H[_0x3ce5a2(0x362)]()[_0x3ce5a2(0x1d3)]('Extract\x20part\x20of\x20column')[_0x3ce5a2(0x26d)](_0x3ce5a2(0x2b3));continue;case'11':cy[_0x3ce5a2(0x3e1)](_0x3ce5a2(0x200))[_0x3ce5a2(0x1d3)](_0x313f40[_0x3ce5a2(0x11a)])[_0x3ce5a2(0x384)]();continue;case'12':H[_0x3ce5a2(0x362)]()[_0x3ce5a2(0x268)](_0x313f40[_0x3ce5a2(0x399)])['eq'](0x0)[_0x3ce5a2(0x384)]();continue;case'13':cy[_0x3ce5a2(0x32d)]('Escape');continue;case'14':H[_0x3ce5a2(0x362)]()[_0x3ce5a2(0x140)]()[_0x3ce5a2(0x1d3)](_0x3ce5a2(0x3a9))[_0x3ce5a2(0x26d)](_0x313f40['QPhVs']);continue;}break;}}else _0x34bb1c[_0x3ce5a2(0x1d3)](_0x1a059a)[_0x3ce5a2(0x37d)]()['find'](_0x3ce5a2(0x323))['click']({'force':!![]});});}),describe(_0x2888da(0x1d8),()=>{const _0x147218=_0x2888da,_0x47f0d4={'lvDih':_0x147218(0x376),'fdFbl':_0x147218(0x1bd),'cLaHB':_0x147218(0x36e),'nWQNe':_0x147218(0x2a2),'VRXpX':_0x147218(0x245),'tRMRV':_0x147218(0x3d4),'vXUxc':'Custom\x20column','tfnGn':_0x147218(0xce),'YFvcl':'Shift-tab\x20from\x20name\x20input\x20should\x20stay\x20within\x20the\x20popover','UZSlL':function(_0x1172a3,_0x2b21bb){return _0x1172a3(_0x2b21bb);},'INNZM':_0x147218(0x3d0)};_0x47f0d4['UZSlL'](beforeEach,()=>{const _0x44d1af=_0x147218;H[_0x44d1af(0x32a)](),cy[_0x44d1af(0x1a6)]();}),it(_0x47f0d4[_0x147218(0x300)],()=>{const _0x504d11=_0x147218,_0x190a4b=_0x47f0d4[_0x504d11(0x2a1)][_0x504d11(0x292)]('|');let _0x3363bb=0x0;while(!![]){switch(_0x190a4b[_0x3363bb++]){case'0':H[_0x504d11(0x1fb)][_0x504d11(0x24d)]()[_0x504d11(0x32d)]([_0x47f0d4[_0x504d11(0x9f)],_0x504d11(0x36e)]);continue;case'1':H['openOrdersTable']({'mode':_0x504d11(0x333)});continue;case'2':cy[_0x504d11(0x32d)]([_0x47f0d4[_0x504d11(0x9f)],_0x47f0d4['cLaHB']]);continue;case'3':cy['focused']()[_0x504d11(0x26d)](_0x47f0d4[_0x504d11(0xa3)],'role','textbox');continue;case'4':H[_0x504d11(0x1fb)][_0x504d11(0x24d)]()[_0x504d11(0x32d)]([_0x47f0d4[_0x504d11(0x9f)],_0x47f0d4[_0x504d11(0x1a1)]]);continue;case'5':H['CustomExpressionEditor'][_0x504d11(0x24d)]()[_0x504d11(0x26d)](_0x47f0d4[_0x504d11(0x2b9)]);continue;case'6':cy[_0x504d11(0x158)](_0x504d11(0xd8))['should'](_0x504d11(0x2c6));continue;case'7':H[_0x504d11(0x1fb)][_0x504d11(0x24d)]()[_0x504d11(0x34a)]();continue;case'8':H[_0x504d11(0x1fb)]['nameInput']()['realPress']([_0x47f0d4[_0x504d11(0x9f)],_0x504d11(0x36e)]);continue;case'9':cy[_0x504d11(0x32d)]('Tab');continue;case'10':H[_0x504d11(0x2f4)]({'formula':_0x47f0d4[_0x504d11(0x256)],'blur':![]});continue;case'11':cy[_0x504d11(0x10a)](_0x47f0d4[_0x504d11(0x23d)])['click']();continue;case'12':H[_0x504d11(0x1fb)][_0x504d11(0x1eb)]()[_0x504d11(0x26d)](_0x504d11(0x11c),_0x47f0d4['tfnGn']);continue;case'13':H[_0x504d11(0x1fb)][_0x504d11(0x24d)]()[_0x504d11(0x26d)](_0x504d11(0x2c6));continue;case'14':cy[_0x504d11(0xc7)](_0x47f0d4[_0x504d11(0x37b)]);continue;case'15':cy[_0x504d11(0x32d)]([_0x47f0d4['fdFbl'],_0x47f0d4[_0x504d11(0x1a1)]]);continue;}break;}});}),describe('issue\x2049882',()=>{const _0x6be249=_0x2888da,_0x571bc5={'ozkJL':_0x6be249(0x385),'CMnZw':_0x6be249(0x2dc),'JHkhS':_0x6be249(0x3b1),'YgJRd':function(_0x1e7304,_0x51def2){return _0x1e7304===_0x51def2;},'cpXRc':'@queryMetadata','FFUHX':_0x6be249(0x333),'oAgbg':_0x6be249(0x307),'mknme':_0x6be249(0x322),'nImcg':_0x6be249(0xbb),'STjEX':_0x6be249(0x2d4),'CdaRY':_0x6be249(0x1d6),'oOvks':'case([Tax]\x20>\x201,\x20case([Total]\x20>\x20200,\x20[Total],\x20\x22Nothing\x22),\x20[Tax])','ZIVDY':_0x6be249(0xc0),'DiYSW':'ArrowLeft','AWrbc':'[Tax]','WWALH':'Expecting\x20operator\x20but\x20got\x20case\x20instead','oJXKG':_0x6be249(0xa0),'DPOVt':_0x6be249(0x11c),'DZQph':_0x6be249(0xcc),'gqQjz':_0x6be249(0x229),'UcFwT':'[Product\x20→\x20Rating]','iAKum':_0x6be249(0x237),'iywyr':function(_0x2a3849,_0x1a3d75,_0x1dc6f7){return _0x2a3849(_0x1a3d75,_0x1dc6f7);},'CqIVw':_0x6be249(0x241)};beforeEach(()=>{const _0x3b807d=_0x6be249;if(_0x571bc5[_0x3b807d(0x342)](_0x3b807d(0x3ba),'Doawq')){const _0x12fc22=_0x3b807d(0x18c)[_0x3b807d(0x292)]('|');let _0x7b2d5b=0x0;while(!![]){switch(_0x12fc22[_0x7b2d5b++]){case'0':cy[_0x3b807d(0x1d4)](_0x571bc5[_0x3b807d(0xd4)]);continue;case'1':H[_0x3b807d(0x168)]({'mode':_0x571bc5[_0x3b807d(0xda)]});continue;case'2':cy['findByLabelText'](_0x3b807d(0x1f9))['click']();continue;case'3':cy[_0x3b807d(0x182)](_0x571bc5[_0x3b807d(0x2f3)],_0x571bc5[_0x3b807d(0x368)])['as'](_0x3b807d(0x28f));continue;case'4':cy[_0x3b807d(0x1a6)]();continue;case'5':H[_0x3b807d(0x32a)]();continue;}break;}}else _0x368216['findByTestId'](_0x571bc5['ozkJL'])['should'](_0x571bc5[_0x3b807d(0x209)],_0x571bc5[_0x3b807d(0x267)]);}),it(_0x571bc5['iAKum'],()=>{const _0x2941e7=_0x6be249,_0x452837=_0x2941e7(0x2c7)[_0x2941e7(0x10c)](0x6);H[_0x2941e7(0x2f4)]({'formula':'case([Total]\x20>\x20200,\x20,\x20\x22X\x22)'+_0x452837+_0x2941e7(0x296),'blur':![]}),H[_0x2941e7(0x1fb)][_0x2941e7(0x1bc)]()[_0x2941e7(0x26d)](_0x571bc5[_0x2941e7(0xc1)]),cy[_0x2941e7(0x32d)](_0x571bc5[_0x2941e7(0x162)],{'pressDelay':0xa}),H[_0x2941e7(0x1fb)][_0x2941e7(0x1eb)]()['should']('equal',_0x2941e7(0x39d)),H['popover']()[_0x2941e7(0x1d3)](_0x571bc5[_0x2941e7(0x304)])['should'](_0x2941e7(0x2b3));}),_0x571bc5[_0x6be249(0x34e)](it,_0x6be249(0x38d),()=>{const _0x5a0063=_0x6be249;H['enterCustomColumnDetails']({'formula':_0x571bc5[_0x5a0063(0x2c2)],'blur':![]}),H[_0x5a0063(0x1fb)][_0x5a0063(0x25c)](_0x571bc5[_0x5a0063(0x27b)],{'focus':![],'blur':![]}),cy[_0x5a0063(0x32d)]([_0x5a0063(0x1bd),_0x5a0063(0x2ed)]),cy[_0x5a0063(0x32d)]([_0x5a0063(0x1bd),_0x5a0063(0x2ed)]),cy['realPress']([_0x5a0063(0x1bd),_0x571bc5[_0x5a0063(0x227)]]),cy[_0x5a0063(0x32d)]([_0x5a0063(0x1bd),'ArrowLeft']),cy[_0x5a0063(0x32d)](['Shift',_0x5a0063(0x2ed)]),cy['realPress']([_0x5a0063(0x30f)]),H[_0x5a0063(0x1fb)][_0x5a0063(0x25c)]('{leftarrow}'[_0x5a0063(0x10c)](0x2a),{'focus':![],'blur':![]}),H[_0x5a0063(0x1fb)][_0x5a0063(0x2b8)](_0x571bc5[_0x5a0063(0xb2)]),H[_0x5a0063(0x1fb)][_0x5a0063(0x1eb)]()[_0x5a0063(0x26d)](_0x5a0063(0x11c),_0x5a0063(0x29d)),H[_0x5a0063(0x362)]()[_0x5a0063(0x1d3)](_0x571bc5['WWALH'])[_0x5a0063(0x26d)](_0x5a0063(0xbb),{'timeout':0x1388});}),it[_0x6be249(0x2cf)]('should\x20allow\x20moving\x20cursor\x20between\x20wrapped\x20lines\x20with\x20arrow\x20up\x20and\x20arrow\x20down\x20keys\x20(metabase#49882-3)',()=>{const _0x4b59ea=_0x6be249;H[_0x4b59ea(0x2f4)]({'formula':_0x571bc5['oJXKG']}),H[_0x4b59ea(0x1fb)][_0x4b59ea(0x1eb)]()[_0x4b59ea(0x26d)](_0x571bc5[_0x4b59ea(0x2d8)],_0x571bc5[_0x4b59ea(0x1f4)]);}),it(_0x571bc5[_0x6be249(0x111)],()=>{const _0x6ff3d8=_0x6be249,_0x56fe7c=_0x571bc5[_0x6ff3d8(0x103)];H[_0x6ff3d8(0x2f4)]({'formula':_0x6ff3d8(0xc9)+_0x56fe7c,'blur':![]}),H[_0x6ff3d8(0x1fb)][_0x6ff3d8(0x295)]('Product\x20→\x20Rating')[_0x6ff3d8(0x26d)](_0x571bc5['nImcg']),H['CustomExpressionEditor'][_0x6ff3d8(0x283)]('tab'),H[_0x6ff3d8(0x1fb)][_0x6ff3d8(0x1eb)]()[_0x6ff3d8(0x26d)](_0x571bc5[_0x6ff3d8(0x2d8)],_0x571bc5[_0x6ff3d8(0x7f)]);});}),describe(_0x2888da(0x377),()=>{const _0x2f332b=_0x2888da,_0xe4f97d={'fjdKZ':_0x2f332b(0xbd),'WrZvj':_0x2f332b(0x105),'zjpTY':_0x2f332b(0x2f6),'odHZE':_0x2f332b(0x11c),'sOxGU':_0x2f332b(0xeb),'CzQww':_0x2f332b(0xf8),'vwplH':_0x2f332b(0xb1),'aiPSP':_0x2f332b(0xbb),'bKxGA':_0x2f332b(0x24e),'Msnzy':function(_0x5d3977,_0x49a826){return _0x5d3977(_0x49a826);},'FzloF':'CustomColumn','DnxXe':_0x2f332b(0x30a),'DQUzb':function(_0x6872ad,_0x15d129,_0x59935b){return _0x6872ad(_0x15d129,_0x59935b);},'LzJJF':_0x2f332b(0x355),'WUnSx':_0x2f332b(0x225),'gUelP':'not.be.checked','JSarY':_0x2f332b(0x17b),'sMuye':_0x2f332b(0x11b),'MeMkZ':_0x2f332b(0x2ae),'PhrCR':_0x2f332b(0x3b9),'xFszs':_0x2f332b(0x177),'IZlNb':'Category\x20contains\x203\x20selections','eAARK':_0x2f332b(0x2b1),'TObdb':function(_0x29e0b6,_0x7ef816,_0x19bf65){return _0x29e0b6(_0x7ef816,_0x19bf65);}},_0x3353ae={'query':{'source-table':PRODUCTS_ID}};beforeEach(()=>{const _0x2054dd=_0x2f332b;H[_0x2054dd(0x32a)](),cy['signInAsNormalUser']();}),_0xe4f97d[_0x2f332b(0x16d)](it,_0x2f332b(0x235),()=>{const _0x41265f=_0x2f332b,_0x2bf987={'Yesem':function(_0x37fd96,_0x55a8c0){const _0x5d89a7=_0x3c36;return _0xe4f97d[_0x5d89a7(0x35d)](_0x37fd96,_0x55a8c0);},'gwQdb':_0xe4f97d[_0x41265f(0x164)],'hjIwS':_0xe4f97d['DnxXe'],'rBgey':function(_0x21f600,_0x5b1db2,_0x3f563d){const _0x5cfb79=_0x41265f;return _0xe4f97d[_0x5cfb79(0x3bb)](_0x21f600,_0x5b1db2,_0x3f563d);},'MzSiD':_0xe4f97d['LzJJF'],'ofxxm':_0xe4f97d[_0x41265f(0x326)],'SBOkt':_0x41265f(0x2cd),'uljDZ':_0xe4f97d['aiPSP'],'ZVqfh':_0xe4f97d['gUelP'],'VKnOM':_0xe4f97d[_0x41265f(0x24f)]};H[_0x41265f(0x1e5)](_0x3353ae,{'visitQuestion':!![]}),H[_0x41265f(0x170)](),cy[_0x41265f(0xc7)](_0xe4f97d['sMuye']),H[_0x41265f(0x252)](_0x41265f(0x1e9))[_0x41265f(0x158)](_0x41265f(0x166))[_0x41265f(0x384)](),H['popover']()[_0x41265f(0x1d3)](_0xe4f97d[_0x41265f(0x2c4)])[_0x41265f(0x384)](),H[_0x41265f(0x152)](_0xe4f97d[_0x41265f(0x17a)]),H['clauseStepPopover']()[_0x41265f(0x338)](()=>{const _0x18d600=_0x41265f;cy['findByPlaceholderText'](_0xe4f97d['fjdKZ'])[_0x18d600(0x25c)]('gadget,widget'),cy[_0x18d600(0x158)](_0xe4f97d[_0x18d600(0x1b0)])[_0x18d600(0x384)]();}),H[_0x41265f(0x252)](_0x41265f(0x177))[_0x41265f(0x1d3)](_0x41265f(0x259))[_0x41265f(0x384)](),H[_0x41265f(0xa4)]()[_0x41265f(0x338)](()=>{const _0x72ddbf=_0x41265f;cy['button'](_0x72ddbf(0xd5))[_0x72ddbf(0x384)](),cy[_0x72ddbf(0x1d3)](_0xe4f97d[_0x72ddbf(0x3a8)])[_0x72ddbf(0x384)](),H[_0x72ddbf(0x1fb)]['value']()[_0x72ddbf(0x26d)](_0x72ddbf(0x11c),dedent`
          contains(
            [Category],
            "gadget",
            "widget",
            "case-insensitive"
          )
        `[_0x72ddbf(0x367)]());}),cy[_0x41265f(0xc7)]('modify\x20the\x20expression\x20in\x20the\x20expression\x20editor\x20and\x20make\x20sure\x20it\x20is\x20rendered\x20correctly\x20in\x20the\x20filter\x20widget'),H['popover']()[_0x41265f(0x338)](()=>{const _0x37806f=_0x41265f;H[_0x37806f(0x2f4)]({'formula':_0x37806f(0x22d)}),cy['button'](_0x37806f(0x287))['click']();}),H[_0x41265f(0x252)](_0xe4f97d[_0x41265f(0x341)])['findByText'](_0xe4f97d[_0x41265f(0x335)])[_0x41265f(0x384)](),H[_0x41265f(0x362)]()[_0x41265f(0x338)](()=>{const _0x37956e=_0x41265f;if(_0x2bf987['ofxxm']===_0x2bf987[_0x37956e(0x95)]){const _0x3a43be={'iToRO':function(_0x559449,_0x212073){const _0x1d7152=_0x37956e;return _0x2bf987[_0x1d7152(0x1cf)](_0x559449,_0x212073);},'honsJ':'data','fWuTR':_0x2bf987[_0x37956e(0x1ea)],'kDNXW':_0x37956e(0x37a)},_0x538986={'name':'Quotes\x20SQL','native':{'query':_0x2bf987[_0x37956e(0x365)],'template-tags':{}}},_0x4c5252=_0x2a03fc=>({'name':'Quotes\x20MBQL','query':{'source-table':_0x37956e(0x2ba)+_0x2a03fc}});_0x53592e(()=>{const _0x53dde1=_0x37956e;_0x56a159[_0x53dde1(0x32a)](),_0x53a782['signInAsNormalUser']();}),_0x2bf987[_0x37956e(0x2c8)](_0x30b124,_0x2bf987['MzSiD'],()=>{const _0x5ad18a=_0x37956e,_0x2aeee2={'nuhgB':function(_0x2271c4,_0x2b6492){const _0x18b087=_0x3c36;return _0x3a43be[_0x18b087(0x2e3)](_0x2271c4,_0x2b6492);}};_0x283192[_0x5ad18a(0x130)](_0x538986)['then'](({body:_0x29470d})=>{const _0x12b7d0=_0x5ad18a;_0x16cfc4[_0x12b7d0(0x1e5)](_0x2aeee2['nuhgB'](_0x4c5252,_0x29470d['id']),{'visitQuestion':!![]});}),_0x116882[_0x5ad18a(0x170)](),_0x3d5068[_0x5ad18a(0x252)](_0x3a43be[_0x5ad18a(0x310)])[_0x5ad18a(0x158)](_0x5ad18a(0x1f9))[_0x5ad18a(0x384)](),_0xb91e66[_0x5ad18a(0x2f4)]({'formula':_0x5ad18a(0xb9),'name':_0x3a43be[_0x5ad18a(0x372)]}),_0x48b5b0[_0x5ad18a(0x362)]()[_0x5ad18a(0x158)](_0x3a43be[_0x5ad18a(0x181)])[_0x5ad18a(0x384)](),_0x496161[_0x5ad18a(0x3e7)](),_0x1a3ed6[_0x5ad18a(0x139)]()[_0x5ad18a(0x1d3)]('ab')['should'](_0x5ad18a(0xbb));});}else cy[_0x37956e(0x1d3)](_0x37956e(0xf8))[_0x37956e(0x26d)](_0x37956e(0xbb)),cy['findByText'](_0x37956e(0x17e))[_0x37956e(0x26d)](_0x2bf987[_0x37956e(0x391)]),cy[_0x37956e(0x1d3)]('gizmo')['should'](_0x2bf987[_0x37956e(0x391)]),cy[_0x37956e(0x10a)](_0x37956e(0x18b))[_0x37956e(0x26d)](_0x2bf987[_0x37956e(0x1a5)]);}),cy[_0x41265f(0xc7)](_0x41265f(0x15c)),H[_0x41265f(0x362)]()[_0x41265f(0x338)](()=>{const _0x2f752c=_0x41265f;cy[_0x2f752c(0x10a)](_0x2f752c(0x18b))[_0x2f752c(0x384)](),cy[_0x2f752c(0x158)](_0x2bf987['VKnOM'])[_0x2f752c(0x384)]();}),H[_0x41265f(0x252)](_0xe4f97d[_0x41265f(0x341)])[_0x41265f(0x1d3)](_0x41265f(0x33f))[_0x41265f(0x384)](),H[_0x41265f(0x362)]()['within'](()=>{const _0xbe3e6=_0x41265f;cy[_0xbe3e6(0x158)](_0xbe3e6(0xd5))[_0xbe3e6(0x384)](),cy['findByText'](_0xbe3e6(0x2f6))[_0xbe3e6(0x384)](),H[_0xbe3e6(0x1fb)][_0xbe3e6(0x1eb)]()[_0xbe3e6(0x26d)](_0xe4f97d['odHZE'],_0xe4f97d['sOxGU']);}),cy[_0x41265f(0xc7)](_0xe4f97d[_0x41265f(0x3aa)]),H[_0x41265f(0x362)]()[_0x41265f(0x338)](()=>{const _0x30ad7d=_0x41265f;H[_0x30ad7d(0x2f4)]({'formula':_0x30ad7d(0xeb)}),cy[_0x30ad7d(0x158)](_0x30ad7d(0x287))[_0x30ad7d(0x384)]();}),H[_0x41265f(0x252)](_0xe4f97d[_0x41265f(0x341)])[_0x41265f(0x1d3)](_0x41265f(0x33f))[_0x41265f(0x384)](),H[_0x41265f(0x362)]()[_0x41265f(0x338)](()=>{const _0xbd00f4=_0x41265f;cy[_0xbd00f4(0x1d3)](_0xe4f97d[_0xbd00f4(0x160)])['should'](_0xbd00f4(0xbb)),cy['findByText']('widget')[_0xbd00f4(0x26d)](_0xbd00f4(0xbb)),cy[_0xbd00f4(0x1d3)](_0xe4f97d['vwplH'])[_0xbd00f4(0x26d)](_0xe4f97d[_0xbd00f4(0x82)]),cy[_0xbd00f4(0x10a)](_0xbd00f4(0x18b))[_0xbd00f4(0x26d)](_0xe4f97d[_0xbd00f4(0x236)]);});});}),describe('issue\x2050925',()=>{const _0x572a6f=_0x2888da,_0x3abc3c={'XhIgG':'Enter','DQYJn':_0x572a6f(0x11c),'muUFi':_0x572a6f(0xd8),'SRpEo':_0x572a6f(0x9c),'TVWuP':_0x572a6f(0x15f),'oNpZJ':_0x572a6f(0x366),'sSkQc':_0x572a6f(0x102),'mZwDm':'type/BigInteger','vwSoa':_0x572a6f(0x153),'wcsaR':'type/Float','YzDeT':function(_0x2d935c,_0x55602e){return _0x2d935c(_0x55602e);},'vAsez':_0x572a6f(0x14c)},_0x4138f7={'query':{'source-table':PRODUCTS_ID,'expressions':{'Custom':[_0x3abc3c['sSkQc'],[[['=',['field',PRODUCTS['ID'],{'base-type':_0x3abc3c['mZwDm']}],0x1],['*',[_0x3abc3c[_0x572a6f(0x2d1)],PRODUCTS[_0x572a6f(0x248)],{'base-type':_0x3abc3c[_0x572a6f(0x2d0)]}],1.21]]],{'default':[_0x572a6f(0x153),PRODUCTS[_0x572a6f(0x248)],{'base-type':_0x572a6f(0xac)}]}]}}};_0x3abc3c[_0x572a6f(0x224)](beforeEach,()=>{const _0x1b9cbc=_0x572a6f;H[_0x1b9cbc(0x32a)](),cy[_0x1b9cbc(0x1a6)]();}),it(_0x3abc3c[_0x572a6f(0x2db)],()=>{const _0x5cbdc0=_0x572a6f;H[_0x5cbdc0(0x1e5)](_0x4138f7,{'visitQuestion':!![]}),H[_0x5cbdc0(0x170)](),cy[_0x5cbdc0(0xc7)](_0x5cbdc0(0x20b)),H['getNotebookStep']('expression')[_0x5cbdc0(0x1d3)](_0x5cbdc0(0x15f))[_0x5cbdc0(0x384)](),H['CustomExpressionEditor'][_0x5cbdc0(0x34a)]()['type'](_0x5cbdc0(0x2c7)[_0x5cbdc0(0x10c)](0x9))['type'](_0x5cbdc0(0x366),{'focus':![]}),H['CustomExpressionEditor'][_0x5cbdc0(0x1bc)]()[_0x5cbdc0(0x26d)]('be.visible'),H[_0x5cbdc0(0x1fb)][_0x5cbdc0(0x1b3)]()['realPress'](_0x3abc3c[_0x5cbdc0(0x370)],{'pressDelay':0xa}),H[_0x5cbdc0(0x1fb)][_0x5cbdc0(0x1d7)]()['value']()['should'](_0x3abc3c[_0x5cbdc0(0x2f2)],_0x5cbdc0(0x18e)),cy[_0x5cbdc0(0xc7)](_0x5cbdc0(0x3b7)),H[_0x5cbdc0(0x362)]()['button'](_0x3abc3c[_0x5cbdc0(0x126)])[_0x5cbdc0(0x384)](),H[_0x5cbdc0(0x252)](_0x3abc3c[_0x5cbdc0(0x349)])[_0x5cbdc0(0x1d3)](_0x3abc3c[_0x5cbdc0(0x279)])[_0x5cbdc0(0x384)](),H[_0x5cbdc0(0x1fb)][_0x5cbdc0(0x34a)]()[_0x5cbdc0(0x25c)](_0x5cbdc0(0x2c7)[_0x5cbdc0(0x10c)](0x9))[_0x5cbdc0(0x25c)](_0x3abc3c[_0x5cbdc0(0x2eb)],{'focus':![]}),cy['wait'](0x12c),H[_0x5cbdc0(0x1fb)][_0x5cbdc0(0x1bc)]()['should'](_0x5cbdc0(0xbb)),H['CustomExpressionEditor'][_0x5cbdc0(0x1b3)]()['realPress'](_0x5cbdc0(0x2d4),{'pressDelay':0xa}),H[_0x5cbdc0(0x1fb)][_0x5cbdc0(0x1d7)]()[_0x5cbdc0(0x1eb)]()[_0x5cbdc0(0x26d)](_0x3abc3c[_0x5cbdc0(0x2f2)],'case([ID]\x20=\x201,\x20[Price]\x20*\x201.21,\x20[Price]\x20[Price])');});}),describe(_0x2888da(0x3d5),()=>{const _0x10af93=_0x2888da,_0x31c2e7={'GxcxT':_0x10af93(0x1e9),'CHynC':_0x10af93(0x21e),'uZSGa':function(_0x10ab21,_0x4b7694,_0x52a4be){return _0x10ab21(_0x4b7694,_0x52a4be);}};beforeEach(()=>{H['restore'](),cy['signInAsNormalUser']();}),_0x31c2e7['uZSGa'](it,_0x10af93(0x288),()=>{const _0x2951ce=_0x10af93;H[_0x2951ce(0x331)]({'mode':'notebook'}),H[_0x2951ce(0x252)](_0x31c2e7[_0x2951ce(0x2c1)])[_0x2951ce(0x158)]('Custom\x20column')[_0x2951ce(0x384)](),H[_0x2951ce(0x2f4)]({'formula':_0x31c2e7[_0x2951ce(0x231)]}),H[_0x2951ce(0x362)]()[_0x2951ce(0x338)](()=>{const _0x11f92a=_0x2951ce;cy[_0x11f92a(0x1d3)](_0x11f92a(0x7d))[_0x11f92a(0x26d)]('be.visible'),cy[_0x11f92a(0x158)]('Done')[_0x11f92a(0x26d)](_0x11f92a(0x1f3));});});}),describe(_0x2888da(0x3ec),()=>{const _0x42744b=_0x2888da,_0x1a7f3e={'MCfPJ':_0x42744b(0x1e9),'guegA':_0x42744b(0xb9),'ASHIc':_0x42744b(0x37a),'JGcnq':function(_0x4a54d4,_0x5bddc6){return _0x4a54d4(_0x5bddc6);},'xlkEw':function(_0x442f75,_0x4b9c7f,_0x4c71b7){return _0x442f75(_0x4b9c7f,_0x4c71b7);}},_0x281572={'name':_0x42744b(0x203),'native':{'query':_0x42744b(0x30a),'template-tags':{}}},_0x53d567=_0x5a2a91=>({'name':_0x42744b(0x3eb),'query':{'source-table':_0x42744b(0x2ba)+_0x5a2a91}});_0x1a7f3e['JGcnq'](beforeEach,()=>{const _0x250e4c=_0x42744b;H[_0x250e4c(0x32a)](),cy['signInAsNormalUser']();}),_0x1a7f3e[_0x42744b(0x39c)](it,_0x42744b(0x355),()=>{const _0x19a27c=_0x42744b;H[_0x19a27c(0x130)](_0x281572)[_0x19a27c(0x1c9)](({body:_0x483a44})=>{const _0x500b76=_0x19a27c;H[_0x500b76(0x1e5)](_0x53d567(_0x483a44['id']),{'visitQuestion':!![]});}),H['openNotebook'](),H[_0x19a27c(0x252)](_0x1a7f3e[_0x19a27c(0x1c7)])[_0x19a27c(0x158)]('Custom\x20column')[_0x19a27c(0x384)](),H[_0x19a27c(0x2f4)]({'formula':_0x1a7f3e['guegA'],'name':'CustomColumn'}),H['popover']()['button'](_0x1a7f3e['ASHIc'])[_0x19a27c(0x384)](),H['visualize'](),H[_0x19a27c(0x139)]()[_0x19a27c(0x1d3)]('ab')['should']('be.visible');});}),describe(_0x2888da(0x253),()=>{const _0x2d786d=_0x2888da,_0x4dc565={'UNKlQ':function(_0x410e7b,_0x48fe90){return _0x410e7b===_0x48fe90;},'oCoow':_0x2d786d(0x190),'QlXnI':_0x2d786d(0x3e4),'kRyqo':_0x2d786d(0xd8),'LmiSP':'contain','mSdBP':_0x2d786d(0x9c),'MjdyW':_0x2d786d(0x36d),'LSwYv':_0x2d786d(0x388),'MHeri':function(_0x462376,_0x1cbb0a,_0x1331b5){return _0x462376(_0x1cbb0a,_0x1331b5);},'TifCi':_0x2d786d(0xde)},_0x15635b={'query':{'source-table':ORDERS_ID,'expressions':{'CustomColumn':[_0x2d786d(0x29e),[_0x2d786d(0x153),0x2710,null],_0x2d786d(0x96)]},'filter':['+',0x1,[_0x2d786d(0x2b7),0x2711]],'aggregation':[[_0x2d786d(0x35f),0x2712]]}};beforeEach(()=>{H['restore'](),cy['signInAsNormalUser']();}),_0x4dc565[_0x2d786d(0x395)](it,_0x4dc565['TifCi'],()=>{const _0x374682=_0x2d786d;if(_0x4dc565['UNKlQ'](_0x374682(0x190),_0x4dc565[_0x374682(0xe2)])){const _0x58682d=_0x4dc565[_0x374682(0x27a)]['split']('|');let _0x166e48=0x0;while(!![]){switch(_0x58682d[_0x166e48++]){case'0':H[_0x374682(0x1e5)](_0x15635b,{'visitQuestion':!![]});continue;case'1':H[_0x374682(0x191)]()[_0x374682(0x158)](_0x4dc565[_0x374682(0x3ea)])[_0x374682(0x384)]();continue;case'2':H[_0x374682(0x1fb)][_0x374682(0x1eb)]()[_0x374682(0x26d)](_0x4dc565[_0x374682(0x86)],'[Unknown\x20Segment]');continue;case'3':H[_0x374682(0x252)](_0x374682(0x177))['findByText'](_0x374682(0x1f5))[_0x374682(0x384)]();continue;case'4':H['getNotebookStep'](_0x374682(0x277))[_0x374682(0x1d3)](_0x374682(0x36d))[_0x374682(0x384)]();continue;case'5':H[_0x374682(0x252)](_0x4dc565[_0x374682(0x387)])[_0x374682(0x1d3)](_0x374682(0x17f))['click']();continue;case'6':H[_0x374682(0x170)]();continue;case'7':H['CustomExpressionEditor']['value']()[_0x374682(0x26d)](_0x4dc565['LmiSP'],_0x4dc565[_0x374682(0x13b)]);continue;case'8':H[_0x374682(0x1fb)][_0x374682(0x1eb)]()[_0x374682(0x26d)](_0x374682(0x2dc),_0x4dc565[_0x374682(0x7c)]);continue;case'9':H['expressionEditorWidget']()[_0x374682(0x158)](_0x4dc565['kRyqo'])[_0x374682(0x384)]();continue;}break;}}else _0x4f9f39[_0x374682(0x1d3)](_0x374682(0x378)),_0x4138dd['contains'](_0x374682(0x3e8)),_0x4bedd4[_0x374682(0x29e)](_0x374682(0x22f));});}),describe('issue\x2054638',()=>{const _0x51c6e4=_0x2888da,_0x36beaa={'ixXuT':function(_0x5b44e8,_0xc40aae){return _0x5b44e8(_0xc40aae);},'eWYNn':_0x51c6e4(0x3bd),'fvRkr':_0x51c6e4(0xbb),'EhGyX':_0x51c6e4(0x110),'mezBU':function(_0x3a8f43,_0x5a980b,_0x23fe0e){return _0x3a8f43(_0x5a980b,_0x23fe0e);},'JSAvI':'should\x20be\x20possible\x20to\x20click\x20documentation\x20links\x20in\x20the\x20expression\x20editor\x20help\x20text\x20popover\x20(metabase#54638)'};_0x36beaa[_0x51c6e4(0xfd)](beforeEach,()=>{const _0x15cc42=_0x51c6e4;H[_0x15cc42(0x32a)](),cy[_0x15cc42(0x1a6)](),H['openOrdersTable']({'mode':_0x15cc42(0x333)}),H[_0x15cc42(0x23c)]();}),_0x36beaa[_0x51c6e4(0xf6)](it,_0x36beaa[_0x51c6e4(0x297)],()=>{const _0x48955a=_0x51c6e4,_0x42d6c2={'odfiO':function(_0x5bbc82,_0x4e8bf9){const _0x552de6=_0x3c36;return _0x36beaa[_0x552de6(0xfd)](_0x5bbc82,_0x4e8bf9);},'yADAN':_0x48955a(0x357),'OpbvQ':_0x48955a(0x327),'mCDLP':_0x48955a(0xa5),'AklNI':_0x36beaa[_0x48955a(0x14f)],'SqCEG':_0x36beaa['fvRkr'],'uMDTI':_0x48955a(0x11c)};H[_0x48955a(0x1fb)]['type'](_0x36beaa[_0x48955a(0x3c1)]),H[_0x48955a(0x1fb)]['helpText']()['within'](()=>{const _0x3db339=_0x48955a;cy[_0x3db339(0x1d3)](_0x42d6c2[_0x3db339(0x1e6)])[_0x3db339(0x3e6)]()[_0x3db339(0x26d)](_0x42d6c2[_0x3db339(0x1db)])['then'](_0x5d25a4=>{const _0x27ede3=_0x3db339;_0x42d6c2['odfiO'](expect,_0x5d25a4)['to']['have'][_0x27ede3(0x360)](_0x27ede3(0x327),_0x42d6c2[_0x27ede3(0x2fd)]),_0x5d25a4[_0x27ede3(0x360)](_0x42d6c2['OpbvQ'],_0x42d6c2[_0x27ede3(0x159)]);})[_0x3db339(0x384)](),cy[_0x3db339(0x3d7)]()[_0x3db339(0x26d)](_0x42d6c2[_0x3db339(0xe5)],_0x3db339(0x38f));});});}),describe(_0x2888da(0x91),()=>{const _0x5db6c5=_0x2888da,_0x1b8706={'wbZcw':_0x5db6c5(0x333),'STbil':function(_0xa7ab22,_0x205e6a){return _0xa7ab22!==_0x205e6a;},'DrWcW':_0x5db6c5(0x85),'hiqnh':_0x5db6c5(0x2a2),'VVpJz':'Cancel','NQSRD':_0x5db6c5(0x2f6),'mjvCv':_0x5db6c5(0x1b1),'FIGsn':_0x5db6c5(0x274),'nFByb':function(_0xc0fa76,_0x12a899){return _0xc0fa76(_0x12a899);},'bGmZR':_0x5db6c5(0x345)};_0x1b8706[_0x5db6c5(0xe3)](beforeEach,()=>{const _0x3e83fa=_0x5db6c5;H[_0x3e83fa(0x32a)](),cy[_0x3e83fa(0x1a6)](),H[_0x3e83fa(0x168)]({'mode':_0x1b8706[_0x3e83fa(0x118)]});}),it(_0x1b8706[_0x5db6c5(0x313)],()=>{const _0x20da91=_0x5db6c5;if(_0x1b8706[_0x20da91(0x2de)](_0x20da91(0x257),'cZmoT')){_0x3a7693[_0x20da91(0x32a)](),_0x12e4e5[_0x20da91(0x1a6)]();const _0x4ce79e={'query':{'source-table':_0x4a0aa4,'limit':0x1}};_0x372f7c['createQuestion'](_0x4ce79e,{'visitQuestion':!![]}),_0x40be93['openNotebook']();}else{const _0x94017=_0x1b8706[_0x20da91(0x89)][_0x20da91(0x292)]('|');let _0x50c67b=0x0;while(!![]){switch(_0x94017[_0x50c67b++]){case'0':cy[_0x20da91(0x21a)]()[_0x20da91(0x26d)](_0x1b8706[_0x20da91(0x299)],_0x20da91(0x274),_0x20da91(0x1b1));continue;case'1':H[_0x20da91(0x277)]({'mode':_0x1b8706['wbZcw']});continue;case'2':H[_0x20da91(0x191)]()[_0x20da91(0x158)](_0x1b8706[_0x20da91(0x38b)])['click']();continue;case'3':H[_0x20da91(0x191)]()[_0x20da91(0x158)](_0x1b8706[_0x20da91(0x38b)])[_0x20da91(0x384)]();continue;case'4':H['popover']()[_0x20da91(0x1d3)](_0x1b8706['NQSRD'])[_0x20da91(0x384)]();continue;case'5':cy[_0x20da91(0x21a)]()[_0x20da91(0x26d)](_0x20da91(0x2a2),_0x20da91(0x274),_0x1b8706['mjvCv']);continue;case'6':H[_0x20da91(0x23c)]();continue;case'7':H[_0x20da91(0x177)]({'mode':_0x1b8706['wbZcw']});continue;case'8':H[_0x20da91(0x191)]()[_0x20da91(0x158)]('Cancel')[_0x20da91(0x384)]();continue;case'9':H[_0x20da91(0x362)]()['findByText'](_0x1b8706[_0x20da91(0x26f)])[_0x20da91(0x384)]();continue;case'10':cy[_0x20da91(0x21a)]()['should'](_0x20da91(0x2a2),_0x1b8706[_0x20da91(0x234)],_0x1b8706[_0x20da91(0x305)]);continue;}break;}}});}),describe(_0x2888da(0xfa),()=>{const _0x2cf495=_0x2888da,_0x357c75={'krvrw':_0x2cf495(0x11c),'vhsLk':function(_0xa460d0,_0x2ad36c){return _0xa460d0(_0x2ad36c);}};_0x357c75[_0x2cf495(0x2be)](beforeEach,()=>{const _0xb954ad=_0x2cf495;H[_0xb954ad(0x32a)](),cy['signInAsNormalUser'](),H[_0xb954ad(0x168)]({'mode':_0xb954ad(0x333)});}),it(_0x2cf495(0x345),()=>{const _0x612e1b=_0x2cf495,_0x5a3c65=_0x612e1b(0x9b)[_0x612e1b(0x292)]('|');let _0xe69c0=0x0;while(!![]){switch(_0x5a3c65[_0xe69c0++]){case'0':H[_0x612e1b(0x23c)]();continue;case'1':cy['realPress']('Enter');continue;case'2':H[_0x612e1b(0x1fb)][_0x612e1b(0x25c)](_0x612e1b(0x289),{'focus':![]});continue;case'3':H[_0x612e1b(0x1fb)][_0x612e1b(0x25c)](_0x612e1b(0xd1));continue;case'4':H[_0x612e1b(0x1fb)][_0x612e1b(0x1eb)]()['should'](_0x357c75[_0x612e1b(0x282)],dedent`
        case([Product → Category] = "Widget", 1,
        [Product → Category])
      `);continue;case'5':cy[_0x612e1b(0x32d)](_0x612e1b(0x36e));continue;}break;}});}),describe(_0x2888da(0x3d1),()=>{const _0x676b48=_0x2888da,_0x20add0={'cMIRg':_0x676b48(0x333),'DJqUh':_0x676b48(0xe6),'wzEhD':_0x676b48(0x36a),'AFcQU':_0x676b48(0x2a5),'xFBqY':_0x676b48(0xbb)};beforeEach(()=>{const _0xcfa558=_0x676b48;H[_0xcfa558(0x32a)](),cy[_0xcfa558(0x1a6)](),H[_0xcfa558(0x168)]({'mode':_0x20add0[_0xcfa558(0x2e8)]});}),it('should\x20show\x20suggestions\x20for\x20functions\x20even\x20when\x20the\x20current\x20token\x20is\x20an\x20operator\x20(metabase#55686)',()=>{const _0x322db4=_0x676b48;H[_0x322db4(0x23c)](),H[_0x322db4(0x1fb)][_0x322db4(0x25c)](_0x20add0[_0x322db4(0x2fa)]),H[_0x322db4(0x1fb)][_0x322db4(0x295)](_0x20add0[_0x322db4(0x138)])[_0x322db4(0x26d)](_0x322db4(0xbb)),H[_0x322db4(0x1fb)]['completion'](_0x20add0['AFcQU'])[_0x322db4(0x26d)](_0x20add0[_0x322db4(0x13a)]);});}),describe(_0x2888da(0x115),()=>{const _0x1eae18=_0x2888da,_0x298cb1={'GFTJH':_0x1eae18(0x333),'hkrfy':'Offset(','hBgxC':_0x1eae18(0x2dc),'AXfcX':function(_0x275bde,_0x5f4c7e,_0x55e32e){return _0x275bde(_0x5f4c7e,_0x55e32e);}};beforeEach(()=>{const _0x526958=_0x1eae18;H[_0x526958(0x32a)](),cy[_0x526958(0x1a6)](),H[_0x526958(0x168)]({'mode':_0x298cb1['GFTJH']});}),_0x298cb1['AXfcX'](it,'should\x20show\x20the\x20correct\x20example\x20for\x20Offset\x20(metabase#55940)',()=>{const _0x2faf74=_0x1eae18;H[_0x2faf74(0x277)]({'mode':_0x298cb1[_0x2faf74(0x184)]}),H[_0x2faf74(0x362)]()[_0x2faf74(0x1d3)](_0x2faf74(0x2f6))[_0x2faf74(0x384)](),H['CustomExpressionEditor'][_0x2faf74(0x25c)](_0x298cb1[_0x2faf74(0x1be)]),H[_0x2faf74(0x1fb)][_0x2faf74(0x131)]()[_0x2faf74(0x26d)](_0x2faf74(0xbb))['should'](_0x298cb1[_0x2faf74(0x213)],'Offset(Sum([Total]),\x20-1)');});}),describe(_0x2888da(0x1ae),()=>{const _0x3a0dde=_0x2888da,_0x3745d7={'VdFfQ':_0x3a0dde(0x260),'iMYXc':_0x3a0dde(0x37a),'bBrye':_0x3a0dde(0x333),'dbsDW':_0x3a0dde(0x2f6),'UFKui':_0x3a0dde(0x1ba),'ZIaOK':'All\x20Options','kVzwX':'sum','McZtY':function(_0x393950,_0x34ac64,_0x5262ee){return _0x393950(_0x34ac64,_0x5262ee);},'QFvKV':function(_0x524fef,_0x48d43a){return _0x524fef===_0x48d43a;},'DrReI':_0x3a0dde(0x28d),'QYmTj':_0x3a0dde(0x1ed),'ZhpKt':_0x3a0dde(0x2c3),'PajRO':_0x3a0dde(0x1e3),'TyfiC':function(_0x4259a8,_0x207fdb){return _0x4259a8(_0x207fdb);},'QescJ':'should\x20not\x20overflow\x20the\x20suggestion\x20tooltip\x20when\x20a\x20suggestion\x20name\x20is\x20too\x20long\x20(metabase#55984)','oVSzr':_0x3a0dde(0x3b4)};_0x3745d7[_0x3a0dde(0x1c0)](beforeEach,()=>{const _0x568425=_0x3a0dde;H[_0x568425(0x32a)](),cy['signInAsNormalUser'](),H[_0x568425(0x168)]({'mode':_0x568425(0x333)});}),it(_0x3745d7[_0x3a0dde(0x39e)],()=>{const _0x4d314a=_0x3a0dde,_0x254275={'nUtbT':function(_0x47af71,_0x5271d0){return _0x47af71(_0x5271d0);}};H[_0x4d314a(0x23c)](),H[_0x4d314a(0x2f4)]({'formula':_0x3745d7[_0x4d314a(0xc8)],'name':_0x4d314a(0x1e3)}),cy[_0x4d314a(0x158)](_0x3745d7[_0x4d314a(0x380)])['click'](),H[_0x4d314a(0x277)]({'mode':_0x3745d7[_0x4d314a(0x33e)]}),H['popover']()['findByText'](_0x3745d7[_0x4d314a(0x1bb)])['click'](),H[_0x4d314a(0x1fb)]['type'](_0x4d314a(0x2c3)),H[_0x4d314a(0x1fb)][_0x4d314a(0x1bc)]()[_0x4d314a(0x26d)](_0x553121=>{const _0x508b68=_0x4d314a;_0x254275['nUtbT'](expect,H[_0x508b68(0x347)](_0x553121[0x0]))['to']['be']['false'];});}),it(_0x3745d7['oVSzr'],()=>{const _0x42d705=_0x3a0dde,_0x691546={'MgHDj':_0x3745d7[_0x42d705(0x3ab)],'unZHb':_0x3745d7[_0x42d705(0x28e)],'QoEpc':'count','VhntJ':_0x3745d7[_0x42d705(0x19b)],'sXUxK':function(_0x4e7fd9,_0x523f67,_0x501b4f){const _0x2a4cd4=_0x42d705;return _0x3745d7[_0x2a4cd4(0x26b)](_0x4e7fd9,_0x523f67,_0x501b4f);}};if(_0x3745d7['QFvKV'](_0x3745d7[_0x42d705(0x34d)],_0x42d705(0x28d))){const _0x4ea01a=_0x3745d7[_0x42d705(0x100)][_0x42d705(0x292)]('|');let _0x4907db=0x0;while(!![]){switch(_0x4ea01a[_0x4907db++]){case'0':H[_0x42d705(0x1fb)][_0x42d705(0x25c)](_0x3745d7[_0x42d705(0x1b9)]);continue;case'1':H[_0x42d705(0x2f4)]({'formula':_0x42d705(0x260),'name':_0x3745d7[_0x42d705(0x19d)]['replaceAll']('\x20','_')});continue;case'2':H[_0x42d705(0x277)]({'mode':_0x42d705(0x333)});continue;case'3':H[_0x42d705(0x362)]()[_0x42d705(0x1d3)](_0x3745d7[_0x42d705(0x1bb)])[_0x42d705(0x384)]();continue;case'4':cy[_0x42d705(0x158)](_0x42d705(0x37a))[_0x42d705(0x384)]();continue;case'5':H['addCustomColumn']();continue;case'6':H[_0x42d705(0x1fb)][_0x42d705(0x1bc)]()[_0x42d705(0x26d)](_0x38b8b5=>{const _0x421375=_0x42d705;expect(H[_0x421375(0x347)](_0x38b8b5[0x0]))['to']['be'][_0x421375(0x328)];});continue;}break;}}else{const _0x556f87={'rnLaa':_0x42d705(0x98),'eOvty':_0x691546[_0x42d705(0x276)],'CHijw':_0x691546[_0x42d705(0x2a6)],'EjorA':_0x42d705(0x1b2)},{PRODUCTS_ID:_0x210c1f,PRODUCTS:_0x4b6aee}=_0x31585a,_0x35ff7a={'dataset_query':{'type':_0x42d705(0x193),'query':{'source-query':{'source-table':_0x210c1f,'aggregation':[[_0x691546[_0x42d705(0x21b)]],[_0x691546[_0x42d705(0x175)],[_0x42d705(0x153),_0x4b6aee['PRICE'],null]],[_0x691546['VhntJ'],['field',_0x4b6aee[_0x42d705(0x374)],null]]],'breakout':[['field',_0x4b6aee['CATEGORY'],null]]},'expressions':{'Math':['+',0x1,0x1]}},'database':_0x5d9065},'display':_0x42d705(0x31a)};_0x4befeb(()=>{const _0xbdace3=_0x42d705;_0x4f40f3[_0xbdace3(0x32a)](),_0x1da12c['signInAsAdmin']();}),_0x691546[_0x42d705(0x87)](_0x2a5f80,_0x42d705(0x325),()=>{const _0x33aa91=_0x42d705;_0x374578[_0x33aa91(0x3a5)](_0x35ff7a),_0x3d2b76[_0x33aa91(0x23b)](_0x556f87[_0x33aa91(0x398)]),_0x15ddf8['setFilter'](_0x556f87[_0x33aa91(0x12b)],_0x556f87[_0x33aa91(0xef)]),_0x4897d1[_0x33aa91(0x350)](0x1)[_0x33aa91(0x1d3)](_0x33aa91(0x1d9))['click'](),_0x16e7cb[_0x33aa91(0x362)]()[_0x33aa91(0x29e)](_0x556f87[_0x33aa91(0xe9)]);});}});}),describe('issue\x2055622',()=>{const _0x4a35dc=_0x2888da,_0x68bb9b={'FoozL':'Summarize','GidSq':_0x4a35dc(0x2f6),'UZfak':function(_0x3823af,_0x100af6,_0x512593){return _0x3823af(_0x100af6,_0x512593);},'DSkVa':_0x4a35dc(0x2f1)};beforeEach(()=>{const _0xada07b=_0x4a35dc;H[_0xada07b(0x32a)](),cy[_0xada07b(0x1a6)]();}),_0x68bb9b['UZfak'](it,_0x68bb9b[_0x4a35dc(0x2a0)],()=>{const _0x35dbb5=_0x4a35dc;H['openPeopleTable']({'mode':_0x35dbb5(0x333)}),H[_0x35dbb5(0x252)]('data')['button'](_0x68bb9b[_0x35dbb5(0xa7)])['click'](),H[_0x35dbb5(0x362)]()[_0x35dbb5(0x1d3)](_0x68bb9b[_0x35dbb5(0x291)])['click'](),H[_0x35dbb5(0x2f4)]({'formula':_0x35dbb5(0x308),'name':_0x35dbb5(0x1dc)}),H[_0x35dbb5(0x362)]()[_0x35dbb5(0x158)](_0x35dbb5(0x37a))[_0x35dbb5(0x384)](),H[_0x35dbb5(0x3e7)](),H[_0x35dbb5(0x15a)](0x1);});}),describe(_0x2888da(0x3a2),()=>{const _0x1d623a=_0x2888da,_0x3f31bb={'vWpgW':'notebook','rbSAl':function(_0x5f2020,_0x3bcf8d){return _0x5f2020(_0x3bcf8d);}};_0x3f31bb[_0x1d623a(0x1f2)](beforeEach,()=>{const _0x3d16b0=_0x1d623a;H[_0x3d16b0(0x32a)](),cy[_0x3d16b0(0x1a6)]();}),it(_0x1d623a(0x2aa),()=>{const _0x4533c9=_0x1d623a;H[_0x4533c9(0xb0)]({'mode':_0x3f31bb['vWpgW']}),H[_0x4533c9(0x23c)](),H[_0x4533c9(0x1fb)]['type'](dedent`
      datetimeDiff(
        [Created At],
    `),H[_0x4533c9(0x1fb)][_0x4533c9(0x131)]()[_0x4533c9(0x26d)]('be.visible');});}),describe('issue\x2056596',()=>{const _0x5d4f4d=_0x2888da,_0x1a1e37={'VixaM':_0x5d4f4d(0x153),'Hamed':_0x5d4f4d(0x97),'BAPQj':_0x5d4f4d(0x37a),'GzRfQ':_0x5d4f4d(0x9c),'QosSJ':_0x5d4f4d(0xd8),'iJEzL':function(_0x4fbdde,_0x58d5c0){return _0x4fbdde(_0x58d5c0);},'xbinX':function(_0x1cc5b8,_0x2ea5a8,_0x3b0810){return _0x1cc5b8(_0x2ea5a8,_0x3b0810);}};_0x1a1e37[_0x5d4f4d(0x369)](beforeEach,()=>{const _0x5a322e=_0x5d4f4d;H[_0x5a322e(0x32a)](),cy[_0x5a322e(0x1a6)]();const _0x2160a8={'query':{'source-table':PRODUCTS_ID,'fields':[[_0x1a1e37[_0x5a322e(0x2d2)],PRODUCTS['ID'],null]],'limit':0x1}};H[_0x5a322e(0x1e5)](_0x2160a8,{'visitQuestion':!![]}),H['openNotebook']();}),_0x1a1e37[_0x5d4f4d(0xf3)](it,_0x5d4f4d(0x10b),()=>{const _0x9267=_0x5d4f4d;H[_0x9267(0x23c)]();const _0x5c0f56=dedent`
      regexextract([Vendor], "\\s.*")
    `;H[_0x9267(0x2f4)]({'formula':_0x5c0f56,'name':_0x1a1e37['Hamed']}),H[_0x9267(0x1fb)][_0x9267(0x3c9)](),H[_0x9267(0x1fb)][_0x9267(0x1eb)]()['should']('equal',_0x5c0f56),H[_0x9267(0x191)]()[_0x9267(0x158)](_0x1a1e37[_0x9267(0x1ce)])[_0x9267(0x384)](),H[_0x9267(0x252)](_0x1a1e37[_0x9267(0x337)])[_0x9267(0x1d3)](_0x1a1e37['Hamed'])[_0x9267(0x384)](),H['CustomExpressionEditor'][_0x9267(0x1eb)]()['should'](_0x9267(0x11c),_0x5c0f56),H['expressionEditorWidget']()[_0x9267(0x158)](_0x1a1e37[_0x9267(0x207)])[_0x9267(0x384)](),H['visualize'](),H['assertTableData']({'columns':['ID',_0x1a1e37[_0x9267(0x2b6)]],'firstRows':[['1',_0x9267(0x10d)]]});});}),describe(_0x2888da(0x34c),()=>{const _0x34a2ec=_0x2888da,_0x19c72b={'ZPdBz':_0x34a2ec(0x193),'JghJm':_0x34a2ec(0x157),'ongPN':_0x34a2ec(0x3b0),'DhYyb':'Category','cLIJv':'should\x20handle\x20cc\x20with\x20the\x20same\x20name\x20as\x20an\x20aggregation\x20function\x20(metabase#21513)','ANJQP':function(_0x21b35d,_0x5657f2){return _0x21b35d===_0x5657f2;},'sreec':_0x34a2ec(0x393),'LEqoI':_0x34a2ec(0x9c),'urETz':function(_0x2f83f0,_0x35321b,_0xd1751d){return _0x2f83f0(_0x35321b,_0xd1751d);},'xJfFb':_0x34a2ec(0xb8),'yqLPN':function(_0x4e0b8c,_0x3714e1,_0x1dbfa4){return _0x4e0b8c(_0x3714e1,_0x1dbfa4);},'zXxAI':'isEmpty(lTrim([Title]))','ALbKg':'isEmpty(lTrim(\x27AAA\x27))','QaBoI':_0x34a2ec(0x1d5),'niRkA':_0x34a2ec(0x23f),'QqnQn':_0x34a2ec(0x324),'dHHnS':_0x34a2ec(0x18a),'hXjme':_0x34a2ec(0x1e0),'jrRFv':'not.exist','zcSwf':_0x34a2ec(0x290)};beforeEach(()=>{const _0x42edb4=_0x34a2ec,_0x51be0e={'lwXpe':_0x19c72b['ZPdBz'],'sBzYd':_0x42edb4(0x3c6),'XDxNw':'-36.53'};if(_0x19c72b[_0x42edb4(0x226)]!==_0x19c72b[_0x42edb4(0x226)])_0x31cce2[_0x42edb4(0x1e5)](_0x54d5aa)[_0x42edb4(0x1c9)](({body:{id:_0x216536}})=>{const _0x23a172=_0x42edb4;_0x446280['visitQuestionAdhoc']({'dataset_query':{'type':_0x51be0e[_0x23a172(0xe1)],'query':{'source-table':_0x23a172(0x2ba)+_0x216536},'database':_0x4251a8},'display':_0x51be0e['sBzYd']},{'callback':_0x1b2925=>_0x2bf170(_0x1b2925[_0x23a172(0x2e1)][_0x23a172(0x83)][_0x23a172(0xa1)])[_0x23a172(0xe6)]['to'][_0x23a172(0x8f)]});}),_0x503d7c['findByText'](_0x42edb4(0xd0)),_0xcd1b44[_0x42edb4(0x1d3)](_0x51be0e[_0x42edb4(0x1f8)]);else{H[_0x42edb4(0x32a)](),cy[_0x42edb4(0x1a6)]();const _0x31b733={'query':{'source-table':PRODUCTS_ID,'limit':0x1}};H['createQuestion'](_0x31b733,{'visitQuestion':!![]}),H[_0x42edb4(0x170)]();}});function _0x2c504(_0x42e20d,_0x2291d7){const _0x2eb78a=_0x34a2ec,_0x1ee232={'YLKGC':_0x2eb78a(0x333),'oxGLh':_0x2eb78a(0x3dc),'FyIUl':_0x19c72b['ongPN'],'AhFKM':_0x19c72b[_0x2eb78a(0x19a)],'EcQcw':_0x2eb78a(0xf4),'OwYuE':function(_0x46c7c5,_0x1d7d07){return _0x46c7c5(_0x1d7d07);},'icAFb':function(_0x177ef2,_0x37c599,_0x1585a5){return _0x177ef2(_0x37c599,_0x1585a5);},'EnXfd':_0x19c72b[_0x2eb78a(0x171)]};_0x19c72b[_0x2eb78a(0x2ac)](_0x19c72b[_0x2eb78a(0x10f)],_0x2eb78a(0x343))?(_0x1ee232[_0x2eb78a(0x27f)](_0x4734b6,()=>{const _0x7dcb2e=_0x2eb78a;_0x619be6[_0x7dcb2e(0x32a)](),_0x5efcf2[_0x7dcb2e(0x3a1)]();}),_0x1ee232[_0x2eb78a(0xdb)](_0x4f4529,_0x1ee232[_0x2eb78a(0x18d)],()=>{const _0x5c4758=_0x2eb78a;_0x36fb44[_0x5c4758(0x331)]({'mode':_0x5c4758(0x333)}),_0x439e44[_0x5c4758(0x277)]({'mode':_0x1ee232[_0x5c4758(0x1fc)]}),_0x2d1b48[_0x5c4758(0x362)]()[_0x5c4758(0x1d3)](_0x1ee232[_0x5c4758(0x150)])['click'](),_0x55d6c4['findByText'](_0x1ee232[_0x5c4758(0x340)])[_0x5c4758(0x384)](),_0x193b48[_0x5c4758(0x362)]()[_0x5c4758(0x1d3)](_0x1ee232[_0x5c4758(0x1df)])[_0x5c4758(0x384)](),_0x49f086[_0x5c4758(0x1d3)]('Custom\x20column')['click'](),_0x366718[_0x5c4758(0x2f4)]({'formula':'[Count]\x20*\x202','name':_0x5c4758(0x11d)}),_0x223bfd[_0x5c4758(0x158)](_0x5c4758(0x37a))[_0x5c4758(0x26d)](_0x1ee232[_0x5c4758(0x264)]);})):(H['getNotebookStep'](_0x19c72b[_0x2eb78a(0x23e)])['icon']('add')[_0x2eb78a(0x384)](),H['enterCustomColumnDetails']({'formula':_0x2291d7,'name':_0x42e20d}),H['popover']()[_0x2eb78a(0x158)](_0x2eb78a(0x37a))['click']());}it(_0x19c72b[_0x34a2ec(0x29b)],()=>{const _0xfea325=_0x34a2ec;H[_0xfea325(0x23c)](),H[_0xfea325(0x362)]()[_0xfea325(0x158)](_0xfea325(0xd8))[_0xfea325(0x384)](),_0x19c72b['urETz'](_0x2c504,_0x19c72b[_0xfea325(0x15d)],_0xfea325(0x1a3)),_0x19c72b[_0xfea325(0x3b3)](_0x2c504,_0xfea325(0x3ac),_0x19c72b['zXxAI']),_0x2c504(_0xfea325(0xf0),_0xfea325(0x1d2)),_0x2c504('isEmpty\x20-\x20ltrim\x20-\x20literal',_0x19c72b['ALbKg']),_0x2c504('notEmpty\x20-\x20title',_0x19c72b[_0xfea325(0x16e)]),_0x2c504(_0x19c72b[_0xfea325(0x1ec)],_0xfea325(0x1da)),_0x2c504(_0x19c72b['QqnQn'],_0x19c72b['dHHnS']),_0x2c504(_0xfea325(0x319),'notEmpty(lTrim(\x27AAA\x27))'),H[_0xfea325(0x3e7)](),cy['findByTestId']('query-visualization-root')[_0xfea325(0x1d3)](_0x19c72b[_0xfea325(0x149)])[_0xfea325(0x26d)](_0x19c72b[_0xfea325(0x12f)]);});});