const _0x5ba62f=_0x7684;function _0x7684(_0x167e17,_0x13d8dc){const _0x4404f3=_0x4404();return _0x7684=function(_0x76843e,_0x5e23ca){_0x76843e=_0x76843e-0x1b7;let _0x38ae22=_0x4404f3[_0x76843e];return _0x38ae22;},_0x7684(_0x167e17,_0x13d8dc);}(function(_0x598c31,_0x962d09){const _0x4ef2e6=_0x7684,_0x3e729=_0x598c31();while(!![]){try{const _0x225b93=-parseInt(_0x4ef2e6(0x2c3))/0x1+-parseInt(_0x4ef2e6(0x1f3))/0x2*(-parseInt(_0x4ef2e6(0x271))/0x3)+parseInt(_0x4ef2e6(0x31d))/0x4*(parseInt(_0x4ef2e6(0x241))/0x5)+-parseInt(_0x4ef2e6(0x28c))/0x6*(-parseInt(_0x4ef2e6(0x242))/0x7)+-parseInt(_0x4ef2e6(0x2ef))/0x8*(-parseInt(_0x4ef2e6(0x26b))/0x9)+parseInt(_0x4ef2e6(0x23b))/0xa+parseInt(_0x4ef2e6(0x243))/0xb*(-parseInt(_0x4ef2e6(0x348))/0xc);if(_0x225b93===_0x962d09)break;else _0x3e729['push'](_0x3e729['shift']());}catch(_0x399777){_0x3e729['push'](_0x3e729['shift']());}}}(_0x4404,0xd6d47));const {H}=cy;import{SAMPLE_DB_ID,USERS,USER_GROUPS}from'e2e/support/cypress_data';import{SAMPLE_DATABASE}from'e2e/support/cypress_sample_database';import{NODATA_USER_ID,ORDERS_DASHBOARD_ID,ORDERS_QUESTION_ID}from'e2e/support/cypress_sample_instance_data';function _0x4404(){const _0x38d2b9=['411b40bb-1374-9787-6ffb-20604df56d73','updatePermissions','6VdkbfA','qb-header-action-panel','islsa','PAVVi','0|2|4|3|1','QTToz','issue\x2022726','visit','/api/user/','DVSTl','\x20version:\x0a\x20should\x20be\x20able\x20to\x20select\x20question\x20(from\x20\x22Saved\x20Questions\x22)\x20which\x20belongs\x20to\x20the\x20database\x20user\x20doesn\x27t\x20have\x20data-permissions\x20for\x20(metabase#13347)','/dashboard/','/api/table','JcRXV','SCffq','dataset','unrestricted','New','Gizmo','/api/search?*','startNewQuestion','findByPlaceholderText','dkphG','and','PNxJh','lPZcm','wPHYY','366OuIEkR','pMyRf','request','searchResults','CATEGORY','tUFUP','archiveCollection','mEVNE','HqjYi','ByYPg','0|2|3|1|4','SxsBz','blocked','Reviews','createQuestion','issue\x2013347','ZDvKs','createNativeQuestion','yrJZH','Permissions\x20for\x20the\x20All\x20Users\x20group','ensure\x20that\x20\x22Collections\x22\x20is\x20not\x20selectable','intercept','keJyw','37.65','RnpUP','sZXAT','gGQak','uCPjY','viewport','have.attr','yJIiQ','^[A-Za-z]+','dDrNH','should\x20not\x20show\x20the\x20root\x20collection\x20name\x20in\x20breadcrumbs\x20if\x20the\x20user\x20does\x20not\x20have\x20access\x20to\x20it\x20(metabase#23981)','zSlFf','@dashboardId','@dashcardQuery','aHziI','contain','ZKqSG','eGTnQ','Line-button','gAMHp','NzuBb','find','VfTsf','withDatabase','findByText','rOJcT','WKaMx','query-builder-and-native','@updatePermissions','signInAsSandboxedUser','dashcardId','issue\x2022473','1176520kKFTCl','all','Enter\x20user\x20names\x20or\x20email\x20addresses','GET','/api/collection/','2|0|1|4|3','log','xZvWd','Gavhf','mzLKk','findByTestId','IyHNZ','RXSVr','First\x20collection','issue\x2019603','first_name','text','xgmHy','sidebar','/api/dataset','/api/dataset/pivot','LxzIQ','Orders','popover','regex-match-first','refresh','Sample\x20Database','pivotDataset','lZmaP','var\x20x\x20=\x2042;\x20return\x20x;','ueKvE','AmltZ','visitQuestionAdhoc','QqmBg','@saveButton','Firstname','data-disabled','display-options-sensible','should\x20offer\x20to\x20duplicate\x20a\x20question\x20in\x20a\x20view-only\x20collection\x20(metabase#22726)','Duplicate','edDop','restore','POST','yNyDx','8394616MMbOnk','Collections','LAPIH','JruhK','ByJgw','ScEKJ','udXkV','EZopt','should\x20correctly\x20fetch\x20field\x20values\x20for\x20a\x20filter\x20when\x20native\x20question\x20is\x20used\x20for\x20sandboxing\x20(metabase#24966)','pmYeG','viz-settings-button','be.disabled','getFullName','filterWidget','openSharingMenu','31.44','read','Query\x20builder\x20only','createCard','PUnod','uIQPa','@dashcardId','6|7|8|2|4|10|1|9|11|5|0|12|3','wghnM','issue\x2022727','should\x20not\x20offer\x20to\x20save\x20question\x20in\x20view\x20only\x20collection\x20(metabase#22727,\x20metabase#20717)','ihflr','VQKHT','ec00b255','visitQuestion','JnAyS','not.eq','YsDTq','string','icon','close\x20icon','?text=Widget','wrap','dUReO','anOKx','MpftJ','Our\x20analytics','Add\x20filter','cBIvJ','nocollection\x20user\x20should\x20be\x20able\x20to\x20view\x20and\x20unsubscribe\x20themselves\x20from\x20a\x20subscription','findAllByText','4hPSliH','should\x20not\x20expose\x20database\x20names\x20to\x20which\x20the\x20user\x20has\x20no\x20access\x20permissions\x20(metabase#22695)','bqZXx','pFYvT','commandPaletteSearch','CFLIS','/account/notifications','PSacA','?text=Gizmo','query','vbkdn','not.exist','2|3|4|5|0|1','jPXiD','not.contain','CDHpA','findByTextEnsureVisible','wfRKT','postgres-12','location','be.visible','Select\x20this\x20collection','variable','DWqRh','/api/card','updatePermissionsGraph','trrFX','slug','UQcRy','\x27s\x20Personal\x20Collection','should\x20still\x20be\x20able\x20to\x20set\x20permissions\x20on\x20individual\x20tables,\x20even\x20though\x20they\x20are\x20hidden\x20in\x20data\x20model\x20(metabase#17777)','KHIFT','click','/admin/permissions/data/group/','xGAKP','QArAg','mzkRb','IZkkc','qkYnj','ETIQv','coogg','XRlDP','MtrxV','84YJIShc','template-tag','ezYLT','wait','NrWRR','Unsubscribe','QZBve','RLqhx','VrYHk','TZcaj','signOut','realHover','TDKNE','aWtPU','XWHIW','PUT','Unrestricted','Collection','Orders\x20in\x20a\x20dashboard','Granular','visitDashboard','Email\x20it','findByLabelText','0|4|5|1|2|3','gNQnq','assertDatasetReqIsSandboxed','zxSwI','Frtdz','WgdFn','DiUDf','first','button','dGucf','Second\x20collection','@cardQuery','0|3|2|1|5|7|6|4','line','amGaf','MaiPs','FjbQg','TWjeQ','UBuQd','SELECT\x20*\x20FROM\x20ORDERS','NeyQE','hkGZT','UNfpf','dDLIV','auYWP','get','findAllByTestId','@searchResults','BcVUV','signIn','Yes','eSnqQ','tfYGB','category','AJFdQ','xHiii','LfsSx','tMcAm','select\x20products.category,PRODUCTS.title\x20from\x20PRODUCTS\x20where\x20true\x20[[AND\x20products.CATEGORY\x20=\x20{{category}}]]','FqwsV','entityPickerModal','dlPkt','@dataset','Text','within','none','bIbZv','ezDwQ','/collection/root','toUpperCase','second_collection','HTnHs','1062044lrdThO','QIlBp','AHoyH','riFfy','@external','@createCard','5|1|0|4|3|2','updateCollectionGraph','blur','EDqrT','TUYWn','dimension','MxhoC','Subscriptions','bCods','No\x20self-service','field-id','save-question-modal','saveButton','nocollection','contains','/admin/permissions/collections','YWRHq','notifications-list','search-result-item-name','{enter}','GAVRl','FqYJR','scMhB','JdqGp','assertQueryBuilderRowCount','SNyPs','pTjlT','setupSMTP','umjHH','gear','sNYoF','search','XqYpQ','vkuTN','LEkmP','issue\x2020436','meFkG','HmTKe','createQuestionAndDashboard','yinjt','zRIIG','ArCEb','skip','should','should\x20not\x20offer\x20to\x20save\x20question\x20to\x20users\x20with\x20no\x20data\x20permissions','nZcJS','UI\x20elements\x20that\x20make\x20no\x20sense\x20for\x20users\x20without\x20data\x20permissions\x20(metabase#22447,\x20metabase##22449,\x20metabase#22450)','VevIH','AmuGX','giLts','openQuestionActions','SsCZg','wmzYd','lpIbo','issue\x2024966','NAEmA','pathname','UCCsn','split','JRrkl','type','string/=','have.length.above','xQZjW','Saved\x20Questions','mZFuI','13359770jvVwxR','forEach','Widget','SRmyJ','Question','xYEaJ','1757165LahFZF','72191nylPOa','3726503qVSmcY','vaPbm','permission-table','NbMzy','AVDSo','issue\x2017777','Visualization','KWLlZ','People','Products','Category','eiVvF','sandboxTable','/api/permissions/graph','There\x20was\x20a\x20problem\x20with\x20your\x20question','BTdjN','setTokenFeatures','CWLlQ','zPJAw','signInAsAdmin','BIwVR','qb-save-button','xOFMu','FnpOL','dashboardId','VRqgn','field','JBplm','LFHaI','YOCOi','/database/','query-builder','/api/dashboard/','blockUserGroupPermissions','wqAcV','ALL_USERS_GROUP','RTNwx','gAxsD','23981','Save','9abufaA','nodata','then','ipZTu'];_0x4404=function(){return _0x38d2b9;};return _0x4404();}const {ALL_USERS_GROUP,DATA_GROUP,COLLECTION_GROUP}=USER_GROUPS,{ORDERS_ID,PRODUCTS_ID,PEOPLE_ID,REVIEWS_ID,PRODUCTS}=SAMPLE_DATABASE,{nocollection}=USERS,PG_DB_ID=0x2;describe[_0x5ba62f(0x223)](_0x5ba62f(0x29b),{'tags':'@external'},()=>{const _0x55dc3b=_0x5ba62f,_0x1c2e5d={'KHIFT':function(_0x4a3b1e,_0x56ce09){return _0x4a3b1e===_0x56ce09;},'JBplm':_0x55dc3b(0x2f1),'JeLcy':_0x55dc3b(0x1f9),'wmzYd':_0x55dc3b(0x1d2),'YVjSG':_0x55dc3b(0x2ff),'OTuJS':_0x55dc3b(0x281),'pynOY':_0x55dc3b(0x2ed),'BnztW':_0x55dc3b(0x280),'islsa':_0x55dc3b(0x335),'MqjZr':'5|2|0|1|4|3','wghnM':function(_0x1cdb15,_0x2be837){return _0x1cdb15(_0x2be837);},'hiJps':function(_0x5d6463,_0x4862b4){return _0x5d6463===_0x4862b4;}};beforeEach(()=>{const _0x6e950e=_0x55dc3b;if(_0x1c2e5d[_0x6e950e(0x33c)](_0x1c2e5d[_0x6e950e(0x25e)],_0x1c2e5d[_0x6e950e(0x25e)])){const _0x16e668=_0x1c2e5d['JeLcy'][_0x6e950e(0x233)]('|');let _0x28b136=0x0;while(!![]){switch(_0x16e668[_0x28b136++]){case'0':cy[_0x6e950e(0x256)]();continue;case'1':H[_0x6e950e(0x2ec)](_0x6e950e(0x32f));continue;case'2':H[_0x6e950e(0x2ba)](PG_DB_ID,({ORDERS_ID:_0x32efc5})=>H['createQuestion']({'name':'Q1','query':{'source-table':_0x32efc5},'database':PG_DB_ID}),H[_0x6e950e(0x29d)]({'name':'Q2','native':{'query':_0x1c2e5d[_0x6e950e(0x22d)]},'database':PG_DB_ID}));continue;case'3':cy[_0x6e950e(0x1fa)]({[ALL_USERS_GROUP]:{'root':_0x1c2e5d['YVjSG']}});continue;case'4':cy[_0x6e950e(0x336)]({[ALL_USERS_GROUP]:{0x1:{'view-data':_0x1c2e5d['OTuJS'],'create-queries':_0x6e950e(0x2be)},[PG_DB_ID]:{'view-data':_0x6e950e(0x281),'create-queries':'no'}}});continue;case'5':cy[_0x6e950e(0x2a1)](_0x1c2e5d['pynOY'],'/api/dataset')['as'](_0x1c2e5d['BnztW']);continue;}break;}}else _0x53b465[_0x6e950e(0x1c1)]({'requestAlias':'@dashcardQuery'+_0x2af1be});}),['QB','Native'][_0x55dc3b(0x23c)](_0x828944=>{const _0x4a2773=_0x55dc3b,_0x23924c={'trrFX':_0x4a2773(0x2ed),'IZkkc':_0x1c2e5d[_0x4a2773(0x273)],'NzuBb':_0x1c2e5d['MqjZr'],'ArCEb':function(_0x90f14e,_0x47f63a){const _0x3ab12e=_0x4a2773;return _0x1c2e5d[_0x3ab12e(0x306)](_0x90f14e,_0x47f63a);},'FqwsV':_0x4a2773(0x2e9),'cfIwG':_0x4a2773(0x255),'RqaoM':_0x4a2773(0x1ec),'vUmZV':function(_0x74ffa5,_0x396f82){return _0x1c2e5d['hiJps'](_0x74ffa5,_0x396f82);}};it(_0x828944[_0x4a2773(0x1f0)]()+_0x4a2773(0x27b),()=>{const _0x59cfd0=_0x4a2773;if(_0x23924c['cfIwG']==='zPJAw')cy['signIn'](_0x23924c['RqaoM']),H[_0x59cfd0(0x285)](),cy[_0x59cfd0(0x2bb)](_0x59cfd0(0x239))['click'](),_0x23924c['vUmZV'](_0x828944,'QB')?cy[_0x59cfd0(0x2bb)]('Q1')[_0x59cfd0(0x33d)]():cy['findByText']('Q2')[_0x59cfd0(0x33d)](),cy[_0x59cfd0(0x34b)](_0x59cfd0(0x1e9),{'timeout':0x1388}),cy[_0x59cfd0(0x207)](_0x59cfd0(0x2a3));else{const _0x6c7b0c={'VevIH':_0x23924c[_0x59cfd0(0x337)],'zxSwI':_0x23924c[_0x59cfd0(0x342)],'qkYnj':_0x23924c[_0x59cfd0(0x2b7)],'QqmBg':_0x59cfd0(0x1f8)};_0x23924c[_0x59cfd0(0x222)](_0x48314b,()=>{const _0x21d941=_0x59cfd0;_0x3d55c9[_0x21d941(0x2a1)](_0x6c7b0c[_0x21d941(0x228)],_0x21d941(0x2d6))['as'](_0x21d941(0x280)),_0x1c9795['intercept'](_0x6c7b0c['VevIH'],_0x6c7b0c[_0x21d941(0x1c2)])['as'](_0x21d941(0x301)),_0x1ecec8[_0x21d941(0x2ec)](),_0xdb247c[_0x21d941(0x256)](),_0x4c9251[_0x21d941(0x1fa)]({[_0x138a32]:{'root':_0x21d941(0x2ff)}}),_0xb558c4[_0x21d941(0x1dc)]('nocollection');}),_0x189819(_0x23924c[_0x59cfd0(0x1e6)],()=>{const _0x361e93=_0x59cfd0,_0x3c1e67=_0x6c7b0c[_0x361e93(0x343)][_0x361e93(0x233)]('|');let _0x2acbc1=0x0;while(!![]){switch(_0x3c1e67[_0x2acbc1++]){case'0':_0xcf67c6['popover']()[_0x361e93(0x2bb)](_0x361e93(0x2ea))[_0x361e93(0x33d)]();continue;case'1':_0x4f6f1a[_0x361e93(0x32d)](_0x3573b8[_0x361e93(0x2fb)](_0x59b90d)+_0x361e93(0x33a));continue;case'2':_0x2227e0['openQuestionActions']();continue;case'3':_0x209807[_0x361e93(0x34b)](_0x6c7b0c[_0x361e93(0x2e4)]);continue;case'4':_0x2d409b[_0x361e93(0x1c7)](_0x361e93(0x2ea))[_0x361e93(0x33d)]();continue;case'5':_0x301321[_0x361e93(0x30c)](_0x517601);continue;}break;}});}});});}),describe('postgres\x20>\x20user\x20>\x20query',{'tags':_0x5ba62f(0x1f7)},()=>{const _0x4faa56=_0x5ba62f,_0x121192={'PUnod':'postgres-12','rOJcT':_0x4faa56(0x281),'aElbM':'blocked','AmuGX':_0x4faa56(0x2d7),'YXjYY':_0x4faa56(0x2de),'XcXFg':_0x4faa56(0x2d6),'ZKqSG':_0x4faa56(0x2ff),'FjbQg':_0x4faa56(0x1cb),'EDqrT':'dimension','yNJyA':_0x4faa56(0x203),'HqjYi':_0x4faa56(0x259),'XMnbl':_0x4faa56(0x2e6),'QNoEu':function(_0x182a6c,_0x420a09,_0x306de9){return _0x182a6c(_0x420a09,_0x306de9);},'eSnqQ':_0x4faa56(0x2e0)};beforeEach(()=>{const _0x539a69=_0x4faa56;H[_0x539a69(0x2ec)](_0x121192[_0x539a69(0x302)]),cy['signInAsAdmin'](),H[_0x539a69(0x253)](_0x539a69(0x2c4)),cy[_0x539a69(0x336)]({[ALL_USERS_GROUP]:{[PG_DB_ID]:{'view-data':_0x539a69(0x298),'create-queries':'no'}},[DATA_GROUP]:{[PG_DB_ID]:{'view-data':_0x121192[_0x539a69(0x2bc)],'create-queries':'query-builder-and-native'}},[COLLECTION_GROUP]:{[PG_DB_ID]:{'view-data':_0x121192['aElbM'],'create-queries':'no'}}}),cy['intercept'](_0x539a69(0x2ed),_0x121192[_0x539a69(0x229)])['as'](_0x121192['YXjYY']);}),_0x121192['QNoEu'](it,'should\x20handle\x20the\x20use\x20of\x20`regexextract`\x20in\x20a\x20sandboxed\x20table\x20(metabase#14873)',()=>{const _0xe8879b=_0x4faa56,_0x2874db={'BTdjN':_0x121192[_0xe8879b(0x1cf)],'AJFdQ':_0x121192[_0xe8879b(0x1fc)],'QZBve':_0x121192['yNJyA'],'Frtdz':_0xe8879b(0x2ab)};if(_0x121192[_0xe8879b(0x294)]!==_0xe8879b(0x32a)){const _0x50ecb9=_0x121192['XMnbl'];cy[_0xe8879b(0x2a8)](0x898,0x4b0),H[_0xe8879b(0x2ba)](PG_DB_ID,({PEOPLE:_0x414430,PEOPLE_ID:_0x59c66e})=>{const _0x505eed=_0xe8879b;H[_0x505eed(0x29a)]({'name':'14873','query':{'source-table':_0x59c66e,'expressions':{[_0x50ecb9]:[_0x505eed(0x2db),[_0x2874db[_0x505eed(0x34e)],_0x414430['NAME']],_0x2874db[_0x505eed(0x1c3)]]}},'database':PG_DB_ID})[_0x505eed(0x26d)](({body:{id:_0x4b895c}})=>{const _0x2d2ef1=_0x505eed,_0x402b0f=_0x2874db[_0x2d2ef1(0x252)][_0x2d2ef1(0x233)]('|');let _0x5f41df=0x0;while(!![]){switch(_0x402b0f[_0x5f41df++]){case'0':cy[_0x2d2ef1(0x24f)]({'table_id':_0x59c66e,'attribute_remappings':{'attr_uid':[_0x2874db[_0x2d2ef1(0x1e1)],['field-id',_0x414430['ID']]]}});continue;case'1':H['visitQuestion'](_0x4b895c);continue;case'2':cy[_0x2d2ef1(0x2c0)]();continue;case'3':cy['signOut']();continue;case'4':H[_0x2d2ef1(0x1c1)]({'requestAlias':_0x2d2ef1(0x1ca)+_0x4b895c});continue;case'5':cy['findByText'](_0x50ecb9);continue;case'6':H[_0x2d2ef1(0x211)](0x1);continue;case'7':cy[_0x2d2ef1(0x2bb)](/^Hudson$/);continue;}break;}});});}else _0x35a01b[_0xe8879b(0x2a1)](_0xe8879b(0x2ed),_0x121192['XcXFg'])['as'](_0xe8879b(0x280)),_0x77d418[_0xe8879b(0x2ec)](),_0x11324b['signInAsAdmin'](),_0x5ad7dc[_0xe8879b(0x1fa)]({[_0x2748c2]:{'root':_0x121192[_0xe8879b(0x2b3)]}}),_0x2fb258['signIn'](_0xe8879b(0x206));}),new Function(_0x121192[_0x4faa56(0x1de)])();}),describe[_0x5ba62f(0x223)](_0x5ba62f(0x248),()=>{const _0x203c18=_0x5ba62f,_0x5ddc51={'tMcAm':_0x203c18(0x1b7),'CdELO':'hidden','dUReO':_0x203c18(0x2d9),'SxsBz':_0x203c18(0x29f),'hkGZT':_0x203c18(0x231),'nZcJS':_0x203c18(0x245),'VpaER':_0x203c18(0x202),'zSlFf':_0x203c18(0x1b8),'LMPAa':function(_0x5e5451,_0x4bcd28){return _0x5e5451(_0x4bcd28);}};function _0x31bf32(_0x510f8e){const _0x2d51d1=_0x203c18;cy['request'](_0x5ddc51[_0x2d51d1(0x1e4)],_0x2d51d1(0x27d),{'ids':_0x510f8e,'visibility_type':_0x5ddc51['CdELO']});}_0x5ddc51['LMPAa'](beforeEach,()=>{H['restore'](),cy['signInAsAdmin'](),_0x31bf32([ORDERS_ID,PRODUCTS_ID,PEOPLE_ID,REVIEWS_ID]);}),it(_0x203c18(0x33b),()=>{const _0x2ce742=_0x203c18,_0x32eedf={'vaPbm':function(_0x548d03,_0x579dde){return _0x548d03!==_0x579dde;},'KWLlZ':'JnAyS','mzLKk':_0x5ddc51[_0x2ce742(0x315)]};cy[_0x2ce742(0x278)](_0x2ce742(0x33e)+ALL_USERS_GROUP),cy[_0x2ce742(0x2bb)](_0x5ddc51[_0x2ce742(0x297)]),cy[_0x2ce742(0x32d)](_0x2ce742(0x2dd))[_0x2ce742(0x33d)](),cy['location'](_0x5ddc51[_0x2ce742(0x1d4)])[_0x2ce742(0x224)]('eq','/admin/permissions/data/group/'+ALL_USERS_GROUP+_0x2ce742(0x261)+SAMPLE_DB_ID),cy[_0x2ce742(0x2cd)](_0x5ddc51[_0x2ce742(0x226)])[_0x2ce742(0x1eb)](()=>{const _0x17e67a=_0x2ce742;_0x32eedf[_0x17e67a(0x244)](_0x32eedf[_0x17e67a(0x24a)],_0x17e67a(0x30d))?_0x3537fa['button'](_0x17e67a(0x34d))[_0x17e67a(0x33d)]():(cy[_0x17e67a(0x2bb)](_0x32eedf[_0x17e67a(0x2cc)]),cy[_0x17e67a(0x2bb)](_0x17e67a(0x24c)),cy['findByText'](_0x17e67a(0x299)),cy[_0x17e67a(0x2bb)](_0x17e67a(0x24b)));}),cy[_0x2ce742(0x31c)](_0x5ddc51['VpaER'])[_0x2ce742(0x1c6)]()[_0x2ce742(0x33d)](),H['popover']()['contains'](_0x5ddc51[_0x2ce742(0x2ae)]);});}),describe(_0x5ba62f(0x2d1),()=>{const _0x146d7e=_0x5ba62f,_0x16da35={'RcQPL':function(_0x493895,_0x240a5a){return _0x493895!==_0x240a5a;},'eiVvF':'Slkyf','udXkV':_0x146d7e(0x355),'CDHpA':_0x146d7e(0x2d0),'SRmyJ':'not.exist','tfYGB':function(_0x78d76c,_0x1e46bb){return _0x78d76c(_0x1e46bb);},'QIlBp':function(_0x35ac9d,_0x570b03,_0x448e56){return _0x35ac9d(_0x570b03,_0x448e56);}};_0x16da35[_0x146d7e(0x1df)](beforeEach,()=>{const _0x2a9461=_0x146d7e,_0x109e4d={'WQvGQ':_0x2a9461(0x208)};_0x16da35['RcQPL'](_0x16da35[_0x2a9461(0x24e)],_0x16da35[_0x2a9461(0x2f5)])?(H['restore'](),cy['signInAsAdmin'](),cy[_0x2a9461(0x28e)](_0x2a9461(0x2c6),_0x2a9461(0x2c7))[_0x2a9461(0x26d)](({body:_0x588e53})=>{const _0x292d54=_0x2a9461,{id:_0x12074b}=_0x588e53['find'](_0x50b212=>_0x50b212[_0x292d54(0x338)]==='second_collection');H[_0x292d54(0x292)](_0x12074b);})):(_0xde16ce[_0x2a9461(0x278)](_0x109e4d['WQvGQ']),_0x5bf5c8[_0x2a9461(0x2bb)](_0x2a9461(0x2d0))[_0x2a9461(0x33d)](),_0x362f44[_0x2a9461(0x2bb)](_0x2a9461(0x1c9))[_0x2a9461(0x224)]('not.exist'));}),_0x16da35[_0x146d7e(0x1f4)](it,'archived\x20subcollection\x20should\x20not\x20show\x20up\x20in\x20permissions\x20(metabase#19603)',()=>{const _0x178319=_0x146d7e;cy[_0x178319(0x278)](_0x178319(0x208)),cy['findByText'](_0x16da35[_0x178319(0x32c)])[_0x178319(0x33d)](),cy[_0x178319(0x2bb)](_0x178319(0x1c9))['should'](_0x16da35[_0x178319(0x23e)]);});}),describe(_0x5ba62f(0x21c),()=>{const _0x28fb5e=_0x5ba62f,_0x34408a={'wMnIp':_0x28fb5e(0x216),'fJHHg':function(_0x4e62a2,_0x1a2b25){return _0x4e62a2!==_0x1a2b25;},'RTNwx':'yoyYL','ETIQv':_0x28fb5e(0x1dd),'ueKvE':'0|4|1|3|2','zRIIG':_0x28fb5e(0x1b7),'yJIiQ':_0x28fb5e(0x250),'vkuTN':'unrestricted','qiGBu':_0x28fb5e(0x262),'bIbZv':_0x28fb5e(0x2c4),'giLts':_0x28fb5e(0x312),'yinjt':'MoKAy','NrWRR':_0x28fb5e(0x300),'RPrfA':_0x28fb5e(0x1bb),'PAVVi':function(_0xf7e01b,_0x3ef4d1,_0x4d1172){return _0xf7e01b(_0x3ef4d1,_0x4d1172);},'MtrxV':function(_0x4a6555){return _0x4a6555();},'RnpUP':_0x28fb5e(0x2bf),'dkphG':function(_0x3c99b1,_0x46287f){return _0x3c99b1(_0x46287f);},'TDKNE':function(_0x40e8e8,_0x2471f1,_0x5be362){return _0x40e8e8(_0x2471f1,_0x5be362);}},_0x33471b=_0x28fb5e(0x33e)+ALL_USERS_GROUP;function _0x2ab563(_0x31f4c9,_0xc75db9){const _0x30891d=_0x28fb5e;cy[_0x30891d(0x31c)](_0x31f4c9)[_0x30891d(0x1c6)]()[_0x30891d(0x33d)](),H[_0x30891d(0x2da)]()['contains'](_0xc75db9)['click']();}function _0x545709(){const _0x165803=_0x28fb5e;_0x34408a['fJHHg'](_0x34408a[_0x165803(0x267)],_0x34408a[_0x165803(0x267)])?_0x441cf2[_0x165803(0x311)](_0x34408a['wMnIp'])[_0x165803(0x33d)]():(cy[_0x165803(0x1c7)]('Save\x20changes')['click'](),cy[_0x165803(0x1c7)](_0x34408a[_0x165803(0x344)])[_0x165803(0x33d)]());}_0x34408a[_0x28fb5e(0x287)](beforeEach,()=>{const _0x3a689a=_0x28fb5e,_0x4f60e9=_0x34408a[_0x3a689a(0x2e1)][_0x3a689a(0x233)]('|');let _0x5e6fb5=0x0;while(!![]){switch(_0x4f60e9[_0x5e6fb5++]){case'0':cy[_0x3a689a(0x2a1)](_0x34408a[_0x3a689a(0x221)],_0x34408a[_0x3a689a(0x2aa)])['as'](_0x3a689a(0x270));continue;case'1':cy[_0x3a689a(0x256)]();continue;case'2':cy['updatePermissionsGraph']({[ALL_USERS_GROUP]:{0x1:{'view-data':_0x34408a[_0x3a689a(0x21a)],'create-queries':_0x34408a['qiGBu']}}});continue;case'3':H[_0x3a689a(0x253)](_0x34408a[_0x3a689a(0x1ed)]);continue;case'4':H[_0x3a689a(0x2ec)]();continue;}break;}}),_0x34408a[_0x28fb5e(0x354)](it,'should\x20display\x20correct\x20permissions\x20on\x20the\x20database\x20level\x20after\x20changes\x20on\x20the\x20table\x20level\x20(metabase#20436)',()=>{const _0xb14ce4=_0x28fb5e,_0xce6d79={'wfRKT':_0x34408a['RPrfA']};cy['visit'](_0x33471b),cy[_0xb14ce4(0x2cd)](_0xb14ce4(0x245))[_0xb14ce4(0x1eb)](()=>{const _0x5bc535=_0xb14ce4,_0x52b216={'lmgkw':_0x34408a[_0x5bc535(0x22a)]};_0x5bc535(0x210)!==_0x34408a[_0x5bc535(0x220)]?cy[_0x5bc535(0x2bb)](_0x34408a[_0x5bc535(0x34c)])['click']():_0x2e8745[_0x5bc535(0x1be)](_0x52b216['lmgkw'])[_0x5bc535(0x33d)]();}),H['popover']()[_0xb14ce4(0x1eb)](()=>{const _0x554c90=_0xb14ce4;cy[_0x554c90(0x2bb)](_0xce6d79[_0x554c90(0x32e)])['click']();}),_0x34408a[_0xb14ce4(0x274)](_0x2ab563,_0xb14ce4(0x300),'No'),_0x34408a[_0xb14ce4(0x347)](_0x545709),cy['wait'](_0x34408a[_0xb14ce4(0x2a4)]),_0x2ab563('No',_0x34408a['NrWRR']),_0x34408a[_0xb14ce4(0x347)](_0x545709),cy[_0xb14ce4(0x34b)](_0x34408a[_0xb14ce4(0x2a4)]),cy[_0xb14ce4(0x278)](_0x33471b),cy[_0xb14ce4(0x2bb)](_0xb14ce4(0x300));});}),describe(_0x5ba62f(0x227),()=>{const _0x4a7e54=_0x5ba62f,_0xc1a4cb={'dlPkt':_0x4a7e54(0x275),'MSRes':_0x4a7e54(0x2ed),'vbkdn':_0x4a7e54(0x2d6),'LEkmP':_0x4a7e54(0x1ec),'nylJB':_0x4a7e54(0x332),'ezYLT':'YSMaC','Gavhf':_0x4a7e54(0x280),'riFfy':_0x4a7e54(0x32f),'lZmaP':_0x4a7e54(0x29e),'fYaPX':_0x4a7e54(0x1f2),'sZXAT':_0x4a7e54(0x2dc),'DiUDf':_0x4a7e54(0x328),'KZUsi':_0x4a7e54(0x249),'BIwVR':_0x4a7e54(0x2b5),'NeyQE':_0x4a7e54(0x258),'tUFUP':_0x4a7e54(0x205),'cYtBL':_0x4a7e54(0x2a9),'mzkRb':_0x4a7e54(0x2e7),'auYWP':_0x4a7e54(0x2e5),'coogg':'Dashboard','VRqgn':_0x4a7e54(0x2b2),'JRrkl':'not.contain','XWHIW':_0x4a7e54(0x23f),'umjHH':_0x4a7e54(0x298),'obite':_0x4a7e54(0x26c),'DVSTl':_0x4a7e54(0x251),'meFkG':_0x4a7e54(0x282),'ihflr':function(_0x57794a,_0x5b3672,_0x4a53fd){return _0x57794a(_0x5b3672,_0x4a53fd);},'xgmHy':_0x4a7e54(0x225),'iPxpn':function(_0x12923c,_0x4d12f6,_0x32c8b9){return _0x12923c(_0x4d12f6,_0x32c8b9);}};beforeEach(()=>{const _0x46deb7=_0x4a7e54;if('YSMaC'===_0xc1a4cb[_0x46deb7(0x34a)])H['restore']();else{const _0x379fe2={'AVDSo':_0xc1a4cb[_0x46deb7(0x1e8)],'QArAg':_0xc1a4cb['MSRes'],'ezDwQ':_0xc1a4cb['vbkdn'],'pMyRf':_0x46deb7(0x206),'JruhK':_0xc1a4cb[_0x46deb7(0x21b)],'UQcRy':_0x46deb7(0x2f0),'xTlOw':_0xc1a4cb['nylJB'],'fQyHh':_0x46deb7(0x326)};_0x12dd16(()=>{const _0x520ac2=_0x46deb7,_0x10d23a=_0x379fe2[_0x520ac2(0x247)][_0x520ac2(0x233)]('|');let _0x531129=0x0;while(!![]){switch(_0x10d23a[_0x531129++]){case'0':_0x287c89[_0x520ac2(0x2a1)](_0x379fe2[_0x520ac2(0x340)],_0x379fe2[_0x520ac2(0x1ee)])['as'](_0x520ac2(0x280));continue;case'1':_0x29cc93[_0x520ac2(0x1dc)](_0x379fe2[_0x520ac2(0x28d)]);continue;case'2':_0x2dd972[_0x520ac2(0x2ec)]();continue;case'3':_0x29dfff[_0x520ac2(0x1fa)]({[_0x322d89]:{'root':_0x379fe2[_0x520ac2(0x2f2)]}});continue;case'4':_0x380aa5[_0x520ac2(0x256)]();continue;}break;}}),_0x40ce93(_0x46deb7(0x2ad),()=>{const _0x27b539=_0x46deb7;_0x492b30[_0x27b539(0x2e3)]({'name':_0x27b539(0x269),'dataset_query':{'database':_0x728127,'type':_0x379fe2['fQyHh'],'query':{'source-table':_0x20b72f}}}),_0x1a2830[_0x27b539(0x2bb)]('Save')['click'](),_0x4ec8fd[_0x27b539(0x2bb)](_0x4f508b[_0x27b539(0x2fb)](_0x251e95)+_0x27b539(0x33a))[_0x27b539(0x33d)](),_0x1e5fff[_0x27b539(0x1e7)]()['within'](()=>{const _0xeeba9c=_0x27b539;_0x3db31c[_0xeeba9c(0x2bb)](_0xeeba9c(0x318))[_0xeeba9c(0x224)](_0xeeba9c(0x328)),_0x47853c['log'](_0xeeba9c(0x2a0)),_0x55f0d7[_0xeeba9c(0x2bb)](_0x379fe2[_0xeeba9c(0x339)])[_0xeeba9c(0x224)](_0xeeba9c(0x331))[_0xeeba9c(0x33d)](),_0x159a45[_0xeeba9c(0x1c7)](_0x379fe2['xTlOw'])['should'](_0xeeba9c(0x2fa));});});}}),_0xc1a4cb[_0x4a7e54(0x309)](it,_0xc1a4cb[_0x4a7e54(0x2d4)],()=>{const _0x23d9f9=_0x4a7e54;cy[_0x23d9f9(0x1dc)](_0x23d9f9(0x26c)),H[_0x23d9f9(0x30c)](ORDERS_QUESTION_ID),cy['findByTestId'](_0x23d9f9(0x2f9)),cy[_0x23d9f9(0x2bb)](_0xc1a4cb['KZUsi'])[_0x23d9f9(0x33d)](),cy[_0x23d9f9(0x2cd)](_0x23d9f9(0x2e8)),cy[_0x23d9f9(0x311)](_0x23d9f9(0x1cc))[_0x23d9f9(0x33d)](),cy[_0x23d9f9(0x2cd)](_0xc1a4cb[_0x23d9f9(0x257)])[_0x23d9f9(0x353)](),cy['findByTestId']('Line-container')[_0x23d9f9(0x1eb)](()=>{const _0x214e5b=_0x23d9f9;cy[_0x214e5b(0x311)](_0x214e5b(0x216))[_0x214e5b(0x33d)]();}),cy[_0x23d9f9(0x32d)]('Line\x20options'),cy[_0x23d9f9(0x2cd)](_0xc1a4cb[_0x23d9f9(0x1d3)])['as'](_0xc1a4cb[_0x23d9f9(0x291)])[_0x23d9f9(0x224)](_0xc1a4cb['cYtBL'],_0xc1a4cb[_0x23d9f9(0x341)]),cy['get'](_0xc1a4cb[_0x23d9f9(0x1d7)])[_0x23d9f9(0x353)](),cy[_0x23d9f9(0x2bb)]('You\x20don\x27t\x20have\x20permission\x20to\x20save\x20this\x20question.'),cy[_0x23d9f9(0x2cd)](_0x23d9f9(0x272))['within'](()=>{const _0x25792f=_0x23d9f9,_0x538a1b={'RLqhx':_0x25792f(0x2ed),'zQzwf':_0xc1a4cb[_0x25792f(0x327)],'FqYJR':_0xc1a4cb[_0x25792f(0x2cb)],'jiGtJ':'read','dmamM':'SELECT\x20*\x20FROM\x20ORDERS','xGAKP':_0xc1a4cb[_0x25792f(0x1f6)]};if(_0xc1a4cb[_0x25792f(0x2df)]!==_0xc1a4cb['fYaPX'])cy['icon'](_0xc1a4cb[_0x25792f(0x2a5)])[_0x25792f(0x224)](_0xc1a4cb['DiUDf']);else{const _0x5679c3=_0x25792f(0x1bf)[_0x25792f(0x233)]('|');let _0x1f1896=0x0;while(!![]){switch(_0x5679c3[_0x1f1896++]){case'0':_0x20592a[_0x25792f(0x2a1)](_0x538a1b[_0x25792f(0x34f)],_0x538a1b['zQzwf'])['as'](_0x538a1b[_0x25792f(0x20e)]);continue;case'1':_0x561227[_0x25792f(0x336)]({[_0x4165c7]:{0x1:{'view-data':'unrestricted','create-queries':_0x25792f(0x2be)},[_0x2ead19]:{'view-data':_0x25792f(0x281),'create-queries':'no'}}});continue;case'2':_0x140935[_0x25792f(0x1fa)]({[_0x503a14]:{'root':_0x538a1b['jiGtJ']}});continue;case'3':_0x39c812[_0x25792f(0x2ba)](_0x3df641,({ORDERS_ID:_0x3d361b})=>_0xac4df1['createQuestion']({'name':'Q1','query':{'source-table':_0x3d361b},'database':_0x2cc73b}),_0xe30002['createNativeQuestion']({'name':'Q2','native':{'query':_0x538a1b['dmamM']},'database':_0x41ddde}));continue;case'4':_0x74fae3[_0x25792f(0x2ec)](_0x538a1b[_0x25792f(0x33f)]);continue;case'5':_0x23a95c[_0x25792f(0x256)]();continue;}break;}}}),cy[_0x23d9f9(0x278)](_0x23d9f9(0x1ef)),cy[_0x23d9f9(0x2bb)](_0x23d9f9(0x282))[_0x23d9f9(0x33d)](),H[_0x23d9f9(0x2da)]()[_0x23d9f9(0x224)](_0x23d9f9(0x2b2),_0xc1a4cb[_0x23d9f9(0x345)])['and'](_0xc1a4cb[_0x23d9f9(0x25c)],_0x23d9f9(0x1b9))[_0x23d9f9(0x288)](_0xc1a4cb[_0x23d9f9(0x234)],_0xc1a4cb[_0x23d9f9(0x356)]);}),_0xc1a4cb['iPxpn'](it,'should\x20not\x20show\x20visualization\x20or\x20question\x20settings\x20to\x20users\x20with\x20block\x20data\x20permissions',()=>{const _0x609bc3=_0x4a7e54,_0x943c70={'lPZcm':_0x609bc3(0x2dc),'xHiii':_0xc1a4cb[_0x609bc3(0x1c5)]};cy[_0x609bc3(0x256)](),H[_0x609bc3(0x253)](_0x609bc3(0x2c4)),cy['updatePermissionsGraph']({[ALL_USERS_GROUP]:{[SAMPLE_DB_ID]:{'view-data':_0xc1a4cb[_0x609bc3(0x215)]}},[COLLECTION_GROUP]:{[SAMPLE_DB_ID]:{'view-data':_0xc1a4cb['umjHH']}}}),cy[_0x609bc3(0x1dc)](_0xc1a4cb['obite']),H[_0x609bc3(0x30c)](ORDERS_QUESTION_ID),cy['findByTextEnsureVisible'](_0xc1a4cb[_0x609bc3(0x27a)]),cy[_0x609bc3(0x2cd)](_0x609bc3(0x2f9))[_0x609bc3(0x224)](_0xc1a4cb['DiUDf']),cy[_0x609bc3(0x2bb)](_0x609bc3(0x249))[_0x609bc3(0x224)](_0x609bc3(0x328)),cy[_0x609bc3(0x2cd)](_0x609bc3(0x272))[_0x609bc3(0x1eb)](()=>{const _0x1c04bc=_0x609bc3;cy[_0x1c04bc(0x311)](_0x943c70[_0x1c04bc(0x28a)])[_0x1c04bc(0x224)](_0x943c70[_0x1c04bc(0x1e2)]);}),cy[_0x609bc3(0x278)](_0x609bc3(0x1ef)),cy[_0x609bc3(0x2bb)](_0xc1a4cb[_0x609bc3(0x21d)])[_0x609bc3(0x33d)](),H[_0x609bc3(0x2da)]()[_0x609bc3(0x224)](_0x609bc3(0x2b2),_0xc1a4cb[_0x609bc3(0x345)])[_0x609bc3(0x288)](_0x609bc3(0x2b2),_0x609bc3(0x1b9))[_0x609bc3(0x288)](_0xc1a4cb[_0x609bc3(0x234)],_0xc1a4cb[_0x609bc3(0x356)]);});}),describe(_0x5ba62f(0x2c2),()=>{const _0x527a6a=_0x5ba62f,_0x3c477f={'dTBZd':_0x527a6a(0x312),'EZopt':_0x527a6a(0x2dc),'sNYoF':_0x527a6a(0x328),'lpIbo':_0x527a6a(0x206),'QTToz':_0x527a6a(0x308),'YsDTq':'NCbgy','RXSVr':_0x527a6a(0x200),'keJyw':function(_0x128b14,_0x5e29b9,_0x2bb9bf){return _0x128b14(_0x5e29b9,_0x2bb9bf);},'ActmB':_0x527a6a(0x31b)};beforeEach(()=>{const _0x358c8b=_0x527a6a;H['restore'](),cy['signInAsAdmin'](),H[_0x358c8b(0x214)]();}),_0x3c477f[_0x527a6a(0x2a2)](it,_0x3c477f['ActmB'],()=>{const _0x190441=_0x527a6a,_0x38ff9b={'YWRHq':_0x3c477f[_0x190441(0x2f6)],'UBuQd':_0x3c477f[_0x190441(0x217)],'PNxJh':_0x3c477f[_0x190441(0x22e)],'mZFuI':'@dataset','xYEaJ':'save-question-modal','TBpqm':_0x3c477f[_0x190441(0x276)],'bCods':function(_0x501da4,_0x52046e){return _0x501da4===_0x52046e;},'XqYpQ':'ZWgjW','VQKHT':'Done'};_0x190441(0x324)===_0x3c477f[_0x190441(0x30f)]?_0x1d5cdd[_0x190441(0x311)](_0x38ff9b[_0x190441(0x209)])[_0x190441(0x224)](_0x38ff9b[_0x190441(0x1d1)]):(cy[_0x190441(0x278)](_0x190441(0x27c)+ORDERS_DASHBOARD_ID),H[_0x190441(0x2fd)](_0x3c477f[_0x190441(0x2cf)]),cy[_0x190441(0x2bb)](_0x190441(0x1bd))[_0x190441(0x33d)](),cy[_0x190441(0x286)](_0x190441(0x2c5))[_0x190441(0x33d)]()[_0x190441(0x235)](nocollection[_0x190441(0x2d2)]+'\x20'+nocollection['last_name']+_0x190441(0x20c))[_0x190441(0x1fb)](),H[_0x190441(0x2d5)]()[_0x190441(0x1eb)](()=>{const _0x2ef25c=_0x190441;if(_0x38ff9b[_0x2ef25c(0x201)](_0x38ff9b[_0x2ef25c(0x219)],'ZWgjW'))cy[_0x2ef25c(0x1c7)](_0x38ff9b[_0x2ef25c(0x30a)])[_0x2ef25c(0x33d)]();else{const _0x2104a3={'pDAwR':_0x38ff9b[_0x2ef25c(0x289)],'gNQnq':_0x2ef25c(0x318),'vVLAN':'31.44','dGucf':_0x38ff9b[_0x2ef25c(0x23a)],'RTihB':_0x38ff9b[_0x2ef25c(0x240)]};_0x51db78(()=>{const _0x1d8991=_0x2ef25c,_0x2fbe09='4|2|3|1|0'[_0x1d8991(0x233)]('|');let _0x5dd1e3=0x0;while(!![]){switch(_0x2fbe09[_0x5dd1e3++]){case'0':_0x297235[_0x1d8991(0x1dc)](_0x2104a3['pDAwR']);continue;case'1':_0x411e75[_0x1d8991(0x1fa)]({[_0x55050f]:{'root':_0x1d8991(0x2ff)}});continue;case'2':_0x25ce24[_0x1d8991(0x2ec)]();continue;case'3':_0x4845e8[_0x1d8991(0x256)]();continue;case'4':_0x17e0e7[_0x1d8991(0x2a1)](_0x1d8991(0x2ed),_0x1d8991(0x2d6))['as']('dataset');continue;}break;}}),_0xd203cf(_0x38ff9b['TBpqm'],()=>{const _0x526272=_0x2ef25c,_0x328c34={'gAxsD':_0x526272(0x328),'bNXwi':_0x526272(0x30e),'mEVNE':_0x2104a3[_0x526272(0x1c0)]};_0x3d438f[_0x526272(0x30c)](_0x1782b4),_0x4ef98d[_0x526272(0x2bb)](_0x2104a3['vVLAN'])[_0x526272(0x33d)](),_0x2a63ed[_0x526272(0x2da)]()['contains']('=')[_0x526272(0x33d)](),_0x49aac3[_0x526272(0x34b)](_0x2104a3[_0x526272(0x1c8)]),_0xb3670[_0x526272(0x2bb)](_0x526272(0x26a))[_0x526272(0x33d)](),_0x23f0fb[_0x526272(0x2cd)](_0x2104a3['RTihB'])[_0x526272(0x26d)](_0x2eab72=>{const _0x4970c9=_0x526272;_0x12cd2b['findByText'](/^Replace original qeustion/)[_0x4970c9(0x224)](_0x328c34[_0x4970c9(0x268)]),_0x368570[_0x4970c9(0x1be)](/Where do you want to save this/)['invoke'](_0x4970c9(0x2d3))[_0x4970c9(0x224)](_0x328c34['bNXwi'],_0x328c34[_0x4970c9(0x293)]);});});}}),cy[_0x190441(0x1dc)](_0x3c477f[_0x190441(0x22e)]),cy[_0x190441(0x278)](_0x190441(0x323)),cy[_0x190441(0x2bb)](_0x190441(0x1ba))['should']('exist'),cy[_0x190441(0x2cd)](_0x190441(0x20a))[_0x190441(0x1eb)](()=>{const _0x493283=_0x190441;cy[_0x493283(0x1be)](_0x3c477f['dTBZd'])[_0x493283(0x33d)]();}),H['modal']()['within'](()=>{const _0x3dc8bf=_0x190441;cy[_0x3dc8bf(0x1c7)](_0x3dc8bf(0x34d))[_0x3dc8bf(0x33d)]();}),cy[_0x190441(0x2bb)](_0x190441(0x1ba))['should'](_0x190441(0x328)));});}),describe('issue\x2022695\x20',()=>{const _0xa19633=_0x5ba62f,_0xacf5b5={'VrYHk':function(_0x59d16f,_0x5f4245){return _0x59d16f===_0x5f4245;},'EVmPv':_0xa19633(0x20b),'NbMzy':_0xa19633(0x237),'WgdFn':_0xa19633(0x32b),'JcRXV':'template-tag','GGrpx':_0xa19633(0x1e0),'Vtiwt':_0xa19633(0x25b),'DWqRh':_0xa19633(0x1b7),'UTPps':'dKhZc','YOCOi':_0xa19633(0x2c6),'pcFwT':_0xa19633(0x28f),'NAEmA':'all','gAMHp':'blocked','ynmPc':function(_0xb43637){return _0xb43637();},'cwMCw':function(_0x1c31c1,_0x249da8){return _0x1c31c1(_0x249da8);},'aHziI':function(_0x5073d0,_0x3d1469,_0x61d1b8){return _0x5073d0(_0x3d1469,_0x61d1b8);}};function _0x491a85(){const _0x46e345=_0xa19633;if(_0xacf5b5[_0x46e345(0x350)](_0x46e345(0x2ac),_0x46e345(0x2ee))){const {id:_0xd582c5}=_0x3f79d4[_0x46e345(0x2b8)](_0x5bb8ce=>_0x5bb8ce['slug']===_0x46e345(0x1f1));_0x25c0e1[_0x46e345(0x292)](_0xd582c5);}else cy[_0x46e345(0x278)]('/'),H[_0x46e345(0x321)]('S'),cy[_0x46e345(0x34b)](_0x46e345(0x1da)),cy[_0x46e345(0x1d9)](_0xacf5b5['EVmPv'])[_0x46e345(0x224)](_0xacf5b5[_0x46e345(0x246)],0x0)[_0x46e345(0x288)](_0xacf5b5[_0x46e345(0x1c4)],_0x46e345(0x2dd));}_0xacf5b5['cwMCw'](beforeEach,()=>{const _0x284e12=_0xa19633,_0x43d779={'izTBX':_0xacf5b5[_0x284e12(0x27e)],'Jhiyq':_0xacf5b5['GGrpx'],'pmYeG':_0xacf5b5['Vtiwt'],'XOJxW':_0x284e12(0x2c4),'Ooary':_0xacf5b5[_0x284e12(0x334)]};if(_0xacf5b5[_0x284e12(0x350)]('jombz',_0xacf5b5['UTPps'])){const _0x582f26={'uCPjY':_0x43d779[_0x284e12(0x2f8)]};_0x4391f1[_0x284e12(0x2ec)](),_0x1a15dc[_0x284e12(0x256)](),_0x56feaa[_0x284e12(0x253)](_0x43d779['XOJxW']),_0x1a73d0[_0x284e12(0x264)](_0x495c72[_0x284e12(0x266)]),_0x455f5a[_0x284e12(0x28e)](_0x43d779['Ooary'],'/api/user/'+_0x3218bb,{'login_attributes':{'attr_cat':_0x284e12(0x283)}}),_0x2f9cca[_0x284e12(0x29d)](_0x5f4467)['then'](({body:{id:_0x1b8f8b}})=>{const _0x386b40=_0x284e12;_0x2e3d4d[_0x386b40(0x30c)](_0x1b8f8b),_0x3fea77[_0x386b40(0x24f)]({'table_id':_0x9f0cab,'card_id':_0x1b8f8b,'attribute_remappings':{'attr_cat':[_0x386b40(0x333),[_0x43d779['izTBX'],_0x43d779['Jhiyq']]]}});}),_0x375783[_0x284e12(0x21f)]({'questionDetails':{'query':{'source-table':_0x229ab5,'limit':0xa}},'dashboardDetails':_0x20b69d})[_0x284e12(0x26d)](({body:{id:_0x1d9e28,card_id:_0x51c59a,dashboard_id:_0x484bb5}})=>{const _0x5bb951=_0x284e12;_0x492373[_0x5bb951(0x314)](_0x484bb5)['as'](_0x582f26[_0x5bb951(0x2a7)]),_0x42f2e6[_0x5bb951(0x314)](_0x1d9e28)['as'](_0x5bb951(0x2c1)),_0x2d40d5[_0x5bb951(0x28e)](_0x5bb951(0x1b7),_0x5bb951(0x263)+_0x484bb5,{'dashcards':[{'id':_0x1d9e28,'card_id':_0x51c59a,'col':0x0,'row':0x0,'size_x':0x10,'size_y':0x8,'parameter_mappings':[{'parameter_id':_0x5e0684['id'],'card_id':_0x51c59a,'target':['dimension',[_0x5bb951(0x25d),_0x5963a5['CATEGORY'],null]]}]}]});});}else{const _0x148f88=_0x284e12(0x296)[_0x284e12(0x233)]('|');let _0x2c26b4=0x0;while(!![]){switch(_0x148f88[_0x2c26b4++]){case'0':cy[_0x284e12(0x2a1)](_0xacf5b5[_0x284e12(0x260)],_0x284e12(0x284))['as'](_0xacf5b5['pcFwT']);continue;case'1':H[_0x284e12(0x253)](_0xacf5b5[_0x284e12(0x230)]);continue;case'2':H[_0x284e12(0x2ec)]();continue;case'3':cy['signInAsAdmin']();continue;case'4':cy['updatePermissionsGraph']({[ALL_USERS_GROUP]:{[SAMPLE_DB_ID]:{'view-data':_0x284e12(0x298)}},[DATA_GROUP]:{[SAMPLE_DB_ID]:{'view-data':_0xacf5b5[_0x284e12(0x2b6)]}}});continue;}break;}}}),_0xacf5b5[_0xa19633(0x2b1)](it,_0xa19633(0x31e),()=>{const _0x156f00=_0xa19633,_0x398e5e=_0x156f00(0x2c8)[_0x156f00(0x233)]('|');let _0x5ecdec=0x0;while(!![]){switch(_0x398e5e[_0x5ecdec++]){case'0':_0xacf5b5['ynmPc'](_0x491a85);continue;case'1':cy[_0x156f00(0x352)]();continue;case'2':cy['signIn']('nocollection');continue;case'3':_0x491a85();continue;case'4':cy[_0x156f00(0x1dc)](_0x156f00(0x26c));continue;}break;}});}),describe(_0x5ba62f(0x277),()=>{const _0x5c493d=_0x5ba62f,_0x34f610={'YPZFD':_0x5c493d(0x2ed),'uIQPa':'/api/dataset','eGTnQ':'dataset','TUYWn':_0x5c493d(0x301),'kdcPk':_0x5c493d(0x2ff),'LfsSx':'Duplicate','HmTKe':'@createCard'};beforeEach(()=>{const _0xf6a940=_0x5c493d;cy[_0xf6a940(0x2a1)](_0x34f610['YPZFD'],_0x34f610[_0xf6a940(0x303)])['as'](_0x34f610[_0xf6a940(0x2b4)]),cy[_0xf6a940(0x2a1)](_0xf6a940(0x2ed),_0xf6a940(0x335))['as'](_0x34f610[_0xf6a940(0x1fd)]),H['restore'](),cy[_0xf6a940(0x256)](),cy[_0xf6a940(0x1fa)]({[ALL_USERS_GROUP]:{'root':_0x34f610['kdcPk']}}),cy[_0xf6a940(0x1dc)](_0xf6a940(0x206));}),it(_0x5c493d(0x2e9),()=>{const _0xc6b991=_0x5c493d,_0x384ee1='5|3|0|4|1|2'[_0xc6b991(0x233)]('|');let _0x423db8=0x0;while(!![]){switch(_0x384ee1[_0x423db8++]){case'0':H[_0xc6b991(0x2da)]()[_0xc6b991(0x2bb)](_0xc6b991(0x2ea))[_0xc6b991(0x33d)]();continue;case'1':cy['button'](_0x34f610[_0xc6b991(0x1e3)])[_0xc6b991(0x33d)]();continue;case'2':cy[_0xc6b991(0x34b)](_0x34f610[_0xc6b991(0x21e)]);continue;case'3':H[_0xc6b991(0x22b)]();continue;case'4':cy['findByTextEnsureVisible'](H[_0xc6b991(0x2fb)](nocollection)+_0xc6b991(0x33a));continue;case'5':H[_0xc6b991(0x30c)](ORDERS_QUESTION_ID);continue;}break;}});}),describe(_0x5ba62f(0x307),()=>{const _0x3ddd5d=_0x5ba62f,_0xf3dcb4={'AmltZ':_0x3ddd5d(0x2ed),'nGhlj':_0x3ddd5d(0x2d6),'MaiPs':'dataset','SDqvH':_0x3ddd5d(0x2ff),'wqAcV':_0x3ddd5d(0x206),'dHAah':_0x3ddd5d(0x328),'TqjoF':_0x3ddd5d(0x2d3),'GAVRl':_0x3ddd5d(0x329),'WvcMV':_0x3ddd5d(0x204),'kVZti':_0x3ddd5d(0x2fe),'Arltz':function(_0x25ef42,_0x6ff8c9,_0xfc6dc9){return _0x25ef42(_0x6ff8c9,_0xfc6dc9);},'RdrzY':_0x3ddd5d(0x308)};beforeEach(()=>{const _0x298695=_0x3ddd5d,_0x5d52f3='1|0|2|3|4'[_0x298695(0x233)]('|');let _0x4ca1e5=0x0;while(!![]){switch(_0x5d52f3[_0x4ca1e5++]){case'0':H[_0x298695(0x2ec)]();continue;case'1':cy[_0x298695(0x2a1)](_0xf3dcb4[_0x298695(0x2e2)],_0xf3dcb4['nGhlj'])['as'](_0xf3dcb4[_0x298695(0x1ce)]);continue;case'2':cy['signInAsAdmin']();continue;case'3':cy[_0x298695(0x1fa)]({[ALL_USERS_GROUP]:{'root':_0xf3dcb4['SDqvH']}});continue;case'4':cy[_0x298695(0x1dc)](_0xf3dcb4[_0x298695(0x265)]);continue;}break;}}),_0xf3dcb4['Arltz'](it,_0xf3dcb4['RdrzY'],()=>{const _0x508357=_0x3ddd5d,_0x5194cc=_0xf3dcb4[_0x508357(0x20d)][_0x508357(0x233)]('|');let _0x3ef459=0x0;while(!![]){switch(_0x5194cc[_0x3ef459++]){case'0':cy[_0x508357(0x2bb)]('Save')[_0x508357(0x33d)]();continue;case'1':cy[_0x508357(0x2cd)](_0xf3dcb4['WvcMV'])[_0x508357(0x26d)](_0x3f5fdc=>{const _0x16c06f=_0x508357;cy[_0x16c06f(0x2bb)](/^Replace original qeustion/)[_0x16c06f(0x224)](_0xf3dcb4['dHAah']),cy['findByLabelText'](/Where do you want to save this/)['invoke'](_0xf3dcb4['TqjoF'])[_0x16c06f(0x224)]('not.eq',_0x16c06f(0x318));});continue;case'2':H[_0x508357(0x30c)](ORDERS_QUESTION_ID);continue;case'3':cy[_0x508357(0x2bb)](_0xf3dcb4['kVZti'])['click']();continue;case'4':H[_0x508357(0x2da)]()[_0x508357(0x207)]('=')[_0x508357(0x33d)]();continue;case'5':cy['wait'](_0x508357(0x1e9));continue;}break;}});}),describe('issue\x2023981',()=>{const _0x189317=_0x5ba62f,_0x115e0c={'WOrEK':_0x189317(0x2ed),'ByYPg':_0x189317(0x2d6),'ScEKJ':'dataset','CFLIS':'nocollection','WKaMx':_0x189317(0x305),'MxhoC':_0x189317(0x319),'EQUFa':_0x189317(0x304),'UCCsn':'@dashboardId','UNfpf':_0x189317(0x218),'ByJgw':_0x189317(0x325),'SNyPs':'Our\x20analytics','cBIvJ':'not.exist','HNzmV':_0x189317(0x2a0),'TZcaj':'Collections','AHoyH':_0x189317(0x332),'scMhB':'be.disabled','gaQIE':_0x189317(0x28b),'IyHNZ':'23981','SsCZg':_0x189317(0x26a),'ipZTu':function(_0x148d15,_0x121c2d){return _0x148d15(_0x121c2d);},'EBHRn':function(_0x32694c,_0x1c9da2,_0x53488e){return _0x32694c(_0x1c9da2,_0x53488e);}};_0x115e0c[_0x189317(0x26e)](beforeEach,()=>{const _0x42bd00=_0x189317;cy['intercept'](_0x115e0c['WOrEK'],_0x115e0c[_0x42bd00(0x295)])['as'](_0x115e0c[_0x42bd00(0x2f4)]),H[_0x42bd00(0x2ec)](),cy[_0x42bd00(0x256)](),cy['updateCollectionGraph']({[ALL_USERS_GROUP]:{'root':_0x42bd00(0x1ec)}}),cy[_0x42bd00(0x1dc)](_0x115e0c[_0x42bd00(0x322)]);}),_0x115e0c['EBHRn'](it,'should\x20not\x20show\x20the\x20root\x20collection\x20name\x20in\x20breadcrumbs\x20if\x20the\x20user\x20does\x20not\x20have\x20access\x20to\x20it\x20(metabase#23981)',()=>{const _0x2e1ec7=_0x189317;if(_0x115e0c['gaQIE']===_0x2e1ec7(0x1cd)){const _0x150f0e=_0x115e0c[_0x2e1ec7(0x2bd)]['split']('|');let _0x7930f3=0x0;while(!![]){switch(_0x150f0e[_0x7930f3++]){case'0':_0x288495[_0x2e1ec7(0x1c7)](_0x115e0c[_0x2e1ec7(0x1ff)])[_0x2e1ec7(0x33d)]();continue;case'1':_0x575a12['signInAsSandboxedUser']();continue;case'2':_0x27b350[_0x2e1ec7(0x1be)](_0x2e1ec7(0x283))['click']();continue;case'3':_0x413f17[_0x2e1ec7(0x1d8)](_0x115e0c['EQUFa'])['then'](_0x4a6a05=>{const _0x82f48c=_0x2e1ec7;_0x5023dc[_0x82f48c(0x1c1)]({'requestAlias':_0x82f48c(0x2b0)+_0x4a6a05});});continue;case'4':_0x11c286[_0x2e1ec7(0x1c7)](_0x115e0c[_0x2e1ec7(0x1ff)])['click']();continue;case'5':_0x29af11[_0x2e1ec7(0x1be)]('Widget')[_0x2e1ec7(0x33d)]();continue;case'6':_0x45233b[_0x2e1ec7(0x1dc)](_0x2e1ec7(0x26c));continue;case'7':_0x4c2405[_0x2e1ec7(0x1bc)](_0x115e0c[_0x2e1ec7(0x232)]);continue;case'8':_0x2cb7ea['filterWidget']()[_0x2e1ec7(0x33d)]();continue;case'9':_0x5835e1['visitDashboard'](_0x115e0c[_0x2e1ec7(0x232)]);continue;case'10':_0x327a9f[_0x2e1ec7(0x330)](_0x115e0c[_0x2e1ec7(0x1d5)])[_0x2e1ec7(0x224)]('eq',_0x115e0c[_0x2e1ec7(0x2f3)]);continue;case'11':_0x46ab4b[_0x2e1ec7(0x2fc)]()[_0x2e1ec7(0x33d)]();continue;case'12':_0x3cb9d5[_0x2e1ec7(0x330)](_0x2e1ec7(0x218))[_0x2e1ec7(0x224)]('eq',_0x2e1ec7(0x313));continue;}break;}}else H[_0x2e1ec7(0x2e3)]({'name':_0x115e0c[_0x2e1ec7(0x2ce)],'dataset_query':{'database':SAMPLE_DB_ID,'type':_0x2e1ec7(0x326),'query':{'source-table':PEOPLE_ID}}}),cy[_0x2e1ec7(0x2bb)](_0x115e0c[_0x2e1ec7(0x22c)])[_0x2e1ec7(0x33d)](),cy[_0x2e1ec7(0x2bb)](H[_0x2e1ec7(0x2fb)](nocollection)+_0x2e1ec7(0x33a))['click'](),H[_0x2e1ec7(0x1e7)]()[_0x2e1ec7(0x1eb)](()=>{const _0x507ec3=_0x2e1ec7;cy[_0x507ec3(0x2bb)](_0x115e0c[_0x507ec3(0x212)])[_0x507ec3(0x224)](_0x115e0c[_0x507ec3(0x31a)]),cy[_0x507ec3(0x2c9)](_0x115e0c['HNzmV']),cy[_0x507ec3(0x2bb)](_0x115e0c[_0x507ec3(0x351)])['should'](_0x507ec3(0x331))['click'](),cy[_0x507ec3(0x1c7)](_0x115e0c[_0x507ec3(0x1f5)])[_0x507ec3(0x224)](_0x115e0c[_0x507ec3(0x20f)]);});});}),describe(_0x5ba62f(0x22f),()=>{const _0x5ef3a6=_0x5ba62f,_0x439756={'XRlDP':_0x5ef3a6(0x1e9),'fmVaD':'37.65','bqZXx':_0x5ef3a6(0x2c1),'edDop':_0x5ef3a6(0x25d),'gGQak':_0x5ef3a6(0x2c4),'SCffq':_0x5ef3a6(0x283),'CWLlQ':'nodata','xQZjW':_0x5ef3a6(0x319),'XDWaC':_0x5ef3a6(0x2af),'FnpOL':'?text=Widget','BcVUV':'geadsfasd','zGJoS':'411b40bb-1374-9787-6ffb-20604df56d73','TWjeQ':_0x5ef3a6(0x1e0),'LFHaI':_0x5ef3a6(0x333),'JvxzA':_0x5ef3a6(0x349),'xZvWd':_0x5ef3a6(0x1ea),'MpftJ':_0x5ef3a6(0x2f7)},_0x28aeb6={'name':_0x439756[_0x5ef3a6(0x1db)],'native':{'query':_0x5ef3a6(0x1e5),'template-tags':{'category':{'id':_0x439756['zGJoS'],'name':_0x439756['TWjeQ'],'display-name':'Category','type':_0x5ef3a6(0x2d3)}}},'parameters':[{'id':_0x5ef3a6(0x26f),'type':'category','target':[_0x439756[_0x5ef3a6(0x25f)],[_0x439756['JvxzA'],_0x439756[_0x5ef3a6(0x1d0)]]],'name':_0x5ef3a6(0x24d),'slug':_0x5ef3a6(0x1e0)}]},_0x661c4c={'name':_0x439756[_0x5ef3a6(0x2ca)],'slug':_0x5ef3a6(0x2d3),'id':_0x5ef3a6(0x30b),'type':_0x5ef3a6(0x236),'sectionId':_0x5ef3a6(0x310)},_0xa4b155={'parameters':[_0x661c4c]};beforeEach(()=>{const _0x46d7cb=_0x5ef3a6,_0x4b05c2={'dDLIV':_0x46d7cb(0x333),'jcZen':_0x46d7cb(0x349),'pTjlT':_0x46d7cb(0x1e0)};H[_0x46d7cb(0x2ec)](),cy['signInAsAdmin'](),H[_0x46d7cb(0x253)](_0x439756[_0x46d7cb(0x2a6)]),H['blockUserGroupPermissions'](USER_GROUPS['ALL_USERS_GROUP']),cy[_0x46d7cb(0x28e)](_0x46d7cb(0x1b7),_0x46d7cb(0x279)+NODATA_USER_ID,{'login_attributes':{'attr_cat':_0x439756[_0x46d7cb(0x27f)]}}),H[_0x46d7cb(0x29d)](_0x28aeb6)[_0x46d7cb(0x26d)](({body:{id:_0x512324}})=>{const _0x2c5242=_0x46d7cb;H[_0x2c5242(0x30c)](_0x512324),cy[_0x2c5242(0x24f)]({'table_id':PRODUCTS_ID,'card_id':_0x512324,'attribute_remappings':{'attr_cat':[_0x4b05c2[_0x2c5242(0x1d6)],[_0x4b05c2['jcZen'],_0x4b05c2[_0x2c5242(0x213)]]]}});}),H[_0x46d7cb(0x21f)]({'questionDetails':{'query':{'source-table':PRODUCTS_ID,'limit':0xa}},'dashboardDetails':_0xa4b155})[_0x46d7cb(0x26d)](({body:{id:_0x373b6b,card_id:_0x3bc44f,dashboard_id:_0x249e15}})=>{const _0xd0214f=_0x46d7cb,_0x253938={'VfTsf':_0x439756[_0xd0214f(0x346)],'ZDvKs':_0x439756['fmVaD']};if(_0xd0214f(0x2d8)!=='LxzIQ'){const _0x2aaed8={'anOKx':_0x253938[_0xd0214f(0x2b9)],'pFYvT':_0x253938[_0xd0214f(0x29c)]};_0x1cd52e(_0x30d326[_0xd0214f(0x1f0)]()+_0xd0214f(0x27b),()=>{const _0x47323d=_0xd0214f;_0x431851[_0x47323d(0x1dc)](_0x47323d(0x1ec)),_0x77d979[_0x47323d(0x285)](),_0x42c8b9[_0x47323d(0x2bb)]('Saved\x20Questions')[_0x47323d(0x33d)](),_0x5e9c2e==='QB'?_0x125071[_0x47323d(0x2bb)]('Q1')['click']():_0x3c3cec[_0x47323d(0x2bb)]('Q2')[_0x47323d(0x33d)](),_0x9549b[_0x47323d(0x34b)](_0x2aaed8[_0x47323d(0x316)],{'timeout':0x1388}),_0x4257c2['contains'](_0x2aaed8[_0x47323d(0x320)]);});}else cy[_0xd0214f(0x314)](_0x249e15)['as'](_0xd0214f(0x25b)),cy['wrap'](_0x373b6b)['as'](_0x439756[_0xd0214f(0x31f)]),cy['request'](_0xd0214f(0x1b7),_0xd0214f(0x263)+_0x249e15,{'dashcards':[{'id':_0x373b6b,'card_id':_0x3bc44f,'col':0x0,'row':0x0,'size_x':0x10,'size_y':0x8,'parameter_mappings':[{'parameter_id':_0x661c4c['id'],'card_id':_0x3bc44f,'target':[_0xd0214f(0x1fe),[_0x439756[_0xd0214f(0x2eb)],PRODUCTS[_0xd0214f(0x290)],null]]}]}]});});}),it(_0x439756[_0x5ef3a6(0x317)],()=>{const _0x378137=_0x5ef3a6;cy[_0x378137(0x1dc)](_0x439756[_0x378137(0x254)]),H[_0x378137(0x1bc)]('@dashboardId'),H[_0x378137(0x2fc)]()[_0x378137(0x33d)](),cy[_0x378137(0x1be)](_0x378137(0x283))['click'](),cy[_0x378137(0x1c7)](_0x439756[_0x378137(0x238)])[_0x378137(0x33d)](),cy[_0x378137(0x330)](_0x378137(0x218))[_0x378137(0x224)]('eq',_0x378137(0x325)),cy['signInAsSandboxedUser'](),H[_0x378137(0x1bc)](_0x439756['XDWaC']),H[_0x378137(0x2fc)]()['click'](),cy[_0x378137(0x1be)](_0x378137(0x23d))[_0x378137(0x33d)](),cy[_0x378137(0x1c7)](_0x378137(0x319))['click'](),cy[_0x378137(0x330)](_0x378137(0x218))['should']('eq',_0x439756[_0x378137(0x25a)]),cy['get']('@dashcardId')['then'](_0x4d1194=>{const _0x47b232=_0x378137;H[_0x47b232(0x1c1)]({'requestAlias':_0x47b232(0x2b0)+_0x4d1194});});});});