'use strict';const _0xff31f4=_0x78ec;function _0x78ec(_0x393187,_0x2a4898){const _0x4bfda6=_0x4bfd();return _0x78ec=function(_0x78eca4,_0x300462){_0x78eca4=_0x78eca4-0x1b0;let _0x166eda=_0x4bfda6[_0x78eca4];return _0x166eda;},_0x78ec(_0x393187,_0x2a4898);}(function(_0x2a6d5c,_0x353bfd){const _0x335ebf=_0x78ec,_0x3bd30c=_0x2a6d5c();while(!![]){try{const _0x5c737b=-parseInt(_0x335ebf(0x1d2))/0x1*(parseInt(_0x335ebf(0x1e9))/0x2)+parseInt(_0x335ebf(0x1d6))/0x3*(parseInt(_0x335ebf(0x1dd))/0x4)+parseInt(_0x335ebf(0x1b1))/0x5*(parseInt(_0x335ebf(0x1c1))/0x6)+-parseInt(_0x335ebf(0x1c4))/0x7+parseInt(_0x335ebf(0x1bb))/0x8*(-parseInt(_0x335ebf(0x1d0))/0x9)+parseInt(_0x335ebf(0x1b2))/0xa*(parseInt(_0x335ebf(0x1e2))/0xb)+parseInt(_0x335ebf(0x1df))/0xc;if(_0x5c737b===_0x353bfd)break;else _0x3bd30c['push'](_0x3bd30c['shift']());}catch(_0xa16f4f){_0x3bd30c['push'](_0x3bd30c['shift']());}}}(_0x4bfd,0x3f3bd));const strapiUtils=require(_0xff31f4(0x1cf)),{errors:{YupValidationError}}=require(_0xff31f4(0x1cf)),validators=require(_0xff31f4(0x1cd));function _0x4bfd(){const _0x492ccf=['HNsMY','WiMBj','ynunL','YJesZ','HtQQS','XmyUO','74pUqNch','sfSqC','mockResolvedValueOnce','KpcGG','110LHjukp','2799230AXorIm','it\x20checks\x20the\x20database\x20for\x20records\x20with\x20the\x20same\x20value\x20but\x20not\x20the\x20same\x20id\x20for\x20the\x20checked\x20attribute\x20if\x20an\x20entity\x20is\x20passed','BigInteger\x20validator','gmArK','MEVdw','it\x20fails\x20the\x20validation\x20of\x20the\x20unique\x20constraint\x20if\x20the\x20database\x20contains\x20a\x20record\x20with\x20the\x20same\x20attribute\x20value','toBe','TwkSZ','zuEMa','576RfxHlu','clearAllMocks','toHaveBeenCalledWith','HLDfi','xlxsF','biginteger','79986ctSzos','test-uid','test-model','2171540qQvrfO','BUjNe','not','ZJnzq','mockReset','123','toHaveBeenCalled','strapi','it\x20validates\x20the\x20unique\x20constraint\x20if\x20the\x20attribute\x20data\x20has\x20not\x20changed\x20even\x20if\x20there\x20is\x20a\x20record\x20in\x20the\x20database\x20with\x20the\x20same\x20attribute\x20value','../validators','attrBigIntegerUnique','@strapi/utils','63594XeQgeT','it\x20does\x20not\x20validate\x20the\x20unique\x20constraint\x20if\x20the\x20attribute\x20is\x20not\x20set\x20as\x20unique','243zuApSk','it\x20checks\x20the\x20database\x20for\x20records\x20with\x20the\x20same\x20value\x20for\x20the\x20checked\x20attribute','unique','QDdMz','6723SqNvUu','it\x20does\x20not\x20validate\x20the\x20min\x20constraint\x20if\x20the\x20attribute\x20min\x20is\x20not\x20a\x20number','rFKKI','ZaCos','validateYupSchema','toBeInstanceOf','jOhJu','12iOegpG','nullable','6084480eaAzlF','it\x20validates\x20the\x20unique\x20constraint\x20if\x20there\x20is\x20no\x20other\x20record\x20in\x20the\x20database','vhTDH','11IdYEKX'];_0x4bfd=function(){return _0x492ccf;};return _0x4bfd();}describe(_0xff31f4(0x1b4),()=>{const _0x521e99=_0xff31f4,_0x351f4e={'XmyUO':_0x521e99(0x1c0),'KpcGG':'attrBigIntegerUnique','QDdMz':function(_0x6f848c,_0x2e6264){return _0x6f848c(_0x2e6264);},'BUjNe':function(_0x5ed87f,_0x4d24a0){return _0x5ed87f(_0x4d24a0);},'xlxsF':function(_0x1a3b70,_0x4a5b64,_0x5b9e8c){return _0x1a3b70(_0x4a5b64,_0x5b9e8c);},'WiMBj':'it\x20does\x20not\x20validate\x20the\x20unique\x20constraint\x20if\x20the\x20attribute\x20value\x20is\x20`null`','TwkSZ':_0x521e99(0x1e0),'HLDfi':function(_0x4075da,_0x3b1bbb,_0xfc86c9){return _0x4075da(_0x3b1bbb,_0xfc86c9);},'YJesZ':_0x521e99(0x1b7),'ZJnzq':_0x521e99(0x1cc),'ZaCos':_0x521e99(0x1d3),'HtQQS':_0x521e99(0x1b3),'sfSqC':_0x521e99(0x1c9),'zuEMa':'min'};describe(_0x521e99(0x1d4),()=>{const _0x2de88b=_0x521e99,_0x51af2f={'rFKKI':function(_0x34ad58,_0x572cf6){return _0x34ad58(_0x572cf6);},'SzJqI':function(_0xa5e697,_0x39cecf){const _0x2e9a41=_0x78ec;return _0x351f4e[_0x2e9a41(0x1d5)](_0xa5e697,_0x39cecf);},'HNsMY':function(_0x40a39c,_0x19cb91){const _0x555601=_0x78ec;return _0x351f4e[_0x555601(0x1c5)](_0x40a39c,_0x19cb91);},'ynunL':_0x351f4e[_0x2de88b(0x1b0)],'MEVdw':_0x2de88b(0x1c0)},_0x1dfe7f=jest['fn']();global[_0x2de88b(0x1cb)]={'db':{'query':jest['fn'](()=>({'findOne':_0x1dfe7f}))}},_0x351f4e[_0x2de88b(0x1d5)](afterEach,()=>{const _0x6de36=_0x2de88b;jest[_0x6de36(0x1bc)](),_0x1dfe7f[_0x6de36(0x1c8)]();});const _0x164000={'kind':'contentType','modelName':_0x2de88b(0x1c3),'uid':_0x2de88b(0x1c2),'privateAttributes':[],'options':{},'attributes':{'attrBigIntegerUnique':{'type':_0x351f4e['XmyUO'],'unique':!![]}}};_0x351f4e[_0x2de88b(0x1bf)](test,_0x2de88b(0x1d1),async()=>{const _0xf5aed6=_0x2de88b;_0x1dfe7f[_0xf5aed6(0x1eb)](null);const _0x59cad1=strapiUtils[_0xf5aed6(0x1da)](validators[_0xf5aed6(0x1c0)]({'attr':{'type':_0x351f4e['XmyUO']},'model':_0x164000,'updatedAttribute':{'name':_0x351f4e[_0xf5aed6(0x1b0)],'value':0x1},'entity':null},{'isDraft':![]}));await _0x59cad1(0x1),_0x351f4e['QDdMz'](expect,_0x1dfe7f)[_0xf5aed6(0x1c6)][_0xf5aed6(0x1ca)]();}),test(_0x351f4e[_0x2de88b(0x1e4)],async()=>{const _0x312e64=_0x2de88b;_0x1dfe7f[_0x312e64(0x1eb)](null);const _0x2a7239=strapiUtils[_0x312e64(0x1da)](validators[_0x312e64(0x1c0)]({'attr':{'type':_0x312e64(0x1c0),'unique':!![]},'model':_0x164000,'updatedAttribute':{'name':_0x312e64(0x1ce),'value':null},'entity':null},{'isDraft':![]})[_0x312e64(0x1de)]());await _0x51af2f[_0x312e64(0x1d8)](_0x2a7239,null),_0x51af2f['SzJqI'](expect,_0x1dfe7f)[_0x312e64(0x1c6)][_0x312e64(0x1ca)]();}),test(_0x351f4e[_0x2de88b(0x1b9)],async()=>{const _0x1d1628=_0x2de88b;_0x1dfe7f[_0x1d1628(0x1eb)](null);const _0x57c095=strapiUtils[_0x1d1628(0x1da)](validators['biginteger']({'attr':{'type':'biginteger','unique':!![]},'model':_0x164000,'updatedAttribute':{'name':_0x1d1628(0x1ce),'value':0x1},'entity':null},{'isDraft':![]}));_0x51af2f[_0x1d1628(0x1e3)](expect,await _0x57c095(0x1))[_0x1d1628(0x1b8)](0x1);}),_0x351f4e[_0x2de88b(0x1be)](test,_0x351f4e[_0x2de88b(0x1e6)],async()=>{const _0x2cbfc0=_0x2de88b;expect['assertions'](0x1),_0x1dfe7f[_0x2cbfc0(0x1eb)]({'attrBigIntegerUnique':0x2});const _0x172bf1=strapiUtils[_0x2cbfc0(0x1da)](validators['biginteger']({'attr':{'type':_0x351f4e[_0x2cbfc0(0x1e8)],'unique':!![]},'model':_0x164000,'updatedAttribute':{'name':_0x2cbfc0(0x1ce),'value':0x2},'entity':null},{'isDraft':![]}));try{await _0x351f4e[_0x2cbfc0(0x1c5)](_0x172bf1,0x2);}catch(_0x643aa1){_0x351f4e[_0x2cbfc0(0x1d5)](expect,_0x643aa1)[_0x2cbfc0(0x1db)](YupValidationError);}}),_0x351f4e[_0x2de88b(0x1be)](test,_0x351f4e[_0x2de88b(0x1c7)],async()=>{const _0x28a1a7=_0x2de88b;_0x1dfe7f['mockResolvedValueOnce']({'attrBigIntegerUnique':0x3});const _0xd30f40=strapiUtils[_0x28a1a7(0x1da)](validators[_0x28a1a7(0x1c0)]({'attr':{'type':_0x28a1a7(0x1c0),'unique':!![]},'model':_0x164000,'updatedAttribute':{'name':_0x51af2f['ynunL'],'value':0x3},'entity':{'id':0x1,'attrBigIntegerUnique':0x3}},{'isDraft':![]}));_0x51af2f[_0x28a1a7(0x1e3)](expect,await _0x51af2f[_0x28a1a7(0x1e3)](_0xd30f40,0x3))[_0x28a1a7(0x1b8)](0x3);}),_0x351f4e[_0x2de88b(0x1be)](test,_0x351f4e[_0x2de88b(0x1d9)],async()=>{const _0x536160=_0x2de88b;_0x1dfe7f[_0x536160(0x1eb)](null);const _0x179e97=strapiUtils[_0x536160(0x1da)](validators[_0x536160(0x1c0)]({'attr':{'type':_0x51af2f[_0x536160(0x1b6)],'unique':!![]},'model':_0x164000,'updatedAttribute':{'name':_0x51af2f[_0x536160(0x1e5)],'value':0x4},'entity':null},{'isDraft':![]}));await _0x179e97(0x4),expect(_0x1dfe7f)[_0x536160(0x1bd)]({'select':['id'],'where':{'attrBigIntegerUnique':0x4}});}),test(_0x351f4e[_0x2de88b(0x1e7)],async()=>{const _0x2d00fa=_0x2de88b;_0x1dfe7f[_0x2d00fa(0x1eb)](null);const _0x35d841=strapiUtils['validateYupSchema'](validators[_0x2d00fa(0x1c0)]({'attr':{'type':_0x351f4e[_0x2d00fa(0x1e8)],'unique':!![]},'model':_0x164000,'updatedAttribute':{'name':_0x2d00fa(0x1ce),'value':0x5},'entity':{'id':0x1,'attrBigIntegerUnique':0x2a}},{'isDraft':![]}));await _0x35d841(0x5),_0x351f4e['QDdMz'](expect,_0x1dfe7f)[_0x2d00fa(0x1bd)]({'select':['id'],'where':{'$and':[{'attrBigIntegerUnique':0x5},{'$not':{'id':0x1}}]}});});}),describe(_0x351f4e[_0x521e99(0x1ba)],()=>{const _0x49718e=_0x521e99,_0x5f0000={'vhTDH':_0x49718e(0x1c0),'gmArK':_0x351f4e[_0x49718e(0x1ea)],'jOhJu':function(_0x2ed170,_0x2beb15){return _0x2ed170(_0x2beb15);}};test(_0x49718e(0x1d7),async()=>{const _0x383680=_0x49718e,_0x113e47=strapiUtils[_0x383680(0x1da)](validators[_0x383680(0x1c0)]({'attr':{'type':_0x5f0000[_0x383680(0x1e1)],'minLength':_0x5f0000[_0x383680(0x1b5)]}},{'isDraft':![]}));_0x5f0000[_0x383680(0x1dc)](expect,await _0x113e47(0x1))[_0x383680(0x1b8)](0x1);});});});