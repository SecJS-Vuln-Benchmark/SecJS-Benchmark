'use strict';const _0x38f580=_0x1f81;(function(_0x55f0e3,_0x2de89e){const _0x9186b7=_0x1f81,_0x394613=_0x55f0e3();while(!![]){try{const _0x3040a1=parseInt(_0x9186b7(0x207))/0x1*(-parseInt(_0x9186b7(0x215))/0x2)+-parseInt(_0x9186b7(0x21c))/0x3+parseInt(_0x9186b7(0x1dc))/0x4+parseInt(_0x9186b7(0x24b))/0x5*(-parseInt(_0x9186b7(0x20e))/0x6)+-parseInt(_0x9186b7(0x247))/0x7*(parseInt(_0x9186b7(0x219))/0x8)+-parseInt(_0x9186b7(0x213))/0x9*(-parseInt(_0x9186b7(0x1e2))/0xa)+parseInt(_0x9186b7(0x209))/0xb;if(_0x3040a1===_0x2de89e)break;else _0x394613['push'](_0x394613['shift']());}catch(_0x5a71bf){_0x394613['push'](_0x394613['shift']());}}}(_0x5a5a,0xbc7a8));function _0x5a5a(){const _0x6fea9e=['DkGOe','3482577RBFkny','load','utf8','info','fYkap','user','extensions','public','GWohb','readFileSync','full_documentation.json','ByXVt','isHashed','basename','LdsQL','DghXE','stringify','text','/index.html','MOCcr','deleteDocumentation','html','users-permissions.Auth.form.error.password.format','/login.html','Lrery','ULkcc','appPath','RvOGb','writeFile','.error','parse','services','users-permissions','documentation.error.noVersion','Ukccn','generateFullDoc','notification.error','vNlTU','rvvXQ','mOsZU','CUlQf','index.html','path','49yVsUhM','documentation.error.deleteDoc.versionMissing','jPyDd','store','1273355KlKBZv','our\x20password\x20cannot\x20contain\x20more\x20than\x20three\x20times\x20the\x20symbol\x20`$`.','users-permissions.Auth.form.error.password.provide','xOhqd','error','aZAkY','documentation','password','resolve','cCwuy','?error=password','plugin','restrictedAccess','query','rfvel','4762828gsFrfD','ZfqjQ','cheerio','includes','Please\x20provide\x20a\x20version.','request','175010XLRoyL','sYZlw','reload','qQqOd','redirect','isWatching','VAmeI','/login','Wrong\x20password...','oBLbQ','config','OgNwc','send','validatePassword','session','Please\x20provide\x20a\x20password','writeFileSync','retrieveDocumentationVersions','log','bijGE','lodash','isEmpty','trXRF','wBtUZ','kwhRC','vnKMz','x-strapi-config','Xerla','Ktefs','map','params','exports','OqfLf','tUlZb','MBLyp','server','url','10979VqJbCC','set','39737192hzmBpw','hJqbw','kIaYD','plugins','version','30eLGRMI','koa-static','login.html','message','documentation.error.regenerateDoc','162vzhYKc','getDocumentationVersion','104GicDCT','badRequest','sYSsn','EsNGN','1532648bDKSik','get'];_0x5a5a=function(){return _0x6fea9e;};return _0x5a5a();}const path=require('path'),fs=require('fs-extra'),cheerio=require(_0x38f580(0x1de)),_=require(_0x38f580(0x1f6)),koaStatic=require(_0x38f580(0x20f));function _0x1f81(_0xc089b,_0x548790){const _0x5a5a10=_0x5a5a();return _0x1f81=function(_0x1f8117,_0x6bde0e){_0x1f8117=_0x1f8117-0x1d0;let _0x4932e1=_0x5a5a10[_0x1f8117];return _0x4932e1;},_0x1f81(_0xc089b,_0x548790);}module[_0x38f580(0x201)]={'getInfos':async _0x44f66c=>{const _0x4125df=_0x38f580,_0x4abca5={'Dgrtg':_0x4125df(0x1fc),'LdsQL':function(_0x1367d9,_0x1c1b89){return _0x1367d9!==_0x1c1b89;}};try{const _0x57fa34=strapi['plugins'][_0x4125df(0x1d3)][_0x4125df(0x23b)][_0x4125df(0x1d3)],_0x2c047e=_0x57fa34['retrieveDocumentationVersions'](),_0x4a428e=await _0x57fa34['retrieveFrontForm']();_0x44f66c[_0x4125df(0x1ee)]({'docVersions':_0x2c047e,'currentVersion':_0x57fa34[_0x4125df(0x214)](),'prefix':strapi['plugins'][_0x4125df(0x1d3)]['config'][_0x4abca5['Dgrtg']][_0x4125df(0x246)],'form':_0x4a428e});}catch(_0x8f617e){_0x4abca5[_0x4125df(0x22a)](_0x4125df(0x217),_0x4125df(0x244))?_0x44f66c[_0x4125df(0x216)](null,_0x8f617e[_0x4125df(0x211)]):_0x5149b3[_0x4125df(0x1f4)][_0x4125df(0x1d1)](_0x1f10c8);}},async 'index'(_0x48b4d0,_0x4852e5){const _0x5cea28=_0x38f580,_0x230aa0={'rvvXQ':_0x5cea28(0x222),'EsNGN':_0x5cea28(0x1d3),'Xerla':'full_documentation.json','vNlTU':_0x5cea28(0x21e),'apbqT':_0x5cea28(0x223),'kwhRC':'index.html','ZfqjQ':function(_0x20f219,_0x205498){return _0x20f219(_0x205498);},'TIZvZ':function(_0x1bf99f,_0x155a0b){return _0x1bf99f===_0x155a0b;},'sYZlw':_0x5cea28(0x1eb)};try{const {major:_0x56c65f,minor:_0xec3d53,patch:_0x162821}=_0x48b4d0[_0x5cea28(0x200)],_0xbbd82c=_0x56c65f&&_0xec3d53&&_0x162821?_0x56c65f+'.'+_0xec3d53+'.'+_0x162821:strapi[_0x5cea28(0x20c)][_0x5cea28(0x1d3)][_0x5cea28(0x1ec)][_0x5cea28(0x21f)][_0x5cea28(0x20d)],_0x34c9c8=path['join'](strapi[_0x5cea28(0x1ec)]['appPath'],_0x230aa0[_0x5cea28(0x242)],_0x5cea28(0x1d3),_0x230aa0[_0x5cea28(0x218)],_0xbbd82c,_0x230aa0[_0x5cea28(0x1fd)]);try{const _0x4e3f57=fs['readFileSync'](_0x34c9c8,_0x230aa0[_0x5cea28(0x241)]),_0x33a676=fs[_0x5cea28(0x225)](path[_0x5cea28(0x1d5)](__dirname,'..',_0x230aa0['apbqT'],_0x5cea28(0x245)),_0x230aa0[_0x5cea28(0x241)]),_0x56939a=_['template'](_0x33a676)({'backendUrl':strapi['config'][_0x5cea28(0x205)][_0x5cea28(0x206)],'spec':JSON[_0x5cea28(0x22c)](JSON[_0x5cea28(0x23a)](_0x4e3f57))});try{const _0x314bff=path[_0x5cea28(0x1d5)](strapi['config'][_0x5cea28(0x236)],_0x230aa0[_0x5cea28(0x242)],'documentation',_0x5cea28(0x223),_0x230aa0[_0x5cea28(0x1fa)]);await fs['ensureFile'](_0x314bff),await fs[_0x5cea28(0x238)](_0x314bff,_0x56939a),_0x48b4d0[_0x5cea28(0x206)]=path[_0x5cea28(0x229)](_0x48b4d0[_0x5cea28(0x206)]+_0x5cea28(0x22e));try{const _0x4fc33e=path[_0x5cea28(0x1d5)](strapi[_0x5cea28(0x1ec)][_0x5cea28(0x236)],_0x5cea28(0x222),'documentation',_0x5cea28(0x223));return await _0x230aa0[_0x5cea28(0x1dd)](koaStatic,_0x4fc33e)(_0x48b4d0,_0x4852e5);}catch(_0x2900f0){strapi['log'][_0x5cea28(0x1d1)](_0x2900f0);}}catch(_0x58490d){strapi[_0x5cea28(0x1f4)][_0x5cea28(0x1d1)](_0x58490d);}}catch(_0x4f74e9){strapi[_0x5cea28(0x1f4)][_0x5cea28(0x1d1)](_0x4f74e9);}}catch(_0x58265e){_0x230aa0['TIZvZ'](_0x230aa0['sYZlw'],_0x230aa0[_0x5cea28(0x1e3)])?strapi['log']['error'](_0x58265e):_0x5a50e4[_0x5cea28(0x1e4)][_0x5cea28(0x1e7)]=!![];}},async 'loginView'(_0x24db5e,_0xadc4c0){const _0x4ce1a6=_0x38f580,_0x20b90e={'vnKMz':'x-strapi-config','hJqbw':_0x4ce1a6(0x1d3),'ByXVt':_0x4ce1a6(0x210),'cCwuy':function(_0x367138,_0x41e1e4){return _0x367138(_0x41e1e4);}},{error:_0x244640}=_0x24db5e[_0x4ce1a6(0x1da)];try{const _0xe4a5b4=fs[_0x4ce1a6(0x225)](path['join'](__dirname,'..',_0x4ce1a6(0x223),_0x4ce1a6(0x210))),_0x35a9d2=_['template'](_0xe4a5b4)({'actionUrl':''+strapi[_0x4ce1a6(0x1ec)][_0x4ce1a6(0x205)][_0x4ce1a6(0x206)]+strapi['plugins'][_0x4ce1a6(0x1d3)][_0x4ce1a6(0x1ec)][_0x20b90e[_0x4ce1a6(0x1fb)]][_0x4ce1a6(0x246)]+_0x4ce1a6(0x1e9)}),_0x25acb3=cheerio[_0x4ce1a6(0x21d)](_0x35a9d2);_0x25acb3(_0x4ce1a6(0x239))[_0x4ce1a6(0x22d)](_[_0x4ce1a6(0x1f7)](_0x244640)?'':_0x4ce1a6(0x1ea));try{const _0x2ca34f=path['resolve'](strapi[_0x4ce1a6(0x1ec)][_0x4ce1a6(0x236)],'extensions',_0x20b90e['hJqbw'],_0x4ce1a6(0x223),_0x20b90e[_0x4ce1a6(0x227)]);await fs['ensureFile'](_0x2ca34f),await fs[_0x4ce1a6(0x238)](_0x2ca34f,_0x25acb3[_0x4ce1a6(0x231)]()),_0x24db5e['url']=path['basename'](_0x24db5e[_0x4ce1a6(0x206)]+_0x4ce1a6(0x233));try{const _0x5e3974=path[_0x4ce1a6(0x1d5)](strapi[_0x4ce1a6(0x1ec)][_0x4ce1a6(0x236)],_0x4ce1a6(0x222),_0x20b90e[_0x4ce1a6(0x20a)],_0x4ce1a6(0x223));return await _0x20b90e[_0x4ce1a6(0x1d6)](koaStatic,_0x5e3974)(_0x24db5e,_0xadc4c0);}catch(_0x3f9b0d){strapi['log'][_0x4ce1a6(0x1d1)](_0x3f9b0d);}}catch(_0x5e689d){_0x4ce1a6(0x22f)===_0x4ce1a6(0x22f)?strapi[_0x4ce1a6(0x1f4)][_0x4ce1a6(0x1d1)](_0x5e689d):_0x2142ac[_0x4ce1a6(0x216)](null,_0x42911e?_0x4ce1a6(0x240):_0x5d4836[_0x4ce1a6(0x211)]);}}catch(_0x29ec91){strapi[_0x4ce1a6(0x1f4)][_0x4ce1a6(0x1d1)](_0x29ec91);}},async 'login'(_0x595b4a){const _0x2af313=_0x38f580,_0x2bbd2a={'nzjUp':_0x2af313(0x1d8),'yXQEf':_0x2af313(0x1ec),'RvOGb':_0x2af313(0x1d7),'kVYAy':_0x2af313(0x1fc)},{body:{password:_0x1554b5}}=_0x595b4a[_0x2af313(0x1e1)],{password:_0x5e991e}=await strapi[_0x2af313(0x24a)]({'environment':'','type':_0x2bbd2a['nzjUp'],'name':_0x2af313(0x1d3),'key':_0x2bbd2a['yXQEf']})[_0x2af313(0x21a)](),_0x446ba8=await strapi[_0x2af313(0x20c)]['users-permissions']['services'][_0x2af313(0x221)][_0x2af313(0x1ef)](_0x1554b5,_0x5e991e);let _0x3550ed=_0x2bbd2a[_0x2af313(0x237)];_0x446ba8&&(_0x595b4a[_0x2af313(0x1f0)][_0x2af313(0x1d3)]=_0x1554b5,_0x3550ed=''),_0x595b4a[_0x2af313(0x1e6)](''+strapi['config']['server'][_0x2af313(0x206)]+strapi[_0x2af313(0x20c)]['documentation'][_0x2af313(0x1ec)][_0x2bbd2a['kVYAy']][_0x2af313(0x246)]+_0x3550ed);},'regenerateDoc':async _0x58f7d1=>{const _0x2acd45=_0x38f580,_0x491483={'Lrery':'documentation.error.noVersion','kIaYD':'documentation.error.regenerateDoc.versionMissing','OqfLf':_0x2acd45(0x226),'ZuyHC':_0x2acd45(0x21e),'DkGOe':'An\x20error\x20occured','VAmeI':function(_0x2d742c,_0x2874b2){return _0x2d742c===_0x2874b2;},'xOhqd':_0x2acd45(0x243)},_0x28e43b=strapi[_0x2acd45(0x20c)][_0x2acd45(0x1d3)][_0x2acd45(0x23b)][_0x2acd45(0x1d3)],_0x45d034=_0x28e43b[_0x2acd45(0x1f3)]()[_0x2acd45(0x1ff)](_0x13bb83=>_0x13bb83[_0x2acd45(0x20d)]),{request:{body:{version:_0x80cc9e},admin:_0x2499ad}}=_0x58f7d1;if(_[_0x2acd45(0x1f7)](_0x80cc9e))return _0x58f7d1['badRequest'](null,_0x2499ad?_0x491483[_0x2acd45(0x234)]:'Please\x20provide\x20a\x20version.');if(!_0x45d034[_0x2acd45(0x1df)](_0x80cc9e))return _0x58f7d1[_0x2acd45(0x216)](null,_0x2499ad?_0x491483[_0x2acd45(0x20b)]:'The\x20version\x20you\x20are\x20trying\x20to\x20generate\x20does\x20not\x20exist.');try{if(_0x2acd45(0x220)!==_0x2acd45(0x1fe)){strapi[_0x2acd45(0x1e4)][_0x2acd45(0x1e7)]=![];const _0x55a716=_0x28e43b[_0x2acd45(0x23f)](_0x80cc9e),_0x34e58b=_0x28e43b['getMergedDocumentationPath'](_0x80cc9e);fs['writeFileSync'](path[_0x2acd45(0x1d5)](_0x34e58b,_0x491483[_0x2acd45(0x202)]),JSON[_0x2acd45(0x22c)](_0x55a716,null,0x2),_0x491483['ZuyHC']),_0x58f7d1[_0x2acd45(0x1ee)]({'ok':!![]});}else _0x48e35c[_0x2acd45(0x1f0)]['documentation']=_0xfd3da2,_0x2acb4a='';}catch(_0x2bd1c9){_0x58f7d1[_0x2acd45(0x216)](null,_0x2499ad?_0x2acd45(0x212):_0x491483[_0x2acd45(0x21b)]);}finally{_0x491483[_0x2acd45(0x1e8)](_0x491483[_0x2acd45(0x1d0)],'gZEPv')?_0x1a62a5[_0x2acd45(0x216)](null,_0x377108[_0x2acd45(0x211)]):strapi[_0x2acd45(0x1e4)][_0x2acd45(0x1e7)]=!![];}},'deleteDoc':async _0x45f180=>{const _0x24b010=_0x38f580,_0x2735c6={'lQbQW':_0x24b010(0x226),'DghXE':'documentation.error.noVersion','OgNwc':'Please\x20provide\x20a\x20version.','wBtUZ':_0x24b010(0x1db),'yNmEW':_0x24b010(0x1f5),'vhMpA':_0x24b010(0x248),'seUVv':'The\x20version\x20you\x20are\x20trying\x20to\x20delete\x20does\x20not\x20exist.'};strapi[_0x24b010(0x1e4)][_0x24b010(0x1e7)]=![];const _0x24d30d=strapi['plugins'][_0x24b010(0x1d3)][_0x24b010(0x23b)][_0x24b010(0x1d3)],_0x222c16=_0x24d30d[_0x24b010(0x1f3)]()['map'](_0x200d0e=>_0x200d0e[_0x24b010(0x20d)]),{request:{params:{version:_0x34c011},admin:_0x24df16}}=_0x45f180;if(_['isEmpty'](_0x34c011))return _0x45f180['badRequest'](null,_0x24df16?_0x2735c6[_0x24b010(0x22b)]:_0x2735c6[_0x24b010(0x1ed)]);if(!_0x222c16[_0x24b010(0x1df)](_0x34c011)){if(_0x2735c6[_0x24b010(0x1f9)]===_0x2735c6['yNmEW']){_0x27f129['reload'][_0x24b010(0x1e7)]=![];const _0x41a284=_0x5a3c03[_0x24b010(0x23f)](_0x5a12a7),_0xeac326=_0x1f50b3['getMergedDocumentationPath'](_0x396ec8);_0x38cfd4[_0x24b010(0x1f2)](_0x327fa[_0x24b010(0x1d5)](_0xeac326,_0x2735c6['lQbQW']),_0x39386e['stringify'](_0x41a284,null,0x2),_0x24b010(0x21e)),_0x310489[_0x24b010(0x1ee)]({'ok':!![]});}else return _0x45f180[_0x24b010(0x216)](null,_0x24df16?_0x2735c6['vhMpA']:_0x2735c6['seUVv']);}try{_0x24b010(0x23e)==='AfDXu'?_0x4dfc5a['log'][_0x24b010(0x1d1)](_0x15c2c4):(await _0x24d30d[_0x24b010(0x230)](_0x34c011),_0x45f180[_0x24b010(0x1ee)]({'ok':!![]}));}catch(_0x375227){_0x45f180[_0x24b010(0x216)](null,_0x24df16?'notification.error':_0x375227['message']);}finally{strapi[_0x24b010(0x1e4)][_0x24b010(0x1e7)]=!![];}},'updateSettings':async _0x533919=>{const _0xe94fff=_0x38f580,_0x2dacd3={'dDJND':_0xe94fff(0x1e0),'aZAkY':_0xe94fff(0x1f1),'qQqOd':_0xe94fff(0x249),'trXRF':_0xe94fff(0x232),'GWohb':_0xe94fff(0x24c),'MBLyp':_0xe94fff(0x1d9),'ULkcc':_0xe94fff(0x1ec)},{admin:_0x3e1ffd,body:{restrictedAccess:_0x40f135,password:_0x145f4b}}=_0x533919['request'],_0x5216e0=strapi[_0xe94fff(0x20c)][_0xe94fff(0x23c)][_0xe94fff(0x23b)],_0x58dd03=strapi[_0xe94fff(0x24a)]({'environment':'','type':_0xe94fff(0x1d8),'name':_0xe94fff(0x1d3)}),_0x212834=await _0x58dd03['get']({'key':_0xe94fff(0x1ec)});if(_0x40f135&&_['isEmpty'](_0x145f4b))return _0x533919[_0xe94fff(0x216)](null,_0x3e1ffd?_0xe94fff(0x24d):_0x2dacd3[_0xe94fff(0x1d2)]);const _0x46ba7a=!_[_0xe94fff(0x1f7)](_0x145f4b)&&_0x145f4b!==_0x212834[_0xe94fff(0x1d4)];if(_0x46ba7a&&_0x5216e0[_0xe94fff(0x221)][_0xe94fff(0x228)](_0x145f4b))return _0xe94fff(0x203)!==_0x2dacd3[_0xe94fff(0x1e5)]?_0x533919[_0xe94fff(0x216)](null,_0x3e1ffd?_0x2dacd3[_0xe94fff(0x1f8)]:_0x2dacd3[_0xe94fff(0x224)]):_0x3769e0[_0xe94fff(0x216)](null,_0x3f6e7a?_0xe94fff(0x23d):_0x2dacd3['dDJND']);return _0x46ba7a&&(_0x212834[_0xe94fff(0x1d4)]=await _0x5216e0['user']['hashPassword']({'password':_0x145f4b})),_['set'](_0x212834,_0x2dacd3[_0xe94fff(0x204)],_0x40f135),await _0x58dd03[_0xe94fff(0x208)]({'key':_0x2dacd3[_0xe94fff(0x235)],'value':_0x212834}),_0x533919[_0xe94fff(0x1ee)]({'ok':!![]});}};