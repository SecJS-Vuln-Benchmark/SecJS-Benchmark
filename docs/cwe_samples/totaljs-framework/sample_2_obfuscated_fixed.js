'use strict';const _0x5c390d=_0x2d2e;(function(_0xf81990,_0x7208f2){const _0x5a6a94=_0x2d2e,_0x30ddf9=_0xf81990();while(!![]){try{const _0x43e2b4=parseInt(_0x5a6a94(0x113))/0x1+-parseInt(_0x5a6a94(0xe3))/0x2+parseInt(_0x5a6a94(0xcd))/0x3*(-parseInt(_0x5a6a94(0x14c))/0x4)+parseInt(_0x5a6a94(0x145))/0x5*(parseInt(_0x5a6a94(0x156))/0x6)+-parseInt(_0x5a6a94(0x157))/0x7*(parseInt(_0x5a6a94(0x9e))/0x8)+-parseInt(_0x5a6a94(0xf4))/0x9+parseInt(_0x5a6a94(0x109))/0xa*(parseInt(_0x5a6a94(0xb2))/0xb);if(_0x43e2b4===_0x7208f2)break;else _0x30ddf9['push'](_0x30ddf9['shift']());}catch(_0x54a84d){_0x30ddf9['push'](_0x30ddf9['shift']());}}}(_0x1824,0xd273d));function _0x1824(){const _0x505e5b=['activity','HdqVp','strapi','YHsxJ','SSFug','toBeCalledTimes','kgVQY','TWCOR','QLzmh','errors','findPage','image/jpeg','1060504gqBElm','sqlite','should\x20fail\x20if\x20the\x20entity\x20doesn\x27t\x20exist','VoooY','RtUsF','hHxOn','toThrowError','VDeSv','clearAllMocks','should\x20create\x20record\x20with\x20default\x20and\x20required\x20attributes','tejqr','GqNZz','pFCLj','Create','HLERL','bZwdW','CpnrP','12111633oybHFw','gcmdv','findOne','bKjfi','decorate','files','wOaKv','basic','CKKtZ','TestEntity','GylAG','Taced','BXZqt','ajwEO','tkYci','ZRCMw','$in','getModel','AZNRI','videos','cfJOT','173870BeREwF','gjLIj','ivsJp','NPhrM','TestEntry','XTGDR','DAidU','HKzvy','PBWaG','integer','119756IEApMp','HCRWj','api::entity.entity','PtTbV','bcryptjs','sGsKl','default\x20value','qyDAD','BTfKx','XHpnh','kQdUd','XrCzV','vtnXh','forEach','delete','collectionType','ComponentBasicActivity','HRrqq','bMywk','basic.activity','EJAlV','../../entity-validator','Returns\x20first\x20element\x20for\x20single\x20types','UTiSi','toBeCalled','saApc','ZFRhm','random','teqGt','wLYUU','WFFNB','hRhaY','EvmbN','jtREY','YHxtX','Test','aUomW','boolean','demoEvent','eDDin','OYAwU','Decorator','my\x20value','yzEfb','EvWiW','hvEQs','UVzxP','oneToMany','UZCkB','YAWNE','60drAjiy','audios','obRqH','cJMrF','query','with\x20files','PUOOj','21348iSjlut','should\x20create\x20record\x20with\x20valid\x20relation','CuFWZ','@strapi/utils','relation','AzjCe','components_basic_activities','LdVln','entity','rfiXv','265566pZQAyD','14uTWXuF','toEqual','sAkEl','Powering\x20the\x20Aviation\x20of\x20the\x20Future','Ksreg','should\x20create\x20record\x20with\x20attached\x20files','component','UXMnu','MfMsU','should\x20throw\x20an\x20error\x20when\x20trying\x20to\x20associate\x20a\x20relation\x20that\x20does\x20not\x20exist','Find','RQnyR','JdUQa','irpSn','fFqgf','Hzqzx','api::relation.relation','lPDXX','EajJl','ogndG','QMnsZ','fooBar','aIFTV','should\x20create\x20record\x20with\x20all\x20default\x20attributes','../../utils/upload-files','toBeNull','test-model','jjTHX','ryHBL','rejects','1514856kFnIKM','FZbcA','password','enumeration','toHaveBeenCalled','contentType','findMany','wIVlR','kFxuH','RdeSW','create','nBdLl','resolves','OqLkS','assign\x20default\x20values','2022-09-29T09:01:02.949Z','TestRelation2','toHaveBeenCalledWith','each','JJxKi','1793dpOBaq','toMatchObject','SaAdy','2022-09-28T15:11:22.995Z','RLSQZ','JhjOR','Jncrr','NSpob','/tmp/upload_4cab76a3a443b584a1fd3aa52e045130','ArXnv','update','resolve','singleType','htEnQ','damZJ','VnvUu','media','secret-password','cPbYl','riRYu','Can\x20decorate','szerJ','HHzhE','TMHKO','TTsva','string','qZmUg','207rKFEwx','Update','should\x20create\x20record\x20with\x20provided\x20data','ARbiU','length','images','EliOL','dJpuf','mockImplementation','eoTwh'];_0x1824=function(){return _0x505e5b;};return _0x1824();}jest['mock'](_0x5c390d(0x117),()=>({'hashSync':()=>_0x5c390d(0xc3)}));function _0x2d2e(_0x3067ee,_0x33ce1c){const _0x1824ca=_0x1824();return _0x2d2e=function(_0x2d2e2f,_0x18c047){_0x2d2e2f=_0x2d2e2f-0x98;let _0x1efe28=_0x1824ca[_0x2d2e2f];return _0x1efe28;},_0x2d2e(_0x3067ee,_0x33ce1c);}const {EventEmitter}=require('events'),{ValidationError}=require(_0x5c390d(0x14f))[_0x5c390d(0xe0)],createEntityService=require('..'),entityValidator=require(_0x5c390d(0x128));jest['mock'](_0x5c390d(0x98),()=>jest['fn'](()=>Promise[_0x5c390d(0xbd)]())),describe('Entity\x20service',()=>{const _0xb14d92=_0x5c390d,_0xd7e8={'saApc':'2022-09-28T15:11:22.995Z','kFxuH':_0xb14d92(0xcb),'UVzxP':'default\x20value','OYAwU':_0xb14d92(0x138),'Jrltv':'integer','XrCzV':_0xb14d92(0xa1),'XHpnh':'password','bMywk':_0xb14d92(0x150),'AZNRI':_0xb14d92(0x142),'qyDAD':_0xb14d92(0x154),'eoTwh':function(_0x2b06ec,_0xdeedc2){return _0x2b06ec(_0xdeedc2);},'RdeSW':function(_0x4270d7,_0x11ae63){return _0x4270d7===_0x11ae63;},'HlBlg':_0xb14d92(0xbc),'lPDXX':'findOne','EvmbN':_0xb14d92(0xe1),'JhjOR':_0xb14d92(0xc6),'damZJ':_0xb14d92(0xca),'brjnn':function(_0x243269,_0x1026b5){return _0x243269!==_0x1026b5;},'lRZNR':'NQTGs','kgVQY':_0xb14d92(0xc4),'HRrqq':_0xb14d92(0x122),'HHzhE':_0xb14d92(0x15d),'hHxOn':_0xb14d92(0x126),'BTfKx':_0xb14d92(0x15a),'szerJ':'TestRelation','wLYUU':_0xb14d92(0x115),'RUfhn':_0xb14d92(0xec),'dJpuf':function(_0x200c31,_0x279fde,_0x234577){return _0x200c31(_0x279fde,_0x234577);},'wOaKv':_0xb14d92(0xd2),'Ksreg':function(_0x5f5a62,_0x24146b){return _0x5f5a62!==_0x24146b;},'psbOw':_0xb14d92(0x10d),'ZRCMw':_0xb14d92(0xae),'sGsKl':_0xb14d92(0x160),'ivsJp':_0xb14d92(0x13c),'HCRWj':_0xb14d92(0x161),'PBWaG':function(_0x72d8ba,_0x455fec,_0x59acb8){return _0x72d8ba(_0x455fec,_0x59acb8);},'Taced':_0xb14d92(0xf0),'VnvUu':function(_0x38c5ba,_0x1a8b2e,_0x176b88){return _0x38c5ba(_0x1a8b2e,_0x176b88);},'WFFNB':_0xb14d92(0xce)};global['strapi']={'getModel':jest['fn'](()=>({})),'config':{'get'(){const _0x49409b=_0xb14d92;if(_0xd7e8['RdeSW'](_0x49409b(0x16b),_0x49409b(0x148))){const _0x49d226={[_0x5ea77b]:{0x1:{'id':0x1,'Name':'TestRelation','createdAt':_0x49409b(0xb5),'updatedAt':_0x49409b(0xad),'publishedAt':null},0x2:{'id':0x2,'Name':_0x49409b(0xae),'createdAt':_0xd7e8[_0x49409b(0x12c)],'updatedAt':_0x49409b(0xad),'publishedAt':null}}};_0x4cc100[_0x28e389]={'uid':_0x1852d8,'kind':_0x49409b(0xa3),'modelName':_0x49409b(0x9a),'privateAttributes':[],'options':{},'attributes':{'attrStringDefaultRequired':{'type':_0xd7e8[_0x49409b(0xa6)],'default':_0xd7e8['UVzxP'],'required':!![]},'attrStringDefault':{'type':_0xd7e8[_0x49409b(0xa6)],'default':_0xd7e8[_0x49409b(0x141)]},'attrBoolDefaultRequired':{'type':_0xd7e8[_0x49409b(0x13b)],'default':!![],'required':!![]},'attrBoolDefault':{'type':_0xd7e8[_0x49409b(0x13b)],'default':!![]},'attrIntDefaultRequired':{'type':'integer','default':0x1,'required':!![]},'attrIntDefault':{'type':_0xd7e8['Jrltv'],'default':0x1},'attrEnumDefaultRequired':{'type':_0xd7e8[_0x49409b(0x11e)],'enum':['a','b','c'],'default':'a','required':!![]},'attrEnumDefault':{'type':'enumeration','enum':['a','b','c'],'default':'b'},'attrPassword':{'type':_0xd7e8[_0x49409b(0x11c)]},'attrRelation':{'type':_0xd7e8[_0x49409b(0x125)],'relation':_0xd7e8[_0x49409b(0x106)],'target':_0x206511,'mappedBy':_0xd7e8[_0x49409b(0x11a)]}}},_0x2423fc[_0x642b8d]={'uid':_0xd7987,'kind':_0x49409b(0xa3),'modelName':_0xd7e8[_0x49409b(0x125)],'attributes':{'Name':{'type':_0xd7e8['kFxuH'],'default':'default\x20value','required':!![]}}};const _0x524226=_0x5b1fe5=>({'create':_0x3299fc['fn'](({data:_0x1869fa})=>_0x1869fa),'count':_0x3da2a9['fn'](({where:_0x187741})=>{const _0x332dee=_0x49409b;return _0x187741['id'][_0x332dee(0x104)]['filter'](_0x1410c3=>_0x4e2443(_0x49d226[_0x5b1fe5][_0x1410c3]))[_0x332dee(0xd1)];})}),_0x5ecb29={'transaction':_0x3b3a8f=>_0x3b3a8f(),'query':_0x58afb7['fn'](_0x39828c=>_0x524226(_0x39828c))};_0x10e0d2[_0x49409b(0xd9)]['db']=_0x5ecb29,_0x180b6d=_0xd7e8['eoTwh'](_0x2d9de8,{'strapi':_0x5a522e[_0x49409b(0xd9)],'db':_0x5ecb29,'eventHub':new _0x1be3cd(),'entityValidator':_0x266453});}else return[];}},'query':jest['fn'](()=>({}))},describe(_0xd7e8[_0xb14d92(0x10b)],()=>{const _0x3e1eaf=_0xb14d92,_0x132651={'EJAlV':function(_0x28cdaa,_0x205489){const _0x351aa2=_0x2d2e;return _0xd7e8[_0x351aa2(0xd6)](_0x28cdaa,_0x205489);}};test[_0x3e1eaf(0xb0)](['create',_0xd7e8['HlBlg'],_0x3e1eaf(0xa4),_0xd7e8[_0x3e1eaf(0x168)],_0x3e1eaf(0x121),'count',_0xd7e8[_0x3e1eaf(0x133)]])(_0xd7e8[_0x3e1eaf(0xb7)],async _0x2eb651=>{const _0xc7bcf1=_0x3e1eaf,_0x4894cb=createEntityService({'strapi':{},'db':{},'eventHub':new EventEmitter()}),_0x1e6b50=jest['fn'](),_0x598e49=()=>({[_0x2eb651]:_0x1e6b50});_0x4894cb[_0xc7bcf1(0xf8)](_0x598e49);const _0x47e8d2=[{},{}];await _0x4894cb[_0x2eb651](..._0x47e8d2),_0x132651[_0xc7bcf1(0x127)](expect,_0x1e6b50)[_0xc7bcf1(0xa2)]();});}),_0xd7e8[_0xb14d92(0xd4)](describe,_0xd7e8[_0xb14d92(0x114)],()=>{const _0x531560=_0xb14d92,_0x41b605={'Hzqzx':function(_0x2a4b6f,_0x53777a){const _0x1fb9f4=_0x2d2e;return _0xd7e8[_0x1fb9f4(0xd6)](_0x2a4b6f,_0x53777a);},'SaAdy':function(_0x2bf690,_0x5e23e9){const _0x4f699c=_0x2d2e;return _0xd7e8[_0x4f699c(0xd6)](_0x2bf690,_0x5e23e9);}};_0xd7e8[_0x531560(0xc0)]!==_0x531560(0xca)?_0x4c96db['clearAllMocks']():test(_0x531560(0x129),async()=>{const _0x486563=_0x531560,_0x182b49={'wVhEk':_0x486563(0xbe)},_0xf88389={'id':0x1,'title':_0x486563(0x136)},_0x541484={'findOne':jest['fn'](()=>Promise['resolve'](_0xf88389))},_0x51dd77={'query':jest['fn'](()=>_0x541484),'transaction':_0x9ab3c7=>_0x9ab3c7()},_0x55e20d={'getModel':jest['fn'](()=>{return{'kind':_0x182b49['wVhEk'],'privateAttributes':[]};})},_0x318809=_0x41b605[_0x486563(0x166)](createEntityService,{'strapi':_0x55e20d,'db':_0x51dd77,'eventHub':new EventEmitter()}),_0x389867=await _0x318809['findMany'](_0x486563(0x9a));expect(_0x55e20d[_0x486563(0x105)])['toHaveBeenCalledTimes'](0x1),_0x41b605[_0x486563(0x166)](expect,_0x55e20d[_0x486563(0x105)])[_0x486563(0xaf)](_0x486563(0x9a)),expect(_0x51dd77['query'])[_0x486563(0xaf)](_0x486563(0x9a)),expect(_0x541484['findOne'])[_0x486563(0xaf)]({}),_0x41b605[_0x486563(0xb4)](expect,_0x389867)[_0x486563(0x158)](_0xf88389);});}),_0xd7e8[_0xb14d92(0x111)](describe,_0xd7e8[_0xb14d92(0xff)],()=>{const _0x4272dc=_0xb14d92,_0xeb0ac7={'JdUQa':_0x4272dc(0x119),'jjTHX':function(_0x55b346,_0x573a70){const _0x372d07=_0x4272dc;return _0xd7e8[_0x372d07(0xa7)](_0x55b346,_0x573a70);},'PtTbV':'AgORi','JJxKi':_0x4272dc(0x13d),'kQdUd':'oqyFC','riRYu':_0x4272dc(0x16c),'PUOOj':function(_0x2c3e1f,_0x589e7b){return _0x2c3e1f(_0x589e7b);},'AzjCe':'secret-password','ryHBL':_0xd7e8[_0x4272dc(0xc7)],'hRhaY':'TestRelation2','bZwdW':_0x4272dc(0xad),'aUomW':_0x4272dc(0x9a),'RtUsF':_0xd7e8[_0x4272dc(0xa6)],'UTiSi':_0xd7e8[_0x4272dc(0x130)],'MfMsU':function(_0x5e1d9d,_0x56731e){return _0x5e1d9d(_0x56731e);},'pFCLj':_0xd7e8['RUfhn'],'hvEQs':function(_0x5c9acf,_0x57a905,_0x5df439){return _0x5c9acf(_0x57a905,_0x5df439);}},_0x8a872b={'count':jest['fn'](()=>0x0),'create':jest['fn'](({data:_0x412a8b})=>({'id':0x1,..._0x412a8b})),'findOne':jest['fn']()},_0x5a84d0={};_0xd7e8[_0x4272dc(0xd6)](beforeAll,()=>{const _0x612c0e=_0x4272dc;if(_0xd7e8['brjnn'](_0xd7e8['lRZNR'],'NQTGs'))return _0x5ae620[_0x27bdc5];else global['strapi'][_0x612c0e(0x105)][_0x612c0e(0xd5)](_0x10526a=>_0x5a84d0[_0x10526a]),global[_0x612c0e(0xd9)][_0x612c0e(0x149)][_0x612c0e(0xd5)](()=>_0x8a872b);}),beforeEach(()=>{const _0x2cd9a4=_0x4272dc;jest[_0x2cd9a4(0xeb)]();}),_0xd7e8[_0x4272dc(0xd6)](afterAll,()=>{const _0x25b4ea=_0x4272dc,_0x2e171d={'htEnQ':function(_0x33bd5b,_0x5d1180){return _0x33bd5b(_0x5d1180);}};if(_0x25b4ea(0xb8)!==_0xd7e8[_0x25b4ea(0xdd)])global[_0x25b4ea(0xd9)][_0x25b4ea(0x105)][_0x25b4ea(0xd5)](()=>({}));else{const _0x211ab7=_0x31b7da=>({'findOne':_0x55d376['fn'](({where:_0x4a4858})=>_0xe7ca00[_0x31b7da][_0x4a4858['id']]),'count':_0x559039['fn'](({where:_0x3d26ed})=>{const _0x5380e5=_0x25b4ea;let _0x49df37=0x0;return _0x3d26ed['id'][_0x5380e5(0x104)][_0x5380e5(0x120)](_0x2ff178=>{const _0x27954a=_0x3a4bd0[_0x31b7da][_0x2ff178];if(!_0x27954a)return;_0x49df37+=0x1;}),_0x49df37;}),'update':_0x18e29f['fn'](({where:_0x3e18c8})=>({..._0x3bc800[_0x31b7da][_0x3e18c8['id']],'addresses':{'count':0x1}}))}),_0x4ff499={'query':_0x49fb24['fn'](_0x57d028=>_0x211ab7(_0x57d028))};_0x1b7f9e[_0x25b4ea(0xd9)]={'getModel':_0x136723['fn'](_0x2a0267=>{return _0x27f323[_0x2a0267];}),'db':_0x4ff499},_0x3a78db=_0x2e171d[_0x25b4ea(0xbf)](_0x595f55,{'strapi':_0x4a4d31[_0x25b4ea(0xd9)],'db':_0x4ff499,'eventHub':new _0x4c132d(),'entityValidator':_0x2c50c4});}}),_0xd7e8[_0x4272dc(0xd4)](describe,_0x4272dc(0xac),()=>{const _0x50f11a=_0x4272dc,_0x2b03ad={'obRqH':_0xeb0ac7[_0x50f11a(0x9c)],'iGlie':_0x50f11a(0xb5),'RLSQZ':_0xeb0ac7[_0x50f11a(0x132)],'ZFRhm':_0xeb0ac7[_0x50f11a(0xf2)],'yzEfb':'contentType','HLERL':_0xeb0ac7[_0x50f11a(0x137)],'irpSn':'default\x20value','VDeSv':_0xeb0ac7[_0x50f11a(0xe7)],'NSpob':_0x50f11a(0x138),'VoooY':_0x50f11a(0xa1),'CKKtZ':'entity','cfJOT':_0xeb0ac7[_0x50f11a(0xb1)],'EajJl':_0xeb0ac7['riRYu'],'nBdLl':function(_0x2f165d,_0x33ccbb){return _0x2f165d(_0x33ccbb);}};let _0x3bad01;const _0x5cef64=_0xeb0ac7[_0x50f11a(0x12a)],_0x560a1f=_0x50f11a(0x167);beforeAll(()=>{const _0x10854b=_0x50f11a,_0x521bbc={'LdVln':_0x10854b(0x110)},_0x33503e={[_0x560a1f]:{0x1:{'id':0x1,'Name':_0x2b03ad[_0x10854b(0x147)],'createdAt':_0x2b03ad['iGlie'],'updatedAt':_0x10854b(0xad),'publishedAt':null},0x2:{'id':0x2,'Name':_0x2b03ad[_0x10854b(0xb6)],'createdAt':_0x10854b(0xb5),'updatedAt':_0x2b03ad[_0x10854b(0x12d)],'publishedAt':null}}};_0x5a84d0[_0x5cef64]={'uid':_0x5cef64,'kind':_0x2b03ad[_0x10854b(0x13e)],'modelName':_0x2b03ad[_0x10854b(0xf1)],'privateAttributes':[],'options':{},'attributes':{'attrStringDefaultRequired':{'type':_0x10854b(0xcb),'default':_0x2b03ad[_0x10854b(0x164)],'required':!![]},'attrStringDefault':{'type':_0x2b03ad['VDeSv'],'default':_0x10854b(0x119)},'attrBoolDefaultRequired':{'type':_0x2b03ad[_0x10854b(0xb9)],'default':!![],'required':!![]},'attrBoolDefault':{'type':_0x2b03ad[_0x10854b(0xb9)],'default':!![]},'attrIntDefaultRequired':{'type':_0x10854b(0x112),'default':0x1,'required':!![]},'attrIntDefault':{'type':_0x10854b(0x112),'default':0x1},'attrEnumDefaultRequired':{'type':_0x2b03ad[_0x10854b(0xe6)],'enum':['a','b','c'],'default':'a','required':!![]},'attrEnumDefault':{'type':_0x2b03ad[_0x10854b(0xe6)],'enum':['a','b','c'],'default':'b'},'attrPassword':{'type':_0x10854b(0xa0)},'attrRelation':{'type':_0x10854b(0x150),'relation':'oneToMany','target':_0x560a1f,'mappedBy':_0x2b03ad[_0x10854b(0xfc)]}}},_0x5a84d0[_0x560a1f]={'uid':_0x560a1f,'kind':'contentType','modelName':_0x10854b(0x150),'attributes':{'Name':{'type':_0x2b03ad[_0x10854b(0xea)],'default':_0x10854b(0x119),'required':!![]}}};const _0x47dcdb=_0x7311df=>({'create':jest['fn'](({data:_0x230e97})=>_0x230e97),'count':jest['fn'](({where:_0x47931e})=>{const _0x5297c5=_0x10854b;return _0x521bbc[_0x5297c5(0x153)]==='HKzvy'?_0x47931e['id'][_0x5297c5(0x104)]['filter'](_0x2403ec=>Boolean(_0x33503e[_0x7311df][_0x2403ec]))['length']:{'kind':_0x5297c5(0xbe),'privateAttributes':[]};})}),_0x462739={'transaction':_0x113f72=>_0x113f72(),'query':jest['fn'](_0x306d0d=>_0x47dcdb(_0x306d0d))};global[_0x10854b(0xd9)]['db']=_0x462739,_0x3bad01=createEntityService({'strapi':global[_0x10854b(0xd9)],'db':_0x462739,'eventHub':new EventEmitter(),'entityValidator':entityValidator});}),_0xeb0ac7[_0x50f11a(0x15f)](afterAll,()=>{global['strapi']['db']={'query':jest['fn'](()=>_0x8a872b)};}),test(_0x50f11a(0x16e),async()=>{const _0x79aa99=_0x50f11a,_0x5c3dc4={};await expect(_0x3bad01['create'](_0x5cef64,{'data':_0x5c3dc4}))['resolves'][_0x79aa99(0xb3)]({'attrStringDefaultRequired':_0xeb0ac7[_0x79aa99(0x163)],'attrStringDefault':_0xeb0ac7[_0x79aa99(0x163)],'attrBoolDefaultRequired':!![],'attrBoolDefault':!![],'attrIntDefaultRequired':0x1,'attrIntDefault':0x1,'attrEnumDefaultRequired':'a','attrEnumDefault':'b'});}),test(_0xeb0ac7[_0x50f11a(0xef)],async()=>{const _0x16e752=_0x50f11a;if(_0xeb0ac7[_0x16e752(0x9b)](_0xeb0ac7['PtTbV'],_0xeb0ac7[_0x16e752(0x116)])){const _0x25a88f={'attrStringDefault':_0xeb0ac7[_0x16e752(0xb1)],'attrBoolDefault':![],'attrIntDefault':0x2,'attrEnumDefault':'c'};await expect(_0x3bad01['create'](_0x5cef64,{'data':_0x25a88f}))[_0x16e752(0xaa)][_0x16e752(0xb3)]({'attrStringDefault':_0xeb0ac7[_0x16e752(0xb1)],'attrBoolDefault':![],'attrIntDefault':0x2,'attrEnumDefault':'c','attrStringDefaultRequired':_0xeb0ac7[_0x16e752(0x163)],'attrBoolDefaultRequired':!![],'attrIntDefaultRequired':0x1,'attrEnumDefaultRequired':'a'});}else return[];}),test(_0x50f11a(0xcf),async()=>{const _0x99490c=_0x50f11a;if(_0xeb0ac7[_0x99490c(0x11d)]!==_0xeb0ac7[_0x99490c(0x11d)])_0x80906[_0x99490c(0xd9)][_0x99490c(0x105)]['mockImplementation'](()=>({}));else{const _0x104826={'attrStringDefaultRequired':_0xeb0ac7['JJxKi'],'attrStringDefault':_0xeb0ac7[_0x99490c(0xb1)],'attrBoolDefaultRequired':!![],'attrBoolDefault':!![],'attrIntDefaultRequired':0xa,'attrIntDefault':0xa,'attrEnumDefaultRequired':'c','attrEnumDefault':'a','attrPassword':_0xeb0ac7[_0x99490c(0xc5)]};await _0xeb0ac7[_0x99490c(0x14b)](expect,_0x3bad01['create'](_0x5cef64,{'data':_0x104826}))['resolves'][_0x99490c(0xb3)]({..._0x104826,'attrPassword':_0xeb0ac7[_0x99490c(0x151)]});}}),_0xeb0ac7[_0x50f11a(0x140)](test,_0x50f11a(0x14d),async()=>{const _0x478f20=_0x50f11a,_0x5b4584={'attrStringDefaultRequired':'my\x20value','attrStringDefault':_0xeb0ac7[_0x478f20(0xb1)],'attrBoolDefaultRequired':!![],'attrBoolDefault':!![],'attrIntDefaultRequired':0xa,'attrIntDefault':0xa,'attrEnumDefaultRequired':'c','attrEnumDefault':'a','attrPassword':'fooBar','attrRelation':{'connect':[{'id':0x1}]}},_0x2fe06c=_0x3bad01[_0x478f20(0xa8)](_0x5cef64,{'data':_0x5b4584});await expect(_0x2fe06c)['resolves'][_0x478f20(0xb3)]({..._0x5b4584,'attrPassword':_0x478f20(0xc3)});}),test('should\x20fail\x20to\x20create\x20a\x20record\x20with\x20an\x20invalid\x20relation',async()=>{const _0x27799d=_0x50f11a,_0x103ea6={'attrStringDefaultRequired':_0x2b03ad[_0x27799d(0x108)],'attrStringDefault':_0x27799d(0x13d),'attrBoolDefaultRequired':!![],'attrBoolDefault':!![],'attrIntDefaultRequired':0xa,'attrIntDefault':0xa,'attrEnumDefaultRequired':'c','attrEnumDefault':'a','attrPassword':_0x2b03ad[_0x27799d(0x169)],'attrRelation':{'connect':[{'id':0x3}]}},_0x5836ee=_0x3bad01[_0x27799d(0xa8)](_0x5cef64,{'data':_0x103ea6});await _0x2b03ad[_0x27799d(0xa9)](expect,_0x5836ee)[_0x27799d(0x9d)]['toThrowError'](new ValidationError('1\x20relation(s)\x20of\x20type\x20api::relation.relation\x20associated\x20with\x20this\x20entity\x20do\x20not\x20exist'));});}),describe(_0x4272dc(0x14a),()=>{const _0x54b4a5=_0x4272dc,_0x1d0c58={'wIVlR':_0xd7e8[_0x54b4a5(0x124)],'GylAG':_0x54b4a5(0xcb),'tkYci':_0x54b4a5(0xd7),'eDDin':_0xd7e8[_0x54b4a5(0xc8)],'ogndG':_0xd7e8[_0x54b4a5(0xe8)],'GDGAE':_0x54b4a5(0x9a),'YAWNE':_0x54b4a5(0x146),'DAidU':_0x54b4a5(0xfb),'RQnyR':_0x54b4a5(0x123),'gjLIj':function(_0x7b9b85,_0x290ff9){const _0x11ed89=_0x54b4a5;return _0xd7e8[_0x11ed89(0xd6)](_0x7b9b85,_0x290ff9);},'FZbcA':_0x54b4a5(0x98),'XTGDR':_0xd7e8[_0x54b4a5(0x11b)],'GqNZz':_0x54b4a5(0xe2),'QLzmh':'2022-11-03T13:36:51.764Z','BXZqt':function(_0x37ca38,_0x19ef35){const _0x1fc994=_0x54b4a5;return _0xd7e8[_0x1fc994(0xd6)](_0x37ca38,_0x19ef35);}};let _0x2d355a;_0xd7e8[_0x54b4a5(0xd6)](beforeAll,()=>{const _0x3ca1c8=_0x54b4a5;_0x5a84d0[_0x3ca1c8(0x9a)]={'uid':_0x3ca1c8(0x9a),'kind':_0x1d0c58[_0x3ca1c8(0xa5)],'collectionName':_0x3ca1c8(0x9a),'options':{},'attributes':{'name':{'type':_0x1d0c58[_0x3ca1c8(0xfe)]},'activity':{'displayName':_0x1d0c58['tkYci'],'type':_0x1d0c58[_0x3ca1c8(0x13a)],'repeatable':!![],'component':_0x1d0c58[_0x3ca1c8(0x16a)]}},'modelType':_0x3ca1c8(0xa3),'modelName':_0x1d0c58['GDGAE']},_0x5a84d0[_0x1d0c58[_0x3ca1c8(0x16a)]]={'collectionName':_0x3ca1c8(0x152),'info':{'displayName':_0x3ca1c8(0xd7)},'options':{},'attributes':{'docs':{'allowedTypes':['images',_0x3ca1c8(0xf9),_0x3ca1c8(0x107),_0x1d0c58[_0x3ca1c8(0x144)]],'type':_0x3ca1c8(0xc2),'multiple':!![]},'name':{'type':_0x3ca1c8(0xcb)}},'uid':_0x3ca1c8(0x126),'category':_0x1d0c58[_0x3ca1c8(0x10f)],'modelType':_0x3ca1c8(0x15d),'modelName':_0x1d0c58[_0x3ca1c8(0x102)],'globalId':_0x1d0c58[_0x3ca1c8(0x162)]};const _0x50159a={'query':jest['fn'](()=>_0x8a872b)},_0x3d1ef6={'getModel':jest['fn'](_0x5bb7d9=>_0x5a84d0[_0x5bb7d9]),'query':jest['fn'](()=>_0x8a872b),'db':{'dialect':{'client':_0x3ca1c8(0xe4)}}};global[_0x3ca1c8(0xd9)]=_0x3d1ef6,_0x2d355a=createEntityService({'strapi':_0x3d1ef6,'db':_0x50159a,'eventHub':new EventEmitter(),'entityValidator':entityValidator});}),test(_0x54b4a5(0x15c),async()=>{const _0x2418d7=_0x54b4a5,_0x3b474e=_0x1d0c58[_0x2418d7(0x10a)](require,_0x1d0c58[_0x2418d7(0x9f)]),_0x52a0af={'name':_0x2418d7(0x139),'activity':[{'name':_0x1d0c58[_0x2418d7(0x10e)]}]},_0x58bdbd={'activity.0.docs':{'size':0x5d3e4,'path':_0x2418d7(0xba),'name':'thisisajpeg.jpeg','type':_0x1d0c58[_0x2418d7(0xee)],'mtime':_0x1d0c58[_0x2418d7(0xdf)]}};_0x8a872b[_0x2418d7(0xf6)]['mockResolvedValue']({'id':0x1,..._0x52a0af}),await _0x2d355a[_0x2418d7(0xa8)](_0x2418d7(0x9a),{'data':_0x52a0af,'files':_0x58bdbd}),expect(global[_0x2418d7(0xd9)]['getModel'])[_0x2418d7(0x12b)](),expect(_0x3b474e)[_0x2418d7(0x12b)](),_0x1d0c58[_0x2418d7(0x100)](expect,_0x3b474e)[_0x2418d7(0xdc)](0x1),expect(_0x3b474e)['toBeCalledWith'](_0x2418d7(0x9a),{'id':0x1,'name':_0x2418d7(0x139),'activity':[{'id':0x1,'__pivot':{'field':'activity','component_type':_0x1d0c58[_0x2418d7(0x16a)]}}]},_0x58bdbd);});});}),_0xd7e8[_0xb14d92(0xc1)](describe,_0xd7e8[_0xb14d92(0x131)],()=>{const _0xd306e9=_0xb14d92,_0x390ac8={'SSFug':_0xd306e9(0xd7),'ajwEO':_0xd7e8[_0xd306e9(0xe8)],'gcmdv':_0xd7e8[_0xd306e9(0xfa)],'teqGt':function(_0x2dd56d,_0x136bac){const _0x25670c=_0xd306e9;return _0xd7e8[_0x25670c(0x15b)](_0x2dd56d,_0x136bac);},'bKjfi':_0xd7e8['psbOw'],'YHsxJ':function(_0x1cde5c,_0x11be1e){const _0x39070e=_0xd306e9;return _0xd7e8[_0x39070e(0xd6)](_0x1cde5c,_0x11be1e);},'UXMnu':function(_0xbf48d0,_0x19f897){return _0xbf48d0(_0x19f897);},'aIFTV':_0xd306e9(0x167),'FaeRT':_0xd306e9(0xfd),'fFqgf':_0xd7e8[_0xd306e9(0x12c)],'jtREY':_0xd7e8['szerJ'],'vtnXh':_0xd306e9(0xad),'UZCkB':_0xd7e8[_0xd306e9(0x103)],'HdqVp':_0xd306e9(0x122),'AIxBD':_0xd7e8[_0xd306e9(0x11a)],'Abgkm':'entities','OqLkS':'relation','NPhrM':_0xd306e9(0xcb),'ncbZA':function(_0x17badc,_0x467e23,_0x2d047b){return _0x17badc(_0x467e23,_0x2d047b);},'TWCOR':function(_0x2f448c,_0x5db119,_0x19f20f){const _0x4dcf83=_0xd306e9;return _0xd7e8[_0x4dcf83(0xd4)](_0x2f448c,_0x5db119,_0x19f20f);},'ArXnv':_0xd7e8[_0xd306e9(0x118)]};_0xd7e8[_0xd306e9(0xd4)](describe,_0xd306e9(0xac),()=>{const _0x309154=_0xd306e9,_0xd95f85={'XvYhd':_0x390ac8[_0x309154(0xf7)],'YHxtX':function(_0x36ef87,_0x1ddabb){const _0x750ebe=_0x309154;return _0x390ac8[_0x750ebe(0x15e)](_0x36ef87,_0x1ddabb);}};let _0x2869e4;const _0x3ad792=_0x309154(0x115),_0x3ead13=_0x390ac8[_0x309154(0x16d)],_0x7ffc9f={[_0x3ad792]:{0x0:{'id':0x0,'Name':_0x390ac8['FaeRT'],'createdAt':_0x390ac8[_0x309154(0x165)],'updatedAt':_0x309154(0xad),'publishedAt':null}},[_0x3ead13]:{0x1:{'id':0x1,'Name':_0x390ac8[_0x309154(0x134)],'createdAt':_0x390ac8['fFqgf'],'updatedAt':_0x390ac8[_0x309154(0x11f)],'publishedAt':null},0x2:{'id':0x2,'Name':_0x390ac8[_0x309154(0x143)],'createdAt':_0x309154(0xb5),'updatedAt':_0x309154(0xad),'publishedAt':null}}},_0x5ea8ab={[_0x3ad792]:{'kind':_0x390ac8[_0x309154(0xd8)],'modelName':_0x390ac8['AIxBD'],'collectionName':'entity','uid':_0x3ad792,'privateAttributes':[],'options':{},'info':{'singularName':_0x390ac8['AIxBD'],'pluralName':_0x390ac8['Abgkm'],'displayName':'ENTITY'},'attributes':{'Name':{'type':_0x309154(0xcb)},'addresses':{'type':_0x390ac8['OqLkS'],'relation':_0x309154(0x142),'target':_0x3ead13,'mappedBy':_0x390ac8['AIxBD']}}},[_0x3ead13]:{'kind':_0x309154(0xa3),'modelName':_0x390ac8[_0x309154(0xab)],'attributes':{'Name':{'type':_0x390ac8[_0x309154(0x10c)],'default':_0x309154(0x119),'required':!![]}}}};_0x390ac8['YHsxJ'](beforeAll,()=>{const _0x47dbe1=_0x309154,_0x10b5de=_0x2d3974=>({'findOne':jest['fn'](({where:_0x4800b7})=>_0x7ffc9f[_0x2d3974][_0x4800b7['id']]),'count':jest['fn'](({where:_0x47f745})=>{const _0x40e1fe=_0x2d2e;let _0xff99b=0x0;return _0x47f745['id'][_0x40e1fe(0x104)][_0x40e1fe(0x120)](_0x2afdc3=>{const _0x13457e=_0x7ffc9f[_0x2d3974][_0x2afdc3];if(!_0x13457e)return;_0xff99b+=0x1;}),_0xff99b;}),'update':jest['fn'](({where:_0x2cba3b})=>({..._0x7ffc9f[_0x2d3974][_0x2cba3b['id']],'addresses':{'count':0x1}}))}),_0x491a1a={'query':jest['fn'](_0x245d64=>_0x10b5de(_0x245d64))};global[_0x47dbe1(0xd9)]={'getModel':jest['fn'](_0x4b638f=>{return _0x5ea8ab[_0x4b638f];}),'db':_0x491a1a},_0x2869e4=createEntityService({'strapi':global[_0x47dbe1(0xd9)],'db':_0x491a1a,'eventHub':new EventEmitter(),'entityValidator':entityValidator});}),test(_0x309154(0xe5),async()=>{const _0x72b537=_0x309154;expect(await _0x2869e4['update'](_0x3ad792,Math[_0x72b537(0x12e)]()*(0x2710-0x64)+0x64,{}))[_0x72b537(0x99)]();}),_0x390ac8['ncbZA'](test,'should\x20successfully\x20update\x20an\x20existing\x20relation',async()=>{const _0x3c7664=_0x309154,_0x4f07c2={'Name':_0xd95f85['XvYhd'],'addresses':{'connect':[{'id':0x1}]}};_0xd95f85[_0x3c7664(0x135)](expect,await _0x2869e4[_0x3c7664(0xbc)](_0x3ad792,0x0,{'data':_0x4f07c2}))[_0x3c7664(0xb3)]({..._0x7ffc9f[_0x3ad792][0x0],'addresses':{'count':0x1}});}),_0x390ac8[_0x309154(0xde)](test,_0x390ac8[_0x309154(0xbb)],async()=>{const _0x105771=_0x309154,_0x20d503={'ARbiU':'test-model','qZmUg':_0x105771(0x122),'sAkEl':_0x105771(0xcb),'TMHKO':_0x390ac8[_0x105771(0xdb)],'EliOL':_0x105771(0x15d),'DbBvE':_0x390ac8[_0x105771(0x101)],'EvWiW':_0x390ac8[_0x105771(0xf5)],'JgIGg':_0x105771(0x107),'tejqr':_0x105771(0x146),'phWxq':_0x105771(0xc2),'KCDpb':'ComponentBasicActivity','CpnrP':function(_0x4f34ae,_0x42612b){return _0x4f34ae(_0x42612b);}};if(_0x390ac8[_0x105771(0x12f)](_0x105771(0x14e),_0x105771(0x155))){const _0x1e557b={'Name':_0x390ac8[_0x105771(0xf7)],'addresses':{'connect':[{'id':0x3}]}},_0x5d21d3=_0x2869e4[_0x105771(0xbc)](_0x3ad792,0x0,{'data':_0x1e557b});await _0x390ac8[_0x105771(0xda)](expect,_0x5d21d3)[_0x105771(0x9d)][_0x105771(0xe9)](new ValidationError('1\x20relation(s)\x20of\x20type\x20api::relation.relation\x20associated\x20with\x20this\x20entity\x20do\x20not\x20exist'));}else{_0x1135b0[_0x20d503[_0x105771(0xd0)]]={'uid':_0x20d503[_0x105771(0xd0)],'kind':_0x20d503[_0x105771(0xcc)],'collectionName':_0x105771(0x9a),'options':{},'attributes':{'name':{'type':_0x20d503[_0x105771(0x159)]},'activity':{'displayName':_0x20d503[_0x105771(0xc9)],'type':_0x20d503[_0x105771(0xd3)],'repeatable':!![],'component':_0x105771(0x126)}},'modelType':_0x105771(0xa3),'modelName':_0x20d503[_0x105771(0xd0)]},_0xca26fa[_0x20d503['DbBvE']]={'collectionName':_0x105771(0x152),'info':{'displayName':_0x105771(0xd7)},'options':{},'attributes':{'docs':{'allowedTypes':[_0x20d503[_0x105771(0x13f)],_0x105771(0xf9),_0x20d503['JgIGg'],_0x20d503[_0x105771(0xed)]],'type':_0x20d503['phWxq'],'multiple':!![]},'name':{'type':_0x105771(0xcb)}},'uid':_0x105771(0x126),'category':_0x105771(0xfb),'modelType':_0x105771(0x15d),'modelName':_0x20d503[_0x105771(0xc9)],'globalId':_0x20d503['KCDpb']};const _0x23696c={'query':_0x31ee77['fn'](()=>_0x43387a)},_0x5e319a={'getModel':_0x3a5987['fn'](_0x47f96b=>_0x21fdef[_0x47f96b]),'query':_0x5ea3db['fn'](()=>_0x2ab282),'db':{'dialect':{'client':_0x105771(0xe4)}}};_0x2957d3[_0x105771(0xd9)]=_0x5e319a,_0x134fd5=_0x20d503[_0x105771(0xf3)](_0x356bb4,{'strapi':_0x5e319a,'db':_0x23696c,'eventHub':new _0x157012(),'entityValidator':_0x405310});}});});});});