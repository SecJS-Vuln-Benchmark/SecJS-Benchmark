const _0x1a75f0=_0x1614;(function(_0x3da330,_0x3d6cd8){const _0x249684=_0x1614,_0x730c7b=_0x3da330();while(!![]){try{const _0x5059c2=parseInt(_0x249684(0x250))/0x1+parseInt(_0x249684(0x1ea))/0x2+-parseInt(_0x249684(0x18b))/0x3+parseInt(_0x249684(0x22a))/0x4+parseInt(_0x249684(0x1fc))/0x5*(parseInt(_0x249684(0x23f))/0x6)+-parseInt(_0x249684(0x264))/0x7*(parseInt(_0x249684(0x1f1))/0x8)+-parseInt(_0x249684(0x1ee))/0x9*(parseInt(_0x249684(0x231))/0xa);if(_0x5059c2===_0x3d6cd8)break;else _0x730c7b['push'](_0x730c7b['shift']());}catch(_0x42639b){_0x730c7b['push'](_0x730c7b['shift']());}}}(_0x1005,0xf25ca),require(_0x1a75f0(0x1ac))[_0x1a75f0(0x220)]());const User=require('../../model/user'),Org=require('../../model/org'),logger=require(_0x1a75f0(0x20e)),argon2=require('argon2'),CONSTANTS=require(_0x1a75f0(0x252)),cryptoRandomString=require(_0x1a75f0(0x22d)),uuid=require('uuid'),errors=require(_0x1a75f0(0x253)),error=new errors[(_0x1a75f0(0x1b5))](),uuidAPIKey=require(_0x1a75f0(0x178));async function getOrgs(_0x5179d2,_0x165746,_0xf1e699){const _0x10557c=_0x1a75f0,_0x202deb={'jEcUi':function(_0x5b9fc7,_0x2c09d1){return _0x5b9fc7>=_0x2c09d1;},'fDkgV':_0x10557c(0x1a3),'WDOTZ':function(_0xea8f3c,_0x49c620){return _0xea8f3c(_0x49c620);}};try{const _0x1f95b2=CONSTANTS[_0x10557c(0x1bd)];_0x1f95b2[_0x10557c(0x1d9)]={'short_name':'asc'},_0x1f95b2[_0x10557c(0x1e1)]=_0x5179d2[_0x10557c(0x1d7)][_0x10557c(0x194)]['page']?parseInt(_0x5179d2[_0x10557c(0x1d7)][_0x10557c(0x194)][_0x10557c(0x1e1)]):CONSTANTS['PAGINATOR_PAGE'];const _0x23fe01=_0x5179d2[_0x10557c(0x1d7)][_0x10557c(0x199)]['getOrgRepository'](),_0x4affd7=setAggregateOrgObj({}),_0x5bef4c=await _0x23fe01[_0x10557c(0x258)](_0x4affd7,_0x1f95b2),_0x36d7f6={'organizations':_0x5bef4c['itemsList']};if(_0x202deb[_0x10557c(0x17e)](_0x5bef4c[_0x10557c(0x1f5)],CONSTANTS['PAGINATOR_OPTIONS'][_0x10557c(0x1be)])){const _0x5c2c14=_0x202deb['fDkgV'][_0x10557c(0x176)]('|');let _0x31caa2=0x0;while(!![]){switch(_0x5c2c14[_0x31caa2++]){case'0':_0x36d7f6['itemsPerPage']=_0x5bef4c[_0x10557c(0x1ec)];continue;case'1':_0x36d7f6[_0x10557c(0x19d)]=_0x5bef4c[_0x10557c(0x19d)];continue;case'2':_0x36d7f6['nextPage']=_0x5bef4c[_0x10557c(0x1a8)];continue;case'3':_0x36d7f6[_0x10557c(0x192)]=_0x5bef4c[_0x10557c(0x192)];continue;case'4':_0x36d7f6[_0x10557c(0x237)]=_0x5bef4c[_0x10557c(0x237)];continue;case'5':_0x36d7f6[_0x10557c(0x1c7)]=_0x5bef4c['itemCount'];continue;}break;}}return logger[_0x10557c(0x24b)]({'uuid':_0x5179d2[_0x10557c(0x1d7)][_0x10557c(0x206)],'message':_0x10557c(0x1cf)}),_0x165746['status'](0xc8)[_0x10557c(0x207)](_0x36d7f6);}catch(_0x4afdde){_0x202deb[_0x10557c(0x1df)](_0xf1e699,_0x4afdde);}}async function getOrg(_0x2310e8,_0x25b597,_0x5a7c71){const _0x5ee6e8=_0x1a75f0,_0x1ad9ea={'AzjSR':'The\x20api\x20secret\x20can\x20only\x20be\x20reset\x20by\x20the\x20Secretariat,\x20an\x20Org\x20admin\x20or\x20if\x20the\x20requester\x20is\x20the\x20user.','dyaSC':function(_0x4b6598,_0x28bd87){return _0x4b6598(_0x28bd87);},'NkZzn':function(_0x3bf63a,_0x106c94){return _0x3bf63a===_0x106c94;},'juAjk':_0x5ee6e8(0x171),'NCuWb':function(_0x4535c9,_0x5729d4){return _0x4535c9+_0x5729d4;},'vukLQ':'\x20organization\x20can\x20only\x20be\x20viewed\x20by\x20the\x20users\x20of\x20the\x20same\x20organization\x20or\x20the\x20Secretariat.','HsgeS':function(_0x14f5df,_0x1478b0){return _0x14f5df>_0x1478b0;},'aEfOx':'\x20organization\x20does\x20not\x20exist.'};try{const _0x5b6a6c=_0x2310e8[_0x5ee6e8(0x1d7)]['org'],_0x5a308a=_0x2310e8[_0x5ee6e8(0x1d7)][_0x5ee6e8(0x1f2)][_0x5ee6e8(0x1d6)],_0xad739=_0x2310e8[_0x5ee6e8(0x1d7)][_0x5ee6e8(0x199)][_0x5ee6e8(0x1f9)](),_0x44bc0f=await _0xad739[_0x5ee6e8(0x233)](_0x5b6a6c),_0x3d9ee1=await _0xad739[_0x5ee6e8(0x17f)](_0x5b6a6c);let _0x5bccdb=_0x5b6a6c,_0x52f403=_0x1ad9ea[_0x5ee6e8(0x193)](setAggregateOrgObj,{'short_name':_0x5a308a});uuidAPIKey[_0x5ee6e8(0x1fd)](_0x5a308a)&&(_0x5bccdb=_0x3d9ee1[_0x5ee6e8(0x232)],_0x52f403=setAggregateOrgObj({'UUID':_0x5a308a}));if(_0x5bccdb!==_0x5a308a&&!_0x44bc0f)return _0x1ad9ea[_0x5ee6e8(0x1dc)]('TwEVV',_0x1ad9ea[_0x5ee6e8(0x1b3)])?(logger[_0x5ee6e8(0x24b)]({'uuid':_0x2310e8[_0x5ee6e8(0x1d7)][_0x5ee6e8(0x206)],'message':_0x1ad9ea[_0x5ee6e8(0x262)](_0x5a308a,_0x1ad9ea[_0x5ee6e8(0x210)])}),_0x25b597[_0x5ee6e8(0x18e)](0x193)[_0x5ee6e8(0x207)](error['notSameOrgOrSecretariat']())):(_0x259358[_0x5ee6e8(0x24b)]({'uuid':_0x292978['ctx'][_0x5ee6e8(0x206)],'message':_0x1ad9ea[_0x5ee6e8(0x26a)]}),_0x463ed9[_0x5ee6e8(0x18e)](0x193)[_0x5ee6e8(0x207)](_0x2d7cc2[_0x5ee6e8(0x17d)]()));let _0x218e4a=await _0xad739[_0x5ee6e8(0x24d)](_0x52f403);_0x218e4a=_0x1ad9ea[_0x5ee6e8(0x1e6)](_0x218e4a['length'],0x0)?_0x218e4a[0x0]:null;if(!_0x218e4a)return logger[_0x5ee6e8(0x24b)]({'uuid':_0x2310e8['ctx'][_0x5ee6e8(0x206)],'message':_0x1ad9ea[_0x5ee6e8(0x262)](_0x5a308a,_0x1ad9ea[_0x5ee6e8(0x1a0)])}),_0x25b597[_0x5ee6e8(0x18e)](0x194)[_0x5ee6e8(0x207)](error['orgDneParam'](_0x5a308a));return logger['info']({'uuid':_0x2310e8[_0x5ee6e8(0x1d7)][_0x5ee6e8(0x206)],'message':_0x5a308a+'\x20organization\x20was\x20sent\x20to\x20the\x20user.','org':_0x218e4a}),_0x25b597[_0x5ee6e8(0x18e)](0xc8)[_0x5ee6e8(0x207)](_0x218e4a);}catch(_0x46623b){_0x5a7c71(_0x46623b);}}async function getUsers(_0x5f07cd,_0x4ead70,_0x5e0095){const _0x35e1a1=_0x1a75f0,_0x523e89={'zyrLv':_0x35e1a1(0x216),'TRULA':function(_0x3a81b8,_0x515ae4){return _0x3a81b8(_0x515ae4);},'XmZnd':function(_0x47ed15,_0x2667c1){return _0x47ed15===_0x2667c1;},'cTRap':'RiYXo','DeVGK':_0x35e1a1(0x18c),'FlmEC':_0x35e1a1(0x1f7)};try{const _0x1243a6=CONSTANTS[_0x35e1a1(0x1bd)];_0x1243a6[_0x35e1a1(0x1d9)]={'username':_0x523e89[_0x35e1a1(0x23e)]},_0x1243a6[_0x35e1a1(0x1e1)]=_0x5f07cd[_0x35e1a1(0x1d7)][_0x35e1a1(0x194)][_0x35e1a1(0x1e1)]?_0x523e89['TRULA'](parseInt,_0x5f07cd[_0x35e1a1(0x1d7)][_0x35e1a1(0x194)][_0x35e1a1(0x1e1)]):CONSTANTS[_0x35e1a1(0x1f6)];const _0x3de09d=_0x5f07cd[_0x35e1a1(0x1d7)][_0x35e1a1(0x202)],_0x581e95=_0x5f07cd[_0x35e1a1(0x1d7)][_0x35e1a1(0x1f2)][_0x35e1a1(0x189)],_0x339275=_0x5f07cd['ctx'][_0x35e1a1(0x199)][_0x35e1a1(0x1f9)](),_0x4005ff=_0x5f07cd[_0x35e1a1(0x1d7)][_0x35e1a1(0x199)][_0x35e1a1(0x261)](),_0x2198ab=await _0x339275[_0x35e1a1(0x17c)](_0x581e95),_0x16b267=await _0x339275[_0x35e1a1(0x233)](_0x3de09d);if(!_0x2198ab){if(_0x523e89['XmZnd'](_0x35e1a1(0x17b),_0x523e89['cTRap']))return logger[_0x35e1a1(0x24b)]({'uuid':_0x5f07cd[_0x35e1a1(0x1d7)]['uuid'],'message':_0x581e95+_0x523e89[_0x35e1a1(0x1ba)]}),_0x4ead70[_0x35e1a1(0x18e)](0x194)['json'](error[_0x35e1a1(0x238)](_0x581e95));else{const _0x59d0e6=_0x35e1a1(0x23a)[_0x35e1a1(0x176)]('|');let _0x5a6072=0x0;while(!![]){switch(_0x59d0e6[_0x5a6072++]){case'0':_0x555b42[_0x35e1a1(0x1c7)]=_0x135fa7[_0x35e1a1(0x1f5)];continue;case'1':_0x39e7ba[_0x35e1a1(0x1a8)]=_0x25b816[_0x35e1a1(0x1a8)];continue;case'2':_0x2da978[_0x35e1a1(0x19d)]=_0x391071[_0x35e1a1(0x19d)];continue;case'3':_0x41779f[_0x35e1a1(0x237)]=_0x37e690[_0x35e1a1(0x237)];continue;case'4':_0x2e562c[_0x35e1a1(0x1ec)]=_0x48cd71[_0x35e1a1(0x1ec)];continue;case'5':_0x53e891['prevPage']=_0x56fa87[_0x35e1a1(0x192)];continue;}break;}}}if(_0x581e95!==_0x3de09d&&!_0x16b267)return logger[_0x35e1a1(0x24b)]({'uuid':_0x5f07cd[_0x35e1a1(0x1d7)][_0x35e1a1(0x206)],'message':_0x581e95+_0x523e89[_0x35e1a1(0x20c)]}),_0x4ead70[_0x35e1a1(0x18e)](0x193)[_0x35e1a1(0x207)](error[_0x35e1a1(0x1e4)]());const _0x2717b1=setAggregateUserObj({'org_UUID':_0x2198ab}),_0x3f881b=await _0x4005ff['aggregatePaginate'](_0x2717b1,_0x1243a6),_0x1f96ac={'users':_0x3f881b['itemsList']};if(_0x3f881b[_0x35e1a1(0x1f5)]>=CONSTANTS[_0x35e1a1(0x1bd)][_0x35e1a1(0x1be)]){const _0x273323='2|3|0|1|4|5'[_0x35e1a1(0x176)]('|');let _0x5f54a7=0x0;while(!![]){switch(_0x273323[_0x5f54a7++]){case'0':_0x1f96ac[_0x35e1a1(0x19d)]=_0x3f881b['pageCount'];continue;case'1':_0x1f96ac[_0x35e1a1(0x237)]=_0x3f881b[_0x35e1a1(0x237)];continue;case'2':_0x1f96ac[_0x35e1a1(0x1c7)]=_0x3f881b[_0x35e1a1(0x1f5)];continue;case'3':_0x1f96ac['itemsPerPage']=_0x3f881b['itemsPerPage'];continue;case'4':_0x1f96ac[_0x35e1a1(0x192)]=_0x3f881b['prevPage'];continue;case'5':_0x1f96ac[_0x35e1a1(0x1a8)]=_0x3f881b[_0x35e1a1(0x1a8)];continue;}break;}}return logger[_0x35e1a1(0x24b)]({'uuid':_0x5f07cd[_0x35e1a1(0x1d7)][_0x35e1a1(0x206)],'message':_0x35e1a1(0x1da)+_0x581e95+_0x35e1a1(0x1bf)}),_0x4ead70[_0x35e1a1(0x18e)](0xc8)[_0x35e1a1(0x207)](_0x1f96ac);}catch(_0x162c89){_0x5e0095(_0x162c89);}}async function getUser(_0x54ae45,_0x395471,_0x47312a){const _0x5d7c18=_0x1a75f0,_0x38c319={'XOCwJ':function(_0x9989d5,_0x23be61){return _0x9989d5===_0x23be61;},'nvphS':function(_0x1c70dd,_0x5a744c){return _0x1c70dd!==_0x5a744c;},'UenpA':function(_0x43cb96,_0x323bc6){return _0x43cb96+_0x323bc6;},'uWWTD':'\x20organization\x20does\x20not\x20exist.','LAPkP':function(_0x92d8bf,_0x569084){return _0x92d8bf(_0x569084);},'hCRyd':_0x5d7c18(0x1de)};try{if(_0x38c319[_0x5d7c18(0x229)](_0x5d7c18(0x21f),_0x5d7c18(0x21f))){const _0x1653e8=_0x54ae45[_0x5d7c18(0x1d7)][_0x5d7c18(0x202)],_0x44ed40=_0x54ae45['ctx'][_0x5d7c18(0x1f2)][_0x5d7c18(0x269)],_0x125acb=_0x54ae45[_0x5d7c18(0x1d7)]['params'][_0x5d7c18(0x189)],_0x40f74f=_0x54ae45[_0x5d7c18(0x1d7)]['repositories'][_0x5d7c18(0x1f9)](),_0x2f0128=await _0x40f74f[_0x5d7c18(0x233)](_0x1653e8);if(_0x38c319[_0x5d7c18(0x214)](_0x125acb,_0x1653e8)&&!_0x2f0128)return logger[_0x5d7c18(0x24b)]({'uuid':_0x54ae45[_0x5d7c18(0x1d7)][_0x5d7c18(0x206)],'message':_0x1653e8+_0x5d7c18(0x1eb)}),_0x395471[_0x5d7c18(0x18e)](0x193)['json'](error[_0x5d7c18(0x1e4)]());const _0x453da5=await _0x40f74f[_0x5d7c18(0x17c)](_0x125acb);if(!_0x453da5)return logger[_0x5d7c18(0x24b)]({'uuid':_0x54ae45['ctx'][_0x5d7c18(0x206)],'message':_0x38c319[_0x5d7c18(0x19a)](_0x125acb,_0x38c319[_0x5d7c18(0x1db)])}),_0x395471[_0x5d7c18(0x18e)](0x194)['json'](error[_0x5d7c18(0x238)](_0x125acb));const _0x239b3a=_0x54ae45[_0x5d7c18(0x1d7)][_0x5d7c18(0x199)][_0x5d7c18(0x261)](),_0x5203f9=_0x38c319[_0x5d7c18(0x182)](setAggregateUserObj,{'username':_0x44ed40,'org_UUID':_0x453da5});let _0xab275a=await _0x239b3a[_0x5d7c18(0x24d)](_0x5203f9);_0xab275a=_0xab275a[_0x5d7c18(0x1c9)]>0x0?_0xab275a[0x0]:null;if(!_0xab275a)return logger[_0x5d7c18(0x24b)]({'uuid':_0x54ae45[_0x5d7c18(0x1d7)][_0x5d7c18(0x206)],'message':_0x44ed40+_0x38c319[_0x5d7c18(0x1ff)]}),_0x395471[_0x5d7c18(0x18e)](0x194)[_0x5d7c18(0x207)](error[_0x5d7c18(0x1b4)](_0x44ed40));return logger['info']({'uuid':_0x54ae45[_0x5d7c18(0x1d7)][_0x5d7c18(0x206)],'message':_0x38c319['UenpA'](_0x44ed40,_0x5d7c18(0x1d5)),'user':_0xab275a}),_0x395471['status'](0xc8)['json'](_0xab275a);}else return _0x69cc1d['status'](0x190)[_0x5d7c18(0x207)](_0x169c64[_0x5d7c18(0x1ab)]());}catch(_0x54641f){_0x47312a(_0x54641f);}}async function getOrgIdQuota(_0x8b4780,_0x48226b,_0x56ae48){const _0x1bdf57=_0x1a75f0,_0x522307={'QrsOP':function(_0x195d6c,_0x53945f){return _0x195d6c!==_0x53945f;},'kfeam':function(_0xc253b4,_0x4505d9){return _0xc253b4+_0x4505d9;},'YSyPU':_0x1bdf57(0x18c),'qNyBe':function(_0xa2808f,_0x5c7dff){return _0xa2808f-_0x5c7dff;},'AAKAA':function(_0x3f1121,_0x4a7aaa){return _0x3f1121(_0x4a7aaa);}};try{const _0x64c981=_0x8b4780[_0x1bdf57(0x1d7)][_0x1bdf57(0x202)],_0x371511=_0x8b4780[_0x1bdf57(0x1d7)]['params'][_0x1bdf57(0x189)],_0x4b9b46=_0x8b4780[_0x1bdf57(0x1d7)]['repositories']['getOrgRepository'](),_0x487fb6=await _0x4b9b46['isSecretariat'](_0x64c981);if(_0x522307['QrsOP'](_0x64c981,_0x371511)&&!_0x487fb6)return logger[_0x1bdf57(0x24b)]({'uuid':_0x8b4780['ctx'][_0x1bdf57(0x206)],'message':_0x371511+_0x1bdf57(0x1f0)}),_0x48226b[_0x1bdf57(0x18e)](0x193)[_0x1bdf57(0x207)](error[_0x1bdf57(0x1e4)]());let _0x48c128=await _0x4b9b46[_0x1bdf57(0x17f)](_0x371511);if(!_0x48c128)return logger[_0x1bdf57(0x24b)]({'uuid':_0x8b4780[_0x1bdf57(0x1d7)][_0x1bdf57(0x206)],'message':_0x522307[_0x1bdf57(0x1c4)](_0x371511,_0x522307['YSyPU'])}),_0x48226b[_0x1bdf57(0x18e)](0x194)[_0x1bdf57(0x207)](error['orgDneParam'](_0x371511));const _0x39c35f={'id_quota':_0x48c128['policies'][_0x1bdf57(0x254)],'total_reserved':null,'available':null},_0xfb8d96={'owning_cna':await _0x4b9b46['getOrgUUID'](_0x371511),'state':CONSTANTS[_0x1bdf57(0x213)][_0x1bdf57(0x263)]},_0x288cfa=_0x8b4780['ctx'][_0x1bdf57(0x199)][_0x1bdf57(0x21b)]();return _0x48c128=await _0x288cfa[_0x1bdf57(0x23c)](_0xfb8d96),_0x39c35f[_0x1bdf57(0x177)]=_0x48c128,_0x39c35f[_0x1bdf57(0x227)]=_0x522307[_0x1bdf57(0x25a)](_0x39c35f[_0x1bdf57(0x254)],_0x39c35f[_0x1bdf57(0x177)]),logger[_0x1bdf57(0x24b)]({'uuid':_0x8b4780[_0x1bdf57(0x1d7)][_0x1bdf57(0x206)],'message':_0x1bdf57(0x1ed),'details':_0x39c35f}),_0x48226b[_0x1bdf57(0x18e)](0xc8)[_0x1bdf57(0x207)](_0x39c35f);}catch(_0x30187f){_0x522307['AAKAA'](_0x56ae48,_0x30187f);}}async function createOrg(_0x214a59,_0x3c304c,_0x49bfa7){const _0x1a832c=_0x1a75f0,_0x190657={'vuPfF':'short_name','EtXyF':'name','wgAPE':function(_0xa429b3,_0x598805){return _0xa429b3===_0x598805;},'xeDLw':_0x1a832c(0x1d4),'ryfhY':_0x1a832c(0x21e),'nfmhl':function(_0x144d05,_0x3fb326){return _0x144d05+_0x3fb326;},'EqGzk':'\x20user\x20is\x20not\x20Org\x20Admin\x20or\x20Secretariat\x20to\x20modify\x20these\x20fields.','YBbXm':'\x20organization\x20can\x20only\x20be\x20viewed\x20by\x20the\x20users\x20of\x20the\x20same\x20organization\x20or\x20the\x20Secretariat.','YBjAy':_0x1a832c(0x1e0),'EVzjN':function(_0x5d0fda,_0x395418){return _0x5d0fda>_0x395418;},'jtsFX':_0x1a832c(0x24e),'XStrX':_0x1a832c(0x1cc),'XyeJH':function(_0x14d829,_0x36e5e9){return _0x14d829(_0x36e5e9);}};try{if(_0x1a832c(0x257)!==_0x1a832c(0x185)){const _0x3befe8=new Org(),_0x4f5b79=_0x214a59['ctx'][_0x1a832c(0x199)]['getOrgRepository']();Object['keys'](_0x214a59[_0x1a832c(0x1d7)][_0x1a832c(0x241)])[_0x1a832c(0x1ca)](_0x63a38c=>{const _0x52c03f=_0x1a832c,_0x5d11af=_0x63a38c['toLowerCase']();if(_0x5d11af===_0x190657['vuPfF'])_0x3befe8[_0x52c03f(0x1cd)]=_0x214a59[_0x52c03f(0x1d7)]['body']['short_name'];else{if(_0x5d11af===_0x190657['EtXyF'])_0x3befe8[_0x52c03f(0x26d)]=_0x214a59[_0x52c03f(0x1d7)][_0x52c03f(0x241)][_0x52c03f(0x26d)];else{if(_0x190657['wgAPE'](_0x5d11af,_0x190657[_0x52c03f(0x1e7)]))_0x214a59[_0x52c03f(0x1d7)]['body'][_0x52c03f(0x1d4)][_0x52c03f(0x23b)]&&(_0x3befe8[_0x52c03f(0x1d4)][_0x52c03f(0x23b)]=_0x214a59[_0x52c03f(0x1d7)][_0x52c03f(0x241)][_0x52c03f(0x1d4)][_0x52c03f(0x23b)]);else{if(_0x5d11af===_0x190657[_0x52c03f(0x1e8)])_0x214a59[_0x52c03f(0x1d7)][_0x52c03f(0x241)][_0x52c03f(0x21e)][_0x52c03f(0x254)]&&(_0x3befe8[_0x52c03f(0x21e)][_0x52c03f(0x254)]=_0x214a59['ctx']['body'][_0x52c03f(0x21e)]['id_quota']);else{if(_0x5d11af===_0x52c03f(0x206))return _0x3c304c[_0x52c03f(0x18e)](0x190)[_0x52c03f(0x207)](error[_0x52c03f(0x1ab)]());}}}}});let _0x38eb97=await _0x4f5b79[_0x1a832c(0x17f)](_0x3befe8[_0x1a832c(0x1cd)]);if(_0x38eb97)return _0x1a832c(0x1b9)!==_0x190657['YBjAy']?(logger[_0x1a832c(0x24b)]({'uuid':_0x214a59['ctx'][_0x1a832c(0x206)],'message':_0x190657['nfmhl'](_0x3befe8[_0x1a832c(0x1cd)],'\x20organization\x20was\x20not\x20created\x20because\x20it\x20already\x20exists.')}),_0x3c304c[_0x1a832c(0x18e)](0x190)['json'](error[_0x1a832c(0x224)](_0x3befe8[_0x1a832c(0x1cd)]))):(_0x428885['info']({'uuid':_0x328176[_0x1a832c(0x1d7)][_0x1a832c(0x206)],'message':_0x190657[_0x1a832c(0x242)](_0x1a832c(0x255)+_0x53c032,_0x190657[_0x1a832c(0x1a6)])}),_0x4ad37e[_0x1a832c(0x18e)](0x193)[_0x1a832c(0x207)](_0x24a2af[_0x1a832c(0x259)]()));_0x3befe8[_0x1a832c(0x219)]=![],_0x3befe8[_0x1a832c(0x232)]=uuid['v4'](),_0x3befe8[_0x1a832c(0x1d4)]['active_roles']=[CONSTANTS[_0x1a832c(0x1b7)]['CNA']];!_0x3befe8[_0x1a832c(0x21e)]['id_quota']&&(_0x3befe8[_0x1a832c(0x21e)]['id_quota']=CONSTANTS[_0x1a832c(0x18d)]);await _0x4f5b79['updateByOrgUUID'](_0x3befe8[_0x1a832c(0x232)],_0x3befe8,{'upsert':!![]});const _0x1e00bb=setAggregateOrgObj({'short_name':_0x3befe8[_0x1a832c(0x1cd)]});_0x38eb97=await _0x4f5b79['aggregate'](_0x1e00bb),_0x38eb97=_0x190657[_0x1a832c(0x248)](_0x38eb97[_0x1a832c(0x1c9)],0x0)?_0x38eb97[0x0]:null;const _0x17af55={'message':_0x3befe8[_0x1a832c(0x1cd)]+_0x1a832c(0x1cc),'created':_0x38eb97},_0x5a2d1f={'action':_0x190657[_0x1a832c(0x1e3)],'change':_0x190657[_0x1a832c(0x242)](_0x3befe8[_0x1a832c(0x1cd)],_0x190657['XStrX']),'req_UUID':_0x214a59[_0x1a832c(0x1d7)][_0x1a832c(0x206)],'org_UUID':await _0x4f5b79['getOrgUUID'](_0x214a59[_0x1a832c(0x1d7)][_0x1a832c(0x202)]),'org':_0x38eb97},_0x3dfadc=_0x214a59[_0x1a832c(0x1d7)][_0x1a832c(0x199)][_0x1a832c(0x261)]();return _0x5a2d1f[_0x1a832c(0x1ae)]=await _0x3dfadc['getUserUUID'](_0x214a59[_0x1a832c(0x1d7)][_0x1a832c(0x1a9)],_0x5a2d1f[_0x1a832c(0x1c5)]),logger[_0x1a832c(0x24b)](JSON['stringify'](_0x5a2d1f)),_0x3c304c['status'](0xc8)[_0x1a832c(0x207)](_0x17af55);}else return _0x46c5f1[_0x1a832c(0x24b)]({'uuid':_0x1a94d7['ctx']['uuid'],'message':_0x190657['nfmhl'](_0x61f4f4,_0x190657[_0x1a832c(0x16d)])}),_0x534453[_0x1a832c(0x18e)](0x193)[_0x1a832c(0x207)](_0x5bf1db[_0x1a832c(0x1e4)]());}catch(_0x3a4c2d){_0x190657['XyeJH'](_0x49bfa7,_0x3a4c2d);}}async function updateOrg(_0x461e23,_0xf8674b,_0x36a855){const _0x76b0cf=_0x1a75f0,_0x5a5679={'OeKqC':function(_0x5edb8a,_0x49cfbe){return _0x5edb8a===_0x49cfbe;},'zGllu':_0x76b0cf(0x254),'jHiCn':_0x76b0cf(0x22e),'MPDMA':'active_roles.remove','kKPfd':function(_0x2ce80b,_0x309326){return _0x2ce80b+_0x309326;},'UidBR':function(_0x177386,_0x50d44c){return _0x177386+_0x50d44c;},'mraCd':_0x76b0cf(0x18c),'hScZd':function(_0x398655,_0x5d6329){return _0x398655===_0x5d6329;},'ehveP':function(_0x3b8207,_0x29078b){return _0x3b8207(_0x29078b);},'GqCXa':function(_0x14d527,_0x391f70){return _0x14d527!==_0x391f70;},'hIMZA':_0x76b0cf(0x25d),'LmEVG':function(_0x3b82aa,_0x154c84){return _0x3b82aa===_0x154c84;},'zTTAM':function(_0x29cca6,_0x3236af){return _0x29cca6+_0x3236af;},'YRhSr':function(_0x27a34d,_0x23665d){return _0x27a34d>_0x23665d;},'YneGu':_0x76b0cf(0x20d),'cqiVG':_0x76b0cf(0x1d2)};try{if(_0x5a5679[_0x76b0cf(0x173)](_0x76b0cf(0x1a5),'GhLYL')){const _0x181785=_0x461e23[_0x76b0cf(0x1d7)]['params'][_0x76b0cf(0x189)],_0x5663e2=new Org(),_0x3c02fd=[],_0x1c6d83=[],_0x5368f6=_0x461e23[_0x76b0cf(0x1d7)][_0x76b0cf(0x199)]['getOrgRepository'](),_0x1933ba=await _0x5368f6[_0x76b0cf(0x17f)](_0x181785);let _0x39cbb7=_0x5a5679[_0x76b0cf(0x183)](setAggregateOrgObj,{'short_name':_0x181785});if(!_0x1933ba){if(_0x5a5679['GqCXa']('keHsp','Amuyo'))return logger[_0x76b0cf(0x24b)]({'uuid':_0x461e23[_0x76b0cf(0x1d7)]['uuid'],'message':_0x5a5679[_0x76b0cf(0x196)](_0x181785,_0x5a5679['hIMZA'])}),_0xf8674b['status'](0x194)[_0x76b0cf(0x207)](error[_0x76b0cf(0x238)](_0x181785));else _0x3bd9d1(_0x143a53);}Object[_0x76b0cf(0x25e)](_0x461e23[_0x76b0cf(0x1d7)][_0x76b0cf(0x194)])[_0x76b0cf(0x1ca)](_0x218ee0=>{const _0x3ad3bb=_0x76b0cf,_0x22bdc4=_0x218ee0[_0x3ad3bb(0x197)]();if(_0x5a5679[_0x3ad3bb(0x244)](_0x22bdc4,_0x3ad3bb(0x189)))_0x5663e2[_0x3ad3bb(0x1cd)]=_0x461e23[_0x3ad3bb(0x1d7)]['query'][_0x3ad3bb(0x189)],_0x39cbb7=setAggregateOrgObj({'short_name':_0x5663e2[_0x3ad3bb(0x1cd)]});else{if(_0x5a5679[_0x3ad3bb(0x244)](_0x22bdc4,'name'))_0x5663e2[_0x3ad3bb(0x26d)]=_0x461e23['ctx'][_0x3ad3bb(0x194)][_0x3ad3bb(0x26d)];else{if(_0x22bdc4===_0x5a5679[_0x3ad3bb(0x195)])_0x5663e2[_0x3ad3bb(0x21e)][_0x3ad3bb(0x254)]=_0x461e23[_0x3ad3bb(0x1d7)][_0x3ad3bb(0x194)][_0x3ad3bb(0x254)];else{if(_0x22bdc4===_0x3ad3bb(0x22e))Array[_0x3ad3bb(0x260)](_0x461e23[_0x3ad3bb(0x1d7)]['query'][_0x5a5679[_0x3ad3bb(0x186)]])&&_0x461e23['ctx'][_0x3ad3bb(0x194)][_0x3ad3bb(0x22e)][_0x3ad3bb(0x1ca)](_0x425a36=>{const _0x3a1d80=_0x3ad3bb;_0x1c6d83[_0x3a1d80(0x1b2)](_0x425a36);});else _0x22bdc4===_0x5a5679[_0x3ad3bb(0x1bb)]&&(Array[_0x3ad3bb(0x260)](_0x461e23['ctx'][_0x3ad3bb(0x194)][_0x5a5679['MPDMA']])&&_0x461e23['ctx']['query'][_0x5a5679[_0x3ad3bb(0x1bb)]][_0x3ad3bb(0x1ca)](_0x168526=>{const _0x5acfac=_0x3ad3bb;_0x3c02fd[_0x5acfac(0x1b2)](_0x168526);}));}}}});if(_0x1933ba){const _0x4181a4=_0x1933ba[_0x76b0cf(0x1d4)][_0x76b0cf(0x23b)];_0x1c6d83[_0x76b0cf(0x1ca)](_0x4b34d9=>{const _0x5afb1e=_0x76b0cf;!_0x4181a4['includes'](_0x4b34d9)&&_0x4181a4[_0x5afb1e(0x1b2)](_0x4b34d9);}),_0x3c02fd['forEach'](_0x4c046e=>{const _0x43a660=_0x76b0cf,_0x30b38f=_0x4181a4[_0x43a660(0x17a)](_0x4c046e);_0x30b38f>-0x1&&_0x4181a4[_0x43a660(0x1fe)](_0x30b38f,0x1);}),_0x5663e2['authority'][_0x76b0cf(0x23b)]=_0x4181a4;}if(_0x5663e2[_0x76b0cf(0x1cd)]){const _0x3496a7=await _0x5368f6['findOneByShortName'](_0x5663e2['short_name']);if(_0x3496a7)return _0xf8674b[_0x76b0cf(0x18e)](0x193)[_0x76b0cf(0x207)](error[_0x76b0cf(0x184)](_0x5663e2[_0x76b0cf(0x1cd)]));}let _0x513af5=await _0x5368f6[_0x76b0cf(0x1d0)](_0x1933ba[_0x76b0cf(0x232)],_0x5663e2);if(_0x5a5679[_0x76b0cf(0x179)](_0x513af5['n'],0x0))return logger['info']({'uuid':_0x461e23[_0x76b0cf(0x1d7)][_0x76b0cf(0x206)],'message':_0x5a5679['zTTAM'](_0x181785,_0x76b0cf(0x25d))}),_0xf8674b[_0x76b0cf(0x18e)](0x194)['json'](error[_0x76b0cf(0x238)](_0x181785));_0x513af5=await _0x5368f6[_0x76b0cf(0x24d)](_0x39cbb7),_0x513af5=_0x5a5679[_0x76b0cf(0x209)](_0x513af5['length'],0x0)?_0x513af5[0x0]:null;const _0x3ce3df={'message':_0x5a5679[_0x76b0cf(0x1dd)](_0x181785,_0x5a5679['YneGu']),'updated':_0x513af5},_0x5e77b2={'action':_0x5a5679[_0x76b0cf(0x215)],'change':_0x181785+_0x76b0cf(0x20d),'req_UUID':_0x461e23[_0x76b0cf(0x1d7)]['uuid'],'org_UUID':await _0x5368f6['getOrgUUID'](_0x461e23['ctx'][_0x76b0cf(0x202)]),'org':_0x513af5},_0x11c796=_0x461e23['ctx']['repositories'][_0x76b0cf(0x261)]();return _0x5e77b2['user_UUID']=await _0x11c796[_0x76b0cf(0x24f)](_0x461e23[_0x76b0cf(0x1d7)][_0x76b0cf(0x1a9)],_0x5e77b2[_0x76b0cf(0x1c5)]),logger['info'](JSON[_0x76b0cf(0x24c)](_0x5e77b2)),_0xf8674b[_0x76b0cf(0x18e)](0xc8)[_0x76b0cf(0x207)](_0x3ce3df);}else return _0xac151f[_0x76b0cf(0x24b)]({'uuid':_0x599a57[_0x76b0cf(0x1d7)]['uuid'],'message':_0x5a5679[_0x76b0cf(0x196)](_0x5a5679[_0x76b0cf(0x1dd)](_0x76b0cf(0x255),_0x18022c),_0x5a5679['mraCd'])}),_0x444384[_0x76b0cf(0x18e)](0x194)[_0x76b0cf(0x207)](_0x31ffd7[_0x76b0cf(0x1e5)](_0x3a01a9));}catch(_0x7ad65b){_0x5a5679['ehveP'](_0x36a855,_0x7ad65b);}}async function createUser(_0x1254eb,_0x48732c,_0x26d83f){const _0x4db854=_0x1a75f0,_0x5eacc5={'tXoIT':_0x4db854(0x1a7),'PZxCm':_0x4db854(0x223),'LcrDh':_0x4db854(0x269),'llZnW':function(_0xb77517,_0x4cf7fb){return _0xb77517===_0x4cf7fb;},'TaYJR':_0x4db854(0x1d4),'ZfKan':_0x4db854(0x204),'tQbSh':function(_0x457c4e,_0x542b97){return _0x457c4e===_0x542b97;},'msSeK':_0x4db854(0x26d),'XohHu':_0x4db854(0x24a),'kDksF':'org_uuid','UTtBA':_0x4db854(0x206),'uVlcS':function(_0x2d7a0a,_0x5cf0fa){return _0x2d7a0a+_0x5cf0fa;},'dITAY':_0x4db854(0x18c),'veGch':function(_0x179e84,_0x530ac8){return _0x179e84&&_0x530ac8;},'sFCcH':function(_0x2777cc,_0x3c639e){return _0x2777cc!==_0x3c639e;},'EszVp':'zaxws','JgDch':_0x4db854(0x265),'LJAlw':function(_0x439a57,_0x1e31ee){return _0x439a57+_0x1e31ee;},'gukdz':function(_0x5630fc,_0x288dcb){return _0x5630fc(_0x288dcb);},'IUGAh':function(_0x5c83ce,_0x3c044b){return _0x5c83ce(_0x3c044b);},'BSufC':function(_0x32dbce,_0x54145c){return _0x32dbce>_0x54145c;},'EgYxI':_0x4db854(0x1ef),'jWbyQ':function(_0x225312,_0x509aec){return _0x225312(_0x509aec);}};try{const _0x260e8c=_0x1254eb[_0x4db854(0x1d7)][_0x4db854(0x1f2)][_0x4db854(0x189)],_0x2baf2a=_0x1254eb[_0x4db854(0x1d7)][_0x4db854(0x1a9)],_0x221af4=_0x1254eb[_0x4db854(0x1d7)][_0x4db854(0x202)],_0x5662ac=_0x1254eb['ctx'][_0x4db854(0x199)]['getOrgRepository'](),_0x98fe4b=_0x1254eb['ctx']['repositories'][_0x4db854(0x261)](),_0x5cb9a5=new User(),_0x1d9390=await _0x5662ac[_0x4db854(0x17c)](_0x260e8c);if(!_0x1d9390)return logger[_0x4db854(0x24b)]({'uuid':_0x1254eb[_0x4db854(0x1d7)][_0x4db854(0x206)],'message':_0x5eacc5['uVlcS'](_0x5eacc5[_0x4db854(0x187)]('The\x20user\x20could\x20not\x20be\x20created\x20because\x20',_0x260e8c),_0x5eacc5[_0x4db854(0x243)])}),_0x48732c[_0x4db854(0x18e)](0x194)[_0x4db854(0x207)](error[_0x4db854(0x238)](_0x260e8c));Object[_0x4db854(0x25e)](_0x1254eb['ctx'][_0x4db854(0x241)])['forEach'](_0x387d8a=>{const _0x3fd076=_0x4db854,_0x479e69=_0x387d8a['toLowerCase']();if(_0x479e69===_0x5eacc5[_0x3fd076(0x23d)])_0x5cb9a5[_0x3fd076(0x269)]=_0x1254eb[_0x3fd076(0x1d7)][_0x3fd076(0x241)][_0x3fd076(0x269)];else{if(_0x5eacc5[_0x3fd076(0x180)](_0x479e69,_0x5eacc5[_0x3fd076(0x25c)]))_0x5eacc5['llZnW'](_0x3fd076(0x228),_0x5eacc5[_0x3fd076(0x1d8)])?_0x49e005[_0x3fd076(0x26d)]['last']=_0x4c922c[_0x3fd076(0x1d7)][_0x3fd076(0x194)][_0x5eacc5[_0x3fd076(0x1c2)]]:_0x1254eb[_0x3fd076(0x1d7)][_0x3fd076(0x241)][_0x3fd076(0x1d4)]['active_roles']&&(_0x5cb9a5[_0x3fd076(0x1d4)][_0x3fd076(0x23b)]=_0x1254eb[_0x3fd076(0x1d7)][_0x3fd076(0x241)][_0x3fd076(0x1d4)][_0x3fd076(0x23b)]);else{if(_0x5eacc5[_0x3fd076(0x235)](_0x479e69,_0x5eacc5[_0x3fd076(0x226)]))_0x1254eb['ctx']['body'][_0x3fd076(0x26d)][_0x3fd076(0x20a)]&&(_0x5cb9a5[_0x3fd076(0x26d)]['first']=_0x1254eb['ctx'][_0x3fd076(0x241)]['name'][_0x3fd076(0x20a)]),_0x1254eb[_0x3fd076(0x1d7)][_0x3fd076(0x241)][_0x3fd076(0x26d)][_0x3fd076(0x239)]&&(_0x5cb9a5[_0x3fd076(0x26d)]['last']=_0x1254eb[_0x3fd076(0x1d7)][_0x3fd076(0x241)][_0x3fd076(0x26d)][_0x3fd076(0x239)]),_0x1254eb[_0x3fd076(0x1d7)][_0x3fd076(0x241)]['name']['middle']&&(_0x5cb9a5[_0x3fd076(0x26d)][_0x3fd076(0x19c)]=_0x1254eb[_0x3fd076(0x1d7)]['body'][_0x3fd076(0x26d)][_0x3fd076(0x19c)]),_0x1254eb[_0x3fd076(0x1d7)][_0x3fd076(0x241)][_0x3fd076(0x26d)][_0x3fd076(0x26b)]&&(_0x5eacc5[_0x3fd076(0x180)](_0x5eacc5[_0x3fd076(0x1c8)],_0x3fd076(0x24a))?_0x5cb9a5[_0x3fd076(0x26d)]['suffix']=_0x1254eb[_0x3fd076(0x1d7)]['body'][_0x3fd076(0x26d)]['suffix']:_0x309acd[_0x3fd076(0x1d7)][_0x3fd076(0x194)][_0x5eacc5[_0x3fd076(0x16f)]][_0x3fd076(0x1ca)](_0xc99e8d=>{_0x31d0fa['push'](_0xc99e8d);}));else{if(_0x5eacc5[_0x3fd076(0x235)](_0x479e69,_0x5eacc5[_0x3fd076(0x1f8)]))return _0x48732c[_0x3fd076(0x18e)](0x190)['json'](error[_0x3fd076(0x1ab)]());else{if(_0x479e69===_0x5eacc5[_0x3fd076(0x18a)])return _0x48732c[_0x3fd076(0x18e)](0x190)[_0x3fd076(0x207)](error[_0x3fd076(0x1ab)]());}}}}});const _0x460cec=await _0x5662ac[_0x4db854(0x17c)](_0x221af4),_0x46136b=await _0x5662ac['isSecretariatUUID'](_0x460cec),_0x560698=await _0x98fe4b['isAdminUUID'](_0x2baf2a,_0x460cec);if(_0x5eacc5['veGch'](!_0x46136b,_0x560698)){if(_0x5eacc5[_0x4db854(0x1f3)](_0x460cec,_0x1d9390))return _0x5eacc5['sFCcH'](_0x5eacc5[_0x4db854(0x181)],_0x5eacc5[_0x4db854(0x203)])?_0x48732c[_0x4db854(0x18e)](0x193)['json'](error[_0x4db854(0x259)]()):(_0x2864c8['info']({'uuid':_0xb075f7[_0x4db854(0x1d7)][_0x4db854(0x206)],'message':_0x275e30['username']+_0x4db854(0x16b)}),_0x175ea0[_0x4db854(0x18e)](0x190)[_0x4db854(0x207)](_0x46aa84[_0x4db854(0x1b8)](_0x853ddb['username'])));}_0x5cb9a5[_0x4db854(0x1c5)]=_0x1d9390,_0x5cb9a5[_0x4db854(0x232)]=uuid['v4'](),_0x5cb9a5[_0x4db854(0x230)]=!![];const _0x22c935=cryptoRandomString({'length':CONSTANTS[_0x4db854(0x266)]});_0x5cb9a5['secret']=await argon2[_0x4db854(0x1bc)](_0x22c935);let _0x26045d=await _0x98fe4b[_0x4db854(0x19b)](_0x5cb9a5[_0x4db854(0x269)],_0x5cb9a5[_0x4db854(0x1c5)]);if(_0x26045d)return logger[_0x4db854(0x24b)]({'uuid':_0x1254eb[_0x4db854(0x1d7)]['uuid'],'message':_0x5eacc5[_0x4db854(0x1fb)](_0x5cb9a5['username'],_0x4db854(0x16b))}),_0x48732c[_0x4db854(0x18e)](0x190)[_0x4db854(0x207)](error[_0x4db854(0x1b8)](_0x5cb9a5['username']));_0x5cb9a5[_0x4db854(0x26d)]=_0x5eacc5[_0x4db854(0x1a2)](parseUserName,_0x5cb9a5),await _0x98fe4b[_0x4db854(0x205)](_0x5cb9a5[_0x4db854(0x269)],_0x5cb9a5['org_UUID'],_0x5cb9a5,{'upsert':!![]});const _0x444347=_0x5eacc5[_0x4db854(0x1d3)](setAggregateUserObj,{'username':_0x5cb9a5['username'],'org_UUID':_0x5cb9a5[_0x4db854(0x1c5)]});_0x26045d=await _0x98fe4b[_0x4db854(0x24d)](_0x444347),_0x26045d=_0x5eacc5[_0x4db854(0x190)](_0x26045d['length'],0x0)?_0x26045d[0x0]:null,_0x26045d[_0x4db854(0x200)]=_0x22c935;const _0x44348d={'message':_0x5eacc5[_0x4db854(0x1fb)](_0x26045d[_0x4db854(0x269)],_0x5eacc5[_0x4db854(0x188)]),'created':_0x26045d},_0x592ee0={'action':_0x4db854(0x1c1),'change':_0x5eacc5[_0x4db854(0x187)](_0x26045d[_0x4db854(0x269)],_0x5eacc5[_0x4db854(0x188)]),'req_UUID':_0x1254eb[_0x4db854(0x1d7)][_0x4db854(0x206)],'org_UUID':await _0x5662ac[_0x4db854(0x17c)](_0x1254eb[_0x4db854(0x1d7)][_0x4db854(0x202)]),'user':_0x26045d};return _0x592ee0[_0x4db854(0x1ae)]=await _0x98fe4b['getUserUUID'](_0x1254eb['ctx'][_0x4db854(0x1a9)],_0x592ee0[_0x4db854(0x1c5)]),logger[_0x4db854(0x24b)](JSON['stringify'](_0x592ee0)),_0x48732c[_0x4db854(0x18e)](0xc8)[_0x4db854(0x207)](_0x44348d);}catch(_0x5623d2){_0x5eacc5[_0x4db854(0x21d)](_0x26d83f,_0x5623d2);}}async function updateUser(_0x77723e,_0x431118,_0xbe4d17){const _0x5795bd=_0x1a75f0,_0x1ab979={'RiHmY':function(_0x4e83b3,_0x25ba0f){return _0x4e83b3+_0x25ba0f;},'pmaZP':_0x5795bd(0x255),'QwVlc':_0x5795bd(0x236),'AcfEj':_0x5795bd(0x25d),'GNzkM':'pKjqc','tCjZv':function(_0x3d01b4,_0x1d4610){return _0x3d01b4(_0x1d4610);},'TiTep':function(_0x2b03be,_0x3f7727){return _0x2b03be===_0x3f7727;},'zzcdZ':'new_username','tBjVV':function(_0x3684ea,_0x13489e){return _0x3684ea!==_0x13489e;},'yKZZA':_0x5795bd(0x1a1),'xhquE':_0x5795bd(0x26e),'lrPJZ':function(_0x4a5ad2,_0x1f3f85){return _0x4a5ad2===_0x1f3f85;},'yvWLE':_0x5795bd(0x1a7),'JyHkS':function(_0x4e456b,_0x1ada0a){return _0x4e456b===_0x1ada0a;},'EokiB':'active_roles.add','IjPxo':function(_0x4b79b8,_0x55084c){return _0x4b79b8===_0x55084c;},'DODEo':_0x5795bd(0x223),'mULHW':_0x5795bd(0x217),'eQxik':_0x5795bd(0x1b6),'dbkSz':function(_0x3d6900,_0x34a61f){return _0x3d6900>_0x34a61f;},'Ouukl':function(_0xacbf8,_0x21ca0f){return _0xacbf8!==_0x21ca0f;},'gmcpY':_0x5795bd(0x26c),'icewK':_0x5795bd(0x1c0),'UYHgX':function(_0x3180d5,_0x6ba10f){return _0x3180d5||_0x6ba10f;},'tlWLV':function(_0x589819,_0x1f4575){return _0x589819+_0x1f4575;},'jVWeO':'foMjV','oyZtg':function(_0x3b56db,_0x150d91){return _0x3b56db+_0x150d91;},'MoOVE':_0x5795bd(0x1a4),'QauZg':function(_0x4754db,_0x4944f0){return _0x4754db+_0x4944f0;},'DgRMd':function(_0x496672,_0x1c7f1c){return _0x496672+_0x1c7f1c;},'WIrsH':function(_0x950324,_0x4fe8d0){return _0x950324===_0x4fe8d0;},'MWstl':function(_0x2a6452,_0x5cacf6){return _0x2a6452+_0x5cacf6;},'HDVMU':'\x20was\x20successfully\x20updated.','vuaZf':_0x5795bd(0x240),'imBPE':function(_0x4d6880,_0x25c702){return _0x4d6880(_0x25c702);}};try{const _0x4a2ac2=_0x77723e[_0x5795bd(0x1d7)]['org'],_0x34068=_0x77723e[_0x5795bd(0x1d7)][_0x5795bd(0x1a9)],_0x4b2560=_0x77723e[_0x5795bd(0x1d7)][_0x5795bd(0x1f2)][_0x5795bd(0x269)],_0x2ae013=_0x77723e[_0x5795bd(0x1d7)]['params'][_0x5795bd(0x189)],_0x2c6312=new User();let _0x31214e,_0x44b3d7;const _0x4c1c50=[],_0xd1340e=[],_0x344e83=_0x77723e[_0x5795bd(0x1d7)]['repositories'][_0x5795bd(0x261)](),_0x30f665=_0x77723e[_0x5795bd(0x1d7)]['repositories'][_0x5795bd(0x1f9)](),_0x2ad400=await _0x30f665[_0x5795bd(0x17c)](_0x2ae013),_0x16fc01=await _0x30f665[_0x5795bd(0x233)](_0x4a2ac2),_0x26743e=await _0x344e83['isAdmin'](_0x34068,_0x4a2ac2);if(!_0x2ad400)return logger['info']({'uuid':_0x77723e[_0x5795bd(0x1d7)][_0x5795bd(0x206)],'message':_0x1ab979[_0x5795bd(0x1ce)](_0x1ab979[_0x5795bd(0x1e9)]+_0x2ae013,'\x20organization\x20does\x20not\x20exist.')}),_0x431118[_0x5795bd(0x18e)](0x194)[_0x5795bd(0x207)](error[_0x5795bd(0x238)](_0x2ae013));if(_0x1ab979[_0x5795bd(0x1b1)](_0x2ae013,_0x4a2ac2)&&!_0x16fc01)return logger[_0x5795bd(0x24b)]({'uuid':_0x77723e[_0x5795bd(0x1d7)][_0x5795bd(0x206)],'message':_0x2ae013+'\x20organization\x20can\x20only\x20be\x20viewed\x20by\x20the\x20users\x20of\x20the\x20same\x20organization\x20or\x20the\x20Secretariat.'}),_0x431118['status'](0x193)[_0x5795bd(0x207)](error['notSameOrgOrSecretariat']());const _0x4534b3=await _0x344e83[_0x5795bd(0x19b)](_0x4b2560,_0x2ad400);if(!_0x4534b3)return _0x5795bd(0x1d1)!==_0x1ab979[_0x5795bd(0x21a)]?(logger[_0x5795bd(0x24b)]({'uuid':_0x77723e[_0x5795bd(0x1d7)][_0x5795bd(0x206)],'message':_0x1ab979['pmaZP']+_0x4b2560+_0x5795bd(0x236)+_0x2ae013+_0x1ab979[_0x5795bd(0x1fa)]}),_0x431118[_0x5795bd(0x18e)](0x194)[_0x5795bd(0x207)](error[_0x5795bd(0x1b4)](_0x4b2560))):(_0x1b6690['info']({'uuid':_0x5c8491[_0x5795bd(0x1d7)]['uuid'],'message':_0x1ab979[_0x5795bd(0x1ce)](_0x1ab979[_0x5795bd(0x1e9)]+_0x3a3cc7+_0x1ab979[_0x5795bd(0x18f)]+_0x30e4f5,'\x20organization.')}),_0x3ba26d[_0x5795bd(0x18e)](0x194)['json'](_0x1bbe6e[_0x5795bd(0x1b4)](_0x11048b)));if((_0x2ae013!==_0x4a2ac2||_0x4b2560!==_0x34068)&&!_0x16fc01){if(!_0x26743e||_0x26743e&&_0x2ae013!==_0x4a2ac2)return logger[_0x5795bd(0x24b)]({'uuid':_0x77723e['ctx'][_0x5795bd(0x206)],'message':_0x5795bd(0x1f4)}),_0x431118['status'](0x193)['json'](error[_0x5795bd(0x17d)]());}Object[_0x5795bd(0x25e)](_0x77723e[_0x5795bd(0x1d7)][_0x5795bd(0x194)])[_0x5795bd(0x1ca)](_0x4eb437=>{const _0x1e6b70=_0x5795bd,_0x28592a={'XdFzC':function(_0xb07b2a,_0x567cf7){const _0x2d1d5c=_0x1614;return _0x1ab979[_0x2d1d5c(0x1af)](_0xb07b2a,_0x567cf7);}},_0x49ca1d=_0x4eb437[_0x1e6b70(0x197)]();if(_0x1ab979[_0x1e6b70(0x208)](_0x49ca1d,_0x1ab979[_0x1e6b70(0x218)])){if(_0x1ab979[_0x1e6b70(0x1cb)]('shHsr','shHsr'))return _0x3aab64[_0x1e6b70(0x24b)]({'uuid':_0x347d80[_0x1e6b70(0x1d7)][_0x1e6b70(0x206)],'message':_0x5de7b1+_0x1ab979[_0x1e6b70(0x198)]}),_0x3a4483[_0x1e6b70(0x18e)](0x194)[_0x1e6b70(0x207)](_0x5de25e[_0x1e6b70(0x238)](_0x1b99df));else _0x2c6312[_0x1e6b70(0x269)]=_0x77723e[_0x1e6b70(0x1d7)]['query'][_0x1e6b70(0x25b)];}else{if(_0x49ca1d===_0x1ab979['yKZZA'])_0x31214e=_0x77723e[_0x1e6b70(0x1d7)][_0x1e6b70(0x194)][_0x1e6b70(0x1a1)],_0x44b3d7=!![];else{if(_0x1ab979[_0x1e6b70(0x208)](_0x49ca1d,_0x1ab979[_0x1e6b70(0x246)]))_0x2c6312[_0x1e6b70(0x26d)][_0x1e6b70(0x20a)]=_0x77723e[_0x1e6b70(0x1d7)]['query'][_0x1e6b70(0x26e)];else{if(_0x1ab979[_0x1e6b70(0x1e2)](_0x49ca1d,_0x1ab979[_0x1e6b70(0x174)]))_0x2c6312[_0x1e6b70(0x26d)][_0x1e6b70(0x239)]=_0x77723e['ctx'][_0x1e6b70(0x194)][_0x1ab979['yvWLE']];else{if(_0x49ca1d===_0x1e6b70(0x1aa))_0x2c6312[_0x1e6b70(0x26d)][_0x1e6b70(0x19c)]=_0x77723e[_0x1e6b70(0x1d7)][_0x1e6b70(0x194)][_0x1e6b70(0x1aa)];else{if(_0x49ca1d===_0x1e6b70(0x247))_0x2c6312[_0x1e6b70(0x26d)][_0x1e6b70(0x26b)]=_0x77723e[_0x1e6b70(0x1d7)]['query']['name.suffix'];else{if(_0x1ab979[_0x1e6b70(0x1e2)](_0x49ca1d,'active'))'uAJat'===_0x1e6b70(0x267)?_0x264636[_0x1e6b70(0x1b2)](_0x342b40):(_0x2c6312[_0x1e6b70(0x230)]=_0x77723e[_0x1e6b70(0x1d7)][_0x1e6b70(0x194)][_0x1e6b70(0x230)],_0x44b3d7=!![]);else{if(_0x1ab979[_0x1e6b70(0x251)](_0x49ca1d,_0x1ab979[_0x1e6b70(0x22c)]))Array[_0x1e6b70(0x260)](_0x77723e['ctx'][_0x1e6b70(0x194)][_0x1ab979[_0x1e6b70(0x22c)]])&&(_0x77723e[_0x1e6b70(0x1d7)][_0x1e6b70(0x194)][_0x1ab979[_0x1e6b70(0x22c)]][_0x1e6b70(0x1ca)](_0x3c58a3=>{const _0x493beb=_0x1e6b70;'pKjqc'!==_0x1ab979[_0x493beb(0x201)]?_0x28592a['XdFzC'](_0x38635a,_0x20afe4):_0xd1340e[_0x493beb(0x1b2)](_0x3c58a3);}),_0x44b3d7=!![]);else _0x1ab979[_0x1e6b70(0x1ad)](_0x49ca1d,_0x1ab979[_0x1e6b70(0x225)])&&(Array[_0x1e6b70(0x260)](_0x77723e[_0x1e6b70(0x1d7)]['query']['active_roles.remove'])&&(_0x77723e[_0x1e6b70(0x1d7)][_0x1e6b70(0x194)]['active_roles.remove'][_0x1e6b70(0x1ca)](_0x1ebab1=>{const _0x2eb2ab=_0x1e6b70;_0x4c1c50[_0x2eb2ab(0x1b2)](_0x1ebab1);}),_0x44b3d7=!![]));}}}}}}}});if(_0x44b3d7&&!_0x1ab979['UYHgX'](_0x26743e,_0x16fc01))return logger['info']({'uuid':_0x77723e[_0x5795bd(0x1d7)][_0x5795bd(0x206)],'message':_0x1ab979[_0x5795bd(0x20f)](_0x1ab979[_0x5795bd(0x1e9)],_0x34068)+_0x5795bd(0x212)}),_0x431118[_0x5795bd(0x18e)](0x193)[_0x5795bd(0x207)](error[_0x5795bd(0x259)]());if(_0x31214e){_0x2c6312[_0x5795bd(0x1c5)]=await _0x30f665['getOrgUUID'](_0x31214e);if(!_0x2c6312['org_UUID']){if(_0x1ab979['jVWeO']===_0x5795bd(0x245))return logger[_0x5795bd(0x24b)]({'uuid':_0x77723e[_0x5795bd(0x1d7)][_0x5795bd(0x206)],'message':_0x5795bd(0x255)+_0x31214e+'\x20organization\x20does\x20not\x20exist.'}),_0x431118[_0x5795bd(0x18e)](0x194)[_0x5795bd(0x207)](error['orgDne'](_0x31214e));else _0x1ab979['tCjZv'](_0x452510,_0x4b6e2b);}}let _0x4e951a=_0x1ab979[_0x5795bd(0x1af)](setAggregateUserObj,{'username':_0x4b2560,'org_UUID':_0x2ad400});if(_0x2c6312[_0x5795bd(0x269)]&&_0x2c6312['org_UUID']){_0x4e951a=setAggregateUserObj({'username':_0x2c6312[_0x5795bd(0x269)],'org_UUID':_0x2c6312['org_UUID']});const _0xedc91a=await _0x344e83[_0x5795bd(0x175)]({'org_UUID':_0x2c6312[_0x5795bd(0x1c5)],'username':_0x2c6312[_0x5795bd(0x269)]});if(_0xedc91a[_0x5795bd(0x1c9)])return logger[_0x5795bd(0x24b)]({'uuid':_0x77723e[_0x5795bd(0x1d7)]['uuid'],'message':_0x1ab979[_0x5795bd(0x1ce)](_0x1ab979[_0x5795bd(0x191)](_0x1ab979[_0x5795bd(0x1e9)],_0x31214e),_0x1ab979[_0x5795bd(0x1b0)])}),_0x431118['status'](0x193)[_0x5795bd(0x207)](error[_0x5795bd(0x249)](_0x31214e,_0x2c6312['username']));}else{if(_0x2c6312[_0x5795bd(0x269)]){_0x4e951a=setAggregateUserObj({'username':_0x2c6312[_0x5795bd(0x269)],'org_UUID':_0x2ad400});const _0x3eaf2a=await _0x344e83[_0x5795bd(0x175)]({'org_UUID':_0x2ad400,'username':_0x2c6312[_0x5795bd(0x269)]});if(_0x3eaf2a[_0x5795bd(0x1c9)])return logger['info']({'uuid':_0x77723e[_0x5795bd(0x1d7)][_0x5795bd(0x206)],'message':_0x1ab979['QauZg'](_0x1ab979[_0x5795bd(0x221)](_0x5795bd(0x255),_0x2ae013),_0x1ab979[_0x5795bd(0x1b0)])}),_0x431118['status'](0x193)[_0x5795bd(0x207)](error[_0x5795bd(0x249)](_0x2ae013,_0x2c6312[_0x5795bd(0x269)]));}else{if(_0x2c6312['org_UUID']){_0x4e951a=setAggregateUserObj({'username':_0x4b2560,'org_UUID':_0x2c6312['org_UUID']});const _0x44f960=await _0x344e83[_0x5795bd(0x175)]({'org_UUID':_0x2c6312['org_UUID'],'username':_0x4b2560});if(_0x44f960[_0x5795bd(0x1c9)])return logger[_0x5795bd(0x24b)]({'uuid':_0x77723e[_0x5795bd(0x1d7)][_0x5795bd(0x206)],'message':_0x1ab979[_0x5795bd(0x1e9)]+_0x31214e+_0x1ab979['MoOVE']}),_0x431118[_0x5795bd(0x18e)](0x193)['json'](error[_0x5795bd(0x249)](_0x31214e,_0x4b2560));}}}const _0x1d4d06=_0x4534b3[_0x5795bd(0x1d4)][_0x5795bd(0x23b)];_0xd1340e[_0x5795bd(0x1ca)](_0x3b2a93=>{const _0x3ea6ab=_0x5795bd;!_0x1d4d06[_0x3ea6ab(0x16e)](_0x3b2a93)&&_0x1d4d06['push'](_0x3b2a93);}),_0x4c1c50['forEach'](_0xddc3ae=>{const _0x2c02ad=_0x5795bd;if(_0x1ab979[_0x2c02ad(0x21c)]!==_0x2c02ad(0x1b6)){if(!_0x464012||_0x4ed049&&_0x1ab979['tBjVV'](_0x3b20c0,_0x427bce))return _0xd729d8[_0x2c02ad(0x24b)]({'uuid':_0x517006[_0x2c02ad(0x1d7)][_0x2c02ad(0x206)],'message':_0x1ab979['mULHW']}),_0x26de07[_0x2c02ad(0x18e)](0x193)[_0x2c02ad(0x207)](_0x4bb1f4[_0x2c02ad(0x17d)]());}else{const _0x530417=_0x1d4d06[_0x2c02ad(0x17a)](_0xddc3ae);_0x1ab979[_0x2c02ad(0x19f)](_0x530417,-0x1)&&_0x1d4d06['splice'](_0x530417,0x1);}}),_0x2c6312[_0x5795bd(0x1d4)]['active_roles']=_0x1d4d06;let _0x2f77e3=await _0x344e83[_0x5795bd(0x205)](_0x4b2560,_0x2ad400,_0x2c6312);if(_0x1ab979[_0x5795bd(0x268)](_0x2f77e3['n'],0x0))return logger[_0x5795bd(0x24b)]({'uuid':_0x77723e[_0x5795bd(0x1d7)]['uuid'],'message':_0x1ab979[_0x5795bd(0x20f)](_0x1ab979['MWstl'](_0x5795bd(0x255)+_0x4b2560,_0x5795bd(0x236)),_0x2ae013)+_0x1ab979[_0x5795bd(0x1fa)]}),_0x431118[_0x5795bd(0x18e)](0x194)[_0x5795bd(0x207)](error[_0x5795bd(0x1b4)](_0x4b2560));_0x2f77e3=await _0x344e83[_0x5795bd(0x24d)](_0x4e951a),_0x2f77e3=_0x2f77e3['length']>0x0?_0x2f77e3[0x0]:null;const _0x156ed3={'message':_0x4b2560+_0x1ab979['HDVMU'],'updated':_0x2f77e3},_0x5571d3={'action':_0x1ab979[_0x5795bd(0x222)],'change':_0x4b2560+_0x5795bd(0x234),'req_UUID':_0x77723e[_0x5795bd(0x1d7)][_0x5795bd(0x206)],'org_UUID':await _0x30f665[_0x5795bd(0x17c)](_0x77723e['ctx'][_0x5795bd(0x202)]),'user':_0x2f77e3};return _0x5571d3[_0x5795bd(0x1ae)]=await _0x344e83[_0x5795bd(0x24f)](_0x77723e['ctx'][_0x5795bd(0x1a9)],_0x5571d3[_0x5795bd(0x1c5)]),logger['info'](JSON[_0x5795bd(0x24c)](_0x5571d3)),_0x431118[_0x5795bd(0x18e)](0xc8)[_0x5795bd(0x207)](_0x156ed3);}catch(_0xc668c2){_0x1ab979[_0x5795bd(0x16c)](_0xbe4d17,_0xc668c2);}}function _0x1614(_0x1838a3,_0x5803a4){const _0x1005df=_0x1005();return _0x1614=function(_0x161450,_0x4141ef){_0x161450=_0x161450-0x16b;let _0x289013=_0x1005df[_0x161450];return _0x289013;},_0x1614(_0x1838a3,_0x5803a4);}async function resetSecret(_0x9ba26d,_0x2b6f71,_0x52449a){const _0x22044e=_0x1a75f0,_0x454127={'DeUql':function(_0x4a2b17,_0xabb466){return _0x4a2b17+_0xabb466;},'mCxOT':_0x22044e(0x18c),'JAHWy':function(_0x7099a5,_0x93d8d4){return _0x7099a5!==_0x93d8d4;},'saMZQ':_0x22044e(0x1f7),'eiaMb':_0x22044e(0x255),'zcldd':_0x22044e(0x236)};try{const _0x120d31=_0x9ba26d[_0x22044e(0x1d7)][_0x22044e(0x202)],_0x4605b8=_0x9ba26d[_0x22044e(0x1d7)][_0x22044e(0x1a9)],_0x2ca93c=_0x9ba26d[_0x22044e(0x1d7)]['params'][_0x22044e(0x269)],_0x2e2cd6=_0x9ba26d[_0x22044e(0x1d7)][_0x22044e(0x1f2)][_0x22044e(0x189)],_0x503502=_0x9ba26d[_0x22044e(0x1d7)][_0x22044e(0x199)][_0x22044e(0x261)](),_0x1f9383=_0x9ba26d['ctx'][_0x22044e(0x199)]['getOrgRepository'](),_0x504ca2=await _0x1f9383[_0x22044e(0x233)](_0x120d31),_0x2f796c=await _0x1f9383[_0x22044e(0x17c)](_0x2e2cd6);if(!_0x2f796c){if('zEHWd'!==_0x22044e(0x172))return logger['info']({'uuid':_0x9ba26d['ctx']['uuid'],'messsage':_0x454127[_0x22044e(0x25f)](_0x2e2cd6,_0x454127[_0x22044e(0x20b)])}),_0x2b6f71[_0x22044e(0x18e)](0x194)[_0x22044e(0x207)](error[_0x22044e(0x238)](_0x2e2cd6));else _0x1c04d0(_0x1ca61a);}if(_0x454127[_0x22044e(0x22f)](_0x2e2cd6,_0x120d31)&&!_0x504ca2)return logger[_0x22044e(0x24b)]({'uuid':_0x9ba26d[_0x22044e(0x1d7)][_0x22044e(0x206)],'message':_0x2e2cd6+_0x454127[_0x22044e(0x1c3)]}),_0x2b6f71[_0x22044e(0x18e)](0x193)[_0x22044e(0x207)](error[_0x22044e(0x1e4)]());const _0x46b6b8=await _0x503502[_0x22044e(0x19b)](_0x2ca93c,_0x2f796c);if(!_0x46b6b8)return logger[_0x22044e(0x24b)]({'uuid':_0x9ba26d[_0x22044e(0x1d7)]['uuid'],'messsage':_0x2ca93c+_0x22044e(0x22b)}),_0x2b6f71[_0x22044e(0x18e)](0x194)[_0x22044e(0x207)](error['userDne'](_0x2ca93c));const _0x174e5e=await _0x503502[_0x22044e(0x256)](_0x4605b8,_0x120d31);if((_0x454127[_0x22044e(0x22f)](_0x2e2cd6,_0x120d31)||_0x2ca93c!==_0x4605b8)&&!_0x504ca2){if(!_0x174e5e||_0x174e5e&&_0x2e2cd6!==_0x120d31)return logger['info']({'uuid':_0x9ba26d[_0x22044e(0x1d7)][_0x22044e(0x206)],'message':_0x22044e(0x217)}),_0x2b6f71[_0x22044e(0x18e)](0x193)[_0x22044e(0x207)](error[_0x22044e(0x17d)]());}const _0x4e7aa0=cryptoRandomString({'length':CONSTANTS[_0x22044e(0x266)]});_0x46b6b8[_0x22044e(0x200)]=await argon2[_0x22044e(0x1bc)](_0x4e7aa0);const _0x58d530=await _0x503502[_0x22044e(0x205)](_0x46b6b8[_0x22044e(0x269)],_0x2f796c,_0x46b6b8);if(_0x58d530['n']===0x0)return logger[_0x22044e(0x24b)]({'uuid':_0x9ba26d[_0x22044e(0x1d7)][_0x22044e(0x206)],'message':_0x454127['eiaMb']+_0x2ca93c+_0x454127[_0x22044e(0x1c6)]+_0x2e2cd6+_0x22044e(0x1c0)}),_0x2b6f71[_0x22044e(0x18e)](0x194)[_0x22044e(0x207)](error['userDne'](_0x2ca93c));logger['info']({'uuid':_0x9ba26d[_0x22044e(0x1d7)][_0x22044e(0x206)],'message':_0x22044e(0x211)+_0x2ca93c});const _0x357984={'action':_0x22044e(0x19e),'change':_0x22044e(0x170),'req_UUID':_0x9ba26d[_0x22044e(0x1d7)][_0x22044e(0x206)],'org_UUID':await _0x1f9383['getOrgUUID'](_0x9ba26d[_0x22044e(0x1d7)][_0x22044e(0x202)])};return _0x357984[_0x22044e(0x1ae)]=await _0x503502[_0x22044e(0x24f)](_0x9ba26d[_0x22044e(0x1d7)]['user'],_0x357984[_0x22044e(0x1c5)]),logger[_0x22044e(0x24b)](JSON[_0x22044e(0x24c)](_0x357984)),_0x2b6f71[_0x22044e(0x18e)](0xc8)[_0x22044e(0x207)]({'API-secret':_0x4e7aa0});}catch(_0x519c00){_0x52449a(_0x519c00);}}function setAggregateOrgObj(_0x3e3d25){return[{'$match':_0x3e3d25},{'$project':{'_id':![],'UUID':!![],'short_name':!![],'name':!![],'authority.active_roles':!![],'policies.id_quota':!![],'time':!![]}}];}function setAggregateUserObj(_0x55aa14){return[{'$match':_0x55aa14},{'$project':{'_id':![],'username':!![],'name':!![],'UUID':!![],'org_UUID':!![],'active':!![],'authority.active_roles':!![],'time':!![]}}];}function _0x1005(){const _0xa125f5=['status','QwVlc','BSufC','oyZtg','prevPage','dyaSC','query','zGllu','kKPfd','toLowerCase','AcfEj','repositories','UenpA','findOneByUserNameAndOrgUUID','middle','pageCount','reset_userAPIkey','dbkSz','aEfOx','org_shortname','gukdz','5|0|1|4|3|2','\x20organization\x20contains\x20a\x20user\x20with\x20the\x20same\x20username.','GhLYL','EqGzk','name.last','nextPage','user','name.middle','uuidProvided','dotenv','IjPxo','user_UUID','tCjZv','MoOVE','Ouukl','push','juAjk','userDne','OrgControllerError','SkSaI','AUTH_ROLE_ENUM','userExists','GanZQ','DeVGK','MPDMA','hash','PAGINATOR_OPTIONS','limit','\x20organization\x20were\x20sent\x20to\x20the\x20user.','\x20organization.','create_user','tXoIT','saMZQ','kfeam','org_UUID','zcldd','totalCount','XohHu','length','forEach','tBjVV','\x20organization\x20was\x20successfully\x20created.','short_name','RiHmY','The\x20orgs\x20were\x20sent\x20to\x20the\x20user.','updateByOrgUUID','vfzeb','update_org','IUGAh','authority','\x20was\x20sent\x20to\x20the\x20user.','identifier','ctx','ZfKan','sort','The\x20users\x20of\x20','uWWTD','NkZzn','UidBR','\x20does\x20not\x20exist.','WDOTZ','YFrQN','page','lrPJZ','jtsFX','notSameOrgOrSecretariat','orgDne','HsgeS','xeDLw','ryfhY','pmaZP','2384050lcNsoY','\x20organization\x20can\x20only\x20be\x20viewed\x20by\x20that\x20organization\x27s\x20users\x20or\x20the\x20Secretariat.','itemsPerPage','The\x20organization\x27s\x20id\x20quota\x20was\x20returned\x20to\x20the\x20user.','29900457AgrFtw','\x20was\x20successfully\x20created.','\x20organization\x20id\x20quota\x20can\x20only\x20be\x20viewed\x20by\x20the\x20users\x20of\x20the\x20same\x20organization\x20or\x20the\x20Secretariat.','3024KwciRg','params','sFCcH','The\x20user\x20can\x20only\x20be\x20updated\x20by\x20the\x20Secretariat,\x20an\x20Org\x20admin\x20or\x20if\x20the\x20requester\x20is\x20the\x20user.','itemCount','PAGINATOR_PAGE','\x20organization\x20can\x20only\x20be\x20viewed\x20by\x20the\x20users\x20of\x20the\x20same\x20organization\x20or\x20the\x20Secretariat.','kDksF','getOrgRepository','icewK','LJAlw','535vONDla','isUUID','splice','hCRyd','secret','GNzkM','org','JgDch','IKpBK','updateByUserNameAndOrgUUID','uuid','json','TiTep','YRhSr','first','mCxOT','FlmEC','\x20organization\x20was\x20successfully\x20updated.','../../middleware/logger','tlWLV','vukLQ','The\x20API\x20secret\x20was\x20successfully\x20reset\x20and\x20sent\x20to\x20','\x20user\x20is\x20not\x20Org\x20Admin\x20or\x20Secretariat\x20to\x20modify\x20these\x20fields.','CVE_STATES','nvphS','cqiVG','asc','The\x20api\x20secret\x20can\x20only\x20be\x20reset\x20by\x20the\x20Secretariat,\x20an\x20Org\x20admin\x20or\x20if\x20the\x20requester\x20is\x20the\x20user.','zzcdZ','inUse','gmcpY','getCveIdRepository','eQxik','jWbyQ','policies','mzJVZ','config','DgRMd','vuaZf','active_roles.remove','orgExists','DODEo','msSeK','available','PHwaA','XOCwJ','6678064pocdIr','\x20user\x20does\x20not\x20exist.','EokiB','crypto-random-string','active_roles.add','JAHWy','active','10KNCaPv','UUID','isSecretariat','\x20was\x20successfully\x20updated.','tQbSh','\x20does\x20not\x20exist\x20for\x20','currentPage','orgDneParam','last','0|4|2|3|5|1','active_roles','countDocuments','LcrDh','zyrLv','101298CePjsj','update_user','body','nfmhl','dITAY','OeKqC','foMjV','xhquE','name.suffix','EVzjN','duplicateUsername','CbRKI','info','stringify','aggregate','create_org','getUserUUID','1140132NMlduE','JyHkS','../../constants','./error','id_quota','The\x20user\x20could\x20not\x20be\x20updated\x20because\x20','isAdmin','BXuRE','aggregatePaginate','notOrgAdminOrSecretariat','qNyBe','new_username','TaYJR','\x20organization\x20could\x20not\x20be\x20updated\x20in\x20MongoDB\x20because\x20it\x20does\x20not\x20exist.','keys','DeUql','isArray','getUserRepository','NCuWb','RESERVED','18347yMffAo','LjvNI','CRYPTO_RANDOM_STRING_LENGTH','bUYdx','WIrsH','username','AzjSR','suffix','aWiGI','name','name.first','\x20was\x20not\x20created\x20because\x20it\x20already\x20exists.','imBPE','YBbXm','includes','PZxCm','API\x20secret\x20was\x20successfully\x20reset.','TwEVV','UiTal','hScZd','yvWLE','find','split','total_reserved','uuid-apikey','LmEVG','indexOf','RiYXo','getOrgUUID','notSameUserOrSecretariat','jEcUi','findOneByShortName','llZnW','EszVp','LAPkP','ehveP','duplicateShortname','IhgxV','jHiCn','uVlcS','EgYxI','shortname','UTtBA','1507287USvFbt','\x20organization\x20does\x20not\x20exist.','DEFAULT_ID_QUOTA'];_0x1005=function(){return _0xa125f5;};return _0x1005();}function parseUserName(_0x550c01){const _0x37bd4a=_0x1a75f0;return _0x550c01[_0x37bd4a(0x26d)]&&(!_0x550c01[_0x37bd4a(0x26d)][_0x37bd4a(0x20a)]&&(_0x550c01[_0x37bd4a(0x26d)][_0x37bd4a(0x20a)]=''),!_0x550c01[_0x37bd4a(0x26d)][_0x37bd4a(0x239)]&&(_0x550c01[_0x37bd4a(0x26d)][_0x37bd4a(0x239)]=''),!_0x550c01['name'][_0x37bd4a(0x19c)]&&(_0x550c01['name'][_0x37bd4a(0x19c)]=''),!_0x550c01['name'][_0x37bd4a(0x26b)]&&(_0x550c01['name']['suffix']='')),_0x550c01[_0x37bd4a(0x26d)];}module['exports']={'ORG_ALL':getOrgs,'ORG_SINGLE':getOrg,'ORG_CREATE_SINGLE':createOrg,'ORG_UPDATE_SINGLE':updateOrg,'USER_ALL':getUsers,'ORG_ID_QUOTA':getOrgIdQuota,'USER_SINGLE':getUser,'USER_CREATE_SINGLE':createUser,'USER_UPDATE_SINGLE':updateUser,'USER_RESET_SECRET':resetSecret};