(function(_0x1df94d,_0x33028b){const _0x2843bc=_0x10fc,_0x2e0bea=_0x1df94d();while(!![]){try{const _0x41c132=parseInt(_0x2843bc(0x89))/0x1+parseInt(_0x2843bc(0x7f))/0x2+parseInt(_0x2843bc(0x8d))/0x3+-parseInt(_0x2843bc(0x9c))/0x4*(parseInt(_0x2843bc(0xb6))/0x5)+-parseInt(_0x2843bc(0xbc))/0x6+-parseInt(_0x2843bc(0xa1))/0x7*(parseInt(_0x2843bc(0xa4))/0x8)+-parseInt(_0x2843bc(0xa7))/0x9;if(_0x41c132===_0x33028b)break;else _0x2e0bea['push'](_0x2e0bea['shift']());}catch(_0x1baf74){_0x2e0bea['push'](_0x2e0bea['shift']());}}}(_0xeee9,0x54f79));import _0x478ad9 from'jquery';import _0x43cd8b from'winchan';import _0x1d73ef from'../templates/gear_menu_popover.hbs';import*as _0x22578c from'./blueslip';import*as _0xa43d54 from'./channel';import*as _0x181ca4 from'./dark_theme';import*as _0x370b68 from'./message_lists';import*as _0x421556 from'./popover_menus';import*as _0xd6058a from'./popover_menus_data';import*as _0x5c560e from'./popovers';import*as _0x2ec140 from'./settings_preferences';function _0xeee9(){const _0xca3d19=['post','removeClass','LzTQM','zZIHr','setContent','update_recipient_bar_background_color','warn','525265giCNhC','ijhcq','show','open','1168110iHyEvf','get_gear_menu_instance','riqjk','#zephyr-mirror-error','addClass','wxFcg','hide','DAbpc','hide_all','#gear-menu-dropdown\x20.gear-menu-select-light-theme','#gear-menu','session','dfAPZ','gIdCH','.webathena_login','12mFUdSw','xOsYx','stringify','disable','dLseO','7RmPgik','.change-language-spectator','https://webathena.mit.edu/relay.html','2674200ajgeLS','status','lFGqB','5677731gqwCRY','ObjoE','preventDefault','gear_menu','enable','JaOcc','stopPropagation','zephyr','DggeY','is_gear_menu_popover_displayed','EeOqm','qXVmD','popover_instances','ZEQBh','YQlye','138385GpZbsL','dXZBu','eExne','RqbPm','iJTxH','click','173886UcnIqQ','destroy','eventListeners','CrnNm','fixed','RGUjG','BAmMz','navbar-dropdown-menu','ATHENA.MIT.EDU','https://webathena.mit.edu/#!request_ticket_v1','TwBPV','popper','1021072OPlXNj','rsuJL','nfsaS'];_0xeee9=function(){return _0xca3d19;};return _0xeee9();}import{parse_html}from'./ui_util';function render(_0x30a2e6){const _0x18dce9=_0x10fc,_0x18823e=_0x1d73ef(_0xd6058a['get_gear_menu_content_context']());_0x30a2e6[_0x18dce9(0x86)](parse_html(_0x18823e));}export function initialize(){const _0x5ddcf3=_0x10fc,_0x240bd5={'eExne':function(_0x19f1f2,_0x34e19f){return _0x19f1f2(_0x34e19f);},'EeOqm':_0x5ddcf3(0x9a),'LzTQM':_0x5ddcf3(0x79),'rsuJL':_0x5ddcf3(0x7c),'BMKag':function(_0x3094dc,_0x409a6e){return _0x3094dc===_0x409a6e;},'ijhcq':_0x5ddcf3(0x9d),'cYzLJ':function(_0x322d50,_0x2eba35){return _0x322d50(_0x2eba35);},'qXVmD':_0x5ddcf3(0xbb),'lFGqB':_0x5ddcf3(0x97),'dfAPZ':'bottom','JaOcc':_0x5ddcf3(0xc0)};_0x421556['register_popover_menu'](_0x240bd5[_0x5ddcf3(0xa6)],{'theme':_0x5ddcf3(0x7a),'placement':_0x240bd5[_0x5ddcf3(0x99)],'offset':[-0x32,0x0],'popperOptions':{'strategy':_0x240bd5[_0x5ddcf3(0xac)],'modifiers':[{'name':_0x5ddcf3(0xbe),'options':{'scroll':![]}}]},'onMount'(_0x1db118){const _0x35aa83=_0x5ddcf3,_0x2e7906={'YQlye':function(_0x13fe10,_0xba6cdb){const _0x439250=_0x10fc;return _0x240bd5[_0x439250(0xb8)](_0x13fe10,_0xba6cdb);},'NRbMO':_0x240bd5[_0x35aa83(0xb1)],'ZEQBh':_0x240bd5[_0x35aa83(0x84)],'zZIHr':_0x35aa83(0x8b),'uVbtY':_0x240bd5[_0x35aa83(0x80)],'wxFcg':_0x35aa83(0xa3),'riqjk':_0x35aa83(0x7b),'UMbaM':function(_0x43aafe,_0x2660ff){return _0x240bd5['BMKag'](_0x43aafe,_0x2660ff);},'LAeCh':_0x240bd5[_0x35aa83(0x8a)]},_0xde8e77=_0x240bd5['cYzLJ'](_0x478ad9,_0x1db118[_0x35aa83(0x7e)]);_0x421556[_0x35aa83(0xb3)][_0x35aa83(0xaa)]=_0x1db118,_0xde8e77['on'](_0x240bd5['qXVmD'],_0x35aa83(0x9b),_0x2a6c2b=>{const _0x3227a1=_0x35aa83,_0x5c5231={'dXZBu':function(_0xd9deef,_0x9cf9b8){const _0x2a169f=_0x10fc;return _0x2e7906[_0x2a169f(0xb5)](_0xd9deef,_0x9cf9b8);},'iJTxH':function(_0x30aae7,_0x4480f5){return _0x30aae7!==_0x4480f5;},'dLseO':_0x2e7906['NRbMO']};if(_0x2e7906[_0x3227a1(0xb4)]===_0x3227a1(0x79)){_0x2e7906[_0x3227a1(0xb5)](_0x478ad9,'#zephyr-mirror-error')[_0x3227a1(0x83)](_0x2e7906[_0x3227a1(0x85)]);const _0x180b13=[_0x3227a1(0xae),_0x3227a1(0xae)];_0x43cd8b[_0x3227a1(0x8c)]({'url':_0x2e7906['uVbtY'],'relay_url':_0x2e7906[_0x3227a1(0x92)],'params':{'realm':_0x2e7906[_0x3227a1(0x8f)],'principal':_0x180b13}},(_0xe4004a,_0x3c5624)=>{const _0x466412=_0x3227a1,_0x2eb854={'DggeY':function(_0x37043e,_0x4a94b1){const _0x5456c1=_0x10fc;return _0x5c5231[_0x5456c1(0xb7)](_0x37043e,_0x4a94b1);},'TwBPV':function(_0x11f9e7,_0x38675c){const _0x2e265e=_0x10fc;return _0x5c5231[_0x2e265e(0xb7)](_0x11f9e7,_0x38675c);},'DAbpc':'#zephyr-mirror-error','NKqrp':_0x466412(0x8b),'RqbPm':function(_0x280426,_0x5ed62f){return _0x280426===_0x5ed62f;},'iSrhp':_0x466412(0xbf)};if(_0x466412(0x78)===_0x466412(0xa8))_0x562c98[_0x466412(0x95)]();else{if(_0xe4004a){_0x22578c[_0x466412(0x88)](_0xe4004a);return;}if(_0x3c5624[_0x466412(0xa5)]!=='OK'){if(_0x5c5231[_0x466412(0xba)](_0x5c5231[_0x466412(0xa0)],_0x466412(0x9a)))_0x2eb854[_0x466412(0xaf)](_0x432871,_0x466412(0x90))[_0x466412(0x91)]('show');else{_0x22578c['warn'](_0x3c5624);return;}}_0xa43d54[_0x466412(0x82)]({'url':'/accounts/webathena_kerberos_login/','data':{'cred':JSON[_0x466412(0x9e)](_0x3c5624[_0x466412(0x98)])},'success'(){const _0x2c0c7d=_0x466412;_0x2eb854[_0x2c0c7d(0x7d)](_0x478ad9,_0x2eb854[_0x2c0c7d(0x94)])[_0x2c0c7d(0x83)](_0x2eb854['NKqrp']);},'error'(){const _0x22c717=_0x466412;_0x2eb854[_0x22c717(0xb9)](_0x2eb854['iSrhp'],_0x22c717(0x81))?(_0x4945ae['disable'](),_0x2ba7a2['update_recipient_bar_background_color']()):_0x478ad9(_0x2eb854['DAbpc'])[_0x22c717(0x91)](_0x22c717(0x8b));}});}}),_0x1db118['hide'](),_0x2a6c2b['preventDefault'](),_0x2a6c2b[_0x3227a1(0xad)]();}else _0x414dff(_0x4a53d9[_0x3227a1(0x8e)]());}),_0xde8e77['on']('click',_0x35aa83(0xa2),_0x494100=>{const _0x53e7b6=_0x35aa83;_0x2e7906['UMbaM'](_0x2e7906['LAeCh'],_0x53e7b6(0x9d))?(_0x1db118['hide'](),_0x494100[_0x53e7b6(0xa9)](),_0x494100[_0x53e7b6(0xad)](),_0x2ec140['launch_default_language_setting_modal']()):(_0x5240b6[_0x53e7b6(0xbd)](),_0x3f76a6['popover_instances'][_0x53e7b6(0xaa)]=_0x480816);}),_0xde8e77['on'](_0x240bd5[_0x35aa83(0xb2)],'#gear-menu-dropdown\x20.gear-menu-select-dark-theme',_0xa1ef85=>{const _0x2e6465=_0x35aa83;_0x1db118[_0x2e6465(0x93)](),_0xa1ef85[_0x2e6465(0xa9)](),_0xa1ef85['stopPropagation'](),requestAnimationFrame(()=>{const _0x488a50=_0x2e6465;_0x181ca4[_0x488a50(0xab)](),_0x370b68[_0x488a50(0x87)]();});}),_0xde8e77['on'](_0x35aa83(0xbb),_0x35aa83(0x96),_0x1097ef=>{const _0x26d208=_0x35aa83;_0x1db118[_0x26d208(0x93)](),_0x1097ef[_0x26d208(0xa9)](),_0x1097ef['stopPropagation'](),requestAnimationFrame(()=>{const _0x2e64e8=_0x26d208;_0x181ca4[_0x2e64e8(0x9f)](),_0x370b68[_0x2e64e8(0x87)]();});});},'onShow':render,'onHidden'(_0x58d892){const _0x3cbccc=_0x5ddcf3;_0x58d892[_0x3cbccc(0xbd)](),_0x421556[_0x3cbccc(0xb3)][_0x3cbccc(0xaa)]=undefined;}});}function _0x10fc(_0x109dca,_0x1b3daf){const _0xeee99e=_0xeee9();return _0x10fc=function(_0x10fc60,_0x1be941){_0x10fc60=_0x10fc60-0x78;let _0x1db813=_0xeee99e[_0x10fc60];return _0x1db813;},_0x10fc(_0x109dca,_0x1b3daf);}export function toggle(){const _0x432154=_0x10fc,_0x26411a={'ffRIK':_0x432154(0x97)};if(_0x421556[_0x432154(0xb0)]()){_0x5c560e[_0x432154(0x95)]();return;}_0x5c560e['any_active']()&&_0x5c560e['hide_all'](),_0x478ad9(_0x26411a['ffRIK'])['trigger'](_0x432154(0xbb));}export function rerender(){const _0xd3629c=_0x10fc;_0x421556['is_gear_menu_popover_displayed']()&&render(_0x421556[_0xd3629c(0x8e)]());}