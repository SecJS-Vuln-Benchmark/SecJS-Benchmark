(function(_0x58cb75,_0x15de65){const _0x1ce3c5=_0x4e89,_0x4bf387=_0x58cb75();while(!![]){try{const _0x5951dd=parseInt(_0x1ce3c5(0xf2))/0x1+-parseInt(_0x1ce3c5(0x112))/0x2*(-parseInt(_0x1ce3c5(0x11e))/0x3)+-parseInt(_0x1ce3c5(0xf5))/0x4+parseInt(_0x1ce3c5(0xf8))/0x5*(-parseInt(_0x1ce3c5(0x118))/0x6)+parseInt(_0x1ce3c5(0x125))/0x7+-parseInt(_0x1ce3c5(0xed))/0x8*(parseInt(_0x1ce3c5(0xff))/0x9)+-parseInt(_0x1ce3c5(0x12a))/0xa*(parseInt(_0x1ce3c5(0x108))/0xb);if(_0x5951dd===_0x15de65)break;else _0x4bf387['push'](_0x4bf387['shift']());}catch(_0x2cff13){_0x4bf387['push'](_0x4bf387['shift']());}}}(_0x4073,0x22240));import _0x3c66ef from'jquery';import _0x5cf858 from'tippy.js';import _0x26d751 from'../templates/personal_menu.hbs';import*as _0x1566e2 from'./channel';import*as _0x3cfeee from'./narrow';import*as _0x2b3753 from'./people';import*as _0x5d7039 from'./popover_menus';import*as _0x2eb818 from'./popover_menus_data';import*as _0x44bc3f from'./popovers';import{current_user}from'./state_data';function _0x4073(){const _0xc34c32=['#personal-menu','find','PxtDc','navbar-dropdown-menu','103518PPlokh','destroy','.narrow-self-direct-message','setContent','checked','sender','12UBcTQu','prop','tRyON','patch','body','popover_instances','12sFWDLA','SXIRL','/json/settings','data-theme-code','input[name=\x27theme-select\x27]','update','parent','331387KrQkFh','register_popover_menu','popperInstance','.open-profile-settings','fixed','10Uihcye','change','8ihAHvw','gMOIq','color_scheme','popper','MBUZe','241195NuuzJo','top','PyexE','555288DMJXIP','input[data-theme-code=\x22','NxRJy','214820cpsYvG','hide_all','trigger','preventDefault','.narrow-messages-sent','user_id','personal_menu','1016874OgJOWu','email','ryYTY','DplGf','HQBfx','attr','.personal-menu-clear-status','one','click','197956uOvMhF','get_by_user_id','get_personal_menu_content_context','jxxei','Hqsgp','currentTarget'];_0x4073=function(){return _0xc34c32;};return _0x4073();}import{parse_html}from'./ui_util';import{user_settings}from'./user_settings';import*as _0x11489a from'./user_status';function _0x4e89(_0x43634,_0x2a3ab2){const _0x4073c3=_0x4073();return _0x4e89=function(_0x4e89f2,_0x14beb2){_0x4e89f2=_0x4e89f2-0xed;let _0x7e1278=_0x4073c3[_0x4e89f2];return _0x7e1278;},_0x4e89(_0x43634,_0x2a3ab2);}export function initialize(){const _0x373ae1=_0x4e89,_0x407cb1={'Hqsgp':_0x373ae1(0x120),'DplGf':_0x373ae1(0x117),'PyexE':function(_0x424789,_0x256231){return _0x424789!==_0x256231;},'ryYTY':_0x373ae1(0x11a),'HQBfx':function(_0x4799c2,_0x296a72,_0x48ca42){return _0x4799c2(_0x296a72,_0x48ca42);},'dnICu':_0x373ae1(0x105),'Ftdiz':_0x373ae1(0xf3),'PxtDc':_0x373ae1(0x12b),'jxxei':_0x373ae1(0x107),'MBUZe':_0x373ae1(0x114),'lbaaT':_0x373ae1(0xfc),'NxRJy':function(_0x874ea7,_0x4f3dc6){return _0x874ea7(_0x4f3dc6);},'nmUFc':function(_0x663240,_0x1e0e34){return _0x663240(_0x1e0e34);},'gMOIq':_0x373ae1(0x129)};_0x5d7039[_0x373ae1(0x126)](_0x373ae1(0x10e),{'theme':_0x373ae1(0x111),'placement':'bottom','offset':[-0x32,0x0],'popperOptions':{'strategy':_0x407cb1[_0x373ae1(0xee)],'modifiers':[{'name':'eventListeners','options':{'scroll':![]}}]},'onMount'(_0x1e73b9){const _0x41b06c=_0x373ae1,_0x418f6d={'QQFHR':_0x407cb1[_0x41b06c(0x10c)]},_0x4ff249=_0x3c66ef(_0x1e73b9[_0x41b06c(0xf0)]);_0x5d7039[_0x41b06c(0x11d)][_0x41b06c(0xfe)]=_0x1e73b9,_0x407cb1[_0x41b06c(0x103)](_0x5cf858,_0x407cb1['dnICu'],{'placement':_0x407cb1['Ftdiz'],'appendTo':document[_0x41b06c(0x11c)]}),_0x4ff249['on'](_0x407cb1[_0x41b06c(0x110)],_0x41b06c(0x122),_0x561f1c=>{const _0x212335=_0x41b06c,_0x13e284=_0x3c66ef(_0x561f1c[_0x212335(0x10d)])[_0x212335(0x104)](_0x212335(0x121));_0x1566e2[_0x212335(0x11b)]({'url':_0x407cb1[_0x212335(0x10c)],'data':{'color_scheme':_0x13e284},'error'(){setTimeout(()=>{const _0x5f443f=_0x4e89,_0x2a331f=user_settings[_0x5f443f(0xef)];_0x3c66ef(_0x561f1c[_0x5f443f(0x10d)])['parent']()[_0x5f443f(0x10f)]('input[data-theme-code=\x22'+_0x2a331f+'\x22]')[_0x5f443f(0x119)](_0x5f443f(0x116),!![]);},0x1f4);}});}),_0x4ff249[_0x41b06c(0x106)](_0x407cb1['jxxei'],_0x407cb1['dnICu'],_0x4c0f86=>{_0x4c0f86['preventDefault']();const _0x28539a=current_user['user_id'];_0x11489a['server_update_status']({'user_id':_0x28539a,'status_text':'','emoji_name':'','emoji_code':'','success'(){_0x1e73b9['hide']();}});}),_0x4ff249['one']('click',_0x407cb1[_0x41b06c(0xf1)],_0x5ba43f=>{const _0x2c04c1=_0x41b06c,_0x3299d9=current_user[_0x2c04c1(0xfd)],_0x10b537=_0x2b3753[_0x2c04c1(0x109)](_0x3299d9)[_0x2c04c1(0x100)];_0x3cfeee['by']('dm',_0x10b537,{'trigger':'personal\x20menu'}),_0x44bc3f[_0x2c04c1(0xf9)](),_0x5ba43f[_0x2c04c1(0xfb)]();}),_0x4ff249['one'](_0x407cb1[_0x41b06c(0x10b)],_0x407cb1['lbaaT'],_0x1c0c8f=>{const _0x1abf6f=_0x41b06c,_0x13d300=current_user[_0x1abf6f(0xfd)],_0x3e6f0a=_0x2b3753[_0x1abf6f(0x109)](_0x13d300)['email'];_0x3cfeee['by'](_0x407cb1[_0x1abf6f(0x102)],_0x3e6f0a,{'trigger':'personal\x20menu'}),_0x44bc3f[_0x1abf6f(0xf9)](),_0x1c0c8f[_0x1abf6f(0xfb)]();}),_0x4ff249[_0x41b06c(0x106)](_0x407cb1['jxxei'],_0x41b06c(0x128),_0x5961ff=>{const _0x55df7e=_0x41b06c;if(_0x407cb1[_0x55df7e(0xf4)](_0x407cb1[_0x55df7e(0x101)],'EEvlY'))_0x5961ff[_0x55df7e(0x10d)][_0x55df7e(0x107)](),_0x44bc3f[_0x55df7e(0xf9)](),_0x5961ff[_0x55df7e(0xfb)]();else{const _0x41fe56={'SXIRL':function(_0x57bcf1,_0x5e3726){return _0x57bcf1(_0x5e3726);}},_0x1df3a0=_0x3e817e(_0x57445b[_0x55df7e(0x10d)])[_0x55df7e(0x104)](_0x55df7e(0x121));_0x1d33c4[_0x55df7e(0x11b)]({'url':_0x418f6d['QQFHR'],'data':{'color_scheme':_0x1df3a0},'error'(){_0x635e6f(()=>{const _0x2e2896=_0x4e89,_0xba48d=_0x5b568a[_0x2e2896(0xef)];_0x41fe56[_0x2e2896(0x11f)](_0x3bdadd,_0x15447b[_0x2e2896(0x10d)])[_0x2e2896(0x124)]()[_0x2e2896(0x10f)](_0x2e2896(0xf6)+_0xba48d+'\x22]')[_0x2e2896(0x119)](_0x2e2896(0x116),!![]);},0x1f4);}});}}),_0x1e73b9[_0x41b06c(0x127)][_0x41b06c(0x123)]();},'onShow'(_0x446b1a){const _0x1172e2=_0x373ae1,_0xcca3d5=_0x2eb818[_0x1172e2(0x10a)]();_0x446b1a[_0x1172e2(0x115)](_0x407cb1[_0x1172e2(0xf7)](parse_html,_0x407cb1['nmUFc'](_0x26d751,_0xcca3d5)));},'onHidden'(_0x92cf40){const _0x577a9e=_0x373ae1;_0x92cf40[_0x577a9e(0x113)](),_0x5d7039['popover_instances'][_0x577a9e(0xfe)]=undefined;}});}export function toggle(){const _0x3c5988=_0x4e89,_0x326dd8={'OYfVh':_0x3c5988(0x10e),'PZJLZ':_0x3c5988(0x107)};_0x3c66ef(_0x326dd8['OYfVh'])[_0x3c5988(0xfa)](_0x326dd8['PZJLZ']);}