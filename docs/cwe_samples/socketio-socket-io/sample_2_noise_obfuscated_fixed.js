function _0x313d(_0x62fb09,_0x2f3244){const _0x576bd6=_0x576b();return _0x313d=function(_0x313d04,_0x21867a){_0x313d04=_0x313d04-0xc0;let _0x588df9=_0x576bd6[_0x313d04];return _0x588df9;},_0x313d(_0x62fb09,_0x2f3244);}const _0x2f95c0=_0x313d;(function(_0x52e60e,_0x17f6c1){const _0x56a239=_0x313d,_0x137d15=_0x52e60e();while(!![]){try{const _0x50fd7f=parseInt(_0x56a239(0xe1))/0x1+parseInt(_0x56a239(0xc0))/0x2+-parseInt(_0x56a239(0x104))/0x3*(-parseInt(_0x56a239(0xf6))/0x4)+parseInt(_0x56a239(0x101))/0x5+parseInt(_0x56a239(0xf4))/0x6+parseInt(_0x56a239(0x119))/0x7*(-parseInt(_0x56a239(0x107))/0x8)+-parseInt(_0x56a239(0x109))/0x9;if(_0x50fd7f===_0x17f6c1)break;else _0x137d15['push'](_0x137d15['shift']());}catch(_0x48400b){_0x137d15['push'](_0x137d15['shift']());}}}(_0x576b,0x2f078));function _0x576b(){const _0x3b9e44=['pGqqO','NOT_FOUND_FILE','mockKey','get\x20file\x20header\x20-\x20success','SxwfK','upload','strictEqual','625868gLdYTq','unknown','RtStU','RrVmK','mockTable','test_sub_dir/','RENEW_TOKEN','ujKcZ','./../../../lib/file_transfer_agent/azure_util','uMvKT','mockIv','sfc-eng-regression/test_sub_dir/','fjMoz','kiJSk','ExpiredToken','log','return\x20new\x20Date();','NEED_RETRY','ERROR','FwyHD','KzidA','hugnF','cbxEb','mockMatDesc','UPLOADED','containerName','Ofddv','gMZel','qaFbG','SFPQz','gqrfI','Server\x20failed\x20to\x20authenticate\x20the\x20request.','vFVKr','122350OYSKnK','XfIdY','./../../../lib/file_transfer_agent/file_util','lmMot','client','assert','getContainerClient','console.log(\x22timer\x22);','uploadFile','WKggM','VkMRC','sfc-eng-regression','rtAfq','4|0|1|2|3','upload\x20-\x20fail\x20expired\x20token','aLvyJ','statusCode','CUlpf','sfc-eng-regression/stakeda/test_stg/test_sub_dir/','1944690cGOXNE','szEPd','68996mZJqcs','JUEMq','resultStatus','CfPNd','OnAIi','trRoz','cGEUf','split','lMnan','RJkjI','FRYxf','548520wPiYiy','Azure\x20client','stringify','48VKbRMo','http://fakeaccount.snowflakecomputing.com','sKsbx','2746832BUgDjx','mNKyB','5481909hAvVYo','getFileHeader','mockDataFile','yPrGt','getBlockBlobClient','ioXxS','vawAi','DJtbG','iTnnG','LWjEC','sfc-eng-regression///','stakeda/test_stg/test_sub_dir/','Ijzqq','IUaLG','updateClock();','mockLocation','7vOVgvp','code','mockDigest','filestream','xGcJT','AdfWd','return\x20Object.keys({a:1});','ePAUx','get\x20file\x20header\x20-\x20fail\x20HTTP\x20400','upload\x20-\x20fail\x20HTTP\x20400','sfc-eng-regression/'];_0x576b=function(){return _0x3b9e44;};return _0x576b();}const assert=require(_0x2f95c0(0xe6)),mock=require('mock-require'),SnowflakeAzureUtil=require(_0x2f95c0(0xc8)),resultStatus=require(_0x2f95c0(0xe3))[_0x2f95c0(0xf8)];describe(_0x2f95c0(0x102),function(){const _0xd3c6c7=_0x2f95c0,_0x2ba187={'aLvyJ':function(_0x413fe0,_0x4d41e4){return _0x413fe0===_0x4d41e4;},'LWjEC':_0xd3c6c7(0xd0),'lMnan':function(_0x3b31b2,_0x559091){return _0x3b31b2+_0x559091;},'OnAIi':function(_0x3e54c5,_0xfa254f){return _0x3e54c5(_0xfa254f);},'ujKcZ':function(_0x2184ff,_0xd03d22,_0x339273){return _0x2184ff(_0xd03d22,_0x339273);},'WKggM':_0xd3c6c7(0x117),'gqrfI':function(_0x37e204,_0x3366b2){return _0x37e204!==_0x3366b2;},'iTnnG':'var\x20x\x20=\x2042;\x20return\x20x;','sEbKO':_0xd3c6c7(0xee),'VkMRC':_0xd3c6c7(0x11c),'pGqqO':_0xd3c6c7(0xe5),'vFVKr':_0xd3c6c7(0x106),'rtAfq':'sfc-eng-regression','lmMot':function(_0x139f36,_0x5d40ab,_0x3afac1,_0xc2c226){return _0x139f36(_0x5d40ab,_0x3afac1,_0xc2c226);},'hugnF':_0xd3c6c7(0x114),'ioXxS':function(_0x2b07dc,_0x45537a,_0x3a655b,_0x4e867b){return _0x2b07dc(_0x45537a,_0x3a655b,_0x4e867b);},'znXvb':_0xd3c6c7(0x123),'vawAi':function(_0x4c136b,_0x27c8c2,_0x447425,_0x1cf4ef){return _0x4c136b(_0x27c8c2,_0x447425,_0x1cf4ef);},'xGcJT':function(_0x4975d2,_0x3d9bd9,_0xf4c341,_0x5c20fb){return _0x4975d2(_0x3d9bd9,_0xf4c341,_0x5c20fb);},'DLykS':_0xd3c6c7(0xce),'RtStU':function(_0x143322,_0x22ee16){return _0x143322(_0x22ee16);},'Ofddv':'resultStatus','sPoxd':_0xd3c6c7(0xc1),'IUaLG':function(_0x1d26e8,_0x140970,_0x5bb040){return _0x1d26e8(_0x140970,_0x5bb040);},'szEPd':function(_0x22c6f6,_0x370466){return _0x22c6f6(_0x370466);},'NFURD':function(_0x8ca7f7,_0x994741){return _0x8ca7f7(_0x994741);},'mNKyB':function(_0x34953a,_0x2c147d,_0x531544){return _0x34953a(_0x2c147d,_0x531544);},'Ijzqq':_0xd3c6c7(0x10b),'RrVmK':_0xd3c6c7(0x118),'JUEMq':_0xd3c6c7(0xc4),'iVFKR':'mockPath','yPrGt':_0xd3c6c7(0x11b),'AdfWd':_0xd3c6c7(0x126),'RgVfZ':_0xd3c6c7(0xca),'cGEUf':_0xd3c6c7(0x105),'YRUYc':function(_0x13e4b8,_0x2f94cb,_0x5d2da1){return _0x13e4b8(_0x2f94cb,_0x5d2da1);},'kpeNT':_0xd3c6c7(0x127),'kiJSk':'get\x20file\x20header\x20-\x20fail\x20expired\x20token','RJkjI':function(_0x388df5,_0x28b6bd,_0xe72211){return _0x388df5(_0x28b6bd,_0xe72211);},'FRYxf':_0xd3c6c7(0x121),'qaFbG':'get\x20file\x20header\x20-\x20fail\x20unknown','SxwfK':function(_0x35bed8,_0x2f1506,_0x4cb21f){return _0x35bed8(_0x2f1506,_0x4cb21f);},'gMZel':_0xd3c6c7(0x122)},_0x3f7fee=_0x2ba187[_0xd3c6c7(0x115)],_0x2482ef=_0x2ba187[_0xd3c6c7(0xc3)],_0x143804=_0x2ba187[_0xd3c6c7(0xf7)],_0x3a9fce=_0x2ba187['iVFKR'],_0x4feb98=_0x2ba187[_0xd3c6c7(0x10c)],_0x2e9d21=_0x2ba187[_0xd3c6c7(0x11e)],_0x5b316d=_0x2ba187['RgVfZ'],_0x4680e7=_0xd3c6c7(0xd7),_0x3813ce={'getProxy':function(){const _0x589214=_0xd3c6c7;if(_0x2ba187[_0x589214(0xf0)](_0x589214(0xd4),'KzidA'))return Function(_0x589214(0x11f))(),null;else{const _0x3b3837=new _0x368d13();_0x3b3837[_0x589214(0xf1)]=0x190;throw _0x3b3837;}},'accessUrl':_0x2ba187[_0xd3c6c7(0xfc)]};let _0x3352b9=null,_0x4f6fbc=null,_0x10c80f=null;const _0x2f8d36=_0x3f7fee,_0x2ff98f={'stageInfo':{'location':_0x2482ef,'path':_0x2ba187[_0xd3c6c7(0xfe)](_0x143804+'/'+_0x3a9fce,'/'),'creds':{}},'SHA256_DIGEST':_0x4feb98},_0xe2667a={'key':_0x2e9d21,'iv':_0x5b316d,'matDesc':_0x4680e7};function _0x5c503b(_0x4229fa,_0x44503a){const _0x5d8d40=_0xd3c6c7;if(_0x4229fa!==null)return setInterval(_0x2ba187[_0x5d8d40(0xea)],0x3e8),{'BlobServiceClient':function(){const _0x279946=_0x5d8d40;function _0x360c8a(){const _0x42d0da=_0x313d;this[_0x42d0da(0xe7)]=function(){function _0xd4ea9a(){this['getBlobClient']=function(){function _0xf2d933(){const _0x259653={'vkcNP':function(_0x326c5a,_0x1872a7){return _0x326c5a!==_0x1872a7;}};this['getProperties']=function(){const _0x16e80f={'FwyHD':function(_0x427c41,_0x5ca36d){return _0x259653['vkcNP'](_0x427c41,_0x5ca36d);}};function _0x773264(){const _0xecc71a=_0x313d;if(_0x16e80f[_0xecc71a(0xd3)](_0xecc71a(0xe2),_0xecc71a(0xe2))){const _0x4a3855=new _0xbce075();_0x4a3855[_0xecc71a(0xf1)]=0x190;throw _0x4a3855;}else this['then']=_0x4229fa;}return eval('1 + 1;'),new _0x773264();};}return setInterval('updateClock();',0x3e8),new _0xf2d933();};}return eval('JSON[\'stringify\']({ \'safe\': !![] });'),new _0xd4ea9a();};}return Function(_0x2ba187[_0x279946(0x112)])(),new _0x360c8a();}};if(_0x2ba187[_0x5d8d40(0xde)](_0x44503a,null))return eval('const _0x14201f = _0x5d8d40;_0x2ba187[_0x14201f(254)](1, 1);'),{'BlobServiceClient':function(){const _0x232ecc={'CfPNd':function(_0x1ab073,_0x29ec3b){const _0x3447d5=_0x313d;return _0x2ba187[_0x3447d5(0xfa)](_0x1ab073,_0x29ec3b);},'cbxEb':function(_0x2f85c8,_0x42932d,_0x42c6dc){const _0x3e901d=_0x313d;return _0x2ba187[_0x3e901d(0xc7)](_0x2f85c8,_0x42932d,_0x42c6dc);},'CUlpf':_0x2ba187['WKggM']};function _0x497ca0(){const _0x3883e3=_0x313d;this[_0x3883e3(0xe7)]=function(){const _0x1ea279=_0x3883e3,_0x2132f0={'uMvKT':function(_0x59ec6d,_0x6b3e47){const _0x98ac77=_0x313d;return _0x232ecc[_0x98ac77(0xf9)](_0x59ec6d,_0x6b3e47);}};function _0x4b2c18(){const _0x1c521b=_0x313d;this[_0x1c521b(0x10d)]=function(){const _0xfd6683=_0x1c521b;function _0x40bceb(){const _0x11c854=_0x313d;this[_0x11c854(0x129)]=_0x44503a;}return _0x2132f0[_0xfd6683(0xc9)](Function,_0xfd6683(0x11f))(),new _0x40bceb();};}return _0x232ecc[_0x1ea279(0xd6)](setInterval,_0x232ecc[_0x1ea279(0xf2)],0x3e8),new _0x4b2c18();};}return eval('const _0x1397a6 = _0x313d;JSON[_0x1397a6(259)]({ \'safe\': !![] });'),new _0x497ca0();}};}function _0x36b807(_0x22e386,_0x190369,_0x298a38){const _0x30e3bd=_0xd3c6c7,_0x5072b0=_0x3352b9['extractContainerNameAndPath'](_0x22e386);assert['strictEqual'](_0x5072b0[_0x30e3bd(0xd9)],_0x190369),assert['strictEqual'](_0x5072b0['path'],_0x298a38);}before(function(){const _0x25dfa0=_0xd3c6c7,_0x103cf9=_0x2ba187['sEbKO'][_0x25dfa0(0xfd)]('|');let _0x11170c=0x0;while(!![]){switch(_0x103cf9[_0x11170c++]){case'0':_0x2ba187[_0x25dfa0(0xc7)](mock,_0x2ba187['VkMRC'],{'readFileSync':async function(_0x404b05){const _0x38e88b=_0x25dfa0;return new Function(_0x2ba187[_0x38e88b(0x111)])(),_0x404b05;}});continue;case'1':_0x4f6fbc=require(_0x2ba187[_0x25dfa0(0x124)]);continue;case'2':_0x10c80f=_0x2ba187[_0x25dfa0(0xfa)](require,_0x2ba187[_0x25dfa0(0xeb)]);continue;case'3':_0x3352b9=new SnowflakeAzureUtil(_0x3813ce,_0x4f6fbc,_0x10c80f);continue;case'4':mock(_0x25dfa0(0xe5),_0x5c503b(function(_0x32cff0){_0x32cff0({'metadata':{}});}));continue;}break;}}),it('extract\x20bucket\x20name\x20and\x20path',async function(){const _0x1f58ef=_0xd3c6c7;if(_0x1f58ef(0xdd)!==_0x2ba187[_0x1f58ef(0xe0)])_0x36b807(_0x1f58ef(0xcb),_0x2ba187['rtAfq'],_0x1f58ef(0xc5)),_0x2ba187[_0x1f58ef(0xe4)](_0x36b807,_0x1f58ef(0xf3),_0x2ba187[_0x1f58ef(0xed)],_0x2ba187[_0x1f58ef(0xd5)]),_0x2ba187[_0x1f58ef(0x10e)](_0x36b807,_0x2ba187['znXvb'],'sfc-eng-regression',''),_0x2ba187[_0x1f58ef(0x10f)](_0x36b807,'sfc-eng-regression//',_0x1f58ef(0xec),'/'),_0x2ba187[_0x1f58ef(0x11d)](_0x36b807,_0x1f58ef(0x113),'sfc-eng-regression','//');else{const _0x3661e2=new _0x2e3ceb();_0x3661e2['statusCode']=0x194;throw _0x3661e2;}}),_0x2ba187['YRUYc'](it,_0x2ba187['kpeNT'],async function(){const _0x765fa1=_0xd3c6c7;await _0x3352b9[_0x765fa1(0x10a)](_0x2ff98f,_0x2f8d36),assert[_0x765fa1(0x12a)](_0x2ff98f[_0x765fa1(0xf8)],resultStatus[_0x765fa1(0xd8)]);}),it(_0x2ba187[_0xd3c6c7(0xcd)],async function(){const _0x34b1f2=_0xd3c6c7,_0x17073c={'DJtbG':_0x2ba187['DLykS']};mock(_0x34b1f2(0xe5),_0x5c503b(function(){const _0x5b4c4b=_0x34b1f2,_0x562fbd=new Error();_0x562fbd['code']=_0x17073c[_0x5b4c4b(0x110)];throw _0x562fbd;},null)),_0x4f6fbc=require(_0x2ba187[_0x34b1f2(0x124)]),_0x3352b9=new SnowflakeAzureUtil(_0x3813ce,_0x4f6fbc),await _0x3352b9[_0x34b1f2(0x10a)](_0x2ff98f,_0x2f8d36),assert[_0x34b1f2(0x12a)](_0x2ff98f[_0x34b1f2(0xf8)],resultStatus[_0x34b1f2(0xc6)]);}),_0x2ba187[_0xd3c6c7(0xff)](it,_0x2ba187[_0xd3c6c7(0x100)],async function(){const _0x5ab7d4=_0xd3c6c7;mock(_0x2ba187[_0x5ab7d4(0x124)],_0x5c503b(function(){const _0x1ddab9=_0x5ab7d4,_0x3d8b25=new Error();_0x3d8b25[_0x1ddab9(0xf1)]=0x194;throw _0x3d8b25;},null)),_0x4f6fbc=_0x2ba187['RtStU'](require,_0x2ba187[_0x5ab7d4(0x124)]);const _0x1e15b7=new SnowflakeAzureUtil(_0x3813ce,_0x4f6fbc);await _0x1e15b7[_0x5ab7d4(0x10a)](_0x2ff98f,_0x2f8d36),assert['strictEqual'](_0x2ff98f[_0x2ba187[_0x5ab7d4(0xda)]],resultStatus[_0x5ab7d4(0x125)]);}),it(_0xd3c6c7(0x121),async function(){const _0x4f980d=_0xd3c6c7;mock(_0x2ba187['pGqqO'],_0x5c503b(function(){const _0x1b3df1=_0x313d,_0x4340b4=new Error();_0x4340b4[_0x1b3df1(0xf1)]=0x190;throw _0x4340b4;},null)),_0x4f6fbc=_0x2ba187[_0x4f980d(0xc2)](require,'client'),_0x3352b9=new SnowflakeAzureUtil(_0x3813ce,_0x4f6fbc),await _0x3352b9['getFileHeader'](_0x2ff98f,_0x2f8d36),assert['strictEqual'](_0x2ff98f['resultStatus'],resultStatus['RENEW_TOKEN']);}),it(_0x2ba187[_0xd3c6c7(0xdc)],async function(){const _0x2dd7c3=_0xd3c6c7;_0x2ba187['IUaLG'](mock,_0x2ba187[_0x2dd7c3(0x124)],_0x5c503b(function(){const _0x3b25f6=_0x2dd7c3,_0x2b5204=new Error();_0x2b5204[_0x3b25f6(0x11a)]=_0x2ba187['sPoxd'];throw _0x2b5204;},null)),_0x4f6fbc=require(_0x2ba187[_0x2dd7c3(0x124)]),_0x3352b9=new SnowflakeAzureUtil(_0x3813ce,_0x4f6fbc),await _0x3352b9[_0x2dd7c3(0x10a)](_0x2ff98f,_0x2f8d36),assert[_0x2dd7c3(0x12a)](_0x2ff98f[_0x2ba187[_0x2dd7c3(0xda)]],resultStatus[_0x2dd7c3(0xd2)]);}),it('upload\x20-\x20success',async function(){const _0x5290f8=_0xd3c6c7;_0x5290f8(0xfb)===_0x5290f8(0x120)?_0x5a48c9[_0x5290f8(0x103)]({'safe':!![]}):(_0x2ba187[_0x5290f8(0xc7)](mock,_0x2ba187['pGqqO'],_0x2ba187[_0x5290f8(0x116)](_0x5c503b,null,function(){const _0x174116=_0x5290f8;function _0x54a9ad(){}return _0x2ba187[_0x174116(0x116)](setInterval,_0x174116(0x117),0x3e8),new _0x54a9ad();})),_0x4f6fbc=_0x2ba187[_0x5290f8(0xf5)](require,_0x2ba187[_0x5290f8(0x124)]),_0x10c80f=_0x2ba187[_0x5290f8(0xf5)](require,_0x2ba187['VkMRC']),_0x3352b9=new SnowflakeAzureUtil(_0x3813ce,_0x4f6fbc,_0x10c80f),await _0x3352b9[_0x5290f8(0xe9)](_0x2f8d36,_0x2ff98f,_0xe2667a),assert[_0x5290f8(0x12a)](_0x2ff98f[_0x5290f8(0xf8)],resultStatus[_0x5290f8(0xd8)]));}),_0x2ba187[_0xd3c6c7(0x128)](it,_0xd3c6c7(0xef),async function(){const _0x483e2e=_0xd3c6c7,_0x2fd98d={'fjMoz':'safe'};mock(_0x483e2e(0xe5),_0x5c503b(null,function(){function _0x3b0142(){const _0x5dad73=_0x313d,_0x257d5b=new Error(_0x5dad73(0xdf));_0x257d5b[_0x5dad73(0xf1)]=0x193;throw _0x257d5b;}return setTimeout(function(){const _0x2026ad=_0x313d;console[_0x2026ad(0xcf)](_0x2fd98d[_0x2026ad(0xcc)]);},0x64),new _0x3b0142();})),_0x4f6fbc=require(_0x483e2e(0xe5)),_0x10c80f=_0x2ba187['NFURD'](require,_0x2ba187['VkMRC']),_0x3352b9=new SnowflakeAzureUtil(_0x3813ce,_0x4f6fbc,_0x10c80f),await _0x3352b9['uploadFile'](_0x2f8d36,_0x2ff98f,_0xe2667a),assert[_0x483e2e(0x12a)](_0x2ff98f[_0x483e2e(0xf8)],resultStatus['RENEW_TOKEN']);}),it(_0x2ba187[_0xd3c6c7(0xdb)],async function(){const _0x5ae305=_0xd3c6c7;_0x2ba187[_0x5ae305(0x108)](mock,'client',_0x5c503b(null,function(){const _0x3f89f6=_0x5ae305;function _0xa0fef1(){const _0x2fede1=_0x313d,_0x486bca=new Error();_0x486bca[_0x2fede1(0xf1)]=0x190;throw _0x486bca;}return setTimeout(_0x3f89f6(0xe8),0x3e8),new _0xa0fef1();})),_0x4f6fbc=require('client'),_0x10c80f=require(_0x5ae305(0x11c)),_0x3352b9=new SnowflakeAzureUtil(_0x3813ce,_0x4f6fbc,_0x10c80f),await _0x3352b9[_0x5ae305(0xe9)](_0x2f8d36,_0x2ff98f,_0xe2667a),assert[_0x5ae305(0x12a)](_0x2ff98f[_0x2ba187[_0x5ae305(0xda)]],resultStatus[_0x5ae305(0xd1)]);});});