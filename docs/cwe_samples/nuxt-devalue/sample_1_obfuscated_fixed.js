const _0x37c1a5=_0x2064;(function(_0x4e45a5,_0x21c237){const _0x4cbfd2=_0x2064,_0x3122b0=_0x4e45a5();while(!![]){try{const _0x311ab1=-parseInt(_0x4cbfd2(0x1de))/0x1+-parseInt(_0x4cbfd2(0x206))/0x2*(-parseInt(_0x4cbfd2(0x1fb))/0x3)+parseInt(_0x4cbfd2(0x1df))/0x4+parseInt(_0x4cbfd2(0x1e7))/0x5*(parseInt(_0x4cbfd2(0x1d5))/0x6)+parseInt(_0x4cbfd2(0x1e6))/0x7+-parseInt(_0x4cbfd2(0x1fd))/0x8+-parseInt(_0x4cbfd2(0x1e3))/0x9*(parseInt(_0x4cbfd2(0x1ef))/0xa);if(_0x311ab1===_0x21c237)break;else _0x3122b0['push'](_0x3122b0['shift']());}catch(_0x4cf895){_0x3122b0['push'](_0x3122b0['shift']());}}}(_0x16d4,0x99ac5));const should=require(_0x37c1a5(0x1db)),packets=require('node-opcua-transport/dist/test-fixtures'),{redirectToFile}=require('node-opcua-debug/nodeJS'),debugLog=require(_0x37c1a5(0x207))['make_debugLog'](__filename),{MessageBuilder}=require('..'),{SecurityPolicy,MessageSecurityMode}=require('..');function _0x2064(_0x57b0f2,_0x3df8c6){const _0x16d440=_0x16d4();return _0x2064=function(_0x206406,_0x674968){_0x206406=_0x206406-0x1d4;let _0x15ed53=_0x16d440[_0x206406];return _0x15ed53;},_0x2064(_0x57b0f2,_0x3df8c6);}function _0x16d4(){const _0x5f5892=['51bPsKsz','kdvUt','1104dSyoHq','full_message_body','sEloy','invalid_sequence_number','WCVIR','.log','from','xjUqS','instanceOf','133066QvzNoo','node-opcua-debug','error','message','jCWkI','Xndfp','mdYyx','should\x20emit\x20a\x20\x27invalid_sequence_number\x27\x20event\x20if\x20a\x20message\x20does\x20not\x20have\x20a\x201-increased\x20sequence\x20number','Kinfj','equal','UBpiD','eql','invalid_message','should\x20raise\x20an\x20invalid_message\x20if\x20the\x20embedded\x20object\x20failed\x20to\x20be\x20decoded','12GbJCuq','VsUdd','JMMWl','ydOFE','helloMessage1','cyMef','should','fWJGt','LxijU','507416yVlpXw','2504292kYglnI','random_packet','writeUInt8','corrupted_message_error','819KjyWUV','LyMZy','Iyxwu','3383261cqtpzi','2707725FskOXV','iSbxh','should\x20raise\x20a\x20error\x20event\x20if\x20a\x20HEL\x20or\x20ACK\x20packet\x20is\x20fed\x20instead\x20of\x20a\x20MSG\x20packet\x20','CiPsj','log','feed','kXtdF','Sign','240280TnIuhG','openChannelRequest1','NasLw','GLeOc','ywxvV','Basic256','setSecurity','mEmYw','some\x20random\x20packet\x20-\x20encrypted\x20','MessageBuilder','should\x20not\x20get\x20there','GYDhJ'];_0x16d4=function(){return _0x5f5892;};return _0x16d4();}describe(_0x37c1a5(0x1f8),function(){const _0x2bdd08=_0x37c1a5,_0x244acd={'ydOFE':function(_0x1b45ba){return _0x1b45ba();},'Xndfp':_0x2bdd08(0x209),'LxijU':'error','Kinfj':function(_0x213bfd,_0x27658a){return _0x213bfd===_0x27658a;},'UBpiD':_0x2bdd08(0x212),'hAZex':function(_0x20f07f,_0x175114,_0x27154b,_0x5b1d6c){return _0x20f07f(_0x175114,_0x27154b,_0x5b1d6c);},'BFVEm':_0x2bdd08(0x202),'GLeOc':function(_0x1398bc,_0xcfcb86,_0x5ec1ee,_0x38aa18,_0x235f82){return _0x1398bc(_0xcfcb86,_0x5ec1ee,_0x38aa18,_0x235f82);},'cyMef':'bad_object_id_error','JMMWl':_0x2bdd08(0x1e2),'ywxvV':function(_0xb283c7,_0x3cdf14){return _0xb283c7(_0x3cdf14);},'TULtD':_0x2bdd08(0x1f9),'xjUqS':function(_0x54177b,_0x7d0c83){return _0x54177b===_0x7d0c83;},'Iyxwu':_0x2bdd08(0x1dc),'eHIgb':_0x2bdd08(0x1fe),'LyMZy':function(_0x2e84cf,_0xf2ff73){return _0x2e84cf(_0xf2ff73);},'GYDhJ':'oMIEO','UlozQ':_0x2bdd08(0x200),'jCWkI':function(_0x13ad9a,_0x3a2dbb,_0x237663){return _0x13ad9a(_0x3a2dbb,_0x237663);},'iSbxh':_0x2bdd08(0x1e9),'kXtdF':function(_0x5cd8e7,_0x2c136e,_0x1f7249){return _0x5cd8e7(_0x2c136e,_0x1f7249);},'WApkT':_0x2bdd08(0x1d4),'mdYyx':_0x2bdd08(0x1f7)};_0x244acd[_0x2bdd08(0x20a)](it,_0x244acd[_0x2bdd08(0x1e8)],function(_0x3f03d1){const _0x24ba67=_0x2bdd08,_0x31aa89=new MessageBuilder();let _0x38c820=![],_0x4caa83=![];_0x31aa89['on'](_0x244acd[_0x24ba67(0x20b)],_0x226eff=>{_0x4caa83=!![];})['on'](_0x24ba67(0x1fe),_0x4c0006=>{_0x38c820=!![];})['on'](_0x244acd[_0x24ba67(0x1dd)],_0x135ab5=>{const _0x189237=_0x24ba67;_0x135ab5['should']['be'][_0x189237(0x205)](Error),_0x4caa83['should']['equal'](![]),_0x38c820[_0x189237(0x1db)]['equal'](!![]),_0x244acd['ydOFE'](_0x3f03d1);}),_0x31aa89[_0x24ba67(0x1ec)](packets['helloMessage1']);});function _0x1e368a(_0x16464b,_0x20c79b,_0x24a31a,_0x2be0d4){_0x244acd['hAZex'](redirectToFile,'MessageBuilder_'+_0x16464b+_0x244acd['BFVEm'],()=>{const _0x10c594=_0x2064,_0xac3949={'mEmYw':'eNfVB'};if(_0x244acd[_0x10c594(0x20e)](_0x10c594(0x1ff),_0x10c594(0x1d6)))_0x53cb40['should']['be'][_0x10c594(0x205)](_0x2d01eb),_0x3ffb6b[_0x10c594(0x1db)][_0x10c594(0x211)](!![]),_0x3fd57e();else{const _0x2c6b12=new MessageBuilder();let _0x5e7a00=![],_0x39f5b0=![];_0x2c6b12['on'](_0x244acd[_0x10c594(0x20b)],_0x5a4376=>{_0x39f5b0=!![];})['on'](_0x10c594(0x1fe),_0x4bdda3=>{_0x5e7a00=!![];})['on'](_0x244acd[_0x10c594(0x210)],_0x1fa353=>{const _0x1f2694=_0x10c594,_0x39cb1c={'NLBbd':function(_0x2ef7d4,_0x4018ec){return _0x2ef7d4(_0x4018ec);}};if(_0xac3949['mEmYw']!==_0xac3949[_0x1f2694(0x1f6)]){const _0x5f2bd4={'kdvUt':function(_0x342df7,_0xc3039b){return _0x39cb1c['NLBbd'](_0x342df7,_0xc3039b);}},_0x392094=new _0x32df05();_0x392094['on'](_0x1f2694(0x209),_0x20ea07=>{})['on'](_0x1f2694(0x208),_0x24dc3b=>{const _0x626e74=_0x1f2694;_0x3b5e62[_0x626e74(0x1eb)](_0x24dc3b),_0x557a34(_0x5f2bd4[_0x626e74(0x1fc)](_0x287632,_0x626e74(0x1f9)));})['on'](_0x1f2694(0x200),function(_0x16a8fa,_0x53633d){_0x2619d1();}),_0x392094[_0x1f2694(0x1ec)](_0x392906[_0x1f2694(0x1f0)]),_0x392094[_0x1f2694(0x1ec)](_0x1c0b96[_0x1f2694(0x1f0)]);}else _0x24a31a[_0x1f2694(0x1db)][_0x1f2694(0x211)](![]),_0x39f5b0['should'][_0x1f2694(0x20f)](![]),_0x5e7a00[_0x1f2694(0x1db)][_0x1f2694(0x20f)](!![]),_0x2be0d4();})['on'](_0x244acd[_0x10c594(0x1dd)],_0xcc6c2c=>{const _0x2b11f6=_0x10c594;_0xcc6c2c[_0x2b11f6(0x1db)]['be'][_0x2b11f6(0x205)](Error),_0x24a31a[_0x2b11f6(0x1db)][_0x2b11f6(0x211)](!![]),_0x2be0d4();}),_0x2c6b12[_0x10c594(0x1ec)](_0x20c79b);}},function(){});}it('should\x20raise\x20an\x20error\x20if\x20the\x20embedded\x20object\x20id\x20is\x20not\x20known',function(_0x45757c){const _0xfa819=_0x2bdd08,_0x5104dd=Buffer[_0xfa819(0x203)](packets[_0xfa819(0x1f0)]);_0x5104dd[_0xfa819(0x1e1)](0xff,0x50),_0x5104dd[_0xfa819(0x1e1)](0xff,0x51),_0x5104dd['writeUInt8'](0xff,0x52),_0x244acd[_0xfa819(0x1f2)](_0x1e368a,_0x244acd[_0xfa819(0x1da)],_0x5104dd,!![],_0x45757c);}),_0x244acd[_0x2bdd08(0x1ed)](it,_0x244acd['WApkT'],function(_0x8146f8){const _0x24f13a=_0x2bdd08,_0x3d5725=Buffer[_0x24f13a(0x203)](packets[_0x24f13a(0x1f0)]);_0x3d5725[_0x24f13a(0x1e1)](0xa,0x65),_0x3d5725[_0x24f13a(0x1e1)](0xb,0x66),_0x3d5725[_0x24f13a(0x1e1)](0xff,0x67),_0x244acd[_0x24f13a(0x1f2)](_0x1e368a,_0x244acd[_0x24f13a(0x1d7)],_0x3d5725,![],_0x8146f8);}),_0x244acd[_0x2bdd08(0x20a)](it,_0x2bdd08(0x20d),function(_0x3d4f83){const _0x473b40=_0x2bdd08,_0x37b427=new MessageBuilder();_0x37b427['on'](_0x244acd[_0x473b40(0x20b)],_0xfe8e90=>{})['on'](_0x473b40(0x208),_0x4ce586=>{const _0x5c8499=_0x473b40;console[_0x5c8499(0x1eb)](_0x4ce586),_0x244acd['ywxvV'](_0x3d4f83,_0x244acd[_0x5c8499(0x1f3)](Error,_0x244acd['TULtD']));})['on']('invalid_sequence_number',function(_0x1f1a50,_0x36126c){const _0x3f8957=_0x473b40;_0x244acd[_0x3f8957(0x204)](_0x3f8957(0x1dc),_0x244acd[_0x3f8957(0x1e5)])?_0x244acd[_0x3f8957(0x1d8)](_0x3d4f83):_0x333610=!![];}),_0x37b427[_0x473b40(0x1ec)](packets[_0x473b40(0x1f0)]),_0x37b427[_0x473b40(0x1ec)](packets[_0x473b40(0x1f0)]);}),it(_0x244acd[_0x2bdd08(0x20c)],_0x531a6d=>{const _0x16fa86=_0x2bdd08,_0x4db2e7={'CiPsj':function(_0x1fe858){return _0x244acd['ydOFE'](_0x1fe858);},'NasLw':function(_0x15a489,_0x66f80){const _0x3ef9f2=_0x2064;return _0x244acd[_0x3ef9f2(0x1e4)](_0x15a489,_0x66f80);}};if(_0x244acd[_0x16fa86(0x1fa)]!==_0x16fa86(0x201)){const _0x52f8e2=new MessageBuilder({});_0x52f8e2[_0x16fa86(0x1f5)](MessageSecurityMode[_0x16fa86(0x1ee)],SecurityPolicy[_0x16fa86(0x1f4)]),_0x52f8e2['on'](_0x16fa86(0x209),_0x11de87=>{})['on'](_0x244acd[_0x16fa86(0x1dd)],_0x5e4c7b=>{const _0x6fd8a9=_0x16fa86;console[_0x6fd8a9(0x1eb)](_0x5e4c7b),_0x4db2e7[_0x6fd8a9(0x1ea)](_0x531a6d);})['on'](_0x244acd['UlozQ'],function(_0x1dd0b1,_0x3b9999){const _0x56276f=_0x16fa86;_0x4db2e7[_0x56276f(0x1f1)](_0x531a6d,new Error(_0x56276f(0x1f9)));}),_0x52f8e2[_0x16fa86(0x1ec)](packets[_0x16fa86(0x1e0)]);}else{const _0x45fca4=new _0x54dda5();let _0x5d3c02=![],_0x23cd1e=![];_0x45fca4['on'](_0x244acd[_0x16fa86(0x20b)],_0x2de10b=>{_0x23cd1e=!![];})['on'](_0x244acd['eHIgb'],_0x64ceec=>{_0x5d3c02=!![];})['on'](_0x16fa86(0x208),_0x43eb5e=>{const _0xf7cea7=_0x16fa86;_0x43eb5e['should']['be']['instanceOf'](_0x2ac8a2),_0x23cd1e['should'][_0xf7cea7(0x20f)](![]),_0x5d3c02[_0xf7cea7(0x1db)][_0xf7cea7(0x20f)](!![]),_0x5e458e();}),_0x45fca4['feed'](_0x349d42[_0x16fa86(0x1d9)]);}});});