function _0x3aef(_0x4097f6,_0x4ecb74){const _0x18aefb=_0x18ae();return _0x3aef=function(_0x3aefe1,_0x3ce70d){_0x3aefe1=_0x3aefe1-0x1e0;let _0x4c6db5=_0x18aefb[_0x3aefe1];return _0x4c6db5;},_0x3aef(_0x4097f6,_0x4ecb74);}const _0x57aef9=_0x3aef;(function(_0x57acf0,_0x377cb0){const _0x1dd8ca=_0x3aef,_0x210a7f=_0x57acf0();while(!![]){try{const _0x2e2fd8=parseInt(_0x1dd8ca(0x1f0))/0x1+-parseInt(_0x1dd8ca(0x1fd))/0x2+-parseInt(_0x1dd8ca(0x21b))/0x3*(-parseInt(_0x1dd8ca(0x21e))/0x4)+-parseInt(_0x1dd8ca(0x23e))/0x5+parseInt(_0x1dd8ca(0x201))/0x6+parseInt(_0x1dd8ca(0x231))/0x7+parseInt(_0x1dd8ca(0x20b))/0x8;if(_0x2e2fd8===_0x377cb0)break;else _0x210a7f['push'](_0x210a7f['shift']());}catch(_0x2e5fa0){_0x210a7f['push'](_0x210a7f['shift']());}}}(_0x18ae,0x2b59a));import _0x24bee0 from'fs';import _0x10ee2b from'path';function _0x18ae(){const _0x194bad=['fBEjo','Iplqn','gzHhG','sort','rMRlB','directory.tar','data','BHCTb','edge_case_dots/ending_dots..','zByfS','wIHqP','YsFuU','serial','180189AKlkaP','rQmdU','test.jpg','edge_case_dots.tar.gz','ExKht','GNdzV','slip3.zip','extract\x20symlink','join','throwsAsync','EIJXV','vwIVE','allows\x20filenames\x20and\x20directories\x20to\x20be\x20written\x20with\x20dots\x20in\x20their\x20names','508996HjEQmS','edge_case_dots','strip\x20option','example.txt','783930kxlDZQ','oMyjA','directory','map\x20option','deepEqual','path','file.tar','fixtures','slipping.tar.gz','file.txt','1297872HTndCn','wqhXr','slipping_directory.tar.gz','MEGYa','edge_case_dots/x','throw\x20when\x20chained\x20symlinks\x20to\x20/tmp/dist\x20allow\x20escape\x20outside\x20root\x20directory','kHsIl','qWqyO','CNVTd','sVUNb','WMyLq','JpgZf','extract\x20file\x20using\x20buffer','readFile','MtrGf','GBICH','6vcdsQF','unicorn-','length','41012yiuabt','map','top_level_example.tar.gz','extract\x20directory','yPeti','realpath','tSDeW','FHpbX','aFQjI','oRBRF','strip.tar','true','dist','symlink.tar','qPLOP','throw\x20when\x20a\x20top-level\x20symlink\x20outside\x20the\x20root\x20is\x20given','file.tar.gz','CkLdd','edge_case_dots/internal_dots..txt','795263eVOter','afterEach','mtime','nPQRb','throw\x20when\x20a\x20location\x20outside\x20the\x20root\x20including\x20symlinks\x20is\x20given','unicorn-test.jpg','HWswZ','extract\x20file\x20to\x20directory','file.tar.bz2','filter\x20option','QbhdR','test-strip.jpg','file.zip','875665OVxPOW','MtPVb','set\x20mtime','ensure\x20decompressed\x20files\x20and\x20directories\x20are\x20cleaned\x20up','edge_case_dots/sample../','RrkSs','EREAu','return\x20emptpy\x20array\x20if\x20no\x20plugins\x20are\x20set','extract\x20file'];_0x18ae=function(){return _0x194bad;};return _0x18ae();}import _0x5c824c from'is-jpg';import _0x130d2f from'path-exists';import _0x520c91 from'pify';import _0x307569 from'rimraf';import _0x280c1c from'ava';import _0x597376 from'.';const fsP=_0x520c91(_0x24bee0),rimrafP=_0x520c91(_0x307569);_0x280c1c[_0x57aef9(0x1ef)][_0x57aef9(0x232)](_0x57aef9(0x241),async()=>{const _0x449c5b=_0x57aef9,_0x525a6a={'oRBRF':'directory','YsFuU':_0x449c5b(0x200),'vwIVE':_0x449c5b(0x20a),'kHsIl':function(_0x2d6212,_0x1b2583){return _0x2d6212(_0x1b2583);},'inpwL':_0x449c5b(0x1fe)};await rimrafP(_0x10ee2b[_0x449c5b(0x1f8)](__dirname,_0x525a6a[_0x449c5b(0x227)])),await rimrafP(_0x10ee2b[_0x449c5b(0x1f8)](__dirname,_0x449c5b(0x22a))),await rimrafP(_0x10ee2b[_0x449c5b(0x1f8)](__dirname,_0x525a6a[_0x449c5b(0x1ee)])),await rimrafP(_0x10ee2b['join'](__dirname,_0x525a6a[_0x449c5b(0x1fb)])),await _0x525a6a[_0x449c5b(0x211)](rimrafP,_0x10ee2b[_0x449c5b(0x1f8)](__dirname,_0x525a6a['inpwL'])),await rimrafP(_0x10ee2b[_0x449c5b(0x1f8)](__dirname,'symlink')),await rimrafP(_0x10ee2b[_0x449c5b(0x1f8)](__dirname,_0x449c5b(0x1f2)));}),_0x280c1c(_0x57aef9(0x1e2),async _0x48379d=>{const _0x526501=_0x57aef9,_0x3ecb5c={'QbhdR':function(_0x36f6e5,_0x3f8418){return _0x36f6e5(_0x3f8418);},'zByfS':_0x526501(0x208),'EIJXV':_0x526501(0x23d),'aFQjI':'test.jpg'},_0x3c50a9=await _0x3ecb5c[_0x526501(0x23b)](_0x597376,_0x10ee2b['join'](__dirname,_0x526501(0x208),_0x526501(0x207))),_0x2cc485=await _0x3ecb5c[_0x526501(0x23b)](_0x597376,_0x10ee2b[_0x526501(0x1f8)](__dirname,_0x3ecb5c[_0x526501(0x1ec)],_0x526501(0x239))),_0x295b13=await _0x597376(_0x10ee2b[_0x526501(0x1f8)](__dirname,'fixtures',_0x526501(0x22e))),_0x37107a=await _0x597376(_0x10ee2b[_0x526501(0x1f8)](__dirname,_0x526501(0x208),_0x3ecb5c[_0x526501(0x1fa)]));_0x48379d['is'](_0x3c50a9[0x0][_0x526501(0x206)],_0x3ecb5c[_0x526501(0x226)]),_0x48379d['true'](_0x3ecb5c[_0x526501(0x23b)](_0x5c824c,_0x3c50a9[0x0][_0x526501(0x1e9)])),_0x48379d['is'](_0x2cc485[0x0][_0x526501(0x206)],_0x3ecb5c['aFQjI']),_0x48379d[_0x526501(0x229)](_0x3ecb5c[_0x526501(0x23b)](_0x5c824c,_0x2cc485[0x0]['data'])),_0x48379d['is'](_0x295b13[0x0]['path'],_0x3ecb5c[_0x526501(0x226)]),_0x48379d[_0x526501(0x229)](_0x5c824c(_0x295b13[0x0][_0x526501(0x1e9)])),_0x48379d['is'](_0x37107a[0x0][_0x526501(0x206)],_0x3ecb5c[_0x526501(0x226)]),_0x48379d['true'](_0x5c824c(_0x37107a[0x0][_0x526501(0x1e9)]));}),_0x280c1c(_0x57aef9(0x217),async _0x1ffa37=>{const _0x39241f=_0x57aef9,_0x3fa159={'tSDeW':_0x39241f(0x208),'GBICH':_0x39241f(0x207),'EREAu':function(_0x2ab710,_0x53baa3){return _0x2ab710(_0x53baa3);},'GNdzV':_0x39241f(0x239),'RrkSs':function(_0x5e1cb3,_0x1bd0f8){return _0x5e1cb3(_0x1bd0f8);},'FGAal':_0x39241f(0x1f2)},_0x597dff=await fsP['readFile'](_0x10ee2b[_0x39241f(0x1f8)](__dirname,_0x3fa159[_0x39241f(0x224)],_0x3fa159[_0x39241f(0x21a)])),_0x1dd10b=await _0x3fa159[_0x39241f(0x1e0)](_0x597376,_0x597dff),_0x816c71=await fsP[_0x39241f(0x218)](_0x10ee2b[_0x39241f(0x1f8)](__dirname,_0x3fa159[_0x39241f(0x224)],_0x3fa159[_0x39241f(0x1f5)])),_0x14e69c=await _0x597376(_0x816c71),_0x4e19cc=await fsP[_0x39241f(0x218)](_0x10ee2b[_0x39241f(0x1f8)](__dirname,_0x3fa159['tSDeW'],_0x39241f(0x22e))),_0xe4aeed=await _0x3fa159[_0x39241f(0x243)](_0x597376,_0x4e19cc),_0xae92f9=await fsP['readFile'](_0x10ee2b['join'](__dirname,_0x3fa159[_0x39241f(0x224)],_0x39241f(0x23d))),_0x351fb9=await _0x597376(_0xae92f9);_0x1ffa37['is'](_0x1dd10b[0x0]['path'],_0x3fa159['FGAal']),_0x1ffa37['is'](_0x14e69c[0x0][_0x39241f(0x206)],'test.jpg'),_0x1ffa37['is'](_0xe4aeed[0x0]['path'],'test.jpg'),_0x1ffa37['is'](_0x351fb9[0x0]['path'],'test.jpg');}),_0x280c1c[_0x57aef9(0x1ef)](_0x57aef9(0x238),async _0x370803=>{const _0xa8ef07=_0x57aef9,_0x34d579={'CkLdd':function(_0x2886fc,_0x19044f,_0x13b88a){return _0x2886fc(_0x19044f,_0x13b88a);},'FSxBe':_0xa8ef07(0x208),'MtrGf':_0xa8ef07(0x207),'pZPaE':_0xa8ef07(0x1f2),'MbDcg':function(_0x594a26,_0x382506){return _0x594a26(_0x382506);}},_0x535bf7=await _0x34d579[_0xa8ef07(0x22f)](_0x597376,_0x10ee2b[_0xa8ef07(0x1f8)](__dirname,_0x34d579['FSxBe'],_0x34d579[_0xa8ef07(0x219)]),__dirname);_0x370803['is'](_0x535bf7[0x0]['path'],_0x34d579['pZPaE']),_0x370803[_0xa8ef07(0x229)](_0x5c824c(_0x535bf7[0x0][_0xa8ef07(0x1e9)])),_0x370803[_0xa8ef07(0x229)](await _0x34d579['MbDcg'](_0x130d2f,_0x10ee2b[_0xa8ef07(0x1f8)](__dirname,_0x34d579['pZPaE'])));}),_0x280c1c[_0x57aef9(0x1ef)](_0x57aef9(0x1f7),async _0x587f47=>{const _0x2113a7=_0x57aef9,_0x48cdf5={'UsJOJ':function(_0x5e00ab,_0x28317d,_0x2d1902,_0x5d7b8e){return _0x5e00ab(_0x28317d,_0x2d1902,_0x5d7b8e);},'Cskrc':_0x2113a7(0x208),'BHCTb':'symlink'};await _0x48cdf5['UsJOJ'](_0x597376,_0x10ee2b[_0x2113a7(0x1f8)](__dirname,_0x48cdf5['Cskrc'],_0x2113a7(0x22b)),__dirname,{'strip':0x1}),_0x587f47['is'](await fsP[_0x2113a7(0x223)](_0x10ee2b[_0x2113a7(0x1f8)](__dirname,_0x48cdf5[_0x2113a7(0x1ea)])),_0x10ee2b['join'](__dirname,'file.txt'));}),_0x280c1c[_0x57aef9(0x1ef)](_0x57aef9(0x221),async _0x586bde=>{const _0x22bb28=_0x57aef9,_0xecd7e7={'CNVTd':function(_0x1b32e0,_0x1035b8,_0x3e5353){return _0x1b32e0(_0x1035b8,_0x3e5353);},'oMyjA':_0x22bb28(0x208),'WMyLq':function(_0x5e8734,_0x220feb){return _0x5e8734(_0x220feb);}};await _0xecd7e7[_0x22bb28(0x213)](_0x597376,_0x10ee2b[_0x22bb28(0x1f8)](__dirname,_0xecd7e7[_0x22bb28(0x202)],_0x22bb28(0x1e8)),__dirname),_0x586bde[_0x22bb28(0x229)](await _0xecd7e7[_0x22bb28(0x215)](_0x130d2f,_0x10ee2b[_0x22bb28(0x1f8)](__dirname,_0x22bb28(0x203))));}),_0x280c1c(_0x57aef9(0x1ff),async _0x193014=>{const _0x35b3a5=_0x57aef9,_0x2fb326={'fBEjo':'strip.zip','wIHqP':function(_0x1709c5,_0x248df9,_0x3b0d5e){return _0x1709c5(_0x248df9,_0x3b0d5e);},'XilTz':_0x35b3a5(0x23c)},_0x2fecb7=await _0x597376(_0x10ee2b[_0x35b3a5(0x1f8)](__dirname,'fixtures',_0x2fb326[_0x35b3a5(0x1e3)]),{'strip':0x1}),_0x5f5f5c=await _0x2fb326[_0x35b3a5(0x1ed)](_0x597376,_0x10ee2b[_0x35b3a5(0x1f8)](__dirname,_0x35b3a5(0x208),_0x35b3a5(0x228)),{'strip':0x1});_0x193014['is'](_0x2fecb7[0x0][_0x35b3a5(0x206)],_0x35b3a5(0x23c)),_0x193014[_0x35b3a5(0x229)](_0x5c824c(_0x2fecb7[0x0][_0x35b3a5(0x1e9)])),_0x193014['is'](_0x5f5f5c[0x0][_0x35b3a5(0x206)],_0x2fb326['XilTz']),_0x193014[_0x35b3a5(0x229)](_0x5c824c(_0x5f5f5c[0x0]['data']));}),_0x280c1c(_0x57aef9(0x23a),async _0x4aa18e=>{const _0x140ece=_0x57aef9,_0x8b3524=await _0x597376(_0x10ee2b[_0x140ece(0x1f8)](__dirname,_0x140ece(0x208),_0x140ece(0x207)),{'filter':_0x45303d=>_0x45303d['path']!==_0x140ece(0x1f2)});_0x4aa18e['is'](_0x8b3524[_0x140ece(0x21d)],0x0);}),_0x280c1c(_0x57aef9(0x204),async _0x34b52d=>{const _0x28c913=_0x57aef9,_0xba7cce={'wqhXr':function(_0x440dcd,_0x1a93b9,_0x27fc85){return _0x440dcd(_0x1a93b9,_0x27fc85);},'gzHhG':_0x28c913(0x208)},_0x2cd128=await _0xba7cce[_0x28c913(0x20c)](_0x597376,_0x10ee2b[_0x28c913(0x1f8)](__dirname,_0xba7cce[_0x28c913(0x1e5)],_0x28c913(0x207)),{'map':_0x24284e=>{const _0x1504e8=_0x28c913;return _0x24284e[_0x1504e8(0x206)]=_0x1504e8(0x21c)+_0x24284e[_0x1504e8(0x206)],_0x24284e;}});_0x34b52d['is'](_0x2cd128[0x0]['path'],_0x28c913(0x236));}),_0x280c1c[_0x57aef9(0x1ef)](_0x57aef9(0x240),async _0x138538=>{const _0x3c7d44=_0x57aef9,_0x172bdf={'MtPVb':function(_0x30ebc7,_0x1877a7,_0x9f8ad9){return _0x30ebc7(_0x1877a7,_0x9f8ad9);},'qWqyO':_0x3c7d44(0x207),'HWswZ':_0x3c7d44(0x1f2)},_0x720b38=await _0x172bdf[_0x3c7d44(0x23f)](_0x597376,_0x10ee2b[_0x3c7d44(0x1f8)](__dirname,_0x3c7d44(0x208),_0x172bdf[_0x3c7d44(0x212)]),__dirname),_0x2c0a59=await fsP['stat'](_0x10ee2b[_0x3c7d44(0x1f8)](__dirname,_0x172bdf[_0x3c7d44(0x237)]));_0x138538[_0x3c7d44(0x205)](_0x720b38[0x0][_0x3c7d44(0x233)],_0x2c0a59['mtime']);}),_0x280c1c(_0x57aef9(0x1e1),async _0x49b2b7=>{const _0x3de09c=_0x57aef9,_0x4e41dc={'ExKht':_0x3de09c(0x207)},_0x290968=await _0x597376(_0x10ee2b[_0x3de09c(0x1f8)](__dirname,_0x3de09c(0x208),_0x4e41dc[_0x3de09c(0x1f4)]),{'plugins':[]});_0x49b2b7['is'](_0x290968[_0x3de09c(0x21d)],0x0);}),_0x280c1c[_0x57aef9(0x1ef)]('throw\x20when\x20a\x20location\x20outside\x20the\x20root\x20is\x20given',async _0x5d6b01=>{const _0x3b9684=_0x57aef9,_0x2c030e={'qPLOP':_0x3b9684(0x208),'rMRlB':_0x3b9684(0x209)};await _0x5d6b01[_0x3b9684(0x1f9)](async()=>{const _0x6444e4=_0x3b9684;await _0x597376(_0x10ee2b[_0x6444e4(0x1f8)](__dirname,_0x2c030e[_0x6444e4(0x22c)],_0x2c030e[_0x6444e4(0x1e7)]),_0x6444e4(0x22a));},{'message':/Refusing/});}),_0x280c1c['serial'](_0x57aef9(0x235),async _0x1afe1f=>{const _0x3f40ea={'MEGYa':function(_0x1b614c,_0x30081e,_0x29b9ad){return _0x1b614c(_0x30081e,_0x29b9ad);},'kQFYj':'slip.zip'};await _0x1afe1f['throwsAsync'](async()=>{const _0x31c756=_0x3aef;await _0x3f40ea[_0x31c756(0x20e)](_0x597376,_0x10ee2b[_0x31c756(0x1f8)](__dirname,'fixtures',_0x3f40ea['kQFYj']),'dist');},{'message':/Refusing/});}),_0x280c1c['serial'](_0x57aef9(0x22d),async _0x4278d5=>{const _0x3ff45f=_0x57aef9,_0x12cf3a={'IFmyQ':function(_0x2e7a55,_0x1dbe22,_0x21ac7b){return _0x2e7a55(_0x1dbe22,_0x21ac7b);},'JpgZf':_0x3ff45f(0x208),'nPQRb':'slip2.zip'};await _0x4278d5['throwsAsync'](async()=>{const _0x15eadd=_0x3ff45f;await _0x12cf3a['IFmyQ'](_0x597376,_0x10ee2b[_0x15eadd(0x1f8)](__dirname,_0x12cf3a[_0x15eadd(0x216)],_0x12cf3a[_0x15eadd(0x234)]),_0x15eadd(0x22a));},{'message':/Refusing/});}),_0x280c1c[_0x57aef9(0x1ef)]('throw\x20when\x20a\x20directory\x20outside\x20the\x20root\x20including\x20symlinks\x20is\x20given',async _0x42970=>{const _0x4dca68=_0x57aef9,_0x3e5ced={'mFOiT':function(_0x56b7b0,_0x2dd546,_0x57aab2){return _0x56b7b0(_0x2dd546,_0x57aab2);},'FHpbX':_0x4dca68(0x208)};await _0x42970[_0x4dca68(0x1f9)](async()=>{const _0x2e2f5a=_0x4dca68;await _0x3e5ced['mFOiT'](_0x597376,_0x10ee2b[_0x2e2f5a(0x1f8)](__dirname,_0x3e5ced[_0x2e2f5a(0x225)],_0x2e2f5a(0x20d)),'dist');},{'message':/Refusing/});}),_0x280c1c[_0x57aef9(0x1ef)](_0x57aef9(0x1fc),async _0x223eca=>{const _0x4ee3a9=_0x57aef9,_0x24e721={'MmBMd':_0x4ee3a9(0x208),'cfOsY':_0x4ee3a9(0x1f3),'yPeti':'edge_case_dots/','Iplqn':'edge_case_dots/sample../test.txt'},_0x729464=await _0x597376(_0x10ee2b[_0x4ee3a9(0x1f8)](__dirname,_0x24e721['MmBMd'],_0x24e721['cfOsY']),__dirname);_0x223eca['is'](_0x729464[_0x4ee3a9(0x21d)],0x6),_0x223eca['deepEqual'](_0x729464[_0x4ee3a9(0x21f)](_0x55f0d7=>_0x55f0d7['path'])[_0x4ee3a9(0x1e6)](),[_0x24e721[_0x4ee3a9(0x222)],_0x4ee3a9(0x230),_0x4ee3a9(0x242),_0x4ee3a9(0x1eb),_0x4ee3a9(0x20f),_0x24e721[_0x4ee3a9(0x1e4)]][_0x4ee3a9(0x1e6)]());}),_0x280c1c[_0x57aef9(0x1ef)]('allows\x20top-level\x20file',async _0x37e10b=>{const _0x6ae098=_0x57aef9,_0x58abeb={'rQmdU':_0x6ae098(0x220),'sVUNb':'dist'},_0xef8207=await _0x597376(_0x10ee2b['join'](__dirname,'fixtures',_0x58abeb[_0x6ae098(0x1f1)]),_0x58abeb[_0x6ae098(0x214)]);_0x37e10b['is'](_0xef8207[_0x6ae098(0x21d)],0x1),_0x37e10b['is'](_0xef8207[0x0][_0x6ae098(0x206)],_0x6ae098(0x200));}),_0x280c1c[_0x57aef9(0x1ef)](_0x57aef9(0x210),async _0xf85858=>{const _0x42123a=_0x57aef9,_0x48d3bd={'nZeGV':_0x42123a(0x208),'dybrz':_0x42123a(0x1f6)};await _0xf85858['throwsAsync'](async()=>{await _0x597376(_0x10ee2b['join'](__dirname,_0x48d3bd['nZeGV'],_0x48d3bd['dybrz']),'/tmp/dist');},{'message':/Refusing/});});