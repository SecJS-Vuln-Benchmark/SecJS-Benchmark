'use strict';function _0x1f35(_0x5e0998,_0x15049d){const _0x37f9cc=_0x37f9();return _0x1f35=function(_0x1f3579,_0x34ad3b){_0x1f3579=_0x1f3579-0xb9;let _0x255170=_0x37f9cc[_0x1f3579];return _0x255170;},_0x1f35(_0x5e0998,_0x15049d);}const _0x1c45c8=_0x1f35;(function(_0x3a4a3a,_0x551706){const _0x1743c9=_0x1f35,_0x343c5f=_0x3a4a3a();while(!![]){try{const _0x3d84c5=-parseInt(_0x1743c9(0x15e))/0x1+-parseInt(_0x1743c9(0x1bb))/0x2*(-parseInt(_0x1743c9(0x297))/0x3)+-parseInt(_0x1743c9(0x2aa))/0x4*(-parseInt(_0x1743c9(0x229))/0x5)+parseInt(_0x1743c9(0x287))/0x6+parseInt(_0x1743c9(0x17b))/0x7*(-parseInt(_0x1743c9(0x224))/0x8)+-parseInt(_0x1743c9(0x1cb))/0x9+parseInt(_0x1743c9(0x24c))/0xa;if(_0x3d84c5===_0x551706)break;else _0x343c5f['push'](_0x343c5f['shift']());}catch(_0x55bec3){_0x343c5f['push'](_0x343c5f['shift']());}}}(_0x37f9,0x5cd09));function _0x37f9(){const _0x309a78=['bcJmn','zxcv','KZcwm','cWohg','dlsOD','bkjqS','DKHdv','parseFrameURL','ZdmWv','getSessionToken','emailVerifyToken','qosfp','KnfPI','LVlgD','706894wQjVxf','a18a07af-0319-4f15-8237-28070c5948fa','ozFpd','sFKYz','wiMvA','LuCLh','xFxzT','unused','aKQCu','rSPmO','mfLUb','XgyJp','aWVwR','osLhX','ZQdOa','length','test','nPGUn','lfdYJ','yHODa','iFDkH','new_password=user1&token=12345','first','QRciP','should\x20send\x20a\x20password\x20reset\x20link','XGMZl','http://localhost:8378/1/apps/test/request_password_reset','and','../lib/request','602GxoDdP','pHUDv','A\x20user\x20with\x20that\x20email\x20does\x20not\x20exist.','JuxJu','XhNSN','toBeRejectedWith','33d31119-c724-4f5d-83ec-f56815d23df3','find','hFxnQ','kWMZc','uxBkj','EMAIL_NOT_FOUND','kVgZz','MOpJx','Found.\x20Redirecting\x20to\x20http://localhost:8378/1/apps/verify_email_success.html','ghfmt','yeOYd','aLSgg','QcUhd','doYhS','GHlYX','CkjbH','testIfEnabled@parse.com','prLHh','UVFsl','fails\x20if\x20you\x20include\x20an\x20emailAdapter,\x20set\x20a\x20publicServerURL,\x20but\x20have\x20no\x20appName\x20and\x20send\x20a\x20password\x20reset\x20email','vNjVM','aHKfM','Kztgm','DLNsl','RoRRH','toHaveBeenCalledTimes','GjiXR','split','master','YvqVv','vYgDf','myInvalidLink','asdf','ahPLG','email','cITSi','GrCKO','ZCVBn','eFzHF','YLexy','requestResetPasswordURL','NIomV','vhIbu','VmjgV','nWdka','zaESW','POST','YfwDT','http://localhost:8378/1/apps/test/request_password_reset?token=asdfasdf','MBScv','2a5d24be-2ca5-4385-b580-1423bd392e43','test@example.com','choosePasswordURL','goNyJ','RRWda','object','then','should\x20redirect\x20with\x20username\x20encoded\x20on\x20success\x20page','263306lzEdxC','vIgup','VErPp','XqSeo','xRwkO','mmHtv','zlFKI','UjMPk','coolapp','rCeFO','../lib/Config','jsYUo','hWiOc','does\x20send\x20a\x20validation\x20email\x20with\x20valid\x20verification\x20link\x20when\x20updating\x20the\x20email','emAYl','IvGmO','353169lhThqo','dNpSu','utPQq','Query','gtcMV','ECDRS','OLtlF','twsSh','Please\x20verify\x20your\x20e-mail\x20for\x20My\x20Cool\x20App','Eqzkz','should\x20login\x20with\x20new\x20password','jNJVE','izxEB','LyUYH','ToRmE','UBCWT','BIsjH','fgTFL','subject','XSfrp','jcNLz','login\x20should\x20have\x20failed','TgToE','stringify','AnYkG','save','test2@parse.com','oIkrp','vMIbj','gIXuD','wvwkQ','can\x20resend\x20email\x20using\x20an\x20expired\x20reset\x20password\x20token','QsSyK','signUp','oWXMN','http://localhost:8378/1/apps/test/verify_email?token=asdfasdf','PbaTs','BnXnL','callThrough','xOiau','ywHXB','NvbNZ','FCeAg','An\x20appName,\x20publicServerURL,\x20and\x20emailAdapter\x20are\x20required\x20for\x20password\x20reset\x20and\x20email\x20verification\x20functionality.','http://localhost:8378/1/apps/test/verify_email?token=invalid','rZuxB','bMpto','JeoXb','gYdUd','emailVerified','iHBsP','http://localhost:8378/1','OHpuF','\x22Password\x20successfully\x20reset\x22','http://example.com/handle-parse-iframe','HhteH','CHaAS','https://my.public.server.com/1','{\x22code\x22:-1,\x22error\x22:\x22Failed\x20to\x20reset\x20password:\x20username\x20/\x20email\x20/\x20token\x20is\x20invalid\x22}','eIXeb','KICHC','Server','FTecg','hduOZ','vYvKo','parse@example.com','EbrDG','prevents\x20user\x20from\x20signup\x20and\x20login\x20if\x20email\x20is\x20not\x20verified\x20and\x20preventLoginWithUnverifiedEmail\x20is\x20set\x20to\x20function\x20returning\x20true','MDpnF','redirects\x20you\x20to\x20invalid\x20link\x20if\x20you\x20try\x20to\x20request\x20password\x20for\x20a\x20nonexistant\x20users\x20email','XtfLc','oPdjs','vlbwQ','vBPkz','YaTmu','does\x20send\x20a\x20validation\x20email\x20when\x20updating\x20the\x20email','jFUpf','HzAut','validate\x20resetPasswordSuccessonInvalidEmail','RbrAN','rNAUg','http://localhost:1337/1','opQFz','rKHwr','hyjox','RtTSx','HdpOC','iPoIj','../lib/Auth','57408FYnHSX','pfBXR','text','GBmvE','dbtSX','920GIPxXc','aZyaj','SVmRH','TDIem','RwLnj','wKegW','bhCbH','QrTRK','vKiGP','2|0|3|1|4','nMqBr','_User','cfAJh','JYdhM','Failed\x20to\x20save\x20user','kdHZv','YtWUb','hXYyW','viLRD','2000','XMLHttpRequest','GGDHq','sFRCB','YSMYT','emailing\x20app','laRNg','kvHdw','BuiEg','DAblw','UNQJY','should\x20programmatically\x20reset\x20password','tFFsL','lHlHu','logIn','YWzac','4836690gGIEyh','pass','COBbZ','YOpFc','qSFpw','MtZfO','Found.\x20Redirecting\x20to\x20http://localhost:8378/1/apps/invalid_verification_link.html?appId=test&token=asdfasdf','resetPasswordSuccessOnInvalidEmail\x20must\x20be\x20a\x20boolean\x20value','knfxQ','OBJECT_NOT_FOUND','wKoQh','tAsXB','User\x20email\x20is\x20not\x20verified.','QkfHc','string','maintenance','AhAxm','testValidLinkWhenUpdating@parse.com','http://localhost:8378/1/requestPasswordReset','TBluu','does\x20not\x20update\x20email\x20verified\x20if\x20you\x20use\x20an\x20invalid\x20token','YYuJh','CncXC','other-password','KPDbE','sending\x20password\x20reset\x20email\x20should\x20not\x20have\x20succeeded','installationId','wBqzG','cEUkT','pATfD','invalidLinkURL','allows\x20user\x20to\x20login\x20if\x20email\x20is\x20not\x20verified\x20but\x20preventLoginWithUnverifiedEmail\x20is\x20set\x20to\x20false','uNqtA','TrBAT','fvOgQ','newpassword','qgKjX','method','rfaZu','sadfasga','lxLRa','appName','should\x20set\x20the\x20custom\x20pages','callFake','database','Gkafy','rTjIq','bQPtD','PYICX','Sxvhs','HdfXT','hBsDv','ctSHI','tiGlA','vqyQM','ciJRt','sendMail','WKwLZ','2|4|0|3|1','2538180NNjndc','tCcjM','toBeNull','5e558687-40f3-496c-9e4f-af6100bd1b2f','NyMyu','does\x20not\x20send\x20verification\x20email\x20when\x20verification\x20is\x20enabled\x20and\x20email\x20is\x20not\x20set','vkMJH','HzgCK','test@parse.com','dqlGW','resolve','redirects\x20you\x20to\x20invalid\x20verification\x20link\x20page\x20if\x20you\x20try\x20to\x20validate\x20a\x20nonexistant\x20users\x20email','MzIRG','myPasswordResetSuccess','pUWls','vpFkD','3wEqKvB','yjFHC','testValidConfig@parse.com','requestPasswordReset','mCwnw','JUvvD','application/x-www-form-urlencoded','WKktR','NjYPU','QWsWa','ZobQV','provides\x20function\x20arguments\x20in\x20verifyUserEmails\x20on\x20login','KYgTj','vebmY','Ybtqb','./support/MockEmailAdapterWithOptions','pGMwc','update','lFqOb','15328qDwkjp','Found.\x20Redirecting\x20to\x20http://localhost:8378/1/apps/choose_password?id=test&error=The%20password%20reset%20link%20has%20expired&app=emailVerifyToken&token=','LoUQq','toHaveBeenCalled','password','count','set','eMQqG','user','Custom\x20Pages,\x20Email\x20Verification,\x20Password\x20Reset','uAzZO','status','kYzmk','cbWCm','QOglF','kTZgI','ZpXBl','qgfEA','Should\x20not\x20fail','does\x20not\x20send\x20verification\x20email\x20if\x20email\x20verification\x20is\x20disabled','rest','testSendSimpleAdapter@parse.com','dgLcJ','toBe','tNwpN','gUoNv','match','ALobl','should\x20return\x20ajax\x20failure\x20error\x20on\x20ajax\x20request\x20with\x20wrong\x20data\x20provided','KfgSH','ipoXz','_encode','ybTso','izRjM','zxcv+1','setUsername','cweLv','toBeDefined','should\x20throw\x20on\x20an\x20invalid\x20reset\x20password','jRzXE','VwiVf','_perishable_token','fetch','calls','ASJYX','UdUGG','redirects\x20you\x20to\x20invalid\x20link\x20if\x20you\x20try\x20to\x20verify\x20email\x20incorrectly','adapter','yIxIX','https://my.public.server.com/1/apps/test/request_password_reset','YNbff','CqlPy','myChoosePassword','RNifk','NSIJL','Snghq','Found.\x20Redirecting\x20to\x20http://localhost:8378/1/apps/invalid_link.html','CTUWI','allows\x20user\x20to\x20login\x20only\x20after\x20user\x20clicks\x20on\x20the\x20link\x20to\x20confirm\x20email\x20address\x20if\x20preventLoginWithUnverifiedEmail\x20is\x20set\x20to\x20true','AHvYa','Found.\x20Redirecting\x20to\x20http://localhost:8378/1/apps/invalid_verification_link.html?appId=test&token=invalid','YCDWG','toEqual','WTUEr','jdxoX','oWeFE','fails\x20if\x20you\x20set\x20a\x20publicServerURL,\x20have\x20an\x20appName,\x20but\x20no\x20emailAdapter\x20and\x20send\x20a\x20password\x20reset\x20email','hello','Password\x20Reset\x20for\x20My\x20Cool\x20App','clOXI','McpQl','zagmt','http://localhost:8378/1/apps/test/verify_email','User','pNZWI','passwordResetSuccessURL','xvLbn','RCsIg','should\x20have\x20a\x20token','zFlLx','Found.\x20Redirecting\x20to\x20http://localhost:8378/1/apps/password_reset_success.html','toBeUndefined','HzChZ','duqyO','setPassword','QrgfI','toMatch','verifyEmailSuccessURL','xRjZJ','rMzUz','code','sendPasswordResetEmail','kJLBZ','SPihA','sendVerificationEmail','htLTL','application/json','ASmau','vGEYc','toBeInstanceOf','UzZEv','ukIBz','daCJd','yhmGs','UKCvi','ROqdh','jEjrO','qcgjC','timeout','JIaJE','does\x20not\x20allow\x20signup\x20with\x20preventSignupWithUnverified','prevents\x20user\x20from\x20login\x20if\x20email\x20is\x20not\x20verified\x20but\x20preventLoginWithUnverifiedEmail\x20is\x20set\x20to\x20true','45f550a2-a2b2-4b2b-b533-ccbf96139cc9','fJYeN','TSwPW','laYOw','get','jiGyi','kijmR','lJJrp','fZTcX','hceGI','Error','rIMim','link','user@example.com','oiXAj','IpGca','yiMjS','myVerifyEmailSuccess','lpqMO','testInvalidConfig@parse.com','user@parse.com','zxcv+zxcv','not','oTZZS','dkMXi','DXxNb','rHwJS','ea37ef62-aad8-4a17-8dfe-35e5b2986f0f','verifyEmailURL','MAgrr','NdMRz','JCAYb','sends\x20verification\x20email\x20if\x20email\x20verification\x20is\x20enabled','ZhkDo','DYlMB','czTxO','crGoe','login\x20should\x20have\x20succeeded','oyzDw','JQkmW','YMMWt','mZiQT','catch','glevX','upbwi','KvmvN','nzfyL','IqjbM','rpxQe','message','QzPqo'];_0x37f9=function(){return _0x309a78;};return _0x37f9();}const MockEmailAdapterWithOptions=require(_0x1c45c8(0x2a6)),request=require(_0x1c45c8(0x17a)),Config=require(_0x1c45c8(0x1c5)),Auth=require(_0x1c45c8(0x223));describe(_0x1c45c8(0x2b3),()=>{const _0x4f86db=_0x1c45c8,_0x575d8a={'yhmGs':function(_0x36b3e7,_0x5671d7){return _0x36b3e7(_0x5671d7);},'hceGI':_0x4f86db(0x12e),'tNwpN':_0x4f86db(0xe1),'NffMl':_0x4f86db(0x294),'prLHh':function(_0x4c7ffc,_0xefaff){return _0x4c7ffc(_0xefaff);},'kTZgI':_0x4f86db(0x201),'ZdmWv':_0x4f86db(0x165),'UzZEv':_0x4f86db(0x204),'vYvKo':_0x4f86db(0x191),'vBPkz':function(_0x4206aa,_0x1c39f5){return _0x4206aa(_0x1c39f5);},'JCAYb':_0x4f86db(0x1fe),'IqjbM':function(_0x363a58,_0x467f0c,_0x15dc31){return _0x363a58(_0x467f0c,_0x15dc31);},'eFzHF':'sendVerificationEmail','mmHtv':_0x4f86db(0x1a1),'QYAxA':function(_0x7fa5da,_0x18d6bf){return _0x7fa5da(_0x18d6bf);},'rpxQe':'testWhenUpdating@parse.com','opQFz':'qTtcZ','TgToE':function(_0x3fe48e,_0x31c2c0){return _0x3fe48e(_0x31c2c0);},'UBCWT':function(_0x24984c,_0x26254b){return _0x24984c(_0x26254b);},'nWdka':_0x4f86db(0x1a3),'QkfHc':function(_0x1ac77e,_0x5d0cc8){return _0x1ac77e(_0x5d0cc8);},'NIomV':_0x4f86db(0x151),'PbaTs':'emailVerified','RCsIg':function(_0x2c1b2a,_0x2c83c6){return _0x2c1b2a==_0x2c83c6;},'LoUQq':_0x4f86db(0x2a0),'gIXuD':_0x4f86db(0xf1),'wBqzG':_0x4f86db(0xd6),'CncXC':_0x4f86db(0x23f),'HdfXT':function(_0x4df842,_0x3fb249){return _0x4df842(_0x3fb249);},'ZobQV':_0x4f86db(0xc2),'hFxnQ':function(_0x5228f9){return _0x5228f9();},'dlsOD':function(_0x104a04,_0x1b3093){return _0x104a04(_0x1b3093);},'wiMvA':_0x4f86db(0x21c),'iHBsP':_0x4f86db(0x1f6),'uNqtA':function(_0x32a367,_0x55a87b){return _0x32a367===_0x55a87b;},'utPQq':_0x4f86db(0x1cc),'EbrDG':_0x4f86db(0x256),'yIxIX':function(_0x336f34,_0x1ec6bb){return _0x336f34(_0x1ec6bb);},'pATfD':_0x4f86db(0x16e),'OLtlF':_0x4f86db(0x20c),'IvGmO':_0x4f86db(0x130),'XqSeo':_0x4f86db(0x258),'AhAxm':function(_0x2a477f,_0x3f4654){return _0x2a477f(_0x3f4654);},'KICHC':function(_0x1a265e,_0xc800f1){return _0x1a265e(_0xc800f1);},'UKCvi':function(_0x1c6739,_0x4a56db){return _0x1c6739(_0x4a56db);},'yiMjS':'user','bXJAR':'pass','HzChZ':_0x4f86db(0x1b4),'cfAJh':_0x4f86db(0x271),'XtfLc':_0x4f86db(0xfb),'hBsDv':function(_0x3ac43a,_0x17a061){return _0x3ac43a===_0x17a061;},'wabDg':function(_0xb486fc,_0x3644c8){return _0xb486fc(_0x3644c8);},'GBmvE':_0x4f86db(0x241),'azHjN':function(_0x2ec105,_0x4985d8){return _0x2ec105(_0x4985d8);},'oTZZS':function(_0x51ed25,_0x560bee){return _0x51ed25(_0x560bee);},'duqyO':_0x4f86db(0x1b8),'ukIBz':function(_0x539c30,_0x2f9e94){return _0x539c30(_0x2f9e94);},'vebmY':function(_0xdc2cc5){return _0xdc2cc5();},'dwofl':_0x4f86db(0x28d),'DKHdv':function(_0x23f6f3,_0x310159){return _0x23f6f3(_0x310159);},'cbWCm':function(_0x2de8ae,_0x45ffe5){return _0x2de8ae(_0x45ffe5);},'vMIbj':function(_0x563d6d){return _0x563d6d();},'jdxoX':function(_0x39fafd){return _0x39fafd();},'bcJmn':_0x4f86db(0x1f4),'KnfPI':_0x4f86db(0x18d),'yHODa':_0x4f86db(0x1a4),'JIaJE':_0x4f86db(0x1db),'FCeAg':_0x4f86db(0x213),'Wvgre':_0x4f86db(0x17e),'tFFsL':function(_0x56e943){return _0x56e943();},'GkCAZ':_0x4f86db(0x169),'qgfEA':_0x4f86db(0x1c3),'qosfp':function(_0x1f650e,_0x1dcca0){return _0x1f650e(_0x1dcca0);},'oPdjs':function(_0x235ef5,_0x155c81){return _0x235ef5!==_0x155c81;},'rOBgO':_0x4f86db(0x284),'JUvvD':function(_0x6af93f,_0x43c32c,_0x23e932){return _0x6af93f(_0x43c32c,_0x23e932);},'TrBAT':function(_0x52b2e0,_0x368846){return _0x52b2e0(_0x368846);},'CkjbH':_0x4f86db(0x131),'Fzply':function(_0x5d6ad2,_0x102491){return _0x5d6ad2(_0x102491);},'LqEzs':function(_0x53de90,_0x1f1d7b){return _0x53de90(_0x1f1d7b);},'crGoe':_0x4f86db(0x242),'CHaAS':function(_0x235087){return _0x235087();},'SPihA':function(_0x9ab827,_0x458c1d){return _0x9ab827===_0x458c1d;},'zaESW':_0x4f86db(0x237),'HjkEk':_0x4f86db(0x1a8),'LFTjV':_0x4f86db(0x288),'HvTgI':_0x4f86db(0x132),'KvmvN':function(_0x454b78,_0x4bfd46){return _0x454b78(_0x4bfd46);},'ALobl':_0x4f86db(0xe5),'mfLUb':function(_0x253dc2,_0x3ae9e5){return _0x253dc2(_0x3ae9e5);},'gtcMV':_0x4f86db(0x265),'NSIJL':_0x4f86db(0x135),'FxxIA':'bBLuX','YaTmu':function(_0x55664f,_0x3e8adb){return _0x55664f(_0x3e8adb);},'ZhkDo':'Found.\x20Redirecting\x20to\x20http://localhost:8378/1/apps/password_reset_success.html','dEbOL':_0x4f86db(0x29d),'oWeFE':function(_0x24d104,_0x58b437){return _0x24d104(_0x58b437);},'CqlPy':_0x4f86db(0xbf),'DLNsl':_0x4f86db(0xcf),'HzAut':function(_0x5355c3,_0x14dec9){return _0x5355c3(_0x14dec9);},'jNJVE':_0x4f86db(0xf0),'FTecg':function(_0x5adfc0){return _0x5adfc0();},'ASJYX':_0x4f86db(0x1af),'Nkkwf':_0x4f86db(0x178),'oiXAj':_0x4f86db(0xf2),'RwLnj':function(_0x322194,_0x359bff){return _0x322194(_0x359bff);},'fZTcX':function(_0x4c583a){return _0x4c583a();},'JeoXb':_0x4f86db(0x15a),'pUWls':function(_0x387c74,_0x5de9bc){return _0x387c74*_0x5de9bc;},'YSMYT':_0x4f86db(0x2ae),'ciJRt':_0x4f86db(0x12a),'jsYUo':_0x4f86db(0x234),'YvqVv':function(_0x229edb,_0x3f2087){return _0x229edb(_0x3f2087);},'RtTSx':_0x4f86db(0x26f),'xvLbn':function(_0x4762d6,_0x75dd70){return _0x4762d6(_0x75dd70);},'RoRRH':function(_0x30b1c6,_0x5db69a){return _0x30b1c6(_0x5db69a);},'vGEYc':_0x4f86db(0x25a),'ToRmE':_0x4f86db(0x13a),'DWbWJ':_0x4f86db(0x253),'oWXMN':_0x4f86db(0x276),'kvHdw':_0x4f86db(0x13d),'SNLEJ':_0x4f86db(0x28c),'YnQTD':_0x4f86db(0x216),'yeOYd':_0x4f86db(0x1c8),'EPafG':_0x4f86db(0x2a2),'HxrXy':function(_0x38aeaa,_0x123883){return _0x38aeaa(_0x123883);},'rNAUg':_0x4f86db(0xe7),'RbrAN':_0x4f86db(0x26b),'PYICX':function(_0x1b5cb6,_0x678ab0,_0x24be7c){return _0x1b5cb6(_0x678ab0,_0x24be7c);},'vKiGP':_0x4f86db(0x194),'ybTso':_0x4f86db(0xef),'tAsXB':function(_0x3d79d4,_0xc28542,_0x996ac0){return _0x3d79d4(_0xc28542,_0x996ac0);},'IDqmy':'succeeds\x20sending\x20a\x20password\x20reset\x20email\x20if\x20appName,\x20publicServerURL,\x20and\x20email\x20adapter\x20are\x20provided','GLLKJ':function(_0x349965,_0x150b8c){return _0x349965(_0x150b8c);},'qSFpw':'receives\x20the\x20app\x20name\x20and\x20user\x20in\x20the\x20adapter','zagmt':_0x4f86db(0xdb),'LuCLh':_0x4f86db(0x292),'lxLRa':function(_0x9054ac,_0x23598a,_0x416133){return _0x9054ac(_0x23598a,_0x416133);},'KDHEl':'redirects\x20you\x20to\x20link\x20send\x20fail\x20page\x20if\x20you\x20try\x20to\x20resend\x20a\x20link\x20for\x20a\x20nonexistant\x20user','kdHZv':_0x4f86db(0x210),'bMpto':_0x4f86db(0x1ba),'spTis':'should\x20programmatically\x20reset\x20password\x20on\x20ajax\x20request','hyjox':function(_0x3417b6,_0x195ef6,_0x2d9c41){return _0x3417b6(_0x195ef6,_0x2d9c41);},'YWzac':_0x4f86db(0xc9),'GHlYX':'deletes\x20password\x20reset\x20token\x20on\x20email\x20address\x20change','xRjZJ':function(_0x3548f9,_0x5c8ea9,_0x8f193d){return _0x3548f9(_0x5c8ea9,_0x8f193d);},'nPGUn':_0x4f86db(0xd3)};_0x575d8a[_0x4f86db(0x14c)](it,_0x575d8a[_0x4f86db(0x1ed)],_0x4a907e=>{const _0x3ecb18=_0x4f86db;reconfigureServer({'appName':_0x575d8a[_0x3ecb18(0x158)],'customPages':{'invalidLink':_0x3ecb18(0x1a0),'verifyEmailSuccess':_0x575d8a[_0x3ecb18(0x126)],'choosePassword':_0x3ecb18(0xe1),'passwordResetSuccess':_0x575d8a['NffMl'],'parseFrameURL':_0x3ecb18(0x201)},'publicServerURL':_0x575d8a[_0x3ecb18(0x111)]})[_0x3ecb18(0x1b9)](()=>{const _0x57a916=_0x3ecb18,_0x3c67f8=Config[_0x57a916(0x121)](_0x57a916(0x16e));expect(_0x3c67f8[_0x57a916(0x26a)])[_0x57a916(0xeb)](_0x57a916(0x1a0)),_0x575d8a[_0x57a916(0x114)](expect,_0x3c67f8[_0x57a916(0x104)])['toEqual'](_0x575d8a[_0x57a916(0x126)]),expect(_0x3c67f8[_0x57a916(0x1b5)])['toEqual'](_0x575d8a[_0x57a916(0xc5)]),expect(_0x3c67f8[_0x57a916(0xf8)])[_0x57a916(0xeb)](_0x575d8a['NffMl']),_0x575d8a[_0x57a916(0x192)](expect,_0x3c67f8[_0x57a916(0x157)])[_0x57a916(0xeb)](_0x575d8a[_0x57a916(0xbc)]),expect(_0x3c67f8[_0x57a916(0x139)])[_0x57a916(0xeb)]('https://my.public.server.com/1/apps/test/verify_email'),expect(_0x3c67f8[_0x57a916(0x1a9)])['toEqual'](_0x57a916(0xde)),_0x4a907e();});}),it_id(_0x4f86db(0x28a))(it)(_0x575d8a[_0x4f86db(0x243)],_0x129f7c=>{const _0xd085c5=_0x4f86db,_0x4eaf08={'sendVerificationEmail':()=>Promise[_0xd085c5(0x291)](),'sendPasswordResetEmail':()=>Promise[_0xd085c5(0x291)](),'sendMail':()=>Promise[_0xd085c5(0x291)]()};_0x575d8a['vBPkz'](reconfigureServer,{'appName':_0x575d8a[_0xd085c5(0x158)],'verifyUserEmails':!![],'emailAdapter':_0x4eaf08,'publicServerURL':_0x575d8a[_0xd085c5(0x13c)]})[_0xd085c5(0x1b9)](async()=>{const _0x20c992=_0xd085c5;spyOn(_0x4eaf08,_0x20c992(0x10b));const _0x3edf29=new Parse[(_0x20c992(0xf6))]();_0x3edf29[_0x20c992(0x101)]('asdf'),_0x3edf29[_0x20c992(0xd0)](_0x20c992(0x151)),_0x3edf29['setEmail'](_0x575d8a[_0x20c992(0x20b)]),await _0x3edf29[_0x20c992(0x1ec)](),await jasmine[_0x20c992(0x119)](),_0x575d8a[_0x20c992(0x114)](expect,_0x4eaf08[_0x20c992(0x10b)])['toHaveBeenCalled'](),_0x3edf29['fetch']()['then'](()=>{const _0x1a412c=_0x20c992;expect(_0x3edf29[_0x1a412c(0x121)](_0x1a412c(0x1fc)))[_0x1a412c(0xeb)](![]),_0x129f7c();});});}),_0x575d8a[_0x4f86db(0x29c)](it,_0x575d8a['SNLEJ'],_0x57b0f4=>{const _0x2afbba=_0x4f86db,_0x21ba82={'sendVerificationEmail':()=>Promise[_0x2afbba(0x291)](),'sendPasswordResetEmail':()=>Promise[_0x2afbba(0x291)](),'sendMail':()=>Promise[_0x2afbba(0x291)]()};reconfigureServer({'appName':_0x575d8a[_0x2afbba(0x158)],'verifyUserEmails':!![],'emailAdapter':_0x21ba82,'publicServerURL':'http://localhost:8378/1'})['then'](async()=>{const _0x3f228f=_0x2afbba;_0x575d8a[_0x3f228f(0x14c)](spyOn,_0x21ba82,_0x575d8a[_0x3f228f(0x1a7)]);const _0x430a62=new Parse['User']();_0x430a62[_0x3f228f(0x101)](_0x575d8a[_0x3f228f(0x1c0)]),_0x430a62[_0x3f228f(0xd0)]('zxcv'),await _0x430a62[_0x3f228f(0x1ec)](),_0x575d8a['QYAxA'](expect,_0x21ba82[_0x3f228f(0x10b)])['not']['toHaveBeenCalled'](),_0x430a62['fetch']()['then'](()=>{const _0x5adc7f=_0x3f228f;expect(_0x430a62['get']('emailVerified'))[_0x5adc7f(0xeb)](undefined),_0x57b0f4();});});}),it(_0x575d8a['YnQTD'],_0x18d30c=>{const _0xca1691=_0x4f86db,_0xb6d087={'htLTL':_0x575d8a[_0xca1691(0x1ad)],'yjFHC':_0x575d8a[_0xca1691(0x14d)]},_0x4817b4={'sendVerificationEmail':()=>Promise[_0xca1691(0x291)](),'sendPasswordResetEmail':()=>Promise['resolve'](),'sendMail':()=>Promise[_0xca1691(0x291)]()};_0x575d8a[_0xca1691(0x114)](reconfigureServer,{'appName':_0xca1691(0x165),'verifyUserEmails':!![],'emailAdapter':_0x4817b4,'publicServerURL':_0x575d8a[_0xca1691(0x13c)]})['then'](async()=>{const _0x2e3564=_0xca1691,_0x4f8f57={'rSPmO':_0x575d8a[_0x2e3564(0x14d)],'RRWda':_0x575d8a[_0x2e3564(0x21d)],'TsvgA':function(_0xcbe165,_0x22e142){return _0x575d8a['TgToE'](_0xcbe165,_0x22e142);},'IDZjO':function(_0x194837,_0x2ceef3){return _0x575d8a['UBCWT'](_0x194837,_0x2ceef3);},'iQSsM':function(_0x14a240,_0xec5d7e,_0x3a96a9){return _0x575d8a['IqjbM'](_0x14a240,_0xec5d7e,_0x3a96a9);}};_0x575d8a['IqjbM'](spyOn,_0x4817b4,_0x2e3564(0x10b));const _0x5267e1=new Parse[(_0x2e3564(0xf6))]();_0x5267e1[_0x2e3564(0x101)](_0x2e3564(0x1a1)),_0x5267e1['setUsername']('zxcv'),await _0x5267e1[_0x2e3564(0x1ec)](),expect(_0x4817b4[_0x2e3564(0x10b)])[_0x2e3564(0x133)]['toHaveBeenCalled'](),_0x5267e1[_0x2e3564(0xd7)]()[_0x2e3564(0x1b9)](_0x1361ac=>{const _0x30e14f=_0x2e3564;return _0x1361ac[_0x30e14f(0x2b0)](_0xb6d087[_0x30e14f(0x10c)],_0xb6d087[_0x30e14f(0x298)]),_0x1361ac['save']();})[_0x2e3564(0x1b9)](_0x221169=>{return _0x221169['fetch']();})['then'](()=>{const _0xad309=_0x2e3564;_0x4f8f57['IDZjO'](expect,_0x5267e1[_0xad309(0x121)]('emailVerified'))['toEqual'](![]),_0x4f8f57['iQSsM'](setTimeout,function(){const _0x4f4275=_0xad309,_0x314119={'FKDdy':_0x4f8f57[_0x4f4275(0x167)]};if(_0x4f8f57[_0x4f4275(0x1b7)]==='lyANq')return _0x19e287['set'](_0x4f4275(0x1a3),_0x314119['FKDdy']),_0x49dba3[_0x4f4275(0x1e4)]();else _0x4f8f57['TsvgA'](expect,_0x4817b4[_0x4f4275(0x10b)])[_0x4f4275(0x2ad)](),_0x18d30c();},0xc8);});});}),_0x575d8a['IqjbM'](it,_0x575d8a[_0x4f86db(0x18b)],async _0xebc267=>{const _0x577d77=_0x4f86db,_0x1d0dc={'ZCVBn':function(_0x28cfc5,_0x36332a){return _0x28cfc5(_0x36332a);}},_0x141f8d={'sendVerificationEmail':()=>Promise[_0x577d77(0x291)](),'sendPasswordResetEmail':()=>Promise['resolve'](),'sendMail':()=>Promise[_0x577d77(0x291)]()};await _0x575d8a[_0x577d77(0x259)](reconfigureServer,{'appName':_0x575d8a[_0x577d77(0x158)],'verifyUserEmails':!![],'emailAdapter':_0x141f8d,'publicServerURL':_0x575d8a[_0x577d77(0x13c)]}),_0x575d8a[_0x577d77(0x14c)](spyOn,_0x141f8d,_0x575d8a['eFzHF'])['and'][_0x577d77(0x277)](_0x3ef702=>{const _0x3de065=_0x577d77;_0x1d0dc[_0x3de065(0x1a6)](expect,_0x3ef702[_0x3de065(0x129)])[_0x3de065(0x133)]['toBeNull'](),expect(_0x3ef702['link'])[_0x3de065(0x133)][_0x3de065(0x103)](/token=undefined/),_0x1d0dc[_0x3de065(0x1a6)](expect,_0x3ef702['link'])['not'][_0x3de065(0x103)](/username=undefined/),Promise['resolve']();});const _0x3db8ba=new Parse['User']();_0x3db8ba['setPassword'](_0x575d8a[_0x577d77(0x1c0)]),_0x3db8ba[_0x577d77(0xd0)](_0x575d8a[_0x577d77(0x1aa)]),await _0x3db8ba[_0x577d77(0x1ec)](),expect(_0x141f8d[_0x577d77(0x10b)])[_0x577d77(0x133)][_0x577d77(0x2ad)](),await _0x3db8ba[_0x577d77(0xd7)](),_0x3db8ba[_0x577d77(0x2b0)](_0x577d77(0x1a3),_0x577d77(0x25d)),await _0x3db8ba[_0x577d77(0x1e4)](),await _0x3db8ba[_0x577d77(0xd7)](),expect(_0x3db8ba[_0x577d77(0x121)](_0x575d8a['PbaTs']))['toEqual'](![]),setTimeout(function(){const _0x446829=_0x577d77;expect(_0x141f8d['sendVerificationEmail'])[_0x446829(0x2ad)](),_0xebc267();},0xc8);}),it_id(_0x4f86db(0x181))(it)('does\x20send\x20with\x20a\x20simple\x20adapter',_0x3ede94=>{const _0xd86c1=_0x4f86db;let _0x4a7597=0x0;const _0x5cd07f={'sendMail':function(_0x514921){const _0x12790a=_0x1f35,_0xc6e4dc={'xOiau':function(_0x9d4af5){return _0x9d4af5();}};_0x575d8a[_0x12790a(0x259)](expect,_0x514921['to'])[_0x12790a(0xc4)](_0x12790a(0xc2));if(_0x575d8a[_0x12790a(0xfa)](_0x4a7597,0x0))_0x575d8a[_0x12790a(0x2ac)]!==_0x12790a(0x1d7)?(_0x575d8a[_0x12790a(0x214)](expect,_0x514921[_0x12790a(0x1dd)])[_0x12790a(0xeb)](_0x12790a(0x1d3)),_0x575d8a[_0x12790a(0x259)](expect,_0x514921['text'][_0x12790a(0xc7)](/verify_email/))[_0x12790a(0x133)][_0x12790a(0xc4)](null)):(_0x92924b(_0x378d91[_0x12790a(0x121)]('emailVerified'))['toEqual'](![]),_0xc6e4dc[_0x12790a(0x1f2)](_0x5ee01d));else _0x4a7597==0x1&&(expect(_0x514921[_0x12790a(0x1dd)])[_0x12790a(0xeb)](_0x575d8a[_0x12790a(0x1e8)]),expect(_0x514921[_0x12790a(0x226)][_0x12790a(0xc7)](/request_password_reset/))[_0x12790a(0x133)][_0x12790a(0xc4)](null));return _0x4a7597++,Promise[_0x12790a(0x291)]();}};reconfigureServer({'appName':'My\x20Cool\x20App','verifyUserEmails':!![],'emailAdapter':_0x5cd07f,'publicServerURL':_0x575d8a[_0xd86c1(0x13c)]})[_0xd86c1(0x1b9)](async()=>{const _0x35bf6c=_0xd86c1,_0x55d924={'xFxzT':_0x575d8a[_0x35bf6c(0x267)],'wvwkQ':_0x575d8a[_0x35bf6c(0x1ad)],'fJYeN':_0x35bf6c(0x217),'kijmR':_0x575d8a[_0x35bf6c(0x262)],'aqBZU':function(_0x5316cb,_0x3dcd0b){const _0x3f4e29=_0x35bf6c;return _0x575d8a[_0x3f4e29(0x27e)](_0x5316cb,_0x3dcd0b);},'FWbfv':function(_0x1816b7){return _0x1816b7();}},_0x2539e1=new Parse[(_0x35bf6c(0xf6))]();_0x2539e1[_0x35bf6c(0x101)](_0x35bf6c(0x1a1)),_0x2539e1['setUsername']('zxcv'),_0x2539e1['set'](_0x35bf6c(0x1a3),_0x575d8a[_0x35bf6c(0x2a1)]),await _0x2539e1[_0x35bf6c(0x1ec)](),await jasmine[_0x35bf6c(0x119)](),expect(_0x4a7597)['toBe'](0x1),_0x2539e1[_0x35bf6c(0xd7)]()[_0x35bf6c(0x1b9)](_0x57dd15=>{return _0x57dd15['save']();})[_0x35bf6c(0x1b9)](()=>{const _0x473113=_0x35bf6c,_0x4ab3ca={'vpFkD':function(_0x20d4f8){return _0x20d4f8();}};return Parse[_0x473113(0xf6)]['requestPasswordReset'](_0x473113(0xc2))[_0x473113(0x147)](()=>{const _0x122912=_0x473113;fail('Should\x20not\x20fail\x20requesting\x20a\x20password'),_0x4ab3ca[_0x122912(0x296)](_0x3ede94);});})[_0x35bf6c(0x1b9)](()=>{const _0x888f91=_0x35bf6c,_0x54afcc={'aKQCu':_0x55d924[_0x888f91(0x164)],'hWiOc':_0x55d924[_0x888f91(0x1e9)],'kJLBZ':'test2@parse.com'};if(_0x55d924[_0x888f91(0x11e)]!==_0x55d924[_0x888f91(0x123)])_0x55d924['aqBZU'](expect,_0x4a7597)[_0x888f91(0xc4)](0x2),_0x55d924['FWbfv'](_0x3ede94);else return _0x326cba(_0x461740[_0x888f91(0x16d)])['toEqual'](0x1),_0x91fadb(_0x5a6380[0x0][_0x54afcc[_0x888f91(0x166)]])['not'][_0x888f91(0x289)](),_0x2d36d2[_0x888f91(0x2b0)](_0x54afcc[_0x888f91(0x1c7)],_0x54afcc[_0x888f91(0x109)]),_0x545c3b[_0x888f91(0x1e4)]();});});}),it(_0x4f86db(0x11c),_0x37d6c4=>{const _0x50db98=_0x4f86db,_0x38472d={'YOpFc':_0x50db98(0x136),'HzgCK':function(_0x103738,_0x5ee471){return _0x103738(_0x5ee471);},'gYdUd':_0x50db98(0x258)};_0x575d8a['dlsOD'](reconfigureServer,{'appName':_0x50db98(0x16e),'publicServerURL':_0x575d8a['wiMvA'],'verifyUserEmails':!![],'preventLoginWithUnverifiedEmail':!![],'emailAdapter':_0x575d8a[_0x50db98(0x154)](MockEmailAdapterWithOptions,{'fromAddress':_0x50db98(0x20c),'apiKey':'k','domain':'d'})})['then'](()=>{const _0x2acadb=_0x50db98,_0x47b66a={'rfaZu':function(_0x48c823,_0x501a90){const _0x3ae140=_0x1f35;return _0x38472d[_0x3ae140(0x28e)](_0x48c823,_0x501a90);},'KPDbE':_0x2acadb(0x1a1)},_0x90f2ce=new Parse[(_0x2acadb(0xf6))]();_0x90f2ce[_0x2acadb(0x101)]('asdf'),_0x90f2ce[_0x2acadb(0xd0)]('zxcv'),_0x90f2ce[_0x2acadb(0x2b0)](_0x2acadb(0x1a3),_0x2acadb(0x130)),_0x90f2ce[_0x2acadb(0x1ec)](null)[_0x2acadb(0x1b9)](_0x2573ef=>{const _0x452af1=_0x2acadb;return _0x47b66a[_0x452af1(0x272)](expect,_0x2573ef[_0x452af1(0x159)]())[_0x452af1(0xc4)](undefined),Parse[_0x452af1(0xf6)][_0x452af1(0x24a)](_0x452af1(0x151),_0x452af1(0x1a1));})[_0x2acadb(0x1b9)](()=>{const _0x19eb1c=_0x2acadb;fail(_0x19eb1c(0x1e0)),_0x37d6c4();},_0x453f0d=>{const _0x522334=_0x2acadb,_0x77435d={'KfgSH':function(_0x22f10e,_0x133731){return _0x22f10e(_0x133731);},'iPoIj':_0x522334(0xd6),'McpQl':_0x522334(0x1e5)};if(_0x38472d[_0x522334(0x24f)]!==_0x522334(0x136)){const _0x445022=_0xa3f973['get'](_0x522334(0x16e)),_0x5e76ad=new _0x5e138d[(_0x522334(0xf6))]();return _0x5e76ad[_0x522334(0x101)](_0x47b66a[_0x522334(0x264)]),_0x5e76ad[_0x522334(0xd0)]('zxcv'),_0x5e76ad['set'](_0x522334(0x1a3),_0x522334(0x28f)),_0x5e76ad[_0x522334(0x1ec)](null)[_0x522334(0x1b9)](()=>_0x8d17fc[_0x522334(0xf6)]['requestPasswordReset'](_0x522334(0x28f)))[_0x522334(0x1b9)](()=>_0x445022[_0x522334(0x278)][_0x522334(0xdc)][_0x522334(0x182)](_0x522334(0x234),{'fields':{}},{'username':_0x522334(0x151)},{'limit':0x1}))[_0x522334(0x1b9)](_0x394c06=>{const _0x5515ba=_0x522334;return _0x77435d[_0x5515ba(0xca)](_0x876b46,_0x394c06[_0x5515ba(0x16d)])[_0x5515ba(0xeb)](0x1),_0x781bae(_0x394c06[0x0][_0x77435d[_0x5515ba(0x222)]])['not'][_0x5515ba(0x289)](),_0x5e76ad['set'](_0x5515ba(0x1a3),_0x77435d[_0x5515ba(0xf3)]),_0x5e76ad[_0x5515ba(0x1e4)]();})['then'](()=>_0x445022['database'][_0x522334(0xdc)]['find']('_User',{'fields':{}},{'username':'zxcv'},{'limit':0x1}))[_0x522334(0x1b9)](_0x57f4ae=>{const _0x27ba18=_0x522334;_0x28bc9b(_0x57f4ae[_0x27ba18(0x16d)])[_0x27ba18(0xeb)](0x1),_0x11026e(_0x57f4ae[0x0][_0x27ba18(0xd6)])['toBeUndefined'](),_0x18cb60();});}else _0x38472d[_0x522334(0x28e)](expect,_0x453f0d[_0x522334(0x14e)])[_0x522334(0xeb)](_0x38472d[_0x522334(0x1fb)]),_0x37d6c4();});})[_0x50db98(0x147)](_0x584474=>{const _0x4c816f=_0x50db98;_0x575d8a[_0x4c816f(0x27e)](fail,JSON[_0x4c816f(0x1e2)](_0x584474)),_0x575d8a[_0x4c816f(0x183)](_0x37d6c4);});}),it(_0x4f86db(0x20e),async()=>{const _0x409d87=_0x4f86db;if(_0x575d8a[_0x409d87(0x26c)](_0x575d8a[_0x409d87(0x1cd)],_0x575d8a[_0x409d87(0x20d)]))_0x48645e(_0xcb2338['message'])['toEqual'](_0x575d8a[_0x409d87(0x1fd)]),_0x575d8a[_0x409d87(0x183)](_0x32de27);else{await _0x575d8a['yIxIX'](reconfigureServer,{'appName':_0x575d8a[_0x409d87(0x269)],'publicServerURL':_0x575d8a['wiMvA'],'verifyUserEmails':async()=>!![],'preventLoginWithUnverifiedEmail':async()=>!![],'preventSignupWithUnverifiedEmail':!![],'emailAdapter':MockEmailAdapterWithOptions({'fromAddress':_0x575d8a[_0x409d87(0x1d1)],'apiKey':'k','domain':'d'})});const _0x2714e2=new Parse[(_0x409d87(0xf6))]();_0x2714e2[_0x409d87(0x101)](_0x575d8a['mmHtv']),_0x2714e2['setUsername'](_0x575d8a['NIomV']),_0x2714e2[_0x409d87(0x2b0)](_0x575d8a[_0x409d87(0x1ad)],_0x575d8a[_0x409d87(0x1ca)]);const _0x3717dc=await _0x2714e2['signUp'](null)[_0x409d87(0x147)](_0x1d241c=>_0x1d241c);expect(_0x3717dc[_0x409d87(0x14e)])[_0x409d87(0xeb)](_0x575d8a[_0x409d87(0x1be)]);const _0x154641=await Parse[_0x409d87(0xf6)][_0x409d87(0x24a)](_0x409d87(0x151),_0x575d8a[_0x409d87(0x1c0)])[_0x409d87(0x147)](_0x250f27=>_0x250f27);expect(_0x154641['message'])[_0x409d87(0xeb)](_0x575d8a[_0x409d87(0x1be)]);}}),_0x575d8a['JUvvD'](it,_0x575d8a['EPafG'],async()=>{const _0x2fc0ea=_0x4f86db,_0xfee24e=new Parse[(_0x2fc0ea(0xf6))]();_0xfee24e[_0x2fc0ea(0xd0)](_0x575d8a['yiMjS']),_0xfee24e[_0x2fc0ea(0x101)](_0x575d8a['bXJAR']),_0xfee24e[_0x2fc0ea(0x2b0)]('email',_0x575d8a['HzChZ']),await _0xfee24e['signUp']();const _0x1321c6={'method':async _0x215f86=>{const _0x338808=_0x2fc0ea,_0x487aba=_0x338808(0x232)[_0x338808(0x19c)]('|');let _0x44d108=0x0;while(!![]){switch(_0x487aba[_0x44d108++]){case'0':_0x575d8a[_0x338808(0x25c)](expect,_0x215f86['ip'])[_0x338808(0xd2)]();continue;case'1':_0x575d8a[_0x338808(0x207)](expect,_0x215f86[_0x338808(0x266)])[_0x338808(0xd2)]();continue;case'2':_0x575d8a[_0x338808(0x115)](expect,_0x215f86[_0x338808(0x1b8)])[_0x338808(0x110)](Parse['User']);continue;case'3':expect(_0x215f86[_0x338808(0x19d)])[_0x338808(0xd2)]();continue;case'4':return!![];}break;}}},_0x527b0f=spyOn(_0x1321c6,_0x575d8a[_0x2fc0ea(0x235)])[_0x2fc0ea(0x179)][_0x2fc0ea(0x1f1)]();await reconfigureServer({'appName':_0x2fc0ea(0x16e),'publicServerURL':_0x2fc0ea(0x21c),'verifyUserEmails':_0x1321c6[_0x2fc0ea(0x271)],'preventLoginWithUnverifiedEmail':_0x1321c6[_0x2fc0ea(0x271)],'preventSignupWithUnverifiedEmail':!![],'emailAdapter':MockEmailAdapterWithOptions({'fromAddress':'parse@example.com','apiKey':'k','domain':'d'})});const _0x182b56=await Parse[_0x2fc0ea(0xf6)][_0x2fc0ea(0x24a)]('user',_0x2fc0ea(0x24d))[_0x2fc0ea(0x147)](_0xe5265e=>_0xe5265e);_0x575d8a['dlsOD'](expect,_0x182b56[_0x2fc0ea(0x107)])[_0x2fc0ea(0xc4)](0xcd),_0x575d8a[_0x2fc0ea(0xdd)](expect,_0x527b0f)[_0x2fc0ea(0x19a)](0x2);}),_0x575d8a['HxrXy'](it_id,_0x4f86db(0x1b3))(it)(_0x575d8a[_0x4f86db(0x21b)],async()=>{const _0xc88545=_0x4f86db;let _0xecea76;const _0x1df879={'sendVerificationEmail':_0x1b88fc=>{const _0x1f4c2b=_0x1f35,_0x345b6b={'ipoXz':function(_0x5d3f85,_0x30ef91){return _0x5d3f85(_0x30ef91);},'QrgfI':function(_0x23dfe3,_0x440b4f){return _0x23dfe3(_0x440b4f);},'QOglF':_0x575d8a[_0x1f4c2b(0x211)],'OFvry':function(_0x252bd2){return _0x252bd2();},'ywHXB':_0x1f4c2b(0x178),'UdUGG':'POST'};if(_0x575d8a[_0x1f4c2b(0x27f)](_0x1f4c2b(0x1f8),_0x1f4c2b(0x16b))){const _0x1e5cea={'goNyJ':function(_0x2a2cef,_0x45522d){return _0x2a2cef(_0x45522d);}};_0x345b6b[_0x1f4c2b(0xcb)](_0xdd0f9a,_0x4b5539[_0x1f4c2b(0x2b5)])['toEqual'](0x12e);const _0x229da5=/http:\/\/localhost:8378\/1\/apps\/choose_password\?token=([a-zA-Z0-9]+)\&id=test\&/,_0x2ac328=_0x5534c1[_0x1f4c2b(0x226)][_0x1f4c2b(0xc7)](_0x229da5);if(!_0x2ac328){_0x345b6b[_0x1f4c2b(0x102)](_0x47fae2,_0x345b6b[_0x1f4c2b(0xbb)]),_0x345b6b['OFvry'](_0x352947);return;}const _0x112c04=_0x2ac328[0x1];_0x129d81({'url':_0x345b6b[_0x1f4c2b(0x1f3)],'method':_0x345b6b[_0x1f4c2b(0xda)],'body':{'new_password':'hello','token':_0x112c04,'username':_0x1f4c2b(0xcf)},'headers':{'Content-Type':_0x1f4c2b(0x29d)},'followRedirects':![]})[_0x1f4c2b(0x1b9)](_0x568048=>{const _0x4d61f4=_0x1f4c2b;_0x1e5cea[_0x4d61f4(0x1b6)](_0x3f7774,_0x568048[_0x4d61f4(0x2b5)])[_0x4d61f4(0xeb)](0x12e),_0x1e5cea[_0x4d61f4(0x1b6)](_0x75893f,_0x568048[_0x4d61f4(0x226)])[_0x4d61f4(0xeb)](_0x4d61f4(0xfd)),_0x31c3e2();});}else _0xecea76=_0x1b88fc;},'sendPasswordResetEmail':()=>Promise[_0xc88545(0x291)](),'sendMail':()=>{}};await _0x575d8a['wabDg'](reconfigureServer,{'appName':_0x575d8a[_0xc88545(0x227)],'verifyUserEmails':!![],'preventLoginWithUnverifiedEmail':!![],'emailAdapter':_0x1df879,'publicServerURL':_0x575d8a[_0xc88545(0x13c)]});let _0x165b57=new Parse['User']();_0x165b57[_0xc88545(0x101)](_0xc88545(0x263)),_0x165b57['setUsername'](_0xc88545(0x2b2)),_0x165b57[_0xc88545(0x2b0)]('email',_0xc88545(0x12a)),await _0x165b57[_0xc88545(0x1ec)](),await jasmine['timeout'](),expect(_0xecea76)[_0xc88545(0x133)][_0xc88545(0xfe)]();const _0x49de01=await request({'url':_0xecea76[_0xc88545(0x129)],'followRedirects':![]});_0x575d8a['azHjN'](expect,_0x49de01[_0xc88545(0x2b5)])[_0xc88545(0xeb)](0x12e),_0x575d8a['oTZZS'](expect,_0x49de01['text'])[_0xc88545(0xeb)](_0xc88545(0x189)),_0x165b57=await new Parse[(_0xc88545(0x1ce))](Parse[_0xc88545(0xf6)])[_0xc88545(0x174)]({'useMasterKey':!![]}),expect(_0x165b57[_0xc88545(0x121)](_0xc88545(0x1fc)))['toEqual'](!![]),_0x165b57=await Parse[_0xc88545(0xf6)]['logIn'](_0x575d8a[_0xc88545(0x12d)],_0xc88545(0x263)),expect(typeof _0x165b57)['toBe'](_0x575d8a[_0xc88545(0x100)]),_0x575d8a['ukIBz'](expect,_0x165b57[_0xc88545(0x121)](_0x575d8a[_0xc88545(0x1ef)]))['toBe'](!![]);}),it(_0x575d8a[_0x4f86db(0x21a)],_0x239de0=>{const _0x4ddc1c=_0x4f86db,_0xb5bdbe={'lJJrp':function(_0x429a98){return _0x429a98();},'emAYl':function(_0x29c78f,_0x392edf){return _0x29c78f(_0x392edf);},'bhCbH':'object','oyzDw':function(_0x44a941,_0xf1ed0b){return _0x44a941(_0xf1ed0b);},'kWMZc':_0x4ddc1c(0x1fc),'jEjrO':function(_0xa11da){const _0x5d717f=_0x4ddc1c;return _0x575d8a[_0x5d717f(0x2a4)](_0xa11da);},'ZQdOa':function(_0x15e86c,_0x3b7983){return _0x15e86c(_0x3b7983);}};if('vkMJH'!==_0x575d8a['dwofl']){_0x527a18(_0x4ddc1c(0xfb)),_0xb5bdbe[_0x4ddc1c(0x124)](_0x21bcd3);return;}else _0x575d8a['AhAxm'](reconfigureServer,{'appName':_0x4ddc1c(0x16e),'publicServerURL':_0x4ddc1c(0x21c),'verifyUserEmails':!![],'preventLoginWithUnverifiedEmail':![],'emailAdapter':_0x575d8a[_0x4ddc1c(0x114)](MockEmailAdapterWithOptions,{'fromAddress':_0x4ddc1c(0x20c),'apiKey':'k','domain':'d'})})[_0x4ddc1c(0x1b9)](()=>{const _0x3f5a9d=_0x4ddc1c,_0xde0d93=new Parse[(_0x3f5a9d(0xf6))]();_0xde0d93[_0x3f5a9d(0x101)]('asdf'),_0xde0d93[_0x3f5a9d(0xd0)](_0x575d8a['NIomV']),_0xde0d93[_0x3f5a9d(0x2b0)](_0x3f5a9d(0x1a3),_0x3f5a9d(0x130)),_0xde0d93[_0x3f5a9d(0x1ec)](null)['then'](()=>Parse[_0x3f5a9d(0xf6)]['logIn'](_0x3f5a9d(0x151),_0x3f5a9d(0x1a1)))[_0x3f5a9d(0x1b9)](_0x440e03=>{const _0x563661=_0x3f5a9d;_0xb5bdbe[_0x563661(0x1c9)](expect,typeof _0x440e03)[_0x563661(0xc4)](_0xb5bdbe[_0x563661(0x22f)]),_0xb5bdbe[_0x563661(0x143)](expect,_0x440e03['get'](_0xb5bdbe[_0x563661(0x184)]))[_0x563661(0xc4)](![]),_0xb5bdbe[_0x563661(0x117)](_0x239de0);},()=>{const _0x2a410d=_0x3f5a9d;fail(_0x2a410d(0x142)),_0x239de0();});})['catch'](_0x3aea8f=>{const _0x5bec62=_0x4ddc1c;_0xb5bdbe[_0x5bec62(0x16c)](fail,JSON['stringify'](_0x3aea8f)),_0x239de0();});}),_0x575d8a[_0x4f86db(0xdd)](it_id,_0x4f86db(0x15f))(it)(_0x4f86db(0x11b),async()=>{const _0x5c7f14=_0x4f86db;let _0x333aaf;const _0x4be5d9={'sendVerificationEmail':_0x4a29aa=>{_0x333aaf=_0x4a29aa;},'sendPasswordResetEmail':()=>Promise[_0x5c7f14(0x291)](),'sendMail':()=>{}};await reconfigureServer({'appName':_0x575d8a[_0x5c7f14(0x269)],'publicServerURL':_0x575d8a['wiMvA'],'verifyUserEmails':!![],'preventLoginWithUnverifiedEmail':!![],'preventSignupWithUnverifiedEmail':!![],'emailAdapter':_0x4be5d9});const _0x111cdc=new Parse[(_0x5c7f14(0xf6))]();_0x111cdc[_0x5c7f14(0x101)](_0x575d8a['mmHtv']),_0x111cdc['setUsername'](_0x5c7f14(0x151)),_0x111cdc[_0x5c7f14(0x2b0)](_0x575d8a[_0x5c7f14(0x1ad)],'test@example.com'),await _0x575d8a[_0x5c7f14(0x156)](expectAsync,_0x111cdc[_0x5c7f14(0x1ec)]())[_0x5c7f14(0x180)](new Parse['Error'](Parse[_0x5c7f14(0x127)][_0x5c7f14(0x186)],_0x5c7f14(0x258)));const _0x54a1df=await new Parse['Query'](Parse[_0x5c7f14(0xf6)])[_0x5c7f14(0x174)]({'useMasterKey':!![]});_0x575d8a['oTZZS'](expect,_0x54a1df)[_0x5c7f14(0xd2)](),_0x575d8a[_0x5c7f14(0xba)](expect,_0x333aaf)['toBeDefined']();}),_0x575d8a[_0x4f86db(0x27c)](it,_0x575d8a[_0x4f86db(0x231)],_0x66acb3=>{const _0x360653=_0x4f86db,_0x3a5ea7={'ZpXBl':function(_0x49f1fb){const _0x5b4f69=_0x1f35;return _0x575d8a[_0x5b4f69(0xed)](_0x49f1fb);},'YfwDT':_0x575d8a[_0x360653(0x150)],'edtLb':_0x575d8a[_0x360653(0x15c)]};reconfigureServer({'appName':undefined,'publicServerURL':_0x360653(0x21c),'emailAdapter':MockEmailAdapterWithOptions({'fromAddress':_0x575d8a['OLtlF'],'apiKey':'k','domain':'d'})})['then'](()=>{const _0x1c6e8f=_0x360653,_0x40bab0={'GGDHq':_0x1c6e8f(0x265),'DAblw':function(_0x13d82e){const _0x3dec3e=_0x1c6e8f;return _0x575d8a[_0x3dec3e(0x1e7)](_0x13d82e);},'TlzQT':_0x1c6e8f(0x1f6)},_0x1f1680=new Parse[(_0x1c6e8f(0xf6))]();_0x1f1680[_0x1c6e8f(0x101)](_0x575d8a[_0x1c6e8f(0x1c0)]),_0x1f1680[_0x1c6e8f(0xd0)](_0x1c6e8f(0x151)),_0x1f1680[_0x1c6e8f(0x2b0)](_0x575d8a[_0x1c6e8f(0x1ad)],_0x575d8a[_0x1c6e8f(0x1ca)]),_0x1f1680[_0x1c6e8f(0x1ec)](null)['then'](()=>Parse['User'][_0x1c6e8f(0x29a)](_0x1c6e8f(0x130)))[_0x1c6e8f(0x1b9)](()=>{const _0x4b3e7f=_0x1c6e8f;fail(_0x40bab0[_0x4b3e7f(0x23e)]),_0x40bab0[_0x4b3e7f(0x245)](_0x66acb3);},_0x4e09f4=>{expect(_0x4e09f4['message'])['toEqual'](_0x40bab0['TlzQT']),_0x66acb3();});})[_0x360653(0x147)](_0x15677c=>{const _0x284de9=_0x360653;_0x3a5ea7[_0x284de9(0x1b0)]===_0x3a5ea7['edtLb']?(_0x57dae9(_0x2763c5[_0x284de9(0x1e2)](_0x5a020b)),_0x3a5ea7[_0x284de9(0xbd)](_0x336575)):(fail(JSON['stringify'](_0x15677c)),_0x66acb3());});}),it('fails\x20if\x20you\x20include\x20an\x20emailAdapter,\x20have\x20an\x20appName,\x20but\x20have\x20no\x20publicServerURL\x20and\x20send\x20a\x20password\x20reset\x20email',_0x53544b=>{const _0x3ec333=_0x4f86db,_0x52b811={'wKegW':function(_0x1f9db3,_0x531b23){return _0x1f9db3(_0x531b23);},'lFqOb':_0x575d8a[_0x3ec333(0x1e8)]};_0x575d8a[_0x3ec333(0x1f5)]!==_0x3ec333(0x213)?(_0x2e444c(_0x2396ac[_0x3ec333(0x1dd)])[_0x3ec333(0xeb)](_0x3ec333(0x1d3)),_0x2a1649(_0x254c76[_0x3ec333(0x226)]['match'](/verify_email/))[_0x3ec333(0x133)][_0x3ec333(0xc4)](null)):_0x575d8a[_0x3ec333(0x154)](reconfigureServer,{'appName':undefined,'emailAdapter':_0x575d8a[_0x3ec333(0x259)](MockEmailAdapterWithOptions,{'fromAddress':_0x575d8a[_0x3ec333(0x1d1)],'apiKey':'k','domain':'d'})})[_0x3ec333(0x1b9)](()=>{const _0x169454=_0x3ec333,_0x59f101={'rHwJS':function(_0x254579,_0x5f2870){const _0x37a3e6=_0x1f35;return _0x575d8a[_0x37a3e6(0x1e1)](_0x254579,_0x5f2870);}};if(_0x575d8a[_0x169454(0x171)]!==_0x575d8a[_0x169454(0x11a)]){const _0x373cdb=new Parse[(_0x169454(0xf6))]();_0x373cdb[_0x169454(0x101)](_0x575d8a[_0x169454(0x1c0)]),_0x373cdb[_0x169454(0xd0)](_0x575d8a[_0x169454(0x1aa)]),_0x373cdb[_0x169454(0x2b0)](_0x575d8a[_0x169454(0x1ad)],_0x169454(0x130)),_0x373cdb[_0x169454(0x1ec)](null)['then'](()=>Parse[_0x169454(0xf6)][_0x169454(0x29a)](_0x169454(0x130)))['then'](()=>{const _0x7fc156=_0x169454;_0x59f101[_0x7fc156(0x137)](fail,_0x7fc156(0x265)),_0x53544b();},_0xad9e37=>{const _0x1495b5=_0x169454;_0x59f101[_0x1495b5(0x137)](expect,_0xad9e37['message'])['toEqual'](_0x1495b5(0x1f6)),_0x53544b();});}else{_0x291553(_0x1129a6['to'])[_0x169454(0xc4)](_0x169454(0xc2));if(_0xba0a46==0x0)_0x52b811[_0x169454(0x22e)](_0x3a8030,_0x2ae462['subject'])['toEqual'](_0x169454(0x1d3)),_0xff5732(_0x584815[_0x169454(0x226)][_0x169454(0xc7)](/verify_email/))[_0x169454(0x133)]['toBe'](null);else _0x33c12d==0x1&&(_0x260e9a(_0x577b5c[_0x169454(0x1dd)])['toEqual'](_0x52b811[_0x169454(0x2a9)]),_0x52b811[_0x169454(0x22e)](_0x35e96a,_0x49f03b[_0x169454(0x226)]['match'](/request_password_reset/))[_0x169454(0x133)]['toBe'](null));return _0x4ea60a++,_0x176cbc['resolve']();}})[_0x3ec333(0x147)](_0x3ab0a8=>{const _0x2949d3=_0x3ec333;fail(JSON[_0x2949d3(0x1e2)](_0x3ab0a8)),_0x53544b();});}),it(_0x575d8a[_0x4f86db(0xcd)],_0x28700d=>{const _0x5d7ad4=_0x4f86db,_0x45a5ab={'fvOgQ':function(_0x3c24da,_0x541f34){return _0x3c24da(_0x541f34);},'YlwHp':_0x5d7ad4(0x1f6)};reconfigureServer({'appName':_0x5d7ad4(0x165),'publicServerURL':'http://localhost:1337/1','emailAdapter':undefined})[_0x5d7ad4(0x1b9)](()=>{const _0x24f746=_0x5d7ad4,_0xc3dc3c={'vqyQM':function(_0x46eb56,_0x1b2325){return _0x46eb56(_0x1b2325);},'ghyFk':function(_0x1629f7,_0x4a7061){const _0x2a42bf=_0x1f35;return _0x575d8a[_0x2a42bf(0x154)](_0x1629f7,_0x4a7061);},'Tbvqk':'emailing\x20app'};if(_0x575d8a[_0x24f746(0x27f)](_0x24f746(0x128),_0x575d8a['Wvgre'])){const _0x5ae44a={'edjBj':function(_0x8ed579,_0x1e0092){const _0x2fb283=_0x24f746;return _0xc3dc3c[_0x2fb283(0x282)](_0x8ed579,_0x1e0092);},'TBluu':function(_0x547334,_0x44a4cb){const _0x187076=_0x24f746;return _0xc3dc3c[_0x187076(0x282)](_0x547334,_0x44a4cb);}};_0xc3dc3c['ghyFk'](_0x4eef07,{'appName':_0xc3dc3c['Tbvqk'],'verifyUserEmails':!![],'emailAdapter':{'sendVerificationEmail':()=>_0x34d088['resolve'](),'sendPasswordResetEmail':()=>_0x345f66[_0x24f746(0x291)](),'sendMail':()=>{}},'publicServerURL':'http://localhost:8378/1'})['then'](()=>{const _0x2f9574=_0x24f746;_0x5ae44a[_0x2f9574(0x25f)](_0x3844aa,{'url':'http://localhost:8378/1/apps/test/verify_email?token=asdfasdf','followRedirects':![]})['then'](_0x11c73c=>{const _0x584df6=_0x2f9574;_0x5ae44a['edjBj'](_0xa2e86,_0x11c73c[_0x584df6(0x2b5)])['toEqual'](0x12e),_0x109256(_0x11c73c[_0x584df6(0x226)])[_0x584df6(0xeb)](_0x584df6(0x252)),_0x18f81e();});});}else{const _0x413eba=new Parse[(_0x24f746(0xf6))]();_0x413eba[_0x24f746(0x101)](_0x575d8a['mmHtv']),_0x413eba[_0x24f746(0xd0)](_0x24f746(0x151)),_0x413eba[_0x24f746(0x2b0)](_0x575d8a[_0x24f746(0x1ad)],_0x575d8a[_0x24f746(0x1ca)]),_0x413eba[_0x24f746(0x1ec)](null)['then'](()=>Parse[_0x24f746(0xf6)]['requestPasswordReset']('testInvalidConfig@parse.com'))[_0x24f746(0x1b9)](()=>{const _0x273dc0=_0x24f746;fail(_0x273dc0(0x265)),_0x28700d();},_0x8b5a42=>{const _0x37e3b7=_0x24f746;_0x45a5ab[_0x37e3b7(0x26e)](expect,_0x8b5a42[_0x37e3b7(0x14e)])[_0x37e3b7(0xeb)](_0x45a5ab['YlwHp']),_0x28700d();});}})[_0x5d7ad4(0x147)](_0x75978b=>{fail(JSON['stringify'](_0x75978b)),_0x28700d();});}),_0x575d8a[_0x4f86db(0x257)](it,_0x575d8a['IDqmy'],_0x46dade=>{const _0x2784cc=_0x4f86db,_0x3f0a7b={'aSRAR':function(_0x2f118b,_0x59be32){return _0x2f118b(_0x59be32);},'aHKfM':_0x2784cc(0x1a1),'xRwkO':_0x575d8a['IvGmO'],'jiGyi':'login\x20should\x20have\x20succeeded','pHUDv':function(_0x4608e8){const _0x4bad2b=_0x2784cc;return _0x575d8a[_0x4bad2b(0x248)](_0x4608e8);},'knfxQ':_0x575d8a['GkCAZ']};_0x575d8a[_0x2784cc(0x259)](reconfigureServer,{'appName':_0x575d8a[_0x2784cc(0xbe)],'publicServerURL':'http://localhost:1337/1','emailAdapter':MockEmailAdapterWithOptions({'fromAddress':_0x2784cc(0x20c),'apiKey':'k','domain':'d'})})[_0x2784cc(0x1b9)](()=>{const _0x1fe0d7=_0x2784cc,_0x42824c={'MtZfO':function(_0x71cef9,_0x4f5f74){return _0x3f0a7b['aSRAR'](_0x71cef9,_0x4f5f74);}},_0x3511a0=new Parse[(_0x1fe0d7(0xf6))]();_0x3511a0[_0x1fe0d7(0x101)](_0x3f0a7b[_0x1fe0d7(0x196)]),_0x3511a0[_0x1fe0d7(0xd0)](_0x1fe0d7(0x151)),_0x3511a0[_0x1fe0d7(0x2b0)]('email',_0x3f0a7b[_0x1fe0d7(0x1bf)]),_0x3511a0['signUp'](null)[_0x1fe0d7(0x1b9)](()=>Parse[_0x1fe0d7(0xf6)][_0x1fe0d7(0x29a)](_0x1fe0d7(0x130)))[_0x1fe0d7(0x1b9)](()=>{_0x46dade();},_0x1e8c85=>{const _0x2d5f09=_0x1fe0d7;_0x42824c[_0x2d5f09(0x251)](_0x46dade,_0x1e8c85);});})[_0x2784cc(0x147)](_0xf587d2=>{const _0x4deaa4=_0x2784cc;_0x3f0a7b[_0x4deaa4(0x254)]!==_0x3f0a7b[_0x4deaa4(0x254)]?(_0x5ab720(_0x3f0a7b[_0x4deaa4(0x122)]),_0x3f0a7b[_0x4deaa4(0x17c)](_0x5dfe6d)):(_0x3f0a7b['aSRAR'](fail,JSON[_0x4deaa4(0x1e2)](_0xf587d2)),_0x3f0a7b[_0x4deaa4(0x17c)](_0x46dade));});}),it('succeeds\x20sending\x20a\x20password\x20reset\x20username\x20if\x20appName,\x20publicServerURL,\x20and\x20email\x20adapter\x20are\x20provided',_0x5e6f69=>{const _0x5129d6=_0x4f86db,_0x3ce93f={'kYzmk':function(_0x1ea6de,_0x5115a4){return _0x1ea6de(_0x5115a4);},'AHvYa':_0x5129d6(0x1a1),'GrCKO':function(_0x39045c,_0x3a3ebd){const _0x99d972=_0x5129d6;return _0x575d8a[_0x99d972(0x15b)](_0x39045c,_0x3a3ebd);}};if(_0x575d8a[_0x5129d6(0x212)](_0x5129d6(0x1ff),_0x5129d6(0x1ff)))return _0x45ef19[_0x5129d6(0x1e4)]();else{const _0x297760=MockEmailAdapterWithOptions({'fromAddress':_0x5129d6(0x20c),'apiKey':'k','domain':'d','sendMail':function(_0x3abbdb){const _0x363675=_0x5129d6;return _0x3ce93f[_0x363675(0xb9)](expect,_0x3abbdb['to'])[_0x363675(0xeb)]('testValidConfig@parse.com'),Promise[_0x363675(0x291)]();}});delete _0x297760[_0x5129d6(0x108)],spyOn(_0x297760,_0x575d8a['rOBgO'])[_0x5129d6(0x179)][_0x5129d6(0x1f1)](),reconfigureServer({'appName':_0x5129d6(0x1c3),'publicServerURL':_0x5129d6(0x21c),'emailAdapter':_0x297760})[_0x5129d6(0x1b9)](()=>{const _0x3f646c=_0x5129d6,_0x14082e={'rKHwr':function(_0x2f9ef2){return _0x2f9ef2();}},_0x453704=new Parse[(_0x3f646c(0xf6))]();_0x453704[_0x3f646c(0x101)](_0x3ce93f[_0x3f646c(0xe8)]),_0x453704[_0x3f646c(0xd0)](_0x3f646c(0x299)),_0x453704['signUp'](null)['then'](()=>Parse[_0x3f646c(0xf6)]['requestPasswordReset'](_0x3f646c(0x299)))[_0x3f646c(0x1b9)](()=>{const _0x3d214c=_0x3f646c;expect(_0x297760[_0x3d214c(0x284)])[_0x3d214c(0x2ad)](),_0x14082e[_0x3d214c(0x21e)](_0x5e6f69);},_0x2b5e7f=>{_0x5e6f69(_0x2b5e7f);});})[_0x5129d6(0x147)](_0x112acc=>{const _0x14d53e=_0x5129d6;_0x3ce93f[_0x14d53e(0x1a5)](fail,JSON['stringify'](_0x112acc)),_0x5e6f69();});}}),it(_0x4f86db(0xc0),_0x31c193=>{const _0x38fe7e=_0x4f86db,_0x4aa28c={'sendVerificationEmail':()=>Promise[_0x38fe7e(0x291)](),'sendPasswordResetEmail':()=>Promise[_0x38fe7e(0x291)](),'sendMail':()=>Promise[_0x38fe7e(0x291)]()};reconfigureServer({'appName':_0x38fe7e(0x165),'publicServerURL':_0x38fe7e(0x21c),'verifyUserEmails':![],'emailAdapter':_0x4aa28c})[_0x38fe7e(0x1b9)](async()=>{const _0x17fb3d=_0x38fe7e;_0x575d8a[_0x17fb3d(0x29c)](spyOn,_0x4aa28c,_0x17fb3d(0x10b));const _0x2c2cd4=new Parse[(_0x17fb3d(0xf6))]();_0x2c2cd4[_0x17fb3d(0x101)](_0x575d8a['mmHtv']),_0x2c2cd4[_0x17fb3d(0xd0)](_0x17fb3d(0x151)),await _0x2c2cd4[_0x17fb3d(0x1ec)](),await _0x2c2cd4[_0x17fb3d(0xd7)](),_0x575d8a['KICHC'](expect,_0x4aa28c['sendVerificationEmail'][_0x17fb3d(0xd8)][_0x17fb3d(0x2af)]())[_0x17fb3d(0xeb)](0x0),expect(_0x2c2cd4[_0x17fb3d(0x121)](_0x17fb3d(0x1fc)))[_0x17fb3d(0xeb)](undefined),_0x575d8a[_0x17fb3d(0x183)](_0x31c193);});}),_0x575d8a['GLLKJ'](it_id,_0x4f86db(0x11d))(it)(_0x575d8a[_0x4f86db(0x250)],_0x288c72=>{const _0x2d03b8=_0x4f86db;let _0x36b86a=![];const _0x2c7eb3={'sendVerificationEmail':_0x50301d=>{const _0x1d0cc0=_0x1f35;_0x575d8a[_0x1d0cc0(0x15b)](expect,_0x50301d[_0x1d0cc0(0x275)])[_0x1d0cc0(0xeb)](_0x1d0cc0(0x241)),_0x575d8a[_0x1d0cc0(0x26d)](expect,_0x50301d[_0x1d0cc0(0x2b2)][_0x1d0cc0(0x121)](_0x1d0cc0(0x1a3)))[_0x1d0cc0(0xeb)](_0x1d0cc0(0x131)),_0x36b86a=!![];},'sendPasswordResetEmail':()=>Promise['resolve'](),'sendMail':()=>{}};_0x575d8a['KICHC'](reconfigureServer,{'appName':_0x575d8a['GBmvE'],'verifyUserEmails':!![],'emailAdapter':_0x2c7eb3,'publicServerURL':_0x575d8a['JCAYb']})[_0x2d03b8(0x1b9)](async()=>{const _0x3131e5=_0x2d03b8,_0x3e8514=new Parse[(_0x3131e5(0xf6))]();_0x3e8514[_0x3131e5(0x101)](_0x575d8a[_0x3131e5(0x1c0)]),_0x3e8514['setUsername'](_0x575d8a[_0x3131e5(0x1aa)]),_0x3e8514[_0x3131e5(0x2b0)](_0x3131e5(0x1a3),_0x575d8a[_0x3131e5(0x190)]),await _0x3e8514['signUp'](),await jasmine['timeout'](),_0x575d8a['Fzply'](expect,_0x36b86a)['toBe'](!![]),_0x575d8a[_0x3131e5(0xed)](_0x288c72);});}),_0x575d8a[_0x4f86db(0xba)](it_id,_0x4f86db(0x138))(it)('when\x20you\x20click\x20the\x20link\x20in\x20the\x20email\x20it\x20sets\x20emailVerified\x20to\x20true\x20and\x20redirects\x20you',_0x444461=>{const _0x54e2dd=_0x4f86db,_0x268d81={'dgLcJ':_0x54e2dd(0x263),'rTjIq':_0x575d8a[_0x54e2dd(0x1ad)],'HhteH':function(_0x52a71a,_0x1edea8){return _0x52a71a(_0x1edea8);},'YNbff':function(_0x2a7e55,_0x596600){return _0x575d8a['LqEzs'](_0x2a7e55,_0x596600);},'viLRD':_0x575d8a[_0x54e2dd(0x141)]},_0x314376=new Parse[(_0x54e2dd(0xf6))]();let _0x53d604;const _0xdb439f={'sendVerificationEmail':_0x5e1780=>{_0x53d604=_0x5e1780;},'sendPasswordResetEmail':()=>Promise[_0x54e2dd(0x291)](),'sendMail':()=>{}};reconfigureServer({'appName':_0x54e2dd(0x241),'verifyUserEmails':!![],'emailAdapter':_0xdb439f,'publicServerURL':'http://localhost:8378/1'})[_0x54e2dd(0x1b9)](()=>{const _0x579ed4=_0x54e2dd;return _0x314376['setPassword'](_0x268d81[_0x579ed4(0xc3)]),_0x314376[_0x579ed4(0xd0)]('user'),_0x314376[_0x579ed4(0x2b0)](_0x268d81[_0x579ed4(0x27a)],_0x579ed4(0x131)),_0x314376[_0x579ed4(0x1ec)]();})[_0x54e2dd(0x1b9)](()=>jasmine[_0x54e2dd(0x119)]())['then'](()=>{const _0x305e5c=_0x54e2dd,_0x27d280={'jRzXE':function(_0x5e2093,_0x57719d){const _0x47ee11=_0x1f35;return _0x268d81[_0x47ee11(0x202)](_0x5e2093,_0x57719d);},'VErPp':function(_0x5a2664,_0x144325){const _0x4e3966=_0x1f35;return _0x268d81[_0x4e3966(0xdf)](_0x5a2664,_0x144325);},'ctSHI':_0x268d81[_0x305e5c(0x23b)],'DYlMB':function(_0x3e1e14,_0x3368ea){return _0x3e1e14(_0x3368ea);},'isCgZ':function(_0x26f021,_0x551572){return _0x26f021===_0x551572;},'MzIRG':function(_0x4b78a2,_0x3b44f0){const _0x5a8e95=_0x305e5c;return _0x268d81[_0x5a8e95(0xdf)](_0x4b78a2,_0x3b44f0);}};_0x268d81['YNbff'](expect,_0x53d604)[_0x305e5c(0x133)][_0x305e5c(0xfe)](),request({'url':_0x53d604[_0x305e5c(0x129)],'followRedirects':![]})[_0x305e5c(0x1b9)](_0x5227d8=>{const _0x22d3bb=_0x305e5c,_0xb7f8cb={'BnXnL':function(_0x170b76){return _0x170b76();},'iJyDH':_0x27d280[_0x22d3bb(0x280)],'QRciP':_0x22d3bb(0x206),'ghfmt':function(_0x3b5a6f,_0x2ba678){const _0x3e1808=_0x22d3bb;return _0x27d280[_0x3e1808(0x13f)](_0x3b5a6f,_0x2ba678);},'JYdhM':_0x22d3bb(0x1fc),'Snghq':_0x22d3bb(0x252),'XhNSN':_0x22d3bb(0x1ee),'YxbSA':function(_0x1857f5,_0x2652a4){return _0x27d280['isCgZ'](_0x1857f5,_0x2652a4);},'rCeFO':_0x22d3bb(0xfc),'UNQJY':function(_0x57c59c){return _0x57c59c();}};expect(_0x5227d8[_0x22d3bb(0x2b5)])['toEqual'](0x12e),_0x27d280[_0x22d3bb(0x293)](expect,_0x5227d8[_0x22d3bb(0x226)])[_0x22d3bb(0xeb)](_0x22d3bb(0x189)),_0x314376['fetch']()[_0x22d3bb(0x1b9)](()=>{const _0x78392a=_0x22d3bb;_0xb7f8cb['iJyDH']!==_0xb7f8cb[_0x78392a(0x175)]?(_0xb7f8cb[_0x78392a(0x18a)](expect,_0x314376[_0x78392a(0x121)](_0xb7f8cb[_0x78392a(0x236)]))['toEqual'](!![]),_0x444461()):(_0x427438(_0x78392a(0x265)),_0xb7f8cb[_0x78392a(0x1f0)](_0x2c62bf));},_0x5319c9=>{const _0x223bf4=_0x22d3bb;_0x27d280[_0x223bf4(0xd4)](jfail,_0x5319c9),_0x27d280[_0x223bf4(0x1bd)](fail,'this\x20should\x20not\x20fail'),_0x444461();})[_0x22d3bb(0x147)](_0x2c58ae=>{const _0x3cb1f6=_0x22d3bb,_0x42880e={'COBbZ':function(_0x3afd32,_0x2366d6){const _0xf98470=_0x1f35;return _0xb7f8cb[_0xf98470(0x18a)](_0x3afd32,_0x2366d6);},'qcgjC':_0xb7f8cb[_0x3cb1f6(0xe4)],'iFDkH':function(_0x2c327c){const _0x230a2b=_0x3cb1f6;return _0xb7f8cb[_0x230a2b(0x1f0)](_0x2c327c);},'YYuJh':_0xb7f8cb[_0x3cb1f6(0x17f)]};_0xb7f8cb['YxbSA'](_0xb7f8cb[_0x3cb1f6(0x1c4)],_0xb7f8cb[_0x3cb1f6(0x1c4)])?(jfail(_0x2c58ae),_0xb7f8cb[_0x3cb1f6(0x246)](_0x444461)):_0x3fb456({'url':_0x42880e[_0x3cb1f6(0x261)],'followRedirects':![]})['then'](_0x32b430=>{const _0x57d610=_0x3cb1f6;_0x42880e[_0x57d610(0x24e)](_0x499235,_0x32b430[_0x57d610(0x2b5)])[_0x57d610(0xeb)](0x12e),_0x3386c8(_0x32b430[_0x57d610(0x226)])[_0x57d610(0xeb)](_0x42880e[_0x57d610(0x118)]),_0x42880e[_0x57d610(0x172)](_0x1e5267);});});});});}),it(_0x575d8a[_0x4f86db(0xf4)],_0x325f55=>{const _0x44774e=_0x4f86db;_0x575d8a[_0x44774e(0x156)](reconfigureServer,{'appName':'emailing\x20app','verifyUserEmails':!![],'emailAdapter':{'sendVerificationEmail':()=>Promise[_0x44774e(0x291)](),'sendPasswordResetEmail':()=>Promise[_0x44774e(0x291)](),'sendMail':()=>{}},'publicServerURL':_0x44774e(0x1fe)})[_0x44774e(0x1b9)](()=>{const _0x187ebf=_0x44774e,_0x575e28={'LVlgD':function(_0x3f6a03,_0x2c3596){return _0x3f6a03(_0x2c3596);},'czTxO':function(_0x5cece4,_0x45ab4c){return _0x5cece4===_0x45ab4c;}};_0x575d8a[_0x187ebf(0x192)](request,{'url':_0x187ebf(0xf5),'followRedirects':![]})[_0x187ebf(0x1b9)](_0x1742a4=>{const _0x35e49a=_0x187ebf,_0x38a546={'hXYyW':function(_0x11b047,_0x11e0d4){const _0x1e6258=_0x1f35;return _0x575e28[_0x1e6258(0x15d)](_0x11b047,_0x11e0d4);}};if(_0x575e28[_0x35e49a(0x140)](_0x35e49a(0x161),_0x35e49a(0x153))){const _0x18cb62=_0x35e49a(0x286)[_0x35e49a(0x19c)]('|');let _0x51bbb9=0x0;while(!![]){switch(_0x18cb62[_0x51bbb9++]){case'0':_0x38a546[_0x35e49a(0x23a)](_0x1bed4f,_0x50f19b[_0x35e49a(0x19d)])['toBeDefined']();continue;case'1':return!![];case'2':_0x131ab6(_0x1cf969[_0x35e49a(0x1b8)])['toBeInstanceOf'](_0x510b60['User']);continue;case'3':_0x403447(_0x56dedc['installationId'])[_0x35e49a(0xd2)]();continue;case'4':_0x3b7db1(_0x3118d6['ip'])[_0x35e49a(0xd2)]();continue;}break;}}else _0x575e28[_0x35e49a(0x15d)](expect,_0x1742a4['status'])[_0x35e49a(0xeb)](0x12e),expect(_0x1742a4['text'])[_0x35e49a(0xeb)](_0x35e49a(0xe5)),_0x325f55();});});}),_0x575d8a[_0x4f86db(0x27c)](it,_0x575d8a[_0x4f86db(0x163)],_0x2e7b2c=>{const _0x5b9141=_0x4f86db;_0x575d8a[_0x5b9141(0x112)](reconfigureServer,{'appName':_0x5b9141(0x241),'verifyUserEmails':!![],'emailAdapter':{'sendVerificationEmail':()=>Promise[_0x5b9141(0x291)](),'sendPasswordResetEmail':()=>Promise[_0x5b9141(0x291)](),'sendMail':()=>{}},'publicServerURL':_0x5b9141(0x1fe)})['then'](()=>{const _0x4f8078=_0x5b9141,_0x33e071={'MDpnF':_0x4f8078(0x252),'GjiXR':function(_0x1746f4){return _0x1746f4();}};_0x575d8a[_0x4f8078(0x156)](request,{'url':_0x4f8078(0x1ee),'followRedirects':![]})[_0x4f8078(0x1b9)](_0x2b5a68=>{const _0x4a5c63=_0x4f8078;expect(_0x2b5a68[_0x4a5c63(0x2b5)])[_0x4a5c63(0xeb)](0x12e),expect(_0x2b5a68[_0x4a5c63(0x226)])[_0x4a5c63(0xeb)](_0x33e071[_0x4a5c63(0x20f)]),_0x33e071[_0x4a5c63(0x19b)](_0x2e7b2c);});});}),_0x575d8a[_0x4f86db(0x274)](it,_0x575d8a['KDHEl'],_0x504d2b=>{const _0x46d555=_0x4f86db,_0x27bf64={'AnYkG':function(_0x2d44c7,_0x3b9451){return _0x2d44c7(_0x3b9451);},'gUoNv':function(_0x5d7a91,_0x5de9a9){return _0x5d7a91(_0x5de9a9);},'suWTB':function(_0x412af7){const _0x5b445f=_0x1f35;return _0x575d8a[_0x5b445f(0x203)](_0x412af7);},'NdMRz':'POST'};reconfigureServer({'appName':_0x575d8a[_0x46d555(0x227)],'verifyUserEmails':!![],'emailAdapter':{'sendVerificationEmail':()=>Promise[_0x46d555(0x291)](),'sendPasswordResetEmail':()=>Promise['resolve'](),'sendMail':()=>{}},'publicServerURL':_0x575d8a[_0x46d555(0x13c)]})[_0x46d555(0x1b9)](()=>{const _0xf86bb6=_0x46d555;request({'url':'http://localhost:8378/1/apps/test/resend_verification_email','method':_0x27bf64[_0xf86bb6(0x13b)],'followRedirects':![],'body':{'username':_0xf86bb6(0x273)}})[_0xf86bb6(0x1b9)](_0x4e498f=>{const _0x459b5c=_0xf86bb6;_0x27bf64[_0x459b5c(0x1e3)](expect,_0x4e498f[_0x459b5c(0x2b5)])['toEqual'](0x12e),_0x27bf64[_0x459b5c(0xc6)](expect,_0x4e498f[_0x459b5c(0x226)])[_0x459b5c(0xeb)]('Found.\x20Redirecting\x20to\x20http://localhost:8378/1/apps/link_send_fail.html'),_0x27bf64['suWTB'](_0x504d2b);});});}),it(_0x4f86db(0x260),_0x26cbfd=>{const _0x486a3b=_0x4f86db,_0x4fa509={'TSwPW':_0x486a3b(0x1b8),'ROqdh':_0x486a3b(0x1fc),'nzfyL':_0x486a3b(0xe9),'yPXpA':function(_0x44f241,_0x14bec6){const _0x462e92=_0x486a3b;return _0x575d8a[_0x462e92(0x10a)](_0x44f241,_0x14bec6);},'pNZWI':_0x486a3b(0x1dc),'WKwLZ':function(_0x176389,_0x3da0f9){return _0x176389(_0x3da0f9);},'HdpOC':_0x575d8a[_0x486a3b(0x1ae)]},_0x4e7eb3=new Parse[(_0x486a3b(0xf6))](),_0x51064e={'sendVerificationEmail':()=>{const _0x368c97=_0x486a3b,_0x269b79={'MBScv':function(_0x41c43f,_0x564964){return _0x41c43f(_0x564964);},'TDIem':_0x4fa509[_0x368c97(0x11f)],'UjMPk':function(_0x4b5005){return _0x4b5005();},'laYOw':_0x4fa509[_0x368c97(0x116)],'ijEJm':_0x4fa509[_0x368c97(0x14b)]};_0x4fa509['yPXpA'](_0x368c97(0x113),_0x4fa509[_0x368c97(0xf7)])?(_0x269b79['MBScv'](_0x1e6041,typeof _0x2f4b1e)[_0x368c97(0xc4)](_0x269b79[_0x368c97(0x22c)]),_0x4dc782(_0x1dff7c['get'](_0x368c97(0x1fc)))[_0x368c97(0xc4)](![]),_0x269b79[_0x368c97(0x1c2)](_0x29c3d4)):_0x4fa509[_0x368c97(0x285)](request,{'url':_0x368c97(0x1f7),'followRedirects':![]})[_0x368c97(0x1b9)](_0x58c2a6=>{const _0x34d98c=_0x368c97;expect(_0x58c2a6[_0x34d98c(0x2b5)])[_0x34d98c(0xeb)](0x12e),_0x269b79[_0x34d98c(0x1b2)](expect,_0x58c2a6[_0x34d98c(0x226)])[_0x34d98c(0xeb)](_0x269b79['ijEJm']),_0x4e7eb3[_0x34d98c(0xd7)]()[_0x34d98c(0x1b9)](()=>{const _0x291e0f=_0x34d98c;expect(_0x4e7eb3[_0x291e0f(0x121)](_0x269b79[_0x291e0f(0x120)]))[_0x291e0f(0xeb)](![]),_0x26cbfd();});});},'sendPasswordResetEmail':()=>Promise[_0x486a3b(0x291)](),'sendMail':()=>{}};_0x575d8a[_0x486a3b(0x1da)](reconfigureServer,{'appName':_0x575d8a[_0x486a3b(0x227)],'verifyUserEmails':!![],'emailAdapter':_0x51064e,'publicServerURL':_0x575d8a[_0x486a3b(0x13c)]})[_0x486a3b(0x1b9)](()=>{const _0x51e482=_0x486a3b;_0x4e7eb3[_0x51e482(0x101)](_0x51e482(0x1a1)),_0x4e7eb3[_0x51e482(0xd0)](_0x575d8a['NIomV']),_0x4e7eb3['set']('email',_0x575d8a[_0x51e482(0x190)]),_0x4e7eb3[_0x51e482(0x1ec)](null,{'success':()=>{},'error':function(){const _0x11eca1=_0x51e482;_0x4fa509[_0x11eca1(0x285)](fail,_0x4fa509[_0x11eca1(0x221)]),_0x26cbfd();}});});}),_0x575d8a[_0x4f86db(0x27c)](it,_0x4f86db(0x176),_0x500cdb=>{const _0x44a93e=_0x4f86db,_0x1f417f={'QsSyK':function(_0xf75152,_0x339de6){return _0xf75152(_0x339de6);},'EhuRG':_0x575d8a['CkjbH'],'vhIbu':'Should\x20not\x20fail\x20requesting\x20a\x20password','mAIzD':_0x575d8a['HjkEk'],'MOpJx':_0x575d8a['LFTjV'],'YCDWG':_0x575d8a['HvTgI'],'pfBXR':_0x575d8a['nWdka']},_0x4371ed=new Parse[(_0x44a93e(0xf6))](),_0x180068={'sendVerificationEmail':()=>Promise['resolve'](),'sendPasswordResetEmail':_0x27e933=>{const _0x29d58b=_0x44a93e;request({'url':_0x27e933[_0x29d58b(0x129)],'followRedirects':![]})[_0x29d58b(0x1b9)](_0x27a933=>{const _0x53e4ff=_0x29d58b;expect(_0x27a933[_0x53e4ff(0x2b5)])['toEqual'](0x12e);const _0xafa0bf=/http:\/\/localhost:8378\/1\/apps\/choose_password\?token=[a-zA-Z0-9]+\&id=test\&/;_0x1f417f[_0x53e4ff(0x1eb)](expect,_0x27a933[_0x53e4ff(0x226)][_0x53e4ff(0xc7)](_0xafa0bf))[_0x53e4ff(0x133)][_0x53e4ff(0xc4)](null),_0x500cdb();});},'sendMail':()=>{}};reconfigureServer({'appName':_0x44a93e(0x241),'verifyUserEmails':!![],'emailAdapter':_0x180068,'publicServerURL':_0x44a93e(0x1fe)})['then'](()=>{const _0x3e225c=_0x44a93e,_0x5c66df={'CTUWI':function(_0x4cedd3,_0x4249e7){const _0x34ecca=_0x1f35;return _0x1f417f[_0x34ecca(0x1eb)](_0x4cedd3,_0x4249e7);},'WKktR':function(_0x270162,_0x2d8b49){return _0x270162===_0x2d8b49;},'eMQqG':_0x3e225c(0x2b4),'tfNQe':_0x3e225c(0x148),'lgNxL':_0x1f417f[_0x3e225c(0x1ab)],'doYhS':function(_0xab6be0){return _0xab6be0();}};_0x1f417f['mAIzD']!==_0x1f417f[_0x3e225c(0x188)]?(_0x4371ed[_0x3e225c(0x101)](_0x3e225c(0x1a1)),_0x4371ed['setUsername'](_0x1f417f[_0x3e225c(0xea)]),_0x4371ed[_0x3e225c(0x2b0)](_0x1f417f[_0x3e225c(0x225)],_0x3e225c(0x131)),_0x4371ed[_0x3e225c(0x1ec)]()['then'](()=>{const _0x3d025c=_0x3e225c;Parse[_0x3d025c(0xf6)][_0x3d025c(0x29a)](_0x1f417f['EhuRG'],{'error':_0x4aa936=>{const _0x55960c=_0x3d025c,_0x1ecca7={'UVFsl':function(_0x331cc6,_0x37c4bf){const _0x4c5815=_0x1f35;return _0x5c66df[_0x4c5815(0xe6)](_0x331cc6,_0x37c4bf);},'QzPqo':_0x55960c(0xe5)};_0x5c66df[_0x55960c(0x29e)](_0x5c66df[_0x55960c(0x2b1)],_0x5c66df['tfNQe'])?(_0x1ecca7[_0x55960c(0x193)](_0x21d3ae,_0x1c31a1[_0x55960c(0x2b5)])[_0x55960c(0xeb)](0x12e),_0x1ecca7['UVFsl'](_0x490771,_0x28eed4[_0x55960c(0x226)])['toEqual'](_0x1ecca7[_0x55960c(0x14f)]),_0x3e28b8()):(_0x5c66df['CTUWI'](jfail,_0x4aa936),fail(_0x5c66df['lgNxL']),_0x5c66df[_0x55960c(0x18e)](_0x500cdb));}});})):(_0x22dc1d(_0x512461[_0x3e225c(0x16d)])[_0x3e225c(0xeb)](0x1),_0x5c66df['CTUWI'](_0x2aafb6,_0x4392d1[0x0][_0x3e225c(0xd6)])[_0x3e225c(0xfe)](),_0x7e160f());});}),it(_0x575d8a[_0x4f86db(0x238)],_0x10467f=>{const _0x5b6eb7=_0x4f86db;_0x575d8a[_0x5b6eb7(0x168)](reconfigureServer,{'appName':_0x575d8a[_0x5b6eb7(0x227)],'verifyUserEmails':!![],'emailAdapter':{'sendVerificationEmail':()=>Promise[_0x5b6eb7(0x291)](),'sendPasswordResetEmail':()=>Promise[_0x5b6eb7(0x291)](),'sendMail':()=>{}},'publicServerURL':_0x575d8a['JCAYb']})[_0x5b6eb7(0x1b9)](()=>{const _0x5d0170=_0x5b6eb7,_0x1eb05c={'KZcwm':function(_0x3bcb4f,_0x4a34eb){const _0x23afc9=_0x1f35;return _0x575d8a[_0x23afc9(0x14a)](_0x3bcb4f,_0x4a34eb);},'jcNLz':function(_0x48dd08,_0x41ead2){return _0x48dd08(_0x41ead2);},'oIkrp':_0x575d8a[_0x5d0170(0xc8)]};_0x575d8a[_0x5d0170(0xba)](request,{'url':_0x5d0170(0x1b1),'followRedirects':![]})[_0x5d0170(0x1b9)](_0x557a69=>{const _0x53fb95=_0x5d0170;_0x1eb05c[_0x53fb95(0x152)](expect,_0x557a69[_0x53fb95(0x2b5)])[_0x53fb95(0xeb)](0x12e),_0x1eb05c[_0x53fb95(0x1df)](expect,_0x557a69[_0x53fb95(0x226)])[_0x53fb95(0xeb)](_0x1eb05c[_0x53fb95(0x1e6)]),_0x10467f();});});}),it(_0x4f86db(0x247),_0x2b6e4c=>{const _0x38b06b=_0x4f86db,_0x1c3e9e={'Ybtqb':_0x38b06b(0x131),'EBjAD':'email','WhRND':_0x38b06b(0x234),'WTUEr':_0x575d8a[_0x38b06b(0x13e)],'kVgZz':_0x38b06b(0xf0),'CWizM':function(_0x2af5e2,_0x2755c5){const _0x27aee5=_0x38b06b;return _0x575d8a[_0x27aee5(0x1e1)](_0x2af5e2,_0x2755c5);},'mZiQT':_0x575d8a[_0x38b06b(0x211)],'bQPtD':function(_0x481c31){const _0x2d28e6=_0x38b06b;return _0x575d8a[_0x2d28e6(0xed)](_0x481c31);},'pieKg':_0x38b06b(0x178),'ECDRS':_0x575d8a['dEbOL']},_0x4ec007=new Parse[(_0x38b06b(0xf6))](),_0x17f713={'sendVerificationEmail':()=>Promise[_0x38b06b(0x291)](),'sendPasswordResetEmail':_0x458216=>{const _0x289253=_0x38b06b,_0x4dcf7a={'IpGca':function(_0x16603e){const _0x38f6d1=_0x1f35;return _0x575d8a[_0x38f6d1(0x183)](_0x16603e);},'ozFpd':_0x575d8a[_0x289253(0x1cf)],'MtHEd':function(_0x398565){const _0xc250c8=_0x289253;return _0x575d8a[_0xc250c8(0x248)](_0x398565);},'vScXc':_0x575d8a[_0x289253(0x1ad)],'zlFKI':'testInvalidConfig@parse.com'};if(_0x575d8a[_0x289253(0xe3)]===_0x575d8a['FxxIA']){const _0x4f009c={'Sxvhs':_0x4dcf7a[_0x289253(0x160)],'XGMZl':function(_0x50423e){return _0x4dcf7a['MtHEd'](_0x50423e);}},_0x19ad75=new _0x512060['User']();_0x19ad75[_0x289253(0x101)](_0x289253(0x1a1)),_0x19ad75['setUsername'](_0x289253(0x151)),_0x19ad75[_0x289253(0x2b0)](_0x4dcf7a['vScXc'],_0x4dcf7a[_0x289253(0x1c1)]),_0x19ad75[_0x289253(0x1ec)](null)['then'](()=>_0xfb9e4e[_0x289253(0xf6)][_0x289253(0x29a)](_0x289253(0x130)))[_0x289253(0x1b9)](()=>{const _0x495c04=_0x289253;_0x3150a6(_0x4f009c[_0x495c04(0x27d)]),_0x4f009c[_0x495c04(0x177)](_0x44c472);},_0x477191=>{const _0x5e795e=_0x289253;_0x384847(_0x477191[_0x5e795e(0x14e)])['toEqual'](_0x5e795e(0x1f6)),_0x4dcf7a[_0x5e795e(0x12c)](_0x10edc4);});}else _0x575d8a[_0x289253(0x1e1)](request,{'url':_0x458216[_0x289253(0x129)],'followRedirects':![]})[_0x289253(0x1b9)](_0x344a16=>{const _0x19b024=_0x289253,_0xb8c344={'NjYPU':_0x1c3e9e[_0x19b024(0x2a5)],'vNjVM':_0x1c3e9e['EBjAD'],'Eqzkz':'pJJzD','vYgDf':_0x1c3e9e['WhRND'],'YhAWG':function(_0x40fa25,_0x5b4fe7){return _0x40fa25(_0x5b4fe7);},'meeEE':_0x1c3e9e[_0x19b024(0xec)],'XSfrp':_0x1c3e9e[_0x19b024(0x187)]};_0x1c3e9e['CWizM'](expect,_0x344a16['status'])[_0x19b024(0xeb)](0x12e);const _0x1557bd=/http:\/\/localhost:8378\/1\/apps\/choose_password\?token=([a-zA-Z0-9]+)\&id=test\&/,_0x442c2a=_0x344a16[_0x19b024(0x226)]['match'](_0x1557bd);if(!_0x442c2a){fail(_0x1c3e9e[_0x19b024(0x146)]),_0x1c3e9e[_0x19b024(0x27b)](_0x2b6e4c);return;}const _0x31911a=_0x442c2a[0x1];request({'url':_0x1c3e9e['pieKg'],'method':'POST','body':{'new_password':_0x1c3e9e['kVgZz'],'token':_0x31911a,'username':_0x19b024(0x151)},'headers':{'Content-Type':_0x1c3e9e[_0x19b024(0x1d0)]},'followRedirects':![]})[_0x19b024(0x1b9)](_0x4f0d38=>{const _0x4853b3=_0x19b024,_0x10287c={'tpRGL':_0xb8c344[_0x4853b3(0x29f)],'cweLv':_0xb8c344[_0x4853b3(0x195)],'KYgTj':function(_0x4cdea3,_0x291f5a){return _0x4cdea3(_0x291f5a);},'mCwnw':function(_0x4cf8b9,_0x47c24b){return _0x4cf8b9(_0x47c24b);},'vIgup':'_perishable_token','cEUkT':'CQhTA','upbwi':_0xb8c344[_0x4853b3(0x1d4)],'BuiEg':_0xb8c344[_0x4853b3(0x19f)]};expect(_0x4f0d38[_0x4853b3(0x2b5)])[_0x4853b3(0xeb)](0x12e),_0xb8c344['YhAWG'](expect,_0x4f0d38[_0x4853b3(0x226)])[_0x4853b3(0xeb)](_0xb8c344['meeEE']),Parse[_0x4853b3(0xf6)][_0x4853b3(0x24a)](_0x4853b3(0x151),_0xb8c344[_0x4853b3(0x1de)])[_0x4853b3(0x1b9)](function(){const _0x48c536=_0x4853b3,_0x1816ff={'Kztgm':_0x10287c['tpRGL'],'NyMyu':_0x48c536(0xcf),'lfdYJ':_0x10287c[_0x48c536(0xd1)],'SVmRH':function(_0x511e63,_0x5e7e39){const _0x48b7e6=_0x48c536;return _0x10287c[_0x48b7e6(0x2a3)](_0x511e63,_0x5e7e39);},'YtWUb':function(_0x5bcc34,_0x509210){const _0x52c32f=_0x48c536;return _0x10287c[_0x52c32f(0x29b)](_0x5bcc34,_0x509210);},'tiGlA':_0x10287c[_0x48c536(0x1bc)]};if(_0x10287c[_0x48c536(0x268)]===_0x10287c[_0x48c536(0x149)])_0x116e42['setPassword'](_0x48c536(0x1a1)),_0x2ad827[_0x48c536(0xd0)](_0x1816ff[_0x48c536(0x28b)]),_0x421c82['set'](_0x1816ff[_0x48c536(0x170)],_0x48c536(0x131)),_0x5e0910['signUp']()[_0x48c536(0x1b9)](()=>{const _0x2aa631=_0x48c536,_0x5c4f8b={'RNifk':'Should\x20not\x20fail','dbtSX':function(_0x4584ef){return _0x4584ef();}};_0x5dcfbe[_0x2aa631(0xf6)][_0x2aa631(0x29a)](_0x1816ff[_0x2aa631(0x197)],{'error':_0x91eda7=>{const _0x3eb45a=_0x2aa631;_0x4b5c43(_0x91eda7),_0x1921da(_0x5c4f8b[_0x3eb45a(0xe2)]),_0x5c4f8b[_0x3eb45a(0x228)](_0x15948d);}});});else{const _0x4ab2bb=Config['get'](_0x48c536(0x16e));_0x4ab2bb[_0x48c536(0x278)][_0x48c536(0xdc)]['find'](_0x10287c[_0x48c536(0x244)],{'fields':{}},{'username':_0x48c536(0x151)},{'limit':0x1})[_0x48c536(0x1b9)](_0x417a6a=>{const _0x33b15b=_0x48c536;_0x1816ff[_0x33b15b(0x22b)](expect,_0x417a6a[_0x33b15b(0x16d)])[_0x33b15b(0xeb)](0x1),_0x1816ff[_0x33b15b(0x239)](expect,_0x417a6a[0x0][_0x1816ff[_0x33b15b(0x281)]])[_0x33b15b(0xeb)](undefined),_0x2b6e4c();});}},_0x4892d4=>{const _0x592ac6=_0x4853b3;jfail(_0x4892d4),fail(_0x592ac6(0x1d5)),_0x2b6e4c();});});});},'sendMail':()=>{}};_0x575d8a[_0x38b06b(0xee)](reconfigureServer,{'appName':'emailing\x20app','verifyUserEmails':!![],'emailAdapter':_0x17f713,'publicServerURL':_0x575d8a['JCAYb']})[_0x38b06b(0x1b9)](()=>{const _0x12e350=_0x38b06b,_0x3ad751={'YMMWt':function(_0x145ce5,_0x19b752){const _0x503b64=_0x1f35;return _0x575d8a[_0x503b64(0x215)](_0x145ce5,_0x19b752);}};_0x4ec007[_0x12e350(0x101)](_0x575d8a[_0x12e350(0x1c0)]),_0x4ec007[_0x12e350(0xd0)](_0x575d8a[_0x12e350(0x1aa)]),_0x4ec007[_0x12e350(0x2b0)](_0x575d8a['nWdka'],_0x12e350(0x131)),_0x4ec007[_0x12e350(0x1ec)]()[_0x12e350(0x1b9)](()=>{const _0x2c1ef5=_0x12e350;Parse['User'][_0x2c1ef5(0x29a)]('user@parse.com',{'error':_0x5f1fc3=>{const _0x23807a=_0x2c1ef5;_0x3ad751[_0x23807a(0x145)](jfail,_0x5f1fc3),fail(_0x23807a(0xbf)),_0x2b6e4c();}});});});}),_0x575d8a[_0x4f86db(0x27c)](it,_0x575d8a[_0x4f86db(0x1f9)],_0x13ab3b=>{const _0x48c725=_0x4f86db,_0x13ab8d={'VmjgV':function(_0x2466cb,_0x2b1aa5){return _0x2466cb(_0x2b1aa5);},'lpqMO':_0x575d8a[_0x48c725(0x13e)],'BMcdM':'hello','qgKjX':_0x575d8a[_0x48c725(0x198)]},_0x7bdc18=new Parse[(_0x48c725(0xf6))](),_0x49c6da={'sendVerificationEmail':()=>Promise[_0x48c725(0x291)](),'sendPasswordResetEmail':_0x552f27=>{const _0x582557=_0x48c725;request({'url':_0x552f27[_0x582557(0x129)],'followRedirects':![]})[_0x582557(0x1b9)](_0x347541=>{const _0x460a82=_0x582557,_0x520cab={'vJFOu':function(_0x361e95,_0x59bd36){const _0x35f3b7=_0x1f35;return _0x13ab8d[_0x35f3b7(0x1ac)](_0x361e95,_0x59bd36);},'rMzUz':_0x13ab8d[_0x460a82(0x12f)]};_0x13ab8d[_0x460a82(0x1ac)](expect,_0x347541[_0x460a82(0x2b5)])[_0x460a82(0xeb)](0x12e);const _0x4406a7=/http:\/\/localhost:8378\/1\/apps\/choose_password\?token=([a-zA-Z0-9]+)\&id=test\&/,_0x524f59=_0x347541[_0x460a82(0x226)][_0x460a82(0xc7)](_0x4406a7);if(!_0x524f59){_0x13ab8d[_0x460a82(0x1ac)](fail,'should\x20have\x20a\x20token'),_0x13ab3b();return;}const _0x1056bb=_0x524f59[0x1];_0x13ab8d[_0x460a82(0x1ac)](request,{'url':_0x460a82(0x178),'method':_0x460a82(0x1af),'body':{'new_password':_0x13ab8d['BMcdM'],'token':_0x1056bb,'username':_0x13ab8d[_0x460a82(0x270)]},'headers':{'Content-Type':_0x460a82(0x29d)},'followRedirects':![]})['then'](_0x26f999=>{const _0x5c1735=_0x460a82;expect(_0x26f999['status'])[_0x5c1735(0xeb)](0x12e),_0x520cab['vJFOu'](expect,_0x26f999['text'])[_0x5c1735(0xeb)](_0x520cab[_0x5c1735(0x106)]),_0x13ab3b();});});},'sendMail':()=>{}};_0x575d8a['HdfXT'](reconfigureServer,{'appName':_0x575d8a[_0x48c725(0x227)],'verifyUserEmails':!![],'emailAdapter':_0x49c6da,'publicServerURL':_0x575d8a[_0x48c725(0x13c)]})[_0x48c725(0x1b9)](()=>{const _0x5158be=_0x48c725,_0x117101={'ASmau':_0x575d8a[_0x5158be(0xe0)],'JQkmW':function(_0x3a5964){return _0x3a5964();},'SJhFz':function(_0x5dd329,_0x59e094){return _0x5dd329!==_0x59e094;},'bkjqS':_0x5158be(0x249)};_0x7bdc18[_0x5158be(0x101)](_0x575d8a['mmHtv']),_0x7bdc18[_0x5158be(0xd0)](_0x5158be(0xcf)),_0x7bdc18[_0x5158be(0x2b0)](_0x575d8a['nWdka'],_0x5158be(0x131)),_0x7bdc18[_0x5158be(0x1ec)]()[_0x5158be(0x1b9)](()=>{const _0x1f9271=_0x5158be;if(_0x117101['SJhFz'](_0x1f9271(0x249),_0x117101[_0x1f9271(0x155)]))return _0x5d5119[_0x1f9271(0xd7)]();else Parse[_0x1f9271(0xf6)][_0x1f9271(0x29a)]('user@parse.com',{'error':_0x2fd0ec=>{const _0x2ea35a=_0x1f9271;jfail(_0x2fd0ec),fail(_0x117101[_0x2ea35a(0x10e)]),_0x117101[_0x2ea35a(0x144)](_0x13ab3b);}});});});}),it(_0x575d8a['spTis'],async _0x86ac5a=>{const _0x132829=_0x4f86db,_0xb3ac45={'pGMwc':function(_0x2efe06,_0x21be95){const _0x188d44=_0x1f35;return _0x575d8a[_0x188d44(0x218)](_0x2efe06,_0x21be95);},'LyUYH':function(_0xc8ff6,_0x22eb66){return _0xc8ff6(_0x22eb66);},'uxBkj':'should\x20have\x20a\x20token','ChpyN':'http://localhost:8378/1/apps/test/request_password_reset','twsSh':_0x132829(0x151),'LCLPL':_0x132829(0x23d),'hduOZ':_0x575d8a[_0x132829(0x1d6)],'aLSgg':_0x575d8a['pATfD'],'aWVwR':_0x132829(0x234)},_0x3b1496=new Parse['User'](),_0x286c76={'sendVerificationEmail':()=>Promise[_0x132829(0x291)](),'sendPasswordResetEmail':async _0x1a5974=>{const _0x5df63b=_0x132829,_0x398e5b=await _0xb3ac45['pGMwc'](request,{'url':_0x1a5974[_0x5df63b(0x129)],'followRedirects':![]});_0xb3ac45[_0x5df63b(0x2a7)](expect,_0x398e5b[_0x5df63b(0x2b5)])[_0x5df63b(0xeb)](0x12e);const _0x51f39b=/http:\/\/localhost:8378\/1\/apps\/choose_password\?token=([a-zA-Z0-9]+)\&id=test\&/,_0x1bfadc=_0x398e5b[_0x5df63b(0x226)]['match'](_0x51f39b);if(!_0x1bfadc){_0xb3ac45[_0x5df63b(0x1d8)](fail,_0xb3ac45[_0x5df63b(0x185)]);return;}const _0x347c8b=_0x1bfadc[0x1],_0x3aa9a3=await _0xb3ac45[_0x5df63b(0x2a7)](request,{'url':_0xb3ac45['ChpyN'],'method':'POST','body':{'new_password':_0x5df63b(0xf0),'token':_0x347c8b,'username':_0xb3ac45['twsSh']},'headers':{'Content-Type':_0x5df63b(0x29d),'X-Requested-With':_0xb3ac45['LCLPL']},'followRedirects':![]});expect(_0x3aa9a3[_0x5df63b(0x2b5)])['toEqual'](0xc8),_0xb3ac45[_0x5df63b(0x1d8)](expect,_0x3aa9a3[_0x5df63b(0x226)])['toEqual'](_0x5df63b(0x200)),await Parse[_0x5df63b(0xf6)]['logIn'](_0xb3ac45[_0x5df63b(0x1d2)],_0xb3ac45[_0x5df63b(0x20a)]);const _0x3938a7=Config[_0x5df63b(0x121)](_0xb3ac45[_0x5df63b(0x18c)]),_0x40c9de=await _0x3938a7['database'][_0x5df63b(0xdc)][_0x5df63b(0x182)](_0xb3ac45[_0x5df63b(0x16a)],{'fields':{}},{'username':_0x5df63b(0x151)},{'limit':0x1});expect(_0x40c9de[_0x5df63b(0x16d)])['toEqual'](0x1),expect(_0x40c9de[0x0]['_perishable_token'])[_0x5df63b(0xeb)](undefined),_0x86ac5a();},'sendMail':()=>{}};await _0x575d8a[_0x132829(0x218)](reconfigureServer,{'appName':_0x575d8a[_0x132829(0x227)],'verifyUserEmails':!![],'emailAdapter':_0x286c76,'publicServerURL':_0x132829(0x1fe)}),_0x3b1496['setPassword'](_0x132829(0x1a1)),_0x3b1496['setUsername'](_0x132829(0x151)),_0x3b1496[_0x132829(0x2b0)](_0x575d8a[_0x132829(0x1ad)],_0x575d8a[_0x132829(0x190)]),await _0x3b1496[_0x132829(0x1ec)](),await Parse[_0x132829(0xf6)][_0x132829(0x29a)](_0x132829(0x131));}),_0x575d8a[_0x4f86db(0x21f)](it,_0x575d8a[_0x4f86db(0x24b)],async()=>{const _0x4b1640=_0x4f86db,_0x4c86a1={'OxLie':function(_0xdad7c0){const _0x382d6f=_0x1f35;return _0x575d8a[_0x382d6f(0x209)](_0xdad7c0);}};await reconfigureServer({'publicServerURL':_0x4b1640(0x1fe)});try{_0x575d8a[_0x4b1640(0x212)](_0x4b1640(0x22a),_0x4b1640(0x22a))?(_0x53da25(_0x182a3f[_0x4b1640(0x14e)])[_0x4b1640(0xeb)](_0x4b1640(0x1f6)),_0x4c86a1['OxLie'](_0x2f9c7a)):await request({'method':_0x575d8a[_0x4b1640(0xd9)],'url':_0x575d8a['Nkkwf'],'body':_0x4b1640(0x173),'headers':{'Content-Type':_0x4b1640(0x29d),'X-Requested-With':_0x4b1640(0x23d)},'followRedirects':![]});}catch(_0x76d8b0){_0x575d8a['hBsDv'](_0x575d8a[_0x4b1640(0x12b)],_0x4b1640(0x290))?(_0x575d8a['qosfp'](_0x38eafa,_0x388c2f['length'])[_0x4b1640(0xeb)](0x1),_0xe7025(_0x40fa89[0x0]['_perishable_token'])[_0x4b1640(0xeb)](_0x1492c1),_0x5a5f26()):(_0x575d8a[_0x4b1640(0x259)](expect,_0x76d8b0[_0x4b1640(0x2b5)])[_0x4b1640(0x133)][_0x4b1640(0xc4)](0x12e),_0x575d8a['vBPkz'](expect,_0x76d8b0[_0x4b1640(0x226)])[_0x4b1640(0xeb)](_0x4b1640(0x205)));}}),_0x575d8a[_0x4f86db(0x14c)](it,_0x575d8a[_0x4f86db(0x18f)],_0x22ba61=>{const _0xa6eff3=_0x4f86db,_0x3905f2={'nMqBr':function(_0xc5793e,_0x4c3809){const _0xe3376=_0x1f35;return _0x575d8a[_0xe3376(0x218)](_0xc5793e,_0x4c3809);},'VwiVf':_0xa6eff3(0xd6),'BnxPV':_0x575d8a[_0xa6eff3(0x269)],'QrTRK':_0x575d8a[_0xa6eff3(0x1aa)],'tICZp':_0xa6eff3(0x1a3)};reconfigureServer({'appName':'coolapp','publicServerURL':_0x575d8a[_0xa6eff3(0x162)],'emailAdapter':MockEmailAdapterWithOptions({'fromAddress':_0x575d8a['OLtlF'],'apiKey':'k','domain':'d'})})[_0xa6eff3(0x1b9)](()=>{const _0x41e075=_0xa6eff3,_0x399289=Config[_0x41e075(0x121)](_0x3905f2['BnxPV']),_0x2017a9=new Parse['User']();return _0x2017a9[_0x41e075(0x101)](_0x41e075(0x1a1)),_0x2017a9['setUsername'](_0x3905f2[_0x41e075(0x230)]),_0x2017a9[_0x41e075(0x2b0)](_0x3905f2['tICZp'],_0x41e075(0x28f)),_0x2017a9[_0x41e075(0x1ec)](null)['then'](()=>Parse['User'][_0x41e075(0x29a)](_0x41e075(0x28f)))[_0x41e075(0x1b9)](()=>_0x399289[_0x41e075(0x278)][_0x41e075(0xdc)][_0x41e075(0x182)]('_User',{'fields':{}},{'username':_0x41e075(0x151)},{'limit':0x1}))[_0x41e075(0x1b9)](_0x57a326=>{const _0x100372=_0x41e075;return expect(_0x57a326[_0x100372(0x16d)])[_0x100372(0xeb)](0x1),expect(_0x57a326[0x0]['_perishable_token'])[_0x100372(0x133)][_0x100372(0x289)](),_0x2017a9[_0x100372(0x2b0)](_0x100372(0x1a3),_0x100372(0x1e5)),_0x2017a9[_0x100372(0x1e4)]();})['then'](()=>_0x399289[_0x41e075(0x278)][_0x41e075(0xdc)][_0x41e075(0x182)](_0x41e075(0x234),{'fields':{}},{'username':_0x41e075(0x151)},{'limit':0x1}))[_0x41e075(0x1b9)](_0x3a463e=>{const _0xf5cabc=_0x41e075;_0x3905f2[_0xf5cabc(0x233)](expect,_0x3a463e[_0xf5cabc(0x16d)])['toEqual'](0x1),_0x3905f2[_0xf5cabc(0x233)](expect,_0x3a463e[0x0][_0x3905f2[_0xf5cabc(0xd5)]])[_0xf5cabc(0xfe)](),_0x22ba61();});})[_0xa6eff3(0x147)](_0x2565a7=>{const _0x4c41bb=_0xa6eff3;_0x575d8a[_0x4c41bb(0x22d)](fail,JSON[_0x4c41bb(0x1e2)](_0x2565a7)),_0x575d8a[_0x4c41bb(0x125)](_0x22ba61);});}),_0x575d8a[_0x4f86db(0x105)](it,_0x4f86db(0x1ea),async()=>{const _0x23dce2=_0x4f86db,_0x5fe4b8=new Parse[(_0x23dce2(0xf6))](),_0x4f7def={'sendVerificationEmail':()=>{},'sendPasswordResetEmail':()=>Promise[_0x23dce2(0x291)](),'sendMail':()=>{}};await reconfigureServer({'appName':_0x575d8a[_0x23dce2(0x1fa)],'verifyUserEmails':!![],'emailAdapter':_0x4f7def,'emailVerifyTokenValidityDuration':0x5,'publicServerURL':'http://localhost:8378/1','passwordPolicy':{'resetTokenValidityDuration':_0x575d8a[_0x23dce2(0x295)](0x5,0x3c)},'silent':![]}),_0x5fe4b8['setUsername'](_0x575d8a[_0x23dce2(0x269)]),_0x5fe4b8[_0x23dce2(0x101)](_0x575d8a[_0x23dce2(0x240)]),_0x5fe4b8[_0x23dce2(0x2b0)](_0x575d8a['nWdka'],_0x575d8a[_0x23dce2(0x283)]),await _0x5fe4b8[_0x23dce2(0x1ec)](),await Parse['User'][_0x23dce2(0x29a)](_0x23dce2(0x12a)),await Parse[_0x23dce2(0x208)][_0x23dce2(0x278)][_0x23dce2(0x2a8)](_0x575d8a[_0x23dce2(0x1c6)],{'objectId':_0x5fe4b8['id']},{'_perishable_token_expires_at':Parse[_0x23dce2(0xcc)](new Date(_0x23dce2(0x23c)))});let _0x44951b=await Parse[_0x23dce2(0x208)][_0x23dce2(0x278)]['find'](_0x23dce2(0x234),{'objectId':_0x5fe4b8['id']},{},Auth['maintenance'](Parse[_0x23dce2(0x208)]));const _0x17f3f8=_0x44951b[0x0][_0x23dce2(0xd6)],_0x1befbd=await _0x575d8a[_0x23dce2(0x19e)](request,{'url':'http://localhost:8378/1/apps/test/request_password_reset','method':_0x23dce2(0x1af),'body':{'token':_0x17f3f8,'new_password':_0x575d8a[_0x23dce2(0x220)]}});_0x575d8a[_0x23dce2(0x154)](expect,_0x1befbd[_0x23dce2(0x226)])['toEqual'](_0x23dce2(0x2ab)+_0x17f3f8),await _0x575d8a[_0x23dce2(0x25c)](request,{'url':_0x23dce2(0x25e),'method':_0x23dce2(0x1af),'body':{'token':_0x17f3f8},'headers':{'X-Parse-Application-Id':'test','X-Parse-REST-API-Key':_0x23dce2(0xc1),'Content-Type':_0x23dce2(0x10d)}}),_0x44951b=await Parse[_0x23dce2(0x208)][_0x23dce2(0x278)]['find'](_0x23dce2(0x234),{'objectId':_0x5fe4b8['id']},{},Auth[_0x23dce2(0x25b)](Parse['Server'])),_0x575d8a[_0x23dce2(0xf9)](expect,_0x44951b[_0x23dce2(0xd6)])[_0x23dce2(0x133)]['toBe'](_0x17f3f8);}),_0x575d8a[_0x4f86db(0x27c)](it,_0x575d8a[_0x4f86db(0x16f)],async()=>{const _0x5cb38b=_0x4f86db;await _0x575d8a[_0x5cb38b(0xee)](reconfigureServer,{'appName':_0x575d8a[_0x5cb38b(0xbe)],'publicServerURL':_0x5cb38b(0x21c),'emailAdapter':MockEmailAdapterWithOptions({'fromAddress':_0x575d8a[_0x5cb38b(0x1d1)],'apiKey':'k','domain':'d'}),'passwordPolicy':{'resetPasswordSuccessOnInvalidEmail':![]}}),await _0x575d8a[_0x5cb38b(0x134)](expectAsync,Parse[_0x5cb38b(0xf6)][_0x5cb38b(0x29a)](_0x575d8a[_0x5cb38b(0xff)]))['toBeRejectedWith'](new Parse['Error'](Parse[_0x5cb38b(0x127)][_0x5cb38b(0x255)],_0x5cb38b(0x17d)));}),it(_0x4f86db(0x219),async()=>{const _0x341ed2=_0x4f86db,_0x2a1e08={'izRjM':function(_0x4ad5c8,_0x8d06e0){const _0x18826e=_0x1f35;return _0x575d8a[_0x18826e(0x199)](_0x4ad5c8,_0x8d06e0);},'ahPLG':function(_0x3df93c){const _0x46778e=_0x1f35;return _0x575d8a[_0x46778e(0x203)](_0x3df93c);},'Gkafy':_0x575d8a['pATfD'],'uaYul':_0x575d8a[_0x341ed2(0x1c6)]},_0x4b9146=[[],{},0x1,_0x575d8a[_0x341ed2(0x10f)]];for(const _0x2106df of _0x4b9146){if(_0x341ed2(0x13a)===_0x575d8a[_0x341ed2(0x1d9)])await expectAsync(_0x575d8a[_0x341ed2(0x154)](reconfigureServer,{'appName':'coolapp','publicServerURL':_0x341ed2(0x21c),'emailAdapter':MockEmailAdapterWithOptions({'fromAddress':_0x341ed2(0x20c),'apiKey':'k','domain':'d'}),'passwordPolicy':{'resetPasswordSuccessOnInvalidEmail':_0x2106df}}))[_0x341ed2(0x180)](_0x575d8a['DWbWJ']);else{const _0x5b6b3e=_0x238540[_0x341ed2(0x121)](_0x2a1e08[_0x341ed2(0x279)]);_0x5b6b3e['database'][_0x341ed2(0xdc)]['find'](_0x2a1e08['uaYul'],{'fields':{}},{'username':_0x341ed2(0x151)},{'limit':0x1})[_0x341ed2(0x1b9)](_0x1524d0=>{const _0x25519c=_0x341ed2;_0x2a1e08[_0x25519c(0xce)](_0x31a35f,_0x1524d0[_0x25519c(0x16d)])[_0x25519c(0xeb)](0x1),_0x2a1e08[_0x25519c(0xce)](_0xf3ab31,_0x1524d0[0x0]['_perishable_token'])[_0x25519c(0xeb)](_0x4ae037),_0x2a1e08[_0x25519c(0x1a2)](_0x34d587);});}}});});