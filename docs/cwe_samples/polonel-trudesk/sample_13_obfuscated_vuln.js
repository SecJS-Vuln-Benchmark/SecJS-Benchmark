function _0x453b(_0x567fba,_0x4744fe){const _0x390968=_0x3909();return _0x453b=function(_0x453ba1,_0x684b06){_0x453ba1=_0x453ba1-0x1f1;let _0x143c23=_0x390968[_0x453ba1];return _0x143c23;},_0x453b(_0x567fba,_0x4744fe);}const _0xdac6a3=_0x453b;function _0x3909(){const _0x5aa201=['gJwNa','toLowerCase','1656981CoXmUv','Access-Control-Allow-Origin','0.0.0.0/0','should\x20succeed\x20if\x20the\x20ip\x20does\x20belong\x20to\x20masterKeyIps\x20list','VdJqY','yeOOJ','allowAllIpv6','PcWgY','21ozRgme','Vqgfa','Header-1,\x20Header-2','Vpixp','zrYxH','2001:0db8:85a3:0000:0000:8a2e:0370:7334','2xjYgGh','auth','GOBou','ShFMQ','yLwEi','Yvnlq','OCDlF','toEqual','should\x20give\x20invalid\x20response\x20when\x20keys\x20are\x20configured\x20but\x20supplied\x20key\x20is\x20incorrect','punoU','0.0.0.0','kTKrz','QLWvF','gKRyQ','AnCIH','::ffff:101.10.0.1','toBe','_ApplicationId','reset','callThrough','../lib/middlewares','settings','image/jpeg','192.168.0.0/24','TGhro','WejkZ','should\x20succeed\x20when\x20client\x20key\x20supplied\x20but\x20empty','KNKlI','origin','tasAT','should\x20match\x20address','catch','StBOi','unmQC','KPMux','should\x20match\x20address\x20with\x20cache','and','10.0.0.2','check','xJGpP','zTxqI','iGeJu','2b251fd4-d43c-48f4-ada9-c8458e40c12a','should\x20support\x20multiple\x20origins\x20if\x20several\x20are\x20defined\x20in\x20allowOrigin\x20as\x20an\x20array','OxxBV','\x20into\x20req.info','kKpwh','HMosT','frDfq','eojEi','HlXHt','nnSuT','YOlnN','masterKey','lqbco','headers','../lib/logger','http://example.com/','ptqzH','2001:db8:85a3:0:0:8a2e:0:0/100','Header-1','2f7fadec-a87c-4626-90d1-65c75653aea9','CHvGD','SGpEe','fakeRes','allowCrossDomain','BfLxe','4a0bce41-c536-4482-a873-12ed023380e2','192.168.0.101','AppCache','parent','can\x20set\x20trust\x20proxy','https://a.com','JreEz','end','1093692BmwSPI','16NDcAsj','content-type','should\x20properly\x20expose\x20the\x20headers','x-parse-rest-api-key','restAPIKey','TrmxU','body','QCKoR','RbSeJ','JXPXK','GVpxi','ULUoH','handleParseHeaders','should\x20give\x20invalid\x20response\x20when\x20upload\x20file\x20without\x20x-parse-application-id\x20in\x20header','fake-user','Header-2','foDjp','igzyh','VApCC','should\x20give\x20invalid\x20response\x20when\x20keys\x20are\x20configured\x20but\x20no\x20key\x20supplied','1224630qXGWyq','oCWWW','https://b.com','should\x20use\x20user\x20provided\x20on\x20field\x20userFromJWT','length','GyfVn','IPrVJ','zRnaE','toHaveBeenCalledWith','65534HaLFvP','should\x20succeed\x20when\x20no\x20keys\x20are\x20configured\x20and\x20none\x20supplied','UZACU','jlNzI','info','should\x20succeed\x20when\x20any\x20one\x20of\x20the\x20configured\x20keys\x20supplied','not','xsQIm','amEfZ','ayiHx','::1','10.0.0.0','NAyoH','_SessionToken','keys','trust\x20proxy','calls','should\x20give\x20invalid\x20response\x20when\x20keys\x20are\x20configured\x20but\x20different\x20key\x20is\x20supplied','kzTbc','https://unauthorized.com','ESICJ','kLzho','should\x20not\x20succeed\x20and\x20log\x20if\x20the\x20ip\x20does\x20not\x20belong\x20to\x20maintenanceKeyIps\x20list','utFvu','CBneb','message','lQzCa','ICBYv','Request\x20using\x20maintenance\x20key\x20rejected\x20as\x20the\x20request\x20IP\x20address\x20\x2710.0.0.2\x27\x20is\x20not\x20set\x20in\x20Parse\x20Server\x20option\x20\x27maintenanceKeyIps\x27.','gJozF','unauthorized','_ContentType','KYTLH','Access-Control-Allow-Headers','get','123.123.123.123','Access-Control-Expose-Headers','X-Parse-Job-Status-Id,\x20X-Parse-Push-Status-Id','qtOnl','SSTJP','error','should\x20use\x20_ContentType\x20if\x20provided','oGgbG','JmxMc','ekcOs','https://c.com','del','status','IoUtH','userFromJWT','1904320bLSLni','_MasterKey','x-parse-maintenance-key','127.0.0.1','../lib/cache','LZbgg','FwURZ','middlewares','DEFAULT_ALLOWED_HEADERS','toHaveBeenCalled','zIAxP','isMaster','yBFMU','http://example.com/parse/','x-parse-client-key','_InstallationId','TRLft','wrongKey','forEach','1987516mxfKgF','createSpyObj','checkIp','1186740yHssRe','ilaJG','EprTI','_ClientVersion','callFake','put','DBOAh','toHaveBeenCalledTimes','should\x20set\x20default\x20Access-Control-Allow-Origin\x20if\x20allowOrigin\x20is\x20empty','from','BFiQw','clientKey','hmBTe','jexKJ','toContain','filter','should\x20not\x20succeed\x20and\x20log\x20if\x20the\x20ip\x20does\x20not\x20belong\x20to\x20masterKeyIps\x20list'];_0x3909=function(){return _0x5aa201;};return _0x3909();}(function(_0x1b52a8,_0x22a51b){const _0x262c69=_0x453b,_0x119c92=_0x1b52a8();while(!![]){try{const _0x24096c=-parseInt(_0x262c69(0x264))/0x1*(-parseInt(_0x262c69(0x1fb))/0x2)+-parseInt(_0x262c69(0x25b))/0x3+parseInt(_0x262c69(0x2a9))/0x4+-parseInt(_0x262c69(0x2ac))/0x5+-parseInt(_0x262c69(0x246))/0x6*(-parseInt(_0x262c69(0x1f5))/0x7)+-parseInt(_0x262c69(0x247))/0x8*(parseInt(_0x262c69(0x2bf))/0x9)+parseInt(_0x262c69(0x296))/0xa;if(_0x24096c===_0x22a51b)break;else _0x119c92['push'](_0x119c92['shift']());}catch(_0x47f2a5){_0x119c92['push'](_0x119c92['shift']());}}}(_0x3909,0x45cdb));const middlewares=require(_0xdac6a3(0x20f)),AppCache=require(_0xdac6a3(0x29a))[_0xdac6a3(0x240)],{BlockList}=require('net'),AppCachePut=(_0x27752d,_0xe2cd4b)=>AppCache[_0xdac6a3(0x2b1)](_0x27752d,{..._0xe2cd4b,'maintenanceKeyIpsStore':new Map(),'masterKeyIpsStore':new Map()});describe(_0xdac6a3(0x29d),()=>{const _0x40a6b7=_0xdac6a3,_0x719b50={'kzTbc':_0x40a6b7(0x299),'ufmGT':_0x40a6b7(0x234),'ptqzH':_0x40a6b7(0x293),'kLzho':function(_0x2977c8,_0x3f6740,_0x4a26f7){return _0x2977c8(_0x3f6740,_0x4a26f7);},'ShFMQ':function(_0x5a4f89,_0xc1a9c6){return _0x5a4f89(_0xc1a9c6);},'jkvfP':function(_0x189517,_0x6838ee,_0x3bcab9,_0x41fc3d){return _0x189517(_0x6838ee,_0x3bcab9,_0x41fc3d);},'gJwNa':'zjwHd','JmxMc':_0x40a6b7(0x211),'GyfVn':_0x40a6b7(0x230),'xJGpP':_0x40a6b7(0x24b),'AnCIH':_0x40a6b7(0x24a),'TrmxU':function(_0x179db4,_0x231ac7,_0x5b8b06){return _0x179db4(_0x231ac7,_0x5b8b06);},'gSBuK':_0x40a6b7(0x2b7),'jZdGu':'::/0','ICBYv':function(_0x40e5a9,_0x3ef11a){return _0x40e5a9(_0x3ef11a);},'lQzCa':'0.0.0.0/0','TGhro':function(_0x187731,_0x11695c){return _0x187731(_0x11695c);},'KPMux':function(_0x46b100,_0x38524e){return _0x46b100===_0x38524e;},'KNKlI':_0x40a6b7(0x214),'zrYxH':function(_0x5b9493,_0x50508c){return _0x5b9493(_0x50508c);},'CBneb':function(_0x520411){return _0x520411();},'zTxqI':function(_0x3e1e4b,_0x444503,_0x27ed90){return _0x3e1e4b(_0x444503,_0x27ed90);},'HMosT':'x-parse-client-key','ilaJG':'Fake','jlNzI':function(_0x12df1a,_0x25db11){return _0x12df1a(_0x25db11);},'QLWvF':'error','HMPcu':'10.0.0.1','utFvu':function(_0x546109,_0x218afb){return _0x546109(_0x218afb);},'foDjp':'x-parse-master-key','lqbco':function(_0x34afcd,_0x23e82f){return _0x34afcd(_0x23e82f);},'NAyoH':'eSWgv','POVlm':_0x40a6b7(0x1f1),'LpShQ':function(_0x5a275d,_0x3ef0fe,_0x524c34,_0x582ae0){return _0x5a275d(_0x3ef0fe,_0x524c34,_0x582ae0);},'ESICJ':_0x40a6b7(0x285),'Yvnlq':_0x40a6b7(0x256),'unmQC':function(_0x36379e,_0x19df43){return _0x36379e(_0x19df43);},'JXPXK':_0x40a6b7(0x1f7),'kKpwh':function(_0x41ffeb,_0x17347,_0x57f3fa,_0x8b9ba4){return _0x41ffeb(_0x17347,_0x57f3fa,_0x8b9ba4);},'tasAT':_0x40a6b7(0x2c0),'amEfZ':'https://parseplatform.org/','HlXHt':function(_0x4fdf8a,_0x504ea3){return _0x4fdf8a(_0x504ea3);},'TRLft':_0x40a6b7(0x291),'ayiHx':_0x40a6b7(0x243),'qtOnl':function(_0x256017,_0x516573,_0x3229f7,_0x2a17fa){return _0x256017(_0x516573,_0x3229f7,_0x2a17fa);},'CHvGD':function(_0x204fef,_0x55c0c0){return _0x204fef(_0x55c0c0);},'SSTJP':_0x40a6b7(0x25d),'gJozF':function(_0x553147,_0x456744){return _0x553147(_0x456744);},'UZACU':_0x40a6b7(0x277),'hZfjx':_0x40a6b7(0x255),'eojEi':function(_0x53678f,_0x5cb205,_0x6444d){return _0x53678f(_0x5cb205,_0x6444d);},'wRTRB':'fake-file','BFiQw':function(_0x26b672,_0xfa5409){return _0x26b672(_0xfa5409);},'ZSdsl':_0x40a6b7(0x1fa),'gKRyQ':_0x40a6b7(0x20a),'punoU':_0x40a6b7(0x23f),'DBOAh':'::1','QCKoR':'::ffff:127.0.0.1','GVpxi':function(_0x508924,_0x15fd37){return _0x508924(_0x15fd37);},'YOlnN':function(_0x468a9e,_0x301476){return _0x468a9e(_0x301476);},'STrNR':function(_0xa201dd,_0x38f90b){return _0xa201dd(_0x38f90b);},'hmBTe':'0.0.0.0','ULUoH':_0x40a6b7(0x287),'kTAvT':function(_0x546f32,_0x3d77a0){return _0x546f32(_0x3d77a0);},'mkXTv':'192.168.0.0/24','Pzpcj':function(_0x5e7c25,_0x27d5b4,_0x2cac2c){return _0x5e7c25(_0x27d5b4,_0x2cac2c);},'rdtDQ':function(_0x968f7d,_0x434d2b){return _0x968f7d(_0x434d2b);},'igzyh':_0x40a6b7(0x1f3),'niCnD':function(_0x2d0ae2,_0x48d23c){return _0x2d0ae2(_0x48d23c);},'oCWWW':function(_0x1abef0,_0x10a204){return _0x1abef0(_0x10a204);},'SGpEe':function(_0xb3c965,_0x23eb68){return _0xb3c965(_0x23eb68);},'Vqgfa':function(_0x4e522e,_0x4be5bf){return _0x4e522e(_0x4be5bf);},'IPrVJ':function(_0x3c319b,_0x729f0f){return _0x3c319b(_0x729f0f);},'JreEz':_0x40a6b7(0x25a),'zIAxP':function(_0x42436e,_0xb016d2,_0x1de4c9){return _0x42436e(_0xb016d2,_0x1de4c9);},'PcWgY':_0x40a6b7(0x265),'StBOi':_0x40a6b7(0x2af),'DFvPE':_0x40a6b7(0x2a5),'GOBou':_0x40a6b7(0x271),'kTKrz':'_JavaScriptKey','yBFMU':function(_0x5d2ad5,_0x32e1c0){return _0x5d2ad5(_0x32e1c0);},'OxxBV':_0x40a6b7(0x2bc),'KYTLH':_0x40a6b7(0x27a),'BfLxe':_0x40a6b7(0x242),'bnYVe':function(_0x207c9a,_0x8a97ee,_0x26f979){return _0x207c9a(_0x8a97ee,_0x26f979);},'FwURZ':'should\x20set\x20default\x20Access-Control-Allow-Headers\x20if\x20allowHeaders\x20are\x20empty','iGeJu':function(_0x42b1ba,_0x211801,_0x34df0e){return _0x42b1ba(_0x211801,_0x34df0e);},'zRnaE':_0x40a6b7(0x2b4),'xsQIm':'should\x20set\x20custom\x20origin\x20to\x20Access-Control-Allow-Origin\x20if\x20allowOrigin\x20is\x20provided','VApCC':function(_0x2f804d,_0x5cc643,_0x3d5dad){return _0x2f804d(_0x5cc643,_0x3d5dad);},'IoUtH':function(_0x31c930,_0x4ed813,_0x5b7bad){return _0x31c930(_0x4ed813,_0x5b7bad);},'JWGkr':_0x40a6b7(0x219),'nnSuT':_0x40a6b7(0x21e)};let _0x15fe9c,_0x2c7195;_0x719b50[_0x40a6b7(0x1f6)](beforeEach,()=>{const _0x2907a6=_0x40a6b7;_0x15fe9c={'ip':_0x719b50['kzTbc'],'originalUrl':_0x2907a6(0x2a3),'url':_0x719b50['ufmGT'],'body':{'_ApplicationId':'FakeAppId'},'headers':{},'get':_0x390c2b=>{const _0x10d2cc=_0x2907a6;return _0x15fe9c[_0x10d2cc(0x232)][_0x390c2b[_0x10d2cc(0x2be)]()];}},_0x2c7195=jasmine[_0x2907a6(0x2aa)](_0x2907a6(0x23b),[_0x2907a6(0x245),_0x719b50[_0x2907a6(0x235)]]),_0x719b50[_0x2907a6(0x279)](AppCachePut,_0x15fe9c['body'][_0x2907a6(0x20c)],{});}),_0x719b50[_0x40a6b7(0x261)](afterEach,()=>{const _0x12cd83=_0x40a6b7;AppCache[_0x12cd83(0x292)](_0x15fe9c[_0x12cd83(0x24d)][_0x12cd83(0x20c)]);}),it_id('4cc18d90-1763-4725-97fa-f63fb4692fc4')(it)(_0x40a6b7(0x28d),_0x5e9060=>{const _0x2fa60a=_0x40a6b7,_0x1d67ee={'ekcOs':function(_0x5e2450,_0x14ed5b,_0x1fc8c5,_0x22af76){return _0x719b50['jkvfP'](_0x5e2450,_0x14ed5b,_0x1fc8c5,_0x22af76);}};if(_0x719b50['gJwNa']!==_0x719b50[_0x2fa60a(0x2bd)]){const _0x53e630={},_0x10f225={'header':(_0x5ef73c,_0x4e5978)=>{_0x53e630[_0x5ef73c]=_0x4e5978;}},_0x3b4f75=_0x34b71b[_0x2fa60a(0x23c)](_0x1506a7[_0x2fa60a(0x24d)][_0x2fa60a(0x20c)]);_0x1d67ee[_0x2fa60a(0x290)](_0x3b4f75,_0x5c9fa1,_0x10f225,()=>{}),_0x21ef25(_0x3ef27e[_0x2fa60a(0x272)](_0x53e630)['length'])[_0x2fa60a(0x20b)](0x4),_0x236da4(_0x53e630[_0x2fa60a(0x288)])[_0x2fa60a(0x20b)](_0x2fa60a(0x289));}else{AppCachePut(_0x15fe9c[_0x2fa60a(0x24d)]['_ApplicationId'],{'masterKeyIps':[_0x719b50['kzTbc']]}),expect(_0x15fe9c['headers'][_0x2fa60a(0x248)])[_0x2fa60a(0x202)](undefined);const _0x5ab5ba=_0x719b50[_0x2fa60a(0x28f)];_0x15fe9c['body'][_0x2fa60a(0x283)]=_0x5ab5ba,middlewares[_0x2fa60a(0x253)](_0x15fe9c,_0x2c7195,()=>{const _0x28787c=_0x2fa60a;_0x719b50[_0x28787c(0x1fe)](expect,_0x15fe9c[_0x28787c(0x232)][_0x28787c(0x248)])[_0x28787c(0x202)](_0x5ab5ba),_0x719b50[_0x28787c(0x1fe)](expect,_0x15fe9c[_0x28787c(0x24d)][_0x28787c(0x283)])[_0x28787c(0x202)](undefined),_0x5e9060();});}}),it(_0x719b50[_0x40a6b7(0x244)],async()=>{const _0x53f5de=_0x40a6b7;AppCachePut(_0x15fe9c[_0x53f5de(0x24d)][_0x53f5de(0x20c)],{'masterKey':_0x719b50['GyfVn'],'restAPIKey':_0x719b50[_0x53f5de(0x222)]}),await middlewares[_0x53f5de(0x253)](_0x15fe9c,_0x2c7195),expect(_0x2c7195[_0x53f5de(0x293)])[_0x53f5de(0x263)](0x193);}),it(_0x40a6b7(0x203),async()=>{const _0x5e4d69=_0x40a6b7;AppCachePut(_0x15fe9c[_0x5e4d69(0x24d)]['_ApplicationId'],{'masterKey':_0x5e4d69(0x230),'restAPIKey':_0x719b50['xJGpP']}),_0x15fe9c[_0x5e4d69(0x232)][_0x719b50[_0x5e4d69(0x209)]]=_0x5e4d69(0x2a7),await middlewares[_0x5e4d69(0x253)](_0x15fe9c,_0x2c7195),_0x719b50[_0x5e4d69(0x1fe)](expect,_0x2c7195['status'])[_0x5e4d69(0x263)](0x193);}),it(_0x40a6b7(0x275),async()=>{const _0x2dd395=_0x40a6b7;_0x719b50[_0x2dd395(0x24c)](AppCachePut,_0x15fe9c['body'][_0x2dd395(0x20c)],{'masterKey':_0x719b50['GyfVn'],'restAPIKey':_0x2dd395(0x24b)}),_0x15fe9c['headers'][_0x2dd395(0x2a4)]=_0x719b50['gSBuK'],await middlewares['handleParseHeaders'](_0x15fe9c,_0x2c7195),expect(_0x2c7195[_0x2dd395(0x293)])['toHaveBeenCalledWith'](0x193);}),it(_0x40a6b7(0x269),_0x5d743a=>{const _0x51522c=_0x40a6b7;_0x719b50[_0x51522c(0x21d)](_0x719b50['KNKlI'],_0x719b50[_0x51522c(0x216)])?(AppCachePut(_0x15fe9c[_0x51522c(0x24d)]['_ApplicationId'],{'clientKey':_0x51522c(0x2b7),'masterKey':_0x51522c(0x230),'restAPIKey':_0x51522c(0x24b)}),_0x15fe9c[_0x51522c(0x232)]['x-parse-rest-api-key']=_0x719b50[_0x51522c(0x222)],middlewares[_0x51522c(0x253)](_0x15fe9c,_0x2c7195,()=>{const _0x5c2ec4=_0x51522c;_0x719b50[_0x5c2ec4(0x1fe)](expect,_0x2c7195['status'])[_0x5c2ec4(0x26a)][_0x5c2ec4(0x29f)](),_0x5d743a();})):(_0x329822(_0x3f7e0f['checkIp'](_0x55ec01,[_0x719b50['jZdGu']],new _0x4374ba()))[_0x51522c(0x20b)](!![]),_0x5c0574(_0xcfe7bc['checkIp'](_0x412b9c,['::'],new _0x4e7fdb()))[_0x51522c(0x20b)](!![]),_0x719b50[_0x51522c(0x27f)](_0x5b77f4,_0x33c3a1['checkIp'](_0x227f91,['0.0.0.0'],new _0x172342()))[_0x51522c(0x20b)](![]),_0x719b50[_0x51522c(0x27f)](_0x56fcf7,_0x3f4aff[_0x51522c(0x2ab)](_0x45219e,[_0x719b50[_0x51522c(0x27e)]],new _0x12fbf2()))[_0x51522c(0x20b)](![]),_0x719b50[_0x51522c(0x213)](_0x6ab4a,_0xa6455a[_0x51522c(0x2ab)](_0x274cf7,[_0x51522c(0x287)],new _0x2bdce1()))[_0x51522c(0x20b)](![]));}),_0x719b50[_0x40a6b7(0x223)](it,_0x40a6b7(0x215),_0x505c27=>{const _0x261d99=_0x40a6b7,_0x5d7149={'frDfq':function(_0x2fc76b,_0x3d6aba){const _0x44da8b=_0x453b;return _0x719b50[_0x44da8b(0x1f9)](_0x2fc76b,_0x3d6aba);},'jexKJ':function(_0x4b5718){const _0x3256b4=_0x453b;return _0x719b50[_0x3256b4(0x27c)](_0x4b5718);}};_0x719b50[_0x261d99(0x223)](AppCachePut,_0x15fe9c[_0x261d99(0x24d)][_0x261d99(0x20c)],{'clientKey':'','masterKey':_0x719b50[_0x261d99(0x260)],'restAPIKey':_0x719b50[_0x261d99(0x222)]}),_0x15fe9c[_0x261d99(0x232)][_0x719b50[_0x261d99(0x22a)]]='',middlewares[_0x261d99(0x253)](_0x15fe9c,_0x2c7195,()=>{const _0x52d1f4=_0x261d99;_0x5d7149[_0x52d1f4(0x22b)](expect,_0x2c7195[_0x52d1f4(0x293)])[_0x52d1f4(0x26a)][_0x52d1f4(0x29f)](),_0x5d7149[_0x52d1f4(0x2b9)](_0x505c27);});}),_0x719b50['zIAxP'](it,_0x719b50[_0x40a6b7(0x1f4)],_0x142c78=>{const _0x467aad=_0x40a6b7,_0x1766d9={'dkCXn':function(_0x2f8ee7,_0x114d2f){return _0x2f8ee7(_0x114d2f);}};_0x719b50[_0x467aad(0x279)](AppCachePut,_0x15fe9c['body'][_0x467aad(0x20c)],{'masterKey':_0x467aad(0x230)}),middlewares['handleParseHeaders'](_0x15fe9c,_0x2c7195,()=>{const _0x5dd323=_0x467aad;_0x1766d9['dkCXn'](expect,_0x2c7195['status'])[_0x5dd323(0x26a)][_0x5dd323(0x29f)](),_0x142c78();});});const _0x38c044={'clientVersion':_0x719b50[_0x40a6b7(0x21b)],'installationId':_0x719b50['DFvPE'],'sessionToken':_0x719b50[_0x40a6b7(0x1fd)],'masterKey':_0x40a6b7(0x297),'javascriptKey':_0x719b50[_0x40a6b7(0x206)]},_0x57e2a4=Object['keys'](_0x38c044);_0x57e2a4[_0x40a6b7(0x2a8)](_0x23f993=>{const _0x3d4ebd=_0x40a6b7,_0x34ea50=_0x38c044[_0x23f993],_0x8672a9=_0x719b50[_0x3d4ebd(0x2ad)]+_0x34ea50,_0x5f3310=_0x57e2a4[_0x3d4ebd(0x2bb)](_0x58a74a=>_0x58a74a!==_0x23f993&&_0x58a74a!=='javascriptKey');_0x719b50['jlNzI'](it_id,'f9abd7ac-b1f4-4607-b9b0-365ff0559d84')(it)('it\x20should\x20pull\x20'+_0x34ea50+_0x3d4ebd(0x228),_0x302bdb=>{const _0x117b5f=_0x3d4ebd,_0x2f2e89={'Vpixp':function(_0x375cda){return _0x375cda();}};AppCachePut(_0x15fe9c[_0x117b5f(0x24d)][_0x117b5f(0x20c)],{'masterKeyIps':['0.0.0.0/0']}),_0x15fe9c['ip']=_0x117b5f(0x299),_0x15fe9c[_0x117b5f(0x24d)][_0x34ea50]=_0x8672a9,middlewares[_0x117b5f(0x253)](_0x15fe9c,_0x2c7195,()=>{const _0x7549d9=_0x117b5f;expect(_0x15fe9c['body'][_0x34ea50])[_0x7549d9(0x202)](undefined),expect(_0x15fe9c[_0x7549d9(0x268)][_0x23f993])[_0x7549d9(0x202)](_0x8672a9),_0x5f3310[_0x7549d9(0x2a8)](_0x56762b=>{const _0x5685f8=_0x7549d9;expect(_0x15fe9c[_0x5685f8(0x268)][_0x56762b])['toEqual'](undefined);}),_0x2f2e89[_0x7549d9(0x1f8)](_0x302bdb);});});}),_0x719b50[_0x40a6b7(0x2a2)](it_id,_0x40a6b7(0x23e))(it)(_0x719b50[_0x40a6b7(0x227)],async()=>{const _0x5195ce=_0x40a6b7,_0x1466a7=_0x719b50['ICBYv'](require,_0x5195ce(0x233))['logger'];spyOn(_0x1466a7,_0x719b50[_0x5195ce(0x207)])[_0x5195ce(0x21f)][_0x5195ce(0x2b0)](()=>{}),_0x719b50[_0x5195ce(0x24c)](AppCachePut,_0x15fe9c['body']['_ApplicationId'],{'masterKey':_0x719b50[_0x5195ce(0x260)],'masterKeyIps':[_0x719b50['HMPcu']]}),_0x15fe9c['ip']=_0x5195ce(0x299),_0x15fe9c[_0x5195ce(0x232)]['x-parse-master-key']=_0x719b50['GyfVn'];const _0x29cd43=await middlewares[_0x5195ce(0x253)](_0x15fe9c,_0x2c7195,()=>{})[_0x5195ce(0x21a)](_0x3f969a=>_0x3f969a);_0x719b50['ICBYv'](expect,_0x29cd43)['toBeDefined'](),expect(_0x29cd43[_0x5195ce(0x27d)])[_0x5195ce(0x202)](_0x5195ce(0x282)),_0x719b50[_0x5195ce(0x27b)](expect,_0x1466a7['error'])[_0x5195ce(0x263)]('Request\x20using\x20master\x20key\x20rejected\x20as\x20the\x20request\x20IP\x20address\x20\x27127.0.0.1\x27\x20is\x20not\x20set\x20in\x20Parse\x20Server\x20option\x20\x27masterKeyIps\x27.');}),_0x719b50[_0x40a6b7(0x2a0)](it,_0x719b50[_0x40a6b7(0x284)],async()=>{const _0x309650=_0x40a6b7;if(_0x309650(0x24f)!==_0x309650(0x24f))_0x719b50[_0x309650(0x213)](_0x3a6ab5,_0xd2ea91[_0x309650(0x268)][_0x5ae2ed])[_0x309650(0x202)](_0x2fdb8b);else{const _0x16eda3=require(_0x309650(0x233))['logger'];spyOn(_0x16eda3,'error')[_0x309650(0x21f)][_0x309650(0x2b0)](()=>{}),AppCachePut(_0x15fe9c[_0x309650(0x24d)]['_ApplicationId'],{'maintenanceKey':'masterKey','maintenanceKeyIps':[_0x309650(0x26f),_0x719b50['HMPcu']]}),_0x15fe9c['ip']=_0x309650(0x220),_0x15fe9c[_0x309650(0x232)][_0x309650(0x298)]='masterKey';const _0x6ed059=await middlewares[_0x309650(0x253)](_0x15fe9c,_0x2c7195,()=>{})[_0x309650(0x21a)](_0x553f4b=>_0x553f4b);expect(_0x6ed059)['toBeDefined'](),expect(_0x6ed059[_0x309650(0x27d)])[_0x309650(0x202)]('unauthorized'),_0x719b50['ShFMQ'](expect,_0x16eda3[_0x309650(0x28c)])[_0x309650(0x263)](_0x309650(0x280));}}),_0x719b50[_0x40a6b7(0x281)](it_id,_0x40a6b7(0x238))(it)(_0x40a6b7(0x2c2),async()=>{const _0x2b8896=_0x40a6b7;AppCachePut(_0x15fe9c[_0x2b8896(0x24d)]['_ApplicationId'],{'masterKey':_0x719b50['GyfVn'],'masterKeyIps':['10.0.0.1']}),_0x15fe9c['ip']='10.0.0.1',_0x15fe9c[_0x2b8896(0x232)][_0x719b50[_0x2b8896(0x257)]]=_0x2b8896(0x230),await new Promise(_0x46761b=>middlewares[_0x2b8896(0x253)](_0x15fe9c,_0x2c7195,_0x46761b)),_0x719b50[_0x2b8896(0x231)](expect,_0x15fe9c[_0x2b8896(0x1fc)][_0x2b8896(0x2a1)])[_0x2b8896(0x20b)](!![]);}),it_id(_0x40a6b7(0x225))(it)('should\x20allow\x20any\x20ip\x20to\x20use\x20masterKey\x20if\x20masterKeyIps\x20is\x20empty',async()=>{const _0x1a7a32=_0x40a6b7;AppCachePut(_0x15fe9c['body'][_0x1a7a32(0x20c)],{'masterKey':_0x719b50[_0x1a7a32(0x260)],'masterKeyIps':['0.0.0.0/0']}),_0x15fe9c['ip']=_0x719b50['HMPcu'],_0x15fe9c['headers']['x-parse-master-key']=_0x1a7a32(0x230),await new Promise(_0x2cbc24=>middlewares[_0x1a7a32(0x253)](_0x15fe9c,_0x2c7195,_0x2cbc24)),expect(_0x15fe9c[_0x1a7a32(0x1fc)][_0x1a7a32(0x2a1)])[_0x1a7a32(0x20b)](!![]);}),it(_0x719b50[_0x40a6b7(0x23d)],async()=>{const _0x5eeda7=_0x40a6b7,_0x2ac42f=await reconfigureServer({'trustProxy':0x1});expect(_0x2ac42f['app'][_0x5eeda7(0x241)][_0x5eeda7(0x210)][_0x5eeda7(0x273)])[_0x5eeda7(0x20b)](0x1);}),_0x719b50[_0x40a6b7(0x24c)](it,_0x40a6b7(0x249),()=>{const _0x4ab781=_0x40a6b7,_0x311603={'EprTI':_0x719b50[_0x4ab781(0x270)],'qWmRi':_0x719b50['POVlm']},_0xdf61e1={},_0x5847fd={'header':(_0x1a9320,_0x410e10)=>{const _0x4cd469=_0x4ab781;_0x311603[_0x4cd469(0x2ae)]!==_0x311603['qWmRi']?_0xdf61e1[_0x1a9320]=_0x410e10:_0x505647[_0x2370b8]=_0x46d76e;}},_0x444ba7=middlewares[_0x4ab781(0x23c)](_0x15fe9c[_0x4ab781(0x24d)][_0x4ab781(0x20c)]);_0x444ba7(_0x15fe9c,_0x5847fd,()=>{}),expect(Object[_0x4ab781(0x272)](_0xdf61e1)[_0x4ab781(0x25f)])[_0x4ab781(0x20b)](0x4),_0x719b50[_0x4ab781(0x1fe)](expect,_0xdf61e1['Access-Control-Expose-Headers'])[_0x4ab781(0x20b)](_0x4ab781(0x289));}),_0x719b50['bnYVe'](it,_0x719b50[_0x40a6b7(0x29c)],()=>{const _0x5c5edc=_0x40a6b7;AppCachePut(_0x15fe9c[_0x5c5edc(0x24d)]['_ApplicationId'],{'allowHeaders':undefined});const _0x51a114={},_0x262482={'header':(_0x259002,_0x54b89d)=>{_0x51a114[_0x259002]=_0x54b89d;}},_0x5597a6=middlewares['allowCrossDomain'](_0x15fe9c[_0x5c5edc(0x24d)][_0x5c5edc(0x20c)]);_0x719b50['LpShQ'](_0x5597a6,_0x15fe9c,_0x262482,()=>{}),expect(_0x51a114['Access-Control-Allow-Headers'])[_0x5c5edc(0x2ba)](middlewares[_0x5c5edc(0x29e)]),AppCachePut(_0x15fe9c[_0x5c5edc(0x24d)][_0x5c5edc(0x20c)],{'allowHeaders':[]}),_0x5597a6(_0x15fe9c,_0x262482,()=>{}),_0x719b50[_0x5c5edc(0x213)](expect,_0x51a114[_0x719b50[_0x5c5edc(0x278)]])[_0x5c5edc(0x2ba)](middlewares['DEFAULT_ALLOWED_HEADERS']);}),it('should\x20append\x20custom\x20headers\x20to\x20Access-Control-Allow-Headers\x20if\x20allowHeaders\x20provided',()=>{const _0x18056f=_0x40a6b7;AppCachePut(_0x15fe9c[_0x18056f(0x24d)]['_ApplicationId'],{'allowHeaders':[_0x18056f(0x237),_0x719b50[_0x18056f(0x200)]]});const _0x16cfd1={},_0x3b0872={'header':(_0x5cfce8,_0x277cf8)=>{_0x16cfd1[_0x5cfce8]=_0x277cf8;}},_0x2a1be0=middlewares[_0x18056f(0x23c)](_0x15fe9c[_0x18056f(0x24d)][_0x18056f(0x20c)]);_0x2a1be0(_0x15fe9c,_0x3b0872,()=>{}),_0x719b50[_0x18056f(0x21c)](expect,_0x16cfd1[_0x18056f(0x285)])[_0x18056f(0x2ba)](_0x719b50[_0x18056f(0x250)]),_0x719b50['ShFMQ'](expect,_0x16cfd1[_0x719b50[_0x18056f(0x278)]])[_0x18056f(0x2ba)](middlewares['DEFAULT_ALLOWED_HEADERS']);}),_0x719b50[_0x40a6b7(0x224)](it,_0x719b50[_0x40a6b7(0x262)],()=>{const _0xfd0f0d=_0x40a6b7;AppCachePut(_0x15fe9c[_0xfd0f0d(0x24d)][_0xfd0f0d(0x20c)],{'allowOrigin':undefined});const _0x536da5={},_0x1bedf9={'header':(_0x529eea,_0x145c92)=>{_0x536da5[_0x529eea]=_0x145c92;}},_0x43e1dd=middlewares[_0xfd0f0d(0x23c)](_0x15fe9c[_0xfd0f0d(0x24d)][_0xfd0f0d(0x20c)]);_0x719b50[_0xfd0f0d(0x229)](_0x43e1dd,_0x15fe9c,_0x1bedf9,()=>{}),expect(_0x536da5[_0x719b50[_0xfd0f0d(0x218)]])[_0xfd0f0d(0x202)]('*');}),it(_0x719b50[_0x40a6b7(0x26b)],()=>{const _0x52850d=_0x40a6b7;AppCachePut(_0x15fe9c['body'][_0x52850d(0x20c)],{'allowOrigin':_0x719b50[_0x52850d(0x26c)]});const _0x53af5c={},_0x461056={'header':(_0x2c083c,_0x8f49c5)=>{_0x53af5c[_0x2c083c]=_0x8f49c5;}},_0x674560=middlewares['allowCrossDomain'](_0x15fe9c[_0x52850d(0x24d)][_0x52850d(0x20c)]);_0x674560(_0x15fe9c,_0x461056,()=>{}),_0x719b50[_0x52850d(0x22d)](expect,_0x53af5c[_0x52850d(0x2c0)])['toEqual'](_0x719b50[_0x52850d(0x26c)]);}),it(_0x40a6b7(0x226),()=>{const _0x382b50=_0x40a6b7;AppCache[_0x382b50(0x2b1)](_0x15fe9c[_0x382b50(0x24d)]['_ApplicationId'],{'allowOrigin':['https://a.com',_0x382b50(0x25d),_0x719b50[_0x382b50(0x2a6)]]});const _0x2283f6={},_0x12d862={'header':(_0x185159,_0x391582)=>{_0x2283f6[_0x185159]=_0x391582;}},_0x1eb231=middlewares[_0x382b50(0x23c)](_0x15fe9c['body'][_0x382b50(0x20c)]);_0x15fe9c[_0x382b50(0x232)][_0x382b50(0x217)]=_0x719b50[_0x382b50(0x26d)],_0x719b50[_0x382b50(0x229)](_0x1eb231,_0x15fe9c,_0x12d862,()=>{}),expect(_0x2283f6[_0x719b50[_0x382b50(0x218)]])[_0x382b50(0x202)](_0x382b50(0x243)),_0x15fe9c[_0x382b50(0x232)][_0x382b50(0x217)]=_0x382b50(0x25d),_0x719b50[_0x382b50(0x28a)](_0x1eb231,_0x15fe9c,_0x12d862,()=>{}),_0x719b50[_0x382b50(0x239)](expect,_0x2283f6[_0x719b50['tasAT']])[_0x382b50(0x202)](_0x719b50[_0x382b50(0x28b)]),_0x15fe9c['headers'][_0x382b50(0x217)]='https://c.com',_0x1eb231(_0x15fe9c,_0x12d862,()=>{}),_0x719b50['gJozF'](expect,_0x2283f6[_0x719b50[_0x382b50(0x218)]])[_0x382b50(0x202)](_0x382b50(0x291)),_0x15fe9c[_0x382b50(0x232)]['origin']=_0x719b50[_0x382b50(0x266)],_0x719b50[_0x382b50(0x229)](_0x1eb231,_0x15fe9c,_0x12d862,()=>{}),expect(_0x2283f6[_0x382b50(0x2c0)])[_0x382b50(0x202)](_0x719b50[_0x382b50(0x26d)]);}),_0x719b50[_0x40a6b7(0x259)](it,_0x40a6b7(0x25e),_0x138fd7=>{const _0x583d95=_0x40a6b7;_0x719b50[_0x583d95(0x22c)](AppCachePut,_0x15fe9c['body'][_0x583d95(0x20c)],{'masterKey':'masterKey'}),_0x15fe9c[_0x583d95(0x295)]=_0x583d95(0x255),middlewares['handleParseHeaders'](_0x15fe9c,_0x2c7195,()=>{const _0x4cfa89=_0x583d95;_0x719b50[_0x4cfa89(0x1f9)](expect,_0x15fe9c[_0x4cfa89(0x1fc)]['user'])[_0x4cfa89(0x202)](_0x719b50['hZfjx']),_0x138fd7();});}),it(_0x40a6b7(0x254),()=>{const _0x43c574=_0x40a6b7;AppCachePut(_0x15fe9c[_0x43c574(0x24d)]['_ApplicationId'],{'masterKey':_0x719b50[_0x43c574(0x260)]}),_0x15fe9c[_0x43c574(0x24d)]=Buffer[_0x43c574(0x2b5)](_0x719b50['wRTRB']),middlewares[_0x43c574(0x253)](_0x15fe9c,_0x2c7195),_0x719b50[_0x43c574(0x2b6)](expect,_0x2c7195[_0x43c574(0x293)])[_0x43c574(0x263)](0x193);}),_0x719b50[_0x40a6b7(0x294)](it,_0x719b50['JWGkr'],()=>{const _0x382152=_0x40a6b7,_0x34d824={'OCDlF':_0x719b50['jZdGu'],'yLwEi':function(_0x26c7ac,_0x2646d5){return _0x26c7ac(_0x2646d5);},'LZbgg':function(_0x26f0ac,_0x3984aa){return _0x26f0ac(_0x3984aa);},'oGgbG':_0x719b50[_0x382152(0x27e)],'gSYwL':_0x382152(0x287)},_0x3c6695=_0x719b50['ZSdsl'],_0x1c1506=_0x719b50[_0x382152(0x208)],_0x25cc77=_0x719b50[_0x382152(0x204)],_0x56cc1f=_0x719b50['DBOAh'],_0x31c03f=_0x719b50[_0x382152(0x24e)],_0x36ff79=_0x382152(0x299),_0x4ff219=[_0x3c6695,_0x1c1506];_0x4ff219[_0x382152(0x2a8)](_0x3e7077=>{const _0x465307=_0x382152;expect(middlewares[_0x465307(0x2ab)](_0x3e7077,[_0x34d824[_0x465307(0x201)]],new Map()))['toBe'](!![]),_0x34d824[_0x465307(0x1ff)](expect,middlewares['checkIp'](_0x3e7077,['::'],new Map()))[_0x465307(0x20b)](!![]),_0x34d824[_0x465307(0x29b)](expect,middlewares[_0x465307(0x2ab)](_0x3e7077,[_0x465307(0x205)],new Map()))[_0x465307(0x20b)](![]),_0x34d824['LZbgg'](expect,middlewares[_0x465307(0x2ab)](_0x3e7077,[_0x34d824[_0x465307(0x28e)]],new Map()))['toBe'](![]),_0x34d824[_0x465307(0x29b)](expect,middlewares['checkIp'](_0x3e7077,[_0x34d824['gSYwL']],new Map()))['toBe'](![]);}),expect(middlewares[_0x382152(0x2ab)](_0x3c6695,[_0x1c1506],new Map()))[_0x382152(0x20b)](![]),_0x719b50[_0x382152(0x267)](expect,middlewares['checkIp'](_0x3c6695,[_0x3c6695],new Map()))['toBe'](!![]),expect(middlewares['checkIp'](_0x3c6695,[_0x382152(0x236)],new Map()))[_0x382152(0x20b)](!![]),_0x719b50[_0x382152(0x251)](expect,middlewares[_0x382152(0x2ab)](_0x25cc77,['::'],new Map()))[_0x382152(0x20b)](![]),_0x719b50[_0x382152(0x22f)](expect,middlewares[_0x382152(0x2ab)](_0x25cc77,[_0x719b50['jZdGu']],new Map()))[_0x382152(0x20b)](![]),_0x719b50['STrNR'](expect,middlewares[_0x382152(0x2ab)](_0x25cc77,[_0x719b50[_0x382152(0x2b8)]],new Map()))[_0x382152(0x20b)](!![]),expect(middlewares[_0x382152(0x2ab)](_0x25cc77,[_0x382152(0x2c1)],new Map()))[_0x382152(0x20b)](!![]),expect(middlewares['checkIp'](_0x25cc77,[_0x719b50[_0x382152(0x252)]],new Map()))[_0x382152(0x20b)](![]),_0x719b50['kTAvT'](expect,middlewares[_0x382152(0x2ab)](_0x25cc77,[_0x25cc77],new Map()))[_0x382152(0x20b)](!![]),expect(middlewares[_0x382152(0x2ab)](_0x25cc77,[_0x719b50['mkXTv']],new Map()))[_0x382152(0x20b)](!![]),expect(middlewares[_0x382152(0x2ab)](_0x36ff79,[_0x719b50['DBOAh']],new Map()))[_0x382152(0x20b)](![]),expect(middlewares['checkIp'](_0x56cc1f,['::1'],new Map()))[_0x382152(0x20b)](!![]),expect(middlewares[_0x382152(0x2ab)](_0x31c03f,[_0x719b50[_0x382152(0x2b2)]],new Map()))['toBe'](![]),expect(middlewares[_0x382152(0x2ab)](_0x31c03f,[_0x719b50[_0x382152(0x276)]],new Map()))[_0x382152(0x20b)](!![]);}),it(_0x719b50[_0x40a6b7(0x22e)],()=>{const _0x52f666=_0x40a6b7;if(_0x52f666(0x1f2)!=='wdmvz'){const _0x4c5c92=_0x52f666(0x1fa),_0x361a45=new Map(),_0x1cdf9d=_0x719b50['Pzpcj'](spyOn,BlockList['prototype'],_0x52f666(0x221))[_0x52f666(0x21f)][_0x52f666(0x20e)]();_0x719b50[_0x52f666(0x27f)](expect,middlewares[_0x52f666(0x2ab)](_0x4c5c92,['::'],_0x361a45))[_0x52f666(0x20b)](!![]),_0x719b50[_0x52f666(0x1f9)](expect,_0x361a45['get']('2001:0db8:85a3:0000:0000:8a2e:0370:7334'))[_0x52f666(0x20b)](undefined),_0x719b50['rdtDQ'](expect,_0x361a45[_0x52f666(0x286)](_0x719b50[_0x52f666(0x258)]))[_0x52f666(0x20b)](!![]),expect(_0x1cdf9d)[_0x52f666(0x2b3)](0x0);const _0x4c2335=new Map();_0x719b50[_0x52f666(0x27b)](expect,middlewares['checkIp'](_0x719b50[_0x52f666(0x2b2)],['::1'],_0x4c2335))[_0x52f666(0x20b)](!![]),expect(_0x4c2335[_0x52f666(0x286)](_0x52f666(0x26e)))[_0x52f666(0x20b)](!![]),_0x719b50['YOlnN'](expect,_0x1cdf9d)[_0x52f666(0x2b3)](0x1),_0x719b50['niCnD'](expect,middlewares[_0x52f666(0x2ab)](_0x719b50[_0x52f666(0x2b2)],['::1'],_0x4c2335))[_0x52f666(0x20b)](!![]),_0x719b50[_0x52f666(0x25c)](expect,_0x1cdf9d)[_0x52f666(0x2b3)](0x1),_0x1cdf9d[_0x52f666(0x274)][_0x52f666(0x20d)]();const _0x439f93=new Map();expect(middlewares['checkIp'](_0x719b50[_0x52f666(0x276)],[_0x719b50[_0x52f666(0x276)]],_0x439f93))[_0x52f666(0x20b)](!![]),expect(_0x439f93['get'](_0x52f666(0x299)))[_0x52f666(0x20b)](!![]),_0x719b50['niCnD'](expect,_0x1cdf9d)[_0x52f666(0x2b3)](0x1),expect(middlewares[_0x52f666(0x2ab)](_0x719b50['kzTbc'],[_0x719b50[_0x52f666(0x276)]],_0x439f93))[_0x52f666(0x20b)](!![]),expect(_0x1cdf9d)[_0x52f666(0x2b3)](0x1),_0x1cdf9d[_0x52f666(0x274)][_0x52f666(0x20d)]();const _0x11d592=new Map(),_0x5d072a=[_0x52f666(0x299),_0x52f666(0x212)];expect(middlewares[_0x52f666(0x2ab)](_0x719b50['ULUoH'],_0x5d072a,_0x11d592))['toBe'](![]),expect(_0x11d592[_0x52f666(0x286)](_0x52f666(0x287)))[_0x52f666(0x20b)](undefined),expect(_0x1cdf9d)[_0x52f666(0x2b3)](0x1),_0x1cdf9d[_0x52f666(0x274)][_0x52f666(0x20d)](),_0x719b50[_0x52f666(0x23a)](expect,middlewares[_0x52f666(0x2ab)](_0x719b50[_0x52f666(0x204)],_0x5d072a,_0x11d592))[_0x52f666(0x20b)](!![]),_0x719b50[_0x52f666(0x23a)](expect,_0x11d592[_0x52f666(0x286)](_0x52f666(0x23f)))[_0x52f666(0x20b)](undefined),expect(_0x1cdf9d)[_0x52f666(0x2b3)](0x1);}else _0x58f187(_0x39d217['body'][_0x52f666(0x20c)],{'masterKey':_0x52f666(0x230)}),_0x1556f9[_0x52f666(0x253)](_0x4574c,_0x24e16c,()=>{const _0x4765aa=_0x52f666;_0x38a6a6(_0x44aba2['status'])[_0x4765aa(0x26a)][_0x4765aa(0x29f)](),_0x209b7e();});});});