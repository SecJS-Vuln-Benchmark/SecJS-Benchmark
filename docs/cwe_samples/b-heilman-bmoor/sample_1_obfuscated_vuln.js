var _0x19a401=_0x3eaf;function _0x3eaf(_0x33ffd7,_0x18605c){var _0x5eb484=_0x5eb4();return _0x3eaf=function(_0x3eafde,_0x4c0848){_0x3eafde=_0x3eafde-0x1c8;var _0x548294=_0x5eb484[_0x3eafde];return _0x548294;},_0x3eaf(_0x33ffd7,_0x18605c);}function _0x5eb4(){var _0x152926=['lttLL','decode','HZNwJ','prototype','test','aRhDd','isRevoked','user','qgApa','header','Dvzyh','cJrhD','OarPf','1353400GXYVvb','call','JJUCx','ySlVA','eCVTZ','epGiQ','async','kADXg','5XMhTnI','gmJNI','AUfua','ROAIH','FfmSc','algorithms\x20must\x20be\x20an\x20array','10SMsTxD','tPozR','unless','320640cZieLe','1ZNZwsp','undefined','UnauthorizedError','The\x20token\x20has\x20been\x20revoked.','length','credentialsRequired','xQeev','GTGZi','QbhiS','function','headers','indexOf','resultProperty','algorithms','authorization','trim','467984tEgons','getToken','mjniH','zXcTF','OFUwo','hasOwnProperty','hQOKT','Mmuts','isArray','1026258fThbaC','7423QZqgQi','[object\x20Function]','verify','JdkNV','credentials_required','split','ZQXQN','blGQD','uJbUR','bHnAv','ImcgC','algorithms\x20should\x20be\x20set','18rvkYff','UTcgk','bPlBL','secret','373098NMARih','TTHQb','secret\x20should\x20be\x20set','lBTNp','wfykT','access-control-request-headers','EmpaA','method','14928daTWZr','credentials_bad_scheme','ZwGFk','14zIpMjL','uAxWU','EXjHr','credentials_bad_format','map','exports','waterfall','OPTIONS','VkLfF','188382aLHPIU','srAuY','jsonwebtoken','requestProperty','lAKOJ','QCSiv','payload','invalid_token','Format\x20is\x20Authorization:\x20Bearer\x20[token]','SEiqR'];_0x5eb4=function(){return _0x152926;};return _0x5eb4();}(function(_0x3023bd,_0x9296c5){var _0x4033b6=_0x3eaf,_0x48ecb0=_0x3023bd();while(!![]){try{var _0x2eeca5=-parseInt(_0x4033b6(0x20f))/0x1*(parseInt(_0x4033b6(0x1e6))/0x2)+-parseInt(_0x4033b6(0x20e))/0x3+-parseInt(_0x4033b6(0x1fd))/0x4*(-parseInt(_0x4033b6(0x205))/0x5)+-parseInt(_0x4033b6(0x228))/0x6*(parseInt(_0x4033b6(0x1dd))/0x7)+-parseInt(_0x4033b6(0x21f))/0x8*(parseInt(_0x4033b6(0x1ce))/0x9)+-parseInt(_0x4033b6(0x20b))/0xa*(parseInt(_0x4033b6(0x1d2))/0xb)+parseInt(_0x4033b6(0x1da))/0xc*(parseInt(_0x4033b6(0x229))/0xd);if(_0x2eeca5===_0x9296c5)break;else _0x48ecb0['push'](_0x48ecb0['shift']());}catch(_0x214c1c){_0x48ecb0['push'](_0x48ecb0['shift']());}}}(_0x5eb4,0x5692b));var jwt=require(_0x19a401(0x1e8)),UnauthorizedError=require('./errors/UnauthorizedError'),unless=require('express-unless'),async=require(_0x19a401(0x203)),set=require('lodash.set'),DEFAULT_REVOKED_FUNCTION=function(_0x58b5f5,_0x1a4b26,_0x5c30df){var _0x361266={'oVDAd':function(_0x54d76b,_0x20cce0,_0x2c4c5c){return _0x54d76b(_0x20cce0,_0x2c4c5c);}};return _0x361266['oVDAd'](_0x5c30df,null,![]);};function isFunction(_0x5ae435){var _0x5e0bbc=_0x19a401,_0x29a9bf={'kADXg':_0x5e0bbc(0x22a)};return Object[_0x5e0bbc(0x1f3)]['toString'][_0x5e0bbc(0x1fe)](_0x5ae435)===_0x29a9bf[_0x5e0bbc(0x204)];}function wrapStaticSecretInCallback(_0x4388d9){var _0x1888ca=_0x19a401,_0x254a83={'QbhiS':function(_0x1052d0,_0x58148f){return _0x1052d0(_0x58148f);},'uJbUR':function(_0x9868eb,_0x545bb0){return _0x9868eb===_0x545bb0;},'eCVTZ':_0x1888ca(0x215)};return function(_0x21970e,_0x807a46,_0x203cfc){var _0x270718=_0x1888ca;if(_0x254a83[_0x270718(0x1ca)](_0x270718(0x215),_0x254a83[_0x270718(0x201)]))return _0x203cfc(null,_0x4388d9);else _0x254a83[_0x270718(0x217)](_0x4a9c61,_0x4b92de);};}module[_0x19a401(0x1e2)]=function(_0x34052f){var _0xadc983=_0x19a401,_0x26998={'FYIUg':'credentials_bad_scheme','ySlVA':_0xadc983(0x1ee),'mjniH':function(_0x562f3d){return _0x562f3d();},'GTGZi':function(_0x3b2453,_0x476725,_0x20d4c6,_0x273f08,_0x18ab54){return _0x3b2453(_0x476725,_0x20d4c6,_0x273f08,_0x18ab54);},'Mmuts':_0xadc983(0x208),'Dvzyh':function(_0x380eb4,_0x148e5c){return _0x380eb4===_0x148e5c;},'ImcgC':_0xadc983(0x1e5),'cJrhD':function(_0x2a952d,_0x2fe1e9,_0x4f2a07,_0x1311ed){return _0x2a952d(_0x2fe1e9,_0x4f2a07,_0x1311ed);},'tPozR':function(_0x5a892c){return _0x5a892c();},'yeMPA':_0xadc983(0x1e4),'EXjHr':_0xadc983(0x1d7),'AUfua':_0xadc983(0x21d),'TTHQb':function(_0x5dc8ce,_0x6877b3){return _0x5dc8ce===_0x6877b3;},'lBTNp':_0xadc983(0x218),'wfykT':function(_0x1e2652,_0x39b489){return _0x1e2652(_0x39b489);},'OarPf':_0xadc983(0x1de),'JdkNV':'yDXbT','lAKOJ':_0xadc983(0x1e0),'srAuY':function(_0x2c9cf3,_0xa025e0){return _0x2c9cf3===_0xa025e0;},'blGQD':_0xadc983(0x1ef),'gjzdo':'No\x20authorization\x20token\x20was\x20found','mwvnK':'HZNwJ','hAFxm':_0xadc983(0x1ed),'EmpaA':_0xadc983(0x1cd),'hQOKT':_0xadc983(0x20a),'OFUwo':_0xadc983(0x1f7)};if(!_0x34052f||!_0x34052f[_0xadc983(0x1d1)])throw new Error(_0xadc983(0x1d4));if(!_0x34052f[_0xadc983(0x21c)])throw new Error(_0x26998[_0xadc983(0x1d8)]);if(!Array[_0xadc983(0x227)](_0x34052f[_0xadc983(0x21c)]))throw new Error(_0x26998[_0xadc983(0x225)]);var _0x4e6f74=_0x34052f[_0xadc983(0x1d1)];!isFunction(_0x4e6f74)&&(_0x4e6f74=_0x26998[_0xadc983(0x1d6)](wrapStaticSecretInCallback,_0x4e6f74));var _0x53c22a=_0x34052f[_0xadc983(0x1f6)]||DEFAULT_REVOKED_FUNCTION,_0x477044=_0x34052f['userProperty']||_0x34052f[_0xadc983(0x1e9)]||_0x26998[_0xadc983(0x223)],_0x3cccae=_0x34052f[_0xadc983(0x21b)],_0x2a73ca=_0x26998['Dvzyh'](typeof _0x34052f[_0xadc983(0x214)],_0xadc983(0x210))?!![]:_0x34052f[_0xadc983(0x214)],_0x2f0e60=function(_0x2a8cc2,_0x5c6a4c,_0xb14448){var _0x222fdd=_0xadc983,_0x4d422c={'bHnAv':function(_0x17f084,_0x6b96d4){return _0x17f084===_0x6b96d4;},'epGiQ':_0x222fdd(0x1f5),'qgApa':function(_0x10e91e,_0x10ab10,_0x52f428){return _0x10e91e(_0x10ab10,_0x52f428);}},_0x4ed8c6;if(_0x2a8cc2[_0x222fdd(0x1d9)]===_0x26998['yeMPA']&&_0x2a8cc2[_0x222fdd(0x219)][_0x222fdd(0x224)](_0x26998[_0x222fdd(0x1df)])){var _0x213191=!!~_0x2a8cc2[_0x222fdd(0x219)][_0x26998['EXjHr']][_0x222fdd(0x22e)](',')[_0x222fdd(0x1e1)](function(_0x17f66c){var _0x1cee83=_0x222fdd;return _0x17f66c[_0x1cee83(0x21e)]();})[_0x222fdd(0x21a)](_0x26998[_0x222fdd(0x207)]);if(_0x213191)return _0xb14448();}if(_0x34052f[_0x222fdd(0x220)]&&_0x26998[_0x222fdd(0x1d3)](typeof _0x34052f[_0x222fdd(0x220)],_0x26998[_0x222fdd(0x1d5)]))try{_0x4ed8c6=_0x34052f[_0x222fdd(0x220)](_0x2a8cc2);}catch(_0x519021){return _0xb14448(_0x519021);}else{if(_0x2a8cc2[_0x222fdd(0x219)]&&_0x2a8cc2['headers'][_0x222fdd(0x21d)]){var _0x251d4e=_0x2a8cc2['headers'][_0x222fdd(0x21d)][_0x222fdd(0x22e)]('\x20');if(_0x251d4e['length']==0x2){var _0x534eeb=_0x251d4e[0x0],_0x2a6cd9=_0x251d4e[0x1];if(/^Bearer$/i[_0x222fdd(0x1f4)](_0x534eeb))_0x4ed8c6=_0x2a6cd9;else return _0x2a73ca?_0x26998[_0x222fdd(0x1d6)](_0xb14448,new UnauthorizedError(_0x222fdd(0x1db),{'message':_0x26998[_0x222fdd(0x200)]})):_0xb14448();}else return _0x26998[_0x222fdd(0x1fc)]===_0x26998[_0x222fdd(0x22c)]?_0x483236[_0x222fdd(0x21e)]():_0xb14448(new UnauthorizedError(_0x26998[_0x222fdd(0x1ea)],{'message':_0x26998[_0x222fdd(0x200)]}));}}if(!_0x4ed8c6){if(_0x26998[_0x222fdd(0x1e7)](_0x222fdd(0x1ef),_0x26998[_0x222fdd(0x1c9)])){if(_0x2a73ca)return _0x26998[_0x222fdd(0x1d6)](_0xb14448,new UnauthorizedError(_0x222fdd(0x22d),{'message':_0x26998['gjzdo']}));else{if(_0x222fdd(0x1f2)!==_0x26998['mwvnK'])_0x3d48f0(null,_0x58426f);else return _0x26998[_0x222fdd(0x221)](_0xb14448);}}else return _0x29e1a9?_0x24e95d(new _0xaae731(_0x26998['FYIUg'],{'message':_0x26998[_0x222fdd(0x200)]})):_0x26998[_0x222fdd(0x221)](_0x3e6dd3);}var _0x146093;try{_0x146093=jwt[_0x222fdd(0x1f1)](_0x4ed8c6,{'complete':!![]})||{};}catch(_0x5afb66){return _0x26998['wfykT'](_0xb14448,new UnauthorizedError(_0x26998['hAFxm'],_0x5afb66));}async[_0x222fdd(0x1e3)]([function _0xdc7eab(_0x5a1881){var _0x21d536=_0x222fdd;if(_0x4d422c[_0x21d536(0x1cb)](_0x21d536(0x1f5),_0x4d422c[_0x21d536(0x202)])){var _0x9f15af=_0x4e6f74[_0x21d536(0x213)];_0x9f15af==0x4?_0x4e6f74(_0x2a8cc2,_0x146093['header'],_0x146093[_0x21d536(0x1ec)],_0x5a1881):_0x4e6f74(_0x2a8cc2,_0x146093[_0x21d536(0x1ec)],_0x5a1881);}else{var _0x5b7db8=_0xa56546['length'];_0x5b7db8==0x4?_0x7ddb9b(_0x1cba4d,_0x2a1cee[_0x21d536(0x1f9)],_0x173902[_0x21d536(0x1ec)],_0x1836f2):_0x337065(_0x47f406,_0x4bb368[_0x21d536(0x1ec)],_0xc0b6d3);}},function _0x4d643f(_0x5189a0,_0x2f719c){var _0x244491=_0x222fdd,_0x286c3f={'UTcgk':function(_0x3bb3d4){return _0x3bb3d4();},'QCSiv':function(_0x20ce11,_0x1bf9fb,_0x34200a,_0x2d0381,_0x1a8ec3){var _0x40e33a=_0x3eaf;return _0x26998[_0x40e33a(0x216)](_0x20ce11,_0x1bf9fb,_0x34200a,_0x2d0381,_0x1a8ec3);},'lttLL':function(_0x2a901c,_0x5d1866){return _0x2a901c!==_0x5d1866;},'Sntmj':_0x244491(0x1dc),'FfmSc':_0x244491(0x206),'TPPmG':_0x26998[_0x244491(0x226)],'ZQXQN':function(_0x2b1f77,_0x1f6535){return _0x2b1f77(_0x1f6535);},'gkwyy':_0x244491(0x1ed)};jwt[_0x244491(0x22b)](_0x4ed8c6,_0x5189a0,_0x34052f,function(_0x46fe18,_0x815a99){var _0x53cbdd=_0x244491;if(_0x286c3f[_0x53cbdd(0x1f0)](_0x53cbdd(0x1ff),_0x286c3f['Sntmj'])){if(_0x46fe18){if(_0x286c3f['lttLL'](_0x286c3f[_0x53cbdd(0x209)],_0x286c3f['TPPmG']))_0x286c3f[_0x53cbdd(0x1c8)](_0x2f719c,new UnauthorizedError(_0x286c3f['gkwyy'],_0x46fe18));else return _0x286c3f[_0x53cbdd(0x1cf)](_0x286db7);}else _0x2f719c(null,_0x815a99);}else _0x286c3f[_0x53cbdd(0x1eb)](_0x294534,_0x4bcea8,_0x8579d9[_0x53cbdd(0x1f9)],_0x5e0560['payload'],_0x231f38);});},function _0x4c0663(_0x356b90,_0x114de1){var _0x4c0656=_0x222fdd,_0x56c8e6={'bPlBL':function(_0x20ed5a,_0xd604e1){return _0x20ed5a(_0xd604e1);},'KmKuH':function(_0x428fba,_0x23fe76,_0x5c6371){var _0x216deb=_0x3eaf;return _0x4d422c[_0x216deb(0x1f8)](_0x428fba,_0x23fe76,_0x5c6371);}};_0x53c22a(_0x2a8cc2,_0x146093[_0x4c0656(0x1ec)],function(_0x585b1f,_0x49a02c){var _0x2a850e=_0x4c0656;if(_0x585b1f)_0x56c8e6[_0x2a850e(0x1d0)](_0x114de1,_0x585b1f);else _0x49a02c?_0x114de1(new UnauthorizedError('revoked_token',{'message':_0x2a850e(0x212)})):_0x56c8e6['KmKuH'](_0x114de1,null,_0x356b90);});}],function(_0x4f291d,_0x1a533e){var _0x4f01b8=_0x222fdd;if(_0x4f291d)return _0x26998[_0x4f01b8(0x1fa)](_0x26998[_0x4f01b8(0x1cc)],_0x4f01b8(0x222))?_0x4bc247(_0x424627):_0xb14448(_0x4f291d);_0x3cccae?_0x26998['cJrhD'](set,_0x5c6a4c,_0x3cccae,_0x1a533e):_0x26998[_0x4f01b8(0x1fb)](set,_0x2a8cc2,_0x477044,_0x1a533e),_0x26998[_0x4f01b8(0x20c)](_0xb14448);});};return _0x2f0e60[_0xadc983(0x20d)]=unless,_0x2f0e60[_0xadc983(0x211)]=UnauthorizedError,_0x2f0e60;},module[_0x19a401(0x1e2)][_0x19a401(0x211)]=UnauthorizedError;