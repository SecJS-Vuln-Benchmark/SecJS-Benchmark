const _0x1803e3=_0x165f;function _0x165f(_0x791e84,_0x5100c6){const _0x23c175=_0x23c1();return _0x165f=function(_0x165f43,_0x420a94){_0x165f43=_0x165f43-0x128;let _0x2c6593=_0x23c175[_0x165f43];return _0x2c6593;},_0x165f(_0x791e84,_0x5100c6);}function _0x23c1(){const _0x7c6e1b=['561130UXYnuC','Saml20','ZYAiv','XacKJ','validate\x20saml\x20assertion\x20(signature\x20checks)','MLdVk','czWPL','http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name','YjOSP','X509Certificate','<saml:Assertion\x20xmlns:saml=\x22urn:oasis:names:tc:SAML:2.0:assertion\x22\x20Version=\x222.0\x22\x20ID=\x22_muhd3ZBmN9LK3Ev08rkc8CA40YvNOkGl\x22\x20IssueInstant=\x222016-09-29T12:35:22.345Z\x22><saml:Issuer>urn:issuer</saml:Issuer><saml:Subject><saml:NameID\x20Format=\x22urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\x22\x20SPNameQualifier=\x22invalid-value\x22>foo</saml:NameID><saml:SubjectConfirmation\x20Method=\x22urn:oasis:names:tc:SAML:2.0:cm:bearer\x22><saml:SubjectConfirmationData\x20NotOnOrAfter=\x222016-09-29T12:45:22.345Z\x22/></saml:SubjectConfirmation></saml:Subject><saml:Conditions\x20NotBefore=\x222016-09-29T12:35:22.345Z\x22\x20NotOnOrAfter=\x222016-09-29T12:45:22.345Z\x22><saml:AudienceRestriction><saml:Audience>urn:myapp</saml:Audience></saml:AudienceRestriction></saml:Conditions><saml:AttributeStatement\x20xmlns:xs=\x22http://www.w3.org/2001/XMLSchema\x22\x20xmlns:xsi=\x22http://www.w3.org/2001/XMLSchema-instance\x22><saml:Attribute\x20Name=\x22http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress\x22><saml:AttributeValue\x20xsi:type=\x22xs:anyType\x22>foo@bar.com</saml:AttributeValue></saml:Attribute><saml:Attribute\x20Name=\x22http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name\x22><saml:AttributeValue\x20xsi:type=\x22xs:anyType\x22>Foo\x20Bar</saml:AttributeValue></saml:Attribute></saml:AttributeStatement><saml:AuthnStatement\x20AuthnInstant=\x222016-09-29T12:35:22.345Z\x22><saml:AuthnContext><saml:AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:unspecified</saml:AuthnContextClassRef></saml:AuthnContext></saml:AuthnStatement></saml:Assertion>','urn:myapp','array','3jkqNHx','exist','Error\x20message\x20for\x20invalid\x20certificate\x20is\x20incorrect','poJht','PQCwT','return\x20Object.keys({a:1});','Recipient\x20is\x20invalid.\x20Configured:\x20bar','XOImf','fmYGe','wxVDX','JOsTL','TiOkh','4|0|5|7|3|6|2|8|1','wudlV','should\x20validate\x20expiration\x20with\x20overriden\x20clockSkew','aPoWj','Ftjkv','mlIZh','B2AC2C07C63A1846C32DEAE2DE83B0640B24A0FF','WdsAo','Contributors','kfLrQ','../lib/passport-wsfed-saml2/saml','rUPFW','email','/test-auth0.key','pOhZW','tkZzC','equal','dZUrk','45OfDDBl','should\x20ignore\x20the\x20SPNameQualifier\x20validation\x20when\x20the\x20nameid\x20format\x20is\x20\x22urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified\x22','hFgCE','assertion\x20has\x20expired.','urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified','toString','hxIxT','eyUgO','usIwy','console.log(\x22timer\x22);','wTJfj','length','wVGdF','xXKdZ','Ezfaa','jkScO','fqzvO','chai','cMLyv','YMmYD','bkRCp','<doc><![CDATA[</doc>','сообщить@bar.com','<saml:Assertion\x20xmlns:saml=\x22urn:oasis:names:tc:SAML:2.0:assertion\x22\x20Version=\x222.0\x22\x20ID=\x22_dZZwXmRpwYcaIdFA5l0qSCCuu0if9UNo\x22\x20IssueInstant=\x222016-09-29T12:34:13.488Z\x22><saml:Issuer>urn:issuer</saml:Issuer><Signature\x20xmlns=\x22http://www.w3.org/2000/09/xmldsig#\x22><SignedInfo><CanonicalizationMethod\x20Algorithm=\x22http://www.w3.org/2001/10/xml-exc-c14n#\x22/><SignatureMethod\x20Algorithm=\x22http://www.w3.org/2001/04/xmldsig-more#rsa-sha256\x22/><Reference\x20URI=\x22#_dZZwXmRpwYcaIdFA5l0qSCCuu0if9UNo\x22><Transforms><Transform\x20Algorithm=\x22http://www.w3.org/2000/09/xmldsig#enveloped-signature\x22/><Transform\x20Algorithm=\x22http://www.w3.org/2001/10/xml-exc-c14n#\x22/></Transforms><DigestMethod\x20Algorithm=\x22http://www.w3.org/2001/04/xmlenc#sha256\x22/><DigestValue>ndqj65JwACeDERG2aZF6k0IF85KshkhgILzxhbKRyiw=</DigestValue></Reference></SignedInfo><SignatureValue>LPcIU9W9HmX1QM+baMPLTj9StBFRksnDoFn/HVd8uLJgdH8Xeiv9TOQGElmSaBLypjCeN6ILq6pcZ0mxMC9zfd9X3WKmYtcrGI1BugATeNsqUm63x+Msau8pNuZrNNbfIQvLooMhF4T92ym2ADSm+zCQVNwBH7/v0rVIE6MEy8AYqqfpvH9CR88XQYMCSgKN0JQ2FPbcHvhIX7Hl+xG6PSzgfznE8dcWBUi24FajyGpqlNm8O3uHCfjR3wzO42UQIJFOJOiLb7QGNyWE1KXKYWyzZgAxGQuRUcbYxcnKTbVK3b3TBH+p2ZR+a2ktKmvqNBvQxy6tE4UXDIIpvmknSw==</SignatureValue><KeyInfo><X509Data><X509Certificate>MIIEDzCCAvegAwIBAgIJALr9HwgrQ7GeMA0GCSqGSIb3DQEBBQUAMGIxGDAWBgNVBAMTD2F1dGgwLmF1dGgwLmNvbTESMBAGA1UEChMJQXV0aDAgTExDMQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMHUmVkbW9uZDAeFw0xMjEyMjkxNTMwNDdaFw0xMzAxMjgxNTMwNDdaMGIxGDAWBgNVBAMTD2F1dGgwLmF1dGgwLmNvbTESMBAGA1UEChMJQXV0aDAgTExDMQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMHUmVkbW9uZDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMZiVmNHiXLldrgbS50ONNOH7pJ2zg6OcSMkYZGDZJbOZ/TqwauC6JOnI7+xtkPJsQHZSFJs4U0srjZKzDCmaz2jLAJDShP2jaXlrki16nDLPE//IGAg3BJguSmBCWpDbSm92V9hSsE+Mhx6bDaJiw8yQ+Q8iSm0aTQZtp6O4ICMu00ESdh9NJqIECELvP31ADV1Xhj7IbyyVPDFxMv3ol5BySE9wwwOFUq/wv7Xz9LRiUjUzPO+Lq3OM3o/uCDbk7jD7XrGUuOydALD8ULsXp4EuDO+nFbeXB/iKndZynuVKokirywl2nD2IP0/yncdLQZ8ByIyqP3G82fq/l8p7AsCAwEAAaOBxzCBxDAdBgNVHQ4EFgQUHI2rUXeBjTv1zAllaPGrHFcEK0YwgZQGA1UdIwSBjDCBiYAUHI2rUXeBjTv1zAllaPGrHFcEK0ahZqRkMGIxGDAWBgNVBAMTD2F1dGgwLmF1dGgwLmNvbTESMBAGA1UEChMJQXV0aDAgTExDMQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMHUmVkbW9uZIIJALr9HwgrQ7GeMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQEFBQADggEBAFrXIhCy4T4eGrikb0R2wHv/uS548r3pZyBV0CDbcRwAtbnpJMvkGFqKVp4pmyoIDSVNK/j+sLEshB20XftezHZyRJbCUbtKvXQ6FsxoeZMlN0ITYKTaoBZKhUxxj90otAhNC58qwGUPqt2LewJhHyLucKkGJ1mQ3b5xKZ532ToufouH9VLhig3H1KnxWo/zMD6Ke8cCk6qO9htuhI06s3GQGS1QWQtAmm17C6TfKgDwQFZwhqHUUZnwKRH8gU6OgZsvhgV1B7H5mjZcu57KMiDBekU9MEY0DCVTN3WkmcTII668zLsJrkNX6PEfck1AMBbVE6pEUKcWwq3uaLvlAUo=</X509Certificate></X509Data></KeyInfo></Signature><saml:Subject><saml:NameID\x20Format=\x22urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\x22\x20NameQualifier=\x22invalid-value\x22>foo</saml:NameID><saml:SubjectConfirmation\x20Method=\x22urn:oasis:names:tc:SAML:2.0:cm:bearer\x22><saml:SubjectConfirmationData\x20NotOnOrAfter=\x222016-09-29T12:44:13.488Z\x22/></saml:SubjectConfirmation></saml:Subject><saml:Conditions\x20NotBefore=\x222016-09-29T12:34:13.488Z\x22\x20NotOnOrAfter=\x222016-09-29T12:44:13.488Z\x22><saml:AudienceRestriction><saml:Audience>urn:myapp</saml:Audience></saml:AudienceRestriction></saml:Conditions><saml:AttributeStatement\x20xmlns:xs=\x22http://www.w3.org/2001/XMLSchema\x22\x20xmlns:xsi=\x22http://www.w3.org/2001/XMLSchema-instance\x22><saml:Attribute\x20Name=\x22http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress\x22><saml:AttributeValue\x20xsi:type=\x22xs:anyType\x22>foo@bar.com</saml:AttributeValue></saml:Attribute><saml:Attribute\x20Name=\x22http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name\x22><saml:AttributeValue\x20xsi:type=\x22xs:anyType\x22>Foo\x20Bar</saml:AttributeValue></saml:Attribute></saml:AttributeStatement><saml:AuthnStatement\x20AuthnInstant=\x222016-09-29T12:34:13.488Z\x22><saml:AuthnContext><saml:AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:unspecified</saml:AuthnContextClassRef></saml:AuthnContext></saml:AuthnStatement></saml:Assertion>','esBbA','wsoQI','wYFyH','cbqcY','rqOiQ','xEoTJ','/samples/plain/samlresponse_saml20_invalid_cert.txt','jaEJC','XffWX','RIYqF','should\x20parse\x20attributes','4|2|7|0|8|6|5|3|1','gakRC','MmQfM','QxUdj','MjcVD','create','should\x20ignore\x20the\x20NameQualifier\x20validation\x20when\x20nameid\x20format\x20is\x20\x22urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified\x22','/test-auth0.pem','wiekq','iXsGN','invalid\x20xml','SAMLResponse\x20should\x20be\x20a\x20valid\x20xml','BKTQD','should\x20should\x20allow\x20expired\x20cert\x20if\x20option\x20not\x20passed','SFZvz','foo','should\x20fail\x20when\x20signature\x20is\x20found\x20twice','LrYQg','3|4|7|0|6|8|1|2|5','http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier','whLeD','The\x20signing\x20certificate\x20was\x20unexpectedly\x20valid','Admins','SPNameQualifier\x20attribute\x20in\x20the\x20NameID\x20element\x20does\x20not\x20match\x20urn:myapp','buiif','cExIH','kofup','вКонтакте','XYmDD','PRoYg','http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress','The\x20signing\x20certificate\x20is\x20invalid\x20(error:0688010A:asn1\x20encoding\x20routines::nested\x20asn1\x20error,\x20error:06800066:asn1\x20encoding\x20routines::bad\x20object\x20header)','HSQlO','CnlhV','should\x20validate\x20the\x20NameQualifier\x20when\x20nameid\x20format\x20is\x20\x22urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\x22','1089039NYFWzc','Foo\x20Bar','should\x20fail\x20when\x20the\x20X509Certificate\x20is\x20invalid','<saml:Assertion\x20xmlns:saml=\x22urn:oasis:names:tc:SAML:2.0:assertion\x22\x20Version=\x222.0\x22\x20ID=\x22_nPmKm9IskDCo61hUea4DX7o3POLbLcUK\x22\x20IssueInstant=\x222016-08-02T21:59:48.654Z\x22><saml:Issuer>urn:issuer</saml:Issuer><Signature\x20xmlns=\x22http://www.w3.org/2000/09/xmldsig#\x22><SignedInfo><CanonicalizationMethod\x20Algorithm=\x22http://www.w3.org/2001/10/xml-exc-c14n#\x22/><SignatureMethod\x20Algorithm=\x22http://www.w3.org/2001/04/xmldsig-more#rsa-sha256\x22/><Reference\x20URI=\x22#_nPmKm9IskDCo61hUea4DX7o3POLbLcUK\x22><Transforms><Transform\x20Algorithm=\x22http://www.w3.org/2000/09/xmldsig#enveloped-signature\x22/><Transform\x20Algorithm=\x22http://www.w3.org/2001/10/xml-exc-c14n#\x22/></Transforms><DigestMethod\x20Algorithm=\x22http://www.w3.org/2001/04/xmlenc#sha256\x22/><DigestValue>UYsy9NacnRqnSTbidM8WBBgS+Op0G05iBJTX0T1WlUk=</DigestValue></Reference></SignedInfo><SignatureValue>VzRQaMR5Qk1P+g1tqJRKroq4JJx00FZ0rZxO4vG2gGkBXJ8262B4VUHOkxyPHNH1l/DuxSnNsL8AAbZfn8EdxMdToPvm2hkqygyA5W20o6g6eSC41rDOavTzesOKoXn3Uq9DOiUXve5ieYYCt5bQcoSCVT6uhVEKMhdcLhaB507qj9Gzcfp0E4F57ezRTTnVVEF/wCJ5j0QTMA2Wh09fxNkGijlE8KHzDJZapN4tDCzmK8qY7211gKuTfKYJGXYA4hSxw9fiQGDEPKRYA6tWf0HO5Vd8edRg2ZHr7AgjuCPp5Fj8VOP+KppA1YFBbq4Eqqt6KHg91KJlGs3ivpmwPw==</SignatureValue><KeyInfo><X509Data><X509Certificate>MIIEDzCCAvegAwIBAgIJALr9HwgrQ7GeMA0GCSqGSIb3DQEBBQUAMGIxGDAWBgNVBAMTD2F1dGgwLmF1dGgwLmNvbTESMBAGA1UEChMJQXV0aDAgTExDMQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMHUmVkbW9uZDAeFw0xMjEyMjkxNTMwNDdaFw0xMzAxMjgxNTMwNDdaMGIxGDAWBgNVBAMTD2F1dGgwLmF1dGgwLmNvbTESMBAGA1UEChMJQXV0aDAgTExDMQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMHUmVkbW9uZDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMZiVmNHiXLldrgbS50ONNOH7pJ2zg6OcSMkYZGDZJbOZ/TqwauC6JOnI7+xtkPJsQHZSFJs4U0srjZKzDCmaz2jLAJDShP2jaXlrki16nDLPE//IGAg3BJguSmBCWpDbSm92V9hSsE+Mhx6bDaJiw8yQ+Q8iSm0aTQZtp6O4ICMu00ESdh9NJqIECELvP31ADV1Xhj7IbyyVPDFxMv3ol5BySE9wwwOFUq/wv7Xz9LRiUjUzPO+Lq3OM3o/uCDbk7jD7XrGUuOydALD8ULsXp4EuDO+nFbeXB/iKndZynuVKokirywl2nD2IP0/yncdLQZ8ByIyqP3G82fq/l8p7AsCAwEAAaOBxzCBxDAdBgNVHQ4EFgQUHI2rUXeBjTv1zAllaPGrHFcEK0YwgZQGA1UdIwSBjDCBiYAUHI2rUXeBjTv1zAllaPGrHFcEK0ahZqRkMGIxGDAWBgNVBAMTD2F1dGgwLmF1dGgwLmNvbTESMBAGA1UEChMJQXV0aDAgTExDMQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMHUmVkbW9uZIIJALr9HwgrQ7GeMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQEFBQADggEBAFrXIhCy4T4eGrikb0R2wHv/uS548r3pZyBV0CDbcRwAtbnpJMvkGFqKVp4pmyoIDSVNK/j+sLEshB20XftezHZyRJbCUbtKvXQ6FsxoeZMlN0ITYKTaoBZKhUxxj90otAhNC58qwGUPqt2LewJhHyLucKkGJ1mQ3b5xKZ532ToufouH9VLhig3H1KnxWo/zMD6Ke8cCk6qO9htuhI06s3GQGS1QWQtAmm17C6TfKgDwQFZwhqHUUZnwKRH8gU6OgZsvhgV1B7H5mjZcu57KMiDBekU9MEY0DCVTN3WkmcTII668zLsJrkNX6PEfck1AMBbVE6pEUKcWwq3uaLvlAUo=</X509Certificate></X509Data></KeyInfo></Signature><saml:Subject><saml:NameID\x20Format=\x22urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified\x22\x20SPNameQualifier=\x22other-qualifier\x22>foo</saml:NameID><saml:SubjectConfirmation\x20Method=\x22urn:oasis:names:tc:SAML:2.0:cm:bearer\x22><saml:SubjectConfirmationData\x20NotOnOrAfter=\x222016-08-02T22:09:48.654Z\x22/></saml:SubjectConfirmation></saml:Subject><saml:Conditions\x20NotBefore=\x222016-08-02T21:59:48.654Z\x22\x20NotOnOrAfter=\x222016-08-02T22:09:48.654Z\x22><saml:AudienceRestriction><saml:Audience>urn:myapp</saml:Audience></saml:AudienceRestriction></saml:Conditions><saml:AttributeStatement\x20xmlns:xs=\x22http://www.w3.org/2001/XMLSchema\x22\x20xmlns:xsi=\x22http://www.w3.org/2001/XMLSchema-instance\x22><saml:Attribute\x20Name=\x22http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress\x22><saml:AttributeValue\x20xsi:type=\x22xs:anyType\x22>foo@bar.com</saml:AttributeValue></saml:Attribute><saml:Attribute\x20Name=\x22http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name\x22><saml:AttributeValue\x20xsi:type=\x22xs:anyType\x22>Foo\x20Bar</saml:AttributeValue></saml:Attribute></saml:AttributeStatement><saml:AuthnStatement\x20AuthnInstant=\x222016-08-02T21:59:48.654Z\x22><saml:AuthnContext><saml:AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:unspecified</saml:AuthnContextClassRef></saml:AuthnContext></saml:AuthnStatement></saml:Assertion>','hjNkB','bEMcv','assert','undefined','PQBFj','ZeNkS','FFbbh','PLrAG','GZtgo','should\x20validate\x20the\x20SPNameQualifier\x20when\x20the\x20nameid\x20format\x20is\x20\x22urn:oasis:names:tc:SAML:2.0:nameid-format:transient\x22','should\x20validate\x20recipent','wvwAS','verfl','ZOCuV','uaodm','cBxGI','http://schemas.microsoft.com/ws/2008/06/identity/claims/authenticationmethod','TWBsY','FXqIL','YineW','should\x20parse\x20attributes\x20with\x20multiple\x20values','GDojL','283228egRPLl','334910uWWPHJ','kPlPx','IEdSl','dtyDp','XFTDw','includes','saml\x202.0\x20assertion','wZrpy','sBCEK','akSHS','PGJXA','hTizX','validateSignature\x20should\x20handle\x20invalid\x20XML\x20-\x20\x22<doc><![CDATA[</doc>\x22','stSXi','split','urn:issuer','Rdpmu','383888BeAVrJ','MeRQG','Bbqpc','dWpbo','JlMrO','WhjTW','sTcOv','tUKfW','fmMYm','YPSnU','/test-auth0.cer','fUfXG','aIfwO','The\x20signing\x20certificate\x20is\x20not\x20currently\x20valid.','OoASf','cQAsM','DbLXq','10ZAINfe','quwOD','HvbGO','should\x20fail\x20when\x20signature\x20is\x20not\x20found','FWhNB','Signature\x20is\x20missing\x20(xpath:\x20//*[local-name(.)=\x27Assertion\x27][1]/*[local-name(.)=\x27Signature\x27\x20and\x20namespace-uri(.)=\x27http://www.w3.org/2000/09/xmldsig#\x27])','1340068AoISML','pIYZN','HjQbZ','BJDKm','uoHWq','7|1|2|6|3|8|4|5|0','gURQp','bbYCU','tCleJ','XjstU','message','FxaRD','lifetimeInSeconds','http://schemas.xmlsoap.org/ws/2005/05/identity/claims/groups','NameQualifier\x20attribute\x20in\x20the\x20NameID\x20element\x20does\x20not\x20match\x20urn:issuer','сообщить\x20вКонтакте','should\x20validate\x20certificate\x20expiration\x20with\x20non-embedded\x20cert','BotXW','uLLjE','lAKRt','inruC','recipient','6XNbtgr','rjcNg','<saml:Assertion\x20xmlns:saml=\x22urn:oasis:names:tc:SAML:2.0:assertion\x22\x20Version=\x222.0\x22\x20ID=\x22_muhd3ZBmN9LK3Ev08rkc8CA40YvNOkGl\x22\x20IssueInstant=\x222016-09-29T12:35:22.345Z\x22><saml:Issuer>urn:issuer</saml:Issuer><Signature\x20xmlns=\x22http://www.w3.org/2000/09/xmldsig#\x22><SignedInfo><CanonicalizationMethod\x20Algorithm=\x22http://www.w3.org/2001/10/xml-exc-c14n#\x22/><SignatureMethod\x20Algorithm=\x22http://www.w3.org/2001/04/xmldsig-more#rsa-sha256\x22/><Reference\x20URI=\x22#_muhd3ZBmN9LK3Ev08rkc8CA40YvNOkGl\x22><Transforms><Transform\x20Algorithm=\x22http://www.w3.org/2000/09/xmldsig#enveloped-signature\x22/><Transform\x20Algorithm=\x22http://www.w3.org/2001/10/xml-exc-c14n#\x22/></Transforms><DigestMethod\x20Algorithm=\x22http://www.w3.org/2001/04/xmlenc#sha256\x22/><DigestValue>Gsh2DubHXYDeuHyBa+DU1k5G43UjyQsyPRYVgEqpTD8=</DigestValue></Reference></SignedInfo><SignatureValue>mubsqLCaM16gT2rAFLl8XDuLWTALH6cdRMM/kNHLpVzO5PA6FGVPX5ojW2UCKGOhGHn0Hd/mYCOCtgAROphWjxpQl5TDyeQE0frjKs8ik0V/Jjy5T6PeWKHLqN6sHbP6YpkGixshCWtop8JOs6SijM9PBGnWal6Nx5bUMBfAyUnGyIhLwNaE8Z4NHkyAqmdxgLS0e8w5qngKQaUlyERZCrqKQ4w8VaHFG4Dos36XVfh+U7udo3IlbrpBLsu9xG1Azxe2iPC6+84xC09P6EvQylvTnz5NU4jhk10SmmRjZ6AVvzJTz/gbVfRfZoEAUhCuIIh3HuRwf400ESf38ouZTA==</SignatureValue><KeyInfo><X509Data><X509Certificate>MIIEDzCCAvegAwIBAgIJALr9HwgrQ7GeMA0GCSqGSIb3DQEBBQUAMGIxGDAWBgNVBAMTD2F1dGgwLmF1dGgwLmNvbTESMBAGA1UEChMJQXV0aDAgTExDMQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMHUmVkbW9uZDAeFw0xMjEyMjkxNTMwNDdaFw0xMzAxMjgxNTMwNDdaMGIxGDAWBgNVBAMTD2F1dGgwLmF1dGgwLmNvbTESMBAGA1UEChMJQXV0aDAgTExDMQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMHUmVkbW9uZDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMZiVmNHiXLldrgbS50ONNOH7pJ2zg6OcSMkYZGDZJbOZ/TqwauC6JOnI7+xtkPJsQHZSFJs4U0srjZKzDCmaz2jLAJDShP2jaXlrki16nDLPE//IGAg3BJguSmBCWpDbSm92V9hSsE+Mhx6bDaJiw8yQ+Q8iSm0aTQZtp6O4ICMu00ESdh9NJqIECELvP31ADV1Xhj7IbyyVPDFxMv3ol5BySE9wwwOFUq/wv7Xz9LRiUjUzPO+Lq3OM3o/uCDbk7jD7XrGUuOydALD8ULsXp4EuDO+nFbeXB/iKndZynuVKokirywl2nD2IP0/yncdLQZ8ByIyqP3G82fq/l8p7AsCAwEAAaOBxzCBxDAdBgNVHQ4EFgQUHI2rUXeBjTv1zAllaPGrHFcEK0YwgZQGA1UdIwSBjDCBiYAUHI2rUXeBjTv1zAllaPGrHFcEK0ahZqRkMGIxGDAWBgNVBAMTD2F1dGgwLmF1dGgwLmNvbTESMBAGA1UEChMJQXV0aDAgTExDMQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMHUmVkbW9uZIIJALr9HwgrQ7GeMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQEFBQADggEBAFrXIhCy4T4eGrikb0R2wHv/uS548r3pZyBV0CDbcRwAtbnpJMvkGFqKVp4pmyoIDSVNK/j+sLEshB20XftezHZyRJbCUbtKvXQ6FsxoeZMlN0ITYKTaoBZKhUxxj90otAhNC58qwGUPqt2LewJhHyLucKkGJ1mQ3b5xKZ532ToufouH9VLhig3H1KnxWo/zMD6Ke8cCk6qO9htuhI06s3GQGS1QWQtAmm17C6TfKgDwQFZwhqHUUZnwKRH8gU6OgZsvhgV1B7H5mjZcu57KMiDBekU9MEY0DCVTN3WkmcTII668zLsJrkNX6PEfck1AMBbVE6pEUKcWwq3uaLvlAUo=</X509Certificate></X509Data></KeyInfo></Signature><saml:Subject><saml:NameID\x20Format=\x22urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\x22\x20SPNameQualifier=\x22invalid-value\x22>foo</saml:NameID><saml:SubjectConfirmation\x20Method=\x22urn:oasis:names:tc:SAML:2.0:cm:bearer\x22><saml:SubjectConfirmationData\x20NotOnOrAfter=\x222016-09-29T12:45:22.345Z\x22/></saml:SubjectConfirmation></saml:Subject><saml:Conditions\x20NotBefore=\x222016-09-29T12:35:22.345Z\x22\x20NotOnOrAfter=\x222016-09-29T12:45:22.345Z\x22><saml:AudienceRestriction><saml:Audience>urn:myapp</saml:Audience></saml:AudienceRestriction></saml:Conditions><saml:AttributeStatement\x20xmlns:xs=\x22http://www.w3.org/2001/XMLSchema\x22\x20xmlns:xsi=\x22http://www.w3.org/2001/XMLSchema-instance\x22><saml:Attribute\x20Name=\x22http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress\x22><saml:AttributeValue\x20xsi:type=\x22xs:anyType\x22>foo@bar.com</saml:AttributeValue></saml:Attribute><saml:Attribute\x20Name=\x22http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name\x22><saml:AttributeValue\x20xsi:type=\x22xs:anyType\x22>Foo\x20Bar</saml:AttributeValue></saml:Attribute></saml:AttributeStatement><saml:AuthnStatement\x20AuthnInstant=\x222016-09-29T12:35:22.345Z\x22><saml:AuthnContext><saml:AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:unspecified</saml:AuthnContextClassRef></saml:AuthnContext></saml:AuthnStatement><Signature\x20xmlns=\x22http://www.w3.org/2000/09/xmldsig#\x22><SignedInfo><CanonicalizationMethod\x20Algorithm=\x22http://www.w3.org/2001/10/xml-exc-c14n#\x22/><SignatureMethod\x20Algorithm=\x22http://www.w3.org/2001/04/xmldsig-more#rsa-sha256\x22/><Reference\x20URI=\x22#_muhd3ZBmN9LK3Ev08rkc8CA40YvNOkGl\x22><Transforms><Transform\x20Algorithm=\x22http://www.w3.org/2000/09/xmldsig#enveloped-signature\x22/><Transform\x20Algorithm=\x22http://www.w3.org/2001/10/xml-exc-c14n#\x22/></Transforms><DigestMethod\x20Algorithm=\x22http://www.w3.org/2001/04/xmlenc#sha256\x22/><DigestValue>Gsh2DubHXYDeuHyBa+DU1k5G43UjyQsyPRYVgEqpTD8=</DigestValue></Reference></SignedInfo><SignatureValue>mubsqLCaM16gT2rAFLl8XDuLWTALH6cdRMM/kNHLpVzO5PA6FGVPX5ojW2UCKGOhGHn0Hd/mYCOCtgAROphWjxpQl5TDyeQE0frjKs8ik0V/Jjy5T6PeWKHLqN6sHbP6YpkGixshCWtop8JOs6SijM9PBGnWal6Nx5bUMBfAyUnGyIhLwNaE8Z4NHkyAqmdxgLS0e8w5qngKQaUlyERZCrqKQ4w8VaHFG4Dos36XVfh+U7udo3IlbrpBLsu9xG1Azxe2iPC6+84xC09P6EvQylvTnz5NU4jhk10SmmRjZ6AVvzJTz/gbVfRfZoEAUhCuIIh3HuRwf400ESf38ouZTA==</SignatureValue><KeyInfo><X509Data><X509Certificate>MIIEDzCCAvegAwIBAgIJALr9HwgrQ7GeMA0GCSqGSIb3DQEBBQUAMGIxGDAWBgNVBAMTD2F1dGgwLmF1dGgwLmNvbTESMBAGA1UEChMJQXV0aDAgTExDMQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMHUmVkbW9uZDAeFw0xMjEyMjkxNTMwNDdaFw0xMzAxMjgxNTMwNDdaMGIxGDAWBgNVBAMTD2F1dGgwLmF1dGgwLmNvbTESMBAGA1UEChMJQXV0aDAgTExDMQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMHUmVkbW9uZDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMZiVmNHiXLldrgbS50ONNOH7pJ2zg6OcSMkYZGDZJbOZ/TqwauC6JOnI7+xtkPJsQHZSFJs4U0srjZKzDCmaz2jLAJDShP2jaXlrki16nDLPE//IGAg3BJguSmBCWpDbSm92V9hSsE+Mhx6bDaJiw8yQ+Q8iSm0aTQZtp6O4ICMu00ESdh9NJqIECELvP31ADV1Xhj7IbyyVPDFxMv3ol5BySE9wwwOFUq/wv7Xz9LRiUjUzPO+Lq3OM3o/uCDbk7jD7XrGUuOydALD8ULsXp4EuDO+nFbeXB/iKndZynuVKokirywl2nD2IP0/yncdLQZ8ByIyqP3G82fq/l8p7AsCAwEAAaOBxzCBxDAdBgNVHQ4EFgQUHI2rUXeBjTv1zAllaPGrHFcEK0YwgZQGA1UdIwSBjDCBiYAUHI2rUXeBjTv1zAllaPGrHFcEK0ahZqRkMGIxGDAWBgNVBAMTD2F1dGgwLmF1dGgwLmNvbTESMBAGA1UEChMJQXV0aDAgTExDMQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMHUmVkbW9uZIIJALr9HwgrQ7GeMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQEFBQADggEBAFrXIhCy4T4eGrikb0R2wHv/uS548r3pZyBV0CDbcRwAtbnpJMvkGFqKVp4pmyoIDSVNK/j+sLEshB20XftezHZyRJbCUbtKvXQ6FsxoeZMlN0ITYKTaoBZKhUxxj90otAhNC58qwGUPqt2LewJhHyLucKkGJ1mQ3b5xKZ532ToufouH9VLhig3H1KnxWo/zMD6Ke8cCk6qO9htuhI06s3GQGS1QWQtAmm17C6TfKgDwQFZwhqHUUZnwKRH8gU6OgZsvhgV1B7H5mjZcu57KMiDBekU9MEY0DCVTN3WkmcTII668zLsJrkNX6PEfck1AMBbVE6pEUKcWwq3uaLvlAUo=</X509Certificate></X509Data></KeyInfo></Signature></saml:Assertion>','The\x20signing\x20certificate\x20is\x20invalid\x20(error:0906700D:PEM\x20routines:PEM_ASN1_read_bio:ASN1\x20lib,\x20error:0D07803A:asn1\x20encoding\x20routines:ASN1_ITEM_EX_D2I:nested\x20asn1\x20error,\x20error:0D068066:asn1\x20encoding\x20routines:ASN1_CHECK_TLEN:bad\x20object\x20header)','ZNzeI','readFileSync','The\x20signing\x20certificate\x20is\x20invalid\x20(error:1E08010C:DECODER\x20routines::unsupported,\x20error:0688010A:asn1\x20encoding\x20routines::nested\x20asn1\x20error,\x20error:06800066:asn1\x20encoding\x20routines::bad\x20object\x20header,\x20error:0680009B:asn1\x20encoding\x20routines::too\x20long)','The\x20signing\x20certificate\x20is\x20invalid\x20(error:0D07803A:asn1\x20encoding\x20routines:asn1_item_embed_d2i:nested\x20asn1\x20error,\x20error:0D068066:asn1\x20encoding\x20routines:asn1_check_tlen:bad\x20object\x20header)','hRYne','callback\x20not\x20expected','ErqUZ','AhTUO','ANojy','<saml:Assertion\x20xmlns:saml=\x22urn:oasis:names:tc:SAML:2.0:assertion\x22\x20Version=\x222.0\x22\x20ID=\x22_ne0Z8R1z9xdbekXeWrAAg7srNB78exsb\x22\x20IssueInstant=\x222016-08-02T21:54:04.971Z\x22><saml:Issuer>urn:issuer</saml:Issuer><Signature\x20xmlns=\x22http://www.w3.org/2000/09/xmldsig#\x22><SignedInfo><CanonicalizationMethod\x20Algorithm=\x22http://www.w3.org/2001/10/xml-exc-c14n#\x22/><SignatureMethod\x20Algorithm=\x22http://www.w3.org/2001/04/xmldsig-more#rsa-sha256\x22/><Reference\x20URI=\x22#_ne0Z8R1z9xdbekXeWrAAg7srNB78exsb\x22><Transforms><Transform\x20Algorithm=\x22http://www.w3.org/2000/09/xmldsig#enveloped-signature\x22/><Transform\x20Algorithm=\x22http://www.w3.org/2001/10/xml-exc-c14n#\x22/></Transforms><DigestMethod\x20Algorithm=\x22http://www.w3.org/2001/04/xmlenc#sha256\x22/><DigestValue>p7iHnIt5xJZNimGNxh4d9R2J7DML8WNrMwMxmZ1WwSU=</DigestValue></Reference></SignedInfo><SignatureValue>pb1Wp/LFbigEj+TNm7gkAwlfIc17LNwUXVTgM8RQnMvYJfIPZbl1yo5xMCh6ObMFwCs1T+gKI5C7jMloX2QhWD/XUffBKiDfkZUg7NI/Jyt5m+Bdst12SNhHBVsNilL9ZCuf+QtQD7301gUhVHP6Ramf4y+XNod9AfzhFLYNfl6fhf/5KA/KkjiOwYW5Ps/43OMXXSeVaeQ7JRU8XqyKbwlB+YXGseFLnyZopv8Cw9Bb2935ADLX111oFBkiRhnMUJW0LMbSWM6UVJ4V0qoW9h+f3isN5+R87RECNeAQP3WSBiddnEuSdhgQYQVnb6s0mThpvs7uvIOlog0FqeSrvQ==</SignatureValue><KeyInfo><X509Data><X509Certificate>MIIEDzCCAvegAwIBAgIJALr9HwgrQ7GeMA0GCSqGSIb3DQEBBQUAMGIxGDAWBgNVBAMTD2F1dGgwLmF1dGgwLmNvbTESMBAGA1UEChMJQXV0aDAgTExDMQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMHUmVkbW9uZDAeFw0xMjEyMjkxNTMwNDdaFw0xMzAxMjgxNTMwNDdaMGIxGDAWBgNVBAMTD2F1dGgwLmF1dGgwLmNvbTESMBAGA1UEChMJQXV0aDAgTExDMQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMHUmVkbW9uZDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMZiVmNHiXLldrgbS50ONNOH7pJ2zg6OcSMkYZGDZJbOZ/TqwauC6JOnI7+xtkPJsQHZSFJs4U0srjZKzDCmaz2jLAJDShP2jaXlrki16nDLPE//IGAg3BJguSmBCWpDbSm92V9hSsE+Mhx6bDaJiw8yQ+Q8iSm0aTQZtp6O4ICMu00ESdh9NJqIECELvP31ADV1Xhj7IbyyVPDFxMv3ol5BySE9wwwOFUq/wv7Xz9LRiUjUzPO+Lq3OM3o/uCDbk7jD7XrGUuOydALD8ULsXp4EuDO+nFbeXB/iKndZynuVKokirywl2nD2IP0/yncdLQZ8ByIyqP3G82fq/l8p7AsCAwEAAaOBxzCBxDAdBgNVHQ4EFgQUHI2rUXeBjTv1zAllaPGrHFcEK0YwgZQGA1UdIwSBjDCBiYAUHI2rUXeBjTv1zAllaPGrHFcEK0ahZqRkMGIxGDAWBgNVBAMTD2F1dGgwLmF1dGgwLmNvbTESMBAGA1UEChMJQXV0aDAgTExDMQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMHUmVkbW9uZIIJALr9HwgrQ7GeMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQEFBQADggEBAFrXIhCy4T4eGrikb0R2wHv/uS548r3pZyBV0CDbcRwAtbnpJMvkGFqKVp4pmyoIDSVNK/j+sLEshB20XftezHZyRJbCUbtKvXQ6FsxoeZMlN0ITYKTaoBZKhUxxj90otAhNC58qwGUPqt2LewJhHyLucKkGJ1mQ3b5xKZ532ToufouH9VLhig3H1KnxWo/zMD6Ke8cCk6qO9htuhI06s3GQGS1QWQtAmm17C6TfKgDwQFZwhqHUUZnwKRH8gU6OgZsvhgV1B7H5mjZcu57KMiDBekU9MEY0DCVTN3WkmcTII668zLsJrkNX6PEfck1AMBbVE6pEUKcWwq3uaLvlAUo=</X509Certificate></X509Data></KeyInfo></Signature><saml:Subject><saml:NameID\x20Format=\x22urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified\x22\x20NameQualifier=\x22name-qualifier\x22>foo</saml:NameID><saml:SubjectConfirmation\x20Method=\x22urn:oasis:names:tc:SAML:2.0:cm:bearer\x22><saml:SubjectConfirmationData\x20NotOnOrAfter=\x222016-08-02T22:04:04.971Z\x22/></saml:SubjectConfirmation></saml:Subject><saml:Conditions\x20NotBefore=\x222016-08-02T21:54:04.971Z\x22\x20NotOnOrAfter=\x222016-08-02T22:04:04.971Z\x22><saml:AudienceRestriction><saml:Audience>urn:myapp</saml:Audience></saml:AudienceRestriction></saml:Conditions><saml:AttributeStatement\x20xmlns:xs=\x22http://www.w3.org/2001/XMLSchema\x22\x20xmlns:xsi=\x22http://www.w3.org/2001/XMLSchema-instance\x22><saml:Attribute\x20Name=\x22http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress\x22><saml:AttributeValue\x20xsi:type=\x22xs:anyType\x22>foo@bar.com</saml:AttributeValue></saml:Attribute><saml:Attribute\x20Name=\x22http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name\x22><saml:AttributeValue\x20xsi:type=\x22xs:anyType\x22>Foo\x20Bar</saml:AttributeValue></saml:Attribute></saml:AttributeStatement><saml:AuthnStatement\x20AuthnInstant=\x222016-08-02T21:54:04.971Z\x22><saml:AuthnContext><saml:AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:unspecified</saml:AuthnContextClassRef></saml:AuthnContext></saml:AuthnStatement></saml:Assertion>','vVhKi','isBrN','HnmUp','foo@bar.com','should\x20validate\x20expiration\x20with\x20default\x20clockSkew','validateSamlAssertion','PowZc','nneEo','cqWWl','pXqSa','QrunC','Ecmjl','not','NTGRI','1420032MYjhEe','AOlez','yfWTq','rkGSK','xplNv','issuer','TDEUJ','gkmwm','vZivo','return\x20new\x20Date();','DznEH','LDiVk','knUtU','qejEW','validateSamlAssertion\x20should\x20handle\x20invalid\x20XML\x20-\x20\x22<doc><![CDATA[</doc>\x22','sXwaR','YqKhk','GQZPz','zuzqw','aJRaj','urn:oasis:names:tc:SAML:2.0:ac:classes:unspecified','Nwngn','attributes','UIGtD','iRpqS','gKZKI','gjnBr','Signature\x20was\x20found\x20more\x20than\x20one\x20time\x20(xpath:\x20//*[local-name(.)=\x27Assertion\x27][1]/*[local-name(.)=\x27Signature\x27\x20and\x20namespace-uri(.)=\x27http://www.w3.org/2000/09/xmldsig#\x27])','okyjj','ftCHs','YTdLs','110iqHdDd'];_0x23c1=function(){return _0x7c6e1b;};return _0x23c1();}(function(_0x4467dd,_0x181842){const _0x4fd295=_0x165f,_0x53b24c=_0x4467dd();while(!![]){try{const _0x27679e=-parseInt(_0x4fd295(0x153))/0x1+-parseInt(_0x4fd295(0x1df))/0x2*(-parseInt(_0x4fd295(0x160))/0x3)+-parseInt(_0x4fd295(0x207))/0x4*(-parseInt(_0x4fd295(0x201))/0x5)+parseInt(_0x4fd295(0x21d))/0x6*(parseInt(_0x4fd295(0x1c4))/0x7)+parseInt(_0x4fd295(0x1f0))/0x8*(-parseInt(_0x4fd295(0x17e))/0x9)+parseInt(_0x4fd295(0x152))/0xa*(parseInt(_0x4fd295(0x1de))/0xb)+-parseInt(_0x4fd295(0x133))/0xc;if(_0x27679e===_0x181842)break;else _0x53b24c['push'](_0x53b24c['shift']());}catch(_0x248a4b){_0x53b24c['push'](_0x53b24c['shift']());}}}(_0x23c1,0x57222));const assert=require(_0x1803e3(0x1ca)),fs=require('fs'),{expect}=require(_0x1803e3(0x18f)),saml20=require('saml')[_0x1803e3(0x154)],utils=require('../lib/passport-wsfed-saml2/utils'),SamlPassport=require(_0x1803e3(0x176))['SAML'];describe(_0x1803e3(0x1e5),function(){const _0x2e4420=_0x1803e3,_0x74ff71={'XacKJ':function(_0x1d6058,_0x26a950){return _0x1d6058!==_0x26a950;},'YPSnU':_0x2e4420(0x1b3),'gURQp':_0x2e4420(0x1b0),'QxUdj':_0x2e4420(0x1b4),'ZYAiv':function(_0x450503,_0x3c37be){return _0x450503(_0x3c37be);},'Rdpmu':function(_0x42dfeb,_0x52be4f){return _0x42dfeb+_0x52be4f;},'wYFyH':'/test-auth0.cer','MeRQG':_0x2e4420(0x15e),'pFWXp':_0x2e4420(0x1a1),'dZUrk':function(_0x2e922d){return _0x2e922d();},'rkGSK':function(_0x1bd37b,_0x4ea3bf){return _0x1bd37b(_0x4ea3bf);},'usIwy':_0x2e4420(0x128),'HvbGO':_0x2e4420(0x178),'XffWX':_0x2e4420(0x1c5),'IEdSl':_0x2e4420(0x15a),'AhTUO':_0x2e4420(0x22a),'TDEUJ':_0x2e4420(0x16c),'jtXfX':'return\x20Object.keys({a:1});','BKTQD':_0x2e4420(0x1ee),'aIfwO':_0x2e4420(0x1ac),'xEoTJ':function(_0x36d196,_0xc3e6d3){return _0x36d196===_0xc3e6d3;},'XYmDD':_0x2e4420(0x215),'tkZzC':function(_0x83a80b,_0x29c26a){return _0x83a80b+_0x29c26a;},'quwOD':'HjQbZ','stSXi':_0x2e4420(0x1b8),'AOlez':'<saml:Assertion\x20xmlns:saml=\x22urn:oasis:names:tc:SAML:2.0:assertion\x22\x20Version=\x222.0\x22\x20ID=\x22_muhd3ZBmN9LK3Ev08rkc8CA40YvNOkGl\x22\x20IssueInstant=\x222016-09-29T12:35:22.345Z\x22><saml:Issuer>urn:issuer</saml:Issuer><Signature\x20xmlns=\x22http://www.w3.org/2000/09/xmldsig#\x22><SignedInfo><CanonicalizationMethod\x20Algorithm=\x22http://www.w3.org/2001/10/xml-exc-c14n#\x22/><SignatureMethod\x20Algorithm=\x22http://www.w3.org/2001/04/xmldsig-more#rsa-sha256\x22/><Reference\x20URI=\x22#_muhd3ZBmN9LK3Ev08rkc8CA40YvNOkGl\x22><Transforms><Transform\x20Algorithm=\x22http://www.w3.org/2000/09/xmldsig#enveloped-signature\x22/><Transform\x20Algorithm=\x22http://www.w3.org/2001/10/xml-exc-c14n#\x22/></Transforms><DigestMethod\x20Algorithm=\x22http://www.w3.org/2001/04/xmlenc#sha256\x22/><DigestValue>Gsh2DubHXYDeuHyBa+DU1k5G43UjyQsyPRYVgEqpTD8=</DigestValue></Reference></SignedInfo><SignatureValue>mubsqLCaM16gT2rAFLl8XDuLWTALH6cdRMM/kNHLpVzO5PA6FGVPX5ojW2UCKGOhGHn0Hd/mYCOCtgAROphWjxpQl5TDyeQE0frjKs8ik0V/Jjy5T6PeWKHLqN6sHbP6YpkGixshCWtop8JOs6SijM9PBGnWal6Nx5bUMBfAyUnGyIhLwNaE8Z4NHkyAqmdxgLS0e8w5qngKQaUlyERZCrqKQ4w8VaHFG4Dos36XVfh+U7udo3IlbrpBLsu9xG1Azxe2iPC6+84xC09P6EvQylvTnz5NU4jhk10SmmRjZ6AVvzJTz/gbVfRfZoEAUhCuIIh3HuRwf400ESf38ouZTA==</SignatureValue><KeyInfo><X509Data><X509Certificate>MIIEDzCCAvegAwIBAgIJALr9HwgrQ7GeMA0GCSqGSIb3DQEBBQUAMGIxGDAWBgNVBAMTD2F1dGgwLmF1dGgwLmNvbTESMBAGA1UEChMJQXV0aDAgTExDMQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMHUmVkbW9uZDAeFw0xMjEyMjkxNTMwNDdaFw0xMzAxMjgxNTMwNDdaMGIxGDAWBgNVBAMTD2F1dGgwLmF1dGgwLmNvbTESMBAGA1UEChMJQXV0aDAgTExDMQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMHUmVkbW9uZDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMZiVmNHiXLldrgbS50ONNOH7pJ2zg6OcSMkYZGDZJbOZ/TqwauC6JOnI7+xtkPJsQHZSFJs4U0srjZKzDCmaz2jLAJDShP2jaXlrki16nDLPE//IGAg3BJguSmBCWpDbSm92V9hSsE+Mhx6bDaJiw8yQ+Q8iSm0aTQZtp6O4ICMu00ESdh9NJqIECELvP31ADV1Xhj7IbyyVPDFxMv3ol5BySE9wwwOFUq/wv7Xz9LRiUjUzPO+Lq3OM3o/uCDbk7jD7XrGUuOydALD8ULsXp4EuDO+nFbeXB/iKndZynuVKokirywl2nD2IP0/yncdLQZ8ByIyqP3G82fq/l8p7AsCAwEAAaOBxzCBxDAdBgNVHQ4EFgQUHI2rUXeBjTv1zAllaPGrHFcEK0YwgZQGA1UdIwSBjDCBiYAUHI2rUXeBjTv1zAllaPGrHFcEK0ahZqRkMGIxGDAWBgNVBAMTD2F1dGgwLmF1dGgwLmNvbTESMBAGA1UEChMJQXV0aDAgTExDMQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMHUmVkbW9uZIIJALr9HwgrQ7GeMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQEFBQADggEBAFrXIhCy4T4eGrikb0R2wHv/uS548r3pZyBV0CDbcRwAtbnpJMvkGFqKVp4pmyoIDSVNK/j+sLEshB20XftezHZyRJbCUbtKvXQ6FsxoeZMlN0ITYKTaoBZKhUxxj90otAhNC58qwGUPqt2LewJhHyLucKkGJ1mQ3b5xKZ532ToufouH9VLhig3H1KnxWo/zMD6Ke8cCk6qO9htuhI06s3GQGS1QWQtAmm17C6TfKgDwQFZwhqHUUZnwKRH8gU6OgZsvhgV1B7H5mjZcu57KMiDBekU9MEY0DCVTN3WkmcTII668zLsJrkNX6PEfck1AMBbVE6pEUKcWwq3uaLvlAUo=</X509Certificate></X509Data></KeyInfo></Signature><saml:Subject><saml:NameID\x20Format=\x22urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\x22\x20SPNameQualifier=\x22invalid-value\x22>foo</saml:NameID><saml:SubjectConfirmation\x20Method=\x22urn:oasis:names:tc:SAML:2.0:cm:bearer\x22><saml:SubjectConfirmationData\x20NotOnOrAfter=\x222016-09-29T12:45:22.345Z\x22/></saml:SubjectConfirmation></saml:Subject><saml:Conditions\x20NotBefore=\x222016-09-29T12:35:22.345Z\x22\x20NotOnOrAfter=\x222016-09-29T12:45:22.345Z\x22><saml:AudienceRestriction><saml:Audience>urn:myapp</saml:Audience></saml:AudienceRestriction></saml:Conditions><saml:AttributeStatement\x20xmlns:xs=\x22http://www.w3.org/2001/XMLSchema\x22\x20xmlns:xsi=\x22http://www.w3.org/2001/XMLSchema-instance\x22><saml:Attribute\x20Name=\x22http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress\x22><saml:AttributeValue\x20xsi:type=\x22xs:anyType\x22>foo@bar.com</saml:AttributeValue></saml:Attribute><saml:Attribute\x20Name=\x22http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name\x22><saml:AttributeValue\x20xsi:type=\x22xs:anyType\x22>Foo\x20Bar</saml:AttributeValue></saml:Attribute></saml:AttributeStatement><saml:AuthnStatement\x20AuthnInstant=\x222016-09-29T12:35:22.345Z\x22><saml:AuthnContext><saml:AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:unspecified</saml:AuthnContextClassRef></saml:AuthnContext></saml:AuthnStatement></saml:Assertion>','HSQlO':function(_0x229709,_0x459b92){return _0x229709+_0x459b92;},'hxIxT':function(_0x933a60,_0x1078b9){return _0x933a60(_0x1078b9);},'YqKhk':function(_0x121e8,_0x29ad3f){return _0x121e8(_0x29ad3f);},'LrYQg':function(_0x23c46c,_0x4677da){return _0x23c46c(_0x4677da);},'iRpqS':_0x2e4420(0x214),'OtWhy':function(_0x4188b2){return _0x4188b2();},'bkRCp':function(_0x14cd56,_0x5752a7){return _0x14cd56+_0x5752a7;},'RIYqF':function(_0x37eed2){return _0x37eed2();},'gkmwm':_0x2e4420(0x193),'VIIKQ':function(_0x3377b6){return _0x3377b6();},'ZeNkS':_0x2e4420(0x188),'gakRC':_0x2e4420(0x1fb),'HurrP':function(_0x410307,_0x1965aa){return _0x410307+_0x1965aa;},'MLdVk':_0x2e4420(0x15c),'sBCEK':function(_0x1b5ef4,_0x30ec02){return _0x1b5ef4(_0x30ec02);},'wVGdF':_0x2e4420(0x13c),'FxaRD':_0x2e4420(0x1d8),'ImQMZ':function(_0x56dc35,_0xfab064){return _0x56dc35+_0xfab064;},'xPVoJ':_0x2e4420(0x1a8),'xoEdC':_0x2e4420(0x179),'nHQoW':_0x2e4420(0x216),'ErqUZ':_0x2e4420(0x1bc),'uaodm':_0x2e4420(0x182),'QaEZg':function(_0x1d2106,_0x301633){return _0x1d2106+_0x301633;},'knUtU':function(_0x546937,_0x55bc14){return _0x546937===_0x55bc14;},'YjOSP':'YMmYD','dtyDp':function(_0x576b6e,_0x45cfce){return _0x576b6e(_0x45cfce);},'xplNv':_0x2e4420(0x1b6),'sTcOv':_0x2e4420(0x162),'Nwngn':_0x2e4420(0x206),'GDojL':function(_0x2b7f6d,_0x19d0b1){return _0x2b7f6d+_0x19d0b1;},'JOsTL':_0x2e4420(0x1b1),'cQAsM':_0x2e4420(0x166),'bighp':function(_0x34d7cc,_0x4ce85d){return _0x34d7cc===_0x4ce85d;},'inruC':_0x2e4420(0x218),'zuzqw':function(_0x22122f,_0x37f3b0,_0x5c1a5b){return _0x22122f(_0x37f3b0,_0x5c1a5b);},'HIQHA':_0x2e4420(0x141),'iBurO':function(_0x42dd2e,_0x372bc0){return _0x42dd2e+_0x372bc0;},'ZNzeI':_0x2e4420(0x1a0),'vVhKi':function(_0x466e1b,_0x3469f9,_0xcb28ca){return _0x466e1b(_0x3469f9,_0xcb28ca);},'HnmUp':function(_0x3d9099,_0x2adc7c,_0xed0a2d){return _0x3d9099(_0x2adc7c,_0xed0a2d);},'DbLXq':_0x2e4420(0x1c3),'hjNkB':_0x2e4420(0x1d1),'FXqIL':_0x2e4420(0x1dc),'lVVhu':_0x2e4420(0x129),'lAKRt':_0x2e4420(0x16e),'okyjj':'should\x20validate\x20certificate\x20expiration\x20with\x20embedded\x20cert','nneEo':_0x2e4420(0x1d2),'BJDKm':'should\x20extract\x20authentication\x20context\x20from\x20assertion\x20as\x20a\x20user\x20prop','QrunC':_0x2e4420(0x157),'hRYne':_0x2e4420(0x1ab)},_0x47ddbd={'cert':fs[_0x2e4420(0x222)](__dirname+_0x2e4420(0x1a8)),'key':fs[_0x2e4420(0x222)](_0x74ff71['iBurO'](__dirname,_0x2e4420(0x179))),'issuer':_0x2e4420(0x1ee),'lifetimeInSeconds':0x258,'audiences':_0x74ff71['MeRQG'],'attributes':{'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress':_0x2e4420(0x128),'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name':_0x74ff71[_0x2e4420(0x19e)]},'nameIdentifier':_0x74ff71[_0x2e4420(0x20d)],'nameIdentifierFormat':'urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified'};it(_0x74ff71[_0x2e4420(0x221)],function(_0x25c6a2){const _0x17e715=_0x2e4420,_0x1ef21d={'yfWTq':function(_0x4b7cb7,_0x460dac){const _0x5d3c6c=_0x165f;return _0x74ff71[_0x5d3c6c(0x156)](_0x4b7cb7,_0x460dac);},'wsoQI':_0x74ff71[_0x17e715(0x1f9)],'yXSOW':_0x74ff71[_0x17e715(0x20d)],'kofup':_0x74ff71[_0x17e715(0x1a4)],'gjnBr':_0x17e715(0x128),'CnlhV':_0x17e715(0x138),'tUKfW':function(_0x26bf50,_0x32e40a){const _0x3c2e9d=_0x17e715;return _0x74ff71[_0x3c2e9d(0x155)](_0x26bf50,_0x32e40a);},'tCleJ':_0x17e715(0x1bf)},_0x1ec221=saml20['create'](_0x47ddbd),_0x4d42a8=fs[_0x17e715(0x222)](_0x74ff71[_0x17e715(0x1ef)](__dirname,_0x74ff71['wYFyH']))[_0x17e715(0x183)](),_0x556ef8=new SamlPassport({'cert':_0x4d42a8,'realm':_0x74ff71[_0x17e715(0x1f1)],'checkRecipient':![]});_0x556ef8[_0x17e715(0x12a)](_0x1ec221,{},function(_0x49577b,_0x4231dd){const _0x254515=_0x17e715,_0x2b9eb1={'vTdkU':function(_0x246771){return _0x246771();}};if(_0x1ef21d[_0x254515(0x135)](_0x254515(0x1e0),_0x254515(0x1e0)))_0x4e68dd['ok'](_0x4c62ef),_0x331136['ok'](!_0x1a45c9),_0xc40dbc['equal'](_0x50f4cf['message'],'Signature\x20was\x20found\x20more\x20than\x20one\x20time\x20(xpath:\x20//*[local-name(.)=\x27Assertion\x27][1]/*[local-name(.)=\x27Signature\x27\x20and\x20namespace-uri(.)=\x27http://www.w3.org/2000/09/xmldsig#\x27])'),_0x2b9eb1['vTdkU'](_0x25a154);else{const _0x2eccf6=_0x1ef21d[_0x254515(0x197)][_0x254515(0x1ed)]('|');let _0x4e021b=0x0;while(!![]){switch(_0x2eccf6[_0x4e021b++]){case'0':assert[_0x254515(0x17c)](_0x1ef21d['yXSOW'],_0x4231dd[_0x1ef21d[_0x254515(0x1bb)]]);continue;case'1':assert[_0x254515(0x17c)](_0x1ef21d[_0x254515(0x14d)],_0x4231dd[_0x254515(0x178)]);continue;case'2':assert[_0x254515(0x17c)](_0x254515(0x1ee),_0x4231dd[_0x1ef21d[_0x254515(0x1c2)]]);continue;case'3':setTimeout(_0x254515(0x187),0x3e8);continue;case'4':if(_0x49577b)return _0x1ef21d[_0x254515(0x1f7)](_0x25c6a2,_0x49577b);continue;case'5':_0x25c6a2();continue;case'6':assert[_0x254515(0x17c)](_0x254515(0x1c5),_0x4231dd[_0x254515(0x15a)]);continue;case'7':assert['ok'](_0x4231dd);continue;case'8':assert[_0x254515(0x17c)](_0x1ef21d[_0x254515(0x14d)],_0x4231dd[_0x1ef21d[_0x254515(0x20f)]]);continue;}break;}}});}),it(_0x2e4420(0x1a7),function(_0xf63993){const _0x190de3=_0x2e4420,_0x3ca181=_0x74ff71[_0x190de3(0x228)],_0x1cf115=fs[_0x190de3(0x222)](__dirname+_0x190de3(0x1fa))[_0x190de3(0x183)](),_0x2627ec=new SamlPassport({'cert':_0x1cf115,'realm':'urn:myapp','checkRecipient':![],'checkExpiration':![]});_0x2627ec[_0x190de3(0x12a)](_0x3ca181,{},function(_0x59f865,_0x3b450c){const _0x4f3c05=_0x190de3,_0x4a3396=_0x74ff71['pFWXp']['split']('|');let _0x22e074=0x0;while(!![]){switch(_0x4a3396[_0x22e074++]){case'0':assert[_0x4f3c05(0x17c)](_0x74ff71['gURQp'],_0x3b450c[_0x4f3c05(0x1b4)]);continue;case'1':_0x74ff71[_0x4f3c05(0x17d)](_0xf63993);continue;case'2':if(_0x59f865)return _0xf63993(_0x59f865);continue;case'3':assert[_0x4f3c05(0x17c)]('urn:issuer',_0x3b450c['issuer']);continue;case'4':_0x74ff71[_0x4f3c05(0x136)](Function,'return\x20new\x20Date();')();continue;case'5':assert['equal'](_0x74ff71[_0x4f3c05(0x186)],_0x3b450c[_0x74ff71[_0x4f3c05(0x203)]]);continue;case'6':assert[_0x4f3c05(0x17c)](_0x74ff71[_0x4f3c05(0x186)],_0x3b450c[_0x4f3c05(0x1bf)]);continue;case'7':assert['ok'](_0x3b450c);continue;case'8':assert[_0x4f3c05(0x17c)](_0x74ff71[_0x4f3c05(0x19e)],_0x3b450c[_0x74ff71[_0x4f3c05(0x1e1)]]);continue;}break;}});}),_0x74ff71[_0x2e4420(0x22b)](it,_0x2e4420(0x17f),function(_0x461d9d){const _0x2e10e0=_0x2e4420,_0x4fb6aa=_0x2e10e0(0x1c7),_0x3da672=fs[_0x2e10e0(0x222)](_0x74ff71['Rdpmu'](__dirname,_0x74ff71[_0x2e10e0(0x198)]))[_0x2e10e0(0x183)](),_0x4234aa=new SamlPassport({'cert':_0x3da672,'realm':_0x74ff71['MeRQG'],'checkRecipient':![],'checkExpiration':![]});_0x4234aa['validateSamlAssertion'](_0x4fb6aa,{},function(_0x1403a7,_0x31b042){const _0x327b1a=_0x2e10e0,_0x93c743=_0x74ff71[_0x327b1a(0x139)][_0x327b1a(0x1ed)]('|');let _0xdf0e1f=0x0;while(!![]){switch(_0x93c743[_0xdf0e1f++]){case'0':if(_0x1403a7)return _0x461d9d(_0x1403a7);continue;case'1':_0x74ff71[_0x327b1a(0x17d)](_0x461d9d);continue;case'2':assert[_0x327b1a(0x17c)](_0x74ff71['usIwy'],_0x31b042['email']);continue;case'3':assert[_0x327b1a(0x17c)](_0x327b1a(0x1c5),_0x31b042[_0x74ff71['IEdSl']]);continue;case'4':Function(_0x74ff71['jtXfX'])();continue;case'5':assert['ok'](_0x31b042);continue;case'6':assert['equal'](_0x74ff71[_0x327b1a(0x186)],_0x31b042[_0x327b1a(0x1bf)]);continue;case'7':assert[_0x327b1a(0x17c)](_0x74ff71[_0x327b1a(0x20d)],_0x31b042[_0x74ff71['QxUdj']]);continue;case'8':assert[_0x327b1a(0x17c)](_0x74ff71[_0x327b1a(0x1ad)],_0x31b042[_0x327b1a(0x138)]);continue;}break;}});}),_0x74ff71[_0x2e4420(0x22d)](it,_0x74ff71[_0x2e4420(0x200)],function(_0x3f0f05){const _0x533f22=_0x2e4420,_0x37aa78=_0x533f22(0x195),_0x359114=fs[_0x533f22(0x222)](_0x74ff71[_0x533f22(0x17b)](__dirname,'/test-auth0.cer'))[_0x533f22(0x183)](),_0x5e05d1=new SamlPassport({'cert':_0x359114,'realm':_0x74ff71['MeRQG'],'checkRecipient':![],'checkExpiration':![]});_0x5e05d1[_0x533f22(0x12a)](_0x37aa78,{},function(_0x2af4b3,_0x48d277){const _0x2120a4=_0x533f22,_0x2a49cb={'zvqaz':function(_0x3e6c0b,_0x4d47d0){return _0x3e6c0b+_0x4d47d0;},'xXKdZ':_0x74ff71[_0x2120a4(0x198)],'WdsAo':_0x2120a4(0x15e),'buiif':_0x74ff71[_0x2120a4(0x1fc)],'uLLjE':function(_0x5486ca){return _0x5486ca();}};if(_0x74ff71['xEoTJ'](_0x2120a4(0x1cf),_0x2120a4(0x1cf)))assert['equal'](_0x2af4b3[_0x2120a4(0x211)],_0x74ff71[_0x2120a4(0x1bd)]),_0x74ff71[_0x2120a4(0x17d)](_0x3f0f05);else{const _0x249d7b=_0x5b2ef3['readFileSync'](_0x2a49cb['zvqaz'](_0x21fce2,_0x2a49cb[_0x2120a4(0x18b)]))[_0x2120a4(0x183)](),_0x1c444b=new _0x3c8f44({'cert':_0x249d7b,'realm':_0x2a49cb[_0x2120a4(0x173)],'checkRecipient':![]});try{_0x1c444b['validateSignature'](_0x2120a4(0x193),{},function(_0x1742c4,_0x1a2f9c){const _0x22e7f3=_0x2120a4;_0xb9264a(new _0x819eba(_0x22e7f3(0x226)));});}catch(_0x191816){_0x17fac3(_0x191816['message'])['to']['equal'](_0x2a49cb[_0x2120a4(0x1b9)]),_0x2a49cb[_0x2120a4(0x219)](_0xc81374);}}});}),it(_0x74ff71[_0x2e4420(0x1c8)],function(_0xbdb494){const _0x157eaa=_0x2e4420,_0x3e30af={'Ftjkv':function(_0x560828,_0x5e1318){return _0x560828(_0x5e1318);},'jkScO':_0x157eaa(0x1fd),'wxVDX':function(_0x340063,_0x477e8f){return _0x340063(_0x477e8f);},'PRoYg':function(_0x51f643){return _0x51f643();}},_0x7f366e=_0x74ff71[_0x157eaa(0x134)],_0x39b68c=fs['readFileSync'](_0x74ff71[_0x157eaa(0x1c1)](__dirname,'/test-auth0.cer'))[_0x157eaa(0x183)](),_0x5156d0=new SamlPassport({'cert':_0x39b68c,'realm':_0x74ff71[_0x157eaa(0x1f1)],'checkRecipient':![],'checkExpiration':![]});_0x5156d0[_0x157eaa(0x12a)](_0x7f366e,{},function(_0x3ed752,_0x29fd25){const _0x446ab7=_0x157eaa;_0x74ff71[_0x446ab7(0x202)]===_0x446ab7(0x209)?(assert['equal'](_0x3ed752[_0x446ab7(0x211)],_0x74ff71[_0x446ab7(0x1ec)]),_0xbdb494()):(_0x3e30af[_0x446ab7(0x170)](_0x5f441a,_0x5f0d31)['to'][_0x446ab7(0x161)],_0xfbb164(_0x570cdf[_0x446ab7(0x211)])['to'][_0x446ab7(0x17c)](_0x3e30af[_0x446ab7(0x18d)]),_0x3e30af[_0x446ab7(0x169)](_0x550593,_0x4e6d45)['to']['be']['undefined'],_0x3e30af[_0x446ab7(0x1be)](_0x1a2459));});}),it(_0x74ff71[_0x2e4420(0x1da)],function(_0x148a37){const _0x3c5347=_0x2e4420,_0x54b3c4={'pIYZN':_0x74ff71['XYmDD']};if(_0x3c5347(0x1f4)===_0x3c5347(0x1f4)){_0x47ddbd[_0x3c5347(0x149)]={'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/groups':[_0x3c5347(0x1b7),_0x3c5347(0x174)]};const _0xc4aab=saml20[_0x3c5347(0x1a6)](_0x47ddbd),_0x8f6f7e=fs[_0x3c5347(0x222)](_0x74ff71[_0x3c5347(0x1ef)](__dirname,_0x74ff71[_0x3c5347(0x198)]))[_0x3c5347(0x183)](),_0x3a3bb0=new SamlPassport({'cert':_0x8f6f7e,'realm':'urn:myapp','checkRecipient':![]});_0x3a3bb0[_0x3c5347(0x12a)](_0xc4aab,{},function(_0x21a9bb,_0x3db05a){const _0xd1f852=_0x3c5347;_0x74ff71[_0xd1f852(0x184)](Function,'return\x20new\x20Date();')();if(_0x21a9bb)return _0x74ff71[_0xd1f852(0x136)](_0x148a37,_0x21a9bb);expect(_0x3db05a)['to'][_0xd1f852(0x161)],_0x74ff71[_0xd1f852(0x143)](expect,_0x3db05a[_0xd1f852(0x214)])['to']['be']['an'](_0xd1f852(0x15f)),_0x74ff71['LrYQg'](expect,_0x3db05a[_0x74ff71[_0xd1f852(0x14b)]])['to']['include'](_0xd1f852(0x1b7)),_0x74ff71[_0xd1f852(0x1b2)](expect,_0x3db05a[_0xd1f852(0x214)])['to']['include']('Contributors'),_0x74ff71['OtWhy'](_0x148a37);});}else{const _0x1be8f2=_0x3c5347(0x195),_0x574610=_0x16a12b[_0x3c5347(0x222)](_0x74ff71[_0x3c5347(0x192)](_0xa90028,_0x74ff71[_0x3c5347(0x198)]))[_0x3c5347(0x183)](),_0x53d2af=new _0x191e5f({'cert':_0x574610,'realm':_0x74ff71[_0x3c5347(0x1f1)],'checkRecipient':![],'checkExpiration':![]});_0x53d2af[_0x3c5347(0x12a)](_0x1be8f2,{},function(_0xfd1e73,_0x245c69){const _0x363e33=_0x3c5347;_0x4bfc1b['equal'](_0xfd1e73[_0x363e33(0x211)],_0x54b3c4[_0x363e33(0x208)]),_0x2e3366();});}}),_0x74ff71['vVhKi'](it,_0x74ff71['lVVhu'],function(_0x1b4565){const _0x58a841=_0x2e4420;_0x47ddbd['lifetimeInSeconds']=-0xf0;const _0x104472=saml20[_0x58a841(0x1a6)](_0x47ddbd),_0x19ad1a=fs[_0x58a841(0x222)](__dirname+_0x58a841(0x1fa))['toString'](),_0x139f50=new SamlPassport({'cert':_0x19ad1a,'realm':'urn:myapp','checkRecipient':![]});_0x139f50[_0x58a841(0x12a)](_0x104472,{},function(_0x2e25a7,_0x4d1e9c){const _0x34b78f=_0x58a841;expect(_0x2e25a7)['to'][_0x34b78f(0x161)],_0x74ff71[_0x34b78f(0x143)](expect,_0x2e25a7[_0x34b78f(0x211)])['to'][_0x34b78f(0x17c)](_0x34b78f(0x181)),expect(_0x4d1e9c)['to']['not'][_0x34b78f(0x161)],_0x1b4565();});}),it(_0x74ff71[_0x2e4420(0x21a)],function(_0xf1799){const _0x4748dc=_0x2e4420;_0x47ddbd[_0x4748dc(0x213)]=-0xf0;const _0x1becc2=saml20[_0x4748dc(0x1a6)](_0x47ddbd),_0x28cf3f=fs[_0x4748dc(0x222)](__dirname+'/test-auth0.cer')[_0x4748dc(0x183)](),_0x49457e=new SamlPassport({'cert':_0x28cf3f,'realm':_0x4748dc(0x15e),'checkRecipient':![],'clockSkew':0x5});_0x49457e[_0x4748dc(0x12a)](_0x1becc2,{},function(_0x47a51e,_0xee7813){const _0x17bcc2=_0x4748dc;expect(_0x47a51e)['to']['not'][_0x17bcc2(0x161)],expect(_0xee7813)['to'][_0x17bcc2(0x161)],_0x74ff71[_0x17bcc2(0x17d)](_0xf1799);});}),_0x74ff71[_0x2e4420(0x22d)](it,_0x2e4420(0x1ae),function(_0xac61ea){const _0x3b8b39=_0x2e4420;_0x47ddbd[_0x3b8b39(0x213)]=0x2710;const _0x436289=saml20[_0x3b8b39(0x1a6)](_0x47ddbd),_0x46336a=fs[_0x3b8b39(0x222)](__dirname+_0x74ff71['wYFyH'])[_0x3b8b39(0x183)](),_0x176eb3=new SamlPassport({'cert':_0x46336a,'realm':_0x3b8b39(0x15e),'checkRecipient':![]});_0x176eb3[_0x3b8b39(0x12a)](_0x436289,{},function(_0x309167,_0x5b0d4d){const _0x21e0d4=_0x3b8b39;expect(_0x309167)['to']['not'][_0x21e0d4(0x161)],_0x74ff71[_0x21e0d4(0x136)](expect,_0x5b0d4d)['to'][_0x21e0d4(0x161)],_0x74ff71['OtWhy'](_0xac61ea);});}),it(_0x74ff71[_0x2e4420(0x14f)],function(_0x5ebf20){const _0xfc5be4=_0x2e4420,_0x130570={'PQBFj':function(_0x58616c,_0x85dd86){const _0xfa81c=_0x165f;return _0x74ff71[_0xfa81c(0x136)](_0x58616c,_0x85dd86);},'jaEJC':function(_0x5c0aad){const _0x14258c=_0x165f;return _0x74ff71[_0x14258c(0x19f)](_0x5c0aad);}},_0x53edfe=saml20[_0xfc5be4(0x1a6)](_0x47ddbd),_0x5879a5=fs[_0xfc5be4(0x222)](__dirname+_0xfc5be4(0x1fa))[_0xfc5be4(0x183)](),_0x4d91a3=new SamlPassport({'cert':_0x5879a5,'realm':_0x74ff71['MeRQG'],'checkRecipient':![],'checkCertExpiration':!![]});_0x4d91a3[_0xfc5be4(0x12a)](_0x53edfe,{},function(_0x5b1235,_0x1e0dd0){const _0x53992d=_0xfc5be4;_0x130570[_0x53992d(0x1cc)](expect,_0x5b1235)['to']['exist'],expect(_0x5b1235[_0x53992d(0x211)])['to']['equal'](_0x53992d(0x1fd)),expect(_0x1e0dd0)['to']['be'][_0x53992d(0x1cb)],_0x130570[_0x53992d(0x19d)](_0x5ebf20);});}),it(_0x2e4420(0x217),function(_0x40fba0){const _0x41efd8=_0x2e4420,_0x1f3889={'SFZvz':_0x41efd8(0x226),'OoASf':function(_0x103eac,_0x356b1c){return _0x74ff71['HSQlO'](_0x103eac,_0x356b1c);},'LDiVk':_0x41efd8(0x1fa),'XjstU':'urn:myapp','zEbwr':_0x74ff71[_0x41efd8(0x13a)],'esBbA':'SAMLResponse\x20should\x20be\x20a\x20valid\x20xml','fmMYm':function(_0x59c39b){return _0x74ff71['VIIKQ'](_0x59c39b);},'ANojy':function(_0x44a6ea,_0xace5de){return _0x44a6ea(_0xace5de);},'XOImf':function(_0x111014,_0x57bf78){return _0x111014(_0x57bf78);}};if(_0x74ff71[_0x41efd8(0x1cd)]===_0x74ff71[_0x41efd8(0x1a2)]){const _0x26ea58={'czWPL':function(_0x5a7d84,_0x2ee658){return _0x5a7d84(_0x2ee658);},'cMLyv':_0x1f3889[_0x41efd8(0x1af)]},_0x507e64=_0x1894b5[_0x41efd8(0x222)](_0x1f3889[_0x41efd8(0x1fe)](_0x3b3190,_0x1f3889[_0x41efd8(0x13e)]))[_0x41efd8(0x183)](),_0x264a62=new _0x490fd8({'cert':_0x507e64,'realm':_0x1f3889[_0x41efd8(0x210)],'checkRecipient':![]});try{_0x264a62['validateSamlAssertion'](_0x1f3889['zEbwr'],{},function(_0x2b4c2a,_0x564ff9){const _0x453ee9=_0x41efd8;_0x26ea58[_0x453ee9(0x159)](_0x4b17d9,new _0x4be1d6(_0x26ea58[_0x453ee9(0x190)]));});}catch(_0x33f1d4){_0x5deef2(_0x33f1d4[_0x41efd8(0x211)])['to']['equal'](_0x1f3889[_0x41efd8(0x196)]),_0x1f3889[_0x41efd8(0x1f8)](_0x39562e);}}else{const _0x3dba55=saml20[_0x41efd8(0x1a6)](_0x47ddbd),_0x526027=fs[_0x41efd8(0x222)](_0x74ff71['HurrP'](__dirname,_0x74ff71['wYFyH']))['toString'](),_0x55431a=new SamlPassport({'cert':_0x526027,'realm':_0x74ff71[_0x41efd8(0x1f1)],'checkRecipient':![],'checkCertExpiration':!![]}),_0xe37062=utils['parseSamlAssertion'](_0x3dba55);assert[_0x41efd8(0x17c)](_0xe37062['getElementsByTagName'](_0x41efd8(0x15c))[_0x41efd8(0x189)],0x1);const _0x9006ba=_0xe37062['getElementsByTagName'](_0x74ff71[_0x41efd8(0x158)])[0x0];_0x9006ba['parentNode']['removeChild'](_0x9006ba),assert[_0x41efd8(0x17c)](_0xe37062['getElementsByTagName'](_0x41efd8(0x15c))[_0x41efd8(0x189)],0x0),_0x55431a[_0x41efd8(0x12a)](_0xe37062[_0x41efd8(0x183)](),{},function(_0x4648f2,_0x48ec02){const _0x2b3b1a=_0x41efd8;expect(_0x4648f2)['to'][_0x2b3b1a(0x161)],_0x1f3889[_0x2b3b1a(0x229)](expect,_0x4648f2[_0x2b3b1a(0x211)])['to'][_0x2b3b1a(0x17c)](_0x2b3b1a(0x1fd)),_0x1f3889[_0x2b3b1a(0x167)](expect,_0x48ec02)['to'][_0x2b3b1a(0x131)][_0x2b3b1a(0x161)],_0x40fba0();});}}),it(_0x74ff71[_0x2e4420(0x12c)],function(_0x3dcb57){const _0x48f2e1=_0x2e4420;_0x47ddbd[_0x48f2e1(0x213)]=0x258,_0x47ddbd[_0x48f2e1(0x21c)]=_0x48f2e1(0x1b0);const _0x58269f=saml20['create'](_0x47ddbd),_0x33c0ca=fs['readFileSync'](_0x74ff71['HurrP'](__dirname,_0x74ff71[_0x48f2e1(0x198)]))[_0x48f2e1(0x183)](),_0x433dfa=new SamlPassport({'cert':_0x33c0ca,'realm':_0x74ff71[_0x48f2e1(0x1f1)],'recipientUrl':'bar'});_0x433dfa[_0x48f2e1(0x12a)](_0x58269f,{},function(_0xa9c9a4,_0x54ef90){const _0x59a441=_0x48f2e1,_0x31e531={'mzFtz':_0x59a441(0x20c),'PGJXA':_0x74ff71['HvbGO'],'gKZKI':'issuer','bEMcv':_0x74ff71[_0x59a441(0x1a4)],'pOhZW':function(_0x5e3476,_0x37c8ff){const _0x19d552=_0x59a441;return _0x74ff71[_0x19d552(0x1c1)](_0x5e3476,_0x37c8ff);},'verfl':_0x74ff71[_0x59a441(0x1f1)]};if(_0x59a441(0x150)!==_0x59a441(0x150)){const _0x55a1fc={'MmioI':_0x31e531['mzFtz'],'CNSmP':function(_0x42eb6f,_0x347d39){return _0x42eb6f(_0x347d39);},'JXCbN':_0x59a441(0x1c5),'uoHWq':_0x31e531[_0x59a441(0x1e9)],'Bbqpc':'urn:issuer','cYSQr':_0x31e531[_0x59a441(0x14c)],'Viofe':_0x31e531[_0x59a441(0x1c9)],'GQZPz':_0x59a441(0x165),'akSHS':'foo@bar.com','ncHcW':_0x59a441(0x1bf)},_0x22599b=_0x59a441(0x1c7),_0x3b6770=_0x571141[_0x59a441(0x222)](_0x31e531[_0x59a441(0x17a)](_0x21c623,'/test-auth0.cer'))[_0x59a441(0x183)](),_0x7aaf9b=new _0x578c0a({'cert':_0x3b6770,'realm':_0x31e531[_0x59a441(0x1d4)],'checkRecipient':![],'checkExpiration':![]});_0x7aaf9b[_0x59a441(0x12a)](_0x22599b,{},function(_0x4b9fed,_0x265454){const _0x249bb1=_0x59a441,_0xeb3a78=_0x55a1fc['MmioI']['split']('|');let _0x8a5aab=0x0;while(!![]){switch(_0xeb3a78[_0x8a5aab++]){case'0':_0x124c2a();continue;case'1':if(_0x4b9fed)return _0x55a1fc['CNSmP'](_0x243a98,_0x4b9fed);continue;case'2':_0x126e34['ok'](_0x265454);continue;case'3':_0x3506b9[_0x249bb1(0x17c)](_0x55a1fc['JXCbN'],_0x265454[_0x249bb1(0x15a)]);continue;case'4':_0x24d3d9['equal']('foo@bar.com',_0x265454[_0x55a1fc[_0x249bb1(0x20b)]]);continue;case'5':_0xa52b50[_0x249bb1(0x17c)](_0x55a1fc[_0x249bb1(0x1f2)],_0x265454[_0x55a1fc['cYSQr']]);continue;case'6':_0x567bbe[_0x249bb1(0x17c)](_0x249bb1(0x1b0),_0x265454[_0x55a1fc['Viofe']]);continue;case'7':_0x1b2903(_0x55a1fc[_0x249bb1(0x144)])();continue;case'8':_0x2800d6[_0x249bb1(0x17c)](_0x55a1fc[_0x249bb1(0x1e8)],_0x265454[_0x55a1fc['ncHcW']]);continue;}break;}});}else expect(_0xa9c9a4)['to'][_0x59a441(0x161)],_0x74ff71[_0x59a441(0x1e7)](expect,_0xa9c9a4['message'])['to'][_0x59a441(0x17c)](_0x59a441(0x166)),expect(_0x54ef90)['to'][_0x59a441(0x131)][_0x59a441(0x161)],_0x3dcb57();});}),_0x74ff71[_0x2e4420(0x145)](it,_0x74ff71[_0x2e4420(0x20a)],function(_0x48cfbb){const _0x4d5cde=_0x2e4420,_0x3498f8={'cert':fs[_0x4d5cde(0x222)](_0x74ff71['ImQMZ'](__dirname,_0x74ff71['xPVoJ'])),'key':fs[_0x4d5cde(0x222)](_0x74ff71[_0x4d5cde(0x17b)](__dirname,_0x74ff71['xoEdC'])),'issuer':_0x74ff71[_0x4d5cde(0x1ad)],'lifetimeInSeconds':0x258,'audiences':_0x4d5cde(0x15e),'attributes':{'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress':_0x4d5cde(0x194),'http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name':_0x74ff71['nHQoW']},'nameIdentifier':_0x74ff71[_0x4d5cde(0x227)],'nameIdentifierFormat':_0x74ff71[_0x4d5cde(0x1d6)]},_0x42d970=saml20['create'](_0x3498f8),_0x475475=fs[_0x4d5cde(0x222)](_0x74ff71['QaEZg'](__dirname,_0x74ff71[_0x4d5cde(0x198)]))[_0x4d5cde(0x183)](),_0x132acb=new SamlPassport({'cert':_0x475475,'realm':_0x74ff71['MeRQG'],'checkRecipient':![]});_0x132acb[_0x4d5cde(0x12a)](_0x42d970,{},function(_0x5379ba,_0x195676){const _0x2014c5=_0x4d5cde,_0x3ca656='0|3|2|4|1'[_0x2014c5(0x1ed)]('|');let _0x499799=0x0;while(!![]){switch(_0x3ca656[_0x499799++]){case'0':Function(_0x74ff71[_0x2014c5(0x18a)])();continue;case'1':_0x48cfbb();continue;case'2':assert['ok'](_0x195676);continue;case'3':if(_0x5379ba)return _0x48cfbb(_0x5379ba);continue;case'4':assert['equal'](_0x2014c5(0x147),_0x195676[_0x74ff71[_0x2014c5(0x212)]]);continue;}break;}});}),_0x74ff71['HnmUp'](it,_0x2e4420(0x1c6),function(_0x575748){const _0x35ccbc=_0x2e4420,_0x49a0d1=fs[_0x35ccbc(0x222)](__dirname+_0x35ccbc(0x19c))['toString'](),_0x2c8f4e={'checkDestination':![],'thumbprint':'B2AC2C07C63A1846C32DEAE2DE83B0640B24A0FF'},_0x3ec630=new SamlPassport(_0x2c8f4e);_0x3ec630[_0x35ccbc(0x12a)](_0x49a0d1,{},function(_0x30285c,_0x3d2a3c){const _0x136ceb=_0x35ccbc,_0x1f3bc1={'hFgCE':'SAMLResponse\x20should\x20be\x20a\x20valid\x20xml','PMdSh':function(_0x5c92a5){return _0x5c92a5();}};if(_0x74ff71[_0x136ceb(0x13f)](_0x74ff71[_0x136ceb(0x15b)],_0x136ceb(0x191))){_0x74ff71[_0x136ceb(0x1e2)](expect,_0x30285c)['to'][_0x136ceb(0x161)];const _0x477183=['The\x20signing\x20certificate\x20is\x20invalid\x20(PEM_read_bio_PUBKEY\x20failed)','The\x20signing\x20certificate\x20is\x20invalid\x20(error:0906700D:PEM\x20routines:PEM_ASN1_read_bio:ASN1\x20lib,\x20error:0D07803A:asn1\x20encoding\x20routines:ASN1_ITEM_EX_D2I:nested\x20asn1\x20error,\x20error:0D068066:asn1\x20encoding\x20routines:ASN1_CHECK_TLEN:bad\x20object\x20header)','The\x20signing\x20certificate\x20is\x20invalid\x20(error:0D07803A:asn1\x20encoding\x20routines:asn1_item_embed_d2i:nested\x20asn1\x20error,\x20error:0D068066:asn1\x20encoding\x20routines:asn1_check_tlen:bad\x20object\x20header)',_0x136ceb(0x1c0),_0x136ceb(0x223)];assert['ok'](_0x30285c,_0x74ff71[_0x136ceb(0x137)]),assert['ok'](_0x477183[_0x136ceb(0x1e4)](_0x30285c['message']),_0x74ff71[_0x136ceb(0x1f6)]),_0x74ff71[_0x136ceb(0x19f)](_0x575748);}else _0x31efcc(_0x2e82cd[_0x136ceb(0x211)])['to'][_0x136ceb(0x17c)](_0x1f3bc1[_0x136ceb(0x180)]),_0x1f3bc1['PMdSh'](_0x12564a);});}),describe(_0x74ff71[_0x2e4420(0x12f)],function(){const _0xada341=_0x2e4420,_0x57c8b7={'cExIH':_0x74ff71[_0xada341(0x148)],'hTizX':function(_0x28893b,_0x5b5ad0){const _0x1d2cb0=_0xada341;return _0x74ff71[_0x1d2cb0(0x1dd)](_0x28893b,_0x5b5ad0);},'poJht':_0x74ff71[_0xada341(0x1f1)],'XqfOM':function(_0x30c848,_0x3f97ee){return _0x30c848(_0x3f97ee);},'SBzoV':_0x74ff71[_0xada341(0x18a)],'YSCsn':_0x74ff71['gURQp'],'GZtgo':_0x74ff71[_0xada341(0x19e)],'sXwaR':_0xada341(0x15a),'XFTDw':_0xada341(0x178),'inlWk':_0x74ff71['BKTQD'],'YineW':function(_0x2a6668,_0x48698c){const _0x6fc598=_0xada341;return _0x74ff71[_0x6fc598(0x19b)](_0x2a6668,_0x48698c);},'dWpbo':_0xada341(0x1aa),'FWhNB':'<saml:Assertion\x20xmlns:saml=\x22urn:oasis:names:tc:SAML:2.0:assertion\x22\x20Version=\x222.0\x22\x20ID=\x22_muhd3ZBmN9LK3Ev08rkc8CA40YvNOkGl\x22\x20IssueInstant=\x222016-09-29T12:35:22.345Z\x22><saml:Issuer>urn:issuer</saml:Issuer><saml:Subject><saml:NameID\x20Format=\x22urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\x22\x20SPNameQualifier=\x22invalid-value\x22>foo</saml:NameID><saml:SubjectConfirmation\x20Method=\x22urn:oasis:names:tc:SAML:2.0:cm:bearer\x22><saml:SubjectConfirmationData\x20NotOnOrAfter=\x222016-09-29T12:45:22.345Z\x22/></saml:SubjectConfirmation></saml:Subject><saml:Conditions\x20NotBefore=\x222016-09-29T12:35:22.345Z\x22\x20NotOnOrAfter=\x222016-09-29T12:45:22.345Z\x22><saml:AudienceRestriction><saml:Audience>urn:myapp</saml:Audience></saml:AudienceRestriction></saml:Conditions><saml:AttributeStatement\x20xmlns:xs=\x22http://www.w3.org/2001/XMLSchema\x22\x20xmlns:xsi=\x22http://www.w3.org/2001/XMLSchema-instance\x22><saml:Attribute\x20Name=\x22http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress\x22><saml:AttributeValue\x20xsi:type=\x22xs:anyType\x22>foo@bar.com</saml:AttributeValue></saml:Attribute><saml:Attribute\x20Name=\x22http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name\x22><saml:AttributeValue\x20xsi:type=\x22xs:anyType\x22>Foo\x20Bar</saml:AttributeValue></saml:Attribute></saml:AttributeStatement><saml:AuthnStatement\x20AuthnInstant=\x222016-09-29T12:35:22.345Z\x22><saml:AuthnContext><saml:AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:unspecified</saml:AuthnContextClassRef></saml:AuthnContext></saml:AuthnStatement></saml:Assertion>','rJiwj':_0xada341(0x21f),'TWBsY':function(_0x5421f1,_0x2994a1){const _0x3cb9e7=_0xada341;return _0x74ff71[_0x3cb9e7(0x1dd)](_0x5421f1,_0x2994a1);}};it(_0xada341(0x204),function(_0x38bbe3){const _0x5141c3=_0xada341,_0x4ea9f0={'PowZc':function(_0x3eaa02,_0x5cce82){return _0x57c8b7['XqfOM'](_0x3eaa02,_0x5cce82);},'PQCwT':_0x57c8b7['SBzoV'],'rqOiQ':_0x57c8b7['YSCsn'],'vZivo':_0x5141c3(0x1b4),'aqdWT':_0x57c8b7[_0x5141c3(0x1d0)],'BnouD':_0x57c8b7[_0x5141c3(0x142)],'cqWWl':_0x5141c3(0x128),'mlIZh':_0x57c8b7[_0x5141c3(0x1e3)],'cbqcY':_0x57c8b7['inlWk']};if(_0x57c8b7[_0x5141c3(0x1db)](_0x5141c3(0x1aa),_0x57c8b7[_0x5141c3(0x1f3)])){const _0xf4edd7=_0x57c8b7[_0x5141c3(0x205)],_0x45b3ab=fs[_0x5141c3(0x222)](__dirname+'/test-auth0.cer')[_0x5141c3(0x183)](),_0x4b5a71=new SamlPassport({'cert':_0x45b3ab,'realm':_0x57c8b7[_0x5141c3(0x163)],'checkRecipient':![]});_0x4b5a71['validateSamlAssertion'](_0xf4edd7,{},function(_0x4a1741,_0x184c7f){const _0x13082e=_0x5141c3;assert['ok'](_0x4a1741),assert['ok'](!_0x184c7f),assert['equal'](_0x4a1741[_0x13082e(0x211)],_0x57c8b7[_0x13082e(0x1ba)]),_0x38bbe3();});}else{const _0x4a41d8=_0x5141c3(0x22a),_0x3aa1fd=_0x1cce78[_0x5141c3(0x222)](_0x57c8b7[_0x5141c3(0x1ea)](_0x533ad0,_0x5141c3(0x1fa)))[_0x5141c3(0x183)](),_0x37e264=new _0x2062d1({'cert':_0x3aa1fd,'realm':_0x57c8b7[_0x5141c3(0x163)],'checkRecipient':![],'checkExpiration':![]});_0x37e264[_0x5141c3(0x12a)](_0x4a41d8,{},function(_0x197c9d,_0x5c063c){const _0x5f5c26=_0x5141c3;_0x4ea9f0[_0x5f5c26(0x12b)](_0x1a0971,_0x4ea9f0[_0x5f5c26(0x164)])();if(_0x197c9d)return _0x4275bd(_0x197c9d);_0x28485e['ok'](_0x5c063c),_0x4a3422[_0x5f5c26(0x17c)](_0x4ea9f0[_0x5f5c26(0x19a)],_0x5c063c[_0x4ea9f0[_0x5f5c26(0x13b)]]),_0x1ee9f7[_0x5f5c26(0x17c)](_0x4ea9f0['aqdWT'],_0x5c063c[_0x4ea9f0['BnouD']]),_0x19dde3[_0x5f5c26(0x17c)](_0x4ea9f0[_0x5f5c26(0x12d)],_0x5c063c['http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress']),_0x212685['equal']('foo@bar.com',_0x5c063c[_0x4ea9f0[_0x5f5c26(0x171)]]),_0x3e70fa[_0x5f5c26(0x17c)](_0x4ea9f0[_0x5f5c26(0x199)],_0x5c063c['issuer']),_0x71b5c3();});}}),it(_0x74ff71[_0xada341(0x16a)],function(_0x53082e){const _0x15d808=_0xada341,_0x32dd86=_0x57c8b7['rJiwj'],_0x3d337f=fs[_0x15d808(0x222)](_0x57c8b7[_0x15d808(0x1d9)](__dirname,_0x15d808(0x1fa)))[_0x15d808(0x183)](),_0x209fec=new SamlPassport({'cert':_0x3d337f,'realm':_0x15d808(0x15e),'checkRecipient':![]});_0x209fec[_0x15d808(0x12a)](_0x32dd86,{},function(_0x2d05bd,_0x89b2bc){const _0x1209d2=_0x15d808;assert['ok'](_0x2d05bd),assert['ok'](!_0x89b2bc),assert[_0x1209d2(0x17c)](_0x2d05bd['message'],_0x1209d2(0x14e)),_0x53082e();});});}),_0x74ff71['vVhKi'](describe,_0x74ff71[_0x2e4420(0x225)],()=>{const _0x15a311=_0x2e4420,_0x47fbd0={'rUPFW':_0x15a311(0x15d),'aPoWj':'/test-auth0.cer','TiOkh':_0x74ff71[_0x15a311(0x1ff)],'wvwAS':function(_0x3d59d9,_0x12a6b3){return _0x74ff71['bighp'](_0x3d59d9,_0x12a6b3);},'MmQfM':_0x74ff71[_0x15a311(0x21b)],'fqzvO':function(_0x105472){return _0x74ff71['RIYqF'](_0x105472);},'pXqSa':function(_0x5d6653,_0xdf574e){return _0x5d6653+_0xdf574e;},'wiekq':_0x15a311(0x15e),'MjcVD':'YTdLs','aJRaj':_0x15a311(0x1ac),'cjhRH':function(_0x363f64,_0xe6d6a6){return _0x363f64(_0xe6d6a6);},'BjvaF':function(_0x18a05f,_0x50e348){return _0x74ff71['HurrP'](_0x18a05f,_0x50e348);}};_0x74ff71[_0x15a311(0x145)](it,_0x74ff71['HIQHA'],_0x4aa681=>{const _0x2edb8d=_0x15a311,_0xb0830e={'rjcNg':_0x47fbd0[_0x2edb8d(0x16b)],'eyUgO':function(_0x2587d7,_0x431b5d){return _0x2587d7(_0x431b5d);},'NTGRI':function(_0x2d95e3,_0x3d123c){const _0x197383=_0x2edb8d;return _0x47fbd0[_0x197383(0x1d3)](_0x2d95e3,_0x3d123c);},'fmYGe':_0x47fbd0[_0x2edb8d(0x1a3)],'Ecmjl':_0x2edb8d(0x226),'DznEH':_0x2edb8d(0x206),'UWDQo':function(_0xc1a2a0){const _0x5c4edd=_0x2edb8d;return _0x47fbd0[_0x5c4edd(0x18e)](_0xc1a2a0);}},_0x166681=fs['readFileSync'](_0x47fbd0[_0x2edb8d(0x12e)](__dirname,_0x47fbd0[_0x2edb8d(0x16f)]))['toString'](),_0x5d34e4=new SamlPassport({'cert':_0x166681,'realm':_0x47fbd0['wiekq'],'checkRecipient':![]});try{if(_0x2edb8d(0x151)===_0x47fbd0[_0x2edb8d(0x1a5)])_0x5d34e4['validateSamlAssertion'](_0x2edb8d(0x193),{},function(_0x5cf850,_0x453f6e){const _0x3f2870=_0x2edb8d;_0xb0830e[_0x3f2870(0x132)](_0xb0830e[_0x3f2870(0x168)],_0x3f2870(0x218))?_0x4aa681(new Error(_0xb0830e[_0x3f2870(0x130)])):(_0x2b1289(_0x395d94)['to'][_0x3f2870(0x161)],_0x3f048d(_0x39668f[_0x3f2870(0x211)])['to'][_0x3f2870(0x17c)](_0xb0830e[_0x3f2870(0x21e)]),_0xb0830e[_0x3f2870(0x185)](_0x3538f2,_0x17edfb)['to']['not'][_0x3f2870(0x161)],_0x4ad4cb());});else{const _0x4635e3=_0x47fbd0[_0x2edb8d(0x177)],_0xe1317a=_0x80a27d[_0x2edb8d(0x222)](_0x5a938c+_0x47fbd0['aPoWj'])[_0x2edb8d(0x183)](),_0x43690d=new _0x48eb52({'cert':_0xe1317a,'realm':'urn:myapp','checkRecipient':![]});_0x43690d[_0x2edb8d(0x12a)](_0x4635e3,{},function(_0x2b8639,_0x1df175){const _0x9b4cd3=_0x2edb8d;_0x297789['ok'](_0x2b8639),_0x2e5f1c['ok'](!_0x1df175),_0x3b6baf[_0x9b4cd3(0x17c)](_0x2b8639[_0x9b4cd3(0x211)],_0xb0830e[_0x9b4cd3(0x13d)]),_0xb0830e['UWDQo'](_0x6db2ea);});}}catch(_0x1b5a36){expect(_0x1b5a36['message'])['to'][_0x2edb8d(0x17c)](_0x47fbd0[_0x2edb8d(0x146)]),_0x4aa681();}}),_0x74ff71[_0x15a311(0x145)](it,_0x15a311(0x1eb),_0x4286ec=>{const _0x4e9c9b=_0x15a311,_0x41e16d={'isBrN':function(_0x1a2d41,_0x1a5268){return _0x47fbd0['cjhRH'](_0x1a2d41,_0x1a5268);},'wZrpy':'The\x20signing\x20certificate\x20is\x20invalid\x20(error:1E08010C:DECODER\x20routines::unsupported,\x20error:0688010A:asn1\x20encoding\x20routines::nested\x20asn1\x20error,\x20error:06800066:asn1\x20encoding\x20routines::bad\x20object\x20header,\x20error:0680009B:asn1\x20encoding\x20routines::too\x20long)','qejEW':function(_0x27d0db,_0x4538f9){return _0x47fbd0['BjvaF'](_0x27d0db,_0x4538f9);},'tBhHi':_0x4e9c9b(0x172),'whLeD':function(_0x74bf16,_0x452076){const _0x507ade=_0x4e9c9b;return _0x47fbd0[_0x507ade(0x1d3)](_0x74bf16,_0x452076);},'ZOCuV':'Dkcsp','onSWX':function(_0x329c1e,_0x18cc91){return _0x329c1e(_0x18cc91);},'mkQgT':_0x4e9c9b(0x226)},_0x59da1e=fs[_0x4e9c9b(0x222)](__dirname+_0x47fbd0[_0x4e9c9b(0x16f)])[_0x4e9c9b(0x183)](),_0x4f4cc1=new SamlPassport({'cert':_0x59da1e,'realm':_0x47fbd0[_0x4e9c9b(0x1a9)],'checkRecipient':![]});try{_0x4f4cc1['validateSignature'](_0x4e9c9b(0x193),{},function(_0x2b5156,_0x228582){const _0xbd3a1a=_0x4e9c9b,_0x266249={'bbYCU':function(_0x6849dd,_0x55b561){const _0x33f651=_0x165f;return _0x41e16d[_0x33f651(0x22c)](_0x6849dd,_0x55b561);},'cBxGI':_0x41e16d[_0xbd3a1a(0x1e6)],'wudlV':_0xbd3a1a(0x162),'UIGtD':function(_0x338e4c,_0x4f5af9){const _0x5c3e80=_0xbd3a1a;return _0x41e16d[_0x5c3e80(0x140)](_0x338e4c,_0x4f5af9);},'WhjTW':_0xbd3a1a(0x19c),'FFbbh':_0x41e16d['tBhHi']};if(_0x41e16d[_0xbd3a1a(0x1b5)]('VqLeb',_0x41e16d[_0xbd3a1a(0x1d5)])){const _0x19f0ea={'kfLrQ':function(_0x351001,_0x1939e9){const _0x3b0bec=_0xbd3a1a;return _0x266249[_0x3b0bec(0x20e)](_0x351001,_0x1939e9);},'Ezfaa':_0xbd3a1a(0x224),'CjAMZ':_0x266249[_0xbd3a1a(0x1d7)],'kmuzu':_0x266249[_0xbd3a1a(0x16d)]},_0x1b1441=_0x57e102[_0xbd3a1a(0x222)](_0x266249[_0xbd3a1a(0x14a)](_0x550318,_0x266249[_0xbd3a1a(0x1f5)]))[_0xbd3a1a(0x183)](),_0x3dab8e={'checkDestination':![],'thumbprint':_0x266249[_0xbd3a1a(0x1ce)]},_0x4699ce=new _0xd64510(_0x3dab8e);_0x4699ce[_0xbd3a1a(0x12a)](_0x1b1441,{},function(_0x474123,_0x76c91c){const _0x3d1523=_0xbd3a1a;_0x19f0ea[_0x3d1523(0x175)](_0x204091,_0x474123)['to'][_0x3d1523(0x161)];const _0x59608d=['The\x20signing\x20certificate\x20is\x20invalid\x20(PEM_read_bio_PUBKEY\x20failed)',_0x3d1523(0x220),_0x19f0ea[_0x3d1523(0x18c)],_0x3d1523(0x1c0),_0x19f0ea['CjAMZ']];_0x54e940['ok'](_0x474123,'The\x20signing\x20certificate\x20was\x20unexpectedly\x20valid'),_0x2600ce['ok'](_0x59608d[_0x3d1523(0x1e4)](_0x474123[_0x3d1523(0x211)]),_0x19f0ea['kmuzu']),_0x514e8f();});}else _0x41e16d['onSWX'](_0x4286ec,new Error(_0x41e16d['mkQgT']));});}catch(_0x4ee338){expect(_0x4ee338['message'])['to'][_0x4e9c9b(0x17c)](_0x47fbd0[_0x4e9c9b(0x146)]),_0x4286ec();}});});});