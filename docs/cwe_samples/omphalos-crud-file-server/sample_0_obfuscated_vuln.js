const _0x38f9a5=_0x2df9;function _0x4f86(){const _0x413d5d=['exec','prepare','npm','usageError','3moMAhI','npm-shrinkwrap.json\x20with\x20lockfileVersion\x20>=\x201.\x20Run\x20an\x20install\x20with\x20npm@5\x20or\x0a','596424PvgpMG','idealTree','length','QLLEF','@npmcli/arborist','promisify','stack','2486212XjVGVT','config','prefix','ECIGLOBAL','7416VZZOjB','SVdVT','virtualTree','WWGht','readdir','package-lock.json\x20or\x20npm-shrinkwrap.json\x20are\x20in\x20sync.\x20Please\x20','loadVirtual','buildIdealTree','Clean\x20install\x20a\x20project','`npm\x20ci`\x20does\x20not\x20work\x20for\x20global\x20packages','workspaceNames','rimraf','get','1112YMDdEA','reify','foreground-scripts','OCfHh','preinstall','audit','flatOptions','util','script-shell','IRmaR','preprepare','postprepare','params','bzDhJ','silent','global','qKtRJ','time','`npm\x20ci`\x20can\x20only\x20install\x20packages\x20when\x20your\x20package.json\x20and\x20','inherit','24204douonI','VdTTl','410BTTciE','1985102xDfXva','update\x20your\x20lock\x20file\x20with\x20`npm\x20install`\x20','prepublish','../utils/log-shim.js','../arborist-cmd.js','all','map','ignore-scripts','exports','npm-ci:rm','join','inventory','5760970jkMMTK','before\x20continuing.\x0a\x0a','../utils/validate-lockfile.js','NNCAD','QtgDI','288918JSvzpN'];_0x4f86=function(){return _0x413d5d;};return _0x4f86();}(function(_0x4e4aaa,_0x21653c){const _0x3be243=_0x2df9,_0x65e1cf=_0x4e4aaa();while(!![]){try{const _0x1ccbf1=parseInt(_0x3be243(0xb6))/0x1*(-parseInt(_0x3be243(0xb1))/0x2)+-parseInt(_0x3be243(0xb8))/0x3+parseInt(_0x3be243(0xbf))/0x4+parseInt(_0x3be243(0x9f))/0x5*(-parseInt(_0x3be243(0x9d))/0x6)+parseInt(_0x3be243(0xa0))/0x7+-parseInt(_0x3be243(0xd0))/0x8*(parseInt(_0x3be243(0xc3))/0x9)+parseInt(_0x3be243(0xac))/0xa;if(_0x1ccbf1===_0x21653c)break;else _0x65e1cf['push'](_0x65e1cf['shift']());}catch(_0x248e50){_0x65e1cf['push'](_0x65e1cf['shift']());}}}(_0x4f86,0x6290f));const util=require(_0x38f9a5(0xd7)),Arborist=require(_0x38f9a5(0xbc)),rimraf=util['promisify'](require(_0x38f9a5(0xce))),reifyFinish=require('../utils/reify-finish.js'),runScript=require('@npmcli/run-script'),fs=require('fs'),readdir=util[_0x38f9a5(0xbd)](fs[_0x38f9a5(0xc7)]),log=require(_0x38f9a5(0xa3)),validateLockfile=require(_0x38f9a5(0xae)),ArboristWorkspaceCmd=require(_0x38f9a5(0xa4));function _0x2df9(_0x50bc9b,_0x2df646){const _0x4f866f=_0x4f86();return _0x2df9=function(_0x2df919,_0xf4b27c){_0x2df919=_0x2df919-0x98;let _0x799f4d=_0x4f866f[_0x2df919];return _0x799f4d;},_0x2df9(_0x50bc9b,_0x2df646);}class CI extends ArboristWorkspaceCmd{static ['description']=_0x38f9a5(0xcb);static ['name']='ci';static [_0x38f9a5(0xdc)]=[_0x38f9a5(0xd5),_0x38f9a5(0xd2),_0x38f9a5(0xa7),_0x38f9a5(0xd8)];async[_0x38f9a5(0xb2)](){const _0x1ba0f4=_0x38f9a5,_0xe6b385={'IRmaR':function(_0x3e29a8,_0x167dac){return _0x3e29a8+_0x167dac;},'QtgDI':'later\x20to\x20generate\x20a\x20package-lock.json\x20file,\x20then\x20try\x20again.','qKtRJ':_0x1ba0f4(0xcc),'NNCAD':_0x1ba0f4(0xc2),'WWGht':function(_0xe1e1c7,_0x3e0fef){return _0xe1e1c7+_0x3e0fef;},'VdTTl':_0x1ba0f4(0x9b),'bzDhJ':_0x1ba0f4(0xa9),'OCfHh':'install','SVdVT':'postinstall','iSAAR':_0x1ba0f4(0xb3),'QLLEF':function(_0x1f9f1b,_0x33264e){return _0x1f9f1b(_0x33264e);},'yuUMR':function(_0x4c461f,_0x1d8e27,_0x118189){return _0x4c461f(_0x1d8e27,_0x118189);}};if(this[_0x1ba0f4(0xb4)][_0x1ba0f4(0x98)])throw Object['assign'](new Error(_0xe6b385[_0x1ba0f4(0x99)]),{'code':_0xe6b385[_0x1ba0f4(0xaf)]});const _0x5363e0=this[_0x1ba0f4(0xb4)][_0x1ba0f4(0xc1)],_0x418f5d={...this[_0x1ba0f4(0xb4)][_0x1ba0f4(0xd6)],'packageLock':!![],'path':_0x5363e0,'save':![],'workspaces':this[_0x1ba0f4(0xcd)]},_0x197e74=new Arborist(_0x418f5d);await _0x197e74[_0x1ba0f4(0xc9)]()['catch'](_0x572585=>{const _0x50208f=_0x1ba0f4;log['verbose'](_0x50208f(0xc9),_0x572585[_0x50208f(0xbe)]);const _0x4fb0b4=_0xe6b385[_0x50208f(0xd9)]('The\x20`npm\x20ci`\x20command\x20can\x20only\x20install\x20with\x20an\x20existing\x20package-lock.json\x20or\x0a'+_0x50208f(0xb7),_0xe6b385[_0x50208f(0xb0)]);throw this[_0x50208f(0xb5)](_0x4fb0b4);});const _0x2f9ca3=new Map(_0x197e74[_0x1ba0f4(0xc5)][_0x1ba0f4(0xab)]);await _0x197e74[_0x1ba0f4(0xca)]();const _0x3a7338=validateLockfile(_0x2f9ca3,_0x197e74[_0x1ba0f4(0xb9)]['inventory']);if(_0x3a7338[_0x1ba0f4(0xba)])throw this['usageError'](_0xe6b385['WWGht'](_0xe6b385[_0x1ba0f4(0xd9)](_0xe6b385[_0x1ba0f4(0xc6)](_0xe6b385[_0x1ba0f4(0x9e)],_0x1ba0f4(0xc8)),_0x1ba0f4(0xa1))+_0x1ba0f4(0xad),_0x3a7338[_0x1ba0f4(0xaa)]('\x0a')));await this[_0x1ba0f4(0xb4)][_0x1ba0f4(0x9a)](_0xe6b385[_0x1ba0f4(0xdd)],async()=>{const _0x1aab6b=_0x1ba0f4,_0x5c6c82=_0x5363e0+'/node_modules',_0x305bff=await readdir(_0x5c6c82,null)['catch'](_0x2f6396=>[]);return Promise[_0x1aab6b(0xa5)](_0x305bff[_0x1aab6b(0xa6)](_0x63c71b=>rimraf(_0x5c6c82+'/'+_0x63c71b,{'glob':![]})));}),await _0x197e74[_0x1ba0f4(0xd1)](_0x418f5d);const _0x5ab65b=this['npm'][_0x1ba0f4(0xc0)][_0x1ba0f4(0xcf)](_0x1ba0f4(0xa7));if(!_0x5ab65b){const _0x582853=[_0x1ba0f4(0xd4),_0xe6b385[_0x1ba0f4(0xd3)],_0xe6b385[_0x1ba0f4(0xc4)],_0x1ba0f4(0xa2),_0x1ba0f4(0xda),_0xe6b385['iSAAR'],_0x1ba0f4(0xdb)],_0x2afdaf=this['npm'][_0x1ba0f4(0xc0)][_0x1ba0f4(0xcf)](_0x1ba0f4(0xd8))||undefined;for(const _0x30e960 of _0x582853){await _0xe6b385[_0x1ba0f4(0xbb)](runScript,{'path':_0x5363e0,'args':[],'scriptShell':_0x2afdaf,'stdio':_0x1ba0f4(0x9c),'stdioString':!![],'banner':!this[_0x1ba0f4(0xb4)][_0x1ba0f4(0xde)],'event':_0x30e960});}}await _0xe6b385['yuUMR'](reifyFinish,this[_0x1ba0f4(0xb4)],_0x197e74);}}module[_0x38f9a5(0xa8)]=CI;