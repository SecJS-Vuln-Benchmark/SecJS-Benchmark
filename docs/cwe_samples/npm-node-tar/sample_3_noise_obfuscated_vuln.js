const _0x4f5fd8=_0xe483;(function(_0x3e71c0,_0x3d6b7d){const _0x2f1ff9=_0xe483,_0x1a588b=_0x3e71c0();while(!![]){try{const _0xf9adc9=parseInt(_0x2f1ff9(0x1c9))/0x1+-parseInt(_0x2f1ff9(0x1dc))/0x2+parseInt(_0x2f1ff9(0x1cd))/0x3+-parseInt(_0x2f1ff9(0x1d3))/0x4+-parseInt(_0x2f1ff9(0x1c0))/0x5+-parseInt(_0x2f1ff9(0x1bf))/0x6+-parseInt(_0x2f1ff9(0x1df))/0x7*(-parseInt(_0x2f1ff9(0x1d4))/0x8);if(_0xf9adc9===_0x3d6b7d)break;else _0x1a588b['push'](_0x1a588b['shift']());}catch(_0x4ac247){_0x1a588b['push'](_0x1a588b['shift']());}}}(_0x4072,0x69efb));function _0x4072(){const _0x3d1276=['readFileSync','lxhJt','<root><x\x20/></root>','FiMMz','ZAKUG','hovhR','261690OFRTjz','QkEcq','kMCLM','9037RFJuEl','addReference','undefined','./test/static/hmac.key','publicCert','make\x20sure\x20private\x20hmac\x20key\x20is\x20not\x20leaked\x20due\x20to\x20key\x20confusion','documentElement','X509Certificate\x20element\x20should\x20exist','getSignedXml','//*[local-name(.)=\x27KeyInfo\x27]','./test/static/client.pem','<library>','DOMParser','assertIsArrayOfNodes','//*[local-name(.)=\x27X509Certificate\x27]','DoaPm','privateKey','parseFromString','4032228vyadpW','1057780PKToSQ','http://www.w3.org/2000/09/xmldsig#rsa-sha1','select1','vkLtc','<book>','cHvgG','</book>','enableHMAC','<name>Harry\x20Potter</name>','626874WtHfTv','adds\x20X509Certificate\x20element\x20during\x20signature','http://www.w3.org/2001/10/xml-exc-c14n#','./test/static/client_public.pem','1613307AnLNSA','</library>','KeyInfo\x20tests','computeSignature','canonicalizationAlgorithm','signatureAlgorithm','3078980fGmgoA','6528FVTVCF','Iydjd'];_0x4072=function(){return _0x3d1276;};return _0x4072();}import*as _0x421459 from'@xmldom/xmldom';import*as _0x1513d1 from'fs';import*as _0x4ed87e from'xpath';import{SignedXml}from'../src/index';import{expect}from'chai';import*as _0x1d9a38 from'@xmldom/is-dom-node';function _0xe483(_0x17462b,_0xfcf382){const _0x40723c=_0x4072();return _0xe483=function(_0xe4835,_0xd46744){_0xe4835=_0xe4835-0x1ae;let _0x576517=_0x40723c[_0xe4835];return _0x576517;},_0xe483(_0x17462b,_0xfcf382);}describe(_0x4f5fd8(0x1cf),function(){const _0x417c39=_0x4f5fd8,_0x96cec1={'lxhJt':'http://www.w3.org/2001/10/xml-exc-c14n#','kMCLM':_0x417c39(0x1c1),'DoaPm':_0x417c39(0x1bb),'hovhR':_0x417c39(0x1b4),'ZAKUG':function(_0x10110f,_0x13f071){return _0x10110f+_0x13f071;},'QkEcq':_0x417c39(0x1c8),'cHvgG':_0x417c39(0x1ce),'FiMMz':'./test/static/hmac.key','Iydjd':'http://www.w3.org/2000/09/xmldsig#hmac-sha1','vkLtc':function(_0x4a6a14,_0x513fb7,_0x4644ad){return _0x4a6a14(_0x513fb7,_0x4644ad);}};_0x96cec1[_0x417c39(0x1c3)](it,_0x417c39(0x1ca),function(){const _0x509dce=_0x417c39,_0x3a1903=_0x509dce(0x1d8),_0x2c4ed8=new SignedXml();_0x2c4ed8[_0x509dce(0x1bd)]=_0x1513d1[_0x509dce(0x1d6)](_0x509dce(0x1b7)),_0x2c4ed8[_0x509dce(0x1b1)]=_0x1513d1[_0x509dce(0x1d6)](_0x509dce(0x1cc)),_0x2c4ed8[_0x509dce(0x1d1)]=_0x96cec1[_0x509dce(0x1d7)],_0x2c4ed8[_0x509dce(0x1d2)]=_0x96cec1[_0x509dce(0x1de)],_0x2c4ed8['computeSignature'](_0x3a1903);const _0x1878a9=_0x2c4ed8[_0x509dce(0x1b5)](),_0x4043c1=new _0x421459[(_0x509dce(0x1b9))]()[_0x509dce(0x1be)](_0x1878a9),_0x597d0a=_0x4ed87e['select'](_0x96cec1[_0x509dce(0x1bc)],_0x4043c1[_0x509dce(0x1b3)]);_0x1d9a38[_0x509dce(0x1ba)](_0x597d0a),expect(_0x597d0a['length'],_0x96cec1[_0x509dce(0x1db)])['to']['equal'](0x1);}),it(_0x417c39(0x1b2),function(){const _0x3d0c7b=_0x417c39,_0x36f3b2=_0x96cec1[_0x3d0c7b(0x1da)](_0x3d0c7b(0x1b8),_0x3d0c7b(0x1c4))+_0x96cec1[_0x3d0c7b(0x1dd)]+_0x3d0c7b(0x1c6)+_0x96cec1[_0x3d0c7b(0x1c5)],_0x525718=new SignedXml();_0x525718['privateKey']=_0x1513d1[_0x3d0c7b(0x1d6)](_0x3d0c7b(0x1b0)),_0x525718[_0x3d0c7b(0x1b1)]=_0x1513d1[_0x3d0c7b(0x1d6)](_0x96cec1[_0x3d0c7b(0x1d9)]),_0x525718[_0x3d0c7b(0x1d2)]=_0x96cec1[_0x3d0c7b(0x1d5)],_0x525718[_0x3d0c7b(0x1c7)](),_0x525718[_0x3d0c7b(0x1ae)]({'xpath':'//*[local-name(.)=\x27book\x27]','digestAlgorithm':'http://www.w3.org/2000/09/xmldsig#sha1','transforms':[_0x96cec1['lxhJt']]}),_0x525718[_0x3d0c7b(0x1d1)]=_0x3d0c7b(0x1cb),_0x525718[_0x3d0c7b(0x1d0)](_0x36f3b2);const _0x1ed517=new _0x421459['DOMParser']()['parseFromString'](_0x525718['getSignedXml']()),_0x45c55b=_0x4ed87e[_0x3d0c7b(0x1c2)](_0x3d0c7b(0x1b6),_0x1ed517);expect(_0x45c55b)['to']['be'][_0x3d0c7b(0x1af)];});});