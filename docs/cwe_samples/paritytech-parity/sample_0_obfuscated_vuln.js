'use strict';var _0x43dcac=_0x194f;function _0x194f(_0x3ba2e3,_0x494519){var _0x441d28=_0x441d();return _0x194f=function(_0x194ff4,_0x51f86b){_0x194ff4=_0x194ff4-0x12f;var _0x4014f9=_0x441d28[_0x194ff4];return _0x4014f9;},_0x194f(_0x3ba2e3,_0x494519);}(function(_0x2ca54d,_0x3bfd0f){var _0xb98cff=_0x194f,_0xa0c345=_0x2ca54d();while(!![]){try{var _0x58511b=parseInt(_0xb98cff(0x142))/0x1+-parseInt(_0xb98cff(0x168))/0x2*(-parseInt(_0xb98cff(0x23e))/0x3)+-parseInt(_0xb98cff(0x29e))/0x4*(parseInt(_0xb98cff(0x14d))/0x5)+parseInt(_0xb98cff(0x1a0))/0x6*(parseInt(_0xb98cff(0x131))/0x7)+parseInt(_0xb98cff(0x172))/0x8*(-parseInt(_0xb98cff(0x1b0))/0x9)+-parseInt(_0xb98cff(0x210))/0xa*(-parseInt(_0xb98cff(0x2cb))/0xb)+-parseInt(_0xb98cff(0x214))/0xc;if(_0x58511b===_0x3bfd0f)break;else _0xa0c345['push'](_0xa0c345['shift']());}catch(_0x19ae47){_0xa0c345['push'](_0xa0c345['shift']());}}}(_0x441d,0x5daa1));var AccessDeniedError=require(_0x43dcac(0x2d7)),BearerTokenType=require(_0x43dcac(0x141)),InvalidArgumentError=require(_0x43dcac(0x216)),InvalidClientError=require('../../../lib/errors/invalid-client-error'),InvalidGrantError=require(_0x43dcac(0x1a5)),InvalidRequestError=require(_0x43dcac(0x22e)),PasswordGrantType=require('../../../lib/grant-types/password-grant-type'),Promise=require('bluebird'),Request=require(_0x43dcac(0x16b)),Response=require(_0x43dcac(0x252)),ServerError=require('../../../lib/errors/server-error'),TokenHandler=require(_0x43dcac(0x27d)),UnauthorizedClientError=require(_0x43dcac(0x13f)),UnsupportedGrantTypeError=require('../../../lib/errors/unsupported-grant-type-error'),should=require('should'),util=require('util');function _0x441d(){var _0x280926=['LUZZD','then','xyvpW','pufkV','qCHuK','UiuDv','EedTv','UweCk','WOkYp','fail','TCxOK','ewkJr','PDrHG','resolve','SJNTa','Invalid\x20client:\x20client\x20is\x20invalid','xKess','LwwNv','server_error','should\x20throw\x20an\x20error\x20if\x20`request`\x20is\x20missing','3|0|1|4|2|5','inner','FdykV','../../../lib/errors/invalid-request-error','XVDFz','Invalid\x20parameter:\x20`client_id`','refresh_token','gXKQh','toString','NCQjP','no-store','ZefyI','foo:bar','ADgyO','AFLMT','xvSFm','PhmTT','SBPkb','should\x20throw\x20a\x20server\x20error\x20if\x20a\x20non-oauth\x20error\x20is\x20thrown','27ebKYrj','alwaysIssueNewRefreshToken','QcYzM','CDlHG','LPBgJ','refreshTokenLifetime','secret','Invalid\x20argument:\x20`response`\x20must\x20be\x20an\x20instance\x20of\x20Response','prahi','QkYnk','cNmIC','azVTM','DwJZK','WEzjO','3|4|2|1|0','Missing\x20parameter:\x20`accessTokenLifetime`','bVytr','ObfzR','ySFaG','cgNbP','../../../lib/response','should\x20throw\x20an\x20error\x20if\x20`grant_type`\x20is\x20invalid','PNnCK','ftwjj','should\x20throw\x20an\x20error\x20if\x20the\x20model\x20does\x20not\x20implement\x20`getClient()`','MTmvx','UtuvP','status','GLAHh','mUGEv','should\x20throw\x20the\x20error\x20if\x20an\x20oauth\x20error\x20is\x20thrown','ZiHpM','JTbEn','CePFm','should\x20support\x20callbacks','oMSNh','CSliD','Irair','qAmhm','ginLb','gFJDp','VSmxx','Cannot\x20request\x20a\x20token','should\x20throw\x20an\x20error\x20if\x20`clientSecret`\x20is\x20invalid','JEoRI','QmzBf','duNOt','ONASm','OIIoh','split','GegoZ','getClient','base64','QWFNo','should\x20not\x20return\x20custom\x20attributes\x20in\x20a\x20bearer\x20token\x20if\x20the\x20allowExtendedTokenAttributes\x20is\x20not\x20set','0|2|4|1|3','Invalid\x20argument:\x20model\x20does\x20not\x20implement\x20`getClient()`','with\x20grant_type\x20`client_credentials`','nSbIG','NvlXr','with\x20`client_id`\x20and\x20`client_secret`\x20in\x20the\x20request\x20header\x20as\x20basic\x20auth','access_token','øå€£‰','../../../lib/handlers/token-handler','kQDtd','ZYlGy','aDgjL','foobar','ymTCC','dfjcl','hfbcm','XCZMq','Invalid\x20client:\x20cannot\x20retrieve\x20client\x20credentials','FgeNq','krALv','NMdZB','PMyrZ','dHoes','jmROe','ruKXc','should\x20throw\x20an\x20error\x20if\x20the\x20media\x20type\x20is\x20not\x20`application/x-www-form-urlencoded`','rjdUn','CnlKu','tySFS','FQtTv','dPFLJ','eGwjN','jOTEb','DfnKM','pzgtn','UTZpo','VuxZs','DKXKM','getClientCredentials','bFTAl','jbgis','4erQIDN','equal','xbALn','~foo~','model','should\x20set\x20the\x20`refreshTokenLifetime`','eJURm','SwccM','fFmvd','WjJpe','0|3|1|4|2','Surbd','not','Unsupported\x20grant\x20type:\x20`grant_type`\x20is\x20invalid','EVslR','with\x20`client_id`\x20and\x20`client_secret`\x20in\x20the\x20request\x20body','fLOqJ','ArFGH','pHCoP','should\x20set\x20the\x20`Cache-Control`\x20header','should\x20set\x20the\x20`status`','biZdY','yRHTw','should\x20throw\x20an\x20error\x20if\x20`grant_type`\x20is\x20unauthorized','baz','with\x20`password`\x20grant\x20type\x20and\x20`requireClientAuthentication`\x20is\x20false\x20and\x20Authorization\x20header','nMtuj','scope','wnDVN','mjnkK','ZfMNl','authorization_code','WUOfD','EXtrB','WJClD','BkhzP','ghkmF','SSbFI','updateSuccessResponse','sadBX','CyAuL','with\x20grant_type\x20`password`','cNPRC','vvqWP','getClientCredentials()','420530PrVCbn','Cache-Control','gsaAi','eagOx','mmMKE','should\x20throw\x20an\x20error\x20if\x20`options.model`\x20is\x20missing','zztdE','hhKJr','hNRzX','nrAGA','iWBMH','KDwrq','../../../lib/errors/access-denied-error','Bearer','MdOlh','fXQjE','should\x20throw\x20a\x20401\x20error\x20if\x20the\x20client\x20is\x20invalid\x20and\x20the\x20request\x20contains\x20an\x20authorization\x20header','yefYm','PSrHc','should\x20throw\x20an\x20error\x20if\x20`client.grants`\x20is\x20invalid','zcMnI','yUDQn','Server\x20error:\x20`grants`\x20must\x20be\x20an\x20array','OdjeV','error','grantTypes','dNfZm','handleGrantType','Pngjh','lCcOU','14rtVAAX','GhOmh','UIJBT','should\x20throw\x20an\x20error\x20if\x20`options.refreshTokenLifetime`\x20is\x20missing','should','FZZpg','GlHFn','MGGuN','password','hNemA','pefKU','XpwON','fFdyH','should\x20throw\x20an\x20error\x20if\x20`response`\x20is\x20missing','../../../lib/errors/unauthorized-client-error','4|2|1|0|3','../../../lib/token-types/bearer-token-type','461765TBKIHP','ioqYS','kXJOE','exLaT','ePmJC','TokenHandler\x20integration','iJVRm','application/x-www-form-urlencoded','EnTVR','tgHAN','EXeQG','1972855FzkDZS','Invalid\x20grant:\x20user\x20credentials\x20are\x20invalid','IjvDk','WWuTb','XMgFq','handle','LQOnR','request','OOJGS','rHxVA','kFQoM','kYQOS','XtmMw','PCkhZ','pyvyZ','DbtTF','oCaZo','fKRrL','should\x20throw\x20an\x20error\x20if\x20`clientId`\x20is\x20invalid','SyAeg','VzHsd','oXJcm','getAccessTokenLifetime()','xURYg','bar','getAccessTokenLifetime','NbNxY','8516saChEZ','jCpcx','uGLyn','../../../lib/request','kKsFD','should\x20throw\x20an\x20error\x20if\x20`options.accessTokenLifetime`\x20is\x20missing','xpjeN','gHEsR','gNLIz','NCiEB','8qxvCVt','ciTqq','dwrHC','XmplM','Server\x20error:\x20missing\x20client\x20`grants`','exist','should\x20update\x20the\x20response\x20if\x20an\x20error\x20is\x20thrown','FqjjR','should\x20return\x20the\x20client\x20access\x20token\x20lifetime','zAPsY','WreYB','jPCMg','5|2|0|3|1|4','PjhpS','0|5|3|4|1|2','aigyS','updateSuccessResponse()','constructor()','should\x20return\x20a\x20client','VUSQZ','SJhxY','Missing\x20parameter:\x20`refreshTokenLifetime`','foo','KWmVq','qQCLi','myYLH','tdQNc','RGJmY','5|4|1|0|2|3|6','gCsuX','IdcvW','HWAMt','should\x20return\x20the\x20default\x20access\x20token\x20lifetime','FCmac','PuffZ','bvCjF','with\x20`client_id`\x20and\x20grant\x20type\x20is\x20`password`\x20and\x20`requireClientAuthentication`\x20is\x20false','kYZwJ','wuMMs','nvAPp','eql','with\x20`password`\x20grant\x20type\x20and\x20`requireClientAuthentication`\x20is\x20false','iqUww','LulNo','nNmcO','containEql','2300868DxGFDG','Basic\x20%s','should\x20return\x20a\x20token','RBUNx','KJomu','../../../lib/errors/invalid-grant-error','Gcrat','FPcOQ','body','LrNvp','should\x20throw\x20an\x20invalid\x20grant\x20error\x20if\x20a\x20non-oauth\x20error\x20is\x20thrown','catch','3|1|0|4|2','VoKqO','blah','format','6083406DbOznw','should\x20set\x20the\x20`accessTokenLifetime`','3|0|1|5|2|4','error_description','shoUE','should\x20set\x20the\x20`body`','MgXzF','Invalid\x20parameter:\x20`client_secret`','POST','Foqor','biz','should\x20return\x20the\x20default\x20`alwaysIssueNewRefreshToken`\x20value','cFlMs','blah:','HMnZC','client_credentials','LNzVo','uWLEl','chunked','with\x20grant_type\x20`refresh_token`','gvOzy','EiPSj','Pragma','Jmgps','CZGCL','WWW-Authenticate','xgwYP','MNMAB','YVevk','urn:ietf:params:oauth:grant-type:saml2-bearer','LDZuo','accessTokenLifetime','getRefreshTokenLifetime','PaAHy','SHydJ','WKeEA','3|4|2|0|1|5','anGqU','kEHgH','JoFoB','kRwzr','QPeJX','gyCAn','should\x20set\x20the\x20`Pragma`\x20header','QJwap','VbeNN','token_type','szbUe','BleZo','Invalid\x20request:\x20content\x20must\x20be\x20application/x-www-form-urlencoded','getTokenType()','GAVbo','evrbc','megQZ','gLQJh','message','xYYMH','ZDIOv','Missing\x20parameter:\x20`model`','gbZhI','should\x20set\x20the\x20`model`','BZnWu','lImcu','Sapkw','cBGQh','should\x20throw\x20an\x20error\x20if\x20`client_id`\x20is\x20missing','HCMaM','YoJqT','mocFo','eMuDQ','bCtTH','LPMtP','dKKHA','should\x20throw\x20an\x20error\x20if\x20`client_secret`\x20is\x20missing','SaOea','cLayN','BOGOa','DcjmN','zgntk','jcshL','should\x20return\x20a\x20client\x20','updateErrorResponse','get','instanceOf','pETmp','lNdBn','ZdESA','should\x20throw\x20an\x20error\x20if\x20`client`\x20is\x20missing','wGrpN','NkRws','SdimO','Unauthorized\x20client:\x20`grant_type`\x20is\x20invalid','VygUu','no-cache','Jegqx','LGUoB','110VDeQmF','kkTAS','should\x20throw\x20an\x20error\x20if\x20`client.grants`\x20is\x20missing','access_denied','2801028zmMtPk','with\x20grant_type\x20`authorization_code`','../../../lib/errors/invalid-argument-error'];_0x441d=function(){return _0x280926;};return _0x441d();}describe(_0x43dcac(0x147),function(){var _0x186185=_0x43dcac,_0x4d7e08={'GegoZ':function(_0x4021f4,_0x42571a){return _0x4021f4===_0x42571a;},'JTbEn':_0x186185(0x25d),'LUZZD':_0x186185(0x1eb),'nSbIG':_0x186185(0x187),'ADgyO':_0x186185(0x26c),'cNPRC':_0x186185(0x20c),'Surbd':_0x186185(0x24d),'uWLEl':_0x186185(0x288),'VzHsd':_0x186185(0x2e1),'CnlKu':function(_0x247a1f,_0x350b06,_0xeb1c60){return _0x247a1f(_0x350b06,_0xeb1c60);},'oCaZo':_0x186185(0x134),'cLayN':_0x186185(0x256),'VbeNN':'should\x20set\x20the\x20`alwaysIssueNewRefreshToken`','VUSQZ':function(_0x4c2047,_0x2f1411,_0x22713a){return _0x4c2047(_0x2f1411,_0x22713a);},'BOGOa':'should\x20set\x20the\x20`alwaysIssueNewRefreshToken`\x20to\x20false','JoFoB':'should\x20set\x20the\x20`extendedGrantTypes`','zAPsY':_0x186185(0x1ec),'GhOmh':_0x186185(0x2a3),'qQCLi':function(_0x1a58c3,_0x222317){return _0x1a58c3!==_0x222317;},'iJVRm':_0x186185(0x1fe),'qCHuK':_0x186185(0x171),'kYQOS':'GET','PhmTT':_0x186185(0x1b8),'WWuTb':_0x186185(0x1d4),'NbNxY':'password','UTZpo':'bar','IjvDk':'foo','cFlMs':_0x186185(0x149),'cNmIC':_0x186185(0x1c2),'fKRrL':_0x186185(0x2b6),'UtuvP':'Invalid\x20argument:\x20`response`\x20must\x20be\x20an\x20instance\x20of\x20Response','krlaX':'Unhandled\x20exception','QJwap':_0x186185(0x229),'QPeJX':'foobar','Pngjh':'Invalid\x20parameter:\x20`grant_type`','oXJcm':function(_0x13d3b5,_0x46db87,_0x5bb766){return _0x13d3b5(_0x46db87,_0x5bb766);},'kkTAS':'should\x20throw\x20an\x20error\x20if\x20the\x20method\x20is\x20not\x20`POST`','NCQjP':function(_0x138e9a,_0x272bbf,_0x4a3c5f){return _0x138e9a(_0x272bbf,_0x4a3c5f);},'eJURm':_0x186185(0x28e),'CyAuL':_0x186185(0x25c),'MTmvx':function(_0x55684c,_0x1a36af,_0x42f347){return _0x55684c(_0x1a36af,_0x42f347);},'fXQjE':_0x186185(0x23d),'fLOqJ':function(_0x36aaf0,_0xe9afb8,_0x3eddb1){return _0x36aaf0(_0xe9afb8,_0x3eddb1);},'XMgFq':function(_0x46374a,_0x3feb91,_0x3b2aca){return _0x46374a(_0x3feb91,_0x3b2aca);},'EJYDH':'should\x20return\x20a\x20bearer\x20token\x20if\x20successful\x20with\x20extend\x20model\x20obj\x20with\x20request','jPCMg':function(_0x119528,_0x4d4287,_0x4aeaeb){return _0x119528(_0x4d4287,_0x4aeaeb);},'CEpJL':'should\x20return\x20custom\x20attributes\x20in\x20a\x20bearer\x20token\x20if\x20the\x20allowExtendedTokenAttributes\x20is\x20set','szbUe':_0x186185(0x226),'kYZwJ':_0x186185(0x26e),'EiPSj':_0x186185(0x27c),'uGLyn':_0x186185(0x2d3),'EVslR':_0x186185(0x26b),'aigyS':_0x186185(0x244),'ghrKh':_0x186185(0x17e),'yRHTw':function(_0x55d1d0,_0xb24be){return _0x55d1d0===_0xb24be;},'ftwjj':function(_0x2cfdc8,_0x3cd764){return _0x2cfdc8!==_0x3cd764;},'SdimO':_0x186185(0x1a1),'EedTv':_0x186185(0x180),'DwJZK':'Pragma','pefKU':function(_0xe2fda6,_0x166c5d,_0x319355){return _0xe2fda6(_0x166c5d,_0x319355);},'EXtrB':_0x186185(0x24c),'eagOx':_0x186185(0x1bd),'YVevk':_0x186185(0x2d9),'hzDnJ':function(_0x4396b5,_0x500ec8,_0x153ca9){return _0x4396b5(_0x500ec8,_0x153ca9);},'biZdY':_0x186185(0x15f),'iEDem':_0x186185(0x207),'BkhzP':_0x186185(0x212),'AFLMT':_0x186185(0x2de),'bVytr':_0x186185(0x2db),'WOkYp':function(_0x4e6be3,_0x3cacc3,_0x364013){return _0x4e6be3(_0x3cacc3,_0x364013);},'tSHLB':_0x186185(0x19b),'pDhQJ':_0x186185(0x2b7),'YoJqT':function(_0x4eda7f,_0x29937c,_0x410055){return _0x4eda7f(_0x29937c,_0x410055);},'KJomu':_0x186185(0x260),'sLwsv':function(_0x5635a,_0x405b64,_0x529b89){return _0x5635a(_0x405b64,_0x529b89);},'tgHAN':_0x186185(0x184),'kFQoM':function(_0x886d1,_0x3e0bb9){return _0x886d1*_0x3e0bb9;},'dwrHC':_0x186185(0x2d5),'nvAPp':_0x186185(0x1ac),'RGSmm':function(_0x221bf5,_0x339ddb,_0x557b45){return _0x221bf5(_0x339ddb,_0x557b45);},'EXeQG':function(_0x5e1803,_0x573f8f,_0x3e6485){return _0x5e1803(_0x573f8f,_0x3e6485);},'pHCoP':_0x186185(0x1f9),'eMuDQ':function(_0x5cee3e,_0x4e30c1,_0x2d6a90){return _0x5cee3e(_0x4e30c1,_0x2d6a90);},'XmplM':function(_0x16e8b5,_0x8c9382,_0x50ed48){return _0x16e8b5(_0x8c9382,_0x50ed48);},'HYbxP':_0x186185(0x2ad),'xpjeN':function(_0x308c77,_0x4cedb1){return _0x308c77!==_0x4cedb1;},'ymTCC':_0x186185(0x2bb),'VnQim':_0x186185(0x204),'oWMih':function(_0x890702,_0x2dc046){return _0x890702!==_0x2dc046;},'HMnZC':_0x186185(0x143),'HWAMt':_0x186185(0x140),'dHoes':_0x186185(0x20b),'duIVm':_0x186185(0x1bf),'DPVnd':_0x186185(0x2ba),'bvCjF':function(_0x4a6978,_0x4f474c,_0x3a1682){return _0x4a6978(_0x4f474c,_0x3a1682);},'kKsFD':_0x186185(0x1a2),'ZdESA':'tWUem','RGJmY':'urn:ietf:params:oauth:grant-type:saml2-bearer','XCZMq':'should\x20throw\x20an\x20error\x20if\x20`grant_type`\x20is\x20missing','UrfpP':function(_0x3c3285,_0x3799f0,_0x168217){return _0x3c3285(_0x3799f0,_0x168217);},'PSrHc':'should\x20throw\x20an\x20error\x20if\x20`grant_type`\x20is\x20unsupported','hhKJr':function(_0x33c2d2,_0x23827d,_0x3e84b6){return _0x33c2d2(_0x23827d,_0x3e84b6);},'gyCAn':_0x186185(0x2b5),'OOJGS':function(_0x466066,_0x464c05,_0x59011f){return _0x466066(_0x464c05,_0x59011f);},'ZYlGy':_0x186185(0x1aa),'tdQNc':_0x186185(0x215),'nrAGA':_0x186185(0x277),'hfbcm':_0x186185(0x2c7),'RBUNx':'with\x20custom\x20grant_type','ZtBkY':'should\x20return\x20the\x20client\x20access\x20token\x20lifetime','xYYMH':_0x186185(0x192),'LrNvp':function(_0xb75772,_0x1be5ba,_0x12929d){return _0xb75772(_0x1be5ba,_0x12929d);},'CDlHG':function(_0x529df1,_0x3dee86){return _0x529df1!==_0x3dee86;},'PNnCK':_0x186185(0x2c2),'nMtuj':'should\x20return\x20a\x20token\x20type','NvlXr':_0x186185(0x1ba),'VSmxx':_0x186185(0x2d8),'fFmvd':'4|1|5|3|2|0','Sfeog':_0x186185(0x20d),'TUCxc':_0x186185(0x2cc),'mUGEv':_0x186185(0x2b1),'gsaAi':function(_0x1c9dc4,_0x15d0c8,_0x321faf){return _0x1c9dc4(_0x15d0c8,_0x321faf);},'Foqor':_0x186185(0x213),'FdykV':_0x186185(0x268),'WKeEA':_0x186185(0x273),'MGGuN':_0x186185(0x22b),'PMyrZ':_0x186185(0x1b5),'qNzmK':_0x186185(0x2ca),'dPFLJ':function(_0x557ab5,_0x59f621,_0x271ca0){return _0x557ab5(_0x59f621,_0x271ca0);},'JEoRI':_0x186185(0x163),'zztdE':function(_0x386149,_0x43dcc0,_0x34491d){return _0x386149(_0x43dcc0,_0x34491d);},'ciTqq':'getRefreshTokenLifetime()','pzgtn':_0x186185(0x182)};describe(_0x186185(0x183),function(){var _0x41d139=_0x186185,_0x43ce26={'gCsuX':_0x4d7e08[_0x41d139(0x2a9)],'kRwzr':_0x41d139(0x2c0),'gFJDp':function(_0x3cdf2e,_0x4ac04d){return _0x3cdf2e===_0x4ac04d;},'FZZpg':_0x4d7e08[_0x41d139(0x1c1)],'lCcOU':_0x4d7e08[_0x41d139(0x161)],'NMdZB':'huTlG','aVlFR':_0x41d139(0x29d)};it(_0x41d139(0x16d),function(){var _0x238c31=_0x41d139;try{new TokenHandler(),should[_0x238c31(0x220)]();}catch(_0x2dccf2){_0x2dccf2['should']['be']['an']['instanceOf'](InvalidArgumentError),_0x2dccf2[_0x238c31(0x1e7)]['should'][_0x238c31(0x29f)](_0x43ce26[_0x238c31(0x18f)]);}}),it(_0x41d139(0x2d0),function(){var _0x1e528c=_0x41d139;try{_0x43ce26[_0x1e528c(0x1d8)]!==_0x1e528c(0x15c)?(new TokenHandler({'accessTokenLifetime':0x78}),should['fail']()):(_0x197107[_0x1e528c(0x135)]['be']['an']['instanceOf'](_0x551c25),_0x3143fc['message']['should'][_0x1e528c(0x29f)]('Invalid\x20parameter:\x20`client_id`'));}catch(_0xa33b50){if(_0x43ce26[_0x1e528c(0x266)](_0x43ce26[_0x1e528c(0x136)],_0x43ce26['FZZpg']))_0xa33b50['should']['be']['an'][_0x1e528c(0x203)](InvalidArgumentError),_0xa33b50[_0x1e528c(0x1e7)][_0x1e528c(0x135)][_0x1e528c(0x29f)]('Missing\x20parameter:\x20`model`');else return{'grants':['password']};}}),_0x4d7e08[_0x41d139(0x290)](it,_0x4d7e08[_0x41d139(0x15d)],function(){var _0xaa4612=_0x41d139;try{new TokenHandler({'accessTokenLifetime':0x78,'model':{}}),should[_0xaa4612(0x220)]();}catch(_0x27867f){_0x4d7e08['GegoZ'](_0x4d7e08[_0xaa4612(0x25e)],_0x4d7e08[_0xaa4612(0x217)])?_0x213724[_0xaa4612(0x135)][_0xaa4612(0x29f)](_0x21c29b):(_0x27867f[_0xaa4612(0x135)]['be']['an']['instanceOf'](InvalidArgumentError),_0x27867f['message']['should'][_0xaa4612(0x29f)](_0x4d7e08[_0xaa4612(0x278)]));}}),it(_0x4d7e08[_0x41d139(0x1fb)],function(){var _0x20a1c8=_0x41d139;try{new TokenHandler({'accessTokenLifetime':0x78,'model':{},'refreshTokenLifetime':0x78}),should['fail']();}catch(_0x7064b){_0x7064b[_0x20a1c8(0x135)]['be']['an'][_0x20a1c8(0x203)](InvalidArgumentError),_0x7064b[_0x20a1c8(0x1e7)]['should']['equal'](_0x20a1c8(0x276));}}),it(_0x41d139(0x1b1),function(){var _0x894033=_0x41d139,_0x8d5e30={},_0x3314fc={'getClient':function(){},'saveToken':function(){}},_0x36ac60=new TokenHandler({'accessTokenLifetime':_0x8d5e30,'model':_0x3314fc,'refreshTokenLifetime':0x78});_0x36ac60[_0x894033(0x1cf)][_0x894033(0x135)][_0x894033(0x29f)](_0x8d5e30);}),_0x4d7e08[_0x41d139(0x290)](it,_0x4d7e08[_0x41d139(0x1dd)],function(){var _0x103cb3=_0x41d139;if(_0x4d7e08[_0x103cb3(0x238)]===_0x4d7e08[_0x103cb3(0x238)]){var _0x2b30e7=!![],_0xd6adc={'getClient':function(){},'saveToken':function(){}},_0x301c75=new TokenHandler({'accessTokenLifetime':0x7b,'model':_0xd6adc,'refreshTokenLifetime':0x78,'alwaysIssueNewRefreshToken':_0x2b30e7});_0x301c75[_0x103cb3(0x23f)][_0x103cb3(0x135)]['equal'](_0x2b30e7);}else _0xa3a59e[_0x103cb3(0x135)][_0x103cb3(0x29f)](_0x2c0ed9);}),_0x4d7e08[_0x41d139(0x185)](it,_0x4d7e08[_0x41d139(0x1fc)],function(){var _0x1a2661=_0x41d139,_0x4d2dc3={'rjdUn':_0x43ce26[_0x1a2661(0x130)]};if(_0x43ce26[_0x1a2661(0x266)](_0x43ce26[_0x1a2661(0x289)],_0x43ce26[_0x1a2661(0x289)])){var _0x16dcad=![],_0x2063f0={'getClient':function(){},'saveToken':function(){}},_0x444971=new TokenHandler({'accessTokenLifetime':0x7b,'model':_0x2063f0,'refreshTokenLifetime':0x78,'alwaysIssueNewRefreshToken':_0x16dcad});_0x444971[_0x1a2661(0x23f)]['should'][_0x1a2661(0x29f)](_0x16dcad);}else{var _0x5eeb39={'EnTVR':_0x4d2dc3[_0x1a2661(0x28f)]},_0x25a741={'getClient':function(){return{'grants':'foobar'};},'saveToken':function(){}},_0x3ab2f6=new _0x182f15({'accessTokenLifetime':0x78,'model':_0x25a741,'refreshTokenLifetime':0x78}),_0x1cb5c0=new _0x484335({'body':{'client_id':0x3039,'client_secret':'secret'},'headers':{},'method':{},'query':{}});return _0x3ab2f6[_0x1a2661(0x271)](_0x1cb5c0)[_0x1a2661(0x218)](_0x363ce0[_0x1a2661(0x220)])[_0x1a2661(0x1ab)](function(_0x1c0358){var _0x44afd3=_0x1a2661;_0x1c0358[_0x44afd3(0x135)]['be']['an'][_0x44afd3(0x203)](_0x3704bc),_0x1c0358['message'][_0x44afd3(0x135)][_0x44afd3(0x29f)](_0x5eeb39[_0x44afd3(0x14a)]);});}}),it(_0x41d139(0x1bb),function(){var _0x584174=_0x41d139,_0x5069be={'getClient':function(){},'saveToken':function(){}},_0x1fa72c=new TokenHandler({'accessTokenLifetime':0x7b,'model':_0x5069be,'refreshTokenLifetime':0x78});_0x1fa72c[_0x584174(0x23f)][_0x584174(0x135)][_0x584174(0x29f)](!![]);}),it(_0x4d7e08[_0x41d139(0x1d7)],function(){var _0x5529b4=_0x41d139;if(_0x43ce26[_0x5529b4(0x266)]('tTxQh',_0x43ce26['aVlFR']))return _0x3ac1f8;else{var _0xfdd98f={'foo':_0x5529b4(0x165)},_0x430bfb={'getClient':function(){},'saveToken':function(){}},_0x1fc599=new TokenHandler({'accessTokenLifetime':0x78,'extendedGrantTypes':_0xfdd98f,'model':_0x430bfb,'refreshTokenLifetime':0x78});_0x1fc599[_0x5529b4(0x2e4)]['should'][_0x5529b4(0x19f)](_0xfdd98f);}}),it(_0x4d7e08[_0x41d139(0x17b)],function(){var _0x1817c0=_0x41d139,_0x460385={'getClient':function(){},'saveToken':function(){}},_0x5c6dd7=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x460385,'refreshTokenLifetime':0x78});_0x5c6dd7[_0x1817c0(0x2a2)]['should'][_0x1817c0(0x29f)](_0x460385);}),_0x4d7e08[_0x41d139(0x185)](it,_0x4d7e08[_0x41d139(0x132)],function(){var _0x3d4963=_0x41d139;if(_0x3d4963(0x19e)!==_0x4d7e08[_0x3d4963(0x2c8)]){var _0x3418ac={},_0x44b104={'getClient':function(){},'saveToken':function(){}},_0x53f619=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x44b104,'refreshTokenLifetime':_0x3418ac});_0x53f619[_0x3d4963(0x243)][_0x3d4963(0x135)][_0x3d4963(0x29f)](_0x3418ac);}else return{'grants':[]};});}),_0x4d7e08['pefKU'](describe,'handle()',function(){var _0x3f80f4=_0x186185,_0xd78d74={'ySFaG':_0x3f80f4(0x1ea),'LPBgJ':_0x4d7e08[_0x3f80f4(0x258)],'SyAeg':'secret','BaqcA':_0x3f80f4(0x1e1),'WjJpe':_0x4d7e08['krlaX'],'CZGCL':_0x3f80f4(0x165),'GAVbo':_0x3f80f4(0x188),'iLwTj':_0x3f80f4(0x149),'ONASm':_0x4d7e08['cNmIC'],'BZnWu':_0x3f80f4(0x1b8),'prahi':_0x4d7e08[_0x3f80f4(0x1dc)],'gXKQh':_0x4d7e08[_0x3f80f4(0x15e)],'yefYm':_0x4d7e08[_0x3f80f4(0x1d9)],'PuffZ':_0x4d7e08['Pngjh'],'SJhxY':function(_0x14b8dd,_0x3726fb){return _0x14b8dd!==_0x3726fb;},'azVTM':_0x3f80f4(0x25f),'gvOzy':_0x3f80f4(0x139)};_0x4d7e08[_0x3f80f4(0x270)](_0x3f80f4(0x2af),_0x3f80f4(0x2af))?(_0x4d7e08['VUSQZ'](it,_0x3f80f4(0x22a),function(){var _0x4e2bb7=_0x3f80f4,_0x192965={'getClient':function(){},'saveToken':function(){}},_0x324456=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x192965,'refreshTokenLifetime':0x78});try{if(_0x4d7e08[_0x4e2bb7(0x18a)](_0x4d7e08[_0x4e2bb7(0x148)],_0x4d7e08[_0x4e2bb7(0x21b)]))_0x324456[_0x4e2bb7(0x152)](),should['fail']();else try{new _0x46bbfc({'accessTokenLifetime':0x78}),_0x12adbf['fail']();}catch(_0x3bd9ea){_0x3bd9ea[_0x4e2bb7(0x135)]['be']['an'][_0x4e2bb7(0x203)](_0x463a2e),_0x3bd9ea[_0x4e2bb7(0x1e7)][_0x4e2bb7(0x135)][_0x4e2bb7(0x29f)](_0xd78d74[_0x4e2bb7(0x250)]);}}catch(_0x2e337a){_0x2e337a[_0x4e2bb7(0x135)]['be']['an'][_0x4e2bb7(0x203)](InvalidArgumentError),_0x2e337a[_0x4e2bb7(0x1e7)][_0x4e2bb7(0x135)][_0x4e2bb7(0x29f)]('Invalid\x20argument:\x20`request`\x20must\x20be\x20an\x20instance\x20of\x20Request');}}),_0x4d7e08[_0x3f80f4(0x162)](it,_0x3f80f4(0x13e),function(){var _0x33d5ad=_0x3f80f4,_0x5a290b={'getClient':function(){},'saveToken':function(){}},_0x313b6e=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x5a290b,'refreshTokenLifetime':0x78}),_0x33dbf6=new Request({'body':{},'headers':{},'method':{},'query':{}});try{_0x313b6e['handle'](_0x33dbf6),should[_0x33d5ad(0x220)]();}catch(_0x4f1592){_0x4f1592[_0x33d5ad(0x135)]['be']['an']['instanceOf'](InvalidArgumentError),_0x4f1592['message']['should'][_0x33d5ad(0x29f)](_0xd78d74[_0x33d5ad(0x242)]);}}),it(_0x4d7e08[_0x3f80f4(0x211)],function(){var _0x366f2f=_0x3f80f4;if(_0x366f2f(0x283)===_0x366f2f(0x170)){var _0x48458d={'getClient':function(){var _0x3fbdc2=_0x366f2f;return _0x1a2f8c[_0x3fbdc2(0x224)]({'grants':[]});},'saveToken':function(){}},_0x49f0aa=new _0xd639c3({'accessTokenLifetime':0x78,'model':_0x48458d,'refreshTokenLifetime':0x78}),_0x5c0d32=new _0x80e85b({'body':{'client_id':0x3039,'client_secret':_0xd78d74['SyAeg']},'headers':{},'method':{},'query':{}});_0x49f0aa[_0x366f2f(0x271)](_0x5c0d32)[_0x366f2f(0x135)]['be']['an']['instanceOf'](_0x2addb5);}else{var _0x166ecf={'getClient':function(){},'saveToken':function(){}},_0x5024da=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x166ecf,'refreshTokenLifetime':0x78}),_0x1881c=new Request({'body':{},'headers':{},'method':_0x4d7e08[_0x366f2f(0x158)],'query':{}}),_0x558c59=new Response({'body':{},'headers':{}});return _0x5024da[_0x366f2f(0x152)](_0x1881c,_0x558c59)[_0x366f2f(0x218)](should[_0x366f2f(0x220)])['catch'](function(_0x5790a0){var _0x2bc330=_0x366f2f;_0x5790a0['should']['be']['an'][_0x2bc330(0x203)](InvalidRequestError),_0x5790a0[_0x2bc330(0x1e7)]['should']['equal']('Invalid\x20request:\x20method\x20must\x20be\x20POST');});}}),_0x4d7e08[_0x3f80f4(0x234)](it,_0x4d7e08[_0x3f80f4(0x2a4)],function(){var _0x146758=_0x3f80f4,_0xb55bda={'getClient':function(){},'saveToken':function(){}},_0x3b7d29=new TokenHandler({'accessTokenLifetime':0x78,'model':_0xb55bda,'refreshTokenLifetime':0x78}),_0x306a5d=new Request({'body':{},'headers':{},'method':_0x146758(0x1b8),'query':{}}),_0x307d4c=new Response({'body':{},'headers':{}});return _0x3b7d29[_0x146758(0x152)](_0x306a5d,_0x307d4c)[_0x146758(0x218)](should['fail'])[_0x146758(0x1ab)](function(_0x5711ba){var _0x5c3ba3=_0x146758;_0x5711ba[_0x5c3ba3(0x135)]['be']['an'][_0x5c3ba3(0x203)](InvalidRequestError),_0x5711ba[_0x5c3ba3(0x1e7)]['should'][_0x5c3ba3(0x29f)](_0xd78d74['BaqcA']);});}),_0x4d7e08[_0x3f80f4(0x290)](it,_0x4d7e08[_0x3f80f4(0x2c6)],function(){var _0x3f5ee8=_0x3f80f4,_0x382b0d={'XVDFz':_0x3f5ee8(0x276)};if(_0x3f5ee8(0x295)===_0x3f5ee8(0x1c0))_0x59e63f[_0x3f5ee8(0x135)]['be']['an'][_0x3f5ee8(0x203)](_0x48e805),_0x29a786[_0x3f5ee8(0x1e7)][_0x3f5ee8(0x135)][_0x3f5ee8(0x29f)](_0x382b0d[_0x3f5ee8(0x22f)]);else{var _0x46eca3={'getClient':function(){},'saveToken':function(){}},_0x44d1ce=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x46eca3,'refreshTokenLifetime':0x78}),_0x57f72f=new Request({'body':{},'headers':{'content-type':_0x3f5ee8(0x149),'transfer-encoding':_0x3f5ee8(0x1c2)},'method':_0x4d7e08[_0x3f5ee8(0x23b)],'query':{}}),_0x3cb224=new Response({'body':{},'headers':{}});return _0x44d1ce[_0x3f5ee8(0x152)](_0x57f72f,_0x3cb224)[_0x3f5ee8(0x218)](should[_0x3f5ee8(0x220)])[_0x3f5ee8(0x1ab)](function(_0xc6c11a){var _0x3eaff1=_0x3f5ee8;_0xc6c11a[_0x3eaff1(0x135)]['be']['an'][_0x3eaff1(0x203)](InvalidClientError),_0xc6c11a[_0x3eaff1(0x1e7)][_0x3eaff1(0x135)]['equal']('Invalid\x20client:\x20cannot\x20retrieve\x20client\x20credentials');});}}),_0x4d7e08[_0x3f80f4(0x257)](it,_0x4d7e08[_0x3f80f4(0x2da)],function(){var _0x9a9694=_0x3f80f4,_0x3288a3={'SHydJ':_0xd78d74[_0x9a9694(0x2a7)]},_0x3122d7={'getClient':function(){var _0x1ffd27=_0x9a9694;throw new Error(_0x3288a3[_0x1ffd27(0x1d2)]);},'getUser':function(){},'saveToken':function(){}},_0x10e542=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x3122d7,'refreshTokenLifetime':0x78}),_0x562fcf=new Request({'body':{'client_id':0x3039,'client_secret':_0xd78d74[_0x9a9694(0x160)],'grant_type':_0x9a9694(0x139),'password':_0xd78d74[_0x9a9694(0x1c8)],'username':_0xd78d74[_0x9a9694(0x1e3)]},'headers':{'content-type':_0xd78d74['iLwTj'],'transfer-encoding':_0xd78d74[_0x9a9694(0x26d)]},'method':_0xd78d74[_0x9a9694(0x1ed)],'query':{}}),_0x5a583d=new Response({'body':{},'headers':{}});return _0x10e542[_0x9a9694(0x152)](_0x562fcf,_0x5a583d)[_0x9a9694(0x218)](should['fail'])[_0x9a9694(0x1ab)](function(_0x1205a2){var _0x48ae35=_0x9a9694;_0x1205a2[_0x48ae35(0x135)]['be']['an'][_0x48ae35(0x203)](ServerError),_0x1205a2[_0x48ae35(0x1e7)][_0x48ae35(0x135)][_0x48ae35(0x29f)](_0x3288a3[_0x48ae35(0x1d2)]),_0x1205a2[_0x48ae35(0x22c)][_0x48ae35(0x135)]['be']['an']['instanceOf'](Error);});}),_0x4d7e08[_0x3f80f4(0x2ae)](it,_0x3f80f4(0x178),function(){var _0x38189d=_0x3f80f4,_0x5e5425=_0x4d7e08[_0x38189d(0x150)][_0x38189d(0x26f)]('|'),_0x10a9a7=0x0;while(!![]){switch(_0x5e5425[_0x10a9a7++]){case'0':var _0x295c34=new Request({'body':{'client_id':0x3039,'client_secret':'secret','grant_type':_0x4d7e08[_0x38189d(0x167)],'password':_0x4d7e08['UTZpo'],'username':_0x4d7e08[_0x38189d(0x14f)]},'headers':{'content-type':_0x4d7e08['cFlMs'],'transfer-encoding':_0x4d7e08[_0x38189d(0x248)]},'method':_0x38189d(0x1b8),'query':{}});continue;case'1':var _0x3dc352=new Response({'body':{},'headers':{}});continue;case'2':var _0x24bb09=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x4dfc41,'refreshTokenLifetime':0x78});continue;case'3':var _0x5f2f86={'LQOnR':'Unhandled\x20exception'};continue;case'4':var _0x4dfc41={'getClient':function(){var _0x4ebbdb=_0x38189d;throw new Error(_0x5f2f86[_0x4ebbdb(0x153)]);},'getUser':function(){},'saveToken':function(){}};continue;case'5':return _0x24bb09[_0x38189d(0x152)](_0x295c34,_0x3dc352)['then'](should[_0x38189d(0x220)])[_0x38189d(0x1ab)](function(){var _0x3d8326=_0x38189d;_0x3dc352[_0x3d8326(0x1a8)]['should'][_0x3d8326(0x19a)]({'error':_0xd78d74[_0x3d8326(0x246)],'error_description':_0xd78d74[_0x3d8326(0x2a7)]}),_0x3dc352[_0x3d8326(0x259)][_0x3d8326(0x135)][_0x3d8326(0x29f)](0x1f7);});}break;}}),_0x4d7e08[_0x3f80f4(0x151)](it,_0x4d7e08['EJYDH'],function(){var _0x43b479=_0x3f80f4,_0x4e1be3={'OdjeV':function(_0x46b4c2,_0x217e25){return _0x46b4c2===_0x217e25;},'SJNTa':_0xd78d74[_0x43b479(0x232)]},_0x127c50={'accessToken':_0xd78d74[_0x43b479(0x1e3)],'client':{},'refreshToken':_0xd78d74[_0x43b479(0x1c8)],'scope':_0xd78d74[_0x43b479(0x2dc)],'user':{}},_0x194b95={'getClient':function(){return{'grants':['password']};},'getUser':function(){return{};},'saveToken':function(){return _0x127c50;},'validateScope':function(){var _0x255232=_0x43b479;if(_0x4e1be3[_0x255232(0x2e2)](_0x255232(0x1ff),_0x255232(0x1f0))){var _0x3aceb1={},_0x117df7={'getClient':function(){return _0x3aceb1;},'saveToken':function(){}},_0x6693cd=new _0x1d94d4({'accessTokenLifetime':0x78,'model':_0x117df7,'refreshTokenLifetime':0x78});_0x6693cd[_0x255232(0x166)](_0x3aceb1)[_0x255232(0x135)][_0x255232(0x29f)](0x78);}else return _0x4e1be3[_0x255232(0x225)];}},_0x482412=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x194b95,'refreshTokenLifetime':0x78}),_0x139a17=new Request({'body':{'client_id':0x3039,'client_secret':_0xd78d74['SyAeg'],'username':_0x43b479(0x188),'password':_0x43b479(0x165),'grant_type':_0x43b479(0x139),'scope':_0xd78d74[_0x43b479(0x232)]},'headers':{'content-type':_0x43b479(0x149),'transfer-encoding':'chunked'},'method':_0x43b479(0x1b8),'query':{}}),_0x1031d0=new Response({'body':{},'headers':{}});return _0x482412[_0x43b479(0x152)](_0x139a17,_0x1031d0)[_0x43b479(0x218)](function(_0x47b5d6){var _0x4ef247=_0x43b479;_0x194b95[_0x4ef247(0x154)][_0x4ef247(0x135)][_0x4ef247(0x29f)](_0x139a17),_0x47b5d6[_0x4ef247(0x135)][_0x4ef247(0x19a)](_0x127c50);})[_0x43b479(0x1ab)](should['fail']);}),it(_0x3f80f4(0x274),function(){var _0x40397b=_0x3f80f4,_0x51a385={'cgNbP':_0x40397b(0x139)},_0xd173d5={'accessToken':_0xd78d74[_0x40397b(0x1e3)],'client':{},'refreshToken':_0xd78d74[_0x40397b(0x1c8)],'scope':_0x40397b(0x281),'user':{},'foo':_0xd78d74['CZGCL']},_0x19d24a={'getClient':function(){var _0x3f6470=_0x40397b;return{'grants':[_0x51a385[_0x3f6470(0x251)]]};},'getUser':function(){return{};},'saveToken':function(){return _0xd173d5;},'validateScope':function(){var _0x430ecc=_0x40397b,_0x57e975={'UiuDv':_0xd78d74[_0x430ecc(0x194)]};if(_0xd78d74[_0x430ecc(0x186)](_0x430ecc(0x193),_0xd78d74[_0x430ecc(0x249)]))return _0xd78d74[_0x430ecc(0x232)];else _0x5aeb0c[_0x430ecc(0x135)]['be']['an'][_0x430ecc(0x203)](_0x2e1504),_0x4ea38b[_0x430ecc(0x1e7)][_0x430ecc(0x135)]['equal'](_0x57e975[_0x430ecc(0x21c)]);}},_0x272a8d=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x19d24a,'refreshTokenLifetime':0x78}),_0x184e77=new Request({'body':{'client_id':0x3039,'client_secret':_0xd78d74[_0x40397b(0x160)],'username':_0xd78d74['GAVbo'],'password':'bar','grant_type':_0xd78d74[_0x40397b(0x1c4)],'scope':_0xd78d74['gXKQh']},'headers':{'content-type':_0x40397b(0x149),'transfer-encoding':'chunked'},'method':_0xd78d74[_0x40397b(0x1ed)],'query':{}}),_0x14b93c=new Response({'body':{},'headers':{}});return _0x272a8d['handle'](_0x184e77,_0x14b93c)[_0x40397b(0x218)](function(){var _0xc99b7e=_0x40397b;should[_0xc99b7e(0x177)](_0x14b93c['body']['access_token']),should[_0xc99b7e(0x177)](_0x14b93c[_0xc99b7e(0x1a8)][_0xc99b7e(0x231)]),should[_0xc99b7e(0x177)](_0x14b93c[_0xc99b7e(0x1a8)][_0xc99b7e(0x1de)]),should['exist'](_0x14b93c['body'][_0xc99b7e(0x2b9)]),should[_0xc99b7e(0x2aa)][_0xc99b7e(0x177)](_0x14b93c['body']['foo']);})[_0x40397b(0x1ab)](should[_0x40397b(0x220)]);}),_0x4d7e08[_0x3f80f4(0x17d)](it,_0x4d7e08['CEpJL'],function(){var _0x2b9c06=_0x3f80f4,_0x3fd376={'tySFS':'password','VoKqO':_0x2b9c06(0x2b6),'FqjjR':_0x2b9c06(0x2a8)},_0x23a011={'accessToken':'foo','client':{},'refreshToken':_0x4d7e08[_0x2b9c06(0x298)],'scope':'foobar','user':{},'foo':_0x4d7e08[_0x2b9c06(0x298)]},_0x3212dc={'getClient':function(){var _0x2b00e2=_0x2b9c06;return{'grants':[_0x3fd376[_0x2b00e2(0x291)]]};},'getUser':function(){return{};},'saveToken':function(){return _0x23a011;},'validateScope':function(){var _0x28c57d=_0x2b9c06;return _0x3fd376[_0x28c57d(0x1ad)];}},_0x1f8e9d=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x3212dc,'refreshTokenLifetime':0x78,'allowExtendedTokenAttributes':!![]}),_0x3ff8fd=new Request({'body':{'client_id':0x3039,'client_secret':_0x2b9c06(0x244),'username':'foo','password':_0x4d7e08[_0x2b9c06(0x298)],'grant_type':_0x2b9c06(0x139),'scope':_0x4d7e08[_0x2b9c06(0x15e)]},'headers':{'content-type':_0x4d7e08[_0x2b9c06(0x1bc)],'transfer-encoding':_0x4d7e08[_0x2b9c06(0x248)]},'method':_0x2b9c06(0x1b8),'query':{}}),_0x235f68=new Response({'body':{},'headers':{}});return _0x1f8e9d[_0x2b9c06(0x152)](_0x3ff8fd,_0x235f68)[_0x2b9c06(0x218)](function(){var _0x44d0f8=_0x2b9c06,_0xbfdea7=_0x3fd376[_0x44d0f8(0x179)]['split']('|'),_0x167833=0x0;while(!![]){switch(_0xbfdea7[_0x167833++]){case'0':should[_0x44d0f8(0x177)](_0x235f68['body'][_0x44d0f8(0x27b)]);continue;case'1':should['exist'](_0x235f68[_0x44d0f8(0x1a8)][_0x44d0f8(0x1de)]);continue;case'2':should[_0x44d0f8(0x177)](_0x235f68['body'][_0x44d0f8(0x188)]);continue;case'3':should[_0x44d0f8(0x177)](_0x235f68[_0x44d0f8(0x1a8)]['refresh_token']);continue;case'4':should[_0x44d0f8(0x177)](_0x235f68[_0x44d0f8(0x1a8)][_0x44d0f8(0x2b9)]);continue;}break;}})[_0x2b9c06(0x1ab)](should['fail']);})):_0x5c9662['should'][_0x3f80f4(0x29f)](_0x2e1927);}),describe('getClient()',function(){var _0x4c6742=_0x186185,_0x48e762={'shoUE':_0x4d7e08[_0x4c6742(0x20a)],'jmROe':_0x4c6742(0x272),'xbALn':_0x4d7e08[_0x4c6742(0x1c5)],'PaAHy':_0x4c6742(0x1b7),'MgXzF':_0x4d7e08[_0x4c6742(0x161)],'xyvpW':_0x4d7e08[_0x4c6742(0x21d)],'Jegqx':_0x4d7e08[_0x4c6742(0x24a)],'qQdhk':_0x4c6742(0x188),'UIJBT':'password','iTAss':function(_0x232c94,_0x3be9a7,_0x47a54e){return _0x4d7e08['pefKU'](_0x232c94,_0x3be9a7,_0x47a54e);},'TUQWK':_0x4d7e08[_0x4c6742(0x2bf)],'PEBAl':_0x4d7e08[_0x4c6742(0x2ce)],'CSliD':_0x4d7e08[_0x4c6742(0x181)],'gHEsR':function(_0x85315,_0x53b180){return _0x85315===_0x53b180;},'gLQJh':_0x4d7e08[_0x4c6742(0x1cc)],'XtmMw':_0x4c6742(0x156)};_0x4d7e08['hzDnJ'](it,_0x4d7e08[_0x4c6742(0x2b3)],function(){var _0x66a7ce=_0x4c6742,_0xc80a3a={'aDgjL':_0x4d7e08[_0x66a7ce(0x1df)],'SaOea':'Basic\x20realm=\x22Service\x22'};if(_0x4d7e08[_0x66a7ce(0x197)]!==_0x66a7ce(0x17f)){var _0x1b8619={'getClient':function(){},'saveToken':function(){}},_0x5e582d=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x1b8619,'refreshTokenLifetime':0x78}),_0x1c5622=new Request({'body':{'client_id':_0x4d7e08[_0x66a7ce(0x1c5)],'client_secret':_0x4d7e08[_0x66a7ce(0x14f)]},'headers':{},'method':{},'query':{}});try{_0x5e582d[_0x66a7ce(0x271)](_0x1c5622),should[_0x66a7ce(0x220)]();}catch(_0x6be70b){if(_0x4d7e08[_0x66a7ce(0x16a)]===_0x4d7e08[_0x66a7ce(0x2ac)]){var _0x241e14={},_0x177ba7={'getClient':function(){},'saveToken':function(){}},_0x1319b4=new _0x163b9f({'accessTokenLifetime':0x78,'model':_0x177ba7,'refreshTokenLifetime':_0x241e14});_0x1319b4[_0x66a7ce(0x243)][_0x66a7ce(0x135)][_0x66a7ce(0x29f)](_0x241e14);}else _0x6be70b[_0x66a7ce(0x135)]['be']['an'][_0x66a7ce(0x203)](InvalidRequestError),_0x6be70b['message'][_0x66a7ce(0x135)]['equal'](_0x66a7ce(0x230));}}else{var _0x4834b1={'getClient':function(){},'saveToken':function(){}},_0x16ffc2=new _0x3cac7d({'accessTokenLifetime':0x78,'model':_0x4834b1,'refreshTokenLifetime':0x78}),_0x103653=new _0x20f454({'body':{},'headers':{'authorization':_0x203849[_0x66a7ce(0x1af)](_0x48e762[_0x66a7ce(0x1b4)],new _0x242458(_0x66a7ce(0x237))[_0x66a7ce(0x233)](_0x48e762[_0x66a7ce(0x28c)]))},'method':{},'query':{}}),_0x2c6477=new _0x164133({'body':{},'headers':{}});return _0x16ffc2[_0x66a7ce(0x271)](_0x103653,_0x2c6477)[_0x66a7ce(0x218)](_0x414975[_0x66a7ce(0x220)])[_0x66a7ce(0x1ab)](function(_0x4adf46){var _0x3be4e5=_0x66a7ce;_0x4adf46['should']['be']['an'][_0x3be4e5(0x203)](_0x54c73d),_0x4adf46['code'][_0x3be4e5(0x135)]['equal'](0x191),_0x4adf46[_0x3be4e5(0x1e7)][_0x3be4e5(0x135)][_0x3be4e5(0x29f)](_0xc80a3a[_0x3be4e5(0x280)]),_0x2c6477[_0x3be4e5(0x202)](_0x3be4e5(0x1c9))[_0x3be4e5(0x135)][_0x3be4e5(0x29f)](_0xc80a3a[_0x3be4e5(0x1fa)]);});}}),_0x4d7e08[_0x4c6742(0x2ae)](it,_0x4c6742(0x269),function(){var _0x5c957a=_0x4c6742,_0x31738c={'getClient':function(){},'saveToken':function(){}},_0x23c1de=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x31738c,'refreshTokenLifetime':0x78}),_0x278608=new Request({'body':{'client_id':'foo','client_secret':_0x48e762[_0x5c957a(0x2a0)]},'headers':{},'method':{},'query':{}});try{_0x23c1de[_0x5c957a(0x271)](_0x278608),should[_0x5c957a(0x220)]();}catch(_0x4ad44a){_0x4ad44a['should']['be']['an'][_0x5c957a(0x203)](InvalidRequestError),_0x4ad44a[_0x5c957a(0x1e7)][_0x5c957a(0x135)]['equal'](_0x48e762[_0x5c957a(0x1d1)]);}}),_0x4d7e08[_0x4c6742(0x2ae)](it,_0x4d7e08['iEDem'],function(){var _0x581eae=_0x4c6742,_0x15ff6c='4|1|0|2|3'[_0x581eae(0x26f)]('|'),_0x2b4d0a=0x0;while(!![]){switch(_0x15ff6c[_0x2b4d0a++]){case'0':var _0x4d174e=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x2a291e,'refreshTokenLifetime':0x78});continue;case'1':var _0x2a291e={'getClient':function(){},'saveToken':function(){}};continue;case'2':var _0x3ed5c3=new Request({'body':{'client_id':0x3039,'client_secret':_0x4d7e08[_0x581eae(0x181)]},'headers':{},'method':{},'query':{}});continue;case'3':return _0x4d174e[_0x581eae(0x271)](_0x3ed5c3)['then'](should['fail'])['catch'](function(_0x2f0262){var _0x3188c7=_0x581eae;_0x2f0262[_0x3188c7(0x135)]['be']['an'][_0x3188c7(0x203)](InvalidClientError),_0x2f0262[_0x3188c7(0x1e7)][_0x3188c7(0x135)][_0x3188c7(0x29f)](_0x37e3d8[_0x3188c7(0x1f7)]);});case'4':var _0x37e3d8={'LPMtP':_0x4d7e08[_0x581eae(0x1df)]};continue;}break;}}),it(_0x4d7e08[_0x4c6742(0x2c1)],function(){var _0x1419a9=_0x4c6742,_0x277b17={'getClient':function(){return{};},'saveToken':function(){}},_0x3c7bd4=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x277b17,'refreshTokenLifetime':0x78}),_0x166d33=new Request({'body':{'client_id':0x3039,'client_secret':_0x4d7e08[_0x1419a9(0x181)]},'headers':{},'method':{},'query':{}});return _0x3c7bd4[_0x1419a9(0x271)](_0x166d33)['then'](should['fail'])['catch'](function(_0x124de9){var _0x26c0b2=_0x1419a9;_0x124de9[_0x26c0b2(0x135)]['be']['an'][_0x26c0b2(0x203)](ServerError),_0x124de9[_0x26c0b2(0x1e7)][_0x26c0b2(0x135)][_0x26c0b2(0x29f)](_0x26c0b2(0x176));});}),_0x4d7e08[_0x4c6742(0x13b)](it,_0x4d7e08[_0x4c6742(0x239)],function(){var _0x25b426=_0x4c6742,_0x2a52d8={'getClient':function(){var _0x52b44a=_0x194f;return{'grants':_0x52b44a(0x281)};},'saveToken':function(){}},_0x3e840f=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x2a52d8,'refreshTokenLifetime':0x78}),_0x1ec096=new Request({'body':{'client_id':0x3039,'client_secret':_0x4d7e08[_0x25b426(0x181)]},'headers':{},'method':{},'query':{}});return _0x3e840f[_0x25b426(0x271)](_0x1ec096)[_0x25b426(0x218)](should[_0x25b426(0x220)])[_0x25b426(0x1ab)](function(_0x161ebf){var _0x9d5995=_0x25b426;_0x161ebf[_0x9d5995(0x135)]['be']['an'][_0x9d5995(0x203)](ServerError),_0x161ebf[_0x9d5995(0x1e7)]['should'][_0x9d5995(0x29f)](_0x48e762[_0x9d5995(0x1b6)]);});}),it(_0x4d7e08[_0x4c6742(0x24e)],function(){var _0x17962f=_0x4c6742,_0x1d4273=_0x4d7e08['ghrKh'][_0x17962f(0x26f)]('|'),_0x1ae280=0x0;while(!![]){switch(_0x1d4273[_0x1ae280++]){case'0':var _0x39fb72=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x5c656d,'refreshTokenLifetime':0x78});continue;case'1':var _0x1c81e7=new Response({'body':{},'headers':{}});continue;case'2':var _0x5c656d={'getClient':function(){},'saveToken':function(){}};continue;case'3':var _0x1efdee=new Request({'body':{},'headers':{'authorization':util['format'](_0x17962f(0x1a1),new Buffer('foo:bar')[_0x17962f(0x233)](_0x17962f(0x272)))},'method':{},'query':{}});continue;case'4':return _0x39fb72[_0x17962f(0x271)](_0x1efdee,_0x1c81e7)['then'](should[_0x17962f(0x220)])['catch'](function(_0x599e8a){var _0x2ed663=_0x17962f;_0x599e8a[_0x2ed663(0x135)]['be']['an'][_0x2ed663(0x203)](InvalidClientError),_0x599e8a['code'][_0x2ed663(0x135)]['equal'](0x191),_0x599e8a[_0x2ed663(0x1e7)][_0x2ed663(0x135)]['equal'](_0x42d49f[_0x2ed663(0x24b)]),_0x1c81e7[_0x2ed663(0x202)](_0x42d49f[_0x2ed663(0x2c5)])[_0x2ed663(0x135)][_0x2ed663(0x29f)](_0x42d49f[_0x2ed663(0x205)]);});case'5':var _0x42d49f={'WEzjO':'Invalid\x20client:\x20client\x20is\x20invalid','sadBX':_0x17962f(0x1c9),'lNdBn':'Basic\x20realm=\x22Service\x22'};continue;}break;}}),_0x4d7e08[_0x4c6742(0x21f)](it,_0x4c6742(0x184),function(){var _0x1f6bf9=_0x4c6742,_0x497644={'NjNFW':_0x1f6bf9(0x245),'ONjJB':function(_0x39cfa2,_0x192c28){var _0x50d534=_0x1f6bf9;return _0x4d7e08[_0x50d534(0x2b4)](_0x39cfa2,_0x192c28);},'xvSFm':_0x1f6bf9(0x29a),'hNemA':_0x1f6bf9(0x264)},_0xe9a750={'id':0x3039,'grants':[]},_0x488661={'getClient':function(){var _0x1ec532=_0x1f6bf9,_0x45d103={'hfUJT':_0x497644['NjNFW']};if(_0x497644['ONjJB'](_0x497644[_0x1ec532(0x23a)],_0x497644[_0x1ec532(0x13a)]))_0x370867[_0x1ec532(0x135)]['be']['an'][_0x1ec532(0x203)](_0x2d4594),_0x7c5d13[_0x1ec532(0x1e7)]['should']['equal'](_0x45d103['hfUJT']);else return _0xe9a750;},'saveToken':function(){}},_0x24b941=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x488661,'refreshTokenLifetime':0x78}),_0x3413d9=new Request({'body':{'client_id':0x3039,'client_secret':_0x1f6bf9(0x244)},'headers':{},'method':{},'query':{}});return _0x24b941[_0x1f6bf9(0x271)](_0x3413d9)[_0x1f6bf9(0x218)](function(_0x491a01){var _0x35cc80=_0x1f6bf9;_0x491a01[_0x35cc80(0x135)][_0x35cc80(0x29f)](_0xe9a750);})['catch'](should[_0x1f6bf9(0x220)]);}),describe(_0x4d7e08['tSHLB'],function(){var _0x19f7b9=_0x4c6742,_0x1f20b7={'VuxZs':_0x48e762[_0x19f7b9(0x219)],'SwccM':_0x48e762[_0x19f7b9(0x20e)],'jCpcx':_0x19f7b9(0x20d),'LDZuo':_0x48e762['qQdhk'],'vvqWP':_0x19f7b9(0x165),'FgeNq':_0x48e762[_0x19f7b9(0x133)]};if('cNgjf'==='MHumn'){var _0xcc21d6=_0x1f20b7[_0x19f7b9(0x299)][_0x19f7b9(0x26f)]('|'),_0x45c189=0x0;while(!![]){switch(_0xcc21d6[_0x45c189++]){case'0':var _0x3877f2={'getClient':function(){},'saveToken':function(){}};continue;case'1':_0x3fd9ea[_0x19f7b9(0x2c4)](_0x433fa8,_0x275856);continue;case'2':_0x433fa8[_0x19f7b9(0x202)](_0x1f20b7[_0x19f7b9(0x2a5)])[_0x19f7b9(0x135)][_0x19f7b9(0x29f)](_0x1f20b7[_0x19f7b9(0x169)]);continue;case'3':var _0x275856=new _0x3c435f(_0x1f20b7[_0x19f7b9(0x1ce)],_0x1f20b7[_0x19f7b9(0x2c9)],_0x19f7b9(0x1ba));continue;case'4':var _0x433fa8=new _0x2091ed({'body':{},'headers':{}});continue;case'5':var _0x3fd9ea=new _0x3439fa({'accessTokenLifetime':0x78,'model':_0x3877f2,'refreshTokenLifetime':0x78});continue;}break;}}else _0x48e762['iTAss'](it,_0x19f7b9(0x200),function(){var _0x14c56d=_0x19f7b9,_0x27c7be={'myYLH':_0x14c56d(0x2b6),'pufkV':'DcjmN'},_0x5230fe={'id':0x3039,'grants':[]},_0x1a47e7={'getClient':function(){var _0x4fe468=_0x14c56d;return _0x27c7be[_0x4fe468(0x21a)]===_0x4fe468(0x1fd)?_0x5230fe:_0x27c7be[_0x4fe468(0x18b)];},'saveToken':function(){}},_0x4c1635=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x1a47e7,'refreshTokenLifetime':0x78,'requireClientAuthentication':{'password':![]}}),_0x5a3df1=new Request({'body':{'client_id':_0x14c56d(0x1ae),'grant_type':_0x1f20b7[_0x14c56d(0x287)]},'headers':{},'method':{},'query':{}});return _0x4c1635['getClient'](_0x5a3df1)[_0x14c56d(0x218)](function(_0x3e13e0){var _0x1d4d11=_0x14c56d;_0x3e13e0[_0x1d4d11(0x135)][_0x1d4d11(0x29f)](_0x5230fe);})[_0x14c56d(0x1ab)](should[_0x14c56d(0x220)]);});}),_0x4d7e08[_0x4c6742(0x162)](describe,_0x4d7e08['pDhQJ'],function(){var _0x4718a9=_0x4c6742;it(_0x4718a9(0x200),function(){var _0x3d6c9c=_0x4718a9,_0x555647=_0x48e762['TUQWK'][_0x3d6c9c(0x26f)]('|'),_0x344bfe=0x0;while(!![]){switch(_0x555647[_0x344bfe++]){case'0':return _0x25b863[_0x3d6c9c(0x271)](_0x4ec1b9)[_0x3d6c9c(0x218)](function(_0x3c7da0){var _0x425487=_0x3d6c9c;_0x3c7da0[_0x425487(0x135)][_0x425487(0x29f)](_0x5224de);})[_0x3d6c9c(0x1ab)](should[_0x3d6c9c(0x220)]);case'1':var _0x4ec1b9=new Request({'body':{'grant_type':_0x48e762[_0x3d6c9c(0x133)]},'headers':{'authorization':util['format'](_0x48e762[_0x3d6c9c(0x1b4)],new Buffer(_0x48e762['PEBAl'])[_0x3d6c9c(0x233)](_0x48e762['jmROe']))},'method':{},'query':{}});continue;case'2':var _0x25b863=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x179d8d,'refreshTokenLifetime':0x78,'requireClientAuthentication':{'password':![]}});continue;case'3':var _0x5224de={'id':0x3039,'grants':[]};continue;case'4':var _0x179d8d={'getClient':function(){return _0x5224de;},'saveToken':function(){}};continue;}break;}});}),it('should\x20support\x20promises',function(){var _0x262adf=_0x4c6742,_0x47bd38={'ePmJC':function(_0x92a66a,_0x4d0865){return _0x4d7e08['ftwjj'](_0x92a66a,_0x4d0865);}},_0x23c44e={'getClient':function(){var _0x4f8d74=_0x194f;if(_0x47bd38[_0x4f8d74(0x146)](_0x4f8d74(0x25a),'GLAHh'))new _0x156526(),_0x23c564['fail']();else return Promise[_0x4f8d74(0x224)]({'grants':[]});},'saveToken':function(){}},_0xb53ddf=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x23c44e,'refreshTokenLifetime':0x78}),_0x890f0d=new Request({'body':{'client_id':0x3039,'client_secret':'secret'},'headers':{},'method':{},'query':{}});_0xb53ddf[_0x262adf(0x271)](_0x890f0d)[_0x262adf(0x135)]['be']['an'][_0x262adf(0x203)](Promise);}),it('should\x20support\x20non-promises',function(){var _0xc83384=_0x4c6742,_0x43cb9a={'getClient':function(){return{'grants':[]};},'saveToken':function(){}},_0xba5957=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x43cb9a,'refreshTokenLifetime':0x78}),_0x35f028=new Request({'body':{'client_id':0x3039,'client_secret':_0x48e762[_0xc83384(0x262)]},'headers':{},'method':{},'query':{}});_0xba5957[_0xc83384(0x271)](_0x35f028)['should']['be']['an'][_0xc83384(0x203)](Promise);}),_0x4d7e08[_0x4c6742(0x1f3)](it,_0x4d7e08[_0x4c6742(0x1a4)],function(){var _0x1c9e22=_0x4c6742,_0x527847={'getClient':function(_0x52b425,_0x5865d7,_0x30f915){var _0x4c9f6c=_0x194f;_0x48e762[_0x4c9f6c(0x16f)](_0x48e762[_0x4c9f6c(0x1e6)],_0x48e762[_0x4c9f6c(0x159)])?_0x17b9cd['should']['equal'](_0xc85a56):_0x30f915(null,{'grants':[]});},'saveToken':function(){}},_0x15d8b8=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x527847,'refreshTokenLifetime':0x78}),_0x57fe3b=new Request({'body':{'client_id':0x3039,'client_secret':_0x1c9e22(0x244)},'headers':{},'method':{},'query':{}});_0x15d8b8['getClient'](_0x57fe3b)[_0x1c9e22(0x135)]['be']['an']['instanceOf'](Promise);});}),describe(_0x4d7e08['qNzmK'],function(){var _0x372b53=_0x186185,_0x47fbb5={'bCtTH':'Missing\x20parameter:\x20`grant_type`','WreYB':function(_0x4a6816,_0x389518){var _0x296a02=_0x194f;return _0x4d7e08[_0x296a02(0x157)](_0x4a6816,_0x389518);},'ruKXc':function(_0x5e7e0f,_0x1bb332){return _0x5e7e0f===_0x1bb332;},'bFTAl':'FLgoE','LGUoB':_0x4d7e08[_0x372b53(0x14f)],'FPcOQ':'HpcVy','kEHgH':_0x372b53(0x286),'yUDQn':_0x4d7e08[_0x372b53(0x174)],'NkRws':function(_0x4d1d0b,_0x237b7d,_0x502d5c){return _0x4d1d0b(_0x237b7d,_0x502d5c);},'TCxOK':_0x4d7e08['tgHAN'],'SZExQ':_0x4d7e08[_0x372b53(0x199)]};_0x4d7e08[_0x372b53(0x255)](_0x372b53(0x2e5),_0x372b53(0x236))?(_0x4d7e08['RGSmm'](it,_0x372b53(0x1f1),function(){var _0x563e9b=_0x372b53;if(_0x47fbb5[_0x563e9b(0x28d)](_0x47fbb5[_0x563e9b(0x29c)],'zqgYe'))_0xbb228e[_0x563e9b(0x135)]['be']['an'][_0x563e9b(0x203)](_0xdb7b47),_0x37fdca[_0x563e9b(0x1e7)][_0x563e9b(0x135)]['equal'](_0x47fbb5[_0x563e9b(0x1f6)]);else{var _0x1fe31c={'getClient':function(){},'saveToken':function(){}},_0x3e3eca=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x1fe31c,'refreshTokenLifetime':0x78}),_0x1860fa=new Request({'body':{'client_secret':_0x47fbb5[_0x563e9b(0x20f)]},'headers':{},'method':{},'query':{}});try{_0x3e3eca[_0x563e9b(0x29b)](_0x1860fa),should['fail']();}catch(_0x240712){if(_0x47fbb5['ruKXc'](_0x47fbb5[_0x563e9b(0x1a7)],_0x47fbb5[_0x563e9b(0x1a7)]))_0x240712['should']['be']['an'][_0x563e9b(0x203)](InvalidClientError),_0x240712['message'][_0x563e9b(0x135)][_0x563e9b(0x29f)](_0x47fbb5[_0x563e9b(0x1d6)]);else return{'accessToken':'foo','client':{},'refreshTokenExpiresAt':new _0x3b76c9(_0x47fbb5[_0x563e9b(0x17c)](new _0x1619a8(),0x2)),'user':{}};}}}),_0x4d7e08[_0x372b53(0x14c)](it,_0x4d7e08[_0x372b53(0x2b0)],function(){var _0x32c026=_0x372b53,_0x135874={'getClient':function(){},'saveToken':function(){}},_0x3f48a5=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x135874,'refreshTokenLifetime':0x78}),_0x4bbe3c=new Request({'body':{'client_id':_0x47fbb5[_0x32c026(0x20f)]},'headers':{},'method':{},'query':{}});try{_0x47fbb5[_0x32c026(0x2e0)]!==_0x32c026(0x198)?(_0x3f48a5[_0x32c026(0x29b)](_0x4bbe3c),should[_0x32c026(0x220)]()):(_0xe16dbf[_0x32c026(0x271)](_0xce656a),_0x4669d6[_0x32c026(0x220)]());}catch(_0x5095fe){_0x5095fe['should']['be']['an']['instanceOf'](InvalidClientError),_0x5095fe[_0x32c026(0x1e7)][_0x32c026(0x135)][_0x32c026(0x29f)](_0x47fbb5['kEHgH']);}}),_0x4d7e08[_0x372b53(0x1f5)](describe,_0x372b53(0x196),function(){var _0x8176f6=_0x372b53,_0x2263c7={'kXJOE':_0x47fbb5[_0x8176f6(0x20f)]};_0x47fbb5[_0x8176f6(0x209)](it,_0x47fbb5[_0x8176f6(0x221)],function(){var _0x48642c=_0x8176f6,_0x120925={'getClient':function(){},'saveToken':function(){}},_0x5d9c46=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x120925,'refreshTokenLifetime':0x78,'requireClientAuthentication':{'password':![]}}),_0x3642ed=new Request({'body':{'client_id':_0x2263c7[_0x48642c(0x144)],'grant_type':_0x48642c(0x139)},'headers':{},'method':{},'query':{}}),_0x573f19=_0x5d9c46[_0x48642c(0x29b)](_0x3642ed);_0x573f19[_0x48642c(0x135)][_0x48642c(0x19a)]({'clientId':'foo'});});}),describe(_0x372b53(0x27a),function(){var _0x383db2=_0x372b53,_0x2df5b1={'ZfMNl':_0x383db2(0x237),'Jeqlc':_0x383db2(0x272),'xURYg':_0x4d7e08[_0x383db2(0x14f)],'mmMKE':_0x383db2(0x165)};_0x4d7e08['sLwsv'](it,_0x383db2(0x184),function(){var _0x2c0689=_0x383db2,_0x5f02a0={'getClient':function(){},'saveToken':function(){}},_0x1e1cef=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x5f02a0,'refreshTokenLifetime':0x78}),_0x31c981=new Request({'body':{},'headers':{'authorization':util['format'](_0x2c0689(0x1a1),new Buffer(_0x2df5b1[_0x2c0689(0x2bc)])[_0x2c0689(0x233)](_0x2df5b1['Jeqlc']))},'method':{},'query':{}}),_0x204fa3=_0x1e1cef[_0x2c0689(0x29b)](_0x31c981);_0x204fa3['should']['eql']({'clientId':_0x2df5b1[_0x2c0689(0x164)],'clientSecret':_0x2df5b1[_0x2c0689(0x2cf)]});});}),_0x4d7e08[_0x372b53(0x175)](describe,_0x4d7e08['HYbxP'],function(){var _0x37d119=_0x372b53;it(_0x4d7e08[_0x37d119(0x14b)],function(){var _0x30b677=_0x37d119,_0x2fe5e5=_0x47fbb5['SZExQ'][_0x30b677(0x26f)]('|'),_0x128244=0x0;while(!![]){switch(_0x2fe5e5[_0x128244++]){case'0':var _0x5c33ab=new Request({'body':{'client_id':_0x30b677(0x188),'client_secret':_0x30b677(0x165)},'headers':{},'method':{},'query':{}});continue;case'1':var _0x473dca=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x3529e0,'refreshTokenLifetime':0x78});continue;case'2':_0x1f5754['should'][_0x30b677(0x19a)]({'clientId':'foo','clientSecret':_0x30b677(0x165)});continue;case'3':var _0x3529e0={'getClient':function(){},'saveToken':function(){}};continue;case'4':var _0x1f5754=_0x473dca[_0x30b677(0x29b)](_0x5c33ab);continue;}break;}});})):(_0x3561fc[_0x372b53(0x152)](_0x39c64d),_0x420744[_0x372b53(0x220)]());}),describe('handleGrantType()',function(){var _0x4297cc=_0x186185,_0x26ceb6={'ObfzR':_0x4297cc(0x1f2),'xKess':_0x4d7e08['NbNxY'],'kQDtd':_0x4d7e08[_0x4297cc(0x206)],'gJKNX':function(_0x55c45a,_0x365187){return _0x55c45a/_0x365187;},'QFqEo':_0x4297cc(0x2e1),'UweCk':_0x4297cc(0x188),'TfDew':_0x4d7e08[_0x4297cc(0x15e)],'fFdyH':_0x4297cc(0x231),'BleZo':function(_0x524605,_0x3b00a2,_0x1fe846){return _0x4d7e08['YoJqT'](_0x524605,_0x3b00a2,_0x1fe846);},'KWmVq':_0x4d7e08[_0x4297cc(0x18d)]};it(_0x4d7e08[_0x4297cc(0x285)],function(){var _0x23c291=_0x4297cc,_0x24a8b4={'wGrpN':_0x23c291(0x14e)};if(_0x4d7e08[_0x23c291(0x16e)](_0x4d7e08[_0x23c291(0x282)],_0x4d7e08['VnQim'])){var _0xef6b4d={'getClient':function(){},'saveToken':function(){}},_0x161cc9=new TokenHandler({'accessTokenLifetime':0x78,'model':_0xef6b4d,'refreshTokenLifetime':0x78}),_0x808274=new Request({'body':{},'headers':{},'method':{},'query':{}});try{_0x161cc9[_0x23c291(0x2e6)](_0x808274),should[_0x23c291(0x220)]();}catch(_0x1a6153){_0x4d7e08['oWMih']('AEDGC',_0x4d7e08[_0x23c291(0x1be)])?(_0x1a6153[_0x23c291(0x135)]['be']['an']['instanceOf'](InvalidRequestError),_0x1a6153['message'][_0x23c291(0x135)][_0x23c291(0x29f)]('Missing\x20parameter:\x20`grant_type`')):(_0x15d974[_0x23c291(0x135)]['be']['an'][_0x23c291(0x203)](_0x22d5bd),_0x4db39b[_0x23c291(0x1e7)][_0x23c291(0x135)]['equal'](_0x24a8b4[_0x23c291(0x208)]));}}else{var _0x178113={'getClient':function(){return{'grants':[]};},'saveToken':function(){}},_0x4e708e=new _0x538f15({'accessTokenLifetime':0x78,'model':_0x178113,'refreshTokenLifetime':0x78}),_0x12f7a0=new _0x358931({'body':{'client_id':0x3039,'client_secret':_0x23c291(0x244)},'headers':{},'method':{},'query':{}});_0x4e708e['getClient'](_0x12f7a0)[_0x23c291(0x135)]['be']['an'][_0x23c291(0x203)](_0x5733fc);}}),it(_0x4297cc(0x253),function(){var _0x455651=_0x4297cc,_0x51fe48={'getClient':function(){},'saveToken':function(){}},_0x1a7aae=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x51fe48,'refreshTokenLifetime':0x78}),_0x4c2558=new Request({'body':{'grant_type':_0x455651(0x2a1)},'headers':{},'method':{},'query':{}});try{_0x4d7e08[_0x455651(0x2b4)](_0x455651(0x1cb),_0x455651(0x1ca))?(_0x3e0341[_0x455651(0x152)](),_0x16f4ee[_0x455651(0x220)]()):(_0x1a7aae[_0x455651(0x2e6)](_0x4c2558),should[_0x455651(0x220)]());}catch(_0x3d7c84){_0x3d7c84[_0x455651(0x135)]['be']['an'][_0x455651(0x203)](InvalidRequestError),_0x3d7c84[_0x455651(0x1e7)][_0x455651(0x135)][_0x455651(0x29f)](_0x4d7e08[_0x455651(0x12f)]);}}),_0x4d7e08['UrfpP'](it,_0x4d7e08[_0x4297cc(0x2dd)],function(){var _0x1dc066=_0x4297cc,_0x38255d={'getClient':function(){},'saveToken':function(){}},_0x2171a4=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x38255d,'refreshTokenLifetime':0x78}),_0x5da9f0=new Request({'body':{'grant_type':_0x4d7e08[_0x1dc066(0x1d9)]},'headers':{},'method':{},'query':{}});try{_0x2171a4[_0x1dc066(0x2e6)](_0x5da9f0),should['fail']();}catch(_0x50bf4f){_0x50bf4f[_0x1dc066(0x135)]['be']['an']['instanceOf'](UnsupportedGrantTypeError),_0x50bf4f[_0x1dc066(0x1e7)][_0x1dc066(0x135)][_0x1dc066(0x29f)](_0x1dc066(0x2ab));}}),_0x4d7e08[_0x4297cc(0x2d2)](it,_0x4d7e08[_0x4297cc(0x1da)],function(){var _0x68b8b9=_0x4297cc,_0x4dd29a=_0x4d7e08[_0x68b8b9(0x191)][_0x68b8b9(0x26f)]('|'),_0x129ccf=0x0;while(!![]){switch(_0x4dd29a[_0x129ccf++]){case'0':var _0x33a568=new Request({'body':{'grant_type':_0x4d7e08[_0x68b8b9(0x167)]},'headers':{},'method':{},'query':{}});continue;case'1':var _0x1fe47e=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x537bda,'refreshTokenLifetime':0x78});continue;case'2':var _0x537bda={'getClient':function(){},'saveToken':function(){}};continue;case'3':try{_0x1fe47e[_0x68b8b9(0x2e6)](_0x33a568,_0x23a282),should[_0x68b8b9(0x220)]();}catch(_0x15d46f){_0x15d46f[_0x68b8b9(0x135)]['be']['an'][_0x68b8b9(0x203)](UnauthorizedClientError),_0x15d46f['message']['should'][_0x68b8b9(0x29f)](_0x4d7e08[_0x68b8b9(0x28b)]);}continue;case'4':var _0x23a282={'grants':[_0x4d7e08['duIVm']]};continue;}break;}}),_0x4d7e08[_0x4297cc(0x155)](it,_0x4d7e08[_0x4297cc(0x27f)],function(){var _0x4fc6bb=_0x4297cc,_0x8c497e={'oMSNh':function(_0x1c3f64,_0x26c0ed,_0x242c42){return _0x1c3f64(_0x26c0ed,_0x242c42);},'QkYnk':_0x4fc6bb(0x14e)};if(_0x26ceb6[_0x4fc6bb(0x24f)]!==_0x4fc6bb(0x1f2))return _0x4fc6bb(0x188);else{var _0x19c125=_0x4fc6bb(0x275)[_0x4fc6bb(0x26f)]('|'),_0x26a3e1=0x0;while(!![]){switch(_0x19c125[_0x26a3e1++]){case'0':var _0x14648b={'grants':[_0x4fc6bb(0x139)]};continue;case'1':var _0x4c423a=new Request({'body':{'grant_type':_0x26ceb6[_0x4fc6bb(0x227)],'username':_0x4fc6bb(0x188),'password':_0x4fc6bb(0x165)},'headers':{},'method':{},'query':{}});continue;case'2':var _0x141534={'getClient':function(_0xf530f2,_0x5f7ac9,_0x143a8a){var _0x4486ea=_0x4fc6bb;_0x8c497e[_0x4486ea(0x261)](_0x143a8a,null,_0x14648b);},'getUser':function(_0x4379ae,_0x563e66,_0x4e4c30){_0x4e4c30();},'saveToken':function(){}};continue;case'3':return _0x3d1b25[_0x4fc6bb(0x2e6)](_0x4c423a,_0x14648b)[_0x4fc6bb(0x218)](should[_0x4fc6bb(0x220)])[_0x4fc6bb(0x1ab)](function(_0x3ff3ee){var _0x4ac322=_0x4fc6bb;_0x3ff3ee[_0x4ac322(0x135)]['be']['an'][_0x4ac322(0x203)](InvalidGrantError),_0x3ff3ee['message'][_0x4ac322(0x135)][_0x4ac322(0x29f)](_0x8c497e[_0x4ac322(0x247)]);});case'4':var _0x3d1b25=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x141534,'refreshTokenLifetime':0x78});continue;}break;}}}),_0x4d7e08[_0x4297cc(0x2d2)](describe,_0x4d7e08[_0x4297cc(0x18c)],function(){var _0x439aeb=_0x4297cc,_0x72d217={'SBPkb':function(_0x1561e3,_0x27da05){return _0x1561e3===_0x27da05;},'QcYzM':_0x26ceb6[_0x439aeb(0x27e)],'lImcu':_0x439aeb(0x228),'anGqU':_0x439aeb(0x281),'zcMnI':function(_0x22d382,_0x11b587){return _0x26ceb6['gJKNX'](_0x22d382,_0x11b587);},'ginLb':_0x439aeb(0x2bd)};it('should\x20return\x20a\x20token',function(){var _0x88ea4d=_0x439aeb,_0x56f61b={'id':_0x88ea4d(0x281),'grants':[_0x72d217[_0x88ea4d(0x265)]]},_0x2673f0={},_0x57697c={'getAuthorizationCode':function(){var _0x583bf5=_0x88ea4d;return _0x72d217[_0x583bf5(0x23c)](_0x72d217[_0x583bf5(0x240)],_0x72d217[_0x583bf5(0x1ee)])?_0x142e83:{'authorizationCode':0x3039,'client':{'id':_0x72d217[_0x583bf5(0x1d5)]},'expiresAt':new Date(new Date()*0x2),'user':{}};},'getClient':function(){},'saveToken':function(){return _0x2673f0;},'validateScope':function(){var _0x108adc=_0x88ea4d;return _0x108adc(0x188);},'revokeAuthorizationCode':function(){var _0x44c0a5=_0x88ea4d;return{'authorizationCode':0x3039,'client':{'id':_0x72d217[_0x44c0a5(0x1d5)]},'expiresAt':new Date(_0x72d217[_0x44c0a5(0x2df)](new Date(),0x2)),'user':{}};}},_0x459b07=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x57697c,'refreshTokenLifetime':0x78}),_0x500b15=new Request({'body':{'code':0x3039,'grant_type':_0x72d217['ginLb']},'headers':{},'method':{},'query':{}});return _0x459b07[_0x88ea4d(0x2e6)](_0x500b15,_0x56f61b)[_0x88ea4d(0x218)](function(_0x28d40e){var _0x50fd82=_0x88ea4d;_0x28d40e[_0x50fd82(0x135)]['equal'](_0x2673f0);})[_0x88ea4d(0x1ab)](should['fail']);});}),describe(_0x4d7e08[_0x4297cc(0x2d4)],function(){var _0x5a104c=_0x4297cc,_0x5f2122={'Gcrat':_0x5a104c(0x1bf),'FQtTv':_0x4d7e08[_0x5a104c(0x14f)]};it('should\x20return\x20a\x20token',function(){var _0xb7bc24=_0x5a104c,_0x274e61={'GlHFn':'foo','Irair':'1|5|3|4|0|6|2','mocFo':'access_denied','PCkhZ':function(_0x431686,_0x2344a1){return _0x431686!==_0x2344a1;},'megQZ':_0xb7bc24(0x1e4)},_0x72bee2={'grants':[_0xb7bc24(0x1bf)]},_0x2106a4={},_0x52f086={'getClient':function(){},'getUserFromClient':function(){return{};},'saveToken':function(){return _0x2106a4;},'validateScope':function(){var _0x4afa33=_0xb7bc24;return _0x274e61[_0x4afa33(0x137)];}},_0x1997fd=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x52f086,'refreshTokenLifetime':0x78}),_0x52cefd=new Request({'body':{'grant_type':_0x5f2122[_0xb7bc24(0x1a6)],'scope':_0x5f2122[_0xb7bc24(0x292)]},'headers':{},'method':{},'query':{}});return _0x1997fd[_0xb7bc24(0x2e6)](_0x52cefd,_0x72bee2)[_0xb7bc24(0x218)](function(_0x2c0795){var _0x45d731=_0xb7bc24;if(_0x274e61[_0x45d731(0x15a)](_0x274e61['megQZ'],_0x274e61[_0x45d731(0x1e5)])){var _0x41dc43=_0x274e61[_0x45d731(0x263)][_0x45d731(0x26f)]('|'),_0x20b842=0x0;while(!![]){switch(_0x41dc43[_0x20b842++]){case'0':_0x3bc987[_0x45d731(0x201)](_0x2f5e54,_0x4f23be);continue;case'1':var _0x4f23be=new _0x1b90ff('Cannot\x20request\x20a\x20token');continue;case'2':_0x2f5e54[_0x45d731(0x1a8)]['error_description'][_0x45d731(0x135)][_0x45d731(0x29f)]('Cannot\x20request\x20a\x20token');continue;case'3':var _0x3bc987=new _0x59000a({'accessTokenLifetime':0x78,'model':_0x3d1c51,'refreshTokenLifetime':0x78});continue;case'4':var _0x2f5e54=new _0x2fcdb6({'body':{},'headers':{}});continue;case'5':var _0x3d1c51={'getClient':function(){},'saveToken':function(){}};continue;case'6':_0x2f5e54[_0x45d731(0x1a8)][_0x45d731(0x2e3)][_0x45d731(0x135)][_0x45d731(0x29f)](_0x274e61[_0x45d731(0x1f4)]);continue;}break;}}else _0x2c0795[_0x45d731(0x135)][_0x45d731(0x29f)](_0x2106a4);})[_0xb7bc24(0x1ab)](should[_0xb7bc24(0x220)]);});}),describe(_0x4d7e08[_0x4297cc(0x284)],function(){var _0x312c50=_0x4297cc;'wnDVN'!==_0x4d7e08['DPVnd']?(_0x29bb45['should']['be']['an'][_0x312c50(0x203)](_0x5e0b05),_0x18815a[_0x312c50(0x1e7)][_0x312c50(0x135)][_0x312c50(0x29f)](_0x26ceb6['QFqEo'])):_0x4d7e08[_0x312c50(0x195)](it,_0x4d7e08[_0x312c50(0x16c)],function(){var _0x5c3348=_0x312c50,_0x492c70={'KDwrq':function(_0x56878c,_0x4a5a9a){return _0x56878c===_0x4a5a9a;},'dKKHA':_0x5c3348(0x1e9)},_0xd7adc={'grants':[_0x26ceb6[_0x5c3348(0x227)]]},_0x42eb3b={},_0x3d95ec={'getClient':function(){},'getUser':function(){var _0xbd31cf=_0x5c3348;if(_0x492c70[_0xbd31cf(0x2d6)](_0x492c70[_0xbd31cf(0x1f8)],_0xbd31cf(0x223)))_0x122a3a[_0xbd31cf(0x135)][_0xbd31cf(0x29f)](_0x3302a5);else return{};},'saveToken':function(){return _0x42eb3b;},'validateScope':function(){return'baz';}},_0x598f54=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x3d95ec,'refreshTokenLifetime':0x78}),_0x16dd3c=new Request({'body':{'client_id':0x3039,'client_secret':'secret','grant_type':'password','password':'bar','username':_0x26ceb6['UweCk'],'scope':_0x26ceb6['TfDew']},'headers':{},'method':{},'query':{}});return _0x598f54['handleGrantType'](_0x16dd3c,_0xd7adc)['then'](function(_0x18d0c2){_0x18d0c2['should']['equal'](_0x42eb3b);})[_0x5c3348(0x1ab)](should[_0x5c3348(0x220)]);});}),describe(_0x4297cc(0x1c3),function(){var _0x21dc22=_0x4297cc,_0xfdc295={'PAMQD':function(_0x2364a0,_0x5c1813){return _0x2364a0*_0x5c1813;}};_0x26ceb6[_0x21dc22(0x1e0)](it,_0x21dc22(0x1a2),function(){var _0x3db6dc=_0x21dc22,_0x59836a={'DfnKM':function(_0x3705a4,_0x4d44c4){return _0x3705a4/_0x4d44c4;}},_0x4f9c02={'grants':[_0x26ceb6['fFdyH']]},_0x163e85={'accessToken':_0x26ceb6[_0x3db6dc(0x21e)],'client':{},'user':{}},_0x13fb71={'getClient':function(){},'getRefreshToken':function(){var _0x27a8d0=_0x3db6dc;return{'accessToken':_0x27a8d0(0x188),'client':{},'refreshTokenExpiresAt':new Date(_0xfdc295['PAMQD'](new Date(),0x2)),'user':{}};},'saveToken':function(){return _0x163e85;},'revokeToken':function(){var _0x4a76b7=_0x3db6dc;return{'accessToken':_0x4a76b7(0x188),'client':{},'refreshTokenExpiresAt':new Date(_0x59836a[_0x4a76b7(0x296)](new Date(),0x2)),'user':{}};}},_0x4e03c6=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x13fb71,'refreshTokenLifetime':0x78}),_0x258943=new Request({'body':{'grant_type':_0x26ceb6[_0x3db6dc(0x13d)],'refresh_token':0x3039},'headers':{},'method':{},'query':{}});return _0x4e03c6[_0x3db6dc(0x2e6)](_0x258943,_0x4f9c02)[_0x3db6dc(0x218)](function(_0x25ba60){var _0x5502fd=_0x3db6dc;_0x25ba60[_0x5502fd(0x135)]['equal'](_0x163e85);})['catch'](should[_0x3db6dc(0x220)]);});}),describe(_0x4d7e08[_0x4297cc(0x1a3)],function(){var _0x3643bf=_0x4297cc;it(_0x4d7e08[_0x3643bf(0x16c)],function(){var _0xa325aa=_0x3643bf,_0x47a3b1={'grants':[_0xa325aa(0x1cd)]},_0x190958={},_0xd5d0ec={'getClient':function(){},'getUser':function(){return{};},'saveToken':function(){return _0x190958;},'validateScope':function(){var _0x3ef3d2=_0xa325aa;return _0x3ef3d2(0x188);}},_0x38f623=new TokenHandler({'accessTokenLifetime':0x78,'model':_0xd5d0ec,'refreshTokenLifetime':0x78,'extendedGrantTypes':{'urn:ietf:params:oauth:grant-type:saml2-bearer':PasswordGrantType}}),_0x5d0d9e=new Request({'body':{'grant_type':_0x26ceb6[_0xa325aa(0x189)],'username':_0x26ceb6['UweCk'],'password':_0xa325aa(0x165)},'headers':{},'method':{},'query':{}});return _0x38f623[_0xa325aa(0x2e6)](_0x5d0d9e,_0x47a3b1)[_0xa325aa(0x218)](function(_0xef5455){var _0x4f2b91=_0xa325aa;_0xef5455[_0x4f2b91(0x135)][_0x4f2b91(0x29f)](_0x190958);})[_0xa325aa(0x1ab)](should[_0xa325aa(0x220)]);});});}),_0x4d7e08[_0x186185(0x293)](describe,_0x4d7e08[_0x186185(0x26a)],function(){var _0x1581d3=_0x186185;_0x4d7e08[_0x1581d3(0x155)](it,_0x4d7e08['ZtBkY'],function(){var _0x2489dc=_0x1581d3,_0x158ae8={'accessTokenLifetime':0x3c},_0x36c9c0={'getClient':function(){return _0x158ae8;},'saveToken':function(){}},_0x8121f4=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x36c9c0,'refreshTokenLifetime':0x78});_0x8121f4[_0x2489dc(0x166)](_0x158ae8)[_0x2489dc(0x135)][_0x2489dc(0x29f)](0x3c);}),it(_0x4d7e08[_0x1581d3(0x1e8)],function(){var _0x4eb5ad=_0x1581d3,_0x5817b5={},_0x43f4a9={'getClient':function(){return _0x5817b5;},'saveToken':function(){}},_0x1b1ce8=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x43f4a9,'refreshTokenLifetime':0x78});_0x1b1ce8[_0x4eb5ad(0x166)](_0x5817b5)[_0x4eb5ad(0x135)][_0x4eb5ad(0x29f)](0x78);});}),_0x4d7e08[_0x186185(0x2d1)](describe,_0x4d7e08[_0x186185(0x173)],function(){var _0x32146b=_0x186185,_0x3c4bb0={'DjwAS':function(_0xaf6149,_0x340736){var _0x176951=_0x194f;return _0x4d7e08[_0x176951(0x270)](_0xaf6149,_0x340736);}};it(_0x32146b(0x17a),function(){var _0x2c5ae3=_0x32146b,_0x1c39a5={'refreshTokenLifetime':0x3c},_0x341c78={'getClient':function(){return _0x1c39a5;},'saveToken':function(){}},_0x4cc2f2=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x341c78,'refreshTokenLifetime':0x78});_0x4cc2f2[_0x2c5ae3(0x1d0)](_0x1c39a5)[_0x2c5ae3(0x135)][_0x2c5ae3(0x29f)](0x3c);}),_0x4d7e08[_0x32146b(0x1a9)](it,_0x32146b(0x192),function(){var _0x4b8a70=_0x32146b,_0x1d70f0={},_0x16030b={'getClient':function(){var _0xe8cd64=_0x194f;return _0x3c4bb0['DjwAS'](_0xe8cd64(0x2be),_0xe8cd64(0x1ef))?{}:_0x1d70f0;},'saveToken':function(){}},_0x4cf776=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x16030b,'refreshTokenLifetime':0x78});_0x4cf776[_0x4b8a70(0x1d0)](_0x1d70f0)[_0x4b8a70(0x135)]['equal'](0x78);});}),describe(_0x186185(0x1e2),function(){var _0x32c721=_0x186185,_0x73783d={'LulNo':_0x32c721(0x188),'eGwjN':_0x32c721(0x281)};if(_0x4d7e08[_0x32c721(0x241)]('cAaaK',_0x4d7e08[_0x32c721(0x254)]))it(_0x4d7e08[_0x32c721(0x2b8)],function(){var _0x5cfedd=_0x32c721,_0x264329={'getClient':function(){},'saveToken':function(){}},_0x4b7508=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x264329,'refreshTokenLifetime':0x78}),_0x4c71fd=_0x4b7508['getTokenType']({'accessToken':_0x73783d[_0x5cfedd(0x19d)],'refreshToken':_0x5cfedd(0x165),'scope':_0x5cfedd(0x281)});_0x4c71fd[_0x5cfedd(0x135)][_0x5cfedd(0x19f)]({'accessToken':_0x73783d[_0x5cfedd(0x19d)],'accessTokenLifetime':undefined,'refreshToken':_0x5cfedd(0x165),'scope':_0x73783d[_0x5cfedd(0x294)]});});else{var _0x14676e=new _0x4f687d('Cannot\x20request\x20a\x20token'),_0x5d201f={'getClient':function(){},'saveToken':function(){}},_0x573b0b=new _0x104c95({'accessTokenLifetime':0x78,'model':_0x5d201f,'refreshTokenLifetime':0x78}),_0x297f88=new _0x469761({'body':{},'headers':{}});_0x573b0b[_0x32c721(0x201)](_0x297f88,_0x14676e),_0x297f88[_0x32c721(0x259)]['should'][_0x32c721(0x29f)](0x190);}}),describe(_0x4d7e08[_0x186185(0x297)],function(){var _0x2f7664=_0x186185,_0x36638a={'IdcvW':_0x2f7664(0x19c),'SSbFI':_0x4d7e08[_0x2f7664(0x14f)],'Jmgps':_0x4d7e08[_0x2f7664(0x298)],'XpwON':'biz','ewkJr':_0x4d7e08['TUCxc'],'pyvyZ':_0x2f7664(0x235)};it(_0x2f7664(0x1b5),function(){var _0x291754=_0x2f7664,_0x381c7f=_0x291754(0x1b2)['split']('|'),_0x2c0d32=0x0;while(!![]){switch(_0x381c7f[_0x2c0d32++]){case'0':var _0x50258c=new TokenHandler({'accessTokenLifetime':0x78,'model':_0xf366c7,'refreshTokenLifetime':0x78});continue;case'1':var _0x49f88a=new BearerTokenType(_0x291754(0x188),_0x291754(0x165),_0x4d7e08['NvlXr']);continue;case'2':_0x50258c['updateSuccessResponse'](_0x108b96,_0x49f88a);continue;case'3':var _0xf366c7={'getClient':function(){},'saveToken':function(){}};continue;case'4':_0x108b96[_0x291754(0x1a8)][_0x291754(0x135)][_0x291754(0x19a)]({'access_token':_0x291754(0x188),'expires_in':'bar','refresh_token':'biz','token_type':_0x4d7e08[_0x291754(0x267)]});continue;case'5':var _0x108b96=new Response({'body':{},'headers':{}});continue;}break;}}),it(_0x4d7e08[_0x2f7664(0x25b)],function(){var _0x1c88c9=_0x2f7664;if(_0x36638a[_0x1c88c9(0x190)]===_0x36638a[_0x1c88c9(0x190)]){var _0x4ad14e={'getClient':function(){},'saveToken':function(){}},_0x1cedd8=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x4ad14e,'refreshTokenLifetime':0x78}),_0x2e184d=new BearerTokenType(_0x36638a[_0x1c88c9(0x2c3)],_0x36638a[_0x1c88c9(0x1c7)],_0x36638a[_0x1c88c9(0x13c)]),_0x3cf2ea=new Response({'body':{},'headers':{}});_0x1cedd8['updateSuccessResponse'](_0x3cf2ea,_0x2e184d),_0x3cf2ea['get'](_0x36638a[_0x1c88c9(0x222)])[_0x1c88c9(0x135)]['equal'](_0x36638a[_0x1c88c9(0x15b)]);}else return _0x1a4165;}),_0x4d7e08[_0x2f7664(0x2cd)](it,_0x2f7664(0x1db),function(){var _0x26c79=_0x2f7664,_0x3f928b=_0x4d7e08[_0x26c79(0x2a6)][_0x26c79(0x26f)]('|'),_0xc5a966=0x0;while(!![]){switch(_0x3f928b[_0xc5a966++]){case'0':_0x580976[_0x26c79(0x202)](_0x26c79(0x1c6))[_0x26c79(0x135)][_0x26c79(0x29f)](_0x4d7e08['Sfeog']);continue;case'1':var _0xec1389=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x6675f6,'refreshTokenLifetime':0x78});continue;case'2':_0xec1389[_0x26c79(0x2c4)](_0x580976,_0x447452);continue;case'3':var _0x580976=new Response({'body':{},'headers':{}});continue;case'4':var _0x6675f6={'getClient':function(){},'saveToken':function(){}};continue;case'5':var _0x447452=new BearerTokenType('foo',_0x4d7e08[_0x26c79(0x298)],_0x4d7e08[_0x26c79(0x279)]);continue;}break;}});}),describe('updateErrorResponse()',function(){var _0x35c7c4=_0x186185,_0x461c56={'exLaT':_0x4d7e08[_0x35c7c4(0x28b)]};it(_0x4d7e08[_0x35c7c4(0x28a)],function(){var _0xc50174=_0x35c7c4,_0x5d9443=_0xc50174(0x18e)[_0xc50174(0x26f)]('|'),_0x168825=0x0;while(!![]){switch(_0x5d9443[_0x168825++]){case'0':var _0x20a724=new Response({'body':{},'headers':{}});continue;case'1':var _0x506ef5=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x160b6d,'refreshTokenLifetime':0x78});continue;case'2':_0x506ef5[_0xc50174(0x201)](_0x20a724,_0x35941b);continue;case'3':_0x20a724['body'][_0xc50174(0x2e3)][_0xc50174(0x135)][_0xc50174(0x29f)](_0x4d7e08[_0xc50174(0x1b9)]);continue;case'4':var _0x160b6d={'getClient':function(){},'saveToken':function(){}};continue;case'5':var _0x35941b=new AccessDeniedError(_0xc50174(0x268));continue;case'6':_0x20a724[_0xc50174(0x1a8)][_0xc50174(0x1b3)][_0xc50174(0x135)][_0xc50174(0x29f)](_0x4d7e08['FdykV']);continue;}break;}}),it(_0x35c7c4(0x2b2),function(){var _0x43dca1=_0x35c7c4;if(_0x4d7e08[_0x43dca1(0x1d3)]!=='QWFNo')_0x541428[_0x43dca1(0x135)]['be']['an']['instanceOf'](_0x1ab69e),_0x144fcf[_0x43dca1(0x1e7)]['should'][_0x43dca1(0x29f)](_0x461c56[_0x43dca1(0x145)]);else{var _0x44d4c1=_0x4d7e08[_0x43dca1(0x138)][_0x43dca1(0x26f)]('|'),_0x4a48e5=0x0;while(!![]){switch(_0x44d4c1[_0x4a48e5++]){case'0':var _0x229353={'getClient':function(){},'saveToken':function(){}};continue;case'1':var _0x524503=new TokenHandler({'accessTokenLifetime':0x78,'model':_0x229353,'refreshTokenLifetime':0x78});continue;case'2':_0x524503[_0x43dca1(0x201)](_0x344c64,_0x390c51);continue;case'3':var _0x390c51=new AccessDeniedError(_0x4d7e08[_0x43dca1(0x22d)]);continue;case'4':var _0x344c64=new Response({'body':{},'headers':{}});continue;case'5':_0x344c64['status'][_0x43dca1(0x135)][_0x43dca1(0x29f)](0x190);continue;}break;}}});});});