'use strict';function _0xb935(_0x298cf4,_0x4a2331){var _0x3e49df=_0x3e49();return _0xb935=function(_0xb935d9,_0x43edd4){_0xb935d9=_0xb935d9-0x177;var _0x48c15e=_0x3e49df[_0xb935d9];return _0x48c15e;},_0xb935(_0x298cf4,_0x4a2331);}function _0x3e49(){var _0x17138c=['ZZEWv','KXxDb','authenticate()','GKEAK','authorize','XqEBB','ShgSw','addAuthorizedScopesHeader','../../lib/request','oFQed','6QEavNC','oxDsg','authenticate','DwYla','should','refreshTokenLifetime','message','zNmNZ','3492114mMUfbw','secret','OcukT','EHJpB','false','allowEmptyState','accessTokenLifetime','equal','5601500FIhaYc','token','1050064rUgcdU','oBrJD','should\x20return\x20a\x20promise','token()','pYhPR','OrCyh','fail','xcPuI','27EeewqB','gmUHP','TfvIF','hoqKn','Server\x20integration','5754441AzdNZf','tBNrQ','code','4|0|5|3|2|1','../../lib/server','http://example.com/cb','pEuyQ','true','authorization_code','../../lib/response','XFETI','qXrVX','vyEYF','1484184yuAbHm','authorizationCodeLifetime','vCrvz','bluebird','allowBearerTokensInQueryString','lUdsG','model','addAcceptedScopesHeader','vifpF','OzrcI','Missing\x20parameter:\x20`model`','foo','should\x20support\x20callbacks','HDwUM','XXKUx','VtLZN','KjtDj','kWDDJ','NSDpq','options','XgsLq','chunked','split','otuhL','vcxsz','1313760foYKuC','catch','instanceOf','should\x20throw\x20an\x20error\x20if\x20`model`\x20is\x20missing','jRGnD','agPud','jtyPu','pass','ipNGg','ErcMk','authorize()','193619AfpIju','should\x20set\x20the\x20`model`','dpxfy','POST','8cCNwoW','mhbrx','should\x20set\x20the\x20default\x20`options`','password','LXyAR','foobar','OVXTD','eYJig','LqtYG','RVEgu','CJoLr','pJnRo','AXmES','CiLJp','getTime','3|1|2|4|0','BTfcL','HXEWG','../../lib/errors/invalid-argument-error','dXArY','then'];_0x3e49=function(){return _0x17138c;};return _0x3e49();}var _0xc7717d=_0xb935;(function(_0x36af2f,_0x587a62){var _0x546c62=_0xb935,_0x2a5d31=_0x36af2f();while(!![]){try{var _0x5c2d12=-parseInt(_0x546c62(0x1d5))/0x1*(parseInt(_0x546c62(0x185))/0x2)+-parseInt(_0x546c62(0x1b1))/0x3+parseInt(_0x546c62(0x1d9))/0x4*(parseInt(_0x546c62(0x1ca))/0x5)+parseInt(_0x546c62(0x18d))/0x6+parseInt(_0x546c62(0x1a4))/0x7+-parseInt(_0x546c62(0x197))/0x8*(-parseInt(_0x546c62(0x19f))/0x9)+-parseInt(_0x546c62(0x195))/0xa;if(_0x5c2d12===_0x587a62)break;else _0x2a5d31['push'](_0x2a5d31['shift']());}catch(_0x3eb178){_0x2a5d31['push'](_0x2a5d31['shift']());}}}(_0x3e49,0xa7e09));var InvalidArgumentError=require(_0xc7717d(0x178)),Promise=require(_0xc7717d(0x1b4)),Request=require(_0xc7717d(0x183)),Response=require(_0xc7717d(0x1ad)),Server=require(_0xc7717d(0x1a8)),should=require(_0xc7717d(0x189));describe(_0xc7717d(0x1a3),function(){var _0x4a7dd5=_0xc7717d,_0x46ba29={'tBNrQ':_0x4a7dd5(0x1a9),'BTfcL':_0x4a7dd5(0x1cd),'dpxfy':_0x4a7dd5(0x1e8),'OcukT':'Bearer\x20foo','zKHhp':_0x4a7dd5(0x1bb),'VtLZN':function(_0xb32ad4,_0x58a110){return _0xb32ad4!==_0x58a110;},'kWDDJ':_0x4a7dd5(0x1e2),'vyEYF':'4|2|1|0|5|3','lUdsG':function(_0x19cf87,_0x525dde){return _0x19cf87+_0x525dde;},'TfvIF':function(_0x5ec50e,_0x5d9045,_0x356a7e){return _0x5ec50e(_0x5d9045,_0x356a7e);},'OzrcI':_0x4a7dd5(0x1bd),'vCrvz':_0x4a7dd5(0x1dc),'oBrJD':'application/x-www-form-urlencoded','agPud':_0x4a7dd5(0x1d8),'pYhPR':'foobar','HXEWG':_0x4a7dd5(0x1e1),'WFqiI':_0x4a7dd5(0x1b9),'mhbrx':_0x4a7dd5(0x1a6),'gmUHP':function(_0x37854a,_0x3ecc52,_0x4be659){return _0x37854a(_0x3ecc52,_0x4be659);},'OVXTD':function(_0x4131de,_0xe7571,_0x592502){return _0x4131de(_0xe7571,_0x592502);},'ipNGg':'foo','GXLMM':_0x4a7dd5(0x1d1),'Ebinq':_0x4a7dd5(0x1a7),'oxDsg':_0x4a7dd5(0x18e),'XFETI':'chunked','jtyPu':'constructor()','UAeCL':_0x4a7dd5(0x17d)};describe(_0x46ba29[_0x4a7dd5(0x1d0)],function(){var _0x3c60af=_0x4a7dd5,_0xf5b546={'jRGnD':_0x46ba29['tBNrQ'],'voQrm':function(_0x1606c4,_0x5328d8){return _0x1606c4!==_0x5328d8;},'NSDpq':'DwPiI','qXrVX':_0x3c60af(0x1bb),'OrCyh':_0x3c60af(0x17b)};it(_0x46ba29[_0x3c60af(0x1e9)],function(){var _0x387ef6=_0x3c60af;try{if(_0xf5b546['voQrm'](_0xf5b546[_0x387ef6(0x1c3)],'LwGaP'))new Server({}),should[_0x387ef6(0x19d)]();else return{'grants':[_0x387ef6(0x1ac)],'redirectUris':[_0xf5b546[_0x387ef6(0x1ce)]]};}catch(_0x1bef7e){_0x1bef7e[_0x387ef6(0x189)]['be']['an'][_0x387ef6(0x1cc)](InvalidArgumentError),_0x1bef7e['message'][_0x387ef6(0x189)]['equal'](_0xf5b546[_0x387ef6(0x1af)]);}}),it(_0x3c60af(0x1d6),function(){var _0x3c73d6=_0x3c60af;if(_0xf5b546[_0x3c73d6(0x19c)]===_0x3c73d6(0x17b)){var _0xb7471={},_0x5d304a=new Server({'model':_0xb7471});_0x5d304a[_0x3c73d6(0x1c4)][_0x3c73d6(0x1b7)][_0x3c73d6(0x189)][_0x3c73d6(0x194)](_0xb7471);}else this['accessTokenLifetime']['should'][_0x3c73d6(0x194)](0xe10),this[_0x3c73d6(0x18a)][_0x3c73d6(0x189)][_0x3c73d6(0x194)](0x127500);});}),_0x46ba29['OVXTD'](describe,_0x46ba29['UAeCL'],function(){var _0x4f8bcd=_0x4a7dd5,_0x350f90={'CJoLr':function(_0x3f2250,_0x51b3ce,_0xffdd69){return _0x46ba29['TfvIF'](_0x3f2250,_0x51b3ce,_0xffdd69);}};it(_0x4f8bcd(0x1db),function(){var _0x4e60ff=_0x4f8bcd,_0x1bef93=_0x46ba29[_0x4e60ff(0x1d7)][_0x4e60ff(0x1c7)]('|'),_0x4270d1=0x0;while(!![]){switch(_0x1bef93[_0x4270d1++]){case'0':return _0x9dc740[_0x4e60ff(0x187)](_0x4bac18,_0x293080)[_0x4e60ff(0x17a)](function(){var _0x1e235f=_0x4e60ff;this['addAcceptedScopesHeader'][_0x1e235f(0x189)]['be'][_0x1e235f(0x1ab)],this[_0x1e235f(0x182)][_0x1e235f(0x189)]['be'][_0x1e235f(0x1ab)],this[_0x1e235f(0x1b5)][_0x1e235f(0x189)]['be'][_0x1e235f(0x191)];})[_0x4e60ff(0x1cb)](should[_0x4e60ff(0x19d)]);case'1':var _0x9dc740=new Server({'model':_0x5d3a51});continue;case'2':var _0x4bac18=new Request({'body':{},'headers':{'Authorization':_0x46ba29[_0x4e60ff(0x18f)]},'method':{},'query':{}});continue;case'3':var _0x5d3a51={'getAccessToken':function(){var _0xfc260a=_0x4e60ff;return{'user':{},'accessTokenExpiresAt':new Date(new Date()[_0xfc260a(0x1e7)]()+0x2710)};}};continue;case'4':var _0x293080=new Response({'body':{},'headers':{}});continue;}break;}}),it(_0x4f8bcd(0x199),function(){var _0x441076=_0x4f8bcd,_0x4e7ce6={'eYJig':_0x46ba29['zKHhp']};if(_0x46ba29[_0x441076(0x1c0)](_0x46ba29[_0x441076(0x1c2)],'NLMRy')){var _0x1aa467=_0x46ba29[_0x441076(0x1b0)][_0x441076(0x1c7)]('|'),_0x47bcd4=0x0;while(!![]){switch(_0x1aa467[_0x47bcd4++]){case'0':var _0x4e1923=new Response({'body':{},'headers':{}});continue;case'1':var _0x48a405=new Request({'body':{},'headers':{'Authorization':'Bearer\x20foo'},'method':{},'query':{}});continue;case'2':var _0x15f61c=new Server({'model':_0x346eb1});continue;case'3':_0x25744e['should']['be']['an'][_0x441076(0x1cc)](Promise);continue;case'4':var _0x346eb1={'getAccessToken':function(_0x5eafda,_0x18c64a){var _0x23ff1f=_0x441076;_0x350f90[_0x23ff1f(0x1e3)](_0x18c64a,null,{'user':{},'accessTokenExpiresAt':new Date(new Date()[_0x23ff1f(0x1e7)]()+0x2710)});}};continue;case'5':var _0x25744e=_0x15f61c[_0x441076(0x187)](_0x48a405,_0x4e1923);continue;}break;}}else try{new _0x538ab1({}),_0x1ca7f8['fail']();}catch(_0x4935ba){_0x4935ba[_0x441076(0x189)]['be']['an'][_0x441076(0x1cc)](_0x2c7abd),_0x4935ba['message'][_0x441076(0x189)][_0x441076(0x194)](_0x4e7ce6[_0x441076(0x1e0)]);}}),_0x46ba29[_0x4f8bcd(0x1a1)](it,_0x46ba29[_0x4f8bcd(0x1ba)],function(_0x93e613){var _0x21f1b3=_0x4f8bcd,_0x3b557f={'pJnRo':function(_0x2d75d8,_0x356679){var _0x1a9be7=_0xb935;return _0x46ba29[_0x1a9be7(0x1b6)](_0x2d75d8,_0x356679);}};if(_0x21f1b3(0x181)!==_0x21f1b3(0x181))this[_0x21f1b3(0x192)][_0x21f1b3(0x189)]['be'][_0x21f1b3(0x191)],this[_0x21f1b3(0x1b2)][_0x21f1b3(0x189)][_0x21f1b3(0x194)](0x12c);else{var _0x38708f={'getAccessToken':function(){var _0x57fbb9=_0x21f1b3;return{'user':{},'accessTokenExpiresAt':new Date(_0x3b557f[_0x57fbb9(0x1e4)](new Date()[_0x57fbb9(0x1e7)](),0x2710))};}},_0xce23fb=new Server({'model':_0x38708f}),_0x55cc26=new Request({'body':{},'headers':{'Authorization':_0x46ba29['OcukT']},'method':{},'query':{}}),_0x1c267b=new Response({'body':{},'headers':{}});_0xce23fb[_0x21f1b3(0x187)](_0x55cc26,_0x1c267b,null,_0x93e613);}});}),describe(_0x4a7dd5(0x1d4),function(){var _0x4be981=_0x4a7dd5,_0x34ae93={'KjtDj':_0x4be981(0x17e),'JrWIP':_0x46ba29[_0x4be981(0x177)],'hoqKn':'secret','EHJpB':_0x46ba29[_0x4be981(0x18f)],'LagRp':_0x4be981(0x1c9),'XXKUx':_0x46ba29['WFqiI'],'CiLJp':function(_0x2c7082,_0x533782){return _0x46ba29['lUdsG'](_0x2c7082,_0x533782);},'enrCu':_0x4be981(0x1ac),'pEuyQ':_0x46ba29[_0x4be981(0x1da)],'AXmES':_0x4be981(0x1de)};if(_0x46ba29['VtLZN'](_0x4be981(0x1c8),_0x4be981(0x1c8))){var _0x43368b={'getClient':function(){var _0x401c3b=_0x4be981;return{'grants':[_0x401c3b(0x1dc)]};},'getUser':function(){return{};},'saveToken':function(){return{'accessToken':0x4d2,'client':{},'user':{}};}},_0x2e8d3e=new _0x2cd77c({'model':_0x43368b}),_0x4b1bd0=new _0x5310a1({'body':{'client_id':0x4d2,'client_secret':_0x4be981(0x18e),'grant_type':_0x46ba29['vCrvz'],'username':_0x4be981(0x1bc),'password':_0x4be981(0x1d1)},'headers':{'content-type':_0x46ba29[_0x4be981(0x198)],'transfer-encoding':_0x4be981(0x1c6)},'method':_0x46ba29[_0x4be981(0x1cf)],'query':{}}),_0x2bf1be=new _0x33a5a8({'body':{},'headers':{}}),_0x1b8edc=_0x2e8d3e[_0x4be981(0x196)](_0x4b1bd0,_0x2bf1be);_0x1b8edc['should']['be']['an']['instanceOf'](_0x288515);}else _0x46ba29[_0x4be981(0x1a0)](it,_0x4be981(0x1db),function(){var _0x40d30e=_0x4be981,_0x5bd8e6={'KXxDb':function(_0x3eb801,_0x34a5dc){return _0x3eb801!==_0x34a5dc;},'XqEBB':_0x34ae93[_0x40d30e(0x1c1)],'HDwUM':_0x34ae93['JrWIP']},_0x249ba5={'getAccessToken':function(){var _0x204dbc=_0x40d30e;return{'user':{},'accessTokenExpiresAt':new Date(new Date()[_0x204dbc(0x1e7)]()+0x2710)};},'getClient':function(){var _0x21a79a=_0x40d30e;if(_0x5bd8e6[_0x21a79a(0x17c)](_0x5bd8e6[_0x21a79a(0x180)],_0x5bd8e6[_0x21a79a(0x1be)]))return{'grants':[_0x21a79a(0x1ac)],'redirectUris':[_0x21a79a(0x1a9)]};else this[_0x21a79a(0x1b8)][_0x21a79a(0x189)]['be'][_0x21a79a(0x1ab)],this[_0x21a79a(0x182)]['should']['be'][_0x21a79a(0x1ab)],this[_0x21a79a(0x1b5)][_0x21a79a(0x189)]['be']['false'];},'saveAuthorizationCode':function(){return{'authorizationCode':0x7b};}},_0xd5e49c=new Server({'model':_0x249ba5}),_0x341553=new Request({'body':{'client_id':0x4d2,'client_secret':_0x34ae93['hoqKn'],'response_type':'code'},'headers':{'Authorization':_0x34ae93[_0x40d30e(0x190)]},'method':{},'query':{'state':'foobar'}}),_0x1d9c6d=new Response({'body':{},'headers':{}});return _0xd5e49c[_0x40d30e(0x17f)](_0x341553,_0x1d9c6d)['then'](function(){var _0x194e50=_0x40d30e;this[_0x194e50(0x192)][_0x194e50(0x189)]['be'][_0x194e50(0x191)],this[_0x194e50(0x1b2)]['should'][_0x194e50(0x194)](0x12c);})[_0x40d30e(0x1cb)](should[_0x40d30e(0x19d)]);}),it(_0x4be981(0x199),function(){var _0x5e23d3=_0x4be981,_0x24b2a4={'dXArY':_0x5e23d3(0x1ac),'GIOrl':_0x46ba29[_0x5e23d3(0x1a5)]},_0x5a2ad4={'getAccessToken':function(){return{'user':{},'accessTokenExpiresAt':new Date(new Date()['getTime']()+0x2710)};},'getClient':function(){var _0x4c2f38=_0x5e23d3;return{'grants':[_0x24b2a4[_0x4c2f38(0x179)]],'redirectUris':[_0x24b2a4['GIOrl']]};},'saveAuthorizationCode':function(){var _0x3aef16=_0x5e23d3;return _0x3aef16(0x1c9)===_0x34ae93['LagRp']?{'authorizationCode':0x7b}:{};}},_0x222302=new Server({'model':_0x5a2ad4}),_0x14e129=new Request({'body':{'client_id':0x4d2,'client_secret':_0x5e23d3(0x18e),'response_type':_0x5e23d3(0x1a6)},'headers':{'Authorization':_0x46ba29[_0x5e23d3(0x18f)]},'method':{},'query':{'state':_0x46ba29[_0x5e23d3(0x19b)]}}),_0x342408=new Response({'body':{},'headers':{}}),_0x2d4c49=_0x222302['authorize'](_0x14e129,_0x342408);_0x2d4c49['should']['be']['an'][_0x5e23d3(0x1cc)](Promise);}),_0x46ba29[_0x4be981(0x1df)](it,_0x4be981(0x1bd),function(_0x945b4c){var _0x4c1bde=_0x4be981,_0x6b8ad4={'getAccessToken':function(){var _0x29538e=_0xb935;if(_0x29538e(0x1dd)!==_0x34ae93[_0x29538e(0x1bf)])return{'user':{},'accessTokenExpiresAt':new Date(_0x34ae93[_0x29538e(0x1e6)](new Date()[_0x29538e(0x1e7)](),0x2710))};else _0x105a78[_0x29538e(0x189)]['be']['an'][_0x29538e(0x1cc)](_0x94e9f2),_0x589d31[_0x29538e(0x18b)][_0x29538e(0x189)][_0x29538e(0x194)](_0x29538e(0x1bb));},'getClient':function(){return{'grants':[_0x34ae93['enrCu']],'redirectUris':['http://example.com/cb']};},'saveAuthorizationCode':function(){return{'authorizationCode':0x7b};}},_0x432c5d=new Server({'model':_0x6b8ad4}),_0x1c91fd=new Request({'body':{'client_id':0x4d2,'client_secret':_0x34ae93[_0x4c1bde(0x1a2)],'response_type':_0x34ae93[_0x4c1bde(0x1aa)]},'headers':{'Authorization':_0x34ae93[_0x4c1bde(0x190)]},'method':{},'query':{'state':_0x34ae93[_0x4c1bde(0x1e5)]}}),_0x1d7b81=new Response({'body':{},'headers':{}});_0x432c5d[_0x4c1bde(0x17f)](_0x1c91fd,_0x1d7b81,null,_0x945b4c);});}),_0x46ba29[_0x4a7dd5(0x1a0)](describe,_0x4a7dd5(0x19a),function(){var _0x36ab77=_0x4a7dd5,_0x5d90f9={'zNmNZ':_0x36ab77(0x1dc),'DwYla':function(_0x1328e7,_0x2e36f2){return _0x1328e7!==_0x2e36f2;},'ErcMk':'xspEG','oFQed':_0x46ba29['oxDsg'],'jbReq':_0x46ba29['GXLMM'],'kaJMH':'application/x-www-form-urlencoded'};it('should\x20set\x20the\x20default\x20`options`',function(){var _0x1b3b61=_0x36ab77,_0x5e3f9a='1|0|4|3|2'[_0x1b3b61(0x1c7)]('|'),_0x13783f=0x0;while(!![]){switch(_0x5e3f9a[_0x13783f++]){case'0':var _0xbbe21b=new Server({'model':_0x5deab0});continue;case'1':var _0x5deab0={'getClient':function(){var _0x5b1af8=_0x1b3b61;return{'grants':[_0x5d90f9[_0x5b1af8(0x18c)]]};},'getUser':function(){return{};},'saveToken':function(){return{'accessToken':0x4d2,'client':{},'user':{}};},'validateScope':function(){return'foo';}};continue;case'2':return _0xbbe21b['token'](_0x486777,_0x4324e8)[_0x1b3b61(0x17a)](function(){var _0x18efe0=_0x1b3b61;this[_0x18efe0(0x193)]['should']['equal'](0xe10),this[_0x18efe0(0x18a)]['should'][_0x18efe0(0x194)](0x127500);})['catch'](should[_0x1b3b61(0x19d)]);case'3':var _0x4324e8=new Response({'body':{},'headers':{}});continue;case'4':var _0x486777=new Request({'body':{'client_id':0x4d2,'client_secret':_0x1b3b61(0x18e),'grant_type':_0x1b3b61(0x1dc),'username':_0x46ba29[_0x1b3b61(0x1d2)],'password':_0x46ba29['GXLMM'],'scope':'foo'},'headers':{'content-type':_0x46ba29[_0x1b3b61(0x198)],'transfer-encoding':_0x1b3b61(0x1c6)},'method':_0x46ba29[_0x1b3b61(0x1cf)],'query':{}});continue;}break;}}),it(_0x36ab77(0x199),function(){var _0x35411e=_0x36ab77,_0xb5e542={'getClient':function(){var _0xf9fe8b=_0xb935;return{'grants':[_0xf9fe8b(0x1dc)]};},'getUser':function(){var _0x40ae5d=_0xb935;return _0x5d90f9[_0x40ae5d(0x188)](_0x40ae5d(0x1c5),_0x5d90f9[_0x40ae5d(0x1d3)])?{}:_0x40ae5d(0x1bc);},'saveToken':function(){return{'accessToken':0x4d2,'client':{},'user':{}};}},_0x39a975=new Server({'model':_0xb5e542}),_0x536ed8=new Request({'body':{'client_id':0x4d2,'client_secret':_0x5d90f9[_0x35411e(0x184)],'grant_type':_0x5d90f9[_0x35411e(0x18c)],'username':_0x35411e(0x1bc),'password':_0x5d90f9['jbReq']},'headers':{'content-type':_0x5d90f9['kaJMH'],'transfer-encoding':_0x35411e(0x1c6)},'method':_0x35411e(0x1d8),'query':{}}),_0x40c494=new Response({'body':{},'headers':{}}),_0x1f6df0=_0x39a975[_0x35411e(0x196)](_0x536ed8,_0x40c494);_0x1f6df0['should']['be']['an'][_0x35411e(0x1cc)](Promise);}),_0x46ba29[_0x36ab77(0x1a1)](it,_0x36ab77(0x1bd),function(_0x4ef0b5){var _0x32596c=_0x36ab77,_0x4b42d4=_0x46ba29['Ebinq'][_0x32596c(0x1c7)]('|'),_0xfd7489=0x0;while(!![]){switch(_0x4b42d4[_0xfd7489++]){case'0':var _0x3f5925={'getClient':function(){var _0x1c8752=_0x32596c;return{'grants':[_0x3c7fd0[_0x1c8752(0x19e)]]};},'getUser':function(){return{};},'saveToken':function(){return{'accessToken':0x4d2,'client':{},'user':{}};},'validateScope':function(){var _0x5e7bd1=_0x32596c;return _0x5e7bd1(0x1bc);}};continue;case'1':_0x3e4352[_0x32596c(0x196)](_0x497a39,_0x13b6e5,null,_0x4ef0b5);continue;case'2':var _0x13b6e5=new Response({'body':{},'headers':{}});continue;case'3':var _0x497a39=new Request({'body':{'client_id':0x4d2,'client_secret':_0x46ba29[_0x32596c(0x186)],'grant_type':_0x32596c(0x1dc),'username':_0x32596c(0x1bc),'password':_0x32596c(0x1d1),'scope':_0x32596c(0x1bc)},'headers':{'content-type':_0x46ba29[_0x32596c(0x198)],'transfer-encoding':_0x46ba29[_0x32596c(0x1ae)]},'method':'POST','query':{}});continue;case'4':var _0x3c7fd0={'xcPuI':_0x46ba29[_0x32596c(0x1b3)]};continue;case'5':var _0x3e4352=new Server({'model':_0x3f5925});continue;}break;}});});});