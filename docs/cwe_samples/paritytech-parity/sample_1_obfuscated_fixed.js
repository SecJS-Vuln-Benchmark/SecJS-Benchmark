'use strict';var _0x1dd34f=_0x2844;(function(_0x1331a3,_0xdccfe5){var _0x4b2d2b=_0x2844,_0x18ea30=_0x1331a3();while(!![]){try{var _0x20401f=-parseInt(_0x4b2d2b(0x114))/0x1*(-parseInt(_0x4b2d2b(0x11d))/0x2)+-parseInt(_0x4b2d2b(0x147))/0x3*(-parseInt(_0x4b2d2b(0x141))/0x4)+parseInt(_0x4b2d2b(0x15b))/0x5+-parseInt(_0x4b2d2b(0x119))/0x6*(parseInt(_0x4b2d2b(0x126))/0x7)+parseInt(_0x4b2d2b(0x13c))/0x8+-parseInt(_0x4b2d2b(0x153))/0x9*(parseInt(_0x4b2d2b(0x14f))/0xa)+parseInt(_0x4b2d2b(0x132))/0xb*(-parseInt(_0x4b2d2b(0x13d))/0xc);if(_0x20401f===_0xdccfe5)break;else _0x18ea30['push'](_0x18ea30['shift']());}catch(_0x1ba1ee){_0x18ea30['push'](_0x18ea30['shift']());}}}(_0x4181,0xe489b));var InvalidArgumentError=require('../errors/invalid-argument-error'),InvalidRequestError=require(_0x1dd34f(0x159)),tokenUtil=require(_0x1dd34f(0x142)),is=require('../validator/is'),_=require(_0x1dd34f(0x11a)),Promise=require(_0x1dd34f(0x117));function CodeResponseType(_0x246d09){var _0x5995d1=_0x1dd34f,_0x375009={'yXOfd':function(_0x33e067,_0x46330e){return _0x33e067||_0x46330e;},'wIdIL':_0x5995d1(0x123),'cQntt':_0x5995d1(0x154)};_0x246d09=_0x375009[_0x5995d1(0x118)](_0x246d09,{});if(!_0x246d09['authorizationCodeLifetime'])throw new InvalidArgumentError('Missing\x20parameter:\x20`authorizationCodeLifetime`');if(!_0x246d09[_0x5995d1(0x15d)])throw new InvalidArgumentError(_0x375009[_0x5995d1(0x143)]);if(!_0x246d09['model'][_0x5995d1(0x13f)]){if(_0x5995d1(0x14b)!==_0x5995d1(0x113))throw new InvalidArgumentError(_0x375009[_0x5995d1(0x115)]);else throw new _0x512e9c(_0x5995d1(0x125));}this['code']=null,this[_0x5995d1(0x14a)]=_0x246d09[_0x5995d1(0x14a)],this['model']=_0x246d09[_0x5995d1(0x15d)];}CodeResponseType[_0x1dd34f(0x120)][_0x1dd34f(0x139)]=function(_0x30bdc2,_0x1cd77e,_0x5272e5,_0x41ee33,_0x2857e8){var _0x1fa809=_0x1dd34f,_0x3d3cba={'kjkns':_0x1fa809(0x122),'SKETg':_0x1fa809(0x15e)};if(!_0x30bdc2)throw new InvalidArgumentError(_0x1fa809(0x137));if(!_0x1cd77e)throw new InvalidArgumentError(_0x3d3cba[_0x1fa809(0x133)]);if(!_0x5272e5)throw new InvalidArgumentError(_0x1fa809(0x11e));if(!_0x41ee33)throw new InvalidArgumentError(_0x3d3cba[_0x1fa809(0x149)]);var _0x102d69=this[_0x1fa809(0x144)](_0x30bdc2),_0x26c9f7=_0x102d69&&this[_0x1fa809(0x148)](_0x30bdc2),_0x2f60da=[this[_0x1fa809(0x14e)](),this[_0x1fa809(0x14d)](_0x1cd77e)];return Promise[_0x1fa809(0x146)](_0x2f60da)[_0x1fa809(0x12a)](this)[_0x1fa809(0x127)](function(_0x56f9dc,_0x2cc6b3){var _0x1d2230=_0x1fa809;return this[_0x1d2230(0x13f)](_0x56f9dc,_0x2cc6b3,_0x2857e8,_0x1cd77e,_0x41ee33,_0x5272e5,_0x102d69,_0x26c9f7);})[_0x1fa809(0x11f)](function(_0x283053){var _0x18a380=_0x1fa809;return this[_0x18a380(0x11b)]=_0x283053[_0x18a380(0x12c)],_0x283053;});},CodeResponseType[_0x1dd34f(0x120)]['getAuthorizationCodeExpiresAt']=function(_0x2eb000){var _0x310e67=_0x1dd34f,_0x5b643c={'etyeX':function(_0x5a480d,_0x30a0d1){return _0x5a480d+_0x30a0d1;}},_0x4d7ab3=new Date(),_0x5da903=this[_0x310e67(0x15a)](_0x2eb000);return _0x4d7ab3[_0x310e67(0x12d)](_0x5b643c['etyeX'](_0x4d7ab3[_0x310e67(0x12b)](),_0x5da903)),_0x4d7ab3;},CodeResponseType[_0x1dd34f(0x120)][_0x1dd34f(0x15a)]=function(_0x5ac9d4){var _0x2d76b4=_0x1dd34f;return _0x5ac9d4[_0x2d76b4(0x14a)]||this['authorizationCodeLifetime'];},CodeResponseType[_0x1dd34f(0x120)][_0x1dd34f(0x13f)]=function(_0x3ad39a,_0x7ae4c2,_0xc7b1d8,_0x11d175,_0x4f7c01,_0x55d6eb,_0x2fb66a,_0x121fd2){var _0x16145d=_0x1dd34f,_0x5e3e14={'authorizationCode':_0x3ad39a,'expiresAt':_0x7ae4c2,'redirectUri':_0x4f7c01,'scope':_0xc7b1d8,'codeChallenge':_0x2fb66a,'codeChallengeMethod':_0x121fd2};return Promise['try'](this[_0x16145d(0x15d)]['saveAuthorizationCode'],[_0x5e3e14,_0x11d175,_0x55d6eb]);},CodeResponseType[_0x1dd34f(0x120)][_0x1dd34f(0x14e)]=function(){var _0x50daa8=_0x1dd34f,_0xf8e113={'bJZWU':function(_0x2da4ec,_0x56ebdd){return _0x2da4ec===_0x56ebdd;}};if(this['model'][_0x50daa8(0x14e)]){if(_0xf8e113['bJZWU'](_0x50daa8(0x151),_0x50daa8(0x151)))return Promise['try'](this[_0x50daa8(0x15d)][_0x50daa8(0x14e)]);else throw new _0x2ec0e5(_0x50daa8(0x138));}return tokenUtil[_0x50daa8(0x13a)]();},CodeResponseType['prototype']['getCodeChallenge']=function(_0x4350f0){var _0x4b9840=_0x1dd34f,_0x1e87b7={'wiekV':'5|3|0|6|4|2|1','zMijk':'Missing\x20parameter:\x20`authorizationCodeLifetime`','zeFkV':function(_0x178188,_0x1bdc1d){return _0x178188||_0x1bdc1d;},'JWDNZ':'FUXzP','rosbQ':_0x4b9840(0x135)},_0x4dd3eb=_0x4350f0[_0x4b9840(0x11c)][_0x4b9840(0x155)]||_0x4350f0['query'][_0x4b9840(0x155)];if(!_0x4dd3eb||_0x4dd3eb==='')return;if(!is[_0x4b9840(0x124)](_0x4dd3eb)){if(_0x1e87b7[_0x4b9840(0x150)]!==_0x1e87b7[_0x4b9840(0x150)]){var _0x3816ac=_0x1e87b7[_0x4b9840(0x111)][_0x4b9840(0x158)]('|'),_0x1f8056=0x0;while(!![]){switch(_0x3816ac[_0x1f8056++]){case'0':if(!_0x175636[_0x4b9840(0x15d)])throw new _0x165101(_0x4b9840(0x123));continue;case'1':this[_0x4b9840(0x15d)]=_0x1bcf18[_0x4b9840(0x15d)];continue;case'2':this[_0x4b9840(0x14a)]=_0x3adc30[_0x4b9840(0x14a)];continue;case'3':if(!_0x11692f[_0x4b9840(0x14a)])throw new _0x3b98c1(_0x1e87b7['zMijk']);continue;case'4':this[_0x4b9840(0x11b)]=null;continue;case'5':_0xc4ce4=_0x1e87b7[_0x4b9840(0x156)](_0x3b95bf,{});continue;case'6':if(!_0x22fd61[_0x4b9840(0x15d)][_0x4b9840(0x13f)])throw new _0x3909fd(_0x4b9840(0x154));continue;}break;}}else throw new InvalidRequestError(_0x1e87b7[_0x4b9840(0x140)]);}return _0x4dd3eb;},CodeResponseType[_0x1dd34f(0x120)][_0x1dd34f(0x148)]=function(_0xed92f5){var _0x403c4d=_0x1dd34f,_0x23cd42={'gIsAV':'Missing\x20parameter:\x20`model`','wUubt':'S256','XQqXY':_0x403c4d(0x112),'KNvti':function(_0x43a7ba,_0x67fc0a){return _0x43a7ba===_0x67fc0a;},'bGGtv':'aBZND'},_0x1df361=_0xed92f5[_0x403c4d(0x11c)][_0x403c4d(0x131)]||_0xed92f5[_0x403c4d(0x129)][_0x403c4d(0x131)]||'plain';if(!_[_0x403c4d(0x130)]([_0x23cd42[_0x403c4d(0x15c)],_0x23cd42['XQqXY']],_0x1df361)){if(_0x23cd42[_0x403c4d(0x136)](_0x23cd42['bGGtv'],_0x403c4d(0x145)))throw new InvalidRequestError(_0x403c4d(0x125));else throw new _0x3fccc7(_0x23cd42[_0x403c4d(0x12e)]);}return _0x1df361;},CodeResponseType['prototype']['buildRedirectUri']=function(_0x23d168){var _0x1ce3e1=_0x1dd34f,_0x140b36={'dOymd':_0x1ce3e1(0x138),'WhFFF':_0x1ce3e1(0x11b)};if(!_0x23d168)throw new InvalidArgumentError(_0x140b36[_0x1ce3e1(0x134)]);return _0x23d168[_0x1ce3e1(0x152)]=null,this[_0x1ce3e1(0x157)](_0x23d168,_0x140b36[_0x1ce3e1(0x13e)],this[_0x1ce3e1(0x11b)]);},CodeResponseType[_0x1dd34f(0x120)]['setRedirectUriParam']=function(_0x147242,_0x3f3627,_0x42bf0c){var _0x5e9940=_0x1dd34f,_0x489622={'AVvEA':'Missing\x20parameter:\x20`client`','NQTRM':function(_0x5a1d62,_0x15d1eb){return _0x5a1d62!==_0x15d1eb;},'FvtLN':_0x5e9940(0x13b)};if(!_0x147242)throw new InvalidArgumentError(_0x5e9940(0x138));if(!_0x3f3627){if(_0x489622[_0x5e9940(0x128)](_0x5e9940(0x14c),_0x489622['FvtLN']))throw new InvalidArgumentError(_0x5e9940(0x116));else throw new _0xf781c0(_0x489622[_0x5e9940(0x12f)]);}return _0x147242[_0x5e9940(0x129)]=_0x147242[_0x5e9940(0x129)]||{},_0x147242['query'][_0x3f3627]=_0x42bf0c,_0x147242;},module[_0x1dd34f(0x121)]=CodeResponseType;function _0x2844(_0x2c05bd,_0x18260a){var _0x4181c9=_0x4181();return _0x2844=function(_0x2844a1,_0x2b9625){_0x2844a1=_0x2844a1-0x111;var _0x255d01=_0x4181c9[_0x2844a1];return _0x255d01;},_0x2844(_0x2c05bd,_0x18260a);}function _0x4181(){var _0x32ac75=['prototype','exports','Missing\x20parameter:\x20`client`','Missing\x20parameter:\x20`model`','vschar','Invalid\x20parameter:\x20`code_challenge_method`,\x20use\x20S256\x20instead','2681SwODLc','spread','NQTRM','query','bind','getSeconds','authorizationCode','setSeconds','gIsAV','AVvEA','includes','code_challenge_method','22qkxfLs','kjkns','dOymd','Invalid\x20parameter:\x20`code_challenge`','KNvti','Missing\x20parameter:\x20`request`','Missing\x20parameter:\x20`redirectUri`','handle','generateRandomToken','HCJtx','14016040yEhhgB','19598628FQKhOo','WhFFF','saveAuthorizationCode','rosbQ','4tKpSkB','../utils/token-util','wIdIL','getCodeChallenge','aBZND','all','2712987kYmVUW','getCodeChallengeMethod','SKETg','authorizationCodeLifetime','QTIka','ToozP','getAuthorizationCodeExpiresAt','generateAuthorizationCode','4570hsxXoI','JWDNZ','ilNHX','search','1674uBBSNx','Invalid\x20argument:\x20model\x20does\x20not\x20implement\x20`saveAuthorizationCode()`','code_challenge','zeFkV','setRedirectUriParam','split','../errors/invalid-request-error','getAuthorizationCodeLifetime','2497825AKJePT','wUubt','model','Missing\x20parameter:\x20`uri`','wiekV','plain','jERdn','31199NBnzcR','cQntt','Missing\x20parameter:\x20`key`','bluebird','yXOfd','10620uLqxXS','lodash','code','body','116JRmzAT','Missing\x20parameter:\x20`user`','then'];_0x4181=function(){return _0x32ac75;};return _0x4181();}