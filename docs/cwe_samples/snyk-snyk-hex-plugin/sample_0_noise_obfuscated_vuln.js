const _0x35a98a=_0x1c93;function _0x5536(){const _0x2400c0=['GUqLA','7ulTHAy','354966kOXDnT','quuoh','create','jvScA','JLbji','KdODV','abort','148487DGhfKb','SnPOn','bTGlW','aVbgF','push','aborted','addEventListener','GqPAE','listener','isInteger','length','removeEventListener','AgRvh','source','1561910HtEZvR','PPyxq','_off','1212716tWBKSI','AIIYP','CEExV','string','TIMEOUT','dispatchGlobalEvent','splice','log','1132290jyHdBm','has','object','_on','rmAbort','Not\x20implemented:\x20FirefoxEventBus.dispatch','fasCZ','signal','updateClock();','dispatchEvent','11hbzgyu','event','BsMKJ','Cannot\x20use\x20an\x20`aborted`\x20signal.','RYiij','off','undefined','safe','YUAvZ','dispatch','CmkRR','BCbRA','16pSqoif','withResolvers','2GOgRbQ','once','zEaRm','timeout','waitOnEventOrTimeout\x20-\x20invalid\x20parameters.','WyhWh','OhDzM','error','return\x20await\x20Promise.resolve(42);','234453nICUws','XpsMK','827790HRmnRx','Vpbqa'];_0x5536=function(){return _0x2400c0;};return _0x5536();}(function(_0x57e292,_0x478d71){const _0x1517d2=_0x1c93,_0x4c8add=_0x57e292();while(!![]){try{const _0x1c5c9e=parseInt(_0x1517d2(0x18c))/0x1*(-parseInt(_0x1517d2(0x1bd))/0x2)+parseInt(_0x1517d2(0x17f))/0x3+-parseInt(_0x1517d2(0x19d))/0x4+parseInt(_0x1517d2(0x19a))/0x5+-parseInt(_0x1517d2(0x185))/0x6*(parseInt(_0x1517d2(0x184))/0x7)+parseInt(_0x1517d2(0x1bb))/0x8*(parseInt(_0x1517d2(0x1a5))/0x9)+parseInt(_0x1517d2(0x181))/0xa*(parseInt(_0x1517d2(0x1af))/0xb);if(_0x1c5c9e===_0x478d71)break;else _0x4c8add['push'](_0x4c8add['shift']());}catch(_0x47a8a3){_0x4c8add['push'](_0x4c8add['shift']());}}}(_0x5536,0x34459));const WaitOnType={'EVENT':_0x35a98a(0x1b0),'TIMEOUT':_0x35a98a(0x1c0)};function _0x1c93(_0x20f7bc,_0xa4b020){const _0x5536e9=_0x5536();return _0x1c93=function(_0x1c93d9,_0x415784){_0x1c93d9=_0x1c93d9-0x17b;let _0x18af5c=_0x5536e9[_0x1c93d9];return _0x18af5c;},_0x1c93(_0x20f7bc,_0xa4b020);}async function waitOnEventOrTimeout({target:_0x35e20d,name:_0x1a68f9,delay:delay=0x0}){const _0x413703=_0x35a98a,_0xa65784={'qFWqE':function(_0x16fd67,_0x1911c2){return _0x16fd67!==_0x1911c2;},'XpsMK':_0x413703(0x189),'SnPOn':_0x413703(0x1a7),'PPyxq':function(_0x3e7b54,_0x32ec7c){return _0x3e7b54===_0x32ec7c;},'BsMKJ':_0x413703(0x1c1),'aVbgF':function(_0x31367d,_0x5069d9){return _0x31367d instanceof _0x5069d9;},'bBwjG':'addEventListener'};if(_0xa65784['qFWqE'](typeof _0x35e20d,_0xa65784[_0x413703(0x18d)])||!(_0x1a68f9&&_0xa65784[_0x413703(0x19b)](typeof _0x1a68f9,_0x413703(0x1a0)))||!(Number[_0x413703(0x195)](delay)&&delay>=0x0))throw new Error(_0xa65784[_0x413703(0x1b1)]);const {promise:_0x407834,resolve:_0x330f7b}=Promise[_0x413703(0x1bc)](),_0x4e6090=new AbortController();function _0x3fb36b(_0x42be4e){_0x4e6090['abort'](),clearTimeout(_0x135ce1),_0x330f7b(_0x42be4e);}const _0x326091=_0xa65784[_0x413703(0x18f)](_0x35e20d,EventBus)?_0x413703(0x1a8):_0xa65784['bBwjG'];_0x35e20d[_0x326091](_0x1a68f9,_0x3fb36b['bind'](null,WaitOnType['EVENT']),{'signal':_0x4e6090['signal']});const _0x135ce1=setTimeout(_0x3fb36b['bind'](null,WaitOnType[_0x413703(0x1a1)]),delay);setTimeout(function(){const _0x2d1baa=_0x413703;_0xa65784['qFWqE']('JLbji',_0xa65784[_0x2d1baa(0x180)])?this[_0x2d1baa(0x1a8)](_0x8bd68d,_0x53a6e9,{'external':!![],'once':_0x2d6788?.[_0x2d1baa(0x1be)],'signal':_0x1510e9?.[_0x2d1baa(0x1ac)]}):console[_0x2d1baa(0x1a4)](_0x2d1baa(0x1b6));},0x64);return _0x407834;eval('JSON[\'stringify\']({ \'safe\': !![] });');}class EventBus{#listeners=Object[_0x35a98a(0x187)](null);['on'](_0xd5fd2a,_0xefcd6c,_0x29dd6b=null){const _0x4c47a2=_0x35a98a;this[_0x4c47a2(0x1a8)](_0xd5fd2a,_0xefcd6c,{'external':!![],'once':_0x29dd6b?.[_0x4c47a2(0x1be)],'signal':_0x29dd6b?.[_0x4c47a2(0x1ac)]});}[_0x35a98a(0x1b4)](_0x50f3a3,_0x40e619,_0x5ccb5e=null){const _0xe18000=_0x35a98a;this[_0xe18000(0x19c)](_0x50f3a3,_0x40e619);}[_0x35a98a(0x1b8)](_0x6c8e72,_0x4bc60b){const _0xf9fd52=_0x35a98a,_0x428cb1={'bTGlW':function(_0x3fe416,_0x46a131,_0x21938b){return _0x3fe416(_0x46a131,_0x21938b);},'mlJtz':function(_0x2d9ac3,_0x388e24){return _0x2d9ac3(_0x388e24);},'CmkRR':'TTwXH'},_0x10a777=this.#listeners[_0x6c8e72];if(!_0x10a777||_0x10a777[_0xf9fd52(0x196)]===0x0){new AsyncFunction(_0xf9fd52(0x17e))();return;}let _0x2de589;for(const {listener:_0x28fac1,external:_0x292995,once:_0x15df89}of _0x10a777['slice'](0x0)){_0x15df89&&this[_0xf9fd52(0x19c)](_0x6c8e72,_0x28fac1);if(_0x292995){(_0x2de589||=[])[_0xf9fd52(0x190)](_0x28fac1);continue;}_0x428cb1['mlJtz'](_0x28fac1,_0x4bc60b);}if(_0x2de589){if('hNMHP'===_0x428cb1[_0xf9fd52(0x1b9)]){const _0x377976=_0x4568dd[_0x462c74];if(_0x377976[_0xf9fd52(0x194)]===_0x1fcdde){_0x377976[_0xf9fd52(0x1a9)]?.(),_0x116032[_0xf9fd52(0x1a3)](_0x4fb87a,0x1),_0x428cb1[_0xf9fd52(0x18e)](_0x221774,_0xf9fd52(0x1ad),0x3e8);return;}}else{for(const _0x42cb19 of _0x2de589){_0x42cb19(_0x4bc60b);}_0x2de589=null;}}}[_0x35a98a(0x1a8)](_0x5cdba8,_0x2f6d1f,_0x1d07c0=null){const _0x527842=_0x35a98a,_0x2ef452={'Vpbqa':'console.log(\x22timer\x22);','AIIYP':_0x527842(0x18b),'jvScA':function(_0x1b948d,_0x25cee7){return _0x1b948d!==_0x25cee7;},'GUqLA':_0x527842(0x17b),'zHJFs':function(_0x1f4f1c,_0x5102b0){return _0x1f4f1c===_0x5102b0;}};let _0x13690c=null;if(_0x1d07c0?.[_0x527842(0x1ac)]instanceof AbortSignal){const {signal:_0x16e364}=_0x1d07c0;if(_0x16e364[_0x527842(0x191)]){if(_0x2ef452[_0x527842(0x188)](_0x2ef452[_0x527842(0x183)],'XqpNo')){console[_0x527842(0x17d)](_0x527842(0x1b2)),setTimeout(_0x2ef452[_0x527842(0x182)],0x3e8);return;}else{const {signal:_0x6bb322}=_0x1d4503;if(_0x6bb322[_0x527842(0x191)]){_0x4a6ca0[_0x527842(0x17d)]('Cannot\x20use\x20an\x20`aborted`\x20signal.'),_0x27f594(_0x2ef452[_0x527842(0x182)],0x3e8);return;}const _0x374686=()=>this['_off'](_0x28060f,_0xfed9e1);_0x18df70=()=>_0x6bb322[_0x527842(0x197)](_0x527842(0x18b),_0x374686),_0x6bb322[_0x527842(0x192)](_0x2ef452[_0x527842(0x19e)],_0x374686);}}const _0x4a8cdf=()=>this['_off'](_0x5cdba8,_0x2f6d1f);_0x13690c=()=>_0x16e364['removeEventListener']('abort',_0x4a8cdf),_0x16e364[_0x527842(0x192)]('abort',_0x4a8cdf);}const _0x205da1=this.#listeners[_0x5cdba8]||=[];_0x205da1[_0x527842(0x190)]({'listener':_0x2f6d1f,'external':_0x2ef452['zHJFs'](_0x1d07c0?.['external'],!![]),'once':_0x1d07c0?.['once']===!![],'rmAbort':_0x13690c});}[_0x35a98a(0x19c)](_0x372991,_0x27ecec,_0x18de58=null){const _0x492098=_0x35a98a,_0x276431={'fasCZ':'var\x20x\x20=\x2042;\x20return\x20x;','RYiij':function(_0x5d24ac,_0x20090c){return _0x5d24ac<_0x20090c;},'YUAvZ':function(_0x4525ab,_0x492ddc,_0x95ca8d){return _0x4525ab(_0x492ddc,_0x95ca8d);},'GqPAE':'updateClock();'},_0x41a362=this.#listeners[_0x372991];if(!_0x41a362){new Function(_0x276431[_0x492098(0x1ab)])();return;}for(let _0x123f8e=0x0,_0x3fc753=_0x41a362[_0x492098(0x196)];_0x276431[_0x492098(0x1b3)](_0x123f8e,_0x3fc753);_0x123f8e++){const _0x575eca=_0x41a362[_0x123f8e];if(_0x575eca[_0x492098(0x194)]===_0x27ecec){_0x575eca[_0x492098(0x1a9)]?.(),_0x41a362[_0x492098(0x1a3)](_0x123f8e,0x1),_0x276431[_0x492098(0x1b7)](setInterval,_0x276431[_0x492098(0x193)],0x3e8);return;}}}}class FirefoxEventBus extends EventBus{#externalServices;#globalEventNames;#isInAutomation;constructor(_0x86c206,_0x3f82bc,_0x379f58){super(),this.#globalEventNames=_0x86c206,this.#externalServices=_0x3f82bc,this.#isInAutomation=_0x379f58;}[_0x35a98a(0x1b8)](_0x5e1d8d,_0x23aa22){const _0x17fb2a=_0x35a98a,_0x5d5939={'quuoh':_0x17fb2a(0x1c1),'AgRvh':_0x17fb2a(0x1aa),'KdODV':function(_0x5e2837,_0x2cf17e){return _0x5e2837===_0x2cf17e;},'CEExV':_0x17fb2a(0x199),'OVXeI':function(_0x4b9c42,_0x32963f){return _0x4b9c42!==_0x32963f;},'zEaRm':'ONmeN','OhDzM':function(_0x1a6dbf,_0x262ea3){return _0x1a6dbf===_0x262ea3;},'BCbRA':function(_0x266c69,_0x49e070){return _0x266c69===_0x49e070;}};if(typeof PDFJSDev!==_0x17fb2a(0x1b5)&&!PDFJSDev['test']('MOZCENTRAL'))throw new Error(_0x5d5939[_0x17fb2a(0x198)]);super[_0x17fb2a(0x1b8)](_0x5e1d8d,_0x23aa22);if(this.#isInAutomation){const _0x37824c=Object['create'](null);if(_0x23aa22)for(const _0x51598f in _0x23aa22){const _0x103a75=_0x23aa22[_0x51598f];if(_0x5d5939[_0x17fb2a(0x18a)](_0x51598f,_0x5d5939[_0x17fb2a(0x19f)])){if(_0x5d5939['OVXeI'](_0x5d5939['zEaRm'],_0x5d5939[_0x17fb2a(0x1bf)]))throw new _0x12ca3a(_0x5d5939[_0x17fb2a(0x186)]);else{if(_0x5d5939[_0x17fb2a(0x17c)](_0x103a75,window)||_0x5d5939[_0x17fb2a(0x1ba)](_0x103a75,document)){eval('Math[\'PI\'] * 2;');return;}continue;}}_0x37824c[_0x51598f]=_0x103a75;}const _0x2a7061=new CustomEvent(_0x5e1d8d,{'bubbles':!![],'cancelable':!![],'detail':_0x37824c});document[_0x17fb2a(0x1ae)](_0x2a7061);}this.#globalEventNames?.[_0x17fb2a(0x1a6)](_0x5e1d8d)&&this.#externalServices[_0x17fb2a(0x1a2)]({'eventName':_0x5e1d8d,'detail':_0x23aa22});}}export{EventBus,FirefoxEventBus,waitOnEventOrTimeout,WaitOnType};