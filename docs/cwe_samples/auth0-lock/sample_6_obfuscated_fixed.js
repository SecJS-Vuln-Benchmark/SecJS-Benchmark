const _0x3e6d8d=_0x27a1;(function(_0x2ef406,_0xf18deb){const _0x58a1b6=_0x27a1,_0x48f089=_0x2ef406();while(!![]){try{const _0x571f09=parseInt(_0x58a1b6(0x6c))/0x1+-parseInt(_0x58a1b6(0x8e))/0x2+parseInt(_0x58a1b6(0x89))/0x3*(-parseInt(_0x58a1b6(0x8f))/0x4)+parseInt(_0x58a1b6(0x9f))/0x5+-parseInt(_0x58a1b6(0x68))/0x6+-parseInt(_0x58a1b6(0xb2))/0x7*(-parseInt(_0x58a1b6(0xa7))/0x8)+parseInt(_0x58a1b6(0x9e))/0x9*(parseInt(_0x58a1b6(0xa3))/0xa);if(_0x571f09===_0xf18deb)break;else _0x48f089['push'](_0x48f089['shift']());}catch(_0x5ed401){_0x48f089['push'](_0x48f089['shift']());}}}(_0x2633,0x7cdbf));const express=require(_0x3e6d8d(0x72)),router=express[_0x3e6d8d(0xaf)](),fs=require('fs'),path=require(_0x3e6d8d(0x88)),fileUpload=require(_0x3e6d8d(0x7c)),detect=require('detect-file-type'),userController=require('../controller/userController'),UPLOAD_PATH_BASE=path[_0x3e6d8d(0x6b)](__dirname,'..',_0x3e6d8d(0x7d)),FRONT_END=process[_0x3e6d8d(0x8a)]['FRONT_END_NAME'],IMAGE_PATH=process[_0x3e6d8d(0x8a)][_0x3e6d8d(0x65)],imageUploadPath=UPLOAD_PATH_BASE+'/'+FRONT_END+IMAGE_PATH,maxSize=process[_0x3e6d8d(0x8a)][_0x3e6d8d(0x96)],maxSizeText=process['env'][_0x3e6d8d(0xa0)];router[_0x3e6d8d(0x78)](fileUpload()),router[_0x3e6d8d(0x92)](_0x3e6d8d(0x71))[_0x3e6d8d(0x7e)](async function(_0x1b692f,_0x135f6a){userController['googleSignUp'](_0x1b692f,_0x135f6a);}),router[_0x3e6d8d(0x92)]('/')[_0x3e6d8d(0x86)](async function(_0x4c11be,_0x2c27f0){userController['updateUser'](_0x4c11be,_0x2c27f0);})[_0x3e6d8d(0x7e)](async function(_0x74d9b3,_0x8abe43){const _0x5bda47=_0x3e6d8d;_0x74d9b3[_0x5bda47(0xb4)][_0x5bda47(0xa2)]&&_0x74d9b3[_0x5bda47(0xb4)][_0x5bda47(0xa2)]==_0x5bda47(0x83)?userController[_0x5bda47(0xac)](_0x74d9b3,_0x8abe43):userController['createUserForm'](_0x74d9b3,_0x8abe43);}),router[_0x3e6d8d(0x92)](_0x3e6d8d(0x85))['get'](async function(_0x63bfc7,_0x52daeb){const _0x36d0e3=_0x3e6d8d;userController[_0x36d0e3(0x9a)](_0x63bfc7,_0x52daeb);}),router['route'](_0x3e6d8d(0x76))[_0x3e6d8d(0x7e)](async(_0x1c5220,_0x3dd5e2)=>{const _0x5dc130=_0x3e6d8d,_0x2dcd06={'vvdAl':function(_0x4ee573,_0x35a0b6){return _0x4ee573+_0x35a0b6;},'nzWQl':'Error\x20uploading\x20profile\x20picture\x20:\x20','TciMq':_0x5dc130(0x64),'MLBqk':_0x5dc130(0x75),'yTBqE':'Profile\x20image\x20saved\x20successfully!','HFJMU':_0x5dc130(0xa9),'vCiRa':_0x5dc130(0x69),'OxGnw':_0x5dc130(0xab),'thlfH':function(_0x12044c,_0x52e888){return _0x12044c+_0x52e888;},'KjamU':_0x5dc130(0x7f),'JGnhm':_0x5dc130(0x87),'BePmc':_0x5dc130(0x82),'evULb':function(_0x441e89,_0xb9e3bd){return _0x441e89+_0xb9e3bd;}},_0x30012c=[_0x2dcd06[_0x5dc130(0xb1)],_0x5dc130(0x9d),_0x5dc130(0x8d)];if(!_0x1c5220['files']||Object[_0x5dc130(0xaa)](_0x1c5220['files'])[_0x5dc130(0xa8)]===0x0)await userController[_0x5dc130(0x6f)](_0x1c5220,_0x3dd5e2,_0x1c5220['session']['authUser'][_0x5dc130(0x94)],_0x5dc130(0xa4));else{const _0x87a3c8=_0x1c5220[_0x5dc130(0x81)][_0x5dc130(0x6e)],_0x2dc8e7=Date[_0x5dc130(0xb0)](),_0x4aa559=detect[_0x5dc130(0x84)](_0x87a3c8[_0x5dc130(0x70)],function(_0x43d906,_0x589f0c){const _0xd99bff=_0x5dc130;if(_0x43d906)return console[_0xd99bff(0xad)](_0x43d906);return _0x589f0c;});if(_0x87a3c8['size']>maxSize)console['log'](_0x5dc130(0x90)+_0x87a3c8[_0x5dc130(0x93)]+_0x5dc130(0x95)),_0x1c5220[_0x5dc130(0x91)]['messageType']=_0x2dcd06['OxGnw'],_0x1c5220[_0x5dc130(0x91)][_0x5dc130(0xa1)]=_0x5dc130(0x9b),_0x1c5220[_0x5dc130(0x91)][_0x5dc130(0x8b)]=_0x2dcd06[_0x5dc130(0x99)](_0x5dc130(0x97)+maxSizeText,_0x2dcd06['KjamU']),_0x3dd5e2[_0x5dc130(0x80)](0x12f,_0x2dcd06[_0x5dc130(0x74)]);else!_0x4aa559||!_0x30012c['includes'](_0x4aa559[_0x5dc130(0x9c)])?(_0x1c5220['session'][_0x5dc130(0x98)]=_0x5dc130(0xab),_0x1c5220['session'][_0x5dc130(0xa1)]=_0x2dcd06[_0x5dc130(0x73)],_0x1c5220['session']['messageBody']=_0x2dcd06[_0x5dc130(0x66)],_0x3dd5e2[_0x5dc130(0x80)](0x12f,_0x2dcd06['HFJMU'])):await _0x87a3c8['mv'](_0x2dcd06['evULb'](imageUploadPath,_0x2dc8e7)+_0x87a3c8[_0x5dc130(0x93)],async _0x47bbac=>{const _0x42f475=_0x5dc130;if(_0x47bbac){if(_0x42f475(0x8c)!==_0x42f475(0x8c))_0x489179['updateUser'](_0x244afe,_0x4b9d5c);else{const _0x1f3d7d='0|4|5|1|2|3'[_0x42f475(0x6d)]('|');let _0x33ae9f=0x0;while(!![]){switch(_0x1f3d7d[_0x33ae9f++]){case'0':console['log'](_0x2dcd06['vvdAl'](_0x2dcd06[_0x42f475(0x79)],_0x47bbac));continue;case'1':_0x1c5220['session'][_0x42f475(0x8b)]=_0x2dcd06[_0x42f475(0x7a)];continue;case'2':_0x3dd5e2['redirect'](0x12f,_0x42f475(0xa9));continue;case'3':return;case'4':_0x1c5220[_0x42f475(0x91)][_0x42f475(0x98)]=_0x42f475(0xa5);continue;case'5':_0x1c5220['session']['messageTitle']=_0x2dcd06[_0x42f475(0x7b)];continue;}break;}}}else await userController[_0x42f475(0x6f)](_0x1c5220,_0x3dd5e2,_0x1c5220[_0x42f475(0x91)][_0x42f475(0xae)][_0x42f475(0x94)],_0x2dcd06[_0x42f475(0x67)](_0x2dc8e7,_0x87a3c8[_0x42f475(0x93)])),_0x1c5220[_0x42f475(0x91)][_0x42f475(0x98)]=_0x42f475(0xa6),_0x1c5220[_0x42f475(0x91)][_0x42f475(0xa1)]=_0x42f475(0xb3),_0x1c5220[_0x42f475(0x91)][_0x42f475(0x8b)]=_0x2dcd06[_0x42f475(0x77)],_0x3dd5e2['redirect'](0x12f,_0x2dcd06[_0x42f475(0x74)]);});}}),module[_0x3e6d8d(0x6a)]=router;function _0x27a1(_0x1461b1,_0x41c5f0){const _0x2633f3=_0x2633();return _0x27a1=function(_0x27a131,_0xce98cd){_0x27a131=_0x27a131-0x64;let _0x7faa36=_0x2633f3[_0x27a131];return _0x7faa36;},_0x27a1(_0x1461b1,_0x41c5f0);}function _0x2633(){const _0x248dfe=[',\x20please\x20use\x20a\x20smaller\x20file.','redirect','files','Filetype\x20is\x20unsupported,\x20please\x20use\x20a\x20.png,\x20.jpeg,\x20or\x20.webp\x20file','PATCH','fromBuffer','/revalidate/:email','patch','Unsupported\x20filetype','path','9JnnQwN','env','messageBody','muFyE','image/webp','1738652LgtZSE','507452PxCEyk','Profile\x20File\x20','session','route','name','email','\x20size\x20limit\x20has\x20been\x20exceeded','IMAGE_UPLOAD_MAX_SIZE','Image\x20size\x20was\x20larger\x20then\x20','messageType','thlfH','reValidateEmail','Image\x20too\x20large!','mime','image/jpeg','1854qrvoEX','2863160EXBiye','IMAGE_UPLOAD_MAX_SIZE_FRIENDLY_TEXT','messageTitle','_method','21520xCIvkK','profile-default.png','error','success','2550976kFlrzm','length','/profile/manageProfile','keys','warn','updateUser','log','authUser','Router','now','vCiRa','14bAmQHo','Image\x20Saved','body','There\x20was\x20a\x20error\x20uploading\x20your\x20image\x20for\x20this\x20profile.','AVATAR_IMAGE_PATH','BePmc','vvdAl','4507356lUhYXd','image/png','exports','resolve','858876Hkctjm','split','profileImage','saveProfileImage','data','/google','express','JGnhm','HFJMU','Error\x20uploading\x20image!','/uploadProfilePicture','yTBqE','use','nzWQl','TciMq','MLBqk','express-fileupload','../client','post'];_0x2633=function(){return _0x248dfe;};return _0x2633();}