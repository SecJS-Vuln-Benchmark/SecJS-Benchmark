const _0x464162=_0x1cab;function _0x1cab(_0x3a15d6,_0x3ea1f1){const _0x5596b3=_0x5596();return _0x1cab=function(_0x1cab34,_0x57d10b){_0x1cab34=_0x1cab34-0xdd;let _0x36baa4=_0x5596b3[_0x1cab34];return _0x36baa4;},_0x1cab(_0x3a15d6,_0x3ea1f1);}function _0x5596(){const _0x298982=['AVATAR_IMAGE_PATH','Router','email','/google','warn','messageTitle','Profile\x20File\x20','IMAGE_UPLOAD_MAX_SIZE_FRIENDLY_TEXT','log','64902JtwcTM','Error\x20uploading\x20profile\x20picture\x20:\x20','updateUser','633269HHjbtJ','kdKgM','profile-default.png','QiyND','FRONT_END_NAME','815cqSpah','\x20size\x20limit\x20has\x20been\x20exceeded','../controller/userController','TezRU','3SpSPad','body',',\x20please\x20use\x20a\x20smaller\x20file.','PATCH','size','session','ValZm','success','813690EouOvQ','/revalidate/:email','hpaGN','route','/profile/manageProfile','16540tJkSqp','9gZNvhH','files','createUserForm','/uploadProfilePicture','get','MZOxk','reValidateEmail','error','CnaOn','Image\x20size\x20was\x20larger\x20then\x20','googleSignUp','../client','authUser','name','patch','IMAGE_UPLOAD_MAX_SIZE','express-fileupload','use','3|0|2|4|1','_method','1430KIHyqc','post','split','hjihm','env','keys','2|1|3|4|0','length','167234mgKTzz','messageType','ESAOo','messageBody','qTMZN','now','redirect','973952DbNNaX','Error\x20uploading\x20image!','RSjEY','CGXOE','lCgSo','3932RjQjoM','saveProfileImage','IYrin'];_0x5596=function(){return _0x298982;};return _0x5596();}(function(_0x162052,_0x5bd07e){const _0x3822a7=_0x1cab,_0x492392=_0x162052();while(!![]){try{const _0x5c586a=parseInt(_0x3822a7(0xe8))/0x1+-parseInt(_0x3822a7(0x100))/0x2*(parseInt(_0x3822a7(0x10c))/0x3)+-parseInt(_0x3822a7(0xf4))/0x4*(parseInt(_0x3822a7(0x108))/0x5)+parseInt(_0x3822a7(0x114))/0x6+parseInt(_0x3822a7(0x103))/0x7+parseInt(_0x3822a7(0xef))/0x8*(parseInt(_0x3822a7(0x11a))/0x9)+parseInt(_0x3822a7(0x119))/0xa*(-parseInt(_0x3822a7(0xe0))/0xb);if(_0x5c586a===_0x5bd07e)break;else _0x492392['push'](_0x492392['shift']());}catch(_0x13f1aa){_0x492392['push'](_0x492392['shift']());}}}(_0x5596,0x1a360));const express=require('express'),router=express[_0x464162(0xf8)](),fs=require('fs'),path=require('path'),fileUpload=require(_0x464162(0x12a)),userController=require(_0x464162(0x10a)),UPLOAD_PATH_BASE=path['resolve'](__dirname,'..',_0x464162(0x125)),FRONT_END=process[_0x464162(0xe4)][_0x464162(0x107)],IMAGE_PATH=process[_0x464162(0xe4)][_0x464162(0xf7)],imageUploadPath=UPLOAD_PATH_BASE+'/'+FRONT_END+IMAGE_PATH,maxSize=process['env'][_0x464162(0x129)],maxSizeText=process[_0x464162(0xe4)][_0x464162(0xfe)];router[_0x464162(0xdd)](fileUpload()),router['route'](_0x464162(0xfa))[_0x464162(0xe1)](async function(_0x530ca4,_0x1cc2a2){const _0x2286ad=_0x464162;userController[_0x2286ad(0x124)](_0x530ca4,_0x1cc2a2);}),router[_0x464162(0x117)]('/')[_0x464162(0x128)](async function(_0x2b5fe8,_0x187839){const _0x37be37=_0x464162;userController[_0x37be37(0x102)](_0x2b5fe8,_0x187839);})[_0x464162(0xe1)](async function(_0x495753,_0x2eee9c){const _0x2b6b7f=_0x464162,_0x2710c6={'RSjEY':function(_0x14d05b,_0x1f480e){return _0x14d05b==_0x1f480e;},'ttvve':function(_0x1e2786,_0x496bfd){return _0x1e2786!==_0x496bfd;},'CGXOE':_0x2b6b7f(0x106)};_0x495753[_0x2b6b7f(0x10d)]['_method']&&_0x2710c6[_0x2b6b7f(0xf1)](_0x495753[_0x2b6b7f(0x10d)][_0x2b6b7f(0xdf)],_0x2b6b7f(0x10f))?_0x2710c6['ttvve'](_0x2b6b7f(0xec),_0x2710c6[_0x2b6b7f(0xf2)])?userController[_0x2b6b7f(0x102)](_0x495753,_0x2eee9c):_0x1bbb9d[_0x2b6b7f(0x124)](_0x4c582c,_0x4046fa):_0x2b6b7f(0xf3)===_0x2b6b7f(0xf6)?_0x51057f['updateUser'](_0x4526fd,_0x4ce9ea):userController[_0x2b6b7f(0x11c)](_0x495753,_0x2eee9c);}),router[_0x464162(0x117)](_0x464162(0x115))[_0x464162(0x11e)](async function(_0x13497e,_0x451d6a){const _0x534a09=_0x464162;userController[_0x534a09(0x120)](_0x13497e,_0x451d6a);}),router[_0x464162(0x117)](_0x464162(0x11d))[_0x464162(0xe1)](async(_0x33b767,_0x1a2bec)=>{const _0x5ab3f5=_0x464162,_0x10ff8e={'PFOvs':function(_0x5c5c52,_0x464e7a){return _0x5c5c52===_0x464e7a;},'MZOxk':'TezRU','ValZm':_0x5ab3f5(0x101),'wRICr':_0x5ab3f5(0xf0),'hpaGN':_0x5ab3f5(0x113),'kdKgM':function(_0x2a4333,_0x4a93fb){return _0x2a4333+_0x4a93fb;},'jvLBw':'Profile\x20image\x20saved\x20successfully!','Vyrdc':_0x5ab3f5(0xe6),'ESAOo':'Image\x20too\x20large!','hjihm':_0x5ab3f5(0x123),'CnaOn':_0x5ab3f5(0x10e)};if(!_0x33b767['files']||Object[_0x5ab3f5(0xe5)](_0x33b767['files'])[_0x5ab3f5(0xe7)]===0x0)await userController[_0x5ab3f5(0xf5)](_0x33b767,_0x1a2bec,_0x33b767[_0x5ab3f5(0x111)][_0x5ab3f5(0x126)]['email'],_0x5ab3f5(0x105));else{const _0x3547f4=_0x33b767[_0x5ab3f5(0x11b)]['profileImage'],_0x34a050=Date[_0x5ab3f5(0xed)]();if(_0x3547f4[_0x5ab3f5(0x110)]>maxSize){const _0x4a7698=_0x10ff8e['Vyrdc'][_0x5ab3f5(0xe2)]('|');let _0xaa0113=0x0;while(!![]){switch(_0x4a7698[_0xaa0113++]){case'0':_0x1a2bec['redirect'](0x12f,_0x5ab3f5(0x118));continue;case'1':_0x33b767[_0x5ab3f5(0x111)][_0x5ab3f5(0xe9)]=_0x5ab3f5(0xfb);continue;case'2':console[_0x5ab3f5(0xff)](_0x5ab3f5(0xfd)+_0x3547f4[_0x5ab3f5(0x127)]+_0x5ab3f5(0x109));continue;case'3':_0x33b767[_0x5ab3f5(0x111)][_0x5ab3f5(0xfc)]=_0x10ff8e[_0x5ab3f5(0xea)];continue;case'4':_0x33b767[_0x5ab3f5(0x111)][_0x5ab3f5(0xeb)]=_0x10ff8e[_0x5ab3f5(0x104)](_0x10ff8e[_0x5ab3f5(0xe3)],maxSizeText)+_0x10ff8e[_0x5ab3f5(0x122)];continue;}break;}}else await _0x3547f4['mv'](imageUploadPath+_0x34a050+_0x3547f4[_0x5ab3f5(0x127)],async _0x337c80=>{const _0x3ab420=_0x5ab3f5;if(_0x10ff8e['PFOvs'](_0x10ff8e[_0x3ab420(0x11f)],_0x3ab420(0x10b))){if(_0x337c80){console['log'](_0x10ff8e[_0x3ab420(0x112)]+_0x337c80),_0x33b767[_0x3ab420(0x111)][_0x3ab420(0xe9)]=_0x3ab420(0x121),_0x33b767['session'][_0x3ab420(0xfc)]=_0x10ff8e['wRICr'],_0x33b767['session'][_0x3ab420(0xeb)]='There\x20was\x20a\x20error\x20uploading\x20your\x20image\x20for\x20this\x20profile.',_0x1a2bec[_0x3ab420(0xee)](0x12f,_0x3ab420(0x118));return;}else{const _0x3041d3=_0x3ab420(0xde)[_0x3ab420(0xe2)]('|');let _0x418e9e=0x0;while(!![]){switch(_0x3041d3[_0x418e9e++]){case'0':_0x33b767[_0x3ab420(0x111)][_0x3ab420(0xe9)]=_0x10ff8e[_0x3ab420(0x116)];continue;case'1':_0x1a2bec['redirect'](0x12f,'/profile/manageProfile');continue;case'2':_0x33b767[_0x3ab420(0x111)]['messageTitle']='Image\x20Saved';continue;case'3':await userController[_0x3ab420(0xf5)](_0x33b767,_0x1a2bec,_0x33b767[_0x3ab420(0x111)][_0x3ab420(0x126)][_0x3ab420(0xf9)],_0x10ff8e[_0x3ab420(0x104)](_0x34a050,_0x3547f4['name']));continue;case'4':_0x33b767['session'][_0x3ab420(0xeb)]=_0x10ff8e['jvLBw'];continue;}break;}}}else _0x3519e2[_0x3ab420(0x11c)](_0x2a2087,_0x3789c0);});}}),module['exports']=router;