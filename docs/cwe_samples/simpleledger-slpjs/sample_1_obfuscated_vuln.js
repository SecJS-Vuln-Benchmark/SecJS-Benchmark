const _0xef00a2=_0x587b;function _0x37f9(){const _0x3a6f85=['gJkZQ','devices','features','--page-width','includes','debug','./log-formatter','QBoJy','scan','>=1.0.28','--disable-dynamic-lineart=yes','sIVQh','ald','depth','satisfies','odYha','left','batch','FoPDL','previewDirectory','contrast','exports','full','getLogger','JFHom','USybT','semver','params','build','--format','QEZsJ','format','sDDBw','352FMubFE','2326977tftErR','slice','version','BATCH_COLLATE_STANDARD','pXBLP','-%04d.tif','filename','1303563zAzQwI','2jMlJtb','Lineart','4YxOfQW','executeSync','--source','--adf-mode','tempDirectory','2680698qBEZTx','--contrast','mode','--brightness','TEMP_FILESTEM','BATCH_AUTO','8oHcobI','XrSGp','305520FlvJMx','_version','3322683SZNdgu','413428Gtxcqa','source','supportsOutputFlag','deviceId','oqfhz','isPreview','./command-builder','exec','--ald=','height','suzWp','arg','.tif','../constants','brightness','top','NhRdM','index','\x20-V','dNhkF','lzDod','resolution','pageHeight','Ltuns','scanimage','giOjK','WEsZG','476555RPuOvD','adfMode','--depth','BATCH_COLLATE_REVERSE','wolzJ','width','--page-height','dynamicLineart','NGkfQ','BarCn','config'];_0x37f9=function(){return _0x3a6f85;};return _0x37f9();}(function(_0x49bcbb,_0x670fe1){const _0x325e31=_0x587b,_0x3fb44d=_0x49bcbb();while(!![]){try{const _0x1e18bb=parseInt(_0x325e31(0xc6))/0x1*(-parseInt(_0x325e31(0xb4))/0x2)+parseInt(_0x325e31(0xb3))/0x3+parseInt(_0x325e31(0xb6))/0x4*(-parseInt(_0x325e31(0xe1))/0x5)+-parseInt(_0x325e31(0xbb))/0x6+-parseInt(_0x325e31(0xc5))/0x7+parseInt(_0x325e31(0xc1))/0x8*(parseInt(_0x325e31(0xac))/0x9)+-parseInt(_0x325e31(0xc3))/0xa*(-parseInt(_0x325e31(0xab))/0xb);if(_0x1e18bb===_0x670fe1)break;else _0x3fb44d['push'](_0x3fb44d['shift']());}catch(_0x425095){_0x3fb44d['push'](_0x3fb44d['shift']());}}}(_0x37f9,0x3aba3));function _0x587b(_0x1cd13f,_0x2f65e0){const _0x37f9a3=_0x37f9();return _0x587b=function(_0x587bb6,_0x4ace85){_0x587bb6=_0x587bb6-0x82;let _0x8713a6=_0x37f9a3[_0x587bb6];return _0x8713a6;},_0x587b(_0x1cd13f,_0x2f65e0);}const log=require('loglevel')[_0xef00a2(0xa1)]('ScanimageCommand'),CommandBuilder=require(_0xef00a2(0xcc)),Constants=require(_0xef00a2(0xd3)),LogFormatter=require(_0xef00a2(0x90)),Process=require('./process'),semver=require(_0xef00a2(0xa4));class Scanimage{constructor(_0x48619a){const _0x322249=_0xef00a2;this[_0x322249(0x89)]=_0x48619a;}get[_0xef00a2(0xae)](){const _0x19cdfd=_0xef00a2,_0x16933e={'NGkfQ':function(_0x4f9427,_0x36468a){return _0x4f9427===_0x36468a;}};if(_0x16933e[_0x19cdfd(0x87)](this[_0x19cdfd(0xc4)],undefined)){const _0x1946ea=Process['executeSync'](this['config'][_0x19cdfd(0xde)]+'\x20-V');this[_0x19cdfd(0xc4)]=/.*backend version (.*)/[_0x19cdfd(0xcd)](_0x1946ea)[0x1];}return this['_version'];}get['supportsOutputFlag'](){const _0x58b438=_0xef00a2;return semver[_0x58b438(0x98)](this[_0x58b438(0xae)],_0x58b438(0x93));}}module[_0xef00a2(0x9f)]=class ScanimageCommand{constructor(_0x11475b){const _0x29435e=_0xef00a2;this[_0x29435e(0x89)]=_0x11475b,this[_0x29435e(0xde)]=new Scanimage(_0x11475b);}[_0xef00a2(0x8b)](){const _0x1913f8=_0xef00a2;return new CommandBuilder(this['config']['scanimage'])[_0x1913f8(0xd1)]('-L')[_0x1913f8(0xa6)]();}[_0xef00a2(0x8c)](_0x36ad03){const _0x544303=_0xef00a2;return new CommandBuilder(this[_0x544303(0x89)]['scanimage'])[_0x544303(0xd1)]('-d',_0x36ad03)[_0x544303(0xd1)]('-A')[_0x544303(0xa6)]();}[_0xef00a2(0xb2)](_0x4fbdae){const _0x29c66b=_0xef00a2,_0x2a6c4c=('000'+_0x4fbdae)[_0x29c66b(0xad)](-0x4);return this[_0x29c66b(0x89)]['tempDirectory']+'/'+Constants['TEMP_FILESTEM']+'-0-'+_0x2a6c4c+_0x29c66b(0xd2);}[_0xef00a2(0x92)](_0x5ab73b){const _0x33fe10=_0xef00a2,_0xf8dad9={'dNhkF':_0x33fe10(0x85),'BarCn':_0x33fe10(0x94),'WEsZG':function(_0x22c959,_0x1b4131){return _0x22c959===_0x1b4131;},'XrSGp':function(_0x43a8f3,_0x733e2f){return _0x43a8f3 in _0x733e2f;},'SZcdw':'--mode','suzWp':_0x33fe10(0xb9),'QEZsJ':'--resolution','JFHom':function(_0x46aad6,_0x392039){return _0x46aad6 in _0x392039;},'gJkZQ':function(_0x22a3a7,_0x52497a){return _0x22a3a7 in _0x52497a;},'QBoJy':_0x33fe10(0xd5),'odYha':function(_0x33e8d8,_0xd0f3de){return _0x33e8d8 in _0xd0f3de;},'sDDBw':_0x33fe10(0x84),'USybT':function(_0x45dd1e,_0x9d25cf){return _0x45dd1e in _0x9d25cf;},'pXBLP':_0x33fe10(0xcf),'NhRdM':_0x33fe10(0x96),'wolzJ':'JbUCd','FoPDL':_0x33fe10(0xbc),'giOjK':_0x33fe10(0xdd),'oqfhz':function(_0x1b1b59,_0x26b17a){return _0x1b1b59!==_0x26b17a;},'BskxJ':function(_0x5f1b86,_0x9dab85){return _0x5f1b86 in _0x9dab85;},'lzDod':_0x33fe10(0xcb)};log[_0x33fe10(0x8f)](LogFormatter[_0x33fe10(0xa9)]()[_0x33fe10(0xa0)](_0x5ab73b));const _0x480d24=_0x5ab73b[_0x33fe10(0xa5)],_0x5f0f1a=new CommandBuilder(this[_0x33fe10(0x89)][_0x33fe10(0xde)]);_0x5f0f1a[_0x33fe10(0xd1)]('-d',_0x480d24[_0x33fe10(0xc9)]);_0x33fe10(0xc7)in _0x480d24&&_0x5f0f1a[_0x33fe10(0xd1)](_0x33fe10(0xb8),_0x480d24[_0x33fe10(0xc7)]);_0xf8dad9[_0x33fe10(0xc2)]('mode',_0x480d24)&&_0x5f0f1a['arg'](_0xf8dad9['SZcdw'],_0x480d24[_0x33fe10(0xbd)]);_0xf8dad9['XrSGp'](_0x33fe10(0xe2),_0x480d24)&&_0x5f0f1a[_0x33fe10(0xd1)](_0xf8dad9[_0x33fe10(0xd0)],_0x480d24[_0x33fe10(0xe2)]);_0x5f0f1a['arg'](_0xf8dad9[_0x33fe10(0xa8)],_0x480d24[_0x33fe10(0xdb)]);_0xf8dad9[_0x33fe10(0xa2)]('pageWidth',_0x480d24)&&_0x5f0f1a['arg'](_0x33fe10(0x8d),_0x480d24['pageWidth']);_0x33fe10(0xdc)in _0x480d24&&_0x5f0f1a[_0x33fe10(0xd1)](_0xf8dad9[_0x33fe10(0xd9)],_0x480d24[_0x33fe10(0xdc)]);'left'in _0x480d24&&_0x5f0f1a[_0x33fe10(0xd1)]('-l',_0x480d24[_0x33fe10(0x9a)]);_0xf8dad9[_0x33fe10(0x8a)](_0xf8dad9[_0x33fe10(0x91)],_0x480d24)&&_0x5f0f1a[_0x33fe10(0xd1)]('-t',_0x480d24[_0x33fe10(0xd5)]);_0xf8dad9[_0x33fe10(0x99)](_0xf8dad9[_0x33fe10(0xaa)],_0x480d24)&&_0x5f0f1a[_0x33fe10(0xd1)]('-x',_0x480d24[_0x33fe10(0x84)]);_0xf8dad9[_0x33fe10(0xa3)](_0xf8dad9[_0x33fe10(0xb0)],_0x480d24)&&_0x5f0f1a['arg']('-y',_0x480d24[_0x33fe10(0xcf)]);_0x5f0f1a[_0x33fe10(0xd1)](_0x33fe10(0xa7),_0x480d24[_0x33fe10(0xa9)]);_0xf8dad9[_0x33fe10(0x8a)](_0xf8dad9[_0x33fe10(0xd6)],_0x480d24)&&_0x5f0f1a['arg'](_0x33fe10(0xce)+_0x480d24[_0x33fe10(0x96)]);_0xf8dad9[_0x33fe10(0xa2)](_0x33fe10(0x97),_0x480d24)&&_0x5f0f1a[_0x33fe10(0xd1)](_0x33fe10(0xe3),_0x480d24[_0x33fe10(0x97)]);_0x33fe10(0xd4)in _0x480d24&&_0x5f0f1a[_0x33fe10(0xd1)](_0x33fe10(0xbe),_0x480d24[_0x33fe10(0xd4)]);_0x33fe10(0x9e)in _0x480d24&&(_0xf8dad9[_0x33fe10(0xe0)](_0x33fe10(0x95),_0xf8dad9[_0x33fe10(0x83)])?_0x4bd6ec['arg'](_0xf8dad9[_0x33fe10(0xd9)],_0x29f5bc[_0x33fe10(0xdc)]):_0x5f0f1a['arg'](_0xf8dad9[_0x33fe10(0x9c)],_0x480d24[_0x33fe10(0x9e)]));_0x480d24[_0x33fe10(0xbd)]===_0x33fe10(0xb5)&&_0xf8dad9['WEsZG'](_0x480d24[_0x33fe10(0x86)],![])&&_0x5f0f1a[_0x33fe10(0xd1)](_0x33fe10(0x94));if([Constants[_0x33fe10(0xc0)],Constants[_0x33fe10(0xaf)],Constants[_0x33fe10(0x82)]][_0x33fe10(0x8e)](_0x5ab73b[_0x33fe10(0x9b)])){if(_0xf8dad9[_0x33fe10(0xdf)]===_0xf8dad9[_0x33fe10(0xdf)]){const _0x3d7819=this[_0x33fe10(0x89)][_0x33fe10(0xba)]+'/'+Constants[_0x33fe10(0xbf)]+'-'+_0x5ab73b[_0x33fe10(0xd7)]+_0x33fe10(0xb1);_0x5f0f1a[_0x33fe10(0xd1)]('--batch='+_0x3d7819);}else _0x2c72c5[_0x33fe10(0xd1)](_0xf8dad9[_0x33fe10(0x88)]);}else{if(_0xf8dad9[_0x33fe10(0xca)]('vvgAv','vvgAv')){if(_0xf8dad9[_0x33fe10(0xe0)](this['_version'],_0x517c60)){const _0x4b2dc9=_0x2dbf9e[_0x33fe10(0xb7)](this[_0x33fe10(0x89)]['scanimage']+_0x33fe10(0xd8));this['_version']=/.*backend version (.*)/[_0x33fe10(0xcd)](_0x4b2dc9)[0x1];}return this[_0x33fe10(0xc4)];}else{const _0x4afcd2=_0xf8dad9['BskxJ'](_0xf8dad9[_0x33fe10(0xda)],_0x480d24)&&_0x480d24['isPreview']?this['config'][_0x33fe10(0x9d)]+'/preview.tif':this[_0x33fe10(0xb2)](_0x5ab73b[_0x33fe10(0xd7)]);this['scanimage'][_0x33fe10(0xc8)]?_0x5f0f1a[_0x33fe10(0xd1)]('-o',_0x4afcd2):_0x5f0f1a['redirect']('>')[_0x33fe10(0xd1)](_0x4afcd2);}}return _0x5f0f1a['build']();}};