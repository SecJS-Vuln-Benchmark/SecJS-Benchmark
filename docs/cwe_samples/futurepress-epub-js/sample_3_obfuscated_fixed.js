'use strict';const _0x102c05=_0x1943;(function(_0x413f30,_0x168fb5){const _0x507291=_0x1943,_0x8e096e=_0x413f30();while(!![]){try{const _0x464fa4=parseInt(_0x507291(0x173))/0x1*(parseInt(_0x507291(0xf4))/0x2)+parseInt(_0x507291(0x125))/0x3*(-parseInt(_0x507291(0xba))/0x4)+-parseInt(_0x507291(0x150))/0x5+parseInt(_0x507291(0x17c))/0x6*(-parseInt(_0x507291(0x177))/0x7)+-parseInt(_0x507291(0xf7))/0x8*(parseInt(_0x507291(0xdd))/0x9)+-parseInt(_0x507291(0x163))/0xa+parseInt(_0x507291(0x126))/0xb;if(_0x464fa4===_0x168fb5)break;else _0x8e096e['push'](_0x8e096e['shift']());}catch(_0x19c0c8){_0x8e096e['push'](_0x8e096e['shift']());}}}(_0xcfd6,0xdb4b4));function _0xcfd6(){const _0x50e20f=['jnhMf','send','SXAxV','pump','vOAMQ','hIvbj','limit','NQYOD','TcgfS','oZDqY','cjDpn','177ARmSyV','74250561chdtOr','POST','FtSBV','pass','udBjH','data','lLVkM','enQmi','jencT','teardown','server','LNqwM','substr','close','CtRMh','kodWq','GnhyU','addToBody\x20with\x20shared\x20schema\x20(async/await)','split','VZbQw','lorLK','DhrjU','EZuZE','YcYzr','EroZJ','XRDzZ','Dzvvq','http:','bVXhS','PExtM','xWoMB','world','nBfTZ','wXXwZ','qSyKy','NtniI','addToBody\x20option\x20and\x20multiple\x20files\x20in\x20one\x20field','sOYVo','addToBody\x20option\x20and\x20multiple\x20strings\x20in\x20one\x20field','listen','bcUvE','PxVHY','8958760mFoBdH','xgNmr','dSSzw','payload','CxSAB','equal','request','end','should\x20not\x20execute\x20the\x20handler','DsMbF','MwFHc','VgQaZ','GJuVB','GyJcq','fail','AItaN','TiQPy','We\x20must\x20receive\x203\x20file\x20events','HUufY','17575250TZuFlq','isBuffer','UMRYu','brMtk','forEach','application/octet-stream','string','http','myCheck','CWCkr','./../..','myFileTwo','error','EnULR','7bit','append','149TxngNK','iGkoY','QgdXA','FcEnK','868LiFEQL','eGiQY','XLdDd','INvQA','bind','19194bcatil','mkYbD','addToBody\x20option\x20and\x20multiple\x20files','mySharedSchema','LQHOF','kHwfJ','get','vLRNa','ZlGsZ','yflxP','aKWEr','xOBjh','YBkuN','body','kyzxq','qGKiS','getSchema','true','reject','VXPMk','zgIjx','TriCL','3|1|4|2|0','addToBody\x20option\x20with\x20promise','KuXhw','QYtVd','nyDJX','GLHCQ','toString','JzdgE','irQvh','CdtiT','pMTmC','platform','zjloW','localhost','rmXyV','hWrsn','KiOpQ','sTexT','TGvao','PymNH','PXSzj','addToBody\x20option','UUvMZ','eimmB','NZmVc','register','test','pCxVJ','tscAS','statusCode','iAEVC','eGkmy','RvaDT','ptcID','cCkrF','ZQgTH','UzUHs','addToBody\x20option\x20does\x20not\x20change\x20behaviour\x20on\x20not-multipart\x20request','sklef','object','res\x20ended\x20successfully','should\x20not\x20be\x20called','KpEDg','resume','102244dSVVwq','myField','nhEUN','kodtM','rXflI','qHAkz','PNpIR','YWKSp','my\x20error','LILGA','addToBody\x20with\x20limit\x20exceeded','array','inject','gBLEg','GvfZT','path','MdHnq','form.html','cjsjv','LPxjM','luxWm','match','myField2','ezImV','bAyIu','dEVjE','Xpwmh','win32','yNRSe','GET','nWipp','myFileThree','text/markdown','HhCCC','plan','11963871HuKXlm','dsAlu','EpJxK','dgIBf','GkWxf','client\x20pump:\x20no\x20err','dayCm','nswvA','post','createReadStream','__proto__','LQwzu','caJec','xTTRr','0|1|3|2|4','wKaXm','address','myFile','MLDAG','CpEAQ','cuVfF','addToBody\x20with\x20__proto__\x20field','port','12504OzadUX','RCLUC','RZkqq','8kJuoef','moiyY','bhMtS','pZimV','SSEOd','EArao','NkdBo','yAieI','AjgZe','wpLQn','FJqsw','README.md','addToBody\x20option\x20and\x20custom\x20stream\x20management','WygkV','cvJFD','FvxxI','agfPK','MePyr','uQEaJ','NJJyJ','type','wnqfH','getHeaders','form-data','addToBody\x20option\x20with\x20promise\x20in\x20error','text/html','uPonK','UdKoR','hello','MJRht','yjgmn','QGBxA','RVPxX','join','LICENSE'];_0xcfd6=function(){return _0x50e20f;};return _0xcfd6();}const test=require('tap')[_0x102c05(0x1ac)],FormData=require(_0x102c05(0x10e)),Fastify=require('fastify'),multipart=require(_0x102c05(0x16d)),http=require(_0x102c05(0x16a)),path=require(_0x102c05(0xc9)),fs=require('fs'),pump=require(_0x102c05(0x11d)),filePath=path[_0x102c05(0x118)](__dirname,'..','..',_0x102c05(0x102));function _0x1943(_0x346ca4,_0x31a0c1){const _0xcfd615=_0xcfd6();return _0x1943=function(_0x19431c,_0x2e98e6){_0x19431c=_0x19431c-0xb3;let _0x14d45d=_0xcfd615[_0x19431c];return _0x14d45d;},_0x1943(_0x346ca4,_0x31a0c1);}test(_0x102c05(0x1a7),{'skip':process[_0x102c05(0x19d)]===_0x102c05(0xd5)},_0x40eb8f=>{const _0xca7011=_0x102c05,_0x4bac65={'moiyY':_0xca7011(0x171),'cjsjv':_0xca7011(0xda),'hWrsn':'localhost','zbuei':_0xca7011(0x127),'CtRMh':_0xca7011(0xbb),'dSSzw':_0xca7011(0x113),'MwFHc':function(_0x519ce7,_0x42f895,_0x479502,_0x171caa){return _0x519ce7(_0x42f895,_0x479502,_0x171caa);},'sTexT':function(_0xf83275){return _0xf83275();}};_0x40eb8f['plan'](0x8);const _0x5f46f0=_0x4bac65[_0xca7011(0x1a3)](Fastify);_0x40eb8f[_0xca7011(0x12f)](_0x5f46f0[_0xca7011(0x133)]['bind'](_0x5f46f0)),_0x5f46f0[_0xca7011(0x1ab)](multipart,{'addToBody':!![]}),_0x5f46f0[_0xca7011(0xe5)]('/',function(_0x6760dc,_0x1d5a95){const _0x3de034=_0xca7011,_0x1d1875='2|3|1|0|4|5'[_0x3de034(0x138)]('|');let _0x19fa1e=0x0;while(!![]){switch(_0x1d1875[_0x19fa1e++]){case'0':_0x40eb8f[_0x3de034(0x10b)](_0x6760dc[_0x3de034(0x189)][_0x3de034(0xee)][0x0][_0x3de034(0x12b)],Buffer);continue;case'1':_0x40eb8f[_0x3de034(0xcf)](_0x6760dc[_0x3de034(0x189)]['myFile'],[{'encoding':_0x4bac65[_0x3de034(0xf8)],'filename':_0x3de034(0x102),'limit':![],'mimetype':_0x4bac65[_0x3de034(0xcc)]}]);continue;case'2':_0x40eb8f[_0x3de034(0x155)](_0x6760dc[_0x3de034(0x189)][_0x3de034(0xbb)],_0x3de034(0x113));continue;case'3':_0x40eb8f[_0x3de034(0x155)](_0x6760dc[_0x3de034(0x189)][_0x3de034(0x16b)],_0x3de034(0x18d));continue;case'4':_0x40eb8f[_0x3de034(0x155)](_0x6760dc[_0x3de034(0x189)][_0x3de034(0xee)][0x0][_0x3de034(0x12b)][_0x3de034(0x198)]('utf8')[_0x3de034(0x132)](0x0,0x13),'#\x20fastify-multipart');continue;case'5':_0x1d5a95[_0x3de034(0x11b)]('ok');continue;}break;}}),_0x5f46f0[_0xca7011(0x14d)](0x0,function(){const _0x26dbf2=_0xca7011,_0x1e2a65={'UMRYu':_0x26dbf2(0xbb),'IflNd':function(_0x4fec62,_0x18111b){return _0x4fec62!==_0x18111b;},'vOAMQ':_0x26dbf2(0x1a5),'LFhtD':_0x26dbf2(0x157)},_0x5778af=new FormData(),_0x26801f={'protocol':_0x26dbf2(0x141),'hostname':_0x4bac65[_0x26dbf2(0x1a1)],'port':_0x5f46f0[_0x26dbf2(0x130)][_0x26dbf2(0xed)]()[_0x26dbf2(0xf3)],'path':'/','headers':_0x5778af[_0x26dbf2(0x10d)](),'method':_0x4bac65['zbuei']},_0x1d4af3=http[_0x26dbf2(0x156)](_0x26801f,_0x32c6e3=>{const _0x387175=_0x26dbf2,_0x23c140={'wnqfH':_0x387175(0xb5),'AjgZe':_0x1e2a65[_0x387175(0x165)],'HUufY':function(_0x2367df,_0x2a16a1){return _0x1e2a65['IflNd'](_0x2367df,_0x2a16a1);},'afMJZ':_0x1e2a65[_0x387175(0x11e)],'yNRSe':_0x387175(0xb6)};_0x40eb8f[_0x387175(0x155)](_0x32c6e3['statusCode'],0xc8),_0x32c6e3[_0x387175(0xb9)](),_0x32c6e3['on'](_0x1e2a65['LFhtD'],()=>{const _0x1c2929=_0x387175,_0x7bffce={'UzUHs':'7bit','fxKsZ':_0x23c140[_0x1c2929(0x10c)],'QgdXA':_0x23c140[_0x1c2929(0xff)],'GyJcq':_0x1c2929(0x169),'JPHWe':'array'};_0x23c140[_0x1c2929(0x162)](_0x23c140['afMJZ'],_0x1c2929(0x1ad))?_0x40eb8f['pass'](_0x23c140[_0x1c2929(0xd6)]):_0x58cff8['post']('/',{'schema':{'body':{'type':_0x7bffce['fxKsZ'],'required':[_0x7bffce[_0x1c2929(0x175)],_0x1c2929(0xee)],'properties':{'myField':{'type':_0x7bffce[_0x1c2929(0x15d)]},'myFile':{'type':_0x7bffce['JPHWe'],'items':_0x2e660d[_0x1c2929(0x18c)]('mySharedSchema')}}}}},function(_0x26f223,_0x35f513){const _0x78f042=_0x1c2929;_0x43dbf1[_0x78f042(0x155)](_0x26f223[_0x78f042(0x189)]['myField'],_0x78f042(0x113)),_0xeab72c['match'](_0x26f223[_0x78f042(0x189)]['myFile'],[{'data':[],'encoding':_0x7bffce[_0x78f042(0x1b6)],'filename':_0x78f042(0x102),'limit':![],'mimetype':'text/markdown'}]),_0x35f513[_0x78f042(0x11b)]('ok');});});}),_0x5a91ec=fs['createReadStream'](filePath);_0x5778af['append'](_0x4bac65[_0x26dbf2(0x134)],_0x4bac65[_0x26dbf2(0x152)]),_0x5778af[_0x26dbf2(0x172)](_0x26dbf2(0x16b),'true'),_0x5778af[_0x26dbf2(0x172)](_0x26dbf2(0xee),_0x5a91ec),_0x4bac65[_0x26dbf2(0x15a)](pump,_0x5778af,_0x1d4af3,function(_0xa62283){const _0x404488=_0x26dbf2;_0x40eb8f[_0x404488(0x16f)](_0xa62283,_0x404488(0xe2));});});}),test(_0x102c05(0xc4),{'skip':process[_0x102c05(0x19d)]===_0x102c05(0xd5)},_0x40da99=>{const _0x348f10=_0x102c05,_0x53b3df={'aKWEr':_0x348f10(0x1a6),'qHAkz':_0x348f10(0xe2),'xWoMB':_0x348f10(0x157),'GkWxf':_0x348f10(0xf6),'TehoH':_0x348f10(0xb6),'GnhyU':_0x348f10(0x141),'wKaXm':function(_0x5156a9,_0x527643,_0x28a6c9,_0xe9b011){return _0x5156a9(_0x527643,_0x28a6c9,_0xe9b011);},'VgQaZ':function(_0x4cecb5,_0x3aa673){return _0x4cecb5===_0x3aa673;},'XQHgS':'BSwjF','nyDJX':function(_0x3ce11c,_0x245c68,_0x350156,_0x17bf06){return _0x3ce11c(_0x245c68,_0x350156,_0x17bf06);}};_0x40da99['plan'](0x5);const _0x26f731=Fastify();_0x40da99[_0x348f10(0x12f)](_0x26f731[_0x348f10(0x133)][_0x348f10(0x17b)](_0x26f731)),_0x26f731[_0x348f10(0x1ab)](multipart,{'addToBody':!![],'limits':{'fileSize':0x1}}),_0x26f731['post']('/',function(_0x9353e6,_0x11a034){const _0x7cba9e=_0x348f10;_0x40da99[_0x7cba9e(0x155)](_0x9353e6[_0x7cba9e(0x189)]['myFile'][0x0][_0x7cba9e(0x120)],!![]),_0x40da99[_0x7cba9e(0x155)](_0x9353e6[_0x7cba9e(0x189)][_0x7cba9e(0xee)][0x0][_0x7cba9e(0x12b)],undefined),_0x11a034['send']('ok');}),_0x26f731[_0x348f10(0x14d)](0x0,function(){const _0x40067d=_0x348f10,_0x1aae7f={'WygkV':_0x53b3df[_0x40067d(0x144)],'MLDAG':function(_0x3ca8c5,_0x529dbc){return _0x3ca8c5!==_0x529dbc;},'kIkcc':_0x53b3df[_0x40067d(0xe1)],'gZWnb':_0x53b3df['TehoH'],'dEVjE':_0x53b3df[_0x40067d(0x136)],'GJuVB':_0x40067d(0x19f),'MePyr':_0x40067d(0xbb),'uQEaJ':'hello','dgIBf':_0x40067d(0xe7),'TGvao':function(_0x3551f8,_0x49dbcd,_0x576c09,_0x4a27a2){const _0x52cf5c=_0x40067d;return _0x53b3df[_0x52cf5c(0xec)](_0x3551f8,_0x49dbcd,_0x576c09,_0x4a27a2);}};if(_0x53b3df[_0x40067d(0x15b)](_0x53b3df['XQHgS'],'BSwjF')){const _0x5df65a=new FormData(),_0x2eeafd={'protocol':_0x40067d(0x141),'hostname':_0x40067d(0x19f),'port':_0x26f731[_0x40067d(0x130)][_0x40067d(0xed)]()[_0x40067d(0xf3)],'path':'/','headers':_0x5df65a['getHeaders'](),'method':_0x40067d(0x127)},_0x7612bf=http[_0x40067d(0x156)](_0x2eeafd,_0x43a38e=>{const _0x7b34c4=_0x40067d,_0x336147={'xNpeH':_0x1aae7f[_0x7b34c4(0x104)],'GvfZT':function(_0x469ed6,_0x205b67){const _0xc836ec=_0x7b34c4;return _0x1aae7f[_0xc836ec(0xef)](_0x469ed6,_0x205b67);},'cjDpn':_0x1aae7f['kIkcc'],'FXlMB':_0x7b34c4(0xb6)};_0x40da99[_0x7b34c4(0x155)](_0x43a38e[_0x7b34c4(0x1af)],0xc8),_0x43a38e[_0x7b34c4(0xb9)](),_0x43a38e['on'](_0x1aae7f[_0x7b34c4(0x104)],()=>{const _0x311942=_0x7b34c4;_0x336147[_0x311942(0xc8)](_0x311942(0xf6),_0x336147[_0x311942(0x124)])?(_0x321416['equal'](_0x34801a['statusCode'],0xc8),_0x4b4889[_0x311942(0xb9)](),_0xf2fdc2['on'](_0x336147['xNpeH'],()=>{const _0x2820cc=_0x311942;_0xb37249[_0x2820cc(0x129)]('res\x20ended\x20successfully');})):_0x40da99[_0x311942(0x129)](_0x336147['FXlMB']);});}),_0x792896=fs[_0x40067d(0xe6)](filePath);_0x5df65a[_0x40067d(0x172)]('myFile',_0x792896),_0x53b3df[_0x40067d(0x196)](pump,_0x5df65a,_0x7612bf,function(_0x530a53){const _0x16947d=_0x40067d;if(_0x53b3df[_0x16947d(0x186)]!==_0x16947d(0xce))_0x40da99[_0x16947d(0x16f)](_0x530a53,_0x53b3df[_0x16947d(0xbf)]);else{const _0x136fe0={'eGkmy':_0x1aae7f['gZWnb'],'xgNmr':'client\x20pump:\x20no\x20err'},_0x190118=new _0x673e86(),_0x33dc80={'protocol':_0x1aae7f[_0x16947d(0xd3)],'hostname':_0x1aae7f[_0x16947d(0x15c)],'port':_0xd9e410[_0x16947d(0x130)][_0x16947d(0xed)]()[_0x16947d(0xf3)],'path':'/','headers':_0x190118[_0x16947d(0x10d)](),'method':_0x16947d(0x127)},_0x122fff=_0x1bc729['request'](_0x33dc80,_0x154d8b=>{const _0x3ab0af=_0x16947d,_0x1fa499={'dayCm':_0x136fe0[_0x3ab0af(0x1b1)]};_0x7f9b27[_0x3ab0af(0x155)](_0x154d8b[_0x3ab0af(0x1af)],0x1f4),_0x154d8b[_0x3ab0af(0xb9)](),_0x154d8b['on'](_0x3ab0af(0x157),()=>{const _0x2904e5=_0x3ab0af;_0x356148[_0x2904e5(0x129)](_0x1fa499[_0x2904e5(0xe3)]);});});_0x190118[_0x16947d(0x172)](_0x1aae7f[_0x16947d(0x108)],_0x1aae7f[_0x16947d(0x109)]),_0x190118[_0x16947d(0x172)](_0x1aae7f[_0x16947d(0xe0)],'world'),_0x1aae7f[_0x16947d(0x1a4)](_0x5bc905,_0x190118,_0x122fff,function(_0xc4896e){const _0x3bd39d=_0x16947d;_0x177e15['error'](_0xc4896e,_0x136fe0[_0x3bd39d(0x151)]);});}});}else _0x1cd040['fail']('there\x20are\x20not\x20stream');});}),test(_0x102c05(0x17e),{'skip':process['platform']===_0x102c05(0xd5)},_0x1ebbe0=>{const _0x1a6ec0=_0x102c05,_0x29d583={'cvJFD':_0x1a6ec0(0x102),'sklef':_0x1a6ec0(0xda),'qSyKy':'7bit','eGiQY':_0x1a6ec0(0x157),'bAyIu':_0x1a6ec0(0x16e)};_0x1ebbe0[_0x1a6ec0(0xdc)](0x7);const _0x1c57f9=Fastify();_0x1ebbe0[_0x1a6ec0(0x12f)](_0x1c57f9['close'][_0x1a6ec0(0x17b)](_0x1c57f9));let _0x4313cd=0x0;const _0x4348e8={'addToBody':!![],'onFile':(_0x2ce30b,_0x4d108b,_0x416013,_0x409c5e,_0x448e4f)=>{const _0x5b9b52=_0x1a6ec0;_0x4313cd++,_0x4d108b[_0x5b9b52(0xb9)]();}};_0x1c57f9[_0x1a6ec0(0x1ab)](multipart,_0x4348e8),_0x1c57f9[_0x1a6ec0(0xe5)]('/',function(_0xf3030b,_0x4c6f48){const _0x165fab=_0x1a6ec0,_0x4ae25e=_0x165fab(0x192)[_0x165fab(0x138)]('|');let _0x532aec=0x0;while(!![]){switch(_0x4ae25e[_0x532aec++]){case'0':_0x4c6f48[_0x165fab(0x11b)]('ok');continue;case'1':_0x1ebbe0[_0x165fab(0xcf)](_0xf3030b[_0x165fab(0x189)][_0x165fab(0x16e)],[{'data':[],'encoding':_0x165fab(0x171),'filename':_0x29d583[_0x165fab(0x105)],'limit':![],'mimetype':_0x29d583[_0x165fab(0xb4)]}]);continue;case'2':_0x1ebbe0['equal'](_0x4313cd,0x3,_0x165fab(0x161));continue;case'3':_0x1ebbe0['match'](_0xf3030b[_0x165fab(0x189)]['myFile'],[{'data':[],'encoding':_0x29d583[_0x165fab(0x148)],'filename':_0x165fab(0x102),'limit':![],'mimetype':_0x165fab(0xda)}]);continue;case'4':_0x1ebbe0[_0x165fab(0xcf)](_0xf3030b[_0x165fab(0x189)][_0x165fab(0xd9)],[{'data':[],'encoding':'7bit','filename':_0x165fab(0x102),'limit':![],'mimetype':_0x29d583[_0x165fab(0xb4)]}]);continue;}break;}}),_0x1c57f9[_0x1a6ec0(0x14d)](0x0,function(){const _0x225e5c=_0x1a6ec0,_0x103905=new FormData(),_0x310ac0={'protocol':_0x225e5c(0x141),'hostname':_0x225e5c(0x19f),'port':_0x1c57f9[_0x225e5c(0x130)][_0x225e5c(0xed)]()[_0x225e5c(0xf3)],'path':'/','headers':_0x103905[_0x225e5c(0x10d)](),'method':_0x225e5c(0x127)},_0x53f29b=http[_0x225e5c(0x156)](_0x310ac0,_0xba9184=>{const _0x32299d=_0x225e5c;_0x1ebbe0[_0x32299d(0x155)](_0xba9184[_0x32299d(0x1af)],0xc8),_0xba9184[_0x32299d(0xb9)](),_0xba9184['on'](_0x29d583[_0x32299d(0x178)],()=>{const _0x3dbeab=_0x32299d;_0x1ebbe0[_0x3dbeab(0x129)](_0x3dbeab(0xb6));});}),_0x4c40fe=fs[_0x225e5c(0xe6)](filePath),_0x2e2da1=fs[_0x225e5c(0xe6)](filePath),_0x39e3d3=fs[_0x225e5c(0xe6)](filePath);_0x103905[_0x225e5c(0x172)](_0x225e5c(0xee),_0x4c40fe),_0x103905[_0x225e5c(0x172)](_0x29d583[_0x225e5c(0xd2)],_0x2e2da1),_0x103905[_0x225e5c(0x172)](_0x225e5c(0xd9),_0x39e3d3),pump(_0x103905,_0x53f29b,function(_0x39ff8e){const _0x10841b=_0x225e5c;_0x1ebbe0[_0x10841b(0x16f)](_0x39ff8e,_0x10841b(0xe2));});});}),test(_0x102c05(0x14a),{'skip':process[_0x102c05(0x19d)]===_0x102c05(0xd5)},_0x5d3b77=>{const _0x6cb036=_0x102c05,_0x35fc15={'mnhHi':_0x6cb036(0x102),'ZGAuw':_0x6cb036(0xda),'SXAxV':_0x6cb036(0x171),'QQuRh':_0x6cb036(0x119),'kyzxq':_0x6cb036(0x168),'GLHCQ':'form.html','kCtzP':_0x6cb036(0x110),'yjgmn':_0x6cb036(0x141),'vLRNa':_0x6cb036(0x127),'LILGA':'myFile','riPIb':function(_0x52e957,_0x33bdb7,_0x115e27,_0x133af3){return _0x52e957(_0x33bdb7,_0x115e27,_0x133af3);}};_0x5d3b77[_0x6cb036(0xdc)](0x7);const _0x15b24b=Fastify();_0x5d3b77['teardown'](_0x15b24b[_0x6cb036(0x133)]['bind'](_0x15b24b));const _0x391146={'addToBody':!![]};_0x15b24b[_0x6cb036(0x1ab)](multipart,_0x391146),_0x15b24b['post']('/',function(_0x4a699d,_0x59b5d2){const _0x1b8c60=_0x6cb036;_0x5d3b77['match'](_0x4a699d[_0x1b8c60(0x189)][_0x1b8c60(0xee)],[{'encoding':'7bit','filename':_0x35fc15['mnhHi'],'limit':![],'mimetype':_0x35fc15['ZGAuw']},{'encoding':_0x35fc15['SXAxV'],'filename':_0x35fc15['QQuRh'],'limit':![],'mimetype':_0x35fc15[_0x1b8c60(0x18a)]},{'encoding':_0x35fc15[_0x1b8c60(0x11c)],'filename':_0x35fc15[_0x1b8c60(0x197)],'limit':![],'mimetype':_0x35fc15['kCtzP']}]),_0x4a699d[_0x1b8c60(0x189)][_0x1b8c60(0xee)][_0x1b8c60(0x167)](_0x2e882d=>{const _0x4f4074=_0x1b8c60;_0x5d3b77[_0x4f4074(0x155)](Buffer['isBuffer'](_0x2e882d['data']),!![]);}),_0x59b5d2[_0x1b8c60(0x11b)]('ok');}),_0x15b24b[_0x6cb036(0x14d)](0x0,function(){const _0x19cd70=_0x6cb036,_0xec9b34=new FormData(),_0x4ee32f={'protocol':_0x35fc15[_0x19cd70(0x115)],'hostname':'localhost','port':_0x15b24b[_0x19cd70(0x130)]['address']()['port'],'path':'/','headers':_0xec9b34[_0x19cd70(0x10d)](),'method':_0x35fc15[_0x19cd70(0x183)]},_0x52c156=http[_0x19cd70(0x156)](_0x4ee32f,_0x4af707=>{const _0x53bb07=_0x19cd70;_0x5d3b77['equal'](_0x4af707[_0x53bb07(0x1af)],0xc8),_0x4af707['resume'](),_0x4af707['on'](_0x53bb07(0x157),()=>{const _0x1d0440=_0x53bb07;_0x5d3b77[_0x1d0440(0x129)](_0x1d0440(0xb6));});}),_0x11c8c7=fs[_0x19cd70(0xe6)](path[_0x19cd70(0x118)](__dirname,'..','..',_0x19cd70(0x102))),_0x1fd840=fs[_0x19cd70(0xe6)](path[_0x19cd70(0x118)](__dirname,'..','..',_0x19cd70(0x119))),_0x332537=fs[_0x19cd70(0xe6)](path[_0x19cd70(0x118)](__dirname,'..','..',_0x19cd70(0xcb)));_0xec9b34['append'](_0x35fc15[_0x19cd70(0xc3)],_0x11c8c7),_0xec9b34[_0x19cd70(0x172)](_0x19cd70(0xee),_0x1fd840),_0xec9b34[_0x19cd70(0x172)](_0x35fc15[_0x19cd70(0xc3)],_0x332537),_0x35fc15['riPIb'](pump,_0xec9b34,_0x52c156,function(_0x1e3166){const _0x527abc=_0x19cd70;_0x5d3b77['error'](_0x1e3166,_0x527abc(0xe2));});});}),test(_0x102c05(0x14c),{'skip':process[_0x102c05(0x19d)]===_0x102c05(0xd5)},_0x38ccb8=>{const _0x428f9a=_0x102c05,_0x121dfd={'mkYbD':_0x428f9a(0xb6),'VewbM':_0x428f9a(0x141),'EroZJ':_0x428f9a(0x19f),'dsAlu':_0x428f9a(0x127),'PxVHY':_0x428f9a(0xbb),'xTTRr':function(_0x1b9299,_0x453005,_0x11ec47,_0x1bdfa1){return _0x1b9299(_0x453005,_0x11ec47,_0x1bdfa1);}};_0x38ccb8[_0x428f9a(0xdc)](0x4);const _0x409606=Fastify();_0x38ccb8[_0x428f9a(0x12f)](_0x409606[_0x428f9a(0x133)][_0x428f9a(0x17b)](_0x409606));const _0x23ac86={'addToBody':!![]};_0x409606['register'](multipart,_0x23ac86),_0x409606[_0x428f9a(0xe5)]('/',function(_0x1374be,_0x54fc23){const _0x6ea3d5=_0x428f9a;_0x38ccb8['match'](_0x1374be[_0x6ea3d5(0x189)]['myField'],['1','2','3']),_0x54fc23[_0x6ea3d5(0x11b)]('ok');}),_0x409606[_0x428f9a(0x14d)](0x0,function(){const _0x450296=_0x428f9a,_0x2718e2={'brMtk':_0x121dfd[_0x450296(0x17d)]},_0x4ec091=new FormData(),_0x863c6f={'protocol':_0x121dfd['VewbM'],'hostname':_0x121dfd[_0x450296(0x13e)],'port':_0x409606[_0x450296(0x130)][_0x450296(0xed)]()['port'],'path':'/','headers':_0x4ec091[_0x450296(0x10d)](),'method':_0x121dfd[_0x450296(0xde)]},_0x5923ba=http['request'](_0x863c6f,_0x37674a=>{const _0x41bbdb=_0x450296;_0x38ccb8[_0x41bbdb(0x155)](_0x37674a[_0x41bbdb(0x1af)],0xc8),_0x37674a[_0x41bbdb(0xb9)](),_0x37674a['on'](_0x41bbdb(0x157),()=>{const _0x1ebdd8=_0x41bbdb;_0x38ccb8[_0x1ebdd8(0x129)](_0x2718e2[_0x1ebdd8(0x166)]);});});_0x4ec091[_0x450296(0x172)](_0x121dfd[_0x450296(0x14f)],'1'),_0x4ec091[_0x450296(0x172)](_0x450296(0xbb),'2'),_0x4ec091['append']('myField','3'),_0x121dfd[_0x450296(0xea)](pump,_0x4ec091,_0x5923ba,function(_0x2f8f96){const _0x303296=_0x450296;_0x38ccb8[_0x303296(0x16f)](_0x2f8f96,_0x303296(0xe2));});});}),test(_0x102c05(0x103),{'skip':process[_0x102c05(0x19d)]===_0x102c05(0xd5)},_0x58a073=>{const _0x41b8c2=_0x102c05,_0x46b5c8={'caJec':function(_0x134df7){return _0x134df7();},'ZQgTH':_0x41b8c2(0x180),'SsGbS':_0x41b8c2(0x18d),'FcEnK':_0x41b8c2(0xda),'JzdgE':_0x41b8c2(0x141),'jencT':_0x41b8c2(0x19f),'oZDqY':_0x41b8c2(0x16b),'ckBgf':'myFile','ocklk':function(_0x57967a,_0x4a9e8e,_0x15cd17,_0x479a21){return _0x57967a(_0x4a9e8e,_0x15cd17,_0x479a21);}};_0x58a073[_0x41b8c2(0xdc)](0x7);const _0x2c27d1=Fastify();_0x58a073['teardown'](_0x2c27d1[_0x41b8c2(0x133)][_0x41b8c2(0x17b)](_0x2c27d1));const _0x2e770b={'addToBody':!![],'onFile':(_0x17fb33,_0x276744,_0x6fb2bb,_0x2f9c8d,_0x214c92)=>{const _0x19a304=_0x41b8c2;_0x58a073[_0x19a304(0x155)](_0x17fb33,_0x19a304(0xee)),_0x276744['resume']();}};_0x2c27d1[_0x41b8c2(0x1ab)](multipart,_0x2e770b),_0x2c27d1[_0x41b8c2(0xe5)]('/',function(_0x42bc3c,_0x2a3b34){const _0x3b11d9=_0x41b8c2;_0x46b5c8[_0x3b11d9(0x1b5)]!==_0x3b11d9(0xfa)?(_0x58a073[_0x3b11d9(0x155)](_0x42bc3c[_0x3b11d9(0x189)]['myField'],_0x3b11d9(0x113)),_0x58a073['equal'](_0x42bc3c['body'][_0x3b11d9(0x16b)],_0x46b5c8['SsGbS']),_0x58a073['match'](_0x42bc3c['body'][_0x3b11d9(0xee)],[{'data':[],'encoding':_0x3b11d9(0x171),'filename':_0x3b11d9(0x102),'limit':![],'mimetype':_0x46b5c8[_0x3b11d9(0x176)]}]),_0x2a3b34[_0x3b11d9(0x11b)]('ok')):(_0xe9f1d5[_0x3b11d9(0x129)](_0x3b11d9(0xb6)),_0x3917df[_0x3b11d9(0x133)](),_0x46b5c8[_0x3b11d9(0xe9)](_0x232a9));}),_0x2c27d1[_0x41b8c2(0x14d)](0x0,function(){const _0x591fb3=_0x41b8c2,_0x2c3e5e=new FormData(),_0x1647e5={'protocol':_0x46b5c8[_0x591fb3(0x199)],'hostname':_0x46b5c8[_0x591fb3(0x12e)],'port':_0x2c27d1[_0x591fb3(0x130)][_0x591fb3(0xed)]()[_0x591fb3(0xf3)],'path':'/','headers':_0x2c3e5e[_0x591fb3(0x10d)](),'method':_0x591fb3(0x127)},_0x4038b2=http[_0x591fb3(0x156)](_0x1647e5,_0x54d39e=>{const _0x5aeb8c=_0x591fb3,_0xdbabad={'SjuZu':'res\x20ended\x20successfully'};_0x58a073[_0x5aeb8c(0x155)](_0x54d39e[_0x5aeb8c(0x1af)],0xc8),_0x54d39e['resume'](),_0x54d39e['on'](_0x5aeb8c(0x157),()=>{const _0x144f6c=_0x5aeb8c;_0x58a073[_0x144f6c(0x129)](_0xdbabad['SjuZu']);});}),_0x523611=fs[_0x591fb3(0xe6)](filePath);_0x2c3e5e[_0x591fb3(0x172)](_0x591fb3(0xbb),'hello'),_0x2c3e5e[_0x591fb3(0x172)](_0x46b5c8[_0x591fb3(0x123)],_0x591fb3(0x18d)),_0x2c3e5e['append'](_0x46b5c8['ckBgf'],_0x523611),_0x46b5c8['ocklk'](pump,_0x2c3e5e,_0x4038b2,function(_0x1c69f6){const _0x46f8c3=_0x591fb3;_0x58a073[_0x46f8c3(0x16f)](_0x1c69f6,_0x46f8c3(0xe2));});});}),test(_0x102c05(0x193),{'skip':process[_0x102c05(0x19d)]===_0x102c05(0xd5)},_0x31790a=>{const _0x3f5c19=_0x102c05,_0x17b9f0={'euuwj':_0x3f5c19(0xda),'CWCkr':_0x3f5c19(0xb6),'xOBjh':_0x3f5c19(0xe2),'KuXhw':_0x3f5c19(0xee),'YBkuN':function(_0x2ba4a0,_0x21f482){return _0x2ba4a0===_0x21f482;},'uShzP':'kHwfJ','LPxjM':_0x3f5c19(0xbc),'TcgfS':_0x3f5c19(0x141)};_0x31790a[_0x3f5c19(0xdc)](0x5);const _0x1df724=Fastify();_0x31790a['teardown'](_0x1df724[_0x3f5c19(0x133)]['bind'](_0x1df724));const _0x2ede3c={'addToBody':!![],'onFile':async(_0x180255,_0x2a8296,_0x4427e5,_0x4ff2fb,_0x21f308)=>{const _0x1c3aa3=_0x3f5c19;await new Promise(_0x2b8bb7=>setTimeout(_0x2b8bb7,0xa)),_0x31790a[_0x1c3aa3(0x155)](_0x180255,'myFile'),_0x2a8296[_0x1c3aa3(0xb9)]();}};_0x1df724[_0x3f5c19(0x1ab)](multipart,_0x2ede3c),_0x1df724['post']('/',function(_0x466ce3,_0x37bc6a){const _0x30b1cb=_0x3f5c19;_0x31790a[_0x30b1cb(0xcf)](_0x466ce3[_0x30b1cb(0x189)][_0x30b1cb(0xee)],[{'data':[],'encoding':_0x30b1cb(0x171),'filename':_0x30b1cb(0x102),'limit':![],'mimetype':_0x17b9f0['euuwj']}]),_0x37bc6a[_0x30b1cb(0x11b)]('ok');}),_0x1df724['listen'](0x0,function(){const _0x23724c=_0x3f5c19,_0x5c879e={'XRDzZ':_0x17b9f0[_0x23724c(0x16c)],'ftdkG':'end'};if(_0x17b9f0[_0x23724c(0x188)]('nhEUN',_0x17b9f0[_0x23724c(0xcd)])){const _0x350134=new FormData(),_0x418cee={'protocol':_0x17b9f0[_0x23724c(0x122)],'hostname':_0x23724c(0x19f),'port':_0x1df724[_0x23724c(0x130)][_0x23724c(0xed)]()['port'],'path':'/','headers':_0x350134[_0x23724c(0x10d)](),'method':_0x23724c(0x127)},_0x1fb1d3=http[_0x23724c(0x156)](_0x418cee,_0x8f7efb=>{const _0x4c0b79=_0x23724c,_0x5a5be2={'rAiGC':_0x5c879e[_0x4c0b79(0x13f)]};_0x31790a[_0x4c0b79(0x155)](_0x8f7efb[_0x4c0b79(0x1af)],0xc8),_0x8f7efb['resume'](),_0x8f7efb['on'](_0x5c879e['ftdkG'],()=>{const _0x469207=_0x4c0b79;_0x31790a[_0x469207(0x129)](_0x5a5be2['rAiGC']);});}),_0x5514ed=fs[_0x23724c(0xe6)](filePath);_0x350134[_0x23724c(0x172)](_0x17b9f0['KuXhw'],_0x5514ed),pump(_0x350134,_0x1fb1d3,function(_0xcd97fe){const _0x120d8e=_0x23724c,_0x429b7b={'zgIjx':_0x17b9f0['CWCkr'],'sOYVo':_0x120d8e(0x157),'ezImV':_0x17b9f0[_0x120d8e(0x187)],'KOOUi':_0x120d8e(0x19f),'agfPK':_0x17b9f0[_0x120d8e(0x194)]};if(_0x17b9f0[_0x120d8e(0x188)](_0x120d8e(0x181),_0x17b9f0['uShzP']))_0x31790a['error'](_0xcd97fe,_0x17b9f0[_0x120d8e(0x187)]);else{const _0x3ddb85=new _0x4b59d9(),_0x5db4b9={'protocol':_0x120d8e(0x141),'hostname':_0x429b7b['KOOUi'],'port':_0xae3f59[_0x120d8e(0x130)][_0x120d8e(0xed)]()[_0x120d8e(0xf3)],'path':'/','headers':_0x3ddb85[_0x120d8e(0x10d)](),'method':'POST'},_0x299d92=_0x363635[_0x120d8e(0x156)](_0x5db4b9,_0x348645=>{const _0x1edc68=_0x120d8e,_0x1acf56={'RvaDT':_0x429b7b[_0x1edc68(0x190)]};_0x31e442[_0x1edc68(0x155)](_0x348645[_0x1edc68(0x1af)],0x1f4),_0x348645[_0x1edc68(0xb9)](),_0x348645['on'](_0x429b7b[_0x1edc68(0x14b)],()=>{const _0x4d74ce=_0x1edc68;_0x4e1870[_0x4d74ce(0x129)](_0x1acf56[_0x4d74ce(0x1b2)]);});}),_0x2c86b2=_0x5a9ffb[_0x120d8e(0xe6)](_0x1dbe70);_0x3ddb85['append'](_0x429b7b[_0x120d8e(0x107)],_0x2c86b2),_0xe983d0(_0x3ddb85,_0x299d92,function(_0x58d5d1){const _0x4dee7d=_0x120d8e;_0x489fd0[_0x4dee7d(0x16f)](_0x58d5d1,_0x429b7b[_0x4dee7d(0xd1)]);});}});}else _0x57274b[_0x23724c(0x155)](_0x2b8d33[_0x23724c(0x164)](_0x4e6770['data']),!![]);});}),test(_0x102c05(0x10f),{'skip':process[_0x102c05(0x19d)]===_0x102c05(0xd5)},_0x51c059=>{const _0x1782aa=_0x102c05,_0x546b29={'GrguP':_0x1782aa(0xc2),'UUvMZ':_0x1782aa(0xe2),'yAieI':_0x1782aa(0x12d),'Dzvvq':_0x1782aa(0x158),'NJJyJ':_0x1782aa(0x143),'RrIBA':_0x1782aa(0x127),'kodWq':function(_0x1adc39,_0x1c88c8,_0x525884,_0x2dac52){return _0x1adc39(_0x1c88c8,_0x525884,_0x2dac52);},'cuVfF':function(_0x5e035f){return _0x5e035f();}};_0x51c059[_0x1782aa(0xdc)](0x3);const _0x37b41e=_0x546b29[_0x1782aa(0xf1)](Fastify);_0x51c059['teardown'](_0x37b41e['close'][_0x1782aa(0x17b)](_0x37b41e));const _0x31032d={'addToBody':!![],'onFile':(_0x24aea2,_0xdf3207,_0x4f18a2,_0xddebd,_0x47e11c)=>{const _0x5e5d8e=_0x1782aa;return Promise[_0x5e5d8e(0x18e)](new Error(_0x546b29['GrguP']));}};_0x37b41e['register'](multipart,_0x31032d),_0x37b41e[_0x1782aa(0xe5)]('/',function(_0x2339fc,_0x4340e4){const _0x1d9f21=_0x1782aa;_0x546b29['yAieI']!==_0x546b29[_0x1d9f21(0xfe)]?_0x3507f2[_0x1d9f21(0x16f)](_0x8ec80b,_0x546b29[_0x1d9f21(0x1a8)]):_0x51c059[_0x1d9f21(0x15e)](_0x546b29[_0x1d9f21(0x140)]);}),_0x37b41e[_0x1782aa(0x14d)](0x0,function(){const _0x18d544=_0x1782aa,_0x56d19e=new FormData(),_0x5ab18a={'protocol':_0x18d544(0x141),'hostname':_0x18d544(0x19f),'port':_0x37b41e['server'][_0x18d544(0xed)]()[_0x18d544(0xf3)],'path':'/','headers':_0x56d19e[_0x18d544(0x10d)](),'method':_0x546b29['RrIBA']},_0x563ae2=http[_0x18d544(0x156)](_0x5ab18a,_0x393985=>{const _0x509df8=_0x18d544;_0x51c059['equal'](_0x393985[_0x509df8(0x1af)],0x1f4),_0x393985[_0x509df8(0xb9)](),_0x393985['on'](_0x509df8(0x157),()=>{const _0x2ec596=_0x509df8;_0x51c059[_0x2ec596(0x129)](_0x2ec596(0xb6));});}),_0x315e5e=fs['createReadStream'](filePath);_0x56d19e[_0x18d544(0x172)](_0x18d544(0xee),_0x315e5e),_0x546b29[_0x18d544(0x135)](pump,_0x56d19e,_0x563ae2,function(_0x4cf3f9){const _0x43d6a5=_0x18d544;_0x43d6a5(0x143)===_0x546b29[_0x43d6a5(0x10a)]?_0x51c059[_0x43d6a5(0x16f)](_0x4cf3f9,_0x546b29[_0x43d6a5(0x1a8)]):(_0x82d14e[_0x43d6a5(0x155)](_0x356e7b,'myFile'),_0x379a02[_0x43d6a5(0xb9)]());});});}),test('addToBody\x20with\x20shared\x20schema',{'skip':process[_0x102c05(0x19d)]===_0x102c05(0xd5)},_0x18b50d=>{const _0x1c862c=_0x102c05,_0x13fa1a={'nBfTZ':_0x1c862c(0xeb),'tscAS':_0x1c862c(0x171),'YcYzr':_0x1c862c(0xb5),'sIqvk':_0x1c862c(0xee),'lLVkM':_0x1c862c(0xc5),'rCIIF':_0x1c862c(0x141),'CpEAQ':function(_0x28308a,_0x5e85e1,_0x298f24,_0x3da292){return _0x28308a(_0x5e85e1,_0x298f24,_0x3da292);},'WvbfS':function(_0xa36aca){return _0xa36aca();},'gBLEg':_0x1c862c(0x17f)};_0x18b50d['plan'](0x9);const _0x27d45e=_0x13fa1a['WvbfS'](Fastify);_0x18b50d['teardown'](_0x27d45e[_0x1c862c(0x133)]['bind'](_0x27d45e)),_0x27d45e[_0x1c862c(0x1ab)](multipart,{'addToBody':!![],'sharedSchemaId':_0x13fa1a[_0x1c862c(0xc7)],'onFile':(_0x15b02a,_0x5e03b5,_0x313dcc,_0x283eec,_0x448191)=>{const _0x42f0bd=_0x1c862c,_0x4c9875=_0x13fa1a[_0x42f0bd(0x146)]['split']('|');let _0x443d30=0x0;while(!![]){switch(_0x4c9875[_0x443d30++]){case'0':_0x18b50d[_0x42f0bd(0x155)](_0x15b02a,_0x42f0bd(0xee));continue;case'1':_0x18b50d[_0x42f0bd(0x155)](_0x313dcc,_0x42f0bd(0x102));continue;case'2':_0x18b50d[_0x42f0bd(0x155)](_0x448191,_0x42f0bd(0xda));continue;case'3':_0x18b50d[_0x42f0bd(0x155)](_0x283eec,_0x42f0bd(0x171));continue;case'4':_0x5e03b5[_0x42f0bd(0xb9)]();continue;}break;}}}),_0x27d45e['after'](()=>{const _0x5bf46b=_0x1c862c;_0x27d45e[_0x5bf46b(0xe5)]('/',{'schema':{'body':{'type':_0x13fa1a[_0x5bf46b(0x13d)],'required':[_0x5bf46b(0xbb),_0x13fa1a['sIqvk']],'properties':{'myField':{'type':_0x5bf46b(0x169)},'myFile':{'type':_0x13fa1a[_0x5bf46b(0x12c)],'items':_0x27d45e['getSchema']('mySharedSchema')}}}}},function(_0x13b1ee,_0x3645cf){const _0x8d791c=_0x5bf46b;_0x18b50d[_0x8d791c(0x155)](_0x13b1ee[_0x8d791c(0x189)]['myField'],_0x8d791c(0x113)),_0x18b50d[_0x8d791c(0xcf)](_0x13b1ee[_0x8d791c(0x189)]['myFile'],[{'data':[],'encoding':_0x13fa1a[_0x8d791c(0x1ae)],'filename':_0x8d791c(0x102),'limit':![],'mimetype':_0x8d791c(0xda)}]),_0x3645cf[_0x8d791c(0x11b)]('ok');});}),_0x27d45e[_0x1c862c(0x14d)](0x0,function(){const _0x2229e1=_0x1c862c,_0x45b996=new FormData(),_0xa59d4b={'protocol':_0x13fa1a['rCIIF'],'hostname':_0x2229e1(0x19f),'port':_0x27d45e[_0x2229e1(0x130)]['address']()['port'],'path':'/','headers':_0x45b996[_0x2229e1(0x10d)](),'method':_0x2229e1(0x127)},_0x337e0f=http[_0x2229e1(0x156)](_0xa59d4b,_0x2ddc73=>{const _0x5695fb=_0x2229e1;_0x18b50d['equal'](_0x2ddc73[_0x5695fb(0x1af)],0xc8),_0x2ddc73[_0x5695fb(0xb9)](),_0x2ddc73['on'](_0x5695fb(0x157),()=>{const _0x506b5f=_0x5695fb;_0x18b50d[_0x506b5f(0x129)](_0x506b5f(0xb6)),_0x27d45e['close'](),_0x18b50d['end']();});}),_0x17c5e8=fs[_0x2229e1(0xe6)](filePath);_0x45b996[_0x2229e1(0x172)](_0x2229e1(0xbb),'hello'),_0x45b996[_0x2229e1(0x172)]('myFile',_0x17c5e8),_0x13fa1a[_0x2229e1(0xf0)](pump,_0x45b996,_0x337e0f,function(_0x301289){const _0x133fb3=_0x2229e1;_0x18b50d['error'](_0x301289,_0x133fb3(0xe2));});});}),test(_0x102c05(0x137),{'skip':process[_0x102c05(0x19d)]===_0x102c05(0xd5)},async _0x11b936=>{const _0x563fcd=_0x102c05,_0x260066={'RCLUC':_0x563fcd(0x113),'FvxxI':function(_0x9f35d1,_0x3094e8){return _0x9f35d1===_0x3094e8;},'EpJxK':'udBjH','UdKoR':_0x563fcd(0xee),'nWipp':_0x563fcd(0x171),'AItaN':_0x563fcd(0xda),'CdtiT':_0x563fcd(0x102),'SSEOd':function(_0x3cf035){return _0x3cf035();},'bhMtS':function(_0x39c981){return _0x39c981();},'PNpIR':'object','LQwzu':_0x563fcd(0x169),'MdHnq':'array','iAEVC':_0x563fcd(0x17f),'YWKSp':_0x563fcd(0x141),'RVPxX':_0x563fcd(0x19f),'TiQPy':_0x563fcd(0x127)},_0x604dff=_0x260066[_0x563fcd(0xf9)](Fastify);_0x11b936[_0x563fcd(0x12f)](_0x604dff['close'][_0x563fcd(0x17b)](_0x604dff)),await _0x604dff['register'](multipart,{'addToBody':!![],'sharedSchemaId':_0x563fcd(0x17f),'onFile':(_0x5daa6a,_0x49cdc0,_0x4d1d78,_0x4614b7,_0x49b146)=>{const _0x1c2e24=_0x563fcd,_0xa22c6c={'abufb':_0x260066['RCLUC'],'FtSBV':'7bit','bcUvE':'text/markdown'};_0x260066[_0x1c2e24(0x106)](_0x1c2e24(0x12a),_0x260066[_0x1c2e24(0xdf)])?(_0x11b936[_0x1c2e24(0x155)](_0x5daa6a,_0x260066['UdKoR']),_0x11b936[_0x1c2e24(0x155)](_0x4d1d78,_0x1c2e24(0x102)),_0x11b936[_0x1c2e24(0x155)](_0x4614b7,_0x260066[_0x1c2e24(0xd8)]),_0x11b936[_0x1c2e24(0x155)](_0x49b146,_0x260066['AItaN']),_0x49cdc0['resume']()):(_0x2a122e[_0x1c2e24(0x155)](_0x331dac[_0x1c2e24(0x189)][_0x1c2e24(0xbb)],_0xa22c6c['abufb']),_0x168b17[_0x1c2e24(0xcf)](_0x223a0d[_0x1c2e24(0x189)][_0x1c2e24(0xee)],[{'data':[],'encoding':_0xa22c6c[_0x1c2e24(0x128)],'filename':'README.md','limit':![],'mimetype':_0xa22c6c[_0x1c2e24(0x14e)]}]),_0x440450['send']('ok'));}}),_0x604dff[_0x563fcd(0xe5)]('/',{'schema':{'body':{'type':_0x260066[_0x563fcd(0xc0)],'required':[_0x563fcd(0xbb),'myFile'],'properties':{'myField':{'type':_0x260066[_0x563fcd(0xe8)]},'myFile':{'type':_0x260066[_0x563fcd(0xca)],'items':_0x604dff[_0x563fcd(0x18c)](_0x260066[_0x563fcd(0x1b0)])}}}}},function(_0x32203e,_0x57aa31){const _0x536fdc=_0x563fcd;_0x11b936[_0x536fdc(0x155)](_0x32203e[_0x536fdc(0x189)][_0x536fdc(0xbb)],_0x536fdc(0x113)),_0x11b936[_0x536fdc(0xcf)](_0x32203e[_0x536fdc(0x189)]['myFile'],[{'data':[],'encoding':_0x260066[_0x536fdc(0xd8)],'filename':_0x260066[_0x536fdc(0x19b)],'limit':![],'mimetype':_0x260066[_0x536fdc(0x15f)]}]),_0x57aa31[_0x536fdc(0x11b)]('ok');}),await _0x604dff[_0x563fcd(0x14d)](0x0);const _0x5313f6=new FormData(),_0x582486={'protocol':_0x260066[_0x563fcd(0xc1)],'hostname':_0x260066[_0x563fcd(0x117)],'port':_0x604dff[_0x563fcd(0x130)][_0x563fcd(0xed)]()[_0x563fcd(0xf3)],'path':'/','headers':_0x5313f6[_0x563fcd(0x10d)](),'method':_0x260066[_0x563fcd(0x160)]};return new Promise((_0x7166c6,_0x1a730f)=>{const _0x342aea=_0x563fcd,_0xa47acc={'DsMbF':_0x342aea(0xb6),'fSdRK':function(_0x18f12c){const _0x404e30=_0x342aea;return _0x260066[_0x404e30(0xfb)](_0x18f12c);}},_0x575a5b=http[_0x342aea(0x156)](_0x582486,_0xdfc448=>{const _0x23ed2a=_0x342aea;_0x11b936[_0x23ed2a(0x155)](_0xdfc448['statusCode'],0xc8),_0xdfc448['resume'](),_0xdfc448['on']('end',()=>{const _0x9af09a=_0x23ed2a;_0x11b936[_0x9af09a(0x129)](_0xa47acc[_0x9af09a(0x159)]),_0x604dff['close'](),_0xa47acc['fSdRK'](_0x7166c6);});}),_0x206230=fs[_0x342aea(0xe6)](filePath);_0x5313f6[_0x342aea(0x172)](_0x342aea(0xbb),_0x260066[_0x342aea(0xf5)]),_0x5313f6['append'](_0x260066[_0x342aea(0x112)],_0x206230),pump(_0x5313f6,_0x575a5b,function(_0x311106){const _0x5e95e8=_0x342aea;_0x11b936[_0x5e95e8(0x16f)](_0x311106,_0x5e95e8(0xe2));});});}),test('addToBody\x20with\x20shared\x20schema\x20error',{'skip':process[_0x102c05(0x19d)]===_0x102c05(0xd5)},_0xaed48f=>{const _0x37c1cc=_0x102c05,_0x235f32={'kodtM':_0x37c1cc(0x131),'NQYOD':_0x37c1cc(0xe2),'HhCCC':_0x37c1cc(0x141),'NZmVc':'object','ptcID':_0x37c1cc(0xbb),'ZlGsZ':'myFile','DhrjU':_0x37c1cc(0x17f)};_0xaed48f[_0x37c1cc(0xdc)](0x3);const _0x5b434f=Fastify();_0xaed48f[_0x37c1cc(0x12f)](_0x5b434f[_0x37c1cc(0x133)][_0x37c1cc(0x17b)](_0x5b434f)),_0x5b434f[_0x37c1cc(0x1ab)](multipart,{'addToBody':!![],'sharedSchemaId':_0x235f32[_0x37c1cc(0x13b)]})['then'](()=>{const _0x294d0f=_0x37c1cc,_0x26150a={'KiOpQ':'true','rWxKa':_0x235f32[_0x294d0f(0x121)],'TriCL':_0x235f32[_0x294d0f(0xdb)]};_0x5b434f[_0x294d0f(0xe5)]('/',{'schema':{'body':{'type':_0x235f32[_0x294d0f(0x1aa)],'required':[_0x235f32[_0x294d0f(0x1b3)],_0x235f32[_0x294d0f(0x184)]],'properties':{'myField':{'type':_0x294d0f(0x169)},'myFile':{'type':_0x294d0f(0xc5),'items':_0x5b434f['getSchema'](_0x294d0f(0x17f))}}}}},function(_0x2aeb0e,_0x5ca04b){const _0x461746=_0x294d0f;_0x461746(0x131)===_0x235f32[_0x461746(0xbd)]?_0x5ca04b[_0x461746(0x11b)]('ok'):_0x1fcaa3[_0x461746(0x16f)](_0x3ad5df,_0x461746(0xe2));}),_0x5b434f[_0x294d0f(0x14d)](0x0,function(){const _0xa379e5=_0x294d0f,_0x44b71b={'cCkrF':_0xa379e5(0x141),'cBBOc':_0xa379e5(0x19f),'FJqsw':_0x26150a[_0xa379e5(0x1a2)],'INvQA':_0x26150a['rWxKa'],'jnhMf':_0xa379e5(0x157)},_0x48e6e1=new FormData(),_0xa980c0={'protocol':_0x26150a[_0xa379e5(0x191)],'hostname':_0xa379e5(0x19f),'port':_0x5b434f['server']['address']()[_0xa379e5(0xf3)],'path':'/','headers':_0x48e6e1[_0xa379e5(0x10d)](),'method':_0xa379e5(0x127)},_0x2ad91c=http[_0xa379e5(0x156)](_0xa980c0,_0x4a2a58=>{const _0xaa06d2=_0xa379e5,_0x4368a3={'Xpwmh':_0xaa06d2(0xb6),'nswvA':_0x44b71b[_0xaa06d2(0x17a)]};if('UZjze'!==_0xaa06d2(0x19c))_0xaed48f[_0xaa06d2(0x155)](_0x4a2a58[_0xaa06d2(0x1af)],0x190),_0x4a2a58[_0xaa06d2(0xb9)](),_0x4a2a58['on'](_0x44b71b[_0xaa06d2(0x11a)],()=>{const _0x5bd23e=_0xaa06d2;_0xaed48f[_0x5bd23e(0x129)](_0x4368a3[_0x5bd23e(0xd4)]);});else{const _0x530ac0=new _0x40500d(),_0x3084b5={'protocol':_0x44b71b[_0xaa06d2(0x1b4)],'hostname':_0x44b71b['cBBOc'],'port':_0x7ab404[_0xaa06d2(0x130)][_0xaa06d2(0xed)]()[_0xaa06d2(0xf3)],'path':'/','headers':_0x530ac0[_0xaa06d2(0x10d)](),'method':_0xaa06d2(0x127)},_0x3f0805=_0x1cb533[_0xaa06d2(0x156)](_0x3084b5,_0x45334c=>{const _0x328162=_0xaa06d2,_0x4145b8={'XLdDd':_0x328162(0xb6)};_0x28742e[_0x328162(0x155)](_0x45334c[_0x328162(0x1af)],0xc8),_0x45334c[_0x328162(0xb9)](),_0x45334c['on'](_0x328162(0x157),()=>{const _0x52cc21=_0x328162;_0x3a9eeb[_0x52cc21(0x129)](_0x4145b8[_0x52cc21(0x179)]);});}),_0x1d927b=_0x4b51d2[_0xaa06d2(0xe6)](_0x448c0d);_0x530ac0[_0xaa06d2(0x172)]('myField',_0xaa06d2(0x113)),_0x530ac0['append'](_0xaa06d2(0x16b),_0x44b71b[_0xaa06d2(0x101)]),_0x530ac0[_0xaa06d2(0x172)](_0xaa06d2(0xee),_0x1d927b),_0x477d08(_0x530ac0,_0x3f0805,function(_0x53081b){const _0x47945e=_0xaa06d2;_0x344446[_0x47945e(0x16f)](_0x53081b,_0x4368a3[_0x47945e(0xe4)]);});}}),_0x367e79=fs[_0xa379e5(0xe6)](filePath);_0x48e6e1['append']('myFile',_0x367e79),pump(_0x48e6e1,_0x2ad91c,function(_0x26ba25){const _0x1bdcf9=_0xa379e5;_0xaed48f[_0x1bdcf9(0x16f)](_0x26ba25,_0x1bdcf9(0xe2));});});});}),test('addToBody\x20without\x20files\x20and\x20shared\x20schema',{'skip':process[_0x102c05(0x19d)]===_0x102c05(0xd5)},_0x16d038=>{const _0x5501a0=_0x102c05,_0xe2a089={'uPonK':'there\x20are\x20not\x20stream','yflxP':_0x5501a0(0x113),'zjloW':_0x5501a0(0xe2),'irQvh':_0x5501a0(0x127),'VZbQw':_0x5501a0(0xd0)};_0x16d038[_0x5501a0(0xdc)](0x5);const _0x5c7c14=Fastify();_0x16d038['teardown'](_0x5c7c14[_0x5501a0(0x133)][_0x5501a0(0x17b)](_0x5c7c14));const _0x37c99e={'addToBody':!![],'sharedSchemaId':_0x5501a0(0x17f),'onFile':(_0x527c58,_0x55a860,_0x528aee,_0x1c92fe,_0x5c9d0c)=>{const _0x5da53d=_0x5501a0;_0x16d038[_0x5da53d(0x15e)](_0xe2a089[_0x5da53d(0x111)]);}};_0x5c7c14['register'](multipart,_0x37c99e),_0x5c7c14[_0x5501a0(0xe5)]('/',{'schema':{'body':{'type':_0x5501a0(0xb5),'required':[_0x5501a0(0xbb),_0x5501a0(0xd0)],'properties':{'myField':{'type':_0x5501a0(0x169)},'myField2':{'type':_0x5501a0(0x169)}}}}},function(_0x19bce3,_0x4bb4ca){const _0x41e056=_0x5501a0;_0x16d038[_0x41e056(0x155)](_0x19bce3[_0x41e056(0x189)][_0x41e056(0xbb)],_0xe2a089[_0x41e056(0x185)]),_0x16d038['equal'](_0x19bce3[_0x41e056(0x189)]['myField2'],_0x41e056(0x145)),_0x4bb4ca[_0x41e056(0x11b)]('ok');}),_0x5c7c14[_0x5501a0(0x14d)](0x0,function(){const _0x5acb8f=_0x5501a0,_0x82c8b3={'GAsPR':function(_0x3e2238,_0x3341a5){return _0x3e2238===_0x3341a5;},'MJRht':_0x5acb8f(0xb6),'NtniI':'end','jivUQ':_0xe2a089[_0x5acb8f(0x19e)]},_0x132b9a=new FormData(),_0x29adcc={'protocol':'http:','hostname':_0x5acb8f(0x19f),'port':_0x5c7c14[_0x5acb8f(0x130)][_0x5acb8f(0xed)]()[_0x5acb8f(0xf3)],'path':'/','headers':_0x132b9a[_0x5acb8f(0x10d)](),'method':_0xe2a089[_0x5acb8f(0x19a)]},_0x499d85=http[_0x5acb8f(0x156)](_0x29adcc,_0x4bcb25=>{const _0xb09357=_0x5acb8f;_0x16d038['equal'](_0x4bcb25[_0xb09357(0x1af)],0xc8),_0x4bcb25[_0xb09357(0xb9)](),_0x4bcb25['on'](_0x82c8b3[_0xb09357(0x149)],()=>{const _0x223502=_0xb09357;_0x82c8b3['GAsPR'](_0x223502(0xfd),_0x223502(0xfd))?_0x16d038[_0x223502(0x129)](_0x82c8b3[_0x223502(0x114)]):_0x2285f6[_0x223502(0x16f)](_0x544ffb,_0x223502(0xe2));});});_0x132b9a['append']('myField',_0x5acb8f(0x113)),_0x132b9a[_0x5acb8f(0x172)](_0xe2a089[_0x5acb8f(0x139)],_0x5acb8f(0x145)),pump(_0x132b9a,_0x499d85,function(_0x52c83c){const _0xcea7de=_0x5acb8f;_0x16d038[_0xcea7de(0x16f)](_0x52c83c,_0x82c8b3['jivUQ']);});});}),test(_0x102c05(0xb3),{'skip':process[_0x102c05(0x19d)]==='win32'},_0x24c4ca=>{const _0x56c405=_0x102c05,_0x5e7b28={'KpEDg':_0x56c405(0x113),'wpLQn':function(_0x1ffa2d){return _0x1ffa2d();}};_0x24c4ca[_0x56c405(0xdc)](0x2);const _0x3e33a1=_0x5e7b28[_0x56c405(0x100)](Fastify);_0x24c4ca[_0x56c405(0x12f)](_0x3e33a1['close'][_0x56c405(0x17b)](_0x3e33a1)),_0x3e33a1['register'](multipart,{'addToBody':!![]}),_0x3e33a1[_0x56c405(0x182)]('/',async(_0x4cc8e4,_0x34d9f8)=>{const _0x4bc4d8=_0x56c405;_0x34d9f8['send'](_0x5e7b28[_0x4bc4d8(0xb8)]);}),_0x3e33a1[_0x56c405(0xe5)]('/',function(_0xe198ba,_0x436471){}),_0x3e33a1[_0x56c405(0x14d)](0x0,function(){const _0x116f3a=_0x56c405,_0x2c0ec2={'QYtVd':'hello'};_0x3e33a1[_0x116f3a(0xc6)]({'method':'GET','url':'/','port':_0x3e33a1[_0x116f3a(0x130)]['address']()['port']},(_0x32e0c8,_0x4fe4e6)=>{const _0x2596b3=_0x116f3a;_0x24c4ca[_0x2596b3(0x16f)](_0x32e0c8),_0x24c4ca['equal'](_0x4fe4e6['payload'],_0x2c0ec2[_0x2596b3(0x195)]);});});}),test(_0x102c05(0xf2),_0x4d779f=>{const _0x2f1b12=_0x102c05,_0x5cb54c={'SuHoa':'there\x20are\x20not\x20stream','lorLK':_0x2f1b12(0xb7),'EnULR':function(_0x3af4a7,_0x433c92){return _0x3af4a7===_0x433c92;},'QGBxA':'end','EArao':'client\x20pump:\x20no\x20err','eimmB':_0x2f1b12(0x141),'rXflI':_0x2f1b12(0x19f),'EZuZE':'POST','hIvbj':'myField','iGkoY':_0x2f1b12(0x113),'rmXyV':function(_0x337cc4,_0x1c8ef3,_0x3a0f9d,_0xe25c68){return _0x337cc4(_0x1c8ef3,_0x3a0f9d,_0xe25c68);},'bVXhS':function(_0x40d6d4){return _0x40d6d4();}};_0x4d779f[_0x2f1b12(0xdc)](0x3);const _0x19812f=_0x5cb54c[_0x2f1b12(0x142)](Fastify);_0x4d779f[_0x2f1b12(0x12f)](_0x19812f[_0x2f1b12(0x133)][_0x2f1b12(0x17b)](_0x19812f));const _0x1a6a92={'addToBody':!![],'onFile':(_0x25daa4,_0x57d21a,_0x42644c,_0x67eb4f,_0x2f7b0b)=>{const _0x22d22d=_0x2f1b12;_0x4d779f[_0x22d22d(0x15e)](_0x5cb54c['SuHoa']);}};_0x19812f[_0x2f1b12(0x1ab)](multipart,_0x1a6a92),_0x19812f[_0x2f1b12(0xe5)]('/',function(_0x8d95c7,_0x3db675){const _0x4748c6=_0x2f1b12;_0x4d779f[_0x4748c6(0x15e)](_0x5cb54c[_0x4748c6(0x13a)]);}),_0x19812f[_0x2f1b12(0x14d)](0x0,function(){const _0x13ee60=_0x2f1b12,_0x4e41bf=new FormData(),_0x2bd1b3={'protocol':_0x5cb54c[_0x13ee60(0x1a9)],'hostname':_0x5cb54c[_0x13ee60(0xbe)],'port':_0x19812f[_0x13ee60(0x130)][_0x13ee60(0xed)]()['port'],'path':'/','headers':_0x4e41bf['getHeaders'](),'method':_0x5cb54c[_0x13ee60(0x13c)]},_0x2accaa=http['request'](_0x2bd1b3,_0x2daae8=>{const _0x3d26eb=_0x13ee60,_0x8dd983={'qGKiS':function(_0x3b6e98,_0x33c112){const _0xf48478=_0x1943;return _0x5cb54c[_0xf48478(0x170)](_0x3b6e98,_0x33c112);},'CxSAB':'WpgXn','wXXwZ':_0x3d26eb(0xb6)};_0x4d779f[_0x3d26eb(0x155)](_0x2daae8[_0x3d26eb(0x1af)],0x1f4),_0x2daae8['resume'](),_0x2daae8['on'](_0x5cb54c[_0x3d26eb(0x116)],()=>{const _0x274f65=_0x3d26eb;_0x8dd983[_0x274f65(0x18b)](_0x8dd983[_0x274f65(0x154)],_0x274f65(0x18f))?_0x2a358f[_0x274f65(0xc6)]({'method':_0x274f65(0xd7),'url':'/','port':_0xbb1a14[_0x274f65(0x130)][_0x274f65(0xed)]()[_0x274f65(0xf3)]},(_0x2768d7,_0x4fbb3c)=>{const _0x37e51b=_0x274f65;_0x5b1a32[_0x37e51b(0x16f)](_0x2768d7),_0x420a47[_0x37e51b(0x155)](_0x4fbb3c[_0x37e51b(0x153)],_0x37e51b(0x113));}):_0x4d779f['pass'](_0x8dd983[_0x274f65(0x147)]);});});_0x4e41bf[_0x13ee60(0x172)](_0x5cb54c[_0x13ee60(0x11f)],_0x5cb54c[_0x13ee60(0x174)]),_0x4e41bf[_0x13ee60(0x172)](_0x13ee60(0xe7),_0x13ee60(0x145)),_0x5cb54c[_0x13ee60(0x1a0)](pump,_0x4e41bf,_0x2accaa,function(_0x5a2e39){const _0x27d364=_0x13ee60;_0x4d779f['error'](_0x5a2e39,_0x5cb54c[_0x27d364(0xfc)]);});});});