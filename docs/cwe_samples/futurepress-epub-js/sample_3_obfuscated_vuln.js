'use strict';const _0x3e624f=_0x1017;(function(_0x3eda65,_0x9a7f0){const _0x5865d2=_0x1017,_0x5d2b8d=_0x3eda65();while(!![]){try{const _0xa8c722=-parseInt(_0x5865d2(0x151))/0x1+parseInt(_0x5865d2(0x179))/0x2+parseInt(_0x5865d2(0x167))/0x3*(parseInt(_0x5865d2(0x14d))/0x4)+parseInt(_0x5865d2(0x180))/0x5*(parseInt(_0x5865d2(0x1a7))/0x6)+-parseInt(_0x5865d2(0x184))/0x7*(-parseInt(_0x5865d2(0x156))/0x8)+parseInt(_0x5865d2(0x197))/0x9*(parseInt(_0x5865d2(0x155))/0xa)+-parseInt(_0x5865d2(0x150))/0xb;if(_0xa8c722===_0x9a7f0)break;else _0x5d2b8d['push'](_0x5d2b8d['shift']());}catch(_0x474c8e){_0x5d2b8d['push'](_0x5d2b8d['shift']());}}}(_0x50ea,0x9841c));const {tearDown,test}=require(_0x3e624f(0x133)),Fastify=require('fastify'),proxy=require(_0x3e624f(0x11e)),got=require(_0x3e624f(0x12c)),{Unauthorized}=require(_0x3e624f(0x1a5)),Transform=require(_0x3e624f(0x17a))[_0x3e624f(0x143)];async function run(){const _0x51bd9e=_0x3e624f,_0x1f3159={'DGkfo':_0x51bd9e(0x19c),'fUYpi':function(_0x2bd984,_0x35095a){return _0x2bd984===_0x35095a;},'VfJrs':_0x51bd9e(0x15a),'PImLq':'Yuzdf','LeRtM':_0x51bd9e(0x153),'ABmXS':'ZxlHP','WiTCq':function(_0xdcbe3,_0x4effc6){return _0xdcbe3===_0x4effc6;},'hROiq':_0x51bd9e(0x17c),'zlUbJ':function(_0x2962cd,_0x319077){return _0x2962cd(_0x319077);},'MotcP':_0x51bd9e(0x135),'YrgYh':_0x51bd9e(0x11f),'cWHIj':function(_0x13a2ab,_0x581576){return _0x13a2ab(_0x581576);},'TvLEn':function(_0x93e5fa){return _0x93e5fa();},'HsNCe':function(_0x4a665c,_0x292032,_0x5d4c34){return _0x4a665c(_0x292032,_0x5d4c34);},'njpwm':_0x51bd9e(0x19b),'seLzf':_0x51bd9e(0x166),'VTLtR':'POST','fTUTJ':_0x51bd9e(0x152),'RCMQl':function(_0x1ec8a5){return _0x1ec8a5();},'wvheO':function(_0x80c539,_0x58b40b){return _0x80c539===_0x58b40b;},'qhvms':_0x51bd9e(0x17f),'WgSVx':_0x51bd9e(0x181),'qpfNv':function(_0x28dc5e,_0x5acc4c){return _0x28dc5e(_0x5acc4c);},'hZibB':_0x51bd9e(0x16f),'QIelE':function(_0x368caa){return _0x368caa();},'CYsLO':function(_0x565eb8,_0x1274cf){return _0x565eb8(_0x1274cf);},'ehHfz':'test','CDbma':function(_0x266266){return _0x266266();},'bsVXl':_0x51bd9e(0x188),'wiSxM':_0x51bd9e(0x175),'mhgNO':_0x51bd9e(0x192),'sWhOr':'/api/something','CLSFC':function(_0x41e0e0){return _0x41e0e0();},'SDGSK':_0x51bd9e(0x189),'QNrHX':_0x51bd9e(0x15f),'YWWMU':_0x51bd9e(0x127),'LJJvP':function(_0x593e29){return _0x593e29();},'vDGkh':function(_0x4ff8aa,_0x3a1ade,_0x22bff1){return _0x4ff8aa(_0x3a1ade,_0x22bff1);},'HZEQa':function(_0x32ca9f){return _0x32ca9f();},'NxOia':_0x51bd9e(0x141),'QQXFt':'/this-has-data','LazeG':function(_0x246eef,_0x169a6a){return _0x246eef(_0x169a6a);},'ybCjL':function(_0x299c12,_0x1fe63b,_0x331979){return _0x299c12(_0x1fe63b,_0x331979);},'rFHOk':_0x51bd9e(0x142),'QOjhT':_0x51bd9e(0x125),'ngXsv':_0x51bd9e(0x14a),'sKDXg':'preHandler','kHlTn':_0x51bd9e(0x147),'MfSxM':_0x51bd9e(0x13f),'WCpZh':'rewrite\x20location\x20headers'},_0x46aaef=Fastify();_0x46aaef[_0x51bd9e(0x1a4)]('/',async(_0x55dc81,_0x520d50)=>{const _0x2f42a7=_0x51bd9e;return _0x1f3159[_0x2f42a7(0x19e)](_0x1f3159['VfJrs'],_0x1f3159[_0x2f42a7(0x158)])?_0x1f3159[_0x2f42a7(0x16e)]:_0x1f3159['LeRtM'];}),_0x46aaef[_0x51bd9e(0x1a4)]('/a',async(_0x4866e3,_0x2654d0)=>{return'this\x20is\x20a';}),_0x46aaef[_0x51bd9e(0x128)](_0x1f3159['QQXFt'],async(_0x163afd,_0x36b0b4)=>{const _0x1eb7b6=_0x51bd9e;if(_0x1f3159[_0x1eb7b6(0x19e)](_0x1f3159[_0x1eb7b6(0x132)],_0x1f3159[_0x1eb7b6(0x132)])){if(_0x1f3159[_0x1eb7b6(0x176)](_0x163afd[_0x1eb7b6(0x182)]['hello'],_0x1eb7b6(0x152)))return _0x36b0b4['header'](_0x1eb7b6(0x14c),'/something'),{'something':_0x1eb7b6(0x166)};throw new Error(_0x1f3159[_0x1eb7b6(0x190)]);}else _0x76e5c7['equal'](_0x1c34eb[_0x1eb7b6(0x16b)][_0x1eb7b6(0x16a)],0x191),_0x503b2d=!![];}),_0x46aaef['get']('/api2/a',async(_0x24699f,_0x35fce4)=>{const _0xba4f1d=_0x51bd9e;return _0xba4f1d(0x19c);}),_0x46aaef['get'](_0x51bd9e(0x1a0),async(_0x45c684,_0x36e5a6)=>{const _0x1a574b=_0x51bd9e;return await new Promise(_0x489584=>setTimeout(_0x489584,0x258)),_0x1a574b(0x146);}),await _0x46aaef[_0x51bd9e(0x178)](0x0),_0x1f3159[_0x51bd9e(0x122)](tearDown,_0x46aaef[_0x51bd9e(0x159)][_0x51bd9e(0x173)](_0x46aaef)),_0x1f3159[_0x51bd9e(0x13a)](test,_0x1f3159[_0x51bd9e(0x160)],async _0x2f2be1=>{const _0x4294b3=_0x51bd9e,_0x423050=Fastify();_0x423050[_0x4294b3(0x18f)](proxy,{'upstream':_0x4294b3(0x18d)+_0x46aaef[_0x4294b3(0x134)][_0x4294b3(0x157)]()[_0x4294b3(0x12f)]}),await _0x423050['listen'](0x0),_0x2f2be1[_0x4294b3(0x191)](_0x423050[_0x4294b3(0x159)][_0x4294b3(0x173)](_0x423050));const _0x5142ba=await _0x1f3159['zlUbJ'](got,_0x4294b3(0x18d)+_0x423050['server'][_0x4294b3(0x157)]()[_0x4294b3(0x12f)]);_0x2f2be1[_0x4294b3(0x193)](_0x5142ba[_0x4294b3(0x182)],_0x4294b3(0x153));const _0x4e715d=await _0x1f3159['zlUbJ'](got,_0x4294b3(0x18d)+_0x423050[_0x4294b3(0x134)][_0x4294b3(0x157)]()['port']+'/a');_0x2f2be1[_0x4294b3(0x193)](_0x4e715d[_0x4294b3(0x182)],_0x1f3159[_0x4294b3(0x174)]);}),test(_0x51bd9e(0x12b),async _0x4de1c4=>{const _0x345a3f=_0x51bd9e,_0x35305c=Fastify();_0x35305c[_0x345a3f(0x18f)](proxy);try{await _0x35305c['ready']();}catch(_0x410ddd){_0x4de1c4[_0x345a3f(0x193)](_0x410ddd[_0x345a3f(0x144)],_0x1f3159[_0x345a3f(0x171)]);return;}_0x4de1c4[_0x345a3f(0x199)]();}),test(_0x1f3159[_0x51bd9e(0x138)],async _0x37ce33=>{const _0x4eb20b=_0x51bd9e,_0x55513f=Fastify();_0x55513f[_0x4eb20b(0x18f)](proxy,{'upstream':_0x4eb20b(0x18d)+_0x46aaef[_0x4eb20b(0x134)][_0x4eb20b(0x157)]()[_0x4eb20b(0x12f)],'prefix':_0x4eb20b(0x120)}),await _0x55513f[_0x4eb20b(0x178)](0x0),_0x37ce33['tearDown'](_0x55513f[_0x4eb20b(0x159)][_0x4eb20b(0x173)](_0x55513f));const _0x4bf3f4=await got(_0x4eb20b(0x18d)+_0x55513f[_0x4eb20b(0x134)][_0x4eb20b(0x157)]()[_0x4eb20b(0x12f)]+'/my-prefix/');_0x37ce33[_0x4eb20b(0x193)](_0x4bf3f4[_0x4eb20b(0x182)],_0x1f3159[_0x4eb20b(0x169)]);const _0x23d8fd=await _0x1f3159[_0x4eb20b(0x126)](got,_0x4eb20b(0x18d)+_0x55513f[_0x4eb20b(0x134)][_0x4eb20b(0x157)]()[_0x4eb20b(0x12f)]+_0x4eb20b(0x120));_0x37ce33['equal'](_0x23d8fd[_0x4eb20b(0x182)],_0x1f3159[_0x4eb20b(0x169)]);const _0x2c2a45=await got(_0x4eb20b(0x18d)+_0x55513f[_0x4eb20b(0x134)]['address']()[_0x4eb20b(0x12f)]+_0x4eb20b(0x19f));_0x37ce33[_0x4eb20b(0x193)](_0x2c2a45[_0x4eb20b(0x182)],_0x1f3159[_0x4eb20b(0x174)]);}),test(_0x1f3159[_0x51bd9e(0x187)],async _0x398970=>{const _0x1bf5fc=_0x51bd9e,_0x2aa519=_0x1f3159[_0x1bf5fc(0x17e)](Fastify);_0x2aa519['register'](proxy,{'upstream':_0x1bf5fc(0x18d)+_0x46aaef['server'][_0x1bf5fc(0x157)]()[_0x1bf5fc(0x12f)]}),await _0x2aa519[_0x1bf5fc(0x178)](0x0),_0x398970[_0x1bf5fc(0x191)](_0x2aa519[_0x1bf5fc(0x159)]['bind'](_0x2aa519));const _0x23da52=await _0x1f3159[_0x1bf5fc(0x161)](got,_0x1bf5fc(0x18d)+_0x2aa519[_0x1bf5fc(0x134)]['address']()[_0x1bf5fc(0x12f)]+_0x1bf5fc(0x18e),{'method':_0x1bf5fc(0x13b),'json':{'hello':_0x1bf5fc(0x152)},'responseType':_0x1f3159[_0x1bf5fc(0x145)]});_0x398970[_0x1bf5fc(0x194)](_0x23da52[_0x1bf5fc(0x182)],{'something':_0x1f3159[_0x1bf5fc(0x1a6)]});}),test(_0x51bd9e(0x149),async _0x3b8e7b=>{const _0x3d702a=_0x51bd9e,_0x30b811=Fastify();_0x30b811[_0x3d702a(0x18f)](proxy,{'upstream':_0x3d702a(0x18d)+_0x46aaef[_0x3d702a(0x134)][_0x3d702a(0x157)]()[_0x3d702a(0x12f)],'proxyPayloads':![],'preHandler'(_0x394c88,_0x553ce1,_0x4a40a5){const _0x3fe01a=_0x3d702a;_0x3b8e7b[_0x3fe01a(0x194)](_0x394c88[_0x3fe01a(0x182)],{'hello':_0x3fe01a(0x152)}),_0x4a40a5();}}),await _0x30b811[_0x3d702a(0x178)](0x0),_0x3b8e7b['tearDown'](_0x30b811[_0x3d702a(0x159)][_0x3d702a(0x173)](_0x30b811)),await _0x1f3159['HsNCe'](got,'http://localhost:'+_0x30b811[_0x3d702a(0x134)][_0x3d702a(0x157)]()[_0x3d702a(0x12f)]+_0x3d702a(0x18e),{'method':_0x1f3159[_0x3d702a(0x172)],'json':{'hello':_0x1f3159['fTUTJ']},'responseType':_0x3d702a(0x19b)});}),test(_0x1f3159[_0x51bd9e(0x196)],async _0x3afac9=>{const _0x44712b=_0x51bd9e,_0x22844b={'lzFUk':_0x44712b(0x14c)},_0x30f583=_0x1f3159[_0x44712b(0x18b)](Fastify);_0x30f583['register'](proxy,{'upstream':_0x44712b(0x18d)+_0x46aaef[_0x44712b(0x134)][_0x44712b(0x157)]()[_0x44712b(0x12f)],async 'preHandler'(_0x4a0cf5,_0x162165){throw new Unauthorized();}}),await _0x30f583[_0x44712b(0x178)](0x0),_0x3afac9[_0x44712b(0x191)](_0x30f583[_0x44712b(0x159)][_0x44712b(0x173)](_0x30f583));let _0x17b761=![];try{await got(_0x44712b(0x18d)+_0x30f583[_0x44712b(0x134)][_0x44712b(0x157)]()[_0x44712b(0x12f)]);}catch(_0x29a0ec){if(_0x1f3159['wvheO'](_0x44712b(0x17f),_0x1f3159[_0x44712b(0x13e)]))_0x3afac9['equal'](_0x29a0ec[_0x44712b(0x16b)][_0x44712b(0x16a)],0x191),_0x17b761=!![];else return _0x5d7be0[_0x44712b(0x170)](_0x22844b['lzFUk'],_0x44712b(0x12a)),{'something':_0x44712b(0x166)};}_0x3afac9['ok'](_0x17b761),_0x17b761=![];try{await got('http://localhost:'+_0x30f583[_0x44712b(0x134)][_0x44712b(0x157)]()[_0x44712b(0x12f)]+'/a');}catch(_0x5a2e9e){_0x3afac9['equal'](_0x5a2e9e[_0x44712b(0x16b)][_0x44712b(0x16a)],0x191),_0x17b761=!![];}_0x3afac9['ok'](_0x17b761);}),_0x1f3159[_0x51bd9e(0x148)](test,_0x1f3159[_0x51bd9e(0x1a2)],async _0x3b89ca=>{const _0x2080a9=_0x51bd9e,_0x554cad={'afavV':_0x2080a9(0x168),'hRnxd':_0x1f3159['WgSVx'],'ZJVqq':_0x2080a9(0x177),'VKVnk':_0x2080a9(0x139)},_0x3a32fa=Fastify();_0x3a32fa[_0x2080a9(0x18f)](proxy,{'upstream':'http://localhost:'+_0x46aaef[_0x2080a9(0x134)][_0x2080a9(0x157)]()['port'],'config':{'foo':'bar'},async 'preHandler'(_0x4b6fc7,_0xa28592){const _0x5d2b3f=_0x2080a9;_0x3b89ca[_0x5d2b3f(0x194)](_0xa28592[_0x5d2b3f(0x15c)][_0x5d2b3f(0x15e)],{'foo':_0x5d2b3f(0x1a8),'url':'/*','method':[_0x554cad[_0x5d2b3f(0x17d)],_0x554cad['hRnxd'],_0x554cad['ZJVqq'],_0x554cad['VKVnk'],'POST',_0x5d2b3f(0x11d),_0x5d2b3f(0x129)]});throw new Unauthorized();}}),await _0x3a32fa['listen'](0x0),_0x3b89ca[_0x2080a9(0x191)](_0x3a32fa[_0x2080a9(0x159)][_0x2080a9(0x173)](_0x3a32fa));let _0x3f0e0b=![];try{await _0x1f3159[_0x2080a9(0x14b)](got,_0x2080a9(0x18d)+_0x3a32fa[_0x2080a9(0x134)][_0x2080a9(0x157)]()[_0x2080a9(0x12f)]);}catch(_0x47ae8a){_0x3b89ca[_0x2080a9(0x193)](_0x47ae8a[_0x2080a9(0x16b)][_0x2080a9(0x16a)],0x191),_0x3f0e0b=!![];}_0x3b89ca['ok'](_0x3f0e0b);}),test(_0x1f3159[_0x51bd9e(0x164)],async _0x3db66c=>{const _0x3587c6=_0x51bd9e,_0x380eb6={'vktex':'syAiY'},_0x1f3606=_0x1f3159[_0x3587c6(0x1a1)](Fastify);_0x1f3606['get']('/',async(_0x43695a,_0x53cc5c)=>{const _0x3e90a4=_0x3587c6;return _0x1f3159[_0x3e90a4(0x14e)];}),await _0x1f3606[_0x3587c6(0x178)](0x0);const _0x5ee7f9=Fastify();_0x5ee7f9['register'](proxy,{'upstream':_0x3587c6(0x18d)+_0x46aaef[_0x3587c6(0x134)][_0x3587c6(0x157)]()['port'],'prefix':'/api'}),_0x5ee7f9['register'](proxy,{'upstream':_0x3587c6(0x18d)+_0x1f3606[_0x3587c6(0x134)][_0x3587c6(0x157)]()[_0x3587c6(0x12f)],'prefix':_0x3587c6(0x188)}),await _0x5ee7f9[_0x3587c6(0x178)](0x0),_0x3db66c['tearDown'](()=>{const _0x2a64ce=_0x3587c6;if(_0x2a64ce(0x163)===_0x380eb6[_0x2a64ce(0x130)])throw new _0x540806();else _0x1f3606['close'](),_0x5ee7f9[_0x2a64ce(0x159)]();});const _0xe4ca08=await got('http://localhost:'+_0x5ee7f9['server']['address']()[_0x3587c6(0x12f)]+_0x3587c6(0x15f));_0x3db66c[_0x3587c6(0x193)](_0xe4ca08[_0x3587c6(0x182)],_0x1f3159[_0x3587c6(0x169)]);const _0x170e22=await got(_0x3587c6(0x18d)+_0x5ee7f9[_0x3587c6(0x134)][_0x3587c6(0x157)]()['port']+'/api2');_0x3db66c[_0x3587c6(0x193)](_0x170e22['body'],_0x1f3159[_0x3587c6(0x14e)]);}),test(_0x51bd9e(0x186),async _0x33f590=>{const _0x1853c1=_0x51bd9e,_0xab5cf=Fastify();_0xab5cf['register'](proxy,{'upstream':_0x1853c1(0x18d)+_0x46aaef[_0x1853c1(0x134)][_0x1853c1(0x157)]()[_0x1853c1(0x12f)],'prefix':_0x1853c1(0x15f),'replyOptions':{'rewriteHeaders':_0x449734=>Object[_0x1853c1(0x183)]({'x-test':_0x1853c1(0x19d)},_0x449734)}}),await _0xab5cf[_0x1853c1(0x178)](0x0),_0x33f590['tearDown'](()=>{const _0x418c48=_0x1853c1;_0xab5cf[_0x418c48(0x159)]();});const {headers:_0x419062}=await _0x1f3159[_0x1853c1(0x140)](got,_0x1853c1(0x18d)+_0xab5cf['server'][_0x1853c1(0x157)]()[_0x1853c1(0x12f)]+_0x1853c1(0x15f));_0x33f590[_0x1853c1(0x154)](_0x419062,{'x-test':_0x1f3159[_0x1853c1(0x123)]});}),test(_0x51bd9e(0x195),async _0x555cc1=>{const _0x4fdc90=_0x51bd9e,_0x551d99=_0x1f3159[_0x4fdc90(0x198)](Fastify);_0x551d99[_0x4fdc90(0x18f)](proxy,{'upstream':_0x4fdc90(0x18d)+_0x46aaef[_0x4fdc90(0x134)][_0x4fdc90(0x157)]()[_0x4fdc90(0x12f)],'prefix':_0x4fdc90(0x15f),'rewritePrefix':_0x1f3159[_0x4fdc90(0x185)]}),await _0x551d99[_0x4fdc90(0x178)](0x0),_0x555cc1[_0x4fdc90(0x191)](()=>{const _0x36c30c=_0x4fdc90;_0x551d99[_0x36c30c(0x159)]();});const _0x77e691=await got(_0x4fdc90(0x18d)+_0x551d99[_0x4fdc90(0x134)][_0x4fdc90(0x157)]()['port']+'/api/a');_0x555cc1['equal'](_0x77e691[_0x4fdc90(0x182)],_0x4fdc90(0x19c));}),test(_0x1f3159['WCpZh'],async _0x2290a1=>{const _0x460238=_0x51bd9e;if(_0x1f3159[_0x460238(0x13d)](_0x1f3159[_0x460238(0x162)],_0x1f3159[_0x460238(0x124)]))return _0x1f3159[_0x460238(0x169)];else{const _0x132682=Fastify();_0x132682[_0x460238(0x18f)](proxy,{'upstream':'http://localhost:'+_0x46aaef[_0x460238(0x134)]['address']()[_0x460238(0x12f)],'prefix':_0x460238(0x15f)}),await _0x132682[_0x460238(0x178)](0x0),_0x2290a1['tearDown'](()=>{_0x132682['close']();});const {headers:{location:_0x2ff755}}=await _0x1f3159[_0x460238(0x161)](got,_0x460238(0x18d)+_0x132682['server'][_0x460238(0x157)]()[_0x460238(0x12f)]+_0x460238(0x18c),{'method':_0x1f3159[_0x460238(0x172)],'json':{'hello':_0x460238(0x152)}});_0x2290a1[_0x460238(0x193)](_0x2ff755,_0x1f3159[_0x460238(0x16d)]);}}),test(_0x51bd9e(0x17b),async _0xf80ce=>{const _0x1ffd43=_0x51bd9e,_0xd8bbed=Fastify();_0xd8bbed[_0x1ffd43(0x18f)](proxy,{'upstream':_0x1ffd43(0x18d)+_0x46aaef['server'][_0x1ffd43(0x157)]()[_0x1ffd43(0x12f)],'prefix':_0x1f3159[_0x1ffd43(0x1a3)],'replyOptions':{'onResponse'(_0x577126,_0x140e2c,_0x24cbe1){const _0x13f7a6=_0x1ffd43,_0x29123f={'eCEgC':function(_0x1dbf23){const _0x54cc84=_0x1017;return _0x1f3159[_0x54cc84(0x15d)](_0x1dbf23);}};return _0x140e2c[_0x13f7a6(0x137)](_0x24cbe1[_0x13f7a6(0x12d)](new Transform({'transform':function(_0x7c1343,_0x394bb5,_0x1bccd7){const _0xc8991f=_0x13f7a6;this[_0xc8991f(0x165)](_0x7c1343[_0xc8991f(0x136)]()[_0xc8991f(0x15b)]()),_0x29123f[_0xc8991f(0x13c)](_0x1bccd7);}})));}}}),await _0xd8bbed[_0x1ffd43(0x178)](0x0),_0xf80ce[_0x1ffd43(0x191)](()=>{const _0x2ad91c=_0x1ffd43;_0x2ad91c(0x189)!==_0x1f3159[_0x2ad91c(0x18a)]?(_0x28779d[_0x2ad91c(0x193)](_0x303156[_0x2ad91c(0x16b)][_0x2ad91c(0x16a)],0x191),_0x59b041=!![]):_0xd8bbed[_0x2ad91c(0x159)]();});const {body:_0x4b606f}=await got(_0x1ffd43(0x18d)+_0xd8bbed[_0x1ffd43(0x134)][_0x1ffd43(0x157)]()[_0x1ffd43(0x12f)]+_0x1ffd43(0x15f));_0xf80ce['match'](_0x4b606f,_0x1f3159[_0x1ffd43(0x16c)]);}),test(_0x51bd9e(0x131),async _0xd460cd=>{const _0x24076f=_0x51bd9e,_0x9fc42=_0x1f3159['LJJvP'](Fastify);_0x9fc42['register'](proxy,{'upstream':_0x24076f(0x18d)+_0x46aaef[_0x24076f(0x134)][_0x24076f(0x157)]()[_0x24076f(0x12f)],'undici':!![]}),await _0x9fc42[_0x24076f(0x178)](0x0),_0xd460cd[_0x24076f(0x191)](()=>{const _0x4e7460=_0x24076f;_0x9fc42[_0x4e7460(0x159)]();});const {headers:{location:_0x2759fd}}=await _0x1f3159[_0x24076f(0x148)](got,_0x24076f(0x18d)+_0x9fc42[_0x24076f(0x134)][_0x24076f(0x157)]()[_0x24076f(0x12f)]+_0x24076f(0x18e),{'method':_0x1f3159[_0x24076f(0x172)],'json':{'hello':_0x1f3159[_0x24076f(0x12e)]}});_0xd460cd[_0x24076f(0x193)](_0x2759fd,'/something');}),test(_0x51bd9e(0x14f),async _0x22bbd2=>{const _0xf0af57=_0x51bd9e,_0x38e309=_0x1f3159['HZEQa'](Fastify);_0x38e309['register'](proxy,{'upstream':_0xf0af57(0x18d)+_0x46aaef[_0xf0af57(0x134)][_0xf0af57(0x157)]()[_0xf0af57(0x12f)],'http':{'requestOptions':{'timeout':0x12c}}}),await _0x38e309['listen'](0x0),_0x22bbd2['tearDown'](_0x38e309[_0xf0af57(0x159)]['bind'](_0x38e309));try{await _0x1f3159[_0xf0af57(0x148)](got,_0xf0af57(0x18d)+_0x38e309[_0xf0af57(0x134)]['address']()['port']+_0xf0af57(0x1a0),{'retry':0x0});}catch(_0x32a1f6){_0x22bbd2[_0xf0af57(0x193)](_0x32a1f6[_0xf0af57(0x16b)]['statusCode'],0x1f8),_0x22bbd2['equal'](_0x32a1f6['response'][_0xf0af57(0x121)],_0x1f3159[_0xf0af57(0x19a)]);return;}_0x22bbd2['fail']();});}function _0x1017(_0xc9696c,_0x29cf24){const _0x50eabc=_0x50ea();return _0x1017=function(_0x101741,_0x21f6a2){_0x101741=_0x101741-0x11d;let _0x3809a4=_0x50eabc[_0x101741];return _0x3809a4;},_0x1017(_0xc9696c,_0x29cf24);}run();function _0x50ea(){const _0x1db69e=['tearDown','kAkYS','equal','deepEqual','rewritePrefix','sKDXg','585JAugBA','CDbma','fail','NxOia','json','this\x20is\x20/api2/a','test','fUYpi','/my-prefix/a','/timeout','QIelE','kHlTn','QNrHX','get','http-errors','seLzf','6UvDDeb','bar','PUT','../','upstream\x20must\x20be\x20specified','/my-prefix','statusMessage','LazeG','ehHfz','mhgNO','prefixed\x20proxy','cWHIj','THIS\x20IS\x20ROOT','post','OPTIONS','/something','no\x20upstream\x20will\x20throw','got','pipe','fTUTJ','port','vktex','undici\x20POST','ABmXS','tap','server','this\x20is\x20a','toString','send','QOjhT','PATCH','ybCjL','POST','eCEgC','wvheO','qhvms','multiple\x20prefixes\x20with\x20multiple\x20plugins','CYsLO','Gateway\x20Timeout','basic\x20proxy','Transform','message','njpwm','this\x20is\x20never\x20received','preHandler\x20gets\x20config','vDGkh','skip\x20proxying\x20the\x20incoming\x20payload','posting\x20stuff','qpfNv','location','20IIUFMp','hZibB','proxy\x20request\x20timeout','14849945cCQwjF','937333JYJNAo','world','this\x20is\x20root','match','141750frCDsC','706136KIiDgn','address','PImLq','close','svpqL','toUpperCase','context','CLSFC','config','/api','rFHOk','HsNCe','wiSxM','OaiOK','MfSxM','push','posted','598872BHENoX','DELETE','LeRtM','statusCode','response','YWWMU','sWhOr','DGkfo','this\x20is\x20root\x20for\x20origin2','header','YrgYh','VTLtR','bind','MotcP','anTle','WiTCq','HEAD','listen','720458OrUlIn','stream','passes\x20onResponse\x20option\x20to\x20reply.from()\x20calls','kaboom','afavV','TvLEn','nkhDz','949565lzYmsn','GET','body','assign','35XwjaYr','bsVXl','passes\x20replyOptions\x20object\x20to\x20reply.from()\x20calls','ngXsv','/api2','WLyNu','SDGSK','RCMQl','/api/this-has-data','http://localhost:','/this-has-data','register','hROiq'];_0x50ea=function(){return _0x1db69e;};return _0x50ea();}