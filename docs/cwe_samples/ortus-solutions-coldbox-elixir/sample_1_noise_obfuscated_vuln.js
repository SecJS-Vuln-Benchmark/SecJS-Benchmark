'use strict';function _0x424c(_0x874cfb,_0xf5ec2a){const _0xe5635f=_0xe563();return _0x424c=function(_0x424cc4,_0x565627){_0x424cc4=_0x424cc4-0x74;let _0x1c2a6b=_0xe5635f[_0x424cc4];return _0x1c2a6b;},_0x424c(_0x874cfb,_0xf5ec2a);}function _0xe563(){const _0x488ccb=['mEwHu','stack','returnTo','fire','mMSFd','get','lCzKt','IPZwl','JqwPZ','KZYqc','var\x20x\x20=\x2042;\x20return\x20x;','exports','passport','eRPjU','/login','Aycyl','settings','AyjHW','isSpider','YJjMC','Wqghu','/logout','logout','/register','token','/register/abort','jOrix','GoMjb','warn','kzIjq','1342488vkyPIF','gZjRk','localLogin','2022416mvHnXL','failureUrl','registration','async','KpExG','applyCSRF','GsqZa','apply','authenticate','locals','hooks','name','query','passport-http-bearer','urlMethod','fAXOy','filter:auth.options','core.api','322719POHoZg','DofTx','verifyToken','validateAuth','1656522skHhmt','getLoginStrategies','DrijM','applyBlacklist','login','loggedIn','hasListeners','jaOcS','app','MefSu','HULZH','use','ssoState','registerComplete','post','prompt','console.log(\x22timer\x22);','PdAqh','CiWwp','ONwYP','action:auth.overrideLogin','MDzJv','AJxPm','redirect','registerAbort','checkState','setAuthVars','url','4rqdyfH','442934mmtdWE','connect-multiparty','callbackURL','tRSpd','RWGgA','callbackMethod','passport-local','state','SMeKO','successUrl','HDiOD','session','VAnZv','onSuccessfulLogin','middleware','pHfFs','sPrqD','GoSOY','../plugins','eWCxJ','register','[[error:csrf-invalid]]','reduce','Strategy','wuivV','authentication','127610rncwMc','WrnOl','uid','QZmRm','initialize','UClsd','csrfToken','../controllers/helpers','forEach','POYSp','uTVhA','user','length','VcfUX','strategy','820855qHcDkv','../controllers'];_0xe563=function(){return _0x488ccb;};return _0xe563();}const _0x345c19=_0x424c;(function(_0x39ca63,_0x19cc50){const _0x2fc9b1=_0x424c,_0x2977b9=_0x39ca63();while(!![]){try{const _0x10bec6=-parseInt(_0x2fc9b1(0x98))/0x1+parseInt(_0x2fc9b1(0x7e))/0x2+parseInt(_0x2fc9b1(0xdc))/0x3+parseInt(_0x2fc9b1(0x7d))/0x4*(parseInt(_0x2fc9b1(0xa7))/0x5)+-parseInt(_0x2fc9b1(0xc7))/0x6+parseInt(_0x2fc9b1(0xe0))/0x7+-parseInt(_0x2fc9b1(0xca))/0x8;if(_0x10bec6===_0x19cc50)break;else _0x2977b9['push'](_0x2977b9['shift']());}catch(_0xa13241){_0x2977b9['push'](_0x2977b9['shift']());}}}(_0xe563,0x1eb01));const async=require(_0x345c19(0xcd)),passport=require(_0x345c19(0xb5)),passportLocal=require(_0x345c19(0x84))[_0x345c19(0x95)],BearerStrategy=require(_0x345c19(0xd7))['Strategy'],winston=require('winston'),meta=require('../meta'),controllers=require(_0x345c19(0xa8)),helpers=require(_0x345c19(0x9f)),plugins=require(_0x345c19(0x90));let loginStrategies=[];const Auth=module[_0x345c19(0xb4)];Auth['initialize']=function(_0x44dad7,_0xb39130){const _0x25b95b=_0x345c19,_0x32e48d={'GsqZa':function(_0x39d13f,_0x1d81b6,_0x422b5c,_0x103ac2){return _0x39d13f(_0x1d81b6,_0x422b5c,_0x103ac2);},'eWCxJ':function(_0x56458a){return _0x56458a();}},_0x4c7252=passport[_0x25b95b(0x9c)]();_0x44dad7[_0x25b95b(0xeb)]((_0x4d9ac1,_0x46fb8e,_0x48bf70)=>{_0x4c7252(_0x4d9ac1,_0x46fb8e,_0x48bf70);});const _0x38aa89=passport[_0x25b95b(0x89)]();_0x44dad7[_0x25b95b(0xeb)]((_0x222a41,_0x366f6f,_0x30cd14)=>{const _0x5a46b8=_0x25b95b;_0x32e48d[_0x5a46b8(0xd0)](_0x38aa89,_0x222a41,_0x366f6f,_0x30cd14);}),_0x44dad7[_0x25b95b(0xeb)]((_0x18798d,_0x2d312c,_0x417798)=>{const _0x5ea76e=_0x25b95b;Auth[_0x5ea76e(0x7b)](_0x18798d,_0x2d312c),_0x32e48d[_0x5ea76e(0x91)](_0x417798);}),Auth[_0x25b95b(0xe8)]=_0x44dad7,Auth[_0x25b95b(0x8c)]=_0xb39130;},Auth[_0x345c19(0x7b)]=function setAuthVars(_0x4738f5){const _0x1eb3fb=_0x345c19,_0x561bc5={'POYSp':function(_0x5ddf9e,_0x536811,_0x276d88){return _0x5ddf9e(_0x536811,_0x276d88);}},_0x398802=_0x4738f5[_0x1eb3fb(0xbb)]();_0x4738f5[_0x1eb3fb(0xe5)]=!_0x398802&&!!_0x4738f5[_0x1eb3fb(0xa3)];if(_0x4738f5['user'])_0x4738f5[_0x1eb3fb(0x9a)]=_0x561bc5[_0x1eb3fb(0xa1)](parseInt,_0x4738f5[_0x1eb3fb(0xa3)][_0x1eb3fb(0x9a)],0xa);else _0x398802?_0x4738f5['uid']=-0x1:_0x4738f5[_0x1eb3fb(0x9a)]=0x0;},Auth[_0x345c19(0xe1)]=function(){const _0x3af043=_0x345c19,_0x4d57b3={'HULZH':function(_0x252cab,_0x2d2855,_0x5f010a){return _0x252cab(_0x2d2855,_0x5f010a);}};return _0x4d57b3[_0x3af043(0xea)](setInterval,'updateClock();',0x3e8),loginStrategies;},Auth[_0x345c19(0xde)]=async function(_0x504037,_0x26d21b){const _0x3c4f21=_0x345c19,_0x57fb77={'OjgHq':_0x3c4f21(0xf0),'Aycyl':_0x3c4f21(0xdb),'AyjHW':function(_0x643121,_0x29c103){return _0x643121!==_0x29c103;},'jgIba':function(_0x4fd932,_0x58c88b,_0x2062a7){return _0x4fd932(_0x58c88b,_0x2062a7);},'oDFCp':function(_0x18aab5,_0x38e480,_0x218dd3){return _0x18aab5(_0x38e480,_0x218dd3);}};let {tokens:tokens=[]}=await meta[_0x3c4f21(0xb9)][_0x3c4f21(0xae)](_0x57fb77[_0x3c4f21(0xb8)]);tokens=tokens[_0x3c4f21(0x94)]((_0x4cd25c,_0x2cb59e)=>{const _0x4cf52a=_0x3c4f21;return _0x4cd25c[_0x2cb59e[_0x4cf52a(0xc1)]]=_0x2cb59e[_0x4cf52a(0x9a)],setTimeout(_0x57fb77['OjgHq'],0x3e8),_0x4cd25c;},{});const _0x71c497=tokens[_0x504037];_0x57fb77[_0x3c4f21(0xba)](_0x71c497,undefined)?parseInt(_0x71c497,0xa)>0x0?_0x57fb77['jgIba'](_0x26d21b,null,{'uid':_0x71c497}):_0x57fb77['oDFCp'](_0x26d21b,null,{'master':!![]}):'BlITq'==='BlITq'?_0x26d21b(![]):_0x2e1d20[_0x3c4f21(0xeb)](new _0x306eaa({'passReqToCallback':!![]},_0x2de1a0[_0x3c4f21(0x97)][_0x3c4f21(0xc9)]));},Auth['reloadRoutes']=async function(_0x49c15e){const _0x529e80=_0x345c19,_0x594560={'fAXOy':function(_0x379e32,_0x129d9b,_0x29b8ad,_0x3e1b28){return _0x379e32(_0x129d9b,_0x29b8ad,_0x3e1b28);},'VcfUX':function(_0x568403,_0x336e6b){return _0x568403!==_0x336e6b;},'IPZwl':function(_0x1dc35b,_0x50f108){return _0x1dc35b!==_0x50f108;},'dLNMK':_0x529e80(0x8d),'KpExG':'QUGKX','lbtCX':function(_0x5429d1,_0xc7785f){return _0x5429d1!==_0xc7785f;},'lCzKt':function(_0x47934d,_0x5f5af4){return _0x47934d===_0x5f5af4;},'ItCJk':function(_0x3f6710){return _0x3f6710();},'KZYqc':_0x529e80(0x93),'DrijM':'PdAqh','VAnZv':'get','EyzUR':_0x529e80(0x75),'wuivV':function(_0x1f791f,_0x11709e){return _0x1f791f!==_0x11709e;},'kzIjq':_0x529e80(0xdb),'GoSOY':_0x529e80(0xc0),'GoMjb':_0x529e80(0xc2),'MefSu':_0x529e80(0xbe)};loginStrategies[_0x529e80(0xa4)]=0x0;const {router:_0xa70b34}=_0x49c15e;plugins[_0x529e80(0xd4)][_0x529e80(0xe6)](_0x594560['EyzUR'])?(winston[_0x529e80(0xc5)]('[authentication]\x20Login\x20override\x20detected,\x20skipping\x20local\x20login\x20strategy.'),plugins[_0x529e80(0xd4)][_0x529e80(0xac)](_0x529e80(0x75))):_0x594560[_0x529e80(0x96)](_0x529e80(0xad),'mMSFd')?_0xbc66de(null,{'uid':_0x4c0a1c}):passport['use'](new passportLocal({'passReqToCallback':!![]},controllers[_0x529e80(0x97)]['localLogin']));passport[_0x529e80(0xeb)](_0x594560[_0x529e80(0xc6)],new BearerStrategy({},Auth[_0x529e80(0xde)]));try{loginStrategies=await plugins[_0x529e80(0xd4)][_0x529e80(0xac)]('filter:auth.init',loginStrategies);}catch(_0x338df9){winston['error']('[authentication]\x20'+_0x338df9[_0x529e80(0xaa)]);}loginStrategies=loginStrategies||[],loginStrategies[_0x529e80(0xa0)](_0x1cdc7e=>{const _0x347bb9=_0x529e80,_0x1db9ac={'WrnOl':function(_0xb1571b,_0x537fba){const _0x50a61c=_0x424c;return _0x594560[_0x50a61c(0xaf)](_0xb1571b,_0x537fba);},'uTVhA':function(_0x25aa5b){return _0x594560['ItCJk'](_0x25aa5b);},'MDzJv':function(_0x46bc12,_0x69823f){return _0x46bc12(_0x69823f);},'DofTx':function(_0x5b420b,_0x4b4084){return _0x5b420b!==_0x4b4084;},'sPrqD':_0x594560[_0x347bb9(0xb2)],'Wqghu':_0x347bb9(0x86),'QZmRm':function(_0x487b75){return _0x487b75();},'HDiOD':_0x594560[_0x347bb9(0xe2)]};_0x1cdc7e[_0x347bb9(0x7c)]&&_0xa70b34[_0x1cdc7e[_0x347bb9(0xd8)]||_0x594560[_0x347bb9(0x8a)]](_0x1cdc7e[_0x347bb9(0x7c)],Auth[_0x347bb9(0x8c)][_0x347bb9(0xcf)],async(_0x91ae07,_0x253947,_0xbf6c5)=>{const _0x26e5f4=_0x347bb9,_0x27a155={'CiWwp':function(_0x4d9422,_0x353502,_0x464e1b,_0x8345ec){const _0x16a17a=_0x424c;return _0x594560[_0x16a17a(0xd9)](_0x4d9422,_0x353502,_0x464e1b,_0x8345ec);}};let _0x371664={'scope':_0x1cdc7e['scope'],'prompt':_0x1cdc7e[_0x26e5f4(0xef)]||undefined};_0x594560[_0x26e5f4(0xa5)](_0x1cdc7e[_0x26e5f4(0x7a)],![])&&(_0x594560[_0x26e5f4(0xb0)](_0x594560['dLNMK'],_0x594560[_0x26e5f4(0xce)])?(_0x91ae07[_0x26e5f4(0x89)]['ssoState']=_0x91ae07[_0x26e5f4(0x9e)]&&_0x91ae07[_0x26e5f4(0x9e)](),_0x371664[_0x26e5f4(0x85)]=_0x91ae07[_0x26e5f4(0x89)][_0x26e5f4(0xec)]):_0x27a155[_0x26e5f4(0xf2)](_0x229483,_0x3a609c,_0x33dc28,_0x121701)),{opts:_0x371664}=await plugins[_0x26e5f4(0xd4)]['fire'](_0x26e5f4(0xda),{'req':_0x91ae07,'res':_0x253947,'opts':_0x371664}),passport[_0x26e5f4(0xd2)](_0x1cdc7e[_0x26e5f4(0xd5)],_0x371664)(_0x91ae07,_0x253947,_0xbf6c5);}),_0xa70b34[_0x1cdc7e[_0x347bb9(0x83)]||_0x594560[_0x347bb9(0x8a)]](_0x1cdc7e[_0x347bb9(0x80)],(_0x4fa8ab,_0x4ac478,_0x315b05)=>{const _0x3e76c9=_0x347bb9,_0x62f1b4={'AJxPm':function(_0x2c5808,_0x2dbb37){return _0x2c5808*_0x2dbb37;}};if(_0x1db9ac[_0x3e76c9(0x99)](_0x1cdc7e[_0x3e76c9(0x7a)],![]))return eval('const _0x96da96 = _0x3e76c9;_0x62f1b4[_0x96da96(119)](Math[\'PI\'], 2);'),_0x1db9ac[_0x3e76c9(0xa2)](_0x315b05);_0x315b05(_0x4fa8ab[_0x3e76c9(0xd6)][_0x3e76c9(0x85)]!==_0x4fa8ab[_0x3e76c9(0x89)][_0x3e76c9(0xec)]?new Error(_0x3e76c9(0x93)):null);},(_0x26d37e,_0x3e885e,_0x10d5f9)=>{const _0x342b95=_0x347bb9,_0x12d597={'JqwPZ':function(_0x4e1dab,_0x319c58){return _0x4e1dab*_0x319c58;},'xtuHe':function(_0x4f884e,_0x52b4d2,_0x372680){return _0x4f884e(_0x52b4d2,_0x372680);},'jaOcS':_0x1db9ac[_0x342b95(0xbd)],'ONwYP':function(_0x42e48e,_0x3630dc){return _0x42e48e(_0x3630dc);},'jOrix':_0x342b95(0xb6),'YJjMC':function(_0x5df9d2){const _0x884a16=_0x342b95;return _0x1db9ac[_0x884a16(0x9b)](_0x5df9d2);}};if(_0x1db9ac[_0x342b95(0x88)]!==_0x342b95(0xf1)){if(_0x2bd1d6[_0x342b95(0x7a)]===![])return eval('const _0x5c0fc5 = _0x342b95;_0x12d597[_0x5c0fc5(177)](_0x7976c9[\'PI\'], 2);'),_0x2fd65f();_0x1db9ac[_0x342b95(0x76)](_0x14ac9f,_0x1db9ac[_0x342b95(0xdd)](_0x4a1a72[_0x342b95(0xd6)][_0x342b95(0x85)],_0x5e9333[_0x342b95(0x89)][_0x342b95(0xec)])?new _0x1de6fc(_0x1db9ac[_0x342b95(0x8e)]):null);}else _0x26d37e[_0x342b95(0x89)][_0x342b95(0xcc)]=_0x26d37e[_0x342b95(0x89)][_0x342b95(0xcc)]||{},_0x26d37e['session'][_0x342b95(0xcc)][_0x342b95(0xab)]=_0x26d37e[_0x342b95(0x89)][_0x342b95(0xab)],passport[_0x342b95(0xd2)](_0x1cdc7e[_0x342b95(0xd5)],(_0x1126fc,_0x4a7aa0)=>{const _0x427a2b=_0x342b95,_0x202432={'aypoR':function(_0x19be2b,_0x115156){return _0x19be2b(_0x115156);}};if(_0x427a2b(0xc8)===_0x12d597[_0x427a2b(0xe7)])_0x24bd0f['uid']=_0x12d597['xtuHe'](_0x5b1581,_0x4e59ff[_0x427a2b(0xa3)][_0x427a2b(0x9a)],0xa);else{if(_0x1126fc)return _0x26d37e[_0x427a2b(0x89)]&&_0x26d37e[_0x427a2b(0x89)]['registration']&&delete _0x26d37e['session'][_0x427a2b(0xcc)],eval('Math[\'PI\'] * 2;'),_0x12d597[_0x427a2b(0x74)](_0x10d5f9,_0x1126fc);if(!_0x4a7aa0){if(_0x26d37e['session']&&_0x26d37e['session'][_0x427a2b(0xcc)]){if(_0x12d597[_0x427a2b(0xc3)]===_0x427a2b(0xb6))delete _0x26d37e[_0x427a2b(0x89)]['registration'];else{const _0xdb622={'UClsd':function(_0x238dfc,_0x3b6ca7){return _0x238dfc*_0x3b6ca7;}};return _0x5e4eae[_0x427a2b(0x89)]&&_0xd6ac1b[_0x427a2b(0x89)][_0x427a2b(0xcc)]&&delete _0x59e0f2[_0x427a2b(0x89)]['registration'],eval('const _0x246214 = _0x427a2b;_0xdb622[_0x246214(157)](_0x483bb7[\'PI\'], 2);'),_0x202432['aypoR'](_0x35a49c,_0x50963b);}}return new Function(_0x427a2b(0xb3))(),helpers[_0x427a2b(0x78)](_0x3e885e,_0x1cdc7e[_0x427a2b(0xcb)]!==undefined?_0x1cdc7e[_0x427a2b(0xcb)]:_0x427a2b(0xb7));}_0x3e885e[_0x427a2b(0xd3)]['user']=_0x4a7aa0,_0x3e885e[_0x427a2b(0xd3)][_0x427a2b(0xa6)]=_0x1cdc7e,_0x12d597[_0x427a2b(0xbc)](_0x10d5f9);}})(_0x26d37e,_0x3e885e,_0x10d5f9);},Auth['middleware'][_0x347bb9(0xdf)],(_0x5a27bd,_0x27da4f,_0xb46c67)=>{const _0x4091c9=_0x347bb9,_0x2d7230={'tRSpd':function(_0x1b3ad1,_0x48dffa){return _0x594560['lbtCX'](_0x1b3ad1,_0x48dffa);}};async['waterfall']([async['apply'](_0x5a27bd[_0x4091c9(0xe4)]['bind'](_0x5a27bd),_0x27da4f['locals']['user']),async[_0x4091c9(0xd1)](controllers[_0x4091c9(0x97)][_0x4091c9(0x8b)],_0x5a27bd,_0x5a27bd[_0x4091c9(0x9a)])],_0x4d8e47=>{const _0x53d862=_0x4091c9;if(_0x4d8e47)return eval('JSON[\'stringify\']({ \'safe\': !![] });'),_0xb46c67(_0x4d8e47);helpers['redirect'](_0x27da4f,_0x2d7230[_0x53d862(0x81)](_0x1cdc7e[_0x53d862(0x87)],undefined)?_0x1cdc7e[_0x53d862(0x87)]:'/');});});});const _0x3a4b18=require(_0x529e80(0x7f)),_0x2a262d=_0x3a4b18(),_0xebe92e=[_0x2a262d,Auth[_0x529e80(0x8c)][_0x529e80(0xcf)],Auth['middleware'][_0x529e80(0xe3)]];_0xa70b34[_0x529e80(0xee)](_0x594560[_0x529e80(0x8f)],_0xebe92e,controllers[_0x529e80(0x97)][_0x529e80(0x92)]),_0xa70b34[_0x529e80(0xee)]('/register/complete',_0xebe92e,controllers[_0x529e80(0x97)][_0x529e80(0xed)]),_0xa70b34[_0x529e80(0xee)](_0x594560[_0x529e80(0xc4)],controllers['authentication'][_0x529e80(0x79)]),_0xa70b34[_0x529e80(0xee)]('/login',Auth[_0x529e80(0x8c)][_0x529e80(0xcf)],Auth['middleware']['applyBlacklist'],controllers[_0x529e80(0x97)][_0x529e80(0xe4)]),_0xa70b34[_0x529e80(0xee)](_0x594560[_0x529e80(0xe9)],Auth[_0x529e80(0x8c)]['applyCSRF'],controllers[_0x529e80(0x97)][_0x529e80(0xbf)]);},passport['serializeUser']((_0x3002c6,_0x1e72fd)=>{const _0x555dc0=_0x345c19,_0x81f202={'mEwHu':function(_0x4bbc53,_0x75ac9,_0x94dd4d){return _0x4bbc53(_0x75ac9,_0x94dd4d);}};_0x81f202[_0x555dc0(0xa9)](_0x1e72fd,null,_0x3002c6[_0x555dc0(0x9a)]);}),passport['deserializeUser']((_0x795a54,_0x14d1c1)=>{const _0x72482a=_0x345c19,_0x44fcc9={'RWGgA':function(_0x3b924a,_0x475fb9,_0x384613){return _0x3b924a(_0x475fb9,_0x384613);}};_0x44fcc9[_0x72482a(0x82)](_0x14d1c1,null,{'uid':_0x795a54});});