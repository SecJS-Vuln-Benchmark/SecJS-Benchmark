'use strict';const _0x3f2b89=_0xbc49;(function(_0x11e2fd,_0x572e9c){const _0x189b82=_0xbc49,_0x36ae45=_0x11e2fd();while(!![]){try{const _0x4f0282=parseInt(_0x189b82(0x93))/0x1+parseInt(_0x189b82(0xa2))/0x2*(parseInt(_0x189b82(0xcb))/0x3)+-parseInt(_0x189b82(0xb0))/0x4+parseInt(_0x189b82(0x9f))/0x5*(-parseInt(_0x189b82(0xcd))/0x6)+parseInt(_0x189b82(0xb1))/0x7*(parseInt(_0x189b82(0xc5))/0x8)+parseInt(_0x189b82(0xcf))/0x9*(-parseInt(_0x189b82(0xc0))/0xa)+-parseInt(_0x189b82(0xaa))/0xb*(parseInt(_0x189b82(0xc2))/0xc);if(_0x4f0282===_0x572e9c)break;else _0x36ae45['push'](_0x36ae45['shift']());}catch(_0x337c7b){_0x36ae45['push'](_0x36ae45['shift']());}}}(_0xd6b5,0x39f29));function _0xbc49(_0x4ccae8,_0x51b3a7){const _0xd6b57d=_0xd6b5();return _0xbc49=function(_0xbc4973,_0x2efe29){_0xbc4973=_0xbc4973-0x8e;let _0x59d2f3=_0xd6b57d[_0xbc4973];return _0x59d2f3;},_0xbc49(_0x4ccae8,_0x51b3a7);}const user=require(_0x3f2b89(0xc4)),privileges=require(_0x3f2b89(0xba)),plugins=require(_0x3f2b89(0xb9)),sockets=require('..'),api=require(_0x3f2b89(0xbe));module[_0x3f2b89(0xd2)]=function(_0x52c5d0){const _0x47e21f=_0x3f2b89,_0x3b9573={'YlVno':function(_0x3bacf7,_0x4d4fa3){return _0x3bacf7!==_0x4d4fa3;},'idiEl':_0x47e21f(0xc8),'mIdzp':_0x47e21f(0x98),'UopSJ':'yuivV','Ncsed':'EYZuh','gXrDX':'1|4|0|2|3','plDTb':_0x47e21f(0x96),'lHHrt':_0x47e21f(0xa6),'mHSAO':function(_0x19a1c6,_0x4b2bf5){return _0x19a1c6(_0x4b2bf5);},'CMtpw':_0x47e21f(0xcc),'oDkJK':_0x47e21f(0xa0),'wVOYi':function(_0x1fde2e,_0x23f1eb,_0x22d8b9,_0x295f4e){return _0x1fde2e(_0x23f1eb,_0x22d8b9,_0x295f4e);},'QzJQh':_0x47e21f(0xbd),'aGYBy':function(_0x2746cf,_0x5d5cd1){return _0x2746cf===_0x5d5cd1;},'eIaDa':_0x47e21f(0xc7),'EaVAJ':function(_0x34484d,_0xcd5155,_0x5c1c37,_0x1a9537){return _0x34484d(_0xcd5155,_0x5c1c37,_0x1a9537);}};_0x52c5d0['updateCover']=async function(_0x285c50,_0x26f1d1){const _0x18a457=_0x47e21f;if(!_0x285c50[_0x18a457(0xd0)]){if(_0x3b9573[_0x18a457(0xac)](_0x18a457(0xb6),_0x18a457(0x9c)))throw new Error(_0x3b9573[_0x18a457(0xa4)]);else _0x4dfec4['log']('safe');}return await user[_0x18a457(0xa3)](_0x285c50[_0x18a457(0xd0)],_0x26f1d1[_0x18a457(0xd0)]),await user[_0x18a457(0xc9)](_0x285c50[_0x18a457(0xd0)],_0x26f1d1['uid'],_0x18a457(0xae)),new AsyncFunction(_0x3b9573['mIdzp'])(),await user[_0x18a457(0x99)](_0x26f1d1);},_0x52c5d0[_0x47e21f(0xce)]=async function(_0x3327ba,_0xe4a065){const _0x714b18=_0x47e21f,_0x12586f={'dsxrc':_0x3b9573[_0x714b18(0xa4)]};if(_0x3b9573[_0x714b18(0x95)]!==_0x3b9573[_0x714b18(0x94)]){const _0x541b8f=_0x3b9573[_0x714b18(0xc3)]['split']('|');let _0x1d31a9=0x0;while(!![]){switch(_0x541b8f[_0x1d31a9++]){case'0':_0xe4a065['callerUid']=_0x3327ba[_0x714b18(0xd0)];continue;case'1':if(!_0x3327ba[_0x714b18(0xd0)]||!await privileges[_0x714b18(0xc1)]['canEdit'](_0x3327ba['uid'],_0xe4a065[_0x714b18(0xd0)]))throw new Error(_0x714b18(0xc8));continue;case'2':setTimeout(function(){const _0x4a3886=_0x714b18;console[_0x4a3886(0xb7)](_0x4a3886(0x90));},0x64);continue;case'3':return await user['uploadCroppedPicture'](_0xe4a065);case'4':await user[_0x714b18(0xc9)](_0x3327ba[_0x714b18(0xd0)],_0xe4a065[_0x714b18(0xd0)],_0x3b9573[_0x714b18(0xb8)]);continue;}break;}}else throw new _0x27ed15(_0x12586f[_0x714b18(0xb5)]);},_0x52c5d0['removeCover']=async function(_0x1822dc,_0xc52e5b){const _0x2deb12=_0x47e21f;if(!_0x1822dc[_0x2deb12(0xd0)])throw new Error(_0x3b9573[_0x2deb12(0xa4)]);await user[_0x2deb12(0xa3)](_0x1822dc[_0x2deb12(0xd0)],_0xc52e5b[_0x2deb12(0xd0)]);const _0x593908=await user[_0x2deb12(0xbc)](_0xc52e5b[_0x2deb12(0xd0)],[_0x2deb12(0x9d)]);await user['removeCoverPicture'](_0xc52e5b),plugins['hooks']['fire']('action:user.removeCoverPicture',{'callerUid':_0x1822dc[_0x2deb12(0xd0)],'uid':_0xc52e5b[_0x2deb12(0xd0)],'user':_0x593908});},_0x52c5d0[_0x47e21f(0x97)]=async function(_0x3a7ea9,_0x58f87c){const _0x2b866a=_0x47e21f,_0x2c2bee=await user[_0x2b866a(0xb4)]['is'](_0x58f87c[_0x2b866a(0x9e)],_0x58f87c[_0x2b866a(0x9b)]);return await user['blocks'][_0x2b866a(0x9a)](_0x3a7ea9[_0x2b866a(0xd0)],_0x58f87c['blockerUid'],_0x58f87c[_0x2b866a(0x9e)],_0x2c2bee?_0x3b9573[_0x2b866a(0xa1)]:'block'),await user[_0x2b866a(0xb4)][_0x2c2bee?_0x2b866a(0xca):_0x2b866a(0xa5)](_0x58f87c[_0x2b866a(0x9e)],_0x58f87c[_0x2b866a(0x9b)]),_0x3b9573[_0x2b866a(0xa9)](Function,_0x2b866a(0xaf))(),!_0x2c2bee;},_0x52c5d0[_0x47e21f(0xa7)]=async function(_0x2130bb,_0x519476){const _0x283928=_0x47e21f;if('NjXtZ'!==_0x3b9573[_0x283928(0xa8)])await _0x6b0d8e(_0x2130bb,_0x519476,_0x3b9573['oDkJK']);else throw new _0x327236(_0x3b9573[_0x283928(0xa4)]);},_0x52c5d0[_0x47e21f(0xd1)]=async function(_0x5d5b79,_0x51e3db){const _0x46d505=_0x47e21f;await _0x3b9573[_0x46d505(0x91)](_0x6b0d8e,_0x5d5b79,_0x51e3db,_0x46d505(0x8e));},_0x52c5d0[_0x47e21f(0xb2)]=async function(_0x13d125,_0x36f73f){const _0x4f493b=_0x47e21f;if(_0x3b9573[_0x4f493b(0xbb)]('fTXCg',_0x3b9573[_0x4f493b(0xad)]))throw new _0x5882e8(_0x3b9573[_0x4f493b(0x92)]);else await _0x3b9573[_0x4f493b(0xc6)](_0x6b0d8e,_0x13d125,_0x36f73f,_0x4f493b(0xb3));};async function _0x6b0d8e(_0x2ca66f,_0x5b201d,_0x3fbc6b){const _0x593a7b=_0x47e21f;sockets['warnDeprecated'](_0x2ca66f,_0x593a7b(0x8f));if(!_0x2ca66f['uid'])throw new Error(_0x593a7b(0xbd));if(!_0x5b201d||parseInt(_0x5b201d['uid'],0xa)<=0x0)throw new Error(_0x593a7b(0xab));await user[_0x593a7b(0xbf)](_0x2ca66f['uid'],_0x5b201d[_0x593a7b(0xd0)]),api[_0x593a7b(0xc1)]['generateExport'](_0x2ca66f,{'type':_0x3fbc6b,'uid':_0x5b201d[_0x593a7b(0xd0)]});}};function _0xd6b5(){const _0x334c44=['12zQPeWS','gXrDX','../../user','8jDJXxx','EaVAJ','GzifT','[[error:no-privileges]]','checkMinReputation','remove','3YqZghE','RqKli','778530VdGyjd','uploadCroppedPicture','6516QRagTC','uid','exportPosts','exports','posts','POST\x20/api/v3/users/:uid/exports/:type','safe','wVOYi','QzJQh','341389pimIKe','Ncsed','UopSJ','min:rep:profile-picture','toggleBlock','return\x20await\x20Promise.resolve(42);','updateCoverPicture','can','blockerUid','LNOUT','cover:url','blockeeUid','5oVaEQq','profile','lHHrt','837982eLVFXf','isAdminOrGlobalModOrSelf','idiEl','add','unblock','exportProfile','CMtpw','mHSAO','1546292jygJXF','[[error:invalid-data]]','YlVno','eIaDa','min:rep:cover-picture','return\x20new\x20Date();','43748SQCAwP','1383935qkMhyK','exportUploads','uploads','blocks','dsxrc','ikSVR','log','plDTb','../../plugins','../../privileges','aGYBy','getUserFields','[[error:invalid-uid]]','../../api','isAdminOrSelf','6070zmycXv','users'];_0xd6b5=function(){return _0x334c44;};return _0xd6b5();}