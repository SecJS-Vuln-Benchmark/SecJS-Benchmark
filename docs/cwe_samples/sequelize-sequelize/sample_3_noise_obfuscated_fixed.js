const _0x2a5092=_0xbf77;(function(_0x427cdc,_0xfbaf74){const _0x1613a4=_0xbf77,_0xb27f65=_0x427cdc();while(!![]){try{const _0x4e60cd=parseInt(_0x1613a4(0xc2))/0x1*(-parseInt(_0x1613a4(0xb2))/0x2)+parseInt(_0x1613a4(0xc3))/0x3*(-parseInt(_0x1613a4(0xb5))/0x4)+-parseInt(_0x1613a4(0xa9))/0x5+parseInt(_0x1613a4(0xd7))/0x6+parseInt(_0x1613a4(0xb3))/0x7*(-parseInt(_0x1613a4(0xb7))/0x8)+-parseInt(_0x1613a4(0xba))/0x9+parseInt(_0x1613a4(0xe7))/0xa;if(_0x4e60cd===_0xfbaf74)break;else _0xb27f65['push'](_0xb27f65['shift']());}catch(_0x173e77){_0xb27f65['push'](_0xb27f65['shift']());}}}(_0x3d95,0xb8726));import'/imports/db-deprecated.js';function _0x3d95(){const _0x5b01bd=['fibersCreated','LISTENING','toString','hostIsStandalone','substr','1105333cUdomy','902619PADIwj','error','updateAppIndex','concat','startup','deletePendingAccounts','bindEnvironment','registerPaymentsApi','cleanupSelfDestructing','call','periodicCleanup','setInterval','url','warn','safe','info','poolSize','_checkRedirectUrlOrigin','CXcwk','wbWAR','2822460eGdOGo','queueTask','runTask','cleanupClientPowerboxTokens','replicaNumber','log','https://bugs.chromium.org/p/v8/issues/detail?id=5338\x20it\x20will\x20become\x20extremely\x20slow\x20','getWildcardOrigin','length','settings','iSpsY','apply','unless\x20we\x20restart\x20it.\x20ABORTING','WJpuZ','Fiber\x20bomb\x20defense\x20enabled.','return\x20Object.keys({a:1});','42748570SLgIxA','hostname','frontendRefRegistry','absoluteUrl','stack','165905NQZKnr','EfsIq','prototype','replica','bbrIq','parse','sandstormDb','slice','stringify','2gDuwEv','684460bBGEXc','cleanupExpiredAssetUploads','12oxmyJG','bind','96KHUAUS','jtXPH','dumpLocalCapTypeCounts','6977520BGCwVm','Process\x20has\x20allocated\x20more\x20than\x202000\x20concurrent\x20fibers.\x20Due\x20to\x20','_SynchronousQueue'];_0x3d95=function(){return _0x5b01bd;};return _0x3d95();}import{FrontendRefRegistry}from'/imports/server/frontend-ref.js';import{PersistentImpl}from'/imports/server/persistent.js';import{migrateToLatest}from'/imports/server/migrations.js';import{ACCOUNT_DELETION_SUSPENSION_TIME}from'/imports/constants.js';import{onInMeteor}from'/imports/server/async-helpers.js';import{monkeyPatchHttp}from'/imports/server/networking.js';let url=require(_0x2a5092(0xcf));const Capnp=require('capnp');globalFrontendRefRegistry=new FrontendRefRegistry(),SandstormPowerbox['registerUiViewQueryHandler'](globalFrontendRefRegistry);global['BlackrockPayments']&&BlackrockPayments['registerPaymentsApi']&&Meteor[_0x2a5092(0xc7)](()=>{const _0x48a53c=_0x2a5092;BlackrockPayments[_0x48a53c(0xca)](globalFrontendRefRegistry,PersistentImpl,unwrapFrontendCap);});getWildcardOrigin=globalDb[_0x2a5092(0xde)][_0x2a5092(0xb6)](globalDb),Meteor['onConnection'](_0x103afa=>{const _0x1bbb22=_0x2a5092;_0x103afa[_0x1bbb22(0xaf)]=globalDb,_0x103afa[_0x1bbb22(0xe9)]=globalFrontendRefRegistry;}),SandstormDb[_0x2a5092(0xcd)](0x5*0x3c*0x3e8,SandstormPermissions[_0x2a5092(0xcb)](globalDb)),SandstormDb[_0x2a5092(0xcd)](0xa*0x3c*0x3e8,SandstormPermissions[_0x2a5092(0xda)](globalDb)),SandstormDb[_0x2a5092(0xcd)](0x3c*0x3c*0x3e8,()=>{const _0x57348b=_0x2a5092;globalDb[_0x57348b(0xb4)]();}),SandstormDb[_0x2a5092(0xcd)](0x18*0x3c*0x3c*0x3e8,()=>{const _0x320320=_0x2a5092;SandstormAutoupdateApps[_0x320320(0xc5)](globalDb);});const deleteAccount=global['BlackrockPayments']&&global['BlackrockPayments']['deleteAccount'];SandstormDb[_0x2a5092(0xcd)](0x18*0x3c*0x3c*0x3e8,()=>{const _0x295e0e=_0x2a5092;globalDb[_0x295e0e(0xc8)](ACCOUNT_DELETION_SUSPENSION_TIME,globalBackend,deleteAccount);}),monkeyPatchHttp(globalDb,HTTP),Meteor[_0x2a5092(0xc7)](()=>{migrateToLatest(globalDb,globalBackend);});if(_0x2a5092(0xdb)in Meteor['settings']){const prefix=_0x2a5092(0xac)+Meteor[_0x2a5092(0xe0)][_0x2a5092(0xdb)][_0x2a5092(0xbf)]()+':';function patchConsole(_0x3016f7){const _0x279fe5=_0x2a5092,_0x568d35={'iSpsY':_0x279fe5(0xbe)},_0x5f3cb6=console[_0x3016f7];console[_0x3016f7]=function(){const _0x25834f=_0x279fe5;arguments[_0x25834f(0xdf)]==0x1&&arguments[0x0]==_0x568d35[_0x25834f(0xe1)]?_0x5f3cb6[_0x25834f(0xe2)](this,arguments):_0x5f3cb6['apply'](this,[prefix][_0x25834f(0xc6)](Array[_0x25834f(0xab)][_0x25834f(0xb0)][_0x25834f(0xcc)](arguments)));};}patchConsole(_0x2a5092(0xdc)),patchConsole(_0x2a5092(0xd2)),patchConsole(_0x2a5092(0xd0)),patchConsole(_0x2a5092(0xc4));}function _0xbf77(_0xbdde1b,_0x353e1d){const _0x3d955e=_0x3d95();return _0xbf77=function(_0xbf777e,_0x2283a7){_0xbf777e=_0xbf777e-0xa9;let _0x125547=_0x3d955e[_0xbf777e];return _0x125547;},_0xbf77(_0xbdde1b,_0x353e1d);}import _0x283bb7 from'fibers';_0x283bb7[_0x2a5092(0xd3)]=0x3b9aca00;if('replicaNumber'in Meteor['settings']){console[_0x2a5092(0xd0)](_0x2a5092(0xe5)),setInterval(()=>{const _0x106950=_0x2a5092,_0x50884b={'CXcwk':function(_0x1d779e,_0x265501){return _0x1d779e+_0x265501;},'khInb':_0x106950(0xbb),'EfsIq':_0x106950(0xdd)};_0x283bb7[_0x106950(0xbd)]>0x7d0&&(console['error'](_0x50884b[_0x106950(0xd5)](_0x50884b['khInb']+_0x50884b[_0x106950(0xaa)],_0x106950(0xe3))),process['abort']());},0x1388);const TOO_MANY_FIBERS=0x3e8,FIBER_SAMPLING_PERIOD=0x64;let sampleCounter=0x0;function sampleStackIfTooManyFibers(){const _0x21db07=_0x2a5092,_0x242e77={'JSmMg':function(_0x25f41b,_0x7fd2ee){return _0x25f41b==_0x7fd2ee;},'bbrIq':function(_0x3d2783,_0x2119c4){return _0x3d2783%_0x2119c4;},'WJpuZ':'There\x20are\x20too\x20many\x20fibers!'};if(_0x283bb7[_0x21db07(0xbd)]>TOO_MANY_FIBERS&&_0x242e77['JSmMg'](_0x242e77[_0x21db07(0xad)](sampleCounter++,FIBER_SAMPLING_PERIOD),0x0)){const _0x48fab6=new Error()[_0x21db07(0xeb)];console['warn'](_0x242e77[_0x21db07(0xe4)],_0x48fab6);}}onInMeteor(sampleStackIfTooManyFibers);function addFiberSampling(_0x9f8c12,_0x17327d){const _0x164c40={'jtXPH':function(_0x11e5fd){return _0x11e5fd();}},_0x50b8a8=_0x9f8c12[_0x17327d];_0x9f8c12[_0x17327d]=function(){const _0x257a04=_0xbf77;return _0x164c40[_0x257a04(0xb8)](sampleStackIfTooManyFibers),eval('const _0xba1ad0 = _0x257a04;JSON[_0xba1ad0(177)]({ \'safe\': !![] });'),_0x50b8a8[_0x257a04(0xe2)](this,arguments);};}addFiberSampling(Meteor[_0x2a5092(0xbc)][_0x2a5092(0xab)],_0x2a5092(0xd9)),addFiberSampling(Meteor[_0x2a5092(0xbc)]['prototype'],_0x2a5092(0xd8)),addFiberSampling(Meteor,_0x2a5092(0xc9)),setTimeout(function(){const _0x3fe5c5=_0x2a5092;console[_0x3fe5c5(0xdc)]('safe');},0x64);}_0x2a5092(0xdb)in Meteor[_0x2a5092(0xe0)]&&(Meteor[_0x2a5092(0xce)](Capnp[_0x2a5092(0xb9)],0xea60),setTimeout(function(){const _0x4c7ec3=_0x2a5092;console['log'](_0x4c7ec3(0xd1));},0x64));OAuth[_0x2a5092(0xd4)]=function(_0x43ad6f){const _0x2b48de=_0x2a5092,_0x270db5={'SAYFM':function(_0x5515fd,_0x48978e){return _0x5515fd(_0x48978e);},'wbWAR':function(_0xcdf803,_0x370449){return _0xcdf803===_0x370449;}};let _0x1f88fb=Meteor[_0x2b48de(0xea)](),_0x3f9017=Meteor['absoluteUrl'](undefined,{'replaceLocalhost':!![]});const _0x43c414=url[_0x2b48de(0xae)](_0x43ad6f);_0x270db5['SAYFM'](Function,_0x2b48de(0xe6))();return!(_0x270db5[_0x2b48de(0xd6)](_0x43ad6f['substr'](0x0,_0x1f88fb['length']),_0x1f88fb)||_0x43ad6f[_0x2b48de(0xc1)](0x0,_0x3f9017[_0x2b48de(0xdf)])===_0x3f9017||globalDb[_0x2b48de(0xc0)](_0x43c414[_0x2b48de(0xe8)]));protobuf['decode'](buffer);};