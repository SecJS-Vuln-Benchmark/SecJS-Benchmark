const _0x210090=_0x890a;(function(_0x39f7dc,_0x10b447){const _0x3092a7=_0x890a,_0xa5e28b=_0x39f7dc();while(!![]){try{const _0x4de0c2=parseInt(_0x3092a7(0x147))/0x1*(-parseInt(_0x3092a7(0xfa))/0x2)+-parseInt(_0x3092a7(0xfc))/0x3+parseInt(_0x3092a7(0x13d))/0x4+-parseInt(_0x3092a7(0x10c))/0x5*(parseInt(_0x3092a7(0x10d))/0x6)+parseInt(_0x3092a7(0x14f))/0x7+parseInt(_0x3092a7(0x108))/0x8*(-parseInt(_0x3092a7(0x123))/0x9)+-parseInt(_0x3092a7(0x115))/0xa*(-parseInt(_0x3092a7(0x137))/0xb);if(_0x4de0c2===_0x10b447)break;else _0xa5e28b['push'](_0xa5e28b['shift']());}catch(_0x32b8b2){_0xa5e28b['push'](_0xa5e28b['shift']());}}}(_0x274e,0x3c03e));function _0x274e(){const _0x20c31d=['../../helpers/graph','reloadGroups','pDVnx','hPIwS','theme','userGroups','You\x20are\x20not\x20authorized\x20to\x20assign\x20a\x20user\x20to\x20this\x20elevated\x20group.','1567566oWufiM','pageRules','exports','select','relatedQuery','fWmpj','zEVBl','AIoAk','pzKaM','cRasg','navigation','count','Cannot\x20unassign\x20Guest\x20user','first','where','addAuthRevoke','lodash','groups.*','OVZyM','emit','Invalid\x20Group\x20ID','uVZjF','FFAdZ','path','unrelate','NbThO','Cannot\x20unassign\x20Administrator\x20user\x20from\x20Administrators\x20group.','models','2OdLXyP','Cannot\x20assign\x20the\x20Guest\x20user\x20to\x20a\x20group.','636627tKVPLi','system','Adybd','last','patch','graphql','permissions','match','write:groups','KGLPm','tpcWl','name','8NfDvEF','events','userId','insertAndFetch','15RTPmjH','276882ZinMZo','$relatedQuery','xBwxJ','SxjWw','revokeUserTokens','BaMRv','some','NYGWP','15810eveDqI','groupId','WhEba','LKiSj','CucNc','manage:system','defaultPermissions','Group\x20created\x20successfully.','Group\x20has\x20been\x20updated.','SjOFP','groups','htZaQ','relate','split','689139ditHXx','jDwcJ','userCount','includes','LpuFD','oVtHB','dAbmW','manage:groups','safe-regex','FNhaw','Some\x20Page\x20Rules\x20contains\x20unsafe\x20or\x20exponential\x20time\x20regex.','dbHoQ','stringify','eXNNj','outbound','generateSuccess','FWZZY','GraphQLError','iYUSP','redirectOnLogin','209NynoVP','Invalid\x20User\x20ID','ZBEvN','EuIkU','data','User\x20has\x20been\x20assigned\x20to\x20group.','1810912zlVQmT','VIYsG','auth','query','user','defaultPageRules','api','findById','users','User\x20is\x20already\x20assigned\x20to\x20group.','33662TnHjTY'];_0x274e=function(){return _0x20c31d;};return _0x274e();}function _0x890a(_0x5b0507,_0x5ca4e7){const _0x274ecb=_0x274e();return _0x890a=function(_0x890a2c,_0x560461){_0x890a2c=_0x890a2c-0xe2;let _0x7f9af8=_0x274ecb[_0x890a2c];return _0x7f9af8;},_0x890a(_0x5b0507,_0x5ca4e7);}const graphHelper=require(_0x210090(0x148)),safeRegex=require(_0x210090(0x12b)),_=require(_0x210090(0xee)),gql=require(_0x210090(0x101));module[_0x210090(0x151)]={'Query':{async 'groups'(){return{};}},'Mutation':{async 'groups'(){return{};}},'GroupQuery':{async 'list'(){const _0x28bc81=_0x210090,_0x4927b4={'dbHoQ':_0x28bc81(0xef),'Adybd':_0x28bc81(0x145),'BaMRv':_0x28bc81(0x125)};return WIKI[_0x28bc81(0xf9)][_0x28bc81(0x11f)][_0x28bc81(0x140)]()[_0x28bc81(0x152)](_0x4927b4[_0x28bc81(0x12e)],WIKI['models'][_0x28bc81(0x11f)][_0x28bc81(0xe2)](_0x4927b4[_0x28bc81(0xfe)])[_0x28bc81(0xe9)]()['as'](_0x4927b4[_0x28bc81(0x112)]));},async 'single'(_0xbe39a7,_0x25367e){const _0x2929f4=_0x210090;return WIKI[_0x2929f4(0xf9)][_0x2929f4(0x11f)]['query']()[_0x2929f4(0x144)](_0x25367e['id']);}},'GroupMutation':{async 'assignUser'(_0x5e25e9,_0x343e12,{req:_0xd5250}){const _0x752c49=_0x210090,_0x5d9498={'JSlqo':_0x752c49(0x11f),'LpuFD':_0x752c49(0xfd),'zEVBl':function(_0x56509a,_0x4c6857){return _0x56509a===_0x4c6857;},'hmUUT':_0x752c49(0x14e),'KGLPm':_0x752c49(0x146),'qkNSq':'users','SxjWw':_0x752c49(0x13c)};if(_0x5d9498[_0x752c49(0xe4)](_0x343e12[_0x752c49(0x10a)],0x2)){if(_0x752c49(0xf0)==='OVZyM')throw new gql[(_0x752c49(0x134))](_0x752c49(0xfb));else return{};}const _0x45deda=await WIKI['models'][_0x752c49(0x11f)][_0x752c49(0x140)]()[_0x752c49(0x144)](_0x343e12[_0x752c49(0x116)]);if(!_0x45deda)throw new gql[(_0x752c49(0x134))](_0x752c49(0xf2));if(WIKI[_0x752c49(0x13f)]['checkExclusiveAccess'](_0xd5250[_0x752c49(0x141)],[_0x752c49(0x104)],[_0x752c49(0x12a),_0x752c49(0x11a)])&&_0x45deda[_0x752c49(0x102)]['some'](_0x1c68f9=>{const _0x4f6f22=_0x752c49,_0x10de3d=_[_0x4f6f22(0xff)](_0x1c68f9[_0x4f6f22(0x122)](':'));return[_0x4f6f22(0x145),_0x5d9498['JSlqo'],_0x4f6f22(0xe8),_0x4f6f22(0x14c),_0x4f6f22(0x143),_0x5d9498[_0x4f6f22(0x127)]]['includes'](_0x10de3d);}))throw new gql['GraphQLError'](_0x5d9498['hmUUT']);const _0x17e93c=await WIKI[_0x752c49(0xf9)][_0x752c49(0x145)][_0x752c49(0x140)]()[_0x752c49(0x144)](_0x343e12[_0x752c49(0x10a)]);if(!_0x17e93c)throw new gql[(_0x752c49(0x134))](_0x752c49(0x138));const _0x9869c=await WIKI['models']['knex'](_0x752c49(0x14d))['where']({'userId':_0x343e12['userId'],'groupId':_0x343e12[_0x752c49(0x116)]})[_0x752c49(0xeb)]();if(_0x9869c)throw new gql[(_0x752c49(0x134))](_0x5d9498[_0x752c49(0x105)]);return await _0x45deda[_0x752c49(0x10e)](_0x5d9498['qkNSq'])[_0x752c49(0x121)](_0x17e93c['id']),WIKI['auth']['revokeUserTokens']({'id':_0x17e93c['id'],'kind':'u'}),WIKI['events'][_0x752c49(0x131)][_0x752c49(0xf1)](_0x752c49(0xed),{'id':_0x17e93c['id'],'kind':'u'}),{'responseResult':graphHelper['generateSuccess'](_0x5d9498[_0x752c49(0x110)])};},async 'create'(_0x5037fb,_0x2bca5a,{req:_0x50cd84}){const _0x33e522=_0x210090,_0x524dfe={'lfeye':_0x33e522(0x11c)},_0x1f370c=await WIKI[_0x33e522(0xf9)][_0x33e522(0x11f)][_0x33e522(0x140)]()[_0x33e522(0x10b)]({'name':_0x2bca5a[_0x33e522(0x107)],'permissions':JSON['stringify'](WIKI[_0x33e522(0x13b)][_0x33e522(0x11f)][_0x33e522(0x11b)]),'pageRules':JSON[_0x33e522(0x12f)](WIKI['data'][_0x33e522(0x11f)][_0x33e522(0x142)]),'isSystem':![]});return await WIKI[_0x33e522(0x13f)][_0x33e522(0x149)](),WIKI['events'][_0x33e522(0x131)]['emit']('reloadGroups'),{'responseResult':graphHelper[_0x33e522(0x132)](_0x524dfe['lfeye']),'group':_0x1f370c};},async 'delete'(_0x414e9e,_0x1037f8){const _0x49b979=_0x210090,_0x569182={'EuIkU':'navigation','dAbmW':function(_0x19a284,_0x36e1eb){return _0x19a284===_0x36e1eb;},'hPIwS':_0x49b979(0x139),'TdeEW':_0x49b979(0xed),'FFAdZ':'reloadGroups'};if(_0x569182[_0x49b979(0x129)](_0x1037f8['id'],0x1)||_0x1037f8['id']===0x2){if(_0x49b979(0xe5)===_0x569182[_0x49b979(0x14b)]){const _0x108744=_0x58fc23[_0x49b979(0xff)](_0x18bf6c[_0x49b979(0x122)](':'));return['users',_0x49b979(0x11f),_0x569182[_0x49b979(0x13a)],_0x49b979(0x14c),_0x49b979(0x143),_0x49b979(0xfd)]['includes'](_0x108744);}else throw new gql['GraphQLError']('Cannot\x20delete\x20this\x20group.');}return await WIKI[_0x49b979(0xf9)][_0x49b979(0x11f)][_0x49b979(0x140)]()['deleteById'](_0x1037f8['id']),WIKI[_0x49b979(0x13f)][_0x49b979(0x111)]({'id':_0x1037f8['id'],'kind':'g'}),WIKI[_0x49b979(0x109)][_0x49b979(0x131)][_0x49b979(0xf1)](_0x569182['TdeEW'],{'id':_0x1037f8['id'],'kind':'g'}),await WIKI[_0x49b979(0x13f)]['reloadGroups'](),WIKI[_0x49b979(0x109)]['outbound']['emit'](_0x569182[_0x49b979(0xf4)]),{'responseResult':graphHelper[_0x49b979(0x132)]('Group\x20has\x20been\x20deleted.')};},async 'unassignUser'(_0x44f04f,_0x3fb50a){const _0x2c4a87=_0x210090,_0x42368e={'pzKaM':_0x2c4a87(0x14e),'VIYsG':function(_0x557932,_0x41d2b1){return _0x557932===_0x41d2b1;},'NYGWP':_0x2c4a87(0xea),'NbThO':function(_0x2b70ef,_0x491d1e){return _0x2b70ef===_0x491d1e;},'LKiSj':_0x2c4a87(0x10a),'fWmpj':_0x2c4a87(0xed),'pUSaR':'User\x20has\x20been\x20unassigned\x20from\x20group.'};if(_0x42368e[_0x2c4a87(0x13e)](_0x3fb50a['userId'],0x2))throw new gql[(_0x2c4a87(0x134))](_0x42368e[_0x2c4a87(0x114)]);if(_0x42368e[_0x2c4a87(0xf7)](_0x3fb50a[_0x2c4a87(0x10a)],0x1)&&_0x42368e['NbThO'](_0x3fb50a[_0x2c4a87(0x116)],0x1)){if(_0x2c4a87(0x124)===_0x2c4a87(0x11e))throw new _0x576c45[(_0x2c4a87(0x134))](_0x42368e[_0x2c4a87(0xe6)]);else throw new gql[(_0x2c4a87(0x134))](_0x2c4a87(0xf8));}const _0x1ae07e=await WIKI[_0x2c4a87(0xf9)]['groups']['query']()[_0x2c4a87(0x144)](_0x3fb50a[_0x2c4a87(0x116)]);if(!_0x1ae07e)throw new gql[(_0x2c4a87(0x134))](_0x2c4a87(0xf2));const _0x4ddc78=await WIKI[_0x2c4a87(0xf9)]['users'][_0x2c4a87(0x140)]()['findById'](_0x3fb50a[_0x2c4a87(0x10a)]);if(!_0x4ddc78)throw new gql[(_0x2c4a87(0x134))](_0x2c4a87(0x138));return await _0x1ae07e[_0x2c4a87(0x10e)](_0x2c4a87(0x145))[_0x2c4a87(0xf6)]()[_0x2c4a87(0xec)](_0x42368e[_0x2c4a87(0x118)],_0x4ddc78['id']),WIKI[_0x2c4a87(0x13f)][_0x2c4a87(0x111)]({'id':_0x4ddc78['id'],'kind':'u'}),WIKI[_0x2c4a87(0x109)]['outbound'][_0x2c4a87(0xf1)](_0x42368e[_0x2c4a87(0xe3)],{'id':_0x4ddc78['id'],'kind':'u'}),{'responseResult':graphHelper[_0x2c4a87(0x132)](_0x42368e['pUSaR'])};},async 'update'(_0xdef4f6,_0x50a7a4,{req:_0x4d71d3}){const _0x155a24=_0x210090,_0x31c4e7={'CucNc':function(_0x2b437e,_0x2ae3c0){return _0x2b437e===_0x2ae3c0;},'PneBJ':'REGEX','iYUSP':function(_0x14eb96,_0x293cd8){return _0x14eb96(_0x293cd8);},'xBwxJ':_0x155a24(0x11f),'uVZjF':_0x155a24(0xe8),'mTeZX':_0x155a24(0x14c),'cRasg':_0x155a24(0x146),'oVtHB':_0x155a24(0x12d),'WhEba':_0x155a24(0x133),'eXNNj':'You\x20are\x20not\x20authorized\x20to\x20manage\x20this\x20group\x20or\x20assign\x20these\x20permissions.','tpcWl':'addAuthRevoke','FNhaw':'reloadGroups','pDVnx':_0x155a24(0x11d)};if(_[_0x155a24(0x113)](_0x50a7a4[_0x155a24(0x150)],_0x5da751=>{const _0xa05973=_0x155a24;return _0x31c4e7[_0xa05973(0x119)](_0x5da751[_0xa05973(0x103)],_0x31c4e7['PneBJ'])&&!_0x31c4e7[_0xa05973(0x135)](safeRegex,_0x5da751[_0xa05973(0xf5)]);}))throw new gql[(_0x155a24(0x134))](_0x31c4e7[_0x155a24(0x128)]);_['isEmpty'](_0x50a7a4[_0x155a24(0x136)])&&(_0x50a7a4['redirectOnLogin']='/');if(WIKI[_0x155a24(0x13f)]['checkExclusiveAccess'](_0x4d71d3['user'],['write:groups'],[_0x155a24(0x12a),_0x155a24(0x11a)])&&_0x50a7a4['permissions']['some'](_0x5520c2=>{const _0x472a40=_0x155a24,_0x3357a8=_[_0x472a40(0xff)](_0x5520c2[_0x472a40(0x122)](':'));return[_0x472a40(0x145),_0x31c4e7[_0x472a40(0x10f)],_0x31c4e7[_0x472a40(0xf3)],_0x31c4e7['mTeZX'],_0x472a40(0x143),_0x472a40(0xfd)][_0x472a40(0x126)](_0x3357a8);})){if(_0x155a24(0x120)===_0x31c4e7[_0x155a24(0x117)])throw new _0xbadb53[(_0x155a24(0x134))](_0x31c4e7[_0x155a24(0xe7)]);else throw new gql[(_0x155a24(0x134))](_0x31c4e7[_0x155a24(0x130)]);}return await WIKI['models'][_0x155a24(0x11f)][_0x155a24(0x140)]()[_0x155a24(0x100)]({'name':_0x50a7a4[_0x155a24(0x107)],'redirectOnLogin':_0x50a7a4['redirectOnLogin'],'permissions':JSON[_0x155a24(0x12f)](_0x50a7a4['permissions']),'pageRules':JSON[_0x155a24(0x12f)](_0x50a7a4[_0x155a24(0x150)])})[_0x155a24(0xec)]('id',_0x50a7a4['id']),WIKI[_0x155a24(0x13f)][_0x155a24(0x111)]({'id':_0x50a7a4['id'],'kind':'g'}),WIKI['events'][_0x155a24(0x131)]['emit'](_0x31c4e7[_0x155a24(0x106)],{'id':_0x50a7a4['id'],'kind':'g'}),await WIKI['auth'][_0x155a24(0x149)](),WIKI[_0x155a24(0x109)][_0x155a24(0x131)][_0x155a24(0xf1)](_0x31c4e7[_0x155a24(0x12c)]),{'responseResult':graphHelper[_0x155a24(0x132)](_0x31c4e7[_0x155a24(0x14a)])};}},'Group':{'users'(_0x58b549){const _0x396987=_0x210090;return _0x58b549['$relatedQuery'](_0x396987(0x145));}}};