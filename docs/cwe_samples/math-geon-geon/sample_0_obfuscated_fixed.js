const _0x243c8b=_0x278d;(function(_0x49e374,_0x378a63){const _0x28df96=_0x278d,_0x2959dd=_0x49e374();while(!![]){try{const _0x59966d=-parseInt(_0x28df96(0x176))/0x1+-parseInt(_0x28df96(0x1c0))/0x2+parseInt(_0x28df96(0x179))/0x3+parseInt(_0x28df96(0x1c2))/0x4*(-parseInt(_0x28df96(0x1a3))/0x5)+-parseInt(_0x28df96(0x1bf))/0x6*(-parseInt(_0x28df96(0x1a5))/0x7)+-parseInt(_0x28df96(0x187))/0x8+parseInt(_0x28df96(0x1a4))/0x9;if(_0x59966d===_0x378a63)break;else _0x2959dd['push'](_0x2959dd['shift']());}catch(_0x22e802){_0x2959dd['push'](_0x2959dd['shift']());}}}(_0x21aa,0xc4a2f),console['log'](_0x243c8b(0x1c4)));function _0x21aa(){const _0x574a85=['New\x20Password:\x20','../server/util-server','message','YrUJA','stdout','Passwords\x20do\x20not\x20match,\x20please\x20try\x20again.','PcRSP','websocket','hSFRf','Finished.','UbQgY','rvoQY','mwtqC','user\x20not\x20found,\x20have\x20you\x20installed?','QdwqH','login','obnzN','599267zCxdne','MjxPO','znfbY','3846693bgrZyy','omwWh','Login\x20failed.','Connecting\x20to\x20','Found\x20user:\x20','XJNlq','Please\x20restart\x20the\x20server\x20to\x20disconnect\x20all\x20sessions\x20manually.','redbean-node','JbATv','close','warn','findOne','BDUAn','Error:\x20','7263616iiknQo','TEST_BACKEND','../server/database','hajhG','LICTn','Confirm\x20New\x20Password:\x20','wMjXb','question','connect_error','username','wMsHB','tJpDv','HPAXE','IzTlO','hQSKf','user','NdwQj','Connecting\x20the\x20database','argv','AZFSI','NQlri','oDnxE','hEFcz','JLiTV','resetPassword','kKLBV','wrufD','pnRWz','1261225NTUmhT','23492349MDqMmn','826EvYFwM','XJWZF','createInterface','qhvXG','Logged\x20in.','vxeXf','socket.io-client','ELxsk','disconnect','emit','CpIPG','env','Password\x20reset\x20successfully.','connect','Rcrnc','YUGLI','YFSgb','log','rIIys','Please\x20restart\x20the\x20server\x20to\x20disconnect\x20all\x20sessions.','YrFnD','MBCTH','ILmnX','RIyRJ','Refmj','\x20to\x20disconnect\x20all\x20other\x20socket\x20clients','4500nMnwVt','2832210wSquFw','../server/config','4FKLRAx','Failed\x20to\x20connect\x20to\x20','==\x20Uptime\x20Kuma\x20Reset\x20Password\x20Tool\x20==','zGubR','wuTdr'];_0x21aa=function(){return _0x574a85;};return _0x21aa();}function _0x278d(_0x5ec39b,_0x205ad1){const _0x21aaa4=_0x21aa();return _0x278d=function(_0x278d4b,_0x685c4d){_0x278d4b=_0x278d4b-0x172;let _0x4798bd=_0x21aaa4[_0x278d4b];return _0x4798bd;},_0x278d(_0x5ec39b,_0x205ad1);}const Database=require(_0x243c8b(0x189)),{R}=require(_0x243c8b(0x180)),readline=require('readline'),{initJWTSecret}=require(_0x243c8b(0x1c8)),User=require('../server/model/user'),{io}=require(_0x243c8b(0x1ab)),{localWebSocketURL}=require(_0x243c8b(0x1c1)),args=require('args-parser')(process[_0x243c8b(0x199)]),rl=readline[_0x243c8b(0x1a7)]({'input':process['stdin'],'output':process[_0x243c8b(0x1cb)]}),main=async()=>{const _0x2189e5=_0x243c8b,_0xdf2834={'pQFDc':_0x2189e5(0x17f),'rIIys':function(_0x45d3a5){return _0x45d3a5();},'Kepvv':function(_0x325af4,_0xc4b8c9){return _0x325af4+_0xc4b8c9;},'NQlri':function(_0x2d4bfe){return _0x2d4bfe();},'wrufD':function(_0xd65583,_0xf88d89){return _0xd65583===_0xf88d89;},'hQSKf':_0x2189e5(0x196),'QdwqH':_0x2189e5(0x172),'IzTlO':function(_0x3eb330,_0xb9de57){return _0x3eb330+_0xb9de57;},'AZFSI':_0x2189e5(0x17d),'MjxPO':'iCQDY','zjurG':_0x2189e5(0x1c7),'UbQgY':function(_0x379125,_0x569fec){return _0x379125(_0x569fec);},'oDnxE':_0x2189e5(0x18c),'CpIPG':function(_0x1c28ce,_0x2da1e7){return _0x1c28ce!==_0x2da1e7;},'YrFnD':_0x2189e5(0x19e),'Refmj':_0x2189e5(0x1b1),'BDUAn':_0x2189e5(0x18b),'RIyRJ':function(_0x3f1170,_0x48ef4d){return _0x3f1170+_0x48ef4d;},'NdwQj':_0x2189e5(0x186)};console['log'](_0x2189e5(0x198)),Database['init'](args),await Database['connect'](![],![],!![]);try{if(!process['env'][_0x2189e5(0x188)]){if(_0xdf2834[_0x2189e5(0x1a1)](_0x2189e5(0x1cd),_0x2189e5(0x1cd))){const _0x36b341=await R[_0x2189e5(0x184)](_0xdf2834[_0x2189e5(0x195)]);if(!_0x36b341)throw new Error(_0xdf2834[_0x2189e5(0x173)]);console[_0x2189e5(0x1b6)](_0xdf2834[_0x2189e5(0x194)](_0xdf2834[_0x2189e5(0x19a)],_0x36b341[_0x2189e5(0x190)]));while(!![]){if(_0xdf2834['MjxPO']===_0xdf2834[_0x2189e5(0x177)]){let _0x18c7e9=await question(_0xdf2834['zjurG']),_0x428338=await _0xdf2834[_0x2189e5(0x1d1)](question,_0xdf2834[_0x2189e5(0x19c)]);if(_0x18c7e9===_0x428338){if(_0xdf2834[_0x2189e5(0x1af)](_0xdf2834[_0x2189e5(0x1b9)],_0xdf2834[_0x2189e5(0x1b9)]))_0x535f40['warn'](_0x2189e5(0x1c3)+_0x34bea0),_0x246749[_0x2189e5(0x183)](_0xdf2834['pQFDc']),_0xdf2834[_0x2189e5(0x1b7)](_0x22eb8f);else{await User[_0x2189e5(0x19f)](_0x36b341['id'],_0x18c7e9),await _0xdf2834[_0x2189e5(0x19b)](initJWTSecret),await disconnectAllSocketClients(_0x36b341[_0x2189e5(0x190)],_0x18c7e9);break;}}else console[_0x2189e5(0x1b6)](_0x2189e5(0x1cc));}else throw new _0x537a46(_0x2189e5(0x172));}console[_0x2189e5(0x1b6)](_0xdf2834[_0x2189e5(0x1bd)]);}else _0x3edac5['error'](_0xdf2834['Kepvv'](_0x2189e5(0x186),_0x4bd346[_0x2189e5(0x1c9)]));}}catch(_0xb53011){_0xdf2834[_0x2189e5(0x185)]===_0x2189e5(0x1b5)?_0xdf2834['NQlri'](_0x20bba8):console['error'](_0xdf2834[_0x2189e5(0x1bc)](_0xdf2834[_0x2189e5(0x197)],_0xb53011[_0x2189e5(0x1c9)]));}await Database[_0x2189e5(0x182)](),rl[_0x2189e5(0x182)](),console['log'](_0x2189e5(0x1d0));};function question(_0xc66a32){const _0x15e9a8={'tJpDv':function(_0x10703b,_0x4dc461){return _0x10703b(_0x4dc461);},'ILmnX':'vxeXf'};return new Promise(_0x168add=>{const _0x136d78=_0x278d,_0x377be8={'mwtqC':function(_0x3e3ea1,_0x42dede){const _0x6517c8=_0x278d;return _0x15e9a8[_0x6517c8(0x192)](_0x3e3ea1,_0x42dede);}};_0x15e9a8[_0x136d78(0x1bb)]===_0x136d78(0x1aa)?rl[_0x136d78(0x18e)](_0xc66a32,_0x21b69a=>{const _0x11ba2b=_0x136d78;_0x377be8[_0x11ba2b(0x1d3)](_0x168add,_0x21b69a);}):_0x14aec1();});}function disconnectAllSocketClients(_0x1cf7d9,_0x4acc11){const _0x1f7c2e=_0x243c8b,_0x310670={'LMwAn':'Login\x20failed.','hEFcz':_0x1f7c2e(0x1b8),'pnRWz':_0x1f7c2e(0x1d2),'ELxsk':'disconnectOtherSocketClients','YrUJA':function(_0x1134c4,_0x43d680){return _0x1134c4!==_0x43d680;},'JbATv':_0x1f7c2e(0x1c3),'YUGLI':function(_0x239d20){return _0x239d20();},'qhvXG':_0x1f7c2e(0x17c),'cGkdD':_0x1f7c2e(0x1be),'znfbY':_0x1f7c2e(0x1b2)};return new Promise(_0x1d4873=>{const _0x2e05f6=_0x1f7c2e,_0x2b243c={'hajhG':_0x310670[_0x2e05f6(0x1ac)],'kKLBV':function(_0x3962a7,_0x56451b){const _0x9f80f=_0x2e05f6;return _0x310670[_0x9f80f(0x1ca)](_0x3962a7,_0x56451b);},'hSFRf':_0x2e05f6(0x1b8),'wMjXb':function(_0x30109a,_0x2a2277){return _0x30109a+_0x2a2277;},'XJNlq':_0x310670[_0x2e05f6(0x181)],'SnPPF':function(_0x3ab6ba){const _0x46de55=_0x2e05f6;return _0x310670[_0x46de55(0x1b4)](_0x3ab6ba);}};console[_0x2e05f6(0x1b6)](_0x310670[_0x2e05f6(0x1a8)]+localWebSocketURL+_0x310670['cGkdD']);const _0x117fee=io(localWebSocketURL,{'transports':[_0x2e05f6(0x1ce)],'reconnection':![],'timeout':0x1388});_0x117fee['on'](_0x310670[_0x2e05f6(0x178)],()=>{const _0x1627b9=_0x2e05f6,_0x4a6895={'IFMXL':_0x1627b9(0x1a9),'obnzN':_0x2b243c[_0x1627b9(0x18a)],'omwWh':function(_0x517b78,_0x49858f){const _0x21b41e=_0x1627b9;return _0x2b243c[_0x21b41e(0x1a0)](_0x517b78,_0x49858f);},'XJWZF':_0x1627b9(0x17b),'wMsHB':_0x2b243c[_0x1627b9(0x1cf)]};_0x117fee[_0x1627b9(0x1ae)](_0x1627b9(0x174),{'username':_0x1cf7d9,'password':_0x4acc11},_0x431753=>{const _0x30d3a3=_0x1627b9;_0x431753['ok']?(console['log'](_0x30d3a3(0x1a9)),_0x117fee[_0x30d3a3(0x1ae)](_0x4a6895[_0x30d3a3(0x175)])):_0x4a6895[_0x30d3a3(0x17a)](_0x30d3a3(0x1b3),'gBqSu')?(console[_0x30d3a3(0x183)](_0x4a6895[_0x30d3a3(0x1a6)]),console[_0x30d3a3(0x183)](_0x4a6895[_0x30d3a3(0x191)])):(_0x886ff9[_0x30d3a3(0x1b6)](_0x4a6895['IFMXL']),_0x20b854['emit'](_0x4a6895['obnzN'])),_0x117fee[_0x30d3a3(0x182)]();});}),_0x117fee['on'](_0x2e05f6(0x18f),function(){const _0x745d77=_0x2e05f6;_0x2b243c[_0x745d77(0x1a0)](_0x745d77(0x193),_0x745d77(0x1ba))?(console[_0x745d77(0x183)](_0x2b243c[_0x745d77(0x18d)](_0x2b243c[_0x745d77(0x17e)],localWebSocketURL)),console[_0x745d77(0x183)](_0x745d77(0x17f)),_0x2b243c['SnPPF'](_0x1d4873)):_0x1455eb[_0x745d77(0x18e)](_0x16fd01,_0x29a122=>{_0x3fde3a(_0x29a122);});}),_0x117fee['on'](_0x2e05f6(0x1ad),()=>{const _0x387fb6=_0x2e05f6,_0x2e9cda={'wuTdr':_0x310670['LMwAn'],'zGubR':_0x310670[_0x387fb6(0x19d)]};_0x310670[_0x387fb6(0x1a2)]!=='qRuWU'?_0x1d4873():(_0x29d818[_0x387fb6(0x183)](_0x2e9cda[_0x387fb6(0x1c6)]),_0x4ef937[_0x387fb6(0x183)](_0x2e9cda[_0x387fb6(0x1c5)]));});});}!process[_0x243c8b(0x1b0)]['TEST_BACKEND']&&main();module['exports']={'main':main};