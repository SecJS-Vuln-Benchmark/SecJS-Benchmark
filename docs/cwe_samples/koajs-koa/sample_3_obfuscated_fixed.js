#!/usr/bin/env node
'use strict';const _0x4a7af1=_0x1c8f;(function(_0x1f6602,_0x39e380){const _0x567560=_0x1c8f,_0x2ba1ed=_0x1f6602();while(!![]){try{const _0x32dea7=-parseInt(_0x567560(0x164))/0x1+-parseInt(_0x567560(0x17e))/0x2+-parseInt(_0x567560(0x15e))/0x3+parseInt(_0x567560(0x1ea))/0x4+-parseInt(_0x567560(0x147))/0x5+parseInt(_0x567560(0x207))/0x6*(-parseInt(_0x567560(0x16d))/0x7)+-parseInt(_0x567560(0x1a7))/0x8*(-parseInt(_0x567560(0x20a))/0x9);if(_0x32dea7===_0x39e380)break;else _0x2ba1ed['push'](_0x2ba1ed['shift']());}catch(_0x431835){_0x2ba1ed['push'](_0x2ba1ed['shift']());}}}(_0x2a51,0xa7e8e));function _0x2a51(){const _0x3698b2=['dress','YzeCn','PGMlG','update\x20\x22penguin\x22\x20set\x20\x22clothing\x22=$2\x20where\x20\x22name\x22=$1','move','type','localhost','sBZyt','sendUTF','TYkmu','aFtZM','nKqmC','say','insert\x20into\x20\x22penguin\x22(\x22name\x22,\x20\x22closet\x22,\x20\x22clothing\x22,\x20\x22registered\x22,\x20\x22group\x22)\x20VALUES($1,\x20$2,\x20$3,\x20$4,\x20$5)','\x20dressed\x20','push','mFuNM','request','text','cookies','yOUsF','BJTvp','emmLV','iPhLV','Problems\x20reading\x20session','newY','sxOSE','zYLek','NMmOi','/authenticate','iTNYK','origin','startsWith','NODE_ENV','88Qibjel','BZYPh','express-session','ULcmh','getTarget','express','jtzIX','HIFDh','ibJdD','function','pJlKV','glcUJ','query','AePiw','cookie-parser','\x20Peer\x20','eZCaZ','SERVER_GOING_DOWN','newX','DQXAx','Tuto\x20věc\x20již\x20máš.','nbavf','set','\x20undressed\x20','room','mPliX','itemId','filter','WMdIr','JNytL','kdCly','includes','ATpHb','_class','WoLox','dpqPS','statusCode','travel','FiUzM','development','get','\x20Connection\x20accepted.','hostname','OPENID_REALM','VTbDN','message','sendFile','QEedm','jerJd','fVwyy','CSjAz','kFcTR','przir','ItKdu','port','HfcZm','BUTlx','name','remoteAddress','join','user','redirect','./auth/openid','qruhw','env','tbNis','dIdOI','4194208TfkoOx','fXfdk','morgan','IvDSC','UMdzH','seklW','../client','log','http','\x20attempted\x20to\x20acquire\x20','listen','tclqr','zWmae','XTZPD','JVnwB','YMXZY','path','WFgJe','../content/world/map.json','hnXtc','session','rwsLo','trDjw','eofbn','trim','sync','lmbRX','drop','QyAqg','5394108rDVglb','Znehc','dHkPR','2195145DLJauv','close','IUGtB','group','spawn','area','value','\x20Reason:\x20','containsPoint','vfjlf','banned','YlhTi','mKexw','SESSION_READ_ERROR','collect','./poly','select\x20*\x20from\x20\x22penguin\x22','OPENID_PROVIDER','\x20Connection\x20from\x20origin\x20','addItem','kUetr','cJftr','VIgwV','substr','readFileSync','KbfAf','Started\x20app\x20on\x20port\x20%d','bind','loNbd','OPENID_VERIFY','pryNh','UPusb','vBWBA','ACCEPTED_ORIGINS','use','939110VIXIIv','reject','fBsYJ','serve-static','combined','CMkfr','fGyEe','iAbNg','error','Server\x20is\x20going\x20down','es6-promisify','registered','pkQBe','./mapUtils',')\x20disconnected.','gEgrP','MUpqI','title','admin','available','tHiPj','\x20rejected.','127.0.0.1','2696040hpymGC','exit','WAhUB','clothing','../content/items/items.json','./auth/simple','477174MpdCTT','string','tdGmi','keys','toUTCString','WbjiC','DATABASE_URL','split','lWoQw','7hzARlw','CnRuW','oYdvL','qbwkr','stringify','door','xIonM','rows','utf8','qCrst','Tato\x20věc\x20nejde\x20v\u00a0současnosti\x20získat.','kKMuk','ybsmy','parse','utf8Data','\x20said\x20','XtUDm','1162110wSbVDz','zones','closet','mjvei','EByeI','mqBBd','createServer'];_0x2a51=function(){return _0x3698b2;};return _0x2a51();}process[_0x4a7af1(0x158)]='pengu';const {server:WebSocketServer}=require('websocket'),http=require(_0x4a7af1(0x1f2)),path=require(_0x4a7af1(0x1fa)),express=require(_0x4a7af1(0x1ac)),pg=require('pg'),poly=require(_0x4a7af1(0x133)),{Line,Point}=poly,pengu=require('./pengu'),mapUtils=require(_0x4a7af1(0x154)),{promisify}=require(_0x4a7af1(0x151)),session=require(_0x4a7af1(0x1a9)),{signedCookie}=require(_0x4a7af1(0x1b5)),morgan=require(_0x4a7af1(0x1ec)),serveStatic=require(_0x4a7af1(0x14a)),fs=require('fs');function _0x1c8f(_0x30df9a,_0x11029e){const _0x2a51b2=_0x2a51();return _0x1c8f=function(_0x1c8f1e,_0x25f384){_0x1c8f1e=_0x1c8f1e-0x132;let _0x1f3a60=_0x2a51b2[_0x1c8f1e];return _0x1f3a60;},_0x1c8f(_0x30df9a,_0x11029e);}function findById(_0x56e3d8,_0x234236){const _0x1bdcc2=_0x4a7af1,_0x44ac06={'fGyEe':function(_0x361674,_0x288c84){return _0x361674===_0x288c84;},'qruhw':_0x1bdcc2(0x1b0),'qeVBW':function(_0x1b8fa9,_0x221dd9){return _0x1b8fa9!==_0x221dd9;},'YlhTi':_0x1bdcc2(0x166)};for(let _0x40848f of _0x56e3d8){if(_0x40848f['id']===_0x234236){if(_0x44ac06['qeVBW'](_0x1bdcc2(0x1ca),_0x44ac06[_0x1bdcc2(0x215)]))return _0x40848f;else{_0xc47c99=_0x1436ea[_0x1bdcc2(0x1c8)];if(typeof _0xe01aed===_0x1bdcc2(0x165)&&_0x44ac06[_0x1bdcc2(0x14d)](typeof _0x2732bd[_0x20923e],_0x44ac06[_0x1bdcc2(0x1e6)]))return new _0x386112[_0x4d1f37](_0x3a3d28);}}}return null;}const acceptedOrigins=process[_0x4a7af1(0x1e7)][_0x4a7af1(0x145)]?process[_0x4a7af1(0x1e7)][_0x4a7af1(0x145)][_0x4a7af1(0x16b)](','):[_0x4a7af1(0x18b),_0x4a7af1(0x15d)];async function runApp(){const _0x2eb05f=_0x4a7af1,_0x1928aa={'VIgwV':function(_0x1ad5f1,_0x2131c8){return _0x1ad5f1+_0x2131c8;},'AlEGa':_0x2eb05f(0x211),'eZCaZ':_0x2eb05f(0x16f),'przir':function(_0x416d0f,_0x39c4ed){return _0x416d0f!==_0x39c4ed;},'MUpqI':'zLIaV','kKMuk':_0x2eb05f(0x1a2),'BUTlx':function(_0x487f15,_0x32dde2){return _0x487f15===_0x32dde2;},'fVwyy':'nUcLT','kdCly':'../client/index.html','PbJME':function(_0x384a23,_0x56240d){return _0x384a23===_0x56240d;},'BZYPh':'function','QyAqg':_0x2eb05f(0x191),'jtzIX':_0x2eb05f(0x1e5),'xWWAR':_0x2eb05f(0x175),'vBWBA':function(_0x14800a,_0x48253e){return _0x14800a===_0x48253e;},'FODjS':'init','tHiPj':function(_0x5b4d6f,_0x338556){return _0x5b4d6f===_0x338556;},'HIFDh':_0x2eb05f(0x1eb),'CSjAz':'Missing\x20session.','PyNPE':'Username\x20already\x20being\x20used','BJTvp':_0x2eb05f(0x203),'mFuNM':'plaza','PGMlG':'Initial\x20handshake\x20with\x20','aFtZM':function(_0x422a2e,_0x4a89e9){return _0x422a2e===_0x4a89e9;},'dHkPR':'enter','fBsYJ':'syncCloset','CnRuW':_0x2eb05f(0x19d),'TYkmu':function(_0x10e828,_0x4ff2fc){return _0x10e828+_0x4ff2fc;},'xIonM':function(_0x4a282b,_0x1dbadf){return _0x4a282b+_0x1dbadf;},'pofSD':'\x20to\x20','IvDSC':'bjchx','loNbd':'NlGdQ','kUetr':_0x2eb05f(0x172),'vLgbs':'\x20goes\x20to\x20','XtUDm':_0x2eb05f(0x1d4),'uCZAe':'moderator','wHKuO':'/unmute\x20','mjvei':_0x2eb05f(0x1c7),'dIdOI':_0x2eb05f(0x1ba),'ItKdu':function(_0x10c921,_0x55f941){return _0x10c921+_0x55f941;},'KFNxg':function(_0xb3de0,_0x43afe6){return _0xb3de0+_0x43afe6;},'UMdzH':_0x2eb05f(0x137),'sxOSE':'CqWSk','YMXZY':'bWvyl','seklW':_0x2eb05f(0x177),'lmbRX':_0x2eb05f(0x1f3),'sBZyt':'CWsia','lWoQw':_0x2eb05f(0x132),'trDjw':function(_0x88347a,_0x7c9d4c){return _0x88347a!==_0x7c9d4c;},'JVnwB':_0x2eb05f(0x1de),'nKqmC':'update\x20\x22penguin\x22\x20set\x20\x22closet\x22=$2\x20where\x20\x22name\x22=$1','mqBBd':function(_0x2811a0,_0x377690){return _0x2811a0+_0x377690;},'pryNh':function(_0x5934c2,_0x4881e0){return _0x5934c2+_0x4881e0;},'iTNYK':'\x20attempted\x20to\x20reacquire\x20','KbfAf':_0x2eb05f(0x185),'SfdaS':function(_0x31fce2,_0x45616b){return _0x31fce2+_0x45616b;},'nbavf':_0x2eb05f(0x1be),'Znehc':function(_0x577322,_0x464f1b){return _0x577322!==_0x464f1b;},'IUGtB':_0x2eb05f(0x169),'gEgrP':_0x2eb05f(0x160),'QEedm':'rwsLo','ibJdD':function(_0xc6bffe,_0x4c0199){return _0xc6bffe+_0x4c0199;},'AePiw':_0x2eb05f(0x1b6),'NDbvh':_0x2eb05f(0x155),'mKexw':_0x2eb05f(0x15f),'WFgJe':function(_0x2fd741,_0x12f00c){return _0x2fd741+_0x12f00c;},'WMdIr':_0x2eb05f(0x176),'nMPEH':function(_0xeec451,_0x4070fc){return _0xeec451+_0x4070fc;},'VTbDN':'\x20Connection\x20from\x20origin\x20','tbNis':function(_0x37742b,_0x3dcf55){return _0x37742b+_0x3dcf55;},'YXlwg':_0x2eb05f(0x1d0),'iAbNg':_0x2eb05f(0x150),'zWmae':function(_0x23455e){return _0x23455e();},'emmLV':function(_0x5c0079,_0x1e318d){return _0x5c0079(_0x1e318d);},'mPliX':function(_0x18f67c,_0x503a26){return _0x18f67c===_0x503a26;},'kFcTR':_0x2eb05f(0x1ce),'BfvEN':_0x2eb05f(0x14b),'YzeCn':'/content','yOUsF':'../content','glcUJ':function(_0x2e00c8,_0xef2dd5){return _0x2e00c8(_0xef2dd5);},'pkQBe':_0x2eb05f(0x1dd),'cJrxX':_0x2eb05f(0x1fc),'hwBGa':_0x2eb05f(0x134),'vfjlf':'EByeI'};let _0x3c8832=_0x1928aa[_0x2eb05f(0x1f6)](express);_0x3c8832[_0x2eb05f(0x1bd)](_0x2eb05f(0x1dd),process[_0x2eb05f(0x1e7)]['PORT']??0x1f90);let _0x5cdb16=new session['MemoryStore'](),_0x440ece=Math['random']()['toString']();_0x3c8832[_0x2eb05f(0x146)](_0x1928aa['emmLV'](session,{'store':_0x5cdb16,'resave':!![],'saveUninitialized':!![],'secret':_0x440ece,'cookie':{'maxAge':0x2710},'key':'sid'}));let _0x348f15=process[_0x2eb05f(0x1e7)][_0x2eb05f(0x1a6)]??_0x2eb05f(0x1ce);_0x1928aa[_0x2eb05f(0x1c0)](_0x348f15,_0x1928aa[_0x2eb05f(0x1da)])&&_0x3c8832[_0x2eb05f(0x146)](morgan(_0x1928aa['BfvEN']));_0x3c8832['get']('/',function(_0x271fd9,_0x8a72a9){const _0x4c02a8=_0x2eb05f,_0x3a19be={'XTZPD':function(_0x3ca827,_0x48e81b){return _0x3ca827+_0x48e81b;},'WoLox':function(_0x10b0e8,_0x1135f4){return _0x10b0e8+_0x1135f4;},'iPhLV':function(_0x5cd395,_0x30dd4a){const _0x1d4841=_0x1c8f;return _0x1928aa[_0x1d4841(0x13a)](_0x5cd395,_0x30dd4a);},'pJlKV':_0x4c02a8(0x1b6),'cJftr':_0x1928aa['AlEGa'],'FiUzM':_0x4c02a8(0x15f)};if(_0x1928aa[_0x4c02a8(0x1b7)]!==_0x4c02a8(0x1c4)){if(!_0x271fd9[_0x4c02a8(0x1fe)][_0x4c02a8(0x1e3)])_0x1928aa[_0x4c02a8(0x1db)](_0x1928aa[_0x4c02a8(0x157)],_0x4c02a8(0x14c))?_0x8a72a9[_0x4c02a8(0x1e4)](_0x1928aa[_0x4c02a8(0x178)]):(_0x1d9fc8[_0x4c02a8(0x1cc)]=_0x3f8a43,_0x219765[_0x370998]['x']=_0x46c8e9[_0x4c02a8(0x1b9)]=_0x4166e4[_0x12f7aa][_0x4c02a8(0x20e)]['x'],_0x564636[_0x591346]['y']=_0xd5d777['newY']=_0x2633ab[_0x52ced7][_0x4c02a8(0x20e)]['y']);else{if(_0x1928aa[_0x4c02a8(0x1df)](_0x1928aa[_0x4c02a8(0x1d8)],'nUcLT'))_0x8a72a9[_0x4c02a8(0x1cb)]=0xc8,_0x8a72a9[_0x4c02a8(0x1d5)](path['join'](__dirname,_0x1928aa[_0x4c02a8(0x1c5)]));else{const _0x4817b7=new _0x408478(_0xdf2b95);return _0x2896e1[_0x4c02a8(0x1c6)](_0x4817b7['hostname']);}}}else{_0x6b54b=_0x585705[_0x4c02a8(0x1c2)](_0x515d98=>_0x515d98!==_0x5c1cd9),_0x2c88a1[_0x173223['name']]=_0x241540[_0x43f0b5['name']],delete _0x8d6f9d[_0x1043b2['name']],_0x309fe6[_0x4c02a8(0x1f1)](_0x3a19be[_0x4c02a8(0x1f7)](_0x3a19be[_0x4c02a8(0x1c9)](_0x3a19be[_0x4c02a8(0x1c9)](_0x3a19be[_0x4c02a8(0x19c)](new _0x2c1e56(),_0x3a19be[_0x4c02a8(0x1b1)]),_0x193ffc[_0x4c02a8(0x1e1)])+'(',_0x355300[_0x4c02a8(0x1e0)])+_0x4c02a8(0x155),_0x3d42c9?_0x3a19be[_0x4c02a8(0x139)]+_0x1e0e86:''));for(let _0x221e3d of _0x130ed9){_0x221e3d[_0x4c02a8(0x18d)](_0x4e347c['stringify']({'type':_0x3a19be[_0x4c02a8(0x1cd)],'name':_0x4198a7[_0x4c02a8(0x1e0)]}));}}}),_0x3c8832['use'](_0x1928aa[_0x2eb05f(0x186)],_0x1928aa[_0x2eb05f(0x19b)](serveStatic,path[_0x2eb05f(0x1e2)](__dirname,_0x1928aa[_0x2eb05f(0x199)]))),_0x3c8832['use']('/',_0x1928aa[_0x2eb05f(0x19b)](serveStatic,path[_0x2eb05f(0x1e2)](__dirname,_0x2eb05f(0x1f0))));process[_0x2eb05f(0x1e7)][_0x2eb05f(0x135)]?_0x1928aa[_0x2eb05f(0x1b2)](require,_0x1928aa[_0x2eb05f(0x1ad)])(_0x3c8832,process[_0x2eb05f(0x1e7)]['OPENID_VERIFY'],process[_0x2eb05f(0x1e7)][_0x2eb05f(0x1d2)],process[_0x2eb05f(0x1e7)]['OPENID_PROVIDER']):_0x1928aa[_0x2eb05f(0x19b)](require,_0x2eb05f(0x163))(_0x3c8832);let _0x547807=http[_0x2eb05f(0x184)](_0x3c8832)[_0x2eb05f(0x1f4)](_0x3c8832[_0x2eb05f(0x1cf)](_0x1928aa[_0x2eb05f(0x153)]));console[_0x2eb05f(0x1f1)](_0x2eb05f(0x13e),_0x3c8832['get'](_0x2eb05f(0x1dd)));let _0x54c11c=new WebSocketServer({'httpServer':_0x547807,'autoAcceptConnections':![]});function _0x447a9f(_0xdf432c){const _0x10e67d=_0x2eb05f,_0x1307a6=new URL(_0xdf432c);return acceptedOrigins['includes'](_0x1307a6[_0x10e67d(0x1d1)]);}let _0x87f319=[],_0x310d46={},_0x1676c3=JSON[_0x2eb05f(0x17a)](fs['readFileSync'](path[_0x2eb05f(0x1e2)](__dirname,_0x1928aa['cJrxX']),_0x1928aa['xWWAR']),function(_0x4fccd4,_0x54ec13){const _0x16460e=_0x2eb05f;let _0x2918e1;if(_0x54ec13&&_0x1928aa['PbJME'](typeof _0x54ec13,'object')){_0x2918e1=_0x54ec13['_class'];if(_0x1928aa[_0x16460e(0x1df)](typeof _0x2918e1,_0x16460e(0x165))&&typeof poly[_0x2918e1]===_0x1928aa[_0x16460e(0x1a8)])return new poly[_0x2918e1](_0x54ec13);}return _0x54ec13;}),_0x27bddd=JSON[_0x2eb05f(0x17a)](fs[_0x2eb05f(0x13c)](path['join'](__dirname,_0x2eb05f(0x162)),_0x2eb05f(0x175))),_0x7112ff=process[_0x2eb05f(0x1e7)][_0x2eb05f(0x16a)],_0x5770e7=_0x7112ff!==null,_0xc785eb=null,_0x4b8a1f={};if(_0x5770e7){_0xc785eb=new pg['Pool']({'connectionString':_0x7112ff});let _0x1ac51c=await _0xc785eb[_0x2eb05f(0x1b3)](_0x1928aa['hwBGa']);for(let _0x20f785 of _0x1ac51c[_0x2eb05f(0x174)]){if(_0x1928aa[_0x2eb05f(0x213)]!==_0x2eb05f(0x182))return _0x4795fc;else _0x4b8a1f[_0x20f785[_0x2eb05f(0x1e0)]]=_0x20f785;}}_0x54c11c['on'](_0x2eb05f(0x196),function(_0x396bc9){const _0x8b5657=_0x2eb05f,_0x1fb0fa={'UWEbk':_0x8b5657(0x177),'eofbn':function(_0x35831e,_0x231e2c){return _0x35831e+_0x231e2c;},'zYLek':_0x8b5657(0x1a2),'UPusb':_0x1928aa['CSjAz']};if(_0x1928aa[_0x8b5657(0x1c3)]===_0x8b5657(0x176)){if(!_0x447a9f(_0x396bc9['origin'])){_0x396bc9[_0x8b5657(0x148)](),console[_0x8b5657(0x1f1)](_0x1928aa['nMPEH'](_0x1928aa['KFNxg'](new Date()+_0x1928aa[_0x8b5657(0x1d3)],_0x396bc9[_0x8b5657(0x1a4)]),_0x8b5657(0x15c)));return;}let _0x30de6a=_0x396bc9['accept'](null,_0x396bc9[_0x8b5657(0x1a4)]);_0x87f319[_0x8b5657(0x194)](_0x30de6a),console[_0x8b5657(0x1f1)](_0x1928aa[_0x8b5657(0x1e8)](new Date(),_0x1928aa['YXlwg'])),_0x30de6a['on'](_0x1928aa[_0x8b5657(0x17d)],async function(_0x2c8bea){const _0x384968=_0x8b5657,_0x53b645={'tclqr':_0x1928aa[_0x384968(0x206)],'aEJYh':'../client/index.html','nmseL':function(_0x5bc26b,_0x30389d){return _0x5bc26b(_0x30389d);},'NMmOi':_0x1928aa[_0x384968(0x1ad)]};if(_0x2c8bea[_0x384968(0x18a)]===_0x1928aa['xWWAR'])try{let _0x221d5=JSON[_0x384968(0x17a)](_0x2c8bea[_0x384968(0x17b)]);console[_0x384968(0x1f1)](_0x221d5);if(_0x1928aa[_0x384968(0x144)](_0x221d5[_0x384968(0x18a)],_0x1928aa['FODjS'])&&_0x30de6a[_0x384968(0x1e0)]===undefined){let _0x5a2671=signedCookie(_0x396bc9[_0x384968(0x198)]['filter'](_0x560876=>_0x560876[_0x384968(0x1e0)]=='sid')[0x0][_0x384968(0x210)],_0x440ece);try{let _0x280248=await promisify(_0x5cdb16['get'][_0x384968(0x13f)](_0x5cdb16))(_0x5a2671);if(!_0x280248){if(_0x1928aa[_0x384968(0x15b)](_0x1928aa[_0x384968(0x1ae)],_0x384968(0x179)))_0x3327ac['log'](_0x3edfcc);else throw _0x1928aa[_0x384968(0x1d9)];}if(Object[_0x384968(0x167)](_0x310d46)[_0x384968(0x1c6)](_0x280248[_0x384968(0x1e3)])){_0x30de6a[_0x384968(0x205)](pengu['USERNAME_ALREADY_BEING_USED'],_0x1928aa['PyNPE']);return;}let _0x9e90a6=_0x30de6a[_0x384968(0x1e0)]=_0x280248[_0x384968(0x1e3)];_0x30de6a[_0x384968(0x18d)](JSON[_0x384968(0x171)]({'type':_0x1928aa[_0x384968(0x19a)],'name':_0x9e90a6,'data':_0x310d46}));if(!Object[_0x384968(0x167)](_0x4b8a1f)[_0x384968(0x1c6)](_0x9e90a6)){_0x4b8a1f[_0x9e90a6]={'clothing':[],'closet':{},'registered':new Date()[_0x384968(0x168)](),'group':_0x221d5[_0x384968(0x20d)]};if(_0x5770e7)try{await _0xc785eb[_0x384968(0x1b3)](_0x384968(0x192),[_0x9e90a6,JSON['stringify'](_0x4b8a1f[_0x9e90a6][_0x384968(0x180)]),JSON['stringify'](_0x4b8a1f[_0x9e90a6]['clothing']),_0x4b8a1f[_0x9e90a6][_0x384968(0x152)],_0x4b8a1f[_0x9e90a6][_0x384968(0x20d)]]);}catch(_0x1e1ee2){console['log'](_0x1e1ee2);}}_0x310d46[_0x9e90a6]=_0x4b8a1f[_0x9e90a6],_0x310d46[_0x9e90a6]['x']=0x226,_0x310d46[_0x9e90a6]['y']=0x1f4,_0x310d46[_0x9e90a6]['room']=_0x1928aa[_0x384968(0x195)],console['info'](_0x1928aa[_0x384968(0x187)]+_0x9e90a6);for(let _0x1e0ef4 of _0x87f319){if(_0x1928aa[_0x384968(0x18f)](_0x384968(0x1fd),_0x384968(0x1aa))){_0x52d6a4[_0x384968(0x205)](_0x3812c7[_0x384968(0x217)],_0x384968(0x19d));throw _0x1602c5;}else _0x1e0ef4[_0x384968(0x18d)](JSON[_0x384968(0x171)]({'type':_0x1928aa[_0x384968(0x209)],'name':_0x9e90a6,'room':_0x310d46[_0x9e90a6]['room'],'x':_0x310d46[_0x9e90a6]['x'],'y':_0x310d46[_0x9e90a6]['y'],'clothing':_0x310d46[_0x9e90a6][_0x384968(0x161)]}));}_0x30de6a[_0x384968(0x18d)](JSON['stringify']({'type':_0x1928aa['fBsYJ'],'closet':_0x310d46[_0x9e90a6][_0x384968(0x180)]}));}catch(_0x4a6b60){_0x30de6a[_0x384968(0x205)](pengu['SESSION_READ_ERROR'],_0x1928aa[_0x384968(0x16e)]);throw _0x4a6b60;}}else{if(_0x221d5['type']===_0x384968(0x189)){let _0x16d194=null,_0x3404fb=_0x30de6a['name'],_0x3b8cd9=_0x310d46[_0x3404fb]['room'],_0x509294=mapUtils[_0x384968(0x1ab)](_0x1676c3[_0x3b8cd9],new Line(new Point(_0x310d46[_0x3404fb]['x'],_0x310d46[_0x3404fb]['y']),new Point(_0x221d5['x'],_0x221d5['y'])));if(_0x1676c3[_0x3b8cd9]['zones'][0x0][_0x384968(0x20f)][_0x384968(0x212)](_0x509294)){console[_0x384968(0x1f1)](_0x1928aa[_0x384968(0x18e)](_0x1928aa[_0x384968(0x173)]('Moving\x20'+_0x3404fb,_0x1928aa['pofSD']),_0x509294)),_0x310d46[_0x3404fb]['x']=_0x509294['x'],_0x310d46[_0x3404fb]['y']=_0x509294['y'];for(let _0x25e194 of _0x1676c3[_0x3b8cd9][_0x384968(0x17f)]){if(_0x1928aa[_0x384968(0x1ed)]===_0x1928aa[_0x384968(0x140)])_0x42c7a6[_0x384968(0x1f1)](_0x8c34f9);else{if(_0x1928aa['tHiPj'](_0x25e194[_0x384968(0x18a)][0x0],_0x1928aa[_0x384968(0x138)])&&_0x25e194[_0x384968(0x20f)]['containsPoint'](_0x509294)){_0x16d194=_0x25e194[_0x384968(0x18a)][0x1],console[_0x384968(0x1f1)](_0x1928aa[_0x384968(0x173)](_0x1928aa[_0x384968(0x13a)](_0x3404fb,_0x1928aa['vLgbs']),_0x16d194)),_0x310d46[_0x3404fb][_0x384968(0x1bf)]=_0x16d194;break;}}}let _0x587b21={'type':_0x384968(0x189),'name':_0x3404fb,'x':_0x310d46[_0x3404fb]['x'],'y':_0x310d46[_0x3404fb]['y']};_0x16d194&&(_0x587b21[_0x384968(0x1cc)]=_0x16d194,_0x310d46[_0x3404fb]['x']=_0x587b21[_0x384968(0x1b9)]=_0x1676c3[_0x16d194][_0x384968(0x20e)]['x'],_0x310d46[_0x3404fb]['y']=_0x587b21[_0x384968(0x19e)]=_0x1676c3[_0x16d194][_0x384968(0x20e)]['y']);for(let _0x2f5bd0 of _0x87f319){_0x2f5bd0[_0x384968(0x18d)](JSON['stringify'](_0x587b21));}}}else{if(_0x221d5['type']===_0x1928aa[_0x384968(0x17d)]){_0x221d5[_0x384968(0x197)]=_0x221d5['text'][_0x384968(0x202)]();if(_0x221d5[_0x384968(0x197)]!==''){let _0x299f91=_0x30de6a['name'];if(_0x221d5[_0x384968(0x197)][_0x384968(0x1a5)]('/')){if(_0x221d5[_0x384968(0x197)][_0x384968(0x1a5)]('/mute\x20')&&[_0x384968(0x159),_0x1928aa['uCZAe']]['includes'](_0x310d46[_0x299f91][_0x384968(0x20d)])){let _0x429f55=_0x221d5['text']['substr'](0x6);_0x310d46[_0x429f55][_0x384968(0x214)]=!![];if(_0x5770e7)try{await _0xc785eb['query']('update\x20\x22penguin\x22\x20set\x20\x22banned\x22=true\x20where\x20\x22name\x22=$1',[_0x429f55]);}catch(_0x2102f8){console[_0x384968(0x1f1)](_0x2102f8);}}else{if(_0x221d5[_0x384968(0x197)]['startsWith'](_0x1928aa['wHKuO'])&&[_0x384968(0x159),_0x1928aa['uCZAe']][_0x384968(0x1c6)](_0x310d46[_0x299f91][_0x384968(0x20d)])){let _0x3ffc5f=_0x221d5[_0x384968(0x197)][_0x384968(0x13b)](0x8);_0x310d46[_0x3ffc5f]['banned']=![];if(_0x5770e7)try{await _0xc785eb[_0x384968(0x1b3)]('update\x20\x22penguin\x22\x20set\x20\x22banned\x22=false\x20where\x20\x22name\x22=$1',[_0x3ffc5f]);}catch(_0x594916){console['log'](_0x594916);}}}}else{if(_0x1928aa[_0x384968(0x181)]!==_0x384968(0x1d7)){if(!_0x310d46[_0x299f91][_0x384968(0x214)]){if(_0x1928aa['vBWBA'](_0x1928aa[_0x384968(0x1e9)],_0x1928aa[_0x384968(0x1e9)])){console['log'](_0x1928aa[_0x384968(0x1dc)](_0x1928aa['KFNxg'](_0x299f91,_0x384968(0x17c)),_0x221d5[_0x384968(0x197)]));for(let _0xe06490 of _0x87f319){_0xe06490[_0x384968(0x18d)](JSON[_0x384968(0x171)]({'type':_0x1928aa[_0x384968(0x206)],'name':_0x299f91,'text':_0x221d5[_0x384968(0x197)]}));}}else _0x18595d[_0x384968(0x18d)](_0x5db8ba[_0x384968(0x171)]({'type':_0x53b645[_0x384968(0x1f5)],'name':_0x4215b9,'text':_0x54a7cb[_0x384968(0x197)]}));}else _0x30de6a['sendUTF'](JSON[_0x384968(0x171)]({'type':_0x1928aa['QyAqg'],'name':_0x299f91,'text':_0x221d5['text']}));}else _0x593e7a[_0x384968(0x14f)](_0x212485);}}}else{if(_0x221d5[_0x384968(0x18a)]===_0x1928aa[_0x384968(0x1ee)]){if(_0x1928aa[_0x384968(0x19f)]===_0x1928aa[_0x384968(0x1f9)])_0x3a7772[_0x384968(0x1cb)]=0xc8,_0x58ac6e[_0x384968(0x1d5)](_0x1115fc[_0x384968(0x1e2)](_0x466ea4,_0x53b645['aEJYh']));else{let _0x299b25=_0x30de6a[_0x384968(0x1e0)];_0x221d5['itemId']=parseInt(_0x221d5[_0x384968(0x1c1)]);if(!findById(_0x27bddd,_0x221d5[_0x384968(0x1c1)])?.[_0x384968(0x15a)])_0x30de6a[_0x384968(0x18d)](JSON['stringify']({'type':_0x384968(0x14f),'message':_0x1928aa[_0x384968(0x1ef)]})),console[_0x384968(0x1f1)](_0x1928aa[_0x384968(0x13a)](_0x299b25,_0x1928aa[_0x384968(0x204)])+_0x221d5['itemId']);else{if(!Object['keys'](_0x310d46[_0x299b25]['closet'])['includes'](''+_0x221d5[_0x384968(0x1c1)])){if(_0x384968(0x170)===_0x1928aa[_0x384968(0x18c)])_0xf99295['sendUTF'](_0x957d6b['stringify']({'type':'error','message':_0x1fb0fa['UWEbk']})),_0x3ff400['log'](_0x1fb0fa[_0x384968(0x201)](_0x5d1191+_0x384968(0x1f3),_0xdef738[_0x384968(0x1c1)]));else{_0x310d46[_0x299b25]['closet'][_0x221d5[_0x384968(0x1c1)]]={'date':new Date(),'means':_0x1928aa[_0x384968(0x16c)]};if(_0x5770e7){if(_0x1928aa[_0x384968(0x200)](_0x1928aa['JVnwB'],_0x1928aa[_0x384968(0x1f8)]))_0x21a4d9[_0x384968(0x1e4)](_0x1fb0fa[_0x384968(0x1a0)]);else try{await _0xc785eb[_0x384968(0x1b3)](_0x1928aa[_0x384968(0x190)],[_0x299b25,JSON[_0x384968(0x171)](_0x310d46[_0x299b25]['closet'])]);}catch(_0x27994d){console[_0x384968(0x1f1)](_0x27994d);}}_0x30de6a[_0x384968(0x18d)](JSON[_0x384968(0x171)]({'type':_0x1928aa[_0x384968(0x149)],'closet':_0x310d46[_0x299b25]['closet']})),console[_0x384968(0x1f1)](_0x1928aa[_0x384968(0x183)](_0x1928aa[_0x384968(0x142)](_0x299b25,'\x20acquired\x20'),_0x221d5[_0x384968(0x1c1)]));}}else _0x30de6a['sendUTF'](JSON['stringify']({'type':_0x384968(0x14f),'message':_0x384968(0x1bb)})),console[_0x384968(0x1f1)](_0x1928aa[_0x384968(0x18e)](_0x299b25,_0x1928aa[_0x384968(0x1a3)])+_0x221d5['itemId']);}}}else{if(_0x221d5[_0x384968(0x18a)]===_0x1928aa['KbfAf']){let _0xf471fe=_0x30de6a['name'];_0x221d5[_0x384968(0x1c1)]=parseInt(_0x221d5['itemId']);if(Object[_0x384968(0x167)](_0x310d46[_0xf471fe]['closet'])['includes'](''+_0x221d5['itemId'])){_0x310d46[_0xf471fe][_0x384968(0x161)][_0x384968(0x1c6)](_0x221d5[_0x384968(0x1c1)])?(_0x310d46[_0xf471fe]['clothing']=_0x310d46[_0xf471fe][_0x384968(0x161)][_0x384968(0x1c2)](_0x1f1ac7=>_0x1f1ac7!==_0x221d5[_0x384968(0x1c1)]),console['log'](_0x1928aa['SfdaS'](_0xf471fe,_0x1928aa[_0x384968(0x1bc)])+_0x221d5[_0x384968(0x1c1)])):_0x1928aa[_0x384968(0x208)](_0x1928aa[_0x384968(0x20c)],_0x1928aa['IUGtB'])?!_0x208764[_0x384968(0x1fe)][_0x384968(0x1e3)]?_0x23bff3[_0x384968(0x1e4)]('/authenticate'):(_0x1f5fc2['statusCode']=0xc8,_0x98e9fe[_0x384968(0x1d5)](_0x18c9ff[_0x384968(0x1e2)](_0x4966b3,'../client/index.html'))):(_0x310d46[_0xf471fe][_0x384968(0x161)][_0x384968(0x194)](_0x221d5['itemId']),console[_0x384968(0x1f1)](_0xf471fe+_0x384968(0x193)+_0x221d5['itemId']));if(_0x5770e7){if(_0x1928aa[_0x384968(0x156)]!==_0x384968(0x160))throw _0x1fb0fa[_0x384968(0x143)];else try{_0x384968(0x1ff)!==_0x1928aa[_0x384968(0x1d6)]?_0x53b645['nmseL'](_0x4c8ff1,_0x53b645[_0x384968(0x1a1)])(_0x170278,_0x3887e7[_0x384968(0x1e7)][_0x384968(0x141)],_0x310702[_0x384968(0x1e7)][_0x384968(0x1d2)],_0x2bd040['env'][_0x384968(0x135)]):await _0xc785eb[_0x384968(0x1b3)](_0x384968(0x188),[_0xf471fe,JSON[_0x384968(0x171)](_0x310d46[_0xf471fe][_0x384968(0x161)])]);}catch(_0x30dee9){console['log'](_0x30dee9);}}for(let _0x2efeb7 of _0x87f319){_0x2efeb7[_0x384968(0x18d)](JSON['stringify']({'type':_0x1928aa[_0x384968(0x13d)],'name':_0xf471fe,'clothing':_0x310d46[_0xf471fe][_0x384968(0x161)]}));}}}}}}}}catch(_0x27d853){console[_0x384968(0x14f)](_0x27d853);}}),_0x30de6a['on'](_0x8b5657(0x20b),function(_0x335d72,_0x23c390){const _0x4fa073=_0x8b5657;_0x87f319=_0x87f319[_0x4fa073(0x1c2)](_0x3dddc8=>_0x3dddc8!==_0x30de6a),_0x4b8a1f[_0x30de6a['name']]=_0x310d46[_0x30de6a[_0x4fa073(0x1e0)]],delete _0x310d46[_0x30de6a['name']],console[_0x4fa073(0x1f1)](_0x1928aa['KFNxg'](_0x1928aa[_0x4fa073(0x1af)](new Date()+_0x1928aa[_0x4fa073(0x1b4)]+_0x30de6a[_0x4fa073(0x1e1)],'('),_0x30de6a['name'])+_0x1928aa['NDbvh']+(_0x23c390?_0x1928aa[_0x4fa073(0x183)](_0x4fa073(0x211),_0x23c390):''));for(let _0x3d0247 of _0x87f319){_0x3d0247['sendUTF'](JSON[_0x4fa073(0x171)]({'type':_0x1928aa[_0x4fa073(0x216)],'name':_0x30de6a['name']}));}});}else{_0x3e95d1[_0x8b5657(0x148)](),_0x309537[_0x8b5657(0x1f1)](_0x1928aa[_0x8b5657(0x1fb)](new _0x5acfca(),_0x8b5657(0x136))+_0x255dfe[_0x8b5657(0x1a4)]+_0x8b5657(0x15c));return;}});function _0x2213b4(){const _0x5e32fc=_0x2eb05f;console[_0x5e32fc(0x1f1)]('Server\x20is\x20going\x20down');for(let _0x58563a of _0x87f319){_0x58563a[_0x5e32fc(0x205)](pengu[_0x5e32fc(0x1b8)],_0x1928aa[_0x5e32fc(0x14e)]);}process[_0x5e32fc(0x15f)]();}process['on']('SIGINT',_0x2213b4);}runApp();