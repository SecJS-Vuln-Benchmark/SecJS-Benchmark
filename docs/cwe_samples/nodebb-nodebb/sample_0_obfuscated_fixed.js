'use strict';const _0x37699e=_0x46be;(function(_0x2f8f06,_0x1f2d72){const _0x268edc=_0x46be,_0x4ba989=_0x2f8f06();while(!![]){try{const _0x46b588=parseInt(_0x268edc(0x1e8))/0x1*(-parseInt(_0x268edc(0x23a))/0x2)+-parseInt(_0x268edc(0x21e))/0x3+parseInt(_0x268edc(0x20c))/0x4+parseInt(_0x268edc(0x230))/0x5*(parseInt(_0x268edc(0x224))/0x6)+parseInt(_0x268edc(0x203))/0x7*(-parseInt(_0x268edc(0x225))/0x8)+parseInt(_0x268edc(0x22e))/0x9*(-parseInt(_0x268edc(0x221))/0xa)+-parseInt(_0x268edc(0x22a))/0xb*(-parseInt(_0x268edc(0x213))/0xc);if(_0x46b588===_0x1f2d72)break;else _0x4ba989['push'](_0x4ba989['shift']());}catch(_0x1ec776){_0x4ba989['push'](_0x4ba989['shift']());}}}(_0x3cb1,0x88c00));function _0x46be(_0x582f7f,_0x29334b){const _0x3cb195=_0x3cb1();return _0x46be=function(_0x46be8d,_0xbdde5c){_0x46be8d=_0x46be8d-0x1e3;let _0x492657=_0x3cb195[_0x46be8d];return _0x492657;},_0x46be(_0x582f7f,_0x29334b);}function _0x3cb1(){const _0x227230=['tokens','users','then','getUserById','getUsers','/api/users/first','477676TQnCNj','NnuLV','getAllUsers','deleteUser','true','WePxa','/api/:project/:environment/users/:id','180pXiEUP','authenticate','username','lnayr','createUser','getUser','ApiController','hsWpe','exports','cKSVY','query','1721424KvBQjk','password','logoutUser','393710yikXrb','UserService','getCurrentUser','676614FZnxWM','96WSVYMh','persist','irkAI','status','/api/:project/:environment/users','924187XIgkFV','aimsu','login','/api/user/scopes','9CgXnSA','send','20lWTWkp','nNtqx','isAdmin','/api/users/new','logout','get','getScopes','Service','body','cookie','2roSdoz','updateUserById','/api/user/logout','printError','name','redirect','createFirstAdmin','LGXIt','postUser','post','330383UbcyXa','CIxlF','init','poIEM','scopes','length','/api/users/:id','loginUser','Controller','getObject','/api/users','SsqfM','Cannot\x20create\x20first\x20admin,\x20users\x20already\x20exist.\x20If\x20you\x20lost\x20your\x20credentials,\x20please\x20assign\x20the\x20the\x20admin\x20from\x20the\x20commandline.','middleware','pNcDL','jPDef','project','delete','message','hasScope','whTIr','params','\x22\x20does\x20not\x20have\x20scope\x20\x22user\x22','PCegc','reject','catch','isCurrent','190785hkWDYZ','token','cookies'];_0x3cb1=function(){return _0x227230;};return _0x3cb1();}class UserController extends HashBrown[_0x37699e(0x1f0)][_0x37699e(0x219)]{static[_0x37699e(0x1ea)](_0x107718){const _0x2a25b1=_0x37699e,_0x5e4f01={'CIxlF':_0x2a25b1(0x212),'SsqfM':'/api/user','LGXIt':_0x2a25b1(0x1ee),'uqAyz':_0x2a25b1(0x233)},_0x5e4096='1|10|4|7|12|9|3|6|5|8|2|11|0'['split']('|');let _0x4e5dc9=0x0;while(!![]){switch(_0x5e4096[_0x4e5dc9++]){case'0':_0x107718['post'](_0x5e4f01['CIxlF'],this[_0x2a25b1(0x1f5)](),this[_0x2a25b1(0x1e6)]);continue;case'1':_0x107718[_0x2a25b1(0x235)](_0x5e4f01[_0x2a25b1(0x1f3)],this[_0x2a25b1(0x223)]);continue;case'2':_0x107718[_0x2a25b1(0x235)](_0x2a25b1(0x229),this[_0x2a25b1(0x1f5)](),this[_0x2a25b1(0x20a)]);continue;case'3':_0x107718[_0x2a25b1(0x1e7)](_0x2a25b1(0x20b),this[_0x2a25b1(0x1e4)]);continue;case'4':_0x107718[_0x2a25b1(0x1e7)]('/api/user/login',this[_0x2a25b1(0x22c)]);continue;case'5':_0x107718[_0x2a25b1(0x1e7)](_0x5e4f01[_0x2a25b1(0x1e5)],this[_0x2a25b1(0x1f5)]({'setProject':![]}),this['postUser']);continue;case'6':_0x107718[_0x2a25b1(0x1e7)](_0x5e4f01['uqAyz'],this['middleware']({'setProject':![],'needsAdmin':!![]}),this[_0x2a25b1(0x217)]);continue;case'7':_0x107718[_0x2a25b1(0x1e7)](_0x2a25b1(0x23c),this['logout']);continue;case'8':_0x107718[_0x2a25b1(0x1f9)](_0x2a25b1(0x1ee),this['middleware']({'setProject':![],'needsAdmin':!![]}),this[_0x2a25b1(0x20f)]);continue;case'9':_0x107718[_0x2a25b1(0x235)](_0x2a25b1(0x1f2),this[_0x2a25b1(0x1f5)]({'needsAdmin':!![],'setProject':![]}),this[_0x2a25b1(0x20a)]);continue;case'10':_0x107718['get'](_0x2a25b1(0x22d),this['getScopes']);continue;case'11':_0x107718[_0x2a25b1(0x235)](_0x5e4f01[_0x2a25b1(0x1e9)],this['middleware'](),this[_0x2a25b1(0x218)]);continue;case'12':_0x107718[_0x2a25b1(0x235)](_0x5e4f01['LGXIt'],this[_0x2a25b1(0x1f5)]({'needsAdmin':!![],'setProject':![]}),this[_0x2a25b1(0x218)]);continue;}break;}}static[_0x37699e(0x22c)](_0x47e7d1,_0x109cad){const _0x215ed1=_0x37699e,_0x27e618={'hsWpe':function(_0x3a5d5c,_0x454a5f){return _0x3a5d5c===_0x454a5f;},'NnuLV':function(_0x1c90d5,_0x42b6f8){return _0x1c90d5==_0x42b6f8;},'ABbtl':_0x215ed1(0x210)};let _0x2e4d5b=_0x47e7d1[_0x215ed1(0x238)]['username'],_0x3e5b3f=_0x47e7d1['body'][_0x215ed1(0x21f)],_0x46395e=_0x27e618[_0x215ed1(0x20d)](_0x47e7d1[_0x215ed1(0x21d)][_0x215ed1(0x226)],_0x27e618['ABbtl'])||_0x27e618[_0x215ed1(0x20d)](_0x47e7d1[_0x215ed1(0x21d)][_0x215ed1(0x226)],!![]);HashBrown[_0x215ed1(0x237)]['UserService'][_0x215ed1(0x1ef)](_0x2e4d5b,_0x3e5b3f,_0x46395e)[_0x215ed1(0x208)](_0x2c5b7f=>{const _0x257d9b=_0x215ed1;_0x109cad[_0x257d9b(0x228)](0xc8)[_0x257d9b(0x239)]('token',_0x2c5b7f)['send'](_0x2c5b7f);})['catch'](_0x14b0f0=>{const _0x5e9587=_0x215ed1;if(_0x27e618[_0x5e9587(0x21a)](_0x5e9587(0x1eb),_0x5e9587(0x211)))return _0xe11c0e['Service'][_0x5e9587(0x222)][_0x5e9587(0x1ef)](_0x587670,_0x121502);else _0x109cad['status'](0x193)[_0x5e9587(0x22f)](UserController[_0x5e9587(0x23d)](_0x14b0f0));});}static[_0x37699e(0x234)](_0x1667d,_0x25ecad){const _0x19b791=_0x37699e;HashBrown[_0x19b791(0x237)][_0x19b791(0x222)][_0x19b791(0x220)](_0x1667d[_0x19b791(0x205)]['token'])[_0x19b791(0x208)](()=>{const _0x1a1f40=_0x19b791;if('PCegc'===_0x1a1f40(0x1ff))_0x25ecad[_0x1a1f40(0x228)](0xc8)['cookie'](_0x1a1f40(0x204),'')[_0x1a1f40(0x1e3)]('/');else{let _0x1f3718=_0x3bc844[_0x1a1f40(0x238)][_0x1a1f40(0x215)],_0xa0ae90=_0xcadb65[_0x1a1f40(0x238)][_0x1a1f40(0x21f)];_0x583501['Service'][_0x1a1f40(0x222)]['createUser'](_0x1f3718,_0xa0ae90,![],_0x5a7c12[_0x1a1f40(0x238)])['then'](_0x5639f7=>{const _0x42d5f2=_0x1a1f40;_0x1aecfe[_0x42d5f2(0x228)](0xc8)['send'](_0x5639f7);})[_0x1a1f40(0x201)](_0x4803ad=>{const _0x13aad9=_0x1a1f40;_0x32ef47[_0x13aad9(0x228)](0x190)[_0x13aad9(0x22f)](_0x4de0ed[_0x13aad9(0x23d)](_0x4803ad));});}})[_0x19b791(0x201)](_0x4f0413=>{const _0x5b2a04=_0x19b791;_0x25ecad[_0x5b2a04(0x228)](0x193)['send'](UserController[_0x5b2a04(0x23d)](_0x4f0413));});}static[_0x37699e(0x223)](_0x4f6b7a,_0x2a7513){const _0x5bf710=_0x37699e,_0x160b5f={'whTIr':_0x5bf710(0x231)};UserController['authenticate'](_0x4f6b7a[_0x5bf710(0x205)][_0x5bf710(0x204)])[_0x5bf710(0x208)](_0x50d351=>{const _0x5666fd=_0x5bf710;_0x50d351=_0x50d351[_0x5666fd(0x1f1)](),delete _0x50d351[_0x5666fd(0x206)],delete _0x50d351[_0x5666fd(0x21f)],_0x2a7513[_0x5666fd(0x228)](0xc8)[_0x5666fd(0x22f)](_0x50d351);})['catch'](_0x35c96b=>{const _0x2199af=_0x5bf710;if(_0x160b5f[_0x2199af(0x1fc)]===_0x160b5f[_0x2199af(0x1fc)])_0x2a7513[_0x2199af(0x228)](0x193)[_0x2199af(0x22f)](UserController['printError'](_0x35c96b));else{let _0x21d47d=_0x5141ca['params']['id'];_0x1dcf20[_0x2199af(0x237)][_0x2199af(0x222)]['removeUser'](_0x21d47d)[_0x2199af(0x208)](_0x48b6db=>{const _0x497d9b=_0x2199af;_0x589d0f[_0x497d9b(0x228)](0xc8)[_0x497d9b(0x22f)](_0x48b6db);})[_0x2199af(0x201)](_0x1ed5c3=>{const _0x5eb5a9=_0x2199af;_0xd76f13[_0x5eb5a9(0x228)](0x1f6)[_0x5eb5a9(0x22f)](_0x31a1d5[_0x5eb5a9(0x23d)](_0x1ed5c3));});}});}static[_0x37699e(0x236)](_0x48c8a4,_0x1cb3fc){const _0x33ddab=_0x37699e;UserController[_0x33ddab(0x214)](_0x48c8a4[_0x33ddab(0x205)][_0x33ddab(0x204)])[_0x33ddab(0x208)](_0x2d1dce=>{_0x1cb3fc['send'](_0x2d1dce['scopes']);})['catch'](_0x4fa87f=>{const _0x213fb7=_0x33ddab;_0x1cb3fc['status'](0x193)[_0x213fb7(0x22f)](UserController[_0x213fb7(0x23d)](_0x4fa87f));});}static[_0x37699e(0x20a)](_0x377ed3,_0x110b42){const _0x22ae04=_0x37699e;let _0x2cc86b=_0x377ed3[_0x22ae04(0x1fd)][_0x22ae04(0x1f8)];HashBrown[_0x22ae04(0x237)][_0x22ae04(0x222)][_0x22ae04(0x20e)](_0x2cc86b)['then'](_0xd01781=>{const _0x394f94=_0x22ae04;for(let _0x3b5f0e in _0xd01781){_0xd01781[_0x3b5f0e]=_0xd01781[_0x3b5f0e][_0x394f94(0x1f1)](),_0xd01781[_0x3b5f0e][_0x394f94(0x202)]=_0xd01781[_0x3b5f0e]['id']==_0x377ed3['user']['id'],delete _0xd01781[_0x3b5f0e][_0x394f94(0x206)],delete _0xd01781[_0x3b5f0e][_0x394f94(0x21f)];}_0x110b42['status'](0xc8)[_0x394f94(0x22f)](_0xd01781);})['catch'](_0x2794d=>{const _0x3fd02f=_0x22ae04;_0x110b42[_0x3fd02f(0x228)](0x193)[_0x3fd02f(0x22f)](UserController[_0x3fd02f(0x23d)](_0x2794d));});}static[_0x37699e(0x218)](_0x21849a,_0x451436){const _0x304128=_0x37699e;let _0xdba8ad=_0x21849a[_0x304128(0x1fd)]['id'];HashBrown[_0x304128(0x237)][_0x304128(0x222)][_0x304128(0x209)](_0xdba8ad)[_0x304128(0x208)](_0x3b7ab1=>{const _0x45399b=_0x304128;_0x451436[_0x45399b(0x228)](0xc8)[_0x45399b(0x22f)](_0x3b7ab1);})['catch'](_0x583333=>{const _0x330828=_0x304128;'CtNBb'!=='omolj'?_0x451436[_0x330828(0x228)](0x194)[_0x330828(0x22f)](_0x583333[_0x330828(0x1fa)]):_0x250a38['Service'][_0x330828(0x222)][_0x330828(0x23b)](_0x330290,_0x57b0e9);});}static[_0x37699e(0x1e6)](_0x28383c,_0xbc659c){const _0x5036ab=_0x37699e,_0x5043df={'jPDef':_0x5036ab(0x207),'aimsu':function(_0x5ceca5,_0xf1feba){return _0x5ceca5+_0xf1feba;},'pNcDL':'User\x20\x22'};let _0x59eb68=_0x28383c['params']['id'],_0x51f4a8=_0x28383c[_0x5036ab(0x238)];UserController['authenticate'](_0x28383c[_0x5036ab(0x205)][_0x5036ab(0x204)],_0x28383c['params'][_0x5036ab(0x1f8)])[_0x5036ab(0x208)](_0x253ef8=>{const _0x57a40d=_0x5036ab;let _0x5d5f8a=_0x253ef8[_0x57a40d(0x1fb)](_0x28383c[_0x57a40d(0x1fd)][_0x57a40d(0x1f8)],_0x5043df[_0x57a40d(0x1f7)]);if(_0x253ef8['id']==_0x59eb68||_0x5d5f8a)return!_0x5d5f8a&&(_0x51f4a8[_0x57a40d(0x1ec)]=_0x253ef8[_0x57a40d(0x1ec)],_0x51f4a8[_0x57a40d(0x232)]=![]),Promise['resolve']();return Promise[_0x57a40d(0x200)](new Error(_0x5043df[_0x57a40d(0x22b)](_0x5043df[_0x57a40d(0x1f6)]+_0x253ef8[_0x57a40d(0x23e)],_0x57a40d(0x1fe))));})[_0x5036ab(0x208)](()=>{const _0x136112=_0x5036ab;HashBrown[_0x136112(0x237)][_0x136112(0x222)]['updateUserById'](_0x59eb68,_0x51f4a8);})['then'](_0x51e6e5=>{const _0x38be6b=_0x5036ab;_0xbc659c[_0x38be6b(0x228)](0xc8)['send'](_0x51e6e5);})[_0x5036ab(0x201)](_0x3e2ebd=>{const _0x1609fb=_0x5036ab;_0xbc659c[_0x1609fb(0x228)](0x190)[_0x1609fb(0x22f)](UserController[_0x1609fb(0x23d)](_0x3e2ebd));});}static[_0x37699e(0x20f)](_0x1decd6,_0x494070){const _0x150f2f=_0x37699e;let _0x5b41dd=_0x1decd6['params']['id'];HashBrown[_0x150f2f(0x237)][_0x150f2f(0x222)]['removeUser'](_0x5b41dd)[_0x150f2f(0x208)](_0x589e98=>{_0x494070['status'](0xc8)['send'](_0x589e98);})[_0x150f2f(0x201)](_0x3a1301=>{const _0x5b03af=_0x150f2f;_0x494070[_0x5b03af(0x228)](0x1f6)[_0x5b03af(0x22f)](UserController[_0x5b03af(0x23d)](_0x3a1301));});}static['createFirstAdmin'](_0x5587d7,_0x308789){const _0x1ffe9e=_0x37699e,_0x2d8169={'cFdiG':_0x1ffe9e(0x204)};let _0xf0be50=_0x5587d7[_0x1ffe9e(0x238)][_0x1ffe9e(0x215)],_0x1731b6=_0x5587d7[_0x1ffe9e(0x238)][_0x1ffe9e(0x21f)];HashBrown[_0x1ffe9e(0x237)][_0x1ffe9e(0x222)][_0x1ffe9e(0x20e)]()['then'](_0x160333=>{const _0x2433ea=_0x1ffe9e;if(_0x2433ea(0x21c)===_0x2433ea(0x216))_0x56da71[_0x2433ea(0x228)](0x193)['send'](_0x4a822d[_0x2433ea(0x23d)](_0x26c3e4));else{if(_0x160333&&_0x160333[_0x2433ea(0x1ed)]>0x0)return Promise['reject'](new Error(_0x2433ea(0x1f4)));return HashBrown['Service'][_0x2433ea(0x222)][_0x2433ea(0x217)](_0xf0be50,_0x1731b6,!![]);}})['then'](_0xe171f3=>{const _0x2edc92=_0x1ffe9e;return HashBrown[_0x2edc92(0x237)][_0x2edc92(0x222)][_0x2edc92(0x1ef)](_0xf0be50,_0x1731b6);})[_0x1ffe9e(0x208)](_0x277b54=>{const _0xf177e2=_0x1ffe9e;_0x308789[_0xf177e2(0x228)](0xc8)['cookie'](_0x2d8169['cFdiG'],_0x277b54)[_0xf177e2(0x22f)](_0x277b54);})[_0x1ffe9e(0x201)](_0x4f40e8=>{const _0x2e254a=_0x1ffe9e;_0x308789['status'](0x193)[_0x2e254a(0x22f)](UserController[_0x2e254a(0x23d)](_0x4f40e8));});}static[_0x37699e(0x217)](_0x45c6a1,_0x119acc){const _0x1b641c=_0x37699e;let _0x380d6b=_0x45c6a1[_0x1b641c(0x238)]['username'],_0x2b2d0a=_0x45c6a1['body'][_0x1b641c(0x21f)];HashBrown[_0x1b641c(0x237)][_0x1b641c(0x222)][_0x1b641c(0x217)](_0x380d6b,_0x2b2d0a,![],_0x45c6a1['body'])[_0x1b641c(0x208)](_0x53a90a=>{const _0x496afd=_0x1b641c;_0x496afd(0x227)===_0x496afd(0x227)?_0x119acc[_0x496afd(0x228)](0xc8)['send'](_0x53a90a):_0x135ff5[_0x496afd(0x228)](0xc8)[_0x496afd(0x22f)](_0x15b261);})[_0x1b641c(0x201)](_0x962e3e=>{const _0x54ec2d=_0x1b641c;_0x119acc[_0x54ec2d(0x228)](0x190)[_0x54ec2d(0x22f)](UserController[_0x54ec2d(0x23d)](_0x962e3e));});}}module[_0x37699e(0x21b)]=UserController;