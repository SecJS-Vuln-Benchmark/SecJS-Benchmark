const _0x1a4ebe=_0x3a05;(function(_0x41a505,_0x339908){const _0x2a79b4=_0x3a05,_0x2c9798=_0x41a505();while(!![]){try{const _0x1dc088=-parseInt(_0x2a79b4(0x1fb))/0x1+-parseInt(_0x2a79b4(0x1e2))/0x2+-parseInt(_0x2a79b4(0x222))/0x3+parseInt(_0x2a79b4(0x1ee))/0x4+-parseInt(_0x2a79b4(0x1f6))/0x5+-parseInt(_0x2a79b4(0x22b))/0x6*(parseInt(_0x2a79b4(0x218))/0x7)+parseInt(_0x2a79b4(0x1f2))/0x8*(parseInt(_0x2a79b4(0x1fa))/0x9);if(_0x1dc088===_0x339908)break;else _0x2c9798['push'](_0x2c9798['shift']());}catch(_0x5190bf){_0x2c9798['push'](_0x2c9798['shift']());}}}(_0x451f,0x7013a));function _0x451f(){const _0x293ac4=['OCUrs','hi:there/happy_people','serialize\x20sb2\x20project\x20with\x20comments\x20as\x20sb3','blockId','asUME','comments','../../src/engine/runtime','hello','../fixtures/comments.sb3','console.log(\x22timer\x22);','attachRenderer','bkjki','cpUmT','_blocks','/api/public/status','../fixtures/clone-cleanup.sb2','no\x20change\x20from\x20second\x20pass\x20of\x20deserialize','qEuHn','serializeBlocks','hello_there_loopy','deserializeBlocks\x20on\x20already\x20deserialized\x20input','doesNotThrow','496517QcCtxv','parse','length','runtime','hNdRl','(#1850)\x20sprite\x20draggability\x20state\x20read\x20when\x20loading\x20SB3\x20file','resolve','WNEuu','deserialize\x20sb3\x20project\x20with\x20comments\x20-\x20no\x20duplicate\x20id\x20serialization','shadow','446661nushFA','Second','type','stringify','OjJCf','nbDdu','control_loopy','5|3|0|1|2|4','ioLJI','6PAmEkZ','forEach','../../src/index','string','end','deserialize','serializing\x20and\x20deserializing\x20sb3\x20preserves\x20sprite\x20layer\x20order','loadProject','Third','sprite','blocks','../fixtures/comments.sb2','gDMVC','false','keys','../fixtures/top-level-reporters.sb3','rVWtj','getLayerOrder','dwoCg','../fixtures/comments_no_duplicate_id_serialization.sb3','filter','tqSaE','find','getExtensionIdForOpcode','isArray','name','572724EUBWNd','wedo','readFileToBuffer','less\x20blocks\x20in\x20serialized\x20format','Sprite1','../fixtures/draggable.sb3','../fixtures/top-level-variable-reporter.sb2','values','same\x20number\x20of\x20blocks','deserialize\x20sb3\x20project\x20with\x20comments','IAExc','deepEqual','666596WBzfRz','equal','First','then','13064CtHYps','layerOrder','lkeDd','isStage','161890gilWhA','wedo_loopy','targets','every','9567FGLkVt','904904Itqswm','tap','serialize','object','CPWtH','path','serializeBlocks\x20serializes\x20x\x20and\x20y\x20for\x20topLevel\x20blocks\x20with\x20x,y\x20of\x200,0'];_0x451f=function(){return _0x293ac4;};return _0x451f();}const test=require(_0x1a4ebe(0x1fc))['test'],path=require(_0x1a4ebe(0x200)),VirtualMachine=require(_0x1a4ebe(0x22d)),Runtime=require(_0x1a4ebe(0x208)),sb3=require('../../src/serialization/sb3'),readFileToBuffer=require('../fixtures/readProjectFile')[_0x1a4ebe(0x1e4)],exampleProjectPath=path[_0x1a4ebe(0x21e)](__dirname,_0x1a4ebe(0x211)),commentsSB2ProjectPath=path[_0x1a4ebe(0x21e)](__dirname,_0x1a4ebe(0x1d3)),commentsSB3ProjectPath=path[_0x1a4ebe(0x21e)](__dirname,_0x1a4ebe(0x20a)),commentsSB3NoDupeIds=path[_0x1a4ebe(0x21e)](__dirname,_0x1a4ebe(0x1db)),variableReporterSB2ProjectPath=path[_0x1a4ebe(0x21e)](__dirname,_0x1a4ebe(0x1e8)),topLevelReportersProjectPath=path['resolve'](__dirname,_0x1a4ebe(0x1d7)),draggableSB3ProjectPath=path[_0x1a4ebe(0x21e)](__dirname,_0x1a4ebe(0x1e7)),FakeRenderer=require('../fixtures/fake-renderer');function _0x3a05(_0x14d89a,_0x395b55){const _0x451f25=_0x451f();return _0x3a05=function(_0x3a05a0,_0x31e20a){_0x3a05a0=_0x3a05a0-0x1cd;let _0x59dd14=_0x451f25[_0x3a05a0];return _0x59dd14;},_0x3a05(_0x14d89a,_0x395b55);}test(_0x1a4ebe(0x1fd),_0xda9dc5=>{const _0x2b2cda=_0x1a4ebe,_0x40f006=new VirtualMachine();_0x40f006[_0x2b2cda(0x1cf)](readFileToBuffer(exampleProjectPath))['then'](()=>{const _0x339fa0=_0x2b2cda,_0x44c81d=sb3[_0x339fa0(0x1fd)](_0x40f006[_0x339fa0(0x21b)]);_0xda9dc5['type'](JSON[_0x339fa0(0x225)](_0x44c81d),_0x339fa0(0x22e)),_0xda9dc5['end']();});}),test(_0x1a4ebe(0x1cd),_0x30f3d9=>{const _0x1f025c=_0x1a4ebe,_0x4c2f81={'asUME':'object'},_0x57549e=new VirtualMachine();sb3['deserialize']('',_0x57549e[_0x1f025c(0x21b)])[_0x1f025c(0x1f1)](({targets:_0x298379})=>{const _0x31bc4a=_0x1f025c;_0x30f3d9[_0x31bc4a(0x224)](_0x298379,_0x4c2f81[_0x31bc4a(0x206)]),_0x30f3d9[_0x31bc4a(0x22f)]();});}),test(_0x1a4ebe(0x204),_0x2714a9=>{const _0x2eb69f=_0x1a4ebe,_0x168ba0={'bkjki':'string','dwoCg':_0x2eb69f(0x1fe),'OjJCf':function(_0x2d5a50,_0x15df03){return _0x2d5a50(_0x15df03);}},_0x593644=new VirtualMachine();_0x593644[_0x2eb69f(0x1cf)](_0x168ba0[_0x2eb69f(0x226)](readFileToBuffer,commentsSB2ProjectPath))[_0x2eb69f(0x1f1)](()=>{const _0xbfcf77=_0x2eb69f,_0x4d6873=sb3[_0xbfcf77(0x1fd)](_0x593644[_0xbfcf77(0x21b)]);_0x2714a9['type'](JSON[_0xbfcf77(0x225)](_0x4d6873),_0x168ba0[_0xbfcf77(0x20d)]),_0x2714a9['type'](_0x4d6873[_0xbfcf77(0x1f8)],_0x168ba0[_0xbfcf77(0x1da)]),_0x2714a9[_0xbfcf77(0x1ef)](Array[_0xbfcf77(0x1e0)](_0x4d6873[_0xbfcf77(0x1f8)]),!![]),_0x2714a9[_0xbfcf77(0x1ef)](_0x4d6873[_0xbfcf77(0x1f8)][_0xbfcf77(0x21a)],0x2);const _0xb954fd=_0x4d6873[_0xbfcf77(0x1f8)][0x0];_0x2714a9['equal'](_0xb954fd['isStage'],!![]),_0x2714a9[_0xbfcf77(0x224)](_0xb954fd[_0xbfcf77(0x1d2)],_0xbfcf77(0x1fe)),_0x2714a9[_0xbfcf77(0x1ef)](Object[_0xbfcf77(0x1d6)](_0xb954fd['blocks'])['length'],0x0),_0x2714a9['type'](_0xb954fd['comments'],'object'),_0x2714a9['equal'](Object['keys'](_0xb954fd['comments'])[_0xbfcf77(0x21a)],0x1);const _0x5664c5=Object['values'](_0xb954fd[_0xbfcf77(0x207)])['filter'](_0x2fd469=>!!_0x2fd469[_0xbfcf77(0x205)]),_0x4038fa=Object[_0xbfcf77(0x1e9)](_0xb954fd[_0xbfcf77(0x207)])[_0xbfcf77(0x1dc)](_0x159ef5=>_0x159ef5['blockId']===null);_0x2714a9[_0xbfcf77(0x1ef)](_0x5664c5[_0xbfcf77(0x21a)],0x0),_0x2714a9[_0xbfcf77(0x1ef)](_0x4038fa['length'],0x1);const _0x288f3b=_0x4d6873[_0xbfcf77(0x1f8)][0x1];_0x2714a9[_0xbfcf77(0x1ef)](_0x288f3b[_0xbfcf77(0x1f5)],![]),_0x2714a9[_0xbfcf77(0x224)](_0x288f3b[_0xbfcf77(0x1d2)],_0x168ba0['dwoCg']),_0x2714a9[_0xbfcf77(0x1ef)](Object[_0xbfcf77(0x1d6)](_0x288f3b[_0xbfcf77(0x1d2)])['length'],0x6),_0x2714a9[_0xbfcf77(0x224)](_0x288f3b[_0xbfcf77(0x207)],_0x168ba0[_0xbfcf77(0x1da)]),_0x2714a9[_0xbfcf77(0x1ef)](Object['keys'](_0x288f3b[_0xbfcf77(0x207)])[_0xbfcf77(0x21a)],0x6);const _0x2bc8e8=Object[_0xbfcf77(0x1e9)](_0x288f3b[_0xbfcf77(0x207)])[_0xbfcf77(0x1dc)](_0x114482=>!!_0x114482[_0xbfcf77(0x205)]),_0x1c1b0c=Object[_0xbfcf77(0x1e9)](_0x288f3b[_0xbfcf77(0x207)])[_0xbfcf77(0x1dc)](_0x20ed81=>_0x20ed81[_0xbfcf77(0x205)]===null);_0x2714a9[_0xbfcf77(0x1ef)](_0x2bc8e8[_0xbfcf77(0x21a)],0x5),_0x2714a9[_0xbfcf77(0x1ef)](_0x1c1b0c[_0xbfcf77(0x21a)],0x1),_0x2714a9[_0xbfcf77(0x22f)]();});}),test(_0x1a4ebe(0x1eb),_0x2c92d5=>{const _0x343ae7=_0x1a4ebe,_0x181a65={'gDMVC':_0x343ae7(0x1fe),'tqSaE':function(_0x4a3379,_0x333a12){return _0x4a3379(_0x333a12);}},_0x1af075=new VirtualMachine();_0x1af075[_0x343ae7(0x1cf)](_0x181a65[_0x343ae7(0x1dd)](readFileToBuffer,commentsSB3ProjectPath))[_0x343ae7(0x1f1)](()=>{const _0x35a48a=_0x343ae7,_0x426752=_0x1af075[_0x35a48a(0x21b)];_0x2c92d5[_0x35a48a(0x224)](_0x426752[_0x35a48a(0x1f8)],_0x35a48a(0x1fe)),_0x2c92d5[_0x35a48a(0x1ef)](Array[_0x35a48a(0x1e0)](_0x426752['targets']),!![]),_0x2c92d5[_0x35a48a(0x1ef)](_0x426752[_0x35a48a(0x1f8)][_0x35a48a(0x21a)],0x2);const _0x164873=_0x426752['targets'][0x0];_0x2c92d5[_0x35a48a(0x1ef)](_0x164873[_0x35a48a(0x1f5)],!![]),_0x2c92d5[_0x35a48a(0x224)](_0x164873[_0x35a48a(0x1d2)],_0x181a65['gDMVC']),_0x2c92d5[_0x35a48a(0x1ef)](Object['keys'](_0x164873['blocks'][_0x35a48a(0x20f)])[_0x35a48a(0x21a)],0x0),_0x2c92d5[_0x35a48a(0x224)](_0x164873['comments'],_0x181a65[_0x35a48a(0x1d4)]),_0x2c92d5['equal'](Object[_0x35a48a(0x1d6)](_0x164873['comments'])[_0x35a48a(0x21a)],0x1);const _0x227eee=Object[_0x35a48a(0x1e9)](_0x164873[_0x35a48a(0x207)])[_0x35a48a(0x1dc)](_0x55b282=>!!_0x55b282['blockId']),_0x1b9ae4=Object['values'](_0x164873[_0x35a48a(0x207)])['filter'](_0xe9da45=>_0xe9da45[_0x35a48a(0x205)]===null);_0x2c92d5[_0x35a48a(0x1ef)](_0x227eee[_0x35a48a(0x21a)],0x0),_0x2c92d5[_0x35a48a(0x1ef)](_0x1b9ae4[_0x35a48a(0x21a)],0x1);const _0x103c8b=_0x426752[_0x35a48a(0x1f8)][0x1];_0x2c92d5['equal'](_0x103c8b['isStage'],![]),_0x2c92d5[_0x35a48a(0x224)](_0x103c8b[_0x35a48a(0x1d2)],_0x35a48a(0x1fe)),_0x2c92d5[_0x35a48a(0x1ef)](Object[_0x35a48a(0x1e9)](_0x103c8b[_0x35a48a(0x1d2)][_0x35a48a(0x20f)])[_0x35a48a(0x1dc)](_0x462bba=>!_0x462bba['shadow'])[_0x35a48a(0x21a)],0x6),_0x2c92d5[_0x35a48a(0x224)](_0x103c8b[_0x35a48a(0x207)],_0x35a48a(0x1fe)),_0x2c92d5[_0x35a48a(0x1ef)](Object[_0x35a48a(0x1d6)](_0x103c8b[_0x35a48a(0x207)])[_0x35a48a(0x21a)],0x6);const _0x45b088=Object[_0x35a48a(0x1e9)](_0x103c8b['comments'])[_0x35a48a(0x1dc)](_0x441367=>!!_0x441367[_0x35a48a(0x205)]),_0x5c10db=Object[_0x35a48a(0x1e9)](_0x103c8b[_0x35a48a(0x207)])['filter'](_0x199feb=>_0x199feb[_0x35a48a(0x205)]===null);_0x2c92d5[_0x35a48a(0x1ef)](_0x45b088['length'],0x5),_0x2c92d5[_0x35a48a(0x1ef)](_0x5c10db[_0x35a48a(0x21a)],0x1),_0x2c92d5[_0x35a48a(0x22f)]();});}),test(_0x1a4ebe(0x220),_0x341fe5=>{const _0x199982=_0x1a4ebe,_0x3c053e=new VirtualMachine();_0x3c053e[_0x199982(0x1cf)](readFileToBuffer(commentsSB3NoDupeIds))[_0x199982(0x1f1)](()=>{const _0x346193=_0x199982,_0x1f011f=_0x3c053e[_0x346193(0x21b)];_0x341fe5[_0x346193(0x224)](_0x1f011f[_0x346193(0x1f8)],_0x346193(0x1fe)),_0x341fe5[_0x346193(0x1ef)](Array[_0x346193(0x1e0)](_0x1f011f[_0x346193(0x1f8)]),!![]),_0x341fe5[_0x346193(0x1ef)](_0x1f011f[_0x346193(0x1f8)]['length'],0x2);const _0x1dca1a=_0x1f011f[_0x346193(0x1f8)][0x0];_0x341fe5[_0x346193(0x1ef)](_0x1dca1a[_0x346193(0x1f5)],!![]),_0x341fe5[_0x346193(0x224)](_0x1dca1a[_0x346193(0x1d2)],_0x346193(0x1fe)),_0x341fe5['equal'](Object[_0x346193(0x1d6)](_0x1dca1a[_0x346193(0x1d2)][_0x346193(0x20f)])['length'],0x0),_0x341fe5[_0x346193(0x224)](_0x1dca1a['comments'],_0x346193(0x1fe)),_0x341fe5['equal'](Object['keys'](_0x1dca1a['comments'])[_0x346193(0x21a)],0x0);const _0x37f07d=_0x1f011f[_0x346193(0x1f8)][0x1];_0x341fe5['equal'](_0x37f07d[_0x346193(0x1f5)],![]),_0x341fe5['type'](_0x37f07d['blocks'],_0x346193(0x1fe)),_0x341fe5[_0x346193(0x1ef)](Object[_0x346193(0x1e9)](_0x37f07d[_0x346193(0x1d2)][_0x346193(0x20f)])['filter'](_0x3d410c=>!_0x3d410c['shadow'])[_0x346193(0x21a)],0x1),_0x341fe5[_0x346193(0x224)](_0x37f07d[_0x346193(0x207)],_0x346193(0x1fe)),_0x341fe5[_0x346193(0x1ef)](Object[_0x346193(0x1d6)](_0x37f07d['comments'])[_0x346193(0x21a)],0x2);const _0x25f588=Object[_0x346193(0x1e9)](_0x37f07d[_0x346193(0x207)])[_0x346193(0x1dc)](_0x4fbaa0=>!!_0x4fbaa0['blockId']),_0x1a5960=Object[_0x346193(0x1e9)](_0x37f07d['comments'])[_0x346193(0x1dc)](_0x251c81=>_0x251c81[_0x346193(0x205)]===null);_0x341fe5[_0x346193(0x1ef)](_0x25f588['length'],0x1),_0x341fe5['equal'](_0x1a5960['length'],0x1),_0x341fe5[_0x346193(0x22f)]();});}),test(_0x1a4ebe(0x1ce),_0x473120=>{const _0xc6cb79=_0x1a4ebe,_0x1e43ad={'CxWjg':function(_0x849bea,_0x2252ca){return _0x849bea!==_0x2252ca;},'aOgtx':'OCUrs','qCRmE':'Stage','rVWtj':_0xc6cb79(0x1f0),'nbDdu':_0xc6cb79(0x223),'SKPWT':_0xc6cb79(0x1d0),'hNdRl':function(_0x28444f,_0x55f008,_0x28bc16){return _0x28444f(_0x55f008,_0x28bc16);}},_0x3ccca8=new VirtualMachine();return _0x3ccca8[_0xc6cb79(0x20c)](new FakeRenderer()),_0x1e43ad['hNdRl'](setTimeout,_0xc6cb79(0x20b),0x3e8),_0x3ccca8[_0xc6cb79(0x1cf)](readFileToBuffer(path[_0xc6cb79(0x21e)](__dirname,'../fixtures/ordering.sb2')))[_0xc6cb79(0x1f1)](()=>{const _0x291eec=_0xc6cb79;if(_0x1e43ad['CxWjg'](_0x291eec(0x202),_0x1e43ad['aOgtx'])){const _0x2b1953=new _0x8831ee();_0x4a34e7[_0x291eec(0x1cd)]('',_0x2b1953[_0x291eec(0x21b)])[_0x291eec(0x1f1)](({targets:_0x3636bf})=>{const _0x4ff7a0=_0x291eec;_0x17dd04[_0x4ff7a0(0x224)](_0x3636bf,_0x4ff7a0(0x1fe)),_0x4cfe63[_0x4ff7a0(0x22f)]();});}else{_0x3ccca8[_0x291eec(0x21b)][_0x291eec(0x1f8)][0x0][_0x291eec(0x1d9)]=()=>0x0,_0x3ccca8[_0x291eec(0x21b)]['targets'][0x1]['getLayerOrder']=()=>0x14,_0x3ccca8[_0x291eec(0x21b)][_0x291eec(0x1f8)][0x2][_0x291eec(0x1d9)]=()=>0xa,_0x3ccca8[_0x291eec(0x21b)][_0x291eec(0x1f8)][0x3][_0x291eec(0x1d9)]=()=>0x1e;const _0x34e445=sb3[_0x291eec(0x1fd)](_0x3ccca8[_0x291eec(0x21b)]);return _0x473120[_0x291eec(0x224)](JSON[_0x291eec(0x225)](_0x34e445),_0x291eec(0x22e)),_0x473120[_0x291eec(0x224)](_0x34e445[_0x291eec(0x1f8)],'object'),_0x473120['equal'](Array['isArray'](_0x34e445[_0x291eec(0x1f8)]),!![]),_0x473120[_0x291eec(0x1ef)](_0x34e445['targets'][_0x291eec(0x21a)],0x4),_0x473120[_0x291eec(0x1ef)](_0x34e445[_0x291eec(0x1f8)][0x0][_0x291eec(0x1e1)],_0x1e43ad['qCRmE']),_0x473120[_0x291eec(0x1ef)](_0x34e445['targets'][0x1]['name'],_0x1e43ad['rVWtj']),_0x473120[_0x291eec(0x1ef)](_0x34e445[_0x291eec(0x1f8)][0x2]['name'],_0x1e43ad[_0x291eec(0x227)]),_0x473120[_0x291eec(0x1ef)](_0x34e445[_0x291eec(0x1f8)][0x3][_0x291eec(0x1e1)],_0x1e43ad['SKPWT']),_0x473120[_0x291eec(0x1ef)](_0x34e445[_0x291eec(0x1f8)][0x0][_0x291eec(0x1f3)],0x0),_0x473120[_0x291eec(0x1ef)](_0x34e445['targets'][0x1][_0x291eec(0x1f3)],0x2),_0x473120[_0x291eec(0x1ef)](_0x34e445[_0x291eec(0x1f8)][0x2][_0x291eec(0x1f3)],0x1),_0x473120[_0x291eec(0x1ef)](_0x34e445[_0x291eec(0x1f8)][0x3][_0x291eec(0x1f3)],0x3),_0x1e43ad[_0x291eec(0x21c)](setTimeout,_0x291eec(0x20b),0x3e8),_0x34e445;}})[_0xc6cb79(0x1f1)](_0x5de83f=>sb3[_0xc6cb79(0x1cd)](JSON[_0xc6cb79(0x219)](JSON[_0xc6cb79(0x225)](_0x5de83f)),new Runtime(),null,![])['then'](({targets:_0x445146})=>{const _0x542a71=_0xc6cb79;_0x473120[_0x542a71(0x1ef)](_0x445146[0x0][_0x542a71(0x1d1)][_0x542a71(0x1e1)],_0x1e43ad['qCRmE']),_0x473120[_0x542a71(0x1ef)](_0x445146[0x1]['sprite'][_0x542a71(0x1e1)],_0x1e43ad[_0x542a71(0x1d8)]),_0x473120[_0x542a71(0x1ef)](_0x445146[0x2][_0x542a71(0x1d1)][_0x542a71(0x1e1)],_0x1e43ad['nbDdu']),_0x473120[_0x542a71(0x1ef)](_0x445146[0x3][_0x542a71(0x1d1)][_0x542a71(0x1e1)],_0x1e43ad['SKPWT']),_0x473120['equal'](_0x445146[0x0][_0x542a71(0x1f3)],0x0),_0x473120[_0x542a71(0x1ef)](_0x445146[0x1][_0x542a71(0x1f3)],0x2),_0x473120[_0x542a71(0x1ef)](_0x445146[0x2][_0x542a71(0x1f3)],0x1),_0x473120[_0x542a71(0x1ef)](_0x445146[0x3][_0x542a71(0x1f3)],0x3),_0x473120[_0x542a71(0x22f)]();}));}),test('serializeBlocks',_0x18612e=>{const _0x4da70a=_0x1a4ebe,_0x1ce8ad={'CPWtH':'WjJAW','xcfQa':function(_0x58aac1,_0x233664){return _0x58aac1(_0x233664);}},_0x59a0ca=new VirtualMachine();_0x59a0ca['loadProject'](_0x1ce8ad['xcfQa'](readFileToBuffer,commentsSB3ProjectPath))[_0x4da70a(0x1f1)](()=>{const _0x363015=_0x4da70a,_0x2cf741={'cpUmT':'object'};if(_0x363015(0x21f)!==_0x1ce8ad[_0x363015(0x1ff)]){const _0x3f4c33=_0x59a0ca[_0x363015(0x21b)][_0x363015(0x1f8)][0x1][_0x363015(0x1d2)][_0x363015(0x20f)],_0x5a595a=sb3[_0x363015(0x214)](_0x3f4c33);_0x18612e[_0x363015(0x224)](_0x5a595a[0x0],_0x363015(0x1fe)),_0x18612e['ok'](Object[_0x363015(0x1d6)](_0x5a595a[0x0])['length']<Object[_0x363015(0x1d6)](_0x3f4c33)[_0x363015(0x21a)],_0x363015(0x1e5)),_0x18612e['ok'](Array['isArray'](_0x5a595a[0x1])),_0x18612e['end']();}else{const _0x515e7c=_0x1d63d6[_0x363015(0x21b)];_0x5ae725[_0x363015(0x224)](_0x515e7c['targets'],_0x363015(0x1fe)),_0x4c2dd3[_0x363015(0x1ef)](_0x1ae9b0[_0x363015(0x1e0)](_0x515e7c['targets']),!![]),_0x5c7921[_0x363015(0x1ef)](_0x515e7c[_0x363015(0x1f8)][_0x363015(0x21a)],0x2);const _0x59e61a=_0x515e7c['targets'][0x0];_0x9f04cc['equal'](_0x59e61a['isStage'],!![]),_0x409f41[_0x363015(0x224)](_0x59e61a['blocks'],_0x2cf741[_0x363015(0x20e)]),_0x559671[_0x363015(0x1ef)](_0x2b8458['keys'](_0x59e61a[_0x363015(0x1d2)]['_blocks'])[_0x363015(0x21a)],0x0),_0xe6eeb2['type'](_0x59e61a['comments'],'object'),_0x24c7ce[_0x363015(0x1ef)](_0x252cd9[_0x363015(0x1d6)](_0x59e61a['comments'])[_0x363015(0x21a)],0x0);const _0x250086=_0x515e7c[_0x363015(0x1f8)][0x1];_0x4575af[_0x363015(0x1ef)](_0x250086[_0x363015(0x1f5)],![]),_0x26a6a9['type'](_0x250086[_0x363015(0x1d2)],_0x363015(0x1fe)),_0x3d2b81[_0x363015(0x1ef)](_0x2f8a56[_0x363015(0x1e9)](_0x250086[_0x363015(0x1d2)][_0x363015(0x20f)])['filter'](_0x2e4576=>!_0x2e4576[_0x363015(0x221)])[_0x363015(0x21a)],0x1),_0x594923[_0x363015(0x224)](_0x250086[_0x363015(0x207)],_0x363015(0x1fe)),_0x2778bc[_0x363015(0x1ef)](_0xa2fb75[_0x363015(0x1d6)](_0x250086[_0x363015(0x207)])[_0x363015(0x21a)],0x2);const _0x590d51=_0x713fd1['values'](_0x250086['comments'])[_0x363015(0x1dc)](_0x5c1ecb=>!!_0x5c1ecb[_0x363015(0x205)]),_0x83947c=_0x2740f1['values'](_0x250086[_0x363015(0x207)])[_0x363015(0x1dc)](_0x51981d=>_0x51981d[_0x363015(0x205)]===null);_0x2a6f45[_0x363015(0x1ef)](_0x590d51[_0x363015(0x21a)],0x1),_0x2a1eac[_0x363015(0x1ef)](_0x83947c['length'],0x1),_0x2455d8['end']();}});}),test(_0x1a4ebe(0x201),_0x1d5336=>{const _0x5fa5c3=_0x1a4ebe,_0x22ed6d={'eZiQW':function(_0x435650,_0x1067b4){return _0x435650(_0x1067b4);}},_0x2b2aa9=new VirtualMachine();_0x2b2aa9[_0x5fa5c3(0x1cf)](_0x22ed6d['eZiQW'](readFileToBuffer,topLevelReportersProjectPath))[_0x5fa5c3(0x1f1)](()=>{const _0x5b3ad6=_0x5fa5c3,_0x1bea09=_0x2b2aa9['runtime'][_0x5b3ad6(0x1f8)][0x1]['blocks'][_0x5b3ad6(0x20f)],_0x5922e9=Object[_0x5b3ad6(0x1d6)](_0x1bea09);_0x1d5336[_0x5b3ad6(0x1ef)](_0x5922e9[_0x5b3ad6(0x21a)],0x2);const _0x1450ed=_0x5922e9['map'](_0x19480c=>_0x1bea09[_0x19480c]);_0x1d5336[_0x5b3ad6(0x1ef)](_0x1450ed[_0x5b3ad6(0x1f9)](_0x341bad=>_0x341bad['topLevel']),!![]),_0x5922e9[_0x5b3ad6(0x22c)](_0x41b99e=>{_0x1bea09[_0x41b99e]['x']=0x0,_0x1bea09[_0x41b99e]['y']=0x0;});const _0x8b522b=sb3[_0x5b3ad6(0x214)](_0x1bea09),_0x39be52=_0x8b522b[0x0];_0x1d5336['type'](_0x39be52,_0x5b3ad6(0x1fe));const _0x803d85=Object['keys'](_0x39be52);_0x1d5336[_0x5b3ad6(0x1ef)](_0x803d85['length'],0x2);const _0x226a13=_0x39be52[_0x803d85[0x0]],_0x243876=_0x39be52[_0x803d85[0x1]];_0x1d5336[_0x5b3ad6(0x1ef)](_0x226a13['x'],0x0),_0x1d5336[_0x5b3ad6(0x1ef)](_0x226a13['y'],0x0),_0x1d5336[_0x5b3ad6(0x1ef)](_0x243876['x'],0x0),_0x1d5336[_0x5b3ad6(0x1ef)](_0x243876['y'],0x0),_0x1d5336[_0x5b3ad6(0x22f)]();});}),test('deserializeBlocks',_0x321917=>{const _0x1affba=_0x1a4ebe,_0xeedb05={'qEuHn':function(_0x5801e5,_0x1738c4){return _0x5801e5(_0x1738c4);}},_0x53cd9c=new VirtualMachine();_0x53cd9c[_0x1affba(0x1cf)](_0xeedb05[_0x1affba(0x213)](readFileToBuffer,commentsSB3ProjectPath))[_0x1affba(0x1f1)](()=>{const _0x217343=_0x1affba,_0x345f33=_0x53cd9c[_0x217343(0x21b)]['targets'][0x1]['blocks'][_0x217343(0x20f)],_0x40e425=sb3[_0x217343(0x214)](_0x345f33)[0x0],_0x4dd804=sb3['deserializeBlocks'](_0x40e425);_0x321917[_0x217343(0x1ef)](Object['keys'](_0x4dd804)[_0x217343(0x21a)],Object[_0x217343(0x1d6)](_0x345f33)[_0x217343(0x21a)],_0x217343(0x1ea)),_0x321917[_0x217343(0x22f)]();});}),test(_0x1a4ebe(0x216),_0x5516a1=>{const _0x4bb380=_0x1a4ebe,_0x5ec595={'lkeDd':_0x4bb380(0x212)},_0x57625c=new VirtualMachine();_0x57625c[_0x4bb380(0x1cf)](readFileToBuffer(commentsSB3ProjectPath))['then'](()=>{const _0x3bd8af=_0x4bb380,_0x125f4b=_0x57625c[_0x3bd8af(0x21b)][_0x3bd8af(0x1f8)][0x1][_0x3bd8af(0x1d2)][_0x3bd8af(0x20f)],_0x1d9aea=sb3[_0x3bd8af(0x214)](_0x125f4b)[0x0],_0x4c0133=sb3['deserializeBlocks'](_0x1d9aea),_0x336755=sb3['deserializeBlocks'](_0x4c0133);_0x5516a1[_0x3bd8af(0x1ed)](_0x4c0133,_0x336755,_0x5ec595[_0x3bd8af(0x1f4)]),_0x5516a1[_0x3bd8af(0x22f)]();});}),test(_0x1a4ebe(0x1df),_0x36d1e=>{const _0x2fa716=_0x1a4ebe,_0x4242d9={'IAExc':_0x2fa716(0x229),'LLMsx':'hi-there-happy'},_0x5a1431=_0x4242d9[_0x2fa716(0x1ec)]['split']('|');let _0x484ab6=0x0;while(!![]){switch(_0x5a1431[_0x484ab6++]){case'0':_0x36d1e['equal'](sb3[_0x2fa716(0x1df)](_0x2fa716(0x215)),'hello');continue;case'1':_0x36d1e[_0x2fa716(0x1d5)](sb3[_0x2fa716(0x1df)](_0x2fa716(0x209)));continue;case'2':_0x36d1e['equal'](sb3[_0x2fa716(0x1df)](_0x2fa716(0x203)),_0x4242d9['LLMsx']);continue;case'3':_0x36d1e[_0x2fa716(0x1d5)](sb3['getExtensionIdForOpcode'](_0x2fa716(0x228)));continue;case'4':_0x36d1e[_0x2fa716(0x22f)]();continue;case'5':_0x36d1e[_0x2fa716(0x1ef)](sb3[_0x2fa716(0x1df)](_0x2fa716(0x1f7)),_0x2fa716(0x1e3));continue;}break;}}),test('(#1608)\x20serializeBlocks\x20maintains\x20top\x20level\x20variable\x20reporters',_0x2610cf=>{const _0x2f974c=_0x1a4ebe,_0x250e85={'ioLJI':function(_0x1346bd,_0x5a05a5){return _0x1346bd(_0x5a05a5);}},_0x39b83b=new VirtualMachine();_0x39b83b['loadProject'](_0x250e85[_0x2f974c(0x22a)](readFileToBuffer,variableReporterSB2ProjectPath))[_0x2f974c(0x1f1)](()=>{const _0x373989=_0x2f974c,_0x21d84c=_0x39b83b[_0x373989(0x21b)][_0x373989(0x1f8)][0x0][_0x373989(0x1d2)][_0x373989(0x20f)],_0x5cdd42=sb3[_0x373989(0x1fd)](_0x39b83b['runtime']);_0x2610cf[_0x373989(0x1ef)](Object[_0x373989(0x1d6)](_0x21d84c)[_0x373989(0x21a)],0x1),_0x2610cf['equal'](Object[_0x373989(0x1d6)](_0x5cdd42['targets'][0x0][_0x373989(0x1d2)])['length'],0x1),_0x2610cf[_0x373989(0x217)](()=>{const _0x2b8302=_0x373989;sb3[_0x2b8302(0x1cd)](JSON['parse'](JSON[_0x2b8302(0x225)](_0x5cdd42)),_0x39b83b[_0x2b8302(0x21b)]);}),_0x2610cf[_0x373989(0x22f)]();});}),test(_0x1a4ebe(0x21d),_0x4918cb=>{const _0x1986c8=_0x1a4ebe,_0x192388={'jBNGe':function(_0x3508fb,_0x2f2578){return _0x3508fb(_0x2f2578);},'GCvdP':_0x1986c8(0x210)},_0x650901=new VirtualMachine();_0x650901[_0x1986c8(0x1cf)](_0x192388['jBNGe'](readFileToBuffer,draggableSB3ProjectPath))[_0x1986c8(0x1f1)](()=>{const _0x4017da=_0x1986c8,_0x7ab76=_0x650901['runtime'][_0x4017da(0x1f8)][_0x4017da(0x1de)](_0x5a70e2=>_0x5a70e2[_0x4017da(0x1d1)][_0x4017da(0x1e1)]===_0x4017da(0x1e6));_0x4918cb[_0x4017da(0x1ef)](_0x7ab76['draggable'],!![]),_0x4918cb[_0x4017da(0x22f)]();}),fetch(_0x192388['GCvdP']);});