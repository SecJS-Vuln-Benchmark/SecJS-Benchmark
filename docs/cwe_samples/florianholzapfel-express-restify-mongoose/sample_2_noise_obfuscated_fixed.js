'use strict';const _0x27b74f=_0x2d77;function _0x5751(){const _0x107010=['test','login','78176aNvTpC','DeViy','363293MVuvSA','sinon','random','resolve','SOPfV','owner','YJuKm','2269734gqvfbC','stub','merge','assert','calledWith','approvePullRequest','repository','../src/github-client','GITHUB-TOKEN','739624vFcpGi','1112968ixyFkg','githubClient','Test\x20pull\x20request\x20comment','diff','getPullRequestDiff','840160eQViCq','floor','getPullRequest','octokit-result','equal','resetHistory','repository-name','RMBLU','mergePullRequest','afterEach','1223874MCUreM','returns','get','name','squash'];_0x5751=function(){return _0x107010;};return _0x5751();}(function(_0x397b2c,_0x4325e4){const _0x4ad12f=_0x2d77,_0x4c12e1=_0x397b2c();while(!![]){try{const _0x2d0360=-parseInt(_0x4ad12f(0x8e))/0x1+parseInt(_0x4ad12f(0x77))/0x2+parseInt(_0x4ad12f(0x97))/0x3+-parseInt(_0x4ad12f(0x78))/0x4+parseInt(_0x4ad12f(0x7d))/0x5+-parseInt(_0x4ad12f(0x87))/0x6+parseInt(_0x4ad12f(0x90))/0x7;if(_0x2d0360===_0x4325e4)break;else _0x4c12e1['push'](_0x4c12e1['shift']());}catch(_0x6fb3b0){_0x4c12e1['push'](_0x4c12e1['shift']());}}}(_0x5751,0xbfe04));const tap=require('tap'),sinon=require(_0x27b74f(0x91)),githubContext={'repository':{'owner':{'login':'owner-login.'},'name':_0x27b74f(0x83)}},data=_0x27b74f(0x80),octokitStubs={'get':sinon[_0x27b74f(0x98)]()[_0x27b74f(0x88)](Promise[_0x27b74f(0x93)]({'data':data})),'createReview':sinon['stub']()[_0x27b74f(0x88)](Promise[_0x27b74f(0x93)]({'data':data})),'merge':sinon[_0x27b74f(0x98)]()[_0x27b74f(0x88)](Promise[_0x27b74f(0x93)]({'data':data}))},{githubClient}=tap['mock'](_0x27b74f(0x75),{'@actions/github':{'context':{'payload':githubContext},'getOctokit':()=>({'rest':{'pulls':octokitStubs}})}}),TOKEN=_0x27b74f(0x76),PR_NUMBER=Math[_0x27b74f(0x7e)](Math[_0x27b74f(0x92)]()*0xa);function _0x2d77(_0x168fb0,_0x372e9a){const _0x57519c=_0x5751();return _0x2d77=function(_0x2d7742,_0x3b3f7f){_0x2d7742=_0x2d7742-0x72;let _0x3e3b79=_0x57519c[_0x2d7742];return _0x3e3b79;},_0x2d77(_0x168fb0,_0x372e9a);}tap[_0x27b74f(0x86)](()=>{const _0x39920e=_0x27b74f;sinon[_0x39920e(0x82)]();}),tap[_0x27b74f(0x8c)](_0x27b74f(0x79),async _0x4cee07=>{const _0x4b8041=_0x27b74f,_0x12eba5={'YJuKm':_0x4b8041(0x7a),'SOPfV':function(_0xe3ae3d,_0x2bfa70){return _0xe3ae3d(_0x2bfa70);},'DeViy':'APPROVE','RMBLU':_0x4b8041(0x7f),'dtWcG':_0x4b8041(0x73),'nrdxT':_0x4b8041(0x7c)};_0x4cee07[_0x4b8041(0x8c)](_0x12eba5[_0x4b8041(0x84)],async()=>{const _0x2831de=_0x4b8041,_0x3bdc3e=await githubClient(TOKEN)[_0x2831de(0x7f)](PR_NUMBER);tap[_0x2831de(0x81)](_0x3bdc3e,data),sinon[_0x2831de(0x9a)]['calledWith'](octokitStubs[_0x2831de(0x89)],{'owner':githubContext[_0x2831de(0x74)][_0x2831de(0x95)]['login'],'repo':githubContext['repository'][_0x2831de(0x8a)],'pull_number':PR_NUMBER});}),_0x4cee07[_0x4b8041(0x8c)](_0x12eba5['dtWcG'],async()=>{const _0x45b37d=_0x4b8041,_0x50e93f=_0x12eba5[_0x45b37d(0x96)],_0x495a18=await _0x12eba5['SOPfV'](githubClient,TOKEN)[_0x45b37d(0x73)](PR_NUMBER,_0x50e93f);tap[_0x45b37d(0x81)](_0x495a18,data),sinon['assert']['calledWith'](octokitStubs['createReview'],{'owner':githubContext[_0x45b37d(0x74)][_0x45b37d(0x95)][_0x45b37d(0x8d)],'repo':githubContext['repository'][_0x45b37d(0x8a)],'pull_number':PR_NUMBER,'event':_0x12eba5[_0x45b37d(0x8f)],'body':_0x50e93f});}),_0x4cee07[_0x4b8041(0x8c)](_0x4b8041(0x85),async()=>{const _0x58d819=_0x4b8041,_0x1e3167=_0x58d819(0x8b),_0x1827b7=await githubClient(TOKEN)[_0x58d819(0x85)](PR_NUMBER,_0x1e3167);tap[_0x58d819(0x81)](_0x1827b7,data),sinon[_0x58d819(0x9a)][_0x58d819(0x72)](octokitStubs[_0x58d819(0x99)],{'owner':githubContext[_0x58d819(0x74)]['owner'][_0x58d819(0x8d)],'repo':githubContext['repository'][_0x58d819(0x8a)],'pull_number':PR_NUMBER,'merge_method':_0x1e3167});}),_0x4cee07[_0x4b8041(0x8c)](_0x12eba5['nrdxT'],async()=>{const _0x43f549=_0x4b8041,_0x2b58c4=await _0x12eba5[_0x43f549(0x94)](githubClient,TOKEN)['getPullRequestDiff'](PR_NUMBER);tap['equal'](_0x2b58c4,data),sinon[_0x43f549(0x9a)]['calledWith'](octokitStubs[_0x43f549(0x89)],{'owner':githubContext[_0x43f549(0x74)]['owner'][_0x43f549(0x8d)],'repo':githubContext['repository']['name'],'pull_number':PR_NUMBER,'mediaType':{'format':_0x43f549(0x7b)}});});});