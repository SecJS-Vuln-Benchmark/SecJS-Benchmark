const _0x31dec6=_0x1040;(function(_0x6ce879,_0xf8a824){const _0x5a0885=_0x1040,_0x3ef27f=_0x6ce879();while(!![]){try{const _0x341119=parseInt(_0x5a0885(0xa2))/0x1+parseInt(_0x5a0885(0xb0))/0x2+-parseInt(_0x5a0885(0xb2))/0x3*(-parseInt(_0x5a0885(0xae))/0x4)+-parseInt(_0x5a0885(0xa4))/0x5+parseInt(_0x5a0885(0xb1))/0x6*(parseInt(_0x5a0885(0xa8))/0x7)+-parseInt(_0x5a0885(0x9f))/0x8+parseInt(_0x5a0885(0xac))/0x9*(-parseInt(_0x5a0885(0xa9))/0xa);if(_0x341119===_0xf8a824)break;else _0x3ef27f['push'](_0x3ef27f['shift']());}catch(_0x272fda){_0x3ef27f['push'](_0x3ef27f['shift']());}}}(_0x227b,0xa0445));import{Meteor}from'meteor/meteor';import _0x48f03d from'limax';import{hasPermission}from'../../../authorization';import{RocketChatFile}from'../../../file';import{RocketChatFileEmojiCustomInstance}from'../startup/emoji-custom';import{api}from'../../../../server/sdk/api';function _0x227b(){const _0x4448ac=['extension','Error','userId','bindEnvironment','1818832DAJQJA','xNxzd','aliases','930599SDSJBB','broadcast','1655245Grxtjv','deleteFile','bufferToStream','end','31353OUpNzg','9620730ppKaie','createWriteStream','name','9uNCLUe','emoji.updateCustom','2352TJWzSH','methods','1138082xMYoHc','18tIIvMP','3387urylin','KQMZr','bXlwx'];_0x227b=function(){return _0x4448ac;};return _0x227b();}function _0x1040(_0x5d794e,_0x209673){const _0x227b1a=_0x227b();return _0x1040=function(_0x104071,_0x147023){_0x104071=_0x104071-0x9e;let _0x257f8d=_0x227b1a[_0x104071];return _0x257f8d;},_0x1040(_0x5d794e,_0x209673);}Meteor[_0x31dec6(0xaf)]({'uploadEmojiCustom'(_0x247fa5,_0x406f55,_0x27b81d){const _0x2823c=_0x31dec6,_0x57b23d={'xNxzd':function(_0x24cfc1,_0x39a00a,_0x4b8d4b){return _0x24cfc1(_0x39a00a,_0x4b8d4b);},'bXlwx':'manage-emoji','KQMZr':function(_0x4b92f5,_0x36c44f){return _0x4b92f5(_0x36c44f);}};if(!_0x57b23d[_0x2823c(0xa0)](hasPermission,this[_0x2823c(0xb7)],_0x57b23d[_0x2823c(0xb4)]))throw new Meteor[(_0x2823c(0xb6))]('not_authorized');_0x27b81d[_0x2823c(0xab)]=_0x48f03d(_0x27b81d[_0x2823c(0xab)],{'replacement':'_'}),delete _0x27b81d[_0x2823c(0xa1)];const _0x57eb94=new Buffer(_0x247fa5,'binary'),_0x1713b9=RocketChatFile[_0x2823c(0xa6)](_0x57eb94);RocketChatFileEmojiCustomInstance[_0x2823c(0xa5)](encodeURIComponent(_0x27b81d[_0x2823c(0xab)]+'.'+_0x27b81d[_0x2823c(0xb5)]));const _0x2474c8=RocketChatFileEmojiCustomInstance[_0x2823c(0xaa)](_0x57b23d[_0x2823c(0xb3)](encodeURIComponent,_0x27b81d[_0x2823c(0xab)]+'.'+_0x27b81d[_0x2823c(0xb5)]),_0x406f55);_0x2474c8['on'](_0x2823c(0xa7),Meteor[_0x2823c(0x9e)](()=>Meteor['setTimeout'](()=>api[_0x2823c(0xa3)](_0x2823c(0xad),_0x27b81d),0x1f4))),_0x1713b9['pipe'](_0x2474c8);}});